// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(f){function a(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];d[0]=x*E+D*I;d[1]=C*E+k*I;d[2]=x*K+D*t;d[3]=C*K+k*t;return d}function b(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function e(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];d[0]=x*K+D*N;d[1]=C*K+E*N;d[2]=x*Q+D*S;d[3]=C*Q+E*S;d[4]=x*W+D*t+I;d[5]=C*W+E*t+k;return d}function c(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-
t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];return d}function h(){var d=new qa(9);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0);d[0]=1;d[4]=1;d[8]=1;return d}function m(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];d[0]=S*x+W*E+V*N;d[1]=S*C+W*I+V*Q;d[2]=S*D+W*K+V*k;d[3]=ea*x+ia*E+ca*N;d[4]=ea*C+ia*I+ca*Q;d[5]=ea*D+ia*K+ca*k;d[6]=oa*x+la*E+t*N;d[7]=oa*C+la*I+t*Q;d[8]=oa*D+la*K+
t*k;return d}function g(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];return d}function l(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d}function n(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];d[0]=
la*x+ra*I+sa*S+pa*ia;d[1]=la*C+ra*K+sa*W+pa*ca;d[2]=la*D+ra*N+sa*V+pa*oa;d[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];d[4]=la*x+ra*I+sa*S+pa*ia;d[5]=la*C+ra*K+sa*W+pa*ca;d[6]=la*D+ra*N+sa*V+pa*oa;d[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];d[8]=la*x+ra*I+sa*S+pa*ia;d[9]=la*C+ra*K+sa*W+pa*ca;d[10]=la*D+ra*N+sa*V+pa*oa;d[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];d[12]=la*x+ra*I+sa*S+pa*ia;d[13]=la*C+ra*K+sa*W+pa*ca;d[14]=la*D+ra*N+sa*V+pa*oa;d[15]=la*
E+ra*Q+sa*ea+pa*k;return d}function p(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;d[0]=1-(S+D);d[1]=Q+E;d[2]=x-K;d[3]=0;d[4]=Q-E;d[5]=1-(k+D);d[6]=C+I;d[7]=0;d[8]=x+K;d[9]=C-I;d[10]=1-(k+S);d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d}function q(d,k){d[0]=k[12];d[1]=k[13];d[2]=k[14];return d}function u(d,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];d[0]=Math.hypot(k[0],k[1],k[2]);d[1]=Math.hypot(t,x,C);d[2]=Math.hypot(D,
E,I);return d}function w(d,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),d[3]=.25*E,d[0]=(Q-C)/E,d[1]=(x-I)/E,d[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),d[3]=(Q-C)/E,d[0]=.25*E,d[1]=(t+K)/E,d[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),d[3]=(x-I)/E,d[0]=(t+K)/E,d[1]=.25*E,d[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),d[3]=(t-K)/E,d[0]=(x+I)/E,d[1]=(Q+C)/E,d[2]=.25*E);return d}function r(d,
k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=(C+x)*t,d[14]=2*C*x*t):(d[10]=-1,d[14]=-2*x);return d}function v(d,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);d[0]=-2*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=2*N;d[11]=0;d[12]=(k+t)*I;d[13]=(C+x)*K;d[14]=(E+D)*N;d[15]=1;return d}function y(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];
d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];d[9]=k[9]-t[9];d[10]=k[10]-t[10];d[11]=k[11]-t[11];d[12]=k[12]-t[12];d[13]=k[13]-t[13];d[14]=k[14]-t[14];d[15]=k[15]-t[15];return d}function A(){var d=new qa(3);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);return d}function G(d){return Math.hypot(d[0],d[1],d[2])}function z(d,k,t){var x=new qa(3);x[0]=d;x[1]=k;x[2]=t;return x}function F(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];return d}function H(d,k,t){d[0]=
k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];return d}function J(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];return d}function M(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2])}function P(d,k){var t=k[0]-d[0],x=k[1]-d[1];d=k[2]-d[2];return t*t+x*x+d*d}function R(d){var k=d[0],t=d[1];d=d[2];return k*k+t*t+d*d}function T(d,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d}function Z(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]}function X(d,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];d[0]=C*t-k*E;d[1]=k*D-x*t;d[2]=x*E-C*D;return d}function ba(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[3]=0);return d}function Y(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k}function va(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C}function ta(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d}function ya(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d}function Na(d,k,t){d[0]=k[0]+t[0];
d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];return d}function Sa(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function Ta(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];d[3]=k[3]*t[3];return d}function Ua(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];d[3]=k[3]/t[3];return d}function Wa(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d}function eb(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2],k[3]-d[3])}function fb(d,k){var t=k[0]-d[0],
x=k[1]-d[1],C=k[2]-d[2];d=k[3]-d[3];return t*t+x*x+C*C+d*d}function Pa(d){return Math.hypot(d[0],d[1],d[2],d[3])}function Va(d){var k=d[0],t=d[1],x=d[2];d=d[3];return k*k+t*t+x*x+d*d}function ib(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=k*D;return d}function Ya(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]+d[3]*k[3]}function vb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-D);d[2]=E+x*(t[2]-E);d[3]=k+
x*(t[3]-k);return d}function wb(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]}function jb(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);d[3]=1;return d}function xb(d,k,t){t*=.5;var x=Math.sin(t);d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=Math.cos(t);return d}function yb(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];d[0]=x*t+k*E+C*K-D*I;d[1]=C*t+k*I+D*E-x*K;d[2]=D*t+k*K+x*I-C*E;d[3]=k*t-x*E-C*I-D*K;return d}function zb(d,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+k*E;d[1]=C*t+D*E;d[2]=D*t-C*E;d[3]=k*t-x*E;return d}function Ab(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t-D*E;d[1]=C*t+k*E;d[2]=D*t+x*E;d[3]=k*t-C*E;return d}function Bb(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+C*E;d[1]=C*t-x*E;d[2]=D*t+k*E;d[3]=k*t-D*E;return d}function Cb(d,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;d[0]=t*E;d[1]=x*E;d[2]=C*E;d[3]=k*Math.cos(D);return d}function Db(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=.5*Math.log(t*t+x*x+C*C+k*k);return d}function kb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=C*I+D*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;d[0]=Q*C+x*
I;d[1]=Q*D+x*K;d[2]=Q*E+x*N;d[3]=Q*k+x*t;return d}function Eb(d,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),d[3]=.5*t,t=.5/t,d[0]=(k[5]-k[7])*t,d[1]=(k[6]-k[2])*t,d[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);d[x]=.5*t;t=.5/t;d[3]=(k[3*C+D]-k[3*D+C])*t;d[C]=(k[3*C+x]+k[3*x+C])*t;d[D]=(k[3*D+x]+k[3*x+D])*t}return d}function Fb(d,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];d[0]=D;
d[1]=E;d[2]=I;d[3]=k;d[4]=x*k+C*I-t*E;d[5]=C*k+t*D-x*I;d[6]=t*k+x*E-C*D;d[7]=-x*D-C*E-t*I;return d}function Gb(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];return d}function lb(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];d[0]=x*t+E*ea+C*ca-D*ia;d[1]=C*t+E*ia+D*ea-x*ca;d[2]=D*t+E*ca+x*ia-C*ea;d[3]=E*t-x*ea-C*ia-D*ca;d[4]=x*Q+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;d[5]=C*Q+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;d[6]=D*Q+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;d[7]=E*Q-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return d}function Xa(){var d=new qa(2);qa!=Float32Array&&(d[0]=0,d[1]=0);return d}function mb(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];return d}function nb(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];return d}function Za(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];return d}function ob(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1])}function Qa(d,k){var t=k[0]-d[0];d=k[1]-d[1];return t*t+d*d}function pb(d){return Math.hypot(d[0],
d[1])}function qb(d){var k=d[0];d=d[1];return k*k+d*d}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var d=0,k=arguments.length;k--;)d+=arguments[k]*arguments[k];return Math.sqrt(d)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Yca(){return qa},Iga:Ma,Xca:"zyx",Nma:function(d){qa=d},Xma:function(d){return d*Mb},$c:function(d,k){return Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var d=new qa(4);qa!=Float32Array&&(d[1]=0,d[2]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d},Pv:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;return d},nf:function(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C},set:function(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d},fU:function(d,k){if(d===k){var t=k[1];d[1]=k[2];d[2]=t}else d[0]=k[0],
d[1]=k[2],d[2]=k[1],d[3]=k[3];return d},Hr:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;d[0]=k*D;d[1]=-x*D;d[2]=-C*D;d[3]=t*D;return d},XS:function(d,k){var t=k[0];d[0]=k[3];d[1]=-k[1];d[2]=-k[2];d[3]=t;return d},QI:function(d){return d[0]*d[3]-d[2]*d[1]},multiply:a,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+D*E;d[1]=C*t+k*E;d[2]=x*-E+D*t;d[3]=C*-E+k*t;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];d[0]=k[0]*E;d[1]=x*E;d[2]=C*t;d[3]=D*t;return d},pB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;return d},UI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=k[1];return d},Fl:function(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},TI:function(d){return Math.hypot(d[0],d[1],d[2],d[3])},ofa:function(d,k,t,x){d[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-d[2]*t[1];return[d,k,t]},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+
t[3];return d},Gl:b,Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]},$c:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},iJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d},jJ:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},Zm:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var d=new qa(6);qa!=Float32Array&&(d[1]=0,d[2]=0,d[4]=0,d[5]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(6);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];return d},Pv:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d},nf:function(d,
k,t,x,C,D){var E=new qa(6);E[0]=d;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(d,k,t,x,C,D,E){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;return d},Hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;d[0]=D*I;d[1]=-x*I;d[2]=-C*I;d[3]=t*I;d[4]=(C*k-D*E)*I;d[5]=(x*E-t*k)*I;return d},QI:function(d){return d[0]*d[3]-d[1]*d[2]},multiply:e,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);d[0]=
x*t+D*K;d[1]=C*t+E*K;d[2]=x*-K+D*t;d[3]=C*-K+E*t;d[4]=I;d[5]=k;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];d[0]=k[0]*K;d[1]=x*K;d[2]=C*t;d[3]=D*t;d[4]=E;d[5]=I;return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=x*K+D*t+I;d[5]=C*K+E*t+k;return d},pB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;d[4]=0;d[5]=0;return d},UI:function(d,k){d[0]=k[0];d[1]=
0;d[2]=0;d[3]=k[1];d[4]=0;d[5]=0;return d},VI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=k[0];d[5]=k[1];return d},Fl:function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"},TI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],1)},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];return d},Gl:c,iJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;return d},
jJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;return d},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]},$c:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4];d=d[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Zm:e,sub:c}),Qb=Object.freeze({__proto__:null,create:h,zba:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[4];d[4]=k[5];d[5]=k[6];d[6]=k[8];d[7]=k[9];d[8]=k[10];return d},clone:function(d){var k=new qa(9);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=d[8];return k},la:function(d,
k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},nf:function(d,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=d;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(d,k,t,x,C,D,E,I,K,N){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;d[8]=N;return d},Pv:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},fU:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[5];d[1]=k[3];d[2]=k[6];d[3]=t;d[5]=
k[7];d[6]=x;d[7]=C}else d[0]=k[0],d[1]=k[3],d[2]=k[6],d[3]=k[1],d[4]=k[4],d[5]=k[7],d[6]=k[2],d[7]=k[5],d[8]=k[8];return d},Hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;d[0]=Q*V;d[1]=(-k*x+C*N)*V;d[2]=(I*x-C*E)*V;d[3]=S*V;d[4]=(k*t-C*K)*V;d[5]=(-I*t+C*D)*V;d[6]=W*V;d[7]=(-N*t+x*K)*V;d[8]=(E*t-x*D)*V;return d},XS:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];d[0]=E*k-I*N;d[1]=C*N-x*k;d[2]=x*I-C*E;d[3]=I*K-D*k;d[4]=t*k-C*K;d[5]=C*D-t*I;d[6]=D*N-E*K;d[7]=x*K-t*N;d[8]=t*E-x*D;return d},QI:function(d){var k=d[3],t=d[4],x=d[5],C=d[6],D=d[7],E=d[8];return d[0]*(E*t-x*D)+d[1]*(-E*k+x*C)+d[2]*(D*k-t*C)},multiply:m,translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=I;d[5]=K;d[6]=S*x+t*E+N;d[7]=S*C+t*I+Q;d[8]=S*D+t*K+k;return d},rotate:function(d,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);d[0]=t*x+S*E;d[1]=t*C+S*I;d[2]=t*D+S*K;d[3]=t*E-S*x;d[4]=t*I-S*C;d[5]=t*K-S*D;d[6]=N;d[7]=Q;d[8]=k;return d},scale:function(d,k,t){var x=t[0];t=t[1];d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=t*k[3];d[4]=t*k[4];d[5]=t*k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},VI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=k[0];d[7]=k[1];d[8]=1;return d},pB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=
t;d[2]=0;d[3]=-t;d[4]=k;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},UI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=k[1];d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},Eka:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=0;d[3]=k[2];d[4]=k[3];d[5]=0;d[6]=k[4];d[7]=k[5];d[8]=1;return d},Aba:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;d[0]=1-x-C;d[3]=K-k;d[6]=N+E;d[1]=K+k;d[4]=1-t-C;d[7]=Q-D;d[2]=N-E;d[5]=Q+D;d[8]=1-t-x;return d},Qla:function(d,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;d[0]=(I*W-K*S+N*Ca)*V;d[1]=(K*Q-E*W-N*Ba)*V;d[2]=(E*S-I*Q+N*Aa)*V;d[3]=(C*S-x*W-D*Ca)*V;d[4]=(t*W-C*Q+D*Ba)*V;d[5]=(x*Q-t*S-D*Aa)*V;d[6]=(ia*za-ca*pa+k*sa)*V;d[7]=(ca*ra-
ea*za-k*la)*V;d[8]=(ea*pa-ia*ra+k*oa)*V;return d},LT:function(d,k,t){d[0]=2/k;d[1]=0;d[2]=0;d[3]=0;d[4]=-2/t;d[5]=0;d[6]=-1;d[7]=1;d[8]=1;return d},Fl:function(d){return"mat3("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+")"},TI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];
return d},Gl:g,iJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;return d},jJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;return d},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]},$c:function(d,k){var t=d[0],
x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6],N=d[7];d=d[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Zm:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var d=new qa(16);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0);d[0]=1;d[5]=1;d[10]=1;d[15]=1;return d},clone:function(d){var k=new qa(16);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=
d[8];k[9]=d[9];k[10]=d[10];k[11]=d[11];k[12]=d[12];k[13]=d[13];k[14]=d[14];k[15]=d[15];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];d[9]=k[9];d[10]=k[10];d[11]=k[11];d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=k[15];return d},nf:function(d,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=d;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(d,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia,ca){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;d[8]=N;d[9]=Q;d[10]=S;d[11]=W;d[12]=V;d[13]=ea;d[14]=ia;d[15]=ca;return d},Pv:l,fU:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];d[1]=k[4];d[2]=k[8];d[3]=k[12];d[4]=t;d[6]=k[9];d[7]=k[13];d[8]=x;d[9]=D;d[11]=k[14];d[12]=C;d[13]=E;d[14]=I}else d[0]=k[0],d[1]=k[4],d[2]=k[8],d[3]=k[12],d[4]=k[1],d[5]=k[5],d[6]=k[9],d[7]=k[13],d[8]=k[2],d[9]=k[6],d[10]=k[10],d[11]=k[14],
d[12]=k[3],d[13]=k[7],d[14]=k[11],d[15]=k[15];return d},Hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;d[0]=(I*Ka-K*Ja+N*Fa)*Da;d[1]=(C*Ja-x*Ka-D*Fa)*Da;d[2]=(ia*za-ca*pa+k*sa)*Da;d[3]=(W*pa-S*za-
V*sa)*Da;d[4]=(K*Ca-E*Ka-N*Ba)*Da;d[5]=(t*Ka-C*Ca+D*Ba)*Da;d[6]=(ca*ra-ea*za-k*la)*Da;d[7]=(Q*za-W*ra+V*la)*Da;d[8]=(E*Ja-I*Ca+N*Aa)*Da;d[9]=(x*Ca-t*Ja-D*Aa)*Da;d[10]=(ea*pa-ia*ra+k*oa)*Da;d[11]=(S*ra-Q*pa-V*oa)*Da;d[12]=(I*Ba-E*Fa-K*Aa)*Da;d[13]=(t*Fa-x*Ba+C*Aa)*Da;d[14]=(ia*la-ea*sa-ca*oa)*Da;d[15]=(Q*sa-S*la+W*oa)*Da;return d},XS:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;d[0]=I*Ka-K*Ja+N*Fa;d[1]=C*Ja-x*Ka-D*Fa;d[2]=ia*za-ca*pa+k*sa;d[3]=W*pa-S*za-V*sa;d[4]=K*Ca-E*Ka-N*Ba;d[5]=t*Ka-C*Ca+D*Ba;d[6]=ca*ra-ea*za-k*la;d[7]=Q*za-W*ra+V*la;d[8]=E*Ja-I*Ca+N*Aa;d[9]=x*Ca-t*Ja-D*Aa;d[10]=ea*pa-ia*ra+k*oa;d[11]=S*ra-Q*pa-V*oa;d[12]=I*Ba-E*Fa-K*Aa;d[13]=t*Fa-x*Ba+C*Aa;d[14]=ia*la-ea*sa-ca*oa;d[15]=Q*sa-S*la+W*oa;return d},QI:function(d){var k=d[0],t=d[1],x=d[2],
C=d[4],D=d[5],E=d[6],I=d[8],K=d[9],N=d[10],Q=d[12],S=d[13],W=d[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return d[7]*(k*la-t*oa+x*ca)-d[3]*(C*la-D*oa+E*ca)+d[15]*(I*ia-K*ea+N*V)-d[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(d,k,t){var x=t[0],C=t[1];t=t[2];if(k===d)d[12]=k[0]*x+k[4]*C+k[8]*t+k[12],d[13]=k[1]*x+k[5]*C+k[9]*t+k[13],d[14]=k[2]*x+k[6]*C+k[10]*t+k[14],d[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];d[0]=D;d[1]=E;d[2]=I;d[3]=K;d[4]=N;d[5]=Q;d[6]=S;d[7]=W;d[8]=V;d[9]=ea;d[10]=ia;d[11]=ca;d[12]=D*x+N*C+V*t+k[12];d[13]=E*x+Q*C+ea*t+k[13];d[14]=I*x+S*C+ia*t+k[14];d[15]=K*x+W*C+ca*t+k[15]}return d},scale:function(d,k,t){var x=t[0],C=t[1];t=t[2];d[0]=k[0]*x;d[1]=k[1]*x;d[2]=k[2]*x;d[3]=k[3]*x;d[4]=k[4]*C;d[5]=k[5]*C;d[6]=k[6]*C;d[7]=k[7]*C;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=
k[15];return d},rotate:function(d,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;d[0]=t*sa+W*pa+ca*za;d[1]=E*sa+V*pa+oa*za;d[2]=Q*sa+ea*
pa+la*za;d[3]=S*sa+ia*pa+ra*za;d[4]=t*Aa+W*Ba+ca*Ca;d[5]=E*Aa+V*Ba+oa*Ca;d[6]=Q*Aa+ea*Ba+la*Ca;d[7]=S*Aa+ia*Ba+ra*Ca;d[8]=t*Fa+W*C+ca*D;d[9]=E*Fa+V*C+oa*D;d[10]=Q*Fa+ea*C+la*D;d[11]=S*Fa+ia*C+ra*D;k!==d&&(d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);return d},sJ:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==d&&(d[0]=k[0],d[1]=k[1],d[2]=k[2],d[3]=k[3],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[4]=C*t+K*x;d[5]=D*t+N*x;d[6]=
E*t+Q*x;d[7]=I*t+S*x;d[8]=K*t-C*x;d[9]=N*t-D*x;d[10]=Q*t-E*x;d[11]=S*t-I*x;return d},tJ:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==d&&(d[4]=k[4],d[5]=k[5],d[6]=k[6],d[7]=k[7],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t-K*x;d[1]=D*t-N*x;d[2]=E*t-Q*x;d[3]=I*t-S*x;d[8]=C*x+K*t;d[9]=D*x+N*t;d[10]=E*x+Q*t;d[11]=I*x+S*t;return d},uJ:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==d&&(d[8]=k[8],d[9]=k[9],d[10]=k[10],d[11]=k[11],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t+K*x;d[1]=D*t+N*x;d[2]=E*t+Q*x;d[3]=I*t+S*x;d[4]=K*t-C*x;d[5]=N*t-D*x;d[6]=Q*t-E*x;d[7]=S*t-I*x;return d},VI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=k[0];d[13]=k[1];d[14]=k[2];d[15]=1;return d},UI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k[1];d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=k[2];d[11]=0;
d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},pB:function(d,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;d[0]=x*x*E+k;d[1]=C*x*E+t*D;d[2]=t*x*E-C*D;d[3]=0;d[4]=x*C*E-t*D;d[5]=C*C*E+k;d[6]=t*C*E+x*D;d[7]=0;d[8]=x*t*E+C*D;d[9]=C*t*E-x*D;d[10]=t*t*E+k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Kka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=t;d[7]=0;d[8]=0;d[9]=
-t;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Lka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=0;d[2]=-t;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=t;d[9]=0;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Mka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=0;d[3]=0;d[4]=-t;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Bba:p,Gka:function(d,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*C-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-I*D),t[2]=2*(N*E+Q*D+I*C-K*x));p(d,k,t);return d},Eba:q,Xka:u,Wka:w,rka:function(d,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),d[3]=.25*x,d[0]=(N-k)/x,d[1]=(Q-E)/x,d[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),d[3]=(N-k)/x,d[0]=.25*x,d[1]=(D+I)/x,d[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),d[3]=(Q-E)/x,d[0]=(D+I)/x,d[1]=.25*x,d[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),d[3]=(D-I)/x,d[0]=(Q+E)/x,d[1]=(N+k)/x,d[2]=.25*x);return d},Hka:function(d,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];d[0]=(1-(W+E))*Q;
d[1]=(S+I)*Q;d[2]=(C-N)*Q;d[3]=0;d[4]=(S-I)*V;d[5]=(1-(k+E))*V;d[6]=(D+K)*V;d[7]=0;d[8]=(C+N)*x;d[9]=(D-K)*x;d[10]=(1-(k+W))*x;d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d},Ika:function(d,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,Q=E+E,S=I+I;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+D))*S;d[0]=N;d[1]=la;d[2]=
ca;d[3]=0;d[4]=W;d[5]=ea;d[6]=oa;d[7]=0;d[8]=V;d[9]=E;d[10]=k;d[11]=0;d[12]=t[0]+x-(N*x+W*K+V*C);d[13]=t[1]+K-(la*x+ea*K+E*C);d[14]=t[2]+C-(ca*x+oa*K+k*C);d[15]=1;return d},Aba:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;d[0]=1-x-C;d[1]=K+k;d[2]=N-E;d[3]=0;d[4]=K-k;d[5]=1-t-C;d[6]=Q+D;d[7]=0;d[8]=N+E;d[9]=Q-D;d[10]=1-t-x;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Cba:function(d,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);d[0]=2*D*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*D*K;d[6]=0;d[7]=0;d[8]=(t+k)*I;d[9]=(C+x)*K;d[10]=(E+D)*N;d[11]=-1;d[12]=0;d[13]=0;d[14]=E*D*2*N;d[15]=0;return d},ama:r,perspective:r,bma:function(d,k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=C*t,d[14]=C*x*t):(d[10]=-1,d[14]=-x);return d},$la:function(d,k,t,x){var C=Math.tan(k.dna*Math.PI/180),D=Math.tan(k.tka*Math.PI/
180),E=Math.tan(k.Ela*Math.PI/180);k=Math.tan(k.xma*Math.PI/180);var I=2/(E+k),K=2/(C+D);d[0]=I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=K;d[6]=0;d[7]=0;d[8]=-((E-k)*I*.5);d[9]=(C-D)*K*.5;d[10]=x/(t-x);d[11]=-1;d[12]=0;d[13]=0;d[14]=x*t/(t-x);d[15]=0;return d},Yla:v,kca:v,Zla:function(d,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);d[0]=-2*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=E;d[11]=0;d[12]=(k+t)*I;d[13]=(C+x)*K;d[14]=D*E;d[15]=1;return d},$ba:function(d,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(d);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;d[0]=Q;d[1]=I;d[2]=t;d[3]=0;d[4]=K;d[5]=W;d[6]=x;d[7]=0;d[8]=E;d[9]=V;d[10]=N;d[11]=0;d[12]=-(Q*C+K*D+E*k);d[13]=
-(I*C+W*D+V*k);d[14]=-(t*C+x*D+N*k);d[15]=1;return d},Tma:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);d[0]=S;d[1]=K;d[2]=E;d[3]=0;d[4]=N*E-t*K;d[5]=t*S-x*E;d[6]=x*K-N*S;d[7]=0;d[8]=x;d[9]=N;d[10]=t;d[11]=0;d[12]=C;d[13]=D;d[14]=k;d[15]=1;return d},Fl:function(d){return"mat4("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+", "+d[9]+", "+d[10]+", "+d[11]+", "+d[12]+", "+d[13]+", "+d[14]+", "+d[15]+")"},TI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];d[9]=k[9]+t[9];d[10]=k[10]+t[10];d[11]=k[11]+t[11];d[12]=k[12]+t[12];d[13]=k[13]+t[13];
d[14]=k[14]+t[14];d[15]=k[15]+t[15];return d},Gl:y,iJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12]*t;d[13]=k[13]*t;d[14]=k[14]*t;d[15]=k[15]*t;return d},jJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;d[9]=k[9]+t[9]*x;d[10]=k[10]+t[10]*x;d[11]=
k[11]+t[11]*x;d[12]=k[12]+t[12]*x;d[13]=k[13]+t[13]*x;d[14]=k[14]+t[14]*x;d[15]=k[15]+t[15]*x;return d},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]&&d[9]===k[9]&&d[10]===k[10]&&d[11]===k[11]&&d[12]===k[12]&&d[13]===k[13]&&d[14]===k[14]&&d[15]===k[15]},$c:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6],N=d[7],Q=d[8],S=d[9],W=d[10],V=d[11],ea=d[12],ia=d[13],ca=d[14];d=d[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Zm:n,sub:y}),rb=function(){var d=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(d){var k=new qa(3);k[0]=d[0];k[1]=d[1];k[2]=d[2];return k},length:G,nf:z,la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];return d},set:function(d,k,
t,x){d[0]=k;d[1]=t;d[2]=x;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];return d},Gl:F,multiply:H,Al:J,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],
t[2]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d},vJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;return d},Mv:M,ZT:P,BB:R,FT:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];return d},normalize:T,Wm:Z,OI:X,Nd:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-
D);d[2]=k+x*(t[2]-k);return d},Bca:function(d,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;d[0]=E*k[0]+x*t[0];d[1]=E*k[1]+x*t[1];d[2]=E*k[2]+x*t[2];return d},ala:function(d,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);d[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;d[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;d[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return d},aka:function(d,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;d[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;d[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;d[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;d[0]=Math.cos(t)*C;d[1]=Math.sin(t)*C;d[2]=x*k;return d},CJ:function(d,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;d[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;d[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;d[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return d},Lca:function(d,k,t){var x=k[0],C=k[1];k=k[2];d[0]=x*t[0]+C*t[3]+
k*t[6];d[1]=x*t[1]+C*t[4]+k*t[7];d[2]=x*t[2]+C*t[5]+k*t[8];return d},Mca:function(d,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,Q=x*I-C*E;t=2*t[3];d[0]=E+K*t+2*(C*Q-D*N);d[1]=I+N*t+2*(D*K-x*Q);d[2]=k+Q*t+2*(x*N-C*K);return d},sJ:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},tJ:function(d,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},uJ:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},angle:function(d,k){var t=d[0],x=d[1],C=d[2],D=k[0],E=k[1],I=k[2];d=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(d,k)/t;return Math.acos(Math.min(Math.max(d,-1),1))},qU:function(d){d[0]=0;d[1]=0;d[2]=0;return d},Fl:function(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]},$c:function(d,k){var t=d[0],x=d[1];d=d[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:F,
Zm:H,lT:J,jT:M,YT:P,Uv:G,AB:R,forEach:rb});var sb=function(){var d=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],d[3]=k[x+3],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2],k[x+3]=d[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,nf:va,la:ta,set:ya,add:Na,Gl:Sa,multiply:Ta,Al:Ua,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);d[3]=Math.ceil(k[3]);return d},floor:function(d,
k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);d[3]=Math.floor(k[3]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);d[3]=Math.min(k[3],t[3]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],t[2]);d[3]=Math.max(k[3],t[3]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);d[3]=Math.round(k[3]);return d},scale:Wa,vJ:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},Mv:eb,ZT:fb,length:Pa,BB:Va,FT:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=-k[3];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];d[3]=1/k[3];return d},normalize:ib,Wm:Ya,OI:function(d,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];d[0]=N*t-Q*K+k*I;d[1]=-(x*t)+
Q*E-k*D;d[2]=x*K-N*E+k*C;d[3]=-(x*I)+N*D-Q*C;return d},Nd:vb,random:function(d,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);d[0]=k*t;d[1]=k*x;d[2]=k*D*C;d[3]=k*E*C;return d},CJ:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];d[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;d[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;d[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;d[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return d},Mca:function(d,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;d[0]=N*t+x*-E+Q*-K-S*-I;d[1]=Q*t+x*-I+S*-E-N*-K;d[2]=S*t+x*-K+N*-I-Q*-E;d[3]=k[3];return d},qU:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=0;return d},Fl:function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},Qi:wb,$c:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:Sa,Zm:Ta,lT:Ua,jT:eb,YT:fb,Uv:Pa,AB:Va,forEach:sb});var tb=function(){var d=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(d,k,C),1E-6>G(d)&&X(d,t,C),T(d,d),xb(x,d,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(d,C,D);x[0]=d[0];x[1]=d[1];x[2]=d[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var d=jb(),k=
jb();return function(t,x,C,D,E,I){kb(d,x,E,I);kb(k,C,D,I);kb(t,d,k,2*I*(1-I));return t}}(),gb=function(){var d=h();return function(k,t,x,C){d[0]=x[0];d[3]=x[1];d[6]=x[2];d[1]=C[0];d[4]=C[1];d[7]=C[2];d[2]=-t[0];d[5]=-t[1];d[8]=-t[2];return ib(k,Eb(k,d))}}();tb=Object.freeze({__proto__:null,create:jb,Pv:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d},Lma:xb,Tka:function(d,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(d[0]=k[0]/x,d[1]=k[1]/x,d[2]=k[2]/x):(d[0]=1,d[1]=0,d[2]=0);return t},Rka:function(d,
k){d=Ya(d,k);return Math.acos(2*d*d-1)},multiply:yb,sJ:zb,tJ:Ab,uJ:Bb,bka:function(d,k){var t=k[0],x=k[1];k=k[2];d[0]=t;d[1]=x;d[2]=k;d[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return d},exp:Cb,Zba:Db,pow:function(d,k,t){Db(d,k);Wa(d,d,t);Cb(d,d);return d},Bca:kb,random:function(d){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);d[0]=C*Math.sin(2*Math.PI*t);d[1]=C*Math.cos(2*Math.PI*t);d[2]=k*Math.sin(2*Math.PI*x);d[3]=k*Math.cos(2*Math.PI*x);return d},Hr:function(d,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;d[0]=-t*D;d[1]=-x*D;d[2]=-C*D;d[3]=k*D;return d},jba:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];return d},Fka:Eb,Dka:function(d,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":d[0]=D*K*Q+E*I*N;d[1]=E*I*Q-D*K*N;d[2]=E*K*N+D*I*Q;d[3]=E*K*Q-D*I*N;break;case "xzy":d[0]=D*K*Q-E*I*N;d[1]=E*
I*Q-D*K*N;d[2]=E*K*N+D*I*Q;d[3]=E*K*Q+D*I*N;break;case "yxz":d[0]=D*K*Q+E*I*N;d[1]=E*I*Q-D*K*N;d[2]=E*K*N-D*I*Q;d[3]=E*K*Q+D*I*N;break;case "yzx":d[0]=D*K*Q+E*I*N;d[1]=E*I*Q+D*K*N;d[2]=E*K*N-D*I*Q;d[3]=E*K*Q-D*I*N;break;case "zxy":d[0]=D*K*Q-E*I*N;d[1]=E*I*Q+D*K*N;d[2]=E*K*N+D*I*Q;d[3]=E*K*Q-D*I*N;break;case "zyx":d[0]=D*K*Q-E*I*N;d[1]=E*I*Q+D*K*N;d[2]=E*K*N-D*I*Q;d[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+C);}return d},Fl:function(d){return"quat("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+")"},clone:Y,nf:va,la:ta,set:ya,add:Na,Zm:yb,scale:Wa,Wm:Ya,Nd:vb,length:Pa,Uv:Pa,BB:Va,AB:Va,normalize:ib,Qi:wb,$c:function(d,k){return.999999<=Math.abs(Ya(d,k))},Bma:tb,Qma:ub,Kma:gb});ub=Object.freeze({__proto__:null,create:function(){var d=new qa(8);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[4]=0,d[5]=0,d[6]=0,d[7]=0);d[3]=1;return d},clone:function(d){var k=new qa(8);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];return k},nf:function(d,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=d;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},Jka:function(d,k,t,x,C,D,E){var I=new qa(8);I[0]=d;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*d-C*t;I[6]=E*x+C*k-D*d;I[7]=-C*d-D*k-E*t;return I},Bba:Fb,VI:function(d,k){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=.5*k[0];d[5]=.5*k[1];d[6]=.5*k[2];d[7]=0;return d},pB:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},zba:function(d,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(d,t,x);return d},la:Gb,Pv:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},set:function(d,k,t,x,C,D,E,I,K){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;return d},Vka:ta,Uka:function(d,k){d[0]=k[4];d[1]=k[5];d[2]=k[6];d[3]=k[7];return d},Oma:ta,Mma:function(d,k){d[4]=k[0];d[5]=k[1];d[6]=k[2];d[7]=k[3];return d},Eba:function(d,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];d[0]=2*(t*k+D*E+x*K-C*I);d[1]=2*(x*k+D*I+C*E-t*K);d[2]=2*(C*k+
D*K+t*I-x*E);return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=E*I+C*t-D*K+N;d[5]=E*K+D*I-x*t+Q;d[6]=E*t+x*K-C*I+S;d[7]=-x*I-C*K-D*t+k;return d},sJ:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;zb(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+
I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},tJ:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Ab(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},uJ:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Bb(d,k,t);x=d[0];C=
d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},zma:function(d,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];d[0]=E*t+N*x+I*D-K*C;d[1]=I*t+N*C+K*x-E*D;d[2]=K*t+N*D+E*C-I*x;d[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];d[4]=E*t+N*x+I*D-K*C;d[5]=I*t+N*C+K*x-E*D;d[6]=K*t+N*D+E*C-I*x;d[7]=N*t-E*x-I*C-K*D;return d},Ama:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];d[0]=x*N+k*E+C*
K-D*I;d[1]=C*N+k*I+D*E-x*K;d[2]=D*N+k*K+x*I-C*E;d[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];d[4]=x*N+k*E+C*K-D*I;d[5]=C*N+k*I+D*E-x*K;d[6]=D*N+k*K+x*I-C*E;d[7]=k*N-x*E-C*I-D*K;return d},yma:function(d,k,t,x){if(1E-6>Math.abs(x))return Gb(d,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];d[0]=C*x+N*E+D*t-K*I;d[1]=D*x+N*I+K*E-C*t;d[2]=K*x+N*t+C*I-D*E;d[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];d[4]=
C*x+k*E+D*t-K*I;d[5]=D*x+k*I+K*E-C*t;d[6]=K*x+k*t+C*I-D*E;d[7]=k*x-C*E-D*I-K*t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];return d},multiply:lb,Zm:lb,scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;return d},Wm:Ya,Nd:function(d,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);d[0]=k[0]*C+t[0]*x;d[1]=k[1]*C+t[1]*x;d[2]=k[2]*C+t[2]*x;d[3]=
k[3]*C+t[3]*x;d[4]=k[4]*C+t[4]*x;d[5]=k[5]*C+t[5]*x;d[6]=k[6]*C+t[6]*x;d[7]=k[7]*C+t[7]*x;return d},Hr:function(d,k){var t=Va(k);d[0]=-k[0]/t;d[1]=-k[1]/t;d[2]=-k[2]/t;d[3]=k[3]/t;d[4]=-k[4]/t;d[5]=-k[5]/t;d[6]=-k[6]/t;d[7]=k[7]/t;return d},jba:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];d[4]=-k[4];d[5]=-k[5];d[6]=-k[6];d[7]=k[7];return d},length:Pa,Uv:Pa,BB:Va,AB:Va,normalize:function(d,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+C*K+D*N+E*k;d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=(I-x*Q)/t;d[5]=(K-C*Q)/t;d[6]=(N-D*Q)/t;d[7]=(k-E*Q)/t}return d},Fl:function(d){return"quat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+")"},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]},$c:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6];d=d[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}});gb=function(){var d=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],D(d,d,E),k[x]=d[0],k[x+1]=d[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(d){var k=new qa(2);k[0]=d[0];k[1]=d[1];return k},nf:function(d,k){var t=new qa(2);t[0]=d;t[1]=k;return t},la:function(d,k){d[0]=k[0];d[1]=k[1];return d},set:function(d,k,t){d[0]=k;d[1]=t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];return d},Gl:mb,multiply:nb,Al:Za,ceil:function(d,
k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;return d},vJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;return d},Mv:ob,ZT:Qa,length:pb,
BB:qb,FT:function(d,k){d[0]=-k[0];d[1]=-k[1];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];return d},normalize:function(d,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;return d},Wm:function(d,k){return d[0]*k[0]+d[1]*k[1]},OI:function(d,k,t){k=k[0]*t[1]-k[1]*t[0];d[0]=d[1]=0;d[2]=k;return d},Nd:function(d,k,t,x){var C=k[0];k=k[1];d[0]=C+x*(t[0]-C);d[1]=k+x*(t[1]-k);return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI;d[0]=Math.cos(t)*k;d[1]=Math.sin(t)*
k;return d},ana:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k;d[1]=t[1]*x+t[3]*k;return d},bna:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k+t[4];d[1]=t[1]*x+t[3]*k+t[5];return d},Lca:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[3]*k+t[6];d[1]=t[1]*x+t[4]*k+t[7];return d},CJ:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[4]*k+t[12];d[1]=t[1]*x+t[5]*k+t[13];return d},rotate:function(d,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);d[0]=C*x-k*D+t[0];d[1]=C*D+k*
x+t[1];return d},angle:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+d*d)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+d*k)/C,-1),1))},qU:function(d){d[0]=0;d[1]=0;return d},Fl:function(d){return"vec2("+d[0]+", "+d[1]+")"},Qi:function(d,k){return d[0]===k[0]&&d[1]===k[1]},$c:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Uv:pb,sub:mb,Zm:nb,lT:Za,
jT:ob,YT:Qa,AB:qb,forEach:gb});f.Ri=Nb;f.Jla=Ob;f.Kla=Pb;f.Lla=Qb;f.Cl=Rb;f.ima=tb;f.jma=ub;f.ina=gb;f.GB=rb;f.dw=sb;Object.defineProperty(f,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Uja?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Ri={}));
{"use strict";function f(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&e(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=h(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&f(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.ema={qka:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},kma:w,kla:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(f(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(f(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},pma:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},qma:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Ila:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const f=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};f.Rv=!1;f.dJ=!1;f.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Lh={}}
{"use strict";const f=self.B;f.hM=class{constructor(a){this.zaa=a;this.Fa=new Map;this.F7()}F7(){var a=this.zaa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.G7(b)}G7(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Fa.set(e,a)}else this.Fa.set(a,null)}nx(a){return this.Fa.has(a)}U(a){a=this.Fa.get(a);return"undefined"===typeof a?null:a}};f.iM=new f.hM(location.search);f.Bfa=
new f.hM(location.hash);f.iM.U("mode")}
{"use strict";const f=self.B,a=navigator.userAgent;let b={Yba:/linux|openbsd|freebsd|netbsd/i.test(a),gba:/CrOS/.test(a),HB:/trident|iemobile|msie|tizen/i.test(a),Qka:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),cT:/bb10/i.test(a),wba:/edge\//i.test(a),hU:/trident/i.test(a),webkit:/webkit/i.test(a),uca:/safari\//i.test(a),fba:/chrome\//i.test(a),hba:/chromium\//i.test(a),lba:/crosswalk|xwalk/i.test(a),Sla:/nwjs/i.test(a),Taa:/amazonwebappplatform/i.test(a),Sca:/wv\)/.test(a),Uaa:/android/i.test(a),
hca:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.Yba,()=>{e="Linux"});u("isChromeOS",b.gba,()=>{e="Chrome OS"});u("isAndroid",!b.HB&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.HB&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.HB&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.cT,()=>{e="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!b.wba&&!b.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&b.hU,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.uca&&!b.hca&&!b.fba&&!b.hba&&!b.Pka&&!b.cT,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.lba,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.Taa,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===h&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===l&&b.Sca,()=>l="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.HB&&b.Uaa,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.hU,()=>g="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);f.Tc={Lp:e,Rfa:c,lw:h,rda:m,SB:parseFloat(m),mw:g,ZB:l,Uea:n,iD:!n,Vea:p,Qea:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Mea:"Mac OS X"===e||"iOS"===e,$ea:w,afa:"Linux"===e}}"use strict";
{const f=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return f.delete(w),g(w,r,v,!1);throw G;}}function l(w){p(w);let r=f.get(w);r instanceof Promise||(r=n(w),f.set(w,r),r.catch(()=>f.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.s_=u}"use strict";
{const f=self.s_,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function h(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.ia=l;b.set(this,new Map)}zt(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async YQ(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async oS(l,n){n=await m(n);b.get(this).set(l,n)}lS(l){b.get(this).delete(l)}zQ(){b.get(this).clear()}FR(){return Array.from(b.get(this).keys())}async getItem(l,n){h(n);if(e)return await this.YQ(l);let p;try{p=await this.ia.get(l)}catch(q){this.zt(q);if(e)return await this.YQ(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){h(p);"undefined"===
typeof n&&(n=null);if(e)await this.oS(l,n);else try{await this.ia.set(l,n)}catch(q){if(this.zt(q),e)await this.oS(l,n);else throw q;}}async removeItem(l,n){h(n);if(e)this.lS(l);else try{await this.ia.delete(l)}catch(p){this.zt(p),e?this.lS(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){h(l);if(e)this.zQ();else try{await this.ia.clear()}catch(n){this.zt(n),e?this.zQ():console.error("Error clearing storage: ",n)}}async keys(l){h(l);if(e)return this.FR();l=[];try{l=await this.ia.keys()}catch(n){this.zt(n);
if(e)return this.FR();console.error("Error getting storage keys: ",n)}return l}ready(l){h(l);return e?Promise.resolve(!0):this.ia.ready()}NI(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new f(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new f("localforage"))}
{"use strict";const f=self.B;f.Ub={};f.Ub.Fja=(()=>{try{if("Safari"===f.Tc.lw||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();f.Ub.Tda="undefined"!==typeof HTMLDialogElement;f.Ub.Qga=!!self.requestIdleCallback;f.Ub.ImageBitmap=!!self.createImageBitmap&&"Safari"!==f.Tc.lw;f.Ub.ImageBitmapOptions=!1;if(f.Ub.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{f.Ub.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{f.Ub.ImageBitmapOptions=!1})}catch(a){f.Ub.ImageBitmapOptions=!1}f.Ub.vda=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===f.Tc.lw);f.Ub.kga=!(!navigator.permissions||!navigator.permissions.query);f.Ub.gM="undefined"!==typeof Proxy;f.Ub.Uda="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;f.Ub.pw="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;f.Ub.fea="function"===typeof fetch;f.Ub.mga=!!(self.isSecureContext&&"Opera"!==f.Tc.lw&&navigator.storage&&navigator.storage.persist);f.Ub.bja=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===f.Tc.Lp)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}f.Ub.nea=fc;f.Ub.Bea=
"undefined"!==typeof self.ImageDecoder;f.Ub.Mfa=!!self.showOpenFilePicker;f.Ub.Nfa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const f=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(f.Vr(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,h)=>{0<e&&Array.isArray(h)?Array.prototype.push.apply(c,a(h,e-1)):c.push(h);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Md||(Array.prototype.Md=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Md||(String.prototype.Md=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const f=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+f.Nw())}}
{"use strict";const f=self.B,a=self.Lh;f.Tl=function(e){return"number"===typeof e};f.Pl=function(e){return f.Tl(e)&&isFinite(e)};f.Cf=function(e){if(!f.Tl(e))throw new TypeError("expected number");};f.rM=function(){};f.kha=function(e,c,h){if(!f.Tl(e)||isNaN(e)||c>e||h<e)throw new RangeError("number outside of range");};f.Xga=function(...e){for(let c of e);};f.sj=function(e){if(!f.Pl(e))throw new TypeError("expected finite number");};f.oM=function(){};f.Uga=function(...e){for(let c of e);};f.Yh=function(e){return"string"===
typeof e};f.Cd=function(e){if(!f.Yh(e))throw new TypeError("expected string");};f.tM=function(){};f.Zga=function(...e){for(let c of e);};f.CL=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};f.xha=function(e){if(!f.CL(e))throw new TypeError("expected simple object");};f.uha=function(e){if(!f.Qd(e)&&!f.CL(e))throw new TypeError("expected simple object");};f.BL=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};f.mM=function(e){if(!f.BL(e))throw new TypeError("expected object");
};f.sM=function(){};f.Yga=function(...e){for(let c of e);};f.$C=function(e){return f.Ql(e,Blob)&&"string"===typeof e.name};f.iha=function(e){if(!f.$C(e))throw new TypeError("expected file");};f.sha=function(){};f.Dn=function(e){return Array.isArray(e)};f.xD=function(e){if(!f.Dn(e))throw new TypeError("expected array");};f.nM=function(){};f.Tga=function(...e){for(let c of e);};f.TZ=function(e){return f.Dn(e)?e.length?f.Dn(e[0])?!0:!1:!0:!1};f.Sga=function(e){if(!f.TZ(e))throw new TypeError("expected 2d array");
for(let c of e)if(!f.Dn(c))throw new TypeError("expected 2d array");};f.lha=function(){};f.aD=function(e){return"function"===typeof e};f.tj=function(e,c){if(!f.aD(e))throw new TypeError("expected function");if(!f.Qd(c)&&e!==c)throw new TypeError("expected same function reference");};f.pM=function(){};f.Vga=function(...e){for(let c of e);};f.aha=function(e,...c){if(!f.aD(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!f.Qd(h)&&
e===h)return;throw new TypeError("expected same function reference");};f.mha=function(...e){if(!f.Qd(e))for(let c of e);};f.Ql=function(e,c){return e instanceof c};f.zL=function(e,...c){for(let h of c)if(f.Ql(e,h))return!0;return!1};f.yD=function(e,c){if(!f.Ql(e,c))throw new TypeError("unexpected type");};f.qM=function(){};f.Wga=function(e,...c){for(let h of c);};f.bha=function(e,...c){if(!f.zL(e,...c))throw new TypeError("unexpected type");};f.cha=function(e,...c){if(!f.Qd(e)&&!f.zL(e,...c))throw new TypeError("unexpected type");
};f.Nea=function(e,c){for(let h of e)if(!f.Ql(h,c))return!1;return!0};f.Oea=function(e){for(let c of e)if(!f.Pl(c))return!1;return!0};f.dha=function(e){for(let c of e);};f.nha=function(e){if(!f.Qd(e))for(let c of e);};f.eha=function(e){for(let c of e);};f.oha=function(e){if(!f.Qd(e))for(let c of e);};f.Rea=function(e,c){return f.Qd(e)||!f.Yh(e.nodeName)?!1:!c||f.Xm(e.nodeName,c)};f.fha=function(e,c){if(f.Qd(e)||!f.Yh(e.nodeName))throw new TypeError("expected DOM node");if(c&&!f.Xm(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};f.pha=function(){};f.cD=function(e,c){return f.Qd(e)||!f.Yh(e.tagName)?!1:!c||f.Xm(e.tagName,c)};f.jha=function(e,c){if(f.Qd(e)||!f.Yh(e.tagName))throw new TypeError("expected HTML element");if(c&&!f.Xm(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};f.tha=function(){};f.tL=function(e){return f.cD(e,"img")||f.cD(e,"canvas")||f.cD(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};f.gha=function(e){if(!f.tL(e))throw new TypeError("expected drawable");
};f.qha=function(){};f.uL=function(e){return e instanceof ImageData?!0:f.tL(e)};f.hha=function(e){if(!f.uL(e))throw new TypeError("expected drawable or image data");};f.rha=function(e){if(!f.Qd(e)&&!f.uL(e))throw new TypeError("expected drawable or image data");};f.n_=function(e){return"string"===typeof e||e instanceof f.RC||e instanceof f.Il};f.yha=function(e){if(!f.n_(e))throw new TypeError("expected string-like");};f.vha=function(){};f.$ga=function(...e){for(let c of e);};f.wha=function(){throw Error("must be overridden");
};f.Qfa=function(){throw Error("not yet implemented");};f.Tea=function(e,...c){if("undefined"===typeof e)return!1;for(let h of c){if("undefined"===typeof e[h])return!1;e=e[h]}return!0};f.Qd=function(e){return"undefined"===typeof e||null===e};f.ida=function(e){let c=e[0].constructor;for(let h of e)if(h.constructor!==c)return!1;return c};f.jda=function(e,c){for(let h of e)if(!(h instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);f.mfa=function(e){return f.Ql(e,b)};f.zha=function(){};
f.Eja=function(e){f.f3(e,b)};f.Dja=function(e,...c){if(!f.e3(e,...c))throw new TypeError("unexpected type");};f.e3=function(e,...c){for(const h of c)if(f.AN(e,h))return!0;return!1};f.f3=function(e,c){if(!f.AN(e,c))throw new TypeError("unexpected type");};f.AN=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.Cf=f.Cf;a.rM=f.rM;a.sj=f.sj;a.oM=f.oM;a.Cd=f.Cd;a.tM=f.tM;a.mM=f.mM;a.sM=f.sM;a.xD=f.xD;a.nM=f.nM;a.tj=f.tj;a.pM=f.pM;a.yD=f.yD;a.qM=f.qM;a.Qd=
f.Qd}
{"use strict";const f=self.B,a=new Map;f.Jga=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;f.Yia=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,bT:0,HI:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.bT.toPrecision(3)} :: calls => ${this.HI}`}})};f.Yda=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.bT=u.total/u.HI;u.HI++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};f.Nw=function(){return Error().stack};f.Rda=function(){debugger};f.hka=function(u,w){return u&&u instanceof w?u:null};f.dk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":f.Tl(u)?"<number>":f.Yh(u)?"<string>":f.Dn(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":f.aD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};f.rB=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};f.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,h=new WeakMap,m=new WeakMap;f.tp={};const g=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",f.Nw())}f.tp.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||l(`Accessed missing property '${w}' from defended object '${f.dk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&l(`Accessed property '${w}' on a released object '${f.dk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};f.tp.set=function(u,w,r){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${f.dk(u)}'`);{var v=f.rB(u[w]);
let y=f.rB(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${f.rB(u[w])}' property '${w}' to type '${f.rB(r)}' on defended object '${f.dk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${f.dk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};f.tp.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${f.dk(u)}'`);};f.tp.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${f.dk(u)}'`);};f.tp.vka=function(u){throw new ReferenceError(`Cannot enumerate defended object '${f.dk(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>f.dk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
f.ba=class{constructor(){if(f.dJ&&f.Ub.gM){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,f.tp);e.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};f.nba=function(u){if(f.dJ&&f.Ub.gM&&u instanceof f.ba){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return f.Rv?Object.seal(u):u};f.j=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(f.dJ){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);f.Tm(v,[...y]);v.length&&console.warn(`[Defence] '${f.dk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return f.nba(r)};f.A=function(u){(u=h.get(u))&&m.set(u,f.Nw())};f.ey=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;f.jga=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const f=self.B,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;f.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};f.aca=function(h,m,g,l){return(h-m)*(l-0)/(g-m)};f.normalize=function(h,m,g){return(h-m)/(g-m)};f.ea=function(h,m,g){return h<m?m:h>g?g:h};f.ae=function(h){h%=a;0>h&&(h+=a);return h};f.sb=function(h){return h*b};f.fk=function(h){return h*e};f.vba=function(h,m,g,l){return Math.hypot(g-h,l-m)};f.kT=function(h,
m,g,l){h=g-h;m=l-m;return h*h+m*m};f.ZS=function(h,m,g,l){return Math.atan2(l-m,g-h)};f.Dr=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};f.FI=function(h,m,g){let l=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>g?0<n*p-l*q?f.ae(h+g):f.ae(h-g):f.ae(m)};f.jf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};f.EI=function(h,m,g,l=0){let n=f.Dr(h,m);l*=a;return f.jf(m,
h)?f.ae(h+(n+l)*g):f.ae(h-(n+l)*g)};f.Waa=function(h,m,g,l=0){const n=f.Dr(h,m);l*=a;return f.jf(m,h)?f.ae(h+(n+l)*g):f.ae((a-n+l)*g)};f.Vaa=function(h,m,g,l=0){const n=f.Dr(h,m);l*=a;return f.jf(m,h)?f.ae((-a+n-l)*g):f.ae(h-(n+l)*g)};f.Nd=function(h,m,g){return h+g*(m-h)};f.DB=function(h,m,g){return h===m?0:(g-h)/(m-h)};f.qca=function(h,m,g,l){return f.Nd(0,l,f.DB(h,m,g))};f.xB=function(h,m,g,l){return f.Nd(f.Nd(h,m,l),f.Nd(m,g,l),l)};f.iT=function(h,m,g,l,n){return f.Nd(f.xB(h,m,g,n),f.xB(m,g,l,
n),n)};f.hT=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};f.ek=function(h){return 0<h&&0===(h-1&h)};f.GT=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};f.Cma=function(h,m){return Math.round(h*m)/m};f.Aka=function(h,m){return Math.floor(h*m)/m};f.RT=function(h){return Math.round(1E6*h)/1E6};f.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};f.p0=function(h,m,g){return f.ea(h,0,255)|f.ea(m,
0,255)<<8|f.ea(g,0,255)<<16};f.Ix=function(h,m,g,l){h=f.ea(Math.floor(1024*h),-8192,8191);m=f.ea(Math.floor(1024*m),-8192,8191);g=f.ea(Math.floor(1024*g),-8192,8191);l=f.ea(Math.floor(1023*l),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+l)};f.$L=function(h,m,g){return f.Ix(h,m,g,1)};f.HC=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};f.BC=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};f.nC=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};f.sX=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};f.Iba=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];f.Ska=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let l=
h/g[0]*g[1];if(1>Math.abs(m-l))return g.slice(0);l=h/g[1]*g[0];if(1>Math.abs(m-l))return[g[1],g[0]]}g=f.Iba(h,m);return[h/g,m/g]};f.Jma=function(h,m,g,l,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-l;h=g-h;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};f.Dl=function(h,m,g,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-l;h=g-h;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};f.yB=function(h,m,g,l,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l),r=n.qb,v=n.rb,y=n.ec,A=n.fc,G=n.Yb,z=n.Zb,F=n.Wb;n=n.Xb;return f.Dl(h,m,g,l,p,q,u,w,r,v,y,A)||f.Dl(h,m,g,l,p,q,u,w,y,A,G,z)||f.Dl(h,m,g,l,p,q,u,w,G,z,F,n)||f.Dl(h,m,g,l,p,q,u,w,F,n,r,v)};f.Ima=function(h,m,g,l,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(f.Dl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return f.Dl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};f.pca=function(h,m,g,l,n,p,q,u){g-=h;p=u-p;const w=g*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-h)+g*(u-m))/w;return 0<l&&1.000001>l?(p*(q-h)+(n-q)*(u-m))/w:2};f.$v=function(h,m,g,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return f.pca(h,m,g,l,n-r,p-w,q+r,u+w)};f.Sba=function(h,m,g,l,n,p,q,u){n-=
g;p-=l;q-=g;u-=l;h-=g;g=m-l;m=n*n+p*p;l=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};f.Pca=function(h,m,g,l,n,p,q,u){n-=g;p-=l;q-=g;u-=l;h-=g;const w=m-l;m=n*n+p*p;l=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-l*l;u=(g*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};f.Oca=function(h,m,g,l,n,p,q,u,w){return[h*l+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const f=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}f.oea=function(){return b};f.oC=function(){if(!a)return"";const l=a.location;return f.tY(l.origin+l.pathname)+b};f.tY=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};f.rea=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};f.QX=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};f.Rw=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};f.Q_=function(l){return l.replace(/\\/g,"/")};f.Xea=function(l,n){return n===(l?f.QX(l).slice(1):"")};f.gea=function(l,n){let p,q;f.$C(l)&&(p=f.Rw(l.name));f.Yh(l)&&(p=
f.Rw(l));f.$C(n)&&(q=f.Rw(n.name));f.Yh(n)&&(q=f.Rw(n));return p===q};f.iga=function(l){l=f.Q_(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,Zja:u,name:l,root:n,ext:w,Nka:n+q+u}};f.yN=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};f.Sma=function(l){try{l()}catch(n){f.Rv&&console.warn("Swallowed exception: ",n)}};f.Pla=function(){};f.Xm=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};f.wka=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};f.Qca=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};f.Ge=function(l,n){l.length=n};f.C=function(l){l&&0!==l.length&&f.Ge(l,0)};f.iba=function(l){if(l){for(let n=0;n<l.length;n++)f.Ge(l[n],0);f.Ge(l,0)}};f.nB=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};f.QT=function(l){var n=4;const p=l.length;n<p?f.Ge(l,n):n>p&&f.nB(l,n,"0")};f.zc=function(l,n){f.C(l);f.Tm(l,n)};f.Tm=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
f.$aa=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];f.Ge(l,p)}};f.ck=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};f.Yja=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};f.Zaa=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}f.Ge(l,q);return p};f.Wf=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}f.Ge(l,q);return p-q};f.Pba=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};f.hna=function(l,n){if(!f.Pba(l,n))throw new RangeError("array index out of bounds");};f.MI=function(l){return l.slice()};f.oba=function(l,n){let p=[];for(let q of l)if(f.BL(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else f.Dn(q)?p.push(f.oba(q,n)):p.push(q);return p};f.ika=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};f.Mla=function(l,n){return new Set([...l,...n])};f.Nla=function(l,n){for(const p of n)l.add(p);return l};f.first=function(l){for(let n of l)return n;return null};f.xor=function(l,n){return!l!==!n};f.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};f.$ka=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};f.E0=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];f.ada=function(l){e.push(l)};f.qea=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=h.get(l);h.delete(l);n&&n(performance.now())};f.wD=function(l){const n=c++;h.set(n,l);m.port1.postMessage(n);
return n};f.hV=function(l){h.delete(l)};f.z0=f.wD;f.b3=function(){return new Promise(l=>f.z0(l))};const g=new Set;f.Rga=function(l){const n=self.requestAnimationFrame(async p=>{await f.b3();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};f.tda=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const f=self.B;f.WC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.jD=function(a){return!f.WC(a)};f.J2=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};f.Kw=function(a){return fetch(a,void 0).then(b=>{f.J2(b);return b})};f.Xr=function(a){return f.Kw(a).then(b=>b.text())};f.sK=function(a){return f.Kw(a).then(b=>b.json())};f.lk=function(a){return f.Kw(a).then(b=>b.blob())};f.Wr=function(a){return f.Kw(a).then(b=>
b.arrayBuffer())};f.jX=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=h=>e(h);c.src=a})};f.XU=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};f.LJ=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};f.pda=function(a){return f.LJ(a).then(b=>
JSON.parse(b))};f.YU=async function(a){a=URL.createObjectURL(a);try{const b=await f.jX(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};f.Ng=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};f.pw=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=f.ea(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):f.hk(()=>f.SJ(a,b,e))};f.SJ=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=f.ea(e,0,1);return f.JV(a.toDataURL(b,e))};f.JV=function(a){a=f.q0(a);return f.WU(a.data,a.bca)};f.q0=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{bca:a,data:e}};f.WU=function(a,b){var e=a.length;let c=e>>2,h=new Uint8Array(e),m=new Uint32Array(h.buffer,0,c),g,l;for(l=g=0;g<c;++g)m[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)h[l]=a.charCodeAt(l),++l;return b?new Blob([h],{type:b}):new Blob([h])};f.mK=function(a,b,e){const c=f.Ng(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return f.pw(c,b,e)};f.Aea=function(a,
b,e){const c=f.Ng(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return f.SJ(c,b,e)};f.zea=function(a,b,e){if(f.Ub.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>f.mK(c,b,e));if(f.Ub.ImageBitmap)return createImageBitmap(a).then(c=>f.mK(c,b,e));{const c=f.Ng(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return f.pw(c,b,e)}};f.yV=function(a,b){a.clear();for(const e of b)a.add(e)};f.Efa=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=
c;return b};f.Sfa=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};f.eE=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(b))c[h]=e(m);return c}}return b};f.kC=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(h=>c(h)));if("map"===
e._c3type_)return new Map(e.data.map(h=>[h[0],c(h[1])]));{const h=Object.create(null);for(const [m,g]of Object.entries(e))h[m]=c(g);return h}}return e};f.bV=function(e){let c="",h=!1;for(const m of e)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};f.Sl=function(e){return"object"===typeof e&&"function"===typeof e.next};f.H_=function(e){const c=[];for(let h=0;h<e;++h)c.push(0);return c}}
{"use strict";const f=self.B;f.Xa=class{constructor(a,b,e,c){this.Ra=this.Sa=this.Ta=this.Pa=0;a instanceof f.Xa?this.set(a):this.an(a||0,b||0,e||0,c||0)}Or(a,b,e){this.Pa=+a;this.Ta=+b;this.Sa=+e;this.ea()}an(a,b,e,c){this.Pa=+a;this.Ta=+b;this.Sa=+e;this.Ra=+c;this.ea()}set(a){this.Pa=a.Pa;this.Ta=a.Ta;this.Sa=a.Sa;this.Ra=a.Ra;return this}la(a){return this.set(a)}add(a){this.Pa+=a.Pa;this.Ta+=a.Ta;this.Sa+=a.Sa;this.Ra+=a.Ra;this.ea()}WS(a,b,e){this.Pa+=+a;this.Ta+=+b;this.Sa+=+e;this.Ra+=0;this.ea()}Oi(a){this.Pa=
a.Pa;this.Ta=a.Ta;this.Sa=a.Sa}VT(a){this.Pa=f.ea(+a,0,1)}zca(a){this.Ta=f.ea(+a,0,1)}wca(a){this.Sa=f.ea(+a,0,1)}Mr(a){this.Ra=f.ea(+a,0,1)}clone(){return f.j(f.Xa,this.Pa,this.Ta,this.Sa,this.Ra)}toArray(){return[this.Pa,this.Ta,this.Sa,this.Ra]}Lg(a,b){a[b++]=this.Pa;a[b++]=this.Ta;a[b++]=this.Sa;a[b]=this.Ra}$c(a){return this.Pa===a.Pa&&this.Ta===a.Ta&&this.Sa===a.Sa&&this.Ra===a.Ra}Bl(a){return this.Pa===a.Pa&&this.Ta===a.Ta&&this.Sa===a.Sa}mB(a,b,e,c){return this.Pa===a&&this.Ta===b&&this.Sa===
e&&this.Ra===c}multiply(a){this.Pa*=a.Pa;this.Ta*=a.Ta;this.Sa*=a.Sa;this.Ra*=a.Ra}qJ(){this.Pa*=this.Ra;this.Ta*=this.Ra;this.Sa*=this.Ra}ea(){this.Pa=f.ea(this.Pa,0,1);this.Ta=f.ea(this.Ta,0,1);this.Sa=f.ea(this.Sa,0,1);this.Ra=f.ea(this.Ra,0,1);return this}Nr(a){this.Pa=f.HC(a);this.Ta=f.BC(a);this.Sa=f.nC(a);this.Ra=f.sX(a)}Dba(){return`rgb(${100*(f.Pl(void 0)?NaN:this.Pa)}%, ${100*(f.Pl(void 0)?NaN:this.Ta)}%, ${100*(f.Pl(void 0)?NaN:this.Sa)}%)`}IT(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.VT(a);isFinite(e)&&this.zca(e);isFinite(b)&&this.wca(b);this.Mr(1)}}}toJSON(){return[this.Pa,this.Ta,this.Sa,this.Ra]}El(a){!Array.isArray(a)||3>a.length||(this.Pa=a[0],this.Ta=a[1],this.Sa=a[2],this.Ra=4<=a.length?a[3]:1)}set r(a){this.VT(a)}get r(){return this.Pa}set kp(a){this.Mr(a)}get kp(){return this.Ra}static dC(a,b){return f.ea(Math.max(a,
b)-Math.min(a,b),0,1)}};f.Xa.Jja=Object.freeze(f.j(f.Xa,1,1,1,1));f.Xa.oda=Object.freeze(f.j(f.Xa,0,0,0,1));f.Xa.rja=Object.freeze(f.j(f.Xa,0,0,0,0))}
{"use strict";const f=self.B;f.gt=class{constructor(a,b){this.T=this.aa=0;a instanceof f.gt?this.la(a):this.set(a||0,b||0)}set(a,b){this.aa=+a;this.T=+b}la(a){this.aa=a.aa;this.T=a.T}$c(a){return this.aa===a.aa&&this.T===a.T}toArray(){return[this.aa,this.T]}Lg(a,b){a[b++]=this.aa;a[b]=this.T}offset(a,b){this.aa+=+a;this.T+=+b}scale(a,b){this.aa*=a;this.T*=b}Al(a,b){this.aa/=a;this.T/=b}round(){this.aa=Math.round(this.aa);this.T=Math.round(this.T)}floor(){this.aa=Math.floor(this.aa);this.T=Math.floor(this.T)}ceil(){this.aa=
Math.ceil(this.aa);this.T=Math.ceil(this.T)}angle(){return f.ZS(0,0,this.aa,this.T)}Xba(){return this.aa*this.aa+this.T*this.T}length(){return Math.sqrt(this.Xba())}tca(a,b){const e=this.aa*b-this.T*a;this.T=this.T*b+this.aa*a;this.aa=e}rotate(a){0!==a&&this.tca(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.aa+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.aa/=a,this.T/=a)}ea(a,b){this.aa=f.ea(this.aa,a,b);this.T=f.ea(this.T,a,b)}}}
{"use strict";const f=self.B;f.Rect=class{constructor(a,b,e,c){this.Y=this.da=this.M=this.S=0;a instanceof f.Rect?this.la(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.S=+a;this.M=+b;this.da=+e;this.Y=+c}Kh(a,b,e,c){a=+a;b=+b;this.S=a;this.M=b;this.da=a+ +e;this.Y=b+ +c}la(a){this.S=+a.S;this.M=+a.M;this.da=+a.da;this.Y=+a.Y}clone(){return new f.Rect(this.S,this.M,this.da,this.Y)}$c(a){return this.S===a.S&&this.M===a.M&&this.da===a.da&&this.Y===a.Y}toArray(){return[this.S,this.M,this.da,this.Y]}Jca(){new DOMRect(this.S,
this.M,this.width(),this.height())}Lg(a,b){a[b++]=this.S;a[b++]=this.M;a[b++]=this.da;a[b]=this.Y}Uca(a,b){a[b++]=this.S;a[b++]=this.M;a[b++]=this.da;a[b++]=this.M;a[b++]=this.da;a[b++]=this.Y;a[b++]=this.S;a[b]=this.Y}width(){return this.da-this.S}height(){return this.Y-this.M}Kr(){return(this.S+this.da)/2}Lr(){return(this.M+this.Y)/2}offset(a,b){a=+a;b=+b;this.S+=a;this.M+=b;this.da+=a;this.Y+=b}offsetLeft(a){this.S+=+a}offsetTop(a){this.M+=+a}jca(a){this.da+=+a}ica(a){this.Y+=+a}YI(a,b){a=+a;b=
+b;this.S-=a;this.M-=b;this.da+=a;this.Y+=b}multiply(a,b){this.S*=a;this.M*=b;this.da*=a;this.Y*=b}Al(a,b){this.S/=a;this.M/=b;this.da/=a;this.Y/=b}Ym(){this.M=1-this.M;this.Y=1-this.Y}Gca(){const a=this.S;this.S=this.da;this.da=a}Hca(){const a=this.M;this.M=this.Y;this.Y=a}round(){this.S=Math.round(this.S);this.M=Math.round(this.M);this.da=Math.round(this.da);this.Y=Math.round(this.Y)}floor(){this.S=Math.floor(this.S);this.M=Math.floor(this.M);this.da=Math.floor(this.da);this.Y=Math.floor(this.Y)}ceil(){this.S=
Math.ceil(this.S);this.M=Math.ceil(this.M);this.da=Math.ceil(this.da);this.Y=Math.ceil(this.Y)}ea(a,b,e,c){this.S<a&&(this.S=+a);this.M<b&&(this.M=+b);this.da>e&&(this.da=+e);this.Y>c&&(this.Y=+c)}normalize(){this.S>this.da&&this.Gca();this.M>this.Y&&this.Hca()}sB(a){return!(a.da<this.S||a.Y<this.M||a.S>this.da||a.M>this.Y)}Oba(a,b,e){return!(a.da+b<this.S||a.Y+e<this.M||a.S+b>this.da||a.M+e>this.Y)}lf(a,b){return a>=this.S&&a<=this.da&&b>=this.M&&b<=this.Y}}}
{"use strict";const f=self.B;f.kd=class{constructor(a,b,e,c,h,m,g,l){this.Xb=this.Wb=this.Zb=this.Yb=this.fc=this.ec=this.rb=this.qb=0;a instanceof f.kd?this.la(a):this.set(a||0,b||0,e||0,c||0,h||0,m||0,g||0,l||0)}set(a,b,e,c,h,m,g,l){this.qb=+a;this.rb=+b;this.ec=+e;this.fc=+c;this.Yb=+h;this.Zb=+m;this.Wb=+g;this.Xb=+l}WT(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}la(a){this.qb=a.qb;this.rb=a.rb;this.ec=a.ec;this.fc=a.fc;this.Yb=a.Yb;this.Zb=a.Zb;this.Wb=a.Wb;this.Xb=a.Xb}$c(a){return this.qb===a.qb&&this.rb===
a.rb&&this.ec===a.ec&&this.fc===a.fc&&this.Yb===a.Yb&&this.Zb===a.Zb&&this.Wb===a.Wb&&this.Xb===a.Xb}toArray(){return[this.qb,this.rb,this.ec,this.fc,this.Yb,this.Zb,this.Wb,this.Xb]}Lg(a,b){a[b++]=this.qb;a[b++]=this.rb;a[b++]=this.ec;a[b++]=this.fc;a[b++]=this.Yb;a[b++]=this.Zb;a[b++]=this.Wb;a[b]=this.Xb}Vca(a,b,e){a[b++]=this.qb;a[b++]=this.rb;a[b++]=e;a[b++]=this.ec;a[b++]=this.fc;a[b++]=e;a[b++]=this.Yb;a[b++]=this.Zb;a[b++]=e;a[b++]=this.Wb;a[b++]=this.Xb;a[b]=e}offset(a,b){a=+a;b=+b;this.qb+=
a;this.rb+=b;this.ec+=a;this.fc+=b;this.Yb+=a;this.Zb+=b;this.Wb+=a;this.Xb+=b}round(){this.qb=Math.round(this.qb);this.rb=Math.round(this.rb);this.ec=Math.round(this.ec);this.fc=Math.round(this.fc);this.Yb=Math.round(this.Yb);this.Zb=Math.round(this.Zb);this.Wb=Math.round(this.Wb);this.Xb=Math.round(this.Xb)}floor(){this.qb=Math.floor(this.qb);this.rb=Math.floor(this.rb);this.ec=Math.floor(this.ec);this.fc=Math.floor(this.fc);this.Yb=Math.floor(this.Yb);this.Zb=Math.floor(this.Zb);this.Wb=Math.floor(this.Wb);
this.Xb=Math.floor(this.Xb)}ceil(){this.qb=Math.ceil(this.qb);this.rb=Math.ceil(this.rb);this.ec=Math.ceil(this.ec);this.fc=Math.ceil(this.fc);this.Yb=Math.ceil(this.Yb);this.Zb=Math.ceil(this.Zb);this.Wb=Math.ceil(this.Wb);this.Xb=Math.ceil(this.Xb)}Ti(a){this.qb=a.S;this.rb=a.M;this.ec=a.da;this.fc=a.M;this.Yb=a.da;this.Zb=a.Y;this.Wb=a.S;this.Xb=a.Y}yca(a,b){0===b?this.Ti(a):this.UT(a,Math.sin(b),Math.cos(b))}UT(a,b,e){const c=a.S*b,h=a.M*b,m=a.da*b;b*=a.Y;const g=a.S*e,l=a.M*e,n=a.da*e;a=a.Y*
e;this.qb=g-h;this.rb=l+c;this.ec=n-h;this.fc=l+m;this.Yb=n-b;this.Zb=a+m;this.Wb=g-b;this.Xb=a+c}WI(a){a.set(Math.min(this.qb,this.ec,this.Yb,this.Wb),Math.min(this.rb,this.fc,this.Zb,this.Xb),Math.max(this.qb,this.ec,this.Yb,this.Wb),Math.max(this.rb,this.fc,this.Zb,this.Xb))}lf(a,b){var e=this.ec-this.qb,c=this.fc-this.rb;const h=this.Yb-this.qb,m=this.Zb-this.rb;a-=this.qb;b-=this.rb;var g=e*e+c*c;let l=e*h+c*m;c=e*a+c*b;const n=h*h+m*m,p=h*a+m*b;let q=1/(g*n-l*l);e=(n*c-l*p)*q;g=(g*p-l*c)*q;
if(0<=e&&0<g&&1>e+g)return!0;e=this.Wb-this.qb;c=this.Xb-this.rb;g=e*e+c*c;l=e*h+c*m;c=e*a+c*b;q=1/(g*n-l*l);e=(n*c-l*p)*q;g=(g*p-l*c)*q;return 0<=e&&0<g&&1>e+g}Kr(){return(this.qb+this.ec+this.Yb+this.Wb)/4}Lr(){return(this.rb+this.fc+this.Zb+this.Xb)/4}$I(a){var b=a.Kr(),e=a.Lr();if(this.lf(b,e))return!0;b=this.Kr();e=this.Lr();if(a.lf(b,e))return!0;b=this.qb;e=this.rb;const c=this.ec,h=this.fc,m=this.Yb,g=this.Zb,l=this.Wb,n=this.Xb;return f.yB(b,e,c,h,a)||f.yB(c,h,m,g,a)||f.yB(m,g,l,n,a)||f.yB(l,
n,b,e,a)}sca(){const a=this.qb,b=this.rb;this.qb=this.ec;this.rb=this.fc;this.ec=this.Yb;this.fc=this.Zb;this.Yb=this.Wb;this.Zb=this.Xb;this.Wb=a;this.Xb=b}}}
{"use strict";const f=self.B,a=[0,0,1,0,1,1,0,1],b=f.j(f.kd);f.jn=class extends f.ba{constructor(e,c=!0){super();e||(e=a);this.yd=Float64Array.from(e);this.Ty=new f.Rect;this.Fo=!0;this.tg=c}A(){}JT(){return this.yd.length/2}zB(e){this.yd.length===e.length?this.yd.set(e):this.yd=Float64Array.from(e);this.Fo=!0}xca(){this.zB(a)}la(e){this.zB(e.yd)}wJ(){this.Fo=!0}Maa(){if(this.Fo){var e=this.yd,c=e[0],h=e[1],m=c,g=h;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],q=e[l+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.Ty.set(c,h,m,g);this.Fo=!1}}Ti(e){let c=this.yd;8!==c.length&&(this.yd=c=new Float64Array(8));c[0]=e.S-NaN;c[1]=e.M-NaN;c[2]=e.da-NaN;c[3]=e.M-NaN;c[4]=e.da-NaN;c[5]=e.Y-NaN;c[6]=e.S-NaN;c[7]=e.Y-NaN;this.Ty.la(e);this.Ty.offset(NaN,NaN);this.Fo=!1}xJ(e,c,h){b.la(e);b.offset(c,h);this.zB(b.toArray());this.Fo=!0}transform(e,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.DJ(e,c,m,g)}DJ(e,c,h,m){const g=this.yd;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*e,u=
g[p]*c;g[l]=q*m-u*h;g[p]=u*m+q*h}this.Fo=!0}offset(e,c){const h=this.yd;for(let m=0,g=h.length;m<g;m+=2)h[m]+=e,h[m+1]+=c}lf(e,c){const h=this.yd;if(e===h[0]&&c===h[1])return!0;this.Maa();var m=this.Ty;const g=m.S-110,l=m.M-101,n=m.da+131;m=m.Y+120;let p,q,u,w,r,v,y,A;g<e?(p=g,u=e):(p=e,u=g);l<c?(q=l,w=c):(q=c,w=l);n<e?(r=n,y=e):(r=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],P=h[H+1],R=h[F];F=h[F+1];f.Dl(g,l,e,c,p,u,q,w,M,P,R,F)&&++G;f.Dl(n,
m,e,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Qv(e,c,h){const m=e.yd,g=this.yd;if(this.lf(m[0]+c,m[1]+h)||e.lf(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;e=g[n];const q=g[n+1],u=g[l];l=g[l+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(f.Dl(e,q,u,l,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}Wh(){return this.tg}}}
{"use strict";const f=self.B;f.Js=class extends f.ba{constructor(a){super();this.Jj=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}A(){this.ed();this.Jj=null}ed(){const a=this.Jj;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Jj;let h=c.get(a);h||(h=new Map,c.set(a,h));h.set(b,e)}U(a,b){return(a=this.Jj.get(a))?a.get(b):a}nx(a){return(a=this.Jj.get(a))?a.has(void 0):!1}kn(a,b){const e=this.Jj,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}kK(a){const b=this.Jj,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,h]of b.entries())h.delete(a)&&0===h.size&&b.delete(c)}Ol(){let a=0;for(const b of this.Jj.values())a+=b.size;return a}*values(){for(const a of this.Jj.values())yield*a.values()}*entries(){for(const [a,b]of this.Jj.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const f=self.B;f.PB=class extends f.ba{constructor(){super();this.Bm=new Set;this.Ry=[];this.Wu=!1}A(){this.ed()}ed(){this.Bm.clear();f.C(this.Ry);this.Wu=!1}Ac(a){this.Bm.has(a)||(this.Bm.add(a),this.Wu||this.Ry.push(a))}nx(a){return this.Bm.has(a)}kn(a){this.Bm.delete(a)&&(this.Wu=!0)}Ol(){return this.Bm.size}Gn(){return 0===this.Bm.size}mC(){this.Wu&&(this.O7(),this.Wu=!1);return this.Ry}O7(){const a=this.Ry;f.C(a);for(const b of this.Bm)a.push(b)}}}
{"use strict";const f=new Map,a=new Map,b=new Map,e=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.Ur=class m{constructor(){}static e_(g){this.nE();return[...a.keys()].includes(g)}static A5(g){const l=h.get(g);if(l)return f.get(l);if(m.e_(g))return f.get(g);if(c.has(g))return c.get(g)}static vn(g){this.nE();const l=m.A5(g);return l?l:e.get(g)}static nE(){0===f.size&&(this.tb("default",()=>{}),this.tb("noease",this.P_),this.tb("easeinsine",this.NW),this.tb("easeoutsine",
this.WW),this.tb("easeinoutsine",this.JW),this.tb("easeinelastic",this.xW),this.tb("easeoutelastic",this.RW),this.tb("easeinoutelastic",this.EW),this.tb("easeinback",this.uW),this.tb("easeoutback",this.OW),this.tb("easeinoutback",this.zW),this.tb("easeinbounce",this.nK),this.tb("easeoutbounce",this.gC),this.tb("easeinoutbounce",this.AW),this.tb("easeincubic",this.wW),this.tb("easeoutcubic",this.QW),this.tb("easeinoutcubic",this.DW),this.tb("easeinquad",this.KW),this.tb("easeoutquad",this.TW),this.tb("easeinoutquad",
this.GW),this.tb("easeinquart",this.LW),this.tb("easeoutquart",this.UW),this.tb("easeinoutquart",this.HW),this.tb("easeinquint",this.MW),this.tb("easeoutquint",this.VW),this.tb("easeinoutquint",this.IW),this.tb("easeincirc",this.vW),this.tb("easeoutcirc",this.PW),this.tb("easeinoutcirc",this.BW),this.tb("easeinexpo",this.yW),this.tb("easeoutexpo",this.SW),this.tb("easeinoutexpo",this.FW),this.KN("cubicbezier",this.tW),this.KN("spline",this.XW))}static tb(g,l){m.iE(g,l,"predefined")}static KN(g,l){m.iE(g,
l,"private")}static vU(g,l){this.nE();m.iE(g,l,"custom",void 0)}static iE(g,l,n,p){switch(n){case "predefined":f.set(g,l);a.set(g,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(g,l)):e.set(g,l);break;case "private":f.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static P_(g,l,n,p){return n*g/p+l}static KW(g,l,n,p){return n*(g/=p)*g+l}static TW(g,l,n,p){return-n*(g/=p)*(g-2)+l}static GW(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static wW(g,
l,n,p){return n*(g/=p)*g*g+l}static QW(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static DW(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static LW(g,l,n,p){return n*(g/=p)*g*g*g+l}static UW(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static HW(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static MW(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static VW(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static IW(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static NW(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static WW(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static JW(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static yW(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static SW(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static FW(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static vW(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static PW(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static BW(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static xW(g,l,n,p){let q=0,u=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static RW(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(1===(g/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+l}static EW(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(2===(g/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+l}static uW(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static OW(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static zW(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static nK(g,l,n,p){return n-m.gC(p-g,0,n,p)+l}static gC(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static AW(g,l,n,p){return g<p/2?.5*m.nK(2*g,0,n,p)+l:.5*m.gC(2*g-p,0,n,p)+.5*n+l}static tW(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static XW(g,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-g)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static zX(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const f=self.B;f.Gga=class{constructor(){this.CR=[]}A(){this.ed();this.CR=null}ed(){f.iba(this.CR)}}}"use strict";
self.B.Event=class{constructor(f,a){this.type=f;this.cancelable=!!a;this.Qba=this.rJ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Qba)throw Error(`cannot stop async event '${this.type}' propagation`);this.rJ=!0}};
{"use strict";const f=self.B;f.Event.LY=class extends f.ba{constructor(a){super();this.ta=a;this.Te=[];this.tq=new Set;this.$e=[];this.Uq=new Set;this.mu=0;this.er=[]}A(){0<this.mu||(f.C(this.Te),this.tq.clear(),f.C(this.$e),this.Uq.clear(),f.C(this.er),f.A(this))}IN(a,b){this.YO()?this.er.push({mJ:"add",Ih:a,capture:b}):b?this.tq.has(a)||(this.Te.push(a),this.tq.add(a)):this.Uq.has(a)||(this.$e.push(a),this.Uq.add(a))}d8(a,b){this.YO()?this.er.push({mJ:"remove",Ih:a,capture:b}):b?this.tq.has(a)&&
(this.tq.delete(a),f.ck(this.Te,a)):this.Uq.has(a)&&(this.Uq.delete(a),f.ck(this.$e,a))}o6(){return!this.Te.length&&!this.$e.length}YO(){return 0<this.mu}L7(){const a=new Set,b=new Set;for(const e of this.er)if("add"===e.mJ)this.IN(e.Ih,e.capture),e.capture?b.delete(e.Ih):a.delete(e.Ih);else if("remove"===e.mJ)e.capture?(this.tq.delete(e.Ih),b.add(e.Ih)):(this.Uq.delete(e.Ih),a.add(e.Ih));else throw Error("invalid op");f.Wf(this.$e,a);f.Wf(this.Te,b);f.C(this.er)}l5(a){this.lq();let b=!1;for(let e=
0,c=this.Te.length;e<c;++e)if(this.Te[e](a),a.rJ){b=!0;break}if(!b)for(let e=0,c=this.$e.length;e<c&&(this.$e[e](a),!a.rJ);++e);this.iq();return!a.defaultPrevented}n5(a){this.lq();for(let b=0,e=this.Te.length;b<e;++b)this.Te[b](a);for(let b=0,e=this.$e.length;b<e;++b)this.$e[b](a);this.iq();return!0}lq(){this.mu++}iq(){this.mu--;0===this.mu&&0<this.er.length&&this.L7()}Wp(a){a?this.lq():this.iq()}qO(a){const b=[];this.lq();for(let c=0,h=this.Te.length;c<h;++c){var e=this.Te[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,h=this.$e.length;c<h;++c)e=this.$e[c](a),e instanceof Promise&&b.push(e);this.iq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async i5(a){return await this.qO(a)}async j5(a){this.lq();for(let e=0,c=this.Te.length;e<c;++e){var b=this.Te[e](a);b instanceof Promise&&await b}for(let e=0,c=this.$e.length;e<c;++e)b=this.$e[e](a),b instanceof Promise&&await b;this.iq();return!a.defaultPrevented}*k5(a){this.lq();for(let e=0,c=this.Te.length;e<c;++e){var b=
this.Te[e](a);f.Sl(b)&&(yield*b)}for(let e=0,c=this.$e.length;e<c;++e)b=this.$e[e](a),f.Sl(b)&&(yield*b);this.iq()}}}
{"use strict";const f=self.B;f.Event.Sb=class extends f.ba{constructor(){super();this.uo=new Map;this.$F=!1}A(){if(this.$F)throw Error("already released");this.mV();this.$F=!0;f.A(this)}ey(){return this.$F}mV(){for(let a of this.uo.values())a.A();this.uo.clear()}bo(a,b){let e=this.uo.get(a);return e?e:b?(e=f.j(f.Event.LY,a),this.uo.set(a,e),e):null}NC(a){return this.uo.has(a)}addEventListener(a,b,e){this.bo(a,!0).IN(b,!!e)}removeEventListener(a,b,e){let c=this.bo(a,!1);c&&(c.d8(b,!!e),c.o6()&&this.uo.delete(a))}dispatchEvent(a){const b=
this.bo(a.type,!1);return b?a.cancelable?b.l5(a):b.n5(a):!0}async RI(a){const b=this.bo(a.type,!1);return b?await b.i5(a):!0}tba(a){const b=this.bo(a.type,!1);return b?b.qO(a):!0}async sba(a){const b=this.bo(a.type,!1);b&&await b.j5(a)}uba(a){const b=this.bo(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.k5(a)}Wp(a){for(const b of this.uo.values())b.Wp(a)}}}
{"use strict";const f=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function h(n){e=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(b.length){var p=performance.now(),q=0;do{g(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&b.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.Ih()}catch(q){n.reject(q);return}n.resolve(p)}let l=f.iM.nx("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");f.hk=function(n){let p=null;f.Rv&&(p=f.Nw());return new Promise((q,u)=>{b.push({Ih:n,resolve:q,reject:u,stack:p});l?g(b.pop()):-1===e&&h(16)})};f.hk.OM=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const f=self.B;let a=-1;function b(){a=-1}f.Jw=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,h=new Set;function m(){c=e=-1;let g=Date.now();for(let l of h)if(l.O3(g)){let n=l.ro;if(-1===c||n<c)c=n}else h.delete(l);-1!==c&&(e=self.setTimeout(m,Math.max(c-g+100,1E3)))}f.kZ=class{constructor(g,l){this.sq=g;this.VA=1E3*l;this.ro=0;this.zb=!1}Uc(){let g=f.Jw();this.ro=g+this.VA;this.zb||(h.add(this),this.zb=!0);-1===e?(c=this.ro,e=self.setTimeout(m,this.VA+
100)):this.ro<c&&c>g+1E3&&(self.clearTimeout(e),c=this.ro,e=self.setTimeout(m,this.VA+100))}O3(g){return g>=this.ro?this.sq()?(this.ro=g+this.VA,!0):this.zb=!1:!0}gV(){this.zb&&(h.delete(this),this.zb=!1,0===h.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.gV();this.sq=null}}}
{"use strict";const f=self.B;f.Jl=class a{constructor(b){this.Fq=!1;this.aG=b}Fw(){this.Fq||(this.Fq=!0,this.aG&&(this.aG(),this.aG=null))}A(){this.Fw()}static A(b){return new a(()=>b.A())}static Lw(b,e,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new f.XJ;for(let g of e)b.addEventListener(g,c,h),m.Ac(f.j(f.Jl,()=>b.removeEventListener(g,c,h)));return m}b.addEventListener(e,
c,h);return f.j(f.Jl,()=>b.removeEventListener(e,c,h))}};f.jja=class extends f.Jl{};f.XJ=class extends f.Jl{constructor(...a){super();this.ve=new Set;for(let b of a)this.Ac(b)}Ac(...a){if(this.Fq)throw Error("already disposed");for(let b of a)this.ve.add(b)}Yg(a){if(this.Fq)throw Error("already disposed");this.ve.delete(a)}Fw(){if(this.Fq)throw Error("already disposed");this.Fq=!0;for(let a of this.ve)a.Fw();this.ve.clear();this.ve=null}A(){this.Fw()}}}
{"use strict";const f=self.B;f.Bx=class extends f.ba{constructor(){super();this.lr=this.tv=this.T=this.Wy=0}Ac(a){this.T=+a-this.Wy;this.tv=this.lr+this.T;this.Wy=this.tv-this.lr-this.T;this.lr=this.tv}U(){return this.lr}Uc(){this.lr=this.tv=this.T=this.Wy=0}Set(a){this.tv=this.T=this.Wy=0;this.lr=+a}A(){}}}
{"use strict";const f=self.B,a={tD:function(b){this.gU=b;this.left=this.right=this.gU.hb;this.parent=null;this.color=!1;this.key=null},Mn:function(b){this.size=0;this.hb=new a.tD(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb;this.compare=b||this.pba}};xa=a.Mn.prototype;xa.pba=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.Mn(this.compare);b.Lba(this);return b};xa.clear=function(){this.size=0;this.hb=new a.tD(this);this.hb.color=!1;this.root=this.hb;this.root.parent=
this.hb};xa.Tv=function(b){var e=b.right;b.right=e.left;e.left!=this.hb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.aw=function(b){var e=b.left;b.left=e.right;e.right!=this.hb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.Fr=function(b){if(this.contains(b))this.Ov(b).key=b;else{var e=new a.tD(this);e.key=
b;b=this.hb;for(var c=this.root;c!=this.hb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.hb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.hb;e.right=this.hb;e.color=!0;this.Mba(e);this.size++}};xa.Mba=function(b){for(;b!=this.hb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Tv(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.aw(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.aw(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.Tv(b.parent.parent));this.root.color=!1};xa.rba=function(b){var e=b.left==this.hb||b.right==this.hb?b:this.bn(b);var c=e.left!=this.hb?e.left:e.right;c.parent=e.parent;e.parent==
this.hb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.qba(c);this.size--};xa.qba=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Tv(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.aw(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Tv(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.aw(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Tv(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.aw(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Ov(b);if(b!=this.hb){var e=b.key;this.rba(b);return e}return null};xa.min=function(b){for(;b.left!=this.hb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.hb;)b=b.right;return b};xa.bn=function(b){if(b.right!=this.hb)return this.min(b.right);for(var e=b.parent;e!=this.hb&&b==e.right;)b=e,e=e.parent;return e};xa.Ov=function(b){for(var e=this.root;e!=this.hb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.Ov(b).key};xa.XI=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.Lba=function(b){if("array"==a.EJ(b))for(var e=0;e<b.length;e++)this.Fr(b[e]);
else if("function"==a.EJ(b.forEach))b.forEach(this.Fr,this);else if("function"==a.EJ(b.XI))for(b=b.XI(),e=0;e<b.length;e++)this.Fr(b[e]);else if("object"==a.EJ(b))for(e in b)this.Fr(b[e])};xa.range=function(b,e){var c=[];this.Nca(function(h){c.push(h)},b,e);return c};xa.Nca=function(b,e,c){if(!this.Ir())for(e=this.Ov(e),c=this.Ov(c);e!=c&&!b.call(void 0,e.key,this);)e=this.bn(e)};xa.forEach=function(b,e){if(!this.Ir())for(var c=this.min(this.root);c!=this.hb;c=this.bn(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.Ir())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.bn(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.Ir())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.bn(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.Ir())return c;for(var h=this.min(this.root);h!=this.hb;h=this.bn(h))c.push(b.call(e,h.key,h.key,this));return c};xa.filter=function(b,e){var c=[];if(this.Ir())return c;
for(var h=this.min(this.root);h!=this.hb;h=this.bn(h))b.call(e,h.key,h.key,this)&&c.push(h.key);return c};xa.Ir=function(){return 0==this.size};f.Mn=class extends f.ba{constructor(b){super();this.Bg=new a.Mn(b);this.Jq=!1;this.Wo=new Set;this.Xo=new Set}Ac(b){this.Jq?this.Bg.contains(b)?this.Xo.delete(b):this.Wo.add(b):this.Bg.Fr(b)}Yg(b){this.Jq?this.Bg.contains(b)?this.Xo.add(b):this.Wo.delete(b):this.Bg.remove(b)}nx(b){return this.Jq?this.Wo.has(b)?!0:!this.Xo.has(b)&&this.Bg.contains(b):this.Bg.contains(b)}ed(){this.Bg.clear();
this.Wo.clear();this.Xo.clear()}toArray(){if(this.Jq)throw Error("cannot be used in queueing mode");return this.Bg.XI()}Ol(){return this.Bg.size+this.Wo.size-this.Xo.size}Gn(){return 0===this.Ol()}$g(b){b=!!b;if(this.Jq!==b&&(this.Jq=b,!b)){for(const e of this.Xo)this.Bg.remove(e);this.Xo.clear();for(const e of this.Wo)this.Bg.Fr(e);this.Wo.clear()}}vK(b){this.Bg.forEach(b)}*values(){if(!this.Gn()){var b=this.Bg;for(let e=b.min(b.root);e!=b.hb;e=b.bn(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const f=self.B;f.dM=class{constructor(a=f.hardwareConcurrency){this.maa=a;this.NH=[];this.oF=0}Ac(a){return new Promise((b,e)=>{this.NH.push({Ih:a,resolve:b,reject:e});this.hP()})}async hP(){if(this.NH.length&&!(this.oF>=this.maa)){this.oF++;var a=this.NH.shift();try{const b=await a.Ih();a.resolve(b)}catch(b){a.reject(b)}this.oF--;this.hP()}}}}
{"use strict";const f=self.B;f.M0=class{constructor(a,b,e){this.sq=a;this.Y$=b;this.Z$=e||2*b;this.rr=-1;this.cA=-Infinity;this.GS=()=>this.z7();this.D$=this.BG=!1;this.Yt=null}F5(){return"undefined"!==typeof f.UU&&f.UU.efa()?this.Z$:this.Y$}fV(){var a=[];if(-1===this.rr){this.Yt=a;a=f.Jw();var b=a-this.cA,e=this.F5();b>=e&&this.D$?(this.cA=a,this.HP()):this.rr=self.setTimeout(this.GS,Math.max(e-b,4))}}HP(){this.BG=!0;const a=this.Yt;this.Yt=null;a?this.sq(...a):this.sq();this.BG=!1}Uc(){this.BG||
(this.SN(),this.Yt=null,this.cA=f.Jw())}z7(){this.rr=-1;this.cA=f.Jw();this.HP()}SN(){-1!==this.rr&&(self.clearTimeout(this.rr),this.rr=-1)}A(){this.SN();this.GS=this.Yt=this.sq=null}}}"use strict";function hc(f,a){if(!f.XQ)throw Error("no get base size callback set");return f.XQ(a)}self.B.Nha=class{constructor(){this.V$=new Map;this.jS=this.kS=this.XQ=null}Lx(){if(!this.jS)throw Error("no redraw callback set");this.jS()}};"use strict";
self.B.Mha=class{constructor(f,a){this.yg=f;this.K$=a;this.wc=0;hc(this.yg,a).then(()=>{this.yg.Lx()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.yg.Lx()});this.OH=null}A(){if(0>=this.wc)throw Error("already released");this.wc--;0===this.wc&&this.Dt()}Dt(){if(this.OH){var f=this.yg;if(!f.kS)throw Error("no release result callback set");f.kS(this.OH);this.OH=null}this.yg.V$.delete(this.K$);this.yg=null}};
{"use strict";const f=self.B;f.vja="\ufeff";const a=new Set([..."0123456789"]);f.f_=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);f.Ax=function(n){return b.has(n)};f.hea=function(n){return[...n].filter(p=>!f.Ax(p)).join("")};f.kD=function(n){for(const p of n)if(!f.Ax(p))return!1;return!0};f.q_=function(n){return 1===n.length&&32>n.charCodeAt(0)};f.lX=function(n){return[...n].filter(p=>
!f.q_(p)).join("")};const e=new Set([..."0123456789.+-e"]);f.lfa=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};f.W0=function(n){let p=n.length;for(;0<p&&f.f_(n.charAt(p-1));)--p;return n.substr(0,p)};f.Hea=function(n){let p=f.W0(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;f.cX=function(n){return n.replace(m,h)};f.Zda=function(n){n=f.$h(n,"\\","\\\\");n=f.$h(n,'"','\\"');n=f.$h(n,"\t","\\t");n=f.$h(n,"\r","");return f.$h(n,"\n","\\n")};f.$da=function(n){n=f.$h(n,"&","&amp;");n=f.$h(n,"<","&lt;");n=f.$h(n,">","&gt;");return f.$h(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;f.Vr=function(n){return n.replace(g,"\\$&")};f.iea=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};f.$h=function(n,p,q){return n.replaceAll(p,()=>q)};f.Pga=function(n,p,q){return n.replace(new RegExp(f.Vr(p),"gi"),()=>q)};f.fia=function(n,p){"string"===typeof p?n.textContent=p:p.xR?n.textContent=p.toString():(n.innerHTML=p.BJ(),p instanceof f.Il&&p.aba(n))};f.eja=function(n,p){return n instanceof f.RC||n instanceof f.Il?n.$c(p):p instanceof f.RC||p instanceof f.Il?p.$c(n):n===p};f.fja=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};f.gja=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};f.hja=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};f.Tia=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};f.lea=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.mla;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Yaa:!1,mba:!0,Kba:!0,cca:!0,ST:!0};f.mea=function(n,p){p=Object.assign({},
l,p);f.t_.Hga("common.time");const q=[],u=self.lang,w=self.lla;if(p.mba){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.Kba&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.cca&&(r=Math.floor(n/60),0<r||q.length||!p.ST)&&(n-=60*r,q.push(w(".minutes",null,r)));p.ST&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Yaa?u(".approx-prefix"):"")+q.join(u(".separator"));f.t_.Fga();return n};f.Pja=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};f.ija=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};f.Jda=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());f.QT(n);f.QT(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};f.Pda=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
f.cja=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};f.dja=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const f=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:l}const g=/\n/g;f.Il=class{constructor(l,n){this.hh=n&&n.gca?l:f.cX(l);this.AG="";this.AQ=!1;this.Ou=[];if(n&&(this.AQ=!!n.kka,n.links)){if(9<n.links.length)throw Error("too many links");this.Ou=n.links}this.bR=this.hh.includes("[");this.ZR=this.AQ&&this.hh.includes("\n");this.xR=!this.bR&&!this.ZR&&!this.hh.includes("&");this.fR=!1;this.ou=[]}toString(){return this.hh}valueOf(){return this.hh}BJ(){if(this.xR)return this.hh;if(!this.AG&&this.hh){let l=this.hh;
this.bR&&(h=0,c=this.Ou,l=l.replace(b,m),c=null);this.ZR&&(l=l.replace(g,"<br>"));this.AG=l}return this.AG}aba(l){if(this.Ou.length)for(let n=0,p=this.Ou.length;n<p;++n){const q=this.Ou[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}$c(l){return l instanceof f.RC?this.BJ()===l.BJ():l instanceof f.Il?this.hh===l.hh:this.hh===l}Kca(){if(this.fR)return this.ou;const l=this.hh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.ou.push({text:v,ad:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Jh:u})}p<l.length&&this.ou.push({text:l.substring(p),ad:n.slice(0)});for(const v of this.ou)v.text=
this.K7(v.text);this.fR=!0;return this.ou}K7(l){l=f.$h(l,"\\[","[");return f.$h(l,"\\\\","\\")}static mN(l){return l.replace(e,"")}}}
{"use strict";const f=self.B;f.hE=class{constructor(){this.qm=[]}jP(a,b){let e=0,c=0,h=0,m=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.ad),l.width=a.width,l.height=a.height,l.Xf=a.Xf||0,l.mf=a.mf||0,l.qf=a.qf||0),e+=l.width,c=Math.max(c,l.height),h=Math.max(h,l.Xf),m=Math.max(m,l.mf),g=Math.max(g,l.qf);return{width:e,height:c,Xf:h,mf:m,qf:g}}gy(a,b,e,c,h,m){this.qm.push({pT:a,width:b,height:e,Xf:c,mf:h,qf:m})}hE(a,b,e,c,h){"string"===typeof a&&(a=[{text:a,ad:[]}]);f.C(this.qm);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var m=a[0];const g=m.text;m=m.ad;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Xf:p,mf:q,qf:u}=b(g,m);l+=h;p=p||0;q=q||0;u=u||0;if(l<=e){this.gy([{text:g,ad:m,width:l,height:n,Xf:p,mf:q,qf:u}],l,n,p,q,u);return}}}if("word"===c)c=this.O9(a);else{c=[];for(const g of a)f.Tm(c,[...g.text].map(l=>[{text:l,ad:g.ad}]))}this.i$(c,b,e,h)}}O9(a){const b=[];let e=[],c=!1;for(const m of a){var h=m.text;a=m.ad;for(const g of h)"\n"===g?(0<e.length&&
b.push(e),b.push([{text:"\n",ad:a}]),e=[]):0===e.length?(e.push({text:g,ad:a}),c=f.Ax(g)):(h=f.Ax(g),h===c?(h=e.Md(-1),h.ad===a?h.text+=g:e.push({text:g,ad:a})):(b.push(e),e=[],e.push({text:g,ad:a}),c=h))}0<e.length&&b.push(e);return b}R3(a){return a.map(b=>({text:b.text,ad:b.ad,width:b.width,height:b.height,Xf:b.Xf,mf:b.mf,qf:b.qf}))}NN(a,b){var e=a.length?a.Md(-1):null;let c=0;e&&b[0].ad===e.ad&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.Xf=-1,e.mf=-1,e.qf=-1,c=1);for(e=b.length;c<e;++c){const h=
b[c];a.push({text:h.text,ad:h.ad,width:-1,height:-1,Xf:-1,mf:-1,qf:-1})}}i$(a,b,e,c){let h=[],m=0,g=0,l=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===g&&(p=b(" ",q[0].ad),g=p.height,l=p.Xf||0,n=p.mf||0,p=p.qf||0);this.gy(h,m,g,l,n,p);h=[];p=n=l=g=m=0;continue}a=this.R3(h);this.NN(a,q);const u=this.jP(a,b),w=u.width;w>=e?(0<h.length&&this.gy(h,m,g,l,n,p),h=[],f.kD(q[0].text)?p=n=l=g=m=0:(this.NN(h,q),p=this.jP(h,b),m=p.width,g=p.height,l=p.Xf,n=p.mf,p=p.qf)):(h=a,m=w,g=u.height,
l=u.Xf,n=u.mf,p=u.qf)}0<h.length&&this.gy(h,m,g,l,n,p);this.R9(b,c)}R9(a,b){for(const c of this.qm){const h=c.pT;if(!h.length)continue;let m=h.Md(-1);var e=m.text;const g=e.trimEnd();if(!g)c.width-=m.width,h.pop();else if(g.length<e.length){e=a(g,m.ad).width;const l=m.width-e;m.width=e;m.text=g;c.width-=l}0!==b&&0<h.length&&(m=h.Md(-1),m.width+=b,c.width+=b)}}ed(){f.C(this.qm)}lY(){return this.qm.reduce((a,b)=>Math.max(a,b.width),0)}GY(){return this.qm.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const f=self.B,a=self.Ri,b=a.GB,e=a.dw,c=a.Cl,h=b.create(),m=b.create(),g=b.create(),l=e.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=e.nf(0,0,1,1);f.H={D0(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},zj(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Hr(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;e.CJ(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},S2(J,M,P,R,T,Z,X){if(!f.H.zj(J,M,0,R,T,Z,h)||!f.H.zj(J,M,1,R,T,Z,m))return!1;b.Gl(m,m,h);b.set(g,0,0,1);J=-P;M=b.Wm(g,m);P=0;if(0===M){if(0!==
b.Wm(g,h)+J)return!1}else if(P=-(b.Wm(h,g)+J)/M,0>P)return!1;b.vJ(X,h,m,P);return!0}};function z(J,M,P,R){b.Gl(h,P,M);b.Gl(m,J,M);b.OI(g,h,m);b.normalize(g,g);R.set(g[0],g[1],g[2],b.Wm(J,g))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.nU,Na=X.oU;X=X.pU;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.pU=this.oU=this.nU=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.nU=0<J?1:0;this.oU=0<M?1:0;this.pU=0<P?1:0}}f.H.a3=class{constructor(){this.OR=new H;this.HS=new H;this.nS=new H;this.tQ=new H;this.zH=new H;this.PQ=new H}dV(J,M){f.H.zj(0,1,0,J,M,G,p);f.H.zj(1,1,0,J,M,G,q);f.H.zj(0,0,0,J,M,G,u);f.H.zj(1,0,0,J,M,G,w);f.H.zj(0,1,1,J,M,G,r);f.H.zj(1,1,1,J,M,G,v);f.H.zj(0,0,1,J,M,G,y);f.H.zj(1,0,1,J,M,G,A);z(u,p,r,this.OR);z(p,q,v,this.HS);z(q,w,A,this.nS);z(w,u,y,this.tQ);z(y,r,v,this.PQ);z(w,q,p,this.zH)}wV(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.OR)&&F(J,M,P,R,T,Z,this.HS)&&F(J,M,P,R,T,Z,this.nS)&&F(J,M,P,R,T,Z,this.tQ)&&F(J,M,P,R,T,Z,this.zH)&&F(J,M,P,R,T,Z,this.PQ)}WZ(J,M,P){var R=this.zH;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const f=self.B,a=self.Ri,b=a.GB,e=a.dw,c=a.Cl,h=c.create(),m=b.nf(0,0,0),g=b.nf(0,0,0),l=b.nf(0,0,0),n=b.nf(0,1,0);e.nf(0,0,0,0);new f.kd;new f.Rect;const p=new f.kd(0,0,1,0,1,1,0,1);f.H.Z0=class{constructor(){this.O=this.R=0;this.SQ=f.sb(45);this.iI=Math.tan(this.SQ/2);this.nA=c.create();this.sH=c.create();this.jo=[];this.JA=new Map;this.YH=this.NA=this.OA=null;this.rv=new Map;this.ri=null;this.HF=[];this.YR=new Map;this.gu=this.Rt=0;this.iaa=this.jaa=1;this.nH=.5;this.nh=0;this.Iq=
!0;this.zG=!1}kX(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}VN(){this.gu=this.Rt=0;this.YH=this.NA=this.OA=null;this.P3()}ux(){this.VN();this.ri=null}e0(){for(const q of this.jo)q.A();this.VN()}$(){return this.R}Z(){return this.O}qp(q,u,w=.5,r=.5){var v=this.SQ;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.iI,u*=v,c.Cba(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}cV(q,u,w){const r=self.devicePixelRatio,v=200*r*this.iI/w;u=u*v/(2*
r);w=w*v/(2*r);c.kca(q,-u,u,-w,w,1,1E4)}OJ(q,u,w,r,v=this.Z()){v=200*self.devicePixelRatio*this.iI/v;b.set(l,v,-v,1);b.multiply(m,u,l);b.multiply(g,w,l);c.$ba(q,m,g,r||n);c.scale(q,q,l)}Tr(q,u,w,r,v,y){b.set(m,q,u,w);b.set(g,r,v,0);this.OJ(h,m,g,n,y);return h}y3(q){this.jo.push(q);this.JA.set(q.wa(),q)}f8(q){const u=this.jo.indexOf(q);-1!==u&&this.jo.splice(u,1);this.JA.delete(q.wa())}P3(){f.C(this.jo);this.JA.clear()}aL(q){return this.JA.get(q)||null}xj(){this.cq(this.OA)}GM(){this.cq(this.YH)}a9(q){this.ri=
q}sU(q,u,w,r){const v=f.H.bE.KL(q,u,w,r);let y=this.rv.get(v);y||(y=f.j(f.H.bE,this,q,u,w,r),this.rv.set(v,y));y.EU();return y}kM(q){q.QV();0===q.wc&&(this.ri===q&&(this.ri=null),this.rv.delete(q.eY()),q.A())}Z5(q){f.C(this.HF);this.YR.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.HF.push([r,v]);this.YR.set(q,{Rla:u,Rma:r,ska:v});u++}}y5(q){return this.HF[q]}Vp(q){this.Rt=q}Ss(q){this.gu=q;this.ri=null}Ex(q,u,w,r,v,y){var A=this.nH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=
2*v;this.Jx(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}Dx(q,u,w,r,v,y){const A=this.nH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Jx(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}Cx(q,u,w,r,v,y){const A=this.nH;q+=A;u+=A;w+=A;r+=A;this.Jx(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}w_(q,u,w,r){const v=.5*this.jaa,y=this.iaa;2===y?this.u6(q,u,w,r,v):1===y?this.t6(q,u,w,r,v):this.s6(q,u,w,r,v)}u6(q,u,w,r,v){this.Ex(q,u,w,u,0,v);this.Ex(w,u,w,r,v,0);this.Ex(w,r,q,r,0,-v);this.Ex(q,r,q,u,-v,0)}t6(q,u,w,
r,v){this.Dx(q,u,w,u,0,v);this.Dx(w,u,w,r,v,0);this.Dx(w,r,q,r,0,-v);this.Dx(q,r,q,u,-v,0)}s6(q,u,w,r,v){this.Cx(q,u,w,u,0,v);this.Cx(w,u,w,r,v,0);this.Cx(w,r,q,r,0,-v);this.Cx(q,r,q,u,-v,0)}FL(q){this.w_(q.S,q.M,q.da,q.Y)}Yr(){this.Wi();this.nh++}nZ(){this.nh++}MD(q){this.Iq=!!q}T1(q){this.zG=!!q}zk(){return!1}}}"use strict";
self.B.H.z2=class{constructor(f,a,b){this.Da=a;this.na=f;this.MQ=b.xba||0;this.NQ=b.yba||0;this.BQ=!!b.kba;this.oaa=!!b.eca;this.dr=!!b.mca;this.p$=!!b.Xaa;this.IF=!!b.bba;this.$A=!!b.Rca;this.NS=!1}A(){this.na=null}gb(){return this.na}wa(){return this.Da}Kp(){return this.oaa}};
{"use strict";const f=self.B;f.H.bE=class{constructor(a,b,e,c,h){this.na=a;this.wc=0;this.Nc=null;this.jv="";this.qg=e;this.Za=f.j(f.Xa);this.Za.set(c);this.Pc=h;"string"===typeof b?this.jv=b:(this.Nc=b,this.jv=this.Nc.wa())}A(){if(0<this.wc)throw Error("releasing state group still in use");this.Nc=this.na=null;this.jv=""}LU(){const a=this.na;a.cq(this.Nc);a.Df(this.qg);a.Vl(this.Za);a.Ss(this.Pc);a.a9(this)}eY(){return f.H.bE.KL(this.jv,this.qg,this.Za,this.Pc)}EU(){++this.wc}QV(){--this.wc}Ak(){this.Nc=
null}pD(a){this.Nc=a.aL(this.jv);if(!this.Nc)throw Error("failed to restore shader program");}static KL(a,b,e,c){return("string"===typeof a?a:a.wa())+","+b+","+e.Pa+","+e.Ta+","+e.Sa+","+e.Ra+","+c}}}
{"use strict";const f=self.B,a=f.j(f.kd);function b(e,c,h){const m=h.qb,g=h.rb;return[m+(h.ec-m)*e+(h.Wb-m)*c,g+(h.fc-g)*e+(h.Xb-g)*c]}f.H.N_=class{constructor(e){this.wH=e;this.Jg=this.Hg=this.Pc=this.T=this.aa=0}ng(e,c,h,m){this.aa=e;this.T=c;this.Hg=h;this.Jg=m}qa(){return this.aa}ah(e){this.aa!==e&&(this.aa=e,this.wH.dF())}ra(){return this.T}bh(e){this.T!==e&&(this.T=e,this.wH.dF())}Ya(){return this.Pc}Qe(e){this.Pc!==e&&(this.Pc=Math.max(e,0),this.wH.dF())}TD(e){this.Hg=e}UD(e){this.Jg=e}m6(e,
c,h){[this.aa,this.T]=b(e.aa,e.T,c);this.Pc=e.Pc;this.Hg=f.Nd(h.S,h.da,e.Hg);this.Jg=f.Nd(h.M,h.Y,e.Jg)}l6(e,c,h){[this.aa,this.T]=b(e.aa,e.T,c);this.Pc=e.Pc;[this.Hg,this.Jg]=b(e.Hg,e.Jg,h)}qd(){return{x:this.qa(),y:this.ra(),z:this.Ya(),u:this.Hg,v:this.Jg}}jd(e){this.ah(e.x);this.bh(e.y);e.hasOwnProperty("z")&&this.Qe(e.z);this.TD(e.u);this.UD(e.v)}};f.H.ML=class{constructor(e,c,h){if(2>e||2>c)throw Error("invalid mesh size");this.Kj=e;this.Xj=c;this.Pb=h||null;this.ym=[];this.WR=this.VR=0;this.SR=
this.RR=1;this.TR=0;this.IH=!1;h=e-1;const m=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<e;++n){const p=f.j(f.H.N_,this,n,g),q=n/h,u=g/m;p.ng(q,u,q,u);l.push(p)}this.ym.push(l)}}A(){f.C(this.ym)}dF(){this.IH=!0}wt(){if(this.IH){var e=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const l of this.ym)for(const n of l){const p=n.qa(),q=n.ra();e=Math.min(e,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.Ya())}this.VR=e;this.WR=c;this.RR=h;this.SR=m;this.TR=g;this.IH=!1}}qY(){this.wt();
return this.VR}rY(){this.wt();return this.WR}mY(){this.wt();return this.RR}nY(){this.wt();return this.SR}pY(){this.wt();return this.TR}xp(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Kj||0>c||c>=this.Xj?null:this.ym[c][e]}PJ(e,c,h){const m=h instanceof f.Rect;if(e.Kj!==this.Kj||e.Xj!==this.Xj)throw Error("source mesh wrong size");e=e.ym;const g=this.ym;for(let l=0,n=g.length;l<n;++l){const p=e[l],q=g[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.m6(r,c,h):v.l6(r,c,h)}}}Qg(e){const c=
this.ym;let h=c[0];for(let m=1,g=c.length;m<g;++m){const l=c[m];let n=h[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=h[q],r=l[q];a.set(n.Hg,n.Jg,w.Hg,w.Jg,r.Hg,r.Jg,p.Hg,p.Jg);e.Jx(n.qa(),n.ra(),n.Ya(),w.qa(),w.ra(),w.Ya(),r.qa(),r.ra(),r.Ya(),p.qa(),p.ra(),p.Ya(),a);n=w;p=r}h=l}}QZ(e){e=e.yd;const c=[],h=this.Kj-1,m=this.Xj-1,g=1/h,l=1/m,n=h-1,p=m-1;let q=e[0],u=e[1],w=f.ea(Math.floor(q*h),0,n),r=f.ea(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=f.ea(f.Nd(q,v,A),0,1);u=f.ea(f.Nd(u,
y,A),0,1);c.push(q,u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=f.ea(Math.floor(q*h),0,n),r=f.ea(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*l,P=(w+1)*g,R=(r+1)*l;if(0!==G&&(A=f.$v(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=f.$v(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=f.$v(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();
w++;G=1;continue}if(0<w&&1!==G&&(A=f.$v(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=f.$v(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return f.j(f.jn,c)}N2(e,c){e=this.P9(e);this.G9(e);c.zB(e)}P9(e){const c=[];e=e.yd;for(let h=0,m=e.length;h<m;h+=2){const [g,l]=this.pN(e[h],e[h+1]);c.push(g,l)}return c}pN(e,c){var h=this.Kj-1,m=this.Xj-1;const g=1/h,l=1/m;h=f.ea(Math.floor(e*h),0,h-1);const n=f.ea(Math.floor(c*m),0,m-1);m=h*g;const p=
n*l,q=(h+1)*g,u=(n+1)*l,w=this.xp(h,n),r=this.xp(h+1,n+1),v=f.Sba(e,c,m,p,q,p,q,u);h=this.xp(h+(v?1:0),n+(v?0:1));const [y,A,G]=f.Pca(e,c,m,p,v?m+g:m,v?p:p+l,q,u);return f.Oca(y,A,G,w.qa(),w.ra(),h.qa(),h.ra(),r.qa(),r.ra())}G9(e){const c=[];let h=e[0],m=e[1],g=h-e.Md(-2),l=m-e.Md(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(l)||
v)&&1E-7<Math.abs(w/g-r/l)||0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;l=r}6<=c.length&&c.length<e.length&&f.zc(e,c)}qd(){return{cols:this.Kj,rows:this.Xj,points:this.ym.map(e=>e.map(c=>c.qd()))}}jd(e){const c=this.Kj,h=this.Xj;if(e.cols!==c||e.rows!==h)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<h;++m){const g=e[m];for(let l=0;l<c;++l)this.xp(l,m).jd(g[l])}}}}
{"use strict";const f=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{yJ:n,Gr:q,format:u,type:p}}const m={IB:"clamp-to-edge",JB:"clamp-to-edge",Si:"trilinear",aT:0,oJ:"rgba8",vB:!0,Xv:"default",premultiplyAlpha:!0,AT:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;f.H.fy=class{constructor(n){this.na=n;this.ib=null;this.O=this.R=0;this.qh=!0;this.Cr=this.Br="clamp-to-edge";this.dd="trilinear";this.xF=0;this.xm="rgba8";this.al=!1;this.Oo=
"default";this.wc=0}g4(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.ib)throw Error("already created texture");this.Br=p.IB;this.Cr=p.JB;
this.dd=p.Si;this.xF=p.aT;this.xm=p.oJ;this.al=!!p.vB&&this.na.Iq;this.Oo=p.Xv;if(!c.has(this.Br)||!c.has(this.Cr))throw Error("invalid wrap mode");if(!b.has(this.dd))throw Error("invalid sampling");if(!a.has(this.xm))throw Error("invalid pixel format");if(!e.has(this.Oo))throw Error("invalid mipmap quality");this.qh=!0;if(n instanceof ArrayBuffer||null===n||p.AT){if(this.R=p.width,this.O=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.R*this.O*4)throw Error("ArrayBuffer wrong size");}else this.R=
n.width,this.O=n.height;if(0>=this.R||0>=this.O)throw Error("invalid texture data size");if(p.AT){var q=f.Ng(this.R,this.O);q.getContext("2d").drawImage(n,0,0,this.R,this.O);n=q}var u=f.ek(this.R)&&f.ek(this.O);q=this.na.oA;if(this.R>q||this.O>q)throw Error("texture data exceeds maximum texture size");q=this.na.L;var w=this.na.Zc;this.ib=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.ib);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.xm,q);if(this.na.Vn()||u||!this.JE())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.al?Math.floor(Math.log2(Math.max(this.R,this.O))+1):1,p.yJ,this.R,this.O),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.R,this.O,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Gr,this.R,this.O,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Gr,this.R,this.O,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Gr,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.R,this.O));n instanceof ImageData&&(u=f.Ng(this.R,this.O),u.getContext("2d").putImageData(n,0,0),n=u);u=f.Ng(f.GT(this.R),f.GT(this.O));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.dd;w.drawImage(n,0,0,this.R,this.O,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Gr,p.format,p.type,u)}null!==n&&this.XP(q);q.bindTexture(q.TEXTURE_2D,null);this.na.UE();this.wc=1;l.add(this)}T3(n,p,q){q=Object.assign({},m,q);if(this.ib)throw Error("already created texture");this.Br=q.IB;this.Cr=q.JB;this.dd=q.Si;this.xm=q.oJ;this.al=!!q.vB&&this.na.Iq;this.Oo=q.Xv;if(!c.has(this.Br)||!c.has(this.Cr))throw Error("invalid wrap mode");if(!b.has(this.dd))throw Error("invalid sampling");if(!a.has(this.xm))throw Error("invalid pixel format");if(!e.has(this.Oo))throw Error("invalid mipmap quality");
this.qh=!1;this.R=Math.floor(n);this.O=Math.floor(p);n=f.ek(this.R)&&f.ek(this.O);p=this.na.oA;if(0>=this.R||0>=this.O)throw Error("invalid texture size");if(this.R>p||this.O>p)throw Error("texture exceeds maximum texture size");if(!this.na.Vn()&&this.JE()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.na.L;p=this.na.Zc;this.ib=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.ib);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.xm,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.yJ:q.Gr,this.R,this.O,0,q.format,q.type,null);this.XP(n);n.bindTexture(n.TEXTURE_2D,null);this.na.UE();this.wc=1;l.add(this)}FE(n){if("default"===this.Oo)return this.qh?n.NICEST:n.FASTEST;if("low"===this.Oo)return n.FASTEST;if("high"===this.Oo)return n.NICEST;throw Error("invalid mipmap quality");}JE(){return"clamp-to-edge"!==this.Br||"clamp-to-edge"!==this.Cr}LO(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}XP(n){var p=f.ek(this.R)&&f.ek(this.O);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.LO(n,this.Br));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.LO(n,this.Cr));"nearest"===this.dd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.al=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.na.Vn())&&this.al?(n.hint(n.GENERATE_MIPMAP_HINT,
this.FE(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.dd||this.na.zG?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.al=!1));(p=this.na.Nt)&&0<this.xF&&"nearest"!==this.dd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.xF,this.na.uH))}gQ(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.ib||0>=this.wc)throw Error("texture not created");if(this.qh)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.na.Zc;
const r=this.na.L;r.bindTexture(r.TEXTURE_2D,this.ib);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.xm,r);w=2<=w?p.yJ:p.Gr;try{if(this.R===q&&this.O===u){const v=f.ek(this.R)&&f.ek(this.O);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.na.Vn())&&this.al&&(r.hint(r.GENERATE_MIPMAP_HINT,this.FE(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.R=q;this.O=u;const v=f.ek(this.R)&&f.ek(this.O);if(!this.na.Vn()&&this.JE()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.na.Vn())&&this.al&&(r.hint(r.GENERATE_MIPMAP_HINT,this.FE(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.na.UE()}uE(){if(0<this.wc)throw Error("texture still has references");if(!this.ib)throw Error("already deleted texture");l.delete(this);this.na.L.deleteTexture(this.ib);this.ib=null}gb(){return this.na}I2(){if(0>=
this.wc)throw Error("no more references");this.wc--}$(){return this.R}Z(){return this.O}yC(){let n=this.R*this.O;switch(this.xm){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.al&&(n+=Math.floor(n/3));return n}static Ak(){l.clear()}static Saa(){return l.values()}}}
{"use strict";const f=self.Ri.Cl,a=new Set(["nearest","bilinear","trilinear"]),b={Si:"trilinear",alpha:!0,depth:!1,eJ:!0,vT:!0,dca:0},e=new Set;self.B.H.CN=class{constructor(c){this.na=c;this.Tj=this.ib=this.zo=this.ug=null;this.O=this.R=0;this.Oz=!0;this.dd="trilinear";this.qq=!0;this.Hc=!1;this.Eu=!0;this.hl=0;this.Rj=f.create()}S3(c,h,m){m=Object.assign({},b,m);const g=this.na.Zc;if(this.ib||this.Tj)throw Error("already created render target");this.dd=m.Si;this.qq=!!m.alpha;this.Hc=!!m.depth;this.Eu=
!!m.eJ;this.Oz=!!m.vT;this.hl=m.dca;if(!a.has(this.dd))throw Error("invalid sampling");if(0<this.hl&&(2>g||this.Eu))throw Error("invalid use of multisampling");2>g&&(this.Eu=!0);this.R=c;this.O=h;if(0>=this.R||0>=this.O)throw Error("invalid render target size");this.RN();c=this.na.L;this.ug=c.createFramebuffer();this.Hc&&(this.zo=c.createFramebuffer());this.Eu?(this.ib=this.na.eK(this.R,this.O,{Si:this.dd,oJ:this.qq?"rgba8":"rgb8",vB:!1}),h=this.ib.ib,c.bindFramebuffer(c.FRAMEBUFFER,this.ug),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.Hc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.zo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.Tj=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Tj),h=this.qq?c.RGBA8:c.RGB8,0<this.hl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.hl>m&&(this.hl=m)):this.hl=0),0===this.hl?c.renderbufferStorage(c.RENDERBUFFER,h,this.R,this.O):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.hl,h,this.R,this.O),c.bindFramebuffer(c.FRAMEBUFFER,this.ug),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Tj),this.Hc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.zo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Tj)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.na.sg;this.Hc&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ug),this.na.Zt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}DP(c,h){if(this.R!==c||this.O!==h)this.R=c,this.O=h,this.RN(),c=this.na.L,c.bindFramebuffer(c.FRAMEBUFFER,this.ug),this.ib?this.ib.gQ(new ImageData(this.R,this.O)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Tj),c.renderbufferStorage(c.RENDERBUFFER,this.qq?c.RGBA8:c.RGB8,this.R,this.O),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.na.sg,this.Hc&&h&&(this.na.Zt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}uE(){if(!this.ib&&!this.Tj)throw Error("already deleted render target");e.delete(this);var c=this.na.L;this.ib?(c.bindFramebuffer(c.FRAMEBUFFER,this.ug),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Hc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.zo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.na.Vi(this.ib),this.ib=null):this.Tj&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ug),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Hc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.zo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Tj),this.Tj=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.na.Zc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.ug);
this.Hc&&c.deleteFramebuffer(this.zo);c=this.na.nc;c.zl=null;this.ug=c.Pi=null}RN(){this.na.qp(this.Rj,this.R/this.O)}gb(){return this.na}Pd(){return this.ib}fD(){return"nearest"!==this.dd}$(){return this.R}Z(){return this.O}ZZ(c){c=Object.assign({},b,c);return"nearest"!==c.Si!==this.fD()||!!c.alpha!==this.qq||!!c.depth!==this.Hc||2<=this.na.Zc&&!!c.eJ!==this.Eu?!1:"number"===typeof c.width||"number"===typeof c.height?!this.Oz&&this.$()===c.width&&this.Z()===c.height:this.Oz}yC(){return this.ib?this.ib.yC():
this.R*this.O*(this.qq?4:3)}static Ak(){e.clear()}}}
{"use strict";const f=self.B;f.H.ht=class extends f.H.z2{static async tV(a,b,e,c){const h=a.L,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,b);h.compileShader(m);b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,e);h.compileShader(b);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,b);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const l=a.GH;l?await a.f$(()=>h.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):
await f.yN(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(b,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(b),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error linking shader program: "+
c);(a=f.lX(h.getProgramInfoLog(g)||"").trim())&&!f.kD(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);h.deleteShader(m);h.deleteShader(b);return g}static async Ja(a,b,e,c){e=await f.H.ht.tV(a,b.src,e,c);return new f.H.ht(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const h=a.L;var m=a.nc;a.Wi();h.useProgram(b);this.L=h;this.Nc=b;this.Pz="<default-device-transform>"===c;c=h.getAttribLocation(b,"aPos");const g=h.getAttribLocation(b,"aTex");this.qH=h.getAttribLocation(b,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,a.dB),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,a.TA),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.qH&&(h.bindBuffer(h.ARRAY_BUFFER,a.wA),h.vertexAttribPointer(this.qH,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.qH));h.bindBuffer(h.ARRAY_BUFFER,null);this.oI=new f.H.Vb(this,"matP","mat4");this.nI=new f.H.Vb(this,"matMV","mat4");this.ip=new f.H.Vb(this,"color",
"vec4");this.Laa=new f.H.Vb(this,"samplerFront","sampler");this.rI=new f.H.Vb(this,"pointTexStart","vec2");this.qI=new f.H.Vb(this,"pointTexEnd","vec2");this.uI=new f.H.Vb(this,"zElevation","float");this.sI=new f.H.Vb(this,"tileSize","vec2");this.tI=new f.H.Vb(this,"tileSpacing","vec2");this.mI=new f.H.Vb(this,"color2_","vec4");this.pI=new f.H.Vb(this,"outlineThickness","float");this.yr=new f.H.Vb(this,"samplerBack","sampler");this.Kaa=new f.H.Vb(this,"samplerDepth","sampler");this.Im=new f.H.Vb(this,
"destStart","vec2");this.Hm=new f.H.Vb(this,"destEnd","vec2");this.Mi=new f.H.Vb(this,"srcStart","vec2");this.tl=new f.H.Vb(this,"srcEnd","vec2");this.wl=new f.H.Vb(this,"srcOriginStart","vec2");this.ul=new f.H.Vb(this,"srcOriginEnd","vec2");this.Ig=new f.H.Vb(this,"pixelSize","vec2");this.Om=new f.H.Vb(this,"seconds","float");this.Jm=new f.H.Vb(this,"devicePixelRatio","float");this.Lm=new f.H.Vb(this,"layerScale","float");this.Km=new f.H.Vb(this,"layerAngle","float");this.Nm=new f.H.Vb(this,"layoutStart",
"vec2");this.Mm=new f.H.Vb(this,"layoutEnd","vec2");this.cR=!!(this.Ig.P||this.Om.P||this.yr.P||this.Im.P||this.Hm.P||this.Mi.P||this.tl.P||this.wl.P||this.ul.P||this.Jm.P||this.Lm.P||this.Km.P||this.Nm.P||this.Mm.P);a=e.parameters||[];this.jp=[];this.NS=this.Ig.P||this.Mi.P||this.tl.P||this.wl.P||this.ul.P;this.wG=this.xG=!1;this.ip.pL();this.mI.pL();this.Laa.TC(0);this.yr.TC(1);this.Kaa.TC(2);this.rI.dg(0,0);this.qI.dg(1,1);this.uI.Cn(0);this.sI.dg(0,0);this.tI.dg(0,0);this.Im.dg(0,0);this.Hm.dg(1,
1);this.Mi.dg(0,0);this.tl.dg(0,0);this.wl.dg(0,0);this.ul.dg(0,0);this.Ig.dg(0,0);this.Jm.Cn(1);this.Lm.Cn(1);this.Km.Cn(0);this.Om.Cn(0);this.Nm.dg(0,0);this.Mm.dg(0,0);this.pI.Cn(1);for(const l of a)a=l[2],b=new f.H.Vb(this,l[0],a),"color"===a?b.oZ():b.Cn(0),this.jp.push(b);this.Pz?this.lQ(m.Kv):(this.cy(m.Kv,!0),this.by(m.kB,!0));m=m.Hh;h.useProgram(m?m.Nc:null)}A(){this.L.deleteProgram(this.Nc);this.Nc=null;this.na.f8(this);this.L=null;super.A()}xf(){return this.Nc}$w(a){return this.jp[a].lj()}MU(a){for(let b=
0,e=a.length;b<e;++b)if(!this.jp[b].l_(a[b]))return!1;return!0}E1(a){for(let b=0,e=a.length;b<e;++b)this.jp[b].A1(a[b])}NU(a,b,e,c,h,m,g,l,n,p){return this.yr.P||this.Ig.P&&!this.Ig.yk(h,m)||this.Im.P&&!this.Im.yk(a.S,a.M)||this.Hm.P&&!this.Hm.yk(a.da,a.Y)||this.Jm.P&&!this.Jm.zx(g)||this.Lm.P&&!this.Lm.zx(l)||this.Km.P&&!this.Km.zx(n)||this.Mi.P&&!this.Mi.yk(b.S,b.M)||this.tl.P&&!this.tl.yk(b.da,b.Y)||this.wl.P&&!this.wl.yk(e.S,e.M)||this.ul.P&&!this.ul.yk(e.da,e.Y)||this.Nm.P&&!this.Nm.yk(c.S,c.M)||
this.Mm.P&&!this.Mm.yk(c.M,c.Y)||this.Om.P&&!this.Om.zx(p)?!1:!0}a2(a,b,e,c,h,m,g,l,n,p){this.yr.P||(this.Ig.P&&this.Ig.Bk(h,m),this.Im.P&&this.Im.Bk(a.S,a.M),this.Hm.P&&this.Hm.Bk(a.da,a.Y),this.Jm.P&&this.Jm.Sx(g),this.Lm.P&&this.Lm.Sx(l),this.Km.P&&this.Km.Sx(n),this.Mi.P&&this.Mi.Bk(b.S,b.M),this.tl.P&&this.tl.Bk(b.da,b.Y),this.wl.P&&this.wl.Bk(e.S,e.M),this.ul.P&&this.ul.Bk(e.da,e.Y),this.Nm.P&&this.Nm.Bk(c.S,c.M),this.Mm.P&&this.Mm.Bk(c.M,c.Y),this.Om.P&&this.Om.Sx(p))}cy(a,b){this.xG&&!b||
this.Pz||(this.oI.P&&this.oI.dy(a),this.xG=!0)}Z1(){this.xG=!1}by(a,b){this.wG&&!b||this.Pz||(this.nI.P&&this.nI.dy(a),this.wG=!0)}Y1(){this.wG=!1}lQ(a){if(!this.Pz)throw Error("not device transform shader");this.oI.dy(a);a=this.na;const b=a.$()/2,e=a.Z()/2;a=a.Tr(b,e,100*self.devicePixelRatio,b,e);this.nI.dy(a)}V2(a){this.ip.P&&this.ip.ay(a[0],a[1],a[2],a[3])}static Pw(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const f=self.B,a=self.Ri.Cl,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);f.H.Vb=class{constructor(e,c,h){if(!b.has(h))throw Error("invalid uniform type");this.Pb=e;this.L=this.Pb.L;this.Da=c;this.ta=h;this.NG="color"===this.ta;this.uh=this.L.getUniformLocation(this.Pb.xf(),c);this.P=!!this.uh;e=b.get(h);this.Lb=new Float32Array(e);this.Fi=new Float32Array(e)}A(){this.uh=this.L=this.Pb=null}lj(){return this.ta}Cn(e){this.P&&
(this.Lb[0]=e,this.Fi.set(this.Lb),this.L.uniform1f(this.uh,e))}TC(e){this.P&&(this.Lb[0]=e,this.Fi.set(this.Lb),this.L.uniform1i(this.uh,e))}dg(e,c){this.P&&(this.Lb[0]=e,this.Lb[1]=c,this.Fi.set(this.Lb),this.L.uniform2f(this.uh,e,c))}oZ(){this.P&&(this.Lb[0]=0,this.Lb[1]=0,this.Lb[2]=0,this.Fi.set(this.Lb),this.L.uniform3f(this.uh,0,0,0))}pL(){this.P&&(this.Lb[0]=1,this.Lb[1]=1,this.Lb[2]=1,this.Lb[3]=1,this.Fi.set(this.Lb),this.L.uniform4f(this.uh,1,1,1,1))}Yn(e){e=Math.fround(e);const c=this.Lb;
c[0]!==e&&(c[0]=e,this.L.uniform1f(this.uh,e))}pe(e,c){e=Math.fround(e);c=Math.fround(c);const h=this.Lb;if(h[0]!==e||h[1]!==c)h[0]=e,h[1]=c,this.L.uniform2f(this.uh,e,c)}T2(e,c,h){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);const m=this.Lb;if(m[0]!==e||m[1]!==c||m[2]!==h)m[0]=e,m[1]=c,m[2]=h,this.L.uniform3f(this.uh,e,c,h)}ay(e,c,h,m){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Lb;if(g[0]!==e||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=e,g[1]=c,g[2]=h,g[3]=m,this.L.uniform4f(this.uh,
e,c,h,m)}dy(e){const c=this.Lb;a.Qi(c,e)||(f.Qca(c,e),this.L.uniformMatrix4fv(this.uh,!1,e))}l_(e){const c=this.Fi;return this.NG?c[0]===Math.fround(e.Pa)&&c[1]===Math.fround(e.Ta)&&c[2]===Math.fround(e.Sa):c[0]===Math.fround(e)}A1(e){const c=this.Fi;this.NG?(c[0]=e.Pa,c[1]=e.Ta,c[2]=e.Sa):c[0]=e}zx(e){return this.Fi[0]===Math.fround(e)}yk(e,c){const h=this.Fi;return h[0]===Math.fround(e)&&h[1]===Math.fround(c)}Sx(e){this.Fi[0]=e}Bk(e,c){const h=this.Fi;h[0]=e;h[1]=c}}}
{"use strict";const f=self.B,a=self.Ri,b=a.dw,e=a.Cl;f.H.TU=class{constructor(c){this.$m=c;this.kB=e.create();this.Kv=e.create();this.Pi=this.zl=null;this.wT=!1;this.jB=b.nf(1,1,1,1);this.Hh=null;this.pJ=new f.Rect;this.clearColor=f.j(f.Xa,0,0,0,0)}};f.H.g3=class{constructor(c){const h=new ArrayBuffer(96);this.ta=0;this.nc=c;this.L=c.$m.L;this.Xk=this.Eg=0;this.Ce=null;this.cf=new Float32Array(h,0,16);this.po=new Float32Array(h,64,4);this.zS=new Float32Array(h,80,4);this.HA=[]}CZ(c){this.ta=1;this.Eg=
c;this.Xk=6}cW(){const c=this.L;c.drawElements(c.TRIANGLES,this.Xk,c.UNSIGNED_SHORT,this.Eg)}LZ(c){this.ta=2;this.Ce=c}pW(){const c=this.L,h=this.Ce;c.bindTexture(c.TEXTURE_2D,h?h.ib:null)}UC(c){this.ta=3;c.Lg(this.po,0)}eW(){const c=this.po,h=this.nc;b.la(h.jB,c);h.Hh.V2(c)}iW(){const c=this.po,h=this.nc.Hh;h.mI.P&&h.mI.ay(c[0],c[1],c[2],c[3])}DZ(c,h){this.ta=4;this.Eg=c;this.Xk=h}dW(){this.L.blendFunc(this.Eg,this.Xk)}MZ(c,h){this.ta=5;const m=this.po;m[0]=0;m[1]=0;m[2]=c;m[3]=h}rW(){const c=this.po;
this.L.viewport(c[0],c[1],c[2],c[3])}JZ(c){this.ta=6;e.la(this.cf,c)}nW(){const c=this.nc,h=c.$m.jo,m=c.Hh,g=this.cf;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.cy(g,!0):p.Z1()}e.la(c.Kv,g)}GZ(c){this.ta=7;e.la(this.cf,c)}jW(){const c=this.nc,h=c.$m.jo,m=c.Hh,g=this.cf;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.by(g,!0):p.Y1()}e.la(c.kB,g)}KZ(c){this.ta=8;this.Ce=c}oW(){const c=this.L,h=this.Ce,m=this.nc;h?(m.zl=h.ug,m.Pi=h.zo,m.wT&&m.Pi?c.bindFramebuffer(c.FRAMEBUFFER,m.Pi):c.bindFramebuffer(c.FRAMEBUFFER,
m.zl)):(m.zl=null,m.Pi=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}sZ(c){this.ta=9;c.Lg(this.cf,0)}tZ(){this.ta=9;const c=this.cf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}WV(){const c=this.L;var h=this.cf;const m=this.nc.clearColor,g=h[0],l=h[1],n=h[2];h=h[3];m.mB(g,l,n,h)||(c.clearColor(g,l,n,h),m.an(g,l,n,h));c.clear(c.COLOR_BUFFER_BIT)}kW(){const c=this.cf;this.nc.pJ.set(c[0],c[1],c[2],c[3])}bW(){const c=this.L,h=this.nc,m=h.$m.NA;c.useProgram(m.Nc);m.cy(h.Kv,!1);m.by(h.kB,!1);var g=h.pJ;m.rI.P&&m.rI.pe(g.S,
g.M);m.qI.P&&m.qI.pe(g.da,g.Y);g=this.cf[0];m.uI.P&&m.uI.Yn(g);m.ip.P&&(g=h.jB,m.ip.ay(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Eg/4,this.Xk);c.useProgram(h.Hh.Nc)}HZ(c){this.ta=11;this.Ce=c}lW(){var c=this.L;const h=this.nc,m=this.Ce;h.Hh=m;c.useProgram(m.Nc);m.cy(h.Kv,!1);m.by(h.kB,!1);m.ip.P&&(c=h.jB,m.ip.ay(c[0],c[1],c[2],c[3]))}IZ(){this.ta=12}mW(){const c=this.nc.Hh;c.cR&&this.M4(c);c.jp.length&&this.N4(c)}M4(c){const h=this.L,m=this.cf,g=this.po,l=this.zS;if(c.yr.P){const n=this.nc.$m,
p=this.Ce;n.pm!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.ib:null),n.pm=p,h.activeTexture(h.TEXTURE0))}c.Ig.P&&c.Ig.pe(m[0],m[1]);c.Im.P&&c.Im.pe(m[2],m[3]);c.Hm.P&&c.Hm.pe(m[4],m[5]);c.Jm.P&&c.Jm.Yn(this.Xk);c.Lm.P&&c.Lm.Yn(m[6]);c.Km.P&&c.Km.Yn(m[7]);c.Mi.P&&c.Mi.pe(m[12],m[13]);c.tl.P&&c.tl.pe(m[14],m[15]);c.wl.P&&c.wl.pe(l[0],l[1]);c.ul.P&&c.ul.pe(l[2],l[3]);c.Nm.P&&c.Nm.pe(g[0],g[1]);c.Mm.P&&c.Mm.pe(g[2],g[3]);c.Om.P&&c.Om.Yn(this.Eg)}N4(c){c=c.jp;const h=this.HA;for(let m=
0,g=c.length;m<g;++m){const l=c[m],n=h[m];l.NG?l.T2(n.Pa,n.Ta,n.Sa):l.Yn(n)}}yZ(c){this.ta=13;this.Ce=c}aW(){const c=this.L,h=this.Ce,m=this.nc.zl;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}pZ(c,h){this.ta=16;var m=this.cf;const g=this.nc.$m;m[0]=c.$();m[1]=c.Z();m[2]=h?h.$():g.$();m[3]=h?h.Z():g.Z();m[4]=c.fD()?1:0;m[5]=!0;m=this.HA;f.C(m);m.push(c.ug);m.push(h?h.ug:null)}UV(){var c=this.cf,h=this.HA;
const m=this.L;var g=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,h,g+n,0,l,h,g+l,m.COLOR_BUFFER_BIT,m.NEAREST))}OZ(c){this.ta=17;this.Ce=c}sW(){this.Ce.QB();this.Ce=null}xZ(c){this.ta=18;this.Ce=c}$V(){this.Ce.iC();this.Ce=null}hW(){const c=
this.nc.Hh,h=this.cf;c.Ig.P&&c.Ig.pe(h[0],h[1]);c.pI.P&&c.pI.Yn(h[2])}qW(){const c=this.nc.Hh,h=this.cf;c.Mi.P&&c.Mi.pe(h[0],h[1]);c.Ig.P&&c.Ig.pe(h[4],h[5]);c.sI.P&&c.sI.pe(h[6],h[7]);c.tI.P&&c.tI.pe(h[8],h[9])}rZ(c){this.ta=21;this.Eg=c?1:0}VV(){const c=this.L,h=0!==this.Eg;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}EZ(c){this.ta=22;this.Eg=c?1:0}fW(){const c=this.L;0===this.Eg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}FZ(c){this.ta=
23;this.Eg=c?1:0}gW(){const c=this.L,h=this.nc,m=h.$m,g=0!==this.Eg;h.wT=g;c.activeTexture(c.TEXTURE2);g?(h.Pi&&c.bindFramebuffer(c.FRAMEBUFFER,h.Pi),c.bindTexture(c.TEXTURE_2D,m.sg)):(c.bindTexture(c.TEXTURE_2D,null),h.Pi&&c.bindFramebuffer(c.FRAMEBUFFER,h.zl));c.activeTexture(c.TEXTURE0)}wZ(){this.ta=24}ZV(){const c=this.L;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}vZ(){this.ta=25}YV(){const c=
this.L;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}uZ(){this.ta=26}XV(){const c=this.L;c.disable(c.STENCIL_TEST)}ma(){switch(this.ta){case 1:this.cW();break;case 2:this.pW();break;case 3:this.eW();break;case 4:this.dW();break;case 5:this.rW();break;case 6:this.nW();break;case 7:this.jW();break;case 8:this.oW();break;case 9:this.WV();break;case 10:this.bW();break;case 11:this.lW();break;case 12:this.mW();break;case 13:this.aW();break;case 14:this.kW();break;
case 15:this.qW();break;case 16:this.UV();break;case 17:this.sW();break;case 18:this.$V();break;case 19:this.hW();break;case 20:this.iW();break;case 21:this.VV();break;case 22:this.fW();break;case 23:this.gW();break;case 24:this.ZV();break;case 25:this.YV();break;case 26:this.XV()}}}}
{"use strict";const f=self.B,a={timeout:60},b=new f.Xa(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;f.qX&&f.qX.addEventListener("fontload",p=>{p=p.font.wa();for(const q of m)(q.ph||f.Xm(q.uz,p))&&q.Cj()});function g(p,q,u,w,r,v){q?"Gecko"===f.Tc.mw?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===f.Tc.mw?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;f.H.uD=class{constructor(p,q){q=Object.assign({},a,q);this.na=
p;this.uz="Arial";this.vz=16;this.wz=1;this.No=0;this.Xe=this.We=!1;this.dz="black";this.ph=!1;this.lJ=null;this.vF=new Set;this.Ue="left";this.Fe="top";this.Xc="";this.Ut=null;this.Sm=f.j(f.hE);this.CI="word";this.aH=this.UA=!1;this.Bu=!0;this.so=-1;this.O=this.R=this.WF=this.zq=this.Hq=0;this.Gh=1;this.QF=!1;this.Tu=this.gl=this.Jd=this.ep=null;this.GR=this.HR=-1;this.fA=this.IR=this.eH="";this.fH=this.gH=1;this.UR=(u,w)=>this.kP(u,w);this.ib=null;this.uv=this.wv=0;this.Nf=new f.Rect;this.gv=1;
this.BH=!1;this.jI=new f.kZ(()=>{this.Zh();this.WP(8,8)},q.timeout);this.wB=null;this.Iv=!1;m.add(this)}A(){this.lJ=null;this.vF.clear();this.UR=this.Tu=this.gl=this.Jd=this.ep=this.Ut=null;this.jI.A();this.wB=null;this.Zh();this.Sm.ed();this.na=this.Sm=null;this.Iv=!0;m.delete(this)}fo(){this.QF=!0}Cj(){this.fo();this.Sm.ed();this.UA=!0}TM(){this.Bu=!1}eg(){return this.Bu}z1(p){p=!!p;this.ph!==p&&(p=(this.ph=p)?"alphabetic":"top",this.Jd&&(this.Jd.textBaseline=p),this.gl&&(this.gl.textBaseline=p),
this.Cj())}ID(p){p||(p="serif");this.uz!==p&&(this.uz=p,this.Cj())}JD(p){.1>p&&(p=.1);this.vz!==p&&(this.vz=p,this.Cj())}P1(p){this.wz!==p&&(this.wz=p,this.Cj())}XM(p){this.No!==p&&(this.No=p,this.fo())}FM(p){p=!!p;this.We!==p&&(this.We=p,this.Cj())}VM(p){p=!!p;this.Xe!==p&&(this.Xe=p,this.Cj())}HD(p){p=Math.floor(p);this.so!==p&&(this.so=p,this.fo())}ii(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}kq(p,q){return!!this.ii(p,q)}yO(p,q){let u=[];(this.We||this.kq(q,
"b"))&&u.push("bold");(this.Xe||this.kq(q,"i"))&&u.push("italic");var w=this.ii(q,"size");w=(w?parseFloat(w.Jh):this.vz)*this.wz;p?u.push(w+"pt"):u.push(w*this.gv*this.Gh*self.devicePixelRatio+"pt");p=this.uz;(q=this.ii(q,"font"))&&q.Jh&&(p=q.Jh,this.lJ&&!this.vF.has(p)&&(this.lJ(p),this.vF.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Vl(p){p instanceof f.Xa&&(p=p.Dba());this.dz!==p&&(this.dz=p,this.fo())}HM(p,q,u){b.Or(p,q,u);this.Vl(b)}PM(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.Ue!==p&&(this.Ue=p,this.fo())}jN(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Fe!==p&&(this.Fe=p,this.fo())}w2(p){if(!h.has(p))throw Error("invalid word wrap mode");this.CI!==p&&(this.CI=p,this.Cj())}Yx(p){this.Xc!==p&&(this.Xc=p,this.Cj())}bd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.zq===p&&this.WF===q&&this.Gh===u)){1===this.Gh!==(1===u)&&(this.BH=!0);var w=this.zq,r=this.Gh;this.zq=p;this.WF=q;this.Gh=u;p=self.devicePixelRatio;this.R=this.zq*this.Gh*p;this.O=
this.WF*this.Gh*p;p=Math.max(this.R,this.O);q=Math.min(this.na.oA,2048);u=1;p>q&&(u=q/p,this.R=Math.min(this.R*u,q),this.O=Math.min(this.O*u,q));this.gv=u;0<this.wv&&0<this.uv&&this.Gh===r&&this.Nf.set(0,0,this.R/this.wv,this.O/this.uv);this.zq!==w?this.Cj():this.fo()}}$(){return this.R}Z(){return this.O}DY(){this.RE();return this.Sm.lY()}CY(){this.RE();return this.Sm.GY()+this.Sm.qm.length*(this.No+4)-this.No}Pd(){this.jI.Uc();this.W6();return this.ib}W6(){this.ib&&!this.QF&&!this.UA||this.aH||0>=
this.R||0>=this.O||(this.QF=!1,this.aH=!0,this.Bu?f.hk(()=>this.hO()):this.hO())}hO(){this.Iv||(this.WP(Math.ceil(this.R),Math.ceil(this.O)),this.RE(),this.c5(),this.a$(),this.jI.Uc(),this.aH=!1)}WP(p,q){this.ep||(this.ep=f.Ng(16,16));let u=!1;if(this.HR!==p||this.GR!==q)this.HR=p,this.GR=q,this.ep.width=p,this.ep.height=q,u=!0;this.Jd||(this.Jd=this.ep.getContext("2d"),u=!0);u?(this.Jd.textBaseline=this.ph?"alphabetic":"top",this.Jd.font=this.eH,this.Jd.fillStyle=this.fA,this.Jd.strokeStyle=this.fA,
this.Jd.globalAlpha=this.gH,this.Jd.lineWidth=this.fH):this.Jd.clearRect(0,0,p,q)}cP(){this.gl||(this.gl=f.Ng(16,16).getContext("2d"),this.Tu=f.Ng(16,16).getContext("2d"),this.gl.textBaseline=this.ph?"alphabetic":"top",this.Tu.textBaseline="top")}s9(p){this.IR!==p&&(this.IR=p,this.gl.font=p,this.Tu.font=p)}dQ(){if(!l){l=!0;this.cP();const p=this.gl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}RE(){this.UA&&(this.cP(),!this.ph||
this.Ut&&this.Ut.toString()===this.Xc||(this.Ut=new f.Il(this.Xc,{gca:!0})),this.Sm.hE(this.ph?this.Ut.Kca():this.Xc,this.UR,this.zq,this.CI,0),this.UA=!1)}kP(p,q){this.s9(this.yO(!0,q));q=this.ii(q,"size");q=(q?parseFloat(q.Jh):this.vz)*this.wz;const u=this.gl.measureText(p);let w=0;this.ph&&this.dQ()&&(w=u.fontBoundingBoxAscent-this.Tu.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Xf:u.fontBoundingBoxAscent||0,mf:u.fontBoundingBoxDescent||0,qf:w}}d9(p){this.eH!==p&&(this.eH=
p,this.Jd.font=p)}Cy(p){this.fA!==p&&(this.fA=p,this.Jd.fillStyle=p,this.Jd.strokeStyle=p)}c9(p){this.gH!==p&&(this.gH=p,this.Jd.globalAlpha=p)}RP(p){this.fH!==p&&(this.fH=p,this.Jd.lineWidth=p)}c5(){this.Hq=0;const p=this.gv*this.Gh*self.devicePixelRatio,q=(4+this.No)*p;var u=0;const w=this.Sm.qm;if(0!==w.length){var r=this.ph&&this.dQ(),v=w[0].height*p;"center"===this.Fe?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.O/2-u/2,0),r&&(v=w[0].qf*p)):"bottom"===this.Fe&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.No*p,u=this.O-u-(r?w.Md(-1).mf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.ph){if(u+=0===y?v:G,0<y&&u>this.O-4*p)break}else if(0<y&&u>=this.O-G)break;0<=z&&this.b5(r,u,p);this.ph||(u+=G);u+=q}}}b5(p,q,u){let w=0;"center"===this.Ue?w=(this.R-p.width*u)/2:"right"===this.Ue&&(w=this.R-p.width*u);for(const r of p.pT)this.a5(r,w,q,u,p.height),w+=r.width*u}a5(p,q,u,w,r){const v=this.Jd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.No)*w,F=p.ad,H=p.text;if(-1!==this.so){if(this.Hq>=this.so)return;this.Hq+H.length>this.so&&(H=H.substr(0,this.so-this.Hq),r=this.kP(H,F).width*w);this.Hq+=H.length}var J=this.ii(F,"background"),M=this.kq(F,"u");p=this.kq(F,"s");if((!f.kD(H)||J||M||p)&&!this.kq(F,"hide")){var P=this.ii(F,"offsetx");q+=P?parseFloat(P.Jh)*w:0;P=this.ii(F,"offsety");u+=P?parseFloat(P.Jh)*w:0;J&&(this.Cy(J.Jh),v.fillRect(q,u-A,r,A+z));P=this.ii(F,"color");this.Cy(P?P.Jh:this.dz);z=this.ii(F,"opacity");this.c9(z?
parseFloat(z.Jh)/100:1);z=(z=this.ii(F,"linethickness"))?parseFloat(z.Jh):1;(J=this.kq(F,"stroke"))&&this.RP(.5*G*z*this.gv*this.Gh*self.devicePixelRatio);this.d9(this.yO(!1,F));g(v,J,H,q,u,r);!J&&(this.RP(.5*G*z*this.gv*this.Gh*self.devicePixelRatio),F=this.ii(F,"outline"))&&(this.Cy(F.Jh),g(v,!0,H,q,u,r));this.Cy(P?P.Jh:this.dz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}a$(){this.na.En()||(this.wv=Math.ceil(this.R),this.uv=
Math.ceil(this.O),this.Nf.set(0,0,this.R/this.wv,this.O/this.uv),this.BH&&(this.Zh(),this.BH=!1),this.ib||(this.ib=this.na.eK(this.wv,this.uv,{vB:1===this.Gh,Xv:"high"})),this.na.Y2(this.ep,this.ib),this.wB&&this.wB())}kj(){return this.Nf}Zh(){this.ib&&(this.na.En()||this.na.Vi(this.ib),this.ib=null)}static Ak(){for(const p of m)p.Zh()}}}
{"use strict";const f=self.B;class a{constructor(b){this.L=b.L;this.Zc=b.Zc;this.od=b.od;this.yh=null;this.su=this.zb=!1;this.DA=0;this.yh=1===this.Zc?this.od.createQueryEXT():this.L.createQuery()}A(){this.cO();this.od=this.L=null;this.su=!1}cO(){this.yh&&(1===this.Zc?this.od.deleteQueryEXT(this.yh):this.L.deleteQuery(this.yh),this.yh=null)}QB(){if(this.zb)throw Error("query already active");1===this.Zc?this.od.beginQueryEXT(this.od.TIME_ELAPSED_EXT,this.yh):this.L.beginQuery(this.od.TIME_ELAPSED_EXT,
this.yh);this.zb=!0}iC(){if(!this.zb)throw Error("query not active");1===this.Zc?this.od.endQueryEXT(this.od.TIME_ELAPSED_EXT):this.L.endQuery(this.od.TIME_ELAPSED_EXT);this.zb=!1}XB(){if(this.yh&&!this.su&&!this.zb){var b=1===this.Zc?this.od.getQueryObjectEXT(this.yh,this.od.QUERY_RESULT_AVAILABLE_EXT):this.L.getQueryParameter(this.yh,this.L.QUERY_RESULT_AVAILABLE);var e=this.L.getParameter(this.od.GPU_DISJOINT_EXT);b&&!e&&(this.DA=1===this.Zc?this.od.getQueryObjectEXT(this.yh,this.od.QUERY_RESULT_EXT):
this.L.getQueryParameter(this.yh,this.L.QUERY_RESULT),this.DA/=1E9,this.su=!0);(b||e)&&this.cO()}}qx(){return this.su}hx(){if(!this.su)throw Error("no result available");return this.DA}}f.H.i3=class{constructor(b){this.na=b;this.nh=b.nh;this.zb=!1;this.vm=null;this.nm=!1;this.gr=null;this.Vo=[]}A(){for(const b of this.Vo)b instanceof a&&b.A();f.C(this.Vo);this.na=this.gr=this.vm=null}QB(){if(this.zb)throw Error("query already active");const b=this.na.FS;0<b.length?(this.nm=!0,this.vm=b.Md(-1),this.vm.mO(),
this.vm.Vo.push(this)):(this.nm=!1,this.vm=null);this.zb=!0;b.push(this);this.bQ()}iC(){if(!this.zb)throw Error("query not active");if(this.na.FS.pop()!==this)throw Error("can only end most nested query");this.zb=!1;this.mO();this.vm&&(this.vm.bQ(),this.vm=null)}bQ(){this.gr=f.j(a,this.na);this.Vo.push(this.gr);this.gr.QB()}mO(){this.gr.iC();this.gr=null}XB(){for(const b of this.Vo)b.XB()}qx(){return this.Vo.every(b=>b.qx())}hx(){return this.Vo.reduce((b,e)=>b+e.hx(),0)}}}
{"use strict";const f=self.B;f.H.BN=class{constructor(a,b=1E3){this.na=a;this.naa=b;this.Gj=[];this.na.x3(this)}A(){this.ed();this.na.e8(this);this.na=null}ed(){for(const a of this.Gj)a.A();f.C(this.Gj)}OB(){const a=new f.H.i3(this.na);this.Gj.push(a);this.Gj.length>this.naa&&this.Gj.shift().A();return a}kV(a){for(const b of this.Gj){if(b.nh>=a)break;if(b.nm)break;b.XB()}}MK(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Gj){if(c.nh>=b)break;if(!(c.nh<a))if(c.qx())e+=c.hx();else return NaN}return e}jK(a){for(let b=
0,e=this.Gj.length;b<e;++b){const c=this.Gj[b];if(c.nh<a)c.A();else{0<b&&this.Gj.splice(0,b);break}}}}}
{"use strict";const f=self.B,a=self.Ri,b=a.dw,e=a.Cl,c={powerPreference:"default",oT:!0,alpha:!1,fJ:!1,depth:!1,KI:!1,DT:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new f.kd(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),n=new f.kd,p=new f.Rect;let q=null;f.Rv&&(self.oka=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.pka=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.cba()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}f.H.h3=class extends f.H.Z0{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.fJ&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.DT&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.L=G;this.qQ=G.getContextAttributes();y.fJ&&!this.qQ.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Zc=z;this.Tf=b.create();this.jm=!1;this.CF=e.create();this.yl=!!y.depth;this.Zt=!(!y.depth||!y.KI);this.Go=this.yl;this.OG=!1;this.sg=null;this.MG=!0;this.CQ=this.DQ=0;this.wA=this.nR=this.TA=this.dB=null;this.Fv=
new Float32Array(24E3);this.oR=new Uint16Array(12E3);this.cp=new Float32Array(16E3);this.gS=new Float32Array(32E3);this.JR=this.xA=this.$d=this.Fh=0;this.Zo=this.Lo=null;this.Tt=[];this.dc=this.em=0;this.Dd=null;this.nc=f.j(f.H.TU,this);this.Mu=f.j(f.Xa,1,1,1,1);this.pm=this.el=null;this.bH=this.dH=0;this.gaa=new f.Rect;this.oA=-1;this.vH=0;this.Cv="(unavailable)";this.SG=!1;this.hu=this.Nt=this.GH=null;this.uH=0;this.daa=!!y.oT;this.od=null;this.Ny=new Set;this.FS=[];this.kX(this.oR)}zk(){return!0}async ux(){super.ux();
var v=this.L;this.Mu.an(1,1,1,1);this.pm=this.el=null;this.xA=this.Fh=0;this.JR=23988;f.C(this.Tt);this.dc=this.em=0;this.Dd=this.Lo=null;this.gaa.set(0,0,1,1);var y=this.nc;y.Hh=null;y.zl=null;y.Pi=null;b.set(y.jB,1,1,1,1);y.clearColor.an(0,0,0,0);y.pJ.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.dH=v.ONE;this.bH=v.ONE_MINUS_SRC_ALPHA;this.a6(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.yl?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Go=this.yl;this.OG=!1;this.wA=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.wA);v.bufferData(v.ARRAY_BUFFER,this.gS.byteLength,v.DYNAMIC_DRAW);this.dB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.dB);v.bufferData(v.ARRAY_BUFFER,this.Fv.byteLength,v.DYNAMIC_DRAW);this.TA=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.TA);v.bufferData(v.ARRAY_BUFFER,this.cp.byteLength,v.DYNAMIC_DRAW);
this.nR=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.nR);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.oR,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.oA=v.getParameter(v.MAX_TEXTURE_SIZE);this.vH=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.vH&&(this.vH=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Cv=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.GH=v.getExtension("KHR_parallel_shader_compile");
f.Rv&&(q=v.getExtension("WEBGL_lose_context"));if(this.daa)if(1===this.Zc){if("Chromium"!==f.Tc.mw||81<=f.Tc.SB||"undefined"!==typeof document)this.od=v.getExtension("EXT_disjoint_timer_query")}else this.od=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.uH=(this.Nt=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Nt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Zc&&this.yl&&this.Zt&&(this.hu=v.getExtension("WEBGL_depth_texture"),
!this.hu))throw Error("no depth texture support");v=f.H.ht;y=v.Pw(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Pw(!0),"<tilemap>"]].map(A=>this.cC({src:A[0]},A[1],A[2])));this.OA=v[0];this.Zo=v[1];this.NA=v[2];this.YH=v[3];this.xj()}async cC(v,y,A){v=await f.H.ht.Ja(this,v,y,A);this.y3(v);return v}e1(){this.Lo=null}bd(v,y,A){if(this.R!==v||this.O!==y||A){this.Wi();A=this.L;var G=this.nc;this.R=v;this.O=y;this.ZP(v,y);this.qp(this.CF,v/y);this.Sn(this.CF);this.Zo&&(A.useProgram(this.Zo.xf()),this.Zo.lQ(this.nA),this.Lo=this.Zo,this.nc.Hh=this.Zo);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.pm=this.el=null;this.yl&&this.MG&&this.bF(this.R,this.O);this.Dd&&this.Dd.DP(this.R,this.O);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Dd=null;G.zl=null;G.Pi=null}}bF(v,y){const A=this.L;this.sg&&this.DQ===v&&this.CQ===y||(this.Zt?(this.sg&&A.deleteTexture(this.sg),this.sg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.sg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Zc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.hu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.hu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.sg&&A.deleteRenderbuffer(this.sg),this.sg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.sg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Zc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.DQ=v,this.CQ=y)}O1(v,y){this.yl&&(this.MG=!1,this.bF(v,y))}y1(){this.yl&&(this.MG=!0,this.bF(this.R,this.O))}ZP(v,y){const A=this.Tf;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.rc().MZ(v,y),b.set(A,0,0,v,y),this.dc=0}Sn(v){e.Qi(this.nA,v)||(this.rc().JZ(v),e.la(this.nA,v),this.dc=0,this.jm=!0)}KM(){let v,y;var A=this.Dd;null===A?(v=this.CF,y=this.$(),A=this.Z()):
(v=A.Rj,y=A.$(),A=A.Z());this.Sn(v);this.ZP(y,A)}Zp(v){e.Qi(this.sH,v)||(this.rc().GZ(v),e.la(this.sH,v),this.dc=0,this.jm=!0)}c1(){this.jm=!1}rc(){const v=this.Tt;this.em===v.length&&v.push(new f.H.g3(this.nc));return v[this.em++]}Wi(){0===this.em||this.En()||(this.j$(),this.f5(),this.dc=this.xA=this.$d=this.Fh=this.em=0)}j$(){const v=this.L;0<this.xA&&(v.bindBuffer(v.ARRAY_BUFFER,this.wA),v.bufferSubData(v.ARRAY_BUFFER,0,this.gS.subarray(0,this.xA)));0<this.Fh&&(v.bindBuffer(v.ARRAY_BUFFER,this.dB),
v.bufferSubData(v.ARRAY_BUFFER,0,this.Fv.subarray(0,this.Fh)),v.bindBuffer(v.ARRAY_BUFFER,this.TA),v.bufferSubData(v.ARRAY_BUFFER,0,this.cp.subarray(0,this.$d)))}f5(){const v=this.Tt;for(let y=0,A=this.em;y<A;++y)v[y].ma()}je(){return this.Mu.Ra}Pe(v,y,A,G){const z=this.Mu;z.mB(v,y,A,G)||(z.an(v,y,A,G),this.rc().UC(z),this.dc=0,this.ri=null)}Dk(v){const y=this.Mu;y.Ra!==v&&(y.Mr(v),this.rc().UC(y),this.dc=0,this.ri=null)}Vl(v){const y=this.Mu;y.$c(v)||(y.set(v),this.rc().UC(y),this.dc=0,this.ri=null)}Ps(){this.Pe(1,
1,1,1)}Ef(v){v!==this.el&&(this.rc().LZ(v),this.el=v,this.dc=0)}UE(){this.el=null}Df(v){v=this.y5(v);this.aF(v[0],v[1])}aF(v,y){if(v!==this.dH||y!==this.bH)this.rc().DZ(v,y),this.dH=v,this.bH=y,this.dc=0,this.ri=null}EM(){this.aF(this.L.ONE,this.L.ONE_MINUS_SRC_ALPHA)}GD(){this.aF(this.L.ONE,this.L.ZERO)}Rect(v){this.jM(v.S,v.M,v.da,v.Y)}jM(v,y,A,G){this.I0(v,y,A,y,A,G,v,G)}mt(){let v=this.Fh;v>=this.JR&&(this.Wi(),v=0);1===this.dc?this.Tt[this.em-1].Xk+=6:(this.rc().CZ(v),this.dc=1)}nF(v){v.Vca(this.Fv,
this.Fh,this.Rt+this.gu);this.Fh+=12}kd(v){this.mt();this.nF(v);m.Lg(this.cp,this.$d);this.$d+=8}I0(v,y,A,G,z,F,H,J){this.mt();const M=this.Fv;let P=this.Fh;const R=this.Rt+this.gu;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.Fh=P;m.Lg(this.cp,this.$d);this.$d+=8}Pp(v,y){this.mt();this.nF(v);y.Uca(this.cp,this.$d);this.$d+=8}J0(v,y){this.mt();this.nF(v);y.Lg(this.cp,this.$d);this.$d+=8}Jx(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.mt();const X=
this.Fv;let ba=this.Fh;const Y=this.Rt+this.gu;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.Fh=ba;Z.Lg(this.cp,this.$d);this.$d+=8}rX(v,y){e.la(g,this.nA);e.la(l,this.sH);this.KM();const [A,G]=this.gx(this.Dd);var z=this.Tr(0,0,100*self.devicePixelRatio,0,0,G);this.Zp(z);if("crop"===v&&this.Dd&&y){v=this.R/2;z=this.O/2;const J=y.$();y=y.Z();var F=this.Dd.$(),H=this.Dd.Z();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.Ti(p);p.set(0,P,F,M+P);p.Al(J,y);this.Pp(n,p)}else v=A/2,z=G/2,this.jM(-v,z,v,-z);this.Sn(g);this.Zp(l)}cq(v){this.Lo!==v&&(this.rc().HZ(v),this.Lo=v,this.dc=0,this.ri=null)}dN(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Lo;var X=Z.cR;const ba=!!T.length;if(X&&!Z.NU(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.MU(T)){var Y=this.rc();Y.IZ();X&&(Z.a2(y,A,G,z,F,H,J,M,P,R),X=Y.cf,X[0]=F,X[1]=H,y.Lg(X,2),X[6]=M,X[7]=P,A.Lg(X,12),y=Y.po,z.Lg(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.Lg(Y.zS,0),Y.Eg=R,Y.Xk=J,Y.Ce=Z.yr.P?v?v.Pd():null:null);ba&&(Z.E1(T),f.zc(Y.HA,T));this.dc=0}}hn(){this.rc().tZ();this.dc=0}ed(v){this.rc().sZ(v);this.dc=0}dt(){}Yr(){super.Yr();this.L.flush()}lV(){this.yl&&this.Dd&&this.Dd.Hc&&(this.rc().rZ(this.Go),this.dc=0)}ig(v){v=!!v;this.Go!==v&&this.yl&&(this.Go=v,this.rc().EZ(v),this.dc=0)}Ts(v){v=!!v;if(this.Zt&&this.OG!==v){if(v&&this.Go)throw Error("depth still enabled");this.OG=v;this.rc().FZ(v);this.dc=0}}jV(){for(const v of this.Ny)v.kV(this.nh)}En(){return!this.L||
this.L.isContextLost()||this.SG}Ak(){super.e0();f.H.fy.Ak();f.H.CN.Ak();f.H.uD.Ak();for(const v of this.Ny)v.ed();this.hu=this.Nt=this.GH=this.od=null;this.uH=0;this.Cv="(unavailable)";this.sg=this.Zo=this.Lo=null;for(const v of this.rv.values())v.Ak()}async pD(){this.SG=!0;await this.ux();this.SG=!1;for(const v of this.rv.values())v.pD(this);this.bd(this.R,this.O,!0)}yw(v,y){if(this.En())throw Error("context lost");this.Wi();const A=f.j(f.H.fy,this);A.g4(v,y);return A}zw(v,y){if(this.En())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.IB&&"clamp-to-edge"!==y.IB||y.JB&&"clamp-to-edge"!==y.JB;if(!f.Ub.ImageBitmapOptions||!this.Vn()&&A)return f.Ub.ImageBitmap?createImageBitmap(v).then(G=>f.hk(()=>this.yw(G,y))):v instanceof Blob?f.YU(v).then(G=>this.zw(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>f.hk(()=>this.yw(v,y))):f.hk(()=>this.yw(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
f.hk(()=>this.yw(G,y)))}eK(v,y,A){this.Wi();const G=f.j(f.H.fy,this);G.T3(v,y,A);return G}Y2(v,y){this.Wi();y.gQ(v,void 0)}Vi(v){v&&(v.I2(),0<v.wc||(this.Wi(),v===this.el&&(this.L.bindTexture(this.L.TEXTURE_2D,null),this.el=null),v===this.pm&&(this.L.activeTexture(this.L.TEXTURE1),this.L.bindTexture(this.L.TEXTURE_2D,null),this.L.activeTexture(this.L.TEXTURE0),this.pm=null),v.uE()))}HV(v){let y=this.R,A=this.O,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Wi();const z=f.j(f.H.CN,this);z.S3(y,A,Object.assign({vT:G},v));this.Dd=null;this.nc.zl=null;this.nc.Pi=null;return z}jg(v,y=!0){v!==this.Dd&&(v&&v.Oz&&v.DP(this.R,this.O),this.rc().KZ(v),this.Dd=v,this.dc=0,y&&this.KM())}uk(){return this.Dd}gx(v){return v?[v.$(),v.Z()]:[this.R,this.O]}bK(v){2>this.Zc||this.Dd&&0<this.Dd.hl?(this.GD(),this.Ps(),this.Gw(v,"stretch")):(this.rc().pZ(v,this.Dd),this.dc=0)}Gw(v,y="stretch"){v=v.Pd();if(!v)throw Error("not a texture-backed render target");
this.Ef(v);this.rX(y,v)}Ep(v){2>this.Zc||(this.rc().yZ(v.ug),this.dc=0)}TV(v){this.jg(null);this.Wi();const y=v.Pd();y===this.el&&(this.L.bindTexture(this.L.TEXTURE_2D,null),this.el=null);y===this.pm&&(this.L.activeTexture(this.L.TEXTURE1),this.L.bindTexture(this.L.TEXTURE_2D,null),this.L.activeTexture(this.L.TEXTURE0),this.pm=null);v.uE()}aK(){this.ig(!0);this.rc().wZ();this.dc=0}$J(){this.ig(!1);this.rc().vZ();this.dc=0}ZJ(){this.ig(!0);this.rc().uZ();this.dc=0}aE(v){this.yj()&&(this.rc().OZ(v),
this.dc=0)}hC(v){this.yj()&&(this.rc().xZ(v),this.dc=0)}f$(v){const y=new Promise(A=>u.add({resolve:A,cba:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}b_(){return!!this.qQ.desynchronized}IX(){let v=0;for(const y of f.H.fy.Saa())v+=y.yC();return v}Vn(){return 2<=this.Zc}yj(){return!!this.od}x3(v){this.Ny.add(v)}e8(v){this.Ny.delete(v)}a6(v){this.Z5([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const f={qT:null,rT:null,PT:null,getTime:null,OT:null};self.B.H.YW=class{constructor(a){a=Object.assign({},f,a);this.wQ=a.qT;this.E$=a.rT;this.H$=a.PT;this.F$=a.getTime;this.G$=a.OT}DK(a){return this.wQ?this.wQ(a):[a.$(),a.Z()]}uk(a){return this.E$(a)}Q0(a,b){this.H$(a,b)}Ca(){return this.F$()}Lx(a){this.G$(a)}}}
{"use strict";const f=self.B,a=self.Ri.Cl,b=f.j(f.Rect),e=f.j(f.Rect),c=f.j(f.Rect),h=f.j(f.Rect),m=a.create(),g=a.create(),l={lB:null,sT:null,qB:null,aJ:!1},n={Er:null,oB:!1,SI:!1,bJ:!1,zT:!1,xT:!1,EB:!1},p={hB:null,jka:null,Um:0,devicePixelRatio:1,Sv:1,tB:0,Jr:null,Nv:null,mT:null,fT:0,gT:0,jU:!1};f.H.fe=class{constructor(q,u){u=Object.assign({},l,u);this.yg=q;this.NF=u.lB;this.au=u.sT;this.xQ=u.qB;this.$y=null;this.IA=[];this.hv=[];this.bp=[];this.qg=0;this.zr=this.$t=this.EQ=this.jm=this.Mz=this.LG=
!1;this.Po=0;this.nl=[null,null,null];this.tR=!!u.aJ;this.Ic=this.Wc=this.Xt=this.Wt=0;this.im=null;this.Nu=f.j(f.Rect);this.Tk=f.j(f.Rect);this.ml=f.j(f.Rect);this.fr=f.j(f.Rect);this.zm=f.j(f.Rect);this.iH=this.Dq=1;this.Yc=this.hH=0;this.jz=null;this.UF=this.TF=0;this.vI=!1;this.Rj=a.create();this.Vu=a.create()}A(){f.C(this.bp);f.C(this.IA);f.C(this.hv);this.xQ=this.au=this.NF=this.im=null}TB(q,u){u=Object.assign({},n,u);f.C(this.bp);this.Xt=this.Wt=0;this.Mz=this.LG=!1;this.Po=0;this.zr=!!u.EB;
f.zc(this.IA,q);if(0!==q.length){if(u.Er){if(u.Er.length!==q.length)throw Error("incorrect indexMap length");f.zc(this.hv,u.Er)}else{f.C(this.hv);for(let v=0,y=q.length;v<y;++v)this.hv.push(v)}for(var w of q)this.Wt+=w.MQ,this.Xt+=w.NQ,w.p$&&(this.LG=!0),w.$A&&(this.Mz=!0);!(w=1!==q.length||q[0].IF||q[0].BQ)&&(w=!u.EB)&&(w=q[0],w=0!==w.MQ||0!==w.NQ);if(w||u.oB||q[0].Kp()||u.SI||u.bJ||!this.zr&&q[0].$A){this.$t=!1;w=this.E9(q[0],u);u=this.D9(q.Md(-1),u);var r=0;w&&(this.Po=1,this.bp.push(f.j(f.H.fe.dh.A0,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Po=Math.max(this.Po,q),this.bp.push(f.j(f.H.fe.dh.ZU,this,r,q,v)),r=q):(this.Po=1,this.bp.push(f.j(f.H.fe.dh.pX,this,-1,1,v)),r=1);u&&this.bp.push(f.j(f.H.fe.dh.y0,this,r,0))}else this.$t=!0}}E9(q,u){return u.oB||u.bJ||!this.zr&&q.$A||q.Kp()||q.IF&&(u.xT||q.gb().zk()&&u.zT)||0!==this.Wt||0!==this.Xt}D9(q,u){return u.SI||q.IF||q.BQ}Qn(q,u,w){w=Object.assign({},p,w);this.jz=u;this.im=w.hB;this.qg=w.Um;this.Dq=
w.devicePixelRatio;this.iH=w.Sv;this.hH=w.tB;this.Yc=this.yg.Ca();this.jm=!1;q.c1();this.LG&&this.P7();if(this.$t)this.h8(q,w);else{var [r,v]=this.yg.DK(q);this.e9(q,r,v);this.L3(w);q.Ps();q.Vp(0);q.Ss(0);this.$y=w.mT;this.TF=w.fT||0;this.UF=w.gT||0;this.vI=!!w.jU;this.h7(q);this.nl[0]=u;this.nl[1]=1<=this.Po?this.EO():null;this.nl[2]=2===this.Po?this.EO():null;for(const y of this.bp)y.Qs(q,this.FO(y.Faa),this.FO(y.FQ));this.nl[1]&&this.yP(this.nl[1]);this.nl[2]&&this.yP(this.nl[2]);this.nl.fill(null);
this.g7(q);this.$y=this.im=this.jz=null}}e9(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.Wc===u&&this.Ic===w||this.QN(q,u,w,0,0,this.Rj,this.Vu);this.Wc=u;this.Ic=w}QN(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.qp(y,u/w);q=q.Tr(r,v,100*self.devicePixelRatio,r,v,w);a.la(A,q)}L3(q){this.Nu.la(q.Jr);q.Nv?this.Tk.la(q.Nv):this.Tk.set(0,0,this.Wc,this.Ic);this.ml.la(this.Tk);this.ml.Al(this.Wc,this.Ic);q=q.Sv*q.devicePixelRatio;this.Tk.YI(this.Wt*q,this.Xt*q);this.zm.la(this.Tk);this.zm.Al(this.Wc,
this.Ic);this.Tk.ea(0,0,this.Wc,this.Ic);this.fr.la(this.Tk);this.fr.Al(this.Wc,this.Ic)}h7(q){this.EQ=q.Go;this.zr&&(q.ig(!1),this.Mz&&q.Ts(!0))}f7(q){q.Ps();this.zr||(q.ig(!1),this.Mz&&q.Ts(!0))}g7(q){q.Ts(!1);q.ig(this.EQ);this.jm=q.jm}TN(){this.zm.ea(0,0,1,1)}FO(q){return 0>q?null:this.nl[q]}EO(){return this.yg.uk(this)}yP(q){this.yg.Q0(q,this)}O5(q){return this.IA[q]}xE(q){this.$y?this.$y(this,q,()=>this.NF(q,this)):this.NF(q,this);this.$t||this.f7(q)}q6(q){if(this.zr)return!0;if(0!==this.TF||
0!==this.UF)return!1;const [u,w]=q.gx(q.uk());return u!==this.Wc||w!==this.Ic?!1:!0}QP(q,u){let w=this.Rj,r=this.Vu;if(u&&!this.q6(q)){w=m;r=g;const [v,y]=q.gx(q.uk());this.QN(q,v,y,this.TF,this.UF,w,r)}q.Sn(w);q.Zp(r)}P7(){this.yg.Lx(this)}KO(q){return this.xQ(this.hv[q])}t9(q,u){let w=this.zm,r=this.fr,v=this.ml;q.zk()&&(e.la(w),e.Ym(),w=e,c.la(r),c.Ym(),r=c,h.la(v),h.Ym(),v=h);this.gO(q,u,r,v,w,1/this.Wc,1/this.Ic)}f9(q,u){let w=this.fr,r=this.ml,v=1/this.Wc,y=1/this.Ic;if(this.au){let {aU:G,bU:z,
$T:F}=this.au(this.im);G||(b.set(0,0,0,0),G=b);z||(z=this.Wc);F||(F=this.Ic);r=w=G;v=1/z;y=1/F}else q.zk()&&(c.la(w),c.Ym(),w=c,h.la(r),h.Ym(),r=h);let A=this.zm;q.zk()&&(A=e,A.la(this.zm),A.Ym());this.gO(q,u,w,r,A,v,y)}gO(q,u,w,r,v,y,A){u=this.KO(u);q.dN(this.jz,v,w,r,this.Nu,y,A,this.Dq,this.iH,this.hH,this.Yc,u)}h8(q,u){var w=this.IA[0];const r=q.Go,v=w.$A;v&&(q.ig(!1),q.Ts(!0),this.zm.set(0,0,1,1),this.ml.set(0,0,1,1));q.cq(w);q.Df(this.qg);q.jg(this.jz);let y;this.ml.set(0,0,1,1);if(w.NS&&this.au){const {aU:A,
bU:G,$T:z}=this.au(this.im);A&&this.ml.la(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.yg.DK(q);w=1/A;y=1/G}u.Jr?this.Nu.la(u.Jr):this.Nu.set(0,0,0,0);u=this.KO(0);q.dN(null,this.zm,this.ml,this.ml,this.Nu,w,y,this.Dq,this.iH,this.hH,this.Yc,u);q.Vp(0);this.xE(q);v&&(q.Ts(!1),q.ig(r))}}}"use strict";self.B.H.fe.dh=class{constructor(f,a,b,e=-1){this.kh=f;this.Faa=a;this.FQ=b;this.Ia=e}Qh(){return this.kh}Ba(){return this.Ia}xf(){return this.Qh().O5(this.Ba())}Qs(){}};
{"use strict";const f=self.B;f.H.fe.dh.A0=class extends f.H.fe.dh{constructor(a,b,e,c){super(a,b,e,c)}Qs(a,b,e){b=this.Qh();a.EM();a.xj();a.jg(e,b.vI);a.hn();b.xE(a);b.TN()}}}{"use strict";const f=self.B,a=f.j(f.Rect),b=f.j(f.kd);f.H.fe.dh.y0=class extends f.H.fe.dh{constructor(e,c,h,m){super(e,c,h,m)}Qs(e,c,h){const m=this.Qh();e.xj();e.jg(h);m.QP(e,!0);e.Df(m.qg);e.Ef(c.Pd());b.Ti(m.Tk);a.la(m.fr);a.Ym();e.Pp(b,a);m.tR&&e.Ep(c)}}}
{"use strict";const f=self.B;f.H.fe.dh.pX=class extends f.H.fe.dh{constructor(a,b,e,c){super(a,b,e,c)}Qs(a,b,e){b=this.Qh();a.jg(e,b.vI);a.hn();a.GD();a.cq(this.xf());b.f9(a,this.Ba());b.xE(a);b.TN()}}}
{"use strict";const f=self.B,a=f.j(f.Rect),b=f.j(f.kd);f.H.fe.dh.ZU=class extends f.H.fe.dh{constructor(e,c,h,m){super(e,c,h,m)}Qs(e,c,h){const m=this.Qh();e.jg(h);(h=0===this.FQ)?e.Df(m.qg):(e.hn(),e.GD());e.cq(this.xf());m.t9(e,this.Ba());e.Ef(c.Pd());m.QP(e,h);b.Ti(m.Tk);a.la(m.fr);a.Ym();e.Pp(b,a);m.tR&&e.Ep(c)}}}
{"use strict";let f=null;const a=new Set;let b=!1;self.gZ=class{constructor(e){f=e;Object.defineProperties(this,{Gba:{value:{},writable:!1},storage:{value:new self.iZ(f),writable:!1},ila:{value:f.$k,writable:!1}});f.Ld.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});f.Ld.addEventListener("keyup",c=>a.delete(c.key));f.Sb().addEventListener("window-blur",()=>a.clear());f.$k&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}c6(e){Object.defineProperties(this.Gba,e)}addEventListener(e,c){f.Ld.addEventListener(e,c)}removeEventListener(e,c){f.Ld.removeEventListener(e,c)}get nT(){return f.wC()}random(){return f.Qp()}get uB(){return f.Ib().vu}get keyboard(){const e=f.SF.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get ET(){const e=f.SF.ET;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get cU(){const e=f.SF.cU;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return f.Np("runtime","alert",{message:e+(f.$k?" [via Web Worker]":"")})}}}"use strict";self.aZ=class{constructor(){}};{"use strict";const f=self.Lh;self.iZ=class{constructor(a){this.sv=a.L5()}getItem(a){f.Cd(a);return this.sv.getItem(a)}setItem(a,b){f.Cd(a);return this.sv.setItem(a,b)}removeItem(a){f.Cd(a);return this.sv.removeItem(a)}clear(){return this.sv.clear()}keys(){return this.sv.keys()}}}
{"use strict";const f=self.Lh,a=new WeakMap;self.fZ=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.G().aP(this,b)}addEventListener(b,e){f.Cd(b);f.tj(e);a.get(this).Ld.addEventListener(b,e)}removeEventListener(b,e){f.Cd(b);f.tj(e);a.get(this).Ld.removeEventListener(b,e)}*uT(){for(const b of a.get(this).ga())yield b.Sg()}NI(b){f.Cf(void 0);f.Cf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.G();b=c.Ib().X(b);if(!b)throw Error("invalid layer");e=c.aC(e,b,void 0,void 0,void 0);c=c.fa();c.de(!0);e.Jy();c.de(!1);return e.Sg()}}}
{"use strict";const f=self.Lh,a=new WeakMap;self.eZ=class{constructor(b){a.set(this,b);const e=[],c=b.Ha,h=c.ag().length;for(let m=0;m<h;++m)e.push(new self.SC(c,m));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.Ba(),writable:!1}})}addEventListener(b,e){f.Cd(b);f.tj(e);a.get(this).Ld.addEventListener(b,e)}removeEventListener(b,e){f.Cd(b);f.tj(e);a.get(this).Ld.removeEventListener(b,e)}get width(){return a.get(this).$()}set width(b){a.get(this).fi(b)}get height(){return a.get(this).Z()}set height(b){a.get(this).ai(b)}set scale(b){f.sj(b);
a.get(this).ND(b)}get scale(){return a.get(this).Hd}set angle(b){f.sj(b);a.get(this).rd(b)}get angle(){return a.get(this).Oa()}set scrollX(b){f.Cf(b);a.get(this).bi(b)}get scrollX(){return a.get(this).vf()}set scrollY(b){f.Cf(b);a.get(this).ci(b)}get scrollY(){return a.get(this).wf()}scrollTo(b,e){f.Cf(b);f.Cf(e);const c=a.get(this);c.bi(b);c.ci(e)}set LT(b){f.Cd(b);const e=a.get(this);if("perspective"===b)e.cN();else if("orthographic"===b)e.$M();else throw Error("invalid projection");}get LT(){return a.get(this).Ye?
"orthographic":"perspective"}}}
{"use strict";const f=self.B,a=self.Lh,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),h=f.j(f.Xa);self.dZ=class{constructor(m){b.set(this,m);const g=[],l=m.Ha,n=l.ag().length;for(let p=0;p<n;++p)g.push(new self.SC(l,p));Object.defineProperties(this,{name:{value:m.wa(),writable:!1},index:{value:m.Ba(),
writable:!1},uB:{value:m.Tb().vu,writable:!1}})}get isVisible(){return b.get(this).Bc()}set isVisible(m){b.get(this).ei(m)}get opacity(){return b.get(this).je()}set opacity(m){m=f.ea(+m,0,1);isNaN(m)||b.get(this).Dk(m)}set scale(m){a.sj(m);b.get(this).aN(m)}get scale(){return b.get(this).Hd}set angle(m){a.sj(m);b.get(this).rd(m)}get angle(){return b.get(this).Hf}set fw(m){a.sj(m);b.get(this).Qe(m)}get fw(){return b.get(this).Ya()}set Um(m){a.Cd(m);m=e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).Df(m)}get Um(){return c.get(b.get(this).Xi())}set backgroundColor(m){a.xD(m);if(3>m.length)throw Error("expected 3 elements");h.Or(m[0],m[1],m[2]);m=b.get(this);const g=m.Ok;g.Bl(h)||(g.Oi(h),m.G().W())}get backgroundColor(){const m=b.get(this).Ok;return[m.Pa,m.Ta,m.Sa]}set scrollX(m){a.Cf(m);const g=b.get(this);g.Xs(!0);g.bi(m)}get scrollX(){return b.get(this).vf()}set scrollY(m){a.Cf(m);const g=b.get(this);g.Xs(!0);g.ci(m)}get scrollY(){return b.get(this).wf()}scrollTo(m,g){a.Cf(m);
a.Cf(g);const l=b.get(this);l.Xs(!0);l.bi(m);l.ci(g)}}}
{"use strict";const f=self.B,a=self.Lh,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=f.j(f.Event.Sb);e.set(m,g);return g}let h=null;self.Bs=class{constructor(){b.set(this,h);const m={pf:{value:h.G().Ai,writable:!1},kJ:{value:h.F().wu,writable:!1},uid:{value:h.Oc,writable:!1}};h.C5(m);h.x5(m);Object.defineProperties(this,m);h.G().aP(this,h)}static ng(m){h=m}static nt(){return h}Dt(){const m=e.get(this);m&&(m.A(),e.delete(this));b.delete(this)}addEventListener(m,g,l){a.Cd(m);
a.tj(g);c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.Cd(m);a.tj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const f=self.B,a=self.Lh,b=self.Bs,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));f.j(f.Xa);self.rx=class m extends b{constructor(){super();var g=b.nt();e.set(this,g);const l=[];var n=g.m();if(g=n.Lf){n=n.F().Ha.ag().length;for(let p=0;p<n;++p)l.push(new self.SC(g,p))}}get uB(){return e.get(this).m().Tb().vu}get CT(){return e.get(this).m().X().U$}get x(){return e.get(this).m().qa()}set x(g){g=
+g;const l=e.get(this).m();isNaN(g)||l.qa()===g||(l.ah(g),l.Na())}get y(){return e.get(this).m().ra()}set y(g){g=+g;const l=e.get(this).m();isNaN(g)||l.ra()===g||(l.bh(g),l.Na())}get fw(){return e.get(this).m().Ya()}set fw(g){g=+g;const l=e.get(this),n=l.m();isNaN(g)||n.Ya()===g||(n.Qe(g),l.G().W())}get width(){return e.get(this).m().$()}set width(g){g=+g;const l=e.get(this).m();isNaN(g)||l.$()===g||(l.fi(g),l.Na())}get height(){return e.get(this).m().Z()}set height(g){g=+g;const l=e.get(this).m();
isNaN(g)||l.Z()===g||(l.ai(g),l.Na())}get angle(){return e.get(this).m().Oa()}set angle(g){g=f.ae(+g);const l=e.get(this).m();isNaN(g)||l.Oa()===g||(l.rd(g),l.Na())}WI(){e.get(this).m().Rc().Jca()}get isVisible(){return e.get(this).m().Bc()}set isVisible(g){g=!!g;const l=e.get(this),n=l.m();n.Bc()!==g&&(n.ei(g),l.G().W())}get opacity(){return e.get(this).m().je()}set opacity(g){g=f.ea(+g,0,1);const l=e.get(this),n=l.m();isNaN(g)||n.je()===g||(n.Dk(g),l.G().W())}set Um(g){a.Cd(g);g=c.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const l=e.get(this);l.m().Df(g);l.G().W()}get Um(){return h.get(e.get(this).m().Xi())}get zIndex(){return e.get(this).m().Xg()}lf(g,l){a.Cf(g);a.Cf(l);return e.get(this).m().YB(+g,+l)}getParent(){const g=e.get(this).Aa();return g?g.Sg():null}*Yv(){for(const g of e.get(this).Yv())yield g.Sg()}*children(){for(const g of e.get(this).children())yield g.Sg()}*bk(){for(const g of e.get(this).bk())yield g.Sg()}removeChild(g){a.yD(g,m);const l=e.get(this);g=e.get(g);
l.rj(g)}}}{"use strict";const f=new WeakMap;self.xea=class extends self.rx{constructor(){super();f.set(this,self.Bs.nt())}focus(){f.get(this).ka.uK()}blur(){f.get(this).ka.MJ()}}}
{"use strict";const f=self.B,a=self.Lh,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=f.j(f.Event.Sb);e.set(m,g);return g}let h=null;self.cZ=class{constructor(){b.set(this,h);const m={pf:{value:h.G().Ai,writable:!1},behavior:{value:h.mk().XX(),writable:!1}};Object.defineProperties(this,m)}static ng(m){h=m}static nt(){return h}get instance(){return b.get(this).ia.Sg()}Dt(){const m=e.get(this);m&&(m.A(),e.delete(this));b.delete(this)}addEventListener(m,g,l){a.Cd(m);a.tj(g);
c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.Cd(m);a.tj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const f=new WeakMap;self.bZ=class{constructor(a){f.set(this,a);Object.defineProperties(this,{pf:{value:a.G().Ai,writable:!1}})}}}
{"use strict";const f=self.B,a=self.Lh,b=new WeakMap;self.SC=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).ag()[this.index].wa()}getParameter(e){a.sj(e);e=Math.floor(+e);const c=b.get(this).nk(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof f.Xa?[e.Pa,e.Ta,e.Sa]:e}}}
{"use strict";const f=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);f.RU=class extends f.ba{constructor(e,c){super();var h=c.exportType;this.g=e;this.jA=new Map;this.Yq=new Map;this.laa=new Map;this.Nz="cordova"===h;this.BR=!!c.isiOSCordova;this.Du=!!c.isFileProtocol;this.Haa=c.supportedAudioFormats||{};this.q$=
new Map;this.iR=this.RQ="";this.hz="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.rF=[];this.BF=new Map;this.BI=[];this.hA=[];this.dR=!1;this.eA=this.AF=this.Av=0;this.yG=!1;this.kaa=f.j(f.M0,()=>this.rO(),50);this.MH=new f.dM(Math.max(f.hardwareConcurrency,8));if(e=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(e,h);(h=c.projectData)&&(e["data.json"]=h);for(const [m,g]of Object.entries(e))this.jA.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.laa.set(m,g);new self.aZ(this)}A(){this.jA.clear();for(const e of this.Yq.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Yq.clear();for(const e of this.rF)e.A();f.C(this.rF);this.BF.clear();f.C(this.hA);this.g=null}G(){return this.g}j9(e){this.RQ=e}o9(e){this.iR=e}HE(e){return this.jA.has(e.toLowerCase())}oy(e){return this.jA.get(e.toLowerCase())||null}RK(e){if(!this.HE(e))return e;e=e.toLowerCase();var c=this.Yq.get(e);c||(c=this.oy(e),c=URL.createObjectURL(c),
this.Yq.set(e,c));return c}lk(e,c){c=c||this.hz;const h=this.oy(e);if(h)return Promise.resolve(h);if(f.jD(e)){const m=e.toLowerCase();return this.Nz&&this.Du?this.dK(m):"local"===c?this.MH.Ac(()=>f.lk(m)):f.lk(m)}return f.lk(e)}Wr(e){const c=this.oy(e);if(c)return f.XU(c);if(f.jD(e)){const h=e.toLowerCase();return this.Nz&&this.Du?this.cK(h):"local"===this.hz?this.MH.Ac(()=>f.Wr(h)):f.Wr(h)}return f.Wr(e)}Xr(e){const c=this.oy(e);if(c)return f.LJ(c);if(f.jD(e)){const h=e.toLowerCase();return this.Nz&&
this.Du?this.AV(h):"local"===this.hz?this.MH.Ac(()=>f.Xr(h)):f.Xr(h)}return f.Xr(e)}async sK(e){e=await this.Xr(e);return JSON.parse(e)}lE(e,c){return this.g.Np("runtime","cordova-fetch-local-file",{filename:e,as:c})}AV(e){return this.lE(e,"text")}async dK(e){const c=await this.lE(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Md(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async zV(e){e=e.toLowerCase();var c=this.Yq.get(e);if(c)return c;c=await this.dK(e);c=URL.createObjectURL(c);
this.Yq.set(e,c);return c}cK(e){return this.lE(e,"buffer")}wY(e,c=""){if(f.WC(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.HE(e)?Promise.resolve(this.RK(e)):this.Nz&&this.Du?this.zV(c+e):Promise.resolve(c+e.toLowerCase())}Fx(e){if(e.Vv&&!a.has(e.Vv))throw Error("invalid load policy");let c=this.BF.get(e.url);if(c)return c;c=f.j(f.oL,this,{url:e.url,size:e.size||0,Vv:e.Vv||this.hz});this.rF.push(c);this.BF.set(c.Wj,c);this.dR||(this.Av+=c.Ol(),
this.hA.push(c.GL().then(()=>this.JN(c.Ol()))));return c}async zN(){try{await Promise.all(this.hA),this.eA=1}catch(e){console.error("Error loading: ",e),this.yG=!0,this.rO()}}U1(){this.dR=!0}JN(e){this.AF+=e;this.kaa.fV()}rO(){const e=f.j(f.Event,"loadingprogress");this.eA=f.ea(this.AF/this.Av,0,1);e.progress=this.eA;this.g.Sb().dispatchEvent(e)}A9(e){f.zc(this.BI,e);this.BI.length&&this.hA.push(this.Q6())}Q6(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,h,m]of this.BI)this.Av+=
m,e.push(this.P6(c,h).then(()=>this.JN(m)));return Promise.all(e)}async P6(e,c){try{const h=await this.wY(c,this.RQ),m=new FontFace(e,`url('${h}')`);this.g.$k?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${e}': `,h)}}VZ(){return!!this.Haa["audio/webm; codecs=opus"]}V8(e){for(const [c,h,m]of e)this.q$.set(c,{fileName:c,Bka:h.map(g=>({type:g[0],xka:g[1],Oka:c+g[1],fileSize:g[2]})),jla:m})}}}
{"use strict";const f=self.B;f.QU=class extends f.ba{constructor(a,b){super();this.ld=a;this.g=a.G();this.Wj=b.url;this.jr=b.size;this.oH=b.Vv;this.Vt=null;this.VG=!1;this.rm=null}A(){this.Vt=this.g=this.ld=this.rm=null}Ol(){return this.jr}GL(){return"local"===this.oH||this.Vt?(this.VG=!0,Promise.resolve()):this.rm?this.rm:this.rm=this.ld.lk(this.Wj,this.oH).then(a=>{this.VG=!0;this.rm=null;return this.Vt=a}).catch(a=>console.error("Error loading resource: ",a))}gD(){return this.VG}AX(){return this.Vt?
Promise.resolve(this.Vt):this.rm?this.rm:this.ld.lk(this.Wj,this.oH)}}}
{"use strict";const f=self.B,a=new f.dM,b=new Set;f.oL=class extends f.QU{constructor(e,c){super(e,c);this.Yj=this.fp=null;this.wc=0;this.kR=this.mR=-1;b.add(this)}A(){this.Zh();if(0!==this.wc)throw Error("released image asset which still has texture references");this.fp=null;b.delete(this);super.A()}static Mp(){for(const e of b)e.fp=null,e.Yj=null,e.wc=0}Fs(e,c){c=c||{};this.wc++;if(this.Yj)return Promise.resolve(this.Yj);if(this.fp)return this.fp;c.aT=this.g.V.ES;return this.fp=this.AX().then(h=>
a.Ac(()=>e.zw(h,c).then(m=>{this.fp=null;if(0===this.wc)return e.Vi(m),null;this.Yj=m;this.mR=m.$();this.kR=m.Z();return this.Yj}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}Zh(){if(0>=this.wc)throw Error("texture released too many times");this.wc--;0===this.wc&&this.Yj&&(this.Yj.gb().Vi(this.Yj),this.Yj=null)}Pd(){return this.Yj}$(){return this.mR}Z(){return this.kR}}}
{"use strict";const f=self.B;function a(b,e){return b.m().ak-e.m().ak}f.X0=class extends f.ba{constructor(b,e,c){super();this.aa=e;this.T=c;this.D=[];this.Fu=!0;this.Hi=new Set;this.Au=!1}A(){f.C(this.D);this.Hi.clear()}Uc(){f.C(this.D);this.Fu=!0;this.Hi.clear();this.Au=!1}C1(){this.Fu=!1}Gn(){if(!this.D.length)return!0;if(this.D.length>this.Hi.size)return!1;this.DE();return!0}VC(b){this.Hi.has(b)?(this.Hi.delete(b),0===this.Hi.size&&(this.Au=!1)):(this.D.push(b),this.Fu=1===this.D.length)}Yg(b){this.Hi.add(b);
this.Au=!0;50<=this.Hi.size&&this.DE()}DE(){this.Au&&(this.D.length===this.Hi.size?this.Uc():(f.Wf(this.D,this.Hi),this.Hi.clear(),this.Au=!1))}e5(){this.Fu||(this.D.sort(a),this.Fu=!0)}fC(b){this.DE();this.e5();this.D.length&&b.push(this.D)}}}
{"use strict";const f=self.B;f.Y0=class extends f.ba{constructor(a,b){super();this.PF=a;this.OF=b;this.oi=f.j(f.Js)}A(){this.oi.A();this.oi=null}Kl(a,b,e){let c=this.oi.U(a,b);return c?c:e?(c=f.j(f.X0,this,a,b),this.oi.Set(a,b,c),c):null}gi(a){return Math.floor(a/this.PF)}hi(a){return Math.floor(a/this.OF)}Xn(a,b,e){if(b)for(let c=b.S,h=b.da;c<=h;++c)for(let m=b.M,g=b.Y;m<=g;++m){if(e&&e.lf(c,m))continue;const l=this.Kl(c,m,!1);l&&(l.Yg(a),l.Gn()&&this.oi.kn(c,m))}if(e)for(let c=e.S,h=e.da;c<=h;++c)for(let m=
e.M,g=e.Y;m<=g;++m)b&&b.lf(c,m)||this.Kl(c,m,!0).VC(a)}Kx(a,b){let e=this.gi(a.S);const c=this.hi(a.M),h=this.gi(a.da);for(a=this.hi(a.Y);e<=h;++e)for(let m=c;m<=a;++m){const g=this.Kl(e,m,!1);g&&g.fC(b)}}I_(a){let b=a.S;const e=a.M,c=a.da;for(a=a.Y;b<=c;++b)for(let h=e;h<=a;++h){const m=this.Kl(b,h,!1);m&&m.C1()}}}}
{"use strict";const f=self.B,a=new f.Rect,b=new f.kd,e=[];new f.Rect;new f.Rect;const c=self.Ri,h=c.GB,m=c.dw,g=c.Cl;g.create();const l=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=f.j(f.gt);f.j(f.Rect);function r(z,F){return z.m().ak-F.m().ak}function v(z,F){return z.m().Ya()-F.m().Ya()}const y=[],A=[],G=[];f.EL=class extends f.ba{constructor(z,F,H){super();this.xg=z;this.g=z.G();this.dS=F;this.Da=H[0];this.Ia=-1;this.bb=H[2];this.Iu=!!H[3];this.Ok=f.j(f.Xa);this.Ok.El(H[4].map(M=>
M/255));this.Pj=!!H[5];this.df=H[6];this.ef=H[7];this.Za=f.j(f.Xa,1,1,1,H[8]);this.yA=f.j(f.Xa);this.PG=H[9];this.Baa=H[17];this.KS=H[18];this.Naa=H[10];this.Am=H[11];this.qg=H[12];this.te=null;this.Hd=1;this.Pc=H[16];this.Bh=this.Ah=this.Hf=0;this.Wk=!1;this.Tf=f.j(f.Rect);this.QS=f.j(f.Rect);this.Pm=f.j(f.Rect);this.Rj=g.create();this.ZG=!0;this.Vu=g.create();this.WG=!0;this.PS=f.j(f.H.a3);this.bA=!0;this.BS=[];this.pR=H[14];this.Lj=[];this.fz=[];this.qR=new Map;this.D=[];this.ko=this.DI=!1;const J=
this.g.V;this.Ha=f.j(f.jk,this,H[15]);this.kh=f.j(f.H.fe,J.dG,{lB:(M,P)=>{P=P.im;const R=P.uk();M.Vl(P.GC());M.Gw(R);M.Ep(R);J.Nn(R)},qB:M=>this.Ha.nk(M)});this.Hv=this.il=!0;this.hr=null;this.cH=[];this.Wz=!1;this.haa=f.j(f.Rect,0,0,-1,-1);this.J$=f.j(f.Rect,0,0,-1,-1);this.U$=new self.dZ(this);this.mQ();this.Zn()&&(this.hr=f.j(f.Y0,this.g.Ag,this.g.zg));this.Dm=H[19].map(M=>f.j(f.EL,this.xg,this,M))}ng(){for(const z of this.pR){const F=this.g.Ke(z[1]);this.xg.HN(F);F.Cq||F.JM(z);this.Lj.push(z);
this.qR.set(z[2],z)}f.zc(this.BS,this.Lj);this.pR=null}A(){this.g=this.xg=null}$X(z){return this.qR.get(z)}DV(z){const F=this.xg.Ho;let H=0;const J=this.Lj;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.Ke(M[1]);let Z=!0;if(!T.PC()||F)M=this.g.Oh(M,this,!0),z.push(M),T.Bf()&&(Z=!1,this.fz.push(M.Oc));Z&&(J[H]=J[P],++H)}f.Ge(J,H);this.g.Ad();this.kg()}mg(z,F){const H=z.m();if(H.X()!==this)throw Error("instance added to wrong layer");this.D.push(z);0!==H.Ya()&&(this.ko=!0);F&&this.Zn()&&
z.m().Na();this.kg()}S6(z){this.D.includes(z)||(this.D.push(z),0!==z.m().Ya()&&(this.ko=!0),this.kg())}J7(z){const F=z.m();if(F.X()!==this)throw Error("instance added to wrong layer");this.D.unshift(z);0!==F.Ya()&&(this.ko=!0);this.kg()}eo(z,F){const H=this.D.indexOf(z);0>H||(F&&this.Zn()&&z.m().AP(),this.D.splice(H,1),this.kg(),this.fP())}PP(){this.ko=!0}fP(){0===this.D.length&&(this.ko=!1)}hF(z){if(z){z=new Set;for(var F of this.D){var H=F.m().ak;0<=H&&z.add(H)}F=-1;for(const J of this.D)if(H=J.m(),
!(0<=H.ak)){for(++F;z.has(F);)++F;H.Hy(F)}}this.D.sort(r)}d5(){for(const z of this.D)z.F().Bf()||this.g.ln(z);this.g.Ad();f.C(this.D);this.ko=!1;this.kg()}Ns(z,F,H,J,M){const P=this.g.fa(),R=this.g.Dc,T=z.Ua,Z=[];for(const Y of this.Lj){var X=Y[0];if(F.lf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.rK(X))continue}else continue;X=this;var ba=this.g.Qa();this.Tb()!==ba&&((X=ba.PK(this.wa()))||(X=ba.DC(this.Ba())));ba=this.g.Oh(Y,X,!1,void 0,void 0,!1,M);X.XD(ba);X=ba.m();X.Gx(H,J);X.Na();P.de(!0);ba.Jy();
P.de(!1);Z.push(ba)}}return Z}Tb(){return this.xg}wa(){return this.Da}cF(z){this.Ia=z}Ba(){return this.Ia}G(){return this.g}Zi(){return this.g.Zi()}Qh(){this.yt();return this.kh}yt(){const z=this.Cp();if(this.il||z!==this.Hv){var F=this.Ha.Gf;this.kh.TB(F.map(H=>H.xf()),{Er:F.map(H=>H.Ba()),oB:!z,EB:!0});this.il=!1;this.Hv=z}}eh(){this.Ha.eh();this.il=!0}Zn(){return this.Naa&&!this.KS}g2(){this.Wz=!1}Bc(){for(const z of this.vca())if(!z.Iu)return!1;return!0}ei(z){z=!!z;this.Iu!==z&&(this.Iu=z,this.g.W())}Xs(z){z=
!!z;if(this.Wk!==z){if(this.Wk=z)z=this.Tb(),this.Ah=z.vf(),this.Bh=z.wf();this.am();this.g.W()}}bi(z){var F=this.Tb();const H=F.YK();F=F.ZK();z>F&&(z=F);z<H&&(z=H);this.Ah!==z&&(this.Ah=z,this.Wk&&(this.am(),this.g.W()))}ci(z){var F=this.Tb();const H=F.$K();F=F.XK();z>F&&(z=F);z<H&&(z=H);this.Bh!==z&&(this.Bh=z,this.Wk&&(this.am(),this.g.W()))}vf(){return this.Wk?this.Ah:this.Tb().vf()}wf(){return this.Wk?this.Bh:this.Tb().wf()}GE(){const z=this.Tb();return[z.JC(),z.KC()]}iL(z,F){var H=this.QS;if(0===
z)F.la(H);else{let R=H.Kr(),T=H.Lr();var J=this.wK(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.GE();if(.5!==X||.5!==ba){const Y=this.es();var M=this.g,P=100/Y;J=(X-.5)*M.Vf/P;M=(ba-.5)*M.Uf/P;P=this.Oa();0!==P&&(w.set(J,M),w.rotate(P),J=w.aa,M=w.T);z=f.DB(Y,0,z);R+=f.Nd(J,0,z);T+=f.Nd(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}je(){return this.Za.Ra}Dk(z){z=f.ea(z,0,1);this.Za.Ra!==z&&(this.Za.Mr(z),this.mQ(),this.g.W())}mQ(){this.yA.la(this.Za);this.yA.qJ()}GC(){return this.yA}Cp(){return this.Za.mB(1,
1,1,1)}h2(z){this.Am!==z&&(this.Am=z,this.am(),this.g.W())}c2(z,F){if(this.df!==z||this.ef!==F)if(this.df=z,this.ef=F,this.am(),this.g.W(),1!==this.df||1!==this.ef)for(const H of this.D)H.F().$E(!0)}Qe(z){this.Pc!==z&&(this.Pc=z,this.g.W())}Ya(){return this.Pc}rd(z){z=f.ae(z);this.Hf!==z&&(this.Hf=z,this.am(),this.g.W())}Oa(){return f.ae(this.xg.Oa()+this.Hf)}UY(){return 0<this.D.length}EE(){return this.vD()&&this.KS?(f.zc(G,this.D),G.sort((z,F)=>this.H9(z,F)),G):this.D}ON(z){f.Tm(z,this.EE());for(const F of this.Dm)F.Bc()&&
0<F.je()&&F.ON(z)}H9(z,F){var H=this.Tb().vQ,J=H[0],M=H[1];H=H[2];var P=z.m();const R=F.m();F=P.qa()-J;z=P.ra()-M;P=P.Ya()-H;J=R.qa()-J;M=R.ra()-M;H=R.Ya()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}s2(z){z=!!z;this.Pj!==z&&(this.Pj=z,this.g.W())}Q1(z){z=!!z;this.PG!==z&&(this.PG=z,this.g.W())}lM(){return!this.G().xl||!this.Baa}vD(){return!this.lM()}Bp(){return this.vD()&&this.Tb().$$}ED(){if(!this.Bp())return!1;for(const z of this.Dm)if(!z.ED())return!1;return!0}Df(z){this.qg!==z&&(this.qg=z,this.g.W())}Xi(){return this.qg}PY(){for(const z of this.Dm)if(z.Zx())return!0;
return!1}*TT(){for(const z of this.Dm)yield*z.TT();yield this}*lca(){let z=this.dS;for(;z;)yield z,z=z.dS}*vca(){yield this;yield*this.lca()}p_(z){return this===z||this.df===z.df&&this.ef===z.ef&&this.Hd===z.Hd&&this.Am===z.Am&&this.Hf===z.Hf&&this.vf()===z.vf()&&this.wf()===z.wf()}X7(z){0!==z.size&&0<f.Wf(this.D,z)&&(this.fP(),this.kg())}kg(){this.Wz=this.DI=!1}Kt(){if(!this.DI){this.D.sort(v);if(this.Zn())for(let z=0,F=this.D.length;z<F;++z){const H=this.D[z].m();H.Hy(z);this.hr.I_(H.cv)}else for(let z=
0,F=this.D.length;z<F;++z)this.D[z].m().Hy(z);this.DI=!0}}O_(z,F,H){var J=z.m();F=F.m();if(J.X()!==this||F.X()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Xg();F=F.Xg();if(J===F+(H?1:-1))return!1;f.$aa(this.D,J);J<F&&F--;H&&F++;F===this.D.length?this.D.push(z):this.D.splice(F,0,z);this.kg();return!0}a7(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=z[J],Z=F[M];T.m().ak<Z.m().ak?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);
for(;M<R;++M)H.push(F[M]);return H}Z6(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.a7(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}Y6(z){for(;1<z.length;)z=this.Z6(z);return z[0]}N5(){this.Kt();f.C(e);this.hr.Kx(this.Tf,e);return e.length?1===e.length?e[0]:this.Y6(e):[]}Zx(){return this.Bc()&&0<this.je()&&this.lO()}lO(){if(this.UY()||!this.Pj)return!0;for(const z of this.Dm)if(z.lO())return!0;return!1}ft(){return this.PG||!this.Cp()||0!==this.Xi()||this.Ha.zs()}FD(){if(this.ft())return!0;
for(const z of this.Dm)if(z.FD())return!0;return!1}uk(){return this.te}wK(z){if(this.xg.Ye)return 1;{const F=this.es();return F/(F-z)}}es(){return 100/this.Uh()}am(){this.bA=this.WG=!0}qy(z){this.WG&&(this.J3(z,this.Vu),this.WG=!1);return this.Vu}v5(){var z=this.g,F=this.Tb(),H=z.Nl(),J=z.rA,M=z.sA;J=(this.vf()-J)*this.df+J;var P=(this.wf()-M)*this.ef+M;z.bl&&(J=Math.round(J),P=Math.round(P));M=(J+0)*H;J=(P+0)*H;F=F.Ye?100:this.es();const [R,T]=this.GE();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*
z.Vf*H/Z;z=(T-.5)*z.Uf*H/Z;H=this.Oa();0!==H&&(w.set(P,z),w.rotate(H),P=w.aa,z=w.T);M+=P;J+=z}return[M,J,F]}J3(z,F){const H=this.g;var J=this.Tb();const M=H.Nl();if(this.Bp()){h.la(p,J.vQ);h.la(q,J.B$);h.la(u,J.C$);J=H.rA;const P=H.sA,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.df+J;p[1]=(p[1]-P)*this.ef+P;p[2]*=Math.max(this.df,this.ef);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;h.set(l,M,M,1);h.multiply(p,p,l);h.multiply(q,q,l)}else{const [P,R,T]=this.v5();h.set(p,P,R,T);h.set(q,P,R,T-100);
J=this.Oa();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.OJ(F,p,q,u,H.V.Ph());1!==M&&(h.set(l,M,M,1),g.scale(F,F,l))}u9(){this.bA=this.ZG=!0}ty(z){this.ZG&&(this.K3(z),this.ZG=!1);return this.Rj}K3(z){const F=this.g.V,[H,J]=this.GE();this.xg.Ye?z.cV(this.Rj,F.aj(),F.Ph()):.5===H&&.5===J?g.la(this.Rj,F.iz):z.qp(this.Rj,F.aj()/F.Ph(),H,J)}Fy(z){z.Sn(this.ty(z));let F;F=this.qy(z);z.Zp(F)}B0(z){this.Fy(z);z.Vp(this.Ya())}Qg(z,F,H){var J=this.g.V;const M=this.ft();var P=null;let R=null;if(this.g.bD()&&
z.zk()){const T=J.QK(this);T&&(R=T.OB(),z.aE(R))}M?(P={Si:this.g.dd},"low"===J.oh&&(P.width=J.aj(),P.height=J.Ph()),this.te=P=this.g.bs(P),z.jg(P),this.Pj&&z.hn()):(this.te=F,z.jg(F));this.Pj||z.ed(this.Ok);this.xg.jO(z,this.te,this.Dm,M&&this.Pj);this.Fy(z);z.Vp(this.Ya());z.ig(this.vD());this.Uh()>Number.EPSILON&&(this.Kt(),J=this.Zn()&&0===this.Ya()&&!this.ko,this.Bp()?this.T4(z):J?this.U4(z):this.iO(z,this.EE()));z.Vp(0);z.Ss(0);M&&(z.ig(!1),this.V4(z,P,F,H));R&&z.hC(R);this.te=null}iO(z,F){const H=
this.Tf,J=this.te,M=this.Tb().Ye,P=this.Tb().nL();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.Bc()&&ba.yL(H,P,M)&&this.Ik(X,ba,z,J)}}T4(z){const F=this.te,H=this.jq(),J=this.EE();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.m();if(!P.Bc()||!P.Fp(H)){++T;continue}(!M.Rp()||0<P.Hc)&&A.push(M);var R=M.m().zf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.Bc()&&Y.Fp(H)){if(Y.zf()!==R)break;ba.Rp()?(0<Y.Hc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==
y.length||y[0].NL()){this.Q4(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.m(),P.Dy(!0),this.Ik(M,P,z,F),P.Dy(!1)}else{this.Ik(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.m(),R.X().Ik(P,R,z,F))}T=X;f.C(y);f.C(A)}}Q4(z,F){const H=this.te;z.aK();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.m();M.By(!0);this.yE(J,M,z)}z.$J();for(let P=0,R=F.length;P<R;++P)J=F[P],M=J.m(),this.Ik(J,M,z,H),M.By(!1);z.ZJ()}U4(z){var F=this.hr;const H=this.J$,J=this.haa,M=this.Tf;H.set(F.gi(M.S),
F.hi(M.M),F.gi(M.da),F.hi(M.Y));this.Wz&&H.$c(J)?F=this.cH:(F=this.N5(),this.Wz=!0,J.la(H));this.iO(z,F);F!==this.cH&&f.zc(this.cH,F)}Ik(z,F,H,J){F.zs()?this.S4(z,F,H,J):this.yE(z,F,H)}yE(z,F,H){F=F.$o;H.ri!==F&&F.LU();z.Qg(H)}S4(z,F,H,J){this.R4(z,F,H,J)&&this.Fy(H)}R4(z,F,H,J){const M=F.Lf.Qh();M.Qn(H,J,{hB:z,Um:F.Xi(),devicePixelRatio:this.g.ms(),Sv:this.g.ns()*this.Uh(),tB:this.Oa(),Jr:F.Rc(),Nv:M.$t?null:this.j6(F),mT:null,fT:null,gT:null,jU:null});H.Vp(this.Ya());return M.jm}V4(z,F,H,J){const M=
this.g;0===this.Ha.Gf.length?(z.jg(H),z.xj(),J&&0===this.qg&&this.Cp()?z.bK(F):(z.Df(this.qg),z.Vl(this.yA),z.Gw(F)),z.Ep(F),M.Nn(F)):this.Qh().Qn(z,H,{hB:this,Um:this.Xi(),devicePixelRatio:M.ms(),Sv:M.ns()*this.Uh(),tB:this.Oa(),Jr:this.Tf,Nv:null,aJ:!0})}aN(z){this.Hd!==z&&(this.Hd=z,this.xg.kw(),this.am(),this.g.W())}Nl(){return this.Uh()*this.g.Nl()}$i(){return this.Uh()*this.g.$i()}Uh(){return(this.Hd*this.xg.Hd-1)*this.Am+1}gE(){var z=this.g.rA,F=this.g.sA,H=(this.vf()-z)*this.df+z,J=(this.wf()-
F)*this.ef+F;z=this.Uh();F=this.g.Vf/z;z=this.g.Uf/z;H-=F/2;let M=J-z/2;this.g.bl&&(H=Math.round(H),M=Math.round(M));J=this.QS;J.set(H,M,H+F,M+z);F=this.Oa();0!==F&&(a.la(J),a.offset(-J.Kr(),-J.Lr()),b.yca(a,F),b.WI(a),a.offset(J.Kr(),J.Lr()),J.la(a));F=this.Pc;this.iL(F,this.Tf);this.Bp()?this.eV(F,this.Pm):this.Pm.la(this.Tf)}eV(z,F){var H=this.g.V,J=H.Vc;H=H.Gc;const [M,P]=this.ik(0,0,z),[R,T]=this.ik(J,0,z),[Z,X]=this.ik(J,H,z),[ba,Y]=this.ik(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=
Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}ik(z,F,H=0){return this.N3(z,F,H,this.$i())}N3(z,F,H,J){const M=this.g;var P=M.gb();const R=this.Uh();m.set(n,0,0,M.Vf/R,M.Uf/R);z/=J;F=n[3]-F/J;J=this.ty(P);P=this.qy(P);return f.H.S2(z,F,H,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}Kn(z,F){return this.ZO(z,F,0,this.$i())}pj(z,F,H=0){return this.ZO(z,F,H,this.Nl()*this.Zi())}ZO(z,F,H,J){var M=
this.g,P=M.gb();const R=this.Uh();m.set(n,0,0,M.Vf/R,M.Uf/R);M=this.ty(P);P=this.qy(P);return f.H.D0(z,F,H,P,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}j6(z){var F=z.Rc(),H=z.zf();z=z.Hc;const J=H+z,M=F.S,P=F.M,R=F.da;F=F.Y;if(this.Bp()){if(this.$l(M,P,H)||this.$l(R,P,H)||this.$l(R,F,H)||this.$l(M,F,H)||0<z&&(this.$l(M,P,J)||this.$l(R,P,J)||this.$l(R,F,J)||this.$l(M,F,J)))return null}else if(J>=this.es())return null;let [T,Z]=this.pj(M,P,H),[X,ba]=this.pj(R,F,H);if(0!==this.Oa()||0<z){const [Y,va]=this.pj(R,
P,H),[ta,ya]=this.pj(M,F,H);if(0<z){const [Na,Sa]=this.pj(M,P,J),[Ta,Ua]=this.pj(R,P,J),[Wa,eb]=this.pj(R,F,J),[fb,Pa]=this.pj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}jq(){this.bA&&(this.e$(),this.bA=!1);return this.PS}e$(){var z=this.g.gb();const F=this.ty(z);z=
this.qy(z);this.PS.dV(z,F)}$l(z,F,H){return this.jq().WZ(z,F,H)}ca(){return{s:this.Hd,a:this.Hf,vl:this.Tf.S,vt:this.Tf.M,vr:this.Tf.da,vb:this.Tf.Y,v:this.Iu,bc:this.Ok.toJSON(),t:this.Pj,sx:this.Ah,sy:this.Bh,hosp:this.Wk,px:this.df,py:this.ef,c:this.Za.toJSON(),sr:this.Am,fx:this.Ha.qd(),cg:this.fz}}ja(z){this.Hd=z.s;this.Hf=z.a;this.Tf.set(z.vl,z.vt,z.vr,z.vb);this.Iu=!!z.v;this.Ok.El(z.bc);this.Pj=!!z.t;z.hasOwnProperty("sx")&&(this.Ah=z.sx);z.hasOwnProperty("sy")&&(this.Bh=z.sy);z.hasOwnProperty("hosp")&&
(this.Wk=!!z.hosp);this.df=z.px;this.ef=z.py;this.Za.El(z.c);this.Am=z.sr;f.zc(this.fz,z.cg);f.zc(this.Lj,this.BS);const F=new Set(this.fz);let H=0;for(let J=0,M=this.Lj.length;J<M;++J)F.has(this.Lj[J][2])||(this.Lj[H]=this.Lj[J],++H);f.Ge(this.Lj,H);this.Ha.jd(z.fx);this.il=!0;this.hF(!1);this.kg()}XD(z){if(!this.D.includes(z))if(z.Ne()){var F=[...z.bk()];F.push(z);F.sort((J,M)=>{J=J.m().yp();M=M.m().yp();return J-M});for(var H of F)if(H.Mb())for(const J of H.md)F.includes(J)||(z=[...J.bk()],z.push(J),
z.sort((M,P)=>{M=M.m().yp();P=P.m().yp();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.mg(J,!0)}else if(this.mg(z,!0),z.Mb())for(F of z.md)if(H=[...F.bk()],H.push(F),H.sort((J,M)=>{J=J.m().yp();M=M.m().yp();return J-M}),H&&H.length)for(const J of H)this.mg(J,!0)}}}
{"use strict";const f=self.B,a=self.Mg;f.j(f.Rect);f.j(f.Rect);const b=f.j(f.Rect),e=f.j(f.Xa),c=self.Ri.GB,h=[],m=[],g=[],l=[];let n=null;function p(q,u){n!==q&&(q.B0(u),n=q)}f.u_=class extends f.ba{constructor(q,u,w){super();this.$a=q;this.g=q.G();this.Da=w[0];this.xaa=w[1];this.waa=w[2];this.R=w[1];this.O=w[2];this.aA=!!w[3];this.Ye=!!w[4];this.bB=w[5];this.cB=w[6];this.LQ=w[7];this.Jc=null;this.bb=w[8];this.Ia=u;this.Bh=this.Ah=0;this.Hd=1;this.Hf=0;this.Pq=new Set;this.Gg=new Set;this.vv=new Set;
this.yq=[];this.DG=[];this.$$=!1;this.vQ=c.create();this.B$=c.create();this.C$=c.create();this.FA=[];this.Nb=[];this.MR=new Map;this.NR=new Map;const r=this.g.V;this.Ha=f.j(f.jk,this,w[11]);this.kh=f.j(f.H.fe,r.dG,{lB:(v,y)=>{y=y.im.uk();v.Ps();v.Gw(y);v.Ep(y);r.Nn(y)},qB:v=>this.Ha.nk(v)});this.il=!0;this.SS=!1;this.te=null;this.Ro={};this.Ho=!0;this.vu=new self.eZ(this);this.Ld=f.j(f.Event.Sb);for(const v of w[9])this.FA.push(f.j(f.EL,this,null,v));this.Nb=[...this.Raa()];for(let v=0,y=this.Nb.length;v<
y;++v)q=this.Nb[v],q.cF(v),q.ng(),this.MR.set(q.wa().toLowerCase(),q),this.NR.set(q.bb,q);for(const v of w[10]){w=this.g.Ke(v[1]);if(!w)throw Error("missing nonworld object class");w.Cq||w.JM(v);this.DG.push(v);this.HN(w)}}A(){for(const q of this.Nb)q.A();f.C(this.Nb);this.vv.clear();this.g=this.$a=this.Jc=null}G(){return this.g}wa(){return this.Da}Ba(){return this.Ia}Qh(){this.yt();return this.kh}yt(){const q="low"===this.g.V.oh;if(this.il||this.SS!==q){var u=this.Ha.Gf;this.kh.TB(u.map(w=>w.xf()),
{Er:u.map(w=>w.Ba()),SI:q,EB:!0});this.il=!1;this.SS=q}}eh(){this.Ha.eh();this.il=!0}SK(){let q=this.Nb[0].Uh();for(let u=1,w=this.Nb.length;u<w;++u){const r=this.Nb[u];if(0!==r.df||0!==r.ef)q=Math.min(q,r.Uh())}return q}IO(){return.5*this.g.Vf/this.SK()}JO(){return.5*this.g.Uf/this.SK()}YK(){return this.aA?-Infinity:this.IO()}ZK(){return this.aA?Infinity:this.$()-this.IO()}$K(){return this.aA?-Infinity:this.JO()}XK(){return this.aA?Infinity:this.Z()-this.JO()}bi(q){const u=this.YK(),w=this.ZK();
q>w&&(q=w);q<u&&(q=u);this.Ah!==q&&(this.Ah=q,this.Bj(),this.g.W())}vf(){return this.Ah}ci(q){const u=this.$K(),w=this.XK();q>w&&(q=w);q<u&&(q=u);this.Bh!==q&&(this.Bh=q,this.Bj(),this.g.W())}wf(){return this.Bh}kw(){this.bi(this.vf());this.ci(this.wf());for(const q of this.Nb)q.Wk&&(q.bi(q.vf()),q.ci(q.wf()))}v2(q,u){if(this.bB!==q||this.cB!==u)this.bB=q,this.cB=u,this.h_()&&(this.oq(),this.Bj(),this.g.W())}JC(){return this.Ye?.5:this.bB}KC(){return this.Ye?.5:this.cB}nL(){const q=this.JC(),u=this.KC();
return 0>q||1<q||0>u||1<u}cN(){this.Ye&&(this.Ye=!1,this.oq(),this.Bj(),this.g.W())}$M(){this.Ye||(this.Ye=!0,this.oq(),this.Bj(),this.g.W())}h_(){return!this.Ye}ND(q){this.Hd!==q&&(this.Hd=q,this.Bj(),this.kw(),this.g.W())}rd(q){q=f.ae(q);this.Hf!==q&&(this.Hf=q,this.Bj(),this.g.W())}Oa(){return this.Hf}$(){return this.R}fi(q){!isFinite(q)||1>q||(this.R=q)}Z(){return this.O}ai(q){!isFinite(q)||1>q||(this.O=q)}*Raa(){for(const q of this.FA)yield*q.TT()}X(q){return"number"===typeof q?this.DC(q):this.PK(q.toString())}DC(q){q=
f.ea(Math.floor(q),0,this.Nb.length-1);return this.Nb[q]}PK(q){return this.MR.get(q.toLowerCase())||null}Ww(q){return this.NR.get(q)||null}oq(){for(const q of this.Nb)q.u9()}Bj(){for(const q of this.Nb)q.am()}jY(){let q=this.FA.filter(u=>u.Zx())[0];for(;q;){if(!q.Pj)return e.Oi(q.Ok),e.Mr(1),e;if(q.ft())return e.an(0,0,0,0),e;q=q.Dm.filter(u=>u.Zx())[0]}e.an(0,0,0,0);return e}AO(){return[...this.Pq]}HN(q){if(q.Mb())for(const u of q.rg.ll)this.Pq.add(u);else this.Pq.add(q)}T5(){return[...this.Gg]}KE(q,
u){if(q===this||!u)return Promise.resolve();q&&(f.yV(this.Gg,q.Gg),q.Gg.clear());q=[];for(const w of this.Pq)this.Gg.has(w)||(q.push(w.Jp(u)),this.Gg.add(w));return Promise.all(q)}async LL(q){if(q.Ua)throw Error("cannot load textures for family");var u=this.g.gb();!u||u.En()||this.Gg.has(q)||(this.Gg.add(q),u=q.Jp(u),this.w3(u),await u,q.Hx(),this.g.W())}w3(q){this.vv.add(q);q.then(()=>this.vv.delete(q)).catch(()=>this.vv.delete(q))}d3(){return Promise.all([...this.vv])}M_(q){if(q.Ua||0<q.D.length)throw Error("cannot unload textures");
this.g.gb()&&this.Gg.has(q)&&(this.Gg.delete(q),q.On())}T9(q,u){if(q!==this&&u)for(const w of this.Gg)w.Bf()||q.Pq.has(w)||(w.On(),this.Gg.delete(w))}Bt(){this.Gg.clear()}async cQ(q){const u=this.g,w=this.$a,r=u.fa();this.LQ&&(this.Jc=r.GK(this.LQ),this.Jc.lF());w.UP(this);this.R=this.xaa;this.O=this.waa;this.Ah=u.Ag/2;this.Bh=u.zg/2;this.kw();this.b7(q);this.a4();this.Ho||this.c4();this.XN(this.yq);this.b4();w.oV();u.Ad();const v=this.g.k$;await Promise.all(v);f.C(v);if(!u.Oj){for(const y of this.yq)y.y2();
for(const y of this.yq)y.eQ()}f.C(this.yq);await Promise.all([...this.Pq].map(y=>y.rD(this.g.gb())));q&&(u.Sb().dispatchEvent(new f.Event("beforefirstlayoutstart")),await u.mn(new f.Event("beforeprojectstart")));await this.mn(new f.Event("beforelayoutstart"));u.Oj||await u.oe(f.K.Eb.ua.TL,null,null);await this.mn(new f.Event("afterlayoutstart"));q&&(u.Sb().dispatchEvent(new f.Event("afterfirstlayoutstart")),await u.mn(new f.Event("afterprojectstart")));r.v8(w);await this.d3();this.oq();this.Bj();
this.Ho=!1}b7(q){for(const w of this.g.Dc)if(!w.Ua&&w.Ze)for(const r of w.ga()){const v=r.m();var u=v.X();u=f.ea(u.Ba(),0,this.Nb.length-1);u=this.Nb[u];v.Ft(u);u.S6(r)}if(!q)for(const w of this.Nb)w.hF(!1)}a4(){for(const q of this.Nb)q.DV(this.yq),q.gE()}c4(){let q=!1;for(const [w,r]of Object.entries(this.Ro)){const v=this.g.Zw(parseInt(w,10));if(v&&!v.Ua&&v.PC()){for(const y of r){var u=null;if(v.Ze&&(u=this.Ww(y.w.l),!u))continue;u=this.g.Oh(v,u,!1,0,0,!0);u.jd(y);q=!0;this.yq.push(u)}f.C(r)}}for(const w of this.Nb)w.hF(!0),
w.kg();q&&(this.g.Ad(),this.g.vP())}XN(q){for(const w of q){if(!w.Mb())continue;const r=w.m(),v=w.rn();for(const y of w.F().rg.ll)if(y!==w.F()){var u=y.ga();u.length>v?w.hq(u[v]):(u=r?this.g.Oh(y,r.X(),!0,r.qa(),r.ra(),!0):this.g.Oh(y,null,!0,0,0,!0),this.g.Ad(),y.Ky(),w.hq(u),q.push(u))}}}b4(){for(const q of this.DG)this.g.Ke(q[1]).Mb()||this.g.Oh(q,null,!0)}Y3(){const q=[],u=this.DG;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.Ke(y[1]);A.Bf()?A.Mb()&&A.rg.QY()||q.push(this.g.Oh(y,
null,!0)):(u[w]=y,++w)}f.Ge(u,w);this.g.Ad();this.XN(q)}Ns(q,u,w,r,v,y){if(w)return w.Ns(q,u,r,v,y);w=[];for(const A of this.Nb)w.push(A.Ns(q,u,r,v,y));return w.flat()}async L9(){const q=this.$a;this.g.Oj||await this.g.oe(f.K.Eb.ua.i0,null,null);q.UM(!0);this.g.fa().rw();this.Ho||this.G8();for(const u of this.Nb)u.d5();for(const u of this.g.Dc)if(!(u.Bf()||u.Ze||u.pb().om||u.Ua)){for(const w of u.ga())this.g.ln(w);this.g.Ad()}q.UM(!1);q.Ib()===this&&q.UP(null)}D8(q){const u=q.F().bb.toString();this.Ro.hasOwnProperty(u)||
(this.Ro[u]=[]);this.Ro[u].push(q.qd())}G8(){for(const q of this.Nb){q.Kt();for(const u of q.D){const w=u.F();!w.Bf()&&w.PC()&&this.D8(u)}}}f1(){this.Ro={};this.Ho=!0}uk(){return this.te}ft(){const q=this.g,u=q.gb().zk();return"low"===q.V.oh||u&&q.ZA||"low-latency"===q.xq||this.Ha.zs()||u&&q.xl}Qg(q){const u=this.g.V,w=this.ft();if(w){"low-latency"!==this.g.xq&&(q.jg(null),q.hn());const r={Si:this.g.dd,eJ:this.g.ZA||this.Ha.zs()};"low"===u.oh&&(r.width=u.aj(),r.height=u.Ph());this.te=this.g.bs(r)}else this.te=
null;q.jg(this.te);q.ed(this.jY());this.g.xl&&q.lV();for(const r of this.Nb)r.gE();this.jO(q,this.te,this.FA,!0);w&&(q.ig(!1),this.W4(q,this.te));this.te=null}jO(q,u,w,r){w=w.filter(v=>v.Zx());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.ED()&&!A.FD()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.ED()&&!z.FD())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].PY()){this.O4(q,u,h);v+=h.length;f.C(h);continue}f.C(h)}A.Qg(q,u,r&&0===v);++v}}W4(q,u){const w=this.g;0===this.Ha.Gf.length?
(q.jg(null),q.xj(),q.bK(u),q.Ep(u),w.Nn(u)):(b.set(0,0,w.Vf,w.Uf),this.Qh().Qn(q,null,{hB:this,Um:3,devicePixelRatio:this.g.ms(),Sv:this.g.ns()*this.Hd,tB:this.Oa(),Jr:b,Nv:null,aJ:!0}))}O4(q,u,w){w[0].Pj||(e.Oi(w[0].Ok),e.Mr(1),q.ed(e));var r=this.g.V;q.ig(!0);for(var v of w)v.Kt(),v.ON(m);v=w[0];w=null;this.g.bD()&&q.zk()&&(r=r.QK(v))&&(w=r.OB(),q.aE(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.X();if(y.Bc()&&y.Fp(A.jq())){(!v.Rp()||0<y.Hc)&&l.push(v);var G=v.m().zf();g.push(v);for(r=
z+1;r<F;++r){const H=m[r],J=H.m();if(J.Bc()&&J.Fp(J.X().jq())){if(J.zf()!==G)break;H.Rp()?(0<J.Hc&&l.push(H),g.push(H)):l.push(H)}}if(1!==g.length||g[0].NL()){this.P4(q,u,g);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.X(),y.Dy(!0),p(A,q),A.Ik(v,y,q,u),y.Dy(!1)}else{p(A,q);A.Ik(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.X(),p(G,q),G.Ik(y,A,q,u))}z=r;f.C(g);f.C(l)}else++z}w&&q.hC(w);f.C(m);n=null}P4(q,u,w){q.aK();for(let A=0,G=w.length;A<G;++A){var r=w[A],v=r.m(),y=v.X();
v.By(!0);p(y,q);y.yE(r,v,q)}q.$J();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.m(),y=v.X(),p(y,q),y.Ik(r,v,q,u),v.By(!1);q.ZJ()}ca(){const q={sx:this.vf(),sy:this.wf(),s:this.Hd,a:this.Oa(),w:this.$(),h:this.Z(),ortho:this.Ye,vpX:this.JC(),vpY:this.KC(),fv:this.Ho,persist:this.Ro,fx:this.Ha.qd(),layers:{}};for(const u of this.Nb)q.layers[u.bb.toString()]=u.ca();return q}ja(q){this.Ah=q.sx;this.Bh=q.sy;this.Hd=q.s;this.Hf=q.a;this.R=q.w;this.O=q.h;this.Ye=!!q.ortho;q.hasOwnProperty("vpX")&&(this.bB=
q.vpX);q.hasOwnProperty("vpY")&&(this.cB=q.vpY);this.Ho=!!q.fv;this.Ro=q.persist;this.Ha.jd(q.fx);this.il=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Ww(parseInt(u,10)))&&q.ja(w);this.oq();this.Bj()}Og(q){q.uB=this.vu;var u=this.g;(u=u.ub&&!u.fa().xx())&&a.$D();this.Ld.dispatchEvent(q);u&&a.NB()}mn(q){q.uB=this.vu;return this.Ld.RI(q)}}}
{"use strict";const f=self.B;f.v_=class extends f.ba{constructor(a){super();this.g=a;this.li=[];this.lH=new Map;this.mH=new Map;this.Su=null;this.RH=[];this.sz=null;this.Rz=0;this.$u=null}A(){this.$u=this.sz=this.Su=this.g=null;f.C(this.li);this.lH.clear();this.mH.clear();f.C(this.RH)}Ja(a){a=f.j(f.u_,this,this.li.length,a);this.li.push(a);this.lH.set(a.wa().toLowerCase(),a);this.mH.set(a.bb,a)}G(){return this.g}N1(a){this.sz=a}SX(){if(this.sz)return this.sz;if(this.li.length)return this.li[0];throw Error("no first layout");
}wp(a){return this.lH.get(a.toLowerCase())||null}EC(a){return this.mH.get(a)||null}kY(a){a=f.ea(Math.floor(a),0,this.li.length-1);return this.li[a]}Tb(a){return"number"===typeof a?this.kY(a):this.wp(a.toString())}UP(a){this.Su=a}Ib(){return this.Su}*bw(){this.Su&&(yield this.Su);this.RH.length&&(yield*this.RH)}UM(a){if(a)this.Rz++;else{if(0>=this.Rz)throw Error("already unset");this.Rz--}}vL(){return 0<this.Rz}qw(a){this.$u=a}oV(){this.$u=null}Gp(){return!!this.$u}Tp(){const a=this.Ib();a&&a.oq()}Sp(){const a=
this.Ib();a&&a.Bj()}}}
{"use strict";const f=self.B;f.L2=class extends f.ba{constructor(a){super();this.g=a;this.yv=f.j(f.lg);this.yaa=null;this.Em=[];this.zv=new Map;this.kl=new Map;this.Fm=new Map;this.Dg=[];this.Wd=[];this.vh=[];this.Hu=this.vq=this.Ao=!1;this.sl=()=>this.x7();this.qr=()=>this.y7();this.DF=()=>this.At();this.kH=()=>this.d7();this.HG=b=>this.nP(b.instance);this.qF=()=>this.SE();this.iu=[];this.xc=0}A(){this.U0();this.qF=this.HG=this.kH=this.DF=this.qr=this.sl=null;for(const a of this.Em)a.Re(),a.A();
f.C(this.Em);this.Em=null;this.yv.A();this.yv=null;f.C(this.Dg);this.Dg=null;f.C(this.Wd);this.Wd=null;f.C(this.vh);this.vh=null;this.zv.clear();this.zv=null;this.kl.clear();this.kl=null;this.Fm.clear();this.Fm=null;f.C(this.iu);this.g=this.iu=null}FU(){const a=this.g.Sb();a.addEventListener("pretick",this.sl);a.addEventListener("tick2",this.qr);a.addEventListener("beforelayoutchange",this.DF);a.addEventListener("layoutchange",this.kH);a.addEventListener("instancedestroy",this.HG);a.addEventListener("afterload",
this.qF)}U0(){const a=this.g.Sb();a.removeEventListener("pretick",this.sl);a.removeEventListener("tick2",this.qr);a.removeEventListener("beforelayoutchange",this.DF);a.removeEventListener("layoutchange",this.kH);a.removeEventListener("instancedestroy",this.HG);a.removeEventListener("afterload",this.qF)}Ja(a){this.yv.Ac(a);a=f.Wn.CV(a,this);this.Ac(a);this.k2(a);this.Fm.set(a.wa(),0)}$B(a){a=a.dL();var b=this.yv.U(a);b=f.Wn.$B(`${a}:${this.Fm.get(a)}`,b,this);this.QO(a);this.Ac(b);return b}QO(a){this.Fm.set(a,
this.Fm.get(a)+1)}Z8(){for(const a of this.Em)a.Sq||this.QO(a.dL())}Q3(){for(const a of this.Fm.keys())this.Fm.set(a,0)}Ac(a){this.Em.push(a);this.zv.set(a.wa().toLowerCase(),a)}Yg(a){a.Nx();a.Sq||(f.ck(this.Em,a),f.ck(this.Dg,a),f.ck(this.Wd,a),f.ck(this.vh,a),this.zv.delete(a.wa().toLowerCase()),this.V0(a),a.Cg||a.A())}kb(a){this.g.kb(a,this.yaa,null)}G(){return this.g}fN(a,b){this.kl.has(a)||this.kl.set(a,new Set);this.kl.get(a).add(b)}k2(a){for(const b of a.TK())this.fN(b,a)}V0(a){for(const [b,
e]of this.kl.entries())e.has(a)&&(e.delete(a),0===e.size&&this.kl.delete(b))}FY(a){if(this.kl.has(a))return this.kl.get(a)}jx(a){return this.zv.get(a.toLowerCase())||null}T0(a){f.ck(this.Wd,a);this.xt()}CM(a){this.Wd.includes(a)?(a.bq(!0),a.eq(!1),a.Wx(!1)):(a.bq(!1),a.eq(!0),a.Wx(!1),this.Dg.includes(a)||this.Dg.push(a));this.dP()}Aw(a){a.bq(!1);a.eq(!1);a.zD();f.ck(this.Dg,a);this.xt()}VJ(a){a.bq(!1);a.eq(!1);a.Wx(!0);this.vh.push(a);f.ck(this.Wd,a)}WJ(a){a.bq(!1);a.eq(!1);a.Wx(!1);a.vj(1);f.ck(this.Wd,
a)}uV(a){this.VJ(a);a.zD()}x7(){if(!this.G().Oj&&this.Ao&&!this.vq){for(this.Hu=!0;this.Dg.length;){var a=this.Dg.pop();a.Cc();0!==a.xc&&(this.xc=1);this.Wd.push(a)}a=this.g.ju;var b=this.g.ku,e=this.g.Kd;for(let c=this.Wd.length-1;0<=c;c--)this.Wd[c].Se(a,e,b);this.Hu=!1;0!==this.xc&&this.G().W()}}y7(){if(!this.G().Oj&&this.Ao&&!this.vq){var a;for(let b=0,e=this.vh.length;b<e;b++){const c=this.vh[b];a||(a=new Set);c.Nx();this.eP(c);a.add(c)}if(a){f.Wf(this.vh,a);this.xc=0;for(let b=0,e=this.Wd.length;b<
e;b++)if(0!==this.Wd[b].xc){this.xc=1;break}}this.xt()}}eP(a){a.Cg||a.mL()&&a.If&&a.mm&&a.tK()}dP(){this.Ao||(this.Ao=!0)}xt(){this.vh.length||this.Wd.length||this.Dg.length||this.Hu||(this.Ao=!1)}At(){for(this.vq=!0;this.Dg.length;)this.Aw(this.Dg.pop());const a=new Set;for(const b of this.Wd)b.At()&&(b.Nx(),a.add(b));f.Wf(this.Wd,a);a.clear();for(const b of this.vh)b.At()&&(b.Nx(),a.add(b));f.Wf(this.vh,a);this.xt();for(const b of this.Em)b.Ui()}d7(){this.vq=!1}nP(a){var b=a.F();if(b=this.FY(b))if(this.g.Oj)this.iu.push(a);
else for(const e of b)e.Sq||(e.Cg?this.Yg(e):e.mL()||(this.eP(e),this.Yg(e)))}SE(){for(const a of this.iu)this.nP(a);f.C(this.iu)}ca(){return{timelinesJson:this.L8(),scheduledTimelinesJson:this.J8(),playingTimelinesJson:this.H8(),markedForRemovalTimelinesJson:this.F8(),hasRuntimeListeners:this.Ao,changingLayout:this.vq,isTickingTimelines:this.Hu}}ja(a){a&&(this.Q3(),this.M6(a.timelinesJson),this.J6(a.scheduledTimelinesJson),this.H6(a.playingTimelinesJson),this.G6(a.markedForRemovalTimelinesJson),
this.Ao=!a.hasRuntimeListeners,this.vq=!!a.changingLayout,this.Hu=!!a.isTickingTimelines,this.Z8(),this.dP(),this.xt())}L8(){return this.Em.map(a=>a.ca())}M6(a){for(const b of a){a=this.jx(b.name);if(!a){a=this.Q5(b);if(!a)continue;a=this.jx(a);a=this.$B(a)}a.ja(b);a.ZY()||this.Yg(a)}}Q5(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}J8(){return this.ZE(this.Dg)}J6(a){this.NE(a,this.Dg)}H8(){return this.ZE(this.Wd)}H6(a){this.NE(a,this.Wd)}F8(){return this.ZE(this.vh)}G6(a){this.NE(a,this.vh)}r6(a,
b){for(const e of b)if(e===a.wa())return!0;return!1}ZE(a){return a.map(b=>b.wa())}NE(a,b){var e=new Set;for(const c of b)this.r6(c,a)||e.add(c);f.Wf(b,e);e=c=>h=>h.wa()===c;for(const c of a)(a=this.jx(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const f=self.B;f.Wn=class extends f.ba{constructor(a,b,e){super();this.g=e.G();this.xb=e;this.zd=b;this.Da=a;this.eb=[];this.IS=0;this.rq=null;this.rQ=0;this.gK();this.vA=this.av=null;this.Qb=0;this.Kc=1;this.xd=0;this.ud=1;this.mm=this.cl=this.Vz=!1;this.If=!0;this.mA=this.Cg=!1;this.wq=-1;this.we=this.xo=this.Sq=this.Fz=!1;this.dA=NaN;this.Fg=[""];this.CS="";this.hI=!1;this.Bz=this.xc=0}static CV(a,b){const e=b.yv.U(a[0]);a=f.j(f.Wn,a[0],e,b);a.X1();return a}static $B(a,b,e){return f.j(f.Wn,
a,b,e)}A(){if(!this.Cg){this.xb.Aw(this);this.xb.uV(this);for(const a of this.eb)a.A();f.C(this.eb);this.zd=this.xb=this.g=this.eb=null;this.Cg=!0;this.vA=this.av=null}}gK(){for(const a of this.zd.ws().dU())this.IS=this.eb.push(f.fE.Ja(this,a))}G(){return this.g}ss(a,b,e){if(this.Bz){var c;for(let m=0;m<this.eb.length;m++){var h=this.eb[m];a===h.ya()&&(h=h.uf(e))&&b.constructor===h.yb().constructor&&(c||(c=[]),c.push(h))}return c}}ZY(){return!!this.eb.length}Xx(a){this.Da=a}wa(){return this.Da}dL(){return this.zd.wa()}yf(){return this.zd.yf()}ts(){return this.zd.ts()}Sh(){return this.zd.Sh()}Le(){return this.zd.Le()}uj(a){for(const b of this.eb)b.uj(a)}Xw(){return this.zd.Xw()}ax(){return this.zd.ax()}Wg(){return this.zd.Wg()}vj(a){this.Kc=
a}nj(){return this.IsPlaying()?0<this.Kc:!0}UK(){this.av||(this.av=new Promise(a=>{this.vA=a}))}zD(){this.av&&(this.vA(),this.vA=this.av=null)}eN(a){this.Fg=f.Wn.P5(a);this.hI=!0}WL(){f.K.tc.ua.Tn(this);this.xb.kb(f.K.tc.ua.ega);this.xb.kb(f.K.tc.ua.fga);this.xb.kb(f.K.tc.ua.gga);this.xb.kb(f.K.tc.ua.Xfa);f.K.tc.ua.Tn(null)}oD(){this.wq=this.g.Uj}tK(){this.xo||(this.xo=!0,f.K.tc.ua.Tn(this),this.xb.kb(f.K.tc.ua.bga),this.xb.kb(f.K.tc.ua.cga),this.xb.kb(f.K.tc.ua.dga),this.xb.kb(f.K.tc.ua.Wfa),f.K.tc.ua.Tn(null))}bq(a){this.Vz=
a}sL(){return this.wq===this.g.Uj}IsPlaying(a=!1){return this.sL()||this.cl&&!a?!0:this.Vz}mq(){return this.IsPlaying(!0)}eq(a){this.cl=a}IM(a){this.If=a;a=this.Ca();if(0>=a||a>=this.yf())this.If=!0}Wx(a){this.mA=a}KD(a){this.Fz=a}X1(){this.Sq=!0}Ca(){return this.Qb}fq(a){const b=this.Ca();this.jc(a);this.IM(!1);this.If||this.KD(!0);if(this.mq()||this.cl||!this.mm)this.mq()||this.cl||this.mm?this.mq()?this.Re():this.cl&&(this.xb.Aw(this),this.RM()):this.RM();this.Ht();this.IE(a,!0,b);this.gF();this.xc&&
this.G().W();this.rP()}jc(a){this.Qb=0>a?0:a>=this.yf()?this.yf():a}rP(){f.K.tc&&this.constructor===f.Wn&&(f.K.tc.ua.Tn(this),this.xb.kb(f.K.tc.ua.Zfa),this.xb.kb(f.K.tc.ua.$fa),this.xb.kb(f.K.tc.ua.aga),f.K.tc.ua.Tn(null))}Play(a=!1){return this.Cg||this.cl?!1:this.mq()&&this.sL()?this.P8():this.mq()||!this.If&&!a&&!this.Fz?!1:this.Q8()}P8(){this.KD(!1);this.xb.T0(this);this.xb.CM(this);this.UK();return!0}Q8(){this.KD(!1);this.xb.CM(this);this.UK();return!0}Re(a=!1){this.Cg||(this.IM(a),this.xb.VJ(this),
this.If&&this.zD())}Uc(a=!0,b=!1){if(!this.Cg)if(!this.mq()&&this.cl)this.xb.Aw(this);else if(!this.If){this.Re(!0);this.nj()?this.jc(0):this.jc(this.yf());var e=this.Ca();this.Ht();b?this.k6(e):this.IE(e,!1);a&&this.rP();this.gF();this.xc&&a&&this.G().W()}}uM(){this.Uc(!1,!0)}k6(a){this.IE(a,!1,NaN,!1,!0)}At(){if(this.Cg)return!0;if(this.$Y())return!1;this.xb.WJ(this);this.uM();return!0}RM(){this.Cc(!0)}Cc(a){if(!this.mA){if(a){this.we=this.mm=!0;this.Ht();for(const b of this.eb)b.Cc()}else if(this.bq(!0),
this.eq(!1),this.WL(),this.If){this.wq=-1;this.xd=0;this.ud=1;this.xo=this.If=!1;this.we=this.mm=!0;this.nj()?this.jc(0):this.jc(this.yf());this.Ht();for(const b of this.eb)b.Cc()}else{this.we=!0;this.Ht();for(const b of this.eb)b.me()}this.gF()}}Ht(){this.Bz=0;for(const a of this.eb)a.nm&&(this.Bz=1)}gF(){this.xc=0;for(const a of this.eb)a.Gy(),0===this.xc&&1===a.xc&&(this.xc=1),this.rq||1!==a.um||(this.rq||(this.rq=[]),this.rQ=this.rq.push(a))}Se(a,b){if(0!==a||0!==this.dA){this.dA=a;var e=this.Qb;
b=e+a*b*this.Kc;a=this.zd.tr;this.Qb=0>b?0:b>=a?a:b;var c=!1;b=this.Xw();var h=this.ax();b||h?b&&!h?0<this.Kc?this.Qb>=a&&this.jc(0):0>=this.Qb&&this.jc(a):!b&&h?0<this.Kc?this.Qb>=a&&(this.jc(a),this.vj(-1*this.Kc),1===this.xd?this.ud<this.Wg()?(this.ud++,this.xd=0):c=!0:0===this.xd&&(this.xd=1)):0>=this.Qb&&(this.jc(0),this.vj(-1*this.Kc),1===this.xd?this.ud<this.Wg()?(this.ud++,this.xd=0):c=!0:0===this.xd&&(this.xd=1)):b&&h&&(0<this.Kc?this.Qb>=a&&(this.jc(a),this.vj(-1*this.Kc)):0>=this.Qb&&(this.jc(0),
this.vj(-1*this.Kc))):0<this.Kc?this.Qb>=a&&(this.ud<this.Wg()?(this.ud++,this.jc(0)):(this.jc(a),c=!0)):0>=this.Qb&&(this.ud<this.Wg()?(this.ud++,this.jc(a)):(this.jc(0),c=!0));b=this.IS;if(c){for(c=0;c<b;c++)this.eb[c].MM();this.Re(!0);this.oD()}else{h=this.rQ;for(c=0;c<h;c++)this.rq[c].dn();if(1===this.Bz)for(c=0;c<b;c++){const m=this.eb[c],g=m.Me(),l=e-g;0>this.Qb-g&&0<l?(this.Qb=0>g?0:g>=a?a:g,m.za(g,!0,!1,!1,this.we,!1)):m.za(this.Qb,!0,!1,!1,this.we,!1)}else for(c=0;c<b;c++)this.eb[c].za(this.Qb,
!0,!1,!1,this.we,!1);for(c=0;c<h;c++)this.rq[c].cn();this.we&&(this.we=!1)}}}IE(a,b=!1,e=NaN,c=!1,h=!1){for(var m of this.eb)m.dn();for(const g of this.eb){m=a;if("number"===typeof e){const l=this.Ca()-g.Me(),n=e-g.Me();0>l&&0<n&&(m=g.Me(),this.jc(m))}g.za(m,!1,b,!0,this.we,h)}for(const g of this.eb)g.cn();this.we&&c&&(this.we=!1)}Nx(){if(!this.Cg)for(const a of this.eb)a.Fk()}Ui(){for(const a of this.eb)a.Ui()}pV(){for(const a of this.eb)a.nV()}l2(a,b){if(b)for(const e of this.eb)if(e.Xh()){if(a){if(e.sn()!==
a)continue}else if(e.TY())continue;e.V1(b);this.xb.fN(b.F(),this);break}}mL(){return this.eb.some(a=>a.Xh()?a.WB():!0)}$Y(){return this.eb.some(a=>a.Xh()?a.WB()?(a=a.F())?a.Bf():!1:!1:!1)}uf(a){for(const b of this.eb)for(const e of b.Va)if(e.pa.Lc===a)return e}eL(a){for(const b of this.eb)if(a===b.ya())return b;return null}TK(){const a=[];for(const b of this.eb)a.push(b.F());return a.filter(b=>b)}ca(){return{tracksJson:this.N8(),name:this.Da,playheadTime:this.Ca(),playbackRate:this.Kc,pingPongState:this.xd,
currentRepeatCount:this.ud,isPlaying:this.Vz,isScheduled:this.cl,initialStateSet:this.mm,finishedTriggers:this.xo,complete:this.If,released:this.Cg,markedForRemoval:this.mA,completedTick:this.wq,implicitPause:this.Fz,isTemplate:this.Sq,tags:this.Fg.join(" "),stringTags:this.CS,tagsChanged:this.hI,firstTick:this.we}}ja(a){a&&(this.N6(a.tracksJson),this.Da=a.name,this.Qb=a.playheadTime,this.Kc=a.playbackRate,this.xd=a.pingPongState,this.ud=a.currentRepeatCount,this.Vz=!!a.isPlaying,this.cl=!!a.isScheduled,
this.mm=!!a.initialStateSet,this.xo=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.If=!!a.complete,this.Cg=!!a.released,this.mA=!!a.markedForRemoval,this.wq=a.completedTick,this.Fz=!!a.implicitPause,this.Sq=!!a.isTemplate,this.Fg=a.tags.split(" "),this.CS=a.stringTags,this.hI=!!a.tagsChanged,this.we=!!a.firstTick)}N8(){return this.eb.map(a=>a.ca())}N6(a){a.forEach((b,e)=>{this.eb[e].ja(b)});this.eb.filter(b=>b.WB())}static P5(a){if(f.Dn(a))return a.slice(0);if(f.Yh(a))return a.split(" ")}}}
{"use strict";const f=self.B;f.fE=class extends f.ba{constructor(a,b){super();this.Dh=a;this.Bb=b;this.De=b.ws();this.jl=this.Yk=NaN;this.Ma=this.$b=null;this.nm=0<b.Me();this.to=this.Qq=!1;this.Gi=null;this.ac=this.Bb.cj().ac;this.Va=[];this.fK();this.um=this.xc=this.Zj=0}static Ja(a,b){return f.j(f.fE,a,b)}A(){this.ac=null;for(const a of this.Va)a.A();f.C(this.Va);this.Gi=this.Bb=this.Ma=this.$b=this.Dh=this.Va=null}fK(){for(const a of this.Bb.Od().NT())this.Va.push(f.Wa.Ja(this,a))}Fk(){for(const a of this.Va)a.Fk()}Ui(){for(const a of this.Va)a.Ui();
this.Ma=this.$b=null}ob(){return this.Dh}G(){return this.Dh.G()}iY(){return this.ac?this.ac:this.ac=this.Bb.cj().ac}uf(a){for(let b=0;b<this.Va.length;b++){const e=this.Va[b];if(e.pa.Lc===a)return e}}Hs(){this.$b||this.ya()}Rl(){return this.$b?!this.$b.Cs():!1}WB(){if(!this.Xh())return!1;const a=this.G().bj(this.os());return a?!a.Cs():!1}F(){if(this.Xh()){var a=this.FC();if(-1!==a)return this.G().Ke(a)}}nV(){this.$b=null;this.Yk=-1;this.Ma=null;this.jl=-1}TY(){return!!this.$b}ya(){return this.$b&&
this.Rl()?this.$b:this.$b=this.G().bj(this.os())}V1(a){if(this.$b!==a){this.Ui();this.$b=a;this.jl=a.F().Ba();this.Yk=a.Oc;this.Ma=a.m();for(const m of this.oca()){const g=m.Dca;switch(m.nca.Bd()){case "instance-variable":var b=a.F(),e=b.bY(m.name),c=b.OK(e);b=b.qs(e);c===m.name&&b===m.type&&g.X2(e);break;case "behavior":var h=m.GI;e=this.F();c=a.F();b=g.bg(c);h&&b&&(h=h.wa(),e.ds(h),c.ds(h),g.U2(b.bb))}}}}*oca(){for(const e of this.Va){var a=e.yb(),b=this.F();const c={nca:e,Dca:a};switch(e.Bd()){case "world-instance":c.hma=
e.pa.Lc;break;case "instance-variable":a=a.vp();c.name=b.OK(a);c.type=b.qs(a);break;case "effect":b=a.xC(b.Ha);c.uka=b;break;case "behavior":b=a.bg(b);c.GI=b;break;case "plugin":c.dma=b.pb()}yield c}}m(){if(this.Ma&&this.Rl())return this.Ma;const a=this.ya();a&&(this.Ma=a.m());return this.Ma}os(){return this.Yk?this.Yk:this.Bb.os()}Sh(){return this.Bb.Sh()}Le(){return this.Bb.Le()}sn(){return this.Bb.sn()}Me(){return this.Bb.Me()}rk(){return this.Bb.rk()}uj(a){for(const b of this.iY())b.uj(a);for(const b of this.Va)b.uj(a)}qk(){return this.Bb.qk()}Ck(a){this.Bb.Ck(a)}FC(){return isNaN(this.jl)?
this.Bb.FC():this.jl}ej(){const a=this.ya();return a&&a.ka.Hn()?a.ka.ej():this.Bb.ej()}dj(){const a=this.ya();return a&&a.ka.Hn()?a.ka.dj():this.Bb.dj()}lj(){return this.Bb.lj()}wa(){return this.Bb.wa()}Xh(){return 0===this.lj()}Cc(){this.Hs();if(this.Rl()||!this.Xh()){var a=this.ob().nj()?0:this.rk();for(const b of this.Va)b.Cc(a),0===this.Zj&&1===b.Zj&&(this.Zj=1),0===this.xc&&1===b.xc&&(this.xc=1);this.um=0;this.Va.some(b=>b.um)&&(this.um=1);this.Gi=this.BO(a);this.to=this.Qq=!1;this.za(a)}}me(){this.Hs();
if(this.Rl()||!this.Xh()){this.Dh.nj();var a=this.Dh.Ca()-this.Me();this.Gi=this.BO(a);for(const b of this.Va)b.me(a)}}MM(){if(!(this.ob().If||(this.Hs(),!this.Rl()&&this.Xh()||this.nm))){const a=this.Dh.Ca();a>=this.Me()+this.rk()?this.za(this.rk(),!0,!1,!0):0>=a&&this.za(0,!0,!1,!0)}}Gy(){for(let a=0,b=this.Va.length;a<b;a++){const e=this.Va[a];e.Gy();0===this.Zj&&1===e.Zj&&(this.Zj=1);0===this.xc&&1===e.xc&&(this.xc=1)}}dn(){const a=this.Va.length;for(let b=0;b<a;b++)this.Va[b].dn()}za(a,b=!1,
e=!1,c=!1,h=!1,m=!1){this.$b||this.ya();const g=0===this.Bb.ta;if(!((!this.$b||this.$b.Cs())&&g||m&&g&&this.F().Bf()||(a-=this.Me(),0>a))){this.K_(a,b);this.L_(a,b,h);for(let l=0,n=this.Va.length;l<n;l++)this.Va[l].za(a,e,c);this.J_(a,b);0!==this.Zj&&(this.Ma||(this.Ma=this.$b.m()),this.Ma&&this.Ma.Na())}}cn(){const a=this.Va.length;for(let b=0;b<a;b++)this.Va[b].cn()}K_(a,b){if(b&&this.nm&&!this.Qq){if(this.ob().nj()){if(0>a)return;for(const e of this.Va)e.za(0,!1,!0)}else{if(a>this.rk())return;
for(const e of this.Va)e.za(this.rk(),!1,!0)}for(const e of this.Va)e.Cc();this.Qq=!0}}J_(a,b){if(b&&this.nm&&!this.to)if(this.ob().nj()){if(a>=this.rk()){for(const e of this.Va)e.za(this.rk(),!1,!0);this.to=!0}}else if(0>=a){for(const e of this.Va)e.za(0,!1,!0);this.to=!0}}L_(a,b,e){if(!e&&b&&f.K.tc){b=this.ob();e=this.Gi.Ae;var c=this.Gi.Ca(),h=e?e.Ca():b.yf();if(a<=c||a>=h)this.Gi=this.De.JK(a,this.Bb),b.nj()?e&&this.qD(this.Gi):this.Gi.Ae&&this.qD(this.Gi)}}BO(a){const b=this.De.fY(a,this.Bb);
return b?b:this.De.JK(a,this.Bb)}qD(a){const b=this.ob();f.K.tc.ua.Tn(b);f.K.tc.ua.t2(a);a=b.xb;a.kb(f.K.tc.ua.Vfa);a.kb(f.K.tc.ua.qD);f.K.tc.ua.Tn(null);f.K.tc.ua.t2(null)}BU(){return this.Bb.cj().wU()}SV(a){this.Bb.cj().RV(a)}Ew(a){for(const b of this.Va)b.Ew(a)}Rn(){for(const a of this.Va)a.Rn()}Mh(){this.Hs();if(this.Rl()||!this.Xh())for(const a of this.Va)a.Mh()}Nh(){this.Hs();if(this.Rl()||!this.Xh()){var a=!1;for(const b of this.Va){const e=b.Nh();!a&&e&&(a=!0)}a&&(a=this.BU(),a.fq(this.ob().Ca()),
a.uj("noease"),a.Ck(!0),a.eN(""))}}ca(){var a=this.ya();a=a?a.Oc:this.os();return{propertyTracksJson:this.I8(),lastKeyframeDataItemJson:this.E8(),initialStateOfNestedSet:this.Qq,endStateOfNestedSet:this.to,instanceUid:a}}ja(a){a&&(this.I6(a.propertyTracksJson),this.F6(a.lastKeyframeDataItemJson),this.C6(a.instanceUid),this.Qq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Qq=a.initialStateOfNestedSet),this.to=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.to=a.endStateOfNestedSet))}E8(){return this.Bb.cj().hY(this.Gi)}I8(){return this.Va.map(a=>
a.ca())}I6(a){a.forEach((b,e)=>{this.Va[e].ja(b)})}C6(a){if(f.Pl(a)&&(a=this.G().bj(a))){var b=this.ob();b.pV();b.l2(this.Bb.sn(),a)}}F6(a){this.Gi=this.Bb.cj().gY(a)}}}
{"use strict";const f=self.B;f.Wa=class extends f.ba{constructor(a,b){super();this.jb=a;this.pa=b;this.cc=b.Od();this.um=this.xc=this.Zj=0;this.Zd=this.yb();this.Hb=this.pa.Vg().Hb;this.Lt=this.vc=null}static Ja(a,b){return f.j(f.Wa,a,b)}A(){this.jb=null;this.Zd&&(this.Zd.A(),this.Zd=null);this.cc=this.pa=this.Hb=null}MC(){return!!this.Lt}w1(a){this.Lt=a}Od(){return this.cc}ob(){return this.jb.ob()}G(){return this.jb.G()}ya(){return this.jb.ya()}yb(){if(this.Zd)return this.Zd;let a;switch(this.pa.Bd()){case "behavior":a=
new f.Wa.VU(this);break;case "effect":a=new f.Wa.ZW(this);this.xc=1;break;case "instance-variable":a=new f.Wa.SZ(this);break;case "plugin":a=new f.Wa.w0(this);this.xc=1;break;case "world-instance":a=new f.Wa.Ln(this);this.Zj=this.xc=1;break;case "value":a=new f.Wa.Z2(this);break;case "audio":a=new f.Wa.SU(this)}return this.Zd=a}Bd(){return this.pa.Bd()}cx(){return this.pa.lj()}rs(){return this.Od().Sw(this.pa).lj()}qk(){return this.pa.qk()}Ck(a){this.pa.Ck(a)}Sh(){return this.pa.Sh()}Le(){return this.pa.Le()}uj(a){for(const b of this.bx())b.uj(a)}VB(){return this.pa.VB()}bx(){return this.Hb?
this.Hb:this.Hb=this.pa.Vg().Hb}Fk(){this.yb().Fk()}Ui(){this.yb().Ui()}ge(){return this.yb().ge()}Cc(a){this.yb().Cc();this.vc=this.CO(a);this.Gy()}me(a){this.yb().me();this.vc=this.CO(a)}Gy(){var a=this.jb;this.um=0;if(a.Xh()){var b=this.ob();a=a.ya();const e=this.yb(),c=this.pa.Lc;e.qj()?(b=b.ss(a,e,c))&&b.length&&(this.um=1):this.um=0}}CO(a){const b=this.ob(),e=this.cc.yY(a,this.pa);return e?e:b.nj()?this.cc.Rh(a,this.pa):this.cc.LK(a,this.pa)}dn(){this.Zd.dn()}za(a,b=!1,e=!1){let c;if(b)var h=
this.cc.Rh(a,this.pa);else{if(this.vc){var m=this.ob();const g=this.vc.Ae;h=this.vc.Ca();m=g?g.Ca():m.yf();if(a<=h||a>=m)this.vc=this.cc.Rh(a,this.pa)}else this.vc=this.cc.Rh(a,this.pa);h=this.vc}h&&(c=h.Ae);this.Zd.za(a,h,c,b,e)}tf(a){if(this.vc){var b=this.ob();const c=this.vc.Ae;var e=this.vc.Ca();b=c?c.Ca():b.yf();if(a<=e||a>=b)this.vc=this.cc.Rh(a,this.pa)}else this.vc=this.cc.Rh(a,this.pa);e=this.vc;return this.Zd.tf(a,e,e.Ae)}cn(){this.Zd.cn()}static cL(a,b){return b.cc.Rh(a,b.pa)}IJ(){const a=
this.pa.Vg().HJ();this.vc=null;return a}Ew(a){this.vc=null;this.pa.Vg().lK(a)}Rn(){this.yb().Rn()}Mh(){if(this.yb().Mh()){const a=this.cc.Sw(this.pa),b=this.yb().ge();a.DM(b)}}Nh(){const a=this.yb().Nh();a&&this.DU();this.yb().ww();return a}DU(){const a=this.ob().Ca(),b=this.yb(),e=f.Wa.cL(a,this),c=this.IJ();c.gN(e.lj());c.fq(a);c.uj(e.Ll());c.Ck(!0);c.ne(b.hL());c.DM(b.ge())}ca(){return{sourceAdapterJson:this.yb().ca()}}ja(a){a&&this.yb().ja(a.sourceAdapterJson)}}}
{"use strict";const f=self.B.Wa;f.Ln=class{constructor(a){this.J=a;this.gf=null;this.Ug()}A(){this.gf&&(this.gf.A(),this.gf=null);this.J=null}qj(){return this.gf.qj()}uf(){return this.J}Fk(){this.gf&&this.gf.Fk()}Ui(){this.gf&&this.gf.Ui()}Ug(){return this.gf?this.gf:this.gf=this.d4()}vp(){}Ba(){return this.vp()}vs(){}Cc(){this.Ug().Cc()}me(){this.Ug().me()}dn(){this.gf.op()}za(a,b,e,c,h){let m;switch(this.J.rs()){case "numeric":m=f.Is.za(a,b,e,this.J);break;case "angle":m=f.hw.za(a,b,e,this.J);break;
case "boolean":m=f.jw.za(a,b,e,this.J);break;case "color":m=f.xw.za(a,b,e,this.J);break;case "text":m=f.$x.za(a,b,e,this.J)}this.gf.gn(a,m,b,e,c,h)}tf(a,b,e){switch(this.J.rs()){case "numeric":return f.Is.za(a,b,e,this.J);case "angle":return f.hw.za(a,b,e,this.J);case "boolean":return f.jw.za(a,b,e,this.J);case "color":return f.xw.za(a,b,e,this.J);case "text":return f.$x.za(a,b,e,this.J)}}cn(){this.gf.np()}Rn(){var a=this.Ug();a.zh=a.ge()}ww(){this.Ug().ww()}ge(){return this.Ug().ge()}Mh(){return this.Ug().Mh()}Nh(){return this.Ug().Nh()}hL(){const a=
this.J,b=a.jb.ob().Ca(),e=f.cL(b,a),c=e.Ae;switch(a.rs()){case "numeric":return f.Is.za(b,e,c,a);case "angle":return f.hw.za(b,e,c,a);case "boolean":return f.jw.za(b,e,c,a);case "color":return f.xw.za(b,e,c,a);case "text":return f.$x.za(b,e,c,a)}}d4(){const a=this.J;switch(a.VB()?a.rs():""){case "combo":case "boolean":case "text":case "string":return new f.Oe.OL(this);case "numeric":case "number":case "angle":return"combo"===this.J.cx()?new f.Oe.OL(this):new f.Oe.PL(this);case "color":case "offsetColor":return new f.Oe.sV(this);
default:return new f.Oe.PL(this)}}ca(){return{propertyAdapterJson:this.Ug().ca()}}ja(a){a&&this.Ug().ja(a.propertyAdapterJson)}}}
{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b);this.Dv=NaN}vp(){return this.J.pa.Qf[0]}Ba(){return this.Dv?this.Dv:super.Ba()}vs(){return this.J.jb.ya()}X2(b){this.J.pa.Qf[0]!==b&&(this.Dv=b)}za(b,e,c,h,m){this.Ug().UB(e.hd())&&super.za(b,e,c,h,m)}tf(b,e,c){if(this.Ug().UB(e.hd()))return super.tf(b,e,c)}ca(){return Object.assign(super.ca(),{index:this.Dv})}ja(b){b&&(super.ja(b),this.Dv=b.index)}}f.Wa.SZ=a}
{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b);this.bb=NaN}vp(){return this.J.pa.Qf[1]}vs(){var b=this.J.pa,e=this.bb?this.bb:b.Qf[0];b=this.J.jb.ya();e=b.zK(e);return b.Ec[e].ka}bg(b){return b.Mw(this.J.pa.Qf[2])}U2(b){this.J.pa.Qf[0]!==b&&(this.bb=b)}za(b,e,c,h,m){const g=this.J.jb.ya();this.bg(g.F())&&super.za(b,e,c,h,m)}tf(b,e,c){const h=this.J.jb.ya();if(this.bg(h.F()))return super.tf(b,e,c)}ca(){return Object.assign(super.ca(),{sid:this.bb})}ja(b){b&&(super.ja(b),
this.bb=b.sid)}}f.Wa.VU=a}{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b)}vp(){return this.J.pa.Qf[1]}vs(){const b=this.J.jb.m().Lf,e=this.xC(b.Ha).Ba();return b.Ds(e)?b.nk(e):null}xC(b){return b.pk(this.J.pa.Qf[0])}za(b,e,c,h,m){this.XO()&&super.za(b,e,c,h,m)}tf(b,e,c){if(this.XO())return super.tf(b,e,c)}XO(){const b=this.J.jb.m().Lf,e=this.xC(b.Ha);if(e)return b.Ds(e.Ba())}}f.Wa.ZW=a}
{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b)}vp(){return this.J.pa.Qf[0]}vs(){return this.J.jb.ya().ka}za(b,e,c,h,m){var g=this.J.jb;const l=g.F().pb();g=g.ya().F().pb();l===g&&super.za(b,e,c,h,m)}tf(b,e,c){var h=this.J.jb;const m=h.F().pb();h=h.ya().F().pb();if(m===h)return super.tf(b,e,c)}}f.Wa.w0=a}
{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b);this.pc=0;this.Gz=!1}qj(){return!1}Cc(){const b=this.J.Od();let e=this.J.pa;e=b.Sw(e);this.pc=e.ic()}me(){}hd(){this.Gz||this.J.za(0);return this.pc}za(b,e,c){this.pc=f.Wa.Is.za(b,e,c,this.J);this.Gz=!0}Rn(){}ww(){}ge(){return this.pc}Mh(){return!1}Nh(){return!1}ca(){return{value:this.pc,init:this.Gz}}ja(b){b&&(this.pc=b.value,this.Gz=b.hasOwnProperty("init")?b.init:!0)}}f.Wa.Z2=a}
{"use strict";const f=self.B;class a extends f.Wa.Ln{constructor(b){super(b);this.Fj=!1;this.Lq=this.Jb=this.Yd=null;this.Dh=this.J.ob();this.jb=this.J.jb;this.ov=this.J.pa.Qf;this.oG=this.ov[0];this.dI=this.ov[1];this.gh=this.ov[3]?this.ov[3]:Math.random().toString(36).slice(2);this.Gv=this.Qo=this.wm=NaN;this.pg=null;this.WO()}A(){super.A();this.pg=this.oG=this.ov=this.jb=this.Dh=this.Lq=this.Jb=this.Yd=null}WO(){if(self.B.K.Audio){var b=this.J.G().Yw("audio");b&&(this.Yd=b.ij().ka);this.Jb=self.B.K.Audio.Yf;
this.Lq=self.B.K.Audio.$f}}gP(){if(!this.pg){var b=this.J.jb.uf("audioSource");b&&(this.pg=b.yb())}}J5(){const b=this.J.jb.uf("volume");return b?b.yb().Qo:this.Qo}Fk(){super.Fk();this.Fj=!1;this.Yd&&(this.Lq&&(this.wm=this.Lq.Bga.call(this.Yd,this.gh),this.Qo=this.Lq.Aja.call(this.Yd,this.gh)),this.Jb&&this.Jb.Re.call(this.Yd,this.gh))}Un(b){this.Gv=b}Cc(){super.Cc();this.wm=NaN;this.Fj=!1}me(){super.me();const b=this.J.ob().Ca();this.wm=b-this.dI;switch(this.J.pa.Lc){case "volume":this.Qo=this.J.tf(b)}this.Fj=
!1}za(b,e,c,h,m){if(this.Yd)switch(this.J.pa.Lc){case "audioSource":if(!this.Dh.nj())break;if(h){this.Jb&&this.Jb.Re.call(this.Yd,this.gh);break}if(b<this.dI){this.Fj=!1;break}e=this.Lq.Aga.call(this.Yd,this.gh);this.Dh.Kc!==e&&this.Jb.vj.call(this.Yd,this.gh);if(this.Fj)break;this.Fj=!0;if(isNaN(this.wm)){const g=self.performance.now(),l=b-this.dI;this.Yd.cM().then(n=>{if("suspended"===n)this.Fj=!1;else if(n=l+(self.performance.now()-g)/1E3,this.Jb){let p=this.Gv;isNaN(p)?(this.Un(0),p=0):this.Un(p);
this.Jb.Play.call(this.Yd,this.oG,0,p,this.gh,n)}})}else{const g=this.wm;this.wm=NaN;const l=this.J5();this.Qo=NaN;this.Yd.cM().then(n=>{"suspended"===n?this.Fj=!1:this.Jb&&(this.Un(l),this.Jb.Play.call(this.Yd,this.oG,0,l,this.gh,g))})}break;case "volume":this.gP(),super.za(b,e,c,h,m)}}tf(b,e,c){if(this.Yd)switch(this.J.pa.Lc){case "volume":return this.gP(),super.tf(b,e,c)}}jL(){return this.pg?this.pg.Gv:0}x2(b,e){this.pg&&this.pg.Un(this.jL()+e);this.Jb&&this.pg&&this.Jb.Un.call(this.Yd,this.pg.gh)}rU(b,
e){this.pg&&this.pg.Un(e);this.Jb&&this.pg&&this.Jb.Un.call(this.Yd,this.pg.gh)}ca(){return{audioPlaybackStarted:this.Fj,audioTag:this.gh,pauseTime:this.wm,pauseVolume:this.Qo,volume:this.Gv}}ja(b){b&&(this.Fj=b.audioPlaybackStarted,this.gh=b.audioTag,this.wm=b.pauseTime,this.Qo=b.pauseVolume,this.Gv=b.volume,this.WO())}}f.Wa.SU=a}"use strict";function ic(f,a,b){return f.J.ob().nj()?a():b()}function jc(f,a,b){return"relative"===f.J.Le()?a():b()}
function kc(f){if(f.nr)return f.nr;f.nr=f.Zd.vs();return f.nr}function lc(f,a=!1){const b=[];for(const e of f){f=e.jb.Me();for(const c of e.bx())a&&0===c.Ca()?b.push({time:f+c.Ca(),value:c.fh}):a||b.push({time:f+c.Ca(),value:c.fh})}return b.sort((e,c)=>e.time-c.time)}function mc(f,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=f)return a[b];return null}
self.B.Wa.Oe=class{constructor(f){this.Zd=f;this.J=f.uf();this.Ma=this.J.jb.m();this.Lc=this.J.pa.Lc;this.Mq=!1;this.nr=this.zh=null}A(){this.nr=this.zh=this.Ma=this.J=this.Zd=null}qj(){return!1}Fk(){}Ui(){this.nr=this.zh=this.Ma=null}yb(){return this.Zd}uf(){return this.J}m(){return this.Ma?this.Ma:this.Ma=this.J.jb.m()}Cc(){}me(){}ww(){this.zh=null}ge(){}Mh(){}Nh(){}UB(f){return typeof this.Jk()===typeof f}op(){}gn(){}np(){}ao(){return ic(this,()=>{const f=this.J.pa;return this.J.Od().Sw(f)},()=>
{const f=this.J.pa;return this.J.Od().un(f)}).fh}iy(){const f=this.J.ob().Ca()-this.J.jb.Me();return ic(this,()=>{const a=this.J.pa;return this.J.Od().Rh(f,a)},()=>{const a=this.J.pa,b=this.J.Od(),e=b.LK(f,a);return e?e:b.un(a)}).fh}ly(){}qe(){return this.Zd.Ba()}ca(){return{firstAbsoluteUpdate:this.Mq,saveState:this.zh}}ja(f){f&&(this.Mq=f.firstAbsoluteUpdate,this.zh=f.saveState)}};
{"use strict";const f=self.B,a=new Map,b=[0,0,0];class e extends f.Wa.Oe{constructor(c){super(c)}Cc(){}me(){}ge(){const c=this.J.Bd(),h=kc(this),m=this.qe();switch(c){case "behavior":return this.Iy(h.qc(m));case "effect":return this.Iy(h[m]);case "plugin":return this.Iy(h.qc(m));case "world-instance":return this.Iy(this.Jk())}}Mh(){const c=this.ao();return!this.WN(c,this.Jk())}Nh(){return f.Qd(this.zh)?!1:!this.WN(this.zh,this.Jk())}WN(c,h){return c.Bl(h)}ao(){const c=super.ao();return this.my(c)}iy(){const c=
super.iy();return this.my(c)}ly(){}Iy(c){return f.Ql(c,f.Xa)?c.toArray().slice(0,3):c.slice(0,3)}my(c){return f.Ql(c,f.Xa)?c:new f.Xa(c[0],c[1],c[2],1)}UB(){return!0}qj(){return!0}op(){var c=this.J.ob(),h=this.J.ya();const m=this.J.yb();(c=c.ss(h,m,this.Lc))&&1<c.length&&(a.has(h)||a.set(h,new Map),h=a.get(h),c=this.J.Bd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.Lc)||h.set(this.Lc,{kU:!1,color:new f.Xa(0,0,0,1)}))}MO(c,h,m){c=a.get(c).get(h).get(m);c.kU=!0;return c.color}gn(c,h){var m=this.J.ob(),
g=this.J.jb;c=this.J.ya();var l=this.J.yb();const n=this.J.Bd();if((l=m.ss(c,l,this.Lc))&&1<l.length){if(l=lc(l,!0),m=m.Ca(),m=mc(m,l))l=m.time-g.Me(),0===l?this.MO(c,n,this.Lc).WS(h[0],h[1],h[2]):0>l||(m=h[0],g=h[1],h=h[2],l=this.J.za(l,!1,!0),m=f.Xa.dC(m,l[0]),g=f.Xa.dC(g,l[1]),h=f.Xa.dC(h,l[2]),this.MO(c,n,this.Lc).WS(m,g,h))}else this.Dj(h[0],h[1],h[2])}np(){const c=this.J.ya();if(a.has(c)){var h=a.get(c),m=this.J.Bd();if(h.has(m)){var g=h.get(m);if(g.has(this.Lc)){var l=g.get(this.Lc),n=l.color;
l.kU&&this.Dj(n.Pa,n.Ta,n.Sa);0===g.size&&h.delete(m);0===h.size&&a.delete(c)}}}}Jk(){const c=this.J.Bd(),h=kc(this),m=this.qe();switch(c){case "behavior":return this.my(h.qc(m));case "effect":return h[m].clone();case "plugin":return this.my(h.qc(m));case "world-instance":return this.m().Za.clone()}}Dj(c,h,m){const g=this.J.Bd(),l=kc(this),n=this.qe();switch(g){case "behavior":b[0]=c;b[1]=h;b[2]=m;l.Zg(n,b);break;case "effect":l[n].Or(c,h,m);break;case "plugin":b[0]=c;b[1]=h;b[2]=m;l.Zg(n,b);break;
case "world-instance":this.m().u2(c,h,m)}}ca(){}ja(){}}f.Wa.Oe.sV=e}
{"use strict";const f=self.B,a=f.Wa;class b extends f.Wa.Oe{constructor(e){super(e)}Cc(){}me(){}ge(){return this.Jk()}Mh(){return this.ao()!==this.ge()}Nh(){return f.Qd(this.zh)?!1:this.zh!==this.ge()}qj(){return!1}gn(e,c){const h=this.J,m=h.jb,g=h.Bd();var l=h.ob();const n=m.ya(),p=h.yb();(l=l.ss(n,p,this.Lc))&&1<l.length&&(l=lc(l),e=mc(e+m.Me(),l))&&(c=e.value);switch(h.rs()){case "numeric":if(!a.Is.Gk(this.qe(),kc(this),c,g))return;break;case "angle":if(!a.hw.Gk(this.qe(),kc(this),c,g))return;
break;case "boolean":if(!a.jw.Gk(this.qe(),kc(this),c,g))return;break;case "color":if(!a.xw.Gk(this.qe(),kc(this),c,g))return;break;case "text":if(!a.$x.Gk(this.qe(),kc(this),c,g))return}this.Dj(c)}Jk(){const e=this.J.Bd(),c=kc(this),h=this.qe();switch(e){case "behavior":return c.qc(h);case "effect":return c[h];case "instance-variable":return c.ie(h);case "plugin":return c.qc(h)}}Dj(e){const c=this.J.Bd(),h=kc(this),m=this.qe();switch(c){case "behavior":h.Zg(m,e);break;case "effect":h[m]=e;break;
case "instance-variable":h.Xl(m,e);break;case "plugin":h.Zg(m,e)}}}f.Wa.Oe.OL=b}
{"use strict";const f=self.B,a=new Map,b=(c,h,m,g,l)=>a.set(c,{Aca:h,Paa:m,Fba:g,round:l});b("offsetX",(c,h)=>c.X_(h),(c,h)=>c.ah(h),c=>c.qa(),!0);b("offsetY",(c,h)=>c.Y_(h),(c,h)=>c.bh(h),c=>c.ra(),!0);b("offsetWidth",(c,h)=>c.RL(h),(c,h)=>c.fi(h),c=>c.$(),!0);b("offsetHeight",(c,h)=>c.QL(h),(c,h)=>c.ai(h),c=>c.Z(),!0);b("offsetAngle",(c,h)=>c.T_(h),(c,h)=>c.rd(h),c=>c.Oa(),!1);b("offsetOpacity",(c,h,m,g)=>{m=c.je()+h;0===g.uc?(1<m?g.uc+=m-1:0>m&&(g.uc+=m),c.U_(h)):(c=c.je()+h,0<h&&0<g.uc?1<c&&(g.uc+=
c-1):0<h&&0>g.uc?(g.uc+=h,0<g.uc&&(g.uc=0)):0>h&&0<g.uc?(g.uc+=h,0>g.uc&&(g.uc=0)):0>h&&0>g.uc&&0>c&&(g.uc+=c))},(c,h)=>{c.Dk(h)},c=>c.je(),!1);b("offsetOriginX",(c,h)=>c.V_(h),(c,h)=>c.$p(h),c=>c.sk(),!1);b("offsetOriginY",(c,h)=>c.W_(h),(c,h)=>c.aq(h),c=>c.tk(),!1);b("offsetZElevation",(c,h)=>c.Z_(h),(c,h)=>c.Qe(h),c=>c.Ya(),!0);b("offsetScaleX",(c,h,m)=>{const g=0>c.$()?-1:1;c.RL(m.ej()*g*h)},(c,h,m)=>{c.fi(m.ej()*h)},(c,h)=>{const m=0>c.$()?-1:1;if(c.yn()){var g=c.Aa(),l=h.ob().eL(g.ya());l?g=
g.$()/l.ej():(l=g.ya().ka,g=l.Hn()?g.$()/l.ej():1);return c.$()*m/(h.ej()*g)}return c.$()*m/h.ej()},!1);b("offsetScaleY",(c,h,m)=>{const g=0>c.Z()?-1:1;c.QL(m.dj()*g*h)},(c,h,m)=>{c.ai(m.dj()*h)},(c,h)=>{const m=0>c.Z()?-1:1;if(c.xn()){var g=c.Aa(),l=h.ob().eL(g.ya());l?g=g.Z()/l.dj():(l=g.ya().ka,g=l.Hn()?g.Z()/l.dj():1);return c.Z()*m/(h.dj()*g)}return c.Z()*m/h.dj()},!1);class e extends f.Wa.Oe{constructor(c){super(c);this.uc=this.Lb=0;this.uS=this.wS=this.vS=this.IG=this.KG=this.JG=null;this.QH=
!1;this.Gm=f.Ql(this.J.ob(),f.P2)?new f.Wa.Oe.S_(this):new f.Wa.Oe.R_(this);const h=this.J.pa.Lc;switch(this.J.Bd()){case "world-instance":c=a.get(h);this.JG=c.Fba;this.KG=c.Aca;this.IG=c.Paa;this.QH=c.round;break;case "audio":this.vS=c.jL,this.wS=c.x2,this.uS=c.rU,this.QH=!0}}A(){this.IG=this.KG=this.JG=this.Gm=null;super.A()}qj(){return this.Gm.qj()}WM(c){this.Lb=c}Cc(){const c=this.Gm.Cc();"number"===typeof c&&(this.Lb=c);this.uc=0}me(){const c=this.Gm.me();"number"===typeof c&&(this.Lb=c)}ge(){return this.Jk()}Mh(){return this.ao()!==
this.ge()}Nh(){return f.Qd(this.zh)?!1:this.zh!==this.ge()}op(){this.Gm.op()}gn(c,h,m,g,l,n,p){return this.Gm.gn(c,h,m,g,l,n,p)}np(){this.Gm.np()}Jk(){const c=kc(this),h=this.qe(),m=this.m(),g=this.J.jb;switch(this.J.Bd()){case "behavior":return c.qc(h);case "effect":return c[h];case "instance-variable":return c.ie(h);case "plugin":return c.qc(h);case "world-instance":return this.JG(m,g);case "audio":return this.vS.call(this.yb(),m,g)}}Dj(c){const h=kc(this),m=this.qe(),g=this.m(),l=this.J.jb;switch(this.J.Bd()){case "behavior":h.nD(m,
c);break;case "effect":h[m]+=c;break;case "instance-variable":h.W1(m,c);break;case "plugin":h.nD(m,c);break;case "world-instance":this.KG(g,c,l,this);break;case "audio":this.wS.call(this.yb(),g,c,l,this)}}$P(c){const h=kc(this),m=this.qe(),g=this.m(),l=this.J.jb;switch(this.J.Bd()){case "behavior":h.Zg(m,c);break;case "effect":h[m]=c;break;case "instance-variable":h.Xl(m,c);break;case "plugin":h.Zg(m,c);break;case "world-instance":this.IG(g,c,l);break;case "audio":this.uS.call(this.yb(),g,c,l)}}nq(c,
h,m,g,l,n){this.Gm.nq(c,h,m,g,l,n)}Hk(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.Jk();this.Dj((0===c?this.QH?Math.round(g):g:f.toFixed(g,c))-g,h,m)}ca(){return Object.assign(super.ca(),{v:this.Lb,a:this.uc})}ja(c){c&&(super.ja(c),this.Lb=c.v,this.uc=c.a)}}f.Wa.Oe.PL=e}
{"use strict";class f{constructor(b){this.wI=!1;this.pc=0;this.Va=b;for(let e=0,c=this.Va.length;e<c;e++)this.Va[e].w1(this)}iN(){this.wI=!0}ne(b){this.pc=b}hd(){return this.pc}Uc(){this.wI=!1;this.pc=0}}class a{constructor(b){this.Vd=b}A(){this.Vd=null}Cc(){const b=this.Vd;this.Vd.uf();return jc(b,()=>ic(b,()=>0,()=>b.yb().hL()),()=>{})}me(){}qj(){switch(this.Vd.uf().Le()){case "relative":return!1;case "absolute":return!0}}op(){var b=this.Vd.uf(),e=b.pa.Lc;switch(b.Le()){case "absolute":if(b.MC())b.Lt.Uc();
else{const c=b.ob(),h=b.ya();b=b.yb();(e=c.ss(h,b,e))&&1<e.length&&new f(e)}}}gn(b,e,c,h,m,g){var l=this.Vd,n=this.Vd.uf();switch(n.Le()){case "relative":n=l.Lb;l.Dj(e-n,c,h);g&&this.nq(b,c,h,m,n,e);l.WM(e);break;case "absolute":if(c=n.ob(),b=n.jb,n.ya(),n.yb(),n.MC()){if(l=n.Lt,h=lc(l.Va,!0),c=c.Ca(),c=mc(c,h))b=c.time-b.Me(),0===b?(l.iN(),l.ne(l.hd()+e)):0>b||(n=n.tf(b),l.iN(),l.ne(l.hd()+(e-n)))}else l.$P(e)}}np(){const b=this.Vd;var e=this.Vd.uf();switch(e.Le()){case "absolute":e.MC()&&(e=e.Lt,
e.wI&&b.$P(e.hd()))}}nq(b,e,c,h,m,g){const l=this.Vd;h||(e&&b===e.Ca()?l.Hk(e.ic(),e,c):c&&b===c.Ca()?l.Hk(c.ic(),e,c):0===g-m&&l.Hk(e.ic(),e,c))}}self.B.Wa.Oe.R_=a}
{"use strict";class f{constructor(a){this.Vd=a}A(){this.Vd=null}Cc(){const a=this.Vd;a.Mq=!0;return this.ly(a.ao())}me(){const a=this.Vd;if(a.ao()!==a.iy())return a.Mq=!0,this.ly(a.iy())}qj(){return!1}op(){}gn(a,b,e,c,h,m){const g=this.Vd,l=g.Lb;switch(g.uf().Le()){case "relative":g.Dj(b-l,e,c);m&&this.nq(a,e,c,h,l,b);break;case "absolute":g.Mq?(g.Mq=!1,g.Dj(l,e,c)):(g.Dj(b-l,e,c),m&&this.nq(a,e,c,h,l,b))}g.WM(b)}np(){}ly(a){return a-this.Vd.ge()}nq(a,b,e,c,h,m){const g=this.Vd;c?b&&a===b.Ca()?g.Hk(b.ic(),
b,e):e&&a===e.Ca()?g.Hk(e.ic(),b,e):e||g.Hk(b.ic(),b,e):b&&a===b.Ca()?g.Hk(b.ic(),b,e):e&&a===e.Ca()?g.Hk(e.ic(),b,e):0===m-h&&g.Hk(b.ic(),b,e)}}self.B.Wa.Oe.S_=f}
{"use strict";const f=self.B,a=self.Ur;f.Wa.Is=class{constructor(){}static Gk(b,e,c,h){let m;switch(h){case "behavior":m=e.qc(b);break;case "effect":m=e[b];break;case "instance-variable":m=e.ie(b);break;case "plugin":m=e.qc(b)}return m===c?!1:!0}static za(b,e,c,h){if(!c)return c=h.pa,c=h.Od().un(c),c.ic();var m=h.Sh();"default"===m&&(m="continuous");"combo"===h.cx()&&(m="discrete");if("discrete"===m)return e.ic();if("continuous"===m||"step"===m){"step"===m&&(m=h.ob().ts(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var g=e.Ca();const l=c.Ca();m=e.ic();const n=c.ic();if(m===n)return m;b=f.normalize(b,g,l);const p=e.Ll();e=e.lC("cubic-bezier");c=c.lC("cubic-bezier");e&&e.qv&&c&&c.mz?(g=l-g,g=a.vn(p)(g*b,0,1,g),g=a.vn("cubicbezier")(g,m,m+e.bI,n+c.gG,n)):g=a.vn(p)((l-g)*b,m,n-m,l-g);return"integer"===h.cx()?Math.floor(g):g}}}}
{"use strict";const f=self.B;f.Wa.hw=class{constructor(){}static Gk(a,b,e,c){let h;switch(c){case "behavior":h=b.qc(a);break;case "effect":h=b[a];break;case "instance-variable":h=b.ie(a);break;case "plugin":h=b.qc(a)}return h===e?!1:!0}static za(a,b,e,c){if(!e)return b=c.pa,b=c.Od().un(b),b.ic();var h=c.Sh();"default"===h&&(h="continuous");"combo"===c.cx()&&(h="discrete");if("discrete"===h)return b.ic();if("continuous"===h||"step"===h){"step"===h&&(c=c.ob().ts(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Ca(),g=e.Ca();c=b.ic();e=e.ic();if(h=b.lC("angle")){const l=h.PH;if(c===e&&0===l)return c;a=f.normalize(a,m,g);b=self.Ur.vn(b.Ll())(a,0,1,1);switch(h.ZF){case "closest":return f.EI(c,e,b,l);case "clockwise":return f.Waa(c,e,b,l);case "anti-clockwise":return f.Vaa(c,e,b,l)}}else{if(c===e)return c;a=f.normalize(a,m,g);b=self.Ur.vn(b.Ll());return f.EI(c,e,b(a,0,1,1))}}}}}"use strict";
self.B.Wa.jw=class{constructor(){}static Gk(f,a,b,e){let c;switch(e){case "behavior":c=a.qc(f);break;case "effect":c=a[f];break;case "instance-variable":c=a.ie(f);break;case "plugin":c=a.qc(f)}return!!c===!!b?!1:!0}static za(f,a,b,e){return b?a.ic()?1:0:(f=e.pa,f=e.Od().un(f),f.ic()?1:0)}};
{"use strict";const f=self.B,a=[0,0,0],b=[0,0,0],e=[0,0,0];f.Wa.xw=class{constructor(){}static Gk(c,h,m,g){let l;switch(g){case "behavior":l=h.qc(c);break;case "effect":l=h[c];break;case "instance-variable":l=h.ie(c);break;case "plugin":l=h.qc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.IT(m),a[0]=Math.floor(255*e.Pa),a[1]=Math.floor(255*e.Ta),a[2]=Math.floor(255*e.Sa));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.IT(l),b[0]=Math.floor(255*e.Pa),b[1]=Math.floor(255*e.Ta),b[2]=Math.floor(255*
e.Sa));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static za(c,h,m,g){if(!m)return h=g.pa,h=g.Od().un(h),h=h.ic(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;var l=g.Sh();"default"===l&&(l="continuous");if("discrete"===l)return h=h.ic(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.ob().ts(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.Ca();l=m.Ca();var n=h.ic(),p=m.ic();const q=f.normalize(c,g,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.Ur.vn(h.Ll());g=l-g;
l=g*q;a[0]=c===u?c:h(l,c,u-c,g);a[1]=m===w?m:h(l,m,w-m,g);a[2]=n===p?n:h(l,n,p-n,g);return a}}}}"use strict";self.B.Wa.$x=class{constructor(){}static Gk(f,a,b,e){let c;switch(e){case "behavior":c=a.qc(f);break;case "effect":c=a[f];break;case "instance-variable":c=a.ie(f);break;case "plugin":c=a.qc(f)}return c===b?!1:!0}static za(f,a,b,e){return b?a.ic():(f=e.pa,f=e.Od().un(f),f.ic())}};
{"use strict";const f=self.B;f.lg=class{constructor(){this.xv=new Map}A(){for(const a of this.xv.values())a.A();this.xv.clear();this.xv=null}Ac(a){a=new f.K2(a);this.xv.set(a.wa(),a)}U(a){return this.xv.get(a)}static it(a,b,e,c){if(b)for(const h of b)f.lg.YN("create",h,a,e,c)}static ut(a,b,e,c){a.length?b.forEach((h,m)=>{a[m].ja(h)}):b.forEach(h=>{f.lg.YN("load",h,a,e,c)})}static YN(a,b,e,c,h){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}else if("object"===
typeof c)switch(c=c.map.get(b[c.MT]),a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}switch(a){case "load":m.ja(b);e.push(m);break;case "create":"function"!==typeof m.qk||m.qk()?e.push(m):m.A()}}}}
{"use strict";const f=self.B;f.K2=class{constructor(a){this.Da="";this.tr=NaN;this.SA=0;this.Of=this.Mf="default";this.uA=this.kA=!1;this.ir=1;this.De=null;a&&(this.Da=a[0],this.tr=a[1],this.SA=a[2],this.Mf=a[3],this.Of=a[4],this.kA=!!a[6],this.uA=!!a[7],this.ir=a[8],this.De=new f.oN(a[5],this))}A(){this.De.A();this.De=null}ws(){this.De||(this.De=new f.oN(null,this));return this.De}wa(){return this.Da}Xx(a){this.Da=a}yf(){return this.tr}ts(){return this.SA}Sh(){return this.Mf}Le(){return this.Of}Xw(){return this.kA}ax(){return this.uA}Wg(){return this.ir}ca(){return{trackDataJson:this.De.ca(),
name:this.Da,totalTime:this.tr,step:this.SA,interpolationMode:this.Mf,resultMode:this.Of,loop:this.kA,pingPong:this.uA,repeatCount:this.ir}}ja(a){a&&(this.ws().ja(a.trackDataJson),this.Da=a.name,this.tr=a.totalTime,this.SA=a.step,this.Mf=a.interpolationMode,this.Of=a.resultMode,this.kA=a.loop,this.uA=a.pingPong,this.ir=a.repeatCount)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.De=e;this.dm=this.Jz=null;this.jl=this.Yk=NaN;this.Of=this.Mf="default";this.tg=!1;this.cc=this.rh=null;this.xe="";this.Zq=null;this.cI=0;this.iA=this.De.zd.yf();this.ta=0;this.Da="";b&&(b[0]&&(this.Jz=b[0],this.Yk=b[0][2],this.jl=b[0][1]),this.Mf=b[1],this.Of=b[2],this.tg=!!b[3],b[6]&&(this.xe=b[6]),b[7]&&(this.Zq=b[7],this.cI=b[7][0],this.iA=b[7][1]),b[8]&&(this.dm=b[8]),b[8]&&(this.dm=b[8]),b[9]&&(this.ta=b[9]),b[10]&&(this.Da=b[10]),this.rh=
new f.DL(b[4],this),this.cc=new f.fM(b[5],this))}A(){this.De=this.Jz=null;this.rh&&(this.rh.A(),this.rh=null);this.cc&&(this.cc.A(),this.cc=null);this.Zq=null}ws(){return this.De}cj(){this.rh||(this.rh=new f.DL(null,this));return this.rh}Od(){this.cc||(this.cc=new f.fM(null,this));return this.cc}FC(){return this.jl}os(){return this.Yk}Sh(){return this.Mf}Le(){return this.Of}qk(){return this.tg}Ck(b){this.tg=!!b}sn(){return this.xe}Me(){return this.cI}rk(){return this.iA}ej(){return this.dm[0]}dj(){this.dm||
(this.dm=[]);return this.dm[1]}lj(){return this.ta}wa(){return this.Da}ca(){return{keyframeDataJson:this.rh.ca(),propertyTrackDataJson:this.cc.ca(),instanceData:this.Jz,additionalInstanceData:this.dm,instanceUid:this.Yk,objectClassIndex:this.jl,interpolationMode:this.Mf,resultMode:this.Of,enabled:this.tg,id:this.xe,nestedData:this.Zq,type:this.ta,name:this.Da}}ja(b){b&&(this.Jz=b.instanceData,this.Yk=b.instanceUid,this.jl=b.objectClassIndex,this.Mf=b.interpolationMode,this.Of=b.resultMode,this.tg=
b.enabled,this.xe=b.id,this.ta=b.type?b.type:0,this.Da=b.name?b.name:"",this.iA=this.De.zd.yf(),b.nestedData&&(this.Zq=b.nestedData,this.cI=this.Zq[0],this.iA=this.Zq[1]),b.additionalInstanceData&&(this.dm=b.additionalInstanceData),this.cj().ja(b.keyframeDataJson),this.Od().ja(b.propertyTrackDataJson))}}f.oN=class{constructor(b,e){this.zd=e;this.gp=[];f.lg.it(this.gp,b,a,this)}A(){this.zd=null;for(const b of this.gp)b.A();f.C(this.gp);this.gp=null}fY(b,e){e=e.cj().ac;const c=e.length;for(let h=0;h<
c;h++){const m=e[h];if(m.Ca()===b)return m}}JK(b,e){e=e.cj().ac;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.Ca()<=b)return h}}*dU(){for(const b of this.gp)yield b}ca(){return{trackDataItemsJson:this.gp.map(b=>b.ca())}}ja(b){b&&f.lg.ut(this.gp,b.trackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.cc=e;this.LA="";this.ta=this.Lc=this.Qf=null;this.tH=this.xH=NaN;this.Of=this.Mf="default";this.tg=!1;this.Ji=null;this.Zy=!0;b&&(this.LA=b[0][0],this.Qf=b[0].slice(1),this.Lc=b[1],this.ta=b[2],this.xH=b[3],this.tH=b[4],this.Mf=b[5],this.Of=b[6],this.tg=!!b[7],this.Ji=new f.eM(b[8],this),this.Zy=b[9])}A(){this.Ji.A();this.Qf=this.cc=this.Ji=null}Od(){return this.cc}Vg(){this.Ji||(this.Ji=new f.eM(null,this));return this.Ji}Bd(){return this.LA}lj(){return this.ta}gN(b){this.ta=
b}Sh(){return this.Mf}Le(){return this.Of}qk(){return this.tg}Ck(b){this.tg=!!b}VB(){return!!this.Zy}ca(){return{propertyKeyframeDataJson:this.Ji.ca(),sourceAdapterId:this.LA,sourceAdapterArguments:this.Qf,property:this.Lc,type:this.ta,min:this.xH,max:this.tH,interpolationMode:this.Mf,resultMode:this.Of,enabled:this.tg,canHavePropertyKeyframes:this.Zy}}ja(b){b&&(this.LA=b.sourceAdapterId,this.Qf=b.sourceAdapterArguments,this.Lc=b.property,this.ta=b.type,this.xH=b.min,this.tH=b.max,this.Mf=b.interpolationMode,
this.Of=b.resultMode,this.tg=b.enabled,this.Zy=b.canHavePropertyKeyframes,this.Vg().ja(b.propertyKeyframeDataJson))}}f.fM=class{constructor(b,e){this.Bb=e;this.To=[];f.lg.it(this.To,b,a,this)}A(){this.Bb=null;for(const b of this.To)b.A();f.C(this.To);this.To=null}Sw(b){return b.Vg().Hb[0]}un(b){return b.Vg().Hb.Md(-1)}yY(b,e){e=e.Vg().Hb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.Ca()===b)return m}}LK(b,e){e=e.Vg().Hb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.Ca()>=b)return m}}Rh(b,
e){e=e.Vg().Hb;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.Ca()<=b)return h}}*NT(){for(const b of this.To)yield b}ca(){return{propertyTrackDataItemsJson:this.To.map(b=>b.ca())}}ja(b){b&&f.lg.ut(this.To,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.rh=e;this.Yc=-1;this.si="noease";this.ti=!1;this.Ru=this.Fg=null;b&&(this.Yc=b[0],this.si=b[1],this.ti=!!b[2],this.Fg=(b=b[3])?b.split(" "):[],this.Ru=new Set(this.Fg.map(c=>c.toLowerCase())),this.Ae=null)}A(){this.rh=null;f.C(this.Fg);this.Fg=null;this.Ru.clear();this.Ru=null}cj(){return this.rh}Ws(b){this.Ae=b}Ca(){return this.Yc}fq(b){this.Yc=b;this.rh.qt()}Ll(){return this.si}uj(b){this.si=b}qk(){return this.ti}Ck(b){this.ti=!!b}eN(b){this.Fg=
b?b.split(" "):[];this.Ru=new Set(this.Fg.map(e=>e.toLowerCase()))}ca(){return{time:this.Yc,ease:this.si,enable:this.ti,tags:this.Fg}}ja(b){b&&(this.Yc=b.time,this.si=b.ease,this.ti=b.enable,this.Fg=b.tags,this.Ru=new Set(this.Fg.map(e=>e.toLowerCase())))}}f.DL=class{constructor(b,e){this.Bb=e;this.ac=[];f.lg.it(this.ac,b,a,this);this.qt()}A(){this.Bb=null;for(const b of this.ac)b.A();f.C(this.ac);this.ac=null}qt(){this.ac.sort((b,e)=>b.Ca()-e.Ca());for(let b=0;b<this.ac.length;b++)this.ac[b].Ws(this.ac[b+
1])}wU(){const b=new a(null,this);this.ac.push(b);this.qt();return b}RV(b){for(const e of this.ac){if(!b(e))continue;const c=this.ac.indexOf(e);-1!==c&&(e.A(),this.ac.splice(c,1))}this.B2();this.qt()}B2(){this.ac.sort((b,e)=>b.Ca()-e.Ca())}hY(b){return this.ac.indexOf(b)}gY(b){return this.ac[b]}ca(){return{keyframeDataItemsJson:this.ac.map(b=>b.ca())}}ja(b){b&&(f.lg.ut(this.ac,b.keyframeDataItemsJson,a,this),this.qt())}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.Ji=e;this.fh=this.pc=null;this.ta="";this.Yc=NaN;this.si="noease";this.ti=!1;this.ki=null;this.Lk=void 0;b&&(this.pc=b[0][0],this.fh=b[0][1],this.ta=b[0][2],this.Yc=b[1],this.si=b[2],this.ti=!!b[3],this.ki=null,b[4]&&(this.ki=new f.HU(b[4],this)),this.Ae=null)}A(){this.Ji=null;this.ki&&(this.ki.A(),this.ki=null)}Ws(b){this.Ae=b}hd(){return this.pc}ne(b){"color"===this.ta&&f.Pl(b)?(this.pc[0]=f.HC(b),this.pc[1]=f.BC(b),this.pc[2]=f.nC(b)):
this.pc=b}DM(b){"color"===this.ta&&f.Pl(b)?(this.fh[0]=f.HC(b),this.fh[1]=f.BC(b),this.fh[2]=f.nC(b)):this.fh=b}ic(){const b=this.Ji.pa.Le();if("relative"===b)return this.hd();if("absolute"===b)return this.fh}lj(){return this.ta}gN(b){this.ta=b}Ca(){return this.Yc}fq(b){this.Yc=b;this.Ji.tt()}Ll(){return this.si}uj(b){this.si=b}qk(){return this.ti}Ck(b){this.ti=!!b}lC(b){if(this.ki){if(this.Lk||null===this.Lk)return this.Lk;var e=this.ki.io;if(!e)return this.Lk=null;var c=e.length;for(let h=0;h<c;h++){const m=
e[h];if(m.sn()===b)return this.Lk=m}return this.Lk=null}}ca(){const b=this.ki;return{addonDataJson:b?b.ca():b,value:this.pc,aValue:this.fh,type:this.ta,time:this.Yc,ease:this.si,enable:this.ti}}ja(b){b&&(b.addonDataJson&&this.ki.Tja(b.addonDataJson),this.pc=b.value,this.fh=b.aValue,this.ta=b.type,this.Yc=b.time,this.si=b.ease,this.ti=b.enable)}}f.eM=class{constructor(b,e){this.pa=e;this.Hb=[];f.lg.it(this.Hb,b,a,this);this.tt()}A(){this.pa=null;for(const b of this.Hb)b.A();f.C(this.Hb);this.Hb=null}tt(){this.Hb.sort((b,
e)=>b.Ca()-e.Ca());for(let b=0;b<this.Hb.length;b++)this.Hb[b].Ws(this.Hb[b+1])}HJ(){const b=new a(null,this);this.Hb.push(b);this.tt();return b}lK(b){for(const e of this.Hb){if(!b(e))continue;const c=this.Hb.indexOf(e);-1!==c&&(e.A(),this.Hb.splice(c,1))}this.C2();this.tt()}C2(){this.Hb.sort((b,e)=>b.Ca()-e.Ca())}ca(){return{propertyKeyframeDataItemsJson:this.Hb.map(b=>b.ca())}}ja(b){b&&(f.lg.ut(this.Hb,b.propertyKeyframeDataItemsJson,a,this),this.tt())}}}
{"use strict";const f=self.B;class a{constructor(c,h){this.ki=h;this.xe=c[0];this.Sk=c[1]}A(){this.Sk=this.ki=null}sn(){return this.xe}ca(){return{id:this.xe,data:this.Sk}}ja(c){c&&(this.xe=c.id,this.Sk=c.data)}}class b extends a{constructor(c,h){super(c,h);this.bI=this.Sk[0];this.qv=!!this.Sk[1];this.gG=this.Sk[2];this.mz=!!this.Sk[3]}A(){super.A()}ca(){return Object.assign(super.ca(),{startAnchor:this.bI,startEnable:!!this.qv,endAnchor:this.gG,endEnable:!!this.mz})}ja(c){c&&(super.ja(c),this.bI=
c.startAnchor,this.qv=!!c.startEnable,this.gG=c.endAnchor,this.mz=!!c.endEnable)}}class e extends a{constructor(c,h){super(c,h);this.ZF=this.Sk[0];this.PH=this.Sk[1]}A(){super.A()}ca(){return Object.assign(super.ca(),{direction:this.ZF,revolutions:this.PH})}ja(c){c&&(super.ja(c),this.ZF=c.direction,this.PH=c.revolutions)}}f.HU=class{constructor(c){this.io=[];f.lg.it(this.io,c,{MT:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}A(){for(const c of this.io)c.A();f.C(this.io);this.io=null}ca(){return{addonDataItemsJson:this.io.map(c=>
c.ca())}}ja(c){c&&f.lg.ut(this.io,c.addonDataItemsJson,{MT:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const f=self.B;let a=0;f.P2=class extends f.Wn{constructor(b,e){super(`tween-${a++}`,b,e);this.xe="";this.GQ=!1;this.EG="start-value";this.jb=this.aS=this.$R=this.$b=null}gK(){for(const b of this.zd.ws().dU())this.eb.push(f.tN.Ja(this,b));this.jb=this.eb[0]}uf(){return this.jb.Va[0]}ya(){var b=this.eb;if(b&&b.length&&(this.jb=b=b[0])){var e=b.ya();return b.Rl()?e:void 0}}sn(){return this.xe}WL(){if(this.aS)for(const b of this.aS)b(this);if(!this.If)for(const b of this.eb)b.Nh()}oD(){this.wq=
this.g.Uj}tK(){if(!this.xo&&(this.xo=!0,this.$R))for(const b of this.$R)b(this)}fq(b){this.bO();super.fq(b)}Cc(b){if(!this.mm&&"current-state"===this.EG)for(const e of this.eb)e.Mh();super.Cc(b)}Re(b=!1){super.Re(b);if(!this.If)for(const e of this.eb)e.Rn()}Uc(b=!0,e=!1){this.bO();super.Uc(b,e)}bO(){for(const b of this.eb){const e=c=>{c=c.Ca();const h=this.yf();return 0!==c&&c!==h};b.SV(e);b.Ew(e)}}At(){if(this.Cg)return!0;const b=this.ya();if(b&&b.F().Bf())return!1;this.xb.WJ(this);this.uM();return!0}Se(b,
e,c){this.$b||(this.$b=this.ya());if(this.$b&&!this.$b.Cs()&&(e=this.$b.Kd,-1!==e&&(b=c*e),0!==b||0!==this.dA)){this.dA=b;c=this.Qb+b*this.Kc;b=this.zd.tr;this.Qb=0>c?0:c>=b?b:c;c=!1;e=this.Xw();var h=this.ax();e||h?e&&!h?0<this.Kc?this.Qb>=b&&this.jc(0):0>=this.Qb&&this.jc(b):!e&&h?0<this.Kc?this.Qb>=b&&(this.jc(b),this.vj(-1*this.Kc),1===this.xd?this.ud<this.Wg()?(this.ud++,this.xd=0):c=!0:0===this.xd&&(this.xd=1)):0>=this.Qb&&(this.jc(0),this.vj(-1*this.Kc),1===this.xd?this.ud<this.Wg()?(this.ud++,
this.xd=0):c=!0:0===this.xd&&(this.xd=1)):e&&h&&(0<this.Kc?this.Qb>=b&&(this.jc(b),this.vj(-1*this.Kc)):0>=this.Qb&&(this.jc(0),this.vj(-1*this.Kc))):0<this.Kc?this.Qb>=b&&(this.ud<this.Wg()?(this.ud++,this.jc(0)):(this.jc(b),c=!0)):0>=this.Qb&&(this.ud<this.Wg()?(this.ud++,this.jc(b)):(this.jc(0),c=!0));c?(this.jb.MM(),this.Re(!0),this.oD()):(this.jb.za(this.Qb,!0,!1,!1,this.we,!1),this.we&&(this.we=!1))}}ca(){const b=super.ca();return Object.assign(b,{tweenDataItemJson:this.zd.ca(),id:this.xe,destroyInstanceOnComplete:this.GQ,
initialValueMode:this.EG})}ja(b){b&&(this.zd.ja(b.tweenDataItemJson),super.ja(b),this.xe=b.id,this.GQ=b.destroyInstanceOnComplete,this.EG=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const f=self.B;f.tN=class extends f.fE{constructor(a,b){super(a,b);this.TH=this.nu=null}static Ja(a,b){return f.j(f.tN,a,b)}PN(){1===this.Va.length?this.nu=this.Va[0]:(this.nu=this.Va[0],this.TH=this.Va[1])}fK(){for(const a of this.Bb.Od().NT())this.Va.push(f.sN.Ja(this,a));this.PN()}dn(){}za(a,b,e=!1,c=!1,h,m=!1){this.$b||this.ya();if(this.$b){if(this.$b.Cs()||m&&this.F().Bf())return!1;this.TH?(this.nu.za(a,e,c),this.TH.za(a,e,c)):this.nu.za(a,e,c);0!==this.nu.Zj&&(this.Ma||(this.Ma=
this.$b.m()),this.Ma&&this.Ma.Na())}}cn(){}ja(a){super.ja(a);this.PN()}}}
{"use strict";const f=self.B;f.sN=class extends f.Wa{constructor(a,b){super(a,b);this.St=!1}static Ja(a,b){return f.j(f.sN,a,b)}za(a,b=!1,e=!1){if(this.St){var c=this.Hb[0];var h=this.Hb[1]}else{if(b)c=this.cc.Rh(a,this.pa);else{if(this.vc){h=this.ob();const m=this.vc.Ae;c=this.vc.Ca();h=m?m.Ca():h.yf();if(a<=c||a>=h)this.vc=this.cc.Rh(a,this.pa)}else this.vc=this.cc.Rh(a,this.pa);c=this.vc}h=c.Ae}this.Zd.za(a,c,h,b,e)}IJ(){const a=this.pa.Vg().HJ();this.vc=null;this.St=2>=this.bx().length;return a}Ew(a){this.vc=
null;this.pa.Vg().lK(a);this.St=2>=this.bx().length}ca(){return{sourceAdapterJson:this.yb().ca(),basic:this.St}}ja(a){a&&(this.yb().ja(a.sourceAdapterJson),this.St=a.basic)}}}
{"use strict";const f=self.B,a=self.Ur;f.qN=class extends f.ba{constructor(b){super();this.Da=b[0];this.Rf=[];for(var e of b[1])b=f.rN.Ja(this,e),this.Rf.push(b);for(e=0;e<this.Rf.length;e++)this.Rf[e].Ws(this.Rf[e+1]);this.bv=new Map;this.JS=new Map;this.I7();a.vU(this.Da,(c,h,m,g)=>this.za(c,h,m,g))}static Ja(b){return f.j(f.qN,b)}A(){for(const b of this.Rf)b.A();f.C(this.Rf);this.Rf=null;this.bv.clear();this.bv=null;this.JS.clear();this.JS=null}UX(b){for(let e=this.Rf.length-1;0<=e;e--){const c=
this.Rf[e];if(c.Sf<b)return c}}TX(b){for(let e=this.Rf.length-1;0<=e;e--){const c=this.Rf[e];if(c.Sf<=b)return c}}za(b,e,c,h){var m=b/h;b=this.TX(m);h=b.Ae;h||(b=this.UX(m),h=b.Ae);m=f.aca(m,b.Sf,h.Sf,h.Sf-b.Sf);const g=b.Sf,l=b.Ev,n=b.Sf+b.AS,p=b.Ev+b.Gaa,q=h.Sf+h.KQ,u=h.Ev+h.Q$,w=h.Sf;h=h.Ev;h=a.vn("spline")(m,g,l,n,p,q,u,w,h,this.bv.get(b));h+=b.Ev;return(1-h)*e+h*(e+c)}I7(){this.bv.clear();for(let e=0;e<this.Rf.length-1;e++){var b=this.Rf[e];if(!b.qv)continue;const c=this.Rf[e+1];this.bv.set(b,
a.zX(b.Sf,b.Sf+b.AS,c.Sf+c.KQ,c.Sf))}}}}{"use strict";const f=self.B;f.rN=class extends f.ba{constructor(a,b){super();this.Sf=b[0];this.Ev=b[1];this.AS=b[2];this.Gaa=b[3];this.KQ=b[4];this.Q$=b[5];this.qv=b[6];this.mz=b[7];this.Ae=null}A(){}static Ja(a,b){return f.j(f.rN,a,b)}Ws(a){this.Ae=a}}}{"use strict";const f=self.B;f.O2=class extends f.ba{constructor(a){super();this.g=a;this.WA=[]}A(){for(const a of this.WA)a.A();f.C(this.WA);this.WA=null}Ja(a){this.WA.push(f.qN.Ja(a))}}}
{"use strict";const f=self.B;f.A2=class extends f.ba{constructor(a){super();this.I=a;this.cb=[];this.cb.push(f.j(f.WD,this));this.Ia=0;this.pi=this.cb[0]}A(){for(const a of this.cb)a.A();f.C(this.cb);this.I=this.pi=null}F(){return this.I}N(){return this.pi}ed(){this.N().ed()}F0(){var a=this.cb,b=++this.Ia;b===a.length?(b=f.j(f.WD,this),a.push(b),this.pi=b):(a=a[b],a.Uc(),this.pi=a)}G0(){const a=this.cb,b=++this.Ia;b===a.length&&a.push(f.j(f.WD,this));const e=a[b];e.xV(a[b-1]);this.pi=e}Ga(){this.pi=
this.cb[--this.Ia]}Pn(a){const b=this.cb;for(let e=0,c=b.length;e<c;++e)b[e].Pn(a)}}}
{"use strict";const f=self.B;f.WD=class extends f.ba{constructor(a){super();this.cb=a;this.I=this.cb.F();this.vd=this.I.G().Sc();this.Rb=!0;this.D=[];this.kc=[]}A(){this.uw();this.vd=this.I=this.cb=null}uw(){f.C(this.D);f.C(this.kc)}F(){return this.I}kL(){return this.Rb?!!this.I.D.length:!!this.D.length}ga(){return this.Rb?this.I.ga():this.D}NY(){return!!this.kc.length}HK(){const a=this.ga();return a.length?a:this.kc}Uc(){this.Rb=!0;f.C(this.kc)}ed(){this.Rb=!0}xV(a){a.Rb?this.Uc():(this.Rb=!1,f.zc(this.D,
a.D),f.C(this.kc))}Ct(a){this.D.push(a)}co(a){this.kc.push(a)}se(a){this.Rb=!!a}wj(a){this.Rb=!1;f.C(this.D);this.D.push(a)}Rx(a){this.Rb=!1;f.zc(this.D,a)}Zs(a){this.Rb=!1;f.C(this.D);for(const b of a)this.D.push(b)}GJ(a,b){for(const e of b)a.has(e)||this.kc.push(e)}M2(a){for(const b of a)this.D.push(b);f.Wf(this.kc,a)}Ul(a){a&&(this.vd.Je().Cb().Fd?(this.Rb&&(f.C(this.D),f.zc(this.kc,a.F().ga()),this.Rb=!1),a=this.kc.indexOf(a),-1!==a&&(this.D.push(this.kc[a]),this.kc.splice(a,1))):this.wj(a))}Pn(a){f.Wf(this.D,
a);f.Wf(this.kc,a)}}}
{"use strict";const f=self.B;f.gX=class extends f.ba{constructor(a){super();this.oa=a;this.g=this.oa.G();this.cb=[];this.cb.push(f.j(f.qK,this,null));this.Ia=0;this.oz=[]}A(){for(const a of this.cb)a.A();f.C(this.cb);f.C(this.oz);this.g=this.oa=null}fa(){return this.oa}G(){return this.g}Je(){return this.cb[this.Ia]}Ka(a){var b=this.cb;const e=++this.Ia;if(e===b.length)return a=f.j(f.qK,this,a),b.push(a),a;b=b[e];b.Uc(a);return b}Ga(){--this.Ia}H0(a){this.oz.push(a)}x0(){this.oz.pop()}EX(){const a=this.oz;
return 0===a.length?null:a.Md(-1)}}}
{"use strict";const f=self.B;f.qK=class extends f.ba{constructor(a,b){super();this.cb=a;this.g=this.cb.G();this.du=b;this.Ff=this.Qk=0;this.fG=this.Ko=!1;this.kG=null;this.sG=this.WQ=0}A(){this.Uc(null);this.g=this.cb=null}Uc(a){this.du=a;this.Ff=this.Qk=0;this.fG=this.Ko=!1}VE(a,b){this.du=a;this.Qk=0;this.Ff=b}vM(){this.Ff=this.Qk=0}Cb(){return this.du}hg(a){this.du=a}Wl(a){this.Qk=a}Px(a){this.Ff=a}Yl(a){this.Ko=!!a}Xp(a){this.fG=!!a}M1(a){this.kG=a}qZ(a,b){this.WQ=a;this.sG=b}Vx(a){this.sG=a}oj(){const a=
this.du;return a.Zz?!0:this.Qk<a.Ob.length-1?!!a.fd().length:!1}}}{"use strict";const f=self.B;f.E_=class extends f.ba{constructor(a){super();this.oa=a;this.g=this.oa.G();this.cb=[];this.Ia=-1;this.pi=null;this.Hz=[]}A(){f.C(this.cb);this.g=this.oa=null}p9(a){this.Hz=a;a=this.Hz.slice(0);this.cb.push(a);this.Ia=0;this.pi=a}fa(){return this.oa}G(){return this.g}up(){return this.pi}Ka(){const a=++this.Ia,b=this.cb;a===b.length?b.push(this.Hz.slice(0)):f.zc(b[a],this.Hz);this.pi=b[a]}Ga(){this.pi=this.cb[--this.Ia]}}}
{"use strict";const f=self.B;f.G_=class extends f.ba{constructor(a){super();this.oa=a;this.g=this.oa.G();this.cb=[];this.Ia=-1}A(){f.C(this.cb);this.g=this.oa=null}fa(){return this.oa}G(){return this.g}xL(){return 0<=this.Ia}up(){return this.cb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.cb.length){var a=f.j(f.F_,this);this.cb.push(a);return a}a=this.cb[this.Ia];a.Uc();return a}Ga(){--this.Ia}mX(a){const b=this.cb;for(let e=this.Ia;0<=e;--e){const c=b[e];if(c.wa()===a)return c}return null}}}
{"use strict";const f=self.B;f.F_=class extends f.ba{constructor(a){super();this.bf=a;this.Da="";this.Ia=0;this.lc=!1}Uc(){this.Da="";this.Ia=0;this.lc=!1}Xx(a){this.Da=a}wa(){return this.Da}sc(a){this.Ia=a}Ba(){return this.Ia}Re(){this.lc=!0}}}{"use strict";const f=self.B;f.OU=class extends f.ba{constructor(){super();this.cb=[];this.Ia=-1}A(){f.C(this.cb)}up(){return this.cb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.cb.length){const a=[];this.cb.push(a);return a}return this.cb[this.Ia]}Ga(){--this.Ia}}}
{"use strict";const f=self.B;function a(b,e){return b.Ba()-e.Ba()}f.fX=class extends f.ba{constructor(b){super();this.g=b;this.Mt=[];this.UH=new Map;this.uF=[];this.$Q=new Map;this.KF=new Map;this.RF=new Map;this.My=new Map;this.oQ=new Map;this.iG=new Map;this.uaa=0;this.tF=[];this.n$=[];this.PR=[];this.qG=new Map;this.vd=f.j(f.gX,this);this.cd=f.j(f.E_,this);this.bf=f.j(f.G_,this);this.lI=[];this.BA=[];this.AA=[];this.JF=this.Vk=this.ql=0;this.Pf=[];this.Sy=[];self.c3_callFunction=(e,c)=>this.uy(e,
c)}A(){this.rw();this.vd.A();this.vd=null;this.cd.A();this.cd=null;f.C(this.BA);f.C(this.AA);this.g=null;f.C(this.Mt);this.UH.clear()}Ja(b){b=f.j(f.eX,this,b);this.Mt.push(b);this.UH.set(b.wa().toLowerCase(),b)}A3(b){this.lI.push(b)}Fb(){for(const b of this.qG.values())b.Fb(!1);for(const b of this.Mt)b.Fb();for(const b of this.Mt)b.lF();for(const b of this.lI)b.Fb(!1);f.C(this.lI);this.cd.p9(this.PR)}G(){return this.g}GK(b){return this.UH.get(b.toLowerCase())||null}V7(b){this.uF.push(b);this.$Q.set(b.ZQ,
b)}S7(b){this.KF.set(b.bb,b)}R7(b){this.RF.set(b.bb,b)}Q7(b){this.My.set(b.bb,b)}U7(b){this.qG.set(b.zz.toLowerCase(),b)}T7(b){this.iG.set(b.bb,b);b.Bf()?this.tF.push(b):this.n$.push(b)}jy(b){2<=b.length&&b.sort(a);let e=this.oQ.get(b.length);e||(e=[],this.oQ.set(b.length,e));for(let h=0,m=e.length;h<m;++h){const g=e[h];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}I5(b){this.PR.push(b.Co);return this.uaa++}Sc(){return this.vd}Ie(){return this.Sc().Je()}Cb(){return this.Ie().Cb()}rf(){const b=
this.Ie();return b.Cb().BK(b.Qk)}js(){const b=this.Ie();return b.Cb().xK(b.Ff)}vX(b){const e=[];for(b=b.zp();b;)f.Tm(e,b.sO()),b=b.zp();return e}DO(b){const e={};for(const c of this.vX(b))e[c.Th()]=c.HO();return Object.create(Object.prototype,e)}zC(b){return this.iG.get(b)||null}JX(b){return this.KF.get(b)||null}tX(b){return this.My.get(b)||null}Uw(b){return this.qG.get(b.toLowerCase())||null}a1(){for(const b of this.tF)b.g1()}FK(b){return this.$Q.get(b.toLowerCase())||null}KX(b){return(b=this.KF.get(b))&&
b.Di?b:null}b1(){for(const b of this.uF)b.d1()}CP(){for(const b of this.Mt)b.k8()}l1(b){this.CP();this.ql++;for(const e of b.bw())if(b=e.Jc)this.g.Ms(e),b.ma(),this.g.Ks();this.ql--}async MV(b){this.CP();this.ql++;for(const e of this.x4(b))await this.g.sp(e);this.ql--}*x4(b){for(const e of b.bw())if(b=e.Jc)this.g.Ms(e),yield*b.fb(),this.g.Ks()}Jt(b,e,c,h){let m=!1;if(!b.Ib())return this.sD(e,c,h);this.Vk++;for(const g of b.bw())if(b=g.Jc){this.g.Ms(g);for(const l of b.gz){const n=l.Jt(e,c,h);m=m||
n}b=b.Jt(e,c,h);m=m||b;this.g.Ks()}this.Vk--;return m}*kt(b,e,c,h){let m=!1;if(!b.Ib())return this.sD(e,c,h);this.Vk++;for(const g of b.bw())if(b=g.Jc){this.g.Ms(g);for(const l of b.gz){const n=yield*l.kt(e,c,h);m=m||n}b=yield*b.kt(e,c,h);m=m||b;this.g.Ks()}this.Vk--;return m}sD(b,e,c){this.BA.push([b,e,c]);return!1}K0(b,e,c){let h=null;const m=new Promise(g=>h=g);this.AA.push([b,e,c,h]);return m}*u8(){if(this.g.As())throw Error("should not be in breakpoint");const b=this.g.$a;for(;this.AA.length;){const [e,
c,h,m]=this.AA.shift(),g=yield*this.kt(b,e,c,h);m(g)}}async xM(){for(const b of this.u8())await this.g.sp(b)}eD(){return 0<this.Vk}pt(){return++this.Vk}lt(){--this.Vk}k_(){return 0<this.ql}xx(){return this.k_()||this.eD()}v8(b){for(const [e,c,h]of this.BA)this.Jt(b,e,c,h);f.C(this.BA)}de(b){b?this.JF++:this.JF--}wL(){return 0<this.JF}rp(b){for(let e=0,c=b.length;e<c;++e)b[e].Cm.ed()}fg(b){for(let e=0,c=b.length;e<c;++e)b[e].Cm.F0()}le(b){for(let e=0,c=b.length;e<c;++e)b[e].Cm.G0()}Db(b){for(let e=
0,c=b.length;e<c;++e)b[e].Cm.Ga()}MB(){const b=f.j(f.DD,this);this.Pf.push(b);return b}n1(){if(this.Pf.length){var b=this.Ie(),e=!1;this.ql++;for(let c=0,h=this.Pf.length;c<h;++c){const m=this.Pf[c];m.aQ()&&m.m8(b);m.kv&&(e=!0)}e&&this.pO();this.ql--}}async OV(){if(this.Pf.length){var b=this.Ie(),e=!1;this.ql++;for(let c=0,h=this.Pf.length;c<h;++c){const m=this.Pf[c];m.aQ()&&await m.r4(b);m.kv&&(e=!0)}e&&this.pO();this.ql--}}pO(){const b=f.Zaa(this.Pf,e=>e.kv);for(const e of b)e.A()}rw(){for(const b of this.Pf)b.A();
f.C(this.Pf)}S0(b){for(const e of this.Pf)e.Pn(b)}KB(b){this.Sy.push(b)}vw(){f.C(this.Sy)}xY(){const b=Promise.all(this.Sy);this.Sy=[];return b}ca(){return{groups:this.C8(),cnds:this.B8(),acts:this.A8(),vars:this.O8(),waits:this.K8()}}ja(b){this.B6(b.groups);this.w6(b.cnds);this.v6(b.acts);this.O6(b.vars);this.K6(b.waits)}C8(){const b={};for(const e of this.uF)b[e.bb.toString()]=e.Es();return b}B6(b){for(const [e,c]of Object.entries(b))(b=this.KX(parseInt(e,10)))&&b.Yp(c)}B8(){const b={};for(const [e,
c]of this.RF){const h=c.ca();h&&(b[e.toString()]=h)}return b}w6(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.RF)h.ja(e.get(c)||null)}A8(){const b={};for(const [e,c]of this.My){const h=c.ca();h&&(b[e.toString()]=h)}return b}v6(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.My)h.ja(e.get(c)||null)}O8(){const b={};for(const [e,c]of this.iG)c.mb||!c.Bf()&&!c.qh||(b[e.toString()]=c.hd());return b}O6(b){for(const [e,
c]of Object.entries(b))(b=this.zC(parseInt(e,10)))&&b.ne(c)}K8(){return this.Pf.filter(b=>!b.i_()).map(b=>b.ca())}K6(b){this.rw();for(const e of b)(b=f.DD.W3(this,e))&&this.Pf.push(b)}jC(b){for(;b;)if(b=b.zp(),b instanceof f.$r)return b;return null}uy(b,e){Array.isArray(e)||(e=[]);b=this.Uw(b.toLowerCase());if(!b)return null;if(!b.Wh())return b.ls();var c=b.vg;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Co);while(e.length<c.length)}c=b.he();return c.AD(c.gd(),b.ol,b.ls(),...e)}}}
{"use strict";const f=self.B;f.eX=class extends f.ba{constructor(a,b){super();this.oa=a;this.g=a.G();this.Da=b[0];this.nz=[];this.XA=new Map;this.QQ=new Map;this.R$=new Map;this.tu=!1;this.pS=[];this.gz=[];this.pQ=new Set;for(const e of b[1])this.ZN(e,null,this.nz);this.Ii=this.g.ub?{type:"sheet",name:this.Da,cw:0,children:[]}:null}A(){this.g=this.oa=null}ZN(a,b,e){switch(a[0]){case 0:case 3:this.U3(a,b,e);break;case 1:this.V3(a,b,e);break;case 2:this.Z3(a,b,e);break;case 4:this.X3(a,b);break;case 5:this.e4(a,
b,e);break;default:throw Error("invalid event type");}}U3(a,b,e){a=f.kk.Ja(this,b,a);if(a.Fd){e.push(a);e=a.Ob;for(let c=0,h=e.length;c<h;++c)e[c].Jn()&&this.SO(a,c)}else a.Jn()?this.SO(a,0):e.push(a)}X3(a,b){a=f.$r.Ja(this,b,a);this.oa.U7(a)}V3(a,b,e){a=f.Iw.Ja(this,b,a);e.push(a)}Z3(a,b,e){a=f.pK.Ja(this,b,a);e.push(a)}e4(a,b,e){a=f.Hw.Ja(this,b,a);e.push(a)}SO(a,b){a.Fd||this.oa.A3(a);var e=a.BK(b),c=e.Ea,h=e.F();if(e.vR){var m=this.QQ.get(h);m||(m=new Map,this.QQ.set(h,m));e=e.OX().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(e);c||(c=[],h.set(e,c));c.push([a,b])}else m=this.XA.get(h),m||(m={hJ:new Map,Jv:new Map},this.XA.set(h,m)),(h=e.bg())?(e=m.Jv.get(h),e||(e=new Map,m.Jv.set(h,e))):e=m.hJ,m=e.get(c),m||(m=[],e.set(c,m)),m.push([a,b])}Fb(){const a=this.nz;for(let b=0,e=a.length;b<e;++b)a[b].Fb(b<e-1&&a[b+1]instanceof f.kk&&a[b+1].wx())}z3(a){this.pS.push(a)}lF(){f.C(this.gz);this.GN(this);this.pQ.clear()}GN(a){const b=a.gz,e=a.pQ;for(const c of this.pS){const h=c.yu;c.zb&&
a!==h&&!e.has(h)&&(e.add(h),h.GN(a),b.push(h))}}fa(){return this.oa}G(){return this.g}wa(){return this.Da}wP(a,b){this.R$.set(b,a)}k8(){this.tu=!1}ma(){if(!this.tu){var a=this.g,b=a.XC(),e=b?performance.now():0;this.tu=!0;var c=this.fa(),h=c.Ie();for(const m of this.nz)m.ma(h),c.rp(m.fd()),c.vw(),a.Ad();h.Uc(null);b&&(this.Ii.cw+=performance.now()-e)}}*fb(){if(!this.tu){this.tu=!0;var a=this.g,b=this.fa(),e=b.Ie();for(const c of this.nz)yield*c.fb(e),b.rp(c.fd()),b.vw(),a.Ad();e.Uc(null)}}Jt(a,b,
e){if(b){const c=b.F();this.jF(a,b,c,e);for(const h of c.mh)this.jF(a,b,h,e)}else return this.jF(a,b,null,null)}jF(a,b,e,c){e=this.XA.get(e);if(!e)return!1;c=c?e.Jv.get(c):e.hJ;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [h,m]of c)c=this.oO(b,h,m),a=a||c;return a}*kt(a,b,e){if(b){const c=b.F();yield*this.tE(a,b,c,e);for(const h of c.mh)yield*this.tE(a,b,h,e)}else return yield*this.tE(a,b,null,null)}*tE(a,b,e,c){e=this.XA.get(e);if(!e)return!1;c=c?e.Jv.get(c):e.hJ;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [h,m]of c)c=h.ee()?this.oO(b,h,m):yield*this.l4(b,h,m),a=a||c;return a}oO(a,b,e){const c=this.g,h=this.oa,m=h.Cb(),g=h.Sc(),l=h.Vk;let n=!1;m&&h.fg(m.gd());h.fg(b.gd());const p=1<l;p&&h.cd.Ka();const q=g.Ka(b);a&&(b.Ob[e].F().N().wj(a),a.Mb()&&a.di());a=!0;if(b.Aa()){const u=b.hp;for(let w=0,r=u.length;w<r;++w)if(!u[w].wM(q)){a=!1;break}}a&&(c.xk(),b.Fd?b.m1(q,e):b.ma(q),n=q.Ko);g.Ga();p&&h.cd.Ga();h.Db(b.gd());m&&h.Db(m.gd());m||1!==l||(h.vw(),h.wL()||c.Ad());return n}*l4(a,
b,e){const c=this.g,h=this.oa,m=h.Cb(),g=h.Sc(),l=h.Vk;let n=!1;m&&h.fg(m.gd());h.fg(b.gd());const p=1<l;p&&h.cd.Ka();const q=g.Ka(b);a&&(b.Ob[e].F().N().wj(a),a.Mb()&&a.di());a=!0;if(b.Aa()){const u=b.hp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].iK(q))){a=!1;break}}a&&(c.xk(),b.Fd?yield*b.NV(q,e):yield*b.fb(q),n=q.Ko);g.Ga();p&&h.cd.Ga();h.Db(b.gd());m&&h.Db(m.gd());m||1!==l||(h.vw(),h.wL()||c.Ad());return n}}}
{"use strict";const f=self.B,a=[];function b(){return!0}function*e(){return!0}f.kk=class extends f.ba{constructor(c,h,m){super();this.Jc=c;this.g=c.G();this.oc=h;this.Id=null;this.vd=this.g.fa().Sc();this.Be=[];this.kr=[];this.qu=this.$z=this.Zz=this.eR=!1;this.Fd=!!m[2];this.Qz=!1;this.hp=null;this.Ob=[];this.Jb=[];this.Ch=[];this.ji=b;this.$n=e;this.TG=this.Di=!1;this.ZQ="";this.Sz=!1;this.Ii=this.ez=null;this.bb=m[4];this.Eq=m[5];this.Jc.wP(this,this.Eq);this.La=this.g.ub?{Qc:m[3][0],cJ:m[3][1],
dT:!1,II:!1,JI:!1,eT:!1}:null;this.fa().S7(this);3===m[0]&&this.d6(m[1]);c=0;for(var g of m[6])h=f.YJ.Ja(this,g,c++),this.Ob.push(h),this.LN(h.F());c=0;for(const l of m[7])g=f.gw.Ja(this,l,c++),this.Jb.push(g);if(9===m.length){m=m[8];for(const l of m)this.Jc.ZN(l,this,this.Ch)}this.Ob.length&&(this.Qz=null===this.Ob[0].F()&&this.Ob[0].Ea===f.K.Eb.ua.$W);0===this.Ob.length&&(this.Ob=a);0===this.Jb.length&&(this.Jb=a);0===this.Ch.length&&(this.Ch=a)}static Ja(c,h,m){return f.j(f.kk,c,h,m)}d6(c){this.Di=
!0;this.Sz=this.TG=!!c[0];this.ZQ=c[1].toLowerCase();this.ez=[];this.fa().V7(this);this.g.ub&&(this.Ii={type:"group",name:c[1],cw:0,children:[]})}r3(c){this.ez.push(c)}FN(c,h){for(const m of c.rg.ll)h.includes(m)||h.push(m)}MN(c,h){if(c)if(h.includes(c)||h.push(c),c.Ua)for(const m of c.wo)m.Mb()&&this.FN(m,h);else c.Mb()&&this.FN(c,h)}LN(c){this.MN(c,this.Be)}v3(c){this.MN(c,this.kr)}x1(){this.Be=this.g.Dc}Fb(c){this.qu=!!c;this.X5();this.Y5();for(const m of this.Ob)m.Fb();if(0<this.Jb.length){c=
!1;for(var h of this.Jb)h.Fb(),h.WY()&&(c=!0);c?(this.ji=this.o8,this.$n=this.t4):(this.ji=this.n8,this.$n=this.s4)}h=this.Ch;for(let m=0,g=h.length;m<g;++m)h[m].Fb(m<g-1&&h[m+1]instanceof f.kk&&h[m+1].wx());this.La&&this.V9();this.Ii&&this.K5().Ii.children.push(this.Ii)}K5(){let c=this.Aa();for(;c;){if(c.Di)return c;c=c.Aa()}return this.Jc}V9(){const c=this.La;c.dT=this.Ob.every(h=>h.ee());c.II=this.Jb.every(h=>h.ee());c.JI=this.Ch.every(h=>h.ee());c.eT=c.dT&&c.II&&c.JI}X5(){if(this.Di){var c=this.Aa();
for(this.$z=!0;c;){if(!c.Di){this.$z=!1;break}c=c.Aa()}}}W5(){var c=this.g.Dc;if(this.Be===c)this.kr=c;else{this.kr=f.MI(this.Be);for(c=this.Aa();c;){for(var h of c.Be)this.v3(h);c=c.Aa()}h=this.fa();this.Be=h.jy(this.Be);this.kr=h.jy(this.kr)}}Y5(){if(this.OY()){this.hp=[];for(var c=this.Aa();c;)this.hp.push(c),c=c.Aa();this.hp.reverse()}}$s(){this.Zz=!0;this.oc&&this.oc.$s()}fd(){return this.Be}gd(){this.eR||(this.eR=!0,this.W5());return this.kr}YY(c){return this.Be.includes(c)}fa(){return this.Jc.fa()}G(){return this.g}Aa(){return this.oc}v9(c){this.Id=
c}zp(){return this.Id||this.oc}ZC(){return this.La&&this.La.cJ}Fn(){return this.ZC()&&this.La.Qc}wx(){return this.Qz}Es(){return this.Sz}d1(){this.Yp(this.TG)}Yp(c){c=!!c;if(!this.Di)throw Error("not a group");if(this.Sz!==c){this.Sz=c;for(const h of this.ez)h.uN();this.ez.length&&(c=this.g.Qa().Jc)&&c.lF()}}Jn(){return this.Ob.length&&this.Ob[0].Jn()}d_(){return this.Id&&this.Id instanceof f.$r}OY(){return this.d_()||this.Ob.some(c=>c.Jn())}BK(c){c=Math.floor(c);if(0>c||c>=this.Ob.length)throw new RangeError("invalid condition index");
return this.Ob[c]}c_(c){let h=c.Ba();if(0===h)return!0;for(--h;0<=h;--h)if(this.Ob[h].F()===c.F())return!1;return!0}xK(c){c=Math.floor(c);if(0>c||c>=this.Jb.length)throw new RangeError("invalid action index");return this.Jb[c]}V5(c){c=Math.floor(c);return 0<=c&&c<this.Jb.length}sO(){return this.Ch.filter(c=>c instanceof f.Iw)}wM(c){c.hg(this);let h=!1;const m=this.Ob;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.Wl(g);if(n.Uz)throw Error("trigger cannot be used as sub-event to a loop");if(n.ma())h=
!0;else if(!this.Fd)return!1}return this.Fd?h:!0}m1(c,h){c.hg(this);this.Ob[h].ma()&&(this.ji(c,0)&&this.Kk(),c.Yl(!0))}*iK(c){c.hg(this);let h=!1;const m=this.Ob;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.Wl(g);if(n.Uz)throw Error("trigger cannot be used as sub-event to a loop");if(n.ee()?n.ma():yield*n.fb())h=!0;else if(!this.Fd)return!1}return this.Fd?h:!0}*NV(c,h){c.hg(this);h=this.Ob[h];if(h.ee()?h.ma():yield*h.fb())(this.Bw()?this.ji(c,0):yield*this.$n(c,0))&&(this.Cw()?this.Kk():yield*this.jt()),
c.Yl(!0)}ma(c){c.hg(this);this.Qz||c.Xp(!1);this.Fd?this.t8(c):this.zy(c)}*fb(c){if(this.Fn()||this.g.hc())yield this;c.hg(this);this.Qz||c.Xp(!1);this.Fd?yield*this.E4(c):yield*this.qE(c)}t8(c){const h=this.Ob;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.Jn()||(c.Wl(l),g=g.ma(),m=m||g)}c.Yl(m);m&&(this.ji(c,0)&&this.Kk(),this.qu&&c.Xp(!0))}*E4(c){const h=this.Ob;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.Jn()||(c.Wl(l),g=g.ee()?g.ma():yield*g.fb(),m=m||g)}c.Yl(m);
m&&((this.Bw()?this.ji(c,0):yield*this.$n(c,0))&&(this.Cw()?this.Kk():yield*this.jt()),this.qu&&c.Xp(!0))}zy(c){const h=this.Ob;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.Wl(m);if(!l.ma()){c.Yl(!1);return}}c.Yl(!0);this.ji(c,0)&&this.Kk();c.Ko&&this.qu&&c.Xp(!0)}*qE(c){const h=this.Ob;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.Wl(m);if(l.ee()?!l.ma():!(yield*l.fb())){c.Yl(!1);return}}c.Yl(!0);(this.Bw()?this.ji(c,0):yield*this.$n(c,0))&&(this.Cw()?this.Kk():yield*this.jt());c.Ko&&this.qu&&
c.Xp(!0)}n8(c,h){const m=this.Jb;for(let g=h,l=m.length;g<l;++g)h=m[g],c.Px(g),h.ma();return!0}*s4(c,h){const m=this.Jb;for(let g=h,l=m.length;g<l;++g)h=m[g],c.Px(g),h.ee()?h.ma():yield*h.fb();return!0}o8(c,h){const m=this.fa(),g=this.Jb;for(let l=h,n=g.length;l<n;++l){h=g[l];c.Px(l);const p=h.ma();if(h.QJ()&&!0===p)return!1;h.eg()&&p instanceof Promise&&m.KB(p)}return!0}*t4(c,h){const m=this.fa(),g=this.Jb;for(let l=h,n=g.length;l<n;++l){h=g[l];c.Px(l);let p;p=h.ee()?h.ma():yield*h.fb();if(h.QJ()&&
!0===p)return!1;h.eg()&&p instanceof Promise&&m.KB(p)}return!0}l8(c){this.ji(c,c.Ff)&&this.Kk()}*q4(c){if(yield*this.$n(c,c.Ff))yield*this.jt()}Kk(){if(this.Ch.length){var c=this.Di&&this.g.XC(),h=c?performance.now():0,m=this.vd,g=m.Ka(this);this.Zz?this.y8(g):this.x8(g);m.Ga();c&&(this.Ii.cw+=performance.now()-h)}}y8(c){const h=this.Di,m=this.$z,g=this.fa(),l=this.Ch;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.fd(),r=!m||!h&&n<q;r&&g.le(w);u.ma(c);r?g.Db(w):g.rp(w)}}x8(c){const h=this.Ch;
for(let m=0,g=h.length;m<g;++m)h[m].ma(c)}*jt(){if(this.Ch.length){var c=this.vd,h=c.Ka(this);this.Zz?yield*this.H4(h):yield*this.G4(h);c.Ga()}}*H4(c){const h=this.Di,m=this.$z,g=this.fa(),l=this.Ch;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.fd(),r=!m||!h&&n<q;r&&g.le(w);yield*u.fb(c);r?g.Db(w):g.rp(w)}}*G4(c){const h=this.Ch;for(let m=0,g=h.length;m<g;++m)yield*h[m].fb(c)}gg(c,h){this.g.xk();h.vM();const m=this.Ob;if(!this.Fd)for(let g=c.Qk+1,l=m.length;g<l;++g)if(c=m[g],h.Wl(g),!c.ma())return!1;
this.ji(h,0)&&this.Kk();return!0}*Zf(c,h){this.g.xk();h.vM();const m=this.Ob;if(!this.Fd)for(let g=c.Qk+1,l=m.length;g<l;++g)if(c=m[g],h.Wl(g),c.ee()?!c.ma():!(yield*c.fb()))return!1;(this.Bw()?this.ji(h,0):yield*this.$n(h,0))&&(this.Cw()?this.Kk():yield*this.jt());return!0}ee(){return!this.Fn()&&!this.g.hc()&&this.La.eT}Bw(){return!this.g.hc()&&this.La.II}Cw(){return!this.g.hc()&&this.La.JI}jE(c){if(this.Aa()){const h=this.hp;for(let m=0,g=h.length;m<g;++m)if(!h[m].wM(c))return!1}return!0}*$N(c){if(this.Aa()){const h=
this.hp;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].iK(c)))return!1}return!0}nO(c,h,m){0<h.length?m?(h=h.map(g=>g.U(0)),c.cd.Ka(),this.Id.Vs(h)):this.Id.dX(h):m&&c.cd.Ka()}j1(c,h){let m,g;const l=0<c.length;var n=this.g;const p=this.vd,q=n.fa(),u=1<q.pt();this.nO(q,h,u);l&&q.fg(c);h=p.Ka(this);this.jE(h)&&(n.xk(),h.hg(this),(n=this.Id.eg())&&([g,m]=this.Id.ZD()),this.zy(h),n&&this.Id.Gs(g));p.Ga();u&&q.cd.Ga();l&&q.Db(c);q.lt();return m}*KV(c,h){let m,g;if(this.Fn()||this.g.hc())yield this;const l=
0<c.length;var n=this.g;const p=this.vd,q=n.fa(),u=1<q.pt();this.nO(q,h,u);l&&q.fg(c);h=p.Ka(this);if(yield*this.$N(h))n.xk(),h.hg(this),(n=this.Id.eg())&&([g,m]=this.Id.ZD()),yield*this.qE(h),n&&this.Id.Gs(g);p.Ga();u&&q.cd.Ga();l&&q.Db(c);q.lt();return m}k1(c){const h=this.gd(),m=0<h.length,g=this.g,l=this.vd,n=g.fa(),p=1<n.pt();p&&n.cd.Ka();this.Id.Vs(c);m&&n.fg(h);c=l.Ka(this);this.jE(c)&&(g.xk(),c.hg(this),this.zy(c));l.Ga();p&&n.cd.Ga();m&&n.Db(h);n.lt()}*LV(c){if(this.Fn()||this.g.hc())yield this;
const h=this.gd(),m=0<h.length,g=this.g,l=this.vd,n=g.fa(),p=1<n.pt();p&&n.cd.Ka();this.Id.Vs(c);m&&n.fg(h);c=l.Ka(this);if(yield*this.$N(c))g.xk(),c.hg(this),yield*this.qE(c);l.Ga();p&&n.cd.Ga();m&&n.Db(h);n.lt()}AD(c,h,m,...g){let l,n;const p=0<c.length,q=this.g,u=this.vd,w=q.fa(),r=1<w.pt();r&&w.cd.Ka();0<g.length&&this.Id.Vs(g);p&&w.fg(c);g=u.Ka(this);g.qZ(h,m);u.H0(g);q.Tx(!1);this.jE(g)&&(q.xk(),g.hg(this),(h=this.Id.eg())&&([n,l]=this.Id.ZD()),this.zy(g),h&&this.Id.Gs(n));q.Tx(!0);u.Ga();u.x0();
r&&w.cd.Ga();p&&w.Db(c);w.lt();return l||g.sG}}}
{"use strict";const f=self.B,a=[];let b=!1;f.Hw=class extends f.ba{constructor(e,c,h){super();const m=e.G(),g=e.fa();this.Jc=e;this.oa=g;this.g=e.G();this.oc=c;this.Ea=m.Tg(h[1]);this.Eq=h[2];this.Jc.wP(this,this.Eq);this.La=m.ub?{Qc:h[3][0],cJ:h[3][1]}:null}static Ja(e,c,h){return f.j(f.Hw,e,c,h)}Fb(){const e=this.Ea,c=this.g.fa().DO(this);this.Ea=e.bind(null,this.g.Ai,c)}Aa(){return this.oc}zp(){return this.oc}ZC(){return this.La&&this.La.cJ}Fn(){return this.ZC()&&this.La.Qc}wx(){return!1}fd(){return a}gd(){return this.oc?
this.oc.gd():a}ma(e){e.hg(this);this.oa.KB(this.z8())}async z8(){try{await this.Ea()}catch(e){console.error(`Unhandled exception running script %c${this.Jc.wa()}, event ${this.Eq}:`,"font-size: 1.2em; font-weight: bold;",e),self.Mg&&self.Mg.r9(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*fb(e){e.hg(this);if(this.Fn()||this.g.hc())yield this;
this.ma(e)}ee(){return!this.Fn()&&!this.g.hc()}static JY(){return b}static S1(){b=!0}}}
{"use strict";const f=self.B;f.$r=class extends f.ba{constructor(a,b,e){super();this.Jc=a;this.g=a.G();this.oc=b;const c=e[1];this.zz=c[0];this.ol=c[1];this.vg=c[2].map(h=>f.Iw.Ja(a,this,h));this.Ci=c[3];this.FG=[];this.Bu=c[4];this.qaa=0;this.cu=-1;this.Pt=new Map;this.Ed=f.kk.Ja(a,b,e);this.Ed.v9(this)}static Ja(a,b,e){return f.j(f.$r,a,b,e)}Fb(){for(const a of this.vg)a.Fb();this.Ed.Fb(!1)}sO(){return this.vg}W7(a){this.FG.push(a)}dX(a){const b=this.vg;for(let e=0,c=b.length;e<c;++e)b[e].ne(a[e].U(0))}Vs(a){const b=
this.vg;for(let e=0,c=b.length;e<c;++e)b[e].ne(a[e])}iV(){return this.vg.map(a=>a.hd())}Aa(){return this.oc}zp(){return this.oc}Wh(){return this.Ci}ls(){switch(this.ol){case 0:return null;case 2:return"";default:return 0}}he(){return this.Ed}eg(){return this.Bu}ZD(){const a=this.qaa++;this.cu=a;let b;const e=new Promise(c=>b=c);this.Pt.set(a,{resolve:b,nJ:0});return[a,e]}Gs(a){const b=this.Pt.get(a);0===b.nJ&&(b.resolve(),this.Pt.delete(a));this.cu=-1}r0(){this.Pt.get(this.cu).nJ++;return this.cu}i1(a){this.cu=
a;this.Pt.get(a).nJ--}}}
{"use strict";const f=self.B,a=[];f.Iw=class extends f.ba{constructor(b,e,c){super();const h=b.fa();this.Jc=b;this.oa=h;this.g=b.G();this.oc=e;this.cd=h.cd;this.Da=c[1];this.ta=c[2];this.Co=c[3];this.qh=!!c[4];this.mb=!!c[5];this.baa=e instanceof f.$r;this.bb=c[6];this.Lu=this.g.Th(c[8]);this.Eaa=m=>this.ne(m);this.Caa=()=>this.hd();this.gR=!this.oc||this.qh||this.mb;this.pc=this.Co;this.rH=-1;this.rL()&&(this.pc=this.pc?1:0);!this.hD()||this.qh||this.mb||(this.rH=h.I5(this));h.T7(this)}static Ja(b,
e,c){return f.j(f.Iw,b,e,c)}Fb(){if(this.hD()&&!this.qh&&!this.mb&&!this.baa){const b=this.oa.jC(this);b&&b.W7(this)}}wa(){return this.Da}Th(){return this.Lu}Aa(){return this.oc}zp(){return this.Aa()}Bf(){return!this.Aa()}hD(){return!this.Bf()}Tl(){return 0===this.ta}Yh(){return 1===this.ta}rL(){return 2===this.ta}wx(){return!1}fd(){return a}ma(){!this.hD()||this.qh||this.mb||this.ne(this.Co)}ee(){return!0}*fb(b){this.ma(b)}ne(b){this.Tl()?"number"!==typeof b&&(b=parseFloat(b)):this.Yh()?"string"!==
typeof b&&(b=b.toString()):this.rL()&&(b=b?1:0);this.gR?this.pc=b:this.cd.up()[this.rH]=b}hd(){return this.gR?this.pc:this.cd.up()[this.rH]}g1(){this.pc=this.Co}HO(){return{configurable:!1,enumerable:!0,get:this.Caa,set:this.Eaa}}}}
{"use strict";const f=self.B,a=[];f.pK=class extends f.ba{constructor(b,e,c){super();const h=b.fa();this.Jc=b;this.oa=h;this.g=b.G();this.oc=e;this.yu=null;this.W$=c[1];this.zb=!0}static Ja(b,e,c){return f.j(f.pK,b,e,c)}Fb(){this.yu=this.oa.GK(this.W$);this.Jc.z3(this);let b=this.Aa();for(;b;)b instanceof f.kk&&b.Di&&b.r3(this),b=b.Aa();this.uN();this.g.ub&&this.Jc.Ii.children.push(this.yu.Ii)}Aa(){return this.oc}fd(){return a}ma(){const b=!!this.Aa(),e=this.g.Dc;b&&this.oa.fg(e);this.yu.ma();b&&
this.oa.Db(e)}*fb(){const b=!!this.Aa(),e=this.g.Dc;b&&this.oa.fg(e);yield*this.yu.fb();b&&this.oa.Db(e)}ee(){return!1}uN(){let b=this.Aa();for(;b;){if(b instanceof f.kk&&b.Di&&!b.Es()){this.zb=!1;return}b=b.Aa()}this.zb=!0}}}
{"use strict";const f=self.B;f.nn=class extends f.ba{constructor(l){super();this.Pb=l;this.g=l.G()}Fb(){}static EV(l,n){return f.j([m,c,h,g,a,b][n[0]],l,n)}};class a extends f.nn{constructor(l,n){super(l);this.nd=this.g.us();this.Ea=this.g.Tg(n[1]);this.Ea!==f.K.Eb.$f.random&&this.Ea!==f.K.Eb.$f.eba||this.Pb.VD()}qC(){return this.nd.Aj(this.Ea,this.nd)}}class b extends f.nn{constructor(l,n){super(l);this.Nq=null;this.zz=n[1];this.Pb.VD()}Fb(){const l=this.g.fa();this.Nq=l.Uw(this.zz);this.zz=null;
const n=this.Nq.he();this.Rk=[...new Set([...this.Pb.he().gd(),...n.gd()])];this.Rk=l.jy(this.Rk)}qC(){const l=this.Nq;if(l.Wh())return f.kk.prototype.AD.bind(l.he(),this.Rk,l.ol,l.ls());{const n=l.ls();return()=>n}}}function e(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends f.nn{constructor(l,n){super(l);this.I=this.g.Ke(n[1]);this.Ea=this.g.Tg(n[2]);this.EA=!!n[3];this.vd=this.g.fa().Sc();this.Pb.QE(this.I)}qC(){return this.I.pb().Aj(this.Ea,this.I.ij().ka)}iX(){const l=
this.I,n=l.N().HK();var p=n.length;if(0===p)return this.EA?"":0;p=e(this.Pb.nv,p);this.vd.Je().M1(l);return this.Ea.apply(n[p].ka,[])}}class h extends f.nn{constructor(l,n){super(l);this.I=this.g.Ke(n[1]);this.Oaa=n[3];this.EA=!!n[2];this.Pb.QE(this.I)}hX(){const l=this.I.N().HK();var n=l.length;if(0===n)return this.EA?"":0;n=e(this.Pb.nv,n);return l[n].E5(this.Oaa)}}class m extends f.nn{constructor(l,n){super(l);this.I=this.g.Ke(n[1]);this.Fc=this.I.Mw(n[2]);this.ni=this.I.ds(n[2]);this.Ea=this.g.Tg(n[3]);
this.EA=!!n[4];this.vd=this.g.fa().Sc();this.Pb.QE(this.I)}}class g extends f.nn{constructor(l,n){super(l);this.lu=null;this.hG=n[1]}Fb(){this.lu=this.g.fa().zC(this.hG)}}}
{"use strict";const f=self.B;f.ke=class extends f.ba{constructor(A,G,z){super();this.Pb=A;this.Ia=z;this.ta=G;this.U=null;this.mb=this.Ee=!1}static Ja(A,G,z){const F=G[0];return f.j([b,e,p,h,g,c,l,b,h,h,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Fb(){}VD(){this.Ee=!0}QE(A){this.Ee||!A||A.pb().om||(this.Ee=!0)}Ba(){return this.Ia}G(){return this.Pb.G()}he(){return this.Pb.he()}};function a(A){A=self.$U[A];if(!A)throw Error("invalid expression number");return A}class b extends f.ke{constructor(A,G,z,F){super(A,
G,z);this.nv=0;A=F[1];this.jG=A[0];this.$q=[];this.pz=null;for(let H=1,J=A.length;H<J;++H)this.$q.push(f.nn.EV(this,A[H]));this.$q.length?this.U=this.MX:(this.U=a(this.jG),this.mb=!0)}ry(){if(0>=this.$q.length)throw new RangeError("invalid numbered node");return this.$q[0]}Fb(){for(var A of this.$q)A.Fb();A=a(this.jG);this.pz=this.$q.length?A(this):A}MX(A){this.nv=A;return this.pz()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.U=this.BY;14===G&&(this.he().x1(),this.Pb instanceof f.gw&&
this.he().$s())}BY(A){this.nv=A;A=this.pz();return"string"===typeof A?A:""}B5(){return a(this.jG)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.U=this.X;this.mb=!1}X(A){this.nv=A;A=this.pz();return this.G().Qa().X(A)}}class h extends f.ke{constructor(A,G,z,F){super(A,G,z);this.I$=F[1];this.U=this.DX;this.mb=!0}DX(){return this.I$}}class m extends f.ke{constructor(A,G,z,F){super(A,G,z);this.u$=F[1];this.U=this.BX;this.mb=!0}BX(){return this.u$}}class g extends f.ke{constructor(A,G,
z,F){super(A,G,z);this.I=this.G().Ke(F[1]);this.U=this.F;A=this.he();A.LN(this.I);this.Pb instanceof f.gw?A.$s():A.Aa()&&A.Aa().$s();this.mb=!0}F(){return this.I}}class l extends f.ke{constructor(A,G,z,F){super(A,G,z);this.xg=this.G().$a.wp(F[1]);this.U=this.Tb;this.mb=!0}Tb(){return this.xg}}class n extends f.ke{constructor(A,G,z,F){super(A,G,z);this.Dh=this.G().xb.jx(F[1]);this.U=this.ob;this.mb=!0}ob(){return this.Dh}}class p extends f.ke{constructor(A,G,z,F){super(A,G,z);this.S$=F[1];this.U=this.PX;
this.mb=!0}PX(){return this.S$}}class q extends f.ke{constructor(A,G,z,F){super(A,G,z);this.rR=F[1];(A=this.Pb.F())&&A.Ua?(this.U=this.NX,this.VD()):(this.U=this.aY,this.mb=!0)}aY(){return this.rR}NX(A){A=A||0;const G=this.Pb.F();var z=G.N();const F=z.ga();if(F.length)A=F[A%F.length].F();else if(z.NY())z=z.kc,A=z[A%z.length].F();else if(0<G.D.length)z=G.ga(),A=z[A%z.length].F();else return 0;return this.rR+A.IK(G.xi)}}class u extends f.ke{constructor(A,G,z,F){super(A,G,z);this.hG=F[1];this.lu=null;
this.U=this.LX;this.mb=!0}Fb(){this.lu=this.G().fa().zC(this.hG)}LX(){return this.lu}}class w extends f.ke{constructor(A,G,z,F){super(A,G,z);this.UQ=F[1];this.Nq=null;this.U=this.VX;this.mb=!0}Fb(){this.Nq=this.G().fa().Uw(this.UQ);this.UQ=null}VX(){return this.Nq}}class r extends f.ke{constructor(A,G,z,F){super(A,G,z);this.gI=[];this.OS=[];this.mb=!0;for(let H=1,J=F.length;H<J;++H)A=f.ke.Ja(this.Pb,F[H],0),this.gI.push(A),this.OS.push(0),A.mb||(this.mb=!1);this.U=this.HY}Fb(){for(const A of this.gI)A.Fb()}HY(){const A=
this.gI,G=this.OS;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].U(0);return G}}class v extends f.ke{constructor(A,G,z,F){super(A,G,z);this.O$=F[1];this.U=this.Ll;this.mb=!0}Ll(){return this.O$}}class y extends f.ke{constructor(A,G,z,F){super(A,G,z);this.A$=F[1];this.U=this.EY;this.mb=!0}EY(){return this.A$}}}
{"use strict";const f=self.B;function a(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].U(0)}const b=[],e=function(){};f.YJ=class extends f.ba{constructor(c,h,m){super();this.Ed=c;this.g=c.G();this.Ia=m;this.Ea=this.g.Tg(h[1]);this.$G=0<h[3];this.vR=2===h[3];this.Uz=!!h[4];this.Ei=!!h[5];this.qh=!!h[6];this.bb=h[7];this.wR=this.Ed.Fd;this.Fc=this.I=null;this.ni=-1;this.nd=null;this.fb=this.ma=e;this.Fa=[];this.nb=[];this.Mk=!1;this.Eh=this.wb=null;this.La=this.g.ub?{Qc:h[8][0],kf:h[8][1]}:null;-1===
h[0]?this.nd=this.g.us():(this.I=this.g.Ke(h[0]),h[2]&&(this.Fc=this.I.Mw(h[2]),this.ni=this.I.ds(h[2])),this.Ed.Aa()&&this.Ed.Aa().$s());if(10===h.length){c=h[9];for(let g of c)this.Fa.push(f.ke.Ja(this,g,this.Fa.length)),this.nb.push(0)}0===this.Fa.length&&(this.nb=this.Fa=b);this.Ed.fa().R7(this)}static Ja(c,h,m){return f.j(f.YJ,c,h,m)}Fb(){for(const c of this.Fa)c.Fb(),c.Ee&&(this.Mk=!0);this.vR?(this.ma=this.p8,this.fb=this.y4):this.nd?(this.fF(),this.fb=this.sE):this.I.pb().om?(this.eF(),this.fb=
this.rE):this.qh?(this.ma=this.w8,this.fb=this.F4):(this.ma=this.IP,this.fb=this.z4)}fF(){this.Gt(this.nd,this.nd,this.YE)}eF(){const c=this.I.pb(),h=this.I.ij().ka;this.Gt(c,h,this.XE)}Gt(c,h,m){const g=this.Ea,l=this.Ei,n=this.Fa;if(0===n.length){const p=c.Aj(g,h);this.ma=l?function(){return f.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.mb)this.ma=c.uO(g,h,p.U(0));else{const q=c.Aj(g,h);this.ma=function(){return f.xor(q(p.U(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.mb&&q.mb)this.ma=c.vO(g,h,p.U(0),q.U(0));else{const u=c.Aj(g,h);this.ma=function(){return f.xor(u(p.U(0),q.U(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.mb&&q.mb&&u.mb)this.ma=c.wO(g,h,p.U(0),q.U(0),u.U(0));else{const w=c.Aj(g,h);this.ma=function(){return f.xor(w(p.U(0),q.U(0),u.U(0)),l)}}}else this.ma=m}F(){return this.I}bg(){return this.Fc}he(){return this.Ed}G(){return this.g}Ba(){return this.Ia}CK(){return this.Ba()}Jn(){return this.$G}ee(){return!this.La.Qc&&!this.g.hc()&&
!this.La.kf}hj(){this.wb||(this.wb=new Map);return this.wb}xs(){this.Eh||(this.Eh=new Map);return this.Eh}YE(){const c=this.nb;a(this.Fa,c);return f.xor(this.Ea.apply(this.nd,c),this.Ei)}*sE(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){var c=this.nb;a(this.Fa,c);c=this.Ea.apply(this.nd,c);f.Sl(c)&&(c=yield*c);return f.xor(c,this.Ei)}return this.ma()}XE(){const c=this.nb;a(this.Fa,c);const h=this.I.ij().ka;return f.xor(this.Ea.apply(h,c),this.Ei)}*rE(){if(this.La.Qc||this.g.hc())yield this;
if(this.La.kf){var c=this.nb;a(this.Fa,c);const h=this.I.ij().ka;c=this.Ea.apply(h,c);f.Sl(c)&&(c=yield*c);return f.xor(c,this.Ei)}return this.ma()}p8(){return!0}*y4(){if(this.La.Qc||this.g.hc())yield this;return!0}w8(){var c=this.nb;a(this.Fa,c);c=this.Ea.apply(this.Fc||this.I,c);this.I.mc();return c}*F4(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){var c=this.nb;a(this.Fa,c);c=this.Ea.apply(this.Fc||this.I,c);f.Sl(c)&&(c=yield*c);this.I.mc();return c}return this.ma()}IP(){const c=this.Fa,
h=this.nb,m=this.I.N();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Ee||(h[g]=n.U(0))}return m.Rb?this.q8(m):this.r8(m)}*z4(){if(this.La.Qc||this.g.hc())yield this;return this.IP()}BE(c){const h=this.Fa,m=this.nb;for(let g=0,l=h.length;g<l;++g){const n=h[g];n.Ee&&(m[g]=n.U(c))}}q8(c){const h=this.I,m=h.Ua,g=h.xi,l=this.ni,n=0<=l,p=h.ga(),q=this.Mk,u=this.nb,w=this.Ea,r=this.Ei,v=this.wR&&!this.$G;c.uw();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.BE(A);var y=void 0;n?(y=m?z.F().pn(g):0,
y=w.apply(z.Ec[l+y].ka,u)):y=w.apply(z.ka,u);f.xor(y,r)?c.Ct(z):v&&c.co(z)}h.Zr(!0);c.se(!1);h.mc();return c.kL()}r8(c){const h=this.I;var m=h.Ua;const g=h.xi,l=h.Mb(),n=this.ni,p=0<=n,q=this.Mk,u=this.nb,w=this.Ea,r=this.Ei,v=this.wR&&!this.$G,y=c.D,A=c.kc,G=v&&!this.Ed.c_(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.BE(M);var J=void 0;p?(J=m?R.F().pn(g):0,J=w.apply(R.Ec[n+J].ka,u)):J=w.apply(R.ka,u);f.xor(J,r)?(H=!0,G?(y.push(R),l&&R.N7()):(z[F]=R,l&&R.x9(F),++F)):
G?(z[F]=R,l&&R.w9(F),++F):v&&(A.push(R),l&&R.M7())}f.Ge(z,F);l&&h.S9(G,F);m=H;G&&!H&&(H=this.E7(y));h.Zr(m||v);return v?H:c.kL()}E7(c){var h=this.I;const m=h.Ua;h=h.xi;const g=this.Mk,l=this.ni,n=0<=l,p=this.nb,q=this.Ea,u=this.Ei;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.BE(r);if(n){const y=m?w.F().pn(h):0;w=q.apply(w.Ec[l+y].ka,p)}else w=q.apply(w.ka,p);if(f.xor(w,u))return!0}return!1}Os(c,h){return this.Fa[c].U(h)}OX(){const c=this.Fa;if(!c.length)throw Error("no parameters");return c[0].B5()}ca(){if(!this.wb||
!this.wb.size)return null;const c={};for(const [h,m]of this.wb.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(l=>[l[0].Oc,l[1].Oc,l[2]]));c[h]=g}return{ex:c}}ja(c){this.wb&&(this.wb.clear(),this.wb=null);if(c){var h=this.g,m=c.ex;if(m){c=this.hj();c.clear();for(const [g,l]of Object.entries(m))m=l,"collmemory"===g&&(m=f.j(f.Js,l.map(n=>[h.bj(n[0]),h.bj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const f=self.B;function a(h,m){for(let g=0,l=h.length;g<l;++g)m[g]=h[g].U(0)}const b=[],e=function(){},c=function*(){};f.gw=class extends f.ba{constructor(h,m,g){super();this.Ed=h;this.g=h=h.G();this.Ia=g;this.bb=4<=m.length?m[3]:-1;this.Ly=5<=m.length?m[4]:0;this.Fc=this.I=this.Ea=null;this.ni=-1;this.nd=null;this.Yy="";this.Rk=this.Xy=null;this.fb=this.ma=e;this.Fa=[];this.nb=[];this.Mk=!1;this.Eh=this.wb=null;const l=(g=-3===m[0])?m[2]:m[5];this.La=h.ub||g?{Qc:l[0],kf:l[1],index:l[2]}:
null;-1===m[0]?(this.nd=h.us(),this.Ea=h.Tg(m[1])):-2===m[0]?this.Yy=m[1]:g?(this.Ea=h.Tg(m[1]),this.ma=this.BD,this.fb=this.PV,this.Ly=1):(this.Ea=h.Tg(m[1]),this.I=h.Ke(m[0]),m[2]&&(this.Fc=this.I.Mw(m[2]),this.ni=this.I.ds(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Fa.push(f.ke.Ja(this,n,this.Fa.length)),this.nb.push(0)}0===this.Fa.length&&(this.nb=this.Fa=b);this.Ed.fa().Q7(this)}static Ja(h,m,g){return f.j(f.gw,h,m,g)}Fb(){for(var h of this.Fa)h.Fb(),h.Ee&&(this.Mk=!0);if(this.nd)this.fF(),
this.fb=this.sE;else if(this.Yy)this.X8(),this.Yy="";else if(this.ma===this.BD){h=this.Ea;const m=this.g.fa().DO(this.Ed);this.Ea=h.bind(null,this.g.Ai,m)}else this.Fc?this.eg()?(this.ma=this.GP,this.fb=this.v4):(this.ma=this.FP,this.fb=this.u4):this.I.pb().om?(this.eF(),this.fb=this.rE):this.eg()?(this.ma=this.KP,this.fb=this.B4):this.Fa.length?this.Fa.every(m=>m.Ee)?(this.ma=this.JP,this.fb=this.A4):this.Mk?(this.ma=this.MP,this.fb=this.D4):this.Fa.every(m=>m.mb)?(a(this.Fa,this.nb),this.ma=this.WE,
this.fb=this.aO):(this.ma=this.LP,this.fb=this.C4):(this.ma=this.WE,this.fb=this.aO)}fF(){this.Gt(this.nd,this.nd,this.YE)}eF(){const h=this.I.pb(),m=this.I.ij().ka;this.Gt(h,m,this.XE)}X8(){const h=this.Ed.fa(),m=h.Uw(this.Yy);m.Wh()?(this.Xy=m.he(),this.Rk=[...new Set([...this.Ed.gd(),...this.Xy.gd()])],this.Rk=h.jy(this.Rk),this.ma=f.kk.prototype.j1.bind(this.Xy,this.Rk,this.Fa),this.fb=this.w4):(this.ma=e,this.fb=c)}Gt(h,m,g){const l=this.Ea,n=this.Fa;if(0===n.length)this.ma=h.Aj(l,m);else if(1===
n.length){const p=n[0];if(p.mb)this.ma=h.uO(l,m,p.U(0));else{const q=h.Aj(l,m);this.ma=function(){return q(p.U(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.mb&&q.mb)this.ma=h.vO(l,m,p.U(0),q.U(0));else{const u=h.Aj(l,m);this.ma=function(){return u(p.U(0),q.U(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.mb&&q.mb&&u.mb)this.ma=h.wO(l,m,p.U(0),q.U(0),u.U(0));else{const w=h.Aj(l,m);this.ma=function(){return w(p.U(0),q.U(0),u.U(0))}}}else this.ma=g}eg(){return 1===this.Ly}QJ(){return 2===
this.Ly}WY(){return 0!==this.Ly}F(){return this.I}he(){return this.Ed}G(){return this.g}Ba(){return this.Ia}CK(){return this.La.index}ee(){return!this.La.Qc&&!this.g.hc()&&!this.La.kf}hj(){this.wb||(this.wb=new Map);return this.wb}xs(){this.Eh||(this.Eh=new Map);return this.Eh}YE(){const h=this.nb;a(this.Fa,h);return this.Ea.apply(this.nd,h)}*sE(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){const h=this.nb;a(this.Fa,h);return yield*this.Ea.apply(this.nd,h)}return this.ma()}*w4(){if(this.La.Qc||
this.g.hc())yield this;return yield*this.Xy.KV(this.Rk,this.Fa)}XE(){const h=this.nb;a(this.Fa,h);return this.Ea.apply(this.I.ij().ka,h)}*rE(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){const h=this.nb;a(this.Fa,h);return yield*this.Ea.apply(this.I.ij().ka,h)}return this.ma()}WE(){const h=this.nb,m=this.I.N().ga();for(let g=0,l=m.length;g<l;++g)this.Ea.apply(m[g].ka,h)}*aO(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){const h=this.nb,m=this.I.N().ga();for(let g=0,l=m.length;g<l;++g)yield*this.Ea.apply(m[g].ka,
h)}else this.WE()}LP(){const h=this.nb;a(this.Fa,h);const m=this.I.N().ga();for(let g=0,l=m.length;g<l;++g)this.Ea.apply(m[g].ka,h)}*C4(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){const h=this.nb;a(this.Fa,h);const m=this.I.N().ga();for(let g=0,l=m.length;g<l;++g)yield*this.Ea.apply(m[g].ka,h)}else this.LP()}JP(){const h=this.Fa,m=this.nb,g=this.Ea,l=this.I.N().ga();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].U(n);g.apply(q.ka,m)}}*A4(){if(this.La.Qc||
this.g.hc())yield this;if(this.La.kf){const h=this.Fa,m=this.nb,g=this.Ea,l=this.I.N().ga();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].U(n);yield*g.apply(q.ka,m)}}else this.JP()}MP(){const h=this.Fa,m=this.nb,g=this.Ea,l=this.I.N().ga();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.Ee||(m[p]=n.U(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.Ee&&(m[u]=r.U(p))}g.apply(n.ka,m)}}*D4(){if(this.La.Qc||this.g.hc())yield this;
if(this.La.kf){const m=this.Fa,g=this.nb,l=this.Ea,n=this.I.N().ga();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.Ee||(g[p]=h.U(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Ee&&(g[u]=r.U(p))}yield*l.apply(h.ka,g)}}else this.MP()}FP(){var h=this.I;const m=h.Ua,g=h.xi,l=this.Fa,n=this.Mk,p=this.nb,q=this.Ea,u=this.ni;h=h.N().ga();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Ee||(p[v]=w.U(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Ee&&(p[A]=r.U(v))}r=m?w.F().pn(g):0;q.apply(w.Ec[u+r].ka,p)}}*u4(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){var h=this.I;const l=h.Ua,n=h.xi,p=this.Fa,q=this.Mk,u=this.nb,w=this.Ea,r=this.ni;h=h.N().ga();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Ee||(u[v]=m.U(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.Ee&&(u[A]=g.U(v))}g=l?m.F().pn(n):0;yield*w.apply(m.Ec[r+g].ka,u)}}else this.FP()}KP(){const h=this.Fa,m=this.nb,
g=this.Ea,l=this.I.N().ga(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].U(p);n.push(g.apply(u.ka,m))}return Promise.all(n)}*B4(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){const h=this.Fa,m=this.nb,g=this.Ea,l=this.I.N().ga(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].U(p);n.push(yield*g.apply(u.ka,m))}return Promise.all(n)}return this.KP()}GP(){var h=this.I;const m=h.Ua,g=h.xi,l=this.Fa,n=this.nb,
p=this.Ea,q=this.ni;h=h.N().ga();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].U(w);const y=m?v.F().pn(g):0;u.push(p.apply(v.Ec[q+y].ka,n))}return Promise.all(u)}*v4(){if(this.La.Qc||this.g.hc())yield this;if(this.La.kf){var h=this.I;const m=h.Ua,g=h.xi,l=this.Fa,n=this.nb,p=this.Ea,q=this.ni;h=h.N().ga();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].U(w);const y=m?v.F().pn(g):0;u.push(yield*p.apply(v.Ec[q+
y].ka,n))}return Promise.all(u)}return this.GP()}async BD(){try{await this.Ea()}catch(h){console.error(`Unhandled exception running script %c${this.Ed.Jc.wa()}, event ${this.Ed.Eq}, action ${this.CK()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.Mg&&self.Mg.r9(this),f.Hw.JY()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),f.Hw.S1())}}*PV(){if(this.La.Qc||
this.g.hc())yield this;return this.BD()}ca(){return this.wb&&this.wb.size?{ex:f.eE(this.wb)}:null}ja(h){this.wb&&(this.wb.clear(),this.wb=null);h&&(h=h.ex)&&(this.wb=f.kC(h))}}}
{"use strict";const f=self.B,a=new f.Xa;function b(L,O){return f.compare(this.m().qa(),L,O)}function e(L,O){return f.compare(this.m().ra(),L,O)}function c(){const L=this.m(),O=L.X();return O.Bp()?L.Fp(O.jq()):L.yL(O.Tf,L.Tb().nL(),L.Tb().Ye)}function h(){var L=this.m();const O=L.Tb();L=L.Rc();return 0>L.da||0>L.Y||L.S>O.$()||L.M>O.Z()}function m(L,O,U){const aa=this.N(),ha=aa.ga();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=f.kT(ja.qa(),ja.ra(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=f.kT(ja.qa(),ja.ra(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Ul(ua);return!0}function g(L){const O=this.m();O.qa()!==L&&(O.ah(L),O.Na())}function l(L){const O=this.m();O.ra()!==L&&(O.bh(L),O.Na())}function n(L,O){const U=this.m();U.bX(L,O)||(U.Ek(L,O),U.Na())}function p(L,O){if(L&&(L=L.sY(this.ia))){var [U,aa]=L.tn(O);O=this.m();if(O.qa()!==U||O.ra()!==aa)O.Ek(U,aa),O.Na()}}function q(L){if(0!==L){var O=this.m();O.Gx(O.tC()*L,O.IC()*L);O.Na()}}function u(L,
O){if(0!==O){var U=this.m();L=f.sb(L);U.Gx(Math.cos(L)*O,Math.sin(L)*O);U.Na()}}function w(){return this.m().qa()}function r(){return this.m().ra()}function v(){return this.g.wC(this.ia)}function y(L,O){return f.compare(this.m().$(),L,O)}function A(L,O){return f.compare(this.m().Z(),L,O)}function G(L){const O=this.m();O.$()!==L&&(O.fi(L),O.Na())}function z(L){const O=this.m();O.Z()!==L&&(O.ai(L),O.Na())}function F(L,O){const U=this.m();if(U.$()!==L||U.Z()!==O)U.bd(L,O),U.Na()}function H(){return this.m().$()}
function J(){return this.m().Z()}function M(){return this.m().Rc().S}function P(){return this.m().Rc().M}function R(){return this.m().Rc().da}function T(){return this.m().Rc().Y}function Z(L,O){return f.Dr(this.m().Oa(),f.sb(O))<=f.sb(L)}function X(L){return f.jf(this.m().Oa(),f.sb(L))}function ba(L,O){L=f.sb(L);O=f.sb(O);const U=this.m().Oa();return f.jf(O,L)?f.jf(U,L)&&!f.jf(U,O):!(!f.jf(U,L)&&f.jf(U,O))}function Y(L){const O=this.m();L=f.ae(f.sb(L));isNaN(L)||O.Oa()===L||(O.rd(L),O.Na())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.rd(O.Oa()+f.sb(L));O.Na()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.rd(O.Oa()-f.sb(L));O.Na()}}function ya(L,O){const U=this.m(),aa=U.Oa();L=f.FI(aa,f.sb(O),f.sb(L));isNaN(L)||aa===L||(U.rd(L),U.Na())}function Na(L,O,U){const aa=this.m(),ha=aa.Oa();O-=aa.qa();U-=aa.ra();L=f.FI(ha,Math.atan2(U,O),f.sb(L));isNaN(L)||ha===L||(aa.rd(L),aa.Na())}function Sa(L,O){const U=this.m(),aa=U.Oa();L-=U.qa();O-=U.ra();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.rd(O),U.Na())}function Ta(){return f.fk(this.m().Oa())}
function Ua(L,O){return f.compare(f.RT(100*this.m().je()),L,O)}function Wa(){return this.m().Bc()}function eb(L){const O=this.m();L=2===L?!O.Bc():0!==L;O.Bc()!==L&&(O.ei(L),this.g.W())}function fb(L){L=f.ea(L/100,0,1);const O=this.m();O.je()!==L&&(O.Dk(L),this.g.W())}function Pa(L){a.Nr(L);L=this.m();L.Za.Bl(a)||(L.hN(a),this.g.W())}function Va(){const L=this.m().Za;return f.Ix(L.Pa,L.Ta,L.Sa,L.Ra)}function ib(){return f.RT(100*this.m().je())}function Ya(L){return L?this.m().X()===L:!1}function vb(L){const O=
this.N(),U=O.ga();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.X().Ba(),Ga=ka.X().Ba();if(0===L){if(wa>Ga||wa===Ga&&ua.Xg()>ka.Xg())aa=ja}else if(wa<Ga||wa===Ga&&ua.Xg()<ka.Xg())aa=ja}O.Ul(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.Ya():aa.zf();return f.compare(L,O,U)}function jb(){this.m().o3()}function xb(){this.m().m3()}function yb(L){L&&this.m().n3(L)}function zb(L,O){L=0===L;O&&(O=O.KK(this.ya()))&&this.m().l3(O,
L)}function Ab(L){const O=this.m();O.Ya()!==L&&(O.Qe(L),this.g.W())}function Bb(){return this.m().X().Ba()}function Cb(){return this.m().X().wa()}function Db(){return this.m().Xg()}function kb(){return this.m().Ya()}function Eb(){return this.m().zf()}function Fb(L,O){if(O=this.F().Ha.pk(O)){O=O.Ba();L=1===L;var U=this.m().Lf;U.Ds(O)!==L&&(U.LM(O,L),U.eh(),this.g.W())}}function Gb(L,O,U){var aa=this.F().Ha.pk(L);if(aa){L=aa.Ba();var ha=this.m().Lf,fa=ha.nk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.xf().$w(O);if("color"===aa){a.Nr(U);O=fa[O];if(a.Bl(O))return;O.Oi(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Ds(L)&&this.g.W()}}}const lb=f.j(f.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Oc<U.Oc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Oc<U.Oc?L.kn(O,U):L.kn(U,O)}function qa(L,O,U){return O.Oc<U.Oc?L.U(O,U):L.U(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.ya();const ha=0!==U||0!==aa,fa=L.m(),ja=L.G(),ua=ja.no;var ka=ja.rf();
const wa=ka.he().Fd;var Ga=ka.F();ka=ka.Ei;const Ia=O.N();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Rb?(lb.la(fa.Rc()),lb.offset(U,aa),ua.sC(fa.X(),O,lb,mb),O=mb):wa?ja.a_()&&!Ia.kc.length&&Ia.D.length?O=Ia.D:(O=Ia.kc,ob=!0):O=Ia.D;ha&&(db=fa.qa(),Ha=fa.ra(),fa.Gx(U,aa),fa.Na());for(const da of O)if(ua.cE(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Ek(db,Ha),fa.Na());f.C(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Cb().Fd;O=Za.N();const U=O.D,aa=O.kc;O.Rb?(O.Zs(Qa),L&&(f.C(aa),
O.GJ(Qa,Za.ga()))):L?ob?O.M2(Qa):(O.GJ(Qa,U),O.Zs(Qa)):O.Zs(Qa);Za.mc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.Ud)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.no,aa=O.fa(),ha=aa.Sc();var fa=aa.rf();const ja=fa.F();var ua=fa.hj(),ka=fa.xs();fa=ha.Je();const wa=O.Uj,Ga=wa-1,Ia=fa.Cb(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.Js),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Sb().addEventListener("instancedestroy",
Ra=>{Ha.kK(Ra.instance)}));O=L.N();ua=ja.N().ga();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Rb?(U.sC(Ea.m().X(),L,Ea.m().Rc(),Xa),ka=Xa,U.JJ(Ea,L,ka)):ka=O.ga();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.cE(Ea,La)||U.TJ(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.fd(),aa.le(ma),na=ja.N(),da=L.N(),na.se(!1),da.se(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.mc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.mc(),L.mc()),Ia.gg(fa,db),aa.Db(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Ga();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.no,aa=O.fa(),ha=aa.Sc();var fa=aa.rf();const ja=fa.F();var ua=fa.hj(),ka=fa.xs();fa=ha.Je();const wa=O.Uj,Ga=wa-1,Ia=fa.Cb(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.Js),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Sb().addEventListener("instancedestroy",Ra=>
{Ha.kK(Ra.instance)}));O=L.N();ua=ja.N().ga();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Rb?(U.sC(Ea.m().X(),L,Ea.m().Rc(),Xa),ka=Xa,U.JJ(Ea,L,ka)):ka=O.ga();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.cE(Ea,La)||U.TJ(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.fd(),aa.le(ma),na=ja.N(),da=L.N(),na.se(!1),da.se(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.mc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.mc(),L.mc()),yield*Ia.Zf(fa,db),aa.Db(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Ga();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().mj()}function rb(){return this.m().Ne()}function sb(L,O){const U=this.N().ga();if(0===U.length)return!1;const aa=L.N();var ha=aa.ga();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Yv())wa.pp(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Aa(),null===ja)continue}else ja=ja.kx();ja.pp(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Zs(fa);L.mc();return!0}function tb(L,O){const U=this.N().ga();if(0===U.length)return!1;const aa=L.N();var ha=aa.ga();if(aa.Rb){var fa=[...this.g.ZI(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.Ne()&&ka.pp(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.bk())2===O&&wa.Ne()||wa.pp(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Zs(fa);L.mc();return!0}function ub(L,O){const U=this.N().ga();if(0===U.length)return!1;const aa=L.N();var ha=aa.ga();if(aa.Rb){var fa=[...this.g.ZI(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].rC(O);null!==ka&&ka.pp(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Rx(fa);L.mc();return!0}function gb(L,O){return f.compare(this.ia.Ow(),
L,O)}function d(L,O,U,aa,ha,fa,ja,ua){const ka=this.ia,wa=this.g.js().F();for(const Ga of L.YS(ka,wa)){if(!Ga.pb().DS)break;ka.Hl(Ga,{Qr:O,Rr:U,mp:aa,lp:ha,Pr:fa,Sr:ja,Lv:ua})}}function k(L){const O=this.ia,U=this.g.js().F();for(const aa of L.YS(O,U))O.rj(aa)}function t(){this.ia.mj()&&this.ia.Aa().rj(this.ia)}function x(){return this.ia.Ow()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Mx(),U.Na()):U.bC(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.m();ka.YM(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,fw:fa,iU:ja,lU:ua})&&ka.Na()}function E(){const L=this.m();return L.Af()?L.jj().Kj:0}function I(){const L=this.m();return L.Af()?L.jj().Xj:0}function K(L){const O=this.m();L=2===L?!O.Bc():0!==L;O.Bc()!==L&&O.ei(L)}function N(L,O){this.K1(L,O)}function Q(L,O){this.J1(L,""+O)}function S(L){this.R0(L)}function W(){this.uK()}function V(){this.MJ()}function ea(){return this.eG}function ia(L){this.Sja(0!==L)}function ca(){return this.Qja()}
function oa(L,O,U){return f.compare(this.ya().ie(L),O,U)}function la(L){return!!this.ya().ie(L)}function ra(L,O){const U=this.N(),aa=U.ga();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.ie(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.ie(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Ul(fa);return!0}function sa(L){if(this.g.rf().Ei){{const aa=this.N();if(aa.Rb){aa.se(!1);aa.uw();var O=this.ga();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Oc===L?aa.co(U):aa.Ct(U)}this.mc();
L=!!aa.D.length}else{O=aa.D;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Oc===L?aa.co(ja):++U}f.Ge(O,U);this.mc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().bj(O);if(!O)return!1;const U=L.N();if(!U.Rb&&!U.D.includes(O))return!1;if(L.Ua){if(O.F().RB(L))return U.Ul(O),L.mc(),!0}else if(O.F()===L)return U.Ul(O),L.mc(),!0;return!1}function za(){this.g.ln(this.ia)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.ya().Xl(L,O)}function Fa(L,
O){const U=this.ya(),aa=U.ie(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Xl(L,aa+O)}function Ja(L,O){const U=this.ya(),aa=U.ie(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Xl(L,aa-O))}function Ka(L,O){this.ya().Xl(L,O?1:0)}function Da(L){const O=this.ya();O.Xl(L,0===O.ie(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.ya();
L.vy("state");L.jd(O,"state")}function Ib(){return JSON.stringify(this.ya().qd("state"))}function nc(){return this.ya().F().wa()}function oc(){const L=this.g.Ie().kG;let O=L.D.length;for(const U of this.g.ZI(L))++O;return O}function pc(){return this.g.Ie().kG.N().ga().length}function qc(){return this.ia.rn()}function rc(){return this.ia.Oc}f.uU=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.ua,da=O.Yf,na=O.$f;L[3]&&(ma.Lda=
b,ma.Mda=e,ma.hfa=c,ma.ifa=h,ma.u0=m,da.ah=g,da.bh=l,da.f2=n,da.Lia=p,da.Ifa=q,da.Hfa=u,na.DN=w,na.EN=r,na.nT=v);aa&&(ma.Kda=y,ma.Dda=A,da.fi=G,da.ai=z,da.bd=F,na.Kja=H,na.vea=J,na.lda=M,na.nda=P,na.mda=R,na.kda=T);ha&&(ma.IU=Z,ma.YZ=X,ma.XZ=ba,da.rd=Y,da.Fha=va,da.Gha=ta,da.Hha=ya,da.Iha=Na,da.Nia=Sa,na.cda=Ta);fa&&(ma.Bc=Wa,ma.Fda=Ua,da.ei=eb,da.Dk=fb,da.cia=Pa,na.Opacity=ib,na.wda=Va);ja&&(ma.ffa=Ya,ma.xga=vb,ma.Nda=wb,da.Lfa=jb,da.Jfa=xb,da.Kfa=yb,da.Oja=zb,da.Qe=Ab,na.sfa=Bb,na.rfa=Cb,na.Nja=
Db,na.Mja=kb,na.qja=Eb);ua&&(da.dia=Fb,da.I1=Gb);Ia&&(ma.mj=Rb,ma.Ne=rb,ma.vga=sb,ma.pga=tb,ma.tga=ub,ma.Bda=gb,da.Hl=d,da.rj=k,da.Nga=t,na.uda=x);db&&(da.Hia=C,da.YM=D,na.Ffa=E,na.Gfa=I);ka&&(ma.Bc=Wa,da.ei=K,da.$ha=N,da.eia=Q,da.Mga=S);wa&&(ma.Zea=ea,da.hia=W,da.Xha=V);Ga&&(ma.Wh=ca,da.L1=ia);Ha&&(ma.Yfa=Nb,ma.g_=Pb,ma.jfa=Qb,O.nX=Mb);U||(ma.Eda=oa,ma.Pea=la,ma.qga=ra,ma.t0=sa,da.SM=Ca,da.$ca=Fa,da.kja=Ja,da.Yha=Ka,da.oja=Da,ma.c0=Aa,ma.d0=Ba,da.Sda=za,da.lD||(da.lD=Hb),na.PU||(na.PU=Ib),na.Oda=
oc,na.yga=pc,na.yea=qc,na.Q2=rc,na.Tfa=nc)}}
{"use strict";const f=self.B;f.DD=class extends f.ba{constructor(a){super();this.oa=a;this.ta="";this.Yc=-1;this.lv="";this.Yz=!1;this.vi=null;this.Ff=0;this.Be=[];this.Yo=new Map;this.Pk=null;this.Ot=-1;this.rG=this.vg=null;this.kv=!1}A(){this.ta="";this.Yc=-1;this.lv="";this.rG=this.vg=this.Pk=this.vi=null;this.Ot=-1;f.C(this.Be);for(const a of this.Yo.values())a.A();this.Yo.clear()}ng(){var a=this.oa,b=a.G().Dc;const e=a.Ie();this.vi=e.Cb();this.Ff=e.Ff+1;if(a=a.jC(this.vi))this.Pk=a,this.vg=a.iV(),
this.rG=a.FG.map(c=>c.hd()),a.eg()&&(this.Ot=a.r0());for(const c of b)if(b=c.N(),!b.Rb||this.vi.YY(c))this.Be.push(c),this.Yo.set(c,f.j(f.lN,b))}PZ(a){this.ta="timer";this.ng();this.Yc=this.oa.G().qn()+a}NZ(a){this.ta="signal";this.ng();this.lv=a.toLowerCase()}BZ(a){this.ta="promise";this.ng();a.then(()=>this.PD()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.PD()})}o_(){return"timer"===this.ta}m_(){return"signal"===this.ta}i_(){return"promise"===
this.ta}PD(){this.Yz=!0}aQ(){return this.o_()?this.Yc<=this.oa.G().qn():this.Yz}EP(a){a.VE(this.vi,this.Ff);for(const [b,e]of this.Yo.entries())e.VE(b.N());if(a=this.Pk)a.Vs(this.vg),a.FG.map((b,e)=>b.ne(this.rG[e])),a.eg()&&a.i1(this.Ot)}m8(a){this.EP(a);this.vi.l8(a);this.Pk&&this.Pk.eg()&&this.Pk.Gs(this.Ot);this.oa.rp(this.Be);this.kv=!0}async r4(a){this.EP(a);for(const b of this.vi.q4(a))await this.oa.G().sp(b);this.Pk&&this.Pk.eg()&&this.Pk.Gs(this.Ot);this.oa.rp(this.Be);this.kv=!0}Pn(a){for(const b of this.Yo.values())b.Pn(a)}ca(){const a=
{},b={t:this.Yc,st:this.lv,s:this.Yz,ev:this.vi.bb,sm:this.Be.map(e=>e.bb),sols:a};this.vi.V5(this.Ff)&&(b.act=this.vi.xK(this.Ff).bb);for(const [e,c]of this.Yo)a[e.bb.toString()]=c.ca();return b}static W3(a,b){const e=a.G();var c=a.JX(b.ev);if(!c)return null;let h=0;if(b.hasOwnProperty("act")){var m=a.tX(b.act);if(!m)return null;h=m.Ba()}m=f.j(f.DD,a);m.Yc=b.t;m.ta=-1===m.Yc?"signal":"timer";m.lv=b.st;m.Yz=b.s;m.vi=c;m.Ff=h;for(var g of b.sm)(c=e.Zw(g))&&m.Be.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.Zw(parseInt(l,10)))g=f.j(f.lN,null),g.ja(a,n),m.Yo.set(b,g);return m}}}{"use strict";const f=self.B;f.lN=class extends f.ba{constructor(a){super();this.I=null;this.Xz=!0;this.D=[];a&&(this.I=a.F(),this.Xz=a.Rb,f.zc(this.D,a.D))}A(){this.I=null;f.C(this.D)}VE(a){a.se(this.Xz);f.zc(a.D,this.D)}Pn(a){f.Wf(this.D,a)}ca(){return{sa:this.Xz,insts:this.D.map(a=>a.Oc)}}ja(a,b){a=a.G();this.Xz=!!b.sa;f.C(this.D);for(const e of b.insts)(b=a.bj(e))&&this.D.push(b)}}}
{"use strict";const f=self.B;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}f.Ox=class extends f.ba{constructor(b){super();this.g=b.pf;this.om=!!b.yT;this.Ze=!!b.Uba;this.faa=!!b.Tba;this.paa=!!b.fca;this.T$=!!b.Jba;this.DS=!!b.Fca;this.Iaa=!!b.Eca;this.qS=null;this.uQ=new Map;this.v$=new Map;this.w$=new Map;this.x$=new Map}A(){this.g=null}G(){return this.g}Rd(){}Ip(){return this.faa}Kp(){return this.paa}OC(){return this.T$}Aj(b,e){if(!e)throw Error("missing 'this' binding");let c=
this.uQ.get(b);if(c)return c;c=b.bind(e);this.uQ.set(b,c);return c}uO(b,e,c){if(!e)throw Error("missing 'this' binding");const h=a(this.v$,b);let m=h.get(c);if(m)return m;m=b.bind(e,c);h.set(c,m);return m}vO(b,e,c,h){if(!e)throw Error("missing 'this' binding");var m=a(this.w$,b);m=a(m,c);let g=m.get(h);if(g)return g;g=b.bind(e,c,h);m.set(h,g);return g}wO(b,e,c,h,m){if(!e)throw Error("missing 'this' binding");var g=a(this.x$,b);g=a(g,c);g=a(g,h);let l=g.get(m);if(l)return l;l=b.bind(e,c,h,m);g.set(m,
l);return l}y9(b){if(!this.om)throw Error("must be single-global plugin");this.qS=b}ij(){if(!this.om)throw Error("must be single-global plugin");return this.qS.ij()}}}
{"use strict";const f=self.B;f.Lha=class extends f.Ox{constructor(a,b){super(a);this.Gq=b;this.saa=0;this.GG=new Map;this.FJ("elem-focused",e=>e.k7());this.FJ("elem-blurred",e=>{e&&e.j7()})}A(){super.A()}t3(a){const b=this.saa++;this.GG.set(b,a);return b}c8(a){this.GG.delete(a)}FJ(a,b){this.g.gk(this.Gq,a,e=>{const c=this.GG.get(e.elementId);b(c,e)})}}}{"use strict";const f=self.B;f.AM=class extends f.ba{constructor(a){super();this.I=a;this.g=a.G();this.xh=a.pb()}A(){this.xh=this.g=this.I=null}F(){return this.I}G(){return this.g}pb(){return this.xh}sf(){return this.I.sf()}Zr(){}Jp(){}On(){}Hx(){}rD(){}wn(){return null}}}
{"use strict";const f=self.B;f.zM=class extends f.ba{constructor(a,b){super();this.ia=a;this.Gq=b;this.g=a.G();this.I=this.ia.F();this.yc=this.I.yc;this.qr=this.sl=null;this.Gu=this.dl=!1;this.ve=null;this.Iv=!1}A(){this.Iv=!0;this.It();this.iF();this.qr=this.sl=null;this.ve&&(this.ve.A(),this.ve=null);this.yc=this.I=this.g=this.ia=null}ey(){return this.Iv}ya(){return this.ia}G(){return this.g}F(){return this.I}pb(){return this.yc.pb()}Ap(){return this.ia.Sg()}kb(a){return this.g.kb(a,this.ia,null)}oe(a){return this.g.oe(a,
this.ia,null)}bM(a,b){this.g.Ls(this.Gq,a,b)}cM(){return this.g.Np(this.Gq,"get-suspended",void 0)}H7(a){this.g.$k?this.bM("focus",a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Gq,handler:"focus",data:a,responseId:null})}Se(){}cm(){this.dl||(this.sl||(this.sl=()=>this.Se()),this.g.Sb().addEventListener("tick",this.sl),this.dl=!0)}It(){this.dl&&(this.g.Sb().removeEventListener("tick",this.sl),this.dl=!1)}iF(){this.Gu&&(this.g.Sb().removeEventListener("tick2",this.qr),
this.Gu=!1)}qd(){return null}jd(){}qc(){}Zg(){}nD(a,b){if(0!==b){var e=this.qc(a);if("number"!==typeof e)throw Error("expected number");this.Zg(a,e+b)}}wn(){return null}eC(a,b,e){const c=this.Ap();a=f.j(f.Event,a,b);a.instance=c;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const f=self.B;f.CD=class extends f.zM{constructor(a,b){super(a,b);this.Ma=a.m();this.eB=this.Ar=null}A(){if(this.Ar){const a=this.g.Sb();a.removeEventListener("webglcontextlost",this.Ar);a.removeEventListener("webglcontextrestored",this.eB);this.eB=this.Ar=null}this.Ma=null;super.A()}KY(){if(!this.Ar){this.Ar=()=>this.Mp();this.eB=()=>this.ZL();var a=this.g.Sb();a.addEventListener("webglcontextlost",this.Ar);a.addEventListener("webglcontextrestored",this.eB)}}Mp(){}ZL(){}m(){return this.Ma}Hn(){return!1}ej(){if(!this.Hn())throw Error("original size not known");
const a=this.Rg();if(a)return a.$()}dj(){if(!this.Hn())throw Error("original size not known");const a=this.Rg();if(a)return a.Z()}Rg(){return null}uC(){var a=this.Rg();return a&&(a=a.Pd())?[a.$(),a.Z()]:[100,100]}vC(){const a=this.Rg();return a?a.kj():null}YC(){const a=this.Rg();return a?a.Io:!1}tn(){const a=this.ia.m();return[a.qa(),a.ra()]}Rp(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Rect);f.Kha=class extends f.CD{constructor(b,e){super(b,e);this.lz=this.pb().t3(this);this.uR=!0;this.r$=this.eG=!1;this.Tq=f.j(f.Rect,0,0,-1,-1);b=this.g.V;this.LR=b.Rm;this.KR=b.Qm;this.cm()}A(){this.pb().c8(this.lz);this.Op("destroy");this.lz=-1;super.A()}Op(b,e){e||(e={});e.elementId=this.lz;this.bM(b,e)}uP(b){b||(b={});b.elementId=this.lz;this.H7(b)}Ux(b){b=!!b;this.uR!==b&&(this.uR=b,this.Op("set-visible",{isVisible:b}))}Se(){this.Y9()}F9(){const b=this.g.V.Tw();
return"Android"===f.Tc.Lp&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Y9(){var b=this.m();const e=b.X();var c=b.qa(),h=b.ra();let [m,g]=e.Kn(c,h),[l,n]=e.Kn(c+b.$(),h+b.Z());c=this.g.V;h=c.Vc;const p=c.Gc;if(b.Bc()&&e.Bc()){if(!this.F9()){if(0>=l||0>=n||m>=h||g>=p){this.Ux(!1);return}1>m&&(m=1);1>g&&(g=1);l>=h&&(l=h-1);n>=p&&(n=p-1)}a.set(m,g,l,n);b=c.Rm;h=c.Qm;a.$c(this.Tq)&&this.LR===b&&this.KR===h?this.Ux(!0):(this.Tq.la(a),this.LR=b,this.KR=h,this.Ux(!0),b=null,this.r$&&(b=e.$i()-.2),
this.Op("update-position",{left:Math.round(this.Tq.S)+c.gs(),top:Math.round(this.Tq.M)+c.hs(),width:Math.round(this.Tq.width()),height:Math.round(this.Tq.height()),fontSize:b}))}else this.Ux(!1)}uK(){this.uP({focus:!0})}MJ(){this.uP({focus:!1})}k7(){this.eG=!0}j7(){this.eG=!1}K1(b,e){this.Op("set-css-style",{prop:f.bV(b),val:e})}J1(b,e){this.Op("set-attribute",{name:b,val:e})}R0(b){this.Op("remove-attribute",{name:b})}}}
{"use strict";const f=self.B,a=self.bZ;f.o1=class extends f.ba{constructor(b){super();this.g=b.pf;this.yH=f.j(f.PB);this.pA=f.j(f.PB);this.uu=null;this.Daa=b.Fma||null}A(){this.pA.A();this.yH.A();this.g=null}G(){return this.g}Rd(){}u3(b){this.yH.Ac(b)}TK(){return this.yH.mC()}mg(b){this.pA.Ac(b)}eo(b){this.pA.kn(b)}ga(){return this.pA.mC()}XX(){if(null===this.uu){const b=this.Daa;if(b){if(this.uu=new b(this),!(this.uu instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.uu=new a(this)}return this.uu}}}{"use strict";const f=self.B;f.q1=class extends f.ba{constructor(a){super();this.g=a.G();this.Fc=a;this.I=a.F();this.mi=a.mk();this.mi.u3(this.I)}A(){this.mi=this.I=this.Fc=this.g=null}bg(){return this.Fc}F(){return this.I}G(){return this.g}mk(){return this.mi}}}
{"use strict";const f=self.B;f.p1=class extends f.ba{constructor(a,b){super();this.Uy=a;this.Gq=b;this.ia=a.ia;this.g=a.G();this.Fc=a.bg();this.yc=this.Fc.yc;this.yR=this.Gu=this.dl=!1;this.ve=null}A(){this.It();this.iF();this.K9();this.ve&&(this.ve.A(),this.ve=null);this.yc=this.Fc=this.g=this.ia=this.Uy=null}mk(){return this.Fc.mk()}F(){return this.ia.F()}m(){return this.ia.m()}G(){return this.g}bg(){return this.Fc}Ap(){return this.Uy.Ap()}kb(a){return this.g.kb(a,this.ia,this.Fc)}oe(a){return this.g.oe(a,
this.ia,this.Fc)}Se(){}cm(){this.dl||(this.g.p3(this),this.dl=!0)}It(){this.dl&&(this.g.Z7(this),this.dl=!1)}iF(){this.Gu&&(this.g.a8(this),this.Gu=!1)}K9(){this.yR&&(this.g.Y7(this),this.yR=!1)}qd(){return null}jd(){}qc(){}Zg(){}nD(a,b){if(0!==b){var e=this.qc(a);if("number"!==typeof e)throw Error("expected number");this.Zg(a,e+b)}}wn(){return null}eC(a,b,e){const c=this.Ap();a=f.j(f.Event,a,b);a.$ja=c;a.instance=c.instance;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const f=self.B;f.K={};f.pd={};f.v0=class extends f.ba{constructor(a){super();this.g=a;this.o$=[];this.fS=new Map;this.nd=null;this.l$=[];this.FF=new Map;this.ER=this.tS=null}GV(a){const b=this.g.Tg(a[0]);if(!b)throw Error("missing plugin");f.uU(a,b);a=f.j(b,{pf:this.g,yT:a[1],Uba:a[2],Tba:a[5],Jba:a[8],fca:a[9],Fca:a[13],Eca:a[14]});a.Rd();this.o$.push(a);this.fS.set(b,a)}IV(){this.nd=f.j(f.K.Eb,{pf:this.g,yT:!0});this.nd.Rd()}BV(a){a=this.g.Tg(a[1]);if(!a)throw Error("missing behavior");
const b=f.j(a,{pf:this.g});b.Rd();this.l$.push(b);this.FF.set(a,b);!this.tS&&f.pd.Cca&&b instanceof f.pd.Cca?this.tS=b:!this.ER&&f.pd.Wba&&b instanceof f.pd.Wba&&(this.ER=b)}uY(a){return this.fS.get(a)||null}RY(a){return this.FF.has(a)}xX(a){return this.FF.get(a)||null}us(){return this.nd}}}
{"use strict";const f=self.B,a=new Set;f.tx=class extends f.ba{constructor(){super();this.Wj="";this.O=this.R=this.Zu=this.Yu=this.jr=0;this.ru=this.Io=!1;this.Ve=null;this.rl="";this.Nf=f.j(f.Rect);this.Uo=f.j(f.kd);a.add(this)}A(){this.Zh();this.Ve=null;a.delete(this)}static Mp(){for(const b of a)b.rl="",b.Nf.set(0,0,0,0),b.Uo.Ti(b.Nf)}IL(b){this.Wj=b[0];this.jr=b[1];this.Yu=b[2];this.Zu=b[3];this.R=b[4];this.O=b[5];this.Io=b[6];this.ru=!0}A_(b,e){if(this.Ve)throw Error("already loaded asset");
this.Wj=e;const c={};f.WC(e)&&(c.Vv="remote");this.HL(b,c);return this.Ve.GL()}$0(b){if(b===this)throw Error("cannot replace with self");this.Zh();this.Wj=b.Wj;this.jr=b.jr;this.Yu=b.Yu;this.Zu=b.Zu;this.R=b.R;this.O=b.O;this.Io=b.Io;this.ru=b.ru;this.Ve=b.Ve;this.rl=b.rl;this.Nf=b.Nf;this.Uo=b.Uo}Ol(){return this.jr}$(){return this.R}Z(){return this.O}HL(b,e){if(this.Ve)throw Error("already got asset");e=Object.assign({},e,{url:this.Wj,size:this.Ol()});this.Ve=b.Fx(e)}gD(){return this.Ve&&this.Ve.gD()}async Fs(b,
e){if(!this.Ve)throw Error("no asset");if(this.rl)throw Error("already loaded texture");this.rl="loading";b=await this.Ve.Fs(b,e);if(!b)return this.rl="",null;this.rl="loaded";this.ru||(this.R=b.$(),this.O=b.Z(),this.ru=!0);this.Nf.set(this.Yu,this.Zu,this.Yu+(this.Io?this.O:this.R),this.Zu+(this.Io?this.R:this.O));this.Nf.Al(b.$(),b.Z());this.Uo.Ti(this.Nf);this.Io&&this.Uo.sca();return b}Zh(){this.rl&&(this.Ve&&this.Ve.Zh(),this.rl="",this.Nf.set(0,0,0,0),this.Uo.Ti(this.Nf))}Pd(){return this.Ve?
this.Ve.Pd():null}kj(){return this.Nf}ix(){return this.Uo}}}
{"use strict";const f=self.B;f.KU=class extends f.ba{constructor(a){super();this.Da=a[0];this.pv=a[1];this.Uz=!!a[2];this.ir=a[3];this.mS=a[4];this.eaa=!!a[5];this.bb=a[6];this.wd=a[7].map(b=>f.j(f.JU,b))}A(){for(const a of this.wd)a.A();f.C(this.wd)}x_(a){for(const b of this.wd)b.sf().HL(a)}y_(a,b){return Promise.all(this.wd.map(e=>e.sf().Fs(a,b)))}N0(){for(const a of this.wd)a.sf().Zh()}wa(){return this.Da}Ml(a){a=Math.floor(a);if(0>a||a>=this.wd.length)throw new RangeError("invalid frame");return this.wd[a]}Wg(){return this.ir}}}
{"use strict";const f=self.B;f.JU=class extends f.ba{constructor(a){super();this.Kf=f.j(f.tx);this.Kf.IL(a);this.HQ=a[7];this.cS=f.j(f.gt,a[8],a[9]);this.Ez=a[10].map(b=>f.j(f.lZ,this,b));this.lR=new Map;for(const b of this.Ez)this.lR.set(b.wa().toLowerCase(),b);this.oo=null;a=a[11];6<=a.length&&(this.oo=f.j(f.jn,a))}A(){this.oo&&(this.oo.A(),this.oo=null);this.Kf.A();this.Kf=null}sf(){return this.Kf}sk(){return this.cS.aa}tk(){return this.cS.T}ZX(a){return this.lR.get(a.toLowerCase())||null}YX(a){a=
Math.floor(a);return 0>a||a>=this.Ez.length?null:this.Ez[a]}CC(){return this.Ez.length}}}{"use strict";const f=self.B;f.lZ=class extends f.ba{constructor(a,b){super();this.Da=b[0];this.JH=f.j(f.gt,b[1],b[2])}A(){}wa(){return this.Da}qa(){return this.JH.aa}ra(){return this.JH.T}}}
{"use strict";const f=self.B,a=self.Mg,b=self.fZ;f.mD=class extends f.ba{constructor(e,c,h){super();const m=e.Tg(h[1]);this.g=e;this.xh=e.So.uY(m);this.yc=null;this.Iz=m.Instance;this.Ia=c;this.bb=h[11];this.Da=h[0];this.Lu=this.g.Th(h[14]);this.caa=!!h[9];this.Ua=!!h[2];this.XG=!!h[10];this.Bi=h[3].map(g=>({XT:g[0],type:g[1],name:g[2],Vba:e.Th(g[3])}));this.t$=h[4];this.P$=h[5];this.Ze=this.xh.Ze;this.Ha=null;this.cz=f.j(f.D2,e.Ag,e.zg);this.yF=!0;this.zF=!1;this.nG=this.wo=null;this.xi=-1;this.mG=
this.qz=this.rz=this.lG=this.mh=null;this.QG=!1;this.rg=null;this.sQ=h[8].map(g=>f.KJ.Ja(this,g));this.Vy=[];this.GF=new Map;this.EF=new Map;this.LS=new Set;this.Cm=f.j(f.A2,this);this.Qy=this.Py=this.td=this.Kf=this.rg=this.Cq=null;this.pr=0;this.wb=new Map;this.Eh=new Map;this.D=[];this.CG=!0;this.xh.OC()&&(this.Ha=f.j(f.jk,this,h[12]));h[6]&&(this.Kf=f.j(f.tx),this.Kf.IL(h[6]));if(h[7]){this.td=h[7].map(g=>f.j(f.KU,g));this.Py=new Map;this.Qy=new Map;for(const g of this.td)this.Py.set(g.wa().toLowerCase(),
g),this.Qy.set(g.bb,g)}this.Ua?(this.wo=[],this.nG=new Set,this.xi=this.g.H5()):(this.mh=[],this.lG=new Set,this.rz=[],this.qz=[],this.mG=[]);this.yc=f.j(m.et,this,h[15]);this.sR=this.wu=null;this.Ld=f.j(f.Event.Sb);if(c=this.yc.wn()){if(this.wu=new c(this),!(this.wu instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.wu=new b(this);this.g.aB&&!this.Ua&&!this.XG&&this.Ze||this.Rd();this.xh.om&&(this.xh.y9(this),this.f4(h))}static Ja(e,c,h){return f.j(f.mD,
e,c,h)}A(){this.Kf&&(this.Kf.A(),this.Kf=null);if(this.td){for(const e of this.td)e.A();f.C(this.td);this.Py.clear();this.Qy.clear()}this.Cm.A();this.Cm=null;this.wb.clear();this.Eh.clear();this.g=this.rg=null}A6(e){for(let c=1,h=e.length;c<h;++c){const m=this.g.Ke(e[c]);this.wo.push(m);this.nG.add(m);m.mh.push(this);m.lG.add(this)}}Y8(e){this.QG=!0;this.rg=e}Mb(){return this.QG}e7(){var e=0;if(!this.Ua)for(var c of this.mh)for(var h of c.sQ){const l=h.wa().toLowerCase();this.GF.set(l,h);this.EF.set(l,
e);this.Vy.push(h);++e}for(var m of this.sQ)c=m.wa().toLowerCase(),this.GF.set(c,m),this.EF.set(c,e),this.Vy.push(m),++e;for(var g of this.Vy)this.LS.add(g.mk().constructor);if(!this.Ua&&this.mh.length){e=this.g.OQ;f.nB(this.rz,e,0);f.nB(this.qz,e,0);f.nB(this.mG,e,0);e=[];c=g=m=0;for(const l of this.mh)if(h=l.xi,this.rz[h]=m,m+=l.Bi.length,this.qz[h]=g,g+=l.t$,this.mG[h]=c,c+=l.P$,(h=l.Ha)&&this.Ha)for(const n of h.ag())e.push(n.qV(this.Ha));this.Ha&&this.Ha.C0(e)}}f4(e){const c=this.g.G5(),h=f.j(f.Instance,
{pf:this.g,kJ:this,uid:c});h.hy(e[16],[]);this.g.R6(c,h);this.D.push(h)}Rd(){this.Ua||this.yc.Rd()}VY(){return 0<this.pr}Jp(e){if(this.Ua)return Promise.resolve();this.pr++;return 1===this.pr?this.yc.Jp(e)||Promise.resolve():Promise.resolve()}On(){if(!this.Ua){this.pr--;if(0>this.pr)throw Error("released textures too many times");0===this.pr&&this.yc.On()}}Hx(){if(this.Ua)throw Error("not applicable to family");this.yc.Hx()}rD(e){return this.Ua?Promise.resolve():this.yc.rD(e)}G(){return this.g}pb(){return this.xh}wa(){return this.Da}Th(){return this.Lu}Ba(){return this.Ia}Bf(){return this.caa}vN(e){return e&&
this.LS.has(e)}dY(){return this.Bi.map(e=>e.XT)}cY(e){return this.Bi.findIndex(c=>c.XT===e)}bY(e){return this.Bi.findIndex(c=>c.name===e)}w5(){return this.Bi.map(e=>e.Vba)}qs(e){e=Math.floor(e);if(0>e||e>=this.Bi.length)throw new RangeError("invalid instance variable index");return this.Bi[e].type}OK(e){e=Math.floor(e);if(0>e||e>=this.Bi.length)throw new RangeError("invalid instance variable index");return this.Bi[e].name}Mw(e){return this.GF.get(e.toLowerCase())||null}ds(e){e=this.EF.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}OC(){return this.xh.OC()}wN(){return this.Ha&&this.Ha.MY()}N(){return this.Cm.N()}sf(){return this.Kf}JM(e){this.Cq=e}RB(e){return this.lG.has(e)}rK(e){return this.nG.has(e)}pn(e){return this.qz[e]}IK(e){return this.rz[e]}yK(e){if(!this.td)throw Error("no animations");return this.Py.get(e.toLowerCase())||null}wX(e){if(!this.td)throw Error("no animations");return this.Qy.get(e)||null}RX(){if(!this.td)throw Error("no animations");return this.td[0].Ml(0)}FX(){if(this.td){const e=
this.RX().sf();return[e.$(),e.Z()]}return this.Kf?[this.Kf.$(),this.Kf.Z()]:[100,100]}ij(){if(!this.xh.om)throw Error("not a single-global plugin");return this.D[0]}ga(){return this.D}*uT(){yield*this.D}*Nba(){yield*this.D;for(const e of this.g.Zk)e.F()===this&&(yield e)}mg(e){this.D.push(e)}Et(){this.CG=!0}Ky(){if(this.CG&&!this.Ua){var e=this.D,c=0;for(let h=e.length;c<h;++c)e[c].SP(c);e=this.g.Zk;for(const h of e)h.F()===this&&h.SP(c++);this.CG=!1}}NK(e){var c=this.D;if(e<c.length)return c[e];
e-=c.length;c=this.g.Zk;for(const h of c)if(h.F()===this){if(0===e)return h;--e}return null}KK(e){if(e&&e.Mb()&&e.F()!==this)for(const c of e.md)if(c.F()===this)return c;e=this.N().ga();return e.length?e[0]:null}sY(e){const c=this.N().ga();return 0<c.length?c[e.rn()%c.length]:null}*YS(e,c){const h=this.N().ga();var m=h.length;const g=c.N(),l=c.N().ga(),n=l.length;var p=e.rn();if(c.Ua||!g.Rb)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Zr(e){this.yc.Zr(e)}mc(){if(this.QG&&
!this.Ua){this.Ky();var e=this.N(),c=e.D,h=e.Rb,m=this.g.Ie();m=m&&m.Cb()&&m.Cb().Fd;for(const n of this.rg.ll)if(n!==this){n.Ky();var g=n.N();g.se(h);if(!h){var l=g.D;f.C(l);for(const p of c)l.push(n.NK(p.rn()));if(m){l=e.kc;g=g.kc;f.C(g);for(const p of l)g.push(n.NK(p.rn()))}}}}}S9(e,c){for(const h of this.rg.ll){const m=h.N();e?f.Ge(m.kc,c):f.Ge(m.D,c)}}OP(){this.yF=!0}$E(e){this.zF=!!e}hQ(){if(this.yF&&this.Ze){for(const e of this.D)e.m().kQ();for(const e of this.g.Zk)e.F()===this&&e.m().kQ();
this.yF=!1}}hj(){this.wb||(this.wb=new Map);return this.wb}xs(){this.Eh||(this.Eh=new Map);return this.Eh}lL(){return this.vN(f.pd.Pfa)}PC(){return this.vN(f.pd.lga)}ca(){const e={instances:this.D.map(c=>c.qd())};this.wb&&this.wb.size&&(e.ex=f.eE(this.wb));return e}ja(e){this.wb&&(this.wb.clear(),this.wb=null);var c=e.ex;c&&(this.wb=f.kC(c));c=this.D;e=e.instances;for(let h=0,m=Math.min(c.length,e.length);h<m;++h)c[h].jd(e[h]);for(let h=e.length,m=c.length;h<m;++h)this.g.ln(c[h]);for(let h=c.length,
m=e.length;h<m;++h){c=e[h];let g=null;if(this.Ze&&(g=this.g.Ib().Ww(c.w.l),!g))continue;this.g.Oh(this.Cq||this,g,!1,0,0,!0).jd(c)}this.Et()}Og(e){var c=this.g;(c=c.ub&&!c.fa().xx())&&a.$D();this.Ld.dispatchEvent(e);c&&a.NB()}}}{"use strict";const f=self.B;f.vV=class extends f.ba{constructor(a,b){super();this.g=a;this.ll=b;for(const e of this.ll)e.Y8(this)}A(){this.g=null}G(){return this.g}QY(){return this.ll.some(a=>a.Ze)}}}
{"use strict";const f=self.B,a=self.Mg,b=self.Bs,e=[];let c=0;const h=new WeakMap,m=new WeakMap;f.Instance=class extends f.ba{constructor(g){super();this.g=g.pf;this.Gd=g.kJ;this.Td=this.ka=this.Ma=null;this.jR=0;this.Oc=g.uid;this.iS=c++;this.xa=0;this.Ec=this.ye=e;var l=this.Gd.Vy;0<l.length&&(this.Ec=l.map((n,p)=>f.j(f.iw,{pf:this.g,GI:n,instance:this,index:p})));this.md=this.Gd.Mb()?[]:null;this.Kd=-1;this.Kb=null;l=this.pb();l.Kp()&&(this.xa|=4);if(l.Ze)if(this.Ma=f.j(f.j3,this,g.CT),g.mU)this.Ma.Dp(g.mU);
else{this.Ma.AZ();const [n,p]=this.Gd.FX();this.Ma.bd(n,p);this.F().wN()&&this.Ma.Lf.z_()}g.tT?this.D6(g.tT):this.y6()}A(){this.Td&&(this.Td.Dt(),this.Td=null);if(0<this.Ec.length){for(var g of this.Ec)g.A();f.C(this.Ec)}this.ka.A();this.ka=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.md&&f.C(this.md);this.Kb&&(this.Kb.A(),this.Kb=null);this.Gd=this.g=null;0<this.ye.length&&f.C(this.ye);this.Ma&&(this.Ma.A(),this.Ma=null)}D6(g){0<g.length&&(this.ye=
[],f.zc(this.ye,g))}y6(){const g=this.Gd.Bi.length;if(0!==g){this.ye=[];var l=[0,0,""];for(let n=0;n<g;++n)this.ye.push(l[this.Gd.qs(n)])}}hy(g,l){if(this.ka)throw Error("already got sdk instance");for(let n=0,p=this.Ec.length;n<p;++n)this.Ec[n].hy(l?l[n]:null);this.ka=f.j(this.Gd.Iz,this,g);if(!(this.ka instanceof f.zM))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Ec.length;n<p;++n);this.Gd.sR&&this.TO()}m(){return this.Ma}G(){return this.g}uX(){const g=this.Kd;return-1===
g?this.G().Kd:g}SD(g){g=+g;if(0>g||!isFinite(g))g=0;this.Kd=g}h1(){this.Kd=-1}Sb(){this.Kb||(this.Kb=f.j(f.Event.Sb));return this.Kb}Qg(g){this.ka.Qg(g)}Rd(g){this.ka.Rd(g)}n9(){this.xa|=2}wk(){return 0!==(this.xa&2)}OE(){this.xa|=1}Cs(){return 0!==(this.xa&1)}Kp(){return 0!==(this.xa&4)}NL(){return 0!==(this.xa&32)}Us(g,l){g<<=16;this.xa=l?this.xa|g:this.xa&~g}AC(g){return 0!==(this.xa&g<<16)}Rg(){return this.ka.Rg()}uC(){return this.ka.uC()}vC(){return this.ka.vC()}YC(){return this.ka.YC()}tn(g){return this.ka.tn(g)}F(){return this.Gd}Rp(){return this.ka.Rp()}pp(g){return g.Ua?
g.rK(this.F()):this.F()===g}xN(){if(!this.pb().DS)throw Error("object does not support scene graph");}mj(){return null!==this.Aa()}Aa(){var g=this.m();return g?(g=g.Aa())?g.ya():null:null}kx(){var g=this.m();return g?(g=g.kx())?g.ya():null:null}*Yv(){const g=this.m();if(g)for(const l of g.Yv())yield l.ya()}Ne(){const g=this.m();return g?g.Ne():!1}He(){const g=this.m();return g?g.He().map(l=>l.ya()):[]}*children(){const g=this.m();if(g)for(const l of g.children())yield l.ya()}*bk(){const g=this.m();
if(g)for(const l of g.bk())yield l.ya()}Ow(){const g=this.m();return g?g.Ow():0}rC(g){const l=this.m();return l?(g=l.rC(g))?g.ya():null:null}Hl(g,l){this.xN();g.xN();this.m().Hl(g.m(),l||{})}rj(g){const l=this.m();l&&l.rj(g.m())}Qw(){const g=this.m();return g?g.Qw():!1}y2(){var g=this.m();if(g&&(g=g.WK()))for(const l of g)if(g=this.g.bj(l[2])){const n=l[3];this.Hl(g,{Qr:!!(n>>0&1),Rr:!!(n>>1&1),mp:!!(n>>2&1),lp:!!(n>>3&1),Pr:!!(n>>4&1),Lv:!!(n>>5&1),Sr:!!(n>>6&1)})}}Mb(){return null!==this.md}hq(g){this.md.push(g)}XY(g){return!!this.bL(g)}bL(g){const l=
this.md;if(null===l||0===l.length)return!1;for(const n of l)if(n.F()===g)return n;return null}di(){for(const g of this.md)g.F().N().wj(g)}N7(){for(const g of this.md)g.F().N().Ct(g)}x9(g){for(const l of this.md)l.F().N().D[g]=l}M7(){for(const g of this.md)g.F().N().co(g)}w9(g){for(const l of this.md)l.F().N().kc[g]=l}pb(){return this.Gd.pb()}SP(g){this.jR=g}rn(){this.Gd.Ky();return this.jR}yX(g){if(!g)return null;for(const l of this.Ec)if(l.mk()instanceof g)return l;return null}pC(g){return g?(g=
this.yX(g))?g.ka:null:null}zK(g){const l=this.Ec;for(let n=0,p=l.length;n<p;++n)if(l[n].bg().bb===g)return n;return-1}ie(g){g|=0;const l=this.ye;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}E5(g){return this.ye[g]}D5(g){const l=this.ye[g];return 0===this.Gd.qs(g)?!!l:l}Xl(g,l){g|=0;const n=this.ye;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Gd.qs(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;
case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}W1(g,l){if(0!==l){g|=0;var n=this.ye;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}hj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}xs(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,g);return g}NO(g){const l=this.F();if(l.Ld.NC(g))return!0;for(const n of l.mh)if(n.Ld.NC(g))return!0;return this.g.Ld.NC(g)?!0:!1}Jy(){const g=new Set;g.add(this);const l=this.m();if(l&&l.Ne())for(const n of this.bk())if(g.add(n),n.Mb())for(const p of n.md)g.add(p);if(this.Mb())for(const n of this.md)g.add(n);for(const n of g.values())n.eQ()}eQ(){if(this.NO("instancecreate")){const g=
this.F(),l=new f.Event("instancecreate");l.instance=this.Sg();g.Og(l);for(const n of g.mh)n.Og(l);this.g.Og(l)}this.g.kb(this.pb().constructor.ua.c0,this,null)}Q9(){this.g.kb(this.pb().constructor.ua.d0,this,null)}m5(g){if(this.Td){var l=new f.Event("destroy");l.Rba=g;this.Og(l)}if(this.NO("instancedestroy")){l=this.F();var n=new f.Event("instancedestroy");n.instance=this.Sg();n.Rba=g;l.Og(n);for(const p of l.mh)p.Og(n);this.g.Og(n)}}qd(g="full"){const l={};"full"===g?l.uid=this.Oc:l.c3=!0;if("visual-state"!==
g){var n=h.get(this);n&&n.size&&(l.ex=f.eE(n));-1!==this.Kd&&(l.mts=this.Kd);if(0<this.Gd.Bi.length){n={};var p=this.Gd.dY();for(let q=0,u=this.ye.length;q<u;++q)n[p[q].toString()]=this.ye[q];l.ivs=n}if(this.Ec.length){n={};for(const q of this.Ec)(p=q.qd())&&(n[q.bg().bb.toString()]=p);l.behs=n}}this.Ma&&(l.w=this.Ma.ca(g));(g=this.ka.qd())&&(l.data=g);return l}vy(g="full"){this.Ma&&this.Ma.vy(g)}jd(g,l="full"){if("full"===l)this.Oc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=h.get(this);
n&&(n.clear(),h.delete(this));if(n=g.ex)n=f.kC(n),h.set(this,n);this.Kd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=this.Gd.cY(parseInt(u,10)),!(0>n||n>=this.ye.length)){var p=w;null===p&&(p=NaN);this.ye[n]=p}}if(this.pb().Ze){n=g.w;var q=n.l;this.Ma.X().bb!==q&&(p=this.Ma.X(),(q=p.Tb().Ww(q))?(this.Ma.Ft(q),p.eo(this,!0),q.mg(this,!0),q.kg(),this.Ma.Na()):"full"===l&&this.g.ln(this));this.Ma.ja(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [u,w]of Object.entries(l))l=
this.zK(parseInt(u,10)),0>l||l>=this.Ec.length||this.Ec[l].jd(w);(g=g.data)&&this.ka.jd(g)}Sg(){return this.Td||this.TO()}TO(){var g=this.Ma?self.rx:b;const l=this.ka.wn(),n=this.Gd.sR,p=n||l||g;b.ng(this);this.Td=new p;b.ng(null);if(l&&!(this.Td instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Td instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);
return this.Td}C5(g){if(0!==this.ye.length){var l={},n=this.Gd.w5();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,get:f.Instance.prototype.D5.bind(this,p),set:f.Instance.prototype.Xl.bind(this,p)};l=Object.create(Object.prototype,l);g.gla={value:l,writable:!1}}}x5(g){var l=this.Ec;if(0!==l.length){var n={};for(const p of l)n[p.bg().Th()]={value:p.Ap(),writable:!1};l=Object.create(Object.prototype,n);g.Jv={value:l,writable:!1}}}Og(g){g.instance=this.Sg();var l=this.g;(l=l.ub&&
!l.fa().xx())&&a.$D();this.Sg().dispatchEvent(g);l&&a.NB()}}}
{"use strict";const f=self.B;f.t1=class extends f.ba{constructor(a){super();this.Pb=a;this.oc=null;this.az=[];this.RA=a.$();this.PA=a.Z();this.fI=this.eI=1;this.tA=0}A(){this.oc=null;f.C(this.az)}bN(a){this.tA=(this.oc=a)?a.Oa():0}Aa(){return this.oc}Ne(){return 0<this.az.length}He(){return this.az}i2(a){this.eI=a}j2(a){this.fI=a}fj(){return this.Pb.yn()?this.oc.$()/this.oc.Ab.RA:1}gj(){return this.Pb.xn()?this.oc.Z()/this.oc.Ab.PA:1}ca(){return{sw:this.RA,sh:this.PA,sx:this.eI,sy:this.fI,psa:this.tA,
c:this.az.map(a=>{let b="";a.zn()&&(b+="x");a.An()&&(b+="y");a.yn()&&(b+="w");a.xn()&&(b+="h");a.lx()&&(b+="a");a.mx()&&(b+="z");a.Qw()&&(b+="d");return{uid:a.ya().Oc,f:b}})}}ja(a){this.RA=a.sw;this.PA=a.sh;this.eI=a.sx;this.fI=a.sy;this.tA=a.psa}SE(a){const b=this.Pb,e=b.G();for(const c of a.c){a=e.bj(c.uid).m();const h=c.f,m={};m.Qr=h.includes("x");m.Rr=h.includes("y");m.mp=h.includes("w");m.lp=h.includes("h");m.Pr=h.includes("a");m.Sr=h.includes("z");m.Lv=h.includes("d");b.Hl(a,m)}}}}
{"use strict";const f=self.B,a=f.j(f.Rect),b=f.j(f.kd),e=f.j(f.Event,"bboxchange",!1),c=f.j(f.Xa,0,0,0,0),h=f.j(f.jn),m=f.j(f.Xa,1,1,1,1),g=f.j(f.Rect,0,0,-1,-1),l=f.j(f.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;f.j3=class extends f.ba{constructor(r,v){super();this.ia=r;this.I=r.F();this.g=r.G();this.Qj=v;this.ak=-1;this.xa=196635;this.I.pb().Ip()&&(this.xa|=128);this.cr=this.br=this.VF=this.VH=this.Ra=this.Hc=this.wg=this.Kg=this.Pc=this.T=
this.aa=NaN;this.LF=f.j(f.Rect);this.MF=f.j(f.kd);this.bz=l;this.cv=g;this.Ki=this.ur=this.MA=null;this.qo=this.Za=m;this.Lf=this.$o=null;this.ia.F().wN()&&(this.Lf=f.j(f.RZ,this.ia,this));this.wh=this.Ab=null}OE(){this.xa|=256}A(){this.$o&&(this.g.gb().kM(this.$o),this.$o=null);this.MA=null;this.ur&&(this.ur.KT.A(),this.ur=null);this.Ki&&(this.Ki.clear(),this.Ki=null);this.Mx();this.mj()&&this.Aa().rj(this);if(this.Ne()){const r=[...this.He()];for(const v of r)this.rj(v)}this.yy();this.Qj=this.g=
this.I=this.ia=null}Dp(r){q=!1;this.Ek(r[0],r[1]);this.Qe(r[2]);this.bd(r[3],r[4]);this.Hc=0;this.Ip()?this.rd(r[6]):this.Ra=0;c.El(r[7]);this.Ay(c);this.$p(r[8]);this.aq(r[9]);this.Df(r[10]);this.Lf&&this.Lf.z6(r[12]);r[14]&&u.set(this,{dba:r[14][1],Wca:r[14][2]});if(r[15]){var v=r[15];this.bC(v[0],v[1]);r=this.jj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.xp(z,y);J.ah(H[0]);J.bh(H[1]);J.Qe(H[2]);J.TD(H[3]);J.UD(H[4])}}}q=!0;this.pq()}AZ(){this.VH=
this.Ra=this.Hc=this.wg=this.Kg=this.Pc=this.T=this.aa=0;this.VF=1;this.cr=this.br=0;this.pq()}G(){return this.g}F(){return this.I}ya(){return this.ia}ot(){return this.lx()?this.Aa().Oa()-this.Ab.tA:0}ah(r){r=+r;if(this.zn()){const v=this.Ab;r-=this.qa();const y=-this.ot();0===y?this.aa+=r/v.fj():(this.aa+=Math.cos(y)*r/v.fj(),this.An()&&(this.T+=Math.sin(y)*r/v.gj()))}else this.aa=r}X_(r){r=+r;this.zn()?this.ah(this.qa()+r):this.aa+=r}qa(){if(this.zn()){let r=this.aa;const v=this.Ab,y=this.Aa(),
A=this.ot();0===A?r*=v.fj():(r=r*v.fj()*Math.cos(A),this.An()&&(r-=this.T*v.gj()*Math.sin(A)));return y.qa()+r}return this.aa}bh(r){r=+r;if(this.An()){const v=this.Ab;r-=this.ra();const y=-this.ot();0===y?this.T+=r/v.gj():(this.zn()&&(this.aa-=Math.sin(y)*r/v.fj()),this.T+=Math.cos(y)*r/v.gj())}else this.T=r}Y_(r){r=+r;this.An()?this.bh(this.ra()+r):this.T+=r}ra(){if(this.An()){let r=this.T;const v=this.Ab,y=this.Aa(),A=this.ot();0===A?r*=v.gj():(r=r*v.gj()*Math.cos(A),this.zn()&&(r+=this.aa*v.fj()*
Math.sin(A)));return y.ra()+r}return this.T}Ek(r,v){r=+r;v=+v;if(this.fL()){const A=this.zn(),G=this.An(),z=this.Ab,F=r-this.qa(),H=v-this.ra();var y=-this.ot();if(0===y)this.aa=A?this.aa+F/z.fj():r,this.T=G?this.T+H/z.gj():v;else{const J=Math.sin(y);y=Math.cos(y);this.aa=A?G?this.aa+(y*F-J*H)/z.fj():this.aa+y*F/z.fj():r;this.T=G?A?this.T+(J*F+y*H)/z.gj():this.T+y*H/z.gj():v}}else this.aa=r,this.T=v}Gx(r,v){r=+r;v=+v;this.fL()?this.Ek(this.qa()+r,this.ra()+v):(this.aa+=r,this.T+=v)}bX(r,v){return this.qa()===
r&&this.ra()===v}Qe(r){r=+r;this.mx()&&(r-=this.Aa().Ya());this.Pc!==r&&(this.Pc=r,this.nQ(),r=this.X(),0!==this.Pc&&r.PP(),r.kg())}nQ(){this.pq();if(this.Ne()){const r=this.He();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.mx()&&A.nQ()}}}Z_(r){this.Qe(this.Ya()+r)}Ya(){return this.mx()?this.Aa().Ya()+this.Pc:this.Pc}zf(){return this.X().Ya()+this.Ya()}fi(r){r=+r;if(this.yn()){const v=this.$();this.Kg=0===v?1E-6:r/v*this.Kg}else this.Kg=r}RL(r){r=+r;this.yn()?this.fi(this.$()+r):this.Kg+=r}$(){return this.yn()?
this.Aa().$()*this.Kg:this.Kg}ai(r){r=+r;if(this.xn()){const v=this.Z();this.wg=0===v?1E-6:r/v*this.wg}else this.wg=r}QL(r){r=+r;this.xn()?this.ai(this.Z()+r):this.wg+=r}Z(){return this.xn()?this.Aa().Z()*this.wg:this.wg}bd(r,v){r=+r;v=+v;if(this.yn()){const y=this.$();this.Kg=0===y?1E-6:r/y*this.Kg}else this.Kg=r;this.xn()?(r=this.Z(),this.wg=0===r?1E-6:v/r*this.wg):this.wg=v}zY(){if(this.mj()){const r=this.Ab;return Math.min(r.fj(),r.gj())}return 1}Ip(){return 0!==(this.xa&128)}rd(r){r=+r;this.Ip()&&
(this.lx()&&(r-=this.Aa().Oa()),r=f.ae(r),this.Ra!==r&&(this.Ra=r,this.PE()))}T_(r){r=+r;0!==r&&this.Ip()&&(this.Ra=f.ae(this.Ra+r),this.PE())}PE(){this.xa|=262144;if(this.Ne()){const r=this.He();for(let v=0,y=r.length;v<y;v++)r[v].PE()}}Oa(){return this.lx()?f.ae(this.Aa().Oa()+this.Ra):this.Ra}iP(){const r=this.xa;if(0!==(r&262144)){var v=this.Oa();this.VH=Math.sin(v);this.VF=Math.cos(v);this.xa=r&-262145}}IC(){this.iP();return this.VH}tC(){this.iP();return this.VF}$p(r){this.br=+r}V_(r){this.br+=
+r}sk(){return this.br}aq(r){this.cr=+r}W_(r){this.cr+=+r}tk(){return this.cr}Ay(r){this.Za.$c(r)||(this.Za===m?(this.Za=f.j(f.Xa,r),this.qo=f.j(f.Xa,r),this.qo.qJ()):r.mB(1,1,1,1)?this.qo=this.Za=m:(this.Za.set(r),this.qo.set(r),this.qo.qJ()),this.pq())}Dk(r){r=f.ea(+r,0,1);this.Za.kp!==r&&(c.Oi(this.Za),c.kp=r,this.Ay(c))}U_(r){this.Dk(this.je()+r)}je(){return this.Za.kp}hN(r){this.Za.Bl(r)||(c.Oi(r),c.kp=this.Za.kp,this.Ay(c))}u2(r,v,y){c.Or(r,v,y);this.hN(c)}GC(){return this.qo}Qw(){return 0!==
(this.xa&512)}F1(r){this.re(512,r)}zn(){return 0!==(this.xa&1024)}p2(r){this.re(1024,r)}An(){return 0!==(this.xa&2048)}fL(){return 0!==(this.xa&3072)}q2(r){this.re(2048,r)}yn(){return 0!==(this.xa&4096)}o2(r){this.re(4096,r)}xn(){return 0!==(this.xa&8192)}n2(r){this.re(8192,r)}lx(){return 0!==(this.xa&16384)}m2(r){this.re(16384,r)}mx(){return 0!==(this.xa&32768)}r2(r){this.re(32768,r)}UN(){this.xa&=-65025}Hl(r,v){if(r!==this&&!r.mj()&&!this.PO(r)&&!this.OO(r)){var y=r.qa(),A=r.ra(),G=r.$(),z=r.Z(),
F=r.Oa(),H=r.Ya();r.VP(this);r.p2(v.Qr);r.q2(v.Rr);r.o2(v.mp);r.n2(v.lp);r.m2(v.Pr);r.r2(v.Sr);r.F1(v.Lv);v.Qr&&(r.aa=y-this.qa(),v.mp&&(r.aa/=this.$()/this.Ab.RA));v.Rr&&(r.T=A-this.ra(),v.lp&&(r.T/=this.Z()/this.Ab.PA));v.mp&&(r.Kg=G/this.$(),r.Ab.i2(r.Kg));v.lp&&(r.wg=z/this.Z(),r.Ab.j2(r.wg));v.Pr&&(r.Ra=F-this.Oa());v.Sr&&(r.Pc=H-this.Ya());this.q3(r);this.Na()}}rj(r){if(r.Aa()===this){var v=r.qa(),y=r.ra(),A=r.$(),G=r.Z(),z=r.Oa(),F=r.Ya();r.VP(null);r.UN();r.Ek(v,y);r.bd(A,G);r.rd(z);r.Qe(F);
this.b8(r);this.Na()}}j8(){for(var r of this.children())this.rj(r);(r=this.Aa())&&r.rj(this);this.UN()}mj(){return null!==this.Aa()}Aa(){const r=this.Ab;return null!==r?r.Aa():null}kx(){let r=this;for(;r.mj();)r=r.Aa();return r}*Yv(){let r=this.Aa();for(;r;)yield r,r=r.Aa()}SY(r){return this.He().includes(r)}Ne(){const r=this.Ab;return null!==r?r.Ne():!1}He(){const r=this.Ab;return null!==r?r.He():p}children(){return this.He()}*bk(){for(const r of this.children())yield r,yield*r.bk()}Ow(){return this.He().length}rC(r){const v=
this.He();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}oE(r){this.Ab||(this.Ab=f.j(f.t1,this));r&&this.Ab.bN(r)}yy(){this.Ab&&(this.Ab.A(),this.Ab=null)}VP(r){r?(r.oE(null),this.oE(r)):(this.Ab&&this.Ab.bN(null),this.Ne()||this.yy())}OO(r){if(!this.mj())return!1;const v=this.Aa();return v===r?!0:v.OO(r)}PO(r){if(this.SY(r))return!0;for(const v of this.He())if(v.PO(r))return!0;return!1}q3(r){this.Ab.He().push(r)}b8(r){const v=this.Ab.He(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.mj()||
this.yy();r.Ne()||r.yy()}WK(){const r=u.get(this);return r?r.dba:null}AY(){const r=u.get(this);return r?r.Wca:NaN}yp(){return w.get(this)||NaN}OD(r){w.set(this,r)}pq(){if(q){var r=this.g.gb();this.$o&&r.kM(this.$o);this.$o=r.sU(0!==(this.xa&524288)?r.NA||"<point>":r.OA||"<default>",this.Xi(),this.qo,this.Ya())}}Cp(){return this.Za===m}Df(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Xi()!==r&&(this.xa=this.xa&-2080374785|r<<26,this.pq())}Xi(){return(this.xa&2080374784)>>26}Ft(r){this.Qj=
r;0!==this.Ya()&&this.Qj.PP()}X(){return this.Qj}Tb(){return this.X().Tb()}Hy(r){this.ak=r|0}Xg(){this.Qj.Kt();return this.ak}re(r,v){this.xa=v?this.xa|r:this.xa&~r}Bc(){return 0!==(this.xa&1)}ei(r){this.re(1,r)}Vh(){return 0!==(this.xa&8)}Rs(r){r=!!r;this.Vh()!==r&&(this.re(8,r),r?this.Na():this.zP())}QD(r,v){this.re(32,r);this.Ki&&this.Ki.clear();if(v.trim()){this.Ki||(this.Ki=new Set);for(const y of v.split(" "))y&&this.Ki.add(y.toLowerCase())}else this.Ki=null}Na(){this.xa|=65554;this.I.OP();
this.g.W();this.Qj.Zn()&&(this.ow(this.LF,this.MF,!0),this.xa&=-3,this.Z9());0!==(this.xa&4)&&this.ia.Sb().dispatchEvent(e);if(null!==this.Ab){const r=this.Ab.He();for(let v=0,y=r.length;v<y;++v)r[v].Na()}}ow(r,v,y){const A=this.qa(),G=this.ra(),z=this.$(),F=this.Z(),H=this.Oa();r.Kh(A-this.br*z,G-this.cr*F,z,F);y&&this.Af()&&this.g5(r);0===H?v.Ti(r):(r.offset(-A,-G),v.UT(r,this.IC(),this.tC()),v.offset(A,G),v.WI(r));r.normalize()}jQ(){const r=this.xa;0!==(r&2)&&(this.ow(this.LF,this.MF,!0),this.xa=
r&-3)}Rc(){this.jQ();return this.LF}Yi(){this.jQ();return this.MF}aM(r){var v=this.qa(),y=this.ra();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.la(r);b.offset(v,y);return b}B1(r){this.re(4,r)}qL(){return 0!==(this.xa&4)}yL(r,v,y){return v&&0!==this.Hc?this.Fp(this.X().jq()):0===this.Ya()||y?r.sB(this.Rc()):this.p6()}p6(){const r=this.X(),v=this.zf();if(v>=r.es())return!1;r.iL(v,a);return a.sB(this.Rc())}Fp(r){var v=this.Rc();const y=v.S,A=v.da,G=v.M;v=v.Y;const z=this.zf();return r.wV(y,
G,z,A,v,z+this.Hc)}By(r){this.re(1048576,r)}Dy(r){this.re(2097152,r)}RD(r){this.MA=r;this.vE();this.Af()&&(this.wh.gJ=null)}ox(){return null!==this.MA||this.Af()}vk(){return this.z5(this.$(),this.Z(),this.Oa(),this.IC(),this.tC())}z5(r,v,y,A,G){let z=this.ur;null===z&&(this.ur=z={KT:f.j(f.jn),width:NaN,height:NaN,angle:NaN});const F=z.KT;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.MA;if(this.Af()){const J=this.sk(),M=this.tk(),P=this.jj();let R=this.wh.gJ;R||(H?(h.la(H),h.offset(J,
M)):h.xca(),R=P.QZ(h),this.wh.gJ=R);P.N2(R,F);F.offset(-J,-M);F.DJ(r,v,A,G)}else H?(F.la(H),F.DJ(r,v,A,G)):F.xJ(this.Yi(),-this.qa(),-this.ra());z.width=r;z.height=v;z.angle=y;return F}vE(){this.d2();const r=this.ur;null!==r&&(r.width=NaN)}bC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.ya().pb().Iaa)throw Error("object does not support mesh");this.Mx();this.wh={zJ:f.j(f.H.ML,r,v),eU:f.j(f.H.ML,r,v),gJ:null}}Af(){return null!==this.wh}jj(){if(!this.Af())throw Error("no mesh");return this.wh.zJ}gL(){if(!this.Af())throw Error("no mesh");
return this.wh.eU}LD(r){this.re(65536,r)}AL(){return 0!==(this.xa&65536)}d2(){this.re(131072,!0)}g5(r){const v=this.wh.zJ,y=Math.min(v.qY(),0),A=Math.min(v.rY(),0),G=Math.max(v.mY(),1),z=Math.max(v.nY(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.jca((G-1)*F);r.ica((z-1)*H);this.Hc=v.pY()}Mx(){this.wh&&(this.wh.zJ.A(),this.wh.eU.A(),this.wh=null,this.vE())}YM(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===
A;let G=y.x,z=y.y;const F=y.fw;let H="number"===typeof y.iU?y.iU:A?0:-1;y="number"===typeof y.lU?y.lU:A?0:-1;if(!this.Af())return!1;const J=this.jj(),M=J.xp(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.Ya()!==F&&(M.Qe(F),P=!0);A&&(G+=r/(J.Kj-1),z+=v/(J.Xj-1));-1!==H||A?(A&&(H+=r/(J.Kj-1)),H=f.ea(H,0,1)):H=M.Hg;-1!==y||A?(A&&(y+=v/(J.Xj-1)),y=f.ea(y,0,1)):y=M.Jg;if(M.qa()===G&&M.ra()===z&&M.Hg===H&&M.Jg===y)return P;M.ah(G);M.bh(z);M.TD(H);M.UD(y);this.vE();return!0}wk(){return this.ia.wk()}YB(r,
v){return this.Rc().lf(r,v)&&this.Yi().lf(r,v)?this.wk()?void 0:this.ox()?this.vk().lf(r-this.qa(),v-this.ra()):!0:!1}n6(){return 0!==(this.xa&16)}kQ(){if(this.n6()&&this.Vh()&&0===(this.xa&256)){var r=this.Rc(),v=this.I.cz,y=this.bz;a.set(v.gi(r.S),v.hi(r.M),v.gi(r.da),v.hi(r.Y));y.$c(a)||(r=this.ia,y===l?(v.Xn(r,null,a),this.bz=f.j(f.Rect,a)):(v.Xn(r,y,a),y.la(a)),this.xa&=-17)}}zP(){const r=this.bz;r!==l&&(this.I.cz.Xn(this.ia,r,null),this.bz=l)}Z9(){const r=this.X();if(r.Zn()&&0===(this.xa&256)){var v=
r.hr,y=this.Rc(),A=this.cv;a.set(v.gi(y.S),v.hi(y.M),v.gi(y.da),v.hi(y.Y));A.$c(a)||(y=this.ia,A===g?(v.Xn(y,null,a),this.cv=f.j(f.Rect,a)):(v.Xn(y,A,a),A.la(a)),r.g2())}}AP(){const r=this.cv;r!==g&&(this.X().hr.Xn(this.ia,r,null),this.cv=g)}o3(){const r=this.ia,v=this.Qj,y=v.D;y.length&&y.Md(-1)===r||(v.eo(r,!1),v.mg(r,!1),this.g.W())}m3(){const r=this.ia,v=this.Qj,y=v.D;y.length&&y[0]===r||(v.eo(r,!1),v.J7(r),this.g.W())}n3(r){const v=this.ia,y=this.Qj;if(y.Tb()!==r.Tb())throw Error("layer from different layout");
r!==y&&(y.eo(v,!0),this.Ft(r),r.mg(v,!0),this.g.W())}l3(r,v){const y=this.ia;let A=!1;const G=this.Qj;if(r.Oc!==y.Oc){var z=r.m();if(!z)throw Error("expected world instance");z=z.X();G.Ba()!==z.Ba()&&(G.eo(y,!0),this.Ft(z),z.mg(y,!0),A=!0);r=z.O_(y,r,!!v);(A||r)&&this.g.W()}}m9(r){this.re(64,r)}zs(){return 0!==(this.xa&64)}ca(r){const v={x:this.qa(),y:this.ra(),w:this.$(),h:this.Z(),l:this.X().bb,zi:this.Xg()};0!==this.Ya()&&(v.ze=this.Ya());0!==this.Oa()&&(v.a=this.Oa());this.Cp()||(v.c=this.Za.toJSON());
.5!==this.sk()&&(v.oX=this.sk());.5!==this.tk()&&(v.oY=this.tk());0!==this.Xi()&&(v.bm=this.Xi());this.Bc()||(v.v=this.Bc());this.Vh()||(v.ce=this.Vh());this.qL()&&(v.be=this.qL());this.Lf&&(v.fx=this.Lf.ca());const y=0!==(this.xa&32);y&&(v.sfi=y);this.Ki&&(v.sft=[...this.Ki].join(" "));this.Ab&&"visual-state"!==r&&(v.sgi=this.Ab.ca());this.Af()&&(v.mesh=this.jj().qd());return v}vy(r){"visual-state"!==r&&this.j8()}ja(r,v){q=!1;this.ah(r.x);this.bh(r.y);this.fi(r.w);this.ai(r.h);this.Hy(r.zi);this.Qe(r.hasOwnProperty("ze")?
r.ze:0);this.rd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.El(r.c):r.hasOwnProperty("o")?(c.Oi(this.Za),c.kp=r.o):c.an(1,1,1,1);this.Ay(c);this.$p(r.hasOwnProperty("oX")?r.oX:.5);this.aq(r.hasOwnProperty("oY")?r.oY:.5);this.Df(r.hasOwnProperty("bm")?r.bm:0);this.ei(r.hasOwnProperty("v")?r.v:!0);this.Rs(r.hasOwnProperty("ce")?r.ce:!0);this.B1(r.hasOwnProperty("be")?r.be:!1);this.QD(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Lf&&r.hasOwnProperty("fx")&&this.Lf.ja(r.fx);
if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.oE(null);const y=this.Ab,A=r.sgi;y.ja(A);const G=this.G().Sb(),z=()=>{G.removeEventListener("afterload",z);0===(this.xa&256)&&y.SE(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.bC(r.cols,r.rows),this.jj().jd(r)):this.Mx();this.Na();q=!0;this.pq()}}}
{"use strict";const f=self.B;f.KJ=class extends f.ba{constructor(a,b){super();const e=a.G(),c=e.So,h=e.Tg(b[1]);c.RY(h)||c.BV(b);this.g=e;this.I=a;this.mi=c.xX(h);this.yc=null;this.Iz=h.Instance;this.bb=b[2];this.Da=b[0];this.Lu=this.g.Th(b[3]);this.yc=f.j(h.et,this);this.Rd()}static Ja(a,b){return f.j(f.KJ,a,b)}A(){this.mi=this.g=null;this.yc.A();this.Iz=this.yc=null}Rd(){this.yc.Rd()}G(){return this.g}F(){return this.I}mk(){return this.mi}wa(){return this.Da}Th(){return this.Lu}}}
{"use strict";const f=self.B,a=self.cZ;f.iw=class extends f.ba{constructor(b){super();this.g=b.pf;this.Fc=b.GI;this.mi=this.Fc.mk();this.ia=b.instance;this.Ia=b.index;this.Td=this.ka=null;this.mi.mg(this.ia)}A(){this.Td&&(this.Td.Dt(),this.Td=null);this.mi.eo(this.ia);this.ka.A();this.ia=this.mi=this.Fc=this.g=this.Td=this.ka=null}hy(b){if(this.ka)throw Error("already got sdk instance");this.ka=f.j(this.Fc.Iz,this,b);this.e6()}G(){return this.g}bg(){return this.Fc}mk(){return this.mi}qe(){return this.Ia}qd(){return this.ka.qd()}jd(b){return this.ka.jd(b)}static YD(b,
e){var c=b.ia,h=e.ia;const m=c.F().Ba(),g=h.F().Ba();if(m!==g)return m-g;c=c.iS;h=h.iS;return c!==h?c-h:b.Uy.qe()-e.Uy.qe()}e6(){const b=this.ka.wn(),e=b||a;a.ng(this);this.Td=new e;a.ng(null);if(b&&!(this.Td instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Ap(){return this.Td}}}
{"use strict";const f=self.B;f.jk=class extends f.ba{constructor(a,b){super();this.Pb=a;this.og=[];this.Gf=[];this.kz=new Map;this.lh=[];this.dr=!0;for(const e of b)a=f.j(f.oK,this,e,this.og.length),this.og.push(a),this.kz.set(a.wa().toLowerCase(),a),3<=e.length&&this.lh.push(this.LE(e[2]));this.G().s3(this)}A(){f.C(this.og);f.C(this.Gf);this.kz.clear();f.C(this.lh);this.Pb=null}C0(a){if(a.length){this.og=a.concat(this.og);for(const b of a)this.kz.set(b.wa().toLowerCase(),b);for(let b=0,e=this.og.length;b<
e;++b)this.og[b].cF(b)}}LE(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=f.j(f.Xa);h.El(c);a[b]=h}}return a}G(){return this.Pb.G()}eh(){f.C(this.Gf);let a=!0;for(const b of this.og)b.zb&&(this.Gf.push(b),b.xf().dr||(a=!1));this.dr=a}ag(){return this.og}MY(){return 0<this.og.length}pk(a){return this.kz.get(a.toLowerCase())||null}EK(a){a=Math.floor(+a);if(0>a||a>=this.og.length)throw new RangeError("invalid effect type index");return this.og[a]}Ds(a){return this.EK(a).zb}LM(a,
b){this.EK(a).Qx(b)}zs(){return 0<this.Gf.length}nk(a){return this.lh[a]}static r1(a){return a&&a instanceof f.Xa?{t:"color",v:a.toJSON()}:a}static C_(a){if("object"===typeof a){if("color"===a.t){const b=f.j(f.Xa);b.El(a.v);return b}throw Error("invalid effect parameter type");}return a}static BM(a){return a.map(f.jk.r1)}static JL(a){return a.map(f.jk.C_)}qd(){return this.og.map(a=>({name:a.wa(),active:a.zb,params:f.jk.BM(this.lh[a.Ba()])}))}jd(a){for(const b of a)if(a=this.pk(b.name))a.Qx(b.active),
this.lh[a.Ba()]=f.jk.JL(b.params);this.eh()}}}
{"use strict";const f=self.B;f.oK=class extends f.ba{constructor(a,b,e){super();this.Ha=a;this.xe=b[0];this.Da=b[1];this.Ia=e;this.Nc=null;this.zb=!0}A(){this.Nc=this.Ha=null}qV(a){a=f.j(f.oK,a,[this.xe,this.Da],-1);a.Nc=this.Nc;a.zb=this.zb;return a}RO(a){a=a.aL(this.xe);if(!a)throw Error("failed to find shader program '"+this.xe+"'");this.Nc=a}wa(){return this.Da}cF(a){this.Ia=a}Ba(){return this.Ia}G(){return this.Ha.G()}Qx(a){this.zb=!!a}xf(){return this.Nc}GX(){const a=[];for(let b=0,e=this.Nc.jp.length;b<
e;++b){const c=this.Nc.$w(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(f.j(f.Xa,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const f=self.B;f.RZ=class extends f.ba{constructor(a,b){super();this.ia=a;this.VS=b;this.Ha=a.F().Ha;this.Hv=this.CH=!0;this.US=this.TS=this.RS=!1;this.kh=f.j(f.H.fe,a.G().V.dG,{lB:(e,c)=>{c=c.im;const h=c.m();e.Vl(h.GC());e.Ss(h.zf());c.Qg(e);e.Ss(0)},sT:e=>{const c=e.vC(),[h,m]=e.uC();return{aU:c,bU:h,$T:m}},qB:e=>this.nk(e)});this.ho=[];this.Gf=[];this.dr=!0;this.lh=[];for(const e of this.Ha.ag())this.ho.push(!0);this.eh()}A(){this.kh.A();this.kh=null;f.C(this.ho);f.C(this.Gf);f.C(this.lh);
this.Ha=this.ia=null}z6(a){for(const b of a)this.lh.push(this.LE(b))}LE(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=f.j(f.Xa);h.El(c);a[b]=h}}return a}z_(){for(const a of this.Ha.ag())this.lh.push(a.GX())}Qh(){this.yt();return this.kh}G(){return this.ia.G()}eh(){f.C(this.Gf);const a=this.VS,b=this.Ha.ag(),e=this.Gf,c=this.ho;let h=!0;for(let m=0,g=b.length;m<g;++m)if(c[m]){const l=b[m];e.push(l);l.xf().dr||(h=!1)}this.dr=h;a.m9(!!e.length);this.CH=!0}yt(){const a=
this.ia;var b=this.VS;const e=b.Cp(),c=0<b.Hc;b=0!==b.Oa()||0>b.$()||0>b.Z();const h=a.YC();if(this.CH||e!==this.Hv||c!==this.RS||b!==this.TS||h!==this.US)this.kh.TB(this.Gf.map(m=>m.xf()),{Er:this.Gf.map(m=>m.Ba()),oB:!e||a.Kp(),bJ:c,zT:h,xT:b}),this.CH=!1,this.Hv=e,this.RS=c,this.TS=b,this.US=h}nk(a){return this.lh[a]}Ds(a){return this.ho[a]}LM(a,b){this.ho[a]=!!b}ag(){return this.Ha.ag()}ca(){return this.Ha.ag().map(a=>({name:a.wa(),active:this.ho[a.Ba()],params:f.jk.BM(this.lh[a.Ba()])}))}ja(a){for(const b of a)if(a=
this.Ha.pk(b.name))this.ho[a.Ba()]=b.active,this.lh[a.Ba()]=f.jk.JL(b.params);this.eh()}}}
{"use strict";const f=self.B,a=[],b=f.j(f.jn),e=f.j(f.jn),c=f.j(f.kd);f.j(f.Rect);f.j(f.Rect);let h=null,m=null,g=null;f.rV=class extends f.ba{constructor(l){super();this.g=l;this.CA=[]}A(){this.g=null}JJ(l,n,p){for(const [q,u]of this.CA){let w;if(l===q)w=u;else if(l===u)w=q;else continue;w.pp(n)&&(p.includes(w)||p.push(w))}}TJ(l,n){if(!this.CA.length)return!1;for(const [p,q]of this.CA)if(l===p&&n===q||l===q&&n===p)return!0;return!1}UJ(){f.C(this.CA)}cE(l,n){if(!l||!n||l===n)return!1;l=l.m();n=n.m();
if(!l.Vh()||!n.Vh())return!1;const p=l.X(),q=n.X();return p.p_(q)?this.N9(l,n):this.M9(l,n)}N9(l,n){if(!l.Rc().sB(n.Rc())||!l.Yi().$I(n.Yi())||l.wk()&&n.wk())return!1;if(l.wk())return this.dE(l,n);if(n.wk())return this.dE(n,l);if(!l.ox()&&!n.ox())return!0;const p=l.vk(),q=n.vk();return p.Qv(q,n.qa()-l.qa(),n.ra()-l.ra())}M9(l,n){var p=l.wk(),q=n.wk();if(p&&!q)return this.nN(l,n);if(q&&!p)return this.nN(n,l);if(q||p)return!1;q=l.X();p=n.X();b.la(l.vk());e.la(n.vk());var u=b.yd;for(let w=0,r=u.length;w<
r;w+=2){const v=w+1,y=u[v],[A,G]=q.Kn(u[w]+l.qa(),y+l.ra());u[w]=A;u[v]=G}l=e.yd;for(let w=0,r=l.length;w<r;w+=2){q=w+1;u=l[q];const [v,y]=p.Kn(l[w]+n.qa(),u+n.ra());l[w]=v;l[q]=y}b.wJ();e.wJ();return b.Qv(e,0,0)}nN(l,n){var p=l.X(),q=n.X();h||(h=f.j(f.jn));m||(m=f.j(f.Rect));g||(g=f.j(f.kd));var u=n.qa(),w=n.ra();const [r,v]=q.Kn(u,w),[y,A]=p.ik(r,v);p=y-u;w=A-w;m.la(n.Rc());m.offset(p,w);if(!l.Rc().sB(m))return!1;g.la(n.Yi());g.offset(p,w);if(!l.Yi().$I(g))return!1;h.la(n.vk());q=h.yd;for(let G=
0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.wJ();return this.dE(l,n,y,A,h,m,g)}dE(l,n,p,q,u,w,r){w=void 0!==w?w:n.Rc();const v=l.qa(),y=l.ra();var A=l.ya().ka;p=void 0!==p?p:n.qa();q=void 0!==q?q:n.ra();l=n.ox();r=void 0!==r?r:n.Yi();A.pea(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.sea();if(w.Oba(A,v,y)&&(c.Ti(A),c.offset(v,y),c.$I(r)))if(l){var z=void 0!==u?u:n.vk();if(G=G.vY()){if(G.Qv(z,p-(v+A.S),q-(y+A.M)))return f.C(a),!0}else if(b.xJ(c,0,0),b.Qv(z,p,q))return f.C(a),!0}else if(z=
G.vY()){if(b.xJ(r,0,0),z.Qv(b,-(v+A.S),-(y+A.M)))return f.C(a),!0}else return f.C(a),!0}f.C(a);return!1}sC(l,n,p,q){l=l?1!==l.df||1!==l.ef:!1;if(n.Ua)for(const u of n.wo)l||u.zF?f.Tm(q,u.ga()):(u.hQ(),u.cz.Kx(p,q));else l||n.zF?f.Tm(q,n.ga()):(n.hQ(),n.cz.Kx(p,q))}}}
{"use strict";const f=self.B;f.D2=class extends f.ba{constructor(a,b){super();this.PF=a;this.OF=b;this.oi=f.j(f.Js)}A(){this.oi.A();this.oi=null}Kl(a,b,e){let c=this.oi.U(a,b);return c?c:e?(c=f.j(f.IY,this,a,b),this.oi.Set(a,b,c),c):null}gi(a){a=Math.floor(a/this.PF);return isFinite(a)?a:0}hi(a){a=Math.floor(a/this.OF);return isFinite(a)?a:0}Xn(a,b,e){if(b)for(let c=b.S,h=b.da;c<=h;++c)for(let m=b.M,g=b.Y;m<=g;++m){if(e&&e.lf(c,m))continue;const l=this.Kl(c,m,!1);l&&(l.Yg(a),l.Gn()&&this.oi.kn(c,
m))}if(e)for(let c=e.S,h=e.da;c<=h;++c)for(let m=e.M,g=e.Y;m<=g;++m)b&&b.lf(c,m)||this.Kl(c,m,!0).VC(a)}Kx(a,b){let e=this.gi(a.S);const c=this.hi(a.M),h=this.gi(a.da);a=this.hi(a.Y);if(isFinite(h)&&isFinite(a))for(;e<=h;++e)for(let m=c;m<=a;++m){const g=this.Kl(e,m,!1);g&&g.fC(b)}}}}
{"use strict";const f=self.B;f.IY=class extends f.ba{constructor(a,b,e){super();this.aa=b;this.T=e;this.D=f.j(f.PB)}A(){this.D.A();this.D=null}Gn(){return this.D.Gn()}VC(a){this.D.Ac(a)}Yg(a){this.D.kn(a)}fC(a){f.Tm(a,this.D.mC())}}}{"use strict";const f=self.B;f.Kga=class{constructor(){this.rect=new f.Rect;this.Mv=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.Mv=0;return this}}}
{"use strict";const f=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Ri.Cl,c=e.create(),h=f.j(f.kd),m=f.j(f.Rect);f.RJ=class extends f.ba{constructor(g){super();this.g=g;this.Hj=null;this.AR=!1;this.Ni=this.ab=null;this.vG="high-performance";this.hm=this.gm=this.ih=this.jh=this.Gc=this.Vc=this.Qm=this.Rm=0;this.Iq=!0;this.Ic=this.Wc=this.ES=0;this.N$=this.TQ="letterbox-scale";this.M$=this.L$=0;this.iz=e.create();
this.oh=this.AI="high";this.Rq=!1;this.Qt=[];this.YA=new Set;this.GA=self.C3_Shaders;this.dG=f.j(f.H.YW,{qT:()=>[this.aj(),this.Ph()],rT:()=>this.HX(),PT:l=>this.O0(l),getTime:()=>this.G().qn(),OT:()=>this.G().W()});this.Jf=this.lm=0;this.Oq=NaN;this.Az=null;this.jH=new Map;this.pu=NaN;this.fB=new Map;this.KA="";this.WH=1;this.rS=f.j(f.Rect);this.XH="";this.sS=this.mv=null;this.Qu=0;this.Xd=-1;this.tm=0;this.pH=l=>this.tm=l.progress;this.ff=null;this.hf={Wv:null,Zv:null,ew:null};this.$H=this.yS=this.aI=
0;this.Li="fade-in";this.ZH=null;this.xS=new Promise(l=>this.ZH=l)}k9(g){this.vG=g}B9(g){this.AR=!!g}async Ng(g){this.Hj=g.canvas;this.g.gk("runtime","window-resize",p=>this.D7(p));this.g.gk("runtime","fullscreenchange",p=>this.l7(p));this.g.gk("runtime","fullscreenerror",p=>this.m7(p));this.Hj.addEventListener("webglcontextlost",p=>this.Bt(p));this.Hj.addEventListener("webglcontextrestored",()=>this.TE());this.Rq=!!g.isFullscreen;var l=navigator.gpu&&this.AR;let n=!1;if(l)try{await this.VO(!0)}catch(p){this.Ni=
null}if(!this.gb())try{await this.UO(!0)}catch(p){this.ab=null}this.gb()||(n=!0);if(!this.gb()&&l)try{await this.VO(!1)}catch(p){this.Ni=null}if(!this.gb())try{await this.UO(!1)}catch(p){this.ab=null}l=this.gb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.T1(n);this.bd(g.windowInnerWidth,g.windowInnerHeight,!0);this.Ni?await this.h6():this.ab&&await this.g6();l.MD(this.Iq);l.yj()&&(this.Oq=0);for(const p of this.g.sF){for(const q of p.ag())q.RO(l);p.eh()}}async VO(g){g=
{powerPreference:this.vG,depth:this.g.xl,failIfMajorPerformanceCaveat:g,dka:this.g.ZA,KI:this.g.xI};this.Ni=f.j(f.H.Gja);await this.Ni.Ja(this.Hj,g)}async UO(g){g={powerPreference:this.vG,oT:!0,depth:this.g.xl,KI:this.g.xI,failIfMajorPerformanceCaveat:g};"Android"===f.Tc.Lp&&"Chromium"===f.Tc.mw&&75>f.Tc.SB&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.DT=1);"standard"===this.g.xq?g.alpha=
!0:(g.alpha=!1,g.fJ=!0);this.ab=f.j(f.H.h3,this.Hj,g);await this.ab.ux()}async h6(){if(this.GA){const g=[];for(const [l,n]of Object.entries(this.GA))n.src=n.Tca,g.push(this.Ni.cC(n,f.H.Hja.Pw(),l));await Promise.all(g)}}async g6(){if(this.GA){const g=[];for(const [l,n]of Object.entries(this.GA))n.src=n.Hba,g.push(this.ab.cC(n,f.H.ht.Pw(),l));await Promise.all(g);this.ab.e1();this.ab.xj()}this.ab.yj()&&(this.Az=f.j(f.H.BN,this.ab))}A(){this.Hj=this.ab=this.g=null}D7(g){const l=this.g,n=g.devicePixelRatio;
l.$k&&(self.devicePixelRatio=n);l.b9(n);this.Rq=!!g.isFullscreen;this.bd(g.innerWidth,g.innerHeight);l.W();l.ub&&(l.As()||self.Mg.Sea())&&l.Qn()}l7(g){this.Rq=!!g.isFullscreen;this.bd(g.innerWidth,g.innerHeight,!0);this.g.W()}m7(g){this.Rq=!!g.isFullscreen;this.bd(g.innerWidth,g.innerHeight,!0);this.g.W()}bd(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.Rm!==g||this.Qm!==l||n){this.Rm=g;this.Qm=l;n=this.ks();"letterbox-scale"===n?this.I3(g,l):"letterbox-integer-scale"===
n?this.H3(g,l):"off"===n?this.F3(g,l):this.G3(g,l);this.X9(n);this.Hj.width=this.jh;this.Hj.height=this.ih;this.g.Ls("canvas","update-size",{marginLeft:this.gm,marginTop:this.hm,styleWidth:this.Vc,styleHeight:this.Gc});g=this.gb();g.bd(this.jh,this.ih,!0);for(var p of this.Qt)g.TV(p);f.C(this.Qt);g.qp(this.iz,this.aj()/this.Ph());p=this.g.$a;p.Tp();p.Sp()}}I3(g,l){const n=this.g.Zi(),p=this.g.Ag,q=this.g.zg,u=p/q;g/l>u?(this.Vc=Math.round(l*u),this.Gc=l,this.gm=Math.floor((g-this.Vc)/2),this.hm=0):
(this.Vc=g,this.Gc=Math.round(g/u),this.gm=0,this.hm=Math.floor((l-this.Gc)/2));this.jh=Math.round(this.Vc*n);this.ih=Math.round(this.Gc*n);this.g.ct(p,q)}H3(g,l){const n=this.g.Zi();1!==n&&(g+=1,l+=1);const p=this.g.Ag,q=this.g.zg;var u=p/q;u=g/l>u?l*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.jh=Math.round(p*u);this.ih=Math.round(q*u);this.Vc=this.jh/n;this.Gc=this.ih/n;this.gm=Math.max(Math.floor((g-this.Vc)/2),0);this.hm=Math.max(Math.floor((l-this.Gc)/2),0);this.g.ct(p,q)}G3(g,
l){const n=this.g.Zi();this.Vc=g;this.Gc=l;this.jh=Math.round(this.Vc*n);this.ih=Math.round(this.Gc*n);this.hm=this.gm=0;g=this.$i();this.g.ct(this.Vc/g,this.Gc/g)}F3(g,l){const n=this.g.Zi();this.Vc=this.g.Vf;this.Gc=this.g.Uf;this.jh=Math.round(this.Vc*n);this.ih=Math.round(this.Gc*n);this.Rq?(this.gm=Math.floor((g-this.Vc)/2),this.hm=Math.floor((l-this.Gc)/2)):this.hm=this.gm=0;this.g.ct(this.g.Vf,this.g.Uf)}X9(g){if("high"===this.AI)this.Wc=this.jh,this.Ic=this.ih,this.oh="high";else{let n;if("off"===
this.ks()){var l=this.g.Vf;n=this.g.Uf}else l=this.g.Ag,n=this.g.zg;this.jh<l&&this.ih<n?(this.Wc=this.jh,this.Ic=this.ih,this.oh="high"):(this.Wc=l,this.Ic=n,this.oh="low","scale-inner"===g?(g=l/n,l=this.Rm/this.Qm,l<g?this.Wc=this.Ic*l:l>g&&(this.Ic=this.Wc/l)):"scale-outer"===g&&(g=l/n,l=this.Rm/this.Qm,l>g?this.Wc=this.Ic*l:l<g&&(this.Ic=this.Wc/l)))}}G(){return this.g}R1(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.TQ=g;g=this.g.$a;g.Tp();g.Sp()}Tw(){return this.TQ}ks(){return this.Rq?
this.N$:this.Tw()}NM(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.AI=g;this.g.$a.Tp()}static u5(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}aj(){return this.Wc}Ph(){return this.Ic}MD(g){this.Iq=!!g}z9(g){this.ES=g}j_(){return this.gb().En()}Bt(g){console.log("[Construct 3] WebGL context lost");
g.preventDefault();this.Qt=[];this.YA.clear();this.ab.Ak();this.g.Bt()}async TE(){await this.ab.pD();await this.Rja();for(const g of this.g.sF)for(const l of g.ag())l.RO(this.ab);await this.g.TE();console.log("[Construct 3] WebGL context restored")}Bn(){return this.ab}ys(){return this.Ni}gb(){return this.Ni||this.ab}Nl(){return"low"===this.oh?1/this.g.Zi():this.$i()}$i(){const g=this.ks();if("off"===g||"crop"===g)return 1;const l=this.g.Ag,n=this.g.zg,p=l/n,q=this.jh/this.ih;return"scale-inner"!==
g&&q>p||"scale-inner"===g&&q<p?this.Gc/n:this.Vc/l}ns(){return"low"===this.oh?1:this.$i()}ms(){return"low"===this.oh?1:this.g.Zi()}G1(g,l,n){l=l||this.Wc;n=n||this.Ic;const p=l/2+this.L$,q=n/2+this.M$;{let u=this.iz;if(l!==this.Wc||n!==this.Ic)g.qp(c,l/n),u=c;g.Sn(u)}l=g.Tr(p,q,100*this.g.Zi(),p,q,n||this.Ic);g.Zp(l)}D1(g){var l=this.Vc/2;const n=this.Gc/2;g.Sn(this.iz);l=g.Tr(l,n,100,l,n);g.Zp(l)}gs(){return this.gm}hs(){return this.hm}bs(g){g.depth=this.g.xl;const l=this.Qt,n=l.findIndex(q=>q.ZZ(g));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.gb().HV(g);this.YA.add(p);return p}Nn(g){if(!this.YA.has(g))throw Error("render target not in use");this.YA.delete(g);this.Qt.push(g)}HX(){const g={Si:this.g.dd};"low"===this.oh&&(g.width=this.aj(),g.height=this.Ph());return this.bs(g)}O0(g){this.Nn(g)}*gB(){for(const g of this.g.$a.bw())for(const l of g.Nb){const n=this.jH.get(l);n&&(yield n)}}QK(g){if(!this.gb().yj())return null;let l=this.jH.get(g);l||(l={name:g.wa(),AJ:f.j(f.H.BN,this.ab),iB:0,BT:0},
this.jH.set(g,l));return l.AJ}U9(){const g=this.gb();if(g.yj()&&0===this.Jf){this.Jf=g.nh;this.pu=NaN;for(const l of this.gB())l.iB=NaN}}b$(){this.ab&&this.ab.yj()&&this.c$();this.Ni&&this.Ni.yj()&&this.d$()}c$(){if(isNaN(this.pu)&&(this.pu=this.Az.MK(this.lm,this.Jf),!isNaN(this.pu))){if(this.g.ub)for(const g of this.gB())if(g.iB=g.AJ.MK(this.lm,this.Jf),isNaN(g.iB))return;this.Az.jK(this.Jf);this.Oq=Math.min(this.pu,1);if(this.g.ub){for(const g of this.gB())g.AJ.jK(this.Jf),g.BT=Math.min(g.iB,1);
self.Mg.W2(this.Oq,[...this.gB()])}this.lm=this.Jf;this.Jf=0}}d$(){if(0!==this.Jf){for(var g=this.lm;g<this.Jf;++g){var l=this.fB.get(g);if(l&&!l.qx())return}l=this.g.Ib();g=f.H_(l.Nb.length+1);for(var n=this.lm;n<this.Jf;++n){var p=this.fB.get(n);if(p){p=p.hx();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.Oq=f.ea(g[0],0,1);if(this.g.ub){n=[];l=l.Nb;for(let q=0,u=Math.min(l.length,g.length-1);q<u;++q)n.push({name:l[q].wa(),
BT:f.ea(g[q+1],0,1)});self.Mg.W2(this.Oq,n)}for(g=this.lm;g<this.Jf;++g)this.fB.delete(g);this.lm=this.Jf;this.Jf=0}}B3(g){this.fB.set(this.Ni.nh,g)}Vw(){return this.Oq}kN(g,l,n,p,q,u){this.KA=g;this.WH=l;this.rS.Kh(n,p,q,u);return this.mv?this.mv:this.mv=new Promise(w=>{this.sS=w})}V6(){if(this.KA){var g=this.Hj,l=this.rS,n=f.ea(Math.floor(l.S),0,g.width),p=f.ea(Math.floor(l.M),0,g.height),q=l.width();q=0===q?g.width-n:f.ea(Math.floor(q),0,g.width-n);l=l.height();l=0===l?g.height-p:f.ea(Math.floor(l),
0,g.height-p);(0!==n||0!==p||q!==g.width||l!==g.height)&&0<q&&0<l&&(g=f.Ng(q,l),g.getContext("2d").drawImage(this.Hj,n,p,q,l,0,0,q,l));f.pw(g,this.KA,this.WH).then(u=>{this.XH=URL.createObjectURL(u);this.mv=null;this.sS(this.XH)});this.KA="";this.WH=1}}zZ(g){this.ab&&(2===g?(this.ff=f.j(f.H.uD,this.gb()),this.ff.TM(),this.ff.ID("Arial"),this.ff.JD(16),this.ff.PM("center"),this.ff.jN("center"),this.ff.bd(300,200)):0===g?(g=this.g.Xq)&&g.Fs(this.ab).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===g&&(this.L6().then(l=>{"done"===this.Li?this.ab.Vi(l):this.hf.Wv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.$O("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Li?this.ab.Vi(l):this.hf.Zv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.$O("splash-images/splash-website-512.png").then(l=>{"done"===this.Li?this.ab.Vi(l):this.hf.ew=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async L6(){var g=(new URL("splash-images/splash-logo.svg",
this.g.oC())).toString();g=await f.lk(g);g=await this.g.L0(g);return await this.ab.zw(g,{Xv:"high"})}async $O(g){g=(new URL(g,this.g.oC())).toString();g=await f.lk(g);return await this.ab.zw(g,{Xv:"high"})}QC(){this.g.Ls("runtime","hide-cordova-splash")}E2(){this.Qu=Date.now();this.g.Sb().addEventListener("loadingprogress",this.pH);this.Xd=requestAnimationFrame(()=>this.kO());3!==this.g.Wq&&this.QC()}async aX(){if(this.ab){this.tm=1;var g=this.g.Wq;4===g&&await this.xS;this.xS=this.ZH=null;-1!==this.Xd&&
(cancelAnimationFrame(this.Xd),this.Xd=-1);this.g.Sb().removeEventListener("loadingprogress",this.pH);this.pH=null;this.ff&&(this.ff.A(),this.ff=null);this.g.P0();this.ab.dt();this.hf.Wv&&(this.ab.Vi(this.hf.Wv),this.hf.Wv=null);this.hf.Zv&&(this.ab.Vi(this.hf.Zv),this.hf.Zv=null);this.hf.ew&&(this.ab.Vi(this.hf.ew),this.hf.ew=null);this.ab.hn();this.ab.Yr();this.Li="done";this.lm=this.ab.nh;3===g&&this.QC()}}kO(){if(-1!==this.Xd){var g=this.ab;if(g){g.dt();this.Xd=-1;var l=this.g.ld.yG,n=this.g.Wq;
3!==n&&(this.D1(g),g.hn(),g.Ps(),g.xj(),g.Ef(null));if(0===n)this.Y4(l);else if(1===n)this.ky(l,120,0);else if(2===n)this.X4(l);else if(3!==n)if(4===n)this.Z4(l);else throw Error("invalid loader style");g.Yr();this.Xd=requestAnimationFrame(()=>this.kO())}}}X4(g){g?this.ff.HM(1,0,0):this.ff.HM(.6,.6,.6);this.ff.Yx(Math.round(100*this.tm)+"%");g=this.Vc/2;const l=this.Gc/2;h.WT(g-150,l-100,g+150,l+100);this.ab.Ef(this.ff.Pd());this.ab.Pp(h,this.ff.kj())}ky(g,l,n){const p=this.ab;p.GM();g?p.Pe(1,0,0,
1):p.Pe(.118,.565,1,1);g=this.Vc/2;const q=this.Gc/2,u=l/2;m.Kh(g-u,q-4+n,Math.floor(l*this.tm),8);p.Rect(m);m.Kh(g-u,q-4+n,l,8);m.offset(-.5,-.5);m.YI(.5,.5);p.Pe(0,0,0,1);p.FL(m);m.YI(1,1);p.Pe(1,1,1,1);p.FL(m)}Y4(g){var l=this.g.Xq;if(l)if(l=l.Pd()){var n=l.$(),p=l.Z(),q=this.Vc/2,u=this.Gc/2,w=n/2;p/=2;h.WT(q-w,u-p,q+w,u+p);this.ab.Ef(l);this.ab.kd(h);this.ky(g,n,p+16)}else this.ky(g,120,0);else this.ky(g,120,0)}Z4(g){const l=this.ab,n=this.hf.Wv,p=this.hf.Zv,q=this.hf.ew,u=Date.now();0===this.aI&&
(this.Qu=u);const w=this.g.Hp()||this.g.aaa&&!this.g.$Z(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Li?y=Math.min((u-this.Qu)/300,1):"fade-out"===this.Li&&(y=Math.max(1-(u-this.$H)/300,0));l.GM();l.Pe(.231*y,.251*y,.271*y,y);m.set(0,0,this.Vc,this.Gc);l.Rect(m);const A=Math.ceil(this.Vc),G=Math.ceil(this.Gc);let z;256<this.Gc?(l.Pe(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Kh(0,.8*G-z/2,A,z),l.Rect(m),g?l.Pe(y,0,0,y):l.Pe(.161*y,.953*y,.816*y,y),g=A*this.tm,m.Kh(.5*A-g/2,.8*G-z/2,g,z),l.Rect(m),
l.Pe(y,y,y,y),l.xj(),p&&(g=1.5*f.ea(.22*G,105,.6*A),z=g/8,m.Kh(.5*A-g/2,.2*G-z/2,g,z),l.Ef(p),l.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.Kh(.5*A-g/2,.485*G-z/2,g,z),l.Ef(n),l.Rect(m)),q&&(g=1.5*f.ea(.22*G,105,.6*A),z=g/8,m.Kh(.5*A-g/2,.868*G-z/2,g,z),l.Ef(q),l.Rect(m))):(l.Pe(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Kh(0,.85*G-z/2,A,z),l.Rect(m),g?l.Pe(y,0,0,y):l.Pe(.161*y,.953*y,.816*y,y),g=A*this.tm,m.Kh(.5*A-g/2,.85*G-z/2,g,z),l.Rect(m),l.Pe(y,y,y,y),l.xj(),n&&(z=g=.55*G,m.Kh(.5*A-g/2,.45*
G-z/2,g,z),l.Ef(n),l.Rect(m)));this.aI++;"fade-in"===this.Li&&300<=u-this.Qu&&2<=this.aI&&(this.Li="wait",this.yS=u);"wait"===this.Li&&u-this.yS>=v&&1<=this.tm&&(this.Li="fade-out",this.$H=u);("fade-out"===this.Li&&u-this.$H>=300+r||w&&1<=this.tm&&500>u-this.Qu)&&this.ZH()}}}
{"use strict";const f=self.B,a=self.Mg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;f.yM=class extends f.ba{constructor(c){c=Object.assign({},b,c);super();this.Uu=c.messagePort;this.s$=c.baseUrl;this.$k=!!c.isInWorker;e=c.ife;this.km=c.exportType;this.BR=!!c.isiOSCordova;this.aaa=!!c.isFBInstantAvailable;this.vaa=c.opusWasmScriptUrl;this.bS=c.opusWasmBinaryUrl;this.Ud=this.z$=this.ub=!("preview"!==this.km||!c.isDebug);this.YF=
0;this.pF=[];this.k$=[];this.LH=this.hS=this.zA="";this.zg=this.Ag=0;this.Dq=self.devicePixelRatio;this.Wq=this.Uf=this.Vf=this.sA=this.rA=0;this.aB=!1;this.Nj=!0;this.xI=this.ZA=!1;this.Xq=null;this.ld=f.j(f.RU,this,c);this.$a=f.j(f.v_,this);this.oa=f.j(f.fX,this);this.So=f.j(f.v0,this);this.no=f.j(f.rV,this);this.xb=f.j(f.L2,this);this.kI=f.j(f.O2,this);this.Dc=[];this.DH=new Map;this.EH=new Map;this.OQ=0;this.m$=[];this.sF=[];this.eu=[];this.Zk=[];this.Kz=new Map;this.Cz=!1;this.Xu=this.FH=0;this.Do=
new Map;this.Eo=new Set;this.Lz=new Set;this.qA=[];this.DR=[];this.V=null;this.xl=!1;this.pG="vsync";this.xq="standard";this.dd="trilinear";this.bl=!1;this.AH=!0;this.YG=this.eS=!1;this.Jaa={HT:h=>{this.pl=this.Xd=-1;this.Se(h)},Ica:h=>{this.pl=-1;this.Se(h,!1,"skip-render")},rca:()=>{this.Xd=-1;this.Qn()}};this.pl=this.Xd=-1;this.Kq=this.Uj=0;this.hR=this.Tz=this.Dz=!1;this.UG=!0;this.mr=0;this.Aaa=()=>Math.random();this.ju=this.ku=this.gA=this.QA=0;this.Kd=1;this.XR=30;this.tG=f.j(f.Bx);this.uG=
f.j(f.Bx);this.zI=f.j(f.Bx);this.yz=-1;this.lA=this.fl=this.xz=this.yo=0;this.Oj=!1;this.Pu=this.dv="";this.Vq=null;this.Mo="";this.SH=this.KH=null;this.Kb=f.j(f.Event.Sb);this.bG=new Map;this.HH=new Map;this.raa=0;this.zR=!1;this.yI=[];this.vo={pretick:f.j(f.Event,"pretick",!1),tick:f.j(f.Event,"tick",!1),tick2:f.j(f.Event,"tick2",!1),instancedestroy:f.j(f.Event,"instancedestroy",!1),beforelayoutchange:f.j(f.Event,"beforelayoutchange",!1),layoutchange:f.j(f.Event,"layoutchange",!1)};this.vo.instancedestroy.instance=
null;this.Ld=f.j(f.Event.Sb);this.MS=null;this.fm=f.j(f.Mn,f.iw.YD);this.lo=f.j(f.Mn,f.iw.YD);this.mo=f.j(f.Mn,f.iw.YD);this.Ju=f.j(f.r_,this,c.jobScheduler);c.canvas&&(this.V=f.j(f.RJ,this));this.Uu.onmessage=h=>this._OnMessageFromDOM(h.data);this.gk("runtime","visibilitychange",h=>this.A7(h));this.gk("runtime","opus-decode",h=>this.g$(h.arrayBuffer));this.gk("runtime","get-remote-preview-status-info",()=>this.M5());this.gk("runtime","js-invoke-function",h=>this.uy(h));this.gk("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Kb.addEventListener("window-blur",h=>this.B7(h));this.Kb.addEventListener("window-focus",()=>this.C7());this.xb.FU();this.Ai=null;this.X$=new WeakMap;this.SF={keyboard:null,ET:null,cU:null}}static Ja(c){return f.j(f.yM,c)}A(){f.C(this.Dc);this.DH.clear();this.EH.clear();this.$a.A();this.$a=null;this.oa.A();this.oa=null;this.So.A();this.So=null;this.ld.A();this.ld=null;this.no.A();this.no=null;this.xb.A();this.xb=null;this.kI.A();this.kI=null;this.V&&(this.V.A(),this.V=
null);this.Kb.A();this.Kb=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.lP(c);else if("result"===h)this.w7(c);else throw Error(`unknown message '${h}'`);}lP(c){if(this.zR){var h=c.component,m=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new f.Event(m),c.data=g,this.Kb.sba(c)),l)){c=new f.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=u;this.Og(c)}if(c=this.bG.get(h))if(c=
c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.xy(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.xy(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.xy(p,!1,""+q)}):this.xy(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.yI.push(c)}xy(c,h,m){this.Uu.postMessage({type:"result",
responseId:c,isOk:h,result:m})}w7(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.HH.get(h);m?g.resolve(c):g.reject(c);this.HH.delete(h)}gk(c,h,m){let g=this.bG.get(c);g||(g=new Map,this.bG.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}Ls(c,h,m){this.Uu.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}Np(c,h,m){const g=this.raa++,l=new Promise((n,p)=>{this.HH.set(g,{resolve:n,reject:p})});this.Uu.postMessage({type:"event",
component:c,handler:h,data:m,responseId:g});return l}async Dp(c){this.ub?await a.Dp(this):self.Mg&&self.Mg.Iea(this);var [h]=await Promise.all([this.ld.sK("data.json"),this.U6(),this.Ju.Dp()]);this.x6(h);await this.i6(c);this.Hp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Bn()?(h=this.Bn(),console.info(`[C3 runtime] Hosted in ${this.$k?"worker":"DOM"}, rendering with WebGL ${h.Zc} [${h.Cv}] (${h.b_()?"desynchronized":"standard"} compositing)`)):
this.ys()&&console.info(`[C3 runtime] Hosted in ${this.$k?"worker":"DOM"}, rendering with experimental WebGPU`);this.gb().zG&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.zR=!0;for(const m of this.yI)this.lP(m);f.C(this.yI);this.V&&this.V.E2();for(const m of c.runOnStartupFunctions)this.pF.push(this.s8(m));await Promise.all([this.ld.zN(),...this.pF]);f.C(this.pF);if(this.ld.yG)this.V&&
this.V.QC();else return this.V&&await this.V.aX(),await this.Kb.RI(new f.Event("beforeruntimestart")),await this.dt(),this.Uu.postMessage({type:"runtime-ready"}),this}async s8(c){try{await c(this.Ai)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}x6(c){c=c.project;this.zA=c[0];this.hS=c[16];this.LH=c[31];const h=c[39]||"loading-logo.png";this.bl=!!c[9];this.Ag=this.Vf=c[10];this.zg=this.Uf=c[11];this.rA=this.Ag/2;this.sA=this.zg/2;this.xq=c[36];this.pG=c[37];"low-latency"===
this.xq&&this.UZ()&&77>=f.Tc.SB&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.xq="standard");this.xl=!!c[40];this.dd=c[14];this.ZA=c[15];this.xI=c[17];this.aB=!!c[18];this.Wq=c[19];this.Xu=c[21];this.eS=c[22];const m=this.ld;m.V8(c[7]);m.j9(c[32]);m.o9(c[28]);m.A9(c[29]);if(0===this.Wq){let q="";this.Hp()?m.HE(h)&&(q=m.RK(h)):q=m.iR+h;q&&
(this.Xq=m.Fx({url:q}))}this.V&&(this.V.R1(f.RJ.u5(c[12])),this.V.NM(c[23]?"high":"low"),this.V.MD(0!==c[24]),this.V.k9(c[34]),this.V.z9(c[41]),this.V.B9(c[13]));this.So.IV();this.qA=self.NJ();for(var g of c[2])this.So.GV(g);this.qA=self.NJ();this.E6();for(var l of c[3])g=f.mD.Ja(this,this.Dc.length,l),this.Dc.push(g),this.DH.set(g.wa().toLowerCase(),g),this.EH.set(g.bb,g);for(const q of c[4])this.Dc[q[0]].A6(q);for(var n of c[27])l=n.map(q=>this.Dc[q]),this.m$.push(f.j(f.vV,this,l));for(const q of this.Dc)q.e7();
for(const q of c[5])this.$a.Ja(q);(n=c[1])&&(n=this.$a.wp(n))&&this.$a.N1(n);for(var p of c[33])this.xb.Ja(p);for(const q of c[35])this.kI.Ja(q);this.f6();for(const q of c[6])this.oa.Ja(q);this.oa.Fb();this.b6();f.C(this.qA);this.Ad();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Ls("runtime","set-target-orientation",{targetOrientation:p})}H5(){return this.OQ++}s3(c){this.sF.push(c)}async i6(c){this.V&&(await this.V.Ng(c),this.V.zZ(this.Wq))}async U6(){if(!this.ld.VZ()){var c=null;
try{c=this.BR&&this.ld.Du?await this.ld.cK(this.bS):await this.ld.Wr(this.bS)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.zU(c):this.yU();await this.AU([this.vaa])}}async g$(c){return await this.LB("OpusDecode",{arrayBuffer:c},[c])}async dt(){this.Dz=!0;this.QA=Date.now();if(this.aB){for(var c of this.Dc)c.Ua||c.XG||!c.Ze||c.Rd();this.ld.zN().then(()=>{this.Nj=!1;this.pP()})}else this.Nj=!1;this.ld.U1();this.ub&&a.Jha(e);for(const h of this.$a.li)h.Y3();
c=this.$a.SX();await c.KE(null,this.gb());await c.cQ(!0);this.yo=performance.now();this.aB||this.pP();(await this.Np("runtime","before-start-ticking")).isSuspended?this.mr++:this.Se()}pP(){this.kb(f.K.Eb.ua.j0,null,null);this.Ls("runtime","register-sw")}Tg(c){c=Math.floor(c);const h=this.qA;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}E6(){for(const c of self.aV){const h=f.first(Object.keys(c));this.DR.push(h)}}Th(c){c=Math.floor(c);const h=this.DR;if(0>c||c>=h.length)throw Error("invalid prop reference");
return h[c]}oC(){return this.s$}fa(){return this.oa}Sc(){return this.oa.Sc()}Ie(){return this.oa.Ie()}Cb(){return this.oa.Cb()}rf(){return this.oa.rf()}a_(){return 0===this.Ie().Qk}js(){return this.oa.js()}us(){return this.So.us()}Ke(c){c=Math.floor(c);if(0>c||c>=this.Dc.length)throw new RangeError("invalid index");return this.Dc[c]}Yw(c){return this.DH.get(c.toLowerCase())||null}Zw(c){return this.EH.get(c)||null}*Qaa(){for(const c of this.Dc)c.Ua||(yield*c.uT())}Sb(){return this.Kb}Og(c){c.pf=this.Ai;
const h=this.ub&&!this.oa.xx();h&&a.$D();this.Ld.dispatchEvent(c);h&&a.NB()}mn(c){c.pf=this.Ai;return this.Ld.RI(c)}b2(c,h){if(this.Ag!==c||this.zg!==h)this.Ag=c,this.zg=h,c=this.$a,c.Tp(),c.Sp()}ct(c,h){if(this.Vf!==c||this.Uf!==h)this.Vf=c,this.Uf=h,c=this.$a,c.Tp(),c.Sp()}b9(c){this.Dq=c}Zi(){return this.Dq}aj(){return this.V?this.V.aj():this.Vf}Ph(){return this.V?this.V.Ph():this.Uf}Nl(){return this.V?this.V.Nl():1}$i(){return this.V?this.V.$i():1}ns(){return this.V?this.V.ns():1}ms(){return this.V?
this.V.ms():1}gs(){return this.V?this.V.gs():0}hs(){return this.V?this.V.hs():0}Tw(){return this.V?this.V.Tw():"off"}bs(c){return this.V?this.V.bs(c):null}Nn(c){this.V&&this.V.Nn(c)}Vw(){return this.V?this.V.Vw():NaN}fD(){return"nearest"!==this.dd}P0(){this.Xq&&(this.Xq.A(),this.Xq=null)}Ib(){return this.$a.Ib()}Fx(c){return this.ld.Fx(c)}aC(c,h,m,g,l){return this.Oh(c,h,!1,m,g,!1,l,void 0,l)}Oh(c,h,m,g,l,n,p,q,u){var w=null;let r=null;c instanceof f.mD?(r=c,r.Ua&&(w=r.wo,r=w[Math.floor(this.Qp()*
w.length)]),w=r.Cq):(w=c,r=this.Ke(w[1]));c=r.pb().Ze;if(this.Nj&&c&&!r.XG)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.Do.has(w[2])?w[2]:this.Xu++;const A=w?w[0]:null,G=f.j(f.Instance,{pf:this,kJ:r,CT:h,mU:A,tT:w?w[3]:null,uid:y});this.Do.set(y,G);y=null;c&&(y=G.m(),"undefined"!==typeof g&&"undefined"!==typeof l&&(y.ah(g),y.bh(l)),r.OP());h&&(u||h.mg(G,!0),1===h.df&&1===h.ef||r.$E(!0),h.Tb().LL(r));this.FH++;let z=!0;q&&(q=q.F(),q.Mb()&&r.Mb()&&r.rg===q.rg&&(z=!1));if(r.Mb()&&!m&&!n&&
z){for(var F of r.rg.ll)F!==r&&(q=this.Oh(F,v,!1,y?y.qa():g,y?y.ra():l,!0,!1,void 0,u),G.hq(q));for(var H of G.md){H.hq(G);for(const J of G.md)H!==J&&H.hq(J)}}c&&!m&&p&&this.mE(G,A,y,h,g,l,u);if(r.Mb()&&!m&&!n&&p)for(const J of G.md)if(m=J.m())F=J.pb(),H=J.F().Cq[0],F.Ze?this.mE(J,H,m,h,m.qa(),m.ra(),u):this.mE(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===typeof g&&(g=A[0]),"undefined"===typeof l&&(l=A[1]),h=y.kx(),g=g-y.qa()+h.qa(),l=l-y.ra()+h.ra(),h.Ek(g,l));r.Et();l=w?f.MI(w[5]):null;w=w?w[4].map(J=>
f.MI(J)):null;c&&A&&A[13]&&G.n9();G.hy(l,w);this.Zk.push(G);this.Cz=!0;this.ub&&a.Jea(G);return G}mE(c,h,m,g,l,n,p){var q=m.AY(),u=m.WK();c.m().OD(q);if(u){"undefined"===typeof l&&(l=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.$a.EC(A[0]).X(w).$X(r);w=this.Ke(r[1]);var y=c.XY(w);const z=q.has(w);y&&!z&&v?(v=c.bL(w),y=l+r[0][0]-m,r=n+r[0][1]-h,v.m().Ek(y,r),v.m().OD(G),c.Hl(v,{Qr:!!(u>>0&1),Rr:!!(u>>1&1),
mp:!!(u>>2&1),lp:!!(u>>3&1),Pr:!!(u>>4&1),Lv:!!(u>>5&1),Sr:!!(u>>6&1)}),q.add(w)):(w=this.Oh(r,g,!1,l+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.m().OD(G),c.Hl(w,{Qr:!!(u>>0&1),Rr:!!(u>>1&1),mp:!!(u>>2&1),lp:!!(u>>3&1),Pr:!!(u>>4&1),Lv:!!(u>>5&1),Sr:!!(u>>6&1)}))}}}ln(c){if(!this.Eo.has(c)){var h=c.F(),m=this.Kz.get(h);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),this.Kz.set(h,m);this.ub&&a.Kea(c);c.OE();this.Cz=!0;if(c.Mb())for(const g of c.md)this.ln(g);for(const g of c.children())g.Qw()&&
this.ln(g);this.$a.vL()||this.Oj||(h=this.fa(),h.de(!0),c.Q9(),h.de(!1));c.m5(this.$a.vL())}}Ad(){this.Cz&&(this.o5(),this.p5(),this.Cz=!1,this.W())}o5(){for(const c of this.Zk){const h=c.F();h.mg(c);for(const m of h.mh)m.mg(c),m.Et()}f.C(this.Zk)}p5(){this.Kb.Wp(!0);for(const [c,h]of this.Kz.entries())this.q5(c,h),h.clear();this.Kz.clear();this.Kb.Wp(!1)}q5(c,h){for(const g of h){var m=this.vo.instancedestroy;m.instance=g;this.Kb.dispatchEvent(m);this.Do.delete(g.Oc);if(m=g.m())m.zP(),m.AP(),m.OE();
this.Eo.add(g);this.FH--}f.Wf(c.ga(),h);c.Et();this.Lz.add(c);0===c.ga().length&&c.$E(!1);for(const g of c.mh)f.Wf(g.ga(),h),g.Et(),this.Lz.add(g);if(c.pb().Ze){c=new Set([...h].map(g=>g.m().X()));for(const g of c)g.X7(h)}}*ZI(c){for(const h of this.Zk)c.Ua?h.F().RB(c)&&(yield h):h.F()===c&&(yield h)}G5(){return this.Xu++}R6(c,h){this.Do.set(c,h)}Bt(){this.Kb.dispatchEvent(f.j(f.Event,"webglcontextlost"));this.bt(!0);for(var c of this.Dc)!c.Ua&&c.VY()&&c.On();(c=this.Ib())&&c.Bt();f.tx.Mp();f.oL.Mp()}async TE(){await this.Ib().KE(null,
this.Bn());this.Kb.dispatchEvent(f.j(f.Event,"webglcontextrestored"));this.bt(!1);this.W()}A7(c){this.bt(c.hidden)}B7(c){this.Hp()&&this.eS&&!f.Tc.iD&&!c.data.parentHasFocus&&(this.bt(!0),this.YG=!0)}C7(){this.YG&&(this.bt(!1),this.YG=!1)}BP(){const c=this.Jaa;"vsync"===this.pG?-1===this.Xd&&(this.Xd=self.requestAnimationFrame(c.HT)):"unlimited-tick"===this.pG?(-1===this.pl&&(this.pl=f.wD(c.Ica)),-1===this.Xd&&(this.Xd=self.requestAnimationFrame(c.rca))):-1===this.pl&&(this.pl=f.wD(c.HT))}M3(){-1!==
this.Xd&&(self.cancelAnimationFrame(this.Xd),this.Xd=-1);-1!==this.pl&&(f.hV(this.pl),this.pl=-1)}In(){return 0<this.mr}bt(c){var h=this.In();this.mr+=c?1:-1;0>this.mr&&(this.mr=0);c=this.In();!h&&c?(console.log("[Construct 3] Suspending"),this.M3(),this.Kb.dispatchEvent(f.j(f.Event,"suspend")),this.kb(f.K.Eb.ua.n0,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),this.yo=this.gA=h=performance.now(),this.fl=this.lA=this.xz=this.yz=0,this.Kb.dispatchEvent(f.j(f.Event,"resume")),this.kb(f.K.Eb.ua.k0,
null,null),this.As()||this.Se(h))}p3(c){this.fm.Ac(c)}Z7(c){this.fm.Yg(c)}Y7(c){this.lo.Yg(c)}a8(c){this.mo.Yg(c)}D3(){this.fm.$g(!0);for(const c of this.fm)c.Se();this.fm.$g(!1)}C3(){this.lo.$g(!0);for(const c of this.lo);this.lo.$g(!1)}E3(){this.mo.$g(!0);for(const c of this.mo);this.mo.$g(!1)}*i4(){this.fm.$g(!0);for(const c of this.fm){const h=c.Se();f.Sl(h)&&(yield*h)}this.fm.$g(!1)}*h4(){this.lo.$g(!0);for(const c of this.lo)f.Sl(void 0)&&(yield*void 0);this.lo.$g(!1)}*j4(){this.mo.$g(!0);for(const c of this.mo)f.Sl(void 0)&&
(yield*void 0);this.mo.$g(!1)}async Se(c,h,m){this.hR=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.Dz&&(!this.In()||h||g)&&(h=performance.now(),this.Tz=!0,this.X6(c||0),c=this.G2(),this.Ud&&await c,c=this.Kb.tba(this.vo.pretick),c instanceof Promise&&await c,c=this.F2(),this.Ud&&await c,this.c7()&&await this.U5(),this.$a.Gp()&&await this.T6(),c=this.H2(),this.Ud&&await c,m&&this.Qn(),this.In()||g||this.BP(),this.Uj++,this.Kq++,this.Tz=!1,this.fl+=performance.now()-
h)}async G2(){const c=this.oa,h=this.ub;this.Ad();c.de(!0);this.Ms(this.Ib());h&&a.gq();this.Ud?await c.OV():c.n1();h&&a.xU();this.Ks();c.de(!1);this.Ad();c.de(!0)}async F2(){const c=this.ub,h=this.Ud,m=this.Kb,g=this.vo,l=this.MS;c&&a.gq();h?await this.Dw(this.i4()):this.D3();h?await this.Dw(this.h4()):this.C3();c&&a.tU();c&&a.gq();h?await this.hK(g.tick):m.dispatchEvent(g.tick);c&&a.CU();this.oa.de(!1);this.Og(l.tick)}async H2(){const c=this.oa,h=this.Kb,m=this.vo,g=this.ub,l=this.Ud;g&&a.gq();
l?await c.MV(this.$a):c.l1(this.$a);g&&a.xU();this.no.UJ();this.xP();this.UG=!1;c.de(!0);g&&a.gq();l?await this.Dw(this.j4()):this.E3();g&&a.tU();g&&a.gq();l?await this.hK(m.tick2):h.dispatchEvent(m.tick2);g&&a.CU();c.de(!1);l&&await c.xM()}xP(){if(0!==this.Eo.size){var c=this.Kb;c.Wp(!0);for(const h of this.Lz)h.Cm.Pn(this.Eo);this.Lz.clear();this.oa.S0(this.Eo);for(const h of this.Eo)h.A();this.Eo.clear();c.Wp(!1)}}async T6(){const c=this.$a;let h=0;for(;c.Gp()&&10>h++;)await this.eO(c.$u)}X6(c){let h=
0;0!==this.gA&&(h=Math.max(c-this.gA,0)/1E3,.5<h&&(h=0),this.ku=Math.min(h,1/this.XR));this.gA=c;this.ju=this.ku*this.Kd;this.tG.Ac(this.ju);this.uG.Ac(h*this.Kd);this.zI.Ac(this.ku);this.V&&this.V.b$();1E3<=c-this.yo&&(this.yo+=1E3,1E3<=c-this.yo&&(this.yo=c),this.xz=this.yz,this.yz=0,this.lA=Math.min(this.fl/1E3,1),this.fl=0,this.V&&this.V.U9(),this.ub&&a.yja());this.yz++}async eO(c){const h=this.Kb,m=this.$a.Ib();await m.L9();m.T9(c,this.gb());m===c&&this.oa.rw();this.no.UJ();this.xP();h.dispatchEvent(this.vo.beforelayoutchange);
f.hk.OM(!0);await c.KE(m,this.gb());f.hk.OM(!1);await c.cQ(!1);h.dispatchEvent(this.vo.layoutchange);this.W();this.UG=!0;this.Ad()}W(){this.AH=!0}Bn(){return this.V?this.V.Bn():null}ys(){return this.V?this.V.ys():null}gb(){return this.V?this.V.gb():null}Qn(){const c=this.V;if(c&&!c.j_()){var h=this.gb(),m=h.yj(),g=m&&h.zk();m=m&&!1;g&&h.jV();if(this.AH){var l=this.$a.Ib();h.dt();var n=this.ub;n&&a.gq();this.AH=!1;var p=null;g&&(p=c.Az.OB(),h.aE(p));g=null;m&&(g=h.Xia(2*(1+l.Nb.length)),h.k3(0));this.xl&&
"low"===c.oh?h.O1(c.aj(),c.Ph()):h.y1();this.g8(this.gb(),l);p&&h.hC(p);m&&(h.k3(1),this.V.B3(g));h.Yr();n&&(a.Zca(),a.zja());c&&c.V6()}else h.nZ()}}g8(c,h){c.xj();c.EM();c.Pe(1,1,1,1);c.jg(null);c.Ef(null);c.ig(this.xl);h.Qg(c)}kb(c,h,m){if(!this.Dz)return!1;var g=!this.Tz&&!this.oa.eD();let l=0;g&&(l=performance.now());const n=this.ub;n&&this.Tx(!1);c=this.oa.Jt(this.$a,c,h,m);g&&(g=performance.now()-l,this.fl+=g,n&&a.bda(g));n&&this.Tx(!0);return c}async oe(c,h,m){if(!this.Ud)return this.kb(c,
h,m);if(!this.Dz)return!1;if(this.As())return this.oa.K0(c,h,m);if(!this.Ib())return this.oa.sD(c,h,m);const g=performance.now();c=this.oa.kt(this.$a,c,h,m);for(h=c.next();!h.done;)await this.sp(h.value),h=c.next();this.In()||this.oa.eD()||(await this.oa.xM(),this.hR&&!this.Tz&&this.BP());this.fl+=performance.now()-g;return h.value}Ms(c){this.eu.push(c)}Ks(){if(!this.eu.length)throw Error("layout stack empty");this.eu.pop()}Qa(){return this.eu.length?this.eu.Md(-1):this.Ib()}wC(c){return c&&-1!==
c.Kd?this.ku*c.Kd:this.ju}SD(c){if(isNaN(c)||0>c)c=0;this.Kd=c}ZM(c){this.XR=f.ea(c,1,120)}qn(){return this.tG.U()}WX(){return this.uG.U()}LC(){return this.zI.U()}xk(){++this.Kq}bj(c){if(this.Oj)throw Error("cannot call while loading state - wait until afterload event");return this.Do.get(c)||null}vP(){this.Do.clear();for(const c of this.Dc)if(!c.Ua)for(const h of c.ga())this.Do.set(h.Oc,h)}Hp(){return"preview"===this.km}$Z(){return"cordova"===this.km}UZ(){return"Android"===f.Tc.Lp&&("cordova"===
this.km||"playable-ad"===this.km||"instant-games"===this.km)}e2(c){c=!!c;this.bl!==c&&(this.bl=c,this.$a.Sp(),this.W())}s1(c){this.dv=c}B_(c){this.Pu=c}lD(c){this.Vq=c}c7(){return!(!this.dv&&!this.Pu&&null===this.Vq)}async U5(){this.dv&&(this.Ad(),await this.L4(this.dv),this.kE());this.Pu&&(await this.K4(this.Pu),this.kE(),this.ub&&a.Zia());if(null!==this.Vq){this.Ad();try{await this.fO(this.Vq),this.Mo=this.Vq,await this.oe(f.K.Eb.ua.UL,null),this.Mo=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",
c),await this.oe(f.K.Eb.ua.VL,null)}this.kE()}}kE(){this.Pu=this.dv="";this.Vq=null}L5(){this.KH||(this.KH=localforage.NI({name:"c3-localstorage-"+this.LH,description:this.zA}));return this.KH}GO(){this.SH||(this.SH=localforage.NI({name:"c3-savegames-"+this.LH,description:this.zA}));return this.SH}async L4(c){const h=await this.M8();try{await this.GO().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.Mo=h,await this.oe(f.K.Eb.ua.l0,null),this.Mo=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",
m),await this.oe(f.K.Eb.ua.m0,null)}}async K4(c){try{const h=await this.GO().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+h.length+" chars)");await this.fO(h);this.Mo=h;await this.oe(f.K.Eb.ua.UL,null);this.Mo=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.oe(f.K.Eb.ua.VL,null)}}async M8(){const c={c3save:!0,version:1,rt:{time:this.qn(),timeRaw:this.WX(),walltime:this.LC(),timescale:this.Kd,tickcount:this.Uj,
execcount:this.Kq,next_uid:this.Xu,running_layout:this.Ib().bb,start_time_offset:Date.now()-this.QA},types:{},layouts:{},events:this.oa.ca(),timelines:this.xb.ca(),user_script_data:null};for(var h of this.Dc)h.Ua||h.lL()||(c.types[h.bb.toString()]=h.ca());for(const m of this.$a.li)c.layouts[m.bb.toString()]=m.ca();h=this.pE("save");h.saveData=null;await this.mn(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async fO(c){var h=this.$a;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Kb.dispatchEvent(f.j(f.Event,"beforeload"));for(var m of this.Qaa())m.vy();this.Oj=!0;m=c.rt;this.tG.Set(m.time);m.hasOwnProperty("timeRaw")&&this.uG.Set(m.timeRaw);this.zI.Set(m.walltime);this.Kd=m.timescale;this.Uj=m.tickcount;this.Kq=m.execcount;this.QA=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Ib().bb)if(g=h.EC(g))await this.eO(g);else return;for(const [l,
n]of Object.entries(c.types))g=this.Zw(parseInt(l,10)),!g||g.Ua||g.lL()||g.ja(n);this.Ad();this.vP();this.Oj=!1;this.Xu=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=h.EC(parseInt(l,10)))&&m.ja(n);this.oa.ja(c.events);for(const l of this.Dc)if(!l.Ua&&l.Mb())for(const n of l.ga()){m=n.rn();for(const p of l.rg.ll)if(p!==l){g=p.ga();if(0>m||m>=g.length)throw Error("missing sibling instance");n.hq(g[m])}}this.xb.ja(c.timelines);h.Tp();h.Sp();this.Kb.dispatchEvent(f.j(f.Event,"afterload"));
h=this.pE("load");h.saveData=c.user_script_data;await this.mn(h);this.W()}async AU(c){c=(await Promise.all(c.map(h=>this.ld.lk(h)))).map(h=>URL.createObjectURL(h));this.Ju.mZ(c)}yU(){this.Ju.u1()}zU(c){this.Ju.v1(c)}LB(c,h,m){return this.Ju.LB(c,h,m)}async L0(c){var h=h||2048;var m=m||2048;return this.$k?(await this.Np("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,
h,m)}Qp(){return this.Aaa()}M5(){const c=this.Bn();return{fps:this.xz,cpu:this.lA,gpu:this.Vw(),layout:this.Ib()?this.Ib().wa():"",renderer:c?c.Cv:"<unavailable>"}}As(){return this.ub?a.As():!1}sp(c){return this.Ud?a.sp(c):Promise.resolve()}hc(){return this.Ud?a.qda():!1}Tx(c){c?this.YF--:this.YF++;this.W9()}W9(){this.Ud=this.ub&&this.z$&&0===this.YF}XC(){return this.ub&&a.XC()}bD(){return this.ub&&this.gb().yj()&&a.bD()}async Dw(c){if(c)for(const h of c)await this.sp(h)}hK(c){return this.Dw(this.Kb.uba(c))}uy(c){return this.oa.uy(c.name,
c.params)}pE(c){c=f.j(f.Event,c,!1);c.pf=this.Ai;return c}f6(){var c={};for(const h of this.Dc)c[h.Th()]={value:h.wu,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Ai=new self.gZ(this,c);this.MS={tick:this.pE("tick")}}b6(){const c={};for(const h of this.fa().tF)c[h.Th()]=h.HO();this.Ai.c6(c)}aP(c,h){this.X$.set(c,h)}};self.C3_CreateRuntime=f.yM.Ja;self.C3_InitRuntime=(c,h)=>c.Dp(h)}
{"use strict";const f=self.B;f.r_=class extends f.ba{constructor(a,b){super();this.g=a;this.Jo=new Map;this.taa=0;this.zu=b.inputPort;b.outputPort.onmessage=e=>this.oP(e);this.QR=b.maxNumWorkers;this.Ku=1;this.aR=this.Cu=!1}async Dp(){}mZ(a){this.zu.postMessage({type:"_import_scripts",scripts:a})}u1(){this.zu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}v1(a){this.zu.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}LB(a,b,e){e||(e=[]);const c=this.taa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((h,m)=>{this.Jo.set(c,{resolve:h,progress:void 0,reject:m,LI:!1})});this.zu.postMessage(a,e);this.bP();return b}oP(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.r7(e,a.result);break;case "progress":this.q7(e,a.progress);break;case "error":this.p7(e,a.error);break;case "ready":this.s7();break;default:throw Error(`unknown message from worker '${b}'`);}}r7(a,b){const e=this.Jo.get(a);if(!e)throw Error("invalid job ID");
e.LI||e.resolve(b);this.Jo.delete(a)}q7(a,b){a=this.Jo.get(a);if(!a)throw Error("invalid job ID");!a.LI&&a.progress&&a.progress(b)}p7(a,b){const e=this.Jo.get(a);if(!e)throw Error("invalid job ID");e.LI||e.reject(b);this.Jo.delete(a)}s7(){this.Cu&&(this.Cu=!1,this.Ku++,this.Ku<this.QR?this.bP():this.zu.postMessage({type:"_no_more_workers"}))}async bP(){if(!(this.Ku>=this.QR||this.Cu||this.aR||this.Jo.size<=this.Ku))try{this.Cu=!0,(await this.g.Np("runtime","create-job-worker")).outputPort.onmessage=
a=>this.oP(a)}catch(a){this.aR=!0,this.Cu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Ku} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.hsladjust={Hba:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",Tca:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n[[block]] struct ShaderParams {\nhuerotate : f32;\nsatadjust : f32;\nlumadjust : f32;\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n[[stage(fragment)]]\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",
bba:!1,Rca:!1,xba:0,yba:0,kba:!1,eca:!1,mca:!0,Xaa:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]};
{"use strict";const f=self.B;let a=null,b="",e="",c=[],h="",m="",g="";const l=f.j(f.OU);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}f.K.Eb=class extends f.Ox{constructor(p){super(p);this.bf=this.g.fa().bf;this.vd=this.g.fa().Sc();this.xu=this.Bo=0;this.VQ=new Map}A(){super.A()}W(){this.g.W()}kb(p){this.g.kb(p,null,null)}dx(p,q){a&&p===b&&q===e||(a=new RegExp(p,q),b=p,e=q);a.lastIndex=0;return a}VK(p,q,u){if(p===h&&q===m&&
u===g)return c;const w=this.dx(q,u);c=p.match(w);h=p;m=q;g=u;return c}async ME(p,q){if(q.length){this.Bo+=q.length;var u=[];for(const w of q)u.push(p.LL(w));await f.E0(u,()=>{this.xu++});this.xu++;this.xu===this.Bo&&(this.g.kb(f.K.Eb.ua.h0,null,null),this.Bo=this.xu=0)}}fQ(p,q){for(const u of q)0===u.D.length&&p.M_(u)}zO(){return l}i8(p){var q=this.g.fa();const u=q.Sc(),w=u.Je(),r=w.Cb(),v=r.fd();var y=w.oj();const A=u.Ka(r),G=q.bf,z=G.Ka();if(y)for(y=0;y<p&&!z.lc;++y)q.le(v),z.sc(y),r.gg(w,A),q.Db(v);
else for(q=0;q<p&&!z.lc;++q)z.sc(q),r.gg(w,A);u.Ga();G.Ga();return!1}*p4(p){var q=this.g.fa();const u=q.Sc(),w=u.Je(),r=w.Cb(),v=r.fd();var y=w.oj();const A=u.Ka(r),G=q.bf,z=G.Ka();if(y)for(y=0;y<p&&!z.lc;++y)q.le(v),z.sc(y),yield*r.Zf(w,A),q.Db(v);else for(q=0;q<p&&!z.lc;++q)z.sc(q),yield*r.Zf(w,A);u.Ga();G.Ga();return!1}h$(){var p=this.g.fa();const q=p.Sc(),u=q.Je(),w=u.Cb(),r=w.fd();var v=u.oj();const y=q.Ka(w),A=p.bf,G=A.Ka();if(v)for(v=0;!G.lc;++v)p.le(r),G.sc(v),w.gg(u,y)||G.Re(),p.Db(r);else for(p=
0;!G.lc;++p)G.sc(p),w.gg(u,y)||G.Re();q.Ga();A.Ga();return!1}*I4(){var p=this.g.fa();const q=p.Sc(),u=q.Je(),w=u.Cb(),r=w.fd();var v=u.oj();const y=q.Ka(w),A=p.bf,G=A.Ka();if(v)for(v=0;!G.lc;++v)p.le(r),G.sc(v),(yield*w.Zf(u,y))||G.Re(),p.Db(r);else for(p=0;!G.lc;++p)G.sc(p),(yield*w.Zf(u,y))||G.Re();q.Ga();A.Ga();return!1}r5(p,q,u){var w=this.g.fa();const r=w.Sc(),v=r.Je(),y=v.Cb(),A=y.fd(),G=v.oj(),z=r.Ka(y),F=w.bf,H=F.Ka();H.Xx(p);if(u<q)if(G)for(p=q;p>=u&&!H.lc;--p)w.le(A),H.sc(p),y.gg(v,z),w.Db(A);
else for(w=q;w>=u&&!H.lc;--w)H.sc(w),y.gg(v,z);else if(G)for(p=q;p<=u&&!H.lc;++p)w.le(A),H.sc(p),y.gg(v,z),w.Db(A);else for(w=q;w<=u&&!H.lc;++w)H.sc(w),y.gg(v,z);r.Ga();F.Ga();return!1}*m4(p,q,u){var w=this.g.fa();const r=w.Sc(),v=r.Je(),y=v.Cb(),A=y.fd(),G=v.oj(),z=r.Ka(y),F=w.bf,H=F.Ka();H.Xx(p);if(u<q)if(G)for(p=q;p>=u&&!H.lc;--p)w.le(A),H.sc(p),yield*y.Zf(v,z),w.Db(A);else for(w=q;w>=u&&!H.lc;--w)H.sc(w),yield*y.Zf(v,z);else if(G)for(p=q;p<=u&&!H.lc;++p)w.le(A),H.sc(p),yield*y.Zf(v,z),w.Db(A);
else for(w=q;w<=u&&!H.lc;++w)H.sc(w),yield*y.Zf(v,z);r.Ga();F.Ga();return!1}s5(p){var q=this.g.fa();const u=q.Sc(),w=u.Je(),r=w.Cb(),v=r.fd();var y=w.oj();const A=u.Ka(r),G=q.bf,z=G.Ka(),F=p.Mb(),H=p.N(),J=l.Ka();f.zc(J,H.ga());if(y)for(let M=0,P=J.length;M<P&&!z.lc;++M)q.le(v),y=J[M],p.N().wj(y),F&&y.di(),z.sc(M),r.gg(w,A),q.Db(v);else{H.se(!1);p=H.D;f.C(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.lc;++M)q=J[M],p[0]=q,F&&q.di(),z.sc(M),r.gg(w,A)}u.Ga();G.Ga();f.C(J);l.Ga();return!1}*n4(p){var q=
this.g.fa();const u=q.Sc(),w=u.Je(),r=w.Cb(),v=r.fd();var y=w.oj();const A=u.Ka(r),G=q.bf,z=G.Ka(),F=p.Mb(),H=p.N(),J=l.Ka();f.zc(J,H.ga());if(y)for(let M=0,P=J.length;M<P&&!z.lc;++M)q.le(v),y=J[M],p.N().wj(y),F&&y.di(),z.sc(M),yield*r.Zf(w,A),q.Db(v);else{H.se(!1);p=H.D;f.C(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.lc;++M)q=J[M],p[0]=q,F&&q.di(),z.sc(M),yield*r.Zf(w,A)}u.Ga();G.Ga();f.C(J);l.Ga();return!1}t5(p,q){var u=this.g.fa();const w=u.Sc(),r=u.rf(),v=w.Je(),y=v.Cb(),A=y.fd(),G=v.oj(),
z=w.Ka(y),F=u.bf,H=F.Ka(),J=p.Mb(),M=p.N(),P=l.Ka();f.C(P);const R=M.ga();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Os(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.lc;++T)u.le(A),q=P[T][0],p.N().wj(q),J&&q.di(),H.sc(T),y.gg(v,z),u.Db(A);else{M.se(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.lc;++T)u=P[T][0],p[0]=u,J&&u.di(),H.sc(T),y.gg(v,z)}w.Ga();F.Ga();f.C(P);l.Ga();return!1}*o4(p,q){var u=this.g.fa();const w=u.Sc(),r=u.rf(),v=w.Je(),y=v.Cb(),A=y.fd(),
G=v.oj(),z=w.Ka(y),F=u.bf,H=F.Ka(),J=p.Mb(),M=p.N(),P=l.Ka();f.C(P);const R=M.ga();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Os(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.lc;++T)u.le(A),q=P[T][0],p.N().wj(q),J&&q.di(),H.sc(T),yield*y.Zf(v,z),u.Db(A);else{M.se(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.lc;++T)u=P[T][0],p[0]=u,J&&u.di(),H.sc(T),yield*y.Zf(v,z)}w.Ga();F.Ga();f.C(P);l.Ga();return!1}ny(p,q){let u=this.VQ.get(p);if(u)return u;if(!q)return null;
u={Vm:null,CB:new Map};this.VQ.set(p,u);return u}J4(p,q,u,w,r){q.he().k1(u);w&&p.Db(r)}*k4(p,q,u,w,r){yield*q.he().LV(u);w&&p.Db(r)}}}{"use strict";const f=self.B;f.K.Eb.et=class extends f.ba{constructor(a){super();this.I=a;this.g=a.G();this.xh=a.pb()}Rd(){}A(){this.xh=this.g=this.I=null}}}{"use strict";const f=self.B;f.K.Eb.Instance=class extends f.ba{constructor(a){super();this.ia=a;this.I=this.ia.F();this.yc=this.I.yc;this.g=this.ia.G()}A(){this.g=this.yc=this.I=this.ia=null}}}
{"use strict";const f=self.B,a=[];f.K.Eb.ua={cea(){return!0},TL(){return!0},i0(){return!0},n0(){return!0},k0(){return!0},In(){return this.g.In()},$W(){const b=this.g.Ie();return b.fG?!1:!b.Ko},sja(){const b=this.g.rf().hj();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Uj;b.set("TriggerOnce_lastTick",c);return this.g.UG||e!==c-1},bea(b){const e=this.g.rf().hj(),c=e.get("Every_lastTime")||0,h=this.g.qn();e.has("Every_seconds")||e.set("Every_seconds",
b);const m=e.get("Every_seconds");if(h>=c+m)return e.set("Every_lastTime",c+m),h>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",h),e.set("Every_seconds",b),!0;h<c-.1&&e.set("Every_lastTime",h);return!1},Es(b){return(b=this.g.fa().FK(b))&&b.Es()},Hp(){return this.g.Hp()},iD(){return f.Tc.iD},j0(){return!0},b0(){return!0},Xda(){return!0},l0(){return!0},m0(){return!0},UL(){return!0},VL(){return!0},Ufa(b){return!!this.g.bj(b)},gfa(b){switch(b){case 0:return"browser"===f.Tc.ZB;case 1:return"iOS"===
f.Tc.Lp;case 2:return"Android"===f.Tc.Lp;case 8:return"cordova"===f.Tc.ZB;case 9:return"scirra-arcade"===this.g.km;case 10:return"nwjs"===f.Tc.ZB;case 13:return"windows-uwp"===this.g.km;default:return!1}},Lga(b,e,c){return this.dx(e,c).test(b)},xda(b,e,c){return f.compare(b,e,c)},zda(b,e,c){return b>=e&&b<=c},Ida(b,e,c){return f.compare(b.hd(),e,c)},Ada(b){return!!b.hd()},Hda(b,e){const c=this.g.qn();return 0===b?(b=this.g.rf().hj(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):f.compare(c,b,e)},dfa(b){return isNaN(b)},IU(b,e,c){return f.Dr(f.sb(b),f.sb(c))<=f.sb(e)},YZ(b,e){return f.jf(f.sb(b),f.sb(e))},XZ(b,e,c){b=f.sb(b);e=f.sb(e);c=f.sb(c);return f.jf(c,e)?f.jf(b,e)&&!f.jf(b,c):!(!f.jf(b,e)&&f.jf(b,c))},nfa(b,e){return"number"===typeof b?0===e:1===e},aea(b){return!!b},nga(b,e,c,h){if(!b)return!1;const m=this.zO(),g=m.Ka(),l=b.N();f.zc(g,l.ga());l.Rb&&f.C(l.kc);const n=this.g.rf();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;e=n.Os(1,q);h=n.Os(3,
q);f.compare(e,c,h)?++p:l.co(w)}f.Ge(g,p);l.Rx(g);e=!!g.length;f.C(g);m.Ga();b.mc();return e},oga(b,e){if(!b)return!1;const c=this.zO(),h=c.Ka(),m=b.N();f.zc(h,m.ga());m.Rb&&f.C(m.kc);const g=this.g.rf();let l=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[l]=q;(e=g.Os(1,n))?++l:m.co(q)}f.Ge(h,l);m.Rx(h);e=!!h.length;f.C(h);c.Ga();b.mc();return e},sga(b,e){if(!b)return!1;const c=b.N(),h=c.ga();e=Math.floor(e);if(e>=h.length)return!1;c.Ul(h[e]);b.mc();return!0},wga(b){if(!b)return!1;const e=b.N(),
c=e.ga(),h=Math.floor(this.g.Qp()*c.length);if(h>=c.length)return!1;e.Ul(c[h]);b.mc();return!0},s0(b){if(!b||!b.D.length)return!1;b.N().se(!0);b.mc();return!0},uga(b,e,c){if(!b)return!1;const h=b.N();var m=h.ga();const g=this.g.Cb().Fd,l=this.g.rf().Ei;h.Rb?(f.zc(a,m),h.uw(),h.se(!1)):g?(f.zc(a,h.kc),f.C(h.kc)):(f.zc(a,h.D),f.C(h.D));for(let n=0,p=a.length;n<p;++n)m=a[n],f.xor(m.m().YB(e,c),l)?h.Ct(m):h.co(m);b.mc();return f.xor(!!h.D.length,l)},rga(b){if(!b)return!1;var e=b.Ua;let c=null;const h=
this.g.Zk;for(let m=h.length-1;0<=m;--m){const g=h[m];if(e){if(g.F().RB(b)){c=g;break}}else if(g.F()===b){c=g;break}}c||(e=b.ga(),e.length&&(c=e.Md(-1)));if(!c)return!1;b.N().Ul(c);b.mc();return!0},Oga(b){return this.g.Ud?this.p4(b):this.i8(b)},Ija(){return this.g.Ud?this.I4():this.h$()},jea(b,e,c){return this.g.Ud?this.m4(b,e,c):this.r5(b,e,c)},vK(b){return this.g.Ud?this.n4(b):this.s5(b)},kea(b,e,c){return this.g.Ud?this.o4(b,c):this.t5(b,c)},tfa(b){return b?b.Bc():!1},qfa(b){return b?!b.D.length:
!1},pfa(b,e,c){return b?f.compare(100*b.je(),e,c):!1},h0(){return!0},bfa(){return 0<this.Bo}}}
{"use strict";const f=self.B;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const e=[],c=[],h=f.j(f.Rect),m=f.j(f.Xa);f.K.Eb.Yf={Pia(g,l){g.ne(l)},GU(g,l){g.Tl()&&"number"!==typeof l&&(l=parseFloat(l));g.ne(g.hd()+l)},lja(g,l){g.Tl()&&g.ne(g.hd()-l)},Zha(g,l){g.ne(!!l)},pja(g){g.ne(!g.hd())},Aha(){this.g.fa().a1()},FV(g,l,n,p,q){g&&l&&(n=this.g.aC(g,l,n,p,q))&&(q&&l.XD(n),l=this.g.fa(),l.de(!0),n.Jy(),l.de(!1),g.N().wj(n),n.Mb()&&n.di())},Qda(g,l,n,p,q){g&&
l&&(g=this.g.Yw(g))&&f.K.Eb.Yf.FV.call(this,g,l,n,p,q)},Ns(g,l,n,p,q,u,w,r,v,y){if(g){var A=this.g.Qa();if(u&&(A=this.g.$a.wp(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.X(w),!u)return;h.set(l,n,p,q);l=A.Ns(g,h,u,r,v,y);g.N().Rx(l);g.mc()}},aja(){const g=this.bf;g.xL()&&g.up().Re()},Yp(g,l){(g=this.g.fa().FK(g))&&(0===l?g.Yp(!1):1===l?g.Yp(!0):g.Yp(!g.Es()))},Mia(g){this.g.SD(g)},Jia(g,l){0>l&&(l=0);if(g){g=g.N().ga();for(const n of g)n.SD(l)}},Eha(g){if(g){g=g.N().ga();for(const l of g)l.h1()}},
yN(g){if(!(0>g))return this.g.fa().MB().PZ(g),!0},Cja(g){this.g.fa().MB().NZ(g);return!0},Bja(){const g=this.g.fa();g.MB().BZ(g.xY());return!0},Sia(g){g=g.toLowerCase();for(const l of this.g.fa().Pf)l.m_()&&l.lv===g&&l.PD()},async kN(g,l,n,p,q,u){const w=this.g.V;w&&(this.W(),await w.kN(0===g?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.oe(f.K.Eb.ua.b0,null))},aia(g,l){if(!(0>=g||0>=l)){this.g.ct(g,l);var n=this.g.Qa();n.kw();for(const p of n.Nb)p.gE();if(n=this.g.V)"off"!==n.ks()&&this.g.b2(g,
l),n.bd(n.Rm,n.Qm,!0),this.g.W()}},kia(g){const l=this.g.V;l&&"off"!==l.ks()&&(l.NM(0!==g?"high":"low"),l.bd(l.Rm,l.Qm,!0))},Rn(g){this.g.s1(g)},yfa(g){this.g.B_(g)},zfa(g){this.g.lD(g)},mia(){},Bha(){for(const g of this.g.$a.li)g.f1()},Kia(g){this.g.e2(0!==g)},ZM(g){this.g.ZM(g)},Uia(g,l){if(g){var n=g.N().ga(),p=this.g.Qa(),q=g.Ua;g=g.xi;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=q?u.ie(l+u.F().IK(g)):u.ie(l);e.push([v.X().Ba(),v.Xg()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.DC(e[w][0]),g=e[w][1],u=q.D,u[g]!==n&&(u[g]=n,n.m().Ft(q),q.kg(),l=!0);l&&this.g.W();f.C(e);f.C(c)}}},tea(g){if(!this.g.Nj){var l=this.g.$a;l.Gp()||l.qw(g)}},uea(g){if(!this.g.Nj){var l=this.g.$a;l.Gp()||(g=l.wp(g))&&l.qw(g)}},Ofa(g){if(!this.g.Nj){var l=this.g.$a;if(!l.Gp()){var n=l.li,p=n.indexOf(l.Ib());g&&0===p||(g||p!==n.length-1)&&l.qw(n[p+(g?-1:1)])}}},Cha(){if(!this.g.Nj){var g=this.g.$a;g.Gp()||(g.qw(g.Ib()),this.g.fa().b1())}},
zia(g,l){g&&g.ei(l)},tia(g,l){g&&g.Dk(l/100)},via(g,l){g&&g.aN(l)},wia(g,l){g&&g.h2(l)},nia(g,l){g&&g.rd(f.sb(+l))},xia(g,l,n){g&&(g.Xs(!0),g.bi(l),g.ci(n))},Dha(g){g&&g.Xs(!1)},uia(g,l,n){g&&g.c2(l/100,n/100)},Aia(g,l){g&&g.Qe(+l)},oia(g,l){g&&(m.Nr(l),m.ea(),g=g.Ok,g.Bl(m)||(g.Oi(m),this.W()))},yia(g,l){g&&g.s2(l)},pia(g,l){g&&g.Df(l)},qia(g,l,n){g&&(n=g.Ha.pk(n))&&(l=1===l,n.zb!==l&&(n.Qx(l),g.eh(),this.g.W()))},ria(g,l,n,p){if(g&&(g=g.Ha,l=g.pk(l))&&(g=g.nk(l.Ba()),n=Math.floor(n),!(0>n||n>=g.length))){var q=
l.xf().$w(n);if("color"===q){m.Nr(p);n=g[n];if(m.Bl(n))return;n.Oi(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.zb&&this.g.W()}},sia(g,l){g&&g.Q1(l)},Fia(g){this.g.Qa().ND(+g)},Bia(g){this.g.Qa().rd(f.sb(+g))},Cia(g,l){const n=this.g.Qa();if(l=n.Ha.pk(l))g=1===g,l.zb!==g&&(l.Qx(g),n.eh(),this.g.W())},Dia(g,l,n){var p=this.g.Qa().Ha;if(g=p.pk(g))if(p=p.nk(g.Ba()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.xf().$w(l);if("color"===q){m.Nr(n);l=p[l];if(m.Bl(l))return;l.Oi(m)}else{"percent"===
q&&(n/=100);if(p[l]===n)return;p[l]=n}g.zb&&this.g.W()}},Gia(g,l){this.g.Qa().v2(g/100,l/100)},Eia(g){const l=this.g.Qa();0===g?l.cN():l.$M()},Qha(g){this.g.Qa().bi(g)},Rha(g){this.g.Qa().ci(g)},Oha(g,l){const n=this.g.Qa();n.bi(g);n.ci(l)},Pha(g){if(g&&(g=g.KK())&&(g=g.m())){var l=this.g.Qa();l.bi(g.qa());l.ci(g.ra())}},async D_(g){const l=this.g.Ib();l&&g&&!this.g.Nj&&await this.ME(l,g.Ua?g.wo:[g])},async xfa(g){await f.K.Eb.Yf.D_.call(this,this.g.Yw(g))},R2(g){const l=this.g.Ib();l&&g&&this.fQ(l,
g.Ua?g.wo:[g])},wja(g){f.K.Eb.Yf.R2.call(this,this.g.Yw(g))},xja(){const g=this.g.Ib();if(g){var l=g.T5();this.fQ(g,l)}},async vfa(g){const l=this.g.Ib();g&&l&&!this.g.Nj&&await this.ME(l,g.AO())},async wfa(g){const l=this.g.Ib();(g=this.g.$a.wp(g))&&l&&!this.g.Nj&&await this.ME(l,g.AO())},Vx(g){const l=this.vd.EX();if(l)switch(l.WQ){case 1:"number"===typeof g&&l.Vx(g);break;case 2:"string"===typeof g&&l.Vx(g);break;case 3:l.Vx(g)}},Cfa(g,l,n){var p=this.ny(g.toLowerCase(),!0);const q=p.CB,u=l.toLowerCase();
q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(p=f.first(q.values())||p.Vm)&&0!==p.ol!==(0!==n.ol)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Dfa(g,l){const n=this.ny(g.toLowerCase(),!0);n.Vm&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=f.first(n.CB.values())||n.Vm;p&&
0!==p.ol!==(0!==l.ol)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Vm=l},sda(g,l,n){n=Math.floor(n);var p=this.ny(g.toLowerCase(),!1);if(p){var q=p.CB.get(l.toLowerCase());if(!q)if(p.Vm)q=p.Vm,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.Wh())if(0!==q.ol)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.g;l=g.fa();var u=l.Cb();p=u.gd();var w=0<p.length;w&&l.fg(p);var r=[];if(u=l.jC(u)){u=u.vg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].hd())}n=q.vg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].Co);return g.Ud?this.k4(l,q,r,w,p):this.J4(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const f=self.B;f.K.Eb.$f={hla:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},zka:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Fl(a){return a.toString()},Uv(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Qp()*a:this.g.Qp()*(b-a)+a},eba(...a){return a[Math.floor(this.g.Qp()*a.length)]},cma(){return Math.PI},fla(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Dma(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(f.sb(a))},cos(a){return Math.cos(f.sb(a))},tan(a){return Math.tan(f.sb(a))},asin(a){return f.fk(Math.asin(a))},acos(a){return f.fk(Math.acos(a))},atan(a){return f.fk(Math.atan(a))},exp(a){return Math.exp(a)},Zba(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b<h&&(b=h)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b>h&&(b=h)}return b},ea(a,b,e){return f.ea(a,b,e)},Mv(a,b,e,c){return f.vba(a,b,e,c)},angle(a,b,e,c){return f.fk(f.ZS(a,b,e,c))},Nd(a,b,e){return f.Nd(a,b,e)},DB(a,b,e){return f.DB(a,b,e)},xB(a,b,e,c){return f.xB(a,b,e,c)},iT(a,b,e,c,h){return f.iT(a,
b,e,c,h)},hT(a,b,e){return f.hT(a,b,e)},Vja(a,b){return f.fk(f.Dr(f.sb(a),f.sb(b)))},Wja(a,b,e){return f.fk(f.EI(f.sb(a),f.sb(b),e))},Xja(a,b,e){return f.fk(f.FI(f.sb(a),f.sb(b),f.sb(e)))},Pma(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Yma(a,b){return(a|0)^1<<(b|0)},Yka(a,b){return(a|0)&1<<(b|0)?1:0},Ola(){return"\n"},ena(a){return"string"===typeof a?a.toUpperCase():""},Hla(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Zma(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},$ma(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(f.Vr(b),"i")):-1},yka(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(f.Vr(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(f.Vr(b),"gi"),e):"string"===typeof a?a:""},oma(a,b,e){b=this.dx(b,e);return a?a.search(b):-1},nma(a,b,e,c){b=this.dx(b,e);return a?a.replace(b,c):""},mma(a,b,e){return(a=this.VK(a.toString(),b,e))?a.length:0},lma(a,b,e,c){c=Math.floor(c);a=this.VK(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},tna(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},gna(a){return encodeURIComponent(a)},fna(a){return decodeURIComponent(a)},nT(){return this.g.ju},Wma(){return this.g.Kd},pna(){return(Date.now()-this.g.QA)/1E3},cna(){return Date.now()},time(){return this.g.qn()},Vma(){return this.g.Uj},Tla(){return this.g.FH},Cka(){return this.g.xz},lka(){return this.g.lA},Zka(){return this.g.Vw()},rna(){return this.g.V.jh},qna(){return this.g.V.ih},Xla(){return this.g.Ag},Wla(){return this.g.zg},
Vla(){return this.g.Ag},Ula(){return this.g.zg},Gma(){return this.g.Qa().vf()},Hma(){return this.g.Qa().wf()},Bla(){return this.g.Qa().wa()},Cla(){return this.g.Qa().Hd},zla(){return f.fk(this.g.Qa().Oa())},Dla(){return this.g.Qa().$()},Ala(){return this.g.Qa().Z()},lna(a){return(a=this.g.Qa().X(a))?a.Pm.S:0},nna(a){return(a=this.g.Qa().X(a))?a.Pm.M:0},mna(a){return(a=this.g.Qa().X(a))?a.Pm.da:0},jna(a){return(a=this.g.Qa().X(a))?a.Pm.Y:0},ona(a){return(a=this.g.Qa().X(a))?a.Pm.width():0},kna(a){return(a=
this.g.Qa().X(a))?a.Pm.height():0},fka(a,b,e){return(a=this.g.Qa().X(a))?a.ik(b,e)[0]:0},gka(a,b,e){return(a=this.g.Qa().X(a))?a.ik(b,e)[1]:0},wla(a,b,e){return(a=this.g.Qa().X(a))?a.Kn(b,e)[0]:0},xla(a,b,e){return(a=this.g.Qa().X(a))?a.Kn(b,e)[1]:0},sla(a){return(a=this.g.Qa().X(a))?a.Hd:0},nla(a){return(a=this.g.Qa().X(a))?f.fk(a.Hf):0},pla(a){return(a=this.g.Qa().X(a))?100*a.je():0},tla(a){return(a=this.g.Qa().X(a))?a.Am:0},ula(a){return(a=this.g.Qa().X(a))?a.vf():0},vla(a){return(a=this.g.Qa().X(a))?
a.wf():0},qla(a){return(a=this.g.Qa().X(a))?100*a.df:0},rla(a){return(a=this.g.Qa().X(a))?100*a.ef:0},yla(a){return(a=this.g.Qa().X(a))?a.Ya():0},ola(a){return(a=this.g.Qa().X(a))?a.Ba():-1},eka(){const a=this.g.V;return a?a.XH:""},Gla(a){const b=this.bf;return b.xL()?a?(a=b.mX(a))?a.Ba():0:b.up().Ba():0},Ema(){return this.g.Mo},cka(a,b,...e){var c=this.ny(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var h=c.CB.get(b.toLowerCase());
if(!h)if(c.Vm)h=c.Vm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=h.ol;const m=h.ls();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Wh())return m;a=this.g.fa();b=a.Cb().gd();const g=0<b.length;g&&a.fg(b);const l=h.vg;for(let n=e.length,p=l.length;n<p;++n)e.push(l[n].Co);
h=h.he();e=h.AD(h.gd(),c,m,...e);g&&a.Db(b);return e},Fla(){return this.g.ld.eA},dla(){return 0===this.Bo?1:this.xu/this.Bo},$m(){return this.g.ys()?"webgpu":"webgl"},rma(){return this.g.ys()?"<unavailable>":this.g.Bn().Cv},ela(){let a=this.g.gb().IX();return Math.round(100*a/1048576)/100},sma(a,b,e){return f.p0(a,b,e)},vma(a,b,e){return f.$L(a/100,b/100,e/100)},tma(a,b,e,c){return f.Ix(a/100,b/100,e/100,c/100)},wma(a,b,e){return f.$L(a/255,b/255,e/255)},uma(a,b,e,c){return f.Ix(a/255,b/255,e/255,
c/255)},fma(){return this.g.zA},gma(){return this.g.hS},nka(){return this.g.Cb().Jc.wa()},mka(){return this.g.Cb().Eq}}}{"use strict";const f=self.B;f.K.Text=class extends f.Ox{constructor(a){super(a)}A(){super.A()}}}{"use strict";const f=self.B;f.K.Text.et=class extends f.AM{constructor(a){super(a)}A(){super.A()}Rd(){}Jp(){}On(){}}}
{"use strict";const f=self.B,a=self.Lh,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],h=new f.Rect,m=new f.kd;new f.Xa;f.K.Text.Instance=class extends f.CD{constructor(n,p){super(n);this.Xc="";this.Uk=!0;this.wi="Arial";this.Sj=12;this.th=0;this.Xe=this.We=!1;this.Za=f.j(f.Xa);this.Fe=this.Ue=0;this.$j=!0;this.Vj=this.xr=-1;this.Bv=0;this.Mc=f.j(f.H.uD,this.g.gb(),{timeout:5});this.Mc.wB=()=>this.g.W();this.Mc.TM();p&&(this.Xc=p[0],this.Uk=!!p[1],this.wi=p[2],this.Sj=p[3],this.th=
p[4],this.We=!!p[5],this.Xe=!!p[6],this.Ue=p[8],this.Fe=p[9],this.$j=0===p[10],n=p[7],this.Za.Or(n[0],n[1],n[2]),this.m().ei(p[11]));this.Sd()}A(){this.Zl();this.Mc.A();this.Mc=null;super.A()}Sd(){const n=this.Mc;n.Yx(this.Xc);n.z1(this.Uk);n.ID(this.wi);n.XM(this.th);n.FM(this.We);n.VM(this.Xe);n.Vl(this.Za);n.PM(e[this.Ue]);n.jN(c[this.Fe]);n.w2(this.$j?"word":"character")}mF(){const n=this.m();this.Mc.JD(this.Sj);this.Mc.P1(n.zY());var p=n.X();p=p.Nl()*p.wK(n.zf());this.Mc.bd(n.$(),n.Z(),p)}Qg(n){var p=
this.m();this.mF();const q=this.Mc.Pd();if(q){var u=p.X();if(0===p.Oa()&&0===u.Oa()&&0===p.zf()&&!p.Af()&&u.lM()){p=p.Yi();const [w,r]=u.pj(p.qb,p.rb),[v,y]=u.pj(p.Yb,p.Zb);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.Ti(h);const [G,z]=n.gx(n.uk());this.g.V.G1(n,G,z);n.Ef(q);n.Pp(m,this.Mc.kj());u.Fy(n)}else n.Ef(q),p.Af()?this.zE(p,n):this.AE(p,n)}}AE(n,p){n=n.Yi();this.g.bl&&(n=this.tP(n));p.Pp(n,this.Mc.kj())}zE(n,p){const q=n.gL();if(n.AL()){n.ow(h,m,!1);let u=m;
this.g.bl&&(u=this.tP(u));q.PJ(n.jj(),u,this.Mc.kj());n.LD(!1)}q.Qg(p)}tP(n){const p=n.qb-Math.round(n.qb),q=n.rb-Math.round(n.rb);if(0===p&&0===q)return n;m.la(n);m.offset(-p,-q);return m}qd(){const n={t:this.Xc,c:this.Za.toJSON(),fn:this.wi,ps:this.Sj};this.Uk&&(n.bbc=this.Uk);0!==this.Ue&&(n.ha=this.Ue);0!==this.Fe&&(n.va=this.Fe);this.$j||(n.wr=this.$j);0!==this.th&&(n.lho=this.th);this.We&&(n.b=this.We);this.Xe&&(n.i=this.Xe);-1!==this.Vj&&(n.tw={st:this.xr,en:this.Vj,l:this.Bv});return n}jd(n){this.Zl();
this.Xc=n.t;this.Za.El(n.c);this.wi=n.fn;this.Sj=n.ps;this.Uk=n.hasOwnProperty("bbc")?n.bbc:!1;this.Ue=n.hasOwnProperty("ha")?n.ha:0;this.Fe=n.hasOwnProperty("va")?n.va:0;this.$j=n.hasOwnProperty("wr")?n.wr:!0;this.th=n.hasOwnProperty("lho")?n.lho:0;this.We=n.hasOwnProperty("b")?n.b:!1;this.Xe=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.xr=n.st,this.Vj=n.en,this.Bv=n.l);this.Sd();-1!==this.Vj&&this.cm()}qc(n){switch(n){case 0:return this.Xc;case 1:return this.Uk;case 2:return this.wi;
case 3:return this.Sj;case 4:return this.th;case 5:return this.We;case 6:return this.Xe;case 7:return b[0]=this.Za.Pa,b[1]=this.Za.Ta,b[2]=this.Za.Sa,b;case 8:return this.Ue;case 9:return this.Fe;case 10:return this.$j?1:0}}Zg(n,p){switch(n){case 0:if(this.Xc===p)break;this.Xc=p;this.Sd();break;case 1:if(this.Uk===!!p)break;this.Uk=!!p;this.Sd();break;case 2:if(this.wi===p)break;this.wi=p;this.Sd();break;case 3:if(this.Sj===p)break;this.Sj=p;this.Sd();break;case 4:if(this.th===p)break;this.th=p;this.Sd();
break;case 5:if(this.We===!!p)break;this.We=!!p;this.Sd();break;case 6:if(this.Xe===!!p)break;this.Xe=!!p;this.Sd();break;case 7:n=this.Za;if(n.Pa===p[0]&&n.Ta===p[1]&&n.Sa===p[2])break;this.Za.Or(p[0],p[1],p[2]);this.Sd();break;case 8:if(this.Ue===p)break;this.Ue=p;this.Sd();break;case 9:if(this.Fe===p)break;this.Fe=p;this.Sd();break;case 10:this.$j!==(0===p)&&(this.$j=0===p,this.Sd())}}Ey(n){this.Xc!==n&&(this.Xc=n,this.Mc.Yx(n),this.g.W())}J9(n,p){this.Ey(n);this.xr=this.g.LC();this.Vj=this.xr+
p/this.ya().uX();this.Bv=f.Il.mN(n).length;this.Mc.HD(0);this.cm()}Zl(){this.Vj=this.xr=-1;this.Bv=0;this.Mc.HD(-1);this.It()}h5(){-1!==this.Vj&&(this.Zl(),this.kb(f.K.Text.ua.XL),this.g.W())}h9(n){this.wi!==n&&(this.wi=n,this.Mc.ID(n),this.g.W())}W8(n){n=!!n;this.We!==n&&(this.We=n,this.Mc.FM(n),this.g.W())}q9(n){n=!!n;this.Xe!==n&&(this.Xe=n,this.Mc.VM(n),this.g.W())}i9(n){this.Sj!==n&&(this.Sj=n,this.g.W())}g9(n){this.Za.Bl(n)||(this.Za.Oi(n),this.Mc.Vl(this.Za),this.g.W())}TP(n){this.th!==n&&
(this.th=n,this.Sd(),this.g.W())}l9(n){this.Ue!==n&&(this.Ue=n,this.Sd(),this.g.W())}YP(n){this.Fe!==n&&(this.Fe=n,this.Sd(),this.g.W())}C9(n){n=!!n;this.$j!==n&&(this.$j=n,this.Sd(),this.g.W())}S5(){this.mF();return this.Mc.DY()}R5(){this.mF();return this.Mc.CY()}Se(){var n=this.g.LC();n>=this.Vj?(this.Zl(),this.kb(f.K.Text.ua.XL),this.g.W()):(n=f.qca(this.xr,this.Vj,n,this.Bv),n=Math.floor(n),n!==this.Mc.so&&(this.Mc.HD(n),this.g.W()))}wn(){return self.jZ}};const g=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.jZ=class extends self.rx{constructor(){super();g.set(this,self.Bs.nt().ka)}get text(){return g.get(this).Xc}set text(n){a.Cd(n);const p=g.get(this);p.Zl();p.Ey(n)}set lineHeight(n){a.sj(n);g.get(this).TP(n)}get lineHeight(){return g.get(this).th}set verticalAlign(n){a.Cd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).YP(n)}get verticalAlign(){return c[g.get(this).Fe]}}}
{"use strict";const f=self.B;f.K.Text.ua={Gda(a,b){return b?this.Xc===a:f.Xm(this.Xc,a)},kfa(){return-1!==this.Vj},XL(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Xa);f.K.Text.Yf={Yx(b){this.Zl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Ey(b.toString())},hda(b){this.Zl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Ey(this.Xc+b)},uja(b,e){this.Zl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.J9(b.toString(),e)},jia(b,e){let c=!1,h=!1;switch(e){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(b!==this.wi||c!==this.We||h!==this.Xe)this.h9(b),this.W8(c),
this.q9(h)},JD(b){this.i9(b)},iia(b){a.Nr(b);a.ea();this.g9(a)},Qia(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},H1(b){this.m().Df(b);this.g.W()},tja(){this.h5()},XM(b){this.TP(b)},lia(b){this.l9(b)},Oia(b){this.YP(b)},Ria(b){this.C9(0===b)}}}{"use strict";const f=self.B;f.K.Text.$f={Text(){return this.Xc},zga(){return this.Uk?f.Il.mN(this.Xc):this.Xc},dea(){return this.wi},eea(){return this.Sj},nja(){return this.S5()},mja(){return this.R5()},ufa(){return this.th}}}
{"use strict";const f=self.B;f.K.sd=class extends f.Ox{constructor(a){super(a)}A(){super.A()}}}{"use strict";const f=self.B;f.K.sd.et=class extends f.AM{constructor(a){super(a);this.td=a.td}A(){f.C(this.td);super.A()}Rd(){for(const a of this.td)a.x_(this.g)}Jp(a){const b={Si:this.g.dd};return Promise.all(this.td.map(e=>e.y_(a,b)))}On(){for(const a of this.td)a.N0()}Hx(){this.iQ()}iQ(){for(const a of this.I.Nba())a.ka.kF()}Zr(a){f.K.sd.nX(this,a)}}}
{"use strict";const f=self.B,a=self.Lh,b=f.j(f.Rect),e=f.j(f.kd),c=f.j(f.gt);f.K.sd.Instance=class extends f.CD{constructor(m,g){super(m);let l=!0,n="",p=0,q=!0;g&&(l=!!g[0],n=g[1],p=g[2],q=g[3]);this.Gb=this.I.yK(n)||this.I.td[0];this.lb=f.ea(p,0,this.Gb.wd.length-1);this.ue=this.Gb.Ml(this.lb);g=this.ue.sf();this.Bq=g.Pd();this.XF=g.kj();this.fu=g.ix();this.KY();m.Us(2,!0);m.Us(1,0<=this.Gb.pv);this.Ij=Math.abs(this.Gb.pv);this.Aq=this.Gb.mS;this.Oy=f.j(f.Bx);this.Ej=this.yi=0;this.wF="";this.bu=
-1;this.uq="";this.yQ=0;m=this.m();this.y$=m.Yi();m.ei(l);m.Rs(q);m.$p(this.ue.sk());m.aq(this.ue.tk());m.RD(this.ue.oo);m.Na();1===this.I.td.length&&1===this.I.td[0].wd.length||0===this.Ij||this.cm()}A(){this.Oy=this.Bq=this.ue=this.Gb=null;super.A()}Rg(){return this.ue.sf()}Hn(){return!0}Mp(){this.Bq=null}ZL(){this.kF()}Qg(m){var g=this.Bq;null!==g&&(m.Ef(g),g=this.m(),g.Af()?this.zE(g,m):this.AE(g,m))}AE(m,g){let l=this.y$;this.g.bl&&(l=m.aM(l));g.J0(l,this.fu)}zE(m,g){const l=m.gL();if(m.AL()){m.ow(b,
e,!1);let n=e;this.g.bl&&(n=m.aM(n));l.PJ(m.jj(),n,this.fu);m.LD(!1)}l.Qg(g)}cs(){return this.Oy.U()}vx(){return this.ia.AC(2)}Up(m){this.ia.Us(2,m)}yx(){return this.ia.AC(1)}Ys(m){this.ia.Us(1,m)}dD(){return this.ia.AC(4)}QM(m){this.ia.Us(4,m)}Se(){this.uq&&this.dO();0<=this.bu&&this.wE();const m=this.Ij;if(this.vx()&&0!==m){this.Oy.Ac(this.g.wC(this.ia));var g=this.cs(),l=this.ue,n=l.HQ/m;if(!(g<this.yi+n)){var p=this.Gb,q=this.Aq,u=p.wd.length,w=p.Wg(),r=p.Uz,v=p.eaa;this.yx()?this.lb++:this.lb--;
this.yi+=n;this.lb>=u&&(v?(this.Ys(!1),this.lb=u-2):r?this.lb=q:(this.Ej++,this.Ej>=w?this.CE(!1):this.lb=q));0>this.lb&&(v?(this.lb=1,this.Ys(!0),r||(this.Ej++,this.Ej>=w&&this.CE(!0))):r?this.lb=q:(this.Ej++,this.Ej>=w?this.CE(!0):this.lb=q));this.lb=f.ea(this.lb,0,u-1);n=p.Ml(this.lb);g>this.yi+n.HQ/m&&(this.yi=g);this.wy(l,n)}}else this.It()}CE(m){this.lb=m?0:this.Gb.wd.length-1;this.Up(!1);this.wF=this.Gb.wa();this.QM(!0);this.eC("animationend",!1,{animationName:this.wF});this.kb(f.K.sd.ua.a0);
this.kb(f.K.sd.ua.$_);this.QM(!1);this.Ej=0}wy(m,g){if(m!==g){var l=this.m(),n=m.sf();m=g.sf();var p=n.$();n=n.Z();var q=m.$(),u=m.Z();p!==q&&l.fi(l.$()*(q/p));n!==u&&l.ai(l.Z()*(u/n));l.$p(g.sk());l.aq(g.tk());l.RD(g.oo);l.Na();this.ue=g;this.Bq=m.Pd();this.XF=m.kj();this.fu=m.ix();g=this.ya().Ec;for(let w=0,r=g.length;w<r;++w);this.eC("framechange",!1,{animationName:this.Gb.wa(),$S:this.lb});this.kb(f.K.sd.ua.g0);this.g.W()}}I9(m){this.Up(!0);this.yi=this.cs();1===m&&0!==this.lb&&(this.bu=0,this.dD()||
this.wE());this.cm()}S8(m,g){this.uq=m;this.yQ=g;this.cm();this.dD()||this.dO()}xO(){return this.uq?this.uq:this.Gb.wa()}NP(m){isFinite(m)&&(this.bu=m,this.dD()||this.wE())}U8(m){this.Ij=Math.abs(m);this.Ys(0<=m);0<this.Ij&&this.cm()}tO(){return this.yx()?this.Ij:-this.Ij}T8(m){this.Aq=m=f.ea(Math.floor(m),0,this.Gb.wd.length-1)}dO(){const m=this.ue;var g=this.I.yK(this.uq);this.uq="";!g||g===this.Gb&&this.vx()||(this.Gb=g,this.Ys(0<=g.pv),this.Ij=Math.abs(g.pv),this.Aq=g.mS,this.lb=f.ea(this.lb,
0,this.Gb.wd.length-1),1===this.yQ&&(this.lb=0),this.Up(!0),this.yi=this.cs(),g=this.Gb.Ml(this.lb),this.wy(m,g))}wE(){const m=this.ue;var g=this.lb;this.lb=f.ea(Math.floor(this.bu),0,this.Gb.wd.length-1);this.bu=-1;g!==this.lb&&(g=this.Gb.Ml(this.lb),this.wy(m,g),this.yi=this.cs())}kF(){const m=this.ue.sf();this.Bq=m.Pd();this.XF=m.kj();this.fu=m.ix();this.m().LD(!0)}Pd(){return this.Bq}kj(){return this.XF}ix(){return this.fu}CC(){return this.ue.CC()}tn(m){const g=this.ue,l=this.m();if("string"===
typeof m)m=g.ZX(m);else if("number"===typeof m)m=g.YX(m-1);else throw new TypeError("expected string or number");if(!m)return[l.qa(),l.ra()];c.la(m.JH);if(l.Af()){const [n,p]=l.jj().pN(c.aa,c.T);c.set(n,p)}c.offset(-g.sk(),-g.tk());c.scale(l.$(),l.Z());c.rotate(l.Oa());c.offset(l.qa(),l.ra());return[c.aa,c.T]}CX(){return this.m().vk().JT()}AK(m){m=Math.floor(m);const g=this.m();var l=g.vk();const n=l.JT();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.yd;return[l[2*m]+g.qa(),l[2*m+1]+g.ra()]}qd(){const m=
{a:this.Gb.bb};0!==this.yi&&(m.fs=this.yi);var g=this.cs();0!==g&&(m.at=g);0!==this.lb&&(m.f=this.lb);0!==this.Ij&&(m.cas=this.Ij);1!==this.Ej&&(m.ar=this.Ej);0!==this.Aq&&(m.rt=this.Aq);this.vx()||(m.ap=this.vx());this.yx()||(m.af=this.yx());g=this.m();g.Vh()&&(m.ce=g.Vh());return m}jd(m){var g=this.F().wX(m.a);g&&(this.Gb=g);this.yi=m.hasOwnProperty("fs")?m.fs:0;this.Oy.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.lb=f.ea(g,0,this.Gb.wd.length-1);this.Ij=m.hasOwnProperty("cas")?
m.cas:0;this.Ej=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.Aq=f.ea(g,0,this.Gb.wd.length-1);this.Up(m.hasOwnProperty("ap")?!!m.ap:!0);this.Ys(m.hasOwnProperty("af")?!!m.af:!0);this.ue=g=this.Gb.Ml(this.lb);this.kF();const l=this.m();l.$p(g.sk());l.aq(g.tk());l.RD(g.oo);l.Rs(!!m.ce)}qc(m){const g=this.m();switch(m){case 3:return g.Vh();case 2:return f.ea(this.lb,0,this.Gb.wd.length-1)}}Zg(m,g){var l=this.m();switch(m){case 3:l.Rs(!!g);break;case 2:this.Up(!1);m=this.Gb.wd.length-
1;l=g=f.ea(g,0,m);g=this.Gb.Ml(this.lb);const n=this.Gb.Ml(l);this.wy(g,n);this.lb=f.ea(l,0,m)}}wn(){return self.hZ}};const h=new WeakMap;self.hZ=class extends self.rx{constructor(){super();h.set(this,self.Bs.nt().ka)}get animationName(){return h.get(this).xO()}set $S(m){a.sj(m);h.get(this).NP(m)}get $S(){return h.get(this).lb}get imageWidth(){return h.get(this).Rg().$()}get imageHeight(){return h.get(this).Rg().Z()}}}
{"use strict";const f=self.B;f.K.sd.ua={Lea(a){return f.Xm(this.xO(),a)},Cda(a,b){return f.compare(this.lb,a,b)},yda(a,b){return f.compare(this.tO(),a,b)},$_(a){return f.Xm(this.wF,a)},a0(){return!0},g0(){return!0},cfa(){return 0>this.m().$()},Yea(){return 0>this.m().Z()},YL(){return!0},o0(){return!0},Vh(){return this.m().Vh()}}}
{"use strict";const f=self.B;f.K.sd.Yf={Via(a,b,e,c){if(a&&b){var [h,m]=this.tn(e);if(e=this.g.aC(a,b,h,m,c)){c&&b.XD(e);a.pb().Ip()&&(b=e.m(),b.rd(this.m().Oa()),b.Na());b=this.g.fa();b.de(!0);e.Jy();b.de(!1);c=this.g.js().hj();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Kq)b=!0,c.set("Spawn_LastExec",this.g.Kq);if(a!==this.F()&&(a=a.N(),a.se(!1),a=a.D,b&&f.C(a),a.push(e),e.Mb()))for(const g of e.md)e=g.F().N(),b?e.wj(g):(e.se(!1),e.Ct(g))}}},$ia(){this.Up(!1)},Wia(a){this.I9(a)},
Sha(a,b){this.S8(a,b)},Tha(a){this.NP(a)},Vha(a){this.U8(a)},Uha(a){this.T8(a)},Iia(a){const b=this.m(),e=b.$();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.fi(a),b.Na())},gia(a){const b=this.m(),e=b.Z();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.ai(a),b.Na())},ND(a){const b=this.ue.sf(),e=this.m();var c=0>e.$()?-1:1;const h=0>e.Z()?-1:1;c*=b.$()*a;a=b.Z()*a*h;if(e.$()!==c||e.Z()!==a)e.bd(c,a),e.Na()},async Afa(a,b){const e=this.ue.sf(),c=this.m(),h=this.g;if(e.Wj===a)0===b&&(c.bd(e.$(),e.Z()),c.Na()),this.kb(f.K.sd.ua.YL);
else{var m=f.j(f.tx);try{await m.A_(h,a);if(!m.gD())throw Error("image failed to load");await m.Fs(h.gb(),{Si:this.g.dd})}catch(g){console.error("Load image from URL failed: ",g);this.kb(f.K.sd.ua.o0);return}e.$0(m);this.yc.iQ();this.ey()||0!==b||(c.bd(e.$(),e.Z()),c.Na());h.W();this.ey()||await this.oe(f.K.sd.ua.YL)}},bia(a){this.m().Rs(a)},QD(a,b){this.m().QD(0===a,b)},H1(a){this.m().Df(a);this.g.W()}}}"use strict";
self.B.K.sd.$f={dda(){return this.lb},eda(){return this.Gb.wd.length},fda(){return this.Gb.wa()},gda(){return this.tO()},hga(){return this.Gb.pv},Eea(f){return this.tn(f)[0]},Fea(f){return this.tn(f)[1]},Dea(){return this.CC()},Gea(){return this.Rg().$()},Cea(){return this.Rg().Z()},Dga(f){return this.AK(f)[0]},Ega(f){return this.AK(f)[1]},Cga(){return this.CX()}};
{"use strict";const f=self.B;f.pd.Pg=class extends f.o1{constructor(a){super(a);a=this.g.Sb();this.ve=new f.XJ(f.Jl.Lw(a,"pointerdown",b=>this.u7(b.data)),f.Jl.Lw(a,"pointermove",b=>this.v7(b.data)),f.Jl.Lw(a,"pointerup",b=>this.qP(b.data)),f.Jl.Lw(a,"pointercancel",b=>this.qP(b.data)))}A(){this.ve.A();this.ve=null;super.A()}u7(a){"mouse"===a.pointerType&&0!==a.button||this.n7(a.pointerId.toString(),a.pageX-this.g.gs(),a.pageY-this.g.hs())}v7(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.mP(a.pointerId.toString()):
this.o7(a.pointerId.toString(),a.pageX-this.g.gs(),a.pageY-this.g.hs())}qP(a){"mouse"===a.pointerType&&0!==a.button||this.mP(a.pointerId.toString())}async n7(a,b,e){var c=this.ga();let h=null,m=null,g=0,l=0;for(const n of c){c=n.pC(f.pd.Pg);if(!c.Wh()||c.Mj)continue;const p=n.m(),q=p.X(),[u,w]=q.ik(b,e,p.zf());if(!p.YB(u,w))continue;if(!h){h=n;m=c;g=u;l=w;continue}const r=h.m();if(q.Ba()>r.X().Ba()||q.Ba()===r.X().Ba()&&p.Xg()>r.Xg())h=n,m=c,g=u,l=w}h&&await m.i7(a,g,l)}o7(a,b,e){var c=this.ga();
for(const h of c){c=h.pC(f.pd.Pg);if(!c.Wh()||!c.Mj||c.Mj&&c.cG!==a)continue;const m=h.m(),g=m.X(),[l,n]=g.ik(b,e,m.zf());c.t7(l,n)}}async mP(a){var b=this.ga();for(const e of b)b=e.pC(f.pd.Pg),b.Mj&&b.cG===a&&await b.sP()}}}{"use strict";const f=self.B;f.pd.Pg.et=class extends f.q1{constructor(a){super(a)}A(){super.A()}Rd(){}}}
{"use strict";const f=self.B;f.pd.Pg.Instance=class extends f.p1{constructor(a,b){super(a);this.Mj=!1;this.JQ=this.IQ=0;this.cG="<none>";this.Nk=0;this.Ci=!0;b&&(this.Nk=b[0],this.Ci=b[1])}A(){super.A()}qd(){return{a:this.Nk,e:this.Ci}}jd(a){this.Nk=a.a;this.Ci=a.e;this.Mj=!1}Wh(){return this.Ci}async i7(a,b,e){const c=this.m();this.IQ=b-c.qa();this.JQ=e-c.ra();this.Mj=!0;this.cG=a;await this.oe(f.pd.Pg.ua.f0)}t7(a,b){const e=this.m();a-=this.IQ;b-=this.JQ;if(0===this.Nk){if(e.qa()!==a||e.ra()!==
b)e.Ek(a,b),e.Na()}else 1===this.Nk?e.qa()!==a&&(e.ah(a),e.Na()):2===this.Nk&&e.ra()!==b&&(e.bh(b),e.Na())}async sP(){this.Mj=!1;await this.oe(f.pd.Pg.ua.SL)}qc(a){switch(a){case 0:return this.Nk;case 1:return this.Ci}}Zg(a,b){switch(a){case 0:this.Nk=b;break;case 1:this.Ci=!!b}}}}"use strict";self.B.pd.Pg.ua={Wea(){return this.Mj},f0(){return!0},SL(){return!0},Wh(){return this.Ci}};"use strict";self.B.pd.Pg.Yf={L1(f){this.Ci=!!f;this.Ci||(this.Mj=!1)},Wha(f){this.Nk=f},Wda(){this.Mj&&this.sP()}};
"use strict";self.B.pd.Pg.$f={};{const f=self.B;self.NJ=function(){return[f.K.Text,f.pd.Pg,f.K.sd,f.K.Eb.ua.TL,f.K.Eb.ua.vK,f.K.sd.Yf.I1,f.K.Eb.Yf.GU,f.K.Eb.$f.random,f.K.Text.Yf.SM,f.K.Text.$f.DN,f.K.Text.$f.EN,f.pd.Pg.ua.SL,f.K.sd.ua.g_,f.K.sd.ua.u0,f.K.Eb.ua.s0,f.K.Text.ua.t0,f.K.Text.Yf.f2,f.K.sd.$f.DN,f.K.sd.$f.EN,f.K.sd.Yf.SM,f.K.Text.$f.Q2]};self.aV=[{bla:0},{cla:0},{Vda:0},{Lja:0},{sna:0},{wea:0},{Uma:0}]}
self.$U=[()=>"AdjustHSL",()=>0,f=>{const a=f.ry().lu;return()=>a.hd()},()=>1,()=>25,f=>{const a=f.ry().qC();return()=>10+a(10)},f=>{const a=f.ry();return()=>a.iX()},f=>{const a=f.ry();return()=>a.hX()}];
