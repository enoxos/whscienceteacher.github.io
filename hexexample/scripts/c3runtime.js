// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function a(e,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];e[0]=x*E+D*I;e[1]=C*E+k*I;e[2]=x*K+D*t;e[3]=C*K+k*t;return e}function b(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-t[2];e[3]=k[3]-t[3];return e}function f(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];e[0]=x*K+D*N;e[1]=C*K+E*N;e[2]=x*Q+D*S;e[3]=C*Q+E*S;e[4]=x*W+D*t+I;e[5]=C*W+E*t+k;return e}function c(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-
t[2];e[3]=k[3]-t[3];e[4]=k[4]-t[4];e[5]=k[5]-t[5];return e}function g(){var e=new qa(9);qa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0);e[0]=1;e[4]=1;e[8]=1;return e}function m(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];e[0]=S*x+W*E+V*N;e[1]=S*C+W*I+V*Q;e[2]=S*D+W*K+V*k;e[3]=ea*x+ia*E+ca*N;e[4]=ea*C+ia*I+ca*Q;e[5]=ea*D+ia*K+ca*k;e[6]=oa*x+la*E+t*N;e[7]=oa*C+la*I+t*Q;e[8]=oa*D+la*K+
t*k;return e}function h(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-t[2];e[3]=k[3]-t[3];e[4]=k[4]-t[4];e[5]=k[5]-t[5];e[6]=k[6]-t[6];e[7]=k[7]-t[7];e[8]=k[8]-t[8];return e}function l(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function n(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];e[0]=
la*x+ra*I+sa*S+pa*ia;e[1]=la*C+ra*K+sa*W+pa*ca;e[2]=la*D+ra*N+sa*V+pa*oa;e[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];e[4]=la*x+ra*I+sa*S+pa*ia;e[5]=la*C+ra*K+sa*W+pa*ca;e[6]=la*D+ra*N+sa*V+pa*oa;e[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];e[8]=la*x+ra*I+sa*S+pa*ia;e[9]=la*C+ra*K+sa*W+pa*ca;e[10]=la*D+ra*N+sa*V+pa*oa;e[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];e[12]=la*x+ra*I+sa*S+pa*ia;e[13]=la*C+ra*K+sa*W+pa*ca;e[14]=la*D+ra*N+sa*V+pa*oa;e[15]=la*
E+ra*Q+sa*ea+pa*k;return e}function p(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;e[0]=1-(S+D);e[1]=Q+E;e[2]=x-K;e[3]=0;e[4]=Q-E;e[5]=1-(k+D);e[6]=C+I;e[7]=0;e[8]=x+K;e[9]=C-I;e[10]=1-(k+S);e[11]=0;e[12]=t[0];e[13]=t[1];e[14]=t[2];e[15]=1;return e}function q(e,k){e[0]=k[12];e[1]=k[13];e[2]=k[14];return e}function u(e,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];e[0]=Math.hypot(k[0],k[1],k[2]);e[1]=Math.hypot(t,x,C);e[2]=Math.hypot(D,
E,I);return e}function w(e,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),e[3]=.25*E,e[0]=(Q-C)/E,e[1]=(x-I)/E,e[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),e[3]=(Q-C)/E,e[0]=.25*E,e[1]=(t+K)/E,e[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),e[3]=(x-I)/E,e[0]=(t+K)/E,e[1]=.25*E,e[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),e[3]=(t-K)/E,e[0]=(x+I)/E,e[1]=(Q+C)/E,e[2]=.25*E);return e}function r(e,
k,t,x,C){k=1/Math.tan(k/2);e[0]=k/t;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),e[10]=(C+x)*t,e[14]=2*C*x*t):(e[10]=-1,e[14]=-2*x);return e}function v(e,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);e[0]=-2*I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=-2*K;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=2*N;e[11]=0;e[12]=(k+t)*I;e[13]=(C+x)*K;e[14]=(E+D)*N;e[15]=1;return e}function y(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-t[2];
e[3]=k[3]-t[3];e[4]=k[4]-t[4];e[5]=k[5]-t[5];e[6]=k[6]-t[6];e[7]=k[7]-t[7];e[8]=k[8]-t[8];e[9]=k[9]-t[9];e[10]=k[10]-t[10];e[11]=k[11]-t[11];e[12]=k[12]-t[12];e[13]=k[13]-t[13];e[14]=k[14]-t[14];e[15]=k[15]-t[15];return e}function A(){var e=new qa(3);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0);return e}function G(e){return Math.hypot(e[0],e[1],e[2])}function z(e,k,t){var x=new qa(3);x[0]=e;x[1]=k;x[2]=t;return x}function F(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-t[2];return e}function H(e,k,t){e[0]=
k[0]*t[0];e[1]=k[1]*t[1];e[2]=k[2]*t[2];return e}function J(e,k,t){e[0]=k[0]/t[0];e[1]=k[1]/t[1];e[2]=k[2]/t[2];return e}function M(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1],k[2]-e[2])}function P(e,k){var t=k[0]-e[0],x=k[1]-e[1];e=k[2]-e[2];return t*t+x*x+e*e}function R(e){var k=e[0],t=e[1];e=e[2];return k*k+t*t+e*e}function T(e,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;return e}function Z(e,k){return e[0]*k[0]+e[1]*k[1]+e[2]*k[2]}function X(e,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];e[0]=C*t-k*E;e[1]=k*D-x*t;e[2]=x*E-C*D;return e}function ba(){var e=new qa(4);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0);return e}function Y(e){var k=new qa(4);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];return k}function va(e,k,t,x){var C=new qa(4);C[0]=e;C[1]=k;C[2]=t;C[3]=x;return C}function ta(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];return e}function ya(e,k,t,x,C){e[0]=k;e[1]=t;e[2]=x;e[3]=C;return e}function Na(e,k,t){e[0]=k[0]+t[0];
e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+t[3];return e}function Sa(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];e[2]=k[2]-t[2];e[3]=k[3]-t[3];return e}function Ta(e,k,t){e[0]=k[0]*t[0];e[1]=k[1]*t[1];e[2]=k[2]*t[2];e[3]=k[3]*t[3];return e}function Ua(e,k,t){e[0]=k[0]/t[0];e[1]=k[1]/t[1];e[2]=k[2]/t[2];e[3]=k[3]/t[3];return e}function Wa(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;return e}function eb(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1],k[2]-e[2],k[3]-e[3])}function fb(e,k){var t=k[0]-e[0],
x=k[1]-e[1],C=k[2]-e[2];e=k[3]-e[3];return t*t+x*x+C*C+e*e}function Pa(e){return Math.hypot(e[0],e[1],e[2],e[3])}function Va(e){var k=e[0],t=e[1],x=e[2];e=e[3];return k*k+t*t+x*x+e*e}function ib(e,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));e[0]=t*D;e[1]=x*D;e[2]=C*D;e[3]=k*D;return e}function Ya(e,k){return e[0]*k[0]+e[1]*k[1]+e[2]*k[2]+e[3]*k[3]}function vb(e,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];e[0]=C+x*(t[0]-C);e[1]=D+x*(t[1]-D);e[2]=E+x*(t[2]-E);e[3]=k+
x*(t[3]-k);return e}function wb(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]}function jb(){var e=new qa(4);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0);e[3]=1;return e}function xb(e,k,t){t*=.5;var x=Math.sin(t);e[0]=x*k[0];e[1]=x*k[1];e[2]=x*k[2];e[3]=Math.cos(t);return e}function yb(e,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];e[0]=x*t+k*E+C*K-D*I;e[1]=C*t+k*I+D*E-x*K;e[2]=D*t+k*K+x*I-C*E;e[3]=k*t-x*E-C*I-D*K;return e}function zb(e,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);e[0]=x*t+k*E;e[1]=C*t+D*E;e[2]=D*t-C*E;e[3]=k*t-x*E;return e}function Ab(e,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);e[0]=x*t-D*E;e[1]=C*t+k*E;e[2]=D*t+x*E;e[3]=k*t-C*E;return e}function Bb(e,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);e[0]=x*t+C*E;e[1]=C*t-x*E;e[2]=D*t+k*E;e[3]=k*t-D*E;return e}function Cb(e,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;e[0]=t*E;e[1]=x*E;e[2]=C*E;e[3]=k*Math.cos(D);return e}function Db(e,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;e[0]=t*D;e[1]=x*D;e[2]=C*D;e[3]=.5*Math.log(t*t+x*x+C*C+k*k);return e}function kb(e,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=C*I+D*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;e[0]=Q*C+x*
I;e[1]=Q*D+x*K;e[2]=Q*E+x*N;e[3]=Q*k+x*t;return e}function Eb(e,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),e[3]=.5*t,t=.5/t,e[0]=(k[5]-k[7])*t,e[1]=(k[6]-k[2])*t,e[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);e[x]=.5*t;t=.5/t;e[3]=(k[3*C+D]-k[3*D+C])*t;e[C]=(k[3*C+x]+k[3*x+C])*t;e[D]=(k[3*D+x]+k[3*x+D])*t}return e}function Fb(e,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];e[0]=D;
e[1]=E;e[2]=I;e[3]=k;e[4]=x*k+C*I-t*E;e[5]=C*k+t*D-x*I;e[6]=t*k+x*E-C*D;e[7]=-x*D-C*E-t*I;return e}function Gb(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];return e}function lb(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];e[0]=x*t+E*ea+C*ca-D*ia;e[1]=C*t+E*ia+D*ea-x*ca;e[2]=D*t+E*ca+x*ia-C*ea;e[3]=E*t-x*ea-C*ia-D*ca;e[4]=x*Q+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;e[5]=C*Q+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;e[6]=D*Q+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;e[7]=E*Q-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return e}function Xa(){var e=new qa(2);qa!=Float32Array&&(e[0]=0,e[1]=0);return e}function mb(e,k,t){e[0]=k[0]-t[0];e[1]=k[1]-t[1];return e}function nb(e,k,t){e[0]=k[0]*t[0];e[1]=k[1]*t[1];return e}function Za(e,k,t){e[0]=k[0]/t[0];e[1]=k[1]/t[1];return e}function ob(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1])}function Qa(e,k){var t=k[0]-e[0];e=k[1]-e[1];return t*t+e*e}function pb(e){return Math.hypot(e[0],
e[1])}function qb(e){var k=e[0];e=e[1];return k*k+e*e}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,k=arguments.length;k--;)e+=arguments[k]*arguments[k];return Math.sqrt(e)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Zda(){return qa},Sha:Ma,Yda:"zyx",hoa:function(e){qa=e},roa:function(e){return e*Mb},ed:function(e,k){return Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var e=new qa(4);qa!=Float32Array&&(e[1]=0,e[2]=0);e[0]=1;e[3]=1;return e},clone:function(e){var k=new qa(4);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];return k},pa:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];return e},lw:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;return e},vf:function(e,k,t,x){var C=new qa(4);C[0]=e;C[1]=k;C[2]=t;C[3]=x;return C},set:function(e,k,t,x,C){e[0]=k;e[1]=t;e[2]=x;e[3]=C;return e},VU:function(e,k){if(e===k){var t=k[1];e[1]=k[2];e[2]=t}else e[0]=k[0],
e[1]=k[2],e[2]=k[1],e[3]=k[3];return e},Zr:function(e,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;e[0]=k*D;e[1]=-x*D;e[2]=-C*D;e[3]=t*D;return e},OT:function(e,k){var t=k[0];e[0]=k[3];e[1]=-k[1];e[2]=-k[2];e[3]=t;return e},sJ:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:a,rotate:function(e,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);e[0]=x*t+D*E;e[1]=C*t+k*E;e[2]=x*-E+D*t;e[3]=C*-E+k*t;return e},scale:function(e,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];e[0]=k[0]*E;e[1]=x*E;e[2]=C*t;e[3]=D*t;return e},RB:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=t;e[2]=-t;e[3]=k;return e},wJ:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=k[1];return e},Pl:function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},vJ:function(e){return Math.hypot(e[0],e[1],e[2],e[3])},rga:function(e,k,t,x){e[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-e[2]*t[1];return[e,k,t]},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+
t[3];return e},Ql:b,$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]},ed:function(e,k){var t=e[0],x=e[1],C=e[2];e=e[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},LJ:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;return e},MJ:function(e,
k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;e[3]=k[3]+t[3]*x;return e},rn:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var e=new qa(6);qa!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0);e[0]=1;e[3]=1;return e},clone:function(e){var k=new qa(6);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];return k},pa:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];return e},lw:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e},vf:function(e,
k,t,x,C,D){var E=new qa(6);E[0]=e;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(e,k,t,x,C,D,E){e[0]=k;e[1]=t;e[2]=x;e[3]=C;e[4]=D;e[5]=E;return e},Zr:function(e,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;e[0]=D*I;e[1]=-x*I;e[2]=-C*I;e[3]=t*I;e[4]=(C*k-D*E)*I;e[5]=(x*E-t*k)*I;return e},sJ:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:f,rotate:function(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);e[0]=
x*t+D*K;e[1]=C*t+E*K;e[2]=x*-K+D*t;e[3]=C*-K+E*t;e[4]=I;e[5]=k;return e},scale:function(e,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];e[0]=k[0]*K;e[1]=x*K;e[2]=C*t;e[3]=D*t;e[4]=E;e[5]=I;return e},translate:function(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];e[0]=x;e[1]=C;e[2]=D;e[3]=E;e[4]=x*K+D*t+I;e[5]=C*K+E*t+k;return e},RB:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=t;e[2]=-t;e[3]=k;e[4]=0;e[5]=0;return e},wJ:function(e,k){e[0]=k[0];e[1]=
0;e[2]=0;e[3]=k[1];e[4]=0;e[5]=0;return e},xJ:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=k[0];e[5]=k[1];return e},Pl:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},vJ:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+t[3];e[4]=k[4]+t[4];e[5]=k[5]+t[5];return e},Ql:c,LJ:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;e[4]=k[4]*t;e[5]=k[5]*t;return e},
MJ:function(e,k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;e[3]=k[3]+t[3]*x;e[4]=k[4]+t[4]*x;e[5]=k[5]+t[5]*x;return e},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]},ed:function(e,k){var t=e[0],x=e[1],C=e[2],D=e[3],E=e[4];e=e[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},rn:f,sub:c}),Qb=Object.freeze({__proto__:null,create:g,yca:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[4];e[4]=k[5];e[5]=k[6];e[6]=k[8];e[7]=k[9];e[8]=k[10];return e},clone:function(e){var k=new qa(9);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];k[8]=e[8];return k},pa:function(e,
k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];e[8]=k[8];return e},vf:function(e,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=e;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(e,k,t,x,C,D,E,I,K,N){e[0]=k;e[1]=t;e[2]=x;e[3]=C;e[4]=D;e[5]=E;e[6]=I;e[7]=K;e[8]=N;return e},lw:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},VU:function(e,k){if(e===k){var t=k[1],x=k[2],C=k[5];e[1]=k[3];e[2]=k[6];e[3]=t;e[5]=
k[7];e[6]=x;e[7]=C}else e[0]=k[0],e[1]=k[3],e[2]=k[6],e[3]=k[1],e[4]=k[4],e[5]=k[7],e[6]=k[2],e[7]=k[5],e[8]=k[8];return e},Zr:function(e,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;e[0]=Q*V;e[1]=(-k*x+C*N)*V;e[2]=(I*x-C*E)*V;e[3]=S*V;e[4]=(k*t-C*K)*V;e[5]=(-I*t+C*D)*V;e[6]=W*V;e[7]=(-N*t+x*K)*V;e[8]=(E*t-x*D)*V;return e},OT:function(e,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];e[0]=E*k-I*N;e[1]=C*N-x*k;e[2]=x*I-C*E;e[3]=I*K-D*k;e[4]=t*k-C*K;e[5]=C*D-t*I;e[6]=D*N-E*K;e[7]=x*K-t*N;e[8]=t*E-x*D;return e},sJ:function(e){var k=e[3],t=e[4],x=e[5],C=e[6],D=e[7],E=e[8];return e[0]*(E*t-x*D)+e[1]*(-E*k+x*C)+e[2]*(D*k-t*C)},multiply:m,translate:function(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];e[0]=x;e[1]=C;e[2]=D;e[3]=E;e[4]=I;e[5]=K;e[6]=S*x+t*E+N;e[7]=S*C+t*I+Q;e[8]=S*D+t*K+k;return e},rotate:function(e,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);e[0]=t*x+S*E;e[1]=t*C+S*I;e[2]=t*D+S*K;e[3]=t*E-S*x;e[4]=t*I-S*C;e[5]=t*K-S*D;e[6]=N;e[7]=Q;e[8]=k;return e},scale:function(e,k,t){var x=t[0];t=t[1];e[0]=x*k[0];e[1]=x*k[1];e[2]=x*k[2];e[3]=t*k[3];e[4]=t*k[4];e[5]=t*k[5];e[6]=k[6];e[7]=k[7];e[8]=k[8];return e},xJ:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=k[0];e[7]=k[1];e[8]=1;return e},RB:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=
t;e[2]=0;e[3]=-t;e[4]=k;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},wJ:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=0;e[4]=k[1];e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},Zla:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=0;e[3]=k[2];e[4]=k[3];e[5]=0;e[6]=k[4];e[7]=k[5];e[8]=1;return e},zca:function(e,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;e[0]=1-x-C;e[3]=K-k;e[6]=N+E;e[1]=K+k;e[4]=1-t-C;e[7]=Q-D;e[2]=N-E;e[5]=Q+D;e[8]=1-t-x;return e},mna:function(e,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;e[0]=(I*W-K*S+N*Ca)*V;e[1]=(K*Q-E*W-N*Ba)*V;e[2]=(E*S-I*Q+N*Aa)*V;e[3]=(C*S-x*W-D*Ca)*V;e[4]=(t*W-C*Q+D*Ba)*V;e[5]=(x*Q-t*S-D*Aa)*V;e[6]=(ia*za-ca*pa+k*sa)*V;e[7]=(ca*ra-
ea*za-k*la)*V;e[8]=(ea*pa-ia*ra+k*oa)*V;return e},AU:function(e,k,t){e[0]=2/k;e[1]=0;e[2]=0;e[3]=0;e[4]=-2/t;e[5]=0;e[6]=-1;e[7]=1;e[8]=1;return e},Pl:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},vJ:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+t[3];e[4]=k[4]+t[4];e[5]=k[5]+t[5];e[6]=k[6]+t[6];e[7]=k[7]+t[7];e[8]=k[8]+t[8];
return e},Ql:h,LJ:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;e[4]=k[4]*t;e[5]=k[5]*t;e[6]=k[6]*t;e[7]=k[7]*t;e[8]=k[8]*t;return e},MJ:function(e,k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;e[3]=k[3]+t[3]*x;e[4]=k[4]+t[4]*x;e[5]=k[5]+t[5]*x;e[6]=k[6]+t[6]*x;e[7]=k[7]+t[7]*x;e[8]=k[8]+t[8]*x;return e},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]&&e[8]===k[8]},ed:function(e,k){var t=e[0],
x=e[1],C=e[2],D=e[3],E=e[4],I=e[5],K=e[6],N=e[7];e=e[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},rn:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var e=new qa(16);qa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0);e[0]=1;e[5]=1;e[10]=1;e[15]=1;return e},clone:function(e){var k=new qa(16);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];k[8]=
e[8];k[9]=e[9];k[10]=e[10];k[11]=e[11];k[12]=e[12];k[13]=e[13];k[14]=e[14];k[15]=e[15];return k},pa:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];e[8]=k[8];e[9]=k[9];e[10]=k[10];e[11]=k[11];e[12]=k[12];e[13]=k[13];e[14]=k[14];e[15]=k[15];return e},vf:function(e,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=e;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(e,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia,ca){e[0]=k;e[1]=t;e[2]=x;e[3]=C;e[4]=D;e[5]=E;e[6]=I;e[7]=K;e[8]=N;e[9]=Q;e[10]=S;e[11]=W;e[12]=V;e[13]=ea;e[14]=ia;e[15]=ca;return e},lw:l,VU:function(e,k){if(e===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];e[1]=k[4];e[2]=k[8];e[3]=k[12];e[4]=t;e[6]=k[9];e[7]=k[13];e[8]=x;e[9]=D;e[11]=k[14];e[12]=C;e[13]=E;e[14]=I}else e[0]=k[0],e[1]=k[4],e[2]=k[8],e[3]=k[12],e[4]=k[1],e[5]=k[5],e[6]=k[9],e[7]=k[13],e[8]=k[2],e[9]=k[6],e[10]=k[10],e[11]=k[14],
e[12]=k[3],e[13]=k[7],e[14]=k[11],e[15]=k[15];return e},Zr:function(e,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;e[0]=(I*Ka-K*Ja+N*Fa)*Da;e[1]=(C*Ja-x*Ka-D*Fa)*Da;e[2]=(ia*za-ca*pa+k*sa)*Da;e[3]=(W*pa-S*za-
V*sa)*Da;e[4]=(K*Ca-E*Ka-N*Ba)*Da;e[5]=(t*Ka-C*Ca+D*Ba)*Da;e[6]=(ca*ra-ea*za-k*la)*Da;e[7]=(Q*za-W*ra+V*la)*Da;e[8]=(E*Ja-I*Ca+N*Aa)*Da;e[9]=(x*Ca-t*Ja-D*Aa)*Da;e[10]=(ea*pa-ia*ra+k*oa)*Da;e[11]=(S*ra-Q*pa-V*oa)*Da;e[12]=(I*Ba-E*Fa-K*Aa)*Da;e[13]=(t*Fa-x*Ba+C*Aa)*Da;e[14]=(ia*la-ea*sa-ca*oa)*Da;e[15]=(Q*sa-S*la+W*oa)*Da;return e},OT:function(e,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;e[0]=I*Ka-K*Ja+N*Fa;e[1]=C*Ja-x*Ka-D*Fa;e[2]=ia*za-ca*pa+k*sa;e[3]=W*pa-S*za-V*sa;e[4]=K*Ca-E*Ka-N*Ba;e[5]=t*Ka-C*Ca+D*Ba;e[6]=ca*ra-ea*za-k*la;e[7]=Q*za-W*ra+V*la;e[8]=E*Ja-I*Ca+N*Aa;e[9]=x*Ca-t*Ja-D*Aa;e[10]=ea*pa-ia*ra+k*oa;e[11]=S*ra-Q*pa-V*oa;e[12]=I*Ba-E*Fa-K*Aa;e[13]=t*Fa-x*Ba+C*Aa;e[14]=ia*la-ea*sa-ca*oa;e[15]=Q*sa-S*la+W*oa;return e},sJ:function(e){var k=e[0],t=e[1],x=e[2],
C=e[4],D=e[5],E=e[6],I=e[8],K=e[9],N=e[10],Q=e[12],S=e[13],W=e[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return e[7]*(k*la-t*oa+x*ca)-e[3]*(C*la-D*oa+E*ca)+e[15]*(I*ia-K*ea+N*V)-e[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(e,k,t){var x=t[0],C=t[1];t=t[2];if(k===e)e[12]=k[0]*x+k[4]*C+k[8]*t+k[12],e[13]=k[1]*x+k[5]*C+k[9]*t+k[13],e[14]=k[2]*x+k[6]*C+k[10]*t+k[14],e[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];e[0]=D;e[1]=E;e[2]=I;e[3]=K;e[4]=N;e[5]=Q;e[6]=S;e[7]=W;e[8]=V;e[9]=ea;e[10]=ia;e[11]=ca;e[12]=D*x+N*C+V*t+k[12];e[13]=E*x+Q*C+ea*t+k[13];e[14]=I*x+S*C+ia*t+k[14];e[15]=K*x+W*C+ca*t+k[15]}return e},scale:function(e,k,t){var x=t[0],C=t[1];t=t[2];e[0]=k[0]*x;e[1]=k[1]*x;e[2]=k[2]*x;e[3]=k[3]*x;e[4]=k[4]*C;e[5]=k[5]*C;e[6]=k[6]*C;e[7]=k[7]*C;e[8]=k[8]*t;e[9]=k[9]*t;e[10]=k[10]*t;e[11]=k[11]*t;e[12]=k[12];e[13]=k[13];e[14]=k[14];e[15]=
k[15];return e},rotate:function(e,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;e[0]=t*sa+W*pa+ca*za;e[1]=E*sa+V*pa+oa*za;e[2]=Q*sa+ea*
pa+la*za;e[3]=S*sa+ia*pa+ra*za;e[4]=t*Aa+W*Ba+ca*Ca;e[5]=E*Aa+V*Ba+oa*Ca;e[6]=Q*Aa+ea*Ba+la*Ca;e[7]=S*Aa+ia*Ba+ra*Ca;e[8]=t*Fa+W*C+ca*D;e[9]=E*Fa+V*C+oa*D;e[10]=Q*Fa+ea*C+la*D;e[11]=S*Fa+ia*C+ra*D;k!==e&&(e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);return e},VJ:function(e,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==e&&(e[0]=k[0],e[1]=k[1],e[2]=k[2],e[3]=k[3],e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);e[4]=C*t+K*x;e[5]=D*t+N*x;e[6]=
E*t+Q*x;e[7]=I*t+S*x;e[8]=K*t-C*x;e[9]=N*t-D*x;e[10]=Q*t-E*x;e[11]=S*t-I*x;return e},WJ:function(e,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==e&&(e[4]=k[4],e[5]=k[5],e[6]=k[6],e[7]=k[7],e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);e[0]=C*t-K*x;e[1]=D*t-N*x;e[2]=E*t-Q*x;e[3]=I*t-S*x;e[8]=C*x+K*t;e[9]=D*x+N*t;e[10]=E*x+Q*t;e[11]=I*x+S*t;return e},XJ:function(e,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==e&&(e[8]=k[8],e[9]=k[9],e[10]=k[10],e[11]=k[11],e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);e[0]=C*t+K*x;e[1]=D*t+N*x;e[2]=E*t+Q*x;e[3]=I*t+S*x;e[4]=K*t-C*x;e[5]=N*t-D*x;e[6]=Q*t-E*x;e[7]=S*t-I*x;return e},xJ:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=k[0];e[13]=k[1];e[14]=k[2];e[15]=1;return e},wJ:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k[1];e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=k[2];e[11]=0;
e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},RB:function(e,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;e[0]=x*x*E+k;e[1]=C*x*E+t*D;e[2]=t*x*E-C*D;e[3]=0;e[4]=x*C*E-t*D;e[5]=C*C*E+k;e[6]=t*C*E+x*D;e[7]=0;e[8]=x*t*E+C*D;e[9]=C*t*E-x*D;e[10]=t*t*E+k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},ema:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k;e[6]=t;e[7]=0;e[8]=0;e[9]=
-t;e[10]=k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},fma:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=0;e[2]=-t;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=t;e[9]=0;e[10]=k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},gma:function(e,k){var t=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=t;e[2]=0;e[3]=0;e[4]=-t;e[5]=k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},Aca:p,ama:function(e,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*C-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-I*D),t[2]=2*(N*E+Q*D+I*C-K*x));p(e,k,t);return e},Dca:q,rma:u,qma:w,Mla:function(e,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),e[3]=.25*x,e[0]=(N-k)/x,e[1]=(Q-E)/x,e[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),e[3]=(N-k)/x,e[0]=.25*x,e[1]=(D+I)/x,e[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),e[3]=(Q-E)/x,e[0]=(D+I)/x,e[1]=.25*x,e[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),e[3]=(D-I)/x,e[0]=(Q+E)/x,e[1]=(N+k)/x,e[2]=.25*x);return e},bma:function(e,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];e[0]=(1-(W+E))*Q;
e[1]=(S+I)*Q;e[2]=(C-N)*Q;e[3]=0;e[4]=(S-I)*V;e[5]=(1-(k+E))*V;e[6]=(D+K)*V;e[7]=0;e[8]=(C+N)*x;e[9]=(D-K)*x;e[10]=(1-(k+W))*x;e[11]=0;e[12]=t[0];e[13]=t[1];e[14]=t[2];e[15]=1;return e},cma:function(e,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,Q=E+E,S=I+I;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+D))*S;e[0]=N;e[1]=la;e[2]=
ca;e[3]=0;e[4]=W;e[5]=ea;e[6]=oa;e[7]=0;e[8]=V;e[9]=E;e[10]=k;e[11]=0;e[12]=t[0]+x-(N*x+W*K+V*C);e[13]=t[1]+K-(la*x+ea*K+E*C);e[14]=t[2]+C-(ca*x+oa*K+k*C);e[15]=1;return e},zca:function(e,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;e[0]=1-x-C;e[1]=K+k;e[2]=N-E;e[3]=0;e[4]=K-k;e[5]=1-t-C;e[6]=Q+D;e[7]=0;e[8]=N+E;e[9]=Q-D;e[10]=1-t-x;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},Bca:function(e,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);e[0]=2*D*I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2*D*K;e[6]=0;e[7]=0;e[8]=(t+k)*I;e[9]=(C+x)*K;e[10]=(E+D)*N;e[11]=-1;e[12]=0;e[13]=0;e[14]=E*D*2*N;e[15]=0;return e},xna:r,perspective:r,yna:function(e,k,t,x,C){k=1/Math.tan(k/2);e[0]=k/t;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),e[10]=C*t,e[14]=C*x*t):(e[10]=-1,e[14]=-x);return e},wna:function(e,k,t,x){var C=Math.tan(k.yoa*Math.PI/180),D=Math.tan(k.Ola*Math.PI/
180),E=Math.tan(k.ana*Math.PI/180);k=Math.tan(k.Sna*Math.PI/180);var I=2/(E+k),K=2/(C+D);e[0]=I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=K;e[6]=0;e[7]=0;e[8]=-((E-k)*I*.5);e[9]=(C-D)*K*.5;e[10]=x/(t-x);e[11]=-1;e[12]=0;e[13]=0;e[14]=x*t/(t-x);e[15]=0;return e},una:v,jda:v,vna:function(e,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);e[0]=-2*I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=-2*K;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=E;e[11]=0;e[12]=(k+t)*I;e[13]=(C+x)*K;e[14]=D*E;e[15]=1;return e},Zca:function(e,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(e);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;e[0]=Q;e[1]=I;e[2]=t;e[3]=0;e[4]=K;e[5]=W;e[6]=x;e[7]=0;e[8]=E;e[9]=V;e[10]=N;e[11]=0;e[12]=-(Q*C+K*D+E*k);e[13]=
-(I*C+W*D+V*k);e[14]=-(t*C+x*D+N*k);e[15]=1;return e},noa:function(e,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);e[0]=S;e[1]=K;e[2]=E;e[3]=0;e[4]=N*E-t*K;e[5]=t*S-x*E;e[6]=x*K-N*S;e[7]=0;e[8]=x;e[9]=N;e[10]=t;e[11]=0;e[12]=C;e[13]=D;e[14]=k;e[15]=1;return e},Pl:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+
", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},vJ:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+t[3];e[4]=k[4]+t[4];e[5]=k[5]+t[5];e[6]=k[6]+t[6];e[7]=k[7]+t[7];e[8]=k[8]+t[8];e[9]=k[9]+t[9];e[10]=k[10]+t[10];e[11]=k[11]+t[11];e[12]=k[12]+t[12];e[13]=k[13]+t[13];
e[14]=k[14]+t[14];e[15]=k[15]+t[15];return e},Ql:y,LJ:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;e[4]=k[4]*t;e[5]=k[5]*t;e[6]=k[6]*t;e[7]=k[7]*t;e[8]=k[8]*t;e[9]=k[9]*t;e[10]=k[10]*t;e[11]=k[11]*t;e[12]=k[12]*t;e[13]=k[13]*t;e[14]=k[14]*t;e[15]=k[15]*t;return e},MJ:function(e,k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;e[3]=k[3]+t[3]*x;e[4]=k[4]+t[4]*x;e[5]=k[5]+t[5]*x;e[6]=k[6]+t[6]*x;e[7]=k[7]+t[7]*x;e[8]=k[8]+t[8]*x;e[9]=k[9]+t[9]*x;e[10]=k[10]+t[10]*x;e[11]=
k[11]+t[11]*x;e[12]=k[12]+t[12]*x;e[13]=k[13]+t[13]*x;e[14]=k[14]+t[14]*x;e[15]=k[15]+t[15]*x;return e},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]&&e[8]===k[8]&&e[9]===k[9]&&e[10]===k[10]&&e[11]===k[11]&&e[12]===k[12]&&e[13]===k[13]&&e[14]===k[14]&&e[15]===k[15]},ed:function(e,k){var t=e[0],x=e[1],C=e[2],D=e[3],E=e[4],I=e[5],K=e[6],N=e[7],Q=e[8],S=e[9],W=e[10],V=e[11],ea=e[12],ia=e[13],ca=e[14];e=e[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},rn:n,sub:y}),rb=function(){var e=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)e[0]=k[x],e[1]=k[x+1],e[2]=k[x+2],D(e,e,E),k[x]=e[0],k[x+1]=e[1],k[x+2]=e[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(e){var k=new qa(3);k[0]=e[0];k[1]=e[1];k[2]=e[2];return k},length:G,vf:z,pa:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];return e},set:function(e,k,
t,x){e[0]=k;e[1]=t;e[2]=x;return e},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];return e},Ql:F,multiply:H,Jl:J,ceil:function(e,k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);e[2]=Math.ceil(k[2]);return e},floor:function(e,k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);e[2]=Math.floor(k[2]);return e},min:function(e,k,t){e[0]=Math.min(k[0],t[0]);e[1]=Math.min(k[1],t[1]);e[2]=Math.min(k[2],t[2]);return e},max:function(e,k,t){e[0]=Math.max(k[0],t[0]);e[1]=Math.max(k[1],t[1]);e[2]=Math.max(k[2],
t[2]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=Math.round(k[1]);e[2]=Math.round(k[2]);return e},scale:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;return e},YJ:function(e,k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;return e},iw:M,OU:P,cC:R,uU:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];e[2]=1/k[2];return e},normalize:T,pn:Z,rJ:X,Ud:function(e,k,t,x){var C=k[0],D=k[1];k=k[2];e[0]=C+x*(t[0]-C);e[1]=D+x*(t[1]-
D);e[2]=k+x*(t[2]-k);return e},Cda:function(e,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;e[0]=E*k[0]+x*t[0];e[1]=E*k[1]+x*t[1];e[2]=E*k[2]+x*t[2];return e},vma:function(e,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);e[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;e[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;e[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return e},vla:function(e,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;e[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;e[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;e[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return e},random:function(e,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;e[0]=Math.cos(t)*C;e[1]=Math.sin(t)*C;e[2]=x*k;return e},eK:function(e,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;e[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;e[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;e[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return e},Mda:function(e,k,t){var x=k[0],C=k[1];k=k[2];e[0]=x*t[0]+C*t[3]+
k*t[6];e[1]=x*t[1]+C*t[4]+k*t[7];e[2]=x*t[2]+C*t[5]+k*t[8];return e},Nda:function(e,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,Q=x*I-C*E;t=2*t[3];e[0]=E+K*t+2*(C*Q-D*N);e[1]=I+N*t+2*(D*K-x*Q);e[2]=k+Q*t+2*(x*N-C*K);return e},VJ:function(e,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);e[0]=D[0]+t[0];e[1]=D[1]+t[1];e[2]=D[2]+t[2];return e},WJ:function(e,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);e[0]=D[0]+t[0];e[1]=D[1]+t[1];e[2]=D[2]+t[2];return e},XJ:function(e,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];e[0]=D[0]+t[0];e[1]=D[1]+t[1];e[2]=D[2]+t[2];return e},angle:function(e,k){var t=e[0],x=e[1],C=e[2],D=k[0],E=k[1],I=k[2];e=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(e,k)/t;return Math.acos(Math.min(Math.max(e,-1),1))},fV:function(e){e[0]=0;e[1]=0;e[2]=0;return e},Pl:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]},ed:function(e,k){var t=e[0],x=e[1];e=e[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},sub:F,
rn:H,aU:J,$T:M,NU:P,rw:G,bC:R,forEach:rb});var sb=function(){var e=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)e[0]=k[x],e[1]=k[x+1],e[2]=k[x+2],e[3]=k[x+3],D(e,e,E),k[x]=e[0],k[x+1]=e[1],k[x+2]=e[2],k[x+3]=e[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,vf:va,pa:ta,set:ya,add:Na,Ql:Sa,multiply:Ta,Jl:Ua,ceil:function(e,k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);e[2]=Math.ceil(k[2]);e[3]=Math.ceil(k[3]);return e},floor:function(e,
k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);e[2]=Math.floor(k[2]);e[3]=Math.floor(k[3]);return e},min:function(e,k,t){e[0]=Math.min(k[0],t[0]);e[1]=Math.min(k[1],t[1]);e[2]=Math.min(k[2],t[2]);e[3]=Math.min(k[3],t[3]);return e},max:function(e,k,t){e[0]=Math.max(k[0],t[0]);e[1]=Math.max(k[1],t[1]);e[2]=Math.max(k[2],t[2]);e[3]=Math.max(k[3],t[3]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=Math.round(k[1]);e[2]=Math.round(k[2]);e[3]=Math.round(k[3]);return e},scale:Wa,YJ:function(e,
k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;e[2]=k[2]+t[2]*x;e[3]=k[3]+t[3]*x;return e},iw:eb,OU:fb,length:Pa,cC:Va,uU:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=-k[3];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];e[2]=1/k[2];e[3]=1/k[3];return e},normalize:ib,pn:Ya,rJ:function(e,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];e[0]=N*t-Q*K+k*I;e[1]=-(x*t)+
Q*E-k*D;e[2]=x*K-N*E+k*C;e[3]=-(x*I)+N*D-Q*C;return e},Ud:vb,random:function(e,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);e[0]=k*t;e[1]=k*x;e[2]=k*D*C;e[3]=k*E*C;return e},eK:function(e,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];e[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;e[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;e[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;e[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return e},Nda:function(e,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;e[0]=N*t+x*-E+Q*-K-S*-I;e[1]=Q*t+x*-I+S*-E-N*-K;e[2]=S*t+x*-K+N*-I-Q*-E;e[3]=k[3];return e},fV:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=0;return e},Pl:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},$i:wb,ed:function(e,k){var t=e[0],x=e[1],C=e[2];e=e[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},sub:Sa,rn:Ta,aU:Ua,$T:eb,NU:fb,rw:Pa,bC:Va,forEach:sb});var tb=function(){var e=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(e,k,C),1E-6>G(e)&&X(e,t,C),T(e,e),xb(x,e,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(e,C,D);x[0]=e[0];x[1]=e[1];x[2]=e[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var e=jb(),k=
jb();return function(t,x,C,D,E,I){kb(e,x,E,I);kb(k,C,D,I);kb(t,e,k,2*I*(1-I));return t}}(),gb=function(){var e=g();return function(k,t,x,C){e[0]=x[0];e[3]=x[1];e[6]=x[2];e[1]=C[0];e[4]=C[1];e[7]=C[2];e[2]=-t[0];e[5]=-t[1];e[8]=-t[2];return ib(k,Eb(k,e))}}();tb=Object.freeze({__proto__:null,create:jb,lw:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=1;return e},foa:xb,nma:function(e,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(e[0]=k[0]/x,e[1]=k[1]/x,e[2]=k[2]/x):(e[0]=1,e[1]=0,e[2]=0);return t},lma:function(e,
k){e=Ya(e,k);return Math.acos(2*e*e-1)},multiply:yb,VJ:zb,WJ:Ab,XJ:Bb,wla:function(e,k){var t=k[0],x=k[1];k=k[2];e[0]=t;e[1]=x;e[2]=k;e[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return e},exp:Cb,Yca:Db,pow:function(e,k,t){Db(e,k);Wa(e,e,t);Cb(e,e);return e},Cda:kb,random:function(e){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);e[0]=C*Math.sin(2*Math.PI*t);e[1]=C*Math.cos(2*Math.PI*t);e[2]=k*Math.sin(2*Math.PI*x);e[3]=k*Math.cos(2*Math.PI*x);return e},Zr:function(e,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;e[0]=-t*D;e[1]=-x*D;e[2]=-C*D;e[3]=k*D;return e},jca:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=k[3];return e},$la:Eb,Yla:function(e,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":e[0]=D*K*Q+E*I*N;e[1]=E*I*Q-D*K*N;e[2]=E*K*N+D*I*Q;e[3]=E*K*Q-D*I*N;break;case "xzy":e[0]=D*K*Q-E*I*N;e[1]=E*
I*Q-D*K*N;e[2]=E*K*N+D*I*Q;e[3]=E*K*Q+D*I*N;break;case "yxz":e[0]=D*K*Q+E*I*N;e[1]=E*I*Q-D*K*N;e[2]=E*K*N-D*I*Q;e[3]=E*K*Q+D*I*N;break;case "yzx":e[0]=D*K*Q+E*I*N;e[1]=E*I*Q+D*K*N;e[2]=E*K*N-D*I*Q;e[3]=E*K*Q-D*I*N;break;case "zxy":e[0]=D*K*Q-E*I*N;e[1]=E*I*Q+D*K*N;e[2]=E*K*N+D*I*Q;e[3]=E*K*Q-D*I*N;break;case "zyx":e[0]=D*K*Q-E*I*N;e[1]=E*I*Q+D*K*N;e[2]=E*K*N-D*I*Q;e[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+C);}return e},Pl:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+
", "+e[3]+")"},clone:Y,vf:va,pa:ta,set:ya,add:Na,rn:yb,scale:Wa,pn:Ya,Ud:vb,length:Pa,rw:Pa,cC:Va,bC:Va,normalize:ib,$i:wb,ed:function(e,k){return.999999<=Math.abs(Ya(e,k))},Wna:tb,koa:ub,eoa:gb});ub=Object.freeze({__proto__:null,create:function(){var e=new qa(8);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0);e[3]=1;return e},clone:function(e){var k=new qa(8);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];return k},vf:function(e,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=e;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},dma:function(e,k,t,x,C,D,E){var I=new qa(8);I[0]=e;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*e-C*t;I[6]=E*x+C*k-D*e;I[7]=-C*e-D*k-E*t;return I},Aca:Fb,xJ:function(e,k){e[0]=0;e[1]=0;e[2]=0;e[3]=1;e[4]=.5*k[0];e[5]=.5*k[1];e[6]=.5*k[2];e[7]=0;return e},RB:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=0;e[5]=0;e[6]=0;e[7]=0;return e},yca:function(e,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(e,t,x);return e},pa:Gb,lw:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;e[6]=0;e[7]=0;return e},set:function(e,k,t,x,C,D,E,I,K){e[0]=k;e[1]=t;e[2]=x;e[3]=C;e[4]=D;e[5]=E;e[6]=I;e[7]=K;return e},pma:ta,oma:function(e,k){e[0]=k[4];e[1]=k[5];e[2]=k[6];e[3]=k[7];return e},ioa:ta,goa:function(e,k){e[4]=k[0];e[5]=k[1];e[6]=k[2];e[7]=k[3];return e},Dca:function(e,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];e[0]=2*(t*k+D*E+x*K-C*I);e[1]=2*(x*k+D*I+C*E-t*K);e[2]=2*(C*k+
D*K+t*I-x*E);return e},translate:function(e,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];e[0]=x;e[1]=C;e[2]=D;e[3]=E;e[4]=E*I+C*t-D*K+N;e[5]=E*K+D*I-x*t+Q;e[6]=E*t+x*K-C*I+S;e[7]=-x*I-C*K-D*t+k;return e},VJ:function(e,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;zb(e,k,t);x=e[0];C=e[1];D=e[2];E=e[3];e[4]=S*E+I*x+W*D-V*C;e[5]=W*E+I*C+V*x-S*D;e[6]=V*E+
I*D+S*C-W*x;e[7]=I*E-S*x-W*C-V*D;return e},WJ:function(e,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Ab(e,k,t);x=e[0];C=e[1];D=e[2];E=e[3];e[4]=S*E+I*x+W*D-V*C;e[5]=W*E+I*C+V*x-S*D;e[6]=V*E+I*D+S*C-W*x;e[7]=I*E-S*x-W*C-V*D;return e},XJ:function(e,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Bb(e,k,t);x=e[0];C=
e[1];D=e[2];E=e[3];e[4]=S*E+I*x+W*D-V*C;e[5]=W*E+I*C+V*x-S*D;e[6]=V*E+I*D+S*C-W*x;e[7]=I*E-S*x-W*C-V*D;return e},Una:function(e,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];e[0]=E*t+N*x+I*D-K*C;e[1]=I*t+N*C+K*x-E*D;e[2]=K*t+N*D+E*C-I*x;e[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];e[4]=E*t+N*x+I*D-K*C;e[5]=I*t+N*C+K*x-E*D;e[6]=K*t+N*D+E*C-I*x;e[7]=N*t-E*x-I*C-K*D;return e},Vna:function(e,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];e[0]=x*N+k*E+C*
K-D*I;e[1]=C*N+k*I+D*E-x*K;e[2]=D*N+k*K+x*I-C*E;e[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];e[4]=x*N+k*E+C*K-D*I;e[5]=C*N+k*I+D*E-x*K;e[6]=D*N+k*K+x*I-C*E;e[7]=k*N-x*E-C*I-D*K;return e},Tna:function(e,k,t,x){if(1E-6>Math.abs(x))return Gb(e,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];e[0]=C*x+N*E+D*t-K*I;e[1]=D*x+N*I+K*E-C*t;e[2]=K*x+N*t+C*I-D*E;e[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];e[4]=
C*x+k*E+D*t-K*I;e[5]=D*x+k*I+K*E-C*t;e[6]=K*x+k*t+C*I-D*E;e[7]=k*x-C*E-D*I-K*t;return e},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];e[2]=k[2]+t[2];e[3]=k[3]+t[3];e[4]=k[4]+t[4];e[5]=k[5]+t[5];e[6]=k[6]+t[6];e[7]=k[7]+t[7];return e},multiply:lb,rn:lb,scale:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;e[2]=k[2]*t;e[3]=k[3]*t;e[4]=k[4]*t;e[5]=k[5]*t;e[6]=k[6]*t;e[7]=k[7]*t;return e},pn:Ya,Ud:function(e,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);e[0]=k[0]*C+t[0]*x;e[1]=k[1]*C+t[1]*x;e[2]=k[2]*C+t[2]*x;e[3]=
k[3]*C+t[3]*x;e[4]=k[4]*C+t[4]*x;e[5]=k[5]*C+t[5]*x;e[6]=k[6]*C+t[6]*x;e[7]=k[7]*C+t[7]*x;return e},Zr:function(e,k){var t=Va(k);e[0]=-k[0]/t;e[1]=-k[1]/t;e[2]=-k[2]/t;e[3]=k[3]/t;e[4]=-k[4]/t;e[5]=-k[5]/t;e[6]=-k[6]/t;e[7]=k[7]/t;return e},jca:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=k[3];e[4]=-k[4];e[5]=-k[5];e[6]=-k[6];e[7]=k[7];return e},length:Pa,rw:Pa,cC:Va,bC:Va,normalize:function(e,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+C*K+D*N+E*k;e[0]=x;e[1]=C;e[2]=D;e[3]=E;e[4]=(I-x*Q)/t;e[5]=(K-C*Q)/t;e[6]=(N-D*Q)/t;e[7]=(k-E*Q)/t}return e},Pl:function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]},ed:function(e,k){var t=e[0],x=e[1],C=e[2],D=e[3],E=e[4],I=e[5],K=e[6];e=e[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))}});gb=function(){var e=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)e[0]=k[x],e[1]=k[x+1],D(e,e,E),k[x]=e[0],k[x+1]=e[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(e){var k=new qa(2);k[0]=e[0];k[1]=e[1];return k},vf:function(e,k){var t=new qa(2);t[0]=e;t[1]=k;return t},pa:function(e,k){e[0]=k[0];e[1]=k[1];return e},set:function(e,k,t){e[0]=k;e[1]=t;return e},add:function(e,k,t){e[0]=k[0]+t[0];e[1]=k[1]+t[1];return e},Ql:mb,multiply:nb,Jl:Za,ceil:function(e,
k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);return e},floor:function(e,k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);return e},min:function(e,k,t){e[0]=Math.min(k[0],t[0]);e[1]=Math.min(k[1],t[1]);return e},max:function(e,k,t){e[0]=Math.max(k[0],t[0]);e[1]=Math.max(k[1],t[1]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=Math.round(k[1]);return e},scale:function(e,k,t){e[0]=k[0]*t;e[1]=k[1]*t;return e},YJ:function(e,k,t,x){e[0]=k[0]+t[0]*x;e[1]=k[1]+t[1]*x;return e},iw:ob,OU:Qa,length:pb,
cC:qb,uU:function(e,k){e[0]=-k[0];e[1]=-k[1];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];return e},normalize:function(e,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));e[0]=k[0]*t;e[1]=k[1]*t;return e},pn:function(e,k){return e[0]*k[0]+e[1]*k[1]},rJ:function(e,k,t){k=k[0]*t[1]-k[1]*t[0];e[0]=e[1]=0;e[2]=k;return e},Ud:function(e,k,t,x){var C=k[0];k=k[1];e[0]=C+x*(t[0]-C);e[1]=k+x*(t[1]-k);return e},random:function(e,k){k=k||1;var t=2*Ma()*Math.PI;e[0]=Math.cos(t)*k;e[1]=Math.sin(t)*
k;return e},voa:function(e,k,t){var x=k[0];k=k[1];e[0]=t[0]*x+t[2]*k;e[1]=t[1]*x+t[3]*k;return e},woa:function(e,k,t){var x=k[0];k=k[1];e[0]=t[0]*x+t[2]*k+t[4];e[1]=t[1]*x+t[3]*k+t[5];return e},Mda:function(e,k,t){var x=k[0];k=k[1];e[0]=t[0]*x+t[3]*k+t[6];e[1]=t[1]*x+t[4]*k+t[7];return e},eK:function(e,k,t){var x=k[0];k=k[1];e[0]=t[0]*x+t[4]*k+t[12];e[1]=t[1]*x+t[5]*k+t[13];return e},rotate:function(e,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);e[0]=C*x-k*D+t[0];e[1]=C*D+k*
x+t[1];return e},angle:function(e,k){var t=e[0];e=e[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+e*e)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+e*k)/C,-1),1))},fV:function(e){e[0]=0;e[1]=0;return e},Pl:function(e){return"vec2("+e[0]+", "+e[1]+")"},$i:function(e,k){return e[0]===k[0]&&e[1]===k[1]},ed:function(e,k){var t=e[0];e=e[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},rw:pb,sub:mb,rn:nb,aU:Za,
$T:ob,NU:Qa,bC:qb,forEach:gb});d.aj=Nb;d.fna=Ob;d.gna=Pb;d.hna=Qb;d.Ml=Rb;d.Dna=tb;d.Ena=ub;d.Doa=gb;d.gC=rb;d.Dw=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.ola?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.aj={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function f(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(f(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&f(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=g(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=g(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(h(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(M),ba.push(M),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(f(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=g(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&d(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Bna={Lla:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Fna:w,Fma:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},Kna:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},Lna:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},ena:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.ow=!1;d.GJ=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Wg={}}
{"use strict";const d=self.B;d.PM=class{constructor(a){this.zba=a;this.Ha=new Map;this.E8()}E8(){var a=this.zba;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.F8(b)}F8(a){if(a)if(a.includes("=")){var b=a.indexOf("="),f=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ha.set(f,a)}else this.Ha.set(a,null)}Ox(a){return this.Ha.has(a)}U(a){a=this.Ha.get(a);return"undefined"===typeof a?null:a}};d.QM=new d.PM(location.search);d.Ega=
new d.PM(location.hash);d.QM.U("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={Xca:/linux|openbsd|freebsd|netbsd/i.test(a),gca:/CrOS/.test(a),hC:/trident|iemobile|msie|tizen/i.test(a),kma:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),TT:/bb10/i.test(a),vca:/edge\//i.test(a),XU:/trident/i.test(a),webkit:/webkit/i.test(a),vda:/safari\//i.test(a),fca:/chrome\//i.test(a),hca:/chromium\//i.test(a),lca:/crosswalk|xwalk/i.test(a),ona:/nwjs/i.test(a),Tba:/amazonwebappplatform/i.test(a),Tda:/wv\)/.test(a),Uba:/android/i.test(a),
gda:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{f="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{f="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.Xca,()=>{f="Linux"});u("isChromeOS",b.gca,()=>{f="Chrome OS"});u("isAndroid",!b.hC&&Lb,r=>{f="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{f="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.hC&&Ub,r=>{f="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.hC&&Vb,r=>{f="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{f="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{f="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.TT,()=>{f="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.vca&&!b.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==g&&b.XU,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.vda&&!b.gda&&!b.fca&&!b.hca&&!b.jma&&!b.TT,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.lca,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.Tba,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&b.Tda,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===f,()=>f="Firefox OS");u("isAndroidFallback","(unknown)"===f&&!b.hC&&b.Uba,()=>f="Android");u("isTridentFallback",
"(unknown)"===f&&b.XU,()=>h="Trident");u("isWebkitFallback","(unknown)"===f&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(f="iOS",c=m,p=n=!1);d.Wc={Zp:f,Zga:c,Lw:g,tea:m,sC:parseFloat(m),Mw:h,zC:l,Wfa:n,GD:!n,Xfa:p,Sfa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Ofa:"Mac OS X"===f||"iOS"===f,bga:w,cga:"Linux"===f}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function m(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),h(w,r,v,!1);throw G;}}function l(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return f(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=f(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=f(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=f(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=f(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=f(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=f(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.j0=u}"use strict";
{const d=self.j0,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.W=l;b.set(this,new Map)}Xt(l){if(!f)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async QR(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async gT(l,n){n=await m(n);b.get(this).set(l,n)}dT(l){b.get(this).delete(l)}rR(){b.get(this).clear()}xS(){return Array.from(b.get(this).keys())}async getItem(l,n){g(n);if(f)return await this.QR(l);let p;try{p=await this.W.get(l)}catch(q){this.Xt(q);if(f)return await this.QR(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(f)await this.gT(l,n);else try{await this.W.set(l,n)}catch(q){if(this.Xt(q),f)await this.gT(l,n);else throw q;}}async removeItem(l,n){g(n);if(f)this.dT(l);else try{await this.W.delete(l)}catch(p){this.Xt(p),f?this.dT(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(f)this.rR();else try{await this.W.clear()}catch(n){this.Xt(n),f?this.rR():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(f)return this.xS();l=[];try{l=await this.W.keys()}catch(n){this.Xt(n);
if(f)return this.xS();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return f?Promise.resolve(!0):this.W.ready()}qJ(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.B;d.Xb={};d.Xb.ala=(()=>{try{if("Safari"===d.Wc.Lw||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Xb.Vea="undefined"!==typeof HTMLDialogElement;d.Xb.$ha=!!self.requestIdleCallback;d.Xb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Wc.Lw;d.Xb.ImageBitmapOptions=!1;if(d.Xb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{d.Xb.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{d.Xb.ImageBitmapOptions=!1})}catch(a){d.Xb.ImageBitmapOptions=!1}d.Xb.xea=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Wc.Lw);d.Xb.tha=!(!navigator.permissions||!navigator.permissions.query);d.Xb.OM="undefined"!==typeof Proxy;d.Xb.Wea="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Xb.Ow="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.Xb.hfa="function"===typeof fetch;d.Xb.vha=!!(self.isSecureContext&&"Opera"!==d.Wc.Lw&&navigator.storage&&navigator.storage.persist);d.Xb.tka=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Wc.Zp)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.Xb.pfa=fc;d.Xb.Dfa=
"undefined"!==typeof self.ImageDecoder;d.Xb.Uga=!!self.showOpenFilePicker;d.Xb.Vga=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.ts(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,f){return b.reduce((c,g)=>{0<f&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,f-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Td||(Array.prototype.Td=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Td||(String.prototype.Td=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,
c)=>a({usage:f,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.nx())}}
{"use strict";const d=self.B,a=self.Wg;d.gm=function(f){return"number"===typeof f};d.cm=function(f){return d.gm(f)&&isFinite(f)};d.If=function(f){if(!d.gm(f))throw new TypeError("expected number");};d.ZM=function(){};d.uia=function(f,c,g){if(!d.gm(f)||isNaN(f)||c>f||g<f)throw new RangeError("number outside of range");};d.gia=function(...f){for(let c of f);};d.kh=function(f){if(!d.cm(f))throw new TypeError("expected finite number");};d.WM=function(){};d.dia=function(...f){for(let c of f);};d.hi=function(f){return"string"===
typeof f};d.Jd=function(f){if(!d.hi(f))throw new TypeError("expected string");};d.aN=function(){};d.iia=function(...f){for(let c of f);};d.hM=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.Hia=function(f){if(!d.hM(f))throw new TypeError("expected simple object");};d.Eia=function(f){if(!d.Yd(f)&&!d.hM(f))throw new TypeError("expected simple object");};d.gM=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.UM=function(f){if(!d.gM(f))throw new TypeError("expected object");
};d.$M=function(){};d.hia=function(...f){for(let c of f);};d.xD=function(f){return d.dm(f,Blob)&&"string"===typeof f.name};d.sia=function(f){if(!d.xD(f))throw new TypeError("expected file");};d.Cia=function(){};d.Pn=function(f){return Array.isArray(f)};d.WD=function(f){if(!d.Pn(f))throw new TypeError("expected array");};d.VM=function(){};d.cia=function(...f){for(let c of f);};d.K_=function(f){return d.Pn(f)?f.length?d.Pn(f[0])?!0:!1:!0:!1};d.bia=function(f){if(!d.K_(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.Pn(c))throw new TypeError("expected 2d array");};d.via=function(){};d.yD=function(f){return"function"===typeof f};d.Bj=function(f,c){if(!d.yD(f))throw new TypeError("expected function");if(!d.Yd(c)&&f!==c)throw new TypeError("expected same function reference");};d.XM=function(){};d.eia=function(...f){for(let c of f);};d.kia=function(f,...c){if(!d.yD(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.Yd(g)&&
f===g)return;throw new TypeError("expected same function reference");};d.wia=function(...f){if(!d.Yd(f))for(let c of f);};d.dm=function(f,c){return f instanceof c};d.eM=function(f,...c){for(let g of c)if(d.dm(f,g))return!0;return!1};d.XD=function(f,c){if(!d.dm(f,c))throw new TypeError("unexpected type");};d.YM=function(){};d.fia=function(f,...c){for(let g of c);};d.lia=function(f,...c){if(!d.eM(f,...c))throw new TypeError("unexpected type");};d.mia=function(f,...c){if(!d.Yd(f)&&!d.eM(f,...c))throw new TypeError("unexpected type");
};d.Pfa=function(f,c){for(let g of f)if(!d.dm(g,c))return!1;return!0};d.Qfa=function(f){for(let c of f)if(!d.cm(c))return!1;return!0};d.nia=function(f){for(let c of f);};d.xia=function(f){if(!d.Yd(f))for(let c of f);};d.oia=function(f){for(let c of f);};d.yia=function(f){if(!d.Yd(f))for(let c of f);};d.Tfa=function(f,c){return d.Yd(f)||!d.hi(f.nodeName)?!1:!c||d.Ll(f.nodeName,c)};d.pia=function(f,c){if(d.Yd(f)||!d.hi(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Ll(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.zia=function(){};d.AD=function(f,c){return d.Yd(f)||!d.hi(f.tagName)?!1:!c||d.Ll(f.tagName,c)};d.tia=function(f,c){if(d.Yd(f)||!d.hi(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.Ll(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Dia=function(){};d.ZL=function(f){return d.AD(f,"img")||d.AD(f,"canvas")||d.AD(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.qia=function(f){if(!d.ZL(f))throw new TypeError("expected drawable");
};d.Aia=function(){};d.$L=function(f){return f instanceof ImageData?!0:d.ZL(f)};d.ria=function(f){if(!d.$L(f))throw new TypeError("expected drawable or image data");};d.Bia=function(f){if(!d.Yd(f)&&!d.$L(f))throw new TypeError("expected drawable or image data");};d.e0=function(f){return"string"===typeof f||f instanceof d.oD||f instanceof d.Sl};d.Iia=function(f){if(!d.e0(f))throw new TypeError("expected string-like");};d.Fia=function(){};d.jia=function(...f){for(let c of f);};d.Gia=function(){throw Error("must be overridden");
};d.Yga=function(){throw Error("not yet implemented");};d.Vfa=function(f,...c){if("undefined"===typeof f)return!1;for(let g of c){if("undefined"===typeof f[g])return!1;f=f[g]}return!0};d.Yd=function(f){return"undefined"===typeof f||null===f};d.kea=function(f){let c=f[0].constructor;for(let g of f)if(g.constructor!==c)return!1;return c};d.lea=function(f,c){for(let g of f)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.pga=function(f){return d.dm(f,b)};d.Jia=function(){};
d.$ka=function(f){d.a4(f,b)};d.Zka=function(f,...c){if(!d.Z3(f,...c))throw new TypeError("unexpected type");};d.Z3=function(f,...c){for(const g of c)if(d.kO(f,g))return!0;return!1};d.a4=function(f,c){if(!d.kO(f,c))throw new TypeError("unexpected type");};d.kO=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};a.If=d.If;a.ZM=d.ZM;a.kh=d.kh;a.WM=d.WM;a.Jd=d.Jd;a.aN=d.aN;a.UM=d.UM;a.$M=d.$M;a.WD=d.WD;a.VM=d.VM;a.Bj=d.Bj;a.XM=d.XM;a.XD=d.XD;a.YM=d.YM;a.Yd=
d.Yd}
{"use strict";const d=self.B,a=new Map;d.Tha=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;d.pka=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,ST:0,kJ:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.ST.toPrecision(3)} :: calls => ${this.kJ}`}})};d.$ea=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.ST=u.total/u.kJ;u.kJ++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.nx=function(){return Error().stack};d.Sea=function(){debugger};d.Cla=function(u,w){return u&&u instanceof w?u:null};d.lk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.gm(u)?"<number>":d.hi(u)?"<string>":d.Pn(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.yD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.TB=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let f=new Map,c=new Map,g=new WeakMap,m=new WeakMap;d.Hp={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",d.nx())}d.Hp.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||l(`Accessed missing property '${w}' from defended object '${d.lk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&l(`Accessed property '${w}' on a released object '${d.lk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.Hp.set=function(u,w,r){w in u||f.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${d.lk(u)}'`);{var v=d.TB(u[w]);
let y=d.TB(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||f.has(u)||l(`Set '${d.TB(u[w])}' property '${w}' to type '${d.TB(r)}' on defended object '${d.lk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${d.lk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.Hp.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.lk(u)}'`);};d.Hp.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.lk(u)}'`);};d.Hp.Qla=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.lk(u)}'`);};let n=-1;function p(){n=-1;if(0<f.size||0<c.size){let u=[...new Set([...f.keys()].map(w=>d.lk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);f.clear();c.clear()}}
d.ca=class{constructor(){if(d.GJ&&d.Xb.OM){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.Hp);f.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.nca=function(u){if(d.GJ&&d.Xb.OM&&u instanceof d.ca){if(!c.has(u))return u;let w=c.get(u);c.delete(u);f.delete(w);return u}return d.ow?Object.seal(u):u};d.m=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),f.clear(),A;}if(d.GJ){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.ln(v,[...y]);v.length&&console.warn(`[Defence] '${d.lk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.nca(r)};d.A=function(u){(u=g.get(u))&&m.set(u,d.nx())};d.Dy=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let q=new Map;d.sha=class{constructor(u){this.Fa="";u&&this.start(u)}start(u){this.Fa=u;performance.mark(this.Fa+"-Start")}end(){performance.mark(this.Fa+"-End");performance.measure(this.Fa,
this.Fa+"-Start",this.Fa+"-End")}next(u){this.end();this.Fa=u;performance.mark(this.Fa+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,f=180/Math.PI;d.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};d.$ca=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};d.normalize=function(g,m,h){return(g-m)/(h-m)};d.fa=function(g,m,h){return g<m?m:g>h?h:g};d.je=function(g){g%=a;0>g&&(g+=a);return g};d.kb=function(g){return g*b};d.Tg=function(g){return g*f};d.MB=function(g,m,h,l){return Math.hypot(h-g,l-m)};d.LB=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};d.GB=function(g,m,h,l){return Math.atan2(l-m,h-g)};d.yp=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.EB=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>h?0<n*p-l*q?d.je(g+h):d.je(g-h):d.je(m)};d.rf=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};d.iJ=function(g,m,h,l=0){let n=d.yp(g,m);l*=a;return d.rf(m,
g)?d.je(g+(n+l)*h):d.je(g-(n+l)*h)};d.Wba=function(g,m,h,l=0){const n=d.yp(g,m);l*=a;return d.rf(m,g)?d.je(g+(n+l)*h):d.je((a-n+l)*h)};d.Vba=function(g,m,h,l=0){const n=d.yp(g,m);l*=a;return d.rf(m,g)?d.je((-a+n-l)*h):d.je(g-(n+l)*h)};d.Ud=function(g,m,h){return g+h*(m-g)};d.eC=function(g,m,h){return g===m?0:(h-g)/(m-g)};d.rda=function(g,m,h,l){return d.Ud(0,l,d.eC(g,m,h))};d.ZB=function(g,m,h,l){return d.Ud(d.Ud(g,m,l),d.Ud(m,h,l),l)};d.ZT=function(g,m,h,l,n){return d.Ud(d.ZB(g,m,h,n),d.ZB(m,h,l,
n),n)};d.YT=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};d.mk=function(g){return 0<g&&0===(g-1&g)};d.vU=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};d.Xna=function(g,m){return Math.round(g*m)/m};d.Vla=function(g,m){return Math.floor(g*m)/m};d.GU=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};d.j1=function(g,m,h){return d.fa(g,0,255)|d.fa(m,
0,255)<<8|d.fa(h,0,255)<<16};d.fy=function(g,m,h,l){g=d.fa(Math.floor(1024*g),-8192,8191);m=d.fa(Math.floor(1024*m),-8192,8191);h=d.fa(Math.floor(1024*h),-8192,8191);l=d.fa(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};d.HM=function(g,m,h){return d.fy(g,m,h,1)};d.dD=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.XC=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.NC=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.hY=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.Hca=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.mma=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=d.Hca(g,m);return[g/h,m/h]};d.doa=function(g,m,h,l,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-m+u-l;g=h-g;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-m*w)<=u};d.Nl=function(g,m,h,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-m+y-l;g=h-g;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-m*q)<=y};d.$B=function(g,m,h,l,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l),r=n.wb,v=n.xb,y=n.ic,A=n.jc,G=n.ac,z=n.cc,F=n.Zb;n=n.$b;return d.Nl(g,m,h,l,p,q,u,w,r,v,y,A)||d.Nl(g,m,h,l,p,q,u,w,y,A,G,z)||d.Nl(g,m,h,l,p,q,u,w,G,z,F,n)||d.Nl(g,m,h,l,p,q,u,w,F,n,r,v)};d.coa=function(g,m,h,l,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.Nl(g,m,h,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.Nl(g,m,h,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.qda=function(g,m,h,l,n,p,q,u){h-=g;p=u-p;const w=h*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-g)+h*(u-m))/w;return 0<l&&1.000001>l?(p*(q-g)+(n-q)*(u-m))/w:2};d.zw=function(g,m,h,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.qda(g,m,h,l,n-r,p-w,q+r,u+w)};d.Rca=function(g,m,h,l,n,p,q,u){n-=
h;p-=l;q-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};d.Qda=function(g,m,h,l,n,p,q,u){n-=h;p-=l;q-=h;u-=l;g-=h;const w=m-l;m=n*n+p*p;l=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=m*h-l*l;u=(h*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};d.Pda=function(g,m,h,l,n,p,q,u,w){return[g*l+m*p+h*u,g*n+m*q+h*w]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.qfa=function(){return b};d.OC=function(){if(!a)return"";const l=a.location;return d.iZ(l.origin+l.pathname)+b};d.iZ=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.tfa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.GY=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.vx=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.K0=function(l){return l.replace(/\\/g,"/")};d.Zfa=function(l,n){return n===(l?d.GY(l).slice(1):"")};d.ifa=function(l,n){let p,q;d.xD(l)&&(p=d.vx(l.name));d.hi(l)&&(p=
d.vx(l));d.xD(n)&&(q=d.vx(n.name));d.hi(n)&&(q=d.vx(n));return p===q};d.qha=function(l){l=d.K0(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,tla:u,name:l,root:n,ext:w,hma:n+q+u}};d.GE=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.moa=function(l){try{l()}catch(n){d.ow&&console.warn("Swallowed exception: ",n)}};d.lna=function(){};d.Ll=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Rla=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Rda=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.Qe=function(l,n){l.length=n};d.C=function(l){l&&0!==l.length&&d.Qe(l,0)};d.ica=function(l){if(l){for(let n=0;n<l.length;n++)d.Qe(l[n],0);d.Qe(l,0)}};d.PB=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.FU=function(l){var n=4;const p=l.length;n<p?d.Qe(l,n):n>p&&d.PB(l,n,"0")};d.Cc=function(l,n){d.C(l);d.ln(l,n)};d.ln=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.$ba=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.Qe(l,p)}};d.kk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.sla=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.Zba=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}d.Qe(l,q);return p};d.dg=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}d.Qe(l,q);return p-q};d.Oca=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Coa=function(l,n){if(!d.Oca(l,n))throw new RangeError("array index out of bounds");};d.pJ=function(l){return l.slice()};d.oca=function(l,n){let p=[];for(let q of l)if(d.gM(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.Pn(q)?p.push(d.oca(q,n)):p.push(q);return p};d.Dla=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.ina=function(l,n){return new Set([...l,...n])};d.jna=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.uma=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.y1=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let f=[];d.cea=function(l){f.push(l)};d.sfa=function(){let l=0;for(let n of f){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};d.VD=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};d.XV=function(l){g.delete(l)};d.t1=d.VD;d.X3=function(){return new Promise(l=>d.t1(l))};const h=new Set;d.aia=function(l){const n=self.requestAnimationFrame(async p=>{await d.X3();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};d.vea=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.B;d.tD=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.HD=function(a){return!d.tD(a)};d.F3=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.jx=function(a){return fetch(a,void 0).then(b=>{d.F3(b);return b})};d.vs=function(a){return d.jx(a).then(b=>b.text())};d.WK=function(a){return d.jx(a).then(b=>b.json())};d.tk=function(a){return d.jx(a).then(b=>b.blob())};d.us=function(a){return d.jx(a).then(b=>
b.arrayBuffer())};d.$X=function(a){return new Promise((b,f)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>f(g);c.src=a})};d.MV=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(a)})};d.nK=function(a){return"function"===typeof a.text?a.text():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsText(a)})};d.rea=function(a){return d.nK(a).then(b=>
JSON.parse(b))};d.NV=async function(a){a=URL.createObjectURL(a);try{const b=await d.$X(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.Xg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=b;return f}return new OffscreenCanvas(a,b)};d.Ow=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,f)):a.convertToBlob?a.convertToBlob({type:b,quality:f}):d.pk(()=>d.uK(a,b,f))};d.uK=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return d.AW(a.toDataURL(b,f))};d.AW=function(a){a=d.k1(a);return d.LV(a.data,a.ada)};d.k1=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var f=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];f="base64"===b[1]||"base64"===c?atob(f):decodeURIComponent(f);return{ada:a,data:f}};d.LV=function(a,b){var f=a.length;let c=f>>2,g=new Uint8Array(f),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(f&=3;f--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};d.PK=function(a,b,f){const c=d.Xg(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return d.Ow(c,b,f)};d.Cfa=function(a,
b,f){const c=d.Xg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.uK(c,b,f)};d.Bfa=function(a,b,f){if(d.Xb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>d.PK(c,b,f));if(d.Xb.ImageBitmap)return createImageBitmap(a).then(c=>d.PK(c,b,f));{const c=d.Xg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.Ow(c,b,f)}};d.pW=function(a,b){a.clear();for(const f of b)a.add(f)};d.Iga=function(a){const b=Object.create(null);for(const [f,c]of a.entries())b[f]=
c;return b};d.$ga=function(a,b){b.clear();for(const [f,c]of Object.entries(a))b.set(f,c)};d.DE=function f(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>f(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(b))c[g]=f(m);return c}}return b};d.KC=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(g=>c(g)));if("map"===
f._c3type_)return new Map(f.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(f))g[m]=c(h);return g}}return f};d.RV=function(f){let c="",g=!1;for(const m of f)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};d.fm=function(f){return"object"===typeof f&&"function"===typeof f.next};d.y0=function(f){const c=[];for(let g=0;g<f;++g)c.push(0);return c}}
{"use strict";const d=self.B;d.Ya=class{constructor(a,b,f,c){this.Sa=this.Ta=this.Ua=this.Qa=0;a instanceof d.Ya?this.set(a):this.tn(a||0,b||0,f||0,c||0)}hs(a,b,f){this.Qa=+a;this.Ua=+b;this.Ta=+f;this.fa()}tn(a,b,f,c){this.Qa=+a;this.Ua=+b;this.Ta=+f;this.Sa=+c;this.fa()}set(a){this.Qa=a.Qa;this.Ua=a.Ua;this.Ta=a.Ta;this.Sa=a.Sa;return this}pa(a){return this.set(a)}add(a){this.Qa+=a.Qa;this.Ua+=a.Ua;this.Ta+=a.Ta;this.Sa+=a.Sa;this.fa()}NT(a,b,f){this.Qa+=+a;this.Ua+=+b;this.Ta+=+f;this.Sa+=0;this.fa()}Yi(a){this.Qa=
a.Qa;this.Ua=a.Ua;this.Ta=a.Ta}KU(a){this.Qa=d.fa(+a,0,1)}Ada(a){this.Ua=d.fa(+a,0,1)}xda(a){this.Ta=d.fa(+a,0,1)}es(a){this.Sa=d.fa(+a,0,1)}clone(){return d.m(d.Ya,this.Qa,this.Ua,this.Ta,this.Sa)}toArray(){return[this.Qa,this.Ua,this.Ta,this.Sa]}Ug(a,b){a[b++]=this.Qa;a[b++]=this.Ua;a[b++]=this.Ta;a[b]=this.Sa}ed(a){return this.Qa===a.Qa&&this.Ua===a.Ua&&this.Ta===a.Ta&&this.Sa===a.Sa}Kl(a){return this.Qa===a.Qa&&this.Ua===a.Ua&&this.Ta===a.Ta}OB(a,b,f,c){return this.Qa===a&&this.Ua===b&&this.Ta===
f&&this.Sa===c}multiply(a){this.Qa*=a.Qa;this.Ua*=a.Ua;this.Ta*=a.Ta;this.Sa*=a.Sa}TJ(){this.Qa*=this.Sa;this.Ua*=this.Sa;this.Ta*=this.Sa}fa(){this.Qa=d.fa(this.Qa,0,1);this.Ua=d.fa(this.Ua,0,1);this.Ta=d.fa(this.Ta,0,1);this.Sa=d.fa(this.Sa,0,1);return this}gs(a){this.Qa=d.dD(a);this.Ua=d.XC(a);this.Ta=d.NC(a);this.Sa=d.hY(a)}Cca(){return`rgb(${100*(d.cm(void 0)?NaN:this.Qa)}%, ${100*(d.cm(void 0)?NaN:this.Ua)}%, ${100*(d.cm(void 0)?NaN:this.Ta)}%)`}xU(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var f=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.KU(a);isFinite(f)&&this.Ada(f);isFinite(b)&&this.xda(b);this.es(1)}}}toJSON(){return[this.Qa,this.Ua,this.Ta,this.Sa]}Ol(a){!Array.isArray(a)||3>a.length||(this.Qa=a[0],this.Ua=a[1],this.Ta=a[2],this.Sa=4<=a.length?a[3]:1)}set r(a){this.KU(a)}get r(){return this.Qa}set xp(a){this.es(a)}get xp(){return this.Sa}static EC(a,b){return d.fa(Math.max(a,
b)-Math.min(a,b),0,1)}};d.Ya.ela=Object.freeze(d.m(d.Ya,1,1,1,1));d.Ya.qea=Object.freeze(d.m(d.Ya,0,0,0,1));d.Ya.Kka=Object.freeze(d.m(d.Ya,0,0,0,0))}
{"use strict";const d=self.B;d.Ht=class{constructor(a,b){this.T=this.ba=0;a instanceof d.Ht?this.pa(a):this.set(a||0,b||0)}set(a,b){this.ba=+a;this.T=+b}pa(a){this.ba=a.ba;this.T=a.T}ed(a){return this.ba===a.ba&&this.T===a.T}toArray(){return[this.ba,this.T]}Ug(a,b){a[b++]=this.ba;a[b]=this.T}offset(a,b){this.ba+=+a;this.T+=+b}scale(a,b){this.ba*=a;this.T*=b}Jl(a,b){this.ba/=a;this.T/=b}round(){this.ba=Math.round(this.ba);this.T=Math.round(this.T)}floor(){this.ba=Math.floor(this.ba);this.T=Math.floor(this.T)}ceil(){this.ba=
Math.ceil(this.ba);this.T=Math.ceil(this.T)}angle(){return d.GB(0,0,this.ba,this.T)}Wca(){return this.ba*this.ba+this.T*this.T}length(){return Math.sqrt(this.Wca())}uda(a,b){const f=this.ba*b-this.T*a;this.T=this.T*b+this.ba*a;this.ba=f}rotate(a){0!==a&&this.uda(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.ba+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ba/=a,this.T/=a)}fa(a,b){this.ba=d.fa(this.ba,a,b);this.T=d.fa(this.T,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,f,c){this.Z=this.ea=this.M=this.S=0;a instanceof d.Rect?this.pa(a):this.set(a||0,b||0,f||0,c||0)}set(a,b,f,c){this.S=+a;this.M=+b;this.ea=+f;this.Z=+c}Vh(a,b,f,c){a=+a;b=+b;this.S=a;this.M=b;this.ea=a+ +f;this.Z=b+ +c}pa(a){this.S=+a.S;this.M=+a.M;this.ea=+a.ea;this.Z=+a.Z}clone(){return new d.Rect(this.S,this.M,this.ea,this.Z)}ed(a){return this.S===a.S&&this.M===a.M&&this.ea===a.ea&&this.Z===a.Z}toArray(){return[this.S,this.M,this.ea,this.Z]}Kda(){new DOMRect(this.S,
this.M,this.width(),this.height())}Ug(a,b){a[b++]=this.S;a[b++]=this.M;a[b++]=this.ea;a[b]=this.Z}Vda(a,b){a[b++]=this.S;a[b++]=this.M;a[b++]=this.ea;a[b++]=this.M;a[b++]=this.ea;a[b++]=this.Z;a[b++]=this.S;a[b]=this.Z}width(){return this.ea-this.S}height(){return this.Z-this.M}cs(){return(this.S+this.ea)/2}ds(){return(this.M+this.Z)/2}offset(a,b){a=+a;b=+b;this.S+=a;this.M+=b;this.ea+=a;this.Z+=b}offsetLeft(a){this.S+=+a}offsetTop(a){this.M+=+a}ida(a){this.ea+=+a}hda(a){this.Z+=+a}AJ(a,b){a=+a;b=
+b;this.S-=a;this.M-=b;this.ea+=a;this.Z+=b}multiply(a,b){this.S*=a;this.M*=b;this.ea*=a;this.Z*=b}Jl(a,b){this.S/=a;this.M/=b;this.ea/=a;this.Z/=b}qn(){this.M=1-this.M;this.Z=1-this.Z}Hda(){const a=this.S;this.S=this.ea;this.ea=a}Ida(){const a=this.M;this.M=this.Z;this.Z=a}round(){this.S=Math.round(this.S);this.M=Math.round(this.M);this.ea=Math.round(this.ea);this.Z=Math.round(this.Z)}floor(){this.S=Math.floor(this.S);this.M=Math.floor(this.M);this.ea=Math.floor(this.ea);this.Z=Math.floor(this.Z)}ceil(){this.S=
Math.ceil(this.S);this.M=Math.ceil(this.M);this.ea=Math.ceil(this.ea);this.Z=Math.ceil(this.Z)}fa(a,b,f,c){this.S<a&&(this.S=+a);this.M<b&&(this.M=+b);this.ea>f&&(this.ea=+f);this.Z>c&&(this.Z=+c)}normalize(){this.S>this.ea&&this.Hda();this.M>this.Z&&this.Ida()}UB(a){return!(a.ea<this.S||a.Z<this.M||a.S>this.ea||a.M>this.Z)}Nca(a,b,f){return!(a.ea+b<this.S||a.Z+f<this.M||a.S+b>this.ea||a.M+f>this.Z)}tf(a,b){return a>=this.S&&a<=this.ea&&b>=this.M&&b<=this.Z}}}
{"use strict";const d=self.B;d.rd=class{constructor(a,b,f,c,g,m,h,l){this.$b=this.Zb=this.cc=this.ac=this.jc=this.ic=this.xb=this.wb=0;a instanceof d.rd?this.pa(a):this.set(a||0,b||0,f||0,c||0,g||0,m||0,h||0,l||0)}set(a,b,f,c,g,m,h,l){this.wb=+a;this.xb=+b;this.ic=+f;this.jc=+c;this.ac=+g;this.cc=+m;this.Zb=+h;this.$b=+l}LU(a,b,f,c){this.set(a,b,f,b,f,c,a,c)}pa(a){this.wb=a.wb;this.xb=a.xb;this.ic=a.ic;this.jc=a.jc;this.ac=a.ac;this.cc=a.cc;this.Zb=a.Zb;this.$b=a.$b}ed(a){return this.wb===a.wb&&this.xb===
a.xb&&this.ic===a.ic&&this.jc===a.jc&&this.ac===a.ac&&this.cc===a.cc&&this.Zb===a.Zb&&this.$b===a.$b}toArray(){return[this.wb,this.xb,this.ic,this.jc,this.ac,this.cc,this.Zb,this.$b]}Ug(a,b){a[b++]=this.wb;a[b++]=this.xb;a[b++]=this.ic;a[b++]=this.jc;a[b++]=this.ac;a[b++]=this.cc;a[b++]=this.Zb;a[b]=this.$b}Wda(a,b,f){a[b++]=this.wb;a[b++]=this.xb;a[b++]=f;a[b++]=this.ic;a[b++]=this.jc;a[b++]=f;a[b++]=this.ac;a[b++]=this.cc;a[b++]=f;a[b++]=this.Zb;a[b++]=this.$b;a[b]=f}offset(a,b){a=+a;b=+b;this.wb+=
a;this.xb+=b;this.ic+=a;this.jc+=b;this.ac+=a;this.cc+=b;this.Zb+=a;this.$b+=b}round(){this.wb=Math.round(this.wb);this.xb=Math.round(this.xb);this.ic=Math.round(this.ic);this.jc=Math.round(this.jc);this.ac=Math.round(this.ac);this.cc=Math.round(this.cc);this.Zb=Math.round(this.Zb);this.$b=Math.round(this.$b)}floor(){this.wb=Math.floor(this.wb);this.xb=Math.floor(this.xb);this.ic=Math.floor(this.ic);this.jc=Math.floor(this.jc);this.ac=Math.floor(this.ac);this.cc=Math.floor(this.cc);this.Zb=Math.floor(this.Zb);
this.$b=Math.floor(this.$b)}ceil(){this.wb=Math.ceil(this.wb);this.xb=Math.ceil(this.xb);this.ic=Math.ceil(this.ic);this.jc=Math.ceil(this.jc);this.ac=Math.ceil(this.ac);this.cc=Math.ceil(this.cc);this.Zb=Math.ceil(this.Zb);this.$b=Math.ceil(this.$b)}cj(a){this.wb=a.S;this.xb=a.M;this.ic=a.ea;this.jc=a.M;this.ac=a.ea;this.cc=a.Z;this.Zb=a.S;this.$b=a.Z}zda(a,b){0===b?this.cj(a):this.JU(a,Math.sin(b),Math.cos(b))}JU(a,b,f){const c=a.S*b,g=a.M*b,m=a.ea*b;b*=a.Z;const h=a.S*f,l=a.M*f,n=a.ea*f;a=a.Z*
f;this.wb=h-g;this.xb=l+c;this.ic=n-g;this.jc=l+m;this.ac=n-b;this.cc=a+m;this.Zb=h-b;this.$b=a+c}yJ(a){a.set(Math.min(this.wb,this.ic,this.ac,this.Zb),Math.min(this.xb,this.jc,this.cc,this.$b),Math.max(this.wb,this.ic,this.ac,this.Zb),Math.max(this.xb,this.jc,this.cc,this.$b))}tf(a,b){var f=this.ic-this.wb,c=this.jc-this.xb;const g=this.ac-this.wb,m=this.cc-this.xb;a-=this.wb;b-=this.xb;var h=f*f+c*c;let l=f*g+c*m;c=f*a+c*b;const n=g*g+m*m,p=g*a+m*b;let q=1/(h*n-l*l);f=(n*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=f&&0<h&&1>f+h)return!0;f=this.Zb-this.wb;c=this.$b-this.xb;h=f*f+c*c;l=f*g+c*m;c=f*a+c*b;q=1/(h*n-l*l);f=(n*c-l*p)*q;h=(h*p-l*c)*q;return 0<=f&&0<h&&1>f+h}cs(){return(this.wb+this.ic+this.ac+this.Zb)/4}ds(){return(this.xb+this.jc+this.cc+this.$b)/4}CJ(a){var b=a.cs(),f=a.ds();if(this.tf(b,f))return!0;b=this.cs();f=this.ds();if(a.tf(b,f))return!0;b=this.wb;f=this.xb;const c=this.ic,g=this.jc,m=this.ac,h=this.cc,l=this.Zb,n=this.$b;return d.$B(b,f,c,g,a)||d.$B(c,g,m,h,a)||d.$B(m,h,l,n,a)||d.$B(l,
n,b,f,a)}tda(){const a=this.wb,b=this.xb;this.wb=this.ic;this.xb=this.jc;this.ic=this.ac;this.jc=this.cc;this.ac=this.Zb;this.cc=this.$b;this.Zb=a;this.$b=b}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.m(d.rd);d.zn=class extends d.ca{constructor(f,c=!0){super();f||(f=a);this.Cd=Float64Array.from(f);this.pz=new d.Rect;this.Ro=!0;this.Bg=c}A(){}yU(){return this.Cd.length/2}aC(f){this.Cd.length===f.length?this.Cd.set(f):this.Cd=Float64Array.from(f);this.Ro=!0}yda(){this.aC(a)}pa(f){this.aC(f.Cd)}ZJ(){this.Ro=!0}Mba(){if(this.Ro){var f=this.Cd,c=f[0],g=f[1],m=c,h=g;for(let l=0,n=f.length;l<n;l+=2){const p=f[l],q=f[l+1];p<c&&(c=p);p>m&&(m=p);q<g&&
(g=q);q>h&&(h=q)}this.pz.set(c,g,m,h);this.Ro=!1}}cj(f){let c=this.Cd;8!==c.length&&(this.Cd=c=new Float64Array(8));c[0]=f.S-NaN;c[1]=f.M-NaN;c[2]=f.ea-NaN;c[3]=f.M-NaN;c[4]=f.ea-NaN;c[5]=f.Z-NaN;c[6]=f.S-NaN;c[7]=f.Z-NaN;this.pz.pa(f);this.pz.offset(NaN,NaN);this.Ro=!1}$J(f,c,g){b.pa(f);b.offset(c,g);this.aC(b.toArray());this.Ro=!0}transform(f,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.fK(f,c,m,h)}fK(f,c,g,m){const h=this.Cd;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,q=h[l]*f,u=
h[p]*c;h[l]=q*m-u*g;h[p]=u*m+q*g}this.Ro=!0}offset(f,c){const g=this.Cd;for(let m=0,h=g.length;m<h;m+=2)g[m]+=f,g[m+1]+=c}tf(f,c){const g=this.Cd;if(f===g[0]&&c===g[1])return!0;this.Mba();var m=this.pz;const h=m.S-110,l=m.M-101,n=m.ea+131;m=m.Z+120;let p,q,u,w,r,v,y,A;h<f?(p=h,u=f):(p=f,u=h);l<c?(q=l,w=c):(q=c,w=l);n<f?(r=n,y=f):(r=f,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const M=g[H],P=g[H+1],R=g[F];F=g[F+1];d.Nl(h,l,f,c,p,u,q,w,M,P,R,F)&&++G;d.Nl(n,
m,f,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}mw(f,c,g){const m=f.Cd,h=this.Cd;if(this.tf(m[0]+c,m[1]+g)||f.tf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;f=h[n];const q=h[n+1],u=h[l];l=h[l+1];let w,r,v,y;f<u?(w=f,v=u):(w=u,v=f);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.Nl(f,q,u,l,w,v,r,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}hh(){return this.Bg}}}
{"use strict";const d=self.B;d.ht=class extends d.ca{constructor(a){super();this.Rj=new Map;if(a)for(const [b,f,c]of a)this.Set(b,f,c)}A(){this.nd();this.Rj=null}nd(){const a=this.Rj;for(const b of a.values())b.clear();a.clear()}Set(a,b,f){const c=this.Rj;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,f)}U(a,b){return(a=this.Rj.get(a))?a.get(b):a}Ox(a){return(a=this.Rj.get(a))?a.has(void 0):!1}An(a,b){const f=this.Rj,c=f.get(a);c&&c.delete(b)&&0===c.size&&f.delete(a)}NK(a){const b=this.Rj,f=b.get(a);
f&&(f.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}am(){let a=0;for(const b of this.Rj.values())a+=b.size;return a}*values(){for(const a of this.Rj.values())yield*a.values()}*entries(){for(const [a,b]of this.Rj.entries())for(const [f,c]of b.entries())yield[a,f,c]}}}
{"use strict";const d=self.B;d.pC=class extends d.ca{constructor(){super();this.Rm=new Set;this.nz=[];this.wv=!1}A(){this.nd()}nd(){this.Rm.clear();d.C(this.nz);this.wv=!1}Dc(a){this.Rm.has(a)||(this.Rm.add(a),this.wv||this.nz.push(a))}Ox(a){return this.Rm.has(a)}An(a){this.Rm.delete(a)&&(this.wv=!0)}am(){return this.Rm.size}Sn(){return 0===this.Rm.size}MC(){this.wv&&(this.N8(),this.wv=!1);return this.nz}N8(){const a=this.nz;d.C(a);for(const b of this.Rm)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,f=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.ss=class m{constructor(){}static W_(h){this.NE();return[...a.keys()].includes(h)}static w6(h){const l=g.get(h);if(l)return d.get(l);if(m.W_(h))return d.get(h);if(c.has(h))return c.get(h)}static In(h){this.NE();const l=m.w6(h);return l?l:f.get(h)}static NE(){0===d.size&&(this.yb("default",()=>{}),this.yb("noease",this.J0),this.yb("easeinsine",this.FX),this.yb("easeoutsine",
this.OX),this.yb("easeinoutsine",this.BX),this.yb("easeinelastic",this.qX),this.yb("easeoutelastic",this.JX),this.yb("easeinoutelastic",this.wX),this.yb("easeinback",this.mX),this.yb("easeoutback",this.GX),this.yb("easeinoutback",this.sX),this.yb("easeinbounce",this.QK),this.yb("easeoutbounce",this.GC),this.yb("easeinoutbounce",this.tX),this.yb("easeincubic",this.pX),this.yb("easeoutcubic",this.IX),this.yb("easeinoutcubic",this.vX),this.yb("easeinquad",this.CX),this.yb("easeoutquad",this.LX),this.yb("easeinoutquad",
this.yX),this.yb("easeinquart",this.DX),this.yb("easeoutquart",this.MX),this.yb("easeinoutquart",this.zX),this.yb("easeinquint",this.EX),this.yb("easeoutquint",this.NX),this.yb("easeinoutquint",this.AX),this.yb("easeincirc",this.nX),this.yb("easeoutcirc",this.HX),this.yb("easeinoutcirc",this.uX),this.yb("easeinexpo",this.rX),this.yb("easeoutexpo",this.KX),this.yb("easeinoutexpo",this.xX),this.uO("cubicbezier",this.lX),this.uO("spline",this.PX))}static yb(h,l){m.IE(h,l,"predefined")}static uO(h,l){m.IE(h,
l,"private")}static kV(h,l){this.NE();m.IE(h,l,"custom",void 0)}static IE(h,l,n,p){switch(n){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):f.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static J0(h,l,n,p){return n*h/p+l}static CX(h,l,n,p){return n*(h/=p)*h+l}static LX(h,l,n,p){return-n*(h/=p)*(h-2)+l}static yX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static pX(h,
l,n,p){return n*(h/=p)*h*h+l}static IX(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static vX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static DX(h,l,n,p){return n*(h/=p)*h*h*h+l}static MX(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static zX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static EX(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static NX(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static AX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static FX(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static OX(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static BX(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static rX(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static KX(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static xX(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static nX(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static HX(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static uX(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static qX(h,l,n,p){let q=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+l}static JX(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+l}static wX(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+l}static mX(h,l,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+l}static GX(h,l,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static sX(h,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+l:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static QK(h,l,n,p){return n-m.GC(p-h,0,n,p)+l}static GC(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static tX(h,l,n,p){return h<p/2?.5*m.QK(2*h,0,n,p)+l:.5*m.GC(2*h-p,0,n,p)+.5*n+l}static lX(h,l,n,p,q){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(q-l+3*n-3*p)}static PX(h,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-h)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static pY(h,l,n,p){const q=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+h)*l);return q}}}{"use strict";const d=self.B;d.Pha=class{constructor(){this.uS=[]}A(){this.nd();this.uS=null}nd(){d.ica(this.uS)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Pca=this.UJ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Pca)throw Error(`cannot stop async event '${this.type}' propagation`);this.UJ=!0}};
{"use strict";const d=self.B;d.Event.CZ=class extends d.ca{constructor(a){super();this.xa=a;this.$e=[];this.Lq=new Set;this.hf=[];this.mr=new Set;this.Ku=0;this.Ar=[]}A(){0<this.Ku||(d.C(this.$e),this.Lq.clear(),d.C(this.hf),this.mr.clear(),d.C(this.Ar),d.A(this))}sO(a,b){this.KP()?this.Ar.push({PJ:"add",Th:a,capture:b}):b?this.Lq.has(a)||(this.$e.push(a),this.Lq.add(a)):this.mr.has(a)||(this.hf.push(a),this.mr.add(a))}d9(a,b){this.KP()?this.Ar.push({PJ:"remove",Th:a,capture:b}):b?this.Lq.has(a)&&
(this.Lq.delete(a),d.kk(this.$e,a)):this.mr.has(a)&&(this.mr.delete(a),d.kk(this.hf,a))}m7(){return!this.$e.length&&!this.hf.length}KP(){return 0<this.Ku}K8(){const a=new Set,b=new Set;for(const f of this.Ar)if("add"===f.PJ)this.sO(f.Th,f.capture),f.capture?b.delete(f.Th):a.delete(f.Th);else if("remove"===f.PJ)f.capture?(this.Lq.delete(f.Th),b.add(f.Th)):(this.mr.delete(f.Th),a.add(f.Th));else throw Error("invalid op");d.dg(this.hf,a);d.dg(this.$e,b);d.C(this.Ar)}h6(a){this.Dq();let b=!1;for(let f=
0,c=this.$e.length;f<c;++f)if(this.$e[f](a),a.UJ){b=!0;break}if(!b)for(let f=0,c=this.hf.length;f<c&&(this.hf[f](a),!a.UJ);++f);this.zq();return!a.defaultPrevented}j6(a){this.Dq();for(let b=0,f=this.$e.length;b<f;++b)this.$e[b](a);for(let b=0,f=this.hf.length;b<f;++b)this.hf[b](a);this.zq();return!0}Dq(){this.Ku++}zq(){this.Ku--;0===this.Ku&&0<this.Ar.length&&this.K8()}lq(a){a?this.Dq():this.zq()}aP(a){const b=[];this.Dq();for(let c=0,g=this.$e.length;c<g;++c){var f=this.$e[c](a);f instanceof Promise&&
b.push(f)}for(let c=0,g=this.hf.length;c<g;++c)f=this.hf[c](a),f instanceof Promise&&b.push(f);this.zq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async e6(a){return await this.aP(a)}async f6(a){this.Dq();for(let f=0,c=this.$e.length;f<c;++f){var b=this.$e[f](a);b instanceof Promise&&await b}for(let f=0,c=this.hf.length;f<c;++f)b=this.hf[f](a),b instanceof Promise&&await b;this.zq();return!a.defaultPrevented}*g6(a){this.Dq();for(let f=0,c=this.$e.length;f<c;++f){var b=
this.$e[f](a);d.fm(b)&&(yield*b)}for(let f=0,c=this.hf.length;f<c;++f)b=this.hf[f](a),d.fm(b)&&(yield*b);this.zq()}}}
{"use strict";const d=self.B;d.Event.Ub=class extends d.ca{constructor(){super();this.Go=new Map;this.CG=!1}A(){if(this.CG)throw Error("already released");this.bW();this.CG=!0;d.A(this)}Dy(){return this.CG}bW(){for(let a of this.Go.values())a.A();this.Go.clear()}po(a,b){let f=this.Go.get(a);return f?f:b?(f=d.m(d.Event.CZ,a),this.Go.set(a,f),f):null}kD(a){return this.Go.has(a)}addEventListener(a,b,f){this.po(a,!0).sO(b,!!f)}removeEventListener(a,b,f){let c=this.po(a,!1);c&&(c.d9(b,!!f),c.m7()&&this.Go.delete(a))}dispatchEvent(a){const b=
this.po(a.type,!1);return b?a.cancelable?b.h6(a):b.j6(a):!0}async tJ(a){const b=this.po(a.type,!1);return b?await b.e6(a):!0}tca(a){const b=this.po(a.type,!1);return b?b.aP(a):!0}async sca(a){const b=this.po(a.type,!1);b&&await b.f6(a)}uca(a){const b=this.po(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.g6(a)}lq(a){for(const b of this.Go.values())b.lq(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],f=-1,c=0;function g(n){f=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){f=-1;if(b.length){var p=performance.now(),q=0;do{h(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===f&&b.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.Th()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.QM.Ox("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.pk=function(n){let p=null;d.ow&&(p=d.nx());return new Promise((q,u)=>{b.push({Th:n,resolve:q,reject:u,stack:p});l?h(b.pop()):-1===f&&g(16)})};d.pk.zN=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.ix=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let f=-1,c=-1,g=new Set;function m(){c=f=-1;let h=Date.now();for(let l of g)if(l.K4(h)){let n=l.Co;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(f=self.setTimeout(m,Math.max(c-h+100,1E3)))}d.b_=class{constructor(h,l){this.Kq=h;this.rB=1E3*l;this.Co=0;this.Cb=!1}Xc(){let h=d.ix();this.Co=h+this.rB;this.Cb||(g.add(this),this.Cb=!0);-1===f?(c=this.Co,f=self.setTimeout(m,this.rB+
100)):this.Co<c&&c>h+1E3&&(self.clearTimeout(f),c=this.Co,f=self.setTimeout(m,this.rB+100))}K4(h){return h>=this.Co?this.Kq()?(this.Co=h+this.rB,!0):this.Cb=!1:!0}WV(){this.Cb&&(g.delete(this),this.Cb=!1,0===g.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}A(){this.WV();this.Kq=null}}}
{"use strict";const d=self.B;d.Tl=class a{constructor(b){this.Xq=!1;this.DG=b}bx(){this.Xq||(this.Xq=!0,this.DG&&(this.DG(),this.DG=null))}A(){this.bx()}static A(b){return new a(()=>b.A())}static kx(b,f,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const m=new d.zK;for(let h of f)b.addEventListener(h,c,g),m.Dc(d.m(d.Tl,()=>b.removeEventListener(h,c,g)));return m}b.addEventListener(f,
c,g);return d.m(d.Tl,()=>b.removeEventListener(f,c,g))}};d.Bka=class extends d.Tl{};d.zK=class extends d.Tl{constructor(...a){super();this.Ge=new Set;for(let b of a)this.Dc(b)}Dc(...a){if(this.Xq)throw Error("already disposed");for(let b of a)this.Ge.add(b)}jh(a){if(this.Xq)throw Error("already disposed");this.Ge.delete(a)}bx(){if(this.Xq)throw Error("already disposed");this.Xq=!0;for(let a of this.Ge)a.bx();this.Ge.clear();this.Ge=null}A(){this.bx()}}}
{"use strict";const d=self.B;d.$x=class extends d.ca{constructor(){super();this.Ir=this.Qv=this.T=this.sz=0}Dc(a){this.T=+a-this.sz;this.Qv=this.Ir+this.T;this.sz=this.Qv-this.Ir-this.T;this.Ir=this.Qv}U(){return this.Ir}Xc(){this.Ir=this.Qv=this.T=this.sz=0}Set(a){this.Qv=this.T=this.sz=0;this.Ir=+a}A(){}}}
{"use strict";const d=self.B,a={SD:function(b){this.WU=b;this.left=this.right=this.WU.jb;this.parent=null;this.color=!1;this.key=null},Yn:function(b){this.size=0;this.jb=new a.SD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=this.jb;this.compare=b||this.pca}};xa=a.Yn.prototype;xa.pca=function(b,f){return b<f?-1:f<b?1:0};xa.clone=function(){var b=new a.Yn(this.compare);b.Kca(this);return b};xa.clear=function(){this.size=0;this.jb=new a.SD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=
this.jb};xa.qw=function(b){var f=b.right;b.right=f.left;f.left!=this.jb&&(f.left.parent=b);f.parent=b.parent;b.parent==this.jb?this.root=f:b==b.parent.left?b.parent.left=f:b.parent.right=f;f.left=b;b.parent=f};xa.Aw=function(b){var f=b.left;b.left=f.right;f.right!=this.jb&&(f.right.parent=b);f.parent=b.parent;b.parent==this.jb?this.root=f:b==b.parent.right?b.parent.right=f:b.parent.left=f;f.right=b;b.parent=f};xa.Xr=function(b){if(this.contains(b))this.kw(b).key=b;else{var f=new a.SD(this);f.key=
b;b=this.jb;for(var c=this.root;c!=this.jb;)b=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=b;b==this.jb?this.root=f:0>this.compare(f.key,b.key)?b.left=f:b.right=f;f.left=this.jb;f.right=this.jb;f.color=!0;this.Lca(f);this.size++}};xa.Lca=function(b){for(;b!=this.jb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var f=b.parent.parent.right;1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.qw(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.jb&&this.Aw(b.parent.parent))}else f=b.parent.parent.left,1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Aw(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.jb&&this.qw(b.parent.parent));this.root.color=!1};xa.rca=function(b){var f=b.left==this.jb||b.right==this.jb?b:this.un(b);var c=f.left!=this.jb?f.left:f.right;c.parent=f.parent;f.parent==
this.jb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=b&&(b.key=f.key);0==f.color&&this.qca(c);this.size--};xa.qca=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var f=b.parent.right;1==f.color&&(f.color=!1,b.parent.color=!0,this.qw(b.parent),f=b.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,b=b.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.Aw(f),f=b.parent.right),f.color=b.parent.color,b.parent.color=!1,f.right.color=!1,this.qw(b.parent),
b=this.root)}else f=b.parent.left,1==f.color&&(f.color=!1,b.parent.color=!0,this.Aw(b.parent),f=b.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,b=b.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.qw(f),f=b.parent.left),f.color=b.parent.color,b.parent.color=!1,f.left.color=!1,this.Aw(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.kw(b);if(b!=this.jb){var f=b.key;this.rca(b);return f}return null};xa.min=function(b){for(;b.left!=this.jb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.jb;)b=b.right;return b};xa.un=function(b){if(b.right!=this.jb)return this.min(b.right);for(var f=b.parent;f!=this.jb&&b==f.right;)b=f,f=f.parent;return f};xa.kw=function(b){for(var f=this.root;f!=this.jb&&0!=this.compare(f.key,b);)f=0>this.compare(b,f.key)?f.left:f.right;return f};xa.contains=function(b){return null!=this.kw(b).key};xa.zJ=function(){var b=[];this.forEach(function(f){b.push(f)});return b};xa.Kca=function(b){if("array"==a.gK(b))for(var f=0;f<b.length;f++)this.Xr(b[f]);
else if("function"==a.gK(b.forEach))b.forEach(this.Xr,this);else if("function"==a.gK(b.zJ))for(b=b.zJ(),f=0;f<b.length;f++)this.Xr(b[f]);else if("object"==a.gK(b))for(f in b)this.Xr(b[f])};xa.range=function(b,f){var c=[];this.Oda(function(g){c.push(g)},b,f);return c};xa.Oda=function(b,f,c){if(!this.$r())for(f=this.kw(f),c=this.kw(c);f!=c&&!b.call(void 0,f.key,this);)f=this.un(f)};xa.forEach=function(b,f){if(!this.$r())for(var c=this.min(this.root);c!=this.jb;c=this.un(c))b.call(f,c.key,c.key,this)};
xa.some=function(b,f){if(this.$r())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.un(c))if(b.call(f,c.key,c.key,this))return!0;return!1};xa.every=function(b,f){if(this.$r())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.un(c))if(!b.call(f,c.key,c.key,this))return!1;return!0};xa.map=function(b,f){var c=[];if(this.$r())return c;for(var g=this.min(this.root);g!=this.jb;g=this.un(g))c.push(b.call(f,g.key,g.key,this));return c};xa.filter=function(b,f){var c=[];if(this.$r())return c;
for(var g=this.min(this.root);g!=this.jb;g=this.un(g))b.call(f,g.key,g.key,this)&&c.push(g.key);return c};xa.$r=function(){return 0==this.size};d.Yn=class extends d.ca{constructor(b){super();this.Jg=new a.Yn(b);this.br=!1;this.ip=new Set;this.jp=new Set}Dc(b){this.br?this.Jg.contains(b)?this.jp.delete(b):this.ip.add(b):this.Jg.Xr(b)}jh(b){this.br?this.Jg.contains(b)?this.jp.add(b):this.ip.delete(b):this.Jg.remove(b)}Ox(b){return this.br?this.ip.has(b)?!0:!this.jp.has(b)&&this.Jg.contains(b):this.Jg.contains(b)}nd(){this.Jg.clear();
this.ip.clear();this.jp.clear()}toArray(){if(this.br)throw Error("cannot be used in queueing mode");return this.Jg.zJ()}am(){return this.Jg.size+this.ip.size-this.jp.size}Sn(){return 0===this.am()}lh(b){b=!!b;if(this.br!==b&&(this.br=b,!b)){for(const f of this.jp)this.Jg.remove(f);this.jp.clear();for(const f of this.ip)this.Jg.Xr(f);this.ip.clear()}}ZK(b){this.Jg.forEach(b)}*values(){if(!this.Sn()){var b=this.Jg;for(let f=b.min(b.root);f!=b.jb;f=b.un(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.LM=class{constructor(a=d.hardwareConcurrency){this.mba=a;this.pI=[];this.RF=0}Dc(a){return new Promise((b,f)=>{this.pI.push({Th:a,resolve:b,reject:f});this.VP()})}async VP(){if(this.pI.length&&!(this.RF>=this.mba)){this.RF++;var a=this.pI.shift();try{const b=await a.Th();a.resolve(b)}catch(b){a.reject(b)}this.RF--;this.VP()}}}}
{"use strict";const d=self.B;d.I1=class{constructor(a,b,f){this.Kq=a;this.Yaa=b;this.Zaa=f||2*b;this.Nr=-1;this.zA=-Infinity;this.xT=()=>this.y8();this.Daa=this.eH=!1;this.vu=null}B6(){return"undefined"!==typeof d.JV&&d.JV.hga()?this.Zaa:this.Yaa}VV(){var a=[];if(-1===this.Nr){this.vu=a;a=d.ix();var b=a-this.zA,f=this.B6();b>=f&&this.Daa?(this.zA=a,this.vQ()):this.Nr=self.setTimeout(this.xT,Math.max(f-b,4))}}vQ(){this.eH=!0;const a=this.vu;this.vu=null;a?this.Kq(...a):this.Kq();this.eH=!1}Xc(){this.eH||
(this.CO(),this.vu=null,this.zA=d.ix())}y8(){this.Nr=-1;this.zA=d.ix();this.vQ()}CO(){-1!==this.Nr&&(self.clearTimeout(this.Nr),this.Nr=-1)}A(){this.CO();this.xT=this.vu=this.Kq=null}}}"use strict";function hc(d,a){if(!d.PR)throw Error("no get base size callback set");return d.PR(a)}self.B.Yia=class{constructor(){this.Vaa=new Map;this.bT=this.cT=this.PR=null}iy(){if(!this.bT)throw Error("no redraw callback set");this.bT()}};"use strict";
self.B.Xia=class{constructor(d,a){this.Gg=d;this.Kaa=a;this.zc=0;hc(this.Gg,a).then(()=>{this.Gg.iy()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Gg.iy()});this.qI=null}A(){if(0>=this.zc)throw Error("already released");this.zc--;0===this.zc&&this.au()}au(){if(this.qI){var d=this.Gg;if(!d.cT)throw Error("no release result callback set");d.cT(this.qI);this.qI=null}this.Gg.Vaa.delete(this.Kaa);this.Gg=null}};
{"use strict";const d=self.B;d.Oka="\ufeff";const a=new Set([..."0123456789"]);d.X_=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Zx=function(n){return b.has(n)};d.jfa=function(n){return[...n].filter(p=>!d.Zx(p)).join("")};d.JD=function(n){for(const p of n)if(!d.Zx(p))return!1;return!0};d.h0=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.bY=function(n){return[...n].filter(p=>
!d.h0(p)).join("")};const f=new Set([..."0123456789.+-e"]);d.oga=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!f.has(q))return!1;return!0};d.S1=function(n){let p=n.length;for(;0<p&&d.X_(n.charAt(p-1));)--p;return n.substr(0,p)};d.Jfa=function(n){let p=d.S1(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;d.UX=function(n){return n.replace(m,g)};d.afa=function(n){n=d.ji(n,"\\","\\\\");n=d.ji(n,'"','\\"');n=d.ji(n,"\t","\\t");n=d.ji(n,"\r","");return d.ji(n,"\n","\\n")};d.bfa=function(n){n=d.ji(n,"&","&amp;");n=d.ji(n,"<","&lt;");n=d.ji(n,">","&gt;");return d.ji(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.ts=function(n){return n.replace(h,"\\$&")};d.kfa=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.ji=function(n,p,q){return n.replaceAll(p,()=>q)};d.Zha=function(n,p,q){return n.replace(new RegExp(d.ts(p),"gi"),()=>q)};d.sja=function(n,p){"string"===typeof p?n.textContent=p:p.pS?n.textContent=p.toString():(n.innerHTML=p.dK(),p instanceof d.Sl&&p.aca(n))};d.wka=function(n,p){return n instanceof d.oD||n instanceof d.Sl?n.ed(p):p instanceof d.oD||p instanceof d.Sl?p.ed(n):n===p};d.xka=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.yka=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.zka=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.jka=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.nfa=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Hma;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Yba:!1,mca:!0,Jca:!0,bda:!0,HU:!0};d.ofa=function(n,p){p=Object.assign({},
l,p);d.k0.Rha("common.time");const q=[],u=self.lang,w=self.Gma;if(p.mca){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.Jca&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.bda&&(r=Math.floor(n/60),0<r||q.length||!p.HU)&&(n-=60*r,q.push(w(".minutes",null,r)));p.HU&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Yba?u(".approx-prefix"):"")+q.join(u(".separator"));d.k0.Oha();return n};d.kla=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.Aka=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Kea=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.FU(n);d.FU(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.Qea=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.uka=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.vka=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;d.Sl=class{constructor(l,n){this.rh=n&&n.fda?l:d.UX(l);this.dH="";this.sR=!1;this.ov=[];if(n&&(this.sR=!!n.Fla,n.links)){if(9<n.links.length)throw Error("too many links");this.ov=n.links}this.UR=this.rh.includes("[");this.RS=this.sR&&this.rh.includes("\n");this.pS=!this.UR&&!this.RS&&!this.rh.includes("&");this.YR=!1;this.Mu=[]}toString(){return this.rh}valueOf(){return this.rh}dK(){if(this.pS)return this.rh;if(!this.dH&&this.rh){let l=this.rh;
this.UR&&(g=0,c=this.ov,l=l.replace(b,m),c=null);this.RS&&(l=l.replace(h,"<br>"));this.dH=l}return this.dH}aca(l){if(this.ov.length)for(let n=0,p=this.ov.length;n<p;++n){const q=this.ov[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}ed(l){return l instanceof d.oD?this.dK()===l.dK():l instanceof d.Sl?this.rh===l.rh:this.rh===l}Lda(){if(this.YR)return this.Mu;const l=this.rh,n=[];let p=f.lastIndex=0;
for(var q;null!==(q=f.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.Mu.push({text:v,fd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Uh:u})}p<l.length&&this.Mu.push({text:l.substring(p),fd:n.slice(0)});for(const v of this.Mu)v.text=
this.J8(v.text);this.YR=!0;return this.Mu}J8(l){l=d.ji(l,"\\[","[");return d.ji(l,"\\\\","\\")}static YN(l){return l.replace(f,"")}}}
{"use strict";const d=self.B;d.HE=class{constructor(){this.Gm=[]}XP(a,b){let f=0,c=0,g=0,m=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.fd),l.width=a.width,l.height=a.height,l.eg=a.eg||0,l.uf=a.uf||0,l.xf=a.xf||0),f+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.eg),m=Math.max(m,l.uf),h=Math.max(h,l.xf);return{width:f,height:c,eg:g,uf:m,xf:h}}Fy(a,b,f,c,g,m){this.Gm.push({eU:a,width:b,height:f,eg:c,uf:g,xf:m})}HE(a,b,f,c,g){"string"===typeof a&&(a=[{text:a,fd:[]}]);d.C(this.Gm);if(!(!a.length||
1===a.length&&!a[0].text.length||2>f)){if(1===a.length){var m=a[0];const h=m.text;m=m.fd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,eg:p,uf:q,xf:u}=b(h,m);l+=g;p=p||0;q=q||0;u=u||0;if(l<=f){this.Fy([{text:h,fd:m,width:l,height:n,eg:p,uf:q,xf:u}],l,n,p,q,u);return}}}if("word"===c)c=this.P$(a);else{c=[];for(const h of a)d.ln(c,[...h.text].map(l=>[{text:l,fd:h.fd}]))}this.iaa(c,b,f,g)}}P$(a){const b=[];let f=[],c=!1;for(const m of a){var g=m.text;a=m.fd;for(const h of g)"\n"===h?(0<f.length&&
b.push(f),b.push([{text:"\n",fd:a}]),f=[]):0===f.length?(f.push({text:h,fd:a}),c=d.Zx(h)):(g=d.Zx(h),g===c?(g=f.Td(-1),g.fd===a?g.text+=h:f.push({text:h,fd:a})):(b.push(f),f=[],f.push({text:h,fd:a}),c=g))}0<f.length&&b.push(f);return b}N4(a){return a.map(b=>({text:b.text,fd:b.fd,width:b.width,height:b.height,eg:b.eg,uf:b.uf,xf:b.xf}))}xO(a,b){var f=a.length?a.Td(-1):null;let c=0;f&&b[0].fd===f.fd&&(f.text+=b[0].text,f.width=-1,f.height=-1,f.eg=-1,f.uf=-1,f.xf=-1,c=1);for(f=b.length;c<f;++c){const g=
b[c];a.push({text:g.text,fd:g.fd,width:-1,height:-1,eg:-1,uf:-1,xf:-1})}}iaa(a,b,f,c){let g=[],m=0,h=0,l=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===h&&(p=b(" ",q[0].fd),h=p.height,l=p.eg||0,n=p.uf||0,p=p.xf||0);this.Fy(g,m,h,l,n,p);g=[];p=n=l=h=m=0;continue}a=this.N4(g);this.xO(a,q);const u=this.XP(a,b),w=u.width;w>=f?(0<g.length&&this.Fy(g,m,h,l,n,p),g=[],d.JD(q[0].text)?p=n=l=h=m=0:(this.xO(g,q),p=this.XP(g,b),m=p.width,h=p.height,l=p.eg,n=p.uf,p=p.xf)):(g=a,m=w,h=u.height,
l=u.eg,n=u.uf,p=u.xf)}0<g.length&&this.Fy(g,m,h,l,n,p);this.S$(b,c)}S$(a,b){for(const c of this.Gm){const g=c.eU;if(!g.length)continue;let m=g.Td(-1);var f=m.text;const h=f.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<f.length){f=a(h,m.fd).width;const l=m.width-f;m.width=f;m.text=h;c.width-=l}0!==b&&0<g.length&&(m=g.Td(-1),m.width+=b,c.width+=b)}}nd(){d.C(this.Gm)}bZ(){return this.Gm.reduce((a,b)=>Math.max(a,b.width),0)}wZ(){return this.Gm.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.B,a=self.aj,b=a.gC,f=a.Dw,c=a.Ml,g=b.create(),m=b.create(),h=b.create(),l=f.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=f.vf(0,0,1,1);d.I={x1(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},Hj(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Zr(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;f.eK(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},O3(J,M,P,R,T,Z,X){if(!d.I.Hj(J,M,0,R,T,Z,g)||!d.I.Hj(J,M,1,R,T,Z,m))return!1;b.Ql(m,m,g);b.set(h,0,0,1);J=-P;M=b.pn(h,m);P=0;if(0===M){if(0!==
b.pn(h,g)+J)return!1}else if(P=-(b.pn(g,h)+J)/M,0>P)return!1;b.YJ(X,g,m,P);return!0}};function z(J,M,P,R){b.Ql(g,P,M);b.Ql(m,J,M);b.rJ(h,g,m);b.normalize(h,h);R.set(h[0],h[1],h[2],b.pn(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.cV,Na=X.dV;X=X.eV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.eV=this.dV=this.cV=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.cV=0<J?1:0;this.dV=0<M?1:0;this.eV=0<P?1:0}}d.I.W3=class{constructor(){this.GS=new H;this.yT=new H;this.fT=new H;this.lR=new H;this.bI=new H;this.HR=new H}TV(J,M){d.I.Hj(0,1,0,J,M,G,p);d.I.Hj(1,1,0,J,M,G,q);d.I.Hj(0,0,0,J,M,G,u);d.I.Hj(1,0,0,J,M,G,w);d.I.Hj(0,1,1,J,M,G,r);d.I.Hj(1,1,1,J,M,G,v);d.I.Hj(0,0,1,J,M,G,y);d.I.Hj(1,0,1,J,M,G,A);z(u,p,r,this.GS);z(p,q,v,this.yT);z(q,w,A,this.fT);z(w,u,y,this.lR);z(y,r,v,this.HR);z(w,q,p,this.bI)}nW(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.GS)&&F(J,M,P,R,T,Z,this.yT)&&F(J,M,P,R,T,Z,this.fT)&&F(J,M,P,R,T,Z,this.lR)&&F(J,M,P,R,T,Z,this.bI)&&F(J,M,P,R,T,Z,this.HR)}N_(J,M,P){var R=this.bI;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const d=self.B,a=self.aj,b=a.gC,f=a.Dw,c=a.Ml,g=c.create(),m=b.vf(0,0,0),h=b.vf(0,0,0),l=b.vf(0,0,0),n=b.vf(0,1,0);f.vf(0,0,0,0);new d.rd;new d.Rect;const p=new d.rd(0,0,1,0,1,1,0,1);d.I.V1=class{constructor(){this.O=this.R=0;this.KR=d.kb(45);this.MI=Math.tan(this.KR/2);this.KA=c.create();this.VH=c.create();this.vo=[];this.fB=new Map;this.BI=this.jB=this.kB=null;this.Ov=new Map;this.Ei=null;this.jG=[];this.QS=new Map;this.Eu=this.ou=0;this.iba=this.jba=1;this.QH=.5;this.yh=0;this.$q=
!0;this.cH=!1}aY(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}FO(){this.Eu=this.ou=0;this.BI=this.jB=this.kB=null;this.L4()}Tx(){this.FO();this.Ei=null}Z0(){for(const q of this.vo)q.A();this.FO()}aa(){return this.R}$(){return this.O}Ep(q,u,w=.5,r=.5){var v=this.KR;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.MI,u*=v,c.Bca(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}SV(q,u,w){const r=self.devicePixelRatio,v=200*r*this.MI/w;u=u*v/
(2*r);w=w*v/(2*r);c.jda(q,-u,u,-w,w,1,1E4)}qK(q,u,w,r,v=this.$()){v=200*self.devicePixelRatio*this.MI/v;b.set(l,v,-v,1);b.multiply(m,u,l);b.multiply(h,w,l);c.Zca(q,m,h,r||n);c.scale(q,q,l)}os(q,u,w,r,v,y){b.set(m,q,u,w);b.set(h,r,v,0);this.qK(g,m,h,n,y);return g}t4(q){this.vo.push(q);this.fB.set(q.ya(),q)}f9(q){const u=this.vo.indexOf(q);-1!==u&&this.vo.splice(u,1);this.fB.delete(q.ya())}L4(){d.C(this.vo);this.fB.clear()}FL(q){return this.fB.get(q)||null}Fj(){this.sq(this.kB)}qN(){this.sq(this.BI)}a$(q){this.Ei=
q}hV(q,u,w,r){const v=d.I.AE.pM(q,u,w,r);let y=this.Ov.get(v);y||(y=d.m(d.I.AE,this,q,u,w,r),this.Ov.set(v,y));y.tV();return y}SM(q){q.IW();0===q.zc&&(this.Ei===q&&(this.Ei=null),this.Ov.delete(q.VY()),q.A())}X6(q){d.C(this.jG);this.QS.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.jG.push([r,v]);this.QS.set(q,{nna:u,loa:r,Nla:v});u++}}u6(q){return this.jG[q]}kq(q){this.ou=q}qt(q){this.Eu=q;this.Ei=null}cy(q,u,w,r,v,y){var A=this.QH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=
2*v;this.gy(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}by(q,u,w,r,v,y){const A=this.QH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.gy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}ay(q,u,w,r,v,y){const A=this.QH;q+=A;u+=A;w+=A;r+=A;this.gy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}n0(q,u,w,r){const v=.5*this.jba,y=this.iba;2===y?this.t7(q,u,w,r,v):1===y?this.s7(q,u,w,r,v):this.r7(q,u,w,r,v)}t7(q,u,w,r,v){this.cy(q,u,w,u,0,v);this.cy(w,u,w,r,v,0);this.cy(w,r,q,r,0,-v);this.cy(q,r,q,u,-v,0)}s7(q,u,w,
r,v){this.by(q,u,w,u,0,v);this.by(w,u,w,r,v,0);this.by(w,r,q,r,0,-v);this.by(q,r,q,u,-v,0)}r7(q,u,w,r,v){this.ay(q,u,w,u,0,v);this.ay(w,u,w,r,v,0);this.ay(w,r,q,r,0,-v);this.ay(q,r,q,u,-v,0)}kM(q){this.n0(q.S,q.M,q.ea,q.Z)}ws(){this.fj();this.yh++}e_(){this.yh++}kE(q){this.$q=!!q}M2(q){this.cH=!!q}Gk(){return!1}}}"use strict";
self.B.I.u3=class{constructor(d,a,b){this.Fa=a;this.ra=d;this.ER=b.wca||0;this.FR=b.xca||0;this.tR=!!b.kca;this.oba=!!b.dda;this.zr=!!b.lda;this.paa=!!b.Xba;this.kG=!!b.bca;this.wB=!!b.Sda;this.ET=!1}A(){this.ra=null}hb(){return this.ra}ya(){return this.Fa}Yp(){return this.oba}};
{"use strict";const d=self.B;d.I.AE=class{constructor(a,b,f,c,g){this.ra=a;this.zc=0;this.Rc=null;this.Hv="";this.yg=f;this.$a=d.m(d.Ya);this.$a.set(c);this.Tc=g;"string"===typeof b?this.Hv=b:(this.Rc=b,this.Hv=this.Rc.ya())}A(){if(0<this.zc)throw Error("releasing state group still in use");this.Rc=this.ra=null;this.Hv=""}AV(){const a=this.ra;a.sq(this.Rc);a.Jf(this.yg);a.im(this.$a);a.qt(this.Tc);a.a$(this)}VY(){return d.I.AE.pM(this.Hv,this.yg,this.$a,this.Tc)}tV(){++this.zc}IW(){--this.zc}Hk(){this.Rc=
null}OD(a){this.Rc=a.FL(this.Hv);if(!this.Rc)throw Error("failed to restore shader program");}static pM(a,b,f,c){return("string"===typeof a?a:a.ya())+","+b+","+f.Qa+","+f.Ua+","+f.Ta+","+f.Sa+","+c}}}
{"use strict";const d=self.B,a=d.m(d.rd);function b(f,c,g){const m=g.wb,h=g.xb;return[m+(g.ic-m)*f+(g.Zb-m)*c,h+(g.jc-h)*f+(g.$b-h)*c]}d.I.E0=class{constructor(f){this.ZH=f;this.Rg=this.Pg=this.Tc=this.T=this.ba=0}vg(f,c,g,m){this.ba=f;this.T=c;this.Pg=g;this.Rg=m}ja(){return this.ba}rg(f){this.ba!==f&&(this.ba=f,this.ZH.EF())}ka(){return this.T}mh(f){this.T!==f&&(this.T=f,this.ZH.EF())}Za(){return this.Tc}Ze(f){this.Tc!==f&&(this.Tc=Math.max(f,0),this.ZH.EF())}rE(f){this.Pg=f}sE(f){this.Rg=f}k7(f,
c,g){[this.ba,this.T]=b(f.ba,f.T,c);this.Tc=f.Tc;this.Pg=d.Ud(g.S,g.ea,f.Pg);this.Rg=d.Ud(g.M,g.Z,f.Rg)}j7(f,c,g){[this.ba,this.T]=b(f.ba,f.T,c);this.Tc=f.Tc;[this.Pg,this.Rg]=b(f.Pg,f.Rg,g)}sd(){return{x:this.ja(),y:this.ka(),z:this.Za(),u:this.Pg,v:this.Rg}}hd(f){this.rg(f.x);this.mh(f.y);f.hasOwnProperty("z")&&this.Ze(f.z);this.rE(f.u);this.sE(f.v)}};d.I.rM=class{constructor(f,c,g){if(2>f||2>c)throw Error("invalid mesh size");this.Sj=f;this.ek=c;this.Rb=g||null;this.Om=[];this.OS=this.NS=0;this.KS=
this.JS=1;this.LS=0;this.kI=!1;g=f-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<f;++n){const p=d.m(d.I.E0,this,n,h),q=n/g,u=h/m;p.vg(q,u,q,u);l.push(p)}this.Om.push(l)}}A(){d.C(this.Om)}EF(){this.kI=!0}Ut(){if(this.kI){var f=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.Om)for(const n of l){const p=n.ja(),q=n.ka();f=Math.min(f,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.Za())}this.NS=f;this.OS=c;this.JS=g;this.KS=m;this.LS=h;this.kI=!1}}fZ(){this.Ut();
return this.NS}gZ(){this.Ut();return this.OS}cZ(){this.Ut();return this.JS}dZ(){this.Ut();return this.KS}eZ(){this.Ut();return this.LS}Lp(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.Sj||0>c||c>=this.ek?null:this.Om[c][f]}rK(f,c,g){const m=g instanceof d.Rect;if(f.Sj!==this.Sj||f.ek!==this.ek)throw Error("source mesh wrong size");f=f.Om;const h=this.Om;for(let l=0,n=h.length;l<n;++l){const p=f[l],q=h[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.k7(r,c,g):v.j7(r,c,g)}}}Zg(f){const c=
this.Om;let g=c[0];for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=g[q],r=l[q];a.set(n.Pg,n.Rg,w.Pg,w.Rg,r.Pg,r.Rg,p.Pg,p.Rg);f.gy(n.ja(),n.ka(),n.Za(),w.ja(),w.ka(),w.Za(),r.ja(),r.ka(),r.Za(),p.ja(),p.ka(),p.Za(),a);n=w;p=r}g=l}}H_(f){f=f.Cd;const c=[],g=this.Sj-1,m=this.ek-1,h=1/g,l=1/m,n=g-1,p=m-1;let q=f[0],u=f[1],w=d.fa(Math.floor(q*g),0,n),r=d.fa(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.fa(d.Ud(q,v,A),0,1);u=d.fa(d.Ud(u,
y,A),0,1);c.push(q,u)};for(let F=0,H=f.length;F<H;F+=2)for(q=f[F],u=f[F+1],c.push(q,u),w=d.fa(Math.floor(q*g),0,n),r=d.fa(Math.floor(u*m),0,p),G=(F+2)%H,v=f[G],y=f[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,M=r*l,P=(w+1)*h,R=(r+1)*l;if(0!==G&&(A=d.zw(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.zw(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.zw(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();
w++;G=1;continue}if(0<w&&1!==G&&(A=d.zw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.zw(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.m(d.zn,c)}J3(f,c){f=this.Q$(f);this.H$(f);c.aC(f)}Q$(f){const c=[];f=f.Cd;for(let g=0,m=f.length;g<m;g+=2){const [h,l]=this.aO(f[g],f[g+1]);c.push(h,l)}return c}aO(f,c){var g=this.Sj-1,m=this.ek-1;const h=1/g,l=1/m;g=d.fa(Math.floor(f*g),0,g-1);const n=d.fa(Math.floor(c*m),0,m-1);m=g*h;const p=
n*l,q=(g+1)*h,u=(n+1)*l,w=this.Lp(g,n),r=this.Lp(g+1,n+1),v=d.Rca(f,c,m,p,q,p,q,u);g=this.Lp(g+(v?1:0),n+(v?0:1));const [y,A,G]=d.Qda(f,c,m,p,v?m+h:m,v?p:p+l,q,u);return d.Pda(y,A,G,w.ja(),w.ka(),g.ja(),g.ka(),r.ja(),r.ka())}H$(f){const c=[];let g=f[0],m=f[1],h=g-f.Td(-2),l=m-f.Td(-1);for(let p=0,q=f.length;p<q;p+=2){var n=(p+2)%q;const u=f[n];n=f[n+1];const w=u-g,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(l)||
v)&&1E-7<Math.abs(w/h-r/l)||0==w&&0===r)&&c.push(g,m);g=u;m=n;h=w;l=r}6<=c.length&&c.length<f.length&&d.Cc(f,c)}sd(){return{cols:this.Sj,rows:this.ek,points:this.Om.map(f=>f.map(c=>c.sd()))}}hd(f){const c=this.Sj,g=this.ek;if(f.cols!==c||f.rows!==g)throw Error("mesh data wrong size");f=f.points;for(let m=0;m<g;++m){const h=f[m];for(let l=0;l<c;++l)this.Lp(l,m).hd(h[l])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{aK:n,Yr:q,format:u,type:p}}const m={iC:"clamp-to-edge",jC:"clamp-to-edge",bj:"trilinear",RT:0,RJ:"rgba8",XB:!0,ww:"default",premultiplyAlpha:!0,pU:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.I.Ey=class{constructor(n){this.ra=n;this.mb=null;this.O=this.R=0;this.Bh=!0;this.Vr=this.Ur="clamp-to-edge";this.md="trilinear";this.$F=0;this.Mm="rgba8";this.hl=!1;this.$o=
"default";this.zc=0}c5(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.mb)throw Error("already created texture");this.Ur=p.iC;this.Vr=p.jC;
this.md=p.bj;this.$F=p.RT;this.Mm=p.RJ;this.hl=!!p.XB&&this.ra.$q;this.$o=p.ww;if(!c.has(this.Ur)||!c.has(this.Vr))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.Mm))throw Error("invalid pixel format");if(!f.has(this.$o))throw Error("invalid mipmap quality");this.Bh=!0;if(n instanceof ArrayBuffer||null===n||p.pU){if(this.R=p.width,this.O=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.R*this.O*4)throw Error("ArrayBuffer wrong size");}else this.R=
n.width,this.O=n.height;if(0>=this.R||0>=this.O)throw Error("invalid texture data size");if(p.pU){var q=d.Xg(this.R,this.O);q.getContext("2d").drawImage(n,0,0,this.R,this.O);n=q}var u=d.mk(this.R)&&d.mk(this.O);q=this.ra.LA;if(this.R>q||this.O>q)throw Error("texture data exceeds maximum texture size");q=this.ra.L;var w=this.ra.dd;this.mb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.mb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.Mm,q);if(this.ra.io()||u||!this.iF())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.hl?Math.floor(Math.log2(Math.max(this.R,this.O))+1):1,p.aK,this.R,this.O),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.R,this.O,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Yr,this.R,this.O,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Yr,this.R,this.O,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Yr,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.R,this.O));n instanceof ImageData&&(u=d.Xg(this.R,this.O),u.getContext("2d").putImageData(n,0,0),n=u);u=d.Xg(d.vU(this.R),d.vU(this.O));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.md;w.drawImage(n,0,0,this.R,this.O,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Yr,p.format,p.type,u)}null!==n&&this.PQ(q);q.bindTexture(q.TEXTURE_2D,null);this.ra.tF();this.zc=1;l.add(this)}P4(n,p,q){q=Object.assign({},m,q);if(this.mb)throw Error("already created texture");this.Ur=q.iC;this.Vr=q.jC;this.md=q.bj;this.Mm=q.RJ;this.hl=!!q.XB&&this.ra.$q;this.$o=q.ww;if(!c.has(this.Ur)||!c.has(this.Vr))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.Mm))throw Error("invalid pixel format");if(!f.has(this.$o))throw Error("invalid mipmap quality");
this.Bh=!1;this.R=Math.floor(n);this.O=Math.floor(p);n=d.mk(this.R)&&d.mk(this.O);p=this.ra.LA;if(0>=this.R||0>=this.O)throw Error("invalid texture size");if(this.R>p||this.O>p)throw Error("texture exceeds maximum texture size");if(!this.ra.io()&&this.iF()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ra.L;p=this.ra.dd;this.mb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.mb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.Mm,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.aK:q.Yr,this.R,this.O,0,q.format,q.type,null);this.PQ(n);n.bindTexture(n.TEXTURE_2D,null);this.ra.tF();this.zc=1;l.add(this)}eF(n){if("default"===this.$o)return this.Bh?n.NICEST:n.FASTEST;if("low"===this.$o)return n.FASTEST;if("high"===this.$o)return n.NICEST;throw Error("invalid mipmap quality");}iF(){return"clamp-to-edge"!==this.Ur||"clamp-to-edge"!==this.Vr}xP(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}PQ(n){var p=d.mk(this.R)&&d.mk(this.O);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.xP(n,this.Ur));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.xP(n,this.Vr));"nearest"===this.md?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.hl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ra.io())&&this.hl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.eF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.md||this.ra.cH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.hl=!1));(p=this.ra.ku)&&0<this.$F&&"nearest"!==this.md&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.$F,this.ra.XH))}ZQ(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.mb||0>=this.zc)throw Error("texture not created");if(this.Bh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ra.dd;
const r=this.ra.L;r.bindTexture(r.TEXTURE_2D,this.mb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.Mm,r);w=2<=w?p.aK:p.Yr;try{if(this.R===q&&this.O===u){const v=d.mk(this.R)&&d.mk(this.O);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ra.io())&&this.hl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.eF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.R=q;this.O=u;const v=d.mk(this.R)&&d.mk(this.O);if(!this.ra.io()&&this.iF()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ra.io())&&this.hl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.eF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ra.tF()}UE(){if(0<this.zc)throw Error("texture still has references");if(!this.mb)throw Error("already deleted texture");l.delete(this);this.ra.L.deleteTexture(this.mb);this.mb=null}hb(){return this.ra}D3(){if(0>=
this.zc)throw Error("no more references");this.zc--}aa(){return this.R}$(){return this.O}UC(){let n=this.R*this.O;switch(this.Mm){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.hl&&(n+=Math.floor(n/3));return n}static Hk(){l.clear()}static Sba(){return l.values()}}}
{"use strict";const d=self.aj.Ml,a=new Set(["nearest","bilinear","trilinear"]),b={bj:"trilinear",alpha:!0,depth:!1,HJ:!0,kU:!0,cda:0},f=new Set;self.B.I.mO=class{constructor(c){this.ra=c;this.ak=this.mb=this.Lo=this.Cg=null;this.O=this.R=0;this.kA=!0;this.md="trilinear";this.Iq=!0;this.Lc=!1;this.bv=!0;this.pl=0;this.Zj=d.create()}O4(c,g,m){m=Object.assign({},b,m);const h=this.ra.dd;if(this.mb||this.ak)throw Error("already created render target");this.md=m.bj;this.Iq=!!m.alpha;this.Lc=!!m.depth;this.bv=
!!m.HJ;this.kA=!!m.kU;this.pl=m.cda;if(!a.has(this.md))throw Error("invalid sampling");if(0<this.pl&&(2>h||this.bv))throw Error("invalid use of multisampling");2>h&&(this.bv=!0);this.R=c;this.O=g;if(0>=this.R||0>=this.O)throw Error("invalid render target size");this.BO();c=this.ra.L;this.Cg=c.createFramebuffer();this.Lc&&(this.Lo=c.createFramebuffer());this.bv?(this.mb=this.ra.HK(this.R,this.O,{bj:this.md,RJ:this.Iq?"rgba8":"rgb8",XB:!1}),g=this.mb.mb,c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.ak=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.ak),g=this.Iq?c.RGBA8:c.RGB8,0<this.pl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.pl>m&&(this.pl=m)):this.pl=0),0===this.pl?c.renderbufferStorage(c.RENDERBUFFER,g,this.R,this.O):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.pl,g,this.R,this.O),c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.ak),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.ak)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.ra.Ag;this.Lc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),this.ra.wu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);f.add(this)}rQ(c,g){if(this.R!==c||this.O!==g)this.R=c,this.O=g,this.BO(),c=this.ra.L,c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),this.mb?this.mb.ZQ(new ImageData(this.R,this.O)):(c.bindRenderbuffer(c.RENDERBUFFER,this.ak),c.renderbufferStorage(c.RENDERBUFFER,this.Iq?c.RGBA8:c.RGB8,this.R,this.O),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.ra.Ag,this.Lc&&g&&(this.ra.wu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}UE(){if(!this.mb&&!this.ak)throw Error("already deleted render target");f.delete(this);var c=this.ra.L;this.mb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ra.ej(this.mb),this.mb=null):this.ak&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Cg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.ak),this.ak=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ra.dd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Cg);
this.Lc&&c.deleteFramebuffer(this.Lo);c=this.ra.qc;c.Il=null;this.Cg=c.Zi=null}BO(){this.ra.Ep(this.Zj,this.R/this.O)}hb(){return this.ra}Xd(){return this.mb}DD(){return"nearest"!==this.md}aa(){return this.R}$(){return this.O}Q_(c){c=Object.assign({},b,c);return"nearest"!==c.bj!==this.DD()||!!c.alpha!==this.Iq||!!c.depth!==this.Lc||2<=this.ra.dd&&!!c.HJ!==this.bv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.kA&&this.aa()===c.width&&this.$()===c.height:this.kA}UC(){return this.mb?
this.mb.UC():this.R*this.O*(this.Iq?4:3)}static Hk(){f.clear()}}}
{"use strict";const d=self.B;d.I.It=class extends d.I.u3{static async kW(a,b,f,c){const g=a.L,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,b);g.compileShader(m);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,f);g.compileShader(b);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.iI;l?await a.faa(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await d.GE(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.bY(g.getProgramInfoLog(h)||"").trim())&&!d.JD(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(m);g.deleteShader(b);return h}static async La(a,b,f,c){f=await d.I.It.kW(a,b.src,f,c);return new d.I.It(a,f,b,c)}constructor(a,b,f,c){super(a,c,f);const g=a.L;var m=a.qc;a.fj();g.useProgram(b);this.L=g;this.Rc=b;this.lA="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.TH=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.AB),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.pB),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.TH&&(g.bindBuffer(g.ARRAY_BUFFER,a.TA),g.vertexAttribPointer(this.TH,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.TH));g.bindBuffer(g.ARRAY_BUFFER,null);this.TI=new d.I.Yb(this,"matP","mat4");this.SI=new d.I.Yb(this,"matMV","mat4");this.up=new d.I.Yb(this,"color",
"vec4");this.Lba=new d.I.Yb(this,"samplerFront","sampler");this.WI=new d.I.Yb(this,"pointTexStart","vec2");this.VI=new d.I.Yb(this,"pointTexEnd","vec2");this.ZI=new d.I.Yb(this,"zElevation","float");this.XI=new d.I.Yb(this,"tileSize","vec2");this.YI=new d.I.Yb(this,"tileSpacing","vec2");this.RI=new d.I.Yb(this,"color2_","vec4");this.UI=new d.I.Yb(this,"outlineThickness","float");this.Rr=new d.I.Yb(this,"samplerBack","sampler");this.Kba=new d.I.Yb(this,"samplerDepth","sampler");this.Ym=new d.I.Yb(this,
"destStart","vec2");this.Xm=new d.I.Yb(this,"destEnd","vec2");this.Wi=new d.I.Yb(this,"srcStart","vec2");this.Dl=new d.I.Yb(this,"srcEnd","vec2");this.Fl=new d.I.Yb(this,"srcOriginStart","vec2");this.El=new d.I.Yb(this,"srcOriginEnd","vec2");this.Qg=new d.I.Yb(this,"pixelSize","vec2");this.dn=new d.I.Yb(this,"seconds","float");this.Zm=new d.I.Yb(this,"devicePixelRatio","float");this.an=new d.I.Yb(this,"layerScale","float");this.$m=new d.I.Yb(this,"layerAngle","float");this.cn=new d.I.Yb(this,"layoutStart",
"vec2");this.bn=new d.I.Yb(this,"layoutEnd","vec2");this.VR=!!(this.Qg.P||this.dn.P||this.Rr.P||this.Ym.P||this.Xm.P||this.Wi.P||this.Dl.P||this.Fl.P||this.El.P||this.Zm.P||this.an.P||this.$m.P||this.cn.P||this.bn.P);a=f.parameters||[];this.vp=[];this.ET=this.Qg.P||this.Wi.P||this.Dl.P||this.Fl.P||this.El.P;this.$G=this.aH=!1;this.up.VL();this.RI.VL();this.Lba.qD(0);this.Rr.qD(1);this.Kba.qD(2);this.WI.jg(0,0);this.VI.jg(1,1);this.ZI.On(0);this.XI.jg(0,0);this.YI.jg(0,0);this.Ym.jg(0,0);this.Xm.jg(1,
1);this.Wi.jg(0,0);this.Dl.jg(0,0);this.Fl.jg(0,0);this.El.jg(0,0);this.Qg.jg(0,0);this.Zm.On(1);this.an.On(1);this.$m.On(0);this.dn.On(0);this.cn.jg(0,0);this.bn.jg(0,0);this.UI.On(1);for(const l of a)a=l[2],b=new d.I.Yb(this,l[0],a),"color"===a?b.f_():b.On(0),this.vp.push(b);this.lA?this.dR(m.gw):(this.By(m.gw,!0),this.Ay(m.KB,!0));m=m.Sh;g.useProgram(m?m.Rc:null)}A(){this.L.deleteProgram(this.Rc);this.Rc=null;this.ra.f9(this);this.L=null;super.A()}Df(){return this.Rc}Ex(a){return this.vp[a].uj()}BV(a){for(let b=
0,f=a.length;b<f;++b)if(!this.vp[b].c0(a[b]))return!1;return!0}y2(a){for(let b=0,f=a.length;b<f;++b)this.vp[b].u2(a[b])}CV(a,b,f,c,g,m,h,l,n,p){return this.Rr.P||this.Qg.P&&!this.Qg.Fk(g,m)||this.Ym.P&&!this.Ym.Fk(a.S,a.M)||this.Xm.P&&!this.Xm.Fk(a.ea,a.Z)||this.Zm.P&&!this.Zm.Yx(h)||this.an.P&&!this.an.Yx(l)||this.$m.P&&!this.$m.Yx(n)||this.Wi.P&&!this.Wi.Fk(b.S,b.M)||this.Dl.P&&!this.Dl.Fk(b.ea,b.Z)||this.Fl.P&&!this.Fl.Fk(f.S,f.M)||this.El.P&&!this.El.Fk(f.ea,f.Z)||this.cn.P&&!this.cn.Fk(c.S,c.M)||
this.bn.P&&!this.bn.Fk(c.M,c.Z)||this.dn.P&&!this.dn.Yx(p)?!1:!0}T2(a,b,f,c,g,m,h,l,n,p){this.Rr.P||(this.Qg.P&&this.Qg.Ik(g,m),this.Ym.P&&this.Ym.Ik(a.S,a.M),this.Xm.P&&this.Xm.Ik(a.ea,a.Z),this.Zm.P&&this.Zm.qy(h),this.an.P&&this.an.qy(l),this.$m.P&&this.$m.qy(n),this.Wi.P&&this.Wi.Ik(b.S,b.M),this.Dl.P&&this.Dl.Ik(b.ea,b.Z),this.Fl.P&&this.Fl.Ik(f.S,f.M),this.El.P&&this.El.Ik(f.ea,f.Z),this.cn.P&&this.cn.Ik(c.S,c.M),this.bn.P&&this.bn.Ik(c.M,c.Z),this.dn.P&&this.dn.qy(p))}By(a,b){this.aH&&!b||
this.lA||(this.TI.P&&this.TI.Cy(a),this.aH=!0)}S2(){this.aH=!1}Ay(a,b){this.$G&&!b||this.lA||(this.SI.P&&this.SI.Cy(a),this.$G=!0)}R2(){this.$G=!1}dR(a){if(!this.lA)throw Error("not device transform shader");this.TI.Cy(a);a=this.ra;const b=a.aa()/2,f=a.$()/2;a=a.os(b,f,100*self.devicePixelRatio,b,f);this.SI.Cy(a)}R3(a){this.up.P&&this.up.zy(a[0],a[1],a[2],a[3])}static rx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.aj.Ml,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.I.Yb=class{constructor(f,c,g){if(!b.has(g))throw Error("invalid uniform type");this.Rb=f;this.L=this.Rb.L;this.Fa=c;this.xa=g;this.qH="color"===this.xa;this.Eh=this.L.getUniformLocation(this.Rb.Df(),c);this.P=!!this.Eh;f=b.get(g);this.Nb=new Float32Array(f);this.Pi=new Float32Array(f)}A(){this.Eh=this.L=this.Rb=null}uj(){return this.xa}On(f){this.P&&
(this.Nb[0]=f,this.Pi.set(this.Nb),this.L.uniform1f(this.Eh,f))}qD(f){this.P&&(this.Nb[0]=f,this.Pi.set(this.Nb),this.L.uniform1i(this.Eh,f))}jg(f,c){this.P&&(this.Nb[0]=f,this.Nb[1]=c,this.Pi.set(this.Nb),this.L.uniform2f(this.Eh,f,c))}f_(){this.P&&(this.Nb[0]=0,this.Nb[1]=0,this.Nb[2]=0,this.Pi.set(this.Nb),this.L.uniform3f(this.Eh,0,0,0))}VL(){this.P&&(this.Nb[0]=1,this.Nb[1]=1,this.Nb[2]=1,this.Nb[3]=1,this.Pi.set(this.Nb),this.L.uniform4f(this.Eh,1,1,1,1))}lo(f){f=Math.fround(f);const c=this.Nb;
c[0]!==f&&(c[0]=f,this.L.uniform1f(this.Eh,f))}Ae(f,c){f=Math.fround(f);c=Math.fround(c);const g=this.Nb;if(g[0]!==f||g[1]!==c)g[0]=f,g[1]=c,this.L.uniform2f(this.Eh,f,c)}P3(f,c,g){f=Math.fround(f);c=Math.fround(c);g=Math.fround(g);const m=this.Nb;if(m[0]!==f||m[1]!==c||m[2]!==g)m[0]=f,m[1]=c,m[2]=g,this.L.uniform3f(this.Eh,f,c,g)}zy(f,c,g,m){f=Math.fround(f);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Nb;if(h[0]!==f||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=f,h[1]=c,h[2]=g,h[3]=m,this.L.uniform4f(this.Eh,
f,c,g,m)}Cy(f){const c=this.Nb;a.$i(c,f)||(d.Rda(c,f),this.L.uniformMatrix4fv(this.Eh,!1,f))}c0(f){const c=this.Pi;return this.qH?c[0]===Math.fround(f.Qa)&&c[1]===Math.fround(f.Ua)&&c[2]===Math.fround(f.Ta):c[0]===Math.fround(f)}u2(f){const c=this.Pi;this.qH?(c[0]=f.Qa,c[1]=f.Ua,c[2]=f.Ta):c[0]=f}Yx(f){return this.Pi[0]===Math.fround(f)}Fk(f,c){const g=this.Pi;return g[0]===Math.fround(f)&&g[1]===Math.fround(c)}qy(f){this.Pi[0]=f}Ik(f,c){const g=this.Pi;g[0]=f;g[1]=c}}}
{"use strict";const d=self.B,a=self.aj,b=a.Dw,f=a.Ml;d.I.IV=class{constructor(c){this.sn=c;this.KB=f.create();this.gw=f.create();this.Zi=this.Il=null;this.lU=!1;this.JB=b.vf(1,1,1,1);this.Sh=null;this.SJ=new d.Rect;this.clearColor=d.m(d.Ya,0,0,0,0)}};d.I.b4=class{constructor(c){const g=new ArrayBuffer(96);this.xa=0;this.qc=c;this.L=c.sn.L;this.dl=this.Mg=0;this.Me=null;this.kf=new Float32Array(g,0,16);this.Ao=new Float32Array(g,64,4);this.qT=new Float32Array(g,80,4);this.dB=[]}t_(c){this.xa=1;this.Mg=
c;this.dl=6}VW(){const c=this.L;c.drawElements(c.TRIANGLES,this.dl,c.UNSIGNED_SHORT,this.Mg)}C_(c){this.xa=2;this.Me=c}hX(){const c=this.L,g=this.Me;c.bindTexture(c.TEXTURE_2D,g?g.mb:null)}rD(c){this.xa=3;c.Ug(this.Ao,0)}XW(){const c=this.Ao,g=this.qc;b.pa(g.JB,c);g.Sh.R3(c)}aX(){const c=this.Ao,g=this.qc.Sh;g.RI.P&&g.RI.zy(c[0],c[1],c[2],c[3])}u_(c,g){this.xa=4;this.Mg=c;this.dl=g}WW(){this.L.blendFunc(this.Mg,this.dl)}D_(c,g){this.xa=5;const m=this.Ao;m[0]=0;m[1]=0;m[2]=c;m[3]=g}jX(){const c=this.Ao;
this.L.viewport(c[0],c[1],c[2],c[3])}A_(c){this.xa=6;f.pa(this.kf,c)}fX(){const c=this.qc,g=c.sn.vo,m=c.Sh,h=this.kf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.By(h,!0):p.S2()}f.pa(c.gw,h)}x_(c){this.xa=7;f.pa(this.kf,c)}bX(){const c=this.qc,g=c.sn.vo,m=c.Sh,h=this.kf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.Ay(h,!0):p.R2()}f.pa(c.KB,h)}B_(c){this.xa=8;this.Me=c}gX(){const c=this.L,g=this.Me,m=this.qc;g?(m.Il=g.Cg,m.Zi=g.Lo,m.lU&&m.Zi?c.bindFramebuffer(c.FRAMEBUFFER,m.Zi):c.bindFramebuffer(c.FRAMEBUFFER,
m.Il)):(m.Il=null,m.Zi=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}j_(c){this.xa=9;c.Ug(this.kf,0)}k_(){this.xa=9;const c=this.kf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}OW(){const c=this.L;var g=this.kf;const m=this.qc.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.OB(h,l,n,g)||(c.clearColor(h,l,n,g),m.tn(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}cX(){const c=this.kf;this.qc.SJ.set(c[0],c[1],c[2],c[3])}UW(){const c=this.L,g=this.qc,m=g.sn.jB;c.useProgram(m.Rc);m.By(g.gw,!1);m.Ay(g.KB,!1);var h=g.SJ;m.WI.P&&m.WI.Ae(h.S,
h.M);m.VI.P&&m.VI.Ae(h.ea,h.Z);h=this.kf[0];m.ZI.P&&m.ZI.lo(h);m.up.P&&(h=g.JB,m.up.zy(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.Mg/4,this.dl);c.useProgram(g.Sh.Rc)}y_(c){this.xa=11;this.Me=c}dX(){var c=this.L;const g=this.qc,m=this.Me;g.Sh=m;c.useProgram(m.Rc);m.By(g.gw,!1);m.Ay(g.KB,!1);m.up.P&&(c=g.JB,m.up.zy(c[0],c[1],c[2],c[3]))}z_(){this.xa=12}eX(){const c=this.qc.Sh;c.VR&&this.I5(c);c.vp.length&&this.J5(c)}I5(c){const g=this.L,m=this.kf,h=this.Ao,l=this.qT;if(c.Rr.P){const n=this.qc.sn,
p=this.Me;n.Fm!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.mb:null),n.Fm=p,g.activeTexture(g.TEXTURE0))}c.Qg.P&&c.Qg.Ae(m[0],m[1]);c.Ym.P&&c.Ym.Ae(m[2],m[3]);c.Xm.P&&c.Xm.Ae(m[4],m[5]);c.Zm.P&&c.Zm.lo(this.dl);c.an.P&&c.an.lo(m[6]);c.$m.P&&c.$m.lo(m[7]);c.Wi.P&&c.Wi.Ae(m[12],m[13]);c.Dl.P&&c.Dl.Ae(m[14],m[15]);c.Fl.P&&c.Fl.Ae(l[0],l[1]);c.El.P&&c.El.Ae(l[2],l[3]);c.cn.P&&c.cn.Ae(h[0],h[1]);c.bn.P&&c.bn.Ae(h[2],h[3]);c.dn.P&&c.dn.lo(this.Mg)}J5(c){c=c.vp;const g=this.dB;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.qH?l.P3(n.Qa,n.Ua,n.Ta):l.lo(n)}}p_(c){this.xa=13;this.Me=c}TW(){const c=this.L,g=this.Me,m=this.qc.Il;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}g_(c,g){this.xa=16;var m=this.kf;const h=this.qc.sn;m[0]=c.aa();m[1]=c.$();m[2]=g?g.aa():h.aa();m[3]=g?g.$():h.$();m[4]=c.DD()?1:0;m[5]=!0;m=this.dB;d.C(m);m.push(c.Cg);m.push(g?g.Cg:null)}MW(){var c=this.kf,g=
this.dB;const m=this.L;var h=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}F_(c){this.xa=17;this.Me=c}kX(){this.Me.qC();this.Me=null}o_(c){this.xa=18;this.Me=c}SW(){this.Me.IC();this.Me=
null}$W(){const c=this.qc.Sh,g=this.kf;c.Qg.P&&c.Qg.Ae(g[0],g[1]);c.UI.P&&c.UI.lo(g[2])}iX(){const c=this.qc.Sh,g=this.kf;c.Wi.P&&c.Wi.Ae(g[0],g[1]);c.Qg.P&&c.Qg.Ae(g[4],g[5]);c.XI.P&&c.XI.Ae(g[6],g[7]);c.YI.P&&c.YI.Ae(g[8],g[9])}i_(c){this.xa=21;this.Mg=c?1:0}NW(){const c=this.L,g=0!==this.Mg;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}v_(c){this.xa=22;this.Mg=c?1:0}YW(){const c=this.L;0===this.Mg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}w_(c){this.xa=
23;this.Mg=c?1:0}ZW(){const c=this.L,g=this.qc,m=g.sn,h=0!==this.Mg;g.lU=h;c.activeTexture(c.TEXTURE2);h?(g.Zi&&c.bindFramebuffer(c.FRAMEBUFFER,g.Zi),c.bindTexture(c.TEXTURE_2D,m.Ag)):(c.bindTexture(c.TEXTURE_2D,null),g.Zi&&c.bindFramebuffer(c.FRAMEBUFFER,g.Il));c.activeTexture(c.TEXTURE0)}n_(){this.xa=24}RW(){const c=this.L;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}m_(){this.xa=25}QW(){const c=
this.L;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}l_(){this.xa=26}PW(){const c=this.L;c.disable(c.STENCIL_TEST)}qa(){switch(this.xa){case 1:this.VW();break;case 2:this.hX();break;case 3:this.XW();break;case 4:this.WW();break;case 5:this.jX();break;case 6:this.fX();break;case 7:this.bX();break;case 8:this.gX();break;case 9:this.OW();break;case 10:this.UW();break;case 11:this.dX();break;case 12:this.eX();break;case 13:this.TW();break;case 14:this.cX();break;
case 15:this.iX();break;case 16:this.MW();break;case 17:this.kX();break;case 18:this.SW();break;case 19:this.$W();break;case 20:this.aX();break;case 21:this.NW();break;case 22:this.YW();break;case 23:this.ZW();break;case 24:this.RW();break;case 25:this.QW();break;case 26:this.PW()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.Ya(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;d.fY&&d.fY.addEventListener("fontload",p=>{p=p.font.ya();for(const q of m)(q.Ah||d.Ll(q.Rz,p))&&q.Kj()});function h(p,q,u,w,r,v){q?"Gecko"===d.Wc.Mw?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.Wc.Mw?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;d.I.TD=class{constructor(p,q){q=Object.assign({},a,q);this.ra=
p;this.Rz="Arial";this.Sz=16;this.Tz=1;this.Zo=0;this.ef=this.df=!1;this.Bz="black";this.Ah=!1;this.OJ=null;this.YF=new Set;this.bf="left";this.Pe="top";this.bd="";this.ru=null;this.kn=d.m(d.HE);this.gJ="word";this.DH=this.qB=!1;this.Zu=!0;this.Eo=-1;this.O=this.R=this.yG=this.Rq=this.Zq=0;this.Rh=1;this.sG=!1;this.tv=this.ol=this.Qd=this.qp=null;this.yS=this.zS=-1;this.CA=this.AS=this.HH="";this.IH=this.JH=1;this.MS=(u,w)=>this.YP(u,w);this.mb=null;this.Rv=this.Tv=0;this.Uf=new d.Rect;this.Fv=1;
this.dI=!1;this.NI=new d.b_(()=>{this.ii();this.OQ(8,8)},q.timeout);this.YB=null;this.ew=!1;m.add(this)}A(){this.OJ=null;this.YF.clear();this.MS=this.tv=this.ol=this.Qd=this.qp=this.ru=null;this.NI.A();this.YB=null;this.ii();this.kn.nd();this.ra=this.kn=null;this.ew=!0;m.delete(this)}so(){this.sG=!0}Kj(){this.so();this.kn.nd();this.qB=!0}EN(){this.Zu=!1}kg(){return this.Zu}t2(p){p=!!p;this.Ah!==p&&(p=(this.Ah=p)?"alphabetic":"top",this.Qd&&(this.Qd.textBaseline=p),this.ol&&(this.ol.textBaseline=p),
this.Kj())}gE(p){p||(p="serif");this.Rz!==p&&(this.Rz=p,this.Kj())}hE(p){.1>p&&(p=.1);this.Sz!==p&&(this.Sz=p,this.Kj())}I2(p){this.Tz!==p&&(this.Tz=p,this.Kj())}IN(p){this.Zo!==p&&(this.Zo=p,this.so())}pN(p){p=!!p;this.df!==p&&(this.df=p,this.Kj())}GN(p){p=!!p;this.ef!==p&&(this.ef=p,this.Kj())}fE(p){p=Math.floor(p);this.Eo!==p&&(this.Eo=p,this.so())}ti(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Cq(p,q){return!!this.ti(p,q)}iP(p,q){let u=[];(this.df||this.Cq(q,
"b"))&&u.push("bold");(this.ef||this.Cq(q,"i"))&&u.push("italic");var w=this.ti(q,"size");w=(w?parseFloat(w.Uh):this.Sz)*this.Tz;p?u.push(w+"pt"):u.push(w*this.Fv*this.Rh*self.devicePixelRatio+"pt");p=this.Rz;(q=this.ti(q,"font"))&&q.Uh&&(p=q.Uh,this.OJ&&!this.YF.has(p)&&(this.OJ(p),this.YF.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}im(p){p instanceof d.Ya&&(p=p.Cca());this.Bz!==p&&(this.Bz=p,this.so())}rN(p,q,u){b.hs(p,q,u);this.im(b)}AN(p){if(!f.has(p))throw Error("invalid horizontal alignment");
this.bf!==p&&(this.bf=p,this.so())}VN(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Pe!==p&&(this.Pe=p,this.so())}r3(p){if(!g.has(p))throw Error("invalid word wrap mode");this.gJ!==p&&(this.gJ=p,this.Kj())}Dt(p){this.bd!==p&&(this.bd=p,this.Kj())}jd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Rq===p&&this.yG===q&&this.Rh===u)){1===this.Rh!==(1===u)&&(this.dI=!0);var w=this.Rq,r=this.Rh;this.Rq=p;this.yG=q;this.Rh=u;p=self.devicePixelRatio;this.R=this.Rq*this.Rh*p;this.O=
this.yG*this.Rh*p;p=Math.max(this.R,this.O);q=Math.min(this.ra.LA,2048);u=1;p>q&&(u=q/p,this.R=Math.min(this.R*u,q),this.O=Math.min(this.O*u,q));this.Fv=u;0<this.Tv&&0<this.Rv&&this.Rh===r&&this.Uf.set(0,0,this.R/this.Tv,this.O/this.Rv);this.Rq!==w?this.Kj():this.so()}}aa(){return this.R}$(){return this.O}tZ(){this.qF();return this.kn.bZ()}sZ(){this.qF();return this.kn.wZ()+this.kn.Gm.length*(this.Zo+4)-this.Zo}Xd(){this.NI.Xc();this.V7();return this.mb}V7(){this.mb&&!this.sG&&!this.qB||this.DH||
0>=this.R||0>=this.O||(this.sG=!1,this.DH=!0,this.Zu?d.pk(()=>this.SO()):this.SO())}SO(){this.ew||(this.OQ(Math.ceil(this.R),Math.ceil(this.O)),this.qF(),this.Y5(),this.aaa(),this.NI.Xc(),this.DH=!1)}OQ(p,q){this.qp||(this.qp=d.Xg(16,16));let u=!1;if(this.zS!==p||this.yS!==q)this.zS=p,this.yS=q,this.qp.width=p,this.qp.height=q,u=!0;this.Qd||(this.Qd=this.qp.getContext("2d"),u=!0);u?(this.Qd.textBaseline=this.Ah?"alphabetic":"top",this.Qd.font=this.HH,this.Qd.fillStyle=this.CA,this.Qd.strokeStyle=
this.CA,this.Qd.globalAlpha=this.JH,this.Qd.lineWidth=this.IH):this.Qd.clearRect(0,0,p,q)}QP(){this.ol||(this.ol=d.Xg(16,16).getContext("2d"),this.tv=d.Xg(16,16).getContext("2d"),this.ol.textBaseline=this.Ah?"alphabetic":"top",this.tv.textBaseline="top")}s$(p){this.AS!==p&&(this.AS=p,this.ol.font=p,this.tv.font=p)}WQ(){if(!l){l=!0;this.QP();const p=this.ol.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}qF(){this.qB&&(this.QP(),
!this.Ah||this.ru&&this.ru.toString()===this.bd||(this.ru=new d.Sl(this.bd,{fda:!0})),this.kn.HE(this.Ah?this.ru.Lda():this.bd,this.MS,this.Rq,this.gJ,0),this.qB=!1)}YP(p,q){this.s$(this.iP(!0,q));q=this.ti(q,"size");q=(q?parseFloat(q.Uh):this.Sz)*this.Tz;const u=this.ol.measureText(p);let w=0;this.Ah&&this.WQ()&&(w=u.fontBoundingBoxAscent-this.tv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,eg:u.fontBoundingBoxAscent||0,uf:u.fontBoundingBoxDescent||0,xf:w}}d$(p){this.HH!==
p&&(this.HH=p,this.Qd.font=p)}Zy(p){this.CA!==p&&(this.CA=p,this.Qd.fillStyle=p,this.Qd.strokeStyle=p)}c$(p){this.JH!==p&&(this.JH=p,this.Qd.globalAlpha=p)}GQ(p){this.IH!==p&&(this.IH=p,this.Qd.lineWidth=p)}Y5(){this.Zq=0;const p=this.Fv*this.Rh*self.devicePixelRatio,q=(4+this.Zo)*p;var u=0;const w=this.kn.Gm;if(0!==w.length){var r=this.Ah&&this.WQ(),v=w[0].height*p;"center"===this.Pe?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.O/2-u/2,0),r&&(v=w[0].xf*p)):"bottom"===this.Pe&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.Zo*p,u=this.O-u-(r?w.Td(-1).uf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Ah){if(u+=0===y?v:G,0<y&&u>this.O-4*p)break}else if(0<y&&u>=this.O-G)break;0<=z&&this.X5(r,u,p);this.Ah||(u+=G);u+=q}}}X5(p,q,u){let w=0;"center"===this.bf?w=(this.R-p.width*u)/2:"right"===this.bf&&(w=this.R-p.width*u);for(const r of p.eU)this.W5(r,w,q,u,p.height),w+=r.width*u}W5(p,q,u,w,r){const v=this.Qd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.Zo)*w,F=p.fd,H=p.text;if(-1!==this.Eo){if(this.Zq>=this.Eo)return;this.Zq+H.length>this.Eo&&(H=H.substr(0,this.Eo-this.Zq),r=this.YP(H,F).width*w);this.Zq+=H.length}var J=this.ti(F,"background"),M=this.Cq(F,"u");p=this.Cq(F,"s");if((!d.JD(H)||J||M||p)&&!this.Cq(F,"hide")){var P=this.ti(F,"offsetx");q+=P?parseFloat(P.Uh)*w:0;P=this.ti(F,"offsety");u+=P?parseFloat(P.Uh)*w:0;J&&(this.Zy(J.Uh),v.fillRect(q,u-A,r,A+z));P=this.ti(F,"color");this.Zy(P?P.Uh:this.Bz);z=this.ti(F,"opacity");this.c$(z?
parseFloat(z.Uh)/100:1);z=(z=this.ti(F,"linethickness"))?parseFloat(z.Uh):1;(J=this.Cq(F,"stroke"))&&this.GQ(.5*G*z*this.Fv*this.Rh*self.devicePixelRatio);this.d$(this.iP(!1,F));h(v,J,H,q,u,r);!J&&(this.GQ(.5*G*z*this.Fv*this.Rh*self.devicePixelRatio),F=this.ti(F,"outline"))&&(this.Zy(F.Uh),h(v,!0,H,q,u,r));this.Zy(P?P.Uh:this.Bz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}aaa(){this.ra.Qn()||(this.Tv=Math.ceil(this.R),this.Rv=
Math.ceil(this.O),this.Uf.set(0,0,this.R/this.Tv,this.O/this.Rv),this.dI&&(this.ii(),this.dI=!1),this.mb||(this.mb=this.ra.HK(this.Tv,this.Rv,{XB:1===this.Rh,ww:"high"})),this.ra.U3(this.qp,this.mb),this.YB&&this.YB())}tj(){return this.Uf}ii(){this.mb&&(this.ra.Qn()||this.ra.ej(this.mb),this.mb=null)}static Hk(){for(const p of m)p.ii()}}}
{"use strict";const d=self.B;class a{constructor(b){this.L=b.L;this.dd=b.dd;this.wd=b.wd;this.Ih=null;this.Qu=this.Cb=!1;this.$A=0;this.Ih=1===this.dd?this.wd.createQueryEXT():this.L.createQuery()}A(){this.NO();this.wd=this.L=null;this.Qu=!1}NO(){this.Ih&&(1===this.dd?this.wd.deleteQueryEXT(this.Ih):this.L.deleteQuery(this.Ih),this.Ih=null)}qC(){if(this.Cb)throw Error("query already active");1===this.dd?this.wd.beginQueryEXT(this.wd.TIME_ELAPSED_EXT,this.Ih):this.L.beginQuery(this.wd.TIME_ELAPSED_EXT,
this.Ih);this.Cb=!0}IC(){if(!this.Cb)throw Error("query not active");1===this.dd?this.wd.endQueryEXT(this.wd.TIME_ELAPSED_EXT):this.L.endQuery(this.wd.TIME_ELAPSED_EXT);this.Cb=!1}xC(){if(this.Ih&&!this.Qu&&!this.Cb){var b=1===this.dd?this.wd.getQueryObjectEXT(this.Ih,this.wd.QUERY_RESULT_AVAILABLE_EXT):this.L.getQueryParameter(this.Ih,this.L.QUERY_RESULT_AVAILABLE);var f=this.L.getParameter(this.wd.GPU_DISJOINT_EXT);b&&!f&&(this.$A=1===this.dd?this.wd.getQueryObjectEXT(this.Ih,this.wd.QUERY_RESULT_EXT):
this.L.getQueryParameter(this.Ih,this.L.QUERY_RESULT),this.$A/=1E9,this.Qu=!0);(b||f)&&this.NO()}}Qx(){return this.Qu}Jx(){if(!this.Qu)throw Error("no result available");return this.$A}}d.I.d4=class{constructor(b){this.ra=b;this.yh=b.yh;this.Cb=!1;this.Km=null;this.Dm=!1;this.Cr=null;this.hp=[]}A(){for(const b of this.hp)b instanceof a&&b.A();d.C(this.hp);this.ra=this.Cr=this.Km=null}qC(){if(this.Cb)throw Error("query already active");const b=this.ra.wT;0<b.length?(this.Dm=!0,this.Km=b.Td(-1),this.Km.XO(),
this.Km.hp.push(this)):(this.Dm=!1,this.Km=null);this.Cb=!0;b.push(this);this.UQ()}IC(){if(!this.Cb)throw Error("query not active");if(this.ra.wT.pop()!==this)throw Error("can only end most nested query");this.Cb=!1;this.XO();this.Km&&(this.Km.UQ(),this.Km=null)}UQ(){this.Cr=d.m(a,this.ra);this.hp.push(this.Cr);this.Cr.qC()}XO(){this.Cr.IC();this.Cr=null}xC(){for(const b of this.hp)b.xC()}Qx(){return this.hp.every(b=>b.Qx())}Jx(){return this.hp.reduce((b,f)=>b+f.Jx(),0)}}}
{"use strict";const d=self.B;d.I.lO=class{constructor(a,b=1E3){this.ra=a;this.nba=b;this.Oj=[];this.ra.s4(this)}A(){this.nd();this.ra.e9(this);this.ra=null}nd(){for(const a of this.Oj)a.A();d.C(this.Oj)}oC(){const a=new d.I.d4(this.ra);this.Oj.push(a);this.Oj.length>this.nba&&this.Oj.shift().A();return a}$V(a){for(const b of this.Oj){if(b.yh>=a)break;if(b.Dm)break;b.xC()}}pL(a,b){if(b<=a)return NaN;let f=0;for(const c of this.Oj){if(c.yh>=b)break;if(!(c.yh<a))if(c.Qx())f+=c.Jx();else return NaN}return f}MK(a){for(let b=
0,f=this.Oj.length;b<f;++b){const c=this.Oj[b];if(c.yh<a)c.A();else{0<b&&this.Oj.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.aj,b=a.Dw,f=a.Ml,c={powerPreference:"default",dU:!0,alpha:!1,IJ:!1,depth:!1,nJ:!1,sU:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new d.rd(0,0,1,0,1,1,0,1),h=f.create(),l=f.create(),n=new d.rd,p=new d.Rect;let q=null;d.ow&&(self.Jla=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Kla=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.cca()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.I.c4=class extends d.I.V1{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.IJ&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.sU&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.L=G;this.iR=G.getContextAttributes();y.IJ&&!this.iR.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.dd=z;this.$f=b.create();this.zm=!1;this.eG=f.create();this.Hl=!!y.depth;this.wu=!(!y.depth||!y.nJ);this.So=this.Hl;this.rH=!1;this.Ag=null;this.pH=!0;this.uR=this.vR=0;this.TA=this.fS=this.pB=this.AB=null;this.bw=
new Float32Array(24E3);this.gS=new Uint16Array(12E3);this.pp=new Float32Array(16E3);this.ZS=new Float32Array(32E3);this.BS=this.UA=this.ie=this.Qh=0;this.mp=this.Xo=null;this.qu=[];this.hc=this.tm=0;this.Kd=null;this.qc=d.m(d.I.IV,this);this.mv=d.m(d.Ya,1,1,1,1);this.Fm=this.ll=null;this.EH=this.GH=0;this.gba=new d.Rect;this.LA=-1;this.YH=0;this.Zv="(unavailable)";this.uH=!1;this.Fu=this.ku=this.iI=null;this.XH=0;this.dba=!!y.dU;this.wd=null;this.jz=new Set;this.wT=[];this.aY(this.gS)}Gk(){return!0}async Tx(){super.Tx();
var v=this.L;this.mv.tn(1,1,1,1);this.Fm=this.ll=null;this.UA=this.Qh=0;this.BS=23988;d.C(this.qu);this.hc=this.tm=0;this.Kd=this.Xo=null;this.gba.set(0,0,1,1);var y=this.qc;y.Sh=null;y.Il=null;y.Zi=null;b.set(y.JB,1,1,1,1);y.clearColor.tn(0,0,0,0);y.SJ.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.GH=v.ONE;this.EH=v.ONE_MINUS_SRC_ALPHA;this.Y6(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Hl?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.So=this.Hl;this.rH=!1;this.TA=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.TA);v.bufferData(v.ARRAY_BUFFER,this.ZS.byteLength,v.DYNAMIC_DRAW);this.AB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.AB);v.bufferData(v.ARRAY_BUFFER,this.bw.byteLength,v.DYNAMIC_DRAW);this.pB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.pB);v.bufferData(v.ARRAY_BUFFER,this.pp.byteLength,v.DYNAMIC_DRAW);
this.fS=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.fS);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.gS,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.LA=v.getParameter(v.MAX_TEXTURE_SIZE);this.YH=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.YH&&(this.YH=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Zv=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.iI=v.getExtension("KHR_parallel_shader_compile");
d.ow&&(q=v.getExtension("WEBGL_lose_context"));if(this.dba)if(1===this.dd){if("Chromium"!==d.Wc.Mw||81<=d.Wc.sC||"undefined"!==typeof document)this.wd=v.getExtension("EXT_disjoint_timer_query")}else this.wd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.XH=(this.ku=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.ku.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.dd&&this.Hl&&this.wu&&(this.Fu=v.getExtension("WEBGL_depth_texture"),
!this.Fu))throw Error("no depth texture support");v=d.I.It;y=v.rx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.rx(!0),"<tilemap>"]].map(A=>this.DC({src:A[0]},A[1],A[2])));this.kB=v[0];this.mp=v[1];this.jB=v[2];this.BI=v[3];this.Fj()}async DC(v,y,A){v=await d.I.It.La(this,v,y,A);this.t4(v);return v}b2(){this.Xo=null}jd(v,y,A){if(this.R!==v||this.O!==y||A){this.fj();A=this.L;var G=this.qc;this.R=v;this.O=y;this.RQ(v,y);this.Ep(this.eG,v/y);this.eo(this.eG);this.mp&&(A.useProgram(this.mp.Df()),this.mp.dR(this.KA),this.Xo=this.mp,this.qc.Sh=this.mp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Fm=this.ll=null;this.Hl&&this.pH&&this.CF(this.R,this.O);this.Kd&&this.Kd.rQ(this.R,this.O);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Kd=null;G.Il=null;G.Zi=null}}CF(v,y){const A=this.L;this.Ag&&this.vR===v&&this.uR===y||(this.wu?(this.Ag&&A.deleteTexture(this.Ag),this.Ag=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Ag),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.dd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Fu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Fu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Ag&&A.deleteRenderbuffer(this.Ag),this.Ag=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Ag),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.dd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.vR=v,this.uR=y)}H2(v,y){this.Hl&&(this.pH=!1,this.CF(v,y))}s2(){this.Hl&&(this.pH=!0,this.CF(this.R,this.O))}RQ(v,y){const A=this.$f;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.uc().D_(v,y),b.set(A,0,0,v,y),this.hc=0}eo(v){f.$i(this.KA,v)||(this.uc().A_(v),f.pa(this.KA,v),this.hc=0,this.zm=!0)}uN(){let v,y;var A=this.Kd;null===A?(v=this.eG,y=this.aa(),A=this.$()):
(v=A.Zj,y=A.aa(),A=A.$());this.eo(v);this.RQ(y,A)}oq(v){f.$i(this.VH,v)||(this.uc().x_(v),f.pa(this.VH,v),this.hc=0,this.zm=!0)}Z1(){this.zm=!1}uc(){const v=this.qu;this.tm===v.length&&v.push(new d.I.b4(this.qc));return v[this.tm++]}fj(){0===this.tm||this.Qn()||(this.jaa(),this.b6(),this.hc=this.UA=this.ie=this.Qh=this.tm=0)}jaa(){const v=this.L;0<this.UA&&(v.bindBuffer(v.ARRAY_BUFFER,this.TA),v.bufferSubData(v.ARRAY_BUFFER,0,this.ZS.subarray(0,this.UA)));0<this.Qh&&(v.bindBuffer(v.ARRAY_BUFFER,this.AB),
v.bufferSubData(v.ARRAY_BUFFER,0,this.bw.subarray(0,this.Qh)),v.bindBuffer(v.ARRAY_BUFFER,this.pB),v.bufferSubData(v.ARRAY_BUFFER,0,this.pp.subarray(0,this.ie)))}b6(){const v=this.qu;for(let y=0,A=this.tm;y<A;++y)v[y].qa()}qe(){return this.mv.Sa}Ye(v,y,A,G){const z=this.mv;z.OB(v,y,A,G)||(z.tn(v,y,A,G),this.uc().rD(z),this.hc=0,this.Ei=null)}Kk(v){const y=this.mv;y.Sa!==v&&(y.es(v),this.uc().rD(y),this.hc=0,this.Ei=null)}im(v){const y=this.mv;y.ed(v)||(y.set(v),this.uc().rD(y),this.hc=0,this.Ei=null)}nt(){this.Ye(1,
1,1,1)}Kf(v){v!==this.ll&&(this.uc().C_(v),this.ll=v,this.hc=0)}tF(){this.ll=null}Jf(v){v=this.u6(v);this.BF(v[0],v[1])}BF(v,y){if(v!==this.GH||y!==this.EH)this.uc().u_(v,y),this.GH=v,this.EH=y,this.hc=0,this.Ei=null}oN(){this.BF(this.L.ONE,this.L.ONE_MINUS_SRC_ALPHA)}eE(){this.BF(this.L.ONE,this.L.ZERO)}Rect(v){this.RM(v.S,v.M,v.ea,v.Z)}RM(v,y,A,G){this.E1(v,y,A,y,A,G,v,G)}Nt(){let v=this.Qh;v>=this.BS&&(this.fj(),v=0);1===this.hc?this.qu[this.tm-1].dl+=6:(this.uc().t_(v),this.hc=1)}QF(v){v.Wda(this.bw,
this.Qh,this.ou+this.Eu);this.Qh+=12}rd(v){this.Nt();this.QF(v);m.Ug(this.pp,this.ie);this.ie+=8}E1(v,y,A,G,z,F,H,J){this.Nt();const M=this.bw;let P=this.Qh;const R=this.ou+this.Eu;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.Qh=P;m.Ug(this.pp,this.ie);this.ie+=8}eq(v,y){this.Nt();this.QF(v);y.Vda(this.pp,this.ie);this.ie+=8}F1(v,y){this.Nt();this.QF(v);y.Ug(this.pp,this.ie);this.ie+=8}gy(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.Nt();const X=
this.bw;let ba=this.Qh;const Y=this.ou+this.Eu;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.Qh=ba;Z.Ug(this.pp,this.ie);this.ie+=8}gY(v,y){f.pa(h,this.KA);f.pa(l,this.VH);this.uN();const [A,G]=this.Ix(this.Kd);var z=this.os(0,0,100*self.devicePixelRatio,0,0,G);this.oq(z);if("crop"===v&&this.Kd&&y){v=this.R/2;z=this.O/2;const J=y.aa();y=y.$();var F=this.Kd.aa(),H=this.Kd.$();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.cj(p);p.set(0,P,F,M+P);p.Jl(J,y);this.eq(n,p)}else v=A/2,z=G/2,this.RM(-v,z,v,-z);this.eo(h);this.oq(l)}sq(v){this.Xo!==v&&(this.uc().y_(v),this.Xo=v,this.hc=0,this.Ei=null)}PN(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Xo;var X=Z.VR;const ba=!!T.length;if(X&&!Z.CV(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.BV(T)){var Y=this.uc();Y.z_();X&&(Z.T2(y,A,G,z,F,H,J,M,P,R),X=Y.kf,X[0]=F,X[1]=H,y.Ug(X,2),X[6]=M,X[7]=P,A.Ug(X,12),y=Y.Ao,z.Ug(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.Ug(Y.qT,0),Y.Mg=R,Y.dl=J,Y.Me=Z.Rr.P?v?v.Xd():null:null);ba&&(Z.y2(T),d.Cc(Y.dB,T));this.hc=0}}yn(){this.uc().k_();this.hc=0}nd(v){this.uc().j_(v);this.hc=0}Ft(){}ws(){super.ws();this.L.flush()}aW(){this.Hl&&this.Kd&&this.Kd.Lc&&(this.uc().i_(this.So),this.hc=0)}og(v){v=!!v;this.So!==v&&this.Hl&&(this.So=v,this.uc().v_(v),this.hc=0)}tt(v){v=!!v;if(this.wu&&this.rH!==v){if(v&&this.So)throw Error("depth still enabled");this.rH=v;this.uc().w_(v);this.hc=0}}ZV(){for(const v of this.jz)v.$V(this.yh)}Qn(){return!this.L||
this.L.isContextLost()||this.uH}Hk(){super.Z0();d.I.Ey.Hk();d.I.mO.Hk();d.I.TD.Hk();for(const v of this.jz)v.nd();this.Fu=this.ku=this.iI=this.wd=null;this.XH=0;this.Zv="(unavailable)";this.Ag=this.mp=this.Xo=null;for(const v of this.Ov.values())v.Hk()}async OD(){this.uH=!0;await this.Tx();this.uH=!1;for(const v of this.Ov.values())v.OD(this);this.jd(this.R,this.O,!0)}Vw(v,y){if(this.Qn())throw Error("context lost");this.fj();const A=d.m(d.I.Ey,this);A.c5(v,y);return A}Ww(v,y){if(this.Qn())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.iC&&"clamp-to-edge"!==y.iC||y.jC&&"clamp-to-edge"!==y.jC;if(!d.Xb.ImageBitmapOptions||!this.io()&&A)return d.Xb.ImageBitmap?createImageBitmap(v).then(G=>d.pk(()=>this.Vw(G,y))):v instanceof Blob?d.NV(v).then(G=>this.Ww(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.pk(()=>this.Vw(v,y))):d.pk(()=>this.Vw(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
d.pk(()=>this.Vw(G,y)))}HK(v,y,A){this.fj();const G=d.m(d.I.Ey,this);G.P4(v,y,A);return G}U3(v,y){this.fj();y.ZQ(v,void 0)}ej(v){v&&(v.D3(),0<v.zc||(this.fj(),v===this.ll&&(this.L.bindTexture(this.L.TEXTURE_2D,null),this.ll=null),v===this.Fm&&(this.L.activeTexture(this.L.TEXTURE1),this.L.bindTexture(this.L.TEXTURE_2D,null),this.L.activeTexture(this.L.TEXTURE0),this.Fm=null),v.UE()))}yW(v){let y=this.R,A=this.O,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.fj();const z=d.m(d.I.mO,this);z.O4(y,A,Object.assign({kU:G},v));this.Kd=null;this.qc.Il=null;this.qc.Zi=null;return z}qg(v,y=!0){v!==this.Kd&&(v&&v.kA&&v.rQ(this.R,this.O),this.uc().B_(v),this.Kd=v,this.hc=0,y&&this.uN())}Bk(){return this.Kd}Ix(v){return v?[v.aa(),v.$()]:[this.R,this.O]}EK(v){2>this.dd||this.Kd&&0<this.Kd.pl?(this.eE(),this.nt(),this.cx(v,"stretch")):(this.uc().g_(v,this.Kd),this.hc=0)}cx(v,y="stretch"){v=v.Xd();if(!v)throw Error("not a texture-backed render target");
this.Kf(v);this.gY(y,v)}Sp(v){2>this.dd||(this.uc().p_(v.Cg),this.hc=0)}LW(v){this.qg(null);this.fj();const y=v.Xd();y===this.ll&&(this.L.bindTexture(this.L.TEXTURE_2D,null),this.ll=null);y===this.Fm&&(this.L.activeTexture(this.L.TEXTURE1),this.L.bindTexture(this.L.TEXTURE_2D,null),this.L.activeTexture(this.L.TEXTURE0),this.Fm=null);v.UE()}DK(){this.og(!0);this.uc().n_();this.hc=0}CK(){this.og(!1);this.uc().m_();this.hc=0}BK(){this.og(!0);this.uc().l_();this.hc=0}zE(v){this.Gj()&&(this.uc().F_(v),
this.hc=0)}HC(v){this.Gj()&&(this.uc().o_(v),this.hc=0)}faa(v){const y=new Promise(A=>u.add({resolve:A,cca:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}T_(){return!!this.iR.desynchronized}yY(){let v=0;for(const y of d.I.Ey.Sba())v+=y.UC();return v}io(){return 2<=this.dd}Gj(){return!!this.wd}s4(v){this.jz.add(v)}e9(v){this.jz.delete(v)}Y6(v){this.X6([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={fU:null,gU:null,EU:null,getTime:null,DU:null};self.B.I.QX=class{constructor(a){a=Object.assign({},d,a);this.oR=a.fU;this.Eaa=a.gU;this.Haa=a.EU;this.Faa=a.getTime;this.Gaa=a.DU}gL(a){return this.oR?this.oR(a):[a.aa(),a.$()]}Bk(a){return this.Eaa(a)}M1(a,b){this.Haa(a,b)}Da(){return this.Faa()}iy(a){this.Gaa(a)}}}
{"use strict";const d=self.B,a=self.aj.Ml,b=d.m(d.Rect),f=d.m(d.Rect),c=d.m(d.Rect),g=d.m(d.Rect),m=a.create(),h=a.create(),l={NB:null,hU:null,SB:null,DJ:!1},n={Wr:null,QB:!1,uJ:!1,EJ:!1,oU:!1,mU:!1,fC:!1},p={HB:null,Ela:null,mn:0,devicePixelRatio:1,pw:1,VB:0,bs:null,jw:null,bU:null,WT:0,XT:0,ZU:!1};d.I.me=class{constructor(q,u){u=Object.assign({},l,u);this.Gg=q;this.pG=u.NB;this.yu=u.hU;this.pR=u.SB;this.xz=null;this.eB=[];this.Gv=[];this.op=[];this.yg=0;this.Sr=this.xu=this.wR=this.zm=this.iA=this.oH=
!1;this.bp=0;this.wl=[null,null,null];this.lS=!!u.DJ;this.Mc=this.$c=this.uu=this.tu=0;this.ym=null;this.nv=d.m(d.Rect);this.$k=d.m(d.Rect);this.ul=d.m(d.Rect);this.Br=d.m(d.Rect);this.Pm=d.m(d.Rect);this.LH=this.Vq=1;this.cd=this.KH=0;this.Hz=null;this.wG=this.vG=0;this.$I=!1;this.Zj=a.create();this.vv=a.create()}A(){d.C(this.op);d.C(this.eB);d.C(this.Gv);this.pR=this.yu=this.pG=this.ym=null}tC(q,u){u=Object.assign({},n,u);d.C(this.op);this.uu=this.tu=0;this.iA=this.oH=!1;this.bp=0;this.Sr=!!u.fC;
d.Cc(this.eB,q);if(0!==q.length){if(u.Wr){if(u.Wr.length!==q.length)throw Error("incorrect indexMap length");d.Cc(this.Gv,u.Wr)}else{d.C(this.Gv);for(let v=0,y=q.length;v<y;++v)this.Gv.push(v)}for(var w of q)this.tu+=w.ER,this.uu+=w.FR,w.paa&&(this.oH=!0),w.wB&&(this.iA=!0);!(w=1!==q.length||q[0].kG||q[0].tR)&&(w=!u.fC)&&(w=q[0],w=0!==w.ER||0!==w.FR);if(w||u.QB||q[0].Yp()||u.uJ||u.EJ||!this.Sr&&q[0].wB){this.xu=!1;w=this.F$(q[0],u);u=this.E$(q.Td(-1),u);var r=0;w&&(this.bp=1,this.op.push(d.m(d.I.me.nh.u1,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.bp=Math.max(this.bp,q),this.op.push(d.m(d.I.me.nh.OV,this,r,q,v)),r=q):(this.bp=1,this.op.push(d.m(d.I.me.nh.eY,this,-1,1,v)),r=1);u&&this.op.push(d.m(d.I.me.nh.s1,this,r,0))}else this.xu=!0}}F$(q,u){return u.QB||u.EJ||!this.Sr&&q.wB||q.Yp()||q.kG&&(u.mU||q.hb().Gk()&&u.oU)||0!==this.tu||0!==this.uu}E$(q,u){return u.uJ||q.kG||q.tR}bo(q,u,w){w=Object.assign({},p,w);this.Hz=u;this.ym=w.HB;this.yg=w.mn;this.Vq=
w.devicePixelRatio;this.LH=w.pw;this.KH=w.VB;this.cd=this.Gg.Da();this.zm=!1;q.Z1();this.oH&&this.O8();if(this.xu)this.h9(q,w);else{var [r,v]=this.Gg.gL(q);this.e$(q,r,v);this.G4(w);q.nt();q.kq(0);q.qt(0);this.xz=w.bU;this.vG=w.WT||0;this.wG=w.XT||0;this.$I=!!w.ZU;this.g8(q);this.wl[0]=u;this.wl[1]=1<=this.bp?this.oP():null;this.wl[2]=2===this.bp?this.oP():null;for(const y of this.op)y.ot(q,this.pP(y.Fba),this.pP(y.xR));this.wl[1]&&this.mQ(this.wl[1]);this.wl[2]&&this.mQ(this.wl[2]);this.wl.fill(null);
this.f8(q);this.xz=this.ym=this.Hz=null}}e$(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.$c===u&&this.Mc===w||this.AO(q,u,w,0,0,this.Zj,this.vv);this.$c=u;this.Mc=w}AO(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.Ep(y,u/w);q=q.os(r,v,100*self.devicePixelRatio,r,v,w);a.pa(A,q)}G4(q){this.nv.pa(q.bs);q.jw?this.$k.pa(q.jw):this.$k.set(0,0,this.$c,this.Mc);this.ul.pa(this.$k);this.ul.Jl(this.$c,this.Mc);q=q.pw*q.devicePixelRatio;this.$k.AJ(this.tu*q,this.uu*q);this.Pm.pa(this.$k);this.Pm.Jl(this.$c,
this.Mc);this.$k.fa(0,0,this.$c,this.Mc);this.Br.pa(this.$k);this.Br.Jl(this.$c,this.Mc)}g8(q){this.wR=q.So;this.Sr&&(q.og(!1),this.iA&&q.tt(!0))}e8(q){q.nt();this.Sr||(q.og(!1),this.iA&&q.tt(!0))}f8(q){q.tt(!1);q.og(this.wR);this.zm=q.zm}DO(){this.Pm.fa(0,0,1,1)}pP(q){return 0>q?null:this.wl[q]}oP(){return this.Gg.Bk(this)}mQ(q){this.Gg.M1(q,this)}K6(q){return this.eB[q]}XE(q){this.xz?this.xz(this,q,()=>this.pG(q,this)):this.pG(q,this);this.xu||this.e8(q)}o7(q){if(this.Sr)return!0;if(0!==this.vG||
0!==this.wG)return!1;const [u,w]=q.Ix(q.Bk());return u!==this.$c||w!==this.Mc?!1:!0}FQ(q,u){let w=this.Zj,r=this.vv;if(u&&!this.o7(q)){w=m;r=h;const [v,y]=q.Ix(q.Bk());this.AO(q,v,y,this.vG,this.wG,w,r)}q.eo(w);q.oq(r)}O8(){this.Gg.iy(this)}uP(q){return this.pR(this.Gv[q])}t$(q,u){let w=this.Pm,r=this.Br,v=this.ul;q.Gk()&&(f.pa(w),f.qn(),w=f,c.pa(r),c.qn(),r=c,g.pa(v),g.qn(),v=g);this.RO(q,u,r,v,w,1/this.$c,1/this.Mc)}f$(q,u){let w=this.Br,r=this.ul,v=1/this.$c,y=1/this.Mc;if(this.yu){let {QU:G,RU:z,
PU:F}=this.yu(this.ym);G||(b.set(0,0,0,0),G=b);z||(z=this.$c);F||(F=this.Mc);r=w=G;v=1/z;y=1/F}else q.Gk()&&(c.pa(w),c.qn(),w=c,g.pa(r),g.qn(),r=g);let A=this.Pm;q.Gk()&&(A=f,A.pa(this.Pm),A.qn());this.RO(q,u,w,r,A,v,y)}RO(q,u,w,r,v,y,A){u=this.uP(u);q.PN(this.Hz,v,w,r,this.nv,y,A,this.Vq,this.LH,this.KH,this.cd,u)}h9(q,u){var w=this.eB[0];const r=q.So,v=w.wB;v&&(q.og(!1),q.tt(!0),this.Pm.set(0,0,1,1),this.ul.set(0,0,1,1));q.sq(w);q.Jf(this.yg);q.qg(this.Hz);let y;this.ul.set(0,0,1,1);if(w.ET&&this.yu){const {QU:A,
RU:G,PU:z}=this.yu(this.ym);A&&this.ul.pa(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Gg.gL(q);w=1/A;y=1/G}u.bs?this.nv.pa(u.bs):this.nv.set(0,0,0,0);u=this.uP(0);q.PN(null,this.Pm,this.ul,this.ul,this.nv,w,y,this.Vq,this.LH,this.KH,this.cd,u);q.kq(0);this.XE(q);v&&(q.tt(!1),q.og(r))}}}"use strict";self.B.I.me.nh=class{constructor(d,a,b,f=-1){this.vh=d;this.Fba=a;this.xR=b;this.Ka=f}$h(){return this.vh}Ca(){return this.Ka}Df(){return this.$h().K6(this.Ca())}ot(){}};
{"use strict";const d=self.B;d.I.me.nh.u1=class extends d.I.me.nh{constructor(a,b,f,c){super(a,b,f,c)}ot(a,b,f){b=this.$h();a.oN();a.Fj();a.qg(f,b.$I);a.yn();b.XE(a);b.DO()}}}{"use strict";const d=self.B,a=d.m(d.Rect),b=d.m(d.rd);d.I.me.nh.s1=class extends d.I.me.nh{constructor(f,c,g,m){super(f,c,g,m)}ot(f,c,g){const m=this.$h();f.Fj();f.qg(g);m.FQ(f,!0);f.Jf(m.yg);f.Kf(c.Xd());b.cj(m.$k);a.pa(m.Br);a.qn();f.eq(b,a);m.lS&&f.Sp(c)}}}
{"use strict";const d=self.B;d.I.me.nh.eY=class extends d.I.me.nh{constructor(a,b,f,c){super(a,b,f,c)}ot(a,b,f){b=this.$h();a.qg(f,b.$I);a.yn();a.eE();a.sq(this.Df());b.f$(a,this.Ca());b.XE(a);b.DO()}}}
{"use strict";const d=self.B,a=d.m(d.Rect),b=d.m(d.rd);d.I.me.nh.OV=class extends d.I.me.nh{constructor(f,c,g,m){super(f,c,g,m)}ot(f,c,g){const m=this.$h();f.qg(g);(g=0===this.xR)?f.Jf(m.yg):(f.yn(),f.eE());f.sq(this.Df());m.t$(f,this.Ca());f.Kf(c.Xd());m.FQ(f,g);b.cj(m.$k);a.pa(m.Br);a.qn();f.eq(b,a);m.lS&&f.Sp(c)}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.YZ=class{constructor(f){d=f;Object.defineProperties(this,{Fca:{value:{},writable:!1},storage:{value:new self.$Z(d),writable:!1},Dma:{value:d.gl,writable:!1}});d.Sd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Sd.addEventListener("keyup",c=>a.delete(c.key));d.Ub().addEventListener("window-blur",()=>a.clear());d.gl&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}a7(f){Object.defineProperties(this.Fca,f)}addEventListener(f,c){d.Sd.addEventListener(f,c)}removeEventListener(f,c){d.Sd.removeEventListener(f,c)}get cU(){return d.ux()}random(){return d.fq()}get WB(){return d.Kb().Tu}get keyboard(){const f=d.uG.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get tU(){const f=d.uG.tU;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get SU(){const f=d.uG.SU;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.bq("runtime","alert",{message:f+(d.gl?" [via Web Worker]":"")})}}}"use strict";self.SZ=class{constructor(){}};{"use strict";const d=self.Wg;self.$Z=class{constructor(a){this.Pv=a.H6()}getItem(a){d.Jd(a);return this.Pv.getItem(a)}setItem(a,b){d.Jd(a);return this.Pv.setItem(a,b)}removeItem(a){d.Jd(a);return this.Pv.removeItem(a)}clear(){return this.Pv.clear()}keys(){return this.Pv.keys()}}}
{"use strict";const d=self.Wg,a=new WeakMap;self.XZ=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.ya(),writable:!1}});b.G().OP(this,b)}addEventListener(b,f){d.Jd(b);d.Bj(f);a.get(this).Sd.addEventListener(b,f)}removeEventListener(b,f){d.Jd(b);d.Bj(f);a.get(this).Sd.removeEventListener(b,f)}*jU(){for(const b of a.get(this).ia())yield b.ah()}qJ(b){d.If(void 0);d.If(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var f=
a.get(this),c=f.G();b=c.Kb().X(b);if(!b)throw Error("invalid layer");f=c.BC(f,b,void 0,void 0,void 0);c=c.ga();c.ke(!0);f.fz();c.ke(!1);return f.ah()}}}
{"use strict";const d=self.Wg,a=new WeakMap;self.VZ=class{constructor(b){a.set(this,b);const f=[],c=b.Ja,g=c.hg().length;for(let m=0;m<g;++m)f.push(new self.pD(c,m));Object.defineProperties(this,{name:{value:b.ya(),writable:!1},index:{value:b.Ca(),writable:!1}})}addEventListener(b,f){d.Jd(b);d.Bj(f);a.get(this).Sd.addEventListener(b,f)}removeEventListener(b,f){d.Jd(b);d.Bj(f);a.get(this).Sd.removeEventListener(b,f)}get width(){return a.get(this).aa()}set width(b){a.get(this).pi(b)}get height(){return a.get(this).$()}set height(b){a.get(this).ki(b)}set scale(b){d.kh(b);
a.get(this).lE(b)}get scale(){return a.get(this).Od}set angle(b){d.kh(b);a.get(this).Yc(b)}get angle(){return a.get(this).Oa()}set scrollX(b){d.If(b);a.get(this).li(b)}get scrollX(){return a.get(this).Bf()}set scrollY(b){d.If(b);a.get(this).mi(b)}get scrollY(){return a.get(this).Cf()}scrollTo(b,f){d.If(b);d.If(f);const c=a.get(this);c.li(b);c.mi(f)}set AU(b){d.Jd(b);const f=a.get(this);if("perspective"===b)f.ON();else if("orthographic"===b)f.LN();else throw Error("invalid projection");}get AU(){return a.get(this).ff?
"orthographic":"perspective"}}}
{"use strict";const d=self.B,a=self.Wg,b=new WeakMap,f=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...f.entries()].map(m=>[m[1],m[0]])),g=d.m(d.Ya);self.UZ=class{constructor(m){b.set(this,m);const h=[],l=m.Ja,n=l.hg().length;for(let p=0;p<n;++p)h.push(new self.pD(l,p));Object.defineProperties(this,{name:{value:m.ya(),writable:!1},index:{value:m.Ca(),
writable:!1},WB:{value:m.Vb().Tu,writable:!1}})}get isVisible(){return b.get(this).Fc()}set isVisible(m){b.get(this).oi(m)}get opacity(){return b.get(this).qe()}set opacity(m){m=d.fa(+m,0,1);isNaN(m)||b.get(this).Kk(m)}set scale(m){a.kh(m);b.get(this).MN(m)}get scale(){return b.get(this).Od}set angle(m){a.kh(m);b.get(this).Yc(m)}get angle(){return b.get(this).Of}set Fw(m){a.kh(m);b.get(this).Ze(m)}get Fw(){return b.get(this).Za()}set mn(m){a.Jd(m);m=f.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).Jf(m)}get mn(){return c.get(b.get(this).gj())}set backgroundColor(m){a.WD(m);if(3>m.length)throw Error("expected 3 elements");g.hs(m[0],m[1],m[2]);m=b.get(this);const h=m.Vk;h.Kl(g)||(h.Yi(g),m.G().Y())}get backgroundColor(){const m=b.get(this).Vk;return[m.Qa,m.Ua,m.Ta]}set scrollX(m){a.If(m);const h=b.get(this);h.yt(!0);h.li(m)}get scrollX(){return b.get(this).Bf()}set scrollY(m){a.If(m);const h=b.get(this);h.yt(!0);h.mi(m)}get scrollY(){return b.get(this).Cf()}scrollTo(m,h){a.If(m);
a.If(h);const l=b.get(this);l.yt(!0);l.li(m);l.mi(h)}}}
{"use strict";const d=self.B,a=self.Wg,b=new WeakMap,f=new WeakMap;function c(m){let h=f.get(m);if(h)return h;h=d.m(d.Event.Ub);f.set(m,h);return h}let g=null;self.Zs=class{constructor(){b.set(this,g);const m={wf:{value:g.G().Li,writable:!1},NJ:{value:g.F().Uu,writable:!1},uid:{value:g.Sc,writable:!1}};g.y6(m);g.t6(m);Object.defineProperties(this,m);g.G().OP(this,g)}static vg(m){g=m}static Aq(){return g}au(){const m=f.get(this);m&&(m.A(),f.delete(this));b.delete(this)}addEventListener(m,h,l){a.Jd(m);
a.Bj(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Jd(m);a.Bj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.B,a=self.Wg,b=self.Zs,f=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.m(d.Ya);self.Rx=class m extends b{constructor(){super();var h=b.Aq();f.set(this,h);const l=[];var n=h.j();if(h=n.Sf){n=n.F().Ja.hg().length;for(let p=0;p<n;++p)l.push(new self.pD(h,p))}}get WB(){return f.get(this).j().Vb().Tu}get rU(){return f.get(this).j().X().Uaa}get x(){return f.get(this).j().ja()}set x(h){h=
+h;const l=f.get(this).j();isNaN(h)||l.ja()===h||(l.rg(h),l.Ea())}get y(){return f.get(this).j().ka()}set y(h){h=+h;const l=f.get(this).j();isNaN(h)||l.ka()===h||(l.mh(h),l.Ea())}get Fw(){return f.get(this).j().Za()}set Fw(h){h=+h;const l=f.get(this),n=l.j();isNaN(h)||n.Za()===h||(n.Ze(h),l.G().Y())}get width(){return f.get(this).j().aa()}set width(h){h=+h;const l=f.get(this).j();isNaN(h)||l.aa()===h||(l.pi(h),l.Ea())}get height(){return f.get(this).j().$()}set height(h){h=+h;const l=f.get(this).j();
isNaN(h)||l.$()===h||(l.ki(h),l.Ea())}get angle(){return f.get(this).j().Oa()}set angle(h){h=d.je(+h);const l=f.get(this).j();isNaN(h)||l.Oa()===h||(l.Yc(h),l.Ea())}yJ(){f.get(this).j().Ec().Kda()}get isVisible(){return f.get(this).j().Fc()}set isVisible(h){h=!!h;const l=f.get(this),n=l.j();n.Fc()!==h&&(n.oi(h),l.G().Y())}get opacity(){return f.get(this).j().qe()}set opacity(h){h=d.fa(+h,0,1);const l=f.get(this),n=l.j();isNaN(h)||n.qe()===h||(n.Kk(h),l.G().Y())}set mn(h){a.Jd(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=f.get(this);l.j().Jf(h);l.G().Y()}get mn(){return g.get(f.get(this).j().gj())}get zIndex(){return f.get(this).j().gh()}tf(h,l){a.If(h);a.If(l);return f.get(this).j().yC(+h,+l)}getParent(){const h=f.get(this).Ba();return h?h.ah():null}*xw(){for(const h of f.get(this).xw())yield h.ah()}*children(){for(const h of f.get(this).children())yield h.ah()}*jk(){for(const h of f.get(this).jk())yield h.ah()}removeChild(h){a.XD(h,m);const l=f.get(this);h=f.get(h);
l.Aj(h)}}}{"use strict";const d=new WeakMap;self.zfa=class extends self.Rx{constructor(){super();d.set(this,self.Zs.Aq())}focus(){d.get(this).la.YK()}blur(){d.get(this).la.oK()}}}
{"use strict";const d=self.B,a=self.Wg,b=new WeakMap,f=new WeakMap;function c(m){let h=f.get(m);if(h)return h;h=d.m(d.Event.Ub);f.set(m,h);return h}let g=null;self.TL=class{constructor(){b.set(this,g);const m={wf:{value:g.G().Li,writable:!1},behavior:{value:g.uk().NY(),writable:!1}};Object.defineProperties(this,m)}static vg(m){g=m}static Aq(){return g}get instance(){return b.get(this).W.ah()}au(){const m=f.get(this);m&&(m.A(),f.delete(this));b.delete(this)}addEventListener(m,h,l){a.Jd(m);a.Bj(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Jd(m);a.Bj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.TZ=class{constructor(a){d.set(this,a);Object.defineProperties(this,{wf:{value:a.G().Li,writable:!1}})}}}
{"use strict";const d=self.B,a=self.Wg,b=new WeakMap;self.pD=class{constructor(f,c){b.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).hg()[this.index].ya()}getParameter(f){a.kh(f);f=Math.floor(+f);const c=b.get(this).vk(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.Ya?[f.Qa,f.Ua,f.Ta]:f}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.GV=class extends d.ca{constructor(f,c){super();var g=c.exportType;this.g=f;this.GA=new Map;this.rr=new Map;this.lba=new Map;this.jA="cordova"===g;this.tS=!!c.isiOSCordova;this.av=!!c.isFileProtocol;this.Hba=c.supportedAudioFormats||{};this.qaa=
new Map;this.aS=this.JR="";this.Fz="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.UF=[];this.dG=new Map;this.fJ=[];this.EA=[];this.WR=!1;this.BA=this.cG=this.Xv=0;this.bH=!1;this.kba=d.m(d.I1,()=>this.bP(),50);this.oI=new d.LM(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(f,g);(g=c.projectData)&&(f["data.json"]=g);for(const [m,h]of Object.entries(f))this.GA.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.lba.set(m,h);new self.SZ(this)}A(){this.GA.clear();for(const f of this.rr.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.rr.clear();for(const f of this.UF)f.A();d.C(this.UF);this.dG.clear();d.C(this.EA);this.g=null}G(){return this.g}j$(f){this.JR=f}o$(f){this.aS=f}gF(f){return this.GA.has(f.toLowerCase())}Oy(f){return this.GA.get(f.toLowerCase())||null}uL(f){if(!this.gF(f))return f;f=f.toLowerCase();var c=this.rr.get(f);c||(c=this.Oy(f),c=URL.createObjectURL(c),
this.rr.set(f,c));return c}tk(f,c){c=c||this.Fz;const g=this.Oy(f);if(g)return Promise.resolve(g);if(d.HD(f)){const m=f.toLowerCase();return this.jA&&this.av?this.GK(m):"local"===c?this.oI.Dc(()=>d.tk(m)):d.tk(m)}return d.tk(f)}us(f){const c=this.Oy(f);if(c)return d.MV(c);if(d.HD(f)){const g=f.toLowerCase();return this.jA&&this.av?this.FK(g):"local"===this.Fz?this.oI.Dc(()=>d.us(g)):d.us(g)}return d.us(f)}vs(f){const c=this.Oy(f);if(c)return d.nK(c);if(d.HD(f)){const g=f.toLowerCase();return this.jA&&
this.av?this.rW(g):"local"===this.Fz?this.oI.Dc(()=>d.vs(g)):d.vs(g)}return d.vs(f)}async WK(f){f=await this.vs(f);return JSON.parse(f)}LE(f,c){return this.g.bq("runtime","cordova-fetch-local-file",{filename:f,as:c})}rW(f){return this.LE(f,"text")}async GK(f){const c=await this.LE(f,"buffer");f?(f=f.split("."),f=2>f.length?"":b.get(f.Td(-1).toLowerCase())||""):f="";return new Blob([c],{type:f})}async qW(f){f=f.toLowerCase();var c=this.rr.get(f);if(c)return c;c=await this.GK(f);c=URL.createObjectURL(c);
this.rr.set(f,c);return c}FK(f){return this.LE(f,"buffer")}lZ(f,c=""){if(d.tD(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.gF(f)?Promise.resolve(this.uL(f)):this.jA&&this.av?this.qW(c+f):Promise.resolve(c+f.toLowerCase())}dy(f){if(f.uw&&!a.has(f.uw))throw Error("invalid load policy");let c=this.dG.get(f.url);if(c)return c;c=d.m(d.UL,this,{url:f.url,size:f.size||0,uw:f.uw||this.Fz});this.UF.push(c);this.dG.set(c.dk,c);this.WR||(this.Xv+=c.am(),
this.EA.push(c.lM().then(()=>this.tO(c.am()))));return c}async jO(){try{await Promise.all(this.EA),this.BA=1}catch(f){console.error("Error loading: ",f),this.bH=!0,this.bP()}}N2(){this.WR=!0}tO(f){this.cG+=f;this.kba.VV()}bP(){const f=d.m(d.Event,"loadingprogress");this.BA=d.fa(this.cG/this.Xv,0,1);f.progress=this.BA;this.g.Ub().dispatchEvent(f)}B$(f){d.Cc(this.fJ,f);this.fJ.length&&this.EA.push(this.P7())}P7(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [c,g,m]of this.fJ)this.Xv+=
m,f.push(this.O7(c,g).then(()=>this.tO(m)));return Promise.all(f)}async O7(f,c){try{const g=await this.lZ(c,this.JR),m=new FontFace(f,`url('${g}')`);this.g.gl?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${f}': `,g)}}M_(){return!!this.Hba["audio/webm; codecs=opus"]}V9(f){for(const [c,g,m]of f)this.qaa.set(c,{fileName:c,Wla:g.map(h=>({type:h[0],Sla:h[1],ima:c+h[1],fileSize:h[2]})),Ema:m})}}}
{"use strict";const d=self.B;d.FV=class extends d.ca{constructor(a,b){super();this.td=a;this.g=a.G();this.dk=b.url;this.Fr=b.size;this.RH=b.uw;this.su=null;this.xH=!1;this.Hm=null}A(){this.su=this.g=this.td=this.Hm=null}am(){return this.Fr}lM(){return"local"===this.RH||this.su?(this.xH=!0,Promise.resolve()):this.Hm?this.Hm:this.Hm=this.td.tk(this.dk,this.RH).then(a=>{this.xH=!0;this.Hm=null;return this.su=a}).catch(a=>console.error("Error loading resource: ",a))}ED(){return this.xH}qY(){return this.su?
Promise.resolve(this.su):this.Hm?this.Hm:this.td.tk(this.dk,this.RH)}}}
{"use strict";const d=self.B,a=new d.LM,b=new Set;d.UL=class extends d.FV{constructor(f,c){super(f,c);this.fk=this.rp=null;this.zc=0;this.cS=this.eS=-1;b.add(this)}A(){this.ii();if(0!==this.zc)throw Error("released image asset which still has texture references");this.rp=null;b.delete(this);super.A()}static aq(){for(const f of b)f.rp=null,f.fk=null,f.zc=0}dt(f,c){c=c||{};this.zc++;if(this.fk)return Promise.resolve(this.fk);if(this.rp)return this.rp;c.RT=this.g.V.vT;return this.rp=this.qY().then(g=>
a.Dc(()=>f.Ww(g,c).then(m=>{this.rp=null;if(0===this.zc)return f.ej(m),null;this.fk=m;this.eS=m.aa();this.cS=m.$();return this.fk}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}ii(){if(0>=this.zc)throw Error("texture released too many times");this.zc--;0===this.zc&&this.fk&&(this.fk.hb().ej(this.fk),this.fk=null)}Xd(){return this.fk}aa(){return this.eS}$(){return this.cS}}}
{"use strict";const d=self.B;function a(b,f){return b.j().ik-f.j().ik}d.T1=class extends d.ca{constructor(b,f,c){super();this.ba=f;this.T=c;this.D=[];this.cv=!0;this.Si=new Set;this.Yu=!1}A(){d.C(this.D);this.Si.clear()}Xc(){d.C(this.D);this.cv=!0;this.Si.clear();this.Yu=!1}w2(){this.cv=!1}Sn(){if(!this.D.length)return!0;if(this.D.length>this.Si.size)return!1;this.cF();return!0}sD(b){this.Si.has(b)?(this.Si.delete(b),0===this.Si.size&&(this.Yu=!1)):(this.D.push(b),this.cv=1===this.D.length)}jh(b){this.Si.add(b);
this.Yu=!0;50<=this.Si.size&&this.cF()}cF(){this.Yu&&(this.D.length===this.Si.size?this.Xc():(d.dg(this.D,this.Si),this.Si.clear(),this.Yu=!1))}a6(){this.cv||(this.D.sort(a),this.cv=!0)}FC(b){this.cF();this.a6();this.D.length&&b.push(this.D)}}}
{"use strict";const d=self.B;d.U1=class extends d.ca{constructor(a,b){super();this.rG=a;this.qG=b;this.Ci=d.m(d.ht)}A(){this.Ci.A();this.Ci=null}Ul(a,b,f){let c=this.Ci.U(a,b);return c?c:f?(c=d.m(d.T1,this,a,b),this.Ci.Set(a,b,c),c):null}ri(a){return Math.floor(a/this.rG)}si(a){return Math.floor(a/this.qG)}ko(a,b,f){if(b)for(let c=b.S,g=b.ea;c<=g;++c)for(let m=b.M,h=b.Z;m<=h;++m){if(f&&f.tf(c,m))continue;const l=this.Ul(c,m,!1);l&&(l.jh(a),l.Sn()&&this.Ci.An(c,m))}if(f)for(let c=f.S,g=f.ea;c<=g;++c)for(let m=
f.M,h=f.Z;m<=h;++m)b&&b.tf(c,m)||this.Ul(c,m,!0).sD(a)}hy(a,b){let f=this.ri(a.S);const c=this.si(a.M),g=this.ri(a.ea);for(a=this.si(a.Z);f<=g;++f)for(let m=c;m<=a;++m){const h=this.Ul(f,m,!1);h&&h.FC(b)}}z0(a){let b=a.S;const f=a.M,c=a.ea;for(a=a.Z;b<=c;++b)for(let g=f;g<=a;++g){const m=this.Ul(b,g,!1);m&&m.w2()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.rd,f=[];new d.Rect;new d.Rect;const c=self.aj,g=c.gC,m=c.Dw,h=c.Ml;h.create();const l=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),w=d.m(d.Ht);d.m(d.Rect);function r(z,F){return z.j().ik-F.j().ik}function v(z,F){return z.j().Za()-F.j().Za()}const y=[],A=[],G=[];d.jM=class extends d.ca{constructor(z,F,H){super();this.Fg=z;this.g=z.G();this.WS=F;this.Fa=H[0];this.Ka=-1;this.eb=H[2];this.hv=!!H[3];this.Vk=d.m(d.Ya);this.Vk.Ol(H[4].map(M=>
M/255));this.Xj=!!H[5];this.lf=H[6];this.mf=H[7];this.$a=d.m(d.Ya,1,1,1,H[8]);this.VA=d.m(d.Ya);this.sH=H[9];this.Bba=H[17];this.BT=H[18];this.Nba=H[10];this.Qm=H[11];this.yg=H[12];this.Ee=null;this.Od=1;this.Tc=H[16];this.Lh=this.Kh=this.Of=0;this.cl=!1;this.$f=d.m(d.Rect);this.HT=d.m(d.Rect);this.gn=d.m(d.Rect);this.Zj=h.create();this.BH=!0;this.vv=h.create();this.yH=!0;this.GT=d.m(d.I.W3);this.yA=!0;this.sT=[];this.hS=H[14];this.Tj=[];this.Dz=[];this.iS=new Map;this.D=[];this.wo=this.hJ=!1;const J=
this.g.V;this.Ja=d.m(d.rk,this,H[15]);this.vh=d.m(d.I.me,J.GG,{NB:(M,P)=>{P=P.ym;const R=P.Bk();M.im(P.cD());M.cx(R);M.Sp(R);J.Zn(R)},SB:M=>this.Ja.vk(M)});this.dw=this.ql=!0;this.Dr=null;this.FH=[];this.sA=!1;this.hba=d.m(d.Rect,0,0,-1,-1);this.Jaa=d.m(d.Rect,0,0,-1,-1);this.Uaa=new self.UZ(this);this.eR();this.mo()&&(this.Dr=d.m(d.U1,this.g.Ig,this.g.Hg));this.Tm=H[19].map(M=>d.m(d.jM,this.Fg,this,M))}vg(){for(const z of this.hS){const F=this.g.Ue(z[1]);this.Fg.rO(F);F.Uq||F.tN(z);this.Tj.push(z);
this.iS.set(z[2],z)}d.Cc(this.sT,this.Tj);this.hS=null}A(){this.g=this.Fg=null}QY(z){return this.iS.get(z)}uW(z){const F=this.Fg.To;let H=0;const J=this.Tj;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.Ue(M[1]);let Z=!0;if(!T.mD()||F)M=this.g.Yh(M,this,!0),z.push(M),T.Hf()&&(Z=!1,this.Dz.push(M.Sc));Z&&(J[H]=J[P],++H)}d.Qe(J,H);this.g.Gd();this.sg()}ug(z,F){const H=z.j();if(H.X()!==this)throw Error("instance added to wrong layer");this.D.push(z);0!==H.Za()&&(this.wo=!0);F&&this.mo()&&
z.j().Ea();this.sg()}R7(z){this.D.includes(z)||(this.D.push(z),0!==z.j().Za()&&(this.wo=!0),this.sg())}I8(z){const F=z.j();if(F.X()!==this)throw Error("instance added to wrong layer");this.D.unshift(z);0!==F.Za()&&(this.wo=!0);this.sg()}ro(z,F){const H=this.D.indexOf(z);0>H||(F&&this.mo()&&z.j().oQ(),this.D.splice(H,1),this.sg(),this.TP())}DQ(){this.wo=!0}TP(){0===this.D.length&&(this.wo=!1)}JF(z){if(z){z=new Set;for(var F of this.D){var H=F.j().ik;0<=H&&z.add(H)}F=-1;for(const J of this.D)if(H=J.j(),
!(0<=H.ik)){for(++F;z.has(F);)++F;H.dz(F)}}this.D.sort(r)}Z5(){for(const z of this.D)z.F().Hf()||this.g.Bn(z);this.g.Gd();d.C(this.D);this.wo=!1;this.sg()}lt(z,F,H,J,M){const P=this.g.ga(),R=this.g.Hc,T=z.Va,Z=[];for(const Y of this.Tj){var X=Y[0];if(F.tf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.VK(X))continue}else continue;X=this;var ba=this.g.Ra();this.Vb()!==ba&&((X=ba.sL(this.ya()))||(X=ba.ZC(this.Ca())));ba=this.g.Yh(Y,X,!1,void 0,void 0,!1,M);X.vE(ba);X=ba.j();X.$p(H,J);X.Ea();P.ke(!0);ba.fz();
P.ke(!1);Z.push(ba)}}return Z}Vb(){return this.Fg}ya(){return this.Fa}DF(z){this.Ka=z}Ca(){return this.Ka}G(){return this.g}ij(){return this.g.ij()}$h(){this.Wt();return this.vh}Wt(){const z=this.Qp();if(this.ql||z!==this.dw){var F=this.Ja.Nf;this.vh.tC(F.map(H=>H.Df()),{Wr:F.map(H=>H.Ca()),QB:!z,fC:!0});this.ql=!1;this.dw=z}}oh(){this.Ja.oh();this.ql=!0}mo(){return this.Nba&&!this.BT}Z2(){this.sA=!1}Fc(){for(const z of this.wda())if(!z.hv)return!1;return!0}oi(z){z=!!z;this.hv!==z&&(this.hv=z,this.g.Y())}yt(z){z=
!!z;if(this.cl!==z){if(this.cl=z)z=this.Vb(),this.Kh=z.Bf(),this.Lh=z.Cf();this.om();this.g.Y()}}li(z){var F=this.Vb();const H=F.CL();F=F.DL();z>F&&(z=F);z<H&&(z=H);this.Kh!==z&&(this.Kh=z,this.cl&&(this.om(),this.g.Y()))}mi(z){var F=this.Vb();const H=F.EL();F=F.BL();z>F&&(z=F);z<H&&(z=H);this.Lh!==z&&(this.Lh=z,this.cl&&(this.om(),this.g.Y()))}Bf(){return this.cl?this.Kh:this.Vb().Bf()}Cf(){return this.cl?this.Lh:this.Vb().Cf()}fF(){const z=this.Vb();return[z.gD(),z.hD()]}NL(z,F){var H=this.HT;if(0===
z)F.pa(H);else{let R=H.cs(),T=H.ds();var J=this.$K(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.fF();if(.5!==X||.5!==ba){const Y=this.Ds();var M=this.g,P=100/Y;J=(X-.5)*M.bg/P;M=(ba-.5)*M.ag/P;P=this.Oa();0!==P&&(w.set(J,M),w.rotate(P),J=w.ba,M=w.T);z=d.eC(Y,0,z);R+=d.Ud(J,0,z);T+=d.Ud(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}qe(){return this.$a.Sa}Kk(z){z=d.fa(z,0,1);this.$a.Sa!==z&&(this.$a.es(z),this.eR(),this.g.Y())}eR(){this.VA.pa(this.$a);this.VA.TJ()}cD(){return this.VA}Qp(){return this.$a.OB(1,
1,1,1)}a3(z){this.Qm!==z&&(this.Qm=z,this.om(),this.g.Y())}V2(z,F){if(this.lf!==z||this.mf!==F)if(this.lf=z,this.mf=F,this.om(),this.g.Y(),1!==this.lf||1!==this.mf)for(const H of this.D)H.F().AF(!0)}Ze(z){this.Tc!==z&&(this.Tc=z,this.g.Y())}Za(){return this.Tc}Yc(z){z=d.je(z);this.Of!==z&&(this.Of=z,this.om(),this.g.Y())}Oa(){return d.je(this.Fg.Oa()+this.Of)}LZ(){return 0<this.D.length}dF(){return this.UD()&&this.BT?(d.Cc(G,this.D),G.sort((z,F)=>this.I$(z,F)),G):this.D}yO(z){d.ln(z,this.dF());for(const F of this.Tm)F.Fc()&&
0<F.qe()&&F.yO(z)}I$(z,F){var H=this.Vb().nR,J=H[0],M=H[1];H=H[2];var P=z.j();const R=F.j();F=P.ja()-J;z=P.ka()-M;P=P.Za()-H;J=R.ja()-J;M=R.ka()-M;H=R.Za()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}m3(z){z=!!z;this.Xj!==z&&(this.Xj=z,this.g.Y())}J2(z){z=!!z;this.sH!==z&&(this.sH=z,this.g.Y())}TM(){return!this.G().Gl||!this.Bba}UD(){return!this.TM()}Pp(){return this.UD()&&this.Vb().$aa}cE(){if(!this.Pp())return!1;for(const z of this.Tm)if(!z.cE())return!1;return!0}Jf(z){this.yg!==z&&(this.yg=z,this.g.Y())}gj(){return this.yg}GZ(){for(const z of this.Tm)if(z.xy())return!0;
return!1}*IU(){for(const z of this.Tm)yield*z.IU();yield this}*kda(){let z=this.WS;for(;z;)yield z,z=z.WS}*wda(){yield this;yield*this.kda()}g0(z){return this===z||this.lf===z.lf&&this.mf===z.mf&&this.Od===z.Od&&this.Qm===z.Qm&&this.Of===z.Of&&this.Bf()===z.Bf()&&this.Cf()===z.Cf()}X8(z){0!==z.size&&0<d.dg(this.D,z)&&(this.TP(),this.sg())}sg(){this.sA=this.hJ=!1}hu(){if(!this.hJ){this.D.sort(v);if(this.mo())for(let z=0,F=this.D.length;z<F;++z){const H=this.D[z].j();H.dz(z);this.Dr.z0(H.Dv)}else for(let z=
0,F=this.D.length;z<F;++z)this.D[z].j().dz(z);this.hJ=!0}}G0(z,F,H){var J=z.j();F=F.j();if(J.X()!==this||F.X()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.gh();F=F.gh();if(J===F+(H?1:-1))return!1;d.$ba(this.D,J);J<F&&F--;H&&F++;F===this.D.length?this.D.push(z):this.D.splice(F,0,z);this.sg();return!0}Z7(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=z[J],Z=F[M];T.j().ik<Z.j().ik?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);
for(;M<R;++M)H.push(F[M]);return H}Y7(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.Z7(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}X7(z){for(;1<z.length;)z=this.Y7(z);return z[0]}J6(){this.hu();d.C(f);this.Dr.hy(this.$f,f);return f.length?1===f.length?f[0]:this.X7(f):[]}xy(){return this.Fc()&&0<this.qe()&&this.WO()}WO(){if(this.LZ()||!this.Xj)return!0;for(const z of this.Tm)if(z.WO())return!0;return!1}Gt(){return this.sH||!this.Qp()||0!==this.gj()||this.Ja.Xs()}dE(){if(this.Gt())return!0;
for(const z of this.Tm)if(z.dE())return!0;return!1}Bk(){return this.Ee}$K(z){if(this.Fg.ff)return 1;{const F=this.Ds();return F/(F-z)}}Ds(){return 100/this.di()}om(){this.yA=this.yH=!0}Py(z){this.yH&&(this.E4(z,this.vv),this.yH=!1);return this.vv}r6(){var z=this.g,F=this.Vb(),H=z.Zl(),J=z.OA,M=z.PA;J=(this.Bf()-J)*this.lf+J;var P=(this.Cf()-M)*this.mf+M;z.il&&(J=Math.round(J),P=Math.round(P));M=(J+0)*H;J=(P+0)*H;F=F.ff?100:this.Ds();const [R,T]=this.fF();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*
z.bg*H/Z;z=(T-.5)*z.ag*H/Z;H=this.Oa();0!==H&&(w.set(P,z),w.rotate(H),P=w.ba,z=w.T);M+=P;J+=z}return[M,J,F]}E4(z,F){const H=this.g;var J=this.Vb();const M=H.Zl();if(this.Pp()){g.pa(p,J.nR);g.pa(q,J.Baa);g.pa(u,J.Caa);J=H.OA;const P=H.PA,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.lf+J;p[1]=(p[1]-P)*this.mf+P;p[2]*=Math.max(this.lf,this.mf);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,M,M,1);g.multiply(p,p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.r6();g.set(p,P,R,T);g.set(q,P,R,T-100);
J=this.Oa();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.qK(F,p,q,u,H.V.Zh());1!==M&&(g.set(l,M,M,1),h.scale(F,F,l))}u$(){this.yA=this.BH=!0}Qy(z){this.BH&&(this.F4(z),this.BH=!1);return this.Zj}F4(z){const F=this.g.V,[H,J]=this.fF();this.Fg.ff?z.SV(this.Zj,F.kj(),F.Zh()):.5===H&&.5===J?h.pa(this.Zj,F.Gz):z.Ep(this.Zj,F.kj()/F.Zh(),H,J)}bz(z){z.eo(this.Qy(z));let F;F=this.Py(z);z.oq(F)}v1(z){this.bz(z);z.kq(this.Za())}Zg(z,F,H){var J=this.g.V;const M=this.Gt();var P=null;let R=null;if(this.g.zD()&&
z.Gk()){const T=J.tL(this);T&&(R=T.oC(),z.zE(R))}M?(P={bj:this.g.md},"low"===J.zh&&(P.width=J.kj(),P.height=J.Zh()),this.Ee=P=this.g.zs(P),z.qg(P),this.Xj&&z.yn()):(this.Ee=F,z.qg(F));this.Xj||z.nd(this.Vk);this.Fg.UO(z,this.Ee,this.Tm,M&&this.Xj);this.bz(z);z.kq(this.Za());z.og(this.UD());this.di()>Number.EPSILON&&(this.hu(),J=this.mo()&&0===this.Za()&&!this.wo,this.Pp()?this.P5(z):J?this.Q5(z):this.TO(z,this.dF()));z.kq(0);z.qt(0);M&&(z.og(!1),this.R5(z,P,F,H));R&&z.HC(R);this.Ee=null}TO(z,F){const H=
this.$f,J=this.Ee,M=this.Vb().ff,P=this.Vb().SL();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.j();ba.Fc()&&ba.dM(H,P,M)&&this.Ok(X,ba,z,J)}}P5(z){const F=this.Ee,H=this.Bq(),J=this.dF();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.j();if(!P.Fc()||!P.Tp(H)){++T;continue}(!M.gq()||0<P.Lc)&&A.push(M);var R=M.j().Ff();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.j();if(Y.Fc()&&Y.Tp(H)){if(Y.Ff()!==R)break;ba.gq()?(0<Y.Lc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==
y.length||y[0].sM()){this.M5(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.j(),P.$y(!0),this.Ok(M,P,z,F),P.$y(!1)}else{this.Ok(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.j(),R.X().Ok(P,R,z,F))}T=X;d.C(y);d.C(A)}}M5(z,F){const H=this.Ee;z.DK();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.j();M.Yy(!0);this.YE(J,M,z)}z.CK();for(let P=0,R=F.length;P<R;++P)J=F[P],M=J.j(),this.Ok(J,M,z,H),M.Yy(!1);z.BK()}Q5(z){var F=this.Dr;const H=this.Jaa,J=this.hba,M=this.$f;H.set(F.ri(M.S),
F.si(M.M),F.ri(M.ea),F.si(M.Z));this.sA&&H.ed(J)?F=this.FH:(F=this.J6(),this.sA=!0,J.pa(H));this.TO(z,F);F!==this.FH&&d.Cc(this.FH,F)}Ok(z,F,H,J){F.Xs()?this.O5(z,F,H,J):this.YE(z,F,H)}YE(z,F,H){F=F.np;H.Ei!==F&&F.AV();z.Zg(H)}O5(z,F,H,J){this.N5(z,F,H,J)&&this.bz(H)}N5(z,F,H,J){const M=F.Sf.$h();M.bo(H,J,{HB:z,mn:F.gj(),devicePixelRatio:this.g.Js(),pw:this.g.Ks()*this.di(),VB:this.Oa(),bs:F.Ec(),jw:M.xu?null:this.h7(F),bU:null,WT:null,XT:null,ZU:null});H.kq(this.Za());return M.zm}R5(z,F,H,J){const M=
this.g;0===this.Ja.Nf.length?(z.qg(H),z.Fj(),J&&0===this.yg&&this.Qp()?z.EK(F):(z.Jf(this.yg),z.im(this.VA),z.cx(F)),z.Sp(F),M.Zn(F)):this.$h().bo(z,H,{HB:this,mn:this.gj(),devicePixelRatio:M.Js(),pw:M.Ks()*this.di(),VB:this.Oa(),bs:this.$f,jw:null,DJ:!0})}MN(z){this.Od!==z&&(this.Od=z,this.Fg.Kw(),this.om(),this.g.Y())}Zl(){return this.di()*this.g.Zl()}jj(){return this.di()*this.g.jj()}di(){return(this.Od*this.Fg.Od-1)*this.Qm+1}FE(){var z=this.g.OA,F=this.g.PA,H=(this.Bf()-z)*this.lf+z,J=(this.Cf()-
F)*this.mf+F;z=this.di();F=this.g.bg/z;z=this.g.ag/z;H-=F/2;let M=J-z/2;this.g.il&&(H=Math.round(H),M=Math.round(M));J=this.HT;J.set(H,M,H+F,M+z);F=this.Oa();0!==F&&(a.pa(J),a.offset(-J.cs(),-J.ds()),b.zda(a,F),b.yJ(a),a.offset(J.cs(),J.ds()),J.pa(a));F=this.Tc;this.NL(F,this.$f);this.Pp()?this.UV(F,this.gn):this.gn.pa(this.$f)}UV(z,F){var H=this.g.V,J=H.Zc;H=H.Kc;const [M,P]=this.qk(0,0,z),[R,T]=this.qk(J,0,z),[Z,X]=this.qk(J,H,z),[ba,Y]=this.qk(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=
Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}qk(z,F,H=0){return this.I4(z,F,H,this.jj())}I4(z,F,H,J){const M=this.g;var P=M.hb();const R=this.di();m.set(n,0,0,M.bg/R,M.ag/R);z/=J;F=n[3]-F/J;J=this.Qy(P);P=this.Py(P);return d.I.O3(z,F,H,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}Wn(z,F){return this.MP(z,F,0,this.jj())}yj(z,F,H=0){return this.MP(z,F,H,this.Zl()*this.ij())}MP(z,F,H,J){var M=
this.g,P=M.hb();const R=this.di();m.set(n,0,0,M.bg/R,M.ag/R);M=this.Qy(P);P=this.Py(P);return d.I.x1(z,F,H,P,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}h7(z){var F=z.Ec(),H=z.Ff();z=z.Lc;const J=H+z,M=F.S,P=F.M,R=F.ea;F=F.Z;if(this.Pp()){if(this.nm(M,P,H)||this.nm(R,P,H)||this.nm(R,F,H)||this.nm(M,F,H)||0<z&&(this.nm(M,P,J)||this.nm(R,P,J)||this.nm(R,F,J)||this.nm(M,F,J)))return null}else if(J>=this.Ds())return null;let [T,Z]=this.yj(M,P,H),[X,ba]=this.yj(R,F,H);if(0!==this.Oa()||0<z){const [Y,va]=this.yj(R,
P,H),[ta,ya]=this.yj(M,F,H);if(0<z){const [Na,Sa]=this.yj(M,P,J),[Ta,Ua]=this.yj(R,P,J),[Wa,eb]=this.yj(R,F,J),[fb,Pa]=this.yj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}Bq(){this.yA&&(this.eaa(),this.yA=!1);return this.GT}eaa(){var z=this.g.hb();const F=this.Qy(z);
z=this.Py(z);this.GT.TV(z,F)}nm(z,F,H){return this.Bq().N_(z,F,H)}da(){return{s:this.Od,a:this.Of,vl:this.$f.S,vt:this.$f.M,vr:this.$f.ea,vb:this.$f.Z,v:this.hv,bc:this.Vk.toJSON(),t:this.Xj,sx:this.Kh,sy:this.Lh,hosp:this.cl,px:this.lf,py:this.mf,c:this.$a.toJSON(),sr:this.Qm,fx:this.Ja.sd(),cg:this.Dz}}oa(z){this.Od=z.s;this.Of=z.a;this.$f.set(z.vl,z.vt,z.vr,z.vb);this.hv=!!z.v;this.Vk.Ol(z.bc);this.Xj=!!z.t;z.hasOwnProperty("sx")&&(this.Kh=z.sx);z.hasOwnProperty("sy")&&(this.Lh=z.sy);z.hasOwnProperty("hosp")&&
(this.cl=!!z.hosp);this.lf=z.px;this.mf=z.py;this.$a.Ol(z.c);this.Qm=z.sr;d.Cc(this.Dz,z.cg);d.Cc(this.Tj,this.sT);const F=new Set(this.Dz);let H=0;for(let J=0,M=this.Tj.length;J<M;++J)F.has(this.Tj[J][2])||(this.Tj[H]=this.Tj[J],++H);d.Qe(this.Tj,H);this.Ja.hd(z.fx);this.ql=!0;this.JF(!1);this.sg()}vE(z){if(!this.D.includes(z))if(z.We()){var F=[...z.jk()];F.push(z);F.sort((J,M)=>{J=J.j().Mp();M=M.j().Mp();return J-M});for(var H of F)if(H.Ob())for(const J of H.ud)F.includes(J)||(z=[...J.jk()],z.push(J),
z.sort((M,P)=>{M=M.j().Mp();P=P.j().Mp();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.ug(J,!0)}else if(this.ug(z,!0),z.Ob())for(F of z.ud)if(H=[...F.jk()],H.push(F),H.sort((J,M)=>{J=J.j().Mp();M=M.j().Mp();return J-M}),H&&H.length)for(const J of H)this.ug(J,!0)}}}
{"use strict";const d=self.B,a=self.Vg;d.m(d.Rect);d.m(d.Rect);const b=d.m(d.Rect),f=d.m(d.Ya),c=self.aj.gC,g=[],m=[],h=[],l=[];let n=null;function p(q,u){n!==q&&(q.v1(u),n=q)}d.l0=class extends d.ca{constructor(q,u,w){super();this.ab=q;this.g=q.G();this.Fa=w[0];this.xba=w[1];this.wba=w[2];this.R=w[1];this.O=w[2];this.xA=!!w[3];this.ff=!!w[4];this.yB=w[5];this.zB=w[6];this.DR=w[7];this.Nc=null;this.eb=w[8];this.Ka=u;this.Lh=this.Kh=0;this.Od=1;this.Of=0;this.hr=new Set;this.Og=new Set;this.Sv=new Set;
this.Qq=[];this.gH=[];this.$aa=!1;this.nR=c.create();this.Baa=c.create();this.Caa=c.create();this.bB=[];this.Pb=[];this.ES=new Map;this.FS=new Map;const r=this.g.V;this.Ja=d.m(d.rk,this,w[11]);this.vh=d.m(d.I.me,r.GG,{NB:(v,y)=>{y=y.ym.Bk();v.nt();v.cx(y);v.Sp(y);r.Zn(y)},SB:v=>this.Ja.vk(v)});this.ql=!0;this.JT=!1;this.Ee=null;this.ep={};this.To=!0;this.Tu=new self.VZ(this);this.Sd=d.m(d.Event.Ub);for(const v of w[9])this.bB.push(d.m(d.jM,this,null,v));this.Pb=[...this.Rba()];for(let v=0,y=this.Pb.length;v<
y;++v)q=this.Pb[v],q.DF(v),q.vg(),this.ES.set(q.ya().toLowerCase(),q),this.FS.set(q.eb,q);for(const v of w[10]){w=this.g.Ue(v[1]);if(!w)throw Error("missing nonworld object class");w.Uq||w.tN(v);this.gH.push(v);this.rO(w)}}A(){for(const q of this.Pb)q.A();d.C(this.Pb);this.Sv.clear();this.g=this.ab=this.Nc=null}G(){return this.g}ya(){return this.Fa}Ca(){return this.Ka}$h(){this.Wt();return this.vh}Wt(){const q="low"===this.g.V.zh;if(this.ql||this.JT!==q){var u=this.Ja.Nf;this.vh.tC(u.map(w=>w.Df()),
{Wr:u.map(w=>w.Ca()),uJ:q,fC:!0});this.ql=!1;this.JT=q}}oh(){this.Ja.oh();this.ql=!0}vL(){let q=this.Pb[0].di();for(let u=1,w=this.Pb.length;u<w;++u){const r=this.Pb[u];if(0!==r.lf||0!==r.mf)q=Math.min(q,r.di())}return q}sP(){return.5*this.g.bg/this.vL()}tP(){return.5*this.g.ag/this.vL()}CL(){return this.xA?-Infinity:this.sP()}DL(){return this.xA?Infinity:this.aa()-this.sP()}EL(){return this.xA?-Infinity:this.tP()}BL(){return this.xA?Infinity:this.$()-this.tP()}li(q){const u=this.CL(),w=this.DL();
q>w&&(q=w);q<u&&(q=u);this.Kh!==q&&(this.Kh=q,this.Jj(),this.g.Y())}Bf(){return this.Kh}mi(q){const u=this.EL(),w=this.BL();q>w&&(q=w);q<u&&(q=u);this.Lh!==q&&(this.Lh=q,this.Jj(),this.g.Y())}Cf(){return this.Lh}Kw(){this.li(this.Bf());this.mi(this.Cf());for(const q of this.Pb)q.cl&&(q.li(q.Bf()),q.mi(q.Cf()))}p3(q,u){if(this.yB!==q||this.zB!==u)this.yB=q,this.zB=u,this.Z_()&&(this.Gq(),this.Jj(),this.g.Y())}gD(){return this.ff?.5:this.yB}hD(){return this.ff?.5:this.zB}SL(){const q=this.gD(),u=this.hD();
return 0>q||1<q||0>u||1<u}ON(){this.ff&&(this.ff=!1,this.Gq(),this.Jj(),this.g.Y())}LN(){this.ff||(this.ff=!0,this.Gq(),this.Jj(),this.g.Y())}Z_(){return!this.ff}lE(q){this.Od!==q&&(this.Od=q,this.Jj(),this.Kw(),this.g.Y())}Yc(q){q=d.je(q);this.Of!==q&&(this.Of=q,this.Jj(),this.g.Y())}Oa(){return this.Of}aa(){return this.R}pi(q){!isFinite(q)||1>q||(this.R=q)}$(){return this.O}ki(q){!isFinite(q)||1>q||(this.O=q)}*Rba(){for(const q of this.bB)yield*q.IU()}X(q){return"number"===typeof q?this.ZC(q):this.sL(q.toString())}ZC(q){q=
d.fa(Math.floor(q),0,this.Pb.length-1);return this.Pb[q]}sL(q){return this.ES.get(q.toLowerCase())||null}Ax(q){return this.FS.get(q)||null}Gq(){for(const q of this.Pb)q.u$()}Jj(){for(const q of this.Pb)q.om()}$Y(){let q=this.bB.filter(u=>u.xy())[0];for(;q;){if(!q.Xj)return f.Yi(q.Vk),f.es(1),f;if(q.Gt())return f.tn(0,0,0,0),f;q=q.Tm.filter(u=>u.xy())[0]}f.tn(0,0,0,0);return f}kP(){return[...this.hr]}rO(q){if(q.Ob())for(const u of q.zg.tl)this.hr.add(u);else this.hr.add(q)}P6(){return[...this.Og]}jF(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.pW(this.Og,q.Og),q.Og.clear());q=[];for(const w of this.hr)this.Og.has(w)||(q.push(w.Xp(u)),this.Og.add(w));return Promise.all(q)}async qM(q){if(q.Va)throw Error("cannot load textures for family");var u=this.g.hb();!u||u.Qn()||this.Og.has(q)||(this.Og.add(q),u=q.Xp(u),this.r4(u),await u,q.ey(),this.g.Y())}r4(q){this.Sv.add(q);q.then(()=>this.Sv.delete(q)).catch(()=>this.Sv.delete(q))}Y3(){return Promise.all([...this.Sv])}D0(q){if(q.Va||0<q.D.length)throw Error("cannot unload textures");
this.g.hb()&&this.Og.has(q)&&(this.Og.delete(q),q.$n())}U$(q,u){if(q!==this&&u)for(const w of this.Og)w.Hf()||q.hr.has(w)||(w.$n(),this.Og.delete(w))}Zt(){this.Og.clear()}async VQ(q){const u=this.g,w=this.ab,r=u.ga();this.DR&&(this.Nc=r.jL(this.DR),this.Nc.OF());w.JQ(this);this.R=this.xba;this.O=this.wba;this.Kh=u.Ig/2;this.Lh=u.Hg/2;this.Kw();this.a8(q);this.W4();this.To||this.Y4();this.HO(this.Qq);this.X4();w.dW();u.Gd();const v=this.g.kaa;await Promise.all(v);d.C(v);if(!u.Wj){for(const y of this.Qq)y.t3();
for(const y of this.Qq)y.XQ()}d.C(this.Qq);await Promise.all([...this.hr].map(y=>y.QD(this.g.hb())));q&&(u.Ub().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.Cn(new d.Event("beforeprojectstart")));await this.Cn(new d.Event("beforelayoutstart"));u.Wj||await u.ye(d.H.lb.na.AM,null,null);await this.Cn(new d.Event("afterlayoutstart"));q&&(u.Ub().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.Cn(new d.Event("afterprojectstart")));r.v9(w);await this.Y3();this.Gq();this.Jj();
this.To=!1}a8(q){for(const w of this.g.Hc)if(!w.Va&&w.gf)for(const r of w.ia()){const v=r.j();var u=v.X();u=d.fa(u.Ca(),0,this.Pb.length-1);u=this.Pb[u];v.du(u);u.R7(r)}if(!q)for(const w of this.Pb)w.JF(!1)}W4(){for(const q of this.Pb)q.uW(this.Qq),q.FE()}Y4(){let q=!1;for(const [w,r]of Object.entries(this.ep)){const v=this.g.Dx(parseInt(w,10));if(v&&!v.Va&&v.mD()){for(const y of r){var u=null;if(v.gf&&(u=this.Ax(y.w.l),!u))continue;u=this.g.Yh(v,u,!1,0,0,!0);u.hd(y);q=!0;this.Qq.push(u)}d.C(r)}}for(const w of this.Pb)w.JF(!0),
w.sg();q&&(this.g.Gd(),this.g.jQ())}HO(q){for(const w of q){if(!w.Ob())continue;const r=w.j(),v=w.Gn();for(const y of w.F().zg.tl)if(y!==w.F()){var u=y.ia();u.length>v?w.yq(u[v]):(u=r?this.g.Yh(y,r.X(),!0,r.ja(),r.ka(),!0):this.g.Yh(y,null,!0,0,0,!0),this.g.Gd(),y.gz(),w.yq(u),q.push(u))}}}X4(){for(const q of this.gH)this.g.Ue(q[1]).Ob()||this.g.Yh(q,null,!0)}U4(){const q=[],u=this.gH;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.Ue(y[1]);A.Hf()?A.Ob()&&A.zg.HZ()||q.push(this.g.Yh(y,
null,!0)):(u[w]=y,++w)}d.Qe(u,w);this.g.Gd();this.HO(q)}lt(q,u,w,r,v,y){if(w)return w.lt(q,u,r,v,y);w=[];for(const A of this.Pb)w.push(A.lt(q,u,r,v,y));return w.flat()}async M$(){const q=this.ab;this.g.Wj||await this.g.ye(d.H.lb.na.c1,null,null);q.FN(!0);this.g.ga().Qw();this.To||this.G9();for(const u of this.Pb)u.Z5();for(const u of this.g.Hc)if(!(u.Hf()||u.gf||u.tb().Em||u.Va)){for(const w of u.ia())this.g.Bn(w);this.g.Gd()}q.FN(!1);q.Kb()===this&&q.JQ(null)}D9(q){const u=q.F().eb.toString();this.ep.hasOwnProperty(u)||
(this.ep[u]=[]);this.ep[u].push(q.sd())}G9(){for(const q of this.Pb){q.hu();for(const u of q.D){const w=u.F();!w.Hf()&&w.mD()&&this.D9(u)}}}c2(){this.ep={};this.To=!0}Bk(){return this.Ee}Gt(){const q=this.g,u=q.hb().Gk();return"low"===q.V.zh||u&&q.vB||"low-latency"===q.Pq||this.Ja.Xs()||u&&q.Gl}Zg(q){const u=this.g.V,w=this.Gt();if(w){"low-latency"!==this.g.Pq&&(q.qg(null),q.yn());const r={bj:this.g.md,HJ:this.g.vB||this.Ja.Xs()};"low"===u.zh&&(r.width=u.kj(),r.height=u.Zh());this.Ee=this.g.zs(r)}else this.Ee=
null;q.qg(this.Ee);q.nd(this.$Y());this.g.Gl&&q.aW();for(const r of this.Pb)r.FE();this.UO(q,this.Ee,this.bB,!0);w&&(q.og(!1),this.S5(q,this.Ee));this.Ee=null}UO(q,u,w,r){w=w.filter(v=>v.xy());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.cE()&&!A.dE()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.cE()&&!z.dE())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].GZ()){this.K5(q,u,g);v+=g.length;d.C(g);continue}d.C(g)}A.Zg(q,u,r&&0===v);++v}}S5(q,u){const w=this.g;0===this.Ja.Nf.length?
(q.qg(null),q.Fj(),q.EK(u),q.Sp(u),w.Zn(u)):(b.set(0,0,w.bg,w.ag),this.$h().bo(q,null,{HB:this,mn:3,devicePixelRatio:this.g.Js(),pw:this.g.Ks()*this.Od,VB:this.Oa(),bs:b,jw:null,DJ:!0}))}K5(q,u,w){w[0].Xj||(f.Yi(w[0].Vk),f.es(1),q.nd(f));var r=this.g.V;q.og(!0);for(var v of w)v.hu(),v.yO(m);v=w[0];w=null;this.g.zD()&&q.Gk()&&(r=r.tL(v))&&(w=r.oC(),q.zE(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.j(),A=y.X();if(y.Fc()&&y.Tp(A.Bq())){(!v.gq()||0<y.Lc)&&l.push(v);var G=v.j().Ff();h.push(v);for(r=
z+1;r<F;++r){const H=m[r],J=H.j();if(J.Fc()&&J.Tp(J.X().Bq())){if(J.Ff()!==G)break;H.gq()?(0<J.Lc&&l.push(H),h.push(H)):l.push(H)}}if(1!==h.length||h[0].sM()){this.L5(q,u,h);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.j(),A=y.X(),y.$y(!0),p(A,q),A.Ok(v,y,q,u),y.$y(!1)}else{p(A,q);A.Ok(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.j(),G=A.X(),p(G,q),G.Ok(y,A,q,u))}z=r;d.C(h);d.C(l)}else++z}w&&q.HC(w);d.C(m);n=null}L5(q,u,w){q.DK();for(let A=0,G=w.length;A<G;++A){var r=w[A],v=r.j(),y=v.X();
v.Yy(!0);p(y,q);y.YE(r,v,q)}q.CK();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.j(),y=v.X(),p(y,q),y.Ok(r,v,q,u),v.Yy(!1);q.BK()}da(){const q={sx:this.Bf(),sy:this.Cf(),s:this.Od,a:this.Oa(),w:this.aa(),h:this.$(),ortho:this.ff,vpX:this.gD(),vpY:this.hD(),fv:this.To,persist:this.ep,fx:this.Ja.sd(),layers:{}};for(const u of this.Pb)q.layers[u.eb.toString()]=u.da();return q}oa(q){this.Kh=q.sx;this.Lh=q.sy;this.Od=q.s;this.Of=q.a;this.R=q.w;this.O=q.h;this.ff=!!q.ortho;q.hasOwnProperty("vpX")&&(this.yB=
q.vpX);q.hasOwnProperty("vpY")&&(this.zB=q.vpY);this.To=!!q.fv;this.ep=q.persist;this.Ja.hd(q.fx);this.ql=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Ax(parseInt(u,10)))&&q.oa(w);this.Gq();this.Jj()}Yg(q){q.WB=this.Tu;var u=this.g;(u=u.zb&&!u.ga().Wx())&&a.yE();this.Sd.dispatchEvent(q);u&&a.nC()}Cn(q){q.WB=this.Tu;return this.Sd.tJ(q)}}}
{"use strict";const d=self.B;d.m0=class extends d.ca{constructor(a){super();this.g=a;this.yi=[];this.OH=new Map;this.PH=new Map;this.sv=null;this.tI=[];this.Qz=null;this.nA=0;this.Av=null}A(){this.Av=this.Qz=this.sv=this.g=null;d.C(this.yi);this.OH.clear();this.PH.clear();d.C(this.tI)}La(a){a=d.m(d.l0,this,this.yi.length,a);this.yi.push(a);this.OH.set(a.ya().toLowerCase(),a);this.PH.set(a.eb,a)}G(){return this.g}G2(a){this.Qz=a}IY(){if(this.Qz)return this.Qz;if(this.yi.length)return this.yi[0];throw Error("no first layout");
}Kp(a){return this.OH.get(a.toLowerCase())||null}$C(a){return this.PH.get(a)||null}aZ(a){a=d.fa(Math.floor(a),0,this.yi.length-1);return this.yi[a]}Vb(a){return"number"===typeof a?this.aZ(a):this.Kp(a.toString())}JQ(a){this.sv=a}Kb(){return this.sv}*Bw(){this.sv&&(yield this.sv);this.tI.length&&(yield*this.tI)}FN(a){if(a)this.nA++;else{if(0>=this.nA)throw Error("already unset");this.nA--}}aM(){return 0<this.nA}Pw(a){this.Av=a}dW(){this.Av=null}Up(){return!!this.Av}iq(){const a=this.Kb();a&&a.Gq()}hq(){const a=
this.Kb();a&&a.Jj()}}}
{"use strict";const d=self.B;d.H3=class extends d.ca{constructor(a){super();this.g=a;this.Vv=d.m(d.tg);this.yba=null;this.Um=[];this.Wv=new Map;this.sl=new Map;this.Vm=new Map;this.Lg=[];this.ee=[];this.Fh=[];this.gv=this.Nq=this.Mo=!1;this.Cl=()=>this.w8();this.Mr=()=>this.x8();this.fG=()=>this.Yt();this.NH=()=>this.c8();this.kH=b=>this.bQ(b.instance);this.TF=()=>this.rF();this.Gu=[];this.Ac=0}A(){this.Q1();this.TF=this.kH=this.NH=this.fG=this.Mr=this.Cl=null;for(const a of this.Um)a.we(),a.A();
d.C(this.Um);this.Um=null;this.Vv.A();this.Vv=null;d.C(this.Lg);this.Lg=null;d.C(this.ee);this.ee=null;d.C(this.Fh);this.Fh=null;this.Wv.clear();this.Wv=null;this.sl.clear();this.sl=null;this.Vm.clear();this.Vm=null;d.C(this.Gu);this.g=this.Gu=null}uV(){const a=this.g.Ub();a.addEventListener("pretick",this.Cl);a.addEventListener("tick2",this.Mr);a.addEventListener("beforelayoutchange",this.fG);a.addEventListener("layoutchange",this.NH);a.addEventListener("instancedestroy",this.kH);a.addEventListener("afterload",
this.TF)}Q1(){const a=this.g.Ub();a.removeEventListener("pretick",this.Cl);a.removeEventListener("tick2",this.Mr);a.removeEventListener("beforelayoutchange",this.fG);a.removeEventListener("layoutchange",this.NH);a.removeEventListener("instancedestroy",this.kH);a.removeEventListener("afterload",this.TF)}La(a){this.Vv.Dc(a);a=d.jo.tW(a,this);this.Dc(a);this.e3(a);this.Vm.set(a.ya(),0)}AC(a){a=a.IL();var b=this.Vv.U(a);b=d.jo.AC(`${a}:${this.Vm.get(a)}`,b,this);this.CP(a);this.Dc(b);return b}CP(a){this.Vm.set(a,
this.Vm.get(a)+1)}Z9(){for(const a of this.Um)a.kr||this.CP(a.IL())}M4(){for(const a of this.Vm.keys())this.Vm.set(a,0)}Dc(a){this.Um.push(a);this.Wv.set(a.ya().toLowerCase(),a)}jh(a){a.ky();a.kr||(d.kk(this.Um,a),d.kk(this.Lg,a),d.kk(this.ee,a),d.kk(this.Fh,a),this.Wv.delete(a.ya().toLowerCase()),this.R1(a),a.Kg||a.A())}ib(a){this.g.ib(a,this.yba,null)}G(){return this.g}RN(a,b){this.sl.has(a)||this.sl.set(a,new Set);this.sl.get(a).add(b)}e3(a){for(const b of a.bD())this.RN(b,a)}R1(a){for(const [b,
f]of this.sl.entries())f.has(a)&&(f.delete(a),0===f.size&&this.sl.delete(b))}vZ(a){if(this.sl.has(a))return this.sl.get(a)}Ts(a){return this.Wv.get(a.toLowerCase())||null}P1(a){d.kk(this.ee,a);this.Vt()}mN(a){this.ee.includes(a)?(a.rq(!0),a.tq(!1),a.vy(!1)):(a.rq(!1),a.tq(!0),a.vy(!1),this.Lg.includes(a)||this.Lg.push(a));this.RP()}Xw(a){a.rq(!1);a.tq(!1);a.YD();d.kk(this.Lg,a);this.Vt()}xK(a){a.rq(!1);a.tq(!1);a.vy(!0);this.Fh.push(a);d.kk(this.ee,a)}yK(a){a.rq(!1);a.tq(!1);a.vy(!1);a.Dj(1);d.kk(this.ee,
a)}lW(a){this.xK(a);a.YD()}w8(){if(!this.G().Wj&&this.Mo&&!this.Nq){for(this.gv=!0;this.Lg.length;){var a=this.Lg.pop();a.Gc();0!==a.Ac&&(this.Ac=1);this.ee.push(a)}a=this.g.Hu;var b=this.g.Iu,f=this.g.Rd;for(let c=this.ee.length-1;0<=c;c--)this.ee[c].xe(a,f,b);this.gv=!1;0!==this.Ac&&this.G().Y()}}x8(){if(!this.G().Wj&&this.Mo&&!this.Nq){var a;for(let b=0,f=this.Fh.length;b<f;b++){const c=this.Fh[b];a||(a=new Set);c.ky();this.SP(c);a.add(c)}if(a){d.dg(this.Fh,a);this.Ac=0;for(let b=0,f=this.ee.length;b<
f;b++)if(0!==this.ee[b].Ac){this.Ac=1;break}}this.Vt()}}SP(a){a.Kg||a.RL()&&a.Pf&&a.Cm&&a.XK()}RP(){this.Mo||(this.Mo=!0)}Vt(){this.Fh.length||this.ee.length||this.Lg.length||this.gv||(this.Mo=!1)}Yt(){for(this.Nq=!0;this.Lg.length;)this.Xw(this.Lg.pop());const a=new Set;for(const b of this.ee)b.Yt()&&(b.ky(),a.add(b));d.dg(this.ee,a);a.clear();for(const b of this.Fh)b.Yt()&&(b.ky(),a.add(b));d.dg(this.Fh,a);this.Vt();for(const b of this.Um)b.dj()}c8(){this.Nq=!1}bQ(a){var b=a.F();if(b=this.vZ(b))if(this.g.Wj)this.Gu.push(a);
else for(const f of b)f.kr||(f.Kg?this.jh(f):f.RL()||(this.SP(f),this.jh(f)))}rF(){for(const a of this.Gu)this.bQ(a);d.C(this.Gu)}da(){return{timelinesJson:this.L9(),scheduledTimelinesJson:this.J9(),playingTimelinesJson:this.H9(),markedForRemovalTimelinesJson:this.F9(),hasRuntimeListeners:this.Mo,changingLayout:this.Nq,isTickingTimelines:this.gv}}oa(a){a&&(this.M4(),this.L7(a.timelinesJson),this.I7(a.scheduledTimelinesJson),this.G7(a.playingTimelinesJson),this.F7(a.markedForRemovalTimelinesJson),
this.Mo=!a.hasRuntimeListeners,this.Nq=!!a.changingLayout,this.gv=!!a.isTickingTimelines,this.Z9(),this.RP(),this.Vt())}L9(){return this.Um.map(a=>a.da())}L7(a){for(const b of a){a=this.Ts(b.name);if(!a){a=this.M6(b);if(!a)continue;a=this.Ts(a);a=this.AC(a)}a.oa(b);a.QZ()||this.jh(a)}}M6(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}J9(){return this.yF(this.Lg)}I7(a){this.mF(a,this.Lg)}H9(){return this.yF(this.ee)}G7(a){this.mF(a,this.ee)}F9(){return this.yF(this.Fh)}F7(a){this.mF(a,this.Fh)}q7(a,
b){for(const f of b)if(f===a.ya())return!0;return!1}yF(a){return a.map(b=>b.ya())}mF(a,b){var f=new Set;for(const c of b)this.q7(c,a)||f.add(c);d.dg(b,f);f=c=>g=>g.ya()===c;for(const c of a)(a=this.Ts(c))&&(b.find(f(c))||b.push(a))}}}
{"use strict";const d=self.B;d.jo=class extends d.ca{constructor(a,b,f){super();this.g=f.G();this.ub=f;this.Dd=b;this.Fa=a;this.cb=[];this.zT=0;this.Jq=null;this.jR=0;this.JK();this.SA=this.Bv=null;this.Sb=0;this.Oc=1;this.Bd=0;this.yd=1;this.Cm=this.jl=this.rA=!1;this.Pf=!0;this.JA=this.Kg=!1;this.Oq=-1;this.He=this.Jo=this.kr=this.bA=!1;this.AA=NaN;this.Ng=[""];this.tT="";this.LI=!1;this.Yz=this.Ac=0}static tW(a,b){const f=b.Vv.U(a[0]);a=d.m(d.jo,a[0],f,b);a.Q2();return a}static AC(a,b,f){return d.m(d.jo,
a,b,f)}A(){if(!this.Kg){this.ub.Xw(this);this.ub.lW(this);for(const a of this.cb)a.A();d.C(this.cb);this.Dd=this.ub=this.g=this.cb=null;this.Kg=!0;this.SA=this.Bv=null}}JK(){for(const a of this.Dd.Us().TU())this.zT=this.cb.push(d.EE.La(this,a))}G(){return this.g}Ps(a,b,f){if(this.Yz){var c;for(let m=0;m<this.cb.length;m++){var g=this.cb[m];a===g.za()&&(g=g.re(f))&&b.constructor===g.Bb().constructor&&(c||(c=[]),c.push(g))}return c}}QZ(){return!!this.cb.length}xZ(a){for(const b of this.cb)if(d.Ll(b.Xl(),
a))return b;return null}wy(a){this.Fa=a}ya(){return this.Fa}IL(){return this.Dd.ya()}Ef(){return this.Dd.Ef()}Qs(){return this.Dd.Qs()}bi(){return this.Dd.bi()}Wd(){return this.Dd.Wd()}Cj(a){for(const b of this.cb)b.Cj(a)}Bx(){return this.Dd.Bx()}Fx(){return this.Dd.Fx()}fh(){return this.Dd.fh()}Dj(a){this.Oc=a}wj(){return this.IsPlaying()?0<this.Oc:!0}xL(){this.Bv||(this.Bv=new Promise(a=>{this.SA=a}))}YD(){this.Bv&&(this.SA(),this.SA=this.Bv=null)}QN(a){this.Ng=d.jo.L6(a);this.LI=!0}DM(){d.H.wc.na.fo(this);
this.ub.ib(d.H.wc.na.mha);this.ub.ib(d.H.wc.na.nha);this.ub.ib(d.H.wc.na.oha);this.ub.ib(d.H.wc.na.eha);d.H.wc.na.fo(null)}ND(){this.Oq=this.g.bk}XK(){this.Jo||(this.Jo=!0,d.H.wc.na.fo(this),this.ub.ib(d.H.wc.na.jha),this.ub.ib(d.H.wc.na.kha),this.ub.ib(d.H.wc.na.lha),this.ub.ib(d.H.wc.na.dha),d.H.wc.na.fo(null))}rq(a){this.rA=a}YL(){return this.Oq===this.g.bk}IsPlaying(a=!1){return this.YL()||this.jl&&!a?!0:this.rA}Eq(){return this.IsPlaying(!0)}tq(a){this.jl=a}sN(a){this.Pf=a;a=this.Da();if(0>=
a||a>=this.Ef())this.Pf=!0}vy(a){this.JA=a}iE(a){this.bA=a}Q2(){this.kr=!0}Da(){return this.Sb}uq(a){const b=this.Da();this.lc(a);this.sN(!1);this.Pf||this.iE(!0);if(this.Eq()||this.jl||!this.Cm)this.Eq()||this.jl||this.Cm?this.Eq()?this.we():this.jl&&(this.ub.Xw(this),this.CN()):this.CN();this.fu();this.hF(a,!0,b);this.IF();this.Ac&&this.G().Y();this.fQ()}lc(a){this.Sb=0>a?0:a>=this.Ef()?this.Ef():a}fQ(){d.H.wc&&this.constructor===d.jo&&(d.H.wc.na.fo(this),this.ub.ib(d.H.wc.na.gha),this.ub.ib(d.H.wc.na.hha),
this.ub.ib(d.H.wc.na.iha),d.H.wc.na.fo(null))}Play(a=!1){return this.Kg||this.jl?!1:this.Eq()&&this.YL()?this.P9():this.Eq()||!this.Pf&&!a&&!this.bA?!1:this.Q9()}P9(){this.iE(!1);this.ub.P1(this);this.ub.mN(this);this.xL();return!0}Q9(){this.iE(!1);this.ub.mN(this);this.xL();return!0}we(a=!1){this.Kg||(this.sN(a),this.ub.xK(this),this.Pf&&this.YD())}Xc(a=!0,b=!1){if(!this.Kg)if(!this.Eq()&&this.jl)this.ub.Xw(this);else if(!this.Pf){this.we(!0);this.wj()?this.lc(0):this.lc(this.Ef());var f=this.Da();
this.fu();b?this.i7(f):this.hF(f,!1);a&&this.fQ();this.IF();this.Ac&&a&&this.G().Y()}}bN(){this.Xc(!1,!0)}i7(a){this.hF(a,!1,NaN,!1,!0)}Yt(){if(this.Kg)return!0;if(this.RZ())return!1;this.ub.yK(this);this.bN();return!0}CN(){this.Gc(!0)}Gc(a){if(!this.JA){if(a){this.He=this.Cm=!0;this.fu();for(const b of this.cb)b.Gc()}else if(this.rq(!0),this.tq(!1),this.DM(),this.Pf){this.Oq=-1;this.Bd=0;this.yd=1;this.Jo=this.Pf=!1;this.He=this.Cm=!0;this.wj()?this.lc(0):this.lc(this.Ef());this.fu();for(const b of this.cb)b.Gc()}else{this.He=
!0;this.fu();for(const b of this.cb)b.ue()}this.IF()}}fu(){this.Yz=0;for(const a of this.cb)a.Dm&&(this.Yz=1)}IF(){this.Ac=0;for(const a of this.cb)a.cz(),0===this.Ac&&1===a.Ac&&(this.Ac=1),this.Jq||1!==a.Jm||(this.Jq||(this.Jq=[]),this.jR=this.Jq.push(a))}xe(a,b){if(0!==a||0!==this.AA){this.AA=a;var f=this.Sb;b=f+a*b*this.Oc;a=this.Dd.Or;this.Sb=0>b?0:b>=a?a:b;var c=!1;b=this.Bx();var g=this.Fx();b||g?b&&!g?0<this.Oc?this.Sb>=a&&this.lc(0):0>=this.Sb&&this.lc(a):!b&&g?0<this.Oc?this.Sb>=a&&(this.lc(a),
this.Dj(-1*this.Oc),1===this.Bd?this.yd<this.fh()?(this.yd++,this.Bd=0):c=!0:0===this.Bd&&(this.Bd=1)):0>=this.Sb&&(this.lc(0),this.Dj(-1*this.Oc),1===this.Bd?this.yd<this.fh()?(this.yd++,this.Bd=0):c=!0:0===this.Bd&&(this.Bd=1)):b&&g&&(0<this.Oc?this.Sb>=a&&(this.lc(a),this.Dj(-1*this.Oc)):0>=this.Sb&&(this.lc(0),this.Dj(-1*this.Oc))):0<this.Oc?this.Sb>=a&&(this.yd<this.fh()?(this.yd++,this.lc(0)):(this.lc(a),c=!0)):0>=this.Sb&&(this.yd<this.fh()?(this.yd++,this.lc(a)):(this.lc(0),c=!0));b=this.zT;
if(c){for(c=0;c<b;c++)this.cb[c].xN();this.we(!0);this.ND()}else{g=this.jR;for(c=0;c<g;c++)this.Jq[c].wn();if(1===this.Yz)for(c=0;c<b;c++){const m=this.cb[c],h=m.Ve(),l=f-h;0>this.Sb-h&&0<l?(this.Sb=0>h?0:h>=a?a:h,m.Aa(h,!0,!1,!1,this.He,!1)):m.Aa(this.Sb,!0,!1,!1,this.He,!1)}else for(c=0;c<b;c++)this.cb[c].Aa(this.Sb,!0,!1,!1,this.He,!1);for(c=0;c<g;c++)this.Jq[c].vn();this.He&&(this.He=!1)}}}hF(a,b=!1,f=NaN,c=!1,g=!1){for(var m of this.cb)m.wn();for(const h of this.cb){m=a;if("number"===typeof f){const l=
this.Da()-h.Ve(),n=f-h.Ve();0>l&&0<n&&(m=h.Ve(),this.lc(m))}h.Aa(m,!1,b,!0,this.He,g)}for(const h of this.cb)h.vn();this.He&&c&&(this.He=!1)}ky(){if(!this.Kg)for(const a of this.cb)a.Lk()}dj(){for(const a of this.cb)a.dj()}eW(){for(const a of this.cb)a.cW()}f3(a,b){if(b)for(const f of this.cb)if(f.gi()){if(a){if(f.Xl()!==a)continue}else if(f.KZ())continue;f.O2(b);this.ub.RN(b.F(),this);break}}RL(){return this.cb.some(a=>a.gi()?a.wC():!0)}RZ(){return this.cb.some(a=>a.gi()?a.wC()?(a=a.F())?a.Hf():
!1:!1:!1)}re(a){for(const b of this.cb)for(const f of b.Wa)if(f.wa.Pc===a)return f}JL(a){for(const b of this.cb)if(a===b.za())return b;return null}bD(){const a=[];for(const b of this.cb)a.push(b.F());return a.filter(b=>b)}da(){return{tracksJson:this.N9(),name:this.Fa,playheadTime:this.Da(),playbackRate:this.Oc,pingPongState:this.Bd,currentRepeatCount:this.yd,isPlaying:this.rA,isScheduled:this.jl,initialStateSet:this.Cm,finishedTriggers:this.Jo,complete:this.Pf,released:this.Kg,markedForRemoval:this.JA,
completedTick:this.Oq,implicitPause:this.bA,isTemplate:this.kr,tags:this.Ng.join(" "),stringTags:this.tT,tagsChanged:this.LI,firstTick:this.He}}oa(a){a&&(this.M7(a.tracksJson),this.Fa=a.name,this.Sb=a.playheadTime,this.Oc=a.playbackRate,this.Bd=a.pingPongState,this.yd=a.currentRepeatCount,this.rA=!!a.isPlaying,this.jl=!!a.isScheduled,this.Cm=!!a.initialStateSet,this.Jo=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Pf=!!a.complete,this.Kg=!!a.released,this.JA=!!a.markedForRemoval,
this.Oq=a.completedTick,this.bA=!!a.implicitPause,this.kr=!!a.isTemplate,this.Ng=a.tags.split(" "),this.tT=a.stringTags,this.LI=!!a.tagsChanged,this.He=!!a.firstTick)}N9(){return this.cb.map(a=>a.da())}M7(a){a.forEach((b,f)=>{this.cb[f].oa(b)});this.cb.filter(b=>b.wC())}static L6(a){if(d.Pn(a))return a.slice(0);if(d.hi(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.EE=class extends d.ca{constructor(a,b){super();this.Oh=a;this.Eb=b;this.Ne=b.Us();this.rl=this.el=NaN;this.Pa=this.dc=null;this.Dm=0<b.Ve();this.Fo=this.ir=!1;this.Qi=null;this.ec=this.Eb.mj().ec;this.Wa=[];this.IK();this.Jm=this.Ac=this.gk=0}static La(a,b){return d.m(d.EE,a,b)}A(){this.ec=null;for(const a of this.Wa)a.A();d.C(this.Wa);this.Qi=this.Eb=this.Pa=this.dc=this.Oh=this.Wa=null}IK(){for(const a of this.Eb.Vd().CU())this.Wa.push(d.Xa.La(this,a))}Lk(){for(const a of this.Wa)a.Lk()}dj(){for(const a of this.Wa)a.dj();
this.Pa=this.dc=null}rb(){return this.Oh}G(){return this.Oh.G()}ZY(){return this.ec?this.ec:this.ec=this.Eb.mj().ec}re(a){for(let b=0;b<this.Wa.length;b++){const f=this.Wa[b];if(f.wa.Pc===a)return f}}ft(){this.dc||this.za()}em(){return this.dc?!this.dc.$s():!1}wC(){if(!this.gi())return!1;const a=this.G().lj(this.Ls());return a?!a.$s():!1}F(){if(this.gi()){var a=this.aD();if(-1!==a)return this.G().Ue(a)}}cW(){this.dc=null;this.el=-1;this.Pa=null;this.rl=-1}KZ(){return!!this.dc}za(){return this.dc&&
this.em()?this.dc:this.dc=this.G().lj(this.Ls())}O2(a){if(this.dc!==a){this.dj();this.dc=a;this.rl=a.F().Ca();this.el=a.Sc;this.Pa=a.j();for(const m of this.pda()){const h=m.Eda;switch(m.oda.Hd()){case "instance-variable":var b=a.F(),f=b.SY(m.name),c=b.rL(f);b=b.Ms(f);c===m.name&&b===m.type&&h.T3(f);break;case "behavior":var g=m.jJ;f=this.F();c=a.F();b=h.ig(c);g&&b&&(g=g.ya(),f.Bs(g),c.Bs(g),h.Q3(b.eb))}}}}*pda(){for(const f of this.Wa){var a=f.Bb(),b=this.F();const c={oda:f,Eda:a};switch(f.Hd()){case "world-instance":c.Cna=
f.wa.Pc;break;case "instance-variable":a=a.Jp();c.name=b.rL(a);c.type=b.Ms(a);break;case "effect":b=a.TC(b.Ja);c.Pla=b;break;case "behavior":b=a.ig(b);c.jJ=b;break;case "plugin":c.Ana=b.tb()}yield c}}j(){if(this.Pa&&this.em())return this.Pa;const a=this.za();a&&(this.Pa=a.j());return this.Pa}Ls(){return this.el?this.el:this.Eb.Ls()}bi(){return this.Eb.bi()}Wd(){return this.Eb.Wd()}Xl(){return this.Eb.Xl()}Ve(){return this.Eb.Ve()}yk(){return this.Eb.yk()}Cj(a){for(const b of this.ZY())b.Cj(a);for(const b of this.Wa)b.Cj(a)}xk(){return this.Eb.xk()}Jk(a){this.Eb.Jk(a)}aD(){return isNaN(this.rl)?
this.Eb.aD():this.rl}oj(){const a=this.za();return a&&a.la.Tn()?a.la.oj():this.Eb.oj()}nj(){const a=this.za();return a&&a.la.Tn()?a.la.nj():this.Eb.nj()}uj(){return this.Eb.uj()}ya(){return this.Eb.ya()}gi(){return 0===this.uj()}Gc(){this.ft();if(this.em()||!this.gi()){var a=this.rb().wj()?0:this.yk();for(const b of this.Wa)b.Gc(a),0===this.gk&&1===b.gk&&(this.gk=1),0===this.Ac&&1===b.Ac&&(this.Ac=1);this.Jm=0;this.Wa.some(b=>b.Jm)&&(this.Jm=1);this.Qi=this.lP(a);this.Fo=this.ir=!1;this.Aa(a)}}ue(){this.ft();
if(this.em()||!this.gi()){this.Oh.wj();var a=this.Oh.Da()-this.Ve();this.Qi=this.lP(a);for(const b of this.Wa)b.ue(a)}}xN(){if(!(this.rb().Pf||(this.ft(),!this.em()&&this.gi()||this.Dm))){const a=this.Oh.Da();a>=this.Ve()+this.yk()?this.Aa(this.yk(),!0,!1,!0):0>=a&&this.Aa(0,!0,!1,!0)}}cz(){for(let a=0,b=this.Wa.length;a<b;a++){const f=this.Wa[a];f.cz();0===this.gk&&1===f.gk&&(this.gk=1);0===this.Ac&&1===f.Ac&&(this.Ac=1)}}wn(){const a=this.Wa.length;for(let b=0;b<a;b++)this.Wa[b].wn()}Aa(a,b=!1,
f=!1,c=!1,g=!1,m=!1){this.dc||this.za();const h=0===this.Eb.xa;if(!((!this.dc||this.dc.$s())&&h||m&&h&&this.F().Hf()||(a-=this.Ve(),0>a))){this.B0(a,b);this.C0(a,b,g);for(let l=0,n=this.Wa.length;l<n;l++)this.Wa[l].Aa(a,f,c);this.A0(a,b);0!==this.gk&&(this.Pa||(this.Pa=this.dc.j()),this.Pa&&this.Pa.Ea())}}vn(){const a=this.Wa.length;for(let b=0;b<a;b++)this.Wa[b].vn()}B0(a,b){if(b&&this.Dm&&!this.ir){if(this.rb().wj()){if(0>a)return;for(const f of this.Wa)f.Aa(0,!1,!0)}else{if(a>this.yk())return;
for(const f of this.Wa)f.Aa(this.yk(),!1,!0)}for(const f of this.Wa)f.Gc();this.ir=!0}}A0(a,b){if(b&&this.Dm&&!this.Fo)if(this.rb().wj()){if(a>=this.yk()){for(const f of this.Wa)f.Aa(this.yk(),!1,!0);this.Fo=!0}}else if(0>=a){for(const f of this.Wa)f.Aa(0,!1,!0);this.Fo=!0}}C0(a,b,f){if(!f&&b&&d.H.wc){b=this.rb();f=this.Qi.Ke;var c=this.Qi.Da(),g=f?f.Da():b.Ef();if(a<=c||a>=g)this.Qi=this.Ne.mL(a,this.Eb),b.wj()?f&&this.PD(this.Qi):this.Qi.Ke&&this.PD(this.Qi)}}lP(a){const b=this.Ne.WY(a,this.Eb);
return b?b:this.Ne.mL(a,this.Eb)}PD(a){const b=this.rb();d.H.wc.na.fo(b);d.H.wc.na.n3(a);a=b.ub;a.ib(d.H.wc.na.cha);a.ib(d.H.wc.na.PD);d.H.wc.na.fo(null);d.H.wc.na.n3(null)}qV(){return this.Eb.mj().lV()}KW(a){this.Eb.mj().JW(a)}ax(a){for(const b of this.Wa)b.ax(a)}co(){for(const a of this.Wa)a.co()}Wh(){this.ft();if(this.em()||!this.gi())for(const a of this.Wa)a.Wh()}Xh(){this.ft();if(this.em()||!this.gi()){var a=!1;for(const b of this.Wa){const f=b.Xh();!a&&f&&(a=!0)}a&&(a=this.qV(),a.uq(this.rb().Da()),
a.Cj("noease"),a.Jk(!0),a.QN(""))}}da(){var a=this.za();a=a?a.Sc:this.Ls();return{propertyTracksJson:this.I9(),lastKeyframeDataItemJson:this.E9(),initialStateOfNestedSet:this.ir,endStateOfNestedSet:this.Fo,instanceUid:a}}oa(a){a&&(this.H7(a.propertyTracksJson),this.E7(a.lastKeyframeDataItemJson),this.B7(a.instanceUid),this.ir=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.ir=a.initialStateOfNestedSet),this.Fo=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Fo=a.endStateOfNestedSet))}E9(){return this.Eb.mj().YY(this.Qi)}I9(){return this.Wa.map(a=>
a.da())}H7(a){a.forEach((b,f)=>{this.Wa[f].oa(b)})}B7(a){if(d.cm(a)&&(a=this.G().lj(a))){var b=this.rb();b.eW();b.f3(this.Eb.Xl(),a)}}E7(a){this.Qi=this.Eb.mj().XY(a)}}}
{"use strict";const d=self.B;d.Xa=class extends d.ca{constructor(a,b){super();this.nb=a;this.wa=b;this.fc=b.Vd();this.Jm=this.Ac=this.gk=0;this.he=this.Bb();this.Jb=this.wa.eh().Jb;this.iu=this.yc=null}static La(a,b){return d.m(d.Xa,a,b)}A(){this.nb=null;this.he&&(this.he.A(),this.he=null);this.fc=this.wa=this.Jb=null}jD(){return!!this.iu}q2(a){this.iu=a}Vd(){return this.fc}rb(){return this.nb.rb()}G(){return this.nb.G()}za(){return this.nb.za()}Bb(){if(this.he)return this.he;let a;switch(this.wa.Hd()){case "behavior":a=
new d.Xa.KV(this);break;case "effect":a=new d.Xa.RX(this);this.Ac=1;break;case "instance-variable":a=new d.Xa.J_(this);break;case "plugin":a=new d.Xa.q1(this);this.Ac=1;break;case "world-instance":a=new d.Xa.Xn(this);this.gk=this.Ac=1;break;case "value":a=new d.Xa.V3(this);break;case "audio":a=new d.Xa.HV(this)}return this.he=a}Hd(){return this.wa.Hd()}Gx(){return this.wa.uj()}Os(){return this.Vd().wx(this.wa).uj()}xk(){return this.wa.xk()}Jk(a){this.wa.Jk(a)}bi(){return this.wa.bi()}Wd(){return this.wa.Wd()}Cj(a){for(const b of this.Ns())b.Cj(a)}vC(){return this.wa.vC()}Ns(){return this.Jb?
this.Jb:this.Jb=this.wa.eh().Jb}*yL(){for(const a of this.Ns())yield a.Wb()}Lk(){this.Bb().Lk()}dj(){this.Bb().dj()}ne(){return this.Bb().ne()}Gc(a){this.Bb().Gc();this.yc=this.mP(a);this.cz()}ue(a){this.Bb().ue();this.yc=this.mP(a)}cz(){var a=this.nb;this.Jm=0;if(a.gi()){var b=this.rb();a=a.za();const f=this.Bb(),c=this.wa.Pc;f.zj()?(b=b.Ps(a,f,c))&&b.length&&(this.Jm=1):this.Jm=0}}mP(a){const b=this.rb(),f=this.fc.nZ(a,this.wa);return f?f:b.wj()?this.fc.ai(a,this.wa):this.fc.oL(a,this.wa)}wn(){this.he.wn()}Aa(a,
b=!1,f=!1){let c;if(b)var g=this.fc.ai(a,this.wa);else{if(this.yc){var m=this.rb();const h=this.yc.Ke;g=this.yc.Da();m=h?h.Da():m.Ef();if(a<=g||a>=m)this.yc=this.fc.ai(a,this.wa)}else this.yc=this.fc.ai(a,this.wa);g=this.yc}g&&(c=g.Ke);this.he.Aa(a,g,c,b,f)}Af(a){if(this.yc){var b=this.rb();const c=this.yc.Ke;var f=this.yc.Da();b=c?c.Da():b.Ef();if(a<=f||a>=b)this.yc=this.fc.ai(a,this.wa)}else this.yc=this.fc.ai(a,this.wa);f=this.yc;return this.he.Af(a,f,f.Ke)}vn(){this.he.vn()}static HL(a,b){return b.fc.ai(a,
b.wa)}kK(){const a=this.wa.eh().jK();this.yc=null;return a}ax(a){this.yc=null;this.wa.eh().OK(a)}co(){this.Bb().co()}Wh(){if(this.Bb().Wh()){const a=this.fc.wx(this.wa),b=this.Bb().ne();a.nN(b)}}Xh(){const a=this.Bb().Xh();a&&this.sV();this.Bb().Tw();return a}sV(){const a=this.rb().Da(),b=this.Bb(),f=d.Xa.HL(a,this),c=this.kK();c.SN(f.uj());c.uq(a);c.Cj(f.Vl());c.Jk(!0);c.ve(b.ML());c.nN(b.ne())}da(){return{sourceAdapterJson:this.Bb().da()}}oa(a){a&&this.Bb().oa(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Xa;d.Xn=class{constructor(a){this.K=a;this.pf=null;this.dh()}A(){this.pf&&(this.pf.A(),this.pf=null);this.K=null}zj(){return this.pf.zj()}re(){return this.K}Lk(){this.pf&&this.pf.Lk()}dj(){this.pf&&this.pf.dj()}dh(){return this.pf?this.pf:this.pf=this.Z4()}Jp(){}Ca(){return this.Jp()}Ss(){}Gc(){this.dh().Gc()}ue(){this.dh().ue()}wn(){this.pf.Cp()}Aa(a,b,f,c,g){let m;switch(this.K.Os()){case "numeric":m=d.gt.Aa(a,b,f,this.K);break;case "angle":m=d.Hw.Aa(a,b,f,this.K);break;
case "boolean":m=d.Jw.Aa(a,b,f,this.K);break;case "color":m=d.Uw.Aa(a,b,f,this.K);break;case "text":m=d.yy.Aa(a,b,f,this.K)}this.pf.xn(a,m,b,f,c,g)}Af(a,b,f){switch(this.K.Os()){case "numeric":return d.gt.Aa(a,b,f,this.K);case "angle":return d.Hw.Aa(a,b,f,this.K);case "boolean":return d.Jw.Aa(a,b,f,this.K);case "color":return d.Uw.Aa(a,b,f,this.K);case "text":return d.yy.Aa(a,b,f,this.K)}}vn(){this.pf.Bp()}co(){var a=this.dh();a.Jh=a.ne()}Tw(){this.dh().Tw()}ne(){return this.dh().ne()}Wh(){return this.dh().Wh()}Xh(){return this.dh().Xh()}ML(){const a=
this.K,b=a.nb.rb().Da(),f=d.HL(b,a),c=f.Ke;switch(a.Os()){case "numeric":return d.gt.Aa(b,f,c,a);case "angle":return d.Hw.Aa(b,f,c,a);case "boolean":return d.Jw.Aa(b,f,c,a);case "color":return d.Uw.Aa(b,f,c,a);case "text":return d.yy.Aa(b,f,c,a)}}Z4(){const a=this.K;switch(a.vC()?a.Os():""){case "combo":case "boolean":case "text":case "string":return new d.Xe.tM(this);case "numeric":case "number":case "angle":return"combo"===this.K.Gx()?new d.Xe.tM(this):new d.Xe.uM(this);case "color":case "offsetColor":return new d.Xe.hW(this);
default:return new d.Xe.uM(this)}}da(){return{propertyAdapterJson:this.dh().da()}}oa(a){a&&this.dh().oa(a.propertyAdapterJson)}}}
{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b);this.$v=NaN}Jp(){return this.K.wa.Xf[0]}Ca(){return this.$v?this.$v:super.Ca()}Ss(){return this.K.nb.za()}T3(b){this.K.wa.Xf[0]!==b&&(this.$v=b)}Aa(b,f,c,g,m){this.dh().uC(f.qd())&&super.Aa(b,f,c,g,m)}Af(b,f,c){if(this.dh().uC(f.qd()))return super.Af(b,f,c)}da(){return Object.assign(super.da(),{index:this.$v})}oa(b){b&&(super.oa(b),this.$v=b.index)}}d.Xa.J_=a}
{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b);this.eb=NaN}Jp(){return this.K.wa.Xf[1]}Ss(){var b=this.K.wa,f=this.eb?this.eb:b.Xf[0];b=this.K.nb.za();f=b.cL(f);return b.Ic[f].la}ig(b){return b.mx(this.K.wa.Xf[2])}Q3(b){this.K.wa.Xf[0]!==b&&(this.eb=b)}Aa(b,f,c,g,m){const h=this.K.nb.za();this.ig(h.F())&&super.Aa(b,f,c,g,m)}Af(b,f,c){const g=this.K.nb.za();if(this.ig(g.F()))return super.Af(b,f,c)}da(){return Object.assign(super.da(),{sid:this.eb})}oa(b){b&&(super.oa(b),
this.eb=b.sid)}}d.Xa.KV=a}{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b)}Jp(){return this.K.wa.Xf[1]}Ss(){const b=this.K.nb.j().Sf,f=this.TC(b.Ja).Ca();return b.bt(f)?b.vk(f):null}TC(b){return b.wk(this.K.wa.Xf[0])}Aa(b,f,c,g,m){this.JP()&&super.Aa(b,f,c,g,m)}Af(b,f,c){if(this.JP())return super.Af(b,f,c)}JP(){const b=this.K.nb.j().Sf,f=this.TC(b.Ja);if(f)return b.bt(f.Ca())}}d.Xa.RX=a}
{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b)}Jp(){return this.K.wa.Xf[0]}Ss(){return this.K.nb.za().la}Aa(b,f,c,g,m){var h=this.K.nb;const l=h.F().tb();h=h.za().F().tb();l===h&&super.Aa(b,f,c,g,m)}Af(b,f,c){var g=this.K.nb;const m=g.F().tb();g=g.za().F().tb();if(m===g)return super.Af(b,f,c)}}d.Xa.q1=a}
{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b);this.tc=0;this.cA=!1}zj(){return!1}Gc(){const b=this.K.Vd();let f=this.K.wa;f=b.wx(f);this.tc=f.Wb()}ue(){}qd(){this.cA||this.K.Aa(0);return this.tc}Aa(b,f,c){this.tc=d.Xa.gt.Aa(b,f,c,this.K);this.cA=!0}co(){}Tw(){}ne(){return this.tc}Wh(){return!1}Xh(){return!1}da(){return{value:this.tc,init:this.cA}}oa(b){b&&(this.tc=b.value,this.cA=b.hasOwnProperty("init")?b.init:!0)}}d.Xa.V3=a}
{"use strict";const d=self.B;class a extends d.Xa.Xn{constructor(b){super(b);this.Nj=!1;this.dr=this.Lb=this.ge=null;this.Oh=this.K.rb();this.nb=this.K.nb;this.Mv=this.K.wa.Xf;this.SG=this.Mv[0];this.HI=this.Mv[1];this.qh=this.Mv[3]?this.Mv[3]:Math.random().toString(36).slice(2);this.cw=this.cp=this.Lm=NaN;this.xg=null;this.IP()}A(){super.A();this.xg=this.SG=this.Mv=this.nb=this.Oh=this.dr=this.Lb=this.ge=null}IP(){if(self.B.H.Audio){var b=this.K.G().Cx("audio");b&&(this.ge=b.rj().la);this.Lb=self.B.H.Audio.gd;
this.dr=self.B.H.Audio.Fd}}UP(){if(!this.xg){var b=this.K.nb.re("audioSource");b&&(this.xg=b.Bb())}}F6(){const b=this.K.nb.re("volume");return b?b.Bb().cp:this.cp}Lk(){super.Lk();this.Nj=!1;this.ge&&(this.dr&&(this.Lm=this.dr.Kha.call(this.ge,this.qh),this.cp=this.dr.Tka.call(this.ge,this.qh)),this.Lb&&this.Lb.we.call(this.ge,this.qh))}ho(b){this.cw=b}Gc(){super.Gc();this.Lm=NaN;this.Nj=!1}ue(){super.ue();const b=this.K.rb().Da();this.Lm=b-this.HI;switch(this.K.wa.Pc){case "volume":this.cp=this.K.Af(b)}this.Nj=
!1}Aa(b,f,c,g,m){if(this.ge)switch(this.K.wa.Pc){case "audioSource":if(!this.Oh.wj())break;if(g){this.Lb&&this.Lb.we.call(this.ge,this.qh);break}if(b<this.HI){this.Nj=!1;break}f=this.dr.Jha.call(this.ge,this.qh);this.Oh.Oc!==f&&this.Lb.Dj.call(this.ge,this.qh);if(this.Nj)break;this.Nj=!0;if(isNaN(this.Lm)){const h=self.performance.now(),l=b-this.HI;this.ge.KM().then(n=>{if("suspended"===n)this.Nj=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Lb){let p=this.cw;isNaN(p)?(this.ho(0),p=0):this.ho(p);
this.Lb.Play.call(this.ge,this.SG,0,p,this.qh,n)}})}else{const h=this.Lm;this.Lm=NaN;const l=this.F6();this.cp=NaN;this.ge.KM().then(n=>{"suspended"===n?this.Nj=!1:this.Lb&&(this.ho(l),this.Lb.Play.call(this.ge,this.SG,0,l,this.qh,h))})}break;case "volume":this.UP(),super.Aa(b,f,c,g,m)}}Af(b,f,c){if(this.ge)switch(this.K.wa.Pc){case "volume":return this.UP(),super.Af(b,f,c)}}OL(){return this.xg?this.xg.cw:0}s3(b,f){this.xg&&this.xg.ho(this.OL()+f);this.Lb&&this.xg&&this.Lb.ho.call(this.ge,this.xg.qh)}gV(b,
f){this.xg&&this.xg.ho(f);this.Lb&&this.xg&&this.Lb.ho.call(this.ge,this.xg.qh)}da(){return{audioPlaybackStarted:this.Nj,audioTag:this.qh,pauseTime:this.Lm,pauseVolume:this.cp,volume:this.cw}}oa(b){b&&(this.Nj=b.audioPlaybackStarted,this.qh=b.audioTag,this.Lm=b.pauseTime,this.cp=b.pauseVolume,this.cw=b.volume,this.IP())}}d.Xa.HV=a}"use strict";function ic(d,a,b){return d.K.rb().wj()?a():b()}function jc(d,a,b){return"relative"===d.K.Wd()?a():b()}
function kc(d){if(d.Kr)return d.Kr;d.Kr=d.he.Ss();return d.Kr}function lc(d,a=!1){const b=[];for(const f of d){d=f.nb.Ve();for(const c of f.Ns())a&&0===c.Da()?b.push({time:d+c.Da(),value:c.ph}):a||b.push({time:d+c.Da(),value:c.ph})}return b.sort((f,c)=>f.time-c.time)}function mc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Xa.Xe=class{constructor(d){this.he=d;this.K=d.re();this.Pa=this.K.nb.j();this.Pc=this.K.wa.Pc;this.er=!1;this.Kr=this.Jh=null}A(){this.Kr=this.Jh=this.Pa=this.K=this.he=null}zj(){return!1}Lk(){}dj(){this.Kr=this.Jh=this.Pa=null}Bb(){return this.he}re(){return this.K}j(){return this.Pa?this.Pa:this.Pa=this.K.nb.j()}Gc(){}ue(){}Tw(){this.Jh=null}ne(){}Wh(){}Xh(){}uC(d){return typeof this.Qk()===typeof d}Cp(){}xn(){}Bp(){}oo(){return ic(this,()=>{const d=this.K.wa;return this.K.Vd().wx(d)},()=>
{const d=this.K.wa;return this.K.Vd().Hn(d)}).ph}Iy(){const d=this.K.rb().Da()-this.K.nb.Ve();return ic(this,()=>{const a=this.K.wa;return this.K.Vd().ai(d,a)},()=>{const a=this.K.wa,b=this.K.Vd(),f=b.oL(d,a);return f?f:b.Hn(a)}).ph}Ly(){}Be(){return this.he.Ca()}da(){return{firstAbsoluteUpdate:this.er,saveState:this.Jh}}oa(d){d&&(this.er=d.firstAbsoluteUpdate,this.Jh=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class f extends d.Xa.Xe{constructor(c){super(c)}Gc(){}ue(){}ne(){const c=this.K.Hd(),g=kc(this),m=this.Be();switch(c){case "behavior":return this.ez(g.pc(m));case "effect":return this.ez(g[m]);case "plugin":return this.ez(g.pc(m));case "world-instance":return this.ez(this.Qk())}}Wh(){const c=this.oo();return!this.GO(c,this.Qk())}Xh(){return d.Yd(this.Jh)?!1:!this.GO(this.Jh,this.Qk())}GO(c,g){return c.Kl(g)}oo(){const c=super.oo();return this.My(c)}Iy(){const c=
super.Iy();return this.My(c)}Ly(){}ez(c){return d.dm(c,d.Ya)?c.toArray().slice(0,3):c.slice(0,3)}My(c){return d.dm(c,d.Ya)?c:new d.Ya(c[0],c[1],c[2],1)}uC(){return!0}zj(){return!0}Cp(){var c=this.K.rb(),g=this.K.za();const m=this.K.Bb();(c=c.Ps(g,m,this.Pc))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.K.Hd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.Pc)||g.set(this.Pc,{$U:!1,color:new d.Ya(0,0,0,1)}))}yP(c,g,m){c=a.get(c).get(g).get(m);c.$U=!0;return c.color}xn(c,g){var m=this.K.rb(),
h=this.K.nb;c=this.K.za();var l=this.K.Bb();const n=this.K.Hd();if((l=m.Ps(c,l,this.Pc))&&1<l.length){if(l=lc(l,!0),m=m.Da(),m=mc(m,l))l=m.time-h.Ve(),0===l?this.yP(c,n,this.Pc).NT(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.K.Aa(l,!1,!0),m=d.Ya.EC(m,l[0]),h=d.Ya.EC(h,l[1]),g=d.Ya.EC(g,l[2]),this.yP(c,n,this.Pc).NT(m,h,g))}else this.Lj(g[0],g[1],g[2])}Bp(){const c=this.K.za();if(a.has(c)){var g=a.get(c),m=this.K.Hd();if(g.has(m)){var h=g.get(m);if(h.has(this.Pc)){var l=h.get(this.Pc),n=l.color;
l.$U&&this.Lj(n.Qa,n.Ua,n.Ta);0===h.size&&g.delete(m);0===g.size&&a.delete(c)}}}}Qk(){const c=this.K.Hd(),g=kc(this),m=this.Be();switch(c){case "behavior":return this.My(g.pc(m));case "effect":return g[m].clone();case "plugin":return this.My(g.pc(m));case "world-instance":return this.j().$a.clone()}}Lj(c,g,m){const h=this.K.Hd(),l=kc(this),n=this.Be();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=m;l.pg(n,b);break;case "effect":l[n].hs(c,g,m);break;case "plugin":b[0]=c;b[1]=g;b[2]=m;l.pg(n,b);break;
case "world-instance":this.j().o3(c,g,m)}}da(){}oa(){}}d.Xa.Xe.hW=f}
{"use strict";const d=self.B,a=d.Xa;class b extends d.Xa.Xe{constructor(f){super(f)}Gc(){}ue(){}ne(){return this.Qk()}Wh(){return this.oo()!==this.ne()}Xh(){return d.Yd(this.Jh)?!1:this.Jh!==this.ne()}zj(){return!1}xn(f,c){const g=this.K,m=g.nb,h=g.Hd();var l=g.rb();const n=m.za(),p=g.Bb();(l=l.Ps(n,p,this.Pc))&&1<l.length&&(l=lc(l),f=mc(f+m.Ve(),l))&&(c=f.value);switch(g.Os()){case "numeric":if(!a.gt.Mk(this.Be(),kc(this),c,h))return;break;case "angle":if(!a.Hw.Mk(this.Be(),kc(this),c,h))return;
break;case "boolean":if(!a.Jw.Mk(this.Be(),kc(this),c,h))return;break;case "color":if(!a.Uw.Mk(this.Be(),kc(this),c,h))return;break;case "text":if(!a.yy.Mk(this.Be(),kc(this),c,h))return}this.Lj(c)}Qk(){const f=this.K.Hd(),c=kc(this),g=this.Be();switch(f){case "behavior":return c.pc(g);case "effect":return c[g];case "instance-variable":return c.pe(g);case "plugin":return c.pc(g)}}Lj(f){const c=this.K.Hd(),g=kc(this),m=this.Be();switch(c){case "behavior":g.pg(m,f);break;case "effect":g[m]=f;break;
case "instance-variable":g.km(m,f);break;case "plugin":g.pg(m,f)}}}d.Xa.Xe.tM=b}
{"use strict";const d=self.B,a=new Map,b=(c,g,m,h,l)=>a.set(c,{Bda:g,Pba:m,Eca:h,round:l});b("offsetX",(c,g)=>c.R0(g),(c,g)=>c.rg(g),c=>c.ja(),!0);b("offsetY",(c,g)=>c.S0(g),(c,g)=>c.mh(g),c=>c.ka(),!0);b("offsetWidth",(c,g)=>c.wM(g),(c,g)=>c.pi(g),c=>c.aa(),!0);b("offsetHeight",(c,g)=>c.vM(g),(c,g)=>c.ki(g),c=>c.$(),!0);b("offsetAngle",(c,g)=>c.N0(g),(c,g)=>c.Yc(g),c=>c.Oa(),!1);b("offsetOpacity",(c,g,m,h)=>{m=c.qe()+g;0===h.xc?(1<m?h.xc+=m-1:0>m&&(h.xc+=m),c.O0(g)):(c=c.qe()+g,0<g&&0<h.xc?1<c&&
(h.xc+=c-1):0<g&&0>h.xc?(h.xc+=g,0<h.xc&&(h.xc=0)):0>g&&0<h.xc?(h.xc+=g,0>h.xc&&(h.xc=0)):0>g&&0>h.xc&&0>c&&(h.xc+=c))},(c,g)=>{c.Kk(g)},c=>c.qe(),!1);b("offsetOriginX",(c,g)=>c.P0(g),(c,g)=>c.pq(g),c=>c.zk(),!1);b("offsetOriginY",(c,g)=>c.Q0(g),(c,g)=>c.qq(g),c=>c.Ak(),!1);b("offsetZElevation",(c,g)=>c.T0(g),(c,g)=>c.Ze(g),c=>c.Za(),!0);b("offsetScaleX",(c,g,m)=>{const h=0>c.aa()?-1:1;c.wM(m.oj()*h*g)},(c,g,m)=>{c.pi(m.oj()*g)},(c,g)=>{const m=0>c.aa()?-1:1;if(c.Kn()){var h=c.Ba(),l=g.rb().JL(h.za());
l?h=h.aa()/l.oj():(l=h.za().la,h=l.Tn()?h.aa()/l.oj():1);return c.aa()*m/(g.oj()*h)}return c.aa()*m/g.oj()},!1);b("offsetScaleY",(c,g,m)=>{const h=0>c.$()?-1:1;c.vM(m.nj()*h*g)},(c,g,m)=>{c.ki(m.nj()*g)},(c,g)=>{const m=0>c.$()?-1:1;if(c.Jn()){var h=c.Ba(),l=g.rb().JL(h.za());l?h=h.$()/l.nj():(l=h.za().la,h=l.Tn()?h.$()/l.nj():1);return c.$()*m/(g.nj()*h)}return c.$()*m/g.nj()},!1);class f extends d.Xa.Xe{constructor(c){super(c);this.xc=this.Nb=0;this.lT=this.nT=this.mT=this.lH=this.nH=this.mH=null;
this.sI=!1;this.Wm=d.dm(this.K.rb(),d.L3)?new d.Xa.Xe.M0(this):new d.Xa.Xe.L0(this);const g=this.K.wa.Pc;switch(this.K.Hd()){case "world-instance":c=a.get(g);this.mH=c.Eca;this.nH=c.Bda;this.lH=c.Pba;this.sI=c.round;break;case "audio":this.mT=c.OL,this.nT=c.s3,this.lT=c.gV,this.sI=!0}}A(){this.lH=this.nH=this.mH=this.Wm=null;super.A()}zj(){return this.Wm.zj()}HN(c){this.Nb=c}Gc(){const c=this.Wm.Gc();"number"===typeof c&&(this.Nb=c);this.xc=0}ue(){const c=this.Wm.ue();"number"===typeof c&&(this.Nb=
c)}ne(){return this.Qk()}Wh(){return this.oo()!==this.ne()}Xh(){return d.Yd(this.Jh)?!1:this.Jh!==this.ne()}Cp(){this.Wm.Cp()}xn(c,g,m,h,l,n,p){return this.Wm.xn(c,g,m,h,l,n,p)}Bp(){this.Wm.Bp()}Qk(){const c=kc(this),g=this.Be(),m=this.j(),h=this.K.nb;switch(this.K.Hd()){case "behavior":return c.pc(g);case "effect":return c[g];case "instance-variable":return c.pe(g);case "plugin":return c.pc(g);case "world-instance":return this.mH(m,h);case "audio":return this.mT.call(this.Bb(),m,h)}}Lj(c){const g=
kc(this),m=this.Be(),h=this.j(),l=this.K.nb;switch(this.K.Hd()){case "behavior":g.MD(m,c);break;case "effect":g[m]+=c;break;case "instance-variable":g.P2(m,c);break;case "plugin":g.MD(m,c);break;case "world-instance":this.nH(h,c,l,this);break;case "audio":this.nT.call(this.Bb(),h,c,l,this)}}SQ(c){const g=kc(this),m=this.Be(),h=this.j(),l=this.K.nb;switch(this.K.Hd()){case "behavior":g.pg(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.km(m,c);break;case "plugin":g.pg(m,c);break;case "world-instance":this.lH(h,
c,l);break;case "audio":this.lT.call(this.Bb(),h,c,l)}}Fq(c,g,m,h,l,n){this.Wm.Fq(c,g,m,h,l,n)}Nk(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.Qk();this.Lj((0===c?this.sI?Math.round(h):h:d.toFixed(h,c))-h,g,m)}da(){return Object.assign(super.da(),{v:this.Nb,a:this.xc})}oa(c){c&&(super.oa(c),this.Nb=c.v,this.xc=c.a)}}d.Xa.Xe.uM=f}
{"use strict";class d{constructor(b){this.aJ=!1;this.tc=0;this.Wa=b;for(let f=0,c=this.Wa.length;f<c;f++)this.Wa[f].q2(this)}UN(){this.aJ=!0}ve(b){this.tc=b}qd(){return this.tc}Xc(){this.aJ=!1;this.tc=0}}class a{constructor(b){this.de=b}A(){this.de=null}Gc(){const b=this.de;this.de.re();return jc(b,()=>ic(b,()=>0,()=>b.Bb().ML()),()=>{})}ue(){}zj(){switch(this.de.re().Wd()){case "relative":return!1;case "absolute":return!0}}Cp(){var b=this.de.re(),f=b.wa.Pc;switch(b.Wd()){case "absolute":if(b.jD())b.iu.Xc();
else{const c=b.rb(),g=b.za();b=b.Bb();(f=c.Ps(g,b,f))&&1<f.length&&new d(f)}}}xn(b,f,c,g,m,h){var l=this.de,n=this.de.re();switch(n.Wd()){case "relative":n=l.Nb;l.Lj(f-n,c,g);h&&this.Fq(b,c,g,m,n,f);l.HN(f);break;case "absolute":if(c=n.rb(),b=n.nb,n.za(),n.Bb(),n.jD()){if(l=n.iu,g=lc(l.Wa,!0),c=c.Da(),c=mc(c,g))b=c.time-b.Ve(),0===b?(l.UN(),l.ve(l.qd()+f)):0>b||(n=n.Af(b),l.UN(),l.ve(l.qd()+(f-n)))}else l.SQ(f)}}Bp(){const b=this.de;var f=this.de.re();switch(f.Wd()){case "absolute":f.jD()&&(f=f.iu,
f.aJ&&b.SQ(f.qd()))}}Fq(b,f,c,g,m,h){const l=this.de;g||(f&&b===f.Da()?l.Nk(f.Wb(),f,c):c&&b===c.Da()?l.Nk(c.Wb(),f,c):0===h-m&&l.Nk(f.Wb(),f,c))}}self.B.Xa.Xe.L0=a}
{"use strict";class d{constructor(a){this.de=a}A(){this.de=null}Gc(){const a=this.de;a.er=!0;return this.Ly(a.oo())}ue(){const a=this.de;if(a.oo()!==a.Iy())return a.er=!0,this.Ly(a.Iy())}zj(){return!1}Cp(){}xn(a,b,f,c,g,m){const h=this.de,l=h.Nb;switch(h.re().Wd()){case "relative":h.Lj(b-l,f,c);m&&this.Fq(a,f,c,g,l,b);break;case "absolute":h.er?(h.er=!1,h.Lj(l,f,c)):(h.Lj(b-l,f,c),m&&this.Fq(a,f,c,g,l,b))}h.HN(b)}Bp(){}Ly(a){return a-this.de.ne()}Fq(a,b,f,c,g,m){const h=this.de;c?b&&a===b.Da()?h.Nk(b.Wb(),
b,f):f&&a===f.Da()?h.Nk(f.Wb(),b,f):f||h.Nk(b.Wb(),b,f):b&&a===b.Da()?h.Nk(b.Wb(),b,f):f&&a===f.Da()?h.Nk(f.Wb(),b,f):0===m-g&&h.Nk(b.Wb(),b,f)}}self.B.Xa.Xe.M0=d}
{"use strict";const d=self.B,a=self.ss;d.Xa.gt=class{constructor(){}static Mk(b,f,c,g){let m;switch(g){case "behavior":m=f.pc(b);break;case "effect":m=f[b];break;case "instance-variable":m=f.pe(b);break;case "plugin":m=f.pc(b)}return m===c?!1:!0}static Aa(b,f,c,g){if(!c)return c=g.wa,c=g.Vd().Hn(c),c.Wb();var m=g.bi();"default"===m&&(m="continuous");"combo"===g.Gx()&&(m="discrete");if("discrete"===m)return f.Wb();if("continuous"===m||"step"===m){"step"===m&&(m=g.rb().Qs(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var h=f.Da();const l=c.Da();m=f.Wb();const n=c.Wb();if(m===n)return m;b=d.normalize(b,h,l);const p=f.Vl();f=f.LC("cubic-bezier");c=c.LC("cubic-bezier");f&&f.Nv&&c&&c.Kz?(h=l-h,h=a.In(p)(h*b,0,1,h),h=a.In("cubicbezier")(h,m,m+f.FI,n+c.JG,n)):h=a.In(p)((l-h)*b,m,n-m,l-h);return"integer"===g.Gx()?Math.floor(h):h}}}}
{"use strict";const d=self.B;d.Xa.Hw=class{constructor(){}static Mk(a,b,f,c){let g;switch(c){case "behavior":g=b.pc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.pe(a);break;case "plugin":g=b.pc(a)}return g===f?!1:!0}static Aa(a,b,f,c){if(!f)return b=c.wa,b=c.Vd().Hn(b),b.Wb();var g=c.bi();"default"===g&&(g="continuous");"combo"===c.Gx()&&(g="discrete");if("discrete"===g)return b.Wb();if("continuous"===g||"step"===g){"step"===g&&(c=c.rb().Qs(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Da(),h=f.Da();c=b.Wb();f=f.Wb();if(g=b.LC("angle")){const l=g.rI;if(c===f&&0===l)return c;a=d.normalize(a,m,h);b=self.ss.In(b.Vl())(a,0,1,1);switch(g.BG){case "closest":return d.iJ(c,f,b,l);case "clockwise":return d.Wba(c,f,b,l);case "anti-clockwise":return d.Vba(c,f,b,l)}}else{if(c===f)return c;a=d.normalize(a,m,h);b=self.ss.In(b.Vl());return d.iJ(c,f,b(a,0,1,1))}}}}}"use strict";
self.B.Xa.Jw=class{constructor(){}static Mk(d,a,b,f){let c;switch(f){case "behavior":c=a.pc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.pe(d);break;case "plugin":c=a.pc(d)}return!!c===!!b?!1:!0}static Aa(d,a,b,f){return b?a.Wb()?1:0:(d=f.wa,d=f.Vd().Hn(d),d.Wb()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],f=[0,0,0];d.Xa.Uw=class{constructor(){}static Mk(c,g,m,h){let l;switch(h){case "behavior":l=g.pc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.pe(c);break;case "plugin":l=g.pc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(f.xU(m),a[0]=Math.floor(255*f.Qa),a[1]=Math.floor(255*f.Ua),a[2]=Math.floor(255*f.Ta));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(f.xU(l),b[0]=Math.floor(255*f.Qa),b[1]=Math.floor(255*f.Ua),b[2]=Math.floor(255*
f.Ta));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Aa(c,g,m,h){if(!m)return g=h.wa,g=h.Vd().Hn(g),g=g.Wb(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.bi();"default"===l&&(l="continuous");if("discrete"===l)return g=g.Wb(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.rb().Qs(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Da();l=m.Da();var n=g.Wb(),p=m.Wb();const q=d.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.ss.In(g.Vl());h=l-h;
l=h*q;a[0]=c===u?c:g(l,c,u-c,h);a[1]=m===w?m:g(l,m,w-m,h);a[2]=n===p?n:g(l,n,p-n,h);return a}}}}"use strict";self.B.Xa.yy=class{constructor(){}static Mk(d,a,b,f){let c;switch(f){case "behavior":c=a.pc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.pe(d);break;case "plugin":c=a.pc(d)}return c===b?!1:!0}static Aa(d,a,b,f){return b?a.Wb():(d=f.wa,d=f.Vd().Hn(d),d.Wb())}};
{"use strict";const d=self.B;d.tg=class{constructor(){this.Uv=new Map}A(){for(const a of this.Uv.values())a.A();this.Uv.clear();this.Uv=null}Dc(a){a=new d.G3(a);this.Uv.set(a.ya(),a)}U(a){return this.Uv.get(a)}static Jt(a,b,f,c){if(b)for(const g of b)d.tg.IO("create",g,a,f,c)}static Tt(a,b,f,c){a.length?b.forEach((g,m)=>{a[m].oa(g)}):b.forEach(g=>{d.tg.IO("load",g,a,f,c)})}static IO(a,b,f,c,g){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.BU]),a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}switch(a){case "load":m.oa(b);f.push(m);break;case "create":"function"!==typeof m.xk||m.xk()?f.push(m):m.A()}}}}
{"use strict";const d=self.B;d.G3=class{constructor(a){this.Fa="";this.Or=NaN;this.oB=0;this.Vf=this.Tf="default";this.RA=this.HA=!1;this.Er=1;this.Ne=null;a&&(this.Fa=a[0],this.Or=a[1],this.oB=a[2],this.Tf=a[3],this.Vf=a[4],this.HA=!!a[6],this.RA=!!a[7],this.Er=a[8],this.Ne=new d.$N(a[5],this))}A(){this.Ne.A();this.Ne=null}Us(){this.Ne||(this.Ne=new d.$N(null,this));return this.Ne}ya(){return this.Fa}wy(a){this.Fa=a}Ef(){return this.Or}Qs(){return this.oB}bi(){return this.Tf}Wd(){return this.Vf}Bx(){return this.HA}Fx(){return this.RA}fh(){return this.Er}da(){return{trackDataJson:this.Ne.da(),
name:this.Fa,totalTime:this.Or,step:this.oB,interpolationMode:this.Tf,resultMode:this.Vf,loop:this.HA,pingPong:this.RA,repeatCount:this.Er}}oa(a){a&&(this.Us().oa(a.trackDataJson),this.Fa=a.name,this.Or=a.totalTime,this.oB=a.step,this.Tf=a.interpolationMode,this.Vf=a.resultMode,this.HA=a.loop,this.RA=a.pingPong,this.Er=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.Ne=f;this.rm=this.fA=null;this.rl=this.el=NaN;this.Vf=this.Tf="default";this.Bg=!1;this.fc=this.Ch=null;this.Ie="";this.tr=null;this.GI=0;this.FA=this.Ne.Dd.Ef();this.xa=0;this.Fa="";b&&(b[0]&&(this.fA=b[0],this.el=b[0][2],this.rl=b[0][1]),this.Tf=b[1],this.Vf=b[2],this.Bg=!!b[3],b[6]&&(this.Ie=b[6]),b[7]&&(this.tr=b[7],this.GI=b[7][0],this.FA=b[7][1]),b[8]&&(this.rm=b[8]),b[8]&&(this.rm=b[8]),b[9]&&(this.xa=b[9]),b[10]&&(this.Fa=b[10]),this.Ch=
new d.iM(b[4],this),this.fc=new d.NM(b[5],this))}A(){this.Ne=this.fA=null;this.Ch&&(this.Ch.A(),this.Ch=null);this.fc&&(this.fc.A(),this.fc=null);this.tr=null}Us(){return this.Ne}mj(){this.Ch||(this.Ch=new d.iM(null,this));return this.Ch}Vd(){this.fc||(this.fc=new d.NM(null,this));return this.fc}aD(){return this.rl}Ls(){return this.el}bi(){return this.Tf}Wd(){return this.Vf}xk(){return this.Bg}Jk(b){this.Bg=!!b}Xl(){return this.Ie}Ve(){return this.GI}yk(){return this.FA}oj(){return this.rm[0]}nj(){this.rm||
(this.rm=[]);return this.rm[1]}uj(){return this.xa}ya(){return this.Fa}da(){return{keyframeDataJson:this.Ch.da(),propertyTrackDataJson:this.fc.da(),instanceData:this.fA,additionalInstanceData:this.rm,instanceUid:this.el,objectClassIndex:this.rl,interpolationMode:this.Tf,resultMode:this.Vf,enabled:this.Bg,id:this.Ie,nestedData:this.tr,type:this.xa,name:this.Fa}}oa(b){b&&(this.fA=b.instanceData,this.el=b.instanceUid,this.rl=b.objectClassIndex,this.Tf=b.interpolationMode,this.Vf=b.resultMode,this.Bg=
b.enabled,this.Ie=b.id,this.xa=b.type?b.type:0,this.Fa=b.name?b.name:"",this.FA=this.Ne.Dd.Ef(),b.nestedData&&(this.tr=b.nestedData,this.GI=this.tr[0],this.FA=this.tr[1]),b.additionalInstanceData&&(this.rm=b.additionalInstanceData),this.mj().oa(b.keyframeDataJson),this.Vd().oa(b.propertyTrackDataJson))}}d.$N=class{constructor(b,f){this.Dd=f;this.sp=[];d.tg.Jt(this.sp,b,a,this)}A(){this.Dd=null;for(const b of this.sp)b.A();d.C(this.sp);this.sp=null}WY(b,f){f=f.mj().ec;const c=f.length;for(let g=0;g<
c;g++){const m=f[g];if(m.Da()===b)return m}}mL(b,f){f=f.mj().ec;for(let c=f.length-1;0<=c;c--){const g=f[c];if(g.Da()<=b)return g}}*TU(){for(const b of this.sp)yield b}da(){return{trackDataItemsJson:this.sp.map(b=>b.da())}}oa(b){b&&d.tg.Tt(this.sp,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.fc=f;this.hB="";this.xa=this.Pc=this.Xf=null;this.WH=this.$H=NaN;this.Vf=this.Tf="default";this.Bg=!1;this.Ui=null;this.wz=!0;b&&(this.hB=b[0][0],this.Xf=b[0].slice(1),this.Pc=b[1],this.xa=b[2],this.$H=b[3],this.WH=b[4],this.Tf=b[5],this.Vf=b[6],this.Bg=!!b[7],this.Ui=new d.MM(b[8],this),this.wz=b[9])}A(){this.Ui.A();this.Xf=this.fc=this.Ui=null}Vd(){return this.fc}eh(){this.Ui||(this.Ui=new d.MM(null,this));return this.Ui}Hd(){return this.hB}uj(){return this.xa}SN(b){this.xa=
b}bi(){return this.Tf}Wd(){return this.Vf}xk(){return this.Bg}Jk(b){this.Bg=!!b}vC(){return!!this.wz}da(){return{propertyKeyframeDataJson:this.Ui.da(),sourceAdapterId:this.hB,sourceAdapterArguments:this.Xf,property:this.Pc,type:this.xa,min:this.$H,max:this.WH,interpolationMode:this.Tf,resultMode:this.Vf,enabled:this.Bg,canHavePropertyKeyframes:this.wz}}oa(b){b&&(this.hB=b.sourceAdapterId,this.Xf=b.sourceAdapterArguments,this.Pc=b.property,this.xa=b.type,this.$H=b.min,this.WH=b.max,this.Tf=b.interpolationMode,
this.Vf=b.resultMode,this.Bg=b.enabled,this.wz=b.canHavePropertyKeyframes,this.eh().oa(b.propertyKeyframeDataJson))}}d.NM=class{constructor(b,f){this.Eb=f;this.fp=[];d.tg.Jt(this.fp,b,a,this)}A(){this.Eb=null;for(const b of this.fp)b.A();d.C(this.fp);this.fp=null}wx(b){return b.eh().Jb[0]}Hn(b){return b.eh().Jb.Td(-1)}nZ(b,f){f=f.eh().Jb;const c=f.length;for(let g=0;g<c;g++){const m=f[g];if(m.Da()===b)return m}}oL(b,f){f=f.eh().Jb;const c=f.length;for(let g=0;g<c;g++){const m=f[g];if(m.Da()>=b)return m}}ai(b,
f){f=f.eh().Jb;for(let c=f.length-1;0<=c;c--){const g=f[c];if(g.Da()<=b)return g}}*CU(){for(const b of this.fp)yield b}da(){return{propertyTrackDataItemsJson:this.fp.map(b=>b.da())}}oa(b){b&&d.tg.Tt(this.fp,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.Ch=f;this.cd=-1;this.Fi="noease";this.Gi=!1;this.rv=this.Ng=null;b&&(this.cd=b[0],this.Fi=b[1],this.Gi=!!b[2],this.Ng=(b=b[3])?b.split(" "):[],this.rv=new Set(this.Ng.map(c=>c.toLowerCase())),this.Ke=null)}A(){this.Ch=null;d.C(this.Ng);this.Ng=null;this.rv.clear();this.rv=null}mj(){return this.Ch}xt(b){this.Ke=b}Da(){return this.cd}uq(b){this.cd=b;this.Ch.Rt()}Vl(){return this.Fi}Cj(b){this.Fi=b}xk(){return this.Gi}Jk(b){this.Gi=!!b}QN(b){this.Ng=
b?b.split(" "):[];this.rv=new Set(this.Ng.map(f=>f.toLowerCase()))}da(){return{time:this.cd,ease:this.Fi,enable:this.Gi,tags:this.Ng}}oa(b){b&&(this.cd=b.time,this.Fi=b.ease,this.Gi=b.enable,this.Ng=b.tags,this.rv=new Set(this.Ng.map(f=>f.toLowerCase())))}}d.iM=class{constructor(b,f){this.Eb=f;this.ec=[];d.tg.Jt(this.ec,b,a,this);this.Rt()}A(){this.Eb=null;for(const b of this.ec)b.A();d.C(this.ec);this.ec=null}Rt(){this.ec.sort((b,f)=>b.Da()-f.Da());for(let b=0;b<this.ec.length;b++)this.ec[b].xt(this.ec[b+
1])}lV(){const b=new a(null,this);this.ec.push(b);this.Rt();return b}JW(b){for(const f of this.ec){if(!b(f))continue;const c=this.ec.indexOf(f);-1!==c&&(f.A(),this.ec.splice(c,1))}this.w3();this.Rt()}w3(){this.ec.sort((b,f)=>b.Da()-f.Da())}YY(b){return this.ec.indexOf(b)}XY(b){return this.ec[b]}da(){return{keyframeDataItemsJson:this.ec.map(b=>b.da())}}oa(b){b&&(d.tg.Tt(this.ec,b.keyframeDataItemsJson,a,this),this.Rt())}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.Ui=f;this.ph=this.tc=null;this.xa="";this.cd=NaN;this.Fi="noease";this.Gi=!1;this.xi=null;this.Sk=void 0;b&&(this.tc=b[0][0],this.ph=b[0][1],this.xa=b[0][2],this.cd=b[1],this.Fi=b[2],this.Gi=!!b[3],this.xi=null,b[4]&&(this.xi=new d.wV(b[4],this)),this.Ke=null)}A(){this.Ui=null;this.xi&&(this.xi.A(),this.xi=null)}xt(b){this.Ke=b}qd(){return this.tc}ve(b){"color"===this.xa&&d.cm(b)?(this.tc[0]=d.dD(b),this.tc[1]=d.XC(b),this.tc[2]=d.NC(b)):
this.tc=b}nN(b){"color"===this.xa&&d.cm(b)?(this.ph[0]=d.dD(b),this.ph[1]=d.XC(b),this.ph[2]=d.NC(b)):this.ph=b}Wb(){const b=this.Ui.wa.Wd();if("relative"===b)return this.qd();if("absolute"===b)return this.ph}uj(){return this.xa}SN(b){this.xa=b}Da(){return this.cd}uq(b){this.cd=b;this.Ui.St()}Vl(){return this.Fi}Cj(b){this.Fi=b}xk(){return this.Gi}Jk(b){this.Gi=!!b}LC(b){if(this.xi){if(this.Sk||null===this.Sk)return this.Sk;var f=this.xi.uo;if(!f)return this.Sk=null;var c=f.length;for(let g=0;g<c;g++){const m=
f[g];if(m.Xl()===b)return this.Sk=m}return this.Sk=null}}da(){const b=this.xi;return{addonDataJson:b?b.da():b,value:this.tc,aValue:this.ph,type:this.xa,time:this.cd,ease:this.Fi,enable:this.Gi}}oa(b){b&&(b.addonDataJson&&this.xi.nla(b.addonDataJson),this.tc=b.value,this.ph=b.aValue,this.xa=b.type,this.cd=b.time,this.Fi=b.ease,this.Gi=b.enable)}}d.MM=class{constructor(b,f){this.wa=f;this.Jb=[];d.tg.Jt(this.Jb,b,a,this);this.St()}A(){this.wa=null;for(const b of this.Jb)b.A();d.C(this.Jb);this.Jb=null}St(){this.Jb.sort((b,
f)=>b.Da()-f.Da());for(let b=0;b<this.Jb.length;b++)this.Jb[b].xt(this.Jb[b+1])}jK(){const b=new a(null,this);this.Jb.push(b);this.St();return b}OK(b){for(const f of this.Jb){if(!b(f))continue;const c=this.Jb.indexOf(f);-1!==c&&(f.A(),this.Jb.splice(c,1))}this.x3();this.St()}x3(){this.Jb.sort((b,f)=>b.Da()-f.Da())}da(){return{propertyKeyframeDataItemsJson:this.Jb.map(b=>b.da())}}oa(b){b&&(d.tg.Tt(this.Jb,b.propertyKeyframeDataItemsJson,a,this),this.St())}}}
{"use strict";const d=self.B;class a{constructor(c,g){this.xi=g;this.Ie=c[0];this.Zk=c[1]}A(){this.Zk=this.xi=null}Xl(){return this.Ie}da(){return{id:this.Ie,data:this.Zk}}oa(c){c&&(this.Ie=c.id,this.Zk=c.data)}}class b extends a{constructor(c,g){super(c,g);this.FI=this.Zk[0];this.Nv=!!this.Zk[1];this.JG=this.Zk[2];this.Kz=!!this.Zk[3]}A(){super.A()}da(){return Object.assign(super.da(),{startAnchor:this.FI,startEnable:!!this.Nv,endAnchor:this.JG,endEnable:!!this.Kz})}oa(c){c&&(super.oa(c),this.FI=
c.startAnchor,this.Nv=!!c.startEnable,this.JG=c.endAnchor,this.Kz=!!c.endEnable)}}class f extends a{constructor(c,g){super(c,g);this.BG=this.Zk[0];this.rI=this.Zk[1]}A(){super.A()}da(){return Object.assign(super.da(),{direction:this.BG,revolutions:this.rI})}oa(c){c&&(super.oa(c),this.BG=c.direction,this.rI=c.revolutions)}}d.wV=class{constructor(c){this.uo=[];d.tg.Jt(this.uo,c,{BU:0,map:new Map([["cubic-bezier",b],["angle",f]])},this)}A(){for(const c of this.uo)c.A();d.C(this.uo);this.uo=null}da(){return{addonDataItemsJson:this.uo.map(c=>
c.da())}}oa(c){c&&d.tg.Tt(this.uo,c.addonDataItemsJson,{BU:"id",map:new Map([["cubic-bezier",b],["angle",f]])},this)}}}
{"use strict";const d=self.B;let a=0;d.L3=class extends d.jo{constructor(b,f){super(`tween-${a++}`,b,f);this.Ie="";this.yR=!1;this.hH="start-value";this.nb=this.TS=this.SS=this.dc=null}JK(){for(const b of this.Dd.Us().TU())this.cb.push(d.eO.La(this,b));this.nb=this.cb[0]}re(){return this.nb.Wa[0]}za(){var b=this.cb;if(b&&b.length&&(this.nb=b=b[0])){var f=b.za();return b.em()?f:void 0}}Xl(){return this.Ie}DM(){if(this.TS)for(const b of this.TS)b(this);if(!this.Pf)for(const b of this.cb)b.Xh()}ND(){this.Oq=
this.g.bk}XK(){if(!this.Jo&&(this.Jo=!0,this.SS))for(const b of this.SS)b(this)}uq(b){this.MO();super.uq(b)}Gc(b){if(!this.Cm&&"current-state"===this.hH)for(const f of this.cb)f.Wh();super.Gc(b)}we(b=!1){super.we(b);if(!this.Pf)for(const f of this.cb)f.co()}Xc(b=!0,f=!1){this.MO();super.Xc(b,f)}MO(){for(const b of this.cb){const f=c=>{c=c.Da();const g=this.Ef();return 0!==c&&c!==g};b.KW(f);b.ax(f)}}Yt(){if(this.Kg)return!0;const b=this.za();if(b&&b.F().Hf())return!1;this.ub.yK(this);this.bN();return!0}xe(b,
f,c){this.dc||(this.dc=this.za());if(this.dc&&!this.dc.$s()&&(f=this.dc.Rd,-1!==f&&(b=c*f),0!==b||0!==this.AA)){this.AA=b;c=this.Sb+b*this.Oc;b=this.Dd.Or;this.Sb=0>c?0:c>=b?b:c;c=!1;f=this.Bx();var g=this.Fx();f||g?f&&!g?0<this.Oc?this.Sb>=b&&this.lc(0):0>=this.Sb&&this.lc(b):!f&&g?0<this.Oc?this.Sb>=b&&(this.lc(b),this.Dj(-1*this.Oc),1===this.Bd?this.yd<this.fh()?(this.yd++,this.Bd=0):c=!0:0===this.Bd&&(this.Bd=1)):0>=this.Sb&&(this.lc(0),this.Dj(-1*this.Oc),1===this.Bd?this.yd<this.fh()?(this.yd++,
this.Bd=0):c=!0:0===this.Bd&&(this.Bd=1)):f&&g&&(0<this.Oc?this.Sb>=b&&(this.lc(b),this.Dj(-1*this.Oc)):0>=this.Sb&&(this.lc(0),this.Dj(-1*this.Oc))):0<this.Oc?this.Sb>=b&&(this.yd<this.fh()?(this.yd++,this.lc(0)):(this.lc(b),c=!0)):0>=this.Sb&&(this.yd<this.fh()?(this.yd++,this.lc(b)):(this.lc(0),c=!0));c?(this.nb.xN(),this.we(!0),this.ND()):(this.nb.Aa(this.Sb,!0,!1,!1,this.He,!1),this.He&&(this.He=!1))}}da(){const b=super.da();return Object.assign(b,{tweenDataItemJson:this.Dd.da(),id:this.Ie,destroyInstanceOnComplete:this.yR,
initialValueMode:this.hH})}oa(b){b&&(this.Dd.oa(b.tweenDataItemJson),super.oa(b),this.Ie=b.id,this.yR=b.destroyInstanceOnComplete,this.hH=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B;d.eO=class extends d.EE{constructor(a,b){super(a,b);this.vI=this.Lu=null}static La(a,b){return d.m(d.eO,a,b)}zO(){1===this.Wa.length?this.Lu=this.Wa[0]:(this.Lu=this.Wa[0],this.vI=this.Wa[1])}IK(){for(const a of this.Eb.Vd().CU())this.Wa.push(d.dO.La(this,a));this.zO()}wn(){}Aa(a,b,f=!1,c=!1,g,m=!1){this.dc||this.za();if(this.dc){if(this.dc.$s()||m&&this.F().Hf())return!1;this.vI?(this.Lu.Aa(a,f,c),this.vI.Aa(a,f,c)):this.Lu.Aa(a,f,c);0!==this.Lu.gk&&(this.Pa||(this.Pa=
this.dc.j()),this.Pa&&this.Pa.Ea())}}vn(){}oa(a){super.oa(a);this.zO()}}}
{"use strict";const d=self.B;d.dO=class extends d.Xa{constructor(a,b){super(a,b);this.pu=!1}static La(a,b){return d.m(d.dO,a,b)}Aa(a,b=!1,f=!1){if(this.pu){var c=this.Jb[0];var g=this.Jb[1]}else{if(b)c=this.fc.ai(a,this.wa);else{if(this.yc){g=this.rb();const m=this.yc.Ke;c=this.yc.Da();g=m?m.Da():g.Ef();if(a<=c||a>=g)this.yc=this.fc.ai(a,this.wa)}else this.yc=this.fc.ai(a,this.wa);c=this.yc}g=c.Ke}this.he.Aa(a,c,g,b,f)}kK(){const a=this.wa.eh().jK();this.yc=null;this.pu=2>=this.Ns().length;return a}ax(a){this.yc=
null;this.wa.eh().OK(a);this.pu=2>=this.Ns().length}da(){return{sourceAdapterJson:this.Bb().da(),basic:this.pu}}oa(a){a&&(this.Bb().oa(a.sourceAdapterJson),this.pu=a.basic)}}}
{"use strict";const d=self.B,a=self.ss;d.bO=class extends d.ca{constructor(b){super();this.Fa=b[0];this.Yf=[];for(var f of b[1])b=d.cO.La(this,f),this.Yf.push(b);for(f=0;f<this.Yf.length;f++)this.Yf[f].xt(this.Yf[f+1]);this.Cv=new Map;this.AT=new Map;this.H8();a.kV(this.Fa,(c,g,m,h)=>this.Aa(c,g,m,h))}static La(b){return d.m(d.bO,b)}A(){for(const b of this.Yf)b.A();d.C(this.Yf);this.Yf=null;this.Cv.clear();this.Cv=null;this.AT.clear();this.AT=null}KY(b){for(let f=this.Yf.length-1;0<=f;f--){const c=
this.Yf[f];if(c.Zf<b)return c}}JY(b){for(let f=this.Yf.length-1;0<=f;f--){const c=this.Yf[f];if(c.Zf<=b)return c}}Aa(b,f,c,g){var m=b/g;b=this.JY(m);g=b.Ke;g||(b=this.KY(m),g=b.Ke);m=d.$ca(m,b.Zf,g.Zf,g.Zf-b.Zf);const h=b.Zf,l=b.aw,n=b.Zf+b.rT,p=b.aw+b.Gba,q=g.Zf+g.CR,u=g.aw+g.Qaa,w=g.Zf;g=g.aw;g=a.In("spline")(m,h,l,n,p,q,u,w,g,this.Cv.get(b));g+=b.aw;return(1-g)*f+g*(f+c)}H8(){this.Cv.clear();for(let f=0;f<this.Yf.length-1;f++){var b=this.Yf[f];if(!b.Nv)continue;const c=this.Yf[f+1];this.Cv.set(b,
a.pY(b.Zf,b.Zf+b.rT,c.Zf+c.CR,c.Zf))}}}}{"use strict";const d=self.B;d.cO=class extends d.ca{constructor(a,b){super();this.Zf=b[0];this.aw=b[1];this.rT=b[2];this.Gba=b[3];this.CR=b[4];this.Qaa=b[5];this.Nv=b[6];this.Kz=b[7];this.Ke=null}A(){}static La(a,b){return d.m(d.cO,a,b)}xt(a){this.Ke=a}}}{"use strict";const d=self.B;d.K3=class extends d.ca{constructor(a){super();this.g=a;this.sB=[]}A(){for(const a of this.sB)a.A();d.C(this.sB);this.sB=null}La(a){this.sB.push(d.bO.La(a))}}}
{"use strict";const d=self.B;d.v3=class extends d.ca{constructor(a){super();this.J=a;this.fb=[];this.fb.push(d.m(d.uE,this));this.Ka=0;this.Di=this.fb[0]}A(){for(const a of this.fb)a.A();d.C(this.fb);this.J=this.Di=null}F(){return this.J}N(){return this.Di}nd(){this.N().nd()}z1(){var a=this.fb,b=++this.Ka;b===a.length?(b=d.m(d.uE,this),a.push(b),this.Di=b):(a=a[b],a.Xc(),this.Di=a)}A1(){const a=this.fb,b=++this.Ka;b===a.length&&a.push(d.m(d.uE,this));const f=a[b];f.oW(a[b-1]);this.Di=f}Ia(){this.Di=
this.fb[--this.Ka]}ao(a){const b=this.fb;for(let f=0,c=b.length;f<c;++f)b[f].ao(a)}}}
{"use strict";const d=self.B;d.uE=class extends d.ca{constructor(a){super();this.fb=a;this.J=this.fb.F();this.zd=this.J.G().Vc();this.Tb=!0;this.D=[];this.mc=[]}A(){this.Rw();this.zd=this.J=this.fb=null}Rw(){d.C(this.D);d.C(this.mc)}F(){return this.J}PL(){return this.Tb?!!this.J.D.length:!!this.D.length}ia(){return this.Tb?this.J.ia():this.D}EZ(){return!!this.mc.length}kL(){const a=this.ia();return a.length?a:this.mc}Xc(){this.Tb=!0;d.C(this.mc)}nd(){this.Tb=!0}oW(a){a.Tb?this.Xc():(this.Tb=!1,d.Cc(this.D,
a.D),d.C(this.mc))}$t(a){this.D.push(a)}qo(a){this.mc.push(a)}De(a){this.Tb=!!a}Ej(a){this.Tb=!1;d.C(this.D);this.D.push(a)}oy(a){this.Tb=!1;d.Cc(this.D,a)}At(a){this.Tb=!1;d.C(this.D);for(const b of a)this.D.push(b)}iK(a,b){for(const f of b)a.has(f)||this.mc.push(f)}I3(a){for(const b of a)this.D.push(b);d.dg(this.mc,a)}hm(a){a&&(this.zd.Te().Fb().Md?(this.Tb&&(d.C(this.D),d.Cc(this.mc,a.F().ia()),this.Tb=!1),a=this.mc.indexOf(a),-1!==a&&(this.D.push(this.mc[a]),this.mc.splice(a,1))):this.Ej(a))}ao(a){d.dg(this.D,
a);d.dg(this.mc,a)}}}
{"use strict";const d=self.B;d.YX=class extends d.ca{constructor(a){super();this.ta=a;this.g=this.ta.G();this.fb=[];this.fb.push(d.m(d.UK,this,null));this.Ka=0;this.Mz=[]}A(){for(const a of this.fb)a.A();d.C(this.fb);d.C(this.Mz);this.g=this.ta=null}ga(){return this.ta}G(){return this.g}Te(){return this.fb[this.Ka]}Ma(a){var b=this.fb;const f=++this.Ka;if(f===b.length)return a=d.m(d.UK,this,a),b.push(a),a;b=b[f];b.Xc(a);return b}Ia(){--this.Ka}B1(a){this.Mz.push(a)}r1(){this.Mz.pop()}uY(){const a=this.Mz;
return 0===a.length?null:a.Td(-1)}}}
{"use strict";const d=self.B;d.UK=class extends d.ca{constructor(a,b){super();this.fb=a;this.g=this.fb.G();this.Bu=b;this.Mf=this.Xk=0;this.IG=this.Wo=!1;this.NG=null;this.WG=this.OR=0}A(){this.Xc(null);this.g=this.fb=null}Xc(a){this.Bu=a;this.Mf=this.Xk=0;this.IG=this.Wo=!1}uF(a,b){this.Bu=a;this.Xk=0;this.Mf=b}cN(){this.Mf=this.Xk=0}Fb(){return this.Bu}ng(a){this.Bu=a}jm(a){this.Xk=a}my(a){this.Mf=a}lm(a){this.Wo=!!a}mq(a){this.IG=!!a}F2(a){this.NG=a}h_(a,b){this.OR=a;this.WG=b}uy(a){this.WG=a}xj(){const a=
this.Bu;return a.vA?!0:this.Xk<a.Qb.length-1?!!a.od().length:!1}}}{"use strict";const d=self.B;d.v0=class extends d.ca{constructor(a){super();this.ta=a;this.g=this.ta.G();this.fb=[];this.Ka=-1;this.Di=null;this.dA=[]}A(){d.C(this.fb);this.g=this.ta=null}p$(a){this.dA=a;a=this.dA.slice(0);this.fb.push(a);this.Ka=0;this.Di=a}ga(){return this.ta}G(){return this.g}Ip(){return this.Di}Ma(){const a=++this.Ka,b=this.fb;a===b.length?b.push(this.dA.slice(0)):d.Cc(b[a],this.dA);this.Di=b[a]}Ia(){this.Di=this.fb[--this.Ka]}}}
{"use strict";const d=self.B;d.x0=class extends d.ca{constructor(a){super();this.ta=a;this.g=this.ta.G();this.fb=[];this.Ka=-1}A(){d.C(this.fb);this.g=this.ta=null}ga(){return this.ta}G(){return this.g}cM(){return 0<=this.Ka}Ip(){return this.fb[this.Ka]}Ma(){++this.Ka;if(this.Ka===this.fb.length){var a=d.m(d.w0,this);this.fb.push(a);return a}a=this.fb[this.Ka];a.Xc();return a}Ia(){--this.Ka}cY(a){const b=this.fb;for(let f=this.Ka;0<=f;--f){const c=b[f];if(c.ya()===a)return c}return null}}}
{"use strict";const d=self.B;d.w0=class extends d.ca{constructor(a){super();this.jf=a;this.Fa="";this.Ka=0;this.nc=!1}Xc(){this.Fa="";this.Ka=0;this.nc=!1}wy(a){this.Fa=a}ya(){return this.Fa}vc(a){this.Ka=a}Ca(){return this.Ka}we(){this.nc=!0}}}{"use strict";const d=self.B;d.DV=class extends d.ca{constructor(){super();this.fb=[];this.Ka=-1}A(){d.C(this.fb)}Ip(){return this.fb[this.Ka]}Ma(){++this.Ka;if(this.Ka===this.fb.length){const a=[];this.fb.push(a);return a}return this.fb[this.Ka]}Ia(){--this.Ka}}}
{"use strict";const d=self.B;function a(b,f){return b.Ca()-f.Ca()}d.XX=class extends d.ca{constructor(b){super();this.g=b;this.ju=[];this.wI=new Map;this.XF=[];this.SR=new Map;this.mG=new Map;this.tG=new Map;this.iz=new Map;this.gR=new Map;this.LG=new Map;this.uba=0;this.WF=[];this.naa=[];this.HS=[];this.UG=new Map;this.zd=d.m(d.YX,this);this.ld=d.m(d.v0,this);this.jf=d.m(d.x0,this);this.QI=[];this.YA=[];this.XA=[];this.lG=this.bl=this.Al=0;this.Wf=[];this.oz=[];self.c3_callFunction=(f,c)=>this.Ry(f,
c)}A(){this.Qw();this.zd.A();this.zd=null;this.ld.A();this.ld=null;d.C(this.YA);d.C(this.XA);this.g=null;d.C(this.ju);this.wI.clear()}La(b){b=d.m(d.WX,this,b);this.ju.push(b);this.wI.set(b.ya().toLowerCase(),b)}v4(b){this.QI.push(b)}Hb(){for(const b of this.UG.values())b.Hb(!1);for(const b of this.ju)b.Hb();for(const b of this.ju)b.OF();for(const b of this.QI)b.Hb(!1);d.C(this.QI);this.ld.p$(this.HS)}G(){return this.g}jL(b){return this.wI.get(b.toLowerCase())||null}V8(b){this.XF.push(b);this.SR.set(b.RR,
b)}S8(b){this.mG.set(b.eb,b)}Q8(b){this.tG.set(b.eb,b)}P8(b){this.iz.set(b.eb,b)}U8(b){this.UG.set(b.Wz.toLowerCase(),b)}T8(b){this.LG.set(b.eb,b);b.Hf()?this.WF.push(b):this.naa.push(b)}Jy(b){2<=b.length&&b.sort(a);let f=this.gR.get(b.length);f||(f=[],this.gR.set(b.length,f));for(let g=0,m=f.length;g<m;++g){const h=f[g];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}f.push(b);return b}E6(b){this.HS.push(b.Oo);return this.uba++}Vc(){return this.zd}Se(){return this.Vc().Te()}Fb(){return this.Se().Fb()}yf(){const b=
this.Se();return b.Fb().eL(b.Xk)}Gs(){const b=this.Se();return b.Fb().aL(b.Mf)}kY(b){const f=[];for(b=b.Np();b;)d.ln(f,b.cP()),b=b.Np();return f}nP(b){const f={};for(const c of this.kY(b))f[c.ci()]=c.rP();return Object.create(Object.prototype,f)}VC(b){return this.LG.get(b)||null}zY(b){return this.mG.get(b)||null}iY(b){return this.iz.get(b)||null}yx(b){return this.UG.get(b.toLowerCase())||null}X1(){for(const b of this.WF)b.d2()}iL(b){return this.SR.get(b.toLowerCase())||null}AY(b){return(b=this.mG.get(b))&&
b.Ni?b:null}Y1(){for(const b of this.XF)b.a2()}qQ(){for(const b of this.ju)b.k9()}i2(b){this.qQ();this.Al++;for(const f of b.Bw())if(b=f.Nc)this.g.kt(f),b.qa(),this.g.it();this.Al--}async EW(b){this.qQ();this.Al++;for(const f of this.t5(b))await this.g.Gp(f);this.Al--}*t5(b){for(const f of b.Bw())if(b=f.Nc)this.g.kt(f),yield*b.gb(),this.g.it()}gu(b,f,c,g){let m=!1;if(!b.Kb())return this.RD(f,c,g);this.bl++;for(const h of b.Bw())if(b=h.Nc){this.g.kt(h);for(const l of b.Ez){const n=l.gu(f,c,g);m=m||
n}b=b.gu(f,c,g);m=m||b;this.g.it()}this.bl--;return m}*Lt(b,f,c,g){let m=!1;if(!b.Kb())return this.RD(f,c,g);this.bl++;for(const h of b.Bw())if(b=h.Nc){this.g.kt(h);for(const l of b.Ez){const n=yield*l.Lt(f,c,g);m=m||n}b=yield*b.Lt(f,c,g);m=m||b;this.g.it()}this.bl--;return m}RD(b,f,c){this.YA.push([b,f,c]);return!1}G1(b,f,c){let g=null;const m=new Promise(h=>g=h);this.XA.push([b,f,c,g]);return m}*u9(){if(this.g.Ys())throw Error("should not be in breakpoint");const b=this.g.ab;for(;this.XA.length;){const [f,
c,g,m]=this.XA.shift(),h=yield*this.Lt(b,f,c,g);m(h)}}async eN(){for(const b of this.u9())await this.g.Gp(b)}CD(){return 0<this.bl}Pt(){return++this.bl}Mt(){--this.bl}b0(){return 0<this.Al}Wx(){return this.b0()||this.CD()}v9(b){for(const [f,c,g]of this.YA)this.gu(b,f,c,g);d.C(this.YA)}ke(b){b?this.lG++:this.lG--}bM(){return 0<this.lG}Fp(b){for(let f=0,c=b.length;f<c;++f)b[f].Sm.nd()}lg(b){for(let f=0,c=b.length;f<c;++f)b[f].Sm.z1()}te(b){for(let f=0,c=b.length;f<c;++f)b[f].Sm.A1()}Gb(b){for(let f=
0,c=b.length;f<c;++f)b[f].Sm.Ia()}mC(){const b=d.m(d.bE,this);this.Wf.push(b);return b}k2(){if(this.Wf.length){var b=this.Se(),f=!1;this.Al++;for(let c=0,g=this.Wf.length;c<g;++c){const m=this.Wf[c];m.TQ()&&m.m9(b);m.Iv&&(f=!0)}f&&this.$O();this.Al--}}async GW(){if(this.Wf.length){var b=this.Se(),f=!1;this.Al++;for(let c=0,g=this.Wf.length;c<g;++c){const m=this.Wf[c];m.TQ()&&await m.n5(b);m.Iv&&(f=!0)}f&&this.$O();this.Al--}}$O(){const b=d.Zba(this.Wf,f=>f.Iv);for(const f of b)f.A()}Qw(){for(const b of this.Wf)b.A();
d.C(this.Wf)}O1(b){for(const f of this.Wf)f.ao(b)}kC(b){this.oz.push(b)}Sw(){d.C(this.oz)}mZ(){const b=Promise.all(this.oz);this.oz=[];return b}da(){return{groups:this.C9(),cnds:this.B9(),acts:this.A9(),vars:this.O9(),waits:this.K9()}}oa(b){this.A7(b.groups);this.v7(b.cnds);this.u7(b.acts);this.N7(b.vars);this.J7(b.waits)}C9(){const b={};for(const f of this.XF)b[f.eb.toString()]=f.ct();return b}A7(b){for(const [f,c]of Object.entries(b))(b=this.AY(parseInt(f,10)))&&b.nq(c)}B9(){const b={};for(const [f,
c]of this.tG){const g=c.da();g&&(b[f.toString()]=g)}return b}v7(b){const f=new Map;for(const [c,g]of Object.entries(b))f.set(parseInt(c,10),g);for(const [c,g]of this.tG)g.oa(f.get(c)||null)}A9(){const b={};for(const [f,c]of this.iz){const g=c.da();g&&(b[f.toString()]=g)}return b}u7(b){const f=new Map;for(const [c,g]of Object.entries(b))f.set(parseInt(c,10),g);for(const [c,g]of this.iz)g.oa(f.get(c)||null)}O9(){const b={};for(const [f,c]of this.LG)c.pb||!c.Hf()&&!c.Bh||(b[f.toString()]=c.qd());return b}N7(b){for(const [f,
c]of Object.entries(b))(b=this.VC(parseInt(f,10)))&&b.ve(c)}K9(){return this.Wf.filter(b=>!b.$_()).map(b=>b.da())}J7(b){this.Qw();for(const f of b)(b=d.bE.S4(this,f))&&this.Wf.push(b)}JC(b){for(;b;)if(b=b.Np(),b instanceof d.ys)return b;return null}Ry(b,f){Array.isArray(f)||(f=[]);b=this.yx(b.toLowerCase());if(!b)return null;if(!b.hh())return b.Is();var c=b.Dg;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].Oo);while(f.length<c.length)}c=b.oe();return c.ZD(c.pd(),b.xl,b.Is(),...f)}}}
{"use strict";const d=self.B;d.WX=class extends d.ca{constructor(a,b){super();this.ta=a;this.g=a.G();this.Fa=b[0];this.Lz=[];this.tB=new Map;this.IR=new Map;this.Raa=new Map;this.Ru=!1;this.hT=[];this.Ez=[];this.hR=new Set;for(const f of b[1])this.JO(f,null,this.Lz);this.Ti=this.g.zb?{type:"sheet",name:this.Fa,Cw:0,children:[]}:null}A(){this.g=this.ta=null}JO(a,b,f){switch(a[0]){case 0:case 3:this.Q4(a,b,f);break;case 1:this.R4(a,b,f);break;case 2:this.V4(a,b,f);break;case 4:this.T4(a,b);break;case 5:this.a5(a,
b,f);break;default:throw Error("invalid event type");}}Q4(a,b,f){a=d.sk.La(this,b,a);if(a.Md){f.push(a);f=a.Qb;for(let c=0,g=f.length;c<g;++c)f[c].Vn()&&this.EP(a,c)}else a.Vn()?this.EP(a,0):f.push(a)}T4(a,b){a=d.ys.La(this,b,a);this.ta.U8(a)}R4(a,b,f){a=d.gx.La(this,b,a);f.push(a)}V4(a,b,f){a=d.TK.La(this,b,a);f.push(a)}a5(a,b,f){a=d.dx.La(this,b,a);f.push(a)}EP(a,b){a.Md||this.ta.v4(a);var f=a.eL(b),c=f.Ga,g=f.F();if(f.nS){var m=this.IR.get(g);m||(m=new Map,this.IR.set(g,m));f=f.EY().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(f);c||(c=[],g.set(f,c));c.push([a,b])}else m=this.tB.get(g),m||(m={KJ:new Map,fw:new Map},this.tB.set(g,m)),(g=f.ig())?(f=m.fw.get(g),f||(f=new Map,m.fw.set(g,f))):f=m.KJ,m=f.get(c),m||(m=[],f.set(c,m)),m.push([a,b])}Hb(){const a=this.Lz;for(let b=0,f=a.length;b<f;++b)a[b].Hb(b<f-1&&a[b+1]instanceof d.sk&&a[b+1].Vx())}u4(a){this.hT.push(a)}OF(){d.C(this.Ez);this.qO(this);this.hR.clear()}qO(a){const b=a.Ez,f=a.hR;for(const c of this.hT){const g=c.Wu;c.Cb&&
a!==g&&!f.has(g)&&(f.add(g),g.qO(a),b.push(g))}}ga(){return this.ta}G(){return this.g}ya(){return this.Fa}kQ(a,b){this.Raa.set(b,a)}k9(){this.Ru=!1}qa(){if(!this.Ru){var a=this.g,b=a.uD(),f=b?performance.now():0;this.Ru=!0;var c=this.ga(),g=c.Se();for(const m of this.Lz)m.qa(g),c.Fp(m.od()),c.Sw(),a.Gd();g.Xc(null);b&&(this.Ti.Cw+=performance.now()-f)}}*gb(){if(!this.Ru){this.Ru=!0;var a=this.g,b=this.ga(),f=b.Se();for(const c of this.Lz)yield*c.gb(f),b.Fp(c.od()),b.Sw(),a.Gd();f.Xc(null)}}gu(a,b,
f){if(b){const c=b.F();this.MF(a,b,c,f);for(const g of c.xh)this.MF(a,b,g,f)}else return this.MF(a,b,null,null)}MF(a,b,f,c){f=this.tB.get(f);if(!f)return!1;c=c?f.fw.get(c):f.KJ;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,m]of c)c=this.ZO(b,g,m),a=a||c;return a}*Lt(a,b,f){if(b){const c=b.F();yield*this.TE(a,b,c,f);for(const g of c.xh)yield*this.TE(a,b,g,f)}else return yield*this.TE(a,b,null,null)}*TE(a,b,f,c){f=this.tB.get(f);if(!f)return!1;c=c?f.fw.get(c):f.KJ;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,m]of c)c=g.le()?this.ZO(b,g,m):yield*this.h5(b,g,m),a=a||c;return a}ZO(a,b,f){const c=this.g,g=this.ta,m=g.Fb(),h=g.Vc(),l=g.bl;let n=!1;m&&g.lg(m.pd());g.lg(b.pd());const p=1<l;p&&g.ld.Ma();const q=h.Ma(b);a&&(b.Qb[f].F().N().Ej(a),a.Ob()&&a.ni());a=!0;if(b.Ba()){const u=b.tp;for(let w=0,r=u.length;w<r;++w)if(!u[w].dN(q)){a=!1;break}}a&&(c.Ek(),b.Md?b.j2(q,f):b.qa(q),n=q.Wo);h.Ia();p&&g.ld.Ia();g.Gb(b.pd());m&&g.Gb(m.pd());m||1!==l||(g.Sw(),g.bM()||c.Gd());return n}*h5(a,
b,f){const c=this.g,g=this.ta,m=g.Fb(),h=g.Vc(),l=g.bl;let n=!1;m&&g.lg(m.pd());g.lg(b.pd());const p=1<l;p&&g.ld.Ma();const q=h.Ma(b);a&&(b.Qb[f].F().N().Ej(a),a.Ob()&&a.ni());a=!0;if(b.Ba()){const u=b.tp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].LK(q))){a=!1;break}}a&&(c.Ek(),b.Md?yield*b.FW(q,f):yield*b.gb(q),n=q.Wo);h.Ia();p&&g.ld.Ia();g.Gb(b.pd());m&&g.Gb(m.pd());m||1!==l||(g.Sw(),g.bM()||c.Gd());return n}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*f(){return!0}d.sk=class extends d.ca{constructor(c,g,m){super();this.Nc=c;this.g=c.G();this.sc=g;this.Pd=null;this.zd=this.g.ga().Vc();this.Le=[];this.Gr=[];this.Ou=this.wA=this.vA=this.XR=!1;this.Md=!!m[2];this.mA=!1;this.tp=null;this.Qb=[];this.Lb=[];this.Nh=[];this.vi=b;this.no=f;this.vH=this.Ni=!1;this.RR="";this.oA=!1;this.Ti=this.Cz=null;this.eb=m[4];this.Wq=m[5];this.Nc.kQ(this,this.Wq);this.Na=this.g.zb?{Uc:m[3][0],FJ:m[3][1],
UT:!1,lJ:!1,mJ:!1,VT:!1}:null;this.ga().S8(this);3===m[0]&&this.b7(m[1]);c=0;for(var h of m[6])g=d.AK.La(this,h,c++),this.Qb.push(g),this.vO(g.F());c=0;for(const l of m[7])h=d.Gw.La(this,l,c++),this.Lb.push(h);if(9===m.length){m=m[8];for(const l of m)this.Nc.JO(l,this,this.Nh)}this.Qb.length&&(this.mA=null===this.Qb[0].F()&&this.Qb[0].Ga===d.H.lb.na.SK);0===this.Qb.length&&(this.Qb=a);0===this.Lb.length&&(this.Lb=a);0===this.Nh.length&&(this.Nh=a)}static La(c,g,m){return d.m(d.sk,c,g,m)}b7(c){this.Ni=
!0;this.oA=this.vH=!!c[0];this.RR=c[1].toLowerCase();this.Cz=[];this.ga().V8(this);this.g.zb&&(this.Ti={type:"group",name:c[1],Cw:0,children:[]})}m4(c){this.Cz.push(c)}pO(c,g){for(const m of c.zg.tl)g.includes(m)||g.push(m)}wO(c,g){if(c)if(g.includes(c)||g.push(c),c.Va)for(const m of c.Io)m.Ob()&&this.pO(m,g);else c.Ob()&&this.pO(c,g)}vO(c){this.wO(c,this.Le)}q4(c){this.wO(c,this.Gr)}r2(){this.Le=this.g.Hc}Hb(c){this.Ou=!!c;this.V6();this.W6();for(const m of this.Qb)m.Hb();if(0<this.Lb.length){c=
!1;for(var g of this.Lb)g.Hb(),g.NZ()&&(c=!0);c?(this.vi=this.o9,this.no=this.p5):(this.vi=this.n9,this.no=this.o5)}g=this.Nh;for(let m=0,h=g.length;m<h;++m)g[m].Hb(m<h-1&&g[m+1]instanceof d.sk&&g[m+1].Vx());this.Na&&this.W$();this.Ti&&this.G6().Ti.children.push(this.Ti)}G6(){let c=this.Ba();for(;c;){if(c.Ni)return c;c=c.Ba()}return this.Nc}W$(){const c=this.Na;c.UT=this.Qb.every(g=>g.le());c.lJ=this.Lb.every(g=>g.le());c.mJ=this.Nh.every(g=>g.le());c.VT=c.UT&&c.lJ&&c.mJ}V6(){if(this.Ni){var c=this.Ba();
for(this.wA=!0;c;){if(!c.Ni){this.wA=!1;break}c=c.Ba()}}}U6(){var c=this.g.Hc;if(this.Le===c)this.Gr=c;else{this.Gr=d.pJ(this.Le);for(c=this.Ba();c;){for(var g of c.Le)this.q4(g);c=c.Ba()}g=this.ga();this.Le=g.Jy(this.Le);this.Gr=g.Jy(this.Gr)}}W6(){if(this.FZ()){this.tp=[];for(var c=this.Ba();c;)this.tp.push(c),c=c.Ba();this.tp.reverse()}}Bt(){this.vA=!0;this.sc&&this.sc.Bt()}od(){return this.Le}pd(){this.XR||(this.XR=!0,this.U6());return this.Gr}PZ(c){return this.Le.includes(c)}ga(){return this.Nc.ga()}G(){return this.g}Ba(){return this.sc}v$(c){this.Pd=
c}Np(){return this.Pd||this.sc}wD(){return this.Na&&this.Na.FJ}Rn(){return this.wD()&&this.Na.Uc}Vx(){return this.mA}ct(){return this.oA}a2(){this.nq(this.vH)}nq(c){c=!!c;if(!this.Ni)throw Error("not a group");if(this.oA!==c){this.oA=c;for(const g of this.Cz)g.fO();this.Cz.length&&(c=this.g.Ra().Nc)&&c.OF()}}Vn(){return this.Qb.length&&this.Qb[0].Vn()}V_(){return this.Pd&&this.Pd instanceof d.ys}FZ(){return this.V_()||this.Qb.some(c=>c.Vn())}eL(c){c=Math.floor(c);if(0>c||c>=this.Qb.length)throw new RangeError("invalid condition index");
return this.Qb[c]}U_(c){let g=c.Ca();if(0===g)return!0;for(--g;0<=g;--g)if(this.Qb[g].F()===c.F())return!1;return!0}aL(c){c=Math.floor(c);if(0>c||c>=this.Lb.length)throw new RangeError("invalid action index");return this.Lb[c]}T6(c){c=Math.floor(c);return 0<=c&&c<this.Lb.length}cP(){return this.Nh.filter(c=>c instanceof d.gx)}dN(c){c.ng(this);let g=!1;const m=this.Qb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.jm(h);if(n.qA)throw Error("trigger cannot be used as sub-event to a loop");if(n.qa())g=
!0;else if(!this.Md)return!1}return this.Md?g:!0}j2(c,g){c.ng(this);this.Qb[g].qa()&&(this.vi(c,0)&&this.Rk(),c.lm(!0))}*LK(c){c.ng(this);let g=!1;const m=this.Qb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.jm(h);if(n.qA)throw Error("trigger cannot be used as sub-event to a loop");if(n.le()?n.qa():yield*n.gb())g=!0;else if(!this.Md)return!1}return this.Md?g:!0}*FW(c,g){c.ng(this);g=this.Qb[g];if(g.le()?g.qa():yield*g.gb())(this.Yw()?this.vi(c,0):yield*this.no(c,0))&&(this.Zw()?this.Rk():yield*this.Kt()),
c.lm(!0)}qa(c){c.ng(this);this.mA||c.mq(!1);this.Md?this.t9(c):this.Wy(c)}*gb(c){if(this.Rn()||this.g.kc())yield this;c.ng(this);this.mA||c.mq(!1);this.Md?yield*this.A5(c):yield*this.QE(c)}t9(c){const g=this.Qb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Vn()||(c.jm(l),h=h.qa(),m=m||h)}c.lm(m);m&&(this.vi(c,0)&&this.Rk(),this.Ou&&c.mq(!0))}*A5(c){const g=this.Qb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Vn()||(c.jm(l),h=h.le()?h.qa():yield*h.gb(),m=m||h)}c.lm(m);
m&&((this.Yw()?this.vi(c,0):yield*this.no(c,0))&&(this.Zw()?this.Rk():yield*this.Kt()),this.Ou&&c.mq(!0))}Wy(c){const g=this.Qb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.jm(m);if(!l.qa()){c.lm(!1);return}}c.lm(!0);this.vi(c,0)&&this.Rk();c.Wo&&this.Ou&&c.mq(!0)}*QE(c){const g=this.Qb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.jm(m);if(l.le()?!l.qa():!(yield*l.gb())){c.lm(!1);return}}c.lm(!0);(this.Yw()?this.vi(c,0):yield*this.no(c,0))&&(this.Zw()?this.Rk():yield*this.Kt());c.Wo&&this.Ou&&
c.mq(!0)}n9(c,g){const m=this.Lb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.my(h),g.qa();return!0}*o5(c,g){const m=this.Lb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.my(h),g.le()?g.qa():yield*g.gb();return!0}o9(c,g){const m=this.ga(),h=this.Lb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.my(l);const p=g.qa();if(g.sK()&&!0===p)return!1;g.kg()&&p instanceof Promise&&m.kC(p)}return!0}*p5(c,g){const m=this.ga(),h=this.Lb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.my(l);let p;p=g.le()?g.qa():yield*g.gb();if(g.sK()&&
!0===p)return!1;g.kg()&&p instanceof Promise&&m.kC(p)}return!0}l9(c){this.vi(c,c.Mf)&&this.Rk()}*m5(c){if(yield*this.no(c,c.Mf))yield*this.Kt()}Rk(){if(this.Nh.length){var c=this.Ni&&this.g.uD(),g=c?performance.now():0,m=this.zd,h=m.Ma(this);this.vA?this.y9(h):this.x9(h);m.Ia();c&&(this.Ti.Cw+=performance.now()-g)}}y9(c){const g=this.Ni,m=this.wA,h=this.ga(),l=this.Nh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.od(),r=!m||!g&&n<q;r&&h.te(w);u.qa(c);r?h.Gb(w):h.Fp(w)}}x9(c){const g=this.Nh;
for(let m=0,h=g.length;m<h;++m)g[m].qa(c)}*Kt(){if(this.Nh.length){var c=this.zd,g=c.Ma(this);this.vA?yield*this.D5(g):yield*this.C5(g);c.Ia()}}*D5(c){const g=this.Ni,m=this.wA,h=this.ga(),l=this.Nh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.od(),r=!m||!g&&n<q;r&&h.te(w);yield*u.gb(c);r?h.Gb(w):h.Fp(w)}}*C5(c){const g=this.Nh;for(let m=0,h=g.length;m<h;++m)yield*g[m].gb(c)}mg(c,g){this.g.Ek();g.cN();const m=this.Qb;if(!this.Md)for(let h=c.Xk+1,l=m.length;h<l;++h)if(c=m[h],g.jm(h),!c.qa())return!1;
this.vi(g,0)&&this.Rk();return!0}*fg(c,g){this.g.Ek();g.cN();const m=this.Qb;if(!this.Md)for(let h=c.Xk+1,l=m.length;h<l;++h)if(c=m[h],g.jm(h),c.le()?!c.qa():!(yield*c.gb()))return!1;(this.Yw()?this.vi(g,0):yield*this.no(g,0))&&(this.Zw()?this.Rk():yield*this.Kt());return!0}le(){return!this.Rn()&&!this.g.kc()&&this.Na.VT}Yw(){return!this.g.kc()&&this.Na.lJ}Zw(){return!this.g.kc()&&this.Na.mJ}JE(c){if(this.Ba()){const g=this.tp;for(let m=0,h=g.length;m<h;++m)if(!g[m].dN(c))return!1}return!0}*KO(c){if(this.Ba()){const g=
this.tp;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].LK(c)))return!1}return!0}YO(c,g,m){0<g.length?m?(g=g.map(h=>h.U(0)),c.ld.Ma(),this.Pd.wt(g)):this.Pd.VX(g):m&&c.ld.Ma()}g2(c,g){let m,h;const l=0<c.length;var n=this.g;const p=this.zd,q=n.ga(),u=1<q.Pt();this.YO(q,g,u);l&&q.lg(c);g=p.Ma(this);this.JE(g)&&(n.Ek(),g.ng(this),(n=this.Pd.kg())&&([h,m]=this.Pd.xE()),this.Wy(g),n&&this.Pd.et(h));p.Ia();u&&q.ld.Ia();l&&q.Gb(c);q.Mt();return m}*BW(c,g){let m,h;if(this.Rn()||this.g.kc())yield this;const l=
0<c.length;var n=this.g;const p=this.zd,q=n.ga(),u=1<q.Pt();this.YO(q,g,u);l&&q.lg(c);g=p.Ma(this);if(yield*this.KO(g))n.Ek(),g.ng(this),(n=this.Pd.kg())&&([h,m]=this.Pd.xE()),yield*this.QE(g),n&&this.Pd.et(h);p.Ia();u&&q.ld.Ia();l&&q.Gb(c);q.Mt();return m}h2(c){const g=this.pd(),m=0<g.length,h=this.g,l=this.zd,n=h.ga(),p=1<n.Pt();p&&n.ld.Ma();this.Pd.wt(c);m&&n.lg(g);c=l.Ma(this);this.JE(c)&&(h.Ek(),c.ng(this),this.Wy(c));l.Ia();p&&n.ld.Ia();m&&n.Gb(g);n.Mt()}*DW(c){if(this.Rn()||this.g.kc())yield this;
const g=this.pd(),m=0<g.length,h=this.g,l=this.zd,n=h.ga(),p=1<n.Pt();p&&n.ld.Ma();this.Pd.wt(c);m&&n.lg(g);c=l.Ma(this);if(yield*this.KO(c))h.Ek(),c.ng(this),yield*this.QE(c);l.Ia();p&&n.ld.Ia();m&&n.Gb(g);n.Mt()}ZD(c,g,m,...h){let l,n;const p=0<c.length,q=this.g,u=this.zd,w=q.ga(),r=1<w.Pt();r&&w.ld.Ma();0<h.length&&this.Pd.wt(h);p&&w.lg(c);h=u.Ma(this);h.h_(g,m);u.B1(h);q.ry(!1);this.JE(h)&&(q.Ek(),h.ng(this),(g=this.Pd.kg())&&([n,l]=this.Pd.xE()),this.Wy(h),g&&this.Pd.et(n));q.ry(!0);u.Ia();u.r1();
r&&w.ld.Ia();p&&w.Gb(c);w.Mt();return l||h.WG}}}
{"use strict";const d=self.B,a=[];let b=!1;d.dx=class extends d.ca{constructor(f,c,g){super();const m=f.G(),h=f.ga();this.Nc=f;this.ta=h;this.g=f.G();this.sc=c;this.Ga=m.bh(g[1]);this.Wq=g[2];this.Nc.kQ(this,this.Wq);this.Na=m.zb?{Uc:g[3][0],FJ:g[3][1]}:null}static La(f,c,g){return d.m(d.dx,f,c,g)}Hb(){const f=this.Ga,c=this.g.ga().nP(this);this.Ga=f.bind(null,this.g.Li,c)}Ba(){return this.sc}Np(){return this.sc}wD(){return this.Na&&this.Na.FJ}Rn(){return this.wD()&&this.Na.Uc}Vx(){return!1}od(){return a}pd(){return this.sc?
this.sc.pd():a}qa(f){f.ng(this);this.ta.kC(this.z9())}async z9(){try{await this.Ga()}catch(f){console.error(`Unhandled exception running script %c${this.Nc.ya()}, event ${this.Wq}:`,"font-size: 1.2em; font-weight: bold;",f),self.Vg&&self.Vg.r$(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*gb(f){f.ng(this);if(this.Rn()||this.g.kc())yield this;
this.qa(f)}le(){return!this.Rn()&&!this.g.kc()}static AZ(){return b}static L2(){b=!0}}}
{"use strict";const d=self.B;d.ys=class extends d.ca{constructor(a,b,f){super();this.Nc=a;this.g=a.G();this.sc=b;const c=f[1];this.Wz=c[0];this.xl=c[1];this.Dg=c[2].map(g=>d.gx.La(a,this,g));this.rc=c[3];this.iH=[];this.Zu=c[4];this.qba=0;this.Au=-1;this.mu=new Map;this.Ld=d.sk.La(a,b,f);this.Ld.v$(this)}static La(a,b,f){return d.m(d.ys,a,b,f)}Hb(){for(const a of this.Dg)a.Hb();this.Ld.Hb(!1)}cP(){return this.Dg}W8(a){this.iH.push(a)}VX(a){const b=this.Dg;for(let f=0,c=b.length;f<c;++f)b[f].ve(a[f].U(0))}wt(a){const b=
this.Dg;for(let f=0,c=b.length;f<c;++f)b[f].ve(a[f])}YV(){return this.Dg.map(a=>a.qd())}Ba(){return this.sc}Np(){return this.sc}hh(){return this.rc}Is(){switch(this.xl){case 0:return null;case 2:return"";default:return 0}}oe(){return this.Ld}kg(){return this.Zu}xE(){const a=this.qba++;this.Au=a;let b;const f=new Promise(c=>b=c);this.mu.set(a,{resolve:b,QJ:0});return[a,f]}et(a){const b=this.mu.get(a);0===b.QJ&&(b.resolve(),this.mu.delete(a));this.Au=-1}l1(){this.mu.get(this.Au).QJ++;return this.Au}f2(a){this.Au=
a;this.mu.get(a).QJ--}}}
{"use strict";const d=self.B,a=[];d.gx=class extends d.ca{constructor(b,f,c){super();const g=b.ga();this.Nc=b;this.ta=g;this.g=b.G();this.sc=f;this.ld=g.ld;this.Fa=c[1];this.xa=c[2];this.Oo=c[3];this.Bh=!!c[4];this.pb=!!c[5];this.bba=f instanceof d.ys;this.eb=c[6];this.lv=this.g.ci(c[8]);this.Eba=m=>this.ve(m);this.Cba=()=>this.qd();this.ZR=!this.sc||this.Bh||this.pb;this.tc=this.Oo;this.UH=-1;this.XL()&&(this.tc=this.tc?1:0);!this.FD()||this.Bh||this.pb||(this.UH=g.E6(this));g.T8(this)}static La(b,
f,c){return d.m(d.gx,b,f,c)}Hb(){if(this.FD()&&!this.Bh&&!this.pb&&!this.bba){const b=this.ta.JC(this);b&&b.W8(this)}}ya(){return this.Fa}ci(){return this.lv}Ba(){return this.sc}Np(){return this.Ba()}Hf(){return!this.Ba()}FD(){return!this.Hf()}gm(){return 0===this.xa}hi(){return 1===this.xa}XL(){return 2===this.xa}Vx(){return!1}od(){return a}qa(){!this.FD()||this.Bh||this.pb||this.ve(this.Oo)}le(){return!0}*gb(b){this.qa(b)}ve(b){this.gm()?"number"!==typeof b&&(b=parseFloat(b)):this.hi()?"string"!==
typeof b&&(b=b.toString()):this.XL()&&(b=b?1:0);this.ZR?this.tc=b:this.ld.Ip()[this.UH]=b}qd(){return this.ZR?this.tc:this.ld.Ip()[this.UH]}d2(){this.tc=this.Oo}rP(){return{configurable:!1,enumerable:!0,get:this.Cba,set:this.Eba}}}}
{"use strict";const d=self.B,a=[];d.TK=class extends d.ca{constructor(b,f,c){super();const g=b.ga();this.Nc=b;this.ta=g;this.g=b.G();this.sc=f;this.Wu=null;this.Waa=c[1];this.Cb=!0}static La(b,f,c){return d.m(d.TK,b,f,c)}Hb(){this.Wu=this.ta.jL(this.Waa);this.Nc.u4(this);let b=this.Ba();for(;b;)b instanceof d.sk&&b.Ni&&b.m4(this),b=b.Ba();this.fO();this.g.zb&&this.Nc.Ti.children.push(this.Wu.Ti)}Ba(){return this.sc}od(){return a}qa(){const b=!!this.Ba(),f=this.g.Hc;b&&this.ta.lg(f);this.Wu.qa();b&&
this.ta.Gb(f)}*gb(){const b=!!this.Ba(),f=this.g.Hc;b&&this.ta.lg(f);yield*this.Wu.gb();b&&this.ta.Gb(f)}le(){return!1}fO(){let b=this.Ba();for(;b;){if(b instanceof d.sk&&b.Ni&&!b.ct()){this.Cb=!1;return}b=b.Ba()}this.Cb=!0}}}
{"use strict";const d=self.B;d.Dn=class extends d.ca{constructor(l){super();this.Rb=l;this.g=l.G()}Hb(){}static vW(l,n){return d.m([m,c,g,h,a,b][n[0]],l,n)}};class a extends d.Dn{constructor(l,n){super(l);this.vd=this.g.Rs();this.Ga=this.g.bh(n[1]);this.Ga!==d.H.lb.Fd.random&&this.Ga!==d.H.lb.Fd.eca||this.Rb.tE()}Cs(){return this.vd.Ij(this.Ga,this.vd)}}class b extends d.Dn{constructor(l,n){super(l);this.fr=null;this.Wz=n[1];this.Rb.tE()}Hb(){const l=this.g.ga();this.fr=l.yx(this.Wz);this.Wz=null;
const n=this.fr.oe();this.Yk=[...new Set([...this.Rb.oe().pd(),...n.pd()])];this.Yk=l.Jy(this.Yk)}Cs(){const l=this.fr;if(l.hh())return d.sk.prototype.ZD.bind(l.oe(),this.Yk,l.xl,l.Is());{const n=l.Is();return()=>n}}}function f(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.Dn{constructor(l,n){super(l);this.J=this.g.Ue(n[1]);this.Ga=this.g.bh(n[2]);this.aB=!!n[3];this.zd=this.g.ga().Vc();this.Rb.pF(this.J)}Cs(){return this.J.tb().Ij(this.Ga,this.J.rj().la)}hx(){const l=
this.J,n=l.N().kL();var p=n.length;if(0===p)return this.aB?"":0;p=f(this.Rb.Lv,p);this.zd.Te().F2(l);return this.Ga.apply(n[p].la,[])}}class g extends d.Dn{constructor(l,n){super(l);this.J=this.g.Ue(n[1]);this.Oba=n[3];this.aB=!!n[2];this.Rb.pF(this.J)}ZX(){const l=this.J.N().kL();var n=l.length;if(0===n)return this.aB?"":0;n=f(this.Rb.Lv,n);return l[n].A6(this.Oba)}}class m extends d.Dn{constructor(l,n){super(l);this.J=this.g.Ue(n[1]);this.Jc=this.J.mx(n[2]);this.Bi=this.J.Bs(n[2]);this.Ga=this.g.bh(n[3]);
this.aB=!!n[4];this.zd=this.g.ga().Vc();this.Rb.pF(this.J)}}class h extends d.Dn{constructor(l,n){super(l);this.Ju=null;this.KG=n[1]}Hb(){this.Ju=this.g.ga().VC(this.KG)}}}
{"use strict";const d=self.B;d.se=class extends d.ca{constructor(A,G,z){super();this.Rb=A;this.Ka=z;this.xa=G;this.U=null;this.pb=this.Oe=!1}static La(A,G,z){const F=G[0];return d.m([b,f,p,g,h,c,l,b,g,g,q,u,p,r,f,n,m,w,v,y][F],A,F,z,G)}Hb(){}tE(){this.Oe=!0}pF(A){this.Oe||!A||A.tb().Em||(this.Oe=!0)}Ca(){return this.Ka}G(){return this.Rb.G()}oe(){return this.Rb.oe()}};function a(A){A=self.PV[A];if(!A)throw Error("invalid expression number");return A}class b extends d.se{constructor(A,G,z,F){super(A,
G,z);this.Lv=0;A=F[1];this.MG=A[0];this.ur=[];this.Nz=null;for(let H=1,J=A.length;H<J;++H)this.ur.push(d.Dn.vW(this,A[H]));this.ur.length?this.U=this.CY:(this.U=a(this.MG),this.pb=!0)}Pk(A){if(0>A||A>=this.ur.length)throw new RangeError("invalid numbered node");return this.ur[A]}Hb(){for(var A of this.ur)A.Hb();A=a(this.MG);this.Nz=this.ur.length?A(this):A}CY(A){this.Lv=A;return this.Nz()}}class f extends b{constructor(A,G,z,F){super(A,G,z,F);this.U=this.rZ;14===G&&(this.oe().r2(),this.Rb instanceof
d.Gw&&this.oe().Bt())}rZ(A){this.Lv=A;A=this.Nz();return"string"===typeof A?A:""}x6(){return a(this.MG)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.U=this.X;this.pb=!1}X(A){this.Lv=A;A=this.Nz();return this.G().Ra().X(A)}}class g extends d.se{constructor(A,G,z,F){super(A,G,z);this.Iaa=F[1];this.U=this.tY;this.pb=!0}tY(){return this.Iaa}}class m extends d.se{constructor(A,G,z,F){super(A,G,z);this.uaa=F[1];this.U=this.rY;this.pb=!0}rY(){return this.uaa}}class h extends d.se{constructor(A,
G,z,F){super(A,G,z);this.J=this.G().Ue(F[1]);this.U=this.F;A=this.oe();A.vO(this.J);this.Rb instanceof d.Gw?A.Bt():A.Ba()&&A.Ba().Bt();this.pb=!0}F(){return this.J}}class l extends d.se{constructor(A,G,z,F){super(A,G,z);this.Fg=this.G().ab.Kp(F[1]);this.U=this.Vb;this.pb=!0}Vb(){return this.Fg}}class n extends d.se{constructor(A,G,z,F){super(A,G,z);this.Oh=this.G().ub.Ts(F[1]);this.U=this.rb;this.pb=!0}rb(){return this.Oh}}class p extends d.se{constructor(A,G,z,F){super(A,G,z);this.Saa=F[1];this.U=
this.FY;this.pb=!0}FY(){return this.Saa}}class q extends d.se{constructor(A,G,z,F){super(A,G,z);this.jS=F[1];(A=this.Rb.F())&&A.Va?(this.U=this.DY,this.tE()):(this.U=this.RY,this.pb=!0)}RY(){return this.jS}DY(A){A=A||0;const G=this.Rb.F();var z=G.N();const F=z.ia();if(F.length)A=F[A%F.length].F();else if(z.EZ())z=z.mc,A=z[A%z.length].F();else if(0<G.D.length)z=G.ia(),A=z[A%z.length].F();else return 0;return this.jS+A.lL(G.Ji)}}class u extends d.se{constructor(A,G,z,F){super(A,G,z);this.KG=F[1];this.Ju=
null;this.U=this.BY;this.pb=!0}Hb(){this.Ju=this.G().ga().VC(this.KG)}BY(){return this.Ju}}class w extends d.se{constructor(A,G,z,F){super(A,G,z);this.MR=F[1];this.fr=null;this.U=this.LY;this.pb=!0}Hb(){this.fr=this.G().ga().yx(this.MR);this.MR=null}LY(){return this.fr}}class r extends d.se{constructor(A,G,z,F){super(A,G,z);this.KI=[];this.FT=[];this.pb=!0;for(let H=1,J=F.length;H<J;++H)A=d.se.La(this.Rb,F[H],0),this.KI.push(A),this.FT.push(0),A.pb||(this.pb=!1);this.U=this.yZ}Hb(){for(const A of this.KI)A.Hb()}yZ(){const A=
this.KI,G=this.FT;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].U(0);return G}}class v extends d.se{constructor(A,G,z,F){super(A,G,z);this.Oaa=F[1];this.U=this.Vl;this.pb=!0}Vl(){return this.Oaa}}class y extends d.se{constructor(A,G,z,F){super(A,G,z);this.Aaa=F[1];this.U=this.uZ;this.pb=!0}uZ(){return this.Aaa}}}
{"use strict";const d=self.B;function a(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].U(0)}const b=[],f=function(){};d.AK=class extends d.ca{constructor(c,g,m){super();this.Ld=c;this.g=c.G();this.Ka=m;this.Ga=this.g.bh(g[1]);this.CH=0<g[3];this.nS=2===g[3];this.qA=!!g[4];this.Oi=!!g[5];this.Bh=!!g[6];this.eb=g[7];this.oS=this.Ld.Md;this.Jc=this.J=null;this.Bi=-1;this.vd=null;this.gb=this.qa=f;this.Ha=[];this.qb=[];this.Tk=!1;this.Ph=this.Ab=null;this.Na=this.g.zb?{Uc:g[8][0],sf:g[8][1]}:null;-1===
g[0]?this.vd=this.g.Rs():(this.J=this.g.Ue(g[0]),g[2]&&(this.Jc=this.J.mx(g[2]),this.Bi=this.J.Bs(g[2])),this.Ld.Ba()&&this.Ld.Ba().Bt());if(10===g.length){c=g[9];for(let h of c)this.Ha.push(d.se.La(this,h,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=b);this.Ld.ga().Q8(this)}static La(c,g,m){return d.m(d.AK,c,g,m)}Hb(){for(const c of this.Ha)c.Hb(),c.Oe&&(this.Tk=!0);this.nS?(this.qa=this.p9,this.gb=this.u5):this.vd?(this.HF(),this.gb=this.SE):this.J.tb().Em?(this.FF(),this.gb=
this.RE):this.Bh?(this.qa=this.w9,this.gb=this.B5):(this.qa=this.wQ,this.gb=this.v5)}HF(){this.eu(this.vd,this.vd,this.xF)}FF(){const c=this.J.tb(),g=this.J.rj().la;this.eu(c,g,this.wF)}eu(c,g,m){const h=this.Ga,l=this.Oi,n=this.Ha;if(0===n.length){const p=c.Ij(h,g);this.qa=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.pb)this.qa=c.eP(h,g,p.U(0));else{const q=c.Ij(h,g);this.qa=function(){return d.xor(q(p.U(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.pb&&q.pb)this.qa=c.fP(h,g,p.U(0),q.U(0));else{const u=c.Ij(h,g);this.qa=function(){return d.xor(u(p.U(0),q.U(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.pb&&q.pb&&u.pb)this.qa=c.gP(h,g,p.U(0),q.U(0),u.U(0));else{const w=c.Ij(h,g);this.qa=function(){return d.xor(w(p.U(0),q.U(0),u.U(0)),l)}}}else this.qa=m}F(){return this.J}ig(){return this.Jc}oe(){return this.Ld}G(){return this.g}Ca(){return this.Ka}fL(){return this.Ca()}Vn(){return this.CH}le(){return!this.Na.Uc&&!this.g.kc()&&
!this.Na.sf}ei(){this.Ab||(this.Ab=new Map);return this.Ab}Vs(){this.Ph||(this.Ph=new Map);return this.Ph}xF(){const c=this.qb;a(this.Ha,c);return d.xor(this.Ga.apply(this.vd,c),this.Oi)}*SE(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){var c=this.qb;a(this.Ha,c);c=this.Ga.apply(this.vd,c);d.fm(c)&&(c=yield*c);return d.xor(c,this.Oi)}return this.qa()}wF(){const c=this.qb;a(this.Ha,c);const g=this.J.rj().la;return d.xor(this.Ga.apply(g,c),this.Oi)}*RE(){if(this.Na.Uc||this.g.kc())yield this;
if(this.Na.sf){var c=this.qb;a(this.Ha,c);const g=this.J.rj().la;c=this.Ga.apply(g,c);d.fm(c)&&(c=yield*c);return d.xor(c,this.Oi)}return this.qa()}p9(){return!0}*u5(){if(this.Na.Uc||this.g.kc())yield this;return!0}w9(){var c=this.qb;a(this.Ha,c);c=this.Ga.apply(this.Jc||this.J,c);this.J.oc();return c}*B5(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){var c=this.qb;a(this.Ha,c);c=this.Ga.apply(this.Jc||this.J,c);d.fm(c)&&(c=yield*c);this.J.oc();return c}return this.qa()}wQ(){const c=this.Ha,
g=this.qb,m=this.J.N();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.Oe||(g[h]=n.U(0))}return m.Tb?this.q9(m):this.r9(m)}*v5(){if(this.Na.Uc||this.g.kc())yield this;return this.wQ()}aF(c){const g=this.Ha,m=this.qb;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.Oe&&(m[h]=n.U(c))}}q9(c){const g=this.J,m=g.Va,h=g.Ji,l=this.Bi,n=0<=l,p=g.ia(),q=this.Tk,u=this.qb,w=this.Ga,r=this.Oi,v=this.oS&&!this.CH;c.Rw();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.aF(A);var y=void 0;n?(y=m?z.F().En(h):0,
y=w.apply(z.Ic[l+y].la,u)):y=w.apply(z.la,u);d.xor(y,r)?c.$t(z):v&&c.qo(z)}g.xs(!0);c.De(!1);g.oc();return c.PL()}r9(c){const g=this.J;var m=g.Va;const h=g.Ji,l=g.Ob(),n=this.Bi,p=0<=n,q=this.Tk,u=this.qb,w=this.Ga,r=this.Oi,v=this.oS&&!this.CH,y=c.D,A=c.mc,G=v&&!this.Ld.U_(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.aF(M);var J=void 0;p?(J=m?R.F().En(h):0,J=w.apply(R.Ic[n+J].la,u)):J=w.apply(R.la,u);d.xor(J,r)?(H=!0,G?(y.push(R),l&&R.M8()):(z[F]=R,l&&R.y$(F),++F)):
G?(z[F]=R,l&&R.x$(F),++F):v&&(A.push(R),l&&R.L8())}d.Qe(z,F);l&&g.T$(G,F);m=H;G&&!H&&(H=this.D8(y));g.xs(m||v);return v?H:c.PL()}D8(c){var g=this.J;const m=g.Va;g=g.Ji;const h=this.Tk,l=this.Bi,n=0<=l,p=this.qb,q=this.Ga,u=this.Oi;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.aF(r);if(n){const y=m?w.F().En(g):0;w=q.apply(w.Ic[l+y].la,p)}else w=q.apply(w.la,p);if(d.xor(w,u))return!0}return!1}mt(c,g){return this.Ha[c].U(g)}EY(){const c=this.Ha;if(!c.length)throw Error("no parameters");return c[0].x6()}da(){if(!this.Ab||
!this.Ab.size)return null;const c={};for(const [g,m]of this.Ab.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].Sc,l[1].Sc,l[2]]));c[g]=h}return{ex:c}}oa(c){this.Ab&&(this.Ab.clear(),this.Ab=null);if(c){var g=this.g,m=c.ex;if(m){c=this.ei();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=d.m(d.ht,l.map(n=>[g.lj(n[0]),g.lj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const d=self.B;function a(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].U(0)}const b=[],f=function(){},c=function*(){};d.Gw=class extends d.ca{constructor(g,m,h){super();this.Ld=g;this.g=g=g.G();this.Ka=h;this.eb=4<=m.length?m[3]:-1;this.hz=5<=m.length?m[4]:0;this.Jc=this.J=this.Ga=null;this.Bi=-1;this.vd=null;this.vz="";this.Yk=this.uz=null;this.gb=this.qa=f;this.Ha=[];this.qb=[];this.Tk=!1;this.Ph=this.Ab=null;const l=(h=-3===m[0])?m[2]:m[5];this.Na=g.zb||h?{Uc:l[0],sf:l[1],index:l[2]}:
null;-1===m[0]?(this.vd=g.Rs(),this.Ga=g.bh(m[1])):-2===m[0]?this.vz=m[1]:h?(this.Ga=g.bh(m[1]),this.qa=this.$D,this.gb=this.HW,this.hz=1):(this.Ga=g.bh(m[1]),this.J=g.Ue(m[0]),m[2]&&(this.Jc=this.J.mx(m[2]),this.Bi=this.J.Bs(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ha.push(d.se.La(this,n,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=b);this.Ld.ga().P8(this)}static La(g,m,h){return d.m(d.Gw,g,m,h)}Hb(){for(var g of this.Ha)g.Hb(),g.Oe&&(this.Tk=!0);if(this.vd)this.HF(),
this.gb=this.SE;else if(this.vz)this.X9(),this.vz="";else if(this.qa===this.$D){g=this.Ga;const m=this.g.ga().nP(this.Ld);this.Ga=g.bind(null,this.g.Li,m)}else this.Jc?this.kg()?(this.qa=this.uQ,this.gb=this.r5):(this.qa=this.tQ,this.gb=this.q5):this.J.tb().Em?(this.FF(),this.gb=this.RE):this.kg()?(this.qa=this.yQ,this.gb=this.x5):this.Ha.length?this.Ha.every(m=>m.Oe)?(this.qa=this.xQ,this.gb=this.w5):this.Tk?(this.qa=this.AQ,this.gb=this.z5):this.Ha.every(m=>m.pb)?(a(this.Ha,this.qb),this.qa=this.vF,
this.gb=this.LO):(this.qa=this.zQ,this.gb=this.y5):(this.qa=this.vF,this.gb=this.LO)}HF(){this.eu(this.vd,this.vd,this.xF)}FF(){const g=this.J.tb(),m=this.J.rj().la;this.eu(g,m,this.wF)}X9(){const g=this.Ld.ga(),m=g.yx(this.vz);m.hh()?(this.uz=m.oe(),this.Yk=[...new Set([...this.Ld.pd(),...this.uz.pd()])],this.Yk=g.Jy(this.Yk),this.qa=d.sk.prototype.g2.bind(this.uz,this.Yk,this.Ha),this.gb=this.s5):(this.qa=f,this.gb=c)}eu(g,m,h){const l=this.Ga,n=this.Ha;if(0===n.length)this.qa=g.Ij(l,m);else if(1===
n.length){const p=n[0];if(p.pb)this.qa=g.eP(l,m,p.U(0));else{const q=g.Ij(l,m);this.qa=function(){return q(p.U(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.pb&&q.pb)this.qa=g.fP(l,m,p.U(0),q.U(0));else{const u=g.Ij(l,m);this.qa=function(){return u(p.U(0),q.U(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.pb&&q.pb&&u.pb)this.qa=g.gP(l,m,p.U(0),q.U(0),u.U(0));else{const w=g.Ij(l,m);this.qa=function(){return w(p.U(0),q.U(0),u.U(0))}}}else this.qa=h}kg(){return 1===this.hz}sK(){return 2===
this.hz}NZ(){return 0!==this.hz}F(){return this.J}oe(){return this.Ld}G(){return this.g}Ca(){return this.Ka}fL(){return this.Na.index}le(){return!this.Na.Uc&&!this.g.kc()&&!this.Na.sf}ei(){this.Ab||(this.Ab=new Map);return this.Ab}Vs(){this.Ph||(this.Ph=new Map);return this.Ph}xF(){const g=this.qb;a(this.Ha,g);return this.Ga.apply(this.vd,g)}*SE(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){const g=this.qb;a(this.Ha,g);return yield*this.Ga.apply(this.vd,g)}return this.qa()}*s5(){if(this.Na.Uc||
this.g.kc())yield this;return yield*this.uz.BW(this.Yk,this.Ha)}wF(){const g=this.qb;a(this.Ha,g);return this.Ga.apply(this.J.rj().la,g)}*RE(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){const g=this.qb;a(this.Ha,g);return yield*this.Ga.apply(this.J.rj().la,g)}return this.qa()}vF(){const g=this.qb,m=this.J.N().ia();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].la,g)}*LO(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){const g=this.qb,m=this.J.N().ia();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].la,
g)}else this.vF()}zQ(){const g=this.qb;a(this.Ha,g);const m=this.J.N().ia();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].la,g)}*y5(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){const g=this.qb;a(this.Ha,g);const m=this.J.N().ia();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].la,g)}else this.zQ()}xQ(){const g=this.Ha,m=this.qb,h=this.Ga,l=this.J.N().ia();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].U(n);h.apply(q.la,m)}}*w5(){if(this.Na.Uc||
this.g.kc())yield this;if(this.Na.sf){const g=this.Ha,m=this.qb,h=this.Ga,l=this.J.N().ia();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].U(n);yield*h.apply(q.la,m)}}else this.xQ()}AQ(){const g=this.Ha,m=this.qb,h=this.Ga,l=this.J.N().ia();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.Oe||(m[p]=n.U(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.Oe&&(m[u]=r.U(p))}h.apply(n.la,m)}}*z5(){if(this.Na.Uc||this.g.kc())yield this;
if(this.Na.sf){const m=this.Ha,h=this.qb,l=this.Ga,n=this.J.N().ia();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.Oe||(h[p]=g.U(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Oe&&(h[u]=r.U(p))}yield*l.apply(g.la,h)}}else this.AQ()}tQ(){var g=this.J;const m=g.Va,h=g.Ji,l=this.Ha,n=this.Tk,p=this.qb,q=this.Ga,u=this.Bi;g=g.N().ia();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Oe||(p[v]=w.U(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Oe&&(p[A]=r.U(v))}r=m?w.F().En(h):0;q.apply(w.Ic[u+r].la,p)}}*q5(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){var g=this.J;const l=g.Va,n=g.Ji,p=this.Ha,q=this.Tk,u=this.qb,w=this.Ga,r=this.Bi;g=g.N().ia();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Oe||(u[v]=m.U(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.Oe&&(u[A]=h.U(v))}h=l?m.F().En(n):0;yield*w.apply(m.Ic[r+h].la,u)}}else this.tQ()}yQ(){const g=this.Ha,m=this.qb,
h=this.Ga,l=this.J.N().ia(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].U(p);n.push(h.apply(u.la,m))}return Promise.all(n)}*x5(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){const g=this.Ha,m=this.qb,h=this.Ga,l=this.J.N().ia(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].U(p);n.push(yield*h.apply(u.la,m))}return Promise.all(n)}return this.yQ()}uQ(){var g=this.J;const m=g.Va,h=g.Ji,l=this.Ha,n=this.qb,
p=this.Ga,q=this.Bi;g=g.N().ia();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].U(w);const y=m?v.F().En(h):0;u.push(p.apply(v.Ic[q+y].la,n))}return Promise.all(u)}*r5(){if(this.Na.Uc||this.g.kc())yield this;if(this.Na.sf){var g=this.J;const m=g.Va,h=g.Ji,l=this.Ha,n=this.qb,p=this.Ga,q=this.Bi;g=g.N().ia();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].U(w);const y=m?v.F().En(h):0;u.push(yield*p.apply(v.Ic[q+
y].la,n))}return Promise.all(u)}return this.uQ()}async $D(){try{await this.Ga()}catch(g){console.error(`Unhandled exception running script %c${this.Ld.Nc.ya()}, event ${this.Ld.Wq}, action ${this.fL()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Vg&&self.Vg.r$(this),d.dx.AZ()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.dx.L2())}}*HW(){if(this.Na.Uc||
this.g.kc())yield this;return this.$D()}da(){return this.Ab&&this.Ab.size?{ex:d.DE(this.Ab)}:null}oa(g){this.Ab&&(this.Ab.clear(),this.Ab=null);g&&(g=g.ex)&&(this.Ab=d.KC(g))}}}
{"use strict";const d=self.B,a=new d.Ya;function b(L,O){return d.compare(this.j().ja(),L,O)}function f(L,O){return d.compare(this.j().ka(),L,O)}function c(){const L=this.j(),O=L.X();return O.Pp()?L.Tp(O.Bq()):L.dM(O.$f,L.Vb().SL(),L.Vb().ff)}function g(){var L=this.j();const O=L.Vb();L=L.Ec();return 0>L.ea||0>L.Z||L.S>O.aa()||L.M>O.$()}function m(L,O,U){const aa=this.N(),ha=aa.ia();if(!ha.length)return!1;let fa=ha[0];var ja=fa.j();let ua=fa,ka=d.LB(ja.ja(),ja.ka(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.j(),ja=d.LB(ja.ja(),ja.ka(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.hm(ua);return!0}function h(L){const O=this.j();O.ja()!==L&&(O.rg(L),O.Ea())}function l(L){const O=this.j();O.ka()!==L&&(O.mh(L),O.Ea())}function n(L,O){const U=this.j();U.TX(L,O)||(U.Lf(L,O),U.Ea())}function p(L,O){if(L&&(L=L.wL(this.W))){var [U,aa]=L.Yl(O);O=this.j();if(O.ja()!==U||O.ka()!==aa)O.Lf(U,aa),O.Ea()}}function q(L){if(0!==L){var O=this.j();O.$p(O.QC()*L,O.eD()*L);O.Ea()}}function u(L,
O){if(0!==O){var U=this.j();L=d.kb(L);U.$p(Math.cos(L)*O,Math.sin(L)*O);U.Ea()}}function w(){return this.j().ja()}function r(){return this.j().ka()}function v(){return this.g.ux(this.W)}function y(L,O){return d.compare(this.j().aa(),L,O)}function A(L,O){return d.compare(this.j().$(),L,O)}function G(L){const O=this.j();O.aa()!==L&&(O.pi(L),O.Ea())}function z(L){const O=this.j();O.$()!==L&&(O.ki(L),O.Ea())}function F(L,O){const U=this.j();if(U.aa()!==L||U.$()!==O)U.jd(L,O),U.Ea()}function H(){return this.j().aa()}
function J(){return this.j().$()}function M(){return this.j().Ec().S}function P(){return this.j().Ec().M}function R(){return this.j().Ec().ea}function T(){return this.j().Ec().Z}function Z(L,O){return d.yp(this.j().Oa(),d.kb(O))<=d.kb(L)}function X(L){return d.rf(this.j().Oa(),d.kb(L))}function ba(L,O){L=d.kb(L);O=d.kb(O);const U=this.j().Oa();return d.rf(O,L)?d.rf(U,L)&&!d.rf(U,O):!(!d.rf(U,L)&&d.rf(U,O))}function Y(L){const O=this.j();L=d.je(d.kb(L));isNaN(L)||O.Oa()===L||(O.Yc(L),O.Ea())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.j();O.Yc(O.Oa()+d.kb(L));O.Ea()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.j();O.Yc(O.Oa()-d.kb(L));O.Ea()}}function ya(L,O){const U=this.j(),aa=U.Oa();L=d.EB(aa,d.kb(O),d.kb(L));isNaN(L)||aa===L||(U.Yc(L),U.Ea())}function Na(L,O,U){const aa=this.j(),ha=aa.Oa();O-=aa.ja();U-=aa.ka();L=d.EB(ha,Math.atan2(U,O),d.kb(L));isNaN(L)||ha===L||(aa.Yc(L),aa.Ea())}function Sa(L,O){const U=this.j(),aa=U.Oa();L-=U.ja();O-=U.ka();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Yc(O),U.Ea())}function Ta(){return d.Tg(this.j().Oa())}
function Ua(L,O){return d.compare(d.GU(100*this.j().qe()),L,O)}function Wa(){return this.j().Fc()}function eb(L){const O=this.j();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&(O.oi(L),this.g.Y())}function fb(L){L=d.fa(L/100,0,1);const O=this.j();O.qe()!==L&&(O.Kk(L),this.g.Y())}function Pa(L){a.gs(L);L=this.j();L.$a.Kl(a)||(L.TN(a),this.g.Y())}function Va(){const L=this.j().$a;return d.fy(L.Qa,L.Ua,L.Ta,L.Sa)}function ib(){return d.GU(100*this.j().qe())}function Ya(L){return L?this.j().X()===L:!1}function vb(L){const O=
this.N(),U=O.ia();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.j(),ka=aa.j(),wa=ua.X().Ca(),Ga=ka.X().Ca();if(0===L){if(wa>Ga||wa===Ga&&ua.gh()>ka.gh())aa=ja}else if(wa<Ga||wa===Ga&&ua.gh()<ka.gh())aa=ja}O.hm(aa);return!0}function wb(L,O,U){const aa=this.j();L=0===L?aa.Za():aa.Ff();return d.compare(L,O,U)}function jb(){this.j().j4()}function xb(){this.j().h4()}function yb(L){L&&this.j().i4(L)}function zb(L,O){L=0===L;O&&(O=O.nL(this.za()))&&this.j().g4(O,
L)}function Ab(L){const O=this.j();O.Za()!==L&&(O.Ze(L),this.g.Y())}function Bb(){return this.j().X().Ca()}function Cb(){return this.j().X().ya()}function Db(){return this.j().gh()}function kb(){return this.j().Za()}function Eb(){return this.j().Ff()}function Fb(L,O){if(O=this.F().Ja.wk(O)){O=O.Ca();L=1===L;var U=this.j().Sf;U.bt(O)!==L&&(U.vN(O,L),U.oh(),this.g.Y())}}function Gb(L,O,U){var aa=this.F().Ja.wk(L);if(aa){L=aa.Ca();var ha=this.j().Sf,fa=ha.vk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Df().Ex(O);if("color"===aa){a.gs(U);O=fa[O];if(a.Kl(O))return;O.Yi(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.bt(L)&&this.g.Y()}}}const lb=d.m(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Sc<U.Sc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Sc<U.Sc?L.An(O,U):L.An(U,O)}function qa(L,O,U){return O.Sc<U.Sc?L.U(O,U):L.U(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.za();const ha=0!==U||0!==aa,fa=L.j(),ja=L.G(),ua=ja.xm;var ka=ja.yf();
const wa=ka.oe().Md;var Ga=ka.F();ka=ka.Oi;const Ia=O.N();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Tb?(lb.pa(fa.Ec()),lb.offset(U,aa),ua.qx(fa.X(),O,lb,mb),O=mb):wa?ja.S_()&&!Ia.mc.length&&Ia.D.length?O=Ia.D:(O=Ia.mc,ob=!0):O=Ia.D;ha&&(db=fa.ja(),Ha=fa.ka(),fa.$p(U,aa),fa.Ea());for(const da of O)if(ua.wq(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Lf(db,Ha),fa.Ea());d.C(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Fb().Md;O=Za.N();const U=O.D,aa=O.mc;O.Tb?(O.At(Qa),L&&(d.C(aa),
O.iK(Qa,Za.ia()))):L?ob?O.I3(Qa):(O.iK(Qa,U),O.At(Qa)):O.At(Qa);Za.oc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ae)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.xm,aa=O.ga(),ha=aa.Vc();var fa=aa.yf();const ja=fa.F();var ua=fa.ei(),ka=fa.Vs();fa=ha.Te();const wa=O.bk,Ga=wa-1,Ia=fa.Fb(),db=ha.Ma(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.m(d.ht),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ub().addEventListener("instancedestroy",
Ra=>{Ha.NK(Ra.instance)}));O=L.N();ua=ja.N().ia();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Tb?(U.qx(Ea.j().X(),L,Ea.j().Ec(),Xa),ka=Xa,U.lK(Ea,L,ka)):ka=O.ia();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.wq(Ea,La)||U.vK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.od(),aa.te(ma),na=ja.N(),da=L.N(),na.De(!1),da.De(!1),ja===L?(da=na.D,d.C(da),da.push(Ea),da.push(La),ja.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),
na.push(Ea),da.push(La),ja.oc(),L.oc()),Ia.mg(fa,db),aa.Gb(ma))}else qb(Ha,Ea,La)}d.C(Xa)}ha.Ia();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.xm,aa=O.ga(),ha=aa.Vc();var fa=aa.yf();const ja=fa.F();var ua=fa.ei(),ka=fa.Vs();fa=ha.Te();const wa=O.bk,Ga=wa-1,Ia=fa.Fb(),db=ha.Ma(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.m(d.ht),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ub().addEventListener("instancedestroy",Ra=>
{Ha.NK(Ra.instance)}));O=L.N();ua=ja.N().ia();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Tb?(U.qx(Ea.j().X(),L,Ea.j().Ec(),Xa),ka=Xa,U.lK(Ea,L,ka)):ka=O.ia();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.wq(Ea,La)||U.vK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.od(),aa.te(ma),na=ja.N(),da=L.N(),na.De(!1),da.De(!1),ja===L?(da=na.D,d.C(da),da.push(Ea),da.push(La),ja.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),
na.push(Ea),da.push(La),ja.oc(),L.oc()),yield*Ia.fg(fa,db),aa.Gb(ma))}else qb(Ha,Ea,La)}d.C(Xa)}ha.Ia();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.j().vj()}function rb(){return this.j().We()}function sb(L,O){const U=this.N().ia();if(0===U.length)return!1;const aa=L.N();var ha=aa.ia();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.xw())wa.Dp(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.Lx();ja.Dp(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.At(fa);L.oc();return!0}function tb(L,O){const U=this.N().ia();if(0===U.length)return!1;const aa=L.N();var ha=aa.ia();if(aa.Tb){var fa=[...this.g.BJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.We()&&ka.Dp(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.jk())2===O&&wa.We()||wa.Dp(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.At(fa);L.oc();return!0}function ub(L,O){const U=this.N().ia();if(0===U.length)return!1;const aa=L.N();var ha=aa.ia();if(aa.Tb){var fa=[...this.g.BJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].PC(O);null!==ka&&ka.Dp(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.oy(fa);L.oc();return!0}function gb(L,O){return d.compare(this.W.ox(),
L,O)}function e(L,O,U,aa,ha,fa,ja,ua){const ka=this.W,wa=this.g.Gs().F();for(const Ga of L.PT(ka,wa)){if(!Ga.tb().uT)break;ka.Rl(Ga,{ks:O,ls:U,Ap:aa,zp:ha,js:fa,ns:ja,hw:ua})}}function k(L){const O=this.W,U=this.g.Gs().F();for(const aa of L.PT(O,U))O.Aj(aa)}function t(){this.W.vj()&&this.W.Ba().Aj(this.W)}function x(){return this.W.ox()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.jy(),U.Ea()):U.CC(L,O)}function D(L,O,U,aa,ha,fa,ja,ua){const ka=
this.j();ka.JN(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Fw:fa,YU:ja,aV:ua})&&ka.Ea()}function E(){const L=this.j();return L.Gf()?L.sj().Sj:0}function I(){const L=this.j();return L.Gf()?L.sj().ek:0}function K(L){const O=this.j();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&O.oi(L)}function N(L,O){this.E2(L,O)}function Q(L,O){this.D2(L,""+O)}function S(L){this.N1(L)}function W(){this.YK()}function V(){this.oK()}function ea(){return this.HG}function ia(L){this.bu(0!==L)}function ca(){return this.rc}function oa(L,
O,U){return d.compare(this.za().pe(L),O,U)}function la(L){return!!this.za().pe(L)}function ra(L,O){const U=this.N(),aa=U.ia();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.pe(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.pe(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.hm(fa);return!0}function sa(L){if(this.g.yf().Oi){{const aa=this.N();if(aa.Tb){aa.De(!1);aa.Rw();var O=this.ia();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Sc===L?aa.qo(U):aa.$t(U)}this.oc();L=!!aa.D.length}else{O=
aa.D;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Sc===L?aa.qo(ja):++U}d.Qe(O,U);this.oc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().lj(O);if(!O)return!1;const U=L.N();if(!U.Tb&&!U.D.includes(O))return!1;if(L.Va){if(O.F().rC(L))return U.hm(O),L.oc(),!0}else if(O.F()===L)return U.hm(O),L.oc(),!0;return!1}function za(){this.g.Bn(this.W)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.za().km(L,O)}function Fa(L,O){const U=this.za(),aa=
U.pe(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.km(L,aa+O)}function Ja(L,O){const U=this.za(),aa=U.pe(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.km(L,aa-O))}function Ka(L,O){this.za().km(L,O?1:0)}function Da(L){const O=this.za();O.km(L,0===O.pe(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.za();L.Sy("state");L.hd(O,"state")}
function Ib(){return JSON.stringify(this.za().sd("state"))}function nc(){return this.za().F().ya()}function oc(){const L=this.g.Se().NG;let O=L.D.length;for(const U of this.g.BJ(L))++O;return O}function pc(){return this.g.Se().NG.N().ia().length}function qc(){return this.W.Gn()}function rc(){return this.W.Sc}d.jV=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.na,da=O.gd,na=O.Fd;L[3]&&(ma.Mea=b,ma.Nea=f,ma.kga=c,ma.lga=
g,ma.o1=m,da.rg=h,da.mh=l,da.Y2=n,da.$ja=p,da.Pga=q,da.Oga=u,na.nO=w,na.oO=r,na.cU=v);aa&&(ma.Lea=y,ma.Fea=A,da.pi=G,da.ki=z,da.jd=F,na.fla=H,na.xfa=J,na.nea=M,na.pea=P,na.oea=R,na.mea=T);ha&&(ma.xV=Z,ma.P_=X,ma.O_=ba,da.Yc=Y,da.Pia=va,da.Qia=ta,da.Sia=ya,da.Tia=Na,da.eka=Sa,na.eea=Ta);fa&&(ma.Fc=Wa,ma.Gea=Ua,da.oi=eb,da.Kk=fb,da.pja=Pa,na.Opacity=ib,na.yea=Va);ja&&(ma.iga=Ya,ma.Gha=vb,ma.Oea=wb,da.Sga=jb,da.H0=xb,da.Qga=yb,da.jla=zb,da.Ze=Ab,na.vga=Bb,na.uga=Cb,na.ila=Db,na.hla=kb,na.Jka=Eb);ua&&
(da.qja=Fb,da.C2=Gb);Ia&&(ma.vj=Rb,ma.We=rb,ma.Eha=sb,ma.yha=tb,ma.Cha=ub,ma.Dea=gb,da.Rl=e,da.Aj=k,da.Xha=t,na.wea=x);db&&(da.Vja=C,da.JN=D,na.Kga=E,na.Lga=I);ka&&(ma.Fc=Wa,da.oi=K,da.lja=N,da.rja=Q,da.Wha=S);wa&&(ma.aga=ea,da.uja=W,da.ija=V);Ga&&(ma.hh=ca,da.wN=ia);Ha&&(ma.fha=Nb,ma.Y_=Pb,ma.mga=Qb,O.dY=Mb);U||(ma.iW=oa,ma.Rfa=la,ma.zha=ra,ma.n1=sa,da.DN=Ca,da.bea=Fa,da.Cka=Ja,da.jja=Ka,da.Hka=Da,ma.X0=Aa,ma.Y0=Ba,da.Uea=za,da.KD||(da.KD=Hb),na.EV||(na.EV=Ib),na.Pea=oc,na.Hha=pc,na.Afa=qc,na.M3=
rc,na.aha=nc)}}
{"use strict";const d=self.B;d.bE=class extends d.ca{constructor(a){super();this.ta=a;this.xa="";this.cd=-1;this.Jv="";this.uA=!1;this.Hi=null;this.Mf=0;this.Le=[];this.lp=new Map;this.Wk=null;this.lu=-1;this.VG=this.Dg=null;this.Iv=!1}A(){this.xa="";this.cd=-1;this.Jv="";this.VG=this.Dg=this.Wk=this.Hi=null;this.lu=-1;d.C(this.Le);for(const a of this.lp.values())a.A();this.lp.clear()}vg(){var a=this.ta,b=a.G().Hc;const f=a.Se();this.Hi=f.Fb();this.Mf=f.Mf+1;if(a=a.JC(this.Hi))this.Wk=a,this.Dg=a.YV(),
this.VG=a.iH.map(c=>c.qd()),a.kg()&&(this.lu=a.l1());for(const c of b)if(b=c.N(),!b.Tb||this.Hi.PZ(c))this.Le.push(c),this.lp.set(c,d.m(d.XN,b))}G_(a){this.xa="timer";this.vg();this.cd=this.ta.G().Fn()+a}E_(a){this.xa="signal";this.vg();this.Jv=a.toLowerCase()}s_(a){this.xa="promise";this.vg();a.then(()=>this.nE()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.nE()})}f0(){return"timer"===this.xa}d0(){return"signal"===this.xa}$_(){return"promise"===
this.xa}nE(){this.uA=!0}TQ(){return this.f0()?this.cd<=this.ta.G().Fn():this.uA}sQ(a){a.uF(this.Hi,this.Mf);for(const [b,f]of this.lp.entries())f.uF(b.N());if(a=this.Wk)a.wt(this.Dg),a.iH.map((b,f)=>b.ve(this.VG[f])),a.kg()&&a.f2(this.lu)}m9(a){this.sQ(a);this.Hi.l9(a);this.Wk&&this.Wk.kg()&&this.Wk.et(this.lu);this.ta.Fp(this.Le);this.Iv=!0}async n5(a){this.sQ(a);for(const b of this.Hi.m5(a))await this.ta.G().Gp(b);this.Wk&&this.Wk.kg()&&this.Wk.et(this.lu);this.ta.Fp(this.Le);this.Iv=!0}ao(a){for(const b of this.lp.values())b.ao(a)}da(){const a=
{},b={t:this.cd,st:this.Jv,s:this.uA,ev:this.Hi.eb,sm:this.Le.map(f=>f.eb),sols:a};this.Hi.T6(this.Mf)&&(b.act=this.Hi.aL(this.Mf).eb);for(const [f,c]of this.lp)a[f.eb.toString()]=c.da();return b}static S4(a,b){const f=a.G();var c=a.zY(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var m=a.iY(b.act);if(!m)return null;g=m.Ca()}m=d.m(d.bE,a);m.cd=b.t;m.xa=-1===m.cd?"signal":"timer";m.Jv=b.st;m.uA=b.s;m.Hi=c;m.Mf=g;for(var h of b.sm)(c=f.Dx(h))&&m.Le.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
f.Dx(parseInt(l,10)))h=d.m(d.XN,null),h.oa(a,n),m.lp.set(b,h);return m}}}{"use strict";const d=self.B;d.XN=class extends d.ca{constructor(a){super();this.J=null;this.tA=!0;this.D=[];a&&(this.J=a.F(),this.tA=a.Tb,d.Cc(this.D,a.D))}A(){this.J=null;d.C(this.D)}uF(a){a.De(this.tA);d.Cc(a.D,this.D)}ao(a){d.dg(this.D,a)}da(){return{sa:this.tA,insts:this.D.map(a=>a.Sc)}}oa(a,b){a=a.G();this.tA=!!b.sa;d.C(this.D);for(const f of b.insts)(b=a.lj(f))&&this.D.push(b)}}}
{"use strict";const d=self.B;function a(b,f){let c=b.get(f);c||(c=new Map,b.set(f,c));return c}d.ly=class extends d.ca{constructor(b){super();this.g=b.wf;this.Em=!!b.nU;this.gf=!!b.Tca;this.fba=!!b.Sca;this.pba=!!b.eda;this.Taa=!!b.Ica;this.uT=!!b.Gda;this.Iba=!!b.Fda;this.iT=null;this.mR=new Map;this.vaa=new Map;this.waa=new Map;this.xaa=new Map}A(){this.g=null}G(){return this.g}Id(){}Wp(){return this.fba}Yp(){return this.pba}lD(){return this.Taa}Ij(b,f){if(!f)throw Error("missing 'this' binding");
let c=this.mR.get(b);if(c)return c;c=b.bind(f);this.mR.set(b,c);return c}eP(b,f,c){if(!f)throw Error("missing 'this' binding");const g=a(this.vaa,b);let m=g.get(c);if(m)return m;m=b.bind(f,c);g.set(c,m);return m}fP(b,f,c,g){if(!f)throw Error("missing 'this' binding");var m=a(this.waa,b);m=a(m,c);let h=m.get(g);if(h)return h;h=b.bind(f,c,g);m.set(g,h);return h}gP(b,f,c,g,m){if(!f)throw Error("missing 'this' binding");var h=a(this.xaa,b);h=a(h,c);h=a(h,g);let l=h.get(m);if(l)return l;l=b.bind(f,c,g,
m);h.set(m,l);return l}z$(b){if(!this.Em)throw Error("must be single-global plugin");this.iT=b}rj(){if(!this.Em)throw Error("must be single-global plugin");return this.iT.rj()}}}
{"use strict";const d=self.B;d.Wia=class extends d.ly{constructor(a,b){super(a);this.Yq=b;this.sba=0;this.jH=new Map;this.hK("elem-focused",f=>f.j8());this.hK("elem-blurred",f=>{f&&f.i8()})}A(){super.A()}o4(a){const b=this.sba++;this.jH.set(b,a);return b}c9(a){this.jH.delete(a)}hK(a,b){this.g.nk(this.Yq,a,f=>{const c=this.jH.get(f.elementId);b(c,f)})}}}{"use strict";const d=self.B;d.kN=class extends d.ca{constructor(a){super();this.J=a;this.g=a.G();this.Hh=a.tb()}A(){this.Hh=this.g=this.J=null}F(){return this.J}G(){return this.g}tb(){return this.Hh}zf(){return this.J.zf()}xs(){}Xp(){}$n(){}ey(){}QD(){}$l(){return null}}}
{"use strict";const d=self.B;d.jN=class extends d.ca{constructor(a,b){super();this.W=a;this.Yq=b;this.g=a.G();this.J=this.W.F();this.Bc=this.J.Bc;this.Mr=this.Cl=null;this.dv=this.kl=!1;this.Ge=null;this.ew=!1}A(){this.ew=!0;this.pm();this.LF();this.Mr=this.Cl=null;this.Ge&&(this.Ge.A(),this.Ge=null);this.Bc=this.J=this.g=this.W=null}Dy(){return this.ew}za(){return this.W}G(){return this.g}F(){return this.J}tb(){return this.Bc.tb()}Op(){return this.W.ah()}ib(a){return this.g.ib(a,this.W,null)}ye(a){return this.g.ye(a,
this.W,null)}JM(a,b){this.g.jt(this.Yq,a,b)}KM(){return this.g.bq(this.Yq,"get-suspended",void 0)}G8(a){this.g.gl?this.JM("focus",a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Yq,handler:"focus",data:a,responseId:null})}xe(){}wi(){this.kl||(this.Cl||(this.Cl=()=>this.xe()),this.g.Ub().addEventListener("tick",this.Cl),this.kl=!0)}pm(){this.kl&&(this.g.Ub().removeEventListener("tick",this.Cl),this.kl=!1)}LF(){this.dv&&(this.g.Ub().removeEventListener("tick2",this.Mr),
this.dv=!1)}sd(){return null}hd(){}pc(){}pg(){}MD(a,b){if(0!==b){var f=this.pc(a);if("number"!==typeof f)throw Error("expected number");this.pg(a,f+b)}}$l(){return null}qs(a,b,f){const c=this.Op();a=d.m(d.Event,a,b);a.instance=c;f&&Object.assign(a,f);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.aE=class extends d.jN{constructor(a,b){super(a,b);this.Pa=a.j();this.BB=this.Tr=null}A(){if(this.Tr){const a=this.g.Ub();a.removeEventListener("webglcontextlost",this.Tr);a.removeEventListener("webglcontextrestored",this.BB);this.BB=this.Tr=null}this.Pa=null;super.A()}BZ(){if(!this.Tr){this.Tr=()=>this.aq();this.BB=()=>this.GM();var a=this.g.Ub();a.addEventListener("webglcontextlost",this.Tr);a.addEventListener("webglcontextrestored",this.BB)}}aq(){}GM(){}j(){return this.Pa}Tn(){return!1}oj(){if(!this.Tn())throw Error("original size not known");
const a=this.$g();if(a)return a.aa()}nj(){if(!this.Tn())throw Error("original size not known");const a=this.$g();if(a)return a.$()}$g(){return null}RC(){var a=this.$g();return a&&(a=a.Xd())?[a.aa(),a.$()]:[100,100]}SC(){const a=this.$g();return a?a.tj():null}vD(){const a=this.$g();return a?a.Uo:!1}Yl(){const a=this.W.j();return[a.ja(),a.ka()]}gq(){return!0}}}
{"use strict";const d=self.B,a=d.m(d.Rect);d.Via=class extends d.aE{constructor(b,f){super(b,f);this.Jz=this.tb().o4(this);this.mS=!0;this.raa=this.HG=!1;this.lr=d.m(d.Rect,0,0,-1,-1);b=this.g.V;this.DS=b.jn;this.CS=b.hn;this.wi()}A(){this.tb().c9(this.Jz);this.cq("destroy");this.Jz=-1;super.A()}cq(b,f){f||(f={});f.elementId=this.Jz;this.JM(b,f)}iQ(b){b||(b={});b.elementId=this.Jz;this.G8(b)}ty(b){b=!!b;this.mS!==b&&(this.mS=b,this.cq("set-visible",{isVisible:b}))}xe(){this.Z$()}G$(){const b=this.g.V.xx();
return"Android"===d.Wc.Zp&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Z$(){var b=this.j();const f=b.X();var c=b.ja(),g=b.ka();let [m,h]=f.Wn(c,g),[l,n]=f.Wn(c+b.aa(),g+b.$());c=this.g.V;g=c.Zc;const p=c.Kc;if(b.Fc()&&f.Fc()){if(!this.G$()){if(0>=l||0>=n||m>=g||h>=p){this.ty(!1);return}1>m&&(m=1);1>h&&(h=1);l>=g&&(l=g-1);n>=p&&(n=p-1)}a.set(m,h,l,n);b=c.jn;g=c.hn;a.ed(this.lr)&&this.DS===b&&this.CS===g?this.ty(!0):(this.lr.pa(a),this.DS=b,this.CS=g,this.ty(!0),b=null,this.raa&&(b=f.jj()-.2),
this.cq("update-position",{left:Math.round(this.lr.S)+c.Es(),top:Math.round(this.lr.M)+c.Fs(),width:Math.round(this.lr.width()),height:Math.round(this.lr.height()),fontSize:b}))}else this.ty(!1)}YK(){this.iQ({focus:!0})}oK(){this.iQ({focus:!1})}j8(){this.HG=!0}i8(){this.HG=!1}E2(b,f){this.cq("set-css-style",{prop:d.RV(b),val:f})}D2(b,f){this.cq("set-attribute",{name:b,val:f})}N1(b){this.cq("remove-attribute",{name:b})}}}
{"use strict";const d=self.B,a=self.TZ;d.gN=class extends d.ca{constructor(b){super();this.g=b.wf;this.aI=d.m(d.pC);this.MA=d.m(d.pC);this.Su=null;this.Dba=b.$na||null}A(){this.MA.A();this.aI.A();this.g=null}G(){return this.g}Id(){}p4(b){this.aI.Dc(b)}bD(){return this.aI.MC()}ug(b){this.MA.Dc(b)}ro(b){this.MA.An(b)}ia(){return this.MA.MC()}NY(){if(null===this.Su){const b=this.Dba;if(b){if(this.Su=new b(this),!(this.Su instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Su=new a(this)}return this.Su}}}{"use strict";const d=self.B;d.iN=class extends d.ca{constructor(a){super();this.g=a.G();this.Jc=a;this.J=a.F();this.Ai=a.uk();this.Ai.p4(this.J)}A(){this.Ai=this.J=this.Jc=this.g=null}ig(){return this.Jc}F(){return this.J}G(){return this.g}uk(){return this.Ai}}}
{"use strict";const d=self.B;d.hN=class extends d.ca{constructor(a,b){super();this.qz=a;this.Yq=b;this.W=a.W;this.g=a.G();this.Jc=a.ig();this.Bc=this.Jc.Bc;this.qS=this.dv=this.kl=!1;this.Ge=null}A(){this.pm();this.LF();this.L$();this.Ge&&(this.Ge.A(),this.Ge=null);this.Bc=this.Jc=this.g=this.W=this.qz=null}uk(){return this.Jc.uk()}F(){return this.W.F()}j(){return this.W.j()}G(){return this.g}ig(){return this.Jc}Op(){return this.qz.Op()}ib(a){return this.g.ib(a,this.W,this.Jc)}ye(a){return this.g.ye(a,
this.W,this.Jc)}xe(){}wi(){this.kl||(this.g.k4(this),this.kl=!0)}pm(){this.kl&&(this.g.Z8(this),this.kl=!1)}LF(){this.dv&&(this.g.a9(this),this.dv=!1)}L$(){this.qS&&(this.g.Y8(this),this.qS=!1)}sd(){return null}hd(){}pc(){}pg(){}MD(a,b){if(0!==b){var f=this.pc(a);if("number"!==typeof f)throw Error("expected number");this.pg(a,f+b)}}$l(){return null}qs(a,b,f){const c=this.Op();a=d.m(d.Event,a,b);a.ula=c;a.instance=c.instance;f&&Object.assign(a,f);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.H={};d.sb={};d.p1=class extends d.ca{constructor(a){super();this.g=a;this.oaa=[];this.YS=new Map;this.vd=null;this.laa=[];this.hG=new Map;this.wS=this.AI=null}xW(a){const b=this.g.bh(a[0]);if(!b)throw Error("missing plugin");d.jV(a,b);a=d.m(b,{wf:this.g,nU:a[1],Tca:a[2],Sca:a[5],Ica:a[8],eda:a[9],Gda:a[13],Fda:a[14]});a.Id();this.oaa.push(a);this.YS.set(b,a)}zW(){this.vd=d.m(d.H.lb,{wf:this.g,nU:!0});this.vd.Id()}sW(a){a=this.g.bh(a[1]);if(!a)throw Error("missing behavior");
const b=d.m(a,{wf:this.g});b.Id();this.laa.push(b);this.hG.set(a,b);!this.AI&&d.sb.Dda&&b instanceof d.sb.Dda?this.AI=b:!this.wS&&d.sb.Vca&&b instanceof d.sb.Vca&&(this.wS=b)}jZ(a){return this.YS.get(a)||null}IZ(a){return this.hG.has(a)}mY(a){return this.hG.get(a)||null}Rs(){return this.vd}fD(){return this.AI}}}
{"use strict";const d=self.B,a=new Set;d.Sx=class extends d.ca{constructor(){super();this.dk="";this.O=this.R=this.zv=this.yv=this.Fr=0;this.Pu=this.Uo=!1;this.cf=null;this.Bl="";this.Uf=d.m(d.Rect);this.gp=d.m(d.rd);a.add(this)}A(){this.ii();this.cf=null;a.delete(this)}static aq(){for(const b of a)b.Bl="",b.Uf.set(0,0,0,0),b.gp.cj(b.Uf)}nM(b){this.dk=b[0];this.Fr=b[1];this.yv=b[2];this.zv=b[3];this.R=b[4];this.O=b[5];this.Uo=b[6];this.Pu=!0}r0(b,f){if(this.cf)throw Error("already loaded asset");
this.dk=f;const c={};d.tD(f)&&(c.uw="remote");this.mM(b,c);return this.cf.lM()}W1(b){if(b===this)throw Error("cannot replace with self");this.ii();this.dk=b.dk;this.Fr=b.Fr;this.yv=b.yv;this.zv=b.zv;this.R=b.R;this.O=b.O;this.Uo=b.Uo;this.Pu=b.Pu;this.cf=b.cf;this.Bl=b.Bl;this.Uf=b.Uf;this.gp=b.gp}am(){return this.Fr}aa(){return this.R}$(){return this.O}mM(b,f){if(this.cf)throw Error("already got asset");f=Object.assign({},f,{url:this.dk,size:this.am()});this.cf=b.dy(f)}ED(){return this.cf&&this.cf.ED()}async dt(b,
f){if(!this.cf)throw Error("no asset");if(this.Bl)throw Error("already loaded texture");this.Bl="loading";b=await this.cf.dt(b,f);if(!b)return this.Bl="",null;this.Bl="loaded";this.Pu||(this.R=b.aa(),this.O=b.$(),this.Pu=!0);this.Uf.set(this.yv,this.zv,this.yv+(this.Uo?this.O:this.R),this.zv+(this.Uo?this.R:this.O));this.Uf.Jl(b.aa(),b.$());this.gp.cj(this.Uf);this.Uo&&this.gp.tda();return b}ii(){this.Bl&&(this.cf&&this.cf.ii(),this.Bl="",this.Uf.set(0,0,0,0),this.gp.cj(this.Uf))}Xd(){return this.cf?
this.cf.Xd():null}tj(){return this.Uf}Kx(){return this.gp}}}
{"use strict";const d=self.B;d.zV=class extends d.ca{constructor(a){super();this.Fa=a[0];this.ad=a[1];this.qA=!!a[2];this.Er=a[3];this.eT=a[4];this.eba=!!a[5];this.eb=a[6];this.Ad=a[7].map(b=>d.m(d.yV,b))}A(){for(const a of this.Ad)a.A();d.C(this.Ad)}o0(a){for(const b of this.Ad)b.zf().mM(a)}p0(a,b){return Promise.all(this.Ad.map(f=>f.zf().dt(a,b)))}J1(){for(const a of this.Ad)a.zf().ii()}ya(){return this.Fa}Wl(a){a=Math.floor(a);if(0>a||a>=this.Ad.length)throw new RangeError("invalid frame");return this.Ad[a]}fh(){return this.Er}}}
{"use strict";const d=self.B;d.yV=class extends d.ca{constructor(a){super();this.Rf=d.m(d.Sx);this.Rf.nM(a);this.zR=a[7];this.VS=d.m(d.Ht,a[8],a[9]);this.aA=a[10].map(b=>d.m(d.c_,this,b));this.dS=new Map;for(const b of this.aA)this.dS.set(b.ya().toLowerCase(),b);this.zo=null;a=a[11];6<=a.length&&(this.zo=d.m(d.zn,a))}A(){this.zo&&(this.zo.A(),this.zo=null);this.Rf.A();this.Rf=null}zf(){return this.Rf}zk(){return this.VS.ba}Ak(){return this.VS.T}PY(a){return this.dS.get(a.toLowerCase())||null}OY(a){a=
Math.floor(a);return 0>a||a>=this.aA.length?null:this.aA[a]}YC(){return this.aA.length}}}{"use strict";const d=self.B;d.c_=class extends d.ca{constructor(a,b){super();this.Fa=b[0];this.lI=d.m(d.Ht,b[1],b[2])}A(){}ya(){return this.Fa}ja(){return this.lI.ba}ka(){return this.lI.T}}}
{"use strict";const d=self.B,a=self.Vg,b=self.XZ;d.LD=class extends d.ca{constructor(f,c,g){super();const m=f.bh(g[1]);this.g=f;this.Hh=f.Nm.jZ(m);this.Bc=null;this.eA=m.Instance;this.Ka=c;this.eb=g[11];this.Fa=g[0];this.lv=this.g.ci(g[14]);this.cba=!!g[9];this.Va=!!g[2];this.zH=!!g[10];this.Mi=g[3].map(h=>({MU:h[0],type:h[1],name:h[2],Uca:f.ci(h[3])}));this.taa=g[4];this.Paa=g[5];this.gf=this.Hh.gf;this.Ja=null;this.Az=d.m(d.y3,f.Ig,f.Hg);this.aG=!0;this.bG=!1;this.QG=this.Io=null;this.Ji=-1;this.PG=
this.Oz=this.Pz=this.OG=this.xh=null;this.tH=!1;this.zg=null;this.kR=g[8].map(h=>d.mK.La(this,h));this.rz=[];this.iG=new Map;this.gG=new Map;this.CT=new Set;this.Sm=d.m(d.v3,this);this.mz=this.lz=this.xd=this.Rf=this.zg=this.Uq=null;this.Lr=0;this.Ab=new Map;this.Ph=new Map;this.D=[];this.fH=!0;this.Hh.lD()&&(this.Ja=d.m(d.rk,this,g[12]));g[6]&&(this.Rf=d.m(d.Sx),this.Rf.nM(g[6]));if(g[7]){this.xd=g[7].map(h=>d.m(d.zV,h));this.lz=new Map;this.mz=new Map;for(const h of this.xd)this.lz.set(h.ya().toLowerCase(),
h),this.mz.set(h.eb,h)}this.Va?(this.Io=[],this.QG=new Set,this.Ji=this.g.D6()):(this.xh=[],this.OG=new Set,this.Pz=[],this.Oz=[],this.PG=[]);this.Bc=d.m(m.xq,this,g[15]);this.kS=this.Uu=null;this.Sd=d.m(d.Event.Ub);if(c=this.Bc.$l()){if(this.Uu=new c(this),!(this.Uu instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Uu=new b(this);this.g.xB&&!this.Va&&!this.zH&&this.gf||this.Id();this.Hh.Em&&(this.Hh.z$(this),this.b5(g))}static La(f,c,g){return d.m(d.LD,
f,c,g)}A(){this.Rf&&(this.Rf.A(),this.Rf=null);if(this.xd){for(const f of this.xd)f.A();d.C(this.xd);this.lz.clear();this.mz.clear()}this.Sm.A();this.Sm=null;this.Ab.clear();this.Ph.clear();this.g=this.zg=null}z7(f){for(let c=1,g=f.length;c<g;++c){const m=this.g.Ue(f[c]);this.Io.push(m);this.QG.add(m);m.xh.push(this);m.OG.add(this)}}Y9(f){this.tH=!0;this.zg=f}Ob(){return this.tH}d8(){var f=0;if(!this.Va)for(var c of this.xh)for(var g of c.kR){const l=g.ya().toLowerCase();this.iG.set(l,g);this.gG.set(l,
f);this.rz.push(g);++f}for(var m of this.kR)c=m.ya().toLowerCase(),this.iG.set(c,m),this.gG.set(c,f),this.rz.push(m),++f;for(var h of this.rz)this.CT.add(h.uk().constructor);if(!this.Va&&this.xh.length){f=this.g.GR;d.PB(this.Pz,f,0);d.PB(this.Oz,f,0);d.PB(this.PG,f,0);f=[];c=h=m=0;for(const l of this.xh)if(g=l.Ji,this.Pz[g]=m,m+=l.Mi.length,this.Oz[g]=h,h+=l.taa,this.PG[g]=c,c+=l.Paa,(g=l.Ja)&&this.Ja)for(const n of g.hg())f.push(n.fW(this.Ja));this.Ja&&this.Ja.w1(f)}}b5(f){const c=this.g.C6(),g=
d.m(d.Instance,{wf:this.g,NJ:this,uid:c});g.Hy(f[16],[]);this.g.Q7(c,g);this.D.push(g)}Id(){this.Va||this.Bc.Id()}MZ(){return 0<this.Lr}Xp(f){if(this.Va)return Promise.resolve();this.Lr++;return 1===this.Lr?this.Bc.Xp(f)||Promise.resolve():Promise.resolve()}$n(){if(!this.Va){this.Lr--;if(0>this.Lr)throw Error("released textures too many times");0===this.Lr&&this.Bc.$n()}}ey(){if(this.Va)throw Error("not applicable to family");this.Bc.ey()}QD(f){return this.Va?Promise.resolve():this.Bc.QD(f)}G(){return this.g}tb(){return this.Hh}ya(){return this.Fa}ci(){return this.lv}Ca(){return this.Ka}Hf(){return this.cba}gO(f){return f&&
this.CT.has(f)}UY(){return this.Mi.map(f=>f.MU)}TY(f){return this.Mi.findIndex(c=>c.MU===f)}SY(f){return this.Mi.findIndex(c=>c.name===f)}s6(){return this.Mi.map(f=>f.Uca)}Ms(f){f=Math.floor(f);if(0>f||f>=this.Mi.length)throw new RangeError("invalid instance variable index");return this.Mi[f].type}rL(f){f=Math.floor(f);if(0>f||f>=this.Mi.length)throw new RangeError("invalid instance variable index");return this.Mi[f].name}mx(f){return this.iG.get(f.toLowerCase())||null}Bs(f){f=this.gG.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}lD(){return this.Hh.lD()}hO(){return this.Ja&&this.Ja.DZ()}N(){return this.Sm.N()}zf(){return this.Rf}tN(f){this.Uq=f}rC(f){return this.OG.has(f)}VK(f){return this.QG.has(f)}En(f){return this.Oz[f]}lL(f){return this.Pz[f]}bL(f){if(!this.xd)throw Error("no animations");return this.lz.get(f.toLowerCase())||null}lY(f){if(!this.xd)throw Error("no animations");return this.mz.get(f)||null}HY(){if(!this.xd)throw Error("no animations");return this.xd[0].Wl(0)}vY(){if(this.xd){const f=
this.HY().zf();return[f.aa(),f.$()]}return this.Rf?[this.Rf.aa(),this.Rf.$()]:[100,100]}rj(){if(!this.Hh.Em)throw Error("not a single-global plugin");return this.D[0]}ia(){return this.D}*jU(){yield*this.D}*Mca(){yield*this.D;for(const f of this.g.fl)f.F()===this&&(yield f)}ug(f){this.D.push(f)}cu(){this.fH=!0}gz(){if(this.fH&&!this.Va){var f=this.D,c=0;for(let g=f.length;c<g;++c)f[c].HQ(c);f=this.g.fl;for(const g of f)g.F()===this&&g.HQ(c++);this.fH=!1}}qL(f){var c=this.D;if(f<c.length)return c[f];
f-=c.length;c=this.g.fl;for(const g of c)if(g.F()===this){if(0===f)return g;--f}return null}nL(f){if(f&&f.Ob()&&f.F()!==this)for(const c of f.ud)if(c.F()===this)return c;f=this.N().ia();return f.length?f[0]:null}wL(f){const c=this.N().ia();return 0<c.length?c[f.Gn()%c.length]:null}*PT(f,c){const g=this.N().ia();var m=g.length;const h=c.N(),l=c.N().ia(),n=l.length;var p=f.Gn();if(c.Va||!h.Tb)p=l.indexOf(f);f=Math.ceil(m/n);m%=n;0===m||p<m?(p*=f,m=f):(p=m*f+(p-m)*(f-1),m=f-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}xs(f){this.Bc.xs(f)}oc(){if(this.tH&&
!this.Va){this.gz();var f=this.N(),c=f.D,g=f.Tb,m=this.g.Se();m=m&&m.Fb()&&m.Fb().Md;for(const n of this.zg.tl)if(n!==this){n.gz();var h=n.N();h.De(g);if(!g){var l=h.D;d.C(l);for(const p of c)l.push(n.qL(p.Gn()));if(m){l=f.mc;h=h.mc;d.C(h);for(const p of l)h.push(n.qL(p.Gn()))}}}}}T$(f,c){for(const g of this.zg.tl){const m=g.N();f?d.Qe(m.mc,c):d.Qe(m.D,c)}}CQ(){this.aG=!0}AF(f){this.bG=!!f}$Q(){if(this.aG&&this.gf){for(const f of this.D)f.j().cR();for(const f of this.g.fl)f.F()===this&&f.j().cR();
this.aG=!1}}ei(){this.Ab||(this.Ab=new Map);return this.Ab}Vs(){this.Ph||(this.Ph=new Map);return this.Ph}QL(){return this.gO(d.sb.Xga)}mD(){return this.gO(d.sb.uha)}da(){const f={instances:this.D.map(c=>c.sd())};this.Ab&&this.Ab.size&&(f.ex=d.DE(this.Ab));return f}oa(f){this.Ab&&(this.Ab.clear(),this.Ab=null);var c=f.ex;c&&(this.Ab=d.KC(c));c=this.D;f=f.instances;for(let g=0,m=Math.min(c.length,f.length);g<m;++g)c[g].hd(f[g]);for(let g=f.length,m=c.length;g<m;++g)this.g.Bn(c[g]);for(let g=c.length,
m=f.length;g<m;++g){c=f[g];let h=null;if(this.gf&&(h=this.g.Kb().Ax(c.w.l),!h))continue;this.g.Yh(this.Uq||this,h,!1,0,0,!0).hd(c)}this.cu()}Yg(f){var c=this.g;(c=c.zb&&!c.ga().Wx())&&a.yE();this.Sd.dispatchEvent(f);c&&a.nC()}}}{"use strict";const d=self.B;d.mW=class extends d.ca{constructor(a,b){super();this.g=a;this.tl=b;for(const f of this.tl)f.Y9(this)}A(){this.g=null}G(){return this.g}HZ(){return this.tl.some(a=>a.gf)}}}
{"use strict";const d=self.B,a=self.Vg,b=self.Zs,f=[];let c=0;const g=new WeakMap,m=new WeakMap;d.Instance=class extends d.ca{constructor(h){super();this.g=h.wf;this.Nd=h.NJ;this.$d=this.la=this.Pa=null;this.bS=0;this.Sc=h.uid;this.aT=c++;this.ua=0;this.Ic=this.Je=f;var l=this.Nd.rz;0<l.length&&(this.Ic=l.map((n,p)=>d.m(d.Iw,{wf:this.g,jJ:n,instance:this,index:p})));this.ud=this.Nd.Ob()?[]:null;this.Rd=-1;this.Mb=null;l=this.tb();l.Yp()&&(this.ua|=4);if(l.gf)if(this.Pa=d.m(d.e4,this,h.rU),h.bV)this.Pa.Rp(h.bV);
else{this.Pa.r_();const [n,p]=this.Nd.vY();this.Pa.jd(n,p);this.F().hO()&&this.Pa.Sf.q0()}h.iU?this.C7(h.iU):this.x7()}A(){this.$d&&(this.$d.au(),this.$d=null);if(0<this.Ic.length){for(var h of this.Ic)h.A();d.C(this.Ic)}this.la.A();this.la=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.ud&&d.C(this.ud);this.Mb&&(this.Mb.A(),this.Mb=null);this.Nd=this.g=null;0<this.Je.length&&d.C(this.Je);this.Pa&&(this.Pa.A(),this.Pa=null)}C7(h){0<h.length&&(this.Je=
[],d.Cc(this.Je,h))}x7(){const h=this.Nd.Mi.length;if(0!==h){this.Je=[];var l=[0,0,""];for(let n=0;n<h;++n)this.Je.push(l[this.Nd.Ms(n)])}}Hy(h,l){if(this.la)throw Error("already got sdk instance");for(let n=0,p=this.Ic.length;n<p;++n)this.Ic[n].Hy(l?l[n]:null);this.la=d.m(this.Nd.eA,this,h);if(!(this.la instanceof d.jN))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Ic.length;n<p;++n);this.Nd.kS&&this.FP()}j(){return this.Pa}G(){return this.g}jY(){const h=this.Rd;return-1===
h?this.G().Rd:h}qE(h){h=+h;if(0>h||!isFinite(h))h=0;this.Rd=h}e2(){this.Rd=-1}Ub(){this.Mb||(this.Mb=d.m(d.Event.Ub));return this.Mb}Zg(h){this.la.Zg(h)}Id(h){this.la.Id(h)}n$(){this.ua|=2}Dk(){return 0!==(this.ua&2)}nF(){this.ua|=1}$s(){return 0!==(this.ua&1)}Yp(){return 0!==(this.ua&4)}sM(){return 0!==(this.ua&32)}p7(){return 0!==(this.ua&8)}ut(h,l){h<<=16;this.ua=l?this.ua|h:this.ua&~h}WC(h){return 0!==(this.ua&h<<16)}$g(){return this.la.$g()}RC(){return this.la.RC()}SC(){return this.la.SC()}vD(){return this.la.vD()}Yl(h){return this.la.Yl(h)}F(){return this.Nd}gq(){return this.la.gq()}Dp(h){return h.Va?
h.VK(this.F()):this.F()===h}iO(){if(!this.tb().uT)throw Error("object does not support scene graph");}vj(){return null!==this.Ba()}Ba(){var h=this.j();return h?(h=h.Ba())?h.za():null:null}Lx(){var h=this.j();return h?(h=h.Lx())?h.za():null:null}*xw(){const h=this.j();if(h)for(const l of h.xw())yield l.za()}We(){const h=this.j();return h?h.We():!1}Re(){const h=this.j();return h?h.Re().map(l=>l.za()):[]}*children(){const h=this.j();if(h)for(const l of h.children())yield l.za()}*jk(){const h=this.j();
if(h)for(const l of h.jk())yield l.za()}ox(){const h=this.j();return h?h.ox():0}PC(h){const l=this.j();return l?(h=l.PC(h))?h.za():null:null}Rl(h,l){this.iO();h.iO();this.j().Rl(h.j(),l||{})}Aj(h){const l=this.j();l&&l.Aj(h.j())}tx(){const h=this.j();return h?h.tx():!1}t3(){var h=this.j();if(h&&(h=h.AL()))for(const l of h)if(h=this.g.lj(l[2])){const n=l[3];this.Rl(h,{ks:!!(n>>0&1),ls:!!(n>>1&1),Ap:!!(n>>2&1),zp:!!(n>>3&1),js:!!(n>>4&1),hw:!!(n>>5&1),ns:!!(n>>6&1)})}}Ob(){return null!==this.ud}yq(h){this.ud.push(h)}OZ(h){return!!this.GL(h)}GL(h){const l=
this.ud;if(null===l||0===l.length)return!1;for(const n of l)if(n.F()===h)return n;return null}ni(){for(const h of this.ud)h.F().N().Ej(h)}M8(){for(const h of this.ud)h.F().N().$t(h)}y$(h){for(const l of this.ud)l.F().N().D[h]=l}L8(){for(const h of this.ud)h.F().N().qo(h)}x$(h){for(const l of this.ud)l.F().N().mc[h]=l}tb(){return this.Nd.tb()}HQ(h){this.bS=h}Gn(){this.Nd.gz();return this.bS}nY(h){if(!h)return null;for(const l of this.Ic)if(l.uk()instanceof h)return l;return null}lx(h){return h?(h=
this.nY(h))?h.la:null:null}cL(h){const l=this.Ic;for(let n=0,p=l.length;n<p;++n)if(l[n].ig().eb===h)return n;return-1}pe(h){h|=0;const l=this.Je;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}A6(h){return this.Je[h]}z6(h){const l=this.Je[h];return 0===this.Nd.Ms(h)?!!l:l}km(h,l){h|=0;const n=this.Je;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Nd.Ms(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;
case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}P2(h,l){if(0!==l){h|=0;var n=this.Je;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}ei(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Vs(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,h);return h}zP(h){const l=this.F();if(l.Sd.kD(h))return!0;for(const n of l.xh)if(n.Sd.kD(h))return!0;return this.g.Sd.kD(h)?!0:!1}fz(){const h=new Set;h.add(this);const l=this.j();if(l&&l.We())for(const n of this.jk())if(h.add(n),n.Ob())for(const p of n.ud)h.add(p);if(this.Ob())for(const n of this.ud)h.add(n);for(const n of h.values())n.XQ()}XQ(){if(this.zP("instancecreate")){const h=
this.F(),l=new d.Event("instancecreate");l.instance=this.ah();h.Yg(l);for(const n of h.xh)n.Yg(l);this.g.Yg(l)}this.g.ib(this.tb().constructor.na.X0,this,null)}R$(){this.g.ib(this.tb().constructor.na.Y0,this,null)}i6(h){if(this.$d){var l=new d.Event("destroy");l.Qca=h;this.Yg(l)}if(this.zP("instancedestroy")){l=this.F();var n=new d.Event("instancedestroy");n.instance=this.ah();n.Qca=h;l.Yg(n);for(const p of l.xh)p.Yg(n);this.g.Yg(n)}}sd(h="full"){const l={};"full"===h?l.uid=this.Sc:l.c3=!0;if("visual-state"!==
h){var n=g.get(this);n&&n.size&&(l.ex=d.DE(n));-1!==this.Rd&&(l.mts=this.Rd);if(0<this.Nd.Mi.length){n={};var p=this.Nd.UY();for(let q=0,u=this.Je.length;q<u;++q)n[p[q].toString()]=this.Je[q];l.ivs=n}if(this.Ic.length){n={};for(const q of this.Ic)(p=q.sd())&&(n[q.ig().eb.toString()]=p);l.behs=n}}this.Pa&&(l.w=this.Pa.da(h));(h=this.la.sd())&&(l.data=h);return l}Sy(h="full"){this.Pa&&this.Pa.Sy(h)}hd(h,l="full"){if("full"===l)this.Sc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);
n&&(n.clear(),g.delete(this));if(n=h.ex)n=d.KC(n),g.set(this,n);this.Rd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=this.Nd.TY(parseInt(u,10)),!(0>n||n>=this.Je.length)){var p=w;null===p&&(p=NaN);this.Je[n]=p}}if(this.tb().gf){n=h.w;var q=n.l;this.Pa.X().eb!==q&&(p=this.Pa.X(),(q=p.Vb().Ax(q))?(this.Pa.du(q),p.ro(this,!0),q.ug(this,!0),q.sg(),this.Pa.Ea()):"full"===l&&this.g.Bn(this));this.Pa.oa(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,w]of Object.entries(l))l=
this.cL(parseInt(u,10)),0>l||l>=this.Ic.length||this.Ic[l].hd(w);(h=h.data)&&this.la.hd(h)}ah(){return this.$d||this.FP()}FP(){var h=this.Pa?self.Rx:b;const l=this.la.$l(),n=this.Nd.kS,p=n||l||h;b.vg(this);this.$d=new p;b.vg(null);if(l&&!(this.$d instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.$d instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);
return this.$d}y6(h){if(0!==this.Je.length){var l={},n=this.Nd.s6();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.z6.bind(this,p),set:d.Instance.prototype.km.bind(this,p)};l=Object.create(Object.prototype,l);h.Bma={value:l,writable:!1}}}t6(h){var l=this.Ic;if(0!==l.length){var n={};for(const p of l)n[p.ig().ci()]={value:p.Op(),writable:!1};l=Object.create(Object.prototype,n);h.fw={value:l,writable:!1}}}Yg(h){h.instance=this.ah();var l=this.g;(l=l.zb&&
!l.ga().Wx())&&a.yE();this.ah().dispatchEvent(h);l&&a.nC()}}}
{"use strict";const d=self.B;d.n2=class extends d.ca{constructor(a){super();this.Rb=a;this.sc=null;this.yz=[];this.nB=a.aa();this.lB=a.$();this.JI=this.II=1;this.QA=0}A(){this.sc=null;d.C(this.yz)}NN(a){this.QA=(this.sc=a)?a.Oa():0}Ba(){return this.sc}We(){return 0<this.yz.length}Re(){return this.yz}b3(a){this.II=a}d3(a){this.JI=a}pj(){return this.Rb.Kn()?this.sc.aa()/this.sc.Db.nB:1}qj(){return this.Rb.Jn()?this.sc.$()/this.sc.Db.lB:1}da(){return{sw:this.nB,sh:this.lB,sx:this.II,sy:this.JI,psa:this.QA,
c:this.yz.map(a=>{let b="";a.Ln()&&(b+="x");a.Mn()&&(b+="y");a.Kn()&&(b+="w");a.Jn()&&(b+="h");a.Mx()&&(b+="a");a.Nx()&&(b+="z");a.tx()&&(b+="d");return{uid:a.za().Sc,f:b}})}}oa(a){this.nB=a.sw;this.lB=a.sh;this.II=a.sx;this.JI=a.sy;this.QA=a.psa}rF(a){const b=this.Rb,f=b.G();for(const c of a.c){a=f.lj(c.uid).j();const g=c.f,m={};m.ks=g.includes("x");m.ls=g.includes("y");m.Ap=g.includes("w");m.zp=g.includes("h");m.js=g.includes("a");m.ns=g.includes("z");m.hw=g.includes("d");b.Rl(a,m)}}}}
{"use strict";const d=self.B,a=d.m(d.Rect),b=d.m(d.rd),f=d.m(d.Event,"bboxchange",!1),c=d.m(d.Ya,0,0,0,0),g=d.m(d.zn),m=d.m(d.Ya,1,1,1,1),h=d.m(d.Rect,0,0,-1,-1),l=d.m(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.e4=class extends d.ca{constructor(r,v){super();this.W=r;this.J=r.F();this.g=r.G();this.Yj=v;this.ik=-1;this.ua=196635;this.J.tb().Wp()&&(this.ua|=128);this.yr=this.xr=this.xG=this.xI=this.Sa=this.Lc=this.Eg=this.Sg=this.Tc=this.T=
this.ba=NaN;this.nG=d.m(d.Rect);this.oG=d.m(d.rd);this.zz=l;this.Dv=h;this.Mh=this.Pr=this.iB=null;this.Bo=this.$a=m;this.Sf=this.np=null;this.W.F().hO()&&(this.Sf=d.m(d.I_,this.W,this));this.Gh=this.Db=null}nF(){this.ua|=256}A(){this.np&&(this.g.hb().SM(this.np),this.np=null);this.iB=null;this.Pr&&(this.Pr.zU.A(),this.Pr=null);this.Mh&&(this.Mh.clear(),this.Mh=null);this.jy();this.vj()&&this.Ba().Aj(this);if(this.We()){const r=[...this.Re()];for(const v of r)this.Aj(v)}this.Vy();this.Yj=this.g=this.J=
this.W=null}Rp(r){q=!1;this.Lf(r[0],r[1]);this.Ze(r[2]);this.jd(r[3],r[4]);this.Lc=0;this.Wp()?this.Yc(r[6]):this.Sa=0;c.Ol(r[7]);this.Xy(c);this.pq(r[8]);this.qq(r[9]);this.Jf(r[10]);this.Sf&&this.Sf.y7(r[12]);r[14]&&u.set(this,{dca:r[14][1],Xda:r[14][2]});if(r[15]){var v=r[15];this.CC(v[0],v[1]);r=this.sj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Lp(z,y);J.rg(H[0]);J.mh(H[1]);J.Ze(H[2]);J.rE(H[3]);J.sE(H[4])}}}q=!0;this.Hq()}r_(){this.xI=
this.Sa=this.Lc=this.Eg=this.Sg=this.Tc=this.T=this.ba=0;this.xG=1;this.yr=this.xr=0;this.Hq()}G(){return this.g}F(){return this.J}za(){return this.W}Ot(){return this.Mx()?this.Ba().Oa()-this.Db.QA:0}rg(r){r=+r;if(this.Ln()){const v=this.Db;r-=this.ja();const y=-this.Ot();0===y?this.ba+=r/v.pj():(this.ba+=Math.cos(y)*r/v.pj(),this.Mn()&&(this.T+=Math.sin(y)*r/v.qj()))}else this.ba=r}R0(r){r=+r;this.Ln()?this.rg(this.ja()+r):this.ba+=r}ja(){if(this.Ln()){let r=this.ba;const v=this.Db,y=this.Ba(),A=
this.Ot();0===A?r*=v.pj():(r=r*v.pj()*Math.cos(A),this.Mn()&&(r-=this.T*v.qj()*Math.sin(A)));return y.ja()+r}return this.ba}mh(r){r=+r;if(this.Mn()){const v=this.Db;r-=this.ka();const y=-this.Ot();0===y?this.T+=r/v.qj():(this.Ln()&&(this.ba-=Math.sin(y)*r/v.pj()),this.T+=Math.cos(y)*r/v.qj())}else this.T=r}S0(r){r=+r;this.Mn()?this.mh(this.ka()+r):this.T+=r}ka(){if(this.Mn()){let r=this.T;const v=this.Db,y=this.Ba(),A=this.Ot();0===A?r*=v.qj():(r=r*v.qj()*Math.cos(A),this.Ln()&&(r+=this.ba*v.pj()*
Math.sin(A)));return y.ka()+r}return this.T}Lf(r,v){r=+r;v=+v;if(this.KL()){const A=this.Ln(),G=this.Mn(),z=this.Db,F=r-this.ja(),H=v-this.ka();var y=-this.Ot();if(0===y)this.ba=A?this.ba+F/z.pj():r,this.T=G?this.T+H/z.qj():v;else{const J=Math.sin(y);y=Math.cos(y);this.ba=A?G?this.ba+(y*F-J*H)/z.pj():this.ba+y*F/z.pj():r;this.T=G?A?this.T+(J*F+y*H)/z.qj():this.T+y*H/z.qj():v}}else this.ba=r,this.T=v}$p(r,v){r=+r;v=+v;this.KL()?this.Lf(this.ja()+r,this.ka()+v):(this.ba+=r,this.T+=v)}TX(r,v){return this.ja()===
r&&this.ka()===v}Ze(r){r=+r;this.Nx()&&(r-=this.Ba().Za());this.Tc!==r&&(this.Tc=r,this.fR(),r=this.X(),0!==this.Tc&&r.DQ(),r.sg())}fR(){this.Hq();if(this.We()){const r=this.Re();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.Nx()&&A.fR()}}}T0(r){this.Ze(this.Za()+r)}Za(){return this.Nx()?this.Ba().Za()+this.Tc:this.Tc}Ff(){return this.X().Za()+this.Za()}pi(r){r=+r;if(this.Kn()){const v=this.aa();this.Sg=0===v?1E-6:r/v*this.Sg}else this.Sg=r}wM(r){r=+r;this.Kn()?this.pi(this.aa()+r):this.Sg+=r}aa(){return this.Kn()?
this.Ba().aa()*this.Sg:this.Sg}ki(r){r=+r;if(this.Jn()){const v=this.$();this.Eg=0===v?1E-6:r/v*this.Eg}else this.Eg=r}vM(r){r=+r;this.Jn()?this.ki(this.$()+r):this.Eg+=r}$(){return this.Jn()?this.Ba().$()*this.Eg:this.Eg}jd(r,v){r=+r;v=+v;if(this.Kn()){const y=this.aa();this.Sg=0===y?1E-6:r/y*this.Sg}else this.Sg=r;this.Jn()?(r=this.$(),this.Eg=0===r?1E-6:v/r*this.Eg):this.Eg=v}oZ(){if(this.vj()){const r=this.Db;return Math.min(r.pj(),r.qj())}return 1}Wp(){return 0!==(this.ua&128)}Yc(r){r=+r;this.Wp()&&
(this.Mx()&&(r-=this.Ba().Oa()),r=d.je(r),this.Sa!==r&&(this.Sa=r,this.oF()))}N0(r){r=+r;0!==r&&this.Wp()&&(this.Sa=d.je(this.Sa+r),this.oF())}oF(){this.ua|=262144;if(this.We()){const r=this.Re();for(let v=0,y=r.length;v<y;v++)r[v].oF()}}Oa(){return this.Mx()?d.je(this.Ba().Oa()+this.Sa):this.Sa}WP(){const r=this.ua;if(0!==(r&262144)){var v=this.Oa();this.xI=Math.sin(v);this.xG=Math.cos(v);this.ua=r&-262145}}eD(){this.WP();return this.xI}QC(){this.WP();return this.xG}pq(r){this.xr=+r}P0(r){this.xr+=
+r}zk(){return this.xr}qq(r){this.yr=+r}Q0(r){this.yr+=+r}Ak(){return this.yr}Xy(r){this.$a.ed(r)||(this.$a===m?(this.$a=d.m(d.Ya,r),this.Bo=d.m(d.Ya,r),this.Bo.TJ()):r.OB(1,1,1,1)?this.Bo=this.$a=m:(this.$a.set(r),this.Bo.set(r),this.Bo.TJ()),this.Hq())}Kk(r){r=d.fa(+r,0,1);this.$a.xp!==r&&(c.Yi(this.$a),c.xp=r,this.Xy(c))}O0(r){this.Kk(this.qe()+r)}qe(){return this.$a.xp}TN(r){this.$a.Kl(r)||(c.Yi(r),c.xp=this.$a.xp,this.Xy(c))}o3(r,v,y){c.hs(r,v,y);this.TN(c)}cD(){return this.Bo}tx(){return 0!==
(this.ua&512)}z2(r){this.Ce(512,r)}Ln(){return 0!==(this.ua&1024)}j3(r){this.Ce(1024,r)}Mn(){return 0!==(this.ua&2048)}KL(){return 0!==(this.ua&3072)}k3(r){this.Ce(2048,r)}Kn(){return 0!==(this.ua&4096)}i3(r){this.Ce(4096,r)}Jn(){return 0!==(this.ua&8192)}h3(r){this.Ce(8192,r)}Mx(){return 0!==(this.ua&16384)}g3(r){this.Ce(16384,r)}Nx(){return 0!==(this.ua&32768)}l3(r){this.Ce(32768,r)}EO(){this.ua&=-65025}Rl(r,v){if(r!==this&&!r.vj()&&!this.BP(r)&&!this.AP(r)){var y=r.ja(),A=r.ka(),G=r.aa(),z=r.$(),
F=r.Oa(),H=r.Za();r.LQ(this);r.j3(v.ks);r.k3(v.ls);r.i3(v.Ap);r.h3(v.zp);r.g3(v.js);r.l3(v.ns);r.z2(v.hw);v.ks&&(r.ba=y-this.ja(),v.Ap&&(r.ba/=this.aa()/this.Db.nB));v.ls&&(r.T=A-this.ka(),v.zp&&(r.T/=this.$()/this.Db.lB));v.Ap&&(r.Sg=G/this.aa(),r.Db.b3(r.Sg));v.zp&&(r.Eg=z/this.$(),r.Db.d3(r.Eg));v.js&&(r.Sa=F-this.Oa());v.ns&&(r.Tc=H-this.Za());this.l4(r);this.Ea()}}Aj(r){if(r.Ba()===this){var v=r.ja(),y=r.ka(),A=r.aa(),G=r.$(),z=r.Oa(),F=r.Za();r.LQ(null);r.EO();r.Lf(v,y);r.jd(A,G);r.Yc(z);r.Ze(F);
this.b9(r);this.Ea()}}j9(){for(var r of this.children())this.Aj(r);(r=this.Ba())&&r.Aj(this);this.EO()}vj(){return null!==this.Ba()}Ba(){const r=this.Db;return null!==r?r.Ba():null}Lx(){let r=this;for(;r.vj();)r=r.Ba();return r}*xw(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}JZ(r){return this.Re().includes(r)}We(){const r=this.Db;return null!==r?r.We():!1}Re(){const r=this.Db;return null!==r?r.Re():p}children(){return this.Re()}*jk(){for(const r of this.children())yield r,yield*r.jk()}ox(){return this.Re().length}PC(r){const v=
this.Re();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}OE(r){this.Db||(this.Db=d.m(d.n2,this));r&&this.Db.NN(r)}Vy(){this.Db&&(this.Db.A(),this.Db=null)}LQ(r){r?(r.OE(null),this.OE(r)):(this.Db&&this.Db.NN(null),this.We()||this.Vy())}AP(r){if(!this.vj())return!1;const v=this.Ba();return v===r?!0:v.AP(r)}BP(r){if(this.JZ(r))return!0;for(const v of this.Re())if(v.BP(r))return!0;return!1}l4(r){this.Db.Re().push(r)}b9(r){const v=this.Db.Re(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.vj()||
this.Vy();r.We()||r.Vy()}AL(){const r=u.get(this);return r?r.dca:null}pZ(){const r=u.get(this);return r?r.Xda:NaN}Mp(){return w.get(this)||NaN}mE(r){w.set(this,r)}Hq(){if(q){var r=this.g.hb();this.np&&r.SM(this.np);this.np=r.hV(0!==(this.ua&524288)?r.jB||"<point>":r.kB||"<default>",this.gj(),this.Bo,this.Za())}}Qp(){return this.$a===m}Jf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.gj()!==r&&(this.ua=this.ua&-2080374785|r<<26,this.Hq())}gj(){return(this.ua&2080374784)>>26}du(r){this.Yj=
r;0!==this.Za()&&this.Yj.DQ()}X(){return this.Yj}Vb(){return this.X().Vb()}dz(r){this.ik=r|0}gh(){this.Yj.hu();return this.ik}Ce(r,v){this.ua=v?this.ua|r:this.ua&~r}Fc(){return 0!==(this.ua&1)}oi(r){this.Ce(1,r)}fi(){return 0!==(this.ua&8)}pt(r){r=!!r;this.fi()!==r&&(this.Ce(8,r),r?this.Ea():this.nQ())}oE(r,v){this.Ce(32,r);this.Mh&&this.Mh.clear();if(v.trim()){this.Mh||(this.Mh=new Set);for(const y of v.split(" "))y&&this.Mh.add(y.toLowerCase())}else this.Mh=null}ID(r){const v=0!==(this.ua&32),y=
this.Mh;if(!r||!y)return!v;for(const A of y)if(r.has(A))return v;return!v}Ea(){this.ua|=65554;this.J.CQ();this.g.Y();this.Yj.mo()&&(this.Nw(this.nG,this.oG,!0),this.ua&=-3,this.$$());0!==(this.ua&4)&&this.W.Ub().dispatchEvent(f);if(null!==this.Db){const r=this.Db.Re();for(let v=0,y=r.length;v<y;++v)r[v].Ea()}}Nw(r,v,y){const A=this.ja(),G=this.ka(),z=this.aa(),F=this.$(),H=this.Oa();r.Vh(A-this.xr*z,G-this.yr*F,z,F);y&&this.Gf()&&this.c6(r);0===H?v.cj(r):(r.offset(-A,-G),v.JU(r,this.eD(),this.QC()),
v.offset(A,G),v.yJ(r));r.normalize()}bR(){const r=this.ua;0!==(r&2)&&(this.Nw(this.nG,this.oG,!0),this.ua=r&-3)}Ec(){this.bR();return this.nG}hj(){this.bR();return this.oG}IM(r){var v=this.ja(),y=this.ka();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.pa(r);b.offset(v,y);return b}v2(r){this.Ce(4,r)}WL(){return 0!==(this.ua&4)}dM(r,v,y){return v&&0!==this.Lc?this.Tp(this.X().Bq()):0===this.Za()||y?r.UB(this.Ec()):this.n7()}n7(){const r=this.X(),v=this.Ff();if(v>=r.Ds())return!1;r.NL(v,
a);return a.UB(this.Ec())}Tp(r){var v=this.Ec();const y=v.S,A=v.ea,G=v.M;v=v.Z;const z=this.Ff();return r.nW(y,G,z,A,v,z+this.Lc)}Yy(r){this.Ce(1048576,r)}$y(r){this.Ce(2097152,r)}pE(r){this.iB=r;this.VE();this.Gf()&&(this.Gh.JJ=null)}Px(){return null!==this.iB||this.Gf()}Ck(){return this.v6(this.aa(),this.$(),this.Oa(),this.eD(),this.QC())}v6(r,v,y,A,G){let z=this.Pr;null===z&&(this.Pr=z={zU:d.m(d.zn),width:NaN,height:NaN,angle:NaN});const F=z.zU;if(z.width===r&&z.height===v&&z.angle===y)return F;
const H=this.iB;if(this.Gf()){const J=this.zk(),M=this.Ak(),P=this.sj();let R=this.Gh.JJ;R||(H?(g.pa(H),g.offset(J,M)):g.yda(),R=P.H_(g),this.Gh.JJ=R);P.J3(R,F);F.offset(-J,-M);F.fK(r,v,A,G)}else H?(F.pa(H),F.fK(r,v,A,G)):F.$J(this.hj(),-this.ja(),-this.ka());z.width=r;z.height=v;z.angle=y;return F}VE(){this.W2();const r=this.Pr;null!==r&&(r.width=NaN)}CC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.za().tb().Iba)throw Error("object does not support mesh");this.jy();this.Gh={bK:d.m(d.I.rM,r,v),UU:d.m(d.I.rM,
r,v),JJ:null}}Gf(){return null!==this.Gh}sj(){if(!this.Gf())throw Error("no mesh");return this.Gh.bK}LL(){if(!this.Gf())throw Error("no mesh");return this.Gh.UU}jE(r){this.Ce(65536,r)}fM(){return 0!==(this.ua&65536)}W2(){this.Ce(131072,!0)}c6(r){const v=this.Gh.bK,y=Math.min(v.fZ(),0),A=Math.min(v.gZ(),0),G=Math.max(v.cZ(),1),z=Math.max(v.dZ(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.ida((G-1)*F);r.hda((z-1)*H);this.Lc=v.eZ()}jy(){this.Gh&&(this.Gh.bK.A(),this.Gh.UU.A(),this.Gh=
null,this.VE())}JN(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Fw;let H="number"===typeof y.YU?y.YU:A?0:-1;y="number"===typeof y.aV?y.aV:A?0:-1;if(!this.Gf())return!1;const J=this.sj(),M=J.Lp(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.Za()!==F&&(M.Ze(F),P=!0);A&&(G+=r/(J.Sj-1),z+=v/(J.ek-1));-1!==H||A?(A&&(H+=r/(J.Sj-1)),H=d.fa(H,0,1)):H=M.Pg;-1!==y||A?(A&&(y+=v/(J.ek-1)),y=d.fa(y,
0,1)):y=M.Rg;if(M.ja()===G&&M.ka()===z&&M.Pg===H&&M.Rg===y)return P;M.rg(G);M.mh(z);M.rE(H);M.sE(y);this.VE();return!0}Dk(){return this.W.Dk()}yC(r,v){return this.Ec().tf(r,v)&&this.hj().tf(r,v)?this.Dk()?void 0:this.Px()?this.Ck().tf(r-this.ja(),v-this.ka()):!0:!1}l7(){return 0!==(this.ua&16)}cR(){if(this.l7()&&this.fi()&&0===(this.ua&256)){var r=this.Ec(),v=this.J.Az,y=this.zz;a.set(v.ri(r.S),v.si(r.M),v.ri(r.ea),v.si(r.Z));y.ed(a)||(r=this.W,y===l?(v.ko(r,null,a),this.zz=d.m(d.Rect,a)):(v.ko(r,
y,a),y.pa(a)),this.ua&=-17)}}nQ(){const r=this.zz;r!==l&&(this.J.Az.ko(this.W,r,null),this.zz=l)}$$(){const r=this.X();if(r.mo()&&0===(this.ua&256)){var v=r.Dr,y=this.Ec(),A=this.Dv;a.set(v.ri(y.S),v.si(y.M),v.ri(y.ea),v.si(y.Z));A.ed(a)||(y=this.W,A===h?(v.ko(y,null,a),this.Dv=d.m(d.Rect,a)):(v.ko(y,A,a),A.pa(a)),r.Z2())}}oQ(){const r=this.Dv;r!==h&&(this.X().Dr.ko(this.W,r,null),this.Dv=h)}j4(){const r=this.W,v=this.Yj,y=v.D;y.length&&y.Td(-1)===r||(v.ro(r,!1),v.ug(r,!1),this.g.Y())}h4(){const r=
this.W,v=this.Yj,y=v.D;y.length&&y[0]===r||(v.ro(r,!1),v.I8(r),this.g.Y())}i4(r){const v=this.W,y=this.Yj;if(y.Vb()!==r.Vb())throw Error("layer from different layout");r!==y&&(y.ro(v,!0),this.du(r),r.ug(v,!0),this.g.Y())}g4(r,v){const y=this.W;let A=!1;const G=this.Yj;if(r.Sc!==y.Sc){var z=r.j();if(!z)throw Error("expected world instance");z=z.X();G.Ca()!==z.Ca()&&(G.ro(y,!0),this.du(z),z.ug(y,!0),A=!0);r=z.G0(y,r,!!v);(A||r)&&this.g.Y()}}m$(r){this.Ce(64,r)}Xs(){return 0!==(this.ua&64)}da(r){const v=
{x:this.ja(),y:this.ka(),w:this.aa(),h:this.$(),l:this.X().eb,zi:this.gh()};0!==this.Za()&&(v.ze=this.Za());0!==this.Oa()&&(v.a=this.Oa());this.Qp()||(v.c=this.$a.toJSON());.5!==this.zk()&&(v.oX=this.zk());.5!==this.Ak()&&(v.oY=this.Ak());0!==this.gj()&&(v.bm=this.gj());this.Fc()||(v.v=this.Fc());this.fi()||(v.ce=this.fi());this.WL()&&(v.be=this.WL());this.Sf&&(v.fx=this.Sf.da());const y=0!==(this.ua&32);y&&(v.sfi=y);this.Mh&&(v.sft=[...this.Mh].join(" "));this.Db&&"visual-state"!==r&&(v.sgi=this.Db.da());
this.Gf()&&(v.mesh=this.sj().sd());return v}Sy(r){"visual-state"!==r&&this.j9()}oa(r,v){q=!1;this.rg(r.x);this.mh(r.y);this.pi(r.w);this.ki(r.h);this.dz(r.zi);this.Ze(r.hasOwnProperty("ze")?r.ze:0);this.Yc(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.Ol(r.c):r.hasOwnProperty("o")?(c.Yi(this.$a),c.xp=r.o):c.tn(1,1,1,1);this.Xy(c);this.pq(r.hasOwnProperty("oX")?r.oX:.5);this.qq(r.hasOwnProperty("oY")?r.oY:.5);this.Jf(r.hasOwnProperty("bm")?r.bm:0);this.oi(r.hasOwnProperty("v")?r.v:!0);this.pt(r.hasOwnProperty("ce")?
r.ce:!0);this.v2(r.hasOwnProperty("be")?r.be:!1);this.oE(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Sf&&r.hasOwnProperty("fx")&&this.Sf.oa(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.OE(null);const y=this.Db,A=r.sgi;y.oa(A);const G=this.G().Ub(),z=()=>{G.removeEventListener("afterload",z);0===(this.ua&256)&&y.rF(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.CC(r.cols,r.rows),this.sj().hd(r)):this.jy();this.Ea();q=!0;this.Hq()}}}
{"use strict";const d=self.B;d.mK=class extends d.ca{constructor(a,b){super();const f=a.G(),c=f.Nm,g=f.bh(b[1]);c.IZ(g)||c.sW(b);this.g=f;this.J=a;this.Ai=c.mY(g);this.Bc=null;this.eA=g.Instance;this.eb=b[2];this.Fa=b[0];this.lv=this.g.ci(b[3]);this.Bc=d.m(g.xq,this);this.Id()}static La(a,b){return d.m(d.mK,a,b)}A(){this.Ai=this.g=null;this.Bc.A();this.eA=this.Bc=null}Id(){this.Bc.Id()}G(){return this.g}F(){return this.J}uk(){return this.Ai}ya(){return this.Fa}ci(){return this.lv}}}
{"use strict";const d=self.B,a=self.TL;d.Iw=class extends d.ca{constructor(b){super();this.g=b.wf;this.Jc=b.jJ;this.Ai=this.Jc.uk();this.W=b.instance;this.Ka=b.index;this.$d=this.la=null;this.Ai.ug(this.W)}A(){this.$d&&(this.$d.au(),this.$d=null);this.Ai.ro(this.W);this.la.A();this.W=this.Ai=this.Jc=this.g=this.$d=this.la=null}Hy(b){if(this.la)throw Error("already got sdk instance");this.la=d.m(this.Jc.eA,this,b);this.c7()}G(){return this.g}ig(){return this.Jc}uk(){return this.Ai}Be(){return this.Ka}sd(){return this.la.sd()}hd(b){return this.la.hd(b)}static wE(b,
f){var c=b.W,g=f.W;const m=c.F().Ca(),h=g.F().Ca();if(m!==h)return m-h;c=c.aT;g=g.aT;return c!==g?c-g:b.qz.Be()-f.qz.Be()}c7(){const b=this.la.$l(),f=b||a;a.vg(this);this.$d=new f;a.vg(null);if(b&&!(this.$d instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Op(){return this.$d}}}
{"use strict";const d=self.B;d.rk=class extends d.ca{constructor(a,b){super();this.Rb=a;this.wg=[];this.Nf=[];this.Iz=new Map;this.wh=[];this.zr=!0;for(const f of b)a=d.m(d.RK,this,f,this.wg.length),this.wg.push(a),this.Iz.set(a.ya().toLowerCase(),a),3<=f.length&&this.wh.push(this.kF(f[2]));this.G().n4(this)}A(){d.C(this.wg);d.C(this.Nf);this.Iz.clear();d.C(this.wh);this.Rb=null}w1(a){if(a.length){this.wg=a.concat(this.wg);for(const b of a)this.Iz.set(b.ya().toLowerCase(),b);for(let b=0,f=this.wg.length;b<
f;++b)this.wg[b].DF(b)}}kF(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const g=d.m(d.Ya);g.Ol(c);a[b]=g}}return a}G(){return this.Rb.G()}oh(){d.C(this.Nf);let a=!0;for(const b of this.wg)b.Cb&&(this.Nf.push(b),b.Df().zr||(a=!1));this.zr=a}hg(){return this.wg}DZ(){return 0<this.wg.length}wk(a){return this.Iz.get(a.toLowerCase())||null}hL(a){a=Math.floor(+a);if(0>a||a>=this.wg.length)throw new RangeError("invalid effect type index");return this.wg[a]}bt(a){return this.hL(a).Cb}vN(a,
b){this.hL(a).ny(b)}Xs(){return 0<this.Nf.length}vk(a){return this.wh[a]}static l2(a){return a&&a instanceof d.Ya?{t:"color",v:a.toJSON()}:a}static t0(a){if("object"===typeof a){if("color"===a.t){const b=d.m(d.Ya);b.Ol(a.v);return b}throw Error("invalid effect parameter type");}return a}static lN(a){return a.map(d.rk.l2)}static oM(a){return a.map(d.rk.t0)}sd(){return this.wg.map(a=>({name:a.ya(),active:a.Cb,params:d.rk.lN(this.wh[a.Ca()])}))}hd(a){for(const b of a)if(a=this.wk(b.name))a.ny(b.active),
this.wh[a.Ca()]=d.rk.oM(b.params);this.oh()}}}
{"use strict";const d=self.B;d.RK=class extends d.ca{constructor(a,b,f){super();this.Ja=a;this.Ie=b[0];this.Fa=b[1];this.Ka=f;this.Rc=null;this.Cb=!0}A(){this.Rc=this.Ja=null}fW(a){a=d.m(d.RK,a,[this.Ie,this.Fa],-1);a.Rc=this.Rc;a.Cb=this.Cb;return a}DP(a){a=a.FL(this.Ie);if(!a)throw Error("failed to find shader program '"+this.Ie+"'");this.Rc=a}ya(){return this.Fa}DF(a){this.Ka=a}Ca(){return this.Ka}G(){return this.Ja.G()}ny(a){this.Cb=!!a}Df(){return this.Rc}wY(){const a=[];for(let b=0,f=this.Rc.vp.length;b<
f;++b){const c=this.Rc.Ex(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.m(d.Ya,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.I_=class extends d.ca{constructor(a,b){super();this.W=a;this.MT=b;this.Ja=a.F().Ja;this.dw=this.eI=!0;this.LT=this.KT=this.IT=!1;this.vh=d.m(d.I.me,a.G().V.GG,{NB:(f,c)=>{c=c.ym;const g=c.j();f.im(g.cD());f.qt(g.Ff());c.Zg(f);f.qt(0)},hU:f=>{const c=f.SC(),[g,m]=f.RC();return{QU:c,RU:g,PU:m}},SB:f=>this.vk(f)});this.to=[];this.Nf=[];this.zr=!0;this.wh=[];for(const f of this.Ja.hg())this.to.push(!0);this.oh()}A(){this.vh.A();this.vh=null;d.C(this.to);d.C(this.Nf);d.C(this.wh);
this.Ja=this.W=null}y7(a){for(const b of a)this.wh.push(this.kF(b))}kF(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const g=d.m(d.Ya);g.Ol(c);a[b]=g}}return a}q0(){for(const a of this.Ja.hg())this.wh.push(a.wY())}$h(){this.Wt();return this.vh}G(){return this.W.G()}oh(){d.C(this.Nf);const a=this.MT,b=this.Ja.hg(),f=this.Nf,c=this.to;let g=!0;for(let m=0,h=b.length;m<h;++m)if(c[m]){const l=b[m];f.push(l);l.Df().zr||(g=!1)}this.zr=g;a.m$(!!f.length);this.eI=!0}Wt(){const a=
this.W;var b=this.MT;const f=b.Qp(),c=0<b.Lc;b=0!==b.Oa()||0>b.aa()||0>b.$();const g=a.vD();if(this.eI||f!==this.dw||c!==this.IT||b!==this.KT||g!==this.LT)this.vh.tC(this.Nf.map(m=>m.Df()),{Wr:this.Nf.map(m=>m.Ca()),QB:!f||a.Yp(),EJ:c,oU:g,mU:b}),this.eI=!1,this.dw=f,this.IT=c,this.KT=b,this.LT=g}vk(a){return this.wh[a]}bt(a){return this.to[a]}vN(a,b){this.to[a]=!!b}hg(){return this.Ja.hg()}da(){return this.Ja.hg().map(a=>({name:a.ya(),active:this.to[a.Ca()],params:d.rk.lN(this.wh[a.Ca()])}))}oa(a){for(const b of a)if(a=
this.Ja.wk(b.name))this.to[a.Ca()]=b.active,this.wh[a.Ca()]=d.rk.oM(b.params);this.oh()}}}
{"use strict";const d=self.B,a=[],b=[],f=d.m(d.zn),c=d.m(d.zn),g=d.m(d.rd);d.m(d.Rect);d.m(d.Rect);let m=null,h=null,l=null;d.gW=class extends d.ca{constructor(n){super();this.g=n;this.ZA=[]}A(){this.g=null}lK(n,p,q){for(const [u,w]of this.ZA){let r;if(n===u)r=w;else if(n===w)r=u;else continue;r.Dp(p)&&(q.includes(r)||q.push(r))}}vK(n,p){if(!this.ZA.length)return!1;for(const [q,u]of this.ZA)if(n===q&&p===u||n===u&&p===q)return!0;return!1}wK(){d.C(this.ZA)}wq(n,p){if(!n||!p||n===p)return!1;n=n.j();
p=p.j();if(!n.fi()||!p.fi())return!1;const q=n.X(),u=p.X();return q.g0(u)?this.O$(n,p):this.N$(n,p)}O$(n,p){if(!n.Ec().UB(p.Ec())||!n.hj().CJ(p.hj())||n.Dk()&&p.Dk())return!1;if(n.Dk())return this.CE(n,p);if(p.Dk())return this.CE(p,n);if(!n.Px()&&!p.Px())return!0;const q=n.Ck(),u=p.Ck();return q.mw(u,p.ja()-n.ja(),p.ka()-n.ka())}N$(n,p){var q=n.Dk(),u=p.Dk();if(q&&!u)return this.ZN(n,p);if(u&&!q)return this.ZN(p,n);if(u||q)return!1;u=n.X();q=p.X();f.pa(n.Ck());c.pa(p.Ck());var w=f.Cd;for(let r=0,
v=w.length;r<v;r+=2){const y=r+1,A=w[y],[G,z]=u.Wn(w[r]+n.ja(),A+n.ka());w[r]=G;w[y]=z}n=c.Cd;for(let r=0,v=n.length;r<v;r+=2){u=r+1;w=n[u];const [y,A]=q.Wn(n[r]+p.ja(),w+p.ka());n[r]=y;n[u]=A}f.ZJ();c.ZJ();return f.mw(c,0,0)}ZN(n,p){var q=n.X(),u=p.X();m||(m=d.m(d.zn));h||(h=d.m(d.Rect));l||(l=d.m(d.rd));var w=p.ja(),r=p.ka();const [v,y]=u.Wn(w,r),[A,G]=q.qk(v,y);q=A-w;r=G-r;h.pa(p.Ec());h.offset(q,r);if(!n.Ec().UB(h))return!1;l.pa(p.hj());l.offset(q,r);if(!n.hj().CJ(l))return!1;m.pa(p.Ck());u=m.Cd;
for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=q,u[w]+=r;m.ZJ();return this.CE(n,p,A,G,m,h,l)}CE(n,p,q,u,w,r,v){r=void 0!==r?r:p.Ec();const y=n.ja(),A=n.ka();var G=n.za().la;q=void 0!==q?q:p.ja();u=void 0!==u?u:p.ka();n=p.Px();v=void 0!==v?v:p.hj();G.rfa(r,b);for(let H=0,J=b.length;H<J;++H){var z=b[H];G=z.ufa();if(r.Nca(G,y,A)&&(g.cj(G),g.offset(y,A),g.CJ(v)))if(n){var F=void 0!==w?w:p.Ck();if(z=z.kZ()){if(z.mw(F,q-(y+G.S),u-(A+G.M)))return d.C(b),!0}else if(f.$J(g,0,0),f.mw(F,q,u))return d.C(b),!0}else if(F=
z.kZ()){if(f.$J(v,0,0),F.mw(f,-(y+G.S),-(A+G.M)))return d.C(b),!0}else return d.C(b),!0}d.C(b);return!1}qx(n,p,q,u){n=n?1!==n.lf||1!==n.mf:!1;if(p.Va)for(const w of p.Io)n||w.bG?d.ln(u,w.ia()):(w.$Q(),w.Az.hy(q,u));else n||p.bG?d.ln(u,p.ia()):(p.$Q(),p.Az.hy(q,u))}hZ(n,p,q,u){for(const w of p)this.qx(n,w,q,u)}qZ(n,p,q){const u=this.g.fD();u&&this.hZ(n,u.bD(),p,q)}ID(n,p){return n.p7()&&(!p||p.j().ID(n.ei().get("solidTags")))}BE(n){const p=n.j();this.qZ(p.X(),p.Ec(),a);for(const q of a)if(this.ID(q,
n)&&this.wq(n,q))return d.C(a),q;d.C(a);return null}D1(n,p,q,u){u=u||50;const w=n.j(),r=w.ja(),v=w.ka();let y=null,A=null;for(let G=0;G<u;++G)if(w.Lf(r+p*G,v+q*G),w.Ea(),!this.wq(n,y))if(y=this.BE(n))A=y;else if(!y)return A&&this.C1(n,p,q,A),!0;w.Lf(r,v);w.Ea();return!1}C1(n,p,q,u){let w=2,r=!1;var v=!1;const y=n.j();let A=y.ja(),G=y.ka();for(;16>=w;)v=1/w,w*=2,y.$p(p*v*(r?1:-1),q*v*(r?1:-1)),y.Ea(),this.wq(n,u)||this.BE(n)?v=r=!0:(v=r=!1,A=y.ja(),G=y.ka());v&&(y.Lf(A,G),y.Ea())}}}
{"use strict";const d=self.B;d.y3=class extends d.ca{constructor(a,b){super();this.rG=a;this.qG=b;this.Ci=d.m(d.ht)}A(){this.Ci.A();this.Ci=null}Ul(a,b,f){let c=this.Ci.U(a,b);return c?c:f?(c=d.m(d.zZ,this,a,b),this.Ci.Set(a,b,c),c):null}ri(a){a=Math.floor(a/this.rG);return isFinite(a)?a:0}si(a){a=Math.floor(a/this.qG);return isFinite(a)?a:0}ko(a,b,f){if(b)for(let c=b.S,g=b.ea;c<=g;++c)for(let m=b.M,h=b.Z;m<=h;++m){if(f&&f.tf(c,m))continue;const l=this.Ul(c,m,!1);l&&(l.jh(a),l.Sn()&&this.Ci.An(c,
m))}if(f)for(let c=f.S,g=f.ea;c<=g;++c)for(let m=f.M,h=f.Z;m<=h;++m)b&&b.tf(c,m)||this.Ul(c,m,!0).sD(a)}hy(a,b){let f=this.ri(a.S);const c=this.si(a.M),g=this.ri(a.ea);a=this.si(a.Z);if(isFinite(g)&&isFinite(a))for(;f<=g;++f)for(let m=c;m<=a;++m){const h=this.Ul(f,m,!1);h&&h.FC(b)}}}}
{"use strict";const d=self.B;d.zZ=class extends d.ca{constructor(a,b,f){super();this.ba=b;this.T=f;this.D=d.m(d.pC)}A(){this.D.A();this.D=null}Sn(){return this.D.Sn()}sD(a){this.D.Dc(a)}jh(a){this.D.An(a)}FC(a){d.ln(a,this.D.MC())}}}{"use strict";const d=self.B;d.Uha=class{constructor(){this.rect=new d.Rect;this.iw=0}Set(a,b,f,c){this.rect.set(a,b,f,c);this.rect.normalize();this.iw=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),f=self.aj.Ml,c=f.create(),g=d.m(d.rd),m=d.m(d.Rect);d.tK=class extends d.ca{constructor(h){super();this.g=h;this.Pj=null;this.sS=!1;this.Xi=this.bb=null;this.ZG="high-performance";this.wm=this.vm=this.th=this.uh=this.Kc=this.Zc=this.hn=this.jn=0;this.$q=!0;this.Mc=this.$c=this.vT=0;this.Naa=this.LR="letterbox-scale";this.Maa=this.Laa=0;this.Gz=f.create();
this.zh=this.eJ="high";this.jr=!1;this.nu=[];this.uB=new Set;this.cB=self.C3_Shaders;this.GG=d.m(d.I.QX,{fU:()=>[this.kj(),this.Zh()],gU:()=>this.xY(),EU:l=>this.K1(l),getTime:()=>this.G().Fn(),DU:()=>this.G().Y()});this.Qf=this.Bm=0;this.gr=NaN;this.Xz=null;this.MH=new Map;this.Nu=NaN;this.CB=new Map;this.gB="";this.yI=1;this.jT=d.m(d.Rect);this.zI="";this.kT=this.Kv=null;this.qv=0;this.fe=-1;this.Im=0;this.SH=l=>this.Im=l.progress;this.nf=null;this.qf={vw:null,yw:null,Ew:null};this.DI=this.pT=this.EI=
0;this.Vi="fade-in";this.CI=null;this.oT=new Promise(l=>this.CI=l)}k$(h){this.ZG=h}C$(h){this.sS=!!h}async Xg(h){this.Pj=h.canvas;this.g.nk("runtime","window-resize",p=>this.C8(p));this.g.nk("runtime","fullscreenchange",p=>this.k8(p));this.g.nk("runtime","fullscreenerror",p=>this.l8(p));this.Pj.addEventListener("webglcontextlost",p=>this.Zt(p));this.Pj.addEventListener("webglcontextrestored",()=>this.sF());this.jr=!!h.isFullscreen;var l=navigator.gpu&&this.sS;let n=!1;if(l)try{await this.HP(!0)}catch(p){this.Xi=
null}if(!this.hb())try{await this.GP(!0)}catch(p){this.bb=null}this.hb()||(n=!0);if(!this.hb()&&l)try{await this.HP(!1)}catch(p){this.Xi=null}if(!this.hb())try{await this.GP(!1)}catch(p){this.bb=null}l=this.hb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.M2(n);this.jd(h.windowInnerWidth,h.windowInnerHeight,!0);this.Xi?await this.f7():this.bb&&await this.e7();l.kE(this.$q);l.Gj()&&(this.gr=0);for(const p of this.g.VF){for(const q of p.hg())q.DP(l);p.oh()}}async HP(h){h=
{powerPreference:this.ZG,depth:this.g.Gl,failIfMajorPerformanceCaveat:h,yla:this.g.vB,nJ:this.g.bJ};this.Xi=d.m(d.I.bla);await this.Xi.La(this.Pj,h)}async GP(h){h={powerPreference:this.ZG,dU:!0,depth:this.g.Gl,nJ:this.g.bJ,failIfMajorPerformanceCaveat:h};"Android"===d.Wc.Zp&&"Chromium"===d.Wc.Mw&&75>d.Wc.sC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.sU=1);"standard"===this.g.Pq?h.alpha=
!0:(h.alpha=!1,h.IJ=!0);this.bb=d.m(d.I.c4,this.Pj,h);await this.bb.Tx()}async f7(){if(this.cB){const h=[];for(const [l,n]of Object.entries(this.cB))n.src=n.Uda,h.push(this.Xi.DC(n,d.I.cla.rx(),l));await Promise.all(h)}}async e7(){if(this.cB){const h=[];for(const [l,n]of Object.entries(this.cB))n.src=n.Gca,h.push(this.bb.DC(n,d.I.It.rx(),l));await Promise.all(h);this.bb.b2();this.bb.Fj()}this.bb.Gj()&&(this.Xz=d.m(d.I.lO,this.bb))}A(){this.Pj=this.bb=this.g=null}C8(h){const l=this.g,n=h.devicePixelRatio;
l.gl&&(self.devicePixelRatio=n);l.b$(n);this.jr=!!h.isFullscreen;this.jd(h.innerWidth,h.innerHeight);l.Y();l.zb&&(l.Ys()||self.Vg.Ufa())&&l.bo()}k8(h){this.jr=!!h.isFullscreen;this.jd(h.innerWidth,h.innerHeight,!0);this.g.Y()}l8(h){this.jr=!!h.isFullscreen;this.jd(h.innerWidth,h.innerHeight,!0);this.g.Y()}jd(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.jn!==h||this.hn!==l||n){this.jn=h;this.hn=l;n=this.Hs();"letterbox-scale"===n?this.D4(h,l):"letterbox-integer-scale"===
n?this.C4(h,l):"off"===n?this.A4(h,l):this.B4(h,l);this.Y$(n);this.Pj.width=this.uh;this.Pj.height=this.th;this.g.jt("canvas","update-size",{marginLeft:this.vm,marginTop:this.wm,styleWidth:this.Zc,styleHeight:this.Kc});h=this.hb();h.jd(this.uh,this.th,!0);for(var p of this.nu)h.LW(p);d.C(this.nu);h.Ep(this.Gz,this.kj()/this.Zh());p=this.g.ab;p.iq();p.hq()}}D4(h,l){const n=this.g.ij(),p=this.g.Ig,q=this.g.Hg,u=p/q;h/l>u?(this.Zc=Math.round(l*u),this.Kc=l,this.vm=Math.floor((h-this.Zc)/2),this.wm=0):
(this.Zc=h,this.Kc=Math.round(h/u),this.vm=0,this.wm=Math.floor((l-this.Kc)/2));this.uh=Math.round(this.Zc*n);this.th=Math.round(this.Kc*n);this.g.Et(p,q)}C4(h,l){const n=this.g.ij();1!==n&&(h+=1,l+=1);const p=this.g.Ig,q=this.g.Hg;var u=p/q;u=h/l>u?l*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.uh=Math.round(p*u);this.th=Math.round(q*u);this.Zc=this.uh/n;this.Kc=this.th/n;this.vm=Math.max(Math.floor((h-this.Zc)/2),0);this.wm=Math.max(Math.floor((l-this.Kc)/2),0);this.g.Et(p,q)}B4(h,
l){const n=this.g.ij();this.Zc=h;this.Kc=l;this.uh=Math.round(this.Zc*n);this.th=Math.round(this.Kc*n);this.wm=this.vm=0;h=this.jj();this.g.Et(this.Zc/h,this.Kc/h)}A4(h,l){const n=this.g.ij();this.Zc=this.g.bg;this.Kc=this.g.ag;this.uh=Math.round(this.Zc*n);this.th=Math.round(this.Kc*n);this.jr?(this.vm=Math.floor((h-this.Zc)/2),this.wm=Math.floor((l-this.Kc)/2)):this.wm=this.vm=0;this.g.Et(this.g.bg,this.g.ag)}Y$(h){if("high"===this.eJ)this.$c=this.uh,this.Mc=this.th,this.zh="high";else{let n;if("off"===
this.Hs()){var l=this.g.bg;n=this.g.ag}else l=this.g.Ig,n=this.g.Hg;this.uh<l&&this.th<n?(this.$c=this.uh,this.Mc=this.th,this.zh="high"):(this.$c=l,this.Mc=n,this.zh="low","scale-inner"===h?(h=l/n,l=this.jn/this.hn,l<h?this.$c=this.Mc*l:l>h&&(this.Mc=this.$c/l)):"scale-outer"===h&&(h=l/n,l=this.jn/this.hn,l>h?this.$c=this.Mc*l:l<h&&(this.Mc=this.$c/l)))}}G(){return this.g}K2(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.LR=h;h=this.g.ab;h.iq();h.hq()}xx(){return this.LR}Hs(){return this.jr?
this.Naa:this.xx()}yN(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.eJ=h;this.g.ab.iq()}static q6(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}kj(){return this.$c}Zh(){return this.Mc}kE(h){this.$q=!!h}A$(h){this.vT=h}a0(){return this.hb().Qn()}Zt(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.nu=[];this.uB.clear();this.bb.Hk();this.g.Zt()}async sF(){await this.bb.OD();await this.mla();for(const h of this.g.VF)for(const l of h.hg())l.DP(this.bb);await this.g.sF();console.log("[Construct 3] WebGL context restored")}Nn(){return this.bb}Ws(){return this.Xi}hb(){return this.Xi||this.bb}Zl(){return"low"===this.zh?1/this.g.ij():this.jj()}jj(){const h=this.Hs();if("off"===h||"crop"===h)return 1;const l=this.g.Ig,n=this.g.Hg,p=l/n,q=this.uh/this.th;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.Kc/n:this.Zc/l}Ks(){return"low"===this.zh?1:this.jj()}Js(){return"low"===this.zh?1:this.g.ij()}A2(h,l,n){l=l||this.$c;n=n||this.Mc;const p=l/2+this.Laa,q=n/2+this.Maa;{let u=this.Gz;if(l!==this.$c||n!==this.Mc)h.Ep(c,l/n),u=c;h.eo(u)}l=h.os(p,q,100*this.g.ij(),p,q,n||this.Mc);h.oq(l)}x2(h){var l=this.Zc/2;const n=this.Kc/2;h.eo(this.Gz);l=h.os(l,n,100,l,n);h.oq(l)}Es(){return this.vm}Fs(){return this.wm}zs(h){h.depth=this.g.Gl;const l=this.nu,n=l.findIndex(q=>q.Q_(h));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.hb().yW(h);this.uB.add(p);return p}Zn(h){if(!this.uB.has(h))throw Error("render target not in use");this.uB.delete(h);this.nu.push(h)}xY(){const h={bj:this.g.md};"low"===this.zh&&(h.width=this.kj(),h.height=this.Zh());return this.zs(h)}K1(h){this.Zn(h)}*DB(){for(const h of this.g.ab.Bw())for(const l of h.Pb){const n=this.MH.get(l);n&&(yield n)}}tL(h){if(!this.hb().Gj())return null;let l=this.MH.get(h);l||(l={name:h.ya(),cK:d.m(d.I.lO,this.bb),IB:0,qU:0},
this.MH.set(h,l));return l.cK}V$(){const h=this.hb();if(h.Gj()&&0===this.Qf){this.Qf=h.yh;this.Nu=NaN;for(const l of this.DB())l.IB=NaN}}baa(){this.bb&&this.bb.Gj()&&this.caa();this.Xi&&this.Xi.Gj()&&this.daa()}caa(){if(isNaN(this.Nu)&&(this.Nu=this.Xz.pL(this.Bm,this.Qf),!isNaN(this.Nu))){if(this.g.zb)for(const h of this.DB())if(h.IB=h.cK.pL(this.Bm,this.Qf),isNaN(h.IB))return;this.Xz.MK(this.Qf);this.gr=Math.min(this.Nu,1);if(this.g.zb){for(const h of this.DB())h.cK.MK(this.Qf),h.qU=Math.min(h.IB,
1);self.Vg.S3(this.gr,[...this.DB()])}this.Bm=this.Qf;this.Qf=0}}daa(){if(0!==this.Qf){for(var h=this.Bm;h<this.Qf;++h){var l=this.CB.get(h);if(l&&!l.Qx())return}l=this.g.Kb();h=d.y0(l.Pb.length+1);for(var n=this.Bm;n<this.Qf;++n){var p=this.CB.get(n);if(p){p=p.Jx();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.gr=d.fa(h[0],0,1);if(this.g.zb){n=[];l=l.Pb;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)n.push({name:l[q].ya(),qU:d.fa(h[q+1],0,1)});self.Vg.S3(this.gr,n)}for(h=this.Bm;h<this.Qf;++h)this.CB.delete(h);this.Bm=this.Qf;this.Qf=0}}w4(h){this.CB.set(this.Xi.yh,h)}zx(){return this.gr}WN(h,l,n,p,q,u){this.gB=h;this.yI=l;this.jT.Vh(n,p,q,u);return this.Kv?this.Kv:this.Kv=new Promise(w=>{this.kT=w})}U7(){if(this.gB){var h=this.Pj,l=this.jT,n=d.fa(Math.floor(l.S),0,h.width),p=d.fa(Math.floor(l.M),0,h.height),q=l.width();q=0===q?h.width-n:d.fa(Math.floor(q),0,h.width-n);l=l.height();l=0===
l?h.height-p:d.fa(Math.floor(l),0,h.height-p);(0!==n||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=d.Xg(q,l),h.getContext("2d").drawImage(this.Pj,n,p,q,l,0,0,q,l));d.Ow(h,this.gB,this.yI).then(u=>{this.zI=URL.createObjectURL(u);this.Kv=null;this.kT(this.zI)});this.gB="";this.yI=1}}q_(h){this.bb&&(2===h?(this.nf=d.m(d.I.TD,this.hb()),this.nf.EN(),this.nf.gE("Arial"),this.nf.hE(16),this.nf.AN("center"),this.nf.VN("center"),this.nf.jd(300,200)):0===h?(h=this.g.qr)&&h.dt(this.bb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.K7().then(l=>{"done"===this.Vi?this.bb.ej(l):this.qf.vw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.NP("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Vi?this.bb.ej(l):this.qf.yw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.NP("splash-images/splash-website-512.png").then(l=>{"done"===this.Vi?this.bb.ej(l):this.qf.Ew=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async K7(){var h=(new URL("splash-images/splash-logo.svg",
this.g.OC())).toString();h=await d.tk(h);h=await this.g.H1(h);return await this.bb.Ww(h,{ww:"high"})}async NP(h){h=(new URL(h,this.g.OC())).toString();h=await d.tk(h);return await this.bb.Ww(h,{ww:"high"})}nD(){this.g.jt("runtime","hide-cordova-splash")}z3(){this.qv=Date.now();this.g.Ub().addEventListener("loadingprogress",this.SH);this.fe=requestAnimationFrame(()=>this.VO());3!==this.g.pr&&this.nD()}async SX(){if(this.bb){this.Im=1;var h=this.g.pr;4===h&&await this.oT;this.oT=this.CI=null;-1!==this.fe&&
(cancelAnimationFrame(this.fe),this.fe=-1);this.g.Ub().removeEventListener("loadingprogress",this.SH);this.SH=null;this.nf&&(this.nf.A(),this.nf=null);this.g.L1();this.bb.Ft();this.qf.vw&&(this.bb.ej(this.qf.vw),this.qf.vw=null);this.qf.yw&&(this.bb.ej(this.qf.yw),this.qf.yw=null);this.qf.Ew&&(this.bb.ej(this.qf.Ew),this.qf.Ew=null);this.bb.yn();this.bb.ws();this.Vi="done";this.Bm=this.bb.yh;3===h&&this.nD()}}VO(){if(-1!==this.fe){var h=this.bb;if(h){h.Ft();this.fe=-1;var l=this.g.td.bH,n=this.g.pr;
3!==n&&(this.x2(h),h.yn(),h.nt(),h.Fj(),h.Kf(null));if(0===n)this.U5(l);else if(1===n)this.Ky(l,120,0);else if(2===n)this.T5(l);else if(3!==n)if(4===n)this.V5(l);else throw Error("invalid loader style");h.ws();this.fe=requestAnimationFrame(()=>this.VO())}}}T5(h){h?this.nf.rN(1,0,0):this.nf.rN(.6,.6,.6);this.nf.Dt(Math.round(100*this.Im)+"%");h=this.Zc/2;const l=this.Kc/2;g.LU(h-150,l-100,h+150,l+100);this.bb.Kf(this.nf.Xd());this.bb.eq(g,this.nf.tj())}Ky(h,l,n){const p=this.bb;p.qN();h?p.Ye(1,0,0,
1):p.Ye(.118,.565,1,1);h=this.Zc/2;const q=this.Kc/2,u=l/2;m.Vh(h-u,q-4+n,Math.floor(l*this.Im),8);p.Rect(m);m.Vh(h-u,q-4+n,l,8);m.offset(-.5,-.5);m.AJ(.5,.5);p.Ye(0,0,0,1);p.kM(m);m.AJ(1,1);p.Ye(1,1,1,1);p.kM(m)}U5(h){var l=this.g.qr;if(l)if(l=l.Xd()){var n=l.aa(),p=l.$(),q=this.Zc/2,u=this.Kc/2,w=n/2;p/=2;g.LU(q-w,u-p,q+w,u+p);this.bb.Kf(l);this.bb.rd(g);this.Ky(h,n,p+16)}else this.Ky(h,120,0);else this.Ky(h,120,0)}V5(h){const l=this.bb,n=this.qf.vw,p=this.qf.yw,q=this.qf.Ew,u=Date.now();0===this.EI&&
(this.qv=u);const w=this.g.Vp()||this.g.aba&&!this.g.R_(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Vi?y=Math.min((u-this.qv)/300,1):"fade-out"===this.Vi&&(y=Math.max(1-(u-this.DI)/300,0));l.qN();l.Ye(.231*y,.251*y,.271*y,y);m.set(0,0,this.Zc,this.Kc);l.Rect(m);const A=Math.ceil(this.Zc),G=Math.ceil(this.Kc);let z;256<this.Kc?(l.Ye(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Vh(0,.8*G-z/2,A,z),l.Rect(m),h?l.Ye(y,0,0,y):l.Ye(.161*y,.953*y,.816*y,y),h=A*this.Im,m.Vh(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),
l.Ye(y,y,y,y),l.Fj(),p&&(h=1.5*d.fa(.22*G,105,.6*A),z=h/8,m.Vh(.5*A-h/2,.2*G-z/2,h,z),l.Kf(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.Vh(.5*A-h/2,.485*G-z/2,h,z),l.Kf(n),l.Rect(m)),q&&(h=1.5*d.fa(.22*G,105,.6*A),z=h/8,m.Vh(.5*A-h/2,.868*G-z/2,h,z),l.Kf(q),l.Rect(m))):(l.Ye(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Vh(0,.85*G-z/2,A,z),l.Rect(m),h?l.Ye(y,0,0,y):l.Ye(.161*y,.953*y,.816*y,y),h=A*this.Im,m.Vh(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.Ye(y,y,y,y),l.Fj(),n&&(z=h=.55*G,m.Vh(.5*A-h/2,.45*
G-z/2,h,z),l.Kf(n),l.Rect(m)));this.EI++;"fade-in"===this.Vi&&300<=u-this.qv&&2<=this.EI&&(this.Vi="wait",this.pT=u);"wait"===this.Vi&&u-this.pT>=v&&1<=this.Im&&(this.Vi="fade-out",this.DI=u);("fade-out"===this.Vi&&u-this.DI>=300+r||w&&1<=this.Im&&500>u-this.qv)&&this.CI()}}}
{"use strict";const d=self.B,a=self.Vg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.fN=class extends d.ca{constructor(c){c=Object.assign({},b,c);super();this.uv=c.messagePort;this.saa=c.baseUrl;this.gl=!!c.isInWorker;f=c.ife;this.Am=c.exportType;this.tS=!!c.isiOSCordova;this.aba=!!c.isFBInstantAvailable;this.vba=c.opusWasmScriptUrl;this.US=c.opusWasmBinaryUrl;this.ae=this.zaa=this.zb=!("preview"!==this.Am||!c.isDebug);this.AG=
0;this.SF=[];this.kaa=[];this.nI=this.$S=this.WA="";this.Hg=this.Ig=0;this.Vq=self.devicePixelRatio;this.pr=this.ag=this.bg=this.PA=this.OA=0;this.xB=!1;this.Vj=!0;this.bJ=this.vB=!1;this.qr=null;this.td=d.m(d.GV,this,c);this.ab=d.m(d.m0,this);this.ta=d.m(d.XX,this);this.Nm=d.m(d.p1,this);this.xm=d.m(d.gW,this);this.ub=d.m(d.H3,this);this.OI=d.m(d.K3,this);this.Hc=[];this.fI=new Map;this.gI=new Map;this.GR=0;this.maa=[];this.VF=[];this.Cu=[];this.fl=[];this.gA=new Map;this.Zz=!1;this.xv=this.hI=0;
this.Po=new Map;this.Qo=new Set;this.hA=new Set;this.NA=[];this.vS=[];this.V=null;this.Gl=!1;this.TG="vsync";this.Pq="standard";this.md="trilinear";this.il=!1;this.cI=!0;this.AH=this.XS=!1;this.Jba={wU:g=>{this.zl=this.fe=-1;this.xe(g)},Jda:g=>{this.zl=-1;this.xe(g,!1,"skip-render")},sda:()=>{this.fe=-1;this.bo()}};this.zl=this.fe=-1;this.cr=this.bk=0;this.$R=this.pA=this.$z=!1;this.wH=!0;this.Jr=0;this.Aba=()=>Math.random();this.Hu=this.Iu=this.DA=this.mB=0;this.Rd=1;this.PS=30;this.XG=d.m(d.$x);
this.YG=d.m(d.$x);this.dJ=d.m(d.$x);this.Vz=-1;this.IA=this.ml=this.Uz=this.Ko=0;this.Wj=!1;this.pv=this.Ev="";this.nr=null;this.Yo="";this.uI=this.mI=null;this.Mb=d.m(d.Event.Ub);this.EG=new Map;this.jI=new Map;this.rba=0;this.rS=!1;this.cJ=[];this.Ho={pretick:d.m(d.Event,"pretick",!1),tick:d.m(d.Event,"tick",!1),tick2:d.m(d.Event,"tick2",!1),instancedestroy:d.m(d.Event,"instancedestroy",!1),beforelayoutchange:d.m(d.Event,"beforelayoutchange",!1),layoutchange:d.m(d.Event,"layoutchange",!1)};this.Ho.instancedestroy.instance=
null;this.Sd=d.m(d.Event.Ub);this.DT=null;this.um=d.m(d.Yn,d.Iw.wE);this.xo=d.m(d.Yn,d.Iw.wE);this.yo=d.m(d.Yn,d.Iw.wE);this.jv=d.m(d.i0,this,c.jobScheduler);c.canvas&&(this.V=d.m(d.tK,this));this.uv.onmessage=g=>this._OnMessageFromDOM(g.data);this.nk("runtime","visibilitychange",g=>this.z8(g));this.nk("runtime","opus-decode",g=>this.gaa(g.arrayBuffer));this.nk("runtime","get-remote-preview-status-info",()=>this.I6());this.nk("runtime","js-invoke-function",g=>this.Ry(g));this.nk("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Mb.addEventListener("window-blur",g=>this.A8(g));this.Mb.addEventListener("window-focus",()=>this.B8());this.ub.uV();this.Li=null;this.Xaa=new WeakMap;this.uG={keyboard:null,tU:null,SU:null}}static La(c){return d.m(d.fN,c)}A(){d.C(this.Hc);this.fI.clear();this.gI.clear();this.ab.A();this.ab=null;this.ta.A();this.ta=null;this.Nm.A();this.Nm=null;this.td.A();this.td=null;this.xm.A();this.xm=null;this.ub.A();this.ub=null;this.OI.A();this.OI=null;this.V&&(this.V.A(),this.V=
null);this.Mb.A();this.Mb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.$P(c);else if("result"===g)this.v8(c);else throw Error(`unknown message '${g}'`);}$P(c){if(this.rS){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new d.Event(m),c.data=h,this.Mb.sca(c)),l)){c=new d.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=u;this.Yg(c)}if(c=this.EG.get(g))if(c=
c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.Uy(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.Uy(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.Uy(p,!1,""+q)}):this.Uy(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.cJ.push(c)}Uy(c,g,m){this.uv.postMessage({type:"result",
responseId:c,isOk:g,result:m})}v8(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.jI.get(g);m?h.resolve(c):h.reject(c);this.jI.delete(g)}nk(c,g,m){let h=this.EG.get(c);h||(h=new Map,this.EG.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}jt(c,g,m){this.uv.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}bq(c,g,m){const h=this.rba++,l=new Promise((n,p)=>{this.jI.set(h,{resolve:n,reject:p})});this.uv.postMessage({type:"event",
component:c,handler:g,data:m,responseId:h});return l}async Rp(c){this.zb?await a.Rp(this):self.Vg&&self.Vg.Kfa(this);var [g]=await Promise.all([this.td.WK("data.json"),this.T7(),this.jv.Rp()]);this.w7(g);await this.g7(c);this.Vp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Nn()?(g=this.Nn(),console.info(`[C3 runtime] Hosted in ${this.gl?"worker":"DOM"}, rendering with WebGL ${g.dd} [${g.Zv}] (${g.T_()?"desynchronized":"standard"} compositing)`)):
this.Ws()&&console.info(`[C3 runtime] Hosted in ${this.gl?"worker":"DOM"}, rendering with experimental WebGPU`);this.hb().cH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.rS=!0;for(const m of this.cJ)this.$P(m);d.C(this.cJ);this.V&&this.V.z3();for(const m of c.runOnStartupFunctions)this.SF.push(this.s9(m));await Promise.all([this.td.jO(),...this.SF]);d.C(this.SF);if(this.td.bH)this.V&&
this.V.nD();else return this.V&&await this.V.SX(),await this.Mb.tJ(new d.Event("beforeruntimestart")),await this.Ft(),this.uv.postMessage({type:"runtime-ready"}),this}async s9(c){try{await c(this.Li)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}w7(c){c=c.project;this.WA=c[0];this.$S=c[16];this.nI=c[31];const g=c[39]||"loading-logo.png";this.il=!!c[9];this.Ig=this.bg=c[10];this.Hg=this.ag=c[11];this.OA=this.Ig/2;this.PA=this.Hg/2;this.Pq=c[36];this.TG=c[37];"low-latency"===
this.Pq&&this.L_()&&77>=d.Wc.sC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Pq="standard");this.Gl=!!c[40];this.md=c[14];this.vB=c[15];this.bJ=c[17];this.xB=!!c[18];this.pr=c[19];this.xv=c[21];this.XS=c[22];const m=this.td;m.V9(c[7]);m.j$(c[32]);m.o$(c[28]);m.B$(c[29]);if(0===this.pr){let q="";this.Vp()?m.gF(g)&&(q=m.uL(g)):q=m.aS+g;q&&
(this.qr=m.dy({url:q}))}this.V&&(this.V.K2(d.tK.q6(c[12])),this.V.yN(c[23]?"high":"low"),this.V.kE(0!==c[24]),this.V.k$(c[34]),this.V.A$(c[41]),this.V.C$(c[13]));this.Nm.zW();this.NA=self.pK();for(var h of c[2])this.Nm.xW(h);this.NA=self.pK();this.D7();for(var l of c[3])h=d.LD.La(this,this.Hc.length,l),this.Hc.push(h),this.fI.set(h.ya().toLowerCase(),h),this.gI.set(h.eb,h);for(const q of c[4])this.Hc[q[0]].z7(q);for(var n of c[27])l=n.map(q=>this.Hc[q]),this.maa.push(d.m(d.mW,this,l));for(const q of this.Hc)q.d8();
for(const q of c[5])this.ab.La(q);(n=c[1])&&(n=this.ab.Kp(n))&&this.ab.G2(n);for(var p of c[33])this.ub.La(p);for(const q of c[35])this.OI.La(q);this.d7();for(const q of c[6])this.ta.La(q);this.ta.Hb();this.Z6();d.C(this.NA);this.Gd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.jt("runtime","set-target-orientation",{targetOrientation:p})}D6(){return this.GR++}n4(c){this.VF.push(c)}async g7(c){this.V&&(await this.V.Xg(c),this.V.q_(this.pr))}async T7(){if(!this.td.M_()){var c=null;
try{c=this.tS&&this.td.av?await this.td.FK(this.US):await this.td.us(this.US)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.oV(c):this.nV();await this.pV([this.vba])}}async gaa(c){return await this.lC("OpusDecode",{arrayBuffer:c},[c])}async Ft(){this.$z=!0;this.mB=Date.now();if(this.xB){for(var c of this.Hc)c.Va||c.zH||!c.gf||c.Id();this.td.jO().then(()=>{this.Vj=!1;this.dQ()})}else this.Vj=!1;this.td.N2();this.zb&&a.Uia(f);for(const g of this.ab.yi)g.U4();
c=this.ab.IY();await c.jF(null,this.hb());await c.VQ(!0);this.Ko=performance.now();this.xB||this.dQ();(await this.bq("runtime","before-start-ticking")).isSuspended?this.Jr++:this.xe()}dQ(){this.ib(d.H.lb.na.d1,null,null);this.jt("runtime","register-sw")}bh(c){c=Math.floor(c);const g=this.NA;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}D7(){for(const c of self.QV){const g=d.first(Object.keys(c));this.vS.push(g)}}ci(c){c=Math.floor(c);const g=this.vS;if(0>c||c>=g.length)throw Error("invalid prop reference");
return g[c]}OC(){return this.saa}ga(){return this.ta}Vc(){return this.ta.Vc()}Se(){return this.ta.Se()}Fb(){return this.ta.Fb()}yf(){return this.ta.yf()}S_(){return 0===this.Se().Xk}Gs(){return this.ta.Gs()}Rs(){return this.Nm.Rs()}Ue(c){c=Math.floor(c);if(0>c||c>=this.Hc.length)throw new RangeError("invalid index");return this.Hc[c]}Cx(c){return this.fI.get(c.toLowerCase())||null}Dx(c){return this.gI.get(c)||null}*Qba(){for(const c of this.Hc)c.Va||(yield*c.jU())}Ub(){return this.Mb}Yg(c){c.wf=this.Li;
const g=this.zb&&!this.ta.Wx();g&&a.yE();this.Sd.dispatchEvent(c);g&&a.nC()}Cn(c){c.wf=this.Li;return this.Sd.tJ(c)}U2(c,g){if(this.Ig!==c||this.Hg!==g)this.Ig=c,this.Hg=g,c=this.ab,c.iq(),c.hq()}Et(c,g){if(this.bg!==c||this.ag!==g)this.bg=c,this.ag=g,c=this.ab,c.iq(),c.hq()}b$(c){this.Vq=c}ij(){return this.Vq}kj(){return this.V?this.V.kj():this.bg}Zh(){return this.V?this.V.Zh():this.ag}Zl(){return this.V?this.V.Zl():1}jj(){return this.V?this.V.jj():1}Ks(){return this.V?this.V.Ks():1}Js(){return this.V?
this.V.Js():1}Es(){return this.V?this.V.Es():0}Fs(){return this.V?this.V.Fs():0}xx(){return this.V?this.V.xx():"off"}zs(c){return this.V?this.V.zs(c):null}Zn(c){this.V&&this.V.Zn(c)}zx(){return this.V?this.V.zx():NaN}DD(){return"nearest"!==this.md}L1(){this.qr&&(this.qr.A(),this.qr=null)}Kb(){return this.ab.Kb()}dy(c){return this.td.dy(c)}BC(c,g,m,h,l){return this.Yh(c,g,!1,m,h,!1,l,void 0,l)}Yh(c,g,m,h,l,n,p,q,u){var w=null;let r=null;c instanceof d.LD?(r=c,r.Va&&(w=r.Io,r=w[Math.floor(this.fq()*
w.length)]),w=r.Uq):(w=c,r=this.Ue(w[1]));c=r.tb().gf;if(this.Vj&&c&&!r.zH)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.Po.has(w[2])?w[2]:this.xv++;const A=w?w[0]:null,G=d.m(d.Instance,{wf:this,NJ:r,rU:g,bV:A,iU:w?w[3]:null,uid:y});this.Po.set(y,G);y=null;c&&(y=G.j(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.rg(h),y.mh(l)),r.CQ());g&&(u||g.ug(G,!0),1===g.lf&&1===g.mf||r.AF(!0),g.Vb().qM(r));this.hI++;let z=!0;q&&(q=q.F(),q.Ob()&&r.Ob()&&r.zg===q.zg&&(z=!1));if(r.Ob()&&!m&&!n&&
z){for(var F of r.zg.tl)F!==r&&(q=this.Yh(F,v,!1,y?y.ja():h,y?y.ka():l,!0,!1,void 0,u),G.yq(q));for(var H of G.ud){H.yq(G);for(const J of G.ud)H!==J&&H.yq(J)}}c&&!m&&p&&this.ME(G,A,y,g,h,l,u);if(r.Ob()&&!m&&!n&&p)for(const J of G.ud)if(m=J.j())F=J.tb(),H=J.F().Uq[0],F.gf?this.ME(J,H,m,g,m.ja(),m.ka(),u):this.ME(J,H,m,g,void 0,void 0,u);!n&&p&&("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.Lx(),h=h-y.ja()+g.ja(),l=l-y.ka()+g.ka(),g.Lf(h,l));r.cu();l=w?d.pJ(w[5]):null;w=w?w[4].map(J=>
d.pJ(J)):null;c&&A&&A[13]&&G.n$();G.Hy(l,w);this.fl.push(G);this.Zz=!0;this.zb&&a.Lfa(G);return G}ME(c,g,m,h,l,n,p){var q=m.pZ(),u=m.AL();c.j().mE(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.ab.$C(A[0]).X(w).QY(r);w=this.Ue(r[1]);var y=c.OZ(w);const z=q.has(w);y&&!z&&v?(v=c.GL(w),y=l+r[0][0]-m,r=n+r[0][1]-g,v.j().Lf(y,r),v.j().mE(G),c.Rl(v,{ks:!!(u>>0&1),ls:!!(u>>1&1),
Ap:!!(u>>2&1),zp:!!(u>>3&1),js:!!(u>>4&1),hw:!!(u>>5&1),ns:!!(u>>6&1)}),q.add(w)):(w=this.Yh(r,h,!1,l+r[0][0]-m,n+r[0][1]-g,!1,!0,c,p),w.j().mE(G),c.Rl(w,{ks:!!(u>>0&1),ls:!!(u>>1&1),Ap:!!(u>>2&1),zp:!!(u>>3&1),js:!!(u>>4&1),hw:!!(u>>5&1),ns:!!(u>>6&1)}))}}}Bn(c){if(!this.Qo.has(c)){var g=c.F(),m=this.gA.get(g);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),this.gA.set(g,m);this.zb&&a.Mfa(c);c.nF();this.Zz=!0;if(c.Ob())for(const h of c.ud)this.Bn(h);for(const h of c.children())h.tx()&&
this.Bn(h);this.ab.aM()||this.Wj||(g=this.ga(),g.ke(!0),c.R$(),g.ke(!1));c.i6(this.ab.aM())}}Gd(){this.Zz&&(this.k6(),this.l6(),this.Zz=!1,this.Y())}k6(){for(const c of this.fl){const g=c.F();g.ug(c);for(const m of g.xh)m.ug(c),m.cu()}d.C(this.fl)}l6(){this.Mb.lq(!0);for(const [c,g]of this.gA.entries())this.m6(c,g),g.clear();this.gA.clear();this.Mb.lq(!1)}m6(c,g){for(const h of g){var m=this.Ho.instancedestroy;m.instance=h;this.Mb.dispatchEvent(m);this.Po.delete(h.Sc);if(m=h.j())m.nQ(),m.oQ(),m.nF();
this.Qo.add(h);this.hI--}d.dg(c.ia(),g);c.cu();this.hA.add(c);0===c.ia().length&&c.AF(!1);for(const h of c.xh)d.dg(h.ia(),g),h.cu(),this.hA.add(h);if(c.tb().gf){c=new Set([...g].map(h=>h.j().X()));for(const h of c)h.X8(g)}}*BJ(c){for(const g of this.fl)c.Va?g.F().rC(c)&&(yield g):g.F()===c&&(yield g)}C6(){return this.xv++}Q7(c,g){this.Po.set(c,g)}Zt(){this.Mb.dispatchEvent(d.m(d.Event,"webglcontextlost"));this.Ct(!0);for(var c of this.Hc)!c.Va&&c.MZ()&&c.$n();(c=this.Kb())&&c.Zt();d.Sx.aq();d.UL.aq()}async sF(){await this.Kb().jF(null,
this.Nn());this.Mb.dispatchEvent(d.m(d.Event,"webglcontextrestored"));this.Ct(!1);this.Y()}z8(c){this.Ct(c.hidden)}A8(c){this.Vp()&&this.XS&&!d.Wc.GD&&!c.data.parentHasFocus&&(this.Ct(!0),this.AH=!0)}B8(){this.AH&&(this.Ct(!1),this.AH=!1)}pQ(){const c=this.Jba;"vsync"===this.TG?-1===this.fe&&(this.fe=self.requestAnimationFrame(c.wU)):"unlimited-tick"===this.TG?(-1===this.zl&&(this.zl=d.VD(c.Jda)),-1===this.fe&&(this.fe=self.requestAnimationFrame(c.sda))):-1===this.zl&&(this.zl=d.VD(c.wU))}H4(){-1!==
this.fe&&(self.cancelAnimationFrame(this.fe),this.fe=-1);-1!==this.zl&&(d.XV(this.zl),this.zl=-1)}Un(){return 0<this.Jr}Ct(c){var g=this.Un();this.Jr+=c?1:-1;0>this.Jr&&(this.Jr=0);c=this.Un();!g&&c?(console.log("[Construct 3] Suspending"),this.H4(),this.Mb.dispatchEvent(d.m(d.Event,"suspend")),this.ib(d.H.lb.na.h1,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.Ko=this.DA=g=performance.now(),this.ml=this.IA=this.Uz=this.Vz=0,this.Mb.dispatchEvent(d.m(d.Event,"resume")),this.ib(d.H.lb.na.e1,
null,null),this.Ys()||this.xe(g))}k4(c){this.um.Dc(c)}Z8(c){this.um.jh(c)}Y8(c){this.xo.jh(c)}a9(c){this.yo.jh(c)}y4(){this.um.lh(!0);for(const c of this.um)c.xe();this.um.lh(!1)}x4(){this.xo.lh(!0);for(const c of this.xo);this.xo.lh(!1)}z4(){this.yo.lh(!0);for(const c of this.yo);this.yo.lh(!1)}*e5(){this.um.lh(!0);for(const c of this.um){const g=c.xe();d.fm(g)&&(yield*g)}this.um.lh(!1)}*d5(){this.xo.lh(!0);for(const c of this.xo)d.fm(void 0)&&(yield*void 0);this.xo.lh(!1)}*f5(){this.yo.lh(!0);for(const c of this.yo)d.fm(void 0)&&
(yield*void 0);this.yo.lh(!1)}async xe(c,g,m){this.$R=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.$z&&(!this.Un()||g||h)&&(g=performance.now(),this.pA=!0,this.W7(c||0),c=this.B3(),this.ae&&await c,c=this.Mb.tca(this.Ho.pretick),c instanceof Promise&&await c,c=this.A3(),this.ae&&await c,this.b8()&&await this.S6(),this.ab.Up()&&await this.S7(),c=this.C3(),this.ae&&await c,m&&this.bo(),this.Un()||h||this.pQ(),this.bk++,this.cr++,this.pA=!1,this.ml+=performance.now()-
g)}async B3(){const c=this.ta,g=this.zb;this.Gd();c.ke(!0);this.kt(this.Kb());g&&a.vq();this.ae?await c.GW():c.k2();g&&a.mV();this.it();c.ke(!1);this.Gd();c.ke(!0)}async A3(){const c=this.zb,g=this.ae,m=this.Mb,h=this.Ho,l=this.DT;c&&a.vq();g?await this.$w(this.e5()):this.y4();g?await this.$w(this.d5()):this.x4();c&&a.iV();c&&a.vq();g?await this.KK(h.tick):m.dispatchEvent(h.tick);c&&a.rV();this.ta.ke(!1);this.Yg(l.tick)}async C3(){const c=this.ta,g=this.Mb,m=this.Ho,h=this.zb,l=this.ae;h&&a.vq();
l?await c.EW(this.ab):c.i2(this.ab);h&&a.mV();this.xm.wK();this.lQ();this.wH=!1;c.ke(!0);h&&a.vq();l?await this.$w(this.f5()):this.z4();h&&a.iV();h&&a.vq();l?await this.KK(m.tick2):g.dispatchEvent(m.tick2);h&&a.rV();c.ke(!1);l&&await c.eN()}lQ(){if(0!==this.Qo.size){var c=this.Mb;c.lq(!0);for(const g of this.hA)g.Sm.ao(this.Qo);this.hA.clear();this.ta.O1(this.Qo);for(const g of this.Qo)g.A();this.Qo.clear();c.lq(!1)}}async S7(){const c=this.ab;let g=0;for(;c.Up()&&10>g++;)await this.PO(c.Av)}W7(c){let g=
0;0!==this.DA&&(g=Math.max(c-this.DA,0)/1E3,.5<g&&(g=0),this.Iu=Math.min(g,1/this.PS));this.DA=c;this.Hu=this.Iu*this.Rd;this.XG.Dc(this.Hu);this.YG.Dc(g*this.Rd);this.dJ.Dc(this.Iu);this.V&&this.V.baa();1E3<=c-this.Ko&&(this.Ko+=1E3,1E3<=c-this.Ko&&(this.Ko=c),this.Uz=this.Vz,this.Vz=0,this.IA=Math.min(this.ml/1E3,1),this.ml=0,this.V&&this.V.V$(),this.zb&&a.Rka());this.Vz++}async PO(c){const g=this.Mb,m=this.ab.Kb();await m.M$();m.U$(c,this.hb());m===c&&this.ta.Qw();this.xm.wK();this.lQ();g.dispatchEvent(this.Ho.beforelayoutchange);
d.pk.zN(!0);await c.jF(m,this.hb());d.pk.zN(!1);await c.VQ(!1);g.dispatchEvent(this.Ho.layoutchange);this.Y();this.wH=!0;this.Gd()}Y(){this.cI=!0}Nn(){return this.V?this.V.Nn():null}Ws(){return this.V?this.V.Ws():null}hb(){return this.V?this.V.hb():null}bo(){const c=this.V;if(c&&!c.a0()){var g=this.hb(),m=g.Gj(),h=m&&g.Gk();m=m&&!1;h&&g.ZV();if(this.cI){var l=this.ab.Kb();g.Ft();var n=this.zb;n&&a.vq();this.cI=!1;var p=null;h&&(p=c.Xz.oC(),g.zE(p));h=null;m&&(h=g.oka(2*(1+l.Pb.length)),g.f4(0));this.Gl&&
"low"===c.zh?g.H2(c.kj(),c.Zh()):g.s2();this.g9(this.hb(),l);p&&g.HC(p);m&&(g.f4(1),this.V.w4(h));g.ws();n&&(a.aea(),a.Ska());c&&c.U7()}else g.e_()}}g9(c,g){c.Fj();c.oN();c.Ye(1,1,1,1);c.qg(null);c.Kf(null);c.og(this.Gl);g.Zg(c)}ib(c,g,m){if(!this.$z)return!1;var h=!this.pA&&!this.ta.CD();let l=0;h&&(l=performance.now());const n=this.zb;n&&this.ry(!1);c=this.ta.gu(this.ab,c,g,m);h&&(h=performance.now()-l,this.ml+=h,n&&a.dea(h));n&&this.ry(!0);return c}async ye(c,g,m){if(!this.ae)return this.ib(c,
g,m);if(!this.$z)return!1;if(this.Ys())return this.ta.G1(c,g,m);if(!this.Kb())return this.ta.RD(c,g,m);const h=performance.now();c=this.ta.Lt(this.ab,c,g,m);for(g=c.next();!g.done;)await this.Gp(g.value),g=c.next();this.Un()||this.ta.CD()||(await this.ta.eN(),this.$R&&!this.pA&&this.pQ());this.ml+=performance.now()-h;return g.value}kt(c){this.Cu.push(c)}it(){if(!this.Cu.length)throw Error("layout stack empty");this.Cu.pop()}Ra(){return this.Cu.length?this.Cu.Td(-1):this.Kb()}ux(c){return c&&-1!==
c.Rd?this.Iu*c.Rd:this.Hu}qE(c){if(isNaN(c)||0>c)c=0;this.Rd=c}KN(c){this.PS=d.fa(c,1,120)}Fn(){return this.XG.U()}MY(){return this.YG.U()}iD(){return this.dJ.U()}Ek(){++this.cr}lj(c){if(this.Wj)throw Error("cannot call while loading state - wait until afterload event");return this.Po.get(c)||null}jQ(){this.Po.clear();for(const c of this.Hc)if(!c.Va)for(const g of c.ia())this.Po.set(g.Sc,g)}Vp(){return"preview"===this.Am}R_(){return"cordova"===this.Am}L_(){return"Android"===d.Wc.Zp&&("cordova"===
this.Am||"playable-ad"===this.Am||"instant-games"===this.Am)}fD(){return this.Nm.fD()}X2(c){c=!!c;this.il!==c&&(this.il=c,this.ab.hq(),this.Y())}m2(c){this.Ev=c}s0(c){this.pv=c}KD(c){this.nr=c}b8(){return!(!this.Ev&&!this.pv&&null===this.nr)}async S6(){this.Ev&&(this.Gd(),await this.H5(this.Ev),this.KE());this.pv&&(await this.G5(this.pv),this.KE(),this.zb&&a.qka());if(null!==this.nr){this.Gd();try{await this.QO(this.nr),this.Yo=this.nr,await this.ye(d.H.lb.na.BM,null),this.Yo=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",
c),await this.ye(d.H.lb.na.CM,null)}this.KE()}}KE(){this.pv=this.Ev="";this.nr=null}H6(){this.mI||(this.mI=localforage.qJ({name:"c3-localstorage-"+this.nI,description:this.WA}));return this.mI}qP(){this.uI||(this.uI=localforage.qJ({name:"c3-savegames-"+this.nI,description:this.WA}));return this.uI}async H5(c){const g=await this.M9();try{await this.qP().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Yo=g,await this.ye(d.H.lb.na.f1,null),this.Yo=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",
m),await this.ye(d.H.lb.na.g1,null)}}async G5(c){try{const g=await this.qP().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.QO(g);this.Yo=g;await this.ye(d.H.lb.na.BM,null);this.Yo=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.ye(d.H.lb.na.CM,null)}}async M9(){const c={c3save:!0,version:1,rt:{time:this.Fn(),timeRaw:this.MY(),walltime:this.iD(),timescale:this.Rd,tickcount:this.bk,
execcount:this.cr,next_uid:this.xv,running_layout:this.Kb().eb,start_time_offset:Date.now()-this.mB},types:{},layouts:{},events:this.ta.da(),timelines:this.ub.da(),user_script_data:null};for(var g of this.Hc)g.Va||g.QL()||(c.types[g.eb.toString()]=g.da());for(const m of this.ab.yi)c.layouts[m.eb.toString()]=m.da();g=this.PE("save");g.saveData=null;await this.Cn(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async QO(c){var g=this.ab;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Mb.dispatchEvent(d.m(d.Event,"beforeload"));for(var m of this.Qba())m.Sy();this.Wj=!0;m=c.rt;this.XG.Set(m.time);m.hasOwnProperty("timeRaw")&&this.YG.Set(m.timeRaw);this.dJ.Set(m.walltime);this.Rd=m.timescale;this.bk=m.tickcount;this.cr=m.execcount;this.mB=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Kb().eb)if(h=g.$C(h))await this.PO(h);else return;for(const [l,
n]of Object.entries(c.types))h=this.Dx(parseInt(l,10)),!h||h.Va||h.QL()||h.oa(n);this.Gd();this.jQ();this.Wj=!1;this.xv=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=g.$C(parseInt(l,10)))&&m.oa(n);this.ta.oa(c.events);for(const l of this.Hc)if(!l.Va&&l.Ob())for(const n of l.ia()){m=n.Gn();for(const p of l.zg.tl)if(p!==l){h=p.ia();if(0>m||m>=h.length)throw Error("missing sibling instance");n.yq(h[m])}}this.ub.oa(c.timelines);g.iq();g.hq();this.Mb.dispatchEvent(d.m(d.Event,"afterload"));
g=this.PE("load");g.saveData=c.user_script_data;await this.Cn(g);this.Y()}async pV(c){c=(await Promise.all(c.map(g=>this.td.tk(g)))).map(g=>URL.createObjectURL(g));this.jv.d_(c)}nV(){this.jv.o2()}oV(c){this.jv.p2(c)}lC(c,g,m){return this.jv.lC(c,g,m)}async H1(c){var g=g||2048;var m=m||2048;return this.gl?(await this.bq("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,
g,m)}fq(){return this.Aba()}I6(){const c=this.Nn();return{fps:this.Uz,cpu:this.IA,gpu:this.zx(),layout:this.Kb()?this.Kb().ya():"",renderer:c?c.Zv:"<unavailable>"}}Ys(){return this.zb?a.Ys():!1}Gp(c){return this.ae?a.Gp(c):Promise.resolve()}kc(){return this.ae?a.sea():!1}ry(c){c?this.AG--:this.AG++;this.X$()}X$(){this.ae=this.zb&&this.zaa&&0===this.AG}uD(){return this.zb&&a.uD()}zD(){return this.zb&&this.hb().Gj()&&a.zD()}async $w(c){if(c)for(const g of c)await this.Gp(g)}KK(c){return this.$w(this.Mb.uca(c))}Ry(c){return this.ta.Ry(c.name,
c.params)}PE(c){c=d.m(d.Event,c,!1);c.wf=this.Li;return c}d7(){var c={};for(const g of this.Hc)c[g.ci()]={value:g.Uu,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Li=new self.YZ(this,c);this.DT={tick:this.PE("tick")}}Z6(){const c={};for(const g of this.ga().WF)c[g.ci()]=g.rP();this.Li.a7(c)}OP(c,g){this.Xaa.set(c,g)}};self.C3_CreateRuntime=d.fN.La;self.C3_InitRuntime=(c,g)=>c.Rp(g)}
{"use strict";const d=self.B;d.i0=class extends d.ca{constructor(a,b){super();this.g=a;this.Vo=new Map;this.tba=0;this.Xu=b.inputPort;b.outputPort.onmessage=f=>this.cQ(f);this.IS=b.maxNumWorkers;this.kv=1;this.TR=this.$u=!1}async Rp(){}d_(a){this.Xu.postMessage({type:"_import_scripts",scripts:a})}o2(){this.Xu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}p2(a){this.Xu.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}lC(a,b,f){f||(f=[]);const c=this.tba++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:f};b=new Promise((g,m)=>{this.Vo.set(c,{resolve:g,progress:void 0,reject:m,oJ:!1})});this.Xu.postMessage(a,f);this.PP();return b}cQ(a){a=a.data;const b=a.type,f=a.jobId;switch(b){case "result":this.q8(f,a.result);break;case "progress":this.p8(f,a.progress);break;case "error":this.o8(f,a.error);break;case "ready":this.r8();break;default:throw Error(`unknown message from worker '${b}'`);}}q8(a,b){const f=this.Vo.get(a);if(!f)throw Error("invalid job ID");
f.oJ||f.resolve(b);this.Vo.delete(a)}p8(a,b){a=this.Vo.get(a);if(!a)throw Error("invalid job ID");!a.oJ&&a.progress&&a.progress(b)}o8(a,b){const f=this.Vo.get(a);if(!f)throw Error("invalid job ID");f.oJ||f.reject(b);this.Vo.delete(a)}r8(){this.$u&&(this.$u=!1,this.kv++,this.kv<this.IS?this.PP():this.Xu.postMessage({type:"_no_more_workers"}))}async PP(){if(!(this.kv>=this.IS||this.$u||this.TR||this.Vo.size<=this.kv))try{this.$u=!0,(await this.g.bq("runtime","create-job-worker")).outputPort.onmessage=
a=>this.cQ(a)}catch(a){this.TR=!0,this.$u=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.kv} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.hsladjust={Gca:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",Uda:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n[[block]] struct ShaderParams {\nhuerotate : f32;\nsatadjust : f32;\nlumadjust : f32;\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n[[stage(fragment)]]\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",
bca:!1,Sda:!1,wca:0,xca:0,kca:!1,dda:!1,lda:!0,Xba:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]};
{"use strict";const d=self.B;let a=null,b="",f="",c=[],g="",m="",h="";const l=d.m(d.DV);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.H.lb=class extends d.ly{constructor(p){super(p);this.jf=this.g.ga().jf;this.zd=this.g.ga().Vc();this.Vu=this.No=0;this.NR=new Map}A(){super.A()}Y(){this.g.Y()}ib(p){this.g.ib(p,null,null)}Hx(p,q){a&&p===b&&q===f||(a=new RegExp(p,q),b=p,f=q);a.lastIndex=0;return a}zL(p,q,u){if(p===g&&q===m&&
u===h)return c;const w=this.Hx(q,u);c=p.match(w);g=p;m=q;h=u;return c}async lF(p,q){if(q.length){this.No+=q.length;var u=[];for(const w of q)u.push(p.qM(w));await d.y1(u,()=>{this.Vu++});this.Vu++;this.Vu===this.No&&(this.g.ib(d.H.lb.na.b1,null,null),this.No=this.Vu=0)}}YQ(p,q){for(const u of q)0===u.D.length&&p.D0(u)}jP(){return l}i9(p){var q=this.g.ga();const u=q.Vc(),w=u.Te(),r=w.Fb(),v=r.od();var y=w.xj();const A=u.Ma(r),G=q.jf,z=G.Ma();if(y)for(y=0;y<p&&!z.nc;++y)q.te(v),z.vc(y),r.mg(w,A),q.Gb(v);
else for(q=0;q<p&&!z.nc;++q)z.vc(q),r.mg(w,A);u.Ia();G.Ia();return!1}*l5(p){var q=this.g.ga();const u=q.Vc(),w=u.Te(),r=w.Fb(),v=r.od();var y=w.xj();const A=u.Ma(r),G=q.jf,z=G.Ma();if(y)for(y=0;y<p&&!z.nc;++y)q.te(v),z.vc(y),yield*r.fg(w,A),q.Gb(v);else for(q=0;q<p&&!z.nc;++q)z.vc(q),yield*r.fg(w,A);u.Ia();G.Ia();return!1}haa(){var p=this.g.ga();const q=p.Vc(),u=q.Te(),w=u.Fb(),r=w.od();var v=u.xj();const y=q.Ma(w),A=p.jf,G=A.Ma();if(v)for(v=0;!G.nc;++v)p.te(r),G.vc(v),w.mg(u,y)||G.we(),p.Gb(r);else for(p=
0;!G.nc;++p)G.vc(p),w.mg(u,y)||G.we();q.Ia();A.Ia();return!1}*E5(){var p=this.g.ga();const q=p.Vc(),u=q.Te(),w=u.Fb(),r=w.od();var v=u.xj();const y=q.Ma(w),A=p.jf,G=A.Ma();if(v)for(v=0;!G.nc;++v)p.te(r),G.vc(v),(yield*w.fg(u,y))||G.we(),p.Gb(r);else for(p=0;!G.nc;++p)G.vc(p),(yield*w.fg(u,y))||G.we();q.Ia();A.Ia();return!1}n6(p,q,u){var w=this.g.ga();const r=w.Vc(),v=r.Te(),y=v.Fb(),A=y.od(),G=v.xj(),z=r.Ma(y),F=w.jf,H=F.Ma();H.wy(p);if(u<q)if(G)for(p=q;p>=u&&!H.nc;--p)w.te(A),H.vc(p),y.mg(v,z),w.Gb(A);
else for(w=q;w>=u&&!H.nc;--w)H.vc(w),y.mg(v,z);else if(G)for(p=q;p<=u&&!H.nc;++p)w.te(A),H.vc(p),y.mg(v,z),w.Gb(A);else for(w=q;w<=u&&!H.nc;++w)H.vc(w),y.mg(v,z);r.Ia();F.Ia();return!1}*i5(p,q,u){var w=this.g.ga();const r=w.Vc(),v=r.Te(),y=v.Fb(),A=y.od(),G=v.xj(),z=r.Ma(y),F=w.jf,H=F.Ma();H.wy(p);if(u<q)if(G)for(p=q;p>=u&&!H.nc;--p)w.te(A),H.vc(p),yield*y.fg(v,z),w.Gb(A);else for(w=q;w>=u&&!H.nc;--w)H.vc(w),yield*y.fg(v,z);else if(G)for(p=q;p<=u&&!H.nc;++p)w.te(A),H.vc(p),yield*y.fg(v,z),w.Gb(A);
else for(w=q;w<=u&&!H.nc;++w)H.vc(w),yield*y.fg(v,z);r.Ia();F.Ia();return!1}o6(p){var q=this.g.ga();const u=q.Vc(),w=u.Te(),r=w.Fb(),v=r.od();var y=w.xj();const A=u.Ma(r),G=q.jf,z=G.Ma(),F=p.Ob(),H=p.N(),J=l.Ma();d.Cc(J,H.ia());if(y)for(let M=0,P=J.length;M<P&&!z.nc;++M)q.te(v),y=J[M],p.N().Ej(y),F&&y.ni(),z.vc(M),r.mg(w,A),q.Gb(v);else{H.De(!1);p=H.D;d.C(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.nc;++M)q=J[M],p[0]=q,F&&q.ni(),z.vc(M),r.mg(w,A)}u.Ia();G.Ia();d.C(J);l.Ia();return!1}*j5(p){var q=
this.g.ga();const u=q.Vc(),w=u.Te(),r=w.Fb(),v=r.od();var y=w.xj();const A=u.Ma(r),G=q.jf,z=G.Ma(),F=p.Ob(),H=p.N(),J=l.Ma();d.Cc(J,H.ia());if(y)for(let M=0,P=J.length;M<P&&!z.nc;++M)q.te(v),y=J[M],p.N().Ej(y),F&&y.ni(),z.vc(M),yield*r.fg(w,A),q.Gb(v);else{H.De(!1);p=H.D;d.C(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.nc;++M)q=J[M],p[0]=q,F&&q.ni(),z.vc(M),yield*r.fg(w,A)}u.Ia();G.Ia();d.C(J);l.Ia();return!1}p6(p,q){var u=this.g.ga();const w=u.Vc(),r=u.yf(),v=w.Te(),y=v.Fb(),A=y.od(),G=v.xj(),
z=w.Ma(y),F=u.jf,H=F.Ma(),J=p.Ob(),M=p.N(),P=l.Ma();d.C(P);const R=M.ia();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.mt(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.nc;++T)u.te(A),q=P[T][0],p.N().Ej(q),J&&q.ni(),H.vc(T),y.mg(v,z),u.Gb(A);else{M.De(!1);p=M.D;d.C(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.nc;++T)u=P[T][0],p[0]=u,J&&u.ni(),H.vc(T),y.mg(v,z)}w.Ia();F.Ia();d.C(P);l.Ia();return!1}*k5(p,q){var u=this.g.ga();const w=u.Vc(),r=u.yf(),v=w.Te(),y=v.Fb(),A=y.od(),
G=v.xj(),z=w.Ma(y),F=u.jf,H=F.Ma(),J=p.Ob(),M=p.N(),P=l.Ma();d.C(P);const R=M.ia();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.mt(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.nc;++T)u.te(A),q=P[T][0],p.N().Ej(q),J&&q.ni(),H.vc(T),yield*y.fg(v,z),u.Gb(A);else{M.De(!1);p=M.D;d.C(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.nc;++T)u=P[T][0],p[0]=u,J&&u.ni(),H.vc(T),yield*y.fg(v,z)}w.Ia();F.Ia();d.C(P);l.Ia();return!1}Ny(p,q){let u=this.NR.get(p);if(u)return u;if(!q)return null;
u={nn:null,dC:new Map};this.NR.set(p,u);return u}F5(p,q,u,w,r){q.oe().h2(u);w&&p.Gb(r)}*g5(p,q,u,w,r){yield*q.oe().DW(u);w&&p.Gb(r)}}}{"use strict";const d=self.B;d.H.lb.xq=class extends d.ca{constructor(a){super();this.J=a;this.g=a.G();this.Hh=a.tb()}Id(){}A(){this.Hh=this.g=this.J=null}}}{"use strict";const d=self.B;d.H.lb.Instance=class extends d.ca{constructor(a){super();this.W=a;this.J=this.W.F();this.Bc=this.J.Bc;this.g=this.W.G()}A(){this.g=this.Bc=this.J=this.W=null}}}
{"use strict";const d=self.B,a=[];d.H.lb.na={efa(){return!0},AM(){return!0},c1(){return!0},h1(){return!0},e1(){return!0},Un(){return this.g.Un()},SK(){const b=this.g.Se();return b.IG?!1:!b.Wo},Lka(){const b=this.g.yf().ei();let f=b.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.bk;b.set("TriggerOnce_lastTick",c);return this.g.wH||f!==c-1},dfa(b){const f=this.g.yf().ei(),c=f.get("Every_lastTime")||0,g=this.g.Fn();f.has("Every_seconds")||f.set("Every_seconds",
b);const m=f.get("Every_seconds");if(g>=c+m)return f.set("Every_lastTime",c+m),g>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",g),f.set("Every_seconds",b),!0;g<c-.1&&f.set("Every_lastTime",g);return!1},ct(b){return(b=this.g.ga().iL(b))&&b.ct()},Vp(){return this.g.Vp()},GD(){return d.Wc.GD},d1(){return!0},W0(){return!0},Zea(){return!0},f1(){return!0},g1(){return!0},BM(){return!0},CM(){return!0},bha(b){return!!this.g.lj(b)},jga(b){switch(b){case 0:return"browser"===d.Wc.zC;case 1:return"iOS"===
d.Wc.Zp;case 2:return"Android"===d.Wc.Zp;case 8:return"cordova"===d.Wc.zC;case 9:return"scirra-arcade"===this.g.Am;case 10:return"nwjs"===d.Wc.zC;case 13:return"windows-uwp"===this.g.Am;default:return!1}},Vha(b,f,c){return this.Hx(f,c).test(b)},zea(b,f,c){return d.compare(b,f,c)},Bea(b,f,c){return b>=f&&b<=c},jW(b,f,c){return d.compare(b.qd(),f,c)},Cea(b){return!!b.qd()},Jea(b,f){const c=this.g.Fn();return 0===b?(b=this.g.yf().ei(),!b.get("CompareTime_executed")&&c>=f?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,f)},gga(b){return isNaN(b)},xV(b,f,c){return d.yp(d.kb(b),d.kb(c))<=d.kb(f)},P_(b,f){return d.rf(d.kb(b),d.kb(f))},O_(b,f,c){b=d.kb(b);f=d.kb(f);c=d.kb(c);return d.rf(c,f)?d.rf(b,f)&&!d.rf(b,c):!(!d.rf(b,f)&&d.rf(b,c))},qga(b,f){return"number"===typeof b?0===f:1===f},cfa(b){return!!b},wha(b,f,c,g){if(!b)return!1;const m=this.jP(),h=m.Ma(),l=b.N();d.Cc(h,l.ia());l.Tb&&d.C(l.mc);const n=this.g.yf();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;f=n.mt(1,q);g=n.mt(3,
q);d.compare(f,c,g)?++p:l.qo(w)}d.Qe(h,p);l.oy(h);f=!!h.length;d.C(h);m.Ia();b.oc();return f},xha(b,f){if(!b)return!1;const c=this.jP(),g=c.Ma(),m=b.N();d.Cc(g,m.ia());m.Tb&&d.C(m.mc);const h=this.g.yf();let l=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[l]=q;(f=h.mt(1,n))?++l:m.qo(q)}d.Qe(g,l);m.oy(g);f=!!g.length;d.C(g);c.Ia();b.oc();return f},Bha(b,f){if(!b)return!1;const c=b.N(),g=c.ia();f=Math.floor(f);if(f>=g.length)return!1;c.hm(g[f]);b.oc();return!0},Fha(b){if(!b)return!1;const f=b.N(),
c=f.ia(),g=Math.floor(this.g.fq()*c.length);if(g>=c.length)return!1;f.hm(c[g]);b.oc();return!0},m1(b){if(!b||!b.D.length)return!1;b.N().De(!0);b.oc();return!0},Dha(b,f,c){if(!b)return!1;const g=b.N();var m=g.ia();const h=this.g.Fb().Md,l=this.g.yf().Oi;g.Tb?(d.Cc(a,m),g.Rw(),g.De(!1)):h?(d.Cc(a,g.mc),d.C(g.mc)):(d.Cc(a,g.D),d.C(g.D));for(let n=0,p=a.length;n<p;++n)m=a[n],d.xor(m.j().yC(f,c),l)?g.$t(m):g.qo(m);b.oc();return d.xor(!!g.D.length,l)},Aha(b){if(!b)return!1;var f=b.Va;let c=null;const g=
this.g.fl;for(let m=g.length-1;0<=m;--m){const h=g[m];if(f){if(h.F().rC(b)){c=h;break}}else if(h.F()===b){c=h;break}}c||(f=b.ia(),f.length&&(c=f.Td(-1)));if(!c)return!1;b.N().hm(c);b.oc();return!0},Yha(b){return this.g.ae?this.l5(b):this.i9(b)},dla(){return this.g.ae?this.E5():this.haa()},lfa(b,f,c){return this.g.ae?this.i5(b,f,c):this.n6(b,f,c)},ZK(b){return this.g.ae?this.j5(b):this.o6(b)},mfa(b,f,c){return this.g.ae?this.k5(b,c):this.p6(b,c)},wga(b){return b?b.Fc():!1},tga(b){return b?!b.D.length:
!1},sga(b,f,c){return b?d.compare(100*b.qe(),f,c):!1},b1(){return!0},dga(){return 0<this.No}}}
{"use strict";const d=self.B;function a(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const f=[],c=[],g=d.m(d.Rect),m=d.m(d.Ya);d.H.lb.gd={q3(h,l){h.ve(l)},vV(h,l){h.gm()&&"number"!==typeof l&&(l=parseFloat(l));h.ve(h.qd()+l)},Dka(h,l){h.gm()&&h.ve(h.qd()-l)},kja(h,l){h.ve(!!l)},Ika(h){h.ve(!h.qd())},Kia(){this.g.ga().X1()},wW(h,l,n,p,q){h&&l&&(n=this.g.BC(h,l,n,p,q))&&(q&&l.vE(n),l=this.g.ga(),l.ke(!0),n.fz(),l.ke(!1),h.N().Ej(n),n.Ob()&&n.ni())},Rea(h,l,n,p,q){h&&
l&&(h=this.g.Cx(h))&&d.H.lb.gd.wW.call(this,h,l,n,p,q)},lt(h,l,n,p,q,u,w,r,v,y){if(h){var A=this.g.Ra();if(u&&(A=this.g.ab.Kp(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.X(w),!u)return;g.set(l,n,p,q);l=A.lt(h,g,u,r,v,y);h.N().oy(l);h.oc()}},ska(){const h=this.jf;h.cM()&&h.Ip().we()},nq(h,l){(h=this.g.ga().iL(h))&&(0===l?h.nq(!1):1===l?h.nq(!0):h.nq(!h.ct()))},dka(h){this.g.qE(h)},Yja(h,l){0>l&&(l=0);if(h){h=h.N().ia();for(const n of h)n.qE(l)}},Oia(h){if(h){h=h.N().ia();for(const l of h)l.e2()}},
GE(h){if(!(0>h))return this.g.ga().mC().G_(h),!0},Vka(h){this.g.ga().mC().E_(h);return!0},Uka(){const h=this.g.ga();h.mC().s_(h.mZ());return!0},ika(h){h=h.toLowerCase();for(const l of this.g.ga().Wf)l.d0()&&l.Jv===h&&l.nE()},async WN(h,l,n,p,q,u){const w=this.g.V;w&&(this.Y(),await w.WN(0===h?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.ye(d.H.lb.na.W0,null))},mja(h,l){if(!(0>=h||0>=l)){this.g.Et(h,l);var n=this.g.Ra();n.Kw();for(const p of n.Pb)p.FE();if(n=this.g.V)"off"!==n.Hs()&&this.g.U2(h,
l),n.jd(n.jn,n.hn,!0),this.g.Y()}},xja(h){const l=this.g.V;l&&"off"!==l.Hs()&&(l.yN(0!==h?"high":"low"),l.jd(l.jn,l.hn,!0))},co(h){this.g.m2(h)},Bga(h){this.g.s0(h)},Cga(h){this.g.KD(h)},zja(){},Lia(){for(const h of this.g.ab.yi)h.c2()},Zja(h){this.g.X2(0!==h)},KN(h){this.g.KN(h)},kka(h,l){if(h){var n=h.N().ia(),p=this.g.Ra(),q=h.Va;h=h.Ji;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.j();if(!v)continue;let y;y=q?u.pe(l+u.F().lL(h)):u.pe(l);f.push([v.X().Ca(),v.gh()]);c.push([u,y])}if(f.length){f.sort(a);
c.sort(b);l=!1;for(let w=0,r=f.length;w<r;++w)n=c[w][0],q=p.ZC(f[w][0]),h=f[w][1],u=q.D,u[h]!==n&&(u[h]=n,n.j().du(q),q.sg(),l=!0);l&&this.g.Y();d.C(f);d.C(c)}}},vfa(h){if(!this.g.Vj){var l=this.g.ab;l.Up()||l.Pw(h)}},wfa(h){if(!this.g.Vj){var l=this.g.ab;l.Up()||(h=l.Kp(h))&&l.Pw(h)}},Wga(h){if(!this.g.Vj){var l=this.g.ab;if(!l.Up()){var n=l.yi,p=n.indexOf(l.Kb());h&&0===p||(h||p!==n.length-1)&&l.Pw(n[p+(h?-1:1)])}}},Mia(){if(!this.g.Vj){var h=this.g.ab;h.Up()||(h.Pw(h.Kb()),this.g.ga().Y1())}},
Mja(h,l){h&&h.oi(l)},Gja(h,l){h&&h.Kk(l/100)},Ija(h,l){h&&h.MN(l)},Jja(h,l){h&&h.a3(l)},Aja(h,l){h&&h.Yc(d.kb(+l))},Kja(h,l,n){h&&(h.yt(!0),h.li(l),h.mi(n))},Nia(h){h&&h.yt(!1)},Hja(h,l,n){h&&h.V2(l/100,n/100)},Nja(h,l){h&&h.Ze(+l)},Bja(h,l){h&&(m.gs(l),m.fa(),h=h.Vk,h.Kl(m)||(h.Yi(m),this.Y()))},Lja(h,l){h&&h.m3(l)},Cja(h,l){h&&h.Jf(l)},Dja(h,l,n){h&&(n=h.Ja.wk(n))&&(l=1===l,n.Cb!==l&&(n.ny(l),h.oh(),this.g.Y()))},Eja(h,l,n,p){if(h&&(h=h.Ja,l=h.wk(l))&&(h=h.vk(l.Ca()),n=Math.floor(n),!(0>n||n>=h.length))){var q=
l.Df().Ex(n);if("color"===q){m.gs(p);n=h[n];if(m.Kl(n))return;n.Yi(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}l.Cb&&this.g.Y()}},Fja(h,l){h&&h.J2(l)},Sja(h){this.g.Ra().lE(+h)},Oja(h){this.g.Ra().Yc(d.kb(+h))},Pja(h,l){const n=this.g.Ra();if(l=n.Ja.wk(l))h=1===h,l.Cb!==h&&(l.ny(h),n.oh(),this.g.Y())},Qja(h,l,n){var p=this.g.Ra().Ja;if(h=p.wk(h))if(p=p.vk(h.Ca()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Df().Ex(l);if("color"===q){m.gs(n);l=p[l];if(m.Kl(l))return;l.Yi(m)}else{"percent"===
q&&(n/=100);if(p[l]===n)return;p[l]=n}h.Cb&&this.g.Y()}},Tja(h,l){this.g.Ra().p3(h/100,l/100)},Rja(h){const l=this.g.Ra();0===h?l.ON():l.LN()},aja(h){this.g.Ra().li(h)},bja(h){this.g.Ra().mi(h)},Zia(h,l){const n=this.g.Ra();n.li(h);n.mi(l)},$ia(h){if(h&&(h=h.nL())&&(h=h.j())){var l=this.g.Ra();l.li(h.ja());l.mi(h.ka())}},async u0(h){const l=this.g.Kb();l&&h&&!this.g.Vj&&await this.lF(l,h.Va?h.Io:[h])},async Aga(h){await d.H.lb.gd.u0.call(this,this.g.Cx(h))},N3(h){const l=this.g.Kb();l&&h&&this.YQ(l,
h.Va?h.Io:[h])},Pka(h){d.H.lb.gd.N3.call(this,this.g.Cx(h))},Qka(){const h=this.g.Kb();if(h){var l=h.P6();this.YQ(h,l)}},async yga(h){const l=this.g.Kb();h&&l&&!this.g.Vj&&await this.lF(l,h.kP())},async zga(h){const l=this.g.Kb();(h=this.g.ab.Kp(h))&&l&&!this.g.Vj&&await this.lF(l,h.kP())},uy(h){const l=this.zd.uY();if(l)switch(l.OR){case 1:"number"===typeof h&&l.uy(h);break;case 2:"string"===typeof h&&l.uy(h);break;case 3:l.uy(h)}},Gga(h,l,n){var p=this.Ny(h.toLowerCase(),!0);const q=p.dC,u=l.toLowerCase();
q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(q.values())||p.nn)&&0!==p.xl!==(0!==n.xl)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Hga(h,l){const n=this.Ny(h.toLowerCase(),!0);n.nn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=d.first(n.dC.values())||n.nn;p&&
0!==p.xl!==(0!==l.xl)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.nn=l},uea(h,l,n){n=Math.floor(n);var p=this.Ny(h.toLowerCase(),!1);if(p){var q=p.dC.get(l.toLowerCase());if(!q)if(p.nn)q=p.nn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.hh())if(0!==q.xl)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);
else{h=this.g;l=h.ga();var u=l.Fb();p=u.pd();var w=0<p.length;w&&l.lg(p);var r=[];if(u=l.JC(u)){u=u.Dg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].qd())}n=q.Dg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].Oo);return h.ae?this.g5(l,q,r,w,p):this.F5(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.H.lb.Fd={Cma:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Ula:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Pl(a){return a.toString()},rw(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.fq()*a:this.g.fq()*(b-a)+a},eca(...a){return a[Math.floor(this.g.fq()*a.length)]},zna(){return Math.PI},Ama(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Yna(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.kb(a))},cos(a){return Math.cos(d.kb(a))},tan(a){return Math.tan(d.kb(a))},asin(a){return d.Tg(Math.asin(a))},acos(a){return d.Tg(Math.acos(a))},atan(a){return d.Tg(Math.atan(a))},exp(a){return Math.exp(a)},Yca(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let g=a[f];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let g=a[f];"number"===typeof g&&b>g&&(b=g)}return b},fa(a,b,f){return d.fa(a,b,f)},iw(a,b,f,c){return d.MB(a,b,f,c)},angle(a,b,f,c){return d.Tg(d.GB(a,b,f,c))},Ud(a,b,f){return d.Ud(a,b,f)},eC(a,b,f){return d.eC(a,b,f)},ZB(a,b,f,c){return d.ZB(a,b,f,c)},ZT(a,b,f,c,g){return d.ZT(a,
b,f,c,g)},YT(a,b,f){return d.YT(a,b,f)},pla(a,b){return d.Tg(d.yp(d.kb(a),d.kb(b)))},qla(a,b,f){return d.Tg(d.iJ(d.kb(a),d.kb(b),f))},rla(a,b,f){return d.Tg(d.EB(d.kb(a),d.kb(b),d.kb(f)))},joa(a,b,f){b|=0;return(a|0)&~(1<<b)|(0!==f?1:0)<<b},soa(a,b){return(a|0)^1<<(b|0)},sma(a,b){return(a|0)&1<<(b|0)?1:0},kna(){return"\n"},zoa(a){return"string"===typeof a?a.toUpperCase():""},dna(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,f){return"string"!==
typeof a?"":0>f?a.substr(b):a.substr(b,f)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},toa(a,b,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},uoa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.ts(b),"i")):-1},Tla(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(d.ts(b),"")):-1},replace(a,b,f){return"string"===typeof a&&"string"===typeof b&&"string"===typeof f?a.replace(new RegExp(d.ts(b),"gi"),f):"string"===typeof a?a:""},Jna(a,b,f){b=this.Hx(b,f);return a?a.search(b):-1},Ina(a,b,f,c){b=this.Hx(b,f);return a?a.replace(b,c):""},Hna(a,b,f){return(a=this.zL(a.toString(),b,f))?a.length:0},Gna(a,b,f,c){c=Math.floor(c);a=this.zL(a.toString(),b,f);return!a||0>c||c>=a.length?"":a[c]},Ooa(a,b){let f=0>a?"-":"";0>a&&(a=-a);
f+="0".repeat(Math.max(b-a.toString().length,0));return f+a.toString()},Boa(a){return encodeURIComponent(a)},Aoa(a){return decodeURIComponent(a)},cU(){return this.g.Hu},qoa(){return this.g.Rd},Koa(){return(Date.now()-this.g.mB)/1E3},xoa(){return Date.now()},time(){return this.g.Fn()},poa(){return this.g.bk},pna(){return this.g.hI},Xla(){return this.g.Uz},Gla(){return this.g.IA},tma(){return this.g.zx()},Moa(){return this.g.V.uh},Loa(){return this.g.V.th},tna(){return this.g.Ig},sna(){return this.g.Hg},
rna(){return this.g.Ig},qna(){return this.g.Hg},aoa(){return this.g.Ra().Bf()},boa(){return this.g.Ra().Cf()},Yma(){return this.g.Ra().ya()},Zma(){return this.g.Ra().Od},Wma(){return d.Tg(this.g.Ra().Oa())},$ma(){return this.g.Ra().aa()},Xma(){return this.g.Ra().$()},Goa(a){return(a=this.g.Ra().X(a))?a.gn.S:0},Ioa(a){return(a=this.g.Ra().X(a))?a.gn.M:0},Hoa(a){return(a=this.g.Ra().X(a))?a.gn.ea:0},Eoa(a){return(a=this.g.Ra().X(a))?a.gn.Z:0},Joa(a){return(a=this.g.Ra().X(a))?a.gn.width():0},Foa(a){return(a=
this.g.Ra().X(a))?a.gn.height():0},Ala(a,b,f){return(a=this.g.Ra().X(a))?a.qk(b,f)[0]:0},Bla(a,b,f){return(a=this.g.Ra().X(a))?a.qk(b,f)[1]:0},Tma(a,b,f){return(a=this.g.Ra().X(a))?a.Wn(b,f)[0]:0},Uma(a,b,f){return(a=this.g.Ra().X(a))?a.Wn(b,f)[1]:0},Pma(a){return(a=this.g.Ra().X(a))?a.Od:0},Kma(a){return(a=this.g.Ra().X(a))?d.Tg(a.Of):0},Mma(a){return(a=this.g.Ra().X(a))?100*a.qe():0},Qma(a){return(a=this.g.Ra().X(a))?a.Qm:0},Rma(a){return(a=this.g.Ra().X(a))?a.Bf():0},Sma(a){return(a=this.g.Ra().X(a))?
a.Cf():0},Nma(a){return(a=this.g.Ra().X(a))?100*a.lf:0},Oma(a){return(a=this.g.Ra().X(a))?100*a.mf:0},Vma(a){return(a=this.g.Ra().X(a))?a.Za():0},Lma(a){return(a=this.g.Ra().X(a))?a.Ca():-1},zla(){const a=this.g.V;return a?a.zI:""},cna(a){const b=this.jf;return b.cM()?a?(a=b.cY(a))?a.Ca():0:b.Ip().Ca():0},Zna(){return this.g.Yo},xla(a,b,...f){var c=this.Ny(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var g=c.dC.get(b.toLowerCase());
if(!g)if(c.nn)g=c.nn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.xl;const m=g.Is();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.hh())return m;a=this.g.ga();b=a.Fb().pd();const h=0<b.length;h&&a.lg(b);const l=g.Dg;for(let n=f.length,p=l.length;n<p;++n)f.push(l[n].Oo);
g=g.oe();f=g.ZD(g.pd(),c,m,...f);h&&a.Gb(b);return f},bna(){return this.g.td.BA},yma(){return 0===this.No?1:this.Vu/this.No},sn(){return this.g.Ws()?"webgpu":"webgl"},Mna(){return this.g.Ws()?"<unavailable>":this.g.Nn().Zv},zma(){let a=this.g.hb().yY();return Math.round(100*a/1048576)/100},Nna(a,b,f){return d.j1(a,b,f)},Qna(a,b,f){return d.HM(a/100,b/100,f/100)},Ona(a,b,f,c){return d.fy(a/100,b/100,f/100,c/100)},Rna(a,b,f){return d.HM(a/255,b/255,f/255)},Pna(a,b,f,c){return d.fy(a/255,b/255,f/255,
c/255)},mda(){return this.g.WA},nda(){return this.g.$S},Ila(){return this.g.Fb().Nc.ya()},Hla(){return this.g.Fb().Wq}}}{"use strict";const d=self.B;d.H.Text=class extends d.ly{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.B;d.H.Text.xq=class extends d.kN{constructor(a){super(a)}A(){super.A()}Id(){}Xp(){}$n(){}}}
{"use strict";const d=self.B,a=self.Wg,b=[0,0,0],f=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,m=new d.rd;new d.Ya;d.H.Text.Instance=class extends d.aE{constructor(n,p){super(n);this.bd="";this.al=!0;this.Ii="Arial";this.$j=12;this.Dh=0;this.ef=this.df=!1;this.$a=d.m(d.Ya);this.Pe=this.bf=0;this.hk=!0;this.ck=this.Qr=-1;this.Yv=0;this.Qc=d.m(d.I.TD,this.g.hb(),{timeout:5});this.Qc.YB=()=>this.g.Y();this.Qc.EN();p&&(this.bd=p[0],this.al=!!p[1],this.Ii=p[2],this.$j=p[3],this.Dh=
p[4],this.df=!!p[5],this.ef=!!p[6],this.bf=p[8],this.Pe=p[9],this.hk=0===p[10],n=p[7],this.$a.hs(n[0],n[1],n[2]),this.j().oi(p[11]));this.Zd()}A(){this.mm();this.Qc.A();this.Qc=null;super.A()}Zd(){const n=this.Qc;n.Dt(this.bd);n.t2(this.al);n.gE(this.Ii);n.IN(this.Dh);n.pN(this.df);n.GN(this.ef);n.im(this.$a);n.AN(f[this.bf]);n.VN(c[this.Pe]);n.r3(this.hk?"word":"character")}PF(){const n=this.j();this.Qc.hE(this.$j);this.Qc.I2(n.oZ());var p=n.X();p=p.Zl()*p.$K(n.Ff());this.Qc.jd(n.aa(),n.$(),p)}Zg(n){var p=
this.j();this.PF();const q=this.Qc.Xd();if(q){var u=p.X();if(0===p.Oa()&&0===u.Oa()&&0===p.Ff()&&!p.Gf()&&u.TM()){p=p.hj();const [w,r]=u.yj(p.wb,p.xb),[v,y]=u.yj(p.ac,p.cc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);m.cj(g);const [G,z]=n.Ix(n.Bk());this.g.V.A2(n,G,z);n.Kf(q);n.eq(m,this.Qc.tj());u.bz(n)}else n.Kf(q),p.Gf()?this.ZE(p,n):this.$E(p,n)}}$E(n,p){n=n.hj();this.g.il&&(n=this.hQ(n));p.eq(n,this.Qc.tj())}ZE(n,p){const q=n.LL();if(n.fM()){n.Nw(g,m,!1);let u=m;
this.g.il&&(u=this.hQ(u));q.rK(n.sj(),u,this.Qc.tj());n.jE(!1)}q.Zg(p)}hQ(n){const p=n.wb-Math.round(n.wb),q=n.xb-Math.round(n.xb);if(0===p&&0===q)return n;m.pa(n);m.offset(-p,-q);return m}sd(){const n={t:this.bd,c:this.$a.toJSON(),fn:this.Ii,ps:this.$j};this.al&&(n.bbc=this.al);0!==this.bf&&(n.ha=this.bf);0!==this.Pe&&(n.va=this.Pe);this.hk||(n.wr=this.hk);0!==this.Dh&&(n.lho=this.Dh);this.df&&(n.b=this.df);this.ef&&(n.i=this.ef);-1!==this.ck&&(n.tw={st:this.Qr,en:this.ck,l:this.Yv});return n}hd(n){this.mm();
this.bd=n.t;this.$a.Ol(n.c);this.Ii=n.fn;this.$j=n.ps;this.al=n.hasOwnProperty("bbc")?n.bbc:!1;this.bf=n.hasOwnProperty("ha")?n.ha:0;this.Pe=n.hasOwnProperty("va")?n.va:0;this.hk=n.hasOwnProperty("wr")?n.wr:!0;this.Dh=n.hasOwnProperty("lho")?n.lho:0;this.df=n.hasOwnProperty("b")?n.b:!1;this.ef=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Qr=n.st,this.ck=n.en,this.Yv=n.l);this.Zd();-1!==this.ck&&this.wi()}pc(n){switch(n){case 0:return this.bd;case 1:return this.al;case 2:return this.Ii;
case 3:return this.$j;case 4:return this.Dh;case 5:return this.df;case 6:return this.ef;case 7:return b[0]=this.$a.Qa,b[1]=this.$a.Ua,b[2]=this.$a.Ta,b;case 8:return this.bf;case 9:return this.Pe;case 10:return this.hk?1:0}}pg(n,p){switch(n){case 0:if(this.bd===p)break;this.bd=p;this.Zd();break;case 1:if(this.al===!!p)break;this.al=!!p;this.Zd();break;case 2:if(this.Ii===p)break;this.Ii=p;this.Zd();break;case 3:if(this.$j===p)break;this.$j=p;this.Zd();break;case 4:if(this.Dh===p)break;this.Dh=p;this.Zd();
break;case 5:if(this.df===!!p)break;this.df=!!p;this.Zd();break;case 6:if(this.ef===!!p)break;this.ef=!!p;this.Zd();break;case 7:n=this.$a;if(n.Qa===p[0]&&n.Ua===p[1]&&n.Ta===p[2])break;this.$a.hs(p[0],p[1],p[2]);this.Zd();break;case 8:if(this.bf===p)break;this.bf=p;this.Zd();break;case 9:if(this.Pe===p)break;this.Pe=p;this.Zd();break;case 10:this.hk!==(0===p)&&(this.hk=0===p,this.Zd())}}az(n){this.bd!==n&&(this.bd=n,this.Qc.Dt(n),this.g.Y())}K$(n,p){this.az(n);this.Qr=this.g.iD();this.ck=this.Qr+
p/this.za().jY();this.Yv=d.Sl.YN(n).length;this.Qc.fE(0);this.wi()}mm(){this.ck=this.Qr=-1;this.Yv=0;this.Qc.fE(-1);this.pm()}d6(){-1!==this.ck&&(this.mm(),this.ib(d.H.Text.na.EM),this.g.Y())}h$(n){this.Ii!==n&&(this.Ii=n,this.Qc.gE(n),this.g.Y())}W9(n){n=!!n;this.df!==n&&(this.df=n,this.Qc.pN(n),this.g.Y())}q$(n){n=!!n;this.ef!==n&&(this.ef=n,this.Qc.GN(n),this.g.Y())}i$(n){this.$j!==n&&(this.$j=n,this.g.Y())}g$(n){this.$a.Kl(n)||(this.$a.Yi(n),this.Qc.im(this.$a),this.g.Y())}IQ(n){this.Dh!==n&&
(this.Dh=n,this.Zd(),this.g.Y())}l$(n){this.bf!==n&&(this.bf=n,this.Zd(),this.g.Y())}QQ(n){this.Pe!==n&&(this.Pe=n,this.Zd(),this.g.Y())}D$(n){n=!!n;this.hk!==n&&(this.hk=n,this.Zd(),this.g.Y())}O6(){this.PF();return this.Qc.tZ()}N6(){this.PF();return this.Qc.sZ()}xe(){var n=this.g.iD();n>=this.ck?(this.mm(),this.ib(d.H.Text.na.EM),this.g.Y()):(n=d.rda(this.Qr,this.ck,n,this.Yv),n=Math.floor(n),n!==this.Qc.Eo&&(this.Qc.fE(n),this.g.Y()))}$l(){return self.a_}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.a_=class extends self.Rx{constructor(){super();h.set(this,self.Zs.Aq().la)}get text(){return h.get(this).bd}set text(n){a.Jd(n);const p=h.get(this);p.mm();p.az(n)}set lineHeight(n){a.kh(n);h.get(this).IQ(n)}get lineHeight(){return h.get(this).Dh}set verticalAlign(n){a.Jd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).QQ(n)}get verticalAlign(){return c[h.get(this).Pe]}}}
{"use strict";const d=self.B;d.H.Text.na={Iea(a,b){return b?this.bd===a:d.Ll(this.bd,a)},nga(){return-1!==this.ck},EM(){return!0}}}
{"use strict";const d=self.B,a=d.m(d.Ya);d.H.Text.gd={Dt(b){this.mm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.az(b.toString())},jea(b){this.mm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.az(this.bd+b)},Nka(b,f){this.mm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.K$(b.toString(),f)},wja(b,f){let c=!1,g=!1;switch(f){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.Ii||c!==this.df||g!==this.ef)this.h$(b),this.W9(c),
this.q$(g)},hE(b){this.i$(b)},vja(b){a.gs(b);a.fa();this.g$(a)},gka(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},B2(b){this.j().Jf(b);this.g.Y()},Mka(){this.d6()},IN(b){this.IQ(b)},yja(b){this.l$(b)},fka(b){this.QQ(b)},hka(b){this.D$(0===b)}}}{"use strict";const d=self.B;d.H.Text.Fd={Text(){return this.bd},Iha(){return this.al?d.Sl.YN(this.bd):this.bd},ffa(){return this.Ii},gfa(){return this.$j},E3(){return this.O6()},Gka(){return this.N6()},xga(){return this.Dh}}}
{"use strict";const d=self.B;d.H.kd=class extends d.ly{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.B;d.H.kd.xq=class extends d.kN{constructor(a){super(a);this.xd=a.xd}A(){d.C(this.xd);super.A()}Id(){for(const a of this.xd)a.o0(this.g)}Xp(a){const b={bj:this.g.md};return Promise.all(this.xd.map(f=>f.p0(a,b)))}$n(){for(const a of this.xd)a.J1()}ey(){this.aR()}aR(){for(const a of this.J.Mca())a.la.NF()}xs(a){d.H.kd.dY(this,a)}}}
{"use strict";const d=self.B,a=self.Wg,b=d.m(d.Rect),f=d.m(d.rd),c=d.m(d.Ht);d.H.kd.Instance=class extends d.aE{constructor(m,h){super(m);let l=!0,n="",p=0,q=!0;h&&(l=!!h[0],n=h[1],p=h[2],q=h[3]);this.Ib=this.J.bL(n)||this.J.xd[0];this.ob=d.fa(p,0,this.Ib.Ad.length-1);this.Fe=this.Ib.Wl(this.ob);h=this.Fe.zf();this.Tq=h.Xd();this.zG=h.tj();this.Du=h.Kx();this.BZ();m.ut(2,!0);m.ut(1,0<=this.Ib.ad);this.Qj=Math.abs(this.Ib.ad);this.Sq=this.Ib.eT;this.kz=d.m(d.$x);this.Mj=this.Ki=0;this.ZF="";this.zu=
-1;this.Mq="";this.qR=0;m=this.j();this.yaa=m.hj();m.oi(l);m.pt(q);m.pq(this.Fe.zk());m.qq(this.Fe.Ak());m.pE(this.Fe.zo);m.Ea();1===this.J.xd.length&&1===this.J.xd[0].Ad.length||0===this.Qj||this.wi()}A(){this.kz=this.Tq=this.Fe=this.Ib=null;super.A()}$g(){return this.Fe.zf()}Tn(){return!0}aq(){this.Tq=null}GM(){this.NF()}Zg(m){var h=this.Tq;null!==h&&(m.Kf(h),h=this.j(),h.Gf()?this.ZE(h,m):this.$E(h,m))}$E(m,h){let l=this.yaa;this.g.il&&(l=m.IM(l));h.F1(l,this.Du)}ZE(m,h){const l=m.LL();if(m.fM()){m.Nw(b,
f,!1);let n=f;this.g.il&&(n=m.IM(n));l.rK(m.sj(),n,this.Du);m.jE(!1)}l.Zg(h)}As(){return this.kz.U()}Ux(){return this.W.WC(2)}jq(m){this.W.ut(2,m)}Xx(){return this.W.WC(1)}zt(m){this.W.ut(1,m)}BD(){return this.W.WC(4)}BN(m){this.W.ut(4,m)}xe(){this.Mq&&this.OO();0<=this.zu&&this.WE();const m=this.Qj;if(this.Ux()&&0!==m){this.kz.Dc(this.g.ux(this.W));var h=this.As(),l=this.Fe,n=l.zR/m;if(!(h<this.Ki+n)){var p=this.Ib,q=this.Sq,u=p.Ad.length,w=p.fh(),r=p.qA,v=p.eba;this.Xx()?this.ob++:this.ob--;this.Ki+=
n;this.ob>=u&&(v?(this.zt(!1),this.ob=u-2):r?this.ob=q:(this.Mj++,this.Mj>=w?this.bF(!1):this.ob=q));0>this.ob&&(v?(this.ob=1,this.zt(!0),r||(this.Mj++,this.Mj>=w&&this.bF(!0))):r?this.ob=q:(this.Mj++,this.Mj>=w?this.bF(!0):this.ob=q));this.ob=d.fa(this.ob,0,u-1);n=p.Wl(this.ob);h>this.Ki+n.zR/m&&(this.Ki=h);this.Ty(l,n)}}else this.pm()}bF(m){this.ob=m?0:this.Ib.Ad.length-1;this.jq(!1);this.ZF=this.Ib.ya();this.BN(!0);this.qs("animationend",!1,{animationName:this.ZF});this.ib(d.H.kd.na.V0);this.ib(d.H.kd.na.U0);
this.BN(!1);this.Mj=0}Ty(m,h){if(m!==h){var l=this.j(),n=m.zf();m=h.zf();var p=n.aa();n=n.$();var q=m.aa(),u=m.$();p!==q&&l.pi(l.aa()*(q/p));n!==u&&l.ki(l.$()*(u/n));l.pq(h.zk());l.qq(h.Ak());l.pE(h.zo);l.Ea();this.Fe=h;this.Tq=m.Xd();this.zG=m.tj();this.Du=m.Kx();h=this.za().Ic;for(let w=0,r=h.length;w<r;++w);this.qs("framechange",!1,{animationName:this.Ib.ya(),QT:this.ob});this.ib(d.H.kd.na.$0);this.g.Y()}}J$(m){this.jq(!0);this.Ki=this.As();1===m&&0!==this.ob&&(this.zu=0,this.BD()||this.WE());
this.wi()}S9(m,h){this.Mq=m;this.qR=h;this.wi();this.BD()||this.OO()}hP(){return this.Mq?this.Mq:this.Ib.ya()}BQ(m){isFinite(m)&&(this.zu=m,this.BD()||this.WE())}U9(m){this.Qj=Math.abs(m);this.zt(0<=m);0<this.Qj&&this.wi()}dP(){return this.Xx()?this.Qj:-this.Qj}T9(m){this.Sq=m=d.fa(Math.floor(m),0,this.Ib.Ad.length-1)}OO(){const m=this.Fe;var h=this.J.bL(this.Mq);this.Mq="";!h||h===this.Ib&&this.Ux()||(this.Ib=h,this.zt(0<=h.ad),this.Qj=Math.abs(h.ad),this.Sq=h.eT,this.ob=d.fa(this.ob,0,this.Ib.Ad.length-
1),1===this.qR&&(this.ob=0),this.jq(!0),this.Ki=this.As(),h=this.Ib.Wl(this.ob),this.Ty(m,h))}WE(){const m=this.Fe;var h=this.ob;this.ob=d.fa(Math.floor(this.zu),0,this.Ib.Ad.length-1);this.zu=-1;h!==this.ob&&(h=this.Ib.Wl(this.ob),this.Ty(m,h),this.Ki=this.As())}NF(){const m=this.Fe.zf();this.Tq=m.Xd();this.zG=m.tj();this.Du=m.Kx();this.j().jE(!0)}Xd(){return this.Tq}tj(){return this.zG}Kx(){return this.Du}YC(){return this.Fe.YC()}Yl(m){const h=this.Fe,l=this.j();if("string"===typeof m)m=h.PY(m);
else if("number"===typeof m)m=h.OY(m-1);else throw new TypeError("expected string or number");if(!m)return[l.ja(),l.ka()];c.pa(m.lI);if(l.Gf()){const [n,p]=l.sj().aO(c.ba,c.T);c.set(n,p)}c.offset(-h.zk(),-h.Ak());c.scale(l.aa(),l.$());c.rotate(l.Oa());c.offset(l.ja(),l.ka());return[c.ba,c.T]}sY(){return this.j().Ck().yU()}dL(m){m=Math.floor(m);const h=this.j();var l=h.Ck();const n=l.yU();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Cd;return[l[2*m]+h.ja(),l[2*m+1]+h.ka()]}sd(){const m={a:this.Ib.eb};
0!==this.Ki&&(m.fs=this.Ki);var h=this.As();0!==h&&(m.at=h);0!==this.ob&&(m.f=this.ob);0!==this.Qj&&(m.cas=this.Qj);1!==this.Mj&&(m.ar=this.Mj);0!==this.Sq&&(m.rt=this.Sq);this.Ux()||(m.ap=this.Ux());this.Xx()||(m.af=this.Xx());h=this.j();h.fi()&&(m.ce=h.fi());return m}hd(m){var h=this.F().lY(m.a);h&&(this.Ib=h);this.Ki=m.hasOwnProperty("fs")?m.fs:0;this.kz.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.ob=d.fa(h,0,this.Ib.Ad.length-1);this.Qj=m.hasOwnProperty("cas")?m.cas:
0;this.Mj=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.Sq=d.fa(h,0,this.Ib.Ad.length-1);this.jq(m.hasOwnProperty("ap")?!!m.ap:!0);this.zt(m.hasOwnProperty("af")?!!m.af:!0);this.Fe=h=this.Ib.Wl(this.ob);this.NF();const l=this.j();l.pq(h.zk());l.qq(h.Ak());l.pE(h.zo);l.pt(!!m.ce)}pc(m){const h=this.j();switch(m){case 3:return h.fi();case 2:return d.fa(this.ob,0,this.Ib.Ad.length-1)}}pg(m,h){var l=this.j();switch(m){case 3:l.pt(!!h);break;case 2:this.jq(!1);m=this.Ib.Ad.length-
1;l=h=d.fa(h,0,m);h=this.Ib.Wl(this.ob);const n=this.Ib.Wl(l);this.Ty(h,n);this.ob=d.fa(l,0,m)}}$l(){return self.ZZ}};const g=new WeakMap;self.ZZ=class extends self.Rx{constructor(){super();g.set(this,self.Zs.Aq().la)}get animationName(){return g.get(this).hP()}set QT(m){a.kh(m);g.get(this).BQ(m)}get QT(){return g.get(this).ob}get imageWidth(){return g.get(this).$g().aa()}get imageHeight(){return g.get(this).$g().$()}}}
{"use strict";const d=self.B;d.H.kd.na={Nfa(a){return d.Ll(this.hP(),a)},Eea(a,b){return d.compare(this.ob,a,b)},Aea(a,b){return d.compare(this.dP(),a,b)},U0(a){return d.Ll(this.ZF,a)},V0(){return!0},$0(){return!0},ega(){return 0>this.j().aa()},$fa(){return 0>this.j().$()},FM(){return!0},i1(){return!0},fi(){return this.j().fi()}}}
{"use strict";const d=self.B;d.H.kd.gd={lka(a,b,f,c){if(a&&b){var [g,m]=this.Yl(f);if(f=this.g.BC(a,b,g,m,c)){c&&b.vE(f);a.tb().Wp()&&(b=f.j(),b.Yc(this.j().Oa()),b.Ea());b=this.g.ga();b.ke(!0);f.fz();b.ke(!1);c=this.g.Gs().ei();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.cr)b=!0,c.set("Spawn_LastExec",this.g.cr);if(a!==this.F()&&(a=a.N(),a.De(!1),a=a.D,b&&d.C(a),a.push(f),f.Ob()))for(const h of f.ud)f=h.F().N(),b?f.Ej(h):(f.De(!1),f.$t(h))}}},rka(){this.jq(!1)},nka(a){this.J$(a)},
dja(a,b){this.S9(a,b)},eja(a){this.BQ(a)},gja(a){this.U9(a)},fja(a){this.T9(a)},Wja(a){const b=this.j(),f=b.aa();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.pi(a),b.Ea())},tja(a){const b=this.j(),f=b.$();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.ki(a),b.Ea())},lE(a){const b=this.Fe.zf(),f=this.j();var c=0>f.aa()?-1:1;const g=0>f.$()?-1:1;c*=b.aa()*a;a=b.$()*a*g;if(f.aa()!==c||f.$()!==a)f.jd(c,a),f.Ea()},async Dga(a,b){const f=this.Fe.zf(),c=this.j(),g=this.g;if(f.dk===a)0===b&&(c.jd(f.aa(),f.$()),c.Ea()),this.ib(d.H.kd.na.FM);
else{var m=d.m(d.Sx);try{await m.r0(g,a);if(!m.ED())throw Error("image failed to load");await m.dt(g.hb(),{bj:this.g.md})}catch(h){console.error("Load image from URL failed: ",h);this.ib(d.H.kd.na.i1);return}f.W1(m);this.Bc.aR();this.Dy()||0!==b||(c.jd(f.aa(),f.$()),c.Ea());g.Y();this.Dy()||await this.ye(d.H.kd.na.FM)}},nja(a){this.j().pt(a)},oE(a,b){this.j().oE(0===a,b)},B2(a){this.j().Jf(a);this.g.Y()}}}"use strict";
self.B.H.kd.Fd={fea(){return this.ob},gea(){return this.Ib.Ad.length},hea(){return this.Ib.ya()},iea(){return this.dP()},pha(){return this.Ib.ad},Gfa(d){return this.Yl(d)[0]},Hfa(d){return this.Yl(d)[1]},Ffa(){return this.YC()},Ifa(){return this.$g().aa()},Efa(){return this.$g().$()},Mha(d){return this.dL(d)[0]},Nha(d){return this.dL(d)[1]},Lha(){return this.sY()}};
{"use strict";const d=self.B;d.sb.gg=class extends d.gN{constructor(a){super(a);a=this.g.Ub();this.Ge=new d.zK(d.Tl.kx(a,"pointerdown",b=>this.t8(b.data)),d.Tl.kx(a,"pointermove",b=>this.u8(b.data)),d.Tl.kx(a,"pointerup",b=>this.eQ(b.data)),d.Tl.kx(a,"pointercancel",b=>this.eQ(b.data)))}A(){this.Ge.A();this.Ge=null;super.A()}t8(a){"mouse"===a.pointerType&&0!==a.button||this.m8(a.pointerId.toString(),a.pageX-this.g.Es(),a.pageY-this.g.Fs())}u8(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.aQ(a.pointerId.toString()):
this.n8(a.pointerId.toString(),a.pageX-this.g.Es(),a.pageY-this.g.Fs())}eQ(a){"mouse"===a.pointerType&&0!==a.button||this.aQ(a.pointerId.toString())}async m8(a,b,f){var c=this.ia();let g=null,m=null,h=0,l=0;for(const n of c){c=n.lx(d.sb.gg);if(!c.hh()||c.Uj)continue;const p=n.j(),q=p.X(),[u,w]=q.qk(b,f,p.Ff());if(!p.yC(u,w))continue;if(!g){g=n;m=c;h=u;l=w;continue}const r=g.j();if(q.Ca()>r.X().Ca()||q.Ca()===r.X().Ca()&&p.gh()>r.gh())g=n,m=c,h=u,l=w}g&&await m.h8(a,h,l)}n8(a,b,f){var c=this.ia();
for(const g of c){c=g.lx(d.sb.gg);if(!c.hh()||!c.Uj||c.Uj&&c.FG!==a)continue;const m=g.j(),h=m.X(),[l,n]=h.qk(b,f,m.Ff());c.s8(l,n)}}async aQ(a){var b=this.ia();for(const f of b)b=f.lx(d.sb.gg),b.Uj&&b.FG===a&&await b.gQ()}}}{"use strict";const d=self.B;d.sb.gg.xq=class extends d.iN{constructor(a){super(a)}A(){super.A()}Id(){}}}
{"use strict";const d=self.B;d.sb.gg.Instance=class extends d.hN{constructor(a,b){super(a);this.Uj=!1;this.BR=this.AR=0;this.FG="<none>";this.Uk=0;this.rc=!0;b&&(this.Uk=b[0],this.rc=b[1])}A(){super.A()}sd(){return{a:this.Uk,e:this.rc}}hd(a){this.Uk=a.a;this.rc=a.e;this.Uj=!1}hh(){return this.rc}async h8(a,b,f){const c=this.j();this.AR=b-c.ja();this.BR=f-c.ka();this.Uj=!0;this.FG=a;await this.ye(d.sb.gg.na.yM)}s8(a,b){const f=this.j();a-=this.AR;b-=this.BR;if(0===this.Uk){if(f.ja()!==a||f.ka()!==
b)f.Lf(a,b),f.Ea()}else 1===this.Uk?f.ja()!==a&&(f.rg(a),f.Ea()):2===this.Uk&&f.ka()!==b&&(f.mh(b),f.Ea())}async gQ(){this.Uj=!1;await this.ye(d.sb.gg.na.zM)}pc(a){switch(a){case 0:return this.Uk;case 1:return this.rc}}pg(a,b){switch(a){case 0:this.Uk=b;break;case 1:this.rc=!!b}}}}"use strict";self.B.sb.gg.na={Yfa(){return this.Uj},yM(){return!0},zM(){return!0},hh(){return this.rc}};"use strict";self.B.sb.gg.gd={wN(d){this.rc=!!d;this.rc||(this.Uj=!1)},hja(d){this.Uk=d},Yea(){this.Uj&&this.gQ()}};
"use strict";self.B.sb.gg.Fd={};{"use strict";const d=self.B;d.sb.ih=class extends d.gN{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.B;d.sb.ih.xq=class extends d.iN{constructor(a){super(a)}A(){super.A()}Id(){}}}
{"use strict";const d=self.B,a=self.Wg,b=self.TL;d.sb.ih.Instance=class extends d.hN{constructor(c,g){super(c);this.nl=200;this.Do=this.qm=600;this.yl=0;this.kp=!0;this.Hr=!1;this.rc=!0;this.ad=0;this.Ri=this.j().Oa();this.Ed=[];g&&(this.nl=g[0],this.qm=g[1],this.Do=g[2],this.yl=d.kb(g[3]),this.kp=g[4],this.Hr=g[5],this.rc=g[6])}A(){super.A()}sd(){return{ms:this.nl,acc:this.qm,dec:this.Do,rs:this.yl,sa:this.kp,sos:this.Hr,s:this.ad,ma:this.Ri,wp:this.Ed.map(c=>({x:c.x,y:c.y})),e:this.rc}}hd(c){this.nl=
c.ms;this.qm=c.acc;this.Do=c.dec;this.yl=c.rs;this.kp=c.sa;this.Hr=c.sos;this.ad=c.s;this.Ri=c.ma;this.Ed=c.wp.map(g=>({x:g.x,y:g.y}));this.bu(c.e);this.rc&&0<this.Ed.length&&this.wi()}Gy(c,g,m){m&&d.C(this.Ed);this.Ed.push({x:c,y:g});this.rc&&this.wi()}Q6(c){c=Math.floor(c);return 0>c||c>=this.Ed.length?0:this.Ed[c].x}R6(c){c=Math.floor(c);return 0>c||c>=this.Ed.length?0:this.Ed[c].y}Qt(){return 0<this.Ed.length}KF(){d.C(this.Ed);this.ad=0;this.pm()}vP(){return 0<this.Ed.length?this.Ed[0].x:0}wP(){return 0<
this.Ed.length?this.Ed[0].y:0}GF(c){this.Qt()&&(this.ad=Math.min(c,this.nl))}KQ(c){this.nl=Math.max(c,0);this.GF(this.ad)}LP(){return 0!==this.yl}xe(){if(this.rc&&this.Qt()){var c=this.g.ux(this.W),g=this.W.j(),m=g.ja(),h=g.ka(),l=g.Oa(),n=this.ad,p=this.nl,q=this.qm,u=this.Do,w=this.vP(),r=this.wP(),v=d.GB(m,h,w,r),y=!1;0<u&&1===this.Ed.length&&(y=.5*n*n/u*1.0001,y=d.LB(m,h,w,r)<=y*y)&&(this.ad=p=n=Math.sqrt(2*u*d.MB(m,h,w,r)));if(this.LP()){var A=d.yp(this.Ri,v);if(A>Number.EPSILON){const G=A/this.yl;
A*=d.MB(g.ja(),g.ka(),w,r)/(2*Math.sin(A));p=Math.min(p,d.fa(A/G,0,this.nl))}}n=Math.min(n*c+.5*(y?-u:q)*c*c,p*c);if(y){if(0<u&&(this.ad=Math.max(this.ad-u*c,0),0===this.ad)){this.ZP(g,w,r);return}}else this.ad=0===q?p:Math.min(this.ad+q*c,p);d.LB(g.ja(),g.ka(),w,r)<=n*n?this.ZP(g,w,r):(this.Ri=this.LP()?d.EB(this.Ri,v,this.yl*c):v,g.$p(Math.cos(this.Ri)*n,Math.sin(this.Ri)*n),this.kp&&g.Yc(this.Ri),g.Ea(),this.J4(m,h,l))}}ZP(c,g,m){c.Lf(g,m);c.Ea();this.Ed.shift();0===this.Ed.length&&(this.ad=0,
this.pm());this.qs("arrived");this.ib(d.sb.ih.na.xM)}J4(c,g,m){const h=this.g.xm;if(this.Hr&&h.BE(this.W)){this.KF();const l=this.W.j(),n=l.ja(),p=l.ka(),q=d.GB(n,p,c,g);h.D1(this.W,Math.cos(q),Math.sin(q),Math.max(d.MB(n,p,c,g),1))||(l.Lf(c,g),l.Yc(m),l.Ea());this.qs("hitsolid");this.ib(d.sb.ih.na.a1)}}w$(c){this.kp=!!c}R9(c){this.Ri=c;this.rc&&this.kp&&!this.Qt()&&(c=this.j(),c.Yc(this.Ri),c.Ea())}zF(c){this.qm=Math.max(c,0)}EQ(c){this.Do=Math.max(c,0)}MQ(c){this.yl=Math.max(c,0)}NQ(c){this.Hr=
!!c}bu(c){c=!!c;this.rc!==c&&((this.rc=c)&&this.Qt()?this.wi():this.pm())}pc(c){switch(c){case 0:return this.nl;case 1:return this.qm;case 2:return this.Do;case 3:return d.Tg(this.yl);case 4:return this.kp;case 5:return this.Hr;case 6:return this.rc}}pg(c,g){switch(c){case 0:this.KQ(g);break;case 1:this.zF(g);break;case 2:this.EQ(g);break;case 3:this.MQ(d.kb(g));break;case 4:this.w$(g);break;case 5:this.NQ(g);break;case 6:this.bu(g)}}$l(){return self.WZ}};const f=new WeakMap;self.WZ=class extends b{constructor(){super();
f.set(this,b.Aq().la)}stop(){f.get(this).KF()}get speed(){return f.get(this).ad}set speed(c){a.kh(c);f.get(this).GF(c)}get acceleration(){return f.get(this).qm}set acceleration(c){a.kh(c);f.get(this).zF(c)}get isEnabled(){return f.get(this).rc}set isEnabled(c){f.get(this).bu(c)}}}{"use strict";const d=self.B;d.sb.ih.na={fga(){return this.Qt()},Hea(a,b){return d.compare(this.ad,a,b)},hh(){return this.rc},xM(){return!0},a1(){return!0}}}
{"use strict";const d=self.B;d.sb.ih.gd={I0(a,b,f){this.Gy(a,b,0===f)},Rga(a,b,f){if(a&&(a=a.wL(this.W))&&a.j()){var [c,g]=a.Yl(b);this.Gy(c,g,0===f)}},Mga(a){var b=this.W.lx(d.sb.rha);if(b&&(b=b.lla(),0!==b.length))for(let f=0,c=b.length;f<c;++f){const g=b[f];this.Gy(g.x,g.y,0===f&&0===a)}},F0(a,b,f){if(b=b?a.xZ(b):d.first(a.cb))if(a=b.re("offsetX"),b=b.re("offsetY"),a&&b){var c=[...a.yL()],g=[...b.yL()];if(0!==c.length&&0!==g.length){var m=0,h=0,l=this.W.j();"relative"===a.Wd()&&(m=l.ja());"relative"===
b.Wd()&&(h=l.ka());for(let n=0,p=Math.min(c.length,g.length);n<p;++n)this.Gy(c[n]+m,g[n]+h,0===n&&0===f)}}},Nga(a,b,f){(a=this.g.ub.Ts(a))&&d.sb.ih.gd.F0.call(this,a,b,f)},we(){this.KF()},Xja(a){this.R9(d.kb(a))},bka(a){this.GF(a)},Uja(a){this.KQ(a)},cja(a){this.zF(a)},oja(a){this.EQ(a)},aka(a){this.MQ(d.kb(a))},cka(a){this.NQ(a)},wN(a){this.bu(a)}}}
{"use strict";const d=self.B;d.sb.ih.Fd={mka(){return this.ad},Jga(){return this.nl},$da(){return this.qm},Tea(){return this.Do},Tga(){return d.Tg(this.Ri)},Ria(){return d.Tg(this.yl)},Eka(){return this.vP()},Fka(){return this.wP()},Wka(){return this.Ed.length},Xka(a){return this.Q6(a)},Yka(a){return this.R6(a)}}}
{const d=self.B;self.pK=function(){return[d.H.Text,d.sb.gg,d.sb.ih,d.H.kd,d.H.lb.na.AM,d.H.lb.na.ZK,d.H.kd.gd.C2,d.H.lb.gd.vV,d.H.lb.Fd.random,d.H.Text.gd.DN,d.H.Text.Fd.nO,d.H.Text.Fd.oO,d.H.Text.gd.Dt,d.H.Text.Fd.Text,d.sb.gg.na.zM,d.H.Text.gd.H0,d.H.kd.na.Y_,d.H.kd.na.o1,d.H.lb.gd.q3,d.H.lb.na.m1,d.H.Text.na.n1,d.H.lb.na.jW,d.sb.ih.gd.I0,d.H.lb.na.SK,d.H.Text.gd.Y2,d.H.kd.Fd.nO,d.H.kd.Fd.oO,d.H.kd.gd.DN,d.H.Text.Fd.M3,d.H.lb.Fd.mda,d.H.lb.Fd.nda,d.H.lb.gd.GE,d.H.kd.gd.rg,d.H.Text.Fd.E3,d.sb.gg.na.yM,
d.H.kd.na.iW,d.sb.ih.na.xM]};self.QV=[{wma:0},{xma:0},{Ima:0},{Jma:0},{Xea:0},{ih:0},{gla:0},{Noa:0},{yfa:0},{Qha:0},{Fga:0},{ooa:0}]}
self.PV=[()=>"AdjustHSL",()=>0,d=>{const a=d.Pk(0).Ju;return()=>a.qd()},()=>1,()=>25,d=>{const a=d.Pk(0).Cs();return()=>10+a(10)},d=>{const a=d.Pk(0);return()=>a.hx()},d=>{const a=d.Pk(0);return()=>"[background=#fff8]"+a.hx()+"[/background]"},d=>{const a=d.Pk(0);return()=>a.ZX()},d=>{const a=d.Pk(0).Cs(),b=d.Pk(1).Cs();return()=>a()+" - "+b()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},d=>{const a=d.Pk(0),b=d.Pk(1);return()=>a.hx()+b.hx()/2},()=>-1];
