// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function b(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=B*E+l*I;f[2]=x*K+D*t;f[3]=B*K+l*t;return f}function a(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function d(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=B*K+E*N;f[2]=x*Q+D*S;f[3]=B*Q+E*S;f[4]=x*W+D*t+I;f[5]=B*W+E*t+l;return f}function c(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-
t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];return f}function h(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*D+W*K+V*l;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*D+ia*K+ca*l;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*D+la*K+
t*l;return f}function g(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];return f}function k(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=l[8],W=l[9],V=l[10],ea=l[11],ia=l[12],ca=l[13],oa=l[14];l=l[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*l;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*l;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*l;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*l;return f}function p(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=x+x,K=B+B,N=D+D;l=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(l+D);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(l+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,l){f[0]=l[12];f[1]=l[13];f[2]=l[14];return f}function u(f,l){var t=l[4],x=l[5],B=l[6],D=l[8],E=l[9],I=l[10];f[0]=Math.hypot(l[0],l[1],l[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(D,
E,I);return f}function w(f,l){var t=new qa(3);u(t,l);var x=1/t[0],B=1/t[1],D=1/t[2],E=l[0]*x;t=l[1]*B;var I=l[2]*D,K=l[4]*x,N=l[5]*B,Q=l[6]*D;x*=l[8];B*=l[9];l=l[10]*D;D=E+N+l;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>l?(E=2*Math.sqrt(1+E-N-l),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>l?(E=2*Math.sqrt(1+N-E-l),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+l-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,l,t,x,B,D,E){var I=1/(l-t),K=1/(x-B),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];
f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];f[9]=l[9]-t[9];f[10]=l[10]-t[10];f[11]=l[11]-t[11];f[12]=l[12]-t[12];f[13]=l[13]-t[13];f[14]=l[14]-t[14];f[15]=l[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,l,t){var x=new qa(3);x[0]=f;x[1]=l;x[2]=t;return x}function F(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];return f}function H(f,l,t){f[0]=
l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];return f}function J(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];return f}function M(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2])}function P(f,l){var t=l[0]-f[0],x=l[1]-f[1];f=l[2]-f[2];return t*t+x*x+f*f}function R(f){var l=f[0],t=f[1];f=f[2];return l*l+t*t+f*f}function T(f,l){var t=l[0],x=l[1],B=l[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f}function Z(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]}function X(f,
l,t){var x=l[0],B=l[1];l=l[2];var D=t[0],E=t[1];t=t[2];f[0]=B*t-l*E;f[1]=l*D-x*t;f[2]=x*E-B*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l}function va(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B}function ta(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f}function ya(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,l,t){f[0]=l[0]+t[0];
f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];return f}function Sa(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function Ta(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];f[3]=l[3]*t[3];return f}function Ua(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];f[3]=l[3]/t[3];return f}function Wa(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f}function eb(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2],l[3]-f[3])}function fb(f,l){var t=l[0]-f[0],
x=l[1]-f[1],B=l[2]-f[2];f=l[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var l=f[0],t=f[1],x=f[2];f=f[3];return l*l+t*t+x*x+f*f}function ib(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t*t+x*x+B*B+l*l;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=B*D;f[3]=l*D;return f}function Ya(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]*l[3]}function vb(f,l,t,x){var B=l[0],D=l[1],E=l[2];l=l[3];f[0]=B+x*(t[0]-B);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=l+
x*(t[3]-l);return f}function wb(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,l,t){t*=.5;var x=Math.sin(t);f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=Math.cos(t);return f}function yb(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+l*E+B*K-D*I;f[1]=B*t+l*I+D*E-x*K;f[2]=D*t+l*K+x*I-B*E;f[3]=l*t-x*E-B*I-D*K;return f}function zb(f,l,t){t*=.5;var x=l[0],B=
l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+l*E;f[1]=B*t+D*E;f[2]=D*t-B*E;f[3]=l*t-x*E;return f}function Ab(f,l,t){t*=.5;var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=B*t+l*E;f[2]=D*t+x*E;f[3]=l*t-B*E;return f}function Bb(f,l,t){t*=.5;var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=D*t+l*E;f[3]=l*t-D*E;return f}function Cb(f,l){var t=l[0],x=l[1],B=l[2],D=Math.sqrt(t*t+x*x+B*B);l=Math.exp(l[3]);var E=
0<D?l*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=l*Math.cos(D);return f}function Db(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=Math.sqrt(t*t+x*x+B*B);D=0<D?Math.atan2(D,l)/D:0;f[0]=t*D;f[1]=x*D;f[2]=B*D;f[3]=.5*Math.log(t*t+x*x+B*B+l*l);return f}function kb(f,l,t,x){var B=l[0],D=l[1],E=l[2];l=l[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+D*K+E*N+l*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*l+x*t;return f}function Eb(f,l){var t=l[0]+l[4]+l[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(l[5]-l[7])*t,f[1]=(l[6]-l[2])*t,f[2]=(l[1]-l[3])*t;else{var x=0;l[4]>l[0]&&(x=1);l[8]>l[3*x+x]&&(x=2);var B=(x+1)%3,D=(x+2)%3;t=Math.sqrt(l[3*x+x]-l[3*B+B]-l[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(l[3*B+D]-l[3*D+B])*t;f[B]=(l[3*B+x]+l[3*x+B])*t;f[D]=(l[3*D+x]+l[3*x+D])*t}return f}function Fb(f,l,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var D=l[0],E=l[1],I=l[2];l=l[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=l;f[4]=x*l+B*I-t*E;f[5]=B*l+t*D-x*I;f[6]=t*l+x*E-B*D;f[7]=-x*D-B*E-t*I;return f}function Gb(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];return f}function lb(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=l[4],W=l[5],V=l[6];l=l[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-D*ia;f[1]=B*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-D*ca;f[4]=x*Q+E*I+B*N-D*K+S*t+l*ea+W*ca-V*ia;f[5]=B*Q+E*K+D*I-x*
N+W*t+l*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-B*I+V*t+l*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-D*N+l*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];return f}function nb(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];return f}function Za(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];return f}function ob(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1])}function Qa(f,l){var t=l[0]-f[0];f=l[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var l=f[0];f=f[1];return l*l+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get $ga(){return qa},ima:Ma,Zga:"zyx",mta:function(f){qa=f},wta:function(f){return f*Mb},wd:function(f,l){return Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l},wa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Rf:function(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B},set:function(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f},hX:function(f,l){if(f===l){var t=l[1];f[1]=l[2];f[2]=t}else f[0]=l[0],
f[1]=l[2],f[2]=l[1],f[3]=l[3];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t*l-B*x;if(!D)return null;D=1/D;f[0]=l*D;f[1]=-x*D;f[2]=-B*D;f[3]=t*D;return f},YV:function(f,l){var t=l[0];f[0]=l[3];f[1]=-l[1];f[2]=-l[2];f[3]=t;return f},pL:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=B*t+l*E;f[2]=x*-E+D*t;f[3]=B*-E+l*t;return f},scale:function(f,l,t){var x=l[1],B=l[2],D=l[3],
E=t[0];t=t[1];f[0]=l[0]*E;f[1]=x*E;f[2]=B*t;f[3]=D*t;return f},vD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;return f},tL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=l[1];return f},Dm:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},sL:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},uka:function(f,l,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,l,t]},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+
t[3];return f},Em:a,Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]},wd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var D=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},IL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f},JL:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},mo:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(6);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];return l},wa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Rf:function(f,
l,t,x,B,D){var E=new qa(6);E[0]=f;E[1]=l;E[2]=t;E[3]=x;E[4]=B;E[5]=D;return E},set:function(f,l,t,x,B,D,E){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4];l=l[5];var I=t*D-x*B;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*l-D*E)*I;f[5]=(x*E-t*l)*I;return f},pL:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=B*t+E*K;f[2]=x*-K+D*t;f[3]=B*-K+E*t;f[4]=I;f[5]=l;return f},scale:function(f,l,t){var x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=t[0];t=t[1];f[0]=l[0]*K;f[1]=x*K;f[2]=B*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=B*K+E*t+l;return f},vD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;f[4]=0;f[5]=0;return f},tL:function(f,l){f[0]=l[0];f[1]=
0;f[2]=0;f[3]=l[1];f[4]=0;f[5]=0;return f},uL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=l[0];f[5]=l[1];return f},Dm:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},sL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];return f},Em:c,IL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;return f},
JL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;return f},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]},wd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4];f=f[5];var I=l[0],K=l[1],N=l[2],Q=l[3],S=l[4];l=l[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},mo:d,sub:c}),Qb=Object.freeze({__proto__:null,create:h,vfa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[4];f[4]=l[5];f[5]=l[6];f[6]=l[8];f[7]=l[9];f[8]=l[10];return f},clone:function(f){var l=new qa(9);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=f[8];return l},wa:function(f,
l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},Rf:function(f,l,t,x,B,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=l;N[2]=t;N[3]=x;N[4]=B;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,l,t,x,B,D,E,I,K,N){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},hX:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[5];f[1]=l[3];f[2]=l[6];f[3]=t;f[5]=
l[7];f[6]=x;f[7]=B}else f[0]=l[0],f[1]=l[3],f[2]=l[6],f[3]=l[1],f[4]=l[4],f[5]=l[7],f[6]=l[2],f[7]=l[5],f[8]=l[8];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=l[8];var Q=l*E-I*N,S=-l*D+I*K,W=N*D-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-l*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(l*t-B*K)*V;f[5]=(-I*t+B*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},YV:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=
l[8];f[0]=E*l-I*N;f[1]=B*N-x*l;f[2]=x*I-B*E;f[3]=I*K-D*l;f[4]=t*l-B*K;f[5]=B*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},pL:function(f){var l=f[3],t=f[4],x=f[5],B=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*l+x*B)+f[2]*(D*l-t*B)},multiply:m,translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*D+t*K+l;return f},rotate:function(f,l,t){var x=l[0],B=
l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=l;return f},scale:function(f,l,t){var x=t[0];t=t[1];f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=t*l[3];f[4]=t*l[4];f[5]=t*l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},uL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=l[0];f[7]=l[1];f[8]=1;return f},vD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=
t;f[2]=0;f[3]=-t;f[4]=l;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},tL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=l[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Zqa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=0;f[3]=l[2];f[4]=l[3];f[5]=0;f[6]=l[4];f[7]=l[5];f[8]=1;return f},wfa:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t+t,E=x+x,I=B+B;t*=D;var K=x*D;x*=E;var N=B*D,Q=B*E;B*=I;D*=l;E*=l;l*=I;f[0]=1-x-B;f[3]=K-l;f[6]=N+E;f[1]=K+l;f[4]=1-t-B;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},lsa:function(f,
l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*l-V*ea;var Ca=S*ca-W*ia;S=S*l-V*ia;W=W*l-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-D*Ca)*V;f[4]=(t*W-B*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+l*sa)*V;f[7]=(ca*ra-
ea*za-l*la)*V;f[8]=(ea*pa-ia*ra+l*oa)*V;return f},OW:function(f,l,t){f[0]=2/l;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Dm:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},sL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];
return f},Em:g,IL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;return f},JL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;return f},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]},wd:function(f,l){var t=f[0],
x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=l[0],S=l[1],W=l[2],V=l[3],ea=l[4],ia=l[5],ca=l[6],oa=l[7];l=l[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},mo:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var l=new qa(16);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=
f[8];l[9]=f[9];l[10]=f[10];l[11]=f[11];l[12]=f[12];l[13]=f[13];l[14]=f[14];l[15]=f[15];return l},wa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];f[9]=l[9];f[10]=l[10];f[11]=l[11];f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=l[15];return f},Rf:function(f,l,t,x,B,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=l;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,l,t,x,B,D,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Cx:k,hX:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[3],D=l[6],E=l[7],I=l[11];f[1]=l[4];f[2]=l[8];f[3]=l[12];f[4]=t;f[6]=l[9];f[7]=l[13];f[8]=x;f[9]=D;f[11]=l[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=l[0],f[1]=l[4],f[2]=l[8],f[3]=l[12],f[4]=l[1],f[5]=l[5],f[6]=l[9],f[7]=l[13],f[8]=l[2],f[9]=l[6],f[10]=l[10],f[11]=l[14],
f[12]=l[3],f[13]=l[7],f[14]=l[11],f[15]=l[15];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+l*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-l*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+l*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},YV:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+l*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+D*Ba;f[6]=ca*ra-ea*za-l*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+l*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},pL:function(f){var l=f[0],t=f[1],x=f[2],
B=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=l*D-t*B,ea=l*E-x*B,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(l*la-t*oa+x*ca)-f[3]*(B*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,l,t){var x=t[0],B=t[1];t=t[2];if(l===f)f[12]=l[0]*x+l[4]*B+l[8]*t+l[12],f[13]=l[1]*x+l[5]*B+l[9]*t+l[13],f[14]=l[2]*x+l[6]*B+l[10]*t+l[14],f[15]=l[3]*x+l[7]*B+l[11]*t+l[15];else{var D=l[0];var E=l[1];var I=l[2];var K=l[3];var N=l[4];var Q=l[5];
var S=l[6];var W=l[7];var V=l[8];var ea=l[9];var ia=l[10];var ca=l[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*B+V*t+l[12];f[13]=E*x+Q*B+ea*t+l[13];f[14]=I*x+S*B+ia*t+l[14];f[15]=K*x+W*B+ca*t+l[15]}return f},scale:function(f,l,t){var x=t[0],B=t[1];t=t[2];f[0]=l[0]*x;f[1]=l[1]*x;f[2]=l[2]*x;f[3]=l[3]*x;f[4]=l[4]*B;f[5]=l[5]*B;f[6]=l[6]*B;f[7]=l[7]*B;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=
l[15];return f},rotate:function(f,l,t,x){var B=x[0],D=x[1];x=x[2];var E=Math.hypot(B,D,x);if(1E-6>E)return null;E=1/E;B*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=l[0];E=l[1];var Q=l[2];var S=l[3];var W=l[4];var V=l[5];var ea=l[6];var ia=l[7];var ca=l[8];var oa=l[9];var la=l[10];var ra=l[11];var sa=B*B*N+K;var pa=D*B*N+x*I;var za=x*B*N-D*I;var Aa=B*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+B*I;var Fa=B*x*N+D*I;B=D*x*N-B*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*D;f[9]=E*Fa+V*B+oa*D;f[10]=Q*Fa+ea*B+la*D;f[11]=S*Fa+ia*B+ra*D;l!==f&&(f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);return f},TL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[4],D=l[5],E=l[6],I=l[7],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[4]=B*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},UL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],D=l[1],E=l[2],I=l[3],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},VL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],D=l[1],E=l[2],I=l[3],K=l[4],
N=l[5],Q=l[6],S=l[7];l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},uL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=l[0];f[13]=l[1];f[14]=l[2];f[15]=1;return f},tL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=l[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},vD:function(f,l,t){var x=t[0],B=t[1];t=t[2];var D=Math.hypot(x,B,t);if(1E-6>D)return null;D=1/D;x*=D;B*=D;t*=D;D=Math.sin(l);l=Math.cos(l);var E=1-l;f[0]=x*x*E+l;f[1]=B*x*E+t*D;f[2]=t*x*E-B*D;f[3]=0;f[4]=x*B*E-t*D;f[5]=B*B*E+l;f[6]=t*B*E+x*D;f[7]=0;f[8]=x*t*E+B*D;f[9]=B*t*E-x*D;f[10]=t*t*E+l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},fra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},gra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},hra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},xfa:p,ara:function(f,l){var t=new qa(3),x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],
N=l[6],Q=l[7],S=x*x+B*B+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*B),t[1]=2*(K*E+Q*B+N*x-I*D),t[2]=2*(N*E+Q*D+I*B-K*x));p(f,l,t);return f},Afa:q,sra:u,rra:w,Mqa:function(f,l,t,x){l[0]=x[12];l[1]=x[13];l[2]=x[14];var B=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];l=x[9];x=x[10];t[0]=Math.hypot(B,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,l,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;l*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-l)/x,f[1]=(Q-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-l)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+l)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(Q+E)/x,f[1]=(N+l)/x,f[2]=.25*x);return f},bra:function(f,l,t,x){var B=l[0],D=l[1],E=l[2],I=l[3],K=B+B,N=D+D,Q=E+E;l=B*K;var S=B*N;B*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(l+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(D-K)*x;f[10]=(1-(l+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},cra:function(f,l,t,x,B){var D=l[0],E=l[1],I=l[2],K=l[3],N=D+D,Q=E+E,S=I+I;l=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(l+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;l=(1-(l+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=l;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+l*B);f[15]=1;return f},wfa:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t+t,E=x+x,I=B+B;t*=D;var K=x*D;x*=E;var N=B*D,Q=B*E;B*=I;D*=l;E*=l;l*=I;f[0]=1-x-B;f[1]=K+l;f[2]=N-E;f[3]=0;f[4]=K-l;f[5]=1-t-B;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},yfa:function(f,l,t,x,B,D,E){var I=1/(t-l),K=1/(B-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+l)*I;f[9]=(B+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},Bsa:r,perspective:r,Csa:function(f,l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},Asa:function(f,l,t,x){var B=Math.tan(l.Eta*Math.PI/180),D=Math.tan(l.Oqa*Math.PI/
180),E=Math.tan(l.Zra*Math.PI/180);l=Math.tan(l.Xsa*Math.PI/180);var I=2/(E+l),K=2/(B+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-l)*I*.5);f[9]=(B-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},ysa:v,jga:v,zsa:function(f,l,t,x,B,D,E){var I=1/(l-t),K=1/(x-B);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=D*E;f[15]=1;return f},Yfa:function(f,l,t,x){var B=
l[0],D=l[1];l=l[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(l-Q))return k(f);t=B-N;x=D-x;N=l-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*D+E*l);f[13]=
-(I*B+W*D+V*l);f[14]=-(t*B+x*D+N*l);f[15]=1;return f},sta:function(f,l,t,x){var B=l[0],D=l[1];l=l[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=D-t[1];t=l-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=D;f[14]=l;f[15]=1;return f},Dm:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},sL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];f[9]=l[9]+t[9];f[10]=l[10]+t[10];f[11]=l[11]+t[11];f[12]=l[12]+t[12];f[13]=l[13]+t[13];
f[14]=l[14]+t[14];f[15]=l[15]+t[15];return f},Em:y,IL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12]*t;f[13]=l[13]*t;f[14]=l[14]*t;f[15]=l[15]*t;return f},JL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;f[9]=l[9]+t[9]*x;f[10]=l[10]+t[10]*x;f[11]=
l[11]+t[11]*x;f[12]=l[12]+t[12]*x;f[13]=l[13]+t[13]*x;f[14]=l[14]+t[14]*x;f[15]=l[15]+t[15]*x;return f},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},wd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=l[0],
la=l[1],ra=l[2],sa=l[3],pa=l[4],za=l[5],Aa=l[6],Ba=l[7],Ca=l[8],Fa=l[9],Ja=l[10],Ka=l[11],Da=l[12],Hb=l[13],Ib=l[14];l=l[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},mo:n,sub:y}),rb=function(){var f=A();return function(l,t,x,B,D,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],D(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2];return l}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var l=new qa(3);l[0]=f[0];l[1]=f[1];l[2]=f[2];return l},length:G,Rf:z,wa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];return f},set:function(f,l,
t,x){f[0]=l;f[1]=t;f[2]=x;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];return f},Em:F,multiply:H,ym:J,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],
t[2]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f},WL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;return f},zx:M,bX:P,HD:R,IW:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];return f},normalize:T,ko:Z,oL:X,je:function(f,l,t,x){var B=l[0],D=l[1];l=l[2];f[0]=B+x*(t[0]-B);f[1]=D+x*(t[1]-
D);f[2]=l+x*(t[2]-l);return f},Cga:function(f,l,t,x){var B=Math.acos(Math.min(Math.max(Z(l,t),-1),1)),D=Math.sin(B),E=Math.sin((1-x)*B)/D;x=Math.sin(x*B)/D;f[0]=E*l[0]+x*t[0];f[1]=E*l[1]+x*t[1];f[2]=E*l[2]+x*t[2];return f},xra:function(f,l,t,x,B,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=l[0]*I+t[0]*K+x[0]*N+B[0]*D;f[1]=l[1]*I+t[1]*K+x[1]*N+B[1]*D;f[2]=l[2]*I+t[2]*K+x[2]*N+B[2]*D;return f},rqa:function(f,l,t,x,B,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=l[0]*N+
t[0]*I+x[0]*E+B[0]*D;f[1]=l[1]*N+t[1]*I+x[1]*E+B[1]*D;f[2]=l[2]*N+t[2]*I+x[2]*E+B[2]*D;return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*l;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*l;return f},dM:function(f,l,t){var x=l[0],B=l[1];l=l[2];var D=t[3]*x+t[7]*B+t[11]*l+t[15];D=D||1;f[0]=(t[0]*x+t[4]*B+t[8]*l+t[12])/D;f[1]=(t[1]*x+t[5]*B+t[9]*l+t[13])/D;f[2]=(t[2]*x+t[6]*B+t[10]*l+t[14])/D;return f},Oga:function(f,l,t){var x=l[0],B=l[1];l=l[2];f[0]=x*t[0]+B*t[3]+
l*t[6];f[1]=x*t[1]+B*t[4]+l*t[7];f[2]=x*t[2]+B*t[5]+l*t[8];return f},Pga:function(f,l,t){var x=t[0],B=t[1],D=t[2],E=l[0],I=l[1];l=l[2];var K=B*l-D*I,N=D*E-x*l,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-D*N);f[1]=I+N*t+2*(D*K-x*Q);f[2]=l+Q*t+2*(x*N-B*K);return f},TL:function(f,l,t,x){var B=[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[0];D[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);D[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},UL:function(f,l,t,x){var B=
[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);D[1]=B[1];D[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},VL:function(f,l,t,x){var B=[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);D[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);D[2]=B[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,l){var t=f[0],x=f[1],B=f[2],D=l[0],E=l[1],I=l[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(D*D+E*E+I*I)))&&Z(f,l)/t;return Math.acos(Math.min(Math.max(f,-1),1))},tX:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Dm:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]},wd:function(f,l){var t=f[0],x=f[1];f=f[2];var B=l[0],D=l[1];l=l[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:F,
mo:H,lW:J,jW:M,aX:P,kt:G,GD:R,forEach:rb});var sb=function(){var f=ba();return function(l,t,x,B,D,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],f[3]=l[x+3],D(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2],l[x+3]=f[3];return l}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Rf:va,wa:ta,set:ya,add:Na,Em:Sa,multiply:Ta,ym:Ua,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);f[3]=Math.ceil(l[3]);return f},floor:function(f,
l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);f[3]=Math.floor(l[3]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);f[3]=Math.min(l[3],t[3]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],t[2]);f[3]=Math.max(l[3],t[3]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);f[3]=Math.round(l[3]);return f},scale:Wa,WL:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},zx:eb,bX:fb,length:Pa,HD:Va,IW:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=-l[3];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];f[3]=1/l[3];return f},normalize:ib,ko:Ya,oL:function(f,l,t,x){var B=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=l[0];var N=l[1],Q=l[2];l=l[3];f[0]=N*t-Q*K+l*I;f[1]=-(x*t)+
Q*E-l*D;f[2]=x*K-N*E+l*B;f[3]=-(x*I)+N*D-Q*B;return f},je:vb,random:function(f,l){l=l||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=l*t;f[1]=l*x;f[2]=l*D*B;f[3]=l*E*B;return f},dM:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];f[0]=t[0]*x+t[4]*B+t[8]*D+t[12]*l;f[1]=t[1]*x+t[5]*B+t[9]*D+t[13]*l;f[2]=t[2]*x+t[6]*B+t[10]*D+t[14]*l;f[3]=t[3]*x+t[7]*B+t[11]*D+t[15]*l;return f},Pga:function(f,l,t){var x=
l[0],B=l[1],D=l[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*B,Q=t*B+K*x-E*D,S=t*D+E*B-I*x;x=-E*x-I*B-K*D;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=l[3];return f},tX:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Dm:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Gj:wb,wd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var D=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:Sa,mo:Ta,lW:Ua,jW:eb,aX:fb,kt:Pa,GD:Va,forEach:sb});var tb=function(){var f=A(),l=z(1,0,0),t=z(0,1,0);return function(x,B,D){var E=Z(B,D);if(-.999999>E)return X(f,l,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),l=
jb();return function(t,x,B,D,E,I){kb(f,x,E,I);kb(l,B,D,I);kb(t,f,l,2*I*(1-I));return t}}(),gb=function(){var f=h();return function(l,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(l,Eb(l,f))}}();tb=Object.freeze({__proto__:null,create:jb,Cx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},kta:xb,ora:function(f,l){var t=2*Math.acos(l[3]),x=Math.sin(t/2);1E-6<x?(f[0]=l[0]/x,f[1]=l[1]/x,f[2]=l[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},mra:function(f,
l){f=Ya(f,l);return Math.acos(2*f*f-1)},multiply:yb,TL:zb,UL:Ab,VL:Bb,tqa:function(f,l){var t=l[0],x=l[1];l=l[2];f[0]=t;f[1]=x;f[2]=l;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-l*l));return f},exp:Cb,Xfa:Db,pow:function(f,l,t){Db(f,l);Wa(f,f,t);Cb(f,f);return f},Cga:kb,random:function(f){var l=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-l);l=Math.sqrt(l);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=l*Math.sin(2*Math.PI*x);f[3]=l*Math.cos(2*Math.PI*x);return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2];
l=l[3];var D=t*t+x*x+B*B+l*l;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-B*D;f[3]=l*D;return f},hfa:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];return f},$qa:Eb,Yqa:function(f,l,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;l*=D;x*=D;t*=D;D=Math.sin(l);var E=Math.cos(l),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "xzy":f[0]=D*K*Q-E*I*N;f[1]=E*
I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yxz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yzx":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zxy":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zyx":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+B);}return f},Dm:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Rf:va,wa:ta,set:ya,add:Na,mo:yb,scale:Wa,ko:Ya,je:vb,length:Pa,kt:Pa,HD:Va,GD:Va,normalize:ib,Gj:wb,wd:function(f,l){return.999999<=Math.abs(Ya(f,l))},ata:tb,pta:ub,jta:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var l=new qa(8);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];return l},Rf:function(f,l,t,x,B,D,E,I){var K=
new qa(8);K[0]=f;K[1]=l;K[2]=t;K[3]=x;K[4]=B;K[5]=D;K[6]=E;K[7]=I;return K},dra:function(f,l,t,x,B,D,E){var I=new qa(8);I[0]=f;I[1]=l;I[2]=t;I[3]=x;B*=.5;D*=.5;E*=.5;I[4]=B*x+D*t-E*l;I[5]=D*x+E*f-B*t;I[6]=E*x+B*l-D*f;I[7]=-B*f-D*l-E*t;return I},xfa:Fb,uL:function(f,l){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*l[0];f[5]=.5*l[1];f[6]=.5*l[2];f[7]=0;return f},vD:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},vfa:function(f,l){var t=jb();w(t,l);var x=new qa(3);q(x,
l);Fb(f,t,x);return f},wa:Gb,Cx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,l,t,x,B,D,E,I,K){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},qra:ta,pra:function(f,l){f[0]=l[4];f[1]=l[5];f[2]=l[6];f[3]=l[7];return f},nta:ta,lta:function(f,l){f[4]=l[0];f[5]=l[1];f[6]=l[2];f[7]=l[3];return f},Afa:function(f,l){var t=l[4],x=l[5],B=l[6],D=l[7],E=-l[0],I=-l[1],K=-l[2];l=l[3];f[0]=2*(t*l+D*E+x*K-B*I);f[1]=2*(x*l+D*I+B*E-t*K);f[2]=2*(B*l+
D*K+t*I-x*E);return f},translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=l[4],Q=l[5],S=l[6];l=l[7];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=E*I+B*t-D*K+N;f[5]=E*K+D*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-D*t+l;return f},TL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;zb(f,l,t);x=f[0];B=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+
I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},UL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;Ab(f,l,t);x=f[0];B=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},VL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;Bb(f,l,t);x=f[0];B=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},Zsa:function(f,l,t){var x=t[0],B=t[1],D=t[2];t=t[3];var E=l[0],I=l[1],K=l[2],N=l[3];f[0]=E*t+N*x+I*D-K*B;f[1]=I*t+N*B+K*x-E*D;f[2]=K*t+N*D+E*B-I*x;f[3]=N*t-E*x-I*B-K*D;E=l[4];I=l[5];K=l[6];N=l[7];f[4]=E*t+N*x+I*D-K*B;f[5]=I*t+N*B+K*x-E*D;f[6]=K*t+N*D+E*B-I*x;f[7]=N*t-E*x-I*B-K*D;return f},$sa:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+l*E+B*
K-D*I;f[1]=B*N+l*I+D*E-x*K;f[2]=D*N+l*K+x*I-B*E;f[3]=l*N-x*E-B*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+l*E+B*K-D*I;f[5]=B*N+l*I+D*E-x*K;f[6]=D*N+l*K+x*I-B*E;f[7]=l*N-x*E-B*I-D*K;return f},Ysa:function(f,l,t,x){if(1E-6>Math.abs(x))return Gb(f,l);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/B,I=D*t[1]/B;t=D*t[2]/B;x=Math.cos(x);B=l[0];D=l[1];var K=l[2],N=l[3];f[0]=B*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-D*E;f[3]=N*x-B*E-D*I-K*t;B=l[4];D=l[5];K=l[6];l=l[7];f[4]=
B*x+l*E+D*t-K*I;f[5]=D*x+l*I+K*E-B*t;f[6]=K*x+l*t+B*I-D*E;f[7]=l*x-B*E-D*I-K*t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];return f},multiply:lb,mo:lb,scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;return f},ko:Ya,je:function(f,l,t,x){var B=1-x;0>Ya(l,t)&&(x=-x);f[0]=l[0]*B+t[0]*x;f[1]=l[1]*B+t[1]*x;f[2]=l[2]*B+t[2]*x;f[3]=
l[3]*B+t[3]*x;f[4]=l[4]*B+t[4]*x;f[5]=l[5]*B+t[5]*x;f[6]=l[6]*B+t[6]*x;f[7]=l[7]*B+t[7]*x;return f},ht:function(f,l){var t=Va(l);f[0]=-l[0]/t;f[1]=-l[1]/t;f[2]=-l[2]/t;f[3]=l[3]/t;f[4]=-l[4]/t;f[5]=-l[5]/t;f[6]=-l[6]/t;f[7]=l[7]/t;return f},hfa:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];f[4]=-l[4];f[5]=-l[5];f[6]=-l[6];f[7]=l[7];return f},length:Pa,kt:Pa,HD:Va,GD:Va,normalize:function(f,l){var t=Va(l);if(0<t){t=Math.sqrt(t);var x=l[0]/t,B=l[1]/t,D=l[2]/t,E=l[3]/t,I=l[4],K=l[5],N=l[6];
l=l[7];var Q=x*I+B*K+D*N+E*l;f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-D*Q)/t;f[7]=(l-E*Q)/t}return f},Dm:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]},wd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=l[0],Q=l[1],S=l[2],W=l[3],V=l[4],ea=l[5],ia=l[6];l=l[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}});gb=function(){var f=Xa();return function(l,
t,x,B,D,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],D(f,f,E),l[x]=f[0],l[x+1]=f[1];return l}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var l=new qa(2);l[0]=f[0];l[1]=f[1];return l},Rf:function(f,l){var t=new qa(2);t[0]=f;t[1]=l;return t},wa:function(f,l){f[0]=l[0];f[1]=l[1];return f},set:function(f,l,t){f[0]=l;f[1]=t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];return f},Em:mb,multiply:nb,ym:Za,ceil:function(f,
l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;return f},WL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;return f},zx:ob,bX:Qa,length:pb,
HD:qb,IW:function(f,l){f[0]=-l[0];f[1]=-l[1];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];return f},normalize:function(f,l){var t=l[0],x=l[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;return f},ko:function(f,l){return f[0]*l[0]+f[1]*l[1]},oL:function(f,l,t){l=l[0]*t[1]-l[1]*t[0];f[0]=f[1]=0;f[2]=l;return f},je:function(f,l,t,x){var B=l[0];l=l[1];f[0]=B+x*(t[0]-B);f[1]=l+x*(t[1]-l);return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*l;f[1]=Math.sin(t)*
l;return f},Ata:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l;f[1]=t[1]*x+t[3]*l;return f},Bta:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l+t[4];f[1]=t[1]*x+t[3]*l+t[5];return f},Oga:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[3]*l+t[6];f[1]=t[1]*x+t[4]*l+t[7];return f},dM:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[4]*l+t[12];f[1]=t[1]*x+t[5]*l+t[13];return f},rotate:function(f,l,t,x){var B=l[0]-t[0];l=l[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=B*x-l*D+t[0];f[1]=B*D+l*
x+t[1];return f},angle:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];var B=Math.sqrt((t*t+f*f)*(x*x+l*l));return Math.acos(Math.min(Math.max(B&&(t*x+f*l)/B,-1),1))},tX:function(f){f[0]=0;f[1]=0;return f},Dm:function(f){return"vec2("+f[0]+", "+f[1]+")"},Gj:function(f,l){return f[0]===l[0]&&f[1]===l[1]},wd:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},kt:pb,sub:mb,mo:nb,lW:Za,
jW:ob,aX:Qa,GD:qb,forEach:gb});e.Hj=Nb;e.csa=Ob;e.dsa=Pb;e.esa=Qb;e.Am=Rb;e.Isa=tb;e.Jsa=ub;e.Jta=gb;e.LD=rb;e.Qx=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.hqa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Hj={}));
{"use strict";function e(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function b(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function a(r,v,y){return 0<b(r,v,y)}function d(r,v,y){return 0<=b(r,v,y)}function c(r,v,y){return 0>=b(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function k(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>b(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(k(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(k(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(a(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>b(ya,Na,M)&&(ya=h(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}a(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),a(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(d(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Fsa={Lqa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Ksa:w,Era:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(e(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(e(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},Qsa:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===b(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},Rsa:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},bsa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(a(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const e=self.C=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Ex=!1;e.DL=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.wh={}}
{"use strict";const e=self.C;e.RO=class{constructor(b){this.zea=b;this.Pa=new Map;this.Faa()}Faa(){var b=this.zea;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Gaa(a)}Gaa(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Pa.set(d,b)}else this.Pa.set(b,null)}az(b){return this.Pa.has(b)}ga(b){b=this.Pa.get(b);return"undefined"===typeof b?null:b}};e.SO=new e.RO(location.search);
e.Ika=new e.RO(location.hash);e.SO.ga("mode")}
{"use strict";const e=self.C,b=navigator.userAgent;let a={Wfa:/linux|openbsd|freebsd|netbsd/i.test(b),efa:/CrOS/.test(b),MD:/trident|iemobile|msie|tizen/i.test(b),lra:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),cW:/bb10/i.test(b),sfa:/edge\//i.test(b),jX:/trident/i.test(b),webkit:/webkit/i.test(b),vga:/safari\//i.test(b),dfa:/chrome\//i.test(b),ffa:/chromium\//i.test(b),ifa:/crosswalk|xwalk/i.test(b),qsa:/nwjs/i.test(b),Tea:/amazonwebappplatform/i.test(b),Vga:/wv\)/.test(b),Uea:/android/i.test(b),
fga:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",k="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",a.Wfa,()=>{d="Linux"});u("isChromeOS",a.efa,()=>{d="Chrome OS"});u("isAndroid",!a.MD&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!a.MD&&Ub,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!a.MD&&Vb,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",a.cW,()=>{d="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!a.sfa&&!a.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&a.jX,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(b);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",a.vga&&!a.fga&&!a.dfa&&!a.ffa&&!a.kra&&!a.cW,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(b),v=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",a.ifa,()=>k="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");u("isNWJS",$b,r=>{k="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",a.Tea,()=>k="webapp");
u("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");u("isFalseSafari","Safari"===h&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===k&&a.Vga,()=>k="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!a.MD&&a.Uea,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&a.jX,()=>g="Trident");u("isWebkitFallback","(unknown)"===d&&a.webkit,()=>g="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===k,()=>n=!0);p="nwjs"===k;const w="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(d="iOS",c=m,p=n=!1);e.ld={Wq:d,ela:c,Yx:h,aia:m,YD:parseFloat(m),Zx:g,dE:k,Sja:n,qF:!n,Tja:p,Oja:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Lja:"Mac OS X"===d||"iOS"===d,Yja:w,bka:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await k(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(w),g(w,r,v,!1);throw G;}}function k(w){p(w);let r=e.get(w);r instanceof Promise||(r=n(w),e.set(w,r),r.catch(()=>e.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return d(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await k(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=d(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=d(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=d(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=d(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAll();r=d(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.F2=u}"use strict";
{const e=self.F2,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function h(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(k){return"object"===typeof k?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(k)}):Promise.resolve(k)}class g{constructor(k){this.ja=k;a.set(this,new Map)}cv(k){if(!d)for(const n of b)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);d=!0;break}}async MT(k){k=
a.get(this).get(k);k=await m(k);return"undefined"===typeof k?null:k}async mV(k,n){n=await m(n);a.get(this).set(k,n)}hV(k){a.get(this).delete(k)}mT(){a.get(this).clear()}sU(){return Array.from(a.get(this).keys())}async getItem(k,n){h(n);if(d)return await this.MT(k);let p;try{p=await this.ja.get(k)}catch(q){this.cv(q);if(d)return await this.MT(k);console.error(`Error reading '${k}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(k,n,p){h(p);"undefined"===
typeof n&&(n=null);if(d)await this.mV(k,n);else try{await this.ja.set(k,n)}catch(q){if(this.cv(q),d)await this.mV(k,n);else throw q;}}async removeItem(k,n){h(n);if(d)this.hV(k);else try{await this.ja.delete(k)}catch(p){this.cv(p),d?this.hV(k):console.error(`Error removing '${k}' from storage: `,p)}}async clear(k){h(k);if(d)this.mT();else try{await this.ja.clear()}catch(n){this.cv(n),d?this.mT():console.error("Error clearing storage: ",n)}}async keys(k){h(k);if(d)return this.sU();k=[];try{k=await this.ja.keys()}catch(n){this.cv(n);
if(d)return this.sU();console.error("Error getting storage keys: ",n)}return k}ready(k){h(k);return d?Promise.resolve(!0):this.ja.ready()}nL(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new e(k);return new g(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new e("localforage"))}
{"use strict";const e=self.C;e.mc={};e.mc.Opa=(()=>{try{if("Safari"===e.ld.Yx||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.mc.Sia="undefined"!==typeof HTMLDialogElement;e.mc.rma=!!self.requestIdleCallback;e.mc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.ld.Yx;e.mc.ImageBitmapOptions=!1;if(e.mc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(b=>{e.mc.ImageBitmapOptions=10===b.width&&10===b.height?!0:!1}).catch(()=>{e.mc.ImageBitmapOptions=!1})}catch(b){e.mc.ImageBitmapOptions=!1}e.mc.nia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.ld.Yx);e.mc.Ala=!(!navigator.permissions||!navigator.permissions.query);e.mc.QO="undefined"!==typeof Proxy;e.mc.Tia="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.mc.ay="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.mc.eja="function"===typeof fetch;e.mc.Cla=!!(self.isSecureContext&&"Opera"!==e.ld.Yx&&navigator.storage&&navigator.storage.persist);e.mc.Yoa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.ld.Wq)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.mc.lja=fc;e.mc.Aja=
"undefined"!==typeof self.ImageDecoder;e.mc.Xka=!!self.showOpenFilePicker;e.mc.Yka=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.C;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.Bt(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,h)=>{0<d&&Array.isArray(h)?Array.prototype.push.apply(c,b(h,d-1)):c.push(h);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.ie||(Array.prototype.ie=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.ie||(String.prototype.ie=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.C;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.Ay())}}
{"use strict";const e=self.C,b=self.wh;e.Vm=function(d){return"number"===typeof d};e.Rm=function(d){return e.Vm(d)&&isFinite(d)};e.eg=function(d){if(!e.Vm(d))throw new TypeError("expected number");};e.aP=function(){};e.Nma=function(d,c,h){if(!e.Vm(d)||isNaN(d)||c>d||h<d)throw new RangeError("number outside of range");};e.zma=function(...d){for(let c of d);};e.ik=function(d){if(!e.Rm(d))throw new TypeError("expected finite number");};e.YO=function(){};e.wma=function(...d){for(let c of d);};e.Pi=function(d){return"string"===
typeof d};e.Nd=function(d){if(!e.Pi(d))throw new TypeError("expected string");};e.cP=function(){};e.Bma=function(...d){for(let c of d);};e.gO=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.$ma=function(d){if(!e.gO(d))throw new TypeError("expected simple object");};e.Xma=function(d){if(!e.ne(d)&&!e.gO(d))throw new TypeError("expected simple object");};e.fO=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.WO=function(d){if(!e.fO(d))throw new TypeError("expected object");
};e.bP=function(){};e.Ama=function(...d){for(let c of d);};e.hF=function(d){return e.Sm(d,Blob)&&"string"===typeof d.name};e.Lma=function(d){if(!e.hF(d))throw new TypeError("expected file");};e.Vma=function(){};e.Io=function(d){return Array.isArray(d)};e.FF=function(d){if(!e.Io(d))throw new TypeError("expected array");};e.XO=function(){};e.vma=function(...d){for(let c of d);};e.g2=function(d){return e.Io(d)?d.length?e.Io(d[0])?!0:!1:!0:!1};e.uma=function(d){if(!e.g2(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.Io(c))throw new TypeError("expected 2d array");};e.Oma=function(){};e.iF=function(d){return"function"===typeof d};e.jk=function(d,c){if(!e.iF(d))throw new TypeError("expected function");if(!e.ne(c)&&d!==c)throw new TypeError("expected same function reference");};e.ZO=function(){};e.xma=function(...d){for(let c of d);};e.Dma=function(d,...c){if(!e.iF(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!e.ne(h)&&
d===h)return;throw new TypeError("expected same function reference");};e.Pma=function(...d){if(!e.ne(d))for(let c of d);};e.Sm=function(d,c){return d instanceof c};e.dO=function(d,...c){for(let h of c)if(e.Sm(d,h))return!0;return!1};e.GF=function(d,c){if(!e.Sm(d,c))throw new TypeError("unexpected type");};e.$O=function(){};e.yma=function(d,...c){for(let h of c);};e.Ema=function(d,...c){if(!e.dO(d,...c))throw new TypeError("unexpected type");};e.Fma=function(d,...c){if(!e.ne(d)&&!e.dO(d,...c))throw new TypeError("unexpected type");
};e.Mja=function(d,c){for(let h of d)if(!e.Sm(h,c))return!1;return!0};e.Nja=function(d){for(let c of d)if(!e.Rm(c))return!1;return!0};e.Gma=function(d){for(let c of d);};e.Qma=function(d){if(!e.ne(d))for(let c of d);};e.Hma=function(d){for(let c of d);};e.Rma=function(d){if(!e.ne(d))for(let c of d);};e.Pja=function(d,c){return e.ne(d)||!e.Pi(d.nodeName)?!1:!c||e.th(d.nodeName,c)};e.Ima=function(d,c){if(e.ne(d)||!e.Pi(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.th(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.Sma=function(){};e.kF=function(d,c){return e.ne(d)||!e.Pi(d.tagName)?!1:!c||e.th(d.tagName,c)};e.Mma=function(d,c){if(e.ne(d)||!e.Pi(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.th(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.Wma=function(){};e.YN=function(d){return e.kF(d,"img")||e.kF(d,"canvas")||e.kF(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.Jma=function(d){if(!e.YN(d))throw new TypeError("expected drawable");
};e.Tma=function(){};e.ZN=function(d){return d instanceof ImageData?!0:e.YN(d)};e.Kma=function(d){if(!e.ZN(d))throw new TypeError("expected drawable or image data");};e.Uma=function(d){if(!e.ne(d)&&!e.ZN(d))throw new TypeError("expected drawable or image data");};e.z2=function(d){return"string"===typeof d||d instanceof e.ZE||d instanceof e.Gm};e.ana=function(d){if(!e.z2(d))throw new TypeError("expected string-like");};e.Yma=function(){};e.Cma=function(...d){for(let c of d);};e.Zma=function(){throw Error("must be overridden");
};e.ala=function(){throw Error("not yet implemented");};e.Rja=function(d,...c){if("undefined"===typeof d)return!1;for(let h of c){if("undefined"===typeof d[h])return!1;d=d[h]}return!0};e.ne=function(d){return"undefined"===typeof d||null===d};e.Tha=function(d){let c=d[0].constructor;for(let h of d)if(h.constructor!==c)return!1;return c};e.Uha=function(d,c){for(let h of d)if(!(h instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.ska=function(d){return e.Sm(d,a)};e.bna=function(){};
e.Npa=function(d){e.W6(d,a)};e.Mpa=function(d,...c){if(!e.V6(d,...c))throw new TypeError("unexpected type");};e.V6=function(d,...c){for(const h of c)if(e.jQ(d,h))return!0;return!1};e.W6=function(d,c){if(!e.jQ(d,c))throw new TypeError("unexpected type");};e.jQ=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.eg=e.eg;b.aP=e.aP;b.ik=e.ik;b.YO=e.YO;b.Nd=e.Nd;b.cP=e.cP;b.WO=e.WO;b.bP=e.bP;b.FF=e.FF;b.XO=e.XO;b.jk=e.jk;b.ZO=e.ZO;b.GF=e.GF;b.$O=e.$O;b.ne=
e.ne}
{"use strict";const e=self.C,b=new Map;e.jma=function(u,...w){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);b.set(u,-1)}))};let a;e.Toa=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,bW:0,hL:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.bW.toPrecision(3)} :: calls => ${this.hL}`}})};e.Xia=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=w.duration;u.total+=u.current;u.bW=u.total/u.hL;u.hL++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Ay=function(){return Error().stack};e.Ria=function(){debugger};e.zqa=function(u,w){return u&&u instanceof w?u:null};e.Yk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.Vm(u)?"<number>":e.Pi(u)?"<string>":e.Io(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.iF(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.xD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let d=new Map,c=new Map,h=new WeakMap,m=new WeakMap;e.Bq={};const g=new Set(["then","splice"]);function k(u){console.warn("[Defence] "+
u+" @",e.Ay())}e.Bq.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||k(`Accessed missing property '${w}' from defended object '${e.Yk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&k(`Accessed property '${w}' on a released object '${e.Yk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};e.Bq.set=function(u,w,r){w in u||d.has(u)||k(`Set non-existent property '${w}' to '${r}' on defended object '${e.Yk(u)}'`);{var v=e.xD(u[w]);
let y=e.xD(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||d.has(u)||k(`Set '${e.xD(u[w])}' property '${w}' to type '${e.xD(r)}' on defended object '${e.Yk(u)}'`);m.has(u)&&k(`Set property '${w}' on a released object '${e.Yk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};e.Bq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${e.Yk(u)}'`);};e.Bq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${e.Yk(u)}'`);};e.Bq.Qqa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.Yk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(w=>e.Yk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.la=class{constructor(){if(e.DL&&e.mc.QO){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,e.Bq);d.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};e.kfa=function(u){if(e.DL&&e.mc.QO&&u instanceof e.la){if(!c.has(u))return u;let w=c.get(u);c.delete(u);d.delete(w);return u}return e.Ex?Object.seal(u):u};e.B=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),d.clear(),A;}if(e.DL){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);e.vm(v,[...y]);v.length&&console.warn(`[Defence] '${e.Yk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return e.kfa(r)};e.A=function(u){(u=h.get(u))&&m.set(u,e.Ay())};e.Pz=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;e.yla=class{constructor(u){this.La="";u&&this.start(u)}start(u){this.La=u;performance.mark(this.La+"-Start")}end(){performance.mark(this.La+"-End");performance.measure(this.La,
this.La+"-Start",this.La+"-End")}next(u){this.end();this.La=u;performance.mark(this.La+"-Start")}}}
{"use strict";const e=self.C,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};e.$fa=function(h,m,g,k){return(h-m)*(k-0)/(g-m)};e.normalize=function(h,m,g){return(h-m)/(g-m)};e.ba=function(h,m,g){return h<m?m:h>g?g:h};e.Md=function(h){h%=b;0>h&&(h+=b);return h};e.Za=function(h){return h*a};e.Bg=function(h){return h*d};e.xm=function(h,m,g,k){return Math.hypot(g-h,k-m)};e.kW=function(h,
m,g,k){h=g-h;m=k-m;return h*h+m*m};e.dt=function(h,m,g,k){return Math.atan2(k-m,g-h)};e.ct=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};e.fL=function(h,m,g){let k=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(k*p+n*q)>g?0<n*p-k*q?e.Md(h+g):e.Md(h-g):e.Md(m)};e.Nf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};e.eL=function(h,m,g,k=0){let n=e.ct(h,m);k*=b;return e.Nf(m,
h)?e.Md(h+(n+k)*g):e.Md(h-(n+k)*g)};e.Wea=function(h,m,g,k=0){const n=e.ct(h,m);k*=b;return e.Nf(m,h)?e.Md(h+(n+k)*g):e.Md((b-n+k)*g)};e.Vea=function(h,m,g,k=0){const n=e.ct(h,m);k*=b;return e.Nf(m,h)?e.Md((-b+n-k)*g):e.Md(h-(n+k)*g)};e.je=function(h,m,g){return h+g*(m-h)};e.JD=function(h,m,g){return h===m?0:(g-h)/(m-h)};e.qga=function(h,m,g,k){return e.je(0,k,e.JD(h,m,g))};e.DD=function(h,m,g,k){return e.je(e.je(h,m,k),e.je(m,g,k),k)};e.iW=function(h,m,g,k,n){return e.je(e.DD(h,m,g,n),e.DD(m,g,k,
n),n)};e.hW=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};e.Zk=function(h){return 0<h&&0===(h-1&h)};e.JW=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};e.bta=function(h,m){return Math.round(h*m)/m};e.Wqa=function(h,m){return Math.floor(h*m)/m};e.UW=function(h){return Math.round(1E6*h)/1E6};e.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};e.V3=function(h,m,g){return e.ba(h,0,255)|e.ba(m,
0,255)<<8|e.ba(g,0,255)<<16};e.sz=function(h,m,g,k){h=e.ba(Math.floor(1024*h),-8192,8191);m=e.ba(Math.floor(1024*m),-8192,8191);g=e.ba(Math.floor(1024*g),-8192,8191);k=e.ba(Math.floor(1023*k),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+k)};e.LO=function(h,m,g){return e.sz(h,m,g,1)};e.OE=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};e.HE=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};e.uE=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};e.B_=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};e.Dfa=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.nra=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let k=
h/g[0]*g[1];if(1>Math.abs(m-k))return g.slice(0);k=h/g[1]*g[0];if(1>Math.abs(m-k))return[g[1],g[0]]}g=e.Dfa(h,m);return[h/g,m/g]};e.ita=function(h,m,g,k,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,k);r=Math.max(p,u);if(Math.max(m,k)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-k;h=g-h;m=k-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};e.Bm=function(h,m,g,k,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-k;h=g-h;m=k-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};e.ED=function(h,m,g,k,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k),r=n.Gb,v=n.Hb,y=n.wc,A=n.xc,G=n.qc,z=n.rc,F=n.oc;n=n.pc;return e.Bm(h,m,g,k,p,q,u,w,r,v,y,A)||e.Bm(h,m,g,k,p,q,u,w,y,A,G,z)||e.Bm(h,m,g,k,p,q,u,w,G,z,F,n)||e.Bm(h,m,g,k,p,q,u,w,F,n,r,v)};e.hta=function(h,m,g,k,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k);let r=0;for(let v=n.length-4;r<=v;r+=2)if(e.Bm(h,m,g,k,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.Bm(h,m,g,k,p,q,u,w,n[r],n[r+1],n[0],n[1])};e.pga=function(h,m,g,k,n,p,q,u){g-=h;p=u-p;const w=g*p-(k-m)*(q-n);if(0===w)return 2;k=((m-k)*(q-h)+g*(u-m))/w;return 0<k&&1.000001>k?(p*(q-h)+(n-q)*(u-m))/w:2};e.Mx=function(h,m,g,k,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return e.pga(h,m,g,k,n-r,p-w,q+r,u+w)};e.Pfa=function(h,m,g,k,n,p,q,u){n-=
g;p-=k;q-=g;u-=k;h-=g;g=m-k;m=n*n+p*p;k=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-k*k);p=(p*n-k*q)*u;n=(m*q-k*n)*u;return 0<=p&&0<=n&&1>=p+n};e.Sga=function(h,m,g,k,n,p,q,u){n-=g;p-=k;q-=g;u-=k;h-=g;const w=m-k;m=n*n+p*p;k=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-k*k;u=(g*n-k*p)/q;n=(m*p-k*n)/q;return[1-u-n,u,n]};e.Rga=function(h,m,g,k,n,p,q,u,w){return[h*k+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const e=self.C;let b=null,a="";if("undefined"!==typeof document){b=document;const k=document.querySelector("base");if(a=k&&k.hasAttribute("href")?k.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.nja=function(){return a};e.vE=function(){if(!b)return"";const k=b.location;return e.D0(k.origin+k.pathname)+a};e.D0=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};e.qja=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};e.a0=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};e.Fy=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};e.g3=function(k){return k.replace(/\\/g,"/")};e.Uja=function(k,n){return n===(k?e.a0(k).slice(1):"")};e.fja=function(k,n){let p,q;e.hF(k)&&(p=e.Fy(k.name));e.Pi(k)&&(p=
e.Fy(k));e.hF(n)&&(q=e.Fy(n.name));e.Pi(n)&&(q=e.Fy(n));return p===q};e.xla=function(k){k=e.g3(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var p=k.lastIndexOf("/")+1;let q="",u=k,w="";0<p&&(q=k.slice(0,p),u=k.slice(p));k=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),k=u.slice(0,-w.length));return{dir:q,nqa:u,name:k,root:n,ext:w,ira:n+q+u}};e.oG=function(k,n){return new Promise(p=>{self.setTimeout(p,
k,n)})};e.rta=function(k){try{k()}catch(n){e.Ex&&console.warn("Swallowed exception: ",n)}};e.ksa=function(){};e.th=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};e.Rqa=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};e.Tga=function(k,n){var p=0;k[p++]=n[0];k[p++]=n[1];k[p++]=n[2];k[p++]=n[3];k[p++]=n[4];k[p++]=n[5];k[p++]=n[6];k[p++]=n[7];k[p++]=n[8];k[p++]=n[9];
k[p++]=n[10];k[p++]=n[11];k[p++]=n[12];k[p++]=n[13];k[p++]=n[14];k[p]=n[15]};e.hf=function(k,n){k.length=n};e.F=function(k){k&&0!==k.length&&e.hf(k,0)};e.gfa=function(k){if(k){for(let n=0;n<k.length;n++)e.hf(k[n],0);e.hf(k,0)}};e.tD=function(k,n,p){n|=0;var q=k.length;if(!(n<=q))for(;q<n;++q)k.push(p)};e.TW=function(k){var n=4;const p=k.length;n<p?e.hf(k,n):n>p&&e.tD(k,n,"0")};e.Sc=function(k,n){e.F(k);e.vm(k,n)};e.vm=function(k,n){if(1E4>n.length)k.push(...n);else for(let p=0,q=n.length;p<q;++p)k.push(n[p])};
e.Zea=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var p=k.length-1;n<p;++n)k[n]=k[n+1];e.hf(k,p)}};e.Xk=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};e.mqa=function(k,n){let p=k.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(k[q]!==n[q])return!1;return!0};e.Yea=function(k,n){let p=[],q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n(r)?p.push(r):(k[q]=r,++q)}e.hf(k,q);return p};e.zg=function(k,n){const p=k.length;let q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n.has(r)||
(k[q++]=r)}e.hf(k,q);return p-q};e.Lfa=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};e.Ita=function(k,n){if(!e.Lfa(k,n))throw new RangeError("array index out of bounds");};e.mL=function(k){return k.slice()};e.lfa=function(k,n){let p=[];for(let q of k)if(e.fO(q)){k=n(q);if(!k)throw Error("missing clone");if(k.constructor!==q.constructor)throw Error("object is not a clone");p.push(k)}else e.Io(q)?p.push(e.lfa(q,n)):p.push(q);return p};e.Aqa=function(k){let n=[];for(let p of k)n.push(p.slice());
return n};e.fsa=function(k,n){return new Set([...k,...n])};e.gsa=function(k,n){for(const p of n)k.add(p);return k};e.first=function(k){for(let n of k)return n;return null};e.xor=function(k,n){return!k!==!n};e.compare=function(k,n,p){switch(n){case 0:return k===p;case 1:return k!==p;case 2:return k<p;case 3:return k<=p;case 4:return k>p;case 5:return k>=p;default:return!1}};e.wra=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};e.n4=function(k,n){return k.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=k.length;v<y;++v)u.push(void 0),k[v].then(A=>{r||(u[v]=A,++w,w===k.length?p(u):n(w,k.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let d=[];e.yha=function(k){d.push(k)};e.pja=function(){let k=0;for(let n of d){let p=n();k+=p}return Math.floor(k)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(k){k=k.data;const n=h.get(k);h.delete(k);n&&n(performance.now())};e.EF=function(k){const n=c++;h.set(n,k);m.port1.postMessage(n);
return n};e.qY=function(k){h.delete(k)};e.i4=e.EF;e.T6=function(){return new Promise(k=>e.i4(k))};const g=new Set;e.tma=function(k){const n=self.requestAnimationFrame(async p=>{await e.T6();g.has(n)&&(g.delete(n),k(p))});g.add(n);return n};e.jia=function(k){g.has(k)&&(self.cancelAnimationFrame(k),g.delete(k))}}
{"use strict";const e=self.C;e.dF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.rF=function(b){return!e.dF(b)};e.y6=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.xy=function(b){return fetch(b,void 0).then(a=>{e.y6(a);return a})};e.Dt=function(b){return e.xy(b).then(a=>a.text())};e.WM=function(b){return e.xy(b).then(a=>a.json())};e.cl=function(b){return e.xy(b).then(a=>a.blob())};e.Ct=function(b){return e.xy(b).then(a=>
a.arrayBuffer())};e.s_=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=h=>d(h);c.src=b})};e.eY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.mM=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.Zha=function(b){return e.mM(b).then(a=>
JSON.parse(a))};e.fY=async function(b){b=URL.createObjectURL(b);try{const a=await e.s_(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};e.yh=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.ay=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ba(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.$k(()=>e.tM(b,a,d))};e.tM=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ba(d,0,1);return e.VY(b.toDataURL(a,d))};e.VY=function(b){b=e.W3(b);return e.dY(b.data,b.aga)};e.W3=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{aga:b,data:d}};e.dY=function(b,a){var d=b.length;let c=d>>2,h=new Uint8Array(d),m=new Uint32Array(h.buffer,0,c),g,k;for(k=g=0;g<c;++g)m[g]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;for(d&=3;d--;)h[k]=b.charCodeAt(k),++k;return a?new Blob([h],{type:a}):new Blob([h])};e.PM=function(b,a,d){const c=e.yh(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return e.ay(c,a,d)};e.zja=function(b,
a,d){const c=e.yh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.tM(c,a,d)};e.yja=function(b,a,d){if(e.mc.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>e.PM(c,a,d));if(e.mc.ImageBitmap)return createImageBitmap(b).then(c=>e.PM(c,a,d));{const c=e.yh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.ay(c,a,d)}};e.LY=function(b,a){b.clear();for(const d of a)b.add(d)};e.Mka=function(b){const a=Object.create(null);for(const [d,c]of b.entries())a[d]=
c;return a};e.fla=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.lG=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(a))c[h]=d(m);return c}}return a};e.rE=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(h=>c(h)));if("map"===
d._c3type_)return new Map(d.data.map(h=>[h[0],c(h[1])]));{const h=Object.create(null);for(const [m,g]of Object.entries(d))h[m]=c(g);return h}}return d};e.jY=function(d){let c="",h=!1;for(const m of d)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};e.Um=function(d){return"object"===typeof d&&"function"===typeof d.next};e.W2=function(d){const c=[];for(let h=0;h<d;++h)c.push(0);return c}}
{"use strict";const e=self.C;e.ib=class{constructor(b,a,d,c){this.bb=this.cb=this.eb=this.ab=0;b instanceof e.ib?this.set(b):this.oo(b||0,a||0,d||0,c||0)}pt(b,a,d){this.ab=+b;this.eb=+a;this.cb=+d;this.ba()}oo(b,a,d,c){this.ab=+b;this.eb=+a;this.cb=+d;this.bb=+c;this.ba()}set(b){this.ab=b.ab;this.eb=b.eb;this.cb=b.cb;this.bb=b.bb;return this}wa(b){return this.set(b)}add(b){this.ab+=b.ab;this.eb+=b.eb;this.cb+=b.cb;this.bb+=b.bb;this.ba()}XV(b,a,d){this.ab+=+b;this.eb+=+a;this.cb+=+d;this.bb+=0;this.ba()}Ej(b){this.ab=
b.ab;this.eb=b.eb;this.cb=b.cb}YW(b){this.ab=e.ba(+b,0,1)}Aga(b){this.eb=e.ba(+b,0,1)}xga(b){this.cb=e.ba(+b,0,1)}nt(b){this.bb=e.ba(+b,0,1)}clone(){return e.B(e.ib,this.ab,this.eb,this.cb,this.bb)}toArray(){return[this.ab,this.eb,this.cb,this.bb]}uh(b,a){b[a++]=this.ab;b[a++]=this.eb;b[a++]=this.cb;b[a]=this.bb}wd(b){return this.ab===b.ab&&this.eb===b.eb&&this.cb===b.cb&&this.bb===b.bb}zm(b){return this.ab===b.ab&&this.eb===b.eb&&this.cb===b.cb}sD(b,a,d,c){return this.ab===b&&this.eb===a&&this.cb===
d&&this.bb===c}multiply(b){this.ab*=b.ab;this.eb*=b.eb;this.cb*=b.cb;this.bb*=b.bb}QL(){this.ab*=this.bb;this.eb*=this.bb;this.cb*=this.bb}ba(){this.ab=e.ba(this.ab,0,1);this.eb=e.ba(this.eb,0,1);this.cb=e.ba(this.cb,0,1);this.bb=e.ba(this.bb,0,1);return this}ot(b){this.ab=e.OE(b);this.eb=e.HE(b);this.cb=e.uE(b);this.bb=e.B_(b)}zfa(){return`rgb(${100*(e.Rm(void 0)?NaN:this.ab)}%, ${100*(e.Rm(void 0)?NaN:this.eb)}%, ${100*(e.Rm(void 0)?NaN:this.cb)}%)`}LW(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var d=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.YW(b);isFinite(d)&&this.Aga(d);isFinite(a)&&this.xga(a);this.nt(1)}}}toJSON(){return[this.ab,this.eb,this.cb,this.bb]}Cm(b){!Array.isArray(b)||3>b.length||(this.ab=b[0],this.eb=b[1],this.cb=b[2],this.bb=4<=b.length?b[3]:1)}set r(b){this.YW(b)}get r(){return this.ab}set sq(b){this.nt(b)}get sq(){return this.bb}static iE(b,a){return e.ba(Math.max(b,
a)-Math.min(b,a),0,1)}};e.ib.Spa=Object.freeze(e.B(e.ib,1,1,1,1));e.ib.Yha=Object.freeze(e.B(e.ib,0,0,0,1));e.ib.upa=Object.freeze(e.B(e.ib,0,0,0,0))}
{"use strict";const e=self.C;e.Nu=class{constructor(b,a){this.R=this.T=0;b instanceof e.Nu?this.wa(b):this.set(b||0,a||0)}set(b,a){this.T=+b;this.R=+a}wa(b){this.T=b.T;this.R=b.R}wd(b){return this.T===b.T&&this.R===b.R}toArray(){return[this.T,this.R]}uh(b,a){b[a++]=this.T;b[a]=this.R}offset(b,a){this.T+=+b;this.R+=+a}scale(b,a){this.T*=b;this.R*=a}ym(b,a){this.T/=b;this.R/=a}round(){this.T=Math.round(this.T);this.R=Math.round(this.R)}floor(){this.T=Math.floor(this.T);this.R=Math.floor(this.R)}ceil(){this.T=
Math.ceil(this.T);this.R=Math.ceil(this.R)}angle(){return e.dt(0,0,this.T,this.R)}Vfa(){return this.T*this.T+this.R*this.R}length(){return Math.sqrt(this.Vfa())}uga(b,a){const d=this.T*a-this.R*b;this.R=this.R*a+this.T*b;this.T=d}rotate(b){0!==b&&this.uga(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.T+=Math.cos(b)*a,this.R+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.T/=b,this.R/=b)}ba(b,a){this.T=e.ba(this.T,b,a);this.R=e.ba(this.R,b,a)}}}
{"use strict";const e=self.C;e.Rect=class{constructor(b,a,d,c){this.ka=this.na=this.Y=this.fa=0;b instanceof e.Rect?this.wa(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.fa=+b;this.Y=+a;this.na=+d;this.ka=+c}Ai(b,a,d,c){b=+b;a=+a;this.fa=b;this.Y=a;this.na=b+ +d;this.ka=a+ +c}wa(b){this.fa=+b.fa;this.Y=+b.Y;this.na=+b.na;this.ka=+b.ka}clone(){return new e.Rect(this.fa,this.Y,this.na,this.ka)}wd(b){return this.fa===b.fa&&this.Y===b.Y&&this.na===b.na&&this.ka===b.ka}toArray(){return[this.fa,this.Y,
this.na,this.ka]}Kga(){new DOMRect(this.fa,this.Y,this.width(),this.height())}uh(b,a){b[a++]=this.fa;b[a++]=this.Y;b[a++]=this.na;b[a]=this.ka}Wga(b,a){b[a++]=this.fa;b[a++]=this.Y;b[a++]=this.na;b[a++]=this.Y;b[a++]=this.na;b[a++]=this.ka;b[a++]=this.fa;b[a]=this.ka}width(){return this.na-this.fa}height(){return this.ka-this.Y}lt(){return(this.fa+this.na)/2}mt(){return(this.Y+this.ka)/2}offset(b,a){b=+b;a=+a;this.fa+=b;this.Y+=a;this.na+=b;this.ka+=a}offsetLeft(b){this.fa+=+b}offsetTop(b){this.Y+=
+b}hga(b){this.na+=+b}gga(b){this.ka+=+b}xL(b,a){b=+b;a=+a;this.fa-=b;this.Y-=a;this.na+=b;this.ka+=a}multiply(b,a){this.fa*=b;this.Y*=a;this.na*=b;this.ka*=a}ym(b,a){this.fa/=b;this.Y/=a;this.na/=b;this.ka/=a}lo(){this.Y=1-this.Y;this.ka=1-this.ka}Hga(){const b=this.fa;this.fa=this.na;this.na=b}Iga(){const b=this.Y;this.Y=this.ka;this.ka=b}round(){this.fa=Math.round(this.fa);this.Y=Math.round(this.Y);this.na=Math.round(this.na);this.ka=Math.round(this.ka)}floor(){this.fa=Math.floor(this.fa);this.Y=
Math.floor(this.Y);this.na=Math.floor(this.na);this.ka=Math.floor(this.ka)}ceil(){this.fa=Math.ceil(this.fa);this.Y=Math.ceil(this.Y);this.na=Math.ceil(this.na);this.ka=Math.ceil(this.ka)}ba(b,a,d,c){this.fa<b&&(this.fa=+b);this.Y<a&&(this.Y=+a);this.na>d&&(this.na=+d);this.ka>c&&(this.ka=+c)}normalize(){this.fa>this.na&&this.Hga();this.Y>this.ka&&this.Iga()}yD(b){return!(b.na<this.fa||b.ka<this.Y||b.fa>this.na||b.Y>this.ka)}Kfa(b,a,d){return!(b.na+a<this.fa||b.ka+d<this.Y||b.fa+a>this.na||b.Y+d>
this.ka)}Pf(b,a){return b>=this.fa&&b<=this.na&&a>=this.Y&&a<=this.ka}}}
{"use strict";const e=self.C;e.Hd=class{constructor(b,a,d,c,h,m,g,k){this.pc=this.oc=this.rc=this.qc=this.xc=this.wc=this.Hb=this.Gb=0;b instanceof e.Hd?this.wa(b):this.set(b||0,a||0,d||0,c||0,h||0,m||0,g||0,k||0)}set(b,a,d,c,h,m,g,k){this.Gb=+b;this.Hb=+a;this.wc=+d;this.xc=+c;this.qc=+h;this.rc=+m;this.oc=+g;this.pc=+k}ZW(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}wa(b){this.Gb=b.Gb;this.Hb=b.Hb;this.wc=b.wc;this.xc=b.xc;this.qc=b.qc;this.rc=b.rc;this.oc=b.oc;this.pc=b.pc}wd(b){return this.Gb===b.Gb&&this.Hb===
b.Hb&&this.wc===b.wc&&this.xc===b.xc&&this.qc===b.qc&&this.rc===b.rc&&this.oc===b.oc&&this.pc===b.pc}toArray(){return[this.Gb,this.Hb,this.wc,this.xc,this.qc,this.rc,this.oc,this.pc]}uh(b,a){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=this.wc;b[a++]=this.xc;b[a++]=this.qc;b[a++]=this.rc;b[a++]=this.oc;b[a]=this.pc}Xga(b,a,d){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=d;b[a++]=this.wc;b[a++]=this.xc;b[a++]=d;b[a++]=this.qc;b[a++]=this.rc;b[a++]=d;b[a++]=this.oc;b[a++]=this.pc;b[a]=d}offset(b,a){b=+b;a=+a;this.Gb+=
b;this.Hb+=a;this.wc+=b;this.xc+=a;this.qc+=b;this.rc+=a;this.oc+=b;this.pc+=a}round(){this.Gb=Math.round(this.Gb);this.Hb=Math.round(this.Hb);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.qc=Math.round(this.qc);this.rc=Math.round(this.rc);this.oc=Math.round(this.oc);this.pc=Math.round(this.pc)}floor(){this.Gb=Math.floor(this.Gb);this.Hb=Math.floor(this.Hb);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.qc=Math.floor(this.qc);this.rc=Math.floor(this.rc);this.oc=Math.floor(this.oc);
this.pc=Math.floor(this.pc)}ceil(){this.Gb=Math.ceil(this.Gb);this.Hb=Math.ceil(this.Hb);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.qc=Math.ceil(this.qc);this.rc=Math.ceil(this.rc);this.oc=Math.ceil(this.oc);this.pc=Math.ceil(this.pc)}Jj(b){this.Gb=b.fa;this.Hb=b.Y;this.wc=b.na;this.xc=b.Y;this.qc=b.na;this.rc=b.ka;this.oc=b.fa;this.pc=b.ka}zga(b,a){0===a?this.Jj(b):this.XW(b,Math.sin(a),Math.cos(a))}XW(b,a,d){const c=b.fa*a,h=b.Y*a,m=b.na*a;a*=b.ka;const g=b.fa*d,k=b.Y*d,n=b.na*d;
b=b.ka*d;this.Gb=g-h;this.Hb=k+c;this.wc=n-h;this.xc=k+m;this.qc=n-a;this.rc=b+m;this.oc=g-a;this.pc=b+c}vL(b){b.set(Math.min(this.Gb,this.wc,this.qc,this.oc),Math.min(this.Hb,this.xc,this.rc,this.pc),Math.max(this.Gb,this.wc,this.qc,this.oc),Math.max(this.Hb,this.xc,this.rc,this.pc))}Pf(b,a){var d=this.wc-this.Gb,c=this.xc-this.Hb;const h=this.qc-this.Gb,m=this.rc-this.Hb;b-=this.Gb;a-=this.Hb;var g=d*d+c*c;let k=d*h+c*m;c=d*b+c*a;const n=h*h+m*m,p=h*b+m*a;let q=1/(g*n-k*k);d=(n*c-k*p)*q;g=(g*p-
k*c)*q;if(0<=d&&0<g&&1>d+g)return!0;d=this.oc-this.Gb;c=this.pc-this.Hb;g=d*d+c*c;k=d*h+c*m;c=d*b+c*a;q=1/(g*n-k*k);d=(n*c-k*p)*q;g=(g*p-k*c)*q;return 0<=d&&0<g&&1>d+g}lt(){return(this.Gb+this.wc+this.qc+this.oc)/4}mt(){return(this.Hb+this.xc+this.rc+this.pc)/4}zL(b){var a=b.lt(),d=b.mt();if(this.Pf(a,d))return!0;a=this.lt();d=this.mt();if(b.Pf(a,d))return!0;a=this.Gb;d=this.Hb;const c=this.wc,h=this.xc,m=this.qc,g=this.rc,k=this.oc,n=this.pc;return e.ED(a,d,c,h,b)||e.ED(c,h,m,g,b)||e.ED(m,g,k,n,
b)||e.ED(k,n,a,d,b)}tga(){const b=this.Gb,a=this.Hb;this.Gb=this.wc;this.Hb=this.xc;this.wc=this.qc;this.xc=this.rc;this.qc=this.oc;this.rc=this.pc;this.oc=b;this.pc=a}}}
{"use strict";const e=self.C,b=[0,0,1,0,1,1,0,1],a=e.B(e.Hd);e.uo=class extends e.la{constructor(d,c=!0){super();d||(d=b);this.Ud=Float64Array.from(d);this.HA=new e.Rect;this.Kp=!0;this.Xg=c}A(){}MW(){return this.Ud.length/2}FD(d){this.Ud.length===d.length?this.Ud.set(d):this.Ud=Float64Array.from(d);this.Kp=!0}yga(){this.FD(b)}wa(d){this.FD(d.Ud)}XL(){this.Kp=!0}Nea(){if(this.Kp){var d=this.Ud,c=d[0],h=d[1],m=c,g=h;for(let k=0,n=d.length;k<n;k+=2){const p=d[k],q=d[k+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.HA.set(c,h,m,g);this.Kp=!1}}Jj(d){let c=this.Ud;8!==c.length&&(this.Ud=c=new Float64Array(8));c[0]=d.fa-NaN;c[1]=d.Y-NaN;c[2]=d.na-NaN;c[3]=d.Y-NaN;c[4]=d.na-NaN;c[5]=d.ka-NaN;c[6]=d.fa-NaN;c[7]=d.ka-NaN;this.HA.wa(d);this.HA.offset(NaN,NaN);this.Kp=!1}YL(d,c,h){a.wa(d);a.offset(c,h);this.FD(a.toArray());this.Kp=!0}transform(d,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.eM(d,c,m,g)}eM(d,c,h,m){const g=this.Ud;for(let k=0,n=g.length;k<n;k+=2){const p=k+1,q=g[k]*
d,u=g[p]*c;g[k]=q*m-u*h;g[p]=u*m+q*h}this.Kp=!0}offset(d,c){const h=this.Ud;for(let m=0,g=h.length;m<g;m+=2)h[m]+=d,h[m+1]+=c}Pf(d,c){const h=this.Ud;if(d===h[0]&&c===h[1])return!0;this.Nea();var m=this.HA;const g=m.fa-110,k=m.Y-101,n=m.na+131;m=m.ka+120;let p,q,u,w,r,v,y,A;g<d?(p=g,u=d):(p=d,u=g);k<c?(q=k,w=c):(q=c,w=k);n<d?(r=n,y=d):(r=d,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],P=h[H+1],R=h[F];F=h[F+1];e.Bm(g,k,d,c,p,u,q,w,M,P,R,F)&&++G;
e.Bm(n,m,d,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Dx(d,c,h){const m=d.Ud,g=this.Ud;if(this.Pf(m[0]+c,m[1]+h)||d.Pf(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var k=(n+2)%p;d=g[n];const q=g[n+1],u=g[k];k=g[k+1];let w,r,v,y;d<u?(w=d,v=u):(w=u,v=d);q<k?(r=q,y=k):(r=k,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.Bm(d,q,u,k,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}Qm(){return this.Xg}}}
{"use strict";const e=self.C;e.nu=class extends e.la{constructor(b){super();this.Ck=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}A(){this.Ed();this.Ck=null}Ed(){const b=this.Ck;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.Ck;let h=c.get(b);h||(h=new Map,c.set(b,h));h.set(a,d)}ga(b,a){return(b=this.Ck.get(b))?b.get(a):b}az(b){return(b=this.Ck.get(b))?b.has(void 0):!1}vo(b,a){const d=this.Ck,c=d.get(b);c&&c.delete(a)&&0===c.size&&d.delete(b)}NM(b){const a=this.Ck,d=a.get(b);
d&&(d.clear(),a.delete(b));for(const [c,h]of a.entries())h.delete(b)&&0===h.size&&a.delete(c)}Pm(){let b=0;for(const a of this.Ck.values())b+=a.size;return b}*values(){for(const b of this.Ck.values())yield*b.values()}*entries(){for(const [b,a]of this.Ck.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.C;e.VD=class extends e.la{constructor(){super();this.Mn=new Set;this.DA=[];this.Gw=!1}A(){this.Ed()}Ed(){this.Mn.clear();e.F(this.DA);this.Gw=!1}Hc(b){this.Mn.has(b)||(this.Mn.add(b),this.Gw||this.DA.push(b))}az(b){return this.Mn.has(b)}vo(b){this.Mn.delete(b)&&(this.Gw=!0)}Pm(){return this.Mn.size}Lo(){return 0===this.Mn.size}tE(){this.Gw&&(this.Naa(),this.Gw=!1);return this.DA}Naa(){const b=this.DA;e.F(b);for(const a of this.Mn)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.At=class m{constructor(){}static r2(g){this.vG();return[...b.keys()].includes(g)}static v9(g){const k=h.get(g);if(k)return e.get(k);if(m.r2(g))return e.get(g);if(c.has(g))return c.get(g)}static Bo(g){this.vG();const k=m.v9(g);return k?k:d.get(g)}static vG(){0===e.size&&(this.Ib("default",()=>{}),this.Ib("noease",this.f3),this.Ib("easeinsine",this.ZZ),this.Ib("easeoutsine",
this.h_),this.Ib("easeinoutsine",this.VZ),this.Ib("easeinelastic",this.KZ),this.Ib("easeoutelastic",this.c_),this.Ib("easeinoutelastic",this.QZ),this.Ib("easeinback",this.HZ),this.Ib("easeoutback",this.$Z),this.Ib("easeinoutback",this.MZ),this.Ib("easeinbounce",this.QM),this.Ib("easeoutbounce",this.lE),this.Ib("easeinoutbounce",this.NZ),this.Ib("easeincubic",this.JZ),this.Ib("easeoutcubic",this.b_),this.Ib("easeinoutcubic",this.PZ),this.Ib("easeinquad",this.WZ),this.Ib("easeoutquad",this.e_),this.Ib("easeinoutquad",
this.SZ),this.Ib("easeinquart",this.XZ),this.Ib("easeoutquart",this.f_),this.Ib("easeinoutquart",this.TZ),this.Ib("easeinquint",this.YZ),this.Ib("easeoutquint",this.g_),this.Ib("easeinoutquint",this.UZ),this.Ib("easeincirc",this.IZ),this.Ib("easeoutcirc",this.a_),this.Ib("easeinoutcirc",this.OZ),this.Ib("easeinexpo",this.LZ),this.Ib("easeoutexpo",this.d_),this.Ib("easeinoutexpo",this.RZ),this.sQ("cubicbezier",this.GZ),this.sQ("spline",this.i_))}static Ib(g,k){m.qG(g,k,"predefined")}static sQ(g,k){m.qG(g,
k,"private")}static yX(g,k){this.vG();m.qG(g,k,"custom",void 0)}static qG(g,k,n,p){switch(n){case "predefined":e.set(g,k);b.set(g,k);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(g,k)):d.set(g,k);break;case "private":e.set(g,k);c.set(g,k);break;default:throw Error("unexpected ease mode");}}static f3(g,k,n,p){return n*g/p+k}static WZ(g,k,n,p){return n*(g/=p)*g+k}static e_(g,k,n,p){return-n*(g/=p)*(g-2)+k}static SZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g+k:-n/2*(--g*(g-2)-1)+k}static JZ(g,
k,n,p){return n*(g/=p)*g*g+k}static b_(g,k,n,p){return n*((g=g/p-1)*g*g+1)+k}static PZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g+k:n/2*((g-=2)*g*g+2)+k}static XZ(g,k,n,p){return n*(g/=p)*g*g*g+k}static f_(g,k,n,p){return-n*((g=g/p-1)*g*g*g-1)+k}static TZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+k:-n/2*((g-=2)*g*g*g-2)+k}static YZ(g,k,n,p){return n*(g/=p)*g*g*g*g+k}static g_(g,k,n,p){return n*((g=g/p-1)*g*g*g*g+1)+k}static UZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+k:n/2*((g-=2)*g*g*g*g+2)+k}static ZZ(g,
k,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+k}static h_(g,k,n,p){return n*Math.sin(g/p*(Math.PI/2))+k}static VZ(g,k,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+k}static LZ(g,k,n,p){return 0===g?k:n*Math.pow(2,10*(g/p-1))+k}static d_(g,k,n,p){return g===p?k+n:n*(-Math.pow(2,-10*g/p)+1)+k}static RZ(g,k,n,p){return 0===g?k:g===p?k+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+k:n/2*(-Math.pow(2,-10*--g)+2)+k}static IZ(g,k,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+k}static a_(g,k,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+k}static OZ(g,k,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+k:n/2*(Math.sqrt(1-(g-=2)*g)+1)+k}static KZ(g,k,n,p){let q=0,u=n;if(0===g)return k;if(1===(g/=p))return k+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+k}static c_(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(1===(g/=p))return k+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+k}static QZ(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(2===(g/=p/2))return k+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+k:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+k}static HZ(g,k,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+k}static $Z(g,k,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+k}static MZ(g,k,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+k:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+k}static QM(g,k,n,p){return n-m.lE(p-g,0,n,p)+k}static lE(g,k,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+k:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+k:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+k:n*(7.5625*(g-=2.625/2.75)*g+.984375)+k}static NZ(g,k,n,p){return g<p/2?.5*m.QM(2*g,0,n,p)+k:.5*m.lE(2*g-p,0,n,p)+.5*n+k}static GZ(g,k,n,p,q){return k+3*g*(n-k)+3*g**2*(k+p-2*n)+g**3*(q-k+3*n-3*p)}static i_(g,k,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-k;u=3*u-6*p+3*k;k=3*(p-k);p=3*r*y*y+2*u*y+k;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+k)*y-g)/(3*r*y*y+2*u*y+k);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+k)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static I_(g,k,n,p){const q=[];p=p-3*n+3*k-g;n=3*n-6*k+3*g;g=3*(k-g);for(let u=
0;11>u;++u)k=.1*u,q.push(((p*k+n)*k+g)*k);return q}}}{"use strict";const e=self.C;e.fma=class{constructor(){this.pU=[]}A(){this.Ed();this.pU=null}Ed(){e.gfa(this.pU)}}}"use strict";
self.C.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.Mfa=this.RL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Mfa)throw Error(`cannot stop async event '${this.type}' propagation`);this.RL=!0}};
{"use strict";const e=self.C;e.Event.V0=class extends e.la{constructor(b){super();this.Ca=b;this.xf=[];this.Mr=new Set;this.Ff=[];this.vs=new Set;this.Tv=0;this.Gs=[]}A(){0<this.Tv||(e.F(this.xf),this.Mr.clear(),e.F(this.Ff),this.vs.clear(),e.F(this.Gs),e.A(this))}qQ(b,a){this.HR()?this.Gs.push({ML:"add",xi:b,capture:a}):a?this.Mr.has(b)||(this.xf.push(b),this.Mr.add(b)):this.vs.has(b)||(this.Ff.push(b),this.vs.add(b))}bba(b,a){this.HR()?this.Gs.push({ML:"remove",xi:b,capture:a}):a?this.Mr.has(b)&&
(this.Mr.delete(b),e.Xk(this.xf,b)):this.vs.has(b)&&(this.vs.delete(b),e.Xk(this.Ff,b))}i$(){return!this.xf.length&&!this.Ff.length}HR(){return 0<this.Tv}Kaa(){const b=new Set,a=new Set;for(const d of this.Gs)if("add"===d.ML)this.qQ(d.xi,d.capture),d.capture?a.delete(d.xi):b.delete(d.xi);else if("remove"===d.ML)d.capture?(this.Mr.delete(d.xi),a.add(d.xi)):(this.vs.delete(d.xi),b.add(d.xi));else throw Error("invalid op");e.zg(this.Ff,b);e.zg(this.xf,a);e.F(this.Gs)}g9(b){this.Cr();let a=!1;for(let d=
0,c=this.xf.length;d<c;++d)if(this.xf[d](b),b.RL){a=!0;break}if(!a)for(let d=0,c=this.Ff.length;d<c&&(this.Ff[d](b),!b.RL);++d);this.yr();return!b.defaultPrevented}i9(b){this.Cr();for(let a=0,d=this.xf.length;a<d;++a)this.xf[a](b);for(let a=0,d=this.Ff.length;a<d;++a)this.Ff[a](b);this.yr();return!0}Cr(){this.Tv++}yr(){this.Tv--;0===this.Tv&&0<this.Gs.length&&this.Kaa()}hr(b){b?this.Cr():this.yr()}ZQ(b){const a=[];this.Cr();for(let c=0,h=this.xf.length;c<h;++c){var d=this.xf[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,h=this.Ff.length;c<h;++c)d=this.Ff[c](b),d instanceof Promise&&a.push(d);this.yr();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async d9(b){return await this.ZQ(b)}async e9(b){this.Cr();for(let d=0,c=this.xf.length;d<c;++d){var a=this.xf[d](b);a instanceof Promise&&await a}for(let d=0,c=this.Ff.length;d<c;++d)a=this.Ff[d](b),a instanceof Promise&&await a;this.yr();return!b.defaultPrevented}*f9(b){this.Cr();for(let d=0,c=this.xf.length;d<c;++d){var a=
this.xf[d](b);e.Um(a)&&(yield*a)}for(let d=0,c=this.Ff.length;d<c;++d)a=this.Ff[d](b),e.Um(a)&&(yield*a);this.yr()}}}
{"use strict";const e=self.C;e.Event.Mb=class extends e.la{constructor(){super();this.zp=new Map;this.oI=!1}A(){if(this.oI)throw Error("already released");this.wY();this.oI=!0;e.A(this)}Pz(){return this.oI}wY(){for(let b of this.zp.values())b.A();this.zp.clear()}jp(b,a){let d=this.zp.get(b);return d?d:a?(d=e.B(e.Event.V0,b),this.zp.set(b,d),d):null}UE(b){return this.zp.has(b)}addEventListener(b,a,d){this.jp(b,!0).qQ(a,!!d)}removeEventListener(b,a,d){let c=this.jp(b,!1);c&&(c.bba(a,!!d),c.i$()&&this.zp.delete(b))}dispatchEvent(b){const a=
this.jp(b.type,!1);return a?b.cancelable?a.g9(b):a.i9(b):!0}async qL(b){const a=this.jp(b.type,!1);return a?await a.d9(b):!0}qfa(b){const a=this.jp(b.type,!1);return a?a.ZQ(b):!0}async pfa(b){const a=this.jp(b.type,!1);a&&await a.e9(b)}rfa(b){const a=this.jp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.f9(b)}hr(b){for(const a of this.zp.values())a.hr(b)}}}
{"use strict";const e=self.C,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function h(n){d=b&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(a.length){var p=performance.now(),q=0;do{g(a.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===d&&a.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.xi()}catch(q){n.reject(q);return}n.resolve(p)}let k=e.SO.az("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.$k=function(n){let p=null;e.Ex&&(p=e.Ay());return new Promise((q,u)=>{a.push({xi:n,resolve:q,reject:u,stack:p});k?g(a.pop()):-1===d&&h(16)})};e.$k.yP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.C;let b=-1;function a(){b=-1}e.wy=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,h=new Set;function m(){c=d=-1;let g=Date.now();for(let k of h)if(k.I7(g)){let n=k.wp;if(-1===c||n<c)c=n}else h.delete(k);-1!==c&&(d=self.setTimeout(m,Math.max(c-g+100,1E3)))}e.x1=class{constructor(g,k){this.Lr=g;this.ZC=1E3*k;this.wp=0;this.Pb=!1}md(){let g=e.wy();this.wp=g+this.ZC;this.Pb||(h.add(this),this.Pb=!0);-1===d?(c=this.wp,d=self.setTimeout(m,this.ZC+
100)):this.wp<c&&c>g+1E3&&(self.clearTimeout(d),c=this.wp,d=self.setTimeout(m,this.ZC+100))}I7(g){return g>=this.wp?this.Lr()?(this.wp=g+this.ZC,!0):this.Pb=!1:!0}pY(){this.Pb&&(h.delete(this),this.Pb=!1,0===h.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}A(){this.pY();this.Lr=null}}}
{"use strict";const e=self.C;e.hd=class b{constructor(a){this.bs=!1;this.pI=a}ry(){this.bs||(this.bs=!0,this.pI&&(this.pI(),this.pI=null))}A(){this.ry()}static A(a){return new b(()=>a.A())}static Xd(a,d,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.yt;for(let g of d)a.addEventListener(g,c,h),m.Hc(e.B(e.hd,()=>a.removeEventListener(g,c,h)));return m}a.addEventListener(d,
c,h);return e.B(e.hd,()=>a.removeEventListener(d,c,h))}};e.gpa=class extends e.hd{};e.yt=class extends e.hd{constructor(...b){super();this.te=new Set;for(let a of b)this.Hc(a)}Hc(...b){if(this.bs)throw Error("already disposed");for(let a of b)this.te.add(a)}Ih(b){if(this.bs)throw Error("already disposed");this.te.delete(b)}ry(){if(this.bs)throw Error("already disposed");this.bs=!0;for(let b of this.te)b.ry();this.te.clear();this.te=null}A(){this.ry()}}}
{"use strict";const e=self.C;e.oz=class extends e.la{constructor(){super();this.Os=this.bx=this.R=this.KA=0}Hc(b){this.R=+b-this.KA;this.bx=this.Os+this.R;this.KA=this.bx-this.Os-this.R;this.Os=this.bx}ga(){return this.Os}md(){this.Os=this.bx=this.R=this.KA=0}Set(b){this.bx=this.R=this.KA=0;this.Os=+b}A(){}}}
{"use strict";const e=self.C,b={BF:function(a){this.iX=a;this.left=this.right=this.iX.tb;this.parent=null;this.color=!1;this.key=null},So:function(a){this.size=0;this.tb=new b.BF(this);this.tb.color=!1;this.root=this.tb;this.root.parent=this.tb;this.compare=a||this.mfa}};xa=b.So.prototype;xa.mfa=function(a,d){return a<d?-1:d<a?1:0};xa.clone=function(){var a=new b.So(this.compare);a.Gfa(this);return a};xa.clear=function(){this.size=0;this.tb=new b.BF(this);this.tb.color=!1;this.root=this.tb;this.root.parent=
this.tb};xa.Gx=function(a){var d=a.right;a.right=d.left;d.left!=this.tb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.tb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};xa.Nx=function(a){var d=a.left;a.left=d.right;d.right!=this.tb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.tb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};xa.ft=function(a){if(this.contains(a))this.Bx(a).key=a;else{var d=new b.BF(this);d.key=
a;a=this.tb;for(var c=this.root;c!=this.tb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.tb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.tb;d.right=this.tb;d.color=!0;this.Hfa(d);this.size++}};xa.Hfa=function(a){for(;a!=this.tb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Gx(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.Nx(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Nx(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.Gx(a.parent.parent));this.root.color=!1};xa.ofa=function(a){var d=a.left==this.tb||a.right==this.tb?a:this.po(a);var c=d.left!=this.tb?d.left:d.right;c.parent=d.parent;d.parent==
this.tb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.nfa(c);this.size--};xa.nfa=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.Gx(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.Nx(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.Gx(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.Nx(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Gx(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.Nx(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Bx(a);if(a!=this.tb){var d=a.key;this.ofa(a);return d}return null};xa.min=function(a){for(;a.left!=this.tb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.tb;)a=a.right;return a};xa.po=function(a){if(a.right!=this.tb)return this.min(a.right);for(var d=a.parent;d!=this.tb&&a==d.right;)a=d,d=d.parent;return d};xa.Bx=function(a){for(var d=this.root;d!=this.tb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};xa.contains=function(a){return null!=this.Bx(a).key};xa.wL=function(){var a=[];this.forEach(function(d){a.push(d)});return a};xa.Gfa=function(a){if("array"==b.fM(a))for(var d=0;d<a.length;d++)this.ft(a[d]);
else if("function"==b.fM(a.forEach))a.forEach(this.ft,this);else if("function"==b.fM(a.wL))for(a=a.wL(),d=0;d<a.length;d++)this.ft(a[d]);else if("object"==b.fM(a))for(d in a)this.ft(a[d])};xa.range=function(a,d){var c=[];this.Qga(function(h){c.push(h)},a,d);return c};xa.Qga=function(a,d,c){if(!this.it())for(d=this.Bx(d),c=this.Bx(c);d!=c&&!a.call(void 0,d.key,this);)d=this.po(d)};xa.forEach=function(a,d){if(!this.it())for(var c=this.min(this.root);c!=this.tb;c=this.po(c))a.call(d,c.key,c.key,this)};
xa.some=function(a,d){if(this.it())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.po(c))if(a.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(a,d){if(this.it())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.po(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(a,d){var c=[];if(this.it())return c;for(var h=this.min(this.root);h!=this.tb;h=this.po(h))c.push(a.call(d,h.key,h.key,this));return c};xa.filter=function(a,d){var c=[];if(this.it())return c;
for(var h=this.min(this.root);h!=this.tb;h=this.po(h))a.call(d,h.key,h.key,this)&&c.push(h.key);return c};xa.it=function(){return 0==this.size};e.So=class extends e.la{constructor(a){super();this.jh=new b.So(a);this.es=!1;this.eq=new Set;this.fq=new Set}Hc(a){this.es?this.jh.contains(a)?this.fq.delete(a):this.eq.add(a):this.jh.ft(a)}Ih(a){this.es?this.jh.contains(a)?this.fq.add(a):this.eq.delete(a):this.jh.remove(a)}az(a){return this.es?this.eq.has(a)?!0:!this.fq.has(a)&&this.jh.contains(a):this.jh.contains(a)}Ed(){this.jh.clear();
this.eq.clear();this.fq.clear()}toArray(){if(this.es)throw Error("cannot be used in queueing mode");return this.jh.wL()}Pm(){return this.jh.size+this.eq.size-this.fq.size}Lo(){return 0===this.Pm()}Kh(a){a=!!a;if(this.es!==a&&(this.es=a,!a)){for(const d of this.fq)this.jh.remove(d);this.fq.clear();for(const d of this.eq)this.jh.ft(d);this.eq.clear()}}ZM(a){this.jh.forEach(a)}*values(){if(!this.Lo()){var a=this.jh;for(let d=a.min(a.root);d!=a.tb;d=a.po(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.C;e.NO=class{constructor(b=e.hardwareConcurrency){this.mea=b;this.lK=[];this.EH=0}Hc(b){return new Promise((a,d)=>{this.lK.push({xi:b,resolve:a,reject:d});this.SR()})}async SR(){if(this.lK.length&&!(this.EH>=this.mea)){this.EH++;var b=this.lK.shift();try{const a=await b.xi();b.resolve(a)}catch(a){b.reject(a)}this.EH--;this.SR()}}}}
{"use strict";const e=self.C;e.v4=class{constructor(b,a,d){this.Lr=b;this.$da=a;this.aea=d||2*a;this.Ss=-1;this.ZB=-Infinity;this.FV=()=>this.waa();this.Fda=this.RI=!1;this.Ev=null}z9(){return"undefined"!==typeof e.bY&&e.bY.fka()?this.aea:this.$da}nY(){var b=[];if(-1===this.Ss){this.Ev=b;b=e.wy();var a=b-this.ZB,d=this.z9();a>=d&&this.Fda?(this.ZB=b,this.rS()):this.Ss=self.setTimeout(this.FV,Math.max(d-a,4))}}rS(){this.RI=!0;const b=this.Ev;this.Ev=null;b?this.Lr(...b):this.Lr();this.RI=!1}md(){this.RI||
(this.AQ(),this.Ev=null,this.ZB=e.wy())}waa(){this.Ss=-1;this.ZB=e.wy();this.rS()}AQ(){-1!==this.Ss&&(self.clearTimeout(this.Ss),this.Ss=-1)}A(){this.AQ();this.FV=this.Ev=this.Lr=null}}}"use strict";function hc(e,b){if(!e.LT)throw Error("no get base size callback set");return e.LT(b)}self.C.qna=class{constructor(){this.Xda=new Map;this.eV=this.gV=this.LT=null}wz(){if(!this.eV)throw Error("no redraw callback set");this.eV()}};"use strict";
self.C.pna=class{constructor(e,b){this.eh=e;this.Mda=b;this.Pc=0;hc(this.eh,b).then(()=>{this.eh.wz()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.eh.wz()});this.mK=null}A(){if(0>=this.Pc)throw Error("already released");this.Pc--;0===this.Pc&&this.hv()}hv(){if(this.mK){var e=this.eh;if(!e.gV)throw Error("no release result callback set");e.gV(this.mK);this.mK=null}this.eh.Xda.delete(this.Mda);this.eh=null}};
{"use strict";const e=self.C;e.zpa="\ufeff";const b=new Set([..."0123456789"]);e.s2=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.nz=function(n){return a.has(n)};e.gja=function(n){return[...n].filter(p=>!e.nz(p)).join("")};e.sF=function(n){for(const p of n)if(!e.nz(p))return!1;return!0};e.D2=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.u_=function(n){return[...n].filter(p=>
!e.D2(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.qka=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.F4=function(n){let p=n.length;for(;0<p&&e.s2(n.charAt(p-1));)--p;return n.substr(0,p)};e.Gja=function(n){let p=e.F4(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;e.m_=function(n){return n.replace(m,h)};e.Yia=function(n){n=e.Si(n,"\\","\\\\");n=e.Si(n,'"','\\"');n=e.Si(n,"\t","\\t");n=e.Si(n,"\r","");return e.Si(n,"\n","\\n")};e.Zia=function(n){n=e.Si(n,"&","&amp;");n=e.Si(n,"<","&lt;");n=e.Si(n,">","&gt;");return e.Si(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Bt=function(n){return n.replace(g,"\\$&")};e.hja=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};e.Si=function(n,p,q){return n.replaceAll(p,()=>q)};e.qma=function(n,p,q){return n.replace(new RegExp(e.Bt(p),"gi"),()=>q)};e.Lna=function(n,p){"string"===typeof p?n.textContent=p:p.lU?n.textContent=p.toString():(n.innerHTML=p.bM(),p instanceof e.Gm&&p.$ea(n))};e.bpa=function(n,p){return n instanceof e.ZE||n instanceof e.Gm?n.wd(p):p instanceof e.ZE||p instanceof e.Gm?p.wd(n):n===p};e.cpa=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};e.dpa=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.epa=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.Loa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.jja=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Gra;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const k={Xea:!1,jfa:!0,Ffa:!0,bga:!0,VW:!0};e.kja=function(n,p){p=Object.assign({},
k,p);e.G2.hma("common.time");const q=[],u=self.lang,w=self.Fra;if(p.jfa){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.Ffa&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.bga&&(r=Math.floor(n/60),0<r||q.length||!p.VW)&&(n-=60*r,q.push(w(".minutes",null,r)));p.VW&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Xea?u(".approx-prefix"):"")+q.join(u(".separator"));e.G2.ama();return n};e.eqa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.fpa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.Dia=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.TW(n);e.TW(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.Mia=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.$oa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.apa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const e=self.C,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(k,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return k=q[0],q=q[1],n?"</"+k+">":`<${k} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:k}const g=/\n/g;e.Gm=class{constructor(k,n){this.Sh=n&&n.ega?k:e.m_(k);this.QI="";this.nT=!1;this.yw=[];if(n&&(this.nT=!!n.Cqa,n.links)){if(9<n.links.length)throw Error("too many links");this.yw=n.links}this.QT=this.Sh.includes("[");this.QU=this.nT&&this.Sh.includes("\n");this.lU=!this.QT&&!this.QU&&!this.Sh.includes("&");this.UT=!1;this.Vv=[]}toString(){return this.Sh}valueOf(){return this.Sh}bM(){if(this.lU)return this.Sh;if(!this.QI&&this.Sh){let k=this.Sh;
this.QT&&(h=0,c=this.yw,k=k.replace(a,m),c=null);this.QU&&(k=k.replace(g,"<br>"));this.QI=k}return this.QI}$ea(k){if(this.yw.length)for(let n=0,p=this.yw.length;n<p;++n){const q=this.yw[n];if("function"!==typeof q)continue;const u=k.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}wd(k){return k instanceof e.ZE?this.bM()===k.bM():k instanceof e.Gm?this.Sh===k.Sh:this.Sh===k}Lga(){if(this.UT)return this.Vv;const k=this.Sh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(k));){var u=q.index;if(0<u&&"\\"===k.charAt(u-1))continue;var w=q[1],r=q[2];const v=k.substring(p,u);p=u+q[0].length;v&&this.Vv.push({text:v,xd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,yi:u})}p<k.length&&this.Vv.push({text:k.substring(p),xd:n.slice(0)});for(const v of this.Vv)v.text=
this.Jaa(v.text);this.UT=!0;return this.Vv}Jaa(k){k=e.Si(k,"\\[","[");return e.Si(k,"\\\\","\\")}static XP(k){return k.replace(d,"")}}}
{"use strict";const e=self.C;e.pG=class{constructor(){this.Bn=[]}UR(b,a){let d=0,c=0,h=0,m=0,g=0;for(const k of b)-1===k.width&&(b=a(k.text,k.xd),k.width=b.width,k.height=b.height,k.Ag=b.Ag||0,k.Qf=b.Qf||0,k.Tf=b.Tf||0),d+=k.width,c=Math.max(c,k.height),h=Math.max(h,k.Ag),m=Math.max(m,k.Qf),g=Math.max(g,k.Tf);return{width:d,height:c,Ag:h,Qf:m,Tf:g}}Rz(b,a,d,c,h,m){this.Bn.push({qW:b,width:a,height:d,Ag:c,Qf:h,Tf:m})}pG(b,a,d,c,h){"string"===typeof b&&(b=[{text:b,xd:[]}]);e.F(this.Bn);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var m=b[0];const g=m.text;m=m.xd;if(100>=g.length&&!g.includes("\n")){let {width:k,height:n,Ag:p,Qf:q,Tf:u}=a(g,m);k+=h;p=p||0;q=q||0;u=u||0;if(k<=d){this.Rz([{text:g,xd:m,width:k,height:n,Ag:p,Qf:q,Tf:u}],k,n,p,q,u);return}}}if("word"===c)c=this.Sca(b);else{c=[];for(const g of b)e.vm(c,[...g.text].map(k=>[{text:k,xd:g.xd}]))}this.lda(c,a,d,h)}}Sca(b){const a=[];let d=[],c=!1;for(const m of b){var h=m.text;b=m.xd;for(const g of h)"\n"===g?(0<
d.length&&a.push(d),a.push([{text:"\n",xd:b}]),d=[]):0===d.length?(d.push({text:g,xd:b}),c=e.nz(g)):(h=e.nz(g),h===c?(h=d.ie(-1),h.xd===b?h.text+=g:d.push({text:g,xd:b})):(a.push(d),d=[],d.push({text:g,xd:b}),c=h))}0<d.length&&a.push(d);return a}L7(b){return b.map(a=>({text:a.text,xd:a.xd,width:a.width,height:a.height,Ag:a.Ag,Qf:a.Qf,Tf:a.Tf}))}vQ(b,a){var d=b.length?b.ie(-1):null;let c=0;d&&a[0].xd===d.xd&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.Ag=-1,d.Qf=-1,d.Tf=-1,c=1);for(d=a.length;c<d;++c){const h=
a[c];b.push({text:h.text,xd:h.xd,width:-1,height:-1,Ag:-1,Qf:-1,Tf:-1})}}lda(b,a,d,c){let h=[],m=0,g=0,k=0,n=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===g&&(p=a(" ",q[0].xd),g=p.height,k=p.Ag||0,n=p.Qf||0,p=p.Tf||0);this.Rz(h,m,g,k,n,p);h=[];p=n=k=g=m=0;continue}b=this.L7(h);this.vQ(b,q);const u=this.UR(b,a),w=u.width;w>=d?(0<h.length&&this.Rz(h,m,g,k,n,p),h=[],e.sF(q[0].text)?p=n=k=g=m=0:(this.vQ(h,q),p=this.UR(h,a),m=p.width,g=p.height,k=p.Ag,n=p.Qf,p=p.Tf)):(h=b,m=w,g=u.height,
k=u.Ag,n=u.Qf,p=u.Tf)}0<h.length&&this.Rz(h,m,g,k,n,p);this.Vca(a,c)}Vca(b,a){for(const c of this.Bn){const h=c.qW;if(!h.length)continue;let m=h.ie(-1);var d=m.text;const g=d.trimEnd();if(!g)c.width-=m.width,h.pop();else if(g.length<d.length){d=b(g,m.xd).width;const k=m.width-d;m.width=d;m.text=g;c.width-=k}0!==a&&0<h.length&&(m=h.ie(-1),m.width+=a,c.width+=a)}}Ed(){e.F(this.Bn)}w0(){return this.Bn.reduce((b,a)=>Math.max(b,a.width),0)}Q0(){return this.Bn.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.C,b=self.Hj,a=b.LD,d=b.Qx,c=b.Am,h=a.create(),m=a.create(),g=a.create(),k=d.create(),n=c.create(),p=a.create(),q=a.create(),u=a.create(),w=a.create(),r=a.create(),v=a.create(),y=a.create(),A=a.create(),G=d.Rf(0,0,1,1);e.K={m4(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},qk(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.ht(n,n))return!1;k[0]=(J-Z[0])/Z[2]*2-1;k[1]=(M-Z[1])/Z[3]*2-1;k[2]=2*P-1;k[3]=1;d.dM(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];X[0]=k[0]*k[3];X[1]=k[1]*k[3];X[2]=k[2]*k[3];return!0},J6(J,M,P,R,T,Z,X){if(!e.K.qk(J,M,0,R,T,Z,h)||!e.K.qk(J,M,1,R,T,Z,m))return!1;a.Em(m,m,h);a.set(g,0,0,1);J=-P;M=a.ko(g,m);P=0;if(0===M){if(0!==
a.ko(g,h)+J)return!1}else if(P=-(a.ko(h,g)+J)/M,0>P)return!1;a.WL(X,h,m,P);return!0}};function z(J,M,P,R){a.Em(h,P,M);a.Em(m,J,M);a.oL(g,h,m);a.normalize(g,g);R.set(g[0],g[1],g[2],a.ko(J,g))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.qX,Na=X.rX;X=X.sX;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.sX=this.rX=this.qX=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.qX=0<J?1:0;this.rX=0<M?1:0;this.sX=0<P?1:0}}e.K.R6=class{constructor(){this.BU=new H;this.GV=new H;this.jV=new H;this.gT=new H;this.QJ=new H;this.DT=new H}lY(J,M){e.K.qk(0,1,0,J,M,G,p);e.K.qk(1,1,0,J,M,G,q);e.K.qk(0,0,0,J,M,G,u);e.K.qk(1,0,0,J,M,G,w);e.K.qk(0,1,1,J,M,G,r);e.K.qk(1,1,1,J,M,G,v);e.K.qk(0,0,1,J,M,G,y);e.K.qk(1,0,1,J,M,G,A);z(u,p,r,this.BU);z(p,q,v,this.GV);z(q,w,A,this.jV);z(w,u,y,this.gT);z(y,r,v,this.DT);z(w,q,p,this.QJ)}JY(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.BU)&&F(J,M,P,R,T,Z,this.GV)&&F(J,M,P,R,T,Z,this.jV)&&F(J,M,P,R,T,Z,this.gT)&&F(J,M,P,R,T,Z,this.QJ)&&F(J,M,P,R,T,Z,this.DT)}j2(J,M,P){var R=this.QJ;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.C,b=self.Hj,a=b.LD,d=b.Qx,c=b.Am,h=c.create(),m=a.Rf(0,0,0),g=a.Rf(0,0,0),k=a.Rf(0,0,0),n=a.Rf(0,1,0);d.Rf(0,0,0,0);new e.Hd;new e.Rect;const p=new e.Hd(0,0,1,0,1,1,0,1);e.K.I4=class{constructor(){this.W=this.Z=0;this.GT=e.Za(45);this.HK=Math.tan(this.GT/2);this.nC=c.create();this.JJ=c.create();this.qp=[];this.MC=new Map;this.wK=this.QC=this.RC=null;this.$w=new Map;this.kj=null;this.XH=[];this.PU=new Map;this.Ov=this.xv=0;this.CU=this.DU=1;this.DJ=.5;this.ai=0;this.ds=!0;
this.NI=!1}t_(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}DQ(){this.Ov=this.xv=0;this.wK=this.QC=this.RC=null;this.J7()}hz(){this.DQ();this.kj=null}v3(){for(const q of this.qp)q.A();this.DQ()}S(){return this.Z}U(){return this.W}yq(q,u,w=.5,r=.5){var v=this.GT;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.HK,u*=v,c.yfa(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}kY(q,u,w){const r=self.devicePixelRatio,v=200*r*this.HK/w;u=u*v/(2*r);
w=w*v/(2*r);c.jga(q,-u,u,-w,w,1,1E4)}pM(q,u,w,r,v=this.U()){v=200*self.devicePixelRatio*this.HK/v;a.set(k,v,-v,1);a.multiply(m,u,k);a.multiply(g,w,k);c.Yfa(q,m,g,r||n);c.scale(q,q,k)}xt(q,u,w,r,v,y){a.set(m,q,u,w);a.set(g,r,v,0);this.pM(h,m,g,n,y);return h}s7(q){this.qp.push(q);this.MC.set(q.Da(),q)}dba(q){const u=this.qp.indexOf(q);-1!==u&&this.qp.splice(u,1);this.MC.delete(q.Da())}J7(){e.F(this.qp);this.MC.clear()}CN(q){return this.MC.get(q)||null}nk(){this.pr(this.RC)}qP(){this.pr(this.wK)}Xba(q){this.kj=
q}vX(q,u,w,r){const v=e.K.iG.pO(q,u,w,r);let y=this.$w.get(v);y||(y=e.B(e.K.iG,this,q,u,w,r),this.$w.set(v,y));y.JX();return y}UO(q){q.bZ();0===q.Pc&&(this.kj===q&&(this.kj=null),this.$w.delete(q.p0()),q.A())}T9(q){e.F(this.XH);this.PU.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.XH.push([r,v]);this.PU.set(q,{osa:u,qta:r,Nqa:v});u++}}t9(q){return this.XH[q]}gr(q){this.xv=q}yu(q){this.Ov=q;this.kj=null}J2(q,u,w,r){var v=e.dt(q,u,w,r),y=.5*this.DU;const A=Math.sin(v)*y;v=Math.cos(v)*
y;y=this.CU;2===y?this.iu(q,u,w,r,A,v):1===y?this.hu(q,u,w,r,A,v):this.gu(q,u,w,r,A,v)}iu(q,u,w,r,v,y){var A=this.DJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.uz(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}hu(q,u,w,r,v,y){const A=this.DJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.uz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}gu(q,u,w,r,v,y){const A=this.DJ;q+=A;u+=A;w+=A;r+=A;this.uz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}K2(q,u,w,r){const v=.5*this.DU,y=this.CU;2===y?this.o$(q,
u,w,r,v):1===y?this.n$(q,u,w,r,v):this.m$(q,u,w,r,v)}o$(q,u,w,r,v){this.iu(q,u,w,u,0,v);this.iu(w,u,w,r,v,0);this.iu(w,r,q,r,0,-v);this.iu(q,r,q,u,-v,0)}n$(q,u,w,r,v){this.hu(q,u,w,u,0,v);this.hu(w,u,w,r,v,0);this.hu(w,r,q,r,0,-v);this.hu(q,r,q,u,-v,0)}m$(q,u,w,r,v){this.gu(q,u,w,u,0,v);this.gu(w,u,w,r,v,0);this.gu(w,r,q,r,0,-v);this.gu(q,r,q,u,-v,0)}jO(q){this.K2(q.fa,q.Y,q.na,q.ka)}Et(){this.Mj();this.ai++}A1(){this.ai++}TF(q){this.ds=!!q}E5(q){this.NI=!!q}pl(){return!1}}}"use strict";
self.C.K.l6=class{constructor(e,b,a){this.La=b;this.ya=e;this.AT=a.Sqa||0;this.BT=a.Tqa||0;this.oT=!!a.Fqa;this.oea=!!a.hsa;this.Fs=!!a.Gsa;this.sda=!!a.lqa;this.YH=!!a.sqa;this.fD=!!a.Hta;this.NV=!1}A(){this.ya=null}sb(){return this.ya}Da(){return this.La}Vq(){return this.oea}};
{"use strict";const e=self.C;e.K.iG=class{constructor(b,a,d,c,h){this.ya=b;this.Pc=0;this.ed=null;this.Uw="";this.Ug=d;this.jb=e.B(e.ib);this.jb.set(c);this.fd=h;"string"===typeof a?this.Uw=a:(this.ed=a,this.Uw=this.ed.Da())}A(){if(0<this.Pc)throw Error("releasing state group still in use");this.ed=this.ya=null;this.Uw=""}RX(){const b=this.ya;b.pr(this.ed);b.fg(this.Ug);b.Zm(this.jb);b.yu(this.fd);b.Xba(this)}p0(){return e.K.iG.pO(this.Uw,this.Ug,this.jb,this.fd)}JX(){++this.Pc}bZ(){--this.Pc}ql(){this.ed=
null}xF(b){this.ed=b.CN(this.Uw);if(!this.ed)throw Error("failed to restore shader program");}static pO(b,a,d,c){return("string"===typeof b?b:b.Da())+","+a+","+d.ab+","+d.eb+","+d.cb+","+d.bb+","+c}}}
{"use strict";const e=self.C,b=e.B(e.Hd);function a(d,c,h){const m=h.Gb,g=h.Hb;return[m+(h.wc-m)*d+(h.oc-m)*c,g+(h.xc-g)*d+(h.pc-g)*c]}e.K.d3=class{constructor(d){this.NJ=d;this.qh=this.oh=this.fd=this.R=this.T=0}Sg(d,c,h,m){this.T=d;this.R=c;this.oh=h;this.qh=m}N(){return this.T}hg(d){this.T!==d&&(this.T=d,this.NJ.oH())}O(){return this.R}vf(d){this.R!==d&&(this.R=d,this.NJ.oH())}Xa(){return this.fd}oe(d){this.fd!==d&&(this.fd=Math.max(d,0),this.NJ.oH())}$F(d){this.oh=d}aG(d){this.qh=d}g$(d,c,h){[this.T,
this.R]=a(d.T,d.R,c);this.fd=d.fd;this.oh=e.je(h.fa,h.na,d.oh);this.qh=e.je(h.Y,h.ka,d.qh)}f$(d,c,h){[this.T,this.R]=a(d.T,d.R,c);this.fd=d.fd;[this.oh,this.qh]=a(d.oh,d.qh,h)}nd(){return{x:this.N(),y:this.O(),z:this.Xa(),u:this.oh,v:this.qh}}Uc(d){this.hg(d.x);this.vf(d.y);d.hasOwnProperty("z")&&this.oe(d.z);this.$F(d.u);this.aG(d.v)}};e.K.rO=class{constructor(d,c,h){if(2>d||2>c)throw Error("invalid mesh size");this.Dk=d;this.Rk=c;this.$b=h||null;this.Kn=[];this.NU=this.MU=0;this.IU=this.HU=1;this.JU=
0;this.eK=!1;h=d-1;const m=c-1;for(let g=0;g<c;++g){const k=[];for(let n=0;n<d;++n){const p=e.B(e.K.d3,this,n,g),q=n/h,u=g/m;p.Sg(q,u,q,u);k.push(p)}this.Kn.push(k)}}A(){e.F(this.Kn)}oH(){this.eK=!0}$u(){if(this.eK){var d=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const k of this.Kn)for(const n of k){const p=n.N(),q=n.O();d=Math.min(d,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.Xa())}this.MU=d;this.NU=c;this.HU=h;this.IU=m;this.JU=g;this.eK=!1}}A0(){this.$u();return this.MU}B0(){this.$u();
return this.NU}x0(){this.$u();return this.HU}y0(){this.$u();return this.IU}z0(){this.$u();return this.JU}Hq(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.Dk||0>c||c>=this.Rk?null:this.Kn[c][d]}qM(d,c,h){const m=h instanceof e.Rect;if(d.Dk!==this.Dk||d.Rk!==this.Rk)throw Error("source mesh wrong size");d=d.Kn;const g=this.Kn;for(let k=0,n=g.length;k<n;++k){const p=d[k],q=g[k];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.g$(r,c,h):v.f$(r,c,h)}}}Ah(d){const c=this.Kn;let h=c[0];
for(let m=1,g=c.length;m<g;++m){const k=c[m];let n=h[0],p=k[0];for(let q=1,u=k.length;q<u;++q){const w=h[q],r=k[q];b.set(n.oh,n.qh,w.oh,w.qh,r.oh,r.qh,p.oh,p.qh);d.uz(n.N(),n.O(),n.Xa(),w.N(),w.O(),w.Xa(),r.N(),r.O(),r.Xa(),p.N(),p.O(),p.Xa(),b);n=w;p=r}h=k}}d2(d){d=d.Ud;const c=[],h=this.Dk-1,m=this.Rk-1,g=1/h,k=1/m,n=h-1,p=m-1;let q=d[0],u=d[1],w=e.ba(Math.floor(q*h),0,n),r=e.ba(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=e.ba(e.je(q,v,A),0,1);u=e.ba(e.je(u,y,A),0,1);c.push(q,u)};for(let F=
0,H=d.length;F<H;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),w=e.ba(Math.floor(q*h),0,n),r=e.ba(Math.floor(u*m),0,p),G=(F+2)%H,v=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*k,P=(w+1)*g,R=(r+1)*k;if(0!==G&&(A=e.Mx(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=e.Mx(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=e.Mx(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<w&&1!==
G&&(A=e.Mx(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=e.Mx(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return e.B(e.uo,c)}D6(d,c){d=this.Tca(d);this.Kca(d);c.FD(d)}Tca(d){const c=[];d=d.Ud;for(let h=0,m=d.length;h<m;h+=2){const [g,k]=this.$P(d[h],d[h+1]);c.push(g,k)}return c}$P(d,c){var h=this.Dk-1,m=this.Rk-1;const g=1/h,k=1/m;h=e.ba(Math.floor(d*h),0,h-1);const n=e.ba(Math.floor(c*m),0,m-1);m=h*g;const p=n*k,q=(h+1)*g,u=(n+1)*k,w=
this.Hq(h,n),r=this.Hq(h+1,n+1),v=e.Pfa(d,c,m,p,q,p,q,u);h=this.Hq(h+(v?1:0),n+(v?0:1));const [y,A,G]=e.Sga(d,c,m,p,v?m+g:m,v?p:p+k,q,u);return e.Rga(y,A,G,w.N(),w.O(),h.N(),h.O(),r.N(),r.O())}Kca(d){const c=[];let h=d[0],m=d[1],g=h-d.ie(-2),k=m-d.ie(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(k)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(k)||v)&&1E-7<Math.abs(w/g-r/k)||
0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;k=r}6<=c.length&&c.length<d.length&&e.Sc(d,c)}nd(){return{cols:this.Dk,rows:this.Rk,points:this.Kn.map(d=>d.map(c=>c.nd()))}}Uc(d){const c=this.Dk,h=this.Rk;if(d.cols!==c||d.rows!==h)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<h;++m){const g=d[m];for(let k=0;k<c;++k)this.Hq(k,m).Uc(g[k])}}}}
{"use strict";const e=self.C,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{ZL:n,gt:q,format:u,type:p}}const m={ND:"clamp-to-edge",OD:"clamp-to-edge",Ij:"trilinear",aW:0,OL:"rgba8",BD:!0,Jx:"default",premultiplyAlpha:!0,DW:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},k=new Set;e.K.Qz=class{constructor(n){this.ya=n;this.wb=null;this.W=this.Z=0;this.di=!0;this.bt=this.$s="clamp-to-edge";this.Bd="trilinear";this.MH=0;this.Jn="rgba8";this.Tl=!1;this.Up=
"default";this.Pc=0}a8(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.wb)throw Error("already created texture");this.$s=p.ND;this.bt=p.OD;
this.Bd=p.Ij;this.MH=p.aW;this.Jn=p.OL;this.Tl=!!p.BD&&this.ya.ds;this.Up=p.Jx;if(!c.has(this.$s)||!c.has(this.bt))throw Error("invalid wrap mode");if(!a.has(this.Bd))throw Error("invalid sampling");if(!b.has(this.Jn))throw Error("invalid pixel format");if(!d.has(this.Up))throw Error("invalid mipmap quality");this.di=!0;if(n instanceof ArrayBuffer||null===n||p.DW){if(this.Z=p.width,this.W=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.Z*this.W*4)throw Error("ArrayBuffer wrong size");}else this.Z=
n.width,this.W=n.height;if(0>=this.Z||0>=this.W)throw Error("invalid texture data size");if(p.DW){var q=e.yh(this.Z,this.W);q.getContext("2d").drawImage(n,0,0,this.Z,this.W);n=q}var u=e.Zk(this.Z)&&e.Zk(this.W);q=this.ya.oC;if(this.Z>q||this.W>q)throw Error("texture data exceeds maximum texture size");q=this.ya.X;var w=this.ya.vd;this.wb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.wb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.Jn,q);if(this.ya.bp()||u||!this.SG())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Tl?Math.floor(Math.log2(Math.max(this.Z,this.W))+1):1,p.ZL,this.Z,this.W),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.Z,this.W,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.gt,this.Z,this.W,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.gt,this.Z,this.W,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.gt,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.Z,this.W));n instanceof ImageData&&(u=e.yh(this.Z,this.W),u.getContext("2d").putImageData(n,0,0),n=u);u=e.yh(e.JW(this.Z),e.JW(this.W));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.Bd;w.drawImage(n,0,0,this.Z,this.W,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.gt,p.format,p.type,u)}null!==n&&this.HS(q);q.bindTexture(q.TEXTURE_2D,null);this.ya.eH();this.Pc=1;k.add(this)}N7(n,p,q){q=Object.assign({},m,q);if(this.wb)throw Error("already created texture");this.$s=q.ND;this.bt=q.OD;this.Bd=q.Ij;this.Jn=q.OL;this.Tl=!!q.BD&&this.ya.ds;this.Up=q.Jx;if(!c.has(this.$s)||!c.has(this.bt))throw Error("invalid wrap mode");if(!a.has(this.Bd))throw Error("invalid sampling");if(!b.has(this.Jn))throw Error("invalid pixel format");if(!d.has(this.Up))throw Error("invalid mipmap quality");
this.di=!1;this.Z=Math.floor(n);this.W=Math.floor(p);n=e.Zk(this.Z)&&e.Zk(this.W);p=this.ya.oC;if(0>=this.Z||0>=this.W)throw Error("invalid texture size");if(this.Z>p||this.W>p)throw Error("texture exceeds maximum texture size");if(!this.ya.bp()&&this.SG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ya.X;p=this.ya.vd;this.wb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.wb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.Jn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.ZL:q.gt,this.Z,this.W,0,q.format,q.type,null);this.HS(n);n.bindTexture(n.TEXTURE_2D,null);this.ya.eH();this.Pc=1;k.add(this)}OG(n){if("default"===this.Up)return this.di?n.NICEST:n.FASTEST;if("low"===this.Up)return n.FASTEST;if("high"===this.Up)return n.NICEST;throw Error("invalid mipmap quality");}SG(){return"clamp-to-edge"!==this.$s||"clamp-to-edge"!==this.bt}uR(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}HS(n){var p=e.Zk(this.Z)&&e.Zk(this.W);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.uR(n,this.$s));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.uR(n,this.bt));"nearest"===this.Bd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Tl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ya.bp())&&this.Tl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.OG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Bd||this.ya.NI?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Tl=!1));(p=this.ya.tv)&&0<this.MH&&"nearest"!==this.Bd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.MH,this.ya.LJ))}SS(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.wb||0>=this.Pc)throw Error("texture not created");if(this.di)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ya.vd;
const r=this.ya.X;r.bindTexture(r.TEXTURE_2D,this.wb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.Jn,r);w=2<=w?p.ZL:p.gt;try{if(this.Z===q&&this.W===u){const v=e.Zk(this.Z)&&e.Zk(this.W);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ya.bp())&&this.Tl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.OG(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Z=q;this.W=u;const v=e.Zk(this.Z)&&e.Zk(this.W);if(!this.ya.bp()&&this.SG()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ya.bp())&&this.Tl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.OG(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ya.eH()}CG(){if(0<this.Pc)throw Error("texture still has references");if(!this.wb)throw Error("already deleted texture");k.delete(this);this.ya.X.deleteTexture(this.wb);this.wb=null}sb(){return this.ya}x6(){if(0>=
this.Pc)throw Error("no more references");this.Pc--}S(){return this.Z}U(){return this.W}CE(){let n=this.Z*this.W;switch(this.Jn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Tl&&(n+=Math.floor(n/3));return n}static ql(){k.clear()}static Sea(){return k.values()}}}
{"use strict";const e=self.Hj.Am,b=new Set(["nearest","bilinear","trilinear"]),a={Ij:"trilinear",alpha:!0,depth:!1,EL:!0,xW:!0,cga:0},d=new Set;self.C.K.lQ=class{constructor(c){this.ya=c;this.Mk=this.wb=this.Ep=this.Yg=null;this.W=this.Z=0;this.HB=!0;this.Bd="trilinear";this.Jr=!0;this.Zc=!1;this.lw=!0;this.am=0;this.Kk=e.create()}M7(c,h,m){m=Object.assign({},a,m);const g=this.ya.vd;if(this.wb||this.Mk)throw Error("already created render target");this.Bd=m.Ij;this.Jr=!!m.alpha;this.Zc=!!m.depth;this.lw=
!!m.EL;this.HB=!!m.xW;this.am=m.cga;if(!b.has(this.Bd))throw Error("invalid sampling");if(0<this.am&&(2>g||this.lw))throw Error("invalid use of multisampling");2>g&&(this.lw=!0);this.Z=c;this.W=h;if(0>=this.Z||0>=this.W)throw Error("invalid render target size");this.zQ();c=this.ya.X;this.Yg=c.createFramebuffer();this.Zc&&(this.Ep=c.createFramebuffer());this.lw?(this.wb=this.ya.GM(this.Z,this.W,{Ij:this.Bd,OL:this.Jr?"rgba8":"rgb8",BD:!1}),h=this.wb.wb,c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.Zc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ep),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.Mk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),h=this.Jr?c.RGBA8:c.RGB8,0<this.am&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.am>m&&(this.am=m)):this.am=0),0===this.am?c.renderbufferStorage(c.RENDERBUFFER,h,this.Z,this.W):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.am,h,this.Z,this.W),c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk),this.Zc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ep),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.ya.Wg;this.Zc&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),this.ya.Fv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}nS(c,h){if(this.Z!==c||this.W!==h)this.Z=c,this.W=h,this.zQ(),c=this.ya.X,c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),this.wb?this.wb.SS(new ImageData(this.Z,this.W)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),c.renderbufferStorage(c.RENDERBUFFER,this.Jr?c.RGBA8:c.RGB8,this.Z,this.W),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.ya.Wg,this.Zc&&h&&(this.ya.Fv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}CG(){if(!this.wb&&!this.Mk)throw Error("already deleted render target");d.delete(this);var c=this.ya.X;this.wb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Zc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ep),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ya.Lj(this.wb),this.wb=null):this.Mk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Zc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ep),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Mk),this.Mk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ya.vd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Yg);
this.Zc&&c.deleteFramebuffer(this.Ep);c=this.ya.Cc;c.wm=null;this.Yg=c.Fj=null}zQ(){this.ya.yq(this.Kk,this.Z/this.W)}sb(){return this.ya}me(){return this.wb}nF(){return"nearest"!==this.Bd}S(){return this.Z}U(){return this.W}m2(c){c=Object.assign({},a,c);return"nearest"!==c.Ij!==this.nF()||!!c.alpha!==this.Jr||!!c.depth!==this.Zc||2<=this.ya.vd&&!!c.EL!==this.lw?!1:"number"===typeof c.width||"number"===typeof c.height?!this.HB&&this.S()===c.width&&this.U()===c.height:this.HB}CE(){return this.wb?this.wb.CE():
this.Z*this.W*(this.Jr?4:3)}static ql(){d.clear()}}}
{"use strict";const e=self.C;e.K.Ou=class extends e.K.l6{static async GY(b,a,d,c){const h=b.X,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,a);h.compileShader(m);a=h.createShader(h.VERTEX_SHADER);h.shaderSource(a,d);h.compileShader(a);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,a);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const k=b.$J;k?await b.ida(()=>h.getProgramParameter(g,k.COMPLETION_STATUS_KHR)):
await e.oG(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(a,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(a),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error linking shader program: "+
c);(b=e.u_(h.getProgramInfoLog(g)||"").trim())&&!e.sF(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);h.deleteShader(m);h.deleteShader(a);return g}static async Ua(b,a,d,c){d=await e.K.Ou.GY(b,a.src,d,c);return new e.K.Ou(b,d,a,c)}constructor(b,a,d,c){super(b,c,d);const h=b.X;var m=b.Cc;b.Mj();h.useProgram(a);this.X=h;this.ed=a;this.IB="<default-device-transform>"===c;c=h.getAttribLocation(a,"aPos");const g=h.getAttribLocation(a,"aTex");this.GJ=h.getAttribLocation(a,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,b.jD),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,b.XC),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.GJ&&(h.bindBuffer(h.ARRAY_BUFFER,b.zC),h.vertexAttribPointer(this.GJ,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.GJ));h.bindBuffer(h.ARRAY_BUFFER,null);this.PK=new e.K.nc(this,"matP","mat4");this.OK=new e.K.nc(this,"matMV","mat4");this.pq=new e.K.nc(this,"color",
"vec4");this.Mea=new e.K.nc(this,"samplerFront","sampler");this.SK=new e.K.nc(this,"pointTexStart","vec2");this.RK=new e.K.nc(this,"pointTexEnd","vec2");this.VK=new e.K.nc(this,"zElevation","float");this.TK=new e.K.nc(this,"tileSize","vec2");this.UK=new e.K.nc(this,"tileSpacing","vec2");this.NK=new e.K.nc(this,"color2_","vec4");this.QK=new e.K.nc(this,"outlineThickness","float");this.Xs=new e.K.nc(this,"samplerBack","sampler");this.Lea=new e.K.nc(this,"samplerDepth","sampler");this.Vn=new e.K.nc(this,
"destStart","vec2");this.Un=new e.K.nc(this,"destEnd","vec2");this.Cj=new e.K.nc(this,"srcStart","vec2");this.pm=new e.K.nc(this,"srcEnd","vec2");this.rm=new e.K.nc(this,"srcOriginStart","vec2");this.qm=new e.K.nc(this,"srcOriginEnd","vec2");this.ph=new e.K.nc(this,"pixelSize","vec2");this.ao=new e.K.nc(this,"seconds","float");this.Wn=new e.K.nc(this,"devicePixelRatio","float");this.Yn=new e.K.nc(this,"layerScale","float");this.Xn=new e.K.nc(this,"layerAngle","float");this.$n=new e.K.nc(this,"layoutStart",
"vec2");this.Zn=new e.K.nc(this,"layoutEnd","vec2");this.RT=!!(this.ph.aa||this.ao.aa||this.Xs.aa||this.Vn.aa||this.Un.aa||this.Cj.aa||this.pm.aa||this.rm.aa||this.qm.aa||this.Wn.aa||this.Yn.aa||this.Xn.aa||this.$n.aa||this.Zn.aa);b=d.parameters||[];this.qq=[];this.NV=this.ph.aa||this.Cj.aa||this.pm.aa||this.rm.aa||this.qm.aa;this.KI=this.LI=!1;this.pq.RN();this.NK.RN();this.Mea.aF(0);this.Xs.aF(1);this.Lea.aF(2);this.SK.Ig(0,0);this.RK.Ig(1,1);this.VK.Ho(0);this.TK.Ig(0,0);this.UK.Ig(0,0);this.Vn.Ig(0,
0);this.Un.Ig(1,1);this.Cj.Ig(0,0);this.pm.Ig(0,0);this.rm.Ig(0,0);this.qm.Ig(0,0);this.ph.Ig(0,0);this.Wn.Ho(1);this.Yn.Ho(1);this.Xn.Ho(0);this.ao.Ho(0);this.$n.Ig(0,0);this.Zn.Ig(0,0);this.QK.Ho(1);for(const k of b)b=k[2],a=new e.K.nc(this,k[0],b),"color"===b?a.B1():a.Ho(0),this.qq.push(a);this.IB?this.XS(m.xx):(this.Nz(m.xx,!0),this.Mz(m.qD,!0));m=m.wi;h.useProgram(m?m.ed:null)}A(){this.X.deleteProgram(this.ed);this.ed=null;this.ya.dba(this);this.X=null;super.A()}$f(){return this.ed}Py(b){return this.qq[b].ak()}SX(b){for(let a=
0,d=b.length;a<d;++a)if(!this.qq[a].x2(b[a]))return!1;return!0}p5(b){for(let a=0,d=b.length;a<d;++a)this.qq[a].j5(b[a])}TX(b,a,d,c,h,m,g,k,n,p){return this.Xs.aa||this.ph.aa&&!this.ph.ol(h,m)||this.Vn.aa&&!this.Vn.ol(b.fa,b.Y)||this.Un.aa&&!this.Un.ol(b.na,b.ka)||this.Wn.aa&&!this.Wn.mz(g)||this.Yn.aa&&!this.Yn.mz(k)||this.Xn.aa&&!this.Xn.mz(n)||this.Cj.aa&&!this.Cj.ol(a.fa,a.Y)||this.pm.aa&&!this.pm.ol(a.na,a.ka)||this.rm.aa&&!this.rm.ol(d.fa,d.Y)||this.qm.aa&&!this.qm.ol(d.na,d.ka)||this.$n.aa&&
!this.$n.ol(c.fa,c.Y)||this.Zn.aa&&!this.Zn.ol(c.Y,c.ka)||this.ao.aa&&!this.ao.mz(p)?!1:!0}L5(b,a,d,c,h,m,g,k,n,p){this.Xs.aa||(this.ph.aa&&this.ph.sl(h,m),this.Vn.aa&&this.Vn.sl(b.fa,b.Y),this.Un.aa&&this.Un.sl(b.na,b.ka),this.Wn.aa&&this.Wn.Bz(g),this.Yn.aa&&this.Yn.Bz(k),this.Xn.aa&&this.Xn.Bz(n),this.Cj.aa&&this.Cj.sl(a.fa,a.Y),this.pm.aa&&this.pm.sl(a.na,a.ka),this.rm.aa&&this.rm.sl(d.fa,d.Y),this.qm.aa&&this.qm.sl(d.na,d.ka),this.$n.aa&&this.$n.sl(c.fa,c.Y),this.Zn.aa&&this.Zn.sl(c.Y,c.ka),
this.ao.aa&&this.ao.Bz(p))}Nz(b,a){this.LI&&!a||this.IB||(this.PK.aa&&this.PK.Oz(b),this.LI=!0)}K5(){this.LI=!1}Mz(b,a){this.KI&&!a||this.IB||(this.OK.aa&&this.OK.Oz(b),this.KI=!0)}J5(){this.KI=!1}XS(b){if(!this.IB)throw Error("not device transform shader");this.PK.Oz(b);b=this.ya;const a=b.S()/2,d=b.U()/2;b=b.xt(a,d,100*self.devicePixelRatio,a,d);this.OK.Oz(b)}M6(b){this.pq.aa&&this.pq.Lz(b[0],b[1],b[2],b[3])}static Cy(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.C,b=self.Hj.Am,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.K.nc=class{constructor(d,c,h){if(!a.has(h))throw Error("invalid uniform type");this.$b=d;this.X=this.$b.X;this.La=c;this.Ca=h;this.cJ="color"===this.Ca;this.hi=this.X.getUniformLocation(this.$b.$f(),c);this.aa=!!this.hi;d=a.get(h);this.Zb=new Float32Array(d);this.uj=new Float32Array(d)}A(){this.hi=this.X=this.$b=null}ak(){return this.Ca}Ho(d){this.aa&&
(this.Zb[0]=d,this.uj.set(this.Zb),this.X.uniform1f(this.hi,d))}aF(d){this.aa&&(this.Zb[0]=d,this.uj.set(this.Zb),this.X.uniform1i(this.hi,d))}Ig(d,c){this.aa&&(this.Zb[0]=d,this.Zb[1]=c,this.uj.set(this.Zb),this.X.uniform2f(this.hi,d,c))}B1(){this.aa&&(this.Zb[0]=0,this.Zb[1]=0,this.Zb[2]=0,this.uj.set(this.Zb),this.X.uniform3f(this.hi,0,0,0))}RN(){this.aa&&(this.Zb[0]=1,this.Zb[1]=1,this.Zb[2]=1,this.Zb[3]=1,this.uj.set(this.Zb),this.X.uniform4f(this.hi,1,1,1,1))}ep(d){d=Math.fround(d);const c=
this.Zb;c[0]!==d&&(c[0]=d,this.X.uniform1f(this.hi,d))}Te(d,c){d=Math.fround(d);c=Math.fround(c);const h=this.Zb;if(h[0]!==d||h[1]!==c)h[0]=d,h[1]=c,this.X.uniform2f(this.hi,d,c)}K6(d,c,h){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);const m=this.Zb;if(m[0]!==d||m[1]!==c||m[2]!==h)m[0]=d,m[1]=c,m[2]=h,this.X.uniform3f(this.hi,d,c,h)}Lz(d,c,h,m){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Zb;if(g[0]!==d||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=d,g[1]=c,g[2]=h,g[3]=
m,this.X.uniform4f(this.hi,d,c,h,m)}Oz(d){const c=this.Zb;b.Gj(c,d)||(e.Tga(c,d),this.X.uniformMatrix4fv(this.hi,!1,d))}x2(d){const c=this.uj;return this.cJ?c[0]===Math.fround(d.ab)&&c[1]===Math.fround(d.eb)&&c[2]===Math.fround(d.cb):c[0]===Math.fround(d)}j5(d){const c=this.uj;this.cJ?(c[0]=d.ab,c[1]=d.eb,c[2]=d.cb):c[0]=d}mz(d){return this.uj[0]===Math.fround(d)}ol(d,c){const h=this.uj;return h[0]===Math.fround(d)&&h[1]===Math.fround(c)}Bz(d){this.uj[0]=d}sl(d,c){const h=this.uj;h[0]=d;h[1]=c}}}
{"use strict";const e=self.C,b=self.Hj,a=b.Qx,d=b.Am;e.K.aY=class{constructor(c){this.no=c;this.qD=d.create();this.xx=d.create();this.Fj=this.wm=null;this.yW=!1;this.pD=a.Rf(1,1,1,1);this.wi=null;this.PL=new e.Rect;this.clearColor=e.B(e.ib,0,0,0,0)}};e.K.X6=class{constructor(c){const h=new ArrayBuffer(96);this.Ca=0;this.Cc=c;this.X=c.no.X;this.Pl=this.Ee=0;this.df=null;this.Hf=new Float32Array(h,0,16);this.up=new Float32Array(h,64,4);this.xV=new Float32Array(h,80,4);this.KC=[]}P1(c){this.Ca=1;this.Ee=
c;this.Pl=6}pZ(){const c=this.X;c.drawElements(c.TRIANGLES,this.Pl,c.UNSIGNED_SHORT,this.Ee)}Y1(c){this.Ca=2;this.df=c}CZ(){const c=this.X,h=this.df;c.bindTexture(c.TEXTURE_2D,h?h.wb:null)}bF(c){this.Ca=3;c.uh(this.up,0)}rZ(){const c=this.up,h=this.Cc;a.wa(h.pD,c);h.wi.M6(c)}vZ(){const c=this.up,h=this.Cc.wi;h.NK.aa&&h.NK.Lz(c[0],c[1],c[2],c[3])}Q1(c,h){this.Ca=4;this.Ee=c;this.Pl=h}qZ(){this.X.blendFunc(this.Ee,this.Pl)}Z1(c,h){this.Ca=5;const m=this.up;m[0]=0;m[1]=0;m[2]=c;m[3]=h}EZ(){const c=this.up;
this.X.viewport(c[0],c[1],c[2],c[3])}W1(c){this.Ca=6;d.wa(this.Hf,c)}AZ(){const c=this.Cc,h=c.no.qp,m=c.wi,g=this.Hf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Nz(g,!0):p.K5()}d.wa(c.xx,g)}T1(c){this.Ca=7;d.wa(this.Hf,c)}wZ(){const c=this.Cc,h=c.no.qp,m=c.wi,g=this.Hf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Mz(g,!0):p.J5()}d.wa(c.qD,g)}X1(c){this.Ca=8;this.df=c}BZ(){const c=this.X,h=this.df,m=this.Cc;h?(m.wm=h.Yg,m.Fj=h.Ep,m.yW&&m.Fj?c.bindFramebuffer(c.FRAMEBUFFER,m.Fj):c.bindFramebuffer(c.FRAMEBUFFER,
m.wm)):(m.wm=null,m.Fj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}F1(c){this.Ca=9;c.uh(this.Hf,0)}G1(){this.Ca=9;const c=this.Hf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}iZ(){const c=this.X;var h=this.Hf;const m=this.Cc.clearColor,g=h[0],k=h[1],n=h[2];h=h[3];m.sD(g,k,n,h)||(c.clearColor(g,k,n,h),m.oo(g,k,n,h));c.clear(c.COLOR_BUFFER_BIT)}xZ(){const c=this.Hf;this.Cc.PL.set(c[0],c[1],c[2],c[3])}oZ(){const c=this.X,h=this.Cc,m=h.no.QC;c.useProgram(m.ed);m.Nz(h.xx,!1);m.Mz(h.qD,!1);var g=h.PL;m.SK.aa&&m.SK.Te(g.fa,
g.Y);m.RK.aa&&m.RK.Te(g.na,g.ka);g=this.Hf[0];m.VK.aa&&m.VK.ep(g);m.pq.aa&&(g=h.pD,m.pq.Lz(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Ee/4,this.Pl);c.useProgram(h.wi.ed)}U1(c){this.Ca=11;this.df=c}yZ(){var c=this.X;const h=this.Cc,m=this.df;h.wi=m;c.useProgram(m.ed);m.Nz(h.xx,!1);m.Mz(h.qD,!1);m.pq.aa&&(c=h.pD,m.pq.Lz(c[0],c[1],c[2],c[3]))}V1(){this.Ca=12}zZ(){const c=this.Cc.wi;c.RT&&this.G8(c);c.qq.length&&this.H8(c)}G8(c){const h=this.X,m=this.Hf,g=this.up,k=this.xV;if(c.Xs.aa){const n=this.Cc.no,
p=this.df;n.An!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.wb:null),n.An=p,h.activeTexture(h.TEXTURE0))}c.ph.aa&&c.ph.Te(m[0],m[1]);c.Vn.aa&&c.Vn.Te(m[2],m[3]);c.Un.aa&&c.Un.Te(m[4],m[5]);c.Wn.aa&&c.Wn.ep(this.Pl);c.Yn.aa&&c.Yn.ep(m[6]);c.Xn.aa&&c.Xn.ep(m[7]);c.Cj.aa&&c.Cj.Te(m[12],m[13]);c.pm.aa&&c.pm.Te(m[14],m[15]);c.rm.aa&&c.rm.Te(k[0],k[1]);c.qm.aa&&c.qm.Te(k[2],k[3]);c.$n.aa&&c.$n.Te(g[0],g[1]);c.Zn.aa&&c.Zn.Te(g[2],g[3]);c.ao.aa&&c.ao.ep(this.Ee)}H8(c){c=c.qq;const h=this.KC;
for(let m=0,g=c.length;m<g;++m){const k=c[m],n=h[m];k.cJ?k.K6(n.ab,n.eb,n.cb):k.ep(n)}}L1(c){this.Ca=13;this.df=c}nZ(){const c=this.X,h=this.df,m=this.Cc.wm;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}C1(c,h){this.Ca=16;var m=this.Hf;const g=this.Cc.no;m[0]=c.S();m[1]=c.U();m[2]=h?h.S():g.S();m[3]=h?h.U():g.U();m[4]=c.nF()?1:0;m[5]=!0;m=this.KC;e.F(m);m.push(c.Yg);m.push(h?h.Yg:null)}gZ(){var c=this.Hf,
h=this.KC;const m=this.X;var g=c[0],k=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,k,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(k,p),n=Math.max(k-p,0),k=Math.max(p-k,0),m.blitFramebuffer(0,n,h,g+n,0,k,h,g+k,m.COLOR_BUFFER_BIT,m.NEAREST))}b2(c){this.Ca=17;this.df=c}FZ(){this.df.WD();this.df=null}K1(c){this.Ca=18;this.df=c}mZ(){this.df.nE();this.df=
null}uZ(){const c=this.Cc.wi,h=this.Hf;c.ph.aa&&c.ph.Te(h[0],h[1]);c.QK.aa&&c.QK.ep(h[2])}DZ(){const c=this.Cc.wi,h=this.Hf;c.Cj.aa&&c.Cj.Te(h[0],h[1]);c.ph.aa&&c.ph.Te(h[4],h[5]);c.TK.aa&&c.TK.Te(h[6],h[7]);c.UK.aa&&c.UK.Te(h[8],h[9])}E1(c){this.Ca=21;this.Ee=c?1:0}hZ(){const c=this.X,h=0!==this.Ee;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}R1(c){this.Ca=22;this.Ee=c?1:0}sZ(){const c=this.X;0===this.Ee?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}S1(c){this.Ca=
23;this.Ee=c?1:0}tZ(){const c=this.X,h=this.Cc,m=h.no,g=0!==this.Ee;h.yW=g;c.activeTexture(c.TEXTURE2);g?(h.Fj&&c.bindFramebuffer(c.FRAMEBUFFER,h.Fj),c.bindTexture(c.TEXTURE_2D,m.Wg)):(c.bindTexture(c.TEXTURE_2D,null),h.Fj&&c.bindFramebuffer(c.FRAMEBUFFER,h.wm));c.activeTexture(c.TEXTURE0)}J1(){this.Ca=24}lZ(){const c=this.X;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}I1(){this.Ca=25}kZ(){const c=
this.X;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}H1(){this.Ca=26}jZ(){const c=this.X;c.disable(c.STENCIL_TEST)}xa(){switch(this.Ca){case 1:this.pZ();break;case 2:this.CZ();break;case 3:this.rZ();break;case 4:this.qZ();break;case 5:this.EZ();break;case 6:this.AZ();break;case 7:this.wZ();break;case 8:this.BZ();break;case 9:this.iZ();break;case 10:this.oZ();break;case 11:this.yZ();break;case 12:this.zZ();break;case 13:this.nZ();break;case 14:this.xZ();break;
case 15:this.DZ();break;case 16:this.gZ();break;case 17:this.FZ();break;case 18:this.mZ();break;case 19:this.uZ();break;case 20:this.vZ();break;case 21:this.hZ();break;case 22:this.sZ();break;case 23:this.tZ();break;case 24:this.lZ();break;case 25:this.kZ();break;case 26:this.jZ()}}}}
{"use strict";const e=self.C,b={timeout:60},a=new e.ib(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;e.y_&&e.y_.addEventListener("fontload",p=>{p=p.font.Da();for(const q of m)(q.ci||e.th(q.lB,p))&&q.vk()});function g(p,q,u,w,r,v){q?"Gecko"===e.ld.Zx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===e.ld.Zx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let k=!1,n=!1;e.K.CF=class{constructor(p,q){q=Object.assign({},b,q);this.ya=
p;this.lB="Arial";this.mB=16;this.nB=1;this.Sp=0;this.Bf=this.Af=!1;this.SA="black";this.ci=!1;this.LL=null;this.KH=new Set;this.yf="left";this.gf="top";this.td="";this.Av=null;this.ho=e.B(e.pG);this.cL="word";this.pJ=this.YC=!1;this.iw=!0;this.xp=-1;this.W=this.Z=this.kI=this.Sr=this.cs=0;this.vi=1;this.fI=!1;this.Dw=this.$l=this.ge=this.lq=null;this.tU=this.uU=-1;this.bC=this.vU=this.uJ="";this.vJ=this.wJ=1;this.KU=(u,w)=>this.VR(u,w);this.wb=null;this.cx=this.hx=0;this.sg=new e.Rect;this.Sw=1;
this.SJ=!1;this.IK=new e.x1(()=>{this.Ri();this.GS(8,8)},q.timeout);this.CD=null;this.vx=!1;m.add(this)}A(){this.LL=null;this.KH.clear();this.KU=this.Dw=this.$l=this.ge=this.lq=this.Av=null;this.IK.A();this.CD=null;this.Ri();this.ho.Ed();this.ya=this.ho=null;this.vx=!0;m.delete(this)}np(){this.fI=!0}vk(){this.np();this.ho.Ed();this.YC=!0}DP(){this.iw=!1}Jg(){return this.iw}i5(p){p=!!p;this.ci!==p&&(p=(this.ci=p)?"alphabetic":"top",this.ge&&(this.ge.textBaseline=p),this.$l&&(this.$l.textBaseline=p),
this.vk())}QF(p){p||(p="serif");this.lB!==p&&(this.lB=p,this.vk())}Ez(p){.1>p&&(p=.1);this.mB!==p&&(this.mB=p,this.vk())}A5(p){this.nB!==p&&(this.nB=p,this.vk())}HP(p){this.Sp!==p&&(this.Sp=p,this.np())}pP(p){p=!!p;this.Af!==p&&(this.Af=p,this.vk())}FP(p){p=!!p;this.Bf!==p&&(this.Bf=p,this.vk())}PF(p){p=Math.floor(p);this.xp!==p&&(this.xp=p,this.np())}$i(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Br(p,q){return!!this.$i(p,q)}gR(p,q){let u=[];(this.Af||this.Br(q,
"b"))&&u.push("bold");(this.Bf||this.Br(q,"i"))&&u.push("italic");var w=this.$i(q,"size");w=(w?parseFloat(w.yi):this.mB)*this.nB;p?u.push(w+"pt"):u.push(w*this.Sw*this.vi*self.devicePixelRatio+"pt");p=this.lB;(q=this.$i(q,"font"))&&q.yi&&(p=q.yi,this.LL&&!this.KH.has(p)&&(this.LL(p),this.KH.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Zm(p){p instanceof e.ib&&(p=p.zfa());this.SA!==p&&(this.SA=p,this.np())}rP(p,q,u){a.pt(p,q,u);this.Zm(a)}zP(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.yf!==p&&(this.yf=p,this.np())}UP(p){if(!c.has(p))throw Error("invalid vertical alignment");this.gf!==p&&(this.gf=p,this.np())}i6(p){if(!h.has(p))throw Error("invalid word wrap mode");this.cL!==p&&(this.cL=p,this.vk())}Iu(p){this.td!==p&&(this.td=p,this.vk())}qd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Sr===p&&this.kI===q&&this.vi===u)){1===this.vi!==(1===u)&&(this.SJ=!0);var w=this.Sr,r=this.vi;this.Sr=p;this.kI=q;this.vi=u;p=self.devicePixelRatio;this.Z=this.Sr*this.vi*p;this.W=
this.kI*this.vi*p;p=Math.max(this.Z,this.W);q=Math.min(this.ya.oC,2048);u=1;p>q&&(u=q/p,this.Z=Math.min(this.Z*u,q),this.W=Math.min(this.W*u,q));this.Sw=u;0<this.hx&&0<this.cx&&this.vi===r&&this.sg.set(0,0,this.Z/this.hx,this.W/this.cx);this.Sr!==w?this.vk():this.np()}}S(){return this.Z}U(){return this.W}N0(){this.$G();return this.ho.w0()}M0(){this.$G();return this.ho.Q0()+this.ho.Bn.length*(this.Sp+4)-this.Sp}me(){this.IK.md();this.R$();return this.wb}R$(){this.wb&&!this.fI&&!this.YC||this.pJ||0>=
this.Z||0>=this.W||(this.fI=!1,this.pJ=!0,this.iw?e.$k(()=>this.QQ()):this.QQ())}QQ(){this.vx||(this.GS(Math.ceil(this.Z),Math.ceil(this.W)),this.$G(),this.X8(),this.dda(),this.IK.md(),this.pJ=!1)}GS(p,q){this.lq||(this.lq=e.yh(16,16));let u=!1;if(this.uU!==p||this.tU!==q)this.uU=p,this.tU=q,this.lq.width=p,this.lq.height=q,u=!0;this.ge||(this.ge=this.lq.getContext("2d"),u=!0);u?(this.ge.textBaseline=this.ci?"alphabetic":"top",this.ge.font=this.uJ,this.ge.fillStyle=this.bC,this.ge.strokeStyle=this.bC,
this.ge.globalAlpha=this.wJ,this.ge.lineWidth=this.vJ):this.ge.clearRect(0,0,p,q)}NR(){this.$l||(this.$l=e.yh(16,16).getContext("2d"),this.Dw=e.yh(16,16).getContext("2d"),this.$l.textBaseline=this.ci?"alphabetic":"top",this.Dw.textBaseline="top")}rca(p){this.vU!==p&&(this.vU=p,this.$l.font=p,this.Dw.font=p)}PS(){if(!k){k=!0;this.NR();const p=this.$l.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}$G(){this.YC&&(this.NR(),!this.ci||
this.Av&&this.Av.toString()===this.td||(this.Av=new e.Gm(this.td,{ega:!0})),this.ho.pG(this.ci?this.Av.Lga():this.td,this.KU,this.Sr,this.cL,0),this.YC=!1)}VR(p,q){this.rca(this.gR(!0,q));q=this.$i(q,"size");q=(q?parseFloat(q.yi):this.mB)*this.nB;const u=this.$l.measureText(p);let w=0;this.ci&&this.PS()&&(w=u.fontBoundingBoxAscent-this.Dw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Ag:u.fontBoundingBoxAscent||0,Qf:u.fontBoundingBoxDescent||0,Tf:w}}$ba(p){this.uJ!==p&&(this.uJ=
p,this.ge.font=p)}lA(p){this.bC!==p&&(this.bC=p,this.ge.fillStyle=p,this.ge.strokeStyle=p)}Zba(p){this.wJ!==p&&(this.wJ=p,this.ge.globalAlpha=p)}BS(p){this.vJ!==p&&(this.vJ=p,this.ge.lineWidth=p)}X8(){this.cs=0;const p=this.Sw*this.vi*self.devicePixelRatio,q=(4+this.Sp)*p;var u=0;const w=this.ho.Bn;if(0!==w.length){var r=this.ci&&this.PS(),v=w[0].height*p;"center"===this.gf?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.W/2-u/2,0),r&&(v=w[0].Tf*p)):"bottom"===this.gf&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.Sp*p,u=this.W-u-(r?w.ie(-1).Qf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.ci){if(u+=0===y?v:G,0<y&&u>this.W-4*p)break}else if(0<y&&u>=this.W-G)break;0<=z&&this.W8(r,u,p);this.ci||(u+=G);u+=q}}}W8(p,q,u){let w=0;"center"===this.yf?w=(this.Z-p.width*u)/2:"right"===this.yf&&(w=this.Z-p.width*u);for(const r of p.qW)this.V8(r,w,q,u,p.height),w+=r.width*u}V8(p,q,u,w,r){const v=this.ge;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.Sp)*w,F=p.xd,H=p.text;if(-1!==this.xp){if(this.cs>=this.xp)return;this.cs+H.length>this.xp&&(H=H.substr(0,this.xp-this.cs),r=this.VR(H,F).width*w);this.cs+=H.length}var J=this.$i(F,"background"),M=this.Br(F,"u");p=this.Br(F,"s");if((!e.sF(H)||J||M||p)&&!this.Br(F,"hide")){var P=this.$i(F,"offsetx");q+=P?parseFloat(P.yi)*w:0;P=this.$i(F,"offsety");u+=P?parseFloat(P.yi)*w:0;J&&(this.lA(J.yi),v.fillRect(q,u-A,r,A+z));P=this.$i(F,"color");this.lA(P?P.yi:this.SA);z=this.$i(F,"opacity");this.Zba(z?
parseFloat(z.yi)/100:1);z=(z=this.$i(F,"linethickness"))?parseFloat(z.yi):1;(J=this.Br(F,"stroke"))&&this.BS(.5*G*z*this.Sw*this.vi*self.devicePixelRatio);this.$ba(this.gR(!1,F));g(v,J,H,q,u,r);!J&&(this.BS(.5*G*z*this.Sw*this.vi*self.devicePixelRatio),F=this.$i(F,"outline"))&&(this.lA(F.yi),g(v,!0,H,q,u,r));this.lA(P?P.yi:this.SA);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}dda(){this.ya.Jo()||(this.hx=Math.ceil(this.Z),
this.cx=Math.ceil(this.W),this.sg.set(0,0,this.Z/this.hx,this.W/this.cx),this.SJ&&(this.Ri(),this.SJ=!1),this.wb||(this.wb=this.ya.GM(this.hx,this.cx,{BD:1===this.vi,Jx:"high"})),this.ya.P6(this.lq,this.wb),this.CD&&this.CD())}$j(){return this.sg}Ri(){this.wb&&(this.ya.Jo()||this.ya.Lj(this.wb),this.wb=null)}static ql(){for(const p of m)p.Ri()}}}
{"use strict";const e=self.C;class b{constructor(a){this.X=a.X;this.vd=a.vd;this.Ld=a.Ld;this.li=null;this.Zv=this.Pb=!1;this.HC=0;this.li=1===this.vd?this.Ld.createQueryEXT():this.X.createQuery()}A(){this.LQ();this.Ld=this.X=null;this.Zv=!1}LQ(){this.li&&(1===this.vd?this.Ld.deleteQueryEXT(this.li):this.X.deleteQuery(this.li),this.li=null)}WD(){if(this.Pb)throw Error("query already active");1===this.vd?this.Ld.beginQueryEXT(this.Ld.TIME_ELAPSED_EXT,this.li):this.X.beginQuery(this.Ld.TIME_ELAPSED_EXT,
this.li);this.Pb=!0}nE(){if(!this.Pb)throw Error("query not active");1===this.vd?this.Ld.endQueryEXT(this.Ld.TIME_ELAPSED_EXT):this.X.endQuery(this.Ld.TIME_ELAPSED_EXT);this.Pb=!1}cE(){if(this.li&&!this.Zv&&!this.Pb){var a=1===this.vd?this.Ld.getQueryObjectEXT(this.li,this.Ld.QUERY_RESULT_AVAILABLE_EXT):this.X.getQueryParameter(this.li,this.X.QUERY_RESULT_AVAILABLE);var d=this.X.getParameter(this.Ld.GPU_DISJOINT_EXT);a&&!d&&(this.HC=1===this.vd?this.Ld.getQueryObjectEXT(this.li,this.Ld.QUERY_RESULT_EXT):
this.X.getQueryParameter(this.li,this.X.QUERY_RESULT),this.HC/=1E9,this.Zv=!0);(a||d)&&this.LQ()}}cz(){return this.Zv}Vy(){if(!this.Zv)throw Error("no result available");return this.HC}}e.K.Z6=class{constructor(a){this.ya=a;this.ai=a.ai;this.Pb=!1;this.Hn=null;this.xn=!1;this.Is=null;this.cq=[]}A(){for(const a of this.cq)a instanceof b&&a.A();e.F(this.cq);this.ya=this.Is=this.Hn=null}WD(){if(this.Pb)throw Error("query already active");const a=this.ya.DV;0<a.length?(this.xn=!0,this.Hn=a.ie(-1),this.Hn.VQ(),
this.Hn.cq.push(this)):(this.xn=!1,this.Hn=null);this.Pb=!0;a.push(this);this.MS()}nE(){if(!this.Pb)throw Error("query not active");if(this.ya.DV.pop()!==this)throw Error("can only end most nested query");this.Pb=!1;this.VQ();this.Hn&&(this.Hn.MS(),this.Hn=null)}MS(){this.Is=e.B(b,this.ya);this.cq.push(this.Is);this.Is.WD()}VQ(){this.Is.nE();this.Is=null}cE(){for(const a of this.cq)a.cE()}cz(){return this.cq.every(a=>a.cz())}Vy(){return this.cq.reduce((a,d)=>a+d.Vy(),0)}}}
{"use strict";const e=self.C;e.K.kQ=class{constructor(b,a=1E3){this.ya=b;this.nea=a;this.zk=[];this.ya.r7(this)}A(){this.Ed();this.ya.cba(this);this.ya=null}Ed(){for(const b of this.zk)b.A();e.F(this.zk)}UD(){const b=new e.K.Z6(this.ya);this.zk.push(b);this.zk.length>this.nea&&this.zk.shift().A();return b}uY(b){for(const a of this.zk){if(a.ai>=b)break;if(a.xn)break;a.cE()}}mN(b,a){if(a<=b)return NaN;let d=0;for(const c of this.zk){if(c.ai>=a)break;if(!(c.ai<b))if(c.cz())d+=c.Vy();else return NaN}return d}MM(b){for(let a=
0,d=this.zk.length;a<d;++a){const c=this.zk[a];if(c.ai<b)c.A();else{0<a&&this.zk.splice(0,a);break}}}}}
{"use strict";const e=self.C,b=self.Hj,a=b.Qx,d=b.Am,c={powerPreference:"default",pW:!0,alpha:!1,FL:!1,depth:!1,kL:!1,GW:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new e.Hd(0,0,1,0,1,1,0,1),g=d.create(),k=d.create(),n=new e.Hd,p=new e.Rect;let q=null;e.Ex&&(self.Jqa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Kqa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.afa()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}e.K.Y6=class extends e.K.I4{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.FL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.GW&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.X=G;this.cT=G.getContextAttributes();y.FL&&!this.cT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.vd=z;this.yg=a.create();this.sn=!1;this.SH=d.create();this.um=!!y.depth;this.Fv=!(!y.depth||!y.kL);this.Lp=this.um;this.dJ=!1;this.Wg=null;this.bJ=!0;this.pT=this.qT=0;this.zC=this.bU=this.XC=this.jD=null;this.tx=
new Float32Array(24E3);this.cU=new Uint16Array(12E3);this.kq=new Float32Array(16E3);this.ZU=new Float32Array(32E3);this.wU=this.AC=this.Fe=this.ti=0;this.hq=this.Qp=null;this.zv=[];this.vc=this.kn=0;this.Zd=null;this.Cc=e.B(e.K.aY,this);this.ww=e.B(e.ib,1,1,1,1);this.An=this.Yl=null;this.rJ=this.tJ=0;this.iea=new e.Rect;this.oC=-1;this.MJ=0;this.ox="(unavailable)";this.gJ=!1;this.Pv=this.tv=this.$J=null;this.LJ=0;this.fea=!!y.pW;this.Ld=null;this.zA=new Set;this.DV=[];this.t_(this.cU)}pl(){return!0}async hz(){super.hz();
var v=this.X;this.ww.oo(1,1,1,1);this.An=this.Yl=null;this.AC=this.ti=0;this.wU=23988;e.F(this.zv);this.vc=this.kn=0;this.Zd=this.Qp=null;this.iea.set(0,0,1,1);var y=this.Cc;y.wi=null;y.wm=null;y.Fj=null;a.set(y.pD,1,1,1,1);y.clearColor.oo(0,0,0,0);y.PL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.tJ=v.ONE;this.rJ=v.ONE_MINUS_SRC_ALPHA;this.U9(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.um?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Lp=this.um;this.dJ=!1;this.zC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.zC);v.bufferData(v.ARRAY_BUFFER,this.ZU.byteLength,v.DYNAMIC_DRAW);this.jD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.jD);v.bufferData(v.ARRAY_BUFFER,this.tx.byteLength,v.DYNAMIC_DRAW);this.XC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.XC);v.bufferData(v.ARRAY_BUFFER,this.kq.byteLength,v.DYNAMIC_DRAW);
this.bU=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.bU);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.cU,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.oC=v.getParameter(v.MAX_TEXTURE_SIZE);this.MJ=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.MJ&&(this.MJ=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.ox=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.$J=v.getExtension("KHR_parallel_shader_compile");
e.Ex&&(q=v.getExtension("WEBGL_lose_context"));if(this.fea)if(1===this.vd){if("Chromium"!==e.ld.Zx||81<=e.ld.YD||"undefined"!==typeof document)this.Ld=v.getExtension("EXT_disjoint_timer_query")}else this.Ld=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.LJ=(this.tv=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.tv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.vd&&this.um&&this.Fv&&(this.Pv=v.getExtension("WEBGL_depth_texture"),
!this.Pv))throw Error("no depth texture support");v=e.K.Ou;y=v.Cy(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Cy(!0),"<tilemap>"]].map(A=>this.hE({src:A[0]},A[1],A[2])));this.RC=v[0];this.hq=v[1];this.QC=v[2];this.wK=v[3];this.nk()}async hE(v,y,A){v=await e.K.Ou.Ua(this,v,y,A);this.s7(v);return v}O4(){this.Qp=null}qd(v,y,A){if(this.Z!==v||this.W!==y||A){this.Mj();A=this.X;var G=this.Cc;this.Z=v;this.W=y;this.JS(v,y);this.yq(this.SH,v/y);this.Zo(this.SH);this.hq&&(A.useProgram(this.hq.$f()),this.hq.XS(this.nC),this.Qp=this.hq,this.Cc.wi=this.hq);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.An=this.Yl=null;this.um&&this.bJ&&this.mH(this.Z,this.W);this.Zd&&this.Zd.nS(this.Z,this.W);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Zd=null;G.wm=null;G.Fj=null}}mH(v,y){const A=this.X;this.Wg&&this.qT===v&&this.pT===y||(this.Fv?(this.Wg&&A.deleteTexture(this.Wg),this.Wg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Wg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.vd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Pv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Pv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Wg&&A.deleteRenderbuffer(this.Wg),this.Wg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Wg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.vd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.qT=v,this.pT=y)}z5(v,y){this.um&&(this.bJ=!1,this.mH(v,y))}h5(){this.um&&(this.bJ=!0,this.mH(this.Z,this.W))}JS(v,y){const A=this.yg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Jc().Z1(v,y),a.set(A,0,0,v,y),this.vc=0}Zo(v){d.Gj(this.nC,v)||(this.Jc().W1(v),d.wa(this.nC,v),this.vc=0,this.sn=!0)}uP(){let v,y;var A=this.Zd;null===A?(v=this.SH,y=this.S(),A=this.U()):
(v=A.Kk,y=A.S(),A=A.U());this.Zo(v);this.JS(y,A)}kr(v){d.Gj(this.JJ,v)||(this.Jc().T1(v),d.wa(this.JJ,v),this.vc=0,this.sn=!0)}M4(){this.sn=!1}Jc(){const v=this.zv;this.kn===v.length&&v.push(new e.K.X6(this.Cc));return v[this.kn++]}Mj(){0===this.kn||this.Jo()||(this.mda(),this.a9(),this.vc=this.AC=this.Fe=this.ti=this.kn=0)}mda(){const v=this.X;0<this.AC&&(v.bindBuffer(v.ARRAY_BUFFER,this.zC),v.bufferSubData(v.ARRAY_BUFFER,0,this.ZU.subarray(0,this.AC)));0<this.ti&&(v.bindBuffer(v.ARRAY_BUFFER,this.jD),
v.bufferSubData(v.ARRAY_BUFFER,0,this.tx.subarray(0,this.ti)),v.bindBuffer(v.ARRAY_BUFFER,this.XC),v.bufferSubData(v.ARRAY_BUFFER,0,this.kq.subarray(0,this.Fe)))}a9(){const v=this.zv;for(let y=0,A=this.kn;y<A;++y)v[y].xa()}ke(){return this.ww.bb}tf(v,y,A,G){const z=this.ww;z.sD(v,y,A,G)||(z.oo(v,y,A,G),this.Jc().bF(z),this.vc=0,this.kj=null)}lk(v){const y=this.ww;y.bb!==v&&(y.nt(v),this.Jc().bF(y),this.vc=0,this.kj=null)}Zm(v){const y=this.ww;y.wd(v)||(y.set(v),this.Jc().bF(y),this.vc=0,this.kj=null)}su(){this.tf(1,
1,1,1)}gg(v){v!==this.Yl&&(this.Jc().Y1(v),this.Yl=v,this.vc=0)}eH(){this.Yl=null}fg(v){v=this.t9(v);this.lH(v[0],v[1])}lH(v,y){if(v!==this.tJ||y!==this.rJ)this.Jc().Q1(v,y),this.tJ=v,this.rJ=y,this.vc=0,this.kj=null}oP(){this.lH(this.X.ONE,this.X.ONE_MINUS_SRC_ALPHA)}OF(){this.lH(this.X.ONE,this.X.ZERO)}Rect(v){this.TO(v.fa,v.Y,v.na,v.ka)}TO(v,y,A,G){this.r4(v,y,A,y,A,G,v,G)}Tu(){let v=this.ti;v>=this.wU&&(this.Mj(),v=0);1===this.vc?this.zv[this.kn-1].Pl+=6:(this.Jc().P1(v),this.vc=1)}xH(v){v.Xga(this.tx,
this.ti,this.xv+this.Ov);this.ti+=12}Hd(v){this.Tu();this.xH(v);m.uh(this.kq,this.Fe);this.Fe+=8}r4(v,y,A,G,z,F,H,J){this.Tu();const M=this.tx;let P=this.ti;const R=this.xv+this.Ov;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.ti=P;m.uh(this.kq,this.Fe);this.Fe+=8}$q(v,y){this.Tu();this.xH(v);y.Wga(this.kq,this.Fe);this.Fe+=8}s4(v,y){this.Tu();this.xH(v);y.uh(this.kq,this.Fe);this.Fe+=8}uz(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.Tu();const X=
this.tx;let ba=this.ti;const Y=this.xv+this.Ov;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.ti=ba;Z.uh(this.kq,this.Fe);this.Fe+=8}A_(v,y){d.wa(g,this.nC);d.wa(k,this.JJ);this.uP();const [A,G]=this.Uy(this.Zd);var z=this.xt(0,0,100*self.devicePixelRatio,0,0,G);this.kr(z);if("crop"===v&&this.Zd&&y){v=this.Z/2;z=this.W/2;const J=y.S();y=y.U();var F=this.Zd.S(),H=this.Zd.U();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.Jj(p);p.set(0,P,F,M+P);p.ym(J,y);this.$q(n,p)}else v=A/2,z=G/2,this.TO(-v,z,v,-z);this.Zo(g);this.kr(k)}pr(v){this.Qp!==v&&(this.Jc().U1(v),this.Qp=v,this.vc=0,this.kj=null)}OP(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Qp;var X=Z.RT;const ba=!!T.length;if(X&&!Z.TX(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.SX(T)){var Y=this.Jc();Y.V1();X&&(Z.L5(y,A,G,z,F,H,J,M,P,R),X=Y.Hf,X[0]=F,X[1]=H,y.uh(X,2),X[6]=M,X[7]=P,A.uh(X,12),y=Y.up,z.uh(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.uh(Y.xV,0),Y.Ee=R,Y.Pl=J,Y.df=Z.Xs.aa?v?v.me():null:null);ba&&(Z.p5(T),e.Sc(Y.KC,T));this.vc=0}}to(){this.Jc().G1();this.vc=0}Ed(v){this.Jc().F1(v);this.vc=0}Ku(){}Et(){super.Et();this.X.flush()}vY(){this.um&&this.Zd&&this.Zd.Zc&&(this.Jc().E1(this.Lp),this.vc=0)}Ng(v){v=!!v;this.Lp!==v&&this.um&&(this.Lp=v,this.Jc().R1(v),this.vc=0)}zu(v){v=!!v;if(this.Fv&&this.dJ!==v){if(v&&this.Lp)throw Error("depth still enabled");this.dJ=v;this.Jc().S1(v);this.vc=0}}tY(){for(const v of this.zA)v.uY(this.ai)}Jo(){return!this.X||
this.X.isContextLost()||this.gJ}ql(){super.v3();e.K.Qz.ql();e.K.lQ.ql();e.K.CF.ql();for(const v of this.zA)v.Ed();this.Pv=this.tv=this.$J=this.Ld=null;this.LJ=0;this.ox="(unavailable)";this.Wg=this.hq=this.Qp=null;for(const v of this.$w.values())v.ql()}async xF(){this.gJ=!0;await this.hz();this.gJ=!1;for(const v of this.$w.values())v.xF(this);this.qd(this.Z,this.W,!0)}iy(v,y){if(this.Jo())throw Error("context lost");this.Mj();const A=e.B(e.K.Qz,this);A.a8(v,y);return A}jy(v,y){if(this.Jo())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.ND&&"clamp-to-edge"!==y.ND||y.OD&&"clamp-to-edge"!==y.OD;if(!e.mc.ImageBitmapOptions||!this.bp()&&A)return e.mc.ImageBitmap?createImageBitmap(v).then(G=>e.$k(()=>this.iy(G,y))):v instanceof Blob?e.fY(v).then(G=>this.jy(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>e.$k(()=>this.iy(v,y))):e.$k(()=>this.iy(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
e.$k(()=>this.iy(G,y)))}GM(v,y,A){this.Mj();const G=e.B(e.K.Qz,this);G.N7(v,y,A);return G}P6(v,y){this.Mj();y.SS(v,void 0)}Lj(v){v&&(v.x6(),0<v.Pc||(this.Mj(),v===this.Yl&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.Yl=null),v===this.An&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.An=null),v.CG()))}TY(v){let y=this.Z,A=this.W,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Mj();const z=e.B(e.K.lQ,this);z.M7(y,A,Object.assign({xW:G},v));this.Zd=null;this.Cc.wm=null;this.Cc.Fj=null;return z}Og(v,y=!0){v!==this.Zd&&(v&&v.HB&&v.nS(this.Z,this.W),this.Jc().X1(v),this.Zd=v,this.vc=0,y&&this.uP())}jl(){return this.Zd}Uy(v){return v?[v.S(),v.U()]:[this.Z,this.W]}DM(v){2>this.vd||this.Zd&&0<this.Zd.am?(this.OF(),this.su(),this.ty(v,"stretch")):(this.Jc().C1(v,this.Zd),this.vc=0)}ty(v,y="stretch"){v=v.me();if(!v)throw Error("not a texture-backed render target");
this.gg(v);this.A_(y,v)}Oq(v){2>this.vd||(this.Jc().L1(v.Yg),this.vc=0)}eZ(v){this.Og(null);this.Mj();const y=v.me();y===this.Yl&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.Yl=null);y===this.An&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.An=null);v.CG()}CM(){this.Ng(!0);this.Jc().J1();this.vc=0}BM(){this.Ng(!1);this.Jc().I1();this.vc=0}AM(){this.Ng(!0);this.Jc().H1();this.vc=0}hG(v){this.pk()&&(this.Jc().b2(v),
this.vc=0)}mE(v){this.pk()&&(this.Jc().K1(v),this.vc=0)}ida(v){const y=new Promise(A=>u.add({resolve:A,afa:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}o2(){return!!this.cT.desynchronized}T_(){let v=0;for(const y of e.K.Qz.Sea())v+=y.CE();return v}bp(){return 2<=this.vd}pk(){return!!this.Ld}r7(v){this.zA.add(v)}cba(v){this.zA.delete(v)}U9(v){this.T9([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const e={sW:null,tW:null,SW:null,getTime:null,RW:null};self.C.K.j_=class{constructor(b){b=Object.assign({},e,b);this.jT=b.sW;this.Gda=b.tW;this.Jda=b.SW;this.Hda=b.getTime;this.Ida=b.RW}gN(b){return this.jT?this.jT(b):[b.S(),b.U()]}jl(b){return this.Gda(b)}z4(b,a){this.Jda(b,a)}Ha(){return this.Hda()}wz(b){this.Ida(b)}}}
{"use strict";const e=self.C,b=self.Hj.Am,a=e.B(e.Rect),d=e.B(e.Rect),c=e.B(e.Rect),h=e.B(e.Rect),m=b.create(),g=b.create(),k={rD:null,uW:null,wD:null,AL:!1},n={et:null,uD:!1,rL:!1,BL:!1,BW:!1,zW:!1,KD:!1},p={nD:null,Bqa:null,io:0,devicePixelRatio:1,Fx:1,zD:0,jt:null,Ax:null,mW:null,fW:0,gW:0,lX:!1};e.K.Ie=class{constructor(q,u){u=Object.assign({},k,u);this.eh=q;this.cI=u.rD;this.Hv=u.uW;this.kT=u.wD;this.OA=null;this.LC=[];this.Tw=[];this.jq=[];this.Ug=0;this.Ys=this.Gv=this.rT=this.sn=this.EB=this.aJ=
!1;this.Vp=0;this.im=[null,null,null];this.hU=!!u.AL;this.$c=this.sd=this.Dv=this.Cv=0;this.qn=null;this.xw=e.B(e.Rect);this.Ll=e.B(e.Rect);this.gm=e.B(e.Rect);this.Hs=e.B(e.Rect);this.Ln=e.B(e.Rect);this.yJ=this.Zr=1;this.jc=this.xJ=0;this.YA=null;this.iI=this.hI=0;this.WK=!1;this.Kk=b.create();this.Fw=b.create()}A(){e.F(this.jq);e.F(this.LC);e.F(this.Tw);this.kT=this.Hv=this.cI=this.qn=null}ZD(q,u){u=Object.assign({},n,u);e.F(this.jq);this.Dv=this.Cv=0;this.EB=this.aJ=!1;this.Vp=0;this.Ys=!!u.KD;
e.Sc(this.LC,q);if(0!==q.length){if(u.et){if(u.et.length!==q.length)throw Error("incorrect indexMap length");e.Sc(this.Tw,u.et)}else{e.F(this.Tw);for(let v=0,y=q.length;v<y;++v)this.Tw.push(v)}for(var w of q)this.Cv+=w.AT,this.Dv+=w.BT,w.sda&&(this.aJ=!0),w.fD&&(this.EB=!0);!(w=1!==q.length||q[0].YH||q[0].oT)&&(w=!u.KD)&&(w=q[0],w=0!==w.AT||0!==w.BT);if(w||u.uD||q[0].Vq()||u.rL||u.BL||!this.Ys&&q[0].fD){this.Gv=!1;w=this.Hca(q[0],u);u=this.Gca(q.ie(-1),u);var r=0;w&&(this.Vp=1,this.jq.push(e.B(e.K.Ie.Mh.j4,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Vp=Math.max(this.Vp,q),this.jq.push(e.B(e.K.Ie.Mh.gY,this,r,q,v)),r=q):(this.Vp=1,this.jq.push(e.B(e.K.Ie.Mh.x_,this,-1,1,v)),r=1);u&&this.jq.push(e.B(e.K.Ie.Mh.h4,this,r,0))}else this.Gv=!0}}Hca(q,u){return u.uD||u.BL||!this.Ys&&q.fD||q.Vq()||q.YH&&(u.zW||q.sb().pl()&&u.BW)||0!==this.Cv||0!==this.Dv}Gca(q,u){return u.rL||q.YH||q.oT}Wo(q,u,w){w=Object.assign({},p,w);this.YA=u;this.qn=w.nD;this.Ug=w.io;this.Zr=
w.devicePixelRatio;this.yJ=w.Fx;this.xJ=w.zD;this.jc=this.eh.Ha();this.sn=!1;q.M4();this.aJ&&this.Oaa();if(this.Gv)this.fba(q,w);else{var [r,v]=this.eh.gN(q);this.aca(q,r,v);this.F7(w);q.su();q.gr(0);q.yu(0);this.OA=w.mW;this.hI=w.fW||0;this.iI=w.gW||0;this.WK=!!w.lX;this.baa(q);this.im[0]=u;this.im[1]=1<=this.Vp?this.nR():null;this.im[2]=2===this.Vp?this.nR():null;for(const y of this.jq)y.tu(q,this.oR(y.Gea),this.oR(y.sT));this.im[1]&&this.iS(this.im[1]);this.im[2]&&this.iS(this.im[2]);this.im.fill(null);
this.aaa(q);this.OA=this.qn=this.YA=null}}aca(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.sd===u&&this.$c===w||this.yQ(q,u,w,0,0,this.Kk,this.Fw);this.sd=u;this.$c=w}yQ(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.yq(y,u/w);q=q.xt(r,v,100*self.devicePixelRatio,r,v,w);b.wa(A,q)}F7(q){this.xw.wa(q.jt);q.Ax?this.Ll.wa(q.Ax):this.Ll.set(0,0,this.sd,this.$c);this.gm.wa(this.Ll);this.gm.ym(this.sd,this.$c);q=q.Fx*q.devicePixelRatio;this.Ll.xL(this.Cv*q,this.Dv*q);this.Ln.wa(this.Ll);this.Ln.ym(this.sd,
this.$c);this.Ll.ba(0,0,this.sd,this.$c);this.Hs.wa(this.Ll);this.Hs.ym(this.sd,this.$c)}baa(q){this.rT=q.Lp;this.Ys&&(q.Ng(!1),this.EB&&q.zu(!0))}$$(q){q.su();this.Ys||(q.Ng(!1),this.EB&&q.zu(!0))}aaa(q){q.zu(!1);q.Ng(this.rT);this.sn=q.sn}BQ(){this.Ln.ba(0,0,1,1)}oR(q){return 0>q?null:this.im[q]}nR(){return this.eh.jl(this)}iS(q){this.eh.z4(q,this)}I9(q){return this.LC[q]}FG(q){this.OA?this.OA(this,q,()=>this.cI(q,this)):this.cI(q,this);this.Gv||this.$$(q)}k$(q){if(this.Ys)return!0;if(0!==this.hI||
0!==this.iI)return!1;const [u,w]=q.Uy(q.jl());return u!==this.sd||w!==this.$c?!1:!0}AS(q,u){let w=this.Kk,r=this.Fw;if(u&&!this.k$(q)){w=m;r=g;const [v,y]=q.Uy(q.jl());this.yQ(q,v,y,this.hI,this.iI,w,r)}q.Zo(w);q.kr(r)}Oaa(){this.eh.wz(this)}tR(q){return this.kT(this.Tw[q])}wca(q,u){let w=this.Ln,r=this.Hs,v=this.gm;q.pl()&&(d.wa(w),d.lo(),w=d,c.wa(r),c.lo(),r=c,h.wa(v),h.lo(),v=h);this.PQ(q,u,r,v,w,1/this.sd,1/this.$c)}bca(q,u){let w=this.Hs,r=this.gm,v=1/this.sd,y=1/this.$c;if(this.Hv){let {dX:G,
eX:z,cX:F}=this.Hv(this.qn);G||(a.set(0,0,0,0),G=a);z||(z=this.sd);F||(F=this.$c);r=w=G;v=1/z;y=1/F}else q.pl()&&(c.wa(w),c.lo(),w=c,h.wa(r),h.lo(),r=h);let A=this.Ln;q.pl()&&(A=d,A.wa(this.Ln),A.lo());this.PQ(q,u,w,r,A,v,y)}PQ(q,u,w,r,v,y,A){u=this.tR(u);q.OP(this.YA,v,w,r,this.xw,y,A,this.Zr,this.yJ,this.xJ,this.jc,u)}fba(q,u){var w=this.LC[0];const r=q.Lp,v=w.fD;v&&(q.Ng(!1),q.zu(!0),this.Ln.set(0,0,1,1),this.gm.set(0,0,1,1));q.pr(w);q.fg(this.Ug);q.Og(this.YA);let y;this.gm.set(0,0,1,1);if(w.NV&&
this.Hv){const {dX:A,eX:G,cX:z}=this.Hv(this.qn);A&&this.gm.wa(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.eh.gN(q);w=1/A;y=1/G}u.jt?this.xw.wa(u.jt):this.xw.set(0,0,0,0);u=this.tR(0);q.OP(null,this.Ln,this.gm,this.gm,this.xw,w,y,this.Zr,this.yJ,this.xJ,this.jc,u);q.gr(0);this.FG(q);v&&(q.zu(!1),q.Ng(r))}}}"use strict";self.C.K.Ie.Mh=class{constructor(e,b,a,d=-1){this.Xh=e;this.Gea=b;this.sT=a;this.Ta=d}Gi(){return this.Xh}Na(){return this.Ta}$f(){return this.Gi().I9(this.Na())}tu(){}};
{"use strict";const e=self.C;e.K.Ie.Mh.j4=class extends e.K.Ie.Mh{constructor(b,a,d,c){super(b,a,d,c)}tu(b,a,d){a=this.Gi();b.oP();b.nk();b.Og(d,a.WK);b.to();a.FG(b);a.BQ()}}}{"use strict";const e=self.C,b=e.B(e.Rect),a=e.B(e.Hd);e.K.Ie.Mh.h4=class extends e.K.Ie.Mh{constructor(d,c,h,m){super(d,c,h,m)}tu(d,c,h){const m=this.Gi();d.nk();d.Og(h);m.AS(d,!0);d.fg(m.Ug);d.gg(c.me());a.Jj(m.Ll);b.wa(m.Hs);b.lo();d.$q(a,b);m.hU&&d.Oq(c)}}}
{"use strict";const e=self.C;e.K.Ie.Mh.x_=class extends e.K.Ie.Mh{constructor(b,a,d,c){super(b,a,d,c)}tu(b,a,d){a=this.Gi();b.Og(d,a.WK);b.to();b.OF();b.pr(this.$f());a.bca(b,this.Na());a.FG(b);a.BQ()}}}
{"use strict";const e=self.C,b=e.B(e.Rect),a=e.B(e.Hd);e.K.Ie.Mh.gY=class extends e.K.Ie.Mh{constructor(d,c,h,m){super(d,c,h,m)}tu(d,c,h){const m=this.Gi();d.Og(h);(h=0===this.sT)?d.fg(m.Ug):(d.to(),d.OF());d.pr(this.$f());m.wca(d,this.Na());d.gg(c.me());m.AS(d,h);a.Jj(m.Ll);b.wa(m.Hs);b.lo();d.$q(a,b);m.hU&&d.Oq(c)}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.r1=class{constructor(d){e=d;Object.defineProperties(this,{Cfa:{value:{},writable:!1},storage:{value:new self.u1(e),writable:!1},Dra:{value:e.Sl,writable:!1}});e.he.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.he.addEventListener("keyup",c=>b.delete(c.key));e.Mb().addEventListener("window-blur",()=>b.clear());e.Sl&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}W9(d){Object.defineProperties(this.Cfa,d)}addEventListener(d,c){e.he.addEventListener(d,c)}removeEventListener(d,c){e.he.removeEventListener(d,c)}get nW(){return e.Ey()}get jra(){return e.Mm()}random(){return e.rl()}get AD(){return e.Wb().bw}get keyboard(){const d=e.Jv.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get HW(){const d=e.Jv.HW;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get cM(){const d=e.Jv.cM;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Yq("runtime","alert",{message:d+(e.Sl?" [via Web Worker]":"")})}}}"use strict";self.l1=class{constructor(){}};{"use strict";const e=self.wh;self.u1=class{constructor(b){this.ax=b.F9()}getItem(b){e.Nd(b);return this.ax.getItem(b)}setItem(b,a){e.Nd(b);return this.ax.setItem(b,a)}removeItem(b){e.Nd(b);return this.ax.removeItem(b)}clear(){return this.ax.clear()}keys(){return this.ax.keys()}}}
{"use strict";const e=self.wh,b=new WeakMap;self.ez=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Da(),writable:!1}});a.I().LR(this,a)}addEventListener(a,d){e.Nd(a);e.jk(d);b.get(this).he.addEventListener(a,d)}removeEventListener(a,d){e.Nd(a);e.jk(d);b.get(this).he.removeEventListener(a,d)}*wW(){for(const a of b.get(this).ra())yield a.Dh()}nL(a){e.eg(void 0);e.eg(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.I();a=c.Wb().ea(a);if(!a)throw Error("invalid layer");d=c.fE(d,a,void 0,void 0,void 0);c=c.qa();c.Ge(!0);d.uA();c.Ge(!1);return d.Dh()}}}
{"use strict";const e=self.wh,b=new WeakMap;self.q1=class{constructor(a){b.set(this,a);const d=[],c=a.Sa,h=c.Dg().length;for(let m=0;m<h;++m)d.push(new self.$E(c,m));Object.defineProperties(this,{name:{value:a.Da(),writable:!1},index:{value:a.Na(),writable:!1},oW:{value:d,writable:!1}})}addEventListener(a,d){e.Nd(a);e.jk(d);b.get(this).he.addEventListener(a,d)}removeEventListener(a,d){e.Nd(a);e.jk(d);b.get(this).he.removeEventListener(a,d)}get width(){return b.get(this).S()}set width(a){b.get(this).Qe(a)}get height(){return b.get(this).U()}set height(a){b.get(this).uf(a)}set scale(a){e.ik(a);
b.get(this).UF(a)}get scale(){return b.get(this).Cd}set angle(a){e.ik(a);b.get(this).od(a)}get angle(){return b.get(this).oa()}set scrollX(a){e.eg(a);b.get(this).Ui(a)}get scrollX(){return b.get(this).Yf()}set scrollY(a){e.eg(a);b.get(this).Vi(a)}get scrollY(){return b.get(this).Zf()}scrollTo(a,d){e.eg(a);e.eg(d);const c=b.get(this);c.Ui(a);c.Vi(d)}set OW(a){e.Nd(a);const d=b.get(this);if("perspective"===a)d.NP();else if("orthographic"===a)d.KP();else throw Error("invalid projection");}get OW(){return b.get(this).Cf?
"orthographic":"perspective"}}}
{"use strict";const e=self.C,b=self.wh,a=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),h=e.B(e.ib);self.p1=class{constructor(m){a.set(this,m);const g=[],k=m.Sa,n=k.Dg().length;for(let p=0;p<n;++p)g.push(new self.$E(k,p));Object.defineProperties(this,{name:{value:m.Da(),writable:!1},index:{value:m.Na(),
writable:!1},AD:{value:m.lc().bw,writable:!1},oW:{value:g,writable:!1}})}get isVisible(){return a.get(this).Tc()}set isVisible(m){a.get(this).Lh(m)}get opacity(){return a.get(this).ke()}set opacity(m){m=e.ba(+m,0,1);isNaN(m)||a.get(this).lk(m)}set scale(m){b.ik(m);a.get(this).LP(m)}get scale(){return a.get(this).Cd}set angle(m){b.ik(m);a.get(this).od(m)}get angle(){return a.get(this).se}set Sx(m){b.ik(m);a.get(this).oe(m)}get Sx(){return a.get(this).Xa()}set io(m){b.Nd(m);m=d.get(m);if("number"!==
typeof m)throw Error("invalid blend mode");a.get(this).fg(m)}get io(){return c.get(a.get(this).Nj())}set backgroundColor(m){b.FF(m);if(3>m.length)throw Error("expected 3 elements");h.pt(m[0],m[1],m[2]);m=a.get(this);const g=m.Gl;g.zm(h)||(g.Ej(h),m.I().ia())}get backgroundColor(){const m=a.get(this).Gl;return[m.ab,m.eb,m.cb]}set scrollX(m){b.eg(m);const g=a.get(this);g.Du(!0);g.Ui(m)}get scrollX(){return a.get(this).Yf()}set scrollY(m){b.eg(m);const g=a.get(this);g.Du(!0);g.Vi(m)}get scrollY(){return a.get(this).Zf()}scrollTo(m,
g){b.eg(m);b.eg(g);const k=a.get(this);k.Du(!0);k.Ui(m);k.Vi(g)}}}
{"use strict";const e=self.C,b=self.wh,a=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.B(e.Event.Mb);d.set(m,g);return g}let h=null;self.du=class{constructor(){a.set(this,h);const m={Sf:{value:h.I().qj,writable:!1},KL:{value:h.J().cw,writable:!1},uid:{value:h.cc,writable:!1}};h.x9(m);h.s9(m);Object.defineProperties(this,m);h.I().LR(this,h)}static Sg(m){h=m}static zr(){return h}hv(){const m=d.get(this);m&&(m.A(),d.delete(this));a.delete(this)}addEventListener(m,g,k){b.Nd(m);
b.jk(g);c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){b.Nd(m);b.jk(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.C,b=self.wh,a=self.du,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.B(e.ib);self.fz=class m extends a{constructor(){super();var g=a.zr();d.set(this,g);const k=[];var n=g.j();if(g=n.ng){n=n.J().Sa.Dg().length;for(let p=0;p<n;++p)k.push(new self.$E(g,p))}Object.defineProperties(this,
{oW:{value:k,writable:!1}})}get AD(){return d.get(this).j().lc().bw}get FW(){return d.get(this).j().ea().Wda}get x(){return d.get(this).j().N()}set x(g){g=+g;const k=d.get(this).j();isNaN(g)||k.N()===g||(k.hg(g),k.$a())}get y(){return d.get(this).j().O()}set y(g){g=+g;const k=d.get(this).j();isNaN(g)||k.O()===g||(k.vf(g),k.$a())}get Sx(){return d.get(this).j().Xa()}set Sx(g){g=+g;const k=d.get(this),n=k.j();isNaN(g)||n.Xa()===g||(n.oe(g),k.I().ia())}get width(){return d.get(this).j().S()}set width(g){g=
+g;const k=d.get(this).j();isNaN(g)||k.S()===g||(k.Qe(g),k.$a())}get height(){return d.get(this).j().U()}set height(g){g=+g;const k=d.get(this).j();isNaN(g)||k.U()===g||(k.uf(g),k.$a())}get angle(){return d.get(this).j().oa()}set angle(g){g=e.Md(+g);const k=d.get(this).j();isNaN(g)||k.oa()===g||(k.od(g),k.$a())}vL(){d.get(this).j().jd().Kga()}get isVisible(){return d.get(this).j().Tc()}set isVisible(g){g=!!g;const k=d.get(this),n=k.j();n.Tc()!==g&&(n.Lh(g),k.I().ia())}get opacity(){return d.get(this).j().ke()}set opacity(g){g=
e.ba(+g,0,1);const k=d.get(this),n=k.j();isNaN(g)||n.ke()===g||(n.lk(g),k.I().ia())}set io(g){b.Nd(g);g=c.get(g);if("number"!==typeof g)throw Error("invalid blend mode");const k=d.get(this);k.j().fg(g);k.I().ia()}get io(){return h.get(d.get(this).j().Nj())}get zIndex(){return d.get(this).j().bk()}Pf(g,k){b.eg(g);b.eg(k);return d.get(this).j().zt(+g,+k)}getParent(){const g=d.get(this).Ka();return g?g.Dh():null}*Kx(){for(const g of d.get(this).Kx())yield g.Dh()}*children(){for(const g of d.get(this).children())yield g.Dh()}*Wk(){for(const g of d.get(this).Wk())yield g.Dh()}removeChild(g){b.GF(g,
m);const k=d.get(this);g=d.get(g);k.hk(g)}}}{"use strict";const e=new WeakMap;self.wja=class extends self.fz{constructor(){super();e.set(this,self.du.zr())}focus(){e.get(this).ta.YM()}blur(){e.get(this).ta.nM()}}}
{"use strict";const e=self.C,b=self.wh,a=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.B(e.Event.Mb);d.set(m,g);return g}let h=null;self.PN=class{constructor(){a.set(this,h);const m={Sf:{value:h.I().qj,writable:!1},behavior:{value:h.Im().g0(),writable:!1}};Object.defineProperties(this,m)}static Sg(m){h=m}static zr(){return h}get instance(){return a.get(this).ja.Dh()}hv(){const m=d.get(this);m&&(m.A(),d.delete(this));a.delete(this)}addEventListener(m,g,k){b.Nd(m);b.jk(g);
c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){b.Nd(m);b.jk(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.n1=class{constructor(b){e.set(this,b);Object.defineProperties(this,{Sf:{value:b.I().qj,writable:!1}})}}}
{"use strict";const e=self.C,b=self.wh,a=new WeakMap;self.$E=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Dg()[this.index].Da()}getParameter(d){b.ik(d);d=Math.floor(+d);const c=a.get(this).dl(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.ib?[d.ab,d.eb,d.cb]:d}}}
{"use strict";const e=self.C,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.XX=class extends e.la{constructor(d,c){super();var h=c.exportType;this.g=d;this.jC=new Map;this.zs=new Map;this.lea=new Map;this.GB="cordova"===h;this.qJ=!!c.isiOSCordova;this.kw=!!c.isFileProtocol;this.Iea=c.supportedAudioFormats||{};this.RH=
new Map;this.aV=!1;this.XT=this.FT=this.LU="";this.WA="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.GH=[];this.QH=new Map;this.bL=[];this.hC=[];this.ST=!1;this.aC=this.PH=this.lx=0;this.MI=!1;this.kea=e.B(e.v4,()=>this.$Q(),50);this.kK=new e.NO(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(d,h);(h=c.projectData)&&(d["data.json"]=h);for(const [m,g]of Object.entries(d))this.jC.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.lea.set(m,g);new self.l1(this)}A(){this.jC.clear();for(const d of this.zs.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.zs.clear();for(const d of this.GH)d.A();e.F(this.GH);this.QH.clear();e.F(this.hC);this.g=null}I(){return this.g}sca(d){this.LU=d}fca(d){this.FT=d}kca(d){this.XT=d}cA(d){return this.jC.has(d.toLowerCase())}$z(d){return this.jC.get(d.toLowerCase())||null}LE(d){if(!this.cA(d))return d;d=d.toLowerCase();var c=this.zs.get(d);c||(c=this.$z(d),
c=URL.createObjectURL(c),this.zs.set(d,c));return c}cl(d,c){c=c||this.WA;const h=this.$z(d);if(h)return Promise.resolve(h);if(e.rF(d)){const m=d.toLowerCase();return this.GB&&this.kw?this.FM(m):"local"===c?this.kK.Hc(()=>e.cl(m)):e.cl(m)}return e.cl(d)}Ct(d){const c=this.$z(d);if(c)return e.eY(c);if(e.rF(d)){const h=d.toLowerCase();return this.GB&&this.kw?this.EM(h):"local"===this.WA?this.kK.Hc(()=>e.Ct(h)):e.Ct(h)}return e.Ct(d)}Dt(d){const c=this.$z(d);if(c)return e.mM(c);if(e.rF(d)){const h=d.toLowerCase();
return this.GB&&this.kw?this.NY(h):"local"===this.WA?this.kK.Hc(()=>e.Dt(h)):e.Dt(h)}return e.Dt(d)}async WM(d){d=await this.Dt(d);return JSON.parse(d)}tG(d,c){return this.g.Yq("runtime","cordova-fetch-local-file",{filename:d,as:c})}NY(d){return this.tG(d,"text")}async FM(d){const c=await this.tG(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.ie(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async MY(d){d=d.toLowerCase();var c=this.zs.get(d);if(c)return c;c=await this.FM(d);c=URL.createObjectURL(c);
this.zs.set(d,c);return c}EM(d){return this.tG(d,"buffer")}rN(d){return this.cA(d)?this.LE(d):this.LU+d.toLowerCase()}G0(d,c=""){if(e.dF(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.cA(d)?Promise.resolve(this.LE(d)):this.GB&&this.kw?this.MY(c+d):Promise.resolve(c+d.toLowerCase())}pz(d){if(d.Hx&&!b.has(d.Hx))throw Error("invalid load policy");let c=this.QH.get(d.url);if(c)return c;c=e.B(e.QN,this,{url:d.url,size:d.size||0,Hx:d.Hx||this.WA});
this.GH.push(c);this.QH.set(c.Qk,c);this.ST||(this.lx+=c.Pm(),this.hC.push(c.lO().then(()=>this.rQ(c.Pm()))));return c}async iQ(){try{await Promise.all(this.hC),this.aC=1}catch(d){console.error("Error loading: ",d),this.MI=!0,this.$Q()}}F5(){this.ST=!0}rQ(d){this.PH+=d;this.kea.nY()}$Q(){const d=e.B(e.Event,"loadingprogress");this.aC=e.ba(this.PH/this.lx,0,1);d.progress=this.aC;this.g.Mb().dispatchEvent(d)}Dca(d){e.Sc(this.bL,d);this.bL.length&&this.hC.push(this.L$())}L$(){if("undefined"===typeof FontFace)return Promise.resolve();
const d=[];for(const [c,h,m]of this.bL)this.lx+=m,d.push(this.K$(c,h).then(()=>this.rQ(m)));return Promise.all(d)}async K$(d,c){try{const h=await this.G0(c,this.FT),m=new FontFace(d,`url('${h}')`);this.g.Sl?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${d}': `,h)}}SN(d){return!!this.Iea[d]}Sba(d,c){this.aV=!!c;for(const [h,m,g]of d)this.RH.set(h,{fileName:h,ufa:m.map(k=>({type:k[0],Uqa:k[1],rW:h+k[1],fileSize:k[2]})),Ofa:g})}vN(d){d=
this.RH.get(d.toLowerCase());if(!d)return null;let c=null;for(const h of d.ufa)if(c||"audio/webm; codecs=opus"!==h.type||(c=h),this.SN(h.type))return h;return c}Gg(d){return(d=this.vN(d))?{url:this.rN(d.rW),type:d.type}:null}G_(){if(this.aV){const d=[];for(const c of this.RH.values()){if(c.Ofa)continue;const h=this.vN(c.fileName);h&&d.push({iga:c.fileName,url:this.rN(h.rW),type:h.type,fileSize:h.fileSize})}return d}return[]}}}
{"use strict";const e=self.C;e.WX=class extends e.la{constructor(b,a){super();this.Eb=b;this.g=b.I();this.Qk=a.url;this.Ls=a.size;this.EJ=a.Hx;this.Bv=null;this.jJ=!1;this.En=null}A(){this.Bv=this.g=this.Eb=this.En=null}Pm(){return this.Ls}lO(){return"local"===this.EJ||this.Bv?(this.jJ=!0,Promise.resolve()):this.En?this.En:this.En=this.Eb.cl(this.Qk,this.EJ).then(b=>{this.jJ=!0;this.En=null;return this.Bv=b}).catch(b=>console.error("Error loading resource: ",b))}oF(){return this.jJ}J_(){return this.Bv?
Promise.resolve(this.Bv):this.En?this.En:this.Eb.cl(this.Qk,this.EJ)}}}
{"use strict";const e=self.C,b=new e.NO,a=new Set;e.QN=class extends e.WX{constructor(d,c){super(d,c);this.Sk=this.mq=null;this.Pc=0;this.ZT=this.aU=-1;a.add(this)}A(){this.Ri();if(0!==this.Pc)throw Error("released image asset which still has texture references");this.mq=null;a.delete(this);super.A()}static Xq(){for(const d of a)d.mq=null,d.Sk=null,d.Pc=0}ju(d,c){c=c||{};this.Pc++;if(this.Sk)return Promise.resolve(this.Sk);if(this.mq)return this.mq;c.aW=this.g.$.CV;return this.mq=this.J_().then(h=>
b.Hc(()=>d.jy(h,c).then(m=>{this.mq=null;if(0===this.Pc)return d.Lj(m),null;this.Sk=m;this.aU=m.S();this.ZT=m.U();return this.Sk}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}Ri(){if(0>=this.Pc)throw Error("texture released too many times");this.Pc--;0===this.Pc&&this.Sk&&(this.Sk.sb().Lj(this.Sk),this.Sk=null)}me(){return this.Sk}S(){return this.aU}U(){return this.ZT}}}
{"use strict";const e=self.C;function b(a,d){return a.j().Vk-d.j().Vk}e.G4=class extends e.la{constructor(a,d,c){super();this.T=d;this.R=c;this.H=[];this.mw=!0;this.wj=new Set;this.hw=!1}A(){e.F(this.H);this.wj.clear()}md(){e.F(this.H);this.mw=!0;this.wj.clear();this.hw=!1}n5(){this.mw=!1}Lo(){if(!this.H.length)return!0;if(this.H.length>this.wj.size)return!1;this.LG();return!0}cF(a){this.wj.has(a)?(this.wj.delete(a),0===this.wj.size&&(this.hw=!1)):(this.H.push(a),this.mw=1===this.H.length)}Ih(a){this.wj.add(a);
this.hw=!0;50<=this.wj.size&&this.LG()}LG(){this.hw&&(this.H.length===this.wj.size?this.md():(e.zg(this.H,this.wj),this.wj.clear(),this.hw=!1))}Z8(){this.mw||(this.H.sort(b),this.mw=!0)}kE(a){this.LG();this.Z8();this.H.length&&a.push(this.H)}}}
{"use strict";const e=self.C;e.H4=class extends e.la{constructor(b,a){super();this.eI=b;this.dI=a;this.hj=e.B(e.nu)}A(){this.hj.A();this.hj=null}Jm(b,a,d){let c=this.hj.ga(b,a);return c?c:d?(c=e.B(e.G4,this,b,a),this.hj.Set(b,a,c),c):null}Yi(b){return Math.floor(b/this.eI)}Zi(b){return Math.floor(b/this.dI)}xl(b,a,d){if(a)for(let c=a.fa,h=a.na;c<=h;++c)for(let m=a.Y,g=a.ka;m<=g;++m){if(d&&d.Pf(c,m))continue;const k=this.Jm(c,m,!1);k&&(k.Ih(b),k.Lo()&&this.hj.vo(c,m))}if(d)for(let c=d.fa,h=d.na;c<=
h;++c)for(let m=d.Y,g=d.ka;m<=g;++m)a&&a.Pf(c,m)||this.Jm(c,m,!0).cF(b)}vz(b,a){let d=this.Yi(b.fa);const c=this.Zi(b.Y),h=this.Yi(b.na);for(b=this.Zi(b.ka);d<=h;++d)for(let m=c;m<=b;++m){const g=this.Jm(d,m,!1);g&&g.kE(a)}}X2(b){let a=b.fa;const d=b.Y,c=b.na;for(b=b.ka;a<=c;++a)for(let h=d;h<=b;++h){const m=this.Jm(a,h,!1);m&&m.n5()}}}}
{"use strict";const e=self.C,b=new e.Rect,a=new e.Hd,d=[];new e.Rect;new e.Rect;const c=self.Hj,h=c.LD,m=c.Qx,g=c.Am;g.create();const k=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=e.B(e.Nu);e.B(e.Rect);function r(z,F){return z.j().Vk-F.j().Vk}function v(z,F){return z.j().Xa()-F.j().Xa()}const y=[],A=[],G=[];e.iO=class extends e.la{constructor(z,F,H){super();this.bh=z;this.g=z.I();this.WU=F;this.La=H[0];this.Ta=-1;this.mb=H[2];this.pw=!!H[3];this.Gl=e.B(e.ib);this.Gl.Cm(H[4].map(M=>
M/255));this.Hk=!!H[5];this.de=H[6];this.ee=H[7];this.jb=e.B(e.ib,1,1,1,H[8]);this.BC=e.B(e.ib);this.eJ=H[9];this.Bea=H[17];this.JV=H[18];this.Oea=H[10];this.zj=H[11];this.Ug=H[12];this.We=null;this.Cd=1;this.fd=H[16];this.oi=this.ni=this.se=0;this.Ol=!1;this.yg=e.B(e.Rect);this.RV=e.B(e.Rect);this.bo=e.B(e.Rect);this.Kk=g.create();this.nJ=!0;this.Fw=g.create();this.kJ=!0;this.QV=e.B(e.K.R6);this.XB=!0;this.zV=[];this.dU=H[14];this.Ek=[];this.UA=[];this.eU=new Map;this.H=[];this.rp=this.dL=!1;const J=
this.g.$;this.Sa=e.B(e.al,this,H[15]);this.Xh=e.B(e.K.Ie,J.rI,{rD:(M,P)=>{P=P.qn;const R=P.jl();M.Zm(P.NE());M.ty(R);M.Oq(R);J.To(R)},wD:M=>this.Sa.dl(M)});this.ux=this.cm=!0;this.Js=null;this.sJ=[];this.QB=!1;this.jea=e.B(e.Rect,0,0,-1,-1);this.Lda=e.B(e.Rect,0,0,-1,-1);this.Wda=new self.p1(this);this.ZS();this.fp()&&(this.Js=e.B(e.H4,this.g.ih,this.g.hh));this.Pn=H[19].map(M=>e.B(e.iO,this.bh,this,M))}Sg(){for(const z of this.dU){const F=this.g.mf(z[1]);this.bh.pQ(F);F.Xr||F.tP(z);this.Ek.push(z);
this.eU.set(z[2],z)}e.Sc(this.zV,this.Ek);this.dU=null}A(){this.g=this.bh=null}j0(z){return this.eU.get(z)}QY(z){const F=this.bh.Mp;let H=0;const J=this.Ek;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.mf(M[1]);let Z=!0;if(!T.XE()||F)M=this.g.Ei(M,this,!0),z.push(M),T.dg()&&(Z=!1,this.UA.push(M.cc));Z&&(J[H]=J[P],++H)}e.hf(J,H);this.g.Wd();this.Pg()}Rg(z,F){const H=z.j();if(H.ea()!==this)throw Error("instance added to wrong layer");this.H.push(z);0!==H.Xa()&&(this.rp=!0);F&&this.fp()&&
z.j().$a();this.Pg()}N$(z){this.H.includes(z)||(this.H.push(z),0!==z.j().Xa()&&(this.rp=!0),this.Pg())}Iaa(z){const F=z.j();if(F.ea()!==this)throw Error("instance added to wrong layer");this.H.unshift(z);0!==F.Xa()&&(this.rp=!0);this.Pg()}mp(z,F){const H=this.H.indexOf(z);0>H||(F&&this.fp()&&z.j().kS(),this.H.splice(H,1),this.Pg(),this.QR())}zS(){this.rp=!0}QR(){0===this.H.length&&(this.rp=!1)}sH(z){if(z){z=new Set;for(var F of this.H){var H=F.j().Vk;0<=H&&z.add(H)}F=-1;for(const J of this.H)if(H=
J.j(),!(0<=H.Vk)){for(++F;z.has(F);)++F;H.rA(F)}}this.H.sort(r)}Y8(){for(const z of this.H)z.J().dg()||this.g.Hm(z);this.g.Wd();e.F(this.H);this.rp=!1;this.Pg()}qu(z,F,H,J,M){const P=this.g.qa(),R=this.g.Wc,T=z.fb,Z=[];for(const Y of this.Ek){var X=Y[0];if(F.Pf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.VM(X))continue}else continue;X=this;var ba=this.g.Qa();this.lc()!==ba&&((X=ba.pN(this.Da()))||(X=ba.Ky(this.Na())));ba=this.g.Ei(Y,X,!1,void 0,void 0,!1,M);X.dG(ba);X=ba.j();X.qz(H,J);X.$a();P.Ge(!0);
ba.uA();P.Ge(!1);Z.push(ba)}}return Z}lc(){return this.bh}Da(){return this.La}nH(z){this.Ta=z}Na(){return this.Ta}I(){return this.g}Pj(){return this.g.Pj()}Gi(){this.bv();return this.Xh}bv(){const z=this.Nq();if(this.cm||z!==this.ux){var F=this.Sa.jg;this.Xh.ZD(F.map(H=>H.$f()),{et:F.map(H=>H.Na()),uD:!z,KD:!0});this.cm=!1;this.ux=z}}Nh(){this.Sa.Nh();this.cm=!0}fp(){return this.Oea&&!this.JV}R5(){this.QB=!1}Tc(){for(const z of this.wga())if(!z.pw)return!1;return!0}Lh(z){z=!!z;this.pw!==z&&(this.pw=
z,this.g.ia())}Du(z){z=!!z;if(this.Ol!==z){if(this.Ol=z)z=this.lc(),this.ni=z.Yf(),this.oi=z.Zf();this.uk();this.g.ia()}}Ui(z){var F=this.lc();const H=F.zN();F=F.AN();z>F&&(z=F);z<H&&(z=H);this.ni!==z&&(this.ni=z,this.Ol&&(this.uk(),this.g.ia()))}Vi(z){var F=this.lc();const H=F.BN();F=F.yN();z>F&&(z=F);z<H&&(z=H);this.oi!==z&&(this.oi=z,this.Ol&&(this.uk(),this.g.ia()))}Yf(){return this.Ol?this.ni:this.lc().Yf()}Zf(){return this.Ol?this.oi:this.lc().Zf()}PG(){const z=this.lc();return[z.QE(),z.RE()]}KN(z,
F){var H=this.RV;if(0===z)F.wa(H);else{let R=H.lt(),T=H.mt();var J=this.$M(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.PG();if(.5!==X||.5!==ba){const Y=this.Kt();var M=this.g,P=100/Y;J=(X-.5)*M.Mf/P;M=(ba-.5)*M.Lf/P;P=this.oa();0!==P&&(w.set(J,M),w.rotate(P),J=w.T,M=w.R);z=e.JD(Y,0,z);R+=e.je(J,0,z);T+=e.je(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}ke(){return this.jb.bb}lk(z){z=e.ba(z,0,1);this.jb.bb!==z&&(this.jb.nt(z),this.ZS(),this.g.ia())}ZS(){this.BC.wa(this.jb);this.BC.QL()}NE(){return this.BC}Nq(){return this.jb.sD(1,
1,1,1)}S5(z){this.zj!==z&&(this.zj=z,this.uk(),this.g.ia())}N5(z,F){if(this.de!==z||this.ee!==F)if(this.de=z,this.ee=F,this.uk(),this.g.ia(),1!==this.de||1!==this.ee)for(const H of this.H)H.J().kH(!0)}oe(z){this.fd!==z&&(this.fd=z,this.g.ia())}Xa(){return this.fd}od(z){z=e.Md(z);this.se!==z&&(this.se=z,this.uk(),this.g.ia())}oa(){return e.Md(this.bh.oa()+this.se)}d1(){return 0<this.H.length}MG(){return this.DF()&&this.JV?(e.Sc(G,this.H),G.sort((z,F)=>this.Lca(z,F)),G):this.H}wQ(z){e.vm(z,this.MG());
for(const F of this.Pn)F.Tc()&&0<F.ke()&&F.wQ(z)}Lca(z,F){var H=this.lc().iT,J=H[0],M=H[1];H=H[2];var P=z.j();const R=F.j();F=P.N()-J;z=P.O()-M;P=P.Xa()-H;J=R.N()-J;M=R.O()-M;H=R.Xa()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}d6(z){z=!!z;this.Hk!==z&&(this.Hk=z,this.g.ia())}B5(z){z=!!z;this.eJ!==z&&(this.eJ=z,this.g.ia())}VO(){return!this.I().tm||!this.Bea}DF(){return!this.VO()}Mq(){return this.DF()&&this.lc().bea}MF(){if(!this.Mq())return!1;for(const z of this.Pn)if(!z.MF())return!1;return!0}fg(z){this.Ug!==
z&&(this.Ug=z,this.g.ia())}Nj(){return this.Ug}Z0(){for(const z of this.Pn)if(z.Iz())return!0;return!1}*WW(){for(const z of this.Pn)yield*z.WW();yield this}*kga(){let z=this.WU;for(;z;)yield z,z=z.WU}*wga(){yield this;yield*this.kga()}C2(z){return this===z||this.de===z.de&&this.ee===z.ee&&this.Cd===z.Cd&&this.zj===z.zj&&this.se===z.se&&this.Yf()===z.Yf()&&this.Zf()===z.Zf()}Waa(z){0!==z.size&&0<e.zg(this.H,z)&&(this.QR(),this.Pg())}Pg(){this.QB=this.dL=!1}qv(){if(!this.dL){this.H.sort(v);if(this.fp())for(let z=
0,F=this.H.length;z<F;++z){const H=this.H[z].j();H.rA(z);this.Js.X2(H.Ow)}else for(let z=0,F=this.H.length;z<F;++z)this.H[z].j().rA(z);this.dL=!0}}e3(z,F,H){var J=z.j();F=F.j();if(J.ea()!==this||F.ea()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.bk();F=F.bk();if(J===F+(H?1:-1))return!1;e.Zea(this.H,J);J<F&&F--;H&&F++;F===this.H.length?this.H.push(z):this.H.splice(F,0,z);this.Pg();return!0}V$(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=
z[J],Z=F[M];T.j().Vk<Z.j().Vk?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}U$(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.V$(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}T$(z){for(;1<z.length;)z=this.U$(z);return z[0]}H9(){this.qv();e.F(d);this.Js.vz(this.yg,d);return d.length?1===d.length?d[0]:this.T$(d):[]}Iz(){return this.Tc()&&0<this.ke()&&this.UQ()}UQ(){if(this.d1()||!this.Hk)return!0;for(const z of this.Pn)if(z.UQ())return!0;
return!1}Mu(){return this.eJ||!this.Nq()||0!==this.Nj()||this.Sa.bu()}NF(){if(this.Mu())return!0;for(const z of this.Pn)if(z.NF())return!0;return!1}jl(){return this.We}$M(z){if(this.bh.Cf)return 1;{const F=this.Kt();return F/(F-z)}}Kt(){return 100/this.Ki()}uk(){this.XB=this.kJ=!0}aA(z){this.kJ&&(this.D7(z,this.Fw),this.kJ=!1);return this.Fw}q9(){var z=this.g,F=this.lc(),H=z.Om(),J=z.sC,M=z.tC;J=(this.Yf()-J)*this.de+J;var P=(this.Zf()-M)*this.ee+M;z.Ul&&(J=Math.round(J),P=Math.round(P));M=(J+0)*
H;J=(P+0)*H;F=F.Cf?100:this.Kt();const [R,T]=this.PG();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.Mf*H/Z;z=(T-.5)*z.Lf*H/Z;H=this.oa();0!==H&&(w.set(P,z),w.rotate(H),P=w.T,z=w.R);M+=P;J+=z}return[M,J,F]}D7(z,F){const H=this.g;var J=this.lc();const M=H.Om();if(this.Mq()){h.wa(p,J.iT);h.wa(q,J.Dda);h.wa(u,J.Eda);J=H.sC;const P=H.tC,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.de+J;p[1]=(p[1]-P)*this.ee+P;p[2]*=Math.max(this.de,this.ee);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;h.set(k,M,M,1);h.multiply(p,
p,k);h.multiply(q,q,k)}else{const [P,R,T]=this.q9();h.set(p,P,R,T);h.set(q,P,R,T-100);J=this.oa();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.pM(F,p,q,u,H.$.Fi());1!==M&&(h.set(k,M,M,1),g.scale(F,F,k))}xca(){this.XB=this.nJ=!0}bA(z){this.nJ&&(this.E7(z),this.nJ=!1);return this.Kk}E7(z){const F=this.g.$,[H,J]=this.PG();this.bh.Cf?z.kY(this.Kk,F.Rj(),F.Fi()):.5===H&&.5===J?g.wa(this.Kk,F.XA):z.yq(this.Kk,F.Rj()/F.Fi(),H,J)}pA(z){z.Zo(this.bA(z));let F;F=this.aA(z);z.kr(F)}k4(z){this.pA(z);
z.gr(this.Xa())}Ah(z,F,H){var J=this.g.$;const M=this.Mu();var P=null;let R=null;if(this.g.jF()&&z.pl()){const T=J.qN(this);T&&(R=T.UD(),z.hG(R))}M?(P={Ij:this.g.Bd},"low"===J.bi&&(P.width=J.Rj(),P.height=J.Fi()),this.We=P=this.g.Ht(P),z.Og(P),this.Hk&&z.to()):(this.We=F,z.Og(F));this.Hk||z.Ed(this.Gl);this.bh.SQ(z,this.We,this.Pn,M&&this.Hk);this.pA(z);z.gr(this.Xa());z.Ng(this.DF());this.Ki()>Number.EPSILON&&(this.qv(),J=this.fp()&&0===this.Xa()&&!this.rp,this.Mq()?this.N8(z):J?this.O8(z):this.RQ(z,
this.MG()));z.gr(0);z.yu(0);M&&(z.Ng(!1),this.P8(z,P,F,H));R&&z.mE(R);this.We=null}RQ(z,F){const H=this.yg,J=this.We,M=this.lc().Cf,P=this.lc().ON();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.j();ba.Tc()&&ba.cO(H,P,M)&&this.Al(X,ba,z,J)}}N8(z){const F=this.We,H=this.Ar(),J=this.MG();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.j();if(!P.Tc()||!P.Qq(H)){++T;continue}(!M.br()||0<P.Zc)&&A.push(M);var R=M.j().qf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.j();if(Y.Tc()&&Y.Qq(H)){if(Y.qf()!==R)break;ba.br()?(0<Y.Zc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].sO()){this.K8(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.j(),P.mA(!0),this.Al(M,P,z,F),P.mA(!1)}else{this.Al(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.j(),R.ea().Al(P,R,z,F))}T=X;e.F(y);e.F(A)}}K8(z,F){const H=this.We;z.CM();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.j();M.kA(!0);this.GG(J,M,z)}z.BM();for(let P=0,R=F.length;P<R;++P)J=F[P],
M=J.j(),this.Al(J,M,z,H),M.kA(!1);z.AM()}O8(z){var F=this.Js;const H=this.Lda,J=this.jea,M=this.yg;H.set(F.Yi(M.fa),F.Zi(M.Y),F.Yi(M.na),F.Zi(M.ka));this.QB&&H.wd(J)?F=this.sJ:(F=this.H9(),this.QB=!0,J.wa(H));this.RQ(z,F);F!==this.sJ&&e.Sc(this.sJ,F)}Al(z,F,H,J){F.bu()?this.M8(z,F,H,J):this.GG(z,F,H)}GG(z,F,H){F=F.iq;H.kj!==F&&F.RX();z.Ah(H)}M8(z,F,H,J){this.L8(z,F,H,J)&&this.pA(H)}L8(z,F,H,J){const M=F.ng.Gi();M.Wo(H,J,{nD:z,io:F.Nj(),devicePixelRatio:this.g.Qt(),Fx:this.g.Rt()*this.Ki(),zD:this.oa(),
jt:F.jd(),Ax:M.Gv?null:this.d$(F),mW:null,fW:null,gW:null,lX:null});H.gr(this.Xa());return M.sn}P8(z,F,H,J){const M=this.g;0===this.Sa.jg.length?(z.Og(H),z.nk(),J&&0===this.Ug&&this.Nq()?z.DM(F):(z.fg(this.Ug),z.Zm(this.BC),z.ty(F)),z.Oq(F),M.To(F)):this.Gi().Wo(z,H,{nD:this,io:this.Nj(),devicePixelRatio:M.Qt(),Fx:M.Rt()*this.Ki(),zD:this.oa(),jt:this.yg,Ax:null,AL:!0})}LP(z){this.Cd!==z&&(this.Cd=z,this.bh.Xx(),this.uk(),this.g.ia())}Om(){return this.Ki()*this.g.Om()}Qj(){return this.Ki()*this.g.Qj()}Ki(){return(this.Cd*
this.bh.Cd-1)*this.zj+1}nG(){var z=this.g.sC,F=this.g.tC,H=(this.Yf()-z)*this.de+z,J=(this.Zf()-F)*this.ee+F;z=this.Ki();F=this.g.Mf/z;z=this.g.Lf/z;H-=F/2;let M=J-z/2;this.g.Ul&&(H=Math.round(H),M=Math.round(M));J=this.RV;J.set(H,M,H+F,M+z);F=this.oa();0!==F&&(b.wa(J),b.offset(-J.lt(),-J.mt()),a.zga(b,F),a.vL(b),b.offset(J.lt(),J.mt()),J.wa(b));F=this.fd;this.KN(F,this.yg);this.Mq()?this.mY(F,this.bo):this.bo.wa(this.yg)}mY(z,F){var H=this.g.$,J=H.Yc;H=H.Mc;const [M,P]=this.xh(0,0,z),[R,T]=this.xh(J,
0,z),[Z,X]=this.xh(J,H,z),[ba,Y]=this.xh(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}xh(z,F,H=0){return this.H7(z,F,H,this.Qj())}H7(z,F,H,J){const M=this.g;var P=M.sb();const R=this.Ki();m.set(n,0,0,M.Mf/R,M.Lf/R);z/=J;F=n[3]-F/J;J=this.bA(P);P=this.aA(P);return e.K.J6(z,F,H,P,J,n,k)?[k[0],k[1]]:[NaN,NaN]}rY(z,F){const H=this.Cd,
J=this.zj,M=this.de,P=this.ee,R=this.se;this.ee=this.de=this.zj=this.Cd=1;this.se=0;this.uk();z=this.xh(z,F);this.Cd=H;this.zj=J;this.de=M;this.ee=P;this.se=R;this.uk();return z}Po(z,F){return this.JR(z,F,0,this.Qj())}fk(z,F,H=0){return this.JR(z,F,H,this.Om()*this.Pj())}JR(z,F,H,J){var M=this.g,P=M.sb();const R=this.Ki();m.set(n,0,0,M.Mf/R,M.Lf/R);M=this.bA(P);P=this.aA(P);return e.K.m4(z,F,H,P,M,n,k)?[k[0]*J,(n[3]-k[1])*J]:[NaN,NaN]}d$(z){var F=z.jd(),H=z.qf();z=z.Zc;const J=H+z,M=F.fa,P=F.Y,R=
F.na;F=F.ka;if(this.Mq()){if(this.gn(M,P,H)||this.gn(R,P,H)||this.gn(R,F,H)||this.gn(M,F,H)||0<z&&(this.gn(M,P,J)||this.gn(R,P,J)||this.gn(R,F,J)||this.gn(M,F,J)))return null}else if(J>=this.Kt())return null;let [T,Z]=this.fk(M,P,H),[X,ba]=this.fk(R,F,H);if(0!==this.oa()||0<z){const [Y,va]=this.fk(R,P,H),[ta,ya]=this.fk(M,F,H);if(0<z){const [Na,Sa]=this.fk(M,P,J),[Ta,Ua]=this.fk(R,P,J),[Wa,eb]=this.fk(R,F,J),[fb,Pa]=this.fk(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);
T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}b.set(T,Z,X,ba);return b}Ar(){this.XB&&(this.hda(),this.XB=!1);return this.QV}hda(){var z=this.g.sb();const F=this.bA(z);z=this.aA(z);this.QV.lY(z,F)}gn(z,F,H){return this.Ar().j2(z,F,H)}ma(){return{s:this.Cd,a:this.se,vl:this.yg.fa,vt:this.yg.Y,vr:this.yg.na,vb:this.yg.ka,v:this.pw,bc:this.Gl.toJSON(),t:this.Hk,sx:this.ni,
sy:this.oi,hosp:this.Ol,px:this.de,py:this.ee,c:this.jb.toJSON(),sr:this.zj,fx:this.Sa.nd(),cg:this.UA}}ua(z){this.Cd=z.s;this.se=z.a;this.yg.set(z.vl,z.vt,z.vr,z.vb);this.pw=!!z.v;this.Gl.Cm(z.bc);this.Hk=!!z.t;z.hasOwnProperty("sx")&&(this.ni=z.sx);z.hasOwnProperty("sy")&&(this.oi=z.sy);z.hasOwnProperty("hosp")&&(this.Ol=!!z.hosp);this.de=z.px;this.ee=z.py;this.jb.Cm(z.c);this.zj=z.sr;e.Sc(this.UA,z.cg);e.Sc(this.Ek,this.zV);const F=new Set(this.UA);let H=0;for(let J=0,M=this.Ek.length;J<M;++J)F.has(this.Ek[J][2])||
(this.Ek[H]=this.Ek[J],++H);e.hf(this.Ek,H);this.Sa.Uc(z.fx);this.cm=!0;this.sH(!1);this.Pg()}dG(z){if(!this.H.includes(z))if(z.rf()){var F=[...z.Wk()];F.push(z);F.sort((J,M)=>{J=J.j().Jq();M=M.j().Jq();return J-M});for(var H of F)if(H.dc())for(const J of H.Id)F.includes(J)||(z=[...J.Wk()],z.push(J),z.sort((M,P)=>{M=M.j().Jq();P=P.j().Jq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Rg(J,!0)}else if(this.Rg(z,!0),z.dc())for(F of z.Id)if(H=[...F.Wk()],H.push(F),H.sort((J,
M)=>{J=J.j().Jq();M=M.j().Jq();return J-M}),H&&H.length)for(const J of H)this.Rg(J,!0)}}}
{"use strict";const e=self.C,b=self.vh;e.B(e.Rect);e.B(e.Rect);const a=e.B(e.Rect),d=e.B(e.ib),c=self.Hj.LD,h=[],m=[],g=[],k=[];let n=null;function p(q,u){n!==q&&(q.k4(u),n=q)}e.H2=class extends e.la{constructor(q,u,w){super();this.kb=q;this.g=q.I();this.La=w[0];this.xea=w[1];this.wea=w[2];this.Z=w[1];this.W=w[2];this.WB=!!w[3];this.Cf=!!w[4];this.hD=w[5];this.iD=w[6];this.zT=w[7];this.ad=null;this.mb=w[8];this.Ta=u;this.oi=this.ni=0;this.Cd=1;this.se=0;this.ms=new Set;this.nh=new Set;this.gx=new Set;
this.Rr=[];this.TI=[];this.bea=!1;this.iT=c.create();this.Dda=c.create();this.Eda=c.create();this.IC=[];this.ec=[];this.zU=new Map;this.AU=new Map;const r=this.g.$;this.Sa=e.B(e.al,this,w[11]);this.Xh=e.B(e.K.Ie,r.rI,{rD:(v,y)=>{y=y.qn.jl();v.su();v.ty(y);v.Oq(y);r.To(y)},wD:v=>this.Sa.dl(v)});this.cm=!0;this.TV=!1;this.We=null;this.Xp={};this.Mp=!0;this.bw=new self.q1(this);this.he=e.B(e.Event.Mb);for(const v of w[9])this.IC.push(e.B(e.iO,this,null,v));this.ec=[...this.Rea()];for(let v=0,y=this.ec.length;v<
y;++v)q=this.ec[v],q.nH(v),q.Sg(),this.zU.set(q.Da().toLowerCase(),q),this.AU.set(q.mb,q);for(const v of w[10]){w=this.g.mf(v[1]);if(!w)throw Error("missing nonworld object class");w.Xr||w.tP(v);this.TI.push(v);this.pQ(w)}}A(){for(const q of this.ec)q.A();e.F(this.ec);this.gx.clear();this.g=this.kb=this.ad=null}I(){return this.g}Da(){return this.La}Na(){return this.Ta}Gi(){this.bv();return this.Xh}bv(){const q="low"===this.g.$.bi;if(this.cm||this.TV!==q){var u=this.Sa.jg;this.Xh.ZD(u.map(w=>w.$f()),
{et:u.map(w=>w.Na()),rL:q,KD:!0});this.cm=!1;this.TV=q}}Nh(){this.Sa.Nh();this.cm=!0}sN(){let q=this.ec[0].Ki();for(let u=1,w=this.ec.length;u<w;++u){const r=this.ec[u];if(0!==r.de||0!==r.ee)q=Math.min(q,r.Ki())}return q}rR(){return.5*this.g.Mf/this.sN()}sR(){return.5*this.g.Lf/this.sN()}zN(){return this.WB?-Infinity:this.rR()}AN(){return this.WB?Infinity:this.S()-this.rR()}BN(){return this.WB?-Infinity:this.sR()}yN(){return this.WB?Infinity:this.U()-this.sR()}Ui(q){const u=this.zN(),w=this.AN();
q>w&&(q=w);q<u&&(q=u);this.ni!==q&&(this.ni=q,this.sk(),this.g.ia())}Yf(){return this.ni}Vi(q){const u=this.BN(),w=this.yN();q>w&&(q=w);q<u&&(q=u);this.oi!==q&&(this.oi=q,this.sk(),this.g.ia())}Zf(){return this.oi}Xx(){this.Ui(this.Yf());this.Vi(this.Zf());for(const q of this.ec)q.Ol&&(q.Ui(q.Yf()),q.Vi(q.Zf()))}g6(q,u){if(this.hD!==q||this.iD!==u)this.hD=q,this.iD=u,this.t2()&&(this.Gr(),this.sk(),this.g.ia())}QE(){return this.Cf?.5:this.hD}RE(){return this.Cf?.5:this.iD}ON(){const q=this.QE(),u=
this.RE();return 0>q||1<q||0>u||1<u}NP(){this.Cf&&(this.Cf=!1,this.Gr(),this.sk(),this.g.ia())}KP(){this.Cf||(this.Cf=!0,this.Gr(),this.sk(),this.g.ia())}t2(){return!this.Cf}UF(q){this.Cd!==q&&(this.Cd=q,this.sk(),this.Xx(),this.g.ia())}od(q){q=e.Md(q);this.se!==q&&(this.se=q,this.sk(),this.g.ia())}oa(){return this.se}S(){return this.Z}Qe(q){!isFinite(q)||1>q||(this.Z=q)}U(){return this.W}uf(q){!isFinite(q)||1>q||(this.W=q)}*Rea(){for(const q of this.IC)yield*q.WW()}ea(q){return"number"===typeof q?
this.Ky(q):this.pN(q.toString())}Ky(q){q=e.ba(Math.floor(q),0,this.ec.length-1);return this.ec[q]}pN(q){return this.zU.get(q.toLowerCase())||null}Ly(q){return this.AU.get(q)||null}Gr(){for(const q of this.ec)q.xca()}sk(){for(const q of this.ec)q.uk()}u0(){let q=this.IC.filter(u=>u.Iz())[0];for(;q;){if(!q.Hk)return d.Ej(q.Gl),d.nt(1),d;if(q.Mu())return d.oo(0,0,0,0),d;q=q.Pn.filter(u=>u.Iz())[0]}d.oo(0,0,0,0);return d}iR(){return[...this.ms]}pQ(q){if(q.dc())for(const u of q.Vg.fm)this.ms.add(u);else this.ms.add(q)}N9(){return[...this.nh]}TG(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.LY(this.nh,q.nh),q.nh.clear());q=[];for(const w of this.ms)this.nh.has(w)||(q.push(w.Uq(u)),this.nh.add(w));return Promise.all(q)}async qO(q){if(q.fb)throw Error("cannot load textures for family");var u=this.g.sb();!u||u.Jo()||this.nh.has(q)||(this.nh.add(q),u=q.Uq(u),this.q7(u),await u,q.rz(),this.g.ia())}q7(q){this.gx.add(q);q.then(()=>this.gx.delete(q)).catch(()=>this.gx.delete(q))}U6(){return Promise.all([...this.gx])}b3(q){if(q.fb||0<q.H.length)throw Error("cannot unload textures");
this.g.sb()&&this.nh.has(q)&&(this.nh.delete(q),q.Uo())}Xca(q,u){if(q!==this&&u)for(const w of this.nh)w.dg()||q.ms.has(w)||(w.Uo(),this.nh.delete(w))}gv(){this.nh.clear()}async NS(q){const u=this.g,w=this.kb,r=u.qa();this.zT&&(this.ad=r.jN(this.zT),this.ad.vH());w.ES(this);this.Z=this.xea;this.W=this.wea;this.ni=u.ih/2;this.oi=u.hh/2;this.Xx();this.W$(q);this.U7();this.Mp||this.W7();this.FQ(this.Rr);this.V7();w.yY();u.Wd();const v=this.g.nda;await Promise.all(v);e.F(v);if(!u.Gk){for(const y of this.Rr)y.k6();
for(const y of this.Rr)y.QS()}e.F(this.Rr);await Promise.all([...this.ms].map(y=>y.zF(this.g.sb())));q&&(u.Mb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.wo(new e.Event("beforeprojectstart")));await this.wo(new e.Event("beforelayoutstart"));u.Gk||await u.Se(e.D.Ja.L.DO,null,null);await this.wo(new e.Event("afterlayoutstart"));q&&(u.Mb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.wo(new e.Event("afterprojectstart")));r.tba(w);await this.U6();this.Gr();this.sk();
this.Mp=!1}W$(q){for(const w of this.g.Wc)if(!w.fb&&w.Df)for(const r of w.ra()){const v=r.j();var u=v.ea();u=e.ba(u.Na(),0,this.ec.length-1);u=this.ec[u];v.kv(u);u.N$(r)}if(!q)for(const w of this.ec)w.sH(!1)}U7(){for(const q of this.ec)q.QY(this.Rr),q.nG()}W7(){let q=!1;for(const [w,r]of Object.entries(this.Xp)){const v=this.g.Oy(parseInt(w,10));if(v&&!v.fb&&v.XE()){for(const y of r){var u=null;if(v.Df&&(u=this.Ly(y.w.l),!u))continue;u=this.g.Ei(v,u,!1,0,0,!0);u.Uc(y);q=!0;this.Rr.push(u)}e.F(r)}}for(const w of this.ec)w.sH(!0),
w.Pg();q&&(this.g.Wd(),this.g.fS())}FQ(q){for(const w of q){if(!w.dc())continue;const r=w.j(),v=w.zo();for(const y of w.J().Vg.fm)if(y!==w.J()){var u=y.ra();u.length>v?w.xr(u[v]):(u=r?this.g.Ei(y,r.ea(),!0,r.N(),r.O(),!0):this.g.Ei(y,null,!0,0,0,!0),this.g.Wd(),y.vA(),w.xr(u),q.push(u))}}}V7(){for(const q of this.TI)this.g.mf(q[1]).dc()||this.g.Ei(q,null,!0)}S7(){const q=[],u=this.TI;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.mf(y[1]);A.dg()?A.dc()&&A.Vg.$0()||q.push(this.g.Ei(y,
null,!0)):(u[w]=y,++w)}e.hf(u,w);this.g.Wd();this.FQ(q)}qu(q,u,w,r,v,y){if(w)return w.qu(q,u,r,v,y);w=[];for(const A of this.ec)w.push(A.qu(q,u,r,v,y));return w.flat()}async Pca(){const q=this.kb;this.g.Gk||await this.g.Se(e.D.Ja.L.E3,null,null);q.EP(!0);this.g.qa().cy();this.Mp||this.Eba();for(const u of this.ec)u.Y8();for(const u of this.g.Wc)if(!(u.dg()||u.Df||u.Fb().yn||u.fb)){for(const w of u.ra())this.g.Hm(w);this.g.Wd()}q.EP(!1);q.Wb()===this&&q.ES(null)}Bba(q){const u=q.J().mb.toString();
this.Xp.hasOwnProperty(u)||(this.Xp[u]=[]);this.Xp[u].push(q.nd())}Eba(){for(const q of this.ec){q.qv();for(const u of q.H){const w=u.J();!w.dg()&&w.XE()&&this.Bba(u)}}}P4(){this.Xp={};this.Mp=!0}jl(){return this.We}Mu(){const q=this.g,u=q.sb().pl();return"low"===q.$.bi||u&&q.eD||"low-latency"===q.Qr||this.Sa.bu()||u&&q.tm}Ah(q){const u=this.g.$,w=this.Mu();if(w){"low-latency"!==this.g.Qr&&(q.Og(null),q.to());const r={Ij:this.g.Bd,EL:this.g.eD||this.Sa.bu()};"low"===u.bi&&(r.width=u.Rj(),r.height=
u.Fi());this.We=this.g.Ht(r)}else this.We=null;q.Og(this.We);q.Ed(this.u0());this.g.tm&&q.vY();for(const r of this.ec)r.nG();this.SQ(q,this.We,this.IC,!0);w&&(q.Ng(!1),this.Q8(q,this.We));this.We=null}SQ(q,u,w,r){w=w.filter(v=>v.Iz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.MF()&&!A.NF()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.MF()&&!z.NF())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].Z0()){this.I8(q,u,h);v+=h.length;e.F(h);continue}e.F(h)}A.Ah(q,u,r&&0===v);++v}}Q8(q,
u){const w=this.g;0===this.Sa.jg.length?(q.Og(null),q.nk(),q.DM(u),q.Oq(u),w.To(u)):(a.set(0,0,w.Mf,w.Lf),this.Gi().Wo(q,null,{nD:this,io:3,devicePixelRatio:this.g.Qt(),Fx:this.g.Rt()*this.Cd,zD:this.oa(),jt:a,Ax:null,AL:!0}))}I8(q,u,w){w[0].Hk||(d.Ej(w[0].Gl),d.nt(1),q.Ed(d));var r=this.g.$;q.Ng(!0);for(var v of w)v.qv(),v.wQ(m);v=w[0];w=null;this.g.jF()&&q.pl()&&(r=r.qN(v))&&(w=r.UD(),q.hG(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.j(),A=y.ea();if(y.Tc()&&y.Qq(A.Ar())){(!v.br()||0<y.Zc)&&k.push(v);
var G=v.j().qf();g.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.j();if(J.Tc()&&J.Qq(J.ea().Ar())){if(J.qf()!==G)break;H.br()?(0<J.Zc&&k.push(H),g.push(H)):k.push(H)}}if(1!==g.length||g[0].sO()){this.J8(q,u,g);for(let H=0,J=k.length;H<J;++H)v=k[H],y=v.j(),A=y.ea(),y.mA(!0),p(A,q),A.Al(v,y,q,u),y.mA(!1)}else{p(A,q);A.Al(v,y,q,u);for(let H=0,J=k.length;H<J;++H)y=k[H],y!==v&&(A=y.j(),G=A.ea(),p(G,q),G.Al(y,A,q,u))}z=r;e.F(g);e.F(k)}else++z}w&&q.mE(w);e.F(m);n=null}J8(q,u,w){q.CM();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.j(),y=v.ea();v.kA(!0);p(y,q);y.GG(r,v,q)}q.BM();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.j(),y=v.ea(),p(y,q),y.Al(r,v,q,u),v.kA(!1);q.AM()}ma(){const q={sx:this.Yf(),sy:this.Zf(),s:this.Cd,a:this.oa(),w:this.S(),h:this.U(),ortho:this.Cf,vpX:this.QE(),vpY:this.RE(),fv:this.Mp,persist:this.Xp,fx:this.Sa.nd(),layers:{}};for(const u of this.ec)q.layers[u.mb.toString()]=u.ma();return q}ua(q){this.ni=q.sx;this.oi=q.sy;this.Cd=q.s;this.se=q.a;this.Z=q.w;this.W=q.h;this.Cf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.hD=q.vpX);q.hasOwnProperty("vpY")&&(this.iD=q.vpY);this.Mp=!!q.fv;this.Xp=q.persist;this.Sa.Uc(q.fx);this.cm=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Ly(parseInt(u,10)))&&q.ua(w);this.Gr();this.sk()}zh(q){q.AD=this.bw;var u=this.g;(u=u.Jb&&!u.qa().kz())&&b.gG();this.he.dispatchEvent(q);u&&b.TD()}wo(q){q.AD=this.bw;return this.he.qL(q)}}}
{"use strict";const e=self.C;e.I2=class extends e.la{constructor(b){super();this.g=b;this.ej=[];this.BJ=new Map;this.CJ=new Map;this.Cw=null;this.pK=[];this.kB=null;this.KB=0;this.Kw=null}A(){this.Kw=this.kB=this.Cw=this.g=null;e.F(this.ej);this.BJ.clear();this.CJ.clear();e.F(this.pK)}Ua(b){b=e.B(e.H2,this,this.ej.length,b);this.ej.push(b);this.BJ.set(b.Da().toLowerCase(),b);this.CJ.set(b.mb,b)}I(){return this.g}y5(b){this.kB=b}c0(){if(this.kB)return this.kB;if(this.ej.length)return this.ej[0];throw Error("no first layout");
}Gq(b){return this.BJ.get(b.toLowerCase())||null}KE(b){return this.CJ.get(b)||null}v0(b){b=e.ba(Math.floor(b),0,this.ej.length-1);return this.ej[b]}lc(b){return"number"===typeof b?this.v0(b):this.Gq(b.toString())}ES(b){this.Cw=b}Wb(){return this.Cw}*Ox(){this.Cw&&(yield this.Cw);this.pK.length&&(yield*this.pK)}EP(b){if(b)this.KB++;else{if(0>=this.KB)throw Error("already unset");this.KB--}}$N(){return 0<this.KB}by(b){this.Kw=b}yY(){this.Kw=null}Rq(){return!!this.Kw}er(){const b=this.Wb();b&&b.Gr()}dr(){const b=
this.Wb();b&&b.sk()}}}
{"use strict";const e=self.C;e.A6=class extends e.la{constructor(b){super();this.g=b;this.jx=e.B(e.Qg);this.yea=null;this.Rn=[];this.kx=new Map;this.em=new Map;this.Sn=new Map;this.lh=[];this.Ae=[];this.ii=[];this.ow=this.Or=this.Fp=!1;this.om=()=>this.vaa();this.nm=()=>this.bH();this.TH=()=>this.dv();this.AJ=()=>this.Y$();this.XI=a=>this.XR(a.instance);this.FH=()=>this.kp();this.Qv=[];this.Qc=0}A(){this.D4();this.FH=this.XI=this.AJ=this.TH=this.nm=this.om=null;for(const b of this.Rn)b.Re(),b.A();
e.F(this.Rn);this.Rn=null;this.jx.A();this.jx=null;e.F(this.lh);this.lh=null;e.F(this.Ae);this.Ae=null;e.F(this.ii);this.ii=null;this.kx.clear();this.kx=null;this.em.clear();this.em=null;this.Sn.clear();this.Sn=null;e.F(this.Qv);this.g=this.Qv=null}KX(){const b=this.g.Mb();b.addEventListener("pretick",this.om);b.addEventListener("tick2",this.nm);b.addEventListener("beforelayoutchange",this.TH);b.addEventListener("layoutchange",this.AJ);b.addEventListener("instancedestroy",this.XI);b.addEventListener("afterload",
this.FH)}D4(){const b=this.g.Mb();b.removeEventListener("pretick",this.om);b.removeEventListener("tick2",this.nm);b.removeEventListener("beforelayoutchange",this.TH);b.removeEventListener("layoutchange",this.AJ);b.removeEventListener("instancedestroy",this.XI);b.removeEventListener("afterload",this.FH)}Ua(b){this.jx.Hc(b);b=e.cp.PY(b,this);this.Hc(b);this.V5(b);this.Sn.set(b.Da(),0)}eE(b){b=b.FN();var a=this.jx.ga(b);a=e.cp.eE(`${b}:${this.Sn.get(b)}`,a,this);this.zR(b);this.Hc(a);return a}zR(b){this.Sn.set(b,
this.Sn.get(b)+1)}Wba(){for(const b of this.Rn)b.qs||this.zR(b.FN())}K7(){for(const b of this.Sn.keys())this.Sn.set(b,0)}Hc(b){this.Rn.push(b);this.kx.set(b.Da().toLowerCase(),b)}Ih(b){b.yz();b.qs||(e.Xk(this.Rn,b),e.Xk(this.lh,b),e.Xk(this.Ae,b),e.Xk(this.ii,b),this.kx.delete(b.Da().toLowerCase()),this.E4(b),b.kh||b.A())}Ga(b){this.g.Ga(b,this.yea,null)}I(){return this.g}QP(b,a){this.em.has(b)||this.em.set(b,new Set);this.em.get(b).add(a)}V5(b){for(const a of b.tN())this.QP(a,b)}E4(b){for(const [a,
d]of this.em.entries())d.has(b)&&(d.delete(b),0===d.size&&this.em.delete(a))}P0(b){if(this.em.has(b))return this.em.get(b)}Xy(b){return this.kx.get(b.toLowerCase())||null}C4(b){e.Xk(this.Ae,b);this.av()}mP(b){this.Ae.includes(b)?(b.nr(!0),b.qr(!1),b.Gz(!1)):(b.nr(!1),b.qr(!0),b.Gz(!1),this.lh.includes(b)||this.lh.push(b));this.OR()}ly(b){b.nr(!1);b.qr(!1);b.HF();e.Xk(this.lh,b);this.av()}xM(b){b.nr(!1);b.qr(!1);b.Gz(!0);this.ii.push(b);e.Xk(this.Ae,b)}yM(b){b.nr(!1);b.qr(!1);b.Gz(!1);b.Ti(1);e.Xk(this.Ae,
b)}HY(b){this.xM(b);b.HF()}vaa(){if(!this.I().Gk&&this.Fp&&!this.Or){for(this.ow=!0;this.lh.length;){var b=this.lh.pop();b.Vc();0!==b.Qc&&(this.Qc=1);this.Ae.push(b)}b=this.g.Rv;var a=this.g.Sv,d=this.g.Kd;for(let c=this.Ae.length-1;0<=c;c--)this.Ae[c].pe(b,d,a);this.ow=!1;0!==this.Qc&&this.I().ia()}}bH(){if(!this.I().Gk&&this.Fp&&!this.Or){var b;for(let a=0,d=this.ii.length;a<d;a++){const c=this.ii[a];b||(b=new Set);c.yz();this.PR(c);b.add(c)}if(b){e.zg(this.ii,b);this.Qc=0;for(let a=0,d=this.Ae.length;a<
d;a++)if(0!==this.Ae[a].Qc){this.Qc=1;break}}this.av()}}PR(b){b.kh||b.NN()&&b.kg&&b.wn&&b.XM()}OR(){this.Fp||(this.Fp=!0)}av(){this.ii.length||this.Ae.length||this.lh.length||this.ow||(this.Fp=!1)}dv(){for(this.Or=!0;this.lh.length;)this.ly(this.lh.pop());const b=new Set;for(const a of this.Ae)a.dv()&&(a.yz(),b.add(a));e.zg(this.Ae,b);b.clear();for(const a of this.ii)a.dv()&&(a.yz(),b.add(a));e.zg(this.ii,b);this.av();for(const a of this.Rn)a.Kj()}Y$(){this.Or=!1}XR(b){var a=b.J();if(a=this.P0(a))if(this.g.Gk)this.Qv.push(b);
else for(const d of a)d.qs||(d.kh?this.Ih(d):d.NN()||(this.PR(d),this.Ih(d)))}kp(){for(const b of this.Qv)this.XR(b);e.F(this.Qv)}ma(){return{timelinesJson:this.Jba(),scheduledTimelinesJson:this.Hba(),playingTimelinesJson:this.Fba(),markedForRemovalTimelinesJson:this.Dba(),hasRuntimeListeners:this.Fp,changingLayout:this.Or,isTickingTimelines:this.ow}}ua(b){b&&(this.K7(),this.H$(b.timelinesJson),this.E$(b.scheduledTimelinesJson),this.C$(b.playingTimelinesJson),this.B$(b.markedForRemovalTimelinesJson),
this.Fp=!b.hasRuntimeListeners,this.Or=!!b.changingLayout,this.ow=!!b.isTickingTimelines,this.Wba(),this.OR(),this.av())}Jba(){return this.Rn.map(b=>b.ma())}H$(b){for(const a of b){b=this.Xy(a.name);if(!b){b=this.K9(a);if(!b)continue;b=this.Xy(b);b=this.eE(b)}b.ua(a);b.i1()||this.Ih(b)}}K9(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Hba(){return this.jH(this.lh)}E$(b){this.WG(b,this.lh)}Fba(){return this.jH(this.Ae)}C$(b){this.WG(b,this.Ae)}Dba(){return this.jH(this.ii)}B$(b){this.WG(b,
this.ii)}l$(b,a){for(const d of a)if(d===b.Da())return!0;return!1}jH(b){return b.map(a=>a.Da())}WG(b,a){var d=new Set;for(const c of a)this.l$(c,b)||d.add(c);e.zg(a,d);d=c=>h=>h.Da()===c;for(const c of b)(b=this.Xy(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.C;e.cp=class extends e.la{constructor(b,a,d){super();this.g=d.I();this.Lb=d;this.Vd=a;this.La=b;this.pb=[];this.HV=0;this.Kr=null;this.eT=0;this.JM();this.yC=this.Mw=null;this.ic=0;this.bd=1;this.Td=0;this.Pd=1;this.wn=this.Vl=this.PB=!1;this.kg=!0;this.mC=this.kh=!1;this.Pr=-1;this.Ye=this.Cp=this.qs=this.xB=!1;this.$B=NaN;this.mh=[""];this.AV="";this.GK=!1;this.tB=this.Qc=0}static PY(b,a){const d=a.jx.ga(b[0]);b=e.B(e.cp,b[0],d,a);b.I5();return b}static eE(b,a,d){return e.B(e.cp,
b,a,d)}A(){if(!this.kh){this.Lb.ly(this);this.Lb.HY(this);for(const b of this.pb)b.A();e.F(this.pb);this.Vd=this.Lb=this.g=this.pb=null;this.kh=!0;this.yC=this.Mw=null}}JM(){for(const b of this.Vd.Zt().fX())this.HV=this.pb.push(e.mG.Ua(this,b))}I(){return this.g}Vt(b,a,d){if(this.tB){var c;for(let m=0;m<this.pb.length;m++){var h=this.pb[m];b===h.Fa()&&(h=h.Xf(d))&&a.constructor===h.Ob().constructor&&(c||(c=[]),c.push(h))}return c}}i1(){return!!this.pb.length}Hz(b){this.La=b}Da(){return this.La}FN(){return this.Vd.Da()}ag(){return this.Vd.ag()}Wt(){return this.Vd.Wt()}Ii(){return this.Vd.Ii()}nf(){return this.Vd.nf()}kk(b){for(const a of this.pb)a.kk(b)}My(){return this.Vd.My()}Qy(){return this.Vd.Qy()}Hh(){return this.Vd.Hh()}Ti(b){return this.bd=
b}dk(){return this.IsPlaying()?0<this.bd:!0}uN(){this.Mw||(this.Mw=new Promise(b=>{this.yC=b}))}HF(){this.Mw&&(this.yC(),this.yC=this.Mw=null)}PP(b){this.mh=e.cp.J9(b);this.GK=!0}GO(){e.D.Lc.L.$o(this);this.Lb.Ga(e.D.Lc.L.sla);this.Lb.Ga(e.D.Lc.L.tla);this.Lb.Ga(e.D.Lc.L.ula);this.Lb.Ga(e.D.Lc.L.kla);e.D.Lc.L.$o(null)}wF(){this.Pr=this.g.Nk}XM(){this.Cp||(this.Cp=!0,e.D.Lc.L.$o(this),this.Lb.Ga(e.D.Lc.L.pla),this.Lb.Ga(e.D.Lc.L.qla),this.Lb.Ga(e.D.Lc.L.rla),this.Lb.Ga(e.D.Lc.L.jla),e.D.Lc.L.$o(null))}nr(b){this.PB=
b}WN(){return this.Pr===this.g.Nk}IsPlaying(b=!1){return this.WN()||this.Vl&&!b?!0:this.PB}Dr(){return this.IsPlaying(!0)}qr(b){this.Vl=b}sP(b){this.kg=b;b=this.Ha();if(0>=b||b>=this.ag())this.kg=!0}Gz(b){this.mC=b}RF(b){this.xB=b}I5(){this.qs=!0}Ha(){return this.ic}rr(b){const a=this.Ha();this.Ac(b);this.sP(!1);this.kg||this.RF(!0);if(this.Dr()||this.Vl||!this.wn)this.Dr()||this.Vl||this.wn?this.Dr()?this.Re():this.Vl&&(this.Lb.ly(this),this.BP()):this.BP();this.ov();this.QG(b,!0,a);this.rH();this.Qc&&
this.I().ia();this.aS()}Ac(b){this.ic=0>b?0:b>=this.ag()?this.ag():b}aS(){e.D.Lc&&this.constructor===e.cp&&(e.D.Lc.L.$o(this),this.Lb.Ga(e.D.Lc.L.mla),this.Lb.Ga(e.D.Lc.L.nla),this.Lb.Ga(e.D.Lc.L.ola),e.D.Lc.L.$o(null))}Play(b=!1){return this.kh||this.Vl?!1:this.Dr()&&this.WN()?this.Nba():this.Dr()||!this.kg&&!b&&!this.xB?!1:this.Oba()}Nba(){this.RF(!1);this.Lb.C4(this);this.Lb.mP(this);this.uN();return!0}Oba(){this.RF(!1);this.Lb.mP(this);this.uN();return!0}Re(b=!1){this.kh||(this.sP(b),this.Lb.xM(this),
this.kg&&this.HF())}md(b=!0,a=!1){if(!this.kh)if(!this.Dr()&&this.Vl)this.Lb.ly(this);else if(!this.kg){this.Re(!0);this.dk()?this.Ac(0):this.Ac(this.ag());var d=this.Ha();this.ov();a?this.e$(d):this.QG(d,!1);b&&this.aS();this.rH();this.Qc&&b&&this.I().ia()}}dP(){this.md(!1,!0)}e$(b){this.QG(b,!1,NaN,!1,!0)}dv(){if(this.kh)return!0;if(this.j1())return!1;this.Lb.yM(this);this.dP();return!0}BP(){this.Vc(!0)}Vc(b){if(!this.mC){if(b){this.Ye=this.wn=!0;this.ov();for(const a of this.pb)a.Vc()}else if(this.nr(!0),
this.qr(!1),this.GO(),this.kg){this.Pr=-1;this.Td=0;this.Pd=1;this.Cp=this.kg=!1;this.Ye=this.wn=!0;this.dk()?this.Ac(0):this.Ac(this.ag());this.ov();for(const a of this.pb)a.Vc()}else{this.Ye=!0;this.ov();for(const a of this.pb)a.Oe()}this.rH()}}ov(){this.tB=0;for(const b of this.pb)b.xn&&(this.tB=1)}rH(){this.Qc=0;for(const b of this.pb)b.qA(),0===this.Qc&&1===b.Qc&&(this.Qc=1),this.Kr||1!==b.Gn||(this.Kr||(this.Kr=[]),this.eT=this.Kr.push(b))}pe(b,a){if(0!==b||0!==this.$B){this.$B=b;var d=this.ic;
a=d+b*a*this.bd;b=this.Vd.Ts;this.ic=0>a?0:a>=b?b:a;var c=!1;a=this.My();var h=this.Qy();a||h?a&&!h?0<this.bd?this.ic>=b&&this.Ac(0):0>=this.ic&&this.Ac(b):!a&&h?0<this.bd?this.ic>=b&&(this.Ac(b),this.Ti(-1*this.bd),1===this.Td?this.Pd<this.Hh()?(this.Pd++,this.Td=0):c=!0:0===this.Td&&(this.Td=1)):0>=this.ic&&(this.Ac(0),this.Ti(-1*this.bd),1===this.Td?this.Pd<this.Hh()?(this.Pd++,this.Td=0):c=!0:0===this.Td&&(this.Td=1)):a&&h&&(0<this.bd?this.ic>=b&&(this.Ac(b),this.Ti(-1*this.bd)):0>=this.ic&&(this.Ac(0),
this.Ti(-1*this.bd))):0<this.bd?this.ic>=b&&(this.Pd<this.Hh()?(this.Pd++,this.Ac(0)):(this.Ac(b),c=!0)):0>=this.ic&&(this.Pd<this.Hh()?(this.Pd++,this.Ac(b)):(this.Ac(0),c=!0));a=this.HV;if(c){for(c=0;c<a;c++)this.pb[c].wP();this.Re(!0);this.wF()}else{h=this.eT;for(c=0;c<h;c++)this.Kr[c].ro();if(1===this.tB)for(c=0;c<a;c++){const m=this.pb[c],g=m.pf(),k=d-g;0>this.ic-g&&0<k?(this.ic=0>g?0:g>=b?b:g,m.Ia(g,!0,!1,!1,this.Ye,!1)):m.Ia(this.ic,!0,!1,!1,this.Ye,!1)}else for(c=0;c<a;c++)this.pb[c].Ia(this.ic,
!0,!1,!1,this.Ye,!1);for(c=0;c<h;c++)this.Kr[c].qo();this.Ye&&(this.Ye=!1)}}}QG(b,a=!1,d=NaN,c=!1,h=!1){for(var m of this.pb)m.ro();for(const g of this.pb){m=b;if("number"===typeof d){const k=this.Ha()-g.pf(),n=d-g.pf();0>k&&0<n&&(m=g.pf(),this.Ac(m))}g.Ia(m,!1,a,!0,this.Ye,h)}for(const g of this.pb)g.qo();this.Ye&&c&&(this.Ye=!1)}yz(){if(!this.kh)for(const b of this.pb)b.ul()}Kj(){for(const b of this.pb)b.Kj()}zY(){for(const b of this.pb)b.xY()}W5(b,a){if(a)for(const d of this.pb)if(d.Oi()){if(b){if(d.Sj()!==
b)continue}else if(d.c1())continue;d.G5(a);this.Lb.QP(a.J(),this);break}}NN(){return this.pb.some(b=>b.Oi()?b.bE():!0)}j1(){return this.pb.some(b=>b.Oi()?b.bE()?(b=b.J())?b.dg():!1:!1:!1)}Xf(b){for(const a of this.pb)for(const d of a.gb)if(d.Ba.cd===b)return d}GN(b){for(const a of this.pb)if(b===a.Fa())return a;return null}tN(){const b=[];for(const a of this.pb)b.push(a.J());return b.filter(a=>a)}ma(){return{tracksJson:this.Lba(),name:this.La,playheadTime:this.Ha(),playbackRate:this.bd,pingPongState:this.Td,
currentRepeatCount:this.Pd,isPlaying:this.PB,isScheduled:this.Vl,initialStateSet:this.wn,finishedTriggers:this.Cp,complete:this.kg,released:this.kh,markedForRemoval:this.mC,completedTick:this.Pr,implicitPause:this.xB,isTemplate:this.qs,tags:this.mh.join(" "),stringTags:this.AV,tagsChanged:this.GK,firstTick:this.Ye}}ua(b){b&&(this.I$(b.tracksJson),this.La=b.name,this.ic=b.playheadTime,this.bd=b.playbackRate,this.Td=b.pingPongState,this.Pd=b.currentRepeatCount,this.PB=!!b.isPlaying,this.Vl=!!b.isScheduled,
this.wn=!!b.initialStateSet,this.Cp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.kg=!!b.complete,this.kh=!!b.released,this.mC=!!b.markedForRemoval,this.Pr=b.completedTick,this.xB=!!b.implicitPause,this.qs=!!b.isTemplate,this.mh=b.tags.split(" "),this.AV=b.stringTags,this.GK=!!b.tagsChanged,this.Ye=!!b.firstTick)}Lba(){return this.pb.map(b=>b.ma())}I$(b){b.forEach((a,d)=>{this.pb[d].ua(a)});this.pb.filter(a=>a.bE())}static J9(b){if(e.Io(b))return b.slice(0);if(e.Pi(b))return b.split(" ")}}}
{"use strict";const e=self.C;e.mG=class extends e.la{constructor(b,a){super();this.ri=b;this.Rb=a;this.ef=a.Zt();this.dm=this.Ql=NaN;this.Ya=this.sc=null;this.xn=0<a.pf();this.yp=this.ns=!1;this.vj=null;this.tc=this.Rb.Tj().tc;this.gb=[];this.IM();this.Gn=this.Qc=this.Tk=0}static Ua(b,a){return e.B(e.mG,b,a)}A(){this.tc=null;for(const b of this.gb)b.A();e.F(this.gb);this.vj=this.Rb=this.Ya=this.sc=this.ri=this.gb=null}IM(){for(const b of this.Rb.le().QW())this.gb.push(e.hb.Ua(this,b))}ul(){for(const b of this.gb)b.ul()}Kj(){for(const b of this.gb)b.Kj();
this.Ya=this.sc=null}Cb(){return this.ri}I(){return this.ri.I()}t0(){return this.tc?this.tc:this.tc=this.Rb.Tj().tc}Xf(b){for(let a=0;a<this.gb.length;a++){const d=this.gb[a];if(d.Ba.cd===b)return d}}lu(){this.sc||this.Fa()}Tm(){return this.sc?!this.sc.eu():!1}bE(){if(!this.Oi())return!1;const b=this.I().Fg(this.St());return b?!b.eu():!1}J(){if(this.Oi()){var b=this.ME();if(-1!==b)return this.I().mf(b)}}xY(){this.sc=null;this.Ql=-1;this.Ya=null;this.dm=-1}c1(){return!!this.sc}Fa(){return this.sc&&
this.Tm()?this.sc:this.sc=this.I().Fg(this.St())}G5(b){if(this.sc!==b){this.Kj();this.sc=b;this.dm=b.J().Na();this.Ql=b.cc;this.Ya=b.j();for(const m of this.oga()){const g=m.Ega;switch(m.nga.Yd()){case "instance-variable":var a=b.J(),d=a.m0(m.name),c=a.oN(d);a=a.Tt(d);c===m.name&&a===m.type&&g.O6(d);break;case "behavior":var h=m.gL;d=this.J();c=b.J();a=g.Eg(c);h&&a&&(h=h.Da(),d.Jt(h),c.Jt(h),g.L6(a.mb))}}}}*oga(){for(const d of this.gb){var b=d.Ob(),a=this.J();const c={nga:d,Ega:b};switch(d.Yd()){case "world-instance":c.Hsa=
d.Ba.cd;break;case "instance-variable":b=b.Eq();c.name=a.oN(b);c.type=a.Tt(b);break;case "effect":a=b.BE(a.Sa);c.Pqa=a;break;case "behavior":a=b.Eg(a);c.gL=a;break;case "plugin":c.Esa=a.Fb()}yield c}}j(){if(this.Ya&&this.Tm())return this.Ya;const b=this.Fa();b&&(this.Ya=b.j());return this.Ya}St(){return this.Ql?this.Ql:this.Rb.St()}Ii(){return this.Rb.Ii()}nf(){return this.Rb.nf()}Sj(){return this.Rb.Sj()}pf(){return this.Rb.pf()}gl(){return this.Rb.gl()}kk(b){for(const a of this.t0())a.kk(b);for(const a of this.gb)a.kk(b)}fl(){return this.Rb.fl()}tl(b){this.Rb.tl(b)}ME(){return isNaN(this.dm)?
this.Rb.ME():this.dm}Vj(){const b=this.Fa();return b&&b.ta.Mo()?b.ta.Vj():this.Rb.Vj()}Uj(){const b=this.Fa();return b&&b.ta.Mo()?b.ta.Uj():this.Rb.Uj()}ak(){return this.Rb.ak()}Da(){return this.Rb.Da()}Oi(){return 0===this.ak()}Vc(){this.lu();if(this.Tm()||!this.Oi()){var b=this.Cb().dk()?0:this.gl();for(const a of this.gb)a.Vc(b),0===this.Tk&&1===a.Tk&&(this.Tk=1),0===this.Qc&&1===a.Qc&&(this.Qc=1);this.Gn=0;this.gb.some(a=>a.Gn)&&(this.Gn=1);this.vj=this.kR(b);this.yp=this.ns=!1;this.Ia(b)}}Oe(){this.lu();
if(this.Tm()||!this.Oi()){this.ri.dk();var b=this.ri.Ha()-this.pf();this.vj=this.kR(b);for(const a of this.gb)a.Oe(b)}}wP(){if(!(this.Cb().kg||(this.lu(),!this.Tm()&&this.Oi()||this.xn))){const b=this.ri.Ha();b>=this.pf()+this.gl()?this.Ia(this.gl(),!0,!1,!0):0>=b&&this.Ia(0,!0,!1,!0)}}qA(){for(let b=0,a=this.gb.length;b<a;b++){const d=this.gb[b];d.qA();0===this.Tk&&1===d.Tk&&(this.Tk=1);0===this.Qc&&1===d.Qc&&(this.Qc=1)}}ro(){const b=this.gb.length;for(let a=0;a<b;a++)this.gb[a].ro()}Ia(b,a=!1,
d=!1,c=!1,h=!1,m=!1){this.sc||this.Fa();const g=0===this.Rb.Ca;if(!((!this.sc||this.sc.eu())&&g||m&&g&&this.J().dg()||(b-=this.pf(),0>b))){this.Z2(b,a);this.a3(b,a,h);for(let k=0,n=this.gb.length;k<n;k++)this.gb[k].Ia(b,d,c);this.Y2(b,a);0!==this.Tk&&(this.Ya||(this.Ya=this.sc.j()),this.Ya&&this.Ya.$a())}}qo(){const b=this.gb.length;for(let a=0;a<b;a++)this.gb[a].qo()}Z2(b,a){if(a&&this.xn&&!this.ns){if(this.Cb().dk()){if(0>b)return;for(const d of this.gb)d.Ia(0,!1,!0)}else{if(b>this.gl())return;
for(const d of this.gb)d.Ia(this.gl(),!1,!0)}for(const d of this.gb)d.Vc();this.ns=!0}}Y2(b,a){if(a&&this.xn&&!this.yp)if(this.Cb().dk()){if(b>=this.gl()){for(const d of this.gb)d.Ia(this.gl(),!1,!0);this.yp=!0}}else if(0>=b){for(const d of this.gb)d.Ia(0,!1,!0);this.yp=!0}}a3(b,a,d){if(!d&&a&&e.D.Lc){a=this.Cb();d=this.vj.bf;var c=this.vj.Ha(),h=d?d.Ha():a.ag();if(b<=c||b>=h)this.vj=this.ef.kN(b,this.Rb),a.dk()?d&&this.yF(this.vj):this.vj.bf&&this.yF(this.vj)}}kR(b){const a=this.ef.q0(b,this.Rb);
return a?a:this.ef.kN(b,this.Rb)}yF(b){const a=this.Cb();e.D.Lc.L.$o(a);e.D.Lc.L.e6(b);b=a.Lb;b.Ga(e.D.Lc.L.ila);b.Ga(e.D.Lc.L.yF);e.D.Lc.L.$o(null);e.D.Lc.L.e6(null)}FX(){return this.Rb.Tj().AX()}dZ(b){this.Rb.Tj().cZ(b)}qy(b){for(const a of this.gb)a.qy(b)}Yo(){for(const b of this.gb)b.Yo()}Ci(){this.lu();if(this.Tm()||!this.Oi())for(const b of this.gb)b.Ci()}Di(){this.lu();if(this.Tm()||!this.Oi()){var b=!1;for(const a of this.gb){const d=a.Di();!b&&d&&(b=!0)}b&&(b=this.FX(),b.rr(this.Cb().Ha()),
b.kk("noease"),b.tl(!0),b.PP(""))}}ma(){var b=this.Fa();b=b?b.cc:this.St();return{propertyTracksJson:this.Gba(),lastKeyframeDataItemJson:this.Cba(),initialStateOfNestedSet:this.ns,endStateOfNestedSet:this.yp,instanceUid:b}}ua(b){b&&(this.D$(b.propertyTracksJson),this.A$(b.lastKeyframeDataItemJson),this.x$(b.instanceUid),this.ns=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.ns=b.initialStateOfNestedSet),this.yp=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.yp=b.endStateOfNestedSet))}Cba(){return this.Rb.Tj().s0(this.vj)}Gba(){return this.gb.map(b=>
b.ma())}D$(b){b.forEach((a,d)=>{this.gb[d].ua(a)})}x$(b){if(e.Rm(b)&&(b=this.I().Fg(b))){var a=this.Cb();a.zY();a.W5(this.Rb.Sj(),b)}}A$(b){this.vj=this.Rb.Tj().r0(b)}}}
{"use strict";const e=self.C;e.hb=class extends e.la{constructor(b,a){super();this.xb=b;this.Ba=a;this.uc=a.le();this.Gn=this.Qc=this.Tk=0;this.De=this.Ob();this.Vb=this.Ba.Gh().Vb;this.rv=this.Oc=null}static Ua(b,a){return e.B(e.hb,b,a)}A(){this.xb=null;this.De&&(this.De.A(),this.De=null);this.uc=this.Ba=this.Vb=null}TE(){return!!this.rv}d5(b){this.rv=b}le(){return this.uc}Cb(){return this.xb.Cb()}I(){return this.xb.I()}Fa(){return this.xb.Fa()}Ob(){if(this.De)return this.De;let b;switch(this.Ba.Yd()){case "behavior":b=
new e.hb.cY(this);break;case "effect":b=new e.hb.k_(this);this.Qc=1;break;case "instance-variable":b=new e.hb.f2(this);break;case "plugin":b=new e.hb.f4(this);this.Qc=1;break;case "world-instance":b=new e.hb.Ro(this);this.Tk=this.Qc=1;break;case "value":b=new e.hb.Q6(this);break;case "audio":b=new e.hb.YX(this)}return this.De=b}Yd(){return this.Ba.Yd()}Sy(){return this.Ba.ak()}Ut(){return this.le().Gy(this.Ba).ak()}fl(){return this.Ba.fl()}tl(b){this.Ba.tl(b)}Ii(){return this.Ba.Ii()}nf(){return this.Ba.nf()}kk(b){for(const a of this.Ry())a.kk(b)}aE(){return this.Ba.aE()}Ry(){return this.Vb?
this.Vb:this.Vb=this.Ba.Gh().Vb}ul(){this.Ob().ul()}Kj(){this.Ob().Kj()}Je(){return this.Ob().Je()}Vc(b){this.Ob().Vc();this.Oc=this.lR(b);this.qA()}Oe(b){this.Ob().Oe();this.Oc=this.lR(b)}qA(){var b=this.xb;this.Gn=0;if(b.Oi()){var a=this.Cb();b=b.Fa();const d=this.Ob(),c=this.Ba.cd;d.gk()?(a=a.Vt(b,d,c))&&a.length&&(this.Gn=1):this.Gn=0}}lR(b){const a=this.Cb(),d=this.uc.I0(b,this.Ba);return d?d:a.dk()?this.uc.Hi(b,this.Ba):this.uc.lN(b,this.Ba)}ro(){this.De.ro()}Ia(b,a=!1,d=!1){let c;if(a)var h=
this.uc.Hi(b,this.Ba);else{if(this.Oc){var m=this.Cb();const g=this.Oc.bf;h=this.Oc.Ha();m=g?g.Ha():m.ag();if(b<=h||b>=m)this.Oc=this.uc.Hi(b,this.Ba)}else this.Oc=this.uc.Hi(b,this.Ba);h=this.Oc}h&&(c=h.bf);this.De.Ia(b,h,c,a,d)}Wf(b){if(this.Oc){var a=this.Cb();const c=this.Oc.bf;var d=this.Oc.Ha();a=c?c.Ha():a.ag();if(b<=d||b>=a)this.Oc=this.uc.Hi(b,this.Ba)}else this.Oc=this.uc.Hi(b,this.Ba);d=this.Oc;return this.De.Wf(b,d,d.bf)}qo(){this.De.qo()}static EN(b,a){return a.uc.Hi(b,a.Ba)}jM(){const b=
this.Ba.Gh().iM();this.Oc=null;return b}qy(b){this.Oc=null;this.Ba.Gh().OM(b)}Yo(){this.Ob().Yo()}Ci(){if(this.Ob().Ci()){const b=this.uc.Gy(this.Ba),a=this.Ob().Je();b.nP(a)}}Di(){const b=this.Ob().Di();b&&this.IX();this.Ob().gy();return b}IX(){const b=this.Cb().Ha(),a=this.Ob(),d=e.hb.EN(b,this),c=this.jM();c.RP(d.ak());c.rr(b);c.kk(d.Km());c.tl(!0);c.Pe(a.JN());c.nP(a.Je())}ma(){return{sourceAdapterJson:this.Ob().ma()}}ua(b){b&&this.Ob().ua(b.sourceAdapterJson)}}}
{"use strict";const e=self.C.hb;e.Ro=class{constructor(b){this.P=b;this.Jf=null;this.Fh()}A(){this.Jf&&(this.Jf.A(),this.Jf=null);this.P=null}gk(){return this.Jf.gk()}Xf(){return this.P}ul(){this.Jf&&this.Jf.ul()}Kj(){this.Jf&&this.Jf.Kj()}Fh(){return this.Jf?this.Jf:this.Jf=this.X7()}Eq(){}Na(){return this.Eq()}Yt(){}Vc(){this.Fh().Vc()}Oe(){this.Fh().Oe()}ro(){this.Jf.wq()}Ia(b,a,d,c,h){let m;switch(this.P.Ut()){case "numeric":m=e.mu.Ia(b,a,d,this.P);break;case "angle":m=e.Ux.Ia(b,a,d,this.P);break;
case "boolean":m=e.Wx.Ia(b,a,d,this.P);break;case "color":m=e.hy.Ia(b,a,d,this.P);break;case "text":m=e.Kz.Ia(b,a,d,this.P)}this.Jf.so(b,m,a,d,c,h)}Wf(b,a,d){switch(this.P.Ut()){case "numeric":return e.mu.Ia(b,a,d,this.P);case "angle":return e.Ux.Ia(b,a,d,this.P);case "boolean":return e.Wx.Ia(b,a,d,this.P);case "color":return e.hy.Ia(b,a,d,this.P);case "text":return e.Kz.Ia(b,a,d,this.P)}}qo(){this.Jf.vq()}Yo(){var b=this.Fh();b.mi=b.Je()}gy(){this.Fh().gy()}Je(){return this.Fh().Je()}Ci(){return this.Fh().Ci()}Di(){return this.Fh().Di()}JN(){const b=
this.P,a=b.xb.Cb().Ha(),d=e.EN(a,b),c=d.bf;switch(b.Ut()){case "numeric":return e.mu.Ia(a,d,c,b);case "angle":return e.Ux.Ia(a,d,c,b);case "boolean":return e.Wx.Ia(a,d,c,b);case "color":return e.hy.Ia(a,d,c,b);case "text":return e.Kz.Ia(a,d,c,b)}}X7(){const b=this.P;switch(b.aE()?b.Ut():""){case "combo":case "boolean":case "text":case "string":return new e.sf.tO(this);case "numeric":case "number":case "angle":return"combo"===this.P.Sy()?new e.sf.tO(this):new e.sf.uO(this);case "color":case "offsetColor":return new e.sf.CY(this);
default:return new e.sf.uO(this)}}ma(){return{propertyAdapterJson:this.Fh().ma()}}ua(b){b&&this.Fh().ua(b.propertyAdapterJson)}}}
{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a);this.qx=NaN}Eq(){return this.P.Ba.vg[0]}Na(){return this.qx?this.qx:super.Na()}Yt(){return this.P.xb.Fa()}O6(a){this.P.Ba.vg[0]!==a&&(this.qx=a)}Ia(a,d,c,h,m){this.Fh().$D(d.ca())&&super.Ia(a,d,c,h,m)}Wf(a,d,c){if(this.Fh().$D(d.ca()))return super.Wf(a,d,c)}ma(){return Object.assign(super.ma(),{index:this.qx})}ua(a){a&&(super.ua(a),this.qx=a.index)}}e.hb.f2=b}
{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a);this.mb=NaN}Eq(){return this.P.Ba.vg[1]}Yt(){var a=this.P.Ba,d=this.mb?this.mb:a.vg[0];a=this.P.xb.Fa();d=a.cN(d);return a.rd[d].ta}Eg(a){return a.zy(this.P.Ba.vg[2])}L6(a){this.P.Ba.vg[0]!==a&&(this.mb=a)}Ia(a,d,c,h,m){const g=this.P.xb.Fa();this.Eg(g.J())&&super.Ia(a,d,c,h,m)}Wf(a,d,c){const h=this.P.xb.Fa();if(this.Eg(h.J()))return super.Wf(a,d,c)}ma(){return Object.assign(super.ma(),{sid:this.mb})}ua(a){a&&(super.ua(a),
this.mb=a.sid)}}e.hb.cY=b}{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a)}Eq(){return this.P.Ba.vg[1]}Yt(){const a=this.P.xb.j().ng,d=this.BE(a.Sa).Na();return a.fu(d)?a.dl(d):null}BE(a){return a.el(this.P.Ba.vg[0])}Ia(a,d,c,h,m){this.GR()&&super.Ia(a,d,c,h,m)}Wf(a,d,c){if(this.GR())return super.Wf(a,d,c)}GR(){const a=this.P.xb.j().ng,d=this.BE(a.Sa);if(d)return a.fu(d.Na())}}e.hb.k_=b}
{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a)}Eq(){return this.P.Ba.vg[0]}Yt(){return this.P.xb.Fa().ta}Ia(a,d,c,h,m){var g=this.P.xb;const k=g.J().Fb();g=g.Fa().J().Fb();k===g&&super.Ia(a,d,c,h,m)}Wf(a,d,c){var h=this.P.xb;const m=h.J().Fb();h=h.Fa().J().Fb();if(m===h)return super.Wf(a,d,c)}}e.hb.f4=b}
{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a);this.Gc=0;this.yB=!1}gk(){return!1}Vc(){const a=this.P.le();let d=this.P.Ba;d=a.Gy(d);this.Gc=d.zc()}Oe(){}ca(){this.yB||this.P.Ia(0);return this.Gc}Ia(a,d,c){this.Gc=e.hb.mu.Ia(a,d,c,this.P);this.yB=!0}Yo(){}gy(){}Je(){return this.Gc}Ci(){return!1}Di(){return!1}ma(){return{value:this.Gc,init:this.yB}}ua(a){a&&(this.Gc=a.value,this.yB=a.hasOwnProperty("init")?a.init:!0)}}e.hb.Q6=b}
{"use strict";const e=self.C;class b extends e.hb.Ro{constructor(a){super(a);this.yk=!1;this.hs=this.Xb=this.Ce=null;this.ri=this.P.Cb();this.xb=this.P.xb;this.Yw=this.P.Ba.vg;this.CI=this.Yw[0];this.CK=this.Yw[1];this.Rh=this.Yw[3]?this.Yw[3]:Math.random().toString(36).slice(2);this.rq=this.Wp=this.In=NaN;this.wf=null;this.FR()}A(){super.A();this.wf=this.CI=this.Yw=this.xb=this.ri=this.hs=this.Xb=this.Ce=null}FR(){if(self.C.D.Audio){var a=this.P.I().Ny("audio");a&&(this.Ce=a.Mi().ta);this.Xb=self.C.D.Audio.Bb;
this.hs=self.C.D.Audio.rb}}RR(){if(!this.wf){var a=this.P.xb.Xf("audioSource");a&&(this.wf=a.Ob())}}D9(){const a=this.P.xb.Xf("volume");return a?a.Ob().Wp:this.Wp}ul(){super.ul();this.yk=!1;this.Ce&&(this.hs&&(this.In=this.hs.d4.call(this.Ce,this.Rh),this.Wp=this.hs.S6.call(this.Ce,this.Rh)),this.Xb&&this.Xb.Re.call(this.Ce,this.Rh))}cn(a){this.rq=a}Vc(){super.Vc();this.In=NaN;this.yk=!1}Oe(){super.Oe();const a=this.P.Cb().Ha();this.In=a-this.CK;switch(this.P.Ba.cd){case "volume":this.Wp=this.P.Wf(a)}this.yk=
!1}Ia(a,d,c,h,m){if(this.Ce)switch(this.P.Ba.cd){case "audioSource":if(!this.ri.dk())break;if(h){this.Xb&&this.Xb.Re.call(this.Ce,this.Rh);break}if(a<this.CK){this.yk=!1;break}d=this.hs.c4.call(this.Ce,this.Rh);c=this.ri.bd;c!==d&&this.Xb.Ti.call(this.Ce,this.Rh,c);if(this.yk)break;this.yk=!0;if(isNaN(this.In)){const g=self.performance.now(),k=a-this.CK;this.Ce.Qi("get-suspended").then(n=>{if("suspended"===n)this.yk=!1;else if(n=k+(self.performance.now()-g)/1E3,this.Xb){let p=this.rq;isNaN(p)?(this.cn(0),
p=0):this.cn(p);this.Xb.Play.call(this.Ce,this.CI,0,p,this.Rh,n)}})}else{const g=this.In;this.In=NaN;const k=this.D9();this.Wp=NaN;this.Ce.Qi("get-suspended").then(n=>{"suspended"===n?this.yk=!1:this.Xb&&(this.cn(k),this.Xb.Play.call(this.Ce,this.CI,0,k,this.Rh,g))})}break;case "volume":this.RR(),super.Ia(a,d,c,h,m)}}Wf(a,d,c){if(this.Ce)switch(this.P.Ba.cd){case "volume":return this.RR(),super.Wf(a,d,c)}}LN(){return this.wf?this.wf.rq:0}j6(a,d){this.wf&&this.wf.cn(this.LN()+d);this.Xb&&this.wf&&
this.Xb.cn.call(this.Ce,this.wf.Rh,this.wf.rq)}uX(a,d){this.wf&&this.wf.cn(d);this.Xb&&this.wf&&this.Xb.cn.call(this.Ce,this.wf.Rh,this.wf.rq)}ma(){return{audioPlaybackStarted:this.yk,audioTag:this.Rh,pauseTime:this.In,pauseVolume:this.Wp,volume:this.rq}}ua(a){a&&(this.yk=a.audioPlaybackStarted,this.Rh=a.audioTag,this.In=a.pauseTime,this.Wp=a.pauseVolume,this.rq=a.volume,this.FR())}}e.hb.YX=b}"use strict";function ic(e,b,a){return e.P.Cb().dk()?b():a()}
function jc(e,b,a){return"relative"===e.P.nf()?b():a()}function kc(e){if(e.Qs)return e.Qs;e.Qs=e.De.Yt();return e.Qs}function lc(e,b=!1){const a=[];for(const d of e){e=d.xb.pf();for(const c of d.Ry())b&&0===c.Ha()?a.push({time:e+c.Ha(),value:c.Qh}):b||a.push({time:e+c.Ha(),value:c.Qh})}return a.sort((d,c)=>d.time-c.time)}function mc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.C.hb.sf=class{constructor(e){this.De=e;this.P=e.Xf();this.Ya=this.P.xb.j();this.cd=this.P.Ba.cd;this.js=!1;this.Qs=this.mi=null}A(){this.Qs=this.mi=this.Ya=this.P=this.De=null}gk(){return!1}ul(){}Kj(){this.Qs=this.mi=this.Ya=null}Ob(){return this.De}Xf(){return this.P}j(){return this.Ya?this.Ya:this.Ya=this.P.xb.j()}Vc(){}Oe(){}gy(){this.mi=null}Je(){}Ci(){}Di(){}$D(e){return typeof this.Bl()===typeof e}wq(){}so(){}vq(){}hp(){return ic(this,()=>{const e=this.P.Ba;return this.P.le().Gy(e)},()=>
{const e=this.P.Ba;return this.P.le().Ao(e)}).Qh}Tz(){const e=this.P.Cb().Ha()-this.P.xb.pf();return ic(this,()=>{const b=this.P.Ba;return this.P.le().Hi(e,b)},()=>{const b=this.P.Ba,a=this.P.le(),d=a.lN(e,b);return d?d:a.Ao(b)}).Qh}Wz(){}Ue(){return this.De.Na()}ma(){return{firstAbsoluteUpdate:this.js,saveState:this.mi}}ua(e){e&&(this.js=e.firstAbsoluteUpdate,this.mi=e.saveState)}};
{"use strict";const e=self.C,b=new Map,a=[0,0,0];class d extends e.hb.sf{constructor(c){super(c)}Vc(){}Oe(){}Je(){const c=this.P.Yd(),h=kc(this),m=this.Ue();switch(c){case "behavior":return this.tA(h.Ic(m));case "effect":return this.tA(h[m]);case "plugin":return this.tA(h.Ic(m));case "world-instance":return this.tA(this.Bl())}}Ci(){const c=this.hp();return!this.EQ(c,this.Bl())}Di(){return e.ne(this.mi)?!1:!this.EQ(this.mi,this.Bl())}EQ(c,h){return c.zm(h)}hp(){const c=super.hp();return this.Xz(c)}Tz(){const c=
super.Tz();return this.Xz(c)}Wz(){}tA(c){return e.Sm(c,e.ib)?c.toArray().slice(0,3):c.slice(0,3)}Xz(c){return e.Sm(c,e.ib)?c:new e.ib(c[0],c[1],c[2],1)}$D(){return!0}gk(){return!0}wq(){var c=this.P.Cb(),h=this.P.Fa();const m=this.P.Ob();(c=c.Vt(h,m,this.cd))&&1<c.length&&(b.has(h)||b.set(h,new Map),h=b.get(h),c=this.P.Yd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.cd)||h.set(this.cd,{mX:!1,color:new e.ib(0,0,0,1)}))}vR(c,h,m){c=b.get(c).get(h).get(m);c.mX=!0;return c.color}so(c,h){var m=this.P.Cb(),
g=this.P.xb;c=this.P.Fa();var k=this.P.Ob();const n=this.P.Yd();if((k=m.Vt(c,k,this.cd))&&1<k.length){if(k=lc(k,!0),m=m.Ha(),m=mc(m,k))k=m.time-g.pf(),0===k?this.vR(c,n,this.cd).XV(h[0],h[1],h[2]):0>k||(m=h[0],g=h[1],h=h[2],k=this.P.Ia(k,!1,!0),m=e.ib.iE(m,k[0]),g=e.ib.iE(g,k[1]),h=e.ib.iE(h,k[2]),this.vR(c,n,this.cd).XV(m,g,h))}else this.wk(h[0],h[1],h[2])}vq(){const c=this.P.Fa();if(b.has(c)){var h=b.get(c),m=this.P.Yd();if(h.has(m)){var g=h.get(m);if(g.has(this.cd)){var k=g.get(this.cd),n=k.color;
k.mX&&this.wk(n.ab,n.eb,n.cb);0===g.size&&h.delete(m);0===h.size&&b.delete(c)}}}}Bl(){const c=this.P.Yd(),h=kc(this),m=this.Ue();switch(c){case "behavior":return this.Xz(h.Ic(m));case "effect":return h[m].clone();case "plugin":return this.Xz(h.Ic(m));case "world-instance":return this.j().jb.clone()}}wk(c,h,m){const g=this.P.Yd(),k=kc(this),n=this.Ue();switch(g){case "behavior":a[0]=c;a[1]=h;a[2]=m;k.Jh(n,a);break;case "effect":k[n].pt(c,h,m);break;case "plugin":a[0]=c;a[1]=h;a[2]=m;k.Jh(n,a);break;
case "world-instance":this.j().f6(c,h,m)}}ma(){}ua(){}}e.hb.sf.CY=d}
{"use strict";const e=self.C,b=e.hb;class a extends e.hb.sf{constructor(d){super(d)}Vc(){}Oe(){}Je(){return this.Bl()}Ci(){return this.hp()!==this.Je()}Di(){return e.ne(this.mi)?!1:this.mi!==this.Je()}gk(){return!1}so(d,c){const h=this.P,m=h.xb,g=h.Yd();var k=h.Cb();const n=m.Fa(),p=h.Ob();(k=k.Vt(n,p,this.cd))&&1<k.length&&(k=lc(k),d=mc(d+m.pf(),k))&&(c=d.value);switch(h.Ut()){case "numeric":if(!b.mu.yl(this.Ue(),kc(this),c,g))return;break;case "angle":if(!b.Ux.yl(this.Ue(),kc(this),c,g))return;
break;case "boolean":if(!b.Wx.yl(this.Ue(),kc(this),c,g))return;break;case "color":if(!b.hy.yl(this.Ue(),kc(this),c,g))return;break;case "text":if(!b.Kz.yl(this.Ue(),kc(this),c,g))return}this.wk(c)}Bl(){const d=this.P.Yd(),c=kc(this),h=this.Ue();switch(d){case "behavior":return c.Ic(h);case "effect":return c[h];case "instance-variable":return c.Le(h);case "plugin":return c.Ic(h)}}wk(d){const c=this.P.Yd(),h=kc(this),m=this.Ue();switch(c){case "behavior":h.Jh(m,d);break;case "effect":h[m]=d;break;
case "instance-variable":h.an(m,d);break;case "plugin":h.Jh(m,d)}}}e.hb.sf.tO=a}
{"use strict";const e=self.C,b=new Map,a=(c,h,m,g,k)=>b.set(c,{Bga:h,Pea:m,Bfa:g,round:k});a("offsetX",(c,h)=>c.n3(h),(c,h)=>c.hg(h),c=>c.N(),!0);a("offsetY",(c,h)=>c.o3(h),(c,h)=>c.vf(h),c=>c.O(),!0);a("offsetWidth",(c,h)=>c.wO(h),(c,h)=>c.Qe(h),c=>c.S(),!0);a("offsetHeight",(c,h)=>c.vO(h),(c,h)=>c.uf(h),c=>c.U(),!0);a("offsetAngle",(c,h)=>c.j3(h),(c,h)=>c.od(h),c=>c.oa(),!1);a("offsetOpacity",(c,h,m,g)=>{m=c.ke()+h;0===g.Nc?(1<m?g.Nc+=m-1:0>m&&(g.Nc+=m),c.k3(h)):(c=c.ke()+h,0<h&&0<g.Nc?1<c&&(g.Nc+=
c-1):0<h&&0>g.Nc?(g.Nc+=h,0<g.Nc&&(g.Nc=0)):0>h&&0<g.Nc?(g.Nc+=h,0>g.Nc&&(g.Nc=0)):0>h&&0>g.Nc&&0>c&&(g.Nc+=c))},(c,h)=>{c.lk(h)},c=>c.ke(),!1);a("offsetOriginX",(c,h)=>c.l3(h),(c,h)=>c.lr(h),c=>c.hl(),!1);a("offsetOriginY",(c,h)=>c.m3(h),(c,h)=>c.mr(h),c=>c.il(),!1);a("offsetZElevation",(c,h)=>c.p3(h),(c,h)=>c.oe(h),c=>c.Xa(),!0);a("offsetScaleX",(c,h,m)=>{const g=0>c.S()?-1:1;c.wO(m.Vj()*g*h)},(c,h,m)=>{c.Qe(m.Vj()*h)},(c,h)=>{const m=0>c.S()?-1:1;if(c.Do()){var g=c.Ka(),k=h.Cb().GN(g.Fa());k?g=
g.S()/k.Vj():(k=g.Fa().ta,g=k.Mo()?g.S()/k.Vj():1);return c.S()*m/(h.Vj()*g)}return c.S()*m/h.Vj()},!1);a("offsetScaleY",(c,h,m)=>{const g=0>c.U()?-1:1;c.vO(m.Uj()*g*h)},(c,h,m)=>{c.uf(m.Uj()*h)},(c,h)=>{const m=0>c.U()?-1:1;if(c.Co()){var g=c.Ka(),k=h.Cb().GN(g.Fa());k?g=g.U()/k.Uj():(k=g.Fa().ta,g=k.Mo()?g.U()/k.Uj():1);return c.U()*m/(h.Uj()*g)}return c.U()*m/h.Uj()},!1);class d extends e.hb.sf{constructor(c){super(c);this.Nc=this.Zb=0;this.sV=this.uV=this.tV=this.YI=this.$I=this.ZI=null;this.oK=
!1;this.Tn=e.Sm(this.P.Cb(),e.G6)?new e.hb.sf.i3(this):new e.hb.sf.h3(this);const h=this.P.Ba.cd;switch(this.P.Yd()){case "world-instance":c=b.get(h);this.ZI=c.Bfa;this.$I=c.Bga;this.YI=c.Pea;this.oK=c.round;break;case "audio":this.tV=c.LN,this.uV=c.j6,this.sV=c.uX,this.oK=!0}}A(){this.YI=this.$I=this.ZI=this.Tn=null;super.A()}gk(){return this.Tn.gk()}GP(c){this.Zb=c}Vc(){const c=this.Tn.Vc();"number"===typeof c&&(this.Zb=c);this.Nc=0}Oe(){const c=this.Tn.Oe();"number"===typeof c&&(this.Zb=c)}Je(){return this.Bl()}Ci(){return this.hp()!==
this.Je()}Di(){return e.ne(this.mi)?!1:this.mi!==this.Je()}wq(){this.Tn.wq()}so(c,h,m,g,k,n,p){return this.Tn.so(c,h,m,g,k,n,p)}vq(){this.Tn.vq()}Bl(){const c=kc(this),h=this.Ue(),m=this.j(),g=this.P.xb;switch(this.P.Yd()){case "behavior":return c.Ic(h);case "effect":return c[h];case "instance-variable":return c.Le(h);case "plugin":return c.Ic(h);case "world-instance":return this.ZI(m,g);case "audio":return this.tV.call(this.Ob(),m,g)}}wk(c){const h=kc(this),m=this.Ue(),g=this.j(),k=this.P.xb;switch(this.P.Yd()){case "behavior":h.vF(m,
c);break;case "effect":h[m]+=c;break;case "instance-variable":h.H5(m,c);break;case "plugin":h.vF(m,c);break;case "world-instance":this.$I(g,c,k,this);break;case "audio":this.uV.call(this.Ob(),g,c,k,this)}}KS(c){const h=kc(this),m=this.Ue(),g=this.j(),k=this.P.xb;switch(this.P.Yd()){case "behavior":h.Jh(m,c);break;case "effect":h[m]=c;break;case "instance-variable":h.an(m,c);break;case "plugin":h.Jh(m,c);break;case "world-instance":this.YI(g,c,k);break;case "audio":this.sV.call(this.Ob(),g,c,k)}}Er(c,
h,m,g,k,n){this.Tn.Er(c,h,m,g,k,n)}zl(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.Bl();this.wk((0===c?this.oK?Math.round(g):g:e.toFixed(g,c))-g,h,m)}ma(){return Object.assign(super.ma(),{v:this.Zb,a:this.Nc})}ua(c){c&&(super.ua(c),this.Zb=c.v,this.Nc=c.a)}}e.hb.sf.uO=d}
{"use strict";class e{constructor(a){this.XK=!1;this.Gc=0;this.gb=a;for(let d=0,c=this.gb.length;d<c;d++)this.gb[d].d5(this)}TP(){this.XK=!0}Pe(a){this.Gc=a}ca(){return this.Gc}md(){this.XK=!1;this.Gc=0}}class b{constructor(a){this.we=a}A(){this.we=null}Vc(){const a=this.we;this.we.Xf();return jc(a,()=>ic(a,()=>0,()=>a.Ob().JN()),()=>{})}Oe(){}gk(){switch(this.we.Xf().nf()){case "relative":return!1;case "absolute":return!0}}wq(){var a=this.we.Xf(),d=a.Ba.cd;switch(a.nf()){case "absolute":if(a.TE())a.rv.md();
else{const c=a.Cb(),h=a.Fa();a=a.Ob();(d=c.Vt(h,a,d))&&1<d.length&&new e(d)}}}so(a,d,c,h,m,g){var k=this.we,n=this.we.Xf();switch(n.nf()){case "relative":n=k.Zb;k.wk(d-n,c,h);g&&this.Er(a,c,h,m,n,d);k.GP(d);break;case "absolute":if(c=n.Cb(),a=n.xb,n.Fa(),n.Ob(),n.TE()){if(k=n.rv,h=lc(k.gb,!0),c=c.Ha(),c=mc(c,h))a=c.time-a.pf(),0===a?(k.TP(),k.Pe(k.ca()+d)):0>a||(n=n.Wf(a),k.TP(),k.Pe(k.ca()+(d-n)))}else k.KS(d)}}vq(){const a=this.we;var d=this.we.Xf();switch(d.nf()){case "absolute":d.TE()&&(d=d.rv,
d.XK&&a.KS(d.ca()))}}Er(a,d,c,h,m,g){const k=this.we;h||(d&&a===d.Ha()?k.zl(d.zc(),d,c):c&&a===c.Ha()?k.zl(c.zc(),d,c):0===g-m&&k.zl(d.zc(),d,c))}}self.C.hb.sf.h3=b}
{"use strict";class e{constructor(b){this.we=b}A(){this.we=null}Vc(){const b=this.we;b.js=!0;return this.Wz(b.hp())}Oe(){const b=this.we;if(b.hp()!==b.Tz())return b.js=!0,this.Wz(b.Tz())}gk(){return!1}wq(){}so(b,a,d,c,h,m){const g=this.we,k=g.Zb;switch(g.Xf().nf()){case "relative":g.wk(a-k,d,c);m&&this.Er(b,d,c,h,k,a);break;case "absolute":g.js?(g.js=!1,g.wk(k,d,c)):(g.wk(a-k,d,c),m&&this.Er(b,d,c,h,k,a))}g.GP(a)}vq(){}Wz(b){return b-this.we.Je()}Er(b,a,d,c,h,m){const g=this.we;c?a&&b===a.Ha()?g.zl(a.zc(),
a,d):d&&b===d.Ha()?g.zl(d.zc(),a,d):d||g.zl(a.zc(),a,d):a&&b===a.Ha()?g.zl(a.zc(),a,d):d&&b===d.Ha()?g.zl(d.zc(),a,d):0===m-h&&g.zl(a.zc(),a,d)}}self.C.hb.sf.i3=e}
{"use strict";const e=self.C,b=self.At;e.hb.mu=class{constructor(){}static yl(a,d,c,h){let m;switch(h){case "behavior":m=d.Ic(a);break;case "effect":m=d[a];break;case "instance-variable":m=d.Le(a);break;case "plugin":m=d.Ic(a)}return m===c?!1:!0}static Ia(a,d,c,h){if(!c)return c=h.Ba,c=h.le().Ao(c),c.zc();var m=h.Ii();"default"===m&&(m="continuous");"combo"===h.Sy()&&(m="discrete");if("discrete"===m)return d.zc();if("continuous"===m||"step"===m){"step"===m&&(m=h.Cb().Wt(),0!==m&&(m=1/m,a=Math.floor(a*
m)/m));var g=d.Ha();const k=c.Ha();m=d.zc();const n=c.zc();if(m===n)return m;a=e.normalize(a,g,k);const p=d.Km();d=d.sE("cubic-bezier");c=c.sE("cubic-bezier");d&&d.Zw&&c&&c.eB?(g=k-g,g=b.Bo(p)(g*a,0,1,g),g=b.Bo("cubicbezier")(g,m,m+d.AK,n+c.uI,n)):g=b.Bo(p)((k-g)*a,m,n-m,k-g);return"integer"===h.Sy()?Math.floor(g):g}}}}
{"use strict";const e=self.C;e.hb.Ux=class{constructor(){}static yl(b,a,d,c){let h;switch(c){case "behavior":h=a.Ic(b);break;case "effect":h=a[b];break;case "instance-variable":h=a.Le(b);break;case "plugin":h=a.Ic(b)}return h===d?!1:!0}static Ia(b,a,d,c){if(!d)return a=c.Ba,a=c.le().Ao(a),a.zc();var h=c.Ii();"default"===h&&(h="continuous");"combo"===c.Sy()&&(h="discrete");if("discrete"===h)return a.zc();if("continuous"===h||"step"===h){"step"===h&&(c=c.Cb().Wt(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const m=a.Ha(),g=d.Ha();c=a.zc();d=d.zc();if(h=a.sE("angle")){const k=h.nK;if(c===d&&0===k)return c;b=e.normalize(b,m,g);a=self.At.Bo(a.Km())(b,0,1,1);switch(h.nI){case "closest":return e.eL(c,d,a,k);case "clockwise":return e.Wea(c,d,a,k);case "anti-clockwise":return e.Vea(c,d,a,k)}}else{if(c===d)return c;b=e.normalize(b,m,g);a=self.At.Bo(a.Km());return e.eL(c,d,a(b,0,1,1))}}}}}"use strict";
self.C.hb.Wx=class{constructor(){}static yl(e,b,a,d){let c;switch(d){case "behavior":c=b.Ic(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Le(e);break;case "plugin":c=b.Ic(e)}return!!c===!!a?!1:!0}static Ia(e,b,a,d){return a?b.zc()?1:0:(e=d.Ba,e=d.le().Ao(e),e.zc()?1:0)}};
{"use strict";const e=self.C,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.hb.hy=class{constructor(){}static yl(c,h,m,g){let k;switch(g){case "behavior":k=h.Ic(c);break;case "effect":k=h[c];break;case "instance-variable":k=h.Le(c);break;case "plugin":k=h.Ic(c)}Array.isArray(m)?(b[0]=m[0],b[1]=m[1],b[2]=m[2]):(d.LW(m),b[0]=Math.floor(255*d.ab),b[1]=Math.floor(255*d.eb),b[2]=Math.floor(255*d.cb));Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(d.LW(k),a[0]=Math.floor(255*d.ab),a[1]=Math.floor(255*d.eb),a[2]=Math.floor(255*
d.cb));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static Ia(c,h,m,g){if(!m)return h=g.Ba,h=g.le().Ao(h),h=h.zc(),b[0]=h[0],b[1]=h[1],b[2]=h[2],b;var k=g.Ii();"default"===k&&(k="continuous");if("discrete"===k)return h=h.zc(),b[0]=h[0],b[1]=h[1],b[2]=h[2],b;if("continuous"===k||"step"===k){"step"===k&&(g=g.Cb().Wt(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.Ha();k=m.Ha();var n=h.zc(),p=m.zc();const q=e.normalize(c,g,k);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.At.Bo(h.Km());g=k-g;
k=g*q;b[0]=c===u?c:h(k,c,u-c,g);b[1]=m===w?m:h(k,m,w-m,g);b[2]=n===p?n:h(k,n,p-n,g);return b}}}}"use strict";self.C.hb.Kz=class{constructor(){}static yl(e,b,a,d){let c;switch(d){case "behavior":c=b.Ic(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Le(e);break;case "plugin":c=b.Ic(e)}return c===a?!1:!0}static Ia(e,b,a,d){return a?b.zc():(e=d.Ba,e=d.le().Ao(e),e.zc())}};
{"use strict";const e=self.C;e.Qg=class{constructor(){this.ix=new Map}A(){for(const b of this.ix.values())b.A();this.ix.clear();this.ix=null}Hc(b){b=new e.z6(b);this.ix.set(b.Da(),b)}ga(b){return this.ix.get(b)}static Pu(b,a,d,c){if(a)for(const h of a)e.Qg.GQ("create",h,b,d,c)}static Zu(b,a,d,c){b.length?a.forEach((h,m)=>{b[m].ua(h)}):a.forEach(h=>{e.Qg.GQ("load",h,b,d,c)})}static GQ(b,a,d,c,h){let m;if("function"===typeof c)switch(b){case "load":m=new c(null,h);break;case "create":m=new c(a,h)}else if("object"===
typeof c)switch(c=c.map.get(a[c.PW]),b){case "load":m=new c(null,h);break;case "create":m=new c(a,h)}switch(b){case "load":m.ua(a);d.push(m);break;case "create":"function"!==typeof m.fl||m.fl()?d.push(m):m.A()}}}}
{"use strict";const e=self.C;e.z6=class{constructor(b){this.La="";this.Ts=NaN;this.WC=0;this.tg=this.og="default";this.xC=this.kC=!1;this.Ks=1;this.ef=null;b&&(this.La=b[0],this.Ts=b[1],this.WC=b[2],this.og=b[3],this.tg=b[4],this.kC=!!b[6],this.xC=!!b[7],this.Ks=b[8],this.ef=new e.ZP(b[5],this))}A(){this.ef.A();this.ef=null}Zt(){this.ef||(this.ef=new e.ZP(null,this));return this.ef}Da(){return this.La}Hz(b){this.La=b}ag(){return this.Ts}Wt(){return this.WC}Ii(){return this.og}nf(){return this.tg}My(){return this.kC}Qy(){return this.xC}Hh(){return this.Ks}ma(){return{trackDataJson:this.ef.ma(),
name:this.La,totalTime:this.Ts,step:this.WC,interpolationMode:this.og,resultMode:this.tg,loop:this.kC,pingPong:this.xC,repeatCount:this.Ks}}ua(b){b&&(this.Zt().ua(b.trackDataJson),this.La=b.name,this.Ts=b.totalTime,this.WC=b.step,this.og=b.interpolationMode,this.tg=b.resultMode,this.kC=b.loop,this.xC=b.pingPong,this.Ks=b.repeatCount)}}}
{"use strict";const e=self.C;class b{constructor(a,d){this.ef=d;this.jn=this.BB=null;this.dm=this.Ql=NaN;this.tg=this.og="default";this.Xg=!1;this.uc=this.ei=null;this.Ze="";this.Bs=null;this.BK=0;this.iC=this.ef.Vd.ag();this.Ca=0;this.La="";a&&(a[0]&&(this.BB=a[0],this.Ql=a[0][2],this.dm=a[0][1]),this.og=a[1],this.tg=a[2],this.Xg=!!a[3],a[6]&&(this.Ze=a[6]),a[7]&&(this.Bs=a[7],this.BK=a[7][0],this.iC=a[7][1]),a[8]&&(this.jn=a[8]),a[8]&&(this.jn=a[8]),a[9]&&(this.Ca=a[9]),a[10]&&(this.La=a[10]),this.ei=
new e.hO(a[4],this),this.uc=new e.PO(a[5],this))}A(){this.ef=this.BB=null;this.ei&&(this.ei.A(),this.ei=null);this.uc&&(this.uc.A(),this.uc=null);this.Bs=null}Zt(){return this.ef}Tj(){this.ei||(this.ei=new e.hO(null,this));return this.ei}le(){this.uc||(this.uc=new e.PO(null,this));return this.uc}ME(){return this.dm}St(){return this.Ql}Ii(){return this.og}nf(){return this.tg}fl(){return this.Xg}tl(a){this.Xg=!!a}Sj(){return this.Ze}pf(){return this.BK}gl(){return this.iC}Vj(){return this.jn[0]}Uj(){this.jn||
(this.jn=[]);return this.jn[1]}ak(){return this.Ca}Da(){return this.La}ma(){return{keyframeDataJson:this.ei.ma(),propertyTrackDataJson:this.uc.ma(),instanceData:this.BB,additionalInstanceData:this.jn,instanceUid:this.Ql,objectClassIndex:this.dm,interpolationMode:this.og,resultMode:this.tg,enabled:this.Xg,id:this.Ze,nestedData:this.Bs,type:this.Ca,name:this.La}}ua(a){a&&(this.BB=a.instanceData,this.Ql=a.instanceUid,this.dm=a.objectClassIndex,this.og=a.interpolationMode,this.tg=a.resultMode,this.Xg=
a.enabled,this.Ze=a.id,this.Ca=a.type?a.type:0,this.La=a.name?a.name:"",this.iC=this.ef.Vd.ag(),a.nestedData&&(this.Bs=a.nestedData,this.BK=this.Bs[0],this.iC=this.Bs[1]),a.additionalInstanceData&&(this.jn=a.additionalInstanceData),this.Tj().ua(a.keyframeDataJson),this.le().ua(a.propertyTrackDataJson))}}e.ZP=class{constructor(a,d){this.Vd=d;this.nq=[];e.Qg.Pu(this.nq,a,b,this)}A(){this.Vd=null;for(const a of this.nq)a.A();e.F(this.nq);this.nq=null}q0(a,d){d=d.Tj().tc;const c=d.length;for(let h=0;h<
c;h++){const m=d[h];if(m.Ha()===a)return m}}kN(a,d){d=d.Tj().tc;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.Ha()<=a)return h}}*fX(){for(const a of this.nq)yield a}ma(){return{trackDataItemsJson:this.nq.map(a=>a.ma())}}ua(a){a&&e.Qg.Zu(this.nq,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.C;class b{constructor(a,d){this.uc=d;this.OC="";this.Ca=this.cd=this.vg=null;this.KJ=this.OJ=NaN;this.tg=this.og="default";this.Xg=!1;this.yj=null;this.NA=!0;a&&(this.OC=a[0][0],this.vg=a[0].slice(1),this.cd=a[1],this.Ca=a[2],this.OJ=a[3],this.KJ=a[4],this.og=a[5],this.tg=a[6],this.Xg=!!a[7],this.yj=new e.OO(a[8],this),this.NA=a[9])}A(){this.yj.A();this.vg=this.uc=this.yj=null}le(){return this.uc}Gh(){this.yj||(this.yj=new e.OO(null,this));return this.yj}Yd(){return this.OC}ak(){return this.Ca}RP(a){this.Ca=
a}Ii(){return this.og}nf(){return this.tg}fl(){return this.Xg}tl(a){this.Xg=!!a}aE(){return!!this.NA}ma(){return{propertyKeyframeDataJson:this.yj.ma(),sourceAdapterId:this.OC,sourceAdapterArguments:this.vg,property:this.cd,type:this.Ca,min:this.OJ,max:this.KJ,interpolationMode:this.og,resultMode:this.tg,enabled:this.Xg,canHavePropertyKeyframes:this.NA}}ua(a){a&&(this.OC=a.sourceAdapterId,this.vg=a.sourceAdapterArguments,this.cd=a.property,this.Ca=a.type,this.OJ=a.min,this.KJ=a.max,this.og=a.interpolationMode,
this.tg=a.resultMode,this.Xg=a.enabled,this.NA=a.canHavePropertyKeyframes,this.Gh().ua(a.propertyKeyframeDataJson))}}e.PO=class{constructor(a,d){this.Rb=d;this.aq=[];e.Qg.Pu(this.aq,a,b,this)}A(){this.Rb=null;for(const a of this.aq)a.A();e.F(this.aq);this.aq=null}Gy(a){return a.Gh().Vb[0]}Ao(a){return a.Gh().Vb.ie(-1)}I0(a,d){d=d.Gh().Vb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.Ha()===a)return m}}lN(a,d){d=d.Gh().Vb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.Ha()>=a)return m}}Hi(a,
d){d=d.Gh().Vb;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.Ha()<=a)return h}}*QW(){for(const a of this.aq)yield a}ma(){return{propertyTrackDataItemsJson:this.aq.map(a=>a.ma())}}ua(a){a&&e.Qg.Zu(this.aq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.C;class b{constructor(a,d){this.ei=d;this.jc=-1;this.lj="noease";this.mj=!1;this.Bw=this.mh=null;a&&(this.jc=a[0],this.lj=a[1],this.mj=!!a[2],this.mh=(a=a[3])?a.split(" "):[],this.Bw=new Set(this.mh.map(c=>c.toLowerCase())),this.bf=null)}A(){this.ei=null;e.F(this.mh);this.mh=null;this.Bw.clear();this.Bw=null}Tj(){return this.ei}Cu(a){this.bf=a}Ha(){return this.jc}rr(a){this.jc=a;this.ei.Xu()}Km(){return this.lj}kk(a){this.lj=a}fl(){return this.mj}tl(a){this.mj=!!a}PP(a){this.mh=
a?a.split(" "):[];this.Bw=new Set(this.mh.map(d=>d.toLowerCase()))}ma(){return{time:this.jc,ease:this.lj,enable:this.mj,tags:this.mh}}ua(a){a&&(this.jc=a.time,this.lj=a.ease,this.mj=a.enable,this.mh=a.tags,this.Bw=new Set(this.mh.map(d=>d.toLowerCase())))}}e.hO=class{constructor(a,d){this.Rb=d;this.tc=[];e.Qg.Pu(this.tc,a,b,this);this.Xu()}A(){this.Rb=null;for(const a of this.tc)a.A();e.F(this.tc);this.tc=null}Xu(){this.tc.sort((a,d)=>a.Ha()-d.Ha());for(let a=0;a<this.tc.length;a++)this.tc[a].Cu(this.tc[a+
1])}AX(){const a=new b(null,this);this.tc.push(a);this.Xu();return a}cZ(a){for(const d of this.tc){if(!a(d))continue;const c=this.tc.indexOf(d);-1!==c&&(d.A(),this.tc.splice(c,1))}this.p6();this.Xu()}p6(){this.tc.sort((a,d)=>a.Ha()-d.Ha())}s0(a){return this.tc.indexOf(a)}r0(a){return this.tc[a]}ma(){return{keyframeDataItemsJson:this.tc.map(a=>a.ma())}}ua(a){a&&(e.Qg.Zu(this.tc,a.keyframeDataItemsJson,b,this),this.Xu())}}}
{"use strict";const e=self.C;class b{constructor(a,d){this.yj=d;this.Qh=this.Gc=null;this.Ca="";this.jc=NaN;this.lj="noease";this.mj=!1;this.dj=null;this.El=void 0;a&&(this.Gc=a[0][0],this.Qh=a[0][1],this.Ca=a[0][2],this.jc=a[1],this.lj=a[2],this.mj=!!a[3],this.dj=null,a[4]&&(this.dj=new e.MX(a[4],this)),this.bf=null)}A(){this.yj=null;this.dj&&(this.dj.A(),this.dj=null)}Cu(a){this.bf=a}ca(){return this.Gc}Pe(a){"color"===this.Ca&&e.Rm(a)?(this.Gc[0]=e.OE(a),this.Gc[1]=e.HE(a),this.Gc[2]=e.uE(a)):
this.Gc=a}nP(a){"color"===this.Ca&&e.Rm(a)?(this.Qh[0]=e.OE(a),this.Qh[1]=e.HE(a),this.Qh[2]=e.uE(a)):this.Qh=a}zc(){const a=this.yj.Ba.nf();if("relative"===a)return this.ca();if("absolute"===a)return this.Qh}ak(){return this.Ca}RP(a){this.Ca=a}Ha(){return this.jc}rr(a){this.jc=a;this.yj.Yu()}Km(){return this.lj}kk(a){this.lj=a}fl(){return this.mj}tl(a){this.mj=!!a}sE(a){if(this.dj){if(this.El||null===this.El)return this.El;var d=this.dj.pp;if(!d)return this.El=null;var c=d.length;for(let h=0;h<c;h++){const m=
d[h];if(m.Sj()===a)return this.El=m}return this.El=null}}ma(){const a=this.dj;return{addonDataJson:a?a.ma():a,value:this.Gc,aValue:this.Qh,type:this.Ca,time:this.jc,ease:this.lj,enable:this.mj}}ua(a){a&&(a.addonDataJson&&this.dj.gqa(a.addonDataJson),this.Gc=a.value,this.Qh=a.aValue,this.Ca=a.type,this.jc=a.time,this.lj=a.ease,this.mj=a.enable)}}e.OO=class{constructor(a,d){this.Ba=d;this.Vb=[];e.Qg.Pu(this.Vb,a,b,this);this.Yu()}A(){this.Ba=null;for(const a of this.Vb)a.A();e.F(this.Vb);this.Vb=null}Yu(){this.Vb.sort((a,
d)=>a.Ha()-d.Ha());for(let a=0;a<this.Vb.length;a++)this.Vb[a].Cu(this.Vb[a+1])}iM(){const a=new b(null,this);this.Vb.push(a);this.Yu();return a}OM(a){for(const d of this.Vb){if(!a(d))continue;const c=this.Vb.indexOf(d);-1!==c&&(d.A(),this.Vb.splice(c,1))}this.q6();this.Yu()}q6(){this.Vb.sort((a,d)=>a.Ha()-d.Ha())}ma(){return{propertyKeyframeDataItemsJson:this.Vb.map(a=>a.ma())}}ua(a){a&&(e.Qg.Zu(this.Vb,a.propertyKeyframeDataItemsJson,b,this),this.Yu())}}}
{"use strict";const e=self.C;class b{constructor(c,h){this.dj=h;this.Ze=c[0];this.Kl=c[1]}A(){this.Kl=this.dj=null}Sj(){return this.Ze}ma(){return{id:this.Ze,data:this.Kl}}ua(c){c&&(this.Ze=c.id,this.Kl=c.data)}}class a extends b{constructor(c,h){super(c,h);this.AK=this.Kl[0];this.Zw=!!this.Kl[1];this.uI=this.Kl[2];this.eB=!!this.Kl[3]}A(){super.A()}ma(){return Object.assign(super.ma(),{startAnchor:this.AK,startEnable:!!this.Zw,endAnchor:this.uI,endEnable:!!this.eB})}ua(c){c&&(super.ua(c),this.AK=
c.startAnchor,this.Zw=!!c.startEnable,this.uI=c.endAnchor,this.eB=!!c.endEnable)}}class d extends b{constructor(c,h){super(c,h);this.nI=this.Kl[0];this.nK=this.Kl[1]}A(){super.A()}ma(){return Object.assign(super.ma(),{direction:this.nI,revolutions:this.nK})}ua(c){c&&(super.ua(c),this.nI=c.direction,this.nK=c.revolutions)}}e.MX=class{constructor(c){this.pp=[];e.Qg.Pu(this.pp,c,{PW:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}A(){for(const c of this.pp)c.A();e.F(this.pp);this.pp=null}ma(){return{addonDataItemsJson:this.pp.map(c=>
c.ma())}}ua(c){c&&e.Qg.Zu(this.pp,c.addonDataItemsJson,{PW:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.C;let b=0;e.G6=class extends e.cp{constructor(a,d){super(`tween-${b++}`,a,d);this.Ze="";this.tT=!1;this.UI="start-value";this.xb=this.SU=this.RU=this.sc=null}JM(){for(const a of this.Vd.Zt().fX())this.pb.push(e.dQ.Ua(this,a));this.xb=this.pb[0]}Xf(){return this.xb.gb[0]}Fa(){var a=this.pb;if(a&&a.length&&(this.xb=a=a[0])){var d=a.Fa();return a.Tm()?d:void 0}}Sj(){return this.Ze}GO(){if(this.SU)for(const a of this.SU)a(this);if(!this.kg)for(const a of this.pb)a.Di()}wF(){this.Pr=
this.g.Nk}XM(){if(!this.Cp&&(this.Cp=!0,this.RU))for(const a of this.RU)a(this)}rr(a){this.KQ();super.rr(a)}Vc(a){if(!this.wn&&"current-state"===this.UI)for(const d of this.pb)d.Ci();super.Vc(a)}Re(a=!1){super.Re(a);if(!this.kg)for(const d of this.pb)d.Yo()}md(a=!0,d=!1){this.KQ();super.md(a,d)}KQ(){for(const a of this.pb){const d=c=>{c=c.Ha();const h=this.ag();return 0!==c&&c!==h};a.dZ(d);a.qy(d)}}dv(){if(this.kh)return!0;const a=this.Fa();if(a&&a.J().dg())return!1;this.Lb.yM(this);this.dP();return!0}pe(a,
d,c){this.sc||(this.sc=this.Fa());if(this.sc&&!this.sc.eu()&&(d=this.sc.Kd,-1!==d&&(a=c*d),0!==a||0!==this.$B)){this.$B=a;c=this.ic+a*this.bd;a=this.Vd.Ts;this.ic=0>c?0:c>=a?a:c;c=!1;d=this.My();var h=this.Qy();d||h?d&&!h?0<this.bd?this.ic>=a&&this.Ac(0):0>=this.ic&&this.Ac(a):!d&&h?0<this.bd?this.ic>=a&&(this.Ac(a),this.Ti(-1*this.bd),1===this.Td?this.Pd<this.Hh()?(this.Pd++,this.Td=0):c=!0:0===this.Td&&(this.Td=1)):0>=this.ic&&(this.Ac(0),this.Ti(-1*this.bd),1===this.Td?this.Pd<this.Hh()?(this.Pd++,
this.Td=0):c=!0:0===this.Td&&(this.Td=1)):d&&h&&(0<this.bd?this.ic>=a&&(this.Ac(a),this.Ti(-1*this.bd)):0>=this.ic&&(this.Ac(0),this.Ti(-1*this.bd))):0<this.bd?this.ic>=a&&(this.Pd<this.Hh()?(this.Pd++,this.Ac(0)):(this.Ac(a),c=!0)):0>=this.ic&&(this.Pd<this.Hh()?(this.Pd++,this.Ac(a)):(this.Ac(0),c=!0));c?(this.xb.wP(),this.Re(!0),this.wF()):(this.xb.Ia(this.ic,!0,!1,!1,this.Ye,!1),this.Ye&&(this.Ye=!1))}}ma(){const a=super.ma();return Object.assign(a,{tweenDataItemJson:this.Vd.ma(),id:this.Ze,destroyInstanceOnComplete:this.tT,
initialValueMode:this.UI})}ua(a){a&&(this.Vd.ua(a.tweenDataItemJson),super.ua(a),this.Ze=a.id,this.tT=a.destroyInstanceOnComplete,this.UI=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const e=self.C;e.dQ=class extends e.mG{constructor(b,a){super(b,a);this.rK=this.Uv=null}static Ua(b,a){return e.B(e.dQ,b,a)}xQ(){1===this.gb.length?this.Uv=this.gb[0]:(this.Uv=this.gb[0],this.rK=this.gb[1])}IM(){for(const b of this.Rb.le().QW())this.gb.push(e.cQ.Ua(this,b));this.xQ()}ro(){}Ia(b,a,d=!1,c=!1,h,m=!1){this.sc||this.Fa();if(this.sc){if(this.sc.eu()||m&&this.J().dg())return!1;this.rK?(this.Uv.Ia(b,d,c),this.rK.Ia(b,d,c)):this.Uv.Ia(b,d,c);0!==this.Uv.Tk&&(this.Ya||(this.Ya=
this.sc.j()),this.Ya&&this.Ya.$a())}}qo(){}ua(b){super.ua(b);this.xQ()}}}
{"use strict";const e=self.C;e.cQ=class extends e.hb{constructor(b,a){super(b,a);this.yv=!1}static Ua(b,a){return e.B(e.cQ,b,a)}Ia(b,a=!1,d=!1){if(this.yv){var c=this.Vb[0];var h=this.Vb[1]}else{if(a)c=this.uc.Hi(b,this.Ba);else{if(this.Oc){h=this.Cb();const m=this.Oc.bf;c=this.Oc.Ha();h=m?m.Ha():h.ag();if(b<=c||b>=h)this.Oc=this.uc.Hi(b,this.Ba)}else this.Oc=this.uc.Hi(b,this.Ba);c=this.Oc}h=c.bf}this.De.Ia(b,c,h,a,d)}jM(){const b=this.Ba.Gh().iM();this.Oc=null;this.yv=2>=this.Ry().length;return b}qy(b){this.Oc=
null;this.Ba.Gh().OM(b);this.yv=2>=this.Ry().length}ma(){return{sourceAdapterJson:this.Ob().ma(),basic:this.yv}}ua(b){b&&(this.Ob().ua(b.sourceAdapterJson),this.yv=b.basic)}}}
{"use strict";const e=self.C,b=self.At;e.aQ=class extends e.la{constructor(a){super();this.La=a[0];this.wg=[];for(var d of a[1])a=e.bQ.Ua(this,d),this.wg.push(a);for(d=0;d<this.wg.length;d++)this.wg[d].Cu(this.wg[d+1]);this.Nw=new Map;this.IV=new Map;this.Haa();b.yX(this.La,(c,h,m,g)=>this.Ia(c,h,m,g))}static Ua(a){return e.B(e.aQ,a)}A(){for(const a of this.wg)a.A();e.F(this.wg);this.wg=null;this.Nw.clear();this.Nw=null;this.IV.clear();this.IV=null}e0(a){for(let d=this.wg.length-1;0<=d;d--){const c=
this.wg[d];if(c.xg<a)return c}}d0(a){for(let d=this.wg.length-1;0<=d;d--){const c=this.wg[d];if(c.xg<=a)return c}}Ia(a,d,c,h){var m=a/h;a=this.d0(m);h=a.bf;h||(a=this.e0(m),h=a.bf);m=e.$fa(m,a.xg,h.xg,h.xg-a.xg);const g=a.xg,k=a.rx,n=a.xg+a.yV,p=a.rx+a.Hea,q=h.xg+h.yT,u=h.rx+h.Sda,w=h.xg;h=h.rx;h=b.Bo("spline")(m,g,k,n,p,q,u,w,h,this.Nw.get(a));h+=a.rx;return(1-h)*d+h*(d+c)}Haa(){this.Nw.clear();for(let d=0;d<this.wg.length-1;d++){var a=this.wg[d];if(!a.Zw)continue;const c=this.wg[d+1];this.Nw.set(a,
b.I_(a.xg,a.xg+a.yV,c.xg+c.yT,c.xg))}}}}{"use strict";const e=self.C;e.bQ=class extends e.la{constructor(b,a){super();this.xg=a[0];this.rx=a[1];this.yV=a[2];this.Hea=a[3];this.yT=a[4];this.Sda=a[5];this.Zw=a[6];this.eB=a[7];this.bf=null}A(){}static Ua(b,a){return e.B(e.bQ,b,a)}Cu(b){this.bf=b}}}{"use strict";const e=self.C;e.E6=class extends e.la{constructor(b){super();this.g=b;this.$C=[]}A(){for(const b of this.$C)b.A();e.F(this.$C);this.$C=null}Ua(b){this.$C.push(e.aQ.Ua(b))}}}
{"use strict";const e=self.C;e.o6=class extends e.la{constructor(b){super();this.M=b;this.ob=[];this.ob.push(e.B(e.cG,this));this.Ta=0;this.jj=this.ob[0]}A(){for(const b of this.ob)b.A();e.F(this.ob);this.M=this.jj=null}J(){return this.M}V(){return this.jj}Ed(){this.V().Ed()}o4(){var b=this.ob,a=++this.Ta;a===b.length?(a=e.B(e.cG,this),b.push(a),this.jj=a):(b=b[a],b.md(),this.jj=b)}p4(){const b=this.ob,a=++this.Ta;a===b.length&&b.push(e.B(e.cG,this));const d=b[a];d.KY(b[a-1]);this.jj=d}Ra(){this.jj=
this.ob[--this.Ta]}Vo(b){const a=this.ob;for(let d=0,c=a.length;d<c;++d)a[d].Vo(b)}}}
{"use strict";const e=self.C;e.cG=class extends e.la{constructor(b){super();this.ob=b;this.M=this.ob.J();this.Qd=this.M.I().kd();this.ac=!0;this.H=[];this.hc=[]}A(){this.ey();this.Qd=this.M=this.ob=null}ey(){e.F(this.H);e.F(this.hc)}J(){return this.M}VE(){return this.ac?!!this.M.H.length:!!this.H.length}ra(){return this.ac?this.M.ra():this.H}X0(){return!!this.hc.length}EE(){const b=this.ra();return b.length?b:this.hc}md(){this.ac=!0;e.F(this.hc)}Ed(){this.ac=!0}KY(b){b.ac?this.md():(this.ac=!1,e.Sc(this.H,
b.H),e.F(this.hc))}lp(b){this.H.push(b)}Cl(b){this.hc.push(b)}qe(b){this.ac=!!b}mk(b){this.ac=!1;e.F(this.H);this.H.push(b)}wu(b){this.ac=!1;e.Sc(this.H,b)}Fu(b){this.ac=!1;e.F(this.H);for(const a of b)this.H.push(a)}hM(b,a){for(const d of a)b.has(d)||this.hc.push(d)}C6(b){for(const a of b)this.H.push(a);e.zg(this.hc,b)}Wm(b){b&&(this.Qd.lf().Nb().Sd?(this.ac&&(e.F(this.H),e.Sc(this.hc,b.J().ra()),this.ac=!1),b=this.hc.indexOf(b),-1!==b&&(this.H.push(this.hc[b]),this.hc.splice(b,1))):this.mk(b))}Vo(b){e.zg(this.H,
b);e.zg(this.hc,b)}}}
{"use strict";const e=self.C;e.q_=class extends e.la{constructor(b){super();this.Aa=b;this.g=this.Aa.I();this.ob=[];this.ob.push(e.B(e.UM,this,null));this.Ta=0;this.gB=[]}A(){for(const b of this.ob)b.A();e.F(this.ob);e.F(this.gB);this.g=this.Aa=null}qa(){return this.Aa}I(){return this.g}lf(){return this.ob[this.Ta]}Va(b){var a=this.ob;const d=++this.Ta;if(d===a.length)return b=e.B(e.UM,this,b),a.push(b),b;a=a[d];a.md(b);return a}Ra(){--this.Ta}q4(b){this.gB.push(b)}g4(){this.gB.pop()}P_(){const b=this.gB;
return 0===b.length?null:b.ie(-1)}}}
{"use strict";const e=self.C;e.UM=class extends e.la{constructor(b,a){super();this.ob=b;this.g=this.ob.I();this.Lv=a;this.ig=this.Il=0;this.tI=this.Pp=!1;this.yI=null;this.GI=this.KT=0}A(){this.md(null);this.g=this.ob=null}md(b){this.Lv=b;this.ig=this.Il=0;this.tI=this.Pp=!1}fH(b,a){this.Lv=b;this.Il=0;this.ig=a}eP(){this.ig=this.Il=0}Nb(){return this.Lv}Mg(b){this.Lv=b}$m(b){this.Il=b}zz(b){this.ig=b}bn(b){this.Pp=!!b}ir(b){this.tI=!!b}x5(b){this.yI=b}D1(b,a){this.KT=b;this.GI=a}Fz(b){this.GI=b}ek(){const b=
this.Lv;return b.TB?!0:this.Il<b.fc.length-1?!!b.Fd().length:!1}}}{"use strict";const e=self.C;e.T2=class extends e.la{constructor(b){super();this.Aa=b;this.g=this.Aa.I();this.ob=[];this.Ta=-1;this.jj=null;this.zB=[]}A(){e.F(this.ob);this.g=this.Aa=null}lca(b){this.zB=b;b=this.zB.slice(0);this.ob.push(b);this.Ta=0;this.jj=b}qa(){return this.Aa}I(){return this.g}Dq(){return this.jj}Va(){const b=++this.Ta,a=this.ob;b===a.length?a.push(this.zB.slice(0)):e.Sc(a[b],this.zB);this.jj=a[b]}Ra(){this.jj=this.ob[--this.Ta]}}}
{"use strict";const e=self.C;e.V2=class extends e.la{constructor(b){super();this.Aa=b;this.g=this.Aa.I();this.ob=[];this.Ta=-1}A(){e.F(this.ob);this.g=this.Aa=null}qa(){return this.Aa}I(){return this.g}bO(){return 0<=this.Ta}Dq(){return this.ob[this.Ta]}Va(){++this.Ta;if(this.Ta===this.ob.length){var b=e.B(e.U2,this);this.ob.push(b);return b}b=this.ob[this.Ta];b.md();return b}Ra(){--this.Ta}v_(b){const a=this.ob;for(let d=this.Ta;0<=d;--d){const c=a[d];if(c.Da()===b)return c}return null}}}
{"use strict";const e=self.C;e.U2=class extends e.la{constructor(b){super();this.Gf=b;this.La="";this.Ta=0;this.Bc=!1}md(){this.La="";this.Ta=0;this.Bc=!1}Hz(b){this.La=b}Da(){return this.La}Kc(b){this.Ta=b}Na(){return this.Ta}Re(){this.Bc=!0}}}{"use strict";const e=self.C;e.UX=class extends e.la{constructor(){super();this.ob=[];this.Ta=-1}A(){e.F(this.ob)}Dq(){return this.ob[this.Ta]}Va(){++this.Ta;if(this.Ta===this.ob.length){const b=[];this.ob.push(b);return b}return this.ob[this.Ta]}Ra(){--this.Ta}}}
{"use strict";const e=self.C;function b(a,d){return a.Na()-d.Na()}e.p_=class extends e.la{constructor(a){super();this.g=a;this.sv=[];this.sK=new Map;this.JH=[];this.OT=new Map;this.$H=new Map;this.gI=new Map;this.xA=new Map;this.aT=new Map;this.wI=new Map;this.uea=0;this.IH=[];this.qda=[];this.EU=[];this.EI=new Map;this.Qd=e.B(e.q_,this);this.Ad=e.B(e.T2,this);this.Gf=e.B(e.V2,this);this.MK=[];this.EC=[];this.DC=[];this.ZH=this.Nl=this.lm=0;this.ug=[];this.EA=[];self.c3_callFunction=(d,c)=>this.dA(d,
c)}A(){this.cy();this.Qd.A();this.Qd=null;this.Ad.A();this.Ad=null;e.F(this.EC);e.F(this.DC);this.g=null;e.F(this.sv);this.sK.clear()}Ua(a){a=e.B(e.o_,this,a);this.sv.push(a);this.sK.set(a.Da().toLowerCase(),a)}u7(a){this.MK.push(a)}Tb(){for(const a of this.EI.values())a.Tb(!1);for(const a of this.sv)a.Tb();for(const a of this.sv)a.vH();for(const a of this.MK)a.Tb(!1);e.F(this.MK);this.Ad.lca(this.EU)}I(){return this.g}jN(a){return this.sK.get(a.toLowerCase())||null}Uaa(a){this.JH.push(a);this.OT.set(a.NT,
a)}Raa(a){this.$H.set(a.mb,a)}Qaa(a){this.gI.set(a.mb,a)}Paa(a){this.xA.set(a.mb,a)}Taa(a){this.EI.set(a.qB.toLowerCase(),a)}Saa(a){this.wI.set(a.mb,a);a.dg()?this.IH.push(a):this.qda.push(a)}Uz(a){2<=a.length&&a.sort(b);let d=this.aT.get(a.length);d||(d=[],this.aT.set(a.length,d));for(let h=0,m=d.length;h<m;++h){const g=d[h];a:{for(let k=0,n=a.length;k<n;++k)if(a[k]!==g[k]){var c=!1;break a}c=!0}if(c)return g}d.push(a);return a}C9(a){this.EU.push(a.nb);return this.uea++}kd(){return this.Qd}kf(){return this.kd().lf()}Nb(){return this.kf().Nb()}Uf(){const a=
this.kf();return a.Nb().eN(a.Il)}Nt(){const a=this.kf();return a.Nb().aN(a.ig)}E_(a){const d=[];for(a=a.Kq();a;)e.vm(d,a.aR()),a=a.Kq();return d}mR(a){const d={};for(const c of this.E_(a))d[c.Ji()]=c.qR();return Object.create(Object.prototype,d)}DE(a){return this.wI.get(a)||null}U_(a){return this.$H.get(a)||null}C_(a){return this.xA.get(a)||null}Iy(a){return this.EI.get(a.toLowerCase())||null}K4(){for(const a of this.IH)a.Q4()}iN(a){return this.OT.get(a.toLowerCase())||null}V_(a){return(a=this.$H.get(a))&&
a.sj?a:null}L4(){for(const a of this.JH)a.N4()}mS(){for(const a of this.sv)a.iba()}V4(a){this.mS();this.lm++;for(const d of a.Ox())if(a=d.ad)this.g.pu(d),a.xa(),this.g.ou();this.lm--}async YY(a){this.mS();this.lm++;for(const d of this.r8(a))await this.g.Aq(d);this.lm--}*r8(a){for(const d of a.Ox())if(a=d.ad)this.g.pu(d),yield*a.qb(),this.g.ou()}pv(a,d,c,h){let m=!1;if(!a.Wb())return this.AF(d,c,h);this.Nl++;for(const g of a.Ox())if(a=g.ad){this.g.pu(g);for(const k of a.VA){const n=k.pv(d,c,h);m=m||
n}a=a.pv(d,c,h);m=m||a;this.g.ou()}this.Nl--;return m}*Ru(a,d,c,h){let m=!1;if(!a.Wb())return this.AF(d,c,h);this.Nl++;for(const g of a.Ox())if(a=g.ad){this.g.pu(g);for(const k of a.VA){const n=yield*k.Ru(d,c,h);m=m||n}a=yield*a.Ru(d,c,h);m=m||a;this.g.ou()}this.Nl--;return m}AF(a,d,c){this.EC.push([a,d,c]);return!1}t4(a,d,c){let h=null;const m=new Promise(g=>h=g);this.DC.push([a,d,c,h]);return m}*sba(){if(this.g.cu())throw Error("should not be in breakpoint");const a=this.g.kb;for(;this.DC.length;){const [d,
c,h,m]=this.DC.shift(),g=yield*this.Ru(a,d,c,h);m(g)}}async gP(){for(const a of this.sba())await this.g.Aq(a)}mF(){return 0<this.Nl}Vu(){return++this.Nl}Su(){--this.Nl}w2(){return 0<this.lm}kz(){return this.w2()||this.mF()}tba(a){for(const [d,c,h]of this.EC)this.pv(a,d,c,h);e.F(this.EC)}Ge(a){a?this.ZH++:this.ZH--}aO(){return 0<this.ZH}zq(a){for(let d=0,c=a.length;d<c;++d)a[d].Nn.Ed()}Kg(a){for(let d=0,c=a.length;d<c;++d)a[d].Nn.o4()}Ne(a){for(let d=0,c=a.length;d<c;++d)a[d].Nn.p4()}Sb(a){for(let d=
0,c=a.length;d<c;++d)a[d].Nn.Ra()}SD(){const a=e.B(e.LF,this);this.ug.push(a);return a}X4(){if(this.ug.length){var a=this.kf(),d=!1;this.lm++;for(let c=0,h=this.ug.length;c<h;++c){const m=this.ug[c];m.LS()&&m.kba(a);m.Vw&&(d=!0)}d&&this.YQ();this.lm--}}async $Y(){if(this.ug.length){var a=this.kf(),d=!1;this.lm++;for(let c=0,h=this.ug.length;c<h;++c){const m=this.ug[c];m.LS()&&await m.l8(a);m.Vw&&(d=!0)}d&&this.YQ();this.lm--}}YQ(){const a=e.Yea(this.ug,d=>d.Vw);for(const d of a)d.A()}cy(){for(const a of this.ug)a.A();
e.F(this.ug)}B4(a){for(const d of this.ug)d.Vo(a)}PD(a){this.EA.push(a)}fy(){e.F(this.EA)}H0(){const a=Promise.all(this.EA);this.EA=[];return a}ma(){return{groups:this.Aba(),cnds:this.zba(),acts:this.yba(),vars:this.Mba(),waits:this.Iba()}}ua(a){this.w$(a.groups);this.q$(a.cnds);this.p$(a.acts);this.J$(a.vars);this.F$(a.waits)}Aba(){const a={};for(const d of this.JH)a[d.mb.toString()]=d.Pq();return a}w$(a){for(const [d,c]of Object.entries(a))(a=this.V_(parseInt(d,10)))&&a.jr(c)}zba(){const a={};for(const [d,
c]of this.gI){const h=c.ma();h&&(a[d.toString()]=h)}return a}q$(a){const d=new Map;for(const [c,h]of Object.entries(a))d.set(parseInt(c,10),h);for(const [c,h]of this.gI)h.ua(d.get(c)||null)}yba(){const a={};for(const [d,c]of this.xA){const h=c.ma();h&&(a[d.toString()]=h)}return a}p$(a){const d=new Map;for(const [c,h]of Object.entries(a))d.set(parseInt(c,10),h);for(const [c,h]of this.xA)h.ua(d.get(c)||null)}Mba(){const a={};for(const [d,c]of this.wI)c.zb||!c.dg()&&!c.di||(a[d.toString()]=c.ca());return a}J$(a){for(const [d,
c]of Object.entries(a))(a=this.DE(parseInt(d,10)))&&a.Pe(c)}Iba(){return this.ug.filter(a=>!a.u2()).map(a=>a.ma())}F$(a){this.cy();for(const d of a)(a=e.LF.Q7(this,d))&&this.ug.push(a)}qE(a){for(;a;)if(a=a.Kq(),a instanceof e.Gt)return a;return null}dA(a,d){Array.isArray(d)||(d=[]);a=this.Iy(a.toLowerCase());if(!a)return null;if(!a.Qm())return a.Pt();var c=a.Zg;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].nb);while(d.length<c.length)}c=a.Ke();return c.IF(c.Gd(),a.jm,a.Pt(),...d)}}}
{"use strict";const e=self.C;e.o_=class extends e.la{constructor(b,a){super();this.Aa=b;this.g=b.I();this.La=a[0];this.fB=[];this.cD=new Map;this.ET=new Map;this.Tda=new Map;this.$v=!1;this.nV=[];this.VA=[];this.bT=new Set;for(const d of a[1])this.HQ(d,null,this.fB);this.xj=this.g.Jb?{type:"sheet",name:this.La,Px:0,children:[]}:null}A(){this.g=this.Aa=null}HQ(b,a,d){switch(b[0]){case 0:case 3:this.O7(b,a,d);break;case 1:this.P7(b,a,d);break;case 2:this.T7(b,a,d);break;case 4:this.R7(b,a);break;case 5:this.Y7(b,
a,d);break;default:throw Error("invalid event type");}}O7(b,a,d){b=e.bl.Ua(this,a,b);if(b.Sd){d.push(b);d=b.fc;for(let c=0,h=d.length;c<h;++c)d[c].Oo()&&this.BR(b,c)}else b.Oo()?this.BR(b,0):d.push(b)}R7(b,a){b=e.Gt.Ua(this,a,b);this.Aa.Taa(b)}P7(b,a,d){b=e.vy.Ua(this,a,b);d.push(b)}T7(b,a,d){b=e.TM.Ua(this,a,b);d.push(b)}Y7(b,a,d){b=e.uy.Ua(this,a,b);d.push(b)}BR(b,a){b.Sd||this.Aa.u7(b);var d=b.eN(a),c=d.Oa,h=d.J();if(d.jU){var m=this.ET.get(h);m||(m=new Map,this.ET.set(h,m));d=d.Z_().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(d);c||(c=[],h.set(d,c));c.push([b,a])}else m=this.cD.get(h),m||(m={HL:new Map,wx:new Map},this.cD.set(h,m)),(h=d.Eg())?(d=m.wx.get(h),d||(d=new Map,m.wx.set(h,d))):d=m.HL,m=d.get(c),m||(m=[],d.set(c,m)),m.push([b,a])}Tb(){const b=this.fB;for(let a=0,d=b.length;a<d;++a)b[a].Tb(a<d-1&&b[a+1]instanceof e.bl&&b[a+1].jz())}t7(b){this.nV.push(b)}vH(){e.F(this.VA);this.oQ(this);this.bT.clear()}oQ(b){const a=b.VA,d=b.bT;for(const c of this.nV){const h=c.fw;c.Pb&&
b!==h&&!d.has(h)&&(d.add(h),h.oQ(b),a.push(h))}}qa(){return this.Aa}I(){return this.g}Da(){return this.La}gS(b,a){this.Tda.set(a,b)}iba(){this.$v=!1}xa(){if(!this.$v){var b=this.g,a=b.eF(),d=a?performance.now():0;this.$v=!0;var c=this.qa(),h=c.kf();for(const m of this.fB)m.xa(h),c.zq(m.Fd()),c.fy(),b.Wd();h.md(null);a&&(this.xj.Px+=performance.now()-d)}}*qb(){if(!this.$v){this.$v=!0;var b=this.g,a=this.qa(),d=a.kf();for(const c of this.fB)yield*c.qb(d),a.zq(c.Fd()),a.fy(),b.Wd();d.md(null)}}pv(b,
a,d){if(a){const c=a.J();this.tH(b,a,c,d);for(const h of c.Zh)this.tH(b,a,h,d)}else return this.tH(b,a,null,null)}tH(b,a,d,c){d=this.cD.get(d);if(!d)return!1;c=c?d.wx.get(c):d.HL;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [h,m]of c)c=this.XQ(a,h,m),b=b||c;return b}*Ru(b,a,d){if(a){const c=a.J();yield*this.BG(b,a,c,d);for(const h of c.Zh)yield*this.BG(b,a,h,d)}else return yield*this.BG(b,a,null,null)}*BG(b,a,d,c){d=this.cD.get(d);if(!d)return!1;c=c?d.wx.get(c):d.HL;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [h,m]of c)c=h.He()?this.XQ(a,h,m):yield*this.f8(a,h,m),b=b||c;return b}XQ(b,a,d){const c=this.g,h=this.Aa,m=h.Nb(),g=h.kd(),k=h.Nl;let n=!1;m&&h.Kg(m.Gd());h.Kg(a.Gd());const p=1<k;p&&h.Ad.Va();const q=g.Va(a);b&&(a.fc[d].J().V().mk(b),b.dc()&&b.Wi());b=!0;if(a.Ka()){const u=a.oq;for(let w=0,r=u.length;w<r;++w)if(!u[w].fP(q)){b=!1;break}}b&&(c.nl(),a.Sd?a.W4(q,d):a.xa(q),n=q.Pp);g.Ra();p&&h.Ad.Ra();h.Sb(a.Gd());m&&h.Sb(m.Gd());m||1!==k||(h.fy(),h.aO()||c.Wd());return n}*f8(b,
a,d){const c=this.g,h=this.Aa,m=h.Nb(),g=h.kd(),k=h.Nl;let n=!1;m&&h.Kg(m.Gd());h.Kg(a.Gd());const p=1<k;p&&h.Ad.Va();const q=g.Va(a);b&&(a.fc[d].J().V().mk(b),b.dc()&&b.Wi());b=!0;if(a.Ka()){const u=a.oq;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].LM(q))){b=!1;break}}b&&(c.nl(),a.Sd?yield*a.ZY(q,d):yield*a.qb(q),n=q.Pp);g.Ra();p&&h.Ad.Ra();h.Sb(a.Gd());m&&h.Sb(m.Gd());m||1!==k||(h.fy(),h.aO()||c.Wd());return n}}}
{"use strict";const e=self.C,b=[];function a(){return!0}function*d(){return!0}e.bl=class extends e.la{constructor(c,h,m){super();this.ad=c;this.g=c.I();this.Fc=h;this.fe=null;this.Qd=this.g.qa().kd();this.cf=[];this.Ns=[];this.Xv=this.VB=this.TB=this.TT=!1;this.Sd=!!m[2];this.JB=!1;this.oq=null;this.fc=[];this.Xb=[];this.pi=[];this.bj=a;this.gp=d;this.hJ=this.sj=!1;this.NT="";this.LB=!1;this.xj=this.TA=null;this.mb=m[4];this.$r=m[5];this.ad.gS(this,this.$r);this.Wa=this.g.Jb?{gd:m[3][0],CL:m[3][1],
dW:!1,iL:!1,jL:!1,eW:!1}:null;this.qa().Raa(this);3===m[0]&&this.X9(m[1]);c=0;for(var g of m[6])h=e.zM.Ua(this,g,c++),this.fc.push(h),this.tQ(h.J());c=0;for(const k of m[7])g=e.Tx.Ua(this,k,c++),this.Xb.push(g);if(9===m.length){m=m[8];for(const k of m)this.ad.HQ(k,this,this.pi)}this.fc.length&&(this.JB=null===this.fc[0].J()&&this.fc[0].Oa===e.D.Ja.L.SM);0===this.fc.length&&(this.fc=b);0===this.Xb.length&&(this.Xb=b);0===this.pi.length&&(this.pi=b)}static Ua(c,h,m){return e.B(e.bl,c,h,m)}X9(c){this.sj=
!0;this.LB=this.hJ=!!c[0];this.NT=c[1].toLowerCase();this.TA=[];this.qa().Uaa(this);this.g.Jb&&(this.xj={type:"group",name:c[1],Px:0,children:[]})}l7(c){this.TA.push(c)}nQ(c,h){for(const m of c.Vg.fm)h.includes(m)||h.push(m)}uQ(c,h){if(c)if(h.includes(c)||h.push(c),c.fb)for(const m of c.Bp)m.dc()&&this.nQ(m,h);else c.dc()&&this.nQ(c,h)}tQ(c){this.uQ(c,this.cf)}p7(c){this.uQ(c,this.Ns)}e5(){this.cf=this.g.Wc}Tb(c){this.Xv=!!c;this.R9();this.S9();for(const m of this.fc)m.Tb();if(0<this.Xb.length){c=
!1;for(var h of this.Xb)h.Tb(),h.f1()&&(c=!0);c?(this.bj=this.mba,this.gp=this.n8):(this.bj=this.lba,this.gp=this.m8)}h=this.pi;for(let m=0,g=h.length;m<g;++m)h[m].Tb(m<g-1&&h[m+1]instanceof e.bl&&h[m+1].jz());this.Wa&&this.Zca();this.xj&&this.E9().xj.children.push(this.xj)}E9(){let c=this.Ka();for(;c;){if(c.sj)return c;c=c.Ka()}return this.ad}Zca(){const c=this.Wa;c.dW=this.fc.every(h=>h.He());c.iL=this.Xb.every(h=>h.He());c.jL=this.pi.every(h=>h.He());c.eW=c.dW&&c.iL&&c.jL}R9(){if(this.sj){var c=
this.Ka();for(this.VB=!0;c;){if(!c.sj){this.VB=!1;break}c=c.Ka()}}}Q9(){var c=this.g.Wc;if(this.cf===c)this.Ns=c;else{this.Ns=e.mL(this.cf);for(c=this.Ka();c;){for(var h of c.cf)this.p7(h);c=c.Ka()}h=this.qa();this.cf=h.Uz(this.cf);this.Ns=h.Uz(this.Ns)}}S9(){if(this.Y0()){this.oq=[];for(var c=this.Ka();c;)this.oq.push(c),c=c.Ka();this.oq.reverse()}}Gu(){this.TB=!0;this.Fc&&this.Fc.Gu()}Fd(){return this.cf}Gd(){this.TT||(this.TT=!0,this.Q9());return this.Ns}h1(c){return this.cf.includes(c)}qa(){return this.ad.qa()}I(){return this.g}Ka(){return this.Fc}yca(c){this.fe=
c}Kq(){return this.fe||this.Fc}gF(){return this.Wa&&this.Wa.CL}Ko(){return this.gF()&&this.Wa.gd}jz(){return this.JB}Pq(){return this.LB}N4(){this.jr(this.hJ)}jr(c){c=!!c;if(!this.sj)throw Error("not a group");if(this.LB!==c){this.LB=c;for(const h of this.TA)h.eQ();this.TA.length&&(c=this.g.Qa().ad)&&c.vH()}}Oo(){return this.fc.length&&this.fc[0].Oo()}q2(){return this.fe&&this.fe instanceof e.Gt}Y0(){return this.q2()||this.fc.some(c=>c.Oo())}eN(c){c=Math.floor(c);if(0>c||c>=this.fc.length)throw new RangeError("invalid condition index");
return this.fc[c]}p2(c){let h=c.Na();if(0===h)return!0;for(--h;0<=h;--h)if(this.fc[h].J()===c.J())return!1;return!0}aN(c){c=Math.floor(c);if(0>c||c>=this.Xb.length)throw new RangeError("invalid action index");return this.Xb[c]}P9(c){c=Math.floor(c);return 0<=c&&c<this.Xb.length}aR(){return this.pi.filter(c=>c instanceof e.vy)}fP(c){c.Mg(this);let h=!1;const m=this.fc;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.$m(g);if(n.NB)throw Error("trigger cannot be used as sub-event to a loop");if(n.xa())h=
!0;else if(!this.Sd)return!1}return this.Sd?h:!0}W4(c,h){c.Mg(this);this.fc[h].xa()&&(this.bj(c,0)&&this.Dl(),c.bn(!0))}*LM(c){c.Mg(this);let h=!1;const m=this.fc;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.$m(g);if(n.NB)throw Error("trigger cannot be used as sub-event to a loop");if(n.He()?n.xa():yield*n.qb())h=!0;else if(!this.Sd)return!1}return this.Sd?h:!0}*ZY(c,h){c.Mg(this);h=this.fc[h];if(h.He()?h.xa():yield*h.qb())(this.my()?this.bj(c,0):yield*this.gp(c,0))&&(this.ny()?this.Dl():yield*this.Qu()),
c.bn(!0)}xa(c){c.Mg(this);this.JB||c.ir(!1);this.Sd?this.rba(c):this.iA(c)}*qb(c){if(this.Ko()||this.g.yc())yield this;c.Mg(this);this.JB||c.ir(!1);this.Sd?yield*this.y8(c):yield*this.yG(c)}rba(c){const h=this.fc;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.Oo()||(c.$m(k),g=g.xa(),m=m||g)}c.bn(m);m&&(this.bj(c,0)&&this.Dl(),this.Xv&&c.ir(!0))}*y8(c){const h=this.fc;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.Oo()||(c.$m(k),g=g.He()?g.xa():yield*g.qb(),m=m||g)}c.bn(m);
m&&((this.my()?this.bj(c,0):yield*this.gp(c,0))&&(this.ny()?this.Dl():yield*this.Qu()),this.Xv&&c.ir(!0))}iA(c){const h=this.fc;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.$m(m);if(!k.xa()){c.bn(!1);return}}c.bn(!0);this.bj(c,0)&&this.Dl();c.Pp&&this.Xv&&c.ir(!0)}*yG(c){const h=this.fc;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.$m(m);if(k.He()?!k.xa():!(yield*k.qb())){c.bn(!1);return}}c.bn(!0);(this.my()?this.bj(c,0):yield*this.gp(c,0))&&(this.ny()?this.Dl():yield*this.Qu());c.Pp&&this.Xv&&
c.ir(!0)}lba(c,h){const m=this.Xb;for(let g=h,k=m.length;g<k;++g)h=m[g],c.zz(g),h.xa();return!0}*m8(c,h){const m=this.Xb;for(let g=h,k=m.length;g<k;++g)h=m[g],c.zz(g),h.He()?h.xa():yield*h.qb();return!0}mba(c,h){const m=this.qa(),g=this.Xb;for(let k=h,n=g.length;k<n;++k){h=g[k];c.zz(k);const p=h.xa();if(h.rM()&&!0===p)return!1;h.Jg()&&p instanceof Promise&&m.PD(p)}return!0}*n8(c,h){const m=this.qa(),g=this.Xb;for(let k=h,n=g.length;k<n;++k){h=g[k];c.zz(k);let p;p=h.He()?h.xa():yield*h.qb();if(h.rM()&&
!0===p)return!1;h.Jg()&&p instanceof Promise&&m.PD(p)}return!0}jba(c){this.bj(c,c.ig)&&this.Dl()}*k8(c){if(yield*this.gp(c,c.ig))yield*this.Qu()}Dl(){if(this.pi.length){var c=this.sj&&this.g.eF(),h=c?performance.now():0,m=this.Qd,g=m.Va(this);this.TB?this.wba(g):this.vba(g);m.Ra();c&&(this.xj.Px+=performance.now()-h)}}wba(c){const h=this.sj,m=this.VB,g=this.qa(),k=this.pi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.Fd(),r=!m||!h&&n<q;r&&g.Ne(w);u.xa(c);r?g.Sb(w):g.zq(w)}}vba(c){const h=
this.pi;for(let m=0,g=h.length;m<g;++m)h[m].xa(c)}*Qu(){if(this.pi.length){var c=this.Qd,h=c.Va(this);this.TB?yield*this.B8(h):yield*this.A8(h);c.Ra()}}*B8(c){const h=this.sj,m=this.VB,g=this.qa(),k=this.pi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.Fd(),r=!m||!h&&n<q;r&&g.Ne(w);yield*u.qb(c);r?g.Sb(w):g.zq(w)}}*A8(c){const h=this.pi;for(let m=0,g=h.length;m<g;++m)yield*h[m].qb(c)}Lg(c,h){this.g.nl();h.eP();const m=this.fc;if(!this.Sd)for(let g=c.Il+1,k=m.length;g<k;++g)if(c=m[g],h.$m(g),
!c.xa())return!1;this.bj(h,0)&&this.Dl();return!0}*Cg(c,h){this.g.nl();h.eP();const m=this.fc;if(!this.Sd)for(let g=c.Il+1,k=m.length;g<k;++g)if(c=m[g],h.$m(g),c.He()?!c.xa():!(yield*c.qb()))return!1;(this.my()?this.bj(h,0):yield*this.gp(h,0))&&(this.ny()?this.Dl():yield*this.Qu());return!0}He(){return!this.Ko()&&!this.g.yc()&&this.Wa.eW}my(){return!this.g.yc()&&this.Wa.iL}ny(){return!this.g.yc()&&this.Wa.jL}rG(c){if(this.Ka()){const h=this.oq;for(let m=0,g=h.length;m<g;++m)if(!h[m].fP(c))return!1}return!0}*IQ(c){if(this.Ka()){const h=
this.oq;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].LM(c)))return!1}return!0}WQ(c,h,m){0<h.length?m?(h=h.map(g=>g.ga(0)),c.Ad.Va(),this.fe.Bu(h)):this.fe.n_(h):m&&c.Ad.Va()}T4(c,h){let m,g;const k=0<c.length;var n=this.g;const p=this.Qd,q=n.qa(),u=1<q.Vu();this.WQ(q,h,u);k&&q.Kg(c);h=p.Va(this);this.rG(h)&&(n.nl(),h.Mg(this),(n=this.fe.Jg())&&([g,m]=this.fe.fG()),this.iA(h),n&&this.fe.ku(g));p.Ra();u&&q.Ad.Ra();k&&q.Sb(c);q.Su();return m}*WY(c,h){let m,g;if(this.Ko()||this.g.yc())yield this;const k=
0<c.length;var n=this.g;const p=this.Qd,q=n.qa(),u=1<q.Vu();this.WQ(q,h,u);k&&q.Kg(c);h=p.Va(this);if(yield*this.IQ(h))n.nl(),h.Mg(this),(n=this.fe.Jg())&&([g,m]=this.fe.fG()),yield*this.yG(h),n&&this.fe.ku(g);p.Ra();u&&q.Ad.Ra();k&&q.Sb(c);q.Su();return m}U4(c){const h=this.Gd(),m=0<h.length,g=this.g,k=this.Qd,n=g.qa(),p=1<n.Vu();p&&n.Ad.Va();this.fe.Bu(c);m&&n.Kg(h);c=k.Va(this);this.rG(c)&&(g.nl(),c.Mg(this),this.iA(c));k.Ra();p&&n.Ad.Ra();m&&n.Sb(h);n.Su()}*XY(c){if(this.Ko()||this.g.yc())yield this;
const h=this.Gd(),m=0<h.length,g=this.g,k=this.Qd,n=g.qa(),p=1<n.Vu();p&&n.Ad.Va();this.fe.Bu(c);m&&n.Kg(h);c=k.Va(this);if(yield*this.IQ(c))g.nl(),c.Mg(this),yield*this.yG(c);k.Ra();p&&n.Ad.Ra();m&&n.Sb(h);n.Su()}IF(c,h,m,...g){let k,n;const p=0<c.length,q=this.g,u=this.Qd,w=q.qa(),r=1<w.Vu();r&&w.Ad.Va();0<g.length&&this.fe.Bu(g);p&&w.Kg(c);g=u.Va(this);g.D1(h,m);u.q4(g);q.Cz(!1);this.rG(g)&&(q.nl(),g.Mg(this),(h=this.fe.Jg())&&([n,k]=this.fe.fG()),this.iA(g),h&&this.fe.ku(n));q.Cz(!0);u.Ra();u.g4();
r&&w.Ad.Ra();p&&w.Sb(c);w.Su();return k||g.GI}}}
{"use strict";const e=self.C,b=[];let a=!1;e.uy=class extends e.la{constructor(d,c,h){super();const m=d.I(),g=d.qa();this.ad=d;this.Aa=g;this.g=d.I();this.Fc=c;this.Oa=m.Eh(h[1]);this.$r=h[2];this.ad.gS(this,this.$r);this.Wa=m.Jb?{gd:h[3][0],CL:h[3][1]}:null}static Ua(d,c,h){return e.B(e.uy,d,c,h)}Tb(){const d=this.Oa,c=this.g.qa().mR(this);this.Oa=d.bind(null,this.g.qj,c)}Ka(){return this.Fc}Kq(){return this.Fc}gF(){return this.Wa&&this.Wa.CL}Ko(){return this.gF()&&this.Wa.gd}jz(){return!1}Fd(){return b}Gd(){return this.Fc?
this.Fc.Gd():b}xa(d){d.Mg(this);this.Aa.PD(this.xba())}async xba(){try{await this.Oa()}catch(d){console.error(`Unhandled exception running script %c${this.ad.Da()}, event ${this.$r}:`,"font-size: 1.2em; font-weight: bold;",d),self.vh&&self.vh.nca(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*qb(d){d.Mg(this);if(this.Ko()||this.g.yc())yield this;
this.xa(d)}He(){return!this.Ko()&&!this.g.yc()}static T0(){return a}static D5(){a=!0}}}
{"use strict";const e=self.C;e.Gt=class extends e.la{constructor(b,a,d){super();this.ad=b;this.g=b.I();this.Fc=a;const c=d[1];this.qB=c[0];this.jm=c[1];this.Zg=c[2].map(h=>e.vy.Ua(b,this,h));this.pg=c[3];this.VI=[];this.iw=c[4];this.qea=0;this.Kv=-1;this.vv=new Map;this.$d=e.bl.Ua(b,a,d);this.$d.yca(this)}static Ua(b,a,d){return e.B(e.Gt,b,a,d)}Tb(){for(const b of this.Zg)b.Tb();this.$d.Tb(!1)}aR(){return this.Zg}Vaa(b){this.VI.push(b)}n_(b){const a=this.Zg;for(let d=0,c=a.length;d<c;++d)a[d].Pe(b[d].ga(0))}Bu(b){const a=
this.Zg;for(let d=0,c=a.length;d<c;++d)a[d].Pe(b[d])}sY(){return this.Zg.map(b=>b.ca())}Ka(){return this.Fc}Kq(){return this.Fc}Qm(){return this.pg}Pt(){switch(this.jm){case 0:return null;case 2:return"";default:return 0}}Ke(){return this.$d}Jg(){return this.iw}fG(){const b=this.qea++;this.Kv=b;let a;const d=new Promise(c=>a=c);this.vv.set(b,{resolve:a,NL:0});return[b,d]}ku(b){const a=this.vv.get(b);0===a.NL&&(a.resolve(),this.vv.delete(b));this.Kv=-1}X3(){this.vv.get(this.Kv).NL++;return this.Kv}S4(b){this.Kv=
b;this.vv.get(b).NL--}}}
{"use strict";const e=self.C,b=[];e.vy=class extends e.la{constructor(a,d,c){super();const h=a.qa();this.ad=a;this.Aa=h;this.g=a.I();this.Fc=d;this.Ad=h.Ad;this.La=c[1];this.Ca=c[2];this.nb=c[3];this.di=!!c[4];this.zb=!!c[5];this.dea=d instanceof e.Gt;this.mb=c[6];this.uw=this.g.Ji(c[8]);this.Eea=m=>this.Pe(m);this.Cea=()=>this.ca();this.VT=!this.Fc||this.di||this.zb;this.Gc=this.nb;this.HJ=-1;this.VN()&&(this.Gc=this.Gc?1:0);!this.pF()||this.di||this.zb||(this.HJ=h.C9(this));h.Saa(this)}static Ua(a,
d,c){return e.B(e.vy,a,d,c)}Tb(){if(this.pF()&&!this.di&&!this.zb&&!this.dea){const a=this.Aa.qE(this);a&&a.Vaa(this)}}Da(){return this.La}Ji(){return this.uw}Ka(){return this.Fc}Kq(){return this.Ka()}dg(){return!this.Ka()}pF(){return!this.dg()}Vm(){return 0===this.Ca}Pi(){return 1===this.Ca}VN(){return 2===this.Ca}jz(){return!1}Fd(){return b}xa(){!this.pF()||this.di||this.zb||this.Pe(this.nb)}He(){return!0}*qb(a){this.xa(a)}Pe(a){this.Vm()?"number"!==typeof a&&(a=parseFloat(a)):this.Pi()?"string"!==
typeof a&&(a=a.toString()):this.VN()&&(a=a?1:0);this.VT?this.Gc=a:this.Ad.Dq()[this.HJ]=a}ca(){return this.VT?this.Gc:this.Ad.Dq()[this.HJ]}Q4(){this.Gc=this.nb}qR(){return{configurable:!1,enumerable:!0,get:this.Cea,set:this.Eea}}}}
{"use strict";const e=self.C,b=[];e.TM=class extends e.la{constructor(a,d,c){super();const h=a.qa();this.ad=a;this.Aa=h;this.g=a.I();this.Fc=d;this.fw=null;this.Yda=c[1];this.Pb=!0}static Ua(a,d,c){return e.B(e.TM,a,d,c)}Tb(){this.fw=this.Aa.jN(this.Yda);this.ad.t7(this);let a=this.Ka();for(;a;)a instanceof e.bl&&a.sj&&a.l7(this),a=a.Ka();this.eQ();this.g.Jb&&this.ad.xj.children.push(this.fw.xj)}Ka(){return this.Fc}Fd(){return b}xa(){const a=!!this.Ka(),d=this.g.Wc;a&&this.Aa.Kg(d);this.fw.xa();a&&
this.Aa.Sb(d)}*qb(){const a=!!this.Ka(),d=this.g.Wc;a&&this.Aa.Kg(d);yield*this.fw.qb();a&&this.Aa.Sb(d)}He(){return!1}eQ(){let a=this.Ka();for(;a;){if(a instanceof e.bl&&a.sj&&!a.Pq()){this.Pb=!1;return}a=a.Ka()}this.Pb=!0}}}
{"use strict";const e=self.C;e.xo=class extends e.la{constructor(k){super();this.$b=k;this.g=k.I()}Tb(){}static RY(k,n){return e.B([m,c,h,g,b,a][n[0]],k,n)}};class b extends e.xo{constructor(k,n){super(k);this.Jd=this.g.Xt();this.Oa=this.g.Eh(n[1]);this.Oa!==e.D.Ja.rb.random&&this.Oa!==e.D.Ja.rb.cfa||this.$b.bG()}Ma(){return this.Jd.rk(this.Oa,this.Jd)}}class a extends e.xo{constructor(k,n){super(k);this.ks=null;this.qB=n[1];this.$b.bG()}Tb(){const k=this.g.qa();this.ks=k.Iy(this.qB);this.qB=null;
const n=this.ks.Ke();this.Jl=[...new Set([...this.$b.Ke().Gd(),...n.Gd()])];this.Jl=k.Uz(this.Jl)}Ma(){const k=this.ks;if(k.Qm())return e.bl.prototype.IF.bind(k.Ke(),this.Jl,k.jm,k.Pt());{const n=k.Pt();return()=>n}}}function d(k,n){if(k>=n)return k%n;0>k&&(k<=-n&&(k%=n),0>k&&(k+=n));return k}class c extends e.xo{constructor(k,n){super(k);this.M=this.g.mf(n[1]);this.Oa=this.g.Eh(n[2]);this.Pw=!!n[3];this.Qd=this.g.qa().kd();this.$b.ZG(this.M)}Ma(){return this.M.Fb().rk(this.Oa,this.M.Mi().ta)}pE(){const k=
this.M,n=k.V().EE();var p=n.length;if(0===p)return this.Pw?"":0;p=d(this.$b.Ms,p);this.Qd.lf().x5(k);return this.Oa.apply(n[p].ta,[])}}class h extends e.xo{constructor(k,n){super(k);this.M=this.g.mf(n[1]);this.OV=n[3];this.Pw=!!n[2];this.$b.ZG(this.M)}Bh(){const k=this.M.V().EE();var n=k.length;if(0===n)return this.Pw?"":0;n=d(this.$b.Ms,n);return k[n].jR(this.OV)}Cq(){var k=this.M,n=k.V().EE(),p=n.length;if(0===p)return this.Pw?"":0;p=d(this.$b.Ms,p);n=n[p];k=n.J().FE(k.$h);return n.jR(this.OV+k)}}
class m extends e.xo{constructor(k,n){super(k);this.M=this.g.mf(n[1]);this.Xc=this.M.zy(n[2]);this.gj=this.M.Jt(n[2]);this.Oa=this.g.Eh(n[3]);this.Pw=!!n[4];this.Qd=this.g.qa().kd();this.$b.ZG(this.M)}}class g extends e.xo{constructor(k,n){super(k);this.za=null;this.vI=n[1]}Tb(){this.za=this.g.qa().DE(this.vI)}}}
{"use strict";const e=self.C;e.Me=class extends e.la{constructor(A,G,z){super();this.$b=A;this.Ta=z;this.Ca=G;this.ga=null;this.zb=this.ff=!1}static Ua(A,G,z){const F=G[0];return e.B([a,d,p,h,g,c,k,a,h,h,q,u,p,r,d,n,m,w,v,y][F],A,F,z,G)}Tb(){}bG(){this.ff=!0}ZG(A){this.ff||!A||A.Fb().yn||(this.ff=!0)}Na(){return this.Ta}I(){return this.$b.I()}Ke(){return this.$b.Ke()}};function b(A){A=self.hY[A];if(!A)throw Error("invalid expression number");return A}class a extends e.Me{constructor(A,G,z,F){super(A,
G,z);this.Ms=0;A=F[1];this.xI=A[0];this.Cs=[];this.hB=null;for(let H=1,J=A.length;H<J;++H)this.Cs.push(e.xo.RY(this,A[H]));this.Cs.length?this.ga=this.X_:(this.ga=b(this.xI),this.zb=!0)}G(A){if(0>A||A>=this.Cs.length)throw new RangeError("invalid numbered node");return this.Cs[A]}Tb(){for(var A of this.Cs)A.Tb();A=b(this.xI);this.hB=this.Cs.length?A(this):A}X_(A){this.Ms=A;return this.hB()}}class d extends a{constructor(A,G,z,F){super(A,G,z,F);this.ga=this.L0;14===G&&(this.Ke().e5(),this.$b instanceof
e.Tx&&this.Ke().Gu())}L0(A){this.Ms=A;A=this.hB();return"string"===typeof A?A:""}w9(){return b(this.xI)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.ga=this.ea;this.zb=!1}ea(A){this.Ms=A;A=this.hB();return this.I().Qa().ea(A)}}class h extends e.Me{constructor(A,G,z,F){super(A,G,z);this.Kda=F[1];this.ga=this.O_;this.zb=!0}O_(){return this.Kda}}class m extends e.Me{constructor(A,G,z,F){super(A,G,z);this.wda=F[1];this.ga=this.K_;this.zb=!0}K_(){return this.wda}}class g extends e.Me{constructor(A,
G,z,F){super(A,G,z);this.M=this.I().mf(F[1]);this.ga=this.J;A=this.Ke();A.tQ(this.M);this.$b instanceof e.Tx?A.Gu():A.Ka()&&A.Ka().Gu();this.zb=!0}J(){return this.M}}class k extends e.Me{constructor(A,G,z,F){super(A,G,z);this.bh=this.I().kb.Gq(F[1]);this.ga=this.lc;this.zb=!0}lc(){return this.bh}}class n extends e.Me{constructor(A,G,z,F){super(A,G,z);this.ri=this.I().Lb.Xy(F[1]);this.ga=this.Cb;this.zb=!0}Cb(){return this.ri}}class p extends e.Me{constructor(A,G,z,F){super(A,G,z);this.Uda=F[1];this.ga=
this.$_;this.zb=!0}$_(){return this.Uda}}class q extends e.Me{constructor(A,G,z,F){super(A,G,z);this.fU=F[1];(A=this.$b.J())&&A.fb?(this.ga=this.Y_,this.bG()):(this.ga=this.l0,this.zb=!0)}l0(){return this.fU}Y_(A){A=A||0;const G=this.$b.J();var z=G.V();const F=z.ra();if(F.length)A=F[A%F.length].J();else if(z.X0())z=z.hc,A=z[A%z.length].J();else if(0<G.H.length)z=G.ra(),A=z[A%z.length].J();else return 0;return this.fU+A.FE(G.$h)}}class u extends e.Me{constructor(A,G,z,F){super(A,G,z);this.vI=F[1];
this.za=null;this.ga=this.W_;this.zb=!0}Tb(){this.za=this.I().qa().DE(this.vI)}W_(){return this.za}}class w extends e.Me{constructor(A,G,z,F){super(A,G,z);this.IT=F[1];this.ks=null;this.ga=this.f0;this.zb=!0}Tb(){this.ks=this.I().qa().Iy(this.IT);this.IT=null}f0(){return this.ks}}class r extends e.Me{constructor(A,G,z,F){super(A,G,z);this.FK=[];this.PV=[];this.zb=!0;for(let H=1,J=F.length;H<J;++H)A=e.Me.Ua(this.$b,F[H],0),this.FK.push(A),this.PV.push(0),A.zb||(this.zb=!1);this.ga=this.R0}Tb(){for(const A of this.FK)A.Tb()}R0(){const A=
this.FK,G=this.PV;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ga(0);return G}}class v extends e.Me{constructor(A,G,z,F){super(A,G,z);this.Qda=F[1];this.ga=this.Km;this.zb=!0}Km(){return this.Qda}}class y extends e.Me{constructor(A,G,z,F){super(A,G,z);this.Cda=F[1];this.ga=this.O0;this.zb=!0}O0(){return this.Cda}}}
{"use strict";const e=self.C;function b(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].ga(0)}const a=[],d=function(){};e.zM=class extends e.la{constructor(c,h,m){super();this.$d=c;this.g=c.I();this.Ta=m;this.Oa=this.g.Eh(h[1]);this.oJ=0<h[3];this.jU=2===h[3];this.NB=!!h[4];this.tj=!!h[5];this.di=!!h[6];this.mb=h[7];this.kU=this.$d.Sd;this.Xc=this.M=null;this.gj=-1;this.Jd=null;this.qb=this.xa=d;this.Pa=[];this.Ab=[];this.Fl=!1;this.si=this.Kb=null;this.Wa=this.g.Jb?{gd:h[8][0],Of:h[8][1]}:null;-1===
h[0]?this.Jd=this.g.Xt():(this.M=this.g.mf(h[0]),h[2]&&(this.Xc=this.M.zy(h[2]),this.gj=this.M.Jt(h[2])),this.$d.Ka()&&this.$d.Ka().Gu());if(10===h.length){c=h[9];for(let g of c)this.Pa.push(e.Me.Ua(this,g,this.Pa.length)),this.Ab.push(0)}0===this.Pa.length&&(this.Ab=this.Pa=a);this.$d.qa().Qaa(this)}static Ua(c,h,m){return e.B(e.zM,c,h,m)}Tb(){for(const c of this.Pa)c.Tb(),c.ff&&(this.Fl=!0);this.jU?(this.xa=this.nba,this.qb=this.s8):this.Jd?(this.qH(),this.qb=this.AG):this.M.Fb().yn?(this.pH(),
this.qb=this.zG):this.di?(this.xa=this.uba,this.qb=this.z8):(this.xa=this.sS,this.qb=this.t8)}qH(){this.nv(this.Jd,this.Jd,this.iH)}pH(){const c=this.M.Fb(),h=this.M.Mi().ta;this.nv(c,h,this.hH)}nv(c,h,m){const g=this.Oa,k=this.tj,n=this.Pa;if(0===n.length){const p=c.rk(g,h);this.xa=k?function(){return e.xor(p(),k)}:p}else if(1===n.length){const p=n[0];if(!k&&p.zb)this.xa=c.cR(g,h,p.ga(0));else{const q=c.rk(g,h);this.xa=function(){return e.xor(q(p.ga(0)),k)}}}else if(2===n.length){const p=n[0],q=
n[1];if(!k&&p.zb&&q.zb)this.xa=c.dR(g,h,p.ga(0),q.ga(0));else{const u=c.rk(g,h);this.xa=function(){return e.xor(u(p.ga(0),q.ga(0)),k)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!k&&p.zb&&q.zb&&u.zb)this.xa=c.eR(g,h,p.ga(0),q.ga(0),u.ga(0));else{const w=c.rk(g,h);this.xa=function(){return e.xor(w(p.ga(0),q.ga(0),u.ga(0)),k)}}}else this.xa=m}J(){return this.M}Eg(){return this.Xc}Ke(){return this.$d}I(){return this.g}Na(){return this.Ta}fN(){return this.Na()}Oo(){return this.oJ}He(){return!this.Wa.gd&&
!this.g.yc()&&!this.Wa.Of}Yj(){this.Kb||(this.Kb=new Map);return this.Kb}$t(){this.si||(this.si=new Map);return this.si}iH(){const c=this.Ab;b(this.Pa,c);return e.xor(this.Oa.apply(this.Jd,c),this.tj)}*AG(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){var c=this.Ab;b(this.Pa,c);c=this.Oa.apply(this.Jd,c);e.Um(c)&&(c=yield*c);return e.xor(c,this.tj)}return this.xa()}hH(){const c=this.Ab;b(this.Pa,c);const h=this.M.Mi().ta;return e.xor(this.Oa.apply(h,c),this.tj)}*zG(){if(this.Wa.gd||this.g.yc())yield this;
if(this.Wa.Of){var c=this.Ab;b(this.Pa,c);const h=this.M.Mi().ta;c=this.Oa.apply(h,c);e.Um(c)&&(c=yield*c);return e.xor(c,this.tj)}return this.xa()}nba(){return!0}*s8(){if(this.Wa.gd||this.g.yc())yield this;return!0}uba(){var c=this.Ab;b(this.Pa,c);c=this.Oa.apply(this.Xc||this.M,c);this.M.kc();return c}*z8(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){var c=this.Ab;b(this.Pa,c);c=this.Oa.apply(this.Xc||this.M,c);e.Um(c)&&(c=yield*c);this.M.kc();return c}return this.xa()}sS(){const c=this.Pa,
h=this.Ab,m=this.M.V();for(let g=0,k=c.length;g<k;++g){const n=c[g];n.ff||(h[g]=n.ga(0))}return m.ac?this.oba(m):this.pba(m)}*t8(){if(this.Wa.gd||this.g.yc())yield this;return this.sS()}JG(c){const h=this.Pa,m=this.Ab;for(let g=0,k=h.length;g<k;++g){const n=h[g];n.ff&&(m[g]=n.ga(c))}}oba(c){const h=this.M,m=h.fb,g=h.$h,k=this.gj,n=0<=k,p=h.ra(),q=this.Fl,u=this.Ab,w=this.Oa,r=this.tj,v=this.kU&&!this.oJ;c.ey();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.JG(A);var y=void 0;n?(y=m?z.J().yo(g):
0,y=w.apply(z.rd[k+y].ta,u)):y=w.apply(z.ta,u);e.xor(y,r)?c.lp(z):v&&c.Cl(z)}h.Ft(!0);c.qe(!1);h.kc();return c.VE()}pba(c){const h=this.M;var m=h.fb;const g=h.$h,k=h.dc(),n=this.gj,p=0<=n,q=this.Fl,u=this.Ab,w=this.Oa,r=this.tj,v=this.kU&&!this.oJ,y=c.H,A=c.hc,G=v&&!this.$d.p2(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.JG(M);var J=void 0;p?(J=m?R.J().yo(g):0,J=w.apply(R.rd[n+J].ta,u)):J=w.apply(R.ta,u);e.xor(J,r)?(H=!0,G?(y.push(R),k&&R.Maa()):(z[F]=R,k&&R.Aca(F),
++F)):G?(z[F]=R,k&&R.zca(F),++F):v&&(A.push(R),k&&R.Laa())}e.hf(z,F);k&&h.Wca(G,F);m=H;G&&!H&&(H=this.Eaa(y));h.Ft(m||v);return v?H:c.VE()}Eaa(c){var h=this.M;const m=h.fb;h=h.$h;const g=this.Fl,k=this.gj,n=0<=k,p=this.Ab,q=this.Oa,u=this.tj;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.JG(r);if(n){const y=m?w.J().yo(h):0;w=q.apply(w.rd[k+y].ta,p)}else w=q.apply(w.ta,p);if(e.xor(w,u))return!0}return!1}ru(c,h){return this.Pa[c].ga(h)}Z_(){const c=this.Pa;if(!c.length)throw Error("no parameters");
return c[0].w9()}ma(){if(!this.Kb||!this.Kb.size)return null;const c={};for(const [h,m]of this.Kb.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(k=>[k[0].cc,k[1].cc,k[2]]));c[h]=g}return{ex:c}}ua(c){this.Kb&&(this.Kb.clear(),this.Kb=null);if(c){var h=this.g,m=c.ex;if(m){c=this.Yj();c.clear();for(const [g,k]of Object.entries(m))m=k,"collmemory"===g&&(m=e.B(e.nu,k.map(n=>[h.Fg(n[0]),h.Fg(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const e=self.C;function b(h,m){for(let g=0,k=h.length;g<k;++g)m[g]=h[g].ga(0)}const a=[],d=function(){},c=function*(){};e.Tx=class extends e.la{constructor(h,m,g){super();this.$d=h;this.g=h=h.I();this.Ta=g;this.mb=4<=m.length?m[3]:-1;this.wA=5<=m.length?m[4]:0;this.Xc=this.M=this.Oa=null;this.gj=-1;this.Jd=null;this.MA="";this.Jl=this.LA=null;this.qb=this.xa=d;this.Pa=[];this.Ab=[];this.Fl=!1;this.si=this.Kb=null;const k=(g=-3===m[0])?m[2]:m[5];this.Wa=h.Jb||g?{gd:k[0],Of:k[1],index:k[2]}:
null;-1===m[0]?(this.Jd=h.Xt(),this.Oa=h.Eh(m[1])):-2===m[0]?this.MA=m[1]:g?(this.Oa=h.Eh(m[1]),this.xa=this.JF,this.qb=this.aZ,this.wA=1):(this.Oa=h.Eh(m[1]),this.M=h.mf(m[0]),m[2]&&(this.Xc=this.M.zy(m[2]),this.gj=this.M.Jt(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Pa.push(e.Me.Ua(this,n,this.Pa.length)),this.Ab.push(0)}0===this.Pa.length&&(this.Ab=this.Pa=a);this.$d.qa().Paa(this)}static Ua(h,m,g){return e.B(e.Tx,h,m,g)}Tb(){for(var h of this.Pa)h.Tb(),h.ff&&(this.Fl=!0);if(this.Jd)this.qH(),
this.qb=this.AG;else if(this.MA)this.Uba(),this.MA="";else if(this.xa===this.JF){h=this.Oa;const m=this.g.qa().mR(this.$d);this.Oa=h.bind(null,this.g.qj,m)}else this.Xc?this.Jg()?(this.xa=this.qS,this.qb=this.p8):(this.xa=this.pS,this.qb=this.o8):this.M.Fb().yn?(this.pH(),this.qb=this.zG):this.Jg()?(this.xa=this.uS,this.qb=this.v8):this.Pa.length?this.Pa.every(m=>m.ff)?(this.xa=this.tS,this.qb=this.u8):this.Fl?(this.xa=this.wS,this.qb=this.x8):this.Pa.every(m=>m.zb)?(b(this.Pa,this.Ab),this.xa=this.gH,
this.qb=this.JQ):(this.xa=this.vS,this.qb=this.w8):(this.xa=this.gH,this.qb=this.JQ)}qH(){this.nv(this.Jd,this.Jd,this.iH)}pH(){const h=this.M.Fb(),m=this.M.Mi().ta;this.nv(h,m,this.hH)}Uba(){const h=this.$d.qa(),m=h.Iy(this.MA);m.Qm()?(this.LA=m.Ke(),this.Jl=[...new Set([...this.$d.Gd(),...this.LA.Gd()])],this.Jl=h.Uz(this.Jl),this.xa=e.bl.prototype.T4.bind(this.LA,this.Jl,this.Pa),this.qb=this.q8):(this.xa=d,this.qb=c)}nv(h,m,g){const k=this.Oa,n=this.Pa;if(0===n.length)this.xa=h.rk(k,m);else if(1===
n.length){const p=n[0];if(p.zb)this.xa=h.cR(k,m,p.ga(0));else{const q=h.rk(k,m);this.xa=function(){return q(p.ga(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.zb&&q.zb)this.xa=h.dR(k,m,p.ga(0),q.ga(0));else{const u=h.rk(k,m);this.xa=function(){return u(p.ga(0),q.ga(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.zb&&q.zb&&u.zb)this.xa=h.eR(k,m,p.ga(0),q.ga(0),u.ga(0));else{const w=h.rk(k,m);this.xa=function(){return w(p.ga(0),q.ga(0),u.ga(0))}}}else this.xa=g}Jg(){return 1===this.wA}rM(){return 2===
this.wA}f1(){return 0!==this.wA}J(){return this.M}Ke(){return this.$d}I(){return this.g}Na(){return this.Ta}fN(){return this.Wa.index}He(){return!this.Wa.gd&&!this.g.yc()&&!this.Wa.Of}Yj(){this.Kb||(this.Kb=new Map);return this.Kb}$t(){this.si||(this.si=new Map);return this.si}iH(){const h=this.Ab;b(this.Pa,h);return this.Oa.apply(this.Jd,h)}*AG(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){const h=this.Ab;b(this.Pa,h);return yield*this.Oa.apply(this.Jd,h)}return this.xa()}*q8(){if(this.Wa.gd||
this.g.yc())yield this;return yield*this.LA.WY(this.Jl,this.Pa)}hH(){const h=this.Ab;b(this.Pa,h);return this.Oa.apply(this.M.Mi().ta,h)}*zG(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){const h=this.Ab;b(this.Pa,h);return yield*this.Oa.apply(this.M.Mi().ta,h)}return this.xa()}gH(){const h=this.Ab,m=this.M.V().ra();for(let g=0,k=m.length;g<k;++g)this.Oa.apply(m[g].ta,h)}*JQ(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){const h=this.Ab,m=this.M.V().ra();for(let g=0,k=m.length;g<k;++g)yield*this.Oa.apply(m[g].ta,
h)}else this.gH()}vS(){const h=this.Ab;b(this.Pa,h);const m=this.M.V().ra();for(let g=0,k=m.length;g<k;++g)this.Oa.apply(m[g].ta,h)}*w8(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){const h=this.Ab;b(this.Pa,h);const m=this.M.V().ra();for(let g=0,k=m.length;g<k;++g)yield*this.Oa.apply(m[g].ta,h)}else this.vS()}tS(){const h=this.Pa,m=this.Ab,g=this.Oa,k=this.M.V().ra();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ga(n);g.apply(q.ta,m)}}*u8(){if(this.Wa.gd||
this.g.yc())yield this;if(this.Wa.Of){const h=this.Pa,m=this.Ab,g=this.Oa,k=this.M.V().ra();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ga(n);yield*g.apply(q.ta,m)}}else this.tS()}wS(){const h=this.Pa,m=this.Ab,g=this.Oa,k=this.M.V().ra();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.ff||(m[p]=n.ga(0))}for(let p=0,q=k.length;p<q;++p){n=k[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.ff&&(m[u]=r.ga(p))}g.apply(n.ta,m)}}*x8(){if(this.Wa.gd||this.g.yc())yield this;
if(this.Wa.Of){const m=this.Pa,g=this.Ab,k=this.Oa,n=this.M.V().ra();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.ff||(g[p]=h.ga(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.ff&&(g[u]=r.ga(p))}yield*k.apply(h.ta,g)}}else this.wS()}pS(){var h=this.M;const m=h.fb,g=h.$h,k=this.Pa,n=this.Fl,p=this.Ab,q=this.Oa,u=this.gj;h=h.V().ra();for(let v=0,y=k.length;v<y;++v){var w=k[v];w.ff||(p[v]=w.ga(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=k.length;A<
G;++A){var r=k[A];r.ff&&(p[A]=r.ga(v))}r=m?w.J().yo(g):0;q.apply(w.rd[u+r].ta,p)}}*o8(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){var h=this.M;const k=h.fb,n=h.$h,p=this.Pa,q=this.Fl,u=this.Ab,w=this.Oa,r=this.gj;h=h.V().ra();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.ff||(u[v]=m.ga(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.ff&&(u[A]=g.ga(v))}g=k?m.J().yo(n):0;yield*w.apply(m.rd[r+g].ta,u)}}else this.pS()}uS(){const h=this.Pa,m=this.Ab,
g=this.Oa,k=this.M.V().ra(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ga(p);n.push(g.apply(u.ta,m))}return Promise.all(n)}*v8(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){const h=this.Pa,m=this.Ab,g=this.Oa,k=this.M.V().ra(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ga(p);n.push(yield*g.apply(u.ta,m))}return Promise.all(n)}return this.uS()}qS(){var h=this.M;const m=h.fb,g=h.$h,k=this.Pa,n=this.Ab,
p=this.Oa,q=this.gj;h=h.V().ra();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ga(w);const y=m?v.J().yo(g):0;u.push(p.apply(v.rd[q+y].ta,n))}return Promise.all(u)}*p8(){if(this.Wa.gd||this.g.yc())yield this;if(this.Wa.Of){var h=this.M;const m=h.fb,g=h.$h,k=this.Pa,n=this.Ab,p=this.Oa,q=this.gj;h=h.V().ra();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ga(w);const y=m?v.J().yo(g):0;u.push(yield*p.apply(v.rd[q+
y].ta,n))}return Promise.all(u)}return this.qS()}async JF(){try{await this.Oa()}catch(h){console.error(`Unhandled exception running script %c${this.$d.ad.Da()}, event ${this.$d.$r}, action ${this.fN()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.vh&&self.vh.nca(this),e.uy.T0()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.uy.D5())}}*aZ(){if(this.Wa.gd||
this.g.yc())yield this;return this.JF()}ma(){return this.Kb&&this.Kb.size?{ex:e.lG(this.Kb)}:null}ua(h){this.Kb&&(this.Kb.clear(),this.Kb=null);h&&(h=h.ex)&&(this.Kb=e.rE(h))}}}
{"use strict";const e=self.C,b=new e.ib;function a(L,O){return e.compare(this.j().N(),L,O)}function d(L,O){return e.compare(this.j().O(),L,O)}function c(){const L=this.j(),O=L.ea();return O.Mq()?L.Qq(O.Ar()):L.cO(O.yg,L.lc().ON(),L.lc().Cf)}function h(){var L=this.j();const O=L.lc();L=L.jd();return 0>L.na||0>L.ka||L.fa>O.S()||L.Y>O.U()}function m(L,O,U){const aa=this.V(),ha=aa.ra();if(!ha.length)return!1;let fa=ha[0];var ja=fa.j();let ua=fa,ka=e.kW(ja.N(),ja.O(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.j(),ja=e.kW(ja.N(),ja.O(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Wm(ua);return!0}function g(L){const O=this.j();O.N()!==L&&(O.hg(L),O.$a())}function k(L){const O=this.j();O.O()!==L&&(O.vf(L),O.$a())}function n(L,O){const U=this.j();U.oE(L,O)||(U.Xi(L,O),U.$a())}function p(L,O){if(L&&(L=L.C0(this.ja))){var [U,aa]=L.Nm(O);O=this.j();if(O.N()!==U||O.O()!==aa)O.Xi(U,aa),O.$a()}}function q(L){if(0!==L){var O=this.j();O.qz(O.yE()*L,O.PE()*L);O.$a()}}function u(L,O){if(0!==
O){var U=this.j();L=e.Za(L);U.qz(Math.cos(L)*O,Math.sin(L)*O);U.$a()}}function w(){return this.j().N()}function r(){return this.j().O()}function v(){return this.g.Ey(this.ja)}function y(L,O){return e.compare(this.j().S(),L,O)}function A(L,O){return e.compare(this.j().U(),L,O)}function G(L){const O=this.j();O.S()!==L&&(O.Qe(L),O.$a())}function z(L){const O=this.j();O.U()!==L&&(O.uf(L),O.$a())}function F(L,O){const U=this.j();if(U.S()!==L||U.U()!==O)U.qd(L,O),U.$a()}function H(){return this.j().S()}
function J(){return this.j().U()}function M(){return this.j().jd().fa}function P(){return this.j().jd().Y}function R(){return this.j().jd().na}function T(){return this.j().jd().ka}function Z(L,O){return e.ct(this.j().oa(),e.Za(O))<=e.Za(L)}function X(L){return e.Nf(this.j().oa(),e.Za(L))}function ba(L,O){L=e.Za(L);O=e.Za(O);const U=this.j().oa();return e.Nf(O,L)?e.Nf(U,L)&&!e.Nf(U,O):!(!e.Nf(U,L)&&e.Nf(U,O))}function Y(L){const O=this.j();L=e.Md(e.Za(L));isNaN(L)||O.oa()===L||(O.od(L),O.$a())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.j();O.od(O.oa()+e.Za(L));O.$a()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.j();O.od(O.oa()-e.Za(L));O.$a()}}function ya(L,O){const U=this.j(),aa=U.oa();L=e.fL(aa,e.Za(O),e.Za(L));isNaN(L)||aa===L||(U.od(L),U.$a())}function Na(L,O,U){const aa=this.j(),ha=aa.oa();O-=aa.N();U-=aa.O();L=e.fL(ha,Math.atan2(U,O),e.Za(L));isNaN(L)||ha===L||(aa.od(L),aa.$a())}function Sa(L,O){const U=this.j(),aa=U.oa();L-=U.N();O-=U.O();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.od(O),U.$a())}function Ta(){return e.Bg(this.j().oa())}
function Ua(L,O){return e.compare(e.UW(100*this.j().ke()),L,O)}function Wa(){return this.j().Tc()}function eb(L){const O=this.j();L=2===L?!O.Tc():0!==L;O.Tc()!==L&&(O.Lh(L),this.g.ia())}function fb(L){L=e.ba(L/100,0,1);const O=this.j();O.ke()!==L&&(O.lk(L),this.g.ia())}function Pa(L){b.ot(L);L=this.j();L.jb.zm(b)||(L.SP(b),this.g.ia())}function Va(){const L=this.j().jb;return e.sz(L.ab,L.eb,L.cb,L.bb)}function ib(){return e.UW(100*this.j().ke())}function Ya(L){return L?this.j().ea()===L:!1}function vb(L){const O=
this.V(),U=O.ra();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.j(),ka=aa.j(),wa=ua.ea().Na(),Ga=ka.ea().Na();if(0===L){if(wa>Ga||wa===Ga&&ua.bk()>ka.bk())aa=ja}else if(wa<Ga||wa===Ga&&ua.bk()<ka.bk())aa=ja}O.Wm(aa);return!0}function wb(L,O,U){const aa=this.j();L=0===L?aa.Xa():aa.qf();return e.compare(L,O,U)}function jb(){this.j().h7()}function xb(){this.j().f7()}function yb(L){L&&this.j().g7(L)}function zb(L,O){L=0===L;O&&(O=O.Fq(this.Fa()))&&this.j().e7(O,
L)}function Ab(L){const O=this.j();O.Xa()!==L&&(O.oe(L),this.g.ia())}function Bb(){return this.j().ea().Na()}function Cb(){return this.j().ea().Da()}function Db(){return this.j().bk()}function kb(){return this.j().Xa()}function Eb(){return this.j().qf()}function Fb(L,O){if(O=this.J().Sa.el(O)){O=O.Na();L=1===L;var U=this.j().ng;U.fu(O)!==L&&(U.vP(O,L),U.Nh(),this.g.ia())}}function Gb(L,O,U){var aa=this.J().Sa.el(L);if(aa){L=aa.Na();var ha=this.j().ng,fa=ha.dl(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.$f().Py(O);if("color"===aa){b.ot(U);O=fa[O];if(b.zm(O))return;O.Ej(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.fu(L)&&this.g.ia()}}}const lb=e.B(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.cc<U.cc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.cc<U.cc?L.vo(O,U):L.vo(U,O)}function qa(L,O,U){return O.cc<U.cc?L.ga(O,U):L.ga(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Fa();const ha=0!==U||0!==aa,fa=L.j(),ja=L.I(),ua=ja.ij;var ka=ja.Uf();
const wa=ka.Ke().Sd;var Ga=ka.J();ka=ka.tj;const Ia=O.V();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.ac?(lb.wa(fa.jd()),lb.offset(U,aa),ua.xE(fa.ea(),O,lb,mb),O=mb):wa?ja.XN()&&!Ia.hc.length&&Ia.H.length?O=Ia.H:(O=Ia.hc,ob=!0):O=Ia.H;ha&&(db=fa.N(),Ha=fa.O(),fa.qz(U,aa),fa.$a());for(const da of O)if(ua.jG(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Xi(db,Ha),fa.$a());e.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.I().Nb().Sd;O=Za.V();const U=O.H,aa=O.hc;O.ac?(O.Fu(Qa),L&&(e.F(aa),
O.hM(Qa,Za.ra()))):L?ob?O.C6(Qa):(O.hM(Qa,U),O.Fu(Qa)):O.Fu(Qa);Za.kc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ve)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.ij,aa=O.qa(),ha=aa.kd();var fa=aa.Uf();const ja=fa.J();var ua=fa.Yj(),ka=fa.$t();fa=ha.lf();const wa=O.Nk,Ga=wa-1,Ia=fa.Nb(),db=ha.Va(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.B(e.nu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Mb().addEventListener("instancedestroy",
Ra=>{Ha.NM(Ra.instance)}));O=L.V();ua=ja.V().ra();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.ac?(U.xE(Ea.j().ea(),L,Ea.j().jd(),Xa),ka=Xa,U.kM(Ea,L,ka)):ka=O.ra();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.jG(Ea,La)||U.uM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Fd(),aa.Ne(ma),na=ja.V(),da=L.V(),na.qe(!1),da.qe(!1),ja===L?(da=na.H,e.F(da),da.push(Ea),da.push(La),ja.kc()):(na=na.H,da=da.H,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.kc(),L.kc()),Ia.Lg(fa,db),aa.Sb(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Ra();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.ij,aa=O.qa(),ha=aa.kd();var fa=aa.Uf();const ja=fa.J();var ua=fa.Yj(),ka=fa.$t();fa=ha.lf();const wa=O.Nk,Ga=wa-1,Ia=fa.Nb(),db=ha.Va(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.B(e.nu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Mb().addEventListener("instancedestroy",Ra=>
{Ha.NM(Ra.instance)}));O=L.V();ua=ja.V().ra();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.ac?(U.xE(Ea.j().ea(),L,Ea.j().jd(),Xa),ka=Xa,U.kM(Ea,L,ka)):ka=O.ra();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.jG(Ea,La)||U.uM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Fd(),aa.Ne(ma),na=ja.V(),da=L.V(),na.qe(!1),da.qe(!1),ja===L?(da=na.H,e.F(da),da.push(Ea),da.push(La),ja.kc()):(na=na.H,da=da.H,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.kc(),L.kc()),yield*Ia.Cg(fa,db),aa.Sb(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Ra();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.j().ck()}function rb(){return this.j().rf()}function sb(L,O){const U=this.V().ra();if(0===U.length)return!1;const aa=L.V();var ha=aa.ra();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Kx())wa.xq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ka(),null===ja)continue}else ja=ja.Yy();ja.xq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Fu(fa);L.kc();return!0}function tb(L,O){const U=this.V().ra();if(0===U.length)return!1;const aa=L.V();var ha=aa.ra();if(aa.ac){var fa=[...this.g.yL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.rf()&&ka.xq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Wk())2===O&&wa.rf()||wa.xq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Fu(fa);L.kc();return!0}function ub(L,O){const U=this.V().ra();if(0===U.length)return!1;const aa=L.V();var ha=aa.ra();if(aa.ac){var fa=[...this.g.yL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].wE(O);null!==ka&&ka.xq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.wu(fa);L.kc();return!0}function gb(L,O){return e.compare(this.ja.By(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.ja,wa=this.g.Nt().J();for(const Ga of L.ZV(ka,wa)){if(!Ga.Fb().BV)break;ka.Fm(Ga,{tt:O,ut:U,uq:aa,tq:ha,qt:fa,wt:ja,yx:ua})}}function l(L){const O=this.ja,U=this.g.Nt().J();for(const aa of L.ZV(O,U))O.hk(aa)}function t(){this.ja.ck()&&this.ja.Ka().hk(this.ja)}function x(){return this.ja.By()}function B(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.xz(),U.$a()):U.gE(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.j();ka.IP(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Sx:fa,kX:ja,nX:ua})&&ka.$a()}function E(){const L=this.j();return L.bg()?L.Zj().Dk:0}function I(){const L=this.j();return L.bg()?L.Zj().Rk:0}function K(L){const O=this.j();L=2===L?!O.Tc():0!==L;O.Tc()!==L&&O.Lh(L)}function N(L,O){this.v5(L,O)}function Q(L,O){this.u5(L,""+O)}function S(L){this.A4(L)}function W(){this.YM()}function V(){this.nM()}function ea(){return this.sI}function ia(L){this.nA(0!==L)}function ca(){return this.pg}
function oa(L,O,U){return e.compare(this.Fa().Le(L),O,U)}function la(L){return!!this.Fa().Le(L)}function ra(L,O){const U=this.V(),aa=U.ra();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Le(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Le(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Wm(fa);return!0}function sa(L){if(this.g.Uf().tj){{const aa=this.V();if(aa.ac){aa.qe(!1);aa.ey();var O=this.ra();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.cc===L?aa.Cl(U):aa.lp(U)}this.kc();
L=!!aa.H.length}else{O=aa.H;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.cc===L?aa.Cl(ja):++U}e.hf(O,U);this.kc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.I().Fg(O);if(!O)return!1;const U=L.V();if(!U.ac&&!U.H.includes(O))return!1;if(L.fb){if(O.J().XD(L))return U.Wm(O),L.kc(),!0}else if(O.J()===L)return U.Wm(O),L.kc(),!0;return!1}function za(){this.g.Hm(this.ja)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Fa().an(L,O)}function Fa(L,
O){const U=this.Fa(),aa=U.Le(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.an(L,aa+O)}function Ja(L,O){const U=this.Fa(),aa=U.Le(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.an(L,aa-O))}function Ka(L,O){this.Fa().an(L,O?1:0)}function Da(L){const O=this.Fa();O.an(L,0===O.Le(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Fa();
L.eA("state");L.Uc(O,"state")}function Ib(){return JSON.stringify(this.Fa().nd("state"))}function nc(){return this.Fa().J().Da()}function oc(){const L=this.g.kf().yI;let O=L.H.length;for(const U of this.g.yL(L))++O;return O}function pc(){return this.g.kf().yI.V().ra().length}function qc(){return this.ja.zo()}function rc(){return this.ja.cc}e.xX=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.L,da=O.Bb,na=O.rb;L[3]&&(ma.Gia=
a,ma.Hia=d,ma.ika=c,ma.jka=h,ma.Gla=m,da.hg=g,da.vf=k,da.Q5=n,da.Boa=p,da.Ska=q,da.Rka=u,na.d7=w,na.mQ=r,na.nW=v);aa&&(ma.Fia=y,ma.uia=A,da.Qe=G,da.uf=z,da.qd=F,na.a7=H,na.k1=J,na.ZX=M,na.$X=P,na.Wha=R,na.Vha=T);ha&&(ma.NX=Z,ma.l2=X,ma.k2=ba,da.od=Y,da.ina=va,da.jna=ta,da.kna=ya,da.lna=Na,da.Eoa=Sa,na.Mha=Ta);fa&&(ma.Tc=Wa,ma.xia=Ua,da.Lh=eb,da.lk=fb,da.q5=Pa,na.Opacity=ib,na.oia=Va);ja&&(ma.gka=Ya,ma.Ola=vb,ma.Iia=wb,da.Vka=jb,da.Tka=xb,da.Uka=yb,da.dqa=zb,da.oe=Ab,na.zka=Bb,na.yka=Cb,na.cqa=Db,
na.bqa=kb,na.qpa=Eb);ua&&(da.Hna=Fb,da.Ina=Gb);Ia&&(ma.ck=Rb,ma.rf=rb,ma.Mla=sb,ma.Fla=tb,ma.Kla=ub,ma.sia=gb,da.Fm=f,da.hk=l,da.oma=t,na.lia=x);db&&(da.roa=B,da.IP=D,na.Oka=E,na.Pka=I);ka&&(ma.Tc=Wa,da.Lh=K,da.Dna=N,da.Kna=Q,da.nma=S);wa&&(ma.Wja=ea,da.Nna=W,da.Cna=V);Ga&&(ma.Qm=ca,da.w5=ia);Ha&&(ma.lla=Nb,ma.kka=Pb,ma.mka=Qb,O.w_=Mb);U||(ma.wM=oa,ma.UN=la,ma.Hla=ra,ma.Z3=sa,da.CP=Ca,da.xha=Fa,da.hpa=Ja,da.l5=Ka,da.mpa=Da,ma.yO=Aa,ma.u3=Ba,da.fZ=za,da.tF||(da.tF=Hb),na.VX||(na.VX=Ib),na.Lia=oc,na.a4=
pc,na.xja=qc,na.H6=rc,na.gla=nc)}}
{"use strict";const e=self.C;e.LF=class extends e.la{constructor(b){super();this.Aa=b;this.Ca="";this.jc=-1;this.Ww="";this.SB=!1;this.nj=null;this.ig=0;this.cf=[];this.gq=new Map;this.Hl=null;this.uv=-1;this.FI=this.Zg=null;this.Vw=!1}A(){this.Ca="";this.jc=-1;this.Ww="";this.FI=this.Zg=this.Hl=this.nj=null;this.uv=-1;e.F(this.cf);for(const b of this.gq.values())b.A();this.gq.clear()}Sg(){var b=this.Aa,a=b.I().Wc;const d=b.kf();this.nj=d.Nb();this.ig=d.ig+1;if(b=b.qE(this.nj))this.Hl=b,this.Zg=b.sY(),
this.FI=b.VI.map(c=>c.ca()),b.Jg()&&(this.uv=b.X3());for(const c of a)if(a=c.V(),!a.ac||this.nj.h1(c))this.cf.push(c),this.gq.set(c,e.B(e.WP,a))}c2(b){this.Ca="timer";this.Sg();this.jc=this.Aa.I().Mm()+b}a2(b){this.Ca="signal";this.Sg();this.Ww=b.toLowerCase()}O1(b){this.Ca="promise";this.Sg();b.then(()=>this.WF()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.WF()})}A2(){return"timer"===this.Ca}y2(){return"signal"===this.Ca}u2(){return"promise"===
this.Ca}WF(){this.SB=!0}LS(){return this.A2()?this.jc<=this.Aa.I().Mm():this.SB}oS(b){b.fH(this.nj,this.ig);for(const [a,d]of this.gq.entries())d.fH(a.V());if(b=this.Hl)b.Bu(this.Zg),b.VI.map((a,d)=>a.Pe(this.FI[d])),b.Jg()&&b.S4(this.uv)}kba(b){this.oS(b);this.nj.jba(b);this.Hl&&this.Hl.Jg()&&this.Hl.ku(this.uv);this.Aa.zq(this.cf);this.Vw=!0}async l8(b){this.oS(b);for(const a of this.nj.k8(b))await this.Aa.I().Aq(a);this.Hl&&this.Hl.Jg()&&this.Hl.ku(this.uv);this.Aa.zq(this.cf);this.Vw=!0}Vo(b){for(const a of this.gq.values())a.Vo(b)}ma(){const b=
{},a={t:this.jc,st:this.Ww,s:this.SB,ev:this.nj.mb,sm:this.cf.map(d=>d.mb),sols:b};this.nj.P9(this.ig)&&(a.act=this.nj.aN(this.ig).mb);for(const [d,c]of this.gq)b[d.mb.toString()]=c.ma();return a}static Q7(b,a){const d=b.I();var c=b.U_(a.ev);if(!c)return null;let h=0;if(a.hasOwnProperty("act")){var m=b.C_(a.act);if(!m)return null;h=m.Na()}m=e.B(e.LF,b);m.jc=a.t;m.Ca=-1===m.jc?"signal":"timer";m.Ww=a.st;m.SB=a.s;m.nj=c;m.ig=h;for(var g of a.sm)(c=d.Oy(g))&&m.cf.push(c);for(const [k,n]of Object.entries(a.sols))if(a=
d.Oy(parseInt(k,10)))g=e.B(e.WP,null),g.ua(b,n),m.gq.set(a,g);return m}}}{"use strict";const e=self.C;e.WP=class extends e.la{constructor(b){super();this.M=null;this.RB=!0;this.H=[];b&&(this.M=b.J(),this.RB=b.ac,e.Sc(this.H,b.H))}A(){this.M=null;e.F(this.H)}fH(b){b.qe(this.RB);e.Sc(b.H,this.H)}Vo(b){e.zg(this.H,b)}ma(){return{sa:this.RB,insts:this.H.map(b=>b.cc)}}ua(b,a){b=b.I();this.RB=!!a.sa;e.F(this.H);for(const d of a.insts)(a=b.Fg(d))&&this.H.push(a)}}}
{"use strict";const e=self.C;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.Xo=class extends e.la{constructor(a){super();this.g=a.Sf;this.yn=!!a.AW;this.Df=!!a.Rfa;this.hea=!!a.Qfa;this.pea=!!a.dga;this.Vda=!!a.Efa;this.BV=!!a.Gga;this.Jea=!!a.Fga;this.oV=null;this.hT=new Map;this.xda=new Map;this.yda=new Map;this.zda=new Map}A(){this.g=null}I(){return this.g}zd(){}Tq(){return this.hea}Vq(){return this.pea}WE(){return this.Vda}rk(a,d){if(!d)throw Error("missing 'this' binding");
let c=this.hT.get(a);if(c)return c;c=a.bind(d);this.hT.set(a,c);return c}cR(a,d,c){if(!d)throw Error("missing 'this' binding");const h=b(this.xda,a);let m=h.get(c);if(m)return m;m=a.bind(d,c);h.set(c,m);return m}dR(a,d,c,h){if(!d)throw Error("missing 'this' binding");var m=b(this.yda,a);m=b(m,c);let g=m.get(h);if(g)return g;g=a.bind(d,c,h);m.set(h,g);return g}eR(a,d,c,h,m){if(!d)throw Error("missing 'this' binding");var g=b(this.zda,a);g=b(g,c);g=b(g,h);let k=g.get(m);if(k)return k;k=a.bind(d,c,h,
m);g.set(m,k);return k}Bca(a){if(!this.yn)throw Error("must be single-global plugin");this.oV=a}Mi(){if(!this.yn)throw Error("must be single-global plugin");return this.oV.Mi()}}}
{"use strict";const e=self.C;e.ona=class extends e.Xo{constructor(b,a){super(b);this.tn=a;this.sea=0;this.WI=new Map;this.gM("elem-focused",d=>d.gaa());this.gM("elem-blurred",d=>{d&&d.faa()})}A(){super.A()}n7(b){const a=this.sea++;this.WI.set(a,b);return a}aba(b){this.WI.delete(b)}gM(b,a){this.g.Bi(this.tn,b,d=>{const c=this.WI.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.C;e.vu=class extends e.la{constructor(b){super();this.M=b;this.g=b.I();this.ki=b.Fb()}A(){this.ki=this.g=this.M=null}J(){return this.M}I(){return this.g}Fb(){return this.ki}Vf(){return this.M.Vf()}Ft(){}Uq(){}Uo(){}rz(){}zF(){}Li(){return null}}}
{"use strict";const e=self.C;e.uu=class extends e.la{constructor(b,a){super();this.ja=b;this.tn=a;this.g=b.I();this.M=this.ja.J();this.Rc=this.M.Rc;this.nm=this.om=null;this.Xl=this.Wl=!1;this.te=null;this.vx=!1}A(){this.vx=!0;this.Hr();this.sA();this.nm=this.om=null;this.te&&(this.te.A(),this.te=null);this.Rc=this.M=this.g=this.ja=null}Pz(){return this.vx}Fa(){return this.ja}I(){return this.g}J(){return this.M}Fb(){return this.Rc.Fb()}Lq(){return this.ja.Dh()}Ga(b){return this.g.Ga(b,this.ja,null)}Se(b){return this.g.Se(b,
this.ja,null)}QD(b,a){this.g.Bi(this.tn,b,a)}zX(b){for(const [a,d]of b)this.QD(a,d)}Db(b,a){this.g.Qo(this.tn,b,a)}Qi(b,a){return this.g.Yq(this.tn,b,a)}eS(b,a){this.g.Sl?this.Db(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.tn,handler:b,data:a,responseId:null})}pe(){}Lu(){}cj(){this.Wl||(this.om||(this.om=()=>this.pe()),this.g.Mb().addEventListener("tick",this.om),this.Wl=!0)}Hr(){this.Wl&&(this.g.Mb().removeEventListener("tick",this.om),this.Wl=!1)}OS(){this.Xl||
(this.nm||(this.nm=()=>this.Lu()),this.g.Mb().addEventListener("tick2",this.nm),this.Xl=!0)}sA(){this.Xl&&(this.g.Mb().removeEventListener("tick2",this.nm),this.Xl=!1)}nd(){return null}Uc(){}Ic(){}Jh(){}vF(b,a){if(0!==a){var d=this.Ic(b);if("number"!==typeof d)throw Error("expected number");this.Jh(b,d+a)}}Li(){return null}jE(b,a,d){const c=this.Lq();b=e.B(e.Event,b,a);b.instance=c;d&&Object.assign(b,d);c.dispatchEvent(b)}}}
{"use strict";const e=self.C;e.KF=class extends e.uu{constructor(b,a){super(b,a);this.Ya=b.j();this.kD=this.Zs=null}A(){if(this.Zs){const b=this.g.Mb();b.removeEventListener("webglcontextlost",this.Zs);b.removeEventListener("webglcontextrestored",this.kD);this.kD=this.Zs=null}this.Ya=null;super.A()}U0(){if(!this.Zs){this.Zs=()=>this.Xq();this.kD=()=>this.KO();var b=this.g.Mb();b.addEventListener("webglcontextlost",this.Zs);b.addEventListener("webglcontextrestored",this.kD)}}Xq(){}KO(){}j(){return this.Ya}Mo(){return!1}Vj(){if(!this.Mo())throw Error("original size not known");
const b=this.Ch();if(b)return b.S()}Uj(){if(!this.Mo())throw Error("original size not known");const b=this.Ch();if(b)return b.U()}Ch(){return null}zE(){var b=this.Ch();return b&&(b=b.me())?[b.S(),b.U()]:[100,100]}AE(){const b=this.Ch();return b?b.$j():null}fF(){const b=this.Ch();return b?b.Np:!1}Nm(){const b=this.ja.j();return[b.N(),b.O()]}br(){return!0}}}
{"use strict";const e=self.C,b=e.B(e.Rect);e.nna=class extends e.KF{constructor(a,d){super(a,d);this.dB=this.Fb().n7(this);this.iU=!0;this.tda=this.sI=!1;this.us=e.B(e.Rect,0,0,-1,-1);a=this.g.$;this.yU=a.fo;this.xU=a.eo;this.cj()}A(){this.Fb().aba(this.dB);this.Zq("destroy");this.dB=-1;super.A()}Zq(a,d){d||(d={});d.elementId=this.dB;this.Db(a,d)}dS(a){a||(a={});a.elementId=this.dB;this.eS("focus",a)}Dz(a){a=!!a;this.iU!==a&&(this.iU=a,this.Zq("set-visible",{isVisible:a}))}pe(){this.bda()}Ica(){const a=
this.g.$.Hy();return"Android"===e.ld.Wq&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}bda(){var a=this.j();const d=a.ea();var c=a.N(),h=a.O();let [m,g]=d.Po(c,h),[k,n]=d.Po(c+a.S(),h+a.U());c=this.g.$;h=c.Yc;const p=c.Mc;if(a.Tc()&&d.Tc()){if(!this.Ica()){if(0>=k||0>=n||m>=h||g>=p){this.Dz(!1);return}1>m&&(m=1);1>g&&(g=1);k>=h&&(k=h-1);n>=p&&(n=p-1)}b.set(m,g,k,n);a=c.fo;h=c.eo;b.wd(this.us)&&this.yU===a&&this.xU===h?this.Dz(!0):(this.us.wa(b),this.yU=a,this.xU=h,this.Dz(!0),a=null,this.tda&&
(a=d.Qj()-.2),this.Zq("update-position",{left:Math.round(this.us.fa)+c.Lt(),top:Math.round(this.us.Y)+c.Mt(),width:Math.round(this.us.width()),height:Math.round(this.us.height()),fontSize:a}))}else this.Dz(!1)}YM(){this.dS({focus:!0})}nM(){this.dS({focus:!1})}gaa(){this.sI=!0}faa(){this.sI=!1}v5(a,d){this.Zq("set-css-style",{prop:e.jY(a),val:d})}u5(a,d){this.Zq("set-attribute",{name:a,val:d})}A4(a){this.Zq("remove-attribute",{name:a})}}}
{"use strict";const e=self.C,b=self.n1;e.iP=class extends e.la{constructor(a){super();this.g=a.Sf;this.PJ=e.B(e.VD);this.pC=e.B(e.VD);this.aw=null;this.Dea=a.eta||null}A(){this.pC.A();this.PJ.A();this.g=null}I(){return this.g}zd(){}o7(a){this.PJ.Hc(a)}tN(){return this.PJ.tE()}Rg(a){this.pC.Hc(a)}mp(a){this.pC.vo(a)}ra(){return this.pC.tE()}g0(){if(null===this.aw){const a=this.Dea;if(a){if(this.aw=new a(this),!(this.aw instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.aw=new b(this)}return this.aw}}}{"use strict";const e=self.C;e.kP=class extends e.la{constructor(b){super();this.g=b.I();this.Xc=b;this.M=b.J();this.fj=b.Im();this.fj.o7(this.M)}A(){this.fj=this.M=this.Xc=this.g=null}Eg(){return this.Xc}J(){return this.M}I(){return this.g}Im(){return this.fj}}}
{"use strict";const e=self.C;e.jP=class extends e.la{constructor(b,a){super();this.IA=b;this.tn=a;this.ja=b.ja;this.g=b.I();this.Xc=b.Eg();this.Rc=this.Xc.Rc;this.mU=this.Xl=this.Wl=!1;this.te=null}A(){this.Hr();this.sA();this.Oca();this.te&&(this.te.A(),this.te=null);this.Rc=this.Xc=this.g=this.ja=this.IA=null}Im(){return this.Xc.Im()}J(){return this.ja.J()}j(){return this.ja.j()}I(){return this.g}Eg(){return this.Xc}Lq(){return this.IA.Lq()}Ga(b){return this.g.Ga(b,this.ja,this.Xc)}Se(b){return this.g.Se(b,
this.ja,this.Xc)}pe(){}Lu(){}cj(){this.Wl||(this.g.i7(this),this.Wl=!0)}Hr(){this.Wl&&(this.g.Yaa(this),this.Wl=!1)}OS(){this.Xl||(this.g.j7(this),this.Xl=!0)}sA(){this.Xl&&(this.g.Zaa(this),this.Xl=!1)}Oca(){this.mU&&(this.g.Xaa(this),this.mU=!1)}QD(b,a){this.g.Bi(this.tn,b,a)}nd(){return null}Uc(){}Ic(){}Jh(){}vF(b,a){if(0!==a){var d=this.Ic(b);if("number"!==typeof d)throw Error("expected number");this.Jh(b,d+a)}}Li(){return null}jE(b,a,d){const c=this.Lq();b=e.B(e.Event,b,a);b.qqa=c;b.instance=
c.instance;d&&Object.assign(b,d);c.dispatchEvent(b)}}}
{"use strict";const e=self.C;e.D={};e.Dd={};e.e4=class extends e.la{constructor(b){super();this.g=b;this.rda=[];this.YU=new Map;this.Jd=null;this.oda=[];this.VH=new Map;this.rU=this.rV=null}SY(b){const a=this.g.Eh(b[0]);if(!a)throw Error("missing plugin");e.xX(b,a);b=e.B(a,{Sf:this.g,AW:b[1],Rfa:b[2],Qfa:b[5],Efa:b[8],dga:b[9],Gga:b[13],Fga:b[14]});b.zd();this.rda.push(b);this.YU.set(a,b)}UY(){this.Jd=e.B(e.D.Ja,{Sf:this.g,AW:!0});this.Jd.zd()}OY(b){b=this.g.Eh(b[1]);if(!b)throw Error("missing behavior");
const a=e.B(b,{Sf:this.g});a.zd();this.oda.push(a);this.VH.set(b,a);!this.rV&&e.Dd.Dga&&a instanceof e.Dd.Dga?this.rV=a:!this.rU&&e.Dd.Tfa&&a instanceof e.Dd.Tfa&&(this.rU=a)}E0(b){return this.YU.get(b)||null}a1(b){return this.VH.has(b)}H_(b){return this.VH.get(b)||null}Xt(){return this.Jd}}}
{"use strict";const e=self.C,b=new Set;e.gz=class extends e.la{constructor(){super();this.Qk="";this.W=this.Z=this.Jw=this.Iw=this.Ls=0;this.Yv=this.Np=!1;this.zf=null;this.mm="";this.sg=e.B(e.Rect);this.bq=e.B(e.Hd);b.add(this)}A(){this.Ri();this.zf=null;b.delete(this)}static Xq(){for(const a of b)a.mm="",a.sg.set(0,0,0,0),a.bq.Jj(a.sg)}nO(a){this.Qk=a[0];this.Ls=a[1];this.Iw=a[2];this.Jw=a[3];this.Z=a[4];this.W=a[5];this.Np=a[6];this.Yv=!0}P2(a,d){if(this.zf)throw Error("already loaded asset");
this.Qk=d;const c={};e.dF(d)&&(c.Hx="remote");this.mO(a,c);return this.zf.lO()}J4(a){if(a===this)throw Error("cannot replace with self");this.Ri();this.Qk=a.Qk;this.Ls=a.Ls;this.Iw=a.Iw;this.Jw=a.Jw;this.Z=a.Z;this.W=a.W;this.Np=a.Np;this.Yv=a.Yv;this.zf=a.zf;this.mm=a.mm;this.sg=a.sg;this.bq=a.bq}Pm(){return this.Ls}S(){return this.Z}U(){return this.W}mO(a,d){if(this.zf)throw Error("already got asset");d=Object.assign({},d,{url:this.Qk,size:this.Pm()});this.zf=a.pz(d)}oF(){return this.zf&&this.zf.oF()}async ju(a,
d){if(!this.zf)throw Error("no asset");if(this.mm)throw Error("already loaded texture");this.mm="loading";a=await this.zf.ju(a,d);if(!a)return this.mm="",null;this.mm="loaded";this.Yv||(this.Z=a.S(),this.W=a.U(),this.Yv=!0);this.sg.set(this.Iw,this.Jw,this.Iw+(this.Np?this.W:this.Z),this.Jw+(this.Np?this.Z:this.W));this.sg.ym(a.S(),a.U());this.bq.Jj(this.sg);this.Np&&this.bq.tga();return a}Ri(){this.mm&&(this.zf&&this.zf.Ri(),this.mm="",this.sg.set(0,0,0,0),this.bq.Jj(this.sg))}me(){return this.zf?
this.zf.me():null}$j(){return this.sg}Wy(){return this.bq}}}
{"use strict";const e=self.C;e.PX=class extends e.la{constructor(b){super();this.La=b[0];this.Fea=b[1];this.NB=!!b[2];this.Ks=b[3];this.iV=b[4];this.gea=!!b[5];this.mb=b[6];this.Rd=b[7].map(a=>e.B(e.OX,a))}A(){for(const b of this.Rd)b.A();e.F(this.Rd)}M2(b){for(const a of this.Rd)a.Vf().mO(b)}N2(b,a){return Promise.all(this.Rd.map(d=>d.Vf().ju(b,a)))}w4(){for(const b of this.Rd)b.Vf().Ri()}Da(){return this.La}Lm(b){b=Math.floor(b);if(0>b||b>=this.Rd.length)throw new RangeError("invalid frame");return this.Rd[b]}kl(){return this.Fea}Hh(){return this.Ks}}}
{"use strict";const e=self.C;e.OX=class extends e.la{constructor(b){super();this.mg=e.B(e.gz);this.mg.nO(b);this.xT=b[7];this.UU=e.B(e.Nu,b[8],b[9]);this.wB=b[10].map(a=>e.B(e.y1,this,a));this.$T=new Map;for(const a of this.wB)this.$T.set(a.Da().toLowerCase(),a);this.tp=null;b=b[11];6<=b.length&&(this.tp=e.B(e.uo,b))}A(){this.tp&&(this.tp.A(),this.tp=null);this.mg.A();this.mg=null}Vf(){return this.mg}hl(){return this.UU.T}il(){return this.UU.R}i0(b){return this.$T.get(b.toLowerCase())||null}h0(b){b=
Math.floor(b);return 0>b||b>=this.wB.length?null:this.wB[b]}JE(){return this.wB.length}}}{"use strict";const e=self.C;e.y1=class extends e.la{constructor(b,a){super();this.La=a[0];this.fK=e.B(e.Nu,a[1],a[2])}A(){}Da(){return this.La}N(){return this.fK.T}O(){return this.fK.R}}}
{"use strict";const e=self.C,b=self.vh,a=self.ez;e.uF=class extends e.la{constructor(d,c,h){super();const m=d.Eh(h[1]);this.g=d;this.ki=d.Zp.E0(m);this.Rc=null;this.AB=m.Instance;this.Ta=c;this.mb=h[11];this.La=h[0];this.uw=this.g.Ji(h[14]);this.eea=!!h[9];this.fb=!!h[2];this.lJ=!!h[10];this.rj=h[3].map(g=>({$W:g[0],type:g[1],name:g[2],Sfa:d.Ji(g[3])}));this.vda=h[4];this.Rda=h[5];this.Df=this.ki.Df;this.Sa=null;this.RA=e.B(e.r6,d.ih,d.hh);this.NH=!0;this.OH=!1;this.BI=this.Bp=null;this.$h=-1;this.AI=
this.iB=this.jB=this.zI=this.Zh=null;this.fJ=!1;this.Vg=null;this.fT=h[8].map(g=>e.lM.Ua(this,g));this.JA=[];this.WH=new Map;this.UH=new Map;this.LV=new Set;this.Nn=e.B(e.o6,this);this.CA=this.BA=this.Od=this.mg=this.Vg=this.Xr=null;this.Rs=0;this.Kb=new Map;this.si=new Map;this.H=[];this.SI=!0;this.ki.WE()&&(this.Sa=e.B(e.al,this,h[12]));h[6]&&(this.mg=e.B(e.gz),this.mg.nO(h[6]));if(h[7]){this.Od=h[7].map(g=>e.B(e.PX,g));this.BA=new Map;this.CA=new Map;for(const g of this.Od)this.BA.set(g.Da().toLowerCase(),
g),this.CA.set(g.mb,g)}this.fb?(this.Bp=[],this.BI=new Set,this.$h=this.g.B9()):(this.Zh=[],this.zI=new Set,this.jB=[],this.iB=[],this.AI=[]);this.Rc=e.B(m.wl,this,h[15]);this.gU=this.cw=null;this.he=e.B(e.Event.Mb);if(c=this.Rc.Li()){if(this.cw=new c(this),!(this.cw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.cw=new a(this);this.g.gD&&!this.fb&&!this.lJ&&this.Df||this.zd();this.ki.yn&&(this.ki.Bca(this),this.Z7(h))}static Ua(d,c,h){return e.B(e.uF,
d,c,h)}A(){this.mg&&(this.mg.A(),this.mg=null);if(this.Od){for(const d of this.Od)d.A();e.F(this.Od);this.BA.clear();this.CA.clear()}this.Nn.A();this.Nn=null;this.Kb.clear();this.si.clear();this.g=this.Vg=null}u$(d){for(let c=1,h=d.length;c<h;++c){const m=this.g.mf(d[c]);this.Bp.push(m);this.BI.add(m);m.Zh.push(this);m.zI.add(this)}}Vba(d){this.fJ=!0;this.Vg=d}dc(){return this.fJ}Z$(){var d=0;if(!this.fb)for(var c of this.Zh)for(var h of c.fT){const k=h.Da().toLowerCase();this.WH.set(k,h);this.UH.set(k,
d);this.JA.push(h);++d}for(var m of this.fT)c=m.Da().toLowerCase(),this.WH.set(c,m),this.UH.set(c,d),this.JA.push(m),++d;for(var g of this.JA)this.LV.add(g.Im().constructor);if(!this.fb&&this.Zh.length){d=this.g.CT;e.tD(this.jB,d,0);e.tD(this.iB,d,0);e.tD(this.AI,d,0);d=[];c=g=m=0;for(const k of this.Zh)if(h=k.$h,this.jB[h]=m,m+=k.rj.length,this.iB[h]=g,g+=k.vda,this.AI[h]=c,c+=k.Rda,(h=k.Sa)&&this.Sa)for(const n of h.Dg())d.push(n.AY(this.Sa));this.Sa&&this.Sa.l4(d)}}Z7(d){const c=this.g.A9(),h=
e.B(e.Instance,{Sf:this.g,KL:this,uid:c});h.Sz(d[16],[]);this.g.M$(c,h);this.H.push(h)}zd(){this.fb||this.Rc.zd()}e1(){return 0<this.Rs}Uq(d){if(this.fb)return Promise.resolve();this.Rs++;return 1===this.Rs?this.Rc.Uq(d)||Promise.resolve():Promise.resolve()}Uo(){if(!this.fb){this.Rs--;if(0>this.Rs)throw Error("released textures too many times");0===this.Rs&&this.Rc.Uo()}}rz(){if(this.fb)throw Error("not applicable to family");this.Rc.rz()}zF(d){return this.fb?Promise.resolve():this.Rc.zF(d)}I(){return this.g}Fb(){return this.ki}Da(){return this.La}Ji(){return this.uw}Na(){return this.Ta}dg(){return this.eea}fQ(d){return d&&
this.LV.has(d)}o0(){return this.rj.map(d=>d.$W)}n0(d){return this.rj.findIndex(c=>c.$W===d)}m0(d){return this.rj.findIndex(c=>c.name===d)}r9(){return this.rj.map(d=>d.Sfa)}Tt(d){d=Math.floor(d);if(0>d||d>=this.rj.length)throw new RangeError("invalid instance variable index");return this.rj[d].type}oN(d){d=Math.floor(d);if(0>d||d>=this.rj.length)throw new RangeError("invalid instance variable index");return this.rj[d].name}zy(d){return this.WH.get(d.toLowerCase())||null}Jt(d){d=this.UH.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}WE(){return this.ki.WE()}gQ(){return this.Sa&&this.Sa.W0()}V(){return this.Nn.V()}Vf(){return this.mg}tP(d){this.Xr=d}XD(d){return this.zI.has(d)}VM(d){return this.BI.has(d)}yo(d){return this.iB[d]}FE(d){return this.jB[d]}bN(d){if(!this.Od)throw Error("no animations");return this.BA.get(d.toLowerCase())||null}F_(d){if(!this.Od)throw Error("no animations");return this.CA.get(d)||null}b0(){if(!this.Od)throw Error("no animations");return this.Od[0].Lm(0)}Q_(){if(this.Od){const d=
this.b0().Vf();return[d.S(),d.U()]}return this.mg?[this.mg.S(),this.mg.U()]:[100,100]}Mi(){if(!this.ki.yn)throw Error("not a single-global plugin");return this.H[0]}ra(){return this.H}*wW(){yield*this.H}*Ifa(){yield*this.H;for(const d of this.g.Rl)d.J()===this&&(yield d)}Rg(d){this.H.push(d)}jv(){this.SI=!0}vA(){if(this.SI&&!this.fb){var d=this.H,c=0;for(let h=d.length;c<h;++c)d[c].CS(c);d=this.g.Rl;for(const h of d)h.J()===this&&h.CS(c++);this.SI=!1}}nN(d){var c=this.H;if(d<c.length)return c[d];
d-=c.length;c=this.g.Rl;for(const h of c)if(h.J()===this){if(0===d)return h;--d}return null}Fq(d){if(d&&d.dc()&&d.J()!==this)for(const c of d.Id)if(c.J()===this)return c;d=this.V().ra();return d.length?d[0]:null}C0(d){const c=this.V().ra();return 0<c.length?c[d.zo()%c.length]:null}*ZV(d,c){const h=this.V().ra();var m=h.length;const g=c.V(),k=c.V().ra(),n=k.length;var p=d.zo();if(c.fb||!g.ac)p=k.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Ft(d){this.Rc.Ft(d)}kc(){if(this.fJ&&
!this.fb){this.vA();var d=this.V(),c=d.H,h=d.ac,m=this.g.kf();m=m&&m.Nb()&&m.Nb().Sd;for(const n of this.Vg.fm)if(n!==this){n.vA();var g=n.V();g.qe(h);if(!h){var k=g.H;e.F(k);for(const p of c)k.push(n.nN(p.zo()));if(m){k=d.hc;g=g.hc;e.F(g);for(const p of k)g.push(n.nN(p.zo()))}}}}}Wca(d,c){for(const h of this.Vg.fm){const m=h.V();d?e.hf(m.hc,c):e.hf(m.H,c)}}yS(){this.NH=!0}kH(d){this.OH=!!d}TS(){if(this.NH&&this.Df){for(const d of this.H)d.j().WS();for(const d of this.g.Rl)d.J()===this&&d.j().WS();
this.NH=!1}}Yj(){this.Kb||(this.Kb=new Map);return this.Kb}$t(){this.si||(this.si=new Map);return this.si}MN(){return this.fQ(e.Dd.$ka)}XE(){return this.fQ(e.Dd.Bla)}ma(){const d={instances:this.H.map(c=>c.nd())};this.Kb&&this.Kb.size&&(d.ex=e.lG(this.Kb));return d}ua(d){this.Kb&&(this.Kb.clear(),this.Kb=null);var c=d.ex;c&&(this.Kb=e.rE(c));c=this.H;d=d.instances;for(let h=0,m=Math.min(c.length,d.length);h<m;++h)c[h].Uc(d[h]);for(let h=d.length,m=c.length;h<m;++h)this.g.Hm(c[h]);for(let h=c.length,
m=d.length;h<m;++h){c=d[h];let g=null;if(this.Df&&(g=this.g.Wb().Ly(c.w.l),!g))continue;this.g.Ei(this.Xr||this,g,!1,0,0,!0).Uc(c)}this.jv()}zh(d){var c=this.g;(c=c.Jb&&!c.qa().kz())&&b.gG();this.he.dispatchEvent(d);c&&b.TD()}}}{"use strict";const e=self.C;e.IY=class extends e.la{constructor(b,a){super();this.g=b;this.fm=a;for(const d of this.fm)d.Vba(this)}A(){this.g=null}I(){return this.g}$0(){return this.fm.some(b=>b.Df)}}}
{"use strict";const e=self.C,b=self.vh,a=self.du,d=[];let c=0;const h=new WeakMap,m=new WeakMap;e.Instance=class extends e.la{constructor(g){super();this.g=g.Sf;this.ae=g.KL;this.ue=this.ta=this.Ya=null;this.YT=0;this.cc=g.uid;this.dV=c++;this.Ea=0;this.rd=this.$e=d;var k=this.ae.JA;0<k.length&&(this.rd=k.map((n,p)=>e.B(e.Vx,{Sf:this.g,gL:n,instance:this,index:p})));this.Id=this.ae.dc()?[]:null;this.Kd=-1;this.Yb=null;k=this.Fb();k.Vq()&&(this.Ea|=4);if(k.Df)if(this.Ya=e.B(e.b7,this,g.FW),g.pX)this.Ya.Hg(g.pX);
else{this.Ya.N1();const [n,p]=this.ae.Q_();this.Ya.qd(n,p);this.J().gQ()&&this.Ya.ng.O2()}g.vW?this.y$(g.vW):this.s$()}A(){this.ue&&(this.ue.hv(),this.ue=null);if(0<this.rd.length){for(var g of this.rd)g.A();e.F(this.rd)}this.ta.A();this.ta=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.Id&&e.F(this.Id);this.Yb&&(this.Yb.A(),this.Yb=null);this.ae=this.g=null;0<this.$e.length&&e.F(this.$e);this.Ya&&(this.Ya.A(),this.Ya=null)}y$(g){0<g.length&&(this.$e=
[],e.Sc(this.$e,g))}s$(){const g=this.ae.rj.length;if(0!==g){this.$e=[];var k=[0,0,""];for(let n=0;n<g;++n)this.$e.push(k[this.ae.Tt(n)])}}Sz(g,k){if(this.ta)throw Error("already got sdk instance");for(let n=0,p=this.rd.length;n<p;++n)this.rd[n].Sz(k?k[n]:null);this.ta=e.B(this.ae.AB,this,g);if(!(this.ta instanceof e.uu))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.rd.length;n<p;++n);this.ae.gU&&this.CR()}j(){return this.Ya}I(){return this.g}D_(){const g=this.Kd;return-1===
g?this.I().Kd:g}ZF(g){g=+g;if(0>g||!isFinite(g))g=0;this.Kd=g}R4(){this.Kd=-1}Mb(){this.Yb||(this.Yb=e.B(e.Event.Mb));return this.Yb}Ah(g){this.ta.Ah(g)}zd(g){this.ta.zd(g)}jca(){this.Ea|=2}ml(){return 0!==(this.Ea&2)}XG(){this.Ea|=1}eu(){return 0!==(this.Ea&1)}Vq(){return 0!==(this.Ea&4)}sO(){return 0!==(this.Ea&32)}Au(g,k){g<<=16;this.Ea=k?this.Ea|g:this.Ea&~g}GE(g){return 0!==(this.Ea&g<<16)}Ch(){return this.ta.Ch()}zE(){return this.ta.zE()}AE(){return this.ta.AE()}fF(){return this.ta.fF()}Nm(g){return this.ta.Nm(g)}J(){return this.ae}br(){return this.ta.br()}xq(g){return g.fb?
g.VM(this.J()):this.J()===g}hQ(){if(!this.Fb().BV)throw Error("object does not support scene graph");}ck(){return null!==this.Ka()}Ka(){var g=this.j();return g?(g=g.Ka())?g.Fa():null:null}Yy(){var g=this.j();return g?(g=g.Yy())?g.Fa():null:null}*Kx(){const g=this.j();if(g)for(const k of g.Kx())yield k.Fa()}rf(){const g=this.j();return g?g.rf():!1}jf(){const g=this.j();return g?g.jf().map(k=>k.Fa()):[]}*children(){const g=this.j();if(g)for(const k of g.children())yield k.Fa()}*Wk(){const g=this.j();
if(g)for(const k of g.Wk())yield k.Fa()}By(){const g=this.j();return g?g.By():0}wE(g){const k=this.j();return k?(g=k.wE(g))?g.Fa():null:null}Fm(g,k){this.hQ();g.hQ();this.j().Fm(g.j(),k||{})}hk(g){const k=this.j();k&&k.hk(g.j())}Dy(){const g=this.j();return g?g.Dy():!1}k6(){var g=this.j();if(g&&(g=g.xN()))for(const k of g)if(g=this.g.Fg(k[2])){const n=k[3];this.Fm(g,{tt:!!(n>>0&1),ut:!!(n>>1&1),uq:!!(n>>2&1),tq:!!(n>>3&1),qt:!!(n>>4&1),yx:!!(n>>5&1),wt:!!(n>>6&1)})}}dc(){return null!==this.Id}xr(g){this.Id.push(g)}g1(g){return!!this.DN(g)}DN(g){const k=
this.Id;if(null===k||0===k.length)return!1;for(const n of k)if(n.J()===g)return n;return null}Wi(){for(const g of this.Id)g.J().V().mk(g)}Maa(){for(const g of this.Id)g.J().V().lp(g)}Aca(g){for(const k of this.Id)k.J().V().H[g]=k}Laa(){for(const g of this.Id)g.J().V().Cl(g)}zca(g){for(const k of this.Id)k.J().V().hc[g]=k}Fb(){return this.ae.Fb()}CS(g){this.YT=g}zo(){this.ae.vA();return this.YT}cN(g){const k=this.rd;for(let n=0,p=k.length;n<p;++n)if(k[n].Eg().mb===g)return n;return-1}Le(g){g|=0;const k=
this.$e;if(0>g||g>=k.length)throw new RangeError("invalid instance variable");return k[g]}jR(g){return this.$e[g]}y9(g){const k=this.$e[g];return 0===this.ae.Tt(g)?!!k:k}an(g,k){g|=0;const n=this.$e;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.ae.Tt(g)){case 0:n[g]=k?1:0;break;case 1:n[g]="number"===typeof k?k:parseFloat(k);break;case 2:n[g]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}H5(g,k){if(0!==k){g|=0;
var n=this.$e;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof k?n[g]+k:n[g]+parseFloat(k);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Yj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}$t(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,
g);return g}wR(g){const k=this.J();if(k.he.UE(g))return!0;for(const n of k.Zh)if(n.he.UE(g))return!0;return this.g.he.UE(g)?!0:!1}uA(){const g=new Set;g.add(this);const k=this.j();if(k&&k.rf())for(const n of this.Wk())if(g.add(n),n.dc())for(const p of n.Id)g.add(p);if(this.dc())for(const n of this.Id)g.add(n);for(const n of g.values())n.QS()}QS(){if(this.wR("instancecreate")){const g=this.J(),k=new e.Event("instancecreate");k.instance=this.Dh();g.zh(k);for(const n of g.Zh)n.zh(k);this.g.zh(k)}this.g.Ga(this.Fb().constructor.L.yO,
this,null)}Uca(){this.g.Ga(this.Fb().constructor.L.u3,this,null)}h9(g){if(this.ue){var k=new e.Event("destroy");k.Nfa=g;this.zh(k)}if(this.wR("instancedestroy")){k=this.J();var n=new e.Event("instancedestroy");n.instance=this.Dh();n.Nfa=g;k.zh(n);for(const p of k.Zh)p.zh(n);this.g.zh(n)}}nd(g="full"){const k={};"full"===g?k.uid=this.cc:k.c3=!0;if("visual-state"!==g){var n=h.get(this);n&&n.size&&(k.ex=e.lG(n));-1!==this.Kd&&(k.mts=this.Kd);if(0<this.ae.rj.length){n={};var p=this.ae.o0();for(let q=
0,u=this.$e.length;q<u;++q)n[p[q].toString()]=this.$e[q];k.ivs=n}if(this.rd.length){n={};for(const q of this.rd)(p=q.nd())&&(n[q.Eg().mb.toString()]=p);k.behs=n}}this.Ya&&(k.w=this.Ya.ma(g));(g=this.ta.nd())&&(k.data=g);return k}eA(g="full"){this.Ya&&this.Ya.eA(g)}Uc(g,k="full"){if("full"===k)this.cc=g.uid;else if(!g.c3)return;if("visual-state"!==k){var n=h.get(this);n&&(n.clear(),h.delete(this));if(n=g.ex)n=e.rE(n),h.set(this,n);this.Kd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=
this.ae.n0(parseInt(u,10)),!(0>n||n>=this.$e.length)){var p=w;null===p&&(p=NaN);this.$e[n]=p}}if(this.Fb().Df){n=g.w;var q=n.l;this.Ya.ea().mb!==q&&(p=this.Ya.ea(),(q=p.lc().Ly(q))?(this.Ya.kv(q),p.mp(this,!0),q.Rg(this,!0),q.Pg(),this.Ya.$a()):"full"===k&&this.g.Hm(this));this.Ya.ua(n,k)}if("visual-state"!==k&&(k=g.behs))for(const [u,w]of Object.entries(k))k=this.cN(parseInt(u,10)),0>k||k>=this.rd.length||this.rd[k].Uc(w);(g=g.data)&&this.ta.Uc(g)}Dh(){return this.ue||this.CR()}CR(){var g=this.Ya?
self.fz:a;const k=this.ta.Li(),n=this.ae.gU,p=n||k||g;a.Sg(this);this.ue=new p;a.Sg(null);if(k&&!(this.ue instanceof g))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${g.name}'`);if(n&&(g=k||g,!(this.ue instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.ue}x9(g){if(0!==this.$e.length){var k={},n=this.ae.r9();for(let p=0,q=n.length;p<q;++p)k[n[p]]={configurable:!1,enumerable:!0,
get:e.Instance.prototype.y9.bind(this,p),set:e.Instance.prototype.an.bind(this,p)};k=Object.create(Object.prototype,k);g.Cra={value:k,writable:!1}}}s9(g){var k=this.rd;if(0!==k.length){var n={};for(const p of k)n[p.Eg().Ji()]={value:p.Lq(),writable:!1};k=Object.create(Object.prototype,n);g.wx={value:k,writable:!1}}}zh(g){g.instance=this.Dh();var k=this.g;(k=k.Jb&&!k.qa().kz())&&b.gG();this.Dh().dispatchEvent(g);k&&b.TD()}}}
{"use strict";const e=self.C;e.a5=class extends e.la{constructor(b){super();this.$b=b;this.Fc=null;this.PA=[];this.TC=b.S();this.SC=b.U();this.EK=this.DK=1;this.uC=0}A(){this.Fc=null;e.F(this.PA)}MP(b){this.uC=(this.Fc=b)?b.oa():0}Ka(){return this.Fc}rf(){return 0<this.PA.length}jf(){return this.PA}T5(b){this.DK=b}U5(b){this.EK=b}Wj(){return this.$b.Do()?this.Fc.S()/this.Fc.Qb.TC:1}Xj(){return this.$b.Co()?this.Fc.U()/this.Fc.Qb.SC:1}ma(){return{sw:this.TC,sh:this.SC,sx:this.DK,sy:this.EK,psa:this.uC,
c:this.PA.map(b=>{let a="";b.Eo()&&(a+="x");b.Fo()&&(a+="y");b.Do()&&(a+="w");b.Co()&&(a+="h");b.Zy()&&(a+="a");b.$y()&&(a+="z");b.Dy()&&(a+="d");return{uid:b.Fa().cc,f:a}})}}ua(b){this.TC=b.sw;this.SC=b.sh;this.DK=b.sx;this.EK=b.sy;this.uC=b.psa}kp(b){const a=this.$b,d=a.I();for(const c of b.c){b=d.Fg(c.uid).j();const h=c.f,m={};m.tt=h.includes("x");m.ut=h.includes("y");m.uq=h.includes("w");m.tq=h.includes("h");m.qt=h.includes("a");m.wt=h.includes("z");m.yx=h.includes("d");a.Fm(b,m)}}}}
{"use strict";const e=self.C,b=e.B(e.Rect),a=e.B(e.Hd),d=e.B(e.Event,"bboxchange",!1),c=e.B(e.ib,0,0,0,0),h=e.B(e.uo),m=e.B(e.ib,1,1,1,1),g=e.B(e.Rect,0,0,-1,-1),k=e.B(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;e.b7=class extends e.la{constructor(r,v){super();this.ja=r;this.M=r.J();this.g=r.I();this.Ik=v;this.Vk=-1;this.Ea=196635;this.M.Fb().Tq()&&(this.Ea|=128);this.Es=this.Ds=this.jI=this.tK=this.bb=this.Zc=this.$g=this.rh=this.fd=this.R=
this.T=NaN;this.aI=e.B(e.Rect);this.bI=e.B(e.Hd);this.QA=k;this.Ow=g;this.Aj=this.Us=this.PC=null;this.vp=this.jb=m;this.ng=this.iq=null;this.ja.J().gQ()&&(this.ng=e.B(e.e2,this.ja,this));this.ji=this.Qb=null}XG(){this.Ea|=256}A(){this.iq&&(this.g.sb().UO(this.iq),this.iq=null);this.PC=null;this.Us&&(this.Us.NW.A(),this.Us=null);this.Aj&&(this.Aj.clear(),this.Aj=null);this.xz();this.ck()&&this.Ka().hk(this);if(this.rf()){const r=[...this.jf()];for(const v of r)this.hk(v)}this.hA();this.Ik=this.g=
this.M=this.ja=null}Hg(r){q=!1;this.Xi(r[0],r[1]);this.oe(r[2]);this.qd(r[3],r[4]);this.Zc=0;this.Tq()?this.od(r[6]):this.bb=0;c.Cm(r[7]);this.jA(c);this.lr(r[8]);this.mr(r[9]);this.fg(r[10]);this.ng&&this.ng.t$(r[12]);r[14]&&u.set(this,{bfa:r[14][1],Yga:r[14][2]});if(r[15]){var v=r[15];this.gE(v[0],v[1]);r=this.Zj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Hq(z,y);J.hg(H[0]);J.vf(H[1]);J.oe(H[2]);J.$F(H[3]);J.aG(H[4])}}}q=!0;this.Ir()}N1(){this.tK=
this.bb=this.Zc=this.$g=this.rh=this.fd=this.R=this.T=0;this.jI=1;this.Es=this.Ds=0;this.Ir()}I(){return this.g}J(){return this.M}Fa(){return this.ja}Uu(){return this.Zy()?this.Ka().oa()-this.Qb.uC:0}hg(r){r=+r;if(this.Eo()){const v=this.Qb;r-=this.N();const y=-this.Uu();0===y?this.T+=r/v.Wj():(this.T+=Math.cos(y)*r/v.Wj(),this.Fo()&&(this.R+=Math.sin(y)*r/v.Xj()))}else this.T=r}n3(r){r=+r;this.Eo()?this.hg(this.N()+r):this.T+=r}N(){if(this.Eo()){let r=this.T;const v=this.Qb,y=this.Ka(),A=this.Uu();
0===A?r*=v.Wj():(r=r*v.Wj()*Math.cos(A),this.Fo()&&(r-=this.R*v.Xj()*Math.sin(A)));return y.N()+r}return this.T}vf(r){r=+r;if(this.Fo()){const v=this.Qb;r-=this.O();const y=-this.Uu();0===y?this.R+=r/v.Xj():(this.Eo()&&(this.T-=Math.sin(y)*r/v.Wj()),this.R+=Math.cos(y)*r/v.Xj())}else this.R=r}o3(r){r=+r;this.Fo()?this.vf(this.O()+r):this.R+=r}O(){if(this.Fo()){let r=this.R;const v=this.Qb,y=this.Ka(),A=this.Uu();0===A?r*=v.Xj():(r=r*v.Xj()*Math.cos(A),this.Eo()&&(r+=this.T*v.Wj()*Math.sin(A)));return y.O()+
r}return this.R}Xi(r,v){r=+r;v=+v;if(this.HN()){const A=this.Eo(),G=this.Fo(),z=this.Qb,F=r-this.N(),H=v-this.O();var y=-this.Uu();if(0===y)this.T=A?this.T+F/z.Wj():r,this.R=G?this.R+H/z.Xj():v;else{const J=Math.sin(y);y=Math.cos(y);this.T=A?G?this.T+(y*F-J*H)/z.Wj():this.T+y*F/z.Wj():r;this.R=G?A?this.R+(J*F+y*H)/z.Xj():this.R+y*H/z.Xj():v}}else this.T=r,this.R=v}qz(r,v){r=+r;v=+v;this.HN()?this.Xi(this.N()+r,this.O()+v):(this.T+=r,this.R+=v)}oE(r,v){return this.N()===r&&this.O()===v}oe(r){r=+r;
this.$y()&&(r-=this.Ka().Xa());this.fd!==r&&(this.fd=r,this.$S(),r=this.ea(),0!==this.fd&&r.zS(),r.Pg())}$S(){this.Ir();if(this.rf()){const r=this.jf();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.$y()&&A.$S()}}}p3(r){this.oe(this.Xa()+r)}Xa(){return this.$y()?this.Ka().Xa()+this.fd:this.fd}qf(){return this.ea().Xa()+this.Xa()}Qe(r){r=+r;if(this.Do()){const v=this.S();this.rh=0===v?1E-6:r/v*this.rh}else this.rh=r}wO(r){r=+r;this.Do()?this.Qe(this.S()+r):this.rh+=r}S(){return this.Do()?this.Ka().S()*
this.rh:this.rh}uf(r){r=+r;if(this.Co()){const v=this.U();this.$g=0===v?1E-6:r/v*this.$g}else this.$g=r}vO(r){r=+r;this.Co()?this.uf(this.U()+r):this.$g+=r}U(){return this.Co()?this.Ka().U()*this.$g:this.$g}qd(r,v){r=+r;v=+v;if(this.Do()){const y=this.S();this.rh=0===y?1E-6:r/y*this.rh}else this.rh=r;this.Co()?(r=this.U(),this.$g=0===r?1E-6:v/r*this.$g):this.$g=v}J0(){if(this.ck()){const r=this.Qb;return Math.min(r.Wj(),r.Xj())}return 1}Tq(){return 0!==(this.Ea&128)}od(r){r=+r;this.Tq()&&(this.Zy()&&
(r-=this.Ka().oa()),r=e.Md(r),this.bb!==r&&(this.bb=r,this.YG()))}j3(r){r=+r;0!==r&&this.Tq()&&(this.bb=e.Md(this.bb+r),this.YG())}YG(){this.Ea|=262144;if(this.rf()){const r=this.jf();for(let v=0,y=r.length;v<y;v++)r[v].YG()}}oa(){return this.Zy()?e.Md(this.Ka().oa()+this.bb):this.bb}TR(){const r=this.Ea;if(0!==(r&262144)){var v=this.oa();this.tK=Math.sin(v);this.jI=Math.cos(v);this.Ea=r&-262145}}PE(){this.TR();return this.tK}yE(){this.TR();return this.jI}lr(r){this.Ds=+r}l3(r){this.Ds+=+r}hl(){return this.Ds}mr(r){this.Es=
+r}m3(r){this.Es+=+r}il(){return this.Es}jA(r){this.jb.wd(r)||(this.jb===m?(this.jb=e.B(e.ib,r),this.vp=e.B(e.ib,r),this.vp.QL()):r.sD(1,1,1,1)?this.vp=this.jb=m:(this.jb.set(r),this.vp.set(r),this.vp.QL()),this.Ir())}lk(r){r=e.ba(+r,0,1);this.jb.sq!==r&&(c.Ej(this.jb),c.sq=r,this.jA(c))}k3(r){this.lk(this.ke()+r)}ke(){return this.jb.sq}SP(r){this.jb.zm(r)||(c.Ej(r),c.sq=this.jb.sq,this.jA(c))}f6(r,v,y){c.pt(r,v,y);this.SP(c)}NE(){return this.vp}Dy(){return 0!==(this.Ea&512)}r5(r){this.Ve(512,r)}Eo(){return 0!==
(this.Ea&1024)}a6(r){this.Ve(1024,r)}Fo(){return 0!==(this.Ea&2048)}HN(){return 0!==(this.Ea&3072)}b6(r){this.Ve(2048,r)}Do(){return 0!==(this.Ea&4096)}Z5(r){this.Ve(4096,r)}Co(){return 0!==(this.Ea&8192)}Y5(r){this.Ve(8192,r)}Zy(){return 0!==(this.Ea&16384)}X5(r){this.Ve(16384,r)}$y(){return 0!==(this.Ea&32768)}c6(r){this.Ve(32768,r)}CQ(){this.Ea&=-65025}Fm(r,v){if(r!==this&&!r.ck()&&!this.yR(r)&&!this.xR(r)){var y=r.N(),A=r.O(),G=r.S(),z=r.U(),F=r.oa(),H=r.Xa();r.FS(this);r.a6(v.tt);r.b6(v.ut);
r.Z5(v.uq);r.Y5(v.tq);r.X5(v.qt);r.c6(v.wt);r.r5(v.yx);v.tt&&(r.T=y-this.N(),v.uq&&(r.T/=this.S()/this.Qb.TC));v.ut&&(r.R=A-this.O(),v.tq&&(r.R/=this.U()/this.Qb.SC));v.uq&&(r.rh=G/this.S(),r.Qb.T5(r.rh));v.tq&&(r.$g=z/this.U(),r.Qb.U5(r.$g));v.qt&&(r.bb=F-this.oa());v.wt&&(r.fd=H-this.Xa());this.k7(r);this.$a()}}hk(r){if(r.Ka()===this){var v=r.N(),y=r.O(),A=r.S(),G=r.U(),z=r.oa(),F=r.Xa();r.FS(null);r.CQ();r.Xi(v,y);r.qd(A,G);r.od(z);r.oe(F);this.$aa(r);this.$a()}}hba(){for(var r of this.children())this.hk(r);
(r=this.Ka())&&r.hk(this);this.CQ()}ck(){return null!==this.Ka()}Ka(){const r=this.Qb;return null!==r?r.Ka():null}Yy(){let r=this;for(;r.ck();)r=r.Ka();return r}*Kx(){let r=this.Ka();for(;r;)yield r,r=r.Ka()}b1(r){return this.jf().includes(r)}rf(){const r=this.Qb;return null!==r?r.rf():!1}jf(){const r=this.Qb;return null!==r?r.jf():p}children(){return this.jf()}*Wk(){for(const r of this.children())yield r,yield*r.Wk()}By(){return this.jf().length}wE(r){const v=this.jf();r=Math.floor(+r);return 0>
r||r>=v.length?null:v[r]}wG(r){this.Qb||(this.Qb=e.B(e.a5,this));r&&this.Qb.MP(r)}hA(){this.Qb&&(this.Qb.A(),this.Qb=null)}FS(r){r?(r.wG(null),this.wG(r)):(this.Qb&&this.Qb.MP(null),this.rf()||this.hA())}xR(r){if(!this.ck())return!1;const v=this.Ka();return v===r?!0:v.xR(r)}yR(r){if(this.b1(r))return!0;for(const v of this.jf())if(v.yR(r))return!0;return!1}k7(r){this.Qb.jf().push(r)}$aa(r){const v=this.Qb.jf(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.ck()||this.hA();r.rf()||r.hA()}xN(){const r=
u.get(this);return r?r.bfa:null}K0(){const r=u.get(this);return r?r.Yga:NaN}Jq(){return w.get(this)||NaN}VF(r){w.set(this,r)}Ir(){if(q){var r=this.g.sb();this.iq&&r.UO(this.iq);this.iq=r.vX(0!==(this.Ea&524288)?r.QC||"<point>":r.RC||"<default>",this.Nj(),this.vp,this.Xa())}}Nq(){return this.jb===m}fg(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Nj()!==r&&(this.Ea=this.Ea&-2080374785|r<<26,this.Ir())}Nj(){return(this.Ea&2080374784)>>26}kv(r){this.Ik=r;0!==this.Xa()&&this.Ik.zS()}ea(){return this.Ik}lc(){return this.ea().lc()}rA(r){this.Vk=
r|0}bk(){this.Ik.qv();return this.Vk}Ve(r,v){this.Ea=v?this.Ea|r:this.Ea&~r}Tc(){return 0!==(this.Ea&1)}Lh(r){this.Ve(1,r)}Ni(){return 0!==(this.Ea&8)}xu(r){r=!!r;this.Ni()!==r&&(this.Ve(8,r),r?this.$a():this.jS())}XF(r,v){this.Ve(32,r);this.Aj&&this.Aj.clear();if(v.trim()){this.Aj||(this.Aj=new Set);for(const y of v.split(" "))y&&this.Aj.add(y.toLowerCase())}else this.Aj=null}$a(){this.Ea|=65554;this.M.yS();this.g.ia();this.Ik.fp()&&(this.$x(this.aI,this.bI,!0),this.Ea&=-3,this.cda());0!==(this.Ea&
4)&&this.ja.Mb().dispatchEvent(d);if(null!==this.Qb){const r=this.Qb.jf();for(let v=0,y=r.length;v<y;++v)r[v].$a()}}$x(r,v,y){const A=this.N(),G=this.O(),z=this.S(),F=this.U(),H=this.oa();r.Ai(A-this.Ds*z,G-this.Es*F,z,F);y&&this.bg()&&this.b9(r);0===H?v.Jj(r):(r.offset(-A,-G),v.XW(r,this.PE(),this.yE()),v.offset(A,G),v.vL(r));r.normalize()}VS(){const r=this.Ea;0!==(r&2)&&(this.$x(this.aI,this.bI,!0),this.Ea=r&-3)}jd(){this.VS();return this.aI}Oj(){this.VS();return this.bI}MO(r){var v=this.N(),y=
this.O();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;a.wa(r);a.offset(v,y);return a}k5(r){this.Ve(4,r)}TN(){return 0!==(this.Ea&4)}cO(r,v,y){return v&&0!==this.Zc?this.Qq(this.ea().Ar()):0===this.Xa()||y?r.yD(this.jd()):this.j$()}j$(){const r=this.ea(),v=this.qf();if(v>=r.Kt())return!1;r.KN(v,b);return b.yD(this.jd())}Qq(r){var v=this.jd();const y=v.fa,A=v.na,G=v.Y;v=v.ka;const z=this.qf();return r.JY(y,G,z,A,v,z+this.Zc)}kA(r){this.Ve(1048576,r)}mA(r){this.Ve(2097152,r)}YF(r){this.PC=
r;this.DG();this.bg()&&(this.ji.GL=null)}bz(){return null!==this.PC||this.bg()}ll(){return this.u9(this.S(),this.U(),this.oa(),this.PE(),this.yE())}u9(r,v,y,A,G){let z=this.Us;null===z&&(this.Us=z={NW:e.B(e.uo),width:NaN,height:NaN,angle:NaN});const F=z.NW;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.PC;if(this.bg()){const J=this.hl(),M=this.il(),P=this.Zj();let R=this.ji.GL;R||(H?(h.wa(H),h.offset(J,M)):h.yga(),R=P.d2(h),this.ji.GL=R);P.D6(R,F);F.offset(-J,-M);F.eM(r,v,A,G)}else H?
(F.wa(H),F.eM(r,v,A,G)):F.YL(this.Oj(),-this.N(),-this.O());z.width=r;z.height=v;z.angle=y;return F}DG(){this.O5();const r=this.Us;null!==r&&(r.width=NaN)}gE(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Fa().Fb().Jea)throw Error("object does not support mesh");this.xz();this.ji={$L:e.B(e.K.rO,r,v),gX:e.B(e.K.rO,r,v),GL:null}}bg(){return null!==this.ji}Zj(){if(!this.bg())throw Error("no mesh");return this.ji.$L}IN(){if(!this.bg())throw Error("no mesh");return this.ji.gX}SF(r){this.Ve(65536,r)}eO(){return 0!==
(this.Ea&65536)}O5(){this.Ve(131072,!0)}b9(r){const v=this.ji.$L,y=Math.min(v.A0(),0),A=Math.min(v.B0(),0),G=Math.max(v.x0(),1),z=Math.max(v.y0(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.hga((G-1)*F);r.gga((z-1)*H);this.Zc=v.z0()}xz(){this.ji&&(this.ji.$L.A(),this.ji.gX.A(),this.ji=null,this.DG())}IP(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Sx;let H="number"===typeof y.kX?
y.kX:A?0:-1;y="number"===typeof y.nX?y.nX:A?0:-1;if(!this.bg())return!1;const J=this.Zj(),M=J.Hq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.Xa()!==F&&(M.oe(F),P=!0);A&&(G+=r/(J.Dk-1),z+=v/(J.Rk-1));-1!==H||A?(A&&(H+=r/(J.Dk-1)),H=e.ba(H,0,1)):H=M.oh;-1!==y||A?(A&&(y+=v/(J.Rk-1)),y=e.ba(y,0,1)):y=M.qh;if(M.N()===G&&M.O()===z&&M.oh===H&&M.qh===y)return P;M.hg(G);M.vf(z);M.$F(H);M.aG(y);this.DG();return!0}ml(){return this.ja.ml()}zt(r,v){return this.jd().Pf(r,v)&&this.Oj().Pf(r,v)?this.ml()?
void 0:this.bz()?this.ll().Pf(r-this.N(),v-this.O()):!0:!1}h$(){return 0!==(this.Ea&16)}WS(){if(this.h$()&&this.Ni()&&0===(this.Ea&256)){var r=this.jd(),v=this.M.RA,y=this.QA;b.set(v.Yi(r.fa),v.Zi(r.Y),v.Yi(r.na),v.Zi(r.ka));y.wd(b)||(r=this.ja,y===k?(v.xl(r,null,b),this.QA=e.B(e.Rect,b)):(v.xl(r,y,b),y.wa(b)),this.Ea&=-17)}}jS(){const r=this.QA;r!==k&&(this.M.RA.xl(this.ja,r,null),this.QA=k)}cda(){const r=this.ea();if(r.fp()&&0===(this.Ea&256)){var v=r.Js,y=this.jd(),A=this.Ow;b.set(v.Yi(y.fa),v.Zi(y.Y),
v.Yi(y.na),v.Zi(y.ka));A.wd(b)||(y=this.ja,A===g?(v.xl(y,null,b),this.Ow=e.B(e.Rect,b)):(v.xl(y,A,b),A.wa(b)),r.R5())}}kS(){const r=this.Ow;r!==g&&(this.ea().Js.xl(this.ja,r,null),this.Ow=g)}h7(){const r=this.ja,v=this.Ik,y=v.H;y.length&&y.ie(-1)===r||(v.mp(r,!1),v.Rg(r,!1),this.g.ia())}f7(){const r=this.ja,v=this.Ik,y=v.H;y.length&&y[0]===r||(v.mp(r,!1),v.Iaa(r),this.g.ia())}g7(r){const v=this.ja,y=this.Ik;if(y.lc()!==r.lc())throw Error("layer from different layout");r!==y&&(y.mp(v,!0),this.kv(r),
r.Rg(v,!0),this.g.ia())}e7(r,v){const y=this.ja;let A=!1;const G=this.Ik;if(r.cc!==y.cc){var z=r.j();if(!z)throw Error("expected world instance");z=z.ea();G.Na()!==z.Na()&&(G.mp(y,!0),this.kv(z),z.Rg(y,!0),A=!0);r=z.e3(y,r,!!v);(A||r)&&this.g.ia()}}ica(r){this.Ve(64,r)}bu(){return 0!==(this.Ea&64)}ma(r){const v={x:this.N(),y:this.O(),w:this.S(),h:this.U(),l:this.ea().mb,zi:this.bk()};0!==this.Xa()&&(v.ze=this.Xa());0!==this.oa()&&(v.a=this.oa());this.Nq()||(v.c=this.jb.toJSON());.5!==this.hl()&&(v.oX=
this.hl());.5!==this.il()&&(v.oY=this.il());0!==this.Nj()&&(v.bm=this.Nj());this.Tc()||(v.v=this.Tc());this.Ni()||(v.ce=this.Ni());this.TN()&&(v.be=this.TN());this.ng&&(v.fx=this.ng.ma());const y=0!==(this.Ea&32);y&&(v.sfi=y);this.Aj&&(v.sft=[...this.Aj].join(" "));this.Qb&&"visual-state"!==r&&(v.sgi=this.Qb.ma());this.bg()&&(v.mesh=this.Zj().nd());return v}eA(r){"visual-state"!==r&&this.hba()}ua(r,v){q=!1;this.hg(r.x);this.vf(r.y);this.Qe(r.w);this.uf(r.h);this.rA(r.zi);this.oe(r.hasOwnProperty("ze")?
r.ze:0);this.od(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.Cm(r.c):r.hasOwnProperty("o")?(c.Ej(this.jb),c.sq=r.o):c.oo(1,1,1,1);this.jA(c);this.lr(r.hasOwnProperty("oX")?r.oX:.5);this.mr(r.hasOwnProperty("oY")?r.oY:.5);this.fg(r.hasOwnProperty("bm")?r.bm:0);this.Lh(r.hasOwnProperty("v")?r.v:!0);this.xu(r.hasOwnProperty("ce")?r.ce:!0);this.k5(r.hasOwnProperty("be")?r.be:!1);this.XF(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.ng&&r.hasOwnProperty("fx")&&this.ng.ua(r.fx);
if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.wG(null);const y=this.Qb,A=r.sgi;y.ua(A);const G=this.I().Mb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Ea&256)&&y.kp(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.gE(r.cols,r.rows),this.Zj().Uc(r)):this.xz();this.$a();q=!0;this.Ir()}}}
{"use strict";const e=self.C;e.lM=class extends e.la{constructor(b,a){super();const d=b.I(),c=d.Zp,h=d.Eh(a[1]);c.a1(h)||c.OY(a);this.g=d;this.M=b;this.fj=c.H_(h);this.Rc=null;this.AB=h.Instance;this.mb=a[2];this.La=a[0];this.uw=this.g.Ji(a[3]);this.Rc=e.B(h.wl,this);this.zd()}static Ua(b,a){return e.B(e.lM,b,a)}A(){this.fj=this.g=null;this.Rc.A();this.AB=this.Rc=null}zd(){this.Rc.zd()}I(){return this.g}J(){return this.M}Im(){return this.fj}Da(){return this.La}Ji(){return this.uw}}}
{"use strict";const e=self.C,b=self.PN;e.Vx=class extends e.la{constructor(a){super();this.g=a.Sf;this.Xc=a.gL;this.fj=this.Xc.Im();this.ja=a.instance;this.Ta=a.index;this.ue=this.ta=null;this.fj.Rg(this.ja)}A(){this.ue&&(this.ue.hv(),this.ue=null);this.fj.mp(this.ja);this.ta.A();this.ja=this.fj=this.Xc=this.g=this.ue=this.ta=null}Sz(a){if(this.ta)throw Error("already got sdk instance");this.ta=e.B(this.Xc.AB,this,a);this.Y9()}I(){return this.g}Eg(){return this.Xc}Im(){return this.fj}Ue(){return this.Ta}nd(){return this.ta.nd()}Uc(a){return this.ta.Uc(a)}static eG(a,
d){var c=a.ja,h=d.ja;const m=c.J().Na(),g=h.J().Na();if(m!==g)return m-g;c=c.dV;h=h.dV;return c!==h?c-h:a.IA.Ue()-d.IA.Ue()}Y9(){const a=this.ta.Li(),d=a||b;b.Sg(this);this.ue=new d;b.Sg(null);if(a&&!(this.ue instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Lq(){return this.ue}}}
{"use strict";const e=self.C;e.al=class extends e.la{constructor(b,a){super();this.$b=b;this.Tg=[];this.jg=[];this.cB=new Map;this.Yh=[];this.Fs=!0;for(const d of a)b=e.B(e.RM,this,d,this.Tg.length),this.Tg.push(b),this.cB.set(b.Da().toLowerCase(),b),3<=d.length&&this.Yh.push(this.UG(d[2]));this.I().m7(this)}A(){e.F(this.Tg);e.F(this.jg);this.cB.clear();e.F(this.Yh);this.$b=null}l4(b){if(b.length){this.Tg=b.concat(this.Tg);for(const a of b)this.cB.set(a.Da().toLowerCase(),a);for(let a=0,d=this.Tg.length;a<
d;++a)this.Tg[a].nH(a)}}UG(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const h=e.B(e.ib);h.Cm(c);b[a]=h}}return b}I(){return this.$b.I()}Nh(){e.F(this.jg);let b=!0;for(const a of this.Tg)a.Pb&&(this.jg.push(a),a.$f().Fs||(b=!1));this.Fs=b}Dg(){return this.Tg}W0(){return 0<this.Tg.length}el(b){return this.cB.get(b.toLowerCase())||null}hN(b){b=Math.floor(+b);if(0>b||b>=this.Tg.length)throw new RangeError("invalid effect type index");return this.Tg[b]}fu(b){return this.hN(b).Pb}vP(b,
a){this.hN(b).Az(a)}bu(){return 0<this.jg.length}dl(b){return this.Yh[b]}static Y4(b){return b&&b instanceof e.ib?{t:"color",v:b.toJSON()}:b}static R2(b){if("object"===typeof b){if("color"===b.t){const a=e.B(e.ib);a.Cm(b.v);return a}throw Error("invalid effect parameter type");}return b}static lP(b){return b.map(e.al.Y4)}static oO(b){return b.map(e.al.R2)}nd(){return this.Tg.map(b=>({name:b.Da(),active:b.Pb,params:e.al.lP(this.Yh[b.Na()])}))}Uc(b){for(const a of b)if(b=this.el(a.name))b.Az(a.active),
this.Yh[b.Na()]=e.al.oO(a.params);this.Nh()}}}
{"use strict";const e=self.C;e.RM=class extends e.la{constructor(b,a,d){super();this.Sa=b;this.Ze=a[0];this.La=a[1];this.Ta=d;this.ed=null;this.Pb=!0}A(){this.ed=this.Sa=null}AY(b){b=e.B(e.RM,b,[this.Ze,this.La],-1);b.ed=this.ed;b.Pb=this.Pb;return b}AR(b){b=b.CN(this.Ze);if(!b)throw Error("failed to find shader program '"+this.Ze+"'");this.ed=b}Da(){return this.La}nH(b){this.Ta=b}Na(){return this.Ta}I(){return this.Sa.I()}Az(b){this.Pb=!!b}$f(){return this.ed}R_(){const b=[];for(let a=0,d=this.ed.qq.length;a<
d;++a){const c=this.ed.Py(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.B(e.ib,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.C;e.e2=class extends e.la{constructor(b,a){super();this.ja=b;this.WV=a;this.Sa=b.J().Sa;this.ux=this.TJ=!0;this.VV=this.UV=this.SV=!1;this.Xh=e.B(e.K.Ie,b.I().$.rI,{rD:(d,c)=>{c=c.qn;const h=c.j();d.Zm(h.NE());d.yu(h.qf());c.Ah(d);d.yu(0)},uW:d=>{const c=d.AE(),[h,m]=d.zE();return{dX:c,eX:h,cX:m}},wD:d=>this.dl(d)});this.op=[];this.jg=[];this.Fs=!0;this.Yh=[];for(const d of this.Sa.Dg())this.op.push(!0);this.Nh()}A(){this.Xh.A();this.Xh=null;e.F(this.op);e.F(this.jg);e.F(this.Yh);
this.Sa=this.ja=null}t$(b){for(const a of b)this.Yh.push(this.UG(a))}UG(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const h=e.B(e.ib);h.Cm(c);b[a]=h}}return b}O2(){for(const b of this.Sa.Dg())this.Yh.push(b.R_())}Gi(){this.bv();return this.Xh}I(){return this.ja.I()}Nh(){e.F(this.jg);const b=this.WV,a=this.Sa.Dg(),d=this.jg,c=this.op;let h=!0;for(let m=0,g=a.length;m<g;++m)if(c[m]){const k=a[m];d.push(k);k.$f().Fs||(h=!1)}this.Fs=h;b.ica(!!d.length);this.TJ=!0}bv(){const b=
this.ja;var a=this.WV;const d=a.Nq(),c=0<a.Zc;a=0!==a.oa()||0>a.S()||0>a.U();const h=b.fF();if(this.TJ||d!==this.ux||c!==this.SV||a!==this.UV||h!==this.VV)this.Xh.ZD(this.jg.map(m=>m.$f()),{et:this.jg.map(m=>m.Na()),uD:!d||b.Vq(),BL:c,BW:h,zW:a}),this.TJ=!1,this.ux=d,this.SV=c,this.UV=a,this.VV=h}dl(b){return this.Yh[b]}fu(b){return this.op[b]}vP(b,a){this.op[b]=!!a}Dg(){return this.Sa.Dg()}ma(){return this.Sa.Dg().map(b=>({name:b.Da(),active:this.op[b.Na()],params:e.al.lP(this.Yh[b.Na()])}))}ua(b){for(const a of b)if(b=
this.Sa.el(a.name))this.op[b.Na()]=a.active,this.Yh[b.Na()]=e.al.oO(a.params);this.Nh()}}}
{"use strict";const e=self.C,b=[],a=e.B(e.uo),d=e.B(e.uo),c=e.B(e.Hd);e.B(e.Rect);e.B(e.Rect);let h=null,m=null,g=null;e.BY=class extends e.la{constructor(k){super();this.g=k;this.GC=[]}A(){this.g=null}kM(k,n,p){for(const [q,u]of this.GC){let w;if(k===q)w=u;else if(k===u)w=q;else continue;w.xq(n)&&(p.includes(w)||p.push(w))}}uM(k,n){if(!this.GC.length)return!1;for(const [p,q]of this.GC)if(k===p&&n===q||k===q&&n===p)return!0;return!1}vM(){e.F(this.GC)}jG(k,n){if(!k||!n||k===n)return!1;k=k.j();n=n.j();
if(!k.Ni()||!n.Ni())return!1;const p=k.ea(),q=n.ea();return p.C2(q)?this.Rca(k,n):this.Qca(k,n)}Rca(k,n){if(!k.jd().yD(n.jd())||!k.Oj().zL(n.Oj())||k.ml()&&n.ml())return!1;if(k.ml())return this.kG(k,n);if(n.ml())return this.kG(n,k);if(!k.bz()&&!n.bz())return!0;const p=k.ll(),q=n.ll();return p.Dx(q,n.N()-k.N(),n.O()-k.O())}Qca(k,n){var p=k.ml(),q=n.ml();if(p&&!q)return this.YP(k,n);if(q&&!p)return this.YP(n,k);if(q||p)return!1;q=k.ea();p=n.ea();a.wa(k.ll());d.wa(n.ll());var u=a.Ud;for(let w=0,r=u.length;w<
r;w+=2){const v=w+1,y=u[v],[A,G]=q.Po(u[w]+k.N(),y+k.O());u[w]=A;u[v]=G}k=d.Ud;for(let w=0,r=k.length;w<r;w+=2){q=w+1;u=k[q];const [v,y]=p.Po(k[w]+n.N(),u+n.O());k[w]=v;k[q]=y}a.XL();d.XL();return a.Dx(d,0,0)}YP(k,n){var p=k.ea(),q=n.ea();h||(h=e.B(e.uo));m||(m=e.B(e.Rect));g||(g=e.B(e.Hd));var u=n.N(),w=n.O();const [r,v]=q.Po(u,w),[y,A]=p.xh(r,v);p=y-u;w=A-w;m.wa(n.jd());m.offset(p,w);if(!k.jd().yD(m))return!1;g.wa(n.Oj());g.offset(p,w);if(!k.Oj().zL(g))return!1;h.wa(n.ll());q=h.Ud;for(let G=0,z=
q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.XL();return this.kG(k,n,y,A,h,m,g)}kG(k,n,p,q,u,w,r){w=void 0!==w?w:n.jd();const v=k.N(),y=k.O();var A=k.Fa().ta;p=void 0!==p?p:n.N();q=void 0!==q?q:n.O();k=n.bz();r=void 0!==r?r:n.Oj();A.oja(w,b);for(let F=0,H=b.length;F<H;++F){var G=b[F];A=G.rja();if(w.Kfa(A,v,y)&&(c.Jj(A),c.offset(v,y),c.zL(r)))if(k){var z=void 0!==u?u:n.ll();if(G=G.F0()){if(G.Dx(z,p-(v+A.fa),q-(y+A.Y)))return e.F(b),!0}else if(a.YL(c,0,0),a.Dx(z,p,q))return e.F(b),!0}else if(z=G.F0()){if(a.YL(r,
0,0),z.Dx(a,-(v+A.fa),-(y+A.Y)))return e.F(b),!0}else return e.F(b),!0}e.F(b);return!1}Jz(k,n,p){const q=k.V();var u=this.g.Nb();if(!u)throw Error("cannot call outside event");u=u.Sd;if(q.ac){q.qe(!1);e.F(q.H);for(var w of k.ra()){var r=w.j(),v=r.ea();const [y,A]=v.xh(n,p,r.qf());r.zt(y,A)?q.lp(w):u&&q.Cl(w)}}else{r=!1;u?this.g.XN()&&!q.hc.length&&q.H.length?w=q.H:(w=q.hc,r=!0):w=q.H;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.j(),F=z.ea(),[H,J]=F.xh(n,p,z.qf());z.zt(H,J)?r?q.lp(G):w[v++]=
G:r?w[v++]=G:u&&q.Cl(G)}w.length=v}k.kc();return q.VE()}xE(k,n,p,q){k=k?1!==k.de||1!==k.ee:!1;if(n.fb)for(const u of n.Bp)k||u.OH?e.vm(q,u.ra()):(u.TS(),u.RA.vz(p,q));else k||n.OH?e.vm(q,n.ra()):(n.TS(),n.RA.vz(p,q))}}}
{"use strict";const e=self.C;e.r6=class extends e.la{constructor(b,a){super();this.eI=b;this.dI=a;this.hj=e.B(e.nu)}A(){this.hj.A();this.hj=null}Jm(b,a,d){let c=this.hj.ga(b,a);return c?c:d?(c=e.B(e.S0,this,b,a),this.hj.Set(b,a,c),c):null}Yi(b){b=Math.floor(b/this.eI);return isFinite(b)?b:0}Zi(b){b=Math.floor(b/this.dI);return isFinite(b)?b:0}xl(b,a,d){if(a)for(let c=a.fa,h=a.na;c<=h;++c)for(let m=a.Y,g=a.ka;m<=g;++m){if(d&&d.Pf(c,m))continue;const k=this.Jm(c,m,!1);k&&(k.Ih(b),k.Lo()&&this.hj.vo(c,
m))}if(d)for(let c=d.fa,h=d.na;c<=h;++c)for(let m=d.Y,g=d.ka;m<=g;++m)a&&a.Pf(c,m)||this.Jm(c,m,!0).cF(b)}vz(b,a){let d=this.Yi(b.fa);const c=this.Zi(b.Y),h=this.Yi(b.na);b=this.Zi(b.ka);if(isFinite(h)&&isFinite(b))for(;d<=h;++d)for(let m=c;m<=b;++m){const g=this.Jm(d,m,!1);g&&g.kE(a)}}}}
{"use strict";const e=self.C;e.S0=class extends e.la{constructor(b,a,d){super();this.T=a;this.R=d;this.H=e.B(e.VD)}A(){this.H.A();this.H=null}Lo(){return this.H.Lo()}cF(b){this.H.Hc(b)}Ih(b){this.H.vo(b)}kE(b){e.vm(b,this.H.tE())}}}{"use strict";const e=self.C;e.kma=class{constructor(){this.rect=new e.Rect;this.zx=0}Set(b,a,d,c){this.rect.set(b,a,d,c);this.rect.normalize();this.zx=0;return this}}}
{"use strict";const e=self.C,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.Hj.Am,c=d.create(),h=e.B(e.Hd),m=e.B(e.Rect);e.sM=class extends e.la{constructor(g){super();this.g=g;this.Ak=null;this.oU=!1;this.Dj=this.lb=null;this.JI="high-performance";this.pn=this.nn=this.Th=this.Uh=this.Mc=this.Yc=this.eo=this.fo=0;this.ds=!0;this.$c=this.sd=this.CV=0;this.Pda=this.HT="letterbox-scale";this.Oda=this.Nda=0;this.XA=d.create();
this.bi=this.aL="high";this.os=!1;this.wv=[];this.dD=new Set;this.JC=self.C3_Shaders;this.rI=e.B(e.K.j_,{sW:()=>[this.Rj(),this.Fi()],tW:()=>this.S_(),SW:k=>this.x4(k),getTime:()=>this.I().Mm(),RW:()=>this.I().ia()});this.lg=this.vn=0;this.ls=NaN;this.sB=null;this.zJ=new Map;this.Wv=NaN;this.lD=new Map;this.NC="";this.uK=1;this.pV=e.B(e.Rect);this.vK="";this.qV=this.Xw=null;this.Aw=0;this.Be=-1;this.Fn=0;this.FJ=k=>this.Fn=k.progress;this.If=null;this.Kf={Ix:null,Lx:null,Rx:null};this.yK=this.wV=
this.zK=0;this.Bj="fade-in";this.xK=null;this.vV=new Promise(k=>this.xK=k)}gca(g){this.JI=g}Eca(g){this.oU=!!g}async yh(g){this.Ak=g.canvas;this.g.Bi("runtime","window-resize",p=>this.Daa(p));this.g.Bi("runtime","fullscreenchange",p=>this.haa(p));this.g.Bi("runtime","fullscreenerror",p=>this.iaa(p));this.Ak.addEventListener("webglcontextlost",p=>this.gv(p));this.Ak.addEventListener("webglcontextrestored",()=>this.cH());this.os=!!g.isFullscreen;var k=navigator.gpu&&this.oU;let n=!1;if(k)try{await this.ER(!0)}catch(p){this.Dj=
null}if(!this.sb())try{await this.DR(!0)}catch(p){this.lb=null}this.sb()||(n=!0);if(!this.sb()&&k)try{await this.ER(!1)}catch(p){this.Dj=null}if(!this.sb())try{await this.DR(!1)}catch(p){this.lb=null}k=this.sb();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.E5(n);this.qd(g.windowInnerWidth,g.windowInnerHeight,!0);this.Dj?await this.b$():this.lb&&await this.a$();k.TF(this.ds);k.pk()&&(this.ls=0);for(const p of this.g.HH){for(const q of p.Dg())q.AR(k);p.Nh()}}async ER(g){g=
{powerPreference:this.JI,depth:this.g.tm,failIfMajorPerformanceCaveat:g,vqa:this.g.eD,kL:this.g.YK};this.Dj=e.B(e.K.Ppa);await this.Dj.Ua(this.Ak,g)}async DR(g){g={powerPreference:this.JI,pW:!0,depth:this.g.tm,kL:this.g.YK,failIfMajorPerformanceCaveat:g};"Android"===e.ld.Wq&&"Chromium"===e.ld.Zx&&75>e.ld.YD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.GW=1);"standard"===this.g.Qr?g.alpha=
!0:(g.alpha=!1,g.FL=!0);this.lb=e.B(e.K.Y6,this.Ak,g);await this.lb.hz()}async b$(){if(this.JC){const g=[];for(const [k,n]of Object.entries(this.JC))n.src=n.Sta,g.push(this.Dj.hE(n,e.K.Qpa.Cy(),k));await Promise.all(g)}}async a$(){if(this.JC){const g=[];for(const [k,n]of Object.entries(this.JC))n.src=n.ura,g.push(this.lb.hE(n,e.K.Ou.Cy(),k));await Promise.all(g);this.lb.O4();this.lb.nk()}this.lb.pk()&&(this.sB=e.B(e.K.kQ,this.lb))}A(){this.Ak=this.lb=this.g=null}Daa(g){const k=this.g,n=g.devicePixelRatio;
k.Sl&&(self.devicePixelRatio=n);k.Yba(n);this.os=!!g.isFullscreen;this.qd(g.innerWidth,g.innerHeight);k.ia();k.Jb&&(k.cu()||self.vh.Qja())&&k.Wo()}haa(g){this.os=!!g.isFullscreen;this.qd(g.innerWidth,g.innerHeight,!0);this.g.ia()}iaa(g){this.os=!!g.isFullscreen;this.qd(g.innerWidth,g.innerHeight,!0);this.g.ia()}qd(g,k,n=!1){g=Math.floor(g);k=Math.floor(k);if(0>=g||0>=k)throw Error("invalid size");if(this.fo!==g||this.eo!==k||n){this.fo=g;this.eo=k;n=this.Ot();"letterbox-scale"===n?this.C7(g,k):"letterbox-integer-scale"===
n?this.B7(g,k):"off"===n?this.z7(g,k):this.A7(g,k);this.ada(n);this.Ak.width=this.Uh;this.Ak.height=this.Th;this.g.Qo("canvas","update-size",{marginLeft:this.nn,marginTop:this.pn,styleWidth:this.Yc,styleHeight:this.Mc});g=this.sb();g.qd(this.Uh,this.Th,!0);for(var p of this.wv)g.eZ(p);e.F(this.wv);g.yq(this.XA,this.Rj()/this.Fi());p=this.g.kb;p.er();p.dr()}}C7(g,k){const n=this.g.Pj(),p=this.g.ih,q=this.g.hh,u=p/q;g/k>u?(this.Yc=Math.round(k*u),this.Mc=k,this.nn=Math.floor((g-this.Yc)/2),this.pn=
0):(this.Yc=g,this.Mc=Math.round(g/u),this.nn=0,this.pn=Math.floor((k-this.Mc)/2));this.Uh=Math.round(this.Yc*n);this.Th=Math.round(this.Mc*n);this.g.Ju(p,q)}B7(g,k){const n=this.g.Pj();1!==n&&(g+=1,k+=1);const p=this.g.ih,q=this.g.hh;var u=p/q;u=g/k>u?k*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Uh=Math.round(p*u);this.Th=Math.round(q*u);this.Yc=this.Uh/n;this.Mc=this.Th/n;this.nn=Math.max(Math.floor((g-this.Yc)/2),0);this.pn=Math.max(Math.floor((k-this.Mc)/2),0);this.g.Ju(p,
q)}A7(g,k){const n=this.g.Pj();this.Yc=g;this.Mc=k;this.Uh=Math.round(this.Yc*n);this.Th=Math.round(this.Mc*n);this.pn=this.nn=0;g=this.Qj();this.g.Ju(this.Yc/g,this.Mc/g)}z7(g,k){const n=this.g.Pj();this.Yc=this.g.Mf;this.Mc=this.g.Lf;this.Uh=Math.round(this.Yc*n);this.Th=Math.round(this.Mc*n);this.os?(this.nn=Math.floor((g-this.Yc)/2),this.pn=Math.floor((k-this.Mc)/2)):this.pn=this.nn=0;this.g.Ju(this.g.Mf,this.g.Lf)}ada(g){if("high"===this.aL)this.sd=this.Uh,this.$c=this.Th,this.bi="high";else{let n;
if("off"===this.Ot()){var k=this.g.Mf;n=this.g.Lf}else k=this.g.ih,n=this.g.hh;this.Uh<k&&this.Th<n?(this.sd=this.Uh,this.$c=this.Th,this.bi="high"):(this.sd=k,this.$c=n,this.bi="low","scale-inner"===g?(g=k/n,k=this.fo/this.eo,k<g?this.sd=this.$c*k:k>g&&(this.$c=this.sd/k)):"scale-outer"===g&&(g=k/n,k=this.fo/this.eo,k>g?this.sd=this.$c*k:k<g&&(this.$c=this.sd/k)))}}I(){return this.g}C5(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.HT=g;g=this.g.kb;g.er();g.dr()}Hy(){return this.HT}Ot(){return this.os?
this.Pda:this.Hy()}xP(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");this.aL=g;this.g.kb.er()}static p9(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Rj(){return this.sd}Fi(){return this.$c}TF(g){this.ds=!!g}Cca(g){this.CV=g}v2(){return this.sb().Jo()}gv(g){console.log("[Construct 3] WebGL context lost");
g.preventDefault();this.wv=[];this.dD.clear();this.lb.ql();this.g.gv()}async cH(){await this.lb.xF();await this.fqa();for(const g of this.g.HH)for(const k of g.Dg())k.AR(this.lb);await this.g.cH();console.log("[Construct 3] WebGL context restored")}Go(){return this.lb}au(){return this.Dj}sb(){return this.Dj||this.lb}Om(){return"low"===this.bi?1/this.g.Pj():this.Qj()}Qj(){const g=this.Ot();if("off"===g||"crop"===g)return 1;const k=this.g.ih,n=this.g.hh,p=k/n,q=this.Uh/this.Th;return"scale-inner"!==
g&&q>p||"scale-inner"===g&&q<p?this.Mc/n:this.Yc/k}Rt(){return"low"===this.bi?1:this.Qj()}Qt(){return"low"===this.bi?1:this.g.Pj()}s5(g,k,n){k=k||this.sd;n=n||this.$c;const p=k/2+this.Nda,q=n/2+this.Oda;{let u=this.XA;if(k!==this.sd||n!==this.$c)g.yq(c,k/n),u=c;g.Zo(u)}k=g.xt(p,q,100*this.g.Pj(),p,q,n||this.$c);g.kr(k)}o5(g){var k=this.Yc/2;const n=this.Mc/2;g.Zo(this.XA);k=g.xt(k,n,100,k,n);g.kr(k)}Lt(){return this.nn}Mt(){return this.pn}Ht(g){g.depth=this.g.tm;const k=this.wv,n=k.findIndex(q=>q.m2(g));
let p;-1!==n?(p=k[n],k.splice(n,1)):p=this.sb().TY(g);this.dD.add(p);return p}To(g){if(!this.dD.has(g))throw Error("render target not in use");this.dD.delete(g);this.wv.push(g)}S_(){const g={Ij:this.g.Bd};"low"===this.bi&&(g.width=this.Rj(),g.height=this.Fi());return this.Ht(g)}x4(g){this.To(g)}*mD(){for(const g of this.g.kb.Ox())for(const k of g.ec){const n=this.zJ.get(k);n&&(yield n)}}qN(g){if(!this.sb().pk())return null;let k=this.zJ.get(g);k||(k={name:g.Da(),aM:e.B(e.K.kQ,this.lb),oD:0,EW:0},
this.zJ.set(g,k));return k.aM}Yca(){const g=this.sb();if(g.pk()&&0===this.lg){this.lg=g.ai;this.Wv=NaN;for(const k of this.mD())k.oD=NaN}}eda(){this.lb&&this.lb.pk()&&this.fda();this.Dj&&this.Dj.pk()&&this.gda()}fda(){if(isNaN(this.Wv)&&(this.Wv=this.sB.mN(this.vn,this.lg),!isNaN(this.Wv))){if(this.g.Jb)for(const g of this.mD())if(g.oD=g.aM.mN(this.vn,this.lg),isNaN(g.oD))return;this.sB.MM(this.lg);this.ls=Math.min(this.Wv,1);if(this.g.Jb){for(const g of this.mD())g.aM.MM(this.lg),g.EW=Math.min(g.oD,
1);self.vh.N6(this.ls,[...this.mD()])}this.vn=this.lg;this.lg=0}}gda(){if(0!==this.lg){for(var g=this.vn;g<this.lg;++g){var k=this.lD.get(g);if(k&&!k.cz())return}k=this.g.Wb();g=e.W2(k.ec.length+1);for(var n=this.vn;n<this.lg;++n){var p=this.lD.get(n);if(p){p=p.Vy();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.ls=e.ba(g[0],0,1);if(this.g.Jb){n=[];k=k.ec;for(let q=0,u=Math.min(k.length,g.length-1);q<
u;++q)n.push({name:k[q].Da(),EW:e.ba(g[q+1],0,1)});self.vh.N6(this.ls,n)}for(g=this.vn;g<this.lg;++g)this.lD.delete(g);this.vn=this.lg;this.lg=0}}v7(g){this.lD.set(this.Dj.ai,g)}Jy(){return this.ls}VP(g,k,n,p,q,u){this.NC=g;this.uK=k;this.pV.Ai(n,p,q,u);return this.Xw?this.Xw:this.Xw=new Promise(w=>{this.qV=w})}Q$(){if(this.NC){var g=this.Ak,k=this.pV,n=e.ba(Math.floor(k.fa),0,g.width),p=e.ba(Math.floor(k.Y),0,g.height),q=k.width();q=0===q?g.width-n:e.ba(Math.floor(q),0,g.width-n);k=k.height();k=
0===k?g.height-p:e.ba(Math.floor(k),0,g.height-p);(0!==n||0!==p||q!==g.width||k!==g.height)&&0<q&&0<k&&(g=e.yh(q,k),g.getContext("2d").drawImage(this.Ak,n,p,q,k,0,0,q,k));e.ay(g,this.NC,this.uK).then(u=>{this.vK=URL.createObjectURL(u);this.Xw=null;this.qV(this.vK)});this.NC="";this.uK=1}}M1(g){this.lb&&(2===g?(this.If=e.B(e.K.CF,this.sb()),this.If.DP(),this.If.QF("Arial"),this.If.Ez(16),this.If.zP("center"),this.If.UP("center"),this.If.qd(300,200)):0===g?(g=this.g.ys)&&g.ju(this.lb).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
k)):4===g&&(this.G$().then(k=>{"done"===this.Bj?this.lb.Lj(k):this.Kf.Ix=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.KR("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.Bj?this.lb.Lj(k):this.Kf.Lx=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.KR("splash-images/splash-website-512.png").then(k=>{"done"===this.Bj?this.lb.Lj(k):this.Kf.Rx=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async G$(){var g=(new URL("splash-images/splash-logo.svg",
this.g.vE())).toString();g=await e.cl(g);g=await this.g.u4(g);return await this.lb.jy(g,{Jx:"high"})}async KR(g){g=(new URL(g,this.g.vE())).toString();g=await e.cl(g);return await this.lb.jy(g,{Jx:"high"})}YE(){this.g.Qo("runtime","hide-cordova-splash")}s6(){this.Aw=Date.now();this.g.Mb().addEventListener("loadingprogress",this.FJ);this.Be=requestAnimationFrame(()=>this.TQ());3!==this.g.xs&&this.YE()}async l_(){if(this.lb){this.Fn=1;var g=this.g.xs;4===g&&await this.vV;this.vV=this.xK=null;-1!==this.Be&&
(cancelAnimationFrame(this.Be),this.Be=-1);this.g.Mb().removeEventListener("loadingprogress",this.FJ);this.FJ=null;this.If&&(this.If.A(),this.If=null);this.g.y4();this.lb.Ku();this.Kf.Ix&&(this.lb.Lj(this.Kf.Ix),this.Kf.Ix=null);this.Kf.Lx&&(this.lb.Lj(this.Kf.Lx),this.Kf.Lx=null);this.Kf.Rx&&(this.lb.Lj(this.Kf.Rx),this.Kf.Rx=null);this.lb.to();this.lb.Et();this.Bj="done";this.vn=this.lb.ai;3===g&&this.YE()}}TQ(){if(-1!==this.Be){var g=this.lb;if(g){g.Ku();this.Be=-1;var k=this.g.Eb.MI,n=this.g.xs;
3!==n&&(this.o5(g),g.to(),g.su(),g.nk(),g.gg(null));if(0===n)this.T8(k);else if(1===n)this.Vz(k,120,0);else if(2===n)this.S8(k);else if(3!==n)if(4===n)this.U8(k);else throw Error("invalid loader style");g.Et();this.Be=requestAnimationFrame(()=>this.TQ())}}}S8(g){g?this.If.rP(1,0,0):this.If.rP(.6,.6,.6);this.If.Iu(Math.round(100*this.Fn)+"%");g=this.Yc/2;const k=this.Mc/2;h.ZW(g-150,k-100,g+150,k+100);this.lb.gg(this.If.me());this.lb.$q(h,this.If.$j())}Vz(g,k,n){const p=this.lb;p.qP();g?p.tf(1,0,0,
1):p.tf(.118,.565,1,1);g=this.Yc/2;const q=this.Mc/2,u=k/2;m.Ai(g-u,q-4+n,Math.floor(k*this.Fn),8);p.Rect(m);m.Ai(g-u,q-4+n,k,8);m.offset(-.5,-.5);m.xL(.5,.5);p.tf(0,0,0,1);p.jO(m);m.xL(1,1);p.tf(1,1,1,1);p.jO(m)}T8(g){var k=this.g.ys;if(k)if(k=k.me()){var n=k.S(),p=k.U(),q=this.Yc/2,u=this.Mc/2,w=n/2;p/=2;h.ZW(q-w,u-p,q+w,u+p);this.lb.gg(k);this.lb.Hd(h);this.Vz(g,n,p+16)}else this.Vz(g,120,0);else this.Vz(g,120,0)}U8(g){const k=this.lb,n=this.Kf.Ix,p=this.Kf.Lx,q=this.Kf.Rx,u=Date.now();0===this.zK&&
(this.Aw=u);const w=this.g.Sq()||this.g.cea&&!this.g.n2(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Bj?y=Math.min((u-this.Aw)/300,1):"fade-out"===this.Bj&&(y=Math.max(1-(u-this.yK)/300,0));k.qP();k.tf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Yc,this.Mc);k.Rect(m);const A=Math.ceil(this.Yc),G=Math.ceil(this.Mc);let z;256<this.Mc?(k.tf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Ai(0,.8*G-z/2,A,z),k.Rect(m),g?k.tf(y,0,0,y):k.tf(.161*y,.953*y,.816*y,y),g=A*this.Fn,m.Ai(.5*A-g/2,.8*G-z/2,g,z),k.Rect(m),
k.tf(y,y,y,y),k.nk(),p&&(g=1.5*e.ba(.22*G,105,.6*A),z=g/8,m.Ai(.5*A-g/2,.2*G-z/2,g,z),k.gg(p),k.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.Ai(.5*A-g/2,.485*G-z/2,g,z),k.gg(n),k.Rect(m)),q&&(g=1.5*e.ba(.22*G,105,.6*A),z=g/8,m.Ai(.5*A-g/2,.868*G-z/2,g,z),k.gg(q),k.Rect(m))):(k.tf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Ai(0,.85*G-z/2,A,z),k.Rect(m),g?k.tf(y,0,0,y):k.tf(.161*y,.953*y,.816*y,y),g=A*this.Fn,m.Ai(.5*A-g/2,.85*G-z/2,g,z),k.Rect(m),k.tf(y,y,y,y),k.nk(),n&&(z=g=.55*G,m.Ai(.5*A-g/2,.45*
G-z/2,g,z),k.gg(n),k.Rect(m)));this.zK++;"fade-in"===this.Bj&&300<=u-this.Aw&&2<=this.zK&&(this.Bj="wait",this.wV=u);"wait"===this.Bj&&u-this.wV>=v&&1<=this.Fn&&(this.Bj="fade-out",this.yK=u);("fade-out"===this.Bj&&u-this.yK>=300+r||w&&1<=this.Fn&&500>u-this.Aw)&&this.xK()}}}
{"use strict";const e=self.C,b=self.vh,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.hP=class extends e.la{constructor(c){c=Object.assign({},a,c);super();this.Ew=c.messagePort;this.uda=c.baseUrl;this.Sl=!!c.isInWorker;d=c.ife;this.un=c.exportType;this.qJ=!!c.isiOSCordova;this.cea=!!c.isFBInstantAvailable;this.vea=c.opusWasmScriptUrl;this.TU=c.opusWasmBinaryUrl;this.ve=this.Bda=this.Jb=!("preview"!==this.un||!c.isDebug);this.mI=
0;this.yA=[];this.nda=[];this.jK=this.cV=this.CC="";this.hh=this.ih=0;this.Zr=self.devicePixelRatio;this.xs=this.Lf=this.Mf=this.tC=this.sC=0;this.gD=!1;this.Fk=!0;this.YK=this.eD=!1;this.ys=null;this.Eb=e.B(e.XX,this,c);this.kb=e.B(e.I2,this);this.Aa=e.B(e.p_,this);this.Zp=e.B(e.e4,this);this.ij=e.B(e.BY,this);this.Lb=e.B(e.A6,this);this.JK=e.B(e.E6,this);this.Wc=[];this.UJ=new Map;this.VJ=new Map;this.CT=0;this.pda=[];this.HH=[];this.Mv=[];this.Rl=[];this.CB=new Map;this.uB=!1;this.Hw=this.WJ=0;
this.Ip=new Map;this.Jp=new Set;this.DB=new Set;this.qC=[];this.qU=[];this.$=null;this.tm=!1;this.DI="vsync";this.Qr="standard";this.Bd="trilinear";this.Ul=!1;this.RJ=!0;this.mJ=this.XU=!1;this.Kea={KW:h=>{this.km=this.Be=-1;this.pe(h)},Jga:h=>{this.km=-1;this.pe(h,!1,"skip-render")},rga:()=>{this.Be=-1;this.Wo()}};this.km=this.Be=-1;this.gs=this.Qn=this.Nk=0;this.WT=this.MB=this.vB=!1;this.iJ=!0;this.Ps=0;this.Aea=()=>Math.random();this.Rv=this.Sv=this.cC=this.On=0;this.Kd=1;this.OU=30;this.HI=e.B(e.oz);
this.II=e.B(e.oz);this.$K=e.B(e.oz);this.pB=-1;this.lC=this.Zl=this.oB=this.Dp=0;this.Gk=!1;this.zw=this.Rw="";this.ws=null;this.Rp="";this.qK=this.iK=null;this.Yb=e.B(e.Event.Mb);this.qI=new Map;this.aK=new Map;this.rea=0;this.nU=this.uT=this.vT=!1;this.ZK=[];this.Ap={pretick:e.B(e.Event,"pretick",!1),tick:e.B(e.Event,"tick",!1),tick2:e.B(e.Event,"tick2",!1),instancedestroy:e.B(e.Event,"instancedestroy",!1),beforelayoutchange:e.B(e.Event,"beforelayoutchange",!1),layoutchange:e.B(e.Event,"layoutchange",
!1)};this.Ap.instancedestroy.instance=null;this.he=e.B(e.Event.Mb);this.MV=null;this.ln=e.B(e.So,e.Vx.eG);this.sp=e.B(e.So,e.Vx.eG);this.mn=e.B(e.So,e.Vx.eG);this.qw=e.B(e.E2,this,c.jobScheduler);c.canvas&&(this.$=e.B(e.sM,this));this.Ew.onmessage=h=>this._OnMessageFromDOM(h.data);this.Bi("runtime","visibilitychange",h=>this.Aaa(h));this.Bi("runtime","opus-decode",h=>this.jda(h.arrayBuffer));this.Bi("runtime","get-remote-preview-status-info",()=>this.G9());this.Bi("runtime","js-invoke-function",h=>
this.dA(h));this.Bi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Yb.addEventListener("window-blur",h=>this.Baa(h));this.Yb.addEventListener("window-focus",()=>this.Caa());this.Lb.KX();this.qj=null;this.Zda=new WeakMap;this.Jv={keyboard:null,HW:null,cM:null}}static Ua(c){return e.B(e.hP,c)}A(){e.F(this.Wc);this.UJ.clear();this.VJ.clear();this.kb.A();this.kb=null;this.Aa.A();this.Aa=null;this.Zp.A();this.Zp=null;this.Eb.A();this.Eb=null;this.ij.A();this.ij=null;this.Lb.A();this.Lb=
null;this.JK.A();this.JK=null;this.$&&(this.$.A(),this.$=null);this.Yb.A();this.Yb=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.WR(c);else if("result"===h)this.saa(c);else throw Error(`unknown message '${h}'`);}WR(c){if(this.nU){var h=c.component,m=c.handler,g=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new e.Event(m),c.data=g,this.Yb.pfa(c)),k)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=
u;this.zh(c)}if(c=this.qI.get(h))if(c=c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.gA(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.gA(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.gA(p,!1,""+q)}):this.gA(p,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.ZK.push(c)}gA(c,
h,m){this.Ew.postMessage({type:"result",responseId:c,isOk:h,result:m})}saa(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.aK.get(h);m?g.resolve(c):g.reject(c);this.aK.delete(h)}Bi(c,h,m){let g=this.qI.get(c);g||(g=new Map,this.qI.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}Qo(c,h,m){this.Ew.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}Yq(c,h,m){const g=this.rea++,k=new Promise((n,p)=>{this.aK.set(g,{resolve:n,
reject:p})});this.Ew.postMessage({type:"event",component:c,handler:h,data:m,responseId:g});return k}async Hg(c){this.Jb?await b.Hg(this):self.vh&&self.vh.Hja(this);var [h]=await Promise.all([this.Eb.WM("data.json"),this.P$(),this.qw.Hg()]);this.r$(h);await this.c$(c);this.Sq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Go()?(h=this.Go(),console.info(`[C3 runtime] Hosted in ${this.Sl?"worker":"DOM"}, rendering with WebGL ${h.vd} [${h.ox}] (${h.o2()?
"desynchronized":"standard"} compositing)`)):this.au()&&console.info(`[C3 runtime] Hosted in ${this.Sl?"worker":"DOM"}, rendering with experimental WebGPU`);this.sb().NI&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.nU=!0;for(const m of this.ZK)this.WR(m);e.F(this.ZK);this.$&&this.$.s6();for(const m of c.runOnStartupFunctions)this.yA.push(this.qba(m));await Promise.all([this.Eb.iQ(),
...this.yA]);e.F(this.yA);if(this.Eb.MI)this.$&&this.$.YE();else return this.$&&await this.$.l_(),await this.Yb.qL(new e.Event("beforeruntimestart")),await this.Ku(),this.Ew.postMessage({type:"runtime-ready"}),this}async qba(c){try{await c(this.qj)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}r$(c){c=c.project;this.CC=c[0];this.cV=c[16];this.jK=c[31];const h=c[39]||"loading-logo.png";this.Ul=!!c[9];this.ih=this.Mf=c[10];this.hh=this.Lf=c[11];this.sC=this.ih/2;this.tC=
this.hh/2;this.Qr=c[36];this.DI=c[37];"low-latency"===this.Qr&&this.h2()&&77>=e.ld.YD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Qr="standard");this.tm=!!c[40];this.Bd=c[14];this.eD=c[15];this.YK=c[17];this.gD=!!c[18];this.xs=c[19];this.Hw=c[21];this.XU=c[22];const m=this.Eb;m.Sba(c[7],c[25]);m.sca(c[8]);m.fca(c[32]);m.kca(c[28]);m.Dca(c[29]);
if(0===this.xs){let q="";this.Sq()?m.cA(h)&&(q=m.LE(h)):q=m.XT+h;q&&(this.ys=m.pz({url:q}))}this.$&&(this.$.C5(e.sM.p9(c[12])),this.$.xP(c[23]?"high":"low"),this.$.TF(0!==c[24]),this.$.gca(c[34]),this.$.Cca(c[41]),this.$.Eca(c[13]));this.Zp.UY();this.qC=self.oM();for(var g of c[2])this.Zp.SY(g);this.qC=self.oM();this.z$();for(var k of c[3])g=e.uF.Ua(this,this.Wc.length,k),this.Wc.push(g),this.UJ.set(g.Da().toLowerCase(),g),this.VJ.set(g.mb,g);for(const q of c[4])this.Wc[q[0]].u$(q);for(var n of c[27])k=
n.map(q=>this.Wc[q]),this.pda.push(e.B(e.IY,this,k));for(const q of this.Wc)q.Z$();for(const q of c[5])this.kb.Ua(q);(n=c[1])&&(n=this.kb.Gq(n))&&this.kb.y5(n);for(var p of c[33])this.Lb.Ua(p);for(const q of c[35])this.JK.Ua(q);this.Z9();for(const q of c[6])this.Aa.Ua(q);this.Aa.Tb();this.V9();e.F(this.qC);this.Wd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Qo("runtime","set-target-orientation",{targetOrientation:p})}GX(c){this.yA.push(c)}B9(){return this.CT++}m7(c){this.HH.push(c)}async c$(c){this.$&&
(await this.$.yh(c),this.$.M1(this.xs))}async P$(){if(!this.Eb.SN("audio/webm; codecs=opus")){var c=null;try{c=this.qJ&&this.Eb.kw?await this.Eb.EM(this.TU):await this.Eb.Ct(this.TU)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.DX(c):this.CX();await this.EX([this.vea])}}async jda(c){return await this.RD("OpusDecode",{arrayBuffer:c},[c])}async Ku(){this.vB=!0;this.On=Date.now();if(this.gD){for(var c of this.Wc)c.fb||c.lJ||!c.Df||c.zd();
this.Eb.iQ().then(()=>{this.Fk=!1;this.ZR()})}else this.Fk=!1;this.Eb.F5();this.Jb&&b.mna(d);for(const h of this.kb.ej)h.S7();c=this.kb.c0();await c.TG(null,this.sb());await c.NS(!0);this.Dp=performance.now();this.gD||this.ZR();(await this.Yq("runtime","before-start-ticking")).isSuspended?this.Ps++:this.pe()}ZR(){this.Ga(e.D.Ja.L.H3,null,null);this.Qo("runtime","register-sw")}Eh(c){c=Math.floor(c);const h=this.qC;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}z$(){for(const c of self.iY){const h=
e.first(Object.keys(c));this.qU.push(h)}}Ji(c){c=Math.floor(c);const h=this.qU;if(0>c||c>=h.length)throw Error("invalid prop reference");return h[c]}vE(){return this.uda}qa(){return this.Aa}kd(){return this.Aa.kd()}kf(){return this.Aa.kf()}Nb(){return this.Aa.Nb()}Uf(){return this.Aa.Uf()}XN(){return 0===this.kf().Il}Nt(){return this.Aa.Nt()}Xt(){return this.Zp.Xt()}mf(c){c=Math.floor(c);if(0>c||c>=this.Wc.length)throw new RangeError("invalid index");return this.Wc[c]}Ny(c){return this.UJ.get(c.toLowerCase())||
null}Oy(c){return this.VJ.get(c)||null}*Qea(){for(const c of this.Wc)c.fb||(yield*c.wW())}Mb(){return this.Yb}zh(c){c.Sf=this.qj;const h=this.Jb&&!this.Aa.kz();h&&b.gG();this.he.dispatchEvent(c);h&&b.TD()}wo(c){c.Sf=this.qj;return this.he.qL(c)}M5(c,h){if(this.ih!==c||this.hh!==h)this.ih=c,this.hh=h,c=this.kb,c.er(),c.dr()}Ju(c,h){if(this.Mf!==c||this.Lf!==h)this.Mf=c,this.Lf=h,c=this.kb,c.er(),c.dr()}Yba(c){this.Zr=c}Pj(){return this.Zr}Rj(){return this.$?this.$.Rj():this.Mf}Fi(){return this.$?this.$.Fi():
this.Lf}Om(){return this.$?this.$.Om():1}Qj(){return this.$?this.$.Qj():1}Rt(){return this.$?this.$.Rt():1}Qt(){return this.$?this.$.Qt():1}Lt(){return this.$?this.$.Lt():0}Mt(){return this.$?this.$.Mt():0}M_(){return this.$?this.$.Yc:0}L_(){return this.$?this.$.Mc:0}Hy(){return this.$?this.$.Hy():"off"}Ht(c){return this.$?this.$.Ht(c):null}To(c){this.$&&this.$.To(c)}Jy(){return this.$?this.$.Jy():NaN}nF(){return"nearest"!==this.Bd}y4(){this.ys&&(this.ys.A(),this.ys=null)}Wb(){return this.kb.Wb()}pz(c){return this.Eb.pz(c)}fE(c,
h,m,g,k){return this.Ei(c,h,!1,m,g,!1,k,void 0,k)}Ei(c,h,m,g,k,n,p,q,u){var w=null;let r=null;c instanceof e.uF?(r=c,r.fb&&(w=r.Bp,r=w[Math.floor(this.rl()*w.length)]),w=r.Xr):(w=c,r=this.mf(w[1]));c=r.Fb().Df;if(this.Fk&&c&&!r.lJ)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.Ip.has(w[2])?w[2]:this.Hw++;const A=w?w[0]:null,G=e.B(e.Instance,{Sf:this,KL:r,FW:h,pX:A,vW:w?w[3]:null,uid:y});this.Ip.set(y,G);y=null;c&&(y=G.j(),"undefined"!==typeof g&&"undefined"!==typeof k&&(y.hg(g),y.vf(k)),
r.yS());h&&(u||h.Rg(G,!0),1===h.de&&1===h.ee||r.kH(!0),h.lc().qO(r));this.WJ++;let z=!0;q&&(q=q.J(),q.dc()&&r.dc()&&r.Vg===q.Vg&&(z=!1));if(r.dc()&&!m&&!n&&z){for(var F of r.Vg.fm)F!==r&&(q=this.Ei(F,v,!1,y?y.N():g,y?y.O():k,!0,!1,void 0,u),G.xr(q));for(var H of G.Id){H.xr(G);for(const J of G.Id)H!==J&&H.xr(J)}}c&&!m&&p&&this.uG(G,A,y,h,g,k,u);if(r.dc()&&!m&&!n&&p)for(const J of G.Id)if(m=J.j())F=J.Fb(),H=J.J().Xr[0],F.Df?this.uG(J,H,m,h,m.N(),m.O(),u):this.uG(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===
typeof g&&(g=A[0]),"undefined"===typeof k&&(k=A[1]),h=y.Yy(),g=g-y.N()+h.N(),k=k-y.O()+h.O(),h.Xi(g,k));r.jv();k=w?e.mL(w[5]):null;w=w?w[4].map(J=>e.mL(J)):null;c&&A&&A[13]&&G.jca();G.Sz(k,w);this.Rl.push(G);this.uB=!0;this.Jb&&b.Ija(G);return G}uG(c,h,m,g,k,n,p){var q=m.K0(),u=m.xN();c.j().VF(q);if(u){"undefined"===typeof k&&(k=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.kb.KE(A[0]).ea(w).j0(r);w=this.mf(r[1]);
var y=c.g1(w);const z=q.has(w);y&&!z&&v?(v=c.DN(w),y=k+r[0][0]-m,r=n+r[0][1]-h,v.j().Xi(y,r),v.j().VF(G),c.Fm(v,{tt:!!(u>>0&1),ut:!!(u>>1&1),uq:!!(u>>2&1),tq:!!(u>>3&1),qt:!!(u>>4&1),yx:!!(u>>5&1),wt:!!(u>>6&1)}),q.add(w)):(w=this.Ei(r,g,!1,k+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.j().VF(G),c.Fm(w,{tt:!!(u>>0&1),ut:!!(u>>1&1),uq:!!(u>>2&1),tq:!!(u>>3&1),qt:!!(u>>4&1),yx:!!(u>>5&1),wt:!!(u>>6&1)}))}}}Hm(c){if(!this.Jp.has(c)){var h=c.J(),m=this.CB.get(h);if(m){if(m.has(c))return;m.add(c)}else m=new Set,
m.add(c),this.CB.set(h,m);this.Jb&&b.Jja(c);c.XG();this.uB=!0;if(c.dc())for(const g of c.Id)this.Hm(g);for(const g of c.children())g.Dy()&&this.Hm(g);this.kb.$N()||this.Gk||(h=this.qa(),h.Ge(!0),c.Uca(),h.Ge(!1));c.h9(this.kb.$N())}}Wd(){this.uB&&(this.j9(),this.k9(),this.uB=!1,this.ia())}j9(){for(const c of this.Rl){const h=c.J();h.Rg(c);for(const m of h.Zh)m.Rg(c),m.jv()}e.F(this.Rl)}k9(){this.Yb.hr(!0);for(const [c,h]of this.CB.entries())this.l9(c,h),h.clear();this.CB.clear();this.Yb.hr(!1)}l9(c,
h){for(const g of h){var m=this.Ap.instancedestroy;m.instance=g;this.Yb.dispatchEvent(m);this.Ip.delete(g.cc);if(m=g.j())m.jS(),m.kS(),m.XG();this.Jp.add(g);this.WJ--}e.zg(c.ra(),h);c.jv();this.DB.add(c);0===c.ra().length&&c.kH(!1);for(const g of c.Zh)e.zg(g.ra(),h),g.jv(),this.DB.add(g);if(c.Fb().Df){c=new Set([...h].map(g=>g.j().ea()));for(const g of c)g.Waa(h)}}*yL(c){for(const h of this.Rl)c.fb?h.J().XD(c)&&(yield h):h.J()===c&&(yield h)}A9(){return this.Hw++}M$(c,h){this.Ip.set(c,h)}gv(){this.Yb.dispatchEvent(e.B(e.Event,
"webglcontextlost"));this.Hu(!0);for(var c of this.Wc)!c.fb&&c.e1()&&c.Uo();(c=this.Wb())&&c.gv();e.gz.Xq();e.QN.Xq()}async cH(){await this.Wb().TG(null,this.Go());this.Yb.dispatchEvent(e.B(e.Event,"webglcontextrestored"));this.Hu(!1);this.ia()}Aaa(c){this.Hu(c.hidden)}Baa(c){this.Sq()&&this.XU&&!e.ld.qF&&!c.data.parentHasFocus&&(this.Hu(!0),this.mJ=!0)}Caa(){this.mJ&&(this.Hu(!1),this.mJ=!1)}lS(){const c=this.Kea;"vsync"===this.DI?-1===this.Be&&(this.Be=self.requestAnimationFrame(c.KW)):"unlimited-tick"===
this.DI?(-1===this.km&&(this.km=e.EF(c.Jga)),-1===this.Be&&(this.Be=self.requestAnimationFrame(c.rga))):-1===this.km&&(this.km=e.EF(c.KW))}G7(){-1!==this.Be&&(self.cancelAnimationFrame(this.Be),this.Be=-1);-1!==this.km&&(e.qY(this.km),this.km=-1)}No(){return 0<this.Ps}Hu(c){var h=this.No();this.Ps+=c?1:-1;0>this.Ps&&(this.Ps=0);c=this.No();!h&&c?(console.log("[Construct 3] Suspending"),this.G7(),this.Yb.dispatchEvent(e.B(e.Event,"suspend")),this.Ga(e.D.Ja.L.P3,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),
this.Dp=this.cC=h=performance.now(),this.Zl=this.lC=this.oB=this.pB=0,this.Yb.dispatchEvent(e.B(e.Event,"resume")),this.Ga(e.D.Ja.L.M3,null,null),this.cu()||this.pe(h))}i7(c){this.ln.Hc(c)}j7(c){this.mn.Hc(c)}Yaa(c){this.ln.Ih(c)}Xaa(c){this.sp.Ih(c)}Zaa(c){this.mn.Ih(c)}x7(){this.ln.Kh(!0);for(const c of this.ln)c.pe();this.ln.Kh(!1)}w7(){this.sp.Kh(!0);for(const c of this.sp);this.sp.Kh(!1)}y7(){this.mn.Kh(!0);for(const c of this.mn)c.Lu();this.mn.Kh(!1)}*c8(){this.ln.Kh(!0);for(const c of this.ln){const h=
c.pe();e.Um(h)&&(yield*h)}this.ln.Kh(!1)}*b8(){this.sp.Kh(!0);for(const c of this.sp)e.Um(void 0)&&(yield*void 0);this.sp.Kh(!1)}*d8(){this.mn.Kh(!0);for(const c of this.mn){const h=c.Lu();e.Um(h)&&(yield*h)}this.mn.Kh(!1)}async pe(c,h,m){this.WT=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.vB&&(!this.No()||h||g)&&(h=performance.now(),this.MB=!0,this.S$(c||0),c=this.u6(),this.ve&&await c,c=this.Yb.qfa(this.Ap.pretick),c instanceof Promise&&await c,c=this.t6(),this.ve&&
await c,this.X$()&&await this.O9(),this.kb.Rq()&&await this.O$(),c=this.v6(),this.ve&&await c,m&&this.Wo(),this.No()||g||this.lS(),this.Nk++,this.Qn++,this.gs++,this.MB=!1,this.Zl+=performance.now()-h)}async u6(){const c=this.Aa,h=this.Jb;this.Wd();c.Ge(!0);this.pu(this.Wb());h&&b.ur();this.ve?await c.$Y():c.X4();h&&b.BX();this.ou();c.Ge(!1);this.Wd();c.Ge(!0)}async t6(){const c=this.Jb,h=this.ve,m=this.Yb,g=this.Ap,k=this.MV;c&&b.ur();h?await this.oy(this.c8()):this.x7();h?await this.oy(this.b8()):
this.w7();c&&b.wX();c&&b.ur();h?await this.KM(g.tick):m.dispatchEvent(g.tick);c&&b.HX();this.Aa.Ge(!1);this.zh(k.tick)}async v6(){const c=this.Aa,h=this.Yb,m=this.Ap,g=this.Jb,k=this.ve;g&&b.ur();k?await c.YY(this.kb):c.V4(this.kb);g&&b.BX();this.ij.vM();this.hS();this.iJ=!1;c.Ge(!0);g&&b.ur();k?await this.oy(this.d8()):this.y7();g&&b.wX();g&&b.ur();k?await this.KM(m.tick2):h.dispatchEvent(m.tick2);g&&b.HX();c.Ge(!1);k&&await c.gP()}hS(){if(0!==this.Jp.size){var c=this.Yb;c.hr(!0);for(const h of this.DB)h.Nn.Vo(this.Jp);
this.DB.clear();this.Aa.B4(this.Jp);for(const h of this.Jp)h.A();this.Jp.clear();c.hr(!1)}}async O$(){const c=this.kb;let h=0;for(;c.Rq()&&10>h++;)await this.NQ(c.Kw)}S$(c){let h=0;0!==this.cC&&(h=Math.max(c-this.cC,0)/1E3,.5<h&&(h=0),this.Sv=Math.min(h,1/this.OU));this.cC=c;this.Rv=this.Sv*this.Kd;this.HI.Hc(this.Rv);this.II.Hc(h*this.Kd);this.$K.Hc(this.Sv);this.$&&this.$.eda();1E3<=c-this.Dp&&(this.Dp+=1E3,1E3<=c-this.Dp&&(this.Dp=c),this.oB=this.pB,this.pB=0,this.lC=Math.min(this.Zl/1E3,1),this.Zl=
0,this.$&&this.$.Yca(),this.Jb&&b.Gpa());this.pB++}async NQ(c){const h=this.Yb,m=this.kb.Wb();await m.Pca();m.Xca(c,this.sb());m===c&&this.Aa.cy();this.ij.vM();this.hS();h.dispatchEvent(this.Ap.beforelayoutchange);e.$k.yP(!0);await c.TG(m,this.sb());e.$k.yP(!1);await c.NS(!1);h.dispatchEvent(this.Ap.layoutchange);this.ia();this.iJ=!0;this.Wd()}ia(){this.RJ=!0}Go(){return this.$?this.$.Go():null}au(){return this.$?this.$.au():null}sb(){return this.$?this.$.sb():null}Wo(){const c=this.$;if(c&&!c.v2()){var h=
this.sb(),m=h.pk(),g=m&&h.pl();m=m&&!1;g&&h.tY();if(this.RJ){var k=this.kb.Wb();h.Ku();var n=this.Jb;n&&b.ur();this.RJ=!1;var p=null;g&&(p=c.sB.UD(),h.hG(p));g=null;m&&(g=h.Soa(2*(1+k.ec.length)),h.c7(0));this.tm&&"low"===c.bi?h.z5(c.Rj(),c.Fi()):h.h5();this.eba(this.sb(),k);p&&h.mE(p);m&&(h.c7(1),this.$.v7(g));h.Et();n&&(b.tha(),b.Ipa());c&&c.Q$()}else h.A1()}}eba(c,h){c.nk();c.oP();c.tf(1,1,1,1);c.Og(null);c.gg(null);c.Ng(this.tm);h.Ah(c)}Ga(c,h,m){if(!this.vB)return!1;var g=!this.MB&&!this.Aa.mF();
let k=0;g&&(k=performance.now());const n=this.Jb;n&&this.Cz(!1);c=this.Aa.pv(this.kb,c,h,m);g&&(g=performance.now()-k,this.Zl+=g,n&&b.Eha(g));n&&this.Cz(!0);return c}async Se(c,h,m){if(!this.ve)return this.Ga(c,h,m);if(!this.vB)return!1;if(this.cu())return this.Aa.t4(c,h,m);if(!this.Wb())return this.Aa.AF(c,h,m);const g=performance.now();c=this.Aa.Ru(this.kb,c,h,m);for(h=c.next();!h.done;)await this.Aq(h.value),h=c.next();this.No()||this.Aa.mF()||(await this.Aa.gP(),this.WT&&!this.MB&&this.lS());
this.Zl+=performance.now()-g;return h.value}pu(c){this.Mv.push(c)}ou(){if(!this.Mv.length)throw Error("layout stack empty");this.Mv.pop()}Qa(){return this.Mv.length?this.Mv.ie(-1):this.Wb()}Ey(c){return c&&-1!==c.Kd?this.Sv*c.Kd:this.Rv}ZF(c){if(isNaN(c)||0>c)c=0;this.Kd=c}JP(c){this.OU=e.ba(c,1,120)}Mm(){return this.HI.ga()}IE(){return this.II.ga()}SE(){return this.$K.ga()}nl(){++this.gs}Fg(c){if(this.Gk)throw Error("cannot call while loading state - wait until afterload event");return this.Ip.get(c)||
null}fS(){this.Ip.clear();for(const c of this.Wc)if(!c.fb)for(const h of c.ra())this.Ip.set(h.cc,h)}Sq(){return"preview"===this.un}n2(){return"cordova"===this.un}h2(){return"Android"===e.ld.Wq&&("cordova"===this.un||"playable-ad"===this.un||"instant-games"===this.un)}P5(c){c=!!c;this.Ul!==c&&(this.Ul=c,this.kb.dr(),this.ia())}Z4(c){this.Rw=c}Q2(c){this.zw=c}tF(c){this.ws=c}X$(){return!(!this.Rw&&!this.zw&&null===this.ws)}async O9(){this.Rw&&(this.Wd(),await this.F8(this.Rw),this.sG());this.zw&&(await this.E8(this.zw),
this.sG(),this.Jb&&b.Voa());if(null!==this.ws){this.Wd();try{await this.OQ(this.ws),this.Rp=this.ws,await this.Se(e.D.Ja.L.EO,null),this.Rp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Se(e.D.Ja.L.FO,null)}this.sG()}}sG(){this.zw=this.Rw="";this.ws=null}F9(){this.iK||(this.iK=localforage.nL({name:"c3-localstorage-"+this.jK,description:this.CC}));return this.iK}pR(){this.qK||(this.qK=localforage.nL({name:"c3-savegames-"+this.jK,description:this.CC}));
return this.qK}async F8(c){const h=await this.Kba();try{await this.pR().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.Rp=h,await this.Se(e.D.Ja.L.N3,null),this.Rp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Se(e.D.Ja.L.O3,null)}}async E8(c){try{const h=await this.pR().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+h.length+" chars)");await this.OQ(h);this.Rp=
h;await this.Se(e.D.Ja.L.EO,null);this.Rp=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.Se(e.D.Ja.L.FO,null)}}async Kba(){const c={c3save:!0,version:1,rt:{time:this.Mm(),timeRaw:this.IE(),walltime:this.SE(),timescale:this.Kd,tickcount:this.Nk,execcount:this.gs,next_uid:this.Hw,running_layout:this.Wb().mb,start_time_offset:Date.now()-this.On},types:{},layouts:{},events:this.Aa.ma(),timelines:this.Lb.ma(),user_script_data:null};for(var h of this.Wc)h.fb||
h.MN()||(c.types[h.mb.toString()]=h.ma());for(const m of this.kb.ej)c.layouts[m.mb.toString()]=m.ma();h=this.xG("save");h.saveData=null;await this.wo(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async OQ(c){var h=this.kb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Yb.dispatchEvent(e.B(e.Event,"beforeload"));for(var m of this.Qea())m.eA();
this.Gk=!0;m=c.rt;this.HI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.II.Set(m.timeRaw);this.$K.Set(m.walltime);this.Kd=m.timescale;this.Nk=m.tickcount;this.gs=m.execcount;this.On=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Wb().mb)if(g=h.KE(g))await this.NQ(g);else return;for(const [k,n]of Object.entries(c.types))g=this.Oy(parseInt(k,10)),!g||g.fb||g.MN()||g.ua(n);this.Wd();this.fS();this.Gk=!1;this.Hw=m.next_uid;for(const [k,n]of Object.entries(c.layouts))(m=h.KE(parseInt(k,
10)))&&m.ua(n);this.Aa.ua(c.events);for(const k of this.Wc)if(!k.fb&&k.dc())for(const n of k.ra()){m=n.zo();for(const p of k.Vg.fm)if(p!==k){g=p.ra();if(0>m||m>=g.length)throw Error("missing sibling instance");n.xr(g[m])}}this.Lb.ua(c.timelines);h.er();h.dr();this.Yb.dispatchEvent(e.B(e.Event,"afterload"));h=this.xG("load");h.saveData=c.user_script_data;await this.wo(h);this.ia()}async EX(c){c=(await Promise.all(c.map(h=>this.Eb.cl(h)))).map(h=>URL.createObjectURL(h));this.qw.z1(c)}CX(){this.qw.b5()}DX(c){this.qw.c5(c)}RD(c,
h,m){return this.qw.RD(c,h,m)}async u4(c){var h=h||2048;var m=m||2048;return this.Sl?(await this.Yq("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,h,m)}cr(){this.vT||(this.vT=!0,this.Qo("runtime","enable-device-orientation"))}Ym(){this.uT||(this.uT=!0,this.Qo("runtime","enable-device-motion"))}rl(){return this.Aea()}G9(){const c=this.Go();return{fps:this.oB,cpu:this.lC,
gpu:this.Jy(),layout:this.Wb()?this.Wb().Da():"",renderer:c?c.ox:"<unavailable>"}}cu(){return this.Jb?b.cu():!1}Aq(c){return this.ve?b.Aq(c):Promise.resolve()}yc(){return this.ve?b.$ha():!1}Cz(c){c?this.mI--:this.mI++;this.$ca()}$ca(){this.ve=this.Jb&&this.Bda&&0===this.mI}eF(){return this.Jb&&b.eF()}jF(){return this.Jb&&this.sb().pk()&&b.jF()}async oy(c){if(c)for(const h of c)await this.Aq(h)}KM(c){return this.oy(this.Yb.rfa(c))}dA(c){return this.Aa.dA(c.name,c.params)}xG(c){c=e.B(e.Event,c,!1);
c.Sf=this.qj;return c}Z9(){var c={};for(const h of this.Wc)c[h.Ji()]={value:h.cw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.qj=new self.r1(this,c);this.MV={tick:this.xG("tick")}}V9(){const c={};for(const h of this.qa().IH)c[h.Ji()]=h.qR();this.qj.W9(c)}LR(c,h){this.Zda.set(c,h)}};self.C3_CreateRuntime=e.hP.Ua;self.C3_InitRuntime=(c,h)=>c.Hg(h)}
{"use strict";const e=self.C;e.E2=class extends e.la{constructor(b,a){super();this.g=b;this.Op=new Map;this.tea=0;this.gw=a.inputPort;a.outputPort.onmessage=d=>this.YR(d);this.GU=a.maxNumWorkers;this.rw=1;this.PT=this.jw=!1}async Hg(){}z1(b){this.gw.postMessage({type:"_import_scripts",scripts:b})}b5(){this.gw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}c5(b){this.gw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}RD(b,a,d){d||(d=[]);const c=this.tea++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((h,m)=>{this.Op.set(c,{resolve:h,progress:void 0,reject:m,lL:!1})});this.gw.postMessage(b,d);this.MR();return a}YR(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.laa(d,b.result);break;case "progress":this.kaa(d,b.progress);break;case "error":this.jaa(d,b.error);break;case "ready":this.maa();break;default:throw Error(`unknown message from worker '${a}'`);}}laa(b,a){const d=this.Op.get(b);if(!d)throw Error("invalid job ID");
d.lL||d.resolve(a);this.Op.delete(b)}kaa(b,a){b=this.Op.get(b);if(!b)throw Error("invalid job ID");!b.lL&&b.progress&&b.progress(a)}jaa(b,a){const d=this.Op.get(b);if(!d)throw Error("invalid job ID");d.lL||d.reject(a);this.Op.delete(b)}maa(){this.jw&&(this.jw=!1,this.rw++,this.rw<this.GU?this.MR():this.gw.postMessage({type:"_no_more_workers"}))}async MR(){if(!(this.rw>=this.GU||this.jw||this.PT||this.Op.size<=this.rw))try{this.jw=!0,(await this.g.Yq("runtime","create-job-worker")).outputPort.onmessage=
b=>this.YR(b)}catch(b){this.PT=!0,this.jw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.rw} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const e=self.C;let b=null,a="",d="",c=[],h="",m="",g="";const k=e.B(e.UX);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.D.Ja=class extends e.Xo{constructor(p){super(p);this.Gf=this.g.qa().Gf;this.Qd=this.g.qa().kd();this.ew=this.Gp=0;this.JT=new Map}A(){super.A()}ia(){this.g.ia()}Ga(p){this.g.Ga(p,null,null)}Ty(p,q){b&&p===a&&q===d||(b=new RegExp(p,q),a=p,d=q);b.lastIndex=0;return b}wN(p,q,u){if(p===h&&q===
m&&u===g)return c;const w=this.Ty(q,u);c=p.match(w);h=p;m=q;g=u;return c}async VG(p,q){if(q.length){this.Gp+=q.length;var u=[];for(const w of q)u.push(p.qO(w));await e.n4(u,()=>{this.ew++});this.ew++;this.ew===this.Gp&&(this.g.Ga(e.D.Ja.L.C3,null,null),this.Gp=this.ew=0)}}RS(p,q){for(const u of q)0===u.H.length&&p.b3(u)}hR(){return k}gba(p){var q=this.g.qa();const u=q.kd(),w=u.lf(),r=w.Nb(),v=r.Fd();var y=w.ek();const A=u.Va(r),G=q.Gf,z=G.Va();if(y)for(y=0;y<p&&!z.Bc;++y)q.Ne(v),z.Kc(y),r.Lg(w,A),
q.Sb(v);else for(q=0;q<p&&!z.Bc;++q)z.Kc(q),r.Lg(w,A);u.Ra();G.Ra();return!1}*j8(p){var q=this.g.qa();const u=q.kd(),w=u.lf(),r=w.Nb(),v=r.Fd();var y=w.ek();const A=u.Va(r),G=q.Gf,z=G.Va();if(y)for(y=0;y<p&&!z.Bc;++y)q.Ne(v),z.Kc(y),yield*r.Cg(w,A),q.Sb(v);else for(q=0;q<p&&!z.Bc;++q)z.Kc(q),yield*r.Cg(w,A);u.Ra();G.Ra();return!1}kda(){var p=this.g.qa();const q=p.kd(),u=q.lf(),w=u.Nb(),r=w.Fd();var v=u.ek();const y=q.Va(w),A=p.Gf,G=A.Va();if(v)for(v=0;!G.Bc;++v)p.Ne(r),G.Kc(v),w.Lg(u,y)||G.Re(),p.Sb(r);
else for(p=0;!G.Bc;++p)G.Kc(p),w.Lg(u,y)||G.Re();q.Ra();A.Ra();return!1}*C8(){var p=this.g.qa();const q=p.kd(),u=q.lf(),w=u.Nb(),r=w.Fd();var v=u.ek();const y=q.Va(w),A=p.Gf,G=A.Va();if(v)for(v=0;!G.Bc;++v)p.Ne(r),G.Kc(v),(yield*w.Cg(u,y))||G.Re(),p.Sb(r);else for(p=0;!G.Bc;++p)G.Kc(p),(yield*w.Cg(u,y))||G.Re();q.Ra();A.Ra();return!1}m9(p,q,u){var w=this.g.qa();const r=w.kd(),v=r.lf(),y=v.Nb(),A=y.Fd(),G=v.ek(),z=r.Va(y),F=w.Gf,H=F.Va();H.Hz(p);if(u<q)if(G)for(p=q;p>=u&&!H.Bc;--p)w.Ne(A),H.Kc(p),
y.Lg(v,z),w.Sb(A);else for(w=q;w>=u&&!H.Bc;--w)H.Kc(w),y.Lg(v,z);else if(G)for(p=q;p<=u&&!H.Bc;++p)w.Ne(A),H.Kc(p),y.Lg(v,z),w.Sb(A);else for(w=q;w<=u&&!H.Bc;++w)H.Kc(w),y.Lg(v,z);r.Ra();F.Ra();return!1}*g8(p,q,u){var w=this.g.qa();const r=w.kd(),v=r.lf(),y=v.Nb(),A=y.Fd(),G=v.ek(),z=r.Va(y),F=w.Gf,H=F.Va();H.Hz(p);if(u<q)if(G)for(p=q;p>=u&&!H.Bc;--p)w.Ne(A),H.Kc(p),yield*y.Cg(v,z),w.Sb(A);else for(w=q;w>=u&&!H.Bc;--w)H.Kc(w),yield*y.Cg(v,z);else if(G)for(p=q;p<=u&&!H.Bc;++p)w.Ne(A),H.Kc(p),yield*y.Cg(v,
z),w.Sb(A);else for(w=q;w<=u&&!H.Bc;++w)H.Kc(w),yield*y.Cg(v,z);r.Ra();F.Ra();return!1}n9(p){var q=this.g.qa();const u=q.kd(),w=u.lf(),r=w.Nb(),v=r.Fd();var y=w.ek();const A=u.Va(r),G=q.Gf,z=G.Va(),F=p.dc(),H=p.V(),J=k.Va();e.Sc(J,H.ra());if(y)for(let M=0,P=J.length;M<P&&!z.Bc;++M)q.Ne(v),y=J[M],p.V().mk(y),F&&y.Wi(),z.Kc(M),r.Lg(w,A),q.Sb(v);else{H.qe(!1);p=H.H;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.Bc;++M)q=J[M],p[0]=q,F&&q.Wi(),z.Kc(M),r.Lg(w,A)}u.Ra();G.Ra();e.F(J);k.Ra();return!1}*h8(p){var q=
this.g.qa();const u=q.kd(),w=u.lf(),r=w.Nb(),v=r.Fd();var y=w.ek();const A=u.Va(r),G=q.Gf,z=G.Va(),F=p.dc(),H=p.V(),J=k.Va();e.Sc(J,H.ra());if(y)for(let M=0,P=J.length;M<P&&!z.Bc;++M)q.Ne(v),y=J[M],p.V().mk(y),F&&y.Wi(),z.Kc(M),yield*r.Cg(w,A),q.Sb(v);else{H.qe(!1);p=H.H;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.Bc;++M)q=J[M],p[0]=q,F&&q.Wi(),z.Kc(M),yield*r.Cg(w,A)}u.Ra();G.Ra();e.F(J);k.Ra();return!1}o9(p,q){var u=this.g.qa();const w=u.kd(),r=u.Uf(),v=w.lf(),y=v.Nb(),A=y.Fd(),G=v.ek(),
z=w.Va(y),F=u.Gf,H=F.Va(),J=p.dc(),M=p.V(),P=k.Va();e.F(P);const R=M.ra();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.ru(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Bc;++T)u.Ne(A),q=P[T][0],p.V().mk(q),J&&q.Wi(),H.Kc(T),y.Lg(v,z),u.Sb(A);else{M.qe(!1);p=M.H;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Bc;++T)u=P[T][0],p[0]=u,J&&u.Wi(),H.Kc(T),y.Lg(v,z)}w.Ra();F.Ra();e.F(P);k.Ra();return!1}*i8(p,q){var u=this.g.qa();const w=u.kd(),r=u.Uf(),v=w.lf(),y=v.Nb(),A=y.Fd(),
G=v.ek(),z=w.Va(y),F=u.Gf,H=F.Va(),J=p.dc(),M=p.V(),P=k.Va();e.F(P);const R=M.ra();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.ru(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Bc;++T)u.Ne(A),q=P[T][0],p.V().mk(q),J&&q.Wi(),H.Kc(T),yield*y.Cg(v,z),u.Sb(A);else{M.qe(!1);p=M.H;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Bc;++T)u=P[T][0],p[0]=u,J&&u.Wi(),H.Kc(T),yield*y.Cg(v,z)}w.Ra();F.Ra();e.F(P);k.Ra();return!1}Zz(p,q){let u=this.JT.get(p);if(u)return u;if(!q)return null;
u={jo:null,ID:new Map};this.JT.set(p,u);return u}D8(p,q,u,w,r){q.Ke().U4(u);w&&p.Sb(r)}*e8(p,q,u,w,r){yield*q.Ke().XY(u);w&&p.Sb(r)}}}{"use strict";const e=self.C;e.D.Ja.wl=class extends e.la{constructor(b){super();this.M=b;this.g=b.I();this.ki=b.Fb()}zd(){}A(){this.ki=this.g=this.M=null}}}{"use strict";const e=self.C;e.D.Ja.Instance=class extends e.la{constructor(b){super();this.ja=b;this.M=this.ja.J();this.Rc=this.M.Rc;this.g=this.ja.I()}A(){this.g=this.Rc=this.M=this.ja=null}}}
{"use strict";const e=self.C,b=[];e.D.Ja.L={bja(){return!0},DO(){return!0},E3(){return!0},P3(){return!0},M3(){return!0},No(){return this.g.No()},SM(){const a=this.g.kf();return a.tI?!1:!a.Pp},F6(){const a=this.g.Uf().Yj();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Nk;a.set("TriggerOnce_lastTick",c);return this.g.iJ||d!==c-1},aja(a){const d=this.g.Uf().Yj(),c=d.get("Every_lastTime")||0,h=this.g.Mm();d.has("Every_seconds")||d.set("Every_seconds",
a);const m=d.get("Every_seconds");if(h>=c+m)return d.set("Every_lastTime",c+m),h>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",h),d.set("Every_seconds",a),!0;h<c-.1&&d.set("Every_lastTime",h);return!1},Pq(a){return(a=this.g.qa().iN(a))&&a.Pq()},Sq(){return this.g.Sq()},qF(){return e.ld.qF},H3(){return!0},t3(){return!0},Wia(){return!0},N3(){return!0},O3(){return!0},EO(){return!0},FO(){return!0},hla(a){return!!this.g.Fg(a)},hka(a){switch(a){case 0:return"browser"===e.ld.dE;case 1:return"iOS"===
e.ld.Wq;case 2:return"Android"===e.ld.Wq;case 8:return"cordova"===e.ld.dE;case 9:return"scirra-arcade"===this.g.un;case 10:return"nwjs"===e.ld.dE;case 13:return"windows-uwp"===this.g.un;default:return!1}},lma(a,d,c){return this.Ty(d,c).test(a)},DY(a,d,c){return e.compare(a,d,c)},ria(a,d,c){return a>=d&&a<=c},FY(a,d,c){return e.compare(a.ca(),d,c)},EY(a){return!!a.ca()},Bia(a,d){const c=this.g.Mm();return 0===a?(a=this.g.Uf().Yj(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",
!0),!0):!1):e.compare(c,a,d)},eka(a){return isNaN(a)},NX(a,d,c){return e.ct(e.Za(a),e.Za(c))<=e.Za(d)},l2(a,d){return e.Nf(e.Za(a),e.Za(d))},k2(a,d,c){a=e.Za(a);d=e.Za(d);c=e.Za(c);return e.Nf(c,d)?e.Nf(a,d)&&!e.Nf(a,c):!(!e.Nf(a,d)&&e.Nf(a,c))},tka(a,d){return"number"===typeof a?0===d:1===d},$ia(a){return!!a},Dla(a,d,c,h){if(!a)return!1;const m=this.hR(),g=m.Va(),k=a.V();e.Sc(g,k.ra());k.ac&&e.F(k.hc);const n=this.g.Uf();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;d=n.ru(1,q);h=n.ru(3,
q);e.compare(d,c,h)?++p:k.Cl(w)}e.hf(g,p);k.wu(g);d=!!g.length;e.F(g);m.Ra();a.kc();return d},Ela(a,d){if(!a)return!1;const c=this.hR(),h=c.Va(),m=a.V();e.Sc(h,m.ra());m.ac&&e.F(m.hc);const g=this.g.Uf();let k=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[k]=q;(d=g.ru(1,n))?++k:m.Cl(q)}e.hf(h,k);m.wu(h);d=!!h.length;e.F(h);c.Ra();a.kc();return d},Jla(a,d){if(!a)return!1;const c=a.V(),h=c.ra();d=Math.floor(d);if(d>=h.length)return!1;c.Wm(h[d]);a.kc();return!0},Nla(a){if(!a)return!1;const d=a.V(),
c=d.ra(),h=Math.floor(this.g.rl()*c.length);if(h>=c.length)return!1;d.Wm(c[h]);a.kc();return!0},Y3(a){if(!a||!a.H.length)return!1;a.V().qe(!0);a.kc();return!0},Lla(a,d,c){if(!a)return!1;const h=a.V();var m=h.ra();const g=this.g.Nb().Sd,k=this.g.Uf().tj;h.ac?(e.Sc(b,m),h.ey(),h.qe(!1)):g?(e.Sc(b,h.hc),e.F(h.hc)):(e.Sc(b,h.H),e.F(h.H));for(let n=0,p=b.length;n<p;++n)m=b[n],e.xor(m.j().zt(d,c),k)?h.lp(m):h.Cl(m);a.kc();return e.xor(!!h.H.length,k)},Ila(a){if(!a)return!1;var d=a.fb;let c=null;const h=
this.g.Rl;for(let m=h.length-1;0<=m;--m){const g=h[m];if(d){if(g.J().XD(a)){c=g;break}}else if(g.J()===a){c=g;break}}c||(d=a.ra(),d.length&&(c=d.ie(-1)));if(!c)return!1;a.V().Wm(c);a.kc();return!0},pma(a){return this.g.ve?this.j8(a):this.gba(a)},Rpa(){return this.g.ve?this.C8():this.kda()},z_(a,d,c){return this.g.ve?this.g8(a,d,c):this.m9(a,d,c)},ZM(a){return this.g.ve?this.h8(a):this.n9(a)},ija(a,d,c){return this.g.ve?this.i8(a,c):this.o9(a,c)},Aka(a){return a?a.Tc():!1},xka(a){return a?!a.H.length:
!1},wka(a,d,c){return a?e.compare(100*a.ke(),d,c):!1},C3(){return!0},cka(){return 0<this.Gp}}}
{"use strict";const e=self.C;function b(g,k){const n=g[0]-k[0];return 0!==n?n:g[1]-k[1]}function a(g,k){return g[1]-k[1]}const d=[],c=[],h=e.B(e.Rect),m=e.B(e.ib);e.D.Ja.Bb={h6(g,k){g.Pe(k)},LX(g,k){g.Vm()&&"number"!==typeof k&&(k=parseFloat(k));g.Pe(g.ca()+k)},ipa(g,k){g.Vm()&&g.Pe(g.ca()-k)},m5(g,k){g.Pe(!!k)},npa(g){g.Pe(!g.ca())},cna(){this.g.qa().K4()},HM(g,k,n,p,q){g&&k&&(n=this.g.fE(g,k,n,p,q))&&(q&&k.dG(n),k=this.g.qa(),k.Ge(!0),n.uA(),k.Ge(!1),g.V().mk(n),n.dc()&&n.Wi())},Nia(g,k,n,p,q){g&&
k&&(g=this.g.Ny(g))&&e.D.Ja.Bb.HM.call(this,g,k,n,p,q)},qu(g,k,n,p,q,u,w,r,v,y){if(g){var A=this.g.Qa();if(u&&(A=this.g.kb.Gq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ea(w),!u)return;h.set(k,n,p,q);k=A.qu(g,h,u,r,v,y);g.V().wu(k);g.kc()}},Xoa(){const g=this.Gf;g.bO()&&g.Dq().Re()},jr(g,k){(g=this.g.qa().iN(g))&&(0===k?g.jr(!1):1===k?g.jr(!0):g.jr(!g.Pq()))},Doa(g){this.g.ZF(g)},voa(g,k){0>k&&(k=0);if(g){g=g.V().ra();for(const n of g)n.ZF(k)}},hna(g){if(g){g=g.V().ra();for(const k of g)k.R4()}},
oG(g){if(!(0>g))return this.g.qa().SD().c2(g),!0},Lpa(g){this.g.qa().SD().a2(g);return!0},Kpa(){const g=this.g.qa();g.SD().O1(g.H0());return!0},Joa(g){g=g.toLowerCase();for(const k of this.g.qa().ug)k.y2()&&k.Ww===g&&k.WF()},async VP(g,k,n,p,q,u){const w=this.g.$;w&&(this.ia(),await w.VP(0===g?"image/png":"image/jpeg",k/100,n,p,q,u),await this.g.Se(e.D.Ja.L.t3,null))},Ena(g,k){if(!(0>=g||0>=k)){this.g.Ju(g,k);var n=this.g.Qa();n.Xx();for(const p of n.ec)p.nG();if(n=this.g.$)"off"!==n.Ot()&&this.g.M5(g,
k),n.qd(n.fo,n.eo,!0),this.g.ia()}},Qna(g){const k=this.g.$;k&&"off"!==k.Ot()&&(k.xP(0!==g?"high":"low"),k.qd(k.fo,k.eo,!0))},Yo(g){this.g.Z4(g)},Fka(g){this.g.Q2(g)},Gka(g){this.g.tF(g)},Sna(){},dna(){for(const g of this.g.kb.ej)g.P4()},Aoa(g){this.g.P5(0!==g)},JP(g){this.g.JP(g)},Moa(g,k){if(g){var n=g.V().ra(),p=this.g.Qa(),q=g.fb;g=g.$h;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.j();if(!v)continue;let y;y=q?u.Le(k+u.J().FE(g)):u.Le(k);d.push([v.ea().Na(),v.bk()]);c.push([u,y])}if(d.length){d.sort(b);
c.sort(a);k=!1;for(let w=0,r=d.length;w<r;++w)n=c[w][0],q=p.Ky(d[w][0]),g=d[w][1],u=q.H,u[g]!==n&&(u[g]=n,n.j().kv(q),q.Pg(),k=!0);k&&this.g.ia();e.F(d);e.F(c)}}},sja(g){if(!this.g.Fk){var k=this.g.kb;k.Rq()||k.by(g)}},tja(g){if(!this.g.Fk){var k=this.g.kb;k.Rq()||(g=k.Gq(g))&&k.by(g)}},Zka(g){if(!this.g.Fk){var k=this.g.kb;if(!k.Rq()){var n=k.ej,p=n.indexOf(k.Wb());g&&0===p||(g||p!==n.length-1)&&k.by(n[p+(g?-1:1)])}}},fna(){if(!this.g.Fk){var g=this.g.kb;g.Rq()||(g.by(g.Wb()),this.g.qa().L4())}},
eoa(g,k){g&&g.Lh(k)},Zna(g,k){g&&g.lk(k/100)},aoa(g,k){g&&g.LP(k)},boa(g,k){g&&g.S5(k)},Tna(g,k){g&&g.od(e.Za(+k))},coa(g,k,n){g&&(g.Du(!0),g.Ui(k),g.Vi(n))},gna(g){g&&g.Du(!1)},$na(g,k,n){g&&g.N5(k/100,n/100)},foa(g,k){g&&g.oe(+k)},Una(g,k){g&&(m.ot(k),m.ba(),g=g.Gl,g.zm(m)||(g.Ej(m),this.ia()))},doa(g,k){g&&g.d6(k)},Vna(g,k){g&&g.fg(k)},Wna(g,k,n){g&&(n=g.Sa.el(n))&&(k=1===k,n.Pb!==k&&(n.Az(k),g.Nh(),this.g.ia()))},Xna(g,k,n,p){if(g&&(g=g.Sa,k=g.el(k))&&(g=g.dl(k.Na()),n=Math.floor(n),!(0>n||n>=
g.length))){var q=k.$f().Py(n);if("color"===q){m.ot(p);n=g[n];if(m.zm(n))return;n.Ej(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}k.Pb&&this.g.ia()}},Yna(g,k){g&&g.B5(k)},koa(g){this.g.Qa().UF(+g)},goa(g){this.g.Qa().od(e.Za(+g))},hoa(g,k){const n=this.g.Qa();if(k=n.Sa.el(k))g=1===g,k.Pb!==g&&(k.Az(g),n.Nh(),this.g.ia())},ioa(g,k,n){var p=this.g.Qa().Sa;if(g=p.el(g))if(p=p.dl(g.Na()),k=Math.floor(k),!(0>k||k>=p.length)){var q=g.$f().Py(k);if("color"===q){m.ot(n);k=p[k];if(m.zm(k))return;
k.Ej(m)}else{"percent"===q&&(n/=100);if(p[k]===n)return;p[k]=n}g.Pb&&this.g.ia()}},loa(g,k){this.g.Qa().g6(g/100,k/100)},joa(g){const k=this.g.Qa();0===g?k.NP():k.KP()},vna(g){this.g.Qa().Ui(g)},wna(g){this.g.Qa().Vi(g)},tna(g,k){const n=this.g.Qa();n.Ui(g);n.Vi(k)},una(g){if(g&&(g=g.Fq())&&(g=g.j())){var k=this.g.Qa();k.Ui(g.N());k.Vi(g.O())}},async S2(g){const k=this.g.Wb();k&&g&&!this.g.Fk&&await this.VG(k,g.fb?g.Bp:[g])},async Eka(g){await e.D.Ja.Bb.S2.call(this,this.g.Ny(g))},I6(g){const k=this.g.Wb();
k&&g&&this.RS(k,g.fb?g.Bp:[g])},Dpa(g){e.D.Ja.Bb.I6.call(this,this.g.Ny(g))},Epa(){const g=this.g.Wb();if(g){var k=g.N9();this.RS(g,k)}},async Cka(g){const k=this.g.Wb();g&&k&&!this.g.Fk&&await this.VG(k,g.iR())},async Dka(g){const k=this.g.Wb();(g=this.g.kb.Gq(g))&&k&&!this.g.Fk&&await this.VG(k,g.iR())},Fz(g){const k=this.Qd.P_();if(k)switch(k.KT){case 1:"number"===typeof g&&k.Fz(g);break;case 2:"string"===typeof g&&k.Fz(g);break;case 3:k.Fz(g)}},Kka(g,k,n){var p=this.Zz(g.toLowerCase(),!0);const q=
p.ID,u=k.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${k}' already in map; overwriting entry`);(p=e.first(q.values())||p.jo)&&0!==p.jm!==(0!==n.jm)?console.error(`[Construct 3] Function map '${g}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Lka(g,k){const n=this.Zz(g.toLowerCase(),!0);n.jo&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=e.first(n.ID.values())||
n.jo;p&&0!==p.jm!==(0!==k.jm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.jo=k},iia(g,k,n){n=Math.floor(n);var p=this.Zz(g.toLowerCase(),!1);if(p){var q=p.ID.get(k.toLowerCase());if(!q)if(p.jo)q=p.jo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${k}'; call ignored (consider setting a default)`);return}if(q.Qm())if(0!==q.jm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${k}' has a return type so cannot be called`);
else{g=this.g;k=g.qa();var u=k.Nb();p=u.Gd();var w=0<p.length;w&&k.Kg(p);var r=[];if(u=k.qE(u)){u=u.Zg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].ca())}n=q.Zg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].nb);return g.ve?this.e8(k,q,r,w,p):this.D8(k,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const e=self.C;e.D.Ja.rb={Jfa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},tfa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Dm(b){return b.toString()},kt(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.rl()*b:this.g.rl()*(a-b)+b},cfa(...b){return b[Math.floor(this.g.rl()*b.length)]},Dsa(){return Math.PI},Bra(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},cta(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.Za(b))},cos(b){return Math.cos(e.Za(b))},tan(b){return Math.tan(e.Za(b))},asin(b){return e.Bg(Math.asin(b))},acos(b){return e.Bg(Math.acos(b))},atan(b){return e.Bg(Math.atan(b))},exp(b){return Math.exp(b)},Xfa(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let h=b[d];"number"===typeof h&&a<h&&(a=h)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let h=b[d];"number"===typeof h&&a>h&&(a=h)}return a},ba(b,a,d){return e.ba(b,a,d)},zx(b,a,d,c){return e.xm(b,a,d,c)},angle(b,a,d,c){return e.Bg(e.dt(b,a,d,c))},je(b,a,d){return e.je(b,a,d)},JD(b,a,d){return e.JD(b,a,d)},DD(b,a,d,c){return e.DD(b,a,d,c)},iW(b,a,d,c,h){return e.iW(b,
a,d,c,h)},hW(b,a,d){return e.hW(b,a,d)},iqa(b,a){return e.Bg(e.ct(e.Za(b),e.Za(a)))},jqa(b,a,d){return e.Bg(e.eL(e.Za(b),e.Za(a),d))},kqa(b,a,d){return e.Bg(e.fL(e.Za(b),e.Za(a),e.Za(d)))},ota(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},xta(b,a){return(b|0)^1<<(a|0)},tra(b,a){return(b|0)&1<<(a|0)?1:0},isa(){return"\n"},Uga(b){return"string"===typeof b?b.toUpperCase():""},asa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},Mga(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},Nga(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.Bt(a),"i")):-1},Vqa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(e.Bt(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.Bt(a),"gi"),d):"string"===typeof b?b:""},Osa(b,a,d){a=this.Ty(a,d);return b?b.search(a):-1},Nsa(b,a,d,c){a=this.Ty(a,d);return b?b.replace(a,c):""},Msa(b,a,d){return(b=this.wN(b.toString(),a,d))?b.length:0},Lsa(b,a,d,c){c=Math.floor(c);b=this.wN(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},Vta(b,a){let d=0>b?"-":"";0>b&&(b=-b);
d+="0".repeat(Math.max(a-b.toString().length,0));return d+b.toString()},Gta(b){return encodeURIComponent(b)},Fta(b){return decodeURIComponent(b)},nW(){return this.g.Rv},vta(){return this.g.Kd},Rta(){return(Date.now()-this.g.On)/1E3},Dta(){return Date.now()},time(){return this.g.Mm()},uta(){return this.g.Nk},rsa(){return this.g.WJ},Xqa(){return this.g.oB},Eqa(){return this.g.lC},vra(){return this.g.Jy()},Uta(){return this.g.$.Uh},Tta(){return this.g.$.Th},xsa(){return this.g.ih},wsa(){return this.g.hh},
vsa(){return this.g.ih},usa(){return this.g.hh},fta(){return this.g.Qa().Yf()},gta(){return this.g.Qa().Zf()},Xra(){return this.g.Qa().Da()},Yra(){return this.g.Qa().Cd},Vra(){return e.Bg(this.g.Qa().oa())},Ufa(){return this.g.Qa().S()},Wra(){return this.g.Qa().U()},Mta(b){return(b=this.g.Qa().ea(b))?b.bo.fa:0},Ota(b){return(b=this.g.Qa().ea(b))?b.bo.Y:0},Nta(b){return(b=this.g.Qa().ea(b))?b.bo.na:0},Kta(b){return(b=this.g.Qa().ea(b))?b.bo.ka:0},Pta(b){return(b=this.g.Qa().ea(b))?b.bo.width():0},
Lta(b){return(b=this.g.Qa().ea(b))?b.bo.height():0},xqa(b,a,d){return(b=this.g.Qa().ea(b))?b.xh(a,d)[0]:0},yqa(b,a,d){return(b=this.g.Qa().ea(b))?b.xh(a,d)[1]:0},Sra(b,a,d){return(b=this.g.Qa().ea(b))?b.Po(a,d)[0]:0},Tra(b,a,d){return(b=this.g.Qa().ea(b))?b.Po(a,d)[1]:0},Ora(b){return(b=this.g.Qa().ea(b))?b.Cd:0},Jra(b){return(b=this.g.Qa().ea(b))?e.Bg(b.se):0},Lra(b){return(b=this.g.Qa().ea(b))?100*b.ke():0},Pra(b){return(b=this.g.Qa().ea(b))?b.zj:0},Qra(b){return(b=this.g.Qa().ea(b))?b.Yf():0},
Rra(b){return(b=this.g.Qa().ea(b))?b.Zf():0},Mra(b){return(b=this.g.Qa().ea(b))?100*b.de:0},Nra(b){return(b=this.g.Qa().ea(b))?100*b.ee:0},Ura(b){return(b=this.g.Qa().ea(b))?b.Xa():0},Kra(b){return(b=this.g.Qa().ea(b))?b.Na():-1},wqa(){const b=this.g.$;return b?b.vK:""},Zfa(b){const a=this.Gf;return a.bO()?b?(b=a.v_(b))?b.Na():0:a.Dq().Na():0},dta(){return this.g.Rp},uqa(b,a,...d){var c=this.Zz(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),
0;var h=c.ID.get(a.toLowerCase());if(!h)if(c.jo)h=c.jo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=h.jm;const m=h.Pt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Qm())return m;b=this.g.qa();a=b.Nb().Gd();const g=0<a.length;g&&b.Kg(a);const k=h.Zg;for(let n=
d.length,p=k.length;n<p;++n)d.push(k[n].nb);h=h.Ke();d=h.IF(h.Gd(),c,m,...d);g&&b.Sb(a);return d},$ra(){return this.g.Eb.aC},zra(){return 0===this.Gp?1:this.ew/this.Gp},no(){return this.g.au()?"webgpu":"webgl"},Ssa(){return this.g.au()?"<unavailable>":this.g.Go().ox},Ara(){let b=this.g.sb().T_();return Math.round(100*b/1048576)/100},Tsa(b,a,d){return e.V3(b,a,d)},Wsa(b,a,d){return e.LO(b/100,a/100,d/100)},Usa(b,a,d,c){return e.sz(b/100,a/100,d/100,c/100)},sga(b,a,d){return e.LO(b/255,a/255,d/255)},
Vsa(b,a,d,c){return e.sz(b/255,a/255,d/255,c/255)},lga(){return this.g.CC},mga(){return this.g.cV},Iqa(){return this.g.Nb().ad.Da()},Hqa(){return this.g.Nb().$r}}}{"use strict";const e=self.C;e.D.ub=class extends e.Xo{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const e=self.C;e.D.ub.wl=class extends e.vu{constructor(b){super(b);this.Od=b.Od}A(){e.F(this.Od);super.A()}zd(){for(const b of this.Od)b.M2(this.g)}Uq(b){const a={Ij:this.g.Bd};return Promise.all(this.Od.map(d=>d.N2(b,a)))}Uo(){for(const b of this.Od)b.w4()}rz(){this.US()}US(){for(const b of this.M.Ifa())b.ta.uH()}Ft(b){e.D.ub.w_(this,b)}}}
{"use strict";const e=self.C,b=self.wh,a=e.B(e.Rect),d=e.B(e.Hd),c=e.B(e.Nu);e.D.ub.Instance=class extends e.KF{constructor(m,g){super(m);let k=!0,n="",p=0,q=!0;g&&(k=!!g[0],n=g[1],p=g[2],q=g[3]);this.Ub=this.M.bN(n)||this.M.Od[0];this.yb=e.ba(p,0,this.Ub.Rd.length-1);this.Xe=this.Ub.Lm(this.yb);g=this.Xe.Vf();this.Ur=g.me();this.lI=g.$j();this.Nv=g.Wy();this.U0();m.Au(2,!0);m.Au(1,0<=this.Ub.kl());this.Bk=Math.abs(this.Ub.kl());this.Tr=this.Ub.iV;this.AA=e.B(e.oz);this.xk=this.pj=0;this.LH="";this.Iv=
-1;this.Nr="";this.lT=0;m=this.j();this.Ada=m.Oj();m.Lh(k);m.xu(q);m.lr(this.Xe.hl());m.mr(this.Xe.il());m.YF(this.Xe.tp);m.$a();1===this.M.Od.length&&1===this.M.Od[0].Rd.length||0===this.Bk||this.cj()}A(){this.AA=this.Ur=this.Xe=this.Ub=null;super.A()}Ch(){return this.Xe.Vf()}Mo(){return!0}Xq(){this.Ur=null}KO(){this.uH()}Ah(m){var g=this.Ur;null!==g&&(m.gg(g),g=this.j(),g.bg()?this.HG(g,m):this.IG(g,m))}IG(m,g){let k=this.Ada;this.g.Ul&&(k=m.MO(k));g.s4(k,this.Nv)}HG(m,g){const k=m.IN();if(m.eO()){m.$x(a,
d,!1);let n=d;this.g.Ul&&(n=m.MO(n));k.qM(m.Zj(),n,this.Nv);m.SF(!1)}k.Ah(g)}It(){return this.AA.ga()}iz(){return this.ja.GE(2)}fr(m){this.ja.Au(2,m)}lz(){return this.ja.GE(1)}Eu(m){this.ja.Au(1,m)}lF(){return this.ja.GE(4)}AP(m){this.ja.Au(4,m)}pe(){this.Nr&&this.MQ();0<=this.Iv&&this.EG();const m=this.Bk;if(this.iz()&&0!==m){this.AA.Hc(this.g.Ey(this.ja));var g=this.It(),k=this.Xe,n=k.xT/m;if(!(g<this.pj+n)){var p=this.Ub,q=this.Tr,u=p.Rd.length,w=p.Hh(),r=p.NB,v=p.gea;this.lz()?this.yb++:this.yb--;
this.pj+=n;this.yb>=u&&(v?(this.Eu(!1),this.yb=u-2):r?this.yb=q:(this.xk++,this.xk>=w?this.KG(!1):this.yb=q));0>this.yb&&(v?(this.yb=1,this.Eu(!0),r||(this.xk++,this.xk>=w&&this.KG(!0))):r?this.yb=q:(this.xk++,this.xk>=w?this.KG(!0):this.yb=q));this.yb=e.ba(this.yb,0,u-1);n=p.Lm(this.yb);g>this.pj+n.xT/m&&(this.pj=g);this.fA(k,n)}}else this.Hr()}KG(m){this.yb=m?0:this.Ub.Rd.length-1;this.fr(!1);this.LH=this.Ub.Da();this.AP(!0);this.jE("animationend",!1,{animationName:this.LH});this.Ga(e.D.ub.L.r3);
this.Ga(e.D.ub.L.q3);this.AP(!1);this.xk=0}fA(m,g){if(m!==g){var k=this.j(),n=m.Vf();m=g.Vf();var p=n.S();n=n.U();var q=m.S(),u=m.U();p!==q&&k.Qe(k.S()*(q/p));n!==u&&k.uf(k.U()*(u/n));k.lr(g.hl());k.mr(g.il());k.YF(g.tp);k.$a();this.Xe=g;this.Ur=m.me();this.lI=m.$j();this.Nv=m.Wy();g=this.Fa().rd;for(let w=0,r=g.length;w<r;++w);this.jE("framechange",!1,{animationName:this.Ub.Da(),$V:this.yb});this.Ga(e.D.ub.L.z3);this.g.ia()}}Mca(m){this.fr(!0);this.pj=this.It();1===m&&0!==this.yb&&(this.Iv=0,this.lF()||
this.EG());this.cj()}Pba(m,g){this.Nr=m;this.lT=g;this.cj();this.lF()||this.MQ()}fR(){return this.Nr?this.Nr:this.Ub.Da()}xS(m){isFinite(m)&&(this.Iv=m,this.lF()||this.EG())}Rba(m){this.Bk=Math.abs(m);this.Eu(0<=m);0<this.Bk&&this.cj()}bR(){return this.lz()?this.Bk:-this.Bk}Qba(m){this.Tr=m=e.ba(Math.floor(m),0,this.Ub.Rd.length-1)}MQ(){const m=this.Xe;var g=this.M.bN(this.Nr);this.Nr="";!g||g===this.Ub&&this.iz()||(this.Ub=g,this.Eu(0<=g.kl()),this.Bk=Math.abs(g.kl()),this.Tr=g.iV,this.yb=e.ba(this.yb,
0,this.Ub.Rd.length-1),1===this.lT&&(this.yb=0),this.fr(!0),this.pj=this.It(),g=this.Ub.Lm(this.yb),this.fA(m,g))}EG(){const m=this.Xe;var g=this.yb;this.yb=e.ba(Math.floor(this.Iv),0,this.Ub.Rd.length-1);this.Iv=-1;g!==this.yb&&(g=this.Ub.Lm(this.yb),this.fA(m,g),this.pj=this.It())}uH(){const m=this.Xe.Vf();this.Ur=m.me();this.lI=m.$j();this.Nv=m.Wy();this.j().SF(!0)}me(){return this.Ur}$j(){return this.lI}Wy(){return this.Nv}JE(){return this.Xe.JE()}Nm(m){const g=this.Xe,k=this.j();if("string"===
typeof m)m=g.i0(m);else if("number"===typeof m)m=g.h0(m-1);else throw new TypeError("expected string or number");if(!m)return[k.N(),k.O()];c.wa(m.fK);if(k.bg()){const [n,p]=k.Zj().$P(c.T,c.R);c.set(n,p)}c.offset(-g.hl(),-g.il());c.scale(k.S(),k.U());c.rotate(k.oa());c.offset(k.N(),k.O());return[c.T,c.R]}N_(){return this.j().ll().MW()}dN(m){m=Math.floor(m);const g=this.j();var k=g.ll();const n=k.MW();m===n&&(m=0);if(0>m||m>=n)return[0,0];k=k.Ud;return[k[2*m]+g.N(),k[2*m+1]+g.O()]}nd(){const m={a:this.Ub.mb};
0!==this.pj&&(m.fs=this.pj);var g=this.It();0!==g&&(m.at=g);0!==this.yb&&(m.f=this.yb);0!==this.Bk&&(m.cas=this.Bk);1!==this.xk&&(m.ar=this.xk);0!==this.Tr&&(m.rt=this.Tr);this.iz()||(m.ap=this.iz());this.lz()||(m.af=this.lz());g=this.j();g.Ni()&&(m.ce=g.Ni());return m}Uc(m){var g=this.J().F_(m.a);g&&(this.Ub=g);this.pj=m.hasOwnProperty("fs")?m.fs:0;this.AA.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.yb=e.ba(g,0,this.Ub.Rd.length-1);this.Bk=m.hasOwnProperty("cas")?m.cas:
0;this.xk=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.Tr=e.ba(g,0,this.Ub.Rd.length-1);this.fr(m.hasOwnProperty("ap")?!!m.ap:!0);this.Eu(m.hasOwnProperty("af")?!!m.af:!0);this.Xe=g=this.Ub.Lm(this.yb);this.uH();const k=this.j();k.lr(g.hl());k.mr(g.il());k.YF(g.tp);k.xu(!!m.ce)}Ic(m){const g=this.j();switch(m){case 3:return g.Ni();case 2:return e.ba(this.yb,0,this.Ub.Rd.length-1)}}Jh(m,g){var k=this.j();switch(m){case 3:k.xu(!!g);break;case 2:this.fr(!1);m=this.Ub.Rd.length-
1;k=g=e.ba(g,0,m);g=this.Ub.Lm(this.yb);const n=this.Ub.Lm(k);this.fA(g,n);this.yb=e.ba(k,0,m)}}Li(){return self.t1}};const h=new WeakMap;self.t1=class extends self.fz{constructor(){super();h.set(this,self.du.zr().ta)}get animationName(){return h.get(this).fR()}set $V(m){b.ik(m);h.get(this).xS(m)}get $V(){return h.get(this).yb}get imageWidth(){return h.get(this).Ch().S()}get imageHeight(){return h.get(this).Ch().U()}}}
{"use strict";const e=self.C;e.D.ub.L={i2(b){return e.th(this.fR(),b)},tia(b,a){return e.compare(this.yb,b,a)},qia(b,a){return e.compare(this.bR(),b,a)},q3(b){return e.th(this.LH,b)},r3(){return!0},z3(){return!0},dka(){return 0>this.j().S()},Vja(){return 0>this.j().U()},JO(){return!0},U3(){return!0},Ni(){return this.j().Ni()}}}
{"use strict";const e=self.C;e.D.ub.Bb={Noa(b,a,d,c){if(b&&a){var [h,m]=this.Nm(d);if(d=this.g.fE(b,a,h,m,c)){c&&a.dG(d);b.Fb().Tq()&&(a=d.j(),a.od(this.j().oa()),a.$a());a=this.g.qa();a.Ge(!0);d.uA();a.Ge(!1);c=this.g.Nt().Yj();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.gs)a=!0,c.set("Spawn_LastExec",this.g.gs);if(b!==this.J()&&(b=b.V(),b.qe(!1),b=b.H,a&&e.F(b),b.push(d),d.dc()))for(const g of d.Id)d=g.J().V(),a?d.mk(g):(d.qe(!1),d.lp(g))}}},w6(){this.fr(!1)},Roa(b){this.Mca(b)},
f5(b,a){this.Pba(b,a)},g5(b){this.xS(b)},Bna(b){this.Rba(b)},Ana(b){this.Qba(b)},soa(b){const a=this.j(),d=a.S();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.Qe(b),a.$a())},Mna(b){const a=this.j(),d=a.U();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.uf(b),a.$a())},UF(b){const a=this.Xe.Vf(),d=this.j();var c=0>d.S()?-1:1;const h=0>d.U()?-1:1;c*=a.S()*b;b=a.U()*b*h;if(d.S()!==c||d.U()!==b)d.qd(c,b),d.$a()},async Hka(b,a){const d=this.Xe.Vf(),c=this.j(),h=this.g;if(d.Qk===b)0===a&&(c.qd(d.S(),d.U()),c.$a()),this.Ga(e.D.ub.L.JO);
else{var m=e.B(e.gz);try{await m.P2(h,b);if(!m.oF())throw Error("image failed to load");await m.ju(h.sb(),{Ij:this.g.Bd})}catch(g){console.error("Load image from URL failed: ",g);this.Ga(e.D.ub.L.U3);return}d.J4(m);this.Rc.US();this.Pz()||0!==a||(c.qd(d.S(),d.U()),c.$a());h.ia();this.Pz()||await this.Se(e.D.ub.L.JO)}},Fna(b){this.j().xu(b)},XF(b,a){this.j().XF(0===b,a)},t5(b){this.j().fg(b);this.g.ia()}}}"use strict";
self.C.D.ub.rb={Pha(){return this.yb},Qha(){return this.Ub.Rd.length},QX(){return this.Ub.Da()},Rha(){return this.bR()},wla(){return this.Ub.kl()},Dja(e){return this.Nm(e)[0]},Eja(e){return this.Nm(e)[1]},Cja(){return this.JE()},Fja(){return this.Ch().S()},Bja(){return this.Ch().U()},Zla(e){return this.dN(e)[0]},$la(e){return this.dN(e)[1]},Yla(){return this.N_()}};{"use strict";const e=self.C;e.D.Touch=class extends e.Xo{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const e=self.C,b=self.wh;e.D.Touch.wl=class extends e.vu{constructor(d){super(d)}A(){super.A()}zd(){}Li(){return self.w1}};let a=null;self.w1=class extends self.ez{constructor(d){super(d);a=d;d.I().Jv.cM=this}requestPermission(d){b.Nd(d);const c=a.Mi().ta;if("orientation"===d)return c.dH(0);if("motion"===d)return c.dH(1);throw Error("invalid type");}}}
{"use strict";const e=self.C;e.D.Touch.Instance=class extends e.uu{constructor(b,a){super(b,"touch");this.ud=new Map;this.OB=this.KV=!1;this.rB=this.Wh=this.Vh=this.KK=this.aD=this.Vs=this.AH=this.zH=this.yH=this.DH=this.CH=this.BH=this.ZJ=this.YJ=this.XJ=this.rC=0;this.vC=[];a&&(this.KV=a[0]);this.QD("permission-result",d=>this.paa(d));b=this.I().Mb();this.te=new e.yt(e.hd.Xd(b,"pointerdown",d=>this.qaa(d.data)),e.hd.Xd(b,"pointermove",d=>this.raa(d.data)),e.hd.Xd(b,"pointerup",d=>this.$R(d.data,
!1)),e.hd.Xd(b,"pointercancel",d=>this.$R(d.data,!0)),e.hd.Xd(b,"deviceorientation",d=>this.daa(d.data)),e.hd.Xd(b,"deviceorientationabsolute",d=>this.eaa(d.data)),e.hd.Xd(b,"devicemotion",d=>this.caa(d.data)),e.hd.Xd(b,"tick2",()=>this.bH()))}A(){this.ud.clear();super.A()}qaa(b){if("mouse"===b.pointerType)if(this.KV)this.OB=!0;else return;const a=b.pointerId;if(!this.ud.has(a)){var d=b.pageX-this.g.Lt();b=b.pageY-this.g.Mt();var c=performance.now(),h=this.ud.size;this.Vs=h;this.aD=a;var m=e.B(e.D.Touch.B6);
m.Hg(c,d,b,a,h);this.ud.set(a,m);this.Ga(e.D.Touch.L.J3);this.Ga(e.D.Touch.L.T3);this.Vh=d;this.Wh=b;this.Ga(e.D.Touch.L.S3)}}raa(b){if("mouse"!==b.pointerType||this.OB){var a=this.ud.get(b.pointerId);if(a){var d=performance.now();2>d-a.Ha()||a.xl(d,b.pageX-this.g.Lt(),b.pageY-this.g.Mt(),b.width,b.height,b.pressure)}}}$R(b,a){if("mouse"===b.pointerType)if(this.OB)this.OB=!1;else return;const d=performance.now();b=b.pointerId;const c=this.ud.get(b);c&&(this.Vs=c.Ee,this.aD=c.Sj(),this.Ga(e.D.Touch.L.I3),
this.Ga(e.D.Touch.L.R3),a||(a=c.n6(d),"single-tap"===a?(this.Ga(e.D.Touch.L.Q3),this.Vh=c.N(),this.Wh=c.O(),this.Ga(e.D.Touch.L.HO)):"double-tap"===a&&(this.Ga(e.D.Touch.L.w3),this.Vh=c.N(),this.Wh=c.O(),this.Ga(e.D.Touch.L.zO))),c.A(),this.ud.delete(b))}dH(b){this.eS("request-permission",{type:b});return new Promise((a,d)=>{this.vC.push({type:b,resolve:a,reject:d})})}paa(b){const a=b.result,d=b.type;this.KK=d;b=this.vC.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.vC=
this.vC.filter(c=>c.type!==d);a?(this.Ga(e.D.Touch.L.L3),0===d?this.g.cr():this.g.Ym()):this.Ga(e.D.Touch.L.K3)}daa(b){"number"===typeof b.webkitCompassHeading?this.rC=b.webkitCompassHeading:b.absolute&&(this.rC=b.alpha);this.XJ=b.alpha;this.YJ=b.beta;this.ZJ=b.gamma}eaa(b){this.rC=b.alpha}caa(b){const a=b.acceleration;a&&(this.BH=a.x,this.CH=a.y,this.DH=a.z);if(b=b.accelerationIncludingGravity)this.yH=b.x,this.zH=b.y,this.AH=b.z}bH(){const b=performance.now();let a=0;for(const d of this.ud.values())d.Ha()<=
b-50&&d.oca(b),d.m6(b)&&(this.Vs=d.Ee,this.aD=d.Sj(),this.rB=a,this.Ga(e.D.Touch.L.A3),this.Vh=d.N(),this.Wh=d.O(),this.Ga(e.D.Touch.L.B3),this.rB=0),++a}aj(b){b=Math.floor(b);for(const a of this.ud.values()){if(0===b)return a;--b}return null}Wu(b,a){return 0<=b&&0<=a&&b<this.g.M_()&&a<this.g.L_()}}}
{"use strict";const e=self.C,b=[];e.D.Touch.L={T3(){return!0},R3(){return!0},Xja(){return 0<this.ud.size},S3(a){return a&&this.Wu(this.Vh,this.Wh)?this.g.ij.Jz(a,this.Vh,this.Wh):!1},B2(a){if(!a)return!1;const d=a.V();var c=d.ra();for(const h of c){c=h.j();const m=c.ea();for(const g of this.ud.values()){if(!this.Wu(g.N(),g.O()))continue;const [k,n]=m.xh(g.N(),g.O(),c.qf());if(c.zt(k,n)){b.push(h);break}}}return b.length?(d.wu(b),a.kc(),e.F(b),!0):!1},Cia(a,d,c){return(a=this.aj(a))?e.compare(a.kl(),
d,c):!1},vla(){return!0},Qka(){return!0},yia(a,d,c){this.g.cr();return e.compare(0===a?this.XJ:1===a?this.YJ:this.ZJ,d,c)},pia(a,d,c){this.g.Ym();return e.compare(0===a?this.yH:1===a?this.zH:2===a?this.AH:3===a?this.BH:4===a?this.CH:this.DH,d,c)},J3(a){a=Math.floor(a);return a===this.Vs},I3(a){a=Math.floor(a);return a===this.Vs},uja(a){a=Math.floor(a);return this.ud.size>=a+1},A3(){return!0},Q3(){return!0},w3(){return!0},B3(a){return a&&this.Wu(this.Vh,this.Wh)?this.g.ij.Jz(a,this.Vh,this.Wh):!1},
HO(a){return a&&this.Wu(this.Vh,this.Wh)?this.g.ij.Jz(a,this.Vh,this.Wh):!1},zO(a){return a&&this.Wu(this.Vh,this.Wh)?this.g.ij.Jz(a,this.Vh,this.Wh):!1},L3(a){return this.KK===a},K3(a){return this.KK===a}}}"use strict";self.C.D.Touch.Bb={sma(e){this.dH(e)}};
{"use strict";const e=self.C;e.D.Touch.rb={rpa(){return this.ud.size},d7(b){const a=this.aj(this.rB);return a?a.Iq(this.g.Qa(),b,!0):0},mQ(b){const a=this.aj(this.rB);return a?a.Iq(this.g.Qa(),b,!1):0},Wpa(b,a){return(b=this.aj(b))?b.Iq(this.g.Qa(),a,!0):0},Zpa(b,a){return(b=this.aj(b))?b.Iq(this.g.Qa(),a,!1):0},Xpa(b,a){return(b=this.ud.get(b))?b.Iq(this.g.Qa(),a,!0):0},$pa(b,a){return(b=this.ud.get(b))?b.Iq(this.g.Qa(),a,!1):0},aha(){const b=this.aj(0);return b?b.N():0},dha(){const b=this.aj(0);
return b?b.O():0},bha(b){return(b=this.aj(b))?b.N():0},eha(b){return(b=this.aj(b))?b.O():0},cha(b){return(b=this.ud.get(b))?b.N():0},fha(b){return(b=this.ud.get(b))?b.O():0},Ooa(b){return(b=this.aj(b))?b.kl():0},Poa(b){return(b=this.ud.get(b))?b.kl():0},Nha(b){return(b=this.aj(b))?e.Bg(b.oa()):0},Oha(b){return(b=this.ud.get(b))?e.Bg(b.oa()):0},Jia(){this.g.cr();return this.rC},Hha(){this.g.cr();return this.XJ},Xha(){this.g.cr();return this.YJ},mja(){this.g.cr();return this.ZJ},hha(){this.g.Ym();return this.yH},
jha(){this.g.Ym();return this.zH},lha(){this.g.Ym();return this.AH},gha(){this.g.Ym();return this.BH},iha(){this.g.Ym();return this.CH},kha(){this.g.Ym();return this.DH},tpa(){return this.Vs},spa(){return this.aD},Tpa(b){return(b=this.ud.get(b))?b.S():0},vja(b){return(b=this.ud.get(b))?b.U():0},ema(b){return(b=this.ud.get(b))?b.bV:0}}}
{"use strict";const e=self.C;let b=-1E3,a=-1E3,d=-1E4;e.D.Touch.B6=class extends e.la{constructor(){super();this.bV=this.W=this.Z=this.fC=this.eC=this.R=this.T=this.VC=this.UC=this.dC=this.jc=this.On=this.Ee=this.$U=0;this.UB=this.OI=!1}A(){}Hg(c,h,m,g,k){this.$U=g;this.Ee=k;this.On=this.dC=this.jc=c;this.UC=h;this.VC=m;this.T=h;this.R=m;this.eC=h;this.fC=m}xl(c,h,m,g,k,n){this.dC=this.jc;this.jc=c;this.eC=this.T;this.fC=this.R;this.T=h;this.R=m;this.Z=g;this.W=k;this.bV=n;!this.UB&&15<=e.xm(this.UC,
this.VC,this.T,this.R)&&(this.UB=!0)}Sj(){return this.$U}Ha(){return this.jc}oca(c){this.dC=c}N(){return this.T}O(){return this.R}kl(){const c=e.xm(this.T,this.R,this.eC,this.fC),h=(this.jc-this.dC)/1E3;return 0<h?c/h:0}oa(){return e.dt(this.eC,this.fC,this.T,this.R)}S(){return this.Z}U(){return this.W}m6(c){return this.OI?!1:500<=c-this.On&&!this.UB&&15>e.xm(this.UC,this.VC,this.T,this.R)?this.OI=!0:!1}n6(c){if(this.OI)return"";if(333>=c-this.On&&!this.UB&&15>e.xm(this.UC,this.VC,this.T,this.R)){if(666>=
c-d&&25>e.xm(b,a,this.T,this.R))return a=b=-1E3,d=-1E4,"double-tap";b=this.T;a=this.R;d=c;return"single-tap"}return""}Iq(c,h,m){return"undefined"===typeof h?c.Ky(0).rY(this.T,this.R)[m?0:1]:(c=c.ea(h))?c.xh(this.T,this.R)[m?0:1]:0}}}{"use strict";const e=self.C;e.D.Keyboard=class extends e.Xo{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const e=self.C;e.D.Keyboard.wl=class extends e.vu{constructor(b){super(b)}A(){super.A()}zd(){}Li(){return self.o1}};self.o1=class extends self.ez{constructor(b){super(b);b.I().Jv.keyboard=this}}}
{"use strict";const e=self.C;e.D.Keyboard.Instance=class extends e.uu{constructor(b){super(b);this.vw=new Set;this.rs=new Set;this.Ok=0;this.mx=this.bD="";b=this.I().Mb();this.te=new e.yt(e.hd.Xd(b,"keydown",a=>this.naa(a.data)),e.hd.Xd(b,"keyup",a=>this.oaa(a.data)),e.hd.Xd(b,"window-blur",()=>this.bS()),e.hd.Xd(b,"keyboard-blur",()=>this.bS()))}A(){super.A()}naa(b){const a=b.which,d=b.code||a.toString();b=b.key;this.vw.has(d)||(this.vw.add(d),this.rs.add(a),this.bD=d,this.Ok=a,this.mx=b,this.Ga(e.D.Keyboard.L.s3),
this.Ga(e.D.Keyboard.L.AO),this.Ga(e.D.Keyboard.L.F3),this.Ga(e.D.Keyboard.L.D3))}oaa(b){const a=b.which,d=b.code||a.toString();b=b.key;this.vw.delete(d);this.rs.delete(a);this.bD=d;this.Ok=a;this.mx=b;this.Ga(e.D.Keyboard.L.xO);this.Ga(e.D.Keyboard.L.CO);this.Ga(e.D.Keyboard.L.G3);this.Ga(e.D.Keyboard.L.BO)}bS(){for(const b of this.rs)this.rs.delete(b),this.Ok=b,this.Ga(e.D.Keyboard.L.xO),this.Ga(e.D.Keyboard.L.CO),this.Ga(e.D.Keyboard.L.BO);this.vw.clear()}nd(){return{tk:this.Ok,tkk:this.mx}}Uc(b){this.Ok=
b.tk;b.hasOwnProperty("tkk")&&(this.mx=b.tkk)}}}{"use strict";const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.C.D.Keyboard.L={$ja(b){return this.rs.has(b)},AO(b){return this.Ok===b},s3(){return!0},xO(){return!0},CO(b){return this.Ok===b},Zja(b){b=Math.floor(b);return this.rs.has(b)},D3(b){return this.Ok===b},BO(b){return this.Ok===b},F3(b){return this.bD===e[b]},G3(b){return this.bD===e[b]},aka(b){return this.vw.has(e[b])}}}"use strict";
self.C.D.Keyboard.Bb={};
{"use strict";function e(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.C.D.Keyboard.rb={vka(){return this.Ok},Zoa(b){return e(b)},wpa(){return this.mx}}}{"use strict";const e=self.C;e.D.Text=class extends e.Xo{constructor(b){super(b)}A(){super.A()}}}{"use strict";const e=self.C;e.D.Text.wl=class extends e.vu{constructor(b){super(b)}A(){super.A()}zd(){}Uq(){}Uo(){}}}
{"use strict";const e=self.C,b=self.wh,a=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],h=new e.Rect,m=new e.Hd;new e.ib;e.D.Text.Instance=class extends e.KF{constructor(n,p){super(n);this.td="";this.Ml=!0;this.oj="Arial";this.Lk=12;this.fi=0;this.Bf=this.Af=!1;this.jb=e.B(e.ib);this.gf=this.yf=0;this.Uk=!0;this.Pk=this.Ws=-1;this.nx=0;this.dd=e.B(e.K.CF,this.g.sb(),{timeout:5});this.dd.CD=()=>this.g.ia();this.dd.DP();p&&(this.td=p[0],this.Ml=!!p[1],this.oj=p[2],this.Lk=p[3],this.fi=
p[4],this.Af=!!p[5],this.Bf=!!p[6],this.yf=p[8],this.gf=p[9],this.Uk=0===p[10],n=p[7],this.jb.pt(n[0],n[1],n[2]),this.j().Lh(p[11]));this.re()}A(){this.dn();this.dd.A();this.dd=null;super.A()}re(){const n=this.dd;n.Iu(this.td);n.i5(this.Ml);n.QF(this.oj);n.HP(this.fi);n.pP(this.Af);n.FP(this.Bf);n.Zm(this.jb);n.zP(d[this.yf]);n.UP(c[this.gf]);n.i6(this.Uk?"word":"character")}wH(){const n=this.j();this.dd.Ez(this.Lk);this.dd.A5(n.J0());var p=n.ea();p=p.Om()*p.$M(n.qf());this.dd.qd(n.S(),n.U(),p)}Ah(n){var p=
this.j();this.wH();const q=this.dd.me();if(q){var u=p.ea();if(0===p.oa()&&0===u.oa()&&0===p.qf()&&!p.bg()&&u.VO()){p=p.Oj();const [w,r]=u.fk(p.Gb,p.Hb),[v,y]=u.fk(p.qc,p.rc);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.Jj(h);const [G,z]=n.Uy(n.jl());this.g.$.s5(n,G,z);n.gg(q);n.$q(m,this.dd.$j());u.pA(n)}else n.gg(q),p.bg()?this.HG(p,n):this.IG(p,n)}}IG(n,p){n=n.Oj();this.g.Ul&&(n=this.cS(n));p.$q(n,this.dd.$j())}HG(n,p){const q=n.IN();if(n.eO()){n.$x(h,m,!1);let u=m;
this.g.Ul&&(u=this.cS(u));q.qM(n.Zj(),u,this.dd.$j());n.SF(!1)}q.Ah(p)}cS(n){const p=n.Gb-Math.round(n.Gb),q=n.Hb-Math.round(n.Hb);if(0===p&&0===q)return n;m.wa(n);m.offset(-p,-q);return m}nd(){const n={t:this.td,c:this.jb.toJSON(),fn:this.oj,ps:this.Lk};this.Ml&&(n.bbc=this.Ml);0!==this.yf&&(n.ha=this.yf);0!==this.gf&&(n.va=this.gf);this.Uk||(n.wr=this.Uk);0!==this.fi&&(n.lho=this.fi);this.Af&&(n.b=this.Af);this.Bf&&(n.i=this.Bf);-1!==this.Pk&&(n.tw={st:this.Ws,en:this.Pk,l:this.nx});return n}Uc(n){this.dn();
this.td=n.t;this.jb.Cm(n.c);this.oj=n.fn;this.Lk=n.ps;this.Ml=n.hasOwnProperty("bbc")?n.bbc:!1;this.yf=n.hasOwnProperty("ha")?n.ha:0;this.gf=n.hasOwnProperty("va")?n.va:0;this.Uk=n.hasOwnProperty("wr")?n.wr:!0;this.fi=n.hasOwnProperty("lho")?n.lho:0;this.Af=n.hasOwnProperty("b")?n.b:!1;this.Bf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Ws=n.st,this.Pk=n.en,this.nx=n.l);this.re();-1!==this.Pk&&this.cj()}Ic(n){switch(n){case 0:return this.td;case 1:return this.Ml;case 2:return this.oj;
case 3:return this.Lk;case 4:return this.fi;case 5:return this.Af;case 6:return this.Bf;case 7:return a[0]=this.jb.ab,a[1]=this.jb.eb,a[2]=this.jb.cb,a;case 8:return this.yf;case 9:return this.gf;case 10:return this.Uk?1:0}}Jh(n,p){switch(n){case 0:if(this.td===p)break;this.td=p;this.re();break;case 1:if(this.Ml===!!p)break;this.Ml=!!p;this.re();break;case 2:if(this.oj===p)break;this.oj=p;this.re();break;case 3:if(this.Lk===p)break;this.Lk=p;this.re();break;case 4:if(this.fi===p)break;this.fi=p;this.re();
break;case 5:if(this.Af===!!p)break;this.Af=!!p;this.re();break;case 6:if(this.Bf===!!p)break;this.Bf=!!p;this.re();break;case 7:n=this.jb;if(n.ab===p[0]&&n.eb===p[1]&&n.cb===p[2])break;this.jb.pt(p[0],p[1],p[2]);this.re();break;case 8:if(this.yf===p)break;this.yf=p;this.re();break;case 9:if(this.gf===p)break;this.gf=p;this.re();break;case 10:this.Uk!==(0===p)&&(this.Uk=0===p,this.re())}}oA(n){this.td!==n&&(this.td=n,this.dd.Iu(n),this.g.ia())}Nca(n,p){this.oA(n);this.Ws=this.g.SE();this.Pk=this.Ws+
p/this.Fa().D_();this.nx=e.Gm.XP(n).length;this.dd.PF(0);this.cj()}dn(){this.Pk=this.Ws=-1;this.nx=0;this.dd.PF(-1);this.Hr()}c9(){-1!==this.Pk&&(this.dn(),this.Ga(e.D.Text.L.IO),this.g.ia())}dca(n){this.oj!==n&&(this.oj=n,this.dd.QF(n),this.g.ia())}Tba(n){n=!!n;this.Af!==n&&(this.Af=n,this.dd.pP(n),this.g.ia())}mca(n){n=!!n;this.Bf!==n&&(this.Bf=n,this.dd.FP(n),this.g.ia())}eca(n){this.Lk!==n&&(this.Lk=n,this.g.ia())}cca(n){this.jb.zm(n)||(this.jb.Ej(n),this.dd.Zm(this.jb),this.g.ia())}DS(n){this.fi!==
n&&(this.fi=n,this.re(),this.g.ia())}hca(n){this.yf!==n&&(this.yf=n,this.re(),this.g.ia())}IS(n){this.gf!==n&&(this.gf=n,this.re(),this.g.ia())}Fca(n){n=!!n;this.Uk!==n&&(this.Uk=n,this.re(),this.g.ia())}M9(){this.wH();return this.dd.N0()}L9(){this.wH();return this.dd.M0()}pe(){var n=this.g.SE();n>=this.Pk?(this.dn(),this.Ga(e.D.Text.L.IO),this.g.ia()):(n=e.qga(this.Ws,this.Pk,n,this.nx),n=Math.floor(n),n!==this.dd.xp&&(this.dd.PF(n),this.g.ia()))}Li(){return self.v1}};const g=new WeakMap,k=new Map([["top",
0],["center",1],["bottom",2]]);self.v1=class extends self.fz{constructor(){super();g.set(this,self.du.zr().ta)}get text(){return g.get(this).td}set text(n){b.Nd(n);const p=g.get(this);p.dn();p.oA(n)}set lineHeight(n){b.ik(n);g.get(this).DS(n)}get lineHeight(){return g.get(this).fi}set verticalAlign(n){b.Nd(n);n=k.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).IS(n)}get verticalAlign(){return c[g.get(this).gf]}}}
{"use strict";const e=self.C;e.D.Text.L={Aia(b,a){return a?this.td===b:e.th(this.td,b)},oka(){return-1!==this.Pk},IO(){return!0}}}
{"use strict";const e=self.C,b=e.B(e.ib);e.D.Text.Bb={Iu(a){this.dn();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.oA(a.toString())},Sha(a){this.dn();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.oA(this.td+a)},ypa(a,d){this.dn();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Nca(a.toString(),d)},Pna(a,d){let c=!1,h=!1;switch(d){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(a!==this.oj||c!==this.Af||h!==this.Bf)this.dca(a),this.Tba(c),
this.mca(h)},Ez(a){this.eca(a)},Ona(a){b.ot(a);b.ba();this.cca(b)},Hoa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},t5(a){this.j().fg(a);this.g.ia()},xpa(){this.c9()},HP(a){this.DS(a)},Rna(a){this.hca(a)},Foa(a){this.IS(a)},Ioa(a){this.Fca(0===a)}}}{"use strict";const e=self.C;e.D.Text.rb={Text(){return this.td},Tla(){return this.Ml?e.Gm.XP(this.td):this.td},cja(){return this.oj},r_(){return this.Lk},kpa(){return this.M9()},jpa(){return this.L9()},Bka(){return this.fi}}}
{"use strict";const e=self.C;e.D.Audio=class extends e.Xo{constructor(b){super(b)}A(){super.A()}}}{"use strict";const e=self.C;e.D.Audio.wl=class extends e.vu{constructor(b){super(b)}A(){super.A()}zd(){}Li(){return self.m1}};self.m1=class extends self.ez{constructor(b){super(b)}}}
{"use strict";const e=self.C,b=["interactive","balanced","playback"];e.D.Audio.Instance=class extends e.uu{constructor(a,d){super(a,"audio");this.gh=0;this.LK="";this.Qw=this.EV=0;this.dK=!1;this.wT=this.VU=1;this.Cn=this.g.Mf/2;this.Dn=this.g.Lf/2;this.Tp=-600;this.fV=600;this.FU=1E4;this.kV=1;this.gi=null;this.gC=-1;this.As=1;this.qg=!1;this.lV=0;this.bB=new Map;this.gK=this.hK=0;this.hm=new Map;a="interactive";d&&(this.EV=d[0],this.Qw=d[1],this.dK=d[2],a=b[d[3]],this.VU=d[4],this.wT=d[5],this.Tp=
-d[6],this.fV=d[7],this.FU=d[8],this.kV=d[9]);this.ah=[];this.ss=[];this.YB=[];this.zX([["state",c=>this.zaa(c)],["fxstate",c=>this.yaa(c)],["trigger",c=>this.xaa(c)]]);d=this.I().Mb();this.te=new e.yt(e.hd.Xd(d,"instancedestroy",c=>this.aH(c.instance)),e.hd.Xd(d,"afterload",()=>this.kp()),e.hd.Xd(d,"suspend",()=>this.uaa()),e.hd.Xd(d,"resume",()=>this.taa()));this.g.GX(this.Qi("create-audio-context",{preloadList:this.g.Eb.G_().map(c=>({originalUrl:c.iga,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.g.qJ,timeScaleMode:this.EV,latencyHint:a,panningModel:this.VU,distanceModel:this.wT,refDistance:this.fV,maxDistance:this.FU,rolloffFactor:this.kV,listenerPos:[this.Cn,this.Dn,this.Tp]}).then(c=>{this.lV=c.sampleRate}));this.cj()}A(){this.gi=null;super.A()}aH(a){this.gi===a&&(this.gi=null)}ky(a){return Math.pow(10,a/20)}yd(a){a=this.ky(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}L2(a){return Math.log(a)/Math.log(10)*20}kO(a){return this.L2(Math.max(Math.min(a,1),0))}uaa(){this.dK||
this.Db("set-suspended",{isSuspended:!0})}taa(){this.dK||this.Db("set-suspended",{isSuspended:!1})}zaa(a){const d=a.tickCount,c=this.ah.filter(h=>h.hasOwnProperty("placeholder")&&(h.placeholder>d||-1===h.placeholder));this.ah=a.audioInstances;this.YB=a.analysers;0<c.length&&e.vm(this.ah,c)}yaa(a){this.ss=a.fxstate}Yz(a){for(const d of this.ah)if(e.th(d.tag,a))return d;return null}IR(a){return this.ah.some(d=>e.th(a,d.tag)&&d.isPlaying)}Fr(a,d,c,h){if(this.IR(a))return null;a={tag:a,duration:0,volume:h,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:d,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.ah.push(a);return a}async xaa(a){const d=a.type;this.LK=a.tag;a=a.aiid;if("ended"===d){for(const c of this.ah)if(c.aiid===a){c.isPlaying=!1;break}await this.Se(e.D.Audio.L.x3)}else"fade-ended"===d&&await this.Se(e.D.Audio.L.y3)}pe(){const a={timeScale:this.g.Kd,gameTime:this.g.IE(),instPans:this.k0(),tickCount:this.g.Qn};
if(this.gi){const d=this.gi.j();this.Cn=d.N();this.Dn=d.O();a.listenerPos=[this.Cn,this.Dn,this.Tp]}this.Db("tick",a)}SL(a,d,c,h,m){if(0===c)return[a,d];const g=Math.sin(c);c=Math.cos(c);a-=h;d-=m;const k=a*g;a=a*c-d*g;return[a+h,d*c+k+m]}k0(){return this.ah.filter(a=>-1!==a.uid).map(a=>this.g.Fg(a.uid)).filter(a=>a).map(a=>{const d=a.j(),c=d.ea().oa(),[h,m]=this.SL(d.N(),d.O(),-c,this.Cn,this.Dn);return{uid:a.cc,x:h,y:m,angle:d.oa()-c}})}yy(a,d){for(const c of this.YB)if(c.index===d&&e.th(c.tag,
a))return c;return null}Ph(a){this.bB.set(a,(this.bB.get(a)||0)+1)}Jca(a){return a.hasOwnProperty("placeholder")||3===this.Qw?!1:a.isMusic&&1===this.Qw?!1:a.isMusic||2!==this.Qw?!0:!1}nd(){return{isSilent:this.qg,masterVolume:this.As,listenerZ:this.Tp,listenerUid:this.gi?this.gi.cc:-1,remoteUrls:[...this.hm.entries()],playing:this.ah.filter(a=>this.Jca(a)),effects:this.ss,analysers:this.YB}}Uc(a){this.qg=a.isSilent;this.As=a.masterVolume;this.Tp=a.listenerZ;this.gi=null;this.gC=a.listenerUid;this.hm.clear();
if(a.remoteUrls)for(const [d,c]of a.remoteUrls)this.hm.set(d,c);this.ah=a.playing;this.ss=a.effects;this.YB=a.analysers}kp(){if(-1!==this.gC&&(this.gi=this.g.Fg(this.gC),this.gC=-1,this.gi)){var a=this.gi.j();this.Cn=a.N();this.Dn=a.O()}for(var d of this.ah)(a=this.g.Eb.Gg(d.bufferOriginalUrl))?(d.bufferUrl=a.url,d.bufferType=a.type):d.bufferUrl=null;for(const c of Object.values(this.ss))for(const h of c)h.hasOwnProperty("bufferOriginalUrl")&&(d=this.g.Eb.Gg(h.bufferOriginalUrl))&&(h.bufferUrl=d.url,
h.bufferType=d.type);this.Db("load-state",{saveLoadMode:this.Qw,timeScale:this.g.Kd,gameTime:this.g.IE(),listenerPos:[this.Cn,this.Dn,this.Tp],isSilent:this.qg,masterVolume:this.As,playing:this.ah.filter(c=>null!==c.bufferUrl),effects:this.ss})}}}{"use strict";const e=self.C;e.D.Audio.L={x3(b){return e.th(this.LK,b)},y3(b){return e.th(this.LK,b)},dma(){return this.gK===this.hK},Fha(){return!0},pka(){return this.qg},Kja(){for(const b of this.ah)if(b.isPlaying)return!0;return!1},rka(b){return this.IR(b)}}}
{"use strict";const e=self.C,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.D.Audio.Bb={async Play(a,d,c,h,m){if(!this.qg){var g=a[1],k=this.g.Eb.Gg(a[0]);if(k){m=m?m:0;var n=this.gh;this.gh=0;var p=this.Fr(h.toLowerCase(),g,0!==d,this.yd(c));try{await this.Qi("play",{originalUrl:a[0],url:k.url,type:k.type,isMusic:g,tag:h.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:m,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.g.Qn)}}}},
async Wla(a,d,c,h,m,g,k,n,p,q){if(!this.qg){var u=a[1],w=this.g.Eb.Gg(a[0]);if(w){var r=this.gh;this.gh=0;var v=this.Fr(q.toLowerCase(),u,0!==d,this.yd(c));try{await this.Qi("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:u,tag:q.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:m,angle:e.Za(g),innerAngle:e.Za(k),outerAngle:e.Za(n),outerGain:this.yd(p)}})}finally{v&&(v.placeholder=this.g.Qn)}}}},async Ula(a,d,c,h,m,g,k,n){if(!this.qg&&
h&&(h=h.Fq())&&h.j()){var p=h.j(),q=p.ea().oa(),[u,w]=this.SL(p.N(),p.O(),-q,this.Cn,this.Dn),r=a[1],v=this.g.Eb.Gg(a[0]);if(v){var y=this.gh;this.gh=0;var A=this.Fr(n.toLowerCase(),r,0!==d,this.yd(c));try{await this.Qi("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:r,tag:n.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:w,angle:p.oa()-q,innerAngle:e.Za(m),outerAngle:e.Za(g),outerGain:this.yd(k),uid:h.cc}})}finally{A&&
(A.placeholder=this.g.Qn)}}}},async b4(a,d,c,h,m){if(!this.qg){a=1===a;var g=this.g.Eb.Gg(d)||this.hm.get(d.toLowerCase());if(g){var k=this.gh;this.gh=0;var n=this.Fr(m.toLowerCase(),a,0!==c,this.yd(h));try{await this.Qi("play",{originalUrl:d,url:g.url,type:g.type,isMusic:a,tag:m.toLowerCase(),isLooping:0!==c,vol:this.yd(h),pos:0,off:k,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.Qn)}}}},async Xla(a,d,c,h,m,g,k,n,p,q,u){if(!this.qg){a=1===a;var w=this.g.Eb.Gg(d)||
this.hm.get(d.toLowerCase());if(w){var r=this.gh;this.gh=0;var v=this.Fr(u.toLowerCase(),a,0!==c,this.yd(h));try{await this.Qi("play",{originalUrl:d,url:w.url,type:w.type,isMusic:a,tag:u.toLowerCase(),isLooping:0!==c,vol:this.yd(h),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:m,y:g,angle:e.Za(k),innerAngle:e.Za(n),outerAngle:e.Za(p),outerGain:this.yd(q)}})}finally{v&&(v.placeholder=this.g.Qn)}}}},async Vla(a,d,c,h,m,g,k,n,p){if(!this.qg&&!this.qg&&m&&(m=m.Fq())&&m.j()){var q=
m.j(),u=q.ea().oa(),[w,r]=this.SL(q.N(),q.O(),-u,this.Cn,this.Dn);a=1===a;var v=this.g.Eb.Gg(d)||this.hm.get(d.toLowerCase());if(v){var y=this.gh;this.gh=0;var A=this.Fr(p.toLowerCase(),a,0!==c,this.yd(h));try{await this.Qi("play",{originalUrl:d,url:v.url,type:v.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.yd(h),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:w,y:r,angle:q.oa()-u,innerAngle:e.Za(g),outerAngle:e.Za(k),outerGain:this.yd(n),uid:m.cc}})}finally{A&&
(A.placeholder=this.g.Qn)}}}},ooa(a,d){this.Db("set-looping",{tag:a.toLowerCase(),isLooping:0===d})},uoa(a,d){this.Db("set-muted",{tag:a.toLowerCase(),isMuted:0===d})},cn(a,d){this.Db("set-volume",{tag:a.toLowerCase(),vol:this.yd(d)})},dja(a,d,c,h){this.Db("fade-volume",{tag:a.toLowerCase(),vol:this.yd(d),duration:c,stopOnEnd:0===h})},async bma(a){const d=a[1],c=this.g.Eb.Gg(a[0]);c&&(this.hK++,await this.Qi("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:d}),this.gK++)},async cma(a,d){a=
1===a;const c=this.g.Eb.Gg(d)||this.hm.get(d.toLowerCase());c&&(this.hK++,await this.Qi("preload",{originalUrl:d,url:c.url,type:c.type,isMusic:a}),this.gK++)},Ti(a,d){this.Db("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(d,0)})},Re(a){this.Db("stop",{tag:a.toLowerCase()})},Woa(){this.Db("stop-all")},woa(a,d){this.Db("set-paused",{tag:a.toLowerCase(),paused:0===d})},xna(a,d){this.Db("seek",{tag:a.toLowerCase(),pos:d})},Coa(a){2===a&&(a=this.qg?1:0);a=0===a;this.qg!==a&&(this.qg=a,this.Db("set-silent",
{isSilent:a}))},qoa(a){a=this.yd(a);this.As!==a&&(this.As=a,this.Db("set-master-volume",{vol:a}))},uha(a,d,c,h,m,g,k){a=a.toLowerCase();d=b[d];this.Ph(a);this.Db("add-effect",{type:"filter",tag:a,params:[d,c,h,m,g,e.ba(k/100,0,1)]})},rha(a,d,c,h){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"delay",tag:a,params:[d,this.yd(c),e.ba(h/100,0,1)]})},vha(a,d,c,h,m,g){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"flanger",tag:a,params:[d/1E3,c/1E3,h,m/100,e.ba(g/100,0,1)]})},Aha(a,
d,c,h,m,g,k){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"phaser",tag:a,params:[d,c,h,m,g,e.ba(k/100,0,1)]})},qha(a,d,c,h){a=a.toLowerCase();const m=this.g.Eb.Gg(d[0]);m&&(this.Ph(a),this.Db("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:d[0],bufferUrl:m.url,bufferType:m.type,params:[0===c,e.ba(h/100,0,1)]}))},wha(a,d){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"gain",tag:a,params:[this.yd(d)]})},zha(a){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"gain",
tag:a,params:[0]})},Dha(a,d,c){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"tremolo",tag:a,params:[d,e.ba(c/100,0,1)]})},Cha(a,d,c){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"ringmod",tag:a,params:[d,e.ba(c/100,0,1)]})},sha(a,d,c,h,m,g){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"distortion",tag:a,params:[this.ky(d),this.ky(c),h,this.ky(m),e.ba(g/100,0,1)]})},pha(a,d,c,h,m,g){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"compressor",tag:a,params:[d,
c,h,m/1E3,g/1E3]})},oha(a,d,c){a=a.toLowerCase();this.Ph(a);this.Db("add-effect",{type:"analyser",tag:a,params:[d,c]})},mma(a){a=a.toLowerCase();this.bB.set(a,0);this.Db("remove-effects",{tag:a});this.ss={}},Jna(a,d,c,h,m,g){this.Db("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(d),param:c,value:h,ramp:m,time:g})},moa(a){a&&(a=a.Fq())&&a.j()&&(this.gi=a)},noa(a){this.Tp=a},sna(a){this.gh=Math.max(a,0)},Bpa(a){const d=a[1];(a=this.g.Eb.Gg(a[0]))&&this.Db("unload",{url:a.url,type:a.type,isMusic:d})},
Cpa(a,d){a=1===a;(d=this.g.Eb.Gg(d)||this.hm.get(d.toLowerCase()))&&this.Db("unload",{url:d.url,type:d.type,isMusic:a})},Apa(){this.Db("unload-all")},Bha(a,d,c){this.hm.set(c.toLowerCase(),{url:a,type:d})}}}"use strict";
self.C.D.Audio.rb={Uia(e){return(e=this.Yz(e))?e.duration:0},d4(e){return(e=this.Yz(e))?e.playbackTime:0},c4(e){return(e=this.Yz(e))?e.playbackRate:0},S6(e){return(e=this.Yz(e))?this.kO(e.volume):0},Nka(){return this.kO(this.As)},Via(e){return this.bB.get(e.toLowerCase())||0},Jha(e,b){return(e=this.yy(e,Math.floor(b)))?e.binCount:0},Iha(e,b,a){e=this.yy(e,Math.floor(b));if(!e)return 0;a=Math.floor(a);return 0>a||a>=e.binCount?0:e.freqBins[a]},Kha(e,b){return(e=this.yy(e,Math.floor(b)))?e.peak:0},
Lha(e,b){return(e=this.yy(e,Math.floor(b)))?e.rms:0},rna(){return this.lV},Pia(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const e=self.C;e.Dd.Xm=class extends e.iP{constructor(b){super(b)}A(){super.A()}}}{"use strict";const e=self.C;e.Dd.Xm.wl=class extends e.kP{constructor(b){super(b)}A(){super.A()}zd(){}}}
{"use strict";const e=self.C;e.Dd.Xm.Instance=class extends e.jP{constructor(b,a){super(b);this.Jk=null;this.wC=-1;this.fh="";this.$p=new Set;this.zn=this.aB=this.rn=this.Vr=this.Wr=this.$A=this.ZA=this.Lw=this.Yp=this.ye=0;this.Yr=!1;a&&(this.Yr=a[0]);b=this.g.Mb();this.te=new e.yt(e.hd.Xd(b,"instancedestroy",d=>this.aH(d.instance)),e.hd.Xd(b,"afterload",()=>this.kp()))}A(){this.Jk=null;super.A()}lv(b){b?(this.Jk=b,this.OS()):(this.Jk=null,this.sA())}hn(b,a,d){if(b&&(b=b.Fq(this.ja)))if(this.fh=
a,this.lv(b),a=this.ja.j(),b=b.j(),"properties"===this.fh){const c=this.$p;c.clear();for(const h of d)c.add(h);this.ZA=a.N()-b.N();this.$A=a.O()-b.O();this.rn=a.oa()-b.oa();this.zn=a.oa();this.aB=a.Xa()-b.Xa();c.has("x")&&c.has("y")&&(this.Yp=e.dt(b.N(),b.O(),a.N(),a.O())-b.oa(),this.ye=e.xm(b.N(),b.O(),a.N(),a.O()));c.has("width-abs")?this.Wr=a.S()-b.S():c.has("width-scale")&&(this.Wr=a.S()/b.S());c.has("height-abs")?this.Vr=a.U()-b.U():c.has("height-scale")&&(this.Vr=a.U()/b.U())}else this.ye=e.xm(b.N(),
b.O(),a.N(),a.O())}nd(){const b=this.$p,a=this.fh,d={uid:this.Jk?this.Jk.cc:-1,m:a,d:this.Yr};if("rope"===a||"bar"===a)d.pd=this.ye;else if("properties"===a){d.ps=[...this.$p];b.has("imagepoint")?d.ip=this.Lw:b.has("x")&&b.has("y")?(d.pa=this.Yp,d.pd=this.ye):(b.has("x")&&(d.dx=this.ZA),b.has("y")&&(d.dy=this.$A));b.has("angle")&&(d.da=this.rn,d.lka=this.zn);if(b.has("width-abs")||b.has("width-scale"))d.dw=this.Wr;if(b.has("height-abs")||b.has("height-scale"))d.dh=this.Vr;b.has("z")&&(d.dz=this.aB)}return d}Uc(b){const a=
b.m,d=this.$p;d.clear();this.wC=b.uid;if("number"===typeof a)this.v$(b);else if(this.fh=a,b.hasOwnProperty("d")&&(this.Yr=!!b.d),"rope"===a||"bar"===a)this.ye=b.pd;else if("properties"===a){for(const c of b.ps)d.add(c);d.has("imagepoint")?this.Lw=b.ip:d.has("x")&&d.has("y")?(this.Yp=b.pa,this.ye=b.pd):(d.has("x")&&(this.ZA=b.dx),d.has("y")&&(this.$A=b.dy));d.has("angle")&&(this.rn=b.da,this.zn=b.lka||0);if(d.has("width-abs")||d.has("width-scale"))this.Wr=b.dw;if(d.has("height-abs")||d.has("height-scale"))this.Vr=
b.dh;d.has("z")&&(this.aB=b.dz)}}v$(b){const a=this.$p,d=b.msa,c=b.tsa,h=b.pa,m=b.pd;switch(b.m){case 0:this.fh="properties";a.add("x").add("y").add("angle");this.Yp=h;this.ye=m;this.rn=d-c;this.zn=b.lka;break;case 1:this.fh="properties";a.add("x").add("y");this.Yp=h;this.ye=m;break;case 2:this.fh="properties";a.add("angle");this.rn=d-c;this.zn=b.lka;break;case 3:this.fh="rope";this.ye=b.pd;break;case 4:this.fh="bar",this.ye=b.pd}}kp(){-1===this.wC?this.lv(null):(this.lv(this.g.Fg(this.wC)),this.wC=
-1)}aH(b){this.Jk===b&&(this.lv(null),this.Yr&&this.g.Hm(this.ja))}Lu(){var b=this.Jk;if(b){var a=b.j(),d=this.ja.j(),c=this.fh,h=!1;if("rope"===c||"bar"===c){if(b=e.xm(d.N(),d.O(),a.N(),a.O()),b>this.ye||"bar"===c&&b<this.ye)h=e.dt(a.N(),a.O(),d.N(),d.O()),d.Xi(a.N()+Math.cos(h)*this.ye,a.O()+Math.sin(h)*this.ye),h=!0}else{c=this.$p;if(c.has("imagepoint")){const [m,g]=b.Nm(this.Lw);d.oE(m,g)||(d.Xi(m,g),h=!0)}else if(c.has("x")&&c.has("y")){b=a.N()+Math.cos(a.oa()+this.Yp)*this.ye;const m=a.O()+
Math.sin(a.oa()+this.Yp)*this.ye;d.oE(b,m)||(d.Xi(b,m),h=!0)}else b=a.N()+this.ZA,c.has("x")&&b!==d.N()&&(d.hg(b),h=!0),b=a.O()+this.$A,c.has("y")&&b!==d.O()&&(d.vf(b),h=!0);c.has("angle")&&(this.zn!==d.oa()&&(this.rn=e.Md(this.rn+(d.oa()-this.zn))),b=e.Md(a.oa()+this.rn),b!==d.oa()&&(d.od(b),h=!0),this.zn=d.oa());c.has("width-abs")&&(b=a.S()+this.Wr,b!==d.S()&&(d.Qe(b),h=!0));c.has("width-scale")&&(b=a.S()*this.Wr,b!==d.S()&&(d.Qe(b),h=!0));c.has("height-abs")&&(b=a.U()+this.Vr,b!==d.U()&&(d.uf(b),
h=!0));c.has("height-scale")&&(b=a.U()*this.Vr,b!==d.U()&&(d.uf(b),h=!0));c.has("z")&&(b=a.Xa()+this.aB,b!==d.Xa()&&(d.oe(b),this.g.ia()))}h&&d.$a()}}}}"use strict";self.C.Dd.Xm.L={nka(){return!!this.Jk},Upa(){return this.Yr}};"use strict";
self.C.Dd.Xm.Bb={Pla(e,b){this.hn(e,0===b?"rope":"bar")},Rla(e,b,a,d,c,h,m){const g=[];b&&g.push("x");a&&g.push("y");d&&g.push("angle");m&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===h?g.push("height-abs"):2===h&&g.push("height-scale");0!==g.length&&this.hn(e,"properties",g)},Qla(e,b,a,d,c,h){const m=["imagepoint"];a&&m.push("angle");h&&m.push("z");1===d?m.push("width-abs"):2===d&&m.push("width-scale");1===c?m.push("height-abs"):2===c&&m.push("height-scale");this.Lw=b;this.hn(e,
"properties",m)},zoa(e){if("rope"===this.fh||"bar"===this.fh)this.ye=Math.max(e,0)},Gna(e){this.Yr=e},Fpa(){this.lv(null);this.fh="";this.$p.clear();this.Lw=""},Xm(e,b){switch(b){case 0:this.hn(e,"properties",["x","y","angle"]);break;case 1:this.hn(e,"properties",["x","y"]);break;case 2:this.hn(e,"properties",["angle"]);break;case 3:this.hn(e,"rope");break;case 4:this.hn(e,"bar")}}};"use strict";self.C.Dd.Xm.rb={Sla(){return this.Jk?this.Jk.cc:-1}};{"use strict";const e=self.C;e.Dd.tr=class extends e.iP{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const e=self.C;e.Dd.tr.wl=class extends e.kP{constructor(b){super(b)}A(){super.A()}zd(){}}}
{"use strict";const e=self.C,b=self.PN,a=2*Math.PI,d=Math.PI/2,c=3*Math.PI/2,h=[0,1,8,3,4,2,5,6,9,7];e.Dd.tr.Instance=class extends e.jP{constructor(g,k){super(g);this.Ec=this.xe=this.co=this.rg=this.Dc=0;this.pg=!0;this.FC=this.ts=this.Ef=this.Hp=this.nb=this.IJ=this.bK=this.cK=this.FA=this.dT=this.GA=0;k&&(this.rg=h[k[0]],this.co=k[1],this.cK=this.g.rl()*k[3],this.GA=k[2],this.xe=k[2],this.xe+=this.cK,this.dT=k[4],0!==this.xe&&(this.bK=this.g.rl()*k[5],this.Dc=k[4]/this.xe*a,this.Dc+=this.bK/this.xe*
a),this.IJ=this.g.rl()*k[7],this.FA=k[6],this.Ec=k[6],this.Ec+=this.IJ,this.pg=!!k[8]);5===this.rg&&(this.Ec=e.Za(this.Ec));this.Hg();this.pg&&this.cj()}A(){super.A()}nd(){return{i:this.Dc,e:this.pg,mv:this.rg,w:this.co,p:this.xe,mag:this.Ec,iv:this.nb,iv2:this.Hp,r:this.FC,lkv:this.Ef,lkv2:this.ts}}Uc(g){this.Dc=g.i;this.nA(g.e);this.rg=g.mv;this.co=g.w;this.xe=g.p;this.Ec=g.mag;this.nb=g.iv;this.Hp=g.iv2;this.FC=g.r;this.Ef=g.lkv;this.ts=g.lkv2}Hg(){const g=this.ja.j();switch(this.rg){case 0:this.nb=
g.N();break;case 1:this.nb=g.O();break;case 2:this.nb=g.S();this.FC=g.U()/g.S();break;case 3:this.nb=g.S();break;case 4:this.nb=g.U();break;case 5:this.nb=g.oa();break;case 6:this.nb=g.ke();break;case 7:this.nb=0;break;case 8:this.nb=g.N();this.Hp=g.O();break;case 9:this.nb=g.Xa()}this.Ef=this.nb;this.ts=this.Hp}Oh(g){g%=a;switch(this.co){case 0:return Math.sin(g);case 1:return g<=d?g/d:g<=c?1-2*(g-d)/Math.PI:(g-c)/d-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}pe(){const g=
this.g.Ey(this.ja);this.pg&&0!==g&&(this.Dc=0===this.xe?0:(this.Dc+g/this.xe*a)%a,this.YS())}YS(){const g=this.ja.j();switch(this.rg){case 0:g.N()!==this.Ef&&(this.nb+=g.N()-this.Ef);g.hg(this.nb+this.Oh(this.Dc)*this.Ec);this.Ef=g.N();break;case 1:g.O()!==this.Ef&&(this.nb+=g.O()-this.Ef);g.vf(this.nb+this.Oh(this.Dc)*this.Ec);this.Ef=g.O();break;case 2:g.Qe(this.nb+this.Oh(this.Dc)*this.Ec);g.uf(g.S()*this.FC);break;case 3:g.Qe(this.nb+this.Oh(this.Dc)*this.Ec);break;case 4:g.uf(this.nb+this.Oh(this.Dc)*
this.Ec);break;case 5:g.oa()!==this.Ef&&(this.nb=e.Md(this.nb+(g.oa()-this.Ef)));g.od(this.nb+this.Oh(this.Dc)*this.Ec);this.Ef=g.oa();break;case 6:g.lk(this.nb+this.Oh(this.Dc)*this.Ec/100);break;case 8:g.N()!==this.Ef&&(this.nb+=g.N()-this.Ef);g.O()!==this.ts&&(this.Hp+=g.O()-this.ts);g.hg(this.nb+Math.cos(g.oa())*this.Oh(this.Dc)*this.Ec);g.vf(this.Hp+Math.sin(g.oa())*this.Oh(this.Dc)*this.Ec);this.Ef=g.N();this.ts=g.O();break;case 9:g.oe(this.nb+this.Oh(this.Dc)*this.Ec)}g.$a()}uca(g){this.xe=
g}pca(g){this.Ec=g}qca(g){5===this.rg&&(g=e.Za(g));this.pca(g)}NG(){let g=this.Ec;5===this.rg&&(g=e.Bg(g));return g}tca(g){5===this.rg&&5!==g&&(this.Ec=e.Bg(this.Ec));this.rg=g;this.Hg()}vca(g){this.Dc=e.ba(g,0,2*Math.PI);this.YS()}nA(g){(this.pg=!!g)?this.cj():this.Hr()}Ic(g){switch(g){case 0:return this.rg;case 1:return this.co;case 2:return this.GA;case 6:return this.FA;case 8:return this.pg}}Jh(g,k){switch(g){case 0:this.rg=h[k];this.Hg();break;case 1:this.co=k;break;case 2:this.GA=k;this.xe=
this.GA+this.cK;this.pg||(0!==this.xe?(this.Dc=this.dT/this.xe*a,this.Dc+=this.bK/this.xe*a):this.Dc=0);break;case 6:this.FA=k;this.Ec=this.FA+this.IJ;5===this.rg&&(this.Ec=e.Za(this.Ec));break;case 8:this.pg=!!k}}Li(){return self.s1}};const m=new WeakMap;self.s1=class extends b{constructor(){super();m.set(this,b.zr().ta)}get value(){const g=m.get(this);return g.Oh(g.Dc)*g.Ec}set isEnabled(g){m.get(this).nA(!!g)}get isEnabled(){return m.get(this).pg}}}
{"use strict";const e=self.C;e.Dd.tr.L={Qm(){return this.pg},wia(b){return this.rg===b},zia(b,a){return e.compare(this.xe,b,a)},via(b,a){return e.compare(this.NG(),b,a)},Eia(b){return this.co===b}}}"use strict";self.C.Dd.tr.Bb={w5(e){this.nA(0!==e)},xoa(e){this.uca(e)},poa(e){this.qca(e)},toa(e){this.tca(e)},Goa(e){this.co=e},yoa(e){const b=2*Math.PI;this.vca(e*b%b)},Hpa(){this.Hg()}};"use strict";
self.C.Dd.tr.rb={Qia(){return this.Dc/(2*Math.PI)},zla(){return this.xe},Jka(){return this.NG()},Jpa(){return this.Oh(this.Dc)*this.NG()}};
{const e=self.C;self.oM=function(){return[e.D.ub,e.Dd.Xm,e.Dd.tr,e.D.Touch,e.D.Keyboard,e.D.Text,e.D.Audio,e.D.Ja.L.DO,e.D.Text.Bb.Iu,e.D.Ja.rb.lga,e.D.Ja.rb.mga,e.D.Ja.Bb.h6,e.D.Ja.rb.trim,e.D.Ja.rb.Mga,e.D.Ja.rb.random,e.D.Ja.rb.Nga,e.D.Ja.rb.replace,e.D.Ja.rb.Uga,e.D.ub.Bb.fZ,e.D.Ja.L.z_,e.D.Ja.Bb.HM,e.D.Ja.rb.Zfa,e.D.ub.Bb.Qe,e.D.Ja.rb.Ufa,e.D.ub.Bb.CP,e.D.ub.Bb.od,e.D.ub.Bb.qd,e.D.Ja.L.DY,e.D.Ja.Bb.LX,e.D.Ja.rb.tfa,e.D.Ja.L.SM,e.D.ub.Bb.f5,e.D.ub.Bb.w6,e.D.Ja.rb.Jfa,e.D.Ja.rb.mid,e.D.ub.Bb.q5,
e.D.ub.rb.H6,e.D.ub.L.i2,e.D.Ja.Bb.oG,e.D.Touch.L.HO,e.D.Touch.L.zO,e.D.ub.L.UN,e.D.ub.rb.a4,e.D.Ja.L.Y3,e.D.ub.Bb.l5,e.D.ub.L.wM,e.D.Ja.L.EY,e.D.Audio.Bb.b4,e.D.Keyboard.L.AO,e.D.Ja.rb.sga,e.D.Ja.rb.find,e.D.ub.Bb.Q5,e.D.Ja.rb.kt,e.D.Ja.Bb.m5,e.D.ub.L.Z3,e.D.Ja.rb.left,e.D.ub.rb.QX,e.D.ub.Bb.vf,e.D.ub.Bb.g5,e.D.ub.rb.ZX,e.D.ub.rb.$X,e.D.ub.rb.a7,e.D.ub.rb.k1,e.D.Ja.L.FY,e.D.Text.Bb.Lh,e.D.Ja.L.Pq,e.D.Text.rb.Text,e.D.Text.L.yO,e.D.Ja.L.ZM,e.D.Text.Bb.CP,e.D.Text.rb.r_,e.D.Touch.L.B2,e.D.Text.L.wM,
e.D.Text.L.UN,e.D.Ja.L.F6,e.D.Text.Bb.Ez]};self.iY=[{yna:0},{mha:0},{bla:0},{yra:0},{index:0},{Cta:0},{Uoa:0},{J2:0},{Xm:0},{Koa:0},{zna:0},{Touch:0},{Keyboard:0},{Text:0},{ssa:0},{nha:0},{hia:0},{mia:0},{ppa:0},{dia:0},{eia:0},{gia:0},{cia:0},{ena:0},{Audio:0},{gma:0},{fia:0},{bia:0},{opa:0},{Qoa:0},{Ypa:0},{aqa:0},{Kia:0},{Ira:0},{Oia:0},{jsa:0},{Gha:0},{lpa:0},{Vpa:0},{Hra:0},{vpa:0},{oqa:0},{mQ:0},{Gqa:0},{pqa:0},{nsa:0},{yta:0},{zta:0},{dla:0},{Play:0},{Dqa:0},{Psa:0},{cla:0},{Qta:0},{Wka:0},
{tta:0},{kia:0}]}
{const e=self.C;function b(a,d){return"string"===typeof a||"string"===typeof d?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):a&&d?1:0}self.hY=[a=>{const d=a.G(0).Ma(),c=a.G(1).Ma();return()=>d()+" - "+c()},()=>"4,2;4,1;4,0;4,1;m;4,2;4,2;2,2|\n4,0;4,0;4,4;4,4;m;4,5;4,5;2,4|\n4,R;4,0;4,2;4,3;m;1,4|\n4,4;4,4;4,2;4,4;m;4,5;4,4;2,2|\n4,R;4,0;4,1;4,2;m;4,4;4,3;4,3;4,5|\n4,2;4,2;4,3;4,4;m;4,4;4,3;4,2;4,1|\n4,0;m;2,3;8,5;8,3;m;2,5;4,R|\n4,7;4,4;4,5;4,2;m;4,3;4,0;4,3;4,4|\n8,0;8,0;4,0;8,0;8,0;4,0;m;8,0;8,0;4,3;4,4;4,5|\n4,7;8,7;8,6;4,7;4,7;m;4,5;4,4;4,3;4,R",a=>
{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).Ma(),m=a.G(3).za,g=a.G(4).Ma(),k=a.G(5).Ma(),n=a.G(6).za,p=a.G(7).za;return()=>""===d.ca()?c(h(m.ca(),Math.floor(g(k(n.ca(),"|"))),"|")):p.ca()},a=>{const d=a.G(0).Ma(),c=a.G(1).Ma(),h=a.G(2).za;return()=>d(c(h.ca()),";M;",";")},a=>{const d=a.G(0).za;return()=>d.ca()},()=>"012345676543210",()=>"",()=>0,()=>4,a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za;return()=>d.ca()+c()*(h.ca()/4)},a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d()-2*c.ca()},()=>90,a=>
{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d()-c.ca()-4},a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d(c.ca(),";")-1},a=>{const d=a.G(0).Ma(),c=a.G(1).za,h=a.G(2).Ma();return()=>d(c.ca(),h(),";")},a=>{const d=a.G(0).Ma(),c=a.G(1).Ma(),h=a.G(2).za;return()=>d(c(h.ca(),0,","))},()=>"M",a=>{const d=a.G(0).Ma(),c=a.G(1).Ma(),h=a.G(2).za;return()=>4/d(c(h.ca(),0,","))},()=>1,a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d(c.ca())},a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za,m=a.G(3).za,g=a.G(4).za,
k=a.G(5).Ma(),n=a.G(6).za,p=a.G(7).za,q=a.G(8).za;return()=>d.ca()+((c()-2*h.ca())*(m.ca()/g.ca())+(k()-2*n.ca())*(p.ca()/q.ca()))/2},()=>2,a=>{const d=a.G(0).Ma(),c=a.G(1).Ma(),h=a.G(2).za;return()=>d(c(h.ca(),1,","))},()=>"R",a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za;return()=>d.ca()+c(h.ca(),1,",")},a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za;return()=>d.ca()+c(h.ca(),0,",")+","},a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za,m=a.G(3).za,g=a.G(4).za,k=a.G(5).Ma(),n=a.G(6).za,p=a.G(7).za,
q=a.G(8).Ma(),u=a.G(9).Ma(),w=a.G(10).za,r=a.G(11).za;return()=>d.ca()+((c()-2*h.ca())*((m.ca()+.5)/g.ca())+(k()-2*n.ca())*((p.ca()+4/q(u(w.ca(),0,","))/2)/r.ca()))/2},a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>"A"+d(c.ca(),0,",")},a=>{const d=a.G(0).Ma(),c=a.G(1).Ma(),h=a.G(2).za,m=a.G(3).za;return()=>d(c(h.ca(),m.ca(),1))},a=>{const d=a.G(0).za,c=a.G(1).za,h=a.G(2).za;return()=>d.ca()+c.ca()+h.ca()/8},()=>-1023,a=>{const d=a.G(0);return()=>d.pE()},()=>"A2",a=>{const d=a.G(0).za,c=a.G(1).za;return()=>
d.ca()+c.ca()/8*4},a=>{const d=a.G(0).Ma();return()=>d()},a=>{const d=a.G(0);return()=>d.Bh()},()=>"Half",a=>{const d=a.G(0);return()=>e.ba(d.Bh()+1,0,7)},a=>{const d=a.G(0);return()=>e.ba(d.Bh()-1,0,7)},a=>{const d=a.G(0);return()=>d.pE()-1},a=>{const d=a.G(0);return()=>b("N",d.Bh())},a=>{const d=a.G(0);return()=>d.Bh()+1},a=>{const d=a.G(0);return()=>d.Bh()-1},a=>{const d=a.G(0).za,c=a.G(1);return()=>b(d.ca(),c.Bh())},a=>{const d=a.G(0);return()=>d.Bh().toString()},a=>{const d=a.G(0).Ma(),c=a.G(1).za,
h=a.G(2).Ma();return()=>d(c.ca(),h(),1)},a=>{const d=a.G(0).Ma();return()=>d(0,128,0)},()=>"Correct",a=>{const d=a.G(0).za,c=a.G(1).Ma(),h=a.G(2).za,m=a.G(3).Ma();return()=>d.ca()+c(h.ca(),m(),1)},a=>{const d=a.G(0).Ma(),c=a.G(1).za,h=a.G(2);return()=>d(c.ca(),h.Bh().toString())},()=>-1,a=>{const d=a.G(0).Ma();return()=>d(192,168,0)},a=>{const d=a.G(0).Ma();return()=>d(96,96,96)},()=>-1E3,a=>{const d=a.G(0).Ma(),c=a.G(1);return()=>d(c.pE(),2)},()=>"Re",a=>{const d=a.G(0),c=a.G(1).za;return()=>d.Bh()-
c.ca()/8*4},a=>{const d=a.G(0),c=a.G(1).za,h=a.G(2);return()=>d.Bh()-(c.ca()+2)/8*h.Bh()},()=>5,()=>180,a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d(c.ca(),";")},a=>{const d=a.G(0).Ma(),c=a.G(1).za,h=a.G(2).za;return()=>d(c.ca(),h.ca(),";")},a=>{const d=a.G(0).Ma(),c=a.G(1).za;return()=>d(c.ca(),1,",")},a=>{const d=a.G(0).za,c=a.G(1).za;return()=>60/d.ca()*(4/c.ca())},a=>{const d=a.G(0).za;return()=>d.ca()+1},()=>8,a=>{const d=a.G(0).za,c=a.G(1).za,h=a.G(2).za;return()=>d.ca()+c.ca()+h.ca()},()=>
"[background=#fffc] You Lose [background=#fffc]",()=>"ToggleButton",a=>{const d=a.G(0).Ma(),c=a.G(1);return()=>d(c.Cq(),";")-1},a=>{const d=a.G(0).Ma(),c=a.G(1),h=a.G(2).Ma();return()=>d(c.Cq(),h(),";")},a=>{const d=a.G(0).Ma(),c=a.G(1),h=a.G(2).za,m=a.G(3).Ma(),g=a.G(4);return()=>d(c.Cq(),(h.ca()+1)%m(g.Cq(),";"),";")},()=>"Button",a=>{const d=a.G(0);return()=>Math.floor(.875*d.Cq())},a=>{const d=a.G(0);return()=>d.Cq()}]};
