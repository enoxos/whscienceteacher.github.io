// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(f){function a(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];d[0]=x*E+D*I;d[1]=C*E+k*I;d[2]=x*K+D*t;d[3]=C*K+k*t;return d}function c(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function e(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],P=t[2],S=t[3],W=t[4];t=t[5];d[0]=x*K+D*N;d[1]=C*K+E*N;d[2]=x*P+D*S;d[3]=C*P+E*S;d[4]=x*W+D*t+I;d[5]=C*W+E*t+k;return d}function b(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-
t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];return d}function h(){var d=new qa(9);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0);d[0]=1;d[4]=1;d[8]=1;return d}function m(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];d[0]=S*x+W*E+V*N;d[1]=S*C+W*I+V*P;d[2]=S*D+W*K+V*k;d[3]=ea*x+ia*E+ca*N;d[4]=ea*C+ia*I+ca*P;d[5]=ea*D+ia*K+ca*k;d[6]=oa*x+la*E+t*N;d[7]=oa*C+la*I+t*P;d[8]=oa*D+la*K+
t*k;return d}function g(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];return d}function l(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d}function n(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];d[0]=
la*x+ra*I+sa*S+pa*ia;d[1]=la*C+ra*K+sa*W+pa*ca;d[2]=la*D+ra*N+sa*V+pa*oa;d[3]=la*E+ra*P+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];d[4]=la*x+ra*I+sa*S+pa*ia;d[5]=la*C+ra*K+sa*W+pa*ca;d[6]=la*D+ra*N+sa*V+pa*oa;d[7]=la*E+ra*P+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];d[8]=la*x+ra*I+sa*S+pa*ia;d[9]=la*C+ra*K+sa*W+pa*ca;d[10]=la*D+ra*N+sa*V+pa*oa;d[11]=la*E+ra*P+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];d[12]=la*x+ra*I+sa*S+pa*ia;d[13]=la*C+ra*K+sa*W+pa*ca;d[14]=la*D+ra*N+sa*V+pa*oa;d[15]=la*
E+ra*P+sa*ea+pa*k;return d}function p(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var P=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;d[0]=1-(S+D);d[1]=P+E;d[2]=x-K;d[3]=0;d[4]=P-E;d[5]=1-(k+D);d[6]=C+I;d[7]=0;d[8]=x+K;d[9]=C-I;d[10]=1-(k+S);d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d}function q(d,k){d[0]=k[12];d[1]=k[13];d[2]=k[14];return d}function u(d,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];d[0]=Math.hypot(k[0],k[1],k[2]);d[1]=Math.hypot(t,x,C);d[2]=Math.hypot(D,
E,I);return d}function w(d,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,P=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),d[3]=.25*E,d[0]=(P-C)/E,d[1]=(x-I)/E,d[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),d[3]=(P-C)/E,d[0]=.25*E,d[1]=(t+K)/E,d[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),d[3]=(x-I)/E,d[0]=(t+K)/E,d[1]=.25*E,d[2]=(P+C)/E):(E=2*Math.sqrt(1+k-E-N),d[3]=(t-K)/E,d[0]=(x+I)/E,d[1]=(P+C)/E,d[2]=.25*E);return d}function r(d,
k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=(C+x)*t,d[14]=2*C*x*t):(d[10]=-1,d[14]=-2*x);return d}function v(d,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);d[0]=-2*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=2*N;d[11]=0;d[12]=(k+t)*I;d[13]=(C+x)*K;d[14]=(E+D)*N;d[15]=1;return d}function y(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];
d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];d[9]=k[9]-t[9];d[10]=k[10]-t[10];d[11]=k[11]-t[11];d[12]=k[12]-t[12];d[13]=k[13]-t[13];d[14]=k[14]-t[14];d[15]=k[15]-t[15];return d}function A(){var d=new qa(3);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);return d}function G(d){return Math.hypot(d[0],d[1],d[2])}function z(d,k,t){var x=new qa(3);x[0]=d;x[1]=k;x[2]=t;return x}function F(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];return d}function H(d,k,t){d[0]=
k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];return d}function J(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];return d}function M(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2])}function Q(d,k){var t=k[0]-d[0],x=k[1]-d[1];d=k[2]-d[2];return t*t+x*x+d*d}function R(d){var k=d[0],t=d[1];d=d[2];return k*k+t*t+d*d}function T(d,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d}function Z(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]}function X(d,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];d[0]=C*t-k*E;d[1]=k*D-x*t;d[2]=x*E-C*D;return d}function ba(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[3]=0);return d}function Y(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k}function va(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C}function ta(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d}function ya(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d}function Na(d,k,t){d[0]=k[0]+t[0];
d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];return d}function Sa(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function Ta(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];d[3]=k[3]*t[3];return d}function Ua(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];d[3]=k[3]/t[3];return d}function Wa(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d}function eb(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2],k[3]-d[3])}function fb(d,k){var t=k[0]-d[0],
x=k[1]-d[1],C=k[2]-d[2];d=k[3]-d[3];return t*t+x*x+C*C+d*d}function Pa(d){return Math.hypot(d[0],d[1],d[2],d[3])}function Va(d){var k=d[0],t=d[1],x=d[2];d=d[3];return k*k+t*t+x*x+d*d}function ib(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=k*D;return d}function Ya(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]+d[3]*k[3]}function vb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-D);d[2]=E+x*(t[2]-E);d[3]=k+
x*(t[3]-k);return d}function wb(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]}function jb(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);d[3]=1;return d}function xb(d,k,t){t*=.5;var x=Math.sin(t);d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=Math.cos(t);return d}function yb(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];d[0]=x*t+k*E+C*K-D*I;d[1]=C*t+k*I+D*E-x*K;d[2]=D*t+k*K+x*I-C*E;d[3]=k*t-x*E-C*I-D*K;return d}function zb(d,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+k*E;d[1]=C*t+D*E;d[2]=D*t-C*E;d[3]=k*t-x*E;return d}function Ab(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t-D*E;d[1]=C*t+k*E;d[2]=D*t+x*E;d[3]=k*t-C*E;return d}function Bb(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+C*E;d[1]=C*t-x*E;d[2]=D*t+k*E;d[3]=k*t-D*E;return d}function Cb(d,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;d[0]=t*E;d[1]=x*E;d[2]=C*E;d[3]=k*Math.cos(D);return d}function Db(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=.5*Math.log(t*t+x*x+C*C+k*k);return d}function kb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var P=C*I+D*K+E*N+k*t;0>P&&(P=-P,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-P){var S=Math.acos(P);var W=Math.sin(S);P=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else P=1-x;d[0]=P*C+x*
I;d[1]=P*D+x*K;d[2]=P*E+x*N;d[3]=P*k+x*t;return d}function Eb(d,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),d[3]=.5*t,t=.5/t,d[0]=(k[5]-k[7])*t,d[1]=(k[6]-k[2])*t,d[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);d[x]=.5*t;t=.5/t;d[3]=(k[3*C+D]-k[3*D+C])*t;d[C]=(k[3*C+x]+k[3*x+C])*t;d[D]=(k[3*D+x]+k[3*x+D])*t}return d}function Fb(d,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];d[0]=D;
d[1]=E;d[2]=I;d[3]=k;d[4]=x*k+C*I-t*E;d[5]=C*k+t*D-x*I;d[6]=t*k+x*E-C*D;d[7]=-x*D-C*E-t*I;return d}function Gb(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];return d}function lb(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],P=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];d[0]=x*t+E*ea+C*ca-D*ia;d[1]=C*t+E*ia+D*ea-x*ca;d[2]=D*t+E*ca+x*ia-C*ea;d[3]=E*t-x*ea-C*ia-D*ca;d[4]=x*P+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;d[5]=C*P+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;d[6]=D*P+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;d[7]=E*P-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return d}function Xa(){var d=new qa(2);qa!=Float32Array&&(d[0]=0,d[1]=0);return d}function mb(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];return d}function nb(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];return d}function Za(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];return d}function ob(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1])}function Qa(d,k){var t=k[0]-d[0];d=k[1]-d[1];return t*t+d*d}function pb(d){return Math.hypot(d[0],
d[1])}function qb(d){var k=d[0];d=d[1];return k*k+d*d}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var d=0,k=arguments.length;k--;)d+=arguments[k]*arguments[k];return Math.sqrt(d)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Ida(){return qa},yha:Ma,Hda:"zyx",Vna:function(d){qa=d},doa:function(d){return d*Mb},bd:function(d,k){return Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var d=new qa(4);qa!=Float32Array&&(d[1]=0,d[2]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d},mw:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;return d},tf:function(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C},set:function(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d},KU:function(d,k){if(d===k){var t=k[1];d[1]=k[2];d[2]=t}else d[0]=k[0],
d[1]=k[2],d[2]=k[1],d[3]=k[3];return d},os:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;d[0]=k*D;d[1]=-x*D;d[2]=-C*D;d[3]=t*D;return d},BT:function(d,k){var t=k[0];d[0]=k[3];d[1]=-k[1];d[2]=-k[2];d[3]=t;return d},wJ:function(d){return d[0]*d[3]-d[2]*d[1]},multiply:a,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+D*E;d[1]=C*t+k*E;d[2]=x*-E+D*t;d[3]=C*-E+k*t;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];d[0]=k[0]*E;d[1]=x*E;d[2]=C*t;d[3]=D*t;return d},PB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;return d},AJ:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=k[1];return d},Ml:function(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},zJ:function(d){return Math.hypot(d[0],d[1],d[2],d[3])},Yfa:function(d,k,t,x){d[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-d[2]*t[1];return[d,k,t]},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+
t[3];return d},Nl:c,aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]},bd:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},PJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d},QJ:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},nn:a,sub:c}),Pb=Object.freeze({__proto__:null,create:function(){var d=new qa(6);qa!=Float32Array&&(d[1]=0,d[2]=0,d[4]=0,d[5]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(6);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];return d},mw:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d},tf:function(d,
k,t,x,C,D){var E=new qa(6);E[0]=d;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(d,k,t,x,C,D,E){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;return d},os:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;d[0]=D*I;d[1]=-x*I;d[2]=-C*I;d[3]=t*I;d[4]=(C*k-D*E)*I;d[5]=(x*E-t*k)*I;return d},wJ:function(d){return d[0]*d[3]-d[1]*d[2]},multiply:e,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);d[0]=
x*t+D*K;d[1]=C*t+E*K;d[2]=x*-K+D*t;d[3]=C*-K+E*t;d[4]=I;d[5]=k;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];d[0]=k[0]*K;d[1]=x*K;d[2]=C*t;d[3]=D*t;d[4]=E;d[5]=I;return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=x*K+D*t+I;d[5]=C*K+E*t+k;return d},PB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;d[4]=0;d[5]=0;return d},AJ:function(d,k){d[0]=k[0];d[1]=
0;d[2]=0;d[3]=k[1];d[4]=0;d[5]=0;return d},BJ:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=k[0];d[5]=k[1];return d},Ml:function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"},zJ:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],1)},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];return d},Nl:b,PJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;return d},
QJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;return d},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]},bd:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4];d=d[5];var I=k[0],K=k[1],N=k[2],P=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-P)<=1E-6*Math.max(1,Math.abs(D),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},nn:e,sub:b}),Qb=Object.freeze({__proto__:null,create:h,ica:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[4];d[4]=k[5];d[5]=k[6];d[6]=k[8];d[7]=k[9];d[8]=k[10];return d},clone:function(d){var k=new qa(9);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=d[8];return k},la:function(d,
k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},tf:function(d,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=d;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(d,k,t,x,C,D,E,I,K,N){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;d[8]=N;return d},mw:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},KU:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[5];d[1]=k[3];d[2]=k[6];d[3]=t;d[5]=
k[7];d[6]=x;d[7]=C}else d[0]=k[0],d[1]=k[3],d[2]=k[6],d[3]=k[1],d[4]=k[4],d[5]=k[7],d[6]=k[2],d[7]=k[5],d[8]=k[8];return d},os:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var P=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*P+x*S+C*W;if(!V)return null;V=1/V;d[0]=P*V;d[1]=(-k*x+C*N)*V;d[2]=(I*x-C*E)*V;d[3]=S*V;d[4]=(k*t-C*K)*V;d[5]=(-I*t+C*D)*V;d[6]=W*V;d[7]=(-N*t+x*K)*V;d[8]=(E*t-x*D)*V;return d},BT:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];d[0]=E*k-I*N;d[1]=C*N-x*k;d[2]=x*I-C*E;d[3]=I*K-D*k;d[4]=t*k-C*K;d[5]=C*D-t*I;d[6]=D*N-E*K;d[7]=x*K-t*N;d[8]=t*E-x*D;return d},wJ:function(d){var k=d[3],t=d[4],x=d[5],C=d[6],D=d[7],E=d[8];return d[0]*(E*t-x*D)+d[1]*(-E*k+x*C)+d[2]*(D*k-t*C)},multiply:m,translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=I;d[5]=K;d[6]=S*x+t*E+N;d[7]=S*C+t*I+P;d[8]=S*D+t*K+k;return d},rotate:function(d,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);d[0]=t*x+S*E;d[1]=t*C+S*I;d[2]=t*D+S*K;d[3]=t*E-S*x;d[4]=t*I-S*C;d[5]=t*K-S*D;d[6]=N;d[7]=P;d[8]=k;return d},scale:function(d,k,t){var x=t[0];t=t[1];d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=t*k[3];d[4]=t*k[4];d[5]=t*k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},BJ:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=k[0];d[7]=k[1];d[8]=1;return d},PB:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=
t;d[2]=0;d[3]=-t;d[4]=k;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},AJ:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=k[1];d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},Ola:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=0;d[3]=k[2];d[4]=k[3];d[5]=0;d[6]=k[4];d[7]=k[5];d[8]=1;return d},jca:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;d[0]=1-x-C;d[3]=K-k;d[6]=N+E;d[1]=K+k;d[4]=1-t-C;d[7]=P-D;d[2]=N-E;d[5]=P+D;d[8]=1-t-x;return d},Yma:function(d,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea;P=P*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*P-pa*Ba+za*Aa;if(!V)return null;V=1/V;d[0]=(I*W-K*S+N*Ca)*V;d[1]=(K*P-E*W-N*Ba)*V;d[2]=(E*S-I*P+N*Aa)*V;d[3]=(C*S-x*W-D*Ca)*V;d[4]=(t*W-C*P+D*Ba)*V;d[5]=(x*P-t*S-D*Aa)*V;d[6]=(ia*za-ca*pa+k*sa)*V;d[7]=(ca*ra-
ea*za-k*la)*V;d[8]=(ea*pa-ia*ra+k*oa)*V;return d},nU:function(d,k,t){d[0]=2/k;d[1]=0;d[2]=0;d[3]=0;d[4]=-2/t;d[5]=0;d[6]=-1;d[7]=1;d[8]=1;return d},Ml:function(d){return"mat3("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+")"},zJ:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];
return d},Nl:g,PJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;return d},QJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;return d},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]},bd:function(d,k){var t=d[0],
x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6],N=d[7];d=d[8];var P=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-P)<=1E-6*Math.max(1,Math.abs(t),Math.abs(P))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},nn:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var d=new qa(16);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0);d[0]=1;d[5]=1;d[10]=1;d[15]=1;return d},clone:function(d){var k=new qa(16);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=
d[8];k[9]=d[9];k[10]=d[10];k[11]=d[11];k[12]=d[12];k[13]=d[13];k[14]=d[14];k[15]=d[15];return k},la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];d[9]=k[9];d[10]=k[10];d[11]=k[11];d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=k[15];return d},tf:function(d,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia){var ca=new qa(16);ca[0]=d;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=P;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(d,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia,ca){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;d[8]=N;d[9]=P;d[10]=S;d[11]=W;d[12]=V;d[13]=ea;d[14]=ia;d[15]=ca;return d},mw:l,KU:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];d[1]=k[4];d[2]=k[8];d[3]=k[12];d[4]=t;d[6]=k[9];d[7]=k[13];d[8]=x;d[9]=D;d[11]=k[14];d[12]=C;d[13]=E;d[14]=I}else d[0]=k[0],d[1]=k[4],d[2]=k[8],d[3]=k[12],d[4]=k[1],d[5]=k[5],d[6]=k[9],d[7]=k[13],d[8]=k[2],d[9]=k[6],d[10]=k[10],d[11]=k[14],
d[12]=k[3],d[13]=k[7],d[14]=k[11],d[15]=k[15];return d},os:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;d[0]=(I*Ka-K*Ja+N*Fa)*Da;d[1]=(C*Ja-x*Ka-D*Fa)*Da;d[2]=(ia*za-ca*pa+k*sa)*Da;d[3]=(W*pa-S*za-
V*sa)*Da;d[4]=(K*Ca-E*Ka-N*Ba)*Da;d[5]=(t*Ka-C*Ca+D*Ba)*Da;d[6]=(ca*ra-ea*za-k*la)*Da;d[7]=(P*za-W*ra+V*la)*Da;d[8]=(E*Ja-I*Ca+N*Aa)*Da;d[9]=(x*Ca-t*Ja-D*Aa)*Da;d[10]=(ea*pa-ia*ra+k*oa)*Da;d[11]=(S*ra-P*pa-V*oa)*Da;d[12]=(I*Ba-E*Fa-K*Aa)*Da;d[13]=(t*Fa-x*Ba+C*Aa)*Da;d[14]=(ia*la-ea*sa-ca*oa)*Da;d[15]=(P*sa-S*la+W*oa)*Da;return d},BT:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;d[0]=I*Ka-K*Ja+N*Fa;d[1]=C*Ja-x*Ka-D*Fa;d[2]=ia*za-ca*pa+k*sa;d[3]=W*pa-S*za-V*sa;d[4]=K*Ca-E*Ka-N*Ba;d[5]=t*Ka-C*Ca+D*Ba;d[6]=ca*ra-ea*za-k*la;d[7]=P*za-W*ra+V*la;d[8]=E*Ja-I*Ca+N*Aa;d[9]=x*Ca-t*Ja-D*Aa;d[10]=ea*pa-ia*ra+k*oa;d[11]=S*ra-P*pa-V*oa;d[12]=I*Ba-E*Fa-K*Aa;d[13]=t*Fa-x*Ba+C*Aa;d[14]=ia*la-ea*sa-ca*oa;d[15]=P*sa-S*la+W*oa;return d},wJ:function(d){var k=d[0],t=d[1],x=d[2],
C=d[4],D=d[5],E=d[6],I=d[8],K=d[9],N=d[10],P=d[12],S=d[13],W=d[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*P,oa=I*W-N*P,la=K*W-N*S;return d[7]*(k*la-t*oa+x*ca)-d[3]*(C*la-D*oa+E*ca)+d[15]*(I*ia-K*ea+N*V)-d[11]*(P*ia-S*ea+W*V)},multiply:n,translate:function(d,k,t){var x=t[0],C=t[1];t=t[2];if(k===d)d[12]=k[0]*x+k[4]*C+k[8]*t+k[12],d[13]=k[1]*x+k[5]*C+k[9]*t+k[13],d[14]=k[2]*x+k[6]*C+k[10]*t+k[14],d[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var P=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];d[0]=D;d[1]=E;d[2]=I;d[3]=K;d[4]=N;d[5]=P;d[6]=S;d[7]=W;d[8]=V;d[9]=ea;d[10]=ia;d[11]=ca;d[12]=D*x+N*C+V*t+k[12];d[13]=E*x+P*C+ea*t+k[13];d[14]=I*x+S*C+ia*t+k[14];d[15]=K*x+W*C+ca*t+k[15]}return d},scale:function(d,k,t){var x=t[0],C=t[1];t=t[2];d[0]=k[0]*x;d[1]=k[1]*x;d[2]=k[2]*x;d[3]=k[3]*x;d[4]=k[4]*C;d[5]=k[5]*C;d[6]=k[6]*C;d[7]=k[7]*C;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=
k[15];return d},rotate:function(d,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var P=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;d[0]=t*sa+W*pa+ca*za;d[1]=E*sa+V*pa+oa*za;d[2]=P*sa+ea*
pa+la*za;d[3]=S*sa+ia*pa+ra*za;d[4]=t*Aa+W*Ba+ca*Ca;d[5]=E*Aa+V*Ba+oa*Ca;d[6]=P*Aa+ea*Ba+la*Ca;d[7]=S*Aa+ia*Ba+ra*Ca;d[8]=t*Fa+W*C+ca*D;d[9]=E*Fa+V*C+oa*D;d[10]=P*Fa+ea*C+la*D;d[11]=S*Fa+ia*C+ra*D;k!==d&&(d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);return d},$J:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],P=k[10],S=k[11];k!==d&&(d[0]=k[0],d[1]=k[1],d[2]=k[2],d[3]=k[3],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[4]=C*t+K*x;d[5]=D*t+N*x;d[6]=
E*t+P*x;d[7]=I*t+S*x;d[8]=K*t-C*x;d[9]=N*t-D*x;d[10]=P*t-E*x;d[11]=S*t-I*x;return d},aK:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],P=k[10],S=k[11];k!==d&&(d[4]=k[4],d[5]=k[5],d[6]=k[6],d[7]=k[7],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t-K*x;d[1]=D*t-N*x;d[2]=E*t-P*x;d[3]=I*t-S*x;d[8]=C*x+K*t;d[9]=D*x+N*t;d[10]=E*x+P*t;d[11]=I*x+S*t;return d},bK:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],P=k[6],S=k[7];k!==d&&(d[8]=k[8],d[9]=k[9],d[10]=k[10],d[11]=k[11],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t+K*x;d[1]=D*t+N*x;d[2]=E*t+P*x;d[3]=I*t+S*x;d[4]=K*t-C*x;d[5]=N*t-D*x;d[6]=P*t-E*x;d[7]=S*t-I*x;return d},BJ:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=k[0];d[13]=k[1];d[14]=k[2];d[15]=1;return d},AJ:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k[1];d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=k[2];d[11]=0;
d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},PB:function(d,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;d[0]=x*x*E+k;d[1]=C*x*E+t*D;d[2]=t*x*E-C*D;d[3]=0;d[4]=x*C*E-t*D;d[5]=C*C*E+k;d[6]=t*C*E+x*D;d[7]=0;d[8]=x*t*E+C*D;d[9]=C*t*E-x*D;d[10]=t*t*E+k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Ula:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=t;d[7]=0;d[8]=0;d[9]=
-t;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Vla:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=0;d[2]=-t;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=t;d[9]=0;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Wla:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=0;d[3]=0;d[4]=-t;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},kca:p,Qla:function(d,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],P=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+P*x+K*D-N*C)/S,t[1]=2*(K*E+P*C+N*x-I*D)/S,t[2]=2*(N*E+P*D+I*C-K*x)/S):(t[0]=2*(I*E+P*x+K*D-N*C),t[1]=2*(K*E+P*C+N*x-I*D),t[2]=2*(N*E+P*D+I*C-K*x));p(d,k,t);return d},nca:q,gma:u,fma:w,zla:function(d,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],P=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(P,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;P*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),d[3]=.25*x,d[0]=(N-k)/x,d[1]=(P-E)/x,d[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),d[3]=(N-k)/x,d[0]=.25*x,d[1]=(D+I)/x,d[2]=(P+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),d[3]=(P-E)/x,d[0]=(D+I)/x,d[1]=.25*x,d[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),d[3]=(D-I)/x,d[0]=(P+E)/x,d[1]=(N+k)/x,d[2]=.25*x);return d},Rla:function(d,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,P=E+E;k=C*K;var S=C*N;C*=P;var W=D*N;D*=P;E*=P;K*=I;N*=I;I*=P;P=x[0];var V=x[1];x=x[2];d[0]=(1-(W+E))*P;
d[1]=(S+I)*P;d[2]=(C-N)*P;d[3]=0;d[4]=(S-I)*V;d[5]=(1-(k+E))*V;d[6]=(D+K)*V;d[7]=0;d[8]=(C+N)*x;d[9]=(D-K)*x;d[10]=(1-(k+W))*x;d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d},Sla:function(d,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,P=E+E,S=I+I;k=D*N;var W=D*P,V=D*S;D=E*P;E*=S;var ea=I*S;I=K*N;P*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-P;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+P)*S;E=(E-I)*S;k=(1-(k+D))*S;d[0]=N;d[1]=la;d[2]=
ca;d[3]=0;d[4]=W;d[5]=ea;d[6]=oa;d[7]=0;d[8]=V;d[9]=E;d[10]=k;d[11]=0;d[12]=t[0]+x-(N*x+W*K+V*C);d[13]=t[1]+K-(la*x+ea*K+E*C);d[14]=t[2]+C-(ca*x+oa*K+k*C);d[15]=1;return d},jca:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;d[0]=1-x-C;d[1]=K+k;d[2]=N-E;d[3]=0;d[4]=K-k;d[5]=1-t-C;d[6]=P+D;d[7]=0;d[8]=N+E;d[9]=P-D;d[10]=1-t-x;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},lca:function(d,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);d[0]=2*D*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*D*K;d[6]=0;d[7]=0;d[8]=(t+k)*I;d[9]=(C+x)*K;d[10]=(E+D)*N;d[11]=-1;d[12]=0;d[13]=0;d[14]=E*D*2*N;d[15]=0;return d},ina:r,perspective:r,jna:function(d,k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=C*t,d[14]=C*x*t):(d[10]=-1,d[14]=-x);return d},hna:function(d,k,t,x){var C=Math.tan(k.ioa*Math.PI/180),D=Math.tan(k.Bla*Math.PI/
180),E=Math.tan(k.Mma*Math.PI/180);k=Math.tan(k.Fna*Math.PI/180);var I=2/(E+k),K=2/(C+D);d[0]=I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=K;d[6]=0;d[7]=0;d[8]=-((E-k)*I*.5);d[9]=(C-D)*K*.5;d[10]=x/(t-x);d[11]=-1;d[12]=0;d[13]=0;d[14]=x*t/(t-x);d[15]=0;return d},fna:v,Vca:v,gna:function(d,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);d[0]=-2*I;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=E;d[11]=0;d[12]=(k+t)*I;d[13]=(C+x)*K;d[14]=D*E;d[15]=1;return d},Kca:function(d,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var P=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-P))return l(d);t=C-N;x=D-x;N=k-P;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;P=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(P,K,E))?(S=1/S,P*=S,K*=S,E*=S):E=K=P=0;I=x*E-N*K;var W=N*P-t*E;var V=t*K-x*P;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;d[0]=P;d[1]=I;d[2]=t;d[3]=0;d[4]=K;d[5]=W;d[6]=x;d[7]=0;d[8]=E;d[9]=V;d[10]=N;d[11]=0;d[12]=-(P*C+K*D+E*k);d[13]=
-(I*C+W*D+V*k);d[14]=-(t*C+x*D+N*k);d[15]=1;return d},aoa:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var P=x*x+N*N+t*t;0<P&&(P=1/Math.sqrt(P),x*=P,N*=P,t*=P);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;P=S*S+K*K+E*E;0<P&&(P=1/Math.sqrt(P),S*=P,K*=P,E*=P);d[0]=S;d[1]=K;d[2]=E;d[3]=0;d[4]=N*E-t*K;d[5]=t*S-x*E;d[6]=x*K-N*S;d[7]=0;d[8]=x;d[9]=N;d[10]=t;d[11]=0;d[12]=C;d[13]=D;d[14]=k;d[15]=1;return d},Ml:function(d){return"mat4("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+", "+d[9]+", "+d[10]+", "+d[11]+", "+d[12]+", "+d[13]+", "+d[14]+", "+d[15]+")"},zJ:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];d[9]=k[9]+t[9];d[10]=k[10]+t[10];d[11]=k[11]+t[11];d[12]=k[12]+t[12];d[13]=k[13]+t[13];
d[14]=k[14]+t[14];d[15]=k[15]+t[15];return d},Nl:y,PJ:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12]*t;d[13]=k[13]*t;d[14]=k[14]*t;d[15]=k[15]*t;return d},QJ:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;d[9]=k[9]+t[9]*x;d[10]=k[10]+t[10]*x;d[11]=
k[11]+t[11]*x;d[12]=k[12]+t[12]*x;d[13]=k[13]+t[13]*x;d[14]=k[14]+t[14]*x;d[15]=k[15]+t[15]*x;return d},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]&&d[9]===k[9]&&d[10]===k[10]&&d[11]===k[11]&&d[12]===k[12]&&d[13]===k[13]&&d[14]===k[14]&&d[15]===k[15]},bd:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6],N=d[7],P=d[8],S=d[9],W=d[10],V=d[11],ea=d[12],ia=d[13],ca=d[14];d=d[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(P-Ca)<=1E-6*Math.max(1,Math.abs(P),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},nn:n,sub:y}),rb=function(){var d=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(d){var k=new qa(3);k[0]=d[0];k[1]=d[1];k[2]=d[2];return k},length:G,tf:z,la:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];return d},set:function(d,k,
t,x){d[0]=k;d[1]=t;d[2]=x;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];return d},Nl:F,multiply:H,Gl:J,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],
t[2]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d},cK:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;return d},jw:M,DU:Q,cC:R,iU:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];return d},normalize:T,ln:Z,vJ:X,Td:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-
D);d[2]=k+x*(t[2]-k);return d},kda:function(d,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;d[0]=E*k[0]+x*t[0];d[1]=E*k[1]+x*t[1];d[2]=E*k[2]+x*t[2];return d},lma:function(d,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);d[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;d[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;d[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return d},fla:function(d,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;d[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;d[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;d[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;d[0]=Math.cos(t)*C;d[1]=Math.sin(t)*C;d[2]=x*k;return d},jK:function(d,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;d[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;d[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;d[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return d},wda:function(d,k,t){var x=k[0],C=k[1];k=k[2];d[0]=x*t[0]+C*t[3]+
k*t[6];d[1]=x*t[1]+C*t[4]+k*t[7];d[2]=x*t[2]+C*t[5]+k*t[8];return d},xda:function(d,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,P=x*I-C*E;t=2*t[3];d[0]=E+K*t+2*(C*P-D*N);d[1]=I+N*t+2*(D*K-x*P);d[2]=k+P*t+2*(x*N-C*K);return d},$J:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},aK:function(d,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},bK:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},angle:function(d,k){var t=d[0],x=d[1],C=d[2],D=k[0],E=k[1],I=k[2];d=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(d,k)/t;return Math.acos(Math.min(Math.max(d,-1),1))},VU:function(d){d[0]=0;d[1]=0;d[2]=0;return d},Ml:function(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]},bd:function(d,k){var t=d[0],x=d[1];d=d[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:F,
nn:H,QT:J,OT:M,CU:Q,uw:G,bC:R,forEach:rb});var sb=function(){var d=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],d[3]=k[x+3],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2],k[x+3]=d[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,tf:va,la:ta,set:ya,add:Na,Nl:Sa,multiply:Ta,Gl:Ua,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);d[3]=Math.ceil(k[3]);return d},floor:function(d,
k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);d[3]=Math.floor(k[3]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);d[3]=Math.min(k[3],t[3]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],t[2]);d[3]=Math.max(k[3],t[3]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);d[3]=Math.round(k[3]);return d},scale:Wa,cK:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},jw:eb,DU:fb,length:Pa,cC:Va,iU:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=-k[3];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];d[3]=1/k[3];return d},normalize:ib,ln:Ya,vJ:function(d,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],P=k[2];k=k[3];d[0]=N*t-P*K+k*I;d[1]=-(x*t)+
P*E-k*D;d[2]=x*K-N*E+k*C;d[3]=-(x*I)+N*D-P*C;return d},Td:vb,random:function(d,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);d[0]=k*t;d[1]=k*x;d[2]=k*D*C;d[3]=k*E*C;return d},jK:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];d[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;d[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;d[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;d[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return d},xda:function(d,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,P=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;d[0]=N*t+x*-E+P*-K-S*-I;d[1]=P*t+x*-I+S*-E-N*-K;d[2]=S*t+x*-K+N*-I-P*-E;d[3]=k[3];return d},VU:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=0;return d},Ml:function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},aj:wb,bd:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:Sa,nn:Ta,QT:Ua,OT:eb,CU:fb,uw:Pa,bC:Va,forEach:sb});var tb=function(){var d=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(d,k,C),1E-6>G(d)&&X(d,t,C),T(d,d),xb(x,d,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(d,C,D);x[0]=d[0];x[1]=d[1];x[2]=d[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var d=jb(),k=
jb();return function(t,x,C,D,E,I){kb(d,x,E,I);kb(k,C,D,I);kb(t,d,k,2*I*(1-I));return t}}(),gb=function(){var d=h();return function(k,t,x,C){d[0]=x[0];d[3]=x[1];d[6]=x[2];d[1]=C[0];d[4]=C[1];d[7]=C[2];d[2]=-t[0];d[5]=-t[1];d[8]=-t[2];return ib(k,Eb(k,d))}}();tb=Object.freeze({__proto__:null,create:jb,mw:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d},Tna:xb,cma:function(d,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(d[0]=k[0]/x,d[1]=k[1]/x,d[2]=k[2]/x):(d[0]=1,d[1]=0,d[2]=0);return t},ama:function(d,
k){d=Ya(d,k);return Math.acos(2*d*d-1)},multiply:yb,$J:zb,aK:Ab,bK:Bb,hla:function(d,k){var t=k[0],x=k[1];k=k[2];d[0]=t;d[1]=x;d[2]=k;d[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return d},exp:Cb,Jca:Db,pow:function(d,k,t){Db(d,k);Wa(d,d,t);Cb(d,d);return d},kda:kb,random:function(d){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);d[0]=C*Math.sin(2*Math.PI*t);d[1]=C*Math.cos(2*Math.PI*t);d[2]=k*Math.sin(2*Math.PI*x);d[3]=k*Math.cos(2*Math.PI*x);return d},os:function(d,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;d[0]=-t*D;d[1]=-x*D;d[2]=-C*D;d[3]=k*D;return d},Uba:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];return d},Pla:Eb,Nla:function(d,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),P=Math.cos(x);switch(C){case "xyz":d[0]=D*K*P+E*I*N;d[1]=E*I*P-D*K*N;d[2]=E*K*N+D*I*P;d[3]=E*K*P-D*I*N;break;case "xzy":d[0]=D*K*P-E*I*N;d[1]=E*
I*P-D*K*N;d[2]=E*K*N+D*I*P;d[3]=E*K*P+D*I*N;break;case "yxz":d[0]=D*K*P+E*I*N;d[1]=E*I*P-D*K*N;d[2]=E*K*N-D*I*P;d[3]=E*K*P+D*I*N;break;case "yzx":d[0]=D*K*P+E*I*N;d[1]=E*I*P+D*K*N;d[2]=E*K*N-D*I*P;d[3]=E*K*P-D*I*N;break;case "zxy":d[0]=D*K*P-E*I*N;d[1]=E*I*P+D*K*N;d[2]=E*K*N+D*I*P;d[3]=E*K*P-D*I*N;break;case "zyx":d[0]=D*K*P-E*I*N;d[1]=E*I*P+D*K*N;d[2]=E*K*N-D*I*P;d[3]=E*K*P+D*I*N;break;default:throw Error("Unknown angle order "+C);}return d},Ml:function(d){return"quat("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+")"},clone:Y,tf:va,la:ta,set:ya,add:Na,nn:yb,scale:Wa,ln:Ya,Td:vb,length:Pa,uw:Pa,cC:Va,bC:Va,normalize:ib,aj:wb,bd:function(d,k){return.999999<=Math.abs(Ya(d,k))},Jna:tb,Yna:ub,Sna:gb});ub=Object.freeze({__proto__:null,create:function(){var d=new qa(8);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[4]=0,d[5]=0,d[6]=0,d[7]=0);d[3]=1;return d},clone:function(d){var k=new qa(8);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];return k},tf:function(d,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=d;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},Tla:function(d,k,t,x,C,D,E){var I=new qa(8);I[0]=d;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*d-C*t;I[6]=E*x+C*k-D*d;I[7]=-C*d-D*k-E*t;return I},kca:Fb,BJ:function(d,k){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=.5*k[0];d[5]=.5*k[1];d[6]=.5*k[2];d[7]=0;return d},PB:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},ica:function(d,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(d,t,x);return d},la:Gb,mw:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},set:function(d,k,t,x,C,D,E,I,K){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=I;d[7]=K;return d},ema:ta,dma:function(d,k){d[0]=k[4];d[1]=k[5];d[2]=k[6];d[3]=k[7];return d},Wna:ta,Una:function(d,k){d[4]=k[0];d[5]=k[1];d[6]=k[2];d[7]=k[3];return d},nca:function(d,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];d[0]=2*(t*k+D*E+x*K-C*I);d[1]=2*(x*k+D*I+C*E-t*K);d[2]=2*(C*k+
D*K+t*I-x*E);return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],P=k[5],S=k[6];k=k[7];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=E*I+C*t-D*K+N;d[5]=E*K+D*I-x*t+P;d[6]=E*t+x*K-C*I+S;d[7]=-x*I-C*K-D*t+k;return d},$J:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;zb(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+
I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},aK:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Ab(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},bK:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Bb(d,k,t);x=d[0];C=
d[1];D=d[2];E=d[3];d[4]=S*E+I*x+W*D-V*C;d[5]=W*E+I*C+V*x-S*D;d[6]=V*E+I*D+S*C-W*x;d[7]=I*E-S*x-W*C-V*D;return d},Hna:function(d,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];d[0]=E*t+N*x+I*D-K*C;d[1]=I*t+N*C+K*x-E*D;d[2]=K*t+N*D+E*C-I*x;d[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];d[4]=E*t+N*x+I*D-K*C;d[5]=I*t+N*C+K*x-E*D;d[6]=K*t+N*D+E*C-I*x;d[7]=N*t-E*x-I*C-K*D;return d},Ina:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];d[0]=x*N+k*E+C*
K-D*I;d[1]=C*N+k*I+D*E-x*K;d[2]=D*N+k*K+x*I-C*E;d[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];d[4]=x*N+k*E+C*K-D*I;d[5]=C*N+k*I+D*E-x*K;d[6]=D*N+k*K+x*I-C*E;d[7]=k*N-x*E-C*I-D*K;return d},Gna:function(d,k,t,x){if(1E-6>Math.abs(x))return Gb(d,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];d[0]=C*x+N*E+D*t-K*I;d[1]=D*x+N*I+K*E-C*t;d[2]=K*x+N*t+C*I-D*E;d[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];d[4]=
C*x+k*E+D*t-K*I;d[5]=D*x+k*I+K*E-C*t;d[6]=K*x+k*t+C*I-D*E;d[7]=k*x-C*E-D*I-K*t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];return d},multiply:lb,nn:lb,scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;return d},ln:Ya,Td:function(d,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);d[0]=k[0]*C+t[0]*x;d[1]=k[1]*C+t[1]*x;d[2]=k[2]*C+t[2]*x;d[3]=
k[3]*C+t[3]*x;d[4]=k[4]*C+t[4]*x;d[5]=k[5]*C+t[5]*x;d[6]=k[6]*C+t[6]*x;d[7]=k[7]*C+t[7]*x;return d},os:function(d,k){var t=Va(k);d[0]=-k[0]/t;d[1]=-k[1]/t;d[2]=-k[2]/t;d[3]=k[3]/t;d[4]=-k[4]/t;d[5]=-k[5]/t;d[6]=-k[6]/t;d[7]=k[7]/t;return d},Uba:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];d[4]=-k[4];d[5]=-k[5];d[6]=-k[6];d[7]=k[7];return d},length:Pa,uw:Pa,cC:Va,bC:Va,normalize:function(d,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var P=x*I+C*K+D*N+E*k;d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=(I-x*P)/t;d[5]=(K-C*P)/t;d[6]=(N-D*P)/t;d[7]=(k-E*P)/t}return d},Ml:function(d){return"quat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+")"},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]},bd:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],I=d[5],K=d[6];d=d[7];var N=k[0],P=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}});gb=function(){var d=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],D(d,d,E),k[x]=d[0],k[x+1]=d[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(d){var k=new qa(2);k[0]=d[0];k[1]=d[1];return k},tf:function(d,k){var t=new qa(2);t[0]=d;t[1]=k;return t},la:function(d,k){d[0]=k[0];d[1]=k[1];return d},set:function(d,k,t){d[0]=k;d[1]=t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];return d},Nl:mb,multiply:nb,Gl:Za,ceil:function(d,
k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;return d},cK:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;return d},jw:ob,DU:Qa,length:pb,
cC:qb,iU:function(d,k){d[0]=-k[0];d[1]=-k[1];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];return d},normalize:function(d,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;return d},ln:function(d,k){return d[0]*k[0]+d[1]*k[1]},vJ:function(d,k,t){k=k[0]*t[1]-k[1]*t[0];d[0]=d[1]=0;d[2]=k;return d},Td:function(d,k,t,x){var C=k[0];k=k[1];d[0]=C+x*(t[0]-C);d[1]=k+x*(t[1]-k);return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI;d[0]=Math.cos(t)*k;d[1]=Math.sin(t)*
k;return d},foa:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k;d[1]=t[1]*x+t[3]*k;return d},goa:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k+t[4];d[1]=t[1]*x+t[3]*k+t[5];return d},wda:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[3]*k+t[6];d[1]=t[1]*x+t[4]*k+t[7];return d},jK:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[4]*k+t[12];d[1]=t[1]*x+t[5]*k+t[13];return d},rotate:function(d,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);d[0]=C*x-k*D+t[0];d[1]=C*D+k*
x+t[1];return d},angle:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+d*d)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+d*k)/C,-1),1))},VU:function(d){d[0]=0;d[1]=0;return d},Ml:function(d){return"vec2("+d[0]+", "+d[1]+")"},aj:function(d,k){return d[0]===k[0]&&d[1]===k[1]},bd:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},uw:pb,sub:mb,nn:nb,QT:Za,
OT:ob,CU:Qa,bC:qb,forEach:gb});f.bj=Nb;f.Qma=Ob;f.Rma=Pb;f.Sma=Qb;f.Jl=Rb;f.pna=tb;f.qna=ub;f.noa=gb;f.gC=rb;f.Ew=sb;Object.defineProperty(f,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Yka?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.bj={}));
{"use strict";function f(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function c(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function b(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&b(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var Q=0;Q!==A.length;++Q)if((Q+1)%A.length!==J&&Q!==J&&e(m(A,J),m(A,M),m(A,Q+1))&&b(m(A,J),m(A,M),m(A,Q))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,Q);Jb[1]=m(A,Q+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],Q,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=Q=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(c(m(r,Y-1),m(r,Y),m(r,ta))&&b(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=h(r[Y],M),ya<Q&&(Q=ya,J=M,T=ta))}c(m(r,Y+1),m(r,Y),m(r,ta+1))&&b(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),c(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&b(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&f(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.mna={yla:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},rna:w,sma:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(f(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(f(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},wna:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},xna:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Pma:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(c(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const f=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};f.pw=!1;f.JJ=!1;f.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Xg={}}
{"use strict";const f=self.B;f.RM=class{constructor(a){this.nba=a;this.Fa=new Map;this.s8()}s8(){var a=this.nba;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const c of a)this.t8(c)}t8(a){if(a)if(a.includes("=")){var c=a.indexOf("="),e=decodeURIComponent(a.substring(0,c));a=decodeURIComponent(a.substring(c+1));this.Fa.set(e,a)}else this.Fa.set(a,null)}Lx(a){return this.Fa.has(a)}V(a){a=this.Fa.get(a);return"undefined"===typeof a?null:a}};f.SM=new f.RM(location.search);f.lga=
new f.RM(location.hash);f.SM.V("mode")}
{"use strict";const f=self.B,a=navigator.userAgent;let c={Ica:/linux|openbsd|freebsd|netbsd/i.test(a),Rba:/CrOS/.test(a),hC:/trident|iemobile|msie|tizen/i.test(a),$la:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),HT:/bb10/i.test(a),fca:/edge\//i.test(a),MU:/trident/i.test(a),webkit:/webkit/i.test(a),eda:/safari\//i.test(a),Qba:/chrome\//i.test(a),Sba:/chromium\//i.test(a),Vba:/crosswalk|xwalk/i.test(a),$ma:/nwjs/i.test(a),Fba:/amazonwebappplatform/i.test(a),Dda:/wv\)/.test(a),Gba:/android/i.test(a),
Sca:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",b="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":b="2000";break;case "5.1":b="XP";break;case "5.2":b="XP";break;case "6.0":b="Vista";break;case "6.1":b="7";break;case "6.2":b="8";break;case "6.3":b="8.1";
break;case "10.0":b="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(b=r.replace("_","."))});u("isLinux",c.Ica,()=>{e="Linux"});u("isChromeOS",c.Rba,()=>{e="Chrome OS"});u("isAndroid",!c.hC&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(b=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(b=r)});u("isIPhone",!c.hC&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(b=r.replace("_","."))});u("isIPad",!c.hC&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(b=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(b=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(b=r)});u("isBlackberry",c.HT,()=>{e="Blackberry";b="10";h="stock";g="webkit"});u("isChrome",!c.fca&&!c.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&c.MU,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",c.eda&&!c.Sca&&!c.Qba&&!c.Sba&&!c.Zla&&!c.HT,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",c.Vba,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",c.Fba,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===h&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===l&&c.Dda,()=>l="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!c.hC&&c.Gba,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&c.MU,()=>g="Trident");u("isWebkitFallback","(unknown)"===e&&c.webkit,()=>g="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",b=m,p=n=!1);f.Xc={gq:e,Dga:b,Mw:h,bea:m,sC:parseFloat(m),Nw:g,yC:l,Dfa:n,ID:!n,Efa:p,zfa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),vfa:"Mac OS X"===e||"iOS"===e,Ifa:w,Jfa:"Linux"===e}}"use strict";
{const f=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,c="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function b(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return f.delete(w),g(w,r,v,!1);throw G;}}function l(w){p(w);let r=f.get(w);r instanceof Promise||(r=n(w),f.set(w,r),r.catch(()=>f.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=b(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=b(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=b(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=b(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(c){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=b(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=b(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=b(w);[,r]=await Promise.all([w,r]);return r})}}self.f0=u}"use strict";
{const f=self.f0,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],c=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function b(l){throw Error(`"${l}" is not implemented`);
}function h(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.ga=l;c.set(this,new Map)}au(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async DR(l){l=
c.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async US(l,n){n=await m(n);c.get(this).set(l,n)}RS(l){c.get(this).delete(l)}hR(){c.get(this).clear()}jS(){return Array.from(c.get(this).keys())}async getItem(l,n){h(n);if(e)return await this.DR(l);let p;try{p=await this.ga.get(l)}catch(q){this.au(q);if(e)return await this.DR(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){h(p);"undefined"===
typeof n&&(n=null);if(e)await this.US(l,n);else try{await this.ga.set(l,n)}catch(q){if(this.au(q),e)await this.US(l,n);else throw q;}}async removeItem(l,n){h(n);if(e)this.RS(l);else try{await this.ga.delete(l)}catch(p){this.au(p),e?this.RS(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){h(l);if(e)this.hR();else try{await this.ga.clear()}catch(n){this.au(n),e?this.hR():console.error("Error clearing storage: ",n)}}async keys(l){h(l);if(e)return this.jS();l=[];try{l=await this.ga.keys()}catch(n){this.au(n);
if(e)return this.jS();console.error("Error getting storage keys: ",n)}return l}ready(l){h(l);return e?Promise.resolve(!0):this.ga.ready()}uJ(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new f(l);return new g(l)}length(){b("localforage.length()")}key(){b("localforage.key()")}iterate(){b("localforage.iterate()")}supports(){b("localforage.supports()")}dropInstance(){b("localforage.dropInstance()")}}
self.localforage=new g(new f("localforage"))}
{"use strict";const f=self.B;f.tb={};f.tb.Kka=(()=>{try{if("Safari"===f.Xc.Mw||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();f.tb.Eea="undefined"!==typeof HTMLDialogElement;f.tb.Gha=!!self.requestIdleCallback;f.tb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==f.Xc.Mw;f.tb.ImageBitmapOptions=!1;f.tb.Px=!1;if(f.tb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{f.tb.ImageBitmapOptions=!0}).catch(()=>{f.tb.ImageBitmapOptions=!1})}catch(a){f.tb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{f.tb.Px=10===a.width&&10===a.height}).catch(()=>{f.tb.Px=!1})}catch(a){f.tb.Px=!1}}f.tb.gea=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===f.Xc.Mw);f.tb.Xga=!(!navigator.permissions||!navigator.permissions.query);f.tb.QM="undefined"!==typeof Proxy;
f.tb.Fea="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;f.tb.Pw="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;f.tb.Pea="function"===typeof fetch;f.tb.Zga=!!(self.isSecureContext&&"Opera"!==f.Xc.Mw&&navigator.storage&&navigator.storage.persist);f.tb.aka=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===f.Xc.gq)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}f.tb.Xea=fc;f.tb.kfa="undefined"!==typeof self.ImageDecoder;f.tb.Lka=!!self.VideoEncoder;f.tb.yga=!!self.showOpenFilePicker;f.tb.zga=!(!navigator.fonts||!navigator.fonts.query);f.tb.Eka=!!navigator.userActivation}
{"use strict";const f=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,c){return this.replace(new RegExp(f.Es(a),"g"),c)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(c,e){return c.reduce((b,h)=>{0<e&&Array.isArray(h)?Array.prototype.push.apply(b,a(h,e-1)):b.push(h);return b},[])}Array.prototype.flat=function(c=1){return a(this,c)}}Array.prototype.Sd||(Array.prototype.Sd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Sd||(String.prototype.Sd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,c)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
b)=>a({usage:e,quota:b}),c))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const f=self.B;self.assert=function(a,c){a||console.error("Assertion failure: "+c+"\n\nStack trace:\n"+f.jx())}}
{"use strict";const f=self.B,a=self.Xg;f.$l=function(e){return"number"===typeof e};f.Ef=function(e){return f.$l(e)&&isFinite(e)};f.Gf=function(e){if(!f.$l(e))throw new TypeError("expected number");};f.bN=function(){};f.aia=function(e,b,h){if(!f.$l(e)||isNaN(e)||b>e||h<e)throw new RangeError("number outside of range");};f.Nha=function(...e){for(let b of e);};f.ii=function(e){if(!f.Ef(e))throw new TypeError("expected finite number");};f.ZM=function(){};f.Kha=function(...e){for(let b of e);};f.ei=function(e){return"string"===
typeof e};f.od=function(e){if(!f.ei(e))throw new TypeError("expected string");};f.dN=function(){};f.Pha=function(...e){for(let b of e);};f.kM=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};f.nia=function(e){if(!f.kM(e))throw new TypeError("expected simple object");};f.kia=function(e){if(!f.Vd(e)&&!f.kM(e))throw new TypeError("expected simple object");};f.jM=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};f.XM=function(e){if(!f.jM(e))throw new TypeError("expected object");
};f.cN=function(){};f.Oha=function(...e){for(let b of e);};f.zD=function(e){return f.Xl(e,Blob)&&"string"===typeof e.name};f.Zha=function(e){if(!f.zD(e))throw new TypeError("expected file");};f.iia=function(){};f.Rn=function(e){return Array.isArray(e)};f.YD=function(e){if(!f.Rn(e))throw new TypeError("expected array");};f.YM=function(){};f.Jha=function(...e){for(let b of e);};f.G_=function(e){return f.Rn(e)?e.length?f.Rn(e[0])?!0:!1:!0:!1};f.Iha=function(e){if(!f.G_(e))throw new TypeError("expected 2d array");
for(let b of e)if(!f.Rn(b))throw new TypeError("expected 2d array");};f.bia=function(){};f.AD=function(e){return"function"===typeof e};f.Dj=function(e,b){if(!f.AD(e))throw new TypeError("expected function");if(!f.Vd(b)&&e!==b)throw new TypeError("expected same function reference");};f.$M=function(){};f.Lha=function(...e){for(let b of e);};f.Rha=function(e,...b){if(!f.AD(e))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let h of b)if(!f.Vd(h)&&
e===h)return;throw new TypeError("expected same function reference");};f.cia=function(...e){if(!f.Vd(e))for(let b of e);};f.Xl=function(e,b){return e instanceof b};f.hM=function(e,...b){for(let h of b)if(f.Xl(e,h))return!0;return!1};f.ZD=function(e,b){if(!f.Xl(e,b))throw new TypeError("unexpected type");};f.aN=function(){};f.Mha=function(e,...b){for(let h of b);};f.Sha=function(e,...b){if(!f.hM(e,...b))throw new TypeError("unexpected type");};f.Tha=function(e,...b){if(!f.Vd(e)&&!f.hM(e,...b))throw new TypeError("unexpected type");
};f.wfa=function(e,b){for(let h of e)if(!f.Xl(h,b))return!1;return!0};f.xfa=function(e){for(let b of e)if(!f.Ef(b))return!1;return!0};f.Uha=function(e){for(let b of e);};f.dia=function(e){if(!f.Vd(e))for(let b of e);};f.Vha=function(e){for(let b of e);};f.eia=function(e){if(!f.Vd(e))for(let b of e);};f.Afa=function(e,b){return f.Vd(e)||!f.ei(e.nodeName)?!1:!b||f.Il(e.nodeName,b)};f.Wha=function(e,b){if(f.Vd(e)||!f.ei(e.nodeName))throw new TypeError("expected DOM node");if(b&&!f.Il(e.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);
};f.fia=function(){};f.CD=function(e,b){return f.Vd(e)||!f.ei(e.tagName)?!1:!b||f.Il(e.tagName,b)};f.$ha=function(e,b){if(f.Vd(e)||!f.ei(e.tagName))throw new TypeError("expected HTML element");if(b&&!f.Il(e.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};f.jia=function(){};f.bM=function(e){return f.CD(e,"img")||f.CD(e,"canvas")||f.CD(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};f.Xha=function(e){if(!f.bM(e))throw new TypeError("expected drawable");
};f.gia=function(){};f.cM=function(e){return e instanceof ImageData?!0:f.bM(e)};f.Yha=function(e){if(!f.cM(e))throw new TypeError("expected drawable or image data");};f.hia=function(e){if(!f.Vd(e)&&!f.cM(e))throw new TypeError("expected drawable or image data");};f.a0=function(e){return"string"===typeof e||e instanceof f.rD||e instanceof f.Pl};f.oia=function(e){if(!f.a0(e))throw new TypeError("expected string-like");};f.lia=function(){};f.Qha=function(...e){for(let b of e);};f.mia=function(){throw Error("must be overridden");
};f.Cga=function(){throw Error("not yet implemented");};f.Cfa=function(e,...b){if("undefined"===typeof e)return!1;for(let h of b){if("undefined"===typeof e[h])return!1;e=e[h]}return!0};f.Vd=function(e){return"undefined"===typeof e||null===e};f.Tda=function(e){let b=e[0].constructor;for(let h of e)if(h.constructor!==b)return!1;return b};f.Uda=function(e,b){for(let h of e)if(!(h instanceof b))return!1;return!0};const c=Object.getPrototypeOf(Uint8Array);f.Wfa=function(e){return f.Xl(e,c)};f.pia=function(){};
f.Jka=function(e){f.S3(e,c)};f.Ika=function(e,...b){if(!f.R3(e,...b))throw new TypeError("unexpected type");};f.R3=function(e,...b){for(const h of b)if(f.iO(e,h))return!0;return!1};f.S3=function(e,b){if(!f.iO(e,b))throw new TypeError("unexpected type");};f.iO=function(e,b){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===b.name)return!0;return!1};a.Gf=f.Gf;a.bN=f.bN;a.ii=f.ii;a.ZM=f.ZM;a.od=f.od;a.dN=f.dN;a.XM=f.XM;a.cN=f.cN;a.YD=f.YD;a.YM=f.YM;a.Dj=f.Dj;a.$M=f.$M;a.ZD=f.ZD;a.aN=f.aN;a.Vd=
f.Vd}
{"use strict";const f=self.B,a=new Map;f.zha=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let c;f.Xja=function(u){performance.mark(u);c||(c=new Map);c.has(u)||c.set(u,{current:0,total:0,GT:0,oJ:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.GT.toPrecision(3)} :: calls => ${this.oJ}`}})};f.Hea=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=c.get(u);u.current=w.duration;u.total+=u.current;u.GT=u.total/u.oJ;u.oJ++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};f.jx=function(){return Error().stack};f.Cea=function(){debugger};f.nla=function(u,w){return u&&u instanceof w?u:null};f.pk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":f.$l(u)?"<number>":f.ei(u)?"<string>":f.Rn(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":f.AD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};f.RB=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};f.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,b=new Map,h=new WeakMap,m=new WeakMap;f.Lp={};const g=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",f.jx())}f.Lp.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||l(`Accessed missing property '${w}' from defended object '${f.pk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&l(`Accessed property '${w}' on a released object '${f.pk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};f.Lp.set=function(u,w,r){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${f.pk(u)}'`);{var v=f.RB(u[w]);
let y=f.RB(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${f.RB(u[w])}' property '${w}' to type '${f.RB(r)}' on defended object '${f.pk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${f.pk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};f.Lp.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${f.pk(u)}'`);};f.Lp.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${f.pk(u)}'`);};f.Lp.Dla=function(u){throw new ReferenceError(`Cannot enumerate defended object '${f.pk(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<b.size){let u=[...new Set([...e.keys()].map(w=>f.pk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();b.clear()}}
f.ca=class{constructor(){if(f.JJ&&f.tb.QM){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,f.Lp);e.set(u,w);b.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};f.Xba=function(u){if(f.JJ&&f.tb.QM&&u instanceof f.ca){if(!b.has(u))return u;let w=b.get(u);b.delete(u);e.delete(w);return u}return f.pw?Object.seal(u):u};f.j=function(u,...w){let r;try{r=new u(...w)}catch(A){throw b.clear(),e.clear(),A;}if(f.JJ){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);f.hn(v,[...y]);v.length&&console.warn(`[Defence] '${f.pk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return f.Xba(r)};f.A=function(u){(u=h.get(u))&&m.set(u,f.jx())};f.By=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;f.Wga=class{constructor(u){this.Ca="";u&&this.start(u)}start(u){this.Ca=u;performance.mark(this.Ca+"-Start")}end(){performance.mark(this.Ca+"-End");performance.measure(this.Ca,
this.Ca+"-Start",this.Ca+"-End")}next(u){this.end();this.Ca=u;performance.mark(this.Ca+"-Start")}}}
{"use strict";const f=self.B,a=2*Math.PI,c=Math.PI/180,e=180/Math.PI;f.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};f.Mca=function(h,m,g,l){return(h-m)*(l-0)/(g-m)};f.normalize=function(h,m,g){return(h-m)/(g-m)};f.aa=function(h,m,g){return h<m?m:h>g?g:h};f.ie=function(h){h%=a;0>h&&(h+=a);return h};f.xb=function(h){return h*c};f.qk=function(h){return h*e};f.eca=function(h,m,g,l){return Math.hypot(g-h,l-m)};f.PT=function(h,
m,g,l){h=g-h;m=l-m;return h*h+m*m};f.DT=function(h,m,g,l){return Math.atan2(l-m,g-h)};f.ks=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};f.mJ=function(h,m,g){let l=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>g?0<n*p-l*q?f.ie(h+g):f.ie(h-g):f.ie(m)};f.pf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};f.lJ=function(h,m,g,l=0){let n=f.ks(h,m);l*=a;return f.pf(m,
h)?f.ie(h+(n+l)*g):f.ie(h-(n+l)*g)};f.Iba=function(h,m,g,l=0){const n=f.ks(h,m);l*=a;return f.pf(m,h)?f.ie(h+(n+l)*g):f.ie((a-n+l)*g)};f.Hba=function(h,m,g,l=0){const n=f.ks(h,m);l*=a;return f.pf(m,h)?f.ie((-a+n-l)*g):f.ie(h-(n+l)*g)};f.Td=function(h,m,g){return h+g*(m-h)};f.eC=function(h,m,g){return h===m?0:(g-h)/(m-h)};f.ada=function(h,m,g,l){return f.Td(0,l,f.eC(h,m,g))};f.ZB=function(h,m,g,l){return f.Td(f.Td(h,m,l),f.Td(m,g,l),l)};f.NT=function(h,m,g,l,n){return f.Td(f.ZB(h,m,g,n),f.ZB(m,g,l,
n),n)};f.MT=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};f.Rh=function(h){return 0<h&&0===(h-1&h)};f.XB=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};f.Kna=function(h,m){return Math.round(h*m)/m};f.Kla=function(h,m){return Math.floor(h*m)/m};f.tU=function(h){return Math.round(1E6*h)/1E6};f.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};f.d1=function(h,m,g){return f.aa(h,0,255)|f.aa(m,
0,255)<<8|f.aa(g,0,255)<<16};f.dy=function(h,m,g,l){h=f.aa(Math.floor(1024*h),-8192,8191);m=f.aa(Math.floor(1024*m),-8192,8191);g=f.aa(Math.floor(1024*g),-8192,8191);l=f.aa(Math.floor(1023*l),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+l)};f.JM=function(h,m,g){return f.dy(h,m,g,1)};f.gD=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};f.aD=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};f.OC=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};f.$X=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};f.qca=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const b=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];f.bma=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of b){let l=
h/g[0]*g[1];if(1>Math.abs(m-l))return g.slice(0);l=h/g[1]*g[0];if(1>Math.abs(m-l))return[g[1],g[0]]}g=f.qca(h,m);return[h/g,m/g]};f.Rna=function(h,m,g,l,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-l;h=g-h;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};f.Kl=function(h,m,g,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-l;h=g-h;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};f.$B=function(h,m,g,l,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l),r=n.ub,v=n.wb,y=n.fc,A=n.hc,G=n.Zb,z=n.$b,F=n.Xb;n=n.Yb;return f.Kl(h,m,g,l,p,q,u,w,r,v,y,A)||f.Kl(h,m,g,l,p,q,u,w,y,A,G,z)||f.Kl(h,m,g,l,p,q,u,w,G,z,F,n)||f.Kl(h,m,g,l,p,q,u,w,F,n,r,v)};f.Qna=function(h,m,g,l,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(f.Kl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return f.Kl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};f.$ca=function(h,m,g,l,n,p,q,u){g-=h;p=u-p;const w=g*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-h)+g*(u-m))/w;return 0<l&&1.000001>l?(p*(q-h)+(n-q)*(u-m))/w:2};f.Aw=function(h,m,g,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return f.$ca(h,m,g,l,n-r,p-w,q+r,u+w)};f.Bca=function(h,m,g,l,n,p,q,u){n-=
g;p-=l;q-=g;u-=l;h-=g;g=m-l;m=n*n+p*p;l=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};f.Ada=function(h,m,g,l,n,p,q,u){n-=g;p-=l;q-=g;u-=l;h-=g;const w=m-l;m=n*n+p*p;l=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-l*l;u=(g*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};f.zda=function(h,m,g,l,n,p,q,u,w){return[h*l+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const f=self.B;let a=null,c="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(c=l&&l.hasAttribute("href")?l.getAttribute("href"):"")c.startsWith("/")&&(c=c.substr(1)),c.endsWith("/")||(c+="/")}f.Yea=function(){return c};f.PC=function(){if(!a)return"";const l=a.location;return f.bZ(l.origin+l.pathname)+c};f.bZ=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};f.bfa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};f.zY=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};f.qx=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};f.D0=function(l){return l.replace(/\\/g,"/")};f.Ffa=function(l,n){return n===(l?f.zY(l).slice(1):"")};f.Qea=function(l,n){let p,q;f.zD(l)&&(p=f.qx(l.name));f.ei(l)&&(p=
f.qx(l));f.zD(n)&&(q=f.qx(n.name));f.ei(n)&&(q=f.qx(n));return p===q};f.Vga=function(l){l=f.D0(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,dla:u,name:l,root:n,ext:w,Xla:n+q+u}};f.KE=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};f.$na=function(l){try{l()}catch(n){f.pw&&console.warn("Swallowed exception: ",n)}};f.Xma=function(){};f.Il=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};f.Ela=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};f.Bda=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};f.Je=function(l,n){l.length=n};f.C=function(l){l&&0!==l.length&&f.Je(l,0)};f.Tba=function(l){if(l){for(let n=0;n<l.length;n++)f.Je(l[n],0);f.Je(l,0)}};f.NB=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};f.sU=function(l){var n=4;const p=l.length;n<p?f.Je(l,n):n>p&&f.NB(l,n,"0")};f.Ec=function(l,n){f.C(l);f.hn(l,n)};f.hn=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
f.Lba=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];f.Je(l,p)}};f.nk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};f.cla=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};f.Kba=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}f.Je(l,q);return p};f.ag=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}f.Je(l,q);return p-q};f.yca=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};f.moa=function(l,n){if(!f.yca(l,n))throw new RangeError("array index out of bounds");};f.tJ=function(l){return l.slice()};f.Yba=function(l,n){let p=[];for(let q of l)if(f.jM(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else f.Rn(q)?p.push(f.Yba(q,n)):p.push(q);return p};f.ola=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};f.Tma=function(l,n){return new Set([...l,...n])};f.Uma=function(l,n){for(const p of n)l.add(p);return l};f.first=function(l){for(let n of l)return n;return null};f.xor=function(l,n){return!l!==!n};f.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};f.kma=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};f.p1=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];f.Mda=function(l){e.push(l)};f.$ea=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let b=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=h.get(l);h.delete(l);n&&n(performance.now())};f.XD=function(l){const n=b++;h.set(n,l);m.port1.postMessage(n);
return n};f.NV=function(l){h.delete(l)};f.k1=f.XD;f.P3=function(){return new Promise(l=>f.k1(l))};const g=new Set;f.Hha=function(l){const n=self.requestAnimationFrame(async p=>{await f.P3();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};f.eea=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const f=self.B;f.wD=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.JD=function(a){return!f.wD(a)};f.y3=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};f.hx=function(a){return fetch(a,void 0).then(c=>{f.y3(c);return c})};f.Gs=function(a){return f.hx(a).then(c=>c.text())};f.bL=function(a){return f.hx(a).then(c=>c.json())};f.uk=function(a){return f.hx(a).then(c=>c.blob())};f.Fs=function(a){return f.hx(a).then(c=>
c.arrayBuffer())};f.RX=function(a){return new Promise((c,e)=>{const b=new Image;b.onload=()=>c(b);b.onerror=h=>e(h);b.src=a})};f.CV=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((c,e)=>{const b=new FileReader;b.onload=()=>c(b.result);b.onerror=()=>e(b.error);b.readAsArrayBuffer(a)})};f.rK=function(a){return"function"===typeof a.text?a.text():new Promise((c,e)=>{const b=new FileReader;b.onload=()=>c(b.result);b.onerror=()=>e(b.error);b.readAsText(a)})};f.$da=function(a){return f.rK(a).then(c=>
JSON.parse(c))};f.DV=async function(a){a=URL.createObjectURL(a);try{const c=await f.RX(a);URL.revokeObjectURL(a);a="";return c}finally{a&&URL.revokeObjectURL(a)}};f.Yg=function(a,c){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=c;return e}return new OffscreenCanvas(a,c)};f.Pw=function(a,c,e){"number"!==typeof e&&(e=1);c=c||"image/png";e=f.aa(e,0,1);return a.toBlob?new Promise(b=>a.toBlob(b,c,e)):a.convertToBlob?
a.convertToBlob({type:c,quality:e}):f.tn(()=>f.yK(a,c,e))};f.yK=function(a,c,e){"number"!==typeof e&&(e=1);c=c||"image/png";e=f.aa(e,0,1);return f.rW(a.toDataURL(c,e))};f.rW=function(a){a=f.e1(a);return f.BV(a.data,a.Nca)};f.e1=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var c=a.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var e=a.substring(c+1);c=a.substring(5,c).split(";");a=c[0]||"";let b=c[2];e="base64"===c[1]||"base64"===b?atob(e):
decodeURIComponent(e);return{Nca:a,data:e}};f.BV=function(a,c){var e=a.length;let b=e>>2,h=new Uint8Array(e),m=new Uint32Array(h.buffer,0,b),g,l;for(l=g=0;g<b;++g)m[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)h[l]=a.charCodeAt(l),++l;return c?new Blob([h],{type:c}):new Blob([h])};f.VK=function(a,c,e){const b=f.Yg(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return f.Pw(b,c,e)};f.jfa=function(a,c,e){const b=f.Yg(a.width,a.height);b.getContext("2d").putImageData(a,
0,0);return f.yK(b,c,e)};f.ifa=function(a,c,e){if(f.tb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>f.VK(b,c,e));if(f.tb.ImageBitmap)return createImageBitmap(a).then(b=>f.VK(b,c,e));{const b=f.Yg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return f.Pw(b,c,e)}};f.fW=function(a,c){a.clear();for(const e of c)a.add(e)};f.pga=function(a){const c=Object.create(null);for(const [e,b]of a.entries())c[e]=b;return c};f.Ega=function(a,c){c.clear();for(const [e,
b]of Object.entries(a))c.set(e,b)};f.HE=function e(c){if("object"===typeof c&&null!==c){if(c instanceof Set)return{_c3type_:"set",data:[...c].map(b=>e(b))};if(c instanceof Map)return{_c3type_:"map",data:[...c].map(b=>[b[0],e(b[1])])};{const b=Object.create(null);for(const [h,m]of Object.entries(c))b[h]=e(m);return b}}return c};f.LC=function b(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(h=>b(h)));if("map"===e._c3type_)return new Map(e.data.map(h=>[h[0],b(h[1])]));
{const h=Object.create(null);for(const [m,g]of Object.entries(e))h[m]=b(g);return h}}return e};f.HV=function(e){let b="",h=!1;for(const m of e)"-"===m?h=!0:h?(b+=m.toUpperCase(),h=!1):b+=m;return b};f.Zl=function(e){return"object"===typeof e&&"function"===typeof e.next};f.u0=function(e){const b=[];for(let h=0;h<e;++h)b.push(0);return b}}
{"use strict";const f=self.B;f.Ya=class{constructor(a,c,e,b){this.Ra=this.Sa=this.Ta=this.Pa=0;a instanceof f.Ya?this.set(a):this.qn(a||0,c||0,e||0,b||0)}ws(a,c,e){this.Pa=+a;this.Ta=+c;this.Sa=+e;this.aa()}qn(a,c,e,b){this.Pa=+a;this.Ta=+c;this.Sa=+e;this.Ra=+b;this.aa()}set(a){this.Pa=a.Pa;this.Ta=a.Ta;this.Sa=a.Sa;this.Ra=a.Ra;return this}la(a){return this.set(a)}add(a){this.Pa+=a.Pa;this.Ta+=a.Ta;this.Sa+=a.Sa;this.Ra+=a.Ra;this.aa()}AT(a,c,e){this.Pa+=+a;this.Ta+=+c;this.Sa+=+e;this.Ra+=0;this.aa()}Zi(a){this.Pa=
a.Pa;this.Ta=a.Ta;this.Sa=a.Sa}zU(a){this.Pa=f.aa(+a,0,1)}ida(a){this.Ta=f.aa(+a,0,1)}fda(a){this.Sa=f.aa(+a,0,1)}us(a){this.Ra=f.aa(+a,0,1)}clone(){return f.j(f.Ya,this.Pa,this.Ta,this.Sa,this.Ra)}toArray(){return[this.Pa,this.Ta,this.Sa,this.Ra]}Vg(a,c){a[c++]=this.Pa;a[c++]=this.Ta;a[c++]=this.Sa;a[c]=this.Ra}bd(a){return this.Pa===a.Pa&&this.Ta===a.Ta&&this.Sa===a.Sa&&this.Ra===a.Ra}Hl(a){return this.Pa===a.Pa&&this.Ta===a.Ta&&this.Sa===a.Sa}MB(a,c,e,b){return this.Pa===a&&this.Ta===c&&this.Sa===
e&&this.Ra===b}multiply(a){this.Pa*=a.Pa;this.Ta*=a.Ta;this.Sa*=a.Sa;this.Ra*=a.Ra}YJ(){this.Pa*=this.Ra;this.Ta*=this.Ra;this.Sa*=this.Ra}aa(){this.Pa=f.aa(this.Pa,0,1);this.Ta=f.aa(this.Ta,0,1);this.Sa=f.aa(this.Sa,0,1);this.Ra=f.aa(this.Ra,0,1);return this}vs(a){this.Pa=f.gD(a);this.Ta=f.aD(a);this.Sa=f.OC(a);this.Ra=f.$X(a)}mca(){return`rgb(${100*(f.Ef(void 0)?NaN:this.Pa)}%, ${100*(f.Ef(void 0)?NaN:this.Ta)}%, ${100*(f.Ef(void 0)?NaN:this.Sa)}%)`}kU(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var c=a.split(",");if(!(3>c.length)){a=parseInt(c[0].trim(),10)/255;var e=parseInt(c[1].trim(),10)/255;c=parseInt(c[2].trim(),10)/255;isFinite(a)&&this.zU(a);isFinite(e)&&this.ida(e);isFinite(c)&&this.fda(c);this.us(1)}}}toJSON(){return[this.Pa,this.Ta,this.Sa,this.Ra]}Ll(a){!Array.isArray(a)||3>a.length||(this.Pa=a[0],this.Ta=a[1],this.Sa=a[2],this.Ra=4<=a.length?a[3]:1)}set r(a){this.zU(a)}get r(){return this.Pa}set Cp(a){this.us(a)}get Cp(){return this.Ra}static EC(a,c){return f.aa(Math.max(a,
c)-Math.min(a,c),0,1)}};f.Ya.Pka=Object.freeze(f.j(f.Ya,1,1,1,1));f.Ya.Zda=Object.freeze(f.j(f.Ya,0,0,0,1));f.Ya.uka=Object.freeze(f.j(f.Ya,0,0,0,0))}
{"use strict";const f=self.B;f.Mt=class{constructor(a,c){this.U=this.ba=0;a instanceof f.Mt?this.la(a):this.set(a||0,c||0)}set(a,c){this.ba=+a;this.U=+c}la(a){this.ba=a.ba;this.U=a.U}bd(a){return this.ba===a.ba&&this.U===a.U}toArray(){return[this.ba,this.U]}Vg(a,c){a[c++]=this.ba;a[c]=this.U}offset(a,c){this.ba+=+a;this.U+=+c}scale(a,c){this.ba*=a;this.U*=c}Gl(a,c){this.ba/=a;this.U/=c}round(){this.ba=Math.round(this.ba);this.U=Math.round(this.U)}floor(){this.ba=Math.floor(this.ba);this.U=Math.floor(this.U)}ceil(){this.ba=
Math.ceil(this.ba);this.U=Math.ceil(this.U)}angle(){return f.DT(0,0,this.ba,this.U)}Hca(){return this.ba*this.ba+this.U*this.U}length(){return Math.sqrt(this.Hca())}dda(a,c){const e=this.ba*c-this.U*a;this.U=this.U*c+this.ba*a;this.ba=e}rotate(a){0!==a&&this.dda(Math.sin(a),Math.cos(a))}move(a,c){0!==c&&(this.ba+=Math.cos(a)*c,this.U+=Math.sin(a)*c)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ba/=a,this.U/=a)}aa(a,c){this.ba=f.aa(this.ba,a,c);this.U=f.aa(this.U,a,c)}}}
{"use strict";const f=self.B;f.Rect=class{constructor(a,c,e,b){this.W=this.$=this.L=this.P=0;a instanceof f.Rect?this.la(a):this.set(a||0,c||0,e||0,b||0)}set(a,c,e,b){this.P=+a;this.L=+c;this.$=+e;this.W=+b}Ug(a,c,e,b){a=+a;c=+c;this.P=a;this.L=c;this.$=a+ +e;this.W=c+ +b}la(a){this.P=+a.P;this.L=+a.L;this.$=+a.$;this.W=+a.W}clone(){return new f.Rect(this.P,this.L,this.$,this.W)}bd(a){return this.P===a.P&&this.L===a.L&&this.$===a.$&&this.W===a.W}gca(a,c,e,b){return this.P===a&&this.L===c&&this.width()===
e&&this.height()===b}toArray(){return[this.P,this.L,this.$,this.W]}sda(){new DOMRect(this.P,this.L,this.width(),this.height())}Vg(a,c){a[c++]=this.P;a[c++]=this.L;a[c++]=this.$;a[c]=this.W}Eda(a,c){a[c++]=this.P;a[c++]=this.L;a[c++]=this.$;a[c++]=this.L;a[c++]=this.$;a[c++]=this.W;a[c++]=this.P;a[c]=this.W}width(){return this.$-this.P}height(){return this.W-this.L}ss(){return(this.P+this.$)/2}ts(){return(this.L+this.W)/2}offset(a,c){a=+a;c=+c;this.P+=a;this.L+=c;this.$+=a;this.W+=c}offsetLeft(a){this.P+=
+a}offsetTop(a){this.L+=+a}Uca(a){this.$+=+a}Tca(a){this.W+=+a}SB(a,c){a=+a;c=+c;this.P-=a;this.L-=c;this.$+=a;this.W+=c}multiply(a,c){this.P*=a;this.L*=c;this.$*=a;this.W*=c}Gl(a,c){this.P/=a;this.L/=c;this.$/=a;this.W/=c}mn(){this.L=1-this.L;this.W=1-this.W}pda(){const a=this.P;this.P=this.$;this.$=a}qda(){const a=this.L;this.L=this.W;this.W=a}round(){this.P=Math.round(this.P);this.L=Math.round(this.L);this.$=Math.round(this.$);this.W=Math.round(this.W)}uU(){this.P=Math.floor(this.P);this.L=Math.floor(this.L);
this.$=Math.ceil(this.$);this.W=Math.ceil(this.W)}floor(){this.P=Math.floor(this.P);this.L=Math.floor(this.L);this.$=Math.floor(this.$);this.W=Math.floor(this.W)}ceil(){this.P=Math.ceil(this.P);this.L=Math.ceil(this.L);this.$=Math.ceil(this.$);this.W=Math.ceil(this.W)}aa(a,c,e,b){this.P<a&&(this.P=+a);this.L<c&&(this.L=+c);this.$>e&&(this.$=+e);this.W>b&&(this.W=+b)}normalize(){this.P>this.$&&this.pda();this.L>this.W&&this.qda()}TB(a){return!(a.$<this.P||a.W<this.L||a.P>this.$||a.L>this.W)}xca(a,
c,e){return!(a.$+c<this.P||a.W+e<this.L||a.P+c>this.$||a.L+e>this.W)}rf(a,c){return a>=this.P&&a<=this.$&&c>=this.L&&c<=this.W}}}
{"use strict";const f=self.B;f.nd=class{constructor(a,c,e,b,h,m,g,l){this.Yb=this.Xb=this.$b=this.Zb=this.hc=this.fc=this.wb=this.ub=0;a instanceof f.nd?this.la(a):this.set(a||0,c||0,e||0,b||0,h||0,m||0,g||0,l||0)}set(a,c,e,b,h,m,g,l){this.ub=+a;this.wb=+c;this.fc=+e;this.hc=+b;this.Zb=+h;this.$b=+m;this.Xb=+g;this.Yb=+l}AU(a,c,e,b){this.set(a,c,e,c,e,b,a,b)}la(a){this.ub=a.ub;this.wb=a.wb;this.fc=a.fc;this.hc=a.hc;this.Zb=a.Zb;this.$b=a.$b;this.Xb=a.Xb;this.Yb=a.Yb}bd(a){return this.ub===a.ub&&this.wb===
a.wb&&this.fc===a.fc&&this.hc===a.hc&&this.Zb===a.Zb&&this.$b===a.$b&&this.Xb===a.Xb&&this.Yb===a.Yb}toArray(){return[this.ub,this.wb,this.fc,this.hc,this.Zb,this.$b,this.Xb,this.Yb]}Vg(a,c){a[c++]=this.ub;a[c++]=this.wb;a[c++]=this.fc;a[c++]=this.hc;a[c++]=this.Zb;a[c++]=this.$b;a[c++]=this.Xb;a[c]=this.Yb}Fda(a,c,e){a[c++]=this.ub;a[c++]=this.wb;a[c++]=e;a[c++]=this.fc;a[c++]=this.hc;a[c++]=e;a[c++]=this.Zb;a[c++]=this.$b;a[c++]=e;a[c++]=this.Xb;a[c++]=this.Yb;a[c]=e}offset(a,c){a=+a;c=+c;this.ub+=
a;this.wb+=c;this.fc+=a;this.hc+=c;this.Zb+=a;this.$b+=c;this.Xb+=a;this.Yb+=c}round(){this.ub=Math.round(this.ub);this.wb=Math.round(this.wb);this.fc=Math.round(this.fc);this.hc=Math.round(this.hc);this.Zb=Math.round(this.Zb);this.$b=Math.round(this.$b);this.Xb=Math.round(this.Xb);this.Yb=Math.round(this.Yb)}floor(){this.ub=Math.floor(this.ub);this.wb=Math.floor(this.wb);this.fc=Math.floor(this.fc);this.hc=Math.floor(this.hc);this.Zb=Math.floor(this.Zb);this.$b=Math.floor(this.$b);this.Xb=Math.floor(this.Xb);
this.Yb=Math.floor(this.Yb)}ceil(){this.ub=Math.ceil(this.ub);this.wb=Math.ceil(this.wb);this.fc=Math.ceil(this.fc);this.hc=Math.ceil(this.hc);this.Zb=Math.ceil(this.Zb);this.$b=Math.ceil(this.$b);this.Xb=Math.ceil(this.Xb);this.Yb=Math.ceil(this.Yb)}dj(a){this.ub=a.P;this.wb=a.L;this.fc=a.$;this.hc=a.L;this.Zb=a.$;this.$b=a.W;this.Xb=a.P;this.Yb=a.W}hda(a,c){0===c?this.dj(a):this.yU(a,Math.sin(c),Math.cos(c))}yU(a,c,e){const b=a.P*c,h=a.L*c,m=a.$*c;c*=a.W;const g=a.P*e,l=a.L*e,n=a.$*e;a=a.W*e;this.ub=
g-h;this.wb=l+b;this.fc=n-h;this.hc=l+m;this.Zb=n-c;this.$b=a+m;this.Xb=g-c;this.Yb=a+b}CJ(a){a.set(Math.min(this.ub,this.fc,this.Zb,this.Xb),Math.min(this.wb,this.hc,this.$b,this.Yb),Math.max(this.ub,this.fc,this.Zb,this.Xb),Math.max(this.wb,this.hc,this.$b,this.Yb))}rf(a,c){var e=this.fc-this.ub,b=this.hc-this.wb;const h=this.Zb-this.ub,m=this.$b-this.wb;a-=this.ub;c-=this.wb;var g=e*e+b*b;let l=e*h+b*m;b=e*a+b*c;const n=h*h+m*m,p=h*a+m*c;let q=1/(g*n-l*l);e=(n*b-l*p)*q;g=(g*p-l*b)*q;if(0<=e&&0<
g&&1>e+g)return!0;e=this.Xb-this.ub;b=this.Yb-this.wb;g=e*e+b*b;l=e*h+b*m;b=e*a+b*c;q=1/(g*n-l*l);e=(n*b-l*p)*q;g=(g*p-l*b)*q;return 0<=e&&0<g&&1>e+g}ss(){return(this.ub+this.fc+this.Zb+this.Xb)/4}ts(){return(this.wb+this.hc+this.$b+this.Yb)/4}FJ(a){var c=a.ss(),e=a.ts();if(this.rf(c,e))return!0;c=this.ss();e=this.ts();if(a.rf(c,e))return!0;c=this.ub;e=this.wb;const b=this.fc,h=this.hc,m=this.Zb,g=this.$b,l=this.Xb,n=this.Yb;return f.$B(c,e,b,h,a)||f.$B(b,h,m,g,a)||f.$B(m,g,l,n,a)||f.$B(l,n,c,e,a)}cda(){const a=
this.ub,c=this.wb;this.ub=this.fc;this.wb=this.hc;this.fc=this.Zb;this.hc=this.$b;this.Zb=this.Xb;this.$b=this.Yb;this.Xb=a;this.Yb=c}}}
{"use strict";const f=self.B,a=[0,0,1,0,1,1,0,1],c=f.j(f.nd);f.zn=class extends f.ca{constructor(e,b=!0){super();e||(e=a);this.Bd=Float64Array.from(e);this.lz=new f.Rect;this.Uo=!0;this.Dg=b}A(){}lU(){return this.Bd.length/2}aC(e){this.Bd.length===e.length?this.Bd.set(e):this.Bd=Float64Array.from(e);this.Uo=!0}gda(){this.aC(a)}la(e){this.aC(e.Bd)}dK(){this.Uo=!0}Aba(){if(this.Uo){var e=this.Bd,b=e[0],h=e[1],m=b,g=h;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],q=e[l+1];p<b&&(b=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.lz.set(b,h,m,g);this.Uo=!1}}dj(e){let b=this.Bd;8!==b.length&&(this.Bd=b=new Float64Array(8));b[0]=e.P-NaN;b[1]=e.L-NaN;b[2]=e.$-NaN;b[3]=e.L-NaN;b[4]=e.$-NaN;b[5]=e.W-NaN;b[6]=e.P-NaN;b[7]=e.W-NaN;this.lz.la(e);this.lz.offset(NaN,NaN);this.Uo=!1}eK(e,b,h){c.la(e);c.offset(b,h);this.aC(c.toArray());this.Uo=!0}transform(e,b,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.kK(e,b,m,g)}kK(e,b,h,m){const g=this.Bd;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*e,u=g[p]*
b;g[l]=q*m-u*h;g[p]=u*m+q*h}this.Uo=!0}offset(e,b){const h=this.Bd;for(let m=0,g=h.length;m<g;m+=2)h[m]+=e,h[m+1]+=b}rf(e,b){const h=this.Bd;if(e===h[0]&&b===h[1])return!0;this.Aba();var m=this.lz;const g=m.P-110,l=m.L-101,n=m.$+131;m=m.W+120;let p,q,u,w,r,v,y,A;g<e?(p=g,u=e):(p=e,u=g);l<b?(q=l,w=b):(q=b,w=l);n<e?(r=n,y=e):(r=e,y=n);m<b?(v=m,A=b):(v=b,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],Q=h[H+1],R=h[F];F=h[F+1];f.Kl(g,l,e,b,p,u,q,w,M,Q,R,F)&&++G;f.Kl(n,m,e,
b,r,y,v,A,M,Q,R,F)&&++z}return 1===G%2||1===z%2}ow(e,b,h){const m=e.Bd,g=this.Bd;if(this.rf(m[0]+b,m[1]+h)||e.rf(g[0]-b,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;e=g[n];const q=g[n+1],u=g[l];l=g[l+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(f.Kl(e,q,u,l,w,v,r,y,m[A]+b,m[A+1]+h,m[z]+b,m[z+1]+h))return!0}}return!1}Vn(){return this.Dg}}}
{"use strict";const f=self.B;f.nt=class extends f.ca{constructor(a){super();this.Tj=new Map;if(a)for(const [c,e,b]of a)this.Set(c,e,b)}A(){this.hd();this.Tj=null}hd(){const a=this.Tj;for(const c of a.values())c.clear();a.clear()}Set(a,c,e){const b=this.Tj;let h=b.get(a);h||(h=new Map,b.set(a,h));h.set(c,e)}V(a,c){return(a=this.Tj.get(a))?a.get(c):a}Lx(a){return(a=this.Tj.get(a))?a.has(void 0):!1}An(a,c){const e=this.Tj,b=e.get(a);b&&b.delete(c)&&0===b.size&&e.delete(a)}SK(a){const c=this.Tj,e=c.get(a);
e&&(e.clear(),c.delete(a));for(const [b,h]of c.entries())h.delete(a)&&0===h.size&&c.delete(b)}Vl(){let a=0;for(const c of this.Tj.values())a+=c.size;return a}*values(){for(const a of this.Tj.values())yield*a.values()}*entries(){for(const [a,c]of this.Tj.entries())for(const [e,b]of c.entries())yield[a,e,b]}}}
{"use strict";const f=self.B;f.pC=class extends f.ca{constructor(){super();this.Nm=new Set;this.iz=[];this.xv=!1}A(){this.hd()}hd(){this.Nm.clear();f.C(this.iz);this.xv=!1}Uc(a){this.Nm.has(a)||(this.Nm.add(a),this.xv||this.iz.push(a))}Lx(a){return this.Nm.has(a)}An(a){this.Nm.delete(a)&&(this.xv=!0)}Vl(){return this.Nm.size}Un(){return 0===this.Nm.size}NC(){this.xv&&(this.A8(),this.xv=!1);return this.iz}A8(){const a=this.iz;f.C(a);for(const c of this.Nm)a.push(c)}}}
{"use strict";const f=new Map,a=new Map,c=new Map,e=new Map,b=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.Ds=class m{constructor(){}static S_(g){this.SE();return[...a.keys()].includes(g)}static q6(g){const l=h.get(g);if(l)return f.get(l);if(m.S_(g))return f.get(g);if(b.has(g))return b.get(g)}static Jn(g){this.SE();const l=m.q6(g);return l?l:e.get(g)}static SE(){0===f.size&&(this.yb("default",()=>{}),this.yb("noease",this.C0),this.yb("easeinsine",this.xX),this.yb("easeoutsine",
this.GX),this.yb("easeinoutsine",this.tX),this.yb("easeinelastic",this.hX),this.yb("easeoutelastic",this.BX),this.yb("easeinoutelastic",this.nX),this.yb("easeinback",this.eX),this.yb("easeoutback",this.yX),this.yb("easeinoutback",this.jX),this.yb("easeinbounce",this.WK),this.yb("easeoutbounce",this.GC),this.yb("easeinoutbounce",this.kX),this.yb("easeincubic",this.gX),this.yb("easeoutcubic",this.AX),this.yb("easeinoutcubic",this.mX),this.yb("easeinquad",this.uX),this.yb("easeoutquad",this.DX),this.yb("easeinoutquad",
this.qX),this.yb("easeinquart",this.vX),this.yb("easeoutquart",this.EX),this.yb("easeinoutquart",this.rX),this.yb("easeinquint",this.wX),this.yb("easeoutquint",this.FX),this.yb("easeinoutquint",this.sX),this.yb("easeincirc",this.fX),this.yb("easeoutcirc",this.zX),this.yb("easeinoutcirc",this.lX),this.yb("easeinexpo",this.iX),this.yb("easeoutexpo",this.CX),this.yb("easeinoutexpo",this.pX),this.qO("cubicbezier",this.dX),this.qO("spline",this.HX))}static yb(g,l){m.ME(g,l,"predefined")}static qO(g,l){m.ME(g,
l,"private")}static $U(g,l){this.SE();m.ME(g,l,"custom",void 0)}static ME(g,l,n,p){switch(n){case "predefined":f.set(g,l);a.set(g,l);break;case "custom":p?(c.has(p)||c.set(p,new Map),c.get(p).set(g,l)):e.set(g,l);break;case "private":f.set(g,l);b.set(g,l);break;default:throw Error("unexpected ease mode");}}static C0(g,l,n,p){return n*g/p+l}static uX(g,l,n,p){return n*(g/=p)*g+l}static DX(g,l,n,p){return-n*(g/=p)*(g-2)+l}static qX(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static gX(g,
l,n,p){return n*(g/=p)*g*g+l}static AX(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static mX(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static vX(g,l,n,p){return n*(g/=p)*g*g*g+l}static EX(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static rX(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static wX(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static FX(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static sX(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static xX(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static GX(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static tX(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static iX(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static CX(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static pX(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static fX(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static zX(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static lX(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static hX(g,l,n,p){let q=0,u=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static BX(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(1===(g/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+l}static nX(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(2===(g/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+l}static eX(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static yX(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static jX(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static WK(g,l,n,p){return n-m.GC(p-g,0,n,p)+l}static GC(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static kX(g,l,n,p){return g<p/2?.5*m.WK(2*g,0,n,p)+l:.5*m.GC(2*g-p,0,n,p)+.5*n+l}static dX(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static HX(g,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-g)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static fY(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const f=self.B;f.vha=class{constructor(){this.gS=[]}A(){this.hd();this.gS=null}hd(){f.Tba(this.gS)}}}"use strict";
self.B.Event=class{constructor(f,a){this.type=f;this.cancelable=!!a;this.zca=this.ZJ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.zca)throw Error(`cannot stop async event '${this.type}' propagation`);this.ZJ=!0}};
{"use strict";const f=self.B;f.Event.uZ=class extends f.ca{constructor(a){super();this.na=a;this.Xe=[];this.Tq=new Set;this.ff=[];this.Ar=new Set;this.Mu=0;this.Kr=[]}A(){0<this.Mu||(f.C(this.Xe),this.Tq.clear(),f.C(this.ff),this.Ar.clear(),f.C(this.Kr),f.A(this))}oO(a,c){this.DP()?this.Kr.push({TJ:"add",Qh:a,capture:c}):c?this.Tq.has(a)||(this.Xe.push(a),this.Tq.add(a)):this.Ar.has(a)||(this.ff.push(a),this.Ar.add(a))}P8(a,c){this.DP()?this.Kr.push({TJ:"remove",Qh:a,capture:c}):c?this.Tq.has(a)&&
(this.Tq.delete(a),f.nk(this.Xe,a)):this.Ar.has(a)&&(this.Ar.delete(a),f.nk(this.ff,a))}e7(){return!this.Xe.length&&!this.ff.length}DP(){return 0<this.Mu}x8(){const a=new Set,c=new Set;for(const e of this.Kr)if("add"===e.TJ)this.oO(e.Qh,e.capture),e.capture?c.delete(e.Qh):a.delete(e.Qh);else if("remove"===e.TJ)e.capture?(this.Tq.delete(e.Qh),c.add(e.Qh)):(this.Ar.delete(e.Qh),a.add(e.Qh));else throw Error("invalid op");f.ag(this.ff,a);f.ag(this.Xe,c);f.C(this.Kr)}b6(a){this.Jq();let c=!1;for(let e=
0,b=this.Xe.length;e<b;++e)if(this.Xe[e](a),a.ZJ){c=!0;break}if(!c)for(let e=0,b=this.ff.length;e<b&&(this.ff[e](a),!a.ZJ);++e);this.Eq();return!a.defaultPrevented}d6(a){this.Jq();for(let c=0,e=this.Xe.length;c<e;++c)this.Xe[c](a);for(let c=0,e=this.ff.length;c<e;++c)this.ff[c](a);this.Eq();return!0}Jq(){this.Mu++}Eq(){this.Mu--;0===this.Mu&&0<this.Kr.length&&this.x8()}rq(a){a?this.Jq():this.Eq()}WO(a){const c=[];this.Jq();for(let b=0,h=this.Xe.length;b<h;++b){var e=this.Xe[b](a);e instanceof Promise&&
c.push(e)}for(let b=0,h=this.ff.length;b<h;++b)e=this.ff[b](a),e instanceof Promise&&c.push(e);this.Eq();return c.length?Promise.all(c).then(()=>!a.defaultPrevented):!a.defaultPrevented}async Y5(a){return await this.WO(a)}async Z5(a){this.Jq();for(let e=0,b=this.Xe.length;e<b;++e){var c=this.Xe[e](a);c instanceof Promise&&await c}for(let e=0,b=this.ff.length;e<b;++e)c=this.ff[e](a),c instanceof Promise&&await c;this.Eq();return!a.defaultPrevented}*a6(a){this.Jq();for(let e=0,b=this.Xe.length;e<b;++e){var c=
this.Xe[e](a);f.Zl(c)&&(yield*c)}for(let e=0,b=this.ff.length;e<b;++e)c=this.ff[e](a),f.Zl(c)&&(yield*c);this.Eq()}}}
{"use strict";const f=self.B;f.Event.jc=class extends f.ca{constructor(){super();this.Jo=new Map;this.DG=!1}A(){if(this.DG)throw Error("already released");this.SV();this.DG=!0;f.A(this)}By(){return this.DG}SV(){for(let a of this.Jo.values())a.A();this.Jo.clear()}so(a,c){let e=this.Jo.get(a);return e?e:c?(e=f.j(f.Event.uZ,a),this.Jo.set(a,e),e):null}nD(a){return this.Jo.has(a)}addEventListener(a,c,e){this.so(a,!0).oO(c,!!e)}removeEventListener(a,c,e){let b=this.so(a,!1);b&&(b.P8(c,!!e),b.e7()&&this.Jo.delete(a))}dispatchEvent(a){const c=
this.so(a.type,!1);return c?a.cancelable?c.b6(a):c.d6(a):!0}async xJ(a){const c=this.so(a.type,!1);return c?await c.Y5(a):!0}cca(a){const c=this.so(a.type,!1);return c?c.WO(a):!0}async bca(a){const c=this.so(a.type,!1);c&&await c.Z5(a)}dca(a){const c=this.so(a.type,!1);if(!c)return null;if(a.cancelable)throw Error("not supported");return c.a6(a)}rq(a){for(const c of this.Jo.values())c.rq(a)}}}
{"use strict";const f=self.B,a="undefined"!==typeof requestIdleCallback;let c=[],e=-1,b=0;function h(n){e=a&&0===b?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<b?1:n)}function m(n){e=-1;if(c.length){var p=performance.now(),q=0;do{g(c.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(c.length&&(a&&0===b&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&c.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.Qh()}catch(q){n.reject(q);return}n.resolve(p)}let l=f.SM.Lx("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");f.tn=function(n){let p=null;f.pw&&(p=f.jx());return new Promise((q,u)=>{c.push({Qh:n,resolve:q,reject:u,stack:p});l?g(c.pop()):-1===e&&h(16)})};f.tn.yN=function(n){if(n)++b;else if(--b,0>b)throw Error("already turned off high throughput mode");}}
{"use strict";const f=self.B;let a=-1;function c(){a=-1}f.gx=function(){-1===a&&(a=Date.now(),self.setTimeout(c,16));return a};let e=-1,b=-1,h=new Set;function m(){b=e=-1;let g=Date.now();for(let l of h)if(l.C4(g)){let n=l.Go;if(-1===b||n<b)b=n}else h.delete(l);-1!==b&&(e=self.setTimeout(m,Math.max(b-g+100,1E3)))}f.YZ=class{constructor(g,l){this.Sq=g;this.sB=1E3*l;this.Go=0;this.Db=!1}Yc(){let g=f.gx();this.Go=g+this.sB;this.Db||(h.add(this),this.Db=!0);-1===e?(b=this.Go,e=self.setTimeout(m,this.sB+
100)):this.Go<b&&b>g+1E3&&(self.clearTimeout(e),b=this.Go,e=self.setTimeout(m,this.sB+100))}C4(g){return g>=this.Go?this.Sq()?(this.Go=g+this.sB,!0):this.Db=!1:!0}MV(){this.Db&&(h.delete(this),this.Db=!1,0===h.size&&-1!==e&&(self.clearTimeout(e),b=e=-1))}A(){this.MV();this.Sq=null}}}
{"use strict";const f=self.B;f.UK=class a{constructor(c){this.er=!1;this.EG=c}ax(){this.er||(this.er=!0,this.EG&&(this.EG(),this.EG=null))}A(){this.ax()}static A(c){return new a(()=>c.A())}};f.ika=class extends f.UK{};f.xea=class extends f.UK{constructor(...a){super();this.Cg=new Set;for(let c of a)this.Uc(c)}Uc(...a){if(this.er)throw Error("already disposed");for(let c of a)this.Cg.add(c)}eh(a){if(this.er)throw Error("already disposed");this.Cg.delete(a)}ax(){if(this.er)throw Error("already disposed");
this.er=!0;for(let a of this.Cg)a.ax();this.Cg.clear();this.Cg=null}A(){this.ax()}}}{"use strict";const f=self.B;f.Xx=class extends f.ca{constructor(){super();this.Sr=this.Qv=this.U=this.oz=0}Uc(a){this.U=+a-this.oz;this.Qv=this.Sr+this.U;this.oz=this.Qv-this.Sr-this.U;this.Sr=this.Qv}V(){return this.Sr}Yc(){this.Sr=this.Qv=this.U=this.oz=0}Set(a){this.Qv=this.U=this.oz=0;this.Sr=+a}A(){}}}
{"use strict";const f=self.B,a={UD:function(c){this.LU=c;this.left=this.right=this.LU.kb;this.parent=null;this.color=!1;this.key=null},ao:function(c){this.size=0;this.kb=new a.UD(this);this.kb.color=!1;this.root=this.kb;this.root.parent=this.kb;this.compare=c||this.Zba}};xa=a.ao.prototype;xa.Zba=function(c,e){return c<e?-1:e<c?1:0};xa.clone=function(){var c=new a.ao(this.compare);c.tca(this);return c};xa.clear=function(){this.size=0;this.kb=new a.UD(this);this.kb.color=!1;this.root=this.kb;this.root.parent=
this.kb};xa.rw=function(c){var e=c.right;c.right=e.left;e.left!=this.kb&&(e.left.parent=c);e.parent=c.parent;c.parent==this.kb?this.root=e:c==c.parent.left?c.parent.left=e:c.parent.right=e;e.left=c;c.parent=e};xa.Bw=function(c){var e=c.left;c.left=e.right;e.right!=this.kb&&(e.right.parent=c);e.parent=c.parent;c.parent==this.kb?this.root=e:c==c.parent.right?c.parent.right=e:c.parent.left=e;e.right=c;c.parent=e};xa.ms=function(c){if(this.contains(c))this.lw(c).key=c;else{var e=new a.UD(this);e.key=
c;c=this.kb;for(var b=this.root;b!=this.kb;)c=b,b=0>this.compare(e.key,b.key)?b.left:b.right;e.parent=c;c==this.kb?this.root=e:0>this.compare(e.key,c.key)?c.left=e:c.right=e;e.left=this.kb;e.right=this.kb;e.color=!0;this.uca(e);this.size++}};xa.uca=function(c){for(;c!=this.kb&&c!=this.root&&1==c.parent.color;)if(c.parent==c.parent.parent.left){var e=c.parent.parent.right;1==e.color?(c.parent.color=!1,e.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.right&&(c=c.parent,this.rw(c)),
c.parent.color=!1,c.parent.parent.color=!0,c.parent.parent!=this.kb&&this.Bw(c.parent.parent))}else e=c.parent.parent.left,1==e.color?(c.parent.color=!1,e.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.left&&(c=c.parent,this.Bw(c)),c.parent.color=!1,c.parent.parent.color=!0,c.parent.parent!=this.kb&&this.rw(c.parent.parent));this.root.color=!1};xa.aca=function(c){var e=c.left==this.kb||c.right==this.kb?c:this.rn(c);var b=e.left!=this.kb?e.left:e.right;b.parent=e.parent;e.parent==
this.kb?this.root=b:e==e.parent.left?e.parent.left=b:e.parent.right=b;e!=c&&(c.key=e.key);0==e.color&&this.$ba(b);this.size--};xa.$ba=function(c){for(;c!=this.root&&0==c.color;)if(c==c.parent.left){var e=c.parent.right;1==e.color&&(e.color=!1,c.parent.color=!0,this.rw(c.parent),e=c.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,c=c.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Bw(e),e=c.parent.right),e.color=c.parent.color,c.parent.color=!1,e.right.color=!1,this.rw(c.parent),
c=this.root)}else e=c.parent.left,1==e.color&&(e.color=!1,c.parent.color=!0,this.Bw(c.parent),e=c.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,c=c.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.rw(e),e=c.parent.left),e.color=c.parent.color,c.parent.color=!1,e.left.color=!1,this.Bw(c.parent),c=this.root);c.color=!1};xa.remove=function(c){c=this.lw(c);if(c!=this.kb){var e=c.key;this.aca(c);return e}return null};xa.min=function(c){for(;c.left!=this.kb;)c=c.left;return c};xa.max=
function(c){for(;c.right!=this.kb;)c=c.right;return c};xa.rn=function(c){if(c.right!=this.kb)return this.min(c.right);for(var e=c.parent;e!=this.kb&&c==e.right;)c=e,e=e.parent;return e};xa.lw=function(c){for(var e=this.root;e!=this.kb&&0!=this.compare(e.key,c);)e=0>this.compare(c,e.key)?e.left:e.right;return e};xa.contains=function(c){return null!=this.lw(c).key};xa.DJ=function(){var c=[];this.forEach(function(e){c.push(e)});return c};xa.tca=function(c){if("array"==a.lK(c))for(var e=0;e<c.length;e++)this.ms(c[e]);
else if("function"==a.lK(c.forEach))c.forEach(this.ms,this);else if("function"==a.lK(c.DJ))for(c=c.DJ(),e=0;e<c.length;e++)this.ms(c[e]);else if("object"==a.lK(c))for(e in c)this.ms(c[e])};xa.range=function(c,e){var b=[];this.yda(function(h){b.push(h)},c,e);return b};xa.yda=function(c,e,b){if(!this.qs())for(e=this.lw(e),b=this.lw(b);e!=b&&!c.call(void 0,e.key,this);)e=this.rn(e)};xa.forEach=function(c,e){if(!this.qs())for(var b=this.min(this.root);b!=this.kb;b=this.rn(b))c.call(e,b.key,b.key,this)};
xa.some=function(c,e){if(this.qs())return!1;for(var b=this.min(this.root);b!=this.kb;b=this.rn(b))if(c.call(e,b.key,b.key,this))return!0;return!1};xa.every=function(c,e){if(this.qs())return!1;for(var b=this.min(this.root);b!=this.kb;b=this.rn(b))if(!c.call(e,b.key,b.key,this))return!1;return!0};xa.map=function(c,e){var b=[];if(this.qs())return b;for(var h=this.min(this.root);h!=this.kb;h=this.rn(h))b.push(c.call(e,h.key,h.key,this));return b};xa.filter=function(c,e){var b=[];if(this.qs())return b;
for(var h=this.min(this.root);h!=this.kb;h=this.rn(h))c.call(e,h.key,h.key,this)&&b.push(h.key);return b};xa.qs=function(){return 0==this.size};f.ao=class extends f.ca{constructor(c){super();this.Gh=new a.ao(c);this.jr=!1;this.np=new Set;this.op=new Set}Uc(c){this.jr?this.Gh.contains(c)?this.op.delete(c):this.np.add(c):this.Gh.ms(c)}eh(c){this.jr?this.Gh.contains(c)?this.op.add(c):this.np.delete(c):this.Gh.remove(c)}Lx(c){return this.jr?this.np.has(c)?!0:!this.op.has(c)&&this.Gh.contains(c):this.Gh.contains(c)}hd(){this.Gh.clear();
this.np.clear();this.op.clear()}toArray(){if(this.jr)throw Error("cannot be used in queueing mode");return this.Gh.DJ()}Vl(){return this.Gh.size+this.np.size-this.op.size}Un(){return 0===this.Vl()}gh(c){c=!!c;if(this.jr!==c&&(this.jr=c,!c)){for(const e of this.op)this.Gh.remove(e);this.op.clear();for(const e of this.np)this.Gh.ms(e);this.np.clear()}}*values(){if(!this.Un()){var c=this.Gh;for(let e=c.min(c.root);e!=c.kb;e=c.rn(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const f=self.B;f.NM=class{constructor(a=f.hardwareConcurrency){this.aba=a;this.rI=[];this.TF=0}Uc(a){return new Promise((c,e)=>{this.rI.push({Qh:a,resolve:c,reject:e});this.NP()})}async NP(){if(this.rI.length&&!(this.TF>=this.aba)){this.TF++;var a=this.rI.shift();try{const c=await a.Qh();a.resolve(c)}catch(c){a.reject(c)}this.TF--;this.NP()}}}}
{"use strict";const f=self.B;f.x1=class{constructor(a,c,e){this.Sq=a;this.Maa=c;this.Naa=e||2*c;this.Xr=-1;this.yA=-Infinity;this.lT=()=>this.m8();this.qaa=this.eH=!1;this.yu=null}u6(){return"undefined"!==typeof f.zV&&f.zV.Nfa()?this.Naa:this.Maa}LV(){var a=[];if(-1===this.Xr){this.yu=a;a=f.gx();var c=a-this.yA,e=this.u6();c>=e&&this.qaa?(this.yA=a,this.kQ()):this.Xr=self.setTimeout(this.lT,Math.max(e-c,4))}}kQ(){this.eH=!0;const a=this.yu;this.yu=null;a?this.Sq(...a):this.Sq();this.eH=!1}Yc(){this.eH||
(this.xO(),this.yu=null,this.yA=f.gx())}m8(){this.Xr=-1;this.yA=f.gx();this.kQ()}xO(){-1!==this.Xr&&(self.clearTimeout(this.Xr),this.Xr=-1)}A(){this.xO();this.lT=this.yu=this.Sq=null}}}"use strict";function hc(f,a){if(!f.CR)throw Error("no get base size callback set");return f.CR(a)}self.B.Eia=class{constructor(){this.Jaa=new Map;this.PS=this.QS=this.CR=null}gy(){if(!this.PS)throw Error("no redraw callback set");this.PS()}};"use strict";
self.B.Dia=class{constructor(f,a){this.Jg=f;this.xaa=a;this.Bc=0;hc(this.Jg,a).then(()=>{this.Jg.gy()}).catch(c=>{console.error("[SVG] Error loading SVG: ",c);this.Jg.gy()});this.sI=null}A(){if(0>=this.Bc)throw Error("already released");this.Bc--;0===this.Bc&&this.eu()}eu(){if(this.sI){var f=this.Jg;if(!f.QS)throw Error("no release result callback set");f.QS(this.sI);this.sI=null}this.Jg.Jaa.delete(this.xaa);this.Jg=null}};
{"use strict";const f=self.B;f.zka="\ufeff";const a=new Set([..."0123456789"]);f.T_=function(n){return a.has(n)};const c=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);f.LD=function(n){return c.has(n)};f.Rea=function(n){return[...n].filter(p=>!f.LD(p)).join("")};f.KD=function(n){for(const p of n)if(!f.LD(p))return!1;return!0};f.d0=function(n){return 1===n.length&&32>n.charCodeAt(0)};f.TX=function(n){return[...n].filter(p=>
!f.d0(p)).join("")};const e=new Set([..."0123456789.+-e"]);f.Vfa=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};f.H1=function(n){let p=n.length;for(;0<p&&f.T_(n.charAt(p-1));)--p;return n.substr(0,p)};f.qfa=function(n){let p=f.H1(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const b=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return b.get(n)}
const m=/[&<>"']/g;f.MX=function(n){return n.replace(m,h)};f.Iea=function(n){n=f.hi(n,"\\","\\\\");n=f.hi(n,'"','\\"');n=f.hi(n,"\t","\\t");n=f.hi(n,"\r","");return f.hi(n,"\n","\\n")};f.Jea=function(n){n=f.hi(n,"&","&amp;");n=f.hi(n,"<","&lt;");n=f.hi(n,">","&gt;");return f.hi(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;f.Es=function(n){return n.replace(g,"\\$&")};f.Sea=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};f.hi=function(n,p,q){return n.replaceAll(p,()=>q)};f.Fha=function(n,p,q){return n.replace(new RegExp(f.Es(p),"gi"),()=>q)};f.Xia=function(n,p){"string"===typeof p?n.textContent=p:p.bS?n.textContent=p.toString():(n.innerHTML=p.iK(),p instanceof f.Pl&&p.Mba(n))};f.dka=function(n,p){return n instanceof f.rD||n instanceof f.Pl?n.bd(p):p instanceof f.rD||p instanceof f.Pl?p.bd(n):n===p};f.eka=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};f.fka=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};f.gka=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};f.Rja=function(n,p){return n>p?1:n<p?-1:0};f.Sja=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?
-1:0};f.Vea=function(n,p){p="common."+(p?"dataRates":"dataSizes")+".";const q=self.uma;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Jba:!1,
Wba:!0,sca:!0,Oca:!0,vU:!0};f.Wea=function(n,p){p=Object.assign({},l,p);f.g0.xha("common.time");const q=[],u=self.lang,w=self.tma;if(p.Wba){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.sca&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Oca&&(r=Math.floor(n/60),0<r||q.length||!p.vU)&&(n-=60*r,q.push(w(".minutes",null,r)));p.vU&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Jba?u(".approx-prefix"):"")+q.join(u(".separator"));f.g0.uha();
return n};f.Vka=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};f.hka=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};f.sea=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());f.sU(n);f.sU(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};f.zea=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};f.bka=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};f.cka=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?
r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const f=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),c=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let b=null,h=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=b.length)throw Error("invalid bbcode link substitution");q=b[n];if("string"===typeof q)return`<a href="${b[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:l}const g=/\n/g;f.Pl=class{constructor(l,n){this.oh=n&&n.Rca?l:f.MX(l);this.dH="";this.iR=!1;this.pv=[];if(n&&(this.iR=!!n.qla,n.links)){if(9<n.links.length)throw Error("too many links");this.pv=n.links}this.HR=this.oh.includes("[");this.ES=this.iR&&this.oh.includes("\n");this.bS=!this.HR&&!this.ES&&!this.oh.includes("&");this.LR=!1;this.Ou=[]}toString(){return this.oh}valueOf(){return this.oh}iK(){if(this.bS)return this.oh;if(!this.dH&&this.oh){let l=this.oh;
this.HR&&(h=0,b=this.pv,l=l.replace(c,m),b=null);this.ES&&(l=l.replace(g,"<br>"));this.dH=l}return this.dH}Mba(l){if(this.pv.length)for(let n=0,p=this.pv.length;n<p;++n){const q=this.pv[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}bd(l){return l instanceof f.rD?this.iK()===l.iK():l instanceof f.Pl?this.oh===l.oh:this.oh===l}tda(){if(this.LR)return this.Ou;const l=this.oh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.Ou.push({text:v,cd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Sh:u})}p<l.length&&this.Ou.push({text:l.substring(p),cd:n.slice(0)});for(const v of this.Ou)v.text=
this.w8(v.text);this.LR=!0;return this.Ou}w8(l){l=f.hi(l,"\\[","[");return f.hi(l,"\\\\","\\")}static WN(l){return l.replace(e,"")}}}
{"use strict";const f=self.B;function a(e){return"\u00a0"===e||"\u202f"===e?!1:f.LD(e)}const c=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;f.LE=class{constructor(){this.Dm=[]}PP(e,b){let h=0,m=0,g=0,l=0,n=0;for(const p of e)-1===p.width&&(e=b(p.text,p.cd),p.width=e.width,p.height=e.height,p.bg=e.bg||0,p.sf=e.sf||0,p.vf=e.vf||0),h+=p.width,m=Math.max(m,p.height),g=Math.max(g,p.bg),l=Math.max(l,p.sf),n=Math.max(n,
p.vf);return{width:h,height:m,bg:g,sf:l,vf:n}}Dy(e,b,h,m,g,l){this.Dm.push({UT:e,width:b,height:h,bg:m,sf:g,vf:l})}LE(e,b,h,m,g){"string"===typeof e&&(e=[{text:e,cd:[]}]);f.C(this.Dm);if(!(!e.length||1===e.length&&!e[0].text.length||2>h)){if(1===e.length){var l=e[0];const n=l.text;l=l.cd;if(100>=n.length&&!n.includes("\n")){let {width:p,height:q,bg:u,sf:w,vf:r}=b(n,l);p+=g;u=u||0;w=w||0;r=r||0;if(p<=h){this.Dy([{text:n,cd:l,width:p,height:q,bg:u,sf:w,vf:r}],p,q,u,w,r);return}}}if("word"===m)m=this.E$(e);
else{m=[];for(const n of e)f.hn(m,[...n.text].map(p=>[{text:p,cd:n.cd}]))}this.X$(m,b,h,g)}}E$(e){const b=[];let h=[],m=!1;for(const l of e){var g=l.text;e=l.cd;for(const n of g)"\n"===n?(0<h.length&&b.push(h),b.push([{text:"\n",cd:e}]),h=[]):0===h.length?(h.push({text:n,cd:e}),m=a(n)):(g=a(n),g===m?(g=h.Sd(-1),g.cd===e?g.text+=n:h.push({text:n,cd:e})):(b.push(h),h=[],h.push({text:n,cd:e}),m=g))}0<h.length&&b.push(h);return b}F4(e){return e.map(b=>({text:b.text,cd:b.cd,width:b.width,height:b.height,
bg:b.bg,sf:b.sf,vf:b.vf}))}tO(e,b){var h=e.length?e.Sd(-1):null;let m=0;h&&b[0].cd===h.cd&&(h.text+=b[0].text,h.width=-1,h.height=-1,h.bg=-1,h.sf=-1,h.vf=-1,m=1);for(h=b.length;m<h;++m){const g=b[m];e.push({text:g.text,cd:g.cd,width:-1,height:-1,bg:-1,sf:-1,vf:-1})}}X$(e,b,h,m){let g=[],l=0,n=0,p=0,q=0;var u=0;for(const w of e){if(1===w.length&&"\n"===w[0].text){0===n&&(u=b(" ",w[0].cd),n=u.height,p=u.bg||0,q=u.sf||0,u=u.vf||0);this.Dy(g,l,n,p,q,u);g=[];u=q=p=n=l=0;continue}e=this.F4(g);this.tO(e,
w);const r=this.PP(e,b),v=r.width;v>=h?(0<g.length&&this.Dy(g,l,n,p,q,u),g=[],f.KD(w[0].text)?u=q=p=n=l=0:(this.tO(g,w),u=this.PP(g,b),l=u.width,n=u.height,p=u.bg,q=u.sf,u=u.vf)):(g=e,l=v,n=r.height,p=r.bg,q=r.sf,u=r.vf)}0<g.length&&this.Dy(g,l,n,p,q,u);this.H$(b,m)}H$(e,b){for(const m of this.Dm){const g=m.UT;if(!g.length)continue;let l=g.Sd(-1);var h=l.text;const n=h.replace(c,"");if(!n)m.width-=l.width,g.pop();else if(n.length<h.length){h=e(n,l.cd).width;const p=l.width-h;l.width=h;l.text=n;m.width-=
p}0!==b&&0<g.length&&(l=g.Sd(-1),l.width+=b,m.width+=b)}}hd(){f.C(this.Dm)}VY(){return this.Dm.reduce((e,b)=>Math.max(e,b.width),0)}pZ(){return this.Dm.reduce((e,b)=>e+b.height,0)}}}
{"use strict";const f=self.B,a=self.bj,c=a.gC,e=a.Ew,b=a.Jl,h=c.create(),m=c.create(),g=c.create(),l=e.create(),n=b.create(),p=c.create(),q=c.create(),u=c.create(),w=c.create(),r=c.create(),v=c.create(),y=c.create(),A=c.create(),G=e.tf(0,0,1,1);f.I={o1(J,M,Q,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*Q+R[12],Y=R[1]*J+R[5]*M+R[9]*Q+R[13],va=R[2]*J+R[6]*M+R[10]*Q+R[14];R=R[3]*J+R[7]*M+R[11]*Q+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;Q=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+Q*T);return!0},Jj(J,M,Q,R,T,Z,X){b.multiply(n,T,R);if(null===b.os(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*Q-1;l[3]=1;e.jK(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},G3(J,M,Q,R,T,Z,X){if(!f.I.Jj(J,M,0,R,T,Z,h)||!f.I.Jj(J,M,1,R,T,Z,m))return!1;c.Nl(m,m,h);c.set(g,0,0,1);J=-Q;M=c.ln(g,m);Q=0;if(0===M){if(0!==
c.ln(g,h)+J)return!1}else if(Q=-(c.ln(h,g)+J)/M,0>Q)return!1;c.cK(X,h,m,Q);return!0}};function z(J,M,Q,R){c.Nl(h,Q,M);c.Nl(m,J,M);c.vJ(g,h,m);c.normalize(g,g);R.set(g[0],g[1],g[2],c.ln(J,g))}function F(J,M,Q,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.SU,Na=X.TU;X=X.UU;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*Q*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*Q*Ua>ta}class H{constructor(){this.UU=this.TU=this.SU=this.w=this.z=this.y=this.x=NaN}set(J,M,Q,R){this.x=
J;this.y=M;this.z=Q;this.w=R;this.SU=0<J?1:0;this.TU=0<M?1:0;this.UU=0<Q?1:0}}f.I.O3=class{constructor(){this.tS=new H;this.mT=new H;this.TS=new H;this.bR=new H;this.dI=new H;this.uR=new H}JV(J,M){f.I.Jj(0,1,0,J,M,G,p);f.I.Jj(1,1,0,J,M,G,q);f.I.Jj(0,0,0,J,M,G,u);f.I.Jj(1,0,0,J,M,G,w);f.I.Jj(0,1,1,J,M,G,r);f.I.Jj(1,1,1,J,M,G,v);f.I.Jj(0,0,1,J,M,G,y);f.I.Jj(1,0,1,J,M,G,A);z(u,p,r,this.tS);z(p,q,v,this.mT);z(q,w,A,this.TS);z(w,u,y,this.bR);z(y,r,v,this.uR);z(w,q,p,this.dI)}dW(J,M,Q,R,T,Z){return F(J,
M,Q,R,T,Z,this.tS)&&F(J,M,Q,R,T,Z,this.mT)&&F(J,M,Q,R,T,Z,this.TS)&&F(J,M,Q,R,T,Z,this.bR)&&F(J,M,Q,R,T,Z,this.dI)&&F(J,M,Q,R,T,Z,this.uR)}J_(J,M,Q){var R=this.dI;return!(R.x*J+R.y*M+R.z*Q>=R.w)}}}
{"use strict";const f=self.B,a=self.bj,c=a.gC,e=a.Ew,b=a.Jl,h=b.create(),m=c.tf(0,0,0),g=c.tf(0,0,0),l=c.tf(0,0,0),n=c.tf(0,1,0);e.tf(0,0,0,0);new f.nd;new f.Rect;const p=new f.nd(0,0,1,0,1,1,0,1);f.I.K1=class{constructor(){this.O=this.T=0;this.nr=f.xb(45);this.Rv=Math.tan(this.nr/2);this.LA=b.create();this.XH=b.create();this.js=!1;this.yo=[];this.fB=new Map;this.EI=this.kB=this.lB=null;this.Ov=new Map;this.Gi=null;this.kG=[];this.DS=new Map;this.Hu=this.tu=0;this.Xaa=this.Yaa=1;this.SH=.5;this.uh=
0;this.ir=!0;this.cH=!1}SX(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}AO(){this.Hu=this.tu=0;this.EI=this.kB=this.lB=null;this.D4()}Rx(){this.AO();this.Gi=null}T0(){for(const q of this.yo)q.A();this.AO()}Z(){return this.T}X(){return this.O}yf(q){return this.lM()?100:q/(2*this.Rv)}lE(q){this.nr=q;this.Rv=Math.tan(this.nr/2)}j3(){this.js=!1}k3(){this.js=!0}lM(){return!this.js}vn(q,u,w=.5,r=.5){var v=this.nr;.5===w&&.5===r?b.perspective(q,v,
u,1,1E4):(w=1-w,v=1*this.Rv,u*=v,b.lca(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}IV(q,u,w){const r=self.devicePixelRatio,v=2*this.yf(w)*r*this.Rv/w;u=u*v/(2*r);w=w*v/(2*r);b.Vca(q,-u,u,-w,w,1,1E4)}uK(q,u,w,r,v,y=1){let A=1;this.lM()&&(A=200*this.Rv/v);c.set(l,A,-A,1);c.multiply(m,u,l);c.multiply(g,w,l);b.Kca(q,m,g,r||n);l[2]=y;b.scale(q,q,l)}Cs(q,u,w,r,v,y){c.set(m,q,u,w);c.set(g,r,v,0);this.uK(h,m,g,n,y,void 0);return h}m4(q){this.yo.push(q);this.fB.set(q.ra(),q)}S8(q){const u=this.yo.indexOf(q);
-1!==u&&this.yo.splice(u,1);this.fB.delete(q.ra())}D4(){f.C(this.yo);this.fB.clear()}IL(q){return this.fB.get(q)||null}Hj(){this.yq(this.lB)}pN(){this.yq(this.EI)}N9(q){this.Gi=q}XU(q,u,w,r){const v=f.I.EE.tM(q,u,w,r);let y=this.Ov.get(v);y||(y=f.j(f.I.EE,this,q,u,w,r),this.Ov.set(v,y));y.iV();return y}UM(q){q.yW();0===q.Bc&&(this.Gi===q&&(this.Gi=null),this.Ov.delete(q.OY()),q.A())}O6(q){f.C(this.kG);this.DS.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.kG.push([r,v]);this.DS.set(q,
{Zma:u,Zna:r,Ala:v});u++}}o6(q){return this.kG[q]}qq(q){this.tu=q}yt(q){this.Hu=q;this.Gi=null}$x(q,u,w,r,v,y){var A=this.SH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.ey(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}Zx(q,u,w,r,v,y){const A=this.SH;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.ey(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}Yx(q,u,w,r,v,y){const A=this.SH;q+=A;u+=A;w+=A;r+=A;this.ey(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}j0(q,u,w,r){const v=.5*this.Yaa,y=this.Xaa;2===y?
this.k7(q,u,w,r,v):1===y?this.j7(q,u,w,r,v):this.i7(q,u,w,r,v)}k7(q,u,w,r,v){this.$x(q,u,w,u,0,v);this.$x(w,u,w,r,v,0);this.$x(w,r,q,r,0,-v);this.$x(q,r,q,u,-v,0)}j7(q,u,w,r,v){this.Zx(q,u,w,u,0,v);this.Zx(w,u,w,r,v,0);this.Zx(w,r,q,r,0,-v);this.Zx(q,r,q,u,-v,0)}i7(q,u,w,r,v){this.Yx(q,u,w,u,0,v);this.Yx(w,u,w,r,v,0);this.Yx(w,r,q,r,0,-v);this.Yx(q,r,q,u,-v,0)}oM(q){this.j0(q.P,q.L,q.$,q.W)}Np(){this.gj();this.uh++}a_(){this.uh++}oE(q){this.ir=!!q}C2(q){this.cH=!!q}fi(){return!1}}}"use strict";
self.B.I.n3=class{constructor(f,a,c){this.Ca=a;this.ja=f;this.rR=c.Fla||0;this.sR=c.Gla||0;this.jR=!!c.sla;this.cba=!!c.Vma;this.Jr=!!c.nna;this.daa=!!c.bla;this.lG=!!c.gla;this.yB=!!c.loa;this.xB=!1}A(){this.ja=null}cb(){return this.ja}ra(){return this.Ca}fq(){return this.cba}};
{"use strict";const f=self.B;f.I.EE=class{constructor(a,c,e,b,h){this.ja=a;this.Bc=0;this.Pc=null;this.Iv="";this.xg=e;this.$a=f.j(f.Ya);this.$a.set(b);this.Sc=h;"string"===typeof c?this.Iv=c:(this.Pc=c,this.Iv=this.Pc.ra())}A(){if(0<this.Bc)throw Error("releasing state group still in use");this.Pc=this.ja=null;this.Iv=""}qV(){const a=this.ja;a.yq(this.Pc);a.Hf(this.xg);a.dm(this.$a);a.yt(this.Sc);a.N9(this)}OY(){return f.I.EE.tM(this.Iv,this.xg,this.$a,this.Sc)}iV(){++this.Bc}yW(){--this.Bc}Hk(){this.Pc=
null}QD(a){this.Pc=a.IL(this.Iv);if(!this.Pc)throw Error("failed to restore shader program");}static tM(a,c,e,b){return("string"===typeof a?a:a.ra())+","+c+","+e.Pa+","+e.Ta+","+e.Sa+","+e.Ra+","+b}}}
{"use strict";const f=self.B,a=f.j(f.nd);function c(e,b,h){const m=h.ub,g=h.wb;return[m+(h.fc-m)*e+(h.Xb-m)*b,g+(h.hc-g)*e+(h.Yb-g)*b]}f.I.A0=class{constructor(e){this.aI=e;this.Sg=this.Qg=this.Sc=this.U=this.ba=0}ug(e,b,h,m){this.ba=e;this.U=b;this.Qg=h;this.Sg=m}ya(){return this.ba}ih(e){this.ba!==e&&(this.ba=e,this.aI.IF())}za(){return this.U}ri(e){this.U!==e&&(this.U=e,this.aI.IF())}Za(){return this.Sc}Ue(e){this.Sc!==e&&(this.Sc=Math.max(e,0),this.aI.IF())}vE(e){this.Qg=e}wE(e){this.Sg=e}c7(e,
b,h){[this.ba,this.U]=c(e.ba,e.U,b);this.Sc=e.Sc;this.Qg=f.Td(h.P,h.$,e.Qg);this.Sg=f.Td(h.L,h.W,e.Sg)}b7(e,b,h){[this.ba,this.U]=c(e.ba,e.U,b);this.Sc=e.Sc;[this.Qg,this.Sg]=c(e.Qg,e.Sg,h)}vd(){return{x:this.ya(),y:this.za(),z:this.Za(),u:this.Qg,v:this.Sg}}md(e){this.ih(e.x);this.ri(e.y);e.hasOwnProperty("z")&&this.Ue(e.z);this.vE(e.u);this.wE(e.v)}};f.I.vM=class{constructor(e,b,h){if(2>e||2>b)throw Error("invalid mesh size");this.Uj=e;this.hk=b;this.dc=h||null;this.Km=[];this.BS=this.AS=0;this.xS=
this.wS=1;this.yS=0;this.mI=!1;h=e-1;const m=b-1;for(let g=0;g<b;++g){const l=[];for(let n=0;n<e;++n){const p=f.j(f.I.A0,this,n,g),q=n/h,u=g/m;p.ug(q,u,q,u);l.push(p)}this.Km.push(l)}}A(){f.C(this.Km)}IF(){this.mI=!0}Yt(){if(this.mI){var e=Infinity,b=Infinity,h=-Infinity,m=-Infinity,g=0;for(const l of this.Km)for(const n of l){const p=n.ya(),q=n.za();e=Math.min(e,p);b=Math.min(b,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.Za())}this.AS=e;this.BS=b;this.wS=h;this.xS=m;this.yS=g;this.mI=!1}}ZY(){this.Yt();
return this.AS}$Y(){this.Yt();return this.BS}WY(){this.Yt();return this.wS}XY(){this.Yt();return this.xS}YY(){this.Yt();return this.yS}Rp(e,b){e=Math.floor(e);b=Math.floor(b);return 0>e||e>=this.Uj||0>b||b>=this.hk?null:this.Km[b][e]}vK(e,b,h){const m=h instanceof f.Rect;if(e.Uj!==this.Uj||e.hk!==this.hk)throw Error("source mesh wrong size");e=e.Km;const g=this.Km;for(let l=0,n=g.length;l<n;++l){const p=e[l],q=g[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.c7(r,b,h):v.b7(r,b,h)}}}eg(e){const b=
this.Km;let h=b[0];for(let m=1,g=b.length;m<g;++m){const l=b[m];let n=h[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=h[q],r=l[q];a.set(n.Qg,n.Sg,w.Qg,w.Sg,r.Qg,r.Sg,p.Qg,p.Sg);e.ey(n.ya(),n.za(),n.Za(),w.ya(),w.za(),w.Za(),r.ya(),r.za(),r.Za(),p.ya(),p.za(),p.Za(),a);n=w;p=r}h=l}}D_(e){e=e.Bd;const b=[],h=this.Uj-1,m=this.hk-1,g=1/h,l=1/m,n=h-1,p=m-1;let q=e[0],u=e[1],w=f.aa(Math.floor(q*h),0,n),r=f.aa(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=f.aa(f.Td(q,v,A),0,1);u=f.aa(f.Td(u,
y,A),0,1);b.push(q,u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],b.push(q,u),w=f.aa(Math.floor(q*h),0,n),r=f.aa(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<b.length)throw Error("Too many mesh poly points");const J=w*g,M=r*l,Q=(w+1)*g,R=(r+1)*l;if(0!==G&&(A=f.Aw(q,u,v,y,J,M,Q,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=f.Aw(q,u,v,y,J,M,Q,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=f.Aw(q,u,v,y,Q,M,Q,R,.001),0<=A&&.99999999>=A)){z();
w++;G=1;continue}if(0<w&&1!==G&&(A=f.Aw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=f.Aw(q,u,v,y,J,R,Q,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return f.j(f.zn,b)}C3(e,b){e=this.F$(e);this.w$(e);b.aC(e)}F$(e){const b=[];e=e.Bd;for(let h=0,m=e.length;h<m;h+=2){const [g,l]=this.ZN(e[h],e[h+1]);b.push(g,l)}return b}ZN(e,b){var h=this.Uj-1,m=this.hk-1;const g=1/h,l=1/m;h=f.aa(Math.floor(e*h),0,h-1);const n=f.aa(Math.floor(b*m),0,m-1);m=h*g;const p=
n*l,q=(h+1)*g,u=(n+1)*l,w=this.Rp(h,n),r=this.Rp(h+1,n+1),v=f.Bca(e,b,m,p,q,p,q,u);h=this.Rp(h+(v?1:0),n+(v?0:1));const [y,A,G]=f.Ada(e,b,m,p,v?m+g:m,v?p:p+l,q,u);return f.zda(y,A,G,w.ya(),w.za(),h.ya(),h.za(),r.ya(),r.za())}w$(e){const b=[];let h=e[0],m=e[1],g=h-e.Sd(-2),l=m-e.Sd(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(l)||
v)&&1E-7<Math.abs(w/g-r/l)||0==w&&0===r)&&b.push(h,m);h=u;m=n;g=w;l=r}6<=b.length&&b.length<e.length&&f.Ec(e,b)}vd(){return{cols:this.Uj,rows:this.hk,points:this.Km.map(e=>e.map(b=>b.vd()))}}md(e){const b=this.Uj,h=this.hk;if(e.cols!==b||e.rows!==h)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<h;++m){const g=e[m];for(let l=0;l<b;++l)this.Rp(l,m).md(g[l])}}}}
{"use strict";const f=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),c=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),b=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{fK:n,ns:q,format:u,type:p}}const m={iC:"clamp-to-edge",jC:"clamp-to-edge",cj:"trilinear",FT:0,WJ:"rgba8",WB:!0,xw:"default",premultiplyAlpha:!0,dU:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;f.I.Cy=class{constructor(n){this.ja=n;this.lb=null;this.O=this.T=0;this.yh=!0;this.hs=this.gs="clamp-to-edge";this.gd="trilinear";this.bG=0;this.Jm="rgba8";this.el=!1;this.fp=
"default";this.Bc=0}U4(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.lb)throw Error("already created texture");this.gs=p.iC;this.hs=p.jC;
this.gd=p.cj;this.bG=p.FT;this.Jm=p.WJ;this.el=!!p.WB&&this.ja.ir;this.fp=p.xw;if(!b.has(this.gs)||!b.has(this.hs))throw Error("invalid wrap mode");if(!c.has(this.gd))throw Error("invalid sampling");if(!a.has(this.Jm))throw Error("invalid pixel format");if(!e.has(this.fp))throw Error("invalid mipmap quality");this.yh=!0;if(n instanceof ArrayBuffer||null===n||p.dU){if(this.T=p.width,this.O=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.T*this.O*4)throw Error("ArrayBuffer wrong size");}else this.T=
n.width,this.O=n.height;if(0>=this.T||0>=this.O)throw Error("invalid texture data size");if(p.dU){var q=f.Yg(this.T,this.O);q.getContext("2d").drawImage(n,0,0,this.T,this.O);n=q}var u=f.Rh(this.T)&&f.Rh(this.O);q=this.ja.MA;if(this.T>q||this.O>q)throw Error("texture data exceeds maximum texture size");q=this.ja.M;var w=this.ja.Rc;this.lb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.lb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.Jm,q);if(this.ja.lo()||u||!this.nF())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.el?Math.floor(Math.log2(Math.max(this.T,this.O))+1):1,p.fK,this.T,this.O),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.T,this.O,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.ns,this.T,this.O,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.ns,this.T,this.O,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.ns,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.T,this.O));n instanceof ImageData&&(u=f.Yg(this.T,this.O),u.getContext("2d").putImageData(n,0,0),n=u);u=f.Yg(f.XB(this.T),f.XB(this.O));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.gd;w.drawImage(n,0,0,this.T,this.O,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.ns,p.format,p.type,u)}null!==n&&this.EQ(q);q.bindTexture(q.TEXTURE_2D,null);this.ja.yF();this.Bc=1;l.add(this)}H4(n,p,q){q=Object.assign({},m,q);if(this.lb)throw Error("already created texture");this.gs=q.iC;this.hs=q.jC;this.gd=q.cj;this.Jm=q.WJ;this.el=!!q.WB&&this.ja.ir;this.fp=q.xw;if(!b.has(this.gs)||!b.has(this.hs))throw Error("invalid wrap mode");if(!c.has(this.gd))throw Error("invalid sampling");if(!a.has(this.Jm))throw Error("invalid pixel format");if(!e.has(this.fp))throw Error("invalid mipmap quality");
this.yh=!1;this.T=Math.floor(n);this.O=Math.floor(p);n=f.Rh(this.T)&&f.Rh(this.O);p=this.ja.MA;if(0>=this.T||0>=this.O)throw Error("invalid texture size");if(this.T>p||this.O>p)throw Error("texture exceeds maximum texture size");if(!this.ja.lo()&&this.nF()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ja.M;p=this.ja.Rc;this.lb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.lb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.Jm,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.fK:q.ns,this.T,this.O,0,q.format,q.type,null);this.EQ(n);n.bindTexture(n.TEXTURE_2D,null);this.ja.yF();this.Bc=1;l.add(this)}jF(n){if("default"===this.fp)return this.yh?n.NICEST:n.FASTEST;if("low"===this.fp)return n.FASTEST;if("high"===this.fp)return n.NICEST;throw Error("invalid mipmap quality");}nF(){return"clamp-to-edge"!==this.gs||"clamp-to-edge"!==this.hs}qP(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}EQ(n){var p=f.Rh(this.T)&&f.Rh(this.O);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.qP(n,this.gs));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.qP(n,this.hs));"nearest"===this.gd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.el=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ja.lo())&&this.el?(n.hint(n.GENERATE_MIPMAP_HINT,
this.jF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.gd||this.ja.cH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.el=!1));(p=this.ja.ou)&&0<this.bG&&"nearest"!==this.gd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.bG,this.ja.ZH))}OQ(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.lb||0>=this.Bc)throw Error("texture not created");if(this.yh)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ja.Rc;
const r=this.ja.M;r.bindTexture(r.TEXTURE_2D,this.lb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.Jm,r);w=2<=w?p.fK:p.ns;try{if(this.T===q&&this.O===u){const v=f.Rh(this.T)&&f.Rh(this.O);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ja.lo())&&this.el&&(r.hint(r.GENERATE_MIPMAP_HINT,this.jF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.T=q;this.O=u;const v=f.Rh(this.T)&&f.Rh(this.O);if(!this.ja.lo()&&this.nF()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ja.lo())&&this.el&&(r.hint(r.GENERATE_MIPMAP_HINT,this.jF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ja.yF()}ZE(){if(0<this.Bc)throw Error("texture still has references");if(!this.lb)throw Error("already deleted texture");l.delete(this);this.ja.M.deleteTexture(this.lb);this.lb=null}cb(){return this.ja}w3(){if(0>=
this.Bc)throw Error("no more references");this.Bc--}Z(){return this.T}X(){return this.O}YC(){let n=this.T*this.O;switch(this.Jm){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.el&&(n+=Math.floor(n/3));return n}static Hk(){l.clear()}static Eba(){return l.values()}}}
{"use strict";const f=self.bj.Jl,a=new Set(["nearest","bilinear","trilinear"]),c={cj:"trilinear",alpha:!0,depth:!1,KJ:!0,$T:!0,Pca:0},e=new Set;self.B.I.kO=class{constructor(b){this.ja=b;this.dk=this.lb=this.Oo=this.Eg=null;this.O=this.T=0;this.iA=!0;this.gd="trilinear";this.Oq=!0;this.Kc=!1;this.dv=!0;this.ll=0;this.bk=f.create();this.mS=0}G4(b,h,m){m=Object.assign({},c,m);const g=this.ja.Rc;if(this.lb||this.dk)throw Error("already created render target");this.gd=m.cj;this.Oq=!!m.alpha;this.Kc=!!m.depth;
this.dv=!!m.KJ;this.iA=!!m.$T;this.ll=m.Pca;if(!a.has(this.gd))throw Error("invalid sampling");if(0<this.ll&&(2>g||this.dv))throw Error("invalid use of multisampling");2>g&&(this.dv=!0);this.T=b;this.O=h;if(0>=this.T||0>=this.O)throw Error("invalid render target size");this.NE();b=this.ja.M;this.Eg=b.createFramebuffer();this.Kc&&(this.Oo=b.createFramebuffer());this.dv?(this.lb=this.ja.LK(this.T,this.O,{cj:this.gd,WJ:this.Oq?"rgba8":"rgb8",WB:!1}),h=this.lb.lb,b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),
b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,h,0),this.Kc&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Oo),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,h,0))):(this.dk=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,this.dk),h=this.Oq?b.RGBA8:b.RGB8,0<this.ll&&((m=b.getInternalformatParameter(b.RENDERBUFFER,h,b.SAMPLES))&&m[0]?(m=m[0],this.ll>m&&(this.ll=m)):this.ll=0),0===this.ll?b.renderbufferStorage(b.RENDERBUFFER,h,this.T,this.O):b.renderbufferStorageMultisample(b.RENDERBUFFER,
this.ll,h,this.T,this.O),b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,this.dk),this.Kc&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Oo),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,this.dk)),b.bindRenderbuffer(b.RENDERBUFFER,null));h=this.ja.Bg;this.Kc&&h&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),this.ja.zu?b.framebufferTexture2D(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.TEXTURE_2D,h,0):b.framebufferRenderbuffer(b.FRAMEBUFFER,
b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,h));b.bindFramebuffer(b.FRAMEBUFFER,null);e.add(this)}gQ(b,h){if(this.T!==b||this.O!==h)this.T=b,this.O=h,this.NE(),b=this.ja.M,b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),this.lb?this.lb.OQ(new ImageData(this.T,this.O)):(b.bindRenderbuffer(b.RENDERBUFFER,this.dk),b.renderbufferStorage(b.RENDERBUFFER,this.Oq?b.RGBA8:b.RGB8,this.T,this.O),b.bindRenderbuffer(b.RENDERBUFFER,null)),h=this.ja.Bg,this.Kc&&h&&(this.ja.zu?b.framebufferTexture2D(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,
b.TEXTURE_2D,h,0):b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,h)),b.bindFramebuffer(b.FRAMEBUFFER,null)}ZE(){if(!this.lb&&!this.dk)throw Error("already deleted render target");e.delete(this);var b=this.ja.M;this.lb?(b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),this.Kc&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Oo),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)),
this.ja.fj(this.lb),this.lb=null):this.dk&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Eg),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,null),this.Kc&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Oo),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,null)),b.deleteRenderbuffer(this.dk),this.dk=null);b.bindFramebuffer(b.FRAMEBUFFER,null);2<=this.ja.Rc&&(b.bindFramebuffer(b.READ_FRAMEBUFFER,null),b.bindFramebuffer(b.DRAW_FRAMEBUFFER,null));b.deleteFramebuffer(this.Eg);
this.Kc&&b.deleteFramebuffer(this.Oo);b=this.ja.pc;b.Fl=null;this.Eg=b.$i=null}NE(){this.ja.vn(this.bk,this.T/this.O);this.mS=this.ja.nr}cb(){return this.ja}Gd(){return this.lb}fZ(){this.ja.nr!==this.mS&&this.NE();return this.bk}FD(){return"nearest"!==this.gd}Z(){return this.T}X(){return this.O}M_(b){b=Object.assign({},c,b);return"nearest"!==b.cj!==this.FD()||!!b.alpha!==this.Oq||!!b.depth!==this.Kc||2<=this.ja.Rc&&!!b.KJ!==this.dv?!1:"number"===typeof b.width||"number"===typeof b.height?!this.iA&&
this.Z()===b.width&&this.X()===b.height:this.iA}YC(){return this.lb?this.lb.YC():this.T*this.O*(this.Oq?4:3)}static Hk(){e.clear()}}}
{"use strict";const f=self.B;f.I.Nt=class extends f.I.n3{static async aW(a,c,e,b){const h=a.M,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,c);h.compileShader(m);c=h.createShader(h.VERTEX_SHADER);h.shaderSource(c,e);h.compileShader(c);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,c);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const l=a.kI;l?await a.U$(()=>h.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):
await f.KE(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw b=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(c),h.deleteProgram(g),Error("Error compiling fragment shader: "+b);if(!h.getShaderParameter(c,h.COMPILE_STATUS))throw b=h.getShaderInfoLog(c),h.deleteShader(m),h.deleteShader(c),h.deleteProgram(g),Error("Error compiling vertex shader: "+b);if(!h.getProgramParameter(g,h.LINK_STATUS))throw b=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(c),h.deleteProgram(g),Error("Error linking shader program: "+
b);(a=f.TX(h.getProgramInfoLog(g)||"").trim())&&!f.KD(a)&&console.info(`[WebGL] Shader program '${b}' compilation log: `,a);h.deleteShader(m);h.deleteShader(c);return g}static async Ja(a,c,e,b){e=await f.I.Nt.aW(a,c.src,e,b);return new f.I.Nt(a,e,c,b)}constructor(a,c,e,b){super(a,b,e);const h=a.M;var m=a.pc;a.gj();h.useProgram(c);this.M=h;this.Pc=c;this.jA="<default-device-transform>"===b;b=h.getAttribLocation(c,"aPos");const g=h.getAttribLocation(c,"aTex");this.VH=h.getAttribLocation(c,"aPoints");
-1!==b&&(h.bindBuffer(h.ARRAY_BUFFER,a.CB),h.vertexAttribPointer(b,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(b));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,a.qB),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.VH&&(h.bindBuffer(h.ARRAY_BUFFER,a.UA),h.vertexAttribPointer(this.VH,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.VH));h.bindBuffer(h.ARRAY_BUFFER,null);this.VI=new f.I.Wb(this,"matP","mat4");this.UI=new f.I.Wb(this,"matMV","mat4");this.Ap=new f.I.Wb(this,"color",
"vec4");this.zba=new f.I.Wb(this,"samplerFront","sampler");this.YI=new f.I.Wb(this,"pointTexStart","vec2");this.XI=new f.I.Wb(this,"pointTexEnd","vec2");this.aJ=new f.I.Wb(this,"zElevation","float");this.ZI=new f.I.Wb(this,"tileSize","vec2");this.$I=new f.I.Wb(this,"tileSpacing","vec2");this.TI=new f.I.Wb(this,"color2_","vec4");this.WI=new f.I.Wb(this,"outlineThickness","float");this.ds=new f.I.Wb(this,"samplerBack","sampler");this.yba=new f.I.Wb(this,"samplerDepth","sampler");this.Um=new f.I.Wb(this,
"destStart","vec2");this.Tm=new f.I.Wb(this,"destEnd","vec2");this.Xi=new f.I.Wb(this,"srcStart","vec2");this.Al=new f.I.Wb(this,"srcEnd","vec2");this.Cl=new f.I.Wb(this,"srcOriginStart","vec2");this.Bl=new f.I.Wb(this,"srcOriginEnd","vec2");this.Rg=new f.I.Wb(this,"pixelSize","vec2");this.$m=new f.I.Wb(this,"seconds","float");this.Vm=new f.I.Wb(this,"devicePixelRatio","float");this.Xm=new f.I.Wb(this,"layerScale","float");this.Wm=new f.I.Wb(this,"layerAngle","float");this.Zm=new f.I.Wb(this,"layoutStart",
"vec2");this.Ym=new f.I.Wb(this,"layoutEnd","vec2");this.IR=!!(this.Rg.R||this.$m.R||this.ds.R||this.Um.R||this.Tm.R||this.Xi.R||this.Al.R||this.Cl.R||this.Bl.R||this.Vm.R||this.Xm.R||this.Wm.R||this.Zm.R||this.Ym.R);a=e.parameters||[];this.Bp=[];this.xB=this.Rg.R||this.Xi.R||this.Al.R||this.Cl.R||this.Bl.R;this.$G=this.aH=!1;this.Ap.XL();this.TI.XL();this.zba.tD(0);this.ds.tD(1);this.yba.tD(2);this.YI.kg(0,0);this.XI.kg(1,1);this.aJ.Qn(0);this.ZI.kg(0,0);this.$I.kg(0,0);this.Um.kg(0,0);this.Tm.kg(1,
1);this.Xi.kg(0,0);this.Al.kg(0,0);this.Cl.kg(0,0);this.Bl.kg(0,0);this.Rg.kg(0,0);this.Vm.Qn(1);this.Xm.Qn(1);this.Wm.Qn(0);this.$m.Qn(0);this.Zm.kg(0,0);this.Ym.kg(0,0);this.WI.Qn(1);for(const l of a)a=l[2],c=new f.I.Wb(this,l[0],a),"color"===a?c.b_():c.Qn(0),this.Bp.push(c);this.jA?this.TQ(m.hw):(this.zy(m.hw,!0),this.yy(m.KB,!0));m=m.Ph;h.useProgram(m?m.Pc:null)}A(){this.M.deleteProgram(this.Pc);this.Pc=null;this.ja.S8(this);this.M=null;super.A()}Cf(){return this.Pc}Ax(a){return this.Bp[a].wj()}rV(a){for(let c=
0,e=a.length;c<e;++c)if(!this.Bp[c].Z_(a[c]))return!1;return!0}q2(a){for(let c=0,e=a.length;c<e;++c)this.Bp[c].l2(a[c])}sV(a,c,e,b,h,m,g,l,n,p){return this.ds.R||this.Rg.R&&!this.Rg.Gk(h,m)||this.Um.R&&!this.Um.Gk(a.P,a.L)||this.Tm.R&&!this.Tm.Gk(a.$,a.W)||this.Vm.R&&!this.Vm.Wx(g)||this.Xm.R&&!this.Xm.Wx(l)||this.Wm.R&&!this.Wm.Wx(n)||this.Xi.R&&!this.Xi.Gk(c.P,c.L)||this.Al.R&&!this.Al.Gk(c.$,c.W)||this.Cl.R&&!this.Cl.Gk(e.P,e.L)||this.Bl.R&&!this.Bl.Gk(e.$,e.W)||this.Zm.R&&!this.Zm.Gk(b.P,b.L)||
this.Ym.R&&!this.Ym.Gk(b.L,b.W)||this.$m.R&&!this.$m.Wx(p)?!1:!0}K2(a,c,e,b,h,m,g,l,n,p){this.ds.R||(this.Rg.R&&this.Rg.Ik(h,m),this.Um.R&&this.Um.Ik(a.P,a.L),this.Tm.R&&this.Tm.Ik(a.$,a.W),this.Vm.R&&this.Vm.ny(g),this.Xm.R&&this.Xm.ny(l),this.Wm.R&&this.Wm.ny(n),this.Xi.R&&this.Xi.Ik(c.P,c.L),this.Al.R&&this.Al.Ik(c.$,c.W),this.Cl.R&&this.Cl.Ik(e.P,e.L),this.Bl.R&&this.Bl.Ik(e.$,e.W),this.Zm.R&&this.Zm.Ik(b.P,b.L),this.Ym.R&&this.Ym.Ik(b.L,b.W),this.$m.R&&this.$m.ny(p))}zy(a,c){this.aH&&!c||this.jA||
(this.VI.R&&this.VI.Ay(a),this.aH=!0)}J2(){this.aH=!1}yy(a,c){this.$G&&!c||this.jA||(this.UI.R&&this.UI.Ay(a),this.$G=!0)}I2(){this.$G=!1}TQ(a){if(!this.jA)throw Error("not device transform shader");this.VI.Ay(a);a=this.ja;const c=a.Z()/2,e=a.X()/2;a=a.Cs(c,e,a.yf(a.X()),c,e,a.X());this.UI.Ay(a)}J3(a){this.Ap.R&&this.Ap.xy(a[0],a[1],a[2],a[3])}static nx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const f=self.B,a=self.bj.Jl,c=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);f.I.Wb=class{constructor(e,b,h){if(!c.has(h))throw Error("invalid uniform type");this.dc=e;this.M=this.dc.M;this.Ca=b;this.na=h;this.rH="color"===this.na;this.Bh=this.M.getUniformLocation(this.dc.Cf(),b);this.R=!!this.Bh;e=c.get(h);this.Eb=new Float32Array(e);this.Ri=new Float32Array(e)}A(){this.Bh=this.M=this.dc=null}wj(){return this.na}Qn(e){this.R&&
(this.Eb[0]=e,this.Ri.set(this.Eb),this.M.uniform1f(this.Bh,e))}tD(e){this.R&&(this.Eb[0]=e,this.Ri.set(this.Eb),this.M.uniform1i(this.Bh,e))}kg(e,b){this.R&&(this.Eb[0]=e,this.Eb[1]=b,this.Ri.set(this.Eb),this.M.uniform2f(this.Bh,e,b))}b_(){this.R&&(this.Eb[0]=0,this.Eb[1]=0,this.Eb[2]=0,this.Ri.set(this.Eb),this.M.uniform3f(this.Bh,0,0,0))}XL(){this.R&&(this.Eb[0]=1,this.Eb[1]=1,this.Eb[2]=1,this.Eb[3]=1,this.Ri.set(this.Eb),this.M.uniform4f(this.Bh,1,1,1,1))}oo(e){e=Math.fround(e);const b=this.Eb;
b[0]!==e&&(b[0]=e,this.M.uniform1f(this.Bh,e))}ue(e,b){e=Math.fround(e);b=Math.fround(b);const h=this.Eb;if(h[0]!==e||h[1]!==b)h[0]=e,h[1]=b,this.M.uniform2f(this.Bh,e,b)}H3(e,b,h){e=Math.fround(e);b=Math.fround(b);h=Math.fround(h);const m=this.Eb;if(m[0]!==e||m[1]!==b||m[2]!==h)m[0]=e,m[1]=b,m[2]=h,this.M.uniform3f(this.Bh,e,b,h)}xy(e,b,h,m){e=Math.fround(e);b=Math.fround(b);h=Math.fround(h);m=Math.fround(m);const g=this.Eb;if(g[0]!==e||g[1]!==b||g[2]!==h||g[3]!==m)g[0]=e,g[1]=b,g[2]=h,g[3]=m,this.M.uniform4f(this.Bh,
e,b,h,m)}Ay(e){const b=this.Eb;a.aj(b,e)||(f.Bda(b,e),this.M.uniformMatrix4fv(this.Bh,!1,e))}Z_(e){const b=this.Ri;return this.rH?b[0]===Math.fround(e.Pa)&&b[1]===Math.fround(e.Ta)&&b[2]===Math.fround(e.Sa):b[0]===Math.fround(e)}l2(e){const b=this.Ri;this.rH?(b[0]=e.Pa,b[1]=e.Ta,b[2]=e.Sa):b[0]=e}Wx(e){return this.Ri[0]===Math.fround(e)}Gk(e,b){const h=this.Ri;return h[0]===Math.fround(e)&&h[1]===Math.fround(b)}ny(e){this.Ri[0]=e}Ik(e,b){const h=this.Ri;h[0]=e;h[1]=b}}}
{"use strict";const f=self.B,a=self.bj,c=a.Ew,e=a.Jl;f.I.yV=class{constructor(b){this.pn=b;this.KB=e.create();this.hw=e.create();this.$i=this.Fl=null;this.aU=!1;this.JB=c.tf(1,1,1,1);this.Ph=null;this.XJ=new f.Rect;this.clearColor=f.j(f.Ya,0,0,0,0)}};f.I.T3=class{constructor(b){const h=new ArrayBuffer(96);this.na=0;this.pc=b;this.M=b.pn.M;this.al=this.nf=0;this.Ee=null;this.ae=new Float32Array(h,0,16);this.Eo=new Float32Array(h,64,4);this.eT=new Float32Array(h,80,4);this.dB=[]}p_(b){this.na=1;this.nf=
b;this.al=6}MW(){const b=this.M;b.drawElements(b.TRIANGLES,this.al,b.UNSIGNED_SHORT,this.nf)}y_(b){this.na=2;this.Ee=b}$W(){const b=this.M,h=this.Ee;b.bindTexture(b.TEXTURE_2D,h?h.lb:null)}uD(b){this.na=3;b.Vg(this.Eo,0)}OW(){const b=this.Eo,h=this.pc;c.la(h.JB,b);h.Ph.J3(b)}SW(){const b=this.Eo,h=this.pc.Ph;h.TI.R&&h.TI.xy(b[0],b[1],b[2],b[3])}q_(b,h){this.na=4;this.nf=b;this.al=h}NW(){this.M.blendFunc(this.nf,this.al)}z_(b,h){this.na=5;const m=this.Eo;m[0]=0;m[1]=0;m[2]=b;m[3]=h}bX(){const b=this.Eo;
this.M.viewport(b[0],b[1],b[2],b[3])}w_(b){this.na=6;e.la(this.ae,b)}XW(){const b=this.pc,h=b.pn.yo,m=b.Ph,g=this.ae;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.zy(g,!0):p.J2()}e.la(b.hw,g)}t_(b){this.na=7;e.la(this.ae,b)}TW(){const b=this.pc,h=b.pn.yo,m=b.Ph,g=this.ae;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.yy(g,!0):p.I2()}e.la(b.KB,g)}x_(b){this.na=8;this.Ee=b}YW(){const b=this.M,h=this.Ee,m=this.pc;h?(m.Fl=h.Eg,m.$i=h.Oo,m.aU&&m.$i?b.bindFramebuffer(b.FRAMEBUFFER,m.$i):b.bindFramebuffer(b.FRAMEBUFFER,
m.Fl)):(m.Fl=null,m.$i=null,b.bindFramebuffer(b.FRAMEBUFFER,null))}f_(b){this.na=9;b.Vg(this.ae,0)}g_(){this.na=9;const b=this.ae;b[0]=0;b[1]=0;b[2]=0;b[3]=0}FW(){const b=this.M;var h=this.ae;const m=this.pc.clearColor,g=h[0],l=h[1],n=h[2];h=h[3];m.MB(g,l,n,h)||(b.clearColor(g,l,n,h),m.qn(g,l,n,h));b.clear(b.COLOR_BUFFER_BIT)}UW(){const b=this.ae;this.pc.XJ.set(b[0],b[1],b[2],b[3])}LW(){const b=this.M,h=this.pc,m=h.pn.kB;b.useProgram(m.Pc);m.zy(h.hw,!1);m.yy(h.KB,!1);var g=h.XJ;m.YI.R&&m.YI.ue(g.P,
g.L);m.XI.R&&m.XI.ue(g.$,g.W);g=this.ae[0];m.aJ.R&&m.aJ.oo(g);m.Ap.R&&(g=h.JB,m.Ap.xy(g[0],g[1],g[2],g[3]));b.drawArrays(b.POINTS,this.nf/4,this.al);b.useProgram(h.Ph.Pc)}u_(b){this.na=11;this.Ee=b}VW(){var b=this.M;const h=this.pc,m=this.Ee;h.Ph=m;b.useProgram(m.Pc);m.zy(h.hw,!1);m.yy(h.KB,!1);m.Ap.R&&(b=h.JB,m.Ap.xy(b[0],b[1],b[2],b[3]))}v_(){this.na=12}WW(){const b=this.pc.Ph;b.IR&&this.A5(b);b.Bp.length&&this.B5(b)}A5(b){const h=this.M,m=this.ae,g=this.Eo,l=this.eT;if(b.ds.R){const n=this.pc.pn,
p=this.Ee;n.Cm!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.lb:null),n.Cm=p,h.activeTexture(h.TEXTURE0))}b.Rg.R&&b.Rg.ue(m[0],m[1]);b.Um.R&&b.Um.ue(m[2],m[3]);b.Tm.R&&b.Tm.ue(m[4],m[5]);b.Vm.R&&b.Vm.oo(this.al);b.Xm.R&&b.Xm.oo(m[6]);b.Wm.R&&b.Wm.oo(m[7]);b.Xi.R&&b.Xi.ue(m[12],m[13]);b.Al.R&&b.Al.ue(m[14],m[15]);b.Cl.R&&b.Cl.ue(l[0],l[1]);b.Bl.R&&b.Bl.ue(l[2],l[3]);b.Zm.R&&b.Zm.ue(g[0],g[1]);b.Ym.R&&b.Ym.ue(g[2],g[3]);b.$m.R&&b.$m.oo(this.nf)}B5(b){b=b.Bp;const h=this.dB;for(let m=
0,g=b.length;m<g;++m){const l=b[m],n=h[m];l.rH?l.H3(n.Pa,n.Ta,n.Sa):l.oo(n)}}l_(b){this.na=13;this.Ee=b}KW(){const b=this.M,h=this.Ee,m=this.pc.Fl;h!==m&&b.bindFramebuffer(b.FRAMEBUFFER,h);b.invalidateFramebuffer(b.FRAMEBUFFER,[b.COLOR_ATTACHMENT0]);h!==m&&b.bindFramebuffer(b.FRAMEBUFFER,m)}c_(b,h){this.na=16;var m=this.ae;const g=this.pc.pn;m[0]=b.Z();m[1]=b.X();m[2]=h?h.Z():g.Z();m[3]=h?h.X():g.X();m[4]=b.FD()?1:0;m[5]=!0;m=this.dB;f.C(m);m.push(b.Eg);m.push(h?h.Eg:null)}DW(){var b=this.ae,h=this.dB;
const m=this.M;var g=b[0],l=b[1],n=b[2];const p=b[3],q=0!==b[4];b=0!==b[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);b?m.blitFramebuffer(0,0,g,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,h,g+n,0,l,h,g+l,m.COLOR_BUFFER_BIT,m.NEAREST))}B_(b){this.na=17;this.Ee=b}cX(){this.Ee.qC();this.Ee=null}k_(b){this.na=18;this.Ee=b}JW(){this.Ee.IC();this.Ee=null}RW(){const b=
this.pc.Ph,h=this.ae;b.Rg.R&&b.Rg.ue(h[0],h[1]);b.WI.R&&b.WI.oo(h[2])}aX(){const b=this.pc.Ph,h=this.ae;b.Xi.R&&b.Xi.ue(h[0],h[1]);b.Rg.R&&b.Rg.ue(h[4],h[5]);b.ZI.R&&b.ZI.ue(h[6],h[7]);b.$I.R&&b.$I.ue(h[8],h[9])}e_(b){this.na=21;this.nf=b?1:0}EW(){const b=this.M,h=0!==this.nf;h||b.depthMask(!0);b.clear(b.DEPTH_BUFFER_BIT);h||b.depthMask(!1)}r_(b){this.na=22;this.nf=b?1:0}PW(){const b=this.M;0===this.nf?(b.disable(b.DEPTH_TEST),b.depthMask(!1)):(b.enable(b.DEPTH_TEST),b.depthMask(!0))}s_(b){this.na=
23;this.nf=b?1:0}QW(){const b=this.M,h=this.pc,m=h.pn,g=0!==this.nf;h.aU=g;b.activeTexture(b.TEXTURE2);g?(h.$i&&b.bindFramebuffer(b.FRAMEBUFFER,h.$i),b.bindTexture(b.TEXTURE_2D,m.Bg)):(b.bindTexture(b.TEXTURE_2D,null),h.$i&&b.bindFramebuffer(b.FRAMEBUFFER,h.Fl));b.activeTexture(b.TEXTURE0)}j_(){this.na=24}IW(){const b=this.M;b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,1,1);b.stencilOp(b.KEEP,b.KEEP,b.REPLACE);b.colorMask(!1,!1,!1,!1)}i_(){this.na=25}HW(){const b=
this.M;b.colorMask(!0,!0,!0,!0);b.stencilFunc(b.EQUAL,1,1);b.stencilOp(b.KEEP,b.KEEP,b.KEEP)}h_(){this.na=26}GW(){const b=this.M;b.disable(b.STENCIL_TEST)}YL(b,h,m,g,l){this.na=27;this.nf=b?1:0;b=this.ae;b[0]=h;b[1]=m;b[2]=g;b[3]=l}ZW(){const b=this.M,h=this.ae;1===this.nf?(b.enable(b.SCISSOR_TEST),b.scissor(h[0],h[1],h[2],h[3])):b.disable(b.SCISSOR_TEST)}oa(){switch(this.na){case 1:this.MW();break;case 2:this.$W();break;case 3:this.OW();break;case 4:this.NW();break;case 5:this.bX();break;case 6:this.XW();
break;case 7:this.TW();break;case 8:this.YW();break;case 9:this.FW();break;case 10:this.LW();break;case 11:this.VW();break;case 12:this.WW();break;case 13:this.KW();break;case 14:this.UW();break;case 15:this.aX();break;case 16:this.DW();break;case 17:this.cX();break;case 18:this.JW();break;case 19:this.RW();break;case 20:this.SW();break;case 21:this.EW();break;case 22:this.PW();break;case 23:this.QW();break;case 24:this.IW();break;case 25:this.HW();break;case 26:this.GW();break;case 27:this.ZW()}}}}
{"use strict";const f=self.B,a={timeout:60},c=new f.Ya(0,0,0,1),e=new Set(["left","center","right"]),b=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;f.XX&&f.XX.addEventListener("fontload",p=>{p=p.font.ra();for(const q of m)(q.wh||f.Il(q.Nz,p))&&q.Mj()});function g(p,q,u,w,r,v){q?"Gecko"===f.Xc.Nw?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===f.Xc.Nw?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;f.I.VD=class{constructor(p,q){q=Object.assign({},a,q);this.ja=
p;this.Nz="Arial";this.Oz=16;this.Pz=1;this.cp=0;this.cf=this.bf=!1;this.xz="black";this.wh=!1;this.SJ=null;this.$F=new Set;this.Ye="left";this.He="top";this.hb="";this.wu=null;this.gn=f.j(f.LE);this.iJ="word";this.GH=this.rB=!1;this.av=!0;this.Ho=-1;this.O=this.T=this.zG=this.Zq=this.gr=0;this.Oh=1;this.tG=!1;this.uv=this.kl=this.Pd=this.wp=null;this.kS=this.lS=-1;this.CA=this.nS=this.KH="";this.LH=this.MH=1;this.zS=(u,w)=>this.QP(u,w);this.lb=null;this.Sv=this.Uv=0;this.Tf=new f.Rect;this.Gv=1;
this.fI=!1;this.QI=new f.YZ(()=>{this.gi();this.DQ(8,8)},q.timeout);this.YB=null;this.fw=!1;m.add(this)}A(){this.SJ=null;this.$F.clear();this.zS=this.uv=this.kl=this.Pd=this.wp=this.wu=null;this.QI.A();this.YB=null;this.gi();this.gn.hd();this.ja=this.gn=null;this.fw=!0;m.delete(this)}vo(){this.tG=!0}Mj(){this.vo();this.gn.hd();this.rB=!0}CN(){this.av=!1}lg(){return this.av}k2(p){p=!!p;this.wh!==p&&(p=(this.wh=p)?"alphabetic":"top",this.Pd&&(this.Pd.textBaseline=p),this.kl&&(this.kl.textBaseline=p),
this.Mj())}jE(p){p||(p="serif");this.Nz!==p&&(this.Nz=p,this.Mj())}kE(p){.1>p&&(p=.1);this.Oz!==p&&(this.Oz=p,this.Mj())}z2(p){this.Pz!==p&&(this.Pz=p,this.Mj())}GN(p){this.cp!==p&&(this.cp=p,this.vo())}oN(p){p=!!p;this.bf!==p&&(this.bf=p,this.Mj())}EN(p){p=!!p;this.cf!==p&&(this.cf=p,this.Mj())}iE(p){p=Math.floor(p);this.Ho!==p&&(this.Ho=p,this.vo())}wi(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Iq(p,q){return!!this.wi(p,q)}dP(p,q){let u=[];(this.bf||this.Iq(q,
"b"))&&u.push("bold");(this.cf||this.Iq(q,"i"))&&u.push("italic");var w=this.wi(q,"size");w=(w?parseFloat(w.Sh):this.Oz)*this.Pz;p?u.push(w+"pt"):u.push(w*this.Gv*this.Oh*self.devicePixelRatio+"pt");p=this.Nz;(q=this.wi(q,"font"))&&q.Sh&&(p=q.Sh,this.SJ&&!this.$F.has(p)&&(this.SJ(p),this.$F.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}dm(p){p instanceof f.Ya&&(p=p.mca());this.xz!==p&&(this.xz=p,this.vo())}qN(p,q,u){c.ws(p,q,u);this.dm(c)}zN(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.Ye!==p&&(this.Ye=p,this.vo())}TN(p){if(!b.has(p))throw Error("invalid vertical alignment");this.He!==p&&(this.He=p,this.vo())}i3(p){if(!h.has(p))throw Error("invalid word wrap mode");this.iJ!==p&&(this.iJ=p,this.Mj())}Aq(p){this.hb!==p&&(this.hb=p,this.Mj())}ed(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Zq===p&&this.zG===q&&this.Oh===u)){1===this.Oh!==(1===u)&&(this.fI=!0);var w=this.Zq,r=this.Oh;this.Zq=p;this.zG=q;this.Oh=u;p=self.devicePixelRatio;this.T=this.Zq*this.Oh*p;this.O=
this.zG*this.Oh*p;p=Math.max(this.T,this.O);q=Math.min(this.ja.MA,4096);u=1;p>q&&(u=q/p,this.T=Math.min(this.T*u,q),this.O=Math.min(this.O*u,q));this.Gv=u;0<this.Uv&&0<this.Sv&&this.Oh===r&&this.Tf.set(0,0,this.T/this.Uv,this.O/this.Sv);this.Zq!==w?this.Mj():this.vo()}}Z(){return this.T}X(){return this.O}mZ(){this.vF();return this.gn.VY()}lZ(){this.vF();return this.gn.pZ()+this.gn.Dm.length*(this.cp+4)-this.cp}Gd(){this.QI.Yc();this.M7();return this.lb}M7(){this.lb&&!this.tG&&!this.rB||this.GH||0>=
this.T||0>=this.O||(this.tG=!1,this.GH=!0,this.av?f.tn(()=>this.NO()):this.NO())}NO(){this.fw||(this.DQ(Math.ceil(this.T),Math.ceil(this.O)),this.vF(),this.Q5(),this.P$(),this.QI.Yc(),this.GH=!1)}DQ(p,q){this.wp||(this.wp=f.Yg(16,16));let u=!1;if(this.lS!==p||this.kS!==q)this.lS=p,this.kS=q,this.wp.width=p,this.wp.height=q,u=!0;this.Pd||(this.Pd=this.wp.getContext("2d"),u=!0);u?(this.Pd.textBaseline=this.wh?"alphabetic":"top",this.Pd.font=this.KH,this.Pd.fillStyle=this.CA,this.Pd.strokeStyle=this.CA,
this.Pd.globalAlpha=this.MH,this.Pd.lineWidth=this.LH):this.Pd.clearRect(0,0,p,q)}IP(){this.kl||(this.kl=f.Yg(16,16).getContext("2d"),this.uv=f.Yg(16,16).getContext("2d"),this.kl.textBaseline=this.wh?"alphabetic":"top",this.uv.textBaseline="top")}g$(p){this.nS!==p&&(this.nS=p,this.kl.font=p,this.uv.font=p)}LQ(){if(!l){l=!0;this.IP();const p=this.kl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}vF(){this.rB&&(this.IP(),!this.wh||
this.wu&&this.wu.toString()===this.hb||(this.wu=new f.Pl(this.hb,{Rca:!0})),this.gn.LE(this.wh?this.wu.tda():this.hb,this.zS,this.Zq,this.iJ,0),this.rB=!1)}QP(p,q){this.g$(this.dP(!0,q));q=this.wi(q,"size");q=(q?parseFloat(q.Sh):this.Oz)*this.Pz;const u=this.kl.measureText(p);let w=0;this.wh&&this.LQ()&&(w=u.fontBoundingBoxAscent-this.uv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,bg:u.fontBoundingBoxAscent||0,sf:u.fontBoundingBoxDescent||0,vf:w}}Q9(p){this.KH!==p&&(this.KH=
p,this.Pd.font=p)}Vy(p){this.CA!==p&&(this.CA=p,this.Pd.fillStyle=p,this.Pd.strokeStyle=p)}P9(p){this.MH!==p&&(this.MH=p,this.Pd.globalAlpha=p)}uQ(p){this.LH!==p&&(this.LH=p,this.Pd.lineWidth=p)}Q5(){this.gr=0;const p=this.Gv*this.Oh*self.devicePixelRatio,q=(4+this.cp)*p;var u=0;const w=this.gn.Dm;if(0!==w.length){var r=this.wh&&this.LQ(),v=w[0].height*p;"center"===this.He?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.O/2-u/2,0),r&&(v=w[0].vf*p)):"bottom"===this.He&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.cp*p,u=this.O-u-(r?w.Sd(-1).sf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.wh){if(u+=0===y?v:G,0<y&&u>this.O-4*p)break}else if(0<y&&u>=this.O-G)break;0<=z&&this.P5(r,u,p);this.wh||(u+=G);u+=q}}}P5(p,q,u){let w=0;"center"===this.Ye?w=(this.T-p.width*u)/2:"right"===this.Ye&&(w=this.T-p.width*u);for(const r of p.UT)this.O5(r,w,q,u,p.height),w+=r.width*u}O5(p,q,u,w,r){const v=this.Pd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.cp)*w,F=p.cd,H=p.text;if(-1!==this.Ho){if(this.gr>=this.Ho)return;this.gr+H.length>this.Ho&&(H=H.substr(0,this.Ho-this.gr),r=this.QP(H,F).width*w);this.gr+=H.length}var J=this.wi(F,"background"),M=this.Iq(F,"u");p=this.Iq(F,"s");if((!f.KD(H)||J||M||p)&&!this.Iq(F,"hide")){var Q=this.wi(F,"offsetx");q+=Q?parseFloat(Q.Sh)*w:0;Q=this.wi(F,"offsety");u+=Q?parseFloat(Q.Sh)*w:0;J&&(this.Vy(J.Sh),v.fillRect(q,u-A,r,A+z));Q=this.wi(F,"color");this.Vy(Q?Q.Sh:this.xz);z=this.wi(F,"opacity");this.P9(z?
parseFloat(z.Sh)/100:1);z=(z=this.wi(F,"linethickness"))?parseFloat(z.Sh):1;(J=this.Iq(F,"stroke"))&&this.uQ(.5*G*z*this.Gv*this.Oh*self.devicePixelRatio);this.Q9(this.dP(!1,F));g(v,J,H,q,u,r);!J&&(this.uQ(.5*G*z*this.Gv*this.Oh*self.devicePixelRatio),F=this.wi(F,"outline"))&&(this.Vy(F.Sh),g(v,!0,H,q,u,r));this.Vy(Q?Q.Sh:this.xz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}P$(){this.ja.Sn()||(this.Uv=Math.ceil(this.T),this.Sv=
Math.ceil(this.O),this.Tf.set(0,0,this.T/this.Uv,this.O/this.Sv),this.fI&&(this.gi(),this.fI=!1),this.lb||(this.lb=this.ja.LK(this.Uv,this.Sv,{WB:1===this.Oh,xw:"high"})),this.ja.M3(this.wp,this.lb),this.YB&&this.YB())}ai(){return this.Tf}gi(){this.lb&&(this.ja.Sn()||this.ja.fj(this.lb),this.lb=null)}static Hk(){for(const p of m)p.gi()}}}
{"use strict";const f=self.B;class a{constructor(c){this.M=c.M;this.Rc=c.Rc;this.td=c.td;this.Fh=null;this.Su=this.Db=!1;this.aB=0;this.Fh=1===this.Rc?this.td.createQueryEXT():this.M.createQuery()}A(){this.IO();this.td=this.M=null;this.Su=!1}IO(){this.Fh&&(1===this.Rc?this.td.deleteQueryEXT(this.Fh):this.M.deleteQuery(this.Fh),this.Fh=null)}qC(){if(this.Db)throw Error("query already active");1===this.Rc?this.td.beginQueryEXT(this.td.TIME_ELAPSED_EXT,this.Fh):this.M.beginQuery(this.td.TIME_ELAPSED_EXT,
this.Fh);this.Db=!0}IC(){if(!this.Db)throw Error("query not active");1===this.Rc?this.td.endQueryEXT(this.td.TIME_ELAPSED_EXT):this.M.endQuery(this.td.TIME_ELAPSED_EXT);this.Db=!1}xC(){if(this.Fh&&!this.Su&&!this.Db){var c=1===this.Rc?this.td.getQueryObjectEXT(this.Fh,this.td.QUERY_RESULT_AVAILABLE_EXT):this.M.getQueryParameter(this.Fh,this.M.QUERY_RESULT_AVAILABLE);var e=this.M.getParameter(this.td.GPU_DISJOINT_EXT);c&&!e&&(this.aB=1===this.Rc?this.td.getQueryObjectEXT(this.Fh,this.td.QUERY_RESULT_EXT):
this.M.getQueryParameter(this.Fh,this.M.QUERY_RESULT),this.aB/=1E9,this.Su=!0);(c||e)&&this.IO()}}Nx(){return this.Su}Fx(){if(!this.Su)throw Error("no result available");return this.aB}}f.I.V3=class{constructor(c){this.ja=c;this.uh=c.uh;this.Db=!1;this.Hm=null;this.Am=!1;this.Mr=null;this.mp=[]}A(){for(const c of this.mp)c instanceof a&&c.A();f.C(this.mp);this.ja=this.Mr=this.Hm=null}qC(){if(this.Db)throw Error("query already active");const c=this.ja.kT;0<c.length?(this.Am=!0,this.Hm=c.Sd(-1),this.Hm.SO(),
this.Hm.mp.push(this)):(this.Am=!1,this.Hm=null);this.Db=!0;c.push(this);this.JQ()}IC(){if(!this.Db)throw Error("query not active");if(this.ja.kT.pop()!==this)throw Error("can only end most nested query");this.Db=!1;this.SO();this.Hm&&(this.Hm.JQ(),this.Hm=null)}JQ(){this.Mr=f.j(a,this.ja);this.mp.push(this.Mr);this.Mr.qC()}SO(){this.Mr.IC();this.Mr=null}xC(){for(const c of this.mp)c.xC()}Nx(){return this.mp.every(c=>c.Nx())}Fx(){return this.mp.reduce((c,e)=>c+e.Fx(),0)}}}
{"use strict";const f=self.B;f.I.jO=class{constructor(a,c=1E3){this.ja=a;this.bba=c;this.Qj=[];this.ja.l4(this)}A(){this.hd();this.ja.Q8(this);this.ja=null}hd(){for(const a of this.Qj)a.A();f.C(this.Qj)}oC(){const a=new f.I.V3(this.ja);this.Qj.push(a);this.Qj.length>this.bba&&this.Qj.shift().A();return a}QV(a){for(const c of this.Qj){if(c.uh>=a)break;if(c.Am)break;c.xC()}}tL(a,c){if(c<=a)return NaN;let e=0;for(const b of this.Qj){if(b.uh>=c)break;if(!(b.uh<a))if(b.Nx())e+=b.Fx();else return NaN}return e}RK(a){for(let c=
0,e=this.Qj.length;c<e;++c){const b=this.Qj[c];if(b.uh<a)b.A();else{0<c&&this.Qj.splice(0,c);break}}}}}
{"use strict";const f=self.B,a=self.bj,c=a.Ew,e=a.Jl,b={powerPreference:"default",TT:!0,alpha:!1,MJ:!1,depth:!1,rJ:!1,gU:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new f.nd(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),n=new f.nd,p=new f.Rect;let q=null;f.pw&&(self.wla=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.xla=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Nba()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}f.I.U3=class extends f.I.K1{constructor(v,y){super();y=Object.assign({},b,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.MJ&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.gU&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.M=G;this.ZQ=G.getContextAttributes();y.MJ&&!this.ZQ.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Rc=z;this.Zf=c.create();this.vm=!1;this.kz=e.create();this.El=!!y.depth;this.zu=!(!y.depth||!y.rJ);this.Vo=this.El;this.sH=!1;this.Bg=null;this.qH=!0;this.kR=this.lR=0;this.UA=this.TR=this.qB=this.CB=null;this.cw=
new Float32Array(24E3);this.UR=new Uint16Array(12E3);this.vp=new Float32Array(16E3);this.MS=new Float32Array(32E3);this.oS=this.VA=this.he=this.Nh=0;this.qp=this.$o=null;this.vu=[];this.Pb=this.om=0;this.Id=null;this.pc=f.j(f.I.yV,this);this.nv=f.j(f.Ya,1,1,1,1);this.Cm=this.il=null;this.HH=this.JH=0;this.Vaa=new f.Rect;this.BA=f.j(f.Rect,0,0,-1,-1);this.MA=-1;this.$H=0;this.$v="(unavailable)";this.wH=!1;this.Iu=this.ou=this.kI=null;this.ZH=0;this.Saa=!!y.TT;this.td=null;this.ez=new Set;this.kT=[];
this.SX(this.UR)}fi(){return!0}async Rx(){super.Rx();var v=this.M;this.nv.qn(1,1,1,1);this.Cm=this.il=null;this.VA=this.Nh=0;this.oS=23988;f.C(this.vu);this.Pb=this.om=0;this.Id=this.$o=null;this.Vaa.set(0,0,1,1);var y=this.pc;y.Ph=null;y.Fl=null;y.$i=null;c.set(y.JB,1,1,1,1);y.clearColor.qn(0,0,0,0);y.XJ.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.JH=v.ONE;this.HH=v.ONE_MINUS_SRC_ALPHA;this.P6(v);v.disable(v.CULL_FACE);
v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.El?(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Vo=this.El;this.sH=!1;this.UA=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.UA);v.bufferData(v.ARRAY_BUFFER,this.MS.byteLength,v.DYNAMIC_DRAW);this.CB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.CB);v.bufferData(v.ARRAY_BUFFER,this.cw.byteLength,v.DYNAMIC_DRAW);this.qB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.qB);v.bufferData(v.ARRAY_BUFFER,
this.vp.byteLength,v.DYNAMIC_DRAW);this.TR=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.TR);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.UR,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.MA=v.getParameter(v.MAX_TEXTURE_SIZE);this.$H=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.$H&&(this.$H=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.$v=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.kI=v.getExtension("KHR_parallel_shader_compile");
f.pw&&(q=v.getExtension("WEBGL_lose_context"));if(this.Saa)if(1===this.Rc){if("Chromium"!==f.Xc.Nw||81<=f.Xc.sC||"undefined"!==typeof document)this.td=v.getExtension("EXT_disjoint_timer_query")}else this.td=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.ZH=(this.ou=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.ou.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Rc&&this.El&&this.zu&&(this.Iu=v.getExtension("WEBGL_depth_texture"),
!this.Iu))throw Error("no depth texture support");2>this.Rc&&v.getExtension("EXT_frag_depth");v=f.I.Nt;y=v.nx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.nx(!0),"<tilemap>"]].map(A=>this.CC({src:A[0]},A[1],A[2])));this.lB=v[0];this.qp=v[1];this.kB=v[2];this.EI=v[3];this.Hj()}async CC(v,y,A){v=await f.I.Nt.Ja(this,v,y,A);this.m4(v);return v}Q1(){this.$o=null}ed(v,y,A){if(this.T!==v||this.O!==y||A){this.gj();A=this.M;var G=this.pc;this.T=v;this.O=y;this.GQ(v,y);this.vn(this.kz,v/y);this.io(this.kz);this.qp&&(A.useProgram(this.qp.Cf()),this.qp.TQ(this.LA),this.$o=this.qp,this.pc.Ph=this.qp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Cm=this.il=null;this.El&&this.qH&&this.GF(this.T,this.O);this.Id&&this.Id.gQ(this.T,this.O);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Id=null;G.Fl=null;G.$i=null}}GF(v,y){const A=this.M;this.Bg&&this.lR===v&&this.kR===y||(this.zu?(this.Bg&&A.deleteTexture(this.Bg),this.Bg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Bg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Rc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Iu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Iu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Bg&&A.deleteRenderbuffer(this.Bg),this.Bg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Bg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Rc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.lR=v,this.kR=y)}y2(v,y){this.El&&(this.qH=!1,this.GF(v,y))}j2(){this.El&&(this.qH=!0,this.GF(this.T,this.O))}GQ(v,y){const A=this.Zf;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.lc().z_(v,y),c.set(A,0,0,v,y),this.Pb=0}lE(v){super.lE(v);this.vn(this.kz,this.T/this.O)}io(v){e.aj(this.LA,v)||(this.lc().w_(v),e.la(this.LA,v),this.Pb=0,this.vm=!0)}tN(){let v,y;var A=this.Id;
null===A?(v=this.kz,y=this.Z(),A=this.X()):(v=A.fZ(),y=A.Z(),A=A.X());this.io(v);this.GQ(y,A)}uq(v){e.aj(this.XH,v)||(this.lc().t_(v),e.la(this.XH,v),this.Pb=0,this.vm=!0)}O1(){this.vm=!1}lc(){const v=this.vu;this.om===v.length&&v.push(new f.I.T3(this.pc));return v[this.om++]}gj(){0===this.om||this.Sn()||(this.Y$(),this.T5(),this.Pb=this.VA=this.he=this.Nh=this.om=0)}Y$(){const v=this.M;0<this.VA&&(v.bindBuffer(v.ARRAY_BUFFER,this.UA),v.bufferSubData(v.ARRAY_BUFFER,0,this.MS.subarray(0,this.VA)));
0<this.Nh&&(v.bindBuffer(v.ARRAY_BUFFER,this.CB),v.bufferSubData(v.ARRAY_BUFFER,0,this.cw.subarray(0,this.Nh)),v.bindBuffer(v.ARRAY_BUFFER,this.qB),v.bufferSubData(v.ARRAY_BUFFER,0,this.vp.subarray(0,this.he)))}T5(){const v=this.vu;for(let y=0,A=this.om;y<A;++y)v[y].oa()}Dd(){return this.nv.Ra}Te(v,y,A,G){const z=this.nv;z.MB(v,y,A,G)||(z.qn(v,y,A,G),this.lc().uD(z),this.Pb=0,this.Gi=null)}ki(v){const y=this.nv;y.Ra!==v&&(y.us(v),this.lc().uD(y),this.Pb=0,this.Gi=null)}dm(v){const y=this.nv;y.bd(v)||
(y.set(v),this.lc().uD(y),this.Pb=0,this.Gi=null)}ut(){this.Te(1,1,1,1)}If(v){v!==this.il&&(this.lc().y_(v),this.il=v,this.Pb=0)}yF(){this.il=null}Hf(v){v=this.o6(v);this.FF(v[0],v[1])}FF(v,y){if(v!==this.JH||y!==this.HH)this.lc().q_(v,y),this.JH=v,this.HH=y,this.Pb=0,this.Gi=null}nN(){this.FF(this.M.ONE,this.M.ONE_MINUS_SRC_ALPHA)}hE(){this.FF(this.M.ONE,this.M.ZERO)}Rect(v){this.TM(v.P,v.L,v.$,v.W)}TM(v,y,A,G){this.t1(v,y,A,y,A,G,v,G)}St(){let v=this.Nh;v>=this.oS&&(this.gj(),v=0);1===this.Pb?this.vu[this.om-
1].al+=6:(this.lc().p_(v),this.Pb=1)}SF(v){v.Fda(this.cw,this.Nh,this.tu+this.Hu);this.Nh+=12}nd(v){this.St();this.SF(v);m.Vg(this.vp,this.he);this.he+=8}t1(v,y,A,G,z,F,H,J){this.St();const M=this.cw;let Q=this.Nh;const R=this.tu+this.Hu;M[Q++]=v;M[Q++]=y;M[Q++]=R;M[Q++]=A;M[Q++]=G;M[Q++]=R;M[Q++]=z;M[Q++]=F;M[Q++]=R;M[Q++]=H;M[Q++]=J;M[Q++]=R;this.Nh=Q;m.Vg(this.vp,this.he);this.he+=8}kq(v,y){this.St();this.SF(v);y.Eda(this.vp,this.he);this.he+=8}u1(v,y){this.St();this.SF(v);y.Vg(this.vp,this.he);
this.he+=8}ey(v,y,A,G,z,F,H,J,M,Q,R,T,Z){this.St();const X=this.cw;let ba=this.Nh;const Y=this.tu+this.Hu;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=Q;X[ba++]=R;X[ba++]=Y+T;this.Nh=ba;Z.Vg(this.vp,this.he);this.he+=8}ZX(v,y){e.la(g,this.LA);e.la(l,this.XH);this.tN();const [A,G]=this.Vs(this.Id);var z=this.Cs(0,0,this.yf(G),0,0,G);this.uq(z);if("crop"===v&&this.Id&&y){v=this.T/2;z=this.O/2;const J=y.Z();y=y.X();var F=this.Id.Z(),H=this.Id.X();
F=Math.min(F,J);const M=Math.min(H,y),Q=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.dj(p);p.set(0,Q,F,M+Q);p.Gl(J,y);this.kq(n,p)}else v=A/2,z=G/2,this.TM(-v,z,v,-z);this.io(g);this.uq(l)}yq(v){this.$o!==v&&(this.lc().u_(v),this.$o=v,this.Pb=0,this.Gi=null)}NN(v,y,A,G,z,F,H,J,M,Q,R,T){const Z=this.$o;var X=Z.IR;const ba=!!T.length;if(X&&!Z.sV(y,A,G,z,F,H,J,M,Q,R)||ba&&!Z.rV(T)){var Y=this.lc();Y.v_();X&&(Z.K2(y,A,G,z,F,H,J,M,Q,R),X=Y.ae,X[0]=F,X[1]=H,y.Vg(X,2),X[6]=M,X[7]=Q,A.Vg(X,
12),y=Y.Eo,z.Vg(y,0),z=y[1],y[1]=y[3],y[3]=z,G.Vg(Y.eT,0),Y.nf=R,Y.al=J,Y.Ee=Z.ds.R?v?v.Gd():null:null);ba&&(Z.q2(T),f.Ec(Y.dB,T));this.Pb=0}}yn(){this.lc().g_();this.Pb=0}hd(v){this.lc().f_(v);this.Pb=0}Jt(){}Np(){super.Np();this.M.flush()}RV(){this.El&&this.Id&&this.Id.Kc&&(this.lc().e_(this.Vo),this.Pb=0)}pg(v){v=!!v;this.Vo!==v&&this.El&&(this.Vo=v,this.lc().r_(v),this.Pb=0)}zt(v){v=!!v;if(this.zu&&this.sH!==v){if(v&&this.Vo)throw Error("depth still enabled");this.sH=v;this.lc().s_(v);this.Pb=
0}}R2(v,y,A,G,z=0){v=Math.floor(v);y=Math.floor(y);A=Math.floor(A);G=Math.floor(G);this.BA.gca(v,y,A,G)||(this.BA.Ug(v,y,A,G),y=(z||this.Vs(this.sj())[1])-y-G,this.lc().YL(!0,v,y,A,G),this.Pb=0)}VM(){-1!==this.BA.$&&(this.BA.set(0,0,-1,-1),this.lc().YL(!1,0,0,0,0),this.Pb=0)}PV(){for(const v of this.ez)v.QV(this.uh)}Sn(){return!this.M||this.M.isContextLost()||this.wH}Hk(){super.T0();f.I.Cy.Hk();f.I.kO.Hk();f.I.VD.Hk();for(const v of this.ez)v.hd();this.Iu=this.ou=this.kI=this.td=null;this.ZH=0;this.$v=
"(unavailable)";this.Bg=this.qp=this.$o=null;for(const v of this.Ov.values())v.Hk()}async QD(){this.wH=!0;await this.Rx();this.wH=!1;for(const v of this.Ov.values())v.QD(this);this.ed(this.T,this.O,!0)}NK(v,y){if(this.Sn())throw Error("context lost");this.gj();const A=f.j(f.I.Cy,this);A.U4(v,y);return A}async DC(v,y){if(this.Sn())throw Error("context lost");y=Object.assign({},y);if(f.tb.ImageBitmapOptions){let A=await createImageBitmap(v,{premultiplyAlpha:"premultiply"});const G=y.iC&&"clamp-to-edge"!==
y.iC||y.jC&&"clamp-to-edge"!==y.jC,z=f.Rh(A.width)&&f.Rh(A.height);this.lo()||z||!G?y.premultiplyAlpha=!1:f.tb.Px?(A=await createImageBitmap(v,{premultiplyAlpha:"premultiply",resizeWidth:f.XB(A.width),resizeHeight:f.XB(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(v,{premultiplyAlpha:"none"});return await f.tn(()=>this.NK(A,y))}if(v instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");v=await f.DV(v)}return await f.tn(()=>this.NK(v,
y))}LK(v,y,A){this.gj();const G=f.j(f.I.Cy,this);G.H4(v,y,A);return G}M3(v,y){this.gj();y.OQ(v,void 0)}fj(v){v&&(v.w3(),0<v.Bc||(this.gj(),v===this.il&&(this.M.bindTexture(this.M.TEXTURE_2D,null),this.il=null),v===this.Cm&&(this.M.activeTexture(this.M.TEXTURE1),this.M.bindTexture(this.M.TEXTURE_2D,null),this.M.activeTexture(this.M.TEXTURE0),this.Cm=null),v.ZE()))}pW(v){let y=this.T,A=this.O,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||
0>=A)throw Error("invalid size");this.gj();const z=f.j(f.I.kO,this);z.G4(y,A,Object.assign({$T:G},v));this.Id=null;this.pc.Fl=null;this.pc.$i=null;return z}qg(v,y=!0){v!==this.Id&&(v&&v.iA&&v.gQ(this.T,this.O),this.lc().x_(v),this.Id=v,this.Pb=0,y&&this.tN())}sj(){return this.Id}Vs(v){return v?[v.Z(),v.X()]:[this.T,this.O]}IK(v){2>this.Rc||this.Id&&0<this.Id.ll?(this.hE(),this.ut(),this.bx(v,"stretch")):(this.lc().c_(v,this.Id),this.Pb=0)}bx(v,y="stretch"){v=v.Gd();if(!v)throw Error("not a texture-backed render target");
this.If(v);this.ZX(y,v)}Zp(v){2>this.Rc||(this.lc().l_(v.Eg),this.Pb=0)}BW(v){this.qg(null);this.gj();const y=v.Gd();y===this.il&&(this.M.bindTexture(this.M.TEXTURE_2D,null),this.il=null);y===this.Cm&&(this.M.activeTexture(this.M.TEXTURE1),this.M.bindTexture(this.M.TEXTURE_2D,null),this.M.activeTexture(this.M.TEXTURE0),this.Cm=null);v.ZE()}HK(){this.pg(!0);this.lc().j_();this.Pb=0}GK(){this.pg(!1);this.lc().i_();this.Pb=0}FK(){this.pg(!0);this.lc().h_();this.Pb=0}DE(v){this.Ij()&&(this.lc().B_(v),
this.Pb=0)}HC(v){this.Ij()&&(this.lc().k_(v),this.Pb=0)}U$(v){const y=new Promise(A=>u.add({resolve:A,Nba:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}P_(){return!!this.ZQ.desynchronized}pY(){let v=0;for(const y of f.I.Cy.Eba())v+=y.YC();return v}lo(){return 2<=this.Rc}Ij(){return!!this.td}l4(v){this.ez.add(v)}Q8(v){this.ez.delete(v)}P6(v){this.O6([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const f={VT:null,WT:null,rU:null,getTime:null,qU:null};self.B.I.IX=class{constructor(a){a=Object.assign({},f,a);this.eR=a.VT;this.raa=a.WT;this.uaa=a.rU;this.saa=a.getTime;this.taa=a.qU}lL(a){return this.eR?this.eR(a):[a.Z(),a.X()]}sj(a){return this.raa(a)}B1(a,c){this.uaa(a,c)}xa(){return this.saa()}gy(a){this.taa(a)}}}
{"use strict";const f=self.B,a=self.bj.Jl,c=f.j(f.Rect),e=f.j(f.Rect),b=f.j(f.Rect),h=f.j(f.Rect),m=a.create(),g=a.create(),l={LB:null,XT:null,QB:null,GJ:!1},n={ls:null,OB:!1,yJ:!1,HJ:!1,LJ:!1,bU:!1,fC:!1},p={HB:null,pla:null,jn:0,devicePixelRatio:1,qw:1,UB:0,rs:null,kw:null,RT:null,KT:0,LT:0,OU:!1};f.I.le=class{constructor(q,u){u=Object.assign({},l,u);this.Jg=q;this.qG=u.LB;this.Bu=u.XT;this.fR=u.QB;this.sz=null;this.eB=[];this.Hv=[];this.up=[];this.xg=0;this.an=this.Au=this.mR=this.vm=this.gA=this.pH=
!1;this.gp=0;this.sl=[null,null,null];this.ZR=!!u.GJ;this.yc=this.Lc=this.Rq=this.Qq=0;this.tm=null;this.ov=f.j(f.Rect);this.Sj=f.j(f.Rect);this.rl=f.j(f.Rect);this.Lr=f.j(f.Rect);this.Lm=f.j(f.Rect);this.EA=this.um=1;this.ad=this.NH=0;this.Dz=null;this.xG=this.wG=0;this.bJ=!1;this.bk=a.create();this.wv=a.create()}A(){f.C(this.up);f.C(this.eB);f.C(this.Hv);this.fR=this.Bu=this.qG=this.tm=null}tC(q,u){u=Object.assign({},n,u);f.C(this.up);this.Rq=this.Qq=0;this.gA=this.pH=!1;this.gp=0;this.an=!!u.fC;
f.Ec(this.eB,q);if(0!==q.length){if(u.ls){if(u.ls.length!==q.length)throw Error("incorrect indexMap length");f.Ec(this.Hv,u.ls)}else{f.C(this.Hv);for(let v=0,y=q.length;v<y;++v)this.Hv.push(v)}for(var w of q)this.Qq+=w.rR,this.Rq+=w.sR,w.daa&&(this.pH=!0),w.yB&&(this.gA=!0);w=q[0];if(1!==q.length||w.lG||w.jR||!u.fC&&(0!==w.rR||0!==w.sR)||u.OB||w.fq()||u.yJ||u.HJ||!this.an&&w.yB||w.cb().fi()&&w.xB&&u.LJ){this.Au=!1;w=this.u$(w,u);u=this.t$(q.Sd(-1),u);var r=0;w&&(this.gp=1,this.up.push(f.j(f.I.le.jh.l1,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.gp=Math.max(this.gp,q),this.up.push(f.j(f.I.le.jh.EV,this,r,q,v)),r=q):(this.gp=1,this.up.push(f.j(f.I.le.jh.WX,this,-1,1,v)),r=1);u&&this.up.push(f.j(f.I.le.jh.j1,this,r,0))}else this.Au=!0}}u$(q,u){const w=q.cb().fi()&&u.LJ;return u.OB||u.HJ||!this.an&&q.yB||q.fq()||q.lG&&(u.bU||w)||w&&q.xB||0!==this.Qq||0!==this.Rq}t$(q,u){return u.yJ||q.lG||q.jR}fo(q,u,w){w=Object.assign({},p,w);this.Dz=u;this.tm=w.HB;
this.xg=w.jn;this.um=w.devicePixelRatio;this.EA=w.qw;this.NH=w.UB;this.ad=this.Jg.xa();this.vm=!1;q.O1();this.pH&&this.B8();if(this.Au)this.U8(q,w);else{var [r,v]=this.Jg.lL(q);this.R9(q,r,v);this.z4(w);q.ut();q.qq(0);q.yt(0);this.sz=w.RT;this.wG=w.KT||0;this.xG=w.LT||0;this.bJ=!!w.OU;this.X7(q);this.sl[0]=u;this.sl[1]=1<=this.gp?this.jP():null;this.sl[2]=2===this.gp?this.jP():null;for(const y of this.up)y.wt(q,this.kP(y.tba),this.kP(y.nR));this.sl[1]&&this.bQ(this.sl[1]);this.sl[2]&&this.bQ(this.sl[2]);
this.sl.fill(null);this.W7(q);this.sz=this.tm=this.Dz=null}}R9(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.Lc===u&&this.yc===w||this.wO(q,u,w,0,0,this.bk,this.wv);this.Lc=u;this.yc=w}wO(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.vn(y,u/w);q=q.Cs(r,v,q.yf(w),r,v,w);a.la(A,q)}z4(q){this.ov.la(q.rs);q.kw?this.Sj.la(q.kw):this.Sj.set(0,0,this.Lc,this.yc);this.rl.la(this.Sj);this.rl.Gl(this.Lc,this.yc);q=q.qw*q.devicePixelRatio;this.Sj.SB(this.Qq*q,this.Rq*q);this.Lm.la(this.Sj);this.Lm.Gl(this.Lc,
this.yc);this.Sj.aa(0,0,this.Lc,this.yc);this.Lr.la(this.Sj);this.Lr.Gl(this.Lc,this.yc)}X7(q){this.mR=q.Vo;if(this.an)q.pg(!1),this.gA&&q.zt(!0);else{c.la(this.Sj);if(q.fi()){const u=this.EA*this.um;c.SB(Math.max(this.Qq,1)*u,Math.max(this.Rq,1)*u);c.uU();c.aa(0,0,this.Lc,this.yc)}else c.uU();q.R2(c.P,c.L,c.width(),c.height(),this.yc)}}V7(q){q.ut();this.an||(q.pg(!1),this.gA&&q.zt(!0))}W7(q){q.zt(!1);q.pg(this.mR);this.an||q.VM();this.vm=q.vm}yO(){this.Lm.aa(0,0,1,1)}kP(q){return 0>q?null:this.sl[q]}jP(){return this.Jg.sj(this)}bQ(q){this.Jg.B1(q,
this)}D6(q){return this.eB[q]}bF(q){this.sz?this.sz(this,q,()=>this.qG(q,this)):this.qG(q,this);this.Au||this.V7(q)}g7(q){if(this.an)return!0;if(0!==this.wG||0!==this.xG)return!1;const [u,w]=q.Vs(q.sj());return u!==this.Lc||w!==this.yc?!1:!0}tQ(q,u){let w=this.bk,r=this.wv;if(u&&!this.g7(q)){w=m;r=g;const [v,y]=q.Vs(q.sj());this.wO(q,v,y,this.wG,this.xG,w,r);this.an||q.VM()}q.io(w);q.uq(r)}B8(){this.Jg.gy(this)}pP(q){return this.fR(this.Hv[q])}h$(q,u){let w=this.Lm,r=this.Lr,v=this.rl;q.fi()&&(e.la(w),
e.mn(),w=e,b.la(r),b.mn(),r=b,h.la(v),h.mn(),v=h);this.MO(q,u,r,v,w,1/this.Lc,1/this.yc)}T9(q,u){let w=this.Lr,r=this.rl,v=1/this.Lc,y=1/this.yc;if(this.Bu){let {FU:G,GU:z,EU:F}=this.Bu(this.tm);G||(c.set(0,0,0,0),G=c);z||(z=this.Lc);F||(F=this.yc);r=w=G;v=1/z;y=1/F}else q.fi()&&(b.la(w),b.mn(),w=b,h.la(r),h.mn(),r=h);let A=this.Lm;q.fi()&&(A=e,A.la(this.Lm),A.mn());this.MO(q,u,w,r,A,v,y)}MO(q,u,w,r,v,y,A){u=this.pP(u);q.NN(this.Dz,v,w,r,this.ov,y,A,this.um,this.EA,this.NH,this.ad,u)}U8(q,u){var w=
this.eB[0];const r=q.Vo,v=w.yB;v&&(q.pg(!1),q.zt(!0),this.Lm.set(0,0,1,1),this.rl.set(0,0,1,1));q.yq(w);q.Hf(this.xg);q.qg(this.Dz);let y;this.rl.set(0,0,1,1);if(w.xB&&this.Bu){const {FU:A,GU:G,EU:z}=this.Bu(this.tm);A&&this.rl.la(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Jg.lL(q);w=1/A;y=1/G}u.rs?this.ov.la(u.rs):this.ov.set(0,0,0,0);u=this.pP(0);q.NN(null,this.Lm,this.rl,this.rl,this.ov,w,y,this.um,this.EA,this.NH,this.ad,u);q.qq(0);this.bF(q);v&&(q.zt(!1),q.pg(r))}}}"use strict";
self.B.I.le.jh=class{constructor(f,a,c,e=-1){this.ph=f;this.tba=a;this.nR=c;this.Ia=e}Wh(){return this.ph}Da(){return this.Ia}Cf(){return this.Wh().D6(this.Da())}wt(){}};{"use strict";const f=self.B;f.I.le.jh.l1=class extends f.I.le.jh{constructor(a,c,e,b){super(a,c,e,b)}wt(a,c,e){c=this.Wh();a.nN();a.Hj();a.qg(e,c.bJ);a.yn();c.bF(a);c.yO()}}}
{"use strict";const f=self.B,a=f.j(f.Rect),c=f.j(f.nd);f.I.le.jh.j1=class extends f.I.le.jh{constructor(e,b,h,m){super(e,b,h,m)}wt(e,b,h){const m=this.Wh();e.Hj();e.qg(h);m.tQ(e,!0);e.Hf(m.xg);e.If(b.Gd());c.dj(m.Sj);a.la(m.Lr);a.mn();e.kq(c,a);m.ZR&&e.Zp(b)}}}{"use strict";const f=self.B;f.I.le.jh.WX=class extends f.I.le.jh{constructor(a,c,e,b){super(a,c,e,b)}wt(a,c,e){c=this.Wh();a.qg(e,c.bJ);a.yn();a.hE();a.yq(this.Cf());c.T9(a,this.Da());c.bF(a);c.yO()}}}
{"use strict";const f=self.B,a=f.j(f.Rect),c=f.j(f.nd);f.I.le.jh.EV=class extends f.I.le.jh{constructor(e,b,h,m){super(e,b,h,m)}wt(e,b,h){const m=this.Wh();e.qg(h);(h=0===this.nR)?e.Hf(m.xg):(e.yn(),e.hE());e.yq(this.Cf());m.h$(e,this.Da());e.If(b.Gd());m.tQ(e,h);c.dj(m.Sj);a.la(m.Lr);a.mn();e.kq(c,a);m.ZR&&e.Zp(b)}}}
{"use strict";let f=null;const a=new Set;let c=!1;self.TZ=class{constructor(e){f=e;Object.defineProperties(this,{pca:{value:{},writable:!1},storage:{value:new self.VZ(f),writable:!1},qma:{value:f.dl,writable:!1}});f.Rd.addEventListener("keydown",b=>{a.has(b.key)?b.stopPropagation():a.add(b.key)});f.Rd.addEventListener("keyup",b=>a.delete(b.key));f.jc().addEventListener("window-blur",()=>a.clear());f.dl&&(self.alert=b=>{c||(c=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(b)})}S6(e){Object.defineProperties(this.pca,e)}addEventListener(e,b){f.Rd.addEventListener(e,b)}removeEventListener(e,b){f.Rd.removeEventListener(e,b)}get ST(){return f.VC()}random(){return f.lq()}get VB(){return f.Mb().Vu}get keyboard(){const e=f.vG.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get hU(){const e=f.vG.hU;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get HU(){const e=f.vG.HU;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return f.jq("runtime","alert",{message:e+(f.dl?" [via Web Worker]":"")})}}}"use strict";self.MZ=class{constructor(){}};{"use strict";const f=self.Xg;self.VZ=class{constructor(a){this.Pv=a.A6()}getItem(a){f.od(a);return this.Pv.getItem(a)}setItem(a,c){f.od(a);return this.Pv.setItem(a,c)}removeItem(a){f.od(a);return this.Pv.removeItem(a)}clear(){return this.Pv.clear()}keys(){return this.Pv.keys()}}}
{"use strict";const f=self.Xg,a=new WeakMap;self.SZ=class{constructor(c){a.set(this,c);Object.defineProperties(this,{name:{value:c.ra(),writable:!1}});c.G().GP(this,c)}addEventListener(c,e){f.od(c);f.Dj(e);a.get(this).Rd.addEventListener(c,e)}removeEventListener(c,e){f.od(c);f.Dj(e);a.get(this).Rd.removeEventListener(c,e)}*ZT(){for(const c of a.get(this).ma())yield c.ah()}uJ(c){f.Gf(void 0);f.Gf(void 0);if("number"!==typeof c&&"string"!==typeof c)throw new TypeError("invalid layer parameter");var e=
a.get(this);const b=e.G();c=b.Mb().da(c);if(!c)throw Error("invalid layer");e=b.AC(e,c,void 0,void 0,void 0);c=b.fa();c.je(!0);e.az();c.je(!1);c.it()||b.ud();return e.ah()}}}
{"use strict";const f=self.Xg,a=new WeakMap;self.RZ=class{constructor(c){a.set(this,c);const e=[],b=c.Ha,h=b.fg().length;for(let m=0;m<h;++m)e.push(new self.sD(b,m));Object.defineProperties(this,{name:{value:c.ra(),writable:!1},index:{value:c.Da(),writable:!1}})}addEventListener(c,e){f.od(c);f.Dj(e);a.get(this).Rd.addEventListener(c,e)}removeEventListener(c,e){f.od(c);f.Dj(e);a.get(this).Rd.removeEventListener(c,e)}get width(){return a.get(this).Z()}set width(c){a.get(this).pi(c)}get height(){return a.get(this).X()}set height(c){a.get(this).ji(c)}set scale(c){f.ii(c);
a.get(this).pE(c)}get scale(){return a.get(this).Nd}set angle(c){f.ii(c);a.get(this).wd(c)}get angle(){return a.get(this).Na()}set scrollX(c){f.Gf(c);a.get(this).mi(c)}get scrollX(){return a.get(this).Af()}set scrollY(c){f.Gf(c);a.get(this).ni(c)}get scrollY(){return a.get(this).Bf()}scrollTo(c,e){f.Gf(c);f.Gf(e);const b=a.get(this);b.mi(c);b.ni(e)}*kJ(){for(const c of a.get(this).kJ())yield c.Yz}set nU(c){f.od(c);const e=a.get(this);if("perspective"===c)e.MN();else if("orthographic"===c)e.JN();else throw Error("invalid projection");
}get nU(){return a.get(this).df?"orthographic":"perspective"}}}
{"use strict";const f=self.B,a=self.Xg,c=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),b=new Map([...e.entries()].map(m=>[m[1],m[0]])),h=f.j(f.Ya);self.QZ=class{constructor(m){c.set(this,m);const g=[],l=m.Ha,n=l.fg().length;for(let p=0;p<n;++p)g.push(new self.sD(l,p));Object.defineProperties(this,{name:{value:m.ra(),writable:!1},index:{value:m.Da(),
writable:!1},VB:{value:m.Ub().Vu,writable:!1}})}*UJ(){for(const m of c.get(this).UJ())yield m.Yz}get isVisible(){return c.get(this).yr}set isVisible(m){c.get(this).hh(m)}get opacity(){return c.get(this).Dd()}set opacity(m){m=f.aa(+m,0,1);isNaN(m)||c.get(this).ki(m)}set scale(m){a.ii(m);c.get(this).KN(m)}get scale(){return c.get(this).Nd}set angle(m){a.ii(m);c.get(this).wd(m)}get angle(){return c.get(this).Nf}set Gw(m){a.ii(m);c.get(this).Ue(m)}get Gw(){return c.get(this).Za()}set jn(m){a.od(m);m=
e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");c.get(this).Hf(m)}get jn(){return b.get(c.get(this).hj())}set backgroundColor(m){a.YD(m);if(3>m.length)throw Error("expected 3 elements");h.ws(m[0],m[1],m[2]);m=c.get(this);const g=m.Tk;g.Hl(h)||(g.Zi(h),m.G().Y())}get backgroundColor(){const m=c.get(this).Tk;return[m.Pa,m.Ta,m.Sa]}set scrollX(m){a.Gf(m);const g=c.get(this);g.Dt(!0);g.mi(m)}get scrollX(){return c.get(this).Af()}set scrollY(m){a.Gf(m);const g=c.get(this);g.Dt(!0);g.ni(m)}get scrollY(){return c.get(this).Bf()}scrollTo(m,
g){a.Gf(m);a.Gf(g);const l=c.get(this);l.Dt(!0);l.mi(m);l.ni(g)}}}
{"use strict";const f=self.B,a=self.Xg,c=new WeakMap,e=new WeakMap;function b(m){let g=e.get(m);if(g)return g;g=f.j(f.Event.jc);e.set(m,g);return g}let h=null;self.Yp=class{constructor(){c.set(this,h);const m={uf:{value:h.G().Ni,writable:!1},RJ:{value:h.F().Wu,writable:!1},uid:{value:h.Qc,writable:!1}};h.s6(m);h.n6(m);Object.defineProperties(this,m);h.G().GP(this,h)}static ug(m){h=m}static Gq(){return h}eu(){const m=e.get(this);m&&(m.A(),e.delete(this));c.delete(this)}addEventListener(m,g,l){a.od(m);
a.Dj(g);b(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.od(m);a.Dj(g);b(this).removeEventListener(m,g,l)}dispatchEvent(m){b(this).dispatchEvent(m)}}}
{"use strict";const f=self.B,a=self.Xg,c=self.Yp,e=new WeakMap,b=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...b.entries()].map(m=>[m[1],m[0]]));f.j(f.Ya);self.Ox=class m extends c{constructor(){super();var g=c.Gq();e.set(this,g);const l=[];var n=g.m();if(g=n.Rf){n=n.F().Ha.fg().length;for(let p=0;p<n;++p)l.push(new self.sD(g,p))}}get VB(){return e.get(this).m().Ub().Vu}get fU(){return e.get(this).m().da().Yz}get x(){return e.get(this).m().ya()}set x(g){g=
+g;const l=e.get(this).m();isNaN(g)||l.ya()===g||(l.ih(g),l.Wa())}get y(){return e.get(this).m().za()}set y(g){g=+g;const l=e.get(this).m();isNaN(g)||l.za()===g||(l.ri(g),l.Wa())}get Gw(){return e.get(this).m().Za()}set Gw(g){g=+g;const l=e.get(this),n=l.m();isNaN(g)||n.Za()===g||(n.Ue(g),l.G().Y())}get width(){return e.get(this).m().Z()}set width(g){g=+g;const l=e.get(this).m();isNaN(g)||l.Z()===g||(l.pi(g),l.Wa())}get height(){return e.get(this).m().X()}set height(g){g=+g;const l=e.get(this).m();
isNaN(g)||l.X()===g||(l.ji(g),l.Wa())}get angle(){return e.get(this).m().Na()}set angle(g){g=f.ie(+g);const l=e.get(this).m();isNaN(g)||l.Na()===g||(l.wd(g),l.Wa())}CJ(){e.get(this).m().Vc().sda()}get isVisible(){return e.get(this).m().Fc()}set isVisible(g){g=!!g;const l=e.get(this),n=l.m();n.Fc()!==g&&(n.hh(g),l.G().Y())}get opacity(){return e.get(this).m().Dd()}set opacity(g){g=f.aa(+g,0,1);const l=e.get(this),n=l.m();isNaN(g)||n.Dd()===g||(n.ki(g),l.G().Y())}set jn(g){a.od(g);g=b.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const l=e.get(this);l.m().Hf(g);l.G().Y()}get jn(){return h.get(e.get(this).m().hj())}get zIndex(){return e.get(this).m().xj()}rf(g,l){a.Gf(g);a.Gf(l);return e.get(this).m().EK(+g,+l)}getParent(){const g=e.get(this).Ba();return g?g.ah():null}*yw(){for(const g of e.get(this).yw())yield g.ah()}*children(){for(const g of e.get(this).children())yield g.ah()}*mk(){for(const g of e.get(this).mk())yield g.ah()}removeChild(g){a.ZD(g,m);const l=e.get(this);g=e.get(g);
l.Cj(g)}}}{"use strict";const f=new WeakMap;self.PZ=class extends self.Ox{constructor(){super();f.set(this,self.Yp.Gq())}focus(){f.get(this).ka.dL()}blur(){f.get(this).ka.sK()}}}
{"use strict";const f=self.B,a=self.Xg,c=new WeakMap,e=new WeakMap;function b(m){let g=e.get(m);if(g)return g;g=f.j(f.Event.jc);e.set(m,g);return g}let h=null;self.OZ=class{constructor(){c.set(this,h);const m={uf:{value:h.G().Ni,writable:!1},behavior:{value:h.Ql().GY(),writable:!1}};Object.defineProperties(this,m)}static ug(m){h=m}static Gq(){return h}get instance(){return c.get(this).ga.ah()}eu(){const m=e.get(this);m&&(m.A(),e.delete(this));c.delete(this)}addEventListener(m,g,l){a.od(m);a.Dj(g);
b(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.od(m);a.Dj(g);b(this).removeEventListener(m,g,l)}dispatchEvent(m){b(this).dispatchEvent(m)}}}{"use strict";const f=new WeakMap;self.NZ=class{constructor(a){f.set(this,a);Object.defineProperties(this,{uf:{value:a.G().Ni,writable:!1}})}}}
{"use strict";const f=self.B,a=self.Xg,c=new WeakMap;self.sD=class{constructor(e,b){c.set(this,e);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return c.get(this).fg()[this.index].ra()}getParameter(e){a.ii(e);e=Math.floor(+e);const b=c.get(this).wk(this.index);if(0>e||e>=b.length)throw new RangeError("invalid effect parameter index");e=b[e];return e instanceof f.Ya?[e.Pa,e.Ta,e.Sa]:e}}}
{"use strict";const f=new WeakMap;self.KZ=class{constructor(a){f.set(this,a);Object.defineProperties(this,{name:{value:a.ra(),writable:!1},speed:{value:a.Rr,writable:!1},zna:{value:a.jg(),writable:!1}})}*frames(){for(const a of f.get(this).qd)yield a.Iaa}}}{"use strict";const f=new WeakMap;self.VL=class{constructor(a){f.set(this,a)}get width(){return f.get(this).Z()}get height(){return f.get(this).X()}}}
{"use strict";const f=new WeakMap;self.LZ=class extends self.VL{constructor(a){super(a.Oe());f.set(this,a);Object.defineProperties(this,{duration:{value:a.Ez,writable:!1}})}}}
{"use strict";const f=self.B,a=new Set(["local","remote"]),c=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);f.wV=class extends f.ca{constructor(e,b){super();var h=b.exportType;this.g=e;this.HA=new Map;this.Er=new Map;this.$aa=new Map;this.hA="cordova"===h;this.fS=!!b.isiOSCordova;this.cv=!!b.isFileProtocol;this.vba=b.supportedAudioFormats||{};this.eaa=
new Map;this.OR=this.xR="";this.Bz="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.WF=[];this.fG=new Map;this.hJ=[];this.FA=[];this.JR=!1;this.AA=this.eG=this.Yv=0;this.bH=!1;this.Zaa=f.j(f.x1,()=>this.XO(),50);this.qI=new f.NM(Math.max(f.hardwareConcurrency,8));if(e=b.previewImageBlobs){(h=b.previewProjectFileBlobs)&&Object.assign(e,h);(h=b.projectData)&&(e["data.json"]=h);for(const [m,g]of Object.entries(e))this.HA.set(m.toLowerCase(),g)}if(b=b.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(b))this.$aa.set(m,g);new self.MZ(this)}A(){this.HA.clear();for(const e of this.Er.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Er.clear();for(const e of this.WF)e.A();f.C(this.WF);this.fG.clear();f.C(this.FA);this.g=null}G(){return this.g}X9(e){this.xR=e}c$(e){this.OR=e}lF(e){return this.HA.has(e.toLowerCase())}Ky(e){return this.HA.get(e.toLowerCase())||null}yL(e){if(!this.lF(e))return e;e=e.toLowerCase();var b=this.Er.get(e);b||(b=this.Ky(e),b=URL.createObjectURL(b),
this.Er.set(e,b));return b}uk(e,b){b=b||this.Bz;const h=this.Ky(e);if(h)return Promise.resolve(h);if(f.JD(e)){const m=e.toLowerCase();return this.hA&&this.cv?this.KK(m):"local"===b?this.qI.Uc(()=>f.uk(m)):f.uk(m)}return f.uk(e)}Fs(e){const b=this.Ky(e);if(b)return f.CV(b);if(f.JD(e)){const h=e.toLowerCase();return this.hA&&this.cv?this.JK(h):"local"===this.Bz?this.qI.Uc(()=>f.Fs(h)):f.Fs(h)}return f.Fs(e)}Gs(e){const b=this.Ky(e);if(b)return f.rK(b);if(f.JD(e)){const h=e.toLowerCase();return this.hA&&
this.cv?this.hW(h):"local"===this.Bz?this.qI.Uc(()=>f.Gs(h)):f.Gs(h)}return f.Gs(e)}async bL(e){e=await this.Gs(e);return JSON.parse(e)}QE(e,b){return this.g.jq("runtime","cordova-fetch-local-file",{filename:e,as:b})}hW(e){return this.QE(e,"text")}async KK(e){const b=await this.QE(e,"buffer");e?(e=e.split("."),e=2>e.length?"":c.get(e.Sd(-1).toLowerCase())||""):e="";return new Blob([b],{type:e})}async gW(e){e=e.toLowerCase();var b=this.Er.get(e);if(b)return b;b=await this.KK(e);b=URL.createObjectURL(b);
this.Er.set(e,b);return b}JK(e){return this.QE(e,"buffer")}eZ(e,b=""){if(f.wD(e)){if(b)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.lF(e)?Promise.resolve(this.yL(e)):this.hA&&this.cv?this.gW(b+e):Promise.resolve(b+e.toLowerCase())}ay(e){if(e.vw&&!a.has(e.vw))throw Error("invalid load policy");let b=this.fG.get(e.url);if(b)return b;b=f.j(f.WL,this,{url:e.url,size:e.size||0,vw:e.vw||this.Bz});this.WF.push(b);this.fG.set(b.gk,b);this.JR||(this.Yv+=b.Vl(),
this.FA.push(b.pM().then(()=>this.pO(b.Vl()))));return b}async hO(){try{await Promise.all(this.FA),this.AA=1}catch(e){console.error("Error loading: ",e),this.bH=!0,this.XO()}}D2(){this.JR=!0}pO(e){this.eG+=e;this.Zaa.LV()}XO(){const e=f.j(f.Event,"loadingprogress");this.AA=f.aa(this.eG/this.Yv,0,1);e.progress=this.AA;this.g.jc().dispatchEvent(e)}p$(e){f.Ec(this.hJ,e);this.hJ.length&&this.FA.push(this.G7())}G7(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [b,h,m]of this.hJ)this.Yv+=
m,e.push(this.F7(b,h).then(()=>this.pO(m)));return Promise.all(e)}async F7(e,b){try{const h=await this.eZ(b,this.xR),m=new FontFace(e,`url('${h}')`);this.g.dl?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${e}': `,h)}}I_(){return!!this.vba["audio/webm; codecs=opus"]}I9(e){for(const [b,h,m]of e)this.eaa.set(b,{fileName:b,Lla:h.map(g=>({type:g[0],Hla:g[1],Yla:b+g[1],fileSize:g[2]})),rma:m})}}}
{"use strict";const f=self.B;f.vV=class extends f.ca{constructor(a,c){super();this.pd=a;this.g=a.G();this.gk=c.url;this.Pr=c.size;this.TH=c.vw;this.xu=null;this.zH=!1;this.Em=null}A(){this.xu=this.g=this.pd=this.Em=null}Vl(){return this.Pr}pM(){return"local"===this.TH||this.xu?(this.zH=!0,Promise.resolve()):this.Em?this.Em:this.Em=this.pd.uk(this.gk,this.TH).then(a=>{this.zH=!0;this.Em=null;return this.xu=a}).catch(a=>console.error("Error loading resource: ",a))}GD(){return this.zH}gY(){return this.xu?
Promise.resolve(this.xu):this.Em?this.Em:this.pd.uk(this.gk,this.TH)}}}
{"use strict";const f=self.B,a=new f.NM,c=new Set;f.WL=class extends f.vV{constructor(e,b){super(e,b);this.ik=this.xp=null;this.Bc=0;this.QR=this.SR=-1;c.add(this)}A(){this.gi();if(0!==this.Bc)throw Error("released image asset which still has texture references");this.xp=null;c.delete(this);super.A()}static hq(){for(const e of c)e.xp=null,e.ik=null,e.Bc=0}jt(e,b){b=b||{};this.Bc++;if(this.ik)return Promise.resolve(this.ik);if(this.xp)return this.xp;b.FT=this.g.N.jT;return this.xp=this.gY().then(h=>
a.Uc(()=>e.DC(h,b).then(m=>{this.xp=null;if(0===this.Bc)return e.fj(m),null;this.ik=m;this.SR=m.Z();this.QR=m.X();return this.ik}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}gi(){if(0>=this.Bc)throw Error("texture released too many times");this.Bc--;0===this.Bc&&this.ik&&(this.ik.cb().fj(this.ik),this.ik=null)}Gd(){return this.ik}Z(){return this.SR}X(){return this.QR}}}
{"use strict";const f=self.B;function a(c,e){return c.m().lk-e.m().lk}f.I1=class extends f.ca{constructor(c,e,b){super();this.ba=e;this.U=b;this.D=[];this.gv=!0;this.Si=new Set;this.$u=!1}A(){f.C(this.D);this.Si.clear()}Yc(){f.C(this.D);this.gv=!0;this.Si.clear();this.$u=!1}o2(){this.gv=!1}Un(){if(!this.D.length)return!0;if(this.D.length>this.Si.size)return!1;this.hF();return!0}vD(c){this.Si.has(c)?(this.Si.delete(c),0===this.Si.size&&(this.$u=!1)):(this.D.push(c),this.gv=1===this.D.length)}eh(c){this.Si.add(c);
this.$u=!0;50<=this.Si.size&&this.hF()}hF(){this.$u&&(this.D.length===this.Si.size?this.Yc():(f.ag(this.D,this.Si),this.Si.clear(),this.$u=!1))}S5(){this.gv||(this.D.sort(a),this.gv=!0)}FC(c){this.hF();this.S5();this.D.length&&c.push(this.D)}}}
{"use strict";const f=self.B;f.J1=class extends f.ca{constructor(a,c){super();this.sG=a;this.rG=c;this.Ei=f.j(f.nt)}A(){this.Ei.A();this.Ei=null}Rl(a,c,e){let b=this.Ei.V(a,c);return b?b:e?(b=f.j(f.I1,this,a,c),this.Ei.Set(a,c,b),b):null}si(a){return Math.floor(a/this.sG)}vi(a){return Math.floor(a/this.rG)}no(a,c,e){if(c)for(let b=c.P,h=c.$;b<=h;++b)for(let m=c.L,g=c.W;m<=g;++m){if(e&&e.rf(b,m))continue;const l=this.Rl(b,m,!1);l&&(l.eh(a),l.Un()&&this.Ei.An(b,m))}if(e)for(let b=e.P,h=e.$;b<=h;++b)for(let m=
e.L,g=e.W;m<=g;++m)c&&c.rf(b,m)||this.Rl(b,m,!0).vD(a)}fy(a,c){let e=this.si(a.P);const b=this.vi(a.L),h=this.si(a.$);for(a=this.vi(a.W);e<=h;++e)for(let m=b;m<=a;++m){const g=this.Rl(e,m,!1);g&&g.FC(c)}}v0(a){let c=a.P;const e=a.L,b=a.$;for(a=a.W;c<=b;++c)for(let h=e;h<=a;++h){const m=this.Rl(c,h,!1);m&&m.o2()}}}}
{"use strict";const f=self.B,a=new f.Rect,c=new f.nd,e=[];new f.Rect;new f.Rect;const b=self.bj,h=b.gC,m=b.Ew,g=b.Jl;g.create();const l=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=f.j(f.Mt);f.j(f.Rect);function r(z,F){return z.m().lk-F.m().lk}function v(z,F){return z.m().Za()-F.m().Za()}const y=[],A=[],G=[];f.nM=class extends f.ca{constructor(z,F,H){super();this.Ig=z;this.g=z.G();this.JS=F;this.Ca=H[0];this.Ia=-1;this.eb=H[2];this.yr=!!H[3];this.oA=!!H[13];this.Tk=f.j(f.Ya);this.Tk.Ll(H[4].map(M=>
M/255));this.Yj=!!H[5];this.hf=H[6];this.jf=H[7];this.$a=f.j(f.Ya,1,1,1,H[8]);this.WA=f.j(f.Ya);this.uH=H[9];this.pba=H[17];this.pT=H[18];this.Bba=H[10];this.Mm=H[11];this.xg=H[12];this.ye=null;this.Nd=1;this.Sc=H[16];this.Jh=this.Ih=this.Nf=0;this.$k=!1;this.Zf=f.j(f.Rect);this.uT=f.j(f.Rect);this.bn=f.j(f.Rect);this.bk=g.create();this.EH=!0;this.wv=g.create();this.AH=!0;this.tT=f.j(f.I.O3);this.xA=!0;this.gT=[];this.VR=H[14];this.Vj=[];this.zz=[];this.WR=new Map;this.D=[];this.zo=this.jJ=!1;const J=
this.g.N;this.Ha=f.j(f.sk,this,H[15]);this.ph=f.j(f.I.le,J.GG,{LB:(M,Q)=>{Q=Q.tm;const R=Q.sj();M.dm(Q.fD());M.bx(R);M.Zp(R);J.bo(R)},QB:M=>this.Ha.wk(M)});this.ew=this.nl=!0;this.Nr=null;this.IH=[];this.rA=!1;this.Waa=f.j(f.Rect,0,0,-1,-1);this.waa=f.j(f.Rect,0,0,-1,-1);this.Yz=null;this.VQ();this.po()&&(this.Nr=f.j(f.J1,this.g.Lg,this.g.Kg));this.Pm=H[19].map(M=>f.j(f.nM,this.Ig,this,M))}ug(){for(const z of this.VR){const F=this.g.Pe(z[1]);this.Ig.nO(F);F.cr||F.sN(z);this.Vj.push(z);this.WR.set(z[2],
z)}f.Ec(this.gT,this.Vj);this.VR=null;this.Yz=new self.QZ(this)}A(){this.g=this.Ig=null}JY(z){return this.WR.get(z)}lW(z){const F=this.Ig.Wo;let H=0;const J=this.Vj;for(let Q=0,R=J.length;Q<R;++Q){var M=J[Q];const T=this.g.Pe(M[1]);let Z=!0;if(!T.pD()||F)M=this.g.Vh(M,this,!0),z.push(M),T.Ff()&&(Z=!1,this.zz.push(M.Qc));Z&&(J[H]=J[Q],++H)}f.Je(J,H);this.g.ud();this.rg()}tg(z,F){const H=z.m();if(H.da()!==this)throw Error("instance added to wrong layer");this.D.push(z);0!==H.Za()&&(this.zo=!0);F&&this.po()&&
z.m().Wa();this.rg()}I7(z){this.D.includes(z)||(this.D.push(z),0!==z.m().Za()&&(this.zo=!0),this.rg())}v8(z){const F=z.m();if(F.da()!==this)throw Error("instance added to wrong layer");this.D.unshift(z);0!==F.Za()&&(this.zo=!0);this.rg()}uo(z,F){const H=this.D.indexOf(z);0>H||(F&&this.po()&&z.m().dQ(),this.D.splice(H,1),this.rg(),this.LP())}sQ(){this.zo=!0}LP(){0===this.D.length&&(this.zo=!1)}MF(z){if(z){z=new Set;for(var F of this.D){var H=F.m().lk;0<=H&&z.add(H)}F=-1;for(const J of this.D)if(H=
J.m(),!(0<=H.lk)){for(++F;z.has(F);)++F;H.Zy(F)}}this.D.sort(r)}R5(){for(const z of this.D)z.F().Ff()||this.g.Bn(z);this.g.ud();f.C(this.D);this.zo=!1;this.rg()}qt(z,F,H,J,M){const Q=this.g.fa(),R=this.g.Hc,T=z.Ua,Z=[];for(const Y of this.Vj){var X=Y[0];if(F.rf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.aL(X))continue}else continue;X=this;var ba=this.g.Qa();this.Ub()!==ba&&((X=ba.wL(this.ra()))||(X=ba.cD(this.Da())));ba=this.g.Vh(Y,X,!1,void 0,void 0,!1,M);X.zE(ba);X=ba.m();X.by(H,J);X.Wa();Q.je(!0);
ba.az();Q.je(!1);Z.push(ba)}}return Z}Ub(){return this.Ig}ra(){return this.Ca}HF(z){this.Ia=z}Da(){return this.Ia}G(){return this.g}vk(){return this.g.vk()}Wh(){this.$t();return this.ph}$t(){const z=this.Xp();if(this.nl||z!==this.ew){var F=this.Ha.Mf;this.ph.tC(F.map(H=>H.Cf()),{ls:F.map(H=>H.Da()),OB:!z,fC:!0});this.nl=!1;this.ew=z}}lh(){this.Ha.lh();this.nl=!0}po(){return this.Bba&&!this.pT}P2(){this.rA=!1}Fc(){for(const z of this.xU())if(!z.yr)return!1;return!0}hh(z){z=!!z;this.yr!==z&&(this.yr=
z,this.g.Y())}G2(z){this.oA=!!z}Y_(){for(const z of this.xU())if(!z.oA)return!1;return!0}Dt(z){z=!!z;if(this.$k!==z){if(this.$k=z)z=this.Ub(),this.Ih=z.Af(),this.Jh=z.Bf();this.km();this.g.Y()}}mi(z){var F=this.Ub();const H=F.FL();F=F.GL();z>F&&(z=F);z<H&&(z=H);this.Ih!==z&&(this.Ih=z,this.$k&&(this.km(),this.g.Y()))}ni(z){var F=this.Ub();const H=F.HL();F=F.EL();z>F&&(z=F);z<H&&(z=H);this.Jh!==z&&(this.Jh=z,this.$k&&(this.km(),this.g.Y()))}Af(){return this.$k?this.Ih:this.Ub().Af()}Bf(){return this.$k?
this.Jh:this.Ub().Bf()}kF(){const z=this.Ub();return[z.jD(),z.kD()]}yf(){return this.g.yf()}PL(z,F){var H=this.uT;if(0===z)F.la(H);else{let R=H.ss(),T=H.ts();var J=this.eL(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.kF();if(.5!==X||.5!==ba){const Y=this.Ms();var M=this.g,Q=this.yf()/Y;J=(X-.5)*M.$f/Q;M=(ba-.5)*M.Ie/Q;Q=this.Na();0!==Q&&(w.set(J,M),w.rotate(Q),J=w.ba,M=w.U);z=f.eC(Y,0,z);R+=f.Td(J,0,z);T+=f.Td(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Dd(){return this.$a.Ra}ki(z){z=f.aa(z,
0,1);this.$a.Ra!==z&&(this.$a.us(z),this.VQ(),this.g.Y())}VQ(){this.WA.la(this.$a);this.WA.YJ()}fD(){return this.WA}Xp(){return this.$a.MB(1,1,1,1)}Q2(z){this.Mm!==z&&(this.Mm=z,this.km(),this.g.Y())}M2(z,F){if(this.hf!==z||this.jf!==F)if(this.hf=z,this.jf=F,this.km(),this.g.Y(),1!==this.hf||1!==this.jf)for(const H of this.D)H.F().EF(!0)}Ue(z){this.Sc!==z&&(this.Sc=z,this.g.Y())}Za(){return this.Sc}wd(z){z=f.ie(z);this.Nf!==z&&(this.Nf=z,this.km(),this.g.Y())}Na(){return f.ie(this.Ig.Na()+this.Nf)}DZ(){return 0<
this.D.length}iF(){return this.WD()&&this.pT?(f.Ec(G,this.D),G.sort((z,F)=>this.x$(z,F)),G):this.D}uO(z){f.hn(z,this.iF());for(const F of this.Pm)F.Fc()&&0<F.Dd()&&F.uO(z)}x$(z,F){var H=this.Ub().dR,J=H[0],M=H[1];H=H[2];var Q=z.m();const R=F.m();F=Q.ya()-J;z=Q.za()-M;Q=Q.Za()-H;J=R.ya()-J;M=R.za()-M;H=R.Za()-H;return J*J+M*M+H*H-(F*F+z*z+Q*Q)}d3(z){z=!!z;this.Yj!==z&&(this.Yj=z,this.g.Y())}A2(z){z=!!z;this.uH!==z&&(this.uH=z,this.g.Y())}WM(){return!this.G().Dl||!this.pba}WD(){return!this.WM()}Wp(){return this.WD()&&
this.Ub().Oaa}fE(){if(!this.Wp())return!1;for(const z of this.Pm)if(!z.fE())return!1;return!0}Hf(z){this.xg!==z&&(this.xg=z,this.g.Y())}hj(){return this.xg}yZ(){for(const z of this.Pm)if(z.vy())return!0;return!1}*wU(){for(const z of this.Pm)yield*z.wU();yield this}*UJ(){let z=this.JS;for(;z;)yield z,z=z.JS}*xU(){yield this;yield*this.UJ()}c0(z){return this===z||this.hf===z.hf&&this.jf===z.jf&&this.Nd===z.Nd&&this.Mm===z.Mm&&this.Nf===z.Nf&&this.Af()===z.Af()&&this.Bf()===z.Bf()}J8(z){0!==z.size&&
0<f.ag(this.D,z)&&(this.LP(),this.rg())}rg(){this.rA=this.jJ=!1}lu(){if(!this.jJ){this.D.sort(v);if(this.po())for(let z=0,F=this.D.length;z<F;++z){const H=this.D[z].m();H.Zy(z);this.Nr.v0(H.Ev)}else for(let z=0,F=this.D.length;z<F;++z)this.D[z].m().Zy(z);this.jJ=!0}}B0(z,F,H){var J=z.m();F=F.m();if(J.da()!==this||F.da()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.xj();F=F.xj();if(J===F+(H?1:-1))return!1;f.Lba(this.D,J);J<F&&F--;H&&F++;F===this.D.length?this.D.push(z):
this.D.splice(F,0,z);this.rg();return!0}Q7(z,F){const H=[];let J=0,M=0,Q=z.length,R=F.length;for(;J<Q&&M<R;){const T=z[J],Z=F[M];T.m().lk<Z.m().lk?(H.push(T),++J):(H.push(Z),++M)}for(;J<Q;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}P7(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.Q7(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}O7(z){for(;1<z.length;)z=this.P7(z);return z[0]}C6(){this.lu();f.C(e);this.Nr.fy(this.Zf,e);return e.length?1===e.length?e[0]:this.O7(e):[]}vy(){return this.Fc()&&
0<this.Dd()&&this.RO()}RO(){if(this.DZ()||!this.Yj)return!0;for(const z of this.Pm)if(z.RO())return!0;return!1}Lt(){return this.uH||!this.Xp()||0!==this.hj()||this.Ha.dt()}gE(){if(this.Lt())return!0;for(const z of this.Pm)if(z.gE())return!0;return!1}sj(){return this.ye}eL(z){if(this.Ig.df)return 1;{const F=this.Ms();return F/(F-z)}}Ms(){return this.yf()/this.$h()}km(){this.xA=this.AH=!0}Ly(z){this.AH&&(this.x4(z,this.wv),this.AH=!1);return this.wv}l6(){var z=this.g,F=this.Ub(),H=z.PA,J=z.QA;H=(this.Af()-
H)*this.hf+H;var M=(this.Bf()-J)*this.jf+J;z.fl&&(H=Math.round(H),M=Math.round(M));J=H+0;H=M+0;F=F.df?this.yf():this.Ms();const [Q,R]=this.kF();if(.5!==Q||.5!==R){var T=this.yf()/F;M=(Q-.5)*z.$f/T;z=(R-.5)*z.Ie/T;T=this.Na();0!==T&&(w.set(M,z),w.rotate(T),M=w.ba,z=w.U);J+=M;H+=z}return[J,H,F]}x4(z,F){const H=this.g;var J=this.Ub();if(this.Wp()){h.la(p,J.dR);h.la(q,J.oaa);h.la(u,J.paa);J=H.PA;const M=H.QA,Q=q[0]-p[0],R=q[1]-p[1],T=q[2]-p[2];p[0]=(p[0]-J)*this.hf+J;p[1]=(p[1]-M)*this.jf+M;p[2]*=Math.max(this.hf,
this.jf);q[0]=p[0]+Q;q[1]=p[1]+R;q[2]=p[2]+T}else{const [M,Q,R]=this.l6();h.set(p,M,Q,R);h.set(q,M,Q,R-100);J=this.Na();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.uK(F,p,q,u,H.Ie)}i$(){this.xA=this.EH=!0}My(z){this.EH&&(this.y4(z),this.EH=!1);return this.bk}y4(z){const F=this.g.N,[H,J]=this.kF();this.Ig.df?z.IV(this.bk,F.lj(),F.kj()):.5===H&&.5===J?g.la(this.bk,F.Cz):z.vn(this.bk,F.lj()/F.kj(),H,J)}Xy(z){z.io(this.My(z));let F;F=this.Ly(z);z.uq(F)}m1(z){this.Xy(z);z.qq(this.Za())}eg(z,
F,H){var J=this.g.N;const M=this.Lt();var Q=null;let R=null;if(this.g.BD()&&z.fi()){const T=J.xL(this);T&&(R=T.oC(),z.DE(R))}M?(Q={cj:this.g.gd},"low"===J.vh&&(Q.width=J.lj(),Q.height=J.kj()),this.ye=Q=this.g.Js(Q),z.qg(Q),this.Yj&&z.yn()):(this.ye=F,z.qg(F));this.Yj||z.hd(this.Tk);this.Ig.PO(z,this.ye,this.Pm,M&&this.Yj);this.Xy(z);z.qq(this.Za());z.pg(this.WD());this.$h()>Number.EPSILON&&(this.lu(),J=this.po()&&0===this.Za()&&!this.zo,this.Wp()?this.H5(z):J?this.I5(z):this.OO(z,this.iF()));z.qq(0);
z.yt(0);M&&(z.pg(!1),this.J5(z,Q,F,H));R&&z.HC(R);this.ye=null}OO(z,F){const H=this.Zf,J=this.ye,M=this.Ub().df,Q=this.Ub().UL();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.Fc()&&ba.gM(H,Q,M)&&this.Nk(X,ba,z,J)}}H5(z){const F=this.ye,H=this.Hq(),J=this.iF();for(let T=0,Z=J.length;T<Z;){var M=J[T],Q=M.m();if(!Q.Fc()||!Q.$p(H)){++T;continue}(!M.mq()||0<Q.Kc)&&A.push(M);var R=M.m().dh();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.Fc()&&
Y.$p(H)){if(Y.dh()!==R)break;ba.mq()?(0<Y.Kc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].wM()){this.E5(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],Q=M.m(),Q.Wy(!0),this.Nk(M,Q,z,F),Q.Wy(!1)}else{this.Nk(M,Q,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)Q=A[ba],Q!==M&&(R=Q.m(),R.da().Nk(Q,R,z,F))}T=X;f.C(y);f.C(A)}}E5(z,F){const H=this.ye;z.HK();for(let Q=0,R=F.length;Q<R;++Q){var J=F[Q],M=J.m();M.Uy(!0);this.cF(J,M,z)}z.GK();for(let Q=0,R=F.length;Q<R;++Q)J=F[Q],M=J.m(),this.Nk(J,M,z,H),
M.Uy(!1);z.FK()}I5(z){var F=this.Nr;const H=this.waa,J=this.Waa,M=this.Zf;H.set(F.si(M.P),F.vi(M.L),F.si(M.$),F.vi(M.W));this.rA&&H.bd(J)?F=this.IH:(F=this.C6(),this.rA=!0,J.la(H));this.OO(z,F);F!==this.IH&&f.Ec(this.IH,F)}Nk(z,F,H,J){F.dt()?this.G5(z,F,H,J):this.cF(z,F,H)}cF(z,F,H){F=F.tp;H.Gi!==F&&F.qV();z.eg(H)}G5(z,F,H,J){this.F5(z,F,H,J)&&this.Xy(H)}F5(z,F,H,J){const M=F.Rf.Wh();M.fo(H,J,{HB:z,jn:F.hj(),devicePixelRatio:this.g.Qs(),qw:this.g.Rs()*this.$h(),UB:this.Na(),rs:F.Vc(),kw:M.Au?null:
this.Z6(F),RT:null,KT:null,LT:null,OU:null});H.qq(this.Za());return M.vm}J5(z,F,H,J){const M=this.g;0===this.Ha.Mf.length?(z.qg(H),z.Hj(),J&&0===this.xg&&this.Xp()?z.IK(F):(z.Hf(this.xg),z.dm(this.WA),z.bx(F)),z.Zp(F),M.bo(F)):this.Wh().fo(z,H,{HB:this,jn:this.hj(),devicePixelRatio:M.Qs(),qw:M.Rs()*this.$h(),UB:this.Na(),rs:this.Zf,kw:null,GJ:!0})}KN(z){this.Nd!==z&&(this.Nd=z,this.Ig.Lw(),this.km(),this.g.Y())}Sp(){return this.$h()*this.g.Sp()}jj(){return this.$h()*this.g.jj()}$h(){return(this.Nd*
this.Ig.Nd-1)*this.Mm+1}JE(){var z=this.g.PA,F=this.g.QA,H=(this.Af()-z)*this.hf+z,J=(this.Bf()-F)*this.jf+F;z=this.$h();F=this.g.$f/z;z=this.g.Ie/z;H-=F/2;let M=J-z/2;this.g.fl&&(H=Math.round(H),M=Math.round(M));J=this.uT;J.set(H,M,H+F,M+z);F=this.Na();0!==F&&(a.la(J),a.offset(-J.ss(),-J.ts()),c.hda(a,F),c.CJ(a),a.offset(J.ss(),J.ts()),J.la(a));F=this.Sc;this.PL(F,this.Zf);this.Wp()?this.KV(F,this.bn):this.bn.la(this.Zf)}KV(z,F){var H=this.g.N,J=H.$c;H=H.Jc;const [M,Q]=this.wn(0,0,z),[R,T]=this.wn(J,
0,z),[Z,X]=this.wn(J,H,z),[ba,Y]=this.wn(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(Q,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(Q,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}wn(z,F,H=0){return this.B4(z,F,H,this.jj())}B4(z,F,H,J){const M=this.g;var Q=M.cb();const R=this.$h();m.set(n,0,0,M.$f/R,M.Ie/R);z/=J;F=n[3]-F/J;J=this.My(Q);Q=this.Ly(Q);return f.I.G3(z,F,H,Q,J,n,l)?[l[0],l[1]]:[NaN,NaN]}Zn(z,F){return this.EP(z,
F,0,this.jj())}Aj(z,F,H=0){return this.EP(z,F,H,this.Sp()*this.vk())}EP(z,F,H,J){var M=this.g,Q=M.cb();const R=this.$h();m.set(n,0,0,M.$f/R,M.Ie/R);M=this.My(Q);Q=this.Ly(Q);return f.I.o1(z,F,H,Q,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}Z6(z){var F=z.Vc(),H=z.dh();z=z.Kc;const J=H+z,M=F.P,Q=F.L,R=F.$;F=F.W;if(this.Wp()){if(this.jm(M,Q,H)||this.jm(R,Q,H)||this.jm(R,F,H)||this.jm(M,F,H)||0<z&&(this.jm(M,Q,J)||this.jm(R,Q,J)||this.jm(R,F,J)||this.jm(M,F,J)))return null}else if(J>=this.Ms())return null;
let [T,Z]=this.Aj(M,Q,H),[X,ba]=this.Aj(R,F,H);if(0!==this.Na()||0<z){const [Y,va]=this.Aj(R,Q,H),[ta,ya]=this.Aj(M,F,H);if(0<z){const [Na,Sa]=this.Aj(M,Q,J),[Ta,Ua]=this.Aj(R,Q,J),[Wa,eb]=this.Aj(R,F,J),[fb,Pa]=this.Aj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}Hq(){this.xA&&
(this.T$(),this.xA=!1);return this.tT}T$(){var z=this.g.cb();const F=this.My(z);z=this.Ly(z);this.tT.JV(z,F)}jm(z,F,H){return this.Hq().J_(z,F,H)}ea(){return{s:this.Nd,a:this.Nf,vl:this.Zf.P,vt:this.Zf.L,vr:this.Zf.$,vb:this.Zf.W,v:this.yr,i:this.oA,bc:this.Tk.toJSON(),t:this.Yj,sx:this.Ih,sy:this.Jh,hosp:this.$k,px:this.hf,py:this.jf,c:this.$a.toJSON(),sr:this.Mm,fx:this.Ha.vd(),cg:this.zz}}ia(z){this.Nd=z.s;this.Nf=z.a;this.Zf.set(z.vl,z.vt,z.vr,z.vb);this.yr=!!z.v;this.oA=z.hasOwnProperty("i")?
z.i:!0;this.Tk.Ll(z.bc);this.Yj=!!z.t;z.hasOwnProperty("sx")&&(this.Ih=z.sx);z.hasOwnProperty("sy")&&(this.Jh=z.sy);z.hasOwnProperty("hosp")&&(this.$k=!!z.hosp);this.hf=z.px;this.jf=z.py;this.$a.Ll(z.c);this.Mm=z.sr;f.Ec(this.zz,z.cg);f.Ec(this.Vj,this.gT);const F=new Set(this.zz);let H=0;for(let J=0,M=this.Vj.length;J<M;++J)F.has(this.Vj[J][2])||(this.Vj[H]=this.Vj[J],++H);f.Je(this.Vj,H);this.Ha.md(z.fx);this.nl=!0;this.MF(!1);this.rg()}zE(z){if(!this.D.includes(z))if(z.Re()){var F=[...z.mk()];
F.push(z);F.sort((J,M)=>{J=J.m().Tp();M=M.m().Tp();return J-M});for(var H of F)if(H.Qb())for(const J of H.rd)F.includes(J)||(z=[...J.mk()],z.push(J),z.sort((M,Q)=>{M=M.m().Tp();Q=Q.m().Tp();return M-Q}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.tg(J,!0)}else if(this.tg(z,!0),z.Qb())for(F of z.rd)if(H=[...F.mk()],H.push(F),H.sort((J,M)=>{J=J.m().Tp();M=M.m().Tp();return J-M}),H&&H.length)for(const J of H)this.tg(J,!0)}}}
{"use strict";const f=self.B,a=self.Wg;f.j(f.Rect);f.j(f.Rect);const c=f.j(f.Rect),e=f.j(f.Ya),b=self.bj.gC,h=[],m=[],g=[],l=[];let n=null;function p(q,u){n!==q&&(q.m1(u),n=q)}f.h0=class extends f.ca{constructor(q,u,w){super();this.ab=q;this.g=q.G();this.Ca=w[0];this.lba=w[1];this.kba=w[2];this.T=w[1];this.O=w[2];this.wA=!!w[3];this.df=!!w[4];this.AB=w[5];this.BB=w[6];this.qR=w[7];this.Mc=null;this.eb=w[8];this.Ia=u;this.Jh=this.Ih=0;this.Nd=1;this.Nf=0;this.rr=new Set;this.Pg=new Set;this.Tv=new Set;
this.Yq=[];this.hH=[];this.Oaa=!1;this.dR=b.create();this.oaa=b.create();this.paa=b.create();this.bB=[];this.Rb=[];this.rS=new Map;this.sS=new Map;const r=this.g.N;this.Ha=f.j(f.sk,this,w[11]);this.ph=f.j(f.I.le,r.GG,{LB:(v,y)=>{y=y.tm.sj();v.ut();v.bx(y);v.Zp(y);r.bo(y)},QB:v=>this.Ha.wk(v)});this.nl=!0;this.wT=!1;this.ye=null;this.ip={};this.Wo=!0;this.Vu=new self.RZ(this);this.Rd=f.j(f.Event.jc);for(const v of w[9])this.bB.push(f.j(f.nM,this,null,v));this.Rb=[...this.kJ()];for(let v=0,y=this.Rb.length;v<
y;++v)q=this.Rb[v],q.HF(v),q.ug(),this.rS.set(q.ra().toLowerCase(),q),this.sS.set(q.eb,q);for(const v of w[10]){w=this.g.Pe(v[1]);if(!w)throw Error("missing nonworld object class");w.cr||w.sN(v);this.hH.push(v);this.nO(w)}}A(){for(const q of this.Rb)q.A();f.C(this.Rb);this.Tv.clear();this.g=this.ab=this.Mc=null}G(){return this.g}ra(){return this.Ca}Da(){return this.Ia}Wh(){this.$t();return this.ph}$t(){const q="low"===this.g.N.vh;if(this.nl||this.wT!==q){var u=this.Ha.Mf;this.ph.tC(u.map(w=>w.Cf()),
{ls:u.map(w=>w.Da()),yJ:q,fC:!0});this.nl=!1;this.wT=q}}lh(){this.Ha.lh();this.nl=!0}zL(){let q=this.Rb[0].$h();for(let u=1,w=this.Rb.length;u<w;++u){const r=this.Rb[u];if(0!==r.hf||0!==r.jf)q=Math.min(q,r.$h())}return q}nP(){return.5*this.g.$f/this.zL()}oP(){return.5*this.g.Ie/this.zL()}FL(){return this.wA?-Infinity:this.nP()}GL(){return this.wA?Infinity:this.Z()-this.nP()}HL(){return this.wA?-Infinity:this.oP()}EL(){return this.wA?Infinity:this.X()-this.oP()}mi(q){const u=this.FL(),w=this.GL();
q>w&&(q=w);q<u&&(q=u);this.Ih!==q&&(this.Ih=q,this.Lj(),this.g.Y())}Af(){return this.Ih}ni(q){const u=this.HL(),w=this.EL();q>w&&(q=w);q<u&&(q=u);this.Jh!==q&&(this.Jh=q,this.Lj(),this.g.Y())}Bf(){return this.Jh}Lw(){this.mi(this.Af());this.ni(this.Bf());for(const q of this.Rb)q.$k&&(q.mi(q.Af()),q.ni(q.Bf()))}g3(q,u){if(this.AB!==q||this.BB!==u)this.AB=q,this.BB=u,this.U_()&&(this.Mq(),this.Lj(),this.g.Y())}jD(){return this.df?.5:this.AB}kD(){return this.df?.5:this.BB}UL(){const q=this.jD(),u=this.kD();
return 0>q||1<q||0>u||1<u}MN(){this.df&&(this.df=!1,this.Mq(),this.Lj(),this.g.Y())}JN(){this.df||(this.df=!0,this.Mq(),this.Lj(),this.g.Y())}U_(){return!this.df}pE(q){this.Nd!==q&&(this.Nd=q,this.Lj(),this.Lw(),this.g.Y())}wd(q){q=f.ie(q);this.Nf!==q&&(this.Nf=q,this.Lj(),this.g.Y())}Na(){return this.Nf}Z(){return this.T}pi(q){!isFinite(q)||1>q||(this.T=q)}X(){return this.O}ji(q){!isFinite(q)||1>q||(this.O=q)}*kJ(){for(const q of this.bB)yield*q.wU()}da(q){return"number"===typeof q?this.cD(q):this.wL(q.toString())}cD(q){q=
f.aa(Math.floor(q),0,this.Rb.length-1);return this.Rb[q]}wL(q){return this.rS.get(q.toLowerCase())||null}wx(q){return this.sS.get(q)||null}Mq(){for(const q of this.Rb)q.i$()}Lj(){for(const q of this.Rb)q.km()}TY(){let q=this.bB.filter(u=>u.vy())[0];for(;q;){if(!q.Yj)return e.Zi(q.Tk),e.us(1),e;if(q.Lt())return e.qn(0,0,0,0),e;q=q.Pm.filter(u=>u.vy())[0]}e.qn(0,0,0,0);return e}fP(){return[...this.rr]}nO(q){if(q.Qb())for(const u of q.Ag.ql)this.rr.add(u);else this.rr.add(q)}I6(){return[...this.Pg]}oF(q,
u){if(q===this||!u)return Promise.resolve();q&&(f.fW(this.Pg,q.Pg),q.Pg.clear());q=[];for(const w of this.rr)this.Pg.has(w)||(q.push(w.eq(u)),this.Pg.add(w));return Promise.all(q)}async uM(q){if(q.Ua)throw Error("cannot load textures for family");var u=this.g.cb();!u||u.Sn()||this.Pg.has(q)||(this.Pg.add(q),u=q.eq(u),this.k4(u),await u,q.cy(),this.g.Y())}k4(q){this.Tv.add(q);q.then(()=>this.Tv.delete(q)).catch(()=>this.Tv.delete(q))}Q3(){return Promise.all([...this.Tv])}z0(q){if(q.Ua||0<q.D.length)throw Error("cannot unload textures");
this.g.cb()&&this.Pg.has(q)&&(this.Pg.delete(q),q.co())}J$(q,u){if(q!==this&&u)for(const w of this.Pg)w.Ff()||q.rr.has(w)||(w.co(),this.Pg.delete(w))}cu(){this.Pg.clear()}async KQ(q){const u=this.g,w=this.ab,r=u.fa();this.qR&&(this.Mc=r.oL(this.qR),this.Mc.QF());w.yQ(this);this.T=this.lba;this.O=this.kba;this.Ih=u.Lg/2;this.Jh=u.Kg/2;this.Lw();this.R7(q);this.O4();this.Wo||this.Q4();this.CO(this.Yq);this.P4();w.UV();u.ud();const v=this.g.Z$;await Promise.all(v);f.C(v);if(!u.xh){for(const y of this.Yq)y.m3();
for(const y of this.Yq)y.MQ()}f.C(this.Yq);await Promise.all([...this.rr].map(y=>y.SD(this.g.cb())));q&&(u.jc().dispatchEvent(new f.Event("beforefirstlayoutstart")),await u.Cn(new f.Event("beforeprojectstart")));await this.Cn(new f.Event("beforelayoutstart"));u.xh||await u.Xd(f.H.Xa.ua.BM,null,null);await this.Cn(new f.Event("afterlayoutstart"));q&&(u.jc().dispatchEvent(new f.Event("afterfirstlayoutstart")),await u.Cn(new f.Event("afterprojectstart")));r.i9(w);await this.Q3();this.Mq();this.Lj();
this.Wo=!1}R7(q){for(const w of this.g.Hc)if(!w.Ua&&w.ef)for(const r of w.ma()){const v=r.m();var u=v.da();u=f.aa(u.Da(),0,this.Rb.length-1);u=this.Rb[u];v.gu(u);u.I7(r)}if(!q)for(const w of this.Rb)w.MF(!1)}O4(){for(const q of this.Rb)q.lW(this.Yq),q.JE()}Q4(){let q=!1;for(const [w,r]of Object.entries(this.ip)){const v=this.g.zx(parseInt(w,10));if(v&&!v.Ua&&v.pD()){for(const y of r){var u=null;if(v.ef&&(u=this.wx(y.w.l),!u))continue;u=this.g.Vh(v,u,!1,0,0,!0);u.md(y);q=!0;this.Yq.push(u)}f.C(r)}}for(const w of this.Rb)w.MF(!0),
w.rg();q&&(this.g.ud(),this.g.ZP())}CO(q){for(const w of q){if(!w.Qb())continue;const r=w.m(),v=w.Fn();for(const y of w.F().Ag.ql)if(y!==w.F()){var u=y.ma();u.length>v?w.Dq(u[v]):(u=r?this.g.Vh(y,r.da(),!0,r.ya(),r.za(),!0):this.g.Vh(y,null,!0,0,0,!0),this.g.ud(),y.bz(),w.Dq(u),q.push(u))}}}P4(){for(const q of this.hH)this.g.Pe(q[1]).Qb()||this.g.Vh(q,null,!0)}M4(){const q=[],u=this.hH;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.Pe(y[1]);A.Ff()?A.Qb()&&A.Ag.zZ()||q.push(this.g.Vh(y,
null,!0)):(u[w]=y,++w)}f.Je(u,w);this.g.ud();this.CO(q)}qt(q,u,w,r,v,y){if(w)return w.qt(q,u,r,v,y);w=[];for(const A of this.Rb)w.push(A.qt(q,u,r,v,y));return w.flat()}async B$(){const q=this.ab;this.g.xh||await this.g.Xd(f.H.Xa.ua.X0,null,null);q.DN(!0);this.g.fa().Rw();this.Wo||this.t9();for(const u of this.Rb)u.R5();for(const u of this.g.Hc)if(!(u.Ff()||u.ef||u.rb().Bm||u.Ua)){for(const w of u.ma())this.g.Bn(w);this.g.ud()}q.DN(!1);q.Mb()===this&&q.yQ(null)}q9(q){const u=q.F().eb.toString();this.ip.hasOwnProperty(u)||
(this.ip[u]=[]);this.ip[u].push(q.vd())}t9(){for(const q of this.Rb){q.lu();for(const u of q.D){const w=u.F();!w.Ff()&&w.pD()&&this.q9(u)}}}R1(){this.ip={};this.Wo=!0}sj(){return this.ye}Lt(){const q=this.g,u=q.cb().fi();return"low"===q.N.vh||u&&q.wB||"low-latency"===q.Xq||this.Ha.dt()||u&&q.Dl}eg(q){const u=this.g.N,w=this.Lt();if(w){"low-latency"!==this.g.Xq&&(q.qg(null),q.yn());const r={cj:this.g.gd,KJ:this.g.wB||this.Ha.dt()};"low"===u.vh&&(r.width=u.lj(),r.height=u.kj());this.ye=this.g.Js(r)}else this.ye=
null;q.qg(this.ye);q.hd(this.TY());this.g.Dl&&q.RV();for(const r of this.Rb)r.JE();this.PO(q,this.ye,this.bB,!0);w&&(q.pg(!1),this.K5(q,this.ye));this.ye=null}PO(q,u,w,r){w=w.filter(v=>v.vy());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.fE()&&!A.gE()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.fE()&&!z.gE())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].yZ()){this.C5(q,u,h);v+=h.length;f.C(h);continue}f.C(h)}A.eg(q,u,r&&0===v);++v}}K5(q,u){const w=this.g;0===this.Ha.Mf.length?
(q.qg(null),q.Hj(),q.IK(u),q.Zp(u),w.bo(u)):(c.set(0,0,w.$f,w.Ie),this.Wh().fo(q,null,{HB:this,jn:3,devicePixelRatio:this.g.Qs(),qw:this.g.Rs()*this.Nd,UB:this.Na(),rs:c,kw:null,GJ:!0}))}C5(q,u,w){w[0].Yj||(e.Zi(w[0].Tk),e.us(1),q.hd(e));var r=this.g.N;q.pg(!0);for(var v of w)v.lu(),v.uO(m);v=w[0];w=null;this.g.BD()&&q.fi()&&(r=r.xL(v))&&(w=r.oC(),q.DE(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.da();if(y.Fc()&&y.$p(A.Hq())){(!v.mq()||0<y.Kc)&&l.push(v);var G=v.m().dh();g.push(v);for(r=
z+1;r<F;++r){const H=m[r],J=H.m();if(J.Fc()&&J.$p(J.da().Hq())){if(J.dh()!==G)break;H.mq()?(0<J.Kc&&l.push(H),g.push(H)):l.push(H)}}if(1!==g.length||g[0].wM()){this.D5(q,u,g);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.da(),y.Wy(!0),p(A,q),A.Nk(v,y,q,u),y.Wy(!1)}else{p(A,q);A.Nk(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.da(),p(G,q),G.Nk(y,A,q,u))}z=r;f.C(g);f.C(l)}else++z}w&&q.HC(w);f.C(m);n=null}D5(q,u,w){q.HK();for(let A=0,G=w.length;A<G;++A){var r=w[A],v=r.m(),y=
v.da();v.Uy(!0);p(y,q);y.cF(r,v,q)}q.GK();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.m(),y=v.da(),p(y,q),y.Nk(r,v,q,u),v.Uy(!1);q.FK()}ea(){const q={sx:this.Af(),sy:this.Bf(),s:this.Nd,a:this.Na(),w:this.Z(),h:this.X(),ortho:this.df,vpX:this.jD(),vpY:this.kD(),fv:this.Wo,persist:this.ip,fx:this.Ha.vd(),layers:{}};for(const u of this.Rb)q.layers[u.eb.toString()]=u.ea();return q}ia(q){this.Ih=q.sx;this.Jh=q.sy;this.Nd=q.s;this.Nf=q.a;this.T=q.w;this.O=q.h;this.df=!!q.ortho;q.hasOwnProperty("vpX")&&(this.AB=
q.vpX);q.hasOwnProperty("vpY")&&(this.BB=q.vpY);this.Wo=!!q.fv;this.ip=q.persist;this.Ha.md(q.fx);this.nl=!0;for(const [u,w]of Object.entries(q.layers))(q=this.wx(parseInt(u,10)))&&q.ia(w);this.Mq();this.Lj()}Zg(q){q.VB=this.Vu;var u=this.g;(u=u.zb&&!u.fa().it())&&a.CE();this.Rd.dispatchEvent(q);u&&a.nC()}Cn(q){q.VB=this.Vu;return this.Rd.xJ(q)}}}
{"use strict";const f=self.B;f.i0=class extends f.ca{constructor(a){super();this.g=a;this.Ai=[];this.QH=new Map;this.RH=new Map;this.tv=null;this.xI=[];this.Mz=null;this.lA=0;this.Bv=null}A(){this.Bv=this.Mz=this.tv=this.g=null;f.C(this.Ai);this.QH.clear();this.RH.clear();f.C(this.xI)}Ja(a){a=f.j(f.h0,this,this.Ai.length,a);this.Ai.push(a);this.QH.set(a.ra().toLowerCase(),a);this.RH.set(a.eb,a)}G(){return this.g}x2(a){this.Mz=a}BY(){if(this.Mz)return this.Mz;if(this.Ai.length)return this.Ai[0];throw Error("no first layout");
}Qp(a){return this.QH.get(a.toLowerCase())||null}dD(a){return this.RH.get(a)||null}UY(a){a=f.aa(Math.floor(a),0,this.Ai.length-1);return this.Ai[a]}Ub(a){return"number"===typeof a?this.UY(a):this.Qp(a.toString())}yQ(a){this.tv=a}Mb(){return this.tv}*Cw(){this.tv&&(yield this.tv);this.xI.length&&(yield*this.xI)}DN(a){if(a)this.lA++;else{if(0>=this.lA)throw Error("already unset");this.lA--}}dM(){return 0<this.lA}Qw(a){this.Bv=a}UV(){this.Bv=null}aq(){return!!this.Bv}oq(){const a=this.Mb();a&&a.Mq()}nq(){const a=
this.Mb();a&&a.Lj()}}}
{"use strict";const f=self.B;f.A3=class extends f.ca{constructor(a){super();this.g=a;this.Wv=f.j(f.sg);this.mba=null;this.Qm=[];this.Xv=new Map;this.pl=new Map;this.Rm=new Map;this.Ng=[];this.Md=[];this.Ch=[];this.jv=this.Vq=this.Po=!1;this.yl=()=>this.k8();this.Wr=()=>this.l8();this.gG=()=>this.bu();this.PH=()=>this.T7();this.lH=c=>this.SP(c.instance);this.VF=()=>this.wF();this.Ju=[];this.Cc=0}A(){this.F1();this.VF=this.lH=this.PH=this.gG=this.Wr=this.yl=null;for(const a of this.Qm)a.Ve(),a.A();
f.C(this.Qm);this.Qm=null;this.Wv.A();this.Wv=null;f.C(this.Ng);this.Ng=null;f.C(this.Md);this.Md=null;f.C(this.Ch);this.Ch=null;this.Xv.clear();this.Xv=null;this.pl.clear();this.pl=null;this.Rm.clear();this.Rm=null;f.C(this.Ju);this.g=this.Ju=null}jV(){const a=this.g.jc();a.addEventListener("pretick",this.yl);a.addEventListener("tick2",this.Wr);a.addEventListener("beforelayoutchange",this.gG);a.addEventListener("layoutchange",this.PH);a.addEventListener("instancedestroy",this.lH);a.addEventListener("afterload",
this.VF)}F1(){const a=this.g.jc();a.removeEventListener("pretick",this.yl);a.removeEventListener("tick2",this.Wr);a.removeEventListener("beforelayoutchange",this.gG);a.removeEventListener("layoutchange",this.PH);a.removeEventListener("instancedestroy",this.lH);a.removeEventListener("afterload",this.VF)}Ja(a){this.Wv.Uc(a);a=f.mo.kW(a,this);this.Uc(a);this.U2(a);this.Rm.set(a.ra(),0)}zC(a){a=a.LL();var c=this.Wv.V(a);c=f.mo.zC(`${a}:${this.Rm.get(a)}`,c,this);this.vP(a);this.Uc(c);return c}vP(a){this.Rm.set(a,
this.Rm.get(a)+1)}M9(){for(const a of this.Qm)a.xr||this.vP(a.LL())}E4(){for(const a of this.Rm.keys())this.Rm.set(a,0)}Uc(a){this.Qm.push(a);this.Xv.set(a.ra().toLowerCase(),a)}eh(a){a.iy();a.xr||(f.nk(this.Qm,a),f.nk(this.Ng,a),f.nk(this.Md,a),f.nk(this.Ch,a),this.Xv.delete(a.ra().toLowerCase()),this.G1(a),a.Mg||a.A())}nb(a){this.g.nb(a,this.mba,null)}G(){return this.g}PN(a,c){this.pl.has(a)||this.pl.set(a,new Set);this.pl.get(a).add(c)}U2(a){for(const c of a.AL())this.PN(c,a)}G1(a){for(const [c,
e]of this.pl.entries())e.has(a)&&(e.delete(a),0===e.size&&this.pl.delete(c))}oZ(a){if(this.pl.has(a))return this.pl.get(a)}Hx(a){return this.Xv.get(a.toLowerCase())||null}E1(a){f.nk(this.Md,a);this.Zt()}lN(a){this.Md.includes(a)?(a.xq(!0),a.zq(!1),a.ty(!1)):(a.xq(!1),a.zq(!0),a.ty(!1),this.Ng.includes(a)||this.Ng.push(a));this.JP()}Ww(a){a.xq(!1);a.zq(!1);a.$D();f.nk(this.Ng,a);this.Zt()}BK(a){a.xq(!1);a.zq(!1);this.Md.includes(a)&&(a.ty(!0),this.Ch.push(a),f.nk(this.Md,a))}CK(a){a.xq(!1);a.zq(!1);
a.ty(!1);a.Fj(1);f.nk(this.Md,a)}bW(a){this.BK(a);a.$D()}k8(){if(!this.G().xh&&this.Po&&!this.Vq){for(this.jv=!0;this.Ng.length;){var a=this.Ng.pop();a.Gc();0!==a.Cc&&(this.Cc=1);this.Md.push(a)}a=this.g.Ku;var c=this.g.hr,e=this.g.Qd;for(let b=this.Md.length-1;0<=b;b--)this.Md[b].We(a,e,c);this.jv=!1;0!==this.Cc&&this.G().Y()}}l8(){if(!this.G().xh&&this.Po&&!this.Vq){var a;for(let c=0,e=this.Ch.length;c<e;c++){const b=this.Ch[c];a||(a=new Set);b.iy();this.KP(b);a.add(b)}if(a){f.ag(this.Ch,a);this.Cc=
0;for(let c=0,e=this.Md.length;c<e;c++)if(0!==this.Md[c].Cc){this.Cc=1;break}}this.Zt()}}KP(a){a.Mg||a.TL()&&a.Of&&a.zm&&a.cL()}JP(){this.Po||(this.Po=!0)}Zt(){this.Ch.length||this.Md.length||this.Ng.length||this.jv||(this.Po=!1)}bu(){for(this.Vq=!0;this.Ng.length;)this.Ww(this.Ng.pop());const a=new Set;for(const c of this.Md)c.bu()&&(c.iy(),a.add(c));f.ag(this.Md,a);a.clear();for(const c of this.Ch)c.bu()&&(c.iy(),a.add(c));f.ag(this.Ch,a);this.Zt();for(const c of this.Qm)c.ej()}T7(){this.Vq=!1}SP(a){var c=
a.F();if(c=this.oZ(c))if(this.g.xh)this.Ju.push(a);else for(const e of c)e.xr||(e.Mg?this.eh(e):e.TL()||(this.KP(e),this.eh(e)))}wF(){for(const a of this.Ju)this.SP(a);f.C(this.Ju)}ea(){return{timelinesJson:this.y9(),scheduledTimelinesJson:this.w9(),playingTimelinesJson:this.u9(),markedForRemovalTimelinesJson:this.s9(),hasRuntimeListeners:this.Po,changingLayout:this.Vq,isTickingTimelines:this.jv}}ia(a){a&&(this.E4(),this.C7(a.timelinesJson),this.z7(a.scheduledTimelinesJson),this.x7(a.playingTimelinesJson),
this.w7(a.markedForRemovalTimelinesJson),this.Po=!a.hasRuntimeListeners,this.Vq=!!a.changingLayout,this.jv=!!a.isTickingTimelines,this.M9(),this.JP(),this.Zt())}y9(){return this.Qm.map(a=>a.ea())}C7(a){for(const c of a){a=this.Hx(c.name);if(!a){a=this.F6(c);if(!a)continue;a=this.Hx(a);a=this.zC(a)}a.ia(c);a.IZ()||this.eh(a)}}F6(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}w9(){return this.DF(this.Ng)}z7(a){this.rF(a,this.Ng)}u9(){return this.DF(this.Md)}x7(a){this.rF(a,this.Md)}s9(){return this.DF(this.Ch)}w7(a){this.rF(a,
this.Ch)}h7(a,c){if(!c)return!1;for(const e of c)if(e===a.ra())return!0;return!1}DF(a){return a.map(c=>c.ra())}rF(a,c){var e=new Set;for(const b of c)this.h7(b,a)||e.add(b);f.ag(c,e);if(a){e=b=>h=>h.ra()===b;for(const b of a)(a=this.Hx(b))&&(c.find(e(b))||c.push(a))}}}}
{"use strict";const f=self.B;f.mo=class extends f.ca{constructor(a,c,e){super();this.g=e.G();this.Bb=e;this.Cd=c;this.Ca=a;this.fb=[];this.nT=0;this.Pq=null;this.$Q=0;this.OK();this.TA=this.Cv=null;this.Lb=0;this.Nc=1;this.Ad=0;this.yd=1;this.zm=this.gl=this.qA=!1;this.Of=!0;this.KA=this.Mg=!1;this.Wq=-1;this.Be=this.Mo=this.xr=this.$z=!1;this.zA=NaN;this.Og=[""];this.hT="";this.OI=!1;this.Vz=this.Cc=0}static kW(a,c){const e=c.Wv.V(a[0]);a=f.j(f.mo,a[0],e,c);a.H2();return a}static zC(a,c,e){return f.j(f.mo,
a,c,e)}A(){if(!this.Mg){this.Bb.Ww(this);this.Bb.bW(this);for(const a of this.fb)a.A();f.C(this.fb);this.Cd=this.Bb=this.g=this.fb=null;this.Mg=!0;this.TA=this.Cv=null}}OK(){for(const a of this.Cd.$s().IU())this.nT=this.fb.push(f.IE.Ja(this,a))}G(){return this.g}Ws(a,c,e){if(this.Vz){var b;for(let m=0;m<this.fb.length;m++){var h=this.fb[m];a===h.wa()&&(h=h.zf(e))&&c.constructor===h.sb().constructor&&(b||(b=[]),b.push(h))}return b}}IZ(){return!!this.fb.length}uy(a){this.Ca=a}ra(){return this.Ca}LL(){return this.Cd.ra()}dd(){return this.Cd.dd()}Xs(){return this.Cd.Xs()}Yh(){return this.Cd.Yh()}Ud(){return this.Cd.Ud()}Ej(a){for(const c of this.fb)c.Ej(a)}xx(){return this.Cd.xx()}Bx(){return this.Cd.Bx()}jg(){return this.Cd.jg()}Fj(a){this.Nc=
a}ci(){return this.IsPlaying()?0<this.Nc:!0}BL(){this.Cv||(this.Cv=new Promise(a=>{this.TA=a}))}$D(){this.Cv&&(this.TA(),this.TA=this.Cv=null)}ON(a){this.Og=f.mo.E6(a);this.OI=!0}EM(){f.H.wc.ua.jo(this);this.Bb.nb(f.H.wc.ua.Rga);this.Bb.nb(f.H.wc.ua.Sga);this.Bb.nb(f.H.wc.ua.Tga);this.Bb.nb(f.H.wc.ua.Jga);f.H.wc.ua.jo(null)}PD(){this.Wq=this.g.ek}cL(){this.Mo||(this.Mo=!0,f.H.wc.ua.jo(this),this.Bb.nb(f.H.wc.ua.Oga),this.Bb.nb(f.H.wc.ua.Pga),this.Bb.nb(f.H.wc.ua.Qga),this.Bb.nb(f.H.wc.ua.Iga),f.H.wc.ua.jo(null))}xq(a){this.qA=
a}aM(){return this.Wq===this.g.ek}IsPlaying(a=!1){return this.aM()||this.gl&&!a?!0:this.qA}Kq(){return this.IsPlaying(!0)}zq(a){this.gl=a}rN(a){this.Of=a;a=this.xa();if(0>=a||a>=this.dd())this.Of=!0}ty(a){this.KA=a}mE(a){this.$z=a}H2(){this.xr=!0}xa(){return this.Lb}Bq(a){const c=this.xa();this.Hd(a);this.rN(!1);this.Of||this.mE(!0);if(this.Kq()||this.gl||!this.zm)this.Kq()||this.gl||this.zm?this.Kq()?this.Ve():this.gl&&(this.Bb.Ww(this),this.BN()):this.BN();this.iu();this.mF(this.xa(),!0,c);this.LF();
this.Cc&&this.G().Y();this.VP()}Hd(a){f.Ef(a)||(a=this.dd());this.Lb=0>a?0:a>=this.dd()?this.dd():a}Qk(a){f.Ef(a)||(a=this.dd());this.Lb=0>a?0:a>=this.dd()?this.dd():a;for(const c of this.fb)c.li()}VP(){f.H.wc&&this.constructor===f.mo&&(f.H.wc.ua.jo(this),this.Bb.nb(f.H.wc.ua.Lga),this.Bb.nb(f.H.wc.ua.Mga),this.Bb.nb(f.H.wc.ua.Nga),f.H.wc.ua.jo(null))}Play(a=!1){return this.Mg||this.gl?!1:this.Kq()&&this.aM()?this.C9():this.Kq()||!this.Of&&!a&&!this.$z?!1:this.D9()}C9(){this.mE(!1);this.Bb.E1(this);
this.Bb.lN(this);this.BL();return!0}D9(){this.mE(!1);this.Bb.lN(this);this.BL();return!0}Ve(a=!1){this.Mg||(this.rN(a),this.Bb.BK(this),this.Of&&this.$D())}Yc(a=!0,c=!1){if(!this.Mg)if(!this.Kq()&&this.gl)this.Bb.Ww(this);else if(!this.Of){this.Ve(!0);this.ci()?this.Hd(0):this.Hd(this.dd());var e=this.xa();this.iu();c?this.a7(e):this.mF(e,!1);a&&this.VP();this.LF();this.Cc&&a&&this.G().Y()}}eN(){this.Yc(!1,!0)}a7(a){this.mF(a,!1,NaN,!1,!0)}bu(){if(this.Mg)return!0;if(!this.G().xh&&this.JZ())return!1;
this.Bb.CK(this);this.G().xh||this.eN();return!0}BN(){this.Gc(!0)}Gc(a){if(!this.KA){if(a){this.Be=this.zm=!0;this.iu();for(const c of this.fb)c.Gc()}else if(this.xq(!0),this.zq(!1),this.EM(),this.Of){this.Wq=-1;this.Ad=0;this.yd=1;this.Mo=this.Of=!1;this.Be=this.zm=!0;this.ci()?this.Hd(0):this.Hd(this.dd());this.iu();for(const c of this.fb)c.Gc()}else{this.Be=!0;this.iu();for(const c of this.fb)c.se()}this.LF()}}iu(){this.Vz=0;for(const a of this.fb)a.Am&&(this.Vz=1)}LF(){this.Cc=0;for(const a of this.fb)a.Yy(),
0===this.Cc&&1===a.Cc&&(this.Cc=1),this.Pq||1!==a.Gm||(this.Pq||(this.Pq=[]),this.$Q=this.Pq.push(a))}We(a,c){if(0!==a||0!==this.zA){this.zA=a;var e=this.Lb;c=e+a*c*this.Nc;a=this.Cd.$r;this.Lb=0>c?0:c>=a?a:c;var b=!1;c=!1;var h=this.xx(),m=this.Bx();h||m?h&&!m?0<this.Nc?this.Lb>=a&&(this.Qk(0),c=!0):0>=this.Lb&&(this.Qk(a),c=!0):!h&&m?0<this.Nc?this.Lb>=a&&(this.Hd(a),this.Fj(-1*this.Nc),c=!0,1===this.Ad?this.yd<this.jg()?(this.yd++,this.Ad=0):b=!0:0===this.Ad&&(this.Ad=1)):0>=this.Lb&&(this.Hd(0),
this.Fj(-1*this.Nc),c=!0,1===this.Ad?this.yd<this.jg()?(this.yd++,this.Ad=0):b=!0:0===this.Ad&&(this.Ad=1)):h&&m&&(0<this.Nc?this.Lb>=a&&(this.Hd(a),this.Fj(-1*this.Nc),c=!0):0>=this.Lb&&(this.Hd(0),this.Fj(-1*this.Nc),c=!0)):0<this.Nc?this.Lb>=a&&(this.yd<this.jg()?(this.yd++,this.Qk(0),c=!0):(this.Hd(a),b=!0)):0>=this.Lb&&(this.yd<this.jg()?(this.yd++,this.Qk(a),c=!0):(this.Hd(0),b=!0));h=this.nT;if(b){for(b=0;b<h;b++)this.fb[b].vN();this.Ve(!0);this.PD()}else{m=this.$Q;for(b=0;b<m;b++)this.Pq[b].un();
if(1===this.Vz)for(b=0;b<h;b++){const g=this.fb[b],l=g.Qe(),n=e-l;0>this.Lb-l&&0<n?(this.Lb=0>l?0:l>=a?a:l,g.Aa(l,!0,!1,c,this.Be,!1)):g.Aa(this.Lb,!0,!1,c,this.Be,!1)}else for(b=0;b<h;b++)this.fb[b].Aa(this.Lb,!0,!1,c,this.Be,!1);for(b=0;b<m;b++)this.Pq[b].sn();this.Be&&(this.Be=!1)}}}mF(a,c=!1,e=NaN,b=!1,h=!1){for(var m of this.fb)m.un();for(const g of this.fb){m=a;if("number"===typeof e&&!isNaN(e)){const l=this.xa()-g.Qe(),n=e-g.Qe();0>l&&0<n&&(m=g.Qe(),this.Hd(m))}g.Aa(m,!1,c,!0,this.Be,h)}for(const g of this.fb)g.sn();
this.Be&&b&&(this.Be=!1)}iy(){if(!this.Mg)for(const a of this.fb)a.Kk()}ej(){for(const a of this.fb)a.ej()}VV(){for(const a of this.fb)a.TV()}V2(a,c){if(c)for(const e of this.fb)if(e.di()){if(a){if(e.Gn()!==a)continue}else if(e.CZ())continue;e.E2(c);this.Bb.PN(c.F(),this);break}}TL(){return this.fb.some(a=>a.di()?a.wC():!0)}JZ(){return this.fb.some(a=>a.di()?a.wC()?(a=a.F())?a.Ff():!1:!1:!1)}zf(a){for(const c of this.fb)for(const e of c.Oa)if(e.pa.Oc===a)return e}ML(a){for(const c of this.fb)if(a===
c.wa())return c;return null}AL(){const a=[];for(const c of this.fb)a.push(c.F());return a.filter(c=>c)}ea(){return{tracksJson:this.A9(),name:this.Ca,playheadTime:this.xa(),playbackRate:this.Nc,pingPongState:this.Ad,currentRepeatCount:this.yd,isPlaying:this.qA,isScheduled:this.gl,initialStateSet:this.zm,finishedTriggers:this.Mo,complete:this.Of,released:this.Mg,markedForRemoval:this.KA,completedTick:this.Wq,implicitPause:this.$z,isTemplate:this.xr,tags:this.Og.join(" "),stringTags:this.hT,tagsChanged:this.OI,
firstTick:this.Be}}ia(a){a&&(this.D7(a.tracksJson),this.Ca=a.name,this.Lb=a.playheadTime,this.Nc=a.playbackRate,this.Ad=a.pingPongState,this.yd=a.currentRepeatCount,this.qA=!!a.isPlaying,this.gl=!!a.isScheduled,this.zm=!!a.initialStateSet,this.Mo=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Of=!!a.complete,this.Mg=!!a.released,this.KA=!!a.markedForRemoval,this.Wq=a.completedTick,this.$z=!!a.implicitPause,this.xr=!!a.isTemplate,this.Og=a.tags.split(" "),this.hT=a.stringTags,this.OI=
!!a.tagsChanged,this.Be=!!a.firstTick)}A9(){return this.fb.map(a=>a.ea())}D7(a){a.forEach((c,e)=>{this.fb[e].ia(c)});this.fb.filter(c=>c.wC())}static E6(a){if(f.Rn(a))return a.slice(0);if(f.ei(a))return a.split(" ")}}}
{"use strict";const f=self.B;f.IE=class extends f.ca{constructor(a,c){super();this.Lh=a;this.Hb=c;this.Fe=c.$s();this.ol=this.bl=NaN;this.Ma=this.ac=null;this.Am=0<c.Qe();this.Io=this.tr=!1;this.Zj=null;this.cc=this.Hb.nj().cc;this.Oa=[];this.MK();this.Gm=this.Cc=this.jk=0}static Ja(a,c){return f.j(f.IE,a,c)}A(){this.cc=null;for(const a of this.Oa)a.A();f.C(this.Oa);this.Zj=this.Hb=this.Ma=this.ac=this.Lh=this.Oa=null}MK(){for(const a of this.Hb.Ed().pU())this.Oa.push(f.Va.Ja(this,a))}Kk(){for(const a of this.Oa)a.Kk()}ej(){for(const a of this.Oa)a.ej();
this.Ma=this.ac=null}mb(){return this.Lh}G(){return this.Lh.G()}SY(){return this.cc?this.cc:this.cc=this.Hb.nj().cc}zf(a){for(let c=0;c<this.Oa.length;c++){const e=this.Oa[c];if(e.pa.Oc===a)return e}}lt(){this.ac||this.wa()}Yl(){return this.ac?!this.ac.ft():!1}wC(){if(!this.di())return!1;const a=this.G().mj(this.Ss());return a?!a.ft():!1}F(){if(this.di()){var a=this.eD();if(-1!==a)return this.G().Pe(a)}}TV(){this.ac=null;this.bl=-1;this.Ma=null;this.ol=-1}CZ(){return!!this.ac}wa(){return this.ac&&
this.Yl()?this.ac:this.ac=this.G().mj(this.Ss())}E2(a){if(this.ac!==a){this.ej();this.ac=a;this.ol=a.F().Da();this.bl=a.Qc;this.Ma=a.m();for(const m of this.Zca()){const g=m.mda;switch(m.Yca.Fd()){case "instance-variable":var c=a.F(),e=c.LY(m.name),b=c.vL(e);c=c.Ts(e);b===m.name&&c===m.type&&g.L3(e);break;case "behavior":var h=m.nJ;e=this.F();b=a.F();c=g.gg(b);h&&c&&(h=h.ra(),e.Ls(h),b.Ls(h),g.I3(c.eb))}}}}*Zca(){for(const e of this.Oa){var a=e.sb(),c=this.F();const b={Yca:e,mda:a};switch(e.Fd()){case "world-instance":b.ona=
e.pa.Oc;break;case "instance-variable":a=a.Pp();b.name=c.vL(a);b.type=c.Ts(a);break;case "effect":c=a.WC(c.Ha);b.Cla=c;break;case "behavior":c=a.gg(c);b.nJ=c;break;case "plugin":b.lna=c.rb()}yield b}}m(){if(this.Ma&&this.Yl())return this.Ma;const a=this.wa();a&&(this.Ma=a.m());return this.Ma}Ss(){return this.bl?this.bl:this.Hb.Ss()}Yh(){return this.Hb.Yh()}Ud(){return this.Hb.Ud()}Gn(){return this.Hb.Gn()}Qe(){return this.Hb.Qe()}Ak(){return this.Hb.Ak()}Ej(a){for(const c of this.SY())c.Ej(a);for(const c of this.Oa)c.Ej(a)}yk(){return this.Hb.yk()}Jk(a){this.Hb.Jk(a)}eD(){return isNaN(this.ol)?
this.Hb.eD():this.ol}pj(){const a=this.wa();return a&&a.ka.Wn()?a.ka.pj():this.Hb.pj()}oj(){const a=this.wa();return a&&a.ka.Wn()?a.ka.oj():this.Hb.oj()}wj(){return this.Hb.wj()}ra(){return this.Hb.ra()}di(){return 0===this.wj()}li(){for(const a of this.Oa)a.li()}Gc(){this.lt();if(this.Yl()||!this.di()){var a=this.mb().ci()?0:this.Ak();for(const c of this.Oa)c.Gc(a),0===this.jk&&1===c.jk&&(this.jk=1),0===this.Cc&&1===c.Cc&&(this.Cc=1);this.Gm=0;this.Oa.some(c=>c.Gm)&&(this.Gm=1);this.Zj=this.gP(a);
this.Io=this.tr=!1;this.Aa(a)}}se(){this.lt();if(this.Yl()||!this.di()){this.Lh.ci();var a=this.Lh.xa()-this.Qe();this.Zj=this.gP(a);for(const c of this.Oa)c.se(a)}}vN(){if(!(this.mb().Of||(this.lt(),!this.Yl()&&this.di()||this.Am))){const a=this.Lh.xa();a>=this.Qe()+this.Ak()?this.Aa(this.Ak(),!0,!1,!0):0>=a&&this.Aa(0,!0,!1,!0)}}Yy(){for(let a=0,c=this.Oa.length;a<c;a++){const e=this.Oa[a];e.Yy();0===this.jk&&1===e.jk&&(this.jk=1);0===this.Cc&&1===e.Cc&&(this.Cc=1)}}un(){const a=this.Oa.length;
for(let c=0;c<a;c++)this.Oa[c].un()}Aa(a,c=!1,e=!1,b=!1,h=!1,m=!1){this.ac||this.wa();const g=0===this.Hb.na;if(!((!this.ac||this.ac.ft())&&g||m&&g&&this.F().Ff()||(a-=this.Qe(),0>a))){this.x0(a,c);this.y0(a,c,h);for(let l=0,n=this.Oa.length;l<n;l++)this.Oa[l].Aa(a,e,b);this.w0(a,c);0!==this.jk&&(this.Ma||(this.Ma=this.ac.m()),this.Ma&&this.Ma.Wa())}}sn(){const a=this.Oa.length;for(let c=0;c<a;c++)this.Oa[c].sn()}x0(a,c){if(c&&this.Am&&!this.tr){if(this.mb().ci()){if(0>a)return;for(const e of this.Oa)e.Aa(0,
!1,!0)}else{if(a>this.Ak())return;for(const e of this.Oa)e.Aa(this.Ak(),!1,!0)}for(const e of this.Oa)e.Gc();this.tr=!0}}w0(a,c){if(c&&this.Am&&!this.Io)if(this.mb().ci()){if(a>=this.Ak()){for(const e of this.Oa)e.Aa(this.Ak(),!1,!0);this.Io=!0}}else if(0>=a){for(const e of this.Oa)e.Aa(0,!1,!0);this.Io=!0}}y0(a,c,e){if(!e&&c&&f.H.wc){c=this.mb();e=this.Zj.Ce;var b=this.Zj.xa(),h=e?e.xa():c.dd();if(a<=b||a>=h)this.Zj=this.Fe.qL(a,this.Hb),c.ci()?e&&this.RD(this.Zj):(a=this.Zj.Ce)&&this.RD(a)}}gP(a){const c=
this.Fe.PY(a,this.Hb);return c?c:this.Fe.qL(a,this.Hb)}RD(a){const c=this.mb();f.H.wc.ua.jo(c);f.H.wc.ua.e3(a);a=c.Bb;a.nb(f.H.wc.ua.Hga);a.nb(f.H.wc.ua.RD);f.H.wc.ua.jo(null);f.H.wc.ua.e3(null)}fV(){return this.Hb.nj().aV()}AW(a){this.Hb.nj().zW(a)}$w(a){for(const c of this.Oa)c.$w(a)}ho(){for(const a of this.Oa)a.ho()}Th(){this.lt();if(this.Yl()||!this.di())for(const a of this.Oa)a.Th()}Uh(){this.lt();if(this.Yl()||!this.di()){var a=!1;for(const c of this.Oa){const e=c.Uh();!a&&e&&(a=!0)}a&&(a=
this.fV(),a.Bq(this.mb().xa()),a.Ej("noease"),a.Jk(!0),a.ON(""))}}ea(){var a=this.wa();a=a?a.Qc:this.Ss();return{propertyTracksJson:this.v9(),lastKeyframeDataItemJson:this.r9(),initialStateOfNestedSet:this.tr,endStateOfNestedSet:this.Io,instanceUid:a}}ia(a){a&&(this.y7(a.propertyTracksJson),this.v7(a.lastKeyframeDataItemJson),this.s7(a.instanceUid),this.tr=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.tr=a.initialStateOfNestedSet),this.Io=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Io=a.endStateOfNestedSet))}r9(){return this.Hb.nj().RY(this.Zj)}v9(){return this.Oa.map(a=>
a.ea())}y7(a){a.forEach((c,e)=>{this.Oa[e].ia(c)})}s7(a){if(f.Ef(a)&&(a=this.G().mj(a))){var c=this.mb();c.VV();c.V2(this.Hb.Gn(),a)}}v7(a){this.Zj=this.Hb.nj().QY(a)}}}
{"use strict";const f=self.B;f.Va=class extends f.ca{constructor(a,c){super();this.jb=a;this.pa=c;this.ec=c.Ed();this.Gm=this.Cc=this.jk=0;this.ge=this.sb();this.Fb=this.pa.ig().Fb;this.mu=this.Ac=null}static Ja(a,c){return f.j(f.Va,a,c)}A(){this.jb=null;this.ge&&(this.ge.A(),this.ge=null);this.ec=this.pa=this.Fb=null}mD(){return!!this.mu}h2(a){this.mu=a}Ed(){return this.ec}mb(){return this.jb.mb()}G(){return this.jb.G()}wa(){return this.jb.wa()}sb(){if(this.ge)return this.ge;let a;switch(this.pa.Fd()){case "behavior":a=
new f.Va.AV(this);break;case "effect":a=new f.Va.JX(this);this.Cc=1;break;case "instance-variable":a=new f.Va.F_(this);break;case "plugin":a=new f.Va.h1(this);this.Cc=1;break;case "world-instance":a=new f.Va.$n(this);this.jk=this.Cc=1;break;case "value":a=new f.Va.N3(this);break;case "audio":a=new f.Va.xV(this)}return this.ge=a}Fd(){return this.pa.Fd()}Dx(){return this.pa.wj()}Us(){return this.Ed().rx(this.pa).wj()}yk(){return this.pa.yk()}Jk(a){this.pa.Jk(a)}Yh(){return this.pa.Yh()}Ud(){return this.pa.Ud()}Ej(a){for(const c of this.Cx())c.Ej(a)}vC(){return this.pa.vC()}Cx(){return this.Fb?
this.Fb:this.Fb=this.pa.ig().Fb}Kk(){this.sb().Kk()}ej(){this.sb().ej()}me(){return this.sb().me()}li(){this.sb().li()}Gc(a){this.sb().Gc();this.Ac=this.hP(a);this.Yy()}se(a){this.sb().se();this.Ac=this.hP(a)}Yy(){var a=this.jb;this.Gm=0;if(a.di()){var c=this.mb();a=a.wa();const e=this.sb(),b=this.pa.Oc;e.Bj()?(c=c.Ws(a,e,b))&&c.length&&(this.Gm=1):this.Gm=0}}hP(a){const c=this.mb(),e=this.ec.hZ(a,this.pa);return e?e:c.ci()?this.ec.Xh(a,this.pa):this.ec.sL(a,this.pa)}un(){this.ge.un()}Aa(a,c=!1,e=
!1){let b;if(c)var h=this.ec.Xh(a,this.pa);else{if(this.Ac){var m=this.mb();const g=this.Ac.Ce;h=this.Ac.xa();m=g?g.xa():m.dd();if(a<=h||a>=m)this.Ac=this.ec.Xh(a,this.pa)}else this.Ac=this.ec.Xh(a,this.pa);h=this.Ac}h&&(b=h.Ce);this.ge.Aa(a,h,b,c,e)}pe(a){if(this.Ac){var c=this.mb();const b=this.Ac.Ce;var e=this.Ac.xa();c=b?b.xa():c.dd();if(a<=e||a>=c)this.Ac=this.ec.Xh(a,this.pa)}else this.Ac=this.ec.Xh(a,this.pa);e=this.Ac;return this.ge.pe(a,e,e.Ce)}sn(){this.ge.sn()}static KL(a,c){return c.ec.Xh(a,
c.pa)}oK(){const a=this.pa.ig().nK();this.Ac=null;return a}$w(a){this.Ac=null;this.pa.ig().TK(a)}ho(){this.sb().ho()}Th(){if(this.sb().Th()){const a=this.ec.rx(this.pa),c=this.sb().me();a.mN(c)}}Uh(){const a=this.sb().Uh();a&&this.hV();this.sb().Uw();return a}hV(){const a=this.mb().xa(),c=this.sb(),e=f.Va.KL(a,this),b=this.oK();b.QN(e.wj());b.Bq(a);b.Ej(e.Sl());b.Jk(!0);b.te(c.iD());b.mN(c.me())}ea(){return{sourceAdapterJson:this.sb().ea()}}ia(a){a&&this.sb().ia(a.sourceAdapterJson)}}}
{"use strict";const f=self.B.Va;f.$n=class{constructor(a){this.J=a;this.lf=null;this.hg()}A(){this.lf&&(this.lf.A(),this.lf=null);this.J=null}Bj(){return this.lf.Bj()}zf(){return this.J}Kk(){this.lf&&this.lf.Kk()}ej(){this.lf&&this.lf.ej()}hg(){return this.lf?this.lf:this.lf=this.R4()}Pp(){}Da(){return this.Pp()}Zs(){}li(){this.hg().li()}Gc(){this.hg().Gc()}se(){this.hg().se()}un(){this.lf.Gp()}Aa(a,c,e,b,h){let m;switch(this.J.Us()){case "numeric":m=f.mt.Aa(a,c,e,this.J);break;case "angle":m=f.Iw.Aa(a,
c,e,this.J);break;case "boolean":m=f.Kw.Aa(a,c,e,this.J);break;case "color":m=f.Vw.Aa(a,c,e,this.J);break;case "text":m=f.wy.Aa(a,c,e,this.J)}this.lf.xn(a,m,c,e,b,h)}pe(a,c,e){switch(this.J.Us()){case "numeric":return f.mt.Aa(a,c,e,this.J);case "angle":return f.Iw.Aa(a,c,e,this.J);case "boolean":return f.Kw.Aa(a,c,e,this.J);case "color":return f.Vw.Aa(a,c,e,this.J);case "text":return f.wy.Aa(a,c,e,this.J)}}sn(){this.lf.Fp()}ho(){var a=this.hg();a.Hh=a.me()}Uw(){this.hg().Uw()}me(){return this.hg().me()}Th(){return this.hg().Th()}Uh(){return this.hg().Uh()}iD(){const a=
this.J,c=a.jb.mb().xa(),e=f.KL(c,a),b=e.Ce;switch(a.Us()){case "numeric":return f.mt.Aa(c,e,b,a);case "angle":return f.Iw.Aa(c,e,b,a);case "boolean":return f.Kw.Aa(c,e,b,a);case "color":return f.Vw.Aa(c,e,b,a);case "text":return f.wy.Aa(c,e,b,a)}}R4(){const a=this.J;switch(a.vC()?a.Us():""){case "combo":case "boolean":case "text":case "string":return new f.Se.xM(this);case "numeric":case "number":case "angle":return"combo"===this.J.Dx()?new f.Se.xM(this):new f.Se.yM(this);case "color":case "offsetColor":return new f.Se.YV(this);
default:return new f.Se.yM(this)}}ea(){return{propertyAdapterJson:this.hg().ea()}}ia(a){a&&this.hg().ia(a.propertyAdapterJson)}}}
{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c);this.aw=NaN}Pp(){return this.J.pa.Wf[0]}Da(){return this.aw?this.aw:super.Da()}Zs(){return this.J.jb.wa()}L3(c){this.J.pa.Wf[0]!==c&&(this.aw=c)}Aa(c,e,b,h,m){this.hg().uC(e.Vb())&&super.Aa(c,e,b,h,m)}pe(c,e,b){if(this.hg().uC(e.Vb()))return super.pe(c,e,b)}ea(){return Object.assign(super.ea(),{index:this.aw})}ia(c){c&&(super.ia(c),this.aw=c.index)}}f.Va.F_=a}
{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c);this.eb=NaN}Pp(){return this.J.pa.Wf[1]}Zs(){var c=this.J.pa,e=this.eb?this.eb:c.Wf[0];c=this.J.jb.wa();e=c.hL(e);return c.Zc[e].ka}gg(c){return c.ix(this.J.pa.Wf[2])}I3(c){this.J.pa.Wf[0]!==c&&(this.eb=c)}Aa(c,e,b,h,m){const g=this.J.jb.wa();this.gg(g.F())&&super.Aa(c,e,b,h,m)}pe(c,e,b){const h=this.J.jb.wa();if(this.gg(h.F()))return super.pe(c,e,b)}ea(){return Object.assign(super.ea(),{sid:this.eb})}ia(c){c&&(super.ia(c),
this.eb=c.sid)}}f.Va.AV=a}{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c)}Pp(){return this.J.pa.Wf[1]}Zs(){const c=this.J.jb.m().Rf,e=this.WC(c.Ha).Da();return c.gt(e)?c.wk(e):null}WC(c){return c.xk(this.J.pa.Wf[0])}Aa(c,e,b,h,m){this.CP()&&super.Aa(c,e,b,h,m)}pe(c,e,b){if(this.CP())return super.pe(c,e,b)}CP(){const c=this.J.jb.m().Rf,e=this.WC(c.Ha);if(e)return c.gt(e.Da())}}f.Va.JX=a}
{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c)}Pp(){return this.J.pa.Wf[0]}Zs(){return this.J.jb.wa().ka}Aa(c,e,b,h,m){var g=this.J.jb;const l=g.F().rb();g=g.wa().F().rb();l===g&&super.Aa(c,e,b,h,m)}pe(c,e,b){var h=this.J.jb;const m=h.F().rb();h=h.wa().F().rb();if(m===h)return super.pe(c,e,b)}}f.Va.h1=a}
{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c);this.tc=0;this.aA=!1}Bj(){return!1}Gc(){const c=this.J.Ed();let e=this.J.pa;e=c.rx(e);this.tc=e.kc()}se(){}Vb(){this.aA||this.J.Aa(0);return this.tc}Aa(c,e,b){this.tc=f.Va.mt.Aa(c,e,b,this.J);this.aA=!0}ho(){}Uw(){}me(){return this.tc}Th(){return!1}Uh(){return!1}ea(){return{value:this.tc,init:this.aA}}ia(c){c&&(this.tc=c.value,this.aA=c.hasOwnProperty("init")?c.init:!0)}}f.Va.N3=a}
{"use strict";const f=self.B;class a extends f.Va.$n{constructor(c){super(c);this.Pj=!1;this.lr=this.Nb=this.fe=null;this.Lh=this.J.mb();this.jb=this.J.jb;this.Mv=this.J.pa.Wf;this.TG=this.Mv[0];this.KI=this.Mv[1];this.nh=this.Mv[3]?this.Mv[3]:Math.random().toString(36).slice(2);this.dw=this.hp=this.Im=NaN;this.wg=null;this.BP()}A(){super.A();this.wg=this.TG=this.Mv=this.jb=this.Lh=this.lr=this.Nb=this.fe=null}BP(){if(self.B.H.Audio){var c=this.J.G().yx("audio");c&&(this.fe=c.uj().ka);this.Nb=self.B.H.Audio.wf;
this.lr=self.B.H.Audio.jd}}MP(){if(!this.wg){var c=this.J.jb.zf("audioSource");c&&(this.wg=c.sb())}}y6(){const c=this.J.jb.zf("volume");return c?c.sb().hp:this.hp}Kk(){super.Kk();this.Pj=!1;this.fe&&(this.lr&&(this.Im=this.lr.qha.call(this.fe,this.nh),this.hp=this.lr.Fka.call(this.fe,this.nh)),this.Nb&&this.Nb.Ve.call(this.fe,this.nh))}ko(c){this.dw=c}Gc(){super.Gc();this.Im=NaN;this.Pj=!1}se(){super.se();const c=this.J.mb().xa();this.Im=c-this.KI;switch(this.J.pa.Oc){case "volume":this.hp=this.J.pe(c)}this.Pj=
!1}Aa(c,e,b,h,m){if(this.fe)switch(this.J.pa.Oc){case "audioSource":if(!this.Lh.ci())break;if(h){this.Nb&&this.Nb.Ve.call(this.fe,this.nh);break}if(c<this.KI){this.Pj=!1;break}e=this.lr.pha.call(this.fe,this.nh);this.Lh.Nc!==e&&this.Nb.Fj.call(this.fe,this.nh);if(this.Pj)break;this.Pj=!0;if(isNaN(this.Im)){const g=self.performance.now(),l=c-this.KI;this.fe.MM().then(n=>{if("suspended"===n)this.Pj=!1;else if(n=l+(self.performance.now()-g)/1E3,this.Nb){let p=this.dw;isNaN(p)?(this.ko(0),p=0):this.ko(p);
this.Nb.Play.call(this.fe,this.TG,0,p,this.nh,n)}})}else{const g=this.Im;this.Im=NaN;const l=this.y6();this.hp=NaN;this.fe.MM().then(n=>{"suspended"===n?this.Pj=!1:this.Nb&&(this.ko(l),this.Nb.Play.call(this.fe,this.TG,0,l,this.nh,g))})}break;case "volume":this.MP(),super.Aa(c,e,b,h,m)}}pe(c,e,b){if(this.fe)switch(this.J.pa.Oc){case "volume":return this.MP(),super.pe(c,e,b)}}QL(){return this.wg?this.wg.dw:0}l3(c,e){this.wg&&this.wg.ko(this.QL()+e);this.Nb&&this.wg&&this.Nb.ko.call(this.fe,this.wg.nh)}WU(c,
e){this.wg&&this.wg.ko(e);this.Nb&&this.wg&&this.Nb.ko.call(this.fe,this.wg.nh)}ea(){return{audioPlaybackStarted:this.Pj,audioTag:this.nh,pauseTime:this.Im,pauseVolume:this.hp,volume:this.dw}}ia(c){c&&(this.Pj=c.audioPlaybackStarted,this.nh=c.audioTag,this.Im=c.pauseTime,this.hp=c.pauseVolume,this.dw=c.volume,this.BP())}}f.Va.xV=a}"use strict";function ic(f,a,c){return f.J.mb().ci()?a():c()}function jc(f,a,c){return"relative"===f.J.Ud()?a():c()}
function kc(f){if(f.Ur)return f.Ur;f.Ur=f.ge.Zs();return f.Ur}function lc(f,a=!1){const c=[];for(const e of f){f=e.jb.Qe();for(const b of e.Cx())a&&0===b.xa()?c.push({time:f+b.xa(),value:b.mh}):a||c.push({time:f+b.xa(),value:b.mh})}return c.sort((e,b)=>e.time-b.time)}function mc(f,a){for(let c=a.length-1;0<=c;c--)if(a[c].time<=f)return a[c];return null}
self.B.Va.Se=class{constructor(f){this.ge=f;this.J=f.zf();this.Ma=this.J.jb.m();this.Oc=this.J.pa.Oc;this.mr=!1;this.Ur=this.Hh=null}A(){this.Ur=this.Hh=this.Ma=this.J=this.ge=null}Bj(){return!1}Kk(){}ej(){this.Ur=this.Hh=this.Ma=null}sb(){return this.ge}zf(){return this.J}m(){return this.Ma?this.Ma:this.Ma=this.J.jb.m()}li(){}Gc(){}se(){}Uw(){this.Hh=null}me(){}Th(){}Uh(){}uC(f){return typeof this.Ok()===typeof f}Gp(){}xn(){}Fp(){}ro(){return ic(this,()=>{const f=this.J.pa;return this.J.Ed().rx(f)},
()=>{const f=this.J.pa;return this.J.Ed().In(f)}).mh}Fy(){const f=this.J.mb().xa()-this.J.jb.Qe();return ic(this,()=>{const a=this.J.pa;return this.J.Ed().Xh(f,a)},()=>{const a=this.J.pa,c=this.J.Ed(),e=c.sL(f,a);return e?e:c.In(a)}).mh}Iy(){}ve(){return this.ge.Da()}ea(){return{firstAbsoluteUpdate:this.mr,saveState:this.Hh}}ia(f){f&&(this.mr=f.firstAbsoluteUpdate,this.Hh=f.saveState)}};
{"use strict";const f=self.B,a=new Map,c=[0,0,0];class e extends f.Va.Se{constructor(b){super(b)}li(){}Gc(){}se(){}me(){const b=this.J.Fd(),h=kc(this),m=this.ve();switch(b){case "behavior":return this.$y(h.uc(m));case "effect":return this.$y(h[m]);case "plugin":return this.$y(h.uc(m));case "world-instance":return this.$y(this.Ok())}}Th(){const b=this.ro();return!this.BO(b,this.Ok())}Uh(){return f.Vd(this.Hh)?!1:!this.BO(this.Hh,this.Ok())}BO(b,h){b=this.Fq(b);h=this.Fq(h);return b.Hl(h)}ro(){const b=
super.ro();return this.Fq(b)}Fy(){const b=super.Fy();return this.Fq(b)}Iy(){}$y(b){return f.Xl(b,f.Ya)?b.toArray().slice(0,3):b.slice(0,3)}Fq(b){return f.Xl(b,f.Ya)?b:new f.Ya(b[0],b[1],b[2],1)}uC(){return!0}Bj(){return!0}Gp(){var b=this.J.mb(),h=this.J.wa();const m=this.J.sb();(b=b.Ws(h,m,this.Oc))&&1<b.length&&(a.has(h)||a.set(h,new Map),h=a.get(h),b=this.J.Fd(),h.has(b)||h.set(b,new Map),h=h.get(b),h.has(this.Oc)||h.set(this.Oc,{PU:!1,color:new f.Ya(0,0,0,1)}))}rP(b,h,m){b=a.get(b).get(h).get(m);
b.PU=!0;return b.color}xn(b,h){var m=this.J.mb(),g=this.J.jb;b=this.J.wa();var l=this.J.sb();const n=this.J.Fd();if((l=m.Ws(b,l,this.Oc))&&1<l.length){if(l=lc(l,!0),m=m.xa(),m=mc(m,l))l=m.time-g.Qe(),0===l?this.rP(b,n,this.Oc).AT(h[0],h[1],h[2]):0>l||(m=h[0],g=h[1],h=h[2],l=this.J.Aa(l,!1,!0),m=f.Ya.EC(m,l[0]),g=f.Ya.EC(g,l[1]),h=f.Ya.EC(h,l[2]),this.rP(b,n,this.Oc).AT(m,g,h))}else this.Nj(h[0],h[1],h[2])}Fp(){const b=this.J.wa();if(a.has(b)){var h=a.get(b),m=this.J.Fd();if(h.has(m)){var g=h.get(m);
if(g.has(this.Oc)){var l=g.get(this.Oc),n=l.color;l.PU&&this.Nj(n.Pa,n.Ta,n.Sa);0===g.size&&h.delete(m);0===h.size&&a.delete(b)}}}}Ok(){const b=this.J.Fd(),h=kc(this),m=this.ve();switch(b){case "behavior":return this.Fq(h.uc(m));case "effect":return h[m].clone();case "plugin":return this.Fq(h.uc(m));case "world-instance":return this.m().$a.clone()}}Nj(b,h,m){const g=this.J.Fd(),l=kc(this),n=this.ve();switch(g){case "behavior":c[0]=b;c[1]=h;c[2]=m;l.fh(n,c);break;case "effect":l[n].ws(b,h,m);break;
case "plugin":c[0]=b;c[1]=h;c[2]=m;l.fh(n,c);break;case "world-instance":this.m().f3(b,h,m)}}ea(){}ia(){}}f.Va.Se.YV=e}
{"use strict";const f=self.B,a=f.Va;class c extends f.Va.Se{constructor(e){super(e)}li(){}Gc(){}se(){}me(){return this.Ok()}Th(){return this.ro()!==this.me()}Uh(){return f.Vd(this.Hh)?!1:this.Hh!==this.me()}Bj(){return!1}xn(e,b){const h=this.J,m=h.jb,g=h.Fd();var l=h.mb();const n=m.wa(),p=h.sb();(l=l.Ws(n,p,this.Oc))&&1<l.length&&(l=lc(l),e=mc(e+m.Qe(),l))&&(b=e.value);switch(h.Us()){case "numeric":if(!a.mt.Lk(this.ve(),kc(this),b,g))return;break;case "angle":if(!a.Iw.Lk(this.ve(),kc(this),b,g))return;
break;case "boolean":if(!a.Kw.Lk(this.ve(),kc(this),b,g))return;break;case "color":if(!a.Vw.Lk(this.ve(),kc(this),b,g))return;break;case "text":if(!a.wy.Lk(this.ve(),kc(this),b,g))return}this.Nj(b)}Ok(){const e=this.J.Fd(),b=kc(this),h=this.ve();switch(e){case "behavior":return b.uc(h);case "effect":return b[h];case "instance-variable":return b.oe(h);case "plugin":return b.uc(h)}}Nj(e){const b=this.J.Fd(),h=kc(this),m=this.ve();switch(b){case "behavior":h.fh(m,e);break;case "effect":h[m]=e;break;
case "instance-variable":h.fm(m,e);break;case "plugin":h.fh(m,e)}}}f.Va.Se.xM=c}
{"use strict";const f=self.B,a=new Map,c=(b,h,m,g,l,n=!1,p=null,q=null)=>{a.set(b,{jda:h,Cba:m,oca:g,round:l,hca:n,init:p,reset:q})};c("offsetX",(b,h)=>b.K0(h),(b,h)=>b.ih(h),b=>b.ya(),!0);c("offsetY",(b,h)=>b.L0(h),(b,h)=>b.ri(h),b=>b.za(),!0);c("offsetWidth",(b,h)=>b.AM(h),(b,h)=>b.pi(h),b=>b.Z(),!0);c("offsetHeight",(b,h)=>b.zM(h),(b,h)=>b.ji(h),b=>b.X(),!0);c("offsetAngle",(b,h)=>b.G0(h),(b,h)=>b.wd(h),b=>b.Na(),!1);c("offsetOpacity",(b,h,m,g)=>{m=b.Dd()+h;0===g.qc?(1<m?g.qc+=m-1:0>m&&(g.qc+=
m),b.H0(h)):(b=b.Dd()+h,0<h&&0<g.qc?1<b&&(g.qc+=b-1):0<h&&0>g.qc?(g.qc+=h,0<g.qc&&(g.qc=0)):0>h&&0<g.qc?(g.qc+=h,0>g.qc&&(g.qc=0)):0>h&&0>g.qc&&0>b&&(g.qc+=b))},(b,h)=>{b.ki(h)},b=>b.Dd(),!1,!0,b=>{b.qc=0;switch(b.J.Ud()){case "relative":{b.J.Ed();const l=b.J.pa.ig().Fb;var h=b.m().Dd(),m=h;for(var g of l)m=g.xa(),m=b.J.pe(m),m=h+m,m=f.aa(m,0,1);b.Zr=h-m;b.Zr=Math.round(100*(b.Zr+Number.EPSILON))/100;m=h;for(h=l.length-1;0<=h;h--)g=l[h].xa(),g=b.J.pe(g),m-=g,m=f.aa(m,0,1);b.Yr=m;b.Yr=Math.round(100*
(b.Yr+Number.EPSILON))/100}}},b=>{switch(b.J.Ud()){case "relative":{b.qc=0;const h=b.m();let m=h.Dd();m=Math.round(100*(m+Number.EPSILON))/100;b.J.mb().ci()?(h.ki(m+b.Zr),b.Eb=0):(h.ki(m-b.Yr),b.Eb=b.sb().iD())}}});c("offsetOriginX",(b,h)=>b.I0(h),(b,h)=>b.vq(h),b=>b.Bk(),!1);c("offsetOriginY",(b,h)=>b.J0(h),(b,h)=>b.wq(h),b=>b.Ck(),!1);c("offsetZElevation",(b,h)=>b.M0(h),(b,h)=>b.Ue(h),b=>b.Za(),!0);c("offsetScaleX",(b,h,m)=>{const g=0>b.Z()?-1:1;b.AM(m.pj()*g*h)},(b,h,m)=>{b.pi(m.pj()*h)},(b,h)=>
{const m=0>b.Z()?-1:1;if(b.Ln()){var g=b.Ba(),l=h.mb().ML(g.wa());l?g=g.Z()/l.pj():(l=g.wa().ka,g=l.Wn()?g.Z()/l.pj():1);return b.Z()*m/(h.pj()*g)}return b.Z()*m/h.pj()},!1);c("offsetScaleY",(b,h,m)=>{const g=0>b.X()?-1:1;b.zM(m.oj()*g*h)},(b,h,m)=>{b.ji(m.oj()*h)},(b,h)=>{const m=0>b.X()?-1:1;if(b.Kn()){var g=b.Ba(),l=h.mb().ML(g.wa());l?g=g.X()/l.oj():(l=g.wa().ka,g=l.Wn()?g.X()/l.oj():1);return b.X()*m/(h.oj()*g)}return b.X()*m/h.oj()},!1);class e extends f.Va.Se{constructor(b){super(b);this.Yr=
this.Zr=this.qc=this.Eb=0;this.$S=this.bT=this.aT=this.gH=this.tI=this.mH=this.oH=this.nH=null;this.OG=this.wI=!1;this.Sm=f.Xl(this.J.mb(),f.E3)?new f.Va.Se.F0(this):new f.Va.Se.E0(this);const h=this.J.pa.Oc;switch(this.J.Fd()){case "world-instance":b=a.get(h);this.nH=b.oca;this.oH=b.jda;this.mH=b.Cba;this.wI=b.round;this.OG=b.hca;this.gH=b.init;this.tI=b.reset;break;case "audio":this.aT=b.QL,this.bT=b.l3,this.$S=b.WU,this.wI=!0,this.OG=!1}}A(){this.mH=this.oH=this.nH=this.Sm=null;super.A()}Bj(){return this.Sm.Bj()}FN(b){this.Eb=
b}li(){this.tI&&this.tI(this)}Gc(){const b=this.Sm.Gc();"number"===typeof b&&(this.Eb=b);this.gH&&this.gH(this)}se(){const b=this.Sm.se();"number"===typeof b&&(this.Eb=b)}me(){return this.Ok()}Th(){return this.ro()!==this.me()}Uh(){return f.Vd(this.Hh)?!1:this.Hh!==this.me()}Gp(){this.Sm.Gp()}xn(b,h,m,g,l,n,p){return this.Sm.xn(b,h,m,g,l,n,p)}Fp(){this.Sm.Fp()}Ok(){const b=kc(this),h=this.ve(),m=this.m(),g=this.J.jb;switch(this.J.Fd()){case "behavior":return b.uc(h);case "effect":return b[h];case "instance-variable":return b.oe(h);
case "plugin":return b.uc(h);case "world-instance":return this.nH(m,g);case "audio":return this.aT.call(this.sb(),m,g)}}Nj(b){const h=kc(this),m=this.ve(),g=this.m(),l=this.J.jb;switch(this.J.Fd()){case "behavior":h.OD(m,b);break;case "effect":h[m]+=b;break;case "instance-variable":h.F2(m,b);break;case "plugin":h.OD(m,b);break;case "world-instance":this.oH(g,b,l,this);break;case "audio":this.bT.call(this.sb(),g,b,l,this)}}HQ(b){const h=kc(this),m=this.ve(),g=this.m(),l=this.J.jb;switch(this.J.Fd()){case "behavior":h.fh(m,
b);break;case "effect":h[m]=b;break;case "instance-variable":h.fm(m,b);break;case "plugin":h.fh(m,b);break;case "world-instance":this.mH(g,b,l);break;case "audio":this.$S.call(this.sb(),g,b,l)}}Lq(b,h,m,g,l,n){this.Sm.Lq(b,h,m,g,l,n)}Mk(b,h,m){b=(b.toString().split(".")[1]||"").length;const g=this.Ok();this.Nj((0===b?this.wI?Math.round(g):this.OG?Math.round(100*(g+Number.EPSILON))/100:g:f.toFixed(g,b))-g,h,m)}ea(){return Object.assign(super.ea(),{v:this.Eb,a:this.qc,fod:this.Zr,bod:this.Yr})}ia(b){b&&
(super.ia(b),this.Eb=b.v,this.qc=b.a,this.Zr=f.Ef(b.fod)?b.fod:0,this.Yr=f.Ef(b.bod)?b.bod:0)}}f.Va.Se.yM=e}
{"use strict";class f{constructor(c){this.cJ=!1;this.tc=0;this.Oa=c;for(let e=0,b=this.Oa.length;e<b;e++)this.Oa[e].h2(this)}SN(){this.cJ=!0}te(c){this.tc=c}Vb(){return this.tc}Yc(){this.cJ=!1;this.tc=0}}class a{constructor(c){this.de=c}A(){this.de=null}Gc(){const c=this.de;this.de.zf();return jc(c,()=>ic(c,()=>0,()=>c.sb().iD()),()=>{})}se(){}Bj(){switch(this.de.zf().Ud()){case "relative":return!1;case "absolute":return!0}}Gp(){var c=this.de.zf(),e=c.pa.Oc;switch(c.Ud()){case "absolute":if(c.mD())c.mu.Yc();
else{const b=c.mb(),h=c.wa();c=c.sb();(e=b.Ws(h,c,e))&&1<e.length&&new f(e)}}}xn(c,e,b,h,m,g){var l=this.de,n=this.de.zf();switch(n.Ud()){case "relative":n=l.Eb;l.Nj(e-n,b,h);g&&this.Lq(c,b,h,m,n,e);l.FN(e);break;case "absolute":if(b=n.mb(),c=n.jb,n.wa(),n.sb(),n.mD()){if(l=n.mu,h=lc(l.Oa,!0),b=b.xa(),b=mc(b,h))c=b.time-c.Qe(),0===c?(l.SN(),l.te(l.Vb()+e)):0>c||(n=n.pe(c),l.SN(),l.te(l.Vb()+(e-n)))}else l.HQ(e)}}Fp(){const c=this.de;var e=this.de.zf();switch(e.Ud()){case "absolute":e.mD()&&(e=e.mu,
e.cJ&&c.HQ(e.Vb()))}}Lq(c,e,b,h,m,g){const l=this.de;h||(e&&c===e.xa()?l.Mk(e.kc(),e,b):b&&c===b.xa()?l.Mk(b.kc(),e,b):0===g-m&&l.Mk(e.kc(),e,b))}}self.B.Va.Se.E0=a}
{"use strict";class f{constructor(a){this.de=a}A(){this.de=null}Gc(){const a=this.de;a.mr=!0;return this.Iy(a.ro())}se(){const a=this.de;if(a.ro()!==a.Fy())return a.mr=!0,this.Iy(a.Fy())}Bj(){return!1}Gp(){}xn(a,c,e,b,h,m){const g=this.de,l=g.Eb;switch(g.zf().Ud()){case "relative":g.Nj(c-l,e,b);m&&this.Lq(a,e,b,h,l,c);break;case "absolute":g.mr?(g.mr=!1,g.Nj(l,e,b)):(g.Nj(c-l,e,b),m&&this.Lq(a,e,b,h,l,c))}g.FN(c)}Fp(){}Iy(a){return a-this.de.me()}Lq(a,c,e,b,h,m){const g=this.de;b?c&&a===c.xa()?g.Mk(c.kc(),
c,e):e&&a===e.xa()?g.Mk(e.kc(),c,e):e||g.Mk(c.kc(),c,e):c&&a===c.xa()?g.Mk(c.kc(),c,e):e&&a===e.xa()?g.Mk(e.kc(),c,e):0===m-h&&g.Mk(c.kc(),c,e)}}self.B.Va.Se.F0=f}
{"use strict";const f=self.B,a=self.Ds;f.Va.mt=class{constructor(){}static Lk(c,e,b,h){let m;switch(h){case "behavior":m=e.uc(c);break;case "effect":m=e[c];break;case "instance-variable":m=e.oe(c);break;case "plugin":m=e.uc(c)}return m===b?!1:!0}static Aa(c,e,b,h){if(!b)return b=h.pa,b=h.Ed().In(b),b.kc();var m=h.Yh();"default"===m&&(m="continuous");"combo"===h.Dx()&&(m="discrete");if("discrete"===m)return e.kc();if("continuous"===m||"step"===m){"step"===m&&(m=h.mb().Xs(),0!==m&&(m=1/m,c=Math.floor(c*
m)/m));var g=e.xa();const l=b.xa();m=e.kc();const n=b.kc();if(m===n)return m;c=f.normalize(c,g,l);const p=e.Sl();e=e.MC("cubic-bezier");b=b.MC("cubic-bezier");e&&e.Nv&&b&&b.Gz?(g=l-g,g=a.Jn(p)(g*c,0,1,g),g=a.Jn("cubicbezier")(g,m,m+e.II,n+b.JG,n)):g=a.Jn(p)((l-g)*c,m,n-m,l-g);return"integer"===h.Dx()?Math.floor(g):g}}}}
{"use strict";const f=self.B;f.Va.Iw=class{constructor(){}static Lk(a,c,e,b){let h;switch(b){case "behavior":h=c.uc(a);break;case "effect":h=c[a];break;case "instance-variable":h=c.oe(a);break;case "plugin":h=c.uc(a)}return h===e?!1:!0}static Aa(a,c,e,b){if(!e)return c=b.pa,c=b.Ed().In(c),c.kc();var h=b.Yh();"default"===h&&(h="continuous");"combo"===b.Dx()&&(h="discrete");if("discrete"===h)return c.kc();if("continuous"===h||"step"===h){"step"===h&&(b=b.mb().Xs(),0!==b&&(b=1/b,a=Math.floor(a*b)/b));
const m=c.xa(),g=e.xa();b=c.kc();e=e.kc();if(h=c.MC("angle")){const l=h.vI;if(b===e&&0===l)return b;a=f.normalize(a,m,g);c=self.Ds.Jn(c.Sl())(a,0,1,1);switch(h.CG){case "closest":return f.lJ(b,e,c,l);case "clockwise":return f.Iba(b,e,c,l);case "anti-clockwise":return f.Hba(b,e,c,l)}}else{if(b===e)return b;a=f.normalize(a,m,g);c=self.Ds.Jn(c.Sl());return f.lJ(b,e,c(a,0,1,1))}}}}}"use strict";
self.B.Va.Kw=class{constructor(){}static Lk(f,a,c,e){let b;switch(e){case "behavior":b=a.uc(f);break;case "effect":b=a[f];break;case "instance-variable":b=a.oe(f);break;case "plugin":b=a.uc(f)}return!!b===!!c?!1:!0}static Aa(f,a,c,e){return c?a.kc()?1:0:(f=e.pa,f=e.Ed().In(f),f.kc()?1:0)}};
{"use strict";const f=self.B,a=[0,0,0],c=[0,0,0],e=[0,0,0];f.Va.Vw=class{constructor(){}static Lk(b,h,m,g){let l;switch(g){case "behavior":l=h.uc(b);break;case "effect":l=h[b];break;case "instance-variable":l=h.oe(b);break;case "plugin":l=h.uc(b)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.kU(m),a[0]=Math.floor(255*e.Pa),a[1]=Math.floor(255*e.Ta),a[2]=Math.floor(255*e.Sa));Array.isArray(l)?(c[0]=l[0],c[1]=l[1],c[2]=l[2]):(e.kU(l),c[0]=Math.floor(255*e.Pa),c[1]=Math.floor(255*e.Ta),c[2]=Math.floor(255*
e.Sa));return a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]?!0:!1}static Aa(b,h,m,g){if(!m)return h=g.pa,h=g.Ed().In(h),h=h.kc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;var l=g.Yh();"default"===l&&(l="continuous");if("discrete"===l)return h=h.kc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.mb().Xs(),0!==g&&(g=1/g,b=Math.floor(b*g)/g));g=h.xa();l=m.xa();var n=h.kc(),p=m.kc();const q=f.normalize(b,g,l);b=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.Ds.Jn(h.Sl());g=l-g;
l=g*q;a[0]=b===u?b:h(l,b,u-b,g);a[1]=m===w?m:h(l,m,w-m,g);a[2]=n===p?n:h(l,n,p-n,g);return a}}}}"use strict";self.B.Va.wy=class{constructor(){}static Lk(f,a,c,e){let b;switch(e){case "behavior":b=a.uc(f);break;case "effect":b=a[f];break;case "instance-variable":b=a.oe(f);break;case "plugin":b=a.uc(f)}return b===c?!1:!0}static Aa(f,a,c,e){return c?a.kc():(f=e.pa,f=e.Ed().In(f),f.kc())}};
{"use strict";const f=self.B;f.sg=class{constructor(){this.Vv=new Map}A(){for(const a of this.Vv.values())a.A();this.Vv.clear();this.Vv=null}Uc(a){a=new f.z3(a);this.Vv.set(a.ra(),a)}V(a){return this.Vv.get(a)}static Ot(a,c,e,b){if(c)for(const h of c)f.sg.DO("create",h,a,e,b)}static Xt(a,c,e,b){a.length?c.forEach((h,m)=>{a[m].ia(h)}):c.forEach(h=>{f.sg.DO("load",h,a,e,b)})}static DO(a,c,e,b,h){let m;if("function"===typeof b)switch(a){case "load":m=new b(null,h);break;case "create":m=new b(c,h)}else if("object"===
typeof b)switch(b=b.map.get(c[b.oU]),a){case "load":m=new b(null,h);break;case "create":m=new b(c,h)}switch(a){case "load":m.ia(c);e.push(m);break;case "create":"function"!==typeof m.yk||m.yk()?e.push(m):m.A()}}}}
{"use strict";const f=self.B;f.z3=class{constructor(a){this.Ca="";this.$r=NaN;this.pB=0;this.Uf=this.Sf="default";this.SA=this.IA=!1;this.Or=1;this.Fe=null;a&&(this.Ca=a[0],this.$r=a[1],this.pB=a[2],this.Sf=a[3],this.Uf=a[4],this.IA=!!a[6],this.SA=!!a[7],this.Or=a[8],this.Fe=new f.YN(a[5],this))}A(){this.Fe.A();this.Fe=null}$s(){this.Fe||(this.Fe=new f.YN(null,this));return this.Fe}ra(){return this.Ca}uy(a){this.Ca=a}dd(){return this.$r}Xs(){return this.pB}Yh(){return this.Sf}Ud(){return this.Uf}xx(){return this.IA}Bx(){return this.SA}jg(){return this.Or}ea(){return{trackDataJson:this.Fe.ea(),
name:this.Ca,totalTime:this.$r,step:this.pB,interpolationMode:this.Sf,resultMode:this.Uf,loop:this.IA,pingPong:this.SA,repeatCount:this.Or}}ia(a){a&&(this.$s().ia(a.trackDataJson),this.Ca=a.name,this.$r=a.totalTime,this.pB=a.step,this.Sf=a.interpolationMode,this.Uf=a.resultMode,this.IA=a.loop,this.SA=a.pingPong,this.Or=a.repeatCount)}}}
{"use strict";const f=self.B;class a{constructor(c,e){this.Fe=e;this.nm=this.dA=null;this.ol=this.bl=NaN;this.Uf=this.Sf="default";this.Dg=!1;this.ec=this.zh=null;this.zc="";this.Fr=null;this.JI=0;this.GA=this.Fe.Cd.dd();this.na=0;this.Ca="";c&&(c[0]&&(this.dA=c[0],this.bl=c[0][2],this.ol=c[0][1]),this.Sf=c[1],this.Uf=c[2],this.Dg=!!c[3],c[6]&&(this.zc=c[6]),c[7]&&(this.Fr=c[7],this.JI=c[7][0],this.GA=c[7][1]),c[8]&&(this.nm=c[8]),c[8]&&(this.nm=c[8]),c[9]&&(this.na=c[9]),c[10]&&(this.Ca=c[10]),this.zh=
new f.mM(c[4],this),this.ec=new f.PM(c[5],this))}A(){this.Fe=this.dA=null;this.zh&&(this.zh.A(),this.zh=null);this.ec&&(this.ec.A(),this.ec=null);this.Fr=null}$s(){return this.Fe}nj(){this.zh||(this.zh=new f.mM(null,this));return this.zh}Ed(){this.ec||(this.ec=new f.PM(null,this));return this.ec}eD(){return this.ol}Ss(){return this.bl}Yh(){return this.Sf}Ud(){return this.Uf}yk(){return this.Dg}Jk(c){this.Dg=!!c}Gn(){return this.zc}Qe(){return this.JI}Ak(){return this.GA}pj(){return this.nm[0]}oj(){this.nm||
(this.nm=[]);return this.nm[1]}wj(){return this.na}ra(){return this.Ca}ea(){return{keyframeDataJson:this.zh.ea(),propertyTrackDataJson:this.ec.ea(),instanceData:this.dA,additionalInstanceData:this.nm,instanceUid:this.bl,objectClassIndex:this.ol,interpolationMode:this.Sf,resultMode:this.Uf,enabled:this.Dg,id:this.zc,nestedData:this.Fr,type:this.na,name:this.Ca}}ia(c){c&&(this.dA=c.instanceData,this.bl=c.instanceUid,this.ol=c.objectClassIndex,this.Sf=c.interpolationMode,this.Uf=c.resultMode,this.Dg=
c.enabled,this.zc=c.id,this.na=c.type?c.type:0,this.Ca=c.name?c.name:"",this.GA=this.Fe.Cd.dd(),c.nestedData&&(this.Fr=c.nestedData,this.JI=this.Fr[0],this.GA=this.Fr[1]),c.additionalInstanceData&&(this.nm=c.additionalInstanceData),this.nj().ia(c.keyframeDataJson),this.Ed().ia(c.propertyTrackDataJson))}}f.YN=class{constructor(c,e){this.Cd=e;this.yp=[];f.sg.Ot(this.yp,c,a,this)}A(){this.Cd=null;for(const c of this.yp)c.A();f.C(this.yp);this.yp=null}PY(c,e){e=e.nj().cc;const b=e.length;for(let h=0;h<
b;h++){const m=e[h];if(m.xa()===c)return m}}qL(c,e){e=e.nj().cc;for(let b=e.length-1;0<=b;b--){const h=e[b];if(h.xa()<=c)return h}}*IU(){for(const c of this.yp)yield c}ea(){return{trackDataItemsJson:this.yp.map(c=>c.ea())}}ia(c){c&&f.sg.Xt(this.yp,c.trackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(c,e){this.ec=e;this.iB="";this.na=this.Oc=this.Wf=null;this.YH=this.bI=NaN;this.Uf=this.Sf="default";this.Dg=!1;this.Ui=null;this.rz=!0;c&&(this.iB=c[0][0],this.Wf=c[0].slice(1),this.Oc=c[1],this.na=c[2],this.bI=c[3],this.YH=c[4],this.Sf=c[5],this.Uf=c[6],this.Dg=!!c[7],this.Ui=new f.OM(c[8],this),this.rz=c[9])}A(){this.Ui.A();this.Wf=this.ec=this.Ui=null}Ed(){return this.ec}ig(){this.Ui||(this.Ui=new f.OM(null,this));return this.Ui}Fd(){return this.iB}wj(){return this.na}QN(c){this.na=
c}Yh(){return this.Sf}Ud(){return this.Uf}yk(){return this.Dg}Jk(c){this.Dg=!!c}vC(){return!!this.rz}ea(){return{propertyKeyframeDataJson:this.Ui.ea(),sourceAdapterId:this.iB,sourceAdapterArguments:this.Wf,property:this.Oc,type:this.na,min:this.bI,max:this.YH,interpolationMode:this.Sf,resultMode:this.Uf,enabled:this.Dg,canHavePropertyKeyframes:this.rz}}ia(c){c&&(this.iB=c.sourceAdapterId,this.Wf=c.sourceAdapterArguments,this.Oc=c.property,this.na=c.type,this.bI=c.min,this.YH=c.max,this.Sf=c.interpolationMode,
this.Uf=c.resultMode,this.Dg=c.enabled,this.rz=c.canHavePropertyKeyframes,this.ig().ia(c.propertyKeyframeDataJson))}}f.PM=class{constructor(c,e){this.Hb=e;this.kp=[];f.sg.Ot(this.kp,c,a,this)}A(){this.Hb=null;for(const c of this.kp)c.A();f.C(this.kp);this.kp=null}rx(c){return c.ig().Fb[0]}In(c){return c.ig().Fb.Sd(-1)}hZ(c,e){e=e.ig().Fb;const b=e.length;for(let h=0;h<b;h++){const m=e[h];if(m.xa()===c)return m}}sL(c,e){e=e.ig().Fb;const b=e.length;for(let h=0;h<b;h++){const m=e[h];if(m.xa()>=c)return m}}Xh(c,
e){e=e.ig().Fb;for(let b=e.length-1;0<=b;b--){const h=e[b];if(h.xa()<=c)return h}}*pU(){for(const c of this.kp)yield c}ea(){return{propertyTrackDataItemsJson:this.kp.map(c=>c.ea())}}ia(c){c&&f.sg.Xt(this.kp,c.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(c,e){this.zh=e;this.ad=-1;this.Hi="noease";this.Ii=!1;this.sv=this.Og=null;c&&(this.ad=c[0],this.Hi=c[1],this.Ii=!!c[2],this.Og=(c=c[3])?c.split(" "):[],this.sv=new Set(this.Og.map(b=>b.toLowerCase())),this.Ce=null)}A(){this.zh=null;f.C(this.Og);this.Og=null;this.sv.clear();this.sv=null}nj(){return this.zh}Ct(c){this.Ce=c}xa(){return this.ad}Bq(c){this.ad=c;this.zh.Vt()}Sl(){return this.Hi}Ej(c){this.Hi=c}yk(){return this.Ii}Jk(c){this.Ii=!!c}ON(c){this.Og=
c?c.split(" "):[];this.sv=new Set(this.Og.map(e=>e.toLowerCase()))}ea(){return{time:this.ad,ease:this.Hi,enable:this.Ii,tags:this.Og}}ia(c){c&&(this.ad=c.time,this.Hi=c.ease,this.Ii=c.enable,this.Og=c.tags,this.sv=new Set(this.Og.map(e=>e.toLowerCase())))}}f.mM=class{constructor(c,e){this.Hb=e;this.cc=[];f.sg.Ot(this.cc,c,a,this);this.Vt()}A(){this.Hb=null;for(const c of this.cc)c.A();f.C(this.cc);this.cc=null}Vt(){this.cc.sort((c,e)=>c.xa()-e.xa());for(let c=0;c<this.cc.length;c++)this.cc[c].Ct(this.cc[c+
1])}aV(){const c=new a(null,this);this.cc.push(c);this.Vt();return c}zW(c){for(const e of this.cc){if(!c(e))continue;const b=this.cc.indexOf(e);-1!==b&&(e.A(),this.cc.splice(b,1))}this.p3();this.Vt()}p3(){this.cc.sort((c,e)=>c.xa()-e.xa())}RY(c){return this.cc.indexOf(c)}QY(c){return this.cc[c]}ea(){return{keyframeDataItemsJson:this.cc.map(c=>c.ea())}}ia(c){c&&(f.sg.Xt(this.cc,c.keyframeDataItemsJson,a,this),this.Vt())}}}
{"use strict";const f=self.B;class a{constructor(c,e){this.Ui=e;this.mh=this.tc=null;this.na="";this.ad=NaN;this.Hi="noease";this.Ii=!1;this.yi=null;this.Rk=void 0;c&&(this.tc=c[0][0],this.mh=c[0][1],this.na=c[0][2],this.ad=c[1],this.Hi=c[2],this.Ii=!!c[3],this.yi=null,c[4]&&(this.yi=new f.lV(c[4],this)),this.Ce=null)}A(){this.Ui=null;this.yi&&(this.yi.A(),this.yi=null)}Ct(c){this.Ce=c}Vb(){return this.tc}te(c){"color"===this.na&&f.Ef(c)?(this.tc[0]=f.gD(c),this.tc[1]=f.aD(c),this.tc[2]=f.OC(c)):
this.tc=c}mN(c){"color"===this.na&&f.Ef(c)?(this.mh[0]=f.gD(c),this.mh[1]=f.aD(c),this.mh[2]=f.OC(c)):this.mh=c}kc(){const c=this.Ui.pa.Ud();if("relative"===c)return this.Vb();if("absolute"===c)return this.mh}wj(){return this.na}QN(c){this.na=c}xa(){return this.ad}Bq(c){this.ad=c;this.Ui.Wt()}Sl(){return this.Hi}Ej(c){this.Hi=c}yk(){return this.Ii}Jk(c){this.Ii=!!c}MC(c){if(this.yi){if(this.Rk||null===this.Rk)return this.Rk;var e=this.yi.xo;if(!e)return this.Rk=null;var b=e.length;for(let h=0;h<b;h++){const m=
e[h];if(m.Gn()===c)return this.Rk=m}return this.Rk=null}}ea(){const c=this.yi;return{addonDataJson:c?c.ea():c,value:this.tc,aValue:this.mh,type:this.na,time:this.ad,ease:this.Hi,enable:this.Ii}}ia(c){c&&(c.addonDataJson&&this.yi.Xka(c.addonDataJson),this.tc=c.value,this.mh=c.aValue,this.na=c.type,this.ad=c.time,this.Hi=c.ease,this.Ii=c.enable)}}f.OM=class{constructor(c,e){this.pa=e;this.Fb=[];f.sg.Ot(this.Fb,c,a,this);this.Wt()}A(){this.pa=null;for(const c of this.Fb)c.A();f.C(this.Fb);this.Fb=null}Wt(){this.Fb.sort((c,
e)=>c.xa()-e.xa());for(let c=0;c<this.Fb.length;c++)this.Fb[c].Ct(this.Fb[c+1])}nK(){const c=new a(null,this);this.Fb.push(c);this.Wt();return c}TK(c){for(const e of this.Fb){if(!c(e))continue;const b=this.Fb.indexOf(e);-1!==b&&(e.A(),this.Fb.splice(b,1))}this.q3();this.Wt()}q3(){this.Fb.sort((c,e)=>c.xa()-e.xa())}ea(){return{propertyKeyframeDataItemsJson:this.Fb.map(c=>c.ea())}}ia(c){c&&(f.sg.Xt(this.Fb,c.propertyKeyframeDataItemsJson,a,this),this.Wt())}}}
{"use strict";const f=self.B;class a{constructor(b,h){this.yi=h;this.zc=b[0];this.Xk=b[1]}A(){this.Xk=this.yi=null}Gn(){return this.zc}ea(){return{id:this.zc,data:this.Xk}}ia(b){b&&(this.zc=b.id,this.Xk=b.data)}}class c extends a{constructor(b,h){super(b,h);this.II=this.Xk[0];this.Nv=!!this.Xk[1];this.JG=this.Xk[2];this.Gz=!!this.Xk[3]}A(){super.A()}ea(){return Object.assign(super.ea(),{startAnchor:this.II,startEnable:!!this.Nv,endAnchor:this.JG,endEnable:!!this.Gz})}ia(b){b&&(super.ia(b),this.II=
b.startAnchor,this.Nv=!!b.startEnable,this.JG=b.endAnchor,this.Gz=!!b.endEnable)}}class e extends a{constructor(b,h){super(b,h);this.CG=this.Xk[0];this.vI=this.Xk[1]}A(){super.A()}ea(){return Object.assign(super.ea(),{direction:this.CG,revolutions:this.vI})}ia(b){b&&(super.ia(b),this.CG=b.direction,this.vI=b.revolutions)}}f.lV=class{constructor(b){this.xo=[];f.sg.Ot(this.xo,b,{oU:0,map:new Map([["cubic-bezier",c],["angle",e]])},this)}A(){for(const b of this.xo)b.A();f.C(this.xo);this.xo=null}ea(){return{addonDataItemsJson:this.xo.map(b=>
b.ea())}}ia(b){b&&f.sg.Xt(this.xo,b.addonDataItemsJson,{oU:"id",map:new Map([["cubic-bezier",c],["angle",e]])},this)}}}
{"use strict";const f=self.B;let a=0;f.E3=class extends f.mo{constructor(c,e){super(`tween-${a++}`,c,e);this.zc="";this.oR=!1;this.iH="start-value";this.jb=this.GS=this.FS=this.ac=null}OK(){for(const c of this.Cd.$s().IU())this.fb.push(f.cO.Ja(this,c));this.jb=this.fb[0]}zf(){return this.jb.Oa[0]}wa(){var c=this.fb;if(c&&c.length&&(this.jb=c=c[0])){var e=c.wa();return c.Yl()?e:void 0}}Gn(){return this.zc}EM(){if(this.GS)for(const c of this.GS)c(this);if(!this.Of)for(const c of this.fb)c.Uh()}PD(){this.Wq=
this.g.ek}cL(){if(!this.Mo&&(this.Mo=!0,this.FS))for(const c of this.FS)c(this)}Bq(c){this.HO();super.Bq(c)}Qk(c){f.Ef(c)||(c=this.dd());this.Lb=0>c?0:c>=this.dd()?this.dd():c;this.jb.li()}Gc(c){if(!this.zm&&"current-state"===this.iH)for(const e of this.fb)e.Th();super.Gc(c)}Ve(c=!1){super.Ve(c);if(!this.Of)for(const e of this.fb)e.ho()}Yc(c=!0,e=!1){this.HO();super.Yc(c,e)}HO(){for(const c of this.fb){const e=b=>{b=b.xa();const h=this.dd();return 0!==b&&b!==h};c.AW(e);c.$w(e)}}bu(){if(this.Mg)return!0;
const c=this.wa();if(c&&c.F().Ff())return!1;this.Bb.CK(this);this.eN();return!0}We(c,e,b){this.ac||(this.ac=this.wa());if(this.ac&&!this.ac.ft()&&(e=this.ac.Qd,-1!==e&&(c=b*e),0!==c||0!==this.zA)){this.zA=c;b=this.Lb+c*this.Nc;c=this.Cd.$r;this.Lb=0>b?0:b>=c?c:b;e=b=!1;var h=this.xx(),m=this.Bx();h||m?h&&!m?0<this.Nc?this.Lb>=c&&(this.Qk(0),e=!0):0>=this.Lb&&(this.Qk(c),e=!0):!h&&m?0<this.Nc?this.Lb>=c&&(this.Hd(c),this.Fj(-1*this.Nc),e=!0,1===this.Ad?this.yd<this.jg()?(this.yd++,this.Ad=0):b=!0:
0===this.Ad&&(this.Ad=1)):0>=this.Lb&&(this.Hd(0),this.Fj(-1*this.Nc),e=!0,1===this.Ad?this.yd<this.jg()?(this.yd++,this.Ad=0):b=!0:0===this.Ad&&(this.Ad=1)):h&&m&&(0<this.Nc?this.Lb>=c&&(this.Hd(c),this.Fj(-1*this.Nc),e=!0):0>=this.Lb&&(this.Hd(0),this.Fj(-1*this.Nc),e=!0)):0<this.Nc?this.Lb>=c&&(this.yd<this.jg()?(this.yd++,this.Qk(0),e=!0):(this.Hd(c),b=!0)):0>=this.Lb&&(this.yd<this.jg()?(this.yd++,this.Qk(c),e=!0):(this.Hd(0),b=!0));b?(this.jb.vN(),this.Ve(!0),this.PD()):(this.jb.Aa(this.Lb,
!0,!1,e,this.Be,!1),this.Be&&(this.Be=!1))}}ea(){const c=super.ea();return Object.assign(c,{tweenDataItemJson:this.Cd.ea(),id:this.zc,destroyInstanceOnComplete:this.oR,initialValueMode:this.iH})}ia(c){c&&(this.Cd.ia(c.tweenDataItemJson),super.ia(c),this.zc=c.id,this.oR=c.destroyInstanceOnComplete,this.iH=c.initialValueMode)}static IsPlaying(c){return c.IsPlaying()}}}
{"use strict";const f=self.B;f.cO=class extends f.IE{constructor(a,c){super(a,c);this.zI=this.Nu=null}static Ja(a,c){return f.j(f.cO,a,c)}vO(){1===this.Oa.length?this.Nu=this.Oa[0]:(this.Nu=this.Oa[0],this.zI=this.Oa[1])}MK(){for(const a of this.Hb.Ed().pU())this.Oa.push(f.bO.Ja(this,a));this.vO()}un(){}Aa(a,c,e=!1,b=!1,h,m=!1){this.ac||this.wa();if(this.ac){if(this.ac.ft()||m&&this.F().Ff())return!1;this.zI?(this.Nu.Aa(a,e,b),this.zI.Aa(a,e,b)):this.Nu.Aa(a,e,b);0!==this.Nu.jk&&(this.Ma||(this.Ma=
this.ac.m()),this.Ma&&this.Ma.Wa())}}sn(){}ia(a){super.ia(a);this.vO()}}}
{"use strict";const f=self.B;f.bO=class extends f.Va{constructor(a,c){super(a,c);this.uu=!1}static Ja(a,c){return f.j(f.bO,a,c)}Aa(a,c=!1,e=!1){if(this.uu){var b=this.Fb[0];var h=this.Fb[1]}else{if(c)b=this.ec.Xh(a,this.pa);else{if(this.Ac){h=this.mb();const m=this.Ac.Ce;b=this.Ac.xa();h=m?m.xa():h.dd();if(a<=b||a>=h)this.Ac=this.ec.Xh(a,this.pa)}else this.Ac=this.ec.Xh(a,this.pa);b=this.Ac}h=b.Ce}this.ge.Aa(a,b,h,c,e)}oK(){const a=this.pa.ig().nK();this.Ac=null;this.uu=2>=this.Cx().length;return a}$w(a){this.Ac=
null;this.pa.ig().TK(a);this.uu=2>=this.Cx().length}ea(){return{sourceAdapterJson:this.sb().ea(),basic:this.uu}}ia(a){a&&(this.sb().ia(a.sourceAdapterJson),this.uu=a.basic)}}}
{"use strict";const f=self.B,a=self.Ds;f.$N=class extends f.ca{constructor(c){super();this.Ca=c[0];this.Xf=[];for(var e of c[1])c=f.aO.Ja(this,e),this.Xf.push(c);for(e=0;e<this.Xf.length;e++)this.Xf[e].Ct(this.Xf[e+1]);this.Dv=new Map;this.oT=new Map;this.u8();a.$U(this.Ca,(b,h,m,g)=>this.Aa(b,h,m,g))}static Ja(c){return f.j(f.$N,c)}A(){for(const c of this.Xf)c.A();f.C(this.Xf);this.Xf=null;this.Dv.clear();this.Dv=null;this.oT.clear();this.oT=null}DY(c){for(let e=this.Xf.length-1;0<=e;e--){const b=
this.Xf[e];if(b.Yf<c)return b}}CY(c){for(let e=this.Xf.length-1;0<=e;e--){const b=this.Xf[e];if(b.Yf<=c)return b}}Aa(c,e,b,h){var m=c/h;c=this.CY(m);h=c.Ce;h||(c=this.DY(m),h=c.Ce);m=f.Mca(m,c.Yf,h.Yf,h.Yf-c.Yf);const g=c.Yf,l=c.bw,n=c.Yf+c.fT,p=c.bw+c.uba,q=h.Yf+h.pR,u=h.bw+h.Daa,w=h.Yf;h=h.bw;h=a.Jn("spline")(m,g,l,n,p,q,u,w,h,this.Dv.get(c));h+=c.bw;return(1-h)*e+h*(e+b)}u8(){this.Dv.clear();for(let e=0;e<this.Xf.length-1;e++){var c=this.Xf[e];if(!c.Nv)continue;const b=this.Xf[e+1];this.Dv.set(c,
a.fY(c.Yf,c.Yf+c.fT,b.Yf+b.pR,b.Yf))}}}}{"use strict";const f=self.B;f.aO=class extends f.ca{constructor(a,c){super();this.Yf=c[0];this.bw=c[1];this.fT=c[2];this.uba=c[3];this.pR=c[4];this.Daa=c[5];this.Nv=c[6];this.Gz=c[7];this.Ce=null}A(){}static Ja(a,c){return f.j(f.aO,a,c)}Ct(a){this.Ce=a}}}{"use strict";const f=self.B;f.D3=class extends f.ca{constructor(a){super();this.g=a;this.tB=[]}A(){for(const a of this.tB)a.A();f.C(this.tB);this.tB=null}Ja(a){this.tB.push(f.$N.Ja(a))}}}
{"use strict";const f=self.B;f.o3=class extends f.ca{constructor(a){super();this.K=a;this.gb=[];this.gb.push(f.j(f.yE,this));this.Ia=0;this.Fi=this.gb[0]}A(){for(const a of this.gb)a.A();f.C(this.gb);this.K=this.Fi=null}F(){return this.K}S(){return this.Fi}hd(){this.S().hd()}q1(){var a=this.gb,c=++this.Ia;c===a.length?(c=f.j(f.yE,this),a.push(c),this.Fi=c):(a=a[c],a.Yc(),this.Fi=a)}r1(){const a=this.gb,c=++this.Ia;c===a.length&&a.push(f.j(f.yE,this));const e=a[c];e.eW(a[c-1]);this.Fi=e}Ga(){this.Fi=
this.gb[--this.Ia]}eo(a){const c=this.gb;for(let e=0,b=c.length;e<b;++e)c[e].eo(a)}}}
{"use strict";const f=self.B;f.yE=class extends f.ca{constructor(a){super();this.gb=a;this.K=this.gb.F();this.zd=this.K.G().Wc();this.Tb=!0;this.D=[];this.mc=[]}A(){this.Sw();this.zd=this.K=this.gb=null}Sw(){f.C(this.D);f.C(this.mc)}F(){return this.K}RL(){return this.Tb?!!this.K.D.length:!!this.D.length}ma(){return this.Tb?this.K.ma():this.D}wZ(){return!!this.mc.length}vY(){const a=this.ma();return a.length?a:this.mc}Yc(){this.Tb=!0;f.C(this.mc)}hd(){this.Tb=!0}eW(a){a.Tb?this.Yc():(this.Tb=!1,f.Ec(this.D,
a.D),f.C(this.mc))}du(a){this.D.push(a)}to(a){this.mc.push(a)}xe(a){this.Tb=!!a}Gj(a){this.Tb=!1;f.C(this.D);this.D.push(a)}my(a){this.Tb=!1;f.Ec(this.D,a)}Ft(a){this.Tb=!1;f.C(this.D);for(const c of a)this.D.push(c)}mK(a,c){for(const e of c)a.has(e)||this.mc.push(e)}B3(a){for(const c of a)this.D.push(c);f.ag(this.mc,a)}am(a){a&&(this.zd.Ne().Ib().Kd?(this.Tb&&(f.C(this.D),f.Ec(this.mc,a.F().ma()),this.Tb=!1),a=this.mc.indexOf(a),-1!==a&&(this.D.push(this.mc[a]),this.mc.splice(a,1))):this.Gj(a))}eo(a){f.ag(this.D,
a);f.ag(this.mc,a)}}}
{"use strict";const f=self.B;f.QX=class extends f.ca{constructor(a){super();this.qa=a;this.g=this.qa.G();this.gb=[];this.gb.push(f.j(f.$K,this,null));this.Ia=0;this.Iz=[]}A(){for(const a of this.gb)a.A();f.C(this.gb);f.C(this.Iz);this.g=this.qa=null}fa(){return this.qa}G(){return this.g}Ne(){return this.gb[this.Ia]}Ka(a){var c=this.gb;const e=++this.Ia;if(e===c.length)return a=f.j(f.$K,this,a),c.push(a),a;c=c[e];c.Yc(a);return c}Ga(){--this.Ia}s1(a){this.Iz.push(a)}i1(){this.Iz.pop()}kY(){const a=this.Iz;
return 0===a.length?null:a.Sd(-1)}}}
{"use strict";const f=self.B;f.$K=class extends f.ca{constructor(a,c){super();this.gb=a;this.g=this.gb.G();this.Eu=c;this.Lf=this.Vk=0;this.IG=this.Zo=!1;this.NG=null;this.WG=this.BR=0}A(){this.Yc(null);this.g=this.gb=null}Yc(a){this.Eu=a;this.Lf=this.Vk=0;this.IG=this.Zo=!1}zF(a,c){this.Eu=a;this.Vk=0;this.Lf=c}fN(){this.Lf=this.Vk=0}Ib(){return this.Eu}og(a){this.Eu=a}em(a){this.Vk=a}ky(a){this.Lf=a}gm(a){this.Zo=!!a}sq(a){this.IG=!!a}w2(a){this.NG=a}d_(a,c){this.BR=a;this.WG=c}ry(a){this.WG=a}zj(){const a=
this.Eu;return a.uA?!0:this.Vk<a.Sb.length-1?!!a.kd().length:!1}}}{"use strict";const f=self.B;f.r0=class extends f.ca{constructor(a){super();this.qa=a;this.g=this.qa.G();this.gb=[];this.Ia=-1;this.Fi=null;this.bA=[]}A(){f.C(this.gb);this.g=this.qa=null}d$(a){this.bA=a;a=this.bA.slice(0);this.gb.push(a);this.Ia=0;this.Fi=a}fa(){return this.qa}G(){return this.g}Op(){return this.Fi}Ka(){const a=++this.Ia,c=this.gb;a===c.length?c.push(this.bA.slice(0)):f.Ec(c[a],this.bA);this.Fi=c[a]}Ga(){this.Fi=this.gb[--this.Ia]}}}
{"use strict";const f=self.B;f.t0=class extends f.ca{constructor(a){super();this.qa=a;this.g=this.qa.G();this.gb=[];this.Ia=-1}A(){f.C(this.gb);this.g=this.qa=null}fa(){return this.qa}G(){return this.g}fM(){return 0<=this.Ia}Op(){return this.gb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.gb.length){var a=f.j(f.s0,this);this.gb.push(a);return a}a=this.gb[this.Ia];a.Yc();return a}Ga(){--this.Ia}UX(a){const c=this.gb;for(let e=this.Ia;0<=e;--e){const b=c[e];if(b.ra()===a)return b}return null}}}
{"use strict";const f=self.B;f.s0=class extends f.ca{constructor(a){super();this.gf=a;this.Ca="";this.Ia=0;this.nc=!1}Yc(){this.Ca="";this.Ia=0;this.nc=!1}uy(a){this.Ca=a}ra(){return this.Ca}vc(a){this.Ia=a}Da(){return this.Ia}Ve(){this.nc=!0}}}{"use strict";const f=self.B;f.tV=class extends f.ca{constructor(){super();this.gb=[];this.Ia=-1}A(){f.C(this.gb)}Op(){return this.gb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.gb.length){const a=[];this.gb.push(a);return a}return this.gb[this.Ia]}Ga(){--this.Ia}}}
{"use strict";const f=self.B;function a(c,e){return c.Da()-e.Da()}f.PX=class extends f.ca{constructor(c){super();this.g=c;this.nu=[];this.AI=new Map;this.ZF=[];this.FR=new Map;this.nG=new Map;this.uG=new Map;this.dz=new Map;this.XQ=new Map;this.LG=new Map;this.iba=0;this.YF=[];this.baa=[];this.uS=[];this.UG=new Map;this.zd=f.j(f.QX,this);this.fd=f.j(f.r0,this);this.gf=f.j(f.t0,this);this.SI=[];this.ZA=[];this.YA=[];this.mG=this.Zk=this.wl=0;this.Vf=[];this.jz=[];self.c3_callFunction=(e,b)=>this.Ny(e,
b)}A(){this.Rw();this.zd.A();this.zd=null;this.fd.A();this.fd=null;f.C(this.ZA);f.C(this.YA);this.g=null;f.C(this.nu);this.AI.clear()}Ja(c){c=f.j(f.OX,this,c);this.nu.push(c);this.AI.set(c.ra().toLowerCase(),c)}o4(c){this.SI.push(c)}Kb(){for(const c of this.UG.values())c.Kb(!1);for(const c of this.nu)c.Kb();for(const c of this.nu)c.QF();for(const c of this.SI)c.Kb(!1);f.C(this.SI);this.fd.d$(this.uS)}G(){return this.g}oL(c){return this.AI.get(c.toLowerCase())||null}H8(c){this.ZF.push(c);this.FR.set(c.ER,
c)}E8(c){this.nG.set(c.eb,c)}D8(c){this.uG.set(c.eb,c)}C8(c){this.dz.set(c.eb,c)}G8(c){this.UG.set(c.Tz.toLowerCase(),c)}F8(c){this.LG.set(c.eb,c);c.Ff()?this.YF.push(c):this.baa.push(c)}Gy(c){2<=c.length&&c.sort(a);let e=this.XQ.get(c.length);e||(e=[],this.XQ.set(c.length,e));for(let h=0,m=e.length;h<m;++h){const g=e[h];a:{for(let l=0,n=c.length;l<n;++l)if(c[l]!==g[l]){var b=!1;break a}b=!0}if(b)return g}e.push(c);return c}x6(c){this.uS.push(c.Ro);return this.iba++}Wc(){return this.zd}Me(){return this.Wc().Ne()}Ib(){return this.Me().Ib()}xf(){const c=
this.Me();return c.Ib().jL(c.Vk)}Ns(){const c=this.Me();return c.Ib().fL(c.Lf)}cY(c){const e=[];for(c=c.Up();c;)f.hn(e,c.YO()),c=c.Up();return e}iP(c){const e={};for(const b of this.cY(c))e[b.Zh()]=b.mP();return Object.create(Object.prototype,e)}ZC(c){return this.LG.get(c)||null}qY(c){return this.nG.get(c)||null}aY(c){return this.dz.get(c)||null}ux(c){return this.UG.get(c.toLowerCase())||null}M1(){for(const c of this.YF)c.S1()}nL(c){return this.FR.get(c.toLowerCase())||null}rY(c){return(c=this.nG.get(c))&&
c.Pi?c:null}N1(){for(const c of this.ZF)c.P1()}fQ(){for(const c of this.nu)c.X8()}X1(c){this.fQ();this.wl++;for(const e of c.Cw())if(c=e.Mc)this.g.pt(e),c.oa(),this.g.ot();this.wl--}async uW(c){this.fQ();this.wl++;for(const e of this.l5(c))await this.g.Kp(e);this.wl--}*l5(c){for(const e of c.Cw())if(c=e.Mc)this.g.pt(e),yield*c.ib(),this.g.ot()}ku(c,e,b,h){let m=!1;if(!c.Mb())return this.TD(e,b,h);this.Zk++;for(const g of c.Cw())if(c=g.Mc){this.g.pt(g);for(const l of c.Az){const n=l.ku(e,b,h);m=m||
n}c=c.ku(e,b,h);m=m||c;this.g.ot()}this.Zk--;return m}*Qt(c,e,b,h){let m=!1;if(!c.Mb())return this.TD(e,b,h);this.Zk++;for(const g of c.Cw())if(c=g.Mc){this.g.pt(g);for(const l of c.Az){const n=yield*l.Qt(e,b,h);m=m||n}c=yield*c.Qt(e,b,h);m=m||c;this.g.ot()}this.Zk--;return m}TD(c,e,b){this.ZA.push([c,e,b]);return!1}v1(c,e,b){let h=null;const m=new Promise(g=>h=g);this.YA.push([c,e,b,h]);return m}*h9(){if(this.g.et())throw Error("should not be in breakpoint");const c=this.g.ab;for(;this.YA.length;){const [e,
b,h,m]=this.YA.shift(),g=yield*this.Qt(c,e,b,h);m(g)}}async hN(){for(const c of this.h9())await this.g.Kp(c)}ED(){return 0<this.Zk}Ut(){return++this.Zk}Rt(){--this.Zk}X_(){return 0<this.wl}it(){return this.X_()||this.ED()}i9(c){for(const [e,b,h]of this.ZA)this.ku(c,e,b,h);f.C(this.ZA)}je(c){c?this.mG++:this.mG--}eM(){return 0<this.mG}Jp(c){for(let e=0,b=c.length;e<b;++e)c[e].Om.hd()}mg(c){for(let e=0,b=c.length;e<b;++e)c[e].Om.q1()}re(c){for(let e=0,b=c.length;e<b;++e)c[e].Om.r1()}Jb(c){for(let e=
0,b=c.length;e<b;++e)c[e].Om.Ga()}mC(){const c=f.j(f.eE,this);this.Vf.push(c);return c}Z1(){if(this.Vf.length){var c=this.Me(),e=!1;this.wl++;for(let b=0,h=this.Vf.length;b<h;++b){const m=this.Vf[b];m.IQ()&&m.Z8(c);m.Jv&&(e=!0)}e&&this.VO();this.wl--}}async wW(){if(this.Vf.length){var c=this.Me(),e=!1;this.wl++;for(let b=0,h=this.Vf.length;b<h;++b){const m=this.Vf[b];m.IQ()&&await m.f5(c);m.Jv&&(e=!0)}e&&this.VO();this.wl--}}VO(){const c=f.Kba(this.Vf,e=>e.Jv);for(const e of c)e.A()}Rw(){for(const c of this.Vf)c.A();
f.C(this.Vf)}D1(c){for(const e of this.Vf)e.eo(c)}kC(c){this.jz.push(c)}Tw(){f.C(this.jz)}gZ(){const c=Promise.all(this.jz);this.jz=[];return c}ea(){return{groups:this.p9(),cnds:this.o9(),acts:this.n9(),vars:this.B9(),waits:this.x9()}}ia(c){this.r7(c.groups);this.m7(c.cnds);this.l7(c.acts);this.E7(c.vars);this.A7(c.waits)}p9(){const c={};for(const e of this.ZF)c[e.eb.toString()]=e.ht();return c}r7(c){for(const [e,b]of Object.entries(c))(c=this.rY(parseInt(e,10)))&&c.tq(b)}o9(){const c={};for(const [e,
b]of this.uG){const h=b.ea();h&&(c[e.toString()]=h)}return c}m7(c){const e=new Map;for(const [b,h]of Object.entries(c))e.set(parseInt(b,10),h);for(const [b,h]of this.uG)h.ia(e.get(b)||null)}n9(){const c={};for(const [e,b]of this.dz){const h=b.ea();h&&(c[e.toString()]=h)}return c}l7(c){const e=new Map;for(const [b,h]of Object.entries(c))e.set(parseInt(b,10),h);for(const [b,h]of this.dz)h.ia(e.get(b)||null)}B9(){const c={};for(const [e,b]of this.LG)b.pb||!b.Ff()&&!b.yh||(c[e.toString()]=b.Vb());return c}E7(c){for(const [e,
b]of Object.entries(c))(c=this.ZC(parseInt(e,10)))&&c.te(b)}x9(){return this.Vf.filter(c=>!c.V_()).map(c=>c.ea())}A7(c){this.Rw();for(const e of c)(c=f.eE.K4(this,e))&&this.Vf.push(c)}KC(c){for(;c;)if(c=c.Up(),c instanceof f.Is)return c;return null}Ny(c,e){Array.isArray(e)||(e=[]);c=this.ux(c.toLowerCase());if(!c)return null;if(!c.Vn())return c.Ps();var b=c.Fg;if(e.length<b.length){e=e.slice(0);do e.push(b[e.length].Ro);while(e.length<b.length)}b=c.ne();return b.aE(b.ld(),c.tl,c.Ps(),...e)}}}
{"use strict";const f=self.B;f.OX=class extends f.ca{constructor(a,c){super();this.qa=a;this.g=a.G();this.Ca=c[0];this.Hz=[];this.uB=new Map;this.vR=new Map;this.Eaa=new Map;this.Tu=!1;this.VS=[];this.Az=[];this.YQ=new Set;for(const e of c[1])this.EO(e,null,this.Hz);this.Ti=this.g.zb?{type:"sheet",name:this.Ca,Dw:0,children:[]}:null}A(){this.g=this.qa=null}EO(a,c,e){switch(a[0]){case 0:case 3:this.I4(a,c,e);break;case 1:this.J4(a,c,e);break;case 2:this.N4(a,c,e);break;case 4:this.L4(a,c);break;case 5:this.S4(a,
c,e);break;default:throw Error("invalid event type");}}I4(a,c,e){a=f.tk.Ja(this,c,a);if(a.Kd){e.push(a);e=a.Sb;for(let b=0,h=e.length;b<h;++b)e[b].Yn()&&this.xP(a,b)}else a.Yn()?this.xP(a,0):e.push(a)}L4(a,c){a=f.Is.Ja(this,c,a);this.qa.G8(a)}J4(a,c,e){a=f.dx.Ja(this,c,a);e.push(a)}N4(a,c,e){a=f.ZK.Ja(this,c,a);e.push(a)}S4(a,c,e){a=f.cx.Ja(this,c,a);e.push(a)}xP(a,c){a.Kd||this.qa.o4(a);var e=a.jL(c),b=e.Ea,h=e.F();if(e.$R){var m=this.vR.get(h);m||(m=new Map,this.vR.set(h,m));e=e.xY().toLowerCase();
h=m.get(b);h||(h=new Map,m.set(b,h));b=h.get(e);b||(b=[],h.set(e,b));b.push([a,c])}else m=this.uB.get(h),m||(m={OJ:new Map,gw:new Map},this.uB.set(h,m)),(h=e.gg())?(e=m.gw.get(h),e||(e=new Map,m.gw.set(h,e))):e=m.OJ,m=e.get(b),m||(m=[],e.set(b,m)),m.push([a,c])}Kb(){const a=this.Hz;for(let c=0,e=a.length;c<e;++c)a[c].Kb(c<e-1&&a[c+1]instanceof f.tk&&a[c+1].Ux())}n4(a){this.VS.push(a)}QF(){f.C(this.Az);this.mO(this);this.YQ.clear()}mO(a){const c=a.Az,e=a.YQ;for(const b of this.VS){const h=b.Yu;b.Db&&
a!==h&&!e.has(h)&&(e.add(h),h.mO(a),c.push(h))}}fa(){return this.qa}G(){return this.g}ra(){return this.Ca}$P(a,c){this.Eaa.set(c,a)}X8(){this.Tu=!1}oa(){if(!this.Tu){var a=this.g,c=a.xD(),e=c?performance.now():0;this.Tu=!0;var b=this.fa(),h=b.Me();for(const m of this.Hz)m.oa(h),b.Jp(m.kd()),b.Tw(),a.ud();h.Yc(null);c&&(this.Ti.Dw+=performance.now()-e)}}*ib(){if(!this.Tu){this.Tu=!0;var a=this.g,c=this.fa(),e=c.Me();for(const b of this.Hz)yield*b.ib(e),c.Jp(b.kd()),c.Tw(),a.ud();e.Yc(null)}}ku(a,c,
e){if(c){const b=c.F();this.OF(a,c,b,e);for(const h of b.th)this.OF(a,c,h,e)}else return this.OF(a,c,null,null)}OF(a,c,e,b){e=this.uB.get(e);if(!e)return!1;b=b?e.gw.get(b):e.OJ;if(!b)return!1;b=b.get(a);if(!b)return!1;a=!1;for(const [h,m]of b)b=this.UO(c,h,m),a=a||b;return a}*Qt(a,c,e){if(c){const b=c.F();yield*this.YE(a,c,b,e);for(const h of b.th)yield*this.YE(a,c,h,e)}else return yield*this.YE(a,c,null,null)}*YE(a,c,e,b){e=this.uB.get(e);if(!e)return!1;b=b?e.gw.get(b):e.OJ;if(!b)return!1;b=b.get(a);
if(!b)return!1;a=!1;for(const [h,m]of b)b=h.ke()?this.UO(c,h,m):yield*this.Z4(c,h,m),a=a||b;return a}UO(a,c,e){const b=this.g,h=this.qa,m=h.Ib(),g=h.Wc(),l=h.Zk;let n=!1;m&&h.mg(m.ld());h.mg(c.ld());const p=1<l;p&&h.fd.Ka();const q=g.Ka(c);a&&(c.Sb[e].F().S().Gj(a),a.Qb()&&a.oi());a=!0;if(c.Ba()){const u=c.zp;for(let w=0,r=u.length;w<r;++w)if(!u[w].gN(q)){a=!1;break}}a&&(b.Fk(),c.Kd?c.Y1(q,e):c.oa(q),n=q.Zo);g.Ga();p&&h.fd.Ga();h.Jb(c.ld());m&&h.Jb(m.ld());m||1!==l||(h.Tw(),h.eM()||b.ud());return n}*Z4(a,
c,e){const b=this.g,h=this.qa,m=h.Ib(),g=h.Wc(),l=h.Zk;let n=!1;m&&h.mg(m.ld());h.mg(c.ld());const p=1<l;p&&h.fd.Ka();const q=g.Ka(c);a&&(c.Sb[e].F().S().Gj(a),a.Qb()&&a.oi());a=!0;if(c.Ba()){const u=c.zp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].QK(q))){a=!1;break}}a&&(b.Fk(),c.Kd?yield*c.vW(q,e):yield*c.ib(q),n=q.Zo);g.Ga();p&&h.fd.Ga();h.Jb(c.ld());m&&h.Jb(m.ld());m||1!==l||(h.Tw(),h.eM()||b.ud());return n}}}
{"use strict";const f=self.B,a=[];function c(){return!0}function*e(){return!0}f.tk=class extends f.ca{constructor(b,h,m){super();this.Mc=b;this.g=b.G();this.rc=h;this.Od=null;this.zd=this.g.fa().Wc();this.De=[];this.Qr=[];this.Qu=this.vA=this.uA=this.KR=!1;this.Kd=!!m[2];this.kA=!1;this.zp=null;this.Sb=[];this.Nb=[];this.Kh=[];this.xi=c;this.qo=e;this.xH=this.Pi=!1;this.ER="";this.mA=!1;this.Ti=this.yz=null;this.eb=m[4];this.dr=m[5];this.Mc.$P(this,this.dr);this.La=this.g.zb?{Tc:m[3][0],IJ:m[3][1],
IT:!1,pJ:!1,qJ:!1,JT:!1}:null;this.fa().E8(this);3===m[0]&&this.T6(m[1]);b=0;for(var g of m[6])h=f.DK.Ja(this,g,b++),this.Sb.push(h),this.rO(h.F());b=0;for(const l of m[7])g=f.Hw.Ja(this,l,b++),this.Nb.push(g);if(9===m.length){m=m[8];for(const l of m)this.Mc.EO(l,this,this.Kh)}this.Sb.length&&(this.kA=null===this.Sb[0].F()&&this.Sb[0].Ea===f.H.Xa.ua.YK);0===this.Sb.length&&(this.Sb=a);0===this.Nb.length&&(this.Nb=a);0===this.Kh.length&&(this.Kh=a)}static Ja(b,h,m){return f.j(f.tk,b,h,m)}T6(b){this.Pi=
!0;this.mA=this.xH=!!b[0];this.ER=b[1].toLowerCase();this.yz=[];this.fa().H8(this);this.g.zb&&(this.Ti={type:"group",name:b[1],Dw:0,children:[]})}f4(b){this.yz.push(b)}lO(b,h){for(const m of b.Ag.ql)h.includes(m)||h.push(m)}sO(b,h){if(b)if(h.includes(b)||h.push(b),b.Ua)for(const m of b.Lo)m.Qb()&&this.lO(m,h);else b.Qb()&&this.lO(b,h)}rO(b){this.sO(b,this.De)}j4(b){this.sO(b,this.Qr)}i2(){this.De=this.g.Hc}Kb(b){this.Qu=!!b;this.M6();this.N6();for(const m of this.Sb)m.Kb();if(0<this.Nb.length){b=
!1;for(var h of this.Nb)h.Kb(),h.FZ()&&(b=!0);b?(this.xi=this.b9,this.qo=this.h5):(this.xi=this.a9,this.qo=this.g5)}h=this.Kh;for(let m=0,g=h.length;m<g;++m)h[m].Kb(m<g-1&&h[m+1]instanceof f.tk&&h[m+1].Ux());this.La&&this.L$();this.Ti&&this.z6().Ti.children.push(this.Ti)}z6(){let b=this.Ba();for(;b;){if(b.Pi)return b;b=b.Ba()}return this.Mc}L$(){const b=this.La;b.IT=this.Sb.every(h=>h.ke());b.pJ=this.Nb.every(h=>h.ke());b.qJ=this.Kh.every(h=>h.ke());b.JT=b.IT&&b.pJ&&b.qJ}M6(){if(this.Pi){var b=this.Ba();
for(this.vA=!0;b;){if(!b.Pi){this.vA=!1;break}b=b.Ba()}}}L6(){var b=this.g.Hc;if(this.De===b)this.Qr=b;else{this.Qr=f.tJ(this.De);for(b=this.Ba();b;){for(var h of b.De)this.j4(h);b=b.Ba()}h=this.fa();this.De=h.Gy(this.De);this.Qr=h.Gy(this.Qr)}}N6(){if(this.xZ()){this.zp=[];for(var b=this.Ba();b;)this.zp.push(b),b=b.Ba();this.zp.reverse()}}Gt(){this.uA=!0;this.rc&&this.rc.Gt()}kd(){return this.De}ld(){this.KR||(this.KR=!0,this.L6());return this.Qr}HZ(b){return this.De.includes(b)}fa(){return this.Mc.fa()}G(){return this.g}Ba(){return this.rc}j$(b){this.Od=
b}Up(){return this.Od||this.rc}yD(){return this.La&&this.La.IJ}Tn(){return this.yD()&&this.La.Tc}Ux(){return this.kA}ht(){return this.mA}P1(){this.tq(this.xH)}tq(b){b=!!b;if(!this.Pi)throw Error("not a group");if(this.mA!==b){this.mA=b;for(const h of this.yz)h.dO();this.yz.length&&(b=this.g.Qa().Mc)&&b.QF()}}Yn(){return this.Sb.length&&this.Sb[0].Yn()}R_(){return this.Od&&this.Od instanceof f.Is}xZ(){return this.R_()||this.Sb.some(b=>b.Yn())}jL(b){b=Math.floor(b);if(0>b||b>=this.Sb.length)throw new RangeError("invalid condition index");
return this.Sb[b]}Q_(b){let h=b.Da();if(0===h)return!0;for(--h;0<=h;--h)if(this.Sb[h].F()===b.F())return!1;return!0}fL(b){b=Math.floor(b);if(0>b||b>=this.Nb.length)throw new RangeError("invalid action index");return this.Nb[b]}K6(b){b=Math.floor(b);return 0<=b&&b<this.Nb.length}YO(){return this.Kh.filter(b=>b instanceof f.dx)}gN(b){b.og(this);let h=!1;const m=this.Sb;for(let g=0,l=m.length;g<l;++g){const n=m[g];b.em(g);if(n.pA)throw Error("trigger cannot be used as sub-event to a loop");if(n.oa())h=
!0;else if(!this.Kd)return!1}return this.Kd?h:!0}Y1(b,h){b.og(this);this.Sb[h].oa()&&(this.xi(b,0)&&this.Pk(),b.gm(!0))}*QK(b){b.og(this);let h=!1;const m=this.Sb;for(let g=0,l=m.length;g<l;++g){const n=m[g];b.em(g);if(n.pA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ke()?n.oa():yield*n.ib())h=!0;else if(!this.Kd)return!1}return this.Kd?h:!0}*vW(b,h){b.og(this);h=this.Sb[h];if(h.ke()?h.oa():yield*h.ib())(this.Xw()?this.xi(b,0):yield*this.qo(b,0))&&(this.Yw()?this.Pk():yield*this.Pt()),
b.gm(!0)}oa(b){b.og(this);this.kA||b.sq(!1);this.Kd?this.g9(b):this.Sy(b)}*ib(b){if(this.Tn()||this.g.ic())yield this;b.og(this);this.kA||b.sq(!1);this.Kd?yield*this.s5(b):yield*this.VE(b)}g9(b){const h=this.Sb;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.Yn()||(b.em(l),g=g.oa(),m=m||g)}b.gm(m);m&&(this.xi(b,0)&&this.Pk(),this.Qu&&b.sq(!0))}*s5(b){const h=this.Sb;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.Yn()||(b.em(l),g=g.ke()?g.oa():yield*g.ib(),m=m||g)}b.gm(m);
m&&((this.Xw()?this.xi(b,0):yield*this.qo(b,0))&&(this.Yw()?this.Pk():yield*this.Pt()),this.Qu&&b.sq(!0))}Sy(b){const h=this.Sb;for(let m=0,g=h.length;m<g;++m){const l=h[m];b.em(m);if(!l.oa()){b.gm(!1);return}}b.gm(!0);this.xi(b,0)&&this.Pk();b.Zo&&this.Qu&&b.sq(!0)}*VE(b){const h=this.Sb;for(let m=0,g=h.length;m<g;++m){const l=h[m];b.em(m);if(l.ke()?!l.oa():!(yield*l.ib())){b.gm(!1);return}}b.gm(!0);(this.Xw()?this.xi(b,0):yield*this.qo(b,0))&&(this.Yw()?this.Pk():yield*this.Pt());b.Zo&&this.Qu&&
b.sq(!0)}a9(b,h){const m=this.Nb;for(let g=h,l=m.length;g<l;++g)h=m[g],b.ky(g),h.oa();return!0}*g5(b,h){const m=this.Nb;for(let g=h,l=m.length;g<l;++g)h=m[g],b.ky(g),h.ke()?h.oa():yield*h.ib();return!0}b9(b,h){const m=this.fa(),g=this.Nb;for(let l=h,n=g.length;l<n;++l){h=g[l];b.ky(l);const p=h.oa();if(h.wK()&&!0===p)return!1;h.lg()&&p instanceof Promise&&m.kC(p)}return!0}*h5(b,h){const m=this.fa(),g=this.Nb;for(let l=h,n=g.length;l<n;++l){h=g[l];b.ky(l);let p;p=h.ke()?h.oa():yield*h.ib();if(h.wK()&&
!0===p)return!1;h.lg()&&p instanceof Promise&&m.kC(p)}return!0}Y8(b){this.xi(b,b.Lf)&&this.Pk()}*e5(b){if(yield*this.qo(b,b.Lf))yield*this.Pt()}Pk(){if(this.Kh.length){var b=this.Pi&&this.g.xD(),h=b?performance.now():0,m=this.zd,g=m.Ka(this);this.uA?this.l9(g):this.k9(g);m.Ga();b&&(this.Ti.Dw+=performance.now()-h)}}l9(b){const h=this.Pi,m=this.vA,g=this.fa(),l=this.Kh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.kd(),r=!m||!h&&n<q;r&&g.re(w);u.oa(b);r?g.Jb(w):g.Jp(w)}}k9(b){const h=this.Kh;
for(let m=0,g=h.length;m<g;++m)h[m].oa(b)}*Pt(){if(this.Kh.length){var b=this.zd,h=b.Ka(this);this.uA?yield*this.v5(h):yield*this.u5(h);b.Ga()}}*v5(b){const h=this.Pi,m=this.vA,g=this.fa(),l=this.Kh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.kd(),r=!m||!h&&n<q;r&&g.re(w);yield*u.ib(b);r?g.Jb(w):g.Jp(w)}}*u5(b){const h=this.Kh;for(let m=0,g=h.length;m<g;++m)yield*h[m].ib(b)}ng(b,h){this.g.Fk();h.fN();const m=this.Sb;if(!this.Kd)for(let g=b.Vk+1,l=m.length;g<l;++g)if(b=m[g],h.em(g),!b.oa())return!1;
this.xi(h,0)&&this.Pk();return!0}*dg(b,h){this.g.Fk();h.fN();const m=this.Sb;if(!this.Kd)for(let g=b.Vk+1,l=m.length;g<l;++g)if(b=m[g],h.em(g),b.ke()?!b.oa():!(yield*b.ib()))return!1;(this.Xw()?this.xi(h,0):yield*this.qo(h,0))&&(this.Yw()?this.Pk():yield*this.Pt());return!0}ke(){return!this.Tn()&&!this.g.ic()&&this.La.JT}Xw(){return!this.g.ic()&&this.La.pJ}Yw(){return!this.g.ic()&&this.La.qJ}OE(b){if(this.Ba()){const h=this.zp;for(let m=0,g=h.length;m<g;++m)if(!h[m].gN(b))return!1}return!0}*FO(b){if(this.Ba()){const h=
this.zp;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].QK(b)))return!1}return!0}TO(b,h,m){0<h.length?m?(h=h.map(g=>g.V(0)),b.fd.Ka(),this.Od.Bt(h)):this.Od.NX(h):m&&b.fd.Ka()}V1(b,h){let m,g;const l=0<b.length;var n=this.g;const p=this.zd,q=n.fa(),u=1<q.Ut();this.TO(q,h,u);l&&q.mg(b);h=p.Ka(this);this.OE(h)&&(n.Fk(),h.og(this),(n=this.Od.lg())&&([g,m]=this.Od.BE()),this.Sy(h),n&&this.Od.kt(g));p.Ga();u&&q.fd.Ga();l&&q.Jb(b);q.Rt();return m}*sW(b,h){let m,g;if(this.Tn()||this.g.ic())yield this;const l=
0<b.length;var n=this.g;const p=this.zd,q=n.fa(),u=1<q.Ut();this.TO(q,h,u);l&&q.mg(b);h=p.Ka(this);if(yield*this.FO(h))n.Fk(),h.og(this),(n=this.Od.lg())&&([g,m]=this.Od.BE()),yield*this.VE(h),n&&this.Od.kt(g);p.Ga();u&&q.fd.Ga();l&&q.Jb(b);q.Rt();return m}W1(b){const h=this.ld(),m=0<h.length,g=this.g,l=this.zd,n=g.fa(),p=1<n.Ut();p&&n.fd.Ka();this.Od.Bt(b);m&&n.mg(h);b=l.Ka(this);this.OE(b)&&(g.Fk(),b.og(this),this.Sy(b));l.Ga();p&&n.fd.Ga();m&&n.Jb(h);n.Rt()}*tW(b){if(this.Tn()||this.g.ic())yield this;
const h=this.ld(),m=0<h.length,g=this.g,l=this.zd,n=g.fa(),p=1<n.Ut();p&&n.fd.Ka();this.Od.Bt(b);m&&n.mg(h);b=l.Ka(this);if(yield*this.FO(b))g.Fk(),b.og(this),yield*this.VE(b);l.Ga();p&&n.fd.Ga();m&&n.Jb(h);n.Rt()}aE(b,h,m,...g){let l,n;const p=0<b.length,q=this.g,u=this.zd,w=q.fa(),r=1<w.Ut();r&&w.fd.Ka();0<g.length&&this.Od.Bt(g);p&&w.mg(b);g=u.Ka(this);g.d_(h,m);u.s1(g);q.oy(!1);this.OE(g)&&(q.Fk(),g.og(this),(h=this.Od.lg())&&([n,l]=this.Od.BE()),this.Sy(g),h&&this.Od.kt(n));q.oy(!0);u.Ga();u.i1();
r&&w.fd.Ga();p&&w.Jb(b);w.Rt();return l||g.WG}}}
{"use strict";const f=self.B,a=[];let c=!1;f.cx=class extends f.ca{constructor(e,b,h){super();const m=e.G(),g=e.fa();this.Mc=e;this.qa=g;this.g=e.G();this.rc=b;this.Ea=m.bh(h[1]);this.dr=h[2];this.Mc.$P(this,this.dr);this.La=m.zb?{Tc:h[3][0],IJ:h[3][1]}:null}static Ja(e,b,h){return f.j(f.cx,e,b,h)}Kb(){const e=this.Ea,b=this.g.fa().iP(this);this.Ea=e.bind(null,this.g.Ni,b)}Ba(){return this.rc}Up(){return this.rc}yD(){return this.La&&this.La.IJ}Tn(){return this.yD()&&this.La.Tc}Ux(){return!1}kd(){return a}ld(){return this.rc?
this.rc.ld():a}oa(e){e.og(this);this.qa.kC(this.m9())}async m9(){try{await this.Ea()}catch(e){console.error(`Unhandled exception running script %c${this.Mc.ra()}, event ${this.dr}:`,"font-size: 1.2em; font-weight: bold;",e),self.Wg&&self.Wg.f$(this),c||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),c=!0)}}*ib(e){e.og(this);if(this.Tn()||this.g.ic())yield this;
this.oa(e)}ke(){return!this.Tn()&&!this.g.ic()}static sZ(){return c}static B2(){c=!0}}}
{"use strict";const f=self.B;f.Is=class extends f.ca{constructor(a,c,e){super();this.Mc=a;this.g=a.G();this.rc=c;const b=e[1];this.Tz=b[0];this.tl=b[1];this.Fg=b[2].map(h=>f.dx.Ja(a,this,h));this.Hg=b[3];this.jH=[];this.av=b[4];this.eba=0;this.Du=-1;this.qu=new Map;this.Jd=f.tk.Ja(a,c,e);this.Jd.j$(this)}static Ja(a,c,e){return f.j(f.Is,a,c,e)}Kb(){for(const a of this.Fg)a.Kb();this.Jd.Kb(!1)}YO(){return this.Fg}I8(a){this.jH.push(a)}NX(a){const c=this.Fg;for(let e=0,b=c.length;e<b;++e)c[e].te(a[e].V(0))}Bt(a){const c=
this.Fg;for(let e=0,b=c.length;e<b;++e)c[e].te(a[e])}OV(){return this.Fg.map(a=>a.Vb())}Ba(){return this.rc}Up(){return this.rc}Vn(){return this.Hg}Ps(){switch(this.tl){case 0:return null;case 2:return"";default:return 0}}ne(){return this.Jd}lg(){return this.av}BE(){const a=this.eba++;this.Du=a;let c;const e=new Promise(b=>c=b);this.qu.set(a,{resolve:c,VJ:0});return[a,e]}kt(a){const c=this.qu.get(a);0===c.VJ&&(c.resolve(),this.qu.delete(a));this.Du=-1}f1(){this.qu.get(this.Du).VJ++;return this.Du}U1(a){this.Du=
a;this.qu.get(a).VJ--}}}
{"use strict";const f=self.B,a=[];f.dx=class extends f.ca{constructor(c,e,b){super();const h=c.fa();this.Mc=c;this.qa=h;this.g=c.G();this.rc=e;this.fd=h.fd;this.Ca=b[1];this.na=b[2];this.Ro=b[3];this.yh=!!b[4];this.pb=!!b[5];this.Qaa=e instanceof f.Is;this.eb=b[6];this.mv=this.g.Zh(b[8]);this.sba=m=>this.te(m);this.qba=()=>this.Vb();this.MR=!this.rc||this.yh||this.pb;this.tc=this.Ro;this.WH=-1;this.$L()&&(this.tc=this.tc?1:0);!this.HD()||this.yh||this.pb||(this.WH=h.x6(this));h.F8(this)}static Ja(c,
e,b){return f.j(f.dx,c,e,b)}Kb(){if(this.HD()&&!this.yh&&!this.pb&&!this.Qaa){const c=this.qa.KC(this);c&&c.I8(this)}}ra(){return this.Ca}Zh(){return this.mv}Ba(){return this.rc}Up(){return this.Ba()}Ff(){return!this.Ba()}HD(){return!this.Ff()}$l(){return 0===this.na}ei(){return 1===this.na}$L(){return 2===this.na}Ux(){return!1}kd(){return a}oa(){!this.HD()||this.yh||this.pb||this.te(this.Ro)}ke(){return!0}*ib(c){this.oa(c)}te(c){this.$l()?"number"!==typeof c&&(c=parseFloat(c)):this.ei()?"string"!==
typeof c&&(c=c.toString()):this.$L()&&(c=c?1:0);this.MR?this.tc=c:this.fd.Op()[this.WH]=c}Vb(){return this.MR?this.tc:this.fd.Op()[this.WH]}S1(){this.tc=this.Ro}mP(){return{configurable:!1,enumerable:!0,get:this.qba,set:this.sba}}}}
{"use strict";const f=self.B,a=[];f.ZK=class extends f.ca{constructor(c,e,b){super();const h=c.fa();this.Mc=c;this.qa=h;this.g=c.G();this.rc=e;this.Yu=null;this.Kaa=b[1];this.Db=!0}static Ja(c,e,b){return f.j(f.ZK,c,e,b)}Kb(){this.Yu=this.qa.oL(this.Kaa);this.Mc.n4(this);let c=this.Ba();for(;c;)c instanceof f.tk&&c.Pi&&c.f4(this),c=c.Ba();this.dO();this.g.zb&&this.Mc.Ti.children.push(this.Yu.Ti)}Ba(){return this.rc}kd(){return a}oa(){const c=!!this.Ba(),e=this.g.Hc;c&&this.qa.mg(e);this.Yu.oa();c&&
this.qa.Jb(e)}*ib(){const c=!!this.Ba(),e=this.g.Hc;c&&this.qa.mg(e);yield*this.Yu.ib();c&&this.qa.Jb(e)}ke(){return!1}dO(){let c=this.Ba();for(;c;){if(c instanceof f.tk&&c.Pi&&!c.ht()){this.Db=!1;return}c=c.Ba()}this.Db=!0}}}
{"use strict";const f=self.B;f.Dn=class extends f.ca{constructor(g){super();this.dc=g;this.g=g.G()}Kb(){}static mW(g,l){return f.j([h,e,b,m,a,c][l[0]],g,l)}};class a extends f.Dn{constructor(g,l){super(g);this.sd=this.g.Ys();this.Ea=this.g.bh(l[1]);this.Ea!==f.H.Xa.jd.random&&this.Ea!==f.H.Xa.jd.Pba||this.dc.xE()}Ke(){return this.sd.Kj(this.Ea,this.sd)}}class c extends f.Dn{constructor(g,l){super(g);this.pr=null;this.Tz=l[1];this.dc.xE()}Kb(){const g=this.g.fa();this.pr=g.ux(this.Tz);this.Tz=null;
const l=this.pr.ne();this.Wk=[...new Set([...this.dc.ne().ld(),...l.ld()])];this.Wk=g.Gy(this.Wk)}Ke(){const g=this.pr;if(g.Vn())return f.tk.prototype.aE.bind(g.ne(),this.Wk,g.tl,g.Ps());{const l=g.Ps();return()=>l}}}class e extends f.Dn{constructor(g,l){super(g);this.K=this.g.Pe(l[1]);this.Ea=this.g.bh(l[2]);this.uI=!!l[3];this.zd=this.g.fa().Wc();this.dc.uF(this.K)}Ke(){return this.K.rb().Kj(this.Ea,this.K.uj().ka)}JC(){const g=this.K,l=g.S().vY();var n=l.length;if(0===n)return this.uI?"":0;var p=
this.dc.hB;p>=n?n=p%n:(0>p&&(p<=-n&&(p%=n),0>p&&(p+=n)),n=p);this.zd.Ne().w2(g);return this.Ea.apply(l[n].ka,[])}}class b extends f.Dn{constructor(g,l){super(g);this.K=this.g.Pe(l[1]);this.uI=!!l[2];this.dc.uF(this.K)}}class h extends f.Dn{constructor(g,l){super(g);this.K=this.g.Pe(l[1]);this.Ic=this.K.ix(l[2]);this.Ci=this.K.Ls(l[2]);this.Ea=this.g.bh(l[3]);this.uI=!!l[4];this.zd=this.g.fa().Wc();this.dc.uF(this.K)}}class m extends f.Dn{constructor(g,l){super(g);this.rh=null;this.KG=l[1]}Kb(){this.rh=
this.g.fa().ZC(this.KG)}}}
{"use strict";const f=self.B;f.qe=class extends f.ca{constructor(A,G,z){super();this.dc=A;this.Ia=z;this.na=G;this.V=null;this.pb=this.Ge=!1}static Ja(A,G,z){const F=G[0];return f.j([c,e,p,h,g,b,l,c,h,h,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Kb(){}xE(){this.Ge=!0}uF(A){this.Ge||!A||A.rb().Bm||(this.Ge=!0)}Da(){return this.Ia}G(){return this.dc.G()}ne(){return this.dc.ne()}};function a(A){A=self.FV[A];if(!A)throw Error("invalid expression number");return A}class c extends f.qe{constructor(A,G,z,F){super(A,
G,z);this.hB=0;A=F[1];this.MG=A[0];this.Gr=[];this.Jz=null;for(let H=1,J=A.length;H<J;++H)this.Gr.push(f.Dn.mW(this,A[H]));this.Gr.length?this.V=this.uY:(this.V=a(this.MG),this.pb=!0)}xc(A){if(0>A||A>=this.Gr.length)throw new RangeError("invalid numbered node");return this.Gr[A]}Kb(){for(var A of this.Gr)A.Kb();A=a(this.MG);this.Jz=this.Gr.length?A(this):A}uY(A){this.hB=A;return this.Jz()}}class e extends c{constructor(A,G,z,F){super(A,G,z,F);this.V=this.kZ;14===G&&(this.ne().i2(),this.dc instanceof
f.Hw&&this.ne().Gt())}kZ(A){this.hB=A;A=this.Jz();return"string"===typeof A?A:""}r6(){return a(this.MG)()}}class b extends c{constructor(A,G,z,F){super(A,G,z,F);this.V=this.da;this.pb=!1}da(A){this.hB=A;A=this.Jz();return this.G().Qa().da(A)}}class h extends f.qe{constructor(A,G,z,F){super(A,G,z);this.vaa=F[1];this.V=this.jY;this.pb=!0}jY(){return this.vaa}}class m extends f.qe{constructor(A,G,z,F){super(A,G,z);this.haa=F[1];this.V=this.hY;this.pb=!0}hY(){return this.haa}}class g extends f.qe{constructor(A,
G,z,F){super(A,G,z);this.K=this.G().Pe(F[1]);this.V=this.F;A=this.ne();A.rO(this.K);this.dc instanceof f.Hw?A.Gt():A.Ba()&&A.Ba().Gt();this.pb=!0}F(){return this.K}}class l extends f.qe{constructor(A,G,z,F){super(A,G,z);this.Ig=this.G().ab.Qp(F[1]);this.V=this.Ub;this.pb=!0}Ub(){return this.Ig}}class n extends f.qe{constructor(A,G,z,F){super(A,G,z);this.Lh=this.G().Bb.Hx(F[1]);this.V=this.mb;this.pb=!0}mb(){return this.Lh}}class p extends f.qe{constructor(A,G,z,F){super(A,G,z);this.Faa=F[1];this.V=
this.yY;this.pb=!0}yY(){return this.Faa}}class q extends f.qe{constructor(A,G,z,F){super(A,G,z);this.XR=F[1];(A=this.dc.F())&&A.Ua?(this.V=this.wY,this.xE()):(this.V=this.KY,this.pb=!0)}KY(){return this.XR}wY(A){A=A||0;const G=this.dc.F();var z=G.S();const F=z.ma();if(F.length)A=F[A%F.length].F();else if(z.wZ())z=z.mc,A=z[A%z.length].F();else if(0<G.D.length)z=G.ma(),A=z[A%z.length].F();else return 0;return this.XR+A.pL(G.Li)}}class u extends f.qe{constructor(A,G,z,F){super(A,G,z);this.KG=F[1];this.rh=
null;this.V=this.sY;this.pb=!0}Kb(){this.rh=this.G().fa().ZC(this.KG)}sY(){return this.rh}}class w extends f.qe{constructor(A,G,z,F){super(A,G,z);this.zR=F[1];this.pr=null;this.V=this.EY;this.pb=!0}Kb(){this.pr=this.G().fa().ux(this.zR);this.zR=null}EY(){return this.pr}}class r extends f.qe{constructor(A,G,z,F){super(A,G,z);this.NI=[];this.sT=[];this.pb=!0;for(let H=1,J=F.length;H<J;++H)A=f.qe.Ja(this.dc,F[H],0),this.NI.push(A),this.sT.push(0),A.pb||(this.pb=!1);this.V=this.qZ}Kb(){for(const A of this.NI)A.Kb()}qZ(){const A=
this.NI,G=this.sT;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].V(0);return G}}class v extends f.qe{constructor(A,G,z,F){super(A,G,z);this.Baa=F[1];this.V=this.Sl;this.pb=!0}Sl(){return this.Baa}}class y extends f.qe{constructor(A,G,z,F){super(A,G,z);this.naa=F[1];this.V=this.nZ;this.pb=!0}nZ(){return this.naa}}}
{"use strict";const f=self.B;function a(b,h){for(let m=0,g=b.length;m<g;++m)h[m]=b[m].V(0)}const c=[],e=function(){};f.DK=class extends f.ca{constructor(b,h,m){super();this.Jd=b;this.g=b.G();this.Ia=m;this.Ea=this.g.bh(h[1]);this.FH=0<h[3];this.$R=2===h[3];this.pA=!!h[4];this.Qi=!!h[5];this.yh=!!h[6];this.eb=h[7];this.aS=this.Jd.Kd;this.Ic=this.K=null;this.Ci=-1;this.sd=null;this.ib=this.oa=e;this.Fa=[];this.qb=[];this.Sk=!1;this.Mh=this.Ab=null;this.La=this.g.zb?{Tc:h[8][0],qf:h[8][1]}:null;-1===
h[0]?this.sd=this.g.Ys():(this.K=this.g.Pe(h[0]),h[2]&&(this.Ic=this.K.ix(h[2]),this.Ci=this.K.Ls(h[2])),this.Jd.Ba()&&this.Jd.Ba().Gt());if(10===h.length){b=h[9];for(let g of b)this.Fa.push(f.qe.Ja(this,g,this.Fa.length)),this.qb.push(0)}0===this.Fa.length&&(this.qb=this.Fa=c);this.Jd.fa().D8(this)}static Ja(b,h,m){return f.j(f.DK,b,h,m)}Kb(){for(const b of this.Fa)b.Kb(),b.Ge&&(this.Sk=!0);this.$R?(this.oa=this.c9,this.ib=this.m5):this.sd?(this.KF(),this.ib=this.XE):this.K.rb().Bm?(this.JF(),this.ib=
this.WE):this.yh?(this.oa=this.j9,this.ib=this.t5):(this.oa=this.lQ,this.ib=this.n5)}KF(){this.hu(this.sd,this.sd,this.CF)}JF(){const b=this.K.rb(),h=this.K.uj().ka;this.hu(b,h,this.BF)}hu(b,h,m){const g=this.Ea,l=this.Qi,n=this.Fa;if(0===n.length){const p=b.Kj(g,h);this.oa=l?function(){return f.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.pb)this.oa=b.$O(g,h,p.V(0));else{const q=b.Kj(g,h);this.oa=function(){return f.xor(q(p.V(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.pb&&q.pb)this.oa=b.aP(g,h,p.V(0),q.V(0));else{const u=b.Kj(g,h);this.oa=function(){return f.xor(u(p.V(0),q.V(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.pb&&q.pb&&u.pb)this.oa=b.bP(g,h,p.V(0),q.V(0),u.V(0));else{const w=b.Kj(g,h);this.oa=function(){return f.xor(w(p.V(0),q.V(0),u.V(0)),l)}}}else this.oa=m}F(){return this.K}gg(){return this.Ic}ne(){return this.Jd}G(){return this.g}Da(){return this.Ia}kL(){return this.Da()}Yn(){return this.FH}ke(){return!this.La.Tc&&!this.g.ic()&&
!this.La.qf}tj(){this.Ab||(this.Ab=new Map);return this.Ab}bt(){this.Mh||(this.Mh=new Map);return this.Mh}CF(){const b=this.qb;a(this.Fa,b);return f.xor(this.Ea.apply(this.sd,b),this.Qi)}*XE(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){var b=this.qb;a(this.Fa,b);b=this.Ea.apply(this.sd,b);f.Zl(b)&&(b=yield*b);return f.xor(b,this.Qi)}return this.oa()}BF(){const b=this.qb;a(this.Fa,b);const h=this.K.uj().ka;return f.xor(this.Ea.apply(h,b),this.Qi)}*WE(){if(this.La.Tc||this.g.ic())yield this;
if(this.La.qf){var b=this.qb;a(this.Fa,b);const h=this.K.uj().ka;b=this.Ea.apply(h,b);f.Zl(b)&&(b=yield*b);return f.xor(b,this.Qi)}return this.oa()}c9(){return!0}*m5(){if(this.La.Tc||this.g.ic())yield this;return!0}j9(){var b=this.qb;a(this.Fa,b);b=this.Ea.apply(this.Ic||this.K,b);this.K.oc();return b}*t5(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){var b=this.qb;a(this.Fa,b);b=this.Ea.apply(this.Ic||this.K,b);f.Zl(b)&&(b=yield*b);this.K.oc();return b}return this.oa()}lQ(){const b=this.Fa,
h=this.qb,m=this.K.S();for(let g=0,l=b.length;g<l;++g){const n=b[g];n.Ge||(h[g]=n.V(0))}return m.Tb?this.d9(m):this.e9(m)}*n5(){if(this.La.Tc||this.g.ic())yield this;return this.lQ()}fF(b){const h=this.Fa,m=this.qb;for(let g=0,l=h.length;g<l;++g){const n=h[g];n.Ge&&(m[g]=n.V(b))}}d9(b){const h=this.K,m=h.Ua,g=h.Li,l=this.Ci,n=0<=l,p=h.ma(),q=this.Sk,u=this.qb,w=this.Ea,r=this.Qi,v=this.aS&&!this.FH;b.Sw();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.fF(A);var y=void 0;n?(y=m?z.F().En(g):0,
y=w.apply(z.Zc[l+y].ka,u)):y=w.apply(z.ka,u);f.xor(y,r)?b.du(z):v&&b.to(z)}h.Hs(!0);b.xe(!1);h.oc();return b.RL()}e9(b){const h=this.K;var m=h.Ua;const g=h.Li,l=h.Qb(),n=this.Ci,p=0<=n,q=this.Sk,u=this.qb,w=this.Ea,r=this.Qi,v=this.aS&&!this.FH,y=b.D,A=b.mc,G=v&&!this.Jd.Q_(this),z=G?A:y;let F=0,H=!1;for(let M=0,Q=z.length;M<Q;++M){const R=z[M];q&&this.fF(M);var J=void 0;p?(J=m?R.F().En(g):0,J=w.apply(R.Zc[n+J].ka,u)):J=w.apply(R.ka,u);f.xor(J,r)?(H=!0,G?(y.push(R),l&&R.z8()):(z[F]=R,l&&R.l$(F),++F)):
G?(z[F]=R,l&&R.k$(F),++F):v&&(A.push(R),l&&R.y8())}f.Je(z,F);l&&h.I$(G,F);m=H;G&&!H&&(H=this.r8(y));h.Hs(m||v);return v?H:b.RL()}r8(b){var h=this.K;const m=h.Ua;h=h.Li;const g=this.Sk,l=this.Ci,n=0<=l,p=this.qb,q=this.Ea,u=this.Qi;for(let r=0,v=b.length;r<v;++r){var w=b[r];g&&this.fF(r);if(n){const y=m?w.F().En(h):0;w=q.apply(w.Zc[l+y].ka,p)}else w=q.apply(w.ka,p);if(f.xor(w,u))return!0}return!1}tt(b,h){return this.Fa[b].V(h)}xY(){const b=this.Fa;if(!b.length)throw Error("no parameters");return b[0].r6()}ea(){if(!this.Ab||
!this.Ab.size)return null;const b={};for(const [h,m]of this.Ab.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(l=>[l[0].Qc,l[1].Qc,l[2]]));b[h]=g}return{ex:b}}ia(b){this.Ab&&(this.Ab.clear(),this.Ab=null);if(b){var h=this.g,m=b.ex;if(m){b=this.tj();b.clear();for(const [g,l]of Object.entries(m))m=l,"collmemory"===g&&(m=f.j(f.nt,l.map(n=>[h.mj(n[0]),h.mj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),b.set(g,m)}}}}}
{"use strict";const f=self.B;function a(h,m){for(let g=0,l=h.length;g<l;++g)m[g]=h[g].V(0)}const c=[],e=function(){},b=function*(){};f.Hw=class extends f.ca{constructor(h,m,g){super();this.Jd=h;this.g=h=h.G();this.Ia=g;this.eb=4<=m.length?m[3]:-1;this.cz=5<=m.length?m[4]:0;this.Ic=this.K=this.Ea=null;this.Ci=-1;this.sd=null;this.qz="";this.Wk=this.pz=null;this.ib=this.oa=e;this.Fa=[];this.qb=[];this.Sk=!1;this.Mh=this.Ab=null;const l=(g=-3===m[0])?m[2]:m[5];this.La=h.zb||g?{Tc:l[0],qf:l[1],index:l[2]}:
null;-1===m[0]?(this.sd=h.Ys(),this.Ea=h.bh(m[1])):-2===m[0]?this.qz=m[1]:g?(this.Ea=h.bh(m[1]),this.oa=this.bE,this.ib=this.xW,this.cz=1):(this.Ea=h.bh(m[1]),this.K=h.Pe(m[0]),m[2]&&(this.Ic=this.K.ix(m[2]),this.Ci=this.K.Ls(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Fa.push(f.qe.Ja(this,n,this.Fa.length)),this.qb.push(0)}0===this.Fa.length&&(this.qb=this.Fa=c);this.Jd.fa().C8(this)}static Ja(h,m,g){return f.j(f.Hw,h,m,g)}Kb(){for(var h of this.Fa)h.Kb(),h.Ge&&(this.Sk=!0);if(this.sd)this.KF(),
this.ib=this.XE;else if(this.qz)this.K9(),this.qz="";else if(this.oa===this.bE){h=this.Ea;const m=this.g.fa().iP(this.Jd);this.Ea=h.bind(null,this.g.Ni,m)}else this.Ic?this.lg()?(this.oa=this.jQ,this.ib=this.j5):(this.oa=this.iQ,this.ib=this.i5):this.K.rb().Bm?(this.JF(),this.ib=this.WE):this.lg()?(this.oa=this.nQ,this.ib=this.p5):this.Fa.length?this.Fa.every(m=>m.Ge)?(this.oa=this.mQ,this.ib=this.o5):this.Sk?(this.oa=this.pQ,this.ib=this.r5):this.Fa.every(m=>m.pb)?(a(this.Fa,this.qb),this.oa=this.AF,
this.ib=this.GO):(this.oa=this.oQ,this.ib=this.q5):(this.oa=this.AF,this.ib=this.GO)}KF(){this.hu(this.sd,this.sd,this.CF)}JF(){const h=this.K.rb(),m=this.K.uj().ka;this.hu(h,m,this.BF)}K9(){const h=this.Jd.fa(),m=h.ux(this.qz);m.Vn()?(this.pz=m.ne(),this.Wk=[...new Set([...this.Jd.ld(),...this.pz.ld()])],this.Wk=h.Gy(this.Wk),this.oa=f.tk.prototype.V1.bind(this.pz,this.Wk,this.Fa),this.ib=this.k5):(this.oa=e,this.ib=b)}hu(h,m,g){const l=this.Ea,n=this.Fa;if(0===n.length)this.oa=h.Kj(l,m);else if(1===
n.length){const p=n[0];if(p.pb)this.oa=h.$O(l,m,p.V(0));else{const q=h.Kj(l,m);this.oa=function(){return q(p.V(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.pb&&q.pb)this.oa=h.aP(l,m,p.V(0),q.V(0));else{const u=h.Kj(l,m);this.oa=function(){return u(p.V(0),q.V(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.pb&&q.pb&&u.pb)this.oa=h.bP(l,m,p.V(0),q.V(0),u.V(0));else{const w=h.Kj(l,m);this.oa=function(){return w(p.V(0),q.V(0),u.V(0))}}}else this.oa=g}lg(){return 1===this.cz}wK(){return 2===
this.cz}FZ(){return 0!==this.cz}F(){return this.K}ne(){return this.Jd}G(){return this.g}Da(){return this.Ia}kL(){return this.La.index}ke(){return!this.La.Tc&&!this.g.ic()&&!this.La.qf}tj(){this.Ab||(this.Ab=new Map);return this.Ab}bt(){this.Mh||(this.Mh=new Map);return this.Mh}CF(){const h=this.qb;a(this.Fa,h);return this.Ea.apply(this.sd,h)}*XE(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){const h=this.qb;a(this.Fa,h);return yield*this.Ea.apply(this.sd,h)}return this.oa()}*k5(){if(this.La.Tc||
this.g.ic())yield this;return yield*this.pz.sW(this.Wk,this.Fa)}BF(){const h=this.qb;a(this.Fa,h);return this.Ea.apply(this.K.uj().ka,h)}*WE(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){const h=this.qb;a(this.Fa,h);return yield*this.Ea.apply(this.K.uj().ka,h)}return this.oa()}AF(){const h=this.qb,m=this.K.S().ma();for(let g=0,l=m.length;g<l;++g)this.Ea.apply(m[g].ka,h)}*GO(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){const h=this.qb,m=this.K.S().ma();for(let g=0,l=m.length;g<l;++g)yield*this.Ea.apply(m[g].ka,
h)}else this.AF()}oQ(){const h=this.qb;a(this.Fa,h);const m=this.K.S().ma();for(let g=0,l=m.length;g<l;++g)this.Ea.apply(m[g].ka,h)}*q5(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){const h=this.qb;a(this.Fa,h);const m=this.K.S().ma();for(let g=0,l=m.length;g<l;++g)yield*this.Ea.apply(m[g].ka,h)}else this.oQ()}mQ(){const h=this.Fa,m=this.qb,g=this.Ea,l=this.K.S().ma();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].V(n);g.apply(q.ka,m)}}*o5(){if(this.La.Tc||
this.g.ic())yield this;if(this.La.qf){const h=this.Fa,m=this.qb,g=this.Ea,l=this.K.S().ma();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].V(n);yield*g.apply(q.ka,m)}}else this.mQ()}pQ(){const h=this.Fa,m=this.qb,g=this.Ea,l=this.K.S().ma();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.Ge||(m[p]=n.V(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.Ge&&(m[u]=r.V(p))}g.apply(n.ka,m)}}*r5(){if(this.La.Tc||this.g.ic())yield this;
if(this.La.qf){const m=this.Fa,g=this.qb,l=this.Ea,n=this.K.S().ma();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.Ge||(g[p]=h.V(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Ge&&(g[u]=r.V(p))}yield*l.apply(h.ka,g)}}else this.pQ()}iQ(){var h=this.K;const m=h.Ua,g=h.Li,l=this.Fa,n=this.Sk,p=this.qb,q=this.Ea,u=this.Ci;h=h.S().ma();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Ge||(p[v]=w.V(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Ge&&(p[A]=r.V(v))}r=m?w.F().En(g):0;q.apply(w.Zc[u+r].ka,p)}}*i5(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){var h=this.K;const l=h.Ua,n=h.Li,p=this.Fa,q=this.Sk,u=this.qb,w=this.Ea,r=this.Ci;h=h.S().ma();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Ge||(u[v]=m.V(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.Ge&&(u[A]=g.V(v))}g=l?m.F().En(n):0;yield*w.apply(m.Zc[r+g].ka,u)}}else this.iQ()}nQ(){const h=this.Fa,m=this.qb,
g=this.Ea,l=this.K.S().ma(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].V(p);n.push(g.apply(u.ka,m))}return Promise.all(n)}*p5(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){const h=this.Fa,m=this.qb,g=this.Ea,l=this.K.S().ma(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].V(p);n.push(yield*g.apply(u.ka,m))}return Promise.all(n)}return this.nQ()}jQ(){var h=this.K;const m=h.Ua,g=h.Li,l=this.Fa,n=this.qb,
p=this.Ea,q=this.Ci;h=h.S().ma();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].V(w);const y=m?v.F().En(g):0;u.push(p.apply(v.Zc[q+y].ka,n))}return Promise.all(u)}*j5(){if(this.La.Tc||this.g.ic())yield this;if(this.La.qf){var h=this.K;const m=h.Ua,g=h.Li,l=this.Fa,n=this.qb,p=this.Ea,q=this.Ci;h=h.S().ma();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].V(w);const y=m?v.F().En(g):0;u.push(yield*p.apply(v.Zc[q+
y].ka,n))}return Promise.all(u)}return this.jQ()}async bE(){try{await this.Ea()}catch(h){console.error(`Unhandled exception running script %c${this.Jd.Mc.ra()}, event ${this.Jd.dr}, action ${this.kL()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.Wg&&self.Wg.f$(this),f.cx.sZ()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),f.cx.B2())}}*xW(){if(this.La.Tc||
this.g.ic())yield this;return this.bE()}ea(){return this.Ab&&this.Ab.size?{ex:f.HE(this.Ab)}:null}ia(h){this.Ab&&(this.Ab.clear(),this.Ab=null);h&&(h=h.ex)&&(this.Ab=f.LC(h))}}}
{"use strict";const f=self.B,a=new f.Ya;function c(L,O){return f.compare(this.m().ya(),L,O)}function e(L,O){return f.compare(this.m().za(),L,O)}function b(){const L=this.m(),O=L.da();return O.Wp()?L.$p(O.Hq()):L.gM(O.Zf,L.Ub().UL(),L.Ub().df)}function h(){var L=this.m();const O=L.Ub();L=L.Vc();return 0>L.$||0>L.W||L.P>O.Z()||L.L>O.X()}function m(L,O,U){const aa=this.S(),ha=aa.ma();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=f.PT(ja.ya(),ja.za(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=f.PT(ja.ya(),ja.za(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.am(ua);return!0}function g(L){const O=this.m();O.ya()!==L&&(O.ih(L),O.Wa())}function l(L){const O=this.m();O.za()!==L&&(O.ri(L),O.Wa())}function n(L,O){const U=this.m();U.LX(L,O)||(U.hm(L,O),U.Wa())}function p(L,O){if(L&&(L=L.aZ(this.ga))){var [U,aa]=L.Hn(O);O=this.m();if(O.ya()!==U||O.za()!==aa)O.hm(U,aa),O.Wa()}}function q(L){if(0!==L){var O=this.m();O.by(O.UC()*L,O.hD()*L);O.Wa()}}function u(L,
O){if(0!==O){var U=this.m();L=f.xb(L);U.by(Math.cos(L)*O,Math.sin(L)*O);U.Wa()}}function w(){return this.m().ya()}function r(){return this.m().za()}function v(){return this.g.VC(this.ga)}function y(L,O){return f.compare(this.m().Z(),L,O)}function A(L,O){return f.compare(this.m().X(),L,O)}function G(L){const O=this.m();O.Z()!==L&&(O.pi(L),O.Wa())}function z(L){const O=this.m();O.X()!==L&&(O.ji(L),O.Wa())}function F(L,O){const U=this.m();if(U.Z()!==L||U.X()!==O)U.ed(L,O),U.Wa()}function H(){return this.m().Z()}
function J(){return this.m().X()}function M(){return this.m().Vc().P}function Q(){return this.m().Vc().L}function R(){return this.m().Vc().$}function T(){return this.m().Vc().W}function Z(L,O){return f.ks(this.m().Na(),f.xb(O))<=f.xb(L)}function X(L){return f.pf(this.m().Na(),f.xb(L))}function ba(L,O){L=f.xb(L);O=f.xb(O);const U=this.m().Na();return f.pf(O,L)?f.pf(U,L)&&!f.pf(U,O):!(!f.pf(U,L)&&f.pf(U,O))}function Y(L){const O=this.m();L=f.ie(f.xb(L));isNaN(L)||O.Na()===L||(O.wd(L),O.Wa())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.wd(O.Na()+f.xb(L));O.Wa()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.wd(O.Na()-f.xb(L));O.Wa()}}function ya(L,O){const U=this.m(),aa=U.Na();L=f.mJ(aa,f.xb(O),f.xb(L));isNaN(L)||aa===L||(U.wd(L),U.Wa())}function Na(L,O,U){const aa=this.m(),ha=aa.Na();O-=aa.ya();U-=aa.za();L=f.mJ(ha,Math.atan2(U,O),f.xb(L));isNaN(L)||ha===L||(aa.wd(L),aa.Wa())}function Sa(L,O){const U=this.m(),aa=U.Na();L-=U.ya();O-=U.za();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.wd(O),U.Wa())}function Ta(){return f.qk(this.m().Na())}
function Ua(L,O){return f.compare(f.tU(100*this.m().Dd()),L,O)}function Wa(){return this.m().Fc()}function eb(L){const O=this.m();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&(O.hh(L),this.g.Y())}function fb(L){L=f.aa(L/100,0,1);const O=this.m();O.Dd()!==L&&(O.ki(L),this.g.Y())}function Pa(L){a.vs(L);L=this.m();L.$a.Hl(a)||(L.RN(a),this.g.Y())}function Va(){const L=this.m().$a;return f.dy(L.Pa,L.Ta,L.Sa,L.Ra)}function ib(){return f.tU(100*this.m().Dd())}function Ya(L){return L?this.m().da()===L:!1}function vb(L){const O=
this.S(),U=O.ma();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.da().Da(),Ga=ka.da().Da();if(0===L){if(wa>Ga||wa===Ga&&ua.xj()>ka.xj())aa=ja}else if(wa<Ga||wa===Ga&&ua.xj()<ka.xj())aa=ja}O.am(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.Za():aa.dh();return f.compare(L,O,U)}function jb(){this.m().c4()}function xb(){this.m().a4()}function yb(L){L&&this.m().b4(L)}function zb(L,O){L=0===L;O&&(O=O.rL(this.wa()))&&this.m().Z3(O,
L)}function Ab(L){const O=this.m();O.Za()!==L&&(O.Ue(L),this.g.Y())}function Bb(){return this.m().da().Da()}function Cb(){return this.m().da().ra()}function Db(){return this.m().xj()}function kb(){return this.m().Za()}function Eb(){return this.m().dh()}function Fb(L,O){if(O=this.F().Ha.xk(O)){O=O.Da();L=1===L;var U=this.m().Rf;U.gt(O)!==L&&(U.uN(O,L),U.lh(),this.g.Y())}}function Gb(L,O,U){var aa=this.F().Ha.xk(L);if(aa){L=aa.Da();var ha=this.m().Rf,fa=ha.wk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Cf().Ax(O);if("color"===aa){a.vs(U);O=fa[O];if(a.Hl(O))return;O.Zi(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.gt(L)&&this.g.Y()}}}const lb=f.j(f.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Qc<U.Qc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Qc<U.Qc?L.An(O,U):L.An(U,O)}function qa(L,O,U){return O.Qc<U.Qc?L.V(O,U):L.V(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.wa();const ha=0!==U||0!==aa,fa=L.m(),ja=L.G(),ua=ja.Co;var ka=ja.xf();
const wa=ka.ne().Kd;var Ga=ka.F();ka=ka.Qi;const Ia=O.S();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Tb?(lb.la(fa.Vc()),lb.offset(U,aa),ua.TC(fa.da(),O,lb,mb),O=mb):wa?ja.O_()&&!Ia.mc.length&&Ia.D.length?O=Ia.D:(O=Ia.mc,ob=!0):O=Ia.D;ha&&(db=fa.ya(),Ha=fa.za(),fa.by(U,aa),fa.Wa());for(const da of O)if(ua.FE(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.hm(db,Ha),fa.Wa());f.C(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Ib().Kd;O=Za.S();const U=O.D,aa=O.mc;O.Tb?(O.Ft(Qa),L&&(f.C(aa),
O.mK(Qa,Za.ma()))):L?ob?O.B3(Qa):(O.mK(Qa,U),O.Ft(Qa)):O.Ft(Qa);Za.oc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.$d)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Co,aa=O.fa(),ha=aa.Wc();var fa=aa.xf();const ja=fa.F();var ua=fa.tj(),ka=fa.bt();fa=ha.Ne();const wa=O.ek,Ga=wa-1,Ia=fa.Ib(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.nt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.jc().addEventListener("instancedestroy",
Ra=>{Ha.SK(Ra.instance)}));O=L.S();ua=ja.S().ma();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Tb?(U.TC(Ea.m().da(),L,Ea.m().Vc(),Xa),ka=Xa,U.pK(Ea,L,ka)):ka=O.ma();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.FE(Ea,La)||U.zK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.kd(),aa.re(ma),na=ja.S(),da=L.S(),na.xe(!1),da.xe(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.oc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.oc(),L.oc()),Ia.ng(fa,db),aa.Jb(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Ga();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Co,aa=O.fa(),ha=aa.Wc();var fa=aa.xf();const ja=fa.F();var ua=fa.tj(),ka=fa.bt();fa=ha.Ne();const wa=O.ek,Ga=wa-1,Ia=fa.Ib(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.nt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.jc().addEventListener("instancedestroy",Ra=>
{Ha.SK(Ra.instance)}));O=L.S();ua=ja.S().ma();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Tb?(U.TC(Ea.m().da(),L,Ea.m().Vc(),Xa),ka=Xa,U.pK(Ea,L,ka)):ka=O.ma();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.FE(Ea,La)||U.zK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.kd(),aa.re(ma),na=ja.S(),da=L.S(),na.xe(!1),da.xe(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.oc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.oc(),L.oc()),yield*Ia.dg(fa,db),aa.Jb(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Ga();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().yj()}function rb(){return this.m().Re()}function sb(L,O){const U=this.S().ma();if(0===U.length)return!1;const aa=L.S();var ha=aa.ma();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.yw())wa.Ip(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.Ix();ja.Ip(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Ft(fa);L.oc();return!0}function tb(L,O){const U=this.S().ma();if(0===U.length)return!1;const aa=L.S();var ha=aa.ma();if(aa.Tb){var fa=[...this.g.EJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.Re()&&ka.Ip(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.mk())2===O&&wa.Re()||wa.Ip(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Ft(fa);L.oc();return!0}function ub(L,O){const U=this.S().ma();if(0===U.length)return!1;const aa=L.S();var ha=aa.ma();if(aa.Tb){var fa=[...this.g.EJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].SC(O);null!==ka&&ka.Ip(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.my(fa);L.oc();return!0}function gb(L,O){return f.compare(this.ga.kx(),
L,O)}function d(L,O,U,aa,ha,fa,ja,ua){const ka=this.ga,wa=this.g.Ns().F();for(const Ga of L.CT(ka,wa)){if(!Ga.rb().iT)break;ka.Ol(Ga,{ys:O,zs:U,Ep:aa,Dp:ha,xs:fa,As:ja,iw:ua})}}function k(L){const O=this.ga,U=this.g.Ns().F();for(const aa of L.CT(O,U))O.Cj(aa)}function t(){this.ga.yj()&&this.ga.Ba().Cj(this.ga)}function x(){return this.ga.kx()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.hy(),U.Wa()):U.BC(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.m();ka.HN(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Gw:fa,NU:ja,QU:ua})&&ka.Wa()}function E(){const L=this.m();return L.Df()?L.vj().Uj:0}function I(){const L=this.m();return L.Df()?L.vj().hk:0}function K(L){const O=this.m();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&O.hh(L)}function N(L,O){this.v2(L,O)}function P(L,O){this.u2(L,""+O)}function S(L){this.C1(L)}function W(){this.dL()}function V(){this.sK()}function ea(){return this.HG}function ia(L){this.vQ(0!==L)}function ca(){return this.Hg}
function oa(L,O,U){return f.compare(this.wa().oe(L),O,U)}function la(L){return!!this.wa().oe(L)}function ra(L,O){const U=this.S(),aa=U.ma();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.oe(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.oe(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.am(fa);return!0}function sa(L){if(this.g.xf().Qi){{const aa=this.S();if(aa.Tb){aa.xe(!1);aa.Sw();var O=this.ma();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Qc===L?aa.to(U):aa.du(U)}this.oc();
L=!!aa.D.length}else{O=aa.D;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Qc===L?aa.to(ja):++U}f.Je(O,U);this.oc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().mj(O);if(!O)return!1;const U=L.S();if(!U.Tb&&!U.D.includes(O))return!1;if(L.Ua){if(O.F().rC(L))return U.am(O),L.oc(),!0}else if(O.F()===L)return U.am(O),L.oc(),!0;return!1}function za(){this.g.Bn(this.ga)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.wa().fm(L,O)}function Fa(L,
O){const U=this.wa(),aa=U.oe(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.fm(L,aa+O)}function Ja(L,O){const U=this.wa(),aa=U.oe(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.fm(L,aa-O))}function Ka(L,O){this.wa().fm(L,O?1:0)}function Da(L){const O=this.wa();O.fm(L,0===O.oe(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.wa();
L.Oy("state");L.md(O,"state")}function Ib(){return JSON.stringify(this.wa().vd("state"))}function nc(){return this.wa().F().ra()}function oc(){const L=this.g.Me().NG;let O=L.D.length;for(const U of this.g.EJ(L))++O;return O}function pc(){return this.g.Me().NG.S().ma().length}function qc(){return this.ga.Fn()}function rc(){return this.ga.Qc}f.ZU=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.ua,da=O.wf,na=O.jd;L[3]&&(ma.uea=
c,ma.vea=e,ma.Qfa=b,ma.Rfa=h,ma.eha=m,da.ih=g,da.ri=l,da.Hja=n,da.Ija=p,da.uga=q,da.tga=u,na.Y3=w,na.Rka=r,na.ST=v);aa&&(ma.tea=y,ma.nea=A,da.pi=G,da.ji=z,da.ed=F,na.Qka=H,na.gfa=J,na.Wda=M,na.Yda=Q,na.Xda=R,na.Vda=T);ha&&(ma.mV=Z,ma.L_=X,ma.K_=ba,da.wd=Y,da.via=va,da.wia=ta,da.xia=ya,da.yia=Na,da.Mja=Sa,na.Oda=Ta);fa&&(ma.Fc=Wa,ma.pea=Ua,da.hh=eb,da.ki=fb,da.Tia=Pa,na.Opacity=ib,na.hea=Va);ja&&(ma.Ofa=Ya,ma.mha=vb,ma.wea=wb,da.xga=jb,da.vga=xb,da.wga=yb,da.Uka=zb,da.Ue=Ab,na.cga=Bb,na.bga=Cb,na.Tka=
Db,na.Ska=kb,na.tka=Eb);ua&&(da.Uia=Fb,da.Via=Gb);Ia&&(ma.yj=Rb,ma.Re=rb,ma.kha=sb,ma.dha=tb,ma.iha=ub,ma.lea=gb,da.Ol=d,da.Cj=k,da.Dha=t,na.fea=x);db&&(da.Cja=C,da.HN=D,na.rga=E,na.sga=I);ka&&(ma.Fc=Wa,da.hh=K,da.n2=N,da.Wia=P,da.Cha=S);wa&&(ma.Hfa=ea,da.$ia=W,da.Oia=V);Ga&&(ma.Vn=ca,da.Yia=ia);Ha&&(ma.Kga=Nb,ma.Sfa=Pb,ma.Tfa=Qb,O.VX=Mb);U||(ma.oea=oa,ma.yfa=la,ma.fha=ra,ma.cha=sa,da.fja=Ca,da.Lda=Fa,da.jka=Ja,da.Pia=Ka,da.pka=Da,ma.R0=Aa,ma.S0=Ba,da.Dea=za,da.MD||(da.MD=Hb),na.uV||(na.uV=Ib),na.yea=
oc,na.nha=pc,na.hfa=qc,na.yka=rc,na.Fga=nc)}}
{"use strict";const f=self.B;f.eE=class extends f.ca{constructor(a){super();this.qa=a;this.na="";this.ad=-1;this.Kv="";this.tA=!1;this.Ji=null;this.Lf=0;this.De=[];this.pp=new Map;this.Uk=null;this.pu=-1;this.VG=this.Fg=null;this.Jv=!1}A(){this.na="";this.ad=-1;this.Kv="";this.VG=this.Fg=this.Uk=this.Ji=null;this.pu=-1;f.C(this.De);for(const a of this.pp.values())a.A();this.pp.clear()}ug(){var a=this.qa,c=a.G().Hc;const e=a.Me();this.Ji=e.Ib();this.Lf=e.Lf+1;if(a=a.KC(this.Ji))this.Uk=a,this.Fg=a.OV(),
this.VG=a.jH.map(b=>b.Vb()),a.lg()&&(this.pu=a.f1());for(const b of c)if(c=b.S(),!c.Tb||this.Ji.HZ(b))this.De.push(b),this.pp.set(b,f.j(f.VN,c))}C_(a){this.na="timer";this.ug();this.ad=this.qa.G().zk()+a}A_(a){this.na="signal";this.ug();this.Kv=a.toLowerCase()}o_(a){this.na="promise";this.ug();a.then(()=>this.rE()).catch(c=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",c);this.rE()})}b0(){return"timer"===this.na}$_(){return"signal"===this.na}V_(){return"promise"===
this.na}rE(){this.tA=!0}IQ(){return this.b0()?this.ad<=this.qa.G().zk():this.tA}hQ(a){a.zF(this.Ji,this.Lf);for(const [c,e]of this.pp.entries())e.zF(c.S());if(a=this.Uk)a.Bt(this.Fg),a.jH.map((c,e)=>c.te(this.VG[e])),a.lg()&&a.U1(this.pu)}Z8(a){this.hQ(a);this.Ji.Y8(a);this.Uk&&this.Uk.lg()&&this.Uk.kt(this.pu);this.qa.Jp(this.De);this.Jv=!0}async f5(a){this.hQ(a);for(const c of this.Ji.e5(a))await this.qa.G().Kp(c);this.Uk&&this.Uk.lg()&&this.Uk.kt(this.pu);this.qa.Jp(this.De);this.Jv=!0}eo(a){for(const c of this.pp.values())c.eo(a)}ea(){const a=
{},c={t:this.ad,st:this.Kv,s:this.tA,ev:this.Ji.eb,sm:this.De.map(e=>e.eb),sols:a};this.Ji.K6(this.Lf)&&(c.act=this.Ji.fL(this.Lf).eb);for(const [e,b]of this.pp)a[e.eb.toString()]=b.ea();return c}static K4(a,c){const e=a.G();var b=a.qY(c.ev);if(!b)return null;let h=0;if(c.hasOwnProperty("act")){var m=a.aY(c.act);if(!m)return null;h=m.Da()}m=f.j(f.eE,a);m.ad=c.t;m.na=-1===m.ad?"signal":"timer";m.Kv=c.st;m.tA=c.s;m.Ji=b;m.Lf=h;for(var g of c.sm)(b=e.zx(g))&&m.De.push(b);for(const [l,n]of Object.entries(c.sols))if(c=
e.zx(parseInt(l,10)))g=f.j(f.VN,null),g.ia(a,n),m.pp.set(c,g);return m}}}{"use strict";const f=self.B;f.VN=class extends f.ca{constructor(a){super();this.K=null;this.sA=!0;this.D=[];a&&(this.K=a.F(),this.sA=a.Tb,f.Ec(this.D,a.D))}A(){this.K=null;f.C(this.D)}zF(a){a.xe(this.sA);f.Ec(a.D,this.D)}eo(a){f.ag(this.D,a)}ea(){return{sa:this.sA,insts:this.D.map(a=>a.Qc)}}ia(a,c){a=a.G();this.sA=!!c.sa;f.C(this.D);for(const e of c.insts)(c=a.mj(e))&&this.D.push(c)}}}
{"use strict";const f=self.B;function a(c,e){let b=c.get(e);b||(b=new Map,c.set(e,b));return b}f.jy=class extends f.ca{constructor(c){super();this.g=c.uf;this.Bm=!!c.cU;this.ef=!!c.Eca;this.Uaa=!!c.Dca;this.dba=!!c.Qca;this.Gaa=!!c.rca;this.iT=!!c.oda;this.wba=!!c.nda;this.WS=null;this.cR=new Map;this.iaa=new Map;this.jaa=new Map;this.kaa=new Map}A(){this.g=null}G(){return this.g}Wd(){}cq(){return this.Uaa}fq(){return this.dba}oD(){return this.Gaa}Kj(c,e){if(!e)throw Error("missing 'this' binding");
let b=this.cR.get(c);if(b)return b;b=c.bind(e);this.cR.set(c,b);return b}$O(c,e,b){if(!e)throw Error("missing 'this' binding");const h=a(this.iaa,c);let m=h.get(b);if(m)return m;m=c.bind(e,b);h.set(b,m);return m}aP(c,e,b,h){if(!e)throw Error("missing 'this' binding");var m=a(this.jaa,c);m=a(m,b);let g=m.get(h);if(g)return g;g=c.bind(e,b,h);m.set(h,g);return g}bP(c,e,b,h,m){if(!e)throw Error("missing 'this' binding");var g=a(this.kaa,c);g=a(g,b);g=a(g,h);let l=g.get(m);if(l)return l;l=c.bind(e,b,h,
m);g.set(m,l);return l}m$(c){if(!this.Bm)throw Error("must be single-global plugin");this.WS=c}uj(){if(!this.Bm)throw Error("must be single-global plugin");return this.WS.uj()}}}
{"use strict";const f=self.B;f.b2=class extends f.jy{constructor(a,c){super(a);this.fr=c;this.gba=0;this.kH=new Map;this.Bs("elem-focused",e=>e.c8());this.Bs("elem-blurred",e=>{e&&e.b8()})}A(){super.A()}h4(a){const c=this.gba++;this.kH.set(c,a);return c}O8(a){this.kH.delete(a)}Bs(a,c){this.g.rk(this.fr,a,e=>{const b=this.kH.get(e.elementId);c(b,e)})}}}{"use strict";const f=self.B;f.cE=class extends f.ca{constructor(a){super();this.K=a;this.g=a.G();this.Eh=a.rb()}A(){this.Eh=this.g=this.K=null}F(){return this.K}G(){return this.g}rb(){return this.Eh}Oe(){return this.K.Oe()}Hs(){}eq(){}co(){}cy(){}SD(){}Ul(){return null}}}
{"use strict";const f=self.B;f.jN=class extends f.ca{constructor(a,c){super();this.ga=a;this.fr=c;this.g=a.G();this.K=this.ga.F();this.Dc=this.K.Dc;this.Wr=this.yl=null;this.hv=this.hl=!1;this.Cg=null;this.fw=!1}A(){this.fw=!0;this.ju();this.NF();this.Wr=this.yl=null;this.Cg&&(this.Cg.A(),this.Cg=null);this.Dc=this.K=this.g=this.ga=null}By(){return this.fw}wa(){return this.ga}G(){return this.g}F(){return this.K}rb(){return this.Dc.rb()}Vp(){return this.ga.ah()}nb(a){return this.g.nb(a,this.ga,null)}Xd(a){return this.g.Xd(a,
this.ga,null)}LM(a,c){this.g.iq(this.fr,a,c)}MM(){return this.g.jq(this.fr,"get-suspended",void 0)}YP(a,c){this.g.dl?this.LM(a,c):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.fr,handler:a,data:c,responseId:null})}We(){}mm(){this.hl||(this.yl||(this.yl=()=>this.We()),this.g.jc().addEventListener("tick",this.yl),this.hl=!0)}ju(){this.hl&&(this.g.jc().removeEventListener("tick",this.yl),this.hl=!1)}NF(){this.hv&&(this.g.jc().removeEventListener("tick2",this.Wr),this.hv=
!1)}vd(){return null}md(){}uc(){}fh(){}OD(a,c){if(0!==c){var e=this.uc(a);if("number"!==typeof e)throw Error("expected number");this.fh(a,e+c)}}Ul(){return null}Mp(a,c,e){const b=this.Vp();a=f.j(f.Event,a,c);a.instance=b;e&&Object.assign(a,e);b.dispatchEvent(a)}}}
{"use strict";const f=self.B;f.dE=class extends f.jN{constructor(a,c){super(a,c);this.Ma=a.m();this.DB=this.es=null}A(){if(this.es){const a=this.g.jc();a.removeEventListener("webglcontextlost",this.es);a.removeEventListener("webglcontextrestored",this.DB);this.DB=this.es=null}this.Ma=null;super.A()}tZ(){if(!this.es){this.es=()=>this.hq();this.DB=()=>this.IM();var a=this.g.jc();a.addEventListener("webglcontextlost",this.es);a.addEventListener("webglcontextrestored",this.DB)}}hq(){}IM(){}m(){return this.Ma}Wn(){return!1}pj(){if(!this.Wn())throw Error("original size not known");
const a=this.$g();if(a)return a.Z()}oj(){if(!this.Wn())throw Error("original size not known");const a=this.$g();if(a)return a.X()}$g(){return null}lx(){var a=this.$g();return a&&(a=a.Gd())?[a.Z(),a.X()]:[100,100]}mx(){const a=this.$g();return a?a.ai():null}Tx(){const a=this.$g();return a?a.Xo:!1}Hn(){const a=this.ga.m();return[a.ya(),a.za()]}mq(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Rect);f.a2=class extends f.dE{constructor(c,e){super(c,e);this.Lu=this.rb().h4(this);this.tH=!0;this.ru=this.HG=!1;this.zr=f.j(f.Rect,0,0,-1,-1);c=this.g.N;this.qS=c.dn;this.pS=c.cn;this.DH=!1;this.mm()}A(){this.rb().O8(this.Lu);this.cm("destroy");this.Lu=-1;super.A()}cm(c,e){e||(e={});e.elementId=this.Lu;this.LM(c,e)}XP(c){c||(c={});c.elementId=this.Lu;this.YP("focus",c)}jW(c){c||(c={});const e=this.m().Fc();c.elementId=this.Lu;c.isVisible=e;Object.assign(c,this.XC());
this.tH=!!c.isVisible;this.YP("create",c);this.UQ(!0)}qy(c){c=!!c;this.tH!==c&&(this.tH=c,this.cm("set-visible",{isVisible:c}))}We(){this.UQ(!1)}v$(){const c=this.g.N.tx();return"Android"===f.Xc.gq&&("scale-inner"===c||"scale-outer"===c||"crop"===c)}UQ(c){var e=this.m();const b=e.da();var h=e.ya(),m=e.za();let [g,l]=b.Zn(h,m),[n,p]=b.Zn(h+e.Z(),m+e.X());h=this.g.N;m=h.$c;const q=h.Jc;if(e.Fc()&&b.Fc()){if(!this.v$()){if(0>=n||0>=p||g>=m||l>=q){this.qy(!1);return}1>g&&(g=1);1>l&&(l=1);n>=m&&(n=m-1);
p>=q&&(p=q-1)}a.set(g,l,n,p);e=h.dn;m=h.cn;!c&&a.bd(this.zr)&&this.qS===e&&this.pS===m?this.qy(!0):(this.zr.la(a),this.qS=e,this.pS=m,this.qy(!0),c=null,this.ru&&(c=b.jj()-.2),this.cm("update-position",{left:Math.round(this.zr.P)+h.QC(),top:Math.round(this.zr.L)+h.RC(),width:Math.round(this.zr.width()),height:Math.round(this.zr.height()),fontSize:c}))}else this.qy(!1)}dL(){this.XP({focus:!0})}sK(){this.XP({focus:!1})}c8(){this.HG=!0}b8(){this.HG=!1}v2(c,e){this.cm("set-css-style",{prop:f.HV(c),val:e})}u2(c,
e){this.cm("set-attribute",{name:c,val:e})}C1(c){this.cm("remove-attribute",{name:c})}Kf(){this.DH||(this.DH=!0,Promise.resolve().then(()=>{this.DH=!1;this.cm("update-state",this.XC())}))}XC(){}}}
{"use strict";const f=self.B,a=self.NZ;f.Aia=class extends f.ca{constructor(c){super();this.g=c.uf;this.cI=f.j(f.pC);this.NA=f.j(f.pC);this.Uu=null;this.rba=c.Nna||null}A(){this.NA.A();this.cI.A();this.g=null}G(){return this.g}Wd(){}i4(c){this.cI.Uc(c)}AL(){return this.cI.NC()}tg(c){this.NA.Uc(c)}uo(c){this.NA.An(c)}ma(){return this.NA.NC()}GY(){if(null===this.Uu){const c=this.rba;if(c){if(this.Uu=new c(this),!(this.Uu instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Uu=new a(this)}return this.Uu}}}{"use strict";const f=self.B;f.Cia=class extends f.ca{constructor(a){super();this.g=a.G();this.Ic=a;this.K=a.F();this.Bi=a.Ql();this.Bi.i4(this.K)}A(){this.Bi=this.K=this.Ic=this.g=null}gg(){return this.Ic}F(){return this.K}G(){return this.g}Ql(){return this.Bi}}}
{"use strict";const f=self.B;f.Bia=class extends f.ca{constructor(a,c){super();this.mz=a;this.fr=c;this.ga=a.ga;this.g=a.G();this.Ic=a.gg();this.Dc=this.Ic.Dc;this.cS=this.hv=this.hl=!1;this.Cg=null}A(){this.ju();this.NF();this.A$();this.Cg&&(this.Cg.A(),this.Cg=null);this.Dc=this.Ic=this.g=this.ga=this.mz=null}Ql(){return this.Ic.Ql()}F(){return this.ga.F()}m(){return this.ga.m()}G(){return this.g}gg(){return this.Ic}Vp(){return this.mz.Vp()}nb(a){return this.g.nb(a,this.ga,this.Ic)}Xd(a){return this.g.Xd(a,
this.ga,this.Ic)}We(){}mm(){this.hl||(this.g.d4(this),this.hl=!0)}ju(){this.hl&&(this.g.L8(this),this.hl=!1)}NF(){this.hv&&(this.g.M8(this),this.hv=!1)}A$(){this.cS&&(this.g.K8(this),this.cS=!1)}vd(){return null}md(){}uc(){}fh(){}OD(a,c){if(0!==c){var e=this.uc(a);if("number"!==typeof e)throw Error("expected number");this.fh(a,e+c)}}Ul(){return null}Mp(a,c,e){const b=this.Vp();a=f.j(f.Event,a,c);a.ela=b;a.instance=b.instance;e&&Object.assign(a,e);b.dispatchEvent(a)}}}
{"use strict";const f=self.B;f.H={};f.Hp={};f.g1=class extends f.ca{constructor(a){super();this.g=a;this.caa=[];this.LS=new Map;this.sd=null;this.$$=[];this.iG=new Map;this.iS=this.ZS=null}oW(a){const c=this.g.bh(a[0]);if(!c)throw Error("missing plugin");f.ZU(a,c);a=f.j(c,{uf:this.g,cU:a[1],Eca:a[2],Dca:a[5],rca:a[8],Qca:a[9],oda:a[13],nda:a[14]});a.Wd();this.caa.push(a);this.LS.set(c,a)}qW(){this.sd=f.j(f.H.Xa,{uf:this.g,cU:!0});this.sd.Wd()}iW(a){a=this.g.bh(a[1]);if(!a)throw Error("missing behavior");
const c=f.j(a,{uf:this.g});c.Wd();this.$$.push(c);this.iG.set(a,c);!this.ZS&&f.Hp.lda&&c instanceof f.Hp.lda?this.ZS=c:!this.iS&&f.Hp.Gca&&c instanceof f.Hp.Gca&&(this.iS=c)}cZ(a){return this.LS.get(a)||null}AZ(a){return this.iG.has(a)}eY(a){return this.iG.get(a)||null}Ys(){return this.sd}}}
{"use strict";const f=self.B,a=new Set;f.Qx=class extends f.ca{constructor(){super();this.gk="";this.O=this.T=this.Av=this.zv=this.Pr=0;this.Ru=this.Xo=!1;this.Ze=null;this.xl="";this.Tf=f.j(f.Rect);this.lp=f.j(f.nd);new self.VL(this);a.add(this)}A(){this.gi();this.Ze=null;a.delete(this)}static hq(){for(const c of a)c.xl="",c.Tf.set(0,0,0,0),c.lp.dj(c.Tf)}rM(c){this.gk=c[0];this.Pr=c[1];this.zv=c[2];this.Av=c[3];this.T=c[4];this.O=c[5];this.Xo=c[6];this.Ru=!0}n0(c,e){if(this.Ze)throw Error("already loaded asset");
this.gk=e;const b={};f.wD(e)&&(b.vw="remote");this.qM(c,b);return this.Ze.pM()}L1(c){if(c===this)throw Error("cannot replace with self");this.gi();this.gk=c.gk;this.Pr=c.Pr;this.zv=c.zv;this.Av=c.Av;this.T=c.T;this.O=c.O;this.Xo=c.Xo;this.Ru=c.Ru;this.Ze=c.Ze;this.xl=c.xl;this.Tf=c.Tf;this.lp=c.lp}Vl(){return this.Pr}Z(){return this.T}X(){return this.O}qM(c,e){if(this.Ze)throw Error("already got asset");e=Object.assign({},e,{url:this.gk,size:this.Vl()});this.Ze=c.ay(e)}GD(){return this.Ze&&this.Ze.GD()}async jt(c,
e){if(!this.Ze)throw Error("no asset");if(this.xl)throw Error("already loaded texture");this.xl="loading";c=await this.Ze.jt(c,e);if(!c)return this.xl="",null;this.xl="loaded";this.Ru||(this.T=c.Z(),this.O=c.X(),this.Ru=!0);this.Tf.set(this.zv,this.Av,this.zv+(this.Xo?this.O:this.T),this.Av+(this.Xo?this.T:this.O));this.Tf.Gl(c.Z(),c.X());this.lp.dj(this.Tf);this.Xo&&this.lp.cda();return c}gi(){this.xl&&(this.Ze&&this.Ze.gi(),this.xl="",this.Tf.set(0,0,0,0),this.lp.dj(this.Tf))}Gd(){return this.Ze?
this.Ze.Gd():null}ai(){return this.Tf}Gx(){return this.lp}}}
{"use strict";const f=self.B;f.oV=class extends f.ca{constructor(a){super();this.Ca=a[0];this.Rr=a[1];this.pA=!!a[2];this.Or=a[3];this.SS=a[4];this.Taa=!!a[5];this.eb=a[6];this.qd=a[7].map(c=>f.j(f.nV,c));this.Haa=new self.KZ(this)}A(){for(const a of this.qd)a.A();f.C(this.qd)}k0(a){for(const c of this.qd)c.Oe().qM(a)}l0(a,c){return Promise.all(this.qd.map(e=>e.Oe().jt(a,c)))}y1(){for(const a of this.qd)a.Oe().gi()}ra(){return this.Ca}Tl(a){a=Math.floor(a);if(0>a||a>=this.qd.length)throw new RangeError("invalid frame");
return this.qd[a]}jg(){return this.Or}}}
{"use strict";const f=self.B;f.nV=class extends f.ca{constructor(a){super();this.Qf=f.j(f.Qx);this.Qf.rM(a);this.Ez=a[7];this.IS=f.j(f.Mt,a[8],a[9]);this.Zz=a[10].map(c=>f.j(f.ZZ,this,c));this.RR=new Map;for(const c of this.Zz)this.RR.set(c.ra().toLowerCase(),c);this.Do=null;a=a[11];6<=a.length&&(this.Do=f.j(f.zn,a));this.Iaa=new self.LZ(this)}A(){this.Do&&(this.Do.A(),this.Do=null);this.Qf.A();this.Qf=null}Oe(){return this.Qf}Bk(){return this.IS.ba}Ck(){return this.IS.U}IY(a){return this.RR.get(a.toLowerCase())||null}HY(a){a=
Math.floor(a);return 0>a||a>=this.Zz.length?null:this.Zz[a]}bD(){return this.Zz.length}}}{"use strict";const f=self.B;f.ZZ=class extends f.ca{constructor(a,c){super();this.Ca=c[0];this.nI=f.j(f.Mt,c[1],c[2])}A(){}ra(){return this.Ca}ya(){return this.nI.ba}za(){return this.nI.U}}}
{"use strict";const f=self.B,a=self.Wg,c=self.SZ;f.ND=class extends f.ca{constructor(e,b,h){super();const m=e.bh(h[1]);this.g=e;this.Eh=e.jp.cZ(m);this.Dc=null;this.cA=m.Instance;this.Ia=b;this.eb=h[11];this.Ca=h[0];this.mv=this.g.Zh(h[14]);this.Raa=!!h[9];this.Ua=!!h[2];this.BH=!!h[10];this.Oi=h[3].map(g=>({BU:g[0],type:g[1],name:g[2],Fca:e.Zh(g[3])}));this.gaa=h[4];this.Caa=h[5];this.ef=this.Eh.ef;this.Ha=null;this.wz=f.j(f.r3,e.Lg,e.Kg);this.cG=!0;this.dG=!1;this.SG=this.Lo=null;this.Li=-1;this.QG=
this.Kz=this.Lz=this.PG=this.th=null;this.vH=!1;this.Ag=null;this.aR=h[8].map(g=>f.qK.Ja(this,g));this.nz=[];this.jG=new Map;this.hG=new Map;this.qT=new Set;this.Om=f.j(f.o3,this);this.hz=this.gz=this.xd=this.Qf=this.Ag=this.cr=null;this.Vr=0;this.Ab=new Map;this.Mh=new Map;this.D=[];this.fH=!0;this.Eh.oD()&&(this.Ha=f.j(f.sk,this,h[12]));h[6]&&(this.Qf=f.j(f.Qx),this.Qf.rM(h[6]));if(h[7]){this.xd=h[7].map(g=>f.j(f.oV,g));this.gz=new Map;this.hz=new Map;for(const g of this.xd)this.gz.set(g.ra().toLowerCase(),
g),this.hz.set(g.eb,g)}this.Ua?(this.Lo=[],this.SG=new Set,this.Li=this.g.w6()):(this.th=[],this.PG=new Set,this.Lz=[],this.Kz=[],this.QG=[]);this.Dc=f.j(m.Kt,this,h[15]);this.YR=this.Wu=null;this.Rd=f.j(f.Event.jc);if(b=this.Dc.Ul()){if(this.Wu=new b(this),!(this.Wu instanceof c))throw new TypeError("script interface class must derive from IObjectClass");}else this.Wu=new c(this);this.g.zB&&!this.Ua&&!this.BH&&this.ef||this.Wd();this.Eh.Bm&&(this.Eh.m$(this),this.T4(h))}static Ja(e,b,h){return f.j(f.ND,
e,b,h)}A(){this.Qf&&(this.Qf.A(),this.Qf=null);if(this.xd){for(const e of this.xd)e.A();f.C(this.xd);this.gz.clear();this.hz.clear()}this.Om.A();this.Om=null;this.Ab.clear();this.Mh.clear();this.g=this.Ag=null}q7(e){for(let b=1,h=e.length;b<h;++b){const m=this.g.Pe(e[b]);this.Lo.push(m);this.SG.add(m);m.th.push(this);m.PG.add(this)}}L9(e){this.vH=!0;this.Ag=e}Qb(){return this.vH}U7(){var e=0;if(!this.Ua)for(var b of this.th)for(var h of b.aR){const l=h.ra().toLowerCase();this.jG.set(l,h);this.hG.set(l,
e);this.nz.push(h);++e}for(var m of this.aR)b=m.ra().toLowerCase(),this.jG.set(b,m),this.hG.set(b,e),this.nz.push(m),++e;for(var g of this.nz)this.qT.add(g.Ql().constructor);if(!this.Ua&&this.th.length){e=this.g.tR;f.NB(this.Lz,e,0);f.NB(this.Kz,e,0);f.NB(this.QG,e,0);e=[];b=g=m=0;for(const l of this.th)if(h=l.Li,this.Lz[h]=m,m+=l.Oi.length,this.Kz[h]=g,g+=l.gaa,this.QG[h]=b,b+=l.Caa,(h=l.Ha)&&this.Ha)for(const n of h.fg())e.push(n.WV(this.Ha));this.Ha&&this.Ha.n1(e)}}T4(e){const b=this.g.v6(),h=
f.j(f.Instance,{uf:this.g,RJ:this,uid:b});h.Ey(e[16],[]);this.g.H7(b,h);this.D.push(h)}Wd(){this.Ua||this.Dc.Wd()}EZ(){return 0<this.Vr}eq(e){if(this.Ua)return Promise.resolve();this.Vr++;return 1===this.Vr?this.Dc.eq(e)||Promise.resolve():Promise.resolve()}co(){if(!this.Ua){this.Vr--;if(0>this.Vr)throw Error("released textures too many times");0===this.Vr&&this.Dc.co()}}cy(){if(this.Ua)throw Error("not applicable to family");this.Dc.cy()}SD(e){return this.Ua?Promise.resolve():this.Dc.SD(e)}G(){return this.g}rb(){return this.Eh}ra(){return this.Ca}Zh(){return this.mv}Da(){return this.Ia}Ff(){return this.Raa}eO(e){return e&&
this.qT.has(e)}NY(){return this.Oi.map(e=>e.BU)}MY(e){return this.Oi.findIndex(b=>b.BU===e)}LY(e){return this.Oi.findIndex(b=>b.name===e)}m6(){return this.Oi.map(e=>e.Fca)}Ts(e){e=Math.floor(e);if(0>e||e>=this.Oi.length)throw new RangeError("invalid instance variable index");return this.Oi[e].type}vL(e){e=Math.floor(e);if(0>e||e>=this.Oi.length)throw new RangeError("invalid instance variable index");return this.Oi[e].name}ix(e){return this.jG.get(e.toLowerCase())||null}Ls(e){e=this.hG.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}oD(){return this.Eh.oD()}fO(){return this.Ha&&this.Ha.vZ()}S(){return this.Om.S()}Oe(){return this.Qf}sN(e){this.cr=e}rC(e){return this.PG.has(e)}aL(e){return this.SG.has(e)}En(e){return this.Kz[e]}pL(e){return this.Lz[e]}gL(e){if(!this.xd)throw Error("no animations");return this.gz.get(e.toLowerCase())||null}dY(e){if(!this.xd)throw Error("no animations");return this.hz.get(e)||null}AY(){if(!this.xd)throw Error("no animations");return this.xd[0].Tl(0)}lY(){if(this.xd){const e=
this.AY().Oe();return[e.Z(),e.X()]}return this.Qf?[this.Qf.Z(),this.Qf.X()]:[100,100]}uj(){if(!this.Eh.Bm)throw Error("not a single-global plugin");return this.D[0]}ma(){return this.D}*ZT(){yield*this.D}*vca(){yield*this.D;for(const e of this.g.cl)e.F()===this&&(yield e)}tg(e){this.D.push(e)}fu(){this.fH=!0}bz(){if(this.fH&&!this.Ua){var e=this.D,b=0;for(let h=e.length;b<h;++b)e[b].wQ(b);e=this.g.cl;for(const h of e)h.F()===this&&h.wQ(b++);this.fH=!1}}uL(e){var b=this.D;if(e<b.length)return b[e];
e-=b.length;b=this.g.cl;for(const h of b)if(h.F()===this){if(0===e)return h;--e}return null}rL(e){if(e&&e.Qb()&&e.F()!==this)for(const b of e.rd)if(b.F()===this)return b;e=this.S().ma();return e.length?e[0]:null}aZ(e){const b=this.S().ma();return 0<b.length?b[e.Fn()%b.length]:null}*CT(e,b){const h=this.S().ma();var m=h.length;const g=b.S(),l=b.S().ma(),n=l.length;var p=e.Fn();if(b.Ua||!g.Tb)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Hs(e){this.Dc.Hs(e)}oc(){if(this.vH&&
!this.Ua){this.bz();var e=this.S(),b=e.D,h=e.Tb,m=this.g.Me();m=m&&m.Ib()&&m.Ib().Kd;for(const n of this.Ag.ql)if(n!==this){n.bz();var g=n.S();g.xe(h);if(!h){var l=g.D;f.C(l);for(const p of b)l.push(n.uL(p.Fn()));if(m){l=e.mc;g=g.mc;f.C(g);for(const p of l)g.push(n.uL(p.Fn()))}}}}}I$(e,b){for(const h of this.Ag.ql){const m=h.S();e?f.Je(m.mc,b):f.Je(m.D,b)}}rQ(){this.cG=!0}EF(e){this.dG=!!e}PQ(){if(this.cG&&this.ef){for(const e of this.D)e.m().SQ();for(const e of this.g.cl)e.F()===this&&e.m().SQ();
this.cG=!1}}tj(){this.Ab||(this.Ab=new Map);return this.Ab}bt(){this.Mh||(this.Mh=new Map);return this.Mh}SL(){return this.eO(f.Hp.Bga)}pD(){return this.eO(f.Hp.Yga)}ea(){const e={instances:this.D.map(b=>b.vd())};this.Ab&&this.Ab.size&&(e.ex=f.HE(this.Ab));return e}ia(e){this.Ab&&(this.Ab.clear(),this.Ab=null);var b=e.ex;b&&(this.Ab=f.LC(b));b=this.D;e=e.instances;for(let h=0,m=Math.min(b.length,e.length);h<m;++h)b[h].md(e[h]);for(let h=e.length,m=b.length;h<m;++h)this.g.Bn(b[h]);for(let h=b.length,
m=e.length;h<m;++h){b=e[h];let g=null;if(this.ef&&(g=this.g.Mb().wx(b.w.l),!g))continue;this.g.Vh(this.cr||this,g,!1,0,0,!0).md(b)}this.fu()}Zg(e){var b=this.g;(b=b.zb&&!b.fa().it())&&a.CE();this.Rd.dispatchEvent(e);b&&a.nC()}}}{"use strict";const f=self.B;f.cW=class extends f.ca{constructor(a,c){super();this.g=a;this.ql=c;for(const e of this.ql)e.L9(this)}A(){this.g=null}G(){return this.g}zZ(){return this.ql.some(a=>a.ef)}}}
{"use strict";const f=self.B,a=self.Wg,c=self.Yp,e=[];let b=0;const h=new WeakMap,m=new WeakMap;f.Instance=class extends f.ca{constructor(g){super();this.g=g.uf;this.Ld=g.RJ;this.Zd=this.ka=this.Ma=null;this.PR=0;this.Qc=g.uid;this.OS=b++;this.ta=0;this.Zc=this.$e=e;var l=this.Ld.nz;0<l.length&&(this.Zc=l.map((n,p)=>f.j(f.Jw,{uf:this.g,nJ:n,instance:this,index:p})));this.rd=this.Ld.Qb()?[]:null;this.Qd=-1;this.Ob=null;l=this.rb();l.fq()&&(this.ta|=4);if(l.ef)if(this.Ma=f.j(f.W3,this,g.fU),g.RU)this.Ma.Pn(g.RU);
else{this.Ma.n_();const [n,p]=this.Ld.lY();this.Ma.ed(n,p);this.F().fO()&&this.Ma.Rf.m0()}g.YT?this.t7(g.YT):this.o7()}A(){this.Zd&&(this.Zd.eu(),this.Zd=null);if(0<this.Zc.length){for(var g of this.Zc)g.A();f.C(this.Zc)}this.ka.A();this.ka=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.rd&&f.C(this.rd);this.Ob&&(this.Ob.A(),this.Ob=null);this.Ld=this.g=null;0<this.$e.length&&f.C(this.$e);this.Ma&&(this.Ma.A(),this.Ma=null)}t7(g){0<g.length&&(this.$e=
[],f.Ec(this.$e,g))}o7(){const g=this.Ld.Oi.length;if(0!==g){this.$e=[];var l=[0,0,""];for(let n=0;n<g;++n)this.$e.push(l[this.Ld.Ts(n)])}}Ey(g,l){if(this.ka)throw Error("already got sdk instance");for(let n=0,p=this.Zc.length;n<p;++n)this.Zc[n].Ey(l?l[n]:null);this.ka=f.j(this.Ld.cA,this,g);if(!(this.ka instanceof f.jN))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Zc.length;n<p;++n);this.Ld.YR&&this.yP()}m(){return this.Ma}G(){return this.g}bY(){const g=this.Qd;return-1===
g?this.G().Qd:g}uE(g){g=+g;if(0>g||!isFinite(g))g=0;this.Qd=g}T1(){this.Qd=-1}jc(){this.Ob||(this.Ob=f.j(f.Event.jc));return this.Ob}eg(g){this.ka.eg(g)}Wd(g){this.ka.Wd(g)}b$(){this.ta|=2}Ek(){return 0!==(this.ta&2)}sF(){this.ta|=1}ft(){return 0!==(this.ta&1)}fq(){return 0!==(this.ta&4)}wM(){return 0!==(this.ta&32)}At(g,l){g<<=16;this.ta=l?this.ta|g:this.ta&~g}$C(g){return 0!==(this.ta&g<<16)}$g(){return this.ka.$g()}lx(){return this.ka.lx()}mx(){return this.ka.mx()}Tx(){return this.ka.Tx()}Hn(g){return this.ka.Hn(g)}F(){return this.Ld}mq(){return this.ka.mq()}Ip(g){return g.Ua?
g.aL(this.F()):this.F()===g}gO(){if(!this.rb().iT)throw Error("object does not support scene graph");}yj(){return null!==this.Ba()}Ba(){var g=this.m();return g?(g=g.Ba())?g.wa():null:null}Ix(){var g=this.m();return g?(g=g.Ix())?g.wa():null:null}*yw(){const g=this.m();if(g)for(const l of g.yw())yield l.wa()}Re(){const g=this.m();return g?g.Re():!1}Le(){const g=this.m();return g?g.Le().map(l=>l.wa()):[]}*children(){const g=this.m();if(g)for(const l of g.children())yield l.wa()}*mk(){const g=this.m();
if(g)for(const l of g.mk())yield l.wa()}kx(){const g=this.m();return g?g.kx():0}SC(g){const l=this.m();return l?(g=l.SC(g))?g.wa():null:null}Ol(g,l){this.gO();g.gO();this.m().Ol(g.m(),l||{})}Cj(g){const l=this.m();l&&l.Cj(g.m())}ox(){const g=this.m();return g?g.ox():!1}m3(){var g=this.m();if(g&&(g=g.DL()))for(const l of g)if(g=this.g.mj(l[2])){const n=l[3];this.Ol(g,{ys:!!(n>>0&1),zs:!!(n>>1&1),Ep:!!(n>>2&1),Dp:!!(n>>3&1),xs:!!(n>>4&1),iw:!!(n>>5&1),As:!!(n>>6&1)})}}Qb(){return null!==this.rd}Dq(g){this.rd.push(g)}GZ(g){return!!this.JL(g)}JL(g){const l=
this.rd;if(null===l||0===l.length)return!1;for(const n of l)if(n.F()===g)return n;return null}oi(){for(const g of this.rd)g.F().S().Gj(g)}z8(){for(const g of this.rd)g.F().S().du(g)}l$(g){for(const l of this.rd)l.F().S().D[g]=l}y8(){for(const g of this.rd)g.F().S().to(g)}k$(g){for(const l of this.rd)l.F().S().mc[g]=l}rb(){return this.Ld.rb()}wQ(g){this.PR=g}Fn(){this.Ld.bz();return this.PR}hL(g){const l=this.Zc;for(let n=0,p=l.length;n<p;++n)if(l[n].gg().eb===g)return n;return-1}oe(g){g|=0;const l=
this.$e;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}t6(g){const l=this.$e[g];return 0===this.Ld.Ts(g)?!!l:l}fm(g,l){g|=0;const n=this.$e;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Ld.Ts(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}F2(g,l){if(0!==l){g|=0;var n=this.$e;if(0>g||g>=
n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}tj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}bt(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,g);return g}sP(g){const l=
this.F();if(l.Rd.nD(g))return!0;for(const n of l.th)if(n.Rd.nD(g))return!0;return this.g.Rd.nD(g)?!0:!1}az(){const g=new Set;g.add(this);const l=this.m();if(l&&l.Re())for(const n of this.mk())if(g.add(n),n.Qb())for(const p of n.rd)g.add(p);if(this.Qb())for(const n of this.rd)g.add(n);for(const n of g.values())n.MQ()}MQ(){if(this.sP("instancecreate")){const g=this.F(),l=new f.Event("instancecreate");l.instance=this.ah();g.Zg(l);for(const n of g.th)n.Zg(l);this.g.Zg(l)}this.g.nb(this.rb().constructor.ua.R0,
this,null)}G$(){this.g.nb(this.rb().constructor.ua.S0,this,null)}c6(g){if(this.Zd){var l=new f.Event("destroy");l.Aca=g;this.Zg(l)}if(this.sP("instancedestroy")){l=this.F();var n=new f.Event("instancedestroy");n.instance=this.ah();n.Aca=g;l.Zg(n);for(const p of l.th)p.Zg(n);this.g.Zg(n)}}vd(g="full"){const l={};"full"===g?l.uid=this.Qc:l.c3=!0;if("visual-state"!==g){var n=h.get(this);n&&n.size&&(l.ex=f.HE(n));-1!==this.Qd&&(l.mts=this.Qd);if(0<this.Ld.Oi.length){n={};var p=this.Ld.NY();for(let q=
0,u=this.$e.length;q<u;++q)n[p[q].toString()]=this.$e[q];l.ivs=n}if(this.Zc.length){n={};for(const q of this.Zc)(p=q.vd())&&(n[q.gg().eb.toString()]=p);l.behs=n}}this.Ma&&(l.w=this.Ma.ea(g));(g=this.ka.vd())&&(l.data=g);return l}Oy(g="full"){this.Ma&&this.Ma.Oy(g)}md(g,l="full"){if("full"===l)this.Qc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=h.get(this);n&&(n.clear(),h.delete(this));if(n=g.ex)n=f.LC(n),h.set(this,n);this.Qd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=
this.Ld.MY(parseInt(u,10)),!(0>n||n>=this.$e.length)){var p=w;null===p&&(p=NaN);this.$e[n]=p}}if(this.rb().ef){n=g.w;var q=n.l;this.Ma.da().eb!==q&&(p=this.Ma.da(),(q=p.Ub().wx(q))?(this.Ma.gu(q),p.uo(this,!0),q.tg(this,!0),q.rg(),this.Ma.Wa()):"full"===l&&this.g.Bn(this));this.Ma.ia(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [u,w]of Object.entries(l))l=this.hL(parseInt(u,10)),0>l||l>=this.Zc.length||this.Zc[l].md(w);(g=g.data)&&this.ka.md(g)}ah(){return this.Zd||this.yP()}yP(){var g=this.Ma?
self.Ox:c;const l=this.ka.Ul(),n=this.Ld.YR,p=n||l||g;c.ug(this);this.Zd=new p;c.ug(null);if(l&&!(this.Zd instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Zd instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.Zd}s6(g){if(0!==this.$e.length){var l={},n=this.Ld.m6();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:f.Instance.prototype.t6.bind(this,p),set:f.Instance.prototype.fm.bind(this,p)};l=Object.create(Object.prototype,l);g.pma={value:l,writable:!1}}}n6(g){var l=this.Zc;if(0!==l.length){var n={};for(const p of l)n[p.gg().Zh()]={value:p.Vp(),writable:!1};l=Object.create(Object.prototype,n);g.gw={value:l,writable:!1}}}Zg(g){g.instance=this.ah();var l=this.g;(l=l.zb&&!l.fa().it())&&a.CE();this.ah().dispatchEvent(g);l&&a.nC()}}}
{"use strict";const f=self.B;f.e2=class extends f.ca{constructor(a){super();this.dc=a;this.rc=null;this.uz=[];this.oB=a.Z();this.mB=a.X();this.MI=this.LI=1;this.RA=0}A(){this.rc=null;f.C(this.uz)}LN(a){this.RA=(this.rc=a)?a.Na():0}Ba(){return this.rc}Re(){return 0<this.uz.length}Le(){return this.uz}S2(a){this.LI=a}T2(a){this.MI=a}qj(){return this.dc.Ln()?this.rc.Z()/this.rc.Gb.oB:1}rj(){return this.dc.Kn()?this.rc.X()/this.rc.Gb.mB:1}ea(){return{sw:this.oB,sh:this.mB,sx:this.LI,sy:this.MI,psa:this.RA,
c:this.uz.map(a=>{let c="";a.Mn()&&(c+="x");a.Nn()&&(c+="y");a.Ln()&&(c+="w");a.Kn()&&(c+="h");a.Jx()&&(c+="a");a.Kx()&&(c+="z");a.ox()&&(c+="d");return{uid:a.wa().Qc,f:c}})}}ia(a){this.oB=a.sw;this.mB=a.sh;this.LI=a.sx;this.MI=a.sy;this.RA=a.psa}wF(a){const c=this.dc,e=c.G();for(const b of a.c){a=e.mj(b.uid).m();const h=b.f,m={};m.ys=h.includes("x");m.zs=h.includes("y");m.Ep=h.includes("w");m.Dp=h.includes("h");m.xs=h.includes("a");m.As=h.includes("z");m.iw=h.includes("d");c.Ol(a,m)}}}}
{"use strict";const f=self.B,a=f.j(f.Rect),c=f.j(f.nd),e=f.j(f.Event,"bboxchange",!1),b=f.j(f.Ya,0,0,0,0),h=f.j(f.zn),m=f.j(f.Ya,1,1,1,1),g=f.j(f.Rect,0,0,-1,-1),l=f.j(f.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;f.W3=class extends f.ca{constructor(r,v){super();this.ga=r;this.K=r.F();this.g=r.G();this.$j=v;this.lk=-1;this.ta=196635;this.K.rb().cq()&&(this.ta|=128);this.Ir=this.Hr=this.yG=this.BI=this.Ra=this.Kc=this.Gg=this.Tg=this.Sc=this.U=
this.ba=NaN;this.oG=f.j(f.Rect);this.pG=f.j(f.nd);this.vz=l;this.Ev=g;this.Vi=this.bs=this.jB=null;this.Fo=this.$a=m;this.Rf=this.tp=null;this.ga.F().fO()&&(this.Rf=f.j(f.E_,this.ga,this));this.Dh=this.Gb=null}sF(){this.ta|=256}A(){this.tp&&(this.g.cb().UM(this.tp),this.tp=null);this.jB=null;this.bs&&(this.bs.mU.A(),this.bs=null);this.Vi&&(this.Vi.clear(),this.Vi=null);this.hy();this.yj()&&this.Ba().Cj(this);if(this.Re()){const r=[...this.Le()];for(const v of r)this.Cj(v)}this.Ry();this.$j=this.g=
this.K=this.ga=null}Pn(r){q=!1;this.hm(r[0],r[1]);this.Ue(r[2]);this.ed(r[3],r[4]);this.Kc=0;this.cq()?this.wd(r[6]):this.Ra=0;b.Ll(r[7]);this.Ty(b);this.vq(r[8]);this.wq(r[9]);this.Hf(r[10]);this.Rf&&this.Rf.p7(r[12]);r[14]&&u.set(this,{Oba:r[14][1],Gda:r[14][2]});if(r[15]){var v=r[15];this.BC(v[0],v[1]);r=this.vj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Rp(z,y);J.ih(H[0]);J.ri(H[1]);J.Ue(H[2]);J.vE(H[3]);J.wE(H[4])}}}q=!0;this.Nq()}n_(){this.BI=
this.Ra=this.Kc=this.Gg=this.Tg=this.Sc=this.U=this.ba=0;this.yG=1;this.Ir=this.Hr=0;this.Nq()}G(){return this.g}F(){return this.K}wa(){return this.ga}Tt(){return this.Jx()?this.Ba().Na()-this.Gb.RA:0}ih(r){r=+r;if(this.Mn()){const v=this.Gb;r-=this.ya();const y=-this.Tt();0===y?this.ba+=r/v.qj():(this.ba+=Math.cos(y)*r/v.qj(),this.Nn()&&(this.U+=Math.sin(y)*r/v.rj()))}else this.ba=r}K0(r){r=+r;this.Mn()?this.ih(this.ya()+r):this.ba+=r}ya(){if(this.Mn()){let r=this.ba;const v=this.Gb,y=this.Ba(),
A=this.Tt();0===A?r*=v.qj():(r=r*v.qj()*Math.cos(A),this.Nn()&&(r-=this.U*v.rj()*Math.sin(A)));return y.ya()+r}return this.ba}ri(r){r=+r;if(this.Nn()){const v=this.Gb;r-=this.za();const y=-this.Tt();0===y?this.U+=r/v.rj():(this.Mn()&&(this.ba-=Math.sin(y)*r/v.qj()),this.U+=Math.cos(y)*r/v.rj())}else this.U=r}L0(r){r=+r;this.Nn()?this.ri(this.za()+r):this.U+=r}za(){if(this.Nn()){let r=this.U;const v=this.Gb,y=this.Ba(),A=this.Tt();0===A?r*=v.rj():(r=r*v.rj()*Math.cos(A),this.Mn()&&(r+=this.ba*v.qj()*
Math.sin(A)));return y.za()+r}return this.U}hm(r,v){r=+r;v=+v;if(this.NL()){const A=this.Mn(),G=this.Nn(),z=this.Gb,F=r-this.ya(),H=v-this.za();var y=-this.Tt();if(0===y)this.ba=A?this.ba+F/z.qj():r,this.U=G?this.U+H/z.rj():v;else{const J=Math.sin(y);y=Math.cos(y);this.ba=A?G?this.ba+(y*F-J*H)/z.qj():this.ba+y*F/z.qj():r;this.U=G?A?this.U+(J*F+y*H)/z.rj():this.U+y*H/z.rj():v}}else this.ba=r,this.U=v}by(r,v){r=+r;v=+v;this.NL()?this.hm(this.ya()+r,this.za()+v):(this.ba+=r,this.U+=v)}LX(r,v){return this.ya()===
r&&this.za()===v}Ue(r){r=+r;this.Kx()&&(r-=this.Ba().Za());this.Sc!==r&&(this.Sc=r,this.WQ(),r=this.da(),0!==this.Sc&&r.sQ(),r.rg())}WQ(){this.Nq();if(this.Re()){const r=this.Le();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.Kx()&&A.WQ()}}}M0(r){this.Ue(this.Za()+r)}Za(){return this.Kx()?this.Ba().Za()+this.Sc:this.Sc}dh(){return this.da().Za()+this.Za()}pi(r){r=+r;if(this.Ln()){const v=this.Z();this.Tg=0===v?1E-6:r/v*this.Tg}else this.Tg=r}AM(r){r=+r;this.Ln()?this.pi(this.Z()+r):this.Tg+=r}Z(){return this.Ln()?
this.Ba().Z()*this.Tg:this.Tg}ji(r){r=+r;if(this.Kn()){const v=this.X();this.Gg=0===v?1E-6:r/v*this.Gg}else this.Gg=r}zM(r){r=+r;this.Kn()?this.ji(this.X()+r):this.Gg+=r}X(){return this.Kn()?this.Ba().X()*this.Gg:this.Gg}ed(r,v){r=+r;v=+v;if(this.Ln()){const y=this.Z();this.Tg=0===y?1E-6:r/y*this.Tg}else this.Tg=r;this.Kn()?(r=this.X(),this.Gg=0===r?1E-6:v/r*this.Gg):this.Gg=v}iZ(){if(this.yj()){const r=this.Gb;return Math.min(r.qj(),r.rj())}return 1}cq(){return 0!==(this.ta&128)}wd(r){r=+r;this.cq()&&
(this.Jx()&&(r-=this.Ba().Na()),r=f.ie(r),this.Ra!==r&&(this.Ra=r,this.tF()))}G0(r){r=+r;0!==r&&this.cq()&&(this.Ra=f.ie(this.Ra+r),this.tF())}tF(){this.ta|=262144;if(this.Re()){const r=this.Le();for(let v=0,y=r.length;v<y;v++)r[v].tF()}}Na(){return this.Jx()?f.ie(this.Ba().Na()+this.Ra):this.Ra}OP(){const r=this.ta;if(0!==(r&262144)){var v=this.Na();this.BI=Math.sin(v);this.yG=Math.cos(v);this.ta=r&-262145}}hD(){this.OP();return this.BI}UC(){this.OP();return this.yG}vq(r){this.Hr=+r}I0(r){this.Hr+=
+r}Bk(){return this.Hr}wq(r){this.Ir=+r}J0(r){this.Ir+=+r}Ck(){return this.Ir}Ty(r){this.$a.bd(r)||(this.$a===m?(this.$a=f.j(f.Ya,r),this.Fo=f.j(f.Ya,r),this.Fo.YJ()):r.MB(1,1,1,1)?this.Fo=this.$a=m:(this.$a.set(r),this.Fo.set(r),this.Fo.YJ()),this.Nq())}ki(r){r=f.aa(+r,0,1);this.$a.Cp!==r&&(b.Zi(this.$a),b.Cp=r,this.Ty(b))}H0(r){this.ki(this.Dd()+r)}Dd(){return this.$a.Cp}RN(r){this.$a.Hl(r)||(b.Zi(r),b.Cp=this.$a.Cp,this.Ty(b))}f3(r,v,y){b.ws(r,v,y);this.RN(b)}fD(){return this.Fo}ox(){return 0!==
(this.ta&512)}r2(r){this.we(512,r)}Mn(){return 0!==(this.ta&1024)}Z2(r){this.we(1024,r)}Nn(){return 0!==(this.ta&2048)}NL(){return 0!==(this.ta&3072)}a3(r){this.we(2048,r)}Ln(){return 0!==(this.ta&4096)}Y2(r){this.we(4096,r)}Kn(){return 0!==(this.ta&8192)}X2(r){this.we(8192,r)}Jx(){return 0!==(this.ta&16384)}W2(r){this.we(16384,r)}Kx(){return 0!==(this.ta&32768)}b3(r){this.we(32768,r)}zO(){this.ta&=-65025}Ol(r,v){if(r!==this&&!r.yj()&&!this.uP(r)&&!this.tP(r)){var y=r.ya(),A=r.za(),G=r.Z(),z=r.X(),
F=r.Na(),H=r.Za();r.AQ(this);r.Z2(v.ys);r.a3(v.zs);r.Y2(v.Ep);r.X2(v.Dp);r.W2(v.xs);r.b3(v.As);r.r2(v.iw);v.ys&&(r.ba=y-this.ya(),v.Ep&&(r.ba/=this.Z()/this.Gb.oB));v.zs&&(r.U=A-this.za(),v.Dp&&(r.U/=this.X()/this.Gb.mB));v.Ep&&(r.Tg=G/this.Z(),r.Gb.S2(r.Tg));v.Dp&&(r.Gg=z/this.X(),r.Gb.T2(r.Gg));v.xs&&(r.Ra=F-this.Na());v.As&&(r.Sc=H-this.Za());this.e4(r);this.Wa()}}Cj(r){if(r.Ba()===this){var v=r.ya(),y=r.za(),A=r.Z(),G=r.X(),z=r.Na(),F=r.Za();r.AQ(null);r.zO();r.hm(v,y);r.ed(A,G);r.wd(z);r.Ue(F);
this.N8(r);this.Wa()}}W8(){for(var r of this.children())this.Cj(r);(r=this.Ba())&&r.Cj(this);this.zO()}yj(){return null!==this.Ba()}Ba(){const r=this.Gb;return null!==r?r.Ba():null}Ix(){let r=this;for(;r.yj();)r=r.Ba();return r}*yw(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}BZ(r){return this.Le().includes(r)}Re(){const r=this.Gb;return null!==r?r.Re():!1}Le(){const r=this.Gb;return null!==r?r.Le():p}children(){return this.Le()}*mk(){for(const r of this.children())yield r,yield*r.mk()}kx(){return this.Le().length}SC(r){const v=
this.Le();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}TE(r){this.Gb||(this.Gb=f.j(f.e2,this));r&&this.Gb.LN(r)}Ry(){this.Gb&&(this.Gb.A(),this.Gb=null)}AQ(r){r?(r.TE(null),this.TE(r)):(this.Gb&&this.Gb.LN(null),this.Re()||this.Ry())}tP(r){if(!this.yj())return!1;const v=this.Ba();return v===r?!0:v.tP(r)}uP(r){if(this.BZ(r))return!0;for(const v of this.Le())if(v.uP(r))return!0;return!1}e4(r){this.Gb.Le().push(r)}N8(r){const v=this.Gb.Le(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.yj()||
this.Ry();r.Re()||r.Ry()}DL(){const r=u.get(this);return r?r.Oba:null}jZ(){const r=u.get(this);return r?r.Gda:NaN}Tp(){const r=w.get(this);return f.Ef(r)?r:NaN}qE(r){w.set(this,r)}Nq(){if(q){var r=this.g.cb();this.tp&&r.UM(this.tp);this.tp=r.XU(0!==(this.ta&524288)?r.kB||"<point>":r.lB||"<default>",this.hj(),this.Fo,this.Za())}}Xp(){return this.$a===m}Hf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.hj()!==r&&(this.ta=this.ta&-2080374785|r<<26,this.Nq())}hj(){return(this.ta&
2080374784)>>26}gu(r){this.$j=r;0!==this.Za()&&this.$j.sQ()}da(){return this.$j}Ub(){return this.da().Ub()}Zy(r){this.lk=r|0}xj(){this.$j.lu();return this.lk}we(r,v){this.ta=v?this.ta|r:this.ta&~r}Fc(){return 0!==(this.ta&1)}hh(r){this.we(1,r)}bi(){return 0!==(this.ta&8)}xt(r){r=!!r;this.bi()!==r&&(this.we(8,r),r?this.Wa():this.cQ())}sE(r,v){this.we(32,r);this.Vi&&this.Vi.clear();if(v.trim()){this.Vi||(this.Vi=new Set);for(const y of v.split(" "))y&&this.Vi.add(y.toLowerCase())}else this.Vi=null}Wa(){this.ta|=
65554;this.K.rQ();this.g.Y();this.$j.po()&&(this.Ow(this.oG,this.pG,!0),this.ta&=-3,this.O$());0!==(this.ta&4)&&this.ga.jc().dispatchEvent(e);if(null!==this.Gb){const r=this.Gb.Le();for(let v=0,y=r.length;v<y;++v)r[v].Wa()}}Ow(r,v,y){const A=this.ya(),G=this.za(),z=this.Z(),F=this.X(),H=this.Na();r.Ug(A-this.Hr*z,G-this.Ir*F,z,F);y&&this.Df()&&this.U5(r);0===H?v.dj(r):(r.offset(-A,-G),v.yU(r,this.hD(),this.UC()),v.offset(A,G),v.CJ(r));r.normalize()}RQ(){const r=this.ta;0!==(r&2)&&(this.Ow(this.oG,
this.pG,!0),this.ta=r&-3)}Vc(){this.RQ();return this.oG}ij(){this.RQ();return this.pG}KM(r){var v=this.ya(),y=this.za();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;c.la(r);c.offset(v,y);return c}m2(r){this.we(4,r)}ZL(){return 0!==(this.ta&4)}gM(r,v,y){return v&&0!==this.Kc?this.$p(this.da().Hq()):0===this.Za()||y?r.TB(this.Vc()):this.f7()}f7(){const r=this.da(),v=this.dh();if(v>=r.Ms())return!1;r.PL(v,a);return a.TB(this.Vc())}$p(r){var v=this.Vc();const y=v.P,A=v.$,G=v.L;v=v.W;const z=
this.dh();return r.dW(y,G,z,A,v,z+this.Kc)}Uy(r){this.we(1048576,r)}Wy(r){this.we(2097152,r)}tE(r){this.jB=r;this.$E();this.Df()&&(this.Dh.NJ=null)}Mx(){return null!==this.jB||this.Df()}Dk(){return this.p6(this.Z(),this.X(),this.Na(),this.hD(),this.UC())}p6(r,v,y,A,G){let z=this.bs;null===z&&(this.bs=z={mU:f.j(f.zn),width:NaN,height:NaN,angle:NaN});const F=z.mU;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.jB;if(this.Df()){const J=this.Bk(),M=this.Ck(),Q=this.vj();let R=this.Dh.NJ;
R||(H?(h.la(H),h.offset(J,M)):h.gda(),R=Q.D_(h),this.Dh.NJ=R);Q.C3(R,F);F.offset(-J,-M);F.kK(r,v,A,G)}else H?(F.la(H),F.kK(r,v,A,G)):F.eK(this.ij(),-this.ya(),-this.za());z.width=r;z.height=v;z.angle=y;return F}$E(){this.N2();const r=this.bs;null!==r&&(r.width=NaN)}BC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.wa().rb().wba)throw Error("object does not support mesh");this.hy();this.Dh={gK:f.j(f.I.vM,r,v),JU:f.j(f.I.vM,r,v),NJ:null}}Df(){return null!==this.Dh}vj(){if(!this.Df())throw Error("no mesh");
return this.Dh.gK}OL(){if(!this.Df())throw Error("no mesh");return this.Dh.JU}nE(r){this.we(65536,r)}iM(){return 0!==(this.ta&65536)}N2(){this.we(131072,!0)}U5(r){const v=this.Dh.gK,y=Math.min(v.ZY(),0),A=Math.min(v.$Y(),0),G=Math.max(v.WY(),1),z=Math.max(v.XY(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Uca((G-1)*F);r.Tca((z-1)*H);this.Kc=v.YY()}hy(){this.Dh&&(this.Dh.gK.A(),this.Dh.JU.A(),this.Dh=null,this.$E())}HN(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";
if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Gw;let H="number"===typeof y.NU?y.NU:A?0:-1;y="number"===typeof y.QU?y.QU:A?0:-1;if(!this.Df())return!1;const J=this.vj(),M=J.Rp(r,v);if(null===M)return!1;let Q=!1;"number"===typeof F&&M.Za()!==F&&(M.Ue(F),Q=!0);A&&(G+=r/(J.Uj-1),z+=v/(J.hk-1));-1!==H||A?(A&&(H+=r/(J.Uj-1)),H=f.aa(H,0,1)):H=M.Qg;-1!==y||A?(A&&(y+=v/(J.hk-1)),y=f.aa(y,0,1)):y=M.Sg;if(M.ya()===G&&M.za()===z&&M.Qg===H&&M.Sg===y)return Q;M.ih(G);M.ri(z);
M.vE(H);M.wE(y);this.$E();return!0}Ek(){return this.ga.Ek()}EK(r,v){return this.Vc().rf(r,v)&&this.ij().rf(r,v)?this.Ek()?void 0:this.Mx()?this.Dk().rf(r-this.ya(),v-this.za()):!0:!1}d7(){return 0!==(this.ta&16)}SQ(){if(this.d7()&&this.bi()&&0===(this.ta&256)){var r=this.Vc(),v=this.K.wz,y=this.vz;a.set(v.si(r.P),v.vi(r.L),v.si(r.$),v.vi(r.W));y.bd(a)||(r=this.ga,y===l?(v.no(r,null,a),this.vz=f.j(f.Rect,a)):(v.no(r,y,a),y.la(a)),this.ta&=-17)}}cQ(){const r=this.vz;r!==l&&(this.K.wz.no(this.ga,r,null),
this.vz=l)}O$(){const r=this.da();if(r.po()&&0===(this.ta&256)){var v=r.Nr,y=this.Vc(),A=this.Ev;a.set(v.si(y.P),v.vi(y.L),v.si(y.$),v.vi(y.W));A.bd(a)||(y=this.ga,A===g?(v.no(y,null,a),this.Ev=f.j(f.Rect,a)):(v.no(y,A,a),A.la(a)),r.P2())}}dQ(){const r=this.Ev;r!==g&&(this.da().Nr.no(this.ga,r,null),this.Ev=g)}c4(){const r=this.ga,v=this.$j,y=v.D;y.length&&y.Sd(-1)===r||(v.uo(r,!1),v.tg(r,!1),this.g.Y())}a4(){const r=this.ga,v=this.$j,y=v.D;y.length&&y[0]===r||(v.uo(r,!1),v.v8(r),this.g.Y())}b4(r){const v=
this.ga,y=this.$j;if(y.Ub()!==r.Ub())throw Error("layer from different layout");r!==y&&(y.uo(v,!0),this.gu(r),r.tg(v,!0),this.g.Y())}Z3(r,v){const y=this.ga;let A=!1;const G=this.$j;if(r.Qc!==y.Qc){var z=r.m();if(!z)throw Error("expected world instance");z=z.da();G.Da()!==z.Da()&&(G.uo(y,!0),this.gu(z),z.tg(y,!0),A=!0);r=z.B0(y,r,!!v);(A||r)&&this.g.Y()}}a$(r){this.we(64,r)}dt(){return 0!==(this.ta&64)}ea(r){const v={x:this.ya(),y:this.za(),w:this.Z(),h:this.X(),l:this.da().eb,zi:this.xj()};0!==this.Za()&&
(v.ze=this.Za());0!==this.Na()&&(v.a=this.Na());this.Xp()||(v.c=this.$a.toJSON());.5!==this.Bk()&&(v.oX=this.Bk());.5!==this.Ck()&&(v.oY=this.Ck());0!==this.hj()&&(v.bm=this.hj());this.Fc()||(v.v=this.Fc());this.bi()||(v.ce=this.bi());this.ZL()&&(v.be=this.ZL());this.Rf&&(v.fx=this.Rf.ea());const y=0!==(this.ta&32);y&&(v.sfi=y);this.Vi&&(v.sft=[...this.Vi].join(" "));this.Gb&&"visual-state"!==r&&(v.sgi=this.Gb.ea());this.Df()&&(v.mesh=this.vj().vd());return v}Oy(r){"visual-state"!==r&&this.W8()}ia(r,
v){q=!1;this.ih(r.x);this.ri(r.y);this.pi(r.w);this.ji(r.h);this.Zy(r.zi);this.Ue(r.hasOwnProperty("ze")?r.ze:0);this.wd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?b.Ll(r.c):r.hasOwnProperty("o")?(b.Zi(this.$a),b.Cp=r.o):b.qn(1,1,1,1);this.Ty(b);this.vq(r.hasOwnProperty("oX")?r.oX:.5);this.wq(r.hasOwnProperty("oY")?r.oY:.5);this.Hf(r.hasOwnProperty("bm")?r.bm:0);this.hh(r.hasOwnProperty("v")?r.v:!0);this.xt(r.hasOwnProperty("ce")?r.ce:!0);this.m2(r.hasOwnProperty("be")?r.be:!1);this.sE(r.hasOwnProperty("sfi")?
r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Rf&&r.hasOwnProperty("fx")&&this.Rf.ia(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.TE(null);const y=this.Gb,A=r.sgi;y.ia(A);const G=this.G().jc(),z=()=>{G.removeEventListener("afterload",z);0===(this.ta&256)&&y.wF(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.BC(r.cols,r.rows),this.vj().md(r)):this.hy();this.Wa();q=!0;this.Nq()}}}
{"use strict";const f=self.B;f.qK=class extends f.ca{constructor(a,c){super();const e=a.G(),b=e.jp,h=e.bh(c[1]);b.AZ(h)||b.iW(c);this.g=e;this.K=a;this.Bi=b.eY(h);this.Dc=null;this.cA=h.Instance;this.eb=c[2];this.Ca=c[0];this.mv=this.g.Zh(c[3]);this.Dc=f.j(h.Kt,this);this.Wd()}static Ja(a,c){return f.j(f.qK,a,c)}A(){this.Bi=this.g=null;this.Dc.A();this.cA=this.Dc=null}Wd(){this.Dc.Wd()}G(){return this.g}F(){return this.K}Ql(){return this.Bi}ra(){return this.Ca}Zh(){return this.mv}}}
{"use strict";const f=self.B,a=self.OZ;f.Jw=class extends f.ca{constructor(c){super();this.g=c.uf;this.Ic=c.nJ;this.Bi=this.Ic.Ql();this.ga=c.instance;this.Ia=c.index;this.Zd=this.ka=null;this.Bi.tg(this.ga)}A(){this.Zd&&(this.Zd.eu(),this.Zd=null);this.Bi.uo(this.ga);this.ka.A();this.ga=this.Bi=this.Ic=this.g=this.Zd=this.ka=null}Ey(c){if(this.ka)throw Error("already got sdk instance");this.ka=f.j(this.Ic.cA,this,c);this.U6()}G(){return this.g}gg(){return this.Ic}Ql(){return this.Bi}ve(){return this.Ia}vd(){return this.ka.vd()}md(c){return this.ka.md(c)}static AE(c,
e){var b=c.ga,h=e.ga;const m=b.F().Da(),g=h.F().Da();if(m!==g)return m-g;b=b.OS;h=h.OS;return b!==h?b-h:c.mz.ve()-e.mz.ve()}U6(){const c=this.ka.Ul(),e=c||a;a.ug(this);this.Zd=new e;a.ug(null);if(c&&!(this.Zd instanceof a))throw new TypeError(`script interface class '${c.name}' does not extend the right base class '${a.name}'`);}Vp(){return this.Zd}}}
{"use strict";const f=self.B;f.sk=class extends f.ca{constructor(a,c){super();this.dc=a;this.vg=[];this.Mf=[];this.Fz=new Map;this.qh=[];this.Jr=!0;for(const e of c)a=f.j(f.XK,this,e,this.vg.length),this.vg.push(a),this.Fz.set(a.ra().toLowerCase(),a),3<=e.length&&this.qh.push(this.pF(e[2]));this.G().g4(this)}A(){f.C(this.vg);f.C(this.Mf);this.Fz.clear();f.C(this.qh);this.dc=null}n1(a){if(a.length){this.vg=a.concat(this.vg);for(const c of a)this.Fz.set(c.ra().toLowerCase(),c);for(let c=0,e=this.vg.length;c<
e;++c)this.vg[c].HF(c)}}pF(a){a=a.slice(0);for(let c=0,e=a.length;c<e;++c){const b=a[c];if(Array.isArray(b)){const h=f.j(f.Ya);h.Ll(b);a[c]=h}}return a}G(){return this.dc.G()}lh(){f.C(this.Mf);let a=!0;for(const c of this.vg)c.Db&&(this.Mf.push(c),c.Cf().Jr||(a=!1));this.Jr=a}fg(){return this.vg}vZ(){return 0<this.vg.length}xk(a){return this.Fz.get(a.toLowerCase())||null}mL(a){a=Math.floor(+a);if(0>a||a>=this.vg.length)throw new RangeError("invalid effect type index");return this.vg[a]}gt(a){return this.mL(a).Db}uN(a,
c){this.mL(a).ly(c)}dt(){return 0<this.Mf.length}wk(a){return this.qh[a]}static c2(a){return a&&a instanceof f.Ya?{t:"color",v:a.toJSON()}:a}static p0(a){if("object"===typeof a){if("color"===a.t){const c=f.j(f.Ya);c.Ll(a.v);return c}throw Error("invalid effect parameter type");}return a}static kN(a){return a.map(f.sk.c2)}static sM(a){return a.map(f.sk.p0)}vd(){return this.vg.map(a=>({name:a.ra(),active:a.Db,params:f.sk.kN(this.qh[a.Da()])}))}md(a){for(const c of a)if(a=this.xk(c.name))a.ly(c.active),
this.qh[a.Da()]=f.sk.sM(c.params);this.lh()}}}
{"use strict";const f=self.B;f.XK=class extends f.ca{constructor(a,c,e){super();this.Ha=a;this.zc=c[0];this.Ca=c[1];this.Ia=e;this.Pc=null;this.Db=!0}A(){this.Pc=this.Ha=null}WV(a){a=f.j(f.XK,a,[this.zc,this.Ca],-1);a.Pc=this.Pc;a.Db=this.Db;return a}wP(a){a=a.IL(this.zc);if(!a)throw Error("failed to find shader program '"+this.zc+"'");this.Pc=a}ra(){return this.Ca}HF(a){this.Ia=a}Da(){return this.Ia}G(){return this.Ha.G()}ly(a){this.Db=!!a}Cf(){return this.Pc}mY(){const a=[];for(let c=0,e=this.Pc.Bp.length;c<
e;++c){const b=this.Pc.Ax(c);if("float"===b||"percent"===b)a.push(0);else if("color"===b)a.push(f.j(f.Ya,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const f=self.B;f.E_=class extends f.ca{constructor(a,c){super();this.ga=a;this.zT=c;this.Ha=a.F().Ha;this.ew=this.gI=!0;this.yT=this.xT=this.vT=!1;this.ph=f.j(f.I.le,a.G().N.GG,{LB:(e,b)=>{b=b.tm;const h=b.m();e.dm(h.fD());e.yt(h.dh());b.eg(e);e.yt(0)},XT:e=>{const b=e.mx(),[h,m]=e.lx();return{FU:b,GU:h,EU:m}},QB:e=>this.wk(e)});this.wo=[];this.Mf=[];this.Jr=!0;this.qh=[];for(const e of this.Ha.fg())this.wo.push(!0);this.lh()}A(){this.ph.A();this.ph=null;f.C(this.wo);f.C(this.Mf);f.C(this.qh);
this.Ha=this.ga=null}p7(a){for(const c of a)this.qh.push(this.pF(c))}pF(a){a=a.slice(0);for(let c=0,e=a.length;c<e;++c){const b=a[c];if(Array.isArray(b)){const h=f.j(f.Ya);h.Ll(b);a[c]=h}}return a}m0(){for(const a of this.Ha.fg())this.qh.push(a.mY())}Wh(){this.$t();return this.ph}G(){return this.ga.G()}lh(){f.C(this.Mf);const a=this.zT,c=this.Ha.fg(),e=this.Mf,b=this.wo;let h=!0;for(let m=0,g=c.length;m<g;++m)if(b[m]){const l=c[m];e.push(l);l.Cf().Jr||(h=!1)}this.Jr=h;a.a$(!!e.length);this.gI=!0}$t(){const a=
this.ga;var c=this.zT;const e=c.Xp(),b=0<c.Kc;c=0!==c.Na()||0>c.Z()||0>c.X();const h=a.Tx();if(this.gI||e!==this.ew||b!==this.vT||c!==this.xT||h!==this.yT)this.ph.tC(this.Mf.map(m=>m.Cf()),{ls:this.Mf.map(m=>m.Da()),OB:!e||a.fq(),HJ:b,LJ:h,bU:c}),this.gI=!1,this.ew=e,this.vT=b,this.xT=c,this.yT=h}wk(a){return this.qh[a]}gt(a){return this.wo[a]}uN(a,c){this.wo[a]=!!c}fg(){return this.Ha.fg()}ea(){return this.Ha.fg().map(a=>({name:a.ra(),active:this.wo[a.Da()],params:f.sk.kN(this.qh[a.Da()])}))}ia(a){for(const c of a)if(a=
this.Ha.xk(c.name))this.wo[a.Da()]=c.active,this.qh[a.Da()]=f.sk.sM(c.params);this.lh()}}}
{"use strict";const f=self.B,a=[],c=f.j(f.zn),e=f.j(f.zn),b=f.j(f.nd);f.j(f.Rect);f.j(f.Rect);let h=null,m=null,g=null;f.XV=class extends f.ca{constructor(l){super();this.g=l;this.$A=[]}A(){this.g=null}pK(l,n,p){for(const [q,u]of this.$A){let w;if(l===q)w=u;else if(l===u)w=q;else continue;w.Ip(n)&&(p.includes(w)||p.push(w))}}zK(l,n){if(!this.$A.length)return!1;for(const [p,q]of this.$A)if(l===p&&n===q||l===q&&n===p)return!0;return!1}AK(){f.C(this.$A)}FE(l,n){if(!l||!n||l===n)return!1;l=l.m();n=n.m();
if(!l.bi()||!n.bi())return!1;const p=l.da(),q=n.da();return p.c0(q)?this.D$(l,n):this.C$(l,n)}D$(l,n){if(!l.Vc().TB(n.Vc())||!l.ij().FJ(n.ij())||l.Ek()&&n.Ek())return!1;if(l.Ek())return this.GE(l,n);if(n.Ek())return this.GE(n,l);if(!l.Mx()&&!n.Mx())return!0;const p=l.Dk(),q=n.Dk();return p.ow(q,n.ya()-l.ya(),n.za()-l.za())}C$(l,n){var p=l.Ek(),q=n.Ek();if(p&&!q)return this.XN(l,n);if(q&&!p)return this.XN(n,l);if(q||p)return!1;q=l.da();p=n.da();c.la(l.Dk());e.la(n.Dk());var u=c.Bd;for(let w=0,r=u.length;w<
r;w+=2){const v=w+1,y=u[v],[A,G]=q.Zn(u[w]+l.ya(),y+l.za());u[w]=A;u[v]=G}l=e.Bd;for(let w=0,r=l.length;w<r;w+=2){q=w+1;u=l[q];const [v,y]=p.Zn(l[w]+n.ya(),u+n.za());l[w]=v;l[q]=y}c.dK();e.dK();return c.ow(e,0,0)}XN(l,n){var p=l.da(),q=n.da();h||(h=f.j(f.zn));m||(m=f.j(f.Rect));g||(g=f.j(f.nd));var u=n.ya(),w=n.za();const [r,v]=q.Zn(u,w),[y,A]=p.wn(r,v);p=y-u;w=A-w;m.la(n.Vc());m.offset(p,w);if(!l.Vc().TB(m))return!1;g.la(n.ij());g.offset(p,w);if(!l.ij().FJ(g))return!1;h.la(n.Dk());q=h.Bd;for(let G=
0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.dK();return this.GE(l,n,y,A,h,m,g)}GE(l,n,p,q,u,w,r){w=void 0!==w?w:n.Vc();const v=l.ya(),y=l.za();var A=l.wa().ka;p=void 0!==p?p:n.ya();q=void 0!==q?q:n.za();l=n.Mx();r=void 0!==r?r:n.ij();A.Zea(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.dfa();if(w.xca(A,v,y)&&(b.dj(A),b.offset(v,y),b.FJ(r)))if(l){var z=void 0!==u?u:n.Dk();if(G=G.dZ()){if(G.ow(z,p-(v+A.P),q-(y+A.L)))return f.C(a),!0}else if(c.eK(b,0,0),c.ow(z,p,q))return f.C(a),!0}else if(z=
G.dZ()){if(c.eK(r,0,0),z.ow(c,-(v+A.P),-(y+A.L)))return f.C(a),!0}else return f.C(a),!0}f.C(a);return!1}TC(l,n,p,q){l=l?1!==l.hf||1!==l.jf:!1;if(n.Ua)for(const u of n.Lo)l||u.dG?f.hn(q,u.ma()):(u.PQ(),u.wz.fy(p,q));else l||n.dG?f.hn(q,n.ma()):(n.PQ(),n.wz.fy(p,q))}}}
{"use strict";const f=self.B;f.r3=class extends f.ca{constructor(a,c){super();this.sG=a;this.rG=c;this.Ei=f.j(f.nt)}A(){this.Ei.A();this.Ei=null}Rl(a,c,e){let b=this.Ei.V(a,c);return b?b:e?(b=f.j(f.rZ,this,a,c),this.Ei.Set(a,c,b),b):null}si(a){a=Math.floor(a/this.sG);return isFinite(a)?a:0}vi(a){a=Math.floor(a/this.rG);return isFinite(a)?a:0}no(a,c,e){if(c)for(let b=c.P,h=c.$;b<=h;++b)for(let m=c.L,g=c.W;m<=g;++m){if(e&&e.rf(b,m))continue;const l=this.Rl(b,m,!1);l&&(l.eh(a),l.Un()&&this.Ei.An(b,m))}if(e)for(let b=
e.P,h=e.$;b<=h;++b)for(let m=e.L,g=e.W;m<=g;++m)c&&c.rf(b,m)||this.Rl(b,m,!0).vD(a)}fy(a,c){let e=this.si(a.P);const b=this.vi(a.L),h=this.si(a.$);a=this.vi(a.W);if(isFinite(h)&&isFinite(a))for(;e<=h;++e)for(let m=b;m<=a;++m){const g=this.Rl(e,m,!1);g&&g.FC(c)}}}}{"use strict";const f=self.B;f.rZ=class extends f.ca{constructor(a,c,e){super();this.ba=c;this.U=e;this.D=f.j(f.pC)}A(){this.D.A();this.D=null}Un(){return this.D.Un()}vD(a){this.D.Uc(a)}eh(a){this.D.An(a)}FC(a){f.hn(a,this.D.NC())}}}
{"use strict";const f=self.B;f.Aha=class{constructor(){this.rect=new f.Rect;this.jw=0}Set(a,c,e,b){this.rect.set(a,c,e,b);this.rect.normalize();this.jw=0;return this}}}
{"use strict";const f=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),c=new Set(["high","low"]),e=self.bj.Jl,b=e.create(),h=f.j(f.nd),m=f.j(f.Rect);f.xK=class extends f.ca{constructor(g){super();this.g=g;this.Di=null;this.eS=!1;this.Yi=this.bb=null;this.ZG="high-performance";this.rm=this.qm=this.yg=this.zg=this.Jc=this.$c=this.cn=this.dn=0;this.js="normalized";this.wR=0;this.ir=!0;this.yc=this.Lc=this.jT=0;this.Aaa=this.yR="letterbox-scale";
this.zaa=this.yaa=0;this.Cz=e.create();this.vh=this.gJ="high";this.ur=!1;this.su=[];this.vB=new Set;this.cB=self.C3_Shaders;this.GG=f.j(f.I.IX,{VT:()=>[this.lj(),this.kj()],WT:()=>this.nY(),rU:l=>this.z1(l),getTime:()=>this.G().zk(),qU:()=>this.G().Y()});this.Pf=this.ym=0;this.qr=NaN;this.Uz=null;this.OH=new Map;this.Pu=NaN;this.EB=new Map;this.gB="";this.CI=1;this.XS=f.j(f.Rect);this.DI="";this.YS=this.Lv=null;this.rv=0;this.ee=-1;this.Fm=0;this.UH=l=>this.Fm=l.progress;this.kf=null;this.mf={ww:null,
zw:null,Fw:null};this.GI=this.dT=this.HI=0;this.Wi="fade-in";this.FI=null;this.cT=new Promise(l=>this.FI=l)}Y9(g){this.ZG=g}q$(g){this.eS=!!g}s$(g){this.js=g}S9(g){this.wR=g}async Yg(g){this.Di=g.canvas;this.g.rk("runtime","window-resize",p=>this.q8(p));this.g.rk("runtime","fullscreenchange",p=>this.d8(p));this.g.rk("runtime","fullscreenerror",p=>this.e8(p));this.Di.addEventListener("webglcontextlost",p=>this.cu(p));this.Di.addEventListener("webglcontextrestored",()=>this.xF());this.ur=!!g.isFullscreen;
var l=navigator.gpu&&this.eS;let n=!1;if(l)try{await this.AP(!0)}catch(p){this.Yi=null}if(!this.cb())try{await this.zP(!0)}catch(p){this.bb=null}this.cb()||(n=!0);if(!this.cb()&&l)try{await this.AP(!1)}catch(p){this.Yi=null}if(!this.cb())try{await this.zP(!1)}catch(p){this.bb=null}l=this.cb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.C2(n);"normalized"===this.js?l.j3():(l.k3(),l.lE(this.wR));this.ed(g.windowInnerWidth,g.windowInnerHeight,!0);this.Yi?
await this.X6():this.bb&&await this.W6();l.oE(this.ir);l.Ij()&&(this.qr=0);for(const p of this.g.XF){for(const q of p.fg())q.wP(l);p.lh()}}async AP(g){g={powerPreference:this.ZG,depth:this.g.Dl,failIfMajorPerformanceCaveat:g,jla:this.g.wB,rJ:this.g.dJ};this.Yi=f.j(f.I.Mka);await this.Yi.Ja(this.Di,g)}async zP(g){g={powerPreference:this.ZG,TT:!0,depth:this.g.Dl,rJ:this.g.dJ,failIfMajorPerformanceCaveat:g};"Android"===f.Xc.gq&&"Chromium"===f.Xc.Nw&&75>f.Xc.sC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
g.gU=1);"standard"===this.g.Xq?g.alpha=!0:(g.alpha=!1,g.MJ=!0);this.bb=f.j(f.I.U3,this.Di,g);await this.bb.Rx()}async X6(){if(this.cB){const g=[];for(const [l,n]of Object.entries(this.cB))n.src=n.voa,g.push(this.Yi.CC(n,f.I.Nka.nx(),l));await Promise.all(g)}}async W6(){if(this.cB){const g=[];for(const [l,n]of Object.entries(this.cB))n.src=n.ima,g.push(this.bb.CC(n,f.I.Nt.nx(),l));await Promise.all(g);this.bb.Q1();this.bb.Hj()}this.bb.Ij()&&(this.Uz=f.j(f.I.jO,this.bb))}A(){this.Di=this.bb=this.g=
null}q8(g){const l=this.g;if(!l.Wl()){var n=g.devicePixelRatio;l.dl&&(self.devicePixelRatio=n);l.O9(n);this.ur=!!g.isFullscreen;this.ed(g.innerWidth,g.innerHeight);l.Y();l.zb&&(l.et()||self.Wg.Bfa())&&l.fo()}}d8(g){this.ur=!!g.isFullscreen;this.ed(g.innerWidth,g.innerHeight,!0);this.g.Y()}e8(g){this.ur=!!g.isFullscreen;this.ed(g.innerWidth,g.innerHeight,!0);this.g.Y()}ed(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.dn!==g||this.cn!==l||n){this.dn=g;this.cn=
l;n=this.Os();"letterbox-scale"===n?this.w4(g,l):"letterbox-integer-scale"===n?this.v4(g,l):"off"===n?this.t4(g,l):this.u4(g,l);this.N$(n);this.Di.width=this.zg;this.Di.height=this.yg;this.g.iq("canvas","update-size",{marginLeft:this.qm,marginTop:this.rm,styleWidth:this.$c,styleHeight:this.Jc});g=this.cb();g.ed(this.zg,this.yg,!0);for(var p of this.su)g.BW(p);f.C(this.su);g.vn(this.Cz,this.lj()/this.kj());p=this.g.ab;p.oq();p.nq()}}w4(g,l){const n=this.g.vk(),p=this.g.Lg,q=this.g.Kg,u=p/q;g/l>u?(this.$c=
Math.round(l*u),this.Jc=l,this.qm=Math.floor((g-this.$c)/2),this.rm=0):(this.$c=g,this.Jc=Math.round(g/u),this.qm=0,this.rm=Math.floor((l-this.Jc)/2));this.zg=Math.round(this.$c*n);this.yg=Math.round(this.Jc*n);this.g.It(p,q)}v4(g,l){const n=this.g.vk();1!==n&&(g+=1,l+=1);const p=this.g.Lg,q=this.g.Kg;var u=p/q;u=g/l>u?l*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.zg=Math.round(p*u);this.yg=Math.round(q*u);this.$c=this.zg/n;this.Jc=this.yg/n;this.qm=Math.max(Math.floor((g-this.$c)/
2),0);this.rm=Math.max(Math.floor((l-this.Jc)/2),0);this.g.It(p,q)}u4(g,l){const n=this.g.vk();this.$c=g;this.Jc=l;this.zg=Math.round(this.$c*n);this.yg=Math.round(this.Jc*n);this.rm=this.qm=0;g=this.jj();this.g.It(this.$c/g,this.Jc/g)}t4(g,l){const n=this.g.vk();this.$c=this.g.$f;this.Jc=this.g.Ie;this.zg=Math.round(this.$c*n);this.yg=Math.round(this.Jc*n);this.ur?(this.qm=Math.floor((g-this.$c)/2),this.rm=Math.floor((l-this.Jc)/2)):this.rm=this.qm=0;this.g.It(this.g.$f,this.g.Ie)}N$(g){if("high"===
this.gJ)this.Lc=this.zg,this.yc=this.yg,this.vh="high";else{let n;if("off"===this.Os()){var l=this.g.$f;n=this.g.Ie}else l=this.g.Lg,n=this.g.Kg;this.zg<l||this.yg<n?(this.Lc=this.zg,this.yc=this.yg,this.vh="high"):(this.Lc=l,this.yc=n,this.vh="low","scale-inner"===g?(g=l/n,l=this.dn/this.cn,l<g?this.Lc=this.yc*l:l>g&&(this.yc=this.Lc/l)):"scale-outer"===g&&(g=l/n,l=this.dn/this.cn,l>g?this.Lc=this.yc*l:l<g&&(this.yc=this.Lc/l)))}}G(){return this.g}wN(g){if(!a.has(g))throw Error("invalid fullscreen mode");
this.yR=g;g=this.g.ab;g.oq();g.nq()}tx(){return this.yR}Os(){return this.ur?this.Aaa:this.tx()}xN(g){if(!c.has(g))throw Error("invalid fullscreen scaling quality");this.gJ=g;this.g.ab.oq()}static k6(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}lj(){return this.Lc}kj(){return this.yc}oE(g){this.ir=!!g}n$(g){this.jT=g}W_(){return this.cb().Sn()}cu(g){console.log("[Construct 3] WebGL context lost");
g.preventDefault();this.su=[];this.vB.clear();this.bb.Hk();this.g.cu()}async xF(){await this.bb.QD();await this.Wka();for(const g of this.g.XF)for(const l of g.fg())l.wP(this.bb);await this.g.xF();console.log("[Construct 3] WebGL context restored")}On(){return this.bb}ct(){return this.Yi}cb(){return this.Yi||this.bb}Sp(){return"low"===this.vh?1/this.g.vk():this.jj()}jj(){const g=this.Os();if("off"===g||"crop"===g)return 1;const l=this.g.Lg,n=this.g.Kg,p=l/n,q=this.zg/this.yg;return"scale-inner"!==
g&&q>p||"scale-inner"===g&&q<p?this.Jc/n:this.$c/l}Rs(){return"low"===this.vh?1:this.jj()}Qs(){return"low"===this.vh?1:this.g.vk()}s2(g,l,n){l=l||this.Lc;n=n||this.yc;const p=l/2+this.yaa,q=n/2+this.zaa;{let u=this.Cz;if(l!==this.Lc||n!==this.yc)g.vn(b,l/n),u=b;g.io(u)}l=g.Cs(p,q,g.yf(n),p,q,n);g.uq(l)}p2(g){var l=this.Jc;const n=this.$c/2,p=l/2;g.io(this.Cz);l=g.Cs(n,p,g.yf(l),n,p,l);g.uq(l)}QC(){return this.qm}RC(){return this.rm}Js(g){g.depth=this.g.Dl;const l=this.su,n=l.findIndex(q=>q.M_(g));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.cb().pW(g);this.vB.add(p);return p}bo(g){if(!this.vB.has(g))throw Error("render target not in use");this.vB.delete(g);this.su.push(g)}nY(){const g={cj:this.g.gd};"low"===this.vh&&(g.width=this.lj(),g.height=this.kj());return this.Js(g)}z1(g){this.bo(g)}*GB(){for(const g of this.g.ab.Cw())for(const l of g.Rb){const n=this.OH.get(l);n&&(yield n)}}xL(g){if(!this.cb().Ij())return null;let l=this.OH.get(g);l||(l={name:g.ra(),hK:f.j(f.I.jO,this.bb),IB:0,eU:0},
this.OH.set(g,l));return l.hK}K$(){const g=this.cb();if(g.Ij()&&0===this.Pf){this.Pf=g.uh;this.Pu=NaN;for(const l of this.GB())l.IB=NaN}}Q$(){this.bb&&this.bb.Ij()&&this.R$();this.Yi&&this.Yi.Ij()&&this.S$()}R$(){if(isNaN(this.Pu)&&(this.Pu=this.Uz.tL(this.ym,this.Pf),!isNaN(this.Pu))){if(this.g.zb)for(const g of this.GB())if(g.IB=g.hK.tL(this.ym,this.Pf),isNaN(g.IB))return;this.Uz.RK(this.Pf);this.qr=Math.min(this.Pu,1);if(this.g.zb){for(const g of this.GB())g.hK.RK(this.Pf),g.eU=Math.min(g.IB,1);
self.Wg.K3(this.qr,[...this.GB()])}this.ym=this.Pf;this.Pf=0}}S$(){if(0!==this.Pf){for(var g=this.ym;g<this.Pf;++g){var l=this.EB.get(g);if(l&&!l.Nx())return}l=this.g.Mb();g=f.u0(l.Rb.length+1);for(var n=this.ym;n<this.Pf;++n){var p=this.EB.get(n);if(p){p=p.Fx();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.qr=f.aa(g[0],0,1);if(this.g.zb){n=[];l=l.Rb;for(let q=0,u=Math.min(l.length,g.length-1);q<u;++q)n.push({name:l[q].ra(),
eU:f.aa(g[q+1],0,1)});self.Wg.K3(this.qr,n)}for(g=this.ym;g<this.Pf;++g)this.EB.delete(g);this.ym=this.Pf;this.Pf=0}}p4(g){this.EB.set(this.Yi.uh,g)}vx(){return this.qr}UN(g,l,n,p,q,u){this.gB=g;this.CI=l;this.XS.Ug(n,p,q,u);return this.Lv?this.Lv:this.Lv=new Promise(w=>{this.YS=w})}L7(){if(this.gB){var g=this.Di,l=this.XS,n=f.aa(Math.floor(l.P),0,g.width),p=f.aa(Math.floor(l.L),0,g.height),q=l.width();q=0===q?g.width-n:f.aa(Math.floor(q),0,g.width-n);l=l.height();l=0===l?g.height-p:f.aa(Math.floor(l),
0,g.height-p);(0!==n||0!==p||q!==g.width||l!==g.height)&&0<q&&0<l&&(g=f.Yg(q,l),g.getContext("2d").drawImage(this.Di,n,p,q,l,0,0,q,l));f.Pw(g,this.gB,this.CI).then(u=>{this.DI=URL.createObjectURL(u);this.Lv=null;this.YS(this.DI)});this.gB="";this.CI=1}}m_(g){this.bb&&(2===g?(this.kf=f.j(f.I.VD,this.cb()),this.kf.CN(),this.kf.jE("Arial"),this.kf.kE(16),this.kf.zN("center"),this.kf.TN("center"),this.kf.ed(300,200)):0===g?(g=this.g.Dr)&&g.jt(this.bb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===g&&(this.B7().then(l=>{"done"===this.Wi?this.bb.fj(l):this.mf.ww=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.FP("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Wi?this.bb.fj(l):this.mf.zw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.FP("splash-images/splash-website-512.png").then(l=>{"done"===this.Wi?this.bb.fj(l):this.mf.Fw=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async B7(){var g=(new URL("splash-images/splash-logo.svg",
this.g.PC())).toString();g=await f.uk(g);g=await this.g.w1(g);return await this.bb.DC(g,{xw:"high"})}async FP(g){g=(new URL(g,this.g.PC())).toString();g=await f.uk(g);return await this.bb.DC(g,{xw:"high"})}qD(){this.g.iq("runtime","hide-cordova-splash")}s3(){this.rv=Date.now();this.g.jc().addEventListener("loadingprogress",this.UH);this.ee=requestAnimationFrame(()=>this.QO());3!==this.g.Cr&&this.qD()}async KX(){if(this.bb){this.Fm=1;var g=this.g.Cr;4===g&&await this.cT;this.cT=this.FI=null;-1!==this.ee&&
(cancelAnimationFrame(this.ee),this.ee=-1);this.g.jc().removeEventListener("loadingprogress",this.UH);this.UH=null;this.kf&&(this.kf.A(),this.kf=null);this.g.A1();this.bb.Jt();this.mf.ww&&(this.bb.fj(this.mf.ww),this.mf.ww=null);this.mf.zw&&(this.bb.fj(this.mf.zw),this.mf.zw=null);this.mf.Fw&&(this.bb.fj(this.mf.Fw),this.mf.Fw=null);this.bb.yn();this.bb.Np();this.Wi="done";this.ym=this.bb.uh;3===g&&this.qD()}}QO(){if(-1!==this.ee){var g=this.bb;if(g){g.Jt();this.ee=-1;var l=this.g.pd.bH,n=this.g.Cr;
3!==n&&(this.p2(g),g.yn(),g.ut(),g.Hj(),g.If(null));if(0===n)this.M5(l);else if(1===n)this.Hy(l,120,0);else if(2===n)this.L5(l);else if(3!==n)if(4===n)this.N5(l);else throw Error("invalid loader style");g.Np();this.ee=requestAnimationFrame(()=>this.QO())}}}L5(g){g?this.kf.qN(1,0,0):this.kf.qN(.6,.6,.6);this.kf.Aq(Math.round(100*this.Fm)+"%");g=this.$c/2;const l=this.Jc/2;h.AU(g-150,l-100,g+150,l+100);this.bb.If(this.kf.Gd());this.bb.kq(h,this.kf.ai())}Hy(g,l,n){const p=this.bb;p.pN();g?p.Te(1,0,0,
1):p.Te(.118,.565,1,1);g=this.$c/2;const q=this.Jc/2,u=l/2;m.Ug(g-u,q-4+n,Math.floor(l*this.Fm),8);p.Rect(m);m.Ug(g-u,q-4+n,l,8);m.offset(-.5,-.5);m.SB(.5,.5);p.Te(0,0,0,1);p.oM(m);m.SB(1,1);p.Te(1,1,1,1);p.oM(m)}M5(g){var l=this.g.Dr;if(l)if(l=l.Gd()){var n=l.Z(),p=l.X(),q=this.$c/2,u=this.Jc/2,w=n/2;p/=2;h.AU(q-w,u-p,q+w,u+p);this.bb.If(l);this.bb.nd(h);this.Hy(g,n,p+16)}else this.Hy(g,120,0);else this.Hy(g,120,0)}N5(g){const l=this.bb,n=this.mf.ww,p=this.mf.zw,q=this.mf.Fw,u=Date.now();0===this.HI&&
(this.rv=u);const w=this.g.bq()||this.g.Paa&&!this.g.N_(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Wi?y=Math.min((u-this.rv)/300,1):"fade-out"===this.Wi&&(y=Math.max(1-(u-this.GI)/300,0));l.pN();l.Te(.231*y,.251*y,.271*y,y);m.set(0,0,this.$c,this.Jc);l.Rect(m);const A=Math.ceil(this.$c),G=Math.ceil(this.Jc);let z;256<this.Jc?(l.Te(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Ug(0,.8*G-z/2,A,z),l.Rect(m),g?l.Te(y,0,0,y):l.Te(.161*y,.953*y,.816*y,y),g=A*this.Fm,m.Ug(.5*A-g/2,.8*G-z/2,g,z),l.Rect(m),
l.Te(y,y,y,y),l.Hj(),p&&(g=1.5*f.aa(.22*G,105,.6*A),z=g/8,m.Ug(.5*A-g/2,.2*G-z/2,g,z),l.If(p),l.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.Ug(.5*A-g/2,.485*G-z/2,g,z),l.If(n),l.Rect(m)),q&&(g=1.5*f.aa(.22*G,105,.6*A),z=g/8,m.Ug(.5*A-g/2,.868*G-z/2,g,z),l.If(q),l.Rect(m))):(l.Te(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Ug(0,.85*G-z/2,A,z),l.Rect(m),g?l.Te(y,0,0,y):l.Te(.161*y,.953*y,.816*y,y),g=A*this.Fm,m.Ug(.5*A-g/2,.85*G-z/2,g,z),l.Rect(m),l.Te(y,y,y,y),l.Hj(),n&&(z=g=.55*G,m.Ug(.5*A-g/2,.45*
G-z/2,g,z),l.If(n),l.Rect(m)));this.HI++;"fade-in"===this.Wi&&300<=u-this.rv&&2<=this.HI&&(this.Wi="wait",this.dT=u);"wait"===this.Wi&&u-this.dT>=v&&1<=this.Fm&&(this.Wi="fade-out",this.GI=u);("fade-out"===this.Wi&&u-this.GI>=300+r||w&&1<=this.Fm&&500>u-this.rv)&&this.FI()}}}
{"use strict";const f=self.B,a=self.Wg,c={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;f.iN=class extends f.ca{constructor(b){b=Object.assign({},c,b);super();this.vv=b.messagePort;this.faa=b.baseUrl;this.dl=!!b.isInWorker;e=b.ife;this.xm=b.exportType;this.fS=!!b.isiOSCordova;this.Paa=!!b.isFBInstantAvailable;this.jba=b.opusWasmScriptUrl;this.HS=b.opusWasmBinaryUrl;this.$d=this.maa=this.zb=!("preview"!==this.xm||!b.isDebug);this.BG=
0;this.UF=[];this.Z$=[];this.pI=this.NS=this.XA="";this.Kg=this.Lg=0;this.um=self.devicePixelRatio;this.Cr=this.Ie=this.$f=this.QA=this.PA=0;this.zB=!1;this.Wj=!0;this.dJ=this.wB=!1;this.Dr=null;this.pd=f.j(f.wV,this,b);this.ab=f.j(f.i0,this);this.qa=f.j(f.PX,this);this.jp=f.j(f.g1,this);this.Co=f.j(f.XV,this);this.Bb=f.j(f.A3,this);this.RI=f.j(f.D3,this);this.Hc=[];this.hI=new Map;this.iI=new Map;this.tR=0;this.aaa=[];this.XF=[];this.Fu=[];this.cl=[];this.eA=new Map;this.Wz=!1;this.yv=this.jI=0;
this.So=new Map;this.To=new Set;this.fA=new Set;this.OA=[];this.hS=[];this.N=null;this.Dl=!1;this.Sz="vsync";this.Xq="standard";this.gd="trilinear";this.fl=!1;this.eI=!0;this.CH=this.KS=!1;this.wm=null;this.xba={jU:h=>{this.ul=this.ee=-1;this.We(h)},rda:h=>{this.ul=-1;this.We(h,!1,"skip-render")},bda:()=>{this.ee=-1;this.fo()}};this.ul=this.ee=-1;this.kr=this.ek=0;this.NR=this.nA=this.Xz=!1;this.yH=!0;this.Tr=0;this.oba=()=>Math.random();this.Ku=this.hr=this.DA=this.nB=0;this.Qd=1;this.CS=30;this.XG=
f.j(f.Xx);this.YG=f.j(f.Xx);this.fJ=f.j(f.Xx);this.Rz=-1;this.JA=this.jl=this.Qz=this.No=0;this.xh=!1;this.qv=this.Fv="";this.Br=null;this.bp="";this.yI=this.oI=null;this.Ob=f.j(f.Event.jc);this.FG=new Map;this.lI=new Map;this.fba=0;this.dS=!1;this.eJ=[];this.Ko={pretick:f.j(f.Event,"pretick",!1),tick:f.j(f.Event,"tick",!1),tick2:f.j(f.Event,"tick2",!1),instancedestroy:f.j(f.Event,"instancedestroy",!1),beforelayoutchange:f.j(f.Event,"beforelayoutchange",!1),layoutchange:f.j(f.Event,"layoutchange",
!1)};this.Ko.instancedestroy.instance=null;this.Rd=f.j(f.Event.jc);this.rT=null;this.pm=f.j(f.ao,f.Jw.AE);this.Ao=f.j(f.ao,f.Jw.AE);this.Bo=f.j(f.ao,f.Jw.AE);this.kv=f.j(f.e0,this,b.jobScheduler);b.canvas&&(this.N=f.j(f.xK,this));this.vv.onmessage=h=>this._OnMessageFromDOM(h.data);this.rk("runtime","visibilitychange",h=>this.n8(h));this.rk("runtime","opus-decode",h=>this.V$(h.arrayBuffer));this.rk("runtime","get-remote-preview-status-info",()=>this.B6());this.rk("runtime","js-invoke-function",h=>
this.Ny(h));this.rk("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Ob.addEventListener("window-blur",h=>this.o8(h));this.Ob.addEventListener("window-focus",()=>this.p8());this.Bb.jV();this.Ni=null;this.Laa=new WeakMap;this.vG={keyboard:null,hU:null,HU:null}}static Ja(b){return f.j(f.iN,b)}A(){f.C(this.Hc);this.hI.clear();this.iI.clear();this.ab.A();this.ab=null;this.qa.A();this.qa=null;this.jp.A();this.jp=null;this.pd.A();this.pd=null;this.Co.A();this.Co=null;this.Bb.A();this.Bb=
null;this.RI.A();this.RI=null;this.N&&(this.N.A(),this.N=null);this.Ob.A();this.Ob=null}["_OnMessageFromDOM"](b){const h=b.type;if("event"===h)this.RP(b);else if("result"===h)this.j8(b);else throw Error(`unknown message '${h}'`);}RP(b){if(this.dS){var h=b.component,m=b.handler,g=b.data,l=b.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=b.responseId;if("runtime"===h&&(n&&(b=new f.Event(m),b.data=g,this.Ob.bca(b)),l)){b=new f.Event(m,!0);for(const [q,u]of Object.entries(g))b[q]=
u;this.Zg(b)}if(b=this.FG.get(h))if(b=b.get(m)){n=null;try{n=b(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.Qy(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.Qy(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.Qy(p,!1,""+q)}):this.Qy(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.eJ.push(b)}Qy(b,
h,m){this.vv.postMessage({type:"result",responseId:b,isOk:h,result:m})}j8(b){const h=b.responseId,m=b.isOk;b=b.result;const g=this.lI.get(h);m?g.resolve(b):g.reject(b);this.lI.delete(h)}rk(b,h,m){let g=this.FG.get(b);g||(g=new Map,this.FG.set(b,g));if(g.has(h))throw Error(`[Runtime] Component '${b}' already has handler '${h}'`);g.set(h,m)}iq(b,h,m){this.vv.postMessage({type:"event",component:b,handler:h,data:m,responseId:null})}jq(b,h,m){const g=this.fba++,l=new Promise((n,p)=>{this.lI.set(g,{resolve:n,
reject:p})});this.vv.postMessage({type:"event",component:b,handler:h,data:m,responseId:g});return l}async Pn(b){this.zb?await a.Pn(this):self.Wg&&self.Wg.rfa(this);var [h]=await Promise.all([this.pd.bL("data.json"),this.K7(),this.kv.Pn()]);this.n7(h);await this.Y6(b);this.bq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.On()?(h=this.On(),console.info(`[C3 runtime] Hosted in ${this.dl?"worker":"DOM"}, rendering with WebGL ${h.Rc} [${h.$v}] (${h.P_()?
"desynchronized":"standard"} compositing)`)):this.ct()&&console.info(`[C3 runtime] Hosted in ${this.dl?"worker":"DOM"}, rendering with experimental WebGPU`);this.cb().cH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.dS=!0;for(const m of this.eJ)this.RP(m);f.C(this.eJ);this.N&&this.N.s3();for(const m of b.runOnStartupFunctions)this.UF.push(this.f9(m));await Promise.all([this.pd.hO(),
...this.UF]);f.C(this.UF);if(this.pd.bH)this.N&&this.N.qD();else return this.N&&await this.N.KX(),await this.Ob.xJ(new f.Event("beforeruntimestart")),await this.Jt(),this.vv.postMessage({type:"runtime-ready"}),this}async f9(b){try{await b(this.Ni)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}n7(b){b=b.project;this.XA=b[0];this.NS=b[16];this.pI=b[31];const h=b[39]||"loading-logo.png";this.fl=!!b[9];this.Lg=this.$f=b[10];this.Kg=this.Ie=b[11];this.PA=this.Lg/2;this.QA=
this.Kg/2;this.Xq=b[36];this.Sz=b[37];"low-latency"===this.Xq&&this.H_()&&77>=f.Xc.sC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Xq="standard");this.Dl=!!b[40];this.gd=b[14];this.wB=b[15];this.dJ=b[17];this.zB=!!b[18];this.Cr=b[19];this.yv=b[21];this.KS=b[22];const m=this.pd;m.I9(b[7]);m.X9(b[32]);m.c$(b[28]);m.p$(b[29]);if(0===this.Cr){let u=
"";this.bq()?m.lF(h)&&(u=m.yL(h)):u=m.OR+h;u&&(this.Dr=m.ay({url:u}))}this.N&&(this.N.wN(f.xK.k6(b[12])),this.N.xN(b[23]?"high":"low"),this.N.oE(0!==b[24]),this.N.Y9(b[34]),this.N.n$(b[41]),this.N.q$(b[13]),this.N.s$(b[30]),this.N.S9(b[26]));this.jp.qW();this.OA=self.tK();for(var g of b[2])this.jp.oW(g);this.OA=self.tK();this.u7();for(var l of b[3])g=f.ND.Ja(this,this.Hc.length,l),this.Hc.push(g),this.hI.set(g.ra().toLowerCase(),g),this.iI.set(g.eb,g);for(const u of b[4])this.Hc[u[0]].q7(u);for(var n of b[27])l=
n.map(u=>this.Hc[u]),this.aaa.push(f.j(f.cW,this,l));for(const u of this.Hc)u.U7();for(const u of b[5])this.ab.Ja(u);(n=b[1])&&(n=this.ab.Qp(n))&&this.ab.x2(n);for(var p of b[33])this.Bb.Ja(p);for(var q of b[35])this.RI.Ja(q);this.V6();for(const u of b[6])this.qa.Ja(u);this.qa.Kb();this.R6();f.C(this.OA);this.ud();p="any";q=b[20];1===q?p="portrait":2===q&&(p="landscape");this.iq("runtime","set-target-orientation",{targetOrientation:p});if(b=b[42])this.wm=new self.cea(this,b),this.Sz="unlimited-frame",
this.N.wN("off"),this.um=1,self.devicePixelRatio=1,this.iq("runtime","set-exporting-to-video",{message:this.wm.afa(0)})}Wl(){return null!==this.wm}tY(){return this.wm.cfa()}Q6(){return this.wm.Pn({width:this.N.zg,height:this.N.yg})}V5(){return this.wm.Kda(this.N.Di,this.zk())}W5(){this.wm.Np()}w6(){return this.tR++}g4(b){this.XF.push(b)}async Y6(b){this.N&&(await this.N.Yg(b),this.N.m_(this.Cr))}async K7(){if(!this.pd.I_()){var b=null;try{b=this.fS&&this.pd.cv?await this.pd.JK(this.HS):await this.pd.Fs(this.HS)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",
h);return}b?this.dV(b):this.cV();await this.eV([this.jba])}}async V$(b){return await this.lC("OpusDecode",{arrayBuffer:b},[b])}async Jt(){this.Xz=!0;this.nB=Date.now();if(this.zB){for(var b of this.Hc)b.Ua||b.BH||!b.ef||b.Wd();this.pd.hO().then(()=>{this.Wj=!1;this.UP()})}else this.Wj=!1;this.pd.D2();this.zb&&a.zia(e);for(const h of this.ab.Ai)h.M4();this.Wl()&&await this.Q6();b=this.ab.BY();await b.oF(null,this.cb());await b.KQ(!0);this.No=performance.now();this.zB||this.UP();(await this.jq("runtime",
"before-start-ticking")).isSuspended&&!this.Wl()?this.Tr++:this.We()}UP(){this.nb(f.H.Xa.ua.Y0,null,null);this.iq("runtime","register-sw")}bh(b){b=Math.floor(b);const h=this.OA;if(0>b||b>=h.length)throw Error("invalid object reference");return h[b]}u7(){for(const b of self.GV){const h=f.first(Object.keys(b));this.hS.push(h)}}Zh(b){b=Math.floor(b);const h=this.hS;if(0>b||b>=h.length)throw Error("invalid prop reference");return h[b]}PC(){return this.faa}fa(){return this.qa}Wc(){return this.qa.Wc()}Me(){return this.qa.Me()}Ib(){return this.qa.Ib()}xf(){return this.qa.xf()}O_(){return 0===
this.Me().Vk}Ns(){return this.qa.Ns()}Ys(){return this.jp.Ys()}Pe(b){b=Math.floor(b);if(0>b||b>=this.Hc.length)throw new RangeError("invalid index");return this.Hc[b]}yx(b){return this.hI.get(b.toLowerCase())||null}zx(b){return this.iI.get(b)||null}*Dba(){for(const b of this.Hc)b.Ua||(yield*b.ZT())}jc(){return this.Ob}Zg(b){b.uf=this.Ni;const h=this.zb&&!this.qa.it();h&&a.CE();this.Rd.dispatchEvent(b);h&&a.nC()}Cn(b){b.uf=this.Ni;return this.Rd.xJ(b)}L2(b,h){if(this.Lg!==b||this.Kg!==h)this.Lg=b,
this.Kg=h,b=this.ab,b.oq(),b.nq()}It(b,h){if(this.$f!==b||this.Ie!==h)this.$f=b,this.Ie=h,b=this.ab,b.oq(),b.nq()}O9(b){this.Wl()||(this.um=b)}vk(){return this.um}lj(){return this.N?this.N.lj():this.$f}kj(){return this.N?this.N.kj():this.Ie}Sp(){return this.N?this.N.Sp():1}jj(){return this.N?this.N.jj():1}Rs(){return this.N?this.N.Rs():1}Qs(){return this.N?this.N.Qs():1}QC(){return this.N?this.N.QC():0}RC(){return this.N?this.N.RC():0}tx(){return this.N?this.N.tx():"off"}Js(b){return this.N?this.N.Js(b):
null}bo(b){this.N&&this.N.bo(b)}vx(){return this.N?this.N.vx():NaN}FD(){return"nearest"!==this.gd}A1(){this.Dr&&(this.Dr.A(),this.Dr=null)}Mb(){return this.ab.Mb()}ay(b){return this.pd.ay(b)}AC(b,h,m,g,l){return this.Vh(b,h,!1,m,g,!1,l,void 0,l)}Vh(b,h,m,g,l,n,p,q,u){var w=null;let r=null;b instanceof f.ND?(r=b,r.Ua&&(w=r.Lo,r=w[Math.floor(this.lq()*w.length)]),w=r.cr):(w=b,r=this.Pe(w[1]));b=r.rb().ef;if(this.Wj&&b&&!r.BH)return null;const v=h;b||(h=null);var y=m&&!n&&w&&!this.So.has(w[2])?w[2]:
this.yv++;const A=w?w[0]:null,G=f.j(f.Instance,{uf:this,RJ:r,fU:h,RU:A,YT:w?w[3]:null,uid:y});this.So.set(y,G);y=null;b&&(y=G.m(),"undefined"!==typeof g&&"undefined"!==typeof l&&(y.ih(g),y.ri(l)),r.rQ());h&&(u||h.tg(G,!0),1===h.hf&&1===h.jf||r.EF(!0),h.Ub().uM(r));this.jI++;let z=!0;q&&(q=q.F(),q.Qb()&&r.Qb()&&r.Ag===q.Ag&&(z=!1));if(r.Qb()&&!m&&!n&&z){for(var F of r.Ag.ql)F!==r&&(q=this.Vh(F,v,!1,y?y.ya():g,y?y.za():l,!0,!1,void 0,u),G.Dq(q));for(var H of G.rd){H.Dq(G);for(const J of G.rd)H!==J&&
H.Dq(J)}}b&&!m&&p&&this.RE(G,A,y,h,g,l,u);if(r.Qb()&&!m&&!n&&p)for(const J of G.rd)if(m=J.m())F=J.rb(),H=J.F().cr[0],F.ef?this.RE(J,H,m,h,m.ya(),m.za(),u):this.RE(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===typeof g&&(g=A[0]),"undefined"===typeof l&&(l=A[1]),h=y.Ix(),g=g-y.ya()+h.ya(),l=l-y.za()+h.za(),h.hm(g,l));r.fu();l=w?f.tJ(w[5]):null;w=w?w[4].map(J=>f.tJ(J)):null;b&&A&&A[13]&&G.b$();G.Ey(l,w);this.cl.push(G);this.Wz=!0;this.zb&&a.sfa(G);return G}RE(b,h,m,g,l,n,p){var q=m.jZ(),u=m.DL();b.m().qE(q);
if(u){"undefined"===typeof l&&(l=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.ab.dD(A[0]).da(w).JY(r);w=this.Pe(r[1]);var y=b.GZ(w);const z=q.has(w);y&&!z&&v?(v=b.JL(w),y=l+r[0][0]-m,r=n+r[0][1]-h,v.m().hm(y,r),v.m().qE(G),b.Ol(v,{ys:!!(u>>0&1),zs:!!(u>>1&1),Ep:!!(u>>2&1),Dp:!!(u>>3&1),xs:!!(u>>4&1),iw:!!(u>>5&1),As:!!(u>>6&1)}),q.add(w)):(w=this.Vh(r,g,!1,l+r[0][0]-m,n+r[0][1]-h,!1,!0,b,p),w.m().qE(G),b.Ol(w,
{ys:!!(u>>0&1),zs:!!(u>>1&1),Ep:!!(u>>2&1),Dp:!!(u>>3&1),xs:!!(u>>4&1),iw:!!(u>>5&1),As:!!(u>>6&1)}))}}}Bn(b){if(!this.To.has(b)){var h=b.F(),m=this.eA.get(h);if(m){if(m.has(b))return;m.add(b)}else m=new Set,m.add(b),this.eA.set(h,m);this.zb&&a.tfa(b);b.sF();this.Wz=!0;if(b.Qb())for(const g of b.rd)this.Bn(g);for(const g of b.children())g.ox()&&this.Bn(g);this.ab.dM()||this.xh||(h=this.fa(),h.je(!0),b.G$(),h.je(!1));b.c6(this.ab.dM())}}ud(){this.Wz&&(this.e6(),this.f6(),this.Wz=!1,this.Y())}e6(){for(const b of this.cl){const h=
b.F();h.tg(b);for(const m of h.th)m.tg(b),m.fu()}f.C(this.cl)}f6(){this.Ob.rq(!0);for(const [b,h]of this.eA.entries())this.g6(b,h),h.clear();this.eA.clear();this.Ob.rq(!1)}g6(b,h){for(const g of h){var m=this.Ko.instancedestroy;m.instance=g;this.Ob.dispatchEvent(m);this.So.delete(g.Qc);if(m=g.m())m.cQ(),m.dQ(),m.sF();this.To.add(g);this.jI--}f.ag(b.ma(),h);b.fu();this.fA.add(b);0===b.ma().length&&b.EF(!1);for(const g of b.th)f.ag(g.ma(),h),g.fu(),this.fA.add(g);if(b.rb().ef){b=new Set([...h].map(g=>
g.m().da()));for(const g of b)g.J8(h)}}*EJ(b){for(const h of this.cl)b.Ua?h.F().rC(b)&&(yield h):h.F()===b&&(yield h)}v6(){return this.yv++}H7(b,h){this.So.set(b,h)}cu(){this.Ob.dispatchEvent(f.j(f.Event,"webglcontextlost"));this.Ht(!0);for(var b of this.Hc)!b.Ua&&b.EZ()&&b.co();(b=this.Mb())&&b.cu();f.Qx.hq();f.WL.hq()}async xF(){await this.Mb().oF(null,this.On());this.Ob.dispatchEvent(f.j(f.Event,"webglcontextrestored"));this.Ht(!1);this.Y()}n8(b){this.Ht(b.hidden)}o8(b){this.bq()&&this.KS&&!f.Xc.ID&&
!b.data.parentHasFocus&&(this.Ht(!0),this.CH=!0)}p8(){this.CH&&(this.Ht(!1),this.CH=!1)}eQ(){const b=this.xba;"vsync"===this.Sz?-1===this.ee&&(this.ee=self.requestAnimationFrame(b.jU)):"unlimited-tick"===this.Sz?(-1===this.ul&&(this.ul=f.XD(b.rda)),-1===this.ee&&(this.ee=self.requestAnimationFrame(b.bda))):-1===this.ul&&(this.ul=f.XD(b.jU))}A4(){-1!==this.ee&&(self.cancelAnimationFrame(this.ee),this.ee=-1);-1!==this.ul&&(f.NV(this.ul),this.ul=-1)}Xn(){return 0<this.Tr}Ht(b){if(!this.Wl()){var h=this.Xn();
this.Tr+=b?1:-1;0>this.Tr&&(this.Tr=0);b=this.Xn();!h&&b?(console.log("[Construct 3] Suspending"),this.A4(),this.Ob.dispatchEvent(f.j(f.Event,"suspend")),this.nb(f.H.Xa.ua.b1,null,null)):h&&!b&&(console.log("[Construct 3] Resuming"),this.No=this.DA=h=performance.now(),this.jl=this.JA=this.Qz=this.Rz=0,this.Ob.dispatchEvent(f.j(f.Event,"resume")),this.nb(f.H.Xa.ua.Z0,null,null),this.et()||this.We(h))}}d4(b){this.pm.Uc(b)}L8(b){this.pm.eh(b)}K8(b){this.Ao.eh(b)}M8(b){this.Bo.eh(b)}r4(){this.pm.gh(!0);
for(const b of this.pm)b.We();this.pm.gh(!1)}q4(){this.Ao.gh(!0);for(const b of this.Ao);this.Ao.gh(!1)}s4(){this.Bo.gh(!0);for(const b of this.Bo);this.Bo.gh(!1)}*W4(){this.pm.gh(!0);for(const b of this.pm){const h=b.We();f.Zl(h)&&(yield*h)}this.pm.gh(!1)}*V4(){this.Ao.gh(!0);for(const b of this.Ao)f.Zl(void 0)&&(yield*void 0);this.Ao.gh(!1)}*X4(){this.Bo.gh(!0);for(const b of this.Bo)f.Zl(void 0)&&(yield*void 0);this.Bo.gh(!1)}async We(b,h,m){this.NR=!0;const g="background-wake"===m;m="background-wake"!==
m&&"skip-render"!==m;if(this.Xz&&(!this.Xn()||h||g)){h=performance.now();this.nA=!0;this.N7(b||0);b=this.u3();this.$d&&await b;b=this.Ob.cca(this.Ko.pretick);b instanceof Promise&&await b;b=this.t3();this.$d&&await b;this.S7()&&await this.J6();this.ab.aq()&&await this.J7();b=this.v3();this.$d&&await b;m&&this.fo();if(this.Wl()&&(await this.V5(),this.zk()>=this.wm.Ez)){this.W5();return}this.Xn()||g||this.eQ();this.ek++;this.kr++;this.nA=!1;this.jl+=performance.now()-h}}async u3(){const b=this.qa,h=
this.zb;this.ud();b.je(!0);this.pt(this.Mb());h&&a.Cq();this.$d?await b.wW():b.Z1();h&&a.bV();this.ot();b.je(!1);this.ud();b.je(!0)}async t3(){const b=this.zb,h=this.$d,m=this.Ob,g=this.Ko,l=this.rT;b&&a.Cq();h?await this.Zw(this.W4()):this.r4();h?await this.Zw(this.V4()):this.q4();b&&a.YU();b&&a.Cq();h?await this.PK(g.tick):m.dispatchEvent(g.tick);b&&a.gV();this.qa.je(!1);this.Zg(l.tick)}async v3(){const b=this.qa,h=this.Ob,m=this.Ko,g=this.zb,l=this.$d;g&&a.Cq();l?await b.uW(this.ab):b.X1(this.ab);
g&&a.bV();this.Co.AK();this.aQ();this.yH=!1;b.je(!0);g&&a.Cq();l?await this.Zw(this.X4()):this.s4();g&&a.YU();g&&a.Cq();l?await this.PK(m.tick2):h.dispatchEvent(m.tick2);g&&a.gV();b.je(!1);l&&await b.hN()}aQ(){if(0!==this.To.size){var b=this.Ob;b.rq(!0);for(const h of this.fA)h.Om.eo(this.To);this.fA.clear();this.qa.D1(this.To);for(const h of this.To)h.A();this.To.clear();b.rq(!1)}}async J7(){const b=this.ab;let h=0;for(;b.aq()&&10>h++;)await this.KO(b.Bv)}N7(b){let h=0;this.Wl()?this.hr=h=1/this.tY():
0!==this.DA&&(h=Math.max(b-this.DA,0)/1E3,.5<h&&(h=0),this.hr=Math.min(h,1/this.CS));this.DA=b;this.Ku=this.hr*this.Qd;this.XG.Uc(this.Ku);this.YG.Uc(h*this.Qd);this.fJ.Uc(this.hr);this.N&&this.N.Q$();1E3<=b-this.No&&(this.No+=1E3,1E3<=b-this.No&&(this.No=b),this.Qz=this.Rz,this.Rz=0,this.JA=Math.min(this.jl/1E3,1),this.jl=0,this.N&&this.N.K$(),this.zb&&a.Cka());this.Rz++}async KO(b){const h=this.Ob,m=this.ab.Mb();await m.B$();m.J$(b,this.cb());m===b&&this.qa.Rw();this.Co.AK();this.aQ();h.dispatchEvent(this.Ko.beforelayoutchange);
f.tn.yN(!0);await b.oF(m,this.cb());f.tn.yN(!1);await b.KQ(!1);h.dispatchEvent(this.Ko.layoutchange);this.Y();this.yH=!0;this.ud()}Y(){this.eI=!0}On(){return this.N?this.N.On():null}ct(){return this.N?this.N.ct():null}cb(){return this.N?this.N.cb():null}fo(){const b=this.N;if(b&&!b.W_()){var h=this.cb(),m=h.Ij(),g=m&&h.fi();m=m&&!1;g&&h.PV();if(this.eI||this.Wl()){var l=this.ab.Mb();h.Jt();var n=this.zb;n&&a.Cq();this.eI=!1;var p=null;g&&(p=b.Uz.oC(),h.DE(p));g=null;m&&(g=h.Wja(2*(1+l.Rb.length)),
h.X3(0));this.Dl&&"low"===b.vh?h.y2(b.lj(),b.kj()):h.j2();this.T8(this.cb(),l);p&&h.HC(p);m&&(h.X3(1),this.N.p4(g));h.Np();n&&(a.Jda(),a.Dka());b&&b.L7()}else h.a_()}}T8(b,h){b.Hj();b.nN();b.Te(1,1,1,1);b.qg(null);b.If(null);b.pg(this.Dl);h.eg(b)}nb(b,h,m){if(!this.Xz)return!1;var g=!this.nA&&!this.qa.ED();let l=0;g&&(l=performance.now());const n=this.zb;n&&this.oy(!1);b=this.qa.ku(this.ab,b,h,m);g&&(g=performance.now()-l,this.jl+=g,n&&a.Nda(g));n&&this.oy(!0);return b}async Xd(b,h,m){if(!this.$d)return this.nb(b,
h,m);if(!this.Xz)return!1;if(this.et())return this.qa.v1(b,h,m);if(!this.Mb())return this.qa.TD(b,h,m);const g=performance.now();b=this.qa.Qt(this.ab,b,h,m);for(h=b.next();!h.done;)await this.Kp(h.value),h=b.next();this.Xn()||this.qa.ED()||(await this.qa.hN(),this.NR&&!this.nA&&this.eQ());this.jl+=performance.now()-g;return h.value}pt(b){this.Fu.push(b)}ot(){if(!this.Fu.length)throw Error("layout stack empty");this.Fu.pop()}Qa(){return this.Fu.length?this.Fu.Sd(-1):this.Mb()}VC(b){return b&&-1!==
b.Qd?this.hr*b.Qd:this.Ku}uE(b){if(isNaN(b)||0>b)b=0;this.Qd=b}IN(b){this.CS=f.aa(b,1,120)}zk(){return this.XG.V()}FY(){return this.YG.V()}lD(){return this.fJ.V()}Fk(){++this.kr}mj(b){if(this.xh)throw Error("cannot call while loading state - wait until afterload event");return this.So.get(b)||null}ZP(){this.So.clear();for(const b of this.Hc)if(!b.Ua)for(const h of b.ma())this.So.set(h.Qc,h)}bq(){return"preview"===this.xm}N_(){return"cordova"===this.xm}H_(){return"Android"===f.Xc.gq&&("cordova"===
this.xm||"playable-ad"===this.xm||"instant-games"===this.xm)}yf(){return this.cb().yf(this.Ie)}O2(b){b=!!b;this.fl!==b&&(this.fl=b,this.ab.nq(),this.Y())}d2(b){this.Fv=b}o0(b){this.qv=b}MD(b){this.Br=b}S7(){return!(!this.Fv&&!this.qv&&null===this.Br)}async J6(){this.Fv&&(this.ud(),await this.z5(this.Fv),this.PE());this.qv&&(await this.y5(this.qv),this.PE(),this.zb&&a.Yja());if(null!==this.Br){this.ud();try{await this.LO(this.Br),this.bp=this.Br,await this.Xd(f.H.Xa.ua.CM,null),this.bp=""}catch(b){console.error("[Construct 3] Failed to load state from JSON string: ",
b),await this.Xd(f.H.Xa.ua.DM,null)}this.PE()}}PE(){this.qv=this.Fv="";this.Br=null}A6(){this.oI||(this.oI=localforage.uJ({name:"c3-localstorage-"+this.pI,description:this.XA}));return this.oI}lP(){this.yI||(this.yI=localforage.uJ({name:"c3-savegames-"+this.pI,description:this.XA}));return this.yI}async z5(b){const h=await this.z9();try{await this.lP().setItem(b,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.bp=h,await this.Xd(f.H.Xa.ua.$0,null),this.bp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",
m),await this.Xd(f.H.Xa.ua.a1,null)}}async y5(b){try{const h=await this.lP().getItem(b);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+h.length+" chars)");await this.LO(h);this.bp=h;await this.Xd(f.H.Xa.ua.CM,null);this.bp=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.Xd(f.H.Xa.ua.DM,null)}}async z9(){const b={c3save:!0,version:1,rt:{time:this.zk(),timeRaw:this.FY(),walltime:this.lD(),timescale:this.Qd,tickcount:this.ek,
execcount:this.kr,next_uid:this.yv,running_layout:this.Mb().eb,start_time_offset:Date.now()-this.nB},types:{},layouts:{},events:this.qa.ea(),timelines:this.Bb.ea(),user_script_data:null};for(var h of this.Hc)h.Ua||h.SL()||(b.types[h.eb.toString()]=h.ea());for(const m of this.ab.Ai)b.layouts[m.eb.toString()]=m.ea();h=this.UE("save");h.saveData=null;await this.Cn(h);b.user_script_data=h.saveData;return JSON.stringify(b)}async LO(b){var h=this.ab;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");this.Ob.dispatchEvent(f.j(f.Event,"beforeload"));for(var m of this.Dba())m.Oy();this.xh=!0;m=b.rt;this.XG.Set(m.time);m.hasOwnProperty("timeRaw")&&this.YG.Set(m.timeRaw);this.fJ.Set(m.walltime);this.Qd=m.timescale;this.ek=m.tickcount;this.kr=m.execcount;this.nB=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Mb().eb)if(g=h.dD(g))await this.KO(g);else return;for(const [l,
n]of Object.entries(b.types))g=this.zx(parseInt(l,10)),!g||g.Ua||g.SL()||g.ia(n);this.ud();this.ZP();this.xh=!1;this.yv=m.next_uid;for(const [l,n]of Object.entries(b.layouts))(m=h.dD(parseInt(l,10)))&&m.ia(n);this.qa.ia(b.events);for(const l of this.Hc)if(!l.Ua&&l.Qb())for(const n of l.ma()){m=n.Fn();for(const p of l.Ag.ql)if(p!==l){g=p.ma();if(0>m||m>=g.length)throw Error("missing sibling instance");n.Dq(g[m])}}this.Bb.ia(b.timelines);h.oq();h.nq();this.Ob.dispatchEvent(f.j(f.Event,"afterload"));
h=this.UE("load");h.saveData=b.user_script_data;await this.Cn(h);this.Y()}async eV(b){b=(await Promise.all(b.map(h=>this.pd.uk(h)))).map(h=>URL.createObjectURL(h));this.kv.$Z(b)}cV(){this.kv.f2()}dV(b){this.kv.g2(b)}lC(b,h,m){return this.kv.lC(b,h,m)}async w1(b){var h=h||2048;var m=m||2048;return this.dl?(await this.jq("runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,
h,m)}lq(){return this.oba()}B6(){const b=this.On();return{fps:this.Qz,cpu:this.JA,gpu:this.vx(),layout:this.Mb()?this.Mb().ra():"",renderer:b?b.$v:"<unavailable>"}}et(){return this.zb?a.et():!1}Kp(b){return this.$d?a.Kp(b):Promise.resolve()}ic(){return this.$d?a.aea():!1}oy(b){b?this.BG--:this.BG++;this.M$()}M$(){this.$d=this.zb&&this.maa&&0===this.BG}xD(){return this.zb&&a.xD()}BD(){return this.zb&&this.cb().Ij()&&a.BD()}async Zw(b){if(b)for(const h of b)await this.Kp(h)}PK(b){return this.Zw(this.Ob.dca(b))}Ny(b){return this.qa.Ny(b.name,
b.params)}UE(b){b=f.j(f.Event,b,!1);b.uf=this.Ni;return b}V6(){var b={};for(const h of this.Hc)b[h.Zh()]={value:h.Wu,enumerable:!0,writable:!1};b=Object.create(Object.prototype,b);this.Ni=new self.TZ(this,b);this.rT={tick:this.UE("tick")}}R6(){const b={};for(const h of this.fa().YF)b[h.Zh()]=h.mP();this.Ni.S6(b)}GP(b,h){this.Laa.set(b,h)}};self.C3_CreateRuntime=f.iN.Ja;self.C3_InitRuntime=(b,h)=>b.Pn(h)}
{"use strict";const f=self.B;f.e0=class extends f.ca{constructor(a,c){super();this.g=a;this.Yo=new Map;this.hba=0;this.Zu=c.inputPort;c.outputPort.onmessage=e=>this.TP(e);this.vS=c.maxNumWorkers;this.lv=1;this.GR=this.bv=!1}async Pn(){}$Z(a){this.Zu.postMessage({type:"_import_scripts",scripts:a})}f2(){this.Zu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}g2(a){this.Zu.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}lC(a,c,e){e||(e=[]);const b=this.hba++;
a={type:a,isBroadcast:!1,jobId:b,params:c,transferables:e};c=new Promise((h,m)=>{this.Yo.set(b,{resolve:h,progress:void 0,reject:m,sJ:!1})});this.Zu.postMessage(a,e);this.HP();return c}TP(a){a=a.data;const c=a.type,e=a.jobId;switch(c){case "result":this.h8(e,a.result);break;case "progress":this.g8(e,a.progress);break;case "error":this.f8(e,a.error);break;case "ready":this.i8();break;default:throw Error(`unknown message from worker '${c}'`);}}h8(a,c){const e=this.Yo.get(a);if(!e)throw Error("invalid job ID");
e.sJ||e.resolve(c);this.Yo.delete(a)}g8(a,c){a=this.Yo.get(a);if(!a)throw Error("invalid job ID");!a.sJ&&a.progress&&a.progress(c)}f8(a,c){const e=this.Yo.get(a);if(!e)throw Error("invalid job ID");e.sJ||e.reject(c);this.Yo.delete(a)}i8(){this.bv&&(this.bv=!1,this.lv++,this.lv<this.vS?this.HP():this.Zu.postMessage({type:"_no_more_workers"}))}async HP(){if(!(this.lv>=this.vS||this.bv||this.GR||this.Yo.size<=this.lv))try{this.bv=!0,(await this.g.jq("runtime","create-job-worker")).outputPort.onmessage=
a=>this.TP(a)}catch(a){this.GR=!0,this.bv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.lv} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const f=self.B;let a=null,c="",e="",b=[],h="",m="",g="";const l=f.j(f.tV);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}f.H.Xa=class extends f.jy{constructor(p){super(p);this.gf=this.g.fa().gf;this.zd=this.g.fa().Wc();this.Xu=this.Qo=0;this.AR=new Map}A(){super.A()}Y(){this.g.Y()}nb(p){this.g.nb(p,null,null)}Ex(p,q){a&&p===c&&q===e||(a=new RegExp(p,q),c=p,e=q);a.lastIndex=0;return a}CL(p,q,u){if(p===h&&q===m&&
u===g)return b;const w=this.Ex(q,u);b=p.match(w);h=p;m=q;g=u;return b}async qF(p,q){if(q.length){this.Qo+=q.length;var u=[];for(const w of q)u.push(p.uM(w));await f.p1(u,()=>{this.Xu++});this.Xu++;this.Xu===this.Qo&&(this.g.nb(f.H.Xa.ua.W0,null,null),this.Qo=this.Xu=0)}}NQ(p,q){for(const u of q)0===u.D.length&&p.z0(u)}eP(){return l}V8(p){var q=this.g.fa();const u=q.Wc(),w=u.Ne(),r=w.Ib(),v=r.kd();var y=w.zj();const A=u.Ka(r),G=q.gf,z=G.Ka();if(y)for(y=0;y<p&&!z.nc;++y)q.re(v),z.vc(y),r.ng(w,A),q.Jb(v);
else for(q=0;q<p&&!z.nc;++q)z.vc(q),r.ng(w,A);u.Ga();G.Ga();return!1}*d5(p){var q=this.g.fa();const u=q.Wc(),w=u.Ne(),r=w.Ib(),v=r.kd();var y=w.zj();const A=u.Ka(r),G=q.gf,z=G.Ka();if(y)for(y=0;y<p&&!z.nc;++y)q.re(v),z.vc(y),yield*r.dg(w,A),q.Jb(v);else for(q=0;q<p&&!z.nc;++q)z.vc(q),yield*r.dg(w,A);u.Ga();G.Ga();return!1}W$(){var p=this.g.fa();const q=p.Wc(),u=q.Ne(),w=u.Ib(),r=w.kd();var v=u.zj();const y=q.Ka(w),A=p.gf,G=A.Ka();if(v)for(v=0;!G.nc;++v)p.re(r),G.vc(v),w.ng(u,y)||G.Ve(),p.Jb(r);else for(p=
0;!G.nc;++p)G.vc(p),w.ng(u,y)||G.Ve();q.Ga();A.Ga();return!1}*w5(){var p=this.g.fa();const q=p.Wc(),u=q.Ne(),w=u.Ib(),r=w.kd();var v=u.zj();const y=q.Ka(w),A=p.gf,G=A.Ka();if(v)for(v=0;!G.nc;++v)p.re(r),G.vc(v),(yield*w.dg(u,y))||G.Ve(),p.Jb(r);else for(p=0;!G.nc;++p)G.vc(p),(yield*w.dg(u,y))||G.Ve();q.Ga();A.Ga();return!1}h6(p,q,u){var w=this.g.fa();const r=w.Wc(),v=r.Ne(),y=v.Ib(),A=y.kd(),G=v.zj(),z=r.Ka(y),F=w.gf,H=F.Ka();H.uy(p);if(u<q)if(G)for(p=q;p>=u&&!H.nc;--p)w.re(A),H.vc(p),y.ng(v,z),w.Jb(A);
else for(w=q;w>=u&&!H.nc;--w)H.vc(w),y.ng(v,z);else if(G)for(p=q;p<=u&&!H.nc;++p)w.re(A),H.vc(p),y.ng(v,z),w.Jb(A);else for(w=q;w<=u&&!H.nc;++w)H.vc(w),y.ng(v,z);r.Ga();F.Ga();return!1}*a5(p,q,u){var w=this.g.fa();const r=w.Wc(),v=r.Ne(),y=v.Ib(),A=y.kd(),G=v.zj(),z=r.Ka(y),F=w.gf,H=F.Ka();H.uy(p);if(u<q)if(G)for(p=q;p>=u&&!H.nc;--p)w.re(A),H.vc(p),yield*y.dg(v,z),w.Jb(A);else for(w=q;w>=u&&!H.nc;--w)H.vc(w),yield*y.dg(v,z);else if(G)for(p=q;p<=u&&!H.nc;++p)w.re(A),H.vc(p),yield*y.dg(v,z),w.Jb(A);
else for(w=q;w<=u&&!H.nc;++w)H.vc(w),yield*y.dg(v,z);r.Ga();F.Ga();return!1}i6(p){var q=this.g.fa();const u=q.Wc(),w=u.Ne(),r=w.Ib(),v=r.kd();var y=w.zj();const A=u.Ka(r),G=q.gf,z=G.Ka(),F=p.Qb(),H=p.S(),J=l.Ka();f.Ec(J,H.ma());if(y)for(let M=0,Q=J.length;M<Q&&!z.nc;++M)q.re(v),y=J[M],p.S().Gj(y),F&&y.oi(),z.vc(M),r.ng(w,A),q.Jb(v);else{H.xe(!1);p=H.D;f.C(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.nc;++M)q=J[M],p[0]=q,F&&q.oi(),z.vc(M),r.ng(w,A)}u.Ga();G.Ga();f.C(J);l.Ga();return!1}*b5(p){var q=
this.g.fa();const u=q.Wc(),w=u.Ne(),r=w.Ib(),v=r.kd();var y=w.zj();const A=u.Ka(r),G=q.gf,z=G.Ka(),F=p.Qb(),H=p.S(),J=l.Ka();f.Ec(J,H.ma());if(y)for(let M=0,Q=J.length;M<Q&&!z.nc;++M)q.re(v),y=J[M],p.S().Gj(y),F&&y.oi(),z.vc(M),yield*r.dg(w,A),q.Jb(v);else{H.xe(!1);p=H.D;f.C(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.nc;++M)q=J[M],p[0]=q,F&&q.oi(),z.vc(M),yield*r.dg(w,A)}u.Ga();G.Ga();f.C(J);l.Ga();return!1}j6(p,q){var u=this.g.fa();const w=u.Wc(),r=u.xf(),v=w.Ne(),y=v.Ib(),A=y.kd(),G=v.zj(),
z=w.Ka(y),F=u.gf,H=F.Ka(),J=p.Qb(),M=p.S(),Q=l.Ka();f.C(Q);const R=M.ma();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.tt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.nc;++T)u.re(A),q=Q[T][0],p.S().Gj(q),J&&q.oi(),H.vc(T),y.ng(v,z),u.Jb(A);else{M.xe(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.nc;++T)u=Q[T][0],p[0]=u,J&&u.oi(),H.vc(T),y.ng(v,z)}w.Ga();F.Ga();f.C(Q);l.Ga();return!1}*c5(p,q){var u=this.g.fa();const w=u.Wc(),r=u.xf(),v=w.Ne(),y=v.Ib(),A=y.kd(),
G=v.zj(),z=w.Ka(y),F=u.gf,H=F.Ka(),J=p.Qb(),M=p.S(),Q=l.Ka();f.C(Q);const R=M.ma();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.tt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.nc;++T)u.re(A),q=Q[T][0],p.S().Gj(q),J&&q.oi(),H.vc(T),yield*y.dg(v,z),u.Jb(A);else{M.xe(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.nc;++T)u=Q[T][0],p[0]=u,J&&u.oi(),H.vc(T),yield*y.dg(v,z)}w.Ga();F.Ga();f.C(Q);l.Ga();return!1}Jy(p,q){let u=this.AR.get(p);if(u)return u;if(!q)return null;
u={kn:null,dC:new Map};this.AR.set(p,u);return u}x5(p,q,u,w,r){q.ne().W1(u);w&&p.Jb(r)}*Y4(p,q,u,w,r){yield*q.ne().tW(u);w&&p.Jb(r)}}}{"use strict";const f=self.B;f.H.Xa.Kt=class extends f.ca{constructor(a){super();this.K=a;this.g=a.G();this.Eh=a.rb()}Wd(){}A(){this.Eh=this.g=this.K=null}}}{"use strict";const f=self.B;f.H.Xa.Instance=class extends f.ca{constructor(a){super();this.ga=a;this.K=this.ga.F();this.Dc=this.K.Dc;this.g=this.ga.G()}A(){this.g=this.Dc=this.K=this.ga=null}}}
{"use strict";const f=self.B,a=[];f.H.Xa.ua={Mea(){return!0},BM(){return!0},X0(){return!0},b1(){return!0},Z0(){return!0},Xn(){return this.g.Xn()},YK(){const c=this.g.Me();return c.IG?!1:!c.Zo},vka(){const c=this.g.xf().tj();let e=c.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,c.set("TriggerOnce_lastTick",-1));const b=this.g.ek;c.set("TriggerOnce_lastTick",b);return this.g.yH||e!==b-1},Lea(c){const e=this.g.xf().tj(),b=e.get("Every_lastTime")||0,h=this.g.zk();e.has("Every_seconds")||e.set("Every_seconds",
c);const m=e.get("Every_seconds");if(h>=b+m)return e.set("Every_lastTime",b+m),h>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",h),e.set("Every_seconds",c),!0;h<b-.1&&e.set("Every_lastTime",h);return!1},ht(c){return(c=this.g.fa().nL(c))&&c.ht()},bq(){return this.g.bq()},ID(){return f.Xc.ID},Y0(){return!0},P0(){return!0},Gea(){return!0},$0(){return!0},a1(){return!0},CM(){return!0},DM(){return!0},Gga(c){return!!this.g.mj(c)},Pfa(c){switch(c){case 0:return"browser"===f.Xc.yC;case 1:return"iOS"===
f.Xc.gq;case 2:return"Android"===f.Xc.gq;case 8:return"cordova"===f.Xc.yC;case 9:return"scirra-arcade"===this.g.xm;case 10:return"nwjs"===f.Xc.yC;case 13:return"windows-uwp"===this.g.xm;default:return!1}},Bha(c,e,b){return this.Ex(e,b).test(c)},ZV(c,e,b){return f.compare(c,e,b)},jea(c,e,b){return c>=e&&c<=b},rea(c,e,b){return f.compare(c.Vb(),e,b)},kea(c){return!!c.Vb()},qea(c,e){const b=this.g.zk();return 0===c?(c=this.g.xf().tj(),!c.get("CompareTime_executed")&&b>=e?(c.set("CompareTime_executed",
!0),!0):!1):f.compare(b,c,e)},Mfa(c){return isNaN(c)},mV(c,e,b){return f.ks(f.xb(c),f.xb(b))<=f.xb(e)},L_(c,e){return f.pf(f.xb(c),f.xb(e))},K_(c,e,b){c=f.xb(c);e=f.xb(e);b=f.xb(b);return f.pf(b,e)?f.pf(c,e)&&!f.pf(c,b):!(!f.pf(c,e)&&f.pf(c,b))},Xfa(c,e){return"number"===typeof c?0===e:1===e},Kea(c){return!!c},aha(c,e,b,h){if(!c)return!1;const m=this.eP(),g=m.Ka(),l=c.S();f.Ec(g,l.ma());l.Tb&&f.C(l.mc);const n=this.g.xf();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;e=n.tt(1,q);h=n.tt(3,
q);f.compare(e,b,h)?++p:l.to(w)}f.Je(g,p);l.my(g);e=!!g.length;f.C(g);m.Ga();c.oc();return e},bha(c,e){if(!c)return!1;const b=this.eP(),h=b.Ka(),m=c.S();f.Ec(h,m.ma());m.Tb&&f.C(m.mc);const g=this.g.xf();let l=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[l]=q;(e=g.tt(1,n))?++l:m.to(q)}f.Je(h,l);m.my(h);e=!!h.length;f.C(h);b.Ga();c.oc();return e},hha(c,e){if(!c)return!1;const b=c.S(),h=b.ma();e=Math.floor(e);if(e>=h.length)return!1;b.am(h[e]);c.oc();return!0},lha(c){if(!c)return!1;const e=c.S(),
b=e.ma(),h=Math.floor(this.g.lq()*b.length);if(h>=b.length)return!1;e.am(b[h]);c.oc();return!0},$ga(c){if(!c||!c.D.length)return!1;c.S().xe(!0);c.oc();return!0},jha(c,e,b){if(!c)return!1;const h=c.S();var m=h.ma();const g=this.g.Ib().Kd,l=this.g.xf().Qi;h.Tb?(f.Ec(a,m),h.Sw(),h.xe(!1)):g?(f.Ec(a,h.mc),f.C(h.mc)):(f.Ec(a,h.D),f.C(h.D));for(let n=0,p=a.length;n<p;++n)m=a[n],f.xor(m.m().EK(e,b),l)?h.du(m):h.to(m);c.oc();return f.xor(!!h.D.length,l)},gha(c){if(!c)return!1;var e=c.Ua;let b=null;const h=
this.g.cl;for(let m=h.length-1;0<=m;--m){const g=h[m];if(e){if(g.F().rC(c)){b=g;break}}else if(g.F()===c){b=g;break}}b||(e=c.ma(),e.length&&(b=e.Sd(-1)));if(!b)return!1;c.S().am(b);c.oc();return!0},Eha(c){return this.g.$d?this.d5(c):this.V8(c)},Oka(){return this.g.$d?this.w5():this.W$()},YX(c,e,b){return this.g.$d?this.a5(c,e,b):this.h6(c,e,b)},Tea(c){return this.g.$d?this.b5(c):this.i6(c)},Uea(c,e,b){return this.g.$d?this.c5(c,b):this.j6(c,b)},dga(c){return c?c.Fc():!1},aga(c){return c?c.Y_():!1},
$fa(c){return c?!c.D.length:!1},Zfa(c,e,b){return c?f.compare(100*c.Dd(),e,b):!1},W0(){return!0},Kfa(){return 0<this.Qo}}}
{"use strict";const f=self.B;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function c(g,l){return g[1]-l[1]}const e=[],b=[],h=f.j(f.Rect),m=f.j(f.Ya);f.H.Xa.wf={h3(g,l){g.te(l)},kV(g,l){g.$l()&&"number"!==typeof l&&(l=parseFloat(l));g.te(g.Vb()+l)},kka(g,l){g.$l()&&g.te(g.Vb()-l)},Qia(g,l){g.te(!!l)},qka(g){g.te(!g.Vb())},qia(){this.g.fa().M1()},nW(g,l,n,p,q){g&&l&&(n=this.g.AC(g,l,n,p,q))&&(q&&l.zE(n),l=this.g.fa(),l.je(!0),n.az(),l.je(!1),g.S().Gj(n),n.Qb()&&n.oi())},Aea(g,l,n,p,q){g&&
l&&(g=this.g.yx(g))&&f.H.Xa.wf.nW.call(this,g,l,n,p,q)},qt(g,l,n,p,q,u,w,r,v,y){if(g){var A=this.g.Qa();if(u&&(A=this.g.ab.Qp(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.da(w),!u)return;h.set(l,n,p,q);l=A.qt(g,h,u,r,v,y);g.S().my(l);g.oc()}},$ja(){const g=this.gf;g.fM()&&g.Op().Ve()},tq(g,l){(g=this.g.fa().nL(g))&&(0===l?g.tq(!1):1===l?g.tq(!0):g.tq(!g.ht()))},Kja(g){this.g.uE(g)},Eja(g,l){0>l&&(l=0);if(g){g=g.S().ma();for(const n of g)n.uE(l)}},uia(g){if(g){g=g.S().ma();for(const l of g)l.T1()}},
KE(g){if(!(0>g))return this.g.fa().mC().C_(g),!0},Hka(g){this.g.fa().mC().A_(g);return!0},Gka(){const g=this.g.fa();g.mC().o_(g.gZ());return!0},Qja(g){g=g.toLowerCase();for(const l of this.g.fa().Vf)l.$_()&&l.Kv===g&&l.rE()},async UN(g,l,n,p,q,u){const w=this.g.N;w&&(this.Y(),await w.UN(0===g?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.Xd(f.H.Xa.ua.P0,null))},Ria(g,l){if(!(0>=g||0>=l)){this.g.It(g,l);var n=this.g.Qa();n.Lw();for(const p of n.Rb)p.JE();if(n=this.g.N)"off"!==n.Os()&&this.g.L2(g,
l),n.ed(n.dn,n.cn,!0),this.g.Y()}},cja(g){const l=this.g.N;l&&"off"!==l.Os()&&(l.xN(0!==g?"high":"low"),l.ed(l.dn,l.cn,!0))},ho(g){this.g.d2(g)},iga(g){this.g.o0(g)},jga(g){this.g.MD(g)},eja(){},ria(){for(const g of this.g.ab.Ai)g.R1()},Fja(g){this.g.O2(0!==g)},IN(g){this.g.IN(g)},Tja(g,l){if(g){var n=g.S().ma(),p=this.g.Qa(),q=g.Ua;g=g.Li;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=q?u.oe(l+u.F().pL(g)):u.oe(l);e.push([v.da().Da(),v.xj()]);b.push([u,y])}if(e.length){e.sort(a);
b.sort(c);l=!1;for(let w=0,r=e.length;w<r;++w)n=b[w][0],q=p.cD(e[w][0]),g=e[w][1],u=q.D,u[g]!==n&&(u[g]=n,n.m().gu(q),q.rg(),l=!0);l&&this.g.Y();f.C(e);f.C(b)}}},efa(g){if(!this.g.Wj){var l=this.g.ab;l.aq()||l.Qw(g)}},ffa(g){if(!this.g.Wj){var l=this.g.ab;l.aq()||(g=l.Qp(g))&&l.Qw(g)}},Aga(g){if(!this.g.Wj){var l=this.g.ab;if(!l.aq()){var n=l.Ai,p=n.indexOf(l.Mb());g&&0===p||(g||p!==n.length-1)&&l.Qw(n[p+(g?-1:1)])}}},sia(){if(!this.g.Wj){var g=this.g.ab;g.aq()||(g.Qw(g.Mb()),this.g.fa().N1())}},
tja(g,l){g&&g.hh(l)},mja(g,l){g&&g.G2(l)},nja(g,l){g&&g.ki(l/100)},pja(g,l){g&&g.KN(l)},qja(g,l){g&&g.Q2(l)},gja(g,l){g&&g.wd(f.xb(+l))},rja(g,l,n){g&&(g.Dt(!0),g.mi(l),g.ni(n))},tia(g){g&&g.Dt(!1)},oja(g,l,n){g&&g.M2(l/100,n/100)},uja(g,l){g&&g.Ue(+l)},hja(g,l){g&&(m.vs(l),m.aa(),g=g.Tk,g.Hl(m)||(g.Zi(m),this.Y()))},sja(g,l){g&&g.d3(l)},ija(g,l){g&&g.Hf(l)},jja(g,l,n){g&&(n=g.Ha.xk(n))&&(l=1===l,n.Db!==l&&(n.ly(l),g.lh(),this.g.Y()))},kja(g,l,n,p){if(g&&(g=g.Ha,l=g.xk(l))&&(g=g.wk(l.Da()),n=Math.floor(n),
!(0>n||n>=g.length))){var q=l.Cf().Ax(n);if("color"===q){m.vs(p);n=g[n];if(m.Hl(n))return;n.Zi(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.Db&&this.g.Y()}},lja(g,l){g&&g.A2(l)},zja(g){this.g.Qa().pE(+g)},vja(g){this.g.Qa().wd(f.xb(+g))},wja(g,l){const n=this.g.Qa();if(l=n.Ha.xk(l))g=1===g,l.Db!==g&&(l.ly(g),n.lh(),this.g.Y())},xja(g,l,n){var p=this.g.Qa().Ha;if(g=p.xk(g))if(p=p.wk(g.Da()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.Cf().Ax(l);if("color"===q){m.vs(n);l=p[l];if(m.Hl(l))return;
l.Zi(m)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}g.Db&&this.g.Y()}},Aja(g,l){this.g.Qa().g3(g/100,l/100)},yja(g){const l=this.g.Qa();0===g?l.MN():l.JN()},Iia(g){this.g.Qa().mi(g)},Jia(g){this.g.Qa().ni(g)},Fia(g,l){const n=this.g.Qa();n.mi(g);n.ni(l)},Hia(g){if(g&&(g=g.rL())&&(g=g.m())){var l=this.g.Qa();l.mi(g.ya());l.ni(g.za())}},async q0(g){const l=this.g.Mb();l&&g&&!this.g.Wj&&await this.qF(l,g.Ua?g.Lo:[g])},async hga(g){await f.H.Xa.wf.q0.call(this,this.g.yx(g))},F3(g){const l=
this.g.Mb();l&&g&&this.NQ(l,g.Ua?g.Lo:[g])},Aka(g){f.H.Xa.wf.F3.call(this,this.g.yx(g))},Bka(){const g=this.g.Mb();if(g){var l=g.I6();this.NQ(g,l)}},async fga(g){const l=this.g.Mb();g&&l&&!this.g.Wj&&await this.qF(l,g.fP())},async gga(g){const l=this.g.Mb();(g=this.g.ab.Qp(g))&&l&&!this.g.Wj&&await this.qF(l,g.fP())},ry(g){const l=this.zd.kY();if(l)switch(l.BR){case 1:"number"===typeof g&&l.ry(g);break;case 2:"string"===typeof g&&l.ry(g);break;case 3:l.ry(g)}},nga(g,l,n){var p=this.Jy(g.toLowerCase(),
!0);const q=p.dC,u=l.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(p=f.first(q.values())||p.kn)&&0!==p.tl!==(0!==n.tl)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},oga(g,l){const n=this.Jy(g.toLowerCase(),!0);n.kn&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=
f.first(n.dC.values())||n.kn;p&&0!==p.tl!==(0!==l.tl)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.kn=l},dea(g,l,n){n=Math.floor(n);var p=this.Jy(g.toLowerCase(),!1);if(p){var q=p.dC.get(l.toLowerCase());if(!q)if(p.kn)q=p.kn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.Vn())if(0!==
q.tl)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);else{g=this.g;l=g.fa();var u=l.Ib();p=u.ld();var w=0<p.length;w&&l.mg(p);var r=[];if(u=l.KC(u)){u=u.Fg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].Vb())}n=q.Fg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].Ro);return g.$d?this.Y4(l,q,r,w,p):this.x5(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const f=self.B;f.H.Xa.jd={wca:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Jla:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Ml(a){return a.toString()},uw(a){return"string"===typeof a?a.length:0},random(a,c){return"undefined"===typeof c?this.g.lq()*a:this.g.lq()*(c-a)+a},Pba(...a){return a[Math.floor(this.g.lq()*a.length)]},kna(){return Math.PI},oma(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Lna(a,c){c=Math.max(Math.floor(c),0);c=Math.pow(10,c);return Math.round((a+Number.EPSILON)*c)/c},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(f.xb(a))},cos(a){return Math.cos(f.xb(a))},tan(a){return Math.tan(f.xb(a))},asin(a){return f.qk(Math.asin(a))},acos(a){return f.qk(Math.acos(a))},atan(a){return f.qk(Math.atan(a))},exp(a){return Math.exp(a)},Jca(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let c=a[0];"number"!==typeof c&&(c=0);for(let e=1,b=a.length;e<b;++e){let h=a[e];"number"===typeof h&&c<h&&(c=h)}return c},min(...a){let c=a[0];"number"!==typeof c&&(c=0);for(let e=1,b=a.length;e<b;++e){let h=a[e];"number"===typeof h&&c>h&&(c=h)}return c},aa(a,c,e){return f.aa(a,c,e)},jw(a,c,e,b){return f.eca(a,c,e,b)},angle(a,c,e,b){return f.qk(f.DT(a,c,e,b))},Td(a,c,e){return f.Td(a,c,e)},eC(a,c,e){return f.eC(a,c,e)},ZB(a,c,e,b){return f.ZB(a,c,e,b)},NT(a,c,e,b,h){return f.NT(a,
c,e,b,h)},MT(a,c,e){return f.MT(a,c,e)},Zka(a,c){return f.qk(f.ks(f.xb(a),f.xb(c)))},$ka(a,c,e){return f.qk(f.lJ(f.xb(a),f.xb(c),e))},ala(a,c,e){return f.qk(f.mJ(f.xb(a),f.xb(c),f.xb(e)))},Xna(a,c,e){c|=0;return(a|0)&~(1<<c)|(0!==e?1:0)<<c},eoa(a,c){return(a|0)^1<<(c|0)},hma(a,c){return(a|0)&1<<(c|0)?1:0},Wma(){return"\n"},Cda(a){return"string"===typeof a?a.toUpperCase():""},Oma(a){return"string"===typeof a?a.toLowerCase():""},left(a,c){return"string"===typeof a?a.substr(0,c):""},mid(a,c,e){return"string"!==
typeof a?"":0>e?a.substr(c):a.substr(c,e)},right(a,c){return"string"===typeof a?a.substr(Math.max(a.length-c,0)):""},trim(a){return"string"===typeof a?a.trim():""},uda(a,c,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);c=Math.floor(c);return 0>c||c>=a.length?"":a[c]},vda(a,c){return"string"===typeof a&&"string"===typeof c&&a.length?a.split(c).length:0},find(a,c){return"string"===typeof a&&"string"===typeof c?a.search(new RegExp(f.Es(c),"i")):-1},Ila(a,c){return"string"===typeof a&&
"string"===typeof c?a.search(new RegExp(f.Es(c),"")):-1},replace(a,c,e){return"string"===typeof a&&"string"===typeof c&&"string"===typeof e?a.replace(new RegExp(f.Es(c),"gi"),e):"string"===typeof a?a:""},vna(a,c,e){c=this.Ex(c,e);return a?a.search(c):-1},una(a,c,e,b){c=this.Ex(c,e);return a?a.replace(c,b):""},tna(a,c,e){return(a=this.CL(a.toString(),c,e))?a.length:0},sna(a,c,e,b){b=Math.floor(b);a=this.CL(a.toString(),c,e);return!a||0>b||b>=a.length?"":a[b]},yoa(a,c){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(c-a.toString().length,0));return e+a.toString()},koa(a){return encodeURIComponent(a)},joa(a){return decodeURIComponent(a)},ST(){return this.g.Ku},coa(){return this.g.Qd},uoa(){return(Date.now()-this.g.nB)/1E3},hoa(){return Date.now()},time(){return this.g.zk()},boa(){return this.g.ek},ana(){return this.g.jI},Mla(){return this.g.Qz},rla(){return this.g.JA},jma(){return this.g.vx()},xoa(){return this.g.N.zg},woa(){return this.g.N.yg},ena(){return this.g.Lg},dna(){return this.g.Kg},
cna(){return this.g.Lg},bna(){return this.g.Kg},Ona(){return this.g.Qa().Af()},Pna(){return this.g.Qa().Bf()},Jma(){return this.g.Qa().ra()},Kma(){return this.g.Qa().Nd},Hma(){return f.qk(this.g.Qa().Na())},Lma(){return this.g.Qa().Z()},Ima(){return this.g.Qa().X()},qoa(a){return(a=this.g.Qa().da(a))?a.bn.P:0},soa(a){return(a=this.g.Qa().da(a))?a.bn.L:0},roa(a){return(a=this.g.Qa().da(a))?a.bn.$:0},ooa(a){return(a=this.g.Qa().da(a))?a.bn.W:0},toa(a){return(a=this.g.Qa().da(a))?a.bn.width():0},poa(a){return(a=
this.g.Qa().da(a))?a.bn.height():0},lla(a,c,e){return(a=this.g.Qa().da(a))?a.wn(c,e)[0]:0},mla(a,c,e){return(a=this.g.Qa().da(a))?a.wn(c,e)[1]:0},Ema(a,c,e){return(a=this.g.Qa().da(a))?a.Zn(c,e)[0]:0},Fma(a,c,e){return(a=this.g.Qa().da(a))?a.Zn(c,e)[1]:0},Ama(a){return(a=this.g.Qa().da(a))?a.Nd:0},vma(a){return(a=this.g.Qa().da(a))?f.qk(a.Nf):0},xma(a){return(a=this.g.Qa().da(a))?100*a.Dd():0},Bma(a){return(a=this.g.Qa().da(a))?a.Mm:0},Cma(a){return(a=this.g.Qa().da(a))?a.Af():0},Dma(a){return(a=
this.g.Qa().da(a))?a.Bf():0},yma(a){return(a=this.g.Qa().da(a))?100*a.hf:0},zma(a){return(a=this.g.Qa().da(a))?100*a.jf:0},Gma(a){return(a=this.g.Qa().da(a))?a.Za():0},wma(a){return(a=this.g.Qa().da(a))?a.Da():-1},kla(){const a=this.g.N;return a?a.DI:""},Lca(a){const c=this.gf;return c.fM()?a?(a=c.UX(a))?a.Da():0:c.Op().Da():0},Mna(){return this.g.bp},ila(a,c,...e){var b=this.Jy(a.toLowerCase(),!1);if(!b)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var h=b.dC.get(c.toLowerCase());if(!h)if(b.kn)h=b.kn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${c}'; returning 0 (consider setting a default)`),0;b=h.tl;const m=h.Ps();if(0===b)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${c}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Vn())return m;a=this.g.fa();c=a.Ib().ld();const g=0<c.length;g&&a.mg(c);const l=h.Fg;for(let n=
e.length,p=l.length;n<p;++n)e.push(l[n].Ro);h=h.ne();e=h.aE(h.ld(),b,m,...e);g&&a.Jb(c);return e},Nma(){return this.g.pd.AA},mma(){return 0===this.Qo?1:this.Xu/this.Qo},pn(){return this.g.ct()?"webgpu":"webgl"},yna(){return this.g.ct()?"<unavailable>":this.g.On().$v},nma(){let a=this.g.cb().pY();return Math.round(100*a/1048576)/100},Ana(a,c,e){return f.d1(a,c,e)},Dna(a,c,e){return f.JM(a/100,c/100,e/100)},Bna(a,c,e,b){return f.dy(a/100,c/100,e/100,b/100)},Ena(a,c,e){return f.JM(a/255,c/255,e/255)},
Cna(a,c,e,b){return f.dy(a/255,c/255,e/255,b/255)},Wca(){return this.g.XA},Xca(){return this.g.NS},vla(){return this.g.Ib().Mc.ra()},ula(){return this.g.Ib().dr}}}{"use strict";const f=self.B;f.H.kh=class extends f.b2{constructor(a){super(a,"text-input");this.Bs("click",c=>c.Z7());this.Bs("dblclick",c=>c.a8());this.Bs("change",(c,e)=>c.Y7(e))}A(){super.A()}}}{"use strict";const f=self.B;f.H.kh.Kt=class extends f.cE{constructor(a){super(a)}A(){super.A()}Wd(){}}}
{"use strict";const f=self.B,a=self.Xg,c="text password email number tel url textarea search".split(" ");f.H.kh.Instance=class extends f.a2{constructor(b,h){super(b,"text-input");this.zl=this.ak=this.hb="";this.Hg=!0;this.rp=this.Xj=!1;this.na="text";this.ru=!0;this.ep=-1;this.zc="";h&&(this.hb=h[0],this.ak=h[1],this.zl=h[2],this.m().hh(h[3]),this.Hg=h[4],this.Xj=h[5],this.rp=h[6],this.na=c[h[7]],this.ru=h[8],this.zc=h[9]);this.jW({type:this.na,id:this.zc})}A(){super.A()}XC(){return{text:this.hb,
placeholder:this.ak,title:this.zl,isEnabled:this.Hg,isReadOnly:this.Xj,spellCheck:this.rp,maxLength:this.ep}}async Z7(){this.Mp("click",!0);await this.Xd(f.H.kh.ua.Q0)}async a8(){this.Mp("dblclick",!0);await this.Xd(f.H.kh.ua.U0)}async Y7(b){this.hb=b.text;this.Mp("change",!0);await this.Xd(f.H.kh.ua.FM)}lm(b){this.hb!==b&&(this.hb=b,this.Kf())}BQ(b){this.ak!==b&&(this.ak=b,this.Kf())}o$(b){this.zl!==b&&(this.zl=b,this.Kf())}vQ(b){b=!!b;this.Hg!==b&&(this.Hg=b,this.Kf())}CQ(b){b=!!b;this.Xj!==b&&
(this.Xj=b,this.Kf())}zQ(b){b=Math.max(+b,-1);this.ep!==b&&(this.ep=b,this.Kf())}E9(){Promise.resolve().then(()=>this.cm("scroll-to-bottom"))}eg(){}vd(){return{t:this.hb,p:this.ak,ti:this.zl,e:this.Hg,r:this.Xj,sp:this.rp,ml:this.ep,type:this.na,id:this.zc}}md(b){this.hb=b.t;this.ak=b.p;this.zl=b.ti;this.Hg=b.e;this.Xj=b.r;this.rp=b.sp;this.ep=b.hasOwnProperty("ml")?b.ml:-1;this.na=b.type;this.zc=b.id;this.Kf()}uc(b){switch(b){case 0:return this.hb;case 1:return this.ak;case 2:return this.zl;case 4:return this.Hg;
case 5:return this.Xj;case 6:return this.rp;case 8:return this.ru;case 9:return this.zc}}fh(b,h){switch(b){case 0:if(this.hb===h)break;this.hb=h;this.Kf();break;case 1:if(this.ak===h)break;this.ak=h;this.Kf();break;case 2:if(this.zl===h)break;this.zl=h;this.Kf();break;case 4:if(this.Hg===!!h)break;this.Hg=!!h;this.Kf();break;case 5:if(this.Xj===!!h)break;this.Xj=!!h;this.Kf();break;case 6:if(this.rp===!!h)break;this.rp=!!h;this.Kf();break;case 8:this.ru=!!h;break;case 9:this.zc!==h&&(this.zc=h,this.Kf())}}Ul(){return self.WZ}};
const e=new WeakMap;self.WZ=class extends self.PZ{constructor(){super();e.set(this,self.Yp.Gq().ka)}set text(b){a.od(b);e.get(this).lm(b)}get text(){return e.get(this).hb}set placeholder(b){a.od(b);e.get(this).BQ(b)}get placeholder(){return e.get(this).ak}set isEnabled(b){e.get(this).vQ(b)}get isEnabled(){return e.get(this).Hg}set Cca(b){e.get(this).CQ(b)}get Cca(){return e.get(this).Xj}set maxLength(b){a.ii(b);e.get(this).zQ(b)}get maxLength(){return e.get(this).ep}}}
{"use strict";const f=self.B;f.H.kh.ua={$V(a,c){return 0===c?f.Il(this.hb,a):this.hb===a},FM(){return!0},Q0(){return!0},U0(){return!0}}}"use strict";self.B.H.kh.wf={Aq(f){this.lm(f.toString())},pV(f){""!==f&&this.lm(this.hb+f)},Gja(f){this.BQ(f)},Lja(f){this.o$(f)},Jja(f){this.CQ(0===f)},Gia(){this.E9()},Bja(f){this.zQ(f)}};"use strict";self.B.H.kh.jd={Text(){return this.hb},qga(){return this.ep}};{"use strict";const f=self.B;f.H.Text=class extends f.jy{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const f=self.B;f.H.Text.Kt=class extends f.cE{constructor(a){super(a)}A(){super.A()}Wd(){}eq(){}co(){}}}
{"use strict";const f=self.B,a=self.Xg,c=[0,0,0],e=["left","center","right"],b=["top","center","bottom"],h=new f.Rect,m=new f.nd;new f.Ya;f.H.Text.Instance=class extends f.dE{constructor(n,p){super(n);this.hb="";this.Yk=!0;this.Ki="Arial";this.ck=12;this.Ah=0;this.cf=this.bf=!1;this.$a=f.j(f.Ya);this.He=this.Ye=0;this.kk=!0;this.fk=this.cs=-1;this.Zv=0;this.sc=f.j(f.I.VD,this.g.cb(),{timeout:5});this.sc.YB=()=>this.g.Y();this.sc.CN();p&&(this.hb=p[0],this.Yk=!!p[1],this.Ki=p[2],this.ck=p[3],this.Ah=
p[4],this.bf=!!p[5],this.cf=!!p[6],this.Ye=p[8],this.He=p[9],this.kk=0===p[10],n=p[7],this.$a.ws(n[0],n[1],n[2]),this.m().hh(p[11]));this.Yd()}A(){this.im();this.sc.A();this.sc=null;super.A()}Yd(){const n=this.sc;n.Aq(this.hb);n.k2(this.Yk);n.jE(this.Ki);n.GN(this.Ah);n.oN(this.bf);n.EN(this.cf);n.dm(this.$a);n.zN(e[this.Ye]);n.TN(b[this.He]);n.i3(this.kk?"word":"character")}RF(){const n=this.m();this.sc.kE(this.ck);this.sc.z2(n.iZ());var p=n.da();p=p.Sp()*p.eL(n.dh());this.sc.ed(n.Z(),n.X(),p)}eg(n){var p=
this.m();this.RF();const q=this.sc.Gd();if(q){var u=p.da();if(0===p.Na()&&0===u.Na()&&0===p.dh()&&!p.Df()&&u.WM()){p=p.ij();const [w,r]=u.Aj(p.ub,p.wb),[v,y]=u.Aj(p.Zb,p.$b);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.dj(h);const [G,z]=n.Vs(n.sj());this.g.N.s2(n,G,z);n.If(q);n.kq(m,this.sc.ai());u.Xy(n)}else n.If(q),p.Df()?this.dF(p,n):this.eF(p,n)}}eF(n,p){n=n.ij();this.g.fl&&(n=this.WP(n));p.kq(n,this.sc.ai())}dF(n,p){const q=n.OL();if(n.iM()){n.Ow(h,m,!1);let u=m;
this.g.fl&&(u=this.WP(u));q.vK(n.vj(),u,this.sc.ai());n.nE(!1)}q.eg(p)}WP(n){const p=n.ub-Math.round(n.ub),q=n.wb-Math.round(n.wb);if(0===p&&0===q)return n;m.la(n);m.offset(-p,-q);return m}lx(){const n=this.sc.Gd();return n?[n.Z(),n.X()]:[100,100]}mx(){return this.sc.ai()}Tx(){return!1}vd(){const n={t:this.hb,c:this.$a.toJSON(),fn:this.Ki,ps:this.ck};this.Yk&&(n.bbc=this.Yk);0!==this.Ye&&(n.ha=this.Ye);0!==this.He&&(n.va=this.He);this.kk||(n.wr=this.kk);0!==this.Ah&&(n.lho=this.Ah);this.bf&&(n.b=
this.bf);this.cf&&(n.i=this.cf);-1!==this.fk&&(n.tw={st:this.cs,en:this.fk,l:this.Zv});return n}md(n){this.im();this.hb=n.t;this.$a.Ll(n.c);this.Ki=n.fn;this.ck=n.ps;this.Yk=n.hasOwnProperty("bbc")?n.bbc:!1;this.Ye=n.hasOwnProperty("ha")?n.ha:0;this.He=n.hasOwnProperty("va")?n.va:0;this.kk=n.hasOwnProperty("wr")?n.wr:!0;this.Ah=n.hasOwnProperty("lho")?n.lho:0;this.bf=n.hasOwnProperty("b")?n.b:!1;this.cf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.cs=n.st,this.fk=n.en,this.Zv=
n.l);this.Yd();-1!==this.fk&&this.mm()}uc(n){switch(n){case 0:return this.hb;case 1:return this.Yk;case 2:return this.Ki;case 3:return this.ck;case 4:return this.Ah;case 5:return this.bf;case 6:return this.cf;case 7:return c[0]=this.$a.Pa,c[1]=this.$a.Ta,c[2]=this.$a.Sa,c;case 8:return this.Ye;case 9:return this.He;case 10:return this.kk?1:0}}fh(n,p){switch(n){case 0:if(this.hb===p)break;this.hb=p;this.Yd();break;case 1:if(this.Yk===!!p)break;this.Yk=!!p;this.Yd();break;case 2:if(this.Ki===p)break;
this.Ki=p;this.Yd();break;case 3:if(this.ck===p)break;this.ck=p;this.Yd();break;case 4:if(this.Ah===p)break;this.Ah=p;this.Yd();break;case 5:if(this.bf===!!p)break;this.bf=!!p;this.Yd();break;case 6:if(this.cf===!!p)break;this.cf=!!p;this.Yd();break;case 7:n=this.$a;if(n.Pa===p[0]&&n.Ta===p[1]&&n.Sa===p[2])break;this.$a.ws(p[0],p[1],p[2]);this.Yd();break;case 8:if(this.Ye===p)break;this.Ye=p;this.Yd();break;case 9:if(this.He===p)break;this.He=p;this.Yd();break;case 10:this.kk!==(0===p)&&(this.kk=
0===p,this.Yd())}}lm(n){this.hb!==n&&(this.hb=n,this.sc.Aq(n),this.g.Y())}z$(n,p){this.lm(n);this.cs=this.g.lD();this.fk=this.cs+p/this.wa().bY();this.Zv=f.Pl.WN(n).length;this.sc.iE(0);this.mm()}im(){this.fk=this.cs=-1;this.Zv=0;this.sc.iE(-1);this.ju()}X5(){-1!==this.fk&&(this.im(),this.nb(f.H.Text.ua.GM),this.g.Y())}V9(n){this.Ki!==n&&(this.Ki=n,this.sc.jE(n),this.g.Y())}J9(n){n=!!n;this.bf!==n&&(this.bf=n,this.sc.oN(n),this.g.Y())}e$(n){n=!!n;this.cf!==n&&(this.cf=n,this.sc.EN(n),this.g.Y())}W9(n){this.ck!==
n&&(this.ck=n,this.g.Y())}U9(n){this.$a.Hl(n)||(this.$a.Zi(n),this.sc.dm(this.$a),this.g.Y())}xQ(n){this.Ah!==n&&(this.Ah=n,this.Yd(),this.g.Y())}Z9(n){this.Ye!==n&&(this.Ye=n,this.Yd(),this.g.Y())}FQ(n){this.He!==n&&(this.He=n,this.Yd(),this.g.Y())}r$(n){n=!!n;this.kk!==n&&(this.kk=n,this.Yd(),this.g.Y())}H6(){this.RF();return this.sc.mZ()}G6(){this.RF();return this.sc.lZ()}We(){var n=this.g.lD();n>=this.fk?(this.im(),this.nb(f.H.Text.ua.GM),this.g.Y()):(n=f.ada(this.cs,this.fk,n,this.Zv),n=Math.floor(n),
n!==this.sc.Ho&&(this.sc.iE(n),this.g.Y()))}Ul(){return self.XZ}};const g=new WeakMap,l=new Map([["top",0],["center",1],["bottom",2]]);self.XZ=class extends self.Ox{constructor(){super();g.set(this,self.Yp.Gq().ka)}get text(){return g.get(this).hb}set text(n){a.od(n);const p=g.get(this);p.im();p.lm(n)}set lineHeight(n){a.ii(n);g.get(this).xQ(n)}get lineHeight(){return g.get(this).Ah}set verticalAlign(n){a.od(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).FQ(n)}get verticalAlign(){return b[g.get(this).He]}}}
{"use strict";const f=self.B;f.H.Text.ua={$V(a,c){return c?this.hb===a:f.Il(this.hb,a)},Ufa(){return-1!==this.fk},GM(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Ya);f.H.Text.wf={Aq(c){this.im();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);this.lm(c.toString())},pV(c){this.im();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);(c=c.toString())&&this.lm(this.hb+c)},xka(c,e){this.im();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);this.z$(c.toString(),e)},bja(c,e){let b=!1,h=!1;switch(e){case 1:b=!0;break;case 2:h=!0;break;case 3:h=b=!0}if(c!==this.Ki||b!==this.bf||h!==this.cf)this.V9(c),this.J9(b),
this.e$(h)},kE(c){this.W9(c)},aja(c){a.vs(c);a.aa();this.U9(a)},Oja(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},t2(c){this.m().Hf(c);this.g.Y()},wka(){this.X5()},GN(c){this.xQ(c)},dja(c){this.Z9(c)},Nja(c){this.FQ(c)},Pja(c){this.r$(0===c)}}}{"use strict";const f=self.B;f.H.Text.jd={Text(){return this.hb},oha(){return this.Yk?f.Pl.WN(this.hb):this.hb},Nea(){return this.Ki},Oea(){return this.ck},x3(){return this.H6()},nka(){return this.G6()},ega(){return this.Ah}}}
{"use strict";const f=self.B;f.H.Jf=class extends f.jy{constructor(a){super(a)}A(){super.A()}}}{"use strict";const f=self.B;f.H.Jf.Kt=class extends f.cE{constructor(a){super(a);this.xd=a.xd}A(){f.C(this.xd);super.A()}Wd(){for(const a of this.xd)a.k0(this.g)}eq(a){const c={cj:this.g.gd};return Promise.all(this.xd.map(e=>e.l0(a,c)))}co(){for(const a of this.xd)a.y1()}cy(){this.QQ()}QQ(){for(const a of this.K.vca())a.ka.PF()}Hs(a){f.H.Jf.VX(this,a)}}}
{"use strict";const f=self.B,a=self.Xg,c=f.j(f.Rect),e=f.j(f.nd),b=f.j(f.Mt);f.H.Jf.Instance=class extends f.dE{constructor(m,g){super(m);let l=!0,n="",p=0,q=!0;g&&(l=!!g[0],n=g[1],p=g[2],q=g[3]);this.Cb=this.K.gL(n)||this.K.xd[0];this.ob=f.aa(p,0,this.Cb.qd.length-1);this.Ae=this.Cb.Tl(this.ob);g=this.Ae.Oe();this.br=g.Gd();this.AG=g.ai();this.Gu=g.Gx();this.tZ();m.At(2,!0);m.At(1,0<=this.Cb.Rr);this.Rj=Math.abs(this.Cb.Rr);this.$q=this.Cb.SS;this.fz=f.j(f.Xx);this.Oj=this.Mi=0;this.aG="";this.Cu=
-1;this.Uq="";this.gR=0;m=this.m();this.laa=m.ij();m.hh(l);m.xt(q);m.vq(this.Ae.Bk());m.wq(this.Ae.Ck());m.tE(this.Ae.Do);m.Wa();1===this.K.xd.length&&1===this.K.xd[0].qd.length||0===this.Rj||this.mm()}A(){this.fz=this.br=this.Ae=this.Cb=null;super.A()}$g(){return this.Ae.Oe()}Wn(){return!0}hq(){this.br=null}IM(){this.PF()}eg(m){var g=this.br;null!==g&&(m.If(g),g=this.m(),g.Df()?this.dF(g,m):this.eF(g,m))}eF(m,g){let l=this.laa;this.g.fl&&(l=m.KM(l));g.u1(l,this.Gu)}dF(m,g){const l=m.OL();if(m.iM()){m.Ow(c,
e,!1);let n=e;this.g.fl&&(n=m.KM(n));l.vK(m.vj(),n,this.Gu);m.nE(!1)}l.eg(g)}Ks(){return this.fz.V()}Sx(){return this.ga.$C(2)}pq(m){this.ga.At(2,m)}Vx(){return this.ga.$C(1)}Et(m){this.ga.At(1,m)}DD(){return this.ga.$C(4)}AN(m){this.ga.At(4,m)}We(){this.Uq&&this.JO();0<=this.Cu&&this.aF();const m=this.Rj;if(this.Sx()&&0!==m){this.fz.Uc(this.g.VC(this.ga));var g=this.Ks(),l=this.Ae,n=l.Ez/m;if(!(g<this.Mi+n)){var p=this.Cb,q=this.$q,u=p.qd.length,w=p.jg(),r=p.pA,v=p.Taa;this.Vx()?this.ob++:this.ob--;
this.Mi+=n;this.ob>=u&&(v?(this.Et(!1),this.ob=u-2):r?this.ob=q:(this.Oj++,this.Oj>=w?this.gF(!1):this.ob=q));0>this.ob&&(v?(this.ob=1,this.Et(!0),r||(this.Oj++,this.Oj>=w&&this.gF(!0))):r?this.ob=q:(this.Oj++,this.Oj>=w?this.gF(!0):this.ob=q));this.ob=f.aa(this.ob,0,u-1);n=p.Tl(this.ob);g>this.Mi+n.Ez/m&&(this.Mi=g);this.Py(l,n)}}else this.ju()}gF(m){this.ob=m?0:this.Cb.qd.length-1;this.pq(!1);this.aG=this.Cb.ra();this.AN(!0);this.Mp("animationend",!1,{animationName:this.aG});this.nb(f.H.Jf.ua.O0);
this.nb(f.H.Jf.ua.N0);this.AN(!1);this.Oj=0}Py(m,g){if(m!==g){var l=this.m(),n=m.Oe();m=g.Oe();var p=n.Z();n=n.X();var q=m.Z(),u=m.X();p!==q&&l.pi(l.Z()*(q/p));n!==u&&l.ji(l.X()*(u/n));l.vq(g.Bk());l.wq(g.Ck());l.tE(g.Do);l.Wa();this.Ae=g;this.br=m.Gd();this.AG=m.ai();this.Gu=m.Gx();g=this.wa().Zc;for(let w=0,r=g.length;w<r;++w);this.Mp("framechange",!1,{animationName:this.Cb.ra(),ET:this.ob});this.nb(f.H.Jf.ua.V0);this.g.Y()}}y$(m){this.pq(!0);this.Mi=this.Ks();1===m&&0!==this.ob&&(this.Cu=0,this.DD()||
this.aF());this.mm()}F9(m,g){this.Uq=m;this.gR=g;this.mm();this.DD()||this.JO()}cP(){return this.Uq?this.Uq:this.Cb.ra()}qQ(m){isFinite(m)&&(this.Cu=m,this.DD()||this.aF())}H9(m){this.Rj=Math.abs(m);this.Et(0<=m);0<this.Rj&&this.mm()}ZO(){return this.Vx()?this.Rj:-this.Rj}G9(m){this.$q=m=f.aa(Math.floor(m),0,this.Cb.qd.length-1)}JO(){const m=this.Ae;var g=this.K.gL(this.Uq);this.Uq="";!g||g===this.Cb&&this.Sx()||(this.Cb=g,this.Et(0<=g.Rr),this.Rj=Math.abs(g.Rr),this.$q=g.SS,this.ob=f.aa(this.ob,
0,this.Cb.qd.length-1),1===this.gR&&(this.ob=0),this.pq(!0),this.Mi=this.Ks(),g=this.Cb.Tl(this.ob),this.Py(m,g))}aF(){const m=this.Ae;var g=this.ob;this.ob=f.aa(Math.floor(this.Cu),0,this.Cb.qd.length-1);this.Cu=-1;g!==this.ob&&(g=this.Cb.Tl(this.ob),this.Py(m,g),this.Mi=this.Ks())}PF(){const m=this.Ae.Oe();this.br=m.Gd();this.AG=m.ai();this.Gu=m.Gx();this.m().nE(!0)}Gd(){return this.br}ai(){return this.AG}Gx(){return this.Gu}bD(){return this.Ae.bD()}Hn(m){const g=this.Ae,l=this.m();if("string"===
typeof m)m=g.IY(m);else if("number"===typeof m)m=g.HY(m-1);else throw new TypeError("expected string or number");if(!m)return[l.ya(),l.za()];b.la(m.nI);if(l.Df()){const [n,p]=l.vj().ZN(b.ba,b.U);b.set(n,p)}b.offset(-g.Bk(),-g.Ck());b.scale(l.Z(),l.X());b.rotate(l.Na());b.offset(l.ya(),l.za());return[b.ba,b.U]}iY(){return this.m().Dk().lU()}iL(m){m=Math.floor(m);const g=this.m();var l=g.Dk();const n=l.lU();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Bd;return[l[2*m]+g.ya(),l[2*m+1]+g.za()]}vd(){const m=
{a:this.Cb.eb};0!==this.Mi&&(m.fs=this.Mi);var g=this.Ks();0!==g&&(m.at=g);0!==this.ob&&(m.f=this.ob);0!==this.Rj&&(m.cas=this.Rj);1!==this.Oj&&(m.ar=this.Oj);0!==this.$q&&(m.rt=this.$q);this.Sx()||(m.ap=this.Sx());this.Vx()||(m.af=this.Vx());g=this.m();g.bi()&&(m.ce=g.bi());return m}md(m){var g=this.F().dY(m.a);g&&(this.Cb=g);this.Mi=m.hasOwnProperty("fs")?m.fs:0;this.fz.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.ob=f.aa(g,0,this.Cb.qd.length-1);this.Rj=m.hasOwnProperty("cas")?
m.cas:0;this.Oj=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.$q=f.aa(g,0,this.Cb.qd.length-1);this.pq(m.hasOwnProperty("ap")?!!m.ap:!0);this.Et(m.hasOwnProperty("af")?!!m.af:!0);this.Ae=g=this.Cb.Tl(this.ob);this.PF();const l=this.m();l.vq(g.Bk());l.wq(g.Ck());l.tE(g.Do);l.xt(!!m.ce)}uc(m){const g=this.m();switch(m){case 3:return g.bi();case 2:return f.aa(this.ob,0,this.Cb.qd.length-1)}}fh(m,g){var l=this.m();switch(m){case 3:l.xt(!!g);break;case 2:this.pq(!1);m=this.Cb.qd.length-
1;l=g=f.aa(g,0,m);g=this.Cb.Tl(this.ob);const n=this.Cb.Tl(l);this.Py(g,n);this.ob=f.aa(l,0,m)}}Ul(){return self.UZ}};const h=new WeakMap;self.UZ=class extends self.Ox{constructor(){super();h.set(this,self.Yp.Gq().ka)}get animation(){return h.get(this).Cb.Haa}get animationName(){return h.get(this).cP()}set ET(m){a.ii(m);h.get(this).qQ(m)}get ET(){return h.get(this).ob}get imageWidth(){return h.get(this).$g().Z()}get imageHeight(){return h.get(this).$g().X()}}}
{"use strict";const f=self.B;f.H.Jf.ua={ufa(a){return f.Il(this.cP(),a)},mea(a,c){return f.compare(this.ob,a,c)},iea(a,c){return f.compare(this.ZO(),a,c)},N0(a){return f.Il(this.aG,a)},O0(){return!0},V0(){return!0},Lfa(){return 0>this.m().Z()},Gfa(){return 0>this.m().X()},HM(){return!0},c1(){return!0},bi(){return this.m().bi()}}}
{"use strict";const f=self.B;f.H.Jf.wf={Uja(a,c,e,b){if(a&&c){var [h,m]=this.Hn(e);if(e=this.g.AC(a,c,h,m,b)){b&&c.zE(e);a.rb().cq()&&(c=e.m(),c.wd(this.m().Na()),c.Wa());c=this.g.fa();c.je(!0);e.az();c.je(!1);b=this.g.Ns().tj();c=!1;if(!b.has("Spawn_LastExec")||b.get("Spawn_LastExec")<this.g.kr)c=!0,b.set("Spawn_LastExec",this.g.kr);if(a!==this.F()&&(a=a.S(),a.xe(!1),a=a.D,c&&f.C(a),a.push(e),e.Qb()))for(const g of e.rd)e=g.F().S(),c?e.Gj(g):(e.xe(!1),e.du(g))}}},Zja(){this.pq(!1)},Vja(a){this.y$(a)},
Kia(a,c){this.F9(a,c)},Lia(a){this.qQ(a)},Nia(a){this.H9(a)},Mia(a){this.G9(a)},Dja(a){const c=this.m(),e=c.Z();a=Math.abs(e)*(0===a?-1:1);e!==a&&(c.pi(a),c.Wa())},Zia(a){const c=this.m(),e=c.X();a=Math.abs(e)*(0===a?-1:1);e!==a&&(c.ji(a),c.Wa())},pE(a){const c=this.Ae.Oe(),e=this.m();var b=0>e.Z()?-1:1;const h=0>e.X()?-1:1;b*=c.Z()*a;a=c.X()*a*h;if(e.Z()!==b||e.X()!==a)e.ed(b,a),e.Wa()},async kga(a,c){const e=this.Ae.Oe(),b=this.m(),h=this.g;if(e.gk===a)0===c&&(b.ed(e.Z(),e.X()),b.Wa()),this.nb(f.H.Jf.ua.HM);
else{var m=f.j(f.Qx);try{await m.n0(h,a);if(!m.GD())throw Error("image failed to load");await m.jt(h.cb(),{cj:this.g.gd})}catch(g){console.error("Load image from URL failed: ",g);this.nb(f.H.Jf.ua.c1);return}e.L1(m);this.Dc.QQ();this.By()||0!==c||(b.ed(e.Z(),e.X()),b.Wa());h.Y();this.By()||await this.Xd(f.H.Jf.ua.HM)}},Sia(a){this.m().xt(a)},sE(a,c){this.m().sE(0===a,c)},t2(a){this.m().Hf(a);this.g.Y()}}}"use strict";
self.B.H.Jf.jd={Pda(){return this.ob},Qda(){return this.Cb.qd.length},Rda(){return this.Cb.ra()},Sda(){return this.ZO()},Uga(){return this.Cb.Rr},nfa(f){return this.Hn(f)[0]},ofa(f){return this.Hn(f)[1]},mfa(){return this.bD()},pfa(){return this.$g().Z()},lfa(){return this.$g().X()},sha(f){return this.iL(f)[0]},tha(f){return this.iL(f)[1]},rha(){return this.iY()}};
{const f=self.B;self.tK=function(){return[f.H.kh,f.H.Text,f.H.Jf,f.H.kh.ua.FM,f.H.Xa.wf.h3,f.H.Xa.jd.replace,f.H.Xa.jd.trim,f.H.kh.jd.Text,f.H.Xa.ua.YX,f.H.Xa.jd.vda,f.H.Xa.jd.uda,f.H.Xa.jd.Lca,f.H.Xa.ua.ZV,f.H.Xa.jd.Cda,f.H.Xa.wf.kV,f.H.Xa.ua.YK,f.H.Xa.jd.find,f.H.Xa.jd.wca,f.H.Text.wf.Aq,f.H.Xa.ua.BM,f.H.kh.wf.n2,f.H.Xa.jd.Wca,f.H.Xa.jd.Xca,f.H.Xa.wf.KE,f.H.Jf.wf.ih,f.H.Text.jd.Y3,f.H.Text.jd.x3]};self.GV=[{oka:0},{Text:0},{lka:0},{mka:0},{wha:0},{mga:0},{Bea:0},{rka:0},{ska:0},{tla:0}]}
{function f(a,c){return"string"===typeof a||"string"===typeof c?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof c?(Math.round(1E10*c)/1E10).toString():c):a&&c?1:0}self.FV=[()=>0,a=>{const c=a.xc(0).Ke(),e=a.xc(1).Ke(),b=a.xc(2);return()=>c(e(b.JC()),"\t",";")},()=>"",a=>{const c=a.xc(0).Ke(),e=a.xc(1).rh;return()=>c(e.Vb(),"\n")-1},a=>{const c=a.xc(0).Ke(),e=a.xc(1).Ke(),b=a.xc(2).Ke(),h=a.xc(3).rh,m=a.xc(4).Ke();return()=>c(e(b(h.Vb(),m(),"\n"),3,";"))},a=>{const c=
a.xc(0).Ke(),e=a.xc(1).rh;return()=>c(e.Vb())},()=>"FOUND!",()=>1E3,()=>1,a=>{const c=a.xc(0).Ke(),e=a.xc(1).rh;return()=>c(e.Vb(),"/")},()=>-1,a=>{const c=a.xc(0).Ke(),e=a.xc(1).Ke(),b=a.xc(2).rh;return()=>c(e(b.Vb(),0,"/"))},a=>{const c=a.xc(0).rh,e=a.xc(1).rh,b=a.xc(2).rh;return()=>f(f(f(c.Vb(),"\n"),Math.round(e.Vb()/500500*1E4)/100)+"\n",b.Vb())},()=>"background",()=>"#222",()=>"color",()=>"#888",()=>"border",()=>"1px #888",a=>{const c=a.xc(0).Ke(),e=a.xc(1).Ke();return()=>c()+" - "+e()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},
a=>{const c=a.xc(0),e=a.xc(1);return()=>c.JC()+e.JC()/2+2}]};
