// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function a(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=C*E+k*I;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function b(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function e(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],P=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*P+D*S;f[3]=C*P+E*S;f[4]=x*W+D*t+I;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function h(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*I+V*P;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*I+ca*P;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*I+t*P;f[8]=oa*D+la*K+
t*k;return f}function g(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*P+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*P+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*P+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*P+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var P=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=P+E;f[2]=x-K;f[3]=0;f[4]=P-E;f[5]=1-(k+D);f[6]=C+I;f[7]=0;f[8]=x+K;f[9]=C-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,P=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(P-C)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(P-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(P+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(P+C)/E,f[2]=.25*E);return f}function r(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function Q(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*I;f[1]=C*t+k*I+D*E-x*K;f[2]=D*t+k*K+x*I-C*E;f[3]=k*t-x*E-C*I-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var P=C*I+D*K+E*N+k*t;0>P&&(P=-P,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-P){var S=Math.acos(P);var W=Math.sin(S);P=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else P=1-x;f[0]=P*C+x*
I;f[1]=P*D+x*K;f[2]=P*E+x*N;f[3]=P*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+C*I-t*E;f[5]=C*k+t*D-x*I;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],P=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*P+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*P+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*P+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;f[7]=E*P-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Hfa(){return qa},Nka:Ma,Gfa:"zyx",Kra:function(f){qa=f},Tra:function(f){return f*Mb},fd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Ow:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Bf:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},YV:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},Is:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},RU:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},zK:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},AC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},DK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},km:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},CK:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Yia:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},lm:b,qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},fd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},SK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},TK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Kn:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Ow:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Bf:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},Is:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-C*I;f[3]=t*I;f[4]=(C*k-D*E)*I;f[5]=(x*E-t*k)*I;return f},zK:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=C*K+E*t+k;return f},AC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},DK:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},EK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},km:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},CK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},lm:c,SK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
TK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},fd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],P=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-P)<=1E-6*Math.max(1,Math.abs(D),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Kn:e,sub:c}),Qb=Object.freeze({__proto__:null,create:h,hea:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},na:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Bf:function(f,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,C,D,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Ow:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},YV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},Is:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var P=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*P+x*S+C*W;if(!V)return null;V=1/V;f[0]=P*V;f[1]=(-k*x+C*N)*V;f[2]=(I*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-I*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},RU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=C*N-x*k;f[2]=x*I-C*E;f[3]=I*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},zK:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:m,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*I+P;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=P;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},EK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},AC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},DK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Cpa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},iea:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=P-D;f[2]=N-E;f[5]=P+D;f[8]=1-t-x;return f},Mqa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea;P=P*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*P-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*P-E*W-N*Ba)*V;f[2]=(E*S-I*P+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*P+D*Ba)*V;f[5]=(x*P-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},CV:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},km:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},CK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},lm:g,SK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},TK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},fd:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var P=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-P)<=1E-6*Math.max(1,Math.abs(t),Math.abs(P))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Kn:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Bf:function(f,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=P;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=P;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Ow:l,YV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},Is:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(P*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-P*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(P*sa-S*la+W*oa)*Da;return f},RU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=P*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-P*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=P*sa-S*la+W*oa;return f},zK:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],P=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*P,oa=I*W-N*P,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(P*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var P=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=P;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+P*C+ea*t+k[13];f[14]=I*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var P=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=P*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=P*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=P*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},cL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+P*x;f[7]=I*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=P*t-E*x;f[11]=S*t-I*x;return f},dL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-P*x;f[3]=I*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+P*t;f[11]=I*x+S*t;return f},eL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],P=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+P*x;f[3]=I*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=P*t-E*x;f[7]=S*t-I*x;return f},EK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},DK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},AC:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Ipa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Jpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Kpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},jea:p,Epa:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],P=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+P*x+K*D-N*C)/S,t[1]=2*(K*E+P*C+N*x-I*D)/S,t[2]=2*(N*E+P*D+I*C-K*x)/S):(t[0]=2*(I*E+P*x+K*D-N*C),t[1]=2*(K*E+P*C+N*x-I*D),t[2]=2*(N*E+P*D+I*C-K*x));p(f,k,t);return f},mea:q,Vpa:u,Upa:w,npa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],P=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(P,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;P*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(P-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(P+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(P-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(P+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},Fpa:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,P=E+E;k=C*K;var S=C*N;C*=P;var W=D*N;D*=P;E*=P;K*=I;N*=I;I*=P;P=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*P;
f[1]=(S+I)*P;f[2]=(C-N)*P;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Gpa:function(f,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,P=E+E,S=I+I;k=D*N;var W=D*P,V=D*S;D=E*P;E*=S;var ea=I*S;I=K*N;P*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-P;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+P)*S;E=(E-I)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},iea:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=P+D;f[7]=0;f[8]=N+E;f[9]=P-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},kea:function(f,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},Xqa:r,perspective:r,Yqa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},Wqa:function(f,k,t,x){var C=Math.tan(k.Yra*Math.PI/180),D=Math.tan(k.ppa*Math.PI/
180),E=Math.tan(k.Aqa*Math.PI/180);k=Math.tan(k.ura*Math.PI/180);var I=2/(E+k),K=2/(C+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},Uqa:v,Uea:v,Vqa:function(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},Jea:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var P=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-P))return l(f);t=C-N;x=D-x;N=k-P;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;P=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(P,K,E))?(S=1/S,P*=S,K*=S,E*=S):E=K=P=0;I=x*E-N*K;var W=N*P-t*E;var V=t*K-x*P;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=P;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(P*C+K*D+E*k);f[13]=
-(I*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},Qra:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var P=x*x+N*N+t*t;0<P&&(P=1/Math.sqrt(P),x*=P,N*=P,t*=P);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;P=S*S+K*K+E*E;0<P&&(P=1/Math.sqrt(P),S*=P,K*=P,E*=P);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},km:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},CK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},lm:y,SK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},TK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},fd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],P=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(P-Ca)<=1E-6*Math.max(1,Math.abs(P),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Kn:n,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Bf:z,na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},lm:F,multiply:H,em:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},fL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Lw:M,SV:Q,OC:R,xV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,In:Z,yK:X,ae:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},jfa:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},$pa:function(f,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return f},Uoa:function(f,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},nL:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},vfa:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},wfa:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,P=x*I-C*E;t=2*t[3];f[0]=E+K*t+2*(C*P-D*N);f[1]=I+N*t+2*(D*K-x*P);f[2]=k+P*t+2*(x*N-C*K);return f},cL:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},dL:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},eL:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},iW:function(f){f[0]=0;f[1]=0;f[2]=0;return f},km:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},fd:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
Kn:H,eV:J,cV:M,RV:Q,Tw:G,NC:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Bf:va,na:ta,set:ya,add:Na,lm:Sa,multiply:Ta,em:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,fL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Lw:eb,SV:fb,length:Pa,OC:Va,xV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,In:Ya,yK:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],P=k[2];k=k[3];f[0]=N*t-P*K+k*I;f[1]=-(x*t)+
P*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*I)+N*D-P*C;return f},ae:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},nL:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},wfa:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,P=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;f[0]=N*t+x*-E+P*-K-S*-I;f[1]=P*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-P*-E;f[3]=k[3];return f},iW:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},km:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},qj:wb,fd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,Kn:Ta,eV:Ua,cV:eb,RV:fb,Tw:Pa,NC:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,I){kb(f,x,E,I);kb(k,C,D,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=h();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Ow:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Ira:xb,Rpa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Ppa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,cL:zb,dL:Ab,eL:Bb,Woa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,Iea:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},jfa:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},Is:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Uda:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},Dpa:Eb,Bpa:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),P=Math.cos(x);switch(C){case "xyz":f[0]=D*K*P+E*I*N;f[1]=E*I*P-D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P-D*I*N;break;case "xzy":f[0]=D*K*P-E*I*N;f[1]=E*
I*P-D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P+D*I*N;break;case "yxz":f[0]=D*K*P+E*I*N;f[1]=E*I*P-D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P+D*I*N;break;case "yzx":f[0]=D*K*P+E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P-D*I*N;break;case "zxy":f[0]=D*K*P-E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P-D*I*N;break;case "zyx":f[0]=D*K*P-E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P+D*I*N;break;default:throw Error("Unknown angle order "+C);}return f},km:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Bf:va,na:ta,set:ya,add:Na,Kn:yb,scale:Wa,In:Ya,ae:vb,length:Pa,Tw:Pa,OC:Va,NC:Va,normalize:ib,qj:wb,fd:function(f,k){return.999999<=Math.abs(Ya(f,k))},yra:tb,Nra:ub,Hra:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Bf:function(f,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},Hpa:function(f,k,t,x,C,D,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*f-C*t;I[6]=E*x+C*k-D*f;I[7]=-C*f-D*k-E*t;return I},jea:Fb,EK:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},AC:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},hea:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},na:Gb,Ow:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},Tpa:ta,Spa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Lra:ta,Jra:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},mea:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*I);f[1]=2*(x*k+D*I+C*E-t*K);f[2]=2*(C*k+
D*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],P=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*I+C*t-D*K+N;f[5]=E*K+D*I-x*t+P;f[6]=E*t+x*K-C*I+S;f[7]=-x*I-C*K-D*t+k;return f},cL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+
I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},dL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},eL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},wra:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*D-K*C;f[1]=I*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-I*x;f[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*D-K*C;f[5]=I*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-I*x;f[7]=N*t-E*x-I*C-K*D;return f},xra:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*I;f[1]=C*N+k*I+D*E-x*K;f[2]=D*N+k*K+x*I-C*E;f[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*I;f[5]=C*N+k*I+D*E-x*K;f[6]=D*N+k*K+x*I-C*E;f[7]=k*N-x*E-C*I-D*K;return f},vra:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-C*t;f[2]=K*x+N*t+C*I-D*E;f[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*I;f[5]=D*x+k*I+K*E-C*t;f[6]=K*x+k*t+C*I-D*E;f[7]=k*x-C*E-D*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,Kn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},In:Ya,ae:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},Is:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Uda:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Tw:Pa,OC:Va,NC:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var P=x*I+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(I-x*P)/t;f[5]=(K-C*P)/t;f[6]=(N-D*P)/t;f[7]=(k-E*P)/t}return f},km:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},fd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],P=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Bf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},na:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},lm:mb,multiply:nb,em:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},fL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Lw:ob,SV:Qa,length:pb,
OC:qb,xV:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},In:function(f,k){return f[0]*k[0]+f[1]*k[1]},yK:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},ae:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Vra:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Wra:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},vfa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},nL:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},iW:function(f){f[0]=0;f[1]=0;return f},km:function(f){return"vec2("+f[0]+", "+f[1]+")"},qj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},fd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Tw:pb,sub:mb,Kn:nb,eV:Za,
cV:ob,RV:Qa,NC:qb,forEach:gb});d.rj=Nb;d.Eqa=Ob;d.Fqa=Pb;d.Gqa=Qb;d.hm=Rb;d.dra=tb;d.fra=ub;d.csa=gb;d.SC=rb;d.cx=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Moa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.rj={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var Q=0;Q!==A.length;++Q)if((Q+1)%A.length!==J&&Q!==J&&e(m(A,J),m(A,M),m(A,Q+1))&&c(m(A,J),m(A,M),m(A,Q))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,Q);Jb[1]=m(A,Q+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],Q,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=Q=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=h(r[Y],M),ya<Q&&(Q=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&d(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.ara={mpa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},gra:w,gqa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},lra:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},mra:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Dqa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Qw=!1;d.MK=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.kg={}}
{"use strict";const d=self.B;d.WN=class{constructor(a){this.mda=a;this.Ga=new Map;this.u$()}u$(){var a=this.mda;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.v$(b)}v$(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ga.set(e,a)}else this.Ga.set(a,null)}jy(a){return this.Ga.has(a)}Y(a){a=this.Ga.get(a);return"undefined"===typeof a?null:a}};d.IE=new d.WN(location.search);d.nja=
new d.WN(location.hash);d.IE.Y("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={Hea:/linux|openbsd|freebsd|netbsd/i.test(a),Rda:/CrOS/.test(a),TC:/trident|iemobile|msie|tizen/i.test(a),Opa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),WU:/bb10/i.test(a),eea:/edge\//i.test(a),$V:/trident/i.test(a),webkit:/webkit/i.test(a),dfa:/safari\//i.test(a),Qda:/chrome\//i.test(a),Sda:/chromium\//i.test(a),Vda:/crosswalk|xwalk/i.test(a),Oqa:/nwjs/i.test(a),Fda:/amazonwebappplatform/i.test(a),Cfa:/wv\)/.test(a),Gda:/android/i.test(a),
Rea:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.Hea,()=>{e="Linux"});u("isChromeOS",b.Rda,()=>{e="Chrome OS"});u("isAndroid",!b.TC&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.TC&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.TC&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.WU,()=>{e="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!b.eea&&!b.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&b.$V,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.dfa&&!b.Rea&&!b.Qda&&!b.Sda&&!b.Npa&&!b.WU,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.Vda,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.Fda,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===h&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===l&&b.Cfa,()=>l="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.TC&&b.Gda,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.$V,()=>g="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);d.Kc={Cq:e,Ija:c,mc:h,vga:m,eD:parseFloat(m),mx:g,mD:l,wia:n,wE:!n,xia:p,sia:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),nia:"Mac OS X"===e||"iOS"===e,Eia:w,Fia:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),g(w,r,v,!1);throw G;}}function l(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.w1=u}"use strict";
{const d=self.w1,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function h(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.ia=l;b.set(this,new Map)}yu(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async MS(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async iU(l,n){n=await m(n);b.get(this).set(l,n)}dU(l){b.get(this).delete(l)}mS(){b.get(this).clear()}tT(){return Array.from(b.get(this).keys())}async getItem(l,n){h(n);if(e)return await this.MS(l);let p;try{p=await this.ia.get(l)}catch(q){this.yu(q);if(e)return await this.MS(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){h(p);"undefined"===
typeof n&&(n=null);if(e)await this.iU(l,n);else try{await this.ia.set(l,n)}catch(q){if(this.yu(q),e)await this.iU(l,n);else throw q;}}async removeItem(l,n){h(n);if(e)this.dU(l);else try{await this.ia.delete(l)}catch(p){this.yu(p),e?this.dU(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){h(l);if(e)this.mS();else try{await this.ia.clear()}catch(n){this.yu(n),e?this.mS():console.error("Error clearing storage: ",n)}}async keys(l){h(l);if(e)return this.tT();l=[];try{l=await this.ia.keys()}catch(n){this.yu(n);
if(e)return this.tT();console.error("Error getting storage keys: ",n)}return l}ready(l){h(l);return e?Promise.resolve(!0):this.ia.ready()}xK(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.B;d.ub={};d.ub.qoa=(()=>{try{if("Safari"===d.Kc.mc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.ub.iha="undefined"!==typeof HTMLDialogElement;d.ub.Xka=!!self.requestIdleCallback;d.ub.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Kc.mc;d.ub.ImageBitmapOptions=!1;d.ub.ny=!1;if(d.ub.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{d.ub.ImageBitmapOptions=!0}).catch(()=>{d.ub.ImageBitmapOptions=!1})}catch(a){d.ub.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{d.ub.ny=10===a.width&&10===a.height}).catch(()=>{d.ub.ny=!1})}catch(a){d.ub.ny=!1}}d.ub.Bga=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Kc.mc);d.ub.gka=!(!navigator.permissions||!navigator.permissions.query);d.ub.VN="undefined"!==typeof Proxy;
d.ub.kha="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.ub.ox="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.ub.wha="function"===typeof fetch;d.ub.ika=!!(self.isSecureContext&&"Opera"!==d.Kc.mc&&navigator.storage&&navigator.storage.persist);d.ub.xna=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Kc.Cq)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.ub.Fha=fc;d.ub.bia="undefined"!==typeof self.ImageDecoder;d.ub.roa=!!self.VideoEncoder;d.ub.Dja=!!self.showOpenFilePicker;d.ub.Eja=!(!navigator.fonts||!navigator.fonts.query);d.ub.goa=!!navigator.userActivation}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Ys(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,h)=>{0<e&&Array.isArray(h)?Array.prototype.push.apply(c,a(h,e-1)):c.push(h);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.$d||(Array.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.$d||(String.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.Jx())}}
{"use strict";const d=self.B,a=self.kg;d.ym=function(e){return"number"===typeof e};d.Lf=function(e){return d.ym(e)&&isFinite(e)};d.Nf=function(e){if(!d.ym(e))throw new TypeError("expected number");};d.fO=function(){};d.sla=function(e,c,h){if(!d.ym(e)||isNaN(e)||c>e||h<e)throw new RangeError("number outside of range");};d.ela=function(...e){for(let c of e);};d.xi=function(e){if(!d.Lf(e))throw new TypeError("expected finite number");};d.cO=function(){};d.bla=function(...e){for(let c of e);};d.pi=function(e){return"string"===
typeof e};d.jd=function(e){if(!d.pi(e))throw new TypeError("expected string");};d.hO=function(){};d.gla=function(...e){for(let c of e);};d.mN=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Fla=function(e){if(!d.mN(e))throw new TypeError("expected simple object");};d.Cla=function(e){if(!d.ee(e)&&!d.mN(e))throw new TypeError("expected simple object");};d.lN=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.aO=function(e){if(!d.lN(e))throw new TypeError("expected object");
};d.gO=function(){};d.fla=function(...e){for(let c of e);};d.nE=function(e){return d.vm(e,Blob)&&"string"===typeof e.name};d.qla=function(e){if(!d.nE(e))throw new TypeError("expected file");};d.Ala=function(){};d.lo=function(e){return Array.isArray(e)};d.OE=function(e){if(!d.lo(e))throw new TypeError("expected array");};d.bO=function(){};d.ala=function(...e){for(let c of e);};d.Z0=function(e){return d.lo(e)?e.length?d.lo(e[0])?!0:!1:!0:!1};d.$ka=function(e){if(!d.Z0(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.lo(c))throw new TypeError("expected 2d array");};d.tla=function(){};d.oE=function(e){return"function"===typeof e};d.Vj=function(e,c){if(!d.oE(e))throw new TypeError("expected function");if(!d.ee(c)&&e!==c)throw new TypeError("expected same function reference");};d.dO=function(){};d.cla=function(...e){for(let c of e);};d.ila=function(e,...c){if(!d.oE(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!d.ee(h)&&
e===h)return;throw new TypeError("expected same function reference");};d.ula=function(...e){if(!d.ee(e))for(let c of e);};d.vm=function(e,c){return e instanceof c};d.jN=function(e,...c){for(let h of c)if(d.vm(e,h))return!0;return!1};d.PE=function(e,c){if(!d.vm(e,c))throw new TypeError("unexpected type");};d.eO=function(){};d.dla=function(e,...c){for(let h of c);};d.jla=function(e,...c){if(!d.jN(e,...c))throw new TypeError("unexpected type");};d.kla=function(e,...c){if(!d.ee(e)&&!d.jN(e,...c))throw new TypeError("unexpected type");
};d.oia=function(e,c){for(let h of e)if(!d.vm(h,c))return!1;return!0};d.pia=function(e){for(let c of e)if(!d.Lf(c))return!1;return!0};d.lla=function(e){for(let c of e);};d.vla=function(e){if(!d.ee(e))for(let c of e);};d.mla=function(e){for(let c of e);};d.wla=function(e){if(!d.ee(e))for(let c of e);};d.tia=function(e,c){return d.ee(e)||!d.pi(e.nodeName)?!1:!c||d.gm(e.nodeName,c)};d.nla=function(e,c){if(d.ee(e)||!d.pi(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.gm(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.xla=function(){};d.qE=function(e,c){return d.ee(e)||!d.pi(e.tagName)?!1:!c||d.gm(e.tagName,c)};d.rla=function(e,c){if(d.ee(e)||!d.pi(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.gm(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Bla=function(){};d.dN=function(e){return d.qE(e,"img")||d.qE(e,"canvas")||d.qE(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.ola=function(e){if(!d.dN(e))throw new TypeError("expected drawable");
};d.yla=function(){};d.eN=function(e){return e instanceof ImageData?!0:d.dN(e)};d.pla=function(e){if(!d.eN(e))throw new TypeError("expected drawable or image data");};d.zla=function(e){if(!d.ee(e)&&!d.eN(e))throw new TypeError("expected drawable or image data");};d.r1=function(e){return"string"===typeof e||e instanceof d.eE||e instanceof d.nm};d.Gla=function(e){if(!d.r1(e))throw new TypeError("expected string-like");};d.Dla=function(){};d.hla=function(...e){for(let c of e);};d.Ela=function(){throw Error("must be overridden");
};d.Hja=function(){throw Error("not yet implemented");};d.via=function(e,...c){if("undefined"===typeof e)return!1;for(let h of c){if("undefined"===typeof e[h])return!1;e=e[h]}return!0};d.ee=function(e){return"undefined"===typeof e||null===e};d.hga=function(e){let c=e[0].constructor;for(let h of e)if(h.constructor!==c)return!1;return c};d.iga=function(e,c){for(let h of e)if(!(h instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.Wia=function(e){return d.vm(e,b)};d.Hla=function(){};
d.poa=function(e){d.J5(e,b)};d.ooa=function(e,...c){if(!d.I5(e,...c))throw new TypeError("unexpected type");};d.I5=function(e,...c){for(const h of c)if(d.lP(e,h))return!0;return!1};d.J5=function(e,c){if(!d.lP(e,c))throw new TypeError("unexpected type");};d.lP=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.Nf=d.Nf;a.fO=d.fO;a.xi=d.xi;a.cO=d.cO;a.jd=d.jd;a.hO=d.hO;a.aO=d.aO;a.gO=d.gO;a.OE=d.OE;a.bO=d.bO;a.Vj=d.Vj;a.dO=d.dO;a.PE=d.PE;a.eO=d.eO;a.ee=
d.ee}
{"use strict";const d=self.B,a=new Map;d.Oka=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;d.tna=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,VU:0,rK:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.VU.toPrecision(3)} :: calls => ${this.rK}`}})};d.mha=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.VU=u.total/u.rK;u.rK++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.Jx=function(){return Error().stack};d.fha=function(){debugger};d.bpa=function(u,w){return u&&u instanceof w?u:null};d.Mk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.ym(u)?"<number>":d.pi(u)?"<string>":d.lo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.oE(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.CC=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,h=new WeakMap,m=new WeakMap;d.gq={};const g=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",d.Jx())}d.gq.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||l(`Accessed missing property '${w}' from defended object '${d.Mk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&l(`Accessed property '${w}' on a released object '${d.Mk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.gq.set=function(u,w,r){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${d.Mk(u)}'`);{var v=d.CC(u[w]);
let y=d.CC(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${d.CC(u[w])}' property '${w}' to type '${d.CC(r)}' on defended object '${d.Mk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${d.Mk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.gq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.Mk(u)}'`);};d.gq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.Mk(u)}'`);};d.gq.rpa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.Mk(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.Mk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ea=class{constructor(){if(d.MK&&d.ub.VN){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.gq);e.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.Xda=function(u){if(d.MK&&d.ub.VN&&u instanceof d.ea){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.Qw?Object.seal(u):u};d.j=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.MK){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.Fn(v,[...y]);v.length&&console.warn(`[Defence] '${d.Mk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.Xda(r)};d.A=function(u){(u=h.get(u))&&m.set(u,d.Jx())};d.az=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;d.fka=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};d.Lea=function(h,m,g,l){return(h-m)*(l-0)/(g-m)};d.normalize=function(h,m,g){return(h-m)/(g-m)};d.da=function(h,m,g){return h<m?m:h>g?g:h};d.re=function(h){h%=a;0>h&&(h+=a);return h};d.yb=function(h){return h*b};d.ai=function(h){return h*e};d.Es=function(h,m,g,l){return Math.hypot(g-h,l-m)};d.dV=function(h,
m,g,l){h=g-h;m=l-m;return h*h+m*m};d.pK=function(h,m,g,l){return Math.atan2(l-m,g-h)};d.Ds=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};d.oK=function(h,m,g){let l=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>g?0<n*p-l*q?d.re(h+g):d.re(h-g):d.re(m)};d.xf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};d.nK=function(h,m,g,l=0){let n=d.Ds(h,m);l*=a;return d.xf(m,
h)?d.re(h+(n+l)*g):d.re(h-(n+l)*g)};d.Ida=function(h,m,g,l=0){const n=d.Ds(h,m);l*=a;return d.xf(m,h)?d.re(h+(n+l)*g):d.re((a-n+l)*g)};d.Hda=function(h,m,g,l=0){const n=d.Ds(h,m);l*=a;return d.xf(m,h)?d.re((-a+n-l)*g):d.re(h-(n+l)*g)};d.ae=function(h,m,g){return h+g*(m-h)};d.QC=function(h,m,g){return h===m?0:(g-h)/(m-h)};d.$ea=function(h,m,g,l){return d.ae(0,l,d.QC(h,m,g))};d.KC=function(h,m,g,l){return d.ae(d.ae(h,m,l),d.ae(m,g,l),l)};d.bV=function(h,m,g,l,n){return d.ae(d.KC(h,m,g,n),d.KC(m,g,l,
n),n)};d.aV=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};d.Zh=function(h){return 0<h&&0===(h-1&h)};d.IC=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};d.zra=function(h,m){return Math.round(h*m)/m};d.ypa=function(h,m){return Math.floor(h*m)/m};d.IV=function(h){return Math.round(1E6*h)/1E6};d.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};d.O2=function(h,m,g){return d.da(h,0,255)|d.da(m,
0,255)<<8|d.da(g,0,255)<<16};d.Fy=function(h,m,g,l){h=d.da(Math.floor(1024*h),-8192,8191);m=d.da(Math.floor(1024*m),-8192,8191);g=d.da(Math.floor(1024*g),-8192,8191);l=d.da(Math.floor(1023*l),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+l)};d.QN=function(h,m,g){return d.Fy(h,m,g,1)};d.TD=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};d.ND=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};d.CD=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};d.rZ=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};d.pea=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Qpa=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let l=
h/g[0]*g[1];if(1>Math.abs(m-l))return g.slice(0);l=h/g[1]*g[0];if(1>Math.abs(m-l))return[g[1],g[0]]}g=d.pea(h,m);return[h/g,m/g]};d.Gra=function(h,m,g,l,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-l;h=g-h;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};d.im=function(h,m,g,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-l;h=g-h;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};d.LC=function(h,m,g,l,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l),r=n.wb,v=n.xb,y=n.kc,A=n.lc,G=n.dc,z=n.ec,F=n.ac;n=n.cc;return d.im(h,m,g,l,p,q,u,w,r,v,y,A)||d.im(h,m,g,l,p,q,u,w,y,A,G,z)||d.im(h,m,g,l,p,q,u,w,G,z,F,n)||d.im(h,m,g,l,p,q,u,w,F,n,r,v)};d.Fra=function(h,m,g,l,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.im(h,m,g,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.im(h,m,g,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.Zea=function(h,m,g,l,n,p,q,u){g-=h;p=u-p;const w=g*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-h)+g*(u-m))/w;return 0<l&&1.000001>l?(p*(q-h)+(n-q)*(u-m))/w:2};d.Zw=function(h,m,g,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.Zea(h,m,g,l,n-r,p-w,q+r,u+w)};d.Aea=function(h,m,g,l,n,p,q,u){n-=
g;p-=l;q-=g;u-=l;h-=g;g=m-l;m=n*n+p*p;l=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};d.zfa=function(h,m,g,l,n,p,q,u){n-=g;p-=l;q-=g;u-=l;h-=g;const w=m-l;m=n*n+p*p;l=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-l*l;u=(g*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};d.yfa=function(h,m,g,l,n,p,q,u,w){return[h*l+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Hha=function(){return b};d.DD=function(){if(!a)return"";const l=a.location;return d.u_(l.origin+l.pathname)+b};d.u_=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Lha=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.SZ=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Px=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.U1=function(l){return l.replace(/\\/g,"/")};d.zia=function(l,n){return n===(l?d.SZ(l).slice(1):"")};d.xha=function(l,n){let p,q;d.nE(l)&&(p=d.Px(l.name));d.pi(l)&&(p=
d.Px(l));d.nE(n)&&(q=d.Px(n.name));d.pi(n)&&(q=d.Px(n));return p===q};d.dka=function(l){l=d.U1(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,Soa:u,name:l,root:n,ext:w,Lpa:n+q+u}};d.zF=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.Pra=function(l){try{l()}catch(n){d.Qw&&console.warn("Swallowed exception: ",n)}};d.Lqa=function(){};d.gm=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.spa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Afa=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.Se=function(l,n){l.length=n};d.D=function(l){l&&0!==l.length&&d.Se(l,0)};d.Tda=function(l){if(l){for(let n=0;n<l.length;n++)d.Se(l[n],0);d.Se(l,0)}};d.yC=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.HV=function(l){var n=4;const p=l.length;n<p?d.Se(l,n):n>p&&d.yC(l,n,"0")};d.Hc=function(l,n){d.D(l);d.Fn(l,n)};d.Fn=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.Lda=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.Se(l,p)}};d.Lk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.Roa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.Kda=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}d.Se(l,q);return p};d.hg=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}d.Se(l,q);return p-q};d.xea=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.bsa=function(l,n){if(!d.xea(l,n))throw new RangeError("array index out of bounds");};d.wK=function(l){return l.slice()};d.Yda=function(l,n){let p=[];for(let q of l)if(d.lN(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.lo(q)?p.push(d.Yda(q,n)):p.push(q);return p};d.cpa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.Hqa=function(l,n){return new Set([...l,...n])};d.Iqa=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.Zpa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.b3=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];d.Xfa=function(l){e.push(l)};d.Jha=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=h.get(l);h.delete(l);n&&n(performance.now())};d.NE=function(l){const n=c++;h.set(n,l);m.port1.postMessage(n);
return n};d.dX=function(l){h.delete(l)};d.V2=d.NE;d.G5=function(){return new Promise(l=>d.V2(l))};const g=new Set;d.Zka=function(l){const n=self.requestAnimationFrame(async p=>{await d.G5();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};d.zga=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.B;d.kE=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.xE=function(a){return!d.kE(a)};d.o5=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Hx=function(a){return fetch(a,void 0).then(b=>{d.o5(b);return b})};d.$s=function(a){return d.Hx(a).then(b=>b.text())};d.cM=function(a){return d.Hx(a).then(b=>b.json())};d.Pk=function(a){return d.Hx(a).then(b=>b.blob())};d.Zs=function(a){return d.Hx(a).then(b=>
b.arrayBuffer())};d.iZ=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=h=>e(h);c.src=a})};d.TW=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.vL=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.sga=function(a){return d.vL(a).then(b=>
JSON.parse(b))};d.UW=async function(a){a=URL.createObjectURL(a);try{const b=await d.iZ(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};d.eh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.ox=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.da(e,0,1);return a.toBlob?new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?
a.convertToBlob({type:b,quality:e}):d.Pn(()=>d.BL(a,b,e))};d.BL=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.da(e,0,1);return d.KX(a.toDataURL(b,e))};d.KX=function(a){a=d.P2(a);return d.SW(a.data,a.Mea)};d.P2=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=b[2];e="base64"===b[1]||"base64"===c?atob(e):
decodeURIComponent(e);return{Mea:a,data:e}};d.SW=function(a,b){var e=a.length;let c=e>>2,h=new Uint8Array(e),m=new Uint32Array(h.buffer,0,c),g,l;for(l=g=0;g<c;++g)m[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)h[l]=a.charCodeAt(l),++l;return b?new Blob([h],{type:b}):new Blob([h])};d.WL=function(a,b,e){const c=d.eh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return d.ox(c,b,e)};d.aia=function(a,b,e){const c=d.eh(a.width,a.height);c.getContext("2d").putImageData(a,
0,0);return d.BL(c,b,e)};d.$ha=function(a,b,e){if(d.ub.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>d.WL(c,b,e));if(d.ub.ImageBitmap)return createImageBitmap(a).then(c=>d.WL(c,b,e));{const c=d.eh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.ox(c,b,e)}};d.yX=function(a,b){a.clear();for(const e of b)a.add(e)};d.sja=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=c;return b};d.Jja=function(a,b){b.clear();for(const [e,
c]of Object.entries(a))b.set(e,c)};d.wF=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(b))c[h]=e(m);return c}}return b};d.zD=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(h=>c(h)));if("map"===e._c3type_)return new Map(e.data.map(h=>[h[0],c(h[1])]));
{const h=Object.create(null);for(const [m,g]of Object.entries(e))h[m]=c(g);return h}}return e};d.YW=function(e){let c="",h=!1;for(const m of e)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};d.xm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.L1=function(e){const c=[];for(let h=0;h<e;++h)c.push(0);return c}}
{"use strict";const d=self.B;d.$a=class{constructor(a,b,e,c){this.Sa=this.Ta=this.Ua=this.Ra=0;a instanceof d.$a?this.set(a):this.Mn(a||0,b||0,e||0,c||0)}Ps(a,b,e){this.Ra=+a;this.Ua=+b;this.Ta=+e;this.da()}Mn(a,b,e,c){this.Ra=+a;this.Ua=+b;this.Ta=+e;this.Sa=+c;this.da()}set(a){this.Ra=a.Ra;this.Ua=a.Ua;this.Ta=a.Ta;this.Sa=a.Sa;return this}na(a){return this.set(a)}add(a){this.Ra+=a.Ra;this.Ua+=a.Ua;this.Ta+=a.Ta;this.Sa+=a.Sa;this.da()}QU(a,b,e){this.Ra+=+a;this.Ua+=+b;this.Ta+=+e;this.Sa+=0;this.da()}oj(a){this.Ra=
a.Ra;this.Ua=a.Ua;this.Ta=a.Ta}OV(a){this.Ra=d.da(+a,0,1)}hfa(a){this.Ua=d.da(+a,0,1)}efa(a){this.Ta=d.da(+a,0,1)}Ns(a){this.Sa=d.da(+a,0,1)}clone(){return d.j(d.$a,this.Ra,this.Ua,this.Ta,this.Sa)}toArray(){return[this.Ra,this.Ua,this.Ta,this.Sa]}bh(a,b){a[b++]=this.Ra;a[b++]=this.Ua;a[b++]=this.Ta;a[b]=this.Sa}fd(a){return this.Ra===a.Ra&&this.Ua===a.Ua&&this.Ta===a.Ta&&this.Sa===a.Sa}fm(a){return this.Ra===a.Ra&&this.Ua===a.Ua&&this.Ta===a.Ta}xC(a,b,e,c){return this.Ra===a&&this.Ua===b&&this.Ta===
e&&this.Sa===c}multiply(a){this.Ra*=a.Ra;this.Ua*=a.Ua;this.Ta*=a.Ta;this.Sa*=a.Sa}aL(){this.Ra*=this.Sa;this.Ua*=this.Sa;this.Ta*=this.Sa}da(){this.Ra=d.da(this.Ra,0,1);this.Ua=d.da(this.Ua,0,1);this.Ta=d.da(this.Ta,0,1);this.Sa=d.da(this.Sa,0,1);return this}Os(a){this.Ra=d.TD(a);this.Ua=d.ND(a);this.Ta=d.CD(a);this.Sa=d.rZ(a)}lea(){return`rgb(${100*(d.Lf(void 0)?NaN:this.Ra)}%, ${100*(d.Lf(void 0)?NaN:this.Ua)}%, ${100*(d.Lf(void 0)?NaN:this.Ta)}%)`}zV(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.OV(a);isFinite(e)&&this.hfa(e);isFinite(b)&&this.efa(b);this.Ns(1)}}}toJSON(){return[this.Ra,this.Ua,this.Ta,this.Sa]}jm(a){!Array.isArray(a)||3>a.length||(this.Ra=a[0],this.Ua=a[1],this.Ta=a[2],this.Sa=4<=a.length?a[3]:1)}set r(a){this.OV(a)}get r(){return this.Ra}set Xp(a){this.Ns(a)}get Xp(){return this.Sa}static sD(a,b){return d.da(Math.max(a,
b)-Math.min(a,b),0,1)}};d.$a.voa=Object.freeze(d.j(d.$a,1,1,1,1));d.$a.rga=Object.freeze(d.j(d.$a,0,0,0,1));d.$a.Wna=Object.freeze(d.j(d.$a,0,0,0,0))}
{"use strict";const d=self.B;d.iu=class{constructor(a,b){this.M=this.P=0;a instanceof d.iu?this.na(a):this.set(a||0,b||0)}set(a,b){this.P=+a;this.M=+b}na(a){this.P=a.P;this.M=a.M}fd(a){return this.P===a.P&&this.M===a.M}toArray(){return[this.P,this.M]}bh(a,b){a[b++]=this.P;a[b]=this.M}offset(a,b){this.P+=+a;this.M+=+b}scale(a,b){this.P*=a;this.M*=b}em(a,b){this.P/=a;this.M/=b}round(){this.P=Math.round(this.P);this.M=Math.round(this.M)}floor(){this.P=Math.floor(this.P);this.M=Math.floor(this.M)}ceil(){this.P=
Math.ceil(this.P);this.M=Math.ceil(this.M)}angle(){return d.pK(0,0,this.P,this.M)}Gea(){return this.P*this.P+this.M*this.M}length(){return Math.sqrt(this.Gea())}cfa(a,b){const e=this.P*b-this.M*a;this.M=this.M*b+this.P*a;this.P=e}rotate(a){0!==a&&this.cfa(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.P+=Math.cos(a)*b,this.M+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.P/=a,this.M/=a)}da(a,b){this.P=d.da(this.P,a,b);this.M=d.da(this.M,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,e,c){this.Z=this.ca=this.O=this.V=0;a instanceof d.Rect?this.na(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.V=+a;this.O=+b;this.ca=+e;this.Z=+c}ah(a,b,e,c){a=+a;b=+b;this.V=a;this.O=b;this.ca=a+ +e;this.Z=b+ +c}na(a){this.V=+a.V;this.O=+a.O;this.ca=+a.ca;this.Z=+a.Z}clone(){return new d.Rect(this.V,this.O,this.ca,this.Z)}fd(a){return this.V===a.V&&this.O===a.O&&this.ca===a.ca&&this.Z===a.Z}fea(a,b,e,c){return this.V===a&&this.O===b&&
this.width()===e&&this.height()===c}toArray(){return[this.V,this.O,this.ca,this.Z]}rfa(){new DOMRect(this.V,this.O,this.width(),this.height())}bh(a,b){a[b++]=this.V;a[b++]=this.O;a[b++]=this.ca;a[b]=this.Z}Dfa(a,b){a[b++]=this.V;a[b++]=this.O;a[b++]=this.ca;a[b++]=this.O;a[b++]=this.ca;a[b++]=this.Z;a[b++]=this.V;a[b]=this.Z}width(){return this.ca-this.V}height(){return this.Z-this.O}Ls(){return(this.V+this.ca)/2}Ms(){return(this.O+this.Z)/2}offset(a,b){a=+a;b=+b;this.V+=a;this.O+=b;this.ca+=a;this.Z+=
b}offsetLeft(a){this.V+=+a}offsetTop(a){this.O+=+a}Tea(a){this.ca+=+a}Sea(a){this.Z+=+a}DC(a,b){a=+a;b=+b;this.V-=a;this.O-=b;this.ca+=a;this.Z+=b}multiply(a,b){this.V*=a;this.O*=b;this.ca*=a;this.Z*=b}em(a,b){this.V/=a;this.O/=b;this.ca/=a;this.Z/=b}Jn(){this.O=1-this.O;this.Z=1-this.Z}ofa(){const a=this.V;this.V=this.ca;this.ca=a}pfa(){const a=this.O;this.O=this.Z;this.Z=a}round(){this.V=Math.round(this.V);this.O=Math.round(this.O);this.ca=Math.round(this.ca);this.Z=Math.round(this.Z)}JV(){this.V=
Math.floor(this.V);this.O=Math.floor(this.O);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}floor(){this.V=Math.floor(this.V);this.O=Math.floor(this.O);this.ca=Math.floor(this.ca);this.Z=Math.floor(this.Z)}ceil(){this.V=Math.ceil(this.V);this.O=Math.ceil(this.O);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}da(a,b,e,c){this.V<a&&(this.V=+a);this.O<b&&(this.O=+b);this.ca>e&&(this.ca=+e);this.Z>c&&(this.Z=+c)}normalize(){this.V>this.ca&&this.ofa();this.O>this.Z&&this.pfa()}EC(a){return!(a.ca<
this.V||a.Z<this.O||a.V>this.ca||a.O>this.Z)}wea(a,b,e){return!(a.ca+b<this.V||a.Z+e<this.O||a.V+b>this.ca||a.O+e>this.Z)}zf(a,b){return a>=this.V&&a<=this.ca&&b>=this.O&&b<=this.Z}}}
{"use strict";const d=self.B;d.td=class{constructor(a,b,e,c,h,m,g,l){this.cc=this.ac=this.ec=this.dc=this.lc=this.kc=this.xb=this.wb=0;a instanceof d.td?this.na(a):this.set(a||0,b||0,e||0,c||0,h||0,m||0,g||0,l||0)}set(a,b,e,c,h,m,g,l){this.wb=+a;this.xb=+b;this.kc=+e;this.lc=+c;this.dc=+h;this.ec=+m;this.ac=+g;this.cc=+l}PV(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}na(a){this.wb=a.wb;this.xb=a.xb;this.kc=a.kc;this.lc=a.lc;this.dc=a.dc;this.ec=a.ec;this.ac=a.ac;this.cc=a.cc}fd(a){return this.wb===a.wb&&this.xb===
a.xb&&this.kc===a.kc&&this.lc===a.lc&&this.dc===a.dc&&this.ec===a.ec&&this.ac===a.ac&&this.cc===a.cc}toArray(){return[this.wb,this.xb,this.kc,this.lc,this.dc,this.ec,this.ac,this.cc]}bh(a,b){a[b++]=this.wb;a[b++]=this.xb;a[b++]=this.kc;a[b++]=this.lc;a[b++]=this.dc;a[b++]=this.ec;a[b++]=this.ac;a[b]=this.cc}Efa(a,b,e){a[b++]=this.wb;a[b++]=this.xb;a[b++]=e;a[b++]=this.kc;a[b++]=this.lc;a[b++]=e;a[b++]=this.dc;a[b++]=this.ec;a[b++]=e;a[b++]=this.ac;a[b++]=this.cc;a[b]=e}offset(a,b){a=+a;b=+b;this.wb+=
a;this.xb+=b;this.kc+=a;this.lc+=b;this.dc+=a;this.ec+=b;this.ac+=a;this.cc+=b}round(){this.wb=Math.round(this.wb);this.xb=Math.round(this.xb);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc);this.dc=Math.round(this.dc);this.ec=Math.round(this.ec);this.ac=Math.round(this.ac);this.cc=Math.round(this.cc)}floor(){this.wb=Math.floor(this.wb);this.xb=Math.floor(this.xb);this.kc=Math.floor(this.kc);this.lc=Math.floor(this.lc);this.dc=Math.floor(this.dc);this.ec=Math.floor(this.ec);this.ac=Math.floor(this.ac);
this.cc=Math.floor(this.cc)}ceil(){this.wb=Math.ceil(this.wb);this.xb=Math.ceil(this.xb);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc);this.dc=Math.ceil(this.dc);this.ec=Math.ceil(this.ec);this.ac=Math.ceil(this.ac);this.cc=Math.ceil(this.cc)}tj(a){this.wb=a.V;this.xb=a.O;this.kc=a.ca;this.lc=a.O;this.dc=a.ca;this.ec=a.Z;this.ac=a.V;this.cc=a.Z}gfa(a,b){0===b?this.tj(a):this.NV(a,Math.sin(b),Math.cos(b))}NV(a,b,e){const c=a.V*b,h=a.O*b,m=a.ca*b;b*=a.Z;const g=a.V*e,l=a.O*e,n=a.ca*e;a=a.Z*
e;this.wb=g-h;this.xb=l+c;this.kc=n-h;this.lc=l+m;this.dc=n-b;this.ec=a+m;this.ac=g-b;this.cc=a+c}FK(a){a.set(Math.min(this.wb,this.kc,this.dc,this.ac),Math.min(this.xb,this.lc,this.ec,this.cc),Math.max(this.wb,this.kc,this.dc,this.ac),Math.max(this.xb,this.lc,this.ec,this.cc))}zf(a,b){var e=this.kc-this.wb,c=this.lc-this.xb;const h=this.dc-this.wb,m=this.ec-this.xb;a-=this.wb;b-=this.xb;var g=e*e+c*c;let l=e*h+c*m;c=e*a+c*b;const n=h*h+m*m,p=h*a+m*b;let q=1/(g*n-l*l);e=(n*c-l*p)*q;g=(g*p-l*c)*q;
if(0<=e&&0<g&&1>e+g)return!0;e=this.ac-this.wb;c=this.cc-this.xb;g=e*e+c*c;l=e*h+c*m;c=e*a+c*b;q=1/(g*n-l*l);e=(n*c-l*p)*q;g=(g*p-l*c)*q;return 0<=e&&0<g&&1>e+g}Ls(){return(this.wb+this.kc+this.dc+this.ac)/4}Ms(){return(this.xb+this.lc+this.ec+this.cc)/4}IK(a){var b=a.Ls(),e=a.Ms();if(this.zf(b,e))return!0;b=this.Ls();e=this.Ms();if(a.zf(b,e))return!0;b=this.wb;e=this.xb;const c=this.kc,h=this.lc,m=this.dc,g=this.ec,l=this.ac,n=this.cc;return d.LC(b,e,c,h,a)||d.LC(c,h,m,g,a)||d.LC(m,g,l,n,a)||d.LC(l,
n,b,e,a)}bfa(){const a=this.wb,b=this.xb;this.wb=this.kc;this.xb=this.lc;this.kc=this.dc;this.lc=this.ec;this.dc=this.ac;this.ec=this.cc;this.ac=a;this.cc=b}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.j(d.td);d.Un=class extends d.ea{constructor(e,c=!0){super();e||(e=a);this.Hd=Float64Array.from(e);this.Nz=new d.Rect;this.pp=!0;this.Kg=c}A(){}AV(){return this.Hd.length/2}MC(e){this.Hd.length===e.length?this.Hd.set(e):this.Hd=Float64Array.from(e);this.pp=!0}ffa(){this.MC(a)}na(e){this.MC(e.Hd)}gL(){this.pp=!0}Ada(){if(this.pp){var e=this.Hd,c=e[0],h=e[1],m=c,g=h;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],q=e[l+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.Nz.set(c,h,m,g);this.pp=!1}}tj(e){let c=this.Hd;8!==c.length&&(this.Hd=c=new Float64Array(8));c[0]=e.V-NaN;c[1]=e.O-NaN;c[2]=e.ca-NaN;c[3]=e.O-NaN;c[4]=e.ca-NaN;c[5]=e.Z-NaN;c[6]=e.V-NaN;c[7]=e.Z-NaN;this.Nz.na(e);this.Nz.offset(NaN,NaN);this.pp=!1}hL(e,c,h){b.na(e);b.offset(c,h);this.MC(b.toArray());this.pp=!0}transform(e,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.oL(e,c,m,g)}oL(e,c,h,m){const g=this.Hd;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*e,u=
g[p]*c;g[l]=q*m-u*h;g[p]=u*m+q*h}this.pp=!0}offset(e,c){const h=this.Hd;for(let m=0,g=h.length;m<g;m+=2)h[m]+=e,h[m+1]+=c}zf(e,c){const h=this.Hd;if(e===h[0]&&c===h[1])return!0;this.Ada();var m=this.Nz;const g=m.V-110,l=m.O-101,n=m.ca+131;m=m.Z+120;let p,q,u,w,r,v,y,A;g<e?(p=g,u=e):(p=e,u=g);l<c?(q=l,w=c):(q=c,w=l);n<e?(r=n,y=e):(r=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],Q=h[H+1],R=h[F];F=h[F+1];d.im(g,l,e,c,p,u,q,w,M,Q,R,F)&&++G;d.im(n,
m,e,c,r,y,v,A,M,Q,R,F)&&++z}return 1===G%2||1===z%2}Pw(e,c,h){const m=e.Hd,g=this.Hd;if(this.zf(m[0]+c,m[1]+h)||e.zf(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;e=g[n];const q=g[n+1],u=g[l];l=g[l+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.im(e,q,u,l,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}po(){return this.Kg}}}
{"use strict";const d=self.B;d.Mt=class extends d.ea{constructor(a){super();this.mk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}A(){this.pd();this.mk=null}pd(){const a=this.mk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.mk;let h=c.get(a);h||(h=new Map,c.set(a,h));h.set(b,e)}Y(a,b){return(a=this.mk.get(a))?a.get(b):a}jy(a){return(a=this.mk.get(a))?a.has(void 0):!1}Vn(a,b){const e=this.mk,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}UL(a){const b=this.mk,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,h]of b.entries())h.delete(a)&&0===h.size&&b.delete(c)}tm(){let a=0;for(const b of this.mk.values())a+=b.size;return a}*values(){for(const a of this.mk.values())yield*a.values()}*entries(){for(const [a,b]of this.mk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.B;d.bD=class extends d.ea{constructor(){super();this.mn=new Set;this.Kz=[];this.Wv=!1}A(){this.pd()}pd(){this.mn.clear();d.D(this.Kz);this.Wv=!1}Ic(a){this.mn.has(a)||(this.mn.add(a),this.Wv||this.Kz.push(a))}jy(a){return this.mn.has(a)}Vn(a){this.mn.delete(a)&&(this.Wv=!0)}tm(){return this.mn.size}oo(){return 0===this.mn.size}BD(){this.Wv&&(this.C$(),this.Wv=!1);return this.Kz}C$(){const a=this.Kz;d.D(a);for(const b of this.mn)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.Xs=class m{constructor(){}static j1(g){this.HF();return[...a.keys()].includes(g)}static g8(g){const l=h.get(g);if(l)return d.get(l);if(m.j1(g))return d.get(g);if(c.has(g))return c.get(g)}static co(g){this.HF();const l=m.g8(g);return l?l:e.get(g)}static HF(){0===d.size&&(this.zb("default",()=>{}),this.zb("noease",this.T1),this.zb("easeinsine",this.PY),this.zb("easeoutsine",
this.YY),this.zb("easeinoutsine",this.LY),this.zb("easeinelastic",this.AY),this.zb("easeoutelastic",this.TY),this.zb("easeinoutelastic",this.GY),this.zb("easeinback",this.xY),this.zb("easeoutback",this.QY),this.zb("easeinoutback",this.CY),this.zb("easeinbounce",this.XL),this.zb("easeoutbounce",this.uD),this.zb("easeinoutbounce",this.DY),this.zb("easeincubic",this.zY),this.zb("easeoutcubic",this.SY),this.zb("easeinoutcubic",this.FY),this.zb("easeinquad",this.MY),this.zb("easeoutquad",this.VY),this.zb("easeinoutquad",
this.IY),this.zb("easeinquart",this.NY),this.zb("easeoutquart",this.WY),this.zb("easeinoutquart",this.JY),this.zb("easeinquint",this.OY),this.zb("easeoutquint",this.XY),this.zb("easeinoutquint",this.KY),this.zb("easeincirc",this.yY),this.zb("easeoutcirc",this.RY),this.zb("easeinoutcirc",this.EY),this.zb("easeinexpo",this.BY),this.zb("easeoutexpo",this.UY),this.zb("easeinoutexpo",this.HY),this.uP("cubicbezier",this.wY),this.uP("spline",this.ZY))}static zb(g,l){m.BF(g,l,"predefined")}static uP(g,l){m.BF(g,
l,"private")}static nW(g,l){this.HF();m.BF(g,l,"custom",void 0)}static BF(g,l,n,p){switch(n){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static T1(g,l,n,p){return n*g/p+l}static MY(g,l,n,p){return n*(g/=p)*g+l}static VY(g,l,n,p){return-n*(g/=p)*(g-2)+l}static IY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static zY(g,
l,n,p){return n*(g/=p)*g*g+l}static SY(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static FY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static NY(g,l,n,p){return n*(g/=p)*g*g*g+l}static WY(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static JY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static OY(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static XY(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static KY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static PY(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static YY(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static LY(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static BY(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static UY(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static HY(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static yY(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static RY(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static EY(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static AY(g,l,n,p){let q=0,u=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static TY(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(1===(g/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+l}static GY(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(2===(g/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+l}static xY(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static QY(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static CY(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static XL(g,l,n,p){return n-m.uD(p-g,0,n,p)+l}static uD(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static DY(g,l,n,p){return g<p/2?.5*m.XL(2*g,0,n,p)+l:.5*m.uD(2*g-p,0,n,p)+.5*n+l}static wY(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static ZY(g,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-g)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static xZ(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const d=self.B;d.Hka=class{constructor(){this.qT=[]}A(){this.pd();this.qT=null}pd(){d.Tda(this.qT)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.yea=this.bL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.yea)throw Error(`cannot stop async event '${this.type}' propagation`);this.bL=!0}};
{"use strict";const d=self.B;d.Event.N_=class extends d.ea{constructor(a){super();this.qa=a;this.hf=[];this.nr=new Set;this.sf=[];this.Sr=new Set;this.lv=0;this.cs=[]}A(){0<this.lv||(d.D(this.hf),this.nr.clear(),d.D(this.sf),this.Sr.clear(),d.D(this.cs),d.A(this))}sP(a,b){this.IQ()?this.cs.push({WK:"add",Yh:a,capture:b}):b?this.nr.has(a)||(this.hf.push(a),this.nr.add(a)):this.Sr.has(a)||(this.sf.push(a),this.Sr.add(a))}R$(a,b){this.IQ()?this.cs.push({WK:"remove",Yh:a,capture:b}):b?this.nr.has(a)&&
(this.nr.delete(a),d.Lk(this.hf,a)):this.Sr.has(a)&&(this.Sr.delete(a),d.Lk(this.sf,a))}V8(){return!this.hf.length&&!this.sf.length}IQ(){return 0<this.lv}z$(){const a=new Set,b=new Set;for(const e of this.cs)if("add"===e.WK)this.sP(e.Yh,e.capture),e.capture?b.delete(e.Yh):a.delete(e.Yh);else if("remove"===e.WK)e.capture?(this.nr.delete(e.Yh),b.add(e.Yh)):(this.Sr.delete(e.Yh),a.add(e.Yh));else throw Error("invalid op");d.hg(this.sf,a);d.hg(this.hf,b);d.D(this.cs)}S7(a){this.dr();let b=!1;for(let e=
0,c=this.hf.length;e<c;++e)if(this.hf[e](a),a.bL){b=!0;break}if(!b)for(let e=0,c=this.sf.length;e<c&&(this.sf[e](a),!a.bL);++e);this.Yq();return!a.defaultPrevented}U7(a){this.dr();for(let b=0,e=this.hf.length;b<e;++b)this.hf[b](a);for(let b=0,e=this.sf.length;b<e;++b)this.sf[b](a);this.Yq();return!0}dr(){this.lv++}Yq(){this.lv--;0===this.lv&&0<this.cs.length&&this.z$()}Lq(a){a?this.dr():this.Yq()}$P(a){const b=[];this.dr();for(let c=0,h=this.hf.length;c<h;++c){var e=this.hf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,h=this.sf.length;c<h;++c)e=this.sf[c](a),e instanceof Promise&&b.push(e);this.Yq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async P7(a){return await this.$P(a)}async Q7(a){this.dr();for(let e=0,c=this.hf.length;e<c;++e){var b=this.hf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.sf.length;e<c;++e)b=this.sf[e](a),b instanceof Promise&&await b;this.Yq();return!a.defaultPrevented}*R7(a){this.dr();for(let e=0,c=this.hf.length;e<c;++e){var b=
this.hf[e](a);d.xm(b)&&(yield*b)}for(let e=0,c=this.sf.length;e<c;++e)b=this.sf[e](a),d.xm(b)&&(yield*b);this.Yq()}}}
{"use strict";const d=self.B;d.Event.Rb=class extends d.ea{constructor(){super();this.ep=new Map;this.AH=!1}A(){if(this.AH)throw Error("already released");this.jX();this.AH=!0;d.A(this)}az(){return this.AH}jX(){for(let a of this.ep.values())a.A();this.ep.clear()}No(a,b){let e=this.ep.get(a);return e?e:b?(e=d.j(d.Event.N_,a),this.ep.set(a,e),e):null}$D(a){return this.ep.has(a)}addEventListener(a,b,e){this.No(a,!0).sP(b,!!e)}removeEventListener(a,b,e){let c=this.No(a,!1);c&&(c.R$(b,!!e),c.V8()&&this.ep.delete(a))}dispatchEvent(a){const b=
this.No(a.type,!1);return b?a.cancelable?b.S7(a):b.U7(a):!0}async AK(a){const b=this.No(a.type,!1);return b?await b.P7(a):!0}cea(a){const b=this.No(a.type,!1);return b?b.$P(a):!0}async bea(a){const b=this.No(a.type,!1);b&&await b.Q7(a)}dea(a){const b=this.No(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.R7(a)}Lq(a){for(const b of this.ep.values())b.Lq(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function h(n){e=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(b.length){var p=performance.now(),q=0;do{g(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&b.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.Yh()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.IE.jy("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Pn=function(n){let p=null;d.Qw&&(p=d.Jx());return new Promise((q,u)=>{b.push({Yh:n,resolve:q,reject:u,stack:p});l?g(b.pop()):-1===e&&h(16)})};d.Pn.BO=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.Gx=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,h=new Set;function m(){c=e=-1;let g=Date.now();for(let l of h)if(l.t6(g)){let n=l.$o;if(-1===c||n<c)c=n}else h.delete(l);-1!==c&&(e=self.setTimeout(m,Math.max(c-g+100,1E3)))}d.q0=class{constructor(g,l){this.mr=g;this.dC=1E3*l;this.$o=0;this.Eb=!1}bd(){let g=d.Gx();this.$o=g+this.dC;this.Eb||(h.add(this),this.Eb=!0);-1===e?(c=this.$o,e=self.setTimeout(m,this.dC+
100)):this.$o<c&&c>g+1E3&&(self.clearTimeout(e),c=this.$o,e=self.setTimeout(m,this.dC+100))}t6(g){return g>=this.$o?this.mr()?(this.$o=g+this.dC,!0):this.Eb=!1:!0}cX(){this.Eb&&(h.delete(this),this.Eb=!1,0===h.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.cX();this.mr=null}}}
{"use strict";const d=self.B;d.ue=class a{constructor(b){this.Cr=!1;this.BH=b}Cx(){this.Cr||(this.Cr=!0,this.BH&&(this.BH(),this.BH=null))}A(){this.Cx()}static A(b){return new a(()=>b.A())}static gh(b,e,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new d.lD;for(let g of e)b.addEventListener(g,c,h),m.Ic(d.j(d.ue,()=>b.removeEventListener(g,c,h)));return m}b.addEventListener(e,
c,h);return d.j(d.ue,()=>b.removeEventListener(e,c,h))}};d.Fna=class extends d.ue{};d.lD=class extends d.ue{constructor(...a){super();this.jf=new Set;for(let b of a)this.Ic(b)}Ic(...a){if(this.Cr)throw Error("already disposed");for(let b of a)this.jf.add(b)}kh(a){if(this.Cr)throw Error("already disposed");this.jf.delete(a)}Cx(){if(this.Cr)throw Error("already disposed");this.Cr=!0;for(let a of this.jf)a.Cx();this.jf.clear();this.jf=null}A(){this.Cx()}}}
{"use strict";const d=self.B;d.yy=class extends d.ea{constructor(){super();this.ls=this.pw=this.M=this.Qz=0}Ic(a){this.M=+a-this.Qz;this.pw=this.ls+this.M;this.Qz=this.pw-this.ls-this.M;this.ls=this.pw}Y(){return this.ls}bd(){this.ls=this.pw=this.M=this.Qz=0}Set(a){this.pw=this.M=this.Qz=0;this.ls=+a}A(){}}}
{"use strict";const d=self.B,a={KE:function(b){this.ZV=b;this.left=this.right=this.ZV.lb;this.parent=null;this.color=!1;this.key=null},vo:function(b){this.size=0;this.lb=new a.KE(this);this.lb.color=!1;this.root=this.lb;this.root.parent=this.lb;this.compare=b||this.Zda}};xa=a.vo.prototype;xa.Zda=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.vo(this.compare);b.sea(this);return b};xa.clear=function(){this.size=0;this.lb=new a.KE(this);this.lb.color=!1;this.root=this.lb;this.root.parent=
this.lb};xa.Sw=function(b){var e=b.right;b.right=e.left;e.left!=this.lb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.lb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.$w=function(b){var e=b.left;b.left=e.right;e.right!=this.lb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.lb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.Gs=function(b){if(this.contains(b))this.Nw(b).key=b;else{var e=new a.KE(this);e.key=
b;b=this.lb;for(var c=this.root;c!=this.lb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.lb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.lb;e.right=this.lb;e.color=!0;this.tea(e);this.size++}};xa.tea=function(b){for(;b!=this.lb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Sw(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.lb&&this.$w(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.$w(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.lb&&this.Sw(b.parent.parent));this.root.color=!1};xa.aea=function(b){var e=b.left==this.lb||b.right==this.lb?b:this.Nn(b);var c=e.left!=this.lb?e.left:e.right;c.parent=e.parent;e.parent==
this.lb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.$da(c);this.size--};xa.$da=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Sw(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.$w(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Sw(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.$w(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Sw(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.$w(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Nw(b);if(b!=this.lb){var e=b.key;this.aea(b);return e}return null};xa.min=function(b){for(;b.left!=this.lb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.lb;)b=b.right;return b};xa.Nn=function(b){if(b.right!=this.lb)return this.min(b.right);for(var e=b.parent;e!=this.lb&&b==e.right;)b=e,e=e.parent;return e};xa.Nw=function(b){for(var e=this.root;e!=this.lb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.Nw(b).key};xa.GK=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.sea=function(b){if("array"==a.pL(b))for(var e=0;e<b.length;e++)this.Gs(b[e]);
else if("function"==a.pL(b.forEach))b.forEach(this.Gs,this);else if("function"==a.pL(b.GK))for(b=b.GK(),e=0;e<b.length;e++)this.Gs(b[e]);else if("object"==a.pL(b))for(e in b)this.Gs(b[e])};xa.range=function(b,e){var c=[];this.xfa(function(h){c.push(h)},b,e);return c};xa.xfa=function(b,e,c){if(!this.Js())for(e=this.Nw(e),c=this.Nw(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Nn(e)};xa.forEach=function(b,e){if(!this.Js())for(var c=this.min(this.root);c!=this.lb;c=this.Nn(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.Js())return!1;for(var c=this.min(this.root);c!=this.lb;c=this.Nn(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.Js())return!1;for(var c=this.min(this.root);c!=this.lb;c=this.Nn(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.Js())return c;for(var h=this.min(this.root);h!=this.lb;h=this.Nn(h))c.push(b.call(e,h.key,h.key,this));return c};xa.filter=function(b,e){var c=[];if(this.Js())return c;
for(var h=this.min(this.root);h!=this.lb;h=this.Nn(h))b.call(e,h.key,h.key,this)&&c.push(h.key);return c};xa.Js=function(){return 0==this.size};d.vo=class extends d.ea{constructor(b){super();this.Oh=new a.vo(b);this.Gr=!1;this.Jp=new Set;this.Kp=new Set}Ic(b){this.Gr?this.Oh.contains(b)?this.Kp.delete(b):this.Jp.add(b):this.Oh.Gs(b)}kh(b){this.Gr?this.Oh.contains(b)?this.Kp.add(b):this.Jp.delete(b):this.Oh.remove(b)}jy(b){return this.Gr?this.Jp.has(b)?!0:!this.Kp.has(b)&&this.Oh.contains(b):this.Oh.contains(b)}pd(){this.Oh.clear();
this.Jp.clear();this.Kp.clear()}toArray(){if(this.Gr)throw Error("cannot be used in queueing mode");return this.Oh.GK()}tm(){return this.Oh.size+this.Jp.size-this.Kp.size}oo(){return 0===this.tm()}mh(b){b=!!b;if(this.Gr!==b&&(this.Gr=b,!b)){for(const e of this.Kp)this.Oh.remove(e);this.Kp.clear();for(const e of this.Jp)this.Oh.Gs(e);this.Jp.clear()}}*values(){if(!this.oo()){var b=this.Oh;for(let e=b.min(b.root);e!=b.lb;e=b.Nn(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.SN=class{constructor(a=d.hardwareConcurrency){this.$ca=a;this.sJ=[];this.SG=0}Ic(a){return new Promise((b,e)=>{this.sJ.push({Yh:a,resolve:b,reject:e});this.SQ()})}async SQ(){if(this.sJ.length&&!(this.SG>=this.$ca)){this.SG++;var a=this.sJ.shift();try{const b=await a.Yh();a.resolve(b)}catch(b){a.reject(b)}this.SG--;this.SQ()}}}}
{"use strict";const d=self.B;d.k3=class{constructor(a,b,e){this.mr=a;this.Lca=b;this.Mca=e||2*b;this.rs=-1;this.cB=-Infinity;this.AU=()=>this.p$();this.qca=this.bI=!1;this.Vu=null}k8(){return"undefined"!==typeof d.QW&&d.QW.Kia()?this.Mca:this.Lca}bX(){var a=[];if(-1===this.rs){this.Vu=a;a=d.Gx();var b=a-this.cB,e=this.k8();b>=e&&this.qca?(this.cB=a,this.pR()):this.rs=self.setTimeout(this.AU,Math.max(e-b,4))}}pR(){this.bI=!0;const a=this.Vu;this.Vu=null;a?this.mr(...a):this.mr();this.bI=!1}bd(){this.bI||
(this.BP(),this.Vu=null,this.cB=d.Gx())}p$(){this.rs=-1;this.cB=d.Gx();this.pR()}BP(){-1!==this.rs&&(self.clearTimeout(this.rs),this.rs=-1)}A(){this.BP();this.AU=this.Vu=this.mr=null}}}"use strict";function hc(d,a){if(!d.LS)throw Error("no get base size callback set");return d.LS(a)}self.B.Wla=class{constructor(){this.Ica=new Map;this.aU=this.cU=this.LS=null}Iy(){if(!this.aU)throw Error("no redraw callback set");this.aU()}};"use strict";
self.B.Vla=class{constructor(d,a){this.Qg=d;this.xca=a;this.Ec=0;hc(this.Qg,a).then(()=>{this.Qg.Iy()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Qg.Iy()});this.tJ=null}A(){if(0>=this.Ec)throw Error("already released");this.Ec--;0===this.Ec&&this.Bu()}Bu(){if(this.tJ){var d=this.Qg;if(!d.cU)throw Error("no release result callback set");d.cU(this.tJ);this.tJ=null}this.Qg.Ica.delete(this.xca);this.Qg=null}};
{"use strict";const d=self.B;d.aoa="\ufeff";const a=new Set([..."0123456789"]);d.k1=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.zE=function(n){return b.has(n)};d.yha=function(n){return[...n].filter(p=>!d.zE(p)).join("")};d.yE=function(n){for(const p of n)if(!d.zE(p))return!1;return!0};d.u1=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.kZ=function(n){return[...n].filter(p=>
!d.u1(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.Uia=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};d.v3=function(n){let p=n.length;for(;0<p&&d.k1(n.charAt(p-1));)--p;return n.substr(0,p)};d.hia=function(n){let p=d.v3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;d.dZ=function(n){return n.replace(m,h)};d.nha=function(n){n=d.wi(n,"\\","\\\\");n=d.wi(n,'"','\\"');n=d.wi(n,"\t","\\t");n=d.wi(n,"\r","");return d.wi(n,"\n","\\n")};d.oha=function(n){n=d.wi(n,"&","&amp;");n=d.wi(n,"<","&lt;");n=d.wi(n,">","&gt;");return d.wi(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Ys=function(n){return n.replace(g,"\\$&")};d.zha=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.wi=function(n,p,q){return n.replaceAll(p,()=>q)};d.Vka=function(n,p,q){return n.replace(new RegExp(d.Ys(p),"gi"),()=>q)};d.qma=function(n,p){"string"===typeof p?n.textContent=p:p.lT?n.textContent=p.toString():(n.innerHTML=p.lL(),p instanceof d.nm&&p.Mda(n))};d.Ana=function(n,p){return n instanceof d.eE||n instanceof d.nm?n.fd(p):p instanceof d.eE||p instanceof d.nm?p.fd(n):n===p};d.Bna=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.Cna=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.Dna=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.lna=function(n,p){return n>p?1:n<p?-1:0};d.mna=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?
-1:0};d.Dha=function(n,p){p="common."+(p?"dataRates":"dataSizes")+".";const q=self.iqa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Jda:!1,
Wda:!0,rea:!0,Nea:!0,KV:!0};d.Eha=function(n,p){p=Object.assign({},l,p);d.x1.Lka("common.time");const q=[],u=self.lang,w=self.hqa;if(p.Wda){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.rea&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Nea&&(r=Math.floor(n/60),0<r||q.length||!p.KV)&&(n-=60*r,q.push(w(".minutes",null,r)));p.KV&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Jda?u(".approx-prefix"):"")+q.join(u(".separator"));d.x1.Eka();
return n};d.Joa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.Ena=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Sga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.HV(n);d.HV(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.cha=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};d.yna=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.zna=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?
r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:l}const g=/\n/g;d.nm=class{constructor(l,n){this.vh=n&&n.Qea?l:d.dZ(l);this.aI="";this.nS=!1;this.Ov=[];if(n&&(this.nS=!!n.epa,n.links)){if(9<n.links.length)throw Error("too many links");this.Ov=n.links}this.QS=this.vh.includes("[");this.OT=this.nS&&this.vh.includes("\n");this.lT=!this.QS&&!this.OT&&!this.vh.includes("&");this.US=!1;this.nv=[]}toString(){return this.vh}valueOf(){return this.vh}lL(){if(this.lT)return this.vh;if(!this.aI&&this.vh){let l=this.vh;
this.QS&&(h=0,c=this.Ov,l=l.replace(b,m),c=null);this.OT&&(l=l.replace(g,"<br>"));this.aI=l}return this.aI}Mda(l){if(this.Ov.length)for(let n=0,p=this.Ov.length;n<p;++n){const q=this.Ov[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}fd(l){return l instanceof d.eE?this.lL()===l.lL():l instanceof d.nm?this.vh===l.vh:this.vh===l}sfa(){if(this.US)return this.nv;const l=this.vh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.nv.push({text:v,gd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,$h:u})}p<l.length&&this.nv.push({text:l.substring(p),gd:n.slice(0)});for(const v of this.nv)v.text=
this.y$(v.text);this.US=!0;return this.nv}y$(l){l=d.wi(l,"\\[","[");return d.wi(l,"\\\\","\\")}static ZO(l){return l.replace(e,"")}}}
{"use strict";const d=self.B;function a(e){return"\u00a0"===e||"\u202f"===e?!1:d.zE(e)}const b=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;d.AF=class{constructor(){this.an=[]}UQ(e,c){let h=0,m=0,g=0,l=0,n=0;for(const p of e)-1===p.width&&(e=c(p.text,p.gd),p.width=e.width,p.height=e.height,p.ig=e.ig||0,p.Af=e.Af||0,p.Df=e.Df||0),h+=p.width,m=Math.max(m,p.height),g=Math.max(g,p.ig),l=Math.max(l,p.Af),n=Math.max(n,
p.Df);return{width:h,height:m,ig:g,Af:l,Df:n}}cz(e,c,h,m,g,l){this.an.push({iV:e,width:c,height:h,ig:m,Af:g,Df:l})}AF(e,c,h,m,g){"string"===typeof e&&(e=[{text:e,gd:[]}]);d.D(this.an);if(!(!e.length||1===e.length&&!e[0].text.length||2>h)){if(1===e.length){var l=e[0];const n=l.text;l=l.gd;if(100>=n.length&&!n.includes("\n")){let {width:p,height:q,ig:u,Af:w,Df:r}=c(n,l);p+=g;u=u||0;w=w||0;r=r||0;if(p<=h){this.cz([{text:n,gd:l,width:p,height:q,ig:u,Af:w,Df:r}],p,q,u,w,r);return}}}if("word"===m)m=this.Eba(e);
else{m=[];for(const n of e)d.Fn(m,[...n.text].map(p=>[{text:p,gd:n.gd}]))}this.Xba(m,c,h,g)}}Eba(e){const c=[];let h=[],m=!1;for(const l of e){var g=l.text;e=l.gd;for(const n of g)"\n"===n?(0<h.length&&c.push(h),c.push([{text:"\n",gd:e}]),h=[]):0===h.length?(h.push({text:n,gd:e}),m=a(n)):(g=a(n),g===m?(g=h.$d(-1),g.gd===e?g.text+=n:h.push({text:n,gd:e})):(c.push(h),h=[],h.push({text:n,gd:e}),m=g))}0<h.length&&c.push(h);return c}w6(e){return e.map(c=>({text:c.text,gd:c.gd,width:c.width,height:c.height,
ig:c.ig,Af:c.Af,Df:c.Df}))}xP(e,c){var h=e.length?e.$d(-1):null;let m=0;h&&c[0].gd===h.gd&&(h.text+=c[0].text,h.width=-1,h.height=-1,h.ig=-1,h.Af=-1,h.Df=-1,m=1);for(h=c.length;m<h;++m){const g=c[m];e.push({text:g.text,gd:g.gd,width:-1,height:-1,ig:-1,Af:-1,Df:-1})}}Xba(e,c,h,m){let g=[],l=0,n=0,p=0,q=0;var u=0;for(const w of e){if(1===w.length&&"\n"===w[0].text){0===n&&(u=c(" ",w[0].gd),n=u.height,p=u.ig||0,q=u.Af||0,u=u.Df||0);this.cz(g,l,n,p,q,u);g=[];u=q=p=n=l=0;continue}e=this.w6(g);this.xP(e,
w);const r=this.UQ(e,c),v=r.width;v>=h?(0<g.length&&this.cz(g,l,n,p,q,u),g=[],d.yE(w[0].text)?u=q=p=n=l=0:(this.xP(g,w),u=this.UQ(g,c),l=u.width,n=u.height,p=u.ig,q=u.Af,u=u.Df)):(g=e,l=v,n=r.height,p=r.ig,q=r.Af,u=r.Df)}0<g.length&&this.cz(g,l,n,p,q,u);this.Hba(c,m)}Hba(e,c){for(const m of this.an){const g=m.iV;if(!g.length)continue;let l=g.$d(-1);var h=l.text;const n=h.replace(b,"");if(!n)m.width-=l.width,g.pop();else if(n.length<h.length){h=e(n,l.gd).width;const p=l.width-h;l.width=h;l.text=n;
m.width-=p}0!==c&&0<g.length&&(l=g.$d(-1),l.width+=c,m.width+=c)}}pd(){d.D(this.an)}n_(){return this.an.reduce((e,c)=>Math.max(e,c.width),0)}H_(){return this.an.reduce((e,c)=>e+c.height,0)}}}
{"use strict";const d=self.B,a=self.rj,b=a.SC,e=a.cx,c=a.hm,h=b.create(),m=b.create(),g=b.create(),l=e.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=e.Bf(0,0,1,1);d.I={a3(J,M,Q,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*Q+R[12],Y=R[1]*J+R[5]*M+R[9]*Q+R[13],va=R[2]*J+R[6]*M+R[10]*Q+R[14];R=R[3]*J+R[7]*M+R[11]*Q+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;Q=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+Q*T);return!0},ak(J,M,Q,R,T,Z,X){c.multiply(n,T,R);if(null===c.Is(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*Q-1;l[3]=1;e.nL(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},x5(J,M,Q,R,T,Z,X){if(!d.I.ak(J,M,0,R,T,Z,h)||!d.I.ak(J,M,1,R,T,Z,m))return!1;b.lm(m,m,h);b.set(g,0,0,1);J=-Q;M=b.In(g,m);Q=0;if(0===M){if(0!==
b.In(g,h)+J)return!1}else if(Q=-(b.In(h,g)+J)/M,0>Q)return!1;b.fL(X,h,m,Q);return!0}};function z(J,M,Q,R){b.lm(h,Q,M);b.lm(m,J,M);b.yK(g,h,m);b.normalize(g,g);R.set(g[0],g[1],g[2],b.In(J,g))}function F(J,M,Q,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.fW,Na=X.gW;X=X.hW;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*Q*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*Q*Ua>ta}class H{constructor(){this.hW=this.gW=this.fW=this.w=this.z=this.y=this.x=NaN}set(J,M,Q,R){this.x=
J;this.y=M;this.z=Q;this.w=R;this.fW=0<J?1:0;this.gW=0<M?1:0;this.hW=0<Q?1:0}}d.I.F5=class{constructor(){this.DT=new H;this.BU=new H;this.fU=new H;this.gS=new H;this.bJ=new H;this.DS=new H}$W(J,M){d.I.ak(0,1,0,J,M,G,p);d.I.ak(1,1,0,J,M,G,q);d.I.ak(0,0,0,J,M,G,u);d.I.ak(1,0,0,J,M,G,w);d.I.ak(0,1,1,J,M,G,r);d.I.ak(1,1,1,J,M,G,v);d.I.ak(0,0,1,J,M,G,y);d.I.ak(1,0,1,J,M,G,A);z(u,p,r,this.DT);z(p,q,v,this.BU);z(q,w,A,this.fU);z(w,u,y,this.gS);z(y,r,v,this.DS);z(w,q,p,this.bJ)}wX(J,M,Q,R,T,Z){return F(J,
M,Q,R,T,Z,this.DT)&&F(J,M,Q,R,T,Z,this.BU)&&F(J,M,Q,R,T,Z,this.fU)&&F(J,M,Q,R,T,Z,this.gS)&&F(J,M,Q,R,T,Z,this.bJ)&&F(J,M,Q,R,T,Z,this.DS)}b1(J,M,Q){var R=this.bJ;return!(R.x*J+R.y*M+R.z*Q>=R.w)}}}
{"use strict";const d=self.B,a=self.rj,b=a.SC,e=a.cx,c=a.hm,h=c.create(),m=b.Bf(0,0,0),g=b.Bf(0,0,0),l=b.Bf(0,0,0),n=b.Bf(0,1,0);e.Bf(0,0,0,0);new d.td;new d.Rect;const p=new d.td(0,0,1,0,1,1,0,1);d.I.y3=class{constructor(){this.R=this.T=0;this.Kr=d.yb(45);this.qw=Math.tan(this.Kr/2);this.sB=c.create();this.VI=c.create();this.Cs=!1;this.To=[];this.QB=new Map;this.FJ=this.VB=this.WB=null;this.mw=new Map;this.Ui=null;this.iH=[];this.NT=new Map;this.dv=this.Qu=0;this.Wca=this.Xca=1;this.QI=.5;this.Ch=
0;this.Fr=!0;this.ZH=!1}jZ(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}EP(){this.dv=this.Qu=0;this.FJ=this.VB=this.WB=null;this.u6()}qy(){this.EP();this.Ui=null}l2(){for(const q of this.To)q.A();this.EP()}$(){return this.T}X(){return this.R}Ff(q){return this.nN()?100:q/(2*this.qw)}aF(q){this.Kr=q;this.qw=Math.tan(this.Kr/2)}X4(){this.Cs=!1}Y4(){this.Cs=!0}nN(){return!this.Cs}Rn(q,u,w=.5,r=.5){var v=this.Kr;.5===w&&.5===r?c.perspective(q,v,
u,1,1E4):(w=1-w,v=1*this.qw,u*=v,c.kea(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}ZW(q,u,w){const r=self.devicePixelRatio,v=2*this.Ff(w)*r*this.qw/w;u=u*v/(2*r);w=w*v/(2*r);c.Uea(q,-u,u,-w,w,1,1E4)}yL(q,u,w,r,v,y=1){let A=1;this.nN()&&(A=200*this.qw/v);b.set(l,A,-A,1);b.multiply(m,u,l);b.multiply(g,w,l);c.Jea(q,m,g,r||n);l[2]=y;c.scale(q,q,l)}Vs(q,u,w,r,v,y){b.set(m,q,u,w);b.set(g,r,v,0);this.yL(h,m,g,n,y,void 0);return h}d6(q){this.To.push(q);this.QB.set(q.wa(),q)}T$(q){const u=this.To.indexOf(q);
-1!==u&&this.To.splice(u,1);this.QB.delete(q.wa())}u6(){d.D(this.To);this.QB.clear()}JM(q){return this.QB.get(q)||null}Zj(){this.Sq(this.WB)}sO(){this.Sq(this.FJ)}Naa(q){this.Ui=q}kW(q,u,w,r){const v=d.I.tF.wN(q,u,w,r);let y=this.mw.get(v);y||(y=d.j(d.I.tF,this,q,u,w,r),this.mw.set(v,y));y.yW();return y}YN(q){q.RX();0===q.Ec&&(this.Ui===q&&(this.Ui=null),this.mw.delete(q.g_()),q.A())}E8(q){d.D(this.iH);this.NT.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.iH.push([r,v]);this.NT.set(q,
{Nqa:u,Ora:r,opa:v});u++}}e8(q){return this.iH[q]}Kq(q){this.Qu=q}Wt(q){this.dv=q;this.Ui=null}By(q,u,w,r,v,y){var A=this.QI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.Gy(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}Ay(q,u,w,r,v,y){const A=this.QI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Gy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}zy(q,u,w,r,v,y){const A=this.QI;q+=A;u+=A;w+=A;r+=A;this.Gy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}A1(q,u,w,r){const v=.5*this.Xca,y=this.Wca;2===y?
this.b9(q,u,w,r,v):1===y?this.a9(q,u,w,r,v):this.Z8(q,u,w,r,v)}b9(q,u,w,r,v){this.By(q,u,w,u,0,v);this.By(w,u,w,r,v,0);this.By(w,r,q,r,0,-v);this.By(q,r,q,u,-v,0)}a9(q,u,w,r,v){this.Ay(q,u,w,u,0,v);this.Ay(w,u,w,r,v,0);this.Ay(w,r,q,r,0,-v);this.Ay(q,r,q,u,-v,0)}Z8(q,u,w,r,v){this.zy(q,u,w,u,0,v);this.zy(w,u,w,r,v,0);this.zy(w,r,q,r,0,-v);this.zy(q,r,q,u,-v,0)}qN(q){this.A1(q.V,q.O,q.ca,q.Z)}iq(){this.wj();this.Ch++}t0(){this.Ch++}dF(q){this.Fr=!!q}r4(q){this.ZH=!!q}ri(){return!1}}}"use strict";
self.B.I.b5=class{constructor(d,a,b){this.Da=a;this.ma=d;this.AS=b.tpa||0;this.BS=b.upa||0;this.oS=!!b.gpa;this.bda=!!b.Jqa;this.bs=!!b.bra;this.dca=!!b.Qoa;this.jH=!!b.Voa;this.kC=!!b.asa;this.jC=!1}A(){this.ma=null}eb(){return this.ma}wa(){return this.Da}Bq(){return this.bda}};
{"use strict";const d=self.B;d.I.tF=class{constructor(a,b,e,c,h){this.ma=a;this.Ec=0;this.Uc=null;this.gw="";this.Fg=e;this.bb=d.j(d.$a);this.bb.set(c);this.Xc=h;"string"===typeof b?this.gw=b:(this.Uc=b,this.gw=this.Uc.wa())}A(){if(0<this.Ec)throw Error("releasing state group still in use");this.Uc=this.ma=null;this.gw=""}HW(){const a=this.ma;a.Sq(this.Uc);a.Of(this.Fg);a.Dm(this.bb);a.Wt(this.Xc);a.Naa(this)}g_(){return d.I.tF.wN(this.gw,this.Fg,this.bb,this.Xc)}yW(){++this.Ec}RX(){--this.Ec}dl(){this.Uc=
null}EE(a){this.Uc=a.JM(this.gw);if(!this.Uc)throw Error("failed to restore shader program");}static wN(a,b,e,c){return("string"===typeof a?a:a.wa())+","+b+","+e.Ra+","+e.Ua+","+e.Ta+","+e.Sa+","+c}}}
{"use strict";const d=self.B,a=d.j(d.td);function b(e,c,h){const m=h.wb,g=h.xb;return[m+(h.kc-m)*e+(h.ac-m)*c,g+(h.lc-g)*e+(h.cc-g)*c]}d.I.R1=class{constructor(e){this.ZI=e;this.Zg=this.Xg=this.Xc=this.M=this.P=0}Cg(e,c,h,m){this.P=e;this.M=c;this.Xg=h;this.Zg=m}oa(){return this.P}oh(e){this.P!==e&&(this.P=e,this.ZI.AG())}pa(){return this.M}Gi(e){this.M!==e&&(this.M=e,this.ZI.AG())}ab(){return this.Xc}ef(e){this.Xc!==e&&(this.Xc=Math.max(e,0),this.ZI.AG())}kF(e){this.Xg=e}lF(e){this.Zg=e}T8(e,c,h){[this.P,
this.M]=b(e.P,e.M,c);this.Xc=e.Xc;this.Xg=d.ae(h.V,h.ca,e.Xg);this.Zg=d.ae(h.O,h.Z,e.Zg)}S8(e,c,h){[this.P,this.M]=b(e.P,e.M,c);this.Xc=e.Xc;[this.Xg,this.Zg]=b(e.Xg,e.Zg,h)}Ad(){return{x:this.oa(),y:this.pa(),z:this.ab(),u:this.Xg,v:this.Zg}}sd(e){this.oh(e.x);this.Gi(e.y);e.hasOwnProperty("z")&&this.ef(e.z);this.kF(e.u);this.lF(e.v)}};d.I.yN=class{constructor(e,c,h){if(2>e||2>c)throw Error("invalid mesh size");this.nk=e;this.Dk=c;this.ic=h||null;this.kn=[];this.LT=this.KT=0;this.HT=this.GT=1;this.IT=
0;this.nJ=!1;h=e-1;const m=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<e;++n){const p=d.j(d.I.R1,this,n,g),q=n/h,u=g/m;p.Cg(q,u,q,u);l.push(p)}this.kn.push(l)}}A(){d.D(this.kn)}AG(){this.nJ=!0}vu(){if(this.nJ){var e=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const l of this.kn)for(const n of l){const p=n.oa(),q=n.pa();e=Math.min(e,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.ab())}this.KT=e;this.LT=c;this.GT=h;this.HT=m;this.IT=g;this.nJ=!1}}r_(){this.vu();return this.KT}s_(){this.vu();
return this.LT}o_(){this.vu();return this.GT}p_(){this.vu();return this.HT}q_(){this.vu();return this.IT}mq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.nk||0>c||c>=this.Dk?null:this.kn[c][e]}zL(e,c,h){const m=h instanceof d.Rect;if(e.nk!==this.nk||e.Dk!==this.Dk)throw Error("source mesh wrong size");e=e.kn;const g=this.kn;for(let l=0,n=g.length;l<n;++l){const p=e[l],q=g[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.T8(r,c,h):v.S8(r,c,h)}}}mg(e){const c=this.kn;let h=c[0];
for(let m=1,g=c.length;m<g;++m){const l=c[m];let n=h[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=h[q],r=l[q];a.set(n.Xg,n.Zg,w.Xg,w.Zg,r.Xg,r.Zg,p.Xg,p.Zg);e.Gy(n.oa(),n.pa(),n.ab(),w.oa(),w.pa(),w.ab(),r.oa(),r.pa(),r.ab(),p.oa(),p.pa(),p.ab(),a);n=w;p=r}h=l}}W0(e){e=e.Hd;const c=[],h=this.nk-1,m=this.Dk-1,g=1/h,l=1/m,n=h-1,p=m-1;let q=e[0],u=e[1],w=d.da(Math.floor(q*h),0,n),r=d.da(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.da(d.ae(q,v,A),0,1);u=d.da(d.ae(u,y,A),0,1);c.push(q,
u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=d.da(Math.floor(q*h),0,n),r=d.da(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*l,Q=(w+1)*g,R=(r+1)*l;if(0!==G&&(A=d.Zw(q,u,v,y,J,M,Q,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.Zw(q,u,v,y,J,M,Q,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.Zw(q,u,v,y,Q,M,Q,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<
w&&1!==G&&(A=d.Zw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.Zw(q,u,v,y,J,R,Q,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.j(d.Un,c)}t5(e,c){e=this.Fba(e);this.wba(e);c.MC(e)}Fba(e){const c=[];e=e.Hd;for(let h=0,m=e.length;h<m;h+=2){const [g,l]=this.bP(e[h],e[h+1]);c.push(g,l)}return c}bP(e,c){var h=this.nk-1,m=this.Dk-1;const g=1/h,l=1/m;h=d.da(Math.floor(e*h),0,h-1);const n=d.da(Math.floor(c*m),0,m-1);m=h*g;const p=n*l,q=(h+1)*g,u=(n+
1)*l,w=this.mq(h,n),r=this.mq(h+1,n+1),v=d.Aea(e,c,m,p,q,p,q,u);h=this.mq(h+(v?1:0),n+(v?0:1));const [y,A,G]=d.zfa(e,c,m,p,v?m+g:m,v?p:p+l,q,u);return d.yfa(y,A,G,w.oa(),w.pa(),h.oa(),h.pa(),r.oa(),r.pa())}wba(e){const c=[];let h=e[0],m=e[1],g=h-e.$d(-2),l=m-e.$d(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(l)||v)&&1E-7<Math.abs(w/
g-r/l)||0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;l=r}6<=c.length&&c.length<e.length&&d.Hc(e,c)}Ad(){return{cols:this.nk,rows:this.Dk,points:this.kn.map(e=>e.map(c=>c.Ad()))}}sd(e){const c=this.nk,h=this.Dk;if(e.cols!==c||e.rows!==h)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<h;++m){const g=e[m];for(let l=0;l<c;++l)this.mq(l,m).sd(g[l])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{iL:n,Hs:q,format:u,type:p}}const m={UC:"clamp-to-edge",VC:"clamp-to-edge",sj:"trilinear",UU:0,ZK:"rgba8",HC:!0,Ww:"default",premultiplyAlpha:!0,sV:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.I.bz=class{constructor(n){this.ma=n;this.mb=null;this.R=this.T=0;this.Gh=!0;this.Bs=this.As="clamp-to-edge";this.nd="trilinear";this.$G=0;this.jn="rgba8";this.El=!1;this.Bp=
"default";this.Ec=0}L6(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.mb)throw Error("already created texture");this.As=p.UC;this.Bs=p.VC;
this.nd=p.sj;this.$G=p.UU;this.jn=p.ZK;this.El=!!p.HC&&this.ma.Fr;this.Bp=p.Ww;if(!c.has(this.As)||!c.has(this.Bs))throw Error("invalid wrap mode");if(!b.has(this.nd))throw Error("invalid sampling");if(!a.has(this.jn))throw Error("invalid pixel format");if(!e.has(this.Bp))throw Error("invalid mipmap quality");this.Gh=!0;if(n instanceof ArrayBuffer||null===n||p.sV){if(this.T=p.width,this.R=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.T*this.R*4)throw Error("ArrayBuffer wrong size");}else this.T=
n.width,this.R=n.height;if(0>=this.T||0>=this.R)throw Error("invalid texture data size");if(p.sV){var q=d.eh(this.T,this.R);q.getContext("2d").drawImage(n,0,0,this.T,this.R);n=q}var u=d.Zh(this.T)&&d.Zh(this.R);q=this.ma.tB;if(this.T>q||this.R>q)throw Error("texture data exceeds maximum texture size");q=this.ma.S;var w=this.ma.Wc;this.mb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.mb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.jn,q);if(this.ma.Go()||u||!this.cG())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.El?Math.floor(Math.log2(Math.max(this.T,this.R))+1):1,p.iL,this.T,this.R),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.T,this.R,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Hs,this.T,this.R,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Hs,this.T,this.R,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Hs,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.T,this.R));n instanceof ImageData&&(u=d.eh(this.T,this.R),u.getContext("2d").putImageData(n,0,0),n=u);u=d.eh(d.IC(this.T),d.IC(this.R));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.nd;w.drawImage(n,0,0,this.T,this.R,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Hs,p.format,p.type,u)}null!==n&&this.JR(q);q.bindTexture(q.TEXTURE_2D,null);this.ma.qG();this.Ec=1;l.add(this)}y6(n,p,q){q=Object.assign({},m,q);if(this.mb)throw Error("already created texture");this.As=q.UC;this.Bs=q.VC;this.nd=q.sj;this.jn=q.ZK;this.El=!!q.HC&&this.ma.Fr;this.Bp=q.Ww;if(!c.has(this.As)||!c.has(this.Bs))throw Error("invalid wrap mode");if(!b.has(this.nd))throw Error("invalid sampling");if(!a.has(this.jn))throw Error("invalid pixel format");if(!e.has(this.Bp))throw Error("invalid mipmap quality");
this.Gh=!1;this.T=Math.floor(n);this.R=Math.floor(p);n=d.Zh(this.T)&&d.Zh(this.R);p=this.ma.tB;if(0>=this.T||0>=this.R)throw Error("invalid texture size");if(this.T>p||this.R>p)throw Error("texture exceeds maximum texture size");if(!this.ma.Go()&&this.cG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ma.S;p=this.ma.Wc;this.mb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.mb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.jn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.iL:q.Hs,this.T,this.R,0,q.format,q.type,null);this.JR(n);n.bindTexture(n.TEXTURE_2D,null);this.ma.qG();this.Ec=1;l.add(this)}ZF(n){if("default"===this.Bp)return this.Gh?n.NICEST:n.FASTEST;if("low"===this.Bp)return n.FASTEST;if("high"===this.Bp)return n.NICEST;throw Error("invalid mipmap quality");}cG(){return"clamp-to-edge"!==this.As||"clamp-to-edge"!==this.Bs}vQ(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}JR(n){var p=d.Zh(this.T)&&d.Zh(this.R);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.vQ(n,this.As));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.vQ(n,this.Bs));"nearest"===this.nd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.El=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ma.Go())&&this.El?(n.hint(n.GENERATE_MIPMAP_HINT,
this.ZF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.nd||this.ma.ZH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.El=!1));(p=this.ma.Lu)&&0<this.$G&&"nearest"!==this.nd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.$G,this.ma.XI))}TR(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.mb||0>=this.Ec)throw Error("texture not created");if(this.Gh)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ma.Wc;
const r=this.ma.S;r.bindTexture(r.TEXTURE_2D,this.mb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.jn,r);w=2<=w?p.iL:p.Hs;try{if(this.T===q&&this.R===u){const v=d.Zh(this.T)&&d.Zh(this.R);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ma.Go())&&this.El&&(r.hint(r.GENERATE_MIPMAP_HINT,this.ZF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.T=q;this.R=u;const v=d.Zh(this.T)&&d.Zh(this.R);if(!this.ma.Go()&&this.cG()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ma.Go())&&this.El&&(r.hint(r.GENERATE_MIPMAP_HINT,this.ZF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ma.qG()}OF(){if(0<this.Ec)throw Error("texture still has references");if(!this.mb)throw Error("already deleted texture");l.delete(this);this.ma.S.deleteTexture(this.mb);this.mb=null}eb(){return this.ma}m5(){if(0>=
this.Ec)throw Error("no more references");this.Ec--}$(){return this.T}X(){return this.R}KD(){let n=this.T*this.R;switch(this.jn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.El&&(n+=Math.floor(n/3));return n}static dl(){l.clear()}static Eda(){return l.values()}}}
{"use strict";const d=self.rj.hm,a=new Set(["nearest","bilinear","trilinear"]),b={sj:"trilinear",alpha:!0,depth:!1,NK:!0,oV:!0,Oea:0},e=new Set;self.B.I.nP=class{constructor(c){this.ma=c;this.zk=this.mb=this.jp=this.Lg=null;this.R=this.T=0;this.LA=!0;this.nd="trilinear";this.ir=!0;this.Pc=!1;this.Fv=!0;this.Ll=0;this.xk=d.create();this.wT=0}x6(c,h,m){m=Object.assign({},b,m);const g=this.ma.Wc;if(this.mb||this.zk)throw Error("already created render target");this.nd=m.sj;this.ir=!!m.alpha;this.Pc=!!m.depth;
this.Fv=!!m.NK;this.LA=!!m.oV;this.Ll=m.Oea;if(!a.has(this.nd))throw Error("invalid sampling");if(0<this.Ll&&(2>g||this.Fv))throw Error("invalid use of multisampling");2>g&&(this.Fv=!0);this.T=c;this.R=h;if(0>=this.T||0>=this.R)throw Error("invalid render target size");this.CF();c=this.ma.S;this.Lg=c.createFramebuffer();this.Pc&&(this.jp=c.createFramebuffer());this.Fv?(this.mb=this.ma.NL(this.T,this.R,{sj:this.nd,ZK:this.ir?"rgba8":"rgb8",HC:!1}),h=this.mb.mb,c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),
c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.zk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.zk),h=this.ir?c.RGBA8:c.RGB8,0<this.Ll&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.Ll>m&&(this.Ll=m)):this.Ll=0),0===this.Ll?c.renderbufferStorage(c.RENDERBUFFER,h,this.T,this.R):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Ll,h,this.T,this.R),c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.zk),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.zk)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.ma.Jg;this.Pc&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),this.ma.Wu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}lR(c,h){if(this.T!==c||this.R!==h)this.T=c,this.R=h,this.CF(),c=this.ma.S,c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),this.mb?this.mb.TR(new ImageData(this.T,this.R)):(c.bindRenderbuffer(c.RENDERBUFFER,this.zk),c.renderbufferStorage(c.RENDERBUFFER,this.ir?c.RGBA8:c.RGB8,this.T,this.R),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.ma.Jg,this.Pc&&h&&(this.ma.Wu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}OF(){if(!this.mb&&!this.zk)throw Error("already deleted render target");e.delete(this);var c=this.ma.S;this.mb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ma.vj(this.mb),this.mb=null):this.zk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Lg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.zk),this.zk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ma.Wc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Lg);
this.Pc&&c.deleteFramebuffer(this.jp);c=this.ma.rc;c.dm=null;this.Lg=c.pj=null}CF(){this.ma.Rn(this.xk,this.T/this.R);this.wT=this.ma.Kr}eb(){return this.ma}Od(){return this.mb}x_(){this.ma.Kr!==this.wT&&this.CF();return this.xk}tE(){return"nearest"!==this.nd}$(){return this.T}X(){return this.R}e1(c){c=Object.assign({},b,c);return"nearest"!==c.sj!==this.tE()||!!c.alpha!==this.ir||!!c.depth!==this.Pc||2<=this.ma.Wc&&!!c.NK!==this.Fv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.LA&&
this.$()===c.width&&this.X()===c.height:this.LA}KD(){return this.mb?this.mb.KD():this.T*this.R*(this.ir?4:3)}static dl(){e.clear()}}}
{"use strict";const d=self.B;d.I.ju=class extends d.I.b5{static async tX(a,b,e,c){const h=a.S,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,b);h.compileShader(m);b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,e);h.compileShader(b);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,b);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const l=a.lJ;l?await a.Uba(()=>h.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):
await d.zF(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(b,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(b),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.kZ(h.getProgramInfoLog(g)||"").trim())&&!d.yE(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);h.deleteShader(m);h.deleteShader(b);return g}static async La(a,b,e,c){e=await d.I.ju.tX(a,b.src,e,c);return new d.I.ju(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const h=a.S;var m=a.rc;a.wj();h.useProgram(b);this.S=h;this.Uc=b;this.MA="<default-device-transform>"===c;c=h.getAttribLocation(b,"aPos");const g=h.getAttribLocation(b,"aTex");this.TI=h.getAttribLocation(b,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,a.oC),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,a.bC),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.TI&&(h.bindBuffer(h.ARRAY_BUFFER,a.DB),h.vertexAttribPointer(this.TI,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.TI));h.bindBuffer(h.ARRAY_BUFFER,null);this.WJ=new d.I.$b(this,"matP","mat4");this.VJ=new d.I.$b(this,"matMV","mat4");this.Vp=new d.I.$b(this,"color",
"vec4");this.zda=new d.I.$b(this,"samplerFront","sampler");this.ZJ=new d.I.$b(this,"pointTexStart","vec2");this.YJ=new d.I.$b(this,"pointTexEnd","vec2");this.bK=new d.I.$b(this,"zElevation","float");this.$J=new d.I.$b(this,"tileSize","vec2");this.aK=new d.I.$b(this,"tileSpacing","vec2");this.UJ=new d.I.$b(this,"color2_","vec4");this.XJ=new d.I.$b(this,"outlineThickness","float");this.ys=new d.I.$b(this,"samplerBack","sampler");this.yda=new d.I.$b(this,"samplerDepth","sampler");this.vn=new d.I.$b(this,
"destStart","vec2");this.un=new d.I.$b(this,"destEnd","vec2");this.mj=new d.I.$b(this,"srcStart","vec2");this.Yl=new d.I.$b(this,"srcEnd","vec2");this.$l=new d.I.$b(this,"srcOriginStart","vec2");this.Zl=new d.I.$b(this,"srcOriginEnd","vec2");this.Yg=new d.I.$b(this,"pixelSize","vec2");this.Bn=new d.I.$b(this,"seconds","float");this.wn=new d.I.$b(this,"devicePixelRatio","float");this.yn=new d.I.$b(this,"layerScale","float");this.xn=new d.I.$b(this,"layerAngle","float");this.An=new d.I.$b(this,"layoutStart",
"vec2");this.zn=new d.I.$b(this,"layoutEnd","vec2");this.RS=!!(this.Yg.W||this.Bn.W||this.ys.W||this.vn.W||this.un.W||this.mj.W||this.Yl.W||this.$l.W||this.Zl.W||this.wn.W||this.yn.W||this.xn.W||this.An.W||this.zn.W);a=e.parameters||[];this.Wp=[];this.jC=this.Yg.W||this.mj.W||this.Yl.W||this.$l.W||this.Zl.W;this.WH=this.XH=!1;this.Vp.YM();this.UJ.YM();this.zda.gE(0);this.ys.gE(1);this.yda.gE(2);this.ZJ.sg(0,0);this.YJ.sg(1,1);this.bK.ko(0);this.$J.sg(0,0);this.aK.sg(0,0);this.vn.sg(0,0);this.un.sg(1,
1);this.mj.sg(0,0);this.Yl.sg(0,0);this.$l.sg(0,0);this.Zl.sg(0,0);this.Yg.sg(0,0);this.wn.ko(1);this.yn.ko(1);this.xn.ko(0);this.Bn.ko(0);this.An.sg(0,0);this.zn.sg(0,0);this.XJ.ko(1);for(const l of a)a=l[2],b=new d.I.$b(this,l[0],a),"color"===a?b.u0():b.ko(0),this.Wp.push(b);this.MA?this.YR(m.Jw):(this.Zy(m.Jw,!0),this.Yy(m.vC,!0));m=m.Xh;h.useProgram(m?m.Uc:null)}A(){this.S.deleteProgram(this.Uc);this.Uc=null;this.ma.T$(this);this.S=null;super.A()}Jf(){return this.Uc}Zx(a){return this.Wp[a].Nj()}IW(a){for(let b=
0,e=a.length;b<e;++b)if(!this.Wp[b].p1(a[b]))return!1;return!0}e4(a){for(let b=0,e=a.length;b<e;++b)this.Wp[b].Z3(a[b])}JW(a,b,e,c,h,m,g,l,n,p){return this.ys.W||this.Yg.W&&!this.Yg.cl(h,m)||this.vn.W&&!this.vn.cl(a.V,a.O)||this.un.W&&!this.un.cl(a.ca,a.Z)||this.wn.W&&!this.wn.xy(g)||this.yn.W&&!this.yn.xy(l)||this.xn.W&&!this.xn.xy(n)||this.mj.W&&!this.mj.cl(b.V,b.O)||this.Yl.W&&!this.Yl.cl(b.ca,b.Z)||this.$l.W&&!this.$l.cl(e.V,e.O)||this.Zl.W&&!this.Zl.cl(e.ca,e.Z)||this.An.W&&!this.An.cl(c.V,c.O)||
this.zn.W&&!this.zn.cl(c.O,c.Z)||this.Bn.W&&!this.Bn.xy(p)?!1:!0}z4(a,b,e,c,h,m,g,l,n,p){this.ys.W||(this.Yg.W&&this.Yg.el(h,m),this.vn.W&&this.vn.el(a.V,a.O),this.un.W&&this.un.el(a.ca,a.Z),this.wn.W&&this.wn.Oy(g),this.yn.W&&this.yn.Oy(l),this.xn.W&&this.xn.Oy(n),this.mj.W&&this.mj.el(b.V,b.O),this.Yl.W&&this.Yl.el(b.ca,b.Z),this.$l.W&&this.$l.el(e.V,e.O),this.Zl.W&&this.Zl.el(e.ca,e.Z),this.An.W&&this.An.el(c.V,c.O),this.zn.W&&this.zn.el(c.O,c.Z),this.Bn.W&&this.Bn.Oy(p))}Zy(a,b){this.XH&&!b||
this.MA||(this.WJ.W&&this.WJ.$y(a),this.XH=!0)}y4(){this.XH=!1}Yy(a,b){this.WH&&!b||this.MA||(this.VJ.W&&this.VJ.$y(a),this.WH=!0)}x4(){this.WH=!1}YR(a){if(!this.MA)throw Error("not device transform shader");this.WJ.$y(a);a=this.ma;const b=a.$()/2,e=a.X()/2;a=a.Vs(b,e,a.Ff(a.X()),b,e,a.X());this.VJ.$y(a)}A5(a){this.Vp.W&&this.Vp.Xy(a[0],a[1],a[2],a[3])}static Nx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.rj.hm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.I.$b=class{constructor(e,c,h){if(!b.has(h))throw Error("invalid uniform type");this.ic=e;this.S=this.ic.S;this.Da=c;this.qa=h;this.oI="color"===this.qa;this.Jh=this.S.getUniformLocation(this.ic.Jf(),c);this.W=!!this.Jh;e=b.get(h);this.Fb=new Float32Array(e);this.fj=new Float32Array(e)}A(){this.Jh=this.S=this.ic=null}Nj(){return this.qa}ko(e){this.W&&
(this.Fb[0]=e,this.fj.set(this.Fb),this.S.uniform1f(this.Jh,e))}gE(e){this.W&&(this.Fb[0]=e,this.fj.set(this.Fb),this.S.uniform1i(this.Jh,e))}sg(e,c){this.W&&(this.Fb[0]=e,this.Fb[1]=c,this.fj.set(this.Fb),this.S.uniform2f(this.Jh,e,c))}u0(){this.W&&(this.Fb[0]=0,this.Fb[1]=0,this.Fb[2]=0,this.fj.set(this.Fb),this.S.uniform3f(this.Jh,0,0,0))}YM(){this.W&&(this.Fb[0]=1,this.Fb[1]=1,this.Fb[2]=1,this.Fb[3]=1,this.fj.set(this.Fb),this.S.uniform4f(this.Jh,1,1,1,1))}Jo(e){e=Math.fround(e);const c=this.Fb;
c[0]!==e&&(c[0]=e,this.S.uniform1f(this.Jh,e))}Fe(e,c){e=Math.fround(e);c=Math.fround(c);const h=this.Fb;if(h[0]!==e||h[1]!==c)h[0]=e,h[1]=c,this.S.uniform2f(this.Jh,e,c)}y5(e,c,h){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);const m=this.Fb;if(m[0]!==e||m[1]!==c||m[2]!==h)m[0]=e,m[1]=c,m[2]=h,this.S.uniform3f(this.Jh,e,c,h)}Xy(e,c,h,m){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Fb;if(g[0]!==e||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=e,g[1]=c,g[2]=h,g[3]=m,this.S.uniform4f(this.Jh,
e,c,h,m)}$y(e){const c=this.Fb;a.qj(c,e)||(d.Afa(c,e),this.S.uniformMatrix4fv(this.Jh,!1,e))}p1(e){const c=this.fj;return this.oI?c[0]===Math.fround(e.Ra)&&c[1]===Math.fround(e.Ua)&&c[2]===Math.fround(e.Ta):c[0]===Math.fround(e)}Z3(e){const c=this.fj;this.oI?(c[0]=e.Ra,c[1]=e.Ua,c[2]=e.Ta):c[0]=e}xy(e){return this.fj[0]===Math.fround(e)}cl(e,c){const h=this.fj;return h[0]===Math.fround(e)&&h[1]===Math.fround(c)}Oy(e){this.fj[0]=e}el(e,c){const h=this.fj;h[0]=e;h[1]=c}}}
{"use strict";const d=self.B,a=self.rj,b=a.cx,e=a.hm;d.I.PW=class{constructor(c){this.Ln=c;this.vC=e.create();this.Jw=e.create();this.pj=this.dm=null;this.pV=!1;this.uC=b.Bf(1,1,1,1);this.Xh=null;this.$K=new d.Rect;this.clearColor=d.j(d.$a,0,0,0,0)}};d.I.K5=class{constructor(c){const h=new ArrayBuffer(96);this.qa=0;this.rc=c;this.S=c.Ln.S;this.Bl=this.Id=0;this.Ne=null;this.le=new Float32Array(h,0,16);this.Yo=new Float32Array(h,64,4);this.tU=new Float32Array(h,80,4);this.OB=[]}I0(c){this.qa=1;this.Id=
c;this.Bl=6}dY(){const c=this.S;c.drawElements(c.TRIANGLES,this.Bl,c.UNSIGNED_SHORT,this.Id)}R0(c){this.qa=2;this.Ne=c}sY(){const c=this.S,h=this.Ne;c.bindTexture(c.TEXTURE_2D,h?h.mb:null)}hE(c){this.qa=3;c.bh(this.Yo,0)}fY(){const c=this.Yo,h=this.rc;b.na(h.uC,c);h.Xh.A5(c)}jY(){const c=this.Yo,h=this.rc.Xh;h.UJ.W&&h.UJ.Xy(c[0],c[1],c[2],c[3])}J0(c,h){this.qa=4;this.Id=c;this.Bl=h}eY(){this.S.blendFunc(this.Id,this.Bl)}S0(c,h){this.qa=5;const m=this.Yo;m[0]=0;m[1]=0;m[2]=c;m[3]=h}uY(){const c=this.Yo;
this.S.viewport(c[0],c[1],c[2],c[3])}P0(c){this.qa=6;e.na(this.le,c)}pY(){const c=this.rc,h=c.Ln.To,m=c.Xh,g=this.le;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.Zy(g,!0):p.y4()}e.na(c.Jw,g)}M0(c){this.qa=7;e.na(this.le,c)}kY(){const c=this.rc,h=c.Ln.To,m=c.Xh,g=this.le;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.Yy(g,!0):p.x4()}e.na(c.vC,g)}Q0(c){this.qa=8;this.Ne=c}qY(){const c=this.S,h=this.Ne,m=this.rc;h?(m.dm=h.Lg,m.pj=h.jp,m.pV&&m.pj?c.bindFramebuffer(c.FRAMEBUFFER,m.pj):c.bindFramebuffer(c.FRAMEBUFFER,
m.dm)):(m.dm=null,m.pj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}y0(c){this.qa=9;c.bh(this.le,0)}z0(){this.qa=9;const c=this.le;c[0]=0;c[1]=0;c[2]=0;c[3]=0}XX(){const c=this.S;var h=this.le;const m=this.rc.clearColor,g=h[0],l=h[1],n=h[2];h=h[3];m.xC(g,l,n,h)||(c.clearColor(g,l,n,h),m.Mn(g,l,n,h));c.clear(c.COLOR_BUFFER_BIT)}lY(){const c=this.le;this.rc.$K.set(c[0],c[1],c[2],c[3])}cY(){const c=this.S,h=this.rc,m=h.Ln.VB;c.useProgram(m.Uc);m.Zy(h.Jw,!1);m.Yy(h.vC,!1);var g=h.$K;m.ZJ.W&&m.ZJ.Fe(g.V,
g.O);m.YJ.W&&m.YJ.Fe(g.ca,g.Z);g=this.le[0];m.bK.W&&m.bK.Jo(g);m.Vp.W&&(g=h.uC,m.Vp.Xy(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Id/4,this.Bl);c.useProgram(h.Xh.Uc)}N0(c){this.qa=11;this.Ne=c}mY(){var c=this.S;const h=this.rc,m=this.Ne;h.Xh=m;c.useProgram(m.Uc);m.Zy(h.Jw,!1);m.Yy(h.vC,!1);m.Vp.W&&(c=h.uC,m.Vp.Xy(c[0],c[1],c[2],c[3]))}O0(){this.qa=12}nY(){const c=this.rc.Xh;c.RS&&this.r7(c);c.Wp.length&&this.s7(c)}r7(c){const h=this.S,m=this.le,g=this.Yo,l=this.tU;if(c.ys.W){const n=this.rc.Ln,
p=this.Ne;n.$m!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.mb:null),n.$m=p,h.activeTexture(h.TEXTURE0))}c.Yg.W&&c.Yg.Fe(m[0],m[1]);c.vn.W&&c.vn.Fe(m[2],m[3]);c.un.W&&c.un.Fe(m[4],m[5]);c.wn.W&&c.wn.Jo(this.Bl);c.yn.W&&c.yn.Jo(m[6]);c.xn.W&&c.xn.Jo(m[7]);c.mj.W&&c.mj.Fe(m[12],m[13]);c.Yl.W&&c.Yl.Fe(m[14],m[15]);c.$l.W&&c.$l.Fe(l[0],l[1]);c.Zl.W&&c.Zl.Fe(l[2],l[3]);c.An.W&&c.An.Fe(g[0],g[1]);c.zn.W&&c.zn.Fe(g[2],g[3]);c.Bn.W&&c.Bn.Jo(this.Id)}s7(c){c=c.Wp;const h=this.OB;for(let m=
0,g=c.length;m<g;++m){const l=c[m],n=h[m];l.oI?l.y5(n.Ra,n.Ua,n.Ta):l.Jo(n)}}E0(c){this.qa=13;this.Ne=c}bY(){const c=this.S,h=this.Ne,m=this.rc.dm;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}v0(c,h){this.qa=16;var m=this.le;const g=this.rc.Ln;m[0]=c.$();m[1]=c.X();m[2]=h?h.$():g.$();m[3]=h?h.X():g.X();m[4]=c.tE()?1:0;m[5]=!0;m=this.OB;d.D(m);m.push(c.Lg);m.push(h?h.Lg:null)}VX(){var c=this.le,h=this.OB;
const m=this.S;var g=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,h,g+n,0,l,h,g+l,m.COLOR_BUFFER_BIT,m.NEAREST))}U0(c){this.qa=17;this.Ne=c}vY(){this.Ne.cD();this.Ne=null}D0(c){this.qa=18;this.Ne=c}aY(){this.Ne.wD();this.Ne=null}iY(){const c=
this.rc.Xh,h=this.le;c.Yg.W&&c.Yg.Fe(h[0],h[1]);c.XJ.W&&c.XJ.Jo(h[2])}tY(){const c=this.rc.Xh,h=this.le;c.mj.W&&c.mj.Fe(h[0],h[1]);c.Yg.W&&c.Yg.Fe(h[4],h[5]);c.$J.W&&c.$J.Fe(h[6],h[7]);c.aK.W&&c.aK.Fe(h[8],h[9])}x0(c){this.qa=21;this.Id=c?1:0}WX(){const c=this.S,h=0!==this.Id;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}K0(c){this.qa=22;this.Id=c?1:0}gY(){const c=this.S;0===this.Id?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}L0(c){this.qa=
23;this.Id=c?1:0}hY(){const c=this.S,h=this.rc,m=h.Ln,g=0!==this.Id;h.pV=g;c.activeTexture(c.TEXTURE2);g?(h.pj&&c.bindFramebuffer(c.FRAMEBUFFER,h.pj),c.bindTexture(c.TEXTURE_2D,m.Jg)):(c.bindTexture(c.TEXTURE_2D,null),h.pj&&c.bindFramebuffer(c.FRAMEBUFFER,h.dm));c.activeTexture(c.TEXTURE0)}C0(){this.qa=24}$X(){const c=this.S;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}B0(){this.qa=25}ZX(){const c=
this.S;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}A0(){this.qa=26}YX(){const c=this.S;c.disable(c.STENCIL_TEST)}ZM(c,h,m,g,l){this.qa=27;this.Id=c?1:0;c=this.le;c[0]=h;c[1]=m;c[2]=g;c[3]=l}rY(){const c=this.S,h=this.le;1===this.Id?(c.enable(c.SCISSOR_TEST),c.scissor(h[0],h[1],h[2],h[3])):c.disable(c.SCISSOR_TEST)}ra(){switch(this.qa){case 1:this.dY();break;case 2:this.sY();break;case 3:this.fY();break;case 4:this.eY();break;case 5:this.uY();break;case 6:this.pY();
break;case 7:this.kY();break;case 8:this.qY();break;case 9:this.XX();break;case 10:this.cY();break;case 11:this.mY();break;case 12:this.nY();break;case 13:this.bY();break;case 14:this.lY();break;case 15:this.tY();break;case 16:this.VX();break;case 17:this.vY();break;case 18:this.aY();break;case 19:this.iY();break;case 20:this.jY();break;case 21:this.WX();break;case 22:this.gY();break;case 23:this.hY();break;case 24:this.$X();break;case 25:this.ZX();break;case 26:this.YX();break;case 27:this.rY()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.$a(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;d.oZ&&d.oZ.addEventListener("fontload",p=>{p=p.font.wa();for(const q of m)(q.Eh||d.gm(q.oA,p))&&q.fk()});function g(p,q,u,w,r,v){q?"Gecko"===d.Kc.mx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.Kc.mx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;d.I.LE=class{constructor(p,q){q=Object.assign({},a,q);this.ma=
p;this.oA="Arial";this.pA=16;this.qA=1;this.zp=0;this.pf=this.nf=!1;this.Yz="black";this.Eh=!1;this.VK=null;this.YG=new Set;this.kf="left";this.Qe="top";this.ib="";this.Tu=null;this.En=d.j(d.AF);this.kK="word";this.DI=this.cC=!1;this.Av=!0;this.bp=-1;this.R=this.T=this.wH=this.xr=this.Dr=0;this.Wh=1;this.rH=!1;this.Tv=this.Kl=this.Xd=this.Rp=null;this.uT=this.vT=-1;this.gB=this.xT=this.HI="";this.II=this.JI=1;this.JT=(u,w)=>this.VQ(u,w);this.mb=null;this.rw=this.vw=0;this.Zf=new d.Rect;this.ew=1;
this.dJ=!1;this.QJ=new d.q0(()=>{this.vi();this.IR(8,8)},q.timeout);this.JC=null;this.Hw=!1;m.add(this)}A(){this.VK=null;this.YG.clear();this.JT=this.Tv=this.Kl=this.Xd=this.Rp=this.Tu=null;this.QJ.A();this.JC=null;this.vi();this.En.pd();this.ma=this.En=null;this.Hw=!0;m.delete(this)}Qo(){this.rH=!0}fk(){this.Qo();this.En.pd();this.cC=!0}FO(){this.Av=!1}tg(){return this.Av}Y3(p){p=!!p;this.Eh!==p&&(p=(this.Eh=p)?"alphabetic":"top",this.Xd&&(this.Xd.textBaseline=p),this.Kl&&(this.Kl.textBaseline=p),
this.fk())}ZE(p){p||(p="serif");this.oA!==p&&(this.oA=p,this.fk())}$E(p){.1>p&&(p=.1);this.pA!==p&&(this.pA=p,this.fk())}o4(p){this.qA!==p&&(this.qA=p,this.fk())}JO(p){this.zp!==p&&(this.zp=p,this.Qo())}rO(p){p=!!p;this.nf!==p&&(this.nf=p,this.fk())}HO(p){p=!!p;this.pf!==p&&(this.pf=p,this.fk())}YE(p){p=Math.floor(p);this.bp!==p&&(this.bp=p,this.Qo())}Ji(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}cr(p,q){return!!this.Ji(p,q)}iQ(p,q){let u=[];(this.nf||this.cr(q,
"b"))&&u.push("bold");(this.pf||this.cr(q,"i"))&&u.push("italic");var w=this.Ji(q,"size");w=(w?parseFloat(w.$h):this.pA)*this.qA;p?u.push(w+"pt"):u.push(w*this.ew*this.Wh*self.devicePixelRatio+"pt");p=this.oA;(q=this.Ji(q,"font"))&&q.$h&&(p=q.$h,this.VK&&!this.YG.has(p)&&(this.VK(p),this.YG.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Dm(p){p instanceof d.$a&&(p=p.lea());this.Yz!==p&&(this.Yz=p,this.Qo())}tO(p,q,u){b.Ps(p,q,u);this.Dm(b)}CO(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.kf!==p&&(this.kf=p,this.Qo())}WO(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Qe!==p&&(this.Qe=p,this.Qo())}W4(p){if(!h.has(p))throw Error("invalid word wrap mode");this.kK!==p&&(this.kK=p,this.fk())}Uq(p){this.ib!==p&&(this.ib=p,this.fk())}kd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.xr===p&&this.wH===q&&this.Wh===u)){1===this.Wh!==(1===u)&&(this.dJ=!0);var w=this.xr,r=this.Wh;this.xr=p;this.wH=q;this.Wh=u;p=self.devicePixelRatio;this.T=this.xr*this.Wh*p;this.R=
this.wH*this.Wh*p;p=Math.max(this.T,this.R);q=Math.min(this.ma.tB,4096);u=1;p>q&&(u=q/p,this.T=Math.min(this.T*u,q),this.R=Math.min(this.R*u,q));this.ew=u;0<this.vw&&0<this.rw&&this.Wh===r&&this.Zf.set(0,0,this.T/this.vw,this.R/this.rw);this.xr!==w?this.fk():this.Qo()}}$(){return this.T}X(){return this.R}E_(){this.kG();return this.En.n_()}D_(){this.kG();return this.En.H_()+this.En.an.length*(this.zp+4)-this.zp}Od(){this.QJ.bd();this.D9();return this.mb}D9(){this.mb&&!this.rH&&!this.cC||this.DI||0>=
this.T||0>=this.R||(this.rH=!1,this.DI=!0,this.Av?d.Pn(()=>this.RP()):this.RP())}RP(){this.Hw||(this.IR(Math.ceil(this.T),Math.ceil(this.R)),this.kG(),this.H7(),this.Pba(),this.QJ.bd(),this.DI=!1)}IR(p,q){this.Rp||(this.Rp=d.eh(16,16));let u=!1;if(this.vT!==p||this.uT!==q)this.vT=p,this.uT=q,this.Rp.width=p,this.Rp.height=q,u=!0;this.Xd||(this.Xd=this.Rp.getContext("2d"),u=!0);u?(this.Xd.textBaseline=this.Eh?"alphabetic":"top",this.Xd.font=this.HI,this.Xd.fillStyle=this.gB,this.Xd.strokeStyle=this.gB,
this.Xd.globalAlpha=this.JI,this.Xd.lineWidth=this.II):this.Xd.clearRect(0,0,p,q)}NQ(){this.Kl||(this.Kl=d.eh(16,16).getContext("2d"),this.Tv=d.eh(16,16).getContext("2d"),this.Kl.textBaseline=this.Eh?"alphabetic":"top",this.Tv.textBaseline="top")}gba(p){this.xT!==p&&(this.xT=p,this.Kl.font=p,this.Tv.font=p)}QR(){if(!l){l=!0;this.NQ();const p=this.Kl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}kG(){this.cC&&(this.NQ(),!this.Eh||
this.Tu&&this.Tu.toString()===this.ib||(this.Tu=new d.nm(this.ib,{Qea:!0})),this.En.AF(this.Eh?this.Tu.sfa():this.ib,this.JT,this.xr,this.kK,0),this.cC=!1)}VQ(p,q){this.gba(this.iQ(!0,q));q=this.Ji(q,"size");q=(q?parseFloat(q.$h):this.pA)*this.qA;const u=this.Kl.measureText(p);let w=0;this.Eh&&this.QR()&&(w=u.fontBoundingBoxAscent-this.Tv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,ig:u.fontBoundingBoxAscent||0,Af:u.fontBoundingBoxDescent||0,Df:w}}Qaa(p){this.HI!==p&&(this.HI=
p,this.Xd.font=p)}vz(p){this.gB!==p&&(this.gB=p,this.Xd.fillStyle=p,this.Xd.strokeStyle=p)}Paa(p){this.JI!==p&&(this.JI=p,this.Xd.globalAlpha=p)}zR(p){this.II!==p&&(this.II=p,this.Xd.lineWidth=p)}H7(){this.Dr=0;const p=this.ew*this.Wh*self.devicePixelRatio,q=(4+this.zp)*p;var u=0;const w=this.En.an;if(0!==w.length){var r=this.Eh&&this.QR(),v=w[0].height*p;"center"===this.Qe?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.R/2-u/2,0),r&&(v=w[0].Df*p)):"bottom"===this.Qe&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.zp*p,u=this.R-u-(r?w.$d(-1).Af*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Eh){if(u+=0===y?v:G,0<y&&u>this.R-4*p)break}else if(0<y&&u>=this.R-G)break;0<=z&&this.G7(r,u,p);this.Eh||(u+=G);u+=q}}}G7(p,q,u){let w=0;"center"===this.kf?w=(this.T-p.width*u)/2:"right"===this.kf&&(w=this.T-p.width*u);for(const r of p.iV)this.F7(r,w,q,u,p.height),w+=r.width*u}F7(p,q,u,w,r){const v=this.Xd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.zp)*w,F=p.gd,H=p.text;if(-1!==this.bp){if(this.Dr>=this.bp)return;this.Dr+H.length>this.bp&&(H=H.substr(0,this.bp-this.Dr),r=this.VQ(H,F).width*w);this.Dr+=H.length}var J=this.Ji(F,"background"),M=this.cr(F,"u");p=this.cr(F,"s");if((!d.yE(H)||J||M||p)&&!this.cr(F,"hide")){var Q=this.Ji(F,"offsetx");q+=Q?parseFloat(Q.$h)*w:0;Q=this.Ji(F,"offsety");u+=Q?parseFloat(Q.$h)*w:0;J&&(this.vz(J.$h),v.fillRect(q,u-A,r,A+z));Q=this.Ji(F,"color");this.vz(Q?Q.$h:this.Yz);z=this.Ji(F,"opacity");this.Paa(z?
parseFloat(z.$h)/100:1);z=(z=this.Ji(F,"linethickness"))?parseFloat(z.$h):1;(J=this.cr(F,"stroke"))&&this.zR(.5*G*z*this.ew*this.Wh*self.devicePixelRatio);this.Qaa(this.iQ(!1,F));g(v,J,H,q,u,r);!J&&(this.zR(.5*G*z*this.ew*this.Wh*self.devicePixelRatio),F=this.Ji(F,"outline"))&&(this.vz(F.$h),g(v,!0,H,q,u,r));this.vz(Q?Q.$h:this.Yz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Pba(){this.ma.mo()||(this.vw=Math.ceil(this.T),
this.rw=Math.ceil(this.R),this.Zf.set(0,0,this.T/this.vw,this.R/this.rw),this.dJ&&(this.vi(),this.dJ=!1),this.mb||(this.mb=this.ma.NL(this.vw,this.rw,{HC:1===this.Wh,Ww:"high"})),this.ma.D5(this.Rp,this.mb),this.JC&&this.JC())}li(){return this.Zf}vi(){this.mb&&(this.ma.mo()||this.ma.vj(this.mb),this.mb=null)}static dl(){for(const p of m)p.vi()}}}
{"use strict";const d=self.B;class a{constructor(b){this.S=b.S;this.Wc=b.Wc;this.xd=b.xd;this.Nh=null;this.rv=this.Eb=!1;this.LB=0;this.Nh=1===this.Wc?this.xd.createQueryEXT():this.S.createQuery()}A(){this.MP();this.xd=this.S=null;this.rv=!1}MP(){this.Nh&&(1===this.Wc?this.xd.deleteQueryEXT(this.Nh):this.S.deleteQuery(this.Nh),this.Nh=null)}cD(){if(this.Eb)throw Error("query already active");1===this.Wc?this.xd.beginQueryEXT(this.xd.TIME_ELAPSED_EXT,this.Nh):this.S.beginQuery(this.xd.TIME_ELAPSED_EXT,
this.Nh);this.Eb=!0}wD(){if(!this.Eb)throw Error("query not active");1===this.Wc?this.xd.endQueryEXT(this.xd.TIME_ELAPSED_EXT):this.S.endQuery(this.xd.TIME_ELAPSED_EXT);this.Eb=!1}kD(){if(this.Nh&&!this.rv&&!this.Eb){var b=1===this.Wc?this.xd.getQueryObjectEXT(this.Nh,this.xd.QUERY_RESULT_AVAILABLE_EXT):this.S.getQueryParameter(this.Nh,this.S.QUERY_RESULT_AVAILABLE);var e=this.S.getParameter(this.xd.GPU_DISJOINT_EXT);b&&!e&&(this.LB=1===this.Wc?this.xd.getQueryObjectEXT(this.Nh,this.xd.QUERY_RESULT_EXT):
this.S.getQueryParameter(this.Nh,this.S.QUERY_RESULT),this.LB/=1E9,this.rv=!0);(b||e)&&this.MP()}}ly(){return this.rv}dy(){if(!this.rv)throw Error("no result available");return this.LB}}d.I.M5=class{constructor(b){this.ma=b;this.Ch=b.Ch;this.Eb=!1;this.gn=null;this.Ym=!1;this.es=null;this.Ip=[]}A(){for(const b of this.Ip)b instanceof a&&b.A();d.D(this.Ip);this.ma=this.es=this.gn=null}cD(){if(this.Eb)throw Error("query already active");const b=this.ma.zU;0<b.length?(this.Ym=!0,this.gn=b.$d(-1),this.gn.WP(),
this.gn.Ip.push(this)):(this.Ym=!1,this.gn=null);this.Eb=!0;b.push(this);this.OR()}wD(){if(!this.Eb)throw Error("query not active");if(this.ma.zU.pop()!==this)throw Error("can only end most nested query");this.Eb=!1;this.WP();this.gn&&(this.gn.OR(),this.gn=null)}OR(){this.es=d.j(a,this.ma);this.Ip.push(this.es);this.es.cD()}WP(){this.es.wD();this.es=null}kD(){for(const b of this.Ip)b.kD()}ly(){return this.Ip.every(b=>b.ly())}dy(){return this.Ip.reduce((b,e)=>b+e.dy(),0)}}}
{"use strict";const d=self.B;d.I.mP=class{constructor(a,b=1E3){this.ma=a;this.ada=b;this.jk=[];this.ma.c6(this)}A(){this.pd();this.ma.S$(this);this.ma=null}pd(){for(const a of this.jk)a.A();d.D(this.jk)}aD(){const a=new d.I.M5(this.ma);this.jk.push(a);this.jk.length>this.ada&&this.jk.shift().A();return a}hX(a){for(const b of this.jk){if(b.Ch>=a)break;if(b.Ym)break;b.kD()}}uM(a,b){if(b<=a)return NaN;let e=0;for(const c of this.jk){if(c.Ch>=b)break;if(!(c.Ch<a))if(c.ly())e+=c.dy();else return NaN}return e}TL(a){for(let b=
0,e=this.jk.length;b<e;++b){const c=this.jk[b];if(c.Ch<a)c.A();else{0<b&&this.jk.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.rj,b=a.cx,e=a.hm,c={powerPreference:"default",hV:!0,alpha:!1,PK:!1,depth:!1,uK:!1,vV:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new d.td(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),n=new d.td,p=new d.Rect;let q=null;d.Qw&&(self.kpa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.lpa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Nda()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.I.L5=class extends d.I.y3{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.PK&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.vV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.S=G;this.dS=G.getContextAttributes();y.PK&&!this.dS.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Wc=z;this.fg=b.create();this.Tm=!1;this.Mz=e.create();this.cm=!!y.depth;this.Wu=!(!y.depth||!y.uK);this.qp=this.cm;this.pI=!1;this.Jg=null;this.nI=!0;this.pS=this.qS=0;this.DB=this.bT=this.bC=this.oC=null;this.Ew=
new Float32Array(24E3);this.cT=new Uint16Array(12E3);this.Qp=new Float32Array(16E3);this.WT=new Float32Array(32E3);this.yT=this.EB=this.qe=this.Vh=0;this.Mp=this.xp=null;this.Su=[];this.Qb=this.Nm=0;this.Qd=null;this.rc=d.j(d.I.PW,this);this.Mv=d.j(d.$a,1,1,1,1);this.$m=this.Il=null;this.EI=this.GI=0;this.Uca=new d.Rect;this.fB=d.j(d.Rect,0,0,-1,-1);this.tB=-1;this.YI=0;this.Bw="(unavailable)";this.tI=!1;this.gv=this.Lu=this.lJ=null;this.XI=0;this.Rca=!!y.hV;this.xd=null;this.Gz=new Set;this.zU=[];
this.jZ(this.cT)}ri(){return!0}async qy(){super.qy();var v=this.S;this.Mv.Mn(1,1,1,1);this.$m=this.Il=null;this.EB=this.Vh=0;this.yT=23988;d.D(this.Su);this.Qb=this.Nm=0;this.Qd=this.xp=null;this.Uca.set(0,0,1,1);var y=this.rc;y.Xh=null;y.dm=null;y.pj=null;b.set(y.uC,1,1,1,1);y.clearColor.Mn(0,0,0,0);y.$K.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.GI=v.ONE;this.EI=v.ONE_MINUS_SRC_ALPHA;this.F8(v);v.disable(v.CULL_FACE);
v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.cm?(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.qp=this.cm;this.pI=!1;this.DB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.DB);v.bufferData(v.ARRAY_BUFFER,this.WT.byteLength,v.DYNAMIC_DRAW);this.oC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.oC);v.bufferData(v.ARRAY_BUFFER,this.Ew.byteLength,v.DYNAMIC_DRAW);this.bC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.bC);v.bufferData(v.ARRAY_BUFFER,
this.Qp.byteLength,v.DYNAMIC_DRAW);this.bT=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.bT);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.cT,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.tB=v.getParameter(v.MAX_TEXTURE_SIZE);this.YI=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.YI&&(this.YI=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Bw=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.lJ=v.getExtension("KHR_parallel_shader_compile");
d.Qw&&(q=v.getExtension("WEBGL_lose_context"));if(this.Rca)if(1===this.Wc){if("Chromium"!==d.Kc.mx||81<=d.Kc.eD||"undefined"!==typeof document)this.xd=v.getExtension("EXT_disjoint_timer_query")}else this.xd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.XI=(this.Lu=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Lu.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Wc&&this.cm&&this.Wu&&(this.gv=v.getExtension("WEBGL_depth_texture"),
!this.gv))throw Error("no depth texture support");2>this.Wc&&v.getExtension("EXT_frag_depth");v=d.I.ju;y=v.Nx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Nx(!0),"<tilemap>"]].map(A=>this.qD({src:A[0]},A[1],A[2])));this.WB=v[0];this.Mp=v[1];this.VB=v[2];this.FJ=v[3];this.Zj()}async qD(v,y,A){v=await d.I.ju.La(this,v,y,A);this.d6(v);return v}E3(){this.xp=null}kd(v,y,A){if(this.T!==v||this.R!==y||A){this.wj();A=this.S;var G=this.rc;this.T=v;this.R=y;this.LR(v,y);this.Rn(this.Mz,v/y);this.Do(this.Mz);this.Mp&&(A.useProgram(this.Mp.Jf()),this.Mp.YR(this.sB),this.xp=this.Mp,this.rc.Xh=this.Mp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.$m=this.Il=null;this.cm&&this.nI&&this.yG(this.T,this.R);this.Qd&&this.Qd.lR(this.T,this.R);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Qd=null;G.dm=null;G.pj=null}}yG(v,y){const A=this.S;this.Jg&&this.qS===v&&this.pS===y||(this.Wu?(this.Jg&&A.deleteTexture(this.Jg),this.Jg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Jg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Wc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.gv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.gv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Jg&&A.deleteRenderbuffer(this.Jg),this.Jg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Jg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Wc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.qS=v,this.pS=y)}n4(v,y){this.cm&&(this.nI=!1,this.yG(v,y))}X3(){this.cm&&(this.nI=!0,this.yG(this.T,this.R))}LR(v,y){const A=this.fg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.pc().S0(v,y),b.set(A,0,0,v,y),this.Qb=0}aF(v){super.aF(v);this.Rn(this.Mz,this.T/this.R)}Do(v){e.qj(this.sB,v)||(this.pc().P0(v),e.na(this.sB,v),this.Qb=0,this.Tm=!0)}wO(){let v,y;var A=this.Qd;
null===A?(v=this.Mz,y=this.$(),A=this.X()):(v=A.x_(),y=A.$(),A=A.X());this.Do(v);this.LR(y,A)}Oq(v){e.qj(this.VI,v)||(this.pc().M0(v),e.na(this.VI,v),this.Qb=0,this.Tm=!0)}C3(){this.Tm=!1}pc(){const v=this.Su;this.Nm===v.length&&v.push(new d.I.K5(this.rc));return v[this.Nm++]}wj(){0===this.Nm||this.mo()||(this.Yba(),this.K7(),this.Qb=this.EB=this.qe=this.Vh=this.Nm=0)}Yba(){const v=this.S;0<this.EB&&(v.bindBuffer(v.ARRAY_BUFFER,this.DB),v.bufferSubData(v.ARRAY_BUFFER,0,this.WT.subarray(0,this.EB)));
0<this.Vh&&(v.bindBuffer(v.ARRAY_BUFFER,this.oC),v.bufferSubData(v.ARRAY_BUFFER,0,this.Ew.subarray(0,this.Vh)),v.bindBuffer(v.ARRAY_BUFFER,this.bC),v.bufferSubData(v.ARRAY_BUFFER,0,this.Qp.subarray(0,this.qe)))}K7(){const v=this.Su;for(let y=0,A=this.Nm;y<A;++y)v[y].ra()}Ld(){return this.Mv.Sa}df(v,y,A,G){const z=this.Mv;z.xC(v,y,A,G)||(z.Mn(v,y,A,G),this.pc().hE(z),this.Qb=0,this.Ui=null)}Ai(v){const y=this.Mv;y.Sa!==v&&(y.Ns(v),this.pc().hE(y),this.Qb=0,this.Ui=null)}Dm(v){const y=this.Mv;y.fd(v)||
(y.set(v),this.pc().hE(y),this.Qb=0,this.Ui=null)}Rt(){this.df(1,1,1,1)}Pf(v){v!==this.Il&&(this.pc().R0(v),this.Il=v,this.Qb=0)}qG(){this.Il=null}Of(v){v=this.e8(v);this.xG(v[0],v[1])}xG(v,y){if(v!==this.GI||y!==this.EI)this.pc().J0(v,y),this.GI=v,this.EI=y,this.Qb=0,this.Ui=null}qO(){this.xG(this.S.ONE,this.S.ONE_MINUS_SRC_ALPHA)}XE(){this.xG(this.S.ONE,this.S.ZERO)}Rect(v){this.XN(v.V,v.O,v.ca,v.Z)}XN(v,y,A,G){this.g3(v,y,A,y,A,G,v,G)}ou(){let v=this.Vh;v>=this.yT&&(this.wj(),v=0);1===this.Qb?
this.Su[this.Nm-1].Bl+=6:(this.pc().I0(v),this.Qb=1)}KG(v){v.Efa(this.Ew,this.Vh,this.Qu+this.dv);this.Vh+=12}td(v){this.ou();this.KG(v);m.bh(this.Qp,this.qe);this.qe+=8}g3(v,y,A,G,z,F,H,J){this.ou();const M=this.Ew;let Q=this.Vh;const R=this.Qu+this.dv;M[Q++]=v;M[Q++]=y;M[Q++]=R;M[Q++]=A;M[Q++]=G;M[Q++]=R;M[Q++]=z;M[Q++]=F;M[Q++]=R;M[Q++]=H;M[Q++]=J;M[Q++]=R;this.Vh=Q;m.bh(this.Qp,this.qe);this.qe+=8}Eq(v,y){this.ou();this.KG(v);y.Dfa(this.Qp,this.qe);this.qe+=8}h3(v,y){this.ou();this.KG(v);y.bh(this.Qp,
this.qe);this.qe+=8}Gy(v,y,A,G,z,F,H,J,M,Q,R,T,Z){this.ou();const X=this.Ew;let ba=this.Vh;const Y=this.Qu+this.dv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=Q;X[ba++]=R;X[ba++]=Y+T;this.Vh=ba;Z.bh(this.Qp,this.qe);this.qe+=8}qZ(v,y){e.na(g,this.sB);e.na(l,this.VI);this.wO();const [A,G]=this.tt(this.Qd);var z=this.Vs(0,0,this.Ff(G),0,0,G);this.Oq(z);if("crop"===v&&this.Qd&&y){v=this.T/2;z=this.R/2;const J=y.$();y=y.X();var F=this.Qd.$(),
H=this.Qd.X();F=Math.min(F,J);const M=Math.min(H,y),Q=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.tj(p);p.set(0,Q,F,M+Q);p.em(J,y);this.Eq(n,p)}else v=A/2,z=G/2,this.XN(-v,z,v,-z);this.Do(g);this.Oq(l)}Sq(v){this.xp!==v&&(this.pc().N0(v),this.xp=v,this.Qb=0,this.Ui=null)}QO(v,y,A,G,z,F,H,J,M,Q,R,T){const Z=this.xp;var X=Z.RS;const ba=!!T.length;if(X&&!Z.JW(y,A,G,z,F,H,J,M,Q,R)||ba&&!Z.IW(T)){var Y=this.pc();Y.O0();X&&(Z.z4(y,A,G,z,F,H,J,M,Q,R),X=Y.le,X[0]=F,X[1]=H,y.bh(X,2),X[6]=
M,X[7]=Q,A.bh(X,12),y=Y.Yo,z.bh(y,0),z=y[1],y[1]=y[3],y[3]=z,G.bh(Y.tU,0),Y.Id=R,Y.Bl=J,Y.Ne=Z.ys.W?v?v.Od():null:null);ba&&(Z.e4(T),d.Hc(Y.OB,T));this.Qb=0}}Tn(){this.pc().z0();this.Qb=0}pd(v){this.pc().y0(v);this.Qb=0}gu(){}iq(){super.iq();this.S.flush()}iX(){this.cm&&this.Qd&&this.Qd.Pc&&(this.pc().x0(this.qp),this.Qb=0)}xg(v){v=!!v;this.qp!==v&&this.cm&&(this.qp=v,this.pc().K0(v),this.Qb=0)}Xt(v){v=!!v;if(this.Wu&&this.pI!==v){if(v&&this.qp)throw Error("depth still enabled");this.pI=v;this.pc().L0(v);
this.Qb=0}}G4(v,y,A,G,z=0){v=Math.floor(v);y=Math.floor(y);A=Math.floor(A);G=Math.floor(G);this.fB.fea(v,y,A,G)||(this.fB.ah(v,y,A,G),y=(z||this.tt(this.Jj())[1])-y-G,this.pc().ZM(!0,v,y,A,G),this.Qb=0)}ZN(){-1!==this.fB.ca&&(this.fB.set(0,0,-1,-1),this.pc().ZM(!1,0,0,0,0),this.Qb=0)}gX(){for(const v of this.Gz)v.hX(this.Ch)}mo(){return!this.S||this.S.isContextLost()||this.tI}dl(){super.l2();d.I.bz.dl();d.I.nP.dl();d.I.LE.dl();for(const v of this.Gz)v.pd();this.gv=this.Lu=this.lJ=this.xd=null;this.XI=
0;this.Bw="(unavailable)";this.Jg=this.Mp=this.xp=null;for(const v of this.mw.values())v.dl()}async EE(){this.tI=!0;await this.qy();this.tI=!1;for(const v of this.mw.values())v.EE(this);this.kd(this.T,this.R,!0)}PL(v,y){if(this.mo())throw Error("context lost");this.wj();const A=d.j(d.I.bz,this);A.L6(v,y);return A}async rD(v,y){if(this.mo())throw Error("context lost");y=Object.assign({},y);if(d.ub.ImageBitmapOptions){let A=await createImageBitmap(v,{premultiplyAlpha:"premultiply"});const G=y.UC&&"clamp-to-edge"!==
y.UC||y.VC&&"clamp-to-edge"!==y.VC,z=d.Zh(A.width)&&d.Zh(A.height);this.Go()||z||!G?y.premultiplyAlpha=!1:d.ub.ny?(A=await createImageBitmap(v,{premultiplyAlpha:"premultiply",resizeWidth:d.IC(A.width),resizeHeight:d.IC(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(v,{premultiplyAlpha:"none"});return await d.Pn(()=>this.PL(A,y))}if(v instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");v=await d.UW(v)}return await d.Pn(()=>this.PL(v,
y))}NL(v,y,A){this.wj();const G=d.j(d.I.bz,this);G.y6(v,y,A);return G}D5(v,y){this.wj();y.TR(v,void 0)}vj(v){v&&(v.m5(),0<v.Ec||(this.wj(),v===this.Il&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Il=null),v===this.$m&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.$m=null),v.OF()))}IX(v){let y=this.T,A=this.R,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||
0>=A)throw Error("invalid size");this.wj();const z=d.j(d.I.nP,this);z.x6(y,A,Object.assign({oV:G},v));this.Qd=null;this.rc.dm=null;this.rc.pj=null;return z}yg(v,y=!0){v!==this.Qd&&(v&&v.LA&&v.lR(this.T,this.R),this.pc().Q0(v),this.Qd=v,this.Qb=0,y&&this.wO())}Jj(){return this.Qd}tt(v){return v?[v.$(),v.X()]:[this.T,this.R]}KL(v){2>this.Wc||this.Qd&&0<this.Qd.Ll?(this.XE(),this.Rt(),this.Dx(v,"stretch")):(this.pc().v0(v,this.Qd),this.Qb=0)}Dx(v,y="stretch"){v=v.Od();if(!v)throw Error("not a texture-backed render target");
this.Pf(v);this.qZ(y,v)}vq(v){2>this.Wc||(this.pc().E0(v.Lg),this.Qb=0)}UX(v){this.yg(null);this.wj();const y=v.Od();y===this.Il&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Il=null);y===this.$m&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.$m=null);v.OF()}JL(){this.xg(!0);this.pc().C0();this.Qb=0}IL(){this.xg(!1);this.pc().B0();this.Qb=0}HL(){this.xg(!0);this.pc().A0();this.Qb=0}sF(v){this.$j()&&(this.pc().U0(v),
this.Qb=0)}vD(v){this.$j()&&(this.pc().D0(v),this.Qb=0)}Uba(v){const y=new Promise(A=>u.add({resolve:A,Nda:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}g1(){return!!this.dS.desynchronized}IZ(){let v=0;for(const y of d.I.bz.Eda())v+=y.KD();return v}Go(){return 2<=this.Wc}$j(){return!!this.xd}c6(v){this.Gz.add(v)}S$(v){this.Gz.delete(v)}F8(v){this.E8([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={jV:null,kV:null,GV:null,getTime:null,FV:null};self.B.I.$Y=class{constructor(a){a=Object.assign({},d,a);this.jS=a.jV;this.rca=a.kV;this.uca=a.GV;this.sca=a.getTime;this.tca=a.FV}mM(a){return this.jS?this.jS(a):[a.$(),a.X()]}Jj(a){return this.rca(a)}o3(a,b){this.uca(a,b)}xa(){return this.sca()}Iy(a){this.tca(a)}}}
{"use strict";const d=self.B,a=self.rj.hm,b=d.j(d.Rect),e=d.j(d.Rect),c=d.j(d.Rect),h=d.j(d.Rect),m=a.create(),g=a.create(),l={wC:null,lV:null,BC:null,JK:!1},n={Fs:null,zC:!1,BK:!1,KK:!1,OK:!1,qV:!1,RC:!1},p={sC:null,dpa:null,Gn:0,devicePixelRatio:1,Rw:1,FC:0,Ks:null,Mw:null,fV:null,ZU:0,$U:0,bW:!1};d.I.ve=class{constructor(q,u){u=Object.assign({},l,u);this.Qg=q;this.oH=u.wC;this.Yu=u.lV;this.kS=u.BC;this.Uz=null;this.PB=[];this.fw=[];this.Pp=[];this.Fg=0;this.Cn=this.Xu=this.rS=this.Tm=this.JA=this.mI=
!1;this.Cp=0;this.Rl=[null,null,null];this.hT=!!u.JK;this.Bc=this.Qc=this.lr=this.kr=0;this.Rm=null;this.Nv=d.j(d.Rect);this.lk=d.j(d.Rect);this.Ql=d.j(d.Rect);this.ds=d.j(d.Rect);this.ln=d.j(d.Rect);this.lB=this.Sm=1;this.Wb=this.KI=0;this.eA=null;this.uH=this.tH=0;this.cK=!1;this.xk=a.create();this.Vv=a.create()}A(){d.D(this.Pp);d.D(this.PB);d.D(this.fw);this.kS=this.Yu=this.oH=this.Rm=null}fD(q,u){u=Object.assign({},n,u);d.D(this.Pp);this.lr=this.kr=0;this.JA=this.mI=!1;this.Cp=0;this.Cn=!!u.RC;
d.Hc(this.PB,q);if(0!==q.length){if(u.Fs){if(u.Fs.length!==q.length)throw Error("incorrect indexMap length");d.Hc(this.fw,u.Fs)}else{d.D(this.fw);for(let v=0,y=q.length;v<y;++v)this.fw.push(v)}for(var w of q)this.kr+=w.AS,this.lr+=w.BS,w.dca&&(this.mI=!0),w.kC&&(this.JA=!0);w=q[0];if(1!==q.length||w.jH||w.oS||!u.RC&&(0!==w.AS||0!==w.BS)||u.zC||w.Bq()||u.BK||u.KK||!this.Cn&&w.kC||w.eb().ri()&&w.jC&&u.OK){this.Xu=!1;w=this.uba(w,u);u=this.tba(q.$d(-1),u);var r=0;w&&(this.Cp=1,this.Pp.push(d.j(d.I.ve.ph.X2,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Cp=Math.max(this.Cp,q),this.Pp.push(d.j(d.I.ve.ph.VW,this,r,q,v)),r=q):(this.Cp=1,this.Pp.push(d.j(d.I.ve.ph.nZ,this,-1,1,v)),r=1);u&&this.Pp.push(d.j(d.I.ve.ph.U2,this,r,0))}else this.Xu=!0}}uba(q,u){const w=q.eb().ri()&&u.OK;return u.zC||u.KK||!this.Cn&&q.kC||q.Bq()||q.jH&&(u.qV||w)||w&&q.jC||0!==this.kr||0!==this.lr}tba(q,u){return u.BK||q.jH||q.oS}zo(q,u,w){w=Object.assign({},p,w);this.eA=u;this.Rm=w.sC;
this.Fg=w.Gn;this.Sm=w.devicePixelRatio;this.lB=w.Rw;this.KI=w.FC;this.Wb=this.Qg.xa();this.Tm=!1;q.C3();this.mI&&this.D$();if(this.Xu)this.V$(q,w);else{var [r,v]=this.Qg.mM(q);this.Raa(q,r,v);this.q6(w);q.Rt();q.Kq(0);q.Wt(0);this.Uz=w.fV;this.tH=w.ZU||0;this.uH=w.$U||0;this.cK=!!w.bW;this.Q9(q);this.Rl[0]=u;this.Rl[1]=1<=this.Cp?this.oQ():null;this.Rl[2]=2===this.Cp?this.oQ():null;for(const y of this.Pp)y.St(q,this.pQ(y.tda),this.pQ(y.sS));this.Rl[1]&&this.gR(this.Rl[1]);this.Rl[2]&&this.gR(this.Rl[2]);
this.Rl.fill(null);this.N9(q);this.Uz=this.Rm=this.eA=null}}Raa(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.Qc===u&&this.Bc===w||this.AP(q,u,w,0,0,this.xk,this.Vv);this.Qc=u;this.Bc=w}AP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.Rn(y,u/w);q=q.Vs(r,v,q.Ff(w),r,v,w);a.na(A,q)}q6(q){this.Nv.na(q.Ks);q.Mw?this.lk.na(q.Mw):this.lk.set(0,0,this.Qc,this.Bc);this.Ql.na(this.lk);this.Ql.em(this.Qc,this.Bc);q=q.Rw*q.devicePixelRatio;this.lk.DC(this.kr*q,this.lr*q);this.ln.na(this.lk);this.ln.em(this.Qc,
this.Bc);this.lk.da(0,0,this.Qc,this.Bc);this.ds.na(this.lk);this.ds.em(this.Qc,this.Bc)}Q9(q){this.rS=q.qp;if(this.Cn)q.xg(!1),this.JA&&q.Xt(!0);else{b.na(this.lk);if(q.ri()){const u=this.lB*this.Sm;b.DC(Math.max(this.kr,1)*u,Math.max(this.lr,1)*u);b.JV();b.da(0,0,this.Qc,this.Bc)}else b.JV();q.G4(b.V,b.O,b.width(),b.height(),this.Bc)}}M9(q){q.Rt();this.Cn||(q.xg(!1),this.JA&&q.Xt(!0))}N9(q){q.Xt(!1);q.xg(this.rS);this.Cn||q.ZN();this.Tm=q.Tm}CP(){this.ln.da(0,0,1,1)}pQ(q){return 0>q?null:this.Rl[q]}oQ(){return this.Qg.Jj(this)}gR(q){this.Qg.o3(q,
this)}t8(q){return this.PB[q]}RF(q){this.Uz?this.Uz(this,q,()=>this.oH(q,this)):this.oH(q,this);this.Xu||this.M9(q)}X8(q){if(this.Cn)return!0;if(0!==this.tH||0!==this.uH)return!1;const [u,w]=q.tt(q.Jj());return u!==this.Qc||w!==this.Bc?!1:!0}yR(q,u){let w=this.xk,r=this.Vv;if(u&&!this.X8(q)){w=m;r=g;const [v,y]=q.tt(q.Jj());this.AP(q,v,y,this.tH,this.uH,w,r);this.Cn||q.ZN()}q.Do(w);q.Oq(r)}D$(){this.Qg.Iy(this)}uQ(q){return this.kS(this.fw[q])}hba(q,u){let w=this.ln,r=this.ds,v=this.Ql;q.ri()&&(e.na(w),
e.Jn(),w=e,c.na(r),c.Jn(),r=c,h.na(v),h.Jn(),v=h);this.QP(q,u,r,v,w,1/this.Qc,1/this.Bc)}Taa(q,u){let w=this.ds,r=this.Ql,v=1/this.Qc,y=1/this.Bc;if(this.Yu){let {UV:G,VV:z,TV:F}=this.Yu(this.Rm);G||(b.set(0,0,0,0),G=b);z||(z=this.Qc);F||(F=this.Bc);r=w=G;v=1/z;y=1/F}else q.ri()&&(c.na(w),c.Jn(),w=c,h.na(r),h.Jn(),r=h);let A=this.ln;q.ri()&&(A=e,A.na(this.ln),A.Jn());this.QP(q,u,w,r,A,v,y)}QP(q,u,w,r,v,y,A){u=this.uQ(u);q.QO(this.eA,v,w,r,this.Nv,y,A,this.Sm,this.lB,this.KI,this.Wb,u)}V$(q,u){var w=
this.PB[0];const r=q.qp,v=w.kC;v&&(q.xg(!1),q.Xt(!0),this.ln.set(0,0,1,1),this.Ql.set(0,0,1,1));q.Sq(w);q.Of(this.Fg);q.yg(this.eA);let y;this.Ql.set(0,0,1,1);if(w.jC&&this.Yu){const {UV:A,VV:G,TV:z}=this.Yu(this.Rm);A&&this.Ql.na(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Qg.mM(q);w=1/A;y=1/G}u.Ks?this.Nv.na(u.Ks):this.Nv.set(0,0,0,0);u=this.uQ(0);q.QO(null,this.ln,this.Ql,this.Ql,this.Nv,w,y,this.Sm,this.lB,this.KI,this.Wb,u);q.Kq(0);this.RF(q);v&&(q.Xt(!1),q.xg(r))}}}"use strict";
self.B.I.ve.ph=class{constructor(d,a,b,e=-1){this.yh=d;this.tda=a;this.sS=b;this.Ka=e}fi(){return this.yh}Ea(){return this.Ka}Jf(){return this.fi().t8(this.Ea())}St(){}};{"use strict";const d=self.B;d.I.ve.ph.X2=class extends d.I.ve.ph{constructor(a,b,e,c){super(a,b,e,c)}St(a,b,e){b=this.fi();a.qO();a.Zj();a.yg(e,b.cK);a.Tn();b.RF(a);b.CP()}}}
{"use strict";const d=self.B,a=d.j(d.Rect),b=d.j(d.td);d.I.ve.ph.U2=class extends d.I.ve.ph{constructor(e,c,h,m){super(e,c,h,m)}St(e,c,h){const m=this.fi();e.Zj();e.yg(h);m.yR(e,!0);e.Of(m.Fg);e.Pf(c.Od());b.tj(m.lk);a.na(m.ds);a.Jn();e.Eq(b,a);m.hT&&e.vq(c)}}}{"use strict";const d=self.B;d.I.ve.ph.nZ=class extends d.I.ve.ph{constructor(a,b,e,c){super(a,b,e,c)}St(a,b,e){b=this.fi();a.yg(e,b.cK);a.Tn();a.XE();a.Sq(this.Jf());b.Taa(a,this.Ea());b.RF(a);b.CP()}}}
{"use strict";const d=self.B,a=d.j(d.Rect),b=d.j(d.td);d.I.ve.ph.VW=class extends d.I.ve.ph{constructor(e,c,h,m){super(e,c,h,m)}St(e,c,h){const m=this.fi();e.yg(h);(h=0===this.sS)?e.Of(m.Fg):(e.Tn(),e.XE());e.Sq(this.Jf());m.hba(e,this.Ea());e.Pf(c.Od());m.yR(e,h);b.tj(m.lk);a.na(m.ds);a.Jn();e.Eq(b,a);m.hT&&e.vq(c)}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.k0=class{constructor(e){d=e;Object.defineProperties(this,{oea:{value:{},writable:!1},storage:{value:new self.m0(d),writable:!1},eqa:{value:d.ke,writable:!1}});d.Zd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Zd.addEventListener("keyup",c=>a.delete(c.key));d.Rb().addEventListener("window-blur",()=>a.clear());d.ke&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}I8(e){Object.defineProperties(this.oea,e)}addEventListener(e,c){d.Zd.addEventListener(e,c)}removeEventListener(e,c){d.Zd.removeEventListener(e,c)}get gV(){return d.HD()}random(){return d.Fq()}get GC(){return d.Mb().uv}get keyboard(){const e=d.Zz.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get wV(){const e=d.Zz.wV;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get mL(){const e=d.Zz.mL;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.to("runtime","alert",{message:e+(d.ke?" [via Web Worker]":"")})}}}"use strict";self.e0=class{constructor(){}};{"use strict";const d=self.kg;self.m0=class{constructor(a){this.ow=a.q8()}getItem(a){d.jd(a);return this.ow.getItem(a)}setItem(a,b){d.jd(a);return this.ow.setItem(a,b)}removeItem(a){d.jd(a);return this.ow.removeItem(a)}clear(){return this.ow.clear()}keys(){return this.ow.keys()}}}
{"use strict";const d=self.kg,a=new WeakMap;self.WM=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.G().LQ(this,b)}addEventListener(b,e){d.jd(b);d.Vj(e);a.get(this).Zd.addEventListener(b,e)}removeEventListener(b,e){d.jd(b);d.Vj(e);a.get(this).Zd.removeEventListener(b,e)}*nV(){for(const b of a.get(this).ja())yield b.ih()}xK(b){d.Nf(void 0);d.Nf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this);const c=e.G();b=c.Mb().ba(b);if(!b)throw Error("invalid layer");e=c.oD(e,b,void 0,void 0,void 0);b=c.ga();b.se(!0);e.Bz();b.se(!1);b.Ht()||c.yd();return e.ih()}}}
{"use strict";const d=self.kg,a=new WeakMap;self.j0=class{constructor(b){a.set(this,b);const e=[],c=b.Ja,h=c.ng().length;for(let m=0;m<h;++m)e.push(new self.fE(c,m));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.Ea(),writable:!1}})}addEventListener(b,e){d.jd(b);d.Vj(e);a.get(this).Zd.addEventListener(b,e)}removeEventListener(b,e){d.jd(b);d.Vj(e);a.get(this).Zd.removeEventListener(b,e)}get width(){return a.get(this).$()}set width(b){a.get(this).Fi(b)}get height(){return a.get(this).X()}set height(b){a.get(this).yi(b)}set scale(b){d.xi(b);
a.get(this).eF(b)}get scale(){return a.get(this).od}set angle(b){d.xi(b);a.get(this).Bd(b)}get angle(){return a.get(this).Ma()}set scrollX(b){d.Nf(b);a.get(this).Ci(b)}get scrollX(){return a.get(this).Hf()}set scrollY(b){d.Nf(b);a.get(this).Di(b)}get scrollY(){return a.get(this).If()}scrollTo(b,e){d.Nf(b);d.Nf(e);const c=a.get(this);c.Ci(b);c.Di(e)}*mK(){for(const b of a.get(this).mK())yield b.AA}set CV(b){d.jd(b);const e=a.get(this);if("perspective"===b)e.PO();else if("orthographic"===b)e.MO();else throw Error("invalid projection");
}get CV(){return a.get(this).qf?"orthographic":"perspective"}}}
{"use strict";const d=self.B,a=self.kg,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),h=d.j(d.$a);self.i0=class{constructor(m){b.set(this,m);const g=[],l=m.Ja,n=l.ng().length;for(let p=0;p<n;++p)g.push(new self.fE(l,p));Object.defineProperties(this,{name:{value:m.wa(),writable:!1},index:{value:m.Ea(),
writable:!1},GC:{value:m.Yb().uv,writable:!1}})}*XK(){for(const m of b.get(this).XK())yield m.AA}get isVisible(){return b.get(this).Qr}set isVisible(m){b.get(this).nh(m)}get opacity(){return b.get(this).Ld()}set opacity(m){m=d.da(+m,0,1);isNaN(m)||b.get(this).Ai(m)}set scale(m){a.xi(m);b.get(this).NO(m)}get scale(){return b.get(this).od}set angle(m){a.xi(m);b.get(this).Bd(m)}get angle(){return b.get(this).he}set gx(m){a.xi(m);b.get(this).ef(m)}get gx(){return b.get(this).ab()}set Gn(m){a.jd(m);m=
e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");b.get(this).Of(m)}get Gn(){return c.get(b.get(this).xj())}set backgroundColor(m){a.OE(m);if(3>m.length)throw Error("expected 3 elements");h.Ps(m[0],m[1],m[2]);m=b.get(this);const g=m.sl;g.fm(h)||(g.oj(h),m.G().aa())}get backgroundColor(){const m=b.get(this).sl;return[m.Ra,m.Ua,m.Ta]}set scrollX(m){a.Nf(m);const g=b.get(this);g.au(!0);g.Ci(m)}get scrollX(){return b.get(this).Hf()}set scrollY(m){a.Nf(m);const g=b.get(this);g.au(!0);g.Di(m)}get scrollY(){return b.get(this).If()}scrollTo(m,
g){a.Nf(m);a.Nf(g);const l=b.get(this);l.au(!0);l.Ci(m);l.Di(g)}}}
{"use strict";const d=self.B,a=self.kg,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=d.j(d.Event.Rb);e.set(m,g);return g}let h=null;self.uq=class{constructor(){b.set(this,h);const m={Cf:{value:h.G().bj,writable:!1},UK:{value:h.H().vv,writable:!1},uid:{value:h.Vc,writable:!1}};h.i8(m);h.d8(m);Object.defineProperties(this,m);h.G().LQ(this,h)}static Cg(m){h=m}static $q(){return h}Bu(){const m=e.get(this);m&&(m.A(),e.delete(this));b.delete(this)}addEventListener(m,g,l){a.jd(m);
a.Vj(g);c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.jd(m);a.Vj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.B,a=self.kg,b=self.uq,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.j(d.$a);self.my=class m extends b{constructor(){super();var g=b.$q();e.set(this,g);const l=[];var n=g.m();if(g=n.Xf){n=n.H().Ja.ng().length;for(let p=0;p<n;++p)l.push(new self.fE(g,p))}}get GC(){return e.get(this).m().Yb().uv}get uV(){return e.get(this).m().ba().AA}get x(){return e.get(this).m().oa()}set x(g){g=
+g;const l=e.get(this).m();isNaN(g)||l.oa()===g||(l.oh(g),l.Xa())}get y(){return e.get(this).m().pa()}set y(g){g=+g;const l=e.get(this).m();isNaN(g)||l.pa()===g||(l.Gi(g),l.Xa())}get gx(){return e.get(this).m().ab()}set gx(g){g=+g;const l=e.get(this),n=l.m();isNaN(g)||n.ab()===g||(n.ef(g),l.G().aa())}get width(){return e.get(this).m().$()}set width(g){g=+g;const l=e.get(this).m();isNaN(g)||l.$()===g||(l.Fi(g),l.Xa())}get height(){return e.get(this).m().X()}set height(g){g=+g;const l=e.get(this).m();
isNaN(g)||l.X()===g||(l.yi(g),l.Xa())}get angle(){return e.get(this).m().Ma()}set angle(g){g=d.re(+g);const l=e.get(this).m();isNaN(g)||l.Ma()===g||(l.Bd(g),l.Xa())}FK(){e.get(this).m().$c().rfa()}get isVisible(){return e.get(this).m().Jc()}set isVisible(g){g=!!g;const l=e.get(this),n=l.m();n.Jc()!==g&&(n.nh(g),l.G().aa())}get opacity(){return e.get(this).m().Ld()}set opacity(g){g=d.da(+g,0,1);const l=e.get(this),n=l.m();isNaN(g)||n.Ld()===g||(n.Ai(g),l.G().aa())}set Gn(g){a.jd(g);g=c.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const l=e.get(this);l.m().Of(g);l.G().aa()}get Gn(){return h.get(e.get(this).m().xj())}get zIndex(){return e.get(this).m().Oj()}zf(g,l){a.Nf(g);a.Nf(l);return e.get(this).m().Ws(+g,+l)}getParent(){const g=e.get(this).Ba();return g?g.ih():null}*Xw(){for(const g of e.get(this).Xw())yield g.ih()}*children(){for(const g of e.get(this).children())yield g.ih()}*Kk(){for(const g of e.get(this).Kk())yield g.ih()}removeChild(g){a.PE(g,m);const l=e.get(this);g=e.get(g);
l.Uj(g)}}}{"use strict";const d=new WeakMap;self.h0=class extends self.my{constructor(){super();d.set(this,self.uq.$q())}focus(){d.get(this).ka.eM()}blur(){d.get(this).ka.wL()}}}
{"use strict";const d=self.B,a=self.kg,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=d.j(d.Event.Rb);e.set(m,g);return g}let h=null;self.g0=class{constructor(){b.set(this,h);const m={Cf:{value:h.G().bj,writable:!1},behavior:{value:h.om().ZZ(),writable:!1}};Object.defineProperties(this,m)}static Cg(m){h=m}static $q(){return h}get instance(){return b.get(this).ia.ih()}Bu(){const m=e.get(this);m&&(m.A(),e.delete(this));b.delete(this)}addEventListener(m,g,l){a.jd(m);a.Vj(g);
c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.jd(m);a.Vj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.f0=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Cf:{value:a.G().bj,writable:!1}})}}}
{"use strict";const d=self.B,a=self.kg,b=new WeakMap;self.fE=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).ng()[this.index].wa()}getParameter(e){a.xi(e);e=Math.floor(+e);const c=b.get(this).Rk(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.$a?[e.Ra,e.Ua,e.Ta]:e}}}
{"use strict";const d=new WeakMap;self.c0=class{constructor(a){d.set(this,a);Object.defineProperties(this,{name:{value:a.wa(),writable:!1},speed:{value:a.Mj(),writable:!1},ora:{value:a.rg(),writable:!1}})}*frames(){for(const a of d.get(this).ud)yield a.Hca}}}{"use strict";const d=new WeakMap;self.VM=class{constructor(a){d.set(this,a)}get width(){return d.get(this).$()}get height(){return d.get(this).X()}}}
{"use strict";const d=new WeakMap;self.d0=class extends self.VM{constructor(a){super(a.Xe());d.set(this,a);Object.defineProperties(this,{duration:{value:a.fA,writable:!1}})}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.NW=class extends d.ea{constructor(e,c){super();var h=c.exportType;this.g=e;this.oB=new Map;this.Wr=new Map;this.Zca=new Map;this.KA="cordova"===h;this.pT=!!c.isiOSCordova;this.Dv=!!c.isFileProtocol;this.vda=c.supportedAudioFormats||{};this.eca=
new Map;this.XS=this.GS="";this.cA="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.UG=[];this.dH=new Map;this.iK=[];this.mB=[];this.SS=!1;this.eB=this.cH=this.zw=0;this.YH=!1;this.Yca=d.j(d.k3,()=>this.aQ(),50);this.rJ=new d.SN(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(e,h);(h=c.projectData)&&(e["data.json"]=h);for(const [m,g]of Object.entries(e))this.oB.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.Zca.set(m,g);new self.e0(this)}A(){this.oB.clear();for(const e of this.Wr.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Wr.clear();for(const e of this.UG)e.A();d.D(this.UG);this.dH.clear();d.D(this.mB);this.g=null}G(){return this.g}Xaa(e){this.GS=e}bba(e){this.XS=e}aG(e){return this.oB.has(e.toLowerCase())}jz(e){return this.oB.get(e.toLowerCase())||null}zM(e){if(!this.aG(e))return e;e=e.toLowerCase();var c=this.Wr.get(e);c||(c=this.jz(e),c=URL.createObjectURL(c),
this.Wr.set(e,c));return c}Pk(e,c){c=c||this.cA;const h=this.jz(e);if(h)return Promise.resolve(h);if(d.xE(e)){const m=e.toLowerCase();return this.KA&&this.Dv?this.ML(m):"local"===c?this.rJ.Ic(()=>d.Pk(m)):d.Pk(m)}return d.Pk(e)}Zs(e){const c=this.jz(e);if(c)return d.TW(c);if(d.xE(e)){const h=e.toLowerCase();return this.KA&&this.Dv?this.LL(h):"local"===this.cA?this.rJ.Ic(()=>d.Zs(h)):d.Zs(h)}return d.Zs(e)}$s(e){const c=this.jz(e);if(c)return d.vL(c);if(d.xE(e)){const h=e.toLowerCase();return this.KA&&
this.Dv?this.AX(h):"local"===this.cA?this.rJ.Ic(()=>d.$s(h)):d.$s(h)}return d.$s(e)}async cM(e){e=await this.$s(e);return JSON.parse(e)}FF(e,c){return this.g.to("runtime","cordova-fetch-local-file",{filename:e,as:c})}AX(e){return this.FF(e,"text")}async ML(e){const c=await this.FF(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.$d(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async zX(e){e=e.toLowerCase();var c=this.Wr.get(e);if(c)return c;c=await this.ML(e);c=URL.createObjectURL(c);
this.Wr.set(e,c);return c}LL(e){return this.FF(e,"buffer")}SD(e,c=""){if(d.kE(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.aG(e)?Promise.resolve(this.zM(e)):this.KA&&this.Dv?this.zX(c+e):Promise.resolve(c+e.toLowerCase())}Cy(e){if(e.Uw&&!a.has(e.Uw))throw Error("invalid load policy");let c=this.dH.get(e.url);if(c)return c;c=d.j(d.XM,this,{url:e.url,size:e.size||0,Uw:e.Uw||this.cA});this.UG.push(c);this.dH.set(c.Ck,c);this.SS||(this.zw+=c.tm(),
this.mB.push(c.rN().then(()=>this.tP(c.tm()))));return c}async kP(){try{await Promise.all(this.mB),this.eB=1}catch(e){console.error("Error loading: ",e),this.YH=!0,this.aQ()}}s4(){this.SS=!0}tP(e){this.cH+=e;this.Yca.bX()}aQ(){const e=d.j(d.Event,"loadingprogress");this.eB=d.da(this.cH/this.zw,0,1);e.progress=this.eB;this.g.Rb().dispatchEvent(e)}pba(e){d.Hc(this.iK,e);this.iK.length&&this.mB.push(this.x9())}x9(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,h,m]of this.iK)this.zw+=
m,e.push(this.w9(c,h).then(()=>this.tP(m)));return Promise.all(e)}async w9(e,c){try{const h=await this.SD(c,this.GS),m=new FontFace(e,`url('${h}')`);this.g.ke?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${e}': `,h)}}a1(){return!!this.vda["audio/webm; codecs=opus"]}Iaa(e){for(const [c,h,m]of e)this.eca.set(c,{fileName:c,zpa:h.map(g=>({type:g[0],vpa:g[1],Mpa:c+g[1],fileSize:g[2]})),fqa:m})}async vN(e){e=await this.SD(e);return await this.g.to("runtime",
"add-stylesheet",{url:e})}}}
{"use strict";const d=self.B;d.MW=class extends d.ea{constructor(a,b){super();this.cd=a;this.g=a.G();this.Ck=b.url;this.js=b.size;this.RI=b.Uw;this.Uu=null;this.wI=!1;this.bn=null}A(){this.Uu=this.g=this.cd=this.bn=null}tm(){return this.js}rN(){return"local"===this.RI||this.Uu?(this.wI=!0,Promise.resolve()):this.bn?this.bn:this.bn=this.cd.Pk(this.Ck,this.RI).then(a=>{this.wI=!0;this.bn=null;return this.Uu=a}).catch(a=>console.error("Error loading resource: ",a))}uE(){return this.wI}yZ(){return this.Uu?Promise.resolve(this.Uu):
this.bn?this.bn:this.cd.Pk(this.Ck,this.RI)}}}
{"use strict";const d=self.B,a=new d.SN,b=new Set;d.XM=class extends d.MW{constructor(e,c){super(e,c);this.Ek=this.Sp=null;this.Ec=0;this.ZS=this.aT=-1;b.add(this)}A(){this.vi();if(0!==this.Ec)throw Error("released image asset which still has texture references");this.Sp=null;b.delete(this);super.A()}static Dq(){for(const e of b)e.Sp=null,e.Ek=null,e.Ec=0}It(e,c){c=c||{};this.Ec++;if(this.Ek)return Promise.resolve(this.Ek);if(this.Sp)return this.Sp;c.UU=this.g.L.yU;return this.Sp=this.yZ().then(h=>
a.Ic(()=>e.rD(h,c).then(m=>{this.Sp=null;if(0===this.Ec)return e.vj(m),null;this.Ek=m;this.aT=m.$();this.ZS=m.X();return this.Ek}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}vi(){if(0>=this.Ec)throw Error("texture released too many times");this.Ec--;0===this.Ec&&this.Ek&&(this.Ek.eb().vj(this.Ek),this.Ek=null)}Od(){return this.Ek}$(){return this.aT}X(){return this.ZS}}}
{"use strict";const d=self.B;function a(b,e){return b.m().Jk-e.m().Jk}d.w3=class extends d.ea{constructor(b,e,c){super();this.P=e;this.M=c;this.F=[];this.Gv=!0;this.gj=new Set;this.zv=!1}A(){d.D(this.F);this.gj.clear()}bd(){d.D(this.F);this.Gv=!0;this.gj.clear();this.zv=!1}c4(){this.Gv=!1}oo(){if(!this.F.length)return!0;if(this.F.length>this.gj.size)return!1;this.XF();return!0}iE(b){this.gj.has(b)?(this.gj.delete(b),0===this.gj.size&&(this.zv=!1)):(this.F.push(b),this.Gv=1===this.F.length)}kh(b){this.gj.add(b);
this.zv=!0;50<=this.gj.size&&this.XF()}XF(){this.zv&&(this.F.length===this.gj.size?this.bd():(d.hg(this.F,this.gj),this.gj.clear(),this.zv=!1))}J7(){this.Gv||(this.F.sort(a),this.Gv=!0)}tD(b){this.XF();this.J7();this.F.length&&b.push(this.F)}}}
{"use strict";const d=self.B;d.x3=class extends d.ea{constructor(a,b){super();this.qH=a;this.pH=b;this.Ri=d.j(d.Mt)}A(){this.Ri.A();this.Ri=null}pm(a,b,e){let c=this.Ri.Y(a,b);return c?c:e?(c=d.j(d.w3,this,a,b),this.Ri.Set(a,b,c),c):null}Hi(a){return Math.floor(a/this.qH)}Ii(a){return Math.floor(a/this.pH)}hl(a,b,e){if(b)for(let c=b.V,h=b.ca;c<=h;++c)for(let m=b.O,g=b.Z;m<=g;++m){if(e&&e.zf(c,m))continue;const l=this.pm(c,m,!1);l&&(l.kh(a),l.oo()&&this.Ri.Vn(c,m))}if(e)for(let c=e.V,h=e.ca;c<=h;++c)for(let m=
e.O,g=e.Z;m<=g;++m)b&&b.zf(c,m)||this.pm(c,m,!0).iE(a)}Hy(a,b){let e=this.Hi(a.V);const c=this.Ii(a.O),h=this.Hi(a.ca);for(a=this.Ii(a.Z);e<=h;++e)for(let m=c;m<=a;++m){const g=this.pm(e,m,!1);g&&g.tD(b)}}M1(a){let b=a.V;const e=a.O,c=a.ca;for(a=a.Z;b<=c;++b)for(let h=e;h<=a;++h){const m=this.pm(b,h,!1);m&&m.c4()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.td,e=[];new d.Rect;new d.Rect;const c=self.rj,h=c.SC,m=c.cx,g=c.hm;g.create();const l=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=d.j(d.iu);d.j(d.Rect);function r(z,F){return z.m().Jk-F.m().Jk}function v(z,F){return z.m().ab()-F.m().ab()}const y=[],A=[],G=[];d.pN=class extends d.ea{constructor(z,F,H){super();this.Pg=z;this.g=z.G();this.TT=F;this.Da=H[0];this.Ka=-1;this.fb=H[2];this.Qr=!!H[3];this.RA=!!H[13];this.sl=d.j(d.$a);this.sl.jm(H[4].map(M=>
M/255));this.tk=!!H[5];this.Td=H[6];this.Ud=H[7];this.bb=d.j(d.$a,1,1,1,H[8]);this.GB=d.j(d.$a);this.rI=H[9];this.oda=H[17];this.EU=H[18];this.Bda=H[10];this.jj=H[11];this.Fg=H[12];this.Ie=null;this.od=1;this.Xc=H[16];this.Rh=this.Qh=this.he=0;this.Al=!1;this.fg=d.j(d.Rect);this.KU=d.j(d.Rect);this.Dn=d.j(d.Rect);this.xk=g.create();this.BI=!0;this.Vv=g.create();this.xI=!0;this.JU=d.j(d.I.F5);this.bB=!0;this.vU=[];this.dT=H[14];this.qk=[];this.aA=[];this.eT=new Map;this.F=[];this.Uo=this.lK=!1;const J=
this.g.L;this.Ja=d.j(d.Nk,this,H[15]);this.yh=d.j(d.I.ve,J.DH,{wC:(M,Q)=>{Q=Q.Rm;const R=Q.Jj();M.Dm(Q.RD());M.Dx(R);M.vq(R);J.wo(R)},BC:M=>this.Ja.Rk(M)});this.Gw=this.Ml=!0;this.gs=null;this.FI=[];this.VA=!1;this.Vca=d.j(d.Rect,0,0,-1,-1);this.wca=d.j(d.Rect,0,0,-1,-1);this.AA=null;this.$R();this.Ko()&&(this.gs=d.j(d.x3,this.g.Sg,this.g.Rg));this.qn=H[19].map(M=>d.j(d.pN,this.Pg,this,M))}Cg(){for(const z of this.dT){const F=this.g.Ye(z[1]);this.Pg.rP(F);F.Ar||F.vO(z);this.qk.push(z);this.eT.set(z[2],
z)}d.Hc(this.vU,this.qk);this.dT=null;this.AA=new self.i0(this)}A(){this.g=this.Pg=null}b_(z){return this.eT.get(z)}EX(z){const F=this.Pg.tp;let H=0;const J=this.qk;for(let Q=0,R=J.length;Q<R;++Q){var M=J[Q];const T=this.g.Ye(M[1]);let Z=!0;if(!T.cE()||F)M=this.g.ei(M,this,!0),z.push(M),T.Mf()&&(Z=!1,this.aA.push(M.Vc));Z&&(J[H]=J[Q],++H)}d.Se(J,H);this.g.yd();this.zg()}Bg(z,F){const H=z.m();if(H.ba()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==H.ab()&&(this.Uo=!0);F&&this.Ko()&&
z.m().Xa();this.zg()}z9(z){this.F.includes(z)||(this.F.push(z),0!==z.m().ab()&&(this.Uo=!0),this.zg())}x$(z){const F=z.m();if(F.ba()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==F.ab()&&(this.Uo=!0);this.zg()}Po(z,F){const H=this.F.indexOf(z);0>H||(F&&this.Ko()&&z.m().iR(),this.F.splice(H,1),this.zg(),this.QQ())}xR(){this.Uo=!0}QQ(){0===this.F.length&&(this.Uo=!1)}EG(z){if(z){z=new Set;for(var F of this.F){var H=F.m().Jk;0<=H&&z.add(H)}F=-1;for(const J of this.F)if(H=
J.m(),!(0<=H.Jk)){for(++F;z.has(F);)++F;H.zz(F)}}this.F.sort(r)}I7(){for(const z of this.F)z.H().Mf()||this.g.Wn(z);this.g.yd();d.D(this.F);this.Uo=!1;this.zg()}Pt(z,F,H,J,M){const Q=this.g.ga(),R=this.g.Mc,T=z.Va,Z=[];for(const Y of this.qk){var X=Y[0];if(F.zf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.bM(X))continue}else continue;X=this;var ba=this.g.Ha();this.Yb()!==ba&&((X=ba.xM(this.wa()))||(X=ba.Ux(this.Ea())));ba=this.g.ei(Y,X,!1,void 0,void 0,!1,M);X.oF(ba);X=ba.m();X.Dy(H,J);X.Xa();Q.se(!0);
ba.Bz();Q.se(!1);Z.push(ba)}}return Z}Yb(){return this.Pg}wa(){return this.Da}zG(z){this.Ka=z}Ea(){return this.Ka}G(){return this.g}Qk(){return this.g.Qk()}fi(){this.xu();return this.yh}xu(){const z=this.tq();if(this.Ml||z!==this.Gw){var F=this.Ja.Tf;this.yh.fD(F.map(H=>H.Jf()),{Fs:F.map(H=>H.Ea()),zC:!z,RC:!0});this.Ml=!1;this.Gw=z}}rh(){this.Ja.rh();this.Ml=!0}Ko(){return this.Bda&&!this.EU}E4(){this.VA=!1}Jc(){for(const z of this.MV())if(!z.Qr)return!1;return!0}nh(z){z=!!z;this.Qr!==z&&(this.Qr=
z,this.g.aa())}v4(z){this.RA=!!z}wy(){for(const z of this.MV())if(!z.RA)return!1;return!0}au(z){z=!!z;if(this.Al!==z){if(this.Al=z)z=this.Yb(),this.Qh=z.Hf(),this.Rh=z.If();this.ek();this.g.aa()}}Ci(z){var F=this.Yb();const H=F.GM();F=F.HM();z>F&&(z=F);z<H&&(z=H);this.Qh!==z&&(this.Qh=z,this.Al&&(this.ek(),this.g.aa()))}Di(z){var F=this.Yb();const H=F.IM();F=F.FM();z>F&&(z=F);z<H&&(z=H);this.Rh!==z&&(this.Rh=z,this.Al&&(this.ek(),this.g.aa()))}Hf(){return this.Al?this.Qh:this.Yb().Hf()}If(){return this.Al?
this.Rh:this.Yb().If()}$F(){const z=this.Yb();return[z.WD(),z.XD()]}Ff(){return this.g.Ff()}QM(z,F){var H=this.KU;if(0===z)F.na(H);else{let R=H.Ls(),T=H.Ms();var J=this.fM(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.$F();if(.5!==X||.5!==ba){const Y=this.gt();var M=this.g,Q=this.Ff()/Y;J=(X-.5)*M.gg/Q;M=(ba-.5)*M.Re/Q;Q=this.Ma();0!==Q&&(w.set(J,M),w.rotate(Q),J=w.P,M=w.M);z=d.QC(Y,0,z);R+=d.ae(J,0,z);T+=d.ae(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Ld(){return this.bb.Sa}Ai(z){z=d.da(z,
0,1);this.bb.Sa!==z&&(this.bb.Ns(z),this.$R(),this.g.aa())}$R(){this.GB.na(this.bb);this.GB.aL()}RD(){return this.GB}tq(){return this.bb.xC(1,1,1,1)}F4(z){this.jj!==z&&(this.jj=z,this.ek(),this.g.aa())}B4(z,F){if(this.Td!==z||this.Ud!==F)if(this.Td=z,this.Ud=F,this.ek(),this.g.aa(),1!==this.Td||1!==this.Ud)for(const H of this.F)H.H().wG(!0)}ef(z){this.Xc!==z&&(this.Xc=z,this.g.aa())}ab(){return this.Xc}Bd(z){z=d.re(z);this.he!==z&&(this.he=z,this.ek(),this.g.aa())}Ma(){return d.re(this.Pg.Ma()+this.he)}W_(){return 0<
this.F.length}YF(){return this.ME()&&this.EU?(d.Hc(G,this.F),G.sort((z,F)=>this.xba(z,F)),G):this.F}yP(z){d.Fn(z,this.YF());for(const F of this.qn)F.Jc()&&0<F.Ld()&&F.yP(z)}xba(z,F){var H=this.Yb().iS,J=H[0],M=H[1];H=H[2];var Q=z.m();const R=F.m();F=Q.oa()-J;z=Q.pa()-M;Q=Q.ab()-H;J=R.oa()-J;M=R.pa()-M;H=R.ab()-H;return J*J+M*M+H*H-(F*F+z*z+Q*Q)}R4(z){z=!!z;this.tk!==z&&(this.tk=z,this.g.aa())}p4(z){z=!!z;this.rI!==z&&(this.rI=z,this.g.aa())}$N(){return!this.G().am||!this.oda}ME(){return!this.$N()}sq(){return this.ME()&&
this.Yb().Nca}VE(){if(!this.sq())return!1;for(const z of this.qn)if(!z.VE())return!1;return!0}Of(z){this.Fg!==z&&(this.Fg=z,this.g.aa())}xj(){return this.Fg}R_(){for(const z of this.qn)if(z.Uy())return!0;return!1}*LV(){for(const z of this.qn)yield*z.LV();yield this}*XK(){let z=this.TT;for(;z;)yield z,z=z.TT}*MV(){yield this;yield*this.XK()}t1(z){return this===z||this.Td===z.Td&&this.Ud===z.Ud&&this.od===z.od&&this.jj===z.jj&&this.he===z.he&&this.Hf()===z.Hf()&&this.If()===z.If()}L$(z){0!==z.size&&
0<d.hg(this.F,z)&&(this.QQ(),this.zg())}zg(){this.VA=this.lK=!1}Iu(){if(!this.lK){this.F.sort(v);if(this.Ko())for(let z=0,F=this.F.length;z<F;++z){const H=this.F[z].m();H.zz(z);this.gs.M1(H.cw)}else for(let z=0,F=this.F.length;z<F;++z)this.F[z].m().zz(z);this.lK=!0}}S1(z,F,H){var J=z.m();F=F.m();if(J.ba()!==this||F.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Oj();F=F.Oj();if(J===F+(H?1:-1))return!1;d.Lda(this.F,J);J<F&&F--;H&&F++;F===this.F.length?this.F.push(z):
this.F.splice(F,0,z);this.zg();return!0}H9(z,F){const H=[];let J=0,M=0,Q=z.length,R=F.length;for(;J<Q&&M<R;){const T=z[J],Z=F[M];T.m().Jk<Z.m().Jk?(H.push(T),++J):(H.push(Z),++M)}for(;J<Q;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}G9(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.H9(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}F9(z){for(;1<z.length;)z=this.G9(z);return z[0]}s8(){this.Iu();d.D(e);this.gs.Hy(this.fg,e);return e.length?1===e.length?e[0]:this.F9(e):[]}Uy(){return this.Jc()&&
0<this.Ld()&&this.VP()}VP(){if(this.W_()||!this.tk)return!0;for(const z of this.qn)if(z.VP())return!0;return!1}hu(){return this.rI||!this.tq()||0!==this.xj()||this.Ja.Ct()}WE(){if(this.hu())return!0;for(const z of this.qn)if(z.WE())return!0;return!1}Jj(){return this.Ie}fM(z){if(this.Pg.qf)return 1;{const F=this.gt();return F/(F-z)}}gt(){return this.Ff()/this.ji()}ek(){this.bB=this.xI=!0}kz(z){this.xI&&(this.o6(z,this.Vv),this.xI=!1);return this.Vv}b8(){var z=this.g,F=this.Yb(),H=z.xB,J=z.yB;H=(this.Hf()-
H)*this.Td+H;var M=(this.If()-J)*this.Ud+J;z.Fl&&(H=Math.round(H),M=Math.round(M));J=H+0;H=M+0;F=F.qf?this.Ff():this.gt();const [Q,R]=this.$F();if(.5!==Q||.5!==R){var T=this.Ff()/F;M=(Q-.5)*z.gg/T;z=(R-.5)*z.Re/T;T=this.Ma();0!==T&&(w.set(M,z),w.rotate(T),M=w.P,z=w.M);J+=M;H+=z}return[J,H,F]}o6(z,F){const H=this.g;var J=this.Yb();if(this.sq()){h.na(p,J.iS);h.na(q,J.oca);h.na(u,J.pca);J=H.xB;const M=H.yB,Q=q[0]-p[0],R=q[1]-p[1],T=q[2]-p[2];p[0]=(p[0]-J)*this.Td+J;p[1]=(p[1]-M)*this.Ud+M;p[2]*=Math.max(this.Td,
this.Ud);q[0]=p[0]+Q;q[1]=p[1]+R;q[2]=p[2]+T}else{const [M,Q,R]=this.b8();h.set(p,M,Q,R);h.set(q,M,Q,R-100);J=this.Ma();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.yL(F,p,q,u,H.Re)}iba(){this.bB=this.BI=!0}lz(z){this.BI&&(this.p6(z),this.BI=!1);return this.xk}p6(z){const F=this.g.L,[H,J]=this.$F();this.Pg.qf?z.ZW(this.xk,F.Bj(),F.Aj()):.5===H&&.5===J?g.na(this.xk,F.dA):z.Rn(this.xk,F.Bj()/F.Aj(),H,J)}xz(z){z.Do(this.lz(z));let F;F=this.kz(z);z.Oq(F)}Y2(z){this.xz(z);z.Kq(this.ab())}mg(z,
F,H){var J=this.g.L;const M=this.hu();var Q=null;let R=null;if(this.g.pE()&&z.ri()){const T=J.yM(this);T&&(R=T.aD(),z.sF(R))}M?(Q={sj:this.g.nd},"low"===J.Dh&&(Q.width=J.Bj(),Q.height=J.Aj()),this.Ie=Q=this.g.dt(Q),z.yg(Q),this.tk&&z.Tn()):(this.Ie=F,z.yg(F));this.tk||z.pd(this.sl);this.Pg.TP(z,this.Ie,this.qn,M&&this.tk);this.xz(z);z.Kq(this.ab());z.xg(this.ME());this.ji()>Number.EPSILON&&(this.Iu(),J=this.Ko()&&0===this.ab()&&!this.Uo,this.sq()?this.y7(z):J?this.z7(z):this.SP(z,this.YF()));z.Kq(0);
z.Wt(0);M&&(z.xg(!1),this.A7(z,Q,F,H));R&&z.vD(R);this.Ie=null}SP(z,F){const H=this.fg,J=this.Ie,M=this.Yb().qf,Q=this.Yb().UM();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.Jc()&&ba.iN(H,Q,M)&&this.kl(X,ba,z,J)}}y7(z){const F=this.Ie,H=this.br(),J=this.YF();for(let T=0,Z=J.length;T<Z;){var M=J[T],Q=M.m();if(!Q.Jc()||!Q.wq(H)){++T;continue}(!M.Gq()||0<Q.Pc)&&A.push(M);var R=M.m().$e();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.Jc()&&
Y.wq(H)){if(Y.$e()!==R)break;ba.Gq()?(0<Y.Pc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].zN()){this.v7(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],Q=M.m(),Q.wz(!0),this.kl(M,Q,z,F),Q.wz(!1)}else{this.kl(M,Q,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)Q=A[ba],Q!==M&&(R=Q.m(),R.ba().kl(Q,R,z,F))}T=X;d.D(y);d.D(A)}}v7(z,F){const H=this.Ie;z.JL();for(let Q=0,R=F.length;Q<R;++Q){var J=F[Q],M=J.m();M.uz(!0);this.SF(J,M,z)}z.IL();for(let Q=0,R=F.length;Q<R;++Q)J=F[Q],M=J.m(),this.kl(J,M,z,H),
M.uz(!1);z.HL()}z7(z){var F=this.gs;const H=this.wca,J=this.Vca,M=this.fg;H.set(F.Hi(M.V),F.Ii(M.O),F.Hi(M.ca),F.Ii(M.Z));this.VA&&H.fd(J)?F=this.FI:(F=this.s8(),this.VA=!0,J.na(H));this.SP(z,F);F!==this.FI&&d.Hc(this.FI,F)}kl(z,F,H,J){F.Ct()?this.x7(z,F,H,J):this.SF(z,F,H)}SF(z,F,H){F=F.Op;H.Ui!==F&&F.HW();z.mg(H)}x7(z,F,H,J){this.w7(z,F,H,J)&&this.xz(H)}w7(z,F,H,J){const M=F.Xf.fi();M.zo(H,J,{sC:z,Gn:F.xj(),devicePixelRatio:this.g.mt(),Rw:this.g.nt()*this.ji(),FC:this.Ma(),Ks:F.$c(),Mw:M.Xu?null:
this.P8(F),fV:null,ZU:null,$U:null,bW:null});H.Kq(this.ab());return M.Tm}A7(z,F,H,J){const M=this.g;0===this.Ja.Tf.length?(z.yg(H),z.Zj(),J&&0===this.Fg&&this.tq()?z.KL(F):(z.Of(this.Fg),z.Dm(this.GB),z.Dx(F)),z.vq(F),M.wo(F)):this.fi().zo(z,H,{sC:this,Gn:this.xj(),devicePixelRatio:M.mt(),Rw:M.nt()*this.ji(),FC:this.Ma(),Ks:this.fg,Mw:null,JK:!0})}NO(z){this.od!==z&&(this.od=z,this.Pg.lx(),this.ek(),this.g.aa())}oq(){return this.ji()*this.g.oq()}zj(){return this.ji()*this.g.zj()}ji(){return(this.od*
this.Pg.od-1)*this.jj+1}yF(){var z=this.g.xB,F=this.g.yB,H=(this.Hf()-z)*this.Td+z,J=(this.If()-F)*this.Ud+F;z=this.ji();F=this.g.gg/z;z=this.g.Re/z;H-=F/2;let M=J-z/2;this.g.Fl&&(H=Math.round(H),M=Math.round(M));J=this.KU;J.set(H,M,H+F,M+z);F=this.Ma();0!==F&&(a.na(J),a.offset(-J.Ls(),-J.Ms()),b.gfa(a,F),b.FK(a),a.offset(J.Ls(),J.Ms()),J.na(a));F=this.Xc;this.QM(F,this.fg);this.sq()?this.aX(F,this.Dn):this.Dn.na(this.fg)}aX(z,F){var H=this.g.L,J=H.Oc;H=H.Ac;const [M,Q]=this.dh(0,0,z),[R,T]=this.dh(J,
0,z),[Z,X]=this.dh(J,H,z),[ba,Y]=this.dh(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(Q,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(Q,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}dh(z,F,H=0){return this.s6(z,F,H,this.zj())}s6(z,F,H,J){const M=this.g;var Q=M.eb();const R=this.ji();m.set(n,0,0,M.gg/R,M.Re/R);z/=J;F=n[3]-F/J;J=this.lz(Q);Q=this.kz(Q);return d.I.x5(z,F,H,Q,J,n,l)?[l[0],l[1]]:[NaN,NaN]}eX(z,F){const H=this.od,
J=this.jj,M=this.Td,Q=this.Ud,R=this.he;this.Ud=this.Td=this.jj=this.od=1;this.he=0;this.ek();z=this.dh(z,F);this.od=H;this.jj=J;this.Td=M;this.Ud=Q;this.he=R;this.ek();return z}so(z,F){return this.JQ(z,F,0,this.zj())}Rj(z,F,H=0){return this.JQ(z,F,H,this.oq()*this.Qk())}JQ(z,F,H,J){var M=this.g,Q=M.eb();const R=this.ji();m.set(n,0,0,M.gg/R,M.Re/R);M=this.lz(Q);Q=this.kz(Q);return d.I.a3(z,F,H,Q,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}P8(z){var F=z.$c(),H=z.$e();z=z.Pc;const J=H+z,M=F.V,Q=F.O,R=F.ca;
F=F.Z;if(this.sq()){if(this.Jm(M,Q,H)||this.Jm(R,Q,H)||this.Jm(R,F,H)||this.Jm(M,F,H)||0<z&&(this.Jm(M,Q,J)||this.Jm(R,Q,J)||this.Jm(R,F,J)||this.Jm(M,F,J)))return null}else if(J>=this.gt())return null;let [T,Z]=this.Rj(M,Q,H),[X,ba]=this.Rj(R,F,H);if(0!==this.Ma()||0<z){const [Y,va]=this.Rj(R,Q,H),[ta,ya]=this.Rj(M,F,H);if(0<z){const [Na,Sa]=this.Rj(M,Q,J),[Ta,Ua]=this.Rj(R,Q,J),[Wa,eb]=this.Rj(R,F,J),[fb,Pa]=this.Rj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=
Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}br(){this.bB&&(this.Tba(),this.bB=!1);return this.JU}Tba(){var z=this.g.eb();const F=this.lz(z);z=this.kz(z);this.JU.$W(z,F)}Jm(z,F,H){return this.br().b1(z,F,H)}fa(){return{s:this.od,a:this.he,vl:this.fg.V,vt:this.fg.O,vr:this.fg.ca,vb:this.fg.Z,v:this.Qr,i:this.RA,bc:this.sl.toJSON(),t:this.tk,sx:this.Qh,
sy:this.Rh,hosp:this.Al,px:this.Td,py:this.Ud,c:this.bb.toJSON(),sr:this.jj,fx:this.Ja.Ad(),cg:this.aA}}la(z){this.od=z.s;this.he=z.a;this.fg.set(z.vl,z.vt,z.vr,z.vb);this.Qr=!!z.v;this.RA=z.hasOwnProperty("i")?z.i:!0;this.sl.jm(z.bc);this.tk=!!z.t;z.hasOwnProperty("sx")&&(this.Qh=z.sx);z.hasOwnProperty("sy")&&(this.Rh=z.sy);z.hasOwnProperty("hosp")&&(this.Al=!!z.hosp);this.Td=z.px;this.Ud=z.py;this.bb.jm(z.c);this.jj=z.sr;d.Hc(this.aA,z.cg);d.Hc(this.qk,this.vU);const F=new Set(this.aA);let H=0;
for(let J=0,M=this.qk.length;J<M;++J)F.has(this.qk[J][2])||(this.qk[H]=this.qk[J],++H);d.Se(this.qk,H);this.Ja.sd(z.fx);this.Ml=!0;this.EG(!1);this.zg()}oF(z){if(!this.F.includes(z))if(z.bf()){var F=[...z.Kk()];F.push(z);F.sort((J,M)=>{J=J.m().pq();M=M.m().pq();return J-M});for(var H of F)if(H.Sb())for(const J of H.vd)F.includes(J)||(z=[...J.Kk()],z.push(J),z.sort((M,Q)=>{M=M.m().pq();Q=Q.m().pq();return M-Q}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Bg(J,!0)}else if(this.Bg(z,
!0),z.Sb())for(F of z.vd)if(H=[...F.Kk()],H.push(F),H.sort((J,M)=>{J=J.m().pq();M=M.m().pq();return J-M}),H&&H.length)for(const J of H)this.Bg(J,!0)}}}
{"use strict";const d=self.B,a=self.jg;d.j(d.Rect);d.j(d.Rect);const b=d.j(d.Rect),e=d.j(d.$a),c=self.rj.SC,h=[],m=[],g=[],l=[];let n=null;function p(q,u){n!==q&&(q.Y2(u),n=q)}d.y1=class extends d.ea{constructor(q,u,w){super();this.Za=q;this.g=q.G();this.Da=w[0];this.kda=w[1];this.jda=w[2];this.T=w[1];this.R=w[2];this.aB=!!w[3];this.qf=!!w[4];this.mC=w[5];this.nC=w[6];this.zS=w[7];this.Rc=null;this.fb=w[8];this.Ka=u;this.Rh=this.Qh=0;this.od=1;this.he=0;this.Nr=new Set;this.Wg=new Set;this.uw=new Set;
this.ur=[];this.eI=[];this.Nca=!1;this.iS=c.create();this.oca=c.create();this.pca=c.create();this.MB=[];this.Tb=[];this.BT=new Map;this.CT=new Map;const r=this.g.L;this.Ja=d.j(d.Nk,this,w[11]);this.yh=d.j(d.I.ve,r.DH,{wC:(v,y)=>{y=y.Rm.Jj();v.Rt();v.Dx(y);v.vq(y);r.wo(y)},BC:v=>this.Ja.Rk(v)});this.Ml=!0;this.MU=!1;this.Ie=null;this.Ep={};this.tp=!0;this.uv=new self.j0(this);this.Zd=d.j(d.Event.Rb);for(const v of w[9])this.MB.push(d.j(d.pN,this,null,v));this.Tb=[...this.mK()];for(let v=0,y=this.Tb.length;v<
y;++v)q=this.Tb[v],q.zG(v),q.Cg(),this.BT.set(q.wa().toLowerCase(),q),this.CT.set(q.fb,q);for(const v of w[10]){w=this.g.Ye(v[1]);if(!w)throw Error("missing nonworld object class");w.Ar||w.vO(v);this.eI.push(v);this.rP(w)}}A(){for(const q of this.Tb)q.A();d.D(this.Tb);this.uw.clear();this.g=this.Za=this.Rc=null}G(){return this.g}wa(){return this.Da}Ea(){return this.Ka}fi(){this.xu();return this.yh}xu(){const q="low"===this.g.L.Dh;if(this.Ml||this.MU!==q){var u=this.Ja.Tf;this.yh.fD(u.map(w=>w.Jf()),
{Fs:u.map(w=>w.Ea()),BK:q,RC:!0});this.Ml=!1;this.MU=q}}rh(){this.Ja.rh();this.Ml=!0}AM(){let q=this.Tb[0].ji();for(let u=1,w=this.Tb.length;u<w;++u){const r=this.Tb[u];if(0!==r.Td||0!==r.Ud)q=Math.min(q,r.ji())}return q}sQ(){return.5*this.g.gg/this.AM()}tQ(){return.5*this.g.Re/this.AM()}GM(){return this.aB?-Infinity:this.sQ()}HM(){return this.aB?Infinity:this.$()-this.sQ()}IM(){return this.aB?-Infinity:this.tQ()}FM(){return this.aB?Infinity:this.X()-this.tQ()}Ci(q){const u=this.GM(),w=this.HM();
q>w&&(q=w);q<u&&(q=u);this.Qh!==q&&(this.Qh=q,this.dk(),this.g.aa())}Hf(){return this.Qh}Di(q){const u=this.IM(),w=this.FM();q>w&&(q=w);q<u&&(q=u);this.Rh!==q&&(this.Rh=q,this.dk(),this.g.aa())}If(){return this.Rh}lx(){this.Ci(this.Hf());this.Di(this.If());for(const q of this.Tb)q.Al&&(q.Ci(q.Hf()),q.Di(q.If()))}U4(q,u){if(this.mC!==q||this.nC!==u)this.mC=q,this.nC=u,this.l1()&&(this.gr(),this.dk(),this.g.aa())}WD(){return this.qf?.5:this.mC}XD(){return this.qf?.5:this.nC}UM(){const q=this.WD(),u=
this.XD();return 0>q||1<q||0>u||1<u}PO(){this.qf&&(this.qf=!1,this.gr(),this.dk(),this.g.aa())}MO(){this.qf||(this.qf=!0,this.gr(),this.dk(),this.g.aa())}l1(){return!this.qf}eF(q){this.od!==q&&(this.od=q,this.dk(),this.lx(),this.g.aa())}Bd(q){q=d.re(q);this.he!==q&&(this.he=q,this.dk(),this.g.aa())}Ma(){return this.he}$(){return this.T}Fi(q){!isFinite(q)||1>q||(this.T=q)}X(){return this.R}yi(q){!isFinite(q)||1>q||(this.R=q)}*mK(){for(const q of this.MB)yield*q.LV()}ba(q){return"number"===typeof q?
this.Ux(q):this.xM(q.toString())}Ux(q){q=d.da(Math.floor(q),0,this.Tb.length-1);return this.Tb[q]}xM(q){return this.BT.get(q.toLowerCase())||null}Vx(q){return this.CT.get(q)||null}gr(){for(const q of this.Tb)q.iba()}dk(){for(const q of this.Tb)q.ek()}l_(){let q=this.MB.filter(u=>u.Uy())[0];for(;q;){if(!q.tk)return e.oj(q.sl),e.Ns(1),e;if(q.hu())return e.Mn(0,0,0,0),e;q=q.qn.filter(u=>u.Uy())[0]}e.Mn(0,0,0,0);return e}kQ(){return[...this.Nr]}rP(q){if(q.Sb())for(const u of q.Ig.Pl)this.Nr.add(u);else this.Nr.add(q)}y8(){return[...this.Wg]}dG(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.yX(this.Wg,q.Wg),q.Wg.clear());q=[];for(const w of this.Nr)this.Wg.has(w)||(q.push(w.Aq(u)),this.Wg.add(w));return Promise.all(q)}async xN(q){if(q.Va)throw Error("cannot load textures for family");var u=this.g.eb();!u||u.mo()||this.Wg.has(q)||(this.Wg.add(q),u=q.Aq(u),this.b6(u),await u,q.Ey(),this.g.aa())}b6(q){this.uw.add(q);q.then(()=>this.uw.delete(q)).catch(()=>this.uw.delete(q))}H5(){return Promise.all([...this.uw])}Q1(q){if(q.Va||0<q.F.length)throw Error("cannot unload textures");
this.g.eb()&&this.Wg.has(q)&&(this.Wg.delete(q),q.xo())}Jba(q,u){if(q!==this&&u)for(const w of this.Wg)w.Mf()||q.Nr.has(w)||(w.xo(),this.Wg.delete(w))}Au(){this.Wg.clear()}async PR(q){const u=this.g,w=this.Za,r=u.ga();this.zS&&(this.Rc=r.pM(this.zS),this.Rc.IG());w.DR(this);this.T=this.kda;this.R=this.jda;this.Qh=u.Sg/2;this.Rh=u.Rg/2;this.lx();this.I9(q);this.F6();this.tp||this.H6();this.GP(this.ur);this.G6();w.lX();u.yd();const v=this.g.Zba;await Promise.all(v);d.D(v);if(!u.Fh){for(const y of this.ur)y.a5();
for(const y of this.ur)y.RR()}d.D(this.ur);await Promise.all([...this.Nr].map(y=>y.HE(this.g.eb())));q&&(u.Rb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.Xn(new d.Event("beforeprojectstart")));await this.Xn(new d.Event("beforelayoutstart"));u.Fh||await u.ld(d.C.Ya.N.FN,null,null);await this.Xn(new d.Event("afterlayoutstart"));q&&(u.Rb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.Xn(new d.Event("afterprojectstart")));r.iaa(w);await this.H5();this.gr();this.dk();
this.tp=!1}I9(q){for(const w of this.g.Mc)if(!w.Va&&w.rf)for(const r of w.ja()){const v=r.m();var u=v.ba();u=d.da(u.Ea(),0,this.Tb.length-1);u=this.Tb[u];v.Du(u);u.z9(r)}if(!q)for(const w of this.Tb)w.EG(!1)}F6(){for(const q of this.Tb)q.EX(this.ur),q.yF()}H6(){let q=!1;for(const [w,r]of Object.entries(this.Ep)){const v=this.g.Yx(parseInt(w,10));if(v&&!v.Va&&v.cE()){for(const y of r){var u=null;if(v.rf&&(u=this.Vx(y.w.l),!u))continue;u=this.g.ei(v,u,!1,0,0,!0);u.sd(y);q=!0;this.ur.push(u)}d.D(r)}}for(const w of this.Tb)w.EG(!0),
w.zg();q&&(this.g.yd(),this.g.dR())}GP(q){for(const w of q){if(!w.Sb())continue;const r=w.m(),v=w.$n();for(const y of w.H().Ig.Pl)if(y!==w.H()){var u=y.ja();u.length>v?w.Xq(u[v]):(u=r?this.g.ei(y,r.ba(),!0,r.oa(),r.pa(),!0):this.g.ei(y,null,!0,0,0,!0),this.g.yd(),y.Cz(),w.Xq(u),q.push(u))}}}G6(){for(const q of this.eI)this.g.Ye(q[1]).Sb()||this.g.ei(q,null,!0)}D6(){const q=[],u=this.eI;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.Ye(y[1]);A.Mf()?A.Sb()&&A.Ig.S_()||q.push(this.g.ei(y,
null,!0)):(u[w]=y,++w)}d.Se(u,w);this.g.yd();this.GP(q)}Pt(q,u,w,r,v,y){if(w)return w.Pt(q,u,r,v,y);w=[];for(const A of this.Tb)w.push(A.Pt(q,u,r,v,y));return w.flat()}async Bba(){const q=this.Za;this.g.Fh||await this.g.ld(d.C.Ya.N.t2,null,null);q.GO(!0);this.g.ga().rx();this.tp||this.taa();for(const u of this.Tb)u.I7();for(const u of this.g.Mc)if(!(u.Mf()||u.rf||u.sb().Zm||u.Va)){for(const w of u.ja())this.g.Wn(w);this.g.yd()}q.GO(!1);q.Mb()===this&&q.DR(null)}qaa(q){const u=q.H().fb.toString();
this.Ep.hasOwnProperty(u)||(this.Ep[u]=[]);this.Ep[u].push(q.Ad())}taa(){for(const q of this.Tb){q.Iu();for(const u of q.F){const w=u.H();!w.Mf()&&w.cE()&&this.qaa(u)}}}F3(){this.Ep={};this.tp=!0}Jj(){return this.Ie}hu(){const q=this.g,u=q.eb().ri();return"low"===q.L.Dh||u&&q.iC||"low-latency"===q.tr||this.Ja.Ct()||u&&q.am}mg(q){const u=this.g.L,w=this.hu();if(w){"low-latency"!==this.g.tr&&(q.yg(null),q.Tn());const r={sj:this.g.nd,NK:this.g.iC||this.Ja.Ct()};"low"===u.Dh&&(r.width=u.Bj(),r.height=
u.Aj());this.Ie=this.g.dt(r)}else this.Ie=null;q.yg(this.Ie);q.pd(this.l_());this.g.am&&q.iX();for(const r of this.Tb)r.yF();this.TP(q,this.Ie,this.MB,!0);w&&(q.xg(!1),this.B7(q,this.Ie));this.Ie=null}TP(q,u,w,r){w=w.filter(v=>v.Uy());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.VE()&&!A.WE()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.VE()&&!z.WE())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].R_()){this.t7(q,u,h);v+=h.length;d.D(h);continue}d.D(h)}A.mg(q,u,r&&0===v);++v}}B7(q,
u){const w=this.g;0===this.Ja.Tf.length?(q.yg(null),q.Zj(),q.KL(u),q.vq(u),w.wo(u)):(b.set(0,0,w.gg,w.Re),this.fi().zo(q,null,{sC:this,Gn:3,devicePixelRatio:this.g.mt(),Rw:this.g.nt()*this.od,FC:this.Ma(),Ks:b,Mw:null,JK:!0}))}t7(q,u,w){w[0].tk||(e.oj(w[0].sl),e.Ns(1),q.pd(e));var r=this.g.L;q.xg(!0);for(var v of w)v.Iu(),v.yP(m);v=w[0];w=null;this.g.pE()&&q.ri()&&(r=r.yM(v))&&(w=r.aD(),q.sF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.ba();if(y.Jc()&&y.wq(A.br())){(!v.Gq()||0<y.Pc)&&l.push(v);
var G=v.m().$e();g.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.m();if(J.Jc()&&J.wq(J.ba().br())){if(J.$e()!==G)break;H.Gq()?(0<J.Pc&&l.push(H),g.push(H)):l.push(H)}}if(1!==g.length||g[0].zN()){this.u7(q,u,g);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.ba(),y.wz(!0),p(A,q),A.kl(v,y,q,u),y.wz(!1)}else{p(A,q);A.kl(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.ba(),p(G,q),G.kl(y,A,q,u))}z=r;d.D(g);d.D(l)}else++z}w&&q.vD(w);d.D(m);n=null}u7(q,u,w){q.JL();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.m(),y=v.ba();v.uz(!0);p(y,q);y.SF(r,v,q)}q.IL();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.m(),y=v.ba(),p(y,q),y.kl(r,v,q,u),v.uz(!1);q.HL()}fa(){const q={sx:this.Hf(),sy:this.If(),s:this.od,a:this.Ma(),w:this.$(),h:this.X(),ortho:this.qf,vpX:this.WD(),vpY:this.XD(),fv:this.tp,persist:this.Ep,fx:this.Ja.Ad(),layers:{}};for(const u of this.Tb)q.layers[u.fb.toString()]=u.fa();return q}la(q){this.Qh=q.sx;this.Rh=q.sy;this.od=q.s;this.he=q.a;this.T=q.w;this.R=q.h;this.qf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.mC=q.vpX);q.hasOwnProperty("vpY")&&(this.nC=q.vpY);this.tp=!!q.fv;this.Ep=q.persist;this.Ja.sd(q.fx);this.Ml=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Vx(parseInt(u,10)))&&q.la(w);this.gr();this.dk()}fh(q){q.GC=this.uv;var u=this.g;(u=u.qb&&!u.ga().Ht())&&a.rF();this.Zd.dispatchEvent(q);u&&a.$C()}Xn(q){q.GC=this.uv;return this.Zd.AK(q)}}}
{"use strict";const d=self.B;d.z1=class extends d.ea{constructor(a){super();this.g=a;this.Ni=[];this.NI=new Map;this.OI=new Map;this.Sv=null;this.yJ=[];this.nA=null;this.OA=0;this.$v=null}A(){this.$v=this.nA=this.Sv=this.g=null;d.D(this.Ni);this.NI.clear();this.OI.clear();d.D(this.yJ)}La(a){a=d.j(d.y1,this,this.Ni.length,a);this.Ni.push(a);this.NI.set(a.wa().toLowerCase(),a);this.OI.set(a.fb,a)}G(){return this.g}m4(a){this.nA=a}UZ(){if(this.nA)return this.nA;if(this.Ni.length)return this.Ni[0];throw Error("no first layout");
}lq(a){return this.NI.get(a.toLowerCase())||null}PD(a){return this.OI.get(a)||null}m_(a){a=d.da(Math.floor(a),0,this.Ni.length-1);return this.Ni[a]}Yb(a){return"number"===typeof a?this.m_(a):this.lq(a.toString())}DR(a){this.Sv=a}Mb(){return this.Sv}*ax(){this.Sv&&(yield this.Sv);this.yJ.length&&(yield*this.yJ)}GO(a){if(a)this.OA++;else{if(0>=this.OA)throw Error("already unset");this.OA--}}fN(){return 0<this.OA}qx(a){this.$v=a}lX(){this.$v=null}xq(){return!!this.$v}Co(){const a=this.Mb();a&&a.gr()}Bo(){const a=
this.Mb();a&&a.dk()}}}
{"use strict";const d=self.B;d.q5=class extends d.ea{constructor(a){super();this.g=a;this.xw=d.j(d.Ag);this.lda=null;this.rn=[];this.yw=new Map;this.Ol=new Map;this.sn=new Map;this.Ug=[];this.Vd=[];this.Kh=[];this.Iv=this.qr=this.kp=!1;this.Wl=()=>this.o$();this.qs=()=>this.mG();this.eH=()=>this.zu();this.MI=()=>this.K9();this.iI=b=>this.XQ(b.instance);this.TG=()=>this.lG();this.hv=[];this.Fc=0}A(){this.t3();this.TG=this.iI=this.MI=this.eH=this.qs=this.Wl=null;for(const a of this.rn)a.ff(),a.A();
d.D(this.rn);this.rn=null;this.xw.A();this.xw=null;d.D(this.Ug);this.Ug=null;d.D(this.Vd);this.Vd=null;d.D(this.Kh);this.Kh=null;this.yw.clear();this.yw=null;this.Ol.clear();this.Ol=null;this.sn.clear();this.sn=null;d.D(this.hv);this.g=this.hv=null}zW(){const a=this.g.Rb();a.addEventListener("pretick",this.Wl);a.addEventListener("tick2",this.qs);a.addEventListener("beforelayoutchange",this.eH);a.addEventListener("layoutchange",this.MI);a.addEventListener("instancedestroy",this.iI);a.addEventListener("afterload",
this.TG)}t3(){const a=this.g.Rb();a.removeEventListener("pretick",this.Wl);a.removeEventListener("tick2",this.qs);a.removeEventListener("beforelayoutchange",this.eH);a.removeEventListener("layoutchange",this.MI);a.removeEventListener("instancedestroy",this.iI);a.removeEventListener("afterload",this.TG)}La(a){this.xw.Ic(a);a=d.Ho.DX(a,this);this.Ic(a);this.J4(a);this.sn.set(a.wa(),0)}nD(a){a=a.MM();var b=this.xw.Y(a);b=d.Ho.nD(`${a}:${this.sn.get(a)}`,b,this);this.AQ(a);this.Ic(b);return b}AQ(a){this.sn.set(a,
this.sn.get(a)+1)}Maa(){for(const a of this.rn)a.Pr||this.AQ(a.MM())}v6(){for(const a of this.sn.keys())this.sn.set(a,0)}Ic(a){this.rn.push(a);this.yw.set(a.wa().toLowerCase(),a)}kh(a){a.Ky();a.Pr||(d.Lk(this.rn,a),d.Lk(this.Ug,a),d.Lk(this.Vd,a),d.Lk(this.Kh,a),this.yw.delete(a.wa().toLowerCase()),this.u3(a),a.Tg||a.A())}Ca(a){this.g.Ca(a,this.lda,null)}G(){return this.g}SO(a,b){this.Ol.has(a)||this.Ol.set(a,new Set);this.Ol.get(a).add(b)}J4(a){for(const b of a.BM())this.SO(b,a)}u3(a){for(const [b,
e]of this.Ol.entries())e.has(a)&&(e.delete(a),0===e.size&&this.Ol.delete(b))}G_(a){if(this.Ol.has(a))return this.Ol.get(a)}fy(a){return this.yw.get(a.toLowerCase())||null}s3(a){d.Lk(this.Vd,a);this.wu()}oO(a){this.Vd.includes(a)?(a.Rq(!0),a.Tq(!1),a.Sy(!1)):(a.Rq(!1),a.Tq(!0),a.Sy(!1),this.Ug.includes(a)||this.Ug.push(a));this.OQ()}xx(a){a.Rq(!1);a.Tq(!1);a.QE();d.Lk(this.Ug,a);this.wu()}EL(a){a.Rq(!1);a.Tq(!1);this.Vd.includes(a)&&(a.Sy(!0),this.Kh.push(a),d.Lk(this.Vd,a))}FL(a){a.Rq(!1);a.Tq(!1);
a.Sy(!1);a.Xj(1);d.Lk(this.Vd,a)}uX(a){this.EL(a);a.QE()}o$(){if(!this.G().Fh&&this.kp&&!this.qr){for(this.Iv=!0;this.Ug.length;){var a=this.Ug.pop();a.Lc();0!==a.Fc&&(this.Fc=1);this.Vd.push(a)}a=this.g.jv;var b=this.g.Er,e=this.g.Yd;for(let c=this.Vd.length-1;0<=c;c--)this.Vd[c].gf(a,e,b);this.Iv=!1;0!==this.Fc&&this.G().aa()}}mG(){if(!this.G().Fh&&this.kp&&!this.qr){var a;for(let b=0,e=this.Kh.length;b<e;b++){const c=this.Kh[b];a||(a=new Set);c.Ky();this.PQ(c);a.add(c)}if(a){d.hg(this.Kh,a);this.Fc=
0;for(let b=0,e=this.Vd.length;b<e;b++)if(0!==this.Vd[b].Fc){this.Fc=1;break}}this.wu()}}PQ(a){a.Tg||a.TM()&&a.Uf&&a.Xm&&a.dM()}OQ(){this.kp||(this.kp=!0)}wu(){this.Kh.length||this.Vd.length||this.Ug.length||this.Iv||(this.kp=!1)}zu(){for(this.qr=!0;this.Ug.length;)this.xx(this.Ug.pop());const a=new Set;for(const b of this.Vd)b.zu()&&(b.Ky(),a.add(b));d.hg(this.Vd,a);a.clear();for(const b of this.Kh)b.zu()&&(b.Ky(),a.add(b));d.hg(this.Kh,a);this.wu();for(const b of this.rn)b.uj()}K9(){this.qr=!1}XQ(a){var b=
a.H();if(b=this.G_(b))if(this.g.Fh)this.hv.push(a);else for(const e of b)e.Pr||(e.Tg?this.kh(e):e.TM()||(this.PQ(e),this.kh(e)))}lG(){for(const a of this.hv)this.XQ(a);d.D(this.hv)}fa(){return{timelinesJson:this.yaa(),scheduledTimelinesJson:this.waa(),playingTimelinesJson:this.uaa(),markedForRemovalTimelinesJson:this.saa(),hasRuntimeListeners:this.kp,changingLayout:this.qr,isTickingTimelines:this.Iv}}la(a){a&&(this.v6(),this.t9(a.timelinesJson),this.q9(a.scheduledTimelinesJson),this.o9(a.playingTimelinesJson),
this.n9(a.markedForRemovalTimelinesJson),this.kp=!a.hasRuntimeListeners,this.qr=!!a.changingLayout,this.Iv=!!a.isTickingTimelines,this.Maa(),this.OQ(),this.wu())}yaa(){return this.rn.map(a=>a.fa())}t9(a){for(const b of a){a=this.fy(b.name);if(!a){a=this.v8(b);if(!a)continue;a=this.fy(a);a=this.nD(a)}a.la(b);a.a0()||this.kh(a)}}v8(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}waa(){return this.vG(this.Ug)}q9(a){this.gG(a,this.Ug)}uaa(){return this.vG(this.Vd)}o9(a){this.gG(a,this.Vd)}saa(){return this.vG(this.Kh)}n9(a){this.gG(a,
this.Kh)}Y8(a,b){if(!b)return!1;for(const e of b)if(e===a.wa())return!0;return!1}vG(a){return a.map(b=>b.wa())}gG(a,b){var e=new Set;for(const c of b)this.Y8(c,a)||e.add(c);d.hg(b,e);if(a){e=c=>h=>h.wa()===c;for(const c of a)(a=this.fy(c))&&(b.find(e(c))||b.push(a))}}}}
{"use strict";const d=self.B;d.Ho=class extends d.ea{constructor(a,b,e){super();this.g=e.G();this.Bb=e;this.Jd=b;this.Da=a;this.gb=[];this.CU=0;this.jr=null;this.eS=0;this.QL();this.CB=this.aw=null;this.Lb=0;this.Sc=1;this.Gd=0;this.Dd=1;this.Xm=this.Gl=this.UA=!1;this.Uf=!0;this.rB=this.Tg=!1;this.rr=-1;this.Ke=this.hp=this.Pr=this.CA=!1;this.dB=NaN;this.Vg=[""];this.wU="";this.PJ=!1;this.xA=this.Fc=0}static DX(a,b){const e=b.xw.Y(a[0]);a=d.j(d.Ho,a[0],e,b);a.w4();return a}static nD(a,b,e){return d.j(d.Ho,
a,b,e)}A(){if(!this.Tg){this.Bb.xx(this);this.Bb.uX(this);for(const a of this.gb)a.A();d.D(this.gb);this.Jd=this.Bb=this.g=this.gb=null;this.Tg=!0;this.CB=this.aw=null}}QL(){for(const a of this.Jd.zt().WV())this.CU=this.gb.push(d.xF.La(this,a))}G(){return this.g}ut(a,b,e){if(this.xA){var c;for(let m=0;m<this.gb.length;m++){var h=this.gb[m];a===h.za()&&(h=h.Gf(e))&&b.constructor===h.tb().constructor&&(c||(c=[]),c.push(h))}return c}}a0(){return!!this.gb.length}Ty(a){this.Da=a}wa(){return this.Da}MM(){return this.Jd.wa()}hd(){return this.Jd.hd()}wt(){return this.Jd.wt()}hi(){return this.Jd.hi()}de(){return this.Jd.de()}Wj(a){for(const b of this.gb)b.Wj(a)}Wx(){return this.Jd.Wx()}$x(){return this.Jd.$x()}rg(){return this.Jd.rg()}Xj(a){this.Sc=
a}ni(){return this.IsPlaying()?0<this.Sc:!0}CM(){this.aw||(this.aw=new Promise(a=>{this.CB=a}))}QE(){this.aw&&(this.CB(),this.CB=this.aw=null)}RO(a){this.Vg=d.Ho.u8(a);this.PJ=!0}IN(){d.C.yc.N.Eo(this);this.Bb.Ca(d.C.yc.N.Yja);this.Bb.Ca(d.C.yc.N.Zja);this.Bb.Ca(d.C.yc.N.$ja);this.Bb.Ca(d.C.yc.N.Oja);d.C.yc.N.Eo(null)}DE(){this.rr=this.g.Ak}dM(){this.hp||(this.hp=!0,d.C.yc.N.Eo(this),this.Bb.Ca(d.C.yc.N.Vja),this.Bb.Ca(d.C.yc.N.Wja),this.Bb.Ca(d.C.yc.N.Xja),this.Bb.Ca(d.C.yc.N.Nja),d.C.yc.N.Eo(null))}Rq(a){this.UA=
a}bN(){return this.rr===this.g.Ak}IsPlaying(a=!1){return this.bN()||this.Gl&&!a?!0:this.UA}er(){return this.IsPlaying(!0)}Tq(a){this.Gl=a}uO(a){this.Uf=a;a=this.xa();if(0>=a||a>=this.hd())this.Uf=!0}Sy(a){this.rB=a}bF(a){this.CA=a}w4(){this.Pr=!0}xa(){return this.Lb}Vq(a){const b=this.xa();this.Pd(a);this.uO(!1);this.Uf||this.bF(!0);if(this.er()||this.Gl||!this.Xm)this.er()||this.Gl||this.Xm?this.er()?this.ff():this.Gl&&(this.Bb.xx(this),this.EO()):this.EO();this.Fu();this.bG(this.xa(),!0,b);this.DG();
this.Fc&&this.G().aa();this.aR()}Pd(a){d.Lf(a)||(a=this.hd());this.Lb=0>a?0:a>=this.hd()?this.hd():a}pl(a){d.Lf(a)||(a=this.hd());this.Lb=0>a?0:a>=this.hd()?this.hd():a;for(const b of this.gb)b.Bi()}aR(){d.C.yc&&this.constructor===d.Ho&&(d.C.yc.N.Eo(this),this.Bb.Ca(d.C.yc.N.Sja),this.Bb.Ca(d.C.yc.N.Tja),this.Bb.Ca(d.C.yc.N.Uja),d.C.yc.N.Eo(null))}Play(a=!1){return this.Tg||this.Gl?!1:this.er()&&this.bN()?this.Caa():this.er()||!this.Uf&&!a&&!this.CA?!1:this.Daa()}Caa(){this.bF(!1);this.Bb.s3(this);
this.Bb.oO(this);this.CM();return!0}Daa(){this.bF(!1);this.Bb.oO(this);this.CM();return!0}ff(a=!1){this.Tg||(this.uO(a),this.Bb.EL(this),this.Uf&&this.QE())}bd(a=!0,b=!1){if(!this.Tg)if(!this.er()&&this.Gl)this.Bb.xx(this);else if(!this.Uf){this.ff(!0);this.ni()?this.Pd(0):this.Pd(this.hd());var e=this.xa();this.Fu();b?this.Q8(e):this.bG(e,!1);a&&this.aR();this.DG();this.Fc&&a&&this.G().aa()}}iO(){this.bd(!1,!0)}Q8(a){this.bG(a,!1,NaN,!1,!0)}zu(){if(this.Tg)return!0;if(!this.G().Fh&&this.b0())return!1;
this.Bb.FL(this);this.G().Fh||this.iO();return!0}EO(){this.Lc(!0)}Lc(a){if(!this.rB){if(a){this.Ke=this.Xm=!0;this.Fu();for(const b of this.gb)b.Lc()}else if(this.Rq(!0),this.Tq(!1),this.IN(),this.Uf){this.rr=-1;this.Gd=0;this.Dd=1;this.hp=this.Uf=!1;this.Ke=this.Xm=!0;this.ni()?this.Pd(0):this.Pd(this.hd());this.Fu();for(const b of this.gb)b.Lc()}else{this.Ke=!0;this.Fu();for(const b of this.gb)b.De()}this.DG()}}Fu(){this.xA=0;for(const a of this.gb)a.Ym&&(this.xA=1)}DG(){this.Fc=0;for(const a of this.gb)a.yz(),
0===this.Fc&&1===a.Fc&&(this.Fc=1),this.jr||1!==a.dn||(this.jr||(this.jr=[]),this.eS=this.jr.push(a))}gf(a,b){if(0!==a||0!==this.dB){this.dB=a;var e=this.Lb;b=e+a*b*this.Sc;a=this.Jd.us;this.Lb=0>b?0:b>=a?a:b;var c=!1;b=!1;var h=this.Wx(),m=this.$x();h||m?h&&!m?0<this.Sc?this.Lb>=a&&(this.pl(0),b=!0):0>=this.Lb&&(this.pl(a),b=!0):!h&&m?0<this.Sc?this.Lb>=a&&(this.Pd(a),this.Xj(-1*this.Sc),b=!0,1===this.Gd?this.Dd<this.rg()?(this.Dd++,this.Gd=0):c=!0:0===this.Gd&&(this.Gd=1)):0>=this.Lb&&(this.Pd(0),
this.Xj(-1*this.Sc),b=!0,1===this.Gd?this.Dd<this.rg()?(this.Dd++,this.Gd=0):c=!0:0===this.Gd&&(this.Gd=1)):h&&m&&(0<this.Sc?this.Lb>=a&&(this.Pd(a),this.Xj(-1*this.Sc),b=!0):0>=this.Lb&&(this.Pd(0),this.Xj(-1*this.Sc),b=!0)):0<this.Sc?this.Lb>=a&&(this.Dd<this.rg()?(this.Dd++,this.pl(0),b=!0):(this.Pd(a),c=!0)):0>=this.Lb&&(this.Dd<this.rg()?(this.Dd++,this.pl(a),b=!0):(this.Pd(0),c=!0));h=this.CU;if(c){for(c=0;c<h;c++)this.gb[c].yO();this.ff(!0);this.DE()}else{m=this.eS;for(c=0;c<m;c++)this.jr[c].Qn();
if(1===this.xA)for(c=0;c<h;c++){const g=this.gb[c],l=g.Ze(),n=e-l;0>this.Lb-l&&0<n?(this.Lb=0>l?0:l>=a?a:l,g.Aa(l,!0,!1,b,this.Ke,!1)):g.Aa(this.Lb,!0,!1,b,this.Ke,!1)}else for(c=0;c<h;c++)this.gb[c].Aa(this.Lb,!0,!1,b,this.Ke,!1);for(c=0;c<m;c++)this.jr[c].On();this.Ke&&(this.Ke=!1)}}}bG(a,b=!1,e=NaN,c=!1,h=!1){for(var m of this.gb)m.Qn();for(const g of this.gb){m=a;if("number"===typeof e&&!isNaN(e)){const l=this.xa()-g.Ze(),n=e-g.Ze();0>l&&0<n&&(m=g.Ze(),this.Pd(m))}g.Aa(m,!1,b,!0,this.Ke,h)}for(const g of this.gb)g.On();
this.Ke&&c&&(this.Ke=!1)}Ky(){if(!this.Tg)for(const a of this.gb)a.gl()}uj(){for(const a of this.gb)a.uj()}mX(){for(const a of this.gb)a.kX()}K4(a,b){if(b)for(const e of this.gb)if(e.oi()){if(a){if(e.Cj()!==a)continue}else if(e.V_())continue;e.t4(b);this.Bb.SO(b.H(),this);break}}TM(){return this.gb.some(a=>a.oi()?a.iD():!0)}b0(){return this.gb.some(a=>a.oi()?a.iD()?(a=a.H())?a.Mf():!1:!1:!1)}Gf(a){for(const b of this.gb)for(const e of b.Qa)if(e.ta.Tc===a)return e}NM(a){for(const b of this.gb)if(a===
b.za())return b;return null}BM(){const a=[];for(const b of this.gb)a.push(b.H());return a.filter(b=>b)}fa(){return{tracksJson:this.Aaa(),name:this.Da,playheadTime:this.xa(),playbackRate:this.Sc,pingPongState:this.Gd,currentRepeatCount:this.Dd,isPlaying:this.UA,isScheduled:this.Gl,initialStateSet:this.Xm,finishedTriggers:this.hp,complete:this.Uf,released:this.Tg,markedForRemoval:this.rB,completedTick:this.rr,implicitPause:this.CA,isTemplate:this.Pr,tags:this.Vg.join(" "),stringTags:this.wU,tagsChanged:this.PJ,
firstTick:this.Ke}}la(a){a&&(this.u9(a.tracksJson),this.Da=a.name,this.Lb=a.playheadTime,this.Sc=a.playbackRate,this.Gd=a.pingPongState,this.Dd=a.currentRepeatCount,this.UA=!!a.isPlaying,this.Gl=!!a.isScheduled,this.Xm=!!a.initialStateSet,this.hp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Uf=!!a.complete,this.Tg=!!a.released,this.rB=!!a.markedForRemoval,this.rr=a.completedTick,this.CA=!!a.implicitPause,this.Pr=!!a.isTemplate,this.Vg=a.tags.split(" "),this.wU=a.stringTags,this.PJ=
!!a.tagsChanged,this.Ke=!!a.firstTick)}Aaa(){return this.gb.map(a=>a.fa())}u9(a){a.forEach((b,e)=>{this.gb[e].la(b)});this.gb.filter(b=>b.iD())}static u8(a){if(d.lo(a))return a.slice(0);if(d.pi(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.xF=class extends d.ea{constructor(a,b){super();this.Th=a;this.Ib=b;this.Oe=b.zt();this.Nl=this.Cl=NaN;this.Pa=this.fc=null;this.Ym=0<b.Ze();this.cp=this.Or=!1;this.uk=null;this.hc=this.Ib.Ej().hc;this.Qa=[];this.OL();this.dn=this.Fc=this.Hk=0}static La(a,b){return d.j(d.xF,a,b)}A(){this.hc=null;for(const a of this.Qa)a.A();d.D(this.Qa);this.uk=this.Ib=this.Pa=this.fc=this.Th=this.Qa=null}OL(){for(const a of this.Ib.Md().EV())this.Qa.push(d.Wa.La(this,a))}gl(){for(const a of this.Qa)a.gl()}uj(){for(const a of this.Qa)a.uj();
this.Pa=this.fc=null}nb(){return this.Th}G(){return this.Th.G()}k_(){return this.hc?this.hc:this.hc=this.Ib.Ej().hc}Gf(a){for(let b=0;b<this.Qa.length;b++){const e=this.Qa[b];if(e.ta.Tc===a)return e}}Kt(){this.fc||this.za()}wm(){return this.fc?!this.fc.Et():!1}iD(){if(!this.oi())return!1;const a=this.G().Dj(this.ot());return a?!a.Et():!1}H(){if(this.oi()){var a=this.QD();if(-1!==a)return this.G().Ye(a)}}kX(){this.fc=null;this.Cl=-1;this.Pa=null;this.Nl=-1}V_(){return!!this.fc}za(){return this.fc&&
this.wm()?this.fc:this.fc=this.G().Dj(this.ot())}t4(a){if(this.fc!==a){this.uj();this.fc=a;this.Nl=a.H().Ea();this.Cl=a.Vc;this.Pa=a.m();for(const m of this.Yea()){const g=m.lfa;switch(m.Xea.Nd()){case "instance-variable":var b=a.H(),e=b.d_(m.name),c=b.wM(e);b=b.pt(e);c===m.name&&b===m.type&&g.C5(e);break;case "behavior":var h=m.qK;e=this.H();c=a.H();b=g.og(c);h&&b&&(h=h.wa(),e.ft(h),c.ft(h),g.z5(b.fb))}}}}*Yea(){for(const e of this.Qa){var a=e.tb(),b=this.H();const c={Xea:e,lfa:a};switch(e.Nd()){case "world-instance":c.cra=
e.ta.Tc;break;case "instance-variable":a=a.kq();c.name=b.wM(a);c.type=b.pt(a);break;case "effect":b=a.ID(b.Ja);c.qpa=b;break;case "behavior":b=a.og(b);c.qK=b;break;case "plugin":c.$qa=b.sb()}yield c}}m(){if(this.Pa&&this.wm())return this.Pa;const a=this.za();a&&(this.Pa=a.m());return this.Pa}ot(){return this.Cl?this.Cl:this.Ib.ot()}hi(){return this.Ib.hi()}de(){return this.Ib.de()}Cj(){return this.Ib.Cj()}Ze(){return this.Ib.Ze()}Vk(){return this.Ib.Vk()}Wj(a){for(const b of this.k_())b.Wj(a);for(const b of this.Qa)b.Wj(a)}Tk(){return this.Ib.Tk()}fl(a){this.Ib.fl(a)}QD(){return isNaN(this.Nl)?
this.Ib.QD():this.Nl}Gj(){const a=this.za();return a&&a.ka.qo()?a.ka.Gj():this.Ib.Gj()}Fj(){const a=this.za();return a&&a.ka.qo()?a.ka.Fj():this.Ib.Fj()}Nj(){return this.Ib.Nj()}wa(){return this.Ib.wa()}oi(){return 0===this.Nj()}Bi(){for(const a of this.Qa)a.Bi()}Lc(){this.Kt();if(this.wm()||!this.oi()){var a=this.nb().ni()?0:this.Vk();for(const b of this.Qa)b.Lc(a),0===this.Hk&&1===b.Hk&&(this.Hk=1),0===this.Fc&&1===b.Fc&&(this.Fc=1);this.dn=0;this.Qa.some(b=>b.dn)&&(this.dn=1);this.uk=this.lQ(a);
this.cp=this.Or=!1;this.Aa(a)}}De(){this.Kt();if(this.wm()||!this.oi()){this.Th.ni();var a=this.Th.xa()-this.Ze();this.uk=this.lQ(a);for(const b of this.Qa)b.De(a)}}yO(){if(!(this.nb().Uf||(this.Kt(),!this.wm()&&this.oi()||this.Ym))){const a=this.Th.xa();a>=this.Ze()+this.Vk()?this.Aa(this.Vk(),!0,!1,!0):0>=a&&this.Aa(0,!0,!1,!0)}}yz(){for(let a=0,b=this.Qa.length;a<b;a++){const e=this.Qa[a];e.yz();0===this.Hk&&1===e.Hk&&(this.Hk=1);0===this.Fc&&1===e.Fc&&(this.Fc=1)}}Qn(){const a=this.Qa.length;
for(let b=0;b<a;b++)this.Qa[b].Qn()}Aa(a,b=!1,e=!1,c=!1,h=!1,m=!1){this.fc||this.za();const g=0===this.Ib.qa;if(!((!this.fc||this.fc.Et())&&g||m&&g&&this.H().Mf()||(a-=this.Ze(),0>a))){this.O1(a,b);this.P1(a,b,h);for(let l=0,n=this.Qa.length;l<n;l++)this.Qa[l].Aa(a,e,c);this.N1(a,b);0!==this.Hk&&(this.Pa||(this.Pa=this.fc.m()),this.Pa&&this.Pa.Xa())}}On(){const a=this.Qa.length;for(let b=0;b<a;b++)this.Qa[b].On()}O1(a,b){if(b&&this.Ym&&!this.Or){if(this.nb().ni()){if(0>a)return;for(const e of this.Qa)e.Aa(0,
!1,!0)}else{if(a>this.Vk())return;for(const e of this.Qa)e.Aa(this.Vk(),!1,!0)}for(const e of this.Qa)e.Lc();this.Or=!0}}N1(a,b){if(b&&this.Ym&&!this.cp)if(this.nb().ni()){if(a>=this.Vk()){for(const e of this.Qa)e.Aa(this.Vk(),!1,!0);this.cp=!0}}else if(0>=a){for(const e of this.Qa)e.Aa(0,!1,!0);this.cp=!0}}P1(a,b,e){if(!e&&b&&d.C.yc){b=this.nb();e=this.uk.Le;var c=this.uk.xa(),h=e?e.xa():b.hd();if(a<=c||a>=h)this.uk=this.Oe.rM(a,this.Ib),b.ni()?e&&this.FE(this.uk):(a=this.uk.Le)&&this.FE(a)}}lQ(a){const b=
this.Oe.h_(a,this.Ib);return b?b:this.Oe.rM(a,this.Ib)}FE(a){const b=this.nb();d.C.yc.N.Eo(b);d.C.yc.N.S4(a);a=b.Bb;a.Ca(d.C.yc.N.Mja);a.Ca(d.C.yc.N.FE);d.C.yc.N.Eo(null);d.C.yc.N.S4(null)}uW(){return this.Ib.Ej().pW()}TX(a){this.Ib.Ej().SX(a)}Bx(a){for(const b of this.Qa)b.Bx(a)}Ao(){for(const a of this.Qa)a.Ao()}ci(){this.Kt();if(this.wm()||!this.oi())for(const a of this.Qa)a.ci()}di(){this.Kt();if(this.wm()||!this.oi()){var a=!1;for(const b of this.Qa){const e=b.di();!a&&e&&(a=!0)}a&&(a=this.uW(),
a.Vq(this.nb().xa()),a.Wj("noease"),a.fl(!0),a.RO(""))}}fa(){var a=this.za();a=a?a.Vc:this.ot();return{propertyTracksJson:this.vaa(),lastKeyframeDataItemJson:this.raa(),initialStateOfNestedSet:this.Or,endStateOfNestedSet:this.cp,instanceUid:a}}la(a){a&&(this.p9(a.propertyTracksJson),this.m9(a.lastKeyframeDataItemJson),this.j9(a.instanceUid),this.Or=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Or=a.initialStateOfNestedSet),this.cp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.cp=a.endStateOfNestedSet))}raa(){return this.Ib.Ej().j_(this.uk)}vaa(){return this.Qa.map(a=>
a.fa())}p9(a){a.forEach((b,e)=>{this.Qa[e].la(b)})}j9(a){if(d.Lf(a)&&(a=this.G().Dj(a))){var b=this.nb();b.mX();b.K4(this.Ib.Cj(),a)}}m9(a){this.uk=this.Ib.Ej().i_(a)}}}
{"use strict";const d=self.B;d.Wa=class extends d.ea{constructor(a,b){super();this.kb=a;this.ta=b;this.jc=b.Md();this.dn=this.Fc=this.Hk=0;this.pe=this.tb();this.Gb=this.ta.qg().Gb;this.Ju=this.Dc=null}static La(a,b){return d.j(d.Wa,a,b)}A(){this.kb=null;this.pe&&(this.pe.A(),this.pe=null);this.jc=this.ta=this.Gb=null}ZD(){return!!this.Ju}V3(a){this.Ju=a}Md(){return this.jc}nb(){return this.kb.nb()}G(){return this.kb.G()}za(){return this.kb.za()}tb(){if(this.pe)return this.pe;let a;switch(this.ta.Nd()){case "behavior":a=
new d.Wa.RW(this);break;case "effect":a=new d.Wa.aZ(this);this.Fc=1;break;case "instance-variable":a=new d.Wa.Y0(this);break;case "plugin":a=new d.Wa.S2(this);this.Fc=1;break;case "world-instance":a=new d.Wa.uo(this);this.Hk=this.Fc=1;break;case "value":a=new d.Wa.E5(this);break;case "audio":a=new d.Wa.OW(this)}return this.pe=a}Nd(){return this.ta.Nd()}by(){return this.ta.Nj()}qt(){return this.Md().Qx(this.ta).Nj()}Tk(){return this.ta.Tk()}fl(a){this.ta.fl(a)}hi(){return this.ta.hi()}de(){return this.ta.de()}Wj(a){for(const b of this.ay())b.Wj(a)}hD(){return this.ta.hD()}ay(){return this.Gb?
this.Gb:this.Gb=this.ta.qg().Gb}gl(){this.tb().gl()}uj(){this.tb().uj()}we(){return this.tb().we()}Bi(){this.tb().Bi()}Lc(a){this.tb().Lc();this.Dc=this.mQ(a);this.yz()}De(a){this.tb().De();this.Dc=this.mQ(a)}yz(){var a=this.kb;this.dn=0;if(a.oi()){var b=this.nb();a=a.za();const e=this.tb(),c=this.ta.Tc;e.Sj()?(b=b.ut(a,e,c))&&b.length&&(this.dn=1):this.dn=0}}mQ(a){const b=this.nb(),e=this.jc.z_(a,this.ta);return e?e:b.ni()?this.jc.gi(a,this.ta):this.jc.tM(a,this.ta)}Qn(){this.pe.Qn()}Aa(a,b=!1,e=
!1){let c;if(b)var h=this.jc.gi(a,this.ta);else{if(this.Dc){var m=this.nb();const g=this.Dc.Le;h=this.Dc.xa();m=g?g.xa():m.hd();if(a<=h||a>=m)this.Dc=this.jc.gi(a,this.ta)}else this.Dc=this.jc.gi(a,this.ta);h=this.Dc}h&&(c=h.Le);this.pe.Aa(a,h,c,b,e)}Ae(a){if(this.Dc){var b=this.nb();const c=this.Dc.Le;var e=this.Dc.xa();b=c?c.xa():b.hd();if(a<=e||a>=b)this.Dc=this.jc.gi(a,this.ta)}else this.Dc=this.jc.gi(a,this.ta);e=this.Dc;return this.pe.Ae(a,e,e.Le)}On(){this.pe.On()}static LM(a,b){return b.jc.gi(a,
b.ta)}sL(){const a=this.ta.qg().rL();this.Dc=null;return a}Bx(a){this.Dc=null;this.ta.qg().VL(a)}Ao(){this.tb().Ao()}ci(){if(this.tb().ci()){const a=this.jc.Qx(this.ta),b=this.tb().we();a.pO(b)}}di(){const a=this.tb().di();a&&this.xW();this.tb().vx();return a}xW(){const a=this.nb().xa(),b=this.tb(),e=d.Wa.LM(a,this),c=this.sL();c.TO(e.Nj());c.Vq(a);c.Wj(e.qm());c.fl(!0);c.Ee(b.VD());c.pO(b.we())}fa(){return{sourceAdapterJson:this.tb().fa()}}la(a){a&&this.tb().la(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Wa;d.uo=class{constructor(a){this.J=a;this.vf=null;this.pg()}A(){this.vf&&(this.vf.A(),this.vf=null);this.J=null}Sj(){return this.vf.Sj()}Gf(){return this.J}gl(){this.vf&&this.vf.gl()}uj(){this.vf&&this.vf.uj()}pg(){return this.vf?this.vf:this.vf=this.I6()}kq(){}Ea(){return this.kq()}yt(){}Bi(){this.pg().Bi()}Lc(){this.pg().Lc()}De(){this.pg().De()}Qn(){this.vf.aq()}Aa(a,b,e,c,h){let m;switch(this.J.qt()){case "numeric":m=d.Lt.Aa(a,b,e,this.J);break;case "angle":m=d.ix.Aa(a,
b,e,this.J);break;case "boolean":m=d.kx.Aa(a,b,e,this.J);break;case "color":m=d.wx.Aa(a,b,e,this.J);break;case "text":m=d.Wy.Aa(a,b,e,this.J)}this.vf.Sn(a,m,b,e,c,h)}Ae(a,b,e){switch(this.J.qt()){case "numeric":return d.Lt.Aa(a,b,e,this.J);case "angle":return d.ix.Aa(a,b,e,this.J);case "boolean":return d.kx.Aa(a,b,e,this.J);case "color":return d.wx.Aa(a,b,e,this.J);case "text":return d.Wy.Aa(a,b,e,this.J)}}On(){this.vf.$p()}Ao(){var a=this.pg();a.Ph=a.we()}vx(){this.pg().vx()}we(){return this.pg().we()}ci(){return this.pg().ci()}di(){return this.pg().di()}VD(){const a=
this.J,b=a.kb.nb().xa(),e=d.LM(b,a),c=e.Le;switch(a.qt()){case "numeric":return d.Lt.Aa(b,e,c,a);case "angle":return d.ix.Aa(b,e,c,a);case "boolean":return d.kx.Aa(b,e,c,a);case "color":return d.wx.Aa(b,e,c,a);case "text":return d.Wy.Aa(b,e,c,a)}}I6(){const a=this.J;switch(a.hD()?a.qt():""){case "combo":case "boolean":case "text":case "string":return new d.cf.AN(this);case "numeric":case "number":case "angle":return"combo"===this.J.by()?new d.cf.AN(this):new d.cf.BN(this);case "color":case "offsetColor":return new d.cf.qX(this);
default:return new d.cf.BN(this)}}fa(){return{propertyAdapterJson:this.pg().fa()}}la(a){a&&this.pg().la(a.propertyAdapterJson)}}}
{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b);this.Cw=NaN}kq(){return this.J.ta.bg[0]}Ea(){return this.Cw?this.Cw:super.Ea()}yt(){return this.J.kb.za()}C5(b){this.J.ta.bg[0]!==b&&(this.Cw=b)}Aa(b,e,c,h,m){this.pg().gD(e.Zb())&&super.Aa(b,e,c,h,m)}Ae(b,e,c){if(this.pg().gD(e.Zb()))return super.Ae(b,e,c)}fa(){return Object.assign(super.fa(),{index:this.Cw})}la(b){b&&(super.la(b),this.Cw=b.index)}}d.Wa.Y0=a}
{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b);this.fb=NaN}kq(){return this.J.ta.bg[1]}yt(){var b=this.J.ta,e=this.fb?this.fb:b.bg[0];b=this.J.kb.za();e=b.iM(e);return b.dd[e].ka}og(b){return b.Ix(this.J.ta.bg[2])}z5(b){this.J.ta.bg[0]!==b&&(this.fb=b)}Aa(b,e,c,h,m){const g=this.J.kb.za();this.og(g.H())&&super.Aa(b,e,c,h,m)}Ae(b,e,c){const h=this.J.kb.za();if(this.og(h.H()))return super.Ae(b,e,c)}fa(){return Object.assign(super.fa(),{sid:this.fb})}la(b){b&&(super.la(b),
this.fb=b.sid)}}d.Wa.RW=a}{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b)}kq(){return this.J.ta.bg[1]}yt(){const b=this.J.kb.m().Xf,e=this.ID(b.Ja).Ea();return b.Ft(e)?b.Rk(e):null}ID(b){return b.Sk(this.J.ta.bg[0])}Aa(b,e,c,h,m){this.HQ()&&super.Aa(b,e,c,h,m)}Ae(b,e,c){if(this.HQ())return super.Ae(b,e,c)}HQ(){const b=this.J.kb.m().Xf,e=this.ID(b.Ja);if(e)return b.Ft(e.Ea())}}d.Wa.aZ=a}
{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b)}kq(){return this.J.ta.bg[0]}yt(){return this.J.kb.za().ka}Aa(b,e,c,h,m){var g=this.J.kb;const l=g.H().sb();g=g.za().H().sb();l===g&&super.Aa(b,e,c,h,m)}Ae(b,e,c){var h=this.J.kb;const m=h.H().sb();h=h.za().H().sb();if(m===h)return super.Ae(b,e,c)}}d.Wa.S2=a}
{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b);this.vc=0;this.DA=!1}Sj(){return!1}Lc(){const b=this.J.Md();let e=this.J.ta;e=b.Qx(e);this.vc=e.oc()}De(){}Zb(){this.DA||this.J.Aa(0);return this.vc}Aa(b,e,c){this.vc=d.Wa.Lt.Aa(b,e,c,this.J);this.DA=!0}Ao(){}vx(){}we(){return this.vc}ci(){return!1}di(){return!1}fa(){return{value:this.vc,init:this.DA}}la(b){b&&(this.vc=b.value,this.DA=b.hasOwnProperty("init")?b.init:!0)}}d.Wa.E5=a}
{"use strict";const d=self.B;class a extends d.Wa.uo{constructor(b){super(b);this.ik=!1;this.Ir=this.Nb=this.oe=null;this.Th=this.J.nb();this.kb=this.J.kb;this.kw=this.J.ta.bg;this.PH=this.kw[0];this.LJ=this.kw[1];this.uh=this.kw[3]?this.kw[3]:Math.random().toString(36).slice(2);this.Fw=this.Dp=this.hn=NaN;this.Eg=null;this.GQ()}A(){super.A();this.Eg=this.PH=this.kw=this.kb=this.Th=this.Ir=this.Nb=this.oe=null}GQ(){if(self.B.C.Audio){var b=this.J.G().Xx("audio");b&&(this.oe=b.ki().ka);this.Nb=self.B.C.Audio.Kd;
this.Ir=self.B.C.Audio.Zc}}RQ(){if(!this.Eg){var b=this.J.kb.Gf("audioSource");b&&(this.Eg=b.tb())}}o8(){const b=this.J.kb.Gf("volume");return b?b.tb().Dp:this.Dp}gl(){super.gl();this.ik=!1;this.oe&&(this.Ir&&(this.hn=this.Ir.Aka.call(this.oe,this.uh),this.Dp=this.Ir.loa.call(this.oe,this.uh)),this.Nb&&this.Nb.ff.call(this.oe,this.uh))}Fo(b){this.Fw=b}Lc(){super.Lc();this.hn=NaN;this.ik=!1}De(){super.De();const b=this.J.nb().xa();this.hn=b-this.LJ;switch(this.J.ta.Tc){case "volume":this.Dp=this.J.Ae(b)}this.ik=
!1}Aa(b,e,c,h,m){if(this.oe)switch(this.J.ta.Tc){case "audioSource":if(!this.Th.ni())break;if(h){this.Nb&&this.Nb.ff.call(this.oe,this.uh);break}if(b<this.LJ){this.ik=!1;break}e=this.Ir.zka.call(this.oe,this.uh);this.Th.Sc!==e&&this.Nb.Xj.call(this.oe,this.uh);if(this.ik)break;this.ik=!0;if(isNaN(this.hn)){const g=self.performance.now(),l=b-this.LJ;this.oe.GE("get-suspended").then(n=>{if("suspended"===n)this.ik=!1;else if(n=l+(self.performance.now()-g)/1E3,this.Nb){let p=this.Fw;isNaN(p)?(this.Fo(0),
p=0):this.Fo(p);this.Nb.Play.call(this.oe,this.PH,0,p,this.uh,n)}})}else{const g=this.hn;this.hn=NaN;const l=this.o8();this.Dp=NaN;this.oe.GE("get-suspended").then(n=>{"suspended"===n?this.ik=!1:this.Nb&&(this.Fo(l),this.Nb.Play.call(this.oe,this.PH,0,l,this.uh,g))})}break;case "volume":this.RQ(),super.Aa(b,e,c,h,m)}}Ae(b,e,c){if(this.oe)switch(this.J.ta.Tc){case "volume":return this.RQ(),super.Ae(b,e,c)}}RM(){return this.Eg?this.Eg.Fw:0}Z4(b,e){this.Eg&&this.Eg.Fo(this.RM()+e);this.Nb&&this.Eg&&
this.Nb.Fo.call(this.oe,this.Eg.uh)}jW(b,e){this.Eg&&this.Eg.Fo(e);this.Nb&&this.Eg&&this.Nb.Fo.call(this.oe,this.Eg.uh)}fa(){return{audioPlaybackStarted:this.ik,audioTag:this.uh,pauseTime:this.hn,pauseVolume:this.Dp,volume:this.Fw}}la(b){b&&(this.ik=b.audioPlaybackStarted,this.uh=b.audioTag,this.hn=b.pauseTime,this.Dp=b.pauseVolume,this.Fw=b.volume,this.GQ())}}d.Wa.OW=a}"use strict";function ic(d,a,b){return d.J.nb().ni()?a():b()}function jc(d,a,b){return"relative"===d.J.de()?a():b()}
function kc(d){if(d.ns)return d.ns;d.ns=d.pe.yt();return d.ns}function lc(d,a=!1){const b=[];for(const e of d){d=e.kb.Ze();for(const c of e.ay())a&&0===c.xa()?b.push({time:d+c.xa(),value:c.th}):a||b.push({time:d+c.xa(),value:c.th})}return b.sort((e,c)=>e.time-c.time)}function mc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Wa.cf=class{constructor(d){this.pe=d;this.J=d.Gf();this.Pa=this.J.kb.m();this.Tc=this.J.ta.Tc;this.Jr=!1;this.ns=this.Ph=null}A(){this.ns=this.Ph=this.Pa=this.J=this.pe=null}Sj(){return!1}gl(){}uj(){this.ns=this.Ph=this.Pa=null}tb(){return this.pe}Gf(){return this.J}m(){return this.Pa?this.Pa:this.Pa=this.J.kb.m()}Bi(){}Lc(){}De(){}vx(){this.Ph=null}we(){}ci(){}di(){}gD(d){return typeof this.ll()===typeof d}aq(){}Sn(){}$p(){}Mo(){return ic(this,()=>{const d=this.J.ta;return this.J.Md().Qx(d)},
()=>{const d=this.J.ta;return this.J.Md().bo(d)}).th}ez(){const d=this.J.nb().xa()-this.J.kb.Ze();return ic(this,()=>{const a=this.J.ta;return this.J.Md().gi(d,a)},()=>{const a=this.J.ta,b=this.J.Md(),e=b.tM(d,a);return e?e:b.bo(a)}).th}hz(){}Ge(){return this.pe.Ea()}fa(){return{firstAbsoluteUpdate:this.Jr,saveState:this.Ph}}la(d){d&&(this.Jr=d.firstAbsoluteUpdate,this.Ph=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class e extends d.Wa.cf{constructor(c){super(c)}Bi(){}Lc(){}De(){}we(){const c=this.J.Nd(),h=kc(this),m=this.Ge();switch(c){case "behavior":return this.Az(h.wc(m));case "effect":return this.Az(h[m]);case "plugin":return this.Az(h.wc(m));case "world-instance":return this.Az(this.ll())}}ci(){const c=this.Mo();return!this.FP(c,this.ll())}di(){return d.ee(this.Ph)?!1:!this.FP(this.Ph,this.ll())}FP(c,h){c=this.Zq(c);h=this.Zq(h);return c.fm(h)}Mo(){const c=
super.Mo();return this.Zq(c)}ez(){const c=super.ez();return this.Zq(c)}hz(){}Az(c){return d.vm(c,d.$a)?c.toArray().slice(0,3):c.slice(0,3)}Zq(c){return d.vm(c,d.$a)?c:new d.$a(c[0],c[1],c[2],1)}gD(){return!0}Sj(){return!0}aq(){var c=this.J.nb(),h=this.J.za();const m=this.J.tb();(c=c.ut(h,m,this.Tc))&&1<c.length&&(a.has(h)||a.set(h,new Map),h=a.get(h),c=this.J.Nd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.Tc)||h.set(this.Tc,{cW:!1,color:new d.$a(0,0,0,1)}))}wQ(c,h,m){c=a.get(c).get(h).get(m);
c.cW=!0;return c.color}Sn(c,h){var m=this.J.nb(),g=this.J.kb;c=this.J.za();var l=this.J.tb();const n=this.J.Nd();if((l=m.ut(c,l,this.Tc))&&1<l.length){if(l=lc(l,!0),m=m.xa(),m=mc(m,l))l=m.time-g.Ze(),0===l?this.wQ(c,n,this.Tc).QU(h[0],h[1],h[2]):0>l||(m=h[0],g=h[1],h=h[2],l=this.J.Aa(l,!1,!0),m=d.$a.sD(m,l[0]),g=d.$a.sD(g,l[1]),h=d.$a.sD(h,l[2]),this.wQ(c,n,this.Tc).QU(m,g,h))}else this.gk(h[0],h[1],h[2])}$p(){const c=this.J.za();if(a.has(c)){var h=a.get(c),m=this.J.Nd();if(h.has(m)){var g=h.get(m);
if(g.has(this.Tc)){var l=g.get(this.Tc),n=l.color;l.cW&&this.gk(n.Ra,n.Ua,n.Ta);0===g.size&&h.delete(m);0===h.size&&a.delete(c)}}}}ll(){const c=this.J.Nd(),h=kc(this),m=this.Ge();switch(c){case "behavior":return this.Zq(h.wc(m));case "effect":return h[m].clone();case "plugin":return this.Zq(h.wc(m));case "world-instance":return this.m().bb.clone()}}gk(c,h,m){const g=this.J.Nd(),l=kc(this),n=this.Ge();switch(g){case "behavior":b[0]=c;b[1]=h;b[2]=m;l.lh(n,b);break;case "effect":l[n].Ps(c,h,m);break;
case "plugin":b[0]=c;b[1]=h;b[2]=m;l.lh(n,b);break;case "world-instance":this.m().T4(c,h,m)}}fa(){}la(){}}d.Wa.cf.qX=e}
{"use strict";const d=self.B,a=d.Wa;class b extends d.Wa.cf{constructor(e){super(e)}Bi(){}Lc(){}De(){}we(){return this.ll()}ci(){return this.Mo()!==this.we()}di(){return d.ee(this.Ph)?!1:this.Ph!==this.we()}Sj(){return!1}Sn(e,c){const h=this.J,m=h.kb,g=h.Nd();var l=h.nb();const n=m.za(),p=h.tb();(l=l.ut(n,p,this.Tc))&&1<l.length&&(l=lc(l),e=mc(e+m.Ze(),l))&&(c=e.value);switch(h.qt()){case "numeric":if(!a.Lt.il(this.Ge(),kc(this),c,g))return;break;case "angle":if(!a.ix.il(this.Ge(),kc(this),c,g))return;
break;case "boolean":if(!a.kx.il(this.Ge(),kc(this),c,g))return;break;case "color":if(!a.wx.il(this.Ge(),kc(this),c,g))return;break;case "text":if(!a.Wy.il(this.Ge(),kc(this),c,g))return}this.gk(c)}ll(){const e=this.J.Nd(),c=kc(this),h=this.Ge();switch(e){case "behavior":return c.wc(h);case "effect":return c[h];case "instance-variable":return c.ye(h);case "plugin":return c.wc(h)}}gk(e){const c=this.J.Nd(),h=kc(this),m=this.Ge();switch(c){case "behavior":h.lh(m,e);break;case "effect":h[m]=e;break;
case "instance-variable":h.Fm(m,e);break;case "plugin":h.lh(m,e)}}}d.Wa.cf.AN=b}
{"use strict";const d=self.B,a=new Map,b=(c,h,m,g,l,n=!1,p=null,q=null)=>{a.set(c,{ifa:h,Cda:m,nea:g,round:l,gea:n,init:p,reset:q})};b("offsetX",(c,h)=>c.b2(h),(c,h)=>c.oh(h),c=>c.oa(),!0);b("offsetY",(c,h)=>c.c2(h),(c,h)=>c.Gi(h),c=>c.pa(),!0);b("offsetWidth",(c,h)=>c.DN(h),(c,h)=>c.Fi(h),c=>c.$(),!0);b("offsetHeight",(c,h)=>c.CN(h),(c,h)=>c.yi(h),c=>c.X(),!0);b("offsetAngle",(c,h)=>c.X1(h),(c,h)=>c.Bd(h),c=>c.Ma(),!1);b("offsetOpacity",(c,h,m,g)=>{m=c.Ld()+h;0===g.sc?(1<m?g.sc+=m-1:0>m&&(g.sc+=
m),c.Y1(h)):(c=c.Ld()+h,0<h&&0<g.sc?1<c&&(g.sc+=c-1):0<h&&0>g.sc?(g.sc+=h,0<g.sc&&(g.sc=0)):0>h&&0<g.sc?(g.sc+=h,0>g.sc&&(g.sc=0)):0>h&&0>g.sc&&0>c&&(g.sc+=c))},(c,h)=>{c.Ai(h)},c=>c.Ld(),!1,!0,c=>{c.sc=0;switch(c.J.de()){case "relative":{c.J.Md();const l=c.J.ta.qg().Gb;var h=c.m().Ld(),m=h;for(var g of l)m=g.xa(),m=c.J.Ae(m),m=h+m,m=d.da(m,0,1);c.ts=h-m;c.ts=Math.round(100*(c.ts+Number.EPSILON))/100;m=h;for(h=l.length-1;0<=h;h--)g=l[h].xa(),g=c.J.Ae(g),m-=g,m=d.da(m,0,1);c.ss=m;c.ss=Math.round(100*
(c.ss+Number.EPSILON))/100}}},c=>{switch(c.J.de()){case "relative":{c.sc=0;const h=c.m();let m=h.Ld();m=Math.round(100*(m+Number.EPSILON))/100;c.J.nb().ni()?(h.Ai(m+c.ts),c.Fb=0):(h.Ai(m-c.ss),c.Fb=c.tb().VD())}}});b("offsetOriginX",(c,h)=>c.Z1(h),(c,h)=>c.Pq(h),c=>c.Wk(),!1);b("offsetOriginY",(c,h)=>c.a2(h),(c,h)=>c.Qq(h),c=>c.Xk(),!1);b("offsetZElevation",(c,h)=>c.d2(h),(c,h)=>c.ef(h),c=>c.ab(),!0);b("offsetScaleX",(c,h,m)=>{const g=0>c.$()?-1:1;c.DN(m.Gj()*g*h)},(c,h,m)=>{c.Fi(m.Gj()*h)},(c,h)=>
{const m=0>c.$()?-1:1;if(c.fo()){var g=c.Ba(),l=h.nb().NM(g.za());l?g=g.$()/l.Gj():(l=g.za().ka,g=l.qo()?g.$()/l.Gj():1);return c.$()*m/(h.Gj()*g)}return c.$()*m/h.Gj()},!1);b("offsetScaleY",(c,h,m)=>{const g=0>c.X()?-1:1;c.CN(m.Fj()*g*h)},(c,h,m)=>{c.yi(m.Fj()*h)},(c,h)=>{const m=0>c.X()?-1:1;if(c.eo()){var g=c.Ba(),l=h.nb().NM(g.za());l?g=g.X()/l.Fj():(l=g.za().ka,g=l.qo()?g.X()/l.Fj():1);return c.X()*m/(h.Fj()*g)}return c.X()*m/h.Fj()},!1);class e extends d.Wa.cf{constructor(c){super(c);this.ss=
this.ts=this.sc=this.Fb=0;this.oU=this.qU=this.pU=this.dI=this.uJ=this.jI=this.lI=this.kI=null;this.LH=this.xJ=!1;this.tn=d.vm(this.J.nb(),d.v5)?new d.Wa.cf.W1(this):new d.Wa.cf.V1(this);const h=this.J.ta.Tc;switch(this.J.Nd()){case "world-instance":c=a.get(h);this.kI=c.nea;this.lI=c.ifa;this.jI=c.Cda;this.xJ=c.round;this.LH=c.gea;this.dI=c.init;this.uJ=c.reset;break;case "audio":this.pU=c.RM,this.qU=c.Z4,this.oU=c.jW,this.xJ=!0,this.LH=!1}}A(){this.jI=this.lI=this.kI=this.tn=null;super.A()}Sj(){return this.tn.Sj()}IO(c){this.Fb=
c}Bi(){this.uJ&&this.uJ(this)}Lc(){const c=this.tn.Lc();"number"===typeof c&&(this.Fb=c);this.dI&&this.dI(this)}De(){const c=this.tn.De();"number"===typeof c&&(this.Fb=c)}we(){return this.ll()}ci(){return this.Mo()!==this.we()}di(){return d.ee(this.Ph)?!1:this.Ph!==this.we()}aq(){this.tn.aq()}Sn(c,h,m,g,l,n,p){return this.tn.Sn(c,h,m,g,l,n,p)}$p(){this.tn.$p()}ll(){const c=kc(this),h=this.Ge(),m=this.m(),g=this.J.kb;switch(this.J.Nd()){case "behavior":return c.wc(h);case "effect":return c[h];case "instance-variable":return c.ye(h);
case "plugin":return c.wc(h);case "world-instance":return this.kI(m,g);case "audio":return this.pU.call(this.tb(),m,g)}}gk(c){const h=kc(this),m=this.Ge(),g=this.m(),l=this.J.kb;switch(this.J.Nd()){case "behavior":h.CE(m,c);break;case "effect":h[m]+=c;break;case "instance-variable":h.u4(m,c);break;case "plugin":h.CE(m,c);break;case "world-instance":this.lI(g,c,l,this);break;case "audio":this.qU.call(this.tb(),g,c,l,this)}}MR(c){const h=kc(this),m=this.Ge(),g=this.m(),l=this.J.kb;switch(this.J.Nd()){case "behavior":h.lh(m,
c);break;case "effect":h[m]=c;break;case "instance-variable":h.Fm(m,c);break;case "plugin":h.lh(m,c);break;case "world-instance":this.jI(g,c,l);break;case "audio":this.oU.call(this.tb(),g,c,l)}}fr(c,h,m,g,l,n){this.tn.fr(c,h,m,g,l,n)}jl(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.ll();this.gk((0===c?this.xJ?Math.round(g):this.LH?Math.round(100*(g+Number.EPSILON))/100:g:d.toFixed(g,c))-g,h,m)}fa(){return Object.assign(super.fa(),{v:this.Fb,a:this.sc,fod:this.ts,bod:this.ss})}la(c){c&&
(super.la(c),this.Fb=c.v,this.sc=c.a,this.ts=d.Lf(c.fod)?c.fod:0,this.ss=d.Lf(c.bod)?c.bod:0)}}d.Wa.cf.BN=e}
{"use strict";class d{constructor(b){this.dK=!1;this.vc=0;this.Qa=b;for(let e=0,c=this.Qa.length;e<c;e++)this.Qa[e].V3(this)}VO(){this.dK=!0}Ee(b){this.vc=b}Zb(){return this.vc}bd(){this.dK=!1;this.vc=0}}class a{constructor(b){this.me=b}A(){this.me=null}Lc(){const b=this.me;this.me.Gf();return jc(b,()=>ic(b,()=>0,()=>b.tb().VD()),()=>{})}De(){}Sj(){switch(this.me.Gf().de()){case "relative":return!1;case "absolute":return!0}}aq(){var b=this.me.Gf(),e=b.ta.Tc;switch(b.de()){case "absolute":if(b.ZD())b.Ju.bd();
else{const c=b.nb(),h=b.za();b=b.tb();(e=c.ut(h,b,e))&&1<e.length&&new d(e)}}}Sn(b,e,c,h,m,g){var l=this.me,n=this.me.Gf();switch(n.de()){case "relative":n=l.Fb;l.gk(e-n,c,h);g&&this.fr(b,c,h,m,n,e);l.IO(e);break;case "absolute":if(c=n.nb(),b=n.kb,n.za(),n.tb(),n.ZD()){if(l=n.Ju,h=lc(l.Qa,!0),c=c.xa(),c=mc(c,h))b=c.time-b.Ze(),0===b?(l.VO(),l.Ee(l.Zb()+e)):0>b||(n=n.Ae(b),l.VO(),l.Ee(l.Zb()+(e-n)))}else l.MR(e)}}$p(){const b=this.me;var e=this.me.Gf();switch(e.de()){case "absolute":e.ZD()&&(e=e.Ju,
e.dK&&b.MR(e.Zb()))}}fr(b,e,c,h,m,g){const l=this.me;h||(e&&b===e.xa()?l.jl(e.oc(),e,c):c&&b===c.xa()?l.jl(c.oc(),e,c):0===g-m&&l.jl(e.oc(),e,c))}}self.B.Wa.cf.V1=a}
{"use strict";class d{constructor(a){this.me=a}A(){this.me=null}Lc(){const a=this.me;a.Jr=!0;return this.hz(a.Mo())}De(){const a=this.me;if(a.Mo()!==a.ez())return a.Jr=!0,this.hz(a.ez())}Sj(){return!1}aq(){}Sn(a,b,e,c,h,m){const g=this.me,l=g.Fb;switch(g.Gf().de()){case "relative":g.gk(b-l,e,c);m&&this.fr(a,e,c,h,l,b);break;case "absolute":g.Jr?(g.Jr=!1,g.gk(l,e,c)):(g.gk(b-l,e,c),m&&this.fr(a,e,c,h,l,b))}g.IO(b)}$p(){}hz(a){return a-this.me.we()}fr(a,b,e,c,h,m){const g=this.me;c?b&&a===b.xa()?g.jl(b.oc(),
b,e):e&&a===e.xa()?g.jl(e.oc(),b,e):e||g.jl(b.oc(),b,e):b&&a===b.xa()?g.jl(b.oc(),b,e):e&&a===e.xa()?g.jl(e.oc(),b,e):0===m-h&&g.jl(b.oc(),b,e)}}self.B.Wa.cf.W1=d}
{"use strict";const d=self.B,a=self.Xs;d.Wa.Lt=class{constructor(){}static il(b,e,c,h){let m;switch(h){case "behavior":m=e.wc(b);break;case "effect":m=e[b];break;case "instance-variable":m=e.ye(b);break;case "plugin":m=e.wc(b)}return m===c?!1:!0}static Aa(b,e,c,h){if(!c)return c=h.ta,c=h.Md().bo(c),c.oc();var m=h.hi();"default"===m&&(m="continuous");"combo"===h.by()&&(m="discrete");if("discrete"===m)return e.oc();if("continuous"===m||"step"===m){"step"===m&&(m=h.nb().wt(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var g=e.xa();const l=c.xa();m=e.oc();const n=c.oc();if(m===n)return m;b=d.normalize(b,g,l);const p=e.qm();e=e.AD("cubic-bezier");c=c.AD("cubic-bezier");e&&e.lw&&c&&c.hA?(g=l-g,g=a.co(p)(g*b,0,1,g),g=a.co("cubicbezier")(g,m,m+e.JJ,n+c.GH,n)):g=a.co(p)((l-g)*b,m,n-m,l-g);return"integer"===h.by()?Math.floor(g):g}}}}
{"use strict";const d=self.B;d.Wa.ix=class{constructor(){}static il(a,b,e,c){let h;switch(c){case "behavior":h=b.wc(a);break;case "effect":h=b[a];break;case "instance-variable":h=b.ye(a);break;case "plugin":h=b.wc(a)}return h===e?!1:!0}static Aa(a,b,e,c){if(!e)return b=c.ta,b=c.Md().bo(b),b.oc();var h=c.hi();"default"===h&&(h="continuous");"combo"===c.by()&&(h="discrete");if("discrete"===h)return b.oc();if("continuous"===h||"step"===h){"step"===h&&(c=c.nb().wt(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.xa(),g=e.xa();c=b.oc();e=e.oc();if(h=b.AD("angle")){const l=h.wJ;if(c===e&&0===l)return c;a=d.normalize(a,m,g);b=self.Xs.co(b.qm())(a,0,1,1);switch(h.zH){case "closest":return d.nK(c,e,b,l);case "clockwise":return d.Ida(c,e,b,l);case "anti-clockwise":return d.Hda(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,m,g);b=self.Xs.co(b.qm());return d.nK(c,e,b(a,0,1,1))}}}}}"use strict";
self.B.Wa.kx=class{constructor(){}static il(d,a,b,e){let c;switch(e){case "behavior":c=a.wc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ye(d);break;case "plugin":c=a.wc(d)}return!!c===!!b?!1:!0}static Aa(d,a,b,e){return b?a.oc()?1:0:(d=e.ta,d=e.Md().bo(d),d.oc()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.Wa.wx=class{constructor(){}static il(c,h,m,g){let l;switch(g){case "behavior":l=h.wc(c);break;case "effect":l=h[c];break;case "instance-variable":l=h.ye(c);break;case "plugin":l=h.wc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.zV(m),a[0]=Math.floor(255*e.Ra),a[1]=Math.floor(255*e.Ua),a[2]=Math.floor(255*e.Ta));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.zV(l),b[0]=Math.floor(255*e.Ra),b[1]=Math.floor(255*e.Ua),b[2]=Math.floor(255*
e.Ta));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Aa(c,h,m,g){if(!m)return h=g.ta,h=g.Md().bo(h),h=h.oc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;var l=g.hi();"default"===l&&(l="continuous");if("discrete"===l)return h=h.oc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.nb().wt(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.xa();l=m.xa();var n=h.oc(),p=m.oc();const q=d.normalize(c,g,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.Xs.co(h.qm());g=l-g;
l=g*q;a[0]=c===u?c:h(l,c,u-c,g);a[1]=m===w?m:h(l,m,w-m,g);a[2]=n===p?n:h(l,n,p-n,g);return a}}}}"use strict";self.B.Wa.Wy=class{constructor(){}static il(d,a,b,e){let c;switch(e){case "behavior":c=a.wc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ye(d);break;case "plugin":c=a.wc(d)}return c===b?!1:!0}static Aa(d,a,b,e){return b?a.oc():(d=e.ta,d=e.Md().bo(d),d.oc())}};
{"use strict";const d=self.B;d.Ag=class{constructor(){this.ww=new Map}A(){for(const a of this.ww.values())a.A();this.ww.clear();this.ww=null}Ic(a){a=new d.p5(a);this.ww.set(a.wa(),a)}Y(a){return this.ww.get(a)}static ku(a,b,e,c){if(b)for(const h of b)d.Ag.HP("create",h,a,e,c)}static uu(a,b,e,c){a.length?b.forEach((h,m)=>{a[m].la(h)}):b.forEach(h=>{d.Ag.HP("load",h,a,e,c)})}static HP(a,b,e,c,h){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}else if("object"===
typeof c)switch(c=c.map.get(b[c.DV]),a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}switch(a){case "load":m.la(b);e.push(m);break;case "create":"function"!==typeof m.Tk||m.Tk()?e.push(m):m.A()}}}}
{"use strict";const d=self.B;d.p5=class{constructor(a){this.Da="";this.us=NaN;this.aC=0;this.$f=this.Yf="default";this.BB=this.pB=!1;this.hs=1;this.Oe=null;a&&(this.Da=a[0],this.us=a[1],this.aC=a[2],this.Yf=a[3],this.$f=a[4],this.pB=!!a[6],this.BB=!!a[7],this.hs=a[8],this.Oe=new d.aP(a[5],this))}A(){this.Oe.A();this.Oe=null}zt(){this.Oe||(this.Oe=new d.aP(null,this));return this.Oe}wa(){return this.Da}Ty(a){this.Da=a}hd(){return this.us}wt(){return this.aC}hi(){return this.Yf}de(){return this.$f}Wx(){return this.pB}$x(){return this.BB}rg(){return this.hs}fa(){return{trackDataJson:this.Oe.fa(),
name:this.Da,totalTime:this.us,step:this.aC,interpolationMode:this.Yf,resultMode:this.$f,loop:this.pB,pingPong:this.BB,repeatCount:this.hs}}la(a){a&&(this.zt().la(a.trackDataJson),this.Da=a.name,this.us=a.totalTime,this.aC=a.step,this.Yf=a.interpolationMode,this.$f=a.resultMode,this.pB=a.loop,this.BB=a.pingPong,this.hs=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Oe=e;this.Mm=this.GA=null;this.Nl=this.Cl=NaN;this.$f=this.Yf="default";this.Kg=!1;this.jc=this.Hh=null;this.Cc="";this.Xr=null;this.KJ=0;this.nB=this.Oe.Jd.hd();this.qa=0;this.Da="";b&&(b[0]&&(this.GA=b[0],this.Cl=b[0][2],this.Nl=b[0][1]),this.Yf=b[1],this.$f=b[2],this.Kg=!!b[3],b[6]&&(this.Cc=b[6]),b[7]&&(this.Xr=b[7],this.KJ=b[7][0],this.nB=b[7][1]),b[8]&&(this.Mm=b[8]),b[8]&&(this.Mm=b[8]),b[9]&&(this.qa=b[9]),b[10]&&(this.Da=b[10]),this.Hh=
new d.oN(b[4],this),this.jc=new d.UN(b[5],this))}A(){this.Oe=this.GA=null;this.Hh&&(this.Hh.A(),this.Hh=null);this.jc&&(this.jc.A(),this.jc=null);this.Xr=null}zt(){return this.Oe}Ej(){this.Hh||(this.Hh=new d.oN(null,this));return this.Hh}Md(){this.jc||(this.jc=new d.UN(null,this));return this.jc}QD(){return this.Nl}ot(){return this.Cl}hi(){return this.Yf}de(){return this.$f}Tk(){return this.Kg}fl(b){this.Kg=!!b}Cj(){return this.Cc}Ze(){return this.KJ}Vk(){return this.nB}Gj(){return this.Mm[0]}Fj(){this.Mm||
(this.Mm=[]);return this.Mm[1]}Nj(){return this.qa}wa(){return this.Da}fa(){return{keyframeDataJson:this.Hh.fa(),propertyTrackDataJson:this.jc.fa(),instanceData:this.GA,additionalInstanceData:this.Mm,instanceUid:this.Cl,objectClassIndex:this.Nl,interpolationMode:this.Yf,resultMode:this.$f,enabled:this.Kg,id:this.Cc,nestedData:this.Xr,type:this.qa,name:this.Da}}la(b){b&&(this.GA=b.instanceData,this.Cl=b.instanceUid,this.Nl=b.objectClassIndex,this.Yf=b.interpolationMode,this.$f=b.resultMode,this.Kg=
b.enabled,this.Cc=b.id,this.qa=b.type?b.type:0,this.Da=b.name?b.name:"",this.nB=this.Oe.Jd.hd(),b.nestedData&&(this.Xr=b.nestedData,this.KJ=this.Xr[0],this.nB=this.Xr[1]),b.additionalInstanceData&&(this.Mm=b.additionalInstanceData),this.Ej().la(b.keyframeDataJson),this.Md().la(b.propertyTrackDataJson))}}d.aP=class{constructor(b,e){this.Jd=e;this.Tp=[];d.Ag.ku(this.Tp,b,a,this)}A(){this.Jd=null;for(const b of this.Tp)b.A();d.D(this.Tp);this.Tp=null}h_(b,e){e=e.Ej().hc;const c=e.length;for(let h=0;h<
c;h++){const m=e[h];if(m.xa()===b)return m}}rM(b,e){e=e.Ej().hc;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.xa()<=b)return h}}*WV(){for(const b of this.Tp)yield b}fa(){return{trackDataItemsJson:this.Tp.map(b=>b.fa())}}la(b){b&&d.Ag.uu(this.Tp,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.jc=e;this.TB="";this.qa=this.Tc=this.bg=null;this.WI=this.$I=NaN;this.$f=this.Yf="default";this.Kg=!1;this.ij=null;this.Tz=!0;b&&(this.TB=b[0][0],this.bg=b[0].slice(1),this.Tc=b[1],this.qa=b[2],this.$I=b[3],this.WI=b[4],this.Yf=b[5],this.$f=b[6],this.Kg=!!b[7],this.ij=new d.TN(b[8],this),this.Tz=b[9])}A(){this.ij.A();this.bg=this.jc=this.ij=null}Md(){return this.jc}qg(){this.ij||(this.ij=new d.TN(null,this));return this.ij}Nd(){return this.TB}Nj(){return this.qa}TO(b){this.qa=
b}hi(){return this.Yf}de(){return this.$f}Tk(){return this.Kg}fl(b){this.Kg=!!b}hD(){return!!this.Tz}fa(){return{propertyKeyframeDataJson:this.ij.fa(),sourceAdapterId:this.TB,sourceAdapterArguments:this.bg,property:this.Tc,type:this.qa,min:this.$I,max:this.WI,interpolationMode:this.Yf,resultMode:this.$f,enabled:this.Kg,canHavePropertyKeyframes:this.Tz}}la(b){b&&(this.TB=b.sourceAdapterId,this.bg=b.sourceAdapterArguments,this.Tc=b.property,this.qa=b.type,this.$I=b.min,this.WI=b.max,this.Yf=b.interpolationMode,
this.$f=b.resultMode,this.Kg=b.enabled,this.Tz=b.canHavePropertyKeyframes,this.qg().la(b.propertyKeyframeDataJson))}}d.UN=class{constructor(b,e){this.Ib=e;this.Gp=[];d.Ag.ku(this.Gp,b,a,this)}A(){this.Ib=null;for(const b of this.Gp)b.A();d.D(this.Gp);this.Gp=null}Qx(b){return b.qg().Gb[0]}bo(b){return b.qg().Gb.$d(-1)}z_(b,e){e=e.qg().Gb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.xa()===b)return m}}tM(b,e){e=e.qg().Gb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.xa()>=b)return m}}gi(b,
e){e=e.qg().Gb;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.xa()<=b)return h}}*EV(){for(const b of this.Gp)yield b}fa(){return{propertyTrackDataItemsJson:this.Gp.map(b=>b.fa())}}la(b){b&&d.Ag.uu(this.Gp,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Hh=e;this.Wb=-1;this.Vi="noease";this.Wi=!1;this.Rv=this.Vg=null;b&&(this.Wb=b[0],this.Vi=b[1],this.Wi=!!b[2],this.Vg=(b=b[3])?b.split(" "):[],this.Rv=new Set(this.Vg.map(c=>c.toLowerCase())),this.Le=null)}A(){this.Hh=null;d.D(this.Vg);this.Vg=null;this.Rv.clear();this.Rv=null}Ej(){return this.Hh}$t(b){this.Le=b}xa(){return this.Wb}Vq(b){this.Wb=b;this.Hh.su()}qm(){return this.Vi}Wj(b){this.Vi=b}Tk(){return this.Wi}fl(b){this.Wi=!!b}RO(b){this.Vg=
b?b.split(" "):[];this.Rv=new Set(this.Vg.map(e=>e.toLowerCase()))}fa(){return{time:this.Wb,ease:this.Vi,enable:this.Wi,tags:this.Vg}}la(b){b&&(this.Wb=b.time,this.Vi=b.ease,this.Wi=b.enable,this.Vg=b.tags,this.Rv=new Set(this.Vg.map(e=>e.toLowerCase())))}}d.oN=class{constructor(b,e){this.Ib=e;this.hc=[];d.Ag.ku(this.hc,b,a,this);this.su()}A(){this.Ib=null;for(const b of this.hc)b.A();d.D(this.hc);this.hc=null}su(){this.hc.sort((b,e)=>b.xa()-e.xa());for(let b=0;b<this.hc.length;b++)this.hc[b].$t(this.hc[b+
1])}pW(){const b=new a(null,this);this.hc.push(b);this.su();return b}SX(b){for(const e of this.hc){if(!b(e))continue;const c=this.hc.indexOf(e);-1!==c&&(e.A(),this.hc.splice(c,1))}this.f5();this.su()}f5(){this.hc.sort((b,e)=>b.xa()-e.xa())}j_(b){return this.hc.indexOf(b)}i_(b){return this.hc[b]}fa(){return{keyframeDataItemsJson:this.hc.map(b=>b.fa())}}la(b){b&&(d.Ag.uu(this.hc,b.keyframeDataItemsJson,a,this),this.su())}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.ij=e;this.th=this.vc=null;this.qa="";this.Wb=NaN;this.Vi="noease";this.Wi=!1;this.Mi=null;this.ql=void 0;b&&(this.vc=b[0][0],this.th=b[0][1],this.qa=b[0][2],this.Wb=b[1],this.Vi=b[2],this.Wi=!!b[3],this.Mi=null,b[4]&&(this.Mi=new d.BW(b[4],this)),this.Le=null)}A(){this.ij=null;this.Mi&&(this.Mi.A(),this.Mi=null)}$t(b){this.Le=b}Zb(){return this.vc}Ee(b){"color"===this.qa&&d.Lf(b)?(this.vc[0]=d.TD(b),this.vc[1]=d.ND(b),this.vc[2]=d.CD(b)):
this.vc=b}pO(b){"color"===this.qa&&d.Lf(b)?(this.th[0]=d.TD(b),this.th[1]=d.ND(b),this.th[2]=d.CD(b)):this.th=b}oc(){const b=this.ij.ta.de();if("relative"===b)return this.Zb();if("absolute"===b)return this.th}Nj(){return this.qa}TO(b){this.qa=b}xa(){return this.Wb}Vq(b){this.Wb=b;this.ij.tu()}qm(){return this.Vi}Wj(b){this.Vi=b}Tk(){return this.Wi}fl(b){this.Wi=!!b}AD(b){if(this.Mi){if(this.ql||null===this.ql)return this.ql;var e=this.Mi.So;if(!e)return this.ql=null;var c=e.length;for(let h=0;h<c;h++){const m=
e[h];if(m.Cj()===b)return this.ql=m}return this.ql=null}}fa(){const b=this.Mi;return{addonDataJson:b?b.fa():b,value:this.vc,aValue:this.th,type:this.qa,time:this.Wb,ease:this.Vi,enable:this.Wi}}la(b){b&&(b.addonDataJson&&this.Mi.Loa(b.addonDataJson),this.vc=b.value,this.th=b.aValue,this.qa=b.type,this.Wb=b.time,this.Vi=b.ease,this.Wi=b.enable)}}d.TN=class{constructor(b,e){this.ta=e;this.Gb=[];d.Ag.ku(this.Gb,b,a,this);this.tu()}A(){this.ta=null;for(const b of this.Gb)b.A();d.D(this.Gb);this.Gb=null}tu(){this.Gb.sort((b,
e)=>b.xa()-e.xa());for(let b=0;b<this.Gb.length;b++)this.Gb[b].$t(this.Gb[b+1])}rL(){const b=new a(null,this);this.Gb.push(b);this.tu();return b}VL(b){for(const e of this.Gb){if(!b(e))continue;const c=this.Gb.indexOf(e);-1!==c&&(e.A(),this.Gb.splice(c,1))}this.g5();this.tu()}g5(){this.Gb.sort((b,e)=>b.xa()-e.xa())}fa(){return{propertyKeyframeDataItemsJson:this.Gb.map(b=>b.fa())}}la(b){b&&(d.Ag.uu(this.Gb,b.propertyKeyframeDataItemsJson,a,this),this.tu())}}}
{"use strict";const d=self.B;class a{constructor(c,h){this.Mi=h;this.Cc=c[0];this.xl=c[1]}A(){this.xl=this.Mi=null}Cj(){return this.Cc}fa(){return{id:this.Cc,data:this.xl}}la(c){c&&(this.Cc=c.id,this.xl=c.data)}}class b extends a{constructor(c,h){super(c,h);this.JJ=this.xl[0];this.lw=!!this.xl[1];this.GH=this.xl[2];this.hA=!!this.xl[3]}A(){super.A()}fa(){return Object.assign(super.fa(),{startAnchor:this.JJ,startEnable:!!this.lw,endAnchor:this.GH,endEnable:!!this.hA})}la(c){c&&(super.la(c),this.JJ=
c.startAnchor,this.lw=!!c.startEnable,this.GH=c.endAnchor,this.hA=!!c.endEnable)}}class e extends a{constructor(c,h){super(c,h);this.zH=this.xl[0];this.wJ=this.xl[1]}A(){super.A()}fa(){return Object.assign(super.fa(),{direction:this.zH,revolutions:this.wJ})}la(c){c&&(super.la(c),this.zH=c.direction,this.wJ=c.revolutions)}}d.BW=class{constructor(c){this.So=[];d.Ag.ku(this.So,c,{DV:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}A(){for(const c of this.So)c.A();d.D(this.So);this.So=null}fa(){return{addonDataItemsJson:this.So.map(c=>
c.fa())}}la(c){c&&d.Ag.uu(this.So,c.addonDataItemsJson,{DV:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.B;let a=0;d.v5=class extends d.Ho{constructor(b,e){super(`tween-${a++}`,b,e);this.Cc="";this.tS=!1;this.fI="start-value";this.kb=this.QT=this.PT=this.fc=null}QL(){for(const b of this.Jd.zt().WV())this.gb.push(d.fP.La(this,b));this.kb=this.gb[0]}Gf(){return this.kb.Qa[0]}za(){var b=this.gb;if(b&&b.length&&(this.kb=b=b[0])){var e=b.za();return b.wm()?e:void 0}}Cj(){return this.Cc}IN(){if(this.QT)for(const b of this.QT)b(this);if(!this.Uf)for(const b of this.gb)b.di()}DE(){this.rr=
this.g.Ak}dM(){if(!this.hp&&(this.hp=!0,this.PT))for(const b of this.PT)b(this)}Vq(b){this.LP();super.Vq(b)}pl(b){d.Lf(b)||(b=this.hd());this.Lb=0>b?0:b>=this.hd()?this.hd():b;this.kb.Bi()}Lc(b){if(!this.Xm&&"current-state"===this.fI)for(const e of this.gb)e.ci();super.Lc(b)}ff(b=!1){super.ff(b);if(!this.Uf)for(const e of this.gb)e.Ao()}bd(b=!0,e=!1){this.LP();super.bd(b,e)}LP(){for(const b of this.gb){const e=c=>{c=c.xa();const h=this.hd();return 0!==c&&c!==h};b.TX(e);b.Bx(e)}}zu(){if(this.Tg)return!0;
const b=this.za();if(b&&b.H().Mf())return!1;this.Bb.FL(this);this.iO();return!0}gf(b,e,c){this.fc||(this.fc=this.za());if(this.fc&&!this.fc.Et()&&(e=this.fc.Yd,-1!==e&&(b=c*e),0!==b||0!==this.dB)){this.dB=b;c=this.Lb+b*this.Sc;b=this.Jd.us;this.Lb=0>c?0:c>=b?b:c;e=c=!1;var h=this.Wx(),m=this.$x();h||m?h&&!m?0<this.Sc?this.Lb>=b&&(this.pl(0),e=!0):0>=this.Lb&&(this.pl(b),e=!0):!h&&m?0<this.Sc?this.Lb>=b&&(this.Pd(b),this.Xj(-1*this.Sc),e=!0,1===this.Gd?this.Dd<this.rg()?(this.Dd++,this.Gd=0):c=!0:
0===this.Gd&&(this.Gd=1)):0>=this.Lb&&(this.Pd(0),this.Xj(-1*this.Sc),e=!0,1===this.Gd?this.Dd<this.rg()?(this.Dd++,this.Gd=0):c=!0:0===this.Gd&&(this.Gd=1)):h&&m&&(0<this.Sc?this.Lb>=b&&(this.Pd(b),this.Xj(-1*this.Sc),e=!0):0>=this.Lb&&(this.Pd(0),this.Xj(-1*this.Sc),e=!0)):0<this.Sc?this.Lb>=b&&(this.Dd<this.rg()?(this.Dd++,this.pl(0),e=!0):(this.Pd(b),c=!0)):0>=this.Lb&&(this.Dd<this.rg()?(this.Dd++,this.pl(b),e=!0):(this.Pd(0),c=!0));c?(this.kb.yO(),this.ff(!0),this.DE()):(this.kb.Aa(this.Lb,
!0,!1,e,this.Ke,!1),this.Ke&&(this.Ke=!1))}}fa(){const b=super.fa();return Object.assign(b,{tweenDataItemJson:this.Jd.fa(),id:this.Cc,destroyInstanceOnComplete:this.tS,initialValueMode:this.fI})}la(b){b&&(this.Jd.la(b.tweenDataItemJson),super.la(b),this.Cc=b.id,this.tS=b.destroyInstanceOnComplete,this.fI=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B;d.fP=class extends d.xF{constructor(a,b){super(a,b);this.AJ=this.mv=null}static La(a,b){return d.j(d.fP,a,b)}zP(){1===this.Qa.length?this.mv=this.Qa[0]:(this.mv=this.Qa[0],this.AJ=this.Qa[1])}OL(){for(const a of this.Ib.Md().EV())this.Qa.push(d.eP.La(this,a));this.zP()}Qn(){}Aa(a,b,e=!1,c=!1,h,m=!1){this.fc||this.za();if(this.fc){if(this.fc.Et()||m&&this.H().Mf())return!1;this.AJ?(this.mv.Aa(a,e,c),this.AJ.Aa(a,e,c)):this.mv.Aa(a,e,c);0!==this.mv.Hk&&(this.Pa||(this.Pa=
this.fc.m()),this.Pa&&this.Pa.Xa())}}On(){}la(a){super.la(a);this.zP()}}}
{"use strict";const d=self.B;d.eP=class extends d.Wa{constructor(a,b){super(a,b);this.Ru=!1}static La(a,b){return d.j(d.eP,a,b)}Aa(a,b=!1,e=!1){if(this.Ru){var c=this.Gb[0];var h=this.Gb[1]}else{if(b)c=this.jc.gi(a,this.ta);else{if(this.Dc){h=this.nb();const m=this.Dc.Le;c=this.Dc.xa();h=m?m.xa():h.hd();if(a<=c||a>=h)this.Dc=this.jc.gi(a,this.ta)}else this.Dc=this.jc.gi(a,this.ta);c=this.Dc}h=c.Le}this.pe.Aa(a,c,h,b,e)}sL(){const a=this.ta.qg().rL();this.Dc=null;this.Ru=2>=this.ay().length;return a}Bx(a){this.Dc=
null;this.ta.qg().VL(a);this.Ru=2>=this.ay().length}fa(){return{sourceAdapterJson:this.tb().fa(),basic:this.Ru}}la(a){a&&(this.tb().la(a.sourceAdapterJson),this.Ru=a.basic)}}}
{"use strict";const d=self.B,a=self.Xs;d.cP=class extends d.ea{constructor(b){super();this.Da=b[0];this.dg=[];for(var e of b[1])b=d.dP.La(this,e),this.dg.push(b);for(e=0;e<this.dg.length;e++)this.dg[e].$t(this.dg[e+1]);this.bw=new Map;this.DU=new Map;this.w$();a.nW(this.Da,(c,h,m,g)=>this.Aa(c,h,m,g))}static La(b){return d.j(d.cP,b)}A(){for(const b of this.dg)b.A();d.D(this.dg);this.dg=null;this.bw.clear();this.bw=null;this.DU.clear();this.DU=null}WZ(b){for(let e=this.dg.length-1;0<=e;e--){const c=
this.dg[e];if(c.eg<b)return c}}VZ(b){for(let e=this.dg.length-1;0<=e;e--){const c=this.dg[e];if(c.eg<=b)return c}}Aa(b,e,c,h){var m=b/h;b=this.VZ(m);h=b.Le;h||(b=this.WZ(m),h=b.Le);m=d.Lea(m,b.eg,h.eg,h.eg-b.eg);const g=b.eg,l=b.Dw,n=b.eg+b.uU,p=b.Dw+b.uda,q=h.eg+h.yS,u=h.Dw+h.Cca,w=h.eg;h=h.Dw;h=a.co("spline")(m,g,l,n,p,q,u,w,h,this.bw.get(b));h+=b.Dw;return(1-h)*e+h*(e+c)}w$(){this.bw.clear();for(let e=0;e<this.dg.length-1;e++){var b=this.dg[e];if(!b.lw)continue;const c=this.dg[e+1];this.bw.set(b,
a.xZ(b.eg,b.eg+b.uU,c.eg+c.yS,c.eg))}}}}{"use strict";const d=self.B;d.dP=class extends d.ea{constructor(a,b){super();this.eg=b[0];this.Dw=b[1];this.uU=b[2];this.uda=b[3];this.yS=b[4];this.Cca=b[5];this.lw=b[6];this.hA=b[7];this.Le=null}A(){}static La(a,b){return d.j(d.dP,a,b)}$t(a){this.Le=a}}}{"use strict";const d=self.B;d.u5=class extends d.ea{constructor(a){super();this.g=a;this.eC=[]}A(){for(const a of this.eC)a.A();d.D(this.eC);this.eC=null}La(a){this.eC.push(d.cP.La(a))}}}
{"use strict";const d=self.B;d.e5=class extends d.ea{constructor(a){super();this.K=a;this.hb=[];this.hb.push(d.j(d.nF,this));this.Ka=0;this.Ti=this.hb[0]}A(){for(const a of this.hb)a.A();d.D(this.hb);this.K=this.Ti=null}H(){return this.K}U(){return this.Ti}pd(){this.U().pd()}d3(){var a=this.hb,b=++this.Ka;b===a.length?(b=d.j(d.nF,this),a.push(b),this.Ti=b):(a=a[b],a.bd(),this.Ti=a)}e3(){const a=this.hb,b=++this.Ka;b===a.length&&a.push(d.j(d.nF,this));const e=a[b];e.xX(a[b-1]);this.Ti=e}Ia(){this.Ti=
this.hb[--this.Ka]}yo(a){const b=this.hb;for(let e=0,c=b.length;e<c;++e)b[e].yo(a)}}}
{"use strict";const d=self.B;d.nF=class extends d.ea{constructor(a){super();this.hb=a;this.K=this.hb.H();this.Ed=this.K.G().ad();this.Pb=!0;this.F=[];this.Vb=[]}A(){this.tx();this.Ed=this.K=this.hb=null}tx(){d.D(this.F);d.D(this.Vb)}H(){return this.K}aE(){return this.Pb?!!this.K.F.length:!!this.F.length}ja(){return this.Pb?this.K.ja():this.F}P_(){return!!this.Vb.length}OZ(){const a=this.ja();return a.length?a:this.Vb}bd(){this.Pb=!0;d.D(this.Vb)}pd(){this.Pb=!0}xX(a){a.Pb?this.bd():(this.Pb=!1,d.Hc(this.F,
a.F),d.D(this.Vb))}Oo(a){this.F.push(a)}nl(a){this.Vb.push(a)}fe(a){this.Pb=!!a}Yj(a){this.Pb=!1;d.D(this.F);this.F.push(a)}Ut(a){this.Pb=!1;d.Hc(this.F,a)}cu(a){this.Pb=!1;d.D(this.F);for(const b of a)this.F.push(b)}qL(a,b){for(const e of b)a.has(e)||this.Vb.push(e)}s5(a){for(const b of a)this.F.push(b);d.hg(this.Vb,a)}Am(a){a&&(this.Ed.We().Cb().Fd?(this.Pb&&(d.D(this.F),d.Hc(this.Vb,a.H().ja()),this.Pb=!1),a=this.Vb.indexOf(a),-1!==a&&(this.F.push(this.Vb[a]),this.Vb.splice(a,1))):this.Yj(a))}yo(a){d.hg(this.F,
a);d.hg(this.Vb,a)}}}
{"use strict";const d=self.B;d.hZ=class extends d.ea{constructor(a){super();this.ua=a;this.g=this.ua.G();this.hb=[];this.hb.push(d.j(d.aM,this,null));this.Ka=0;this.jA=[]}A(){for(const a of this.hb)a.A();d.D(this.hb);d.D(this.jA);this.g=this.ua=null}ga(){return this.ua}G(){return this.g}We(){return this.hb[this.Ka]}Na(a){var b=this.hb;const e=++this.Ka;if(e===b.length)return a=d.j(d.aM,this,a),b.push(a),a;b=b[e];b.bd(a);return b}Ia(){--this.Ka}f3(a){this.jA.push(a)}T2(){this.jA.pop()}EZ(){const a=this.jA;
return 0===a.length?null:a.$d(-1)}}}
{"use strict";const d=self.B;d.aM=class extends d.ea{constructor(a,b){super();this.hb=a;this.g=this.hb.G();this.av=b;this.Sf=this.ul=0;this.FH=this.wp=!1;this.KH=null;this.SH=this.KS=0}A(){this.bd(null);this.g=this.hb=null}bd(a){this.av=a;this.Sf=this.ul=0;this.FH=this.wp=!1}rG(a,b){this.av=a;this.ul=0;this.Sf=b}jO(){this.Sf=this.ul=0}Cb(){return this.av}wg(a){this.av=a}Em(a){this.ul=a}My(a){this.Sf=a}Gm(a){this.wp=!!a}Mq(a){this.FH=!!a}l4(a){this.KH=a}w0(a,b){this.KS=a;this.SH=b}Ry(a){this.SH=a}Qj(){const a=
this.av;return a.YA?!0:this.ul<a.Ub.length-1?!!a.qd().length:!1}}}{"use strict";const d=self.B;d.I1=class extends d.ea{constructor(a){super();this.ua=a;this.g=this.ua.G();this.hb=[];this.Ka=-1;this.Ti=null;this.EA=[]}A(){d.D(this.hb);this.g=this.ua=null}cba(a){this.EA=a;a=this.EA.slice(0);this.hb.push(a);this.Ka=0;this.Ti=a}ga(){return this.ua}G(){return this.g}jq(){return this.Ti}Na(){const a=++this.Ka,b=this.hb;a===b.length?b.push(this.EA.slice(0)):d.Hc(b[a],this.EA);this.Ti=b[a]}Ia(){this.Ti=this.hb[--this.Ka]}}}
{"use strict";const d=self.B;d.K1=class extends d.ea{constructor(a){super();this.ua=a;this.g=this.ua.G();this.hb=[];this.Ka=-1}A(){d.D(this.hb);this.g=this.ua=null}ga(){return this.ua}G(){return this.g}hN(){return 0<=this.Ka}jq(){return this.hb[this.Ka]}Na(){++this.Ka;if(this.Ka===this.hb.length){var a=d.j(d.J1,this);this.hb.push(a);return a}a=this.hb[this.Ka];a.bd();return a}Ia(){--this.Ka}lZ(a){const b=this.hb;for(let e=this.Ka;0<=e;--e){const c=b[e];if(c.wa()===a)return c}return null}}}
{"use strict";const d=self.B;d.J1=class extends d.ea{constructor(a){super();this.tf=a;this.Da="";this.Ka=0;this.qc=!1}bd(){this.Da="";this.Ka=0;this.qc=!1}Ty(a){this.Da=a}wa(){return this.Da}xc(a){this.Ka=a}Ea(){return this.Ka}ff(){this.qc=!0}}}{"use strict";const d=self.B;d.KW=class extends d.ea{constructor(){super();this.hb=[];this.Ka=-1}A(){d.D(this.hb)}jq(){return this.hb[this.Ka]}Na(){++this.Ka;if(this.Ka===this.hb.length){const a=[];this.hb.push(a);return a}return this.hb[this.Ka]}Ia(){--this.Ka}}}
{"use strict";const d=self.B;function a(b,e){return b.Ea()-e.Ea()}d.gZ=class extends d.ea{constructor(b){super();this.g=b;this.Ku=[];this.BJ=new Map;this.XG=[];this.OS=new Map;this.lH=new Map;this.sH=new Map;this.Ez=new Map;this.bS=new Map;this.IH=new Map;this.hda=0;this.WG=[];this.bca=[];this.ET=[];this.QH=new Map;this.Ed=d.j(d.hZ,this);this.md=d.j(d.I1,this);this.tf=d.j(d.K1,this);this.TJ=[];this.JB=[];this.IB=[];this.kH=this.zl=this.Ul=0;this.ag=[];this.Lz=[];self.c3_callFunction=(e,c)=>this.mz(e,
c)}A(){this.rx();this.Ed.A();this.Ed=null;this.md.A();this.md=null;d.D(this.JB);d.D(this.IB);this.g=null;d.D(this.Ku);this.BJ.clear()}La(b){b=d.j(d.fZ,this,b);this.Ku.push(b);this.BJ.set(b.wa().toLowerCase(),b)}f6(b){this.TJ.push(b)}Kb(){for(const b of this.QH.values())b.Kb(!1);for(const b of this.Ku)b.Kb();for(const b of this.Ku)b.IG();for(const b of this.TJ)b.Kb(!1);d.D(this.TJ);this.md.cba(this.ET)}G(){return this.g}pM(b){return this.BJ.get(b.toLowerCase())||null}J$(b){this.XG.push(b);this.OS.set(b.NS,
b)}G$(b){this.lH.set(b.fb,b)}F$(b){this.sH.set(b.fb,b)}E$(b){this.Ez.set(b.fb,b)}I$(b){this.QH.set(b.uA.toLowerCase(),b)}H$(b){this.IH.set(b.fb,b);b.Mf()?this.WG.push(b):this.bca.push(b)}fz(b){2<=b.length&&b.sort(a);let e=this.bS.get(b.length);e||(e=[],this.bS.set(b.length,e));for(let h=0,m=e.length;h<m;++h){const g=e[h];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}n8(b){this.ET.push(b.mp);return this.hda++}ad(){return this.Ed}Ve(){return this.ad().We()}Cb(){return this.Ve().Cb()}Ef(){const b=
this.Ve();return b.Cb().kM(b.ul)}jt(){const b=this.Ve();return b.Cb().gM(b.Sf)}uZ(b){const e=[];for(b=b.qq();b;)d.Fn(e,b.cQ()),b=b.qq();return e}nQ(b){const e={};for(const c of this.uZ(b))e[c.ii()]=c.rQ();return Object.create(Object.prototype,e)}LD(b){return this.IH.get(b)||null}JZ(b){return this.lH.get(b)||null}sZ(b){return this.Ez.get(b)||null}Sx(b){return this.QH.get(b.toLowerCase())||null}A3(){for(const b of this.WG)b.G3()}oM(b){return this.OS.get(b.toLowerCase())||null}KZ(b){return(b=this.lH.get(b))&&
b.dj?b:null}B3(){for(const b of this.XG)b.D3()}kR(){for(const b of this.Ku)b.Y$()}L3(b){this.kR();this.Ul++;for(const e of b.ax())if(b=e.Rc)this.g.Ot(e),b.ra(),this.g.Nt();this.Ul--}async NX(b){this.kR();this.Ul++;for(const e of this.c7(b))await this.g.fq(e);this.Ul--}*c7(b){for(const e of b.ax())if(b=e.Rc)this.g.Ot(e),yield*b.jb(),this.g.Nt()}Hu(b,e,c,h){let m=!1;if(!b.Mb())return this.JE(e,c,h);this.zl++;for(const g of b.ax())if(b=g.Rc){this.g.Ot(g);for(const l of b.bA){const n=l.Hu(e,c,h);m=m||
n}b=b.Hu(e,c,h);m=m||b;this.g.Nt()}this.zl--;return m}*mu(b,e,c,h){let m=!1;if(!b.Mb())return this.JE(e,c,h);this.zl++;for(const g of b.ax())if(b=g.Rc){this.g.Ot(g);for(const l of b.bA){const n=yield*l.mu(e,c,h);m=m||n}b=yield*b.mu(e,c,h);m=m||b;this.g.Nt()}this.zl--;return m}JE(b,e,c){this.JB.push([b,e,c]);return!1}i3(b,e,c){let h=null;const m=new Promise(g=>h=g);this.IB.push([b,e,c,h]);return m}*haa(){if(this.g.Dt())throw Error("should not be in breakpoint");const b=this.g.Za;for(;this.IB.length;){const [e,
c,h,m]=this.IB.shift(),g=yield*this.mu(b,e,c,h);m(g)}}async lO(){for(const b of this.haa())await this.g.fq(b)}sE(){return 0<this.zl}qu(){return++this.zl}nu(){--this.zl}o1(){return 0<this.Ul}Ht(){return this.o1()||this.sE()}iaa(b){for(const [e,c,h]of this.JB)this.Hu(b,e,c,h);d.D(this.JB)}se(b){b?this.kH++:this.kH--}gN(){return 0<this.kH}eq(b){for(let e=0,c=b.length;e<c;++e)b[e].nn.pd()}ug(b){for(let e=0,c=b.length;e<c;++e)b[e].nn.d3()}Ce(b){for(let e=0,c=b.length;e<c;++e)b[e].nn.e3()}Jb(b){for(let e=
0,c=b.length;e<c;++e)b[e].nn.Ia()}ZC(){const b=d.j(d.UE,this);this.ag.push(b);return b}N3(){if(this.ag.length){var b=this.Ve(),e=!1;this.Ul++;for(let c=0,h=this.ag.length;c<h;++c){const m=this.ag[c];m.NR()&&m.$$(b);m.hw&&(e=!0)}e&&this.ZP();this.Ul--}}async PX(){if(this.ag.length){var b=this.Ve(),e=!1;this.Ul++;for(let c=0,h=this.ag.length;c<h;++c){const m=this.ag[c];m.NR()&&await m.W6(b);m.hw&&(e=!0)}e&&this.ZP();this.Ul--}}ZP(){const b=d.Kda(this.ag,e=>e.hw);for(const e of b)e.A()}rx(){for(const b of this.ag)b.A();
d.D(this.ag)}r3(b){for(const e of this.ag)e.yo(b)}WC(b){this.Lz.push(b)}ux(){d.D(this.Lz)}y_(){const b=Promise.all(this.Lz);this.Lz=[];return b}fa(){return{groups:this.paa(),cnds:this.oaa(),acts:this.naa(),vars:this.Baa(),waits:this.xaa()}}la(b){this.i9(b.groups);this.d9(b.cnds);this.c9(b.acts);this.v9(b.vars);this.r9(b.waits)}paa(){const b={};for(const e of this.XG)b[e.fb.toString()]=e.Gt();return b}i9(b){for(const [e,c]of Object.entries(b))(b=this.KZ(parseInt(e,10)))&&b.Nq(c)}oaa(){const b={};for(const [e,
c]of this.sH){const h=c.fa();h&&(b[e.toString()]=h)}return b}d9(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.sH)h.la(e.get(c)||null)}naa(){const b={};for(const [e,c]of this.Ez){const h=c.fa();h&&(b[e.toString()]=h)}return b}c9(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.Ez)h.la(e.get(c)||null)}Baa(){const b={};for(const [e,c]of this.IH)c.pb||!c.Mf()&&!c.Gh||(b[e.toString()]=c.Zb());return b}v9(b){for(const [e,
c]of Object.entries(b))(b=this.LD(parseInt(e,10)))&&b.Ee(c)}xaa(){return this.ag.filter(b=>!b.m1()).map(b=>b.fa())}r9(b){this.rx();for(const e of b)(b=d.UE.B6(this,e))&&this.ag.push(b)}yD(b){for(;b;)if(b=b.qq(),b instanceof d.ct)return b;return null}mz(b,e){Array.isArray(e)||(e=[]);b=this.Sx(b.toLowerCase());if(!b)return null;if(!b.po())return b.lt();var c=b.Mg;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].mp);while(e.length<c.length)}c=b.xe();return c.RE(c.rd(),b.Sl,b.lt(),...e)}}}
{"use strict";const d=self.B;d.fZ=class extends d.ea{constructor(a,b){super();this.ua=a;this.g=a.G();this.Da=b[0];this.iA=[];this.gC=new Map;this.ES=new Map;this.Dca=new Map;this.sv=!1;this.jU=[];this.bA=[];this.cS=new Set;for(const e of b[1])this.IP(e,null,this.iA);this.hj=this.g.qb?{type:"sheet",name:this.Da,bx:0,children:[]}:null}A(){this.g=this.ua=null}IP(a,b,e){switch(a[0]){case 0:case 3:this.z6(a,b,e);break;case 1:this.A6(a,b,e);break;case 2:this.E6(a,b,e);break;case 4:this.C6(a,b);break;case 5:this.J6(a,
b,e);break;default:throw Error("invalid event type");}}z6(a,b,e){a=d.Ok.La(this,b,a);if(a.Fd){e.push(a);e=a.Ub;for(let c=0,h=e.length;c<h;++c)e[c].ro()&&this.CQ(a,c)}else a.ro()?this.CQ(a,0):e.push(a)}C6(a,b){a=d.ct.La(this,b,a);this.ua.I$(a)}A6(a,b,e){a=d.Fx.La(this,b,a);e.push(a)}E6(a,b,e){a=d.$L.La(this,b,a);e.push(a)}J6(a,b,e){a=d.Ex.La(this,b,a);e.push(a)}CQ(a,b){a.Fd||this.ua.f6(a);var e=a.kM(b),c=e.Fa,h=e.H();if(e.jT){var m=this.ES.get(h);m||(m=new Map,this.ES.set(h,m));e=e.QZ().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(e);c||(c=[],h.set(e,c));c.push([a,b])}else m=this.gC.get(h),m||(m={RK:new Map,Iw:new Map},this.gC.set(h,m)),(h=e.og())?(e=m.Iw.get(h),e||(e=new Map,m.Iw.set(h,e))):e=m.RK,m=e.get(c),m||(m=[],e.set(c,m)),m.push([a,b])}Kb(){const a=this.iA;for(let b=0,e=a.length;b<e;++b)a[b].Kb(b<e-1&&a[b+1]instanceof d.Ok&&a[b+1].uy())}e6(a){this.jU.push(a)}IG(){d.D(this.bA);this.qP(this);this.cS.clear()}qP(a){const b=a.bA,e=a.cS;for(const c of this.jU){const h=c.xv;c.Eb&&
a!==h&&!e.has(h)&&(e.add(h),h.qP(a),b.push(h))}}ga(){return this.ua}G(){return this.g}wa(){return this.Da}eR(a,b){this.Dca.set(b,a)}Y$(){this.sv=!1}ra(){if(!this.sv){var a=this.g,b=a.lE(),e=b?performance.now():0;this.sv=!0;var c=this.ga(),h=c.Ve();for(const m of this.iA)m.ra(h),c.eq(m.qd()),c.ux(),a.yd();h.bd(null);b&&(this.hj.bx+=performance.now()-e)}}*jb(){if(!this.sv){this.sv=!0;var a=this.g,b=this.ga(),e=b.Ve();for(const c of this.iA)yield*c.jb(e),b.eq(c.qd()),b.ux(),a.yd();e.bd(null)}}Hu(a,b,
e){if(b){const c=b.H();this.GG(a,b,c,e);for(const h of c.Bh)this.GG(a,b,h,e)}else return this.GG(a,b,null,null)}GG(a,b,e,c){e=this.gC.get(e);if(!e)return!1;c=c?e.Iw.get(c):e.RK;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [h,m]of c)c=this.YP(b,h,m),a=a||c;return a}*mu(a,b,e){if(b){const c=b.H();yield*this.NF(a,b,c,e);for(const h of c.Bh)yield*this.NF(a,b,h,e)}else return yield*this.NF(a,b,null,null)}*NF(a,b,e,c){e=this.gC.get(e);if(!e)return!1;c=c?e.Iw.get(c):e.RK;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [h,m]of c)c=h.te()?this.YP(b,h,m):yield*this.Q6(b,h,m),a=a||c;return a}YP(a,b,e){const c=this.g,h=this.ua,m=h.Cb(),g=h.ad(),l=h.zl;let n=!1;m&&h.ug(m.rd());h.ug(b.rd());const p=1<l;p&&h.md.Na();const q=g.Na(b);a&&(b.Ub[e].H().U().Yj(a),a.Sb()&&a.Ei());a=!0;if(b.Ba()){const u=b.Up;for(let w=0,r=u.length;w<r;++w)if(!u[w].kO(q)){a=!1;break}}a&&(c.al(),b.Fd?b.M3(q,e):b.ra(q),n=q.wp);g.Ia();p&&h.md.Ia();h.Jb(b.rd());m&&h.Jb(m.rd());m||1!==l||(h.ux(),h.gN()||c.yd());return n}*Q6(a,
b,e){const c=this.g,h=this.ua,m=h.Cb(),g=h.ad(),l=h.zl;let n=!1;m&&h.ug(m.rd());h.ug(b.rd());const p=1<l;p&&h.md.Na();const q=g.Na(b);a&&(b.Ub[e].H().U().Yj(a),a.Sb()&&a.Ei());a=!0;if(b.Ba()){const u=b.Up;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].SL(q))){a=!1;break}}a&&(c.al(),b.Fd?yield*b.OX(q,e):yield*b.jb(q),n=q.wp);g.Ia();p&&h.md.Ia();h.Jb(b.rd());m&&h.Jb(m.rd());m||1!==l||(h.ux(),h.gN()||c.yd());return n}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*e(){return!0}d.Ok=class extends d.ea{constructor(c,h,m){super();this.Rc=c;this.g=c.G();this.tc=h;this.Wd=null;this.Ed=this.g.ga().ad();this.Me=[];this.ks=[];this.pv=this.$A=this.YA=this.TS=!1;this.Fd=!!m[2];this.NA=!1;this.Up=null;this.Ub=[];this.Nb=[];this.Sh=[];this.Li=b;this.Lo=e;this.uI=this.dj=!1;this.NS="";this.PA=!1;this.hj=this.$z=null;this.fb=m[4];this.Br=m[5];this.Rc.eR(this,this.Br);this.Oa=this.g.qb?{Yc:m[3][0],LK:m[3][1],
XU:!1,sK:!1,tK:!1,YU:!1}:null;this.ga().G$(this);3===m[0]&&this.J8(m[1]);c=0;for(var g of m[6])h=d.GL.La(this,g,c++),this.Ub.push(h),this.vP(h.H());c=0;for(const l of m[7])g=d.hx.La(this,l,c++),this.Nb.push(g);if(9===m.length){m=m[8];for(const l of m)this.Rc.IP(l,this,this.Sh)}this.Ub.length&&(this.NA=null===this.Ub[0].H()&&this.Ub[0].Fa===d.C.Ya.N.ZL);0===this.Ub.length&&(this.Ub=a);0===this.Nb.length&&(this.Nb=a);0===this.Sh.length&&(this.Sh=a)}static La(c,h,m){return d.j(d.Ok,c,h,m)}J8(c){this.dj=
!0;this.PA=this.uI=!!c[0];this.NS=c[1].toLowerCase();this.$z=[];this.ga().J$(this);this.g.qb&&(this.hj={type:"group",name:c[1],bx:0,children:[]})}W5(c){this.$z.push(c)}pP(c,h){for(const m of c.Ig.Pl)h.includes(m)||h.push(m)}wP(c,h){if(c)if(h.includes(c)||h.push(c),c.Va)for(const m of c.gp)m.Sb()&&this.pP(m,h);else c.Sb()&&this.pP(c,h)}vP(c){this.wP(c,this.Me)}a6(c){this.wP(c,this.ks)}W3(){this.Me=this.g.Mc}Kb(c){this.pv=!!c;this.C8();this.D8();for(const m of this.Ub)m.Kb();if(0<this.Nb.length){c=
!1;for(var h of this.Nb)h.Kb(),h.Y_()&&(c=!0);c?(this.Li=this.baa,this.Lo=this.Y6):(this.Li=this.aaa,this.Lo=this.X6)}h=this.Sh;for(let m=0,g=h.length;m<g;++m)h[m].Kb(m<g-1&&h[m+1]instanceof d.Ok&&h[m+1].uy());this.Oa&&this.Lba();this.hj&&this.p8().hj.children.push(this.hj)}p8(){let c=this.Ba();for(;c;){if(c.dj)return c;c=c.Ba()}return this.Rc}Lba(){const c=this.Oa;c.XU=this.Ub.every(h=>h.te());c.sK=this.Nb.every(h=>h.te());c.tK=this.Sh.every(h=>h.te());c.YU=c.XU&&c.sK&&c.tK}C8(){if(this.dj){var c=
this.Ba();for(this.$A=!0;c;){if(!c.dj){this.$A=!1;break}c=c.Ba()}}}B8(){var c=this.g.Mc;if(this.Me===c)this.ks=c;else{this.ks=d.wK(this.Me);for(c=this.Ba();c;){for(var h of c.Me)this.a6(h);c=c.Ba()}h=this.ga();this.Me=h.fz(this.Me);this.ks=h.fz(this.ks)}}D8(){if(this.Q_()){this.Up=[];for(var c=this.Ba();c;)this.Up.push(c),c=c.Ba();this.Up.reverse()}}du(){this.YA=!0;this.tc&&this.tc.du()}qd(){return this.Me}rd(){this.TS||(this.TS=!0,this.B8());return this.ks}$_(c){return this.Me.includes(c)}ga(){return this.Rc.ga()}G(){return this.g}Ba(){return this.tc}jba(c){this.Wd=
c}qq(){return this.Wd||this.tc}mE(){return this.Oa&&this.Oa.LK}no(){return this.mE()&&this.Oa.Yc}uy(){return this.NA}Gt(){return this.PA}D3(){this.Nq(this.uI)}Nq(c){c=!!c;if(!this.dj)throw Error("not a group");if(this.PA!==c){this.PA=c;for(const h of this.$z)h.gP();this.$z.length&&(c=this.g.Ha().Rc)&&c.IG()}}ro(){return this.Ub.length&&this.Ub[0].ro()}i1(){return this.Wd&&this.Wd instanceof d.ct}Q_(){return this.i1()||this.Ub.some(c=>c.ro())}kM(c){c=Math.floor(c);if(0>c||c>=this.Ub.length)throw new RangeError("invalid condition index");
return this.Ub[c]}h1(c){let h=c.Ea();if(0===h)return!0;for(--h;0<=h;--h)if(this.Ub[h].H()===c.H())return!1;return!0}gM(c){c=Math.floor(c);if(0>c||c>=this.Nb.length)throw new RangeError("invalid action index");return this.Nb[c]}A8(c){c=Math.floor(c);return 0<=c&&c<this.Nb.length}cQ(){return this.Sh.filter(c=>c instanceof d.Fx)}kO(c){c.wg(this);let h=!1;const m=this.Ub;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.Em(g);if(n.SA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ra())h=
!0;else if(!this.Fd)return!1}return this.Fd?h:!0}M3(c,h){c.wg(this);this.Ub[h].ra()&&(this.Li(c,0)&&this.ol(),c.Gm(!0))}*SL(c){c.wg(this);let h=!1;const m=this.Ub;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.Em(g);if(n.SA)throw Error("trigger cannot be used as sub-event to a loop");if(n.te()?n.ra():yield*n.jb())h=!0;else if(!this.Fd)return!1}return this.Fd?h:!0}*OX(c,h){c.wg(this);h=this.Ub[h];if(h.te()?h.ra():yield*h.jb())(this.yx()?this.Li(c,0):yield*this.Lo(c,0))&&(this.zx()?this.ol():yield*this.lu()),
c.Gm(!0)}ra(c){c.wg(this);this.NA||c.Mq(!1);this.Fd?this.gaa(c):this.rz(c)}*jb(c){if(this.no()||this.g.nc())yield this;c.wg(this);this.NA||c.Mq(!1);this.Fd?yield*this.j7(c):yield*this.KF(c)}gaa(c){const h=this.Ub;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.ro()||(c.Em(l),g=g.ra(),m=m||g)}c.Gm(m);m&&(this.Li(c,0)&&this.ol(),this.pv&&c.Mq(!0))}*j7(c){const h=this.Ub;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.ro()||(c.Em(l),g=g.te()?g.ra():yield*g.jb(),m=m||g)}c.Gm(m);
m&&((this.yx()?this.Li(c,0):yield*this.Lo(c,0))&&(this.zx()?this.ol():yield*this.lu()),this.pv&&c.Mq(!0))}rz(c){const h=this.Ub;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.Em(m);if(!l.ra()){c.Gm(!1);return}}c.Gm(!0);this.Li(c,0)&&this.ol();c.wp&&this.pv&&c.Mq(!0)}*KF(c){const h=this.Ub;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.Em(m);if(l.te()?!l.ra():!(yield*l.jb())){c.Gm(!1);return}}c.Gm(!0);(this.yx()?this.Li(c,0):yield*this.Lo(c,0))&&(this.zx()?this.ol():yield*this.lu());c.wp&&this.pv&&
c.Mq(!0)}aaa(c,h){const m=this.Nb;for(let g=h,l=m.length;g<l;++g)h=m[g],c.My(g),h.ra();return!0}*X6(c,h){const m=this.Nb;for(let g=h,l=m.length;g<l;++g)h=m[g],c.My(g),h.te()?h.ra():yield*h.jb();return!0}baa(c,h){const m=this.ga(),g=this.Nb;for(let l=h,n=g.length;l<n;++l){h=g[l];c.My(l);const p=h.ra();if(h.AL()&&!0===p)return!1;h.tg()&&p instanceof Promise&&m.WC(p)}return!0}*Y6(c,h){const m=this.ga(),g=this.Nb;for(let l=h,n=g.length;l<n;++l){h=g[l];c.My(l);let p;p=h.te()?h.ra():yield*h.jb();if(h.AL()&&
!0===p)return!1;h.tg()&&p instanceof Promise&&m.WC(p)}return!0}Z$(c){this.Li(c,c.Sf)&&this.ol()}*V6(c){if(yield*this.Lo(c,c.Sf))yield*this.lu()}ol(){if(this.Sh.length){var c=this.dj&&this.g.lE(),h=c?performance.now():0,m=this.Ed,g=m.Na(this);this.YA?this.laa(g):this.kaa(g);m.Ia();c&&(this.hj.bx+=performance.now()-h)}}laa(c){const h=this.dj,m=this.$A,g=this.ga(),l=this.Sh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.qd(),r=!m||!h&&n<q;r&&g.Ce(w);u.ra(c);r?g.Jb(w):g.eq(w)}}kaa(c){const h=
this.Sh;for(let m=0,g=h.length;m<g;++m)h[m].ra(c)}*lu(){if(this.Sh.length){var c=this.Ed,h=c.Na(this);this.YA?yield*this.m7(h):yield*this.l7(h);c.Ia()}}*m7(c){const h=this.dj,m=this.$A,g=this.ga(),l=this.Sh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.qd(),r=!m||!h&&n<q;r&&g.Ce(w);yield*u.jb(c);r?g.Jb(w):g.eq(w)}}*l7(c){const h=this.Sh;for(let m=0,g=h.length;m<g;++m)yield*h[m].jb(c)}vg(c,h){this.g.al();h.jO();const m=this.Ub;if(!this.Fd)for(let g=c.ul+1,l=m.length;g<l;++g)if(c=m[g],h.Em(g),
!c.ra())return!1;this.Li(h,0)&&this.ol();return!0}*lg(c,h){this.g.al();h.jO();const m=this.Ub;if(!this.Fd)for(let g=c.ul+1,l=m.length;g<l;++g)if(c=m[g],h.Em(g),c.te()?!c.ra():!(yield*c.jb()))return!1;(this.yx()?this.Li(h,0):yield*this.Lo(h,0))&&(this.zx()?this.ol():yield*this.lu());return!0}te(){return!this.no()&&!this.g.nc()&&this.Oa.YU}yx(){return!this.g.nc()&&this.Oa.sK}zx(){return!this.g.nc()&&this.Oa.tK}DF(c){if(this.Ba()){const h=this.Up;for(let m=0,g=h.length;m<g;++m)if(!h[m].kO(c))return!1}return!0}*JP(c){if(this.Ba()){const h=
this.Up;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].SL(c)))return!1}return!0}XP(c,h,m){0<h.length?m?(h=h.map(g=>g.Y(0)),c.md.Na(),this.Wd.Zt(h)):this.Wd.eZ(h):m&&c.md.Na()}J3(c,h){let m,g;const l=0<c.length;var n=this.g;const p=this.Ed,q=n.ga(),u=1<q.qu();this.XP(q,h,u);l&&q.ug(c);h=p.Na(this);this.DF(h)&&(n.al(),h.wg(this),(n=this.Wd.tg())&&([g,m]=this.Wd.qF()),this.rz(h),n&&this.Wd.Jt(g));p.Ia();u&&q.md.Ia();l&&q.Jb(c);q.nu();return m}*LX(c,h){let m,g;if(this.no()||this.g.nc())yield this;const l=
0<c.length;var n=this.g;const p=this.Ed,q=n.ga(),u=1<q.qu();this.XP(q,h,u);l&&q.ug(c);h=p.Na(this);if(yield*this.JP(h))n.al(),h.wg(this),(n=this.Wd.tg())&&([g,m]=this.Wd.qF()),yield*this.KF(h),n&&this.Wd.Jt(g);p.Ia();u&&q.md.Ia();l&&q.Jb(c);q.nu();return m}K3(c){const h=this.rd(),m=0<h.length,g=this.g,l=this.Ed,n=g.ga(),p=1<n.qu();p&&n.md.Na();this.Wd.Zt(c);m&&n.ug(h);c=l.Na(this);this.DF(c)&&(g.al(),c.wg(this),this.rz(c));l.Ia();p&&n.md.Ia();m&&n.Jb(h);n.nu()}*MX(c){if(this.no()||this.g.nc())yield this;
const h=this.rd(),m=0<h.length,g=this.g,l=this.Ed,n=g.ga(),p=1<n.qu();p&&n.md.Na();this.Wd.Zt(c);m&&n.ug(h);c=l.Na(this);if(yield*this.JP(c))g.al(),c.wg(this),yield*this.KF(c);l.Ia();p&&n.md.Ia();m&&n.Jb(h);n.nu()}RE(c,h,m,...g){let l,n;const p=0<c.length,q=this.g,u=this.Ed,w=q.ga(),r=1<w.qu();r&&w.md.Na();0<g.length&&this.Wd.Zt(g);p&&w.ug(c);g=u.Na(this);g.w0(h,m);u.f3(g);q.Py(!1);this.DF(g)&&(q.al(),g.wg(this),(h=this.Wd.tg())&&([n,l]=this.Wd.qF()),this.rz(g),h&&this.Wd.Jt(n));q.Py(!0);u.Ia();u.T2();
r&&w.md.Ia();p&&w.Jb(c);w.nu();return l||g.SH}}}
{"use strict";const d=self.B,a=[];let b=!1;d.Ex=class extends d.ea{constructor(e,c,h){super();const m=e.G(),g=e.ga();this.Rc=e;this.ua=g;this.g=e.G();this.tc=c;this.Fa=m.jh(h[1]);this.Br=h[2];this.Rc.eR(this,this.Br);this.Oa=m.qb?{Yc:h[3][0],LK:h[3][1]}:null}static La(e,c,h){return d.j(d.Ex,e,c,h)}Kb(){const e=this.Fa,c=this.g.ga().nQ(this);this.Fa=e.bind(null,this.g.bj,c)}Ba(){return this.tc}qq(){return this.tc}mE(){return this.Oa&&this.Oa.LK}no(){return this.mE()&&this.Oa.Yc}uy(){return!1}qd(){return a}rd(){return this.tc?
this.tc.rd():a}ra(e){e.wg(this);this.ua.WC(this.maa())}async maa(){try{await this.Fa()}catch(e){console.error(`Unhandled exception running script %c${this.Rc.wa()}, event ${this.Br}:`,"font-size: 1.2em; font-weight: bold;",e),self.jg&&self.jg.eba(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*jb(e){e.wg(this);if(this.no()||this.g.nc())yield this;
this.ra(e)}te(){return!this.no()&&!this.g.nc()}static L_(){return b}static q4(){b=!0}}}
{"use strict";const d=self.B;d.ct=class extends d.ea{constructor(a,b,e){super();this.Rc=a;this.g=a.G();this.tc=b;const c=e[1];this.uA=c[0];this.Sl=c[1];this.Mg=c[2].map(h=>d.Fx.La(a,this,h));this.Og=c[3];this.gI=[];this.Av=c[4];this.dda=0;this.$u=-1;this.Nu=new Map;this.Rd=d.Ok.La(a,b,e);this.Rd.jba(this)}static La(a,b,e){return d.j(d.ct,a,b,e)}Kb(){for(const a of this.Mg)a.Kb();this.Rd.Kb(!1)}cQ(){return this.Mg}K$(a){this.gI.push(a)}eZ(a){const b=this.Mg;for(let e=0,c=b.length;e<c;++e)b[e].Ee(a[e].Y(0))}Zt(a){const b=
this.Mg;for(let e=0,c=b.length;e<c;++e)b[e].Ee(a[e])}fX(){return this.Mg.map(a=>a.Zb())}Ba(){return this.tc}qq(){return this.tc}po(){return this.Og}lt(){switch(this.Sl){case 0:return null;case 2:return"";default:return 0}}xe(){return this.Rd}tg(){return this.Av}qF(){const a=this.dda++;this.$u=a;let b;const e=new Promise(c=>b=c);this.Nu.set(a,{resolve:b,YK:0});return[a,e]}Jt(a){const b=this.Nu.get(a);0===b.YK&&(b.resolve(),this.Nu.delete(a));this.$u=-1}Q2(){this.Nu.get(this.$u).YK++;return this.$u}I3(a){this.$u=
a;this.Nu.get(a).YK--}}}
{"use strict";const d=self.B,a=[];d.Fx=class extends d.ea{constructor(b,e,c){super();const h=b.ga();this.Rc=b;this.ua=h;this.g=b.G();this.tc=e;this.md=h.md;this.Da=c[1];this.qa=c[2];this.mp=c[3];this.Gh=!!c[4];this.pb=!!c[5];this.Pca=e instanceof d.ct;this.fb=c[6];this.Lv=this.g.ii(c[8]);this.rda=m=>this.Ee(m);this.pda=()=>this.Zb();this.VS=!this.tc||this.Gh||this.pb;this.vc=this.mp;this.UI=-1;this.aN()&&(this.vc=this.vc?1:0);!this.vE()||this.Gh||this.pb||(this.UI=h.n8(this));h.H$(this)}static La(b,
e,c){return d.j(d.Fx,b,e,c)}Kb(){if(this.vE()&&!this.Gh&&!this.pb&&!this.Pca){const b=this.ua.yD(this);b&&b.K$(this)}}wa(){return this.Da}ii(){return this.Lv}Ba(){return this.tc}qq(){return this.Ba()}Mf(){return!this.Ba()}vE(){return!this.Mf()}ym(){return 0===this.qa}pi(){return 1===this.qa}aN(){return 2===this.qa}uy(){return!1}qd(){return a}ra(){!this.vE()||this.Gh||this.pb||this.Ee(this.mp)}te(){return!0}*jb(b){this.ra(b)}Ee(b){this.ym()?"number"!==typeof b&&(b=parseFloat(b)):this.pi()?"string"!==
typeof b&&(b=b.toString()):this.aN()&&(b=b?1:0);this.VS?this.vc=b:this.md.jq()[this.UI]=b}Zb(){return this.VS?this.vc:this.md.jq()[this.UI]}G3(){this.vc=this.mp}rQ(){return{configurable:!1,enumerable:!0,get:this.pda,set:this.rda}}}}
{"use strict";const d=self.B,a=[];d.$L=class extends d.ea{constructor(b,e,c){super();const h=b.ga();this.Rc=b;this.ua=h;this.g=b.G();this.tc=e;this.xv=null;this.Jca=c[1];this.Eb=!0}static La(b,e,c){return d.j(d.$L,b,e,c)}Kb(){this.xv=this.ua.pM(this.Jca);this.Rc.e6(this);let b=this.Ba();for(;b;)b instanceof d.Ok&&b.dj&&b.W5(this),b=b.Ba();this.gP();this.g.qb&&this.Rc.hj.children.push(this.xv.hj)}Ba(){return this.tc}qd(){return a}ra(){const b=!!this.Ba(),e=this.g.Mc;b&&this.ua.ug(e);this.xv.ra();b&&
this.ua.Jb(e)}*jb(){const b=!!this.Ba(),e=this.g.Mc;b&&this.ua.ug(e);yield*this.xv.jb();b&&this.ua.Jb(e)}te(){return!1}gP(){let b=this.Ba();for(;b;){if(b instanceof d.Ok&&b.dj&&!b.Gt()){this.Eb=!1;return}b=b.Ba()}this.Eb=!0}}}
{"use strict";const d=self.B;d.Yn=class extends d.ea{constructor(g){super();this.ic=g;this.g=g.G()}Kb(){}static FX(g,l){return d.j([h,e,c,m,a,b][l[0]],g,l)}};class a extends d.Yn{constructor(g,l){super(g);this.wd=this.g.xt();this.Fa=this.g.jh(l[1]);this.Fa!==d.C.Ya.Zc.random&&this.Fa!==d.C.Ya.Zc.Pda||this.ic.mF()}Te(){return this.wd.bk(this.Fa,this.wd)}}class b extends d.Yn{constructor(g,l){super(g);this.Lr=null;this.uA=l[1];this.ic.mF()}Kb(){const g=this.g.ga();this.Lr=g.Sx(this.uA);this.uA=null;
const l=this.Lr.xe();this.wl=[...new Set([...this.ic.xe().rd(),...l.rd()])];this.wl=g.fz(this.wl)}Te(){const g=this.Lr;if(g.po())return d.Ok.prototype.RE.bind(g.xe(),this.wl,g.Sl,g.lt());{const l=g.lt();return()=>l}}}class e extends d.Yn{constructor(g,l){super(g);this.K=this.g.Ye(l[1]);this.Fa=this.g.jh(l[2]);this.vJ=!!l[3];this.Ed=this.g.ga().ad();this.ic.jG(this.K)}Te(){return this.K.sb().bk(this.Fa,this.K.ki().ka)}xD(){const g=this.K,l=g.U().OZ();var n=l.length;if(0===n)return this.vJ?"":0;var p=
this.ic.SB;p>=n?n=p%n:(0>p&&(p<=-n&&(p%=n),0>p&&(p+=n)),n=p);this.Ed.We().l4(g);return this.Fa.apply(l[n].ka,[])}}class c extends d.Yn{constructor(g,l){super(g);this.K=this.g.Ye(l[1]);this.vJ=!!l[2];this.ic.jG(this.K)}}class h extends d.Yn{constructor(g,l){super(g);this.K=this.g.Ye(l[1]);this.Nc=this.K.Ix(l[2]);this.Pi=this.K.ft(l[2]);this.Fa=this.g.jh(l[3]);this.vJ=!!l[4];this.Ed=this.g.ga().ad();this.ic.jG(this.K)}}class m extends d.Yn{constructor(g,l){super(g);this.Ah=null;this.HH=l[1]}Kb(){this.Ah=
this.g.ga().LD(this.HH)}}}
{"use strict";const d=self.B;d.Be=class extends d.ea{constructor(A,G,z){super();this.ic=A;this.Ka=z;this.qa=G;this.Y=null;this.pb=this.Pe=!1}static La(A,G,z){const F=G[0];return d.j([b,e,p,h,g,c,l,b,h,h,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Kb(){}mF(){this.Pe=!0}jG(A){this.Pe||!A||A.sb().Zm||(this.Pe=!0)}Ea(){return this.Ka}G(){return this.ic.G()}xe(){return this.ic.xe()}};function a(A){A=self.WW[A];if(!A)throw Error("invalid expression number");return A}class b extends d.Be{constructor(A,G,z,F){super(A,
G,z);this.SB=0;A=F[1];this.JH=A[0];this.Yr=[];this.kA=null;for(let H=1,J=A.length;H<J;++H)this.Yr.push(d.Yn.FX(this,A[H]));this.Yr.length?this.Y=this.NZ:(this.Y=a(this.JH),this.pb=!0)}zc(A){if(0>A||A>=this.Yr.length)throw new RangeError("invalid numbered node");return this.Yr[A]}Kb(){for(var A of this.Yr)A.Kb();A=a(this.JH);this.kA=this.Yr.length?A(this):A}NZ(A){this.SB=A;return this.kA()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.C_;14===G&&(this.xe().W3(),this.ic instanceof
d.hx&&this.xe().du())}C_(A){this.SB=A;A=this.kA();return"string"===typeof A?A:""}h8(){return a(this.JH)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.ba;this.pb=!1}ba(A){this.SB=A;A=this.kA();return this.G().Ha().ba(A)}}class h extends d.Be{constructor(A,G,z,F){super(A,G,z);this.vca=F[1];this.Y=this.DZ;this.pb=!0}DZ(){return this.vca}}class m extends d.Be{constructor(A,G,z,F){super(A,G,z);this.hca=F[1];this.Y=this.zZ;this.pb=!0}zZ(){return this.hca}}class g extends d.Be{constructor(A,
G,z,F){super(A,G,z);this.K=this.G().Ye(F[1]);this.Y=this.H;A=this.xe();A.vP(this.K);this.ic instanceof d.hx?A.du():A.Ba()&&A.Ba().du();this.pb=!0}H(){return this.K}}class l extends d.Be{constructor(A,G,z,F){super(A,G,z);this.Pg=this.G().Za.lq(F[1]);this.Y=this.Yb;this.pb=!0}Yb(){return this.Pg}}class n extends d.Be{constructor(A,G,z,F){super(A,G,z);this.Th=this.G().Bb.fy(F[1]);this.Y=this.nb;this.pb=!0}nb(){return this.Th}}class p extends d.Be{constructor(A,G,z,F){super(A,G,z);this.Eca=F[1];this.Y=
this.RZ;this.pb=!0}RZ(){return this.Eca}}class q extends d.Be{constructor(A,G,z,F){super(A,G,z);this.fT=F[1];(A=this.ic.H())&&A.Va?(this.Y=this.PZ,this.mF()):(this.Y=this.c_,this.pb=!0)}c_(){return this.fT}PZ(A){A=A||0;const G=this.ic.H();var z=G.U();const F=z.ja();if(F.length)A=F[A%F.length].H();else if(z.P_())z=z.Vb,A=z[A%z.length].H();else if(0<G.F.length)z=G.ja(),A=z[A%z.length].H();else return 0;return this.fT+A.qM(G.$i)}}class u extends d.Be{constructor(A,G,z,F){super(A,G,z);this.HH=F[1];this.Ah=
null;this.Y=this.LZ;this.pb=!0}Kb(){this.Ah=this.G().ga().LD(this.HH)}LZ(){return this.Ah}}class w extends d.Be{constructor(A,G,z,F){super(A,G,z);this.IS=F[1];this.Lr=null;this.Y=this.XZ;this.pb=!0}Kb(){this.Lr=this.G().ga().Sx(this.IS);this.IS=null}XZ(){return this.Lr}}class r extends d.Be{constructor(A,G,z,F){super(A,G,z);this.OJ=[];this.IU=[];this.pb=!0;for(let H=1,J=F.length;H<J;++H)A=d.Be.La(this.ic,F[H],0),this.OJ.push(A),this.IU.push(0),A.pb||(this.pb=!1);this.Y=this.I_}Kb(){for(const A of this.OJ)A.Kb()}I_(){const A=
this.OJ,G=this.IU;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class v extends d.Be{constructor(A,G,z,F){super(A,G,z);this.Aca=F[1];this.Y=this.qm;this.pb=!0}qm(){return this.Aca}}class y extends d.Be{constructor(A,G,z,F){super(A,G,z);this.nca=F[1];this.Y=this.F_;this.pb=!0}F_(){return this.nca}}}
{"use strict";const d=self.B;function a(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].Y(0)}const b=[],e=function(){};d.GL=class extends d.ea{constructor(c,h,m){super();this.Rd=c;this.g=c.G();this.Ka=m;this.Fa=this.g.jh(h[1]);this.CI=0<h[3];this.jT=2===h[3];this.SA=!!h[4];this.ej=!!h[5];this.Gh=!!h[6];this.fb=h[7];this.kT=this.Rd.Fd;this.Nc=this.K=null;this.Pi=-1;this.wd=null;this.jb=this.ra=e;this.Ga=[];this.rb=[];this.rl=!1;this.Uh=this.Ab=null;this.Oa=this.g.qb?{Yc:h[8][0],yf:h[8][1]}:null;-1===
h[0]?this.wd=this.g.xt():(this.K=this.g.Ye(h[0]),h[2]&&(this.Nc=this.K.Ix(h[2]),this.Pi=this.K.ft(h[2])),this.Rd.Ba()&&this.Rd.Ba().du());if(10===h.length){c=h[9];for(let g of c)this.Ga.push(d.Be.La(this,g,this.Ga.length)),this.rb.push(0)}0===this.Ga.length&&(this.rb=this.Ga=b);this.Rd.ga().F$(this)}static La(c,h,m){return d.j(d.GL,c,h,m)}Kb(){for(const c of this.Ga)c.Kb(),c.Pe&&(this.rl=!0);this.jT?(this.ra=this.caa,this.jb=this.d7):this.wd?(this.CG(),this.jb=this.MF):this.K.sb().Zm?(this.BG(),this.jb=
this.LF):this.Gh?(this.ra=this.jaa,this.jb=this.k7):(this.ra=this.qR,this.jb=this.e7)}CG(){this.Eu(this.wd,this.wd,this.uG)}BG(){const c=this.K.sb(),h=this.K.ki().ka;this.Eu(c,h,this.tG)}Eu(c,h,m){const g=this.Fa,l=this.ej,n=this.Ga;if(0===n.length){const p=c.bk(g,h);this.ra=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.pb)this.ra=c.eQ(g,h,p.Y(0));else{const q=c.bk(g,h);this.ra=function(){return d.xor(q(p.Y(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.pb&&q.pb)this.ra=c.fQ(g,h,p.Y(0),q.Y(0));else{const u=c.bk(g,h);this.ra=function(){return d.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.pb&&q.pb&&u.pb)this.ra=c.gQ(g,h,p.Y(0),q.Y(0),u.Y(0));else{const w=c.bk(g,h);this.ra=function(){return d.xor(w(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.ra=m}H(){return this.K}og(){return this.Nc}xe(){return this.Rd}G(){return this.g}Ea(){return this.Ka}lM(){return this.Ea()}ro(){return this.CI}te(){return!this.Oa.Yc&&!this.g.nc()&&
!this.Oa.yf}Kj(){this.Ab||(this.Ab=new Map);return this.Ab}At(){this.Uh||(this.Uh=new Map);return this.Uh}uG(){const c=this.rb;a(this.Ga,c);return d.xor(this.Fa.apply(this.wd,c),this.ej)}*MF(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){var c=this.rb;a(this.Ga,c);c=this.Fa.apply(this.wd,c);d.xm(c)&&(c=yield*c);return d.xor(c,this.ej)}return this.ra()}tG(){const c=this.rb;a(this.Ga,c);const h=this.K.ki().ka;return d.xor(this.Fa.apply(h,c),this.ej)}*LF(){if(this.Oa.Yc||this.g.nc())yield this;
if(this.Oa.yf){var c=this.rb;a(this.Ga,c);const h=this.K.ki().ka;c=this.Fa.apply(h,c);d.xm(c)&&(c=yield*c);return d.xor(c,this.ej)}return this.ra()}caa(){return!0}*d7(){if(this.Oa.Yc||this.g.nc())yield this;return!0}jaa(){var c=this.rb;a(this.Ga,c);c=this.Fa.apply(this.Nc||this.K,c);this.K.Xb();return c}*k7(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){var c=this.rb;a(this.Ga,c);c=this.Fa.apply(this.Nc||this.K,c);d.xm(c)&&(c=yield*c);this.K.Xb();return c}return this.ra()}qR(){const c=this.Ga,
h=this.rb,m=this.K.U();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Pe||(h[g]=n.Y(0))}return m.Pb?this.daa(m):this.eaa(m)}*e7(){if(this.Oa.Yc||this.g.nc())yield this;return this.qR()}VF(c){const h=this.Ga,m=this.rb;for(let g=0,l=h.length;g<l;++g){const n=h[g];n.Pe&&(m[g]=n.Y(c))}}daa(c){const h=this.K,m=h.Va,g=h.$i,l=this.Pi,n=0<=l,p=h.ja(),q=this.rl,u=this.rb,w=this.Fa,r=this.ej,v=this.kT&&!this.CI;c.tx();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.VF(A);var y=void 0;n?(y=m?z.H().Zn(g):
0,y=w.apply(z.dd[l+y].ka,u)):y=w.apply(z.ka,u);d.xor(y,r)?c.Oo(z):v&&c.nl(z)}h.bt(!0);c.fe(!1);h.Xb();return c.aE()}eaa(c){const h=this.K;var m=h.Va;const g=h.$i,l=h.Sb(),n=this.Pi,p=0<=n,q=this.rl,u=this.rb,w=this.Fa,r=this.ej,v=this.kT&&!this.CI,y=c.F,A=c.Vb,G=v&&!this.Rd.h1(this),z=G?A:y;let F=0,H=!1;for(let M=0,Q=z.length;M<Q;++M){const R=z[M];q&&this.VF(M);var J=void 0;p?(J=m?R.H().Zn(g):0,J=w.apply(R.dd[n+J].ka,u)):J=w.apply(R.ka,u);d.xor(J,r)?(H=!0,G?(y.push(R),l&&R.B$()):(z[F]=R,l&&R.lba(F),
++F)):G?(z[F]=R,l&&R.kba(F),++F):v&&(A.push(R),l&&R.A$())}d.Se(z,F);l&&h.Iba(G,F);m=H;G&&!H&&(H=this.t$(y));h.bt(m||v);return v?H:c.aE()}t$(c){var h=this.K;const m=h.Va;h=h.$i;const g=this.rl,l=this.Pi,n=0<=l,p=this.rb,q=this.Fa,u=this.ej;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.VF(r);if(n){const y=m?w.H().Zn(h):0;w=q.apply(w.dd[l+y].ka,p)}else w=q.apply(w.ka,p);if(d.xor(w,u))return!0}return!1}Qt(c,h){return this.Ga[c].Y(h)}QZ(){const c=this.Ga;if(!c.length)throw Error("no parameters");
return c[0].h8()}fa(){if(!this.Ab||!this.Ab.size)return null;const c={};for(const [h,m]of this.Ab.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(l=>[l[0].Vc,l[1].Vc,l[2]]));c[h]=g}return{ex:c}}la(c){this.Ab&&(this.Ab.clear(),this.Ab=null);if(c){var h=this.g,m=c.ex;if(m){c=this.Kj();c.clear();for(const [g,l]of Object.entries(m))m=l,"collmemory"===g&&(m=d.j(d.Mt,l.map(n=>[h.Dj(n[0]),h.Dj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const d=self.B;function a(h,m){for(let g=0,l=h.length;g<l;++g)m[g]=h[g].Y(0)}const b=[],e=function(){},c=function*(){};d.hx=class extends d.ea{constructor(h,m,g){super();this.Rd=h;this.g=h=h.G();this.Ka=g;this.fb=4<=m.length?m[3]:-1;this.Dz=5<=m.length?m[4]:0;this.Nc=this.K=this.Fa=null;this.Pi=-1;this.wd=null;this.Sz="";this.wl=this.Rz=null;this.jb=this.ra=e;this.Ga=[];this.rb=[];this.rl=!1;this.Uh=this.Ab=null;const l=(g=-3===m[0])?m[2]:m[5];this.Oa=h.qb||g?{Yc:l[0],yf:l[1],index:l[2]}:
null;-1===m[0]?(this.wd=h.xt(),this.Fa=h.jh(m[1])):-2===m[0]?this.Sz=m[1]:g?(this.Fa=h.jh(m[1]),this.ra=this.SE,this.jb=this.QX,this.Dz=1):(this.Fa=h.jh(m[1]),this.K=h.Ye(m[0]),m[2]&&(this.Nc=this.K.Ix(m[2]),this.Pi=this.K.ft(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ga.push(d.Be.La(this,n,this.Ga.length)),this.rb.push(0)}0===this.Ga.length&&(this.rb=this.Ga=b);this.Rd.ga().E$(this)}static La(h,m,g){return d.j(d.hx,h,m,g)}Kb(){for(var h of this.Ga)h.Kb(),h.Pe&&(this.rl=!0);if(this.wd)this.CG(),
this.jb=this.MF;else if(this.Sz)this.Kaa(),this.Sz="";else if(this.ra===this.SE){h=this.Fa;const m=this.g.ga().nQ(this.Rd);this.Fa=h.bind(null,this.g.bj,m)}else this.Nc?this.tg()?(this.ra=this.oR,this.jb=this.a7):(this.ra=this.nR,this.jb=this.Z6):this.K.sb().Zm?(this.BG(),this.jb=this.LF):this.tg()?(this.ra=this.sR,this.jb=this.g7):this.Ga.length?this.Ga.every(m=>m.Pe)?(this.ra=this.rR,this.jb=this.f7):this.rl?(this.ra=this.uR,this.jb=this.i7):this.Ga.every(m=>m.pb)?(a(this.Ga,this.rb),this.ra=this.sG,
this.jb=this.KP):(this.ra=this.tR,this.jb=this.h7):(this.ra=this.sG,this.jb=this.KP)}CG(){this.Eu(this.wd,this.wd,this.uG)}BG(){const h=this.K.sb(),m=this.K.ki().ka;this.Eu(h,m,this.tG)}Kaa(){const h=this.Rd.ga(),m=h.Sx(this.Sz);m.po()?(this.Rz=m.xe(),this.wl=[...new Set([...this.Rd.rd(),...this.Rz.rd()])],this.wl=h.fz(this.wl),this.ra=d.Ok.prototype.J3.bind(this.Rz,this.wl,this.Ga),this.jb=this.b7):(this.ra=e,this.jb=c)}Eu(h,m,g){const l=this.Fa,n=this.Ga;if(0===n.length)this.ra=h.bk(l,m);else if(1===
n.length){const p=n[0];if(p.pb)this.ra=h.eQ(l,m,p.Y(0));else{const q=h.bk(l,m);this.ra=function(){return q(p.Y(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.pb&&q.pb)this.ra=h.fQ(l,m,p.Y(0),q.Y(0));else{const u=h.bk(l,m);this.ra=function(){return u(p.Y(0),q.Y(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.pb&&q.pb&&u.pb)this.ra=h.gQ(l,m,p.Y(0),q.Y(0),u.Y(0));else{const w=h.bk(l,m);this.ra=function(){return w(p.Y(0),q.Y(0),u.Y(0))}}}else this.ra=g}tg(){return 1===this.Dz}AL(){return 2===
this.Dz}Y_(){return 0!==this.Dz}H(){return this.K}xe(){return this.Rd}G(){return this.g}Ea(){return this.Ka}lM(){return this.Oa.index}te(){return!this.Oa.Yc&&!this.g.nc()&&!this.Oa.yf}Kj(){this.Ab||(this.Ab=new Map);return this.Ab}At(){this.Uh||(this.Uh=new Map);return this.Uh}uG(){const h=this.rb;a(this.Ga,h);return this.Fa.apply(this.wd,h)}*MF(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){const h=this.rb;a(this.Ga,h);return yield*this.Fa.apply(this.wd,h)}return this.ra()}*b7(){if(this.Oa.Yc||
this.g.nc())yield this;return yield*this.Rz.LX(this.wl,this.Ga)}tG(){const h=this.rb;a(this.Ga,h);return this.Fa.apply(this.K.ki().ka,h)}*LF(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){const h=this.rb;a(this.Ga,h);return yield*this.Fa.apply(this.K.ki().ka,h)}return this.ra()}sG(){const h=this.rb,m=this.K.U().ja();for(let g=0,l=m.length;g<l;++g)this.Fa.apply(m[g].ka,h)}*KP(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){const h=this.rb,m=this.K.U().ja();for(let g=0,l=m.length;g<l;++g)yield*this.Fa.apply(m[g].ka,
h)}else this.sG()}tR(){const h=this.rb;a(this.Ga,h);const m=this.K.U().ja();for(let g=0,l=m.length;g<l;++g)this.Fa.apply(m[g].ka,h)}*h7(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){const h=this.rb;a(this.Ga,h);const m=this.K.U().ja();for(let g=0,l=m.length;g<l;++g)yield*this.Fa.apply(m[g].ka,h)}else this.tR()}rR(){const h=this.Ga,m=this.rb,g=this.Fa,l=this.K.U().ja();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].Y(n);g.apply(q.ka,m)}}*f7(){if(this.Oa.Yc||
this.g.nc())yield this;if(this.Oa.yf){const h=this.Ga,m=this.rb,g=this.Fa,l=this.K.U().ja();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].Y(n);yield*g.apply(q.ka,m)}}else this.rR()}uR(){const h=this.Ga,m=this.rb,g=this.Fa,l=this.K.U().ja();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.Pe||(m[p]=n.Y(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.Pe&&(m[u]=r.Y(p))}g.apply(n.ka,m)}}*i7(){if(this.Oa.Yc||this.g.nc())yield this;
if(this.Oa.yf){const m=this.Ga,g=this.rb,l=this.Fa,n=this.K.U().ja();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.Pe||(g[p]=h.Y(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Pe&&(g[u]=r.Y(p))}yield*l.apply(h.ka,g)}}else this.uR()}nR(){var h=this.K;const m=h.Va,g=h.$i,l=this.Ga,n=this.rl,p=this.rb,q=this.Fa,u=this.Pi;h=h.U().ja();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Pe||(p[v]=w.Y(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Pe&&(p[A]=r.Y(v))}r=m?w.H().Zn(g):0;q.apply(w.dd[u+r].ka,p)}}*Z6(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){var h=this.K;const l=h.Va,n=h.$i,p=this.Ga,q=this.rl,u=this.rb,w=this.Fa,r=this.Pi;h=h.U().ja();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Pe||(u[v]=m.Y(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.Pe&&(u[A]=g.Y(v))}g=l?m.H().Zn(n):0;yield*w.apply(m.dd[r+g].ka,u)}}else this.nR()}sR(){const h=this.Ga,m=this.rb,
g=this.Fa,l=this.K.U().ja(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].Y(p);n.push(g.apply(u.ka,m))}return Promise.all(n)}*g7(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){const h=this.Ga,m=this.rb,g=this.Fa,l=this.K.U().ja(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].Y(p);n.push(yield*g.apply(u.ka,m))}return Promise.all(n)}return this.sR()}oR(){var h=this.K;const m=h.Va,g=h.$i,l=this.Ga,n=this.rb,
p=this.Fa,q=this.Pi;h=h.U().ja();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Zn(g):0;u.push(p.apply(v.dd[q+y].ka,n))}return Promise.all(u)}*a7(){if(this.Oa.Yc||this.g.nc())yield this;if(this.Oa.yf){var h=this.K;const m=h.Va,g=h.$i,l=this.Ga,n=this.rb,p=this.Fa,q=this.Pi;h=h.U().ja();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Zn(g):0;u.push(yield*p.apply(v.dd[q+
y].ka,n))}return Promise.all(u)}return this.oR()}async SE(){try{await this.Fa()}catch(h){console.error(`Unhandled exception running script %c${this.Rd.Rc.wa()}, event ${this.Rd.Br}, action ${this.lM()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.jg&&self.jg.eba(this),d.Ex.L_()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Ex.q4())}}*QX(){if(this.Oa.Yc||
this.g.nc())yield this;return this.SE()}fa(){return this.Ab&&this.Ab.size?{ex:d.wF(this.Ab)}:null}la(h){this.Ab&&(this.Ab.clear(),this.Ab=null);h&&(h=h.ex)&&(this.Ab=d.zD(h))}}}
{"use strict";const d=self.B,a=new d.$a;function b(L,O){return d.compare(this.m().oa(),L,O)}function e(L,O){return d.compare(this.m().pa(),L,O)}function c(){const L=this.m(),O=L.ba();return O.sq()?L.wq(O.br()):L.iN(O.fg,L.Yb().UM(),L.Yb().qf)}function h(){var L=this.m();const O=L.Yb();L=L.$c();return 0>L.ca||0>L.Z||L.V>O.$()||L.O>O.X()}function m(L,O,U){const aa=this.U(),ha=aa.ja();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=d.dV(ja.oa(),ja.pa(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=d.dV(ja.oa(),ja.pa(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Am(ua);return!0}function g(L){const O=this.m();O.oa()!==L&&(O.oh(L),O.Xa())}function l(L){const O=this.m();O.pa()!==L&&(O.Gi(L),O.Xa())}function n(L,O){const U=this.m();U.cZ(L,O)||(U.Hm(L,O),U.Xa())}function p(L,O){if(L&&(L=L.t_(this.ia))){var [U,aa]=L.ao(O);O=this.m();if(O.oa()!==U||O.pa()!==aa)O.Hm(U,aa),O.Xa()}}function q(L){if(0!==L){var O=this.m();O.Dy(O.GD()*L,O.UD()*L);O.Xa()}}function u(L,
O){if(0!==O){var U=this.m();L=d.yb(L);U.Dy(Math.cos(L)*O,Math.sin(L)*O);U.Xa()}}function w(){return this.m().oa()}function r(){return this.m().pa()}function v(){return this.g.HD(this.ia)}function y(L,O){return d.compare(this.m().$(),L,O)}function A(L,O){return d.compare(this.m().X(),L,O)}function G(L){const O=this.m();O.$()!==L&&(O.Fi(L),O.Xa())}function z(L){const O=this.m();O.X()!==L&&(O.yi(L),O.Xa())}function F(L,O){const U=this.m();if(U.$()!==L||U.X()!==O)U.kd(L,O),U.Xa()}function H(){return this.m().$()}
function J(){return this.m().X()}function M(){return this.m().$c().V}function Q(){return this.m().$c().O}function R(){return this.m().$c().ca}function T(){return this.m().$c().Z}function Z(L,O){return d.Ds(this.m().Ma(),d.yb(O))<=d.yb(L)}function X(L){return d.xf(this.m().Ma(),d.yb(L))}function ba(L,O){L=d.yb(L);O=d.yb(O);const U=this.m().Ma();return d.xf(O,L)?d.xf(U,L)&&!d.xf(U,O):!(!d.xf(U,L)&&d.xf(U,O))}function Y(L){const O=this.m();L=d.re(d.yb(L));isNaN(L)||O.Ma()===L||(O.Bd(L),O.Xa())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.Bd(O.Ma()+d.yb(L));O.Xa()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.Bd(O.Ma()-d.yb(L));O.Xa()}}function ya(L,O){const U=this.m(),aa=U.Ma();L=d.oK(aa,d.yb(O),d.yb(L));isNaN(L)||aa===L||(U.Bd(L),U.Xa())}function Na(L,O,U){const aa=this.m(),ha=aa.Ma();O-=aa.oa();U-=aa.pa();L=d.oK(ha,Math.atan2(U,O),d.yb(L));isNaN(L)||ha===L||(aa.Bd(L),aa.Xa())}function Sa(L,O){const U=this.m(),aa=U.Ma();L-=U.oa();O-=U.pa();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Bd(O),U.Xa())}function Ta(){return d.ai(this.m().Ma())}
function Ua(L,O){return d.compare(d.IV(100*this.m().Ld()),L,O)}function Wa(){return this.m().Jc()}function eb(L){const O=this.m();L=2===L?!O.Jc():0!==L;O.Jc()!==L&&(O.nh(L),this.g.aa())}function fb(L){L=d.da(L/100,0,1);const O=this.m();O.Ld()!==L&&(O.Ai(L),this.g.aa())}function Pa(L){a.Os(L);L=this.m();L.bb.fm(a)||(L.UO(a),this.g.aa())}function Va(){const L=this.m().bb;return d.Fy(L.Ra,L.Ua,L.Ta,L.Sa)}function ib(){return d.IV(100*this.m().Ld())}function Ya(L){return L?this.m().ba()===L:!1}function vb(L){const O=
this.U(),U=O.ja();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.ba().Ea(),Ga=ka.ba().Ea();if(0===L){if(wa>Ga||wa===Ga&&ua.Oj()>ka.Oj())aa=ja}else if(wa<Ga||wa===Ga&&ua.Oj()<ka.Oj())aa=ja}O.Am(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.ab():aa.$e();return d.compare(L,O,U)}function jb(){this.m().T5()}function xb(){this.m().R5()}function yb(L){L&&this.m().S5(L)}function zb(L,O){L=0===L;O&&(O=O.sM(this.za()))&&this.m().Q5(O,
L)}function Ab(L){const O=this.m();O.ab()!==L&&(O.ef(L),this.g.aa())}function Bb(){return this.m().ba().Ea()}function Cb(){return this.m().ba().wa()}function Db(){return this.m().Oj()}function kb(){return this.m().ab()}function Eb(){return this.m().$e()}function Fb(L,O){if(O=this.H().Ja.Sk(O)){O=O.Ea();L=1===L;var U=this.m().Xf;U.Ft(O)!==L&&(U.xO(O,L),U.rh(),this.g.aa())}}function Gb(L,O,U){var aa=this.H().Ja.Sk(L);if(aa){L=aa.Ea();var ha=this.m().Xf,fa=ha.Rk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Jf().Zx(O);if("color"===aa){a.Os(U);O=fa[O];if(a.fm(O))return;O.oj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Ft(L)&&this.g.aa()}}}const lb=d.j(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Vc<U.Vc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Vc<U.Vc?L.Vn(O,U):L.Vn(U,O)}function qa(L,O,U){return O.Vc<U.Vc?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.za();const ha=0!==U||0!==aa,fa=L.m(),ja=L.G(),ua=ja.Si;var ka=ja.Ef();
const wa=ka.xe().Fd;var Ga=ka.H();ka=ka.ej;const Ia=O.U();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Pb?(lb.na(fa.$c()),lb.offset(U,aa),ua.FD(fa.ba(),O,lb,mb),O=mb):wa?ja.cN()&&!Ia.Vb.length&&Ia.F.length?O=Ia.F:(O=Ia.Vb,ob=!0):O=Ia.F;ha&&(db=fa.oa(),Ha=fa.pa(),fa.Dy(U,aa),fa.Xa());for(const da of O)if(ua.uF(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Hm(db,Ha),fa.Xa());d.D(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Cb().Fd;O=Za.U();const U=O.F,aa=O.Vb;O.Pb?(O.cu(Qa),L&&(d.D(aa),
O.qL(Qa,Za.ja()))):L?ob?O.s5(Qa):(O.qL(Qa,U),O.cu(Qa)):O.cu(Qa);Za.Xb()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.je)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Si,aa=O.ga(),ha=aa.ad();var fa=aa.Ef();const ja=fa.H();var ua=fa.Kj(),ka=fa.At();fa=ha.We();const wa=O.Ak,Ga=wa-1,Ia=fa.Cb(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.j(d.Mt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Rb().addEventListener("instancedestroy",
Ra=>{Ha.UL(Ra.instance)}));O=L.U();ua=ja.U().ja();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Pb?(U.FD(Ea.m().ba(),L,Ea.m().$c(),Xa),ka=Xa,U.tL(Ea,L,ka)):ka=O.ja();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.uF(Ea,La)||U.CL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.qd(),aa.Ce(ma),na=ja.U(),da=L.U(),na.fe(!1),da.fe(!1),ja===L?(da=na.F,d.D(da),da.push(Ea),da.push(La),ja.Xb()):(na=na.F,da=da.F,d.D(na),d.D(da),
na.push(Ea),da.push(La),ja.Xb(),L.Xb()),Ia.vg(fa,db),aa.Jb(ma))}else qb(Ha,Ea,La)}d.D(Xa)}ha.Ia();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Si,aa=O.ga(),ha=aa.ad();var fa=aa.Ef();const ja=fa.H();var ua=fa.Kj(),ka=fa.At();fa=ha.We();const wa=O.Ak,Ga=wa-1,Ia=fa.Cb(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.j(d.Mt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Rb().addEventListener("instancedestroy",Ra=>
{Ha.UL(Ra.instance)}));O=L.U();ua=ja.U().ja();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Pb?(U.FD(Ea.m().ba(),L,Ea.m().$c(),Xa),ka=Xa,U.tL(Ea,L,ka)):ka=O.ja();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.uF(Ea,La)||U.CL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.qd(),aa.Ce(ma),na=ja.U(),da=L.U(),na.fe(!1),da.fe(!1),ja===L?(da=na.F,d.D(da),da.push(Ea),da.push(La),ja.Xb()):(na=na.F,da=da.F,d.D(na),d.D(da),
na.push(Ea),da.push(La),ja.Xb(),L.Xb()),yield*Ia.lg(fa,db),aa.Jb(ma))}else qb(Ha,Ea,La)}d.D(Xa)}ha.Ia();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().Pj()}function rb(){return this.m().bf()}function sb(L,O){const U=this.U().ja();if(0===U.length)return!1;const aa=L.U();var ha=aa.ja();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Xw())wa.cq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.gy();ja.cq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.cu(fa);L.Xb();return!0}function tb(L,O){const U=this.U().ja();if(0===U.length)return!1;const aa=L.U();var ha=aa.ja();if(aa.Pb){var fa=[...this.g.HK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.bf()&&ka.cq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Kk())2===O&&wa.bf()||wa.cq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.cu(fa);L.Xb();return!0}function ub(L,O){const U=this.U().ja();if(0===U.length)return!1;const aa=L.U();var ha=aa.ja();if(aa.Pb){var fa=[...this.g.HK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].ED(O);null!==ka&&ka.cq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Ut(fa);L.Xb();return!0}function gb(L,O){return d.compare(this.ia.Kx(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.ia,wa=this.g.jt().H();for(const Ga of L.SU(ka,wa)){if(!Ga.sb().xU)break;ka.mm(Ga,{Rs:O,Ss:U,Zp:aa,Yp:ha,Qs:fa,Ts:ja,Kw:ua})}}function k(L){const O=this.ia,U=this.g.jt().H();for(const aa of L.SU(O,U))O.Uj(aa)}function t(){this.ia.Pj()&&this.ia.Ba().Uj(this.ia)}function x(){return this.ia.Kx()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Jy(),U.Xa()):U.pD(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.m();ka.KO(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,gx:fa,aW:ja,dW:ua})&&ka.Xa()}function E(){const L=this.m();return L.Kf()?L.Lj().nk:0}function I(){const L=this.m();return L.Kf()?L.Lj().Dk:0}function K(L){const O=this.m();L=2===L?!O.Jc():0!==L;O.Jc()!==L&&O.nh(L)}function N(L,O){this.k4(L,O)}function P(L,O){this.j4(L,""+O)}function S(L){this.q3(L)}function W(){this.eM()}function V(){this.wL()}function ea(){return this.EH}function ia(L){this.AR(0!==L)}function ca(){return this.Og}
function oa(L,O,U){return d.compare(this.za().ye(L),O,U)}function la(L){return!!this.za().ye(L)}function ra(L,O){const U=this.U(),aa=U.ja();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.ye(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.ye(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Am(fa);return!0}function sa(L){if(this.g.Ef().ej){{const aa=this.U();if(aa.Pb){aa.fe(!1);aa.tx();var O=this.ja();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Vc===L?aa.nl(U):aa.Oo(U)}this.Xb();
L=!!aa.F.length}else{O=aa.F;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Vc===L?aa.nl(ja):++U}d.Se(O,U);this.Xb();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().Dj(O);if(!O)return!1;const U=L.U();if(!U.Pb&&!U.F.includes(O))return!1;if(L.Va){if(O.H().dD(L))return U.Am(O),L.Xb(),!0}else if(O.H()===L)return U.Am(O),L.Xb(),!0;return!1}function za(){this.g.Wn(this.ia)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.za().Fm(L,O)}function Fa(L,
O){const U=this.za(),aa=U.ye(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Fm(L,aa+O)}function Ja(L,O){const U=this.za(),aa=U.ye(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Fm(L,aa-O))}function Ka(L,O){this.za().Fm(L,O?1:0)}function Da(L){const O=this.za();O.Fm(L,0===O.ye(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.za();
L.nz("state");L.sd(O,"state")}function Ib(){return JSON.stringify(this.za().Ad("state"))}function nc(){return this.za().H().wa()}function oc(){const L=this.g.Ve().KH;let O=L.F.length;for(const U of this.g.HK(L))++O;return O}function pc(){return this.g.Ve().KH.U().ja().length}function qc(){return this.ia.$n()}function rc(){return this.ia.Vc}d.mW=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.N,da=O.Kd,na=O.Zc;L[3]&&(ma.Uga=
b,ma.Vga=e,ma.Nia=c,ma.Pia=h,ma.oka=m,da.oh=g,da.Gi=l,da.bna=n,da.cna=p,da.yja=q,da.xja=u,na.oP=w,na.P5=r,na.gV=v);aa&&(ma.Tga=y,ma.Lga=A,da.Fi=G,da.yi=z,da.kd=F,na.woa=H,na.Xha=J,na.kga=M,na.mga=Q,na.lga=R,na.jga=T);ha&&(ma.DW=Z,ma.d1=X,ma.c1=ba,da.Bd=Y,da.Nla=va,da.Ola=ta,da.Pla=ya,da.Qla=Na,da.gna=Sa,na.aga=Ta);fa&&(ma.Jc=Wa,ma.Nga=Ua,da.nh=eb,da.Ai=fb,da.mma=Pa,na.Opacity=ib,na.Ega=Va);ja&&(ma.Lia=Ya,ma.wka=vb,ma.Wga=wb,da.Bja=jb,da.zja=xb,da.Aja=yb,da.Ioa=zb,da.ef=Ab,na.dja=Bb,na.cja=Cb,na.Hoa=
Db,na.Goa=kb,na.Sna=Eb);ua&&(da.nma=Fb,da.oma=Gb);Ia&&(ma.Pj=Rb,ma.bf=rb,ma.uka=sb,ma.nka=tb,ma.ska=ub,ma.Jga=gb,da.mm=f,da.Uj=k,da.Tka=t,na.Aga=x);db&&(da.Xma=C,da.KO=D,na.uja=E,na.vja=I);ka&&(ma.Jc=Wa,da.nh=K,da.b4=N,da.pma=P,da.Ska=S);wa&&(ma.Bia=ea,da.tma=W,da.hma=V);Ga&&(ma.po=ca,da.rma=ia);Ha&&(ma.Pja=Nb,ma.Qia=Pb,ma.Ria=Qb,O.mZ=Mb);U||(ma.Mga=oa,ma.qia=la,ma.pka=ra,ma.mka=sa,da.Ama=Ca,da.Wfa=Fa,da.Gna=Ja,da.ima=Ka,da.Ona=Da,ma.j2=Aa,ma.k2=Ba,da.gha=za,da.AE||(da.AE=Hb),na.LW||(na.LW=Ib),na.bha=
oc,na.xka=pc,na.Zha=qc,na.$na=rc,na.Kja=nc)}}
{"use strict";const d=self.B;d.UE=class extends d.ea{constructor(a){super();this.ua=a;this.qa="";this.Wb=-1;this.iw="";this.XA=!1;this.Xi=null;this.Sf=0;this.Me=[];this.Lp=new Map;this.tl=null;this.Mu=-1;this.RH=this.Mg=null;this.hw=!1}A(){this.qa="";this.Wb=-1;this.iw="";this.RH=this.Mg=this.tl=this.Xi=null;this.Mu=-1;d.D(this.Me);for(const a of this.Lp.values())a.A();this.Lp.clear()}Cg(){var a=this.ua,b=a.G().Mc;const e=a.Ve();this.Xi=e.Cb();this.Sf=e.Sf+1;if(a=a.yD(this.Xi))this.tl=a,this.Mg=a.fX(),
this.RH=a.gI.map(c=>c.Zb()),a.tg()&&(this.Mu=a.Q2());for(const c of b)if(b=c.U(),!b.Pb||this.Xi.$_(c))this.Me.push(c),this.Lp.set(c,d.j(d.YO,b))}V0(a){this.qa="timer";this.Cg();this.Wb=this.ua.G().Uk()+a}T0(a){this.qa="signal";this.Cg();this.iw=a.toLowerCase()}H0(a){this.qa="promise";this.Cg();a.then(()=>this.gF()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.gF()})}s1(){return"timer"===this.qa}q1(){return"signal"===this.qa}m1(){return"promise"===
this.qa}gF(){this.XA=!0}NR(){return this.s1()?this.Wb<=this.ua.G().Uk():this.XA}mR(a){a.rG(this.Xi,this.Sf);for(const [b,e]of this.Lp.entries())e.rG(b.U());if(a=this.tl)a.Zt(this.Mg),a.gI.map((b,e)=>b.Ee(this.RH[e])),a.tg()&&a.I3(this.Mu)}$$(a){this.mR(a);this.Xi.Z$(a);this.tl&&this.tl.tg()&&this.tl.Jt(this.Mu);this.ua.eq(this.Me);this.hw=!0}async W6(a){this.mR(a);for(const b of this.Xi.V6(a))await this.ua.G().fq(b);this.tl&&this.tl.tg()&&this.tl.Jt(this.Mu);this.ua.eq(this.Me);this.hw=!0}yo(a){for(const b of this.Lp.values())b.yo(a)}fa(){const a=
{},b={t:this.Wb,st:this.iw,s:this.XA,ev:this.Xi.fb,sm:this.Me.map(e=>e.fb),sols:a};this.Xi.A8(this.Sf)&&(b.act=this.Xi.gM(this.Sf).fb);for(const [e,c]of this.Lp)a[e.fb.toString()]=c.fa();return b}static B6(a,b){const e=a.G();var c=a.JZ(b.ev);if(!c)return null;let h=0;if(b.hasOwnProperty("act")){var m=a.sZ(b.act);if(!m)return null;h=m.Ea()}m=d.j(d.UE,a);m.Wb=b.t;m.qa=-1===m.Wb?"signal":"timer";m.iw=b.st;m.XA=b.s;m.Xi=c;m.Sf=h;for(var g of b.sm)(c=e.Yx(g))&&m.Me.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.Yx(parseInt(l,10)))g=d.j(d.YO,null),g.la(a,n),m.Lp.set(b,g);return m}}}{"use strict";const d=self.B;d.YO=class extends d.ea{constructor(a){super();this.K=null;this.WA=!0;this.F=[];a&&(this.K=a.H(),this.WA=a.Pb,d.Hc(this.F,a.F))}A(){this.K=null;d.D(this.F)}rG(a){a.fe(this.WA);d.Hc(a.F,this.F)}yo(a){d.hg(this.F,a)}fa(){return{sa:this.WA,insts:this.F.map(a=>a.Vc)}}la(a,b){a=a.G();this.WA=!!b.sa;d.D(this.F);for(const e of b.insts)(b=a.Dj(e))&&this.F.push(b)}}}
{"use strict";const d=self.B;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Iq=class extends d.ea{constructor(b){super();this.g=b.Cf;this.Zm=!!b.rV;this.rf=!!b.Dea;this.Tca=!!b.Cea;this.cda=!!b.Pea;this.Fca=!!b.qea;this.xU=!!b.nfa;this.wda=!!b.mfa;this.kU=null;this.hS=new Map;this.ica=new Map;this.jca=new Map;this.kca=new Map}A(){this.g=null}G(){return this.g}zd(){}zq(){return this.Tca}Bq(){return this.cda}bE(){return this.Fca}bk(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.hS.get(b);if(c)return c;c=b.bind(e);this.hS.set(b,c);return c}eQ(b,e,c){if(!e)throw Error("missing 'this' binding");const h=a(this.ica,b);let m=h.get(c);if(m)return m;m=b.bind(e,c);h.set(c,m);return m}fQ(b,e,c,h){if(!e)throw Error("missing 'this' binding");var m=a(this.jca,b);m=a(m,c);let g=m.get(h);if(g)return g;g=b.bind(e,c,h);m.set(h,g);return g}gQ(b,e,c,h,m){if(!e)throw Error("missing 'this' binding");var g=a(this.kca,b);g=a(g,c);g=a(g,h);let l=g.get(m);if(l)return l;l=b.bind(e,c,h,
m);g.set(m,l);return l}mba(b){if(!this.Zm)throw Error("must be single-global plugin");this.kU=b}ki(){if(!this.Zm)throw Error("must be single-global plugin");return this.kU.ki()}}}
{"use strict";const d=self.B;d.P3=class extends d.Iq{constructor(a,b){super(a);this.Um=b;this.fda=0;this.hI=new Map;this.Us("elem-focused",e=>e.Y9());this.Us("elem-blurred",e=>{e&&e.X9()})}A(){super.A()}Y5(a){const b=this.fda++;this.hI.set(b,a);return b}Q$(a){this.hI.delete(a)}Us(a,b){this.g.bi(this.Um,a,e=>{const c=this.hI.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.B;d.Tt=class extends d.ea{constructor(a){super();this.K=a;this.g=a.G();this.Mh=a.sb()}A(){this.Mh=this.g=this.K=null}H(){return this.K}G(){return this.g}sb(){return this.Mh}Xe(){return this.K.Xe()}bt(){}Aq(){}xo(){}Ey(){}HE(){}Yk(){return null}}}
{"use strict";const d=self.B;d.Ly=class extends d.ea{constructor(a,b){super();this.ia=a;this.Um=b;this.g=a.G();this.K=this.ia.H();this.Gc=this.K.Gc;this.qs=this.Wl=null;this.Hv=this.Hl=!1;this.jf=null;this.Hw=!1}A(){this.Hw=!0;this.Gu();this.FG();this.qs=this.Wl=null;this.jf&&(this.jf.A(),this.jf=null);this.Gc=this.K=this.g=this.ia=null}az(){return this.Hw}za(){return this.ia}G(){return this.g}H(){return this.K}sb(){return this.Gc.sb()}rq(){return this.ia.ih()}Ca(a){return this.g.Ca(a,this.ia,null)}ld(a){return this.g.ld(a,
this.ia,null)}XC(a,b){this.g.bi(this.Um,a,b)}oW(a){for(const [b,e]of a)this.XC(b,e)}si(a,b){this.g.Tj(this.Um,a,b)}GE(a,b){return this.g.to(this.Um,a,b)}ck(a,b){this.g.ke?this.si(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Um,handler:a,data:b,responseId:null})}gf(){}Lm(){this.Hl||(this.Wl||(this.Wl=()=>this.gf()),this.g.Rb().addEventListener("tick",this.Wl),this.Hl=!0)}Gu(){this.Hl&&(this.g.Rb().removeEventListener("tick",this.Wl),this.Hl=!1)}FG(){this.Hv&&(this.g.Rb().removeEventListener("tick2",
this.qs),this.Hv=!1)}Ad(){return null}sd(){}wc(){}lh(){}CE(a,b){if(0!==b){var e=this.wc(a);if("number"!==typeof e)throw Error("expected number");this.lh(a,e+b)}}Yk(){return null}hq(a,b,e){const c=this.rq();a=d.j(d.Event,a,b);a.instance=c;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.TE=class extends d.Ly{constructor(a,b){super(a,b);this.Pa=a.m();this.pC=this.zs=null}A(){if(this.zs){const a=this.g.Rb();a.removeEventListener("webglcontextlost",this.zs);a.removeEventListener("webglcontextrestored",this.pC);this.pC=this.zs=null}this.Pa=null;super.A()}M_(){if(!this.zs){this.zs=()=>this.Dq();this.pC=()=>this.PN();var a=this.g.Rb();a.addEventListener("webglcontextlost",this.zs);a.addEventListener("webglcontextrestored",this.pC)}}Dq(){}PN(){}m(){return this.Pa}qo(){return!1}Gj(){if(!this.qo())throw Error("original size not known");
const a=this.hh();if(a)return a.$()}Fj(){if(!this.qo())throw Error("original size not known");const a=this.hh();if(a)return a.X()}hh(){return null}Lx(){var a=this.hh();return a&&(a=a.Od())?[a.$(),a.X()]:[100,100]}Mx(){const a=this.hh();return a?a.li():null}ty(){const a=this.hh();return a?a.up:!1}ao(){const a=this.ia.m();return[a.oa(),a.pa()]}Gq(){return!0}}}
{"use strict";const d=self.B,a=d.j(d.Rect);d.O3=class extends d.TE{constructor(b,e){super(b,e);this.kv=this.sb().Y5(this);this.qI=!0;this.Ou=this.EH=!1;this.Rr=d.j(d.Rect,0,0,-1,-1);b=this.g.L;this.AT=b.Gk;this.zT=b.Fk;this.AI=!1;this.Lm()}A(){this.sb().Q$(this.kv);this.Bm("destroy");this.kv=-1;super.A()}Bm(b,e){e||(e={});e.elementId=this.kv;this.si(b,e)}cR(b){b||(b={});b.elementId=this.kv;this.ck("focus",b)}CX(b){b||(b={});const e=this.m().Jc();b.elementId=this.kv;b.isVisible=e;Object.assign(b,this.JD());
this.qI=!!b.isVisible;this.ck("create",b);this.ZR(!0)}Qy(b){b=!!b;this.qI!==b&&(this.qI=b,this.Bm("set-visible",{isVisible:b}))}gf(){this.ZR(!1)}vba(){const b=this.g.L.Rx();return"Android"===d.Kc.Cq&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}ZR(b){var e=this.m();const c=e.ba();var h=e.oa(),m=e.pa();let [g,l]=c.so(h,m),[n,p]=c.so(h+e.$(),m+e.X());h=this.g.L;m=h.Oc;const q=h.Ac;if(e.Jc()&&c.Jc()){if(!this.vba()){if(0>=n||0>=p||g>=m||l>=q){this.Qy(!1);return}1>g&&(g=1);1>l&&(l=1);n>=m&&(n=m-
1);p>=q&&(p=q-1)}a.set(g,l,n,p);e=h.Gk;m=h.Fk;!b&&a.fd(this.Rr)&&this.AT===e&&this.zT===m?this.Qy(!0):(this.Rr.na(a),this.AT=e,this.zT=m,this.Qy(!0),b=null,this.Ou&&(b=c.zj()-.2),this.Bm("update-position",{left:Math.round(this.Rr.V)+h.ht(),top:Math.round(this.Rr.O)+h.it(),width:Math.round(this.Rr.width()),height:Math.round(this.Rr.height()),fontSize:b}))}else this.Qy(!1)}eM(){this.cR({focus:!0})}wL(){this.cR({focus:!1})}Y9(){this.EH=!0}X9(){this.EH=!1}k4(b,e){this.Bm("set-css-style",{prop:d.YW(b),
val:e})}j4(b,e){this.Bm("set-attribute",{name:b,val:e})}q3(b){this.Bm("remove-attribute",{name:b})}Rf(){this.AI||(this.AI=!0,Promise.resolve().then(()=>{this.AI=!1;this.Bm("update-state",this.JD())}))}JD(){}}}
{"use strict";const d=self.B,a=self.f0;d.Sla=class extends d.ea{constructor(b){super();this.g=b.Cf;this.aJ=d.j(d.bD);this.uB=d.j(d.bD);this.tv=null;this.qda=b.Cra||null}A(){this.uB.A();this.aJ.A();this.g=null}G(){return this.g}zd(){}Z5(b){this.aJ.Ic(b)}BM(){return this.aJ.BD()}Bg(b){this.uB.Ic(b)}Po(b){this.uB.Vn(b)}ja(){return this.uB.BD()}ZZ(){if(null===this.tv){const b=this.qda;if(b){if(this.tv=new b(this),!(this.tv instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.tv=new a(this)}return this.tv}}}{"use strict";const d=self.B;d.Ula=class extends d.ea{constructor(a){super();this.g=a.G();this.Nc=a;this.K=a.H();this.Oi=a.om();this.Oi.Z5(this.K)}A(){this.Oi=this.K=this.Nc=this.g=null}og(){return this.Nc}H(){return this.K}G(){return this.g}om(){return this.Oi}}}
{"use strict";const d=self.B;d.Tla=class extends d.ea{constructor(a,b){super();this.Oz=a;this.Um=b;this.ia=a.ia;this.g=a.G();this.Nc=a.og();this.Gc=this.Nc.Gc;this.mT=this.Hv=this.Hl=!1;this.jf=null}A(){this.Gu();this.FG();this.Aba();this.jf&&(this.jf.A(),this.jf=null);this.Gc=this.Nc=this.g=this.ia=this.Oz=null}om(){return this.Nc.om()}H(){return this.ia.H()}m(){return this.ia.m()}G(){return this.g}og(){return this.Nc}rq(){return this.Oz.rq()}Ca(a){return this.g.Ca(a,this.ia,this.Nc)}ld(a){return this.g.ld(a,
this.ia,this.Nc)}gf(){}Lm(){this.Hl||(this.g.U5(this),this.Hl=!0)}Gu(){this.Hl&&(this.g.N$(this),this.Hl=!1)}FG(){this.Hv&&(this.g.O$(this),this.Hv=!1)}Aba(){this.mT&&(this.g.M$(this),this.mT=!1)}XC(a,b){this.g.bi(this.Um,a,b)}Ad(){return null}sd(){}wc(){}lh(){}CE(a,b){if(0!==b){var e=this.wc(a);if("number"!==typeof e)throw Error("expected number");this.lh(a,e+b)}}Yk(){return null}hq(a,b,e){const c=this.rq();a=d.j(d.Event,a,b);a.Toa=c;a.instance=c.instance;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.C={};d.bq={};d.R2=class extends d.ea{constructor(a){super();this.g=a;this.cca=[];this.VT=new Map;this.wd=null;this.$ba=[];this.gH=new Map;this.sT=this.nU=null}HX(a){const b=this.g.jh(a[0]);if(!b)throw Error("missing plugin");d.mW(a,b);a=d.j(b,{Cf:this.g,rV:a[1],Dea:a[2],Cea:a[5],qea:a[8],Pea:a[9],nfa:a[13],mfa:a[14]});a.zd();this.cca.push(a);this.VT.set(b,a)}JX(){this.wd=d.j(d.C.Ya,{Cf:this.g,rV:!0});this.wd.zd()}BX(a){a=this.g.jh(a[1]);if(!a)throw Error("missing behavior");
const b=d.j(a,{Cf:this.g});b.zd();this.$ba.push(b);this.gH.set(a,b);!this.nU&&d.bq.kfa&&b instanceof d.bq.kfa?this.nU=b:!this.sT&&d.bq.Fea&&b instanceof d.bq.Fea&&(this.sT=b)}v_(a){return this.VT.get(a)||null}T_(a){return this.gH.has(a)}wZ(a){return this.gH.get(a)||null}xt(){return this.wd}}}
{"use strict";const d=self.B,a=new Set;d.oy=class extends d.ea{constructor(){super();this.Ck="";this.R=this.T=this.Zv=this.Yv=this.js=0;this.qv=this.up=!1;this.lf=null;this.Vl="";this.Zf=d.j(d.Rect);this.Hp=d.j(d.td);new self.VM(this);a.add(this)}A(){this.vi();this.lf=null;a.delete(this)}static Dq(){for(const b of a)b.Vl="",b.Zf.set(0,0,0,0),b.Hp.tj(b.Zf)}tN(b){this.Ck=b[0];this.js=b[1];this.Yv=b[2];this.Zv=b[3];this.T=b[4];this.R=b[5];this.up=b[6];this.qv=!0}E1(b,e){if(this.lf)throw Error("already loaded asset");
this.Ck=e;const c={};d.kE(e)&&(c.Uw="remote");this.sN(b,c);return this.lf.rN()}z3(b){if(b===this)throw Error("cannot replace with self");this.vi();this.Ck=b.Ck;this.js=b.js;this.Yv=b.Yv;this.Zv=b.Zv;this.T=b.T;this.R=b.R;this.up=b.up;this.qv=b.qv;this.lf=b.lf;this.Vl=b.Vl;this.Zf=b.Zf;this.Hp=b.Hp}tm(){return this.js}$(){return this.T}X(){return this.R}sN(b,e){if(this.lf)throw Error("already got asset");e=Object.assign({},e,{url:this.Ck,size:this.tm()});this.lf=b.Cy(e)}uE(){return this.lf&&this.lf.uE()}async It(b,
e){if(!this.lf)throw Error("no asset");if(this.Vl)throw Error("already loaded texture");this.Vl="loading";b=await this.lf.It(b,e);if(!b)return this.Vl="",null;this.Vl="loaded";this.qv||(this.T=b.$(),this.R=b.X(),this.qv=!0);this.Zf.set(this.Yv,this.Zv,this.Yv+(this.up?this.R:this.T),this.Zv+(this.up?this.T:this.R));this.Zf.em(b.$(),b.X());this.Hp.tj(this.Zf);this.up&&this.Hp.bfa();return b}vi(){this.Vl&&(this.lf&&this.lf.vi(),this.Vl="",this.Zf.set(0,0,0,0),this.Hp.tj(this.Zf))}Od(){return this.lf?
this.lf.Od():null}li(){return this.Zf}ey(){return this.Hp}}}
{"use strict";const d=self.B;d.FW=class extends d.ea{constructor(a){super();this.Da=a[0];this.sda=a[1];this.SA=!!a[2];this.hs=a[3];this.eU=a[4];this.Sca=!!a[5];this.fb=a[6];this.ud=a[7].map(b=>d.j(d.EW,b));this.Gca=new self.c0(this)}A(){for(const a of this.ud)a.A();d.D(this.ud)}B1(a){for(const b of this.ud)b.Xe().sN(a)}C1(a,b){return Promise.all(this.ud.map(e=>e.Xe().It(a,b)))}l3(){for(const a of this.ud)a.Xe().vi()}wa(){return this.Da}rm(a){a=Math.floor(a);if(0>a||a>=this.ud.length)throw new RangeError("invalid frame");
return this.ud[a]}Mj(){return this.sda}rg(){return this.hs}}}
{"use strict";const d=self.B;d.EW=class extends d.ea{constructor(a){super();this.Wf=d.j(d.oy);this.Wf.tN(a);this.fA=a[7];this.ST=d.j(d.iu,a[8],a[9]);this.BA=a[10].map(b=>d.j(d.r0,this,b));this.$S=new Map;for(const b of this.BA)this.$S.set(b.wa().toLowerCase(),b);this.Xo=null;a=a[11];6<=a.length&&(this.Xo=d.j(d.Un,a));this.Hca=new self.d0(this)}A(){this.Xo&&(this.Xo.A(),this.Xo=null);this.Wf.A();this.Wf=null}Xe(){return this.Wf}Wk(){return this.ST.P}Xk(){return this.ST.M}a_(a){return this.$S.get(a.toLowerCase())||null}$Z(a){a=
Math.floor(a);return 0>a||a>=this.BA.length?null:this.BA[a]}OD(){return this.BA.length}}}{"use strict";const d=self.B;d.r0=class extends d.ea{constructor(a,b){super();this.Da=b[0];this.oJ=d.j(d.iu,b[1],b[2])}A(){}wa(){return this.Da}oa(){return this.oJ.P}pa(){return this.oJ.M}}}
{"use strict";const d=self.B,a=self.jg,b=self.WM;d.BE=class extends d.ea{constructor(e,c,h){super();const m=e.jh(h[1]);this.g=e;this.Mh=e.Fp.v_(m);this.Gc=null;this.FA=m.Instance;this.Ka=c;this.fb=h[11];this.Da=h[0];this.Lv=this.g.ii(h[14]);this.Qca=!!h[9];this.Va=!!h[2];this.yI=!!h[10];this.cj=h[3].map(g=>({QV:g[0],type:g[1],name:g[2],Eea:e.ii(g[3])}));this.gca=h[4];this.Bca=h[5];this.rf=this.Mh.rf;this.Ja=null;this.Xz=d.j(d.h5,e.Sg,e.Rg);this.aH=!0;this.bH=!1;this.OH=this.gp=null;this.$i=-1;this.NH=
this.lA=this.mA=this.MH=this.Bh=null;this.sI=!1;this.Ig=null;this.fS=h[8].map(g=>d.uL.La(this,g));this.Pz=[];this.hH=new Map;this.fH=new Map;this.GU=new Set;this.nn=d.j(d.e5,this);this.Jz=this.Iz=this.Cd=this.Wf=this.Ig=this.Ar=null;this.os=0;this.Ab=new Map;this.Uh=new Map;this.F=[];this.cI=!0;this.Mh.bE()&&(this.Ja=d.j(d.Nk,this,h[12]));h[6]&&(this.Wf=d.j(d.oy),this.Wf.tN(h[6]));if(h[7]){this.Cd=h[7].map(g=>d.j(d.FW,g));this.Iz=new Map;this.Jz=new Map;for(const g of this.Cd)this.Iz.set(g.wa().toLowerCase(),
g),this.Jz.set(g.fb,g)}this.Va?(this.gp=[],this.OH=new Set,this.$i=this.g.m8()):(this.Bh=[],this.MH=new Set,this.mA=[],this.lA=[],this.NH=[]);this.Gc=d.j(m.Io,this,h[15]);this.gT=this.vv=null;this.Zd=d.j(d.Event.Rb);if(c=this.Gc.Yk()){if(this.vv=new c(this),!(this.vv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.vv=new b(this);this.g.lC&&!this.Va&&!this.yI&&this.rf||this.zd();this.Mh.Zm&&(this.Mh.mba(this),this.K6(h))}static La(e,c,h){return d.j(d.BE,
e,c,h)}A(){this.Wf&&(this.Wf.A(),this.Wf=null);if(this.Cd){for(const e of this.Cd)e.A();d.D(this.Cd);this.Iz.clear();this.Jz.clear()}this.nn.A();this.nn=null;this.Ab.clear();this.Uh.clear();this.g=this.Ig=null}h9(e){for(let c=1,h=e.length;c<h;++c){const m=this.g.Ye(e[c]);this.gp.push(m);this.OH.add(m);m.Bh.push(this);m.MH.add(this)}}Laa(e){this.sI=!0;this.Ig=e}Sb(){return this.sI}L9(){var e=0;if(!this.Va)for(var c of this.Bh)for(var h of c.fS){const l=h.wa().toLowerCase();this.hH.set(l,h);this.fH.set(l,
e);this.Pz.push(h);++e}for(var m of this.fS)c=m.wa().toLowerCase(),this.hH.set(c,m),this.fH.set(c,e),this.Pz.push(m),++e;for(var g of this.Pz)this.GU.add(g.om().constructor);if(!this.Va&&this.Bh.length){e=this.g.CS;d.yC(this.mA,e,0);d.yC(this.lA,e,0);d.yC(this.NH,e,0);e=[];c=g=m=0;for(const l of this.Bh)if(h=l.$i,this.mA[h]=m,m+=l.cj.length,this.lA[h]=g,g+=l.gca,this.NH[h]=c,c+=l.Bca,(h=l.Ja)&&this.Ja)for(const n of h.ng())e.push(n.nX(this.Ja));this.Ja&&this.Ja.Z2(e)}}K6(e){const c=this.g.l8(),h=
d.j(d.Instance,{Cf:this.g,UK:this,uid:c});h.dz(e[16],[]);this.g.y9(c,h);this.F.push(h)}zd(){this.Va||this.Gc.zd()}X_(){return 0<this.os}Aq(e){if(this.Va)return Promise.resolve();this.os++;return 1===this.os?this.Gc.Aq(e)||Promise.resolve():Promise.resolve()}xo(){if(!this.Va){this.os--;if(0>this.os)throw Error("released textures too many times");0===this.os&&this.Gc.xo()}}Ey(){if(this.Va)throw Error("not applicable to family");this.Gc.Ey()}HE(e){return this.Va?Promise.resolve():this.Gc.HE(e)}G(){return this.g}sb(){return this.Mh}wa(){return this.Da}ii(){return this.Lv}Ea(){return this.Ka}Mf(){return this.Qca}hP(e){return e&&
this.GU.has(e)}f_(){return this.cj.map(e=>e.QV)}e_(e){return this.cj.findIndex(c=>c.QV===e)}d_(e){return this.cj.findIndex(c=>c.name===e)}c8(){return this.cj.map(e=>e.Eea)}pt(e){e=Math.floor(e);if(0>e||e>=this.cj.length)throw new RangeError("invalid instance variable index");return this.cj[e].type}wM(e){e=Math.floor(e);if(0>e||e>=this.cj.length)throw new RangeError("invalid instance variable index");return this.cj[e].name}Ix(e){return this.hH.get(e.toLowerCase())||null}ft(e){e=this.fH.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}bE(){return this.Mh.bE()}iP(){return this.Ja&&this.Ja.O_()}U(){return this.nn.U()}Xe(){return this.Wf}vO(e){this.Ar=e}dD(e){return this.MH.has(e)}bM(e){return this.OH.has(e)}Zn(e){return this.lA[e]}qM(e){return this.mA[e]}hM(e){if(!this.Cd)throw Error("no animations");return this.Iz.get(e.toLowerCase())||null}vZ(e){if(!this.Cd)throw Error("no animations");return this.Jz.get(e)||null}TZ(){if(!this.Cd)throw Error("no animations");return this.Cd[0].rm(0)}FZ(){if(this.Cd){const e=
this.TZ().Xe();return[e.$(),e.X()]}return this.Wf?[this.Wf.$(),this.Wf.X()]:[100,100]}ki(){if(!this.Mh.Zm)throw Error("not a single-global plugin");return this.F[0]}ja(){return this.F}*nV(){yield*this.F}*uea(){yield*this.F;for(const e of this.g.Dl)e.H()===this&&(yield e)}Bg(e){this.F.push(e)}Cu(){this.cI=!0}Cz(){if(this.cI&&!this.Va){var e=this.F,c=0;for(let h=e.length;c<h;++c)e[c].BR(c);e=this.g.Dl;for(const h of e)h.H()===this&&h.BR(c++);this.cI=!1}}vM(e){var c=this.F;if(e<c.length)return c[e];
e-=c.length;c=this.g.Dl;for(const h of c)if(h.H()===this){if(0===e)return h;--e}return null}sM(e){if(e&&e.Sb()&&e.H()!==this)for(const c of e.vd)if(c.H()===this)return c;e=this.U().ja();return e.length?e[0]:null}t_(e){const c=this.U().ja();return 0<c.length?c[e.$n()%c.length]:null}*SU(e,c){const h=this.U().ja();var m=h.length;const g=c.U(),l=c.U().ja(),n=l.length;var p=e.$n();if(c.Va||!g.Pb)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}bt(e){this.Gc.bt(e)}Xb(){if(this.sI&&
!this.Va){this.Cz();var e=this.U(),c=e.F,h=e.Pb,m=this.g.Ve();m=m&&m.Cb()&&m.Cb().Fd;for(const n of this.Ig.Pl)if(n!==this){n.Cz();var g=n.U();g.fe(h);if(!h){var l=g.F;d.D(l);for(const p of c)l.push(n.vM(p.$n()));if(m){l=e.Vb;g=g.Vb;d.D(g);for(const p of l)g.push(n.vM(p.$n()))}}}}}Iba(e,c){for(const h of this.Ig.Pl){const m=h.U();e?d.Se(m.Vb,c):d.Se(m.F,c)}}wR(){this.aH=!0}wG(e){this.bH=!!e}UR(){if(this.aH&&this.rf){for(const e of this.F)e.m().XR();for(const e of this.g.Dl)e.H()===this&&e.m().XR();
this.aH=!1}}Kj(){this.Ab||(this.Ab=new Map);return this.Ab}At(){this.Uh||(this.Uh=new Map);return this.Uh}SM(){return this.hP(d.bq.Gja)}cE(){return this.hP(d.bq.hka)}fa(){const e={instances:this.F.map(c=>c.Ad())};this.Ab&&this.Ab.size&&(e.ex=d.wF(this.Ab));return e}la(e){this.Ab&&(this.Ab.clear(),this.Ab=null);var c=e.ex;c&&(this.Ab=d.zD(c));c=this.F;e=e.instances;for(let h=0,m=Math.min(c.length,e.length);h<m;++h)c[h].sd(e[h]);for(let h=e.length,m=c.length;h<m;++h)this.g.Wn(c[h]);for(let h=c.length,
m=e.length;h<m;++h){c=e[h];let g=null;if(this.rf&&(g=this.g.Mb().Vx(c.w.l),!g))continue;this.g.ei(this.Ar||this,g,!1,0,0,!0).sd(c)}this.Cu()}fh(e){var c=this.g;(c=c.qb&&!c.ga().Ht())&&a.rF();this.Zd.dispatchEvent(e);c&&a.$C()}}}{"use strict";const d=self.B;d.vX=class extends d.ea{constructor(a,b){super();this.g=a;this.Pl=b;for(const e of this.Pl)e.Laa(this)}A(){this.g=null}G(){return this.g}S_(){return this.Pl.some(a=>a.rf)}}}
{"use strict";const d=self.B,a=self.jg,b=self.uq,e=[];let c=0;const h=new WeakMap,m=new WeakMap;d.Instance=class extends d.ea{constructor(g){super();this.g=g.Cf;this.Sd=g.UK;this.ie=this.ka=this.Pa=null;this.YS=0;this.Vc=g.uid;this.$T=c++;this.ya=0;this.dd=this.mf=e;var l=this.Sd.Pz;0<l.length&&(this.dd=l.map((n,p)=>d.j(d.jx,{Cf:this.g,qK:n,instance:this,index:p})));this.vd=this.Sd.Sb()?[]:null;this.Yd=-1;this.Ob=null;l=this.sb();l.Bq()&&(this.ya|=4);if(l.rf)if(this.Pa=d.j(d.N5,this,g.uV),g.eW)this.Pa.bl(g.eW);
else{this.Pa.G0();const [n,p]=this.Sd.FZ();this.Pa.kd(n,p);this.H().iP()&&this.Pa.Xf.D1()}g.mV?this.k9(g.mV):this.f9()}A(){this.ie&&(this.ie.Bu(),this.ie=null);if(0<this.dd.length){for(var g of this.dd)g.A();d.D(this.dd)}this.ka.A();this.ka=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.vd&&d.D(this.vd);this.Ob&&(this.Ob.A(),this.Ob=null);this.Sd=this.g=null;0<this.mf.length&&d.D(this.mf);this.Pa&&(this.Pa.A(),this.Pa=null)}k9(g){0<g.length&&(this.mf=
[],d.Hc(this.mf,g))}f9(){const g=this.Sd.cj.length;if(0!==g){this.mf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.mf.push(l[this.Sd.pt(n)])}}dz(g,l){if(this.ka)throw Error("already got sdk instance");for(let n=0,p=this.dd.length;n<p;++n)this.dd[n].dz(l?l[n]:null);this.ka=d.j(this.Sd.FA,this,g);if(!(this.ka instanceof d.Ly))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.dd.length;n<p;++n);this.Sd.gT&&this.DQ()}m(){return this.Pa}G(){return this.g}tZ(){const g=this.Yd;return-1===
g?this.G().Yd:g}jF(g){g=+g;if(0>g||!isFinite(g))g=0;this.Yd=g}H3(){this.Yd=-1}Rb(){this.Ob||(this.Ob=d.j(d.Event.Rb));return this.Ob}mg(g){this.ka.mg(g)}zd(g){this.ka.zd(g)}aba(){this.ya|=2}$k(){return 0!==(this.ya&2)}hG(){this.ya|=1}Et(){return 0!==(this.ya&1)}Bq(){return 0!==(this.ya&4)}zN(){return 0!==(this.ya&32)}Yt(g,l){g<<=16;this.ya=l?this.ya|g:this.ya&~g}MD(g){return 0!==(this.ya&g<<16)}hh(){return this.ka.hh()}Lx(){return this.ka.Lx()}Mx(){return this.ka.Mx()}ty(){return this.ka.ty()}ao(g){return this.ka.ao(g)}H(){return this.Sd}Gq(){return this.ka.Gq()}cq(g){return g.Va?
g.bM(this.H()):this.H()===g}jP(){if(!this.sb().xU)throw Error("object does not support scene graph");}Pj(){return null!==this.Ba()}Ba(){var g=this.m();return g?(g=g.Ba())?g.za():null:null}gy(){var g=this.m();return g?(g=g.gy())?g.za():null:null}*Xw(){const g=this.m();if(g)for(const l of g.Xw())yield l.za()}bf(){const g=this.m();return g?g.bf():!1}Ue(){const g=this.m();return g?g.Ue().map(l=>l.za()):[]}*children(){const g=this.m();if(g)for(const l of g.children())yield l.za()}*Kk(){const g=this.m();
if(g)for(const l of g.Kk())yield l.za()}Kx(){const g=this.m();return g?g.Kx():0}ED(g){const l=this.m();return l?(g=l.ED(g))?g.za():null:null}mm(g,l){this.jP();g.jP();this.m().mm(g.m(),l||{})}Uj(g){const l=this.m();l&&l.Uj(g.m())}Ox(){const g=this.m();return g?g.Ox():!1}a5(){var g=this.m();if(g&&(g=g.EM()))for(const l of g)if(g=this.g.Dj(l[2])){const n=l[3];this.mm(g,{Rs:!!(n>>0&1),Ss:!!(n>>1&1),Zp:!!(n>>2&1),Yp:!!(n>>3&1),Qs:!!(n>>4&1),Kw:!!(n>>5&1),Ts:!!(n>>6&1)})}}Sb(){return null!==this.vd}Xq(g){this.vd.push(g)}Z_(g){return!!this.KM(g)}KM(g){const l=
this.vd;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===g)return n;return null}Ei(){for(const g of this.vd)g.H().U().Yj(g)}B$(){for(const g of this.vd)g.H().U().Oo(g)}lba(g){for(const l of this.vd)l.H().U().F[g]=l}A$(){for(const g of this.vd)g.H().U().nl(g)}kba(g){for(const l of this.vd)l.H().U().Vb[g]=l}sb(){return this.Sd.sb()}BR(g){this.YS=g}$n(){this.Sd.Cz();return this.YS}iM(g){const l=this.dd;for(let n=0,p=l.length;n<p;++n)if(l[n].og().fb===g)return n;return-1}ye(g){g|=0;const l=
this.mf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}j8(g){const l=this.mf[g];return 0===this.Sd.pt(g)?!!l:l}Fm(g,l){g|=0;const n=this.mf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Sd.pt(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}u4(g,l){if(0!==l){g|=0;var n=this.mf;if(0>g||g>=
n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Kj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}At(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,g);return g}xQ(g){const l=
this.H();if(l.Zd.$D(g))return!0;for(const n of l.Bh)if(n.Zd.$D(g))return!0;return this.g.Zd.$D(g)?!0:!1}Bz(){const g=new Set;g.add(this);const l=this.m();if(l&&l.bf())for(const n of this.Kk())if(g.add(n),n.Sb())for(const p of n.vd)g.add(p);if(this.Sb())for(const n of this.vd)g.add(n);for(const n of g.values())n.RR()}RR(){if(this.xQ("instancecreate")){const g=this.H(),l=new d.Event("instancecreate");l.instance=this.ih();g.fh(l);for(const n of g.Bh)n.fh(l);this.g.fh(l)}this.g.Ca(this.sb().constructor.N.j2,
this,null)}Gba(){this.g.Ca(this.sb().constructor.N.k2,this,null)}T7(g){if(this.ie){var l=new d.Event("destroy");l.zea=g;this.fh(l)}if(this.xQ("instancedestroy")){l=this.H();var n=new d.Event("instancedestroy");n.instance=this.ih();n.zea=g;l.fh(n);for(const p of l.Bh)p.fh(n);this.g.fh(n)}}Ad(g="full"){const l={};"full"===g?l.uid=this.Vc:l.c3=!0;if("visual-state"!==g){var n=h.get(this);n&&n.size&&(l.ex=d.wF(n));-1!==this.Yd&&(l.mts=this.Yd);if(0<this.Sd.cj.length){n={};var p=this.Sd.f_();for(let q=
0,u=this.mf.length;q<u;++q)n[p[q].toString()]=this.mf[q];l.ivs=n}if(this.dd.length){n={};for(const q of this.dd)(p=q.Ad())&&(n[q.og().fb.toString()]=p);l.behs=n}}this.Pa&&(l.w=this.Pa.fa(g));(g=this.ka.Ad())&&(l.data=g);return l}nz(g="full"){this.Pa&&this.Pa.nz(g)}sd(g,l="full"){if("full"===l)this.Vc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=h.get(this);n&&(n.clear(),h.delete(this));if(n=g.ex)n=d.zD(n),h.set(this,n);this.Yd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=
this.Sd.e_(parseInt(u,10)),!(0>n||n>=this.mf.length)){var p=w;null===p&&(p=NaN);this.mf[n]=p}}if(this.sb().rf){n=g.w;var q=n.l;this.Pa.ba().fb!==q&&(p=this.Pa.ba(),(q=p.Yb().Vx(q))?(this.Pa.Du(q),p.Po(this,!0),q.Bg(this,!0),q.zg(),this.Pa.Xa()):"full"===l&&this.g.Wn(this));this.Pa.la(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [u,w]of Object.entries(l))l=this.iM(parseInt(u,10)),0>l||l>=this.dd.length||this.dd[l].sd(w);(g=g.data)&&this.ka.sd(g)}ih(){return this.ie||this.DQ()}DQ(){var g=this.Pa?
self.my:b;const l=this.ka.Yk(),n=this.Sd.gT,p=n||l||g;b.Cg(this);this.ie=new p;b.Cg(null);if(l&&!(this.ie instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.ie instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.ie}i8(g){if(0!==this.mf.length){var l={},n=this.Sd.c8();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.j8.bind(this,p),set:d.Instance.prototype.Fm.bind(this,p)};l=Object.create(Object.prototype,l);g.dqa={value:l,writable:!1}}}d8(g){var l=this.dd;if(0!==l.length){var n={};for(const p of l)n[p.og().ii()]={value:p.rq(),writable:!1};l=Object.create(Object.prototype,n);g.Iw={value:l,writable:!1}}}fh(g){g.instance=this.ih();var l=this.g;(l=l.qb&&!l.ga().Ht())&&a.rF();this.ih().dispatchEvent(g);l&&a.$C()}}}
{"use strict";const d=self.B;d.S3=class extends d.ea{constructor(a){super();this.ic=a;this.tc=null;this.Vz=[];this.YB=a.$();this.XB=a.X();this.NJ=this.MJ=1;this.zB=0}A(){this.tc=null;d.D(this.Vz)}OO(a){this.zB=(this.tc=a)?a.Ma():0}Ba(){return this.tc}bf(){return 0<this.Vz.length}Ue(){return this.Vz}H4(a){this.MJ=a}I4(a){this.NJ=a}Hj(){return this.ic.fo()?this.tc.$()/this.tc.Hb.YB:1}Ij(){return this.ic.eo()?this.tc.X()/this.tc.Hb.XB:1}fa(){return{sw:this.YB,sh:this.XB,sx:this.MJ,sy:this.NJ,psa:this.zB,
c:this.Vz.map(a=>{let b="";a.ho()&&(b+="x");a.io()&&(b+="y");a.fo()&&(b+="w");a.eo()&&(b+="h");a.hy()&&(b+="a");a.iy()&&(b+="z");a.Ox()&&(b+="d");return{uid:a.za().Vc,f:b}})}}la(a){this.YB=a.sw;this.XB=a.sh;this.MJ=a.sx;this.NJ=a.sy;this.zB=a.psa}lG(a){const b=this.ic,e=b.G();for(const c of a.c){a=e.Dj(c.uid).m();const h=c.f,m={};m.Rs=h.includes("x");m.Ss=h.includes("y");m.Zp=h.includes("w");m.Yp=h.includes("h");m.Qs=h.includes("a");m.Ts=h.includes("z");m.Kw=h.includes("d");b.mm(a,m)}}}}
{"use strict";const d=self.B,a=d.j(d.Rect),b=d.j(d.td),e=d.j(d.Event,"bboxchange",!1),c=d.j(d.$a,0,0,0,0),h=d.j(d.Un),m=d.j(d.$a,1,1,1,1),g=d.j(d.Rect,0,0,-1,-1),l=d.j(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.N5=class extends d.ea{constructor(r,v){super();this.ia=r;this.K=r.H();this.g=r.G();this.vk=v;this.Jk=-1;this.ya=196635;this.K.sb().zq()&&(this.ya|=128);this.$r=this.Zr=this.vH=this.CJ=this.Sa=this.Pc=this.Ng=this.$g=this.Xc=this.M=
this.P=NaN;this.mH=d.j(d.Rect);this.nH=d.j(d.td);this.Wz=l;this.cw=g;this.kj=this.vs=this.UB=null;this.Zo=this.bb=m;this.Xf=this.Op=null;this.ia.H().iP()&&(this.Xf=d.j(d.X0,this.ia,this));this.Lh=this.Hb=null}hG(){this.ya|=256}A(){this.Op&&(this.g.eb().YN(this.Op),this.Op=null);this.UB=null;this.vs&&(this.vs.BV.A(),this.vs=null);this.kj&&(this.kj.clear(),this.kj=null);this.Jy();this.Pj()&&this.Ba().Uj(this);if(this.bf()){const r=[...this.Ue()];for(const v of r)this.Uj(v)}this.qz();this.vk=this.g=
this.K=this.ia=null}bl(r){q=!1;this.Hm(r[0],r[1]);this.ef(r[2]);this.kd(r[3],r[4]);this.Pc=0;this.zq()?this.Bd(r[6]):this.Sa=0;c.jm(r[7]);this.sz(c);this.Pq(r[8]);this.Qq(r[9]);this.Of(r[10]);this.Xf&&this.Xf.g9(r[12]);r[14]&&u.set(this,{Oda:r[14][1],Ffa:r[14][2]});if(r[15]){var v=r[15];this.pD(v[0],v[1]);r=this.Lj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.mq(z,y);J.oh(H[0]);J.Gi(H[1]);J.ef(H[2]);J.kF(H[3]);J.lF(H[4])}}}q=!0;this.hr()}G0(){this.CJ=
this.Sa=this.Pc=this.Ng=this.$g=this.Xc=this.M=this.P=0;this.vH=1;this.$r=this.Zr=0;this.hr()}G(){return this.g}H(){return this.K}za(){return this.ia}pu(){return this.hy()?this.Ba().Ma()-this.Hb.zB:0}oh(r){r=+r;if(this.ho()){const v=this.Hb;r-=this.oa();const y=-this.pu();0===y?this.P+=r/v.Hj():(this.P+=Math.cos(y)*r/v.Hj(),this.io()&&(this.M+=Math.sin(y)*r/v.Ij()))}else this.P=r}b2(r){r=+r;this.ho()?this.oh(this.oa()+r):this.P+=r}oa(){if(this.ho()){let r=this.P;const v=this.Hb,y=this.Ba(),A=this.pu();
0===A?r*=v.Hj():(r=r*v.Hj()*Math.cos(A),this.io()&&(r-=this.M*v.Ij()*Math.sin(A)));return y.oa()+r}return this.P}Gi(r){r=+r;if(this.io()){const v=this.Hb;r-=this.pa();const y=-this.pu();0===y?this.M+=r/v.Ij():(this.ho()&&(this.P-=Math.sin(y)*r/v.Hj()),this.M+=Math.cos(y)*r/v.Ij())}else this.M=r}c2(r){r=+r;this.io()?this.Gi(this.pa()+r):this.M+=r}pa(){if(this.io()){let r=this.M;const v=this.Hb,y=this.Ba(),A=this.pu();0===A?r*=v.Ij():(r=r*v.Ij()*Math.cos(A),this.ho()&&(r+=this.P*v.Hj()*Math.sin(A)));
return y.pa()+r}return this.M}Hm(r,v){r=+r;v=+v;if(this.OM()){const A=this.ho(),G=this.io(),z=this.Hb,F=r-this.oa(),H=v-this.pa();var y=-this.pu();if(0===y)this.P=A?this.P+F/z.Hj():r,this.M=G?this.M+H/z.Ij():v;else{const J=Math.sin(y);y=Math.cos(y);this.P=A?G?this.P+(y*F-J*H)/z.Hj():this.P+y*F/z.Hj():r;this.M=G?A?this.M+(J*F+y*H)/z.Ij():this.M+y*H/z.Ij():v}}else this.P=r,this.M=v}Dy(r,v){r=+r;v=+v;this.OM()?this.Hm(this.oa()+r,this.pa()+v):(this.P+=r,this.M+=v)}cZ(r,v){return this.oa()===r&&this.pa()===
v}ef(r){r=+r;this.iy()&&(r-=this.Ba().ab());this.Xc!==r&&(this.Xc=r,this.aS(),r=this.ba(),0!==this.Xc&&r.xR(),r.zg())}aS(){this.hr();if(this.bf()){const r=this.Ue();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.iy()&&A.aS()}}}d2(r){this.ef(this.ab()+r)}ab(){return this.iy()?this.Ba().ab()+this.Xc:this.Xc}$e(){return this.ba().ab()+this.ab()}Fi(r){r=+r;if(this.fo()){const v=this.$();this.$g=0===v?1E-6:r/v*this.$g}else this.$g=r}DN(r){r=+r;this.fo()?this.Fi(this.$()+r):this.$g+=r}$(){return this.fo()?
this.Ba().$()*this.$g:this.$g}yi(r){r=+r;if(this.eo()){const v=this.X();this.Ng=0===v?1E-6:r/v*this.Ng}else this.Ng=r}CN(r){r=+r;this.eo()?this.yi(this.X()+r):this.Ng+=r}X(){return this.eo()?this.Ba().X()*this.Ng:this.Ng}kd(r,v){r=+r;v=+v;if(this.fo()){const y=this.$();this.$g=0===y?1E-6:r/y*this.$g}else this.$g=r;this.eo()?(r=this.X(),this.Ng=0===r?1E-6:v/r*this.Ng):this.Ng=v}A_(){if(this.Pj()){const r=this.Hb;return Math.min(r.Hj(),r.Ij())}return 1}zq(){return 0!==(this.ya&128)}Bd(r){r=+r;this.zq()&&
(this.hy()&&(r-=this.Ba().Ma()),r=d.re(r),this.Sa!==r&&(this.Sa=r,this.iG()))}X1(r){r=+r;0!==r&&this.zq()&&(this.Sa=d.re(this.Sa+r),this.iG())}iG(){this.ya|=262144;if(this.bf()){const r=this.Ue();for(let v=0,y=r.length;v<y;v++)r[v].iG()}}Ma(){return this.hy()?d.re(this.Ba().Ma()+this.Sa):this.Sa}TQ(){const r=this.ya;if(0!==(r&262144)){var v=this.Ma();this.CJ=Math.sin(v);this.vH=Math.cos(v);this.ya=r&-262145}}UD(){this.TQ();return this.CJ}GD(){this.TQ();return this.vH}Pq(r){this.Zr=+r}Z1(r){this.Zr+=
+r}Wk(){return this.Zr}Qq(r){this.$r=+r}a2(r){this.$r+=+r}Xk(){return this.$r}sz(r){this.bb.fd(r)||(this.bb===m?(this.bb=d.j(d.$a,r),this.Zo=d.j(d.$a,r),this.Zo.aL()):r.xC(1,1,1,1)?this.Zo=this.bb=m:(this.bb.set(r),this.Zo.set(r),this.Zo.aL()),this.hr())}Ai(r){r=d.da(+r,0,1);this.bb.Xp!==r&&(c.oj(this.bb),c.Xp=r,this.sz(c))}Y1(r){this.Ai(this.Ld()+r)}Ld(){return this.bb.Xp}UO(r){this.bb.fm(r)||(c.oj(r),c.Xp=this.bb.Xp,this.sz(c))}T4(r,v,y){c.Ps(r,v,y);this.UO(c)}RD(){return this.Zo}Ox(){return 0!==
(this.ya&512)}f4(r){this.He(512,r)}ho(){return 0!==(this.ya&1024)}O4(r){this.He(1024,r)}io(){return 0!==(this.ya&2048)}OM(){return 0!==(this.ya&3072)}P4(r){this.He(2048,r)}fo(){return 0!==(this.ya&4096)}N4(r){this.He(4096,r)}eo(){return 0!==(this.ya&8192)}M4(r){this.He(8192,r)}hy(){return 0!==(this.ya&16384)}L4(r){this.He(16384,r)}iy(){return 0!==(this.ya&32768)}Q4(r){this.He(32768,r)}DP(){this.ya&=-65025}mm(r,v){if(r!==this&&!r.Pj()&&!this.zQ(r)&&!this.yQ(r)){var y=r.oa(),A=r.pa(),G=r.$(),z=r.X(),
F=r.Ma(),H=r.ab();r.FR(this);r.O4(v.Rs);r.P4(v.Ss);r.N4(v.Zp);r.M4(v.Yp);r.L4(v.Qs);r.Q4(v.Ts);r.f4(v.Kw);v.Rs&&(r.P=y-this.oa(),v.Zp&&(r.P/=this.$()/this.Hb.YB));v.Ss&&(r.M=A-this.pa(),v.Yp&&(r.M/=this.X()/this.Hb.XB));v.Zp&&(r.$g=G/this.$(),r.Hb.H4(r.$g));v.Yp&&(r.Ng=z/this.X(),r.Hb.I4(r.Ng));v.Qs&&(r.Sa=F-this.Ma());v.Ts&&(r.Xc=H-this.ab());this.V5(r);this.Xa()}}Uj(r){if(r.Ba()===this){var v=r.oa(),y=r.pa(),A=r.$(),G=r.X(),z=r.Ma(),F=r.ab();r.FR(null);r.DP();r.Hm(v,y);r.kd(A,G);r.Bd(z);r.ef(F);
this.P$(r);this.Xa()}}X$(){for(var r of this.children())this.Uj(r);(r=this.Ba())&&r.Uj(this);this.DP()}Pj(){return null!==this.Ba()}Ba(){const r=this.Hb;return null!==r?r.Ba():null}gy(){let r=this;for(;r.Pj();)r=r.Ba();return r}*Xw(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}U_(r){return this.Ue().includes(r)}bf(){const r=this.Hb;return null!==r?r.bf():!1}Ue(){const r=this.Hb;return null!==r?r.Ue():p}children(){return this.Ue()}*Kk(){for(const r of this.children())yield r,yield*r.Kk()}Kx(){return this.Ue().length}ED(r){const v=
this.Ue();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}IF(r){this.Hb||(this.Hb=d.j(d.S3,this));r&&this.Hb.OO(r)}qz(){this.Hb&&(this.Hb.A(),this.Hb=null)}FR(r){r?(r.IF(null),this.IF(r)):(this.Hb&&this.Hb.OO(null),this.bf()||this.qz())}yQ(r){if(!this.Pj())return!1;const v=this.Ba();return v===r?!0:v.yQ(r)}zQ(r){if(this.U_(r))return!0;for(const v of this.Ue())if(v.zQ(r))return!0;return!1}V5(r){this.Hb.Ue().push(r)}P$(r){const v=this.Hb.Ue(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Pj()||
this.qz();r.bf()||r.qz()}EM(){const r=u.get(this);return r?r.Oda:null}B_(){const r=u.get(this);return r?r.Ffa:NaN}pq(){const r=w.get(this);return d.Lf(r)?r:NaN}fF(r){w.set(this,r)}hr(){if(q){var r=this.g.eb();this.Op&&r.YN(this.Op);this.Op=r.kW(0!==(this.ya&524288)?r.VB||"<point>":r.WB||"<default>",this.xj(),this.Zo,this.ab())}}tq(){return this.bb===m}Of(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.xj()!==r&&(this.ya=this.ya&-2080374785|r<<26,this.hr())}xj(){return(this.ya&
2080374784)>>26}Du(r){this.vk=r;0!==this.ab()&&this.vk.xR()}ba(){return this.vk}Yb(){return this.ba().Yb()}zz(r){this.Jk=r|0}Oj(){this.vk.Iu();return this.Jk}He(r,v){this.ya=v?this.ya|r:this.ya&~r}Jc(){return 0!==(this.ya&1)}nh(r){this.He(1,r)}mi(){return 0!==(this.ya&8)}Vt(r){r=!!r;this.mi()!==r&&(this.He(8,r),r?this.Xa():this.hR())}hF(r,v){this.He(32,r);this.kj&&this.kj.clear();if(v.trim()){this.kj||(this.kj=new Set);for(const y of v.split(" "))y&&this.kj.add(y.toLowerCase())}else this.kj=null}Xa(){this.ya|=
65554;this.K.wR();this.g.aa();this.vk.Ko()&&(this.nx(this.mH,this.nH,!0),this.ya&=-3,this.Oba());0!==(this.ya&4)&&this.ia.Rb().dispatchEvent(e);if(null!==this.Hb){const r=this.Hb.Ue();for(let v=0,y=r.length;v<y;++v)r[v].Xa()}}nx(r,v,y){const A=this.oa(),G=this.pa(),z=this.$(),F=this.X(),H=this.Ma();r.ah(A-this.Zr*z,G-this.$r*F,z,F);y&&this.Kf()&&this.L7(r);0===H?v.tj(r):(r.offset(-A,-G),v.NV(r,this.UD(),this.GD()),v.offset(A,G),v.FK(r));r.normalize()}WR(){const r=this.ya;0!==(r&2)&&(this.nx(this.mH,
this.nH,!0),this.ya=r&-3)}$c(){this.WR();return this.mH}yj(){this.WR();return this.nH}RN(r){var v=this.oa(),y=this.pa();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.na(r);b.offset(v,y);return b}a4(r){this.He(4,r)}$M(){return 0!==(this.ya&4)}iN(r,v,y){return v&&0!==this.Pc?this.wq(this.ba().br()):0===this.ab()||y?r.EC(this.$c()):this.W8()}W8(){const r=this.ba(),v=this.$e();if(v>=r.gt())return!1;r.QM(v,a);return a.EC(this.$c())}wq(r){var v=this.$c();const y=v.V,A=v.ca,G=v.O;v=v.Z;
const z=this.$e();return r.wX(y,G,z,A,v,z+this.Pc)}uz(r){this.He(1048576,r)}wz(r){this.He(2097152,r)}iF(r){this.UB=r;this.PF();this.Kf()&&(this.Lh.QK=null)}ky(){return null!==this.UB||this.Kf()}Zk(){return this.f8(this.$(),this.X(),this.Ma(),this.UD(),this.GD())}f8(r,v,y,A,G){let z=this.vs;null===z&&(this.vs=z={BV:d.j(d.Un),width:NaN,height:NaN,angle:NaN});const F=z.BV;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.UB;if(this.Kf()){const J=this.Wk(),M=this.Xk(),Q=this.Lj();let R=
this.Lh.QK;R||(H?(h.na(H),h.offset(J,M)):h.ffa(),R=Q.W0(h),this.Lh.QK=R);Q.t5(R,F);F.offset(-J,-M);F.oL(r,v,A,G)}else H?(F.na(H),F.oL(r,v,A,G)):F.hL(this.yj(),-this.oa(),-this.pa());z.width=r;z.height=v;z.angle=y;return F}PF(){this.C4();const r=this.vs;null!==r&&(r.width=NaN)}pD(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.za().sb().wda)throw Error("object does not support mesh");this.Jy();this.Lh={jL:d.j(d.I.yN,r,v),XV:d.j(d.I.yN,r,v),QK:null}}Kf(){return null!==this.Lh}Lj(){if(!this.Kf())throw Error("no mesh");
return this.Lh.jL}PM(){if(!this.Kf())throw Error("no mesh");return this.Lh.XV}cF(r){this.He(65536,r)}kN(){return 0!==(this.ya&65536)}C4(){this.He(131072,!0)}L7(r){const v=this.Lh.jL,y=Math.min(v.r_(),0),A=Math.min(v.s_(),0),G=Math.max(v.o_(),1),z=Math.max(v.p_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Tea((G-1)*F);r.Sea((z-1)*H);this.Pc=v.q_()}Jy(){this.Lh&&(this.Lh.jL.A(),this.Lh.XV.A(),this.Lh=null,this.PF())}KO(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";
if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.gx;let H="number"===typeof y.aW?y.aW:A?0:-1;y="number"===typeof y.dW?y.dW:A?0:-1;if(!this.Kf())return!1;const J=this.Lj(),M=J.mq(r,v);if(null===M)return!1;let Q=!1;"number"===typeof F&&M.ab()!==F&&(M.ef(F),Q=!0);A&&(G+=r/(J.nk-1),z+=v/(J.Dk-1));-1!==H||A?(A&&(H+=r/(J.nk-1)),H=d.da(H,0,1)):H=M.Xg;-1!==y||A?(A&&(y+=v/(J.Dk-1)),y=d.da(y,0,1)):y=M.Zg;if(M.oa()===G&&M.pa()===z&&M.Xg===H&&M.Zg===y)return Q;M.oh(G);M.Gi(z);
M.kF(H);M.lF(y);this.PF();return!0}$k(){return this.ia.$k()}Ws(r,v){return this.$c().zf(r,v)&&this.yj().zf(r,v)?this.$k()?void 0:this.ky()?this.Zk().zf(r-this.oa(),v-this.pa()):!0:!1}U8(){return 0!==(this.ya&16)}XR(){if(this.U8()&&this.mi()&&0===(this.ya&256)){var r=this.$c(),v=this.K.Xz,y=this.Wz;a.set(v.Hi(r.V),v.Ii(r.O),v.Hi(r.ca),v.Ii(r.Z));y.fd(a)||(r=this.ia,y===l?(v.hl(r,null,a),this.Wz=d.j(d.Rect,a)):(v.hl(r,y,a),y.na(a)),this.ya&=-17)}}hR(){const r=this.Wz;r!==l&&(this.K.Xz.hl(this.ia,r,
null),this.Wz=l)}Oba(){const r=this.ba();if(r.Ko()&&0===(this.ya&256)){var v=r.gs,y=this.$c(),A=this.cw;a.set(v.Hi(y.V),v.Ii(y.O),v.Hi(y.ca),v.Ii(y.Z));A.fd(a)||(y=this.ia,A===g?(v.hl(y,null,a),this.cw=d.j(d.Rect,a)):(v.hl(y,A,a),A.na(a)),r.E4())}}iR(){const r=this.cw;r!==g&&(this.ba().gs.hl(this.ia,r,null),this.cw=g)}T5(){const r=this.ia,v=this.vk,y=v.F;y.length&&y.$d(-1)===r||(v.Po(r,!1),v.Bg(r,!1),this.g.aa())}R5(){const r=this.ia,v=this.vk,y=v.F;y.length&&y[0]===r||(v.Po(r,!1),v.x$(r),this.g.aa())}S5(r){const v=
this.ia,y=this.vk;if(y.Yb()!==r.Yb())throw Error("layer from different layout");r!==y&&(y.Po(v,!0),this.Du(r),r.Bg(v,!0),this.g.aa())}Q5(r,v){const y=this.ia;let A=!1;const G=this.vk;if(r.Vc!==y.Vc){var z=r.m();if(!z)throw Error("expected world instance");z=z.ba();G.Ea()!==z.Ea()&&(G.Po(y,!0),this.Du(z),z.Bg(y,!0),A=!0);r=z.S1(y,r,!!v);(A||r)&&this.g.aa()}}$aa(r){this.He(64,r)}Ct(){return 0!==(this.ya&64)}fa(r){const v={x:this.oa(),y:this.pa(),w:this.$(),h:this.X(),l:this.ba().fb,zi:this.Oj()};0!==
this.ab()&&(v.ze=this.ab());0!==this.Ma()&&(v.a=this.Ma());this.tq()||(v.c=this.bb.toJSON());.5!==this.Wk()&&(v.oX=this.Wk());.5!==this.Xk()&&(v.oY=this.Xk());0!==this.xj()&&(v.bm=this.xj());this.Jc()||(v.v=this.Jc());this.mi()||(v.ce=this.mi());this.$M()&&(v.be=this.$M());this.Xf&&(v.fx=this.Xf.fa());const y=0!==(this.ya&32);y&&(v.sfi=y);this.kj&&(v.sft=[...this.kj].join(" "));this.Hb&&"visual-state"!==r&&(v.sgi=this.Hb.fa());this.Kf()&&(v.mesh=this.Lj().Ad());return v}nz(r){"visual-state"!==r&&
this.X$()}la(r,v){q=!1;this.oh(r.x);this.Gi(r.y);this.Fi(r.w);this.yi(r.h);this.zz(r.zi);this.ef(r.hasOwnProperty("ze")?r.ze:0);this.Bd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.jm(r.c):r.hasOwnProperty("o")?(c.oj(this.bb),c.Xp=r.o):c.Mn(1,1,1,1);this.sz(c);this.Pq(r.hasOwnProperty("oX")?r.oX:.5);this.Qq(r.hasOwnProperty("oY")?r.oY:.5);this.Of(r.hasOwnProperty("bm")?r.bm:0);this.nh(r.hasOwnProperty("v")?r.v:!0);this.Vt(r.hasOwnProperty("ce")?r.ce:!0);this.a4(r.hasOwnProperty("be")?r.be:
!1);this.hF(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Xf&&r.hasOwnProperty("fx")&&this.Xf.la(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.IF(null);const y=this.Hb,A=r.sgi;y.la(A);const G=this.G().Rb(),z=()=>{G.removeEventListener("afterload",z);0===(this.ya&256)&&y.lG(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.pD(r.cols,r.rows),this.Lj().sd(r)):this.Jy();this.Xa();q=!0;this.hr()}}}
{"use strict";const d=self.B;d.uL=class extends d.ea{constructor(a,b){super();const e=a.G(),c=e.Fp,h=e.jh(b[1]);c.T_(h)||c.BX(b);this.g=e;this.K=a;this.Oi=c.wZ(h);this.Gc=null;this.FA=h.Instance;this.fb=b[2];this.Da=b[0];this.Lv=this.g.ii(b[3]);this.Gc=d.j(h.Io,this);this.zd()}static La(a,b){return d.j(d.uL,a,b)}A(){this.Oi=this.g=null;this.Gc.A();this.FA=this.Gc=null}zd(){this.Gc.zd()}G(){return this.g}H(){return this.K}om(){return this.Oi}wa(){return this.Da}ii(){return this.Lv}}}
{"use strict";const d=self.B,a=self.g0;d.jx=class extends d.ea{constructor(b){super();this.g=b.Cf;this.Nc=b.qK;this.Oi=this.Nc.om();this.ia=b.instance;this.Ka=b.index;this.ie=this.ka=null;this.Oi.Bg(this.ia)}A(){this.ie&&(this.ie.Bu(),this.ie=null);this.Oi.Po(this.ia);this.ka.A();this.ia=this.Oi=this.Nc=this.g=this.ie=this.ka=null}dz(b){if(this.ka)throw Error("already got sdk instance");this.ka=d.j(this.Nc.FA,this,b);this.K8()}G(){return this.g}og(){return this.Nc}om(){return this.Oi}Ge(){return this.Ka}Ad(){return this.ka.Ad()}sd(b){return this.ka.sd(b)}static pF(b,
e){var c=b.ia,h=e.ia;const m=c.H().Ea(),g=h.H().Ea();if(m!==g)return m-g;c=c.$T;h=h.$T;return c!==h?c-h:b.Oz.Ge()-e.Oz.Ge()}K8(){const b=this.ka.Yk(),e=b||a;a.Cg(this);this.ie=new e;a.Cg(null);if(b&&!(this.ie instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}rq(){return this.ie}}}
{"use strict";const d=self.B;d.Nk=class extends d.ea{constructor(a,b){super();this.ic=a;this.Dg=[];this.Tf=[];this.gA=new Map;this.zh=[];this.bs=!0;for(const e of b)a=d.j(d.YL,this,e,this.Dg.length),this.Dg.push(a),this.gA.set(a.wa().toLowerCase(),a),3<=e.length&&this.zh.push(this.eG(e[2]));this.G().X5(this)}A(){d.D(this.Dg);d.D(this.Tf);this.gA.clear();d.D(this.zh);this.ic=null}Z2(a){if(a.length){this.Dg=a.concat(this.Dg);for(const b of a)this.gA.set(b.wa().toLowerCase(),b);for(let b=0,e=this.Dg.length;b<
e;++b)this.Dg[b].zG(b)}}eG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=d.j(d.$a);h.jm(c);a[b]=h}}return a}G(){return this.ic.G()}rh(){d.D(this.Tf);let a=!0;for(const b of this.Dg)b.Eb&&(this.Tf.push(b),b.Jf().bs||(a=!1));this.bs=a}ng(){return this.Dg}O_(){return 0<this.Dg.length}Sk(a){return this.gA.get(a.toLowerCase())||null}nM(a){a=Math.floor(+a);if(0>a||a>=this.Dg.length)throw new RangeError("invalid effect type index");return this.Dg[a]}Ft(a){return this.nM(a).Eb}xO(a,
b){this.nM(a).Ny(b)}Ct(){return 0<this.Tf.length}Rk(a){return this.zh[a]}static Q3(a){return a&&a instanceof d.$a?{t:"color",v:a.toJSON()}:a}static G1(a){if("object"===typeof a){if("color"===a.t){const b=d.j(d.$a);b.jm(a.v);return b}throw Error("invalid effect parameter type");}return a}static nO(a){return a.map(d.Nk.Q3)}static uN(a){return a.map(d.Nk.G1)}Ad(){return this.Dg.map(a=>({name:a.wa(),active:a.Eb,params:d.Nk.nO(this.zh[a.Ea()])}))}sd(a){for(const b of a)if(a=this.Sk(b.name))a.Ny(b.active),
this.zh[a.Ea()]=d.Nk.uN(b.params);this.rh()}}}
{"use strict";const d=self.B;d.YL=class extends d.ea{constructor(a,b,e){super();this.Ja=a;this.Cc=b[0];this.Da=b[1];this.Ka=e;this.Uc=null;this.Eb=!0}A(){this.Uc=this.Ja=null}nX(a){a=d.j(d.YL,a,[this.Cc,this.Da],-1);a.Uc=this.Uc;a.Eb=this.Eb;return a}BQ(a){a=a.JM(this.Cc);if(!a)throw Error("failed to find shader program '"+this.Cc+"'");this.Uc=a}wa(){return this.Da}zG(a){this.Ka=a}Ea(){return this.Ka}G(){return this.Ja.G()}Ny(a){this.Eb=!!a}Jf(){return this.Uc}GZ(){const a=[];for(let b=0,e=this.Uc.Wp.length;b<
e;++b){const c=this.Uc.Zx(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.j(d.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.X0=class extends d.ea{constructor(a,b){super();this.ia=a;this.PU=b;this.Ja=a.H().Ja;this.Gw=this.eJ=!0;this.OU=this.NU=this.LU=!1;this.yh=d.j(d.I.ve,a.G().L.DH,{wC:(e,c)=>{c=c.Rm;const h=c.m();e.Dm(h.RD());e.Wt(h.$e());c.mg(e);e.Wt(0)},lV:e=>{const c=e.Mx(),[h,m]=e.Lx();return{UV:c,VV:h,TV:m}},BC:e=>this.Rk(e)});this.Ro=[];this.Tf=[];this.bs=!0;this.zh=[];for(const e of this.Ja.ng())this.Ro.push(!0);this.rh()}A(){this.yh.A();this.yh=null;d.D(this.Ro);d.D(this.Tf);d.D(this.zh);
this.Ja=this.ia=null}g9(a){for(const b of a)this.zh.push(this.eG(b))}eG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=d.j(d.$a);h.jm(c);a[b]=h}}return a}D1(){for(const a of this.Ja.ng())this.zh.push(a.GZ())}fi(){this.xu();return this.yh}G(){return this.ia.G()}rh(){d.D(this.Tf);const a=this.PU,b=this.Ja.ng(),e=this.Tf,c=this.Ro;let h=!0;for(let m=0,g=b.length;m<g;++m)if(c[m]){const l=b[m];e.push(l);l.Jf().bs||(h=!1)}this.bs=h;a.$aa(!!e.length);this.eJ=!0}xu(){const a=
this.ia;var b=this.PU;const e=b.tq(),c=0<b.Pc;b=0!==b.Ma()||0>b.$()||0>b.X();const h=a.ty();if(this.eJ||e!==this.Gw||c!==this.LU||b!==this.NU||h!==this.OU)this.yh.fD(this.Tf.map(m=>m.Jf()),{Fs:this.Tf.map(m=>m.Ea()),zC:!e||a.Bq(),KK:c,OK:h,qV:b}),this.eJ=!1,this.Gw=e,this.LU=c,this.NU=b,this.OU=h}Rk(a){return this.zh[a]}Ft(a){return this.Ro[a]}xO(a,b){this.Ro[a]=!!b}ng(){return this.Ja.ng()}fa(){return this.Ja.ng().map(a=>({name:a.wa(),active:this.Ro[a.Ea()],params:d.Nk.nO(this.zh[a.Ea()])}))}la(a){for(const b of a)if(a=
this.Ja.Sk(b.name))this.Ro[a.Ea()]=b.active,this.zh[a.Ea()]=d.Nk.uN(b.params);this.rh()}}}
{"use strict";const d=self.B,a=[],b=d.j(d.Un),e=d.j(d.Un),c=d.j(d.td);d.j(d.Rect);d.j(d.Rect);let h=null,m=null,g=null;d.pX=class extends d.ea{constructor(l){super();this.g=l;this.KB=[]}A(){this.g=null}tL(l,n,p){for(const [q,u]of this.KB){let w;if(l===q)w=u;else if(l===u)w=q;else continue;w.cq(n)&&(p.includes(w)||p.push(w))}}CL(l,n){if(!this.KB.length)return!1;for(const [p,q]of this.KB)if(l===p&&n===q||l===q&&n===p)return!0;return!1}DL(){d.D(this.KB)}uF(l,n){if(!l||!n||l===n)return!1;l=l.m();n=n.m();
if(!l.mi()||!n.mi())return!1;const p=l.ba(),q=n.ba();return p.t1(q)?this.Dba(l,n):this.Cba(l,n)}Dba(l,n){if(!l.$c().EC(n.$c())||!l.yj().IK(n.yj())||l.$k()&&n.$k())return!1;if(l.$k())return this.vF(l,n);if(n.$k())return this.vF(n,l);if(!l.ky()&&!n.ky())return!0;const p=l.Zk(),q=n.Zk();return p.Pw(q,n.oa()-l.oa(),n.pa()-l.pa())}Cba(l,n){var p=l.$k(),q=n.$k();if(p&&!q)return this.$O(l,n);if(q&&!p)return this.$O(n,l);if(q||p)return!1;q=l.ba();p=n.ba();b.na(l.Zk());e.na(n.Zk());var u=b.Hd;for(let w=0,
r=u.length;w<r;w+=2){const v=w+1,y=u[v],[A,G]=q.so(u[w]+l.oa(),y+l.pa());u[w]=A;u[v]=G}l=e.Hd;for(let w=0,r=l.length;w<r;w+=2){q=w+1;u=l[q];const [v,y]=p.so(l[w]+n.oa(),u+n.pa());l[w]=v;l[q]=y}b.gL();e.gL();return b.Pw(e,0,0)}$O(l,n){var p=l.ba(),q=n.ba();h||(h=d.j(d.Un));m||(m=d.j(d.Rect));g||(g=d.j(d.td));var u=n.oa(),w=n.pa();const [r,v]=q.so(u,w),[y,A]=p.dh(r,v);p=y-u;w=A-w;m.na(n.$c());m.offset(p,w);if(!l.$c().EC(m))return!1;g.na(n.yj());g.offset(p,w);if(!l.yj().IK(g))return!1;h.na(n.Zk());q=
h.Hd;for(let G=0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.gL();return this.vF(l,n,y,A,h,m,g)}vF(l,n,p,q,u,w,r){w=void 0!==w?w:n.$c();const v=l.oa(),y=l.pa();var A=l.za().ka;p=void 0!==p?p:n.oa();q=void 0!==q?q:n.pa();l=n.ky();r=void 0!==r?r:n.yj();A.Iha(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.Nha();if(w.wea(A,v,y)&&(c.tj(A),c.offset(v,y),c.IK(r)))if(l){var z=void 0!==u?u:n.Zk();if(G=G.w_()){if(G.Pw(z,p-(v+A.V),q-(y+A.O)))return d.D(a),!0}else if(b.hL(c,0,0),b.Pw(z,p,q))return d.D(a),
!0}else if(z=G.w_()){if(b.hL(r,0,0),z.Pw(b,-(v+A.V),-(y+A.O)))return d.D(a),!0}else return d.D(a),!0}d.D(a);return!1}Vy(l,n,p){const q=l.U();var u=this.g.Cb();if(!u)throw Error("cannot call outside event");u=u.Fd;if(q.Pb){q.fe(!1);d.D(q.F);for(var w of l.ja()){var r=w.m(),v=r.ba();const [y,A]=v.dh(n,p,r.$e());v.wy()&&r.Ws(y,A)?q.Oo(w):u&&q.nl(w)}}else{r=!1;u?this.g.cN()&&!q.Vb.length&&q.F.length?w=q.F:(w=q.Vb,r=!0):w=q.F;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.m(),F=z.ba(),[H,J]=F.dh(n,
p,z.$e());F.wy()&&z.Ws(H,J)?r?q.Oo(G):w[v++]=G:r?w[v++]=G:u&&q.nl(G)}w.length=v}l.Xb();return q.aE()}FD(l,n,p,q){l=l?1!==l.Td||1!==l.Ud:!1;if(n.Va)for(const u of n.gp)l||u.bH?d.Fn(q,u.ja()):(u.UR(),u.Xz.Hy(p,q));else l||n.bH?d.Fn(q,n.ja()):(n.UR(),n.Xz.Hy(p,q))}}}
{"use strict";const d=self.B;d.h5=class extends d.ea{constructor(a,b){super();this.qH=a;this.pH=b;this.Ri=d.j(d.Mt)}A(){this.Ri.A();this.Ri=null}pm(a,b,e){let c=this.Ri.Y(a,b);return c?c:e?(c=d.j(d.K_,this,a,b),this.Ri.Set(a,b,c),c):null}Hi(a){a=Math.floor(a/this.qH);return isFinite(a)?a:0}Ii(a){a=Math.floor(a/this.pH);return isFinite(a)?a:0}hl(a,b,e){if(b)for(let c=b.V,h=b.ca;c<=h;++c)for(let m=b.O,g=b.Z;m<=g;++m){if(e&&e.zf(c,m))continue;const l=this.pm(c,m,!1);l&&(l.kh(a),l.oo()&&this.Ri.Vn(c,
m))}if(e)for(let c=e.V,h=e.ca;c<=h;++c)for(let m=e.O,g=e.Z;m<=g;++m)b&&b.zf(c,m)||this.pm(c,m,!0).iE(a)}Hy(a,b){let e=this.Hi(a.V);const c=this.Ii(a.O),h=this.Hi(a.ca);a=this.Ii(a.Z);if(isFinite(h)&&isFinite(a))for(;e<=h;++e)for(let m=c;m<=a;++m){const g=this.pm(e,m,!1);g&&g.tD(b)}}}}
{"use strict";const d=self.B;d.K_=class extends d.ea{constructor(a,b,e){super();this.P=b;this.M=e;this.F=d.j(d.bD)}A(){this.F.A();this.F=null}oo(){return this.F.oo()}iE(a){this.F.Ic(a)}kh(a){this.F.Vn(a)}tD(a){d.Fn(a,this.F.BD())}}}{"use strict";const d=self.B;d.Pka=class{constructor(){this.rect=new d.Rect;this.Lw=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.Lw=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.rj.hm,c=e.create(),h=d.j(d.td),m=d.j(d.Rect);d.jD=class extends d.ea{constructor(g){super();this.g=g;this.Qi=null;this.oT=!1;this.nj=this.cb=null;this.VH="high-performance";this.Qm=this.Pm=this.Gg=this.Hg=this.Ac=this.Oc=this.Fk=this.Gk=0;this.Cs="normalized";this.FS=0;this.Fr=!0;this.Bc=this.Qc=this.yU=0;this.xS=this.HS="letterbox-scale";this.zca=
this.yca=0;this.dA=e.create();this.Dh=this.hK="high";this.rp=!1;this.Pu=[];this.hC=new Set;this.NB=self.C3_Shaders;this.DH=d.j(d.I.$Y,{jV:()=>[this.Bj(),this.Aj()],kV:()=>this.HZ(),GV:l=>this.m3(l),getTime:()=>this.G().Uk(),FV:()=>this.G().aa()});this.Vf=this.Wm=0;this.Mr=NaN;this.wA=null;this.LI=new Map;this.ov=NaN;this.qC=new Map;this.RB="";this.DJ=1;this.lU=d.j(d.Rect);this.EJ="";this.mU=this.jw=null;this.Qv=0;this.ne=-1;this.cn=0;this.SI=l=>this.cn=l.progress;this.uf=null;this.wf={Vw:null,Yw:null,
dx:null};this.HJ=this.sU=this.IJ=0;this.lj="fade-in";this.GJ=null;this.rU=new Promise(l=>this.GJ=l)}Yaa(g){this.VH=g}qba(g){this.oT=!!g}sba(g){this.Cs=g}Saa(g){this.FS=g}async eh(g){this.Qi=g.canvas;this.g.bi("runtime","window-resize",p=>this.oG(p));this.g.bi("runtime","fullscreenchange",p=>this.Z9(p));this.g.bi("runtime","fullscreenerror",p=>this.a$(p));this.Qi.addEventListener("webglcontextlost",p=>this.Au(p));this.Qi.addEventListener("webglcontextrestored",()=>this.nG());this.rp=!!g.isFullscreen;
var l=navigator.gpu&&this.oT;let n=!1;if(l)try{await this.FQ(!0)}catch(p){this.nj=null}if(!this.eb())try{await this.EQ(!0)}catch(p){this.cb=null}this.eb()||(n=!0);if(!this.eb()&&l)try{await this.FQ(!1)}catch(p){this.nj=null}if(!this.eb())try{await this.EQ(!1)}catch(p){this.cb=null}l=this.eb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.r4(n);"normalized"===this.Cs?l.X4():(l.Y4(),l.aF(this.FS));this.kd(g.windowInnerWidth,g.windowInnerHeight,!0);this.nj?
await this.N8():this.cb&&await this.M8();l.dF(this.Fr);l.$j()&&(this.Mr=0);for(const p of this.g.VG){for(const q of p.ng())q.BQ(l);p.rh()}}async FQ(g){g={powerPreference:this.VH,depth:this.g.am,failIfMajorPerformanceCaveat:g,Yoa:this.g.iC,uK:this.g.eK};this.nj=d.j(d.I.soa);await this.nj.La(this.Qi,g)}async EQ(g){g={powerPreference:this.VH,hV:!0,depth:this.g.am,uK:this.g.eK,failIfMajorPerformanceCaveat:g};"Android"===d.Kc.Cq&&"Chromium"===d.Kc.mx&&75>d.Kc.eD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
g.vV=1);"standard"===this.g.tr?g.alpha=!0:(g.alpha=!1,g.PK=!0);this.cb=d.j(d.I.L5,this.Qi,g);await this.cb.qy()}async N8(){if(this.NB){const g=[];for(const [l,n]of Object.entries(this.NB))n.src=n.ksa,g.push(this.nj.qD(n,d.I.toa.Nx(),l));await Promise.all(g)}}async M8(){if(this.NB){const g=[];for(const [l,n]of Object.entries(this.NB))n.src=n.Xpa,g.push(this.cb.qD(n,d.I.ju.Nx(),l));await Promise.all(g);this.cb.E3();this.cb.Zj()}this.cb.$j()&&(this.wA=d.j(d.I.mP,this.cb))}A(){this.Qi=this.cb=this.g=
null}oG(g){const l=this.g;if(!l.um()){var n=g.devicePixelRatio;l.ke&&(self.devicePixelRatio=n);l.Oaa(n);this.rp=!!g.isFullscreen;this.kd(g.innerWidth,g.innerHeight);l.aa();l.qb&&(l.Dt()||self.jg.uia())&&l.zo()}}Z9(g){this.rp=!!g.isFullscreen;this.kd(g.innerWidth,g.innerHeight,!0);this.g.aa()}a$(g){this.rp=!!g.isFullscreen;this.kd(g.innerWidth,g.innerHeight,!0);this.g.aa()}kd(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.Gk!==g||this.Fk!==l||n){this.Gk=
g;this.Fk=l;n=this.kt();"letterbox-scale"===n?this.n6(g,l):"letterbox-integer-scale"===n?this.m6(g,l):"off"===n?this.k6(g,l):this.l6(g,l);this.Nba(n);this.Qi.width=this.Hg;this.Qi.height=this.Gg;this.g.Tj("canvas","update-size",{marginLeft:this.Pm,marginTop:this.Qm,styleWidth:this.Oc,styleHeight:this.Ac});g=this.eb();g.kd(this.Hg,this.Gg,!0);for(var p of this.Pu)g.UX(p);d.D(this.Pu);g.Rn(this.dA,this.Bj()/this.Aj());p=this.g.Za;p.Co();p.Bo()}}n6(g,l){const n=this.g.Qk(),p=this.g.Sg,q=this.g.Rg,u=
p/q;g/l>u?(this.Oc=Math.round(l*u),this.Ac=l,this.Pm=Math.floor((g-this.Oc)/2),this.Qm=0):(this.Oc=g,this.Ac=Math.round(g/u),this.Pm=0,this.Qm=Math.floor((l-this.Ac)/2));this.Hg=Math.round(this.Oc*n);this.Gg=Math.round(this.Ac*n);this.g.fu(p,q)}m6(g,l){const n=this.g.Qk();1!==n&&(g+=1,l+=1);const p=this.g.Sg,q=this.g.Rg;var u=p/q;u=g/l>u?l*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Hg=Math.round(p*u);this.Gg=Math.round(q*u);this.Oc=this.Hg/n;this.Ac=this.Gg/n;this.Pm=Math.max(Math.floor((g-
this.Oc)/2),0);this.Qm=Math.max(Math.floor((l-this.Ac)/2),0);this.g.fu(p,q)}l6(g,l){const n=this.g.Qk();this.Oc=g;this.Ac=l;this.Hg=Math.round(this.Oc*n);this.Gg=Math.round(this.Ac*n);this.Qm=this.Pm=0;g=this.zj();this.g.fu(this.Oc/g,this.Ac/g)}k6(g,l){const n=this.g.Qk();this.Oc=this.g.gg;this.Ac=this.g.Re;this.Hg=Math.round(this.Oc*n);this.Gg=Math.round(this.Ac*n);this.rp?(this.Pm=Math.floor((g-this.Oc)/2),this.Qm=Math.floor((l-this.Ac)/2)):this.Qm=this.Pm=0;this.g.fu(this.g.gg,this.g.Re)}Nba(g){if("high"===
this.hK)this.Qc=this.Hg,this.Bc=this.Gg,this.Dh="high";else{let n;if("off"===this.kt()){var l=this.g.gg;n=this.g.Re}else l=this.g.Sg,n=this.g.Rg;this.Hg<l||this.Gg<n?(this.Qc=this.Hg,this.Bc=this.Gg,this.Dh="high"):(this.Qc=l,this.Bc=n,this.Dh="low","scale-inner"===g?(g=l/n,l=this.Gk/this.Fk,l<g?this.Qc=this.Bc*l:l>g&&(this.Bc=this.Qc/l)):"scale-outer"===g&&(g=l/n,l=this.Gk/this.Fk,l>g?this.Qc=this.Bc*l:l<g&&(this.Bc=this.Qc/l)))}}G(){return this.g}zO(g){if(!a.has(g))throw Error("invalid fullscreen mode");
this.HS=g;g=this.g.Za;g.Co();g.Bo()}Rx(){return this.HS}h4(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.xS=g;g=this.g.Za;g.Co();g.Bo()}kt(){return this.rp?this.xS:this.Rx()}AO(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.hK=g;this.g.Za.Co()}static bQ(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}Bj(){return this.Qc}Aj(){return this.Bc}dF(g){this.Fr=!!g}nba(g){this.yU=g}n1(){return this.eb().mo()}Au(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Pu=[];this.hC.clear();this.cb.dl();this.g.Au()}async nG(){await this.cb.EE();await this.Koa();for(const g of this.g.VG)for(const l of g.ng())l.BQ(this.cb);await this.g.nG();console.log("[Construct 3] WebGL context restored")}jo(){return this.cb}Bt(){return this.nj}eb(){return this.nj||this.cb}oq(){return"low"===this.Dh?
1/this.g.Qk():this.zj()}zj(){const g=this.kt();if("off"===g||"crop"===g)return 1;const l=this.g.Sg,n=this.g.Rg,p=l/n,q=this.Hg/this.Gg;return"scale-inner"!==g&&q>p||"scale-inner"===g&&q<p?this.Ac/n:this.Oc/l}nt(){return"low"===this.Dh?1:this.zj()}mt(){return"low"===this.Dh?1:this.g.Qk()}g4(g,l,n){l=l||this.Qc;n=n||this.Bc;const p=l/2+this.yca,q=n/2+this.zca;{let u=this.dA;if(l!==this.Qc||n!==this.Bc)g.Rn(c,l/n),u=c;g.Do(u)}l=g.Vs(p,q,g.Ff(n),p,q,n);g.Oq(l)}d4(g){var l=this.Ac;const n=this.Oc/2,p=
l/2;g.Do(this.dA);l=g.Vs(n,p,g.Ff(l),n,p,l);g.Oq(l)}ht(){return this.Pm}it(){return this.Qm}dt(g){g.depth=this.g.am;const l=this.Pu,n=l.findIndex(q=>q.e1(g));let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.eb().IX(g);this.hC.add(p);return p}wo(g){if(!this.hC.has(g))throw Error("render target not in use");this.hC.delete(g);this.Pu.push(g)}HZ(){const g={sj:this.g.nd};"low"===this.Dh&&(g.width=this.Bj(),g.height=this.Aj());return this.dt(g)}m3(g){this.wo(g)}*rC(){for(const g of this.g.Za.ax())for(const l of g.Tb){const n=
this.LI.get(l);n&&(yield n)}}yM(g){if(!this.eb().$j())return null;let l=this.LI.get(g);l||(l={name:g.wa(),kL:d.j(d.I.mP,this.cb),tC:0,tV:0},this.LI.set(g,l));return l.kL}Kba(){const g=this.eb();if(g.$j()&&0===this.Vf){this.Vf=g.Ch;this.ov=NaN;for(const l of this.rC())l.tC=NaN}}Qba(){this.cb&&this.cb.$j()&&this.Rba();this.nj&&this.nj.$j()&&this.Sba()}Rba(){if(isNaN(this.ov)&&(this.ov=this.wA.uM(this.Wm,this.Vf),!isNaN(this.ov))){if(this.g.qb)for(const g of this.rC())if(g.tC=g.kL.uM(this.Wm,this.Vf),
isNaN(g.tC))return;this.wA.TL(this.Vf);this.Mr=Math.min(this.ov,1);if(this.g.qb){for(const g of this.rC())g.kL.TL(this.Vf),g.tV=Math.min(g.tC,1);self.jg.B5(this.Mr,[...this.rC()])}this.Wm=this.Vf;this.Vf=0}}Sba(){if(0!==this.Vf){for(var g=this.Wm;g<this.Vf;++g){var l=this.qC.get(g);if(l&&!l.ly())return}l=this.g.Mb();g=d.L1(l.Tb.length+1);for(var n=this.Wm;n<this.Vf;++n){var p=this.qC.get(n);if(p){p=p.dy();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||
0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.Mr=d.da(g[0],0,1);if(this.g.qb){n=[];l=l.Tb;for(let q=0,u=Math.min(l.length,g.length-1);q<u;++q)n.push({name:l[q].wa(),tV:d.da(g[q+1],0,1)});self.jg.B5(this.Mr,n)}for(g=this.Wm;g<this.Vf;++g)this.qC.delete(g);this.Wm=this.Vf;this.Vf=0}}g6(g){this.qC.set(this.nj.Ch,g)}Tx(){return this.Mr}XO(g,l,n,p,q,u){this.RB=g;this.DJ=l;this.lU.ah(n,p,q,u);return this.jw?this.jw:this.jw=new Promise(w=>{this.mU=w})}C9(){if(this.RB){var g=this.Qi,l=this.lU,n=d.da(Math.floor(l.V),
0,g.width),p=d.da(Math.floor(l.O),0,g.height),q=l.width();q=0===q?g.width-n:d.da(Math.floor(q),0,g.width-n);l=l.height();l=0===l?g.height-p:d.da(Math.floor(l),0,g.height-p);(0!==n||0!==p||q!==g.width||l!==g.height)&&0<q&&0<l&&(g=d.eh(q,l),g.getContext("2d").drawImage(this.Qi,n,p,q,l,0,0,q,l));d.ox(g,this.RB,this.DJ).then(u=>{this.EJ=URL.createObjectURL(u);this.jw=null;this.mU(this.EJ)});this.RB="";this.DJ=1}}F0(g){this.cb&&(2===g?(this.uf=d.j(d.I.LE,this.eb()),this.uf.FO(),this.uf.ZE("Arial"),this.uf.$E(16),
this.uf.CO("center"),this.uf.WO("center"),this.uf.kd(300,200)):0===g?(g=this.g.Vr)&&g.It(this.cb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.s9().then(l=>{"done"===this.lj?this.cb.vj(l):this.wf.Vw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.KQ("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.lj?this.cb.vj(l):this.wf.Yw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.KQ("splash-images/splash-website-512.png").then(l=>
{"done"===this.lj?this.cb.vj(l):this.wf.dx=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async s9(){var g=(new URL("splash-images/splash-logo.svg",this.g.DD())).toString();g=await d.Pk(g);g=await this.g.j3(g);return await this.cb.rD(g,{Ww:"high"})}async KQ(g){g=(new URL(g,this.g.DD())).toString();g=await d.Pk(g);return await this.cb.rD(g,{Ww:"high"})}dE(){this.g.Tj("runtime","hide-cordova-splash")}i5(){this.Qv=Date.now();this.g.Rb().addEventListener("loadingprogress",this.SI);this.ne=
requestAnimationFrame(()=>this.UP());3!==this.g.Ur&&this.dE()}async bZ(){if(this.cb){this.cn=1;var g=this.g.Ur;4===g&&await this.rU;this.rU=this.GJ=null;-1!==this.ne&&(cancelAnimationFrame(this.ne),this.ne=-1);this.g.Rb().removeEventListener("loadingprogress",this.SI);this.SI=null;this.uf&&(this.uf.A(),this.uf=null);this.g.n3();this.cb.gu();this.wf.Vw&&(this.cb.vj(this.wf.Vw),this.wf.Vw=null);this.wf.Yw&&(this.cb.vj(this.wf.Yw),this.wf.Yw=null);this.wf.dx&&(this.cb.vj(this.wf.dx),this.wf.dx=null);
this.cb.Tn();this.cb.iq();this.lj="done";this.Wm=this.cb.Ch;3===g&&this.dE()}}UP(){if(-1!==this.ne){var g=this.cb;if(g){g.gu();this.ne=-1;var l=this.g.cd.YH,n=this.g.Ur;3!==n&&(this.d4(g),g.Tn(),g.Rt(),g.Zj(),g.Pf(null));if(0===n)this.D7(l);else if(1===n)this.gz(l,120,0);else if(2===n)this.C7(l);else if(3!==n)if(4===n)this.E7(l);else throw Error("invalid loader style");g.iq();this.ne=requestAnimationFrame(()=>this.UP())}}}C7(g){g?this.uf.tO(1,0,0):this.uf.tO(.6,.6,.6);this.uf.Uq(Math.round(100*this.cn)+
"%");g=this.Oc/2;const l=this.Ac/2;h.PV(g-150,l-100,g+150,l+100);this.cb.Pf(this.uf.Od());this.cb.Eq(h,this.uf.li())}gz(g,l,n){const p=this.cb;p.sO();g?p.df(1,0,0,1):p.df(.118,.565,1,1);g=this.Oc/2;const q=this.Ac/2,u=l/2;m.ah(g-u,q-4+n,Math.floor(l*this.cn),8);p.Rect(m);m.ah(g-u,q-4+n,l,8);m.offset(-.5,-.5);m.DC(.5,.5);p.df(0,0,0,1);p.qN(m);m.DC(1,1);p.df(1,1,1,1);p.qN(m)}D7(g){var l=this.g.Vr;if(l)if(l=l.Od()){var n=l.$(),p=l.X(),q=this.Oc/2,u=this.Ac/2,w=n/2;p/=2;h.PV(q-w,u-p,q+w,u+p);this.cb.Pf(l);
this.cb.td(h);this.gz(g,n,p+16)}else this.gz(g,120,0);else this.gz(g,120,0)}E7(g){const l=this.cb,n=this.wf.Vw,p=this.wf.Yw,q=this.wf.dx,u=Date.now();0===this.IJ&&(this.Qv=u);const w=this.g.yq()||this.g.Oca&&!this.g.f1(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.lj?y=Math.min((u-this.Qv)/300,1):"fade-out"===this.lj&&(y=Math.max(1-(u-this.HJ)/300,0));l.sO();l.df(.231*y,.251*y,.271*y,y);m.set(0,0,this.Oc,this.Ac);l.Rect(m);const A=Math.ceil(this.Oc),G=Math.ceil(this.Ac);let z;256<this.Ac?(l.df(.302*
y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ah(0,.8*G-z/2,A,z),l.Rect(m),g?l.df(y,0,0,y):l.df(.161*y,.953*y,.816*y,y),g=A*this.cn,m.ah(.5*A-g/2,.8*G-z/2,g,z),l.Rect(m),l.df(y,y,y,y),l.Zj(),p&&(g=1.5*d.da(.22*G,105,.6*A),z=g/8,m.ah(.5*A-g/2,.2*G-z/2,g,z),l.Pf(p),l.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.ah(.5*A-g/2,.485*G-z/2,g,z),l.Pf(n),l.Rect(m)),q&&(g=1.5*d.da(.22*G,105,.6*A),z=g/8,m.ah(.5*A-g/2,.868*G-z/2,g,z),l.Pf(q),l.Rect(m))):(l.df(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ah(0,.85*G-
z/2,A,z),l.Rect(m),g?l.df(y,0,0,y):l.df(.161*y,.953*y,.816*y,y),g=A*this.cn,m.ah(.5*A-g/2,.85*G-z/2,g,z),l.Rect(m),l.df(y,y,y,y),l.Zj(),n&&(z=g=.55*G,m.ah(.5*A-g/2,.45*G-z/2,g,z),l.Pf(n),l.Rect(m)));this.IJ++;"fade-in"===this.lj&&300<=u-this.Qv&&2<=this.IJ&&(this.lj="wait",this.sU=u);"wait"===this.lj&&u-this.sU>=v&&1<=this.cn&&(this.lj="fade-out",this.HJ=u);("fade-out"===this.lj&&u-this.HJ>=300+r||w&&1<=this.cn&&500>u-this.Qv)&&this.GJ()}}}
{"use strict";const d=self.B,a=self.jg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.mO=class extends d.ea{constructor(c){c=Object.assign({},b,c);super();this.Uv=c.messagePort;this.fca=c.baseUrl;this.ke=!!c.isInWorker;e=c.ife;this.Yi=c.exportType;this.pT=!!c.isiOSCordova;this.Oca=!!c.isFBInstantAvailable;this.ida=c.opusWasmScriptUrl;this.RT=c.opusWasmBinaryUrl;this.je=this.mca=this.qb=!("preview"!==this.Yi||!c.isDebug);this.yH=
0;this.Fz=[];this.Zba=[];this.qJ=this.ZT=this.HB="";this.Rg=this.Sg=0;this.Sm=self.devicePixelRatio;this.Ur=this.Re=this.gg=this.yB=this.xB=0;this.lC=!1;this.rk=!0;this.eK=this.iC=!1;this.Vr=null;this.cd=d.j(d.NW,this,c);this.Za=d.j(d.z1,this);this.ua=d.j(d.gZ,this);this.Fp=d.j(d.R2,this);this.Si=d.j(d.pX,this);this.Bb=d.j(d.q5,this);this.RJ=d.j(d.u5,this);this.Mc=[];this.fJ=new Map;this.gJ=new Map;this.CS=0;this.aca=[];this.VG=[];this.bv=[];this.Dl=[];this.HA=new Map;this.yA=!1;this.Xv=this.hJ=0;
this.np=new Map;this.op=new Set;this.IA=new Set;this.vB=[];this.rT=[];this.L=null;this.am=!1;this.tA="vsync";this.tr="standard";this.nd="trilinear";this.Fl=!1;this.cJ=!0;this.zI=this.UT=!1;this.Vm=null;this.xda={yV:h=>{this.Tl=this.ne=-1;this.gf(h)},qfa:h=>{this.Tl=-1;this.gf(h,!1,"skip-render")},afa:()=>{this.ne=-1;this.zo()}};this.Tl=this.ne=-1;this.Hr=this.Ak=0;this.WS=this.QA=this.zA=!1;this.vI=!0;this.ms=0;this.nda=()=>Math.random();this.jv=this.Er=this.hB=this.pn=0;this.Yd=1;this.MT=30;this.TH=
d.j(d.yy);this.UH=d.j(d.yy);this.gK=d.j(d.yy);this.sA=-1;this.qB=this.Jl=this.rA=this.ip=0;this.Fh=!1;this.Pv=this.dw="";this.Tr=null;this.yp="";this.zJ=this.pJ=null;this.Ob=d.j(d.Event.Rb);this.CH=new Map;this.mJ=new Map;this.eda=0;this.nT=this.uS=this.vS=!1;this.fK=[];this.fp={pretick:d.j(d.Event,"pretick",!1),tick:d.j(d.Event,"tick",!1),tick2:d.j(d.Event,"tick2",!1),instancedestroy:d.j(d.Event,"instancedestroy",!1),beforelayoutchange:d.j(d.Event,"beforelayoutchange",!1),layoutchange:d.j(d.Event,
"layoutchange",!1)};this.fp.instancedestroy.instance=null;this.Zd=d.j(d.Event.Rb);this.HU=null;this.Om=d.j(d.vo,d.jx.pF);this.Vo=d.j(d.vo,d.jx.pF);this.Wo=d.j(d.vo,d.jx.pF);this.Jv=d.j(d.v1,this,c.jobScheduler);c.canvas&&(this.L=d.j(d.jD,this));this.Uv.onmessage=h=>this._OnMessageFromDOM(h.data);this.bi("runtime","visibilitychange",h=>this.q$(h));this.bi("runtime","opus-decode",h=>this.Vba(h.arrayBuffer));this.bi("runtime","get-remote-preview-status-info",()=>this.r8());this.bi("runtime","js-invoke-function",
h=>this.mz(h));this.bi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Ob.addEventListener("window-blur",h=>this.r$(h));this.Ob.addEventListener("window-focus",()=>this.s$());this.Bb.zW();this.bj=null;this.Kca=new WeakMap;this.Zz={keyboard:null,wV:null,mL:null}}static La(c){return d.j(d.mO,c)}A(){d.D(this.Mc);this.fJ.clear();this.gJ.clear();this.Za.A();this.Za=null;this.ua.A();this.ua=null;this.Fp.A();this.Fp=null;this.cd.A();this.cd=null;this.Si.A();this.Si=null;this.Bb.A();this.Bb=
null;this.RJ.A();this.RJ=null;this.L&&(this.L.A(),this.L=null);this.Ob.A();this.Ob=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.WQ(c);else if("result"===h)this.k$(c);else throw Error(`unknown message '${h}'`);}WQ(c){if(this.nT){var h=c.component,m=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new d.Event(m),c.data=g,this.Ob.bea(c)),l)){c=new d.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=
u;this.fh(c)}if(c=this.CH.get(h))if(c=c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.pz(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.pz(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.pz(p,!1,""+q)}):this.pz(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.fK.push(c)}pz(c,
h,m){this.Uv.postMessage({type:"result",responseId:c,isOk:h,result:m})}k$(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.mJ.get(h);m?g.resolve(c):g.reject(c);this.mJ.delete(h)}bi(c,h,m){let g=this.CH.get(c);g||(g=new Map,this.CH.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}Tj(c,h,m){this.Uv.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}to(c,h,m){const g=this.eda++,l=new Promise((n,p)=>{this.mJ.set(g,{resolve:n,
reject:p})});this.Uv.postMessage({type:"event",component:c,handler:h,data:m,responseId:g});return l}W2(){if(!this.qb)throw Error("not in debug mode");this.Tj("runtime","post-to-debugger",{type:"reload"})}async bl(c){this.qb?await a.bl(this):self.jg&&self.jg.iia(this);var [h]=await Promise.all([this.cd.cM("data.json"),this.B9(),this.Jv.bl()]);this.e9(h);await this.O8(c);this.yq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.jo()?(h=this.jo(),console.info(`[C3 runtime] Hosted in ${this.ke?
"worker":"DOM"}, rendering with WebGL ${h.Wc} [${h.Bw}] (${h.g1()?"desynchronized":"standard"} compositing)`)):this.Bt()&&console.info(`[C3 runtime] Hosted in ${this.ke?"worker":"DOM"}, rendering with experimental WebGPU`);this.eb().ZH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.nT=!0;for(const m of this.fK)this.WQ(m);d.D(this.fK);this.L&&this.L.i5();for(const m of c.runOnStartupFunctions)this.Fz.push(this.faa(m));
await Promise.all([this.cd.kP(),...this.Fz]);d.D(this.Fz);if(this.cd.YH)this.L&&this.L.dE();else return this.L&&await this.L.bZ(),await this.Ob.AK(new d.Event("beforeruntimestart")),await this.gu(),this.Uv.postMessage({type:"runtime-ready"}),this}async faa(c){try{await c(this.bj)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}e9(c){c=c.project;this.HB=c[0];this.ZT=c[16];this.qJ=c[31];const h=c[39]||"loading-logo.png";this.Fl=!!c[9];this.Sg=this.gg=c[10];this.Rg=this.Re=
c[11];this.xB=this.Sg/2;this.yB=this.Rg/2;this.tr=c[36];this.tA=c[37];"low-latency"===this.tr&&this.$0()&&77>=d.Kc.eD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.tr="standard");this.am=!!c[40];this.nd=c[14];this.iC=c[15];this.eK=c[17];this.lC=!!c[18];this.Ur=c[19];this.Xv=c[21];this.UT=c[22];const m=this.cd;m.Iaa(c[7]);m.Xaa(c[32]);m.bba(c[28]);
m.pba(c[29]);if(0===this.Ur){let u="";this.yq()?m.aG(h)&&(u=m.zM(h)):u=m.XS+h;u&&(this.Vr=m.Cy({url:u}))}this.L&&(this.L.zO(d.jD.bQ(c[12])),this.L.AO(c[23]?"high":"low"),this.L.dF(0!==c[24]),this.L.Yaa(c[34]),this.L.nba(c[41]),this.L.qba(c[13]),this.L.sba(c[30]),this.L.Saa(c[26]));this.Fp.JX();this.vB=self.xL();for(var g of c[2])this.Fp.HX(g);this.vB=self.xL();this.l9();for(var l of c[3])g=d.BE.La(this,this.Mc.length,l),this.Mc.push(g),this.fJ.set(g.wa().toLowerCase(),g),this.gJ.set(g.fb,g);for(const u of c[4])this.Mc[u[0]].h9(u);
for(var n of c[27])l=n.map(u=>this.Mc[u]),this.aca.push(d.j(d.vX,this,l));for(const u of this.Mc)u.L9();for(const u of c[5])this.Za.La(u);(n=c[1])&&(n=this.Za.lq(n))&&this.Za.m4(n);for(var p of c[33])this.Bb.La(p);for(var q of c[35])this.RJ.La(q);this.L8();for(const u of c[6])this.ua.La(u);this.ua.Kb();this.H8();d.D(this.vB);this.yd();p="any";q=c[20];1===q?p="portrait":2===q&&(p="landscape");this.Tj("runtime","set-target-orientation",{targetOrientation:p});if(c=c[42])this.Vm=new self.wga(this,c),
this.tA="unlimited-frame",this.L.zO("off"),this.Sm=1,self.devicePixelRatio=1,this.Tj("runtime","set-exporting-to-video",{message:this.Vm.Kha(0)})}um(){return null!==this.Vm}MZ(){return this.Vm.Mha()}G8(){return this.Vm.bl({width:this.L.Hg,height:this.L.Gg})}M7(){return this.Vm.Vfa(this.L.Qi,this.Uk())}N7(){this.Vm.iq()}vW(c){this.Fz.push(c)}m8(){return this.CS++}X5(c){this.VG.push(c)}async O8(c){this.L&&(await this.L.eh(c),this.L.F0(this.Ur))}async B9(){if(!this.cd.a1()){var c=null;try{c=this.pT&&
this.cd.Dv?await this.cd.LL(this.RT):await this.cd.Zs(this.RT)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.sW(c):this.rW();await this.tW([this.ida])}}async Vba(c){return await this.YC("OpusDecode",{arrayBuffer:c},[c])}async gu(){this.zA=!0;this.pn=Date.now();if(this.lC){for(var c of this.Mc)c.Va||c.yI||!c.rf||c.zd();this.cd.kP().then(()=>{this.rk=!1;this.ZQ()})}else this.rk=!1;this.cd.s4();this.qb&&a.Rla(e);for(const h of this.Za.Ni)h.D6();
this.um()&&await this.G8();c=this.Za.UZ();await c.dG(null,this.eb());await c.PR(!0);this.ip=performance.now();this.lC||this.ZQ();(await this.to("runtime","before-start-ticking")).isSuspended&&!this.um()?this.ms++:this.gf()}ZQ(){this.Ca(d.C.Ya.N.u2,null,null);this.Tj("runtime","register-sw")}jh(c){c=Math.floor(c);const h=this.vB;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}l9(){for(const c of self.XW){const h=d.first(Object.keys(c));this.rT.push(h)}}ii(c){c=Math.floor(c);
const h=this.rT;if(0>c||c>=h.length)throw Error("invalid prop reference");return h[c]}DD(){return this.fca}ga(){return this.ua}ad(){return this.ua.ad()}Ve(){return this.ua.Ve()}Cb(){return this.ua.Cb()}Ef(){return this.ua.Ef()}cN(){return 0===this.Ve().ul}jt(){return this.ua.jt()}xt(){return this.Fp.xt()}Ye(c){c=Math.floor(c);if(0>c||c>=this.Mc.length)throw new RangeError("invalid index");return this.Mc[c]}Xx(c){return this.fJ.get(c.toLowerCase())||null}Yx(c){return this.gJ.get(c)||null}*Dda(){for(const c of this.Mc)c.Va||
(yield*c.nV())}Rb(){return this.Ob}fh(c){c.Cf=this.bj;const h=this.qb&&!this.ua.Ht();h&&a.rF();this.Zd.dispatchEvent(c);h&&a.$C()}Xn(c){c.Cf=this.bj;return this.Zd.AK(c)}A4(c,h){if(this.Sg!==c||this.Rg!==h)this.Sg=c,this.Rg=h,c=this.Za,c.Co(),c.Bo()}fu(c,h){if(this.gg!==c||this.Re!==h)this.gg=c,this.Re=h,c=this.Za,c.Co(),c.Bo()}Oaa(c){this.um()||(this.Sm=c)}Qk(){return this.Sm}Bj(){return this.L?this.L.Bj():this.gg}Aj(){return this.L?this.L.Aj():this.Re}oq(){return this.L?this.L.oq():1}zj(){return this.L?
this.L.zj():1}nt(){return this.L?this.L.nt():1}mt(){return this.L?this.L.mt():1}ht(){return this.L?this.L.ht():0}it(){return this.L?this.L.it():0}BZ(){return this.L?this.L.Oc:0}AZ(){return this.L?this.L.Ac:0}Rx(){return this.L?this.L.Rx():"off"}dt(c){return this.L?this.L.dt(c):null}wo(c){this.L&&this.L.wo(c)}Tx(){return this.L?this.L.Tx():NaN}tE(){return"nearest"!==this.nd}n3(){this.Vr&&(this.Vr.A(),this.Vr=null)}Mb(){return this.Za.Mb()}Cy(c){return this.cd.Cy(c)}oD(c,h,m,g,l){return this.ei(c,h,
!1,m,g,!1,l,void 0,l)}ei(c,h,m,g,l,n,p,q,u){var w=null;let r=null;c instanceof d.BE?(r=c,r.Va&&(w=r.gp,r=w[Math.floor(this.Fq()*w.length)]),w=r.Ar):(w=c,r=this.Ye(w[1]));c=r.sb().rf;if(this.rk&&c&&!r.yI)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.np.has(w[2])?w[2]:this.Xv++;const A=w?w[0]:null,G=d.j(d.Instance,{Cf:this,UK:r,uV:h,eW:A,mV:w?w[3]:null,uid:y});this.np.set(y,G);y=null;c&&(y=G.m(),"undefined"!==typeof g&&"undefined"!==typeof l&&(y.oh(g),y.Gi(l)),r.wR());h&&(u||h.Bg(G,!0),1===
h.Td&&1===h.Ud||r.wG(!0),h.Yb().xN(r));this.hJ++;let z=!0;q&&(q=q.H(),q.Sb()&&r.Sb()&&r.Ig===q.Ig&&(z=!1));if(r.Sb()&&!m&&!n&&z){for(var F of r.Ig.Pl)F!==r&&(q=this.ei(F,v,!1,y?y.oa():g,y?y.pa():l,!0,!1,void 0,u),G.Xq(q));for(var H of G.vd){H.Xq(G);for(const J of G.vd)H!==J&&H.Xq(J)}}c&&!m&&p&&this.GF(G,A,y,h,g,l,u);if(r.Sb()&&!m&&!n&&p)for(const J of G.vd)if(m=J.m())F=J.sb(),H=J.H().Ar[0],F.rf?this.GF(J,H,m,h,m.oa(),m.pa(),u):this.GF(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===typeof g&&(g=A[0]),
"undefined"===typeof l&&(l=A[1]),h=y.gy(),g=g-y.oa()+h.oa(),l=l-y.pa()+h.pa(),h.Hm(g,l));r.Cu();l=w?d.wK(w[5]):null;w=w?w[4].map(J=>d.wK(J)):null;c&&A&&A[13]&&G.aba();G.dz(l,w);this.Dl.push(G);this.yA=!0;this.qb&&a.jia(G);return G}GF(c,h,m,g,l,n,p){var q=m.B_(),u=m.EM();c.m().fF(q);if(u){"undefined"===typeof l&&(l=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.Za.PD(A[0]).ba(w).b_(r);w=this.Ye(r[1]);var y=
c.Z_(w);const z=q.has(w);y&&!z&&v?(v=c.KM(w),y=l+r[0][0]-m,r=n+r[0][1]-h,v.m().Hm(y,r),v.m().fF(G),c.mm(v,{Rs:!!(u>>0&1),Ss:!!(u>>1&1),Zp:!!(u>>2&1),Yp:!!(u>>3&1),Qs:!!(u>>4&1),Kw:!!(u>>5&1),Ts:!!(u>>6&1)}),q.add(w)):(w=this.ei(r,g,!1,l+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.m().fF(G),c.mm(w,{Rs:!!(u>>0&1),Ss:!!(u>>1&1),Zp:!!(u>>2&1),Yp:!!(u>>3&1),Qs:!!(u>>4&1),Kw:!!(u>>5&1),Ts:!!(u>>6&1)}))}}}Wn(c){if(!this.op.has(c)){var h=c.H(),m=this.HA.get(h);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),
this.HA.set(h,m);this.qb&&a.kia(c);c.hG();this.yA=!0;if(c.Sb())for(const g of c.vd)this.Wn(g);for(const g of c.children())g.Ox()&&this.Wn(g);this.Za.fN()||this.Fh||(h=this.ga(),h.se(!0),c.Gba(),h.se(!1));c.T7(this.Za.fN())}}yd(){this.yA&&(this.V7(),this.W7(),this.yA=!1,this.aa())}V7(){for(const c of this.Dl){const h=c.H();h.Bg(c);for(const m of h.Bh)m.Bg(c),m.Cu()}d.D(this.Dl)}W7(){this.Ob.Lq(!0);for(const [c,h]of this.HA.entries())this.X7(c,h),h.clear();this.HA.clear();this.Ob.Lq(!1)}X7(c,h){for(const g of h){var m=
this.fp.instancedestroy;m.instance=g;this.Ob.dispatchEvent(m);this.np.delete(g.Vc);if(m=g.m())m.hR(),m.iR(),m.hG();this.op.add(g);this.hJ--}d.hg(c.ja(),h);c.Cu();this.IA.add(c);0===c.ja().length&&c.wG(!1);for(const g of c.Bh)d.hg(g.ja(),h),g.Cu(),this.IA.add(g);if(c.sb().rf){c=new Set([...h].map(g=>g.m().ba()));for(const g of c)g.L$(h)}}*HK(c){for(const h of this.Dl)c.Va?h.H().dD(c)&&(yield h):h.H()===c&&(yield h)}l8(){return this.Xv++}y9(c,h){this.np.set(c,h)}Au(){this.Ob.dispatchEvent(d.j(d.Event,
"webglcontextlost"));this.eu(!0);for(var c of this.Mc)!c.Va&&c.X_()&&c.xo();(c=this.Mb())&&c.Au();d.oy.Dq();d.XM.Dq()}async nG(){await this.Mb().dG(null,this.jo());this.Ob.dispatchEvent(d.j(d.Event,"webglcontextrestored"));this.eu(!1);this.aa()}q$(c){this.eu(c.hidden)}r$(c){this.yq()&&this.UT&&!d.Kc.wE&&!c.data.parentHasFocus&&(this.eu(!0),this.zI=!0)}s$(){this.zI&&(this.eu(!1),this.zI=!1)}jR(){const c=this.xda;"vsync"===this.tA?-1===this.ne&&(this.ne=self.requestAnimationFrame(c.yV)):"unlimited-tick"===
this.tA?(-1===this.Tl&&(this.Tl=d.NE(c.qfa)),-1===this.ne&&(this.ne=self.requestAnimationFrame(c.afa))):-1===this.Tl&&(this.Tl=d.NE(c.yV))}r6(){-1!==this.ne&&(self.cancelAnimationFrame(this.ne),this.ne=-1);-1!==this.Tl&&(d.dX(this.Tl),this.Tl=-1)}zm(){return 0<this.ms}eu(c){if(!this.um()){var h=this.zm();this.ms+=c?1:-1;0>this.ms&&(this.ms=0);c=this.zm();!h&&c?(console.log("[Construct 3] Suspending"),this.r6(),this.Ob.dispatchEvent(d.j(d.Event,"suspend")),this.Ca(d.C.Ya.N.I2,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),
this.ip=this.hB=h=performance.now(),this.Jl=this.qB=this.rA=this.sA=0,this.Ob.dispatchEvent(d.j(d.Event,"resume")),this.Ca(d.C.Ya.N.F2,null,null),this.Dt()||this.gf(h))}}U5(c){this.Om.Ic(c)}N$(c){this.Om.kh(c)}M$(c){this.Vo.kh(c)}O$(c){this.Wo.kh(c)}i6(){this.Om.mh(!0);for(const c of this.Om)c.gf();this.Om.mh(!1)}h6(){this.Vo.mh(!0);for(const c of this.Vo);this.Vo.mh(!1)}j6(){this.Wo.mh(!0);for(const c of this.Wo);this.Wo.mh(!1)}*N6(){this.Om.mh(!0);for(const c of this.Om){const h=c.gf();d.xm(h)&&
(yield*h)}this.Om.mh(!1)}*M6(){this.Vo.mh(!0);for(const c of this.Vo)d.xm(void 0)&&(yield*void 0);this.Vo.mh(!1)}*O6(){this.Wo.mh(!0);for(const c of this.Wo)d.xm(void 0)&&(yield*void 0);this.Wo.mh(!1)}async gf(c,h,m){this.WS=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;if(this.zA&&(!this.zm()||h||g)){h=performance.now();this.QA=!0;this.E9(c||0);c=this.k5();this.je&&await c;c=this.Ob.cea(this.fp.pretick);c instanceof Promise&&await c;c=this.j5();this.je&&await c;this.J9()&&
await this.z8();this.Za.xq()&&await this.A9();c=this.l5();this.je&&await c;m&&this.zo();if(this.um()&&(await this.M7(),this.Uk()>=this.Vm.fA)){this.N7();return}this.zm()||g||this.jR();this.Ak++;this.Hr++;this.QA=!1;this.Jl+=performance.now()-h}}async k5(){const c=this.ua,h=this.qb;this.yd();c.se(!0);this.Ot(this.Mb());h&&a.Wq();this.je?await c.PX():c.N3();h&&a.qW();this.Nt();c.se(!1);this.yd();c.se(!0)}async j5(){const c=this.qb,h=this.je,m=this.Ob,g=this.fp,l=this.HU;c&&a.Wq();h?await this.Ax(this.N6()):
this.i6();h?await this.Ax(this.M6()):this.h6();c&&a.lW();c&&a.Wq();h?await this.RL(g.tick):m.dispatchEvent(g.tick);c&&a.wW();this.ua.se(!1);this.fh(l.tick)}async l5(){const c=this.ua,h=this.Ob,m=this.fp,g=this.qb,l=this.je;g&&a.Wq();l?await c.NX(this.Za):c.L3(this.Za);g&&a.qW();this.Si.DL();this.fR();this.vI=!1;c.se(!0);g&&a.Wq();l?await this.Ax(this.O6()):this.j6();g&&a.lW();g&&a.Wq();l?await this.RL(m.tick2):h.dispatchEvent(m.tick2);g&&a.wW();c.se(!1);l&&await c.lO()}fR(){if(0!==this.op.size){var c=
this.Ob;c.Lq(!0);for(const h of this.IA)h.nn.yo(this.op);this.IA.clear();this.ua.r3(this.op);for(const h of this.op)h.A();this.op.clear();c.Lq(!1)}}async A9(){const c=this.Za;let h=0;for(;c.xq()&&10>h++;)await this.OP(c.$v)}E9(c){let h=0;this.um()?this.Er=h=1/this.MZ():0!==this.hB&&(h=Math.max(c-this.hB,0)/1E3,.5<h&&(h=0),this.Er=Math.min(h,1/this.MT));this.hB=c;this.jv=this.Er*this.Yd;this.TH.Ic(this.jv);this.UH.Ic(h*this.Yd);this.gK.Ic(this.Er);this.L&&this.L.Qba();1E3<=c-this.ip&&(this.ip+=1E3,
1E3<=c-this.ip&&(this.ip=c),this.rA=this.sA,this.sA=0,this.qB=Math.min(this.Jl/1E3,1),this.Jl=0,this.L&&this.L.Kba(),this.qb&&a.eoa());this.sA++}async OP(c){const h=this.Ob,m=this.Za.Mb();await m.Bba();m.Jba(c,this.eb());m===c&&this.ua.rx();this.Si.DL();this.fR();h.dispatchEvent(this.fp.beforelayoutchange);d.Pn.BO(!0);await c.dG(m,this.eb());d.Pn.BO(!1);await c.PR(!1);h.dispatchEvent(this.fp.layoutchange);this.aa();this.vI=!0;this.yd()}aa(){this.cJ=!0}jo(){return this.L?this.L.jo():null}Bt(){return this.L?
this.L.Bt():null}eb(){return this.L?this.L.eb():null}zo(){const c=this.L;if(c&&!c.n1()){var h=this.eb(),m=h.$j(),g=m&&h.ri();m=m&&!1;g&&h.gX();if(this.cJ||this.um()){var l=this.Za.Mb();h.gu();var n=this.qb;n&&a.Wq();this.cJ=!1;var p=null;g&&(p=c.wA.aD(),h.sF(p));g=null;m&&(g=h.sna(2*(1+l.Tb.length)),h.O5(0));this.am&&"low"===c.Dh?h.n4(c.Bj(),c.Aj()):h.X3();this.U$(this.eb(),l);p&&h.vD(p);m&&(h.O5(1),this.L.g6(g));h.iq();n&&(a.Ufa(),a.foa());c&&c.C9()}else h.t0()}}U$(c,h){c.Zj();c.qO();c.df(1,1,1,
1);c.yg(null);c.Pf(null);c.xg(this.am);h.mg(c)}Ca(c,h,m){if(!this.zA)return!1;var g=!this.QA&&!this.ua.sE();let l=0;g&&(l=performance.now());const n=this.qb;n&&this.Py(!1);c=this.ua.Hu(this.Za,c,h,m);g&&(g=performance.now()-l,this.Jl+=g,n&&a.Yfa(g));n&&this.Py(!0);return c}async ld(c,h,m){if(!this.je)return this.Ca(c,h,m);if(!this.zA)return!1;if(this.Dt())return this.ua.i3(c,h,m);if(!this.Mb())return this.ua.JE(c,h,m);const g=performance.now();c=this.ua.mu(this.Za,c,h,m);for(h=c.next();!h.done;)await this.fq(h.value),
h=c.next();this.zm()||this.ua.sE()||(await this.ua.lO(),this.WS&&!this.QA&&this.jR());this.Jl+=performance.now()-g;return h.value}Ot(c){this.bv.push(c)}Nt(){if(!this.bv.length)throw Error("layout stack empty");this.bv.pop()}Ha(){return this.bv.length?this.bv.$d(-1):this.Mb()}HD(c){return c&&-1!==c.Yd?this.Er*c.Yd:this.jv}jF(c){if(isNaN(c)||0>c)c=0;this.Yd=c}LO(c){this.MT=d.da(c,1,120)}Uk(){return this.TH.Y()}YZ(){return this.UH.Y()}YD(){return this.gK.Y()}al(){++this.Hr}Dj(c){if(this.Fh)throw Error("cannot call while loading state - wait until afterload event");
return this.np.get(c)||null}dR(){this.np.clear();for(const c of this.Mc)if(!c.Va)for(const h of c.ja())this.np.set(h.Vc,h)}yq(){return"preview"===this.Yi}f1(){return"cordova"===this.Yi}$0(){return"Android"===d.Kc.Cq&&("cordova"===this.Yi||"playable-ad"===this.Yi||"instant-games"===this.Yi)}Ff(){return this.eb().Ff(this.Re)}D4(c){c=!!c;this.Fl!==c&&(this.Fl=c,this.Za.Bo(),this.aa())}R3(c){this.dw=c}F1(c){this.Pv=c}AE(c){this.Tr=c}J9(){return!(!this.dw&&!this.Pv&&null===this.Tr)}async z8(){this.dw&&
(this.yd(),await this.q7(this.dw),this.EF());this.Pv&&(await this.p7(this.Pv),this.EF(),this.qb&&a.una());if(null!==this.Tr){this.yd();try{await this.PP(this.Tr),this.yp=this.Tr,await this.ld(d.C.Ya.N.GN,null),this.yp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.ld(d.C.Ya.N.HN,null)}this.EF()}}EF(){this.Pv=this.dw="";this.Tr=null}q8(){this.pJ||(this.pJ=localforage.xK({name:"c3-localstorage-"+this.qJ,description:this.HB}));return this.pJ}qQ(){this.zJ||
(this.zJ=localforage.xK({name:"c3-savegames-"+this.qJ,description:this.HB}));return this.zJ}async q7(c){const h=await this.zaa();try{await this.qQ().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.yp=h,await this.ld(d.C.Ya.N.G2,null),this.yp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.ld(d.C.Ya.N.H2,null)}}async p7(c){try{const h=await this.qQ().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
h.length+" chars)");await this.PP(h);this.yp=h;await this.ld(d.C.Ya.N.GN,null);this.yp=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.ld(d.C.Ya.N.HN,null)}}async zaa(){const c={c3save:!0,version:1,rt:{time:this.Uk(),timeRaw:this.YZ(),walltime:this.YD(),timescale:this.Yd,tickcount:this.Ak,execcount:this.Hr,next_uid:this.Xv,running_layout:this.Mb().fb,start_time_offset:Date.now()-this.pn},types:{},layouts:{},events:this.ua.fa(),timelines:this.Bb.fa(),user_script_data:null};
for(var h of this.Mc)h.Va||h.SM()||(c.types[h.fb.toString()]=h.fa());for(const m of this.Za.Ni)c.layouts[m.fb.toString()]=m.fa();h=this.JF("save");h.saveData=null;await this.Xn(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async PP(c){var h=this.Za;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Ob.dispatchEvent(d.j(d.Event,"beforeload"));
for(var m of this.Dda())m.nz();this.Fh=!0;m=c.rt;this.TH.Set(m.time);m.hasOwnProperty("timeRaw")&&this.UH.Set(m.timeRaw);this.gK.Set(m.walltime);this.Yd=m.timescale;this.Ak=m.tickcount;this.Hr=m.execcount;this.pn=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Mb().fb)if(g=h.PD(g))await this.OP(g);else return;for(const [l,n]of Object.entries(c.types))g=this.Yx(parseInt(l,10)),!g||g.Va||g.SM()||g.la(n);this.yd();this.dR();this.Fh=!1;this.Xv=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=
h.PD(parseInt(l,10)))&&m.la(n);this.ua.la(c.events);for(const l of this.Mc)if(!l.Va&&l.Sb())for(const n of l.ja()){m=n.$n();for(const p of l.Ig.Pl)if(p!==l){g=p.ja();if(0>m||m>=g.length)throw Error("missing sibling instance");n.Xq(g[m])}}this.Bb.la(c.timelines);h.Co();h.Bo();this.Ob.dispatchEvent(d.j(d.Event,"afterload"));h=this.JF("load");h.saveData=c.user_script_data;await this.Xn(h);this.aa()}async tW(c){c=(await Promise.all(c.map(h=>this.cd.Pk(h)))).map(h=>URL.createObjectURL(h));this.Jv.s0(c)}rW(){this.Jv.T3()}sW(c){this.Jv.U3(c)}YC(c,
h,m){return this.Jv.YC(c,h,m)}jE(c,h){this.Tj("runtime","invoke-download",{url:c,filename:h})}async j3(c){var h=h||2048;var m=m||2048;return this.ke?(await this.to("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,h,m)}Hq(){this.vS||(this.vS=!0,this.Tj("runtime","enable-device-orientation"))}Cm(){this.uS||(this.uS=!0,this.Tj("runtime","enable-device-motion"))}Fq(){return this.nda()}r8(){const c=
this.jo();return{fps:this.rA,cpu:this.qB,gpu:this.Tx(),layout:this.Mb()?this.Mb().wa():"",renderer:c?c.Bw:"<unavailable>"}}Dt(){return this.qb?a.Dt():!1}fq(c){return this.je?a.fq(c):Promise.resolve()}nc(){return this.je?a.uga():!1}Py(c){c?this.yH--:this.yH++;this.Mba()}Mba(){this.je=this.qb&&this.mca&&0===this.yH}lE(){return this.qb&&a.lE()}pE(){return this.qb&&this.eb().$j()&&a.pE()}async Ax(c){if(c)for(const h of c)await this.fq(h)}RL(c){return this.Ax(this.Ob.dea(c))}mz(c){return this.ua.mz(c.name,
c.params)}JF(c){c=d.j(d.Event,c,!1);c.Cf=this.bj;return c}L8(){var c={};for(const h of this.Mc)c[h.ii()]={value:h.vv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.bj=new self.k0(this,c);this.HU={tick:this.JF("tick")}}H8(){const c={};for(const h of this.ga().WG)c[h.ii()]=h.rQ();this.bj.I8(c)}LQ(c,h){this.Kca.set(c,h)}};self.C3_CreateRuntime=d.mO.La;self.C3_InitRuntime=(c,h)=>c.bl(h)}
{"use strict";const d=self.B;d.v1=class extends d.ea{constructor(a,b){super();this.g=a;this.vp=new Map;this.gda=0;this.yv=b.inputPort;b.outputPort.onmessage=e=>this.YQ(e);this.FT=b.maxNumWorkers;this.Kv=1;this.PS=this.Cv=!1}async bl(){}s0(a){this.yv.postMessage({type:"_import_scripts",scripts:a})}T3(){this.yv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}U3(a){this.yv.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}YC(a,b,e){e||(e=[]);const c=this.gda++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((h,m)=>{this.vp.set(c,{resolve:h,progress:void 0,reject:m,vK:!1})});this.yv.postMessage(a,e);this.MQ();return b}YQ(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.e$(e,a.result);break;case "progress":this.d$(e,a.progress);break;case "error":this.c$(e,a.error);break;case "ready":this.f$();break;default:throw Error(`unknown message from worker '${b}'`);}}e$(a,b){const e=this.vp.get(a);if(!e)throw Error("invalid job ID");
e.vK||e.resolve(b);this.vp.delete(a)}d$(a,b){a=this.vp.get(a);if(!a)throw Error("invalid job ID");!a.vK&&a.progress&&a.progress(b)}c$(a,b){const e=this.vp.get(a);if(!e)throw Error("invalid job ID");e.vK||e.reject(b);this.vp.delete(a)}f$(){this.Cv&&(this.Cv=!1,this.Kv++,this.Kv<this.FT?this.MQ():this.yv.postMessage({type:"_no_more_workers"}))}async MQ(){if(!(this.Kv>=this.FT||this.Cv||this.PS||this.vp.size<=this.Kv))try{this.Cv=!0,(await this.g.to("runtime","create-job-worker")).outputPort.onmessage=
a=>this.YQ(a)}catch(a){this.PS=!0,this.Cv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Kv} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let a=null,b="",e="",c=[],h="",m="",g="";const l=d.j(d.KW);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.C.Ya=class extends d.Iq{constructor(p){super(p);this.tf=this.g.ga().tf;this.Ed=this.g.ga().ad();this.wv=this.lp=0;this.JS=new Map}A(){super.A()}aa(){this.g.aa()}Ca(p){this.g.Ca(p,null,null)}cy(p,q){a&&p===b&&q===e||(a=new RegExp(p,q),b=p,e=q);a.lastIndex=0;return a}DM(p,q,u){if(p===h&&q===
m&&u===g)return c;const w=this.cy(q,u);c=p.match(w);h=p;m=q;g=u;return c}async fG(p,q){if(q.length){this.lp+=q.length;var u=[];for(const w of q)u.push(p.xN(w));await d.b3(u,()=>{this.wv++});this.wv++;this.wv===this.lp&&(this.g.Ca(d.C.Ya.N.s2,null,null),this.lp=this.wv=0)}}SR(p,q){for(const u of q)0===u.F.length&&p.Q1(u)}jQ(){return l}W$(p){var q=this.g.ga();const u=q.ad(),w=u.We(),r=w.Cb(),v=r.qd();var y=w.Qj();const A=u.Na(r),G=q.tf,z=G.Na();if(y)for(y=0;y<p&&!z.qc;++y)q.Ce(v),z.xc(y),r.vg(w,A),
q.Jb(v);else for(q=0;q<p&&!z.qc;++q)z.xc(q),r.vg(w,A);u.Ia();G.Ia();return!1}*U6(p){var q=this.g.ga();const u=q.ad(),w=u.We(),r=w.Cb(),v=r.qd();var y=w.Qj();const A=u.Na(r),G=q.tf,z=G.Na();if(y)for(y=0;y<p&&!z.qc;++y)q.Ce(v),z.xc(y),yield*r.lg(w,A),q.Jb(v);else for(q=0;q<p&&!z.qc;++q)z.xc(q),yield*r.lg(w,A);u.Ia();G.Ia();return!1}Wba(){var p=this.g.ga();const q=p.ad(),u=q.We(),w=u.Cb(),r=w.qd();var v=u.Qj();const y=q.Na(w),A=p.tf,G=A.Na();if(v)for(v=0;!G.qc;++v)p.Ce(r),G.xc(v),w.vg(u,y)||G.ff(),p.Jb(r);
else for(p=0;!G.qc;++p)G.xc(p),w.vg(u,y)||G.ff();q.Ia();A.Ia();return!1}*n7(){var p=this.g.ga();const q=p.ad(),u=q.We(),w=u.Cb(),r=w.qd();var v=u.Qj();const y=q.Na(w),A=p.tf,G=A.Na();if(v)for(v=0;!G.qc;++v)p.Ce(r),G.xc(v),(yield*w.lg(u,y))||G.ff(),p.Jb(r);else for(p=0;!G.qc;++p)G.xc(p),(yield*w.lg(u,y))||G.ff();q.Ia();A.Ia();return!1}Y7(p,q,u){var w=this.g.ga();const r=w.ad(),v=r.We(),y=v.Cb(),A=y.qd(),G=v.Qj(),z=r.Na(y),F=w.tf,H=F.Na();H.Ty(p);if(u<q)if(G)for(p=q;p>=u&&!H.qc;--p)w.Ce(A),H.xc(p),
y.vg(v,z),w.Jb(A);else for(w=q;w>=u&&!H.qc;--w)H.xc(w),y.vg(v,z);else if(G)for(p=q;p<=u&&!H.qc;++p)w.Ce(A),H.xc(p),y.vg(v,z),w.Jb(A);else for(w=q;w<=u&&!H.qc;++w)H.xc(w),y.vg(v,z);r.Ia();F.Ia();return!1}*R6(p,q,u){var w=this.g.ga();const r=w.ad(),v=r.We(),y=v.Cb(),A=y.qd(),G=v.Qj(),z=r.Na(y),F=w.tf,H=F.Na();H.Ty(p);if(u<q)if(G)for(p=q;p>=u&&!H.qc;--p)w.Ce(A),H.xc(p),yield*y.lg(v,z),w.Jb(A);else for(w=q;w>=u&&!H.qc;--w)H.xc(w),yield*y.lg(v,z);else if(G)for(p=q;p<=u&&!H.qc;++p)w.Ce(A),H.xc(p),yield*y.lg(v,
z),w.Jb(A);else for(w=q;w<=u&&!H.qc;++w)H.xc(w),yield*y.lg(v,z);r.Ia();F.Ia();return!1}Z7(p){var q=this.g.ga();const u=q.ad(),w=u.We(),r=w.Cb(),v=r.qd();var y=w.Qj();const A=u.Na(r),G=q.tf,z=G.Na(),F=p.Sb(),H=p.U(),J=l.Na();d.Hc(J,H.ja());if(y)for(let M=0,Q=J.length;M<Q&&!z.qc;++M)q.Ce(v),y=J[M],p.U().Yj(y),F&&y.Ei(),z.xc(M),r.vg(w,A),q.Jb(v);else{H.fe(!1);p=H.F;d.D(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.qc;++M)q=J[M],p[0]=q,F&&q.Ei(),z.xc(M),r.vg(w,A)}u.Ia();G.Ia();d.D(J);l.Ia();return!1}*S6(p){var q=
this.g.ga();const u=q.ad(),w=u.We(),r=w.Cb(),v=r.qd();var y=w.Qj();const A=u.Na(r),G=q.tf,z=G.Na(),F=p.Sb(),H=p.U(),J=l.Na();d.Hc(J,H.ja());if(y)for(let M=0,Q=J.length;M<Q&&!z.qc;++M)q.Ce(v),y=J[M],p.U().Yj(y),F&&y.Ei(),z.xc(M),yield*r.lg(w,A),q.Jb(v);else{H.fe(!1);p=H.F;d.D(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.qc;++M)q=J[M],p[0]=q,F&&q.Ei(),z.xc(M),yield*r.lg(w,A)}u.Ia();G.Ia();d.D(J);l.Ia();return!1}a8(p,q){var u=this.g.ga();const w=u.ad(),r=u.Ef(),v=w.We(),y=v.Cb(),A=y.qd(),G=v.Qj(),
z=w.Na(y),F=u.tf,H=F.Na(),J=p.Sb(),M=p.U(),Q=l.Na();d.D(Q);const R=M.ja();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.Qt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.qc;++T)u.Ce(A),q=Q[T][0],p.U().Yj(q),J&&q.Ei(),H.xc(T),y.vg(v,z),u.Jb(A);else{M.fe(!1);p=M.F;d.D(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.qc;++T)u=Q[T][0],p[0]=u,J&&u.Ei(),H.xc(T),y.vg(v,z)}w.Ia();F.Ia();d.D(Q);l.Ia();return!1}*T6(p,q){var u=this.g.ga();const w=u.ad(),r=u.Ef(),v=w.We(),y=v.Cb(),A=y.qd(),
G=v.Qj(),z=w.Na(y),F=u.tf,H=F.Na(),J=p.Sb(),M=p.U(),Q=l.Na();d.D(Q);const R=M.ja();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.Qt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.qc;++T)u.Ce(A),q=Q[T][0],p.U().Yj(q),J&&q.Ei(),H.xc(T),yield*y.lg(v,z),u.Jb(A);else{M.fe(!1);p=M.F;d.D(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.qc;++T)u=Q[T][0],p[0]=u,J&&u.Ei(),H.xc(T),yield*y.lg(v,z)}w.Ia();F.Ia();d.D(Q);l.Ia();return!1}iz(p,q){let u=this.JS.get(p);if(u)return u;if(!q)return null;
u={Hn:null,PC:new Map};this.JS.set(p,u);return u}o7(p,q,u,w,r){q.xe().K3(u);w&&p.Jb(r)}*P6(p,q,u,w,r){yield*q.xe().MX(u);w&&p.Jb(r)}}}{"use strict";const d=self.B;d.C.Ya.Io=class extends d.ea{constructor(a){super();this.K=a;this.g=a.G();this.Mh=a.sb()}zd(){}A(){this.Mh=this.g=this.K=null}}}{"use strict";const d=self.B;d.C.Ya.Instance=class extends d.ea{constructor(a){super();this.ia=a;this.K=this.ia.H();this.Gc=this.K.Gc;this.g=this.ia.G()}A(){this.g=this.Gc=this.K=this.ia=null}}}
{"use strict";const d=self.B,a=[];d.C.Ya.N={rha(){return!0},FN(){return!0},t2(){return!0},I2(){return!0},F2(){return!0},zm(){return this.g.zm()},ZL(){const b=this.g.Ve();return b.FH?!1:!b.wp},Xna(){const b=this.g.Ef().Kj();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Ak;b.set("TriggerOnce_lastTick",c);return this.g.vI||e!==c-1},qha(b){const e=this.g.Ef().Kj(),c=e.get("Every_lastTime")||0,h=this.g.Uk();e.has("Every_seconds")||e.set("Every_seconds",
b);const m=e.get("Every_seconds");if(h>=c+m)return e.set("Every_lastTime",c+m),h>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",h),e.set("Every_seconds",b),!0;h<c-.1&&e.set("Every_lastTime",h);return!1},Gt(b){return(b=this.g.ga().oM(b))&&b.Gt()},yq(){return this.g.yq()},wE(){return d.Kc.wE},u2(){return!0},h2(){return!0},lha(){return!0},G2(){return!0},H2(){return!0},GN(){return!0},HN(){return!0},Lja(b){return!!this.g.Dj(b)},Mia(b){switch(b){case 0:return"browser"===d.Kc.mD;case 1:return"iOS"===
d.Kc.Cq;case 2:return"Android"===d.Kc.Cq;case 8:return"cordova"===d.Kc.mD;case 9:return"scirra-arcade"===this.g.Yi;case 10:return"nwjs"===d.Kc.mD;case 13:return"windows-uwp"===this.g.Yi;default:return!1}},Rka(b,e,c){return this.cy(e,c).test(b)},rX(b,e,c){return d.compare(b,e,c)},Hga(b,e,c){return b>=e&&b<=c},Rga(b,e,c){return d.compare(b.Zb(),e,c)},Iga(b){return!!b.Zb()},Pga(b,e){const c=this.g.Uk();return 0===b?(b=this.g.Ef().Kj(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Jia(b){return isNaN(b)},DW(b,e,c){return d.Ds(d.yb(b),d.yb(c))<=d.yb(e)},d1(b,e){return d.xf(d.yb(b),d.yb(e))},c1(b,e,c){b=d.yb(b);e=d.yb(e);c=d.yb(c);return d.xf(c,e)?d.xf(b,e)&&!d.xf(b,c):!(!d.xf(b,e)&&d.xf(b,c))},Xia(b,e){return"number"===typeof b?0===e:1===e},pha(b){return!!b},kka(b,e,c,h){if(!b)return!1;const m=this.jQ(),g=m.Na(),l=b.U();d.Hc(g,l.ja());l.Pb&&d.D(l.Vb);const n=this.g.Ef();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;e=n.Qt(1,q);h=n.Qt(3,
q);d.compare(e,c,h)?++p:l.nl(w)}d.Se(g,p);l.Ut(g);e=!!g.length;d.D(g);m.Ia();b.Xb();return e},lka(b,e){if(!b)return!1;const c=this.jQ(),h=c.Na(),m=b.U();d.Hc(h,m.ja());m.Pb&&d.D(m.Vb);const g=this.g.Ef();let l=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[l]=q;(e=g.Qt(1,n))?++l:m.nl(q)}d.Se(h,l);m.Ut(h);e=!!h.length;d.D(h);c.Ia();b.Xb();return e},rka(b,e){if(!b)return!1;const c=b.U(),h=c.ja();e=Math.floor(e);if(e>=h.length)return!1;c.Am(h[e]);b.Xb();return!0},vka(b){if(!b)return!1;const e=b.U(),
c=e.ja(),h=Math.floor(this.g.Fq()*c.length);if(h>=c.length)return!1;e.Am(c[h]);b.Xb();return!0},jka(b){if(!b||!b.F.length)return!1;b.U().fe(!0);b.Xb();return!0},tka(b,e,c){if(!b)return!1;const h=b.U();var m=h.ja();const g=this.g.Cb().Fd,l=this.g.Ef().ej;h.Pb?(d.Hc(a,m),h.tx(),h.fe(!1)):g?(d.Hc(a,h.Vb),d.D(h.Vb)):(d.Hc(a,h.F),d.D(h.F));for(let n=0,p=a.length;n<p;++n)m=a[n],d.xor(m.m().Ws(e,c),l)?h.Oo(m):h.nl(m);b.Xb();return d.xor(!!h.F.length,l)},qka(b){if(!b)return!1;var e=b.Va;let c=null;const h=
this.g.Dl;for(let m=h.length-1;0<=m;--m){const g=h[m];if(e){if(g.H().dD(b)){c=g;break}}else if(g.H()===b){c=g;break}}c||(e=b.ja(),e.length&&(c=e.$d(-1)));if(!c)return!1;b.U().Am(c);b.Xb();return!0},Uka(b){return this.g.je?this.U6(b):this.W$(b)},uoa(){return this.g.je?this.n7():this.Wba()},pZ(b,e,c){return this.g.je?this.R6(b,e,c):this.Y7(b,e,c)},Bha(b){return this.g.je?this.S6(b):this.Z7(b)},Cha(b,e,c){return this.g.je?this.T6(b,c):this.a8(b,c)},eja(b){return b?b.Jc():!1},bja(b){return b?b.wy():!1},
aja(b){return b?!b.F.length:!1},$ia(b,e,c){return b?d.compare(100*b.Ld(),e,c):!1},s2(){return!0},Gia(){return 0<this.lp}}}
{"use strict";const d=self.B;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const e=[],c=[],h=d.j(d.Rect),m=d.j(d.$a);d.C.Ya.Kd={V4(g,l){g.Ee(l)},AW(g,l){g.ym()&&"number"!==typeof l&&(l=parseFloat(l));g.Ee(g.Zb()+l)},Hna(g,l){g.ym()&&g.Ee(g.Zb()-l)},jma(g,l){g.Ee(!!l)},Pna(g){g.Ee(!g.Zb())},Ila(){this.g.ga().A3()},GX(g,l,n,p,q){g&&l&&(n=this.g.oD(g,l,n,p,q))&&(q&&l.oF(n),l=this.g.ga(),l.se(!0),n.Bz(),l.se(!1),g.U().Yj(n),n.Sb()&&n.Ei())},dha(g,l,n,p,q){g&&
l&&(g=this.g.Xx(g))&&d.C.Ya.Kd.GX.call(this,g,l,n,p,q)},Pt(g,l,n,p,q,u,w,r,v,y){if(g){var A=this.g.Ha();if(u&&(A=this.g.Za.lq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ba(w),!u)return;h.set(l,n,p,q);l=A.Pt(g,h,u,r,v,y);g.U().Ut(l);g.Xb()}},wna(){const g=this.tf;g.hN()&&g.jq().ff()},Nq(g,l){(g=this.g.ga().oM(g))&&(0===l?g.Nq(!1):1===l?g.Nq(!0):g.Nq(!g.Gt()))},ena(g){this.g.jF(g)},Zma(g,l){0>l&&(l=0);if(g){g=g.U().ja();for(const n of g)n.jF(l)}},Mla(g){if(g){g=g.U().ja();for(const l of g)l.H3()}},
zF(g){if(!(0>g))return this.g.ga().ZC().V0(g),!0},noa(g){this.g.ga().ZC().T0(g);return!0},moa(){const g=this.g.ga();g.ZC().H0(g.y_());return!0},kna(g){g=g.toLowerCase();for(const l of this.g.ga().ag)l.q1()&&l.iw===g&&l.gF()},async XO(g,l,n,p,q,u){const w=this.g.L;w&&(this.aa(),await w.XO(0===g?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.ld(d.C.Ya.N.h2,null))},kma(g,l){if(!(0>=g||0>=l)){this.g.fu(g,l);var n=this.g.Ha();n.lx();for(const p of n.Tb)p.yF();if(n=this.g.L)"off"!==n.kt()&&this.g.A4(g,
l),n.kd(n.Gk,n.Fk,!0),this.g.aa()}},wma(g){const l=this.g.L;l&&"off"!==l.kt()&&(l.AO(0!==g?"high":"low"),l.kd(l.Gk,l.Fk,!0))},Ao(g){this.g.R3(g)},kja(g){this.g.F1(g)},lja(g){this.g.AE(g)},yma(){},Jla(){for(const g of this.g.Za.Ni)g.F3()},$ma(g){this.g.D4(0!==g)},LO(g){this.g.LO(g)},nna(g,l){if(g){var n=g.U().ja(),p=this.g.Ha(),q=g.Va;g=g.$i;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=q?u.ye(l+u.H().qM(g)):u.ye(l);e.push([v.ba().Ea(),v.Oj()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.Ux(e[w][0]),g=e[w][1],u=q.F,u[g]!==n&&(u[g]=n,n.m().Du(q),q.zg(),l=!0);l&&this.g.aa();d.D(e);d.D(c)}}},Rha(g){if(!this.g.rk){var l=this.g.Za;l.xq()||l.qx(g)}},Sha(g){if(!this.g.rk){var l=this.g.Za;l.xq()||(g=l.lq(g))&&l.qx(g)}},Fja(g){if(!this.g.rk){var l=this.g.Za;if(!l.xq()){var n=l.Ni,p=n.indexOf(l.Mb());g&&0===p||(g||p!==n.length-1)&&l.qx(n[p+(g?-1:1)])}}},Kla(){if(!this.g.rk){var g=this.g.Za;g.xq()||(g.qx(g.Mb()),this.g.ga().B3())}},
Oma(g,l){g&&g.nh(l)},Hma(g,l){g&&g.v4(l)},Ima(g,l){g&&g.Ai(l/100)},Kma(g,l){g&&g.NO(l)},Lma(g,l){g&&g.F4(l)},Bma(g,l){g&&g.Bd(d.yb(+l))},Mma(g,l,n){g&&(g.au(!0),g.Ci(l),g.Di(n))},Lla(g){g&&g.au(!1)},Jma(g,l,n){g&&g.B4(l/100,n/100)},Pma(g,l){g&&g.ef(+l)},Cma(g,l){g&&(m.Os(l),m.da(),g=g.sl,g.fm(m)||(g.oj(m),this.aa()))},Nma(g,l){g&&g.R4(l)},Dma(g,l){g&&g.Of(l)},Ema(g,l,n){g&&(n=g.Ja.Sk(n))&&(l=1===l,n.Eb!==l&&(n.Ny(l),g.rh(),this.g.aa()))},Fma(g,l,n,p){if(g&&(g=g.Ja,l=g.Sk(l))&&(g=g.Rk(l.Ea()),n=Math.floor(n),
!(0>n||n>=g.length))){var q=l.Jf().Zx(n);if("color"===q){m.Os(p);n=g[n];if(m.fm(n))return;n.oj(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.Eb&&this.g.aa()}},Gma(g,l){g&&g.p4(l)},Uma(g){this.g.Ha().eF(+g)},Qma(g){this.g.Ha().Bd(d.yb(+g))},Rma(g,l){const n=this.g.Ha();if(l=n.Ja.Sk(l))g=1===g,l.Eb!==g&&(l.Ny(g),n.rh(),this.g.aa())},Sma(g,l,n){var p=this.g.Ha().Ja;if(g=p.Sk(g))if(p=p.Rk(g.Ea()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.Jf().Zx(l);if("color"===q){m.Os(n);l=p[l];if(m.fm(l))return;
l.oj(m)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}g.Eb&&this.g.aa()}},Vma(g,l){this.g.Ha().U4(g/100,l/100)},Tma(g){const l=this.g.Ha();0===g?l.PO():l.MO()},bma(g){this.g.Ha().Ci(g)},cma(g){this.g.Ha().Di(g)},Zla(g,l){const n=this.g.Ha();n.Ci(g);n.Di(l)},ama(g){if(g&&(g=g.sM())&&(g=g.m())){var l=this.g.Ha();l.Ci(g.oa());l.Di(g.pa())}},async H1(g){const l=this.g.Mb();l&&g&&!this.g.rk&&await this.fG(l,g.Va?g.gp:[g])},async jja(g){await d.C.Ya.Kd.H1.call(this,this.g.Xx(g))},w5(g){const l=
this.g.Mb();l&&g&&this.SR(l,g.Va?g.gp:[g])},boa(g){d.C.Ya.Kd.w5.call(this,this.g.Xx(g))},coa(){const g=this.g.Mb();if(g){var l=g.y8();this.SR(g,l)}},async hja(g){const l=this.g.Mb();g&&l&&!this.g.rk&&await this.fG(l,g.kQ())},async ija(g){const l=this.g.Mb();(g=this.g.Za.lq(g))&&l&&!this.g.rk&&await this.fG(l,g.kQ())},Ry(g){const l=this.Ed.EZ();if(l)switch(l.KS){case 1:"number"===typeof g&&l.Ry(g);break;case 2:"string"===typeof g&&l.Ry(g);break;case 3:l.Ry(g)}},qja(g,l,n){var p=this.iz(g.toLowerCase(),
!0);const q=p.PC,u=l.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(p=d.first(q.values())||p.Hn)&&0!==p.Sl!==(0!==n.Sl)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},rja(g,l){const n=this.iz(g.toLowerCase(),!0);n.Hn&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=
d.first(n.PC.values())||n.Hn;p&&0!==p.Sl!==(0!==l.Sl)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Hn=l},xga(g,l,n){n=Math.floor(n);var p=this.iz(g.toLowerCase(),!1);if(p){var q=p.PC.get(l.toLowerCase());if(!q)if(p.Hn)q=p.Hn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.po())if(0!==
q.Sl)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);else{g=this.g;l=g.ga();var u=l.Cb();p=u.rd();var w=0<p.length;w&&l.ug(p);var r=[];if(u=l.yD(u)){u=u.Mg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].Zb())}n=q.Mg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].mp);return g.je?this.P6(l,q,r,w,p):this.o7(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.C.Ya.Zc={vea:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},xpa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},km(a){return a.toString()},Tw(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Fq()*a:this.g.Fq()*(b-a)+a},Pda(...a){return a[Math.floor(this.g.Fq()*a.length)]},Zqa(){return Math.PI},cqa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Ara(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.yb(a))},cos(a){return Math.cos(d.yb(a))},tan(a){return Math.tan(d.yb(a))},asin(a){return d.ai(Math.asin(a))},acos(a){return d.ai(Math.acos(a))},atan(a){return d.ai(Math.atan(a))},exp(a){return Math.exp(a)},Iea(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b<h&&(b=h)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b>h&&(b=h)}return b},da(a,b,e){return d.da(a,b,e)},Lw(a,b,e,c){return d.Es(a,b,e,c)},angle(a,b,e,c){return d.ai(d.pK(a,b,e,c))},ae(a,b,e){return d.ae(a,b,e)},QC(a,b,e){return d.QC(a,b,e)},KC(a,b,e,c){return d.KC(a,b,e,c)},bV(a,b,e,c,h){return d.bV(a,
b,e,c,h)},aV(a,b,e){return d.aV(a,b,e)},Noa(a,b){return d.ai(d.Ds(d.yb(a),d.yb(b)))},Ooa(a,b,e){return d.ai(d.nK(d.yb(a),d.yb(b),e))},Poa(a,b,e){return d.ai(d.oK(d.yb(a),d.yb(b),d.yb(e)))},Mra(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Ura(a,b){return(a|0)^1<<(b|0)},Wpa(a,b){return(a|0)&1<<(b|0)?1:0},Kqa(){return"\n"},Bfa(a){return"string"===typeof a?a.toUpperCase():""},Cqa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},tfa(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},ufa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Ys(b),"i")):-1},wpa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(d.Ys(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.Ys(b),"gi"),e):"string"===typeof a?a:""},kra(a,b,e){b=this.cy(b,e);return a?a.search(b):-1},jra(a,b,e,c){b=this.cy(b,e);return a?a.replace(b,c):""},ira(a,b,e){return(a=this.DM(a.toString(),b,e))?a.length:0},hra(a,b,e,c){c=Math.floor(c);a=this.DM(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},nsa(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},$ra(a){return encodeURIComponent(a)},Zra(a){return decodeURIComponent(a)},gV(){return this.g.jv},Sra(){return this.g.Yd},jsa(){return(Date.now()-this.g.pn)/1E3},Xra(){return Date.now()},time(){return this.g.Uk()},Rra(){return this.g.Ak},Pqa(){return this.g.hJ},Apa(){return this.g.rA},fpa(){return this.g.qB},Ypa(){return this.g.Tx()},msa(){return this.g.L.Hg},lsa(){return this.g.L.Gg},Tqa(){return this.g.Sg},Sqa(){return this.g.Rg},
Rqa(){return this.g.Sg},Qqa(){return this.g.Rg},Dra(){return this.g.Ha().Hf()},Era(){return this.g.Ha().If()},xqa(){return this.g.Ha().wa()},yqa(){return this.g.Ha().od},vqa(){return d.ai(this.g.Ha().Ma())},zqa(){return this.g.Ha().$()},wqa(){return this.g.Ha().X()},fsa(a){return(a=this.g.Ha().ba(a))?a.Dn.V:0},hsa(a){return(a=this.g.Ha().ba(a))?a.Dn.O:0},gsa(a){return(a=this.g.Ha().ba(a))?a.Dn.ca:0},dsa(a){return(a=this.g.Ha().ba(a))?a.Dn.Z:0},isa(a){return(a=this.g.Ha().ba(a))?a.Dn.width():0},esa(a){return(a=
this.g.Ha().ba(a))?a.Dn.height():0},$oa(a,b,e){return(a=this.g.Ha().ba(a))?a.dh(b,e)[0]:0},apa(a,b,e){return(a=this.g.Ha().ba(a))?a.dh(b,e)[1]:0},sqa(a,b,e){return(a=this.g.Ha().ba(a))?a.so(b,e)[0]:0},tqa(a,b,e){return(a=this.g.Ha().ba(a))?a.so(b,e)[1]:0},oqa(a){return(a=this.g.Ha().ba(a))?a.od:0},jqa(a){return(a=this.g.Ha().ba(a))?d.ai(a.he):0},lqa(a){return(a=this.g.Ha().ba(a))?100*a.Ld():0},pqa(a){return(a=this.g.Ha().ba(a))?a.jj:0},qqa(a){return(a=this.g.Ha().ba(a))?a.Hf():0},rqa(a){return(a=
this.g.Ha().ba(a))?a.If():0},mqa(a){return(a=this.g.Ha().ba(a))?100*a.Td:0},nqa(a){return(a=this.g.Ha().ba(a))?100*a.Ud:0},uqa(a){return(a=this.g.Ha().ba(a))?a.ab():0},kqa(a){return(a=this.g.Ha().ba(a))?a.Ea():-1},Zoa(){const a=this.g.L;return a?a.EJ:""},Kea(a){const b=this.tf;return b.hN()?a?(a=b.lZ(a))?a.Ea():0:b.jq().Ea():0},Bra(){return this.g.yp},Xoa(a,b,...e){var c=this.iz(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var h=c.PC.get(b.toLowerCase());if(!h)if(c.Hn)h=c.Hn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=h.Sl;const m=h.lt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.po())return m;a=this.g.ga();b=a.Cb().rd();const g=0<b.length;g&&a.ug(b);const l=h.Mg;for(let n=
e.length,p=l.length;n<p;++n)e.push(l[n].mp);h=h.xe();e=h.RE(h.rd(),c,m,...e);g&&a.Jb(b);return e},Bqa(){return this.g.cd.eB},aqa(){return 0===this.lp?1:this.wv/this.lp},Ln(){return this.g.Bt()?"webgpu":"webgl"},nra(){return this.g.Bt()?"<unavailable>":this.g.jo().Bw},bqa(){let a=this.g.eb().IZ();return Math.round(100*a/1048576)/100},pra(a,b,e){return d.O2(a,b,e)},sra(a,b,e){return d.QN(a/100,b/100,e/100)},qra(a,b,e,c){return d.Fy(a/100,b/100,e/100,c/100)},tra(a,b,e){return d.QN(a/255,b/255,e/255)},
rra(a,b,e,c){return d.Fy(a/255,b/255,e/255,c/255)},Vea(){return this.g.HB},Wea(){return this.g.ZT},jpa(){return this.g.Cb().Rc.wa()},ipa(){return this.g.Cb().Br}}}{"use strict";const d=self.B;d.C.qh=class extends d.P3{constructor(a){super(a,"text-input");this.Us("click",b=>b.S9());this.Us("dblclick",b=>b.W9());this.Us("change",(b,e)=>b.R9(e))}A(){super.A()}}}{"use strict";const d=self.B;d.C.qh.Io=class extends d.Tt{constructor(a){super(a)}A(){super.A()}zd(){}}}
{"use strict";const d=self.B,a=self.kg,b="text password email number tel url textarea search".split(" ");d.C.qh.Instance=class extends d.O3{constructor(c,h){super(c,"text-input");this.Xl=this.wk=this.ib="";this.Og=!0;this.Np=this.sk=!1;this.qa="text";this.Ou=!0;this.Ap=-1;this.Cc="";h&&(this.ib=h[0],this.wk=h[1],this.Xl=h[2],this.m().nh(h[3]),this.Og=h[4],this.sk=h[5],this.Np=h[6],this.qa=b[h[7]],this.Ou=h[8],this.Cc=h[9]);this.CX({type:this.qa,id:this.Cc})}A(){super.A()}JD(){return{text:this.ib,
placeholder:this.wk,title:this.Xl,isEnabled:this.Og,isReadOnly:this.sk,spellCheck:this.Np,maxLength:this.Ap}}async S9(){this.hq("click",!0);await this.ld(d.C.qh.N.i2)}async W9(){this.hq("dblclick",!0);await this.ld(d.C.qh.N.m2)}async R9(c){this.ib=c.text;this.hq("change",!0);await this.ld(d.C.qh.N.KN)}Km(c){this.ib!==c&&(this.ib=c,this.Rf())}GR(c){this.wk!==c&&(this.wk=c,this.Rf())}oba(c){this.Xl!==c&&(this.Xl=c,this.Rf())}AR(c){c=!!c;this.Og!==c&&(this.Og=c,this.Rf())}HR(c){c=!!c;this.sk!==c&&(this.sk=
c,this.Rf())}ER(c){c=Math.max(+c,-1);this.Ap!==c&&(this.Ap=c,this.Rf())}Eaa(){Promise.resolve().then(()=>this.Bm("scroll-to-bottom"))}mg(){}Ad(){return{t:this.ib,p:this.wk,ti:this.Xl,e:this.Og,r:this.sk,sp:this.Np,ml:this.Ap,type:this.qa,id:this.Cc}}sd(c){this.ib=c.t;this.wk=c.p;this.Xl=c.ti;this.Og=c.e;this.sk=c.r;this.Np=c.sp;this.Ap=c.hasOwnProperty("ml")?c.ml:-1;this.qa=c.type;this.Cc=c.id;this.Rf()}wc(c){switch(c){case 0:return this.ib;case 1:return this.wk;case 2:return this.Xl;case 4:return this.Og;
case 5:return this.sk;case 6:return this.Np;case 8:return this.Ou;case 9:return this.Cc}}lh(c,h){switch(c){case 0:if(this.ib===h)break;this.ib=h;this.Rf();break;case 1:if(this.wk===h)break;this.wk=h;this.Rf();break;case 2:if(this.Xl===h)break;this.Xl=h;this.Rf();break;case 4:if(this.Og===!!h)break;this.Og=!!h;this.Rf();break;case 5:if(this.sk===!!h)break;this.sk=!!h;this.Rf();break;case 6:if(this.Np===!!h)break;this.Np=!!h;this.Rf();break;case 8:this.Ou=!!h;break;case 9:this.Cc!==h&&(this.Cc=h,this.Rf())}}Yk(){return self.n0}};
const e=new WeakMap;self.n0=class extends self.h0{constructor(){super();e.set(this,self.uq.$q().ka)}set text(c){a.jd(c);e.get(this).Km(c)}get text(){return e.get(this).ib}set placeholder(c){a.jd(c);e.get(this).GR(c)}get placeholder(){return e.get(this).wk}set isEnabled(c){e.get(this).AR(c)}get isEnabled(){return e.get(this).Og}set Bea(c){e.get(this).HR(c)}get Bea(){return e.get(this).sk}set maxLength(c){a.xi(c);e.get(this).ER(c)}get maxLength(){return e.get(this).Ap}}}
{"use strict";const d=self.B;d.C.qh.N={sX(a,b){return 0===b?d.gm(this.ib,a):this.ib===a},KN(){return!0},i2(){return!0},m2(){return!0}}}"use strict";self.B.C.qh.Kd={Uq(d){this.Km(d.toString())},GW(d){""!==d&&this.Km(this.ib+d)},ana(d){this.GR(d)},fna(d){this.oba(d)},dna(d){this.HR(0===d)},$la(){this.Eaa()},Wma(d){this.ER(d)}};"use strict";self.B.C.qh.Zc={Text(){return this.ib},tja(){return this.Ap}};{"use strict";const d=self.B;d.C.Text=class extends d.Iq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.B;d.C.Text.Io=class extends d.Tt{constructor(a){super(a)}A(){super.A()}zd(){}Aq(){}xo(){}}}
{"use strict";const d=self.B,a=self.kg,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],h=new d.Rect,m=new d.td;new d.$a;d.C.Text.Instance=class extends d.TE{constructor(n,p){super(n);this.ib="";this.yl=!0;this.Zi="Arial";this.yk=12;this.Ih=0;this.pf=this.nf=!1;this.bb=d.j(d.$a);this.Qe=this.kf=0;this.Ik=!0;this.Bk=this.xs=-1;this.Aw=0;this.uc=d.j(d.I.LE,this.g.eb(),{timeout:5});this.uc.JC=()=>this.g.aa();this.uc.FO();p&&(this.ib=p[0],this.yl=!!p[1],this.Zi=p[2],this.yk=p[3],this.Ih=
p[4],this.nf=!!p[5],this.pf=!!p[6],this.kf=p[8],this.Qe=p[9],this.Ik=0===p[10],n=p[7],this.bb.Ps(n[0],n[1],n[2]),this.m().nh(p[11]));this.ge()}A(){this.Im();this.uc.A();this.uc=null;super.A()}ge(){const n=this.uc;n.Uq(this.ib);n.Y3(this.yl);n.ZE(this.Zi);n.JO(this.Ih);n.rO(this.nf);n.HO(this.pf);n.Dm(this.bb);n.CO(e[this.kf]);n.WO(c[this.Qe]);n.W4(this.Ik?"word":"character")}JG(){const n=this.m();this.uc.$E(this.yk);this.uc.o4(n.A_());var p=n.ba();p=p.oq()*p.fM(n.$e());this.uc.kd(n.$(),n.X(),p)}mg(n){var p=
this.m();this.JG();const q=this.uc.Od();if(q){var u=p.ba();if(0===p.Ma()&&0===u.Ma()&&0===p.$e()&&!p.Kf()&&u.$N()){p=p.yj();const [w,r]=u.Rj(p.wb,p.xb),[v,y]=u.Rj(p.dc,p.ec);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.tj(h);const [G,z]=n.tt(n.Jj());this.g.L.g4(n,G,z);n.Pf(q);n.Eq(m,this.uc.li());u.xz(n)}else n.Pf(q),p.Kf()?this.TF(p,n):this.UF(p,n)}}UF(n,p){n=n.yj();this.g.Fl&&(n=this.bR(n));p.Eq(n,this.uc.li())}TF(n,p){const q=n.PM();if(n.kN()){n.nx(h,m,!1);let u=m;
this.g.Fl&&(u=this.bR(u));q.zL(n.Lj(),u,this.uc.li());n.cF(!1)}q.mg(p)}bR(n){const p=n.wb-Math.round(n.wb),q=n.xb-Math.round(n.xb);if(0===p&&0===q)return n;m.na(n);m.offset(-p,-q);return m}Lx(){const n=this.uc.Od();return n?[n.$(),n.X()]:[100,100]}Mx(){return this.uc.li()}ty(){return!1}Ad(){const n={t:this.ib,c:this.bb.toJSON(),fn:this.Zi,ps:this.yk};this.yl&&(n.bbc=this.yl);0!==this.kf&&(n.ha=this.kf);0!==this.Qe&&(n.va=this.Qe);this.Ik||(n.wr=this.Ik);0!==this.Ih&&(n.lho=this.Ih);this.nf&&(n.b=
this.nf);this.pf&&(n.i=this.pf);-1!==this.Bk&&(n.tw={st:this.xs,en:this.Bk,l:this.Aw});return n}sd(n){this.Im();this.ib=n.t;this.bb.jm(n.c);this.Zi=n.fn;this.yk=n.ps;this.yl=n.hasOwnProperty("bbc")?n.bbc:!1;this.kf=n.hasOwnProperty("ha")?n.ha:0;this.Qe=n.hasOwnProperty("va")?n.va:0;this.Ik=n.hasOwnProperty("wr")?n.wr:!0;this.Ih=n.hasOwnProperty("lho")?n.lho:0;this.nf=n.hasOwnProperty("b")?n.b:!1;this.pf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.xs=n.st,this.Bk=n.en,this.Aw=
n.l);this.ge();-1!==this.Bk&&this.Lm()}wc(n){switch(n){case 0:return this.ib;case 1:return this.yl;case 2:return this.Zi;case 3:return this.yk;case 4:return this.Ih;case 5:return this.nf;case 6:return this.pf;case 7:return b[0]=this.bb.Ra,b[1]=this.bb.Ua,b[2]=this.bb.Ta,b;case 8:return this.kf;case 9:return this.Qe;case 10:return this.Ik?1:0}}lh(n,p){switch(n){case 0:if(this.ib===p)break;this.ib=p;this.ge();break;case 1:if(this.yl===!!p)break;this.yl=!!p;this.ge();break;case 2:if(this.Zi===p)break;
this.Zi=p;this.ge();break;case 3:if(this.yk===p)break;this.yk=p;this.ge();break;case 4:if(this.Ih===p)break;this.Ih=p;this.ge();break;case 5:if(this.nf===!!p)break;this.nf=!!p;this.ge();break;case 6:if(this.pf===!!p)break;this.pf=!!p;this.ge();break;case 7:n=this.bb;if(n.Ra===p[0]&&n.Ua===p[1]&&n.Ta===p[2])break;this.bb.Ps(p[0],p[1],p[2]);this.ge();break;case 8:if(this.kf===p)break;this.kf=p;this.ge();break;case 9:if(this.Qe===p)break;this.Qe=p;this.ge();break;case 10:this.Ik!==(0===p)&&(this.Ik=
0===p,this.ge())}}Km(n){this.ib!==n&&(this.ib=n,this.uc.Uq(n),this.g.aa())}zba(n,p){this.Km(n);this.xs=this.g.YD();this.Bk=this.xs+p/this.za().tZ();this.Aw=d.nm.ZO(n).length;this.uc.YE(0);this.Lm()}Im(){this.Bk=this.xs=-1;this.Aw=0;this.uc.YE(-1);this.Gu()}O7(){-1!==this.Bk&&(this.Im(),this.Ca(d.C.Text.N.LN),this.g.aa())}Vaa(n){this.Zi!==n&&(this.Zi=n,this.uc.ZE(n),this.g.aa())}Jaa(n){n=!!n;this.nf!==n&&(this.nf=n,this.uc.rO(n),this.g.aa())}dba(n){n=!!n;this.pf!==n&&(this.pf=n,this.uc.HO(n),this.g.aa())}Waa(n){this.yk!==
n&&(this.yk=n,this.g.aa())}Uaa(n){this.bb.fm(n)||(this.bb.oj(n),this.uc.Dm(this.bb),this.g.aa())}CR(n){this.Ih!==n&&(this.Ih=n,this.ge(),this.g.aa())}Zaa(n){this.kf!==n&&(this.kf=n,this.ge(),this.g.aa())}KR(n){this.Qe!==n&&(this.Qe=n,this.ge(),this.g.aa())}rba(n){n=!!n;this.Ik!==n&&(this.Ik=n,this.ge(),this.g.aa())}x8(){this.JG();return this.uc.E_()}w8(){this.JG();return this.uc.D_()}gf(){var n=this.g.YD();n>=this.Bk?(this.Im(),this.Ca(d.C.Text.N.LN),this.g.aa()):(n=d.$ea(this.xs,this.Bk,n,this.Aw),
n=Math.floor(n),n!==this.uc.bp&&(this.uc.YE(n),this.g.aa()))}Yk(){return self.o0}};const g=new WeakMap,l=new Map([["top",0],["center",1],["bottom",2]]);self.o0=class extends self.my{constructor(){super();g.set(this,self.uq.$q().ka)}get text(){return g.get(this).ib}set text(n){a.jd(n);const p=g.get(this);p.Im();p.Km(n)}set lineHeight(n){a.xi(n);g.get(this).CR(n)}get lineHeight(){return g.get(this).Ih}set verticalAlign(n){a.jd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).KR(n)}get verticalAlign(){return c[g.get(this).Qe]}}}
{"use strict";const d=self.B;d.C.Text.N={sX(a,b){return b?this.ib===a:d.gm(this.ib,a)},Tia(){return-1!==this.Bk},LN(){return!0}}}
{"use strict";const d=self.B,a=d.j(d.$a);d.C.Text.Kd={Uq(b){this.Im();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Km(b.toString())},GW(b){this.Im();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Km(this.ib+b)},Zna(b,e){this.Im();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.zba(b.toString(),e)},vma(b,e){let c=!1,h=!1;switch(e){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(b!==this.Zi||c!==this.nf||h!==this.pf)this.Vaa(b),this.Jaa(c),
this.dba(h)},$E(b){this.Waa(b)},uma(b){a.Os(b);a.da();this.Uaa(a)},ina(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},i4(b){this.m().Of(b);this.g.aa()},Yna(){this.O7()},JO(b){this.CR(b)},xma(b){this.Zaa(b)},hna(b){this.KR(b)},jna(b){this.rba(0===b)}}}{"use strict";const d=self.B;d.C.Text.Zc={Text(){return this.ib},yka(){return this.yl?d.nm.ZO(this.ib):this.ib},uha(){return this.Zi},vha(){return this.yk},n5(){return this.x8()},Lna(){return this.w8()},fja(){return this.Ih}}}
{"use strict";const d=self.B;d.C.Qf=class extends d.Iq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.B;d.C.Qf.Io=class extends d.Tt{constructor(a){super(a);this.Cd=a.Cd}A(){d.D(this.Cd);super.A()}zd(){for(const a of this.Cd)a.B1(this.g)}Aq(a){const b={sj:this.g.nd};return Promise.all(this.Cd.map(e=>e.C1(a,b)))}xo(){for(const a of this.Cd)a.l3()}Ey(){this.VR()}VR(){for(const a of this.K.uea())a.ka.HG()}bt(a){d.C.Qf.mZ(this,a)}}}
{"use strict";const d=self.B,a=self.kg,b=d.j(d.Rect),e=d.j(d.td),c=d.j(d.iu);d.C.Qf.Instance=class extends d.TE{constructor(m,g){super(m);let l=!0,n="",p=0,q=!0;g&&(l=!!g[0],n=g[1],p=g[2],q=g[3]);this.Db=this.K.hM(n)||this.K.Cd[0];this.ob=d.da(p,0,this.Db.ud.length-1);this.Je=this.Db.rm(this.ob);g=this.Je.Xe();this.zr=g.Od();this.xH=g.li();this.cv=g.ey();this.M_();m.Yt(2,!0);m.Yt(1,0<=this.Db.Mj());this.kk=Math.abs(this.Db.Mj());this.yr=this.Db.eU;this.Hz=d.j(d.yy);this.hk=this.aj=0;this.ZG="";this.Zu=
-1;this.pr="";this.lS=0;m=this.m();this.lca=m.yj();m.nh(l);m.Vt(q);m.Pq(this.Je.Wk());m.Qq(this.Je.Xk());m.iF(this.Je.Xo);m.Xa();1===this.K.Cd.length&&1===this.K.Cd[0].ud.length||0===this.kk||this.Lm()}A(){this.Hz=this.zr=this.Je=this.Db=null;super.A()}hh(){return this.Je.Xe()}qo(){return!0}Dq(){this.zr=null}PN(){this.HG()}mg(m){var g=this.zr;null!==g&&(m.Pf(g),g=this.m(),g.Kf()?this.TF(g,m):this.UF(g,m))}UF(m,g){let l=this.lca;this.g.Fl&&(l=m.RN(l));g.h3(l,this.cv)}TF(m,g){const l=m.PM();if(m.kN()){m.nx(b,
e,!1);let n=e;this.g.Fl&&(n=m.RN(n));l.zL(m.Lj(),n,this.cv);m.cF(!1)}l.mg(g)}et(){return this.Hz.Y()}ry(){return this.ia.MD(2)}Jq(m){this.ia.Yt(2,m)}vy(){return this.ia.MD(1)}bu(m){this.ia.Yt(1,m)}rE(){return this.ia.MD(4)}DO(m){this.ia.Yt(4,m)}gf(){this.pr&&this.NP();0<=this.Zu&&this.QF();const m=this.kk;if(this.ry()&&0!==m){this.Hz.Ic(this.g.HD(this.ia));var g=this.et(),l=this.Je,n=l.fA/m;if(!(g<this.aj+n)){var p=this.Db,q=this.yr,u=p.ud.length,w=p.rg(),r=p.SA,v=p.Sca;this.vy()?this.ob++:this.ob--;
this.aj+=n;this.ob>=u&&(v?(this.bu(!1),this.ob=u-2):r?this.ob=q:(this.hk++,this.hk>=w?this.WF(!1):this.ob=q));0>this.ob&&(v?(this.ob=1,this.bu(!0),r||(this.hk++,this.hk>=w&&this.WF(!0))):r?this.ob=q:(this.hk++,this.hk>=w?this.WF(!0):this.ob=q));this.ob=d.da(this.ob,0,u-1);n=p.rm(this.ob);g>this.aj+n.fA/m&&(this.aj=g);this.oz(l,n)}}else this.Gu()}WF(m){this.ob=m?0:this.Db.ud.length-1;this.Jq(!1);this.ZG=this.Db.wa();this.DO(!0);this.hq("animationend",!1,{animationName:this.ZG});this.Ca(d.C.Qf.N.f2);
this.Ca(d.C.Qf.N.e2);this.DO(!1);this.hk=0}oz(m,g){if(m!==g){var l=this.m(),n=m.Xe();m=g.Xe();var p=n.$();n=n.X();var q=m.$(),u=m.X();p!==q&&l.Fi(l.$()*(q/p));n!==u&&l.yi(l.X()*(u/n));l.Pq(g.Wk());l.Qq(g.Xk());l.iF(g.Xo);l.Xa();this.Je=g;this.zr=m.Od();this.xH=m.li();this.cv=m.ey();g=this.za().dd;for(let w=0,r=g.length;w<r;++w);this.hq("framechange",!1,{animationName:this.Db.wa(),TU:this.ob});this.Ca(d.C.Qf.N.o2);this.g.aa()}}yba(m){this.Jq(!0);this.aj=this.et();1===m&&0!==this.ob&&(this.Zu=0,this.rE()||
this.QF());this.Lm()}Faa(m,g){this.pr=m;this.lS=g;this.Lm();this.rE()||this.NP()}hQ(){return this.pr?this.pr:this.Db.wa()}vR(m){isFinite(m)&&(this.Zu=m,this.rE()||this.QF())}Haa(m){this.kk=Math.abs(m);this.bu(0<=m);0<this.kk&&this.Lm()}dQ(){return this.vy()?this.kk:-this.kk}Gaa(m){this.yr=m=d.da(Math.floor(m),0,this.Db.ud.length-1)}NP(){const m=this.Je;var g=this.K.hM(this.pr);this.pr="";!g||g===this.Db&&this.ry()||(this.Db=g,this.bu(0<=g.Mj()),this.kk=Math.abs(g.Mj()),this.yr=g.eU,this.ob=d.da(this.ob,
0,this.Db.ud.length-1),1===this.lS&&(this.ob=0),this.Jq(!0),this.aj=this.et(),g=this.Db.rm(this.ob),this.oz(m,g))}QF(){const m=this.Je;var g=this.ob;this.ob=d.da(Math.floor(this.Zu),0,this.Db.ud.length-1);this.Zu=-1;g!==this.ob&&(g=this.Db.rm(this.ob),this.oz(m,g),this.aj=this.et())}HG(){const m=this.Je.Xe();this.zr=m.Od();this.xH=m.li();this.cv=m.ey();this.m().cF(!0)}Od(){return this.zr}li(){return this.xH}ey(){return this.cv}OD(){return this.Je.OD()}ao(m){const g=this.Je,l=this.m();if("string"===
typeof m)m=g.a_(m);else if("number"===typeof m)m=g.$Z(m-1);else throw new TypeError("expected string or number");if(!m)return[l.oa(),l.pa()];c.na(m.oJ);if(l.Kf()){const [n,p]=l.Lj().bP(c.P,c.M);c.set(n,p)}c.offset(-g.Wk(),-g.Xk());c.scale(l.$(),l.X());c.rotate(l.Ma());c.offset(l.oa(),l.pa());return[c.P,c.M]}CZ(){return this.m().Zk().AV()}jM(m){m=Math.floor(m);const g=this.m();var l=g.Zk();const n=l.AV();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Hd;return[l[2*m]+g.oa(),l[2*m+1]+g.pa()]}Ad(){const m=
{a:this.Db.fb};0!==this.aj&&(m.fs=this.aj);var g=this.et();0!==g&&(m.at=g);0!==this.ob&&(m.f=this.ob);0!==this.kk&&(m.cas=this.kk);1!==this.hk&&(m.ar=this.hk);0!==this.yr&&(m.rt=this.yr);this.ry()||(m.ap=this.ry());this.vy()||(m.af=this.vy());g=this.m();g.mi()&&(m.ce=g.mi());return m}sd(m){var g=this.H().vZ(m.a);g&&(this.Db=g);this.aj=m.hasOwnProperty("fs")?m.fs:0;this.Hz.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.ob=d.da(g,0,this.Db.ud.length-1);this.kk=m.hasOwnProperty("cas")?
m.cas:0;this.hk=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.yr=d.da(g,0,this.Db.ud.length-1);this.Jq(m.hasOwnProperty("ap")?!!m.ap:!0);this.bu(m.hasOwnProperty("af")?!!m.af:!0);this.Je=g=this.Db.rm(this.ob);this.HG();const l=this.m();l.Pq(g.Wk());l.Qq(g.Xk());l.iF(g.Xo);l.Vt(!!m.ce)}wc(m){const g=this.m();switch(m){case 3:return g.mi();case 2:return d.da(this.ob,0,this.Db.ud.length-1)}}lh(m,g){var l=this.m();switch(m){case 3:l.Vt(!!g);break;case 2:this.Jq(!1);m=this.Db.ud.length-
1;l=g=d.da(g,0,m);g=this.Db.rm(this.ob);const n=this.Db.rm(l);this.oz(g,n);this.ob=d.da(l,0,m)}}Yk(){return self.l0}};const h=new WeakMap;self.l0=class extends self.my{constructor(){super();h.set(this,self.uq.$q().ka)}get animation(){return h.get(this).Db.Gca}get animationName(){return h.get(this).hQ()}set TU(m){a.xi(m);h.get(this).vR(m)}get TU(){return h.get(this).ob}get imageWidth(){return h.get(this).hh().$()}get imageHeight(){return h.get(this).hh().X()}}}
{"use strict";const d=self.B;d.C.Qf.N={mia(a){return d.gm(this.hQ(),a)},Kga(a,b){return d.compare(this.ob,a,b)},Gga(a,b){return d.compare(this.dQ(),a,b)},e2(a){return d.gm(this.ZG,a)},f2(){return!0},o2(){return!0},Iia(){return 0>this.m().$()},Aia(){return 0>this.m().X()},MN(){return!0},N2(){return!0},mi(){return this.m().mi()}}}
{"use strict";const d=self.B;d.C.Qf.Kd={ona(a,b,e,c){if(a&&b){var [h,m]=this.ao(e);if(e=this.g.oD(a,b,h,m,c)){c&&b.oF(e);a.sb().zq()&&(b=e.m(),b.Bd(this.m().Ma()),b.Xa());b=this.g.ga();b.se(!0);e.Bz();b.se(!1);c=this.g.jt().Kj();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Hr)b=!0,c.set("Spawn_LastExec",this.g.Hr);if(a!==this.H()&&(a=a.U(),a.fe(!1),a=a.F,b&&d.D(a),a.push(e),e.Sb()))for(const g of e.vd)e=g.H().U(),b?e.Yj(g):(e.fe(!1),e.Oo(g))}}},vna(){this.Jq(!1)},rna(a){this.yba(a)},
dma(a,b){this.Faa(a,b)},ema(a){this.vR(a)},gma(a){this.Haa(a)},fma(a){this.Gaa(a)},Yma(a){const b=this.m(),e=b.$();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Fi(a),b.Xa())},sma(a){const b=this.m(),e=b.X();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.yi(a),b.Xa())},eF(a){const b=this.Je.Xe(),e=this.m();var c=0>e.$()?-1:1;const h=0>e.X()?-1:1;c*=b.$()*a;a=b.X()*a*h;if(e.$()!==c||e.X()!==a)e.kd(c,a),e.Xa()},async mja(a,b){const e=this.Je.Xe(),c=this.m(),h=this.g;if(e.Ck===a)0===b&&(c.kd(e.$(),e.X()),c.Xa()),this.Ca(d.C.Qf.N.MN);
else{var m=d.j(d.oy);try{await m.E1(h,a);if(!m.uE())throw Error("image failed to load");await m.It(h.eb(),{sj:this.g.nd})}catch(g){console.error("Load image from URL failed: ",g);this.Ca(d.C.Qf.N.N2);return}e.z3(m);this.Gc.VR();this.az()||0!==b||(c.kd(e.$(),e.X()),c.Xa());h.aa();this.az()||await this.ld(d.C.Qf.N.MN)}},lma(a){this.m().Vt(a)},hF(a,b){this.m().hF(0===a,b)},i4(a){this.m().Of(a);this.g.aa()}}}"use strict";
self.B.C.Qf.Zc={dga(){return this.ob},ega(){return this.Db.ud.length},fga(){return this.Db.wa()},gga(){return this.dQ()},bka(){return this.Db.Mj()},eia(d){return this.ao(d)[0]},fia(d){return this.ao(d)[1]},dia(){return this.OD()},gia(){return this.hh().$()},cia(){return this.hh().X()},Cka(d){return this.jM(d)[0]},Dka(d){return this.jM(d)[1]},Bka(){return this.CZ()}};{"use strict";const d=self.B;d.C.mc=class extends d.Iq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.B;d.C.mc.Io=class extends d.Tt{constructor(a){super(a)}A(){super.A()}zd(){}}}
{"use strict";const d=self.B;d.C.mc.Instance=class extends d.Ly{constructor(a){super(a,"browser");this.pk="";this.Ev=!1;this.wS=this.bU="";this.iT=!1;this.jK=this.gU=this.hU=0;this.Bv=!1;this.oW([["online-state",b=>this.g$(b)],["backbutton",()=>this.P9()],["sw-message",b=>this.m$(b)],["hashchange",b=>this.b$(b)]]);a=this.G().Rb();this.jf=new d.lD(d.ue.gh(a,"afterfirstlayoutstart",()=>this.O9()),d.ue.gh(a,"window-resize",()=>this.oG()),d.ue.gh(a,"suspend",()=>this.n$()),d.ue.gh(a,"resume",()=>this.l$()));
this.g.vW(this.GE("get-initial-state",{exportType:this.g.Yi}).then(b=>{this.pk=b.location;this.Ev=b.isOnline;this.bU=b.referrer;this.wS=b.title;this.iT=b.isCookieEnabled;this.hU=b.screenWidth;this.gU=b.screenHeight;this.jK=b.windowOuterWidth;this.Bv=b.isConstructArcade}))}A(){super.A()}O9(){this.si("ready-for-sw-messages")}async g$(a){a=!!a.isOnline;this.Ev!==a&&((this.Ev=a)?await this.ld(d.C.mc.N.z2):await this.ld(d.C.mc.N.x2))}async oG(){await this.ld(d.C.mc.N.E2)}n$(){this.Ca(d.C.mc.N.A2)}l$(){this.Ca(d.C.mc.N.B2)}async P9(){await this.ld(d.C.mc.N.g2)}m$(a){a=
a.type;"downloading-update"===a?this.Ca(d.C.mc.N.NN):"update-ready"===a||"update-pending"===a?this.Ca(d.C.mc.N.ON):"offline-ready"===a&&this.Ca(d.C.mc.N.y2)}b$(a){this.pk=a.location;this.Ca(d.C.mc.N.p2)}}}"use strict";
self.B.C.mc.N={Oia(){return this.Ev},z2(){return!0},x2(){return!0},E2(){return!0},aha(){return this.iT},Cia(){return this.g.L.rp},g2(){return!0},Sia(d){return(this.g.L.Gk<=this.g.L.Fk?0:1)===d},NN(){return!0},ON(){return!0},y2(){return!0},p2(){return!0},cka(){return!this.g.zm()},A2(){return!0},B2(){return!0},Uha(){return!1},yia(){return!1},Qja(){return!1},Rja(){return!1},Hia(){return!1},ria(){return!0},Ina(){return!0}};
{"use strict";const d=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.mc.Kd={Zfa(b){this.si("alert",{message:b.toString()})},Cga(){this.Bv||(this.g.qb?self.jg.Dga():this.si("close"))},Aha(){this.si("set-focus",{isFocus:!0})},tga(){this.si("set-focus",{isFocus:!1})},Oha(){this.Bv||this.si("navigate",{type:"back"})},Pha(){this.Bv||this.si("navigate",{type:"forward"})},Qha(){},p3(){this.Bv||(this.g.qb?this.g.W2():this.si("navigate",
{type:"reload"}))},Tha(b,e){this.ck("navigate",{type:"url",url:b,target:e,exportType:this.g.Yi})},J_(b,e){this.ck("navigate",{type:"new-window",url:b,tag:e,exportType:this.g.Yi})},Wka(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.jD.bQ(b);this.g.L.h4(b);this.ck("request-fullscreen",{navUI:e})},yga(){this.ck("exit-fullscreen")},koa(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.ck("vibrate",{pattern:b})},async jE(b,e){b&&e&&(b=await this.g.cd.SD(b),this.g.jE(b,e))},
lia(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.g.jE(b,c))},$ga(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},Yga(b){console.group(b)},Zga(){console.groupEnd()},tha(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},oja(b){b=Math.floor(b);0>b||b>=a.length||this.ck("lock-orientation",{orientation:a[b]})},doa(){this.ck("unlock-orientation")},vN(b){this.g.cd.vN(b)},zma(b){this.si("set-hash",{hash:b})}}}"use strict";
self.B.C.mc.Zc={URL(){return this.g.ke?this.pk:location.toString()},Kka(){return this.g.ke?(new URL(this.pk)).protocol:location.protocol},jha(){return this.g.ke?(new URL(this.pk)).hostname:location.hostname},Fka(){return this.g.ke?(new URL(this.pk)).port:location.port},eka(){return this.g.ke?(new URL(this.pk)).pathname:location.pathname},Wha(){return this.g.ke?(new URL(this.pk)).hash:location.hash},IE(){return this.g.ke?(new URL(this.pk)).search:location.search},Mka(d){const a=this.g.ke?(new URL(this.pk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Qka(){return this.bU},Nna(){return this.wS},Zia(){return navigator.language},Kc(){return navigator.platform},hoa(){return navigator.userAgent},sha(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},Cja(){return navigator.appName},joa(){return navigator.appVersion},Ika(){return navigator.product},
ioa(){return navigator.vendor},oga(){return 1},pga(){return Infinity},nga(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},hha(){return self.devicePixelRatio},Yla(){return this.hU},Xla(){return this.gU},zoa(){return this.g.L.Gk},yoa(){return this.g.L.Fk},Boa(){return this.jK},Aoa(){return this.jK}};{"use strict";const d=self.B;d.C.Touch=class extends d.Iq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.B,a=self.kg;d.C.Touch.Io=class extends d.Tt{constructor(e){super(e)}A(){super.A()}zd(){}Yk(){return self.p0}};let b=null;self.p0=class extends self.WM{constructor(e){super(e);b=e;e.G().Zz.mL=this}requestPermission(e){a.jd(e);const c=b.ki().ka;if("orientation"===e)return c.pG(0);if("motion"===e)return c.pG(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.C.Touch.Instance=class extends d.Ly{constructor(a,b){super(a,"touch");this.ed=new Map;this.TA=this.FU=!1;this.vA=this.xh=this.wh=this.SJ=this.fC=this.ws=this.NG=this.MG=this.LG=this.QG=this.PG=this.OG=this.kJ=this.jJ=this.iJ=this.wB=0;this.AB=[];b&&(this.FU=b[0]);this.XC("permission-result",e=>this.h$(e));a=this.G().Rb();this.jf=new d.lD(d.ue.gh(a,"pointerdown",e=>this.i$(e.data)),d.ue.gh(a,"pointermove",e=>this.j$(e.data)),d.ue.gh(a,"pointerup",e=>this.$Q(e.data,!1)),
d.ue.gh(a,"pointercancel",e=>this.$Q(e.data,!0)),d.ue.gh(a,"deviceorientation",e=>this.U9(e.data)),d.ue.gh(a,"deviceorientationabsolute",e=>this.V9(e.data)),d.ue.gh(a,"devicemotion",e=>this.T9(e.data)),d.ue.gh(a,"tick2",()=>this.mG()))}A(){this.ed.clear();super.A()}i$(a){if("mouse"===a.pointerType)if(this.FU)this.TA=!0;else return;const b=a.pointerId;if(!this.ed.has(b)){var e=a.pageX-this.g.ht();a=a.pageY-this.g.it();var c=performance.now(),h=this.ed.size;this.ws=h;this.fC=b;var m=d.j(d.C.Touch.r5);
m.bl(c,e,a,b,h);this.ed.set(b,m);this.Ca(d.C.Touch.N.w2);this.Ca(d.C.Touch.N.M2);this.wh=e;this.xh=a;this.Ca(d.C.Touch.N.L2)}}j$(a){if("mouse"!==a.pointerType||this.TA){var b=this.ed.get(a.pointerId);if(b){var e=performance.now();2>e-b.xa()||b.hl(e,a.pageX-this.g.ht(),a.pageY-this.g.it(),a.width,a.height,a.pressure)}}}$Q(a,b){if("mouse"===a.pointerType)if(this.TA)this.TA=!1;else return;const e=performance.now();a=a.pointerId;const c=this.ed.get(a);c&&(this.ws=c.Id,this.fC=c.Cj(),this.Ca(d.C.Touch.N.v2),
this.Ca(d.C.Touch.N.K2),b||(b=c.d5(e),"single-tap"===b?(this.Ca(d.C.Touch.N.J2),this.wh=c.oa(),this.xh=c.pa(),this.Ca(d.C.Touch.N.JN)):"double-tap"===b&&(this.Ca(d.C.Touch.N.n2),this.wh=c.oa(),this.xh=c.pa(),this.Ca(d.C.Touch.N.EN))),c.A(),this.ed.delete(a))}pG(a){this.ck("request-permission",{type:a});return new Promise((b,e)=>{this.AB.push({type:a,resolve:b,reject:e})})}h$(a){const b=a.result,e=a.type;this.SJ=e;a=this.AB.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.AB=
this.AB.filter(c=>c.type!==e);b?(this.Ca(d.C.Touch.N.D2),0===e?this.g.Hq():this.g.Cm()):this.Ca(d.C.Touch.N.C2)}U9(a){"number"===typeof a.webkitCompassHeading?this.wB=a.webkitCompassHeading:a.absolute&&(this.wB=a.alpha);this.iJ=a.alpha;this.jJ=a.beta;this.kJ=a.gamma}V9(a){this.wB=a.alpha}T9(a){const b=a.acceleration;b&&(this.OG=b.x,this.PG=b.y,this.QG=b.z);if(a=a.accelerationIncludingGravity)this.LG=a.x,this.MG=a.y,this.NG=a.z}mG(){const a=performance.now();let b=0;for(const e of this.ed.values())e.xa()<=
a-50&&e.fba(a),e.c5(a)&&(this.ws=e.Id,this.fC=e.Cj(),this.vA=b,this.Ca(d.C.Touch.N.q2),this.wh=e.oa(),this.xh=e.pa(),this.Ca(d.C.Touch.N.r2),this.vA=0),++b}Ki(a){a=Math.floor(a);for(const b of this.ed.values()){if(0===a)return b;--a}return null}ru(a,b){return 0<=a&&0<=b&&a<this.g.BZ()&&b<this.g.AZ()}}}
{"use strict";const d=self.B,a=[];d.C.Touch.N={M2(){return!0},K2(){return!0},Dia(){return 0<this.ed.size},L2(b){return b&&this.ru(this.wh,this.xh)?this.g.Si.Vy(b,this.wh,this.xh):!1},Via(b){if(!b)return!1;const e=b.U();var c=e.ja();for(const h of c){c=h.m();const m=c.ba();for(const g of this.ed.values()){if(!this.ru(g.oa(),g.pa()))continue;const [l,n]=m.dh(g.oa(),g.pa(),c.$e());if(m.wy()&&c.Ws(l,n)){a.push(h);break}}}return a.length?(e.Ut(a),b.Xb(),d.D(a),!0):!1},Qga(b,e,c){return(b=this.Ki(b))?d.compare(b.Mj(),
e,c):!1},aka(){return!0},wja(){return!0},Oga(b,e,c){this.g.Hq();return d.compare(0===b?this.iJ:1===b?this.jJ:this.kJ,e,c)},Fga(b,e,c){this.g.Cm();return d.compare(0===b?this.LG:1===b?this.MG:2===b?this.NG:3===b?this.OG:4===b?this.PG:this.QG,e,c)},w2(b){b=Math.floor(b);return b===this.ws},v2(b){b=Math.floor(b);return b===this.ws},Vha(b){b=Math.floor(b);return this.ed.size>=b+1},q2(){return!0},J2(){return!0},n2(){return!0},r2(b){return b&&this.ru(this.wh,this.xh)?this.g.Si.Vy(b,this.wh,this.xh):!1},
JN(b){return b&&this.ru(this.wh,this.xh)?this.g.Si.Vy(b,this.wh,this.xh):!1},EN(b){return b&&this.ru(this.wh,this.xh)?this.g.Si.Vy(b,this.wh,this.xh):!1},D2(b){return this.SJ===b},C2(b){return this.SJ===b}}}"use strict";self.B.C.Touch.Kd={Yka(d){this.pG(d)}};
{"use strict";const d=self.B;d.C.Touch.Zc={Tna(){return this.ed.size},oP(a){const b=this.Ki(this.vA);return b?b.nq(this.g.Ha(),a,!0):0},P5(a){const b=this.Ki(this.vA);return b?b.nq(this.g.Ha(),a,!1):0},Coa(a,b){return(a=this.Ki(a))?a.nq(this.g.Ha(),b,!0):0},Eoa(a,b){return(a=this.Ki(a))?a.nq(this.g.Ha(),b,!1):0},Doa(a,b){return(a=this.ed.get(a))?a.nq(this.g.Ha(),b,!0):0},Foa(a,b){return(a=this.ed.get(a))?a.nq(this.g.Ha(),b,!1):0},Ifa(){const a=this.Ki(0);return a?a.oa():0},Lfa(){const a=this.Ki(0);
return a?a.pa():0},Jfa(a){return(a=this.Ki(a))?a.oa():0},Mfa(a){return(a=this.Ki(a))?a.pa():0},Kfa(a){return(a=this.ed.get(a))?a.oa():0},Nfa(a){return(a=this.ed.get(a))?a.pa():0},pna(a){return(a=this.Ki(a))?a.Mj():0},qna(a){return(a=this.ed.get(a))?a.Mj():0},bga(a){return(a=this.Ki(a))?d.ai(a.Ma()):0},cga(a){return(a=this.ed.get(a))?d.ai(a.Ma()):0},Xga(){this.g.Hq();return this.wB},$fa(){this.g.Hq();return this.iJ},qga(){this.g.Hq();return this.jJ},Gha(){this.g.Hq();return this.kJ},Pfa(){this.g.Cm();
return this.LG},Rfa(){this.g.Cm();return this.MG},Tfa(){this.g.Cm();return this.NG},Ofa(){this.g.Cm();return this.OG},Qfa(){this.g.Cm();return this.PG},Sfa(){this.g.Cm();return this.QG},Vna(){return this.ws},Una(){return this.fC},xoa(a){return(a=this.ed.get(a))?a.$():0},Yha(a){return(a=this.ed.get(a))?a.X():0},Gka(a){return(a=this.ed.get(a))?a.YT:0}}}
{"use strict";const d=self.B;let a=-1E3,b=-1E3,e=-1E4;d.C.Touch.r5=class extends d.ea{constructor(){super();this.YT=this.R=this.T=this.kB=this.jB=this.M=this.P=this.$B=this.ZB=this.iB=this.Wb=this.pn=this.Id=this.XT=0;this.ZA=this.$H=!1}A(){}bl(c,h,m,g,l){this.XT=g;this.Id=l;this.pn=this.iB=this.Wb=c;this.ZB=h;this.$B=m;this.P=h;this.M=m;this.jB=h;this.kB=m}hl(c,h,m,g,l,n){this.iB=this.Wb;this.Wb=c;this.jB=this.P;this.kB=this.M;this.P=h;this.M=m;this.T=g;this.R=l;this.YT=n;!this.ZA&&15<=d.Es(this.ZB,
this.$B,this.P,this.M)&&(this.ZA=!0)}Cj(){return this.XT}xa(){return this.Wb}fba(c){this.iB=c}oa(){return this.P}pa(){return this.M}Mj(){const c=d.Es(this.P,this.M,this.jB,this.kB),h=(this.Wb-this.iB)/1E3;return 0<h?c/h:0}Ma(){return d.pK(this.jB,this.kB,this.P,this.M)}$(){return this.T}X(){return this.R}c5(c){return this.$H?!1:500<=c-this.pn&&!this.ZA&&15>d.Es(this.ZB,this.$B,this.P,this.M)?this.$H=!0:!1}d5(c){if(this.$H)return"";if(333>=c-this.pn&&!this.ZA&&15>d.Es(this.ZB,this.$B,this.P,this.M)){if(666>=
c-e&&25>d.Es(a,b,this.P,this.M))return b=a=-1E3,e=-1E4,"double-tap";a=this.P;b=this.M;e=c;return"single-tap"}return""}nq(c,h,m){return"undefined"===typeof h?c.Ux(0).eX(this.P,this.M)[m?0:1]:(c=c.ba(h))?c.dh(this.P,this.M)[m?0:1]:0}}}
{const d=self.B;self.xL=function(){return[d.C.qh,d.C.Text,d.C.Qf,d.C.mc,d.C.Touch,d.C.qh.N.KN,d.C.Ya.Kd.V4,d.C.Ya.Zc.replace,d.C.Ya.Zc.trim,d.C.qh.Zc.Text,d.C.Ya.N.pZ,d.C.Ya.Zc.ufa,d.C.Ya.Zc.tfa,d.C.Ya.Zc.Kea,d.C.Ya.N.rX,d.C.Ya.Zc.Bfa,d.C.Ya.Kd.AW,d.C.Ya.N.ZL,d.C.Ya.Zc.find,d.C.Ya.Zc.vea,d.C.Text.Kd.Uq,d.C.Ya.N.FN,d.C.qh.Kd.b4,d.C.Ya.Zc.Vea,d.C.Ya.Zc.Wea,d.C.Ya.Kd.zF,d.C.Qf.Kd.oh,d.C.Text.Zc.oP,d.C.Text.Zc.n5,d.C.Touch.N.JN,d.C.Touch.N.EN,d.C.mc.Kd.J_,d.C.mc.N.NN,d.C.mc.N.ON,d.C.mc.Kd.p3]};self.XW=
[{Mna:0},{Text:0},{Jna:0},{Kna:0},{Jka:0},{pja:0},{mc:0},{gja:0},{Touch:0},{eha:0},{Qna:0},{Rna:0},{hpa:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.WW=[()=>0,a=>{const b=a.zc(0).Te(),e=a.zc(1).Te(),c=a.zc(2);return()=>b(e(c.xD()),"\t",";")},()=>"",a=>{const b=a.zc(0).Te(),e=a.zc(1).Ah;return()=>b(e.Zb(),"\n")-1},a=>{const b=a.zc(0).Te(),e=a.zc(1).Te(),c=a.zc(2).Te(),h=a.zc(3).Ah,m=a.zc(4).Te();return()=>b(e(c(h.Zb(),m(),"\n"),3,";"))},a=>{const b=
a.zc(0).Te(),e=a.zc(1).Ah;return()=>b(e.Zb())},()=>"FOUND!",()=>1E3,()=>1,a=>{const b=a.zc(0).Te(),e=a.zc(1).Ah;return()=>b(e.Zb(),"/")},()=>-1,a=>{const b=a.zc(0).Te(),e=a.zc(1).Te(),c=a.zc(2).Ah;return()=>b(e(c.Zb(),0,"/"))},a=>{const b=a.zc(0).Ah,e=a.zc(1).Ah,c=a.zc(2).Ah;return()=>d(d(d(b.Zb(),"\n"),Math.round(e.Zb()/500500*1E4)/100)+"\n",c.Zb())},()=>"background",()=>"#222",()=>"color",()=>"#888",()=>"border",()=>"1px #888",a=>{const b=a.zc(0).Te(),e=a.zc(1).Te();return()=>b()+" - "+e()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},
a=>{const b=a.zc(0),e=a.zc(1);return()=>b.xD()+e.xD()/2+2},()=>"https://semantle.novalis.org/",()=>"NewWindow"]};
