// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(f){function a(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];d[0]=x*E+D*H;d[1]=C*E+k*H;d[2]=x*K+D*t;d[3]=C*K+k*t;return d}function b(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function e(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0],N=t[1],P=t[2],R=t[3],W=t[4];t=t[5];d[0]=x*K+D*N;d[1]=C*K+E*N;d[2]=x*P+D*R;d[3]=C*P+E*R;d[4]=x*W+D*t+H;d[5]=C*W+E*t+k;return d}function c(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-
t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];return d}function g(){var d=new qa(9);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0);d[0]=1;d[4]=1;d[8]=1;return d}function n(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var R=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];d[0]=R*x+W*E+V*N;d[1]=R*C+W*H+V*P;d[2]=R*D+W*K+V*k;d[3]=ea*x+ia*E+ca*N;d[4]=ea*C+ia*H+ca*P;d[5]=ea*D+ia*K+ca*k;d[6]=oa*x+la*E+t*N;d[7]=oa*C+la*H+t*P;d[8]=oa*D+la*K+
t*k;return d}function h(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];return d}function l(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d}function m(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7],R=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];d[0]=
la*x+ra*H+sa*R+pa*ia;d[1]=la*C+ra*K+sa*W+pa*ca;d[2]=la*D+ra*N+sa*V+pa*oa;d[3]=la*E+ra*P+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];d[4]=la*x+ra*H+sa*R+pa*ia;d[5]=la*C+ra*K+sa*W+pa*ca;d[6]=la*D+ra*N+sa*V+pa*oa;d[7]=la*E+ra*P+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];d[8]=la*x+ra*H+sa*R+pa*ia;d[9]=la*C+ra*K+sa*W+pa*ca;d[10]=la*D+ra*N+sa*V+pa*oa;d[11]=la*E+ra*P+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];d[12]=la*x+ra*H+sa*R+pa*ia;d[13]=la*C+ra*K+sa*W+pa*ca;d[14]=la*D+ra*N+sa*V+pa*oa;d[15]=la*
E+ra*P+sa*ea+pa*k;return d}function p(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=x+x,K=C+C,N=D+D;k=x*H;var P=x*K;x*=N;var R=C*K;C*=N;D*=N;H*=E;K*=E;E*=N;d[0]=1-(R+D);d[1]=P+E;d[2]=x-K;d[3]=0;d[4]=P-E;d[5]=1-(k+D);d[6]=C+H;d[7]=0;d[8]=x+K;d[9]=C-H;d[10]=1-(k+R);d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d}function r(d,k){d[0]=k[12];d[1]=k[13];d[2]=k[14];return d}function u(d,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],H=k[10];d[0]=Math.hypot(k[0],k[1],k[2]);d[1]=Math.hypot(t,x,C);d[2]=Math.hypot(D,
E,H);return d}function q(d,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var H=k[2]*D,K=k[4]*x,N=k[5]*C,P=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),d[3]=.25*E,d[0]=(P-C)/E,d[1]=(x-H)/E,d[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),d[3]=(P-C)/E,d[0]=.25*E,d[1]=(t+K)/E,d[2]=(x+H)/E):N>k?(E=2*Math.sqrt(1+N-E-k),d[3]=(x-H)/E,d[0]=(t+K)/E,d[1]=.25*E,d[2]=(P+C)/E):(E=2*Math.sqrt(1+k-E-N),d[3]=(t-K)/E,d[0]=(x+H)/E,d[1]=(P+C)/E,d[2]=.25*E);return d}function v(d,
k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=(C+x)*t,d[14]=2*C*x*t):(d[10]=-1,d[14]=-2*x);return d}function w(d,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C),N=1/(D-E);d[0]=-2*H;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=2*N;d[11]=0;d[12]=(k+t)*H;d[13]=(C+x)*K;d[14]=(E+D)*N;d[15]=1;return d}function y(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];
d[3]=k[3]-t[3];d[4]=k[4]-t[4];d[5]=k[5]-t[5];d[6]=k[6]-t[6];d[7]=k[7]-t[7];d[8]=k[8]-t[8];d[9]=k[9]-t[9];d[10]=k[10]-t[10];d[11]=k[11]-t[11];d[12]=k[12]-t[12];d[13]=k[13]-t[13];d[14]=k[14]-t[14];d[15]=k[15]-t[15];return d}function A(){var d=new qa(3);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);return d}function G(d){return Math.hypot(d[0],d[1],d[2])}function z(d,k,t){var x=new qa(3);x[0]=d;x[1]=k;x[2]=t;return x}function F(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];return d}function I(d,k,t){d[0]=
k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];return d}function J(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];return d}function M(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2])}function Q(d,k){var t=k[0]-d[0],x=k[1]-d[1];d=k[2]-d[2];return t*t+x*x+d*d}function S(d){var k=d[0],t=d[1];d=d[2];return k*k+t*t+d*d}function T(d,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d}function Z(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]}function X(d,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];d[0]=C*t-k*E;d[1]=k*D-x*t;d[2]=x*E-C*D;return d}function ba(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[3]=0);return d}function Y(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k}function va(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C}function ta(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d}function ya(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d}function Na(d,k,t){d[0]=k[0]+t[0];
d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];return d}function Sa(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];d[2]=k[2]-t[2];d[3]=k[3]-t[3];return d}function Ta(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];d[2]=k[2]*t[2];d[3]=k[3]*t[3];return d}function Ua(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];d[2]=k[2]/t[2];d[3]=k[3]/t[3];return d}function Wa(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d}function eb(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1],k[2]-d[2],k[3]-d[3])}function fb(d,k){var t=k[0]-d[0],
x=k[1]-d[1],C=k[2]-d[2];d=k[3]-d[3];return t*t+x*x+C*C+d*d}function Pa(d){return Math.hypot(d[0],d[1],d[2],d[3])}function Va(d){var k=d[0],t=d[1],x=d[2];d=d[3];return k*k+t*t+x*x+d*d}function ib(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=k*D;return d}function Ya(d,k){return d[0]*k[0]+d[1]*k[1]+d[2]*k[2]+d[3]*k[3]}function vb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-D);d[2]=E+x*(t[2]-E);d[3]=k+
x*(t[3]-k);return d}function wb(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]}function jb(){var d=new qa(4);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0);d[3]=1;return d}function xb(d,k,t){t*=.5;var x=Math.sin(t);d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=Math.cos(t);return d}function yb(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];d[0]=x*t+k*E+C*K-D*H;d[1]=C*t+k*H+D*E-x*K;d[2]=D*t+k*K+x*H-C*E;d[3]=k*t-x*E-C*H-D*K;return d}function zb(d,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+k*E;d[1]=C*t+D*E;d[2]=D*t-C*E;d[3]=k*t-x*E;return d}function Ab(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t-D*E;d[1]=C*t+k*E;d[2]=D*t+x*E;d[3]=k*t-C*E;return d}function Bb(d,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+C*E;d[1]=C*t-x*E;d[2]=D*t+k*E;d[3]=k*t-D*E;return d}function Cb(d,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;d[0]=t*E;d[1]=x*E;d[2]=C*E;d[3]=k*Math.cos(D);return d}function Db(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;d[0]=t*D;d[1]=x*D;d[2]=C*D;d[3]=.5*Math.log(t*t+x*x+C*C+k*k);return d}function kb(d,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var H=t[0],K=t[1],N=t[2];t=t[3];var P=C*H+D*K+E*N+k*t;0>P&&(P=-P,H=-H,K=-K,N=-N,t=-t);if(1E-6<1-P){var R=Math.acos(P);var W=Math.sin(R);P=Math.sin((1-x)*R)/W;x=Math.sin(x*R)/W}else P=1-x;d[0]=P*C+x*
H;d[1]=P*D+x*K;d[2]=P*E+x*N;d[3]=P*k+x*t;return d}function Eb(d,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),d[3]=.5*t,t=.5/t,d[0]=(k[5]-k[7])*t,d[1]=(k[6]-k[2])*t,d[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);d[x]=.5*t;t=.5/t;d[3]=(k[3*C+D]-k[3*D+C])*t;d[C]=(k[3*C+x]+k[3*x+C])*t;d[D]=(k[3*D+x]+k[3*x+D])*t}return d}function Fb(d,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],H=k[2];k=k[3];d[0]=D;
d[1]=E;d[2]=H;d[3]=k;d[4]=x*k+C*H-t*E;d[5]=C*k+t*D-x*H;d[6]=t*k+x*E-C*D;d[7]=-x*D-C*E-t*H;return d}function Gb(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];return d}function lb(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=t[4],K=t[5],N=t[6],P=t[7],R=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];d[0]=x*t+E*ea+C*ca-D*ia;d[1]=C*t+E*ia+D*ea-x*ca;d[2]=D*t+E*ca+x*ia-C*ea;d[3]=E*t-x*ea-C*ia-D*ca;d[4]=x*P+E*H+C*N-D*K+R*t+k*ea+W*ca-V*ia;d[5]=C*P+E*K+D*H-x*
N+W*t+k*ia+V*ea-R*ca;d[6]=D*P+E*N+x*K-C*H+V*t+k*ca+R*ia-W*ea;d[7]=E*P-x*H-C*K-D*N+k*t-R*ea-W*ia-V*ca;return d}function Xa(){var d=new qa(2);qa!=Float32Array&&(d[0]=0,d[1]=0);return d}function mb(d,k,t){d[0]=k[0]-t[0];d[1]=k[1]-t[1];return d}function nb(d,k,t){d[0]=k[0]*t[0];d[1]=k[1]*t[1];return d}function Za(d,k,t){d[0]=k[0]/t[0];d[1]=k[1]/t[1];return d}function ob(d,k){return Math.hypot(k[0]-d[0],k[1]-d[1])}function Qa(d,k){var t=k[0]-d[0];d=k[1]-d[1];return t*t+d*d}function pb(d){return Math.hypot(d[0],
d[1])}function qb(d){var k=d[0];d=d[1];return k*k+d*d}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var d=0,k=arguments.length;k--;)d+=arguments[k]*arguments[k];return Math.sqrt(d)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Pba(){return qa},dga:Ma,Oba:"zyx",Hma:function(d){qa=d},Qma:function(d){return d*Mb},Xc:function(d,k){return Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var d=new qa(4);qa!=Float32Array&&(d[1]=0,d[2]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(4);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];return k},ia:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];return d},$u:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;return d},bf:function(d,k,t,x){var C=new qa(4);C[0]=d;C[1]=k;C[2]=t;C[3]=x;return C},set:function(d,k,t,x,C){d[0]=k;d[1]=t;d[2]=x;d[3]=C;return d},lT:function(d,k){if(d===k){var t=k[1];d[1]=k[2];d[2]=t}else d[0]=k[0],
d[1]=k[2],d[2]=k[1],d[3]=k[3];return d},hr:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;d[0]=k*D;d[1]=-x*D;d[2]=-C*D;d[3]=t*D;return d},dS:function(d,k){var t=k[0];d[0]=k[3];d[1]=-k[1];d[2]=-k[2];d[3]=t;return d},dI:function(d){return d[0]*d[3]-d[2]*d[1]},multiply:a,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);d[0]=x*t+D*E;d[1]=C*t+k*E;d[2]=x*-E+D*t;d[3]=C*-E+k*t;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];d[0]=k[0]*E;d[1]=x*E;d[2]=C*t;d[3]=D*t;return d},AA:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;return d},hI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=k[1];return d},el:function(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},gI:function(d){return Math.hypot(d[0],d[1],d[2],d[3])},Aea:function(d,k,t,x){d[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-d[2]*t[1];return[d,k,t]},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+
t[3];return d},fl:b,Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]},Xc:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},vI:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;return d},wI:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},Fm:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var d=new qa(6);qa!=Float32Array&&(d[1]=0,d[2]=0,d[4]=0,d[5]=0);d[0]=1;d[3]=1;return d},clone:function(d){var k=new qa(6);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];return k},ia:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];return d},$u:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d},bf:function(d,
k,t,x,C,D){var E=new qa(6);E[0]=d;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(d,k,t,x,C,D,E){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;return d},hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var H=t*D-x*C;if(!H)return null;H=1/H;d[0]=D*H;d[1]=-x*H;d[2]=-C*H;d[3]=t*H;d[4]=(C*k-D*E)*H;d[5]=(x*E-t*k)*H;return d},dI:function(d){return d[0]*d[3]-d[1]*d[2]},multiply:e,rotate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);d[0]=
x*t+D*K;d[1]=C*t+E*K;d[2]=x*-K+D*t;d[3]=C*-K+E*t;d[4]=H;d[5]=k;return d},scale:function(d,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=t[0];t=t[1];d[0]=k[0]*K;d[1]=x*K;d[2]=C*t;d[3]=D*t;d[4]=E;d[5]=H;return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=x*K+D*t+H;d[5]=C*K+E*t+k;return d},AA:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=-t;d[3]=k;d[4]=0;d[5]=0;return d},hI:function(d,k){d[0]=k[0];d[1]=
0;d[2]=0;d[3]=k[1];d[4]=0;d[5]=0;return d},iI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=k[0];d[5]=k[1];return d},el:function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"},gI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],1)},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];return d},fl:c,vI:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;return d},
wI:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;return d},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]},Xc:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4];d=d[5];var H=k[0],K=k[1],N=k[2],P=k[3],R=k[4];k=k[5];return Math.abs(t-H)<=1E-6*Math.max(1,Math.abs(t),Math.abs(H))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-P)<=1E-6*Math.max(1,Math.abs(D),Math.abs(P))&&Math.abs(E-R)<=1E-6*Math.max(1,Math.abs(E),Math.abs(R))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Fm:e,sub:c}),Qb=Object.freeze({__proto__:null,create:g,yaa:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[4];d[4]=k[5];d[5]=k[6];d[6]=k[8];d[7]=k[9];d[8]=k[10];return d},clone:function(d){var k=new qa(9);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=d[8];return k},ia:function(d,
k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},bf:function(d,k,t,x,C,D,E,H,K){var N=new qa(9);N[0]=d;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=H;N[8]=K;return N},set:function(d,k,t,x,C,D,E,H,K,N){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=H;d[7]=K;d[8]=N;return d},$u:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},lT:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[5];d[1]=k[3];d[2]=k[6];d[3]=t;d[5]=
k[7];d[6]=x;d[7]=C}else d[0]=k[0],d[1]=k[3],d[2]=k[6],d[3]=k[1],d[4]=k[4],d[5]=k[7],d[6]=k[2],d[7]=k[5],d[8]=k[8];return d},hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=k[8];var P=k*E-H*N,R=-k*D+H*K,W=N*D-E*K,V=t*P+x*R+C*W;if(!V)return null;V=1/V;d[0]=P*V;d[1]=(-k*x+C*N)*V;d[2]=(H*x-C*E)*V;d[3]=R*V;d[4]=(k*t-C*K)*V;d[5]=(-H*t+C*D)*V;d[6]=W*V;d[7]=(-N*t+x*K)*V;d[8]=(E*t-x*D)*V;return d},dS:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=
k[8];d[0]=E*k-H*N;d[1]=C*N-x*k;d[2]=x*H-C*E;d[3]=H*K-D*k;d[4]=t*k-C*K;d[5]=C*D-t*H;d[6]=D*N-E*K;d[7]=x*K-t*N;d[8]=t*E-x*D;return d},dI:function(d){var k=d[3],t=d[4],x=d[5],C=d[6],D=d[7],E=d[8];return d[0]*(E*t-x*D)+d[1]*(-E*k+x*C)+d[2]*(D*k-t*C)},multiply:n,translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var R=t[0];t=t[1];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=H;d[5]=K;d[6]=R*x+t*E+N;d[7]=R*C+t*H+P;d[8]=R*D+t*K+k;return d},rotate:function(d,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var R=Math.sin(t);t=Math.cos(t);d[0]=t*x+R*E;d[1]=t*C+R*H;d[2]=t*D+R*K;d[3]=t*E-R*x;d[4]=t*H-R*C;d[5]=t*K-R*D;d[6]=N;d[7]=P;d[8]=k;return d},scale:function(d,k,t){var x=t[0];t=t[1];d[0]=x*k[0];d[1]=x*k[1];d[2]=x*k[2];d[3]=t*k[3];d[4]=t*k[4];d[5]=t*k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];return d},iI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=k[0];d[7]=k[1];d[8]=1;return d},AA:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=
t;d[2]=0;d[3]=-t;d[4]=k;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},hI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=k[1];d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},wka:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=0;d[3]=k[2];d[4]=k[3];d[5]=0;d[6]=k[4];d[7]=k[5];d[8]=1;return d},zaa:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=H;D*=k;E*=k;k*=H;d[0]=1-x-C;d[3]=K-k;d[6]=N+E;d[1]=K+k;d[4]=1-t-C;d[7]=P-D;d[2]=N-E;d[5]=P+D;d[8]=1-t-x;return d},Ila:function(d,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],P=k[8],R=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=P*ia-R*ea,Ba=P*ca-W*ea;P=P*k-V*ea;var Ca=R*ca-W*ia;R=R*k-V*ia;W=W*k-V*ca;V=oa*W-la*R+ra*Ca+sa*P-pa*Ba+za*Aa;if(!V)return null;V=1/V;d[0]=(H*W-K*R+N*Ca)*V;d[1]=(K*P-E*W-N*Ba)*V;d[2]=(E*R-H*P+N*Aa)*V;d[3]=(C*R-x*W-D*Ca)*V;d[4]=(t*W-C*P+D*Ba)*V;d[5]=(x*P-t*R-D*Aa)*V;d[6]=(ia*za-ca*pa+k*sa)*V;d[7]=(ca*ra-
ea*za-k*la)*V;d[8]=(ea*pa-ia*ra+k*oa)*V;return d},PS:function(d,k,t){d[0]=2/k;d[1]=0;d[2]=0;d[3]=0;d[4]=-2/t;d[5]=0;d[6]=-1;d[7]=1;d[8]=1;return d},el:function(d){return"mat3("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+")"},gI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];
return d},fl:h,vI:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;return d},wI:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;return d},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]},Xc:function(d,k){var t=d[0],
x=d[1],C=d[2],D=d[3],E=d[4],H=d[5],K=d[6],N=d[7];d=d[8];var P=k[0],R=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-P)<=1E-6*Math.max(1,Math.abs(t),Math.abs(P))&&Math.abs(x-R)<=1E-6*Math.max(1,Math.abs(x),Math.abs(R))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(H-ia)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Fm:n,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var d=new qa(16);qa!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0);d[0]=1;d[5]=1;d[10]=1;d[15]=1;return d},clone:function(d){var k=new qa(16);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=
d[8];k[9]=d[9];k[10]=d[10];k[11]=d[11];k[12]=d[12];k[13]=d[13];k[14]=d[14];k[15]=d[15];return k},ia:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];d[6]=k[6];d[7]=k[7];d[8]=k[8];d[9]=k[9];d[10]=k[10];d[11]=k[11];d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=k[15];return d},bf:function(d,k,t,x,C,D,E,H,K,N,P,R,W,V,ea,ia){var ca=new qa(16);ca[0]=d;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=H;ca[8]=K;ca[9]=N;ca[10]=P;ca[11]=R;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(d,k,t,x,C,D,E,H,K,N,P,R,W,V,ea,ia,ca){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=H;d[7]=K;d[8]=N;d[9]=P;d[10]=R;d[11]=W;d[12]=V;d[13]=ea;d[14]=ia;d[15]=ca;return d},$u:l,lT:function(d,k){if(d===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],H=k[11];d[1]=k[4];d[2]=k[8];d[3]=k[12];d[4]=t;d[6]=k[9];d[7]=k[13];d[8]=x;d[9]=D;d[11]=k[14];d[12]=C;d[13]=E;d[14]=H}else d[0]=k[0],d[1]=k[4],d[2]=k[8],d[3]=k[12],d[4]=k[1],d[5]=k[5],d[6]=k[9],d[7]=k[13],d[8]=k[2],d[9]=k[6],d[10]=k[10],d[11]=k[14],
d[12]=k[3],d[13]=k[7],d[14]=k[11],d[15]=k[15];return d},hr:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],P=k[8],R=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=P*ia-R*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=R*ca-W*ia,Ja=R*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;d[0]=(H*Ka-K*Ja+N*Fa)*Da;d[1]=(C*Ja-x*Ka-D*Fa)*Da;d[2]=(ia*za-ca*pa+k*sa)*Da;d[3]=(W*pa-R*za-
V*sa)*Da;d[4]=(K*Ca-E*Ka-N*Ba)*Da;d[5]=(t*Ka-C*Ca+D*Ba)*Da;d[6]=(ca*ra-ea*za-k*la)*Da;d[7]=(P*za-W*ra+V*la)*Da;d[8]=(E*Ja-H*Ca+N*Aa)*Da;d[9]=(x*Ca-t*Ja-D*Aa)*Da;d[10]=(ea*pa-ia*ra+k*oa)*Da;d[11]=(R*ra-P*pa-V*oa)*Da;d[12]=(H*Ba-E*Fa-K*Aa)*Da;d[13]=(t*Fa-x*Ba+C*Aa)*Da;d[14]=(ia*la-ea*sa-ca*oa)*Da;d[15]=(P*sa-R*la+W*oa)*Da;return d},dS:function(d,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],P=k[8],R=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=P*ia-R*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=R*ca-W*ia,Ja=R*k-V*ia,Ka=W*k-V*ca;d[0]=H*Ka-K*Ja+N*Fa;d[1]=C*Ja-x*Ka-D*Fa;d[2]=ia*za-ca*pa+k*sa;d[3]=W*pa-R*za-V*sa;d[4]=K*Ca-E*Ka-N*Ba;d[5]=t*Ka-C*Ca+D*Ba;d[6]=ca*ra-ea*za-k*la;d[7]=P*za-W*ra+V*la;d[8]=E*Ja-H*Ca+N*Aa;d[9]=x*Ca-t*Ja-D*Aa;d[10]=ea*pa-ia*ra+k*oa;d[11]=R*ra-P*pa-V*oa;d[12]=H*Ba-E*Fa-K*Aa;d[13]=t*Fa-x*Ba+C*Aa;d[14]=ia*la-ea*sa-ca*oa;d[15]=P*sa-R*la+W*oa;return d},dI:function(d){var k=d[0],t=d[1],x=d[2],
C=d[4],D=d[5],E=d[6],H=d[8],K=d[9],N=d[10],P=d[12],R=d[13],W=d[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=H*R-K*P,oa=H*W-N*P,la=K*W-N*R;return d[7]*(k*la-t*oa+x*ca)-d[3]*(C*la-D*oa+E*ca)+d[15]*(H*ia-K*ea+N*V)-d[11]*(P*ia-R*ea+W*V)},multiply:m,translate:function(d,k,t){var x=t[0],C=t[1];t=t[2];if(k===d)d[12]=k[0]*x+k[4]*C+k[8]*t+k[12],d[13]=k[1]*x+k[5]*C+k[9]*t+k[13],d[14]=k[2]*x+k[6]*C+k[10]*t+k[14],d[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var H=k[2];var K=k[3];var N=k[4];var P=k[5];
var R=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];d[0]=D;d[1]=E;d[2]=H;d[3]=K;d[4]=N;d[5]=P;d[6]=R;d[7]=W;d[8]=V;d[9]=ea;d[10]=ia;d[11]=ca;d[12]=D*x+N*C+V*t+k[12];d[13]=E*x+P*C+ea*t+k[13];d[14]=H*x+R*C+ia*t+k[14];d[15]=K*x+W*C+ca*t+k[15]}return d},scale:function(d,k,t){var x=t[0],C=t[1];t=t[2];d[0]=k[0]*x;d[1]=k[1]*x;d[2]=k[2]*x;d[3]=k[3]*x;d[4]=k[4]*C;d[5]=k[5]*C;d[6]=k[6]*C;d[7]=k[7]*C;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12];d[13]=k[13];d[14]=k[14];d[15]=
k[15];return d},rotate:function(d,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var H=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var P=k[2];var R=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*H;var za=x*C*N-D*H;var Aa=C*D*N-x*H;var Ba=D*D*N+K;var Ca=x*D*N+C*H;var Fa=C*x*N+D*H;C=D*x*N-C*H;D=x*x*N+K;d[0]=t*sa+W*pa+ca*za;d[1]=E*sa+V*pa+oa*za;d[2]=P*sa+ea*
pa+la*za;d[3]=R*sa+ia*pa+ra*za;d[4]=t*Aa+W*Ba+ca*Ca;d[5]=E*Aa+V*Ba+oa*Ca;d[6]=P*Aa+ea*Ba+la*Ca;d[7]=R*Aa+ia*Ba+ra*Ca;d[8]=t*Fa+W*C+ca*D;d[9]=E*Fa+V*C+oa*D;d[10]=P*Fa+ea*C+la*D;d[11]=R*Fa+ia*C+ra*D;k!==d&&(d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);return d},GI:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],H=k[7],K=k[8],N=k[9],P=k[10],R=k[11];k!==d&&(d[0]=k[0],d[1]=k[1],d[2]=k[2],d[3]=k[3],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[4]=C*t+K*x;d[5]=D*t+N*x;d[6]=
E*t+P*x;d[7]=H*t+R*x;d[8]=K*t-C*x;d[9]=N*t-D*x;d[10]=P*t-E*x;d[11]=R*t-H*x;return d},HI:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[8],N=k[9],P=k[10],R=k[11];k!==d&&(d[4]=k[4],d[5]=k[5],d[6]=k[6],d[7]=k[7],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t-K*x;d[1]=D*t-N*x;d[2]=E*t-P*x;d[3]=H*t-R*x;d[8]=C*x+K*t;d[9]=D*x+N*t;d[10]=E*x+P*t;d[11]=H*x+R*t;return d},II:function(d,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[4],
N=k[5],P=k[6],R=k[7];k!==d&&(d[8]=k[8],d[9]=k[9],d[10]=k[10],d[11]=k[11],d[12]=k[12],d[13]=k[13],d[14]=k[14],d[15]=k[15]);d[0]=C*t+K*x;d[1]=D*t+N*x;d[2]=E*t+P*x;d[3]=H*t+R*x;d[4]=K*t-C*x;d[5]=N*t-D*x;d[6]=P*t-E*x;d[7]=R*t-H*x;return d},iI:function(d,k){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=k[0];d[13]=k[1];d[14]=k[2];d[15]=1;return d},hI:function(d,k){d[0]=k[0];d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k[1];d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=k[2];d[11]=0;
d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},AA:function(d,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;d[0]=x*x*E+k;d[1]=C*x*E+t*D;d[2]=t*x*E-C*D;d[3]=0;d[4]=x*C*E-t*D;d[5]=C*C*E+k;d[6]=t*C*E+x*D;d[7]=0;d[8]=x*t*E+C*D;d[9]=C*t*E-x*D;d[10]=t*t*E+k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Cka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=t;d[7]=0;d[8]=0;d[9]=
-t;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Dka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=0;d[2]=-t;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=t;d[9]=0;d[10]=k;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Eka:function(d,k){var t=Math.sin(k);k=Math.cos(k);d[0]=k;d[1]=t;d[2]=0;d[3]=0;d[4]=-t;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Aaa:p,yka:function(d,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],
N=k[6],P=k[7],R=x*x+C*C+D*D+E*E;0<R?(t[0]=2*(H*E+P*x+K*D-N*C)/R,t[1]=2*(K*E+P*C+N*x-H*D)/R,t[2]=2*(N*E+P*D+H*C-K*x)/R):(t[0]=2*(H*E+P*x+K*D-N*C),t[1]=2*(K*E+P*C+N*x-H*D),t[2]=2*(N*E+P*D+H*C-K*x));p(d,k,t);return d},Daa:r,Pka:u,Oka:q,hka:function(d,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],H=x[4],K=x[5],N=x[6],P=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(H,K,N);t[2]=Math.hypot(P,k,x);var R=1/t[0],W=1/t[1],V=1/t[2];t=C*R;D*=W;E*=V;H*=R;K*=W;N*=V;P*=R;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),d[3]=.25*x,d[0]=(N-k)/x,d[1]=(P-E)/x,d[2]=(D-H)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),d[3]=(N-k)/x,d[0]=.25*x,d[1]=(D+H)/x,d[2]=(P+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),d[3]=(P-E)/x,d[0]=(D+H)/x,d[1]=.25*x,d[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),d[3]=(D-H)/x,d[0]=(P+E)/x,d[1]=(N+k)/x,d[2]=.25*x);return d},zka:function(d,k,t,x){var C=k[0],D=k[1],E=k[2],H=k[3],K=C+C,N=D+D,P=E+E;k=C*K;var R=C*N;C*=P;var W=D*N;D*=P;E*=P;K*=H;N*=H;H*=P;P=x[0];var V=x[1];x=x[2];d[0]=(1-(W+E))*P;
d[1]=(R+H)*P;d[2]=(C-N)*P;d[3]=0;d[4]=(R-H)*V;d[5]=(1-(k+E))*V;d[6]=(D+K)*V;d[7]=0;d[8]=(C+N)*x;d[9]=(D-K)*x;d[10]=(1-(k+W))*x;d[11]=0;d[12]=t[0];d[13]=t[1];d[14]=t[2];d[15]=1;return d},Aka:function(d,k,t,x,C){var D=k[0],E=k[1],H=k[2],K=k[3],N=D+D,P=E+E,R=H+H;k=D*N;var W=D*P,V=D*R;D=E*P;E*=R;var ea=H*R;H=K*N;P*=K;var ia=K*R,ca=x[0],oa=x[1];R=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-P;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+H;V=(V+P)*R;E=(E-H)*R;k=(1-(k+D))*R;d[0]=N;d[1]=la;d[2]=
ca;d[3]=0;d[4]=W;d[5]=ea;d[6]=oa;d[7]=0;d[8]=V;d[9]=E;d[10]=k;d[11]=0;d[12]=t[0]+x-(N*x+W*K+V*C);d[13]=t[1]+K-(la*x+ea*K+E*C);d[14]=t[2]+C-(ca*x+oa*K+k*C);d[15]=1;return d},zaa:function(d,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=H;D*=k;E*=k;k*=H;d[0]=1-x-C;d[1]=K+k;d[2]=N-E;d[3]=0;d[4]=K-k;d[5]=1-t-C;d[6]=P+D;d[7]=0;d[8]=N+E;d[9]=P-D;d[10]=1-t-x;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},Baa:function(d,k,t,x,C,D,E){var H=1/(t-k),K=1/(C-
x),N=1/(D-E);d[0]=2*D*H;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*D*K;d[6]=0;d[7]=0;d[8]=(t+k)*H;d[9]=(C+x)*K;d[10]=(E+D)*N;d[11]=-1;d[12]=0;d[13]=0;d[14]=E*D*2*N;d[15]=0;return d},Tla:v,perspective:v,Ula:function(d,k,t,x,C){k=1/Math.tan(k/2);d[0]=k/t;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[11]=-1;d[12]=0;d[13]=0;d[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),d[10]=C*t,d[14]=C*x*t):(d[10]=-1,d[14]=-x);return d},Sla:function(d,k,t,x){var C=Math.tan(k.Xma*Math.PI/180),D=Math.tan(k.jka*Math.PI/
180),E=Math.tan(k.vla*Math.PI/180);k=Math.tan(k.rma*Math.PI/180);var H=2/(E+k),K=2/(C+D);d[0]=H;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=K;d[6]=0;d[7]=0;d[8]=-((E-k)*H*.5);d[9]=(C-D)*K*.5;d[10]=x/(t-x);d[11]=-1;d[12]=0;d[13]=0;d[14]=x*t/(t-x);d[15]=0;return d},Qla:w,gba:w,Rla:function(d,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C);E=1/(D-E);d[0]=-2*H;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*K;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=E;d[11]=0;d[12]=(k+t)*H;d[13]=(C+x)*K;d[14]=D*E;d[15]=1;return d},Xaa:function(d,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var H=x[1];var K=x[2];var N=t[0];x=t[1];var P=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-P))return l(d);t=C-N;x=D-x;N=k-P;var R=1/Math.hypot(t,x,N);t*=R;x*=R;N*=R;P=H*N-K*x;K=K*t-E*N;E=E*x-H*t;(R=Math.hypot(P,K,E))?(R=1/R,P*=R,K*=R,E*=R):E=K=P=0;H=x*E-N*K;var W=N*P-t*E;var V=t*K-x*P;(R=Math.hypot(H,W,V))?(R=1/R,H*=R,W*=R,V*=R):V=W=H=0;d[0]=P;d[1]=H;d[2]=t;d[3]=0;d[4]=K;d[5]=W;d[6]=x;d[7]=0;d[8]=E;d[9]=V;d[10]=N;d[11]=0;d[12]=-(P*C+K*D+E*k);d[13]=
-(H*C+W*D+V*k);d[14]=-(t*C+x*D+N*k);d[15]=1;return d},Nma:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],H=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var P=x*x+N*N+t*t;0<P&&(P=1/Math.sqrt(P),x*=P,N*=P,t*=P);var R=H*t-K*N;K=K*x-E*t;E=E*N-H*x;P=R*R+K*K+E*E;0<P&&(P=1/Math.sqrt(P),R*=P,K*=P,E*=P);d[0]=R;d[1]=K;d[2]=E;d[3]=0;d[4]=N*E-t*K;d[5]=t*R-x*E;d[6]=x*K-N*R;d[7]=0;d[8]=x;d[9]=N;d[10]=t;d[11]=0;d[12]=C;d[13]=D;d[14]=k;d[15]=1;return d},el:function(d){return"mat4("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+", "+d[9]+", "+d[10]+", "+d[11]+", "+d[12]+", "+d[13]+", "+d[14]+", "+d[15]+")"},gI:function(d){return Math.hypot(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];d[8]=k[8]+t[8];d[9]=k[9]+t[9];d[10]=k[10]+t[10];d[11]=k[11]+t[11];d[12]=k[12]+t[12];d[13]=k[13]+t[13];
d[14]=k[14]+t[14];d[15]=k[15]+t[15];return d},fl:y,vI:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;d[8]=k[8]*t;d[9]=k[9]*t;d[10]=k[10]*t;d[11]=k[11]*t;d[12]=k[12]*t;d[13]=k[13]*t;d[14]=k[14]*t;d[15]=k[15]*t;return d},wI:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;d[4]=k[4]+t[4]*x;d[5]=k[5]+t[5]*x;d[6]=k[6]+t[6]*x;d[7]=k[7]+t[7]*x;d[8]=k[8]+t[8]*x;d[9]=k[9]+t[9]*x;d[10]=k[10]+t[10]*x;d[11]=
k[11]+t[11]*x;d[12]=k[12]+t[12]*x;d[13]=k[13]+t[13]*x;d[14]=k[14]+t[14]*x;d[15]=k[15]+t[15]*x;return d},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]&&d[8]===k[8]&&d[9]===k[9]&&d[10]===k[10]&&d[11]===k[11]&&d[12]===k[12]&&d[13]===k[13]&&d[14]===k[14]&&d[15]===k[15]},Xc:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],H=d[5],K=d[6],N=d[7],P=d[8],R=d[9],W=d[10],V=d[11],ea=d[12],ia=d[13],ca=d[14];d=d[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(H-za)<=1E-6*Math.max(1,Math.abs(H),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(P-Ca)<=1E-6*Math.max(1,Math.abs(P),Math.abs(Ca))&&Math.abs(R-Fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},Fm:m,sub:y}),rb=function(){var d=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(d){var k=new qa(3);k[0]=d[0];k[1]=d[1];k[2]=d[2];return k},length:G,bf:z,ia:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];return d},set:function(d,k,
t,x){d[0]=k;d[1]=t;d[2]=x;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];return d},fl:F,multiply:I,Zk:J,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],
t[2]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;return d},JI:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;return d},Xu:M,eT:Q,PA:S,LS:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];return d},normalize:T,Dm:Z,cI:X,Kd:function(d,k,t,x){var C=k[0],D=k[1];k=k[2];d[0]=C+x*(t[0]-C);d[1]=D+x*(t[1]-
D);d[2]=k+x*(t[2]-k);return d},uba:function(d,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;d[0]=E*k[0]+x*t[0];d[1]=E*k[1]+x*t[1];d[2]=E*k[2]+x*t[2];return d},Uka:function(d,k,t,x,C,D){var E=D*D,H=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);d[0]=k[0]*H+t[0]*K+x[0]*N+C[0]*D;d[1]=k[1]*H+t[1]*K+x[1]*N+C[1]*D;d[2]=k[2]*H+t[2]*K+x[2]*N+C[2]*D;return d},Pja:function(d,k,t,x,C,D){var E=1-D,H=E*E,K=D*D,N=H*E;H*=3*D;E*=3*K;D*=K;d[0]=k[0]*N+
t[0]*H+x[0]*E+C[0]*D;d[1]=k[1]*N+t[1]*H+x[1]*E+C[1]*D;d[2]=k[2]*N+t[2]*H+x[2]*E+C[2]*D;return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;d[0]=Math.cos(t)*C;d[1]=Math.sin(t)*C;d[2]=x*k;return d},RI:function(d,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;d[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;d[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;d[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return d},Eba:function(d,k,t){var x=k[0],C=k[1];k=k[2];d[0]=x*t[0]+C*t[3]+
k*t[6];d[1]=x*t[1]+C*t[4]+k*t[7];d[2]=x*t[2]+C*t[5]+k*t[8];return d},Fba:function(d,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],H=k[1];k=k[2];var K=C*k-D*H,N=D*E-x*k,P=x*H-C*E;t=2*t[3];d[0]=E+K*t+2*(C*P-D*N);d[1]=H+N*t+2*(D*K-x*P);d[2]=k+P*t+2*(x*N-C*K);return d},GI:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},HI:function(d,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},II:function(d,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];d[0]=D[0]+t[0];d[1]=D[1]+t[1];d[2]=D[2]+t[2];return d},angle:function(d,k){var t=d[0],x=d[1],C=d[2],D=k[0],E=k[1],H=k[2];d=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+H*H)))&&Z(d,k)/t;return Math.acos(Math.min(Math.max(d,-1),1))},wT:function(d){d[0]=0;d[1]=0;d[2]=0;return d},el:function(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]},Xc:function(d,k){var t=d[0],x=d[1];d=d[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:F,
Fm:I,rS:J,pS:M,dT:Q,gv:G,OA:S,forEach:rb});var sb=function(){var d=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],d[2]=k[x+2],d[3]=k[x+3],D(d,d,E),k[x]=d[0],k[x+1]=d[1],k[x+2]=d[2],k[x+3]=d[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,bf:va,ia:ta,set:ya,add:Na,fl:Sa,multiply:Ta,Zk:Ua,ceil:function(d,k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);d[2]=Math.ceil(k[2]);d[3]=Math.ceil(k[3]);return d},floor:function(d,
k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);d[2]=Math.floor(k[2]);d[3]=Math.floor(k[3]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);d[2]=Math.min(k[2],t[2]);d[3]=Math.min(k[3],t[3]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);d[2]=Math.max(k[2],t[2]);d[3]=Math.max(k[3],t[3]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);d[2]=Math.round(k[2]);d[3]=Math.round(k[3]);return d},scale:Wa,JI:function(d,
k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;d[2]=k[2]+t[2]*x;d[3]=k[3]+t[3]*x;return d},Xu:eb,eT:fb,length:Pa,PA:Va,LS:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=-k[3];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];d[2]=1/k[2];d[3]=1/k[3];return d},normalize:ib,Dm:Ya,cI:function(d,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],H=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],P=k[2];k=k[3];d[0]=N*t-P*K+k*H;d[1]=-(x*t)+
P*E-k*D;d[2]=x*K-N*E+k*C;d[3]=-(x*H)+N*D-P*C;return d},Kd:vb,random:function(d,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var H=D*D+E*E}while(1<=H);C=Math.sqrt((1-C)/H);d[0]=k*t;d[1]=k*x;d[2]=k*D*C;d[3]=k*E*C;return d},RI:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];d[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;d[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;d[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;d[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return d},Fba:function(d,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],H=t[1],K=t[2];t=t[3];var N=t*x+H*D-K*C,P=t*C+K*x-E*D,R=t*D+E*C-H*x;x=-E*x-H*C-K*D;d[0]=N*t+x*-E+P*-K-R*-H;d[1]=P*t+x*-H+R*-E-N*-K;d[2]=R*t+x*-K+N*-H-P*-E;d[3]=k[3];return d},wT:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=0;return d},el:function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},Bi:wb,Xc:function(d,k){var t=d[0],x=d[1],C=d[2];d=d[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},sub:Sa,Fm:Ta,rS:Ua,pS:eb,dT:fb,gv:Pa,OA:Va,forEach:sb});var tb=function(){var d=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(d,k,C),1E-6>G(d)&&X(d,t,C),T(d,d),xb(x,d,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(d,C,D);x[0]=d[0];x[1]=d[1];x[2]=d[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var d=jb(),k=
jb();return function(t,x,C,D,E,H){kb(d,x,E,H);kb(k,C,D,H);kb(t,d,k,2*H*(1-H));return t}}(),gb=function(){var d=g();return function(k,t,x,C){d[0]=x[0];d[3]=x[1];d[6]=x[2];d[1]=C[0];d[4]=C[1];d[7]=C[2];d[2]=-t[0];d[5]=-t[1];d[8]=-t[2];return ib(k,Eb(k,d))}}();tb=Object.freeze({__proto__:null,create:jb,$u:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d},Fma:xb,Lka:function(d,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(d[0]=k[0]/x,d[1]=k[1]/x,d[2]=k[2]/x):(d[0]=1,d[1]=0,d[2]=0);return t},Jka:function(d,
k){d=Ya(d,k);return Math.acos(2*d*d-1)},multiply:yb,GI:zb,HI:Ab,II:Bb,Rja:function(d,k){var t=k[0],x=k[1];k=k[2];d[0]=t;d[1]=x;d[2]=k;d[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return d},exp:Cb,Waa:Db,pow:function(d,k,t){Db(d,k);Wa(d,d,t);Cb(d,d);return d},uba:kb,random:function(d){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);d[0]=C*Math.sin(2*Math.PI*t);d[1]=C*Math.cos(2*Math.PI*t);d[2]=k*Math.sin(2*Math.PI*x);d[3]=k*Math.cos(2*Math.PI*x);return d},hr:function(d,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;d[0]=-t*D;d[1]=-x*D;d[2]=-C*D;d[3]=k*D;return d},jaa:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];return d},xka:Eb,vka:function(d,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),H=Math.sin(t),K=Math.cos(t),N=Math.sin(x),P=Math.cos(x);switch(C){case "xyz":d[0]=D*K*P+E*H*N;d[1]=E*H*P-D*K*N;d[2]=E*K*N+D*H*P;d[3]=E*K*P-D*H*N;break;case "xzy":d[0]=D*K*P-E*H*N;d[1]=E*
H*P-D*K*N;d[2]=E*K*N+D*H*P;d[3]=E*K*P+D*H*N;break;case "yxz":d[0]=D*K*P+E*H*N;d[1]=E*H*P-D*K*N;d[2]=E*K*N-D*H*P;d[3]=E*K*P+D*H*N;break;case "yzx":d[0]=D*K*P+E*H*N;d[1]=E*H*P+D*K*N;d[2]=E*K*N-D*H*P;d[3]=E*K*P-D*H*N;break;case "zxy":d[0]=D*K*P-E*H*N;d[1]=E*H*P+D*K*N;d[2]=E*K*N+D*H*P;d[3]=E*K*P-D*H*N;break;case "zyx":d[0]=D*K*P-E*H*N;d[1]=E*H*P+D*K*N;d[2]=E*K*N-D*H*P;d[3]=E*K*P+D*H*N;break;default:throw Error("Unknown angle order "+C);}return d},el:function(d){return"quat("+d[0]+", "+d[1]+", "+d[2]+
", "+d[3]+")"},clone:Y,bf:va,ia:ta,set:ya,add:Na,Fm:yb,scale:Wa,Dm:Ya,Kd:vb,length:Pa,gv:Pa,PA:Va,OA:Va,normalize:ib,Bi:wb,Xc:function(d,k){return.999999<=Math.abs(Ya(d,k))},vma:tb,Kma:ub,Ema:gb});ub=Object.freeze({__proto__:null,create:function(){var d=new qa(8);qa!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0,d[4]=0,d[5]=0,d[6]=0,d[7]=0);d[3]=1;return d},clone:function(d){var k=new qa(8);k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];return k},bf:function(d,k,t,x,C,D,E,H){var K=
new qa(8);K[0]=d;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=H;return K},Bka:function(d,k,t,x,C,D,E){var H=new qa(8);H[0]=d;H[1]=k;H[2]=t;H[3]=x;C*=.5;D*=.5;E*=.5;H[4]=C*x+D*t-E*k;H[5]=D*x+E*d-C*t;H[6]=E*x+C*k-D*d;H[7]=-C*d-D*k-E*t;return H},Aaa:Fb,iI:function(d,k){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=.5*k[0];d[5]=.5*k[1];d[6]=.5*k[2];d[7]=0;return d},AA:function(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},yaa:function(d,k){var t=jb();q(t,k);var x=new qa(3);r(x,
k);Fb(d,t,x);return d},ia:Gb,$u:function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;d[6]=0;d[7]=0;return d},set:function(d,k,t,x,C,D,E,H,K){d[0]=k;d[1]=t;d[2]=x;d[3]=C;d[4]=D;d[5]=E;d[6]=H;d[7]=K;return d},Nka:ta,Mka:function(d,k){d[0]=k[4];d[1]=k[5];d[2]=k[6];d[3]=k[7];return d},Ima:ta,Gma:function(d,k){d[4]=k[0];d[5]=k[1];d[6]=k[2];d[7]=k[3];return d},Daa:function(d,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],H=-k[1],K=-k[2];k=k[3];d[0]=2*(t*k+D*E+x*K-C*H);d[1]=2*(x*k+D*H+C*E-t*K);d[2]=2*(C*k+
D*K+t*H-x*E);return d},translate:function(d,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],P=k[5],R=k[6];k=k[7];d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=E*H+C*t-D*K+N;d[5]=E*K+D*H-x*t+P;d[6]=E*t+x*K-C*H+R;d[7]=-x*H-C*K-D*t+k;return d},GI:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7],R=H*E+P*x+K*D-N*C,W=K*E+P*C+N*x-H*D,V=N*E+P*D+H*C-K*x;H=P*E-H*x-K*C-N*D;zb(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=R*E+H*x+W*D-V*C;d[5]=W*E+H*C+V*x-R*D;d[6]=V*E+
H*D+R*C-W*x;d[7]=H*E-R*x-W*C-V*D;return d},HI:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7],R=H*E+P*x+K*D-N*C,W=K*E+P*C+N*x-H*D,V=N*E+P*D+H*C-K*x;H=P*E-H*x-K*C-N*D;Ab(d,k,t);x=d[0];C=d[1];D=d[2];E=d[3];d[4]=R*E+H*x+W*D-V*C;d[5]=W*E+H*C+V*x-R*D;d[6]=V*E+H*D+R*C-W*x;d[7]=H*E-R*x-W*C-V*D;return d},II:function(d,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],P=k[7],R=H*E+P*x+K*D-N*C,W=K*E+P*C+N*x-H*D,V=N*E+P*D+H*C-K*x;H=P*E-H*x-K*C-N*D;Bb(d,k,t);x=d[0];C=
d[1];D=d[2];E=d[3];d[4]=R*E+H*x+W*D-V*C;d[5]=W*E+H*C+V*x-R*D;d[6]=V*E+H*D+R*C-W*x;d[7]=H*E-R*x-W*C-V*D;return d},tma:function(d,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],H=k[1],K=k[2],N=k[3];d[0]=E*t+N*x+H*D-K*C;d[1]=H*t+N*C+K*x-E*D;d[2]=K*t+N*D+E*C-H*x;d[3]=N*t-E*x-H*C-K*D;E=k[4];H=k[5];K=k[6];N=k[7];d[4]=E*t+N*x+H*D-K*C;d[5]=H*t+N*C+K*x-E*D;d[6]=K*t+N*D+E*C-H*x;d[7]=N*t-E*x-H*C-K*D;return d},uma:function(d,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2],N=t[3];d[0]=x*N+k*E+C*
K-D*H;d[1]=C*N+k*H+D*E-x*K;d[2]=D*N+k*K+x*H-C*E;d[3]=k*N-x*E-C*H-D*K;E=t[4];H=t[5];K=t[6];N=t[7];d[4]=x*N+k*E+C*K-D*H;d[5]=C*N+k*H+D*E-x*K;d[6]=D*N+k*K+x*H-C*E;d[7]=k*N-x*E-C*H-D*K;return d},sma:function(d,k,t,x){if(1E-6>Math.abs(x))return Gb(d,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,H=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];d[0]=C*x+N*E+D*t-K*H;d[1]=D*x+N*H+K*E-C*t;d[2]=K*x+N*t+C*H-D*E;d[3]=N*x-C*E-D*H-K*t;C=k[4];D=k[5];K=k[6];k=k[7];d[4]=
C*x+k*E+D*t-K*H;d[5]=D*x+k*H+K*E-C*t;d[6]=K*x+k*t+C*H-D*E;d[7]=k*x-C*E-D*H-K*t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];d[2]=k[2]+t[2];d[3]=k[3]+t[3];d[4]=k[4]+t[4];d[5]=k[5]+t[5];d[6]=k[6]+t[6];d[7]=k[7]+t[7];return d},multiply:lb,Fm:lb,scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;d[2]=k[2]*t;d[3]=k[3]*t;d[4]=k[4]*t;d[5]=k[5]*t;d[6]=k[6]*t;d[7]=k[7]*t;return d},Dm:Ya,Kd:function(d,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);d[0]=k[0]*C+t[0]*x;d[1]=k[1]*C+t[1]*x;d[2]=k[2]*C+t[2]*x;d[3]=
k[3]*C+t[3]*x;d[4]=k[4]*C+t[4]*x;d[5]=k[5]*C+t[5]*x;d[6]=k[6]*C+t[6]*x;d[7]=k[7]*C+t[7]*x;return d},hr:function(d,k){var t=Va(k);d[0]=-k[0]/t;d[1]=-k[1]/t;d[2]=-k[2]/t;d[3]=k[3]/t;d[4]=-k[4]/t;d[5]=-k[5]/t;d[6]=-k[6]/t;d[7]=k[7]/t;return d},jaa:function(d,k){d[0]=-k[0];d[1]=-k[1];d[2]=-k[2];d[3]=k[3];d[4]=-k[4];d[5]=-k[5];d[6]=-k[6];d[7]=k[7];return d},length:Pa,gv:Pa,PA:Va,OA:Va,normalize:function(d,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,H=k[4],K=k[5],N=k[6];
k=k[7];var P=x*H+C*K+D*N+E*k;d[0]=x;d[1]=C;d[2]=D;d[3]=E;d[4]=(H-x*P)/t;d[5]=(K-C*P)/t;d[6]=(N-D*P)/t;d[7]=(k-E*P)/t}return d},el:function(d){return"quat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+")"},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]&&d[2]===k[2]&&d[3]===k[3]&&d[4]===k[4]&&d[5]===k[5]&&d[6]===k[6]&&d[7]===k[7]},Xc:function(d,k){var t=d[0],x=d[1],C=d[2],D=d[3],E=d[4],H=d[5],K=d[6];d=d[7];var N=k[0],P=k[1],R=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(H-ea)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))}});gb=function(){var d=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)d[0]=k[x],d[1]=k[x+1],D(d,d,E),k[x]=d[0],k[x+1]=d[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(d){var k=new qa(2);k[0]=d[0];k[1]=d[1];return k},bf:function(d,k){var t=new qa(2);t[0]=d;t[1]=k;return t},ia:function(d,k){d[0]=k[0];d[1]=k[1];return d},set:function(d,k,t){d[0]=k;d[1]=t;return d},add:function(d,k,t){d[0]=k[0]+t[0];d[1]=k[1]+t[1];return d},fl:mb,multiply:nb,Zk:Za,ceil:function(d,
k){d[0]=Math.ceil(k[0]);d[1]=Math.ceil(k[1]);return d},floor:function(d,k){d[0]=Math.floor(k[0]);d[1]=Math.floor(k[1]);return d},min:function(d,k,t){d[0]=Math.min(k[0],t[0]);d[1]=Math.min(k[1],t[1]);return d},max:function(d,k,t){d[0]=Math.max(k[0],t[0]);d[1]=Math.max(k[1],t[1]);return d},round:function(d,k){d[0]=Math.round(k[0]);d[1]=Math.round(k[1]);return d},scale:function(d,k,t){d[0]=k[0]*t;d[1]=k[1]*t;return d},JI:function(d,k,t,x){d[0]=k[0]+t[0]*x;d[1]=k[1]+t[1]*x;return d},Xu:ob,eT:Qa,length:pb,
PA:qb,LS:function(d,k){d[0]=-k[0];d[1]=-k[1];return d},inverse:function(d,k){d[0]=1/k[0];d[1]=1/k[1];return d},normalize:function(d,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));d[0]=k[0]*t;d[1]=k[1]*t;return d},Dm:function(d,k){return d[0]*k[0]+d[1]*k[1]},cI:function(d,k,t){k=k[0]*t[1]-k[1]*t[0];d[0]=d[1]=0;d[2]=k;return d},Kd:function(d,k,t,x){var C=k[0];k=k[1];d[0]=C+x*(t[0]-C);d[1]=k+x*(t[1]-k);return d},random:function(d,k){k=k||1;var t=2*Ma()*Math.PI;d[0]=Math.cos(t)*k;d[1]=Math.sin(t)*
k;return d},Uma:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k;d[1]=t[1]*x+t[3]*k;return d},Vma:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[2]*k+t[4];d[1]=t[1]*x+t[3]*k+t[5];return d},Eba:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[3]*k+t[6];d[1]=t[1]*x+t[4]*k+t[7];return d},RI:function(d,k,t){var x=k[0];k=k[1];d[0]=t[0]*x+t[4]*k+t[12];d[1]=t[1]*x+t[5]*k+t[13];return d},rotate:function(d,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);d[0]=C*x-k*D+t[0];d[1]=C*D+k*
x+t[1];return d},angle:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+d*d)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+d*k)/C,-1),1))},wT:function(d){d[0]=0;d[1]=0;return d},el:function(d){return"vec2("+d[0]+", "+d[1]+")"},Bi:function(d,k){return d[0]===k[0]&&d[1]===k[1]},Xc:function(d,k){var t=d[0];d=d[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))},gv:pb,sub:mb,Fm:nb,rS:Za,
pS:ob,dT:Qa,OA:qb,forEach:gb});f.Ci=Nb;f.Ala=Ob;f.Bla=Pb;f.Cla=Qb;f.al=Rb;f.bma=tb;f.cma=ub;f.cna=gb;f.TA=rb;f.qv=sb;Object.defineProperty(f,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Ija?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Ci={}));
{"use strict";function f(v,w,y,A){var G=w[0]-v[0];w=w[1]-v[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*w-F*G)return!1;A=(G*(y[1]-v[1])+w*(v[0]-y[0]))/(z*w-F*G);v=(z*(v[1]-y[1])+F*(y[0]-v[0]))/(F*G-z*w);return 0<=A&&1>=A&&0<=v&&1>=v}function a(v,w,y){return(w[0]-v[0])*(y[1]-v[1])-(y[0]-v[0])*(w[1]-v[1])}function b(v,w,y){return 0<a(v,w,y)}function e(v,w,y){return 0<=a(v,w,y)}function c(v,w,y){return 0>=a(v,w,y)}var ab=[],bb=[];function g(v,w){var y=w[0]-v[0];v=w[1]-v[1];return y*y+v*v}function n(v,w){var y=
v.length;return v[0>w?w%y+y:w%y]}function h(v,w,y,A){for(;y<A;y++)v.push(w[y])}function l(v,w){var y=n(v,w-1),A=n(v,w);v=n(v,w+1);return 0>a(y,A,v)}var cb=[],Jb=[];function m(v,w,y,A){A=A||[];A.length=0;if(w<y)for(var G=w;G<=y;G++)A.push(v[G]);else{for(G=0;G<=y;G++)A.push(v[G]);for(G=w;G<v.length;G++)A.push(v[G])}return A}function p(v){for(var w=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<v.length;++F)if(l(v,F))for(var I=0;I<v.length;++I){a:{A=v;var J=F,M=I;if(e(n(A,J+1),n(A,J),n(A,M))&&c(n(A,J-1),n(A,J),
n(A,M)))y=!1;else{y=g(n(A,J),n(A,M));for(var Q=0;Q!==A.length;++Q)if((Q+1)%A.length!==J&&Q!==J&&e(n(A,J),n(A,M),n(A,Q+1))&&c(n(A,J),n(A,M),n(A,Q))){cb[0]=n(A,J);cb[1]=n(A,M);Jb[0]=n(A,Q);Jb[1]=n(A,Q+1);var S=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(S[0]=(Y*X-Z*va)/ta,S[1]=(T*va-ba*X)/ta);ta=S;if(g(n(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(m(v,
F,I,G));A=p(m(v,I,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(w=y,z=y.length,w.push([n(v,F),n(v,I)]))}}return w}function r(v,w){if(0===w.length)return[v];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){v=[v];for(var y=0;y<w.length;y++)for(var A=w[y],G=0;G<v.length;G++){var z=r(v[G],A);if(z){v.splice(G,1);v.push(z[0],z[1]);break}}return v}A=w;y=v.indexOf(A[0]);G=v.indexOf(A[1]);return-1!==y&&-1!==G?[m(v,y,G),m(v,G,y)]:!1}function u(v,w,y,
A,G){var z=w[1]-v[1];w=v[0]-w[0];v=z*v[0]+w*v[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var I=z*A-F*w;return Math.abs(I-0)<=(G||0)?[0,0]:[(A*v-w*y)/I,(z*y-F*v)/I]}function q(v,w,y,A,G,z,F){z=z||100;F=F||0;G=G||25;w="undefined"!==typeof w?w:[];y=y||[];A=A||[];var I=[0,0],J=[0,0],M=[0,0],Q,S=0,T=0,Z=0,X=[],ba=[];if(3>v.length)return w;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),w;for(var Y=0;Y<v.length;++Y)if(l(v,Y)){y.push(v[Y]);var va=Q=Number.MAX_VALUE;for(var ta=
0;ta<v.length;++ta){if(b(n(v,Y-1),n(v,Y),n(v,ta))&&c(n(v,Y-1),n(v,Y),n(v,ta-1))){M=u(n(v,Y-1),n(v,Y),n(v,ta),n(v,ta-1));var ya=n(v,Y+1);var Na=n(v,Y);0>a(ya,Na,M)&&(ya=g(v[Y],M),ya<Q&&(Q=ya,J=M,T=ta))}b(n(v,Y+1),n(v,Y),n(v,ta+1))&&c(n(v,Y+1),n(v,Y),n(v,ta))&&(M=u(n(v,Y+1),n(v,Y),n(v,ta),n(v,ta+1)),b(n(v,Y-1),n(v,Y),M)&&(ya=g(v[Y],M),ya<va&&(va=ya,I=M,S=ta)))}if(T===(S+1)%v.length)M[0]=(J[0]+I[0])/2,M[1]=(J[1]+I[1])/2,A.push(M),Y<S?(h(X,v,Y,S+1),X.push(M),ba.push(M),0!==T&&h(ba,v,T,v.length),h(ba,
v,0,Y+1)):(0!==Y&&h(X,v,Y,v.length),h(X,v,0,S+1),X.push(M),ba.push(M),h(ba,v,T,Y+1));else{T>S&&(S+=v.length);I=Number.MAX_VALUE;if(S<T)return w;for(ta=T;ta<=S;++ta)if(e(n(v,Y-1),n(v,Y),n(v,ta))&&c(n(v,Y+1),n(v,Y),n(v,ta))){ya=g(n(v,Y),n(v,ta));if(T=ya<I)a:{T=v;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&f(n(T,J),n(T,M),n(T,va),n(T,va+1))){T=!1;break a}T=!0}T&&(I=ya,Z=ta%v.length)}Y<Z?(h(X,v,Y,Z+1),0!==Z&&h(ba,v,Z,v.length),h(ba,v,0,Y+1)):(0!==
Y&&h(X,v,Y,v.length),h(X,v,0,Z+1),h(ba,v,Z,Y+1))}X.length<ba.length?(q(X,w,y,A,G,z,F),q(ba,w,y,A,G,z,F)):(q(ba,w,y,A,G,z,F),q(X,w,y,A,G,z,F));return w}w.push(v);return w}self.Xla={gka:function(v){var w=p(v);return 0<w.length?r(v,w):[v]},dma:q,bla:function(v){var w;for(w=0;w<v.length-1;w++)for(var y=0;y<w-1;y++)if(f(v[w],v[w+1],v[y],v[y+1]))return!1;for(w=1;w<v.length-2;w++)if(f(v[0],v[v.length-1],v[w],v[w+1]))return!1;return!0},ima:function(v,w){for(var y=0,A=v.length-1;3<v.length&&0<=A;--A){var G=
n(v,A-1);var z=n(v,A),F=n(v,A+1),I=w;I?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<I):G=0===a(G,z,F);G&&(v.splice(A%v.length,1),y++)}return y},jma:function(v,w){for(var y=v.length-1;1<=y;--y)for(var A=v[y],G=y-1;0<=G;--G){var z=A,F=v[G],I=w;Math.abs(z[0]-F[0])<=(I||0)&&Math.abs(z[1]-F[1])<=(I||0)&&v.splice(y,1)}},zla:function(v){for(var w=0,y=1;y<v.length;++y)if(v[y][1]<
v[w][1]||v[y][1]===v[w][1]&&v[y][0]>v[w][0])w=y;if(b(n(v,w-1),n(v,w),n(v,w+1)))return!1;w=[];y=v.length;for(var A=0;A!==y;A++)w.push(v.pop());for(A=0;A!==y;A++)v[A]=w[A];return!0}}}{"use strict";const f=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};f.bv=!1;f.qI=!1;f.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Ei={}}
{"use strict";const f=self.B;f.rL=class{constructor(a){this.C$=a;this.Ea=new Map;this.J6()}J6(){var a=this.C$;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.K6(b)}K6(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ea.set(e,a)}else this.Ea.set(a,null)}ww(a){return this.Ea.has(a)}V(a){a=this.Ea.get(a);return"undefined"===typeof a?null:a}};f.KC=new f.rL(location.search);f.Oea=
new f.rL(location.hash);f.KC.V("mode")}
{"use strict";const f=self.B,a=navigator.userAgent;let b={Vaa:/linux|openbsd|freebsd|netbsd/i.test(a),gaa:/CrOS/.test(a),UA:/trident|iemobile|msie|tizen/i.test(a),Ika:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),iS:/bb10/i.test(a),vaa:/edge\//i.test(a),nT:/trident/i.test(a),webkit:/webkit/i.test(a),oba:/safari\//i.test(a),faa:/chrome\//i.test(a),haa:/chromium\//i.test(a),kaa:/crosswalk|xwalk/i.test(a),Kla:/nwjs/i.test(a),V$:/amazonwebappplatform/i.test(a),Kba:/wv\)/.test(a),W$:/android/i.test(a),
dba:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",g="(unknown)",n="(unknown)",h="(unknown)",l="browser",m=!1,p=!1,r=new Map;function u(v,w,y){!0===w?(y(),r.set(v,!0)):w&&w.length&&(y(w[0]),r.set(v,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),v=>{e="Windows";if(v=v.split(" ")[2])switch(v){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,v=>{e="Mac OS X";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isLinux",b.Vaa,()=>{e="Linux"});u("isChromeOS",b.gaa,()=>{e="Chrome OS"});u("isAndroid",!b.UA&&Lb,v=>{e="Android";(v=v.split(" ")[1])&&(c=v)});u("isTizen",Tb,v=>{e="Tizen";(v=v.split(" ")[1])&&(c=v)});u("isIPhone",!b.UA&&Ub,v=>{e="iOS";(v=v.split(" ")[2])&&(c=v.replace("_","."))});u("isIPad",!b.UA&&Vb,v=>{e="iOS";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isWindowsPhone",Wb,v=>{e="Windows Phone";
(v=v.split(" ")[2])&&(c=v)});u("isWindowsPhoneOS",Xb,v=>{e="Windows Phone";(v=v.split(" ")[3])&&(c=v)});u("isBlackberry",b.iS,()=>{e="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.vaa&&!b.opera&&Yb,v=>{g="Chrome";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isOpera",Sb,v=>{g="Opera";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isChromium",Zb,v=>{h=g="Chromium";(v=v.split("/")[1])&&(n=v)});u("isFirefox",ac,v=>{g="Firefox";h="Gecko";(v=v.split("/")[1])&&(n=v)});u("isInternetExplorer",bc,
v=>{g="Internet Explorer";h="Trident";(v=v.split(" ")[1])&&(n=v)});u("isTrident","Internet Explorer"!==g&&b.nT,()=>{h="Trident";var v=/rv:[0-9.]+/i.exec(a);v&&v.length&&(g="Internet Explorer",(v=v[0].split(":")[1])&&(n=v))});u("isEdge",cc,v=>{h=g="Edge";(v=v.split("/")[1])&&(n=v)});u("isEdgeChromium",dc,v=>{g="Edge";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isSafari",b.oba&&!b.dba&&!b.faa&&!b.haa&&!b.Hka&&!b.iS,()=>{g="Safari";h="WebKit";var v=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);v&&v.length&&(v=v[0].split("/")[1])&&(n=v);w&&w.length&&(g="Chrome for iOS",(w=w[0].split("/")[1])&&(n=w));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(n=y))});u("isSilk",ec,v=>{g="Silk";(v=v.split("/")[1])&&(n=v)});u("isCrosswalk",b.kaa,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,v=>{l="nwjs";g="NW.js";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isAmazonWebApp",b.V$,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&b.Kba,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.UA&&b.W$,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.nT,()=>h="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>m=!0);p="nwjs"===l;const q="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;q&&(e="iOS",c=n,p=m=!1);f.yc={vp:e,ffa:c,kc:g,lca:n,eB:parseFloat(n),yv:h,mB:l,cea:m,uC:!m,dea:p,Zda:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Uda:"Mac OS X"===e||"iOS"===e,iea:q,jea:"Linux"===e}}"use strict";
{const f=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(q){return new Promise((v,w)=>{q.onsuccess=()=>v(q.result);q.onerror=()=>w(q.error)})}function c(q){return new Promise((v,w)=>{q.oncomplete=()=>v();q.onerror=()=>w(q.error);q.onabort=()=>w(q.error)})}function g(q,v){return h(q,v)}function n(q,v){return h(q,v,!0)}async function h(q,v,w=!1,
y=!0){const A=await l(q);try{const G=A.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return v(G)}catch(G){if(y&&"InvalidStateError"===G.name)return f.delete(q),h(q,v,w,!1);throw G;}}function l(q){p(q);let v=f.get(q);v instanceof Promise||(v=m(q),f.set(q,v),v.catch(()=>f.delete(q)));return v}async function m(q){p(q);const v=indexedDB.open(q,2);v.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${q}`,
y)}});return e(v)}function p(q){if("string"!==typeof q)throw new TypeError("expected string");}function r(q,v){const w=q.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];w.onsuccess=G=>{if(G=G.target.result){switch(v){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(q){p(q);this.name=q}async ready(){await l(this.name)}set(q,v){p(q);return n(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(v,
q);y=e(y);w=c(w);await Promise.all([w,y])})}get(q){p(q);return g(this.name,async v=>{var w=v.objectStore("keyvaluepairs").get(q);w=e(w);v=c(v);[,v]=await Promise.all([v,w]);return v})}delete(q){p(q);return n(this.name,async v=>{var w=v.objectStore("keyvaluepairs").delete(q);w=e(w);v=c(v);await Promise.all([v,w])})}clear(){return n(this.name,async q=>{var v=q.objectStore("keyvaluepairs").clear();v=e(v);q=c(q);await Promise.all([q,v])})}keys(){return g(this.name,async q=>{if(b){var v=q.objectStore("keyvaluepairs").getAllKeys();
v=e(v)}else v=r(q,"keys");q=c(q);[,q]=await Promise.all([q,v]);return q})}values(){return g(this.name,async q=>{if(a){var v=q.objectStore("keyvaluepairs").getAll();v=e(v)}else v=r(q,"values");q=c(q);[,q]=await Promise.all([q,v]);return q})}entries(){return g(this.name,async q=>{var v=r(q,"entries");q=c(q);[,v]=await Promise.all([q,v]);return v})}}self.xZ=u}"use strict";
{const f=self.xZ,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function n(l){return"object"===typeof l?new Promise(m=>{const {port1:p,port2:r}=new MessageChannel;r.onmessage=u=>m(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.ka=l;b.set(this,new Map)}Ss(l){if(!e)for(const m of a)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async aQ(l){l=
b.get(this).get(l);l=await n(l);return"undefined"===typeof l?null:l}async vR(l,m){m=await n(m);b.get(this).set(l,m)}rR(l){b.get(this).delete(l)}BP(){b.get(this).clear()}IQ(){return Array.from(b.get(this).keys())}async getItem(l,m){g(m);if(e)return await this.aQ(l);let p;try{p=await this.ka.get(l)}catch(r){this.Ss(r);if(e)return await this.aQ(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof p?null:p}async setItem(l,m,p){g(p);"undefined"===
typeof m&&(m=null);if(e)await this.vR(l,m);else try{await this.ka.set(l,m)}catch(r){if(this.Ss(r),e)await this.vR(l,m);else throw r;}}async removeItem(l,m){g(m);if(e)this.rR(l);else try{await this.ka.delete(l)}catch(p){this.Ss(p),e?this.rR(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(e)this.BP();else try{await this.ka.clear()}catch(m){this.Ss(m),e?this.BP():console.error("Error clearing storage: ",m)}}async keys(l){g(l);if(e)return this.IQ();l=[];try{l=await this.ka.keys()}catch(m){this.Ss(m);
if(e)return this.IQ();console.error("Error getting storage keys: ",m)}return l}ready(l){g(l);return e?Promise.resolve(!0):this.ka.ready()}bI(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new f(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new f("localforage"))}
{"use strict";const f=self.B;f.qb={};f.qb.nja=(()=>{try{if("Safari"===f.yc.kc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();f.qb.Uca="undefined"!==typeof HTMLDialogElement;f.qb.nga=!!self.requestIdleCallback;f.qb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==f.yc.kc;f.qb.ImageBitmapOptions=!1;f.qb.Aw=!1;if(f.qb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{f.qb.ImageBitmapOptions=!0}).catch(()=>{f.qb.ImageBitmapOptions=!1})}catch(a){f.qb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{f.qb.Aw=10===a.width&&10===a.height}).catch(()=>{f.qb.Aw=!1})}catch(a){f.qb.Aw=!1}}f.qb.rca=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===f.yc.kc);f.qb.Cfa=!(!navigator.permissions||!navigator.permissions.query);f.qb.qL="undefined"!==typeof Proxy;
f.qb.Wca="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;f.qb.zv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;f.qb.hda="function"===typeof fetch;f.qb.Efa=!!(self.isSecureContext&&"Opera"!==f.yc.kc&&navigator.storage&&navigator.storage.persist);f.qb.Bia=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===f.yc.vp)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}f.qb.sda=fc;f.qb.Oda="undefined"!==typeof self.ImageDecoder;f.qb.oja=!!self.VideoEncoder;f.qb.afa=!!self.showOpenFilePicker;f.qb.bfa=!(!navigator.fonts||!navigator.fonts.query);f.qb.dja=!!navigator.userActivation}
{"use strict";const f=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(f.zr(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Jd||(Array.prototype.Jd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Jd||(String.prototype.Jd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const f=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+f.Tv())}}
{"use strict";const f=self.B,a=self.Ei;f.tl=function(e){return"number"===typeof e};f.pf=function(e){return f.tl(e)&&isFinite(e)};f.rf=function(e){if(!f.tl(e))throw new TypeError("expected number");};f.BL=function(){};f.Iga=function(e,c,g){if(!f.tl(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};f.uga=function(...e){for(let c of e);};f.ck=function(e){if(!f.pf(e))throw new TypeError("expected finite number");};f.yL=function(){};f.rga=function(...e){for(let c of e);};f.Hh=function(e){return"string"===
typeof e};f.ud=function(e){if(!f.Hh(e))throw new TypeError("expected string");};f.DL=function(){};f.wga=function(...e){for(let c of e);};f.QK=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};f.Vga=function(e){if(!f.QK(e))throw new TypeError("expected simple object");};f.Sga=function(e){if(!f.Md(e)&&!f.QK(e))throw new TypeError("expected simple object");};f.PK=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};f.wL=function(e){if(!f.PK(e))throw new TypeError("expected object");
};f.CL=function(){};f.vga=function(...e){for(let c of e);};f.nC=function(e){return f.ql(e,Blob)&&"string"===typeof e.name};f.Gga=function(e){if(!f.nC(e))throw new TypeError("expected file");};f.Qga=function(){};f.mn=function(e){return Array.isArray(e)};f.QC=function(e){if(!f.mn(e))throw new TypeError("expected array");};f.xL=function(){};f.qga=function(...e){for(let c of e);};f.XY=function(e){return f.mn(e)?e.length?f.mn(e[0])?!0:!1:!0:!1};f.pga=function(e){if(!f.XY(e))throw new TypeError("expected 2d array");
for(let c of e)if(!f.mn(c))throw new TypeError("expected 2d array");};f.Jga=function(){};f.oC=function(e){return"function"===typeof e};f.$i=function(e,c){if(!f.oC(e))throw new TypeError("expected function");if(!f.Md(c)&&e!==c)throw new TypeError("expected same function reference");};f.zL=function(){};f.sga=function(...e){for(let c of e);};f.yga=function(e,...c){if(!f.oC(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!f.Md(g)&&
e===g)return;throw new TypeError("expected same function reference");};f.Kga=function(...e){if(!f.Md(e))for(let c of e);};f.ql=function(e,c){return e instanceof c};f.OK=function(e,...c){for(let g of c)if(f.ql(e,g))return!0;return!1};f.RC=function(e,c){if(!f.ql(e,c))throw new TypeError("unexpected type");};f.AL=function(){};f.tga=function(e,...c){for(let g of c);};f.zga=function(e,...c){if(!f.OK(e,...c))throw new TypeError("unexpected type");};f.Aga=function(e,...c){if(!f.Md(e)&&!f.OK(e,...c))throw new TypeError("unexpected type");
};f.Vda=function(e,c){for(let g of e)if(!f.ql(g,c))return!1;return!0};f.Wda=function(e){for(let c of e)if(!f.pf(c))return!1;return!0};f.Bga=function(e){for(let c of e);};f.Lga=function(e){if(!f.Md(e))for(let c of e);};f.Cga=function(e){for(let c of e);};f.Mga=function(e){if(!f.Md(e))for(let c of e);};f.$da=function(e,c){return f.Md(e)||!f.Hh(e.nodeName)?!1:!c||f.dr(e.nodeName,c)};f.Dga=function(e,c){if(f.Md(e)||!f.Hh(e.nodeName))throw new TypeError("expected DOM node");if(c&&!f.dr(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};f.Nga=function(){};f.qC=function(e,c){return f.Md(e)||!f.Hh(e.tagName)?!1:!c||f.dr(e.tagName,c)};f.Hga=function(e,c){if(f.Md(e)||!f.Hh(e.tagName))throw new TypeError("expected HTML element");if(c&&!f.dr(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};f.Rga=function(){};f.IK=function(e){return f.qC(e,"img")||f.qC(e,"canvas")||f.qC(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};f.Ega=function(e){if(!f.IK(e))throw new TypeError("expected drawable");
};f.Oga=function(){};f.JK=function(e){return e instanceof ImageData?!0:f.IK(e)};f.Fga=function(e){if(!f.JK(e))throw new TypeError("expected drawable or image data");};f.Pga=function(e){if(!f.Md(e)&&!f.JK(e))throw new TypeError("expected drawable or image data");};f.sZ=function(e){return"string"===typeof e||e instanceof f.dC||e instanceof f.hl};f.Wga=function(e){if(!f.sZ(e))throw new TypeError("expected string-like");};f.Tga=function(){};f.xga=function(...e){for(let c of e);};f.Uga=function(){throw Error("must be overridden");
};f.efa=function(){throw Error("not yet implemented");};f.bea=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};f.Md=function(e){return"undefined"===typeof e||null===e};f.Zba=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};f.$ba=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);f.yea=function(e){return f.ql(e,b)};f.Xga=function(){};
f.mja=function(e){f.e2(e,b)};f.lja=function(e,...c){if(!f.d2(e,...c))throw new TypeError("unexpected type");};f.d2=function(e,...c){for(const g of c)if(f.LM(e,g))return!0;return!1};f.e2=function(e,c){if(!f.LM(e,c))throw new TypeError("unexpected type");};f.LM=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.rf=f.rf;a.BL=f.BL;a.ck=f.ck;a.yL=f.yL;a.ud=f.ud;a.DL=f.DL;a.wL=f.wL;a.CL=f.CL;a.QC=f.QC;a.xL=f.xL;a.$i=f.$i;a.zL=f.zL;a.RC=f.RC;a.AL=f.AL;a.Md=
f.Md}
{"use strict";const f=self.B,a=new Map;f.ega=function(u,...q){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...q);a.set(u,-1)}))};let b;f.yia=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,hS:0,WH:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.hS.toPrecision(3)} :: calls => ${this.WH}`}})};f.Yca=function(u){performance.measure("measure",u);const q=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=q.duration;u.total+=u.current;u.hS=u.total/u.WH;u.WH++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};f.Tv=function(){return Error().stack};f.Rca=function(){debugger};f.Xja=function(u,q){return u&&u instanceof q?u:null};f.Kj=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":f.tl(u)?"<number>":f.Hh(u)?"<string>":f.mn(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":f.oC(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};f.CA=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};f.range=function*(u,q){if(!isFinite(Math.abs(u-q)))throw Error("Invalid parameters");if(u>q)for(--u;u>=q;u--)yield u;else for(;u<q;u++)yield u};let e=new Map,c=new Map,g=new WeakMap,n=new WeakMap;f.cp={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",f.Tv())}f.cp.get=function(u,q){q in u||"symbol"===typeof q||h.has(q)||l(`Accessed missing property '${q}' from defended object '${f.Kj(u)}', returning undefined`);n.has(u)&&"symbol"!==typeof q&&!h.has(q)&&l(`Accessed property '${q}' on a released object '${f.Kj(u)}'\nObject was originally released at: ${n.get(u)})\nCall stack at access: `);return u[q]};f.cp.set=function(u,q,v){q in u||e.has(u)||l(`Set non-existent property '${q}' to '${v}' on defended object '${f.Kj(u)}'`);{var w=f.CA(u[q]);
let y=f.CA(v);w="null"===w||"null"===y?!0:"undefined"===w||"undefined"===y?!1:w===y}w||e.has(u)||l(`Set '${f.CA(u[q])}' property '${q}' to type '${f.CA(v)}' on defended object '${f.Kj(u)}'`);n.has(u)&&l(`Set property '${q}' on a released object '${f.Kj(u)}'\nObject was originally released at: ${n.get(u)})\nCall stack at access: `);u[q]=v;return!0};f.cp.deleteProperty=function(u,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${f.Kj(u)}'`);};f.cp.defineProperty=function(u,
q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${f.Kj(u)}'`);};f.cp.lka=function(u){throw new ReferenceError(`Cannot enumerate defended object '${f.Kj(u)}'`);};let m=-1;function p(){m=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(q=>f.Kj(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
f.Z=class{constructor(){if(f.qI&&f.qb.qL){var u=new.target;u=Object.create(u.prototype);var q=new Proxy(u,f.cp);e.set(u,q);c.set(q,u);g.set(q,u);-1===m&&(m=requestAnimationFrame(p));return q}}};f.maa=function(u){if(f.qI&&f.qb.qL&&u instanceof f.Z){if(!c.has(u))return u;let q=c.get(u);c.delete(u);e.delete(q);return u}return f.bv?Object.seal(u):u};f.j=function(u,...q){let v;try{v=new u(...q)}catch(A){throw c.clear(),e.clear(),A;}if(f.qI){q=v;var w=new Set;for(y in q)w.add(y);var y=w;if(q=r.get(u)){w=
[];for(let A of q.values())y.has(A)?y.delete(A):w.push(A);f.Am(w,[...y]);w.length&&console.warn(`[Defence] '${f.Kj(u)}' constructor creates inconsistent properties: ${w.join(", ")}`)}else r.set(u,y)}return f.maa(v)};f.m=function(u){(u=g.get(u))&&n.set(u,f.Tv())};f.KM=function(u){return(u=g.get(u))?!!n.get(u):!1};let r=new Map;f.Bfa=class{constructor(u){this.Ca="";u&&this.start(u)}start(u){this.Ca=u;performance.mark(this.Ca+"-Start")}end(){performance.mark(this.Ca+"-End");performance.measure(this.Ca,
this.Ca+"-Start",this.Ca+"-End")}next(u){this.end();this.Ca=u;performance.mark(this.Ca+"-Start")}}}
{"use strict";const f=self.B,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;f.wrap=function(g,n,h){g=Math.floor(g);n=Math.floor(n);h=Math.floor(h);return g<n?(g=h-(n-g)%(h-n),g===h?0:g):n+(g-n)%(h-n)};f.Yaa=function(g,n,h,l){return(g-n)*(l-0)/(h-n)};f.normalize=function(g,n,h){return(g-n)/(h-n)};f.ja=function(g,n,h){return g<n?n:g>h?h:g};f.Zd=function(g){g%=a;0>g&&(g+=a);return g};f.tb=function(g){return g*b};f.Lj=function(g){return g*e};f.uaa=function(g,n,h,l){return Math.hypot(h-g,l-n)};f.qS=function(g,
n,h,l){g=h-g;n=l-n;return g*g+n*n};f.fS=function(g,n,h,l){return Math.atan2(l-n,h-g)};f.cr=function(g,n){if(g===n)return 0;g=Math.sin(g)*Math.sin(n)+Math.cos(g)*Math.cos(n);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};f.UH=function(g,n,h){let l=Math.sin(g),m=Math.cos(g),p=Math.sin(n),r=Math.cos(n);return Math.acos(l*p+m*r)>h?0<m*p-l*r?f.Zd(g+h):f.Zd(g-h):f.Zd(n)};f.Ye=function(g,n){return 0>=Math.cos(g)*Math.sin(n)-Math.sin(g)*Math.cos(n)};f.TH=function(g,n,h,l=0){let m=f.cr(g,n);l*=a;return f.Ye(n,
g)?f.Zd(g+(m+l)*h):f.Zd(g-(m+l)*h)};f.Y$=function(g,n,h,l=0){const m=f.cr(g,n);l*=a;return f.Ye(n,g)?f.Zd(g+(m+l)*h):f.Zd((a-m+l)*h)};f.X$=function(g,n,h,l=0){const m=f.cr(g,n);l*=a;return f.Ye(n,g)?f.Zd((-a+m-l)*h):f.Zd(g-(m+l)*h)};f.Kd=function(g,n,h){return g+h*(n-g)};f.RA=function(g,n,h){return g===n?0:(h-g)/(n-g)};f.kba=function(g,n,h,l){return f.Kd(0,l,f.RA(g,n,h))};f.LA=function(g,n,h,l){return f.Kd(f.Kd(g,n,l),f.Kd(n,h,l),l)};f.oS=function(g,n,h,l,m){return f.Kd(f.LA(g,n,h,m),f.LA(n,h,l,m),
m)};f.nS=function(g,n,h){return(g+n+(g-n)*Math.cos(h*Math.PI))/2};f.rh=function(g){return 0<g&&0===(g-1&g)};f.JA=function(g){--g;for(let n=1;32>n;n<<=1)g|=g>>n;return g+1};f.wma=function(g,n){return Math.round(g*n)/n};f.ska=function(g,n){return Math.floor(g*n)/n};f.VS=function(g){return Math.round(1E6*g)/1E6};f.toFixed=function(g,n){g=g.toFixed(n);for(n=g.length-1;0<=n&&"0"===g.charAt(n);--n);0<=n&&"."===g.charAt(n)&&--n;return 0>n?g:g.substr(0,n+1)};f.v_=function(g,n,h){return f.ja(g,0,255)|f.ja(n,
0,255)<<8|f.ja(h,0,255)<<16};f.Kw=function(g,n,h,l){g=f.ja(Math.floor(1024*g),-8192,8191);n=f.ja(Math.floor(1024*n),-8192,8191);h=f.ja(Math.floor(1024*h),-8192,8191);l=f.ja(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>n&&(n+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*n+1024*h+l)};f.mL=function(g,n,h){return f.Kw(g,n,h,1)};f.TB=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};f.MB=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};f.AB=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};f.wW=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};f.Gaa=function(g,n){g=Math.floor(g);for(n=Math.floor(n);0!==n;){let h=n;n=g%n;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];f.Kka=function(g,n){g=Math.floor(g);n=Math.floor(n);if(g===n)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(n-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(n-l))return[h[1],h[0]]}h=f.Gaa(g,n);return[g/h,n/h]};f.Dma=function(g,n,h,l,m,p,r,u){var q=Math.min(g,h),v=Math.max(m,r);if(Math.max(g,h)<Math.min(m,r)||q>v)return!1;q=Math.min(n,l);v=Math.max(p,u);if(Math.max(n,l)<Math.min(p,u)||q>v)return!1;q=m-g+r-h;v=p-n+u-l;g=h-g;n=l-n;m=r-m;p=u-p;u=Math.abs(n*m-p*g);return Math.abs(m*v-p*q)>u?!1:Math.abs(g*v-n*q)<=u};f.cl=function(g,n,h,l,m,p,r,u,q,v,w,y){const A=Math.max(q,w);if(p<
Math.min(q,w)||m>A)return!1;m=Math.max(v,y);if(u<Math.min(v,y)||r>m)return!1;r=q-g+w-h;u=v-n+y-l;g=h-g;n=l-n;q=w-q;v=y-v;y=Math.abs(n*q-v*g);return Math.abs(q*u-v*r)>y?!1:Math.abs(g*u-n*r)<=y};f.MA=function(g,n,h,l,m){const p=Math.min(g,h),r=Math.max(g,h),u=Math.min(n,l),q=Math.max(n,l),v=m.rb,w=m.sb,y=m.$b,A=m.ac,G=m.Vb,z=m.Wb,F=m.Tb;m=m.Ub;return f.cl(g,n,h,l,p,r,u,q,v,w,y,A)||f.cl(g,n,h,l,p,r,u,q,y,A,G,z)||f.cl(g,n,h,l,p,r,u,q,G,z,F,m)||f.cl(g,n,h,l,p,r,u,q,F,m,v,w)};f.Cma=function(g,n,h,l,m){const p=
Math.min(g,h),r=Math.max(g,h),u=Math.min(n,l),q=Math.max(n,l);let v=0;for(let w=m.length-4;v<=w;v+=2)if(f.cl(g,n,h,l,p,r,u,q,m[v],m[v+1],m[v+2],m[v+3]))return!0;return f.cl(g,n,h,l,p,r,u,q,m[v],m[v+1],m[0],m[1])};f.jba=function(g,n,h,l,m,p,r,u){h-=g;p=u-p;const q=h*p-(l-n)*(r-m);if(0===q)return 2;l=((n-l)*(r-g)+h*(u-n))/q;return 0<l&&1.000001>l?(p*(r-g)+(m-r)*(u-n))/q:2};f.mv=function(g,n,h,l,m,p,r,u,q){const v=(r-m)*q;q*=u-p;return f.jba(g,n,h,l,m-v,p-q,r+v,u+q)};f.Paa=function(g,n,h,l,m,p,r,u){m-=
h;p-=l;r-=h;u-=l;g-=h;h=n-l;n=m*m+p*p;l=m*r+p*u;m=m*g+p*h;p=r*r+u*u;r=r*g+u*h;u=1/(n*p-l*l);p=(p*m-l*r)*u;m=(n*r-l*m)*u;return 0<=p&&0<=m&&1>=p+m};f.Iba=function(g,n,h,l,m,p,r,u){m-=h;p-=l;r-=h;u-=l;g-=h;const q=n-l;n=m*m+p*p;l=m*r+p*u;h=r*r+u*u;m=g*m+q*p;p=g*r+q*u;r=n*h-l*l;u=(h*m-l*p)/r;m=(n*p-l*m)/r;return[1-u-m,u,m]};f.Hba=function(g,n,h,l,m,p,r,u,q){return[g*l+n*p+h*u,g*m+n*r+h*q]}}
{"use strict";const f=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}f.tda=function(){return b};f.BB=function(){if(!a)return"";const l=a.location;return f.vX(l.origin+l.pathname)+b};f.vX=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};f.xda=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};f.TW=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};f.$v=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};f.TZ=function(l){return l.replace(/\\/g,"/")};f.fea=function(l,m){return m===(l?f.TW(l).slice(1):"")};f.ida=function(l,m){let p,r;f.nC(l)&&(p=f.$v(l.name));f.Hh(l)&&(p=
f.$v(l));f.nC(m)&&(r=f.$v(m.name));f.Hh(m)&&(r=f.$v(m));return p===r};f.zfa=function(l){l=f.TZ(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let r="",u=l,q="";0<p&&(r=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(q=u.slice(p),l=u.slice(0,-q.length));return{dir:r,Oja:u,name:l,root:m,ext:q,Fka:m+r+u}};f.IM=function(l,m){return new Promise(p=>{self.setTimeout(p,
l,m)})};f.Mma=function(l){try{l()}catch(m){f.bv&&console.warn("Swallowed exception: ",m)}};f.Hla=function(){};f.dr=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};f.mka=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};f.Jba=function(l,m){var p=0;l[p++]=m[0];l[p++]=m[1];l[p++]=m[2];l[p++]=m[3];l[p++]=m[4];l[p++]=m[5];l[p++]=m[6];l[p++]=m[7];l[p++]=m[8];l[p++]=m[9];
l[p++]=m[10];l[p++]=m[11];l[p++]=m[12];l[p++]=m[13];l[p++]=m[14];l[p]=m[15]};f.Ae=function(l,m){l.length=m};f.C=function(l){l&&0!==l.length&&f.Ae(l,0)};f.iaa=function(l){if(l){for(let m=0;m<l.length;m++)f.Ae(l[m],0);f.Ae(l,0)}};f.yA=function(l,m,p){m|=0;var r=l.length;if(!(m<=r))for(;r<m;++r)l.push(p)};f.US=function(l){var m=4;const p=l.length;m<p?f.Ae(l,m):m>p&&f.yA(l,m,"0")};f.xc=function(l,m){f.C(l);f.Am(l,m)};f.Am=function(l,m){if(1E4>m.length)l.push(...m);else for(let p=0,r=m.length;p<r;++p)l.push(m[p])};
f.aaa=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var p=l.length-1;m<p;++m)l[m]=l[m+1];f.Ae(l,p)}};f.Jj=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};f.Nja=function(l,m){let p=l.length;if(m.length!==p)return!1;for(let r=0;r<p;++r)if(l[r]!==m[r])return!1;return!0};f.$$=function(l,m){let p=[],r=0;for(let u=0,q=l.length;u<q;++u){let v=l[u];m(v)?p.push(v):(l[r]=v,++r)}f.Ae(l,r);return p};f.Lf=function(l,m){const p=l.length;let r=0;for(let u=0,q=l.length;u<q;++u){let v=l[u];m.has(v)||
(l[r++]=v)}f.Ae(l,r);return p-r};f.Maa=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};f.bna=function(l,m){if(!f.Maa(l,m))throw new RangeError("array index out of bounds");};f.aI=function(l){return l.slice()};f.naa=function(l,m){let p=[];for(let r of l)if(f.PK(r)){l=m(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");p.push(l)}else f.mn(r)?p.push(f.naa(r,m)):p.push(r);return p};f.Yja=function(l){let m=[];for(let p of l)m.push(p.slice());
return m};f.Dla=function(l,m){return new Set([...l,...m])};f.Ela=function(l,m){for(const p of m)l.add(p);return l};f.first=function(l){for(let m of l)return m;return null};f.xor=function(l,m){return!l!==!m};f.compare=function(l,m,p){switch(m){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};f.Tka=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};f.I_=function(l,m){return l.length?new Promise((p,
r)=>{const u=[];let q=0,v=!1;for(let w=0,y=l.length;w<y;++w)u.push(void 0),l[w].then(A=>{v||(u[w]=A,++q,q===l.length?p(u):m(q,l.length))}).catch(A=>{v=!0;r(A)})}):Promise.resolve([])};let e=[];f.Tba=function(l){e.push(l)};f.vda=function(){let l=0;for(let m of e){let p=m();l+=p}return Math.floor(l)};let c=1;const g=new Map,n=new MessageChannel;n.port2.onmessage=function(l){l=l.data;const m=g.get(l);g.delete(l);m&&m(performance.now())};f.PC=function(l){const m=c++;g.set(m,l);n.port1.postMessage(m);
return m};f.pU=function(l){g.delete(l)};f.C_=f.PC;f.b2=function(){return new Promise(l=>f.C_(l))};const h=new Set;f.oga=function(l){const m=self.requestAnimationFrame(async p=>{await f.b2();h.has(m)&&(h.delete(m),l(p))});h.add(m);return m};f.pca=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const f=self.B;f.EK=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.vC=function(a){return!f.EK(a)};f.J1=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};f.Qv=function(a){return fetch(a,void 0).then(b=>{f.J1(b);return b})};f.Br=function(a){return f.Qv(a).then(b=>b.text())};f.JJ=function(a){return f.Qv(a).then(b=>b.json())};f.Pj=function(a){return f.Qv(a).then(b=>b.blob())};f.Ar=function(a){return f.Qv(a).then(b=>
b.arrayBuffer())};f.pW=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>e(g);c.src=a})};f.dU=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};f.aJ=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};f.ica=function(a){return f.aJ(a).then(b=>
JSON.parse(b))};f.eU=async function(a){a=URL.createObjectURL(a);try{const b=await f.pW(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};f.Fg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};f.zv=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=f.ja(e,0,1);return a.toBlob?new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?
a.convertToBlob({type:b,quality:e}):f.Km(()=>f.fJ(a,b,e))};f.fJ=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=f.ja(e,0,1);return f.RU(a.toDataURL(b,e))};f.RU=function(a){a=f.w_(a);return f.cU(a.data,a.Zaa)};f.w_=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=b[2];e="base64"===b[1]||"base64"===c?atob(e):
decodeURIComponent(e);return{Zaa:a,data:e}};f.cU=function(a,b){var e=a.length;let c=e>>2,g=new Uint8Array(e),n=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)n[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};f.DJ=function(a,b,e){const c=f.Fg(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return f.zv(c,b,e)};f.Nda=function(a,b,e){const c=f.Fg(a.width,a.height);c.getContext("2d").putImageData(a,
0,0);return f.fJ(c,b,e)};f.Mda=function(a,b,e){if(f.qb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>f.DJ(c,b,e));if(f.qb.ImageBitmap)return createImageBitmap(a).then(c=>f.DJ(c,b,e));{const c=f.Fg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return f.zv(c,b,e)}};f.GU=function(a,b){a.clear();for(const e of b)a.add(e)};f.Sea=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=c;return b};f.gfa=function(a,b){b.clear();for(const [e,
c]of Object.entries(a))b.set(e,c)};f.vD=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,n]of Object.entries(b))c[g]=e(n);return c}}return b};f.xB=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>c(g)));if("map"===e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));
{const g=Object.create(null);for(const [n,h]of Object.entries(e))g[n]=c(h);return g}}return e};f.iU=function(e){let c="",g=!1;for(const n of e)"-"===n?g=!0:g?(c+=n.toUpperCase(),g=!1):c+=n;return c};f.sl=function(e){return"object"===typeof e&&"function"===typeof e.next};f.KZ=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const f=self.B;f.Wa=class{constructor(a,b,e,c){this.Qa=this.Ra=this.Sa=this.Oa=0;a instanceof f.Wa?this.set(a):this.Hm(a||0,b||0,e||0,c||0)}pr(a,b,e){this.Oa=+a;this.Sa=+b;this.Ra=+e;this.ja()}Hm(a,b,e,c){this.Oa=+a;this.Sa=+b;this.Ra=+e;this.Qa=+c;this.ja()}set(a){this.Oa=a.Oa;this.Sa=a.Sa;this.Ra=a.Ra;this.Qa=a.Qa;return this}ia(a){return this.set(a)}add(a){this.Oa+=a.Oa;this.Sa+=a.Sa;this.Ra+=a.Ra;this.Qa+=a.Qa;this.ja()}cS(a,b,e){this.Oa+=+a;this.Sa+=+b;this.Ra+=+e;this.Qa+=0;this.ja()}yi(a){this.Oa=
a.Oa;this.Sa=a.Sa;this.Ra=a.Ra}aT(a){this.Oa=f.ja(+a,0,1)}sba(a){this.Sa=f.ja(+a,0,1)}pba(a){this.Ra=f.ja(+a,0,1)}mr(a){this.Qa=f.ja(+a,0,1)}clone(){return f.j(f.Wa,this.Oa,this.Sa,this.Ra,this.Qa)}toArray(){return[this.Oa,this.Sa,this.Ra,this.Qa]}uh(a,b){a[b++]=this.Oa;a[b++]=this.Sa;a[b++]=this.Ra;a[b]=this.Qa}Xc(a){return this.Oa===a.Oa&&this.Sa===a.Sa&&this.Ra===a.Ra&&this.Qa===a.Qa}$k(a){return this.Oa===a.Oa&&this.Sa===a.Sa&&this.Ra===a.Ra}xA(a,b,e,c){return this.Oa===a&&this.Sa===b&&this.Ra===
e&&this.Qa===c}multiply(a){this.Oa*=a.Oa;this.Sa*=a.Sa;this.Ra*=a.Ra;this.Qa*=a.Qa}EI(){this.Oa*=this.Qa;this.Sa*=this.Qa;this.Ra*=this.Qa}ja(){this.Oa=f.ja(this.Oa,0,1);this.Sa=f.ja(this.Sa,0,1);this.Ra=f.ja(this.Ra,0,1);this.Qa=f.ja(this.Qa,0,1);return this}nr(a){this.Oa=f.TB(a);this.Sa=f.MB(a);this.Ra=f.AB(a);this.Qa=f.wW(a)}Caa(){return`rgb(${100*(f.pf(void 0)?NaN:this.Oa)}%, ${100*(f.pf(void 0)?NaN:this.Sa)}%, ${100*(f.pf(void 0)?NaN:this.Ra)}%)`}NS(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.aT(a);isFinite(e)&&this.sba(e);isFinite(b)&&this.pba(b);this.mr(1)}}}toJSON(){return[this.Oa,this.Sa,this.Ra,this.Qa]}dl(a){!Array.isArray(a)||3>a.length||(this.Oa=a[0],this.Sa=a[1],this.Ra=a[2],this.Qa=4<=a.length?a[3]:1)}set r(a){this.aT(a)}get r(){return this.Oa}set Uo(a){this.mr(a)}get Uo(){return this.Qa}static rB(a,b){return f.ja(Math.max(a,
b)-Math.min(a,b),0,1)}};f.Wa.sja=Object.freeze(f.j(f.Wa,1,1,1,1));f.Wa.hca=Object.freeze(f.j(f.Wa,0,0,0,1));f.Wa.Tia=Object.freeze(f.j(f.Wa,0,0,0,0))}
{"use strict";const f=self.B;f.ix=class{constructor(a,b){this.W=this.ba=0;a instanceof f.ix?this.ia(a):this.set(a||0,b||0)}set(a,b){this.ba=+a;this.W=+b}ia(a){this.ba=a.ba;this.W=a.W}Xc(a){return this.ba===a.ba&&this.W===a.W}toArray(){return[this.ba,this.W]}uh(a,b){a[b++]=this.ba;a[b]=this.W}offset(a,b){this.ba+=+a;this.W+=+b}scale(a,b){this.ba*=a;this.W*=b}Zk(a,b){this.ba/=a;this.W/=b}round(){this.ba=Math.round(this.ba);this.W=Math.round(this.W)}floor(){this.ba=Math.floor(this.ba);this.W=Math.floor(this.W)}ceil(){this.ba=
Math.ceil(this.ba);this.W=Math.ceil(this.W)}angle(){return f.fS(0,0,this.ba,this.W)}Uaa(){return this.ba*this.ba+this.W*this.W}length(){return Math.sqrt(this.Uaa())}nba(a,b){const e=this.ba*b-this.W*a;this.W=this.W*b+this.ba*a;this.ba=e}rotate(a){0!==a&&this.nba(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.ba+=Math.cos(a)*b,this.W+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ba/=a,this.W/=a)}ja(a,b){this.ba=f.ja(this.ba,a,b);this.W=f.ja(this.W,a,b)}}}
{"use strict";const f=self.B;f.Rect=class{constructor(a,b,e,c){this.U=this.X=this.L=this.O=0;a instanceof f.Rect?this.ia(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.O=+a;this.L=+b;this.X=+e;this.U=+c}Eg(a,b,e,c){a=+a;b=+b;this.O=a;this.L=b;this.X=a+ +e;this.U=b+ +c}ia(a){this.O=+a.O;this.L=+a.L;this.X=+a.X;this.U=+a.U}clone(){return new f.Rect(this.O,this.L,this.X,this.U)}Xc(a){return this.O===a.O&&this.L===a.L&&this.X===a.X&&this.U===a.U}waa(a,b,e,c){return this.O===a&&this.L===b&&this.width()===
e&&this.height()===c}toArray(){return[this.O,this.L,this.X,this.U]}Cba(){new DOMRect(this.O,this.L,this.width(),this.height())}uh(a,b){a[b++]=this.O;a[b++]=this.L;a[b++]=this.X;a[b]=this.U}Lba(a,b){a[b++]=this.O;a[b++]=this.L;a[b++]=this.X;a[b++]=this.L;a[b++]=this.X;a[b++]=this.U;a[b++]=this.O;a[b]=this.U}width(){return this.X-this.O}height(){return this.U-this.L}kr(){return(this.O+this.X)/2}lr(){return(this.L+this.U)/2}offset(a,b){a=+a;b=+b;this.O+=a;this.L+=b;this.X+=a;this.U+=b}offsetLeft(a){this.O+=
+a}offsetTop(a){this.L+=+a}fba(a){this.X+=+a}eba(a){this.U+=+a}DA(a,b){a=+a;b=+b;this.O-=a;this.L-=b;this.X+=a;this.U+=b}multiply(a,b){this.O*=a;this.L*=b;this.X*=a;this.U*=b}Zk(a,b){this.O/=a;this.L/=b;this.X/=a;this.U/=b}Em(){this.L=1-this.L;this.U=1-this.U}zba(){const a=this.O;this.O=this.X;this.X=a}Aba(){const a=this.L;this.L=this.U;this.U=a}round(){this.O=Math.round(this.O);this.L=Math.round(this.L);this.X=Math.round(this.X);this.U=Math.round(this.U)}WS(){this.O=Math.floor(this.O);this.L=Math.floor(this.L);
this.X=Math.ceil(this.X);this.U=Math.ceil(this.U)}floor(){this.O=Math.floor(this.O);this.L=Math.floor(this.L);this.X=Math.floor(this.X);this.U=Math.floor(this.U)}ceil(){this.O=Math.ceil(this.O);this.L=Math.ceil(this.L);this.X=Math.ceil(this.X);this.U=Math.ceil(this.U)}ja(a,b,e,c){this.O<a&&(this.O=+a);this.L<b&&(this.L=+b);this.X>e&&(this.X=+e);this.U>c&&(this.U=+c)}normalize(){this.O>this.X&&this.zba();this.L>this.U&&this.Aba()}EA(a){return!(a.X<this.O||a.U<this.L||a.O>this.X||a.L>this.U)}Laa(a,
b,e){return!(a.X+b<this.O||a.U+e<this.L||a.O+b>this.X||a.L+e>this.U)}$e(a,b){return a>=this.O&&a<=this.X&&b>=this.L&&b<=this.U}}}
{"use strict";const f=self.B;f.jd=class{constructor(a,b,e,c,g,n,h,l){this.Ub=this.Tb=this.Wb=this.Vb=this.ac=this.$b=this.sb=this.rb=0;a instanceof f.jd?this.ia(a):this.set(a||0,b||0,e||0,c||0,g||0,n||0,h||0,l||0)}set(a,b,e,c,g,n,h,l){this.rb=+a;this.sb=+b;this.$b=+e;this.ac=+c;this.Vb=+g;this.Wb=+n;this.Tb=+h;this.Ub=+l}bT(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}ia(a){this.rb=a.rb;this.sb=a.sb;this.$b=a.$b;this.ac=a.ac;this.Vb=a.Vb;this.Wb=a.Wb;this.Tb=a.Tb;this.Ub=a.Ub}Xc(a){return this.rb===a.rb&&this.sb===
a.sb&&this.$b===a.$b&&this.ac===a.ac&&this.Vb===a.Vb&&this.Wb===a.Wb&&this.Tb===a.Tb&&this.Ub===a.Ub}toArray(){return[this.rb,this.sb,this.$b,this.ac,this.Vb,this.Wb,this.Tb,this.Ub]}uh(a,b){a[b++]=this.rb;a[b++]=this.sb;a[b++]=this.$b;a[b++]=this.ac;a[b++]=this.Vb;a[b++]=this.Wb;a[b++]=this.Tb;a[b]=this.Ub}Mba(a,b,e){a[b++]=this.rb;a[b++]=this.sb;a[b++]=e;a[b++]=this.$b;a[b++]=this.ac;a[b++]=e;a[b++]=this.Vb;a[b++]=this.Wb;a[b++]=e;a[b++]=this.Tb;a[b++]=this.Ub;a[b]=e}offset(a,b){a=+a;b=+b;this.rb+=
a;this.sb+=b;this.$b+=a;this.ac+=b;this.Vb+=a;this.Wb+=b;this.Tb+=a;this.Ub+=b}round(){this.rb=Math.round(this.rb);this.sb=Math.round(this.sb);this.$b=Math.round(this.$b);this.ac=Math.round(this.ac);this.Vb=Math.round(this.Vb);this.Wb=Math.round(this.Wb);this.Tb=Math.round(this.Tb);this.Ub=Math.round(this.Ub)}floor(){this.rb=Math.floor(this.rb);this.sb=Math.floor(this.sb);this.$b=Math.floor(this.$b);this.ac=Math.floor(this.ac);this.Vb=Math.floor(this.Vb);this.Wb=Math.floor(this.Wb);this.Tb=Math.floor(this.Tb);
this.Ub=Math.floor(this.Ub)}ceil(){this.rb=Math.ceil(this.rb);this.sb=Math.ceil(this.sb);this.$b=Math.ceil(this.$b);this.ac=Math.ceil(this.ac);this.Vb=Math.ceil(this.Vb);this.Wb=Math.ceil(this.Wb);this.Tb=Math.ceil(this.Tb);this.Ub=Math.ceil(this.Ub)}Di(a){this.rb=a.O;this.sb=a.L;this.$b=a.X;this.ac=a.L;this.Vb=a.X;this.Wb=a.U;this.Tb=a.O;this.Ub=a.U}rba(a,b){0===b?this.Di(a):this.$S(a,Math.sin(b),Math.cos(b))}$S(a,b,e){const c=a.O*b,g=a.L*b,n=a.X*b;b*=a.U;const h=a.O*e,l=a.L*e,m=a.X*e;a=a.U*e;this.rb=
h-g;this.sb=l+c;this.$b=m-g;this.ac=l+n;this.Vb=m-b;this.Wb=a+n;this.Tb=h-b;this.Ub=a+c}jI(a){a.set(Math.min(this.rb,this.$b,this.Vb,this.Tb),Math.min(this.sb,this.ac,this.Wb,this.Ub),Math.max(this.rb,this.$b,this.Vb,this.Tb),Math.max(this.sb,this.ac,this.Wb,this.Ub))}$e(a,b){var e=this.$b-this.rb,c=this.ac-this.sb;const g=this.Vb-this.rb,n=this.Wb-this.sb;a-=this.rb;b-=this.sb;var h=e*e+c*c;let l=e*g+c*n;c=e*a+c*b;const m=g*g+n*n,p=g*a+n*b;let r=1/(h*m-l*l);e=(m*c-l*p)*r;h=(h*p-l*c)*r;if(0<=e&&0<
h&&1>e+h)return!0;e=this.Tb-this.rb;c=this.Ub-this.sb;h=e*e+c*c;l=e*g+c*n;c=e*a+c*b;r=1/(h*m-l*l);e=(m*c-l*p)*r;h=(h*p-l*c)*r;return 0<=e&&0<h&&1>e+h}kr(){return(this.rb+this.$b+this.Vb+this.Tb)/4}lr(){return(this.sb+this.ac+this.Wb+this.Ub)/4}mI(a){var b=a.kr(),e=a.lr();if(this.$e(b,e))return!0;b=this.kr();e=this.lr();if(a.$e(b,e))return!0;b=this.rb;e=this.sb;const c=this.$b,g=this.ac,n=this.Vb,h=this.Wb,l=this.Tb,m=this.Ub;return f.MA(b,e,c,g,a)||f.MA(c,g,n,h,a)||f.MA(n,h,l,m,a)||f.MA(l,m,b,e,a)}mba(){const a=
this.rb,b=this.sb;this.rb=this.$b;this.sb=this.ac;this.$b=this.Vb;this.ac=this.Wb;this.Vb=this.Tb;this.Wb=this.Ub;this.Tb=a;this.Ub=b}}}
{"use strict";const f=self.B,a=[0,0,1,0,1,1,0,1],b=f.j(f.jd);f.Qm=class extends f.Z{constructor(e,c=!0){super();e||(e=a);this.Vd=Float64Array.from(e);this.Xx=new f.Rect;this.qo=!0;this.ng=c}m(){}NA(e){this.Vd.length===e.length?this.Vd.set(e):this.Vd=Float64Array.from(e);this.qo=!0}qba(){this.NA(a)}ia(e){this.NA(e.Vd)}KI(){this.qo=!0}Q$(){if(this.qo){var e=this.Vd,c=e[0],g=e[1],n=c,h=g;for(let l=0,m=e.length;l<m;l+=2){const p=e[l],r=e[l+1];p<c&&(c=p);p>n&&(n=p);r<g&&(g=r);r>h&&(h=r)}this.Xx.set(c,
g,n,h);this.qo=!1}}Di(e){let c=this.Vd;8!==c.length&&(this.Vd=c=new Float64Array(8));c[0]=e.O-NaN;c[1]=e.L-NaN;c[2]=e.X-NaN;c[3]=e.L-NaN;c[4]=e.X-NaN;c[5]=e.U-NaN;c[6]=e.O-NaN;c[7]=e.U-NaN;this.Xx.ia(e);this.Xx.offset(NaN,NaN);this.qo=!1}LI(e,c,g){b.ia(e);b.offset(c,g);this.NA(b.toArray());this.qo=!0}transform(e,c,g){let n=0,h=1;0!==g&&(n=Math.sin(g),h=Math.cos(g));this.SI(e,c,n,h)}SI(e,c,g,n){const h=this.Vd;for(let l=0,m=h.length;l<m;l+=2){const p=l+1,r=h[l]*e,u=h[p]*c;h[l]=r*n-u*g;h[p]=u*n+r*g}this.qo=
!0}offset(e,c){const g=this.Vd;for(let n=0,h=g.length;n<h;n+=2)g[n]+=e,g[n+1]+=c}$e(e,c){const g=this.Vd;if(e===g[0]&&c===g[1])return!0;this.Q$();var n=this.Xx;const h=n.O-110,l=n.L-101,m=n.X+131;n=n.U+120;let p,r,u,q,v,w,y,A;h<e?(p=h,u=e):(p=e,u=h);l<c?(r=l,q=c):(r=c,q=l);m<e?(v=m,y=e):(v=e,y=m);n<c?(w=n,A=c):(w=c,A=n);let G=0,z=0;for(let I=0,J=g.length;I<J;I+=2){var F=(I+2)%J;const M=g[I],Q=g[I+1],S=g[F];F=g[F+1];f.cl(h,l,e,c,p,u,r,q,M,Q,S,F)&&++G;f.cl(m,n,e,c,v,y,w,A,M,Q,S,F)&&++z}return 1===G%
2||1===z%2}av(e,c,g){const n=e.Vd,h=this.Vd;if(this.$e(n[0]+c,n[1]+g)||e.$e(h[0]-c,h[1]-g))return!0;for(let m=0,p=h.length;m<p;m+=2){var l=(m+2)%p;e=h[m];const r=h[m+1],u=h[l];l=h[l+1];let q,v,w,y;e<u?(q=e,w=u):(q=u,w=e);r<l?(v=r,y=l):(v=l,y=r);for(let A=0,G=n.length;A<G;A+=2){const z=(A+2)%G;if(f.cl(e,r,u,l,q,w,v,y,n[A]+c,n[A+1]+g,n[z]+c,n[z+1]+g))return!0}}return!1}rn(){return this.ng}}}
{"use strict";const f=self.B;f.ls=class extends f.Z{constructor(a){super();this.oj=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}m(){this.bd();this.oj=null}bd(){const a=this.oj;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.oj;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,e)}V(a,b){return(a=this.oj.get(a))?a.get(b):a}ww(a){return(a=this.oj.get(a))?a.has(void 0):!1}Rm(a,b){const e=this.oj,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}BJ(a){const b=this.oj,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}an(){let a=0;for(const b of this.oj.values())a+=b.size;return a}*values(){for(const a of this.oj.values())yield*a.values()}*entries(){for(const [a,b]of this.oj.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const f=self.B;f.bB=class extends f.Z{constructor(){super();this.im=new Set;this.Ux=[];this.lu=!1}m(){this.bd()}bd(){this.im.clear();f.C(this.Ux);this.lu=!1}Nc(a){this.im.has(a)||(this.im.add(a),this.lu||this.Ux.push(a))}ww(a){return this.im.has(a)}Rm(a){this.im.delete(a)&&(this.lu=!0)}an(){return this.im.size}qn(){return 0===this.im.size}zB(){this.lu&&(this.R6(),this.lu=!1);return this.Ux}R6(){const a=this.Ux;f.C(a);for(const b of this.im)a.push(b)}}}
{"use strict";const f=new Map,a=new Map,b=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.yr=class n{constructor(){}static jZ(h){this.FD();return[...a.keys()].includes(h)}static D4(h){const l=g.get(h);if(l)return f.get(l);if(n.jZ(h))return f.get(h);if(c.has(h))return c.get(h)}static $m(h){this.FD();const l=n.D4(h);return l?l:e.get(h)}static FD(){0===f.size&&(this.wb("default",()=>{}),this.wb("noease",this.SZ),this.wb("easeinsine",this.VV),this.wb("easeoutsine",
this.dW),this.wb("easeinoutsine",this.RV),this.wb("easeinelastic",this.GV),this.wb("easeoutelastic",this.ZV),this.wb("easeinoutelastic",this.MV),this.wb("easeinback",this.DV),this.wb("easeoutback",this.WV),this.wb("easeinoutback",this.IV),this.wb("easeinbounce",this.EJ),this.wb("easeoutbounce",this.tB),this.wb("easeinoutbounce",this.JV),this.wb("easeincubic",this.FV),this.wb("easeoutcubic",this.YV),this.wb("easeinoutcubic",this.LV),this.wb("easeinquad",this.SV),this.wb("easeoutquad",this.aW),this.wb("easeinoutquad",
this.OV),this.wb("easeinquart",this.TV),this.wb("easeoutquart",this.bW),this.wb("easeinoutquart",this.PV),this.wb("easeinquint",this.UV),this.wb("easeoutquint",this.cW),this.wb("easeinoutquint",this.QV),this.wb("easeincirc",this.EV),this.wb("easeoutcirc",this.XV),this.wb("easeinoutcirc",this.KV),this.wb("easeinexpo",this.HV),this.wb("easeoutexpo",this.$V),this.wb("easeinoutexpo",this.NV),this.TM("cubicbezier",this.CV),this.TM("spline",this.eW))}static wb(h,l){n.zD(h,l,"predefined")}static TM(h,l){n.zD(h,
l,"private")}static BT(h,l){this.FD();n.zD(h,l,"custom",void 0)}static zD(h,l,m,p){switch(m){case "predefined":f.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):e.set(h,l);break;case "private":f.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static SZ(h,l,m,p){return m*h/p+l}static SV(h,l,m,p){return m*(h/=p)*h+l}static aW(h,l,m,p){return-m*(h/=p)*(h-2)+l}static OV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h+l:-m/2*(--h*(h-2)-1)+l}static FV(h,
l,m,p){return m*(h/=p)*h*h+l}static YV(h,l,m,p){return m*((h=h/p-1)*h*h+1)+l}static LV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h+l:m/2*((h-=2)*h*h+2)+l}static TV(h,l,m,p){return m*(h/=p)*h*h*h+l}static bW(h,l,m,p){return-m*((h=h/p-1)*h*h*h-1)+l}static PV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h+l:-m/2*((h-=2)*h*h*h-2)+l}static UV(h,l,m,p){return m*(h/=p)*h*h*h*h+l}static cW(h,l,m,p){return m*((h=h/p-1)*h*h*h*h+1)+l}static QV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h*h+l:m/2*((h-=2)*h*h*h*h+2)+l}static VV(h,
l,m,p){return-m*Math.cos(h/p*(Math.PI/2))+m+l}static dW(h,l,m,p){return m*Math.sin(h/p*(Math.PI/2))+l}static RV(h,l,m,p){return-m/2*(Math.cos(Math.PI*h/p)-1)+l}static HV(h,l,m,p){return 0===h?l:m*Math.pow(2,10*(h/p-1))+l}static $V(h,l,m,p){return h===p?l+m:m*(-Math.pow(2,-10*h/p)+1)+l}static NV(h,l,m,p){return 0===h?l:h===p?l+m:1>(h/=p/2)?m/2*Math.pow(2,10*(h-1))+l:m/2*(-Math.pow(2,-10*--h)+2)+l}static EV(h,l,m,p){return-m*(Math.sqrt(1-(h/=p)*h)-1)+l}static XV(h,l,m,p){return m*Math.sqrt(1-(h=h/p-
1)*h)+l}static KV(h,l,m,p){return 1>(h/=p/2)?-m/2*(Math.sqrt(1-h*h)-1)+l:m/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static GV(h,l,m,p){let r=0,u=m;if(0===h)return l;if(1===(h/=p))return l+m;r||(r=.3*p);u<Math.abs(m)?(u=m,m=r/4):m=r/(2*Math.PI)*Math.asin(m/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-m)*Math.PI/r))+l}static ZV(h,l,m,p){let r,u=0,q=m;if(0===h)return l;if(1===(h/=p))return l+m;u||(u=.3*p);q<Math.abs(m)?(q=m,r=u/4):r=u/(2*Math.PI)*Math.asin(m/q);return q*Math.pow(2,-10*h)*Math.sin(2*(h*p-r)*
Math.PI/u)+m+l}static MV(h,l,m,p){let r,u=0,q=m;if(0===h)return l;if(2===(h/=p/2))return l+m;u||(u=.3*p*1.5);q<Math.abs(m)?(q=m,r=u/4):r=u/(2*Math.PI)*Math.asin(m/q);return 1>h?-.5*q*Math.pow(2,10*--h)*Math.sin(2*(h*p-r)*Math.PI/u)+l:q*Math.pow(2,-10*--h)*Math.sin(2*(h*p-r)*Math.PI/u)*.5+m+l}static DV(h,l,m,p,r){void 0===r&&(r=1.70158);return m*(h/=p)*h*((r+1)*h-r)+l}static WV(h,l,m,p,r){void 0===r&&(r=1.70158);return m*((h=h/p-1)*h*((r+1)*h+r)+1)+l}static IV(h,l,m,p,r){void 0===r&&(r=1.70158);return 1>
(h/=p/2)?m/2*h*h*(((r*=1.525)+1)*h-r)+l:m/2*((h-=2)*h*(((r*=1.525)+1)*h+r)+2)+l}static EJ(h,l,m,p){return m-n.tB(p-h,0,m,p)+l}static tB(h,l,m,p){return(h/=p)<1/2.75?7.5625*m*h*h+l:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+l:m*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static JV(h,l,m,p){return h<p/2?.5*n.EJ(2*h,0,m,p)+l:.5*n.tB(2*h-p,0,m,p)+.5*m+l}static CV(h,l,m,p,r){return l+3*h*(m-l)+3*h**2*(l+p-2*m)+h**3*(r-l+3*m-3*p)}static eW(h,l,m,p,r,u,q,v,w,y){if(p===
r&&u===q)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;v=v-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*v*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((v*y+u)*y+l)*y-h)/(3*v*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((v*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((w-3*q+3*r-m)*h+(3*q-6*r+3*m))*h+3*(r-m))*h}static BW(h,l,m,p){const r=[];p=p-3*m+3*l-h;m=3*m-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,r.push(((p*l+m)*l+h)*l);return r}}}{"use strict";const f=self.B;f.Zfa=class{constructor(){this.FQ=[]}m(){this.bd();this.FQ=null}bd(){f.iaa(this.FQ)}}}"use strict";
self.B.Event=class{constructor(f,a){this.type=f;this.cancelable=!!a;this.Naa=this.FI=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Naa)throw Error(`cannot stop async event '${this.type}' propagation`);this.FI=!0}};
{"use strict";const f=self.B;f.Event.NX=class extends f.Z{constructor(a){super();this.oa=a;this.Ke=[];this.$p=new Set;this.Qe=[];this.xq=new Set;this.At=0;this.Hq=[]}m(){0<this.At||(f.C(this.Ke),this.$p.clear(),f.C(this.Qe),this.xq.clear(),f.C(this.Hq),f.m(this))}RM(a,b){this.eO()?this.Hq.push({zI:"add",qh:a,capture:b}):b?this.$p.has(a)||(this.Ke.push(a),this.$p.add(a)):this.xq.has(a)||(this.Qe.push(a),this.xq.add(a))}g7(a,b){this.eO()?this.Hq.push({zI:"remove",qh:a,capture:b}):b?this.$p.has(a)&&
(this.$p.delete(a),f.Jj(this.Ke,a)):this.xq.has(a)&&(this.xq.delete(a),f.Jj(this.Qe,a))}s5(){return!this.Ke.length&&!this.Qe.length}eO(){return 0<this.At}O6(){const a=new Set,b=new Set;for(const e of this.Hq)if("add"===e.zI)this.RM(e.qh,e.capture),e.capture?b.delete(e.qh):a.delete(e.qh);else if("remove"===e.zI)e.capture?(this.$p.delete(e.qh),b.add(e.qh)):(this.xq.delete(e.qh),a.add(e.qh));else throw Error("invalid op");f.Lf(this.Qe,a);f.Lf(this.Ke,b);f.C(this.Hq)}p4(a){this.Qp();let b=!1;for(let e=
0,c=this.Ke.length;e<c;++e)if(this.Ke[e](a),a.FI){b=!0;break}if(!b)for(let e=0,c=this.Qe.length;e<c&&(this.Qe[e](a),!a.FI);++e);this.Mp();return!a.defaultPrevented}r4(a){this.Qp();for(let b=0,e=this.Ke.length;b<e;++b)this.Ke[b](a);for(let b=0,e=this.Qe.length;b<e;++b)this.Qe[b](a);this.Mp();return!0}Qp(){this.At++}Mp(){this.At--;0===this.At&&0<this.Hq.length&&this.O6()}Cp(a){a?this.Qp():this.Mp()}yN(a){const b=[];this.Qp();for(let c=0,g=this.Ke.length;c<g;++c){var e=this.Ke[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,g=this.Qe.length;c<g;++c)e=this.Qe[c](a),e instanceof Promise&&b.push(e);this.Mp();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async m4(a){return await this.yN(a)}async n4(a){this.Qp();for(let e=0,c=this.Ke.length;e<c;++e){var b=this.Ke[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Qe.length;e<c;++e)b=this.Qe[e](a),b instanceof Promise&&await b;this.Mp();return!a.defaultPrevented}*o4(a){this.Qp();for(let e=0,c=this.Ke.length;e<c;++e){var b=
this.Ke[e](a);f.sl(b)&&(yield*b)}for(let e=0,c=this.Qe.length;e<c;++e)b=this.Qe[e](a),f.sl(b)&&(yield*b);this.Mp()}}}
{"use strict";const f=self.B;f.Event.dc=class extends f.Z{constructor(){super();this.co=new Map;this.kF=!1}m(){if(this.kF)throw Error("already released");this.uU();this.kF=!0;f.m(this)}KM(){return this.kF}uU(){for(let a of this.co.values())a.m();this.co.clear()}Nn(a,b){let e=this.co.get(a);return e?e:b?(e=f.j(f.Event.NX,a),this.co.set(a,e),e):null}$B(a){return this.co.has(a)}addEventListener(a,b,e){this.Nn(a,!0).RM(b,!!e)}removeEventListener(a,b,e){let c=this.Nn(a,!1);c&&(c.g7(b,!!e),c.s5()&&this.co.delete(a))}dispatchEvent(a){const b=
this.Nn(a.type,!1);return b?a.cancelable?b.p4(a):b.r4(a):!0}async eI(a){const b=this.Nn(a.type,!1);return b?await b.m4(a):!0}saa(a){const b=this.Nn(a.type,!1);return b?b.yN(a):!0}async raa(a){const b=this.Nn(a.type,!1);b&&await b.n4(a)}taa(a){const b=this.Nn(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.o4(a)}Cp(a){for(const b of this.co.values())b.Cp(a)}}}
{"use strict";const f=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function g(m){e=a&&0===c?requestIdleCallback(n,{timeout:35}):setTimeout(n,0<c?1:m)}function n(m){e=-1;if(b.length){var p=performance.now(),r=0;do{h(b.shift());var u=performance.now();++r;var q=(u-p)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof m?q<m.timeRemaining():12>u-p+q));-1===e&&b.length&&g(Math.max(16-(u-p),4))}}function h(m){let p;try{p=m.qh()}catch(r){m.reject(r);return}m.resolve(p)}let l=f.KC.ww("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");f.Km=function(m){let p=null;f.bv&&(p=f.Tv());return new Promise((r,u)=>{b.push({qh:m,resolve:r,reject:u,stack:p});l?h(b.pop()):-1===e&&g(16)})};f.Km.ZL=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const f=self.B;let a=-1;function b(){a=-1}f.Pv=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,g=new Set;function n(){c=e=-1;let h=Date.now();for(let l of g)if(l.N2(h)){let m=l.$n;if(-1===c||m<c)c=m}else g.delete(l);-1!==c&&(e=self.setTimeout(n,Math.max(c-h+100,1E3)))}f.nY=class{constructor(h,l){this.Zp=h;this.gA=1E3*l;this.$n=0;this.zb=!1}Sc(){let h=f.Pv();this.$n=h+this.gA;this.zb||(g.add(this),this.zb=!0);-1===e?(c=this.$n,e=self.setTimeout(n,this.gA+
100)):this.$n<c&&c>h+1E3&&(self.clearTimeout(e),c=this.$n,e=self.setTimeout(n,this.gA+100))}N2(h){return h>=this.$n?this.Zp()?(this.$n=h+this.gA,!0):this.zb=!1:!0}oU(){this.zb&&(g.delete(this),this.zb=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}m(){this.oU();this.Zp=null}}}
{"use strict";const f=self.B;f.il=class a{constructor(b){this.iq=!1;this.lF=b}Lv(){this.iq||(this.iq=!0,this.lF&&(this.lF(),this.lF=null))}m(){this.Lv()}static m(b){return new a(()=>b.m())}static Rv(b,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const n=new f.kJ;for(let h of e)b.addEventListener(h,c,g),n.Nc(f.j(f.il,()=>b.removeEventListener(h,c,g)));return n}b.addEventListener(e,
c,g);return f.j(f.il,()=>b.removeEventListener(e,c,g))}};f.Jia=class extends f.il{};f.kJ=class extends f.il{constructor(...a){super();this.yf=new Set;for(let b of a)this.Nc(b)}Nc(...a){if(this.iq)throw Error("already disposed");for(let b of a)this.yf.add(b)}Lg(a){if(this.iq)throw Error("already disposed");this.yf.delete(a)}Lv(){if(this.iq)throw Error("already disposed");this.iq=!0;for(let a of this.yf)a.Lv();this.yf.clear();this.yf=null}m(){this.Lv()}}}
{"use strict";const f=self.B;f.yC=class extends f.Z{constructor(){super();this.Nq=this.Cu=this.W=this.$x=0}Nc(a){this.W=+a-this.$x;this.Cu=this.Nq+this.W;this.$x=this.Cu-this.Nq-this.W;this.Nq=this.Cu}V(){return this.Nq}Sc(){this.Nq=this.Cu=this.W=this.$x=0}Set(a){this.Cu=this.W=this.$x=0;this.Nq=+a}m(){}}}
{"use strict";const f=self.B,a={MC:function(b){this.mT=b;this.left=this.right=this.mT.hb;this.parent=null;this.color=!1;this.key=null},wn:function(b){this.size=0;this.hb=new a.MC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb;this.compare=b||this.oaa}};xa=a.wn.prototype;xa.oaa=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.wn(this.compare);b.Jaa(this);return b};xa.clear=function(){this.size=0;this.hb=new a.MC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=
this.hb};xa.dv=function(b){var e=b.right;b.right=e.left;e.left!=this.hb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.nv=function(b){var e=b.left;b.left=e.right;e.right!=this.hb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.fr=function(b){if(this.contains(b))this.Zu(b).key=b;else{var e=new a.MC(this);e.key=
b;b=this.hb;for(var c=this.root;c!=this.hb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.hb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.hb;e.right=this.hb;e.color=!0;this.Kaa(e);this.size++}};xa.Kaa=function(b){for(;b!=this.hb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.dv(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.nv(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.nv(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.dv(b.parent.parent));this.root.color=!1};xa.qaa=function(b){var e=b.left==this.hb||b.right==this.hb?b:this.Im(b);var c=e.left!=this.hb?e.left:e.right;c.parent=e.parent;e.parent==
this.hb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.paa(c);this.size--};xa.paa=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.dv(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.nv(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.dv(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.nv(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.dv(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.nv(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Zu(b);if(b!=this.hb){var e=b.key;this.qaa(b);return e}return null};xa.min=function(b){for(;b.left!=this.hb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.hb;)b=b.right;return b};xa.Im=function(b){if(b.right!=this.hb)return this.min(b.right);for(var e=b.parent;e!=this.hb&&b==e.right;)b=e,e=e.parent;return e};xa.Zu=function(b){for(var e=this.root;e!=this.hb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.Zu(b).key};xa.kI=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.Jaa=function(b){if("array"==a.TI(b))for(var e=0;e<b.length;e++)this.fr(b[e]);
else if("function"==a.TI(b.forEach))b.forEach(this.fr,this);else if("function"==a.TI(b.kI))for(b=b.kI(),e=0;e<b.length;e++)this.fr(b[e]);else if("object"==a.TI(b))for(e in b)this.fr(b[e])};xa.range=function(b,e){var c=[];this.Gba(function(g){c.push(g)},b,e);return c};xa.Gba=function(b,e,c){if(!this.ir())for(e=this.Zu(e),c=this.Zu(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Im(e)};xa.forEach=function(b,e){if(!this.ir())for(var c=this.min(this.root);c!=this.hb;c=this.Im(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.ir())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Im(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.ir())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Im(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.ir())return c;for(var g=this.min(this.root);g!=this.hb;g=this.Im(g))c.push(b.call(e,g.key,g.key,this));return c};xa.filter=function(b,e){var c=[];if(this.ir())return c;
for(var g=this.min(this.root);g!=this.hb;g=this.Im(g))b.call(e,g.key,g.key,this)&&c.push(g.key);return c};xa.ir=function(){return 0==this.size};f.wn=class extends f.Z{constructor(b){super();this.gh=new a.wn(b);this.mq=!1;this.Ho=new Set;this.Io=new Set}Nc(b){this.mq?this.gh.contains(b)?this.Io.delete(b):this.Ho.add(b):this.gh.fr(b)}Lg(b){this.mq?this.gh.contains(b)?this.Io.add(b):this.Ho.delete(b):this.gh.remove(b)}ww(b){return this.mq?this.Ho.has(b)?!0:!this.Io.has(b)&&this.gh.contains(b):this.gh.contains(b)}bd(){this.gh.clear();
this.Ho.clear();this.Io.clear()}toArray(){if(this.mq)throw Error("cannot be used in queueing mode");return this.gh.kI()}an(){return this.gh.size+this.Ho.size-this.Io.size}qn(){return 0===this.an()}Mg(b){b=!!b;if(this.mq!==b&&(this.mq=b,!b)){for(const e of this.Io)this.gh.remove(e);this.Io.clear();for(const e of this.Ho)this.gh.fr(e);this.Ho.clear()}}*values(){if(!this.qn()){var b=this.gh;for(let e=b.min(b.root);e!=b.hb;e=b.Im(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const f=self.B;f.nL=class{constructor(a=f.hardwareConcurrency){this.p$=a;this.XG=[];this.BE=0}Nc(a){return new Promise((b,e)=>{this.XG.push({qh:a,resolve:b,reject:e});this.oO()})}async oO(){if(this.XG.length&&!(this.BE>=this.p$)){this.BE++;var a=this.XG.shift();try{const b=await a.qh();a.resolve(b)}catch(b){a.reject(b)}this.BE--;this.oO()}}}}
{"use strict";const f=self.B;f.P_=class{constructor(a,b,e){this.Zp=a;this.Z9=b;this.a$=e||2*b;this.Tq=-1;this.lz=-Infinity;this.NR=()=>this.E6();this.D9=this.LF=!1;this.mt=null}H4(){return"undefined"!==typeof f.aU&&f.aU.nea()?this.a$:this.Z9}nU(){var a=[];if(-1===this.Tq){this.mt=a;a=f.Pv();var b=a-this.lz,e=this.H4();b>=e&&this.D9?(this.lz=a,this.LO()):this.Tq=self.setTimeout(this.NR,Math.max(e-b,4))}}LO(){this.LF=!0;const a=this.mt;this.mt=null;a?this.Zp(...a):this.Zp();this.LF=!1}Sc(){this.LF||
(this.$M(),this.mt=null,this.lz=f.Pv())}E6(){this.Tq=-1;this.lz=f.Pv();this.LO()}$M(){-1!==this.Tq&&(self.clearTimeout(this.Tq),this.Tq=-1)}m(){this.$M();this.NR=this.mt=this.Zp=null}}}"use strict";function hc(f,a){if(!f.$P)throw Error("no get base size callback set");return f.$P(a)}self.B.nha=class{constructor(){this.W9=new Map;this.oR=this.qR=this.$P=null}Nw(){if(!this.oR)throw Error("no redraw callback set");this.oR()}};"use strict";
self.B.mha=class{constructor(f,a){this.tg=f;this.K9=a;this.vc=0;hc(this.tg,a).then(()=>{this.tg.Nw()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.tg.Nw()});this.YG=null}m(){if(0>=this.vc)throw Error("already released");this.vc--;0===this.vc&&this.Vs()}Vs(){if(this.YG){var f=this.tg;if(!f.qR)throw Error("no release result callback set");f.qR(this.YG);this.YG=null}this.tg.W9.delete(this.K9);this.tg=null}};
{"use strict";const f=self.B;f.Yia="\ufeff";const a=new Set([..."0123456789"]);f.kZ=function(m){return a.has(m)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);f.xC=function(m){return b.has(m)};f.jda=function(m){return[...m].filter(p=>!f.xC(p)).join("")};f.wC=function(m){for(const p of m)if(!f.xC(p))return!1;return!0};f.vZ=function(m){return 1===m.length&&32>m.charCodeAt(0)};f.rW=function(m){return[...m].filter(p=>
!f.vZ(p)).join("")};const e=new Set([..."0123456789.+-e"]);f.xea=function(m){m=m.trim();if(!m.length)return!1;let p=m.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let r of m)if(!e.has(r))return!1;return!0};f.Z_=function(m){let p=m.length;for(;0<p&&f.kZ(m.charAt(p-1));)--p;return m.substr(0,p)};f.Pda=function(m){let p=f.Z_(m);m=(m=m.substr(p.length))?(parseInt(m,10)+1).toString():"2";return p+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(m){return c.get(m)}
const n=/[&<>"']/g;f.kW=function(m){return m.replace(n,g)};f.Zca=function(m){m=f.Kh(m,"\\","\\\\");m=f.Kh(m,'"','\\"');m=f.Kh(m,"\t","\\t");m=f.Kh(m,"\r","");return f.Kh(m,"\n","\\n")};f.$ca=function(m){m=f.Kh(m,"&","&amp;");m=f.Kh(m,"<","&lt;");m=f.Kh(m,">","&gt;");return f.Kh(m,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;f.zr=function(m){return m.replace(h,"\\$&")};f.kda=function(m,p,r=!1){if(!p)return[];r||(m=m.toLowerCase(),p=p.toLowerCase());r=p.length;var u=0;let q=[];for(;-1<(u=m.indexOf(p,
u));)q.push(u),u+=r;return q};f.Kh=function(m,p,r){return m.replaceAll(p,()=>r)};f.lga=function(m,p,r){return m.replace(new RegExp(f.zr(p),"gi"),()=>r)};f.Eha=function(m,p){"string"===typeof p?m.textContent=p:p.AQ?m.textContent=p.toString():(m.innerHTML=p.QI(),p instanceof f.hl&&p.baa(m))};f.Eia=function(m,p){return m instanceof f.dC||m instanceof f.hl?m.Xc(p):p instanceof f.dC||p instanceof f.hl?p.Xc(m):m===p};f.Fia=function(m,...p){let r=m;for(let u=0,q=p.length;u<q;++u){const v=`{${u}}`;if(!m.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
r=r.replace(v,p[u].toString())}return r};f.Gia=function(m,...p){let r=m,u=-1,q=-1;for(let v=0,w=p.length;v<w;++v){const y=`{${v}}`;m.includes(y)?(q=v,r=r.replace(y,p[v].toString())):-1===u&&(u=v)}if(0<=u&&0<=q&&u<q)throw Error(`missing placeholder '${u}' in string substitution`);return r};f.Hia=function(m,p){for(let [r,u]of Object.entries(p))m=m.replaceAll(r,u.toString());return m};f.uia=function(m,p){return m>p?1:m<p?-1:0};f.via=function(m,p){m=m.toLowerCase();p=p.toLowerCase();return m>p?1:m<p?
-1:0};f.qda=function(m,p){p="common."+(p?"dataRates":"dataSizes")+".";const r=self.dla;if(1024>m)return r(p+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),r(p+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),r(p+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),r(p+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return r(p+"terabytes",m)};const l={Z$:!1,
laa:!0,Iaa:!0,$aa:!0,XS:!0};f.rda=function(m,p){p=Object.assign({},l,p);f.yZ.bga("common.time");const r=[],u=self.lang,q=self.cla;if(p.laa){var v=Math.floor(m/86400);0<v&&(m-=86400*v,r.push(q(".days",null,v)))}p.Iaa&&(v=Math.floor(m/3600),0<v||r.length)&&(m-=3600*v,r.push(q(".hours",null,v)));p.$aa&&(v=Math.floor(m/60),0<v||r.length||!p.XS)&&(m-=60*v,r.push(q(".minutes",null,v)));p.XS&&r.push(q(".seconds",null,Math.floor(m%60)));m=(p.Z$?u(".approx-prefix"):"")+r.join(u(".separator"));f.yZ.Xfa();return m};
f.Dja=function(m,p){let r=0>m?"-":"";m=Math.abs(m);m=m.toString();p-=m.length;for(let u=0;u<p;++u)r+="0";return r+m};f.Iia=function(m){return m.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};f.Fca=function(m,p){m=m.split(".").map(r=>r.trim());p=p.split(".").map(r=>r.trim());f.US(m);f.US(p);m=m.map(r=>parseInt(r,10));p=p.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const u=m[r]-p[r];if(0!==u)return 0>u?-1:1}return 0};f.Pca=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
m=>{const p=Math.floor(16*Math.random());return("x"===m?p:p&3|8).toString(16)})};f.Cia=function(m,p){if(m.length!==p.length)throw Error("strings must be same length");let r=0;for(let u=0,q=m.length;u<q;++u)m.charAt(u)!==p.charAt(u)&&++r;return r};f.Dia=function(m,p){if(0===m.length)return p.length;if(0===p.length)return m.length;let r,u,q,v;if(m.length>p.length){var w=m;m=p;p=w}v=Array(m.length+1);for(w=0;w<=m.length;w++)v[w]=w;for(w=1;w<=p.length;w++){u=w;for(r=1;r<=m.length;r++)q=p[w-1]===m[r-1]?
v[r-1]:Math.min(v[r-1]+1,Math.min(u+1,v[r]+1)),v[r-1]=u,u=q;v[m.length]=u}return v[m.length]}}
{"use strict";const f=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function n(l,m,p){var r=a.get(p);if(r){if("string"===typeof r){if("a"!==r||m)return"<"+m+r+">";m=parseInt(p.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");r=c[m];if("string"===typeof r)return`<a href="${c[m]}">`;if("function"===typeof r)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],m?"</"+l+">":`<${l} class="${r}">`}else return"class"===p?m?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;f.hl=class{constructor(l,m){this.Rg=m&&m.cba?l:f.kW(l);this.KF="";this.CP=!1;this.du=[];if(m&&(this.CP=!!m.$ja,m.links)){if(9<m.links.length)throw Error("too many links");this.du=m.links}this.eQ=this.Rg.includes("[");this.cR=this.CP&&this.Rg.includes("\n");this.AQ=!this.eQ&&!this.cR&&!this.Rg.includes("&");this.iQ=!1;this.Ct=[]}toString(){return this.Rg}valueOf(){return this.Rg}QI(){if(this.AQ)return this.Rg;if(!this.KF&&this.Rg){let l=this.Rg;
this.eQ&&(g=0,c=this.du,l=l.replace(b,n),c=null);this.cR&&(l=l.replace(h,"<br>"));this.KF=l}return this.KF}baa(l){if(this.du.length)for(let m=0,p=this.du.length;m<p;++m){const r=this.du[m];if("function"!==typeof r)continue;const u=l.querySelector(".bblink"+m);if(!u)throw Error("unable to attach BBString link handler");u.onclick=r}}Xc(l){return l instanceof f.dC?this.QI()===l.QI():l instanceof f.hl?this.Rg===l.Rg:this.Rg===l}Dba(){if(this.iQ)return this.Ct;const l=this.Rg,m=[];let p=e.lastIndex=0;
for(var r;null!==(r=e.exec(l));){var u=r.index;if(0<u&&"\\"===l.charAt(u-1))continue;var q=r[1],v=r[2];const w=l.substring(p,u);p=u+r[0].length;w&&this.Ct.push({text:w,Yc:m.slice(0)});if(v)if(q)for(v=v.toLowerCase(),r=m.length-1;0<=r;--r){if(m[r].tag===v){m.splice(r,1);break}}else r=v,u=null,q=v.indexOf("="),-1!==q?(r=v.substring(0,q).toLowerCase(),u=v.substring(q+1)):r=r.toLowerCase(),m.push({tag:r,th:u})}p<l.length&&this.Ct.push({text:l.substring(p),Yc:m.slice(0)});for(const w of this.Ct)w.text=
this.N6(w.text);this.iQ=!0;return this.Ct}N6(l){l=f.Kh(l,"\\[","[");return f.Kh(l,"\\\\","\\")}static xM(l){return l.replace(e,"")}}}
{"use strict";const f=self.B;function a(e){return"\u00a0"===e||"\u202f"===e?!1:f.xC(e)}const b=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;f.yD=class{constructor(){this.Yl=[]}qO(e,c){let g=0,n=0,h=0,l=0,m=0;for(const p of e)-1===p.width&&(e=c(p.text,p.Yc),p.width=e.width,p.height=e.height,p.Mf=e.Mf||0,p.af=e.af||0,p.df=e.df||0),g+=p.width,n=Math.max(n,p.height),h=Math.max(h,p.Mf),l=Math.max(l,p.af),m=Math.max(m,
p.df);return{width:g,height:n,Mf:h,af:l,df:m}}kx(e,c,g,n,h,l){this.Yl.push({vS:e,width:c,height:g,Mf:n,af:h,df:l})}yD(e,c,g,n,h){"string"===typeof e&&(e=[{text:e,Yc:[]}]);f.C(this.Yl);if(!(!e.length||1===e.length&&!e[0].text.length||2>g)){if(1===e.length){var l=e[0];const m=l.text;l=l.Yc;if(100>=m.length&&!m.includes("\n")){let {width:p,height:r,Mf:u,af:q,df:v}=c(m,l);p+=h;u=u||0;q=q||0;v=v||0;if(p<=g){this.kx([{text:m,Yc:l,width:p,height:r,Mf:u,af:q,df:v}],p,r,u,q,v);return}}}if("word"===n)n=this.O8(e);
else{n=[];for(const m of e)f.Am(n,[...m.text].map(p=>[{text:p,Yc:m.Yc}]))}this.j9(n,c,g,h)}}O8(e){const c=[];let g=[],n=!1;for(const l of e){var h=l.text;e=l.Yc;for(const m of h)"\n"===m?(0<g.length&&c.push(g),c.push([{text:"\n",Yc:e}]),g=[]):0===g.length?(g.push({text:m,Yc:e}),n=a(m)):(h=a(m),h===n?(h=g.Jd(-1),h.Yc===e?h.text+=m:g.push({text:m,Yc:e})):(c.push(g),g=[],g.push({text:m,Yc:e}),n=h))}0<g.length&&c.push(g);return c}Q2(e){return e.map(c=>({text:c.text,Yc:c.Yc,width:c.width,height:c.height,
Mf:c.Mf,af:c.af,df:c.df}))}WM(e,c){var g=e.length?e.Jd(-1):null;let n=0;g&&c[0].Yc===g.Yc&&(g.text+=c[0].text,g.width=-1,g.height=-1,g.Mf=-1,g.af=-1,g.df=-1,n=1);for(g=c.length;n<g;++n){const h=c[n];e.push({text:h.text,Yc:h.Yc,width:-1,height:-1,Mf:-1,af:-1,df:-1})}}j9(e,c,g,n){let h=[],l=0,m=0,p=0,r=0;var u=0;for(const q of e){if(1===q.length&&"\n"===q[0].text){0===m&&(u=c(" ",q[0].Yc),m=u.height,p=u.Mf||0,r=u.af||0,u=u.df||0);this.kx(h,l,m,p,r,u);h=[];u=r=p=m=l=0;continue}e=this.Q2(h);this.WM(e,
q);const v=this.qO(e,c),w=v.width;w>=g?(0<h.length&&this.kx(h,l,m,p,r,u),h=[],f.wC(q[0].text)?u=r=p=m=l=0:(this.WM(h,q),u=this.qO(h,c),l=u.width,m=u.height,p=u.Mf,r=u.af,u=u.df)):(h=e,l=w,m=v.height,p=v.Mf,r=v.af,u=v.df)}0<h.length&&this.kx(h,l,m,p,r,u);this.S8(c,n)}S8(e,c){for(const n of this.Yl){const h=n.vS;if(!h.length)continue;let l=h.Jd(-1);var g=l.text;const m=g.replace(b,"");if(!m)n.width-=l.width,h.pop();else if(m.length<g.length){g=e(m,l.Yc).width;const p=l.width-g;l.width=g;l.text=m;n.width-=
p}0!==c&&0<h.length&&(l=h.Jd(-1),l.width+=c,n.width+=c)}}bd(){f.C(this.Yl)}nX(){return this.Yl.reduce((e,c)=>Math.max(e,c.width),0)}IX(){return this.Yl.reduce((e,c)=>e+c.height,0)}}}
{"use strict";const f=self.B,a=self.Ci,b=a.TA,e=a.qv,c=a.al,g=b.create(),n=b.create(),h=b.create(),l=e.create(),m=c.create(),p=b.create(),r=b.create(),u=b.create(),q=b.create(),v=b.create(),w=b.create(),y=b.create(),A=b.create(),G=e.bf(0,0,1,1);f.H={H_(J,M,Q,S,T,Z,X){const ba=S[0]*J+S[4]*M+S[8]*Q+S[12],Y=S[1]*J+S[5]*M+S[9]*Q+S[13],va=S[2]*J+S[6]*M+S[10]*Q+S[14];S=S[3]*J+S[7]*M+S[11]*Q+S[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*S;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*S;Q=T[2]*ba+T[6]*Y+T[10]*va+T[14]*S;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*S;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+Q*T);return!0},gj(J,M,Q,S,T,Z,X){c.multiply(m,T,S);if(null===c.hr(m,m))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*Q-1;l[3]=1;e.RI(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},S1(J,M,Q,S,T,Z,X){if(!f.H.gj(J,M,0,S,T,Z,g)||!f.H.gj(J,M,1,S,T,Z,n))return!1;b.fl(n,n,g);b.set(h,0,0,1);J=-Q;M=b.Dm(h,n);Q=0;if(0===M){if(0!==
b.Dm(h,g)+J)return!1}else if(Q=-(b.Dm(g,h)+J)/M,0>Q)return!1;b.JI(X,g,n,Q);return!0}};function z(J,M,Q,S){b.fl(g,Q,M);b.fl(n,J,M);b.cI(h,g,n);b.normalize(h,h);S.set(h[0],h[1],h[2],b.Dm(J,h))}function F(J,M,Q,S,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.tT,Na=X.uT;X=X.vT;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*S*Sa+Y*M*Na+Y*T*Ta+va*Q*X+va*Z*Ua>=ta?!0:ba*S*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*Q*Ua>ta}class I{constructor(){this.vT=this.uT=this.tT=this.w=this.z=this.y=this.x=NaN}set(J,M,Q,S){this.x=
J;this.y=M;this.z=Q;this.w=S;this.tT=0<J?1:0;this.uT=0<M?1:0;this.vT=0<Q?1:0}}f.H.a2=class{constructor(){this.SQ=new I;this.OR=new I;this.sR=new I;this.wP=new I;this.HG=new I;this.SP=new I}kU(J,M){f.H.gj(0,1,0,J,M,G,p);f.H.gj(1,1,0,J,M,G,r);f.H.gj(0,0,0,J,M,G,u);f.H.gj(1,0,0,J,M,G,q);f.H.gj(0,1,1,J,M,G,v);f.H.gj(1,1,1,J,M,G,w);f.H.gj(0,0,1,J,M,G,y);f.H.gj(1,0,1,J,M,G,A);z(u,p,v,this.SQ);z(p,r,w,this.OR);z(r,q,A,this.sR);z(q,u,y,this.wP);z(y,v,w,this.SP);z(q,r,p,this.HG)}EU(J,M,Q,S,T,Z){return F(J,
M,Q,S,T,Z,this.SQ)&&F(J,M,Q,S,T,Z,this.OR)&&F(J,M,Q,S,T,Z,this.sR)&&F(J,M,Q,S,T,Z,this.wP)&&F(J,M,Q,S,T,Z,this.HG)&&F(J,M,Q,S,T,Z,this.SP)}$Y(J,M,Q){var S=this.HG;return!(S.x*J+S.y*M+S.z*Q>=S.w)}}}
{"use strict";const f=self.B,a=self.Ci,b=a.TA,e=a.qv,c=a.al,g=c.create(),n=b.bf(0,0,0),h=b.bf(0,0,0),l=b.bf(0,0,0),m=b.bf(0,1,0);e.bf(0,0,0,0);new f.jd;new f.Rect;const p=new f.jd(0,0,1,0,1,1,0,1);f.H.b0=class{constructor(){this.R=this.S=0;this.pq=f.tb(45);this.Du=Math.tan(this.pq/2);this.zz=c.create();this.AG=c.create();this.br=!1;this.Tn=[];this.Vz=new Map;this.jH=this.Zz=this.$z=null;this.Au=new Map;this.ci=null;this.TE=[];this.bR=new Map;this.wt=this.ht=0;this.l$=this.m$=1;this.vG=.5;this.Vg=
0;this.lq=!0;this.IF=!1}qW(r){let u=0,q=r.length,v=0;for(;u<q;)r[u++]=v,r[u++]=v+1,r[u++]=v+2,r[u++]=v,r[u++]=v+2,r[u++]=v+3,v+=4}cN(){this.wt=this.ht=0;this.jH=this.Zz=this.$z=null;this.O2()}Bw(){this.cN();this.ci=null}g_(){for(const r of this.Tn)r.m();this.cN()}pa(){return this.S}ma(){return this.R}hf(r){return this.RK()?100:r/(2*this.Du)}cD(r){this.pq=r;this.Du=Math.tan(this.pq/2)}v1(){this.br=!1}w1(){this.br=!0}RK(){return!this.br}Mm(r,u,q=.5,v=.5){var w=this.pq;.5===q&&.5===v?c.perspective(r,
w,u,1,1E4):(q=1-q,w=1*this.Du,u*=w,c.Baa(r,(2*q-2)*u,2*q*u,(2*v-2)*w,2*v*w,1,1E4))}jU(r,u,q){const v=self.devicePixelRatio,w=2*this.hf(q)*v*this.Du/q;u=u*w/(2*v);q=q*w/(2*v);c.gba(r,-u,u,-q,q,1,1E4)}dJ(r,u,q,v,w,y=1){let A=1;this.RK()&&(A=200*this.Du/w);b.set(l,A,-A,1);b.multiply(n,u,l);b.multiply(h,q,l);c.Xaa(r,n,h,v||m);l[2]=y;c.scale(r,r,l)}xr(r,u,q,v,w,y){b.set(n,r,u,q);b.set(h,v,w,0);this.dJ(g,n,h,m,y,void 0);return g}x2(r){this.Tn.push(r);this.Vz.set(r.wa(),r)}i7(r){const u=this.Tn.indexOf(r);
-1!==u&&this.Tn.splice(u,1);this.Vz.delete(r.wa())}O2(){f.C(this.Tn);this.Vz.clear()}oK(r){return this.Vz.get(r)||null}dj(){this.Hp(this.$z)}QL(){this.Hp(this.jH)}Z7(r){this.ci=r}yT(r,u,q,v){const w=f.H.sD.YK(r,u,q,v);let y=this.Au.get(w);y||(y=f.j(f.H.sD,this,r,u,q,v),this.Au.set(w,y));y.MT();return y}tL(r){r.YU();0===r.vc&&(this.ci===r&&(this.ci=null),this.Au.delete(r.gX()),r.m())}c5(r){f.C(this.TE);this.bR.clear();let u=0;for(const q of r){r=q[0];const v=q[1],w=q[2];this.TE.push([v,w]);this.bR.set(r,
{Jla:u,Lma:v,ika:w});u++}}B4(r){return this.TE[r]}Bp(r){this.ht=r}ts(r){this.wt=r;this.ci=null}Hw(r,u,q,v,w,y){var A=this.vG;r=r+A-y;u=u+A-w;q=q+A+y;v=v+A+w;A=2*y;const G=2*w;this.Lw(r+w,u-y,0,q+w,v-y,0,q-w-A,v+y-G,0,r-w+A,u+y+G,0,p)}Gw(r,u,q,v,w,y){const A=this.vG;r=r+A-y;u=u+A-w;q=q+A+y;v=v+A+w;this.Lw(r+w,u-y,0,q+w,v-y,0,q-w,v+y,0,r-w,u+y,0,p)}Fw(r,u,q,v,w,y){const A=this.vG;r+=A;u+=A;q+=A;v+=A;this.Lw(r+w,u-y,0,q+w,v-y,0,q-w,v+y,0,r-w,u+y,0,p)}BZ(r,u,q,v){const w=.5*this.m$,y=this.l$;2===y?this.y5(r,
u,q,v,w):1===y?this.x5(r,u,q,v,w):this.w5(r,u,q,v,w)}y5(r,u,q,v,w){this.Hw(r,u,q,u,0,w);this.Hw(q,u,q,v,w,0);this.Hw(q,v,r,v,0,-w);this.Hw(r,v,r,u,-w,0)}x5(r,u,q,v,w){this.Gw(r,u,q,u,0,w);this.Gw(q,u,q,v,w,0);this.Gw(q,v,r,v,0,-w);this.Gw(r,v,r,u,-w,0)}w5(r,u,q,v,w){this.Fw(r,u,q,u,0,w);this.Fw(q,u,q,v,w,0);this.Fw(q,v,r,v,0,-w);this.Fw(r,v,r,u,-w,0)}UK(r){this.BZ(r.O,r.L,r.X,r.U)}ep(){this.Ii();this.Vg++}rY(){this.Vg++}eD(r){this.lq=!!r}P0(r){this.IF=!!r}Ih(){return!1}}}"use strict";
self.B.H.z1=class{constructor(f,a,b){this.Ca=a;this.ea=f;this.PP=b.nka||0;this.QP=b.oka||0;this.DP=!!b.bka;this.r$=!!b.Fla;this.Gq=!!b.Yla;this.q9=!!b.Mja;this.UE=!!b.Qja;this.mA=!!b.ana;this.lA=!1}m(){this.ea=null}bb(){return this.ea}wa(){return this.Ca}up(){return this.r$}};
{"use strict";const f=self.B;f.H.sD=class{constructor(a,b,e,c,g){this.ea=a;this.vc=0;this.Ic=null;this.uu="";this.ig=e;this.Ya=f.j(f.Wa);this.Ya.set(c);this.Lc=g;"string"===typeof b?this.uu=b:(this.Ic=b,this.uu=this.Ic.wa())}m(){if(0<this.vc)throw Error("releasing state group still in use");this.Ic=this.ea=null;this.uu=""}ST(){const a=this.ea;a.Hp(this.Ic);a.Xf(this.ig);a.yl(this.Ya);a.ts(this.Lc);a.Z7(this)}gX(){return f.H.sD.YK(this.uu,this.ig,this.Ya,this.Lc)}MT(){++this.vc}YU(){--this.vc}ak(){this.Ic=
null}FC(a){this.Ic=a.oK(this.uu);if(!this.Ic)throw Error("failed to restore shader program");}static YK(a,b,e,c){return("string"===typeof a?a:a.wa())+","+b+","+e.Oa+","+e.Sa+","+e.Ra+","+e.Qa+","+c}}}
{"use strict";const f=self.B,a=f.j(f.jd);function b(e,c,g){const n=g.rb,h=g.sb;return[n+(g.$b-n)*e+(g.Tb-n)*c,h+(g.ac-h)*e+(g.Ub-h)*c]}f.H.QZ=class{constructor(e){this.EG=e;this.Cg=this.Ag=this.Lc=this.W=this.ba=0}fg(e,c,g,n){this.ba=e;this.W=c;this.Ag=g;this.Cg=n}Aa(){return this.ba}Qh(e){this.ba!==e&&(this.ba=e,this.EG.rE())}Ba(){return this.W}Rh(e){this.W!==e&&(this.W=e,this.EG.rE())}Xa(){return this.Lc}Ie(e){this.Lc!==e&&(this.Lc=Math.max(e,0),this.EG.rE())}kD(e){this.Ag=e}lD(e){this.Cg=e}q5(e,
c,g){[this.ba,this.W]=b(e.ba,e.W,c);this.Lc=e.Lc;this.Ag=f.Kd(g.O,g.X,e.Ag);this.Cg=f.Kd(g.L,g.U,e.Cg)}p5(e,c,g){[this.ba,this.W]=b(e.ba,e.W,c);this.Lc=e.Lc;[this.Ag,this.Cg]=b(e.Ag,e.Cg,g)}Nd(){return{x:this.Aa(),y:this.Ba(),z:this.Xa(),u:this.Ag,v:this.Cg}}td(e){this.Qh(e.x);this.Rh(e.y);e.hasOwnProperty("z")&&this.Ie(e.z);this.kD(e.u);this.lD(e.v)}};f.H.$K=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.pj=e;this.Bj=c;this.ic=g||null;this.fm=[];this.$Q=this.ZQ=0;this.WQ=
this.VQ=1;this.XQ=0;this.TG=!1;g=e-1;const n=c-1;for(let h=0;h<c;++h){const l=[];for(let m=0;m<e;++m){const p=f.j(f.H.QZ,this,m,h),r=m/g,u=h/n;p.fg(r,u,r,u);l.push(p)}this.fm.push(l)}}m(){f.C(this.fm)}rE(){this.TG=!0}Ps(){if(this.TG){var e=Infinity,c=Infinity,g=-Infinity,n=-Infinity,h=0;for(const l of this.fm)for(const m of l){const p=m.Aa(),r=m.Ba();e=Math.min(e,p);c=Math.min(c,r);g=Math.max(g,p);n=Math.max(n,r);h=Math.max(h,m.Xa())}this.ZQ=e;this.$Q=c;this.VQ=g;this.WQ=n;this.XQ=h;this.TG=!1}}sX(){this.Ps();
return this.ZQ}tX(){this.Ps();return this.$Q}pX(){this.Ps();return this.VQ}qX(){this.Ps();return this.WQ}rX(){this.Ps();return this.XQ}ip(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.pj||0>c||c>=this.Bj?null:this.fm[c][e]}lU(e,c,g){const n=g instanceof f.Rect;if(e.pj!==this.pj||e.Bj!==this.Bj)throw Error("source mesh wrong size");e=e.fm;const h=this.fm;for(let l=0,m=h.length;l<m;++l){const p=e[l],r=h[l];for(let u=0,q=r.length;u<q;++u){const v=p[u],w=r[u];n?w.q5(v,c,g):w.p5(v,c,g)}}}Hi(e){const c=
this.fm;let g=c[0];for(let n=1,h=c.length;n<h;++n){const l=c[n];let m=g[0],p=l[0];for(let r=1,u=l.length;r<u;++r){const q=g[r],v=l[r];a.set(m.Ag,m.Cg,q.Ag,q.Cg,v.Ag,v.Cg,p.Ag,p.Cg);e.Lw(m.Aa(),m.Ba(),m.Xa(),q.Aa(),q.Ba(),q.Xa(),v.Aa(),v.Ba(),v.Xa(),p.Aa(),p.Ba(),p.Xa(),a);m=q;p=v}g=l}}UY(e){e=e.Vd;const c=[],g=this.pj-1,n=this.Bj-1,h=1/g,l=1/n,m=g-1,p=n-1;let r=e[0],u=e[1],q=f.ja(Math.floor(r*g),0,m),v=f.ja(Math.floor(u*n),0,p),w=0,y=0,A=0;var G=-1;const z=()=>{r=f.ja(f.Kd(r,w,A),0,1);u=f.ja(f.Kd(u,
y,A),0,1);c.push(r,u)};for(let F=0,I=e.length;F<I;F+=2)for(r=e[F],u=e[F+1],c.push(r,u),q=f.ja(Math.floor(r*g),0,m),v=f.ja(Math.floor(u*n),0,p),G=(F+2)%I,w=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=q*h,M=v*l,Q=(q+1)*h,S=(v+1)*l;if(0!==G&&(A=f.mv(r,u,w,y,J,M,Q,S,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<v&&2!==G&&(A=f.mv(r,u,w,y,J,M,Q,M,.001),0<=A&&.99999999>=A)){z();v--;G=4;continue}if(q<m&&3!==G&&(A=f.mv(r,u,w,y,Q,M,Q,S,.001),0<=A&&.99999999>=A)){z();
q++;G=1;continue}if(0<q&&1!==G&&(A=f.mv(r,u,w,y,J,M,J,S,.001),0<=A&&.99999999>=A)){z();q--;G=3;continue}if(v<p&&4!==G&&(A=f.mv(r,u,w,y,J,S,Q,S,.001),0<=A&&.99999999>=A)){z();v++;G=2;continue}break}return f.j(f.Qm,c)}N1(e,c){e=this.P8(e);this.H8(e);c.NA(e)}P8(e){const c=[];e=e.Vd;for(let g=0,n=e.length;g<n;g+=2){const [h,l]=this.O1(e[g],e[g+1]);c.push(h,l)}return c}O1(e,c){var g=this.pj-1,n=this.Bj-1;const h=1/g,l=1/n;g=f.ja(Math.floor(e*g),0,g-1);const m=f.ja(Math.floor(c*n),0,n-1);n=g*h;const p=
m*l,r=(g+1)*h,u=(m+1)*l,q=this.ip(g,m),v=this.ip(g+1,m+1),w=f.Paa(e,c,n,p,r,p,r,u);g=this.ip(g+(w?1:0),m+(w?0:1));const [y,A,G]=f.Iba(e,c,n,p,w?n+h:n,w?p:p+l,r,u);return f.Hba(y,A,G,q.Aa(),q.Ba(),g.Aa(),g.Ba(),v.Aa(),v.Ba())}H8(e){const c=[];let g=e[0],n=e[1],h=g-e.Jd(-2),l=n-e.Jd(-1);for(let p=0,r=e.length;p<r;p+=2){var m=(p+2)%r;const u=e[m];m=e[m+1];const q=u-g,v=m-n,w=1E-7>Math.abs(v)&&1E-7>Math.abs(l)&&Math.sign(q)===Math.sign(h);(!(1E-7>Math.abs(q)&&1E-7>Math.abs(h)&&Math.sign(v)===Math.sign(l)||
w)&&1E-7<Math.abs(q/h-v/l)||0==q&&0===v)&&c.push(g,n);g=u;n=m;h=q;l=v}6<=c.length&&c.length<e.length&&f.xc(e,c)}Nd(){return{cols:this.pj,rows:this.Bj,points:this.fm.map(e=>e.map(c=>c.Nd()))}}td(e){const c=this.pj,g=this.Bj;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let n=0;n<g;++n){const h=e[n];for(let l=0;l<c;++l)this.ip(l,n).td(h[l])}}}}
{"use strict";const f=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(m,p){let r,u;switch(m){case "rgba8":m=p.RGBA8;u=r=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":m=p.RGB8;u=r=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":m=p.RGBA4;u=r=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=p.RGB5_A1;u=r=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=p.RGB565;u=r=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{MI:m,gr:r,format:u,type:p}}const n={VA:"clamp-to-edge",WA:"clamp-to-edge",bl:"trilinear",gS:0,CI:"rgba8",IA:!0,jv:"default",premultiplyAlpha:!0,FS:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;f.H.jx=class{constructor(m){this.ea=m;this.jb=null;this.R=this.S=0;this.Zg=!0;this.ar=this.$q="clamp-to-edge";this.md="trilinear";this.KE=0;this.em="rgba8";this.Ck=!1;this.Ao=
"default";this.vc=0}g3(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");p=Object.assign({},n,p);if(this.jb)throw Error("already created texture");this.$q=p.VA;this.ar=p.WA;
this.md=p.bl;this.KE=p.gS;this.em=p.CI;this.Ck=!!p.IA&&this.ea.lq;this.Ao=p.jv;if(!c.has(this.$q)||!c.has(this.ar))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.em))throw Error("invalid pixel format");if(!e.has(this.Ao))throw Error("invalid mipmap quality");this.Zg=!0;if(m instanceof ArrayBuffer||null===m||p.FS){if(this.S=p.width,this.R=p.height,m instanceof ArrayBuffer&&m.byteLength!==this.S*this.R*4)throw Error("ArrayBuffer wrong size");}else this.S=
m.width,this.R=m.height;if(0>=this.S||0>=this.R)throw Error("invalid texture data size");if(p.FS){var r=f.Fg(this.S,this.R);r.getContext("2d").drawImage(m,0,0,this.S,this.R);m=r}var u=f.rh(this.S)&&f.rh(this.R);r=this.ea.Az;if(this.S>r||this.R>r)throw Error("texture data exceeds maximum texture size");r=this.ea.N;var q=this.ea.Kc;this.jb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.jb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.em,r);if(this.ea.Gn()||u||!this.WD())2<=q?(r.texStorage2D(r.TEXTURE_2D,this.Ck?Math.floor(Math.log2(Math.max(this.S,this.R))+1):1,p.MI,this.S,this.R),m instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.S,this.R,p.format,p.type,new Uint8Array(m)):null!==m&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,m)):m instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,p.gr,this.S,this.R,0,p.format,p.type,new Uint8Array(m)):null===m?r.texImage2D(r.TEXTURE_2D,0,p.gr,this.S,this.R,0,p.format,
p.type,null):r.texImage2D(r.TEXTURE_2D,0,p.gr,p.format,p.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.S,this.R));m instanceof ImageData&&(u=f.Fg(this.S,this.R),u.getContext("2d").putImageData(m,0,0),m=u);u=f.Fg(f.JA(this.S),f.JA(this.R));q=u.getContext("2d");q.imageSmoothingEnabled="nearest"!==this.md;q.drawImage(m,0,0,this.S,this.R,0,0,u.width,u.height);
r.texImage2D(r.TEXTURE_2D,0,p.gr,p.format,p.type,u)}null!==m&&this.$O(r);r.bindTexture(r.TEXTURE_2D,null);this.ea.hE();this.vc=1;l.add(this)}S2(m,p,r){r=Object.assign({},n,r);if(this.jb)throw Error("already created texture");this.$q=r.VA;this.ar=r.WA;this.md=r.bl;this.em=r.CI;this.Ck=!!r.IA&&this.ea.lq;this.Ao=r.jv;if(!c.has(this.$q)||!c.has(this.ar))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.em))throw Error("invalid pixel format");if(!e.has(this.Ao))throw Error("invalid mipmap quality");
this.Zg=!1;this.S=Math.floor(m);this.R=Math.floor(p);m=f.rh(this.S)&&f.rh(this.R);p=this.ea.Az;if(0>=this.S||0>=this.R)throw Error("invalid texture size");if(this.S>p||this.R>p)throw Error("texture exceeds maximum texture size");if(!this.ea.Gn()&&this.WD()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.ea.N;p=this.ea.Kc;this.jb=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.jb);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);r=g(this.em,m);m.texImage2D(m.TEXTURE_2D,0,2<=p?r.MI:r.gr,this.S,this.R,0,r.format,r.type,null);this.$O(m);m.bindTexture(m.TEXTURE_2D,null);this.ea.hE();this.vc=1;l.add(this)}SD(m){if("default"===this.Ao)return this.Zg?m.NICEST:m.FASTEST;if("low"===this.Ao)return m.FASTEST;if("high"===this.Ao)return m.NICEST;throw Error("invalid mipmap quality");}WD(){return"clamp-to-edge"!==this.$q||"clamp-to-edge"!==this.ar}SN(m,p){if("clamp-to-edge"===p)return m.CLAMP_TO_EDGE;if("repeat"===p)return m.REPEAT;
if("mirror-repeat"===p)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}$O(m){var p=f.rh(this.S)&&f.rh(this.R);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.SN(m,this.$q));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.SN(m,this.ar));"nearest"===this.md?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.Ck=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(p||this.ea.Gn())&&this.Ck?(m.hint(m.GENERATE_MIPMAP_HINT,
this.SD(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.md||this.ea.IF?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.Ck=!1));(p=this.ea.dt)&&0<this.KE&&"nearest"!==this.md&&m.texParameterf(m.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.KE,this.ea.CG))}jP(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.jb||0>=this.vc)throw Error("texture not created");if(this.Zg)throw Error("cannot update static texture");p=Object.assign({},h,p);const r=m.width||m.videoWidth,u=m.height||m.videoHeight;var q=this.ea.Kc;
const v=this.ea.N;v.bindTexture(v.TEXTURE_2D,this.jb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.em,v);q=2<=q?p.MI:p.gr;try{if(this.S===r&&this.R===u){const w=f.rh(this.S)&&f.rh(this.R);v.texSubImage2D(v.TEXTURE_2D,0,0,0,p.format,p.type,m);(w||this.ea.Gn())&&this.Ck&&(v.hint(v.GENERATE_MIPMAP_HINT,this.SD(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.S=r;this.R=u;const w=f.rh(this.S)&&f.rh(this.R);if(!this.ea.Gn()&&this.WD()&&
!w)throw Error("non-power-of-two tiled textures not supported");v.texImage2D(v.TEXTURE_2D,0,q,p.format,p.type,m);(w||this.ea.Gn())&&this.Ck&&(v.hint(v.GENERATE_MIPMAP_HINT,this.SD(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}v.bindTexture(v.TEXTURE_2D,null);this.ea.hE()}MD(){if(0<this.vc)throw Error("texture still has references");if(!this.jb)throw Error("already deleted texture");l.delete(this);this.ea.N.deleteTexture(this.jb);this.jb=null}bb(){return this.ea}I1(){if(0>=
this.vc)throw Error("no more references");this.vc--}pa(){return this.S}ma(){return this.R}KB(){let m=this.S*this.R;switch(this.em){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.Ck&&(m+=Math.floor(m/3));return m}static ak(){l.clear()}static U$(){return l.values()}}}
{"use strict";const f=self.Ci.al,a=new Set(["nearest","bilinear","trilinear"]),b={bl:"trilinear",alpha:!0,depth:!1,rI:!0,BS:!0,aba:0},e=new Set;self.B.H.NM=class{constructor(c){this.ea=c;this.yj=this.jb=this.jo=this.og=null;this.R=this.S=0;this.Xy=!0;this.md="trilinear";this.Vp=!0;this.Dc=!1;this.Vt=!0;this.Ik=0;this.wj=f.create();this.LQ=0}R2(c,g,n){n=Object.assign({},b,n);const h=this.ea.Kc;if(this.jb||this.yj)throw Error("already created render target");this.md=n.bl;this.Vp=!!n.alpha;this.Dc=!!n.depth;
this.Vt=!!n.rI;this.Xy=!!n.BS;this.Ik=n.aba;if(!a.has(this.md))throw Error("invalid sampling");if(0<this.Ik&&(2>h||this.Vt))throw Error("invalid use of multisampling");2>h&&(this.Vt=!0);this.S=c;this.R=g;if(0>=this.S||0>=this.R)throw Error("invalid render target size");this.AD();c=this.ea.N;this.og=c.createFramebuffer();this.Dc&&(this.jo=c.createFramebuffer());this.Vt?(this.jb=this.ea.tJ(this.S,this.R,{bl:this.md,CI:this.Vp?"rgba8":"rgb8",IA:!1}),g=this.jb.jb,c.bindFramebuffer(c.FRAMEBUFFER,this.og),
c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Dc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.yj=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.yj),g=this.Vp?c.RGBA8:c.RGB8,0<this.Ik&&((n=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&n[0]?(n=n[0],this.Ik>n&&(this.Ik=n)):this.Ik=0),0===this.Ik?c.renderbufferStorage(c.RENDERBUFFER,g,this.S,this.R):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Ik,g,this.S,this.R),c.bindFramebuffer(c.FRAMEBUFFER,this.og),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.yj),this.Dc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.yj)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.ea.mg;this.Dc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.og),this.ea.nt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}HO(c,g){if(this.S!==c||this.R!==g)this.S=c,this.R=g,this.AD(),c=this.ea.N,c.bindFramebuffer(c.FRAMEBUFFER,this.og),this.jb?this.jb.jP(new ImageData(this.S,this.R)):(c.bindRenderbuffer(c.RENDERBUFFER,this.yj),c.renderbufferStorage(c.RENDERBUFFER,this.Vp?c.RGBA8:c.RGB8,this.S,this.R),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.ea.mg,this.Dc&&g&&(this.ea.nt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}MD(){if(!this.jb&&!this.yj)throw Error("already deleted render target");e.delete(this);var c=this.ea.N;this.jb?(c.bindFramebuffer(c.FRAMEBUFFER,this.og),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Dc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ea.Gi(this.jb),this.jb=null):this.yj&&(c.bindFramebuffer(c.FRAMEBUFFER,this.og),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Dc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.jo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.yj),this.yj=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ea.Kc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.og);
this.Dc&&c.deleteFramebuffer(this.jo);c=this.ea.lc;c.Yk=null;this.og=c.Ai=null}AD(){this.ea.Mm(this.wj,this.S/this.R);this.LQ=this.ea.pq}bb(){return this.ea}nf(){return this.jb}yX(){this.ea.pq!==this.LQ&&this.AD();return this.wj}sC(){return"nearest"!==this.md}pa(){return this.S}ma(){return this.R}cZ(c){c=Object.assign({},b,c);return"nearest"!==c.bl!==this.sC()||!!c.alpha!==this.Vp||!!c.depth!==this.Dc||2<=this.ea.Kc&&!!c.rI!==this.Vt?!1:"number"===typeof c.width||"number"===typeof c.height?!this.Xy&&
this.pa()===c.width&&this.ma()===c.height:this.Xy}KB(){return this.jb?this.jb.KB():this.S*this.R*(this.Vp?4:3)}static ak(){e.clear()}}}
{"use strict";const f=self.B;f.H.Fs=class extends f.H.z1{static async BU(a,b,e,c){const g=a.N,n=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(n,b);g.compileShader(n);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,e);g.compileShader(b);const h=g.createProgram();g.attachShader(h,n);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.QG;l?await a.g9(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await f.IM(5);if(!g.getShaderParameter(n,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(n),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=f.rW(g.getProgramInfoLog(h)||"").trim())&&!f.wC(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(n);g.deleteShader(b);return h}static async Ja(a,b,e,c){e=await f.H.Fs.BU(a,b.src,e,c);return new f.H.Fs(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const g=a.N;var n=a.lc;a.Ii();g.useProgram(b);this.N=g;this.Ic=b;this.Yy="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.yG=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.pA),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.eA),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.yG&&(g.bindBuffer(g.ARRAY_BUFFER,a.Iz),g.vertexAttribPointer(this.yG,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.yG));g.bindBuffer(g.ARRAY_BUFFER,null);this.zH=new f.H.Sb(this,"matP","mat4");this.yH=new f.H.Sb(this,"matMV","mat4");this.So=new f.H.Sb(this,"color",
"vec4");this.P$=new f.H.Sb(this,"samplerFront","sampler");this.CH=new f.H.Sb(this,"pointTexStart","vec2");this.BH=new f.H.Sb(this,"pointTexEnd","vec2");this.FH=new f.H.Sb(this,"zElevation","float");this.DH=new f.H.Sb(this,"tileSize","vec2");this.EH=new f.H.Sb(this,"tileSpacing","vec2");this.xH=new f.H.Sb(this,"color2_","vec4");this.AH=new f.H.Sb(this,"outlineThickness","float");this.Zq=new f.H.Sb(this,"samplerBack","sampler");this.O$=new f.H.Sb(this,"samplerDepth","sampler");this.pm=new f.H.Sb(this,
"destStart","vec2");this.om=new f.H.Sb(this,"destEnd","vec2");this.wi=new f.H.Sb(this,"srcStart","vec2");this.Tk=new f.H.Sb(this,"srcEnd","vec2");this.Vk=new f.H.Sb(this,"srcOriginStart","vec2");this.Uk=new f.H.Sb(this,"srcOriginEnd","vec2");this.Bg=new f.H.Sb(this,"pixelSize","vec2");this.wm=new f.H.Sb(this,"seconds","float");this.qm=new f.H.Sb(this,"devicePixelRatio","float");this.tm=new f.H.Sb(this,"layerScale","float");this.rm=new f.H.Sb(this,"layerAngle","float");this.vm=new f.H.Sb(this,"layoutStart",
"vec2");this.um=new f.H.Sb(this,"layoutEnd","vec2");this.fQ=!!(this.Bg.P||this.wm.P||this.Zq.P||this.pm.P||this.om.P||this.wi.P||this.Tk.P||this.Vk.P||this.Uk.P||this.qm.P||this.tm.P||this.rm.P||this.vm.P||this.um.P);a=e.parameters||[];this.To=[];this.lA=this.Bg.P||this.wi.P||this.Tk.P||this.Vk.P||this.Uk.P;this.FF=this.GF=!1;this.So.CK();this.xH.CK();this.P$.hC(0);this.Zq.hC(1);this.O$.hC(2);this.CH.Tf(0,0);this.BH.Tf(1,1);this.FH.ln(0);this.DH.Tf(0,0);this.EH.Tf(0,0);this.pm.Tf(0,0);this.om.Tf(1,
1);this.wi.Tf(0,0);this.Tk.Tf(0,0);this.Vk.Tf(0,0);this.Uk.Tf(0,0);this.Bg.Tf(0,0);this.qm.ln(1);this.tm.ln(1);this.rm.ln(0);this.wm.ln(0);this.vm.Tf(0,0);this.um.Tf(0,0);this.AH.ln(1);for(const l of a)a=l[2],b=new f.H.Sb(this,l[0],a),"color"===a?b.sY():b.ln(0),this.To.push(b);this.Yy?this.nP(n.Vu):(this.gx(n.Vu,!0),this.dx(n.vA,!0));n=n.ph;g.useProgram(n?n.Ic:null)}m(){this.N.deleteProgram(this.Ic);this.Ic=null;this.ea.i7(this);this.N=null;super.m()}mf(){return this.Ic}iw(a){return this.To[a].Ti()}TT(a){for(let b=
0,e=a.length;b<e;++b)if(!this.To[b].qZ(a[b]))return!1;return!0}E0(a){for(let b=0,e=a.length;b<e;++b)this.To[b].z0(a[b])}UT(a,b,e,c,g,n,h,l,m,p){return this.Zq.P||this.Bg.P&&!this.Bg.$j(g,n)||this.pm.P&&!this.pm.$j(a.O,a.L)||this.om.P&&!this.om.$j(a.X,a.U)||this.qm.P&&!this.qm.Ew(h)||this.tm.P&&!this.tm.Ew(l)||this.rm.P&&!this.rm.Ew(m)||this.wi.P&&!this.wi.$j(b.O,b.L)||this.Tk.P&&!this.Tk.$j(b.X,b.U)||this.Vk.P&&!this.Vk.$j(e.O,e.L)||this.Uk.P&&!this.Uk.$j(e.X,e.U)||this.vm.P&&!this.vm.$j(c.O,c.L)||
this.um.P&&!this.um.$j(c.L,c.U)||this.wm.P&&!this.wm.Ew(p)?!1:!0}Y0(a,b,e,c,g,n,h,l,m,p){this.Zq.P||(this.Bg.P&&this.Bg.dk(g,n),this.pm.P&&this.pm.dk(a.O,a.L),this.om.P&&this.om.dk(a.X,a.U),this.qm.P&&this.qm.Uw(h),this.tm.P&&this.tm.Uw(l),this.rm.P&&this.rm.Uw(m),this.wi.P&&this.wi.dk(b.O,b.L),this.Tk.P&&this.Tk.dk(b.X,b.U),this.Vk.P&&this.Vk.dk(e.O,e.L),this.Uk.P&&this.Uk.dk(e.X,e.U),this.vm.P&&this.vm.dk(c.O,c.L),this.um.P&&this.um.dk(c.L,c.U),this.wm.P&&this.wm.Uw(p))}gx(a,b){this.GF&&!b||this.Yy||
(this.zH.P&&this.zH.hx(a),this.GF=!0)}W0(){this.GF=!1}dx(a,b){this.FF&&!b||this.Yy||(this.yH.P&&this.yH.hx(a),this.FF=!0)}V0(){this.FF=!1}nP(a){if(!this.Yy)throw Error("not device transform shader");this.zH.hx(a);a=this.ea;const b=a.pa()/2,e=a.ma()/2;a=a.xr(b,e,a.hf(a.ma()),b,e,a.ma());this.yH.hx(a)}V1(a){this.So.P&&this.So.cx(a[0],a[1],a[2],a[3])}static Yv(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const f=self.B,a=self.Ci.al,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);f.H.Sb=class{constructor(e,c,g){if(!b.has(g))throw Error("invalid uniform type");this.ic=e;this.N=this.ic.N;this.Ca=c;this.oa=g;this.YF="color"===this.oa;this.bh=this.N.getUniformLocation(this.ic.mf(),c);this.P=!!this.bh;e=b.get(g);this.Ab=new Float32Array(e);this.ni=new Float32Array(e)}m(){this.bh=this.N=this.ic=null}Ti(){return this.oa}ln(e){this.P&&
(this.Ab[0]=e,this.ni.set(this.Ab),this.N.uniform1f(this.bh,e))}hC(e){this.P&&(this.Ab[0]=e,this.ni.set(this.Ab),this.N.uniform1i(this.bh,e))}Tf(e,c){this.P&&(this.Ab[0]=e,this.Ab[1]=c,this.ni.set(this.Ab),this.N.uniform2f(this.bh,e,c))}sY(){this.P&&(this.Ab[0]=0,this.Ab[1]=0,this.Ab[2]=0,this.ni.set(this.Ab),this.N.uniform3f(this.bh,0,0,0))}CK(){this.P&&(this.Ab[0]=1,this.Ab[1]=1,this.Ab[2]=1,this.Ab[3]=1,this.ni.set(this.Ab),this.N.uniform4f(this.bh,1,1,1,1))}Jn(e){e=Math.fround(e);const c=this.Ab;
c[0]!==e&&(c[0]=e,this.N.uniform1f(this.bh,e))}le(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Ab;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.N.uniform2f(this.bh,e,c)}T1(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const n=this.Ab;if(n[0]!==e||n[1]!==c||n[2]!==g)n[0]=e,n[1]=c,n[2]=g,this.N.uniform3f(this.bh,e,c,g)}cx(e,c,g,n){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);n=Math.fround(n);const h=this.Ab;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==n)h[0]=e,h[1]=c,h[2]=g,h[3]=n,this.N.uniform4f(this.bh,
e,c,g,n)}hx(e){const c=this.Ab;a.Bi(c,e)||(f.Jba(c,e),this.N.uniformMatrix4fv(this.bh,!1,e))}qZ(e){const c=this.ni;return this.YF?c[0]===Math.fround(e.Oa)&&c[1]===Math.fround(e.Sa)&&c[2]===Math.fround(e.Ra):c[0]===Math.fround(e)}z0(e){const c=this.ni;this.YF?(c[0]=e.Oa,c[1]=e.Sa,c[2]=e.Ra):c[0]=e}Ew(e){return this.ni[0]===Math.fround(e)}$j(e,c){const g=this.ni;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}Uw(e){this.ni[0]=e}dk(e,c){const g=this.ni;g[0]=e;g[1]=c}}}
{"use strict";const f=self.B,a=self.Ci,b=a.qv,e=a.al;f.H.$T=class{constructor(c){this.Gm=c;this.vA=e.create();this.Vu=e.create();this.Ai=this.Yk=null;this.CS=!1;this.uA=b.bf(1,1,1,1);this.ph=null;this.DI=new f.Rect;this.clearColor=f.j(f.Wa,0,0,0,0)}};f.H.f2=class{constructor(c){const g=new ArrayBuffer(96);this.oa=0;this.lc=c;this.N=c.Gm.N;this.Ak=this.Xe=0;this.ue=null;this.Td=new Float32Array(g,0,16);this.Yn=new Float32Array(g,64,4);this.GR=new Float32Array(g,80,4);this.Tz=[]}GY(c){this.oa=1;this.Xe=
c;this.Ak=6}kV(){const c=this.N;c.drawElements(c.TRIANGLES,this.Ak,c.UNSIGNED_SHORT,this.Xe)}PY(c){this.oa=2;this.ue=c}yV(){const c=this.N,g=this.ue;c.bindTexture(c.TEXTURE_2D,g?g.jb:null)}iC(c){this.oa=3;c.uh(this.Yn,0)}mV(){const c=this.Yn,g=this.lc;b.ia(g.uA,c);g.ph.V1(c)}qV(){const c=this.Yn,g=this.lc.ph;g.xH.P&&g.xH.cx(c[0],c[1],c[2],c[3])}HY(c,g){this.oa=4;this.Xe=c;this.Ak=g}lV(){this.N.blendFunc(this.Xe,this.Ak)}QY(c,g){this.oa=5;const n=this.Yn;n[0]=0;n[1]=0;n[2]=c;n[3]=g}AV(){const c=this.Yn;
this.N.viewport(c[0],c[1],c[2],c[3])}NY(c){this.oa=6;e.ia(this.Td,c)}vV(){const c=this.lc,g=c.Gm.Tn,n=c.ph,h=this.Td;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.gx(h,!0):p.W0()}e.ia(c.Vu,h)}KY(c){this.oa=7;e.ia(this.Td,c)}rV(){const c=this.lc,g=c.Gm.Tn,n=c.ph,h=this.Td;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.dx(h,!0):p.V0()}e.ia(c.vA,h)}OY(c){this.oa=8;this.ue=c}wV(){const c=this.N,g=this.ue,n=this.lc;g?(n.Yk=g.og,n.Ai=g.jo,n.CS&&n.Ai?c.bindFramebuffer(c.FRAMEBUFFER,n.Ai):c.bindFramebuffer(c.FRAMEBUFFER,
n.Yk)):(n.Yk=null,n.Ai=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}wY(c){this.oa=9;c.uh(this.Td,0)}xY(){this.oa=9;const c=this.Td;c[0]=0;c[1]=0;c[2]=0;c[3]=0}dV(){const c=this.N;var g=this.Td;const n=this.lc.clearColor,h=g[0],l=g[1],m=g[2];g=g[3];n.xA(h,l,m,g)||(c.clearColor(h,l,m,g),n.Hm(h,l,m,g));c.clear(c.COLOR_BUFFER_BIT)}sV(){const c=this.Td;this.lc.DI.set(c[0],c[1],c[2],c[3])}jV(){const c=this.N,g=this.lc,n=g.Gm.Zz;c.useProgram(n.Ic);n.gx(g.Vu,!1);n.dx(g.vA,!1);var h=g.DI;n.CH.P&&n.CH.le(h.O,
h.L);n.BH.P&&n.BH.le(h.X,h.U);h=this.Td[0];n.FH.P&&n.FH.Jn(h);n.So.P&&(h=g.uA,n.So.cx(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.Xe/4,this.Ak);c.useProgram(g.ph.Ic)}LY(c){this.oa=11;this.ue=c}tV(){var c=this.N;const g=this.lc,n=this.ue;g.ph=n;c.useProgram(n.Ic);n.gx(g.Vu,!1);n.dx(g.vA,!1);n.So.P&&(c=g.uA,n.So.cx(c[0],c[1],c[2],c[3]))}MY(){this.oa=12}uV(){const c=this.lc.ph;c.fQ&&this.M3(c);c.To.length&&this.N3(c)}M3(c){const g=this.N,n=this.Td,h=this.Yn,l=this.GR;if(c.Zq.P){const m=this.lc.Gm,
p=this.ue;m.Xl!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.jb:null),m.Xl=p,g.activeTexture(g.TEXTURE0))}c.Bg.P&&c.Bg.le(n[0],n[1]);c.pm.P&&c.pm.le(n[2],n[3]);c.om.P&&c.om.le(n[4],n[5]);c.qm.P&&c.qm.Jn(this.Ak);c.tm.P&&c.tm.Jn(n[6]);c.rm.P&&c.rm.Jn(n[7]);c.wi.P&&c.wi.le(n[12],n[13]);c.Tk.P&&c.Tk.le(n[14],n[15]);c.Vk.P&&c.Vk.le(l[0],l[1]);c.Uk.P&&c.Uk.le(l[2],l[3]);c.vm.P&&c.vm.le(h[0],h[1]);c.um.P&&c.um.le(h[2],h[3]);c.wm.P&&c.wm.Jn(this.Xe)}N3(c){c=c.To;const g=this.Tz;for(let n=
0,h=c.length;n<h;++n){const l=c[n],m=g[n];l.YF?l.T1(m.Oa,m.Sa,m.Ra):l.Jn(m)}}CY(c){this.oa=13;this.ue=c}iV(){const c=this.N,g=this.ue,n=this.lc.Yk;g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,n)}tY(c,g){this.oa=16;var n=this.Td;const h=this.lc.Gm;n[0]=c.pa();n[1]=c.ma();n[2]=g?g.pa():h.pa();n[3]=g?g.ma():h.ma();n[4]=c.sC()?1:0;n[5]=!0;n=this.Tz;f.C(n);n.push(c.og);n.push(g?g.og:null)}bV(){var c=this.Td,
g=this.Tz;const n=this.N;var h=c[0],l=c[1],m=c[2];const p=c[3],r=0!==c[4];c=0!==c[5];const u=g[1];n.bindFramebuffer(n.READ_FRAMEBUFFER,g[0]);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,u);c?n.blitFramebuffer(0,0,h,l,0,0,m,p,n.COLOR_BUFFER_BIT,r?n.LINEAR:n.NEAREST):(g=Math.min(h,m),h=Math.min(l,p),m=Math.max(l-p,0),l=Math.max(p-l,0),n.blitFramebuffer(0,m,g,h+m,0,l,g,h+l,n.COLOR_BUFFER_BIT,n.NEAREST))}SY(c){this.oa=17;this.ue=c}BV(){this.ue.cB();this.ue=null}BY(c){this.oa=18;this.ue=c}hV(){this.ue.vB();this.ue=
null}pV(){const c=this.lc.ph,g=this.Td;c.Bg.P&&c.Bg.le(g[0],g[1]);c.AH.P&&c.AH.Jn(g[2])}zV(){const c=this.lc.ph,g=this.Td;c.wi.P&&c.wi.le(g[0],g[1]);c.Bg.P&&c.Bg.le(g[4],g[5]);c.DH.P&&c.DH.le(g[6],g[7]);c.EH.P&&c.EH.le(g[8],g[9])}vY(c){this.oa=21;this.Xe=c?1:0}cV(){const c=this.N,g=0!==this.Xe;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}IY(c){this.oa=22;this.Xe=c?1:0}nV(){const c=this.N;0===this.Xe?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}JY(c){this.oa=
23;this.Xe=c?1:0}oV(){const c=this.N,g=this.lc,n=g.Gm,h=0!==this.Xe;g.CS=h;c.activeTexture(c.TEXTURE2);h?(g.Ai&&c.bindFramebuffer(c.FRAMEBUFFER,g.Ai),c.bindTexture(c.TEXTURE_2D,n.mg)):(c.bindTexture(c.TEXTURE_2D,null),g.Ai&&c.bindFramebuffer(c.FRAMEBUFFER,g.Yk));c.activeTexture(c.TEXTURE0)}AY(){this.oa=24}gV(){const c=this.N;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}zY(){this.oa=25}fV(){const c=
this.N;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}yY(){this.oa=26}eV(){const c=this.N;c.disable(c.STENCIL_TEST)}DK(c,g,n,h,l){this.oa=27;this.Xe=c?1:0;c=this.Td;c[0]=g;c[1]=n;c[2]=h;c[3]=l}xV(){const c=this.N,g=this.Td;1===this.Xe?(c.enable(c.SCISSOR_TEST),c.scissor(g[0],g[1],g[2],g[3])):c.disable(c.SCISSOR_TEST)}ga(){switch(this.oa){case 1:this.kV();break;case 2:this.yV();break;case 3:this.mV();break;case 4:this.lV();break;case 5:this.AV();break;case 6:this.vV();
break;case 7:this.rV();break;case 8:this.wV();break;case 9:this.dV();break;case 10:this.jV();break;case 11:this.tV();break;case 12:this.uV();break;case 13:this.iV();break;case 14:this.sV();break;case 15:this.zV();break;case 16:this.bV();break;case 17:this.BV();break;case 18:this.hV();break;case 19:this.pV();break;case 20:this.qV();break;case 21:this.cV();break;case 22:this.nV();break;case 23:this.oV();break;case 24:this.gV();break;case 25:this.fV();break;case 26:this.eV();break;case 27:this.xV()}}}}
{"use strict";const f=self.B,a={timeout:60},b=new f.Wa(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),n=new Set;f.uW&&f.uW.addEventListener("fontload",p=>{p=p.font.wa();for(const r of n)(r.Xg||f.dr(r.Cy,p))&&r.jj()});function h(p,r,u,q,v,w){r?"Gecko"===f.yc.yv?p.strokeText(u,q,v,w):p.strokeText(u,q,v):"Gecko"===f.yc.yv?p.fillText(u,q,v,w):p.fillText(u,q,v)}let l=!1,m=!1;f.H.NC=class{constructor(p,r){r=Object.assign({},a,r);this.ea=
p;this.Cy="Arial";this.Dy=16;this.Ey=1;this.zo=0;this.Oe=this.Ne=!1;this.iy="black";this.Xg=!1;this.yI=null;this.HE=new Set;this.Le="left";this.xe="top";this.Vc="";this.kt=null;this.zm=f.j(f.yD);this.QH="word";this.jG=this.fA=!1;this.Pt=!0;this.ao=-1;this.R=this.S=this.hF=this.fq=this.jq=0;this.oh=1;this.bF=!1;this.iu=this.Hk=this.Gd=this.No=null;this.JQ=this.KQ=-1;this.pz=this.MQ=this.nG="";this.oG=this.pG=1;this.YQ=(u,q)=>this.rO(u,q);this.jb=null;this.Eu=this.Gu=0;this.se=new f.Rect;this.su=1;
this.JG=!1;this.uH=new f.nY(()=>{this.bk();this.ZO(8,8)},r.timeout);this.KA=null;this.Tu=!1;n.add(this)}m(){this.yI=null;this.HE.clear();this.YQ=this.iu=this.Hk=this.Gd=this.No=this.kt=null;this.uH.m();this.KA=null;this.bk();this.zm.bd();this.ea=this.zm=null;this.Tu=!0;n.delete(this)}Qn(){this.bF=!0}jj(){this.Qn();this.zm.bd();this.fA=!0}bM(){this.Pt=!1}Uf(){return this.Pt}y0(p){p=!!p;this.Xg!==p&&(p=(this.Xg=p)?"alphabetic":"top",this.Gd&&(this.Gd.textBaseline=p),this.Hk&&(this.Hk.textBaseline=p),
this.jj())}aD(p){p||(p="serif");this.Cy!==p&&(this.Cy=p,this.jj())}bD(p){.1>p&&(p=.1);this.Dy!==p&&(this.Dy=p,this.jj())}M0(p){this.Ey!==p&&(this.Ey=p,this.jj())}fM(p){this.zo!==p&&(this.zo=p,this.Qn())}PL(p){p=!!p;this.Ne!==p&&(this.Ne=p,this.jj())}dM(p){p=!!p;this.Oe!==p&&(this.Oe=p,this.jj())}$C(p){p=Math.floor(p);this.ao!==p&&(this.ao=p,this.Qn())}Uh(p,r){for(let u=p.length-1;0<=u;--u){const q=p[u];if(q.tag===r)return q}return null}Pp(p,r){return!!this.Uh(p,r)}FN(p,r){let u=[];(this.Ne||this.Pp(r,
"b"))&&u.push("bold");(this.Oe||this.Pp(r,"i"))&&u.push("italic");var q=this.Uh(r,"size");q=(q?parseFloat(q.th):this.Dy)*this.Ey;p?u.push(q+"pt"):u.push(q*this.su*this.oh*self.devicePixelRatio+"pt");p=this.Cy;(r=this.Uh(r,"font"))&&r.th&&(p=r.th,this.yI&&!this.HE.has(p)&&(this.yI(p),this.HE.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}yl(p){p instanceof f.Wa&&(p=p.Caa());this.iy!==p&&(this.iy=p,this.Qn())}RL(p,r,u){b.pr(p,r,u);this.yl(b)}$L(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.Le!==p&&(this.Le=p,this.Qn())}tM(p){if(!c.has(p))throw Error("invalid vertical alignment");this.xe!==p&&(this.xe=p,this.Qn())}u1(p){if(!g.has(p))throw Error("invalid word wrap mode");this.QH!==p&&(this.QH=p,this.jj())}Bs(p){this.Vc!==p&&(this.Vc=p,this.jj())}wd(p,r,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.fq===p&&this.hF===r&&this.oh===u)){1===this.oh!==(1===u)&&(this.JG=!0);var q=this.fq,v=this.oh;this.fq=p;this.hF=r;this.oh=u;p=self.devicePixelRatio;this.S=this.fq*this.oh*p;this.R=
this.hF*this.oh*p;p=Math.max(this.S,this.R);r=Math.min(this.ea.Az,4096);u=1;p>r&&(u=r/p,this.S=Math.min(this.S*u,r),this.R=Math.min(this.R*u,r));this.su=u;0<this.Gu&&0<this.Eu&&this.oh===v&&this.se.set(0,0,this.S/this.Gu,this.R/this.Eu);this.fq!==q?this.jj():this.Qn()}}pa(){return this.S}ma(){return this.R}FX(){this.dE();return this.zm.nX()}EX(){this.dE();return this.zm.IX()+this.zm.Yl.length*(this.zo+4)-this.zo}nf(){this.uH.Sc();this.a6();return this.jb}a6(){this.jb&&!this.bF&&!this.fA||this.jG||
0>=this.S||0>=this.R||(this.bF=!1,this.jG=!0,this.Pt?f.Km(()=>this.pN()):this.pN())}pN(){this.Tu||(this.ZO(Math.ceil(this.S),Math.ceil(this.R)),this.dE(),this.e4(),this.b9(),this.uH.Sc(),this.jG=!1)}ZO(p,r){this.No||(this.No=f.Fg(16,16));let u=!1;if(this.KQ!==p||this.JQ!==r)this.KQ=p,this.JQ=r,this.No.width=p,this.No.height=r,u=!0;this.Gd||(this.Gd=this.No.getContext("2d"),u=!0);u?(this.Gd.textBaseline=this.Xg?"alphabetic":"top",this.Gd.font=this.nG,this.Gd.fillStyle=this.pz,this.Gd.strokeStyle=this.pz,
this.Gd.globalAlpha=this.pG,this.Gd.lineWidth=this.oG):this.Gd.clearRect(0,0,p,r)}jO(){this.Hk||(this.Hk=f.Fg(16,16).getContext("2d"),this.iu=f.Fg(16,16).getContext("2d"),this.Hk.textBaseline=this.Xg?"alphabetic":"top",this.iu.textBaseline="top")}s8(p){this.MQ!==p&&(this.MQ=p,this.Hk.font=p,this.iu.font=p)}gP(){if(!l){l=!0;this.jO();const p=this.Hk.measureText("test");m="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return m}dE(){this.fA&&(this.jO(),!this.Xg||
this.kt&&this.kt.toString()===this.Vc||(this.kt=new f.hl(this.Vc,{cba:!0})),this.zm.yD(this.Xg?this.kt.Dba():this.Vc,this.YQ,this.fq,this.QH,0),this.fA=!1)}rO(p,r){this.s8(this.FN(!0,r));r=this.Uh(r,"size");r=(r?parseFloat(r.th):this.Dy)*this.Ey;const u=this.Hk.measureText(p);let q=0;this.Xg&&this.gP()&&(q=u.fontBoundingBoxAscent-this.iu.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*r,Mf:u.fontBoundingBoxAscent||0,af:u.fontBoundingBoxDescent||0,df:q}}c8(p){this.nG!==p&&(this.nG=
p,this.Gd.font=p)}Gx(p){this.pz!==p&&(this.pz=p,this.Gd.fillStyle=p,this.Gd.strokeStyle=p)}b8(p){this.pG!==p&&(this.pG=p,this.Gd.globalAlpha=p)}UO(p){this.oG!==p&&(this.oG=p,this.Gd.lineWidth=p)}e4(){this.jq=0;const p=this.su*this.oh*self.devicePixelRatio,r=(4+this.zo)*p;var u=0;const q=this.zm.Yl;if(0!==q.length){var v=this.Xg&&this.gP(),w=q[0].height*p;"center"===this.xe?(u=q.reduce((y,A)=>y+A.height*p+r,0)-r,u=Math.max(this.R/2-u/2,0),v&&(w=q[0].df*p)):"bottom"===this.xe&&(u=q.reduce((y,A)=>y+
A.height*p+r,0)-this.zo*p,u=this.R-u-(v?q.Jd(-1).af*p:0)-2);for(let y=0,A=q.length;y<A;++y){v=q[y];const G=v.height*p,z=u;if(this.Xg){if(u+=0===y?w:G,0<y&&u>this.R-4*p)break}else if(0<y&&u>=this.R-G)break;0<=z&&this.d4(v,u,p);this.Xg||(u+=G);u+=r}}}d4(p,r,u){let q=0;"center"===this.Le?q=(this.S-p.width*u)/2:"right"===this.Le&&(q=this.S-p.width*u);for(const v of p.vS)this.c4(v,q,r,u,p.height),q+=v.width*u}c4(p,r,u,q,v){const w=this.Gd;var y=v/16;v=p.width*q;const A=p.height*q,G=p.height/16;var z=(4+
this.zo)*q,F=p.Yc,I=p.text;if(-1!==this.ao){if(this.jq>=this.ao)return;this.jq+I.length>this.ao&&(I=I.substr(0,this.ao-this.jq),v=this.rO(I,F).width*q);this.jq+=I.length}var J=this.Uh(F,"background"),M=this.Pp(F,"u");p=this.Pp(F,"s");if((!f.wC(I)||J||M||p)&&!this.Pp(F,"hide")){var Q=this.Uh(F,"offsetx");r+=Q?parseFloat(Q.th)*q:0;Q=this.Uh(F,"offsety");u+=Q?parseFloat(Q.th)*q:0;J&&(this.Gx(J.th),w.fillRect(r,u-A,v,A+z));Q=this.Uh(F,"color");this.Gx(Q?Q.th:this.iy);z=this.Uh(F,"opacity");this.b8(z?
parseFloat(z.th)/100:1);z=(z=this.Uh(F,"linethickness"))?parseFloat(z.th):1;(J=this.Pp(F,"stroke"))&&this.UO(.5*G*z*this.su*this.oh*self.devicePixelRatio);this.c8(this.FN(!1,F));h(w,J,I,r,u,v);!J&&(this.UO(.5*G*z*this.su*this.oh*self.devicePixelRatio),F=this.Uh(F,"outline"))&&(this.Gx(F.th),h(w,!0,I,r,u,v));this.Gx(Q?Q.th:this.iy);M&&(F=r,I=u+q*y,M=v,y=q*y*z,J?w.strokeRect(F,I,M,y):w.fillRect(F,I,M,y));p&&(q*=G,w.fillRect(r,u-A/4+q/2-q*z/2,v,q*z))}}b9(){this.ea.nn()||(this.Gu=Math.ceil(this.S),this.Eu=
Math.ceil(this.R),this.se.set(0,0,this.S/this.Gu,this.R/this.Eu),this.JG&&(this.bk(),this.JG=!1),this.jb||(this.jb=this.ea.tJ(this.Gu,this.Eu,{IA:1===this.oh,jv:"high"})),this.ea.Y1(this.No,this.jb),this.KA&&this.KA())}bk(){this.jb&&(this.ea.nn()||this.ea.Gi(this.jb),this.jb=null)}static ak(){for(const p of n)p.bk()}}}
{"use strict";const f=self.B;class a{constructor(b){this.N=b.N;this.Kc=b.Kc;this.fd=b.fd;this.fh=null;this.Gt=this.zb=!1;this.Qz=0;this.fh=1===this.Kc?this.fd.createQueryEXT():this.N.createQuery()}m(){this.kN();this.fd=this.N=null;this.Gt=!1}kN(){this.fh&&(1===this.Kc?this.fd.deleteQueryEXT(this.fh):this.N.deleteQuery(this.fh),this.fh=null)}cB(){if(this.zb)throw Error("query already active");1===this.Kc?this.fd.beginQueryEXT(this.fd.TIME_ELAPSED_EXT,this.fh):this.N.beginQuery(this.fd.TIME_ELAPSED_EXT,
this.fh);this.zb=!0}vB(){if(!this.zb)throw Error("query not active");1===this.Kc?this.fd.endQueryEXT(this.fd.TIME_ELAPSED_EXT):this.N.endQuery(this.fd.TIME_ELAPSED_EXT);this.zb=!1}lB(){if(this.fh&&!this.Gt&&!this.zb){var b=1===this.Kc?this.fd.getQueryObjectEXT(this.fh,this.fd.QUERY_RESULT_AVAILABLE_EXT):this.N.getQueryParameter(this.fh,this.N.QUERY_RESULT_AVAILABLE);var e=this.N.getParameter(this.fd.GPU_DISJOINT_EXT);b&&!e&&(this.Qz=1===this.Kc?this.fd.getQueryObjectEXT(this.fh,this.fd.QUERY_RESULT_EXT):
this.N.getQueryParameter(this.fh,this.N.QUERY_RESULT),this.Qz/=1E9,this.Gt=!0);(b||e)&&this.kN()}}yw(){return this.Gt}ow(){if(!this.Gt)throw Error("no result available");return this.Qz}}f.H.h2=class{constructor(b){this.ea=b;this.Vg=b.Vg;this.zb=!1;this.cm=null;this.Vl=!1;this.Jq=null;this.Go=[]}m(){for(const b of this.Go)b instanceof a&&b.m();f.C(this.Go);this.ea=this.Jq=this.cm=null}cB(){if(this.zb)throw Error("query already active");const b=this.ea.MR;0<b.length?(this.Vl=!0,this.cm=b.Jd(-1),this.cm.uN(),
this.cm.Go.push(this)):(this.Vl=!1,this.cm=null);this.zb=!0;b.push(this);this.eP()}vB(){if(!this.zb)throw Error("query not active");if(this.ea.MR.pop()!==this)throw Error("can only end most nested query");this.zb=!1;this.uN();this.cm&&(this.cm.eP(),this.cm=null)}eP(){this.Jq=f.j(a,this.ea);this.Go.push(this.Jq);this.Jq.cB()}uN(){this.Jq.vB();this.Jq=null}lB(){for(const b of this.Go)b.lB()}yw(){return this.Go.every(b=>b.yw())}ow(){return this.Go.reduce((b,e)=>b+e.ow(),0)}}}
{"use strict";const f=self.B;f.H.MM=class{constructor(a,b=1E3){this.ea=a;this.q$=b;this.mj=[];this.ea.w2(this)}m(){this.bd();this.ea.h7(this);this.ea=null}bd(){for(const a of this.mj)a.m();f.C(this.mj)}aB(){const a=new f.H.h2(this.ea);this.mj.push(a);this.mj.length>this.q$&&this.mj.shift().m();return a}sU(a){for(const b of this.mj){if(b.Vg>=a)break;if(b.Vl)break;b.lB()}}$J(a,b){if(b<=a)return NaN;let e=0;for(const c of this.mj){if(c.Vg>=b)break;if(!(c.Vg<a))if(c.yw())e+=c.ow();else return NaN}return e}AJ(a){for(let b=
0,e=this.mj.length;b<e;++b){const c=this.mj[b];if(c.Vg<a)c.m();else{0<b&&this.mj.splice(0,b);break}}}}}
{"use strict";const f=self.B,a=self.Ci,b=a.qv,e=a.al,c={powerPreference:"default",uS:!0,alpha:!1,tI:!1,depth:!1,ZH:!1,IS:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),n=new f.jd(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),m=new f.jd,p=new f.Rect;let r=null;f.bv&&(self.eka=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.fka=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let q=-1;function v(){q=-1;for(const w of u)w.caa()&&(w.resolve(),u.delete(w));0<u.size&&(q=self.requestAnimationFrame(v))}f.H.g2=class extends f.H.b0{constructor(w,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.tI&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.IS&&(G=w.getContext("webgl2",
A),z=2);G||(G=w.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.N=G;this.tP=G.getContextAttributes();y.tI&&!this.tP.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Kc=z;this.Jf=b.create();this.Pl=!1;this.Wx=e.create();this.Xk=!!y.depth;this.nt=!(!y.depth||!y.ZH);this.ro=this.Xk;this.ZF=!1;this.mg=null;this.XF=!0;this.EP=this.FP=0;this.Iz=this.pQ=this.eA=this.pA=null;this.Qu=
new Float32Array(24E3);this.qQ=new Uint16Array(12E3);this.Qq=new Float32Array(16E3);this.kR=new Float32Array(32E3);this.NQ=this.Jz=this.Gf=this.nh=0;this.Ko=this.xo=null;this.jt=[];this.Lb=this.Jl=0;this.yd=null;this.lc=f.j(f.H.$T,this);this.bu=f.j(f.Wa,1,1,1,1);this.Xl=this.Fk=null;this.kG=this.mG=0;this.j$=new f.Rect;this.oz=f.j(f.Rect,0,0,-1,-1);this.Az=-1;this.DG=0;this.Mu="(unavailable)";this.bG=!1;this.xt=this.dt=this.QG=null;this.CG=0;this.g$=!!y.uS;this.fd=null;this.Tx=new Set;this.MR=[];
this.qW(this.qQ)}Ih(){return!0}async Bw(){super.Bw();var w=this.N;this.bu.Hm(1,1,1,1);this.Xl=this.Fk=null;this.Jz=this.nh=0;this.NQ=23988;f.C(this.jt);this.Lb=this.Jl=0;this.yd=this.xo=null;this.j$.set(0,0,1,1);var y=this.lc;y.ph=null;y.Yk=null;y.Ai=null;b.set(y.uA,1,1,1,1);y.clearColor.Hm(0,0,0,0);y.DI.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.mG=w.ONE;this.kG=w.ONE_MINUS_SRC_ALPHA;this.d5(w);w.disable(w.CULL_FACE);
w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Xk?(w.enable(w.DEPTH_TEST),w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.ro=this.Xk;this.ZF=!1;this.Iz=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.Iz);w.bufferData(w.ARRAY_BUFFER,this.kR.byteLength,w.DYNAMIC_DRAW);this.pA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.pA);w.bufferData(w.ARRAY_BUFFER,this.Qu.byteLength,w.DYNAMIC_DRAW);this.eA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.eA);w.bufferData(w.ARRAY_BUFFER,
this.Qq.byteLength,w.DYNAMIC_DRAW);this.pQ=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,this.pQ);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.qQ,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.Az=w.getParameter(w.MAX_TEXTURE_SIZE);this.DG=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.DG&&(this.DG=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Mu=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.QG=w.getExtension("KHR_parallel_shader_compile");
f.bv&&(r=w.getExtension("WEBGL_lose_context"));if(this.g$)if(1===this.Kc){if("Chromium"!==f.yc.yv||81<=f.yc.eB||"undefined"!==typeof document)this.fd=w.getExtension("EXT_disjoint_timer_query")}else this.fd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.CG=(this.dt=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.dt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Kc&&this.Xk&&this.nt&&(this.xt=w.getExtension("WEBGL_depth_texture"),
!this.xt))throw Error("no depth texture support");2>this.Kc&&w.getExtension("EXT_frag_depth");w=f.H.Fs;y=w.Yv(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.Yv(!0),"<tilemap>"]].map(A=>this.pB({src:A[0]},A[1],A[2])));this.$z=w[0];this.Ko=w[1];this.Zz=w[2];this.jH=w[3];this.dj()}async pB(w,y,A){w=await f.H.Fs.Ja(this,w,y,A);this.x2(w);return w}g0(){this.xo=null}wd(w,y,A){if(this.S!==w||this.R!==y||A){this.Ii();A=this.N;var G=this.lc;this.S=w;this.R=y;this.bP(w,y);this.Mm(this.Wx,w/y);this.Dn(this.Wx);this.Ko&&(A.useProgram(this.Ko.mf()),this.Ko.nP(this.zz),this.xo=this.Ko,this.lc.ph=this.Ko);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Xl=this.Fk=null;this.Xk&&this.XF&&this.pE(this.S,this.R);this.yd&&this.yd.HO(this.S,this.R);A.bindFramebuffer(A.FRAMEBUFFER,null);this.yd=null;G.Yk=null;G.Ai=null}}pE(w,y){const A=this.N;this.mg&&this.FP===w&&this.EP===y||(this.nt?(this.mg&&A.deleteTexture(this.mg),this.mg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.mg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Kc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,w,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.xt&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,w,y,0,A.DEPTH_STENCIL,this.xt.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.mg&&A.deleteRenderbuffer(this.mg),this.mg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.mg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Kc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,w,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.FP=w,this.EP=y)}L0(w,y){this.Xk&&(this.XF=!1,this.pE(w,y))}x0(){this.Xk&&(this.XF=!0,this.pE(this.S,this.R))}bP(w,y){const A=this.Jf;if(0!==A[0]||0!==A[1]||A[2]!==w||A[3]!==y)this.fc().QY(w,y),b.set(A,0,0,w,y),this.Lb=0}cD(w){super.cD(w);this.Mm(this.Wx,this.S/this.R)}Dn(w){e.Bi(this.zz,w)||(this.fc().NY(w),e.ia(this.zz,w),this.Lb=0,this.Pl=!0)}UL(){let w,y;var A=this.yd;
null===A?(w=this.Wx,y=this.pa(),A=this.ma()):(w=A.yX(),y=A.pa(),A=A.ma());this.Dn(w);this.bP(y,A)}Fp(w){e.Bi(this.AG,w)||(this.fc().KY(w),e.ia(this.AG,w),this.Lb=0,this.Pl=!0)}e0(){this.Pl=!1}fc(){const w=this.jt;this.Jl===w.length&&w.push(new f.H.f2(this.lc));return w[this.Jl++]}Ii(){0===this.Jl||this.nn()||(this.k9(),this.h4(),this.Lb=this.Jz=this.Gf=this.nh=this.Jl=0)}k9(){const w=this.N;0<this.Jz&&(w.bindBuffer(w.ARRAY_BUFFER,this.Iz),w.bufferSubData(w.ARRAY_BUFFER,0,this.kR.subarray(0,this.Jz)));
0<this.nh&&(w.bindBuffer(w.ARRAY_BUFFER,this.pA),w.bufferSubData(w.ARRAY_BUFFER,0,this.Qu.subarray(0,this.nh)),w.bindBuffer(w.ARRAY_BUFFER,this.eA),w.bufferSubData(w.ARRAY_BUFFER,0,this.Qq.subarray(0,this.Gf)))}h4(){const w=this.jt;for(let y=0,A=this.Jl;y<A;++y)w[y].ga()}qd(){return this.bu.Qa}He(w,y,A,G){const z=this.bu;z.xA(w,y,A,G)||(z.Hm(w,y,A,G),this.fc().iC(z),this.Lb=0,this.ci=null)}Lh(w){const y=this.bu;y.Qa!==w&&(y.mr(w),this.fc().iC(y),this.Lb=0,this.ci=null)}yl(w){const y=this.bu;y.Xc(w)||
(y.set(w),this.fc().iC(y),this.Lb=0,this.ci=null)}rs(){this.He(1,1,1,1)}ag(w){w!==this.Fk&&(this.fc().PY(w),this.Fk=w,this.Lb=0)}hE(){this.Fk=null}Xf(w){w=this.B4(w);this.oE(w[0],w[1])}oE(w,y){if(w!==this.mG||y!==this.kG)this.fc().HY(w,y),this.mG=w,this.kG=y,this.Lb=0,this.ci=null}OL(){this.oE(this.N.ONE,this.N.ONE_MINUS_SRC_ALPHA)}ZC(){this.oE(this.N.ONE,this.N.ZERO)}Rect(w){this.sL(w.O,w.L,w.X,w.U)}sL(w,y,A,G){this.M_(w,y,A,y,A,G,w,G)}qx(){let w=this.nh;w>=this.NQ&&(this.Ii(),w=0);1===this.Lb?this.jt[this.Jl-
1].Ak+=6:(this.fc().GY(w),this.Lb=1)}qP(w){w.Mba(this.Qu,this.nh,this.ht+this.wt);this.nh+=12}jd(w){this.qx();this.qP(w);n.uh(this.Qq,this.Gf);this.Gf+=8}M_(w,y,A,G,z,F,I,J){this.qx();const M=this.Qu;let Q=this.nh;const S=this.ht+this.wt;M[Q++]=w;M[Q++]=y;M[Q++]=S;M[Q++]=A;M[Q++]=G;M[Q++]=S;M[Q++]=z;M[Q++]=F;M[Q++]=S;M[Q++]=I;M[Q++]=J;M[Q++]=S;this.nh=Q;n.uh(this.Qq,this.Gf);this.Gf+=8}xp(w,y){this.qx();this.qP(w);y.Lba(this.Qq,this.Gf);this.Gf+=8}Lw(w,y,A,G,z,F,I,J,M,Q,S,T,Z){this.qx();const X=this.Qu;
let ba=this.nh;const Y=this.ht+this.wt;X[ba++]=w;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=I;X[ba++]=J;X[ba++]=Y+M;X[ba++]=Q;X[ba++]=S;X[ba++]=Y+T;this.nh=ba;Z.uh(this.Qq,this.Gf);this.Gf+=8}vW(w,y){e.ia(h,this.zz);e.ia(l,this.AG);this.UL();const [A,G]=this.Rr(this.yd);var z=this.xr(0,0,this.hf(G),0,0,G);this.Fp(z);if("crop"===w&&this.yd&&y){w=this.S/2;z=this.R/2;const J=y.pa();y=y.ma();var F=this.yd.pa(),I=this.yd.ma();F=Math.min(F,J);const M=Math.min(I,y),Q=Math.max(y-I,0);I=
Math.max(I-y,0);p.set(-w,z-I,-w+F,z-M-I);m.Di(p);p.set(0,Q,F,M+Q);p.Zk(J,y);this.xp(m,p)}else w=A/2,z=G/2,this.sL(-w,z,w,-z);this.Dn(h);this.Fp(l)}Hp(w){this.xo!==w&&(this.fc().LY(w),this.xo=w,this.Lb=0,this.ci=null)}mM(w,y,A,G,z,F,I,J,M,Q,S,T){const Z=this.xo;var X=Z.fQ;const ba=!!T.length;if(X&&!Z.UT(y,A,G,z,F,I,J,M,Q,S)||ba&&!Z.TT(T)){var Y=this.fc();Y.MY();X&&(Z.Y0(y,A,G,z,F,I,J,M,Q,S),X=Y.Td,X[0]=F,X[1]=I,y.uh(X,2),X[6]=M,X[7]=Q,A.uh(X,12),y=Y.Yn,z.uh(y,0),z=y[1],y[1]=y[3],y[3]=z,G.uh(Y.GR,0),
Y.Xe=S,Y.Ak=J,Y.ue=Z.Zq.P?w?w.nf():null:null);ba&&(Z.E0(T),f.xc(Y.Tz,T));this.Lb=0}}Pm(){this.fc().xY();this.Lb=0}bd(w){this.fc().wY(w);this.Lb=0}Ds(){}ep(){super.ep();this.N.flush()}tU(){this.Xk&&this.yd&&this.yd.Dc&&(this.fc().vY(this.ro),this.Lb=0)}Zf(w){w=!!w;this.ro!==w&&this.Xk&&(this.ro=w,this.fc().IY(w),this.Lb=0)}us(w){w=!!w;if(this.nt&&this.ZF!==w){if(w&&this.ro)throw Error("depth still enabled");this.ZF=w;this.fc().JY(w);this.Lb=0}}e1(w,y,A,G,z=0){w=Math.floor(w);y=Math.floor(y);A=Math.floor(A);
G=Math.floor(G);this.oz.waa(w,y,A,G)||(this.oz.Eg(w,y,A,G),y=(z||this.Rr(this.Ri())[1])-y-G,this.fc().DK(!0,w,y,A,G),this.Lb=0)}uL(){-1!==this.oz.X&&(this.oz.set(0,0,-1,-1),this.fc().DK(!1,0,0,0,0),this.Lb=0)}rU(){for(const w of this.Tx)w.sU(this.Vg)}nn(){return!this.N||this.N.isContextLost()||this.bG}ak(){super.g_();f.H.jx.ak();f.H.NM.ak();f.H.NC.ak();for(const w of this.Tx)w.bd();this.xt=this.dt=this.QG=this.fd=null;this.CG=0;this.Mu="(unavailable)";this.mg=this.Ko=this.xo=null;for(const w of this.Au.values())w.ak()}async FC(){this.bG=
!0;await this.Bw();this.bG=!1;for(const w of this.Au.values())w.FC(this);this.wd(this.S,this.R,!0)}wJ(w,y){if(this.nn())throw Error("context lost");this.Ii();const A=f.j(f.H.jx,this);A.g3(w,y);return A}async qB(w,y){if(this.nn())throw Error("context lost");y=Object.assign({},y);if(f.qb.ImageBitmapOptions){let A=await createImageBitmap(w,{premultiplyAlpha:"premultiply"});const G=y.VA&&"clamp-to-edge"!==y.VA||y.WA&&"clamp-to-edge"!==y.WA,z=f.rh(A.width)&&f.rh(A.height);this.Gn()||z||!G?y.premultiplyAlpha=
!1:f.qb.Aw?(A=await createImageBitmap(w,{premultiplyAlpha:"premultiply",resizeWidth:f.JA(A.width),resizeHeight:f.JA(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(w,{premultiplyAlpha:"none"});return await f.Km(()=>this.wJ(A,y))}if(w instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");w=await f.eU(w)}return await f.Km(()=>this.wJ(w,y))}tJ(w,y,A){this.Ii();const G=f.j(f.H.jx,this);G.S2(w,y,A);return G}Y1(w,y){this.Ii();y.jP(w,void 0)}Gi(w){w&&
(w.I1(),0<w.vc||(this.Ii(),w===this.Fk&&(this.N.bindTexture(this.N.TEXTURE_2D,null),this.Fk=null),w===this.Xl&&(this.N.activeTexture(this.N.TEXTURE1),this.N.bindTexture(this.N.TEXTURE_2D,null),this.N.activeTexture(this.N.TEXTURE0),this.Xl=null),w.MD()))}PU(w){let y=this.S,A=this.R,G=!0;w&&("number"===typeof w.width&&(y=w.width,G=!1),"number"===typeof w.height&&(A=w.height,G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Ii();const z=f.j(f.H.NM,this);z.R2(y,A,Object.assign({BS:G},w));this.yd=
null;this.lc.Yk=null;this.lc.Ai=null;return z}$f(w,y=!0){w!==this.yd&&(w&&w.Xy&&w.HO(this.S,this.R),this.fc().OY(w),this.yd=w,this.Lb=0,y&&this.UL())}Ri(){return this.yd}Rr(w){return w?[w.pa(),w.ma()]:[this.S,this.R]}qJ(w){2>this.Kc||this.yd&&0<this.yd.Ik?(this.ZC(),this.rs(),this.Mv(w,"stretch")):(this.fc().tY(w,this.yd),this.Lb=0)}Mv(w,y="stretch"){w=w.nf();if(!w)throw Error("not a texture-backed render target");this.ag(w);this.vW(y,w)}pp(w){2>this.Kc||(this.fc().CY(w.og),this.Lb=0)}aV(w){this.$f(null);
this.Ii();const y=w.nf();y===this.Fk&&(this.N.bindTexture(this.N.TEXTURE_2D,null),this.Fk=null);y===this.Xl&&(this.N.activeTexture(this.N.TEXTURE1),this.N.bindTexture(this.N.TEXTURE_2D,null),this.N.activeTexture(this.N.TEXTURE0),this.Xl=null);w.MD()}pJ(){this.Zf(!0);this.fc().AY();this.Lb=0}oJ(){this.Zf(!1);this.fc().zY();this.Lb=0}nJ(){this.Zf(!0);this.fc().yY();this.Lb=0}rD(w){this.fj()&&(this.fc().SY(w),this.Lb=0)}uB(w){this.fj()&&(this.fc().BY(w),this.Lb=0)}g9(w){const y=new Promise(A=>u.add({resolve:A,
caa:w}));-1===q&&(q=self.requestAnimationFrame(v));return y}fZ(){return!!this.tP.desynchronized}KW(){let w=0;for(const y of f.H.jx.U$())w+=y.KB();return w}Gn(){return 2<=this.Kc}fj(){return!!this.fd}w2(w){this.Tx.add(w)}h7(w){this.Tx.delete(w)}d5(w){this.c5([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],
["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}{"use strict";const f={wS:null,xS:null,TS:null,getTime:null,SS:null};self.B.H.fW=class{constructor(a){a=Object.assign({},f,a);this.zP=a.wS;this.E9=a.xS;this.H9=a.TS;this.F9=a.getTime;this.G9=a.SS}RJ(a){return this.zP?this.zP(a):[a.pa(),a.ma()]}Ri(a){return this.E9(a)}S_(a,b){this.H9(a,b)}ra(){return this.F9()}Nw(a){this.G9(a)}}}
{"use strict";const f=self.B,a=self.Ci.al,b=f.j(f.Rect),e=f.j(f.Rect),c=f.j(f.Rect),g=f.j(f.Rect),n=a.create(),h=a.create(),l={wA:null,yS:null,BA:null,nI:!1},m={er:null,zA:!1,fI:!1,oI:!1,sI:!1,DS:!1,SA:!1},p={sA:null,Zja:null,Bm:0,devicePixelRatio:1,cv:1,FA:0,jr:null,Yu:null,sS:null,lS:0,mS:0,pT:!1};f.H.ae=class{constructor(r,u){u=Object.assign({},l,u);this.tg=r;this.ZE=u.wA;this.pt=u.yS;this.AP=u.BA;this.dy=null;this.Uz=[];this.tu=[];this.Mo=[];this.ig=0;this.xm=this.ot=this.GP=this.Pl=this.Vy=this.WF=
!1;this.Bo=0;this.Ok=[null,null,null];this.vQ=!!u.nI;this.tc=this.Ec=this.Yp=this.Xp=0;this.Nl=null;this.cu=f.j(f.Rect);this.nj=f.j(f.Rect);this.Nk=f.j(f.Rect);this.Iq=f.j(f.Rect);this.gm=f.j(f.Rect);this.rz=this.Ol=1;this.Wc=this.qG=0;this.oy=null;this.fF=this.eF=0;this.GH=!1;this.wj=a.create();this.ku=a.create()}m(){f.C(this.Mo);f.C(this.Uz);f.C(this.tu);this.AP=this.pt=this.ZE=this.Nl=null}fB(r,u){u=Object.assign({},m,u);f.C(this.Mo);this.Yp=this.Xp=0;this.Vy=this.WF=!1;this.Bo=0;this.xm=!!u.SA;
f.xc(this.Uz,r);if(0!==r.length){if(u.er){if(u.er.length!==r.length)throw Error("incorrect indexMap length");f.xc(this.tu,u.er)}else{f.C(this.tu);for(let w=0,y=r.length;w<y;++w)this.tu.push(w)}for(var q of r)this.Xp+=q.PP,this.Yp+=q.QP,q.q9&&(this.WF=!0),q.mA&&(this.Vy=!0);q=r[0];if(1!==r.length||q.UE||q.DP||!u.SA&&(0!==q.PP||0!==q.QP)||u.zA||q.up()||u.fI||u.oI||!this.xm&&q.mA||q.bb().Ih()&&q.lA&&u.sI){this.ot=!1;q=this.F8(q,u);u=this.E8(r.Jd(-1),u);var v=0;q&&(this.Bo=1,this.Mo.push(f.j(f.H.ae.Ng.E_,
this,-1,1)),v=1);for(let w=0,y=r.length;w<y;++w)0!==w||q?(r=1===v?2:1,w!==y-1||u||(r=0),this.Bo=Math.max(this.Bo,r),this.Mo.push(f.j(f.H.ae.Ng.fU,this,v,r,w)),v=r):(this.Bo=1,this.Mo.push(f.j(f.H.ae.Ng.tW,this,-1,1,w)),v=1);u&&this.Mo.push(f.j(f.H.ae.Ng.B_,this,v,0))}else this.ot=!0}}F8(r,u){const q=r.bb().Ih()&&u.sI;return u.zA||u.oI||!this.xm&&r.mA||r.up()||r.UE&&(u.DS||q)||q&&r.lA||0!==this.Xp||0!==this.Yp}E8(r,u){return u.fI||r.UE||r.DP}zn(r,u,q){q=Object.assign({},p,q);this.oy=u;this.Nl=q.sA;
this.ig=q.Bm;this.Ol=q.devicePixelRatio;this.rz=q.cv;this.qG=q.FA;this.Wc=this.tg.ra();this.Pl=!1;r.e0();this.WF&&this.S6();if(this.ot)this.k7(r,q);else{var [v,w]=this.tg.RJ(r);this.d8(r,v,w);this.K2(q);r.rs();r.Bp(0);r.ts(0);this.dy=q.sS;this.eF=q.lS||0;this.fF=q.mS||0;this.GH=!!q.pT;this.n6(r);this.Ok[0]=u;this.Ok[1]=1<=this.Bo?this.LN():null;this.Ok[2]=2===this.Bo?this.LN():null;for(const y of this.Mo)y.ss(r,this.MN(y.J$),this.MN(y.HP));this.Ok[1]&&this.CO(this.Ok[1]);this.Ok[2]&&this.CO(this.Ok[2]);
this.Ok.fill(null);this.k6(r);this.dy=this.Nl=this.oy=null}}d8(r,u,q){if(0>=u||0>=q)throw Error("invalid draw size");this.Ec===u&&this.tc===q||this.ZM(r,u,q,0,0,this.wj,this.ku);this.Ec=u;this.tc=q}ZM(r,u,q,v,w,y,A){v=u/2+v;w=q/2+w;r.Mm(y,u/q);r=r.xr(v,w,r.hf(q),v,w,q);a.ia(A,r)}K2(r){this.cu.ia(r.jr);r.Yu?this.nj.ia(r.Yu):this.nj.set(0,0,this.Ec,this.tc);this.Nk.ia(this.nj);this.Nk.Zk(this.Ec,this.tc);r=r.cv*r.devicePixelRatio;this.nj.DA(this.Xp*r,this.Yp*r);this.gm.ia(this.nj);this.gm.Zk(this.Ec,
this.tc);this.nj.ja(0,0,this.Ec,this.tc);this.Iq.ia(this.nj);this.Iq.Zk(this.Ec,this.tc)}n6(r){this.GP=r.ro;if(this.xm)r.Zf(!1),this.Vy&&r.us(!0);else{b.ia(this.nj);if(r.Ih()){const u=this.rz*this.Ol;b.DA(Math.max(this.Xp,1)*u,Math.max(this.Yp,1)*u);b.WS();b.ja(0,0,this.Ec,this.tc)}else b.WS();r.e1(b.O,b.L,b.width(),b.height(),this.tc)}}j6(r){r.rs();this.xm||(r.Zf(!1),this.Vy&&r.us(!0))}k6(r){r.us(!1);r.Zf(this.GP);this.xm||r.uL();this.Pl=r.Pl}aN(){this.gm.ja(0,0,1,1)}MN(r){return 0>r?null:this.Ok[r]}LN(){return this.tg.Ri(this)}CO(r){this.tg.S_(r,
this)}R4(r){return this.Uz[r]}ND(r){this.dy?this.dy(this,r,()=>this.ZE(r,this)):this.ZE(r,this);this.ot||this.j6(r)}u5(r){if(this.xm)return!0;if(0!==this.eF||0!==this.fF)return!1;const [u,q]=r.Rr(r.Ri());return u!==this.Ec||q!==this.tc?!1:!0}TO(r,u){let q=this.wj,v=this.ku;if(u&&!this.u5(r)){q=n;v=h;const [w,y]=r.Rr(r.Ri());this.ZM(r,w,y,this.eF,this.fF,q,v);this.xm||r.uL()}r.Dn(q);r.Fp(v)}S6(){this.tg.Nw(this)}RN(r){return this.AP(this.tu[r])}t8(r,u){let q=this.gm,v=this.Iq,w=this.Nk;r.Ih()&&(e.ia(q),
e.Em(),q=e,c.ia(v),c.Em(),v=c,g.ia(w),g.Em(),w=g);this.oN(r,u,v,w,q,1/this.Ec,1/this.tc)}f8(r,u){let q=this.Iq,v=this.Nk,w=1/this.Ec,y=1/this.tc;if(this.pt){let {gT:G,hT:z,fT:F}=this.pt(this.Nl);G||(b.set(0,0,0,0),G=b);z||(z=this.Ec);F||(F=this.tc);v=q=G;w=1/z;y=1/F}else r.Ih()&&(c.ia(q),c.Em(),q=c,g.ia(v),g.Em(),v=g);let A=this.gm;r.Ih()&&(A=e,A.ia(this.gm),A.Em());this.oN(r,u,q,v,A,w,y)}oN(r,u,q,v,w,y,A){u=this.RN(u);r.mM(this.oy,w,q,v,this.cu,y,A,this.Ol,this.rz,this.qG,this.Wc,u)}k7(r,u){var q=
this.Uz[0];const v=r.ro,w=q.mA;w&&(r.Zf(!1),r.us(!0),this.gm.set(0,0,1,1),this.Nk.set(0,0,1,1));r.Hp(q);r.Xf(this.ig);r.$f(this.oy);let y;this.Nk.set(0,0,1,1);if(q.lA&&this.pt){const {gT:A,hT:G,fT:z}=this.pt(this.Nl);A&&this.Nk.ia(A);q=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.tg.RJ(r);q=1/A;y=1/G}u.jr?this.cu.ia(u.jr):this.cu.set(0,0,0,0);u=this.RN(0);r.mM(null,this.gm,this.Nk,this.Nk,this.cu,q,y,this.Ol,this.rz,this.qG,this.Wc,u);r.Bp(0);this.ND(r);w&&(r.us(!1),r.Zf(v))}}}"use strict";
self.B.H.ae.Ng=class{constructor(f,a,b,e=-1){this.Sg=f;this.J$=a;this.HP=b;this.Ia=e}zh(){return this.Sg}Da(){return this.Ia}mf(){return this.zh().R4(this.Da())}ss(){}};{"use strict";const f=self.B;f.H.ae.Ng.E_=class extends f.H.ae.Ng{constructor(a,b,e,c){super(a,b,e,c)}ss(a,b,e){b=this.zh();a.OL();a.dj();a.$f(e,b.GH);a.Pm();b.ND(a);b.aN()}}}
{"use strict";const f=self.B,a=f.j(f.Rect),b=f.j(f.jd);f.H.ae.Ng.B_=class extends f.H.ae.Ng{constructor(e,c,g,n){super(e,c,g,n)}ss(e,c,g){const n=this.zh();e.dj();e.$f(g);n.TO(e,!0);e.Xf(n.ig);e.ag(c.nf());b.Di(n.nj);a.ia(n.Iq);a.Em();e.xp(b,a);n.vQ&&e.pp(c)}}}{"use strict";const f=self.B;f.H.ae.Ng.tW=class extends f.H.ae.Ng{constructor(a,b,e,c){super(a,b,e,c)}ss(a,b,e){b=this.zh();a.$f(e,b.GH);a.Pm();a.ZC();a.Hp(this.mf());b.f8(a,this.Da());b.ND(a);b.aN()}}}
{"use strict";const f=self.B,a=f.j(f.Rect),b=f.j(f.jd);f.H.ae.Ng.fU=class extends f.H.ae.Ng{constructor(e,c,g,n){super(e,c,g,n)}ss(e,c,g){const n=this.zh();e.$f(g);(g=0===this.HP)?e.Xf(n.ig):(e.Pm(),e.ZC());e.Hp(this.mf());n.t8(e,this.Da());e.ag(c.nf());n.TO(e,g);b.Di(n.nj);a.ia(n.Iq);a.Em();e.xp(b,a);n.vQ&&e.pp(c)}}}
{"use strict";let f=null;const a=new Set;let b=!1;self.kY=class{constructor(e){f=e;Object.defineProperties(this,{Faa:{value:{},writable:!1},storage:{value:new self.lY(f),writable:!1},$ka:{value:f.Sd,writable:!1}});f.Id.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});f.Id.addEventListener("keyup",c=>a.delete(c.key));f.dc().addEventListener("window-blur",()=>a.clear());f.Sd&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}g5(e){Object.defineProperties(this.Faa,e)}addEventListener(e,c){f.Id.addEventListener(e,c)}removeEventListener(e,c){f.Id.removeEventListener(e,c)}get tS(){return f.SJ()}random(){return f.yp()}get GA(){return f.Ib().Jt}get keyboard(){const e=f.dF.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get KS(){const e=f.dF.KS;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get iT(){const e=f.dF.iT;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return f.un("runtime","alert",{message:e+(f.Sd?" [via Web Worker]":"")})}}}"use strict";self.eY=class{constructor(){}};{"use strict";const f=self.Ei;self.lY=class{constructor(a){this.Bu=a.O4()}getItem(a){f.ud(a);return this.Bu.getItem(a)}setItem(a,b){f.ud(a);return this.Bu.setItem(a,b)}removeItem(a){f.ud(a);return this.Bu.removeItem(a)}clear(){return this.Bu.clear()}keys(){return this.Bu.keys()}}}
{"use strict";const f=self.Ei,a=new WeakMap;self.jY=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.F().hO(this,b)}addEventListener(b,e){f.ud(b);f.$i(e);a.get(this).Id.addEventListener(b,e)}removeEventListener(b,e){f.ud(b);f.$i(e);a.get(this).Id.removeEventListener(b,e)}*AS(){for(const b of a.get(this).fa())yield b.Hg()}bI(b){f.rf(void 0);f.rf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this);const c=e.F();b=c.Ib().$(b);if(!b)throw Error("invalid layer");e=c.uJ(e,b,void 0,void 0,void 0);b=c.ca();b.ef(!0);e.yE();b.ef(!1);b.es()||c.gd();return e.Hg()}}}
{"use strict";const f=self.Ei,a=new WeakMap;self.iY=class{constructor(b){a.set(this,b);const e=[],c=b.Ga,g=c.Pf().length;for(let n=0;n<g;++n)e.push(new self.eC(c,n));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.Da(),writable:!1}})}addEventListener(b,e){f.ud(b);f.$i(e);a.get(this).Id.addEventListener(b,e)}removeEventListener(b,e){f.ud(b);f.$i(e);a.get(this).Id.removeEventListener(b,e)}get width(){return a.get(this).pa()}set width(b){a.get(this).hk(b)}get height(){return a.get(this).ma()}set height(b){a.get(this).fk(b)}set scale(b){f.ck(b);
a.get(this).nM(b)}get scale(){return a.get(this).Ed}set angle(b){f.ck(b);a.get(this).vd(b)}get angle(){return a.get(this).Ta()}set scrollX(b){f.rf(b);a.get(this).Nh(b)}get scrollX(){return a.get(this).kf()}set scrollY(b){f.rf(b);a.get(this).Oh(b)}get scrollY(){return a.get(this).lf()}scrollTo(b,e){f.rf(b);f.rf(e);const c=a.get(this);c.Nh(b);c.Oh(e)}*SH(){for(const b of a.get(this).SH())yield b.Ny}set PS(b){f.ud(b);const e=a.get(this);if("perspective"===b)e.lM();else if("orthographic"===b)e.iM();else throw Error("invalid projection");
}get PS(){return a.get(this).Pe?"orthographic":"perspective"}}}
{"use strict";const f=self.B,a=self.Ei,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(n=>[n[1],n[0]])),g=f.j(f.Wa);self.hY=class{constructor(n){b.set(this,n);const h=[],l=n.Ga,m=l.Pf().length;for(let p=0;p<m;++p)h.push(new self.eC(l,p));Object.defineProperties(this,{name:{value:n.wa(),writable:!1},index:{value:n.Da(),
writable:!1},GA:{value:n.Pb().Jt,writable:!1}})}*AI(){for(const n of b.get(this).AI())yield n.Ny}get isVisible(){return b.get(this).vq}set isVisible(n){b.get(this).ej(n)}get opacity(){return b.get(this).qd()}set opacity(n){n=f.ja(+n,0,1);isNaN(n)||b.get(this).Lh(n)}set scale(n){a.ck(n);b.get(this).jM(n)}get scale(){return b.get(this).Ed}set angle(n){a.ck(n);b.get(this).vd(n)}get angle(){return b.get(this).wf}set sv(n){a.ck(n);b.get(this).Ie(n)}get sv(){return b.get(this).Xa()}set Bm(n){a.ud(n);n=
e.get(n);if("number"!==typeof n)throw Error("invalid blend mode");b.get(this).Xf(n)}get Bm(){return c.get(b.get(this).Ji())}set backgroundColor(n){a.QC(n);if(3>n.length)throw Error("expected 3 elements");g.pr(n[0],n[1],n[2]);n=b.get(this);const h=n.sk;h.$k(g)||(h.yi(g),n.F().Y())}get backgroundColor(){const n=b.get(this).sk;return[n.Oa,n.Sa,n.Ra]}set scrollX(n){a.rf(n);const h=b.get(this);h.xs(!0);h.Nh(n)}get scrollX(){return b.get(this).kf()}set scrollY(n){a.rf(n);const h=b.get(this);h.xs(!0);h.Oh(n)}get scrollY(){return b.get(this).lf()}scrollTo(n,
h){a.rf(n);a.rf(h);const l=b.get(this);l.xs(!0);l.Nh(n);l.Oh(h)}}}
{"use strict";const f=self.B,a=self.Ei,b=new WeakMap,e=new WeakMap;function c(n){let h=e.get(n);if(h)return h;h=f.j(f.Event.dc);e.set(n,h);return h}let g=null;self.zw=class{constructor(){b.set(this,g);const n={cf:{value:g.F().ji,writable:!1},xI:{value:g.G().Kt,writable:!1},uid:{value:g.Jc,writable:!1}};g.F4(n);g.A4(n);Object.defineProperties(this,n);g.F().hO(this,g)}static fg(n){g=n}static ux(){return g}Vs(){const n=e.get(this);n&&(n.m(),e.delete(this));b.delete(this)}addEventListener(n,h,l){a.ud(n);
a.$i(h);c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.ud(n);a.$i(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}
{"use strict";const f=self.B,a=self.Ei,b=self.zw,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(n=>[n[1],n[0]]));f.j(f.Wa);self.fC=class n extends b{constructor(){super();var h=b.ux();e.set(this,h);const l=[];var m=h.A();if(h=m.Bf){m=m.G().Ga.Pf().length;for(let p=0;p<m;++p)l.push(new self.eC(h,p))}}get GA(){return e.get(this).A().Pb().Jt}get HS(){return e.get(this).A().$().Ny}get x(){return e.get(this).A().Aa()}set x(h){h=
+h;const l=e.get(this).A();isNaN(h)||l.Aa()===h||(l.Qh(h),l.ob())}get y(){return e.get(this).A().Ba()}set y(h){h=+h;const l=e.get(this).A();isNaN(h)||l.Ba()===h||(l.Rh(h),l.ob())}get sv(){return e.get(this).A().Xa()}set sv(h){h=+h;const l=e.get(this),m=l.A();isNaN(h)||m.Xa()===h||(m.Ie(h),l.F().Y())}get width(){return e.get(this).A().pa()}set width(h){h=+h;const l=e.get(this).A();isNaN(h)||l.pa()===h||(l.hk(h),l.ob())}get height(){return e.get(this).A().ma()}set height(h){h=+h;const l=e.get(this).A();
isNaN(h)||l.ma()===h||(l.fk(h),l.ob())}get angle(){return e.get(this).A().Ta()}set angle(h){h=f.Zd(+h);const l=e.get(this).A();isNaN(h)||l.Ta()===h||(l.vd(h),l.ob())}jI(){e.get(this).A().Oc().Cba()}get isVisible(){return e.get(this).A().Rc()}set isVisible(h){h=!!h;const l=e.get(this),m=l.A();m.Rc()!==h&&(m.ej(h),l.F().Y())}get opacity(){return e.get(this).A().qd()}set opacity(h){h=f.ja(+h,0,1);const l=e.get(this),m=l.A();isNaN(h)||m.qd()===h||(m.Lh(h),l.F().Y())}set Bm(h){a.ud(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=e.get(this);l.A().Xf(h);l.F().Y()}get Bm(){return g.get(e.get(this).A().Ji())}get zIndex(){return e.get(this).A().Ui()}$e(h,l){a.rf(h);a.rf(l);return e.get(this).A().mJ(+h,+l)}getParent(){const h=e.get(this).ya();return h?h.Hg():null}*kv(){for(const h of e.get(this).kv())yield h.Hg()}*children(){for(const h of e.get(this).children())yield h.Hg()}*Ij(){for(const h of e.get(this).Ij())yield h.Hg()}removeChild(h){a.RC(h,n);const l=e.get(this);h=e.get(h);
l.Zi(h)}}}{"use strict";const f=new WeakMap;self.Kda=class extends self.fC{constructor(){super();f.set(this,self.zw.ux())}focus(){f.get(this).xa.LJ()}blur(){f.get(this).xa.bJ()}}}
{"use strict";const f=self.B,a=self.Ei,b=new WeakMap,e=new WeakMap;function c(n){let h=e.get(n);if(h)return h;h=f.j(f.Event.dc);e.set(n,h);return h}let g=null;self.gY=class{constructor(){b.set(this,g);const n={cf:{value:g.F().ji,writable:!1},behavior:{value:g.jl().aX(),writable:!1}};Object.defineProperties(this,n)}static fg(n){g=n}static ux(){return g}get instance(){return b.get(this).ka.Hg()}Vs(){const n=e.get(this);n&&(n.m(),e.delete(this));b.delete(this)}addEventListener(n,h,l){a.ud(n);a.$i(h);
c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.ud(n);a.$i(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}{"use strict";const f=new WeakMap;self.fY=class{constructor(a){f.set(this,a);Object.defineProperties(this,{cf:{value:a.F().ji,writable:!1}})}}}
{"use strict";const f=self.B,a=self.Ei,b=new WeakMap;self.eC=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Pf()[this.index].wa()}getParameter(e){a.ck(e);e=Math.floor(+e);const c=b.get(this).Sj(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof f.Wa?[e.Oa,e.Sa,e.Ra]:e}}}
{"use strict";const f=new WeakMap;self.cY=class{constructor(a){f.set(this,a);Object.defineProperties(this,{name:{value:a.wa(),writable:!1},speed:{value:a.I$,writable:!1},lma:{value:a.Jg(),writable:!1}})}*frames(){for(const a of f.get(this).Dt)yield a.T9}}}{"use strict";const f=new WeakMap;self.AK=class{constructor(a){f.set(this,a)}get width(){return f.get(this).pa()}get height(){return f.get(this).ma()}}}
{"use strict";const f=new WeakMap;self.dY=class extends self.AK{constructor(a){super(a.Lr());f.set(this,a);Object.defineProperties(this,{duration:{value:a.LP,writable:!1}})}}}
{"use strict";const f=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);f.YT=class extends f.Z{constructor(e,c){super();var g=c.exportType;this.g=e;this.vz=new Map;this.Bq=new Map;this.o$=new Map;this.Wy="cordova"===g;this.EQ=!!c.isiOSCordova;this.St=!!c.isFileProtocol;this.L$=c.supportedAudioFormats||{};this.r9=
new Map;this.lQ=this.VP="";this.my="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.DE=[];this.OE=new Map;this.NH=[];this.sz=[];this.gQ=!1;this.nz=this.NE=this.Ku=0;this.HF=!1;this.n$=f.j(f.P_,()=>this.zN(),50);this.WG=new f.nL(Math.max(f.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [n,h]of Object.entries(e))this.vz.set(n.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [n,
h]of Object.entries(c))this.o$.set(n,h);new self.eY(this)}m(){this.vz.clear();for(const e of this.Bq.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Bq.clear();for(const e of this.DE)e.m();f.C(this.DE);this.OE.clear();f.C(this.sz);this.g=null}F(){return this.g}j8(e){this.VP=e}o8(e){this.lQ=e}UD(e){return this.vz.has(e.toLowerCase())}vx(e){return this.vz.get(e.toLowerCase())||null}eK(e){if(!this.UD(e))return e;e=e.toLowerCase();var c=this.Bq.get(e);c||(c=this.vx(e),c=URL.createObjectURL(c),
this.Bq.set(e,c));return c}Pj(e,c){c=c||this.my;const g=this.vx(e);if(g)return Promise.resolve(g);if(f.vC(e)){const n=e.toLowerCase();return this.Wy&&this.St?this.sJ(n):"local"===c?this.WG.Nc(()=>f.Pj(n)):f.Pj(n)}return f.Pj(e)}Ar(e){const c=this.vx(e);if(c)return f.dU(c);if(f.vC(e)){const g=e.toLowerCase();return this.Wy&&this.St?this.rJ(g):"local"===this.my?this.WG.Nc(()=>f.Ar(g)):f.Ar(g)}return f.Ar(e)}Br(e){const c=this.vx(e);if(c)return f.aJ(c);if(f.vC(e)){const g=e.toLowerCase();return this.Wy&&
this.St?this.IU(g):"local"===this.my?this.WG.Nc(()=>f.Br(g)):f.Br(g)}return f.Br(e)}async JJ(e){e=await this.Br(e);return JSON.parse(e)}DD(e,c){return this.g.un("runtime","cordova-fetch-local-file",{filename:e,as:c})}IU(e){return this.DD(e,"text")}async sJ(e){const c=await this.DD(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Jd(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async HU(e){e=e.toLowerCase();var c=this.Bq.get(e);if(c)return c;c=await this.sJ(e);c=URL.createObjectURL(c);
this.Bq.set(e,c);return c}rJ(e){return this.DD(e,"buffer")}SB(e,c=""){if(f.EK(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.UD(e)?Promise.resolve(this.eK(e)):this.Wy&&this.St?this.HU(c+e):Promise.resolve(c+e.toLowerCase())}AC(e){if(e.HA&&!a.has(e.HA))throw Error("invalid load policy");let c=this.OE.get(e.url);if(c)return c;c=f.j(f.BK,this,{url:e.url,size:e.size||0,HA:e.HA||this.my});this.DE.push(c);this.OE.set(c.Ou,c);this.gQ||(this.Ku+=c.an(),
this.sz.push(c.CZ().then(()=>this.SM(c.an()))));return c}async JM(){try{await Promise.all(this.sz),this.nz=1}catch(e){console.error("Error loading: ",e),this.HF=!0,this.zN()}}Q0(){this.gQ=!0}SM(e){this.NE+=e;this.n$.nU()}zN(){const e=f.j(f.Event,"loadingprogress");this.nz=f.ja(this.NE/this.Ku,0,1);e.progress=this.nz;this.g.dc().dispatchEvent(e)}A8(e){f.xc(this.NH,e);this.NH.length&&this.sz.push(this.U5())}U5(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,g,n]of this.NH)this.Ku+=
n,e.push(this.T5(c,g).then(()=>this.SM(n)));return Promise.all(e)}async T5(e,c){try{const g=await this.SB(c,this.VP),n=new FontFace(e,`url('${g}')`);this.g.Sd?self.fonts.add(n):document.fonts.add(n);await n.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}ZY(){return!!this.L$["audio/webm; codecs=opus"]}U7(e){for(const [c,g,n]of e)this.r9.set(c,{fileName:c,tka:g.map(h=>({type:h[0],pka:h[1],Gka:c+h[1],fileSize:h[2]})),ala:n})}async XK(e){e=await this.SB(e);return await this.g.un("runtime",
"add-stylesheet",{url:e})}}}
{"use strict";const f=self.B;f.XT=class extends f.Z{constructor(a,b){super();this.Tc=a;this.g=a.F();this.Ou=b.url;this.Wz=b.size;this.wG=b.HA;this.Zl=this.lt=null}m(){this.lt=this.g=this.Tc=this.Zl=null}an(){return this.Wz}CZ(){return"local"===this.wG||this.lt?Promise.resolve():this.Zl?this.Zl:this.Zl=this.Tc.Pj(this.Ou,this.wG).then(a=>{this.Zl=null;return this.lt=a}).catch(a=>console.error("Error loading resource: ",a))}DW(){return this.lt?Promise.resolve(this.lt):this.Zl?this.Zl:this.Tc.Pj(this.Ou,
this.wG)}}}
{"use strict";const f=self.B,a=new f.nL,b=new Set;f.BK=class extends f.XT{constructor(e,c){super(e,c);this.Cj=this.Oo=null;this.vc=0;this.nQ=this.oQ=-1;b.add(this)}m(){this.bk();if(0!==this.vc)throw Error("released image asset which still has texture references");this.Oo=null;b.delete(this);super.m()}static Jw(){for(const e of b)e.Oo=null,e.Cj=null,e.vc=0}BC(e,c){c=c||{};this.vc++;if(this.Cj)return Promise.resolve(this.Cj);if(this.Oo)return this.Oo;c.gS=this.g.K.LR;return this.Oo=this.DW().then(g=>a.Nc(()=>
e.qB(g,c).then(n=>{this.Oo=null;if(0===this.vc)return e.Gi(n),null;this.Cj=n;this.oQ=n.pa();this.nQ=n.ma();return this.Cj}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}bk(){if(0>=this.vc)throw Error("texture released too many times");this.vc--;0===this.vc&&this.Cj&&(this.Cj.bb().Gi(this.Cj),this.Cj=null)}nf(){return this.Cj}pa(){return this.oQ}ma(){return this.nQ}}}
{"use strict";const f=self.B;function a(b,e){return b.A().Hj-e.A().Hj}f.$_=class extends f.Z{constructor(b,e,c){super();this.ba=e;this.W=c;this.D=[];this.Wt=!0;this.pi=new Set;this.Ot=!1}m(){f.C(this.D);this.pi.clear()}Sc(){f.C(this.D);this.Wt=!0;this.pi.clear();this.Ot=!1}B0(){this.Wt=!1}qn(){if(!this.D.length)return!0;if(this.D.length>this.pi.size)return!1;this.QD();return!0}jC(b){this.pi.has(b)?(this.pi.delete(b),0===this.pi.size&&(this.Ot=!1)):(this.D.push(b),this.Wt=1===this.D.length)}Lg(b){this.pi.add(b);
this.Ot=!0;50<=this.pi.size&&this.QD()}QD(){this.Ot&&(this.D.length===this.pi.size?this.Sc():(f.Lf(this.D,this.pi),this.pi.clear(),this.Ot=!1))}g4(){this.Wt||(this.D.sort(a),this.Wt=!0)}sB(b){this.QD();this.g4();this.D.length&&b.push(this.D)}}}
{"use strict";const f=self.B;f.a0=class extends f.Z{constructor(a,b){super();this.aF=a;this.$E=b;this.ai=f.j(f.ls)}m(){this.ai.m();this.ai=null}kl(a,b,e){let c=this.ai.V(a,b);return c?c:e?(c=f.j(f.$_,this,a,b),this.ai.Set(a,b,c),c):null}Sh(a){return Math.floor(a/this.aF)}Th(a){return Math.floor(a/this.$E)}In(a,b,e){if(b)for(let c=b.O,g=b.X;c<=g;++c)for(let n=b.L,h=b.U;n<=h;++n){if(e&&e.$e(c,n))continue;const l=this.kl(c,n,!1);l&&(l.Lg(a),l.qn()&&this.ai.Rm(c,n))}if(e)for(let c=e.O,g=e.X;c<=g;++c)for(let n=
e.L,h=e.U;n<=h;++n)b&&b.$e(c,n)||this.kl(c,n,!0).jC(a)}Mw(a,b){let e=this.Sh(a.O);const c=this.Th(a.L),g=this.Sh(a.X);for(a=this.Th(a.U);e<=g;++e)for(let n=c;n<=a;++n){const h=this.kl(e,n,!1);h&&h.sB(b)}}LZ(a){let b=a.O;const e=a.L,c=a.X;for(a=a.U;b<=c;++b)for(let g=e;g<=a;++g){const n=this.kl(b,g,!1);n&&n.B0()}}}}
{"use strict";const f=self.B,a=new f.Rect,b=new f.jd,e=[];new f.Rect;new f.Rect;const c=self.Ci,g=c.TA,n=c.qv,h=c.al;h.create();const l=g.create(),m=n.create(),p=g.create(),r=g.create(),u=g.create(),q=f.j(f.ix);f.j(f.Rect);function v(z,F){return z.A().Hj-F.A().Hj}function w(z,F){return z.A().Xa()-F.A().Xa()}const y=[],A=[],G=[];f.TK=class extends f.Z{constructor(z,F,I){super();this.sg=z;this.g=z.F();this.hR=F;this.Ca=I[0];this.Ia=-1;this.cb=I[2];this.vq=!!I[3];this.cz=!!I[13];this.sk=f.j(f.Wa);this.sk.dl(I[4].map(M=>
M/255));this.tj=!!I[5];this.Se=I[6];this.Te=I[7];this.Ya=f.j(f.Wa,1,1,1,I[8]);this.Kz=f.j(f.Wa);this.$F=I[9];this.E$=I[17];this.RR=I[18];this.R$=I[10];this.hm=I[11];this.ig=I[12];this.oe=null;this.Ed=1;this.Lc=I[16];this.jh=this.ih=this.wf=0;this.zk=!1;this.Jf=f.j(f.Rect);this.WR=f.j(f.Rect);this.ym=f.j(f.Rect);this.wj=h.create();this.hG=!0;this.ku=h.create();this.fG=!0;this.VR=f.j(f.H.a2);this.kz=!0;this.IR=[];this.rQ=I[14];this.rj=[];this.ky=[];this.sQ=new Map;this.D=[];this.Un=this.RH=!1;const J=
this.g.K;this.Ga=f.j(f.Nj,this,I[15]);this.Sg=f.j(f.H.ae,J.nF,{wA:(M,Q)=>{Q=Q.Nl;const S=Q.Ri();M.yl(Q.RB());M.Mv(S);M.pp(S);J.xn(S)},BA:M=>this.Ga.Sj(M)});this.Su=this.Jk=!0;this.Kq=null;this.lG=[];this.ez=!1;this.k$=f.j(f.Rect,0,0,-1,-1);this.J9=f.j(f.Rect,0,0,-1,-1);this.Ny=null;this.oP();this.Kn()&&(this.Kq=f.j(f.a0,this.g.vg,this.g.ug));this.km=I[19].map(M=>f.j(f.TK,this.sg,this,M))}fg(){for(const z of this.rQ){const F=this.g.De(z[1]);this.sg.QM(F);F.gq||F.TL(z);this.rj.push(z);this.sQ.set(z[2],
z)}f.xc(this.IR,this.rj);this.rQ=null;this.Ny=new self.hY(this)}m(){this.g=this.sg=null}bX(z){return this.sQ.get(z)}LU(z){const F=this.sg.to;let I=0;const J=this.rj;for(let Q=0,S=J.length;Q<S;++Q){var M=J[Q];const T=this.g.De(M[1]);let Z=!0;if(!T.bC()||F)M=this.g.yh(M,this,!0),z.push(M),T.qf()&&(Z=!1,this.ky.push(M.Jc));Z&&(J[I]=J[Q],++I)}f.Ae(J,I);this.g.gd();this.bg()}eg(z,F){const I=z.A();if(I.$()!==this)throw Error("instance added to wrong layer");this.D.push(z);0!==I.Xa()&&(this.Un=!0);F&&this.Kn()&&
z.A().ob();this.bg()}W5(z){this.D.includes(z)||(this.D.push(z),0!==z.A().Xa()&&(this.Un=!0),this.bg())}M6(z){const F=z.A();if(F.$()!==this)throw Error("instance added to wrong layer");this.D.unshift(z);0!==F.Xa()&&(this.Un=!0);this.bg()}Pn(z,F){const I=this.D.indexOf(z);0>I||(F&&this.Kn()&&z.A().EO(),this.D.splice(I,1),this.bg(),this.mO())}SO(){this.Un=!0}mO(){0===this.D.length&&(this.Un=!1)}vE(z){if(z){z=new Set;for(var F of this.D){var I=F.A().Hj;0<=I&&z.add(I)}F=-1;for(const J of this.D)if(I=J.A(),
!(0<=I.Hj)){for(++F;z.has(F);)++F;I.Lx(F)}}this.D.sort(v)}f4(){for(const z of this.D)z.G().qf()||this.g.Sm(z);this.g.gd();f.C(this.D);this.Un=!1;this.bg()}os(z,F,I,J,M){const Q=this.g.ca(),S=this.g.Ac,T=z.$a,Z=[];for(const Y of this.rj){var X=Y[0];if(F.$e(X[0],X[1])){X=S[Y[1]];if(X!==z)if(T){if(!z.IJ(X))continue}else continue;X=this;var ba=this.g.Pa();this.Pb()!==ba&&((X=ba.cK(this.wa()))||(X=ba.OB(this.Da())));ba=this.g.yh(Y,X,!1,void 0,void 0,!1,M);X.wM(ba);X=ba.A();X.Iw(I,J);X.ob();Q.ef(!0);ba.yE();
Q.ef(!1);Z.push(ba)}}return Z}Pb(){return this.sg}wa(){return this.Ca}qE(z){this.Ia=z}Da(){return this.Ia}F(){return this.g}Rj(){return this.g.Rj()}zh(){this.Rs();return this.Sg}Rs(){const z=this.op();if(this.Jk||z!==this.Su){var F=this.Ga.vf;this.Sg.fB(F.map(I=>I.mf()),{er:F.map(I=>I.Da()),zA:!z,SA:!0});this.Jk=!1;this.Su=z}}Og(){this.Ga.Og();this.Jk=!0}Kn(){return this.R$&&!this.RR}c1(){this.ez=!1}Rc(){for(const z of this.ZS())if(!z.vq)return!1;return!0}ej(z){z=!!z;this.vq!==z&&(this.vq=z,this.g.Y())}T0(z){this.cz=
!!z}pZ(){for(const z of this.ZS())if(!z.cz)return!1;return!0}xs(z){z=!!z;if(this.zk!==z){if(this.zk=z)z=this.Pb(),this.ih=z.kf(),this.jh=z.lf();this.Gl();this.g.Y()}}Nh(z){var F=this.Pb();const I=F.lK();F=F.mK();z>F&&(z=F);z<I&&(z=I);this.ih!==z&&(this.ih=z,this.zk&&(this.Gl(),this.g.Y()))}Oh(z){var F=this.Pb();const I=F.nK();F=F.kK();z>F&&(z=F);z<I&&(z=I);this.jh!==z&&(this.jh=z,this.zk&&(this.Gl(),this.g.Y()))}kf(){return this.zk?this.ih:this.Pb().kf()}lf(){return this.zk?this.jh:this.Pb().lf()}TD(){const z=
this.Pb();return[z.WB(),z.XB()]}hf(){return this.g.hf()}uK(z,F){var I=this.WR;if(0===z)F.ia(I);else{let S=I.kr(),T=I.lr();var J=this.MJ(z);const Z=I.width()/J;I=I.height()/J;const [X,ba]=this.TD();if(.5!==X||.5!==ba){const Y=this.Fr();var M=this.g,Q=this.hf()/Y;J=(X-.5)*M.Kf/Q;M=(ba-.5)*M.ye/Q;Q=this.Ta();0!==Q&&(q.set(J,M),q.rotate(Q),J=q.ba,M=q.W);z=f.RA(Y,0,z);S+=f.Kd(J,0,z);T+=f.Kd(M,0,z)}F.set(S-Z/2,T-I/2,S+Z/2,T+I/2)}}qd(){return this.Ya.Qa}Lh(z){z=f.ja(z,0,1);this.Ya.Qa!==z&&(this.Ya.mr(z),
this.oP(),this.g.Y())}oP(){this.Kz.ia(this.Ya);this.Kz.EI()}RB(){return this.Kz}op(){return this.Ya.xA(1,1,1,1)}d1(z){this.hm!==z&&(this.hm=z,this.Gl(),this.g.Y())}$0(z,F){if(this.Se!==z||this.Te!==F)if(this.Se=z,this.Te=F,this.Gl(),this.g.Y(),1!==this.Se||1!==this.Te)for(const I of this.D)I.G().nE(!0)}Ie(z){this.Lc!==z&&(this.Lc=z,this.g.Y())}Xa(){return this.Lc}vd(z){z=f.Zd(z);this.wf!==z&&(this.wf=z,this.Gl(),this.g.Y())}Ta(){return f.Zd(this.sg.Ta()+this.wf)}WX(){return 0<this.D.length}RD(){return this.OC()&&
this.RR?(f.xc(G,this.D),G.sort((z,F)=>this.I8(z,F)),G):this.D}XM(z){f.Am(z,this.RD());for(const F of this.km)F.Rc()&&0<F.qd()&&F.XM(z)}I8(z,F){var I=this.Pb().yP,J=I[0],M=I[1];I=I[2];var Q=z.A();const S=F.A();F=Q.Aa()-J;z=Q.Ba()-M;Q=Q.Xa()-I;J=S.Aa()-J;M=S.Ba()-M;I=S.Xa()-I;return J*J+M*M+I*I-(F*F+z*z+Q*Q)}q1(z){z=!!z;this.tj!==z&&(this.tj=z,this.g.Y())}N0(z){z=!!z;this.$F!==z&&(this.$F=z,this.g.Y())}vL(){return!this.F().Wk||!this.E$}OC(){return!this.vL()}np(){return this.OC()&&this.Pb().b$}XC(){if(!this.np())return!1;
for(const z of this.km)if(!z.XC())return!1;return!0}Xf(z){this.ig!==z&&(this.ig=z,this.g.Y())}Ji(){return this.ig}RX(){for(const z of this.km)if(z.$w())return!0;return!1}*YS(){for(const z of this.km)yield*z.YS();yield this}*AI(){let z=this.hR;for(;z;)yield z,z=z.hR}*ZS(){yield this;yield*this.AI()}uZ(z){return this===z||this.Se===z.Se&&this.Te===z.Te&&this.Ed===z.Ed&&this.hm===z.hm&&this.wf===z.wf&&this.kf()===z.kf()&&this.lf()===z.lf()}a7(z){0!==z.size&&0<f.Lf(this.D,z)&&(this.mO(),this.bg())}bg(){this.ez=
this.RH=!1}at(){if(!this.RH){this.D.sort(w);if(this.Kn())for(let z=0,F=this.D.length;z<F;++z){const I=this.D[z].A();I.Lx(z);this.Kq.LZ(I.qu)}else for(let z=0,F=this.D.length;z<F;++z)this.D[z].A().Lx(z);this.RH=!0}}RZ(z,F,I){var J=z.A();F=F.A();if(J.$()!==this||F.$()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Ui();F=F.Ui();if(J===F+(I?1:-1))return!1;f.aaa(this.D,J);J<F&&F--;I&&F++;F===this.D.length?this.D.push(z):this.D.splice(F,0,z);this.bg();return!0}e6(z,F){const I=
[];let J=0,M=0,Q=z.length,S=F.length;for(;J<Q&&M<S;){const T=z[J],Z=F[M];T.A().Hj<Z.A().Hj?(I.push(T),++J):(I.push(Z),++M)}for(;J<Q;++J)I.push(z[J]);for(;M<S;++M)I.push(F[M]);return I}d6(z){const F=[],I=z.length;for(let J=0;J<I-1;J+=2)F.push(this.e6(z[J],z[J+1]));1===I%2&&F.push(z[I-1]);return F}c6(z){for(;1<z.length;)z=this.d6(z);return z[0]}Q4(){this.at();f.C(e);this.Kq.Mw(this.Jf,e);return e.length?1===e.length?e[0]:this.c6(e):[]}$w(){return this.Rc()&&0<this.qd()&&this.tN()}tN(){if(this.WX()||
!this.tj)return!0;for(const z of this.km)if(z.tN())return!0;return!1}Es(){return this.$F||!this.op()||0!==this.Ji()||this.Ga.Zr()}YC(){if(this.Es())return!0;for(const z of this.km)if(z.YC())return!0;return!1}Ri(){return this.oe}MJ(z){if(this.sg.Pe)return 1;{const F=this.Fr();return F/(F-z)}}Fr(){return this.hf()/this.Dh()}Gl(){this.kz=this.fG=!0}wx(z){this.fG&&(this.I2(z,this.ku),this.fG=!1);return this.ku}y4(){var z=this.g,F=this.Pb(),I=z.Dz,J=z.Ez;I=(this.kf()-I)*this.Se+I;var M=(this.lf()-J)*this.Te+
J;z.uo&&(I=Math.round(I),M=Math.round(M));J=I+0;I=M+0;F=F.Pe?this.hf():this.Fr();const [Q,S]=this.TD();if(.5!==Q||.5!==S){var T=this.hf()/F;M=(Q-.5)*z.Kf/T;z=(S-.5)*z.ye/T;T=this.Ta();0!==T&&(q.set(M,z),q.rotate(T),M=q.ba,z=q.W);J+=M;I+=z}return[J,I,F]}I2(z,F){const I=this.g;var J=this.Pb();if(this.np()){g.ia(p,J.yP);g.ia(r,J.B9);g.ia(u,J.C9);J=I.Dz;const M=I.Ez,Q=r[0]-p[0],S=r[1]-p[1],T=r[2]-p[2];p[0]=(p[0]-J)*this.Se+J;p[1]=(p[1]-M)*this.Te+M;p[2]*=Math.max(this.Se,this.Te);r[0]=p[0]+Q;r[1]=p[1]+
S;r[2]=p[2]+T}else{const [M,Q,S]=this.y4();g.set(p,M,Q,S);g.set(r,M,Q,S-100);J=this.Ta();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.dJ(F,p,r,u,I.ye)}u8(){this.kz=this.hG=!0}xx(z){this.hG&&(this.J2(z),this.hG=!1);return this.wj}J2(z){const F=this.g.K,[I,J]=this.TD();this.sg.Pe?z.jU(this.wj,F.Mi(),F.Li()):.5===I&&.5===J?h.ia(this.wj,F.ny):z.Mm(this.wj,F.Mi()/F.Li(),I,J)}Jx(z){z.Dn(this.xx(z));let F;F=this.wx(z);z.Fp(F)}F_(z){this.Jx(z);z.Bp(this.Xa())}Hi(z,F,I){var J=this.g.K;const M=
this.Es();var Q=null;let S=null;if(this.g.pC()&&z.Ih()){const T=J.dK(this);T&&(S=T.aB(),z.rD(S))}M?(Q={bl:this.g.md},"low"===J.Wg&&(Q.width=J.Mi(),Q.height=J.Li()),this.oe=Q=this.g.Dr(Q),z.$f(Q),this.tj&&z.Pm()):(this.oe=F,z.$f(F));this.tj||z.bd(this.sk);this.sg.rN(z,this.oe,this.km,M&&this.tj);this.Jx(z);z.Bp(this.Xa());z.Zf(this.OC());this.Dh()>Number.EPSILON&&(this.at(),J=this.Kn()&&0===this.Xa()&&!this.Un,this.np()?this.T3(z):J?this.U3(z):this.qN(z,this.RD()));z.Bp(0);z.ts(0);M&&(z.Zf(!1),this.V3(z,
Q,F,I));S&&z.uB(S);this.oe=null}qN(z,F){const I=this.Jf,J=this.oe,M=this.Pb().Pe,Q=this.Pb().zK();let S=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===S)continue;S=X;const ba=X.A();ba.Rc()&&ba.NK(I,Q,M)&&this.lk(X,ba,z,J)}}T3(z){const F=this.oe,I=this.Op(),J=this.RD();for(let T=0,Z=J.length;T<Z;){var M=J[T],Q=M.A();if(!Q.Rc()||!Q.rp(I)){++T;continue}(!M.Ap()||0<Q.Dc)&&A.push(M);var S=M.A().Kg();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.A();if(Y.Rc()&&Y.rp(I)){if(Y.Kg()!==S)break;
ba.Ap()?(0<Y.Dc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].aL()){this.Q3(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],Q=M.A(),Q.Hx(!0),this.lk(M,Q,z,F),Q.Hx(!1)}else{this.lk(M,Q,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)Q=A[ba],Q!==M&&(S=Q.A(),S.$().lk(Q,S,z,F))}T=X;f.C(y);f.C(A)}}Q3(z,F){const I=this.oe;z.pJ();for(let Q=0,S=F.length;Q<S;++Q){var J=F[Q],M=J.A();M.Fx(!0);this.OD(J,M,z)}z.oJ();for(let Q=0,S=F.length;Q<S;++Q)J=F[Q],M=J.A(),this.lk(J,M,z,I),M.Fx(!1);z.nJ()}U3(z){var F=this.Kq;
const I=this.J9,J=this.k$,M=this.Jf;I.set(F.Sh(M.O),F.Th(M.L),F.Sh(M.X),F.Th(M.U));this.ez&&I.Xc(J)?F=this.lG:(F=this.Q4(),this.ez=!0,J.ia(I));this.qN(z,F);F!==this.lG&&f.xc(this.lG,F)}lk(z,F,I,J){F.Zr()?this.S3(z,F,I,J):this.OD(z,F,I)}OD(z,F,I){F=F.Lo;I.ci!==F&&F.ST();z.Hi(I)}S3(z,F,I,J){this.R3(z,F,I,J)&&this.Jx(I)}R3(z,F,I,J){const M=F.Bf.zh();M.zn(I,J,{sA:z,Bm:F.Ji(),devicePixelRatio:this.g.Jr(),cv:this.g.Kr()*this.Dh(),FA:this.Ta(),jr:F.Oc(),Yu:M.ot?null:this.n5(F),sS:null,lS:null,mS:null,pT:null});
I.Bp(this.Xa());return M.Pl}V3(z,F,I,J){const M=this.g;0===this.Ga.vf.length?(z.$f(I),z.dj(),J&&0===this.ig&&this.op()?z.qJ(F):(z.Xf(this.ig),z.yl(this.Kz),z.Mv(F)),z.pp(F),M.xn(F)):this.zh().zn(z,I,{sA:this,Bm:this.Ji(),devicePixelRatio:M.Jr(),cv:M.Kr()*this.Dh(),FA:this.Ta(),jr:this.Jf,Yu:null,nI:!0})}jM(z){this.Ed!==z&&(this.Ed=z,this.sg.xv(),this.Gl(),this.g.Y())}jp(){return this.Dh()*this.g.jp()}Ki(){return this.Dh()*this.g.Ki()}Dh(){return(this.Ed*this.sg.Ed-1)*this.hm+1}xD(){var z=this.g.Dz,
F=this.g.Ez,I=(this.kf()-z)*this.Se+z,J=(this.lf()-F)*this.Te+F;z=this.Dh();F=this.g.Kf/z;z=this.g.ye/z;I-=F/2;let M=J-z/2;this.g.uo&&(I=Math.round(I),M=Math.round(M));J=this.WR;J.set(I,M,I+F,M+z);F=this.Ta();0!==F&&(a.ia(J),a.offset(-J.kr(),-J.lr()),b.rba(a,F),b.jI(a),a.offset(J.kr(),J.lr()),J.ia(a));F=this.Lc;this.uK(F,this.Jf);this.np()?this.mU(F,this.ym):this.ym.ia(this.Jf)}mU(z,F){var I=this.g.K,J=I.Uc;I=I.Cc;const [M,Q]=this.Nm(0,0,z),[S,T]=this.Nm(J,0,z),[Z,X]=this.Nm(J,I,z),[ba,Y]=this.Nm(0,
I,z);z=Math.min(M,S,Z,ba);J=Math.min(Q,T,X,Y);I=Math.max(M,S,Z,ba);let va=Math.max(Q,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(I)||(I=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,I,va)}Nm(z,F,I=0){return this.M2(z,F,I,this.Ki())}M2(z,F,I,J){const M=this.g;var Q=M.bb();const S=this.Dh();n.set(m,0,0,M.Kf/S,M.ye/S);z/=J;F=m[3]-F/J;J=this.xx(Q);Q=this.wx(Q);return f.H.S1(z,F,I,Q,J,m,l)?[l[0],l[1]]:[NaN,NaN]}tn(z,F){return this.fO(z,F,0,this.Ki())}Xi(z,F,I=0){return this.fO(z,
F,I,this.jp()*this.Rj())}fO(z,F,I,J){var M=this.g,Q=M.bb();const S=this.Dh();n.set(m,0,0,M.Kf/S,M.ye/S);M=this.xx(Q);Q=this.wx(Q);return f.H.H_(z,F,I,Q,M,m,l)?[l[0]*J,(m[3]-l[1])*J]:[NaN,NaN]}n5(z){var F=z.Oc(),I=z.Kg();z=z.Dc;const J=I+z,M=F.O,Q=F.L,S=F.X;F=F.U;if(this.np()){if(this.El(M,Q,I)||this.El(S,Q,I)||this.El(S,F,I)||this.El(M,F,I)||0<z&&(this.El(M,Q,J)||this.El(S,Q,J)||this.El(S,F,J)||this.El(M,F,J)))return null}else if(J>=this.Fr())return null;let [T,Z]=this.Xi(M,Q,I),[X,ba]=this.Xi(S,
F,I);if(0!==this.Ta()||0<z){const [Y,va]=this.Xi(S,Q,I),[ta,ya]=this.Xi(M,F,I);if(0<z){const [Na,Sa]=this.Xi(M,Q,J),[Ta,Ua]=this.Xi(S,Q,J),[Wa,eb]=this.Xi(S,F,J),[fb,Pa]=this.Xi(M,F,J);I=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=I;I=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=I}else I=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=I,I=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=I}a.set(T,Z,X,ba);return a}Op(){this.kz&&(this.f9(),this.kz=!1);return this.VR}f9(){var z=
this.g.bb();const F=this.xx(z);z=this.wx(z);this.VR.kU(z,F)}El(z,F,I){return this.Op().$Y(z,F,I)}aa(){return{s:this.Ed,a:this.wf,vl:this.Jf.O,vt:this.Jf.L,vr:this.Jf.X,vb:this.Jf.U,v:this.vq,i:this.cz,bc:this.sk.toJSON(),t:this.tj,sx:this.ih,sy:this.jh,hosp:this.zk,px:this.Se,py:this.Te,c:this.Ya.toJSON(),sr:this.hm,fx:this.Ga.Nd(),cg:this.ky}}da(z){this.Ed=z.s;this.wf=z.a;this.Jf.set(z.vl,z.vt,z.vr,z.vb);this.vq=!!z.v;this.cz=z.hasOwnProperty("i")?z.i:!0;this.sk.dl(z.bc);this.tj=!!z.t;z.hasOwnProperty("sx")&&
(this.ih=z.sx);z.hasOwnProperty("sy")&&(this.jh=z.sy);z.hasOwnProperty("hosp")&&(this.zk=!!z.hosp);this.Se=z.px;this.Te=z.py;this.Ya.dl(z.c);this.hm=z.sr;f.xc(this.ky,z.cg);f.xc(this.rj,this.IR);const F=new Set(this.ky);let I=0;for(let J=0,M=this.rj.length;J<M;++J)F.has(this.rj[J][2])||(this.rj[I]=this.rj[J],++I);f.Ae(this.rj,I);this.Ga.td(z.fx);this.Jk=!0;this.vE(!1);this.bg()}wM(z){if(!this.D.includes(z))if(z.Fe()){var F=[...z.Ij()];F.push(z);F.sort((J,M)=>{J=J.A().kp();M=M.A().kp();return J-M});
for(var I of F)if(I.Qb())for(const J of I.nd)F.includes(J)||(z=[...J.Ij()],z.push(J),z.sort((M,Q)=>{M=M.A().kp();Q=Q.A().kp();return M-Q}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.eg(J,!0)}else if(this.eg(z,!0),z.Qb())for(F of z.nd)if(I=[...F.Ij()],I.push(F),I.sort((J,M)=>{J=J.A().kp();M=M.A().kp();return J-M}),I&&I.length)for(const J of I)this.eg(J,!0)}}}
{"use strict";const f=self.B,a=self.Nf;f.j(f.Rect);f.j(f.Rect);const b=f.j(f.Rect),e=f.j(f.Wa),c=self.Ci.TA,g=[],n=[],h=[],l=[];let m=null;function p(r,u){m!==r&&(r.F_(u),m=r)}f.zZ=class extends f.Z{constructor(r,u,q){super();this.Va=r;this.g=r.F();this.Ca=q[0];this.A$=q[1];this.z$=q[2];this.S=q[1];this.R=q[2];this.jz=!!q[3];this.Pe=!!q[4];this.nA=q[5];this.oA=q[6];this.NP=q[7];this.Fc=null;this.cb=q[8];this.Ia=u;this.jh=this.ih=0;this.Ed=1;this.wf=0;this.sq=new Set;this.zg=new Set;this.Fu=new Set;
this.eq=[];this.OF=[];this.b$=!1;this.yP=c.create();this.B9=c.create();this.C9=c.create();this.Rz=[];this.Mb=[];this.QQ=new Map;this.RQ=new Map;const v=this.g.K;this.Ga=f.j(f.Nj,this,q[11]);this.Sg=f.j(f.H.ae,v.nF,{wA:(w,y)=>{y=y.Nl.Ri();w.rs();w.Mv(y);w.pp(y);v.xn(y)},BA:w=>this.Ga.Sj(w)});this.Jk=!0;this.YR=!1;this.oe=null;this.Do={};this.to=!0;this.Jt=new self.iY(this);this.Id=f.j(f.Event.dc);for(const w of q[9])this.Rz.push(f.j(f.TK,this,null,w));this.Mb=[...this.SH()];for(let w=0,y=this.Mb.length;w<
y;++w)r=this.Mb[w],r.qE(w),r.fg(),this.QQ.set(r.wa().toLowerCase(),r),this.RQ.set(r.cb,r);for(const w of q[10]){q=this.g.De(w[1]);if(!q)throw Error("missing nonworld object class");q.gq||q.TL(w);this.OF.push(w);this.QM(q)}}m(){for(const r of this.Mb)r.m();f.C(this.Mb);this.Fu.clear();this.g=this.Va=this.Fc=null}F(){return this.g}wa(){return this.Ca}Da(){return this.Ia}zh(){this.Rs();return this.Sg}Rs(){const r="low"===this.g.K.Wg;if(this.Jk||this.YR!==r){var u=this.Ga.vf;this.Sg.fB(u.map(q=>q.mf()),
{er:u.map(q=>q.Da()),fI:r,SA:!0});this.Jk=!1;this.YR=r}}Og(){this.Ga.Og();this.Jk=!0}fK(){let r=this.Mb[0].Dh();for(let u=1,q=this.Mb.length;u<q;++u){const v=this.Mb[u];if(0!==v.Se||0!==v.Te)r=Math.min(r,v.Dh())}return r}PN(){return.5*this.g.Kf/this.fK()}QN(){return.5*this.g.ye/this.fK()}lK(){return this.jz?-Infinity:this.PN()}mK(){return this.jz?Infinity:this.pa()-this.PN()}nK(){return this.jz?-Infinity:this.QN()}kK(){return this.jz?Infinity:this.ma()-this.QN()}Nh(r){const u=this.lK(),q=this.mK();
r>q&&(r=q);r<u&&(r=u);this.ih!==r&&(this.ih=r,this.ij(),this.g.Y())}kf(){return this.ih}Oh(r){const u=this.nK(),q=this.kK();r>q&&(r=q);r<u&&(r=u);this.jh!==r&&(this.jh=r,this.ij(),this.g.Y())}lf(){return this.jh}xv(){this.Nh(this.kf());this.Oh(this.lf());for(const r of this.Mb)r.zk&&(r.Nh(r.kf()),r.Oh(r.lf()))}t1(r,u){if(this.nA!==r||this.oA!==u)this.nA=r,this.oA=u,this.lZ()&&(this.Tp(),this.ij(),this.g.Y())}WB(){return this.Pe?.5:this.nA}XB(){return this.Pe?.5:this.oA}zK(){const r=this.WB(),u=this.XB();
return 0>r||1<r||0>u||1<u}lM(){this.Pe&&(this.Pe=!1,this.Tp(),this.ij(),this.g.Y())}iM(){this.Pe||(this.Pe=!0,this.Tp(),this.ij(),this.g.Y())}lZ(){return!this.Pe}nM(r){this.Ed!==r&&(this.Ed=r,this.ij(),this.xv(),this.g.Y())}vd(r){r=f.Zd(r);this.wf!==r&&(this.wf=r,this.ij(),this.g.Y())}Ta(){return this.wf}pa(){return this.S}hk(r){!isFinite(r)||1>r||(this.S=r)}ma(){return this.R}fk(r){!isFinite(r)||1>r||(this.R=r)}*SH(){for(const r of this.Rz)yield*r.YS()}$(r){return"number"===typeof r?this.OB(r):this.cK(r.toString())}OB(r){r=
f.ja(Math.floor(r),0,this.Mb.length-1);return this.Mb[r]}cK(r){return this.QQ.get(r.toLowerCase())||null}ew(r){return this.RQ.get(r)||null}Tp(){for(const r of this.Mb)r.u8()}ij(){for(const r of this.Mb)r.Gl()}lX(){let r=this.Rz.filter(u=>u.$w())[0];for(;r;){if(!r.tj)return e.yi(r.sk),e.mr(1),e;if(r.Es())return e.Hm(0,0,0,0),e;r=r.km.filter(u=>u.$w())[0]}e.Hm(0,0,0,0);return e}HN(){return[...this.sq]}QM(r){if(r.Qb())for(const u of r.lg.Mk)this.sq.add(u);else this.sq.add(r)}W4(){return[...this.zg]}XD(r,
u){if(r===this||!u)return Promise.resolve();r&&(f.GU(this.zg,r.zg),r.zg.clear());r=[];for(const q of this.sq)this.zg.has(q)||(r.push(q.gs(u)),this.zg.add(q));return Promise.all(r)}async ZK(r){if(r.$a)throw Error("cannot load textures for family");var u=this.g.bb();!u||u.nn()||this.zg.has(r)||(this.zg.add(r),u=r.gs(u),this.v2(u),await u,r.GC(),this.g.Y())}v2(r){this.Fu.add(r);r.then(()=>this.Fu.delete(r)).catch(()=>this.Fu.delete(r))}c2(){return Promise.all([...this.Fu])}PZ(r){if(r.$a||0<r.D.length)throw Error("cannot unload textures");
this.g.bb()&&this.zg.has(r)&&(this.zg.delete(r),r.zp())}U8(r,u){if(r!==this&&u)for(const q of this.zg)q.qf()||r.sq.has(q)||(q.zp(),this.zg.delete(q))}Us(){this.zg.clear()}async fP(r){const u=this.g,q=this.Va,v=u.ca();this.NP&&(this.Fc=v.VJ(this.NP),this.Fc.zE());q.XO(this);this.S=this.A$;this.R=this.z$;this.ih=u.vg/2;this.jh=u.ug/2;this.xv();this.f6(r);this.Z2();this.to||this.b3();this.eN(this.eq);this.a3();q.wU();u.gd();const w=this.g.l9;await Promise.all(w);f.C(w);if(!u.Yg){for(const y of this.eq)y.y1();
for(const y of this.eq)y.hP()}f.C(this.eq);await Promise.all([...this.sq].map(y=>y.JC(this.g.bb())));r&&(u.dc().dispatchEvent(new f.Event("beforefirstlayoutstart")),await u.Tm(new f.Event("beforeprojectstart")));await this.Tm(new f.Event("beforelayoutstart"));u.Yg||await u.Od(f.M.Rb.ua.fL,null,null);await this.Tm(new f.Event("afterlayoutstart"));r&&(u.dc().dispatchEvent(new f.Event("afterfirstlayoutstart")),await u.Tm(new f.Event("afterprojectstart")));v.y7(q);await this.c2();this.Tp();this.ij();
this.to=!1}f6(r){for(const q of this.g.Ac)if(!q.$a&&q.rg)for(const v of q.fa()){const w=v.A();var u=w.$();u=f.ja(u.Da(),0,this.Mb.length-1);u=this.Mb[u];w.Xs(u);u.W5(v)}if(!r)for(const q of this.Mb)q.vE(!1)}Z2(){for(const r of this.Mb)r.LU(this.eq),r.xD()}b3(){let r=!1;for(const [q,v]of Object.entries(this.Do)){const w=this.g.hw(parseInt(q,10));if(w&&!w.$a&&w.bC()){for(const y of v){var u=null;if(w.rg&&(u=this.ew(y.w.l),!u))continue;u=this.g.yh(w,u,!1,0,0,!0);u.td(y);r=!0;this.eq.push(u)}f.C(v)}}for(const q of this.Mb)q.vE(!0),
q.bg();r&&(this.g.gd(),this.g.zO())}eN(r){for(const q of r){if(!q.Qb())continue;const v=q.A(),w=q.Xm();for(const y of q.G().lg.Mk)if(y!==q.G()){var u=y.fa();u.length>w?q.Lp(u[w]):(u=v?this.g.yh(y,v.$(),!0,v.Aa(),v.Ba(),!0):this.g.yh(y,null,!0,0,0,!0),this.g.gd(),y.Px(),q.Lp(u),r.push(u))}}}a3(){for(const r of this.OF)this.g.De(r[1]).Qb()||this.g.yh(r,null,!0)}X2(){const r=[],u=this.OF;let q=0;for(let v=0,w=u.length;v<w;++v){const y=u[v],A=this.g.De(y[1]);A.qf()?A.Qb()&&A.lg.SX()||r.push(this.g.yh(y,
null,!0)):(u[q]=y,++q)}f.Ae(u,q);this.g.gd();this.eN(r)}os(r,u,q,v,w,y){if(q)return q.os(r,u,v,w,y);q=[];for(const A of this.Mb)q.push(A.os(r,u,v,w,y));return q.flat()}async L8(){const r=this.Va;this.g.Yg||await this.g.Od(f.M.Rb.ua.j_,null,null);r.cM(!0);this.g.ca().Bv();this.to||this.J7();for(const u of this.Mb)u.f4();for(const u of this.g.Ac)if(!(u.qf()||u.rg||u.ub().Wl||u.$a)){for(const q of u.fa())this.g.Sm(q);this.g.gd()}r.cM(!1);r.Ib()===this&&r.XO(null)}G7(r){const u=r.G().cb.toString();this.Do.hasOwnProperty(u)||
(this.Do[u]=[]);this.Do[u].push(r.Nd())}J7(){for(const r of this.Mb){r.at();for(const u of r.D){const q=u.G();!q.qf()&&q.bC()&&this.G7(u)}}}h0(){this.Do={};this.to=!0}Ri(){return this.oe}Es(){const r=this.g,u=r.bb().Ih();return"low"===r.K.Wg||u&&r.kA||"low-latency"===r.cq||this.Ga.Zr()||u&&r.Wk}Hi(r){const u=this.g.K,q=this.Es();if(q){"low-latency"!==this.g.cq&&(r.$f(null),r.Pm());const v={bl:this.g.md,rI:this.g.kA||this.Ga.Zr()};"low"===u.Wg&&(v.width=u.Mi(),v.height=u.Li());this.oe=this.g.Dr(v)}else this.oe=
null;r.$f(this.oe);r.bd(this.lX());this.g.Wk&&r.tU();for(const v of this.Mb)v.xD();this.rN(r,this.oe,this.Rz,!0);q&&(r.Zf(!1),this.W3(r,this.oe));this.oe=null}rN(r,u,q,v){q=q.filter(w=>w.$w());for(let w=0,y=q.length;w<y;){const A=q[w];if(A.XC()&&!A.YC()){g.push(A);for(let G=w+1;G<y;++G){const z=q[G];if(z.XC()&&!z.YC())g.push(q[G]);else break}if(2<=g.length||1===g.length&&g[0].RX()){this.O3(r,u,g);w+=g.length;f.C(g);continue}f.C(g)}A.Hi(r,u,v&&0===w);++w}}W3(r,u){const q=this.g;0===this.Ga.vf.length?
(r.$f(null),r.dj(),r.qJ(u),r.pp(u),q.xn(u)):(b.set(0,0,q.Kf,q.ye),this.zh().zn(r,null,{sA:this,Bm:3,devicePixelRatio:this.g.Jr(),cv:this.g.Kr()*this.Ed,FA:this.Ta(),jr:b,Yu:null,nI:!0}))}O3(r,u,q){q[0].tj||(e.yi(q[0].sk),e.mr(1),r.bd(e));var v=this.g.K;r.Zf(!0);for(var w of q)w.at(),w.XM(n);w=q[0];q=null;this.g.pC()&&r.Ih()&&(v=v.dK(w))&&(q=v.aB(),r.rD(q));for(let z=0,F=n.length;z<F;){w=n[z];var y=w.A(),A=y.$();if(y.Rc()&&y.rp(A.Op())){(!w.Ap()||0<y.Dc)&&l.push(w);var G=w.A().Kg();h.push(w);for(v=
z+1;v<F;++v){const I=n[v],J=I.A();if(J.Rc()&&J.rp(J.$().Op())){if(J.Kg()!==G)break;I.Ap()?(0<J.Dc&&l.push(I),h.push(I)):l.push(I)}}if(1!==h.length||h[0].aL()){this.P3(r,u,h);for(let I=0,J=l.length;I<J;++I)w=l[I],y=w.A(),A=y.$(),y.Hx(!0),p(A,r),A.lk(w,y,r,u),y.Hx(!1)}else{p(A,r);A.lk(w,y,r,u);for(let I=0,J=l.length;I<J;++I)y=l[I],y!==w&&(A=y.A(),G=A.$(),p(G,r),G.lk(y,A,r,u))}z=v;f.C(h);f.C(l)}else++z}q&&r.uB(q);f.C(n);m=null}P3(r,u,q){r.pJ();for(let A=0,G=q.length;A<G;++A){var v=q[A],w=v.A(),y=w.$();
w.Fx(!0);p(y,r);y.OD(v,w,r)}r.oJ();for(let A=0,G=q.length;A<G;++A)v=q[A],w=v.A(),y=w.$(),p(y,r),y.lk(v,w,r,u),w.Fx(!1);r.nJ()}aa(){const r={sx:this.kf(),sy:this.lf(),s:this.Ed,a:this.Ta(),w:this.pa(),h:this.ma(),ortho:this.Pe,vpX:this.WB(),vpY:this.XB(),fv:this.to,persist:this.Do,fx:this.Ga.Nd(),layers:{}};for(const u of this.Mb)r.layers[u.cb.toString()]=u.aa();return r}da(r){this.ih=r.sx;this.jh=r.sy;this.Ed=r.s;this.wf=r.a;this.S=r.w;this.R=r.h;this.Pe=!!r.ortho;r.hasOwnProperty("vpX")&&(this.nA=
r.vpX);r.hasOwnProperty("vpY")&&(this.oA=r.vpY);this.to=!!r.fv;this.Do=r.persist;this.Ga.td(r.fx);this.Jk=!0;for(const [u,q]of Object.entries(r.layers))(r=this.ew(parseInt(u,10)))&&r.da(q);this.Tp();this.ij()}Gg(r){r.GA=this.Jt;var u=this.g;(u=u.mb&&!u.ca().es())&&a.qD();this.Id.dispatchEvent(r);u&&a.$A()}Tm(r){r.GA=this.Jt;return this.Id.eI(r)}}}
{"use strict";const f=self.B;f.AZ=class extends f.Z{constructor(a){super();this.g=a;this.Xh=[];this.tG=new Map;this.uG=new Map;this.hu=null;this.bH=[];this.By=null;this.$y=0;this.nu=null}m(){this.nu=this.By=this.hu=this.g=null;f.C(this.Xh);this.tG.clear();this.uG.clear();f.C(this.bH)}Ja(a){a=f.j(f.zZ,this,this.Xh.length,a);this.Xh.push(a);this.tG.set(a.wa().toLowerCase(),a);this.uG.set(a.cb,a)}F(){return this.g}K0(a){this.By=a}VW(){if(this.By)return this.By;if(this.Xh.length)return this.Xh[0];throw Error("no first layout");
}hp(a){return this.tG.get(a.toLowerCase())||null}PB(a){return this.uG.get(a)||null}mX(a){a=f.ja(Math.floor(a),0,this.Xh.length-1);return this.Xh[a]}Pb(a){return"number"===typeof a?this.mX(a):this.hp(a.toString())}XO(a){this.hu=a}Ib(){return this.hu}*ov(){this.hu&&(yield this.hu);this.bH.length&&(yield*this.bH)}cM(a){if(a)this.$y++;else{if(0>=this.$y)throw Error("already unset");this.$y--}}KK(){return 0<this.$y}Av(a){this.nu=a}wU(){this.nu=null}sp(){return!!this.nu}Cn(){const a=this.Ib();a&&a.Tp()}Bn(){const a=
this.Ib();a&&a.ij()}}}
{"use strict";const f=self.B;f.L1=class extends f.Z{constructor(a){super();this.g=a;this.Iu=f.j(f.dg);this.B$=null;this.lm=[];this.Ju=new Map;this.Lk=new Map;this.mm=new Map;this.xg=[];this.Dd=[];this.dh=[];this.Yt=this.aq=this.ko=!1;this.Sk=()=>this.C6();this.Sq=()=>this.D6();this.PE=()=>this.Ts();this.sG=()=>this.h6();this.SF=b=>this.tO(b.instance);this.CE=()=>this.eE();this.yt=[];this.wc=0}m(){this.X_();this.CE=this.SF=this.sG=this.PE=this.Sq=this.Sk=null;for(const a of this.lm)a.Je(),a.m();f.C(this.lm);
this.lm=null;this.Iu.m();this.Iu=null;f.C(this.xg);this.xg=null;f.C(this.Dd);this.Dd=null;f.C(this.dh);this.dh=null;this.Ju.clear();this.Ju=null;this.Lk.clear();this.Lk=null;this.mm.clear();this.mm=null;f.C(this.yt);this.g=this.yt=null}NT(){const a=this.g.dc();a.addEventListener("pretick",this.Sk);a.addEventListener("tick2",this.Sq);a.addEventListener("beforelayoutchange",this.PE);a.addEventListener("layoutchange",this.sG);a.addEventListener("instancedestroy",this.SF);a.addEventListener("afterload",
this.CE)}X_(){const a=this.g.dc();a.removeEventListener("pretick",this.Sk);a.removeEventListener("tick2",this.Sq);a.removeEventListener("beforelayoutchange",this.PE);a.removeEventListener("layoutchange",this.sG);a.removeEventListener("instancedestroy",this.SF);a.removeEventListener("afterload",this.CE)}Ja(a){this.Iu.Nc(a);a=f.Hn.KU(a,this);this.Nc(a);this.i1(a);this.mm.set(a.wa(),0)}nB(a){a=a.rK();var b=this.Iu.V(a);b=f.Hn.nB(`${a}:${this.mm.get(a)}`,b,this);this.XN(a);this.Nc(b);return b}XN(a){this.mm.set(a,
this.mm.get(a)+1)}Y7(){for(const a of this.lm)a.uq||this.XN(a.rK())}P2(){for(const a of this.mm.keys())this.mm.set(a,0)}Nc(a){this.lm.push(a);this.Ju.set(a.wa().toLowerCase(),a)}Lg(a){a.Pw();a.uq||(f.Jj(this.lm,a),f.Jj(this.xg,a),f.Jj(this.Dd,a),f.Jj(this.dh,a),this.Ju.delete(a.wa().toLowerCase()),this.Y_(a),a.wg||a.m())}ib(a){this.g.ib(a,this.B$,null)}F(){return this.g}pM(a,b){this.Lk.has(a)||this.Lk.set(a,new Set);this.Lk.get(a).add(b)}i1(a){for(const b of a.gK())this.pM(b,a)}Y_(a){for(const [b,
e]of this.Lk.entries())e.has(a)&&(e.delete(a),0===e.size&&this.Lk.delete(b))}HX(a){if(this.Lk.has(a))return this.Lk.get(a)}qw(a){return this.Ju.get(a.toLowerCase())||null}W_(a){f.Jj(this.Dd,a);this.Qs()}ML(a){this.Dd.includes(a)?(a.Gp(!0),a.Ip(!1),a.Yw(!1)):(a.Gp(!1),a.Ip(!0),a.Yw(!1),this.xg.includes(a)||this.xg.push(a));this.kO()}Gv(a){a.Gp(!1);a.Ip(!1);a.SC();f.Jj(this.xg,a);this.Qs()}iJ(a){a.Gp(!1);a.Ip(!1);this.Dd.includes(a)&&(a.Yw(!0),this.dh.push(a),f.Jj(this.Dd,a))}jJ(a){a.Gp(!1);a.Ip(!1);
a.Yw(!1);a.bj(1);f.Jj(this.Dd,a)}CU(a){this.iJ(a);a.SC()}C6(){if(!this.F().Yg&&this.ko&&!this.aq){for(this.Yt=!0;this.xg.length;){var a=this.xg.pop();a.zc();0!==a.wc&&(this.wc=1);this.Dd.push(a)}a=this.g.zt;var b=this.g.kq,e=this.g.Hd;for(let c=this.Dd.length-1;0<=c;c--)this.Dd[c].sf(a,e,b);this.Yt=!1;0!==this.wc&&this.F().Y()}}D6(){if(!this.F().Yg&&this.ko&&!this.aq){var a;for(let b=0,e=this.dh.length;b<e;b++){const c=this.dh[b];a||(a=new Set);c.Pw();this.lO(c);a.add(c)}if(a){f.Lf(this.dh,a);this.wc=
0;for(let b=0,e=this.Dd.length;b<e;b++)if(0!==this.Dd[b].wc){this.wc=1;break}}this.Qs()}}lO(a){a.wg||a.yK()&&a.xf&&a.Tl&&a.KJ()}kO(){this.ko||(this.ko=!0)}Qs(){this.dh.length||this.Dd.length||this.xg.length||this.Yt||(this.ko=!1)}Ts(){for(this.aq=!0;this.xg.length;)this.Gv(this.xg.pop());const a=new Set;for(const b of this.Dd)b.Ts()&&(b.Pw(),a.add(b));f.Lf(this.Dd,a);a.clear();for(const b of this.dh)b.Ts()&&(b.Pw(),a.add(b));f.Lf(this.dh,a);this.Qs();for(const b of this.lm)b.Fi()}h6(){this.aq=!1}tO(a){var b=
a.G();if(b=this.HX(b))if(this.g.Yg)this.yt.push(a);else for(const e of b)e.uq||(e.wg?this.Lg(e):e.yK()||(this.lO(e),this.Lg(e)))}eE(){for(const a of this.yt)this.tO(a);f.C(this.yt)}aa(){return{timelinesJson:this.O7(),scheduledTimelinesJson:this.M7(),playingTimelinesJson:this.K7(),markedForRemovalTimelinesJson:this.I7(),hasRuntimeListeners:this.ko,changingLayout:this.aq,isTickingTimelines:this.Yt}}da(a){a&&(this.P2(),this.Q5(a.timelinesJson),this.N5(a.scheduledTimelinesJson),this.L5(a.playingTimelinesJson),
this.K5(a.markedForRemovalTimelinesJson),this.ko=!a.hasRuntimeListeners,this.aq=!!a.changingLayout,this.Yt=!!a.isTickingTimelines,this.Y7(),this.kO(),this.Qs())}O7(){return this.lm.map(a=>a.aa())}Q5(a){for(const b of a){a=this.qw(b.name);if(!a){a=this.T4(b);if(!a)continue;a=this.qw(a);a=this.nB(a)}a.da(b);a.aY()||this.Lg(a)}}T4(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}M7(){return this.mE(this.xg)}N5(a){this.$D(a,this.xg)}K7(){return this.mE(this.Dd)}L5(a){this.$D(a,this.Dd)}I7(){return this.mE(this.dh)}K5(a){this.$D(a,
this.dh)}v5(a,b){if(!b)return!1;for(const e of b)if(e===a.wa())return!0;return!1}mE(a){return a.map(b=>b.wa())}$D(a,b){var e=new Set;for(const c of b)this.v5(c,a)||e.add(c);f.Lf(b,e);if(a){e=c=>g=>g.wa()===c;for(const c of a)(a=this.qw(c))&&(b.find(e(c))||b.push(a))}}}}
{"use strict";const f=self.B;f.Hn=class extends f.Z{constructor(a,b,e){super();this.g=e.F();this.yb=e;this.pd=b;this.Ca=a;this.ab=[];this.PR=0;this.Wp=null;this.uP=0;this.xJ();this.Hz=this.ou=null;this.Hb=0;this.Gc=1;this.ld=0;this.kd=1;this.Tl=this.Dk=this.dz=!1;this.xf=!0;this.yz=this.wg=!1;this.bq=-1;this.pe=this.ho=this.uq=this.Oy=!1;this.mz=NaN;this.yg=[""];this.JR="";this.tH=!1;this.Ky=this.wc=0}static KU(a,b){const e=b.Iu.V(a[0]);a=f.j(f.Hn,a[0],e,b);a.U0();return a}static nB(a,b,e){return f.j(f.Hn,
a,b,e)}m(){if(!this.wg){this.yb.Gv(this);this.yb.CU(this);for(const a of this.ab)a.m();f.C(this.ab);this.pd=this.yb=this.g=this.ab=null;this.wg=!0;this.Hz=this.ou=null}}xJ(){for(const a of this.pd.Wr().jT())this.PR=this.ab.push(f.wD.Ja(this,a))}F(){return this.g}Sr(a,b,e){if(this.Ky){var c;for(let n=0;n<this.ab.length;n++){var g=this.ab[n];a===g.qa()&&(g=g.jf(e))&&b.constructor===g.pb().constructor&&(c||(c=[]),c.push(g))}return c}}aY(){return!!this.ab.length}Zw(a){this.Ca=a}wa(){return this.Ca}rK(){return this.pd.wa()}Zc(){return this.pd.Zc()}Tr(){return this.pd.Tr()}Bh(){return this.pd.Bh()}Ld(){return this.pd.Ld()}aj(a){for(const b of this.ab)b.aj(a)}fw(){return this.pd.fw()}jw(){return this.pd.jw()}Jg(){return this.pd.Jg()}bj(a){this.Gc=
a}Fh(){return this.IsPlaying()?0<this.Gc:!0}hK(){this.ou||(this.ou=new Promise(a=>{this.Hz=a}))}SC(){this.ou&&(this.Hz(),this.Hz=this.ou=null)}oM(a){this.yg=f.Hn.S4(a);this.tH=!0}iL(){f.M.sc.ua.En(this);this.yb.ib(f.M.sc.ua.vfa);this.yb.ib(f.M.sc.ua.wfa);this.yb.ib(f.M.sc.ua.xfa);this.yb.ib(f.M.sc.ua.lfa);f.M.sc.ua.En(null)}EC(){this.bq=this.g.zj}KJ(){this.ho||(this.ho=!0,f.M.sc.ua.En(this),this.yb.ib(f.M.sc.ua.sfa),this.yb.ib(f.M.sc.ua.tfa),this.yb.ib(f.M.sc.ua.ufa),this.yb.ib(f.M.sc.ua.kfa),f.M.sc.ua.En(null))}Gp(a){this.dz=
a}HK(){return this.bq===this.g.zj}IsPlaying(a=!1){return this.HK()||this.Dk&&!a?!0:this.dz}Rp(){return this.IsPlaying(!0)}Ip(a){this.Dk=a}SL(a){this.xf=a;a=this.ra();if(0>=a||a>=this.Zc())this.xf=!0}Yw(a){this.yz=a}dD(a){this.Oy=a}U0(){this.uq=!0}ra(){return this.Hb}Jp(a){const b=this.ra();this.xd(a);this.SL(!1);this.xf||this.dD(!0);if(this.Rp()||this.Dk||!this.Tl)this.Rp()||this.Dk||this.Tl?this.Rp()?this.Je():this.Dk&&(this.yb.Gv(this),this.aM()):this.aM();this.Zs();this.VD(this.ra(),!0,b);this.uE();
this.wc&&this.F().Y();this.wO()}xd(a){f.pf(a)||(a=this.Zc());this.Hb=0>a?0:a>=this.Zc()?this.Zc():a}pk(a){f.pf(a)||(a=this.Zc());this.Hb=0>a?0:a>=this.Zc()?this.Zc():a;for(const b of this.ab)b.Mh()}wO(){f.M.sc&&this.constructor===f.Hn&&(f.M.sc.ua.En(this),this.yb.ib(f.M.sc.ua.pfa),this.yb.ib(f.M.sc.ua.qfa),this.yb.ib(f.M.sc.ua.rfa),f.M.sc.ua.En(null))}Play(a=!1){return this.wg||this.Dk?!1:this.Rp()&&this.HK()?this.S7():this.Rp()||!this.xf&&!a&&!this.Oy?!1:this.T7()}S7(){this.dD(!1);this.yb.W_(this);
this.yb.ML(this);this.hK();return!0}T7(){this.dD(!1);this.yb.ML(this);this.hK();return!0}Je(a=!1){this.wg||(this.SL(a),this.yb.iJ(this),this.xf&&this.SC())}Sc(a=!0,b=!1){if(!this.wg)if(!this.Rp()&&this.Dk)this.yb.Gv(this);else if(!this.xf){this.Je(!0);this.Fh()?this.xd(0):this.xd(this.Zc());var e=this.ra();this.Zs();b?this.o5(e):this.VD(e,!1);a&&this.wO();this.uE();this.wc&&a&&this.F().Y()}}EL(){this.Sc(!1,!0)}o5(a){this.VD(a,!1,NaN,!1,!0)}Ts(){if(this.wg)return!0;if(!this.F().Yg&&this.bY())return!1;
this.yb.jJ(this);this.F().Yg||this.EL();return!0}aM(){this.zc(!0)}zc(a){if(!this.yz){if(a){this.pe=this.Tl=!0;this.Zs();for(const b of this.ab)b.zc()}else if(this.Gp(!0),this.Ip(!1),this.iL(),this.xf){this.bq=-1;this.ld=0;this.kd=1;this.ho=this.xf=!1;this.pe=this.Tl=!0;this.Fh()?this.xd(0):this.xd(this.Zc());this.Zs();for(const b of this.ab)b.zc()}else{this.pe=!0;this.Zs();for(const b of this.ab)b.je()}this.uE()}}Zs(){this.Ky=0;for(const a of this.ab)a.Vl&&(this.Ky=1)}uE(){this.wc=0;for(const a of this.ab)a.Kx(),
0===this.wc&&1===a.wc&&(this.wc=1),this.Wp||1!==a.am||(this.Wp||(this.Wp=[]),this.uP=this.Wp.push(a))}sf(a,b){if(0!==a||0!==this.mz){this.mz=a;var e=this.Hb;b=e+a*b*this.Gc;a=this.pd.Wq;this.Hb=0>b?0:b>=a?a:b;var c=!1;b=!1;var g=this.fw(),n=this.jw();g||n?g&&!n?0<this.Gc?this.Hb>=a&&(this.pk(0),b=!0):0>=this.Hb&&(this.pk(a),b=!0):!g&&n?0<this.Gc?this.Hb>=a&&(this.xd(a),this.bj(-1*this.Gc),b=!0,1===this.ld?this.kd<this.Jg()?(this.kd++,this.ld=0):c=!0:0===this.ld&&(this.ld=1)):0>=this.Hb&&(this.xd(0),
this.bj(-1*this.Gc),b=!0,1===this.ld?this.kd<this.Jg()?(this.kd++,this.ld=0):c=!0:0===this.ld&&(this.ld=1)):g&&n&&(0<this.Gc?this.Hb>=a&&(this.xd(a),this.bj(-1*this.Gc),b=!0):0>=this.Hb&&(this.xd(0),this.bj(-1*this.Gc),b=!0)):0<this.Gc?this.Hb>=a&&(this.kd<this.Jg()?(this.kd++,this.pk(0),b=!0):(this.xd(a),c=!0)):0>=this.Hb&&(this.kd<this.Jg()?(this.kd++,this.pk(a),b=!0):(this.xd(0),c=!0));g=this.PR;if(c){for(c=0;c<g;c++)this.ab[c].WL();this.Je(!0);this.EC()}else{n=this.uP;for(c=0;c<n;c++)this.Wp[c].Lm();
if(1===this.Ky)for(c=0;c<g;c++){const h=this.ab[c],l=h.Ee(),m=e-l;0>this.Hb-l&&0<m?(this.Hb=0>l?0:l>=a?a:l,h.ta(l,!0,!1,b,this.pe,!1)):h.ta(this.Hb,!0,!1,b,this.pe,!1)}else for(c=0;c<g;c++)this.ab[c].ta(this.Hb,!0,!1,b,this.pe,!1);for(c=0;c<n;c++)this.Wp[c].Jm();this.pe&&(this.pe=!1)}}}VD(a,b=!1,e=NaN,c=!1,g=!1){for(var n of this.ab)n.Lm();for(const h of this.ab){n=a;if("number"===typeof e&&!isNaN(e)){const l=this.ra()-h.Ee(),m=e-h.Ee();0>l&&0<m&&(n=h.Ee(),this.xd(n))}h.ta(n,!1,b,!0,this.pe,g)}for(const h of this.ab)h.Jm();
this.pe&&c&&(this.pe=!1)}Pw(){if(!this.wg)for(const a of this.ab)a.ik()}Fi(){for(const a of this.ab)a.Fi()}xU(){for(const a of this.ab)a.vU()}j1(a,b){if(b)for(const e of this.ab)if(e.Gh()){if(a){if(e.Ym()!==a)continue}else if(e.VX())continue;e.R0(b);this.yb.pM(b.G(),this);break}}yK(){return this.ab.some(a=>a.Gh()?a.jB():!0)}bY(){return this.ab.some(a=>a.Gh()?a.jB()?(a=a.G())?a.qf():!1:!1:!1)}jf(a){for(const b of this.ab)for(const e of b.Na)if(e.la.Hc===a)return e}sK(a){for(const b of this.ab)if(a===
b.qa())return b;return null}gK(){const a=[];for(const b of this.ab)a.push(b.G());return a.filter(b=>b)}aa(){return{tracksJson:this.Q7(),name:this.Ca,playheadTime:this.ra(),playbackRate:this.Gc,pingPongState:this.ld,currentRepeatCount:this.kd,isPlaying:this.dz,isScheduled:this.Dk,initialStateSet:this.Tl,finishedTriggers:this.ho,complete:this.xf,released:this.wg,markedForRemoval:this.yz,completedTick:this.bq,implicitPause:this.Oy,isTemplate:this.uq,tags:this.yg.join(" "),stringTags:this.JR,tagsChanged:this.tH,
firstTick:this.pe}}da(a){a&&(this.R5(a.tracksJson),this.Ca=a.name,this.Hb=a.playheadTime,this.Gc=a.playbackRate,this.ld=a.pingPongState,this.kd=a.currentRepeatCount,this.dz=!!a.isPlaying,this.Dk=!!a.isScheduled,this.Tl=!!a.initialStateSet,this.ho=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.xf=!!a.complete,this.wg=!!a.released,this.yz=!!a.markedForRemoval,this.bq=a.completedTick,this.Oy=!!a.implicitPause,this.uq=!!a.isTemplate,this.yg=a.tags.split(" "),this.JR=a.stringTags,this.tH=
!!a.tagsChanged,this.pe=!!a.firstTick)}Q7(){return this.ab.map(a=>a.aa())}R5(a){a.forEach((b,e)=>{this.ab[e].da(b)});this.ab.filter(b=>b.jB())}static S4(a){if(f.mn(a))return a.slice(0);if(f.Hh(a))return a.split(" ")}}}
{"use strict";const f=self.B;f.wD=class extends f.Z{constructor(a,b){super();this.lh=a;this.Db=b;this.ve=b.Wr();this.Kk=this.Bk=NaN;this.Ma=this.Xb=null;this.Vl=0<b.Ee();this.bo=this.tq=!1;this.uj=null;this.Yb=this.Db.Oi().Yb;this.Na=[];this.vJ();this.am=this.wc=this.Fj=0}static Ja(a,b){return f.j(f.wD,a,b)}m(){this.Yb=null;for(const a of this.Na)a.m();f.C(this.Na);this.uj=this.Db=this.Ma=this.Xb=this.lh=this.Na=null}vJ(){for(const a of this.Db.rd().RS())this.Na.push(f.Ua.Ja(this,a))}ik(){for(const a of this.Na)a.ik()}Fi(){for(const a of this.Na)a.Fi();
this.Ma=this.Xb=null}kb(){return this.lh}F(){return this.lh.F()}kX(){return this.Yb?this.Yb:this.Yb=this.Db.Oi().Yb}jf(a){for(let b=0;b<this.Na.length;b++){const e=this.Na[b];if(e.la.Hc===a)return e}}js(){this.Xb||this.qa()}rl(){return this.Xb?!this.Xb.bs():!1}jB(){if(!this.Gh())return!1;const a=this.F().Ni(this.Mr());return a?!a.bs():!1}G(){if(this.Gh()){var a=this.QB();if(-1!==a)return this.F().De(a)}}vU(){this.Xb=null;this.Bk=-1;this.Ma=null;this.Kk=-1}VX(){return!!this.Xb}qa(){return this.Xb&&
this.rl()?this.Xb:this.Xb=this.F().Ni(this.Mr())}R0(a){if(this.Xb!==a){this.Fi();this.Xb=a;this.Kk=a.G().Da();this.Bk=a.Jc;this.Ma=a.A();for(const n of this.iba()){const h=n.wba;switch(n.hba.sd()){case "instance-variable":var b=a.G(),e=b.dX(n.name),c=b.bK(e);b=b.Nr(e);c===n.name&&b===n.type&&h.X1(e);break;case "behavior":var g=n.VH;e=this.G();c=a.G();b=h.Qf(c);g&&b&&(g=g.wa(),e.Er(g),c.Er(g),h.U1(b.cb))}}}}*iba(){for(const e of this.Na){var a=e.pb(),b=this.G();const c={hba:e,wba:a};switch(e.sd()){case "world-instance":c.ama=
e.la.Hc;break;case "instance-variable":a=a.gp();c.name=b.bK(a);c.type=b.Nr(a);break;case "effect":b=a.JB(b.Ga);c.kka=b;break;case "behavior":b=a.Qf(b);c.VH=b;break;case "plugin":c.Wla=b.ub()}yield c}}A(){if(this.Ma&&this.rl())return this.Ma;const a=this.qa();a&&(this.Ma=a.A());return this.Ma}Mr(){return this.Bk?this.Bk:this.Db.Mr()}Bh(){return this.Db.Bh()}Ld(){return this.Db.Ld()}Ym(){return this.Db.Ym()}Ee(){return this.Db.Ee()}Wj(){return this.Db.Wj()}aj(a){for(const b of this.kX())b.aj(a);for(const b of this.Na)b.aj(a)}Uj(){return this.Db.Uj()}ek(a){this.Db.ek(a)}QB(){return isNaN(this.Kk)?
this.Db.QB():this.Kk}nl(){this.qa();return this.Db.nl()}ml(){this.qa();return this.Db.ml()}Ti(){return this.Db.Ti()}wa(){return this.Db.wa()}Gh(){return 0===this.Ti()}Mh(){for(const a of this.Na)a.Mh()}zc(){this.js();if(this.rl()||!this.Gh()){var a=this.kb().Fh()?0:this.Wj();for(const b of this.Na)b.zc(a),0===this.Fj&&1===b.Fj&&(this.Fj=1),0===this.wc&&1===b.wc&&(this.wc=1);this.am=0;this.Na.some(b=>b.am)&&(this.am=1);this.uj=this.IN(a);this.bo=this.tq=!1;this.ta(a)}}je(){this.js();if(this.rl()||
!this.Gh()){this.lh.Fh();var a=this.lh.ra()-this.Ee();this.uj=this.IN(a);for(const b of this.Na)b.je(a)}}WL(){if(!(this.kb().xf||(this.js(),!this.rl()&&this.Gh()||this.Vl))){const a=this.lh.ra();a>=this.Ee()+this.Wj()?this.ta(this.Wj(),!0,!1,!0):0>=a&&this.ta(0,!0,!1,!0)}}Kx(){for(let a=0,b=this.Na.length;a<b;a++){const e=this.Na[a];e.Kx();0===this.Fj&&1===e.Fj&&(this.Fj=1);0===this.wc&&1===e.wc&&(this.wc=1)}}Lm(){const a=this.Na.length;for(let b=0;b<a;b++)this.Na[b].Lm()}ta(a,b=!1,e=!1,c=!1,g=!1,
n=!1){this.Xb||this.qa();const h=0===this.Db.oa;if(!((!this.Xb||this.Xb.bs())&&h||n&&h&&this.G().qf()||(a-=this.Ee(),0>a))){this.NZ(a,b);this.OZ(a,b,g);for(let l=0,m=this.Na.length;l<m;l++)this.Na[l].ta(a,e,c);this.MZ(a,b);0!==this.Fj&&(this.Ma||(this.Ma=this.Xb.A()),this.Ma&&this.Ma.ob())}}Jm(){const a=this.Na.length;for(let b=0;b<a;b++)this.Na[b].Jm()}NZ(a,b){if(b&&this.Vl&&!this.tq){if(this.kb().Fh()){if(0>a)return;for(const e of this.Na)e.ta(0,!1,!0)}else{if(a>this.Wj())return;for(const e of this.Na)e.ta(this.Wj(),
!1,!0)}for(const e of this.Na)e.zc();this.tq=!0}}MZ(a,b){if(b&&this.Vl&&!this.bo)if(this.kb().Fh()){if(a>=this.Wj()){for(const e of this.Na)e.ta(this.Wj(),!1,!0);this.bo=!0}}else if(0>=a){for(const e of this.Na)e.ta(0,!1,!0);this.bo=!0}}OZ(a,b,e){if(!e&&b&&f.M.sc){b=this.kb();e=this.uj.re;var c=this.uj.ra(),g=e?e.ra():b.Zc();if(a<=c||a>=g)this.uj=this.ve.XJ(a,this.Db),b.Fh()?e&&this.HC(this.uj):(a=this.uj.re)&&this.HC(a)}}IN(a){const b=this.ve.hX(a,this.Db);return b?b:this.ve.XJ(a,this.Db)}HC(a){const b=
this.kb();f.M.sc.ua.En(b);f.M.sc.ua.r1(a);a=b.yb;a.ib(f.M.sc.ua.jfa);a.ib(f.M.sc.ua.HC);f.M.sc.ua.En(null);f.M.sc.ua.r1(null)}IT(){return this.Db.Oi().DT()}$U(a){this.Db.Oi().ZU(a)}Kv(a){for(const b of this.Na)b.Kv(a)}An(){for(const a of this.Na)a.An()}wh(){this.js();if(this.rl()||!this.Gh())for(const a of this.Na)a.wh()}xh(){this.js();if(this.rl()||!this.Gh()){var a=!1;for(const b of this.Na){const e=b.xh();!a&&e&&(a=!0)}a&&(a=this.IT(),a.Jp(this.kb().ra()),a.aj("noease"),a.ek(!0),a.oM(""))}}aa(){var a=
this.qa();a=a?a.Jc:this.Mr();return{propertyTracksJson:this.L7(),lastKeyframeDataItemJson:this.H7(),initialStateOfNestedSet:this.tq,endStateOfNestedSet:this.bo,instanceUid:a}}da(a){a&&(this.M5(a.propertyTracksJson),this.J5(a.lastKeyframeDataItemJson),this.G5(a.instanceUid),this.tq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.tq=a.initialStateOfNestedSet),this.bo=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.bo=a.endStateOfNestedSet))}H7(){return this.Db.Oi().jX(this.uj)}L7(){return this.Na.map(a=>
a.aa())}M5(a){a.forEach((b,e)=>{this.Na[e].da(b)})}G5(a){if(f.pf(a)&&(a=this.F().Ni(a))){var b=this.kb();b.xU();b.j1(this.Db.Ym(),a)}}J5(a){this.uj=this.Db.Oi().iX(a)}}}
{"use strict";const f=self.B;f.Ua=class extends f.Z{constructor(a,b){super();this.gb=a;this.la=b;this.Zb=b.rd();this.am=this.wc=this.Fj=0;this.Yd=this.pb();this.Bb=this.la.Sf().Bb;this.bt=this.uc=null}static Ja(a,b){return f.j(f.Ua,a,b)}m(){this.gb=null;this.Yd&&(this.Yd.m(),this.Yd=null);this.Zb=this.la=this.Bb=null}ZB(){return!!this.bt}v0(a){this.bt=a}rd(){return this.Zb}kb(){return this.gb.kb()}F(){return this.gb.F()}qa(){return this.gb.qa()}pb(){if(this.Yd)return this.Yd;let a;switch(this.la.sd()){case "behavior":a=
new f.Ua.bU(this);break;case "effect":a=new f.Ua.gW(this);this.wc=1;break;case "instance-variable":a=new f.Ua.WY(this);break;case "plugin":a=new f.Ua.z_(this);this.wc=1;break;case "world-instance":a=new f.Ua.vn(this);this.Fj=this.wc=1;break;case "value":a=new f.Ua.Z1(this);break;case "audio":a=new f.Ua.ZT(this)}return this.Yd=a}sd(){return this.la.sd()}lw(){return this.la.Ti()}Qr(){return this.rd().aw(this.la).Ti()}Uj(){return this.la.Uj()}ek(a){this.la.ek(a)}Bh(){return this.la.Bh()}Ld(){return this.la.Ld()}aj(a){for(const b of this.kw())b.aj(a)}iB(){return this.la.iB()}kw(){return this.Bb?
this.Bb:this.Bb=this.la.Sf().Bb}ik(){this.pb().ik()}Fi(){this.pb().Fi()}de(){return this.pb().de()}Mh(){this.pb().Mh()}zc(a){this.pb().zc();this.uc=this.JN(a);this.Kx()}je(a){this.pb().je();this.uc=this.JN(a)}Kx(){var a=this.gb;this.am=0;if(a.Gh()){var b=this.kb();a=a.qa();const e=this.pb(),c=this.la.Hc;e.Yi()?(b=b.Sr(a,e,c))&&b.length&&(this.am=1):this.am=0}}JN(a){const b=this.kb(),e=this.Zb.AX(a,this.la);return e?e:b.Fh()?this.Zb.Ah(a,this.la):this.Zb.ZJ(a,this.la)}Lm(){this.Yd.Lm()}ta(a,b=!1,e=
!1){let c;if(b)var g=this.Zb.Ah(a,this.la);else{if(this.uc){var n=this.kb();const h=this.uc.re;g=this.uc.ra();n=h?h.ra():n.Zc();if(a<=g||a>=n)this.uc=this.Zb.Ah(a,this.la)}else this.uc=this.Zb.Ah(a,this.la);g=this.uc}g&&(c=g.re);this.Yd.ta(a,g,c,b,e)}ge(a){if(this.uc){var b=this.kb();const c=this.uc.re;var e=this.uc.ra();b=c?c.ra():b.Zc();if(a<=e||a>=b)this.uc=this.Zb.Ah(a,this.la)}else this.uc=this.Zb.Ah(a,this.la);e=this.uc;return this.Yd.ge(a,e,e.re)}Jm(){this.Yd.Jm()}static qK(a,b){return b.Zb.Ah(a,
b.la)}YI(){const a=this.la.Sf().XI();this.uc=null;return a}Kv(a){this.uc=null;this.la.Sf().CJ(a)}An(){this.pb().An()}wh(){if(this.pb().wh()){const a=this.Zb.aw(this.la),b=this.pb().de();a.NL(b)}}xh(){const a=this.pb().xh();a&&this.LT();this.pb().Ev();return a}LT(){const a=this.kb().ra(),b=this.pb(),e=f.Ua.qK(a,this),c=this.YI();c.qM(e.Ti());c.Jp(a);c.aj(e.ll());c.ek(!0);c.ke(b.VB());c.NL(b.de())}aa(){return{sourceAdapterJson:this.pb().aa()}}da(a){a&&this.pb().da(a.sourceAdapterJson)}}}
{"use strict";const f=self.B.Ua;f.vn=class{constructor(a){this.I=a;this.Ve=null;this.Rf()}m(){this.Ve&&(this.Ve.m(),this.Ve=null);this.I=null}Yi(){return this.Ve.Yi()}jf(){return this.I}ik(){this.Ve&&this.Ve.ik()}Fi(){this.Ve&&this.Ve.Fi()}Rf(){return this.Ve?this.Ve:this.Ve=this.d3()}gp(){}Da(){return this.gp()}Vr(){}Mh(){this.Rf().Mh()}zc(){this.Rf().zc()}je(){this.Rf().je()}Lm(){this.Ve.Yo()}ta(a,b,e,c,g){let n;switch(this.I.Qr()){case "numeric":n=f.ks.ta(a,b,e,this.I);break;case "angle":n=f.uv.ta(a,
b,e,this.I);break;case "boolean":n=f.wv.ta(a,b,e,this.I);break;case "color":n=f.Fv.ta(a,b,e,this.I);break;case "text":n=f.ax.ta(a,b,e,this.I)}this.Ve.Om(a,n,b,e,c,g)}ge(a,b,e){switch(this.I.Qr()){case "numeric":return f.ks.ta(a,b,e,this.I);case "angle":return f.uv.ta(a,b,e,this.I);case "boolean":return f.wv.ta(a,b,e,this.I);case "color":return f.Fv.ta(a,b,e,this.I);case "text":return f.ax.ta(a,b,e,this.I)}}Jm(){this.Ve.Xo()}An(){var a=this.Rf();a.hh=a.de()}Ev(){this.Rf().Ev()}de(){return this.Rf().de()}wh(){return this.Rf().wh()}xh(){return this.Rf().xh()}VB(){const a=
this.I,b=a.gb.kb().ra(),e=f.qK(b,a),c=e.re;switch(a.Qr()){case "numeric":return f.ks.ta(b,e,c,a);case "angle":return f.uv.ta(b,e,c,a);case "boolean":return f.wv.ta(b,e,c,a);case "color":return f.Fv.ta(b,e,c,a);case "text":return f.ax.ta(b,e,c,a)}}d3(){const a=this.I;switch(a.iB()?a.Qr():""){case "combo":case "boolean":case "text":case "string":return new f.Ge.bL(this);case "numeric":case "number":case "angle":return"combo"===this.I.lw()?new f.Ge.bL(this):new f.Ge.cL(this);case "color":case "offsetColor":return new f.Ge.AU(this);
default:return new f.Ge.cL(this)}}aa(){return{propertyAdapterJson:this.Rf().aa()}}da(a){a&&this.Rf().da(a.propertyAdapterJson)}}}
{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b);this.Nu=NaN}gp(){return this.I.la.Ff[0]}Da(){return this.Nu?this.Nu:super.Da()}Vr(){return this.I.gb.qa()}X1(b){this.I.la.Ff[0]!==b&&(this.Nu=b)}ta(b,e,c,g,n){this.Rf().hB(e.hd())&&super.ta(b,e,c,g,n)}ge(b,e,c){if(this.Rf().hB(e.hd()))return super.ge(b,e,c)}aa(){return Object.assign(super.aa(),{index:this.Nu})}da(b){b&&(super.da(b),this.Nu=b.index)}}f.Ua.WY=a}
{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b);this.cb=NaN}gp(){return this.I.la.Ff[1]}Vr(){var b=this.I.la,e=this.cb?this.cb:b.Ff[0];b=this.I.gb.qa();e=b.OJ(e);return b.$c[e].xa}Qf(b){return b.Sv(this.I.la.Ff[2])}U1(b){this.I.la.Ff[0]!==b&&(this.cb=b)}ta(b,e,c,g,n){const h=this.I.gb.qa();this.Qf(h.G())&&super.ta(b,e,c,g,n)}ge(b,e,c){const g=this.I.gb.qa();if(this.Qf(g.G()))return super.ge(b,e,c)}aa(){return Object.assign(super.aa(),{sid:this.cb})}da(b){b&&(super.da(b),
this.cb=b.sid)}}f.Ua.bU=a}{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b)}gp(){return this.I.la.Ff[1]}Vr(){const b=this.I.gb.A().Bf,e=this.JB(b.Ga).Da();return b.cs(e)?b.Sj(e):null}JB(b){return b.Tj(this.I.la.Ff[0])}ta(b,e,c,g,n){this.dO()&&super.ta(b,e,c,g,n)}ge(b,e,c){if(this.dO())return super.ge(b,e,c)}dO(){const b=this.I.gb.A().Bf,e=this.JB(b.Ga);if(e)return b.cs(e.Da())}}f.Ua.gW=a}
{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b)}gp(){return this.I.la.Ff[0]}Vr(){return this.I.gb.qa().xa}ta(b,e,c,g,n){var h=this.I.gb;const l=h.G().ub();h=h.qa().G().ub();l===h&&super.ta(b,e,c,g,n)}ge(b,e,c){var g=this.I.gb;const n=g.G().ub();g=g.qa().G().ub();if(n===g)return super.ge(b,e,c)}}f.Ua.z_=a}
{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b);this.qc=0;this.Py=!1}Yi(){return!1}zc(){const b=this.I.rd();let e=this.I.la;e=b.aw(e);this.qc=e.ec()}je(){}hd(){this.Py||this.I.ta(0);return this.qc}ta(b,e,c){this.qc=f.Ua.ks.ta(b,e,c,this.I);this.Py=!0}An(){}Ev(){}de(){return this.qc}wh(){return!1}xh(){return!1}aa(){return{value:this.qc,init:this.Py}}da(b){b&&(this.qc=b.value,this.Py=b.hasOwnProperty("init")?b.init:!0)}}f.Ua.Z1=a}
{"use strict";const f=self.B;class a extends f.Ua.vn{constructor(b){super(b);this.lj=!1;this.nq=this.Jb=this.Xd=null;this.lh=this.I.kb();this.gb=this.I.gb;this.yu=this.I.la.Ff;this.yF=this.yu[0];this.pH=this.yu[1];this.Qg=this.yu[3]?this.yu[3]:Math.random().toString(36).slice(2);this.Ru=this.Co=this.dm=NaN;this.hg=null;this.cO()}m(){super.m();this.hg=this.yF=this.yu=this.gb=this.lh=this.nq=this.Jb=this.Xd=null}cO(){if(self.B.M.Audio){var b=this.I.F().gw("audio");b&&(this.Xd=b.Si().xa);this.Jb=self.B.M.Audio.Mj;
this.nq=self.B.M.Audio.Vm}}nO(){if(!this.hg){var b=this.I.gb.jf("audioSource");b&&(this.hg=b.pb())}}M4(){const b=this.I.gb.jf("volume");return b?b.pb().Co:this.Co}ik(){super.ik();this.lj=!1;this.Xd&&(this.nq&&(this.dm=this.nq.Wfa.call(this.Xd,this.Qg),this.Co=this.nq.ija.call(this.Xd,this.Qg)),this.Jb&&this.Jb.Je.call(this.Xd,this.Qg))}Fn(b){this.Ru=b}zc(){super.zc();this.dm=NaN;this.lj=!1}je(){super.je();const b=this.I.kb().ra();this.dm=b-this.pH;switch(this.I.la.Hc){case "volume":this.Co=this.I.ge(b)}this.lj=
!1}ta(b,e,c,g,n){if(this.Xd)switch(this.I.la.Hc){case "audioSource":if(!this.lh.Fh())break;if(g){this.Jb&&this.Jb.Je.call(this.Xd,this.Qg);break}if(b<this.pH){this.lj=!1;break}e=this.nq.Vfa.call(this.Xd,this.Qg);this.lh.Gc!==e&&this.Jb.bj.call(this.Xd,this.Qg);if(this.lj)break;this.lj=!0;if(isNaN(this.dm)){const h=self.performance.now(),l=b-this.pH;this.Xd.IC("get-suspended").then(m=>{if("suspended"===m)this.lj=!1;else if(m=l+(self.performance.now()-h)/1E3,this.Jb){let p=this.Ru;isNaN(p)?(this.Fn(0),
p=0):this.Fn(p);this.Jb.Play.call(this.Xd,this.yF,0,p,this.Qg,m)}})}else{const h=this.dm;this.dm=NaN;const l=this.M4();this.Co=NaN;this.Xd.IC("get-suspended").then(m=>{"suspended"===m?this.lj=!1:this.Jb&&(this.Fn(l),this.Jb.Play.call(this.Xd,this.yF,0,l,this.Qg,h))})}break;case "volume":this.nO(),super.ta(b,e,c,g,n)}}ge(b,e,c){if(this.Xd)switch(this.I.la.Hc){case "volume":return this.nO(),super.ge(b,e,c)}}vK(){return this.hg?this.hg.Ru:0}x1(b,e){this.hg&&this.hg.Fn(this.vK()+e);this.Jb&&this.hg&&
this.Jb.Fn.call(this.Xd,this.hg.Qg)}xT(b,e){this.hg&&this.hg.Fn(e);this.Jb&&this.hg&&this.Jb.Fn.call(this.Xd,this.hg.Qg)}aa(){return{audioPlaybackStarted:this.lj,audioTag:this.Qg,pauseTime:this.dm,pauseVolume:this.Co,volume:this.Ru}}da(b){b&&(this.lj=b.audioPlaybackStarted,this.Qg=b.audioTag,this.dm=b.pauseTime,this.Co=b.pauseVolume,this.Ru=b.volume,this.cO())}}f.Ua.ZT=a}"use strict";function ic(f,a,b){return f.I.kb().Fh()?a():b()}function jc(f,a,b){return"relative"===f.I.Ld()?a():b()}
function kc(f){if(f.Pq)return f.Pq;f.Pq=f.Yd.Vr();return f.Pq}function lc(f,a=!1){const b=[];for(const e of f){f=e.gb.Ee();for(const c of e.kw())a&&0===c.ra()?b.push({time:f+c.ra(),value:c.Pg}):a||b.push({time:f+c.ra(),value:c.Pg})}return b.sort((e,c)=>e.time-c.time)}function mc(f,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=f)return a[b];return null}
self.B.Ua.Ge=class{constructor(f){this.Yd=f;this.I=f.jf();this.Ma=this.I.gb.A();this.Hc=this.I.la.Hc;this.oq=!1;this.Pq=this.hh=null}m(){this.Pq=this.hh=this.Ma=this.I=this.Yd=null}Yi(){return!1}ik(){}Fi(){this.Pq=this.hh=this.Ma=null}pb(){return this.Yd}jf(){return this.I}A(){return this.Ma?this.Ma:this.Ma=this.I.gb.A()}Mh(){}zc(){}je(){}Ev(){this.hh=null}de(){}wh(){}xh(){}hB(f){return typeof this.mk()===typeof f}Yo(){}Om(){}Xo(){}Mn(){return ic(this,()=>{const f=this.I.la;return this.I.rd().aw(f)},
()=>{const f=this.I.la;return this.I.rd().Zm(f)}).Pg}mx(){const f=this.I.kb().ra()-this.I.gb.Ee();return ic(this,()=>{const a=this.I.la;return this.I.rd().Ah(f,a)},()=>{const a=this.I.la,b=this.I.rd(),e=b.ZJ(f,a);return e?e:b.Zm(a)}).Pg}rx(){}me(){return this.Yd.Da()}aa(){return{firstAbsoluteUpdate:this.oq,saveState:this.hh}}da(f){f&&(this.oq=f.firstAbsoluteUpdate,this.hh=f.saveState)}};
{"use strict";const f=self.B,a=new Map,b=[0,0,0];class e extends f.Ua.Ge{constructor(c){super(c)}Mh(){}zc(){}je(){}de(){const c=this.I.sd(),g=kc(this),n=this.me();switch(c){case "behavior":return this.Ox(g.Qc(n));case "effect":return this.Ox(g[n]);case "plugin":return this.Ox(g.Qc(n));case "world-instance":return this.Ox(this.mk())}}wh(){const c=this.Mn();return!this.dN(c,this.mk())}xh(){return f.Md(this.hh)?!1:!this.dN(this.hh,this.mk())}dN(c,g){c=this.Np(c);g=this.Np(g);return c.$k(g)}Mn(){const c=
super.Mn();return this.Np(c)}mx(){const c=super.mx();return this.Np(c)}rx(){}Ox(c){return f.ql(c,f.Wa)?c.toArray().slice(0,3):c.slice(0,3)}Np(c){return f.ql(c,f.Wa)?c:new f.Wa(c[0],c[1],c[2],1)}hB(){return!0}Yi(){return!0}Yo(){var c=this.I.kb(),g=this.I.qa();const n=this.I.pb();(c=c.Sr(g,n,this.Hc))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.I.sd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.Hc)||g.set(this.Hc,{qT:!1,color:new f.Wa(0,0,0,1)}))}TN(c,g,n){c=a.get(c).get(g).get(n);
c.qT=!0;return c.color}Om(c,g){var n=this.I.kb(),h=this.I.gb;c=this.I.qa();var l=this.I.pb();const m=this.I.sd();if((l=n.Sr(c,l,this.Hc))&&1<l.length){if(l=lc(l,!0),n=n.ra(),n=mc(n,l))l=n.time-h.Ee(),0===l?this.TN(c,m,this.Hc).cS(g[0],g[1],g[2]):0>l||(n=g[0],h=g[1],g=g[2],l=this.I.ta(l,!1,!0),n=f.Wa.rB(n,l[0]),h=f.Wa.rB(h,l[1]),g=f.Wa.rB(g,l[2]),this.TN(c,m,this.Hc).cS(n,h,g))}else this.kj(g[0],g[1],g[2])}Xo(){const c=this.I.qa();if(a.has(c)){var g=a.get(c),n=this.I.sd();if(g.has(n)){var h=g.get(n);
if(h.has(this.Hc)){var l=h.get(this.Hc),m=l.color;l.qT&&this.kj(m.Oa,m.Sa,m.Ra);0===h.size&&g.delete(n);0===g.size&&a.delete(c)}}}}mk(){const c=this.I.sd(),g=kc(this),n=this.me();switch(c){case "behavior":return this.Np(g.Qc(n));case "effect":return g[n].clone();case "plugin":return this.Np(g.Qc(n));case "world-instance":return this.A().Ya.clone()}}kj(c,g,n){const h=this.I.sd(),l=kc(this),m=this.me();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=n;l.cj(m,b);break;case "effect":l[m].pr(c,g,n);break;
case "plugin":b[0]=c;b[1]=g;b[2]=n;l.cj(m,b);break;case "world-instance":this.A().s1(c,g,n)}}aa(){}da(){}}f.Ua.Ge.AU=e}
{"use strict";const f=self.B,a=f.Ua;class b extends f.Ua.Ge{constructor(e){super(e)}Mh(){}zc(){}je(){}de(){return this.mk()}wh(){return this.Mn()!==this.de()}xh(){return f.Md(this.hh)?!1:this.hh!==this.de()}Yi(){return!1}Om(e,c){const g=this.I,n=g.gb,h=g.sd();var l=g.kb();const m=n.qa(),p=g.pb();(l=l.Sr(m,p,this.Hc))&&1<l.length&&(l=lc(l),e=mc(e+n.Ee(),l))&&(c=e.value);switch(g.Qr()){case "numeric":if(!a.ks.jk(this.me(),kc(this),c,h))return;break;case "angle":if(!a.uv.jk(this.me(),kc(this),c,h))return;
break;case "boolean":if(!a.wv.jk(this.me(),kc(this),c,h))return;break;case "color":if(!a.Fv.jk(this.me(),kc(this),c,h))return;break;case "text":if(!a.ax.jk(this.me(),kc(this),c,h))return}this.kj(c)}mk(){const e=this.I.sd(),c=kc(this),g=this.me();switch(e){case "behavior":return c.Qc(g);case "effect":return c[g];case "instance-variable":return c.fe(g);case "plugin":return c.Qc(g)}}kj(e){const c=this.I.sd(),g=kc(this),n=this.me();switch(c){case "behavior":g.cj(n,e);break;case "effect":g[n]=e;break;
case "instance-variable":g.Al(n,e);break;case "plugin":g.cj(n,e)}}}f.Ua.Ge.bL=b}
{"use strict";const f=self.B,a=new Map,b=(c,g,n,h,l,m=!1,p=null,r=null)=>{a.set(c,{tba:g,S$:n,Eaa:h,round:l,xaa:m,init:p,reset:r})};b("offsetX",(c,g)=>c.$Z(g),(c,g)=>c.Qh(g),c=>c.Aa(),!0);b("offsetY",(c,g)=>c.a_(g),(c,g)=>c.Rh(g),c=>c.Ba(),!0);b("offsetWidth",(c,g)=>c.eL(g),(c,g)=>c.hk(g),c=>c.pa(),!0);b("offsetHeight",(c,g)=>c.dL(g),(c,g)=>c.fk(g),c=>c.ma(),!0);b("offsetAngle",(c,g)=>c.WZ(g),(c,g)=>c.vd(g),c=>c.Ta(),!1);b("offsetOpacity",(c,g,n,h)=>{n=c.qd()+g;0===h.mc?(1<n?h.mc+=n-1:0>n&&(h.mc+=
n),c.XZ(g)):(c=c.qd()+g,0<g&&0<h.mc?1<c&&(h.mc+=c-1):0<g&&0>h.mc?(h.mc+=g,0<h.mc&&(h.mc=0)):0>g&&0<h.mc?(h.mc+=g,0>h.mc&&(h.mc=0)):0>g&&0>h.mc&&0>c&&(h.mc+=c))},(c,g)=>{c.Lh(g)},c=>c.qd(),!1,!0,c=>{c.mc=0;switch(c.I.Ld()){case "relative":{c.I.rd();const l=c.I.la.Sf().Bb;var g=c.A().qd(),n=g;for(var h of l)n=h.ra(),n=c.I.ge(n),n=g+n,n=f.ja(n,0,1);c.Vq=g-n;c.Vq=Math.round(100*(c.Vq+Number.EPSILON))/100;n=g;for(g=l.length-1;0<=g;g--)h=l[g].ra(),h=c.I.ge(h),n-=h,n=f.ja(n,0,1);c.Uq=n;c.Uq=Math.round(100*
(c.Uq+Number.EPSILON))/100}}},c=>{switch(c.I.Ld()){case "relative":{c.mc=0;const g=c.A();let n=g.qd();n=Math.round(100*(n+Number.EPSILON))/100;c.I.kb().Fh()?(g.Lh(n+c.Vq),c.Ab=0):(g.Lh(n-c.Uq),c.Ab=c.pb().VB())}}});b("offsetOriginX",(c,g)=>c.YZ(g),(c,g)=>c.fD(g),c=>c.Or(),!1);b("offsetOriginY",(c,g)=>c.ZZ(g),(c,g)=>c.gD(g),c=>c.Pr(),!1);b("offsetZElevation",(c,g)=>c.b_(g),(c,g)=>c.Ie(g),c=>c.Xa(),!0);b("offsetScaleX",(c,g,n)=>{const h=0>c.pa()?-1:1;c.eL(n.nl()*h*g)},(c,g,n)=>{c.hk(n.nl()*g)},(c,g)=>
{const n=0>c.pa()?-1:1;if(c.cn()){var h=c.ya();const l=g.kb().sK(h.qa());l?h=h.pa()/l.nl():(h.qa(),h=1);return c.pa()*n/(g.nl()*h)}return c.pa()*n/g.nl()},!1);b("offsetScaleY",(c,g,n)=>{const h=0>c.ma()?-1:1;c.dL(n.ml()*h*g)},(c,g,n)=>{c.fk(n.ml()*g)},(c,g)=>{const n=0>c.ma()?-1:1;if(c.bn()){var h=c.ya();const l=g.kb().sK(h.qa());l?h=h.ma()/l.ml():(h.qa(),h=1);return c.ma()*n/(g.ml()*h)}return c.ma()*n/g.ml()},!1);class e extends f.Ua.Ge{constructor(c){super(c);this.Uq=this.Vq=this.mc=this.Ab=0;this.BR=
this.DR=this.CR=this.NF=this.ZG=this.TF=this.VF=this.UF=null;this.uF=this.aH=!1;this.nm=f.ql(this.I.kb(),f.Q1)?new f.Ua.Ge.VZ(this):new f.Ua.Ge.UZ(this);const g=this.I.la.Hc;switch(this.I.sd()){case "world-instance":c=a.get(g);this.UF=c.Eaa;this.VF=c.tba;this.TF=c.S$;this.aH=c.round;this.uF=c.xaa;this.NF=c.init;this.ZG=c.reset;break;case "audio":this.CR=c.vK,this.DR=c.x1,this.BR=c.xT,this.aH=!0,this.uF=!1}}m(){this.TF=this.VF=this.UF=this.nm=null;super.m()}Yi(){return this.nm.Yi()}eM(c){this.Ab=c}Mh(){this.ZG&&
this.ZG(this)}zc(){const c=this.nm.zc();"number"===typeof c&&(this.Ab=c);this.NF&&this.NF(this)}je(){const c=this.nm.je();"number"===typeof c&&(this.Ab=c)}de(){return this.mk()}wh(){return this.Mn()!==this.de()}xh(){return f.Md(this.hh)?!1:this.hh!==this.de()}Yo(){this.nm.Yo()}Om(c,g,n,h,l,m,p){return this.nm.Om(c,g,n,h,l,m,p)}Xo(){this.nm.Xo()}mk(){const c=kc(this),g=this.me(),n=this.A(),h=this.I.gb;switch(this.I.sd()){case "behavior":return c.Qc(g);case "effect":return c[g];case "instance-variable":return c.fe(g);
case "plugin":return c.Qc(g);case "world-instance":return this.UF(n,h);case "audio":return this.CR.call(this.pb(),n,h)}}kj(c){const g=kc(this),n=this.me(),h=this.A(),l=this.I.gb;switch(this.I.sd()){case "behavior":g.DC(n,c);break;case "effect":g[n]+=c;break;case "instance-variable":g.S0(n,c);break;case "plugin":g.DC(n,c);break;case "world-instance":this.VF(h,c,l,this);break;case "audio":this.DR.call(this.pb(),h,c,l,this)}}cP(c){const g=kc(this),n=this.me(),h=this.A(),l=this.I.gb;switch(this.I.sd()){case "behavior":g.cj(n,
c);break;case "effect":g[n]=c;break;case "instance-variable":g.Al(n,c);break;case "plugin":g.cj(n,c);break;case "world-instance":this.TF(h,c,l);break;case "audio":this.BR.call(this.pb(),h,c,l)}}Sp(c,g,n,h,l,m){this.nm.Sp(c,g,n,h,l,m)}kk(c,g,n){c=(c.toString().split(".")[1]||"").length;const h=this.mk();this.kj((0===c?this.aH?Math.round(h):this.uF?Math.round(100*(h+Number.EPSILON))/100:h:f.toFixed(h,c))-h,g,n)}aa(){return Object.assign(super.aa(),{v:this.Ab,a:this.mc,fod:this.Vq,bod:this.Uq})}da(c){c&&
(super.da(c),this.Ab=c.v,this.mc=c.a,this.Vq=f.pf(c.fod)?c.fod:0,this.Uq=f.pf(c.bod)?c.bod:0)}}f.Ua.Ge.cL=e}
{"use strict";class f{constructor(b){this.HH=!1;this.qc=0;this.Na=b;for(let e=0,c=this.Na.length;e<c;e++)this.Na[e].v0(this)}sM(){this.HH=!0}ke(b){this.qc=b}hd(){return this.qc}Sc(){this.HH=!1;this.qc=0}}class a{constructor(b){this.Ud=b}m(){this.Ud=null}zc(){const b=this.Ud;this.Ud.jf();return jc(b,()=>ic(b,()=>0,()=>b.pb().VB()),()=>{})}je(){}Yi(){switch(this.Ud.jf().Ld()){case "relative":return!1;case "absolute":return!0}}Yo(){var b=this.Ud.jf(),e=b.la.Hc;switch(b.Ld()){case "absolute":if(b.ZB())b.bt.Sc();
else{const c=b.kb(),g=b.qa();b=b.pb();(e=c.Sr(g,b,e))&&1<e.length&&new f(e)}}}Om(b,e,c,g,n,h){var l=this.Ud,m=this.Ud.jf();switch(m.Ld()){case "relative":m=l.Ab;l.kj(e-m,c,g);h&&this.Sp(b,c,g,n,m,e);l.eM(e);break;case "absolute":if(c=m.kb(),b=m.gb,m.qa(),m.pb(),m.ZB()){if(l=m.bt,g=lc(l.Na,!0),c=c.ra(),c=mc(c,g))b=c.time-b.Ee(),0===b?(l.sM(),l.ke(l.hd()+e)):0>b||(m=m.ge(b),l.sM(),l.ke(l.hd()+(e-m)))}else l.cP(e)}}Xo(){const b=this.Ud;var e=this.Ud.jf();switch(e.Ld()){case "absolute":e.ZB()&&(e=e.bt,
e.HH&&b.cP(e.hd()))}}Sp(b,e,c,g,n,h){const l=this.Ud;g||(e&&b===e.ra()?l.kk(e.ec(),e,c):c&&b===c.ra()?l.kk(c.ec(),e,c):0===h-n&&l.kk(e.ec(),e,c))}}self.B.Ua.Ge.UZ=a}
{"use strict";class f{constructor(a){this.Ud=a}m(){this.Ud=null}zc(){const a=this.Ud;a.oq=!0;return this.rx(a.Mn())}je(){const a=this.Ud;if(a.Mn()!==a.mx())return a.oq=!0,this.rx(a.mx())}Yi(){return!1}Yo(){}Om(a,b,e,c,g,n){const h=this.Ud,l=h.Ab;switch(h.jf().Ld()){case "relative":h.kj(b-l,e,c);n&&this.Sp(a,e,c,g,l,b);break;case "absolute":h.oq?(h.oq=!1,h.kj(l,e,c)):(h.kj(b-l,e,c),n&&this.Sp(a,e,c,g,l,b))}h.eM(b)}Xo(){}rx(a){return a-this.Ud.de()}Sp(a,b,e,c,g,n){const h=this.Ud;c?b&&a===b.ra()?h.kk(b.ec(),
b,e):e&&a===e.ra()?h.kk(e.ec(),b,e):e||h.kk(b.ec(),b,e):b&&a===b.ra()?h.kk(b.ec(),b,e):e&&a===e.ra()?h.kk(e.ec(),b,e):0===n-g&&h.kk(b.ec(),b,e)}}self.B.Ua.Ge.VZ=f}
{"use strict";const f=self.B,a=self.yr;f.Ua.ks=class{constructor(){}static jk(b,e,c,g){let n;switch(g){case "behavior":n=e.Qc(b);break;case "effect":n=e[b];break;case "instance-variable":n=e.fe(b);break;case "plugin":n=e.Qc(b)}return n===c?!1:!0}static ta(b,e,c,g){if(!c)return c=g.la,c=g.rd().Zm(c),c.ec();var n=g.Bh();"default"===n&&(n="continuous");"combo"===g.lw()&&(n="discrete");if("discrete"===n)return e.ec();if("continuous"===n||"step"===n){"step"===n&&(n=g.kb().Tr(),0!==n&&(n=1/n,b=Math.floor(b*
n)/n));var h=e.ra();const l=c.ra();n=e.ec();const m=c.ec();if(n===m)return n;b=f.normalize(b,h,l);const p=e.ll();e=e.yB("cubic-bezier");c=c.yB("cubic-bezier");e&&e.zu&&c&&c.ty?(h=l-h,h=a.$m(p)(h*b,0,1,h),h=a.$m("cubicbezier")(h,n,n+e.nH,m+c.qF,m)):h=a.$m(p)((l-h)*b,n,m-n,l-h);return"integer"===g.lw()?Math.floor(h):h}}}}
{"use strict";const f=self.B;f.Ua.uv=class{constructor(){}static jk(a,b,e,c){let g;switch(c){case "behavior":g=b.Qc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.fe(a);break;case "plugin":g=b.Qc(a)}return g===e?!1:!0}static ta(a,b,e,c){if(!e)return b=c.la,b=c.rd().Zm(b),b.ec();var g=c.Bh();"default"===g&&(g="continuous");"combo"===c.lw()&&(g="discrete");if("discrete"===g)return b.ec();if("continuous"===g||"step"===g){"step"===g&&(c=c.kb().Tr(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const n=b.ra(),h=e.ra();c=b.ec();e=e.ec();if(g=b.yB("angle")){const l=g.$G;if(c===e&&0===l)return c;a=f.normalize(a,n,h);b=self.yr.$m(b.ll())(a,0,1,1);switch(g.jF){case "closest":return f.TH(c,e,b,l);case "clockwise":return f.Y$(c,e,b,l);case "anti-clockwise":return f.X$(c,e,b,l)}}else{if(c===e)return c;a=f.normalize(a,n,h);b=self.yr.$m(b.ll());return f.TH(c,e,b(a,0,1,1))}}}}}"use strict";
self.B.Ua.wv=class{constructor(){}static jk(f,a,b,e){let c;switch(e){case "behavior":c=a.Qc(f);break;case "effect":c=a[f];break;case "instance-variable":c=a.fe(f);break;case "plugin":c=a.Qc(f)}return!!c===!!b?!1:!0}static ta(f,a,b,e){return b?a.ec()?1:0:(f=e.la,f=e.rd().Zm(f),f.ec()?1:0)}};
{"use strict";const f=self.B,a=[0,0,0],b=[0,0,0],e=[0,0,0];f.Ua.Fv=class{constructor(){}static jk(c,g,n,h){let l;switch(h){case "behavior":l=g.Qc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.fe(c);break;case "plugin":l=g.Qc(c)}Array.isArray(n)?(a[0]=n[0],a[1]=n[1],a[2]=n[2]):(e.NS(n),a[0]=Math.floor(255*e.Oa),a[1]=Math.floor(255*e.Sa),a[2]=Math.floor(255*e.Ra));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.NS(l),b[0]=Math.floor(255*e.Oa),b[1]=Math.floor(255*e.Sa),b[2]=Math.floor(255*
e.Ra));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static ta(c,g,n,h){if(!n)return g=h.la,g=h.rd().Zm(g),g=g.ec(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.Bh();"default"===l&&(l="continuous");if("discrete"===l)return g=g.ec(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.kb().Tr(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.ra();l=n.ra();var m=g.ec(),p=n.ec();const r=f.normalize(c,h,l);c=m[0];n=m[1];m=m[2];const u=p[0],q=p[1];p=p[2];g=self.yr.$m(g.ll());h=l-h;
l=h*r;a[0]=c===u?c:g(l,c,u-c,h);a[1]=n===q?n:g(l,n,q-n,h);a[2]=m===p?m:g(l,m,p-m,h);return a}}}}"use strict";self.B.Ua.ax=class{constructor(){}static jk(f,a,b,e){let c;switch(e){case "behavior":c=a.Qc(f);break;case "effect":c=a[f];break;case "instance-variable":c=a.fe(f);break;case "plugin":c=a.Qc(f)}return c===b?!1:!0}static ta(f,a,b,e){return b?a.ec():(f=e.la,f=e.rd().Zm(f),f.ec())}};
{"use strict";const f=self.B;f.dg=class{constructor(){this.Hu=new Map}m(){for(const a of this.Hu.values())a.m();this.Hu.clear();this.Hu=null}Nc(a){a=new f.K1(a);this.Hu.set(a.wa(),a)}V(a){return this.Hu.get(a)}static Gs(a,b,e,c){if(b)for(const g of b)f.dg.fN("create",g,a,e,c)}static Os(a,b,e,c){a.length?b.forEach((g,n)=>{a[n].da(g)}):b.forEach(g=>{f.dg.fN("load",g,a,e,c)})}static fN(a,b,e,c,g){let n;if("function"===typeof c)switch(a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.QS]),a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}switch(a){case "load":n.da(b);e.push(n);break;case "create":"function"!==typeof n.Uj||n.Uj()?e.push(n):n.m()}}}}
{"use strict";const f=self.B;f.K1=class{constructor(a){this.Ca="";this.Wq=NaN;this.dA=0;this.Df=this.Cf="default";this.Gz=this.wz=!1;this.Lq=1;this.ve=null;a&&(this.Ca=a[0],this.Wq=a[1],this.dA=a[2],this.Cf=a[3],this.Df=a[4],this.wz=!!a[6],this.Gz=!!a[7],this.Lq=a[8],this.ve=new f.zM(a[5],this))}m(){this.ve.m();this.ve=null}Wr(){this.ve||(this.ve=new f.zM(null,this));return this.ve}wa(){return this.Ca}Zw(a){this.Ca=a}Zc(){return this.Wq}Tr(){return this.dA}Bh(){return this.Cf}Ld(){return this.Df}fw(){return this.wz}jw(){return this.Gz}Jg(){return this.Lq}aa(){return{trackDataJson:this.ve.aa(),
name:this.Ca,totalTime:this.Wq,step:this.dA,interpolationMode:this.Cf,resultMode:this.Df,loop:this.wz,pingPong:this.Gz,repeatCount:this.Lq}}da(a){a&&(this.Wr().da(a.trackDataJson),this.Ca=a.name,this.Wq=a.totalTime,this.dA=a.step,this.Cf=a.interpolationMode,this.Df=a.resultMode,this.wz=a.loop,this.Gz=a.pingPong,this.Lq=a.repeatCount)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.ve=e;this.Hl=this.Sy=null;this.Kk=this.Bk=NaN;this.Df=this.Cf="default";this.ng=!1;this.Zb=this.$g=null;this.qe="";this.Cq=null;this.oH=0;this.uz=this.ve.pd.Zc();this.oa=0;this.Ca="";b&&(b[0]&&(this.Sy=b[0],this.Bk=b[0][2],this.Kk=b[0][1]),this.Cf=b[1],this.Df=b[2],this.ng=!!b[3],b[6]&&(this.qe=b[6]),b[7]&&(this.Cq=b[7],this.oH=b[7][0],this.uz=b[7][1]),b[8]&&(this.Hl=b[8]),b[8]&&(this.Hl=b[8]),b[9]&&(this.oa=b[9]),b[10]&&(this.Ca=b[10]),this.$g=
new f.SK(b[4],this),this.Zb=new f.pL(b[5],this))}m(){this.ve=this.Sy=null;this.$g&&(this.$g.m(),this.$g=null);this.Zb&&(this.Zb.m(),this.Zb=null);this.Cq=null}Wr(){return this.ve}Oi(){this.$g||(this.$g=new f.SK(null,this));return this.$g}rd(){this.Zb||(this.Zb=new f.pL(null,this));return this.Zb}QB(){return this.Kk}Mr(){return this.Bk}Bh(){return this.Cf}Ld(){return this.Df}Uj(){return this.ng}ek(b){this.ng=!!b}Ym(){return this.qe}Ee(){return this.oH}Wj(){return this.uz}nl(){return this.Hl[0]}ml(){this.Hl||
(this.Hl=[]);return this.Hl[1]}Ti(){return this.oa}wa(){return this.Ca}aa(){return{keyframeDataJson:this.$g.aa(),propertyTrackDataJson:this.Zb.aa(),instanceData:this.Sy,additionalInstanceData:this.Hl,instanceUid:this.Bk,objectClassIndex:this.Kk,interpolationMode:this.Cf,resultMode:this.Df,enabled:this.ng,id:this.qe,nestedData:this.Cq,type:this.oa,name:this.Ca}}da(b){b&&(this.Sy=b.instanceData,this.Bk=b.instanceUid,this.Kk=b.objectClassIndex,this.Cf=b.interpolationMode,this.Df=b.resultMode,this.ng=
b.enabled,this.qe=b.id,this.oa=b.type?b.type:0,this.Ca=b.name?b.name:"",this.uz=this.ve.pd.Zc(),b.nestedData&&(this.Cq=b.nestedData,this.oH=this.Cq[0],this.uz=this.Cq[1]),b.additionalInstanceData&&(this.Hl=b.additionalInstanceData),this.Oi().da(b.keyframeDataJson),this.rd().da(b.propertyTrackDataJson))}}f.zM=class{constructor(b,e){this.pd=e;this.Qo=[];f.dg.Gs(this.Qo,b,a,this)}m(){this.pd=null;for(const b of this.Qo)b.m();f.C(this.Qo);this.Qo=null}hX(b,e){e=e.Oi().Yb;const c=e.length;for(let g=0;g<
c;g++){const n=e[g];if(n.ra()===b)return n}}XJ(b,e){e=e.Oi().Yb;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.ra()<=b)return g}}*jT(){for(const b of this.Qo)yield b}aa(){return{trackDataItemsJson:this.Qo.map(b=>b.aa())}}da(b){b&&f.dg.Os(this.Qo,b.trackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.Zb=e;this.Yz="";this.oa=this.Hc=this.Ff=null;this.BG=this.FG=NaN;this.Df=this.Cf="default";this.ng=!1;this.si=null;this.cy=!0;b&&(this.Yz=b[0][0],this.Ff=b[0].slice(1),this.Hc=b[1],this.oa=b[2],this.FG=b[3],this.BG=b[4],this.Cf=b[5],this.Df=b[6],this.ng=!!b[7],this.si=new f.oL(b[8],this),this.cy=b[9])}m(){this.si.m();this.Ff=this.Zb=this.si=null}rd(){return this.Zb}Sf(){this.si||(this.si=new f.oL(null,this));return this.si}sd(){return this.Yz}Ti(){return this.oa}qM(b){this.oa=
b}Bh(){return this.Cf}Ld(){return this.Df}Uj(){return this.ng}ek(b){this.ng=!!b}iB(){return!!this.cy}aa(){return{propertyKeyframeDataJson:this.si.aa(),sourceAdapterId:this.Yz,sourceAdapterArguments:this.Ff,property:this.Hc,type:this.oa,min:this.FG,max:this.BG,interpolationMode:this.Cf,resultMode:this.Df,enabled:this.ng,canHavePropertyKeyframes:this.cy}}da(b){b&&(this.Yz=b.sourceAdapterId,this.Ff=b.sourceAdapterArguments,this.Hc=b.property,this.oa=b.type,this.FG=b.min,this.BG=b.max,this.Cf=b.interpolationMode,
this.Df=b.resultMode,this.ng=b.enabled,this.cy=b.canHavePropertyKeyframes,this.Sf().da(b.propertyKeyframeDataJson))}}f.pL=class{constructor(b,e){this.Db=e;this.Fo=[];f.dg.Gs(this.Fo,b,a,this)}m(){this.Db=null;for(const b of this.Fo)b.m();f.C(this.Fo);this.Fo=null}aw(b){return b.Sf().Bb[0]}Zm(b){return b.Sf().Bb.Jd(-1)}AX(b,e){e=e.Sf().Bb;const c=e.length;for(let g=0;g<c;g++){const n=e[g];if(n.ra()===b)return n}}ZJ(b,e){e=e.Sf().Bb;const c=e.length;for(let g=0;g<c;g++){const n=e[g];if(n.ra()>=b)return n}}Ah(b,
e){e=e.Sf().Bb;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.ra()<=b)return g}}*RS(){for(const b of this.Fo)yield b}aa(){return{propertyTrackDataItemsJson:this.Fo.map(b=>b.aa())}}da(b){b&&f.dg.Os(this.Fo,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.$g=e;this.Wc=-1;this.di="noease";this.ei=!1;this.gu=this.yg=null;b&&(this.Wc=b[0],this.di=b[1],this.ei=!!b[2],this.yg=(b=b[3])?b.split(" "):[],this.gu=new Set(this.yg.map(c=>c.toLowerCase())),this.re=null)}m(){this.$g=null;f.C(this.yg);this.yg=null;this.gu.clear();this.gu=null}Oi(){return this.$g}ws(b){this.re=b}ra(){return this.Wc}Jp(b){this.Wc=b;this.$g.Ms()}ll(){return this.di}aj(b){this.di=b}Uj(){return this.ei}ek(b){this.ei=!!b}oM(b){this.yg=
b?b.split(" "):[];this.gu=new Set(this.yg.map(e=>e.toLowerCase()))}aa(){return{time:this.Wc,ease:this.di,enable:this.ei,tags:this.yg}}da(b){b&&(this.Wc=b.time,this.di=b.ease,this.ei=b.enable,this.yg=b.tags,this.gu=new Set(this.yg.map(e=>e.toLowerCase())))}}f.SK=class{constructor(b,e){this.Db=e;this.Yb=[];f.dg.Gs(this.Yb,b,a,this);this.Ms()}m(){this.Db=null;for(const b of this.Yb)b.m();f.C(this.Yb);this.Yb=null}Ms(){this.Yb.sort((b,e)=>b.ra()-e.ra());for(let b=0;b<this.Yb.length;b++)this.Yb[b].ws(this.Yb[b+
1])}DT(){const b=new a(null,this);this.Yb.push(b);this.Ms();return b}ZU(b){for(const e of this.Yb){if(!b(e))continue;const c=this.Yb.indexOf(e);-1!==c&&(e.m(),this.Yb.splice(c,1))}this.B1();this.Ms()}B1(){this.Yb.sort((b,e)=>b.ra()-e.ra())}jX(b){return this.Yb.indexOf(b)}iX(b){return this.Yb[b]}aa(){return{keyframeDataItemsJson:this.Yb.map(b=>b.aa())}}da(b){b&&(f.dg.Os(this.Yb,b.keyframeDataItemsJson,a,this),this.Ms())}}}
{"use strict";const f=self.B;class a{constructor(b,e){this.si=e;this.Pg=this.qc=null;this.oa="";this.Wc=NaN;this.di="noease";this.ei=!1;this.Wh=null;this.qk=void 0;b&&(this.qc=b[0][0],this.Pg=b[0][1],this.oa=b[0][2],this.Wc=b[1],this.di=b[2],this.ei=!!b[3],this.Wh=null,b[4]&&(this.Wh=new f.OT(b[4],this)),this.re=null)}m(){this.si=null;this.Wh&&(this.Wh.m(),this.Wh=null)}ws(b){this.re=b}hd(){return this.qc}ke(b){"color"===this.oa&&f.pf(b)?(this.qc[0]=f.TB(b),this.qc[1]=f.MB(b),this.qc[2]=f.AB(b)):
this.qc=b}NL(b){"color"===this.oa&&f.pf(b)?(this.Pg[0]=f.TB(b),this.Pg[1]=f.MB(b),this.Pg[2]=f.AB(b)):this.Pg=b}ec(){const b=this.si.la.Ld();if("relative"===b)return this.hd();if("absolute"===b)return this.Pg}Ti(){return this.oa}qM(b){this.oa=b}ra(){return this.Wc}Jp(b){this.Wc=b;this.si.Ns()}ll(){return this.di}aj(b){this.di=b}Uj(){return this.ei}ek(b){this.ei=!!b}yB(b){if(this.Wh){if(this.qk||null===this.qk)return this.qk;var e=this.Wh.Sn;if(!e)return this.qk=null;var c=e.length;for(let g=0;g<c;g++){const n=
e[g];if(n.Ym()===b)return this.qk=n}return this.qk=null}}aa(){const b=this.Wh;return{addonDataJson:b?b.aa():b,value:this.qc,aValue:this.Pg,type:this.oa,time:this.Wc,ease:this.di,enable:this.ei}}da(b){b&&(b.addonDataJson&&this.Wh.Hja(b.addonDataJson),this.qc=b.value,this.Pg=b.aValue,this.oa=b.type,this.Wc=b.time,this.di=b.ease,this.ei=b.enable)}}f.oL=class{constructor(b,e){this.la=e;this.Bb=[];f.dg.Gs(this.Bb,b,a,this);this.Ns()}m(){this.la=null;for(const b of this.Bb)b.m();f.C(this.Bb);this.Bb=null}Ns(){this.Bb.sort((b,
e)=>b.ra()-e.ra());for(let b=0;b<this.Bb.length;b++)this.Bb[b].ws(this.Bb[b+1])}XI(){const b=new a(null,this);this.Bb.push(b);this.Ns();return b}CJ(b){for(const e of this.Bb){if(!b(e))continue;const c=this.Bb.indexOf(e);-1!==c&&(e.m(),this.Bb.splice(c,1))}this.C1();this.Ns()}C1(){this.Bb.sort((b,e)=>b.ra()-e.ra())}aa(){return{propertyKeyframeDataItemsJson:this.Bb.map(b=>b.aa())}}da(b){b&&(f.dg.Os(this.Bb,b.propertyKeyframeDataItemsJson,a,this),this.Ns())}}}
{"use strict";const f=self.B;class a{constructor(c,g){this.Wh=g;this.qe=c[0];this.wk=c[1]}m(){this.wk=this.Wh=null}Ym(){return this.qe}aa(){return{id:this.qe,data:this.wk}}da(c){c&&(this.qe=c.id,this.wk=c.data)}}class b extends a{constructor(c,g){super(c,g);this.nH=this.wk[0];this.zu=!!this.wk[1];this.qF=this.wk[2];this.ty=!!this.wk[3]}m(){super.m()}aa(){return Object.assign(super.aa(),{startAnchor:this.nH,startEnable:!!this.zu,endAnchor:this.qF,endEnable:!!this.ty})}da(c){c&&(super.da(c),this.nH=
c.startAnchor,this.zu=!!c.startEnable,this.qF=c.endAnchor,this.ty=!!c.endEnable)}}class e extends a{constructor(c,g){super(c,g);this.jF=this.wk[0];this.$G=this.wk[1]}m(){super.m()}aa(){return Object.assign(super.aa(),{direction:this.jF,revolutions:this.$G})}da(c){c&&(super.da(c),this.jF=c.direction,this.$G=c.revolutions)}}f.OT=class{constructor(c){this.Sn=[];f.dg.Gs(this.Sn,c,{QS:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}m(){for(const c of this.Sn)c.m();f.C(this.Sn);this.Sn=null}aa(){return{addonDataItemsJson:this.Sn.map(c=>
c.aa())}}da(c){c&&f.dg.Os(this.Sn,c.addonDataItemsJson,{QS:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const f=self.B;let a=0;f.Q1=class extends f.Hn{constructor(b,e){super(`tween-${a++}`,b,e);this.qe="";this.IP=!1;this.PF="start-value";this.gb=this.eR=this.dR=this.Xb=null}xJ(){for(const b of this.pd.Wr().jT())this.ab.push(f.DM.Ja(this,b));this.gb=this.ab[0]}jf(){return this.gb.Na[0]}qa(){var b=this.ab;if(b&&b.length&&(this.gb=b=b[0])){var e=b.qa();return b.rl()?e:void 0}}Ym(){return this.qe}iL(){if(this.eR)for(const b of this.eR)b(this);if(!this.xf)for(const b of this.ab)b.xh()}EC(){this.bq=
this.g.zj}KJ(){if(!this.ho&&(this.ho=!0,this.dR))for(const b of this.dR)b(this)}Jp(b){this.jN();super.Jp(b)}pk(b){f.pf(b)||(b=this.Zc());this.Hb=0>b?0:b>=this.Zc()?this.Zc():b;this.gb.Mh()}zc(b){if(!this.Tl&&"current-state"===this.PF)for(const e of this.ab)e.wh();super.zc(b)}Je(b=!1){super.Je(b);if(!this.xf)for(const e of this.ab)e.An()}Sc(b=!0,e=!1){this.jN();super.Sc(b,e)}jN(){for(const b of this.ab){const e=c=>{c=c.ra();const g=this.Zc();return 0!==c&&c!==g};b.$U(e);b.Kv(e)}}Ts(){if(this.wg)return!0;
const b=this.qa();if(b&&b.G().qf())return!1;this.yb.jJ(this);this.EL();return!0}sf(b,e,c){this.Xb||(this.Xb=this.qa());if(this.Xb&&!this.Xb.bs()&&(e=this.Xb.Hd,-1!==e&&(b=c*e),0!==b||0!==this.mz)){this.mz=b;c=this.Hb+b*this.Gc;b=this.pd.Wq;this.Hb=0>c?0:c>=b?b:c;e=c=!1;var g=this.fw(),n=this.jw();g||n?g&&!n?0<this.Gc?this.Hb>=b&&(this.pk(0),e=!0):0>=this.Hb&&(this.pk(b),e=!0):!g&&n?0<this.Gc?this.Hb>=b&&(this.xd(b),this.bj(-1*this.Gc),e=!0,1===this.ld?this.kd<this.Jg()?(this.kd++,this.ld=0):c=!0:
0===this.ld&&(this.ld=1)):0>=this.Hb&&(this.xd(0),this.bj(-1*this.Gc),e=!0,1===this.ld?this.kd<this.Jg()?(this.kd++,this.ld=0):c=!0:0===this.ld&&(this.ld=1)):g&&n&&(0<this.Gc?this.Hb>=b&&(this.xd(b),this.bj(-1*this.Gc),e=!0):0>=this.Hb&&(this.xd(0),this.bj(-1*this.Gc),e=!0)):0<this.Gc?this.Hb>=b&&(this.kd<this.Jg()?(this.kd++,this.pk(0),e=!0):(this.xd(b),c=!0)):0>=this.Hb&&(this.kd<this.Jg()?(this.kd++,this.pk(b),e=!0):(this.xd(0),c=!0));c?(this.gb.WL(),this.Je(!0),this.EC()):(this.gb.ta(this.Hb,
!0,!1,e,this.pe,!1),this.pe&&(this.pe=!1))}}aa(){const b=super.aa();return Object.assign(b,{tweenDataItemJson:this.pd.aa(),id:this.qe,destroyInstanceOnComplete:this.IP,initialValueMode:this.PF})}da(b){b&&(this.pd.da(b.tweenDataItemJson),super.da(b),this.qe=b.id,this.IP=b.destroyInstanceOnComplete,this.PF=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const f=self.B;f.DM=class extends f.wD{constructor(a,b){super(a,b);this.dH=this.Bt=null}static Ja(a,b){return f.j(f.DM,a,b)}YM(){1===this.Na.length?this.Bt=this.Na[0]:(this.Bt=this.Na[0],this.dH=this.Na[1])}vJ(){for(const a of this.Db.rd().RS())this.Na.push(f.CM.Ja(this,a));this.YM()}Lm(){}ta(a,b,e=!1,c=!1,g,n=!1){this.Xb||this.qa();if(this.Xb){if(this.Xb.bs()||n&&this.G().qf())return!1;this.dH?(this.Bt.ta(a,e,c),this.dH.ta(a,e,c)):this.Bt.ta(a,e,c);0!==this.Bt.Fj&&(this.Ma||(this.Ma=
this.Xb.A()),this.Ma&&this.Ma.ob())}}Jm(){}da(a){super.da(a);this.YM()}}}
{"use strict";const f=self.B;f.CM=class extends f.Ua{constructor(a,b){super(a,b);this.it=!1}static Ja(a,b){return f.j(f.CM,a,b)}ta(a,b=!1,e=!1){if(this.it){var c=this.Bb[0];var g=this.Bb[1]}else{if(b)c=this.Zb.Ah(a,this.la);else{if(this.uc){g=this.kb();const n=this.uc.re;c=this.uc.ra();g=n?n.ra():g.Zc();if(a<=c||a>=g)this.uc=this.Zb.Ah(a,this.la)}else this.uc=this.Zb.Ah(a,this.la);c=this.uc}g=c.re}this.Yd.ta(a,c,g,b,e)}YI(){const a=this.la.Sf().XI();this.uc=null;this.it=2>=this.kw().length;return a}Kv(a){this.uc=
null;this.la.Sf().CJ(a);this.it=2>=this.kw().length}aa(){return{sourceAdapterJson:this.pb().aa(),basic:this.it}}da(a){a&&(this.pb().da(a.sourceAdapterJson),this.it=a.basic)}}}
{"use strict";const f=self.B,a=self.yr;f.AM=class extends f.Z{constructor(b){super();this.Ca=b[0];this.Hf=[];for(var e of b[1])b=f.BM.Ja(this,e),this.Hf.push(b);for(e=0;e<this.Hf.length;e++)this.Hf[e].ws(this.Hf[e+1]);this.pu=new Map;this.QR=new Map;this.L6();a.BT(this.Ca,(c,g,n,h)=>this.ta(c,g,n,h))}static Ja(b){return f.j(f.AM,b)}m(){for(const b of this.Hf)b.m();f.C(this.Hf);this.Hf=null;this.pu.clear();this.pu=null;this.QR.clear();this.QR=null}XW(b){for(let e=this.Hf.length-1;0<=e;e--){const c=
this.Hf[e];if(c.If<b)return c}}WW(b){for(let e=this.Hf.length-1;0<=e;e--){const c=this.Hf[e];if(c.If<=b)return c}}ta(b,e,c,g){var n=b/g;b=this.WW(n);g=b.re;g||(b=this.XW(n),g=b.re);n=f.Yaa(n,b.If,g.If,g.If-b.If);const h=b.If,l=b.Pu,m=b.If+b.HR,p=b.Pu+b.K$,r=g.If+g.MP,u=g.Pu+g.P9,q=g.If;g=g.Pu;g=a.$m("spline")(n,h,l,m,p,r,u,q,g,this.pu.get(b));g+=b.Pu;return(1-g)*e+g*(e+c)}L6(){this.pu.clear();for(let e=0;e<this.Hf.length-1;e++){var b=this.Hf[e];if(!b.zu)continue;const c=this.Hf[e+1];this.pu.set(b,
a.BW(b.If,b.If+b.HR,c.If+c.MP,c.If))}}}}{"use strict";const f=self.B;f.BM=class extends f.Z{constructor(a,b){super();this.If=b[0];this.Pu=b[1];this.HR=b[2];this.K$=b[3];this.MP=b[4];this.P9=b[5];this.zu=b[6];this.ty=b[7];this.re=null}m(){}static Ja(a,b){return f.j(f.BM,a,b)}ws(a){this.re=a}}}{"use strict";const f=self.B;f.P1=class extends f.Z{constructor(a){super();this.g=a;this.hA=[]}m(){for(const a of this.hA)a.m();f.C(this.hA);this.hA=null}Ja(a){this.hA.push(f.AM.Ja(a))}}}
{"use strict";const f=self.B;f.A1=class extends f.Z{constructor(a){super();this.J=a;this.eb=[];this.eb.push(f.j(f.nD,this));this.Ia=0;this.bi=this.eb[0]}m(){for(const a of this.eb)a.m();f.C(this.eb);this.J=this.bi=null}G(){return this.J}T(){return this.bi}bd(){this.T().bd()}J_(){var a=this.eb,b=++this.Ia;b===a.length?(b=f.j(f.nD,this),a.push(b),this.bi=b):(a=a[b],a.Sc(),this.bi=a)}K_(){const a=this.eb,b=++this.Ia;b===a.length&&a.push(f.j(f.nD,this));const e=a[b];e.FU(a[b-1]);this.bi=e}Fa(){this.bi=
this.eb[--this.Ia]}yn(a){const b=this.eb;for(let e=0,c=b.length;e<c;++e)b[e].yn(a)}}}
{"use strict";const f=self.B;f.nD=class extends f.Z{constructor(a){super();this.eb=a;this.J=this.eb.G();this.Ad=this.J.F().Pc();this.Ob=!0;this.D=[];this.nc=[]}m(){this.Cv();this.Ad=this.J=this.eb=null}Cv(){f.C(this.D);f.C(this.nc)}G(){return this.J}wK(){return this.Ob?!!this.J.D.length:!!this.D.length}fa(){return this.Ob?this.J.fa():this.D}PX(){return!!this.nc.length}Sc(){this.Ob=!0;f.C(this.nc)}bd(){this.Ob=!0}FU(a){a.Ob?this.Sc():(this.Ob=!1,f.xc(this.D,a.D),f.C(this.nc))}Bx(a){this.D.push(a)}On(a){this.nc.push(a)}tf(a){this.Ob=
!!a}gk(a){this.Ob=!1;f.C(this.D);this.D.push(a)}Tw(a){this.Ob=!1;f.xc(this.D,a)}ys(a){this.Ob=!1;f.C(this.D);for(const b of a)this.D.push(b)}WI(a,b){for(const e of b)a.has(e)||this.nc.push(e)}M1(a){for(const b of a)this.D.push(b);f.Lf(this.nc,a)}wl(a){a&&(this.Ad.gf().Eb().Bd?(this.Ob&&(f.C(this.D),f.xc(this.nc,a.G().fa()),this.Ob=!1),a=this.nc.indexOf(a),-1!==a&&(this.D.push(this.nc[a]),this.nc.splice(a,1))):this.gk(a))}yn(a){f.Lf(this.D,a);f.Lf(this.nc,a)}}}
{"use strict";const f=self.B;f.oW=class extends f.Z{constructor(a){super();this.na=a;this.g=this.na.F();this.eb=[];this.eb.push(f.j(f.HJ,this,null));this.Ia=0;this.xy=[]}m(){for(const a of this.eb)a.m();f.C(this.eb);f.C(this.xy);this.g=this.na=null}ca(){return this.na}F(){return this.g}gf(){return this.eb[this.Ia]}Ka(a){var b=this.eb;const e=++this.Ia;if(e===b.length)return a=f.j(f.HJ,this,a),b.push(a),a;b=b[e];b.Sc(a);return b}Fa(){--this.Ia}L_(a){this.xy.push(a)}A_(){this.xy.pop()}GW(){const a=
this.xy;return 0===a.length?null:a.Jd(-1)}}}
{"use strict";const f=self.B;f.HJ=class extends f.Z{constructor(a,b){super();this.eb=a;this.g=this.eb.F();this.tt=b;this.uf=this.uk=0;this.pF=this.wo=!1;this.OP=null;this.BF=this.ZP=0}m(){this.Sc(null);this.g=this.eb=null}Sc(a){this.tt=a;this.uf=this.uk=0;this.pF=this.wo=!1}iE(a,b){this.tt=a;this.uk=0;this.uf=b}FL(){this.uf=this.uk=0}Eb(){return this.tt}Yf(a){this.tt=a}zl(a){this.uk=a}Rw(a){this.uf=a}Bl(a){this.wo=!!a}Dp(a){this.pF=!!a}uY(a,b){this.ZP=a;this.BF=b}Xw(a){this.BF=a}Wi(){const a=this.tt;
return a.hz?!0:this.uk<a.Nb.length-1?!!a.cd().length:!1}}}{"use strict";const f=self.B;f.HZ=class extends f.Z{constructor(a){super();this.na=a;this.g=this.na.F();this.eb=[];this.Ia=-1;this.bi=null;this.Qy=[]}m(){f.C(this.eb);this.g=this.na=null}p8(a){this.Qy=a;a=this.Qy.slice(0);this.eb.push(a);this.Ia=0;this.bi=a}ca(){return this.na}F(){return this.g}fp(){return this.bi}Ka(){const a=++this.Ia,b=this.eb;a===b.length?b.push(this.Qy.slice(0)):f.xc(b[a],this.Qy);this.bi=b[a]}Fa(){this.bi=this.eb[--this.Ia]}}}
{"use strict";const f=self.B;f.JZ=class extends f.Z{constructor(a){super();this.na=a;this.g=this.na.F();this.eb=[];this.Ia=-1}m(){f.C(this.eb);this.g=this.na=null}ca(){return this.na}F(){return this.g}MK(){return 0<=this.Ia}fp(){return this.eb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.eb.length){var a=f.j(f.IZ,this);this.eb.push(a);return a}a=this.eb[this.Ia];a.Sc();return a}Fa(){--this.Ia}sW(a){const b=this.eb;for(let e=this.Ia;0<=e;--e){const c=b[e];if(c.wa()===a)return c}return null}}}
{"use strict";const f=self.B;f.IZ=class extends f.Z{constructor(a){super();this.Re=a;this.Ca="";this.Ia=0;this.hc=!1}Sc(){this.Ca="";this.Ia=0;this.hc=!1}Zw(a){this.Ca=a}wa(){return this.Ca}rc(a){this.Ia=a}Da(){return this.Ia}Je(){this.hc=!0}}}{"use strict";const f=self.B;f.VT=class extends f.Z{constructor(){super();this.eb=[];this.Ia=-1}m(){f.C(this.eb)}fp(){return this.eb[this.Ia]}Ka(){++this.Ia;if(this.Ia===this.eb.length){const a=[];this.eb.push(a);return a}return this.eb[this.Ia]}Fa(){--this.Ia}}}
{"use strict";const f=self.B;function a(b,e){return b.Da()-e.Da()}f.nW=class extends f.Z{constructor(b){super();this.g=b;this.ct=[];this.eH=new Map;this.GE=[];this.cQ=new Map;this.WE=new Map;this.cF=new Map;this.Rx=new Map;this.rP=new Map;this.sF=new Map;this.x$=0;this.FE=[];this.o9=[];this.TQ=[];this.zF=new Map;this.Ad=f.j(f.oW,this);this.ad=f.j(f.HZ,this);this.Re=f.j(f.JZ,this);this.wH=[];this.Oz=[];this.Nz=[];this.VE=this.yk=this.Rk=0;this.Ef=[];this.Vx=[];self.c3_callFunction=(e,c)=>this.yx(e,
c)}m(){this.Bv();this.Ad.m();this.Ad=null;this.ad.m();this.ad=null;f.C(this.Oz);f.C(this.Nz);this.g=null;f.C(this.ct);this.eH.clear()}Ja(b){b=f.j(f.mW,this,b);this.ct.push(b);this.eH.set(b.wa().toLowerCase(),b)}z2(b){this.wH.push(b)}Gb(){for(const b of this.zF.values())b.Gb(!1);for(const b of this.ct)b.Gb();for(const b of this.ct)b.zE();for(const b of this.wH)b.Gb(!1);f.C(this.wH);this.ad.p8(this.TQ)}F(){return this.g}VJ(b){return this.eH.get(b.toLowerCase())||null}Y6(b){this.GE.push(b);this.cQ.set(b.bQ,
b)}V6(b){this.WE.set(b.cb,b)}U6(b){this.cF.set(b.cb,b)}T6(b){this.Rx.set(b.cb,b)}X6(b){this.zF.set(b.Iy.toLowerCase(),b)}W6(b){this.sF.set(b.cb,b);b.qf()?this.FE.push(b):this.o9.push(b)}nx(b){2<=b.length&&b.sort(a);let e=this.rP.get(b.length);e||(e=[],this.rP.set(b.length,e));for(let g=0,n=e.length;g<n;++g){const h=e[g];a:{for(let l=0,m=b.length;l<m;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(b);return b}K4(b){this.TQ.push(b.no);return this.x$++}Pc(){return this.Ad}Ce(){return this.Pc().gf()}Eb(){return this.Ce().Eb()}ff(){const b=
this.Ce();return b.Eb().PJ(b.uk)}Vv(){const b=this.Ce();return b.Eb().NJ(b.uf)}zW(b){const e=[];for(b=b.lp();b;)f.Am(e,b.BN()),b=b.lp();return e}KN(b){const e={};for(const c of this.zW(b))e[c.Ch()]=c.ON();return Object.create(Object.prototype,e)}LB(b){return this.sF.get(b)||null}LW(b){return this.WE.get(b)||null}xW(b){return this.Rx.get(b)||null}cw(b){return this.zF.get(b.toLowerCase())||null}c0(){for(const b of this.FE)b.i0()}UJ(b){return this.cQ.get(b.toLowerCase())||null}MW(b){return(b=this.WE.get(b))&&
b.li?b:null}d0(){for(const b of this.GE)b.f0()}GO(){for(const b of this.ct)b.n7()}n0(b){this.GO();this.Rk++;for(const e of b.ov())if(b=e.Fc)this.g.ns(e),b.ga(),this.g.ms();this.Rk--}async UU(b){this.GO();this.Rk++;for(const e of this.x3(b))await this.g.bp(e);this.Rk--}*x3(b){for(const e of b.ov())if(b=e.Fc)this.g.ns(e),yield*b.fb(),this.g.ms()}$s(b,e,c,g){let n=!1;if(!b.Ib())return this.LC(e,c,g);this.yk++;for(const h of b.ov())if(b=h.Fc){this.g.ns(h);for(const l of b.ly){const m=l.$s(e,c,g);n=n||
m}b=b.$s(e,c,g);n=n||b;this.g.ms()}this.yk--;return n}*Is(b,e,c,g){let n=!1;if(!b.Ib())return this.LC(e,c,g);this.yk++;for(const h of b.ov())if(b=h.Fc){this.g.ns(h);for(const l of b.ly){const m=yield*l.Is(e,c,g);n=n||m}b=yield*b.Is(e,c,g);n=n||b;this.g.ms()}this.yk--;return n}LC(b,e,c){this.Oz.push([b,e,c]);return!1}N_(b,e,c){let g=null;const n=new Promise(h=>g=h);this.Nz.push([b,e,c,g]);return n}*x7(){if(this.g.$r())throw Error("should not be in breakpoint");const b=this.g.Va;for(;this.Nz.length;){const [e,
c,g,n]=this.Nz.shift(),h=yield*this.Is(b,e,c,g);n(h)}}async HL(){for(const b of this.x7())await this.g.bp(b)}rC(){return 0<this.yk}Ls(){return++this.yk}Js(){--this.yk}oZ(){return 0<this.Rk}es(){return this.oZ()||this.rC()}y7(b){for(const [e,c,g]of this.Oz)this.$s(b,e,c,g);f.C(this.Oz)}ef(b){b?this.VE++:this.VE--}LK(){return 0<this.VE}ap(b){for(let e=0,c=b.length;e<c;++e)b[e].jm.bd()}Vf(b){for(let e=0,c=b.length;e<c;++e)b[e].jm.J_()}ie(b){for(let e=0,c=b.length;e<c;++e)b[e].jm.K_()}Fb(b){for(let e=
0,c=b.length;e<c;++e)b[e].jm.Fa()}ZA(){const b=f.j(f.WC,this);this.Ef.push(b);return b}p0(){if(this.Ef.length){var b=this.Ce(),e=!1;this.Rk++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.dP()&&n.p7(b);n.vu&&(e=!0)}e&&this.xN();this.Rk--}}async WU(){if(this.Ef.length){var b=this.Ce(),e=!1;this.Rk++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.dP()&&await n.r3(b);n.vu&&(e=!0)}e&&this.xN();this.Rk--}}xN(){const b=f.$$(this.Ef,e=>e.vu);for(const e of b)e.m()}Bv(){for(const b of this.Ef)b.m();
f.C(this.Ef)}V_(b){for(const e of this.Ef)e.yn(b)}XA(b){this.Vx.push(b)}Dv(){f.C(this.Vx)}zX(){const b=Promise.all(this.Vx);this.Vx=[];return b}aa(){return{groups:this.F7(),cnds:this.E7(),acts:this.D7(),vars:this.R7(),waits:this.N7()}}da(b){this.F5(b.groups);this.A5(b.cnds);this.z5(b.acts);this.S5(b.vars);this.O5(b.waits)}F7(){const b={};for(const e of this.GE)b[e.cb.toString()]=e.ds();return b}F5(b){for(const [e,c]of Object.entries(b))(b=this.MW(parseInt(e,10)))&&b.Ep(c)}E7(){const b={};for(const [e,
c]of this.cF){const g=c.aa();g&&(b[e.toString()]=g)}return b}A5(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.cF)g.da(e.get(c)||null)}D7(){const b={};for(const [e,c]of this.Rx){const g=c.aa();g&&(b[e.toString()]=g)}return b}z5(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.Rx)g.da(e.get(c)||null)}R7(){const b={};for(const [e,c]of this.sF)c.lb||!c.qf()&&!c.Zg||(b[e.toString()]=c.hd());return b}S5(b){for(const [e,
c]of Object.entries(b))(b=this.LB(parseInt(e,10)))&&b.ke(c)}N7(){return this.Ef.filter(b=>!b.mZ()).map(b=>b.aa())}O5(b){this.Bv();for(const e of b)(b=f.WC.V2(this,e))&&this.Ef.push(b)}wB(b){for(;b;)if(b=b.lp(),b instanceof f.Cr)return b;return null}yx(b,e){Array.isArray(e)||(e=[]);b=this.cw(b.toLowerCase());if(!b)return null;if(!b.rn())return b.Ir();var c=b.pg;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].no);while(e.length<c.length)}c=b.ee();return c.TC(c.dd(),b.Pk,b.Ir(),...e)}}}
{"use strict";const f=self.B;f.mW=class extends f.Z{constructor(a,b){super();this.na=a;this.g=a.F();this.Ca=b[0];this.vy=[];this.iA=new Map;this.TP=new Map;this.Q9=new Map;this.Ht=!1;this.wR=[];this.ly=[];this.sP=new Set;for(const e of b[1])this.gN(e,null,this.vy);this.ri=this.g.mb?{type:"sheet",name:this.Ca,pv:0,children:[]}:null}m(){this.g=this.na=null}gN(a,b,e){switch(a[0]){case 0:case 3:this.T2(a,b,e);break;case 1:this.U2(a,b,e);break;case 2:this.Y2(a,b,e);break;case 4:this.W2(a,b);break;case 5:this.e3(a,
b,e);break;default:throw Error("invalid event type");}}T2(a,b,e){a=f.Oj.Ja(this,b,a);if(a.Bd){e.push(a);e=a.Nb;for(let c=0,g=e.length;c<g;++c)e[c].sn()&&this.ZN(a,c)}else a.sn()?this.ZN(a,0):e.push(a)}W2(a,b){a=f.Cr.Ja(this,b,a);this.na.X6(a)}U2(a,b,e){a=f.Ov.Ja(this,b,a);e.push(a)}Y2(a,b,e){a=f.GJ.Ja(this,b,a);e.push(a)}e3(a,b,e){a=f.Nv.Ja(this,b,a);e.push(a)}ZN(a,b){a.Bd||this.na.z2(a);var e=a.PJ(b),c=e.Ha,g=e.G();if(e.yQ){var n=this.TP.get(g);n||(n=new Map,this.TP.set(g,n));e=e.RW().toLowerCase();
g=n.get(c);g||(g=new Map,n.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([a,b])}else n=this.iA.get(g),n||(n={uI:new Map,Uu:new Map},this.iA.set(g,n)),(g=e.Qf())?(e=n.Uu.get(g),e||(e=new Map,n.Uu.set(g,e))):e=n.uI,n=e.get(c),n||(n=[],e.set(c,n)),n.push([a,b])}Gb(){const a=this.vy;for(let b=0,e=a.length;b<e;++b)a[b].Gb(b<e-1&&a[b+1]instanceof f.Oj&&a[b+1].Dw())}y2(a){this.wR.push(a)}zE(){f.C(this.ly);this.PM(this);this.sP.clear()}PM(a){const b=a.ly,e=a.sP;for(const c of this.wR){const g=c.Mt;c.zb&&
a!==g&&!e.has(g)&&(e.add(g),g.PM(a),b.push(g))}}ca(){return this.na}F(){return this.g}wa(){return this.Ca}AO(a,b){this.Q9.set(b,a)}n7(){this.Ht=!1}ga(){if(!this.Ht){var a=this.g,b=a.lC(),e=b?performance.now():0;this.Ht=!0;var c=this.ca(),g=c.Ce();for(const n of this.vy)n.ga(g),c.ap(n.cd()),c.Dv(),a.gd();g.Sc(null);b&&(this.ri.pv+=performance.now()-e)}}*fb(){if(!this.Ht){this.Ht=!0;var a=this.g,b=this.ca(),e=b.Ce();for(const c of this.vy)yield*c.fb(e),b.ap(c.cd()),b.Dv(),a.gd();e.Sc(null)}}$s(a,b,
e){if(b){const c=b.G();this.xE(a,b,c,e);for(const g of c.Ug)this.xE(a,b,g,e)}else return this.xE(a,b,null,null)}xE(a,b,e,c){e=this.iA.get(e);if(!e)return!1;c=c?e.Uu.get(c):e.uI;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,n]of c)c=this.wN(b,g,n),a=a||c;return a}*Is(a,b,e){if(b){const c=b.G();yield*this.LD(a,b,c,e);for(const g of c.Ug)yield*this.LD(a,b,g,e)}else return yield*this.LD(a,b,null,null)}*LD(a,b,e,c){e=this.iA.get(e);if(!e)return!1;c=c?e.Uu.get(c):e.uI;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,n]of c)c=g.$d()?this.wN(b,g,n):yield*this.l3(b,g,n),a=a||c;return a}wN(a,b,e){const c=this.g,g=this.na,n=g.Eb(),h=g.Pc(),l=g.yk;let m=!1;n&&g.Vf(n.dd());g.Vf(b.dd());const p=1<l;p&&g.ad.Ka();const r=h.Ka(b);a&&(b.Nb[e].G().T().gk(a),a.Qb()&&a.Ph());a=!0;if(b.ya()){const u=b.Ro;for(let q=0,v=u.length;q<v;++q)if(!u[q].GL(r)){a=!1;break}}a&&(c.Zj(),b.Bd?b.o0(r,e):b.ga(r),m=r.wo);h.Fa();p&&g.ad.Fa();g.Fb(b.dd());n&&g.Fb(n.dd());n||1!==l||(g.Dv(),g.LK()||c.gd());return m}*l3(a,
b,e){const c=this.g,g=this.na,n=g.Eb(),h=g.Pc(),l=g.yk;let m=!1;n&&g.Vf(n.dd());g.Vf(b.dd());const p=1<l;p&&g.ad.Ka();const r=h.Ka(b);a&&(b.Nb[e].G().T().gk(a),a.Qb()&&a.Ph());a=!0;if(b.ya()){const u=b.Ro;for(let q=0,v=u.length;q<v;++q)if(!(yield*u[q].zJ(r))){a=!1;break}}a&&(c.Zj(),b.Bd?yield*b.VU(r,e):yield*b.fb(r),m=r.wo);h.Fa();p&&g.ad.Fa();g.Fb(b.dd());n&&g.Fb(n.dd());n||1!==l||(g.Dv(),g.LK()||c.gd());return m}}}
{"use strict";const f=self.B,a=[];function b(){return!0}function*e(){return!0}f.Oj=class extends f.Z{constructor(c,g,n){super();this.Fc=c;this.g=c.F();this.oc=g;this.Fd=null;this.Ad=this.g.ca().Pc();this.te=[];this.Mq=[];this.Ft=this.iz=this.hz=this.hQ=!1;this.Bd=!!n[2];this.Zy=!1;this.Ro=null;this.Nb=[];this.Jb=[];this.kh=[];this.Vh=b;this.Ln=e;this.cG=this.li=!1;this.bQ="";this.az=!1;this.ri=this.jy=null;this.cb=n[4];this.hq=n[5];this.Fc.AO(this,this.hq);this.La=this.g.mb?{Mc:n[3][0],pI:n[3][1],
jS:!1,XH:!1,YH:!1,kS:!1}:null;this.ca().V6(this);3===n[0]&&this.h5(n[1]);c=0;for(var h of n[6])g=f.lJ.Ja(this,h,c++),this.Nb.push(g),this.UM(g.G());c=0;for(const l of n[7])h=f.tv.Ja(this,l,c++),this.Jb.push(h);if(9===n.length){n=n[8];for(const l of n)this.Fc.gN(l,this,this.kh)}this.Nb.length&&(this.Zy=null===this.Nb[0].G()&&this.Nb[0].Ha===f.M.Rb.ua.hW);0===this.Nb.length&&(this.Nb=a);0===this.Jb.length&&(this.Jb=a);0===this.kh.length&&(this.kh=a)}static Ja(c,g,n){return f.j(f.Oj,c,g,n)}h5(c){this.li=
!0;this.az=this.cG=!!c[0];this.bQ=c[1].toLowerCase();this.jy=[];this.ca().Y6(this);this.g.mb&&(this.ri={type:"group",name:c[1],pv:0,children:[]})}q2(c){this.jy.push(c)}OM(c,g){for(const n of c.lg.Mk)g.includes(n)||g.push(n)}VM(c,g){if(c)if(g.includes(c)||g.push(c),c.$a)for(const n of c.fo)n.Qb()&&this.OM(n,g);else c.Qb()&&this.OM(c,g)}UM(c){this.VM(c,this.te)}u2(c){this.VM(c,this.Mq)}w0(){this.te=this.g.Ac}Gb(c){this.Ft=!!c;this.a5();this.b5();for(const n of this.Nb)n.Gb();if(0<this.Jb.length){c=
!1;for(var g of this.Jb)g.Gb(),g.YX()&&(c=!0);c?(this.Vh=this.r7,this.Ln=this.t3):(this.Vh=this.q7,this.Ln=this.s3)}g=this.kh;for(let n=0,h=g.length;n<h;++n)g[n].Gb(n<h-1&&g[n+1]instanceof f.Oj&&g[n+1].Dw());this.La&&this.W8();this.ri&&this.N4().ri.children.push(this.ri)}N4(){let c=this.ya();for(;c;){if(c.li)return c;c=c.ya()}return this.Fc}W8(){const c=this.La;c.jS=this.Nb.every(g=>g.$d());c.XH=this.Jb.every(g=>g.$d());c.YH=this.kh.every(g=>g.$d());c.kS=c.jS&&c.XH&&c.YH}a5(){if(this.li){var c=this.ya();
for(this.iz=!0;c;){if(!c.li){this.iz=!1;break}c=c.ya()}}}Z4(){var c=this.g.Ac;if(this.te===c)this.Mq=c;else{this.Mq=f.aI(this.te);for(c=this.ya();c;){for(var g of c.te)this.u2(g);c=c.ya()}g=this.ca();this.te=g.nx(this.te);this.Mq=g.nx(this.Mq)}}b5(){if(this.QX()){this.Ro=[];for(var c=this.ya();c;)this.Ro.push(c),c=c.ya();this.Ro.reverse()}}zs(){this.hz=!0;this.oc&&this.oc.zs()}cd(){return this.te}dd(){this.hQ||(this.hQ=!0,this.Z4());return this.Mq}$X(c){return this.te.includes(c)}ca(){return this.Fc.ca()}F(){return this.g}ya(){return this.oc}v8(c){this.Fd=
c}lp(){return this.Fd||this.oc}mC(){return this.La&&this.La.pI}pn(){return this.mC()&&this.La.Mc}Dw(){return this.Zy}ds(){return this.az}f0(){this.Ep(this.cG)}Ep(c){c=!!c;if(!this.li)throw Error("not a group");if(this.az!==c){this.az=c;for(const g of this.jy)g.EM();this.jy.length&&(c=this.g.Pa().Fc)&&c.zE()}}sn(){return this.Nb.length&&this.Nb[0].sn()}hZ(){return this.Fd&&this.Fd instanceof f.Cr}QX(){return this.hZ()||this.Nb.some(c=>c.sn())}PJ(c){c=Math.floor(c);if(0>c||c>=this.Nb.length)throw new RangeError("invalid condition index");
return this.Nb[c]}gZ(c){let g=c.Da();if(0===g)return!0;for(--g;0<=g;--g)if(this.Nb[g].G()===c.G())return!1;return!0}NJ(c){c=Math.floor(c);if(0>c||c>=this.Jb.length)throw new RangeError("invalid action index");return this.Jb[c]}Y4(c){c=Math.floor(c);return 0<=c&&c<this.Jb.length}BN(){return this.kh.filter(c=>c instanceof f.Ov)}GL(c){c.Yf(this);let g=!1;const n=this.Nb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.zl(h);if(m.eG)throw Error("trigger cannot be used as sub-event to a loop");if(m.ga())g=
!0;else if(!this.Bd)return!1}return this.Bd?g:!0}o0(c,g){c.Yf(this);this.Nb[g].ga()&&(this.Vh(c,0)&&this.nk(),c.Bl(!0))}*zJ(c){c.Yf(this);let g=!1;const n=this.Nb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.zl(h);if(m.eG)throw Error("trigger cannot be used as sub-event to a loop");if(m.$d()?m.ga():yield*m.fb())g=!0;else if(!this.Bd)return!1}return this.Bd?g:!0}*VU(c,g){c.Yf(this);g=this.Nb[g];if(g.$d()?g.ga():yield*g.fb())(this.Hv()?this.Vh(c,0):yield*this.Ln(c,0))&&(this.Iv()?this.nk():yield*this.Hs()),
c.Bl(!0)}ga(c){c.Yf(this);this.Zy||c.Dp(!1);this.Bd?this.w7(c):this.Dx(c)}*fb(c){if(this.pn()||this.g.cc())yield this;c.Yf(this);this.Zy||c.Dp(!1);this.Bd?yield*this.E3(c):yield*this.ID(c)}w7(c){const g=this.Nb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.sn()||(c.zl(l),h=h.ga(),n=n||h)}c.Bl(n);n&&(this.Vh(c,0)&&this.nk(),this.Ft&&c.Dp(!0))}*E3(c){const g=this.Nb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.sn()||(c.zl(l),h=h.$d()?h.ga():yield*h.fb(),n=n||h)}c.Bl(n);
n&&((this.Hv()?this.Vh(c,0):yield*this.Ln(c,0))&&(this.Iv()?this.nk():yield*this.Hs()),this.Ft&&c.Dp(!0))}Dx(c){const g=this.Nb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.zl(n);if(!l.ga()){c.Bl(!1);return}}c.Bl(!0);this.Vh(c,0)&&this.nk();c.wo&&this.Ft&&c.Dp(!0)}*ID(c){const g=this.Nb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.zl(n);if(l.$d()?!l.ga():!(yield*l.fb())){c.Bl(!1);return}}c.Bl(!0);(this.Hv()?this.Vh(c,0):yield*this.Ln(c,0))&&(this.Iv()?this.nk():yield*this.Hs());c.wo&&this.Ft&&
c.Dp(!0)}q7(c,g){const n=this.Jb;for(let h=g,l=n.length;h<l;++h)g=n[h],c.Rw(h),g.ga();return!0}*s3(c,g){const n=this.Jb;for(let h=g,l=n.length;h<l;++h)g=n[h],c.Rw(h),g.$d()?g.ga():yield*g.fb();return!0}r7(c,g){const n=this.ca(),h=this.Jb;for(let l=g,m=h.length;l<m;++l){g=h[l];c.Rw(l);const p=g.ga();if(g.eJ()&&!0===p)return!1;g.Uf()&&p instanceof Promise&&n.XA(p)}return!0}*t3(c,g){const n=this.ca(),h=this.Jb;for(let l=g,m=h.length;l<m;++l){g=h[l];c.Rw(l);let p;p=g.$d()?g.ga():yield*g.fb();if(g.eJ()&&
!0===p)return!1;g.Uf()&&p instanceof Promise&&n.XA(p)}return!0}o7(c){this.Vh(c,c.uf)&&this.nk()}*q3(c){if(yield*this.Ln(c,c.uf))yield*this.Hs()}nk(){if(this.kh.length){var c=this.li&&this.g.lC(),g=c?performance.now():0,n=this.Ad,h=n.Ka(this);this.hz?this.B7(h):this.A7(h);n.Fa();c&&(this.ri.pv+=performance.now()-g)}}B7(c){const g=this.li,n=this.iz,h=this.ca(),l=this.kh;for(let m=0,p=l.length,r=p-1;m<p;++m){const u=l[m],q=u.cd(),v=!n||!g&&m<r;v&&h.ie(q);u.ga(c);v?h.Fb(q):h.ap(q)}}A7(c){const g=this.kh;
for(let n=0,h=g.length;n<h;++n)g[n].ga(c)}*Hs(){if(this.kh.length){var c=this.Ad,g=c.Ka(this);this.hz?yield*this.H3(g):yield*this.G3(g);c.Fa()}}*H3(c){const g=this.li,n=this.iz,h=this.ca(),l=this.kh;for(let m=0,p=l.length,r=p-1;m<p;++m){const u=l[m],q=u.cd(),v=!n||!g&&m<r;v&&h.ie(q);yield*u.fb(c);v?h.Fb(q):h.ap(q)}}*G3(c){const g=this.kh;for(let n=0,h=g.length;n<h;++n)yield*g[n].fb(c)}Wf(c,g){this.g.Zj();g.FL();const n=this.Nb;if(!this.Bd)for(let h=c.uk+1,l=n.length;h<l;++h)if(c=n[h],g.zl(h),!c.ga())return!1;
this.Vh(g,0)&&this.nk();return!0}*Of(c,g){this.g.Zj();g.FL();const n=this.Nb;if(!this.Bd)for(let h=c.uk+1,l=n.length;h<l;++h)if(c=n[h],g.zl(h),c.$d()?!c.ga():!(yield*c.fb()))return!1;(this.Hv()?this.Vh(g,0):yield*this.Ln(g,0))&&(this.Iv()?this.nk():yield*this.Hs());return!0}$d(){return!this.pn()&&!this.g.cc()&&this.La.kS}Hv(){return!this.g.cc()&&this.La.XH}Iv(){return!this.g.cc()&&this.La.YH}BD(c){if(this.ya()){const g=this.Ro;for(let n=0,h=g.length;n<h;++n)if(!g[n].GL(c))return!1}return!0}*hN(c){if(this.ya()){const g=
this.Ro;for(let n=0,h=g.length;n<h;++n)if(!(yield*g[n].zJ(c)))return!1}return!0}vN(c,g,n){0<g.length?n?(g=g.map(h=>h.V(0)),c.ad.Ka(),this.Fd.vs(g)):this.Fd.lW(g):n&&c.ad.Ka()}l0(c,g){let n,h;const l=0<c.length;var m=this.g;const p=this.Ad,r=m.ca(),u=1<r.Ls();this.vN(r,g,u);l&&r.Vf(c);g=p.Ka(this);this.BD(g)&&(m.Zj(),g.Yf(this),(m=this.Fd.Uf())&&([h,n]=this.Fd.pD()),this.Dx(g),m&&this.Fd.hs(h));p.Fa();u&&r.ad.Fa();l&&r.Fb(c);r.Js();return n}*SU(c,g){let n,h;if(this.pn()||this.g.cc())yield this;const l=
0<c.length;var m=this.g;const p=this.Ad,r=m.ca(),u=1<r.Ls();this.vN(r,g,u);l&&r.Vf(c);g=p.Ka(this);if(yield*this.hN(g))m.Zj(),g.Yf(this),(m=this.Fd.Uf())&&([h,n]=this.Fd.pD()),yield*this.ID(g),m&&this.Fd.hs(h);p.Fa();u&&r.ad.Fa();l&&r.Fb(c);r.Js();return n}m0(c){const g=this.dd(),n=0<g.length,h=this.g,l=this.Ad,m=h.ca(),p=1<m.Ls();p&&m.ad.Ka();this.Fd.vs(c);n&&m.Vf(g);c=l.Ka(this);this.BD(c)&&(h.Zj(),c.Yf(this),this.Dx(c));l.Fa();p&&m.ad.Fa();n&&m.Fb(g);m.Js()}*TU(c){if(this.pn()||this.g.cc())yield this;
const g=this.dd(),n=0<g.length,h=this.g,l=this.Ad,m=h.ca(),p=1<m.Ls();p&&m.ad.Ka();this.Fd.vs(c);n&&m.Vf(g);c=l.Ka(this);if(yield*this.hN(c))h.Zj(),c.Yf(this),yield*this.ID(c);l.Fa();p&&m.ad.Fa();n&&m.Fb(g);m.Js()}TC(c,g,n,...h){let l,m;const p=0<c.length,r=this.g,u=this.Ad,q=r.ca(),v=1<q.Ls();v&&q.ad.Ka();0<h.length&&this.Fd.vs(h);p&&q.Vf(c);h=u.Ka(this);h.uY(g,n);u.L_(h);r.Vw(!1);this.BD(h)&&(r.Zj(),h.Yf(this),(g=this.Fd.Uf())&&([m,l]=this.Fd.pD()),this.Dx(h),g&&this.Fd.hs(m));r.Vw(!0);u.Fa();u.A_();
v&&q.ad.Fa();p&&q.Fb(c);q.Js();return l||h.BF}}}
{"use strict";const f=self.B,a=[];let b=!1;f.Nv=class extends f.Z{constructor(e,c,g){super();const n=e.F(),h=e.ca();this.Fc=e;this.na=h;this.g=e.F();this.oc=c;this.Ha=n.Ig(g[1]);this.hq=g[2];this.Fc.AO(this,this.hq);this.La=n.mb?{Mc:g[3][0],pI:g[3][1]}:null}static Ja(e,c,g){return f.j(f.Nv,e,c,g)}Gb(){const e=this.Ha,c=this.g.ca().KN(this);this.Ha=e.bind(null,this.g.ji,c)}ya(){return this.oc}lp(){return this.oc}mC(){return this.La&&this.La.pI}pn(){return this.mC()&&this.La.Mc}Dw(){return!1}cd(){return a}dd(){return this.oc?
this.oc.dd():a}ga(e){e.Yf(this);this.na.XA(this.C7())}async C7(){try{await this.Ha()}catch(e){console.error(`Unhandled exception running script %c${this.Fc.wa()}, event ${this.hq}:`,"font-size: 1.2em; font-weight: bold;",e),self.Nf&&self.Nf.r8(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*fb(e){e.Yf(this);if(this.pn()||this.g.cc())yield this;
this.ga(e)}$d(){return!this.pn()&&!this.g.cc()}static MX(){return b}static O0(){b=!0}}}
{"use strict";const f=self.B;f.Cr=class extends f.Z{constructor(a,b,e){super();this.Fc=a;this.g=a.F();this.oc=b;const c=e[1];this.Iy=c[0];this.Pk=c[1];this.pg=c[2].map(g=>f.Ov.Ja(a,this,g));this.c$=c[3];this.QF=[];this.Pt=c[4];this.t$=0;this.qt=-1;this.ft=new Map;this.zd=f.Oj.Ja(a,b,e);this.zd.v8(this)}static Ja(a,b,e){return f.j(f.Cr,a,b,e)}Gb(){for(const a of this.pg)a.Gb();this.zd.Gb(!1)}BN(){return this.pg}Z6(a){this.QF.push(a)}lW(a){const b=this.pg;for(let e=0,c=b.length;e<c;++e)b[e].ke(a[e].V(0))}vs(a){const b=
this.pg;for(let e=0,c=b.length;e<c;++e)b[e].ke(a[e])}qU(){return this.pg.map(a=>a.hd())}ya(){return this.oc}lp(){return this.oc}rn(){return this.c$}Ir(){switch(this.Pk){case 0:return null;case 2:return"";default:return 0}}ee(){return this.zd}Uf(){return this.Pt}pD(){const a=this.t$++;this.qt=a;let b;const e=new Promise(c=>b=c);this.ft.set(a,{resolve:b,BI:0});return[a,e]}hs(a){const b=this.ft.get(a);0===b.BI&&(b.resolve(),this.ft.delete(a));this.qt=-1}x_(){this.ft.get(this.qt).BI++;return this.qt}k0(a){this.qt=
a;this.ft.get(a).BI--}}}
{"use strict";const f=self.B,a=[];f.Ov=class extends f.Z{constructor(b,e,c){super();const g=b.ca();this.Fc=b;this.na=g;this.g=b.F();this.oc=e;this.ad=g.ad;this.Ca=c[1];this.oa=c[2];this.no=c[3];this.Zg=!!c[4];this.lb=!!c[5];this.e$=e instanceof f.Cr;this.cb=c[6];this.au=this.g.Ch(c[8]);this.H$=n=>this.ke(n);this.F$=()=>this.hd();this.jQ=!this.oc||this.Zg||this.lb;this.qc=this.no;this.zG=-1;this.GK()&&(this.qc=this.qc?1:0);!this.tC()||this.Zg||this.lb||(this.zG=g.K4(this));g.W6(this)}static Ja(b,e,
c){return f.j(f.Ov,b,e,c)}Gb(){if(this.tC()&&!this.Zg&&!this.lb&&!this.e$){const b=this.na.wB(this);b&&b.Z6(this)}}wa(){return this.Ca}Ch(){return this.au}ya(){return this.oc}lp(){return this.ya()}qf(){return!this.ya()}tC(){return!this.qf()}tl(){return 0===this.oa}Hh(){return 1===this.oa}GK(){return 2===this.oa}Dw(){return!1}cd(){return a}ga(){!this.tC()||this.Zg||this.lb||this.ke(this.no)}$d(){return!0}*fb(b){this.ga(b)}ke(b){this.tl()?"number"!==typeof b&&(b=parseFloat(b)):this.Hh()?"string"!==
typeof b&&(b=b.toString()):this.GK()&&(b=b?1:0);this.jQ?this.qc=b:this.ad.fp()[this.zG]=b}hd(){return this.jQ?this.qc:this.ad.fp()[this.zG]}i0(){this.qc=this.no}ON(){return{configurable:!1,enumerable:!0,get:this.F$,set:this.H$}}}}
{"use strict";const f=self.B,a=[];f.GJ=class extends f.Z{constructor(b,e,c){super();const g=b.ca();this.Fc=b;this.na=g;this.g=b.F();this.oc=e;this.Mt=null;this.X9=c[1];this.zb=!0}static Ja(b,e,c){return f.j(f.GJ,b,e,c)}Gb(){this.Mt=this.na.VJ(this.X9);this.Fc.y2(this);let b=this.ya();for(;b;)b instanceof f.Oj&&b.li&&b.q2(this),b=b.ya();this.EM();this.g.mb&&this.Fc.ri.children.push(this.Mt.ri)}ya(){return this.oc}cd(){return a}ga(){const b=!!this.ya(),e=this.g.Ac;b&&this.na.Vf(e);this.Mt.ga();b&&this.na.Fb(e)}*fb(){const b=
!!this.ya(),e=this.g.Ac;b&&this.na.Vf(e);yield*this.Mt.fb();b&&this.na.Fb(e)}$d(){return!1}EM(){let b=this.ya();for(;b;){if(b instanceof f.Oj&&b.li&&!b.ds()){this.zb=!1;return}b=b.ya()}this.zb=!0}}}
{"use strict";const f=self.B;f.Um=class extends f.Z{constructor(h){super();this.ic=h;this.g=h.F()}Gb(){}static MU(h,l){return f.j([g,e,c,n,a,b][l[0]],h,l)}};class a extends f.Um{constructor(h,l){super(h);this.od=this.g.Ur();this.Ha=this.g.Ig(l[1]);this.Ha!==f.M.Rb.Vm.random&&this.Ha!==f.M.Rb.Vm.eaa||this.ic.mD()}CB(){return this.od.hj(this.Ha,this.od)}}class b extends f.Um{constructor(h,l){super(h);this.qq=null;this.Iy=l[1];this.ic.mD()}Gb(){const h=this.g.ca();this.qq=h.cw(this.Iy);this.Iy=null;
const l=this.qq.ee();this.vk=[...new Set([...this.ic.ee().dd(),...l.dd()])];this.vk=h.nx(this.vk)}CB(){const h=this.qq;if(h.rn())return f.Oj.prototype.TC.bind(h.ee(),this.vk,h.Pk,h.Ir());{const l=h.Ir();return()=>l}}}class e extends f.Um{constructor(h,l){super(h);this.J=this.g.De(l[1]);this.Ha=this.g.Ig(l[2]);this.Ad=this.g.ca().Pc();this.ic.cE(this.J)}CB(){return this.J.ub().hj(this.Ha,this.J.Si().xa)}}class c extends f.Um{constructor(h,l){super(h);this.J=this.g.De(l[1]);this.ic.cE(this.J)}}class g extends f.Um{constructor(h,
l){super(h);this.J=this.g.De(l[1]);this.Bc=this.J.Sv(l[2]);this.Zh=this.J.Er(l[2]);this.Ha=this.g.Ig(l[3]);this.Ad=this.g.ca().Pc();this.ic.cE(this.J)}}class n extends f.Um{constructor(h,l){super(h);this.uy=null;this.rF=l[1]}Gb(){this.uy=this.g.ca().LB(this.rF)}}}
{"use strict";const f=self.B;f.he=class extends f.Z{constructor(A,G,z){super();this.ic=A;this.Ia=z;this.oa=G;this.V=null;this.lb=this.we=!1}static Ja(A,G,z){const F=G[0];return f.j([b,e,p,g,h,c,l,b,g,g,r,u,p,v,e,m,n,q,w,y][F],A,F,z,G)}Gb(){}mD(){this.we=!0}cE(A){this.we||!A||A.ub().Wl||(this.we=!0)}Da(){return this.Ia}F(){return this.ic.F()}ee(){return this.ic.ee()}};function a(A){A=self.gU[A];if(!A)throw Error("invalid expression number");return A}class b extends f.he{constructor(A,G,z,F){super(A,
G,z);A=F[1];this.tF=A[0];this.Dq=[];this.yy=null;for(let I=1,J=A.length;I<J;++I)this.Dq.push(f.Um.MU(this,A[I]));this.Dq.length?this.V=this.PW:(this.V=a(this.tF),this.lb=!0)}L4(){if(0>=this.Dq.length)throw new RangeError("invalid numbered node");return this.Dq[0]}Gb(){for(var A of this.Dq)A.Gb();A=a(this.tF);this.yy=this.Dq.length?A(this):A}PW(){return this.yy()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.V=this.DX;14===G&&(this.ee().w0(),this.ic instanceof f.tv&&this.ee().zs())}DX(){const A=
this.yy();return"string"===typeof A?A:""}E4(){return a(this.tF)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.V=this.$;this.lb=!1}$(){const A=this.yy();return this.F().Pa().$(A)}}class g extends f.he{constructor(A,G,z,F){super(A,G,z);this.I9=F[1];this.V=this.FW;this.lb=!0}FW(){return this.I9}}class n extends f.he{constructor(A,G,z,F){super(A,G,z);this.v9=F[1];this.V=this.EW;this.lb=!0}EW(){return this.v9}}class h extends f.he{constructor(A,G,z,F){super(A,G,z);this.J=this.F().De(F[1]);
this.V=this.G;A=this.ee();A.UM(this.J);this.ic instanceof f.tv?A.zs():A.ya()&&A.ya().zs();this.lb=!0}G(){return this.J}}class l extends f.he{constructor(A,G,z,F){super(A,G,z);this.sg=this.F().Va.hp(F[1]);this.V=this.Pb;this.lb=!0}Pb(){return this.sg}}class m extends f.he{constructor(A,G,z,F){super(A,G,z);this.lh=this.F().yb.qw(F[1]);this.V=this.kb;this.lb=!0}kb(){return this.lh}}class p extends f.he{constructor(A,G,z,F){super(A,G,z);this.R9=F[1];this.V=this.SW;this.lb=!0}SW(){return this.R9}}class r extends f.he{constructor(A,
G,z,F){super(A,G,z);this.tQ=F[1];(A=this.ic.G())&&A.$a?(this.V=this.QW,this.mD()):(this.V=this.cX,this.lb=!0)}cX(){return this.tQ}QW(A){A=A||0;const G=this.ic.G();var z=G.T();const F=z.fa();if(F.length)A=F[A%F.length].G();else if(z.PX())z=z.nc,A=z[A%z.length].G();else if(0<G.D.length)z=G.fa(),A=z[A%z.length].G();else return 0;return this.tQ+A.WJ(G.ii)}}class u extends f.he{constructor(A,G,z,F){super(A,G,z);this.rF=F[1];this.uy=null;this.V=this.NW;this.lb=!0}Gb(){this.uy=this.F().ca().LB(this.rF)}NW(){return this.uy}}
class q extends f.he{constructor(A,G,z,F){super(A,G,z);this.XP=F[1];this.qq=null;this.V=this.ZW;this.lb=!0}Gb(){this.qq=this.F().ca().cw(this.XP);this.XP=null}ZW(){return this.qq}}class v extends f.he{constructor(A,G,z,F){super(A,G,z);this.sH=[];this.UR=[];this.lb=!0;for(let I=1,J=F.length;I<J;++I)A=f.he.Ja(this.ic,F[I],0),this.sH.push(A),this.UR.push(0),A.lb||(this.lb=!1);this.V=this.KX}Gb(){for(const A of this.sH)A.Gb()}KX(){const A=this.sH,G=this.UR;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].V(0);
return G}}class w extends f.he{constructor(A,G,z,F){super(A,G,z);this.N9=F[1];this.V=this.ll;this.lb=!0}ll(){return this.N9}}class y extends f.he{constructor(A,G,z,F){super(A,G,z);this.A9=F[1];this.V=this.GX;this.lb=!0}GX(){return this.A9}}}
{"use strict";const f=self.B;function a(c,g){for(let n=0,h=c.length;n<h;++n)g[n]=c[n].V(0)}const b=[],e=function(){};f.lJ=class extends f.Z{constructor(c,g,n){super();this.zd=c;this.g=c.F();this.Ia=n;this.Ha=this.g.Ig(g[1]);this.iG=0<g[3];this.yQ=2===g[3];this.eG=!!g[4];this.mi=!!g[5];this.Zg=!!g[6];this.cb=g[7];this.zQ=this.zd.Bd;this.Bc=this.J=null;this.Zh=-1;this.od=null;this.fb=this.ga=e;this.Ea=[];this.nb=[];this.rk=!1;this.mh=this.xb=null;this.La=this.g.mb?{Mc:g[8][0],Ze:g[8][1]}:null;-1===
g[0]?this.od=this.g.Ur():(this.J=this.g.De(g[0]),g[2]&&(this.Bc=this.J.Sv(g[2]),this.Zh=this.J.Er(g[2])),this.zd.ya()&&this.zd.ya().zs());if(10===g.length){c=g[9];for(let h of c)this.Ea.push(f.he.Ja(this,h,this.Ea.length)),this.nb.push(0)}0===this.Ea.length&&(this.nb=this.Ea=b);this.zd.ca().U6(this)}static Ja(c,g,n){return f.j(f.lJ,c,g,n)}Gb(){for(const c of this.Ea)c.Gb(),c.we&&(this.rk=!0);this.yQ?(this.ga=this.s7,this.fb=this.y3):this.od?(this.tE(),this.fb=this.KD):this.J.ub().Wl?(this.sE(),this.fb=
this.JD):this.Zg?(this.ga=this.z7,this.fb=this.F3):(this.ga=this.MO,this.fb=this.z3)}tE(){this.Ys(this.od,this.od,this.lE)}sE(){const c=this.J.ub(),g=this.J.Si().xa;this.Ys(c,g,this.kE)}Ys(c,g,n){const h=this.Ha,l=this.mi,m=this.Ea;if(0===m.length){const p=c.hj(h,g);this.ga=l?function(){return f.xor(p(),l)}:p}else if(1===m.length){const p=m[0];if(!l&&p.lb)this.ga=c.CN(h,g,p.V(0));else{const r=c.hj(h,g);this.ga=function(){return f.xor(r(p.V(0)),l)}}}else if(2===m.length){const p=m[0],r=m[1];if(!l&&
p.lb&&r.lb)this.ga=c.DN(h,g,p.V(0),r.V(0));else{const u=c.hj(h,g);this.ga=function(){return f.xor(u(p.V(0),r.V(0)),l)}}}else if(3===m.length){const p=m[0],r=m[1],u=m[2];if(!l&&p.lb&&r.lb&&u.lb)this.ga=c.EN(h,g,p.V(0),r.V(0),u.V(0));else{const q=c.hj(h,g);this.ga=function(){return f.xor(q(p.V(0),r.V(0),u.V(0)),l)}}}else this.ga=n}G(){return this.J}Qf(){return this.Bc}ee(){return this.zd}F(){return this.g}Da(){return this.Ia}QJ(){return this.Da()}sn(){return this.iG}$d(){return!this.La.Mc&&!this.g.cc()&&
!this.La.Ze}Xj(){this.xb||(this.xb=new Map);return this.xb}Xr(){this.mh||(this.mh=new Map);return this.mh}lE(){const c=this.nb;a(this.Ea,c);return f.xor(this.Ha.apply(this.od,c),this.mi)}*KD(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){var c=this.nb;a(this.Ea,c);c=this.Ha.apply(this.od,c);f.sl(c)&&(c=yield*c);return f.xor(c,this.mi)}return this.ga()}kE(){const c=this.nb;a(this.Ea,c);const g=this.J.Si().xa;return f.xor(this.Ha.apply(g,c),this.mi)}*JD(){if(this.La.Mc||this.g.cc())yield this;
if(this.La.Ze){var c=this.nb;a(this.Ea,c);const g=this.J.Si().xa;c=this.Ha.apply(g,c);f.sl(c)&&(c=yield*c);return f.xor(c,this.mi)}return this.ga()}s7(){return!0}*y3(){if(this.La.Mc||this.g.cc())yield this;return!0}z7(){var c=this.nb;a(this.Ea,c);c=this.Ha.apply(this.Bc||this.J,c);this.J.jc();return c}*F3(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){var c=this.nb;a(this.Ea,c);c=this.Ha.apply(this.Bc||this.J,c);f.sl(c)&&(c=yield*c);this.J.jc();return c}return this.ga()}MO(){const c=this.Ea,
g=this.nb,n=this.J.T();for(let h=0,l=c.length;h<l;++h){const m=c[h];m.we||(g[h]=m.V(0))}return n.Ob?this.t7(n):this.u7(n)}*z3(){if(this.La.Mc||this.g.cc())yield this;return this.MO()}PD(c){const g=this.Ea,n=this.nb;for(let h=0,l=g.length;h<l;++h){const m=g[h];m.we&&(n[h]=m.V(c))}}t7(c){const g=this.J,n=g.$a,h=g.ii,l=this.Zh,m=0<=l,p=g.fa(),r=this.rk,u=this.nb,q=this.Ha,v=this.mi,w=this.zQ&&!this.iG;c.Cv();for(let A=0,G=p.length;A<G;++A){const z=p[A];r&&this.PD(A);var y=void 0;m?(y=n?z.G().Wm(h):0,
y=q.apply(z.$c[l+y].xa,u)):y=q.apply(z.xa,u);f.xor(y,v)?c.Bx(z):w&&c.On(z)}c.tf(!1);g.jc();return c.wK()}u7(c){const g=this.J,n=g.$a,h=g.ii,l=g.Qb(),m=this.Zh,p=0<=m,r=this.rk,u=this.nb,q=this.Ha,v=this.mi,w=this.zQ&&!this.iG,y=c.D,A=c.nc,G=w&&!this.zd.gZ(this),z=G?A:y;let F=0,I=!1;for(let M=0,Q=z.length;M<Q;++M){const S=z[M];r&&this.PD(M);var J=void 0;p?(J=n?S.G().Wm(h):0,J=q.apply(S.$c[m+J].xa,u)):J=q.apply(S.xa,u);f.xor(J,v)?(I=!0,G?(y.push(S),l&&S.Q6()):(z[F]=S,l&&S.x8(F),++F)):G?(z[F]=S,l&&S.w8(F),
++F):w&&(A.push(S),l&&S.P6())}f.Ae(z,F);l&&g.T8(G,F);G&&!I&&(I=this.I6(y));return w?I:c.wK()}I6(c){var g=this.J;const n=g.$a;g=g.ii;const h=this.rk,l=this.Zh,m=0<=l,p=this.nb,r=this.Ha,u=this.mi;for(let v=0,w=c.length;v<w;++v){var q=c[v];h&&this.PD(v);if(m){const y=n?q.G().Wm(g):0;q=r.apply(q.$c[l+y].xa,p)}else q=r.apply(q.xa,p);if(f.xor(q,u))return!0}return!1}qs(c,g){return this.Ea[c].V(g)}RW(){const c=this.Ea;if(!c.length)throw Error("no parameters");return c[0].E4()}aa(){if(!this.xb||!this.xb.size)return null;
const c={};for(const [g,n]of this.xb.entries()){let h=n;"collmemory"===g&&(h=[...n.entries()].map(l=>[l[0].Jc,l[1].Jc,l[2]]));c[g]=h}return{ex:c}}da(c){this.xb&&(this.xb.clear(),this.xb=null);if(c){var g=this.g,n=c.ex;if(n){c=this.Xj();c.clear();for(const [h,l]of Object.entries(n))n=l,"collmemory"===h&&(n=f.j(f.ls,l.map(m=>[g.Ni(m[0]),g.Ni(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(h,n)}}}}}
{"use strict";const f=self.B;function a(g,n){for(let h=0,l=g.length;h<l;++h)n[h]=g[h].V(0)}const b=[],e=function(){},c=function*(){};f.tv=class extends f.Z{constructor(g,n,h){super();this.zd=g;this.g=g=g.F();this.Ia=h;this.cb=4<=n.length?n[3]:-1;this.Qx=5<=n.length?n[4]:0;this.Bc=this.J=this.Ha=null;this.Zh=-1;this.od=null;this.by="";this.vk=this.ay=null;this.fb=this.ga=e;this.Ea=[];this.nb=[];this.rk=!1;this.mh=this.xb=null;const l=(h=-3===n[0])?n[2]:n[5];this.La=g.mb||h?{Mc:l[0],Ze:l[1],index:l[2]}:
null;-1===n[0]?(this.od=g.Ur(),this.Ha=g.Ig(n[1])):-2===n[0]?this.by=n[1]:h?(this.Ha=g.Ig(n[1]),this.ga=this.UC,this.fb=this.XU,this.Qx=1):(this.Ha=g.Ig(n[1]),this.J=g.De(n[0]),n[2]&&(this.Bc=this.J.Sv(n[2]),this.Zh=this.J.Er(n[2])));if(7===n.length){n=n[6];for(const m of n)this.Ea.push(f.he.Ja(this,m,this.Ea.length)),this.nb.push(0)}0===this.Ea.length&&(this.nb=this.Ea=b);this.zd.ca().T6(this)}static Ja(g,n,h){return f.j(f.tv,g,n,h)}Gb(){for(var g of this.Ea)g.Gb(),g.we&&(this.rk=!0);if(this.od)this.tE(),
this.fb=this.KD;else if(this.by)this.W7(),this.by="";else if(this.ga===this.UC){g=this.Ha;const n=this.g.ca().KN(this.zd);this.Ha=g.bind(null,this.g.ji,n)}else this.Bc?this.Uf()?(this.ga=this.KO,this.fb=this.v3):(this.ga=this.JO,this.fb=this.u3):this.J.ub().Wl?(this.sE(),this.fb=this.JD):this.Uf()?(this.ga=this.OO,this.fb=this.B3):this.Ea.length?this.Ea.every(n=>n.we)?(this.ga=this.NO,this.fb=this.A3):this.rk?(this.ga=this.QO,this.fb=this.D3):this.Ea.every(n=>n.lb)?(a(this.Ea,this.nb),this.ga=this.jE,
this.fb=this.iN):(this.ga=this.PO,this.fb=this.C3):(this.ga=this.jE,this.fb=this.iN)}tE(){this.Ys(this.od,this.od,this.lE)}sE(){const g=this.J.ub(),n=this.J.Si().xa;this.Ys(g,n,this.kE)}W7(){const g=this.zd.ca(),n=g.cw(this.by);n.rn()?(this.ay=n.ee(),this.vk=[...new Set([...this.zd.dd(),...this.ay.dd()])],this.vk=g.nx(this.vk),this.ga=f.Oj.prototype.l0.bind(this.ay,this.vk,this.Ea),this.fb=this.w3):(this.ga=e,this.fb=c)}Ys(g,n,h){const l=this.Ha,m=this.Ea;if(0===m.length)this.ga=g.hj(l,n);else if(1===
m.length){const p=m[0];if(p.lb)this.ga=g.CN(l,n,p.V(0));else{const r=g.hj(l,n);this.ga=function(){return r(p.V(0))}}}else if(2===m.length){const p=m[0],r=m[1];if(p.lb&&r.lb)this.ga=g.DN(l,n,p.V(0),r.V(0));else{const u=g.hj(l,n);this.ga=function(){return u(p.V(0),r.V(0))}}}else if(3===m.length){const p=m[0],r=m[1],u=m[2];if(p.lb&&r.lb&&u.lb)this.ga=g.EN(l,n,p.V(0),r.V(0),u.V(0));else{const q=g.hj(l,n);this.ga=function(){return q(p.V(0),r.V(0),u.V(0))}}}else this.ga=h}Uf(){return 1===this.Qx}eJ(){return 2===
this.Qx}YX(){return 0!==this.Qx}G(){return this.J}ee(){return this.zd}F(){return this.g}Da(){return this.Ia}QJ(){return this.La.index}$d(){return!this.La.Mc&&!this.g.cc()&&!this.La.Ze}Xj(){this.xb||(this.xb=new Map);return this.xb}Xr(){this.mh||(this.mh=new Map);return this.mh}lE(){const g=this.nb;a(this.Ea,g);return this.Ha.apply(this.od,g)}*KD(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){const g=this.nb;a(this.Ea,g);return yield*this.Ha.apply(this.od,g)}return this.ga()}*w3(){if(this.La.Mc||
this.g.cc())yield this;return yield*this.ay.SU(this.vk,this.Ea)}kE(){const g=this.nb;a(this.Ea,g);return this.Ha.apply(this.J.Si().xa,g)}*JD(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){const g=this.nb;a(this.Ea,g);return yield*this.Ha.apply(this.J.Si().xa,g)}return this.ga()}jE(){const g=this.nb,n=this.J.T().fa();for(let h=0,l=n.length;h<l;++h)this.Ha.apply(n[h].xa,g)}*iN(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){const g=this.nb,n=this.J.T().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Ha.apply(n[h].xa,
g)}else this.jE()}PO(){const g=this.nb;a(this.Ea,g);const n=this.J.T().fa();for(let h=0,l=n.length;h<l;++h)this.Ha.apply(n[h].xa,g)}*C3(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){const g=this.nb;a(this.Ea,g);const n=this.J.T().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Ha.apply(n[h].xa,g)}else this.PO()}NO(){const g=this.Ea,n=this.nb,h=this.Ha,l=this.J.T().fa();for(let m=0,p=l.length;m<p;++m){const r=l[m];for(let u=0,q=g.length;u<q;++u)n[u]=g[u].V(m);h.apply(r.xa,n)}}*A3(){if(this.La.Mc||
this.g.cc())yield this;if(this.La.Ze){const g=this.Ea,n=this.nb,h=this.Ha,l=this.J.T().fa();for(let m=0,p=l.length;m<p;++m){const r=l[m];for(let u=0,q=g.length;u<q;++u)n[u]=g[u].V(m);yield*h.apply(r.xa,n)}}else this.NO()}QO(){const g=this.Ea,n=this.nb,h=this.Ha,l=this.J.T().fa();for(let p=0,r=g.length;p<r;++p){var m=g[p];m.we||(n[p]=m.V(0))}for(let p=0,r=l.length;p<r;++p){m=l[p];for(let u=0,q=g.length;u<q;++u){const v=g[u];v.we&&(n[u]=v.V(p))}h.apply(m.xa,n)}}*D3(){if(this.La.Mc||this.g.cc())yield this;
if(this.La.Ze){const n=this.Ea,h=this.nb,l=this.Ha,m=this.J.T().fa();for(let p=0,r=n.length;p<r;++p){var g=n[p];g.we||(h[p]=g.V(0))}for(let p=0,r=m.length;p<r;++p){g=m[p];for(let u=0,q=n.length;u<q;++u){const v=n[u];v.we&&(h[u]=v.V(p))}yield*l.apply(g.xa,h)}}else this.QO()}JO(){var g=this.J;const n=g.$a,h=g.ii,l=this.Ea,m=this.rk,p=this.nb,r=this.Ha,u=this.Zh;g=g.T().fa();for(let w=0,y=l.length;w<y;++w){var q=l[w];q.we||(p[w]=q.V(0))}for(let w=0,y=g.length;w<y;++w){q=g[w];if(m)for(let A=0,G=l.length;A<
G;++A){var v=l[A];v.we&&(p[A]=v.V(w))}v=n?q.G().Wm(h):0;r.apply(q.$c[u+v].xa,p)}}*u3(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){var g=this.J;const l=g.$a,m=g.ii,p=this.Ea,r=this.rk,u=this.nb,q=this.Ha,v=this.Zh;g=g.T().fa();for(let w=0,y=p.length;w<y;++w){var n=p[w];n.we||(u[w]=n.V(0))}for(let w=0,y=g.length;w<y;++w){n=g[w];if(r)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.we&&(u[A]=h.V(w))}h=l?n.G().Wm(m):0;yield*q.apply(n.$c[v+h].xa,u)}}else this.JO()}OO(){const g=this.Ea,n=this.nb,
h=this.Ha,l=this.J.T().fa(),m=[];for(let p=0,r=l.length;p<r;++p){const u=l[p];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].V(p);m.push(h.apply(u.xa,n))}return Promise.all(m)}*B3(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){const g=this.Ea,n=this.nb,h=this.Ha,l=this.J.T().fa(),m=[];for(let p=0,r=l.length;p<r;++p){const u=l[p];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].V(p);m.push(yield*h.apply(u.xa,n))}return Promise.all(m)}return this.OO()}KO(){var g=this.J;const n=g.$a,h=g.ii,l=this.Ea,m=this.nb,
p=this.Ha,r=this.Zh;g=g.T().fa();const u=[];for(let q=0,v=g.length;q<v;++q){const w=g[q];for(let A=0,G=l.length;A<G;++A)m[A]=l[A].V(q);const y=n?w.G().Wm(h):0;u.push(p.apply(w.$c[r+y].xa,m))}return Promise.all(u)}*v3(){if(this.La.Mc||this.g.cc())yield this;if(this.La.Ze){var g=this.J;const n=g.$a,h=g.ii,l=this.Ea,m=this.nb,p=this.Ha,r=this.Zh;g=g.T().fa();const u=[];for(let q=0,v=g.length;q<v;++q){const w=g[q];for(let A=0,G=l.length;A<G;++A)m[A]=l[A].V(q);const y=n?w.G().Wm(h):0;u.push(yield*p.apply(w.$c[r+
y].xa,m))}return Promise.all(u)}return this.KO()}async UC(){try{await this.Ha()}catch(g){console.error(`Unhandled exception running script %c${this.zd.Fc.wa()}, event ${this.zd.hq}, action ${this.QJ()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Nf&&self.Nf.r8(this),f.Nv.MX()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),f.Nv.O0())}}*XU(){if(this.La.Mc||
this.g.cc())yield this;return this.UC()}aa(){return this.xb&&this.xb.size?{ex:f.vD(this.xb)}:null}da(g){this.xb&&(this.xb.clear(),this.xb=null);g&&(g=g.ex)&&(this.xb=f.xB(g))}}}
{"use strict";const f=self.B,a=new f.Wa;function b(L,O){return f.compare(this.A().Aa(),L,O)}function e(L,O){return f.compare(this.A().Ba(),L,O)}function c(){const L=this.A(),O=L.$();return O.np()?L.rp(O.Op()):L.NK(O.Jf,L.Pb().zK(),L.Pb().Pe)}function g(){var L=this.A();const O=L.Pb();L=L.Oc();return 0>L.X||0>L.U||L.O>O.pa()||L.L>O.ma()}function n(L,O,U){const aa=this.T(),ha=aa.fa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=f.qS(ja.Aa(),ja.Ba(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=f.qS(ja.Aa(),ja.Ba(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.wl(ua);return!0}function h(L){const O=this.A();O.Aa()!==L&&(O.Qh(L),O.ob())}function l(L){const O=this.A();O.Ba()!==L&&(O.Rh(L),O.ob())}function m(L,O){const U=this.A();U.jW(L,O)||(U.Cl(L,O),U.ob())}function p(L,O){if(L&&(L=L.uX(this.ka))){var [U,aa]=L.NB(O);O=this.A();if(O.Aa()!==U||O.Ba()!==aa)O.Cl(U,aa),O.ob()}}function r(L){if(0!==L){var O=this.A();O.Iw(O.IB()*L,O.UB()*L);O.ob()}}function u(L,
O){if(0!==O){var U=this.A();L=f.tb(L);U.Iw(Math.cos(L)*O,Math.sin(L)*O);U.ob()}}function q(){return this.A().Aa()}function v(){return this.A().Ba()}function w(){return this.g.SJ(this.ka)}function y(L,O){return f.compare(this.A().pa(),L,O)}function A(L,O){return f.compare(this.A().ma(),L,O)}function G(L){const O=this.A();O.pa()!==L&&(O.hk(L),O.ob())}function z(L){const O=this.A();O.ma()!==L&&(O.fk(L),O.ob())}function F(L,O){const U=this.A();if(U.pa()!==L||U.ma()!==O)U.wd(L,O),U.ob()}function I(){return this.A().pa()}
function J(){return this.A().ma()}function M(){return this.A().Oc().O}function Q(){return this.A().Oc().L}function S(){return this.A().Oc().X}function T(){return this.A().Oc().U}function Z(L,O){return f.cr(this.A().Ta(),f.tb(O))<=f.tb(L)}function X(L){return f.Ye(this.A().Ta(),f.tb(L))}function ba(L,O){L=f.tb(L);O=f.tb(O);const U=this.A().Ta();return f.Ye(O,L)?f.Ye(U,L)&&!f.Ye(U,O):!(!f.Ye(U,L)&&f.Ye(U,O))}function Y(L){const O=this.A();L=f.Zd(f.tb(L));isNaN(L)||O.Ta()===L||(O.vd(L),O.ob())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.A();O.vd(O.Ta()+f.tb(L));O.ob()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.A();O.vd(O.Ta()-f.tb(L));O.ob()}}function ya(L,O){const U=this.A(),aa=U.Ta();L=f.UH(aa,f.tb(O),f.tb(L));isNaN(L)||aa===L||(U.vd(L),U.ob())}function Na(L,O,U){const aa=this.A(),ha=aa.Ta();O-=aa.Aa();U-=aa.Ba();L=f.UH(ha,Math.atan2(U,O),f.tb(L));isNaN(L)||ha===L||(aa.vd(L),aa.ob())}function Sa(L,O){const U=this.A(),aa=U.Ta();L-=U.Aa();O-=U.Ba();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.vd(O),U.ob())}function Ta(){return f.Lj(this.A().Ta())}
function Ua(L,O){return f.compare(f.VS(100*this.A().qd()),L,O)}function Wa(){return this.A().Rc()}function eb(L){const O=this.A();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&(O.ej(L),this.g.Y())}function fb(L){L=f.ja(L/100,0,1);const O=this.A();O.qd()!==L&&(O.Lh(L),this.g.Y())}function Pa(L){a.nr(L);L=this.A();L.Ya.$k(a)||(L.rM(a),this.g.Y())}function Va(){const L=this.A().Ya;return f.Kw(L.Oa,L.Sa,L.Ra,L.Qa)}function ib(){return f.VS(100*this.A().qd())}function Ya(L){return L?this.A().$()===L:!1}function vb(L){const O=
this.T(),U=O.fa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.$().Da(),Ga=ka.$().Da();if(0===L){if(wa>Ga||wa===Ga&&ua.Ui()>ka.Ui())aa=ja}else if(wa<Ga||wa===Ga&&ua.Ui()<ka.Ui())aa=ja}O.wl(aa);return!0}function wb(L,O,U){const aa=this.A();L=0===L?aa.Xa():aa.Kg();return f.compare(L,O,U)}function jb(){this.A().n2()}function xb(){this.A().l2()}function yb(L){L&&this.A().m2(L)}function zb(L,O){L=0===L;O&&(O=O.YJ(this.qa()))&&this.A().k2(O,
L)}function Ab(L){const O=this.A();O.Xa()!==L&&(O.Ie(L),this.g.Y())}function Bb(){return this.A().$().Da()}function Cb(){return this.A().$().wa()}function Db(){return this.A().Ui()}function kb(){return this.A().Xa()}function Eb(){return this.A().Kg()}function Fb(L,O){if(O=this.G().Ga.Tj(O)){O=O.Da();L=1===L;var U=this.A().Bf;U.cs(O)!==L&&(U.VL(O,L),U.Og(),this.g.Y())}}function Gb(L,O,U){var aa=this.G().Ga.Tj(L);if(aa){L=aa.Da();var ha=this.A().Bf,fa=ha.Sj(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.mf().iw(O);if("color"===aa){a.nr(U);O=fa[O];if(a.$k(O))return;O.yi(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.cs(L)&&this.g.Y()}}}const lb=f.j(f.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Jc<U.Jc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Jc<U.Jc?L.Rm(O,U):L.Rm(U,O)}function qa(L,O,U){return O.Jc<U.Jc?L.V(O,U):L.V(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.qa();const ha=0!==U||0!==aa,fa=L.A(),ja=L.F(),ua=ja.Xn;var ka=ja.ff();
const wa=ka.ee().Bd;var Ga=ka.G();ka=ka.mi;const Ia=O.T();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Ob?(lb.ia(fa.Oc()),lb.offset(U,aa),ua.HB(fa.$(),O,lb,mb),O=mb):wa?ja.eZ()&&!Ia.nc.length&&Ia.D.length?O=Ia.D:(O=Ia.nc,ob=!0):O=Ia.D;ha&&(db=fa.Aa(),Ha=fa.Ba(),fa.Iw(U,aa),fa.ob());for(const da of O)if(ua.tD(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Cl(db,Ha),fa.ob());f.C(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.F().Eb().Bd;O=Za.T();const U=O.D,aa=O.nc;O.Ob?(O.ys(Qa),L&&(f.C(aa),
O.WI(Qa,Za.fa()))):L?ob?O.M1(Qa):(O.WI(Qa,U),O.ys(Qa)):O.ys(Qa);Za.jc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.Rd)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Xn,aa=O.ca(),ha=aa.Pc();var fa=aa.ff();const ja=fa.G();var ua=fa.Xj(),ka=fa.Xr();fa=ha.gf();const wa=O.zj,Ga=wa-1,Ia=fa.Eb(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.ls),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.dc().addEventListener("instancedestroy",
Ra=>{Ha.BJ(Ra.instance)}));O=L.T();ua=ja.T().fa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Ob?(U.HB(Ea.A().$(),L,Ea.A().Oc(),Xa),ka=Xa,U.ZI(Ea,L,ka)):ka=O.fa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.tD(Ea,La)||U.gJ(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.cd(),aa.ie(ma),na=ja.T(),da=L.T(),na.tf(!1),da.tf(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.jc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.jc(),L.jc()),Ia.Wf(fa,db),aa.Fb(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Fa();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Xn,aa=O.ca(),ha=aa.Pc();var fa=aa.ff();const ja=fa.G();var ua=fa.Xj(),ka=fa.Xr();fa=ha.gf();const wa=O.zj,Ga=wa-1,Ia=fa.Eb(),db=ha.Ka(Ia);let Ha=ua.get("collmemory");Ha||(Ha=f.j(f.ls),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.dc().addEventListener("instancedestroy",Ra=>
{Ha.BJ(Ra.instance)}));O=L.T();ua=ja.T().fa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Ob?(U.HB(Ea.A().$(),L,Ea.A().Oc(),Xa),ka=Xa,U.ZI(Ea,L,ka)):ka=O.fa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.tD(Ea,La)||U.gJ(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.cd(),aa.ie(ma),na=ja.T(),da=L.T(),na.tf(!1),da.tf(!1),ja===L?(da=na.D,f.C(da),da.push(Ea),da.push(La),ja.jc()):(na=na.D,da=da.D,f.C(na),f.C(da),
na.push(Ea),da.push(La),ja.jc(),L.jc()),yield*Ia.Of(fa,db),aa.Fb(ma))}else qb(Ha,Ea,La)}f.C(Xa)}ha.Fa();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.A().Vi()}function rb(){return this.A().Fe()}function sb(L,O){const U=this.T().fa();if(0===U.length)return!1;const aa=L.T();var ha=aa.fa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.kv())wa.$o(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.ya(),null===ja)continue}else ja=ja.rw();ja.$o(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.ys(fa);L.jc();return!0}function tb(L,O){const U=this.T().fa();if(0===U.length)return!1;const aa=L.T();var ha=aa.fa();if(aa.Ob){var fa=[...this.g.lI(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.Fe()&&ka.$o(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Ij())2===O&&wa.Fe()||wa.$o(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.ys(fa);L.jc();return!0}function ub(L,O){const U=this.T().fa();if(0===U.length)return!1;const aa=L.T();var ha=aa.fa();if(aa.Ob){var fa=[...this.g.lI(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].GB(O);null!==ka&&ka.$o(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Tw(fa);L.jc();return!0}function gb(L,O){return f.compare(this.ka.Uv(),
L,O)}function d(L,O,U,aa,ha,fa,ja,ua){const ka=this.ka,wa=this.g.Vv().G();for(const Ga of L.eS(ka,wa)){if(!Ga.ub().KR)break;ka.gl(Ga,{rr:O,tr:U,Wo:aa,Vo:ha,qr:fa,ur:ja,Wu:ua})}}function k(L){const O=this.ka,U=this.g.Vv().G();for(const aa of L.eS(O,U))O.Zi(aa)}function t(){this.ka.Vi()&&this.ka.ya().Zi(this.ka)}function x(){return this.ka.Uv()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.A();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Ow(),U.ob()):U.oB(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.A();ka.gM(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,sv:fa,oT:ja,rT:ua})&&ka.ob()}function E(){const L=this.A();return L.Eh()?L.ol().pj:0}function H(){const L=this.A();return L.Eh()?L.ol().Bj:0}function K(L){const O=this.A();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&O.ej(L)}function N(L,O){this.J0(L,O)}function P(L,O){this.I0(L,""+O)}function R(L){this.U_(L)}function W(){this.LJ()}function V(){this.bJ()}function ea(){return this.oF}function ia(L){this.Gja(0!==L)}function ca(){return this.Eja()}
function oa(L,O,U){return f.compare(this.qa().fe(L),O,U)}function la(L){return!!this.qa().fe(L)}function ra(L,O){const U=this.T(),aa=U.fa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.fe(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.fe(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.wl(fa);return!0}function sa(L){if(this.g.ff().mi){{const aa=this.T();if(aa.Ob){aa.tf(!1);aa.Cv();var O=this.fa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Jc===L?aa.On(U):aa.Bx(U)}this.jc();
L=!!aa.D.length}else{O=aa.D;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Jc===L?aa.On(ja):++U}f.Ae(O,U);this.jc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.F().Ni(O);if(!O)return!1;const U=L.T();if(!U.Ob&&!U.D.includes(O))return!1;if(L.$a){if(O.G().dB(L))return U.wl(O),L.jc(),!0}else if(O.G()===L)return U.wl(O),L.jc(),!0;return!1}function za(){this.g.Sm(this.ka)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.qa().Al(L,O)}function Fa(L,
O){const U=this.qa(),aa=U.fe(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Al(L,aa+O)}function Ja(L,O){const U=this.qa(),aa=U.fe(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Al(L,aa-O))}function Ka(L,O){this.qa().Al(L,O?1:0)}function Da(L){const O=this.qa();O.Al(L,0===O.fe(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.qa();
L.zx("state");L.td(O,"state")}function Ib(){return JSON.stringify(this.qa().Nd("state"))}function nc(){return this.qa().G().wa()}function oc(){const L=this.g.Ce().OP;let O=L.D.length;for(const U of this.g.lI(L))++O;return O}function pc(){return this.g.Ce().OP.T().fa().length}function qc(){return this.ka.Xm()}function rc(){return this.ka.Jc}f.AT=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.ua,da=O.Mj,na=O.Vm;L[3]&&(ma.Hca=
b,ma.Ica=e,ma.qea=c,ma.sea=g,ma.Kfa=n,da.Qh=h,da.Rh=l,da.lia=m,da.mia=p,da.Wea=r,da.Vea=u,na.yja=q,na.zja=v,na.tS=w);aa&&(ma.Gca=y,ma.zca=A,da.hk=G,da.fk=z,da.wd=F,na.tja=I,na.Jda=J,na.bca=M,na.dca=Q,na.cca=S,na.aca=T);ha&&(ma.PT=Z,ma.bZ=X,ma.aZ=ba,da.vd=Y,da.cha=va,da.dha=ta,da.eha=ya,da.fha=Na,da.oia=Sa,na.Xba=Ta);fa&&(ma.Rc=Wa,ma.Bca=Ua,da.ej=eb,da.Lh=fb,da.zha=Pa,na.Opacity=ib,na.uca=Va);ja&&(ma.oea=Ya,ma.Sfa=vb,ma.Jca=wb,da.Zea=jb,da.Xea=xb,da.Yea=yb,da.Cja=zb,da.Ie=Ab,na.Gea=Bb,na.Fea=Cb,na.Bja=
Db,na.Aja=kb,na.Sia=Eb);ua&&(da.Bha=Fb,da.Cha=Gb);Ia&&(ma.Vi=Rb,ma.Fe=rb,ma.Qfa=sb,ma.Jfa=tb,ma.Ofa=ub,ma.yca=gb,da.gl=d,da.Zi=k,da.jga=t,na.qca=x);db&&(da.iia=C,da.gM=D,na.Tea=E,na.Uea=H);ka&&(ma.Rc=Wa,da.ej=K,da.xha=N,da.Dha=P,da.iga=R);wa&&(ma.gea=ea,da.Gha=W,da.uha=V);Ga&&(ma.rn=ca,da.Fha=ia);Ha&&(ma.mfa=Nb,ma.tea=Pb,ma.uea=Qb,O.lda=Mb);U||(ma.Aca=oa,ma.Xda=la,ma.Lfa=ra,ma.Ifa=sa,da.Nha=Ca,da.Sba=Fa,da.Kia=Ja,da.vha=Ka,da.Qia=Da,ma.e_=Aa,ma.f_=Ba,da.Sca=za,da.zC||(da.zC=Hb),na.WT||(na.WT=Ib),
na.Oca=oc,na.Tfa=pc,na.Lda=qc,na.Xia=rc,na.hfa=nc)}}
{"use strict";const f=self.B;f.WC=class extends f.Z{constructor(a){super();this.na=a;this.oa="";this.Wc=-1;this.wu="";this.gz=!1;this.fi=null;this.uf=0;this.te=[];this.Jo=new Map;this.tk=null;this.et=-1;this.AF=this.pg=null;this.vu=!1}m(){this.oa="";this.Wc=-1;this.wu="";this.AF=this.pg=this.tk=this.fi=null;this.et=-1;f.C(this.te);for(const a of this.Jo.values())a.m();this.Jo.clear()}fg(){var a=this.na,b=a.F().Ac;const e=a.Ce();this.fi=e.Eb();this.uf=e.uf+1;if(a=a.wB(this.fi))this.tk=a,this.pg=a.qU(),
this.AF=a.QF.map(c=>c.hd()),a.Uf()&&(this.et=a.x_());for(const c of b)if(b=c.T(),!b.Ob||this.fi.$X(c))this.te.push(c),this.Jo.set(c,f.j(f.vM,b))}TY(a){this.oa="timer";this.fg();this.Wc=this.na.F().Vj()+a}RY(a){this.oa="signal";this.fg();this.wu=a.toLowerCase()}FY(a){this.oa="promise";this.fg();a.then(()=>this.iD()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.iD()})}tZ(){return"timer"===this.oa}rZ(){return"signal"===this.oa}mZ(){return"promise"===
this.oa}iD(){this.gz=!0}dP(){return this.tZ()?this.Wc<=this.na.F().Vj():this.gz}IO(a){a.iE(this.fi,this.uf);for(const [b,e]of this.Jo.entries())e.iE(b.T());if(a=this.tk)a.vs(this.pg),a.QF.map((b,e)=>b.ke(this.AF[e])),a.Uf()&&a.k0(this.et)}p7(a){this.IO(a);this.fi.o7(a);this.tk&&this.tk.Uf()&&this.tk.hs(this.et);this.na.ap(this.te);this.vu=!0}async r3(a){this.IO(a);for(const b of this.fi.q3(a))await this.na.F().bp(b);this.tk&&this.tk.Uf()&&this.tk.hs(this.et);this.na.ap(this.te);this.vu=!0}yn(a){for(const b of this.Jo.values())b.yn(a)}aa(){const a=
{},b={t:this.Wc,st:this.wu,s:this.gz,ev:this.fi.cb,sm:this.te.map(e=>e.cb),sols:a};this.fi.Y4(this.uf)&&(b.act=this.fi.NJ(this.uf).cb);for(const [e,c]of this.Jo)a[e.cb.toString()]=c.aa();return b}static V2(a,b){const e=a.F();var c=a.LW(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var n=a.xW(b.act);if(!n)return null;g=n.Da()}n=f.j(f.WC,a);n.Wc=b.t;n.oa=-1===n.Wc?"signal":"timer";n.wu=b.st;n.gz=b.s;n.fi=c;n.uf=g;for(var h of b.sm)(c=e.hw(h))&&n.te.push(c);for(const [l,m]of Object.entries(b.sols))if(b=
e.hw(parseInt(l,10)))h=f.j(f.vM,null),h.da(a,m),n.Jo.set(b,h);return n}}}{"use strict";const f=self.B;f.vM=class extends f.Z{constructor(a){super();this.J=null;this.fz=!0;this.D=[];a&&(this.J=a.G(),this.fz=a.Ob,f.xc(this.D,a.D))}m(){this.J=null;f.C(this.D)}iE(a){a.tf(this.fz);f.xc(a.D,this.D)}yn(a){f.Lf(this.D,a)}aa(){return{sa:this.fz,insts:this.D.map(a=>a.Jc)}}da(a,b){a=a.F();this.fz=!!b.sa;f.C(this.D);for(const e of b.insts)(b=a.Ni(e))&&this.D.push(b)}}}
{"use strict";const f=self.B;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}f.Qw=class extends f.Z{constructor(b){super();this.g=b.cf;this.Wl=!!b.ES;this.rg=!!b.Raa;this.i$=!!b.Qaa;this.s$=!!b.bba;this.S9=!!b.Haa;this.KR=!!b.yba;this.M$=!!b.xba;this.xR=null;this.xP=new Map;this.w9=new Map;this.x9=new Map;this.y9=new Map}m(){this.g=null}F(){return this.g}fs(){return this.i$}up(){return this.s$}aC(){return this.S9}hj(b,e){if(!e)throw Error("missing 'this' binding");let c=this.xP.get(b);
if(c)return c;c=b.bind(e);this.xP.set(b,c);return c}CN(b,e,c){if(!e)throw Error("missing 'this' binding");const g=a(this.w9,b);let n=g.get(c);if(n)return n;n=b.bind(e,c);g.set(c,n);return n}DN(b,e,c,g){if(!e)throw Error("missing 'this' binding");var n=a(this.x9,b);n=a(n,c);let h=n.get(g);if(h)return h;h=b.bind(e,c,g);n.set(g,h);return h}EN(b,e,c,g,n){if(!e)throw Error("missing 'this' binding");var h=a(this.y9,b);h=a(h,c);h=a(h,g);let l=h.get(n);if(l)return l;l=b.bind(e,c,g,n);h.set(n,l);return l}y8(b){if(!this.Wl)throw Error("must be single-global plugin");
this.xR=b}Si(){if(!this.Wl)throw Error("must be single-global plugin");return this.xR.Si()}}}{"use strict";const f=self.B;f.lha=class extends f.Qw{constructor(a,b){super(a);this.Ql=b;this.v$=0;this.RF=new Map;this.VI("elem-focused",e=>e.p6());this.VI("elem-blurred",e=>{e&&e.o6()})}m(){super.m()}s2(a){const b=this.v$++;this.RF.set(b,a);return b}f7(a){this.RF.delete(a)}VI(a,b){this.g.vh(this.Ql,a,e=>{const c=this.RF.get(e.elementId);b(c,e)})}}}
{"use strict";const f=self.B;f.JL=class extends f.Z{constructor(a){super();this.J=a;this.g=a.F();this.eh=a.ub()}m(){this.eh=this.g=this.J=null}G(){return this.J}F(){return this.g}ub(){return this.eh}Lr(){return this.J.Lr()}gs(){}zp(){}GC(){}JC(){}mp(){return null}}}
{"use strict";const f=self.B;f.VC=class extends f.Z{constructor(a,b){super();this.ka=a;this.Ql=b;this.g=a.F();this.J=this.ka.G();this.ed=this.J.ed;this.Sq=this.Sk=null;this.Xt=this.Ek=!1;this.yf=null;this.Tu=!1}m(){this.Tu=!0;this.Nx();this.wE();this.Sq=this.Sk=null;this.yf&&(this.yf.m(),this.yf=null);this.ed=this.J=this.g=this.ka=null}KM(){return this.Tu}qa(){return this.ka}F(){return this.g}G(){return this.J}ub(){return this.ed.ub()}pw(){return this.ka.Hg()}ib(a){return this.g.ib(a,this.ka,null)}Od(a){return this.g.Od(a,
this.ka,null)}UI(a,b){this.g.vh(this.Ql,a,b)}CT(a){for(const [b,e]of a)this.UI(b,e)}Jh(a,b){this.g.xl(this.Ql,a,b)}IC(a,b){return this.g.un(this.Ql,a,b)}Fl(a,b){this.g.Sd?this.Jh(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Ql,handler:a,data:b,responseId:null})}sf(){}Mx(){this.Ek||(this.Sk||(this.Sk=()=>this.sf()),this.g.dc().addEventListener("tick",this.Sk),this.Ek=!0)}Nx(){this.Ek&&(this.g.dc().removeEventListener("tick",this.Sk),this.Ek=!1)}wE(){this.Xt&&(this.g.dc().removeEventListener("tick2",
this.Sq),this.Xt=!1)}Nd(){return null}td(){}Qc(){}cj(){}DC(a,b){if(0!==b){var e=this.Qc(a);if("number"!==typeof e)throw Error("expected number");this.cj(a,e+b)}}mp(){return null}}}
{"use strict";const f=self.B;f.KL=class extends f.VC{constructor(a,b){super(a,b);this.Ma=a.A();this.aS=this.OH=null}m(){if(this.OH){const a=this.g.dc();a.removeEventListener("webglcontextlost",this.OH);a.removeEventListener("webglcontextrestored",this.aS);this.aS=this.OH=null}this.Ma=null;super.m()}Jw(){}A(){return this.Ma}nl(){throw Error("original size not known");}ml(){throw Error("original size not known");}Hr(){return null}Wv(){var a=this.Hr();return a&&(a=a.nf())?[a.pa(),a.ma()]:[100,100]}Xv(){const a=
this.Hr();return a?a.se:null}Cw(){const a=this.Hr();return a?a.Ut:!1}NB(){const a=this.ka.A();return[a.Aa(),a.Ba()]}Ap(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Rect);f.kha=class extends f.KL{constructor(b,e){super(b,e);this.ry=this.ub().s2(this);this.xQ=!0;this.s9=this.oF=!1;this.wq=f.j(f.Rect,0,0,-1,-1);b=this.g.K;this.PQ=b.Ej;this.OQ=b.Dj;this.Mx()}m(){this.ub().f7(this.ry);this.wp("destroy");this.ry=-1;super.m()}wp(b,e){e||(e={});e.elementId=this.ry;this.Jh(b,e)}yO(b){b||(b={});b.elementId=this.ry;this.Fl("focus",b)}Ww(b){b=!!b;this.xQ!==b&&(this.xQ=b,this.wp("set-visible",{isVisible:b}))}sf(){this.Z8()}G8(){const b=
this.g.K.bw();return"Android"===f.yc.vp&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Z8(){var b=this.A();const e=b.$();var c=b.Aa(),g=b.Ba();let [n,h]=e.tn(c,g),[l,m]=e.tn(c+b.pa(),g+b.ma());c=this.g.K;g=c.Uc;const p=c.Cc;if(b.Rc()&&e.Rc()){if(!this.G8()){if(0>=l||0>=m||n>=g||h>=p){this.Ww(!1);return}1>n&&(n=1);1>h&&(h=1);l>=g&&(l=g-1);m>=p&&(m=p-1)}a.set(n,h,l,m);b=c.Ej;g=c.Dj;a.Xc(this.wq)&&this.PQ===b&&this.OQ===g?this.Ww(!0):(this.wq.ia(a),this.PQ=b,this.OQ=g,this.Ww(!0),b=null,this.s9&&
(b=e.Ki()-.2),this.wp("update-position",{left:Math.round(this.wq.O)+c.DB(),top:Math.round(this.wq.L)+c.EB(),width:Math.round(this.wq.width()),height:Math.round(this.wq.height()),fontSize:b}))}else this.Ww(!1)}LJ(){this.yO({focus:!0})}bJ(){this.yO({focus:!1})}p6(){this.oF=!0}o6(){this.oF=!1}J0(b,e){this.wp("set-css-style",{prop:f.iU(b),val:e})}I0(b,e){this.wp("set-attribute",{name:b,val:e})}U_(b){this.wp("remove-attribute",{name:b})}}}
{"use strict";const f=self.B,a=self.fY;f.hha=class extends f.Z{constructor(b){super();this.g=b.cf;this.GG=f.j(f.bB);this.Bz=f.j(f.bB);this.It=null;this.G$=b.zma||null}m(){this.Bz.m();this.GG.m();this.g=null}F(){return this.g}t2(b){this.GG.Nc(b)}gK(){return this.GG.zB()}eg(b){this.Bz.Nc(b)}Pn(b){this.Bz.Rm(b)}fa(){return this.Bz.zB()}aX(){if(null===this.It){const b=this.G$;if(b){if(this.It=new b(this),!(this.It instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.It=new a(this)}return this.It}}}{"use strict";const f=self.B;f.jha=class extends f.Z{constructor(a){super();this.g=a.F();this.Bc=a;this.J=a.G();this.Yh=a.jl();this.Yh.t2(this.J)}m(){this.Yh=this.J=this.Bc=this.g=null}Qf(){return this.Bc}G(){return this.J}F(){return this.g}jl(){return this.Yh}}}
{"use strict";const f=self.B;f.iha=class extends f.Z{constructor(a,b){super();this.Yx=a;this.Ql=b;this.ka=a.ka;this.g=a.F();this.Bc=a.Qf();this.ed=this.Bc.ed;this.BQ=this.Xt=this.Ek=!1;this.yf=null}m(){this.Nx();this.wE();this.K8();this.yf&&(this.yf.m(),this.yf=null);this.ed=this.Bc=this.g=this.ka=this.Yx=null}jl(){return this.Bc.jl()}G(){return this.ka.G()}A(){return this.ka.A()}F(){return this.g}Qf(){return this.Bc}pw(){return this.Yx.pw()}ib(a){return this.g.ib(a,this.ka,this.Bc)}Od(a){return this.g.Od(a,
this.ka,this.Bc)}sf(){}Mx(){this.Ek||(this.g.o2(this),this.Ek=!0)}Nx(){this.Ek&&(this.g.c7(this),this.Ek=!1)}wE(){this.Xt&&(this.g.d7(this),this.Xt=!1)}K8(){this.BQ&&(this.g.b7(this),this.BQ=!1)}UI(a,b){this.g.vh(this.Ql,a,b)}Nd(){return null}td(){}Qc(){}cj(){}DC(a,b){if(0!==b){var e=this.Qc(a);if("number"!==typeof e)throw Error("expected number");this.cj(a,e+b)}}mp(){return null}}}
{"use strict";const f=self.B;f.M={};f.Zo={};f.y_=class extends f.Z{constructor(a){super();this.g=a;this.p9=[];this.jR=new Map;this.od=null;this.m9=[];this.RE=new Map;this.HQ=this.AR=null}OU(a){const b=this.g.Ig(a[0]);if(!b)throw Error("missing plugin");f.AT(a,b);a=f.j(b,{cf:this.g,ES:a[1],Raa:a[2],Qaa:a[5],Haa:a[8],bba:a[9],yba:a[13],xba:a[14]});this.p9.push(a);this.jR.set(b,a)}QU(){this.od=f.j(f.M.Rb,{cf:this.g,ES:!0})}JU(a){a=this.g.Ig(a[1]);if(!a)throw Error("missing behavior");const b=f.j(a,{cf:this.g});
this.m9.push(b);this.RE.set(a,b);!this.AR&&f.Zo.vba&&b instanceof f.Zo.vba?this.AR=b:!this.HQ&&f.Zo.Taa&&b instanceof f.Zo.Taa&&(this.HQ=b)}wX(a){return this.jR.get(a)||null}TX(a){return this.RE.has(a)}AW(a){return this.RE.get(a)||null}Ur(){return this.od}}}
{"use strict";const f=self.B,a=new Set;f.gC=class extends f.Z{constructor(){super();this.Ou="";this.R=this.S=this.PG=this.OG=this.Wz=0;this.JF=this.Ut=!1;this.lo=null;this.Po="";this.se=f.j(f.Rect);this.Mz=f.j(f.jd);new self.AK(this);a.add(this)}m(){this.bk();this.lo=null;a.delete(this)}static Jw(){for(const b of a)b.Po="",b.se.set(0,0,0,0),b.Mz.Di(b.se)}VK(b){this.Ou=b[0];this.Wz=b[1];this.OG=b[2];this.PG=b[3];this.S=b[4];this.R=b[5];this.Ut=b[6];this.JF=!0}an(){return this.Wz}pa(){return this.S}ma(){return this.R}async BC(b,
e){if(!this.lo)throw Error("no asset");if(this.Po)throw Error("already loaded texture");this.Po="loading";b=await this.lo.BC(b,e);if(!b)return this.Po="",null;this.Po="loaded";this.JF||(this.S=b.pa(),this.R=b.ma(),this.JF=!0);this.se.set(this.OG,this.PG,this.OG+(this.Ut?this.R:this.S),this.PG+(this.Ut?this.S:this.R));this.se.Zk(b.pa(),b.ma());this.Mz.Di(this.se);this.Ut&&this.Mz.mba();return b}bk(){this.Po&&(this.lo&&this.lo.bk(),this.Po="",this.se.set(0,0,0,0),this.Mz.Di(this.se))}nf(){return this.lo?
this.lo.nf():null}}}{"use strict";const f=self.B;f.RT=class extends f.Z{constructor(a){super();this.Ca=a[0];this.I$=a[1];this.eG=!!a[2];this.Lq=a[3];this.cb=a[6];this.Dt=a[7].map(b=>f.j(f.QT,b));new self.cY(this)}m(){for(const a of this.Dt)a.m();f.C(this.Dt)}wa(){return this.Ca}YW(){var a=Math.floor(0);if(0>a||a>=this.Dt.length)throw new RangeError("invalid frame");return this.Dt[a]}Jg(){return this.Lq}}}
{"use strict";const f=self.B;f.QT=class extends f.Z{constructor(a){super();this.Af=f.j(f.gC);this.Af.VK(a);this.LP=a[7];this.gR=f.j(f.ix,a[8],a[9]);this.U9=a[10].map(b=>f.j(f.pY,this,b));this.V9=new Map;for(const b of this.U9)this.V9.set(b.wa().toLowerCase(),b);this.hy=null;a=a[11];6<=a.length&&(this.hy=f.j(f.Qm,a));this.T9=new self.dY(this)}m(){this.hy&&(this.hy.m(),this.hy=null);this.Af.m();this.Af=null}Lr(){return this.Af}Or(){return this.gR.ba}Pr(){return this.gR.W}}}
{"use strict";const f=self.B;f.pY=class extends f.Z{constructor(a,b){super();this.Ca=b[0];this.lR=f.j(f.ix,b[1],b[2])}m(){}wa(){return this.Ca}Aa(){return this.lR.ba}Ba(){return this.lR.W}}}
{"use strict";const f=self.B,a=self.Nf,b=self.jY;f.CC=class extends f.Z{constructor(e,c,g){super();const n=e.Ig(g[1]);this.g=e;this.eh=e.Eo.wX(n);this.ed=null;this.Ry=n.Instance;this.Ia=c;this.cb=g[11];this.Ca=g[0];this.au=this.g.Ch(g[14]);this.f$=!!g[9];this.$a=!!g[2];this.h$=!!g[10];this.ki=g[3].map(h=>({cT:h[0],type:h[1],name:h[2],Saa:e.Ch(h[3])}));this.u9=g[4];this.O9=g[5];this.rg=this.eh.rg;this.Ga=null;this.gy=f.j(f.D1,e.vg,e.ug);this.LE=!0;this.ME=!1;this.xF=this.fo=null;this.ii=-1;this.wF=
this.zy=this.Ay=this.vF=this.Ug=null;this.aG=!1;this.lg=null;this.vP=g[8].map(h=>f.$I.Ja(this,h));this.Zx=[];this.SE=new Map;this.QE=new Map;this.SR=new Set;this.jm=f.j(f.A1,this);this.JE=this.IE=this.Il=this.Af=this.lg=this.gq=null;this.Rq=0;this.xb=new Map;this.mh=new Map;this.D=[];this.MF=!0;this.eh.aC()&&(this.Ga=f.j(f.Nj,this,g[12]));g[6]&&(this.Af=f.j(f.gC),this.Af.VK(g[6]));if(g[7]){this.Il=g[7].map(h=>f.j(f.RT,h));this.IE=new Map;this.JE=new Map;for(const h of this.Il)this.IE.set(h.wa().toLowerCase(),
h),this.JE.set(h.cb,h)}this.$a?(this.fo=[],this.xF=new Set,this.ii=this.g.J4()):(this.Ug=[],this.vF=new Set,this.Ay=[],this.zy=[],this.wF=[]);this.ed=f.j(n.bx,this,g[15]);this.uQ=this.Kt=null;this.Id=f.j(f.Event.dc);if(c=this.ed.mp()){if(this.Kt=new c(this),!(this.Kt instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Kt=new b(this);this.eh.Wl&&(this.eh.y8(this),this.f3(g))}static Ja(e,c,g){return f.j(f.CC,e,c,g)}m(){this.Af&&(this.Af.m(),this.Af=null);
if(this.Il){for(const e of this.Il)e.m();f.C(this.Il);this.IE.clear();this.JE.clear()}this.jm.m();this.jm=null;this.xb.clear();this.mh.clear();this.g=this.lg=null}E5(e){for(let c=1,g=e.length;c<g;++c){const n=this.g.De(e[c]);this.fo.push(n);this.xF.add(n);n.Ug.push(this);n.vF.add(this)}}X7(e){this.aG=!0;this.lg=e}Qb(){return this.aG}i6(){var e=0;if(!this.$a)for(var c of this.Ug)for(var g of c.vP){const l=g.wa().toLowerCase();this.SE.set(l,g);this.QE.set(l,e);this.Zx.push(g);++e}for(var n of this.vP)c=
n.wa().toLowerCase(),this.SE.set(c,n),this.QE.set(c,e),this.Zx.push(n),++e;for(var h of this.Zx)this.SR.add(h.jl().constructor);if(!this.$a&&this.Ug.length){e=this.g.RP;f.yA(this.Ay,e,0);f.yA(this.zy,e,0);f.yA(this.wF,e,0);e=[];c=h=n=0;for(const l of this.Ug)if(g=l.ii,this.Ay[g]=n,n+=l.ki.length,this.zy[g]=h,h+=l.u9,this.wF[g]=c,c+=l.O9,(g=l.Ga)&&this.Ga)for(const m of g.Pf())e.push(m.yU(this.Ga));this.Ga&&this.Ga.G_(e)}}f3(e){const c=this.g.I4(),g=f.j(f.Instance,{cf:this.g,xI:this,uid:c});g.lx(e[16],
[]);this.g.V5(c,g);this.D.push(g)}XX(){return 0<this.Rq}gs(e){if(this.$a)return Promise.resolve();this.Rq++;return 1===this.Rq?this.ed.gs(e)||Promise.resolve():Promise.resolve()}zp(){if(!this.$a){this.Rq--;if(0>this.Rq)throw Error("released textures too many times");0===this.Rq&&this.ed.zp()}}GC(){if(this.$a)throw Error("not applicable to family");this.ed.GC()}JC(e){return this.$a?Promise.resolve():this.ed.JC(e)}F(){return this.g}ub(){return this.eh}wa(){return this.Ca}Ch(){return this.au}Da(){return this.Ia}qf(){return this.f$}FM(e){return e&&
this.SR.has(e)}fX(){return this.ki.map(e=>e.cT)}eX(e){return this.ki.findIndex(c=>c.cT===e)}dX(e){return this.ki.findIndex(c=>c.name===e)}z4(){return this.ki.map(e=>e.Saa)}Nr(e){e=Math.floor(e);if(0>e||e>=this.ki.length)throw new RangeError("invalid instance variable index");return this.ki[e].type}bK(e){e=Math.floor(e);if(0>e||e>=this.ki.length)throw new RangeError("invalid instance variable index");return this.ki[e].name}Sv(e){return this.SE.get(e.toLowerCase())||null}Er(e){e=this.QE.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}aC(){return this.eh.aC()}GM(){return this.Ga&&this.Ga.OX()}T(){return this.jm.T()}Lr(){return this.Af}TL(e){this.gq=e}dB(e){return this.vF.has(e)}IJ(e){return this.xF.has(e)}Wm(e){return this.zy[e]}WJ(e){return this.Ay[e]}UW(){if(!this.Il)throw Error("no animations");return this.Il[0].YW()}HW(){if(this.Il){const e=this.UW().Lr();return[e.pa(),e.ma()]}return this.Af?[this.Af.pa(),this.Af.ma()]:[100,100]}Si(){if(!this.eh.Wl)throw Error("not a single-global plugin");
return this.D[0]}fa(){return this.D}*AS(){yield*this.D}eg(e){this.D.push(e)}Ws(){this.MF=!0}Px(){if(this.MF&&!this.$a){var e=this.D,c=0;for(let g=e.length;c<g;++c)e[c].VO(c);e=this.g.Ul;for(const g of e)g.G()===this&&g.VO(c++);this.MF=!1}}aK(e){var c=this.D;if(e<c.length)return c[e];e-=c.length;c=this.g.Ul;for(const g of c)if(g.G()===this){if(0===e)return g;--e}return null}YJ(e){if(e&&e.Qb()&&e.G()!==this)for(const c of e.nd)if(c.G()===this)return c;e=this.T().fa();return e.length?e[0]:null}uX(e){const c=
this.T().fa();return 0<c.length?c[e.Xm()%c.length]:null}*eS(e,c){const g=this.T().fa();var n=g.length;const h=c.T(),l=c.T().fa(),m=l.length;var p=e.Xm();if(c.$a||!h.Ob)p=l.indexOf(e);e=Math.ceil(n/m);n%=m;0===n||p<n?(p*=e,n=e):(p=n*e+(p-n)*(e-1),n=e-1);for(let r=p,u=p+n;r<u;++r)yield g[r]}jc(){if(this.aG&&!this.$a){this.Px();var e=this.T(),c=e.D,g=e.Ob,n=this.g.Ce();n=n&&n.Eb()&&n.Eb().Bd;for(const m of this.lg.Mk)if(m!==this){m.Px();var h=m.T();h.tf(g);if(!g){var l=h.D;f.C(l);for(const p of c)l.push(m.aK(p.Xm()));
if(n){l=e.nc;h=h.nc;f.C(h);for(const p of l)h.push(m.aK(p.Xm()))}}}}}T8(e,c){for(const g of this.lg.Mk){const n=g.T();e?f.Ae(n.nc,c):f.Ae(n.D,c)}}RO(){this.LE=!0}nE(e){this.ME=!!e}kP(){if(this.LE&&this.rg){for(const e of this.D)e.A().mP();for(const e of this.g.Ul)e.G()===this&&e.A().mP();this.LE=!1}}Xj(){this.xb||(this.xb=new Map);return this.xb}Xr(){this.mh||(this.mh=new Map);return this.mh}xK(){return this.FM(f.Zo.dfa)}bC(){return this.FM(f.Zo.Dfa)}aa(){const e={instances:this.D.map(c=>c.Nd())};
this.xb&&this.xb.size&&(e.ex=f.vD(this.xb));return e}da(e){this.xb&&(this.xb.clear(),this.xb=null);var c=e.ex;c&&(this.xb=f.xB(c));c=this.D;e=e.instances;for(let g=0,n=Math.min(c.length,e.length);g<n;++g)c[g].td(e[g]);for(let g=e.length,n=c.length;g<n;++g)this.g.Sm(c[g]);for(let g=c.length,n=e.length;g<n;++g){c=e[g];let h=null;if(this.rg&&(h=this.g.Ib().ew(c.w.l),!h))continue;this.g.yh(this.gq||this,h,!1,0,0,!0).td(c)}this.Ws()}Gg(e){var c=this.g;(c=c.mb&&!c.ca().es())&&a.qD();this.Id.dispatchEvent(e);
c&&a.$A()}}}{"use strict";const f=self.B;f.DU=class extends f.Z{constructor(a,b){super();this.g=a;this.Mk=b;for(const e of this.Mk)e.X7(this)}m(){this.g=null}F(){return this.g}SX(){return this.Mk.some(a=>a.rg)}}}
{"use strict";const f=self.B,a=self.Nf,b=self.zw,e=[];let c=0;const g=new WeakMap,n=new WeakMap;f.Instance=class extends f.Z{constructor(h){super();this.g=h.cf;this.Cd=h.xI;this.Qd=this.xa=this.Ma=null;this.mQ=0;this.Jc=h.uid;this.nR=c++;this.za=0;this.$c=this.Me=e;var l=this.Cd.Zx;0<l.length&&(this.$c=l.map((m,p)=>f.j(f.vv,{cf:this.g,VH:m,instance:this,index:p})));this.nd=this.Cd.Qb()?[]:null;this.Hd=-1;this.Kb=null;l=this.ub();l.up()&&(this.za|=4);if(l.rg)if(this.Ma=f.j(f.i2,this,h.HS),h.sT)this.Ma.kn(h.sT);
else{this.Ma.EY();const [m,p]=this.Cd.HW();this.Ma.wd(m,p);this.G().GM()&&this.Ma.Bf.DZ()}h.zS?this.H5(h.zS):this.C5()}m(){this.Qd&&(this.Qd.Vs(),this.Qd=null);if(0<this.$c.length){for(var h of this.$c)h.m();f.C(this.$c)}this.xa.m();this.xa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=n.get(this))h.clear(),n.delete(this);this.nd&&f.C(this.nd);this.Kb&&(this.Kb.m(),this.Kb=null);this.Cd=this.g=null;0<this.Me.length&&f.C(this.Me);this.Ma&&(this.Ma.m(),this.Ma=null)}H5(h){0<h.length&&(this.Me=
[],f.xc(this.Me,h))}C5(){const h=this.Cd.ki.length;if(0!==h){this.Me=[];var l=[0,0,""];for(let m=0;m<h;++m)this.Me.push(l[this.Cd.Nr(m)])}}lx(h,l){if(this.xa)throw Error("already got sdk instance");for(let m=0,p=this.$c.length;m<p;++m)this.$c[m].lx(l?l[m]:null);this.xa=f.j(this.Cd.Ry,this,h);if(!(this.xa instanceof f.VC))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,p=this.$c.length;m<p;++m);this.Cd.uQ&&this.$N()}A(){return this.Ma}F(){return this.g}yW(){const h=this.Hd;return-1===
h?this.F().Hd:h}jD(h){h=+h;if(0>h||!isFinite(h))h=0;this.Hd=h}j0(){this.Hd=-1}dc(){this.Kb||(this.Kb=f.j(f.Event.dc));return this.Kb}Hi(h){this.xa.Hi(h)}n8(){this.za|=2}Yj(){return 0!==(this.za&2)}aE(){this.za|=1}bs(){return 0!==(this.za&1)}up(){return 0!==(this.za&4)}aL(){return 0!==(this.za&32)}Hr(){return this.xa.Hr()}Wv(){return this.xa.Wv()}Xv(){return this.xa.Xv()}Cw(){return this.xa.Cw()}NB(h){return this.xa.NB(h)}G(){return this.Cd}Ap(){return this.xa.Ap()}$o(h){return h.$a?h.IJ(this.G()):
this.G()===h}HM(){if(!this.ub().KR)throw Error("object does not support scene graph");}Vi(){return null!==this.ya()}ya(){var h=this.A();return h?(h=h.ya())?h.qa():null:null}rw(){var h=this.A();return h?(h=h.rw())?h.qa():null:null}*kv(){const h=this.A();if(h)for(const l of h.kv())yield l.qa()}Fe(){const h=this.A();return h?h.Fe():!1}Be(){const h=this.A();return h?h.Be().map(l=>l.qa()):[]}*children(){const h=this.A();if(h)for(const l of h.children())yield l.qa()}*Ij(){const h=this.A();if(h)for(const l of h.Ij())yield l.qa()}Uv(){const h=
this.A();return h?h.Uv():0}GB(h){const l=this.A();return l?(h=l.GB(h))?h.qa():null:null}gl(h,l){this.HM();h.HM();this.A().gl(h.A(),l||{})}Zi(h){const l=this.A();l&&l.Zi(h.A())}Zv(){const h=this.A();return h?h.Zv():!1}y1(){var h=this.A();if(h&&(h=h.jK()))for(const l of h)if(h=this.g.Ni(l[2])){const m=l[3];this.gl(h,{rr:!!(m>>0&1),tr:!!(m>>1&1),Wo:!!(m>>2&1),Vo:!!(m>>3&1),qr:!!(m>>4&1),Wu:!!(m>>5&1),ur:!!(m>>6&1)})}}Qb(){return null!==this.nd}Lp(h){this.nd.push(h)}ZX(h){return!!this.pK(h)}pK(h){const l=
this.nd;if(null===l||0===l.length)return!1;for(const m of l)if(m.G()===h)return m;return null}Ph(){for(const h of this.nd)h.G().T().gk(h)}Q6(){for(const h of this.nd)h.G().T().Bx(h)}x8(h){for(const l of this.nd)l.G().T().D[h]=l}P6(){for(const h of this.nd)h.G().T().On(h)}w8(h){for(const l of this.nd)l.G().T().nc[h]=l}ub(){return this.Cd.ub()}VO(h){this.mQ=h}Xm(){this.Cd.Px();return this.mQ}OJ(h){const l=this.$c;for(let m=0,p=l.length;m<p;++m)if(l[m].Qf().cb===h)return m;return-1}fe(h){h|=0;const l=
this.Me;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}G4(h){const l=this.Me[h];return 0===this.Cd.Nr(h)?!!l:l}Al(h,l){h|=0;const m=this.Me;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");switch(this.Cd.Nr(h)){case 0:m[h]=l?1:0;break;case 1:m[h]="number"===typeof l?l:parseFloat(l);break;case 2:m[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}S0(h,l){if(0!==l){h|=0;var m=this.Me;if(0>h||h>=
m.length)throw new RangeError("invalid instance variable");var p=m[h];if("number"===typeof p)m[h]="number"===typeof l?m[h]+l:m[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Xj(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Xr(){let h=n.get(this);if(h)return h;h=new Map;n.set(this,h);return h}UN(h){const l=
this.G();if(l.Id.$B(h))return!0;for(const m of l.Ug)if(m.Id.$B(h))return!0;return this.g.Id.$B(h)?!0:!1}yE(){const h=new Set;h.add(this);const l=this.A();if(l&&l.Fe())for(const m of this.Ij())if(h.add(m),m.Qb())for(const p of m.nd)h.add(p);if(this.Qb())for(const m of this.nd)h.add(m);for(const m of h.values())m.hP()}hP(){if(this.UN("instancecreate")){const h=this.G(),l=new f.Event("instancecreate");l.instance=this.Hg();h.Gg(l);for(const m of h.Ug)m.Gg(l);this.g.Gg(l)}this.g.ib(this.ub().constructor.ua.e_,
this,null)}Q8(){this.g.ib(this.ub().constructor.ua.f_,this,null)}q4(h){if(this.Qd){var l=new f.Event("destroy");l.Oaa=h;this.Gg(l)}if(this.UN("instancedestroy")){l=this.G();var m=new f.Event("instancedestroy");m.instance=this.Hg();m.Oaa=h;l.Gg(m);for(const p of l.Ug)p.Gg(m);this.g.Gg(m)}}Nd(h="full"){const l={};"full"===h?l.uid=this.Jc:l.c3=!0;if("visual-state"!==h){var m=g.get(this);m&&m.size&&(l.ex=f.vD(m));-1!==this.Hd&&(l.mts=this.Hd);if(0<this.Cd.ki.length){m={};var p=this.Cd.fX();for(let r=
0,u=this.Me.length;r<u;++r)m[p[r].toString()]=this.Me[r];l.ivs=m}if(this.$c.length){m={};for(const r of this.$c)(p=r.Nd())&&(m[r.Qf().cb.toString()]=p);l.behs=m}}this.Ma&&(l.w=this.Ma.aa(h));(h=this.xa.Nd())&&(l.data=h);return l}zx(h="full"){this.Ma&&this.Ma.zx(h)}td(h,l="full"){if("full"===l)this.Jc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var m=g.get(this);m&&(m.clear(),g.delete(this));if(m=h.ex)m=f.xB(m),g.set(this,m);this.Hd=h.hasOwnProperty("mts")?h.mts:-1;if(m=h.ivs)for(const [u,q]of Object.entries(m))if(m=
this.Cd.eX(parseInt(u,10)),!(0>m||m>=this.Me.length)){var p=q;null===p&&(p=NaN);this.Me[m]=p}}if(this.ub().rg){m=h.w;var r=m.l;this.Ma.$().cb!==r&&(p=this.Ma.$(),(r=p.Pb().ew(r))?(this.Ma.Xs(r),p.Pn(this,!0),r.eg(this,!0),r.bg(),this.Ma.ob()):"full"===l&&this.g.Sm(this));this.Ma.da(m,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,q]of Object.entries(l))l=this.OJ(parseInt(u,10)),0>l||l>=this.$c.length||this.$c[l].td(q);(h=h.data)&&this.xa.td(h)}Hg(){return this.Qd||this.$N()}$N(){var h=this.Ma?
self.fC:b;const l=this.xa.mp(),m=this.Cd.uQ,p=m||l||h;b.fg(this);this.Qd=new p;b.fg(null);if(l&&!(this.Qd instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(m&&(h=l||h,!(this.Qd instanceof h)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${h.name}'`);return this.Qd}F4(h){if(0!==this.Me.length){var l={},m=this.Cd.z4();for(let p=0,r=m.length;p<r;++p)l[m[p]]={configurable:!1,enumerable:!0,
get:f.Instance.prototype.G4.bind(this,p),set:f.Instance.prototype.Al.bind(this,p)};l=Object.create(Object.prototype,l);h.Yka={value:l,writable:!1}}}A4(h){var l=this.$c;if(0!==l.length){var m={};for(const p of l)m[p.Qf().Ch()]={value:p.pw(),writable:!1};l=Object.create(Object.prototype,m);h.Uu={value:l,writable:!1}}}Gg(h){h.instance=this.Hg();var l=this.g;(l=l.mb&&!l.ca().es())&&a.qD();this.Hg().dispatchEvent(h);l&&a.$A()}}}
{"use strict";const f=self.B;f.s0=class extends f.Z{constructor(a){super();this.ic=a;this.oc=null;this.ey=[];this.cA=a.pa();this.aA=a.ma();this.rH=this.qH=1;this.Fz=0}m(){this.oc=null;f.C(this.ey)}kM(a){this.Fz=(this.oc=a)?a.Ta():0}ya(){return this.oc}Fe(){return 0<this.ey.length}Be(){return this.ey}g1(a){this.qH=a}h1(a){this.rH=a}Pi(){return this.ic.cn()?this.oc.pa()/this.oc.Cb.cA:1}Qi(){return this.ic.bn()?this.oc.ma()/this.oc.Cb.aA:1}aa(){return{sw:this.cA,sh:this.aA,sx:this.qH,sy:this.rH,psa:this.Fz,
c:this.ey.map(a=>{let b="";a.dn()&&(b+="x");a.gn()&&(b+="y");a.cn()&&(b+="w");a.bn()&&(b+="h");a.uw()&&(b+="a");a.vw()&&(b+="z");a.Zv()&&(b+="d");return{uid:a.qa().Jc,f:b}})}}da(a){this.cA=a.sw;this.aA=a.sh;this.qH=a.sx;this.rH=a.sy;this.Fz=a.psa}eE(a){const b=this.ic,e=b.F();for(const c of a.c){a=e.Ni(c.uid).A();const g=c.f,n={};n.rr=g.includes("x");n.tr=g.includes("y");n.Wo=g.includes("w");n.Vo=g.includes("h");n.qr=g.includes("a");n.ur=g.includes("z");n.Wu=g.includes("d");b.gl(a,n)}}}}
{"use strict";const f=self.B,a=f.j(f.Rect);f.j(f.jd);const b=f.j(f.Event,"bboxchange",!1),e=f.j(f.Wa,0,0,0,0),c=f.j(f.Qm),g=f.j(f.Wa,1,1,1,1),n=f.j(f.Rect,0,0,-1,-1),h=f.j(f.Rect,0,0,-1,-1),l=new Set(["absolute","relative"]),m=[];let p=!0;const r=new WeakMap,u=new WeakMap;f.i2=class extends f.Z{constructor(q,v){super();this.ka=q;this.J=q.G();this.g=q.F();this.vj=v;this.Hj=-1;this.za=196635;this.J.ub().fs()&&(this.za|=128);this.Fq=this.Eq=this.gF=this.fH=this.Qa=this.Dc=this.qg=this.Dg=this.Lc=this.W=
this.ba=NaN;this.XE=f.j(f.Rect);this.YE=f.j(f.jd);this.fy=h;this.qu=n;this.ti=this.Xq=this.iH=null;this.Zn=this.Ya=g;this.Bf=this.Lo=null;this.ka.G().GM()&&(this.Bf=f.j(f.VY,this.ka,this));this.oi=this.Cb=null}aE(){this.za|=256}m(){this.Lo&&(this.g.bb().tL(this.Lo),this.Lo=null);this.iH=null;this.Xq&&(this.Xq.OS.m(),this.Xq=null);this.ti&&(this.ti.clear(),this.ti=null);this.Ow();this.Vi()&&this.ya().Zi(this);if(this.Fe()){const q=[...this.Be()];for(const v of q)this.Zi(v)}this.Cx();this.vj=this.g=
this.J=this.ka=null}kn(q){p=!1;this.Cl(q[0],q[1]);this.Ie(q[2]);this.wd(q[3],q[4]);this.Dc=0;this.fs()?this.vd(q[6]):this.Qa=0;e.dl(q[7]);this.Ex(e);this.fD(q[8]);this.gD(q[9]);this.Xf(q[10]);this.Bf&&this.Bf.D5(q[12]);q[14]&&r.set(this,{daa:q[14][1],Nba:q[14][2]});if(q[15]){var v=q[15];this.oB(v[0],v[1]);q=this.ol();v=v[2];for(let w=0,y=v.length;w<y;++w){const A=v[w];for(let G=0,z=A.length;G<z;++G){const F=A[G],I=q.ip(G,w);I.Qh(F[0]);I.Rh(F[1]);I.Ie(F[2]);I.kD(F[3]);I.lD(F[4])}}}p=!0;this.Up()}EY(){this.fH=
this.Qa=this.Dc=this.qg=this.Dg=this.Lc=this.W=this.ba=0;this.gF=1;this.Fq=this.Eq=0;this.Up()}F(){return this.g}G(){return this.J}qa(){return this.ka}Ks(){return this.uw()?this.ya().Ta()-this.Cb.Fz:0}Qh(q){q=+q;if(this.dn()){const v=this.Cb;q-=this.Aa();const w=-this.Ks();0===w?this.ba+=q/v.Pi():(this.ba+=Math.cos(w)*q/v.Pi(),this.gn()&&(this.W+=Math.sin(w)*q/v.Qi()))}else this.ba=q}$Z(q){q=+q;this.dn()?this.Qh(this.Aa()+q):this.ba+=q}Aa(){if(this.dn()){let q=this.ba;const v=this.Cb,w=this.ya(),
y=this.Ks();0===y?q*=v.Pi():(q=q*v.Pi()*Math.cos(y),this.gn()&&(q-=this.W*v.Qi()*Math.sin(y)));return w.Aa()+q}return this.ba}Rh(q){q=+q;if(this.gn()){const v=this.Cb;q-=this.Ba();const w=-this.Ks();0===w?this.W+=q/v.Qi():(this.dn()&&(this.ba-=Math.sin(w)*q/v.Pi()),this.W+=Math.cos(w)*q/v.Qi())}else this.W=q}a_(q){q=+q;this.gn()?this.Rh(this.Ba()+q):this.W+=q}Ba(){if(this.gn()){let q=this.W;const v=this.Cb,w=this.ya(),y=this.Ks();0===y?q*=v.Qi():(q=q*v.Qi()*Math.cos(y),this.dn()&&(q+=this.ba*v.Pi()*
Math.sin(y)));return w.Ba()+q}return this.W}Cl(q,v){q=+q;v=+v;if(this.tK()){const y=this.dn(),A=this.gn(),G=this.Cb,z=q-this.Aa(),F=v-this.Ba();var w=-this.Ks();if(0===w)this.ba=y?this.ba+z/G.Pi():q,this.W=A?this.W+F/G.Qi():v;else{const I=Math.sin(w);w=Math.cos(w);this.ba=y?A?this.ba+(w*z-I*F)/G.Pi():this.ba+w*z/G.Pi():q;this.W=A?y?this.W+(I*z+w*F)/G.Qi():this.W+w*F/G.Qi():v}}else this.ba=q,this.W=v}Iw(q,v){q=+q;v=+v;this.tK()?this.Cl(this.Aa()+q,this.Ba()+v):(this.ba+=q,this.W+=v)}jW(q,v){return this.Aa()===
q&&this.Ba()===v}Ie(q){q=+q;this.vw()&&(q-=this.ya().Xa());this.Lc!==q&&(this.Lc=q,this.pP(),q=this.$(),0!==this.Lc&&q.SO(),q.bg())}pP(){this.Up();if(this.Fe()){const q=this.Be();for(let v=0,w=q.length;v<w;v++){const y=q[v];y.vw()&&y.pP()}}}b_(q){this.Ie(this.Xa()+q)}Xa(){return this.vw()?this.ya().Xa()+this.Lc:this.Lc}Kg(){return this.$().Xa()+this.Xa()}hk(q){q=+q;if(this.cn()){const v=this.pa();this.Dg=0===v?1E-6:q/v*this.Dg}else this.Dg=q}eL(q){q=+q;this.cn()?this.hk(this.pa()+q):this.Dg+=q}pa(){return this.cn()?
this.ya().pa()*this.Dg:this.Dg}fk(q){q=+q;if(this.bn()){const v=this.ma();this.qg=0===v?1E-6:q/v*this.qg}else this.qg=q}dL(q){q=+q;this.bn()?this.fk(this.ma()+q):this.qg+=q}ma(){return this.bn()?this.ya().ma()*this.qg:this.qg}wd(q,v){q=+q;v=+v;if(this.cn()){const w=this.pa();this.Dg=0===w?1E-6:q/w*this.Dg}else this.Dg=q;this.bn()?(q=this.ma(),this.qg=0===q?1E-6:v/q*this.qg):this.qg=v}BX(){if(this.Vi()){const q=this.Cb;return Math.min(q.Pi(),q.Qi())}return 1}fs(){return 0!==(this.za&128)}vd(q){q=+q;
this.fs()&&(this.uw()&&(q-=this.ya().Ta()),q=f.Zd(q),this.Qa!==q&&(this.Qa=q,this.bE()))}WZ(q){q=+q;0!==q&&this.fs()&&(this.Qa=f.Zd(this.Qa+q),this.bE())}bE(){this.za|=262144;if(this.Fe()){const q=this.Be();for(let v=0,w=q.length;v<w;v++)q[v].bE()}}Ta(){return this.uw()?f.Zd(this.ya().Ta()+this.Qa):this.Qa}pO(){const q=this.za;if(0!==(q&262144)){var v=this.Ta();this.fH=Math.sin(v);this.gF=Math.cos(v);this.za=q&-262145}}UB(){this.pO();return this.fH}IB(){this.pO();return this.gF}fD(q){this.Eq=+q}YZ(q){this.Eq+=
+q}Or(){return this.Eq}gD(q){this.Fq=+q}ZZ(q){this.Fq+=+q}Pr(){return this.Fq}Ex(q){this.Ya.Xc(q)||(this.Ya===g?(this.Ya=f.j(f.Wa,q),this.Zn=f.j(f.Wa,q),this.Zn.EI()):q.xA(1,1,1,1)?this.Zn=this.Ya=g:(this.Ya.set(q),this.Zn.set(q),this.Zn.EI()),this.Up())}Lh(q){q=f.ja(+q,0,1);this.Ya.Uo!==q&&(e.yi(this.Ya),e.Uo=q,this.Ex(e))}XZ(q){this.Lh(this.qd()+q)}qd(){return this.Ya.Uo}rM(q){this.Ya.$k(q)||(e.yi(q),e.Uo=this.Ya.Uo,this.Ex(e))}s1(q,v,w){e.pr(q,v,w);this.rM(e)}RB(){return this.Zn}Zv(){return 0!==
(this.za&512)}F0(q){this.ne(512,q)}dn(){return 0!==(this.za&1024)}n1(q){this.ne(1024,q)}gn(){return 0!==(this.za&2048)}tK(){return 0!==(this.za&3072)}o1(q){this.ne(2048,q)}cn(){return 0!==(this.za&4096)}m1(q){this.ne(4096,q)}bn(){return 0!==(this.za&8192)}l1(q){this.ne(8192,q)}uw(){return 0!==(this.za&16384)}k1(q){this.ne(16384,q)}vw(){return 0!==(this.za&32768)}p1(q){this.ne(32768,q)}bN(){this.za&=-65025}gl(q,v){if(q!==this&&!q.Vi()&&!this.WN(q)&&!this.VN(q)){var w=q.Aa(),y=q.Ba(),A=q.pa(),G=q.ma(),
z=q.Ta(),F=q.Xa();q.YO(this);q.n1(v.rr);q.o1(v.tr);q.m1(v.Wo);q.l1(v.Vo);q.k1(v.qr);q.p1(v.ur);q.F0(v.Wu);v.rr&&(q.ba=w-this.Aa(),v.Wo&&(q.ba/=this.pa()/this.Cb.cA));v.tr&&(q.W=y-this.Ba(),v.Vo&&(q.W/=this.ma()/this.Cb.aA));v.Wo&&(q.Dg=A/this.pa(),q.Cb.g1(q.Dg));v.Vo&&(q.qg=G/this.ma(),q.Cb.h1(q.qg));v.qr&&(q.Qa=z-this.Ta());v.ur&&(q.Lc=F-this.Xa());this.p2(q);this.ob()}}Zi(q){if(q.ya()===this){var v=q.Aa(),w=q.Ba(),y=q.pa(),A=q.ma(),G=q.Ta(),z=q.Xa();q.YO(null);q.bN();q.Cl(v,w);q.wd(y,A);q.vd(G);
q.Ie(z);this.e7(q);this.ob()}}m7(){for(var q of this.children())this.Zi(q);(q=this.ya())&&q.Zi(this);this.bN()}Vi(){return null!==this.ya()}ya(){const q=this.Cb;return null!==q?q.ya():null}rw(){let q=this;for(;q.Vi();)q=q.ya();return q}*kv(){let q=this.ya();for(;q;)yield q,q=q.ya()}UX(q){return this.Be().includes(q)}Fe(){const q=this.Cb;return null!==q?q.Fe():!1}Be(){const q=this.Cb;return null!==q?q.Be():m}children(){return this.Be()}*Ij(){for(const q of this.children())yield q,yield*q.Ij()}Uv(){return this.Be().length}GB(q){const v=
this.Be();q=Math.floor(+q);return 0>q||q>=v.length?null:v[q]}GD(q){this.Cb||(this.Cb=f.j(f.s0,this));q&&this.Cb.kM(q)}Cx(){this.Cb&&(this.Cb.m(),this.Cb=null)}YO(q){q?(q.GD(null),this.GD(q)):(this.Cb&&this.Cb.kM(null),this.Fe()||this.Cx())}VN(q){if(!this.Vi())return!1;const v=this.ya();return v===q?!0:v.VN(q)}WN(q){if(this.UX(q))return!0;for(const v of this.Be())if(v.WN(q))return!0;return!1}p2(q){this.Cb.Be().push(q)}e7(q){const v=this.Cb.Be(),w=v.indexOf(q);-1!==w&&v.splice(w,1);0!==v.length||this.Vi()||
this.Cx();q.Fe()||q.Cx()}jK(){const q=r.get(this);return q?q.daa:null}CX(){const q=r.get(this);return q?q.Nba:NaN}kp(){const q=u.get(this);return f.pf(q)?q:NaN}hD(q){u.set(this,q)}Up(){if(p){var q=this.g.bb();this.Lo&&q.tL(this.Lo);this.Lo=q.yT(0!==(this.za&524288)?q.Zz||"<point>":q.$z||"<default>",this.Ji(),this.Zn,this.Xa())}}op(){return this.Ya===g}Xf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.Ji()!==q&&(this.za=this.za&-2080374785|q<<26,this.Up())}Ji(){return(this.za&
2080374784)>>26}Xs(q){this.vj=q;0!==this.Xa()&&this.vj.SO()}$(){return this.vj}Pb(){return this.$().Pb()}Lx(q){this.Hj=q|0}Ui(){this.vj.at();return this.Hj}ne(q,v){this.za=v?this.za|q:this.za&~q}Rc(){return 0!==(this.za&1)}ej(q){this.ne(1,q)}qp(){return 0!==(this.za&8)}C0(q){q=!!q;this.qp()!==q&&(this.ne(8,q),q?this.ob():this.DO())}f1(q,v){this.ne(32,q);this.ti&&this.ti.clear();if(v.trim()){this.ti||(this.ti=new Set);for(const w of v.split(" "))w&&this.ti.add(w.toLowerCase())}else this.ti=null}ob(){this.za|=
65554;this.J.RO();this.g.Y();this.vj.Kn()&&(this.gB(this.XE,this.YE,!0),this.za&=-3,this.a9());0!==(this.za&4)&&this.ka.dc().dispatchEvent(b);if(null!==this.Cb){const q=this.Cb.Be();for(let v=0,w=q.length;v<w;++v)q[v].ob()}}gB(q,v,w){const y=this.Aa(),A=this.Ba(),G=this.pa(),z=this.ma(),F=this.Ta();q.Eg(y-this.Eq*G,A-this.Fq*z,G,z);w&&this.Eh()&&this.i4(q);0===F?v.Di(q):(q.offset(-y,-A),v.$S(q,this.UB(),this.IB()),v.offset(y,A),v.jI(q));q.normalize()}lP(){const q=this.za;0!==(q&2)&&(this.gB(this.XE,
this.YE,!0),this.za=q&-3)}Oc(){this.lP();return this.XE}Qj(){this.lP();return this.YE}A0(q){this.ne(4,q)}FK(){return 0!==(this.za&4)}NK(q,v,w){return v&&0!==this.Dc?this.rp(this.$().Op()):0===this.Xa()||w?q.EA(this.Oc()):this.t5()}t5(){const q=this.$(),v=this.Kg();if(v>=q.Fr())return!1;q.uK(v,a);return a.EA(this.Oc())}rp(q){var v=this.Oc();const w=v.O,y=v.X,A=v.L;v=v.U;const G=this.Kg();return q.EU(w,A,G,y,v,G+this.Dc)}Fx(q){this.ne(1048576,q)}Hx(q){this.ne(2097152,q)}xw(){return null!==this.iH||
this.Eh()}hn(){return this.C4(this.pa(),this.ma(),this.Ta(),this.UB(),this.IB())}C4(q,v,w,y,A){let G=this.Xq;null===G&&(this.Xq=G={OS:f.j(f.Qm),width:NaN,height:NaN,angle:NaN});const z=G.OS;if(G.width===q&&G.height===v&&G.angle===w)return z;const F=this.iH;if(this.Eh()){const I=this.Or(),J=this.Pr(),M=this.ol();let Q=this.oi.JS;Q||(F?(c.ia(F),c.offset(I,J)):c.qba(),Q=M.UY(c),this.oi.JS=Q);M.N1(Q,z);z.offset(-I,-J);z.SI(q,v,y,A)}else F?(z.ia(F),z.SI(q,v,y,A)):z.LI(this.Qj(),-this.Aa(),-this.Ba());
G.width=q;G.height=v;G.angle=w;return z}lN(){this.a1();const q=this.Xq;null!==q&&(q.width=NaN)}oB(q,v){q=Math.floor(q);v=Math.floor(v);if(!this.qa().ub().M$)throw Error("object does not support mesh");this.Ow();this.oi={NI:f.j(f.H.$K,q,v),kT:f.j(f.H.$K,q,v),JS:null}}Eh(){return null!==this.oi}ol(){if(!this.Eh())throw Error("no mesh");return this.oi.NI}JX(){if(!this.Eh())throw Error("no mesh");return this.oi.kT}X0(){this.ne(65536,!1)}iZ(){return 0!==(this.za&65536)}a1(){this.ne(131072,!0)}i4(q){const v=
this.oi.NI,w=Math.min(v.sX(),0),y=Math.min(v.tX(),0),A=Math.max(v.pX(),1),G=Math.max(v.qX(),1),z=q.width(),F=q.height();q.offsetLeft(w*z);q.offsetTop(y*F);q.fba((A-1)*z);q.eba((G-1)*F);this.Dc=v.rX()}Ow(){this.oi&&(this.oi.NI.m(),this.oi.kT.m(),this.oi=null,this.lN())}gM(q,v,w){q=Math.floor(q);v=Math.floor(v);var y=w.mode||"absolute";if(!l.has(y))throw Error("invalid mode");y="relative"===y;let A=w.x,G=w.y;const z=w.sv;let F="number"===typeof w.oT?w.oT:y?0:-1;w="number"===typeof w.rT?w.rT:y?0:-1;
if(!this.Eh())return!1;const I=this.ol(),J=I.ip(q,v);if(null===J)return!1;let M=!1;"number"===typeof z&&J.Xa()!==z&&(J.Ie(z),M=!0);y&&(A+=q/(I.pj-1),G+=v/(I.Bj-1));-1!==F||y?(y&&(F+=q/(I.pj-1)),F=f.ja(F,0,1)):F=J.Ag;-1!==w||y?(y&&(w+=v/(I.Bj-1)),w=f.ja(w,0,1)):w=J.Cg;if(J.Aa()===A&&J.Ba()===G&&J.Ag===F&&J.Cg===w)return M;J.Qh(A);J.Rh(G);J.kD(F);J.lD(w);this.lN();return!0}Yj(){return this.ka.Yj()}mJ(q,v){return this.Oc().$e(q,v)&&this.Qj().$e(q,v)?this.Yj()?void 0:this.xw()?this.hn().$e(q-this.Aa(),
v-this.Ba()):!0:!1}r5(){return 0!==(this.za&16)}mP(){if(this.r5()&&this.qp()&&0===(this.za&256)){var q=this.Oc(),v=this.J.gy,w=this.fy;a.set(v.Sh(q.O),v.Th(q.L),v.Sh(q.X),v.Th(q.U));w.Xc(a)||(q=this.ka,w===h?(v.In(q,null,a),this.fy=f.j(f.Rect,a)):(v.In(q,w,a),w.ia(a)),this.za&=-17)}}DO(){const q=this.fy;q!==h&&(this.J.gy.In(this.ka,q,null),this.fy=h)}a9(){const q=this.$();if(q.Kn()&&0===(this.za&256)){var v=q.Kq,w=this.Oc(),y=this.qu;a.set(v.Sh(w.O),v.Th(w.L),v.Sh(w.X),v.Th(w.U));y.Xc(a)||(w=this.ka,
y===n?(v.In(w,null,a),this.qu=f.j(f.Rect,a)):(v.In(w,y,a),y.ia(a)),q.c1())}}EO(){const q=this.qu;q!==n&&(this.$().Kq.In(this.ka,q,null),this.qu=n)}n2(){const q=this.ka,v=this.vj,w=v.D;w.length&&w.Jd(-1)===q||(v.Pn(q,!1),v.eg(q,!1),this.g.Y())}l2(){const q=this.ka,v=this.vj,w=v.D;w.length&&w[0]===q||(v.Pn(q,!1),v.M6(q),this.g.Y())}m2(q){const v=this.ka,w=this.vj;if(w.Pb()!==q.Pb())throw Error("layer from different layout");q!==w&&(w.Pn(v,!0),this.Xs(q),q.eg(v,!0),this.g.Y())}k2(q,v){const w=this.ka;
let y=!1;const A=this.vj;if(q.Jc!==w.Jc){var G=q.A();if(!G)throw Error("expected world instance");G=G.$();A.Da()!==G.Da()&&(A.Pn(w,!0),this.Xs(G),G.eg(w,!0),y=!0);q=G.RZ(w,q,!!v);(y||q)&&this.g.Y()}}m8(q){this.ne(64,q)}Zr(){return 0!==(this.za&64)}aa(q){const v={x:this.Aa(),y:this.Ba(),w:this.pa(),h:this.ma(),l:this.$().cb,zi:this.Ui()};0!==this.Xa()&&(v.ze=this.Xa());0!==this.Ta()&&(v.a=this.Ta());this.op()||(v.c=this.Ya.toJSON());.5!==this.Or()&&(v.oX=this.Or());.5!==this.Pr()&&(v.oY=this.Pr());
0!==this.Ji()&&(v.bm=this.Ji());this.Rc()||(v.v=this.Rc());this.qp()||(v.ce=this.qp());this.FK()&&(v.be=this.FK());this.Bf&&(v.fx=this.Bf.aa());const w=0!==(this.za&32);w&&(v.sfi=w);this.ti&&(v.sft=[...this.ti].join(" "));this.Cb&&"visual-state"!==q&&(v.sgi=this.Cb.aa());this.Eh()&&(v.mesh=this.ol().Nd());return v}zx(q){"visual-state"!==q&&this.m7()}da(q,v){p=!1;this.Qh(q.x);this.Rh(q.y);this.hk(q.w);this.fk(q.h);this.Lx(q.zi);this.Ie(q.hasOwnProperty("ze")?q.ze:0);this.vd(q.hasOwnProperty("a")?q.a:
0);q.hasOwnProperty("c")?e.dl(q.c):q.hasOwnProperty("o")?(e.yi(this.Ya),e.Uo=q.o):e.Hm(1,1,1,1);this.Ex(e);this.fD(q.hasOwnProperty("oX")?q.oX:.5);this.gD(q.hasOwnProperty("oY")?q.oY:.5);this.Xf(q.hasOwnProperty("bm")?q.bm:0);this.ej(q.hasOwnProperty("v")?q.v:!0);this.C0(q.hasOwnProperty("ce")?q.ce:!0);this.A0(q.hasOwnProperty("be")?q.be:!1);this.f1(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.Bf&&q.hasOwnProperty("fx")&&this.Bf.da(q.fx);if(q.hasOwnProperty("sgi")&&"visual-state"!==
v){this.GD(null);const w=this.Cb,y=q.sgi;w.da(y);const A=this.F().dc(),G=()=>{A.removeEventListener("afterload",G);0===(this.za&256)&&w.eE(y)};A.addEventListener("afterload",G)}q.hasOwnProperty("mesh")?(q=q.mesh,this.oB(q.cols,q.rows),this.ol().td(q)):this.Ow();this.ob();p=!0;this.Up()}}}
{"use strict";const f=self.B;f.$I=class extends f.Z{constructor(a,b){super();const e=a.F(),c=e.Eo,g=e.Ig(b[1]);c.TX(g)||c.JU(b);this.g=e;this.J=a;this.Yh=c.AW(g);this.ed=null;this.Ry=g.Instance;this.cb=b[2];this.Ca=b[0];this.au=this.g.Ch(b[3]);this.ed=f.j(g.bx,this)}static Ja(a,b){return f.j(f.$I,a,b)}m(){this.Yh=this.g=null;this.ed.m();this.Ry=this.ed=null}F(){return this.g}G(){return this.J}jl(){return this.Yh}wa(){return this.Ca}Ch(){return this.au}}}
{"use strict";const f=self.B,a=self.gY;f.vv=class extends f.Z{constructor(b){super();this.g=b.cf;this.Bc=b.VH;this.Yh=this.Bc.jl();this.ka=b.instance;this.Ia=b.index;this.Qd=this.xa=null;this.Yh.eg(this.ka)}m(){this.Qd&&(this.Qd.Vs(),this.Qd=null);this.Yh.Pn(this.ka);this.xa.m();this.ka=this.Yh=this.Bc=this.g=this.Qd=this.xa=null}lx(b){if(this.xa)throw Error("already got sdk instance");this.xa=f.j(this.Bc.Ry,this,b);this.i5()}F(){return this.g}Qf(){return this.Bc}jl(){return this.Yh}me(){return this.Ia}Nd(){return this.xa.Nd()}td(b){return this.xa.td(b)}static oD(b,
e){var c=b.ka,g=e.ka;const n=c.G().Da(),h=g.G().Da();if(n!==h)return n-h;c=c.nR;g=g.nR;return c!==g?c-g:b.Yx.me()-e.Yx.me()}i5(){const b=this.xa.mp(),e=b||a;a.fg(this);this.Qd=new e;a.fg(null);if(b&&!(this.Qd instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}pw(){return this.Qd}}}
{"use strict";const f=self.B;f.Nj=class extends f.Z{constructor(a,b){super();this.ic=a;this.gg=[];this.vf=[];this.qy=new Map;this.Tg=[];this.Gq=!0;for(const e of b)a=f.j(f.FJ,this,e,this.gg.length),this.gg.push(a),this.qy.set(a.wa().toLowerCase(),a),3<=e.length&&this.Tg.push(this.YD(e[2]));this.F().r2(this)}m(){f.C(this.gg);f.C(this.vf);this.qy.clear();f.C(this.Tg);this.ic=null}G_(a){if(a.length){this.gg=a.concat(this.gg);for(const b of a)this.qy.set(b.wa().toLowerCase(),b);for(let b=0,e=this.gg.length;b<
e;++b)this.gg[b].qE(b)}}YD(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=f.j(f.Wa);g.dl(c);a[b]=g}}return a}F(){return this.ic.F()}Og(){f.C(this.vf);let a=!0;for(const b of this.gg)b.zb&&(this.vf.push(b),b.mf().Gq||(a=!1));this.Gq=a}Pf(){return this.gg}OX(){return 0<this.gg.length}Tj(a){return this.qy.get(a.toLowerCase())||null}TJ(a){a=Math.floor(+a);if(0>a||a>=this.gg.length)throw new RangeError("invalid effect type index");return this.gg[a]}cs(a){return this.TJ(a).zb}VL(a,
b){this.TJ(a).Sw(b)}Zr(){return 0<this.vf.length}Sj(a){return this.Tg[a]}static q0(a){return a&&a instanceof f.Wa?{t:"color",v:a.toJSON()}:a}static FZ(a){if("object"===typeof a){if("color"===a.t){const b=f.j(f.Wa);b.dl(a.v);return b}throw Error("invalid effect parameter type");}return a}static LL(a){return a.map(f.Nj.q0)}static WK(a){return a.map(f.Nj.FZ)}Nd(){return this.gg.map(a=>({name:a.wa(),active:a.zb,params:f.Nj.LL(this.Tg[a.Da()])}))}td(a){for(const b of a)if(a=this.Tj(b.name))a.Sw(b.active),
this.Tg[a.Da()]=f.Nj.WK(b.params);this.Og()}}}
{"use strict";const f=self.B;f.FJ=class extends f.Z{constructor(a,b,e){super();this.Ga=a;this.qe=b[0];this.Ca=b[1];this.Ia=e;this.Ic=null;this.zb=!0}m(){this.Ic=this.Ga=null}yU(a){a=f.j(f.FJ,a,[this.qe,this.Ca],-1);a.Ic=this.Ic;a.zb=this.zb;return a}YN(a){a=a.oK(this.qe);if(!a)throw Error("failed to find shader program '"+this.qe+"'");this.Ic=a}wa(){return this.Ca}qE(a){this.Ia=a}Da(){return this.Ia}F(){return this.Ga.F()}Sw(a){this.zb=!!a}mf(){return this.Ic}IW(){const a=[];for(let b=0,e=this.Ic.To.length;b<
e;++b){const c=this.Ic.iw(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(f.j(f.Wa,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const f=self.B;f.VY=class extends f.Z{constructor(a,b){super();this.ka=a;this.bS=b;this.Ga=a.G().Ga;this.Su=this.KG=!0;this.$R=this.ZR=this.XR=!1;this.Sg=f.j(f.H.ae,a.F().K.nF,{wA:(e,c)=>{c=c.Nl;const g=c.A();e.yl(g.RB());e.ts(g.Kg());c.Hi(e);e.ts(0)},yS:e=>{const c=e.Xv(),[g,n]=e.Wv();return{gT:c,hT:g,fT:n}},BA:e=>this.Sj(e)});this.Rn=[];this.vf=[];this.Gq=!0;this.Tg=[];for(const e of this.Ga.Pf())this.Rn.push(!0);this.Og()}m(){this.Sg.m();this.Sg=null;f.C(this.Rn);f.C(this.vf);f.C(this.Tg);
this.Ga=this.ka=null}D5(a){for(const b of a)this.Tg.push(this.YD(b))}YD(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=f.j(f.Wa);g.dl(c);a[b]=g}}return a}DZ(){for(const a of this.Ga.Pf())this.Tg.push(a.IW())}zh(){this.Rs();return this.Sg}F(){return this.ka.F()}Og(){f.C(this.vf);const a=this.bS,b=this.Ga.Pf(),e=this.vf,c=this.Rn;let g=!0;for(let n=0,h=b.length;n<h;++n)if(c[n]){const l=b[n];e.push(l);l.mf().Gq||(g=!1)}this.Gq=g;a.m8(!!e.length);this.KG=!0}Rs(){const a=
this.ka;var b=this.bS;const e=b.op(),c=0<b.Dc;b=0!==b.Ta()||0>b.pa()||0>b.ma();const g=a.Cw();if(this.KG||e!==this.Su||c!==this.XR||b!==this.ZR||g!==this.$R)this.Sg.fB(this.vf.map(n=>n.mf()),{er:this.vf.map(n=>n.Da()),zA:!e||a.up(),oI:c,sI:g,DS:b}),this.KG=!1,this.Su=e,this.XR=c,this.ZR=b,this.$R=g}Sj(a){return this.Tg[a]}cs(a){return this.Rn[a]}VL(a,b){this.Rn[a]=!!b}Pf(){return this.Ga.Pf()}aa(){return this.Ga.Pf().map(a=>({name:a.wa(),active:this.Rn[a.Da()],params:f.Nj.LL(this.Tg[a.Da()])}))}da(a){for(const b of a)if(a=
this.Ga.Tj(b.name))this.Rn[a.Da()]=b.active,this.Tg[a.Da()]=f.Nj.WK(b.params);this.Og()}}}
{"use strict";const f=self.B,a=[],b=f.j(f.Qm),e=f.j(f.Qm),c=f.j(f.jd);f.j(f.Rect);f.j(f.Rect);let g=null,n=null,h=null;f.zU=class extends f.Z{constructor(l){super();this.g=l;this.Pz=[]}m(){this.g=null}ZI(l,m,p){for(const [r,u]of this.Pz){let q;if(l===r)q=u;else if(l===u)q=r;else continue;q.$o(m)&&(p.includes(q)||p.push(q))}}gJ(l,m){if(!this.Pz.length)return!1;for(const [p,r]of this.Pz)if(l===p&&m===r||l===r&&m===p)return!0;return!1}hJ(){f.C(this.Pz)}tD(l,m){if(!l||!m||l===m)return!1;l=l.A();m=m.A();
if(!l.qp()||!m.qp())return!1;const p=l.$(),r=m.$();return p.uZ(r)?this.N8(l,m):this.M8(l,m)}N8(l,m){if(!l.Oc().EA(m.Oc())||!l.Qj().mI(m.Qj())||l.Yj()&&m.Yj())return!1;if(l.Yj())return this.uD(l,m);if(m.Yj())return this.uD(m,l);if(!l.xw()&&!m.xw())return!0;const p=l.hn(),r=m.hn();return p.av(r,m.Aa()-l.Aa(),m.Ba()-l.Ba())}M8(l,m){var p=l.Yj(),r=m.Yj();if(p&&!r)return this.yM(l,m);if(r&&!p)return this.yM(m,l);if(r||p)return!1;r=l.$();p=m.$();b.ia(l.hn());e.ia(m.hn());var u=b.Vd;for(let q=0,v=u.length;q<
v;q+=2){const w=q+1,y=u[w],[A,G]=r.tn(u[q]+l.Aa(),y+l.Ba());u[q]=A;u[w]=G}l=e.Vd;for(let q=0,v=l.length;q<v;q+=2){r=q+1;u=l[r];const [w,y]=p.tn(l[q]+m.Aa(),u+m.Ba());l[q]=w;l[r]=y}b.KI();e.KI();return b.av(e,0,0)}yM(l,m){var p=l.$(),r=m.$();g||(g=f.j(f.Qm));n||(n=f.j(f.Rect));h||(h=f.j(f.jd));var u=m.Aa(),q=m.Ba();const [v,w]=r.tn(u,q),[y,A]=p.Nm(v,w);p=y-u;q=A-q;n.ia(m.Oc());n.offset(p,q);if(!l.Oc().EA(n))return!1;h.ia(m.Qj());h.offset(p,q);if(!l.Qj().mI(h))return!1;g.ia(m.hn());r=g.Vd;for(let G=
0,z=r.length;G<z;G+=2)u=G+1,r[G]+=p,r[u]+=q;g.KI();return this.uD(l,m,y,A,g,n,h)}uD(l,m,p,r,u,q,v){q=void 0!==q?q:m.Oc();const w=l.Aa(),y=l.Ba();var A=l.qa().xa;p=void 0!==p?p:m.Aa();r=void 0!==r?r:m.Ba();l=m.xw();v=void 0!==v?v:m.Qj();A.uda(q,a);for(let F=0,I=a.length;F<I;++F){var G=a[F];A=G.zda();if(q.Laa(A,w,y)&&(c.Di(A),c.offset(w,y),c.mI(v)))if(l){var z=void 0!==u?u:m.hn();if(G=G.xX()){if(G.av(z,p-(w+A.O),r-(y+A.L)))return f.C(a),!0}else if(b.LI(c,0,0),b.av(z,p,r))return f.C(a),!0}else if(z=
G.xX()){if(b.LI(v,0,0),z.av(b,-(w+A.O),-(y+A.L)))return f.C(a),!0}else return f.C(a),!0}f.C(a);return!1}HB(l,m,p,r){l=l?1!==l.Se||1!==l.Te:!1;if(m.$a)for(const u of m.fo)l||u.ME?f.Am(r,u.fa()):(u.kP(),u.gy.Mw(p,r));else l||m.ME?f.Am(r,m.fa()):(m.kP(),m.gy.Mw(p,r))}}}
{"use strict";const f=self.B;f.D1=class extends f.Z{constructor(a,b){super();this.aF=a;this.$E=b;this.ai=f.j(f.ls)}m(){this.ai.m();this.ai=null}kl(a,b,e){let c=this.ai.V(a,b);return c?c:e?(c=f.j(f.LX,this,a,b),this.ai.Set(a,b,c),c):null}Sh(a){a=Math.floor(a/this.aF);return isFinite(a)?a:0}Th(a){a=Math.floor(a/this.$E);return isFinite(a)?a:0}In(a,b,e){if(b)for(let c=b.O,g=b.X;c<=g;++c)for(let n=b.L,h=b.U;n<=h;++n){if(e&&e.$e(c,n))continue;const l=this.kl(c,n,!1);l&&(l.Lg(a),l.qn()&&this.ai.Rm(c,n))}if(e)for(let c=
e.O,g=e.X;c<=g;++c)for(let n=e.L,h=e.U;n<=h;++n)b&&b.$e(c,n)||this.kl(c,n,!0).jC(a)}Mw(a,b){let e=this.Sh(a.O);const c=this.Th(a.L),g=this.Sh(a.X);a=this.Th(a.U);if(isFinite(g)&&isFinite(a))for(;e<=g;++e)for(let n=c;n<=a;++n){const h=this.kl(e,n,!1);h&&h.sB(b)}}}}{"use strict";const f=self.B;f.LX=class extends f.Z{constructor(a,b,e){super();this.ba=b;this.W=e;this.D=f.j(f.bB)}m(){this.D.m();this.D=null}qn(){return this.D.qn()}jC(a){this.D.Nc(a)}Lg(a){this.D.Rm(a)}sB(a){f.Am(a,this.D.zB())}}}
{"use strict";const f=self.B;f.fga=class{constructor(){this.rect=new f.Rect;this.Xu=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.Xu=0;return this}}}
{"use strict";const f=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Ci.al,c=e.create(),g=f.j(f.jd),n=f.j(f.Rect);f.kB=class extends f.Z{constructor(h){super();this.g=h;this.$h=null;this.DQ=!1;this.xi=this.Za=null;this.EF="high-performance";this.Ml=this.Ll=this.jg=this.kg=this.Cc=this.Uc=this.Dj=this.Ej=0;this.br="normalized";this.UP=0;this.lq=!0;this.tc=this.Ec=this.LR=0;this.KP=this.WP="letterbox-scale";this.M9=
this.L9=0;this.ny=e.create();this.Wg=this.MH="high";this.so=!1;this.gt=[];this.jA=new Set;this.Sz=self.C3_Shaders;this.nF=f.j(f.H.fW,{wS:()=>[this.Mi(),this.Li()],xS:()=>this.JW(),TS:l=>this.Q_(l),getTime:()=>this.F().Vj(),SS:()=>this.F().Y()});this.zf=this.Sl=0;this.rq=NaN;this.Jy=null;this.rG=new Map;this.Et=NaN;this.qA=new Map;this.Xz="";this.gH=1;this.yR=f.j(f.Rect);this.hH="";this.zR=this.xu=null;this.fu=0;this.Wd=-1;this.$l=0;this.xG=l=>this.$l=l.progress;this.Ue=null;this.We={hv:null,lv:null,
rv:null};this.lH=this.FR=this.mH=0;this.vi="fade-in";this.kH=null;this.ER=new Promise(l=>this.kH=l)}k8(h){this.EF=h}B8(h){this.DQ=!!h}D8(h){this.br=h}e8(h){this.UP=h}async Fg(h){this.$h=h.canvas;this.g.vh("runtime","window-resize",p=>this.gE(p));this.g.vh("runtime","fullscreenchange",p=>this.q6(p));this.g.vh("runtime","fullscreenerror",p=>this.r6(p));this.$h.addEventListener("webglcontextlost",p=>this.Us(p));this.$h.addEventListener("webglcontextrestored",()=>this.fE());this.so=!!h.isFullscreen;var l=
navigator.gpu&&this.DQ;let m=!1;if(l)try{await this.bO(!0)}catch(p){this.xi=null}if(!this.bb())try{await this.aO(!0)}catch(p){this.Za=null}this.bb()||(m=!0);if(!this.bb()&&l)try{await this.bO(!1)}catch(p){this.xi=null}if(!this.bb())try{await this.aO(!1)}catch(p){this.Za=null}l=this.bb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.P0(m);"normalized"===this.br?l.v1():(l.w1(),l.cD(this.UP));this.wd(h.windowInnerWidth,h.windowInnerHeight,!0);this.xi?await this.l5():
this.Za&&await this.k5();l.eD(this.lq);l.fj()&&(this.rq=0);for(const p of this.g.EE){for(const r of p.Pf())r.YN(l);p.Og()}}async bO(h){h={powerPreference:this.EF,depth:this.g.Wk,failIfMajorPerformanceCaveat:h,Tja:this.g.kA,ZH:this.g.IH};this.xi=f.j(f.H.pja);await this.xi.Ja(this.$h,h)}async aO(h){h={powerPreference:this.EF,uS:!0,depth:this.g.Wk,ZH:this.g.IH,failIfMajorPerformanceCaveat:h};"Android"===f.yc.vp&&"Chromium"===f.yc.yv&&75>f.yc.eB&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
h.IS=1);"standard"===this.g.cq?h.alpha=!0:(h.alpha=!1,h.tI=!0);this.Za=f.j(f.H.g2,this.$h,h);await this.Za.Bw()}async l5(){if(this.Sz){const h=[];for(const [l,m]of Object.entries(this.Sz))m.src=m.kna,h.push(this.xi.pB(m,f.H.qja.Yv(),l));await Promise.all(h)}}async k5(){if(this.Sz){const h=[];for(const [l,m]of Object.entries(this.Sz))m.src=m.Rka,h.push(this.Za.pB(m,f.H.Fs.Yv(),l));await Promise.all(h);this.Za.g0();this.Za.dj()}this.Za.fj()&&(this.Jy=f.j(f.H.MM,this.Za))}m(){this.$h=this.Za=this.g=
null}gE(h){const l=this.g;if(!l.pl()){var m=h.devicePixelRatio;l.Sd&&(self.devicePixelRatio=m);l.a8(m);this.so=!!h.isFullscreen;this.wd(h.innerWidth,h.innerHeight);l.Y();l.mb&&(l.$r()||self.Nf.aea())&&l.zn()}}q6(h){this.so=!!h.isFullscreen;this.wd(h.innerWidth,h.innerHeight,!0);this.g.Y()}r6(h){this.so=!!h.isFullscreen;this.wd(h.innerWidth,h.innerHeight,!0);this.g.Y()}wd(h,l,m=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Ej!==h||this.Dj!==l||m){this.Ej=h;this.Dj=
l;m=this.Gr();"letterbox-scale"===m?this.H2(h,l):"letterbox-integer-scale"===m?this.G2(h,l):"off"===m?this.E2(h,l):this.F2(h,l);this.Y8(m);this.$h.width=this.kg;this.$h.height=this.jg;this.g.xl("canvas","update-size",{marginLeft:this.Ll,marginTop:this.Ml,styleWidth:this.Uc,styleHeight:this.Cc});h=this.bb();h.wd(this.kg,this.jg,!0);for(var p of this.gt)h.aV(p);f.C(this.gt);h.Mm(this.ny,this.Mi()/this.Li());p=this.g.Va;p.Cn();p.Bn()}}H2(h,l){const m=this.g.Rj(),p=this.g.vg,r=this.g.ug,u=p/r;h/l>u?(this.Uc=
Math.round(l*u),this.Cc=l,this.Ll=Math.floor((h-this.Uc)/2),this.Ml=0):(this.Uc=h,this.Cc=Math.round(h/u),this.Ll=0,this.Ml=Math.floor((l-this.Cc)/2));this.kg=Math.round(this.Uc*m);this.jg=Math.round(this.Cc*m);this.g.Cs(p,r)}G2(h,l){const m=this.g.Rj();1!==m&&(h+=1,l+=1);const p=this.g.vg,r=this.g.ug;var u=p/r;u=h/l>u?l*u*m/p:h/u*m/r;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.kg=Math.round(p*u);this.jg=Math.round(r*u);this.Uc=this.kg/m;this.Cc=this.jg/m;this.Ll=Math.max(Math.floor((h-this.Uc)/
2),0);this.Ml=Math.max(Math.floor((l-this.Cc)/2),0);this.g.Cs(p,r)}F2(h,l){const m=this.g.Rj();this.Uc=h;this.Cc=l;this.kg=Math.round(this.Uc*m);this.jg=Math.round(this.Cc*m);this.Ml=this.Ll=0;h=this.Ki();this.g.Cs(this.Uc/h,this.Cc/h)}E2(h,l){const m=this.g.Rj();this.Uc=this.g.Kf;this.Cc=this.g.ye;this.kg=Math.round(this.Uc*m);this.jg=Math.round(this.Cc*m);this.so?(this.Ll=Math.floor((h-this.Uc)/2),this.Ml=Math.floor((l-this.Cc)/2)):this.Ml=this.Ll=0;this.g.Cs(this.g.Kf,this.g.ye)}Y8(h){if("high"===
this.MH)this.Ec=this.kg,this.tc=this.jg,this.Wg="high";else{let m;if("off"===this.Gr()){var l=this.g.Kf;m=this.g.ye}else l=this.g.vg,m=this.g.ug;this.kg<l||this.jg<m?(this.Ec=this.kg,this.tc=this.jg,this.Wg="high"):(this.Ec=l,this.tc=m,this.Wg="low","scale-inner"===h?(h=l/m,l=this.Ej/this.Dj,l<h?this.Ec=this.tc*l:l>h&&(this.tc=this.Ec/l)):"scale-outer"===h&&(h=l/m,l=this.Ej/this.Dj,l>h?this.Ec=this.tc*l:l<h&&(this.tc=this.Ec/l)))}}F(){return this.g}XL(h){if(!a.has(h))throw Error("invalid fullscreen mode");
this.WP=h;h=this.g.Va;h.Cn();h.Bn()}bw(){return this.WP}H0(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.KP=h;h=this.g.Va;h.Cn();h.Bn()}Gr(){return this.so?this.KP:this.bw()}YL(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.MH=h;this.g.Va.Cn()}static AN(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}Mi(){return this.Ec}Li(){return this.tc}eD(h){this.lq=!!h}z8(h){this.LR=h}nZ(){return this.bb().nn()}Us(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.gt=[];this.jA.clear();this.Za.ak();this.g.Us()}async fE(){await this.Za.FC();await this.Fja();for(const h of this.g.EE)for(const l of h.Pf())l.YN(this.Za);await this.g.fE();console.log("[Construct 3] WebGL context restored")}jn(){return this.Za}Yr(){return this.xi}bb(){return this.xi||this.Za}jp(){return"low"===this.Wg?
1/this.g.Rj():this.Ki()}Ki(){const h=this.Gr();if("off"===h||"crop"===h)return 1;const l=this.g.vg,m=this.g.ug,p=l/m,r=this.kg/this.jg;return"scale-inner"!==h&&r>p||"scale-inner"===h&&r<p?this.Cc/m:this.Uc/l}Kr(){return"low"===this.Wg?1:this.Ki()}Jr(){return"low"===this.Wg?1:this.g.Rj()}G0(h,l,m){l=l||this.Ec;m=m||this.tc;const p=l/2+this.L9,r=m/2+this.M9;{let u=this.ny;if(l!==this.Ec||m!==this.tc)h.Mm(c,l/m),u=c;h.Dn(u)}l=h.xr(p,r,h.hf(m),p,r,m);h.Fp(l)}D0(h){var l=this.Cc;const m=this.Uc/2,p=l/
2;h.Dn(this.ny);l=h.xr(m,p,h.hf(l),m,p,l);h.Fp(l)}DB(){return this.Ll}EB(){return this.Ml}Dr(h){h.depth=this.g.Wk;const l=this.gt,m=l.findIndex(r=>r.cZ(h));let p;-1!==m?(p=l[m],l.splice(m,1)):p=this.bb().PU(h);this.jA.add(p);return p}xn(h){if(!this.jA.has(h))throw Error("render target not in use");this.jA.delete(h);this.gt.push(h)}JW(){const h={bl:this.g.md};"low"===this.Wg&&(h.width=this.Mi(),h.height=this.Li());return this.Dr(h)}Q_(h){this.xn(h)}*rA(){for(const h of this.g.Va.ov())for(const l of h.Mb){const m=
this.rG.get(l);m&&(yield m)}}dK(h){if(!this.bb().fj())return null;let l=this.rG.get(h);l||(l={name:h.wa(),OI:f.j(f.H.MM,this.Za),tA:0,GS:0},this.rG.set(h,l));return l.OI}V8(){const h=this.bb();if(h.fj()&&0===this.zf){this.zf=h.Vg;this.Et=NaN;for(const l of this.rA())l.tA=NaN}}c9(){this.Za&&this.Za.fj()&&this.d9();this.xi&&this.xi.fj()&&this.e9()}d9(){if(isNaN(this.Et)&&(this.Et=this.Jy.$J(this.Sl,this.zf),!isNaN(this.Et))){if(this.g.mb)for(const h of this.rA())if(h.tA=h.OI.$J(this.Sl,this.zf),isNaN(h.tA))return;
this.Jy.AJ(this.zf);this.rq=Math.min(this.Et,1);if(this.g.mb){for(const h of this.rA())h.OI.AJ(this.zf),h.GS=Math.min(h.tA,1);self.Nf.W1(this.rq,[...this.rA()])}this.Sl=this.zf;this.zf=0}}e9(){if(0!==this.zf){for(var h=this.Sl;h<this.zf;++h){var l=this.qA.get(h);if(l&&!l.yw())return}l=this.g.Ib();h=f.KZ(l.Mb.length+1);for(var m=this.Sl;m<this.zf;++m){var p=this.qA.get(m);if(p){p=p.ow();for(let r=0,u=Math.min(h.length,p.length/2);r<u;++r){const q=p[2*r],v=p[2*r+1];h[r]=0===Number(q)||0===Number(v)?
NaN:h[r]+Number(v-q)/1E9}}}this.rq=f.ja(h[0],0,1);if(this.g.mb){m=[];l=l.Mb;for(let r=0,u=Math.min(l.length,h.length-1);r<u;++r)m.push({name:l[r].wa(),GS:f.ja(h[r+1],0,1)});self.Nf.W1(this.rq,m)}for(h=this.Sl;h<this.zf;++h)this.qA.delete(h);this.Sl=this.zf;this.zf=0}}A2(h){this.qA.set(this.xi.Vg,h)}dw(){return this.rq}uM(h,l,m,p,r,u){this.Xz=h;this.gH=l;this.yR.Eg(m,p,r,u);return this.xu?this.xu:this.xu=new Promise(q=>{this.zR=q})}Z5(){if(this.Xz){var h=this.$h,l=this.yR,m=f.ja(Math.floor(l.O),0,
h.width),p=f.ja(Math.floor(l.L),0,h.height),r=l.width();r=0===r?h.width-m:f.ja(Math.floor(r),0,h.width-m);l=l.height();l=0===l?h.height-p:f.ja(Math.floor(l),0,h.height-p);(0!==m||0!==p||r!==h.width||l!==h.height)&&0<r&&0<l&&(h=f.Fg(r,l),h.getContext("2d").drawImage(this.$h,m,p,r,l,0,0,r,l));f.zv(h,this.Xz,this.gH).then(u=>{this.hH=URL.createObjectURL(u);this.xu=null;this.zR(this.hH)});this.Xz="";this.gH=1}}DY(h){this.Za&&(2===h?(this.Ue=f.j(f.H.NC,this.bb()),this.Ue.bM(),this.Ue.aD("Arial"),this.Ue.bD(16),
this.Ue.$L("center"),this.Ue.tM("center"),this.Ue.wd(300,200)):0===h?(h=this.g.Aq)&&h.BC(this.Za).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.P5().then(l=>{"done"===this.vi?this.Za.Gi(l):this.We.hv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.gO("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.vi?this.Za.Gi(l):this.We.lv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.gO("splash-images/splash-website-512.png").then(l=>
{"done"===this.vi?this.Za.Gi(l):this.We.rv=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async P5(){var h=(new URL("splash-images/splash-logo.svg",this.g.BB())).toString();h=await f.Pj(h);h=await this.g.O_(h);return await this.Za.qB(h,{jv:"high"})}async gO(h){h=(new URL(h,this.g.BB())).toString();h=await f.Pj(h);return await this.Za.qB(h,{jv:"high"})}cC(){this.g.xl("runtime","hide-cordova-splash")}E1(){this.fu=Date.now();this.g.dc().addEventListener("loadingprogress",this.xG);this.Wd=
requestAnimationFrame(()=>this.sN());3!==this.g.zq&&this.cC()}async iW(){if(this.Za){this.$l=1;var h=this.g.zq;4===h&&await this.ER;this.ER=this.kH=null;-1!==this.Wd&&(cancelAnimationFrame(this.Wd),this.Wd=-1);this.g.dc().removeEventListener("loadingprogress",this.xG);this.xG=null;this.Ue&&(this.Ue.m(),this.Ue=null);this.g.R_();this.Za.Ds();this.We.hv&&(this.Za.Gi(this.We.hv),this.We.hv=null);this.We.lv&&(this.Za.Gi(this.We.lv),this.We.lv=null);this.We.rv&&(this.Za.Gi(this.We.rv),this.We.rv=null);
this.Za.Pm();this.Za.ep();this.vi="done";this.Sl=this.Za.Vg;3===h&&this.cC()}}sN(){if(-1!==this.Wd){var h=this.Za;if(h){h.Ds();this.Wd=-1;var l=this.g.Tc.HF,m=this.g.zq;3!==m&&(this.D0(h),h.Pm(),h.rs(),h.dj(),h.ag(null));if(0===m)this.Z3(l);else if(1===m)this.ox(l,120,0);else if(2===m)this.Y3(l);else if(3!==m)if(4===m)this.a4(l);else throw Error("invalid loader style");h.ep();this.Wd=requestAnimationFrame(()=>this.sN())}}}Y3(h){h?this.Ue.RL(1,0,0):this.Ue.RL(.6,.6,.6);this.Ue.Bs(Math.round(100*this.$l)+
"%");h=this.Uc/2;const l=this.Cc/2;g.bT(h-150,l-100,h+150,l+100);this.Za.ag(this.Ue.nf());this.Za.xp(g,this.Ue.se)}ox(h,l,m){const p=this.Za;p.QL();h?p.He(1,0,0,1):p.He(.118,.565,1,1);h=this.Uc/2;const r=this.Cc/2,u=l/2;n.Eg(h-u,r-4+m,Math.floor(l*this.$l),8);p.Rect(n);n.Eg(h-u,r-4+m,l,8);n.offset(-.5,-.5);n.DA(.5,.5);p.He(0,0,0,1);p.UK(n);n.DA(1,1);p.He(1,1,1,1);p.UK(n)}Z3(h){var l=this.g.Aq;if(l)if(l=l.nf()){var m=l.pa(),p=l.ma(),r=this.Uc/2,u=this.Cc/2,q=m/2;p/=2;g.bT(r-q,u-p,r+q,u+p);this.Za.ag(l);
this.Za.jd(g);this.ox(h,m,p+16)}else this.ox(h,120,0);else this.ox(h,120,0)}a4(h){const l=this.Za,m=this.We.hv,p=this.We.lv,r=this.We.rv,u=Date.now();0===this.mH&&(this.fu=u);const q=this.g.tp()||this.g.d$&&!this.g.dZ(),v=q?0:200,w=q?0:3E3;let y=1;"fade-in"===this.vi?y=Math.min((u-this.fu)/300,1):"fade-out"===this.vi&&(y=Math.max(1-(u-this.lH)/300,0));l.QL();l.He(.231*y,.251*y,.271*y,y);n.set(0,0,this.Uc,this.Cc);l.Rect(n);const A=Math.ceil(this.Uc),G=Math.ceil(this.Cc);let z;256<this.Cc?(l.He(.302*
y,.334*y,.365*y,y),z=Math.max(.005*G,2),n.Eg(0,.8*G-z/2,A,z),l.Rect(n),h?l.He(y,0,0,y):l.He(.161*y,.953*y,.816*y,y),h=A*this.$l,n.Eg(.5*A-h/2,.8*G-z/2,h,z),l.Rect(n),l.He(y,y,y,y),l.dj(),p&&(h=1.5*f.ja(.22*G,105,.6*A),z=h/8,n.Eg(.5*A-h/2,.2*G-z/2,h,z),l.ag(p),l.Rect(n)),m&&(z=h=Math.min(.395*G,.95*A),n.Eg(.5*A-h/2,.485*G-z/2,h,z),l.ag(m),l.Rect(n)),r&&(h=1.5*f.ja(.22*G,105,.6*A),z=h/8,n.Eg(.5*A-h/2,.868*G-z/2,h,z),l.ag(r),l.Rect(n))):(l.He(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),n.Eg(0,.85*G-
z/2,A,z),l.Rect(n),h?l.He(y,0,0,y):l.He(.161*y,.953*y,.816*y,y),h=A*this.$l,n.Eg(.5*A-h/2,.85*G-z/2,h,z),l.Rect(n),l.He(y,y,y,y),l.dj(),m&&(z=h=.55*G,n.Eg(.5*A-h/2,.45*G-z/2,h,z),l.ag(m),l.Rect(n)));this.mH++;"fade-in"===this.vi&&300<=u-this.fu&&2<=this.mH&&(this.vi="wait",this.FR=u);"wait"===this.vi&&u-this.FR>=w&&1<=this.$l&&(this.vi="fade-out",this.lH=u);("fade-out"===this.vi&&u-this.lH>=300+v||q&&1<=this.$l&&500>u-this.fu)&&this.kH()}}}
{"use strict";const f=self.B,a=self.Nf,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;f.IL=class extends f.Z{constructor(c){c=Object.assign({},b,c);super();this.ju=c.messagePort;this.t9=c.baseUrl;this.Sd=!!c.isInWorker;e=c.ife;this.gi=c.exportType;this.EQ=!!c.isiOSCordova;this.d$=!!c.isFBInstantAvailable;this.y$=c.opusWasmScriptUrl;this.fR=c.opusWasmBinaryUrl;this.Rd=this.z9=this.mb=!("preview"!==this.gi||!c.isDebug);this.iF=0;
this.Sx=[];this.l9=[];this.VG=this.mR=this.Lz="";this.ug=this.vg=0;this.Ol=self.devicePixelRatio;this.zq=this.ye=this.Kf=this.Ez=this.Dz=0;this.JH=!1;this.sj=!0;this.IH=this.kA=!1;this.Aq=null;this.Tc=f.j(f.YT,this,c);this.Va=f.j(f.AZ,this);this.na=f.j(f.nW,this);this.Eo=f.j(f.y_,this);this.Xn=f.j(f.zU,this);this.yb=f.j(f.L1,this);this.vH=f.j(f.P1,this);this.Ac=[];this.LG=new Map;this.MG=new Map;this.RP=0;this.n9=[];this.EE=[];this.ut=[];this.Ul=[];this.Ty=new Map;this.Ly=!1;this.mu=this.NG=0;this.oo=
new Map;this.po=new Set;this.Uy=new Set;this.Cz=[];this.GQ=[];this.K=null;this.Wk=!1;this.Hy="vsync";this.cq="standard";this.md="trilinear";this.uo=!1;this.IG=!0;this.gG=this.iR=!1;this.Rl=null;this.N$={MS:g=>{this.Qk=this.Wd=-1;this.sf(g)},Bba:g=>{this.Qk=-1;this.sf(g,!1,"skip-render")},lba:()=>{this.Wd=-1;this.zn()}};this.Qk=this.Wd=-1;this.wy=this.zj=0;this.kQ=this.bz=this.My=!1;this.dG=!0;this.Oq=0;this.D$=()=>Math.random();this.zt=this.kq=this.qz=this.bA=0;this.Hd=1;this.aR=30;this.CF=f.j(f.yC);
this.DF=f.j(f.yC);this.LH=f.j(f.yC);this.Gy=-1;this.xz=this.Gk=this.Fy=this.io=0;this.Yg=!1;this.eu=this.ru="";this.yq=null;this.yo="";this.cH=this.UG=null;this.Kb=f.j(f.Event.dc);this.mF=new Map;this.SG=new Map;this.u$=0;this.CQ=!1;this.KH=[];this.eo={pretick:f.j(f.Event,"pretick",!1),tick:f.j(f.Event,"tick",!1),tick2:f.j(f.Event,"tick2",!1),instancedestroy:f.j(f.Event,"instancedestroy",!1),beforelayoutchange:f.j(f.Event,"beforelayoutchange",!1),layoutchange:f.j(f.Event,"layoutchange",!1)};this.eo.instancedestroy.instance=
null;this.Id=f.j(f.Event.dc);this.TR=null;this.Kl=f.j(f.wn,f.vv.oD);this.Vn=f.j(f.wn,f.vv.oD);this.Wn=f.j(f.wn,f.vv.oD);this.Zt=f.j(f.wZ,this,c.jobScheduler);c.canvas&&(this.K=f.j(f.kB,this));this.ju.onmessage=g=>this._OnMessageFromDOM(g.data);this.vh("runtime","visibilitychange",g=>this.F6(g));this.vh("runtime","opus-decode",g=>this.h9(g.arrayBuffer));this.vh("runtime","get-remote-preview-status-info",()=>this.P4());this.vh("runtime","js-invoke-function",g=>this.yx(g));this.vh("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Kb.addEventListener("window-blur",g=>this.G6(g));this.Kb.addEventListener("window-focus",()=>this.H6());this.yb.NT();this.ji=null;this.Y9=new WeakMap;this.dF={keyboard:null,KS:null,iT:null}}static Ja(c){return f.j(f.IL,c)}m(){f.C(this.Ac);this.LG.clear();this.MG.clear();this.Va.m();this.Va=null;this.na.m();this.na=null;this.Eo.m();this.Eo=null;this.Tc.m();this.Tc=null;this.Xn.m();this.Xn=null;this.yb.m();this.yb=null;this.vH.m();this.vH=null;this.K&&(this.K.m(),this.K=
null);this.Kb.m();this.Kb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.sO(c);else if("result"===g)this.y6(c);else throw Error(`unknown message '${g}'`);}sO(c){if(this.CQ){var g=c.component,n=c.handler,h=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(m&&(c=new f.Event(n),c.data=h,this.Kb.raa(c)),l)){c=new f.Event(n,!0);for(const [r,u]of Object.entries(h))c[r]=u;this.Gg(c)}if(c=this.mF.get(g))if(c=
c.get(n)){m=null;try{m=c(h)}catch(r){console.error(`Exception in '${g}' handler '${n}':`,r);null!==p&&this.Ax(p,!1,""+r);return}null!==p&&(m&&m.then?m.then(r=>this.Ax(p,!0,r)).catch(r=>{console.error(`Rejection from '${g}' handler '${n}':`,r);this.Ax(p,!1,""+r)}):this.Ax(p,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${n}' for component '${g}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.KH.push(c)}Ax(c,g,n){this.ju.postMessage({type:"result",
responseId:c,isOk:g,result:n})}y6(c){const g=c.responseId,n=c.isOk;c=c.result;const h=this.SG.get(g);n?h.resolve(c):h.reject(c);this.SG.delete(g)}vh(c,g,n){let h=this.mF.get(c);h||(h=new Map,this.mF.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,n)}xl(c,g,n){this.ju.postMessage({type:"event",component:c,handler:g,data:n,responseId:null})}un(c,g,n){const h=this.u$++,l=new Promise((m,p)=>{this.SG.set(h,{resolve:m,reject:p})});this.ju.postMessage({type:"event",
component:c,handler:g,data:n,responseId:h});return l}D_(){if(!this.mb)throw Error("not in debug mode");this.xl("runtime","post-to-debugger",{type:"reload"})}async kn(c){this.mb?await a.kn(this):self.Nf&&self.Nf.Qda(this);var [g]=await Promise.all([this.Tc.JJ("data.json"),this.Y5(),this.Zt.kn()]);this.B5(g);await this.m5(c);this.tp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.jn()?(g=this.jn(),console.info(`[C3 runtime] Hosted in ${this.Sd?"worker":
"DOM"}, rendering with WebGL ${g.Kc} [${g.Mu}] (${g.fZ()?"desynchronized":"standard"} compositing)`)):this.Yr()&&console.info(`[C3 runtime] Hosted in ${this.Sd?"worker":"DOM"}, rendering with experimental WebGPU`);this.bb().IF&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.CQ=!0;for(const n of this.KH)this.sO(n);f.C(this.KH);this.K&&this.K.E1();for(const n of c.runOnStartupFunctions)this.Sx.push(this.v7(n));
await Promise.all([this.Tc.JM(),...this.Sx]);f.C(this.Sx);if(this.Tc.HF)this.K&&this.K.cC();else return this.K&&await this.K.iW(),await this.Kb.eI(new f.Event("beforeruntimestart")),await this.Ds(),this.ju.postMessage({type:"runtime-ready"}),this}async v7(c){try{await c(this.ji)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}B5(c){c=c.project;this.Lz=c[0];this.mR=c[16];this.VG=c[31];const g=c[39]||"loading-logo.png";this.uo=!!c[9];this.vg=this.Kf=c[10];this.ug=this.ye=
c[11];this.Dz=this.vg/2;this.Ez=this.ug/2;this.cq=c[36];this.Hy=c[37];"low-latency"===this.cq&&this.YY()&&77>=f.yc.eB&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.cq="standard");this.Wk=!!c[40];this.md=c[14];this.kA=c[15];this.IH=c[17];this.JH=!!c[18];this.zq=c[19];this.mu=c[21];this.iR=c[22];const n=this.Tc;n.U7(c[7]);n.j8(c[32]);n.o8(c[28]);
n.A8(c[29]);if(0===this.zq){let u="";this.tp()?n.UD(g)&&(u=n.eK(g)):u=n.lQ+g;u&&(this.Aq=n.AC({url:u}))}this.K&&(this.K.XL(f.kB.AN(c[12])),this.K.YL(c[23]?"high":"low"),this.K.eD(0!==c[24]),this.K.k8(c[34]),this.K.z8(c[41]),this.K.B8(c[13]),this.K.D8(c[30]),this.K.e8(c[26]));this.Eo.QU();this.Cz=self.cJ();for(var h of c[2])this.Eo.OU(h);this.Cz=self.cJ();this.I5();for(var l of c[3])h=f.CC.Ja(this,this.Ac.length,l),this.Ac.push(h),this.LG.set(h.wa().toLowerCase(),h),this.MG.set(h.cb,h);for(const u of c[4])this.Ac[u[0]].E5(u);
for(var m of c[27])l=m.map(u=>this.Ac[u]),this.n9.push(f.j(f.DU,this,l));for(const u of this.Ac)u.i6();for(const u of c[5])this.Va.Ja(u);(m=c[1])&&(m=this.Va.hp(m))&&this.Va.K0(m);for(var p of c[33])this.yb.Ja(p);for(var r of c[35])this.vH.Ja(r);this.j5();for(const u of c[6])this.na.Ja(u);this.na.Gb();this.f5();f.C(this.Cz);this.gd();p="any";r=c[20];1===r?p="portrait":2===r&&(p="landscape");this.xl("runtime","set-target-orientation",{targetOrientation:p});if(c=c[42])this.Rl=new self.mca(this,c),this.Hy=
"unlimited-frame",this.K.XL("off"),this.Ol=1,self.devicePixelRatio=1,this.xl("runtime","set-exporting-to-video",{message:this.Rl.wda(0)})}pl(){return null!==this.Rl}OW(){return this.Rl.yda()}e5(){return this.Rl.kn({width:this.K.kg,height:this.K.jg})}j4(){return this.Rl.Rba(this.K.$h,this.Vj())}k4(){this.Rl.ep()}JT(c){this.Sx.push(c)}J4(){return this.RP++}r2(c){this.EE.push(c)}async m5(c){this.K&&(await this.K.Fg(c),this.K.DY(this.zq))}async Y5(){if(!this.Tc.ZY()){var c=null;try{c=this.EQ&&this.Tc.St?
await this.Tc.rJ(this.fR):await this.Tc.Ar(this.fR)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.GT(c):this.FT();await this.HT([this.y$])}}async h9(c){return await this.YA("OpusDecode",{arrayBuffer:c},[c])}async Ds(){this.My=!0;this.bA=Date.now();if(this.JH){for(var c of this.Ac);this.Tc.JM().then(()=>{this.sj=!1;this.vO()})}else this.sj=!1;this.Tc.Q0();this.mb&&a.gha(e);for(const g of this.Va.Xh)g.X2();this.pl()&&await this.e5();
c=this.Va.VW();await c.XD(null,this.bb());await c.fP(!0);this.io=performance.now();this.JH||this.vO();(await this.un("runtime","before-start-ticking")).isSuspended&&!this.pl()?this.Oq++:this.sf()}vO(){this.ib(f.M.Rb.ua.k_,null,null);this.xl("runtime","register-sw")}Ig(c){c=Math.floor(c);const g=this.Cz;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}I5(){for(const c of self.hU){const g=f.first(Object.keys(c));this.GQ.push(g)}}Ch(c){c=Math.floor(c);const g=this.GQ;if(0>c||c>=
g.length)throw Error("invalid prop reference");return g[c]}BB(){return this.t9}ca(){return this.na}Pc(){return this.na.Pc()}Ce(){return this.na.Ce()}Eb(){return this.na.Eb()}ff(){return this.na.ff()}eZ(){return 0===this.Ce().uk}Vv(){return this.na.Vv()}Ur(){return this.Eo.Ur()}De(c){c=Math.floor(c);if(0>c||c>=this.Ac.length)throw new RangeError("invalid index");return this.Ac[c]}gw(c){return this.LG.get(c.toLowerCase())||null}hw(c){return this.MG.get(c)||null}*T$(){for(const c of this.Ac)c.$a||(yield*c.AS())}dc(){return this.Kb}Gg(c){c.cf=
this.ji;const g=this.mb&&!this.na.es();g&&a.qD();this.Id.dispatchEvent(c);g&&a.$A()}Tm(c){c.cf=this.ji;return this.Id.eI(c)}Z0(c,g){if(this.vg!==c||this.ug!==g)this.vg=c,this.ug=g,c=this.Va,c.Cn(),c.Bn()}Cs(c,g){if(this.Kf!==c||this.ye!==g)this.Kf=c,this.ye=g,c=this.Va,c.Cn(),c.Bn()}a8(c){this.pl()||(this.Ol=c)}Rj(){return this.Ol}Mi(){return this.K?this.K.Mi():this.Kf}Li(){return this.K?this.K.Li():this.ye}jp(){return this.K?this.K.jp():1}Ki(){return this.K?this.K.Ki():1}Kr(){return this.K?this.K.Kr():
1}Jr(){return this.K?this.K.Jr():1}DB(){return this.K?this.K.DB():0}EB(){return this.K?this.K.EB():0}bw(){return this.K?this.K.bw():"off"}Dr(c){return this.K?this.K.Dr(c):null}xn(c){this.K&&this.K.xn(c)}dw(){return this.K?this.K.dw():NaN}sC(){return"nearest"!==this.md}R_(){this.Aq&&(this.Aq.m(),this.Aq=null)}Ib(){return this.Va.Ib()}AC(c){return this.Tc.AC(c)}uJ(c,g,n,h,l){return this.yh(c,g,!1,n,h,!1,l,void 0,l)}yh(c,g,n,h,l,m,p,r,u){var q=null;let v=null;c instanceof f.CC?(v=c,v.$a&&(q=v.fo,v=q[Math.floor(this.yp()*
q.length)]),q=v.gq):(q=c,v=this.De(q[1]));c=v.ub().rg;if(this.sj&&c&&!v.h$)return null;const w=g;c||(g=null);var y=n&&!m&&q&&!this.oo.has(q[2])?q[2]:this.mu++;const A=q?q[0]:null,G=f.j(f.Instance,{cf:this,xI:v,HS:g,sT:A,zS:q?q[3]:null,uid:y});this.oo.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Qh(h),y.Rh(l)),v.RO());g&&(u||g.eg(G,!0),1===g.Se&&1===g.Te||v.nE(!0),g.Pb().ZK(v));this.NG++;let z=!0;r&&(r=r.G(),r.Qb()&&v.Qb()&&v.lg===r.lg&&(z=!1));if(v.Qb()&&!n&&!m&&
z){for(var F of v.lg.Mk)F!==v&&(r=this.yh(F,w,!1,y?y.Aa():h,y?y.Ba():l,!0,!1,void 0,u),G.Lp(r));for(var I of G.nd){I.Lp(G);for(const J of G.nd)I!==J&&I.Lp(J)}}c&&!n&&p&&this.ED(G,A,y,g,h,l,u);if(v.Qb()&&!n&&!m&&p)for(const J of G.nd)if(n=J.A())F=J.ub(),I=J.G().gq[0],F.rg?this.ED(J,I,n,g,n.Aa(),n.Ba(),u):this.ED(J,I,n,g,void 0,void 0,u);!m&&p&&("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.rw(),h=h-y.Aa()+g.Aa(),l=l-y.Ba()+g.Ba(),g.Cl(h,l));v.Ws();l=q?f.aI(q[5]):null;q=q?q[4].map(J=>
f.aI(J)):null;c&&A&&A[13]&&G.n8();G.lx(l,q);this.Ul.push(G);this.Ly=!0;this.mb&&a.Rda(G);return G}ED(c,g,n,h,l,m,p){var r=n.CX(),u=n.jK();c.A().hD(r);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof m&&(m=g[1]);r=new Set;n=g[0];g=g[1];for(const A of u){var q=A[1],v=A[2];u=A[3];var w=!!A[4];const G=A[5];v=this.Va.PB(A[0]).$(q).bX(v);q=this.De(v[1]);var y=c.ZX(q);const z=r.has(q);y&&!z&&w?(w=c.pK(q),y=l+v[0][0]-n,v=m+v[0][1]-g,w.A().Cl(y,v),w.A().hD(G),c.gl(w,{rr:!!(u>>0&1),tr:!!(u>>1&1),
Wo:!!(u>>2&1),Vo:!!(u>>3&1),qr:!!(u>>4&1),Wu:!!(u>>5&1),ur:!!(u>>6&1)}),r.add(q)):(q=this.yh(v,h,!1,l+v[0][0]-n,m+v[0][1]-g,!1,!0,c,p),q.A().hD(G),c.gl(q,{rr:!!(u>>0&1),tr:!!(u>>1&1),Wo:!!(u>>2&1),Vo:!!(u>>3&1),qr:!!(u>>4&1),Wu:!!(u>>5&1),ur:!!(u>>6&1)}))}}}Sm(c){if(!this.po.has(c)){var g=c.G(),n=this.Ty.get(g);if(n){if(n.has(c))return;n.add(c)}else n=new Set,n.add(c),this.Ty.set(g,n);this.mb&&a.Sda(c);c.aE();this.Ly=!0;if(c.Qb())for(const h of c.nd)this.Sm(h);for(const h of c.children())h.Zv()&&
this.Sm(h);this.Va.KK()||this.Yg||(g=this.ca(),g.ef(!0),c.Q8(),g.ef(!1));c.q4(this.Va.KK())}}gd(){this.Ly&&(this.s4(),this.t4(),this.Ly=!1,this.Y())}s4(){for(const c of this.Ul){const g=c.G();g.eg(c);for(const n of g.Ug)n.eg(c),n.Ws()}f.C(this.Ul)}t4(){this.Kb.Cp(!0);for(const [c,g]of this.Ty.entries())this.u4(c,g),g.clear();this.Ty.clear();this.Kb.Cp(!1)}u4(c,g){for(const h of g){var n=this.eo.instancedestroy;n.instance=h;this.Kb.dispatchEvent(n);this.oo.delete(h.Jc);if(n=h.A())n.DO(),n.EO(),n.aE();
this.po.add(h);this.NG--}f.Lf(c.fa(),g);c.Ws();this.Uy.add(c);0===c.fa().length&&c.nE(!1);for(const h of c.Ug)f.Lf(h.fa(),g),h.Ws(),this.Uy.add(h);if(c.ub().rg){c=new Set([...g].map(h=>h.A().$()));for(const h of c)h.a7(g)}}*lI(c){for(const g of this.Ul)c.$a?g.G().dB(c)&&(yield g):g.G()===c&&(yield g)}I4(){return this.mu++}V5(c,g){this.oo.set(c,g)}Us(){this.Kb.dispatchEvent(f.j(f.Event,"webglcontextlost"));this.As(!0);for(var c of this.Ac)!c.$a&&c.XX()&&c.zp();(c=this.Ib())&&c.Us();f.gC.Jw();f.BK.Jw()}async fE(){await this.Ib().XD(null,
this.jn());this.Kb.dispatchEvent(f.j(f.Event,"webglcontextrestored"));this.As(!1);this.Y()}F6(c){this.As(c.hidden)}G6(c){this.tp()&&this.iR&&!f.yc.uC&&!c.data.parentHasFocus&&(this.As(!0),this.gG=!0)}H6(){this.gG&&(this.As(!1),this.gG=!1)}FO(){const c=this.N$;"vsync"===this.Hy?-1===this.Wd&&(this.Wd=self.requestAnimationFrame(c.MS)):"unlimited-tick"===this.Hy?(-1===this.Qk&&(this.Qk=f.PC(c.Bba)),-1===this.Wd&&(this.Wd=self.requestAnimationFrame(c.lba))):-1===this.Qk&&(this.Qk=f.PC(c.MS))}L2(){-1!==
this.Wd&&(self.cancelAnimationFrame(this.Wd),this.Wd=-1);-1!==this.Qk&&(f.pU(this.Qk),this.Qk=-1)}ul(){return 0<this.Oq}As(c){if(!this.pl()){var g=this.ul();this.Oq+=c?1:-1;0>this.Oq&&(this.Oq=0);c=this.ul();!g&&c?(console.log("[Construct 3] Suspending"),this.L2(),this.Kb.dispatchEvent(f.j(f.Event,"suspend")),this.ib(f.M.Rb.ua.u_,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.io=this.qz=g=performance.now(),this.Gk=this.xz=this.Fy=this.Gy=0,this.Kb.dispatchEvent(f.j(f.Event,"resume")),
this.ib(f.M.Rb.ua.r_,null,null),this.$r()||this.sf(g))}}o2(c){this.Kl.Nc(c)}c7(c){this.Kl.Lg(c)}b7(c){this.Vn.Lg(c)}d7(c){this.Wn.Lg(c)}C2(){this.Kl.Mg(!0);for(const c of this.Kl)c.sf();this.Kl.Mg(!1)}B2(){this.Vn.Mg(!0);for(const c of this.Vn);this.Vn.Mg(!1)}D2(){this.Wn.Mg(!0);for(const c of this.Wn);this.Wn.Mg(!1)}*i3(){this.Kl.Mg(!0);for(const c of this.Kl){const g=c.sf();f.sl(g)&&(yield*g)}this.Kl.Mg(!1)}*h3(){this.Vn.Mg(!0);for(const c of this.Vn)f.sl(void 0)&&(yield*void 0);this.Vn.Mg(!1)}*j3(){this.Wn.Mg(!0);
for(const c of this.Wn)f.sl(void 0)&&(yield*void 0);this.Wn.Mg(!1)}async sf(c,g,n){this.kQ=!0;const h="background-wake"===n;n="background-wake"!==n&&"skip-render"!==n;if(this.My&&(!this.ul()||g||h)){g=performance.now();this.bz=!0;this.b6(c||0);c=this.G1();this.Rd&&await c;c=this.Kb.saa(this.eo.pretick);c instanceof Promise&&await c;c=this.F1();this.Rd&&await c;this.g6()&&await this.X4();this.Va.sp()&&await this.X5();c=this.H1();this.Rd&&await c;n&&this.zn();if(this.pl()&&(await this.j4(),this.Vj()>=
this.Rl.LP)){this.k4();return}this.ul()||h||this.FO();this.zj++;this.wy++;this.bz=!1;this.Gk+=performance.now()-g}}async G1(){const c=this.na,g=this.mb;this.gd();c.ef(!0);this.ns(this.Ib());g&&a.Kp();this.Rd?await c.WU():c.p0();g&&a.ET();this.ms();c.ef(!1);this.gd();c.ef(!0)}async F1(){const c=this.mb,g=this.Rd,n=this.Kb,h=this.eo,l=this.TR;c&&a.Kp();g?await this.Jv(this.i3()):this.C2();g?await this.Jv(this.h3()):this.B2();c&&a.zT();c&&a.Kp();g?await this.yJ(h.tick):n.dispatchEvent(h.tick);c&&a.KT();
this.na.ef(!1);this.Gg(l.tick)}async H1(){const c=this.na,g=this.Kb,n=this.eo,h=this.mb,l=this.Rd;h&&a.Kp();l?await c.UU(this.Va):c.n0(this.Va);h&&a.ET();this.Xn.hJ();this.BO();this.dG=!1;c.ef(!0);h&&a.Kp();l?await this.Jv(this.j3()):this.D2();h&&a.zT();h&&a.Kp();l?await this.yJ(n.tick2):g.dispatchEvent(n.tick2);h&&a.KT();c.ef(!1);l&&await c.HL()}BO(){if(0!==this.po.size){var c=this.Kb;c.Cp(!0);for(const g of this.Uy)g.jm.yn(this.po);this.Uy.clear();this.na.V_(this.po);for(const g of this.po)g.m();
this.po.clear();c.Cp(!1)}}async X5(){const c=this.Va;let g=0;for(;c.sp()&&10>g++;)await this.mN(c.nu)}b6(c){let g=0;this.pl()?this.kq=g=1/this.OW():0!==this.qz&&(g=Math.max(c-this.qz,0)/1E3,.5<g&&(g=0),this.kq=Math.min(g,1/this.aR));this.qz=c;this.zt=this.kq*this.Hd;this.CF.Nc(this.zt);this.DF.Nc(g*this.Hd);this.LH.Nc(this.kq);this.K&&this.K.c9();1E3<=c-this.io&&(this.io+=1E3,1E3<=c-this.io&&(this.io=c),this.Fy=this.Gy,this.Gy=0,this.xz=Math.min(this.Gk/1E3,1),this.Gk=0,this.K&&this.K.V8(),this.mb&&
a.bja());this.Gy++}async mN(c){const g=this.Kb,n=this.Va.Ib();await n.L8();n.U8(c,this.bb());n===c&&this.na.Bv();this.Xn.hJ();this.BO();g.dispatchEvent(this.eo.beforelayoutchange);f.Km.ZL(!0);await c.XD(n,this.bb());f.Km.ZL(!1);await c.fP(!1);g.dispatchEvent(this.eo.layoutchange);this.Y();this.dG=!0;this.gd()}Y(){this.IG=!0}jn(){return this.K?this.K.jn():null}Yr(){return this.K?this.K.Yr():null}bb(){return this.K?this.K.bb():null}zn(){const c=this.K;if(c&&!c.nZ()){var g=this.bb(),n=g.fj(),h=n&&g.Ih();
n=n&&!1;h&&g.rU();if(this.IG||this.pl()){var l=this.Va.Ib();g.Ds();var m=this.mb;m&&a.Kp();this.IG=!1;var p=null;h&&(p=c.Jy.aB(),g.rD(p));h=null;n&&(h=g.xia(2*(1+l.Mb.length)),g.j2(0));this.Wk&&"low"===c.Wg?g.L0(c.Mi(),c.Li()):g.x0();this.j7(this.bb(),l);p&&g.uB(p);n&&(g.j2(1),this.K.A2(h));g.ep();m&&(a.Qba(),a.cja());c&&c.Z5()}else g.rY()}}j7(c,g){c.dj();c.OL();c.He(1,1,1,1);c.$f(null);c.ag(null);c.Zf(this.Wk);g.Hi(c)}ib(c,g,n){if(!this.My)return!1;var h=!this.bz&&!this.na.rC();let l=0;h&&(l=performance.now());
const m=this.mb;m&&this.Vw(!1);c=this.na.$s(this.Va,c,g,n);h&&(h=performance.now()-l,this.Gk+=h,m&&a.Uba(h));m&&this.Vw(!0);return c}async Od(c,g,n){if(!this.Rd)return this.ib(c,g,n);if(!this.My)return!1;if(this.$r())return this.na.N_(c,g,n);if(!this.Ib())return this.na.LC(c,g,n);const h=performance.now();c=this.na.Is(this.Va,c,g,n);for(g=c.next();!g.done;)await this.bp(g.value),g=c.next();this.ul()||this.na.rC()||(await this.na.HL(),this.kQ&&!this.bz&&this.FO());this.Gk+=performance.now()-h;return g.value}ns(c){this.ut.push(c)}ms(){if(!this.ut.length)throw Error("layout stack empty");
this.ut.pop()}Pa(){return this.ut.length?this.ut.Jd(-1):this.Ib()}SJ(c){return c&&-1!==c.Hd?this.kq*c.Hd:this.zt}jD(c){if(isNaN(c)||0>c)c=0;this.Hd=c}hM(c){this.aR=f.ja(c,1,120)}Vj(){return this.CF.V()}$W(){return this.DF.V()}YB(){return this.LH.V()}Zj(){++this.wy}Ni(c){if(this.Yg)throw Error("cannot call while loading state - wait until afterload event");return this.oo.get(c)||null}zO(){this.oo.clear();for(const c of this.Ac)if(!c.$a)for(const g of c.fa())this.oo.set(g.Jc,g)}tp(){return"preview"===
this.gi}dZ(){return"cordova"===this.gi}YY(){return"Android"===f.yc.vp&&("cordova"===this.gi||"playable-ad"===this.gi||"instant-games"===this.gi)}hf(){return this.bb().hf(this.ye)}b1(c){c=!!c;this.uo!==c&&(this.uo=c,this.Va.Bn(),this.Y())}r0(c){this.ru=c}EZ(c){this.eu=c}zC(c){this.yq=c}g6(){return!(!this.ru&&!this.eu&&null===this.yq)}async X4(){this.ru&&(this.gd(),await this.L3(this.ru),this.CD());this.eu&&(await this.K3(this.eu),this.CD(),this.mb&&a.zia());if(null!==this.yq){this.gd();try{await this.nN(this.yq),
this.yo=this.yq,await this.Od(f.M.Rb.ua.gL,null),this.yo=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Od(f.M.Rb.ua.hL,null)}this.CD()}}CD(){this.eu=this.ru="";this.yq=null}O4(){this.UG||(this.UG=localforage.bI({name:"c3-localstorage-"+this.VG,description:this.Lz}));return this.UG}NN(){this.cH||(this.cH=localforage.bI({name:"c3-savegames-"+this.VG,description:this.Lz}));return this.cH}async L3(c){const g=await this.P7();try{await this.NN().setItem(c,
g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.yo=g,await this.Od(f.M.Rb.ua.s_,null),this.yo=""}catch(n){console.error("[Construct 3] Failed to save state to storage: ",n),await this.Od(f.M.Rb.ua.t_,null)}}async K3(c){try{const g=await this.NN().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.nN(g);this.yo=g;await this.Od(f.M.Rb.ua.gL,null);this.yo=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",
g),await this.Od(f.M.Rb.ua.hL,null)}}async P7(){const c={c3save:!0,version:1,rt:{time:this.Vj(),timeRaw:this.$W(),walltime:this.YB(),timescale:this.Hd,tickcount:this.zj,execcount:this.wy,next_uid:this.mu,running_layout:this.Ib().cb,start_time_offset:Date.now()-this.bA},types:{},layouts:{},events:this.na.aa(),timelines:this.yb.aa(),user_script_data:null};for(var g of this.Ac)g.$a||g.xK()||(c.types[g.cb.toString()]=g.aa());for(const n of this.Va.Xh)c.layouts[n.cb.toString()]=n.aa();g=this.HD("save");
g.saveData=null;await this.Tm(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async nN(c){var g=this.Va;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Kb.dispatchEvent(f.j(f.Event,"beforeload"));for(var n of this.T$())n.zx();this.Yg=!0;n=c.rt;this.CF.Set(n.time);n.hasOwnProperty("timeRaw")&&this.DF.Set(n.timeRaw);this.LH.Set(n.walltime);
this.Hd=n.timescale;this.zj=n.tickcount;this.wy=n.execcount;this.bA=Date.now()-n.start_time_offset;var h=n.running_layout;if(h!==this.Ib().cb)if(h=g.PB(h))await this.mN(h);else return;for(const [l,m]of Object.entries(c.types))h=this.hw(parseInt(l,10)),!h||h.$a||h.xK()||h.da(m);this.gd();this.zO();this.Yg=!1;this.mu=n.next_uid;for(const [l,m]of Object.entries(c.layouts))(n=g.PB(parseInt(l,10)))&&n.da(m);this.na.da(c.events);for(const l of this.Ac)if(!l.$a&&l.Qb())for(const m of l.fa()){n=m.Xm();for(const p of l.lg.Mk)if(p!==
l){h=p.fa();if(0>n||n>=h.length)throw Error("missing sibling instance");m.Lp(h[n])}}this.yb.da(c.timelines);g.Cn();g.Bn();this.Kb.dispatchEvent(f.j(f.Event,"afterload"));g=this.HD("load");g.saveData=c.user_script_data;await this.Tm(g);this.Y()}async HT(c){c=(await Promise.all(c.map(g=>this.Tc.Pj(g)))).map(g=>URL.createObjectURL(g));this.Zt.qY(c)}FT(){this.Zt.t0()}GT(c){this.Zt.u0(c)}YA(c,g,n){return this.Zt.YA(c,g,n)}kC(c,g){this.xl("runtime","invoke-download",{url:c,filename:g})}async O_(c){var g=
g||2048;var n=n||2048;return this.Sd?(await this.un("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:n,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,n)}yp(){return this.D$()}P4(){const c=this.jn();return{fps:this.Fy,cpu:this.xz,gpu:this.dw(),layout:this.Ib()?this.Ib().wa():"",renderer:c?c.Mu:"<unavailable>"}}$r(){return this.mb?a.$r():!1}bp(c){return this.Rd?a.bp(c):Promise.resolve()}cc(){return this.Rd?a.kca():
!1}Vw(c){c?this.iF--:this.iF++;this.X8()}X8(){this.Rd=this.mb&&this.z9&&0===this.iF}lC(){return this.mb&&a.lC()}pC(){return this.mb&&this.bb().fj()&&a.pC()}async Jv(c){if(c)for(const g of c)await this.bp(g)}yJ(c){return this.Jv(this.Kb.taa(c))}yx(c){return this.na.yx(c.name,c.params)}HD(c){c=f.j(f.Event,c,!1);c.cf=this.ji;return c}j5(){var c={};for(const g of this.Ac)c[g.Ch()]={value:g.Kt,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.ji=new self.kY(this,c);this.TR={tick:this.HD("tick")}}f5(){const c=
{};for(const g of this.ca().FE)c[g.Ch()]=g.ON();this.ji.g5(c)}hO(c,g){this.Y9.set(c,g)}};self.C3_CreateRuntime=f.IL.Ja;self.C3_InitRuntime=(c,g)=>c.kn(g)}
{"use strict";const f=self.B;f.wZ=class extends f.Z{constructor(a,b){super();this.g=a;this.vo=new Map;this.w$=0;this.Nt=b.inputPort;b.outputPort.onmessage=e=>this.uO(e);this.UQ=b.maxNumWorkers;this.$t=1;this.dQ=this.Rt=!1}async kn(){}qY(a){this.Nt.postMessage({type:"_import_scripts",scripts:a})}t0(){this.Nt.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}u0(a){this.Nt.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}YA(a,b,e){e||(e=[]);const c=this.w$++;a={type:a,
isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((g,n)=>{this.vo.set(c,{resolve:g,progress:void 0,reject:n,$H:!1})});this.Nt.postMessage(a,e);this.iO();return b}uO(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.v6(e,a.result);break;case "progress":this.u6(e,a.progress);break;case "error":this.t6(e,a.error);break;case "ready":this.w6();break;default:throw Error(`unknown message from worker '${b}'`);}}v6(a,b){const e=this.vo.get(a);if(!e)throw Error("invalid job ID");
e.$H||e.resolve(b);this.vo.delete(a)}u6(a,b){a=this.vo.get(a);if(!a)throw Error("invalid job ID");!a.$H&&a.progress&&a.progress(b)}t6(a,b){const e=this.vo.get(a);if(!e)throw Error("invalid job ID");e.$H||e.reject(b);this.vo.delete(a)}w6(){this.Rt&&(this.Rt=!1,this.$t++,this.$t<this.UQ?this.iO():this.Nt.postMessage({type:"_no_more_workers"}))}async iO(){if(!(this.$t>=this.UQ||this.Rt||this.dQ||this.vo.size<=this.$t))try{this.Rt=!0,(await this.g.un("runtime","create-job-worker")).outputPort.onmessage=
a=>this.uO(a)}catch(a){this.dQ=!0,this.Rt=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.$t} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const f=self.B;let a=null,b="",e="",c=[],g="",n="",h="";const l=f.j(f.VT);function m(p,r){p=p[1];r=r[1];if("number"===typeof p&&"number"===typeof r)return p-r;p=""+p;r=""+r;return p<r?-1:p>r?1:0}f.M.Rb=class extends f.Qw{constructor(p){super(p);this.Re=this.g.ca().Re;this.Ad=this.g.ca().Pc();this.Lt=this.mo=0;this.YP=new Map}m(){super.m()}Y(){this.g.Y()}ib(p){this.g.ib(p,null,null)}mw(p,r){a&&p===b&&r===e||(a=new RegExp(p,r),b=p,e=r);a.lastIndex=0;return a}iK(p,r,u){if(p===g&&r===n&&
u===h)return c;const q=this.mw(r,u);c=p.match(q);g=p;n=r;h=u;return c}async ZD(p,r){if(r.length){this.mo+=r.length;var u=[];for(const q of r)u.push(p.ZK(q));await f.I_(u,()=>{this.Lt++});this.Lt++;this.Lt===this.mo&&(this.g.ib(f.M.Rb.ua.i_,null,null),this.mo=this.Lt=0)}}iP(p,r){for(const u of r)0===u.D.length&&p.PZ(u)}GN(){return l}l7(p){var r=this.g.ca();const u=r.Pc(),q=u.gf(),v=q.Eb(),w=v.cd();var y=q.Wi();const A=u.Ka(v),G=r.Re,z=G.Ka();if(y)for(y=0;y<p&&!z.hc;++y)r.ie(w),z.rc(y),v.Wf(q,A),r.Fb(w);
else for(r=0;r<p&&!z.hc;++r)z.rc(r),v.Wf(q,A);u.Fa();G.Fa();return!1}*p3(p){var r=this.g.ca();const u=r.Pc(),q=u.gf(),v=q.Eb(),w=v.cd();var y=q.Wi();const A=u.Ka(v),G=r.Re,z=G.Ka();if(y)for(y=0;y<p&&!z.hc;++y)r.ie(w),z.rc(y),yield*v.Of(q,A),r.Fb(w);else for(r=0;r<p&&!z.hc;++r)z.rc(r),yield*v.Of(q,A);u.Fa();G.Fa();return!1}i9(){var p=this.g.ca();const r=p.Pc(),u=r.gf(),q=u.Eb(),v=q.cd();var w=u.Wi();const y=r.Ka(q),A=p.Re,G=A.Ka();if(w)for(w=0;!G.hc;++w)p.ie(v),G.rc(w),q.Wf(u,y)||G.Je(),p.Fb(v);else for(p=
0;!G.hc;++p)G.rc(p),q.Wf(u,y)||G.Je();r.Fa();A.Fa();return!1}*I3(){var p=this.g.ca();const r=p.Pc(),u=r.gf(),q=u.Eb(),v=q.cd();var w=u.Wi();const y=r.Ka(q),A=p.Re,G=A.Ka();if(w)for(w=0;!G.hc;++w)p.ie(v),G.rc(w),(yield*q.Of(u,y))||G.Je(),p.Fb(v);else for(p=0;!G.hc;++p)G.rc(p),(yield*q.Of(u,y))||G.Je();r.Fa();A.Fa();return!1}v4(p,r,u){var q=this.g.ca();const v=q.Pc(),w=v.gf(),y=w.Eb(),A=y.cd(),G=w.Wi(),z=v.Ka(y),F=q.Re,I=F.Ka();I.Zw(p);if(u<r)if(G)for(p=r;p>=u&&!I.hc;--p)q.ie(A),I.rc(p),y.Wf(w,z),q.Fb(A);
else for(q=r;q>=u&&!I.hc;--q)I.rc(q),y.Wf(w,z);else if(G)for(p=r;p<=u&&!I.hc;++p)q.ie(A),I.rc(p),y.Wf(w,z),q.Fb(A);else for(q=r;q<=u&&!I.hc;++q)I.rc(q),y.Wf(w,z);v.Fa();F.Fa();return!1}*m3(p,r,u){var q=this.g.ca();const v=q.Pc(),w=v.gf(),y=w.Eb(),A=y.cd(),G=w.Wi(),z=v.Ka(y),F=q.Re,I=F.Ka();I.Zw(p);if(u<r)if(G)for(p=r;p>=u&&!I.hc;--p)q.ie(A),I.rc(p),yield*y.Of(w,z),q.Fb(A);else for(q=r;q>=u&&!I.hc;--q)I.rc(q),yield*y.Of(w,z);else if(G)for(p=r;p<=u&&!I.hc;++p)q.ie(A),I.rc(p),yield*y.Of(w,z),q.Fb(A);
else for(q=r;q<=u&&!I.hc;++q)I.rc(q),yield*y.Of(w,z);v.Fa();F.Fa();return!1}w4(p){var r=this.g.ca();const u=r.Pc(),q=u.gf(),v=q.Eb(),w=v.cd();var y=q.Wi();const A=u.Ka(v),G=r.Re,z=G.Ka(),F=p.Qb(),I=p.T(),J=l.Ka();f.xc(J,I.fa());if(y)for(let M=0,Q=J.length;M<Q&&!z.hc;++M)r.ie(w),y=J[M],p.T().gk(y),F&&y.Ph(),z.rc(M),v.Wf(q,A),r.Fb(w);else{I.tf(!1);p=I.D;f.C(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.hc;++M)r=J[M],p[0]=r,F&&r.Ph(),z.rc(M),v.Wf(q,A)}u.Fa();G.Fa();f.C(J);l.Fa();return!1}*n3(p){var r=
this.g.ca();const u=r.Pc(),q=u.gf(),v=q.Eb(),w=v.cd();var y=q.Wi();const A=u.Ka(v),G=r.Re,z=G.Ka(),F=p.Qb(),I=p.T(),J=l.Ka();f.xc(J,I.fa());if(y)for(let M=0,Q=J.length;M<Q&&!z.hc;++M)r.ie(w),y=J[M],p.T().gk(y),F&&y.Ph(),z.rc(M),yield*v.Of(q,A),r.Fb(w);else{I.tf(!1);p=I.D;f.C(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.hc;++M)r=J[M],p[0]=r,F&&r.Ph(),z.rc(M),yield*v.Of(q,A)}u.Fa();G.Fa();f.C(J);l.Fa();return!1}x4(p,r){var u=this.g.ca();const q=u.Pc(),v=u.ff(),w=q.gf(),y=w.Eb(),A=y.cd(),G=w.Wi(),
z=q.Ka(y),F=u.Re,I=F.Ka(),J=p.Qb(),M=p.T(),Q=l.Ka();f.C(Q);const S=M.fa();for(let T=0,Z=S.length;T<Z;++T)Q.push([S[T],v.qs(1,T)]);Q.sort(m);1===r&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!I.hc;++T)u.ie(A),r=Q[T][0],p.T().gk(r),J&&r.Ph(),I.rc(T),y.Wf(w,z),u.Fb(A);else{M.tf(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!I.hc;++T)u=Q[T][0],p[0]=u,J&&u.Ph(),I.rc(T),y.Wf(w,z)}q.Fa();F.Fa();f.C(Q);l.Fa();return!1}*o3(p,r){var u=this.g.ca();const q=u.Pc(),v=u.ff(),w=q.gf(),y=w.Eb(),A=y.cd(),
G=w.Wi(),z=q.Ka(y),F=u.Re,I=F.Ka(),J=p.Qb(),M=p.T(),Q=l.Ka();f.C(Q);const S=M.fa();for(let T=0,Z=S.length;T<Z;++T)Q.push([S[T],v.qs(1,T)]);Q.sort(m);1===r&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!I.hc;++T)u.ie(A),r=Q[T][0],p.T().gk(r),J&&r.Ph(),I.rc(T),yield*y.Of(w,z),u.Fb(A);else{M.tf(!1);p=M.D;f.C(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!I.hc;++T)u=Q[T][0],p[0]=u,J&&u.Ph(),I.rc(T),yield*y.Of(w,z)}q.Fa();F.Fa();f.C(Q);l.Fa();return!1}tx(p,r){let u=this.YP.get(p);if(u)return u;if(!r)return null;
u={Cm:null,QA:new Map};this.YP.set(p,u);return u}J3(p,r,u,q,v){r.ee().m0(u);q&&p.Fb(v)}*k3(p,r,u,q,v){yield*r.ee().TU(u);q&&p.Fb(v)}}}{"use strict";const f=self.B;f.M.Rb.bx=class extends f.Z{constructor(a){super();this.J=a;this.g=a.F();this.eh=a.ub()}m(){this.eh=this.g=this.J=null}}}{"use strict";const f=self.B;f.M.Rb.Instance=class extends f.Z{constructor(a){super();this.ka=a;this.J=this.ka.G();this.ed=this.J.ed;this.g=this.ka.F()}m(){this.g=this.ed=this.J=this.ka=null}}}
{"use strict";const f=self.B,a=[];f.M.Rb.ua={cda(){return!0},fL(){return!0},j_(){return!0},u_(){return!0},r_(){return!0},ul(){return this.g.ul()},hW(){const b=this.g.Ce();return b.pF?!1:!b.wo},Uia(){const b=this.g.ff().Xj();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.zj;b.set("TriggerOnce_lastTick",c);return this.g.dG||e!==c-1},bda(b){const e=this.g.ff().Xj(),c=e.get("Every_lastTime")||0,g=this.g.Vj();e.has("Every_seconds")||e.set("Every_seconds",
b);const n=e.get("Every_seconds");if(g>=c+n)return e.set("Every_lastTime",c+n),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",b),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},ds(b){return(b=this.g.ca().UJ(b))&&b.ds()},tp(){return this.g.tp()},uC(){return f.yc.uC},k_(){return!0},d_(){return!0},Xca(){return!0},s_(){return!0},t_(){return!0},gL(){return!0},hL(){return!0},ifa(b){return!!this.g.Ni(b)},pea(b){switch(b){case 0:return"browser"===f.yc.mB;case 1:return"iOS"===
f.yc.vp;case 2:return"Android"===f.yc.vp;case 8:return"cordova"===f.yc.mB;case 9:return"scirra-arcade"===this.g.gi;case 10:return"nwjs"===f.yc.mB;case 13:return"windows-uwp"===this.g.gi;default:return!1}},hga(b,e,c){return this.mw(e,c).test(b)},vca(b,e,c){return f.compare(b,e,c)},wca(b,e,c){return b>=e&&b<=c},Eca(b,e,c){return f.compare(b.hd(),e,c)},xca(b){return!!b.hd()},Dca(b,e){const c=this.g.Vj();return 0===b?(b=this.g.ff().Xj(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):f.compare(c,b,e)},mea(b){return isNaN(b)},PT(b,e,c){return f.cr(f.tb(b),f.tb(c))<=f.tb(e)},bZ(b,e){return f.Ye(f.tb(b),f.tb(e))},aZ(b,e,c){b=f.tb(b);e=f.tb(e);c=f.tb(c);return f.Ye(c,e)?f.Ye(b,e)&&!f.Ye(b,c):!(!f.Ye(b,e)&&f.Ye(b,c))},zea(b,e){return"number"===typeof b?0===e:1===e},ada(b){return!!b},Gfa(b,e,c,g){if(!b)return!1;const n=this.GN(),h=n.Ka(),l=b.T();f.xc(h,l.fa());l.Ob&&f.C(l.nc);const m=this.g.ff();let p=0;for(let r=0,u=h.length;r<u;++r){const q=h[r];h[p]=q;e=m.qs(1,r);g=m.qs(3,
r);f.compare(e,c,g)?++p:l.On(q)}f.Ae(h,p);l.Tw(h);e=!!h.length;f.C(h);n.Fa();b.jc();return e},Hfa(b,e){if(!b)return!1;const c=this.GN(),g=c.Ka(),n=b.T();f.xc(g,n.fa());n.Ob&&f.C(n.nc);const h=this.g.ff();let l=0;for(let m=0,p=g.length;m<p;++m){const r=g[m];g[l]=r;(e=h.qs(1,m))?++l:n.On(r)}f.Ae(g,l);n.Tw(g);e=!!g.length;f.C(g);c.Fa();b.jc();return e},Nfa(b,e){if(!b)return!1;const c=b.T(),g=c.fa();e=Math.floor(e);if(e>=g.length)return!1;c.wl(g[e]);b.jc();return!0},Rfa(b){if(!b)return!1;const e=b.T(),
c=e.fa(),g=Math.floor(this.g.yp()*c.length);if(g>=c.length)return!1;e.wl(c[g]);b.jc();return!0},Ffa(b){if(!b||!b.D.length)return!1;b.T().tf(!0);b.jc();return!0},Pfa(b,e,c){if(!b)return!1;const g=b.T();var n=g.fa();const h=this.g.Eb().Bd,l=this.g.ff().mi;g.Ob?(f.xc(a,n),g.Cv(),g.tf(!1)):h?(f.xc(a,g.nc),f.C(g.nc)):(f.xc(a,g.D),f.C(g.D));for(let m=0,p=a.length;m<p;++m)n=a[m],f.xor(n.A().mJ(e,c),l)?g.Bx(n):g.On(n);b.jc();return f.xor(!!g.D.length,l)},Mfa(b){if(!b)return!1;var e=b.$a;let c=null;const g=
this.g.Ul;for(let n=g.length-1;0<=n;--n){const h=g[n];if(e){if(h.G().dB(b)){c=h;break}}else if(h.G()===b){c=h;break}}c||(e=b.fa(),e.length&&(c=e.Jd(-1)));if(!c)return!1;b.T().wl(c);b.jc();return!0},kga(b){return this.g.Rd?this.p3(b):this.l7(b)},rja(){return this.g.Rd?this.I3():this.i9()},nda(b,e,c){return this.g.Rd?this.m3(b,e,c):this.v4(b,e,c)},oda(b){return this.g.Rd?this.n3(b):this.w4(b)},pda(b,e,c){return this.g.Rd?this.o3(b,c):this.x4(b,c)},Hea(b){return b?b.Rc():!1},Eea(b){return b?b.pZ():!1},
Dea(b){return b?!b.D.length:!1},Cea(b,e,c){return b?f.compare(100*b.qd(),e,c):!1},i_(){return!0},kea(){return 0<this.mo}}}
{"use strict";const f=self.B;function a(h,l){const m=h[0]-l[0];return 0!==m?m:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const e=[],c=[],g=f.j(f.Rect),n=f.j(f.Wa);f.M.Rb.Mj={qia(h,l){h.ke(l)},Vba(h,l){h.tl()&&"number"!==typeof l&&(l=parseFloat(l));h.ke(h.hd()+l)},Lia(h,l){h.tl()&&h.ke(h.hd()-l)},wha(h,l){h.ke(!!l)},Ria(h){h.ke(!h.hd())},Yga(){this.g.ca().c0()},NU(h,l,m,p,r){h&&l&&(m=this.g.uJ(h,l,m,p,r))&&(r&&l.wM(m),l=this.g.ca(),l.ef(!0),m.yE(),l.ef(!1),h.T().gk(m),m.Qb()&&m.Ph())},Qca(h,l,m,p,
r){h&&l&&(h=this.g.gw(h))&&f.M.Rb.Mj.NU.call(this,h,l,m,p,r)},os(h,l,m,p,r,u,q,v,w,y){if(h){var A=this.g.Pa();if(u&&(A=this.g.Va.hp(u),!A))return;u=null;if("number"!==typeof q||0<=q)if(u=A.$(q),!u)return;g.set(l,m,p,r);l=A.os(h,g,u,v,w,y);h.T().Tw(l);h.jc()}},Aia(){const h=this.Re;h.MK()&&h.fp().Je()},Ep(h,l){(h=this.g.ca().UJ(h))&&(0===l?h.Ep(!1):1===l?h.Ep(!0):h.Ep(!h.ds()))},nia(h){this.g.jD(h)},jia(h,l){0>l&&(l=0);if(h){h=h.T().fa();for(const m of h)m.jD(l)}},bha(h){if(h){h=h.T().fa();for(const l of h)l.j0()}},
IM(h){if(!(0>h))return this.g.ca().ZA().TY(h),!0},kja(h){this.g.ca().ZA().RY(h);return!0},jja(){const h=this.g.ca();h.ZA().FY(h.zX());return!0},tia(h){h=h.toLowerCase();for(const l of this.g.ca().Ef)l.rZ()&&l.wu===h&&l.iD()},async uM(h,l,m,p,r,u){const q=this.g.K;q&&(this.Y(),await q.uM(0===h?"image/png":"image/jpeg",l/100,m,p,r,u),await this.g.Od(f.M.Rb.ua.d_,null))},yha(h,l){if(!(0>=h||0>=l)){this.g.Cs(h,l);var m=this.g.Pa();m.xv();for(const p of m.Mb)p.xD();if(m=this.g.K)"off"!==m.Gr()&&this.g.Z0(h,
l),m.wd(m.Ej,m.Dj,!0),this.g.Y()}},Jha(h){const l=this.g.K;l&&"off"!==l.Gr()&&(l.YL(0!==h?"high":"low"),l.wd(l.Ej,l.Dj,!0))},An(h){this.g.r0(h)},Mea(h){this.g.EZ(h)},Nea(h){this.g.zC(h)},Lha(){},Zga(){for(const h of this.g.Va.Xh)h.h0()},kia(h){this.g.b1(0!==h)},hM(h){this.g.hM(h)},wia(h,l){if(h){var m=h.T().fa(),p=this.g.Pa(),r=h.$a;h=h.ii;for(let q=0,v=m.length;q<v;++q){var u=m[q];const w=u.A();if(!w)continue;let y;y=r?u.fe(l+u.G().WJ(h)):u.fe(l);e.push([w.$().Da(),w.Ui()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let q=0,v=e.length;q<v;++q)m=c[q][0],r=p.OB(e[q][0]),h=e[q][1],u=r.D,u[h]!==m&&(u[h]=m,m.A().Xs(r),r.bg(),l=!0);l&&this.g.Y();f.C(e);f.C(c)}}},Dda(h){if(!this.g.sj){var l=this.g.Va;l.sp()||l.Av(h)}},Eda(h){if(!this.g.sj){var l=this.g.Va;l.sp()||(h=l.hp(h))&&l.Av(h)}},cfa(h){if(!this.g.sj){var l=this.g.Va;if(!l.sp()){var m=l.Xh,p=m.indexOf(l.Ib());h&&0===p||(h||p!==m.length-1)&&l.Av(m[p+(h?-1:1)])}}},$ga(){if(!this.g.sj){var h=this.g.Va;h.sp()||(h.Av(h.Ib()),this.g.ca().d0())}},
aia(h,l){h&&h.ej(l)},Uha(h,l){h&&h.T0(l)},Vha(h,l){h&&h.Lh(l/100)},Xha(h,l){h&&h.jM(l)},Yha(h,l){h&&h.d1(l)},Oha(h,l){h&&h.vd(f.tb(+l))},Zha(h,l,m){h&&(h.xs(!0),h.Nh(l),h.Oh(m))},aha(h){h&&h.xs(!1)},Wha(h,l,m){h&&h.$0(l/100,m/100)},bia(h,l){h&&h.Ie(+l)},Pha(h,l){h&&(n.nr(l),n.ja(),h=h.sk,h.$k(n)||(h.yi(n),this.Y()))},$ha(h,l){h&&h.q1(l)},Qha(h,l){h&&h.Xf(l)},Rha(h,l,m){h&&(m=h.Ga.Tj(m))&&(l=1===l,m.zb!==l&&(m.Sw(l),h.Og(),this.g.Y()))},Sha(h,l,m,p){if(h&&(h=h.Ga,l=h.Tj(l))&&(h=h.Sj(l.Da()),m=Math.floor(m),
!(0>m||m>=h.length))){var r=l.mf().iw(m);if("color"===r){n.nr(p);m=h[m];if(n.$k(m))return;m.yi(n)}else{"percent"===r&&(p/=100);if(h[m]===p)return;h[m]=p}l.zb&&this.g.Y()}},Tha(h,l){h&&h.N0(l)},gia(h){this.g.Pa().nM(+h)},cia(h){this.g.Pa().vd(f.tb(+h))},dia(h,l){const m=this.g.Pa();if(l=m.Ga.Tj(l))h=1===h,l.zb!==h&&(l.Sw(h),m.Og(),this.g.Y())},eia(h,l,m){var p=this.g.Pa().Ga;if(h=p.Tj(h))if(p=p.Sj(h.Da()),l=Math.floor(l),!(0>l||l>=p.length)){var r=h.mf().iw(l);if("color"===r){n.nr(m);l=p[l];if(n.$k(l))return;
l.yi(n)}else{"percent"===r&&(m/=100);if(p[l]===m)return;p[l]=m}h.zb&&this.g.Y()}},hia(h,l){this.g.Pa().t1(h/100,l/100)},fia(h){const l=this.g.Pa();0===h?l.lM():l.iM()},sha(h){this.g.Pa().Nh(h)},tha(h){this.g.Pa().Oh(h)},qha(h,l){const m=this.g.Pa();m.Nh(h);m.Oh(l)},rha(h){if(h&&(h=h.YJ())&&(h=h.A())){var l=this.g.Pa();l.Nh(h.Aa());l.Oh(h.Ba())}},async GZ(h){const l=this.g.Ib();l&&h&&!this.g.sj&&await this.ZD(l,h.$a?h.fo:[h])},async Lea(h){await f.M.Rb.Mj.GZ.call(this,this.g.gw(h))},R1(h){const l=
this.g.Ib();l&&h&&this.iP(l,h.$a?h.fo:[h])},Zia(h){f.M.Rb.Mj.R1.call(this,this.g.gw(h))},$ia(){const h=this.g.Ib();if(h){var l=h.W4();this.iP(h,l)}},async Jea(h){const l=this.g.Ib();h&&l&&!this.g.sj&&await this.ZD(l,h.HN())},async Kea(h){const l=this.g.Ib();(h=this.g.Va.hp(h))&&l&&!this.g.sj&&await this.ZD(l,h.HN())},Xw(h){const l=this.Ad.GW();if(l)switch(l.ZP){case 1:"number"===typeof h&&l.Xw(h);break;case 2:"string"===typeof h&&l.Xw(h);break;case 3:l.Xw(h)}},Qea(h,l,m){var p=this.tx(h.toLowerCase(),
!0);const r=p.QA,u=l.toLowerCase();r.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=f.first(r.values())||p.Cm)&&0!==p.Pk!==(0!==m.Pk)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(u,m)},Rea(h,l){const m=this.tx(h.toLowerCase(),!0);m.Cm&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
f.first(m.QA.values())||m.Cm;p&&0!==p.Pk!==(0!==l.Pk)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):m.Cm=l},nca(h,l,m){m=Math.floor(m);var p=this.tx(h.toLowerCase(),!1);if(p){var r=p.QA.get(l.toLowerCase());if(!r)if(p.Cm)r=p.Cm,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(r.rn())if(0!==
r.Pk)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.ca();var u=l.Eb();p=u.dd();var q=0<p.length;q&&l.Vf(p);var v=[];if(u=l.wB(u)){u=u.pg;for(let w=m,y=u.length;w<y;++w)v.push(u[w].hd())}m=r.pg;for(let w=v.length,y=m.length;w<y;++w)v.push(m[w].no);return h.Rd?this.k3(l,r,v,q,p):this.J3(l,r,v,q,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const f=self.B;f.M.Rb.Vm={Zka:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},rka:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},el(a){return a.toString()},gv(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.yp()*a:this.g.yp()*(b-a)+a},eaa(...a){return a[Math.floor(this.g.yp()*a.length)]},Vla(){return Math.PI},Xka(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},xma(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(f.tb(a))},cos(a){return Math.cos(f.tb(a))},tan(a){return Math.tan(f.tb(a))},asin(a){return f.Lj(Math.asin(a))},acos(a){return f.Lj(Math.acos(a))},atan(a){return f.Lj(Math.atan(a))},exp(a){return Math.exp(a)},Waa(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b>g&&(b=g)}return b},ja(a,b,e){return f.ja(a,b,e)},Xu(a,b,e,c){return f.uaa(a,b,e,c)},angle(a,b,e,c){return f.Lj(f.fS(a,b,e,c))},Kd(a,b,e){return f.Kd(a,b,e)},RA(a,b,e){return f.RA(a,b,e)},LA(a,b,e,c){return f.LA(a,b,e,c)},oS(a,b,e,c,g){return f.oS(a,
b,e,c,g)},nS(a,b,e){return f.nS(a,b,e)},Jja(a,b){return f.Lj(f.cr(f.tb(a),f.tb(b)))},Kja(a,b,e){return f.Lj(f.TH(f.tb(a),f.tb(b),e))},Lja(a,b,e){return f.Lj(f.UH(f.tb(a),f.tb(b),f.tb(e)))},Jma(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Rma(a,b){return(a|0)^1<<(b|0)},Qka(a,b){return(a|0)&1<<(b|0)?1:0},Gla(){return"\n"},Yma(a){return"string"===typeof a?a.toUpperCase():""},yla(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Sma(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Tma(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(f.zr(b),"i")):-1},qka(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(f.zr(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(f.zr(b),"gi"),e):"string"===typeof a?a:""},hma(a,b,e){b=this.mw(b,e);return a?a.search(b):-1},gma(a,b,e,c){b=this.mw(b,e);return a?a.replace(b,c):""},fma(a,b,e){return(a=this.iK(a.toString(),b,e))?a.length:0},ema(a,b,e,c){c=Math.floor(c);a=this.iK(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},nna(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},$ma(a){return encodeURIComponent(a)},Zma(a){return decodeURIComponent(a)},tS(){return this.g.zt},Pma(){return this.g.Hd},jna(){return(Date.now()-this.g.bA)/1E3},Wma(){return Date.now()},time(){return this.g.Vj()},Oma(){return this.g.zj},Lla(){return this.g.NG},uka(){return this.g.Fy},aka(){return this.g.xz},Ska(){return this.g.dw()},mna(){return this.g.K.kg},lna(){return this.g.K.jg},Pla(){return this.g.vg},Ola(){return this.g.ug},
Nla(){return this.g.vg},Mla(){return this.g.ug},Ama(){return this.g.Pa().kf()},Bma(){return this.g.Pa().lf()},sla(){return this.g.Pa().wa()},tla(){return this.g.Pa().Ed},qla(){return f.Lj(this.g.Pa().Ta())},ula(){return this.g.Pa().pa()},rla(){return this.g.Pa().ma()},fna(a){return(a=this.g.Pa().$(a))?a.ym.O:0},hna(a){return(a=this.g.Pa().$(a))?a.ym.L:0},gna(a){return(a=this.g.Pa().$(a))?a.ym.X:0},dna(a){return(a=this.g.Pa().$(a))?a.ym.U:0},ina(a){return(a=this.g.Pa().$(a))?a.ym.width():0},ena(a){return(a=
this.g.Pa().$(a))?a.ym.height():0},Vja(a,b,e){return(a=this.g.Pa().$(a))?a.Nm(b,e)[0]:0},Wja(a,b,e){return(a=this.g.Pa().$(a))?a.Nm(b,e)[1]:0},nla(a,b,e){return(a=this.g.Pa().$(a))?a.tn(b,e)[0]:0},ola(a,b,e){return(a=this.g.Pa().$(a))?a.tn(b,e)[1]:0},jla(a){return(a=this.g.Pa().$(a))?a.Ed:0},ela(a){return(a=this.g.Pa().$(a))?f.Lj(a.wf):0},gla(a){return(a=this.g.Pa().$(a))?100*a.qd():0},kla(a){return(a=this.g.Pa().$(a))?a.hm:0},lla(a){return(a=this.g.Pa().$(a))?a.kf():0},mla(a){return(a=this.g.Pa().$(a))?
a.lf():0},hla(a){return(a=this.g.Pa().$(a))?100*a.Se:0},ila(a){return(a=this.g.Pa().$(a))?100*a.Te:0},pla(a){return(a=this.g.Pa().$(a))?a.Xa():0},fla(a){return(a=this.g.Pa().$(a))?a.Da():-1},Uja(){const a=this.g.K;return a?a.hH:""},xla(a){const b=this.Re;return b.MK()?a?(a=b.sW(a))?a.Da():0:b.fp().Da():0},yma(){return this.g.yo},Sja(a,b,...e){var c=this.tx(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var g=c.QA.get(b.toLowerCase());
if(!g)if(c.Cm)g=c.Cm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.Pk;const n=g.Ir();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.rn())return n;a=this.g.ca();b=a.Eb().dd();const h=0<b.length;h&&a.Vf(b);const l=g.pg;for(let m=e.length,p=l.length;m<p;++m)e.push(l[m].no);
g=g.ee();e=g.TC(g.dd(),c,n,...e);h&&a.Fb(b);return e},wla(){return this.g.Tc.nz},Vka(){return 0===this.mo?1:this.Lt/this.mo},Gm(){return this.g.Yr()?"webgpu":"webgl"},kma(){return this.g.Yr()?"<unavailable>":this.g.jn().Mu},Wka(){let a=this.g.bb().KW();return Math.round(100*a/1048576)/100},mma(a,b,e){return f.v_(a,b,e)},pma(a,b,e){return f.mL(a/100,b/100,e/100)},nma(a,b,e,c){return f.Kw(a/100,b/100,e/100,c/100)},qma(a,b,e){return f.mL(a/255,b/255,e/255)},oma(a,b,e,c){return f.Kw(a/255,b/255,e/255,
c/255)},Zla(){return this.g.Lz},$la(){return this.g.mR},dka(){return this.g.Eb().Fc.wa()},cka(){return this.g.Eb().hq}}}{"use strict";const f=self.B;f.M.Text=class extends f.Qw{constructor(a){super(a)}m(){super.m()}}}{"use strict";const f=self.B;f.M.Text.bx=class extends f.JL{constructor(a){super(a)}m(){super.m()}gs(){}zp(){}}}
{"use strict";const f=self.B,a=self.Ei,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new f.Rect,n=new f.jd;new f.Wa;f.M.Text.Instance=class extends f.KL{constructor(m,p){super(m);this.Vc="";this.xk=!0;this.hi="Arial";this.xj=12;this.ah=0;this.Oe=this.Ne=!1;this.Ya=f.j(f.Wa);this.xe=this.Le=0;this.Gj=!0;this.Aj=this.Yq=-1;this.Lu=0;this.pc=f.j(f.H.NC,this.g.bb(),{timeout:5});this.pc.KA=()=>this.g.Y();this.pc.bM();p&&(this.Vc=p[0],this.xk=!!p[1],this.hi=p[2],this.xj=p[3],this.ah=
p[4],this.Ne=!!p[5],this.Oe=!!p[6],this.Le=p[8],this.xe=p[9],this.Gj=0===p[10],m=p[7],this.Ya.pr(m[0],m[1],m[2]),this.A().ej(p[11]));this.Pd()}m(){this.Dl();this.pc.m();this.pc=null;super.m()}Pd(){const m=this.pc;m.Bs(this.Vc);m.y0(this.xk);m.aD(this.hi);m.fM(this.ah);m.PL(this.Ne);m.dM(this.Oe);m.yl(this.Ya);m.$L(e[this.Le]);m.tM(c[this.xe]);m.u1(this.Gj?"word":"character")}AE(){const m=this.A();this.pc.bD(this.xj);this.pc.M0(m.BX());var p=m.$();p=p.jp()*p.MJ(m.Kg());this.pc.wd(m.pa(),m.ma(),p)}Hi(m){var p=
this.A();this.AE();const r=this.pc.nf();if(r){var u=p.$();if(0===p.Ta()&&0===u.Ta()&&0===p.Kg()&&!p.Eh()&&u.vL()){p=p.Qj();const [q,v]=u.Xi(p.rb,p.sb),[w,y]=u.Xi(p.Vb,p.Wb);p=q-Math.round(q);const A=v-Math.round(v);g.set(q,v,w,y);g.offset(-p,-A);n.Di(g);const [G,z]=m.Rr(m.Ri());this.g.K.G0(m,G,z);m.ag(r);m.xp(n,this.pc.se);u.Jx(m)}else m.ag(r),p.Eh()?this.X3(p,m):this.b4(p,m)}}b4(m,p){m=m.Qj();this.g.uo&&(m=this.xO(m));p.xp(m,this.pc.se)}X3(m,p){const r=m.JX();if(m.iZ()){m.gB(g,n,!1);let u=n;this.g.uo&&
(u=this.xO(u));r.lU(m.ol(),u,this.pc.se);m.X0()}r.Hi(p)}xO(m){const p=m.rb-Math.round(m.rb),r=m.sb-Math.round(m.sb);if(0===p&&0===r)return m;n.ia(m);n.offset(-p,-r);return n}Wv(){const m=this.pc.nf();return m?[m.pa(),m.ma()]:[100,100]}Xv(){return this.pc.se}Cw(){return!1}Nd(){const m={t:this.Vc,c:this.Ya.toJSON(),fn:this.hi,ps:this.xj};this.xk&&(m.bbc=this.xk);0!==this.Le&&(m.ha=this.Le);0!==this.xe&&(m.va=this.xe);this.Gj||(m.wr=this.Gj);0!==this.ah&&(m.lho=this.ah);this.Ne&&(m.b=this.Ne);this.Oe&&
(m.i=this.Oe);-1!==this.Aj&&(m.tw={st:this.Yq,en:this.Aj,l:this.Lu});return m}td(m){this.Dl();this.Vc=m.t;this.Ya.dl(m.c);this.hi=m.fn;this.xj=m.ps;this.xk=m.hasOwnProperty("bbc")?m.bbc:!1;this.Le=m.hasOwnProperty("ha")?m.ha:0;this.xe=m.hasOwnProperty("va")?m.va:0;this.Gj=m.hasOwnProperty("wr")?m.wr:!0;this.ah=m.hasOwnProperty("lho")?m.lho:0;this.Ne=m.hasOwnProperty("b")?m.b:!1;this.Oe=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.Yq=m.st,this.Aj=m.en,this.Lu=m.l);this.Pd();-1!==
this.Aj&&this.Mx()}Qc(m){switch(m){case 0:return this.Vc;case 1:return this.xk;case 2:return this.hi;case 3:return this.xj;case 4:return this.ah;case 5:return this.Ne;case 6:return this.Oe;case 7:return b[0]=this.Ya.Oa,b[1]=this.Ya.Sa,b[2]=this.Ya.Ra,b;case 8:return this.Le;case 9:return this.xe;case 10:return this.Gj?1:0}}cj(m,p){switch(m){case 0:if(this.Vc===p)break;this.Vc=p;this.Pd();break;case 1:if(this.xk===!!p)break;this.xk=!!p;this.Pd();break;case 2:if(this.hi===p)break;this.hi=p;this.Pd();
break;case 3:if(this.xj===p)break;this.xj=p;this.Pd();break;case 4:if(this.ah===p)break;this.ah=p;this.Pd();break;case 5:if(this.Ne===!!p)break;this.Ne=!!p;this.Pd();break;case 6:if(this.Oe===!!p)break;this.Oe=!!p;this.Pd();break;case 7:m=this.Ya;if(m.Oa===p[0]&&m.Sa===p[1]&&m.Ra===p[2])break;this.Ya.pr(p[0],p[1],p[2]);this.Pd();break;case 8:if(this.Le===p)break;this.Le=p;this.Pd();break;case 9:if(this.xe===p)break;this.xe=p;this.Pd();break;case 10:this.Gj!==(0===p)&&(this.Gj=0===p,this.Pd())}}Ix(m){this.Vc!==
m&&(this.Vc=m,this.pc.Bs(m),this.g.Y())}J8(m,p){this.Ix(m);this.Yq=this.g.YB();this.Aj=this.Yq+p/this.qa().yW();this.Lu=f.hl.xM(m).length;this.pc.$C(0);this.Mx()}Dl(){this.Aj=this.Yq=-1;this.Lu=0;this.pc.$C(-1);this.Nx()}l4(){-1!==this.Aj&&(this.Dl(),this.ib(f.M.Text.ua.jL),this.g.Y())}h8(m){this.hi!==m&&(this.hi=m,this.pc.aD(m),this.g.Y())}V7(m){m=!!m;this.Ne!==m&&(this.Ne=m,this.pc.PL(m),this.g.Y())}q8(m){m=!!m;this.Oe!==m&&(this.Oe=m,this.pc.dM(m),this.g.Y())}i8(m){this.xj!==m&&(this.xj=m,this.g.Y())}g8(m){this.Ya.$k(m)||
(this.Ya.yi(m),this.pc.yl(this.Ya),this.g.Y())}WO(m){this.ah!==m&&(this.ah=m,this.Pd(),this.g.Y())}l8(m){this.Le!==m&&(this.Le=m,this.Pd(),this.g.Y())}aP(m){this.xe!==m&&(this.xe=m,this.Pd(),this.g.Y())}C8(m){m=!!m;this.Gj!==m&&(this.Gj=m,this.Pd(),this.g.Y())}V4(){this.AE();return this.pc.FX()}U4(){this.AE();return this.pc.EX()}sf(){var m=this.g.YB();m>=this.Aj?(this.Dl(),this.ib(f.M.Text.ua.jL),this.g.Y()):(m=f.kba(this.Yq,this.Aj,m,this.Lu),m=Math.floor(m),m!==this.pc.ao&&(this.pc.$C(m),this.g.Y()))}mp(){return self.mY}};
const h=new WeakMap,l=new Map([["top",0],["center",1],["bottom",2]]);self.mY=class extends self.fC{constructor(){super();h.set(this,self.zw.ux().xa)}get text(){return h.get(this).Vc}set text(m){a.ud(m);const p=h.get(this);p.Dl();p.Ix(m)}set lineHeight(m){a.ck(m);h.get(this).WO(m)}get lineHeight(){return h.get(this).ah}set verticalAlign(m){a.ud(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");h.get(this).aP(m)}get verticalAlign(){return c[h.get(this).xe]}}}
{"use strict";const f=self.B;f.M.Text.ua={Cca(a,b){return b?this.Vc===a:f.dr(this.Vc,a)},wea(){return-1!==this.Aj},jL(){return!0}}}
{"use strict";const f=self.B,a=f.j(f.Wa);f.M.Text.Mj={Bs(b){this.Dl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Ix(b.toString())},Yba(b){this.Dl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Ix(this.Vc+b)},Wia(b,e){this.Dl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.J8(b.toString(),e)},Iha(b,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.hi||c!==this.Ne||g!==this.Oe)this.h8(b),this.V7(c),
this.q8(g)},bD(b){this.i8(b)},Hha(b){a.nr(b);a.ja();this.g8(a)},ria(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},Aha(b){this.A().Xf(b);this.g.Y()},Via(){this.l4()},fM(b){this.WO(b)},Kha(b){this.l8(b)},pia(b){this.aP(b)},sia(b){this.C8(0===b)}}}{"use strict";const f=self.B;f.M.Text.Vm={Text(){return this.Vc},Ufa(){return this.xk?f.hl.xM(this.Vc):this.Vc},fda(){return this.hi},gda(){return this.xj},Oia(){return this.V4()},Nia(){return this.U4()},Iea(){return this.ah}}}
{"use strict";const f=self.B;f.M.kc=class extends f.Qw{constructor(a){super(a)}m(){super.m()}}}{"use strict";const f=self.B;f.M.kc.bx=class extends f.JL{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const f=self.B;f.M.kc.Instance=class extends f.VC{constructor(a){super(a,"browser");this.qj="";this.Tt=!1;this.JP=this.pR="";this.wQ=!1;this.PH=this.tR=this.uR=0;this.Qt=!1;this.CT([["online-state",b=>this.x6(b)],["backbutton",()=>this.m6()],["sw-message",b=>this.A6(b)],["hashchange",b=>this.s6(b)]]);a=this.F().dc();this.yf=new f.kJ(f.il.Rv(a,"afterfirstlayoutstart",()=>this.l6()),f.il.Rv(a,"window-resize",()=>this.gE()),f.il.Rv(a,"suspend",()=>this.B6()),f.il.Rv(a,"resume",()=>this.z6()));
this.g.JT(this.IC("get-initial-state",{exportType:this.g.gi}).then(b=>{this.qj=b.location;this.Tt=b.isOnline;this.pR=b.referrer;this.JP=b.title;this.wQ=b.isCookieEnabled;this.uR=b.screenWidth;this.tR=b.screenHeight;this.PH=b.windowOuterWidth;this.Qt=b.isConstructArcade}))}m(){super.m()}l6(){this.Jh("ready-for-sw-messages")}async x6(a){a=!!a.isOnline;this.Tt!==a&&((this.Tt=a)?await this.Od(f.M.kc.ua.n_):await this.Od(f.M.kc.ua.l_))}async gE(){await this.Od(f.M.kc.ua.q_)}B6(){this.ib(f.M.kc.ua.o_)}z6(){this.ib(f.M.kc.ua.p_)}async m6(){await this.Od(f.M.kc.ua.c_)}A6(a){a=
a.type;"downloading-update"===a?this.ib(f.M.kc.ua.kL):"update-ready"===a||"update-pending"===a?this.ib(f.M.kc.ua.lL):"offline-ready"===a&&this.ib(f.M.kc.ua.m_)}s6(a){this.qj=a.location;this.ib(f.M.kc.ua.h_)}}}"use strict";
self.B.M.kc.ua={rea(){return this.Tt},n_(){return!0},l_(){return!0},q_(){return!0},Nca(){return this.wQ},hea(){return this.g.K.so},c_(){return!0},vea(f){return(this.g.K.Ej<=this.g.K.Dj?0:1)===f},kL(){return!0},lL(){return!0},m_(){return!0},h_(){return!0},yfa(){return!this.g.ul()},o_(){return!0},p_(){return!0},Hda(){return!1},eea(){return!1},nfa(){return!1},ofa(){return!1},lea(){return!1},Yda(){return!0},Mia(){return!0}};
{"use strict";const f=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");f.M.kc.Mj={Wba(b){this.Jh("alert",{message:b.toString()})},sca(){this.Qt||(this.g.mb?self.Nf.tca():this.Jh("close"))},mda(){this.Jh("set-focus",{isFocus:!0})},jca(){this.Jh("set-focus",{isFocus:!1})},Ada(){this.Qt||this.Jh("navigate",{type:"back"})},Bda(){this.Qt||this.Jh("navigate",{type:"forward"})},Cda(){},T_(){this.Qt||(this.g.mb?this.g.D_():this.Jh("navigate",
{type:"reload"}))},Fda(b,e){this.Fl("navigate",{type:"url",url:b,target:e,exportType:this.g.gi})},Gda(b,e){this.Fl("navigate",{type:"new-window",url:b,tag:e,exportType:this.g.gi})},mga(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=f.kB.AN(b);this.g.K.H0(b);this.Fl("request-fullscreen",{navUI:e})},oca(){this.Fl("exit-fullscreen")},hja(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.Fl("vibrate",{pattern:b})},async kC(b,e){b&&e&&(b=await this.g.Tc.SB(b),this.g.kC(b,e))},
Tda(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.g.kC(b,c))},Mca(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},Kca(b){console.group(b)},Lca(){console.groupEnd()},eda(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},Pea(b){b=Math.floor(b);0>b||b>=a.length||this.Fl("lock-orientation",{orientation:a[b]})},aja(){this.Fl("unlock-orientation")},XK(b){this.g.Tc.XK(b)},Mha(b){this.Jh("set-hash",{hash:b})}}}"use strict";
self.B.M.kc.Vm={URL(){return this.g.Sd?this.qj:location.toString()},aga(){return this.g.Sd?(new URL(this.qj)).protocol:location.protocol},Vca(){return this.g.Sd?(new URL(this.qj)).hostname:location.hostname},Yfa(){return this.g.Sd?(new URL(this.qj)).port:location.port},Afa(){return this.g.Sd?(new URL(this.qj)).pathname:location.pathname},Ida(){return this.g.Sd?(new URL(this.qj)).hash:location.hash},KC(){return this.g.Sd?(new URL(this.qj)).search:location.search},cga(f){const a=this.g.Sd?(new URL(this.qj)).search:
location.search;return(f=RegExp("[?&]"+f+"=([^&]*)").exec(a))?decodeURIComponent(f[1].replace(/\+/g," ")):""},gga(){return this.pR},Pia(){return this.JP},Bea(){return navigator.language},yc(){return navigator.platform},eja(){return navigator.userAgent},dda(f){let a=0;try{a=eval(f)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},$ea(){return navigator.appName},gja(){return navigator.appVersion},$fa(){return navigator.product},
fja(){return navigator.vendor},fca(){return 1},gca(){return Infinity},eca(){const f=navigator.connection;return f?f.downlink||f.downlinkMax||f.bandwidth||Infinity:Infinity},ConnectionType(){const f=navigator.connection;return f?f.type||"unknown":"unknown"},Tca(){return self.devicePixelRatio},pha(){return this.uR},oha(){return this.tR},vja(){return this.g.K.Ej},uja(){return this.g.K.Dj},xja(){return this.PH},wja(){return this.PH}};
{const f=self.B;self.cJ=function(){return[f.M.Text,f.M.kc,f.M.Rb.ua.fL,f.M.Text.Mj.Bs,f.M.Rb.Vm.random,f.M.kc.ua.kL,f.M.kc.ua.lL,f.M.kc.Mj.T_]};self.hU=[{Text:0},{kc:0}]}self.gU=[f=>{const a=f.L4().CB();return()=>{var b=a(1);return"Random: "+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)}}];
