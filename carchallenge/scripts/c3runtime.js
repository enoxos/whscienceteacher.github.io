// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function a(e,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2];r=r[3];e[0]=x*E+C*I;e[1]=A*E+k*I;e[2]=x*L+C*r;e[3]=A*L+k*r;return e}function b(e,k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];e[2]=k[2]-r[2];e[3]=k[3]-r[3];return e}function f(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=r[0],O=r[1],S=r[2],T=r[3],X=r[4];r=r[5];e[0]=x*L+C*O;e[1]=A*L+E*O;e[2]=x*S+C*T;e[3]=A*S+E*T;e[4]=x*X+C*r+I;e[5]=A*X+E*r+k;return e}function c(e,k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];e[2]=k[2]-
r[2];e[3]=k[3]-r[3];e[4]=k[4]-r[4];e[5]=k[5]-r[5];return e}function g(){var e=new qa(9);qa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0);e[0]=1;e[4]=1;e[8]=1;return e}function n(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=r[0],X=r[1],W=r[2],fa=r[3],da=r[4],aa=r[5],ua=r[6],pa=r[7];r=r[8];e[0]=T*x+X*E+W*O;e[1]=T*A+X*I+W*S;e[2]=T*C+X*L+W*k;e[3]=fa*x+da*E+aa*O;e[4]=fa*A+da*I+aa*S;e[5]=fa*C+da*L+aa*k;e[6]=ua*x+pa*E+r*O;e[7]=ua*A+pa*I+r*S;e[8]=ua*C+pa*L+
r*k;return e}function h(e,k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];e[2]=k[2]-r[2];e[3]=k[3]-r[3];e[4]=k[4]-r[4];e[5]=k[5]-r[5];e[6]=k[6]-r[6];e[7]=k[7]-r[7];e[8]=k[8]-r[8];return e}function l(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}function m(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=k[8],X=k[9],W=k[10],fa=k[11],da=k[12],aa=k[13],ua=k[14];k=k[15];var pa=r[0],sa=r[1],ta=r[2],ra=r[3];e[0]=
pa*x+sa*I+ta*T+ra*da;e[1]=pa*A+sa*L+ta*X+ra*aa;e[2]=pa*C+sa*O+ta*W+ra*ua;e[3]=pa*E+sa*S+ta*fa+ra*k;pa=r[4];sa=r[5];ta=r[6];ra=r[7];e[4]=pa*x+sa*I+ta*T+ra*da;e[5]=pa*A+sa*L+ta*X+ra*aa;e[6]=pa*C+sa*O+ta*W+ra*ua;e[7]=pa*E+sa*S+ta*fa+ra*k;pa=r[8];sa=r[9];ta=r[10];ra=r[11];e[8]=pa*x+sa*I+ta*T+ra*da;e[9]=pa*A+sa*L+ta*X+ra*aa;e[10]=pa*C+sa*O+ta*W+ra*ua;e[11]=pa*E+sa*S+ta*fa+ra*k;pa=r[12];sa=r[13];ta=r[14];ra=r[15];e[12]=pa*x+sa*I+ta*T+ra*da;e[13]=pa*A+sa*L+ta*X+ra*aa;e[14]=pa*C+sa*O+ta*W+ra*ua;e[15]=pa*
E+sa*S+ta*fa+ra*k;return e}function p(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=x+x,L=A+A,O=C+C;k=x*I;var S=x*L;x*=O;var T=A*L;A*=O;C*=O;I*=E;L*=E;E*=O;e[0]=1-(T+C);e[1]=S+E;e[2]=x-L;e[3]=0;e[4]=S-E;e[5]=1-(k+C);e[6]=A+I;e[7]=0;e[8]=x+L;e[9]=A-I;e[10]=1-(k+T);e[11]=0;e[12]=r[0];e[13]=r[1];e[14]=r[2];e[15]=1;return e}function u(e,k){e[0]=k[12];e[1]=k[13];e[2]=k[14];return e}function q(e,k){var r=k[4],x=k[5],A=k[6],C=k[8],E=k[9],I=k[10];e[0]=Math.hypot(k[0],k[1],k[2]);e[1]=Math.hypot(r,x,A);e[2]=Math.hypot(C,
E,I);return e}function v(e,k){var r=new qa(3);q(r,k);var x=1/r[0],A=1/r[1],C=1/r[2],E=k[0]*x;r=k[1]*A;var I=k[2]*C,L=k[4]*x,O=k[5]*A,S=k[6]*C;x*=k[8];A*=k[9];k=k[10]*C;C=E+O+k;0<C?(E=2*Math.sqrt(C+1),e[3]=.25*E,e[0]=(S-A)/E,e[1]=(x-I)/E,e[2]=(r-L)/E):E>O&&E>k?(E=2*Math.sqrt(1+E-O-k),e[3]=(S-A)/E,e[0]=.25*E,e[1]=(r+L)/E,e[2]=(x+I)/E):O>k?(E=2*Math.sqrt(1+O-E-k),e[3]=(x-I)/E,e[0]=(r+L)/E,e[1]=.25*E,e[2]=(S+A)/E):(E=2*Math.sqrt(1+k-E-O),e[3]=(r-L)/E,e[0]=(x+I)/E,e[1]=(S+A)/E,e[2]=.25*E);return e}function t(e,
k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];e[2]=k[2]-r[2];e[3]=k[3]-r[3];e[4]=k[4]-r[4];e[5]=k[5]-r[5];e[6]=k[6]-r[6];e[7]=k[7]-r[7];e[8]=k[8]-r[8];e[9]=k[9]-r[9];e[10]=k[10]-r[10];e[11]=k[11]-r[11];e[12]=k[12]-r[12];e[13]=k[13]-r[13];e[14]=k[14]-r[14];e[15]=k[15]-r[15];return e}function w(){var e=new qa(3);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0);return e}function y(e){return Math.hypot(e[0],e[1],e[2])}function z(e,k,r){var x=new qa(3);x[0]=e;x[1]=k;x[2]=r;return x}function F(e,k,r){e[0]=k[0]-r[0];e[1]=
k[1]-r[1];e[2]=k[2]-r[2];return e}function G(e,k,r){e[0]=k[0]*r[0];e[1]=k[1]*r[1];e[2]=k[2]*r[2];return e}function Q(e,k,r){e[0]=k[0]/r[0];e[1]=k[1]/r[1];e[2]=k[2]/r[2];return e}function D(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1],k[2]-e[2])}function H(e,k){var r=k[0]-e[0],x=k[1]-e[1];e=k[2]-e[2];return r*r+x*x+e*e}function J(e){var k=e[0],r=e[1];e=e[2];return k*k+r*r+e*e}function M(e,k){var r=k[0],x=k[1],A=k[2];r=r*r+x*x+A*A;0<r&&(r=1/Math.sqrt(r));e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;return e}function P(e,
k){return e[0]*k[0]+e[1]*k[1]+e[2]*k[2]}function R(e,k,r){var x=k[0],A=k[1];k=k[2];var C=r[0],E=r[1];r=r[2];e[0]=A*r-k*E;e[1]=k*C-x*r;e[2]=x*E-A*C;return e}function V(){var e=new qa(4);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0);return e}function Z(e){var k=new qa(4);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];return k}function ca(e,k,r,x){var A=new qa(4);A[0]=e;A[1]=k;A[2]=r;A[3]=x;return A}function Y(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];return e}function ha(e,k,r,x,A){e[0]=k;e[1]=r;e[2]=
x;e[3]=A;return e}function ka(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];return e}function za(e,k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];e[2]=k[2]-r[2];e[3]=k[3]-r[3];return e}function Oa(e,k,r){e[0]=k[0]*r[0];e[1]=k[1]*r[1];e[2]=k[2]*r[2];e[3]=k[3]*r[3];return e}function ab(e,k,r){e[0]=k[0]/r[0];e[1]=k[1]/r[1];e[2]=k[2]/r[2];e[3]=k[3]/r[3];return e}function Ua(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;return e}function bb(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1],
k[2]-e[2],k[3]-e[3])}function mb(e,k){var r=k[0]-e[0],x=k[1]-e[1],A=k[2]-e[2];e=k[3]-e[3];return r*r+x*x+A*A+e*e}function Va(e){return Math.hypot(e[0],e[1],e[2],e[3])}function Pa(e){var k=e[0],r=e[1],x=e[2];e=e[3];return k*k+r*r+x*x+e*e}function fb(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*r+x*x+A*A+k*k;0<C&&(C=1/Math.sqrt(C));e[0]=r*C;e[1]=x*C;e[2]=A*C;e[3]=k*C;return e}function cb(e,k){return e[0]*k[0]+e[1]*k[1]+e[2]*k[2]+e[3]*k[3]}function ub(e,k,r,x){var A=k[0],C=k[1],E=k[2];k=k[3];e[0]=A+
x*(r[0]-A);e[1]=C+x*(r[1]-C);e[2]=E+x*(r[2]-E);e[3]=k+x*(r[3]-k);return e}function vb(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]}function wb(e,k){var r=e[0],x=e[1],A=e[2];e=e[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))}function gb(){var e=new qa(4);qa!=Float32Array&&
(e[0]=0,e[1]=0,e[2]=0);e[3]=1;return e}function xb(e,k,r){r*=.5;var x=Math.sin(r);e[0]=x*k[0];e[1]=x*k[1];e[2]=x*k[2];e[3]=Math.cos(r);return e}function yb(e,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2];r=r[3];e[0]=x*r+k*E+A*L-C*I;e[1]=A*r+k*I+C*E-x*L;e[2]=C*r+k*L+x*I-A*E;e[3]=k*r-x*E-A*I-C*L;return e}function zb(e,k,r){r*=.5;var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);e[0]=x*r+k*E;e[1]=A*r+C*E;e[2]=C*r-A*E;e[3]=k*r-x*E;return e}function Ab(e,k,r){r*=.5;var x=
k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);e[0]=x*r-C*E;e[1]=A*r+k*E;e[2]=C*r+x*E;e[3]=k*r-A*E;return e}function Bb(e,k,r){r*=.5;var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);e[0]=x*r+A*E;e[1]=A*r-x*E;e[2]=C*r+k*E;e[3]=k*r-C*E;return e}function Cb(e,k){var r=k[0],x=k[1],A=k[2],C=Math.sqrt(r*r+x*x+A*A);k=Math.exp(k[3]);var E=0<C?k*Math.sin(C)/C:0;e[0]=r*E;e[1]=x*E;e[2]=A*E;e[3]=k*Math.cos(C);return e}function Db(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=Math.sqrt(r*
r+x*x+A*A);C=0<C?Math.atan2(C,k)/C:0;e[0]=r*C;e[1]=x*C;e[2]=A*C;e[3]=.5*Math.log(r*r+x*x+A*A+k*k);return e}function hb(e,k,r,x){var A=k[0],C=k[1],E=k[2];k=k[3];var I=r[0],L=r[1],O=r[2];r=r[3];var S=A*I+C*L+E*O+k*r;0>S&&(S=-S,I=-I,L=-L,O=-O,r=-r);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-x)*T)/X;x=Math.sin(x*T)/X}else S=1-x;e[0]=S*A+x*I;e[1]=S*C+x*L;e[2]=S*E+x*O;e[3]=S*k+x*r;return e}function Eb(e,k){var r=k[0]+k[4]+k[8];if(0<r)r=Math.sqrt(r+1),e[3]=.5*r,r=.5/r,e[0]=(k[5]-k[7])*
r,e[1]=(k[6]-k[2])*r,e[2]=(k[1]-k[3])*r;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var A=(x+1)%3,C=(x+2)%3;r=Math.sqrt(k[3*x+x]-k[3*A+A]-k[3*C+C]+1);e[x]=.5*r;r=.5/r;e[3]=(k[3*A+C]-k[3*C+A])*r;e[A]=(k[3*A+x]+k[3*x+A])*r;e[C]=(k[3*C+x]+k[3*x+C])*r}return e}function Fb(e,k,r){var x=.5*r[0],A=.5*r[1];r=.5*r[2];var C=k[0],E=k[1],I=k[2];k=k[3];e[0]=C;e[1]=E;e[2]=I;e[3]=k;e[4]=x*k+A*I-r*E;e[5]=A*k+r*C-x*I;e[6]=r*k+x*E-A*C;e[7]=-x*C-A*E-r*I;return e}function Gb(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];
e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];return e}function Hb(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=r[4],L=r[5],O=r[6],S=r[7],T=k[4],X=k[5],W=k[6];k=k[7];var fa=r[0],da=r[1],aa=r[2];r=r[3];e[0]=x*r+E*fa+A*aa-C*da;e[1]=A*r+E*da+C*fa-x*aa;e[2]=C*r+E*aa+x*da-A*fa;e[3]=E*r-x*fa-A*da-C*aa;e[4]=x*S+E*I+A*O-C*L+T*r+k*fa+X*aa-W*da;e[5]=A*S+E*L+C*I-x*O+X*r+k*da+W*fa-T*aa;e[6]=C*S+E*O+x*L-A*I+W*r+k*aa+T*da-X*fa;e[7]=E*S-x*I-A*L-C*O+k*r-T*fa-X*da-W*aa;return e}function ib(){var e=new qa(2);qa!=Float32Array&&
(e[0]=0,e[1]=0);return e}function Sa(e,k,r){e[0]=k[0]-r[0];e[1]=k[1]-r[1];return e}function jb(e,k,r){e[0]=k[0]*r[0];e[1]=k[1]*r[1];return e}function kb(e,k,r){e[0]=k[0]/r[0];e[1]=k[1]/r[1];return e}function Wa(e,k){return Math.hypot(k[0]-e[0],k[1]-e[1])}function lb(e,k){var r=k[0]-e[0];e=k[1]-e[1];return r*r+e*e}function Ma(e){return Math.hypot(e[0],e[1])}function nb(e){var k=e[0];e=e[1];return k*k+e*e}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var e=0,k=arguments.length;k--;)e+=arguments[k]*arguments[k];return Math.sqrt(e)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Aba(){return qa},Mfa:Ka,ama:function(e){qa=e},kma:function(e){return e*Ib},Nc:function(e,k){return Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))}}),Pb=Object.freeze({__proto__:null,create:function(){var e=new qa(4);qa!=Float32Array&&(e[1]=0,e[2]=0);e[0]=1;e[3]=1;return e},clone:function(e){var k=new qa(4);k[0]=e[0];k[1]=e[1];
k[2]=e[2];k[3]=e[3];return k},ta:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];return e},sv:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;return e},cf:function(e,k,r,x){var A=new qa(4);A[0]=e;A[1]=k;A[2]=r;A[3]=x;return A},set:function(e,k,r,x,A){e[0]=k;e[1]=r;e[2]=x;e[3]=A;return e},FS:function(e,k){if(e===k){var r=k[1];e[1]=k[2];e[2]=r}else e[0]=k[0],e[1]=k[2],e[2]=k[1],e[3]=k[3];return e},pr:function(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*k-A*x;if(!C)return null;C=1/C;e[0]=k*C;e[1]=-x*
C;e[2]=-A*C;e[3]=r*C;return e},RR:function(e,k){var r=k[0];e[0]=k[3];e[1]=-k[1];e[2]=-k[2];e[3]=r;return e},fI:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:a,rotate:function(e,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);e[0]=x*r+C*E;e[1]=A*r+k*E;e[2]=x*-E+C*r;e[3]=A*-E+k*r;return e},scale:function(e,k,r){var x=k[1],A=k[2],C=k[3],E=r[0];r=r[1];e[0]=k[0]*E;e[1]=x*E;e[2]=A*r;e[3]=C*r;return e},IA:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=r;e[2]=-r;e[3]=k;
return e},jI:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=k[1];return e},ml:function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},iI:function(e){return Math.hypot(e[0],e[1],e[2],e[3])},kea:function(e,k,r,x){e[2]=x[2]/x[0];r[0]=x[0];r[1]=x[1];r[3]=x[3]-e[2]*r[1];return[e,k,r]},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];return e},nl:b,Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]},Nc:function(e,k){var r=e[0],x=e[1],A=e[2];e=
e[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},vI:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;return e},wI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;e[3]=k[3]+r[3]*x;return e},Mm:a,sub:b}),Qb=Object.freeze({__proto__:null,create:function(){var e=
new qa(6);qa!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0);e[0]=1;e[3]=1;return e},clone:function(e){var k=new qa(6);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];return k},ta:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];return e},sv:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e},cf:function(e,k,r,x,A,C){var E=new qa(6);E[0]=e;E[1]=k;E[2]=r;E[3]=x;E[4]=A;E[5]=C;return E},set:function(e,k,r,x,A,C,E){e[0]=k;e[1]=r;e[2]=x;e[3]=A;e[4]=C;e[5]=
E;return e},pr:function(e,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4];k=k[5];var I=r*C-x*A;if(!I)return null;I=1/I;e[0]=C*I;e[1]=-x*I;e[2]=-A*I;e[3]=r*I;e[4]=(A*k-C*E)*I;e[5]=(x*E-r*k)*I;return e},fI:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:f,rotate:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=Math.sin(r);r=Math.cos(r);e[0]=x*r+C*L;e[1]=A*r+E*L;e[2]=x*-L+C*r;e[3]=A*-L+E*r;e[4]=I;e[5]=k;return e},scale:function(e,k,r){var x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=r[0];r=r[1];
e[0]=k[0]*L;e[1]=x*L;e[2]=A*r;e[3]=C*r;e[4]=E;e[5]=I;return e},translate:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=r[0];r=r[1];e[0]=x;e[1]=A;e[2]=C;e[3]=E;e[4]=x*L+C*r+I;e[5]=A*L+E*r+k;return e},IA:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=r;e[2]=-r;e[3]=k;e[4]=0;e[5]=0;return e},jI:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=k[1];e[4]=0;e[5]=0;return e},kI:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=k[0];e[5]=k[1];return e},ml:function(e){return"mat2d("+
e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},iI:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];e[4]=k[4]+r[4];e[5]=k[5]+r[5];return e},nl:c,vI:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;e[4]=k[4]*r;e[5]=k[5]*r;return e},wI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;e[3]=k[3]+r[3]*x;e[4]=k[4]+r[4]*x;e[5]=k[5]+r[5]*x;return e},Ii:function(e,k){return e[0]===
k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]},Nc:function(e,k){var r=e[0],x=e[1],A=e[2],C=e[3],E=e[4];e=e[5];var I=k[0],L=k[1],O=k[2],S=k[3],T=k[4];k=k[5];return Math.abs(r-I)<=1E-6*Math.max(1,Math.abs(r),Math.abs(I))&&Math.abs(x-L)<=1E-6*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(E-T)<=1E-6*Math.max(1,Math.abs(E),Math.abs(T))&&Math.abs(e-k)<=1E-6*Math.max(1,
Math.abs(e),Math.abs(k))},Mm:f,sub:c}),Rb=Object.freeze({__proto__:null,create:g,Z$:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[4];e[4]=k[5];e[5]=k[6];e[6]=k[8];e[7]=k[9];e[8]=k[10];return e},clone:function(e){var k=new qa(9);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];k[8]=e[8];return k},ta:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];e[8]=k[8];return e},cf:function(e,k,r,x,A,C,E,I,L){var O=new qa(9);O[0]=
e;O[1]=k;O[2]=r;O[3]=x;O[4]=A;O[5]=C;O[6]=E;O[7]=I;O[8]=L;return O},set:function(e,k,r,x,A,C,E,I,L,O){e[0]=k;e[1]=r;e[2]=x;e[3]=A;e[4]=C;e[5]=E;e[6]=I;e[7]=L;e[8]=O;return e},sv:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},FS:function(e,k){if(e===k){var r=k[1],x=k[2],A=k[5];e[1]=k[3];e[2]=k[6];e[3]=r;e[5]=k[7];e[6]=x;e[7]=A}else e[0]=k[0],e[1]=k[3],e[2]=k[6],e[3]=k[1],e[4]=k[4],e[5]=k[7],e[6]=k[2],e[7]=k[5],e[8]=k[8];return e},pr:function(e,k){var r=k[0],x=
k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7];k=k[8];var S=k*E-I*O,T=-k*C+I*L,X=O*C-E*L,W=r*S+x*T+A*X;if(!W)return null;W=1/W;e[0]=S*W;e[1]=(-k*x+A*O)*W;e[2]=(I*x-A*E)*W;e[3]=T*W;e[4]=(k*r-A*L)*W;e[5]=(-I*r+A*C)*W;e[6]=X*W;e[7]=(-O*r+x*L)*W;e[8]=(E*r-x*C)*W;return e},RR:function(e,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7];k=k[8];e[0]=E*k-I*O;e[1]=A*O-x*k;e[2]=x*I-A*E;e[3]=I*L-C*k;e[4]=r*k-A*L;e[5]=A*C-r*I;e[6]=C*O-E*L;e[7]=x*L-r*O;e[8]=r*E-x*C;return e},fI:function(e){var k=
e[3],r=e[4],x=e[5],A=e[6],C=e[7],E=e[8];return e[0]*(E*r-x*C)+e[1]*(-E*k+x*A)+e[2]*(C*k-r*A)},multiply:n,translate:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=r[0];r=r[1];e[0]=x;e[1]=A;e[2]=C;e[3]=E;e[4]=I;e[5]=L;e[6]=T*x+r*E+O;e[7]=T*A+r*I+S;e[8]=T*C+r*L+k;return e},rotate:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=Math.sin(r);r=Math.cos(r);e[0]=r*x+T*E;e[1]=r*A+T*I;e[2]=r*C+T*L;e[3]=r*E-T*x;e[4]=r*I-T*A;e[5]=
r*L-T*C;e[6]=O;e[7]=S;e[8]=k;return e},scale:function(e,k,r){var x=r[0];r=r[1];e[0]=x*k[0];e[1]=x*k[1];e[2]=x*k[2];e[3]=r*k[3];e[4]=r*k[4];e[5]=r*k[5];e[6]=k[6];e[7]=k[7];e[8]=k[8];return e},kI:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=k[0];e[7]=k[1];e[8]=1;return e},IA:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=r;e[2]=0;e[3]=-r;e[4]=k;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},jI:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=0;e[4]=k[1];e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e},
Zja:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=0;e[3]=k[2];e[4]=k[3];e[5]=0;e[6]=k[4];e[7]=k[5];e[8]=1;return e},$$:function(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r+r,E=x+x,I=A+A;r*=C;var L=x*C;x*=E;var O=A*C,S=A*E;A*=I;C*=k;E*=k;k*=I;e[0]=1-x-A;e[3]=L-k;e[6]=O+E;e[1]=L+k;e[4]=1-r-A;e[7]=S-C;e[2]=O-E;e[5]=S+C;e[8]=1-r-x;return e},ila:function(e,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];var ua=r*I-x*E,pa=r*L-A*E,
sa=r*O-C*E,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*k-W*fa;var Ga=T*aa-X*da;T=T*k-W*da;X=X*k-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;e[0]=(I*X-L*T+O*Ga)*W;e[1]=(L*S-E*X-O*Fa)*W;e[2]=(E*T-I*S+O*Ea)*W;e[3]=(A*T-x*X-C*Ga)*W;e[4]=(r*X-A*S+C*Fa)*W;e[5]=(x*S-r*T-C*Ea)*W;e[6]=(da*Da-aa*ra+k*ta)*W;e[7]=(aa*sa-fa*Da-k*pa)*W;e[8]=(fa*ra-da*sa+k*ua)*W;return e},tS:function(e,k,r){e[0]=2/k;e[1]=0;e[2]=0;e[3]=0;e[4]=-2/r;e[5]=0;e[6]=-1;e[7]=1;e[8]=1;return e},ml:function(e){return"mat3("+
e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},iI:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];e[4]=k[4]+r[4];e[5]=k[5]+r[5];e[6]=k[6]+r[6];e[7]=k[7]+r[7];e[8]=k[8]+r[8];return e},nl:h,vI:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;e[4]=k[4]*r;e[5]=k[5]*r;e[6]=k[6]*r;e[7]=k[7]*r;e[8]=k[8]*r;return e},wI:function(e,k,r,x){e[0]=
k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;e[3]=k[3]+r[3]*x;e[4]=k[4]+r[4]*x;e[5]=k[5]+r[5]*x;e[6]=k[6]+r[6]*x;e[7]=k[7]+r[7]*x;e[8]=k[8]+r[8]*x;return e},Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]&&e[8]===k[8]},Nc:function(e,k){var r=e[0],x=e[1],A=e[2],C=e[3],E=e[4],I=e[5],L=e[6],O=e[7];e=e[8];var S=k[0],T=k[1],X=k[2],W=k[3],fa=k[4],da=k[5],aa=k[6],ua=k[7];k=k[8];return Math.abs(r-S)<=1E-6*Math.max(1,Math.abs(r),
Math.abs(S))&&Math.abs(x-T)<=1E-6*Math.max(1,Math.abs(x),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-fa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(fa))&&Math.abs(I-da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ua)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ua))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},Mm:n,sub:h}),Sb=Object.freeze({__proto__:null,
create:function(){var e=new qa(16);qa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0);e[0]=1;e[5]=1;e[10]=1;e[15]=1;return e},clone:function(e){var k=new qa(16);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];k[8]=e[8];k[9]=e[9];k[10]=e[10];k[11]=e[11];k[12]=e[12];k[13]=e[13];k[14]=e[14];k[15]=e[15];return k},ta:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=k[6];e[7]=k[7];e[8]=
k[8];e[9]=k[9];e[10]=k[10];e[11]=k[11];e[12]=k[12];e[13]=k[13];e[14]=k[14];e[15]=k[15];return e},cf:function(e,k,r,x,A,C,E,I,L,O,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=e;aa[1]=k;aa[2]=r;aa[3]=x;aa[4]=A;aa[5]=C;aa[6]=E;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(e,k,r,x,A,C,E,I,L,O,S,T,X,W,fa,da,aa){e[0]=k;e[1]=r;e[2]=x;e[3]=A;e[4]=C;e[5]=E;e[6]=I;e[7]=L;e[8]=O;e[9]=S;e[10]=T;e[11]=X;e[12]=W;e[13]=fa;e[14]=da;e[15]=aa;return e},sv:l,FS:function(e,
k){if(e===k){var r=k[1],x=k[2],A=k[3],C=k[6],E=k[7],I=k[11];e[1]=k[4];e[2]=k[8];e[3]=k[12];e[4]=r;e[6]=k[9];e[7]=k[13];e[8]=x;e[9]=C;e[11]=k[14];e[12]=A;e[13]=E;e[14]=I}else e[0]=k[0],e[1]=k[4],e[2]=k[8],e[3]=k[12],e[4]=k[1],e[5]=k[5],e[6]=k[9],e[7]=k[13],e[8]=k[2],e[9]=k[6],e[10]=k[10],e[11]=k[14],e[12]=k[3],e[13]=k[7],e[14]=k[11],e[15]=k[15];return e},pr:function(e,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];var ua=
r*I-x*E,pa=r*L-A*E,sa=r*O-C*E,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*k-W*fa,Ia=T*aa-X*da,Qa=T*k-W*da,Ra=X*k-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;e[0]=(I*Ra-L*Qa+O*Ia)*Aa;e[1]=(A*Qa-x*Ra-C*Ia)*Aa;e[2]=(da*Da-aa*ra+k*ta)*Aa;e[3]=(X*ra-T*Da-W*ta)*Aa;e[4]=(L*Ga-E*Ra-O*Fa)*Aa;e[5]=(r*Ra-A*Ga+C*Fa)*Aa;e[6]=(aa*sa-fa*Da-k*pa)*Aa;e[7]=(S*Da-X*sa+W*pa)*Aa;e[8]=(E*Qa-I*Ga+O*Ea)*Aa;e[9]=(x*Ga-r*Qa-C*Ea)*Aa;e[10]=(fa*ra-da*sa+k*ua)*Aa;e[11]=(T*sa-S*ra-
W*ua)*Aa;e[12]=(I*Fa-E*Ia-L*Ea)*Aa;e[13]=(r*Ia-x*Fa+A*Ea)*Aa;e[14]=(da*pa-fa*ta-aa*ua)*Aa;e[15]=(S*ta-T*pa+X*ua)*Aa;return e},RR:function(e,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];e[0]=I*(X*k-W*aa)-T*(L*k-O*aa)+da*(L*W-O*X);e[1]=-(x*(X*k-W*aa)-T*(A*k-C*aa)+da*(A*W-C*X));e[2]=x*(L*k-O*aa)-I*(A*k-C*aa)+da*(A*O-C*L);e[3]=-(x*(L*W-O*X)-I*(A*W-C*X)+T*(A*O-C*L));e[4]=-(E*(X*k-W*aa)-S*(L*k-O*aa)+fa*(L*W-O*X));e[5]=r*
(X*k-W*aa)-S*(A*k-C*aa)+fa*(A*W-C*X);e[6]=-(r*(L*k-O*aa)-E*(A*k-C*aa)+fa*(A*O-C*L));e[7]=r*(L*W-O*X)-E*(A*W-C*X)+S*(A*O-C*L);e[8]=E*(T*k-W*da)-S*(I*k-O*da)+fa*(I*W-O*T);e[9]=-(r*(T*k-W*da)-S*(x*k-C*da)+fa*(x*W-C*T));e[10]=r*(I*k-O*da)-E*(x*k-C*da)+fa*(x*O-C*I);e[11]=-(r*(I*W-O*T)-E*(x*W-C*T)+S*(x*O-C*I));e[12]=-(E*(T*aa-X*da)-S*(I*aa-L*da)+fa*(I*X-L*T));e[13]=r*(T*aa-X*da)-S*(x*aa-A*da)+fa*(x*X-A*T);e[14]=-(r*(I*aa-L*da)-E*(x*aa-A*da)+fa*(x*L-A*I));e[15]=r*(I*X-L*T)-E*(x*X-A*T)+S*(x*L-A*I);return e},
fI:function(e){var k=e[0],r=e[1],x=e[2],A=e[3],C=e[4],E=e[5],I=e[6],L=e[7],O=e[8],S=e[9],T=e[10],X=e[11],W=e[12],fa=e[13],da=e[14];e=e[15];return(k*E-r*C)*(T*e-X*da)-(k*I-x*C)*(S*e-X*fa)+(k*L-A*C)*(S*da-T*fa)+(r*I-x*E)*(O*e-X*W)-(r*L-A*E)*(O*da-T*W)+(x*L-A*I)*(O*fa-S*W)},multiply:m,translate:function(e,k,r){var x=r[0],A=r[1];r=r[2];if(k===e)e[12]=k[0]*x+k[4]*A+k[8]*r+k[12],e[13]=k[1]*x+k[5]*A+k[9]*r+k[13],e[14]=k[2]*x+k[6]*A+k[10]*r+k[14],e[15]=k[3]*x+k[7]*A+k[11]*r+k[15];else{var C=k[0];var E=k[1];
var I=k[2];var L=k[3];var O=k[4];var S=k[5];var T=k[6];var X=k[7];var W=k[8];var fa=k[9];var da=k[10];var aa=k[11];e[0]=C;e[1]=E;e[2]=I;e[3]=L;e[4]=O;e[5]=S;e[6]=T;e[7]=X;e[8]=W;e[9]=fa;e[10]=da;e[11]=aa;e[12]=C*x+O*A+W*r+k[12];e[13]=E*x+S*A+fa*r+k[13];e[14]=I*x+T*A+da*r+k[14];e[15]=L*x+X*A+aa*r+k[15]}return e},scale:function(e,k,r){var x=r[0],A=r[1];r=r[2];e[0]=k[0]*x;e[1]=k[1]*x;e[2]=k[2]*x;e[3]=k[3]*x;e[4]=k[4]*A;e[5]=k[5]*A;e[6]=k[6]*A;e[7]=k[7]*A;e[8]=k[8]*r;e[9]=k[9]*r;e[10]=k[10]*r;e[11]=k[11]*
r;e[12]=k[12];e[13]=k[13];e[14]=k[14];e[15]=k[15];return e},rotate:function(e,k,r,x){var A=x[0],C=x[1];x=x[2];var E=Math.hypot(A,C,x);if(1E-6>E)return null;E=1/E;A*=E;C*=E;x*=E;var I=Math.sin(r);var L=Math.cos(r);var O=1-L;r=k[0];E=k[1];var S=k[2];var T=k[3];var X=k[4];var W=k[5];var fa=k[6];var da=k[7];var aa=k[8];var ua=k[9];var pa=k[10];var sa=k[11];var ta=A*A*O+L;var ra=C*A*O+x*I;var Da=x*A*O-C*I;var Ea=A*C*O-x*I;var Fa=C*C*O+L;var Ga=x*C*O+A*I;var Ia=A*x*O+C*I;A=C*x*O-A*I;C=x*x*O+L;e[0]=r*ta+
X*ra+aa*Da;e[1]=E*ta+W*ra+ua*Da;e[2]=S*ta+fa*ra+pa*Da;e[3]=T*ta+da*ra+sa*Da;e[4]=r*Ea+X*Fa+aa*Ga;e[5]=E*Ea+W*Fa+ua*Ga;e[6]=S*Ea+fa*Fa+pa*Ga;e[7]=T*Ea+da*Fa+sa*Ga;e[8]=r*Ia+X*A+aa*C;e[9]=E*Ia+W*A+ua*C;e[10]=S*Ia+fa*A+pa*C;e[11]=T*Ia+da*A+sa*C;k!==e&&(e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);return e},JI:function(e,k,r){var x=Math.sin(r);r=Math.cos(r);var A=k[4],C=k[5],E=k[6],I=k[7],L=k[8],O=k[9],S=k[10],T=k[11];k!==e&&(e[0]=k[0],e[1]=k[1],e[2]=k[2],e[3]=k[3],e[12]=k[12],e[13]=k[13],e[14]=k[14],
e[15]=k[15]);e[4]=A*r+L*x;e[5]=C*r+O*x;e[6]=E*r+S*x;e[7]=I*r+T*x;e[8]=L*r-A*x;e[9]=O*r-C*x;e[10]=S*r-E*x;e[11]=T*r-I*x;return e},KI:function(e,k,r){var x=Math.sin(r);r=Math.cos(r);var A=k[0],C=k[1],E=k[2],I=k[3],L=k[8],O=k[9],S=k[10],T=k[11];k!==e&&(e[4]=k[4],e[5]=k[5],e[6]=k[6],e[7]=k[7],e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);e[0]=A*r-L*x;e[1]=C*r-O*x;e[2]=E*r-S*x;e[3]=I*r-T*x;e[8]=A*x+L*r;e[9]=C*x+O*r;e[10]=E*x+S*r;e[11]=I*x+T*r;return e},LI:function(e,k,r){var x=Math.sin(r);r=Math.cos(r);
var A=k[0],C=k[1],E=k[2],I=k[3],L=k[4],O=k[5],S=k[6],T=k[7];k!==e&&(e[8]=k[8],e[9]=k[9],e[10]=k[10],e[11]=k[11],e[12]=k[12],e[13]=k[13],e[14]=k[14],e[15]=k[15]);e[0]=A*r+L*x;e[1]=C*r+O*x;e[2]=E*r+S*x;e[3]=I*r+T*x;e[4]=L*r-A*x;e[5]=O*r-C*x;e[6]=S*r-E*x;e[7]=T*r-I*x;return e},kI:function(e,k){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=k[0];e[13]=k[1];e[14]=k[2];e[15]=1;return e},jI:function(e,k){e[0]=k[0];e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k[1];e[6]=0;
e[7]=0;e[8]=0;e[9]=0;e[10]=k[2];e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},IA:function(e,k,r){var x=r[0],A=r[1];r=r[2];var C=Math.hypot(x,A,r);if(1E-6>C)return null;C=1/C;x*=C;A*=C;r*=C;C=Math.sin(k);k=Math.cos(k);var E=1-k;e[0]=x*x*E+k;e[1]=A*x*E+r*C;e[2]=r*x*E-A*C;e[3]=0;e[4]=x*A*E-r*C;e[5]=A*A*E+k;e[6]=r*A*E+x*C;e[7]=0;e[8]=x*r*E+A*C;e[9]=A*r*E-x*C;e[10]=r*r*E+k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},eka:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=1;e[1]=0;e[2]=0;e[3]=
0;e[4]=0;e[5]=k;e[6]=r;e[7]=0;e[8]=0;e[9]=-r;e[10]=k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},fka:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=0;e[2]=-r;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=r;e[9]=0;e[10]=k;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},gka:function(e,k){var r=Math.sin(k);k=Math.cos(k);e[0]=k;e[1]=r;e[2]=0;e[3]=0;e[4]=-r;e[5]=k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},aaa:p,aka:function(e,k){var r=new qa(3),
x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=x*x+A*A+C*C+E*E;0<T?(r[0]=2*(I*E+S*x+L*C-O*A)/T,r[1]=2*(L*E+S*A+O*x-I*C)/T,r[2]=2*(O*E+S*C+I*A-L*x)/T):(r[0]=2*(I*E+S*x+L*C-O*A),r[1]=2*(L*E+S*A+O*x-I*C),r[2]=2*(O*E+S*C+I*A-L*x));p(e,k,r);return e},daa:u,rka:q,qka:v,bka:function(e,k,r,x){var A=k[0],C=k[1],E=k[2],I=k[3],L=A+A,O=C+C,S=E+E;k=A*L;var T=A*O;A*=S;var X=C*O;C*=S;E*=S;L*=I;O*=I;I*=S;S=x[0];var W=x[1];x=x[2];e[0]=(1-(X+E))*S;e[1]=(T+I)*S;e[2]=(A-O)*S;e[3]=0;e[4]=(T-I)*W;e[5]=(1-
(k+E))*W;e[6]=(C+L)*W;e[7]=0;e[8]=(A+O)*x;e[9]=(C-L)*x;e[10]=(1-(k+X))*x;e[11]=0;e[12]=r[0];e[13]=r[1];e[14]=r[2];e[15]=1;return e},cka:function(e,k,r,x,A){var C=k[0],E=k[1],I=k[2],L=k[3],O=C+C,S=E+E,T=I+I;k=C*O;var X=C*S,W=C*T;C=E*S;E*=T;var fa=I*T;I=L*O;S*=L;var da=L*T,aa=x[0],ua=x[1];T=x[2];x=A[0];L=A[1];A=A[2];O=(1-(C+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(k+fa))*ua;ua*=E+I;W=(W+S)*T;E=(E-I)*T;k=(1-(k+C))*T;e[0]=O;e[1]=pa;e[2]=aa;e[3]=0;e[4]=X;e[5]=fa;e[6]=ua;e[7]=0;e[8]=W;e[9]=E;
e[10]=k;e[11]=0;e[12]=r[0]+x-(O*x+X*L+W*A);e[13]=r[1]+L-(pa*x+fa*L+E*A);e[14]=r[2]+A-(aa*x+ua*L+k*A);e[15]=1;return e},$$:function(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r+r,E=x+x,I=A+A;r*=C;var L=x*C;x*=E;var O=A*C,S=A*E;A*=I;C*=k;E*=k;k*=I;e[0]=1-x-A;e[1]=L+k;e[2]=O-E;e[3]=0;e[4]=L-k;e[5]=1-r-A;e[6]=S+C;e[7]=0;e[8]=O+E;e[9]=S-C;e[10]=1-r-x;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e},baa:function(e,k,r,x,A,C,E){var I=1/(r-k),L=1/(A-x),O=1/(C-E);e[0]=2*C*I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=
2*C*L;e[6]=0;e[7]=0;e[8]=(r+k)*I;e[9]=(A+x)*L;e[10]=(E+C)*O;e[11]=-1;e[12]=0;e[13]=0;e[14]=E*C*2*O;e[15]=0;return e},perspective:function(e,k,r,x,A){k=1/Math.tan(k/2);e[0]=k/r;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=A&&Infinity!==A?(r=1/(x-A),e[10]=(A+x)*r,e[14]=2*A*x*r):(e[10]=-1,e[14]=-2*x);return e},qla:function(e,k,r,x){var A=Math.tan(k.pma*Math.PI/180),C=Math.tan(k.Mja*Math.PI/180),E=Math.tan(k.Xka*Math.PI/180);k=Math.tan(k.Lla*Math.PI/
180);var I=2/(E+k),L=2/(A+C);e[0]=I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=L;e[6]=0;e[7]=0;e[8]=-((E-k)*I*.5);e[9]=(A-C)*L*.5;e[10]=x/(r-x);e[11]=-1;e[12]=0;e[13]=0;e[14]=x*r/(r-x);e[15]=0;return e},Laa:function(e,k,r,x,A,C,E){var I=1/(k-r),L=1/(x-A),O=1/(C-E);e[0]=-2*I;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=-2*L;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=2*O;e[11]=0;e[12]=(k+r)*I;e[13]=(A+x)*L;e[14]=(E+C)*O;e[15]=1;return e},Aaa:function(e,k,r,x){var A=k[0],C=k[1];k=k[2];var E=x[0];var I=x[1];var L=x[2];var O=r[0];x=
r[1];var S=r[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(k-S))return l(e);r=A-O;x=C-x;O=k-S;var T=1/Math.hypot(r,x,O);r*=T;x*=T;O*=T;S=I*O-L*x;L=L*r-E*O;E=E*x-I*r;(T=Math.hypot(S,L,E))?(T=1/T,S*=T,L*=T,E*=T):E=L=S=0;I=x*E-O*L;var X=O*S-r*E;var W=r*L-x*S;(T=Math.hypot(I,X,W))?(T=1/T,I*=T,X*=T,W*=T):W=X=I=0;e[0]=S;e[1]=I;e[2]=r;e[3]=0;e[4]=L;e[5]=X;e[6]=x;e[7]=0;e[8]=E;e[9]=W;e[10]=O;e[11]=0;e[12]=-(S*A+L*C+E*k);e[13]=-(I*A+X*C+W*k);e[14]=-(r*A+x*C+O*k);e[15]=1;return e},hma:function(e,
k,r,x){var A=k[0],C=k[1];k=k[2];var E=x[0],I=x[1],L=x[2];x=A-r[0];var O=C-r[1];r=k-r[2];var S=x*x+O*O+r*r;0<S&&(S=1/Math.sqrt(S),x*=S,O*=S,r*=S);var T=I*r-L*O;L=L*x-E*r;E=E*O-I*x;S=T*T+L*L+E*E;0<S&&(S=1/Math.sqrt(S),T*=S,L*=S,E*=S);e[0]=T;e[1]=L;e[2]=E;e[3]=0;e[4]=O*E-r*L;e[5]=r*T-x*E;e[6]=x*L-O*T;e[7]=0;e[8]=x;e[9]=O;e[10]=r;e[11]=0;e[12]=A;e[13]=C;e[14]=k;e[15]=1;return e},ml:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+
", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},iI:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];e[4]=k[4]+r[4];e[5]=k[5]+r[5];e[6]=k[6]+r[6];e[7]=k[7]+r[7];e[8]=k[8]+r[8];e[9]=k[9]+r[9];e[10]=k[10]+r[10];e[11]=k[11]+r[11];e[12]=k[12]+r[12];e[13]=k[13]+r[13];e[14]=k[14]+r[14];e[15]=k[15]+r[15];return e},nl:t,vI:function(e,k,
r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;e[4]=k[4]*r;e[5]=k[5]*r;e[6]=k[6]*r;e[7]=k[7]*r;e[8]=k[8]*r;e[9]=k[9]*r;e[10]=k[10]*r;e[11]=k[11]*r;e[12]=k[12]*r;e[13]=k[13]*r;e[14]=k[14]*r;e[15]=k[15]*r;return e},wI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;e[3]=k[3]+r[3]*x;e[4]=k[4]+r[4]*x;e[5]=k[5]+r[5]*x;e[6]=k[6]+r[6]*x;e[7]=k[7]+r[7]*x;e[8]=k[8]+r[8]*x;e[9]=k[9]+r[9]*x;e[10]=k[10]+r[10]*x;e[11]=k[11]+r[11]*x;e[12]=k[12]+r[12]*x;e[13]=k[13]+r[13]*x;e[14]=k[14]+r[14]*
x;e[15]=k[15]+r[15]*x;return e},Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]&&e[8]===k[8]&&e[9]===k[9]&&e[10]===k[10]&&e[11]===k[11]&&e[12]===k[12]&&e[13]===k[13]&&e[14]===k[14]&&e[15]===k[15]},Nc:function(e,k){var r=e[0],x=e[1],A=e[2],C=e[3],E=e[4],I=e[5],L=e[6],O=e[7],S=e[8],T=e[9],X=e[10],W=e[11],fa=e[12],da=e[13],aa=e[14];e=e[15];var ua=k[0],pa=k[1],sa=k[2],ta=k[3],ra=k[4],Da=k[5],Ea=k[6],Fa=k[7],Ga=k[8],Ia=k[9],
Qa=k[10],Ra=k[11],Aa=k[12],Jb=k[13],Kb=k[14];k=k[15];return Math.abs(r-ua)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ua))&&Math.abs(x-pa)<=1E-6*Math.max(1,Math.abs(x),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(C-ta)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ta))&&Math.abs(E-ra)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ra))&&Math.abs(I-Da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Da))&&Math.abs(L-Ea)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(O-Fa)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},
Mm:m,sub:t}),ob=function(){var e=w();return function(k,r,x,A,C,E){r||(r=3);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)e[0]=k[x],e[1]=k[x+1],e[2]=k[x+2],C(e,e,E),k[x]=e[0],k[x+1]=e[1],k[x+2]=e[2];return k}}();ob=Object.freeze({__proto__:null,create:w,clone:function(e){var k=new qa(3);k[0]=e[0];k[1]=e[1];k[2]=e[2];return k},length:y,cf:z,ta:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];return e},set:function(e,k,r,x){e[0]=k;e[1]=r;e[2]=x;return e},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=
k[1]+r[1];e[2]=k[2]+r[2];return e},nl:F,multiply:G,fl:Q,ceil:function(e,k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);e[2]=Math.ceil(k[2]);return e},floor:function(e,k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);e[2]=Math.floor(k[2]);return e},min:function(e,k,r){e[0]=Math.min(k[0],r[0]);e[1]=Math.min(k[1],r[1]);e[2]=Math.min(k[2],r[2]);return e},max:function(e,k,r){e[0]=Math.max(k[0],r[0]);e[1]=Math.max(k[1],r[1]);e[2]=Math.max(k[2],r[2]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=
Math.round(k[1]);e[2]=Math.round(k[2]);return e},scale:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;return e},MI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;return e},pv:D,DS:H,UA:J,oS:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];e[2]=1/k[2];return e},normalize:M,Im:P,eI:R,Gd:function(e,k,r,x){var A=k[0],C=k[1];k=k[2];e[0]=A+x*(r[0]-A);e[1]=C+x*(r[1]-C);e[2]=k+x*(r[2]-k);return e},wka:function(e,k,r,x,A,C){var E=
C*C,I=E*(2*C-3)+1,L=E*(C-2)+C,O=E*(C-1);C=E*(3-2*C);e[0]=k[0]*I+r[0]*L+x[0]*O+A[0]*C;e[1]=k[1]*I+r[1]*L+x[1]*O+A[1]*C;e[2]=k[2]*I+r[2]*L+x[2]*O+A[2]*C;return e},vja:function(e,k,r,x,A,C){var E=1-C,I=E*E,L=C*C,O=I*E;I*=3*C;E*=3*L;C*=L;e[0]=k[0]*O+r[0]*I+x[0]*E+A[0]*C;e[1]=k[1]*O+r[1]*I+x[1]*E+A[1]*C;e[2]=k[2]*O+r[2]*I+x[2]*E+A[2]*C;return e},random:function(e,k){k=k||1;var r=2*Ka()*Math.PI,x=2*Ka()-1,A=Math.sqrt(1-x*x)*k;e[0]=Math.cos(r)*A;e[1]=Math.sin(r)*A;e[2]=x*k;return e},WI:function(e,k,r){var x=
k[0],A=k[1];k=k[2];var C=r[3]*x+r[7]*A+r[11]*k+r[15];C=C||1;e[0]=(r[0]*x+r[4]*A+r[8]*k+r[12])/C;e[1]=(r[1]*x+r[5]*A+r[9]*k+r[13])/C;e[2]=(r[2]*x+r[6]*A+r[10]*k+r[14])/C;return e},pba:function(e,k,r){var x=k[0],A=k[1];k=k[2];e[0]=x*r[0]+A*r[3]+k*r[6];e[1]=x*r[1]+A*r[4]+k*r[7];e[2]=x*r[2]+A*r[5]+k*r[8];return e},qba:function(e,k,r){var x=r[0],A=r[1],C=r[2],E=k[0],I=k[1];k=k[2];var L=A*k-C*I,O=C*E-x*k,S=x*I-A*E;r=2*r[3];e[0]=E+L*r+2*(A*S-C*O);e[1]=I+O*r+2*(C*L-x*S);e[2]=k+S*r+2*(x*O-A*L);return e},JI:function(e,
k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=k[2]-r[2];C[0]=A[0];C[1]=A[1]*Math.cos(x)-A[2]*Math.sin(x);C[2]=A[1]*Math.sin(x)+A[2]*Math.cos(x);e[0]=C[0]+r[0];e[1]=C[1]+r[1];e[2]=C[2]+r[2];return e},KI:function(e,k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=k[2]-r[2];C[0]=A[2]*Math.sin(x)+A[0]*Math.cos(x);C[1]=A[1];C[2]=A[2]*Math.cos(x)-A[0]*Math.sin(x);e[0]=C[0]+r[0];e[1]=C[1]+r[1];e[2]=C[2]+r[2];return e},LI:function(e,k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=
k[2]-r[2];C[0]=A[0]*Math.cos(x)-A[1]*Math.sin(x);C[1]=A[0]*Math.sin(x)+A[1]*Math.cos(x);C[2]=A[2];e[0]=C[0]+r[0];e[1]=C[1]+r[1];e[2]=C[2]+r[2];return e},angle:function(e,k){var r=e[0],x=e[1],A=e[2],C=k[0],E=k[1],I=k[2];e=(r=Math.sqrt(r*r+x*x+A*A)*Math.sqrt(C*C+E*E+I*I))&&P(e,k)/r;return Math.acos(Math.min(Math.max(e,-1),1))},OS:function(e){e[0]=0;e[1]=0;e[2]=0;return e},ml:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]},Nc:function(e,
k){var r=e[0],x=e[1];e=e[2];var A=k[0],C=k[1];k=k[2];return Math.abs(r-A)<=1E-6*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},sub:F,Mm:G,bS:Q,$R:D,CS:H,vv:y,TA:J,forEach:ob});var pb=function(){var e=V();return function(k,r,x,A,C,E){r||(r=4);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)e[0]=k[x],e[1]=k[x+1],e[2]=k[x+2],e[3]=k[x+3],C(e,e,E),k[x]=e[0],k[x+1]=e[1],k[x+2]=e[2],k[x+3]=
e[3];return k}}();pb=Object.freeze({__proto__:null,create:V,clone:Z,cf:ca,ta:Y,set:ha,add:ka,nl:za,multiply:Oa,fl:ab,ceil:function(e,k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);e[2]=Math.ceil(k[2]);e[3]=Math.ceil(k[3]);return e},floor:function(e,k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);e[2]=Math.floor(k[2]);e[3]=Math.floor(k[3]);return e},min:function(e,k,r){e[0]=Math.min(k[0],r[0]);e[1]=Math.min(k[1],r[1]);e[2]=Math.min(k[2],r[2]);e[3]=Math.min(k[3],r[3]);return e},max:function(e,k,r){e[0]=
Math.max(k[0],r[0]);e[1]=Math.max(k[1],r[1]);e[2]=Math.max(k[2],r[2]);e[3]=Math.max(k[3],r[3]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=Math.round(k[1]);e[2]=Math.round(k[2]);e[3]=Math.round(k[3]);return e},scale:Ua,MI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;e[2]=k[2]+r[2]*x;e[3]=k[3]+r[3]*x;return e},pv:bb,DS:mb,length:Va,UA:Pa,oS:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=-k[3];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];e[2]=1/k[2];e[3]=1/k[3];return e},
normalize:fb,Im:cb,eI:function(e,k,r,x){var A=r[0]*x[1]-r[1]*x[0],C=r[0]*x[2]-r[2]*x[0],E=r[0]*x[3]-r[3]*x[0],I=r[1]*x[2]-r[2]*x[1],L=r[1]*x[3]-r[3]*x[1];r=r[2]*x[3]-r[3]*x[2];x=k[0];var O=k[1],S=k[2];k=k[3];e[0]=O*r-S*L+k*I;e[1]=-(x*r)+S*E-k*C;e[2]=x*L-O*E+k*A;e[3]=-(x*I)+O*C-S*A;return e},Gd:ub,random:function(e,k){k=k||1;do{var r=2*Ka()-1;var x=2*Ka()-1;var A=r*r+x*x}while(1<=A);do{var C=2*Ka()-1;var E=2*Ka()-1;var I=C*C+E*E}while(1<=I);A=Math.sqrt((1-A)/I);e[0]=k*r;e[1]=k*x;e[2]=k*C*A;e[3]=k*
E*A;return e},WI:function(e,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];e[0]=r[0]*x+r[4]*A+r[8]*C+r[12]*k;e[1]=r[1]*x+r[5]*A+r[9]*C+r[13]*k;e[2]=r[2]*x+r[6]*A+r[10]*C+r[14]*k;e[3]=r[3]*x+r[7]*A+r[11]*C+r[15]*k;return e},qba:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=r[0],I=r[1],L=r[2];r=r[3];var O=r*x+I*C-L*A,S=r*A+L*x-E*C,T=r*C+E*A-I*x;x=-E*x-I*A-L*C;e[0]=O*r+x*-E+S*-L-T*-I;e[1]=S*r+x*-I+T*-E-O*-L;e[2]=T*r+x*-L+O*-I-S*-E;e[3]=k[3];return e},OS:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=0;return e},ml:function(e){return"vec4("+
e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},Ii:vb,Nc:wb,sub:za,Mm:Oa,bS:ab,$R:bb,CS:mb,vv:Va,TA:Pa,forEach:pb});var qb=function(){var e=w(),k=z(1,0,0),r=z(0,1,0);return function(x,A,C){var E=P(A,C);if(-.999999>E)return R(e,k,A),1E-6>y(e)&&R(e,r,A),M(e,e),xb(x,e,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;R(e,A,C);x[0]=e[0];x[1]=e[1];x[2]=e[2];x[3]=1+E;return fb(x,x)}}(),rb=function(){var e=gb(),k=gb();return function(r,x,A,C,E,I){hb(e,x,E,I);hb(k,A,C,I);hb(r,e,k,2*I*(1-I));return r}}(),
db=function(){var e=g();return function(k,r,x,A){e[0]=x[0];e[3]=x[1];e[6]=x[2];e[1]=A[0];e[4]=A[1];e[7]=A[2];e[2]=-r[0];e[5]=-r[1];e[8]=-r[2];return fb(k,Eb(k,e))}}();qb=Object.freeze({__proto__:null,create:gb,sv:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=1;return e},Zla:xb,nka:function(e,k){var r=2*Math.acos(k[3]),x=Math.sin(r/2);1E-6<x?(e[0]=k[0]/x,e[1]=k[1]/x,e[2]=k[2]/x):(e[0]=1,e[1]=0,e[2]=0);return r},lka:function(e,k){e=cb(e,k);return Math.acos(2*e*e-1)},multiply:yb,JI:zb,KI:Ab,LI:Bb,wja:function(e,
k){var r=k[0],x=k[1];k=k[2];e[0]=r;e[1]=x;e[2]=k;e[3]=Math.sqrt(Math.abs(1-r*r-x*x-k*k));return e},exp:Cb,zaa:Db,pow:function(e,k,r){Db(e,k);Ua(e,e,r);Cb(e,e);return e},dma:hb,random:function(e){var k=Ka(),r=Ka(),x=Ka(),A=Math.sqrt(1-k);k=Math.sqrt(k);e[0]=A*Math.sin(2*Math.PI*r);e[1]=A*Math.cos(2*Math.PI*r);e[2]=k*Math.sin(2*Math.PI*x);e[3]=k*Math.cos(2*Math.PI*x);return e},pr:function(e,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*r+x*x+A*A+k*k;C=C?1/C:0;e[0]=-r*C;e[1]=-x*C;e[2]=-A*C;e[3]=k*C;return e},
N$:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=k[3];return e},$ja:Eb,Yja:function(e,k,r,x){var A=.5*Math.PI/180;k*=A;r*=A;x*=A;A=Math.sin(k);k=Math.cos(k);var C=Math.sin(r);r=Math.cos(r);var E=Math.sin(x);x=Math.cos(x);e[0]=A*r*x-k*C*E;e[1]=k*C*x+A*r*E;e[2]=k*r*E-A*C*x;e[3]=k*r*x+A*C*E;return e},ml:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},clone:Z,cf:ca,ta:Y,set:ha,add:ka,Mm:yb,scale:Ua,Im:cb,Gd:ub,length:Va,vv:Va,UA:Pa,TA:Pa,normalize:fb,Ii:vb,Nc:wb,Pla:qb,ema:rb,
Yla:db});rb=Object.freeze({__proto__:null,create:function(){var e=new qa(8);qa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0);e[3]=1;return e},clone:function(e){var k=new qa(8);k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4];k[5]=e[5];k[6]=e[6];k[7]=e[7];return k},cf:function(e,k,r,x,A,C,E,I){var L=new qa(8);L[0]=e;L[1]=k;L[2]=r;L[3]=x;L[4]=A;L[5]=C;L[6]=E;L[7]=I;return L},dka:function(e,k,r,x,A,C,E){var I=new qa(8);I[0]=e;I[1]=k;I[2]=r;I[3]=x;A*=.5;C*=.5;E*=.5;I[4]=A*x+C*r-E*
k;I[5]=C*x+E*e-A*r;I[6]=E*x+A*k-C*e;I[7]=-A*e-C*k-E*r;return I},aaa:Fb,kI:function(e,k){e[0]=0;e[1]=0;e[2]=0;e[3]=1;e[4]=.5*k[0];e[5]=.5*k[1];e[6]=.5*k[2];e[7]=0;return e},IA:function(e,k){e[0]=k[0];e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=0;e[5]=0;e[6]=0;e[7]=0;return e},Z$:function(e,k){var r=gb();v(r,k);var x=new qa(3);u(x,k);Fb(e,r,x);return e},ta:Gb,sv:function(e){e[0]=0;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;e[6]=0;e[7]=0;return e},set:function(e,k,r,x,A,C,E,I,L){e[0]=k;e[1]=r;e[2]=x;e[3]=A;e[4]=C;e[5]=
E;e[6]=I;e[7]=L;return e},pka:Y,oka:function(e,k){e[0]=k[4];e[1]=k[5];e[2]=k[6];e[3]=k[7];return e},bma:Y,$la:function(e,k){e[4]=k[0];e[5]=k[1];e[6]=k[2];e[7]=k[3];return e},daa:function(e,k){var r=k[4],x=k[5],A=k[6],C=k[7],E=-k[0],I=-k[1],L=-k[2];k=k[3];e[0]=2*(r*k+C*E+x*L-A*I);e[1]=2*(x*k+C*I+A*E-r*L);e[2]=2*(A*k+C*L+r*I-x*E);return e},translate:function(e,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=.5*r[0],L=.5*r[1];r=.5*r[2];var O=k[4],S=k[5],T=k[6];k=k[7];e[0]=x;e[1]=A;e[2]=C;e[3]=E;e[4]=E*I+A*r-
C*L+O;e[5]=E*L+C*I-x*r+S;e[6]=E*r+x*L-A*I+T;e[7]=-x*I-A*L-C*r+k;return e},JI:function(e,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-I*x-L*A-O*C;zb(e,k,r);x=e[0];A=e[1];C=e[2];E=e[3];e[4]=T*E+I*x+X*C-W*A;e[5]=X*E+I*A+W*x-T*C;e[6]=W*E+I*C+T*A-X*x;e[7]=I*E-T*x-X*A-W*C;return e},KI:function(e,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-
I*x-L*A-O*C;Ab(e,k,r);x=e[0];A=e[1];C=e[2];E=e[3];e[4]=T*E+I*x+X*C-W*A;e[5]=X*E+I*A+W*x-T*C;e[6]=W*E+I*C+T*A-X*x;e[7]=I*E-T*x-X*A-W*C;return e},LI:function(e,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-I*x-L*A-O*C;Bb(e,k,r);x=e[0];A=e[1];C=e[2];E=e[3];e[4]=T*E+I*x+X*C-W*A;e[5]=X*E+I*A+W*x-T*C;e[6]=W*E+I*C+T*A-X*x;e[7]=I*E-T*x-X*A-W*C;return e},Nla:function(e,k,r){var x=r[0],A=r[1],C=r[2];r=r[3];var E=k[0],I=k[1],L=
k[2],O=k[3];e[0]=E*r+O*x+I*C-L*A;e[1]=I*r+O*A+L*x-E*C;e[2]=L*r+O*C+E*A-I*x;e[3]=O*r-E*x-I*A-L*C;E=k[4];I=k[5];L=k[6];O=k[7];e[4]=E*r+O*x+I*C-L*A;e[5]=I*r+O*A+L*x-E*C;e[6]=L*r+O*C+E*A-I*x;e[7]=O*r-E*x-I*A-L*C;return e},Ola:function(e,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2],O=r[3];e[0]=x*O+k*E+A*L-C*I;e[1]=A*O+k*I+C*E-x*L;e[2]=C*O+k*L+x*I-A*E;e[3]=k*O-x*E-A*I-C*L;E=r[4];I=r[5];L=r[6];O=r[7];e[4]=x*O+k*E+A*L-C*I;e[5]=A*O+k*I+C*E-x*L;e[6]=C*O+k*L+x*I-A*E;e[7]=k*O-x*E-A*I-C*L;return e},
Mla:function(e,k,r,x){if(1E-6>Math.abs(x))return Gb(e,k);var A=Math.hypot(r[0],r[1],r[2]);x*=.5;var C=Math.sin(x),E=C*r[0]/A,I=C*r[1]/A;r=C*r[2]/A;x=Math.cos(x);A=k[0];C=k[1];var L=k[2],O=k[3];e[0]=A*x+O*E+C*r-L*I;e[1]=C*x+O*I+L*E-A*r;e[2]=L*x+O*r+A*I-C*E;e[3]=O*x-A*E-C*I-L*r;A=k[4];C=k[5];L=k[6];k=k[7];e[4]=A*x+k*E+C*r-L*I;e[5]=C*x+k*I+L*E-A*r;e[6]=L*x+k*r+A*I-C*E;e[7]=k*x-A*E-C*I-L*r;return e},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];e[2]=k[2]+r[2];e[3]=k[3]+r[3];e[4]=k[4]+r[4];e[5]=k[5]+
r[5];e[6]=k[6]+r[6];e[7]=k[7]+r[7];return e},multiply:Hb,Mm:Hb,scale:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;e[2]=k[2]*r;e[3]=k[3]*r;e[4]=k[4]*r;e[5]=k[5]*r;e[6]=k[6]*r;e[7]=k[7]*r;return e},Im:cb,Gd:function(e,k,r,x){var A=1-x;0>cb(k,r)&&(x=-x);e[0]=k[0]*A+r[0]*x;e[1]=k[1]*A+r[1]*x;e[2]=k[2]*A+r[2]*x;e[3]=k[3]*A+r[3]*x;e[4]=k[4]*A+r[4]*x;e[5]=k[5]*A+r[5]*x;e[6]=k[6]*A+r[6]*x;e[7]=k[7]*A+r[7]*x;return e},pr:function(e,k){var r=Pa(k);e[0]=-k[0]/r;e[1]=-k[1]/r;e[2]=-k[2]/r;e[3]=k[3]/r;e[4]=-k[4]/r;
e[5]=-k[5]/r;e[6]=-k[6]/r;e[7]=k[7]/r;return e},N$:function(e,k){e[0]=-k[0];e[1]=-k[1];e[2]=-k[2];e[3]=k[3];e[4]=-k[4];e[5]=-k[5];e[6]=-k[6];e[7]=k[7];return e},length:Va,vv:Va,UA:Pa,TA:Pa,normalize:function(e,k){var r=Pa(k);if(0<r){r=Math.sqrt(r);var x=k[0]/r,A=k[1]/r,C=k[2]/r,E=k[3]/r,I=k[4],L=k[5],O=k[6];k=k[7];var S=x*I+A*L+C*O+E*k;e[0]=x;e[1]=A;e[2]=C;e[3]=E;e[4]=(I-x*S)/r;e[5]=(L-A*S)/r;e[6]=(O-C*S)/r;e[7]=(k-E*S)/r}return e},ml:function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+
", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]&&e[2]===k[2]&&e[3]===k[3]&&e[4]===k[4]&&e[5]===k[5]&&e[6]===k[6]&&e[7]===k[7]},Nc:function(e,k){var r=e[0],x=e[1],A=e[2],C=e[3],E=e[4],I=e[5],L=e[6];e=e[7];var O=k[0],S=k[1],T=k[2],X=k[3],W=k[4],fa=k[5],da=k[6];k=k[7];return Math.abs(r-O)<=1E-6*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(E-W)<=1E-6*Math.max(1,Math.abs(E),Math.abs(W))&&Math.abs(I-fa)<=1E-6*Math.max(1,Math.abs(I),Math.abs(fa))&&Math.abs(L-da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(da))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))}});db=function(){var e=ib();return function(k,r,x,A,C,E){r||(r=2);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)e[0]=k[x],e[1]=k[x+1],C(e,e,E),k[x]=e[0],k[x+1]=e[1];return k}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(e){var k=new qa(2);k[0]=e[0];k[1]=e[1];return k},cf:function(e,k){var r=new qa(2);r[0]=e;r[1]=k;return r},ta:function(e,k){e[0]=k[0];e[1]=k[1];return e},set:function(e,k,r){e[0]=k;e[1]=r;return e},add:function(e,k,r){e[0]=k[0]+r[0];e[1]=k[1]+r[1];return e},nl:Sa,multiply:jb,fl:kb,ceil:function(e,k){e[0]=Math.ceil(k[0]);e[1]=Math.ceil(k[1]);return e},floor:function(e,k){e[0]=Math.floor(k[0]);e[1]=Math.floor(k[1]);return e},min:function(e,k,r){e[0]=Math.min(k[0],r[0]);e[1]=
Math.min(k[1],r[1]);return e},max:function(e,k,r){e[0]=Math.max(k[0],r[0]);e[1]=Math.max(k[1],r[1]);return e},round:function(e,k){e[0]=Math.round(k[0]);e[1]=Math.round(k[1]);return e},scale:function(e,k,r){e[0]=k[0]*r;e[1]=k[1]*r;return e},MI:function(e,k,r,x){e[0]=k[0]+r[0]*x;e[1]=k[1]+r[1]*x;return e},pv:Wa,DS:lb,length:Ma,UA:nb,oS:function(e,k){e[0]=-k[0];e[1]=-k[1];return e},inverse:function(e,k){e[0]=1/k[0];e[1]=1/k[1];return e},normalize:function(e,k){var r=k[0],x=k[1];r=r*r+x*x;0<r&&(r=1/Math.sqrt(r));
e[0]=k[0]*r;e[1]=k[1]*r;return e},Im:function(e,k){return e[0]*k[0]+e[1]*k[1]},eI:function(e,k,r){k=k[0]*r[1]-k[1]*r[0];e[0]=e[1]=0;e[2]=k;return e},Gd:function(e,k,r,x){var A=k[0];k=k[1];e[0]=A+x*(r[0]-A);e[1]=k+x*(r[1]-k);return e},random:function(e,k){k=k||1;var r=2*Ka()*Math.PI;e[0]=Math.cos(r)*k;e[1]=Math.sin(r)*k;return e},mma:function(e,k,r){var x=k[0];k=k[1];e[0]=r[0]*x+r[2]*k;e[1]=r[1]*x+r[3]*k;return e},nma:function(e,k,r){var x=k[0];k=k[1];e[0]=r[0]*x+r[2]*k+r[4];e[1]=r[1]*x+r[3]*k+r[5];
return e},pba:function(e,k,r){var x=k[0];k=k[1];e[0]=r[0]*x+r[3]*k+r[6];e[1]=r[1]*x+r[4]*k+r[7];return e},WI:function(e,k,r){var x=k[0];k=k[1];e[0]=r[0]*x+r[4]*k+r[12];e[1]=r[1]*x+r[5]*k+r[13];return e},rotate:function(e,k,r,x){var A=k[0]-r[0];k=k[1]-r[1];var C=Math.sin(x);x=Math.cos(x);e[0]=A*x-k*C+r[0];e[1]=A*C+k*x+r[1];return e},angle:function(e,k){var r=e[0];e=e[1];var x=k[0];k=k[1];var A=Math.sqrt(r*r+e*e)*Math.sqrt(x*x+k*k);return Math.acos(Math.min(Math.max(A&&(r*x+e*k)/A,-1),1))},OS:function(e){e[0]=
0;e[1]=0;return e},ml:function(e){return"vec2("+e[0]+", "+e[1]+")"},Ii:function(e,k){return e[0]===k[0]&&e[1]===k[1]},Nc:function(e,k){var r=e[0];e=e[1];var x=k[0];k=k[1];return Math.abs(r-x)<=1E-6*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(e-k)<=1E-6*Math.max(1,Math.abs(e),Math.abs(k))},vv:Ma,sub:Sa,Mm:jb,bS:kb,$R:Wa,CS:lb,TA:nb,forEach:db});d.Mj=Ob;d.ala=Pb;d.bla=Qb;d.cla=Rb;d.Lm=Sb;d.wla=qb;d.xla=rb;d.uma=db;d.YA=ob;d.Iv=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.oja?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.Mj={}));
{"use strict";function d(t,w,y,z){var F=w[0]-t[0];w=w[1]-t[1];var G=z[0]-y[0],Q=z[1]-y[1];if(0===G*w-Q*F)return!1;z=(F*(y[1]-t[1])+w*(t[0]-y[0]))/(G*w-Q*F);t=(G*(t[1]-y[1])+Q*(y[0]-t[0]))/(Q*F-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,w,y){return(w[0]-t[0])*(y[1]-t[1])-(y[0]-t[0])*(w[1]-t[1])}function b(t,w,y){return 0<a(t,w,y)}function f(t,w,y){return 0<=a(t,w,y)}function c(t,w,y){return 0>=a(t,w,y)}var Ya=[],Za=[];function g(t,w){var y=w[0]-t[0];t=w[1]-t[1];return y*y+t*t}function n(t,w){var y=
t.length;return t[0>w?w%y+y:w%y]}function h(t,w,y,z){for(;y<z;y++)t.push(w[y])}function l(t,w){var y=n(t,w-1),z=n(t,w);t=n(t,w+1);return 0>a(y,z,t)}var $a=[],sb=[];function m(t,w,y,z){z=z||[];z.length=0;if(w<y)for(var F=w;F<=y;F++)z.push(t[F]);else{for(F=0;F<=y;F++)z.push(t[F]);for(F=w;F<t.length;F++)z.push(t[F])}return z}function p(t){for(var w=[],y,z,F=[],G=Number.MAX_VALUE,Q=0;Q<t.length;++Q)if(l(t,Q))for(var D=0;D<t.length;++D){a:{z=t;var H=Q,J=D;if(f(n(z,H+1),n(z,H),n(z,J))&&c(n(z,H-1),n(z,H),
n(z,J)))y=!1;else{y=g(n(z,H),n(z,J));for(var M=0;M!==z.length;++M)if((M+1)%z.length!==H&&M!==H&&f(n(z,H),n(z,J),n(z,M+1))&&c(n(z,H),n(z,J),n(z,M))){$a[0]=n(z,H);$a[1]=n(z,J);sb[0]=n(z,M);sb[1]=n(z,M+1);var P=[0,0];var R=$a[1][1]-$a[0][1];var V=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+V*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*V;0>=Math.abs(ka-0)||(P[0]=(Y*Z-V*ha)/ka,P[1]=(R*ha-ca*Z)/ka);ka=P;if(g(n(z,H),ka)<y){y=!1;break a}}y=!0}}if(y){y=p(m(t,
Q,D,F));z=p(m(t,D,Q,F));for(H=0;H<z.length;H++)y.push(z[H]);y.length<G&&(w=y,G=y.length,w.push([n(t,Q),n(t,D)]))}}return w}function u(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var y=0;y<w.length;y++)for(var z=w[y],F=0;F<t.length;F++){var G=u(t[F],z);if(G){t.splice(F,1);t.push(G[0],G[1]);break}}return t}z=w;y=t.indexOf(z[0]);F=t.indexOf(z[1]);return-1!==y&&-1!==F?[m(t,y,F),m(t,F,y)]:!1}function q(t,w,y,
z,F){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var Q=z[1]-y[1];z=y[0]-z[0];y=Q*y[0]+z*y[1];var D=G*z-Q*w;return Math.abs(D-0)<=(F||0)?[0,0]:[(z*t-w*y)/D,(G*y-Q*t)/D]}function v(t,w,y,z,F,G,Q){G=G||100;Q=Q||0;F=F||25;w="undefined"!==typeof w?w:[];y=y||[];z=z||[];var D=[0,0],H=[0,0],J=[0,0],M,P=0,R=0,V=0,Z=[],ca=[];if(3>t.length)return w;Q++;if(Q>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){y.push(t[Y]);var ha=M=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(b(n(t,Y-1),n(t,Y),n(t,ka))&&c(n(t,Y-1),n(t,Y),n(t,ka-1))){J=q(n(t,Y-1),n(t,Y),n(t,ka),n(t,ka-1));var za=n(t,Y+1);var Oa=n(t,Y);0>a(za,Oa,J)&&(za=g(t[Y],J),za<M&&(M=za,H=J,R=ka))}b(n(t,Y+1),n(t,Y),n(t,ka+1))&&c(n(t,Y+1),n(t,Y),n(t,ka))&&(J=q(n(t,Y+1),n(t,Y),n(t,ka),n(t,ka+1)),b(n(t,Y-1),n(t,Y),J)&&(za=g(t[Y],J),za<ha&&(ha=za,D=J,P=ka)))}if(R===(P+1)%t.length)J[0]=(H[0]+D[0])/2,J[1]=(H[1]+D[1])/2,z.push(J),Y<P?(h(Z,t,Y,P+1),Z.push(J),ca.push(J),0!==R&&h(ca,t,R,t.length),h(ca,
t,0,Y+1)):(0!==Y&&h(Z,t,Y,t.length),h(Z,t,0,P+1),Z.push(J),ca.push(J),h(ca,t,R,Y+1));else{R>P&&(P+=t.length);D=Number.MAX_VALUE;if(P<R)return w;for(ka=R;ka<=P;++ka)if(f(n(t,Y-1),n(t,Y),n(t,ka))&&c(n(t,Y+1),n(t,Y),n(t,ka))){za=g(n(t,Y),n(t,ka));if(R=za<D)a:{R=t;H=Y;J=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==J&&(ha+1)%R.length!==H&&(ha+1)%R.length!==J&&d(n(R,H),n(R,J),n(R,ha),n(R,ha+1))){R=!1;break a}R=!0}R&&(D=za,V=ka%t.length)}Y<V?(h(Z,t,Y,V+1),0!==V&&h(ca,t,V,t.length),h(ca,t,0,Y+1)):(0!==
Y&&h(Z,t,Y,t.length),h(Z,t,0,V+1),h(ca,t,V,Y+1))}Z.length<ca.length?(v(Z,w,y,z,F,G,Q),v(ca,w,y,z,F,G,Q)):(v(ca,w,y,z,F,G,Q),v(Z,w,y,z,F,G,Q));return w}w.push(t);return w}self.tla={Kja:function(t){var w=p(t);return 0<w.length?u(t,w):[t]},yla:v,Eka:function(t){var w;for(w=0;w<t.length-1;w++)for(var y=0;y<w-1;y++)if(d(t[w],t[w+1],t[y],t[y+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},Dla:function(t,w){for(var y=0,z=t.length-1;3<t.length&&0<=z;--z){var F=
n(t,z-1);var G=n(t,z),Q=n(t,z+1),D=w;D?(Ya[0]=G[0]-F[0],Ya[1]=G[1]-F[1],Za[0]=Q[0]-G[0],Za[1]=Q[1]-G[1],F=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<D):F=0===a(F,G,Q);F&&(t.splice(z%t.length,1),y++)}return y},Ela:function(t,w){for(var y=t.length-1;1<=y;--y)for(var z=t[y],F=y-1;0<=F;--F){var G=z,Q=t[F],D=w;Math.abs(G[0]-Q[0])<=(D||0)&&Math.abs(G[1]-Q[1])<=(D||0)&&t.splice(y,1)}},$ka:function(t){for(var w=0,y=1;y<t.length;++y)if(t[y][1]<
t[w][1]||t[y][1]===t[w][1]&&t[y][0]>t[w][0])w=y;if(b(n(t,w-1),n(t,w),n(t,w+1)))return!1;w=[];y=t.length;for(var z=0;z!==y;z++)w.push(t.pop());for(z=0;z!==y;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.qr=!1;d.qI=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.ph={}}
{"use strict";const d=self.B;d.FL=class{constructor(a){this.f$=a;this.Ea=new Map;this.r6()}r6(){var a=this.f$;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.s6(b)}s6(a){if(a)if(a.includes("=")){var b=a.indexOf("="),f=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ea.set(f,a)}else this.Ea.set(a,null)}Mw(a){return this.Ea.has(a)}X(a){a=this.Ea.get(a);return"undefined"===typeof a?null:a}};d.GL=new d.FL(location.search);d.zea=
new d.FL(location.hash);d.GL.X("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={yaa:/linux|openbsd|freebsd|netbsd/i.test(a),K$:/CrOS/.test(a),ZA:/trident|iemobile|msie|tizen/i.test(a),kka:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),UR:/bb10/i.test(a),Y$:/edge\//i.test(a),HS:/trident/i.test(a),webkit:/webkit/i.test(a),Yaa:/safari\//i.test(a),J$:/chrome\//i.test(a),L$:/chromium\//i.test(a),O$:/crosswalk|xwalk/i.test(a),jla:/nwjs/i.test(a),z$:/amazonwebappplatform/i.test(a),vba:/wv\)/.test(a),A$:/android/i.test(a),
Iaa:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Mb=/OPR\/[0-9.]+/.exec(a),Nb=/tizen\s+[0-9.]+/i.exec(a),Tb=/iphone\s+os\s+[0-9_]+/i.exec(a),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Vb=/windows\s+phone\s+[0-9.]+/i.exec(a),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Xb=/chrome\/[0-9.]+/i.exec(a),Yb=/chromium\/[0-9.]+/i.exec(a),Zb=/nwjs\/[0-9.]+/i.exec(a),$b=/firefox\/[0-9.]+/i.exec(a),ac=/msie\s+[0-9.]+/i.exec(a),bc=/edge\/[0-9.]+/i.exec(a),
cc=/edg\/[0-9.]+/i.exec(a),dc=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",c="(unknown)",g="(unknown)",n="(unknown)",h="(unknown)",l="browser",m=!1,p=!1,u=new Map;function q(t,w,y){!0===w?(y(),u.set(t,!0)):w&&w.length&&(y(w[0]),u.set(t,!0))}q("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{f="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});q("isOSX",tb,t=>{f="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});q("isLinux",b.yaa,()=>{f="Linux"});q("isChromeOS",b.K$,()=>{f="Chrome OS"});q("isAndroid",!b.ZA&&Lb,t=>{f="Android";(t=t.split(" ")[1])&&(c=t)});q("isTizen",Nb,t=>{f="Tizen";(t=t.split(" ")[1])&&(c=t)});q("isIPhone",!b.ZA&&Tb,t=>{f="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});q("isIPad",!b.ZA&&Ub,t=>{f="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});q("isWindowsPhone",Vb,t=>{f="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});q("isWindowsPhoneOS",Wb,t=>{f="Windows Phone";(t=t.split(" ")[3])&&(c=t)});q("isBlackberry",b.UR,()=>{f="Blackberry";c="10";g="stock";h="webkit"});q("isChrome",!b.Y$&&!b.opera&&Xb,t=>{g="Chrome";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isOpera",Mb,t=>{g="Opera";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isChromium",Yb,t=>{h=g="Chromium";(t=t.split("/")[1])&&(n=t)});q("isFirefox",$b,t=>{g="Firefox";h="Gecko";(t=t.split("/")[1])&&(n=t)});q("isInternetExplorer",ac,
t=>{g="Internet Explorer";h="Trident";(t=t.split(" ")[1])&&(n=t)});q("isTrident","Internet Explorer"!==g&&b.HS,()=>{h="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(g="Internet Explorer",(t=t[0].split(":")[1])&&(n=t))});q("isEdge",bc,t=>{h=g="Edge";(t=t.split("/")[1])&&(n=t)});q("isEdgeChromium",cc,t=>{g="Edge";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isSafari",b.Yaa&&!b.Iaa&&!b.J$&&!b.L$&&!b.jka&&!b.UR,()=>{g="Safari";h="WebKit";var t=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(n=t);w&&w.length&&(g="Chrome for iOS",(w=w[0].split("/")[1])&&(n=w));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(n=y))});q("isSilk",dc,t=>{g="Silk";(t=t.split("/")[1])&&(n=t)});q("isCrosswalk",b.O$,()=>l="crosswalk");q("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");q("isNWJS",Zb,t=>{l="nwjs";g="NW.js";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isAmazonWebApp",b.z$,()=>l="webapp");
q("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");q("isFalseSafari","Safari"===g&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>g="stock");q("isAndroidWebview","Chrome"===g&&"browser"===l&&b.vba,()=>l="webview");q("isFirefoxOS","Firefox"===g&&"(unknown)"===f,()=>f="Firefox OS");q("isAndroidFallback","(unknown)"===f&&!b.ZA&&b.A$,()=>f="Android");q("isTridentFallback",
"(unknown)"===f&&b.HS,()=>h="Trident");q("isWebkitFallback","(unknown)"===f&&b.webkit,()=>h="WebKit");q("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>m=!0);p="nwjs"===l;const v="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(f="iOS",c=n,p=m=!1);d.Rc={up:f,Rea:c,jB:g,lca:n,kB:parseFloat(n),Ov:h,pB:l,Oda:m,EC:!m,Pda:p,Kda:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Hda:"Mac OS X"===f||"iOS"===f,Tda:v,Wda:"Linux"===f}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(v){return new Promise((t,w)=>{v.onsuccess=()=>t(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((t,w)=>{v.oncomplete=()=>t();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function g(v,t){return h(v,t)}function n(v,t){return h(v,t,!0)}async function h(v,t,w=!1,
y=!0){const z=await l(v);try{const F=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(F)}catch(F){if(y&&"InvalidStateError"===F.name)return d.delete(v),h(v,t,w,!1);throw F;}}function l(v){p(v);let t=d.get(v);t instanceof Promise||(t=m(v),d.set(v,t),t.catch(()=>d.delete(v)));return t}async function m(v){p(v);const t=indexedDB.open(v,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${v}`,
y)}});return f(t)}function p(v){if("string"!==typeof v)throw new TypeError("expected string");}function u(v,t){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const z=[];w.onsuccess=F=>{if(F=F.target.result){switch(t){case "entries":z.push([F.key,F.value]);break;case "keys":z.push(F.key);break;case "values":z.push(F.value)}F.continue()}else y(z)}})}class q{constructor(v){p(v);this.name=v}async ready(){await l(this.name)}set(v,t){p(v);return n(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(t,
v);y=f(y);w=c(w);await Promise.all([w,y])})}get(v){p(v);return g(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(v);w=f(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(v){p(v);return n(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(v);w=f(w);t=c(t);await Promise.all([t,w])})}clear(){return n(this.name,async v=>{var t=v.objectStore("keyvaluepairs").clear();t=f(t);v=c(v);await Promise.all([v,t])})}keys(){return g(this.name,async v=>{if(b){var t=v.objectStore("keyvaluepairs").getAllKeys();
t=f(t)}else t=u(v,"keys");v=c(v);[,v]=await Promise.all([v,t]);return v})}values(){return g(this.name,async v=>{if(a){var t=v.objectStore("keyvaluepairs").getAll();t=f(t)}else t=u(v,"values");v=c(v);[,v]=await Promise.all([v,t]);return v})}entries(){return g(this.name,async v=>{var t=u(v,"entries");v=c(v);[,t]=await Promise.all([v,t]);return t})}}self.ZY=q}"use strict";
{const d=self.ZY,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function n(l){return"object"===typeof l?new Promise(m=>{const {port1:p,port2:u}=new MessageChannel;u.onmessage=q=>m(q.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.ia=l;b.set(this,new Map)}nt(l){if(!f)for(const m of a)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async VP(l){l=
b.get(this).get(l);l=await n(l);return"undefined"===typeof l?null:l}async rR(l,m){m=await n(m);b.get(this).set(l,m)}mR(l){b.get(this).delete(l)}zP(){b.get(this).clear()}AQ(){return Array.from(b.get(this).keys())}async getItem(l,m){g(m);if(f)return await this.VP(l);let p;try{p=await this.ia.get(l)}catch(u){this.nt(u);if(f)return await this.VP(l);console.error(`Error reading '${l}' from storage, returning null: `,u);return null}return"undefined"===typeof p?null:p}async setItem(l,m,p){g(p);"undefined"===
typeof m&&(m=null);if(f)await this.rR(l,m);else try{await this.ia.set(l,m)}catch(u){if(this.nt(u),f)await this.rR(l,m);else throw u;}}async removeItem(l,m){g(m);if(f)this.mR(l);else try{await this.ia.delete(l)}catch(p){this.nt(p),f?this.mR(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(f)this.zP();else try{await this.ia.clear()}catch(m){this.nt(m),f?this.zP():console.error("Error clearing storage: ",m)}}async keys(l){g(l);if(f)return this.AQ();l=[];try{l=await this.ia.keys()}catch(m){this.nt(m);
if(f)return this.AQ();console.error("Error getting storage keys: ",m)}return l}ready(l){g(l);return f?Promise.resolve(!0):this.ia.ready()}dI(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.B;d.Pb={};d.Pb.Xia=(()=>{try{if("Safari"===d.Rc.jB||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Pb.Rca="undefined"!==typeof HTMLDialogElement;d.Pb.Ufa=!!self.requestIdleCallback;d.Pb.ImageBitmap=!!self.createImageBitmap;d.Pb.ImageBitmapOptions=!1;if(d.Pb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Pb.ImageBitmapOptions=!0}).catch(()=>{d.Pb.ImageBitmapOptions=!1})}catch(a){d.Pb.ImageBitmapOptions=!1}d.Pb.tca=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Rc.jB);d.Pb.lfa=!(!navigator.permissions||!navigator.permissions.query);d.Pb.EL="undefined"!==typeof Proxy;d.Pb.Sca="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Pb.Qv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Pb.$ca="function"===typeof fetch;d.Pb.nfa=!!(self.isSecureContext&&"Opera"!==d.Rc.jB&&navigator.storage&&navigator.storage.persist);d.Pb.lia=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.Rc.up)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.Pb.hda=ec;d.Pb.wda="undefined"!==typeof self.ImageDecoder;d.Pb.Mea=!!self.showOpenFilePicker;
d.Pb.Nea=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Qr(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,f){return b.reduce((c,g)=>{0<f&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,f-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Wd||(Array.prototype.Wd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Wd||(String.prototype.Wd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,
c)=>a({usage:f,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.jw())}}
{"use strict";const d=self.B,a=self.ph;d.Cl=function(f){return"number"===typeof f};d.zl=function(f){return d.Cl(f)&&isFinite(f)};d.rf=function(f){if(!d.Cl(f))throw new TypeError("expected number");};d.PL=function(){};d.pga=function(f,c,g){if(!d.Cl(f)||isNaN(f)||c>f||g<f)throw new RangeError("number outside of range");};d.bga=function(...f){for(let c of f);};d.jk=function(f){if(!d.zl(f))throw new TypeError("expected finite number");};d.ML=function(){};d.Zfa=function(...f){for(let c of f);};d.Dh=function(f){return"string"===
typeof f};d.Jd=function(f){if(!d.Dh(f))throw new TypeError("expected string");};d.RL=function(){};d.dga=function(...f){for(let c of f);};d.SK=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.Cga=function(f){if(!d.SK(f))throw new TypeError("expected simple object");};d.zga=function(f){if(!d.Id(f)&&!d.SK(f))throw new TypeError("expected simple object");};d.RK=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.KL=function(f){if(!d.RK(f))throw new TypeError("expected object");
};d.QL=function(){};d.cga=function(...f){for(let c of f);};d.vC=function(f){return d.Al(f,Blob)&&"string"===typeof f.name};d.nga=function(f){if(!d.vC(f))throw new TypeError("expected file");};d.xga=function(){};d.jn=function(f){return Array.isArray(f)};d.WC=function(f){if(!d.jn(f))throw new TypeError("expected array");};d.LL=function(){};d.Yfa=function(...f){for(let c of f);};d.yY=function(f){return d.jn(f)?f.length?d.jn(f[0])?!0:!1:!0:!1};d.Xfa=function(f){if(!d.yY(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.jn(c))throw new TypeError("expected 2d array");};d.qga=function(){};d.wC=function(f){return"function"===typeof f};d.dj=function(f,c){if(!d.wC(f))throw new TypeError("expected function");if(!d.Id(c)&&f!==c)throw new TypeError("expected same function reference");};d.NL=function(){};d.$fa=function(...f){for(let c of f);};d.fga=function(f,...c){if(!d.wC(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.Id(g)&&
f===g)return;throw new TypeError("expected same function reference");};d.rga=function(...f){if(!d.Id(f))for(let c of f);};d.Al=function(f,c){return f instanceof c};d.OK=function(f,...c){for(let g of c)if(d.Al(f,g))return!0;return!1};d.XC=function(f,c){if(!d.Al(f,c))throw new TypeError("unexpected type");};d.OL=function(){};d.aga=function(f,...c){for(let g of c);};d.gga=function(f,...c){if(!d.OK(f,...c))throw new TypeError("unexpected type");};d.hga=function(f,...c){if(!d.Id(f)&&!d.OK(f,...c))throw new TypeError("unexpected type");
};d.Ida=function(f,c){for(let g of f)if(!d.Al(g,c))return!1;return!0};d.Jda=function(f){for(let c of f)if(!d.zl(c))return!1;return!0};d.iga=function(f){for(let c of f);};d.sga=function(f){if(!d.Id(f))for(let c of f);};d.jga=function(f){for(let c of f);};d.tga=function(f){if(!d.Id(f))for(let c of f);};d.Lda=function(f,c){return d.Id(f)||!d.Dh(f.nodeName)?!1:!c||d.Jm(f.nodeName,c)};d.kga=function(f,c){if(d.Id(f)||!d.Dh(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Jm(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.uga=function(){};d.yC=function(f,c){return d.Id(f)||!d.Dh(f.tagName)?!1:!c||d.Jm(f.tagName,c)};d.oga=function(f,c){if(d.Id(f)||!d.Dh(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.Jm(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.yga=function(){};d.IK=function(f){return d.yC(f,"img")||d.yC(f,"canvas")||d.yC(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.lga=function(f){if(!d.IK(f))throw new TypeError("expected drawable");
};d.vga=function(){};d.JK=function(f){return f instanceof ImageData?!0:d.IK(f)};d.mga=function(f){if(!d.JK(f))throw new TypeError("expected drawable or image data");};d.wga=function(f){if(!d.Id(f)&&!d.JK(f))throw new TypeError("expected drawable or image data");};d.TY=function(f){return"string"===typeof f||f instanceof d.nC||f instanceof d.pl};d.Dga=function(f){if(!d.TY(f))throw new TypeError("expected string-like");};d.Aga=function(){};d.ega=function(...f){for(let c of f);};d.Bga=function(){throw Error("must be overridden");
};d.Qea=function(){throw Error("not yet implemented");};d.Nda=function(f,...c){if("undefined"===typeof f)return!1;for(let g of c){if("undefined"===typeof f[g])return!1;f=f[g]}return!0};d.Id=function(f){return"undefined"===typeof f||null===f};d.bca=function(f){let c=f[0].constructor;for(let g of f)if(g.constructor!==c)return!1;return c};d.cca=function(f,c){for(let g of f)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.iea=function(f){return d.Al(f,b)};d.Ega=function(){};
d.Wia=function(f){d.Q1(f,b)};d.Via=function(f,...c){if(!d.P1(f,...c))throw new TypeError("unexpected type");};d.P1=function(f,...c){for(const g of c)if(d.TM(f,g))return!0;return!1};d.Q1=function(f,c){if(!d.TM(f,c))throw new TypeError("unexpected type");};d.TM=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};a.rf=d.rf;a.PL=d.PL;a.jk=d.jk;a.ML=d.ML;a.Jd=d.Jd;a.RL=d.RL;a.KL=d.KL;a.QL=d.QL;a.WC=d.WC;a.LL=d.LL;a.dj=d.dj;a.NL=d.NL;a.XC=d.XC;a.OL=d.OL;a.Id=
d.Id}
{"use strict";const d=self.B,a=new Map;d.Nfa=function(u,...q){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...q);a.set(u,-1)}))};d.jw=function(){return Error().stack};d.Pca=function(){debugger};d.Bja=function(u,q){return u&&u instanceof q?u:null};d.Lj=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Cl(u)?"<number>":d.Dh(u)?"<string>":d.jn(u)?"<array>":"symbol"===typeof u?"<"+
u.toString()+">":d.wC(u)?u.name&&"Function"!==u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.JA=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,q){if(!isFinite(Math.abs(u-q)))throw Error("Invalid parameters");if(u>q)for(--u;u>=q;u--)yield u;else for(;u<q;u++)yield u};let b=new Map,f=new Map,c=new WeakMap,g=new WeakMap;d.Yo={};const n=
new Set(["then","splice"]);function h(u){console.warn("[Defence] "+u+" @",d.jw())}d.Yo.get=function(u,q){q in u||"symbol"===typeof q||n.has(q)||h(`Accessed missing property '${q}' from defended object '${d.Lj(u)}', returning undefined`);g.has(u)&&"symbol"!==typeof q&&!n.has(q)&&h(`Accessed property '${q}' on a released object '${d.Lj(u)}'\nObject was originally released at: ${g.get(u)})\nCall stack at access: `);return u[q]};d.Yo.set=function(u,q,v){q in u||b.has(u)||h(`Set non-existent property '${q}' to '${v}' on defended object '${d.Lj(u)}'`);
{var t=d.JA(u[q]);let w=d.JA(v);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||b.has(u)||h(`Set '${d.JA(u[q])}' property '${q}' to type '${d.JA(v)}' on defended object '${d.Lj(u)}'`);g.has(u)&&h(`Set property '${q}' on a released object '${d.Lj(u)}'\nObject was originally released at: ${g.get(u)})\nCall stack at access: `);u[q]=v;return!0};d.Yo.deleteProperty=function(u,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${d.Lj(u)}'`);};d.Yo.defineProperty=
function(u,q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${d.Lj(u)}'`);};d.Yo.Oja=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.Lj(u)}'`);};let l=-1;function m(){l=-1;if(0<b.size||0<f.size){let u=[...new Set([...b.keys()].map(q=>d.Lj(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);b.clear();
f.clear()}}d.ca=class{constructor(){if(d.qI&&d.Pb.EL){var u=new.target;u=Object.create(u.prototype);var q=new Proxy(u,d.Yo);b.set(u,q);f.set(q,u);c.set(q,u);-1===l&&(l=requestAnimationFrame(m));return q}}};d.Q$=function(u){if(d.qI&&d.Pb.EL&&u instanceof d.ca){if(!f.has(u))return u;let q=f.get(u);f.delete(u);b.delete(q);return u}return d.qr?Object.seal(u):u};d.A=function(u,...q){let v;try{v=new u(...q)}catch(y){throw f.clear(),b.clear(),y;}if(d.qI){q=v;var t=new Set;for(w in q)t.add(w);var w=t;if(q=
p.get(u)){t=[];for(let y of q.values())w.has(y)?w.delete(y):t.push(y);d.Fm(t,[...w]);t.length&&console.warn(`[Defence] '${d.Lj(u)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else p.set(u,w)}return d.Q$(v)};d.m=function(u){(u=c.get(u))&&g.set(u,d.jw())};d.wx=function(){let u=c.get(void 0);return u?!!g.get(u):!1};let p=new Map;d.kfa=class{constructor(u){this.Ba="";u&&this.start(u)}start(u){this.Ba=u;performance.mark(this.Ba+"-Start")}end(){performance.mark(this.Ba+"-End");performance.measure(this.Ba,
this.Ba+"-Start",this.Ba+"-End")}next(u){this.end();this.Ba=u;performance.mark(this.Ba+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,f=180/Math.PI;d.wrap=function(g,n,h){g=Math.floor(g);n=Math.floor(n);h=Math.floor(h);return g<n?(g=h-(n-g)%(h-n),g===h?0:g):n+(g-n)%(h-n)};d.Caa=function(g,n,h,l){return(g-n)*(l-0)/(h-n)};d.normalize=function(g,n,h){return(g-n)/(h-n)};d.da=function(g,n,h){return g<n?n:g>h?h:g};d.Xd=function(g){g%=a;0>g&&(g+=a);return g};d.pb=function(g){return g*b};d.nh=function(g){return g*f};d.lr=function(g,n,h,l){return Math.hypot(h-g,l-n)};d.aS=function(g,
n,h,l){g=h-g;n=l-n;return g*g+n*n};d.CA=function(g,n,h,l){return Math.atan2(l-n,h-g)};d.ir=function(g,n){if(g===n)return 0;g=Math.sin(g)*Math.sin(n)+Math.cos(g)*Math.cos(n);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.YH=function(g,n,h){let l=Math.sin(g),m=Math.cos(g),p=Math.sin(n),u=Math.cos(n);return Math.acos(l*p+m*u)>h?0<m*p-l*u?d.Xd(g+h):d.Xd(g-h):d.Xd(n)};d.Ye=function(g,n){return 0>=Math.cos(g)*Math.sin(n)-Math.sin(g)*Math.cos(n)};d.XH=function(g,n,h,l=0){let m=d.ir(g,n);l*=a;return d.Ye(n,
g)?d.Xd(g+(m+l)*h):d.Xd(g-(m+l)*h)};d.C$=function(g,n,h,l=0){const m=d.ir(g,n);l*=a;return d.Ye(n,g)?d.Xd(g+(m+l)*h):d.Xd((a-m+l)*h)};d.B$=function(g,n,h,l=0){const m=d.ir(g,n);l*=a;return d.Ye(n,g)?d.Xd((-a+m-l)*h):d.Xd(g-(m+l)*h)};d.Gd=function(g,n,h){return g+h*(n-g)};d.XA=function(g,n,h){return g===n?0:(h-g)/(n-g)};d.Taa=function(g,n,h,l){return d.Gd(0,l,d.XA(g,n,h))};d.QA=function(g,n,h,l){return d.Gd(d.Gd(g,n,l),d.Gd(n,h,l),l)};d.ZR=function(g,n,h,l,m){return d.Gd(d.QA(g,n,h,m),d.QA(n,h,l,m),
m)};d.YR=function(g,n,h){return(g+n+(g-n)*Math.cos(h*Math.PI))/2};d.Nj=function(g){return 0<g&&0===(g-1&g)};d.xI=function(g){--g;for(let n=1;32>n;n<<=1)g|=g>>n;return g+1};d.Qla=function(g,n){return Math.round(g*n)/n};d.Vja=function(g,n){return Math.floor(g*n)/n};d.wS=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,n){g=g.toFixed(n);for(n=g.length-1;0<=n&&"0"===g.charAt(n);--n);0<=n&&"."===g.charAt(n)&&--n;return 0>n?g:g.substr(0,n+1)};d.h_=function(g,n,h){return d.da(g,0,255)|d.da(n,
0,255)<<8|d.da(h,0,255)<<16};d.$w=function(g,n,h,l){g=d.da(Math.floor(1024*g),-8192,8191);n=d.da(Math.floor(1024*n),-8192,8191);h=d.da(Math.floor(1024*h),-8192,8191);l=d.da(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>n&&(n+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*n+1024*h+l)};d.yL=function(g,n,h){return d.$w(g,n,h,1)};d.bC=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.TB=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.GB=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.RV=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.gaa=function(g,n){g=Math.floor(g);for(n=Math.floor(n);0!==n;){let h=n;n=g%n;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.mka=function(g,n){g=Math.floor(g);n=Math.floor(n);if(g===n)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(n-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(n-l))return[h[1],h[0]]}h=d.gaa(g,n);return[g/h,n/h]};d.Xla=function(g,n,h,l,m,p,u,q){var v=Math.min(g,h),t=Math.max(m,u);if(Math.max(g,h)<Math.min(m,u)||v>t)return!1;v=Math.min(n,l);t=Math.max(p,q);if(Math.max(n,l)<Math.min(p,q)||v>t)return!1;v=m-g+u-h;t=p-n+q-l;g=h-g;n=l-n;m=u-m;p=q-p;q=Math.abs(n*m-p*g);return Math.abs(m*t-p*v)>q?!1:Math.abs(g*t-n*v)<=q};d.kl=function(g,n,h,l,m,p,u,q,v,t,w,y){const z=Math.max(v,w);if(p<
Math.min(v,w)||m>z)return!1;m=Math.max(t,y);if(q<Math.min(t,y)||u>m)return!1;u=v-g+w-h;q=t-n+y-l;g=h-g;n=l-n;v=w-v;t=y-t;y=Math.abs(n*v-t*g);return Math.abs(v*q-t*u)>y?!1:Math.abs(g*q-n*u)<=y};d.RA=function(g,n,h,l,m){const p=Math.min(g,h),u=Math.max(g,h),q=Math.min(n,l),v=Math.max(n,l),t=m.nb,w=m.ob,y=m.Wb,z=m.Xb,F=m.Sb,G=m.Tb,Q=m.Qb;m=m.Rb;return d.kl(g,n,h,l,p,u,q,v,t,w,y,z)||d.kl(g,n,h,l,p,u,q,v,y,z,F,G)||d.kl(g,n,h,l,p,u,q,v,F,G,Q,m)||d.kl(g,n,h,l,p,u,q,v,Q,m,t,w)};d.Wla=function(g,n,h,l,m){const p=
Math.min(g,h),u=Math.max(g,h),q=Math.min(n,l),v=Math.max(n,l);let t=0;for(let w=m.length-4;t<=w;t+=2)if(d.kl(g,n,h,l,p,u,q,v,m[t],m[t+1],m[t+2],m[t+3]))return!0;return d.kl(g,n,h,l,p,u,q,v,m[t],m[t+1],m[0],m[1])};d.Saa=function(g,n,h,l,m,p,u,q){h-=g;p=q-p;const v=h*p-(l-n)*(u-m);if(0===v)return 2;l=((n-l)*(u-g)+h*(q-n))/v;return 0<l&&1.000001>l?(p*(u-g)+(m-u)*(q-n))/v:2};d.Bv=function(g,n,h,l,m,p,u,q,v){const t=(u-m)*v;v*=q-p;return d.Saa(g,n,h,l,m-t,p-v,u+t,q+v)};d.qaa=function(g,n,h,l,m,p,u,q){m-=
h;p-=l;u-=h;q-=l;g-=h;h=n-l;n=m*m+p*p;l=m*u+p*q;m=m*g+p*h;p=u*u+q*q;u=u*g+q*h;q=1/(n*p-l*l);p=(p*m-l*u)*q;m=(n*u-l*m)*q;return 0<=p&&0<=m&&1>=p+m};d.tba=function(g,n,h,l,m,p,u,q){m-=h;p-=l;u-=h;q-=l;g-=h;const v=n-l;n=m*m+p*p;l=m*u+p*q;h=u*u+q*q;m=g*m+v*p;p=g*u+v*q;u=n*h-l*l;q=(h*m-l*p)/u;m=(n*p-l*m)/u;return[1-q-m,q,m]};d.sba=function(g,n,h,l,m,p,u,q,v){return[g*l+n*p+h*q,g*m+n*u+h*v]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.jda=function(){return b};d.HB=function(){if(!a)return"";const l=a.location;return d.WW(l.origin+l.pathname)+b};d.WW=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};d.mda=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};d.pW=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};d.rw=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};d.vZ=function(l){return l.replace(/\\/g,"/")};d.Qda=function(l,m){return m===(l?d.pW(l).slice(1):"")};d.ada=function(l,m){let p,u;d.vC(l)&&(p=d.rw(l.name));d.Dh(l)&&(p=
d.rw(l));d.vC(m)&&(u=d.rw(m.name));d.Dh(m)&&(u=d.rw(m));return p===u};d.jfa=function(l){l=d.vZ(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let u="",q=l,v="";0<p&&(u=l.slice(0,p),q=l.slice(p));l=q;p=q.lastIndexOf(".");0<p&&(v=q.slice(p),l=q.slice(0,-v.length));return{dir:u,uja:q,name:l,root:m,ext:v,hka:m+u+q}};d.FD=function(l,m){return new Promise(p=>{self.setTimeout(p,
l,m)})};d.gma=function(l){try{l()}catch(m){d.qr&&console.warn("Swallowed exception: ",m)}};d.hla=function(){};d.Jm=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};d.Pja=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};d.uba=function(l,m){var p=0;l[p++]=m[0];l[p++]=m[1];l[p++]=m[2];l[p++]=m[3];l[p++]=m[4];l[p++]=m[5];l[p++]=m[6];l[p++]=m[7];l[p++]=m[8];l[p++]=m[9];
l[p++]=m[10];l[p++]=m[11];l[p++]=m[12];l[p++]=m[13];l[p++]=m[14];l[p]=m[15]};d.Ce=function(l,m){l.length=m};d.D=function(l){l&&0!==l.length&&d.Ce(l,0)};d.M$=function(l){if(l){for(let m=0;m<l.length;m++)d.Ce(l[m],0);d.Ce(l,0)}};d.HA=function(l,m,p){m|=0;var u=l.length;if(!(m<=u))for(;u<m;++u)l.push(p)};d.vS=function(l){var m=4;const p=l.length;m<p?d.Ce(l,m):m>p&&d.HA(l,m,"0")};d.Oc=function(l,m){d.D(l);d.Fm(l,m)};d.Fm=function(l,m){if(1E4>m.length)l.push(...m);else for(let p=0,u=m.length;p<u;++p)l.push(m[p])};
d.F$=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var p=l.length-1;m<p;++m)l[m]=l[m+1];d.Ce(l,p)}};d.No=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};d.tja=function(l,m){let p=l.length;if(m.length!==p)return!1;for(let u=0;u<p;++u)if(l[u]!==m[u])return!1;return!0};d.E$=function(l,m){let p=[],u=0;for(let q=0,v=l.length;q<v;++q){let t=l[q];m(t)?p.push(t):(l[u]=t,++u)}d.Ce(l,u);return p};d.pg=function(l,m){const p=l.length;let u=0;for(let q=0,v=l.length;q<v;++q){let t=l[q];m.has(t)||
(l[u++]=t)}d.Ce(l,u);return p-u};d.naa=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};d.tma=function(l,m){if(!d.naa(l,m))throw new RangeError("array index out of bounds");};d.cI=function(l){return l.slice()};d.R$=function(l,m){let p=[];for(let u of l)if(d.RK(u)){l=m(u);if(!l)throw Error("missing clone");if(l.constructor!==u.constructor)throw Error("object is not a clone");p.push(l)}else d.jn(u)?p.push(d.R$(u,m)):p.push(u);return p};d.Cja=function(l){let m=[];for(let p of l)m.push(p.slice());
return m};d.dla=function(l,m){return new Set([...l,...m])};d.ela=function(l,m){for(const p of m)l.add(p);return l};d.first=function(l){for(let m of l)return m;return null};d.xor=function(l,m){return!l!==!m};d.compare=function(l,m,p){switch(m){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.vka=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};d.r_=function(l,m){return l.length?new Promise((p,
u)=>{const q=[];let v=0,t=!1;for(let w=0,y=l.length;w<y;++w)q.push(void 0),l[w].then(z=>{t||(q[w]=z,++v,v===l.length?p(q):m(v,l.length))}).catch(z=>{t=!0;u(z)})}):Promise.resolve([])};let f=[];d.Qba=function(l){f.push(l)};d.lda=function(){let l=0;for(let m of f){let p=m();l+=p}return Math.floor(l)};let c=1;const g=new Map,n=new MessageChannel;n.port2.onmessage=function(l){l=l.data;const m=g.get(l);g.delete(l);m&&m(performance.now())};d.VC=function(l){const m=c++;g.set(m,l);n.port1.postMessage(m);
return m};d.DT=function(l){g.delete(l)};d.n_=d.VC;d.N1=function(){return new Promise(l=>d.n_(l))};const h=new Set;d.Wfa=function(l){const m=self.requestAnimationFrame(async p=>{await d.N1();h.has(m)&&(h.delete(m),l(p))});h.add(m);return m};d.qca=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.B;d.sC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.FC=function(a){return!d.sC(a)};d.t1=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.hw=function(a){return fetch(a,void 0).then(b=>{d.t1(b);return b})};d.Tr=function(a){return d.hw(a).then(b=>b.text())};d.JJ=function(a){return d.hw(a).then(b=>b.json())};d.Rj=function(a){return d.hw(a).then(b=>b.blob())};d.Sr=function(a){return d.hw(a).then(b=>
b.arrayBuffer())};d.JV=function(a){return new Promise((b,f)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>f(g);c.src=a})};d.tT=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(a)})};d.eJ=function(a){return"function"===typeof a.text?a.text():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsText(a)})};d.jca=function(a){return d.eJ(a).then(b=>
JSON.parse(b))};d.uT=async function(a){a=URL.createObjectURL(a);try{const b=await d.JV(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.tg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=b;return f}return new OffscreenCanvas(a,b)};d.Qv=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.da(f,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,f)):a.convertToBlob?a.convertToBlob({type:b,quality:f}):d.Oj(()=>d.nJ(a,b,f))};d.nJ=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.da(f,0,1);return d.kU(a.toDataURL(b,f))};d.kU=function(a){a=d.i_(a);return d.sT(a.data,a.Daa)};d.i_=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var f=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];f="base64"===b[1]||"base64"===c?atob(f):decodeURIComponent(f);return{Daa:a,data:f}};d.sT=function(a,b){var f=a.length;let c=f>>2,g=new Uint8Array(f),n=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)n[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(f&=3;f--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};d.CJ=function(a){const b=d.tg(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.Qv(b,void 0,void 0)};d.vda=
function(a,b,f){const c=d.tg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.nJ(c,b,f)};d.PX=function(a){if(d.Pb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.CJ(b));if(d.Pb.ImageBitmap)return createImageBitmap(a).then(b=>d.CJ(b));{const b=d.tg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Qv(b,void 0,void 0)}};d.$T=function(a,b){a.clear();for(const f of b)a.add(f)};d.Dea=function(a){const b=Object.create(null);for(const [f,
c]of a.entries())b[f]=c;return b};d.Sea=function(a,b){b.clear();for(const [f,c]of Object.entries(a))b.set(f,c)};d.DD=function f(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>f(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [g,n]of Object.entries(b))c[g]=f(n);return c}}return b};d.CB=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(g=>
c(g)));if("map"===f._c3type_)return new Map(f.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [n,h]of Object.entries(f))g[n]=c(h);return g}}return f};d.xT=function(f){let c="",g=!1;for(const n of f)"-"===n?g=!0:g?(c+=n.toUpperCase(),g=!1):c+=n;return c};d.Bl=function(f){return"object"===typeof f&&"function"===typeof f.next};d.nZ=function(f){const c=[];for(let g=0;g<f;++g)c.push(0);return c}}
{"use strict";const d=self.B;d.Va=class{constructor(a,b,f,c){this.Qa=this.Ra=this.Sa=this.Pa=0;a instanceof d.Va?this.set(a):this.Om(a||0,b||0,f||0,c||0)}Cr(a,b,f){this.Pa=+a;this.Sa=+b;this.Ra=+f;this.da()}Om(a,b,f,c){this.Pa=+a;this.Sa=+b;this.Ra=+f;this.Qa=+c;this.da()}set(a){this.Pa=a.Pa;this.Sa=a.Sa;this.Ra=a.Ra;this.Qa=a.Qa;return this}ta(a){return this.set(a)}add(a){this.Pa+=a.Pa;this.Sa+=a.Sa;this.Ra+=a.Ra;this.Qa+=a.Qa;this.da()}QR(a,b,f){this.Pa+=+a;this.Sa+=+b;this.Ra+=+f;this.Qa+=0;this.da()}Kj(a){this.Pa=
a.Pa;this.Sa=a.Sa;this.Ra=a.Ra}zS(a){this.Pa=d.da(+a,0,1)}bba(a){this.Sa=d.da(+a,0,1)}Zaa(a){this.Ra=d.da(+a,0,1)}Fv(a){this.Qa=d.da(+a,0,1)}clone(){return d.A(d.Va,this.Pa,this.Sa,this.Ra,this.Qa)}toArray(){return[this.Pa,this.Sa,this.Ra,this.Qa]}qg(a,b){a[b++]=this.Pa;a[b++]=this.Sa;a[b++]=this.Ra;a[b]=this.Qa}Nc(a){return this.Pa===a.Pa&&this.Sa===a.Sa&&this.Ra===a.Ra&&this.Qa===a.Qa}hl(a){return this.Pa===a.Pa&&this.Sa===a.Sa&&this.Ra===a.Ra}qv(a,b,f,c){return this.Pa===a&&this.Sa===b&&this.Ra===
f&&this.Qa===c}multiply(a){this.Pa*=a.Pa;this.Sa*=a.Sa;this.Ra*=a.Ra;this.Qa*=a.Qa}GI(){this.Pa*=this.Qa;this.Sa*=this.Qa;this.Ra*=this.Qa}da(){this.Pa=d.da(this.Pa,0,1);this.Sa=d.da(this.Sa,0,1);this.Ra=d.da(this.Ra,0,1);this.Qa=d.da(this.Qa,0,1);return this}Br(a){this.Pa=d.bC(a);this.Sa=d.TB(a);this.Ra=d.GB(a);this.Qa=d.RV(a)}caa(){return`rgb(${100*(d.zl(void 0)?NaN:this.Pa)}%, ${100*(d.zl(void 0)?NaN:this.Sa)}%, ${100*(d.zl(void 0)?NaN:this.Ra)}%)`}qS(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var f=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.zS(a);isFinite(f)&&this.bba(f);isFinite(b)&&this.Zaa(b);this.Fv(1)}}}toJSON(){return[this.Pa,this.Sa,this.Ra,this.Qa]}ll(a){!Array.isArray(a)||3>a.length||(this.Pa=a[0],this.Sa=a[1],this.Ra=a[2],this.Qa=4<=a.length?a[3]:1)}set r(a){this.zS(a)}get r(){return this.Pa}set Mo(a){this.Fv(a)}get Mo(){return this.Qa}static wB(a,b){return d.da(Math.max(a,
b)-Math.min(a,b),0,1)}};d.Va.aja=Object.freeze(d.A(d.Va,1,1,1,1));d.Va.ica=Object.freeze(d.A(d.Va,0,0,0,1));d.Va.Gia=Object.freeze(d.A(d.Va,0,0,0,0))}
{"use strict";const d=self.B;d.Ys=class{constructor(a,b){this.K=this.N=0;a instanceof d.Ys?this.ta(a):this.set(a||0,b||0)}set(a,b){this.N=+a;this.K=+b}ta(a){this.N=a.N;this.K=a.K}Nc(a){return this.N===a.N&&this.K===a.K}toArray(){return[this.N,this.K]}qg(a,b){a[b++]=this.N;a[b]=this.K}offset(a,b){this.N+=+a;this.K+=+b}scale(a,b){this.N*=a;this.K*=b}fl(a,b){this.N/=a;this.K/=b}round(){this.N=Math.round(this.N);this.K=Math.round(this.K)}floor(){this.N=Math.floor(this.N);this.K=Math.floor(this.K)}ceil(){this.N=
Math.ceil(this.N);this.K=Math.ceil(this.K)}angle(){return d.CA(0,0,this.N,this.K)}xaa(){return this.N*this.N+this.K*this.K}length(){return Math.sqrt(this.xaa())}Waa(a,b){const f=this.N*b-this.K*a;this.K=this.K*b+this.N*a;this.N=f}rotate(a){0!==a&&this.Waa(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.N+=Math.cos(a)*b,this.K+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.N/=a,this.K/=a)}da(a,b){this.N=d.da(this.N,a,b);this.K=d.da(this.K,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,f,c){this.U=this.$=this.L=this.M=0;a instanceof d.Rect?this.ta(a):this.set(a||0,b||0,f||0,c||0)}set(a,b,f,c){this.M=+a;this.L=+b;this.$=+f;this.U=+c}mh(a,b,f,c){a=+a;b=+b;this.M=a;this.L=b;this.$=a+ +f;this.U=b+ +c}ta(a){this.M=+a.M;this.L=+a.L;this.$=+a.$;this.U=+a.U}clone(){return new d.Rect(this.M,this.L,this.$,this.U)}Nc(a){return this.M===a.M&&this.L===a.L&&this.$===a.$&&this.U===a.U}toArray(){return[this.M,this.L,this.$,this.U]}kba(){new DOMRect(this.M,
this.L,this.width(),this.height())}qg(a,b){a[b++]=this.M;a[b++]=this.L;a[b++]=this.$;a[b]=this.U}wba(a,b){a[b++]=this.M;a[b++]=this.L;a[b++]=this.$;a[b++]=this.L;a[b++]=this.$;a[b++]=this.U;a[b++]=this.M;a[b]=this.U}width(){return this.$-this.M}height(){return this.U-this.L}yr(){return(this.M+this.$)/2}zr(){return(this.L+this.U)/2}offset(a,b){a=+a;b=+b;this.M+=a;this.L+=b;this.$+=a;this.U+=b}offsetLeft(a){this.M+=+a}offsetTop(a){this.L+=+a}Kaa(a){this.$+=+a}Jaa(a){this.U+=+a}KA(a,b){a=+a;b=+b;this.M-=
a;this.L-=b;this.$+=a;this.U+=b}multiply(a,b){this.M*=a;this.L*=b;this.$*=a;this.U*=b}fl(a,b){this.M/=a;this.L/=b;this.$/=a;this.U/=b}hba(){const a=this.M;this.M=this.$;this.$=a}Po(){const a=this.L;this.L=this.U;this.U=a}QI(a){const b=this.L;this.L=+a-this.U;this.U=+a-b}round(){this.M=Math.round(this.M);this.L=Math.round(this.L);this.$=Math.round(this.$);this.U=Math.round(this.U)}Xaa(){this.M=Math.floor(this.M);this.L=Math.floor(this.L);this.$=Math.ceil(this.$);this.U=Math.ceil(this.U)}floor(){this.M=
Math.floor(this.M);this.L=Math.floor(this.L);this.$=Math.floor(this.$);this.U=Math.floor(this.U)}ceil(){this.M=Math.ceil(this.M);this.L=Math.ceil(this.L);this.$=Math.ceil(this.$);this.U=Math.ceil(this.U)}da(a,b,f,c){this.M<a&&(this.M=+a);this.L<b&&(this.L=+b);this.$>f&&(this.$=+f);this.U>c&&(this.U=+c)}XR(){0>this.M&&(this.M=0);1<this.L&&(this.L=1);1<this.$&&(this.$=1);0>this.U&&(this.U=0)}normalize(){this.M>this.$&&this.hba();this.L>this.U&&this.Po()}LA(a){return!(a.$<this.M||a.U<this.L||a.M>this.$||
a.L>this.U)}maa(a,b,f){return!(a.$+b<this.M||a.U+f<this.L||a.M+b>this.$||a.L+f>this.U)}$e(a,b){return a>=this.M&&a<=this.$&&b>=this.L&&b<=this.U}}}
{"use strict";const d=self.B;d.ld=class{constructor(a,b,f,c,g,n,h,l){this.Rb=this.Qb=this.Tb=this.Sb=this.Xb=this.Wb=this.ob=this.nb=0;a instanceof d.ld?this.ta(a):this.set(a||0,b||0,f||0,c||0,g||0,n||0,h||0,l||0)}set(a,b,f,c,g,n,h,l){this.nb=+a;this.ob=+b;this.Wb=+f;this.Xb=+c;this.Sb=+g;this.Tb=+n;this.Qb=+h;this.Rb=+l}AS(a,b,f,c){this.set(a,b,f,b,f,c,a,c)}ta(a){this.nb=a.nb;this.ob=a.ob;this.Wb=a.Wb;this.Xb=a.Xb;this.Sb=a.Sb;this.Tb=a.Tb;this.Qb=a.Qb;this.Rb=a.Rb}Nc(a){return this.nb===a.nb&&this.ob===
a.ob&&this.Wb===a.Wb&&this.Xb===a.Xb&&this.Sb===a.Sb&&this.Tb===a.Tb&&this.Qb===a.Qb&&this.Rb===a.Rb}toArray(){return[this.nb,this.ob,this.Wb,this.Xb,this.Sb,this.Tb,this.Qb,this.Rb]}qg(a,b){a[b++]=this.nb;a[b++]=this.ob;a[b++]=this.Wb;a[b++]=this.Xb;a[b++]=this.Sb;a[b++]=this.Tb;a[b++]=this.Qb;a[b]=this.Rb}xba(a,b,f){a[b++]=this.nb;a[b++]=this.ob;a[b++]=f;a[b++]=this.Wb;a[b++]=this.Xb;a[b++]=f;a[b++]=this.Sb;a[b++]=this.Tb;a[b++]=f;a[b++]=this.Qb;a[b++]=this.Rb;a[b]=f}offset(a,b){a=+a;b=+b;this.nb+=
a;this.ob+=b;this.Wb+=a;this.Xb+=b;this.Sb+=a;this.Tb+=b;this.Qb+=a;this.Rb+=b}round(){this.nb=Math.round(this.nb);this.ob=Math.round(this.ob);this.Wb=Math.round(this.Wb);this.Xb=Math.round(this.Xb);this.Sb=Math.round(this.Sb);this.Tb=Math.round(this.Tb);this.Qb=Math.round(this.Qb);this.Rb=Math.round(this.Rb)}floor(){this.nb=Math.floor(this.nb);this.ob=Math.floor(this.ob);this.Wb=Math.floor(this.Wb);this.Xb=Math.floor(this.Xb);this.Sb=Math.floor(this.Sb);this.Tb=Math.floor(this.Tb);this.Qb=Math.floor(this.Qb);
this.Rb=Math.floor(this.Rb)}ceil(){this.nb=Math.ceil(this.nb);this.ob=Math.ceil(this.ob);this.Wb=Math.ceil(this.Wb);this.Xb=Math.ceil(this.Xb);this.Sb=Math.ceil(this.Sb);this.Tb=Math.ceil(this.Tb);this.Qb=Math.ceil(this.Qb);this.Rb=Math.ceil(this.Rb)}lh(a){this.nb=a.M;this.ob=a.L;this.Wb=a.$;this.Xb=a.L;this.Sb=a.$;this.Tb=a.U;this.Qb=a.M;this.Rb=a.U}aba(a,b){0===b?this.lh(a):this.yS(a,Math.sin(b),Math.cos(b))}yS(a,b,f){const c=a.M*b,g=a.L*b,n=a.$*b;b*=a.U;const h=a.M*f,l=a.L*f,m=a.$*f;a=a.U*f;this.nb=
h-g;this.ob=l+c;this.Wb=m-g;this.Xb=l+n;this.Sb=m-b;this.Tb=a+n;this.Qb=h-b;this.Rb=a+c}lI(a){a.set(Math.min(this.nb,this.Wb,this.Sb,this.Qb),Math.min(this.ob,this.Xb,this.Tb,this.Rb),Math.max(this.nb,this.Wb,this.Sb,this.Qb),Math.max(this.ob,this.Xb,this.Tb,this.Rb))}$e(a,b){var f=this.Wb-this.nb,c=this.Xb-this.ob;const g=this.Sb-this.nb,n=this.Tb-this.ob;a-=this.nb;b-=this.ob;var h=f*f+c*c;let l=f*g+c*n;c=f*a+c*b;const m=g*g+n*n,p=g*a+n*b;let u=1/(h*m-l*l);f=(m*c-l*p)*u;h=(h*p-l*c)*u;if(0<=f&&0<
h&&1>f+h)return!0;f=this.Qb-this.nb;c=this.Rb-this.ob;h=f*f+c*c;l=f*g+c*n;c=f*a+c*b;u=1/(h*m-l*l);f=(m*c-l*p)*u;h=(h*p-l*c)*u;return 0<=f&&0<h&&1>f+h}yr(){return(this.nb+this.Wb+this.Sb+this.Qb)/4}zr(){return(this.ob+this.Xb+this.Tb+this.Rb)/4}oI(a){var b=a.yr(),f=a.zr();if(this.$e(b,f))return!0;b=this.yr();f=this.zr();if(a.$e(b,f))return!0;b=this.nb;f=this.ob;const c=this.Wb,g=this.Xb,n=this.Sb,h=this.Tb,l=this.Qb,m=this.Rb;return d.RA(b,f,c,g,a)||d.RA(c,g,n,h,a)||d.RA(n,h,l,m,a)||d.RA(l,m,b,f,a)}Vaa(){const a=
this.nb,b=this.ob;this.nb=this.Wb;this.ob=this.Xb;this.Wb=this.Sb;this.Xb=this.Tb;this.Sb=this.Qb;this.Tb=this.Rb;this.Qb=a;this.Rb=b}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.A(d.ld);d.Rm=class extends d.ca{constructor(f,c=!0){super();f||(f=a);this.td=Float64Array.from(f);this.jy=new d.Rect;this.io=!0;this.ag=c}m(){}rS(){return this.td.length/2}SA(f){this.td.length===f.length?this.td.set(f):this.td=Float64Array.from(f);this.io=!0}$aa(){this.SA(a)}ta(f){this.SA(f.td)}NI(){this.io=!0}r$(){if(this.io){var f=this.td,c=f[0],g=f[1],n=c,h=g;for(let l=0,m=f.length;l<m;l+=2){const p=f[l],u=f[l+1];p<c&&(c=p);p>n&&(n=p);u<g&&(g=
u);u>h&&(h=u)}this.jy.set(c,g,n,h);this.io=!1}}lh(f){let c=this.td;8!==c.length&&(this.td=c=new Float64Array(8));c[0]=f.M-NaN;c[1]=f.L-NaN;c[2]=f.$-NaN;c[3]=f.L-NaN;c[4]=f.$-NaN;c[5]=f.U-NaN;c[6]=f.M-NaN;c[7]=f.U-NaN;this.jy.ta(f);this.jy.offset(NaN,NaN);this.io=!1}OI(f,c,g){b.ta(f);b.offset(c,g);this.SA(b.toArray());this.io=!0}transform(f,c,g){let n=0,h=1;0!==g&&(n=Math.sin(g),h=Math.cos(g));this.XI(f,c,n,h)}XI(f,c,g,n){const h=this.td;for(let l=0,m=h.length;l<m;l+=2){const p=l+1,u=h[l]*f,q=h[p]*
c;h[l]=u*n-q*g;h[p]=q*n+u*g}this.io=!0}offset(f,c){const g=this.td;for(let n=0,h=g.length;n<h;n+=2)g[n]+=f,g[n+1]+=c}$e(f,c){const g=this.td;if(f===g[0]&&c===g[1])return!0;this.r$();var n=this.jy;const h=n.M-110,l=n.L-101,m=n.$+131;n=n.U+120;let p,u,q,v,t,w,y,z;h<f?(p=h,q=f):(p=f,q=h);l<c?(u=l,v=c):(u=c,v=l);m<f?(t=m,y=f):(t=f,y=m);n<c?(w=n,z=c):(w=c,z=n);let F=0,G=0;for(let D=0,H=g.length;D<H;D+=2){var Q=(D+2)%H;const J=g[D],M=g[D+1],P=g[Q];Q=g[Q+1];d.kl(h,l,f,c,p,q,u,v,J,M,P,Q)&&++F;d.kl(m,n,f,
c,t,y,w,z,J,M,P,Q)&&++G}return 1===F%2||1===G%2}tv(f,c,g){const n=f.td,h=this.td;if(this.$e(n[0]+c,n[1]+g)||f.$e(h[0]-c,h[1]-g))return!0;for(let m=0,p=h.length;m<p;m+=2){var l=(m+2)%p;f=h[m];const u=h[m+1],q=h[l];l=h[l+1];let v,t,w,y;f<q?(v=f,w=q):(v=q,w=f);u<l?(t=u,y=l):(t=l,y=u);for(let z=0,F=n.length;z<F;z+=2){const G=(z+2)%F;if(d.kl(f,u,q,l,v,w,t,y,n[z]+c,n[z+1]+g,n[G]+c,n[G+1]+g))return!0}}return!1}nn(){return this.ag}}}
{"use strict";const d=self.B;d.Ds=class extends d.ca{constructor(a){super();this.tj=new Map;if(a)for(const [b,f,c]of a)this.Set(b,f,c)}m(){this.Hc();this.tj=null}Hc(){const a=this.tj;for(const b of a.values())b.clear();a.clear()}Set(a,b,f){const c=this.tj;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,f)}X(a,b){return(a=this.tj.get(a))?a.get(b):a}Mw(a){return(a=this.tj.get(a))?a.has(void 0):!1}Sm(a,b){const f=this.tj,c=f.get(a);c&&c.delete(b)&&0===c.size&&f.delete(a)}BJ(a){const b=this.tj,f=b.get(a);
f&&(f.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}wl(){let a=0;for(const b of this.tj.values())a+=b.size;return a}*values(){for(const a of this.tj.values())yield*a.values()}*entries(){for(const [a,b]of this.tj.entries())for(const [f,c]of b.entries())yield[a,f,c]}}}
{"use strict";const d=self.B;d.gB=class extends d.ca{constructor(){super();this.nm=new Set;this.hy=[];this.zu=!1}m(){this.Hc()}Hc(){this.nm.clear();d.D(this.hy);this.zu=!1}tc(a){this.nm.has(a)||(this.nm.add(a),this.zu||this.hy.push(a))}Mw(a){return this.nm.has(a)}Sm(a){this.nm.delete(a)&&(this.zu=!0)}wl(){return this.nm.size}mn(){return 0===this.nm.size}EB(){this.zu&&(this.A6(),this.zu=!1);return this.hy}A6(){const a=this.hy;d.D(a);for(const b of this.nm)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,f=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Pr=class n{constructor(){}static LY(h){this.OD();return[...a.keys()].includes(h)}static q4(h){const l=g.get(h);if(l)return d.get(l);if(n.LY(h))return d.get(h);if(c.has(h))return c.get(h)}static $m(h){this.OD();const l=n.q4(h);return l?l:f.get(h)}static OD(){0===d.size&&(this.qb("default",()=>{}),this.qb("noease",this.uZ),this.qb("easeinsine",this.pV),this.qb("easeoutsine",
this.yV),this.qb("easeinoutsine",this.lV),this.qb("easeinelastic",this.aV),this.qb("easeoutelastic",this.tV),this.qb("easeinoutelastic",this.gV),this.qb("easeinback",this.YU),this.qb("easeoutback",this.qV),this.qb("easeinoutback",this.cV),this.qb("easeinbounce",this.DJ),this.qb("easeoutbounce",this.yB),this.qb("easeinoutbounce",this.dV),this.qb("easeincubic",this.$U),this.qb("easeoutcubic",this.sV),this.qb("easeinoutcubic",this.fV),this.qb("easeinquad",this.mV),this.qb("easeoutquad",this.vV),this.qb("easeinoutquad",
this.iV),this.qb("easeinquart",this.nV),this.qb("easeoutquart",this.wV),this.qb("easeinoutquart",this.jV),this.qb("easeinquint",this.oV),this.qb("easeoutquint",this.xV),this.qb("easeinoutquint",this.kV),this.qb("easeincirc",this.ZU),this.qb("easeoutcirc",this.rV),this.qb("easeinoutcirc",this.eV),this.qb("easeinexpo",this.bV),this.qb("easeoutexpo",this.uV),this.qb("easeinoutexpo",this.hV),this.$M("cubicbezier",this.XU),this.$M("spline",this.zV))}static qb(h,l){n.JD(h,l,"predefined")}static $M(h,l){n.JD(h,
l,"private")}static SS(h,l){this.OD();n.JD(h,l,"custom",void 0)}static JD(h,l,m,p){switch(m){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):f.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static uZ(h,l,m,p){return m*h/p+l}static mV(h,l,m,p){return m*(h/=p)*h+l}static vV(h,l,m,p){return-m*(h/=p)*(h-2)+l}static iV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h+l:-m/2*(--h*(h-2)-1)+l}static $U(h,
l,m,p){return m*(h/=p)*h*h+l}static sV(h,l,m,p){return m*((h=h/p-1)*h*h+1)+l}static fV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h+l:m/2*((h-=2)*h*h+2)+l}static nV(h,l,m,p){return m*(h/=p)*h*h*h+l}static wV(h,l,m,p){return-m*((h=h/p-1)*h*h*h-1)+l}static jV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h+l:-m/2*((h-=2)*h*h*h-2)+l}static oV(h,l,m,p){return m*(h/=p)*h*h*h*h+l}static xV(h,l,m,p){return m*((h=h/p-1)*h*h*h*h+1)+l}static kV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h*h+l:m/2*((h-=2)*h*h*h*h+2)+l}static pV(h,
l,m,p){return-m*Math.cos(h/p*(Math.PI/2))+m+l}static yV(h,l,m,p){return m*Math.sin(h/p*(Math.PI/2))+l}static lV(h,l,m,p){return-m/2*(Math.cos(Math.PI*h/p)-1)+l}static bV(h,l,m,p){return 0===h?l:m*Math.pow(2,10*(h/p-1))+l}static uV(h,l,m,p){return h===p?l+m:m*(-Math.pow(2,-10*h/p)+1)+l}static hV(h,l,m,p){return 0===h?l:h===p?l+m:1>(h/=p/2)?m/2*Math.pow(2,10*(h-1))+l:m/2*(-Math.pow(2,-10*--h)+2)+l}static ZU(h,l,m,p){return-m*(Math.sqrt(1-(h/=p)*h)-1)+l}static rV(h,l,m,p){return m*Math.sqrt(1-(h=h/p-
1)*h)+l}static eV(h,l,m,p){return 1>(h/=p/2)?-m/2*(Math.sqrt(1-h*h)-1)+l:m/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static aV(h,l,m,p){let u=0,q=m;if(0===h)return l;if(1===(h/=p))return l+m;u||(u=.3*p);q<Math.abs(m)?(q=m,m=u/4):m=u/(2*Math.PI)*Math.asin(m/q);return-(q*Math.pow(2,10*--h)*Math.sin(2*(h*p-m)*Math.PI/u))+l}static tV(h,l,m,p){let u,q=0,v=m;if(0===h)return l;if(1===(h/=p))return l+m;q||(q=.3*p);v<Math.abs(m)?(v=m,u=q/4):u=q/(2*Math.PI)*Math.asin(m/v);return v*Math.pow(2,-10*h)*Math.sin(2*(h*p-u)*
Math.PI/q)+m+l}static gV(h,l,m,p){let u,q=0,v=m;if(0===h)return l;if(2===(h/=p/2))return l+m;q||(q=.3*p*1.5);v<Math.abs(m)?(v=m,u=q/4):u=q/(2*Math.PI)*Math.asin(m/v);return 1>h?-.5*v*Math.pow(2,10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)+l:v*Math.pow(2,-10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)*.5+m+l}static YU(h,l,m,p,u){void 0===u&&(u=1.70158);return m*(h/=p)*h*((u+1)*h-u)+l}static qV(h,l,m,p,u){void 0===u&&(u=1.70158);return m*((h=h/p-1)*h*((u+1)*h+u)+1)+l}static cV(h,l,m,p,u){void 0===u&&(u=1.70158);return 1>
(h/=p/2)?m/2*h*h*(((u*=1.525)+1)*h-u)+l:m/2*((h-=2)*h*(((u*=1.525)+1)*h+u)+2)+l}static DJ(h,l,m,p){return m-n.yB(p-h,0,m,p)+l}static yB(h,l,m,p){return(h/=p)<1/2.75?7.5625*m*h*h+l:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+l:m*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static dV(h,l,m,p){return h<p/2?.5*n.DJ(2*h,0,m,p)+l:.5*n.yB(2*h-p,0,m,p)+.5*m+l}static XU(h,l,m,p,u){return l+3*h*(m-l)+3*h**2*(l+p-2*m)+h**3*(u-l+3*m-3*p)}static zV(h,l,m,p,u,q,v,t,w,y){if(p===
u&&q===v)return h;if(1==h)h=1;else{for(var z=0,F=1,G=y[F];10!=F&&G<=h;)F++,G=y[F],z+=.1;F--;G=y[F];y=z+(h-G)/(y[F+1]-G)*.1;t=t-3*q+3*p-l;q=3*q-6*p+3*l;l=3*(p-l);p=3*t*y*y+2*q*y+l;if(0!==p)if(.02<=p)for(z=0;4>z;++z)y-=(((t*y+q)*y+l)*y-h)/(3*t*y*y+2*q*y+l);else{p=z;z+=.1;F=0;let Q;do y=p+(z-p)/2,G=((t*y+q)*y+l)*y-h,0<G?z=y:p=y,G=1E-7<Math.abs(G),Q=10>++F;while(G&&Q)}h=y}return(((w-3*v+3*u-m)*h+(3*v-6*u+3*m))*h+3*(u-m))*h}static XV(h,l,m,p){const u=[];p=p-3*m+3*l-h;m=3*m-6*l+3*h;h=3*(l-h);for(let q=
0;11>q;++q)l=.1*q,u.push(((p*l+m)*l+h)*l);return u}}}{"use strict";const d=self.B;d.Jfa=class{constructor(){this.xQ=[]}m(){this.Hc();this.xQ=null}Hc(){d.M$(this.xQ)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.oaa=this.HI=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.oaa)throw Error(`cannot stop async event '${this.type}' propagation`);this.HI=!0}};
{"use strict";const d=self.B;d.Event.nX=class extends d.ca{constructor(a){super();this.ra=a;this.Le=[];this.bq=new Set;this.Te=[];this.Cq=new Set;this.St=0;this.Oq=[]}m(){0<this.St||(d.D(this.Le),this.bq.clear(),d.D(this.Te),this.Cq.clear(),d.D(this.Oq),d.m(this))}YM(a,b){this.bO()?this.Oq.push({AI:"add",jh:a,capture:b}):b?this.bq.has(a)||(this.Le.push(a),this.bq.add(a)):this.Cq.has(a)||(this.Te.push(a),this.Cq.add(a))}O6(a,b){this.bO()?this.Oq.push({AI:"remove",jh:a,capture:b}):b?this.bq.has(a)&&
(this.bq.delete(a),d.No(this.Le,a)):this.Cq.has(a)&&(this.Cq.delete(a),d.No(this.Te,a))}b5(){return!this.Le.length&&!this.Te.length}bO(){return 0<this.St}x6(){const a=new Set,b=new Set;for(const f of this.Oq)if("add"===f.AI)this.YM(f.jh,f.capture),f.capture?b.delete(f.jh):a.delete(f.jh);else if("remove"===f.AI)f.capture?(this.bq.delete(f.jh),b.add(f.jh)):(this.Cq.delete(f.jh),a.add(f.jh));else throw Error("invalid op");d.pg(this.Te,a);d.pg(this.Le,b);d.D(this.Oq)}c4(a){this.Vp();let b=!1;for(let f=
0,c=this.Le.length;f<c;++f)if(this.Le[f](a),a.HI){b=!0;break}if(!b)for(let f=0,c=this.Te.length;f<c&&(this.Te[f](a),!a.HI);++f);this.Tp();return!a.defaultPrevented}e4(a){this.Vp();for(let b=0,f=this.Le.length;b<f;++b)this.Le[b](a);for(let b=0,f=this.Te.length;b<f;++b)this.Te[b](a);this.Tp();return!0}Vp(){this.St++}Tp(){this.St--;0===this.St&&0<this.Oq.length&&this.x6()}Fp(a){a?this.Vp():this.Tp()}zN(a){const b=[];this.Vp();for(let c=0,g=this.Le.length;c<g;++c){var f=this.Le[c](a);f instanceof Promise&&
b.push(f)}for(let c=0,g=this.Te.length;c<g;++c)f=this.Te[c](a),f instanceof Promise&&b.push(f);this.Tp();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async Z3(a){return await this.zN(a)}async a4(a){this.Vp();for(let f=0,c=this.Le.length;f<c;++f){var b=this.Le[f](a);b instanceof Promise&&await b}for(let f=0,c=this.Te.length;f<c;++f)b=this.Te[f](a),b instanceof Promise&&await b;this.Tp();return!a.defaultPrevented}*b4(a){this.Vp();for(let f=0,c=this.Le.length;f<c;++f){var b=
this.Le[f](a);d.Bl(b)&&(yield*b)}for(let f=0,c=this.Te.length;f<c;++f)b=this.Te[f](a),d.Bl(b)&&(yield*b);this.Tp()}}}
{"use strict";const d=self.B;d.Event.Kb=class extends d.ca{constructor(){super();this.Wn=new Map;this.xF=!1}m(){if(this.xF)throw Error("already released");this.JT();this.xF=!0;d.m(this)}wx(){return this.xF}JT(){for(let a of this.Wn.values())a.m();this.Wn.clear()}En(a,b){let f=this.Wn.get(a);return f?f:b?(f=d.A(d.Event.nX,a),this.Wn.set(a,f),f):null}iC(a){return this.Wn.has(a)}addEventListener(a,b,f){this.En(a,!0).YM(b,!!f)}removeEventListener(a,b,f){let c=this.En(a,!1);c&&(c.O6(b,!!f),c.b5()&&this.Wn.delete(a))}dispatchEvent(a){const b=
this.En(a.type,!1);return b?a.cancelable?b.c4(a):b.e4(a):!0}async gI(a){const b=this.En(a.type,!1);return b?await b.Z3(a):!0}W$(a){const b=this.En(a.type,!1);return b?b.zN(a):!0}async V$(a){const b=this.En(a.type,!1);b&&await b.a4(a)}X$(a){const b=this.En(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.b4(a)}Fp(a){for(const b of this.Wn.values())b.Fp(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],f=-1,c=0;function g(m){f=a&&0===c?requestIdleCallback(n,{timeout:35}):setTimeout(n,0<c?1:m)}function n(m){f=-1;if(b.length){var p=performance.now(),u=0;do{h(b.shift());var q=performance.now();++u;var v=(q-p)/u*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof m?v<m.timeRemaining():12>q-p+v));-1===f&&b.length&&g(Math.max(16-(q-p),4))}}function h(m){let p;try{p=m.jh()}catch(u){m.reject(u);return}m.resolve(p)}let l=d.GL.Mw("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Oj=function(m){let p=null;d.qr&&(p=d.jw());return new Promise((u,q)=>{b.push({jh:m,resolve:u,reject:q,stack:p});l?h(b.pop()):-1===f&&g(16)})};d.Oj.iM=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.gw=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let f=-1,c=-1,g=new Set;function n(){c=f=-1;let h=Date.now();for(let l of g)if(l.D2(h)){let m=l.Rn;if(-1===c||m<c)c=m}else g.delete(l);-1!==c&&(f=self.setTimeout(n,Math.max(c-h+100,1E3)))}d.OX=class{constructor(h,l){this.aq=h;this.nA=1E3*l;this.Rn=0;this.xb=!1}ad(){let h=d.gw();this.Rn=h+this.nA;this.xb||(g.add(this),this.xb=!0);-1===f?(c=this.Rn,f=self.setTimeout(n,this.nA+
100)):this.Rn<c&&c>h+1E3&&(self.clearTimeout(f),c=this.Rn,f=self.setTimeout(n,this.nA+100))}D2(h){return h>=this.Rn?this.aq()?(this.Rn=h+this.nA,!0):this.xb=!1:!0}CT(){this.xb&&(g.delete(this),this.xb=!1,0===g.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}m(){this.CT();this.aq=null}}}
{"use strict";const d=self.B;d.ae=class a{constructor(b){this.nq=!1;this.yF=b}dw(){this.nq||(this.nq=!0,this.yF&&(this.yF(),this.yF=null))}m(){this.dw()}static m(b){return new a(()=>b.m())}static vg(b,f,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const n=new d.oB;for(let h of f)b.addEventListener(h,c,g),n.tc(d.A(d.ae,()=>b.removeEventListener(h,c,g)));return n}b.addEventListener(f,
c,g);return d.A(d.ae,()=>b.removeEventListener(f,c,g))}};d.uia=class extends d.ae{};d.oB=class extends d.ae{constructor(...a){super();this.Me=new Set;for(let b of a)this.tc(b)}tc(...a){if(this.nq)throw Error("already disposed");for(let b of a)this.Me.add(b)}Cg(a){if(this.nq)throw Error("already disposed");this.Me.delete(a)}dw(){if(this.nq)throw Error("already disposed");this.nq=!0;for(let a of this.Me)a.dw();this.Me.clear();this.Me=null}m(){this.dw()}}}
{"use strict";const d=self.B;d.xs=class extends d.ca{constructor(){super();this.Vq=this.Su=this.K=this.my=0}tc(a){this.K=+a-this.my;this.Su=this.Vq+this.K;this.my=this.Su-this.Vq-this.K;this.Vq=this.Su}X(){return this.Vq}ad(){this.Vq=this.Su=this.K=this.my=0}Set(a){this.Su=this.K=this.my=0;this.Vq=+a}m(){}}}
{"use strict";const d=self.B,a={QC:function(b){this.GS=b;this.left=this.right=this.GS.hb;this.parent=null;this.color=!1;this.key=null},vn:function(b){this.size=0;this.hb=new a.QC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb;this.compare=b||this.S$}};ya=a.vn.prototype;ya.S$=function(b,f){return b<f?-1:f<b?1:0};ya.clone=function(){var b=new a.vn(this.compare);b.jaa(this);return b};ya.clear=function(){this.size=0;this.hb=new a.QC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=
this.hb};ya.uv=function(b){var f=b.right;b.right=f.left;f.left!=this.hb&&(f.left.parent=b);f.parent=b.parent;b.parent==this.hb?this.root=f:b==b.parent.left?b.parent.left=f:b.parent.right=f;f.left=b;b.parent=f};ya.Dv=function(b){var f=b.left;b.left=f.right;f.right!=this.hb&&(f.right.parent=b);f.parent=b.parent;b.parent==this.hb?this.root=f:b==b.parent.right?b.parent.right=f:b.parent.left=f;f.right=b;b.parent=f};ya.mr=function(b){if(this.contains(b))this.rv(b).key=b;else{var f=new a.QC(this);f.key=
b;b=this.hb;for(var c=this.root;c!=this.hb;)b=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=b;b==this.hb?this.root=f:0>this.compare(f.key,b.key)?b.left=f:b.right=f;f.left=this.hb;f.right=this.hb;f.color=!0;this.kaa(f);this.size++}};ya.kaa=function(b){for(;b!=this.hb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var f=b.parent.parent.right;1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.uv(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.Dv(b.parent.parent))}else f=b.parent.parent.left,1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Dv(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.uv(b.parent.parent));this.root.color=!1};ya.U$=function(b){var f=b.left==this.hb||b.right==this.hb?b:this.Pm(b);var c=f.left!=this.hb?f.left:f.right;c.parent=f.parent;f.parent==
this.hb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=b&&(b.key=f.key);0==f.color&&this.T$(c);this.size--};ya.T$=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var f=b.parent.right;1==f.color&&(f.color=!1,b.parent.color=!0,this.uv(b.parent),f=b.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,b=b.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.Dv(f),f=b.parent.right),f.color=b.parent.color,b.parent.color=!1,f.right.color=!1,this.uv(b.parent),
b=this.root)}else f=b.parent.left,1==f.color&&(f.color=!1,b.parent.color=!0,this.Dv(b.parent),f=b.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,b=b.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.uv(f),f=b.parent.left),f.color=b.parent.color,b.parent.color=!1,f.left.color=!1,this.Dv(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.rv(b);if(b!=this.hb){var f=b.key;this.U$(b);return f}return null};ya.min=function(b){for(;b.left!=this.hb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.hb;)b=b.right;return b};ya.Pm=function(b){if(b.right!=this.hb)return this.min(b.right);for(var f=b.parent;f!=this.hb&&b==f.right;)b=f,f=f.parent;return f};ya.rv=function(b){for(var f=this.root;f!=this.hb&&0!=this.compare(f.key,b);)f=0>this.compare(b,f.key)?f.left:f.right;return f};ya.contains=function(b){return null!=this.rv(b).key};ya.mI=function(){var b=[];this.forEach(function(f){b.push(f)});return b};ya.jaa=function(b){if("array"==a.YI(b))for(var f=0;f<b.length;f++)this.mr(b[f]);
else if("function"==a.YI(b.forEach))b.forEach(this.mr,this);else if("function"==a.YI(b.mI))for(b=b.mI(),f=0;f<b.length;f++)this.mr(b[f]);else if("object"==a.YI(b))for(f in b)this.mr(b[f])};ya.range=function(b,f){var c=[];this.rba(function(g){c.push(g)},b,f);return c};ya.rba=function(b,f,c){if(!this.rr())for(f=this.rv(f),c=this.rv(c);f!=c&&!b.call(void 0,f.key,this);)f=this.Pm(f)};ya.forEach=function(b,f){if(!this.rr())for(var c=this.min(this.root);c!=this.hb;c=this.Pm(c))b.call(f,c.key,c.key,this)};
ya.some=function(b,f){if(this.rr())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Pm(c))if(b.call(f,c.key,c.key,this))return!0;return!1};ya.every=function(b,f){if(this.rr())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Pm(c))if(!b.call(f,c.key,c.key,this))return!1;return!0};ya.map=function(b,f){var c=[];if(this.rr())return c;for(var g=this.min(this.root);g!=this.hb;g=this.Pm(g))c.push(b.call(f,g.key,g.key,this));return c};ya.filter=function(b,f){var c=[];if(this.rr())return c;
for(var g=this.min(this.root);g!=this.hb;g=this.Pm(g))b.call(f,g.key,g.key,this)&&c.push(g.key);return c};ya.rr=function(){return 0==this.size};d.vn=class extends d.ca{constructor(b){super();this.gg=new a.vn(b);this.qq=!1;this.zo=new Set;this.Ao=new Set}tc(b){this.qq?this.gg.contains(b)?this.Ao.delete(b):this.zo.add(b):this.gg.mr(b)}Cg(b){this.qq?this.gg.contains(b)?this.Ao.add(b):this.zo.delete(b):this.gg.remove(b)}Mw(b){return this.qq?this.zo.has(b)?!0:!this.Ao.has(b)&&this.gg.contains(b):this.gg.contains(b)}Hc(){this.gg.clear();
this.zo.clear();this.Ao.clear()}toArray(){if(this.qq)throw Error("cannot be used in queueing mode");return this.gg.mI()}wl(){return this.gg.size+this.zo.size-this.Ao.size}mn(){return 0===this.wl()}Dg(b){b=!!b;if(this.qq!==b&&(this.qq=b,!b)){for(const f of this.Ao)this.gg.remove(f);this.Ao.clear();for(const f of this.zo)this.gg.mr(f);this.zo.clear()}}MJ(b){this.gg.forEach(b)}*values(){if(!this.mn()){var b=this.gg;for(let f=b.min(b.root);f!=b.hb;f=b.Pm(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.BL=class{constructor(a=d.hardwareConcurrency){this.R9=a;this.iH=[];this.RE=0}tc(a){return new Promise((b,f)=>{this.iH.push({jh:a,resolve:b,reject:f});this.lO()})}async lO(){if(this.iH.length&&!(this.RE>=this.R9)){this.RE++;var a=this.iH.shift();try{const b=await a.jh();a.resolve(b)}catch(b){a.reject(b)}this.RE--;this.lO()}}}}
{"use strict";const d=self.B;d.z_=class{constructor(a,b,f){this.aq=a;this.D9=b;this.E9=f||2*b;this.$q=-1;this.wz=-Infinity;this.GR=()=>this.l6();this.l9=this.XF=!1;this.It=null}u4(){return"undefined"!==typeof d.qT&&d.qT.$da()?this.E9:this.D9}BT(){var a=[];if(-1===this.$q){this.It=a;a=d.gw();var b=a-this.wz,f=this.u4();b>=f&&this.l9?(this.wz=a,this.KO()):this.$q=self.setTimeout(this.GR,Math.max(f-b,4))}}KO(){this.XF=!0;const a=this.It;this.It=null;a?this.aq(...a):this.aq();this.XF=!1}ad(){this.XF||
(this.eN(),this.It=null,this.wz=d.gw())}l6(){this.$q=-1;this.wz=d.gw();this.KO()}eN(){-1!==this.$q&&(self.clearTimeout(this.$q),this.$q=-1)}m(){this.eN();this.GR=this.It=this.aq=null}}}"use strict";function gc(d,a){if(!d.UP)throw Error("no get base size callback set");return d.UP(a)}function hc(d){if(!d.kR)throw Error("no redraw callback set");d.kR()}self.B.Vga=class{constructor(){this.A9=new Map;this.kR=this.lR=this.UP=null}};"use strict";
self.B.Uga=class{constructor(d,a){this.Hq=d;this.o9=a;this.qc=0;gc(this.Hq,a).then(()=>{hc(this.Hq)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);hc(this.Hq)});this.jH=null}m(){if(0>=this.qc)throw Error("already released");this.qc--;0===this.qc&&this.pt()}pt(){if(this.jH){var d=this.Hq;if(!d.lR)throw Error("no release result callback set");d.lR(this.jH);this.jH=null}this.Hq.A9.delete(this.o9);this.Hq=null}};
{"use strict";const d=self.B;d.Lia="\ufeff";const a=new Set([..."0123456789"]);d.MY=function(m){return a.has(m)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Ww=function(m){return b.has(m)};d.bda=function(m){return[...m].filter(p=>!d.Ww(p)).join("")};d.HC=function(m){for(const p of m)if(!d.Ww(p))return!1;return!0};d.XY=function(m){return 1===m.length&&32>m.charCodeAt(0)};d.LV=function(m){return[...m].filter(p=>
!d.XY(p)).join("")};const f=new Set([..."0123456789.+-e"]);d.hea=function(m){m=m.trim();if(!m.length)return!1;let p=m.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let u of m)if(!f.has(u))return!1;return!0};d.J_=function(m){let p=m.length;for(;0<p&&d.MY(m.charAt(p-1));)--p;return m.substr(0,p)};d.Cda=function(m){let p=d.J_(m);m=(m=m.substr(p.length))?(parseInt(m,10)+1).toString():"2";return p+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(m){return c.get(m)}
const n=/[&<>"']/g;d.DV=function(m){return m.replace(n,g)};d.Uca=function(m){m=d.Gh(m,"\\","\\\\");m=d.Gh(m,'"','\\"');m=d.Gh(m,"\t","\\t");m=d.Gh(m,"\r","");return d.Gh(m,"\n","\\n")};d.Vca=function(m){m=d.Gh(m,"&","&amp;");m=d.Gh(m,"<","&lt;");m=d.Gh(m,">","&gt;");return d.Gh(m,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Qr=function(m){return m.replace(h,"\\$&")};d.cda=function(m,p,u=!1){if(!p)return[];u||(m=m.toLowerCase(),p=p.toLowerCase());u=p.length;var q=0;let v=[];for(;-1<(q=m.indexOf(p,
q));)v.push(q),q+=u;return v};d.Gh=function(m,p,u){return m.replaceAll(p,()=>u)};d.Tfa=function(m,p,u){return m.replace(new RegExp(d.Qr(p),"gi"),()=>u)};d.nha=function(m,p){"string"===typeof p?m.textContent=p:p.sQ?m.textContent=p.toString():(m.innerHTML=p.UI(),p instanceof d.pl&&p.G$(m))};d.pia=function(m,p){return m instanceof d.nC||m instanceof d.pl?m.Nc(p):p instanceof d.nC||p instanceof d.pl?p.Nc(m):m===p};d.qia=function(m,...p){let u=m;for(let q=0,v=p.length;q<v;++q){const t=`{${q}}`;if(!m.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
u=u.replace(t,p[q].toString())}return u};d.ria=function(m,...p){let u=m,q=-1,v=-1;for(let t=0,w=p.length;t<w;++t){const y=`{${t}}`;m.includes(y)?(v=t,u=u.replace(y,p[t].toString())):-1===q&&(q=t)}if(0<=q&&0<=v&&q<v)throw Error(`missing placeholder '${q}' in string substitution`);return u};d.sia=function(m,p){for(let [u,q]of Object.entries(p))m=m.replaceAll(u,q.toString());return m};d.aia=function(m,p){m=m.toLowerCase();p=p.toLowerCase();return m>p?1:m<p?-1:0};d.fda=function(m,p){p="common."+(p?"dataRates":
"dataSizes")+".";const u=self.Gka;if(1024>m)return u(p+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return u(p+"terabytes",m)};const l={D$:!1,P$:!0,iaa:!0,Eaa:!0,xS:!0};d.gda=function(m,p){p=Object.assign({},
l,p);d.$Y.Lfa("common.time");const u=[],q=self.lang,v=self.Fka;if(p.P$){var t=Math.floor(m/86400);0<t&&(m-=86400*t,u.push(v(".days",null,t)))}p.iaa&&(t=Math.floor(m/3600),0<t||u.length)&&(m-=3600*t,u.push(v(".hours",null,t)));p.Eaa&&(t=Math.floor(m/60),0<t||u.length||!p.xS)&&(m-=60*t,u.push(v(".minutes",null,t)));p.xS&&u.push(v(".seconds",null,Math.floor(m%60)));m=(p.D$?q(".approx-prefix"):"")+u.join(q(".separator"));d.$Y.Hfa();return m};d.jja=function(m,p){let u=0>m?"-":"";m=Math.abs(m);m=m.toString();
p-=m.length;for(let q=0;q<p;++q)u+="0";return u+m};d.tia=function(m){return m.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Hca=function(m,p){m=m.split(".").map(u=>u.trim());p=p.split(".").map(u=>u.trim());d.vS(m);d.vS(p);m=m.map(u=>parseInt(u,10));p=p.map(u=>parseInt(u,10));for(let u=0;4>u;++u){const q=m[u]-p[u];if(0!==q)return 0>q?-1:1}return 0};d.Nca=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,m=>{const p=Math.floor(16*Math.random());return("x"===m?p:p&3|8).toString(16)})};
d.nia=function(m,p){if(m.length!==p.length)throw Error("strings must be same length");let u=0;for(let q=0,v=m.length;q<v;++q)m.charAt(q)!==p.charAt(q)&&++u;return u};d.oia=function(m,p){if(0===m.length)return p.length;if(0===p.length)return m.length;let u,q,v,t;if(m.length>p.length){var w=m;m=p;p=w}t=Array(m.length+1);for(w=0;w<=m.length;w++)t[w]=w;for(w=1;w<=p.length;w++){q=w;for(u=1;u<=m.length;u++)v=p[w-1]===m[u-1]?t[u-1]:Math.min(t[u-1]+1,Math.min(q+1,t[u]+1)),t[u-1]=q,q=v;t[m.length]=q}return t[m.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,g=0;function n(l,m,p){var u=a.get(p);if(u){if("string"===typeof u){if("a"!==u||m)return"<"+m+u+">";m=parseInt(p.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");u=c[m];if("string"===typeof u)return`<a href="${c[m]}">`;if("function"===typeof u)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(u))return l=u[0],u=u[1],m?"</"+l+">":`<${l} class="${u}">`}else return"class"===p?m?"</span>":
`<span class="bbclass${g++}">`:l}const h=/\n/g;d.pl=class{constructor(l,m){this.Ig=m&&m.Haa?l:d.DV(l);this.WF="";this.AP=!1;this.su=[];if(m&&(this.AP=!!m.Dja,m.links)){if(9<m.links.length)throw Error("too many links");this.su=m.links}this.ZP=this.Ig.includes("[");this.ZQ=this.AP&&this.Ig.includes("\n");this.sQ=!this.ZP&&!this.ZQ&&!this.Ig.includes("&");this.cQ=!1;this.Tt=[]}toString(){return this.Ig}valueOf(){return this.Ig}UI(){if(this.sQ)return this.Ig;if(!this.WF&&this.Ig){let l=this.Ig;this.ZP&&
(g=0,c=this.su,l=l.replace(b,n),c=null);this.ZQ&&(l=l.replace(h,"<br>"));this.WF=l}return this.WF}G$(l){if(this.su.length)for(let m=0,p=this.su.length;m<p;++m){const u=this.su[m];if("function"!==typeof u)continue;const q=l.querySelector(".bblink"+m);if(!q)throw Error("unable to attach BBString link handler");q.onclick=u}}Nc(l){return l instanceof d.nC?this.UI()===l.UI():l instanceof d.pl?this.Ig===l.Ig:this.Ig===l}lba(){if(this.cQ)return this.Tt;const l=this.Ig,m=[];let p=f.lastIndex=0;for(var u;null!==
(u=f.exec(l));){var q=u.index;if(0<q&&"\\"===l.charAt(q-1))continue;var v=u[1],t=u[2];const w=l.substring(p,q);p=q+u[0].length;w&&this.Tt.push({text:w,Pc:m.slice(0)});if(t)if(v)for(t=t.toLowerCase(),u=m.length-1;0<=u;--u){if(m[u].tag===t){m.splice(u,1);break}}else u=t,q=null,v=t.indexOf("="),-1!==v?(u=t.substring(0,v).toLowerCase(),q=t.substring(v+1)):u=u.toLowerCase(),m.push({tag:u,kh:q})}p<l.length&&this.Tt.push({text:l.substring(p),Pc:m.slice(0)});for(const w of this.Tt)w.text=this.w6(w.text);
this.cQ=!0;return this.Tt}w6(l){l=d.Gh(l,"\\[","[");return d.Gh(l,"\\\\","\\")}static GM(l){return l.replace(f,"")}}}
{"use strict";const d=self.B;d.HD=class{constructor(){this.gm=[]}nO(a,b){let f=0,c=0,g=0,n=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.Pc),l.width=a.width,l.height=a.height,l.Hf=a.Hf||0,l.bf=a.bf||0,l.df=a.df||0),f+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.Hf),n=Math.max(n,l.bf),h=Math.max(h,l.df);return{width:f,height:c,Hf:g,bf:n,df:h}}yx(a,b,f,c,g,n){this.gm.push({dS:a,width:b,height:f,Hf:c,bf:g,df:n})}HD(a,b,f,c,g){"string"===typeof a&&(a=[{text:a,Pc:[]}]);d.D(this.gm);if(!(!a.length||
1===a.length&&!a[0].text.length||2>f)){if(1===a.length){var n=a[0];const h=n.text;n=n.Pc;if(100>=h.length&&!h.includes("\n")){let {width:l,height:m,Hf:p,bf:u,df:q}=b(h,n);l+=g;p=p||0;u=u||0;q=q||0;if(l<=f){this.yx([{text:h,Pc:n,width:l,height:m,Hf:p,bf:u,df:q}],l,m,p,u,q);return}}}if("word"===c)c=this.w8(a);else{c=[];for(const h of a)d.Fm(c,[...h.text].map(l=>[{text:l,Pc:h.Pc}]))}this.Q8(c,b,f,g)}}w8(a){const b=[];let f=[],c=!1;for(const n of a){var g=n.text;a=n.Pc;for(const h of g)"\n"===h?(0<f.length&&
b.push(f),b.push([{text:"\n",Pc:a}]),f=[]):0===f.length?(f.push({text:h,Pc:a}),c=d.Ww(h)):(g=d.Ww(h),g===c?(g=f.Wd(-1),g.Pc===a?g.text+=h:f.push({text:h,Pc:a})):(b.push(f),f=[],f.push({text:h,Pc:a}),c=g))}0<f.length&&b.push(f);return b}G2(a){return a.map(b=>({text:b.text,Pc:b.Pc,width:b.width,height:b.height,Hf:b.Hf,bf:b.bf,df:b.df}))}cN(a,b){var f=a.length?a.Wd(-1):null;let c=0;f&&b[0].Pc===f.Pc&&(f.text+=b[0].text,f.width=-1,f.height=-1,f.Hf=-1,f.bf=-1,f.df=-1,c=1);for(f=b.length;c<f;++c){const g=
b[c];a.push({text:g.text,Pc:g.Pc,width:-1,height:-1,Hf:-1,bf:-1,df:-1})}}Q8(a,b,f,c){let g=[],n=0,h=0,l=0,m=0;var p=0;for(const u of a){if(1===u.length&&"\n"===u[0].text){0===h&&(p=b(" ",u[0].Pc),h=p.height,l=p.Hf||0,m=p.bf||0,p=p.df||0);this.yx(g,n,h,l,m,p);g=[];p=m=l=h=n=0;continue}a=this.G2(g);this.cN(a,u);const q=this.nO(a,b),v=q.width;v>=f?(0<g.length&&this.yx(g,n,h,l,m,p),g=[],d.HC(u[0].text)?p=m=l=h=n=0:(this.cN(g,u),p=this.nO(g,b),n=p.width,h=p.height,l=p.Hf,m=p.bf,p=p.df)):(g=a,n=v,h=q.height,
l=q.Hf,m=q.bf,p=q.df)}0<g.length&&this.yx(g,n,h,l,m,p);this.z8(b,c)}z8(a,b){for(const c of this.gm){const g=c.dS;if(!g.length)continue;let n=g.Wd(-1);var f=n.text;const h=f.trimEnd();if(!h)c.width-=n.width,g.pop();else if(h.length<f.length){f=a(h,n.Pc).width;const l=n.width-f;n.width=f;n.text=h;c.width-=l}0!==b&&0<g.length&&(n=g.Wd(-1),n.width+=b,c.width+=b)}}Hc(){d.D(this.gm)}PW(){return this.gm.reduce((a,b)=>Math.max(a,b.width),0)}gX(){return this.gm.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.B,a=self.Mj,b=a.YA,f=a.Iv,c=a.Lm,g=b.create(),n=b.create(),h=b.create(),l=f.create(),m=c.create(),p=b.create(),u=b.create(),q=b.create(),v=b.create(),t=b.create(),w=b.create(),y=b.create(),z=b.create(),F=f.cf(0,0,1,1);d.T={q_(H,J,M,P,R,V,Z){const ca=P[0]*H+P[4]*J+P[8]*M+P[12],Y=P[1]*H+P[5]*J+P[9]*M+P[13],ha=P[2]*H+P[6]*J+P[10]*M+P[14];P=P[3]*H+P[7]*J+P[11]*M+P[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*P;J=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*P;M=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*P;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*P;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*V[2]+V[0];Z[1]=(J*R*.5+.5)*V[3]+V[1];Z[2]=.5*(1+M*R);return!0},hj(H,J,M,P,R,V,Z){c.multiply(m,R,P);if(null===c.pr(m,m))return!1;l[0]=(H-V[0])/V[2]*2-1;l[1]=(J-V[1])/V[3]*2-1;l[2]=2*M-1;l[3]=1;f.WI(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},D1(H,J,M,P,R,V,Z){if(!d.T.hj(H,J,0,P,R,V,g)||!d.T.hj(H,J,1,P,R,V,n))return!1;b.nl(n,n,g);b.set(h,0,0,1);H=-M;J=b.Im(h,n);M=0;if(0===J){if(0!==
b.Im(h,g)+H)return!1}else if(M=-(b.Im(g,h)+H)/J,0>M)return!1;b.MI(Z,g,n,M);return!0}};function G(H,J,M,P){b.nl(g,M,J);b.nl(n,H,J);b.eI(h,g,n);b.normalize(h,h);P.set(h[0],h[1],h[2],b.Im(H,h))}function Q(H,J,M,P,R,V,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.LS,Oa=Z.MS;Z=Z.NS;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*P*ab+Y*J*Oa+Y*R*Ua+ha*M*Z+ha*V*bb>=ka?!0:ca*P*za+ca*H*ab+Y*R*Oa+Y*J*Ua+ha*V*Z+ha*M*bb>ka}class D{constructor(){this.NS=this.MS=this.LS=this.w=this.z=this.y=this.x=NaN}set(H,J,M,P){this.x=
H;this.y=J;this.z=M;this.w=P;this.LS=0<H?1:0;this.MS=0<J?1:0;this.NS=0<M?1:0}}d.T.L1=class{constructor(){this.KQ=new D;this.HR=new D;this.oR=new D;this.vP=new D;this.YQ=new D;this.NP=new D}zT(H,J){d.T.hj(0,1,0,H,J,F,p);d.T.hj(1,1,0,H,J,F,u);d.T.hj(0,0,0,H,J,F,q);d.T.hj(1,0,0,H,J,F,v);d.T.hj(0,1,1,H,J,F,t);d.T.hj(1,1,1,H,J,F,w);d.T.hj(0,0,1,H,J,F,y);d.T.hj(1,0,1,H,J,F,z);G(q,p,t,this.KQ);G(p,u,w,this.HR);G(u,v,z,this.oR);G(v,q,y,this.vP);G(y,t,w,this.NP);G(v,u,p,this.YQ)}YT(H,J,M,P,R,V){return Q(H,
J,M,P,R,V,this.KQ)&&Q(H,J,M,P,R,V,this.HR)&&Q(H,J,M,P,R,V,this.oR)&&Q(H,J,M,P,R,V,this.vP)&&Q(H,J,M,P,R,V,this.YQ)&&Q(H,J,M,P,R,V,this.NP)}}}
{"use strict";const d=self.B,a=self.Mj,b=a.YA,f=a.Iv,c=a.Lm,g=c.create(),n=b.cf(0,0,0),h=b.cf(0,0,0),l=b.cf(0,0,0),m=b.cf(0,1,0);f.cf(0,0,0,0);new d.ld;new d.Rect;const p=new d.ld(0,0,1,0,1,1,0,1);d.T.M_=class{constructor(){this.O=this.S=0;this.x9=d.pb(45);this.CH=Math.tan(this.x9/2);this.Iz=c.create();this.KG=c.create();this.Kn=[];this.aA=new Map;this.sH=this.eA=this.fA=null;this.Qu=new Map;this.ei=null;this.iF=[];this.XQ=new Map;this.Pt=this.Et=0;this.LQ=this.MQ=1;this.FG=.5;this.Qg=0;this.pq=!0;
this.UF=!1}KV(u){let q=0,v=u.length,t=0;for(;q<v;)u[q++]=t,u[q++]=t+1,u[q++]=t+2,u[q++]=t,u[q++]=t+2,u[q++]=t+3,t+=4}gN(){this.Pt=this.Et=0;this.sH=this.eA=this.fA=null;this.E2()}Rw(){this.gN();this.ei=null}LZ(){for(const u of this.Kn)u.m();this.gN()}ba(){return this.S}aa(){return this.O}Mr(u,q,v=.5,t=.5){v=1-v;const w=1*this.CH;q*=w;c.baa(u,(2*v-2)*q,2*v*q,(2*t-2)*w,2*t*w,1,1E4)}yT(u,q,v){const t=self.devicePixelRatio,w=200*t*this.CH/v;q=q*w/(2*t);v=v*w/(2*t);c.Laa(u,-q,q,-v,v,1,1E4)}iJ(u,q,v,t,
w=this.cC()){w=200*self.devicePixelRatio*this.CH/w;b.set(l,w,-w,1);b.multiply(n,q,l);b.multiply(h,v,l);c.Aaa(u,n,h,t||m);c.scale(u,u,l)}Lr(u,q,v,t,w,y){b.set(n,u,q,v);b.set(h,t,w,0);this.iJ(g,n,h,m,y);return g}m2(u){this.Kn.push(u);this.aA.set(u.wa(),u)}Q6(u){const q=this.Kn.indexOf(u);-1!==q&&this.Kn.splice(q,1);this.aA.delete(u.wa())}E2(){d.D(this.Kn);this.aA.clear()}qK(u){return this.aA.get(u)||null}Mh(){this.Nl(this.fA)}aM(){this.Nl(this.sH)}J7(u){this.ei=u}PS(u,q,v,t){const w=d.T.AD.$K(u,q,v,
t);let y=this.Qu.get(w);y||(y=d.A(d.T.AD,this,u,q,v,t),this.Qu.set(w,y));y.cT();return y}IL(u){u.sU();0===u.qc&&(this.ei===u&&(this.ei=null),this.Qu.delete(u.IW()),u.m())}M4(u){d.D(this.iF);this.XQ.clear();for(const q of u){u=q[0];const v=q[1],t=q[2];this.iF.push([v,t]);this.XQ.set(u,{fma:v,Lja:t})}}o4(u){return this.iF[u]}Ks(u){this.Et=u}Jl(u){this.Pt=u;this.ei=null}bZ(u,q,v,t){var w=d.CA(u,q,v,t),y=.5*this.MQ;const z=Math.sin(w)*y;w=Math.cos(w)*y;y=this.LQ;2===y?this.As(u,q,v,t,z,w):1===y?this.zs(u,
q,v,t,z,w):this.ys(u,q,v,t,z,w)}As(u,q,v,t,w,y){var z=this.FG;u=u+z-y;q=q+z-w;v=v+z+y;t=t+z+w;z=2*y;const F=2*w;this.ax(u+w,q-y,0,v+w,t-y,0,v-w-z,t+y-F,0,u-w+z,q+y+F,0,p)}zs(u,q,v,t,w,y){const z=this.FG;u=u+z-y;q=q+z-w;v=v+z+y;t=t+z+w;this.ax(u+w,q-y,0,v+w,t-y,0,v-w,t+y,0,u-w,q+y,0,p)}ys(u,q,v,t,w,y){const z=this.FG;u+=z;q+=z;v+=z;t+=z;this.ax(u+w,q-y,0,v+w,t-y,0,v-w,t+y,0,u-w,q+y,0,p)}cZ(u,q,v,t){const w=.5*this.MQ,y=this.LQ;2===y?this.h5(u,q,v,t,w):1===y?this.g5(u,q,v,t,w):this.f5(u,q,v,t,w)}h5(u,
q,v,t,w){this.As(u,q,v,q,0,w);this.As(v,q,v,t,w,0);this.As(v,t,u,t,0,-w);this.As(u,t,u,q,-w,0)}g5(u,q,v,t,w){this.zs(u,q,v,q,0,w);this.zs(v,q,v,t,w,0);this.zs(v,t,u,t,0,-w);this.zs(u,t,u,q,-w,0)}f5(u,q,v,t,w){this.ys(u,q,v,q,0,w);this.ys(v,q,v,t,w,0);this.ys(v,t,u,t,0,-w);this.ys(u,t,u,q,-w,0)}VK(u){this.cZ(u.M,u.L,u.$,u.U)}Ur(){this.uh();this.Qg++}SX(){this.Qg++}kD(u){this.pq=!!u}A0(u){this.UF=!!u}ws(){return!1}}}
{"use strict";const d=self.B;d.T.AD=class{constructor(a,b,f,c,g){this.pa=a;this.qc=0;this.bb=null;this.Lu="";this.Wl=f;this.Ya=d.A(d.Va);this.Ya.set(c);this.Fc=g;"string"===typeof b?this.Lu=b:(this.bb=b,this.Lu=this.bb.wa())}m(){if(0<this.qc)throw Error("releasing state group still in use");this.bb=this.pa=null;this.Lu=""}iT(){const a=this.pa;a.Nl(this.bb);a.sf(this.Wl);a.Hl(this.Ya);a.Jl(this.Fc);a.J7(this)}IW(){return d.T.AD.$K(this.Lu,this.Wl,this.Ya,this.Fc)}cT(){++this.qc}sU(){--this.qc}ik(){this.bb=
null}NC(a){this.bb=a.qK(this.Lu);if(!this.bb)throw Error("failed to restore shader program");}static $K(a,b,f,c){return("string"===typeof a?a:a.wa())+","+b+","+f.Pa+","+f.Sa+","+f.Ra+","+f.Qa+","+c}}}
{"use strict";const d=self.B,a=d.A(d.ld);function b(f,c,g){const n=g.nb,h=g.ob;return[n+(g.Wb-n)*f+(g.Qb-n)*c,h+(g.Xb-h)*f+(g.Rb-h)*c]}d.T.sZ=class{constructor(f){this.OG=f;this.og=this.mg=this.Fc=this.K=this.N=0}Uh(f,c,g,n){this.N=f;this.K=c;this.mg=g;this.og=n}ka(){return this.N}Eg(f){this.N!==f&&(this.N=f,this.OG.BE())}la(){return this.K}Ph(f){this.K!==f&&(this.K=f,this.OG.BE())}Ua(){return this.Fc}Ke(f){this.Fc!==f&&(this.Fc=Math.max(f,0),this.OG.BE())}rD(f){this.mg=f}sD(f){this.og=f}Y4(f,c,g){[this.N,
this.K]=b(f.N,f.K,c);this.Fc=f.Fc;this.mg=d.Gd(g.M,g.$,f.mg);this.og=d.Gd(g.L,g.U,f.og)}X4(f,c,g){[this.N,this.K]=b(f.N,f.K,c);this.Fc=f.Fc;[this.mg,this.og]=b(f.mg,f.og,g)}md(){return{x:this.ka(),y:this.la(),z:this.Ua(),u:this.mg,v:this.og}}$c(f){this.Eg(f.x);this.Ph(f.y);f.hasOwnProperty("z")&&this.Ke(f.z);this.rD(f.u);this.sD(f.v)}};d.T.cL=class{constructor(f,c,g){if(2>f||2>c)throw Error("invalid mesh size");this.uj=f;this.Fj=c;this.Hb=g||null;this.mm=[];this.UQ=this.TQ=0;this.QQ=this.PQ=1;this.RQ=
0;this.dH=!1;g=f-1;const n=c-1;for(let h=0;h<c;++h){const l=[];for(let m=0;m<f;++m){const p=d.A(d.T.sZ,this,m,h),u=m/g,q=h/n;p.Uh(u,q,u,q);l.push(p)}this.mm.push(l)}}m(){d.D(this.mm)}BE(){this.dH=!0}lt(){if(this.dH){var f=Infinity,c=Infinity,g=-Infinity,n=-Infinity,h=0;for(const l of this.mm)for(const m of l){const p=m.ka(),u=m.la();f=Math.min(f,p);c=Math.min(c,u);g=Math.max(g,p);n=Math.max(n,u);h=Math.max(h,m.Ua())}this.TQ=f;this.UQ=c;this.PQ=g;this.QQ=n;this.RQ=h;this.dH=!1}}TW(){this.lt();return this.TQ}UW(){this.lt();
return this.UQ}QW(){this.lt();return this.PQ}RW(){this.lt();return this.QQ}SW(){this.lt();return this.RQ}hp(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.uj||0>c||c>=this.Fj?null:this.mm[c][f]}jJ(f,c,g){const n=g instanceof d.Rect;if(f.uj!==this.uj||f.Fj!==this.Fj)throw Error("source mesh wrong size");f=f.mm;const h=this.mm;for(let l=0,m=h.length;l<m;++l){const p=f[l],u=h[l];for(let q=0,v=u.length;q<v;++q){const t=p[q],w=u[q];n?w.Y4(t,c,g):w.X4(t,c,g)}}}ff(f){const c=this.mm;let g=c[0];
for(let n=1,h=c.length;n<h;++n){const l=c[n];let m=g[0],p=l[0];for(let u=1,q=l.length;u<q;++u){const v=g[u],t=l[u];a.set(m.mg,m.og,v.mg,v.og,t.mg,t.og,p.mg,p.og);f.ax(m.ka(),m.la(),m.Ua(),v.ka(),v.la(),v.Ua(),t.ka(),t.la(),t.Ua(),p.ka(),p.la(),p.Ua(),a);m=v;p=t}g=l}}vY(f){f=f.td;const c=[],g=this.uj-1,n=this.Fj-1,h=1/g,l=1/n,m=g-1,p=n-1;let u=f[0],q=f[1],v=d.da(Math.floor(u*g),0,m),t=d.da(Math.floor(q*n),0,p),w=0,y=0,z=0;var F=-1;const G=()=>{u=d.da(d.Gd(u,w,z),0,1);q=d.da(d.Gd(q,y,z),0,1);c.push(u,
q)};for(let Q=0,D=f.length;Q<D;Q+=2)for(u=f[Q],q=f[Q+1],c.push(u,q),v=d.da(Math.floor(u*g),0,m),t=d.da(Math.floor(q*n),0,p),F=(Q+2)%D,w=f[F],y=f[F+1],F=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*h,J=t*l,M=(v+1)*h,P=(t+1)*l;if(0!==F&&(z=d.Bv(u,q,w,y,H,J,M,P,-.001),0<=z&&.99999999>=z)){G();F=0;continue}if(0<t&&2!==F&&(z=d.Bv(u,q,w,y,H,J,M,J,.001),0<=z&&.99999999>=z)){G();t--;F=4;continue}if(v<m&&3!==F&&(z=d.Bv(u,q,w,y,M,J,M,P,.001),0<=z&&.99999999>=z)){G();v++;F=1;continue}if(0<
v&&1!==F&&(z=d.Bv(u,q,w,y,H,J,H,P,.001),0<=z&&.99999999>=z)){G();v--;F=3;continue}if(t<p&&4!==F&&(z=d.Bv(u,q,w,y,H,P,M,P,.001),0<=z&&.99999999>=z)){G();t++;F=2;continue}break}return d.A(d.Rm,c)}y1(f,c){f=this.x8(f);this.o8(f);c.SA(f)}x8(f){const c=[];f=f.td;for(let g=0,n=f.length;g<n;g+=2){const [h,l]=this.LM(f[g],f[g+1]);c.push(h,l)}return c}LM(f,c){var g=this.uj-1,n=this.Fj-1;const h=1/g,l=1/n;g=d.da(Math.floor(f*g),0,g-1);const m=d.da(Math.floor(c*n),0,n-1);n=g*h;const p=m*l,u=(g+1)*h,q=(m+1)*
l,v=this.hp(g,m),t=this.hp(g+1,m+1),w=d.qaa(f,c,n,p,u,p,u,q);g=this.hp(g+(w?1:0),m+(w?0:1));const [y,z,F]=d.tba(f,c,n,p,w?n+h:n,w?p:p+l,u,q);return d.sba(y,z,F,v.ka(),v.la(),g.ka(),g.la(),t.ka(),t.la())}o8(f){const c=[];let g=f[0],n=f[1],h=g-f.Wd(-2),l=n-f.Wd(-1);for(let p=0,u=f.length;p<u;p+=2){var m=(p+2)%u;const q=f[m];m=f[m+1];const v=q-g,t=m-n,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(v)===Math.sign(h);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(h)&&Math.sign(t)===Math.sign(l)||w)&&1E-7<Math.abs(v/
h-t/l)||0==v&&0===t)&&c.push(g,n);g=q;n=m;h=v;l=t}6<=c.length&&c.length<f.length&&d.Oc(f,c)}md(){return{cols:this.uj,rows:this.Fj,points:this.mm.map(f=>f.map(c=>c.md()))}}$c(f){const c=this.uj,g=this.Fj;if(f.cols!==c||f.rows!==g)throw Error("mesh data wrong size");f=f.points;for(let n=0;n<g;++n){const h=f[n];for(let l=0;l<c;++l)this.hp(l,n).$c(h[l])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(m,p){let u,q;switch(m){case "rgba8":m=p.RGBA8;q=u=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":m=p.RGB8;q=u=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":m=p.RGBA4;q=u=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=p.RGB5_A1;q=u=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=p.RGB565;q=u=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{RI:m,nr:u,format:q,type:p}}const n={$A:"clamp-to-edge",aB:"clamp-to-edge",Ji:"trilinear",TR:0,CI:"rgba8",MA:!0,yv:"default",premultiplyAlpha:!0,jS:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.T.xx=class{constructor(m){this.pa=m;this.ib=null;this.O=this.S=0;this.Sg=!0;this.hr=this.gr="clamp-to-edge";this.Wc="trilinear";this.ZE=0;this.km="rgba8";this.Hk=!1;this.so=
"default";this.qc=0}V2(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");p=Object.assign({},n,p);if(this.ib)throw Error("already created texture");this.gr=p.$A;this.hr=p.aB;
this.Wc=p.Ji;this.ZE=p.TR;this.km=p.CI;this.Hk=!!p.MA&&this.pa.pq;this.so=p.yv;if(!c.has(this.gr)||!c.has(this.hr))throw Error("invalid wrap mode");if(!b.has(this.Wc))throw Error("invalid sampling");if(!a.has(this.km))throw Error("invalid pixel format");if(!f.has(this.so))throw Error("invalid mipmap quality");this.Sg=!0;if(m instanceof ArrayBuffer||null===m||p.jS){if(this.S=p.width,this.O=p.height,m instanceof ArrayBuffer&&m.byteLength!==this.S*this.O*4)throw Error("ArrayBuffer wrong size");}else this.S=
m.width,this.O=m.height;if(0>=this.S||0>=this.O)throw Error("invalid texture data size");if(p.jS){var u=d.tg(this.S,this.O);u.getContext("2d").drawImage(m,0,0,this.S,this.O);m=u}var q=d.Nj(this.S)&&d.Nj(this.O);u=this.pa.Jz;if(this.S>u||this.O>u)throw Error("texture data exceeds maximum texture size");u=this.pa.R;var v=this.pa.hd;this.ib=u.createTexture();u.bindTexture(u.TEXTURE_2D,this.ib);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.km,u);if(this.pa.An()||q||!this.hE())2<=v?(u.texStorage2D(u.TEXTURE_2D,this.Hk?Math.floor(Math.log2(Math.max(this.S,this.O))+1):1,p.RI,this.S,this.O),m instanceof ArrayBuffer?u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.S,this.O,p.format,p.type,new Uint8Array(m)):null!==m&&u.texSubImage2D(u.TEXTURE_2D,0,0,0,p.format,p.type,m)):m instanceof ArrayBuffer?u.texImage2D(u.TEXTURE_2D,0,p.nr,this.S,this.O,0,p.format,p.type,new Uint8Array(m)):null===m?u.texImage2D(u.TEXTURE_2D,0,p.nr,this.S,this.O,0,p.format,
p.type,null):u.texImage2D(u.TEXTURE_2D,0,p.nr,p.format,p.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.S,this.O));m instanceof ImageData&&(q=d.tg(this.S,this.O),q.getContext("2d").putImageData(m,0,0),m=q);q=d.tg(d.xI(this.S),d.xI(this.O));v=q.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.Wc;v.drawImage(m,0,0,this.S,this.O,0,0,q.width,q.height);
u.texImage2D(u.TEXTURE_2D,0,p.nr,p.format,p.type,q)}null!==m&&this.ZO(u);u.bindTexture(u.TEXTURE_2D,null);this.pa.tE();this.qc=1;l.add(this)}I2(m,p,u){u=Object.assign({},n,u);if(this.ib)throw Error("already created texture");this.gr=u.$A;this.hr=u.aB;this.Wc=u.Ji;this.km=u.CI;this.Hk=!!u.MA&&this.pa.pq;this.so=u.yv;if(!c.has(this.gr)||!c.has(this.hr))throw Error("invalid wrap mode");if(!b.has(this.Wc))throw Error("invalid sampling");if(!a.has(this.km))throw Error("invalid pixel format");if(!f.has(this.so))throw Error("invalid mipmap quality");
this.Sg=!1;this.S=Math.floor(m);this.O=Math.floor(p);m=d.Nj(this.S)&&d.Nj(this.O);p=this.pa.Jz;if(0>=this.S||0>=this.O)throw Error("invalid texture size");if(this.S>p||this.O>p)throw Error("texture exceeds maximum texture size");if(!this.pa.An()&&this.hE()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.pa.R;p=this.pa.hd;this.ib=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.ib);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);u=g(this.km,m);m.texImage2D(m.TEXTURE_2D,0,2<=p?u.RI:u.nr,this.S,this.O,0,u.format,u.type,null);this.ZO(m);m.bindTexture(m.TEXTURE_2D,null);this.pa.tE();this.qc=1;l.add(this)}eE(m){if("default"===this.so)return this.Sg?m.NICEST:m.FASTEST;if("low"===this.so)return m.FASTEST;if("high"===this.so)return m.NICEST;throw Error("invalid mipmap quality");}hE(){return"clamp-to-edge"!==this.gr||"clamp-to-edge"!==this.hr}QN(m,p){if("clamp-to-edge"===p)return m.CLAMP_TO_EDGE;if("repeat"===p)return m.REPEAT;
if("mirror-repeat"===p)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}ZO(m){var p=d.Nj(this.S)&&d.Nj(this.O);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.QN(m,this.gr));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.QN(m,this.hr));"nearest"===this.Wc?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.Hk=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(p||this.pa.An())&&this.Hk?(m.hint(m.GENERATE_MIPMAP_HINT,
this.eE(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.Wc||this.pa.UF?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.Hk=!1));(p=this.pa.At)&&0<this.ZE&&"nearest"!==this.Wc&&m.texParameterf(m.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.ZE,this.pa.MG))}iP(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.ib||0>=this.qc)throw Error("texture not created");if(this.Sg)throw Error("cannot update static texture");p=Object.assign({},h,p);const u=m.width||m.videoWidth,q=m.height||m.videoHeight;var v=this.pa.hd;
const t=this.pa.R;t.bindTexture(t.TEXTURE_2D,this.ib);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.km,t);v=2<=v?p.RI:p.nr;try{if(this.S===u&&this.O===q){const w=d.Nj(this.S)&&d.Nj(this.O);t.texSubImage2D(t.TEXTURE_2D,0,0,0,p.format,p.type,m);(w||this.pa.An())&&this.Hk&&(t.hint(t.GENERATE_MIPMAP_HINT,this.eE(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.S=u;this.O=q;const w=d.Nj(this.S)&&d.Nj(this.O);if(!this.pa.An()&&this.hE()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,v,p.format,p.type,m);(w||this.pa.An())&&this.Hk&&(t.hint(t.GENERATE_MIPMAP_HINT,this.eE(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.pa.tE()}VD(){if(0<this.qc)throw Error("texture still has references");if(!this.ib)throw Error("already deleted texture");l.delete(this);this.pa.R.deleteTexture(this.ib);this.ib=null}jb(){return this.pa}r1(){if(0>=
this.qc)throw Error("no more references");this.qc--}ba(){return this.S}aa(){return this.O}MB(){let m=this.S*this.O;switch(this.km){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.Hk&&(m+=Math.floor(m/3));return m}static ik(){l.clear()}static y$(){return l.values()}}}
{"use strict";const d=self.B,a=self.Mj.Lm,b=new Set(["nearest","bilinear","trilinear"]),f={Ji:"trilinear",alpha:!0,depth:!1,rI:!0,hS:!0,Faa:0},c=new Set;d.T.GD=class{constructor(g){this.pa=g;this.Uk=this.ib=this.ki=null;this.O=this.S=0;this.hu=!0;this.Wc="trilinear";this.$p=!0;this.qe=!1;this.ju=!0;this.Ok=0;this.vo=a.create()}H2(g,n,h){h=Object.assign({},f,h);const l=this.pa.hd;if(this.ib||this.Uk)throw Error("already created render target");this.Wc=h.Ji;this.$p=!!h.alpha;this.qe=!!h.depth;this.ju=
!!h.rI;this.hu=!!h.hS;this.Ok=h.Faa;if(!b.has(this.Wc))throw Error("invalid sampling");if(0<this.Ok&&(2>l||this.ju))throw Error("invalid use of multisampling");2>l&&(this.ju=!0);this.S=g;this.O=n;if(0>=this.S||0>=this.O)throw Error("invalid render target size");this.dN();g=this.pa.R;this.ki=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,this.ki);this.ju?(this.ib=this.pa.xJ(this.S,this.O,{Ji:this.Wc,CI:this.$p?"rgba8":"rgb8",MA:!1}),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,
this.ib.ib,0)):(this.Uk=g.createRenderbuffer(),g.bindRenderbuffer(g.RENDERBUFFER,this.Uk),n=this.$p?g.RGBA8:g.RGB8,0<this.Ok&&((h=g.getInternalformatParameter(g.RENDERBUFFER,n,g.SAMPLES))&&h[0]?(h=h[0],this.Ok>h&&(this.Ok=h)):this.Ok=0),0===this.Ok?g.renderbufferStorage(g.RENDERBUFFER,n,this.S,this.O):g.renderbufferStorageMultisample(g.RENDERBUFFER,this.Ok,n,this.S,this.O),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.RENDERBUFFER,this.Uk),g.bindRenderbuffer(g.RENDERBUFFER,null));
n=this.pa.Sn;this.qe&&n&&g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,n);g.bindFramebuffer(g.FRAMEBUFFER,null);c.add(this)}GO(g,n){if(this.S!==g||this.O!==n)this.S=g,this.O=n,this.dN(),g=this.pa.R,g.bindFramebuffer(g.FRAMEBUFFER,this.ki),this.ib?this.ib.iP(new ImageData(this.S,this.O)):(g.bindRenderbuffer(g.RENDERBUFFER,this.Uk),g.renderbufferStorage(g.RENDERBUFFER,this.$p?g.RGBA8:g.RGB8,this.S,this.O),g.bindRenderbuffer(g.RENDERBUFFER,null)),n=this.pa.Sn,this.qe&&
n&&g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,n),g.bindFramebuffer(g.FRAMEBUFFER,null)}VD(){if(!this.ib&&!this.Uk)throw Error("already deleted render target");c.delete(this);const g=this.pa.R;g.bindFramebuffer(g.FRAMEBUFFER,this.ki);this.ib?(g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,null,0),this.pa.Li(this.ib),this.ib=null):this.Uk&&(g.framebufferRenderbuffer(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.RENDERBUFFER,null),g.deleteRenderbuffer(this.Uk),
this.Uk=null);g.bindFramebuffer(g.FRAMEBUFFER,null);2<=this.pa.hd&&(g.bindFramebuffer(g.READ_FRAMEBUFFER,null),g.bindFramebuffer(g.DRAW_FRAMEBUFFER,null));g.deleteFramebuffer(this.ki);this.ki=this.pa.ec.Gm=null}dN(){this.pa.Mr(this.vo,this.S/this.O)}jb(){return this.pa}Hd(){return this.ib}BC(){return"nearest"!==this.Wc}ba(){return this.S}aa(){return this.O}EY(g){g=Object.assign({},f,g);return"nearest"!==g.Ji!==this.BC()||!!g.alpha!==this.$p||!!g.depth!==this.qe||2<=this.pa.hd&&!!g.rI!==this.ju?!1:
"number"===typeof g.width||"number"===typeof g.height?!this.hu&&this.ba()===g.width&&this.aa()===g.height:this.hu}MB(){return this.ib?this.ib.MB():this.S*this.O*(this.$p?4:3)}static async lU(g,n){g=await g.A_(n);return await d.PX(g)}static ik(){c.clear()}}}
{"use strict";const d=self.B;d.T.Zs=class{static async VT(a,b,f,c){const g=a.R,n=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(n,b);g.compileShader(n);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,f);g.compileShader(b);const h=g.createProgram();g.attachShader(h,n);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.bH;l?await a.N8(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):await d.FD(5);
if(!g.getShaderParameter(n,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(n),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.LV(g.getProgramInfoLog(h)||"").trim())&&!d.HC(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(n);g.deleteShader(b);return h}static async Ma(a,b,f,c){f=await d.T.Zs.VT(a,b.src,f,c);return new d.T.Zs(a,f,b,c)}constructor(a,b,f,c){const g=a.R;var n=a.ec;a.uh();g.useProgram(b);this.R=g;this.pa=a;this.Ba=c;this.bb=b;this.dz="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.IG=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.yA),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.lA),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.IG&&(g.bindBuffer(g.ARRAY_BUFFER,a.Rz),g.vertexAttribPointer(this.IG,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.IG));g.bindBuffer(g.ARRAY_BUFFER,null);this.JH=new d.T.dc(this,"matP","mat4");this.IH=new d.T.dc(this,"matMV","mat4");this.Ko=new d.T.dc(this,"color",
"vec4");this.q$=new d.T.dc(this,"samplerFront","sampler");this.MH=new d.T.dc(this,"pointTexStart","vec2");this.LH=new d.T.dc(this,"pointTexEnd","vec2");this.PH=new d.T.dc(this,"zElevation","float");this.NH=new d.T.dc(this,"tileSize","vec2");this.OH=new d.T.dc(this,"tileSpacing","vec2");this.HH=new d.T.dc(this,"color2_","vec4");this.KH=new d.T.dc(this,"outlineThickness","float");this.er=new d.T.dc(this,"samplerBack","sampler");this.al=new d.T.dc(this,"destStart","vec2");this.$k=new d.T.dc(this,"destEnd",
"vec2");this.Fi=new d.T.dc(this,"srcStart","vec2");this.bl=new d.T.dc(this,"srcEnd","vec2");this.dl=new d.T.dc(this,"srcOriginStart","vec2");this.cl=new d.T.dc(this,"srcOriginEnd","vec2");this.ng=new d.T.dc(this,"pixelSize","vec2");this.zm=new d.T.dc(this,"seconds","float");this.wm=new d.T.dc(this,"layerScale","float");this.vm=new d.T.dc(this,"layerAngle","float");this.ym=new d.T.dc(this,"layoutStart","vec2");this.xm=new d.T.dc(this,"layoutEnd","vec2");this.$P=!!(this.ng.W||this.zm.W||this.er.W||
this.al.W||this.$k.W||this.Fi.W||this.bl.W||this.dl.W||this.cl.W||this.wm.W||this.vm.W||this.ym.W||this.xm.W);this.KP=f.Qja||0;this.LP=f.Rja||0;this.sF=!!f.Fja;this.T9=!!f.fla;this.Nq=!!f.ula;this.dy=!!f.sja;a=f.parameters||[];this.Lo=[];this.dv=this.al.W||this.$k.W;this.t$=this.ng.W||this.Fi.W||this.bl.W||this.dl.W||this.cl.W;this.V9=this.sF||this.dv||0!==this.KP||0!==this.LP;this.RF=this.SF=!1;this.Ko.DK();this.HH.DK();this.q$.CK(0);this.er.CK(1);this.MH.Of(0,0);this.LH.Of(1,1);this.PH.mp(0);this.NH.Of(0,
0);this.OH.Of(0,0);this.al.Of(0,0);this.$k.Of(1,1);this.Fi.Of(0,0);this.bl.Of(0,0);this.dl.Of(0,0);this.cl.Of(0,0);this.ng.Of(0,0);this.wm.mp(1);this.vm.mp(0);this.zm.mp(0);this.ym.Of(0,0);this.xm.Of(0,0);this.KH.mp(1);for(const l of a)a=l[2],b=new d.T.dc(this,l[0],a),"color"===a?b.TX():b.mp(0),this.Lo.push(b);this.dz?this.nP(n.nv):(this.ux(n.nv,!0),this.tx(n.FA,!0));n=n.hh;g.useProgram(n?n.bb:null)}m(){this.R.deleteProgram(this.bb);this.bb=null;this.pa.Q6(this);this.pa=this.R=null}wa(){return this.Ba}Dl(){return this.T9}Bw(a){return this.Lo[a].Yi()}jT(a){for(let b=
0,f=a.length;b<f;++b)if(!this.Lo[b].RY(a[b]))return!1;return!0}m0(a){for(let b=0,f=a.length;b<f;++b)this.Lo[b].i0(a[b])}kT(a,b,f,c,g,n,h,l,m){return this.er.W||this.ng.W&&!this.ng.gk(g,n)||this.al.W&&!this.al.gk(a.M,a.L)||this.$k.W&&!this.$k.gk(a.$,a.U)||this.wm.W&&!this.wm.GC(h)||this.vm.W&&!this.vm.GC(l)||this.Fi.W&&!this.Fi.gk(b.M,b.L)||this.bl.W&&!this.bl.gk(b.$,b.U)||this.dl.W&&!this.dl.gk(f.M,f.L)||this.cl.W&&!this.cl.gk(f.$,f.U)||this.ym.W&&!this.ym.gk(c.M,c.L)||this.xm.W&&!this.xm.gk(c.L,
c.U)||this.zm.W&&!this.zm.GC(m)?!1:!0}H0(a,b,f,c,g,n,h,l,m){this.er.W||(this.ng.W&&this.ng.kk(g,n),this.al.W&&this.al.kk(a.M,a.L),this.$k.W&&this.$k.kk(a.$,a.U),this.wm.W&&this.wm.dD(h),this.vm.W&&this.vm.dD(l),this.Fi.W&&this.Fi.kk(b.M,b.L),this.bl.W&&this.bl.kk(b.$,b.U),this.dl.W&&this.dl.kk(f.M,f.L),this.cl.W&&this.cl.kk(f.$,f.U),this.ym.W&&this.ym.kk(c.M,c.L),this.xm.W&&this.xm.kk(c.L,c.U),this.zm.W&&this.zm.dD(m))}ux(a,b){this.SF&&!b||this.dz||(this.JH.W&&this.JH.vx(a),this.SF=!0)}G0(){this.SF=
!1}tx(a,b){this.RF&&!b||this.dz||(this.IH.W&&this.IH.vx(a),this.RF=!0)}F0(){this.RF=!1}nP(a){if(!this.dz)throw Error("not device transform shader");this.JH.vx(a);a=this.pa;const b=a.ba()/2,f=a.aa()/2;a=a.Lr(b,f,100*self.devicePixelRatio,b,f);this.IH.vx(a)}G1(a){this.Ko.W&&this.Ko.rx(a[0],a[1],a[2],a[3])}static pw(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.Mj.Lm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.T.dc=class{constructor(f,c,g){if(!b.has(g))throw Error("invalid uniform type");this.Hb=f;this.R=this.Hb.R;this.Ba=c;this.ra=g;this.hG="color"===this.ra;this.Ug=this.R.getUniformLocation(this.Hb.bb,c);this.W=!!this.Ug;f=b.get(g);this.Gb=new Float32Array(f);this.vi=new Float32Array(f)}m(){this.Ug=this.R=this.Hb=null}Yi(){return this.ra}mp(f){this.W&&
(this.Gb[0]=f,this.vi.set(this.Gb),this.R.uniform1f(this.Ug,f))}CK(f){this.W&&(this.Gb[0]=f,this.vi.set(this.Gb),this.R.uniform1i(this.Ug,f))}Of(f,c){this.W&&(this.Gb[0]=f,this.Gb[1]=c,this.vi.set(this.Gb),this.R.uniform2f(this.Ug,f,c))}TX(){this.W&&(this.Gb[0]=0,this.Gb[1]=0,this.Gb[2]=0,this.vi.set(this.Gb),this.R.uniform3f(this.Ug,0,0,0))}DK(){this.W&&(this.Gb[0]=1,this.Gb[1]=1,this.Gb[2]=1,this.Gb[3]=1,this.vi.set(this.Gb),this.R.uniform4f(this.Ug,1,1,1,1))}Qp(f){f=Math.fround(f);const c=this.Gb;
c[0]!==f&&(c[0]=f,this.R.uniform1f(this.Ug,f))}ne(f,c){f=Math.fround(f);c=Math.fround(c);const g=this.Gb;if(g[0]!==f||g[1]!==c)g[0]=f,g[1]=c,this.R.uniform2f(this.Ug,f,c)}E1(f,c,g){f=Math.fround(f);c=Math.fround(c);g=Math.fround(g);const n=this.Gb;if(n[0]!==f||n[1]!==c||n[2]!==g)n[0]=f,n[1]=c,n[2]=g,this.R.uniform3f(this.Ug,f,c,g)}rx(f,c,g,n){f=Math.fround(f);c=Math.fround(c);g=Math.fround(g);n=Math.fround(n);const h=this.Gb;if(h[0]!==f||h[1]!==c||h[2]!==g||h[3]!==n)h[0]=f,h[1]=c,h[2]=g,h[3]=n,this.R.uniform4f(this.Ug,
f,c,g,n)}vx(f){const c=this.Gb;a.Ii(c,f)||(d.uba(c,f),this.R.uniformMatrix4fv(this.Ug,!1,f))}RY(f){const c=this.vi;return this.hG?c[0]===Math.fround(f.Pa)&&c[1]===Math.fround(f.Sa)&&c[2]===Math.fround(f.Ra):c[0]===Math.fround(f)}i0(f){const c=this.vi;this.hG?(c[0]=f.Pa,c[1]=f.Sa,c[2]=f.Ra):c[0]=f}GC(f){return this.vi[0]===Math.fround(f)}gk(f,c){const g=this.vi;return g[0]===Math.fround(f)&&g[1]===Math.fround(c)}dD(f){this.vi[0]=f}kk(f,c){const g=this.vi;g[0]=f;g[1]=c}}}
{"use strict";const d=self.B,a=self.Mj,b=a.Iv,f=a.Lm;d.T.pT=class{constructor(c){this.Be=c;this.FA=f.create();this.nv=f.create();this.Gm=null;this.EA=b.cf(1,1,1,1);this.hh=null;this.DI=new d.Rect;this.clearColor=d.A(d.Va,0,0,0,0)}};d.T.R1=class{constructor(c){const g=new ArrayBuffer(96);this.ra=0;this.ec=c;this.R=c.Be.R;this.co=this.jg=0;this.ue=null;this.Rd=new Float32Array(g,0,16);this.Pn=new Float32Array(g,64,4);this.zR=new Float32Array(g,80,4);this.$z=[]}hY(c){this.ra=1;this.jg=c;this.co=6}HU(){const c=
this.R;c.drawElements(c.TRIANGLES,this.co,c.UNSIGNED_SHORT,this.jg)}qY(c){this.ra=2;this.ue=c}TU(){const c=this.R,g=this.ue;c.bindTexture(c.TEXTURE_2D,g?g.ib:null)}qC(c){this.ra=3;c.qg(this.Pn,0)}JU(){const c=this.Pn,g=this.ec;b.ta(g.EA,c);g.hh.G1(c)}MU(){const c=this.Pn,g=this.ec.hh;g.HH.W&&g.HH.rx(c[0],c[1],c[2],c[3])}iY(c,g){this.ra=4;this.jg=c;this.co=g}IU(){this.R.blendFunc(this.jg,this.co)}rY(c,g){this.ra=5;const n=this.Pn;n[0]=0;n[1]=0;n[2]=c;n[3]=g}VU(){const c=this.Pn;this.R.viewport(c[0],
c[1],c[2],c[3])}nY(c){this.ra=6;f.ta(this.Rd,c)}RU(){const c=this.ec,g=c.Be.Kn,n=c.hh,h=this.Rd;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.ux(h,!0):p.G0()}f.ta(c.nv,h)}kY(c){this.ra=7;f.ta(this.Rd,c)}NU(){const c=this.ec,g=c.Be.Kn,n=c.hh,h=this.Rd;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.tx(h,!0):p.F0()}f.ta(c.FA,h)}pY(c){this.ra=8;this.ue=c}SU(){const c=this.R;var g=this.ue;const n=this.ec;g?(g=g.ki,n.Gm=g,c.bindFramebuffer(c.FRAMEBUFFER,g)):(n.Gm=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}YX(c){this.ra=9;c.qg(this.Rd,0)}ZX(){this.ra=9;const c=this.Rd;c[0]=0;c[1]=0;c[2]=0;c[3]=0}AU(){const c=this.R;var g=this.Rd,n=this.ec;const h=n.clearColor;(n=n.Be.lo&&d.qr)&&c.disable(c.SCISSOR_TEST);const l=g[0],m=g[1],p=g[2];g=g[3];h.qv(l,m,p,g)||(c.clearColor(l,m,p,g),h.Om(l,m,p,g));c.clear(c.COLOR_BUFFER_BIT);n&&c.enable(c.SCISSOR_TEST)}XX(c,g,n,h){this.ra=10;const l=this.Rd;l[0]=c;l[1]=g;l[2]=n;l[3]=h;l[4]=0;l[5]=0;l[6]=0;l[7]=0}zU(){const c=this.R;var g=this.Rd,n=this.ec;const h=n.Be;
n=n.clearColor;h.lo||c.enable(c.SCISSOR_TEST);c.scissor(g[0],g[1],g[2],g[3]);const l=g[4],m=g[5],p=g[6];g=g[7];n.qv(l,m,p,g)||(c.clearColor(l,m,p,g),n.Om(l,m,p,g));c.clear(c.COLOR_BUFFER_BIT);h.lo?c.scissor(0,0,h.kv,h.jv):c.disable(c.SCISSOR_TEST)}OU(){const c=this.Rd;this.ec.DI.set(c[0],c[1],c[2],c[3])}GU(){const c=this.R,g=this.ec,n=g.Be.eA;c.useProgram(n.bb);n.ux(g.nv,!1);n.tx(g.FA,!1);var h=g.DI;n.MH.W&&n.MH.ne(h.M,h.L);n.LH.W&&n.LH.ne(h.$,h.U);h=this.Rd[0];n.PH.W&&n.PH.Qp(h);n.Ko.W&&(h=g.EA,
n.Ko.rx(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.jg/4,this.co);c.useProgram(g.hh.bb)}lY(c){this.ra=12;this.ue=c}PU(){var c=this.R;const g=this.ec,n=this.ue;g.hh=n;c.useProgram(n.bb);n.ux(g.nv,!1);n.tx(g.FA,!1);n.Ko.W&&(c=g.EA,n.Ko.rx(c[0],c[1],c[2],c[3]))}mY(){this.ra=13}QU(){const c=this.ec.hh;c.$P&&this.C3(c);c.Lo.length&&this.D3(c)}C3(c){const g=this.R,n=this.Rd,h=this.Pn,l=this.zR;if(c.er.W){const m=this.ec.Be,p=this.ue;m.fm!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,
p?p.ib:null),m.fm=p,g.activeTexture(g.TEXTURE0))}c.ng.W&&c.ng.ne(n[0],n[1]);c.al.W&&c.al.ne(n[2],n[3]);c.$k.W&&c.$k.ne(n[4],n[5]);c.wm.W&&c.wm.Qp(n[6]);c.vm.W&&c.vm.Qp(n[7]);c.Fi.W&&c.Fi.ne(n[12],n[13]);c.bl.W&&c.bl.ne(n[14],n[15]);c.dl.W&&c.dl.ne(l[0],l[1]);c.cl.W&&c.cl.ne(l[2],l[3]);c.ym.W&&c.ym.ne(h[0],h[1]);c.xm.W&&c.xm.ne(h[2],h[3]);c.zm.W&&c.zm.Qp(this.jg)}D3(c){c=c.Lo;const g=this.$z;for(let n=0,h=c.length;n<h;++n){const l=c[n],m=g[n];l.hG?l.E1(m.Pa,m.Sa,m.Ra):l.Qp(m)}}dY(c){this.ra=14;this.ue=
c}FU(){const c=this.R,g=this.ue,n=this.ec.Gm;g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,n)}UX(c,g){this.ra=17;var n=this.Rd;const h=this.ec.Be;n[0]=c.ba();n[1]=c.aa();n[2]=g?g.ba():h.ba();n[3]=g?g.aa():h.aa();n[4]=c.BC()?1:0;n[5]=!0;n=this.$z;d.D(n);n.push(c.ki);n.push(g?g.ki:null)}xU(){var c=this.Rd,g=this.$z;const n=this.R;var h=c[0],l=c[1],m=c[2];const p=c[3],u=0!==c[4];c=0!==c[5];const q=g[1];n.bindFramebuffer(n.READ_FRAMEBUFFER,
g[0]);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,q);c?n.blitFramebuffer(0,0,h,l,0,0,m,p,n.COLOR_BUFFER_BIT,u?n.LINEAR:n.NEAREST):(g=Math.min(h,m),h=Math.min(l,p),m=Math.max(l-p,0),l=Math.max(p-l,0),n.blitFramebuffer(0,m,g,h+m,0,l,g,h+l,n.COLOR_BUFFER_BIT,n.NEAREST))}tY(c){this.ra=18;this.ue=c}WU(){this.ue.hB();this.ue=null}cY(c){this.ra=19;this.ue=c}EU(){this.ue.AB();this.ue=null}LU(){const c=this.ec.hh,g=this.Rd;c.ng.W&&c.ng.ne(g[0],g[1]);c.KH.W&&c.KH.Qp(g[2])}UU(){const c=this.ec.hh,g=this.Rd;c.Fi.W&&
c.Fi.ne(g[0],g[1]);c.ng.W&&c.ng.ne(g[4],g[5]);c.NH.W&&c.NH.ne(g[6],g[7]);c.OH.W&&c.OH.ne(g[8],g[9])}WX(){this.ra=22}yU(){const c=this.R;c.clear(c.DEPTH_BUFFER_BIT)}jY(c){this.ra=23;this.jg=c?1:0}KU(){const c=this.R;0===this.jg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}bY(){this.ra=24}DU(){const c=this.R;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}aY(){this.ra=
25}CU(){const c=this.R;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}$X(){this.ra=26}BU(){const c=this.R;c.disable(c.STENCIL_TEST)}ma(){switch(this.ra){case 1:this.HU();break;case 2:this.TU();break;case 3:this.JU();break;case 4:this.IU();break;case 5:this.VU();break;case 6:this.RU();break;case 7:this.NU();break;case 8:this.SU();break;case 9:this.AU();break;case 10:this.zU();break;case 11:this.GU();break;case 12:this.PU();break;case 13:this.QU();break;case 14:this.FU();
break;case 15:this.OU();break;case 16:this.UU();break;case 17:this.xU();break;case 18:this.WU();break;case 19:this.EU();break;case 20:this.LU();break;case 21:this.MU();break;case 22:this.yU();break;case 23:this.KU();break;case 24:this.DU();break;case 25:this.CU();break;case 26:this.BU()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.Va(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),n=new Set;d.OV&&d.OV.addEventListener("fontload",p=>{p=p.font.wa();for(const u of n)(u.Rg||d.Jm(u.Ly,p))&&u.lj()});function h(p,u,q,v,t,w){u?"Gecko"===d.Rc.Ov?p.strokeText(q,v,t,w):p.strokeText(q,v,t):"Gecko"===d.Rc.Ov?p.fillText(q,v,t,w):p.fillText(q,v,t)}let l=!1,m=!1;d.T.TC=class{constructor(p,u){u=Object.assign({},a,u);this.pa=
p;this.Ly="Arial";this.My=16;this.Ny=1;this.ro=0;this.Qe=this.Pe=!1;this.uy="black";this.Rg=!1;this.zI=null;this.YE=new Set;this.Ne="left";this.Ae="top";this.Kc="";this.Gt=null;this.Em=d.A(d.HD);this.VH="word";this.uG=this.mA=!1;this.fu=!0;this.Un=-1;this.O=this.S=this.tF=this.iq=this.oq=0;this.gh=1;this.pF=!1;this.xu=this.Nk=this.Ed=this.Fo=null;this.BQ=this.CQ=-1;this.yz=this.EQ=this.yG="";this.zG=this.AG=1;this.SQ=(q,v)=>this.oO(q,v);this.ib=null;this.Tu=this.Vu=0;this.Cf=new d.Rect;this.Ku=1;
this.TG=!1;this.DH=new d.OX(()=>{this.Fh();this.YO(8,8)},u.timeout);this.NA=null;this.lv=!1;n.add(this)}m(){this.zI=null;this.YE.clear();this.SQ=this.xu=this.Nk=this.Ed=this.Fo=this.Gt=null;this.DH.m();this.NA=null;this.Fh();this.Em.Hc();this.pa=this.Em=null;this.lv=!0;n.delete(this)}Hn(){this.pF=!0}lj(){this.Hn();this.Em.Hc();this.mA=!0}nM(){this.fu=!1}Pf(){return this.fu}h0(p){p=!!p;this.Rg!==p&&(p=(this.Rg=p)?"alphabetic":"top",this.Ed&&(this.Ed.textBaseline=p),this.Nk&&(this.Nk.textBaseline=p),
this.lj())}gD(p){p||(p="serif");this.Ly!==p&&(this.Ly=p,this.lj())}lx(p){.1>p&&(p=.1);this.My!==p&&(this.My=p,this.lj())}w0(p){this.Ny!==p&&(this.Ny=p,this.lj())}rM(p){this.ro!==p&&(this.ro=p,this.Hn())}$L(p){p=!!p;this.Pe!==p&&(this.Pe=p,this.lj())}pM(p){p=!!p;this.Qe!==p&&(this.Qe=p,this.lj())}fD(p){p=Math.floor(p);this.Un!==p&&(this.Un=p,this.Hn())}Sh(p,u){for(let q=p.length-1;0<=q;--q){const v=p[q];if(v.tag===u)return v}return null}Up(p,u){return!!this.Sh(p,u)}HN(p,u){let q=[];(this.Pe||this.Up(u,
"b"))&&q.push("bold");(this.Qe||this.Up(u,"i"))&&q.push("italic");var v=this.Sh(u,"size");v=(v?parseFloat(v.kh):this.My)*this.Ny;p?q.push(v+"pt"):q.push(v*this.Ku*this.gh*self.devicePixelRatio+"pt");p=this.Ly;(u=this.Sh(u,"font"))&&u.kh&&(p=u.kh,this.zI&&!this.YE.has(p)&&(this.zI(p),this.YE.add(p)));p&&q.push('"'+p+'"');return q.join(" ")}Hl(p){p instanceof d.Va&&(p=p.caa());this.uy!==p&&(this.uy=p,this.Hn())}bM(p,u,q){b.Cr(p,u,q);this.Hl(b)}jM(p){if(!f.has(p))throw Error("invalid horizontal alignment");
this.Ne!==p&&(this.Ne=p,this.Hn())}CM(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ae!==p&&(this.Ae=p,this.Hn())}d1(p){if(!g.has(p))throw Error("invalid word wrap mode");this.VH!==p&&(this.VH=p,this.lj())}Vs(p){this.Kc!==p&&(this.Kc=p,this.lj())}Tc(p,u,q){"undefined"===typeof q&&(q=1);if(!(0>=p||0>=p||this.iq===p&&this.tF===u&&this.gh===q)){1===this.gh!==(1===q)&&(this.TG=!0);var v=this.iq,t=this.gh;this.iq=p;this.tF=u;this.gh=q;p=self.devicePixelRatio;this.S=this.iq*this.gh*p;this.O=
this.tF*this.gh*p;p=Math.max(this.S,this.O);u=Math.min(this.pa.Jz,2048);q=1;p>u&&(q=u/p,this.S=Math.min(this.S*q,u),this.O=Math.min(this.O*q,u));this.Ku=q;0<this.Vu&&0<this.Tu&&this.gh===t&&this.Cf.set(0,0,this.S/this.Vu,this.O/this.Tu);this.iq!==v?this.lj():this.Hn()}}ba(){return this.S}aa(){return this.O}dX(){this.oE();return this.Em.PW()}cX(){this.oE();return this.Em.gX()+this.Em.gm.length*(this.ro+4)-this.ro}Hd(){this.DH.ad();this.K5();return this.ib}K5(){this.ib&&!this.pF&&!this.mA||this.uG||
0>=this.S||0>=this.O||(this.pF=!1,this.uG=!0,this.fu?d.Oj(()=>this.sN()):this.sN())}sN(){this.lv||(this.YO(Math.ceil(this.S),Math.ceil(this.O)),this.oE(),this.T3(),this.I8(),this.DH.ad(),this.uG=!1)}YO(p,u){this.Fo||(this.Fo=d.tg(16,16));let q=!1;if(this.CQ!==p||this.BQ!==u)this.CQ=p,this.BQ=u,this.Fo.width=p,this.Fo.height=u,q=!0;this.Ed||(this.Ed=this.Fo.getContext("2d"),q=!0);q?(this.Ed.textBaseline=this.Rg?"alphabetic":"top",this.Ed.font=this.yG,this.Ed.fillStyle=this.yz,this.Ed.strokeStyle=this.yz,
this.Ed.globalAlpha=this.AG,this.Ed.lineWidth=this.zG):this.Ed.clearRect(0,0,p,u)}hO(){this.Nk||(this.Nk=d.tg(16,16).getContext("2d"),this.xu=d.tg(16,16).getContext("2d"),this.Nk.textBaseline=this.Rg?"alphabetic":"top",this.xu.textBaseline="top")}b8(p){this.EQ!==p&&(this.EQ=p,this.Nk.font=p,this.xu.font=p)}fP(){if(!l){l=!0;this.hO();const p=this.Nk.measureText("test");m="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return m}oE(){this.mA&&(this.hO(),!this.Rg||
this.Gt&&this.Gt.toString()===this.Kc||(this.Gt=new d.pl(this.Kc,{Haa:!0})),this.Em.HD(this.Rg?this.Gt.lba():this.Kc,this.SQ,this.iq,this.VH,0),this.mA=!1)}oO(p,u){this.b8(this.HN(!0,u));u=this.Sh(u,"size");u=(u?parseFloat(u.kh):this.My)*this.Ny;const q=this.Nk.measureText(p);let v=0;this.Rg&&this.fP()&&(v=q.fontBoundingBoxAscent-this.xu.measureText(p).fontBoundingBoxAscent);return{width:q.width,height:4/3*u,Hf:q.fontBoundingBoxAscent||0,bf:q.fontBoundingBoxDescent||0,df:v}}M7(p){this.yG!==p&&(this.yG=
p,this.Ed.font=p)}Tx(p){this.yz!==p&&(this.yz=p,this.Ed.fillStyle=p,this.Ed.strokeStyle=p)}L7(p){this.AG!==p&&(this.AG=p,this.Ed.globalAlpha=p)}TO(p){this.zG!==p&&(this.zG=p,this.Ed.lineWidth=p)}T3(){this.oq=0;const p=this.Ku*this.gh*self.devicePixelRatio,u=(4+this.ro)*p;var q=0;const v=this.Em.gm;if(0!==v.length){var t=this.Rg&&this.fP(),w=v[0].height*p;"center"===this.Ae?(q=v.reduce((y,z)=>y+z.height*p+u,0)-u,q=Math.max(this.O/2-q/2,0),t&&(w=v[0].df*p)):"bottom"===this.Ae&&(q=v.reduce((y,z)=>y+
z.height*p+u,0)-this.ro*p,q=this.O-q-(t?v.Wd(-1).bf*p:0)-2);for(let y=0,z=v.length;y<z;++y){t=v[y];const F=t.height*p,G=q;if(this.Rg){if(q+=0===y?w:F,0<y&&q>this.O-4*p)break}else if(0<y&&q>=this.O-F)break;0<=G&&this.S3(t,q,p);this.Rg||(q+=F);q+=u}}}S3(p,u,q){let v=0;"center"===this.Ne?v=(this.S-p.width*q)/2:"right"===this.Ne&&(v=this.S-p.width*q);for(const t of p.dS)this.R3(t,v,u,q,p.height),v+=t.width*q}R3(p,u,q,v,t){const w=this.Ed;var y=t/16;t=p.width*v;const z=p.height*v,F=p.height/16;var G=(4+
this.ro)*v,Q=p.Pc,D=p.text;if(-1!==this.Un){if(this.oq>=this.Un)return;this.oq+D.length>this.Un&&(D=D.substr(0,this.Un-this.oq),t=this.oO(D,Q).width*v);this.oq+=D.length}var H=this.Sh(Q,"background"),J=this.Up(Q,"u");p=this.Up(Q,"s");if((!d.HC(D)||H||J||p)&&!this.Up(Q,"hide")){var M=this.Sh(Q,"offsetx");u+=M?parseFloat(M.kh)*v:0;M=this.Sh(Q,"offsety");q+=M?parseFloat(M.kh)*v:0;H&&(this.Tx(H.kh),w.fillRect(u,q-z,t,z+G));M=this.Sh(Q,"color");this.Tx(M?M.kh:this.uy);G=this.Sh(Q,"opacity");this.L7(G?
parseFloat(G.kh)/100:1);G=(G=this.Sh(Q,"linethickness"))?parseFloat(G.kh):1;(H=this.Up(Q,"stroke"))&&this.TO(.5*F*G*this.Ku*this.gh*self.devicePixelRatio);this.M7(this.HN(!1,Q));h(w,H,D,u,q,t);!H&&(this.TO(.5*F*G*this.Ku*this.gh*self.devicePixelRatio),Q=this.Sh(Q,"outline"))&&(this.Tx(Q.kh),h(w,!0,D,u,q,t));this.Tx(M?M.kh:this.uy);J&&(Q=u,D=q+v*y,J=t,y=v*y*G,H?w.strokeRect(Q,D,J,y):w.fillRect(Q,D,J,y));p&&(v*=F,w.fillRect(u,q-z/4+v/2-v*G/2,t,v*G))}}I8(){this.pa.kn()||(this.Vu=Math.ceil(this.S),this.Tu=
Math.ceil(this.O),this.Cf.set(0,0,this.S/this.Vu,this.O/this.Tu),this.TG&&(this.Fh(),this.TG=!1),this.ib||(this.ib=this.pa.xJ(this.Vu,this.Tu,{MA:1===this.gh,yv:"high"})),this.pa.J1(this.Fo,this.ib),this.NA&&this.NA())}Xi(){return this.Cf}Fh(){this.ib&&(this.pa.kn()||this.pa.Li(this.ib),this.ib=null)}static ik(){for(const p of n)p.Fh()}}}
{"use strict";const d=self.B;class a{constructor(b){this.R=b.R;this.hd=b.hd;this.gd=b.gd;this.Xg=null;this.Xt=this.xb=!1;this.Yz=0;this.Xg=1===this.hd?this.gd.createQueryEXT():this.R.createQuery()}m(){this.oN();this.gd=this.R=null;this.Xt=!1}oN(){this.Xg&&(1===this.hd?this.gd.deleteQueryEXT(this.Xg):this.R.deleteQuery(this.Xg),this.Xg=null)}hB(){if(this.xb)throw Error("query already active");1===this.hd?this.gd.beginQueryEXT(this.gd.TIME_ELAPSED_EXT,this.Xg):this.R.beginQuery(this.gd.TIME_ELAPSED_EXT,
this.Xg);this.xb=!0}AB(){if(!this.xb)throw Error("query not active");1===this.hd?this.gd.endQueryEXT(this.gd.TIME_ELAPSED_EXT):this.R.endQuery(this.gd.TIME_ELAPSED_EXT);this.xb=!1}mB(){if(this.Xg&&!this.Xt&&!this.xb){var b=1===this.hd?this.gd.getQueryObjectEXT(this.Xg,this.gd.QUERY_RESULT_AVAILABLE_EXT):this.R.getQueryParameter(this.Xg,this.R.QUERY_RESULT_AVAILABLE);var f=this.R.getParameter(this.gd.GPU_DISJOINT_EXT);b&&!f&&(this.Yz=1===this.hd?this.gd.getQueryObjectEXT(this.Xg,this.gd.QUERY_RESULT_EXT):
this.R.getQueryParameter(this.Xg,this.R.QUERY_RESULT),this.Yz/=1E9,this.Xt=!0);(b||f)&&this.oN()}}Ow(){return this.Xt}Dw(){if(!this.Xt)throw Error("no result available");return this.Yz}}d.T.T1=class{constructor(b){this.pa=b;this.Qg=b.Qg;this.xb=!1;this.jm=null;this.ko=!1;this.Pq=null;this.yo=[]}m(){for(const b of this.yo)b instanceof a&&b.m();d.D(this.yo);this.pa=this.Pq=this.jm=null}hB(){if(this.xb)throw Error("query already active");const b=this.pa.FR;0<b.length?(this.ko=!0,this.jm=b.Wd(-1),this.jm.vN(),
this.jm.yo.push(this)):(this.ko=!1,this.jm=null);this.xb=!0;b.push(this);this.dP()}AB(){if(!this.xb)throw Error("query not active");if(this.pa.FR.pop()!==this)throw Error("can only end most nested query");this.xb=!1;this.vN();this.jm&&(this.jm.dP(),this.jm=null)}dP(){this.Pq=d.A(a,this.pa);this.yo.push(this.Pq);this.Pq.hB()}vN(){this.Pq.AB();this.Pq=null}mB(){for(const b of this.yo)b.mB()}Ow(){return this.yo.every(b=>b.Ow())}Dw(){return this.yo.reduce((b,f)=>b+f.Dw(),0)}}}
{"use strict";const d=self.B;d.T.UM=class{constructor(a,b=1E3){this.pa=a;this.S9=b;this.oj=[];this.pa.l2(this)}m(){this.Hc();this.pa.P6(this);this.pa=null}Hc(){for(const a of this.oj)a.m();d.D(this.oj)}fB(){const a=new d.T.T1(this.pa);this.oj.push(a);this.oj.length>this.S9&&this.oj.shift().m();return a}HT(a){for(const b of this.oj){if(b.Qg>=a)break;if(b.ko)break;b.mB()}}ZJ(a,b){if(b<=a)return NaN;let f=0;for(const c of this.oj){if(c.Qg>=b)break;if(!(c.Qg<a))if(c.Ow())f+=c.Dw();else return NaN}return f}AJ(a){for(let b=
0,f=this.oj.length;b<f;++b){const c=this.oj[b];if(c.Qg<a)c.m();else{0<b&&this.oj.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.Mj,b=a.Iv,f=a.Lm,c={powerPreference:"default",cS:!0,alpha:!1,sI:!1,depth:!1,mS:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),n=new d.ld(0,0,1,0,1,1,0,1),h=f.create(),l=f.create(),m=new d.ld,p=new d.Rect;let u=null;d.qr&&(self.Ija=function(){u?u.loseContext():console.warn("WEBGL_lose_context not supported")},self.Jja=function(){u?u.restoreContext():console.warn("WEBGL_lose_context not supported")});const q=new Set;let v=
-1;function t(){v=-1;for(const w of q)w.H$()&&(w.resolve(),q.delete(w));0<q.size&&(v=self.requestAnimationFrame(t))}d.T.S1=class extends d.T.M_{constructor(w,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const z={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.sI&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let F=null,G=0;2<=y.mS&&(F=w.getContext("webgl2",
z),G=2);F||(F=w.getContext("webgl",z),G=1);if(!F)throw Error("failed to initialise WebGL context");this.R=F;this.tP=F.getContextAttributes();y.sI&&!this.tP.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");F.getParameter(F.VERSION);this.hd=G;this.Xe=b.create();this.dF=f.create();this.iG=this.Am=!!y.depth;this.Sn=null;this.gG=!0;this.BP=this.CP=0;this.Rz=this.kQ=this.lA=this.yA=null;this.hv=new Float32Array(24E3);this.lQ=new Uint16Array(12E3);this.Eo=
new Float32Array(16E3);this.fR=new Float32Array(32E3);this.FQ=this.Sz=this.Ud=this.fh=0;this.pm=this.po=null;this.Ft=[];this.Vb=this.Ul=0;this.cd=null;this.ec=d.A(d.T.pT,this);this.ru=d.A(d.Va,1,1,1,1);this.fm=this.Lk=null;this.vG=this.xG=0;this.lo=!1;this.jv=this.kv=-1;this.N9=new d.Rect;this.Jz=-1;this.NG=0;this.bv="(unavailable)";this.lG=!1;this.At=this.bH=null;this.MG=0;this.K9=!!y.cS;this.gd=null;this.cy=new Set;this.FR=[];this.KV(this.lQ)}ws(){return!0}async Rw(){super.Rw();var w=this.R;this.ru.Om(1,
1,1,1);this.fm=this.Lk=null;this.Sz=this.fh=0;this.FQ=23988;d.D(this.Ft);this.Vb=this.Ul=0;this.cd=this.po=null;this.N9.set(0,0,1,1);var y=this.ec;y.hh=null;y.Gm=null;b.set(y.EA,1,1,1,1);y.clearColor.Om(0,0,0,0);y.DI.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.xG=w.ONE;this.vG=w.ONE_MINUS_SRC_ALPHA;this.N4(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Am?(w.enable(w.DEPTH_TEST),w.depthMask(!0),
w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.iG=this.Am;this.Rz=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.Rz);w.bufferData(w.ARRAY_BUFFER,this.fR.byteLength,w.DYNAMIC_DRAW);this.yA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.yA);w.bufferData(w.ARRAY_BUFFER,this.hv.byteLength,w.DYNAMIC_DRAW);this.lA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.lA);w.bufferData(w.ARRAY_BUFFER,this.Eo.byteLength,w.DYNAMIC_DRAW);this.kQ=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.kQ);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.lQ,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.Jz=w.getParameter(w.MAX_TEXTURE_SIZE);this.NG=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.NG&&(this.NG=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.bv=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.bH=w.getExtension("KHR_parallel_shader_compile");d.qr&&(u=w.getExtension("WEBGL_lose_context"));if(this.K9)if(1===
this.hd){if("Chromium"!==d.Rc.Ov||81<=d.Rc.kB||"undefined"!==typeof document)this.gd=w.getExtension("EXT_disjoint_timer_query")}else this.gd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.MG=(this.At=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.At.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.T.Zs;y=w.pw(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.pw(!0),"<tilemap>"]].map(z=>this.uB({src:z[0]},z[1],z[2])));this.fA=w[0];this.pm=w[1];this.eA=w[2];this.sH=w[3];this.Mh()}async uB(w,y,z){w=await d.T.Zs.Ma(this,w,y,z);this.m2(w);return w}R_(){this.po=null}Tc(w,y,z){if(this.S!==w||this.O!==y||z){this.uh();z=this.R;var F=this.ec;this.S=w;this.O=y;w=this.lK();y=this.cC();this.aP(w,y);this.Mr(this.dF,w/y);this.Mp(this.dF);this.pm&&(z.useProgram(this.pm.bb),this.pm.nP(this.Iz),this.po=this.pm,this.ec.hh=this.pm);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.fm=this.Lk=null;this.Am&&this.gG&&this.AE(this.S,this.O);this.cd&&this.cd.GO(this.S,this.O);z.bindFramebuffer(z.FRAMEBUFFER,null);this.cd=null;F.Gm=null}}AE(w,y){const z=this.R;if(this.Sn){if(this.CP===w&&this.BP===y)return;z.deleteRenderbuffer(this.Sn)}this.Sn=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Sn);z.renderbufferStorage(z.RENDERBUFFER,2<=this.hd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,y);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.CP=w;this.BP=y}v0(w,y){this.Am&&(this.gG=!1,this.AE(w,y))}g0(){this.Am&&(this.gG=!0,this.AE(this.S,this.O))}lK(){return this.lo?this.kv:this.ba()}cC(){return this.lo?this.jv:this.aa()}aP(w,y){const z=this.Xe;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==y)this.jc().rY(w,y),b.set(z,0,0,w,y),this.Vb=0}Mp(w){f.Ii(this.Iz,w)||(this.jc().nY(w),f.ta(this.Iz,w),this.Vb=0)}fM(){let w,y;var z=this.cd;null===z||z.hu&&this.lo?(w=this.dF,y=this.lK(),z=this.cC()):(w=z.vo,y=z.ba(),z=z.aa());this.Mp(w);this.aP(y,
z)}Ip(w){f.Ii(this.KG,w)||(this.jc().kY(w),f.ta(this.KG,w),this.Vb=0)}jc(){const w=this.Ft;this.Ul===w.length&&w.push(new d.T.R1(this.ec));return w[this.Ul++]}uh(){0===this.Ul||this.kn()||(this.S8(),this.W3(),this.Vb=this.Sz=this.Ud=this.fh=this.Ul=0)}S8(){const w=this.R;0<this.Sz&&(w.bindBuffer(w.ARRAY_BUFFER,this.Rz),w.bufferSubData(w.ARRAY_BUFFER,0,this.fR.subarray(0,this.Sz)));0<this.fh&&(w.bindBuffer(w.ARRAY_BUFFER,this.yA),w.bufferSubData(w.ARRAY_BUFFER,0,this.hv.subarray(0,this.fh)),w.bindBuffer(w.ARRAY_BUFFER,
this.lA),w.bufferSubData(w.ARRAY_BUFFER,0,this.Eo.subarray(0,this.Ud)))}W3(){const w=this.Ft;for(let y=0,z=this.Ul;y<z;++y)w[y].ma()}He(){return this.ru.Qa}Je(w,y,z,F){const G=this.ru;G.qv(w,y,z,F)||(G.Om(w,y,z,F),this.jc().qC(G),this.Vb=0,this.ei=null)}mk(w){const y=this.ru;y.Qa!==w&&(y.Fv(w),this.jc().qC(y),this.Vb=0,this.ei=null)}Hl(w){const y=this.ru;y.Nc(w)||(y.set(w),this.jc().qC(y),this.Vb=0,this.ei=null)}Ap(){this.Je(1,1,1,1)}uf(w){w!==this.Lk&&(this.jc().qY(w),this.Lk=w,this.Vb=0)}tE(){this.Lk=
null}sf(w){w=this.o4(w);this.zE(w[0],w[1])}zE(w,y){if(w!==this.xG||y!==this.vG)this.jc().iY(w,y),this.xG=w,this.vG=y,this.Vb=0,this.ei=null}cD(){this.zE(this.R.ONE,this.R.ONE_MINUS_SRC_ALPHA)}dM(){this.zE(this.R.ONE,this.R.ZERO)}Rect(w){this.HL(w.M,w.L,w.$,w.U)}HL(w,y,z,F){this.v_(w,y,z,y,z,F,w,F)}et(){let w=this.fh;w>=this.FQ&&(this.uh(),w=0);1===this.Vb?this.Ft[this.Ul-1].co+=6:(this.jc().hY(w),this.Vb=1)}KE(w){w.xba(this.hv,this.fh,this.Et+this.Pt);this.fh+=12}ld(w){this.et();this.KE(w);n.qg(this.Eo,
this.Ud);this.Ud+=8}v_(w,y,z,F,G,Q,D,H){this.et();const J=this.hv;let M=this.fh;const P=this.Et+this.Pt;J[M++]=w;J[M++]=y;J[M++]=P;J[M++]=z;J[M++]=F;J[M++]=P;J[M++]=G;J[M++]=Q;J[M++]=P;J[M++]=D;J[M++]=H;J[M++]=P;this.fh=M;n.qg(this.Eo,this.Ud);this.Ud+=8}un(w,y){this.et();this.KE(w);y.wba(this.Eo,this.Ud);this.Ud+=8}w_(w,y){this.et();this.KE(w);y.qg(this.Eo,this.Ud);this.Ud+=8}ax(w,y,z,F,G,Q,D,H,J,M,P,R,V){this.et();const Z=this.hv;let ca=this.fh;const Y=this.Et+this.Pt;Z[ca++]=w;Z[ca++]=y;Z[ca++]=
Y+z;Z[ca++]=F;Z[ca++]=G;Z[ca++]=Y+Q;Z[ca++]=D;Z[ca++]=H;Z[ca++]=Y+J;Z[ca++]=M;Z[ca++]=P;Z[ca++]=Y+R;this.fh=ca;V.qg(this.Eo,this.Ud);this.Ud+=8}QV(w,y){f.ta(h,this.Iz);f.ta(l,this.KG);this.fM();if(this.lo){w=this.Lr(0,0,100*self.devicePixelRatio,0,0);this.Ip(w);w=this.kv/2;var z=this.jv/2;p.set(-w,z,-w+this.kv,z-this.jv);m.lh(p);p.set(0,0,this.kv/this.S,this.jv/this.O);this.un(m,p)}else{const [Q,D]=this.kK(this.cd);z=this.Lr(0,0,100*self.devicePixelRatio,0,0,D);this.Ip(z);if("crop"===w&&this.cd&&
y){w=this.S/2;z=this.O/2;const H=y.ba();y=y.aa();var F=this.cd.ba(),G=this.cd.aa();F=Math.min(F,H);const J=Math.min(G,y),M=Math.max(y-G,0);G=Math.max(G-y,0);p.set(-w,z-G,-w+F,z-J-G);m.lh(p);p.set(0,M,F,J+M);p.fl(H,y);this.un(m,p)}else w=Q/2,z=D/2,this.HL(-w,z,w,-z)}this.Mp(h);this.Ip(l)}Nl(w){this.po!==w&&(this.jc().lY(w),this.po=w,this.Vb=0,this.ei=null)}o0(){this.Nl(this.pm)}Lp(w,y,z,F,G,Q,D,H,J,M,P){const R=this.po;var V=R.$P;const Z=!!P.length;if(V&&!R.kT(y,z,F,G,Q,D,H,J,M)||Z&&!R.jT(P)){var ca=
this.jc();ca.mY();V&&(R.H0(y,z,F,G,Q,D,H,J,M),V=ca.Rd,V[0]=Q,V[1]=D,y.qg(V,2),V[6]=H,V[7]=J,z.qg(V,12),y=ca.Pn,G.qg(y,0),G=y[1],y[1]=y[3],y[3]=G,F.qg(ca.zR,0),ca.jg=M,ca.ue=R.er.W?w?w.Hd():null:null);Z&&(R.m0(P),d.Oc(ca.$z,P));this.Vb=0}}Vv(){this.jc().ZX();this.Vb=0}Hc(w){this.jc().YX(w);this.Vb=0}nB(w){this.MT(w.M,w.L,w.width(),w.height())}MT(w,y,z,F){0>z||0>F||(this.jc().XX(w,y,z,F),this.Vb=0)}Xs(){}Ur(){super.Ur();this.R.flush()}IT(){this.Am&&this.cd&&this.cd.qe&&(this.jc().WX(),this.Vb=0)}Kl(w){w=
!!w;this.iG!==w&&this.Am&&(this.iG=w,this.jc().jY(w),this.Vb=0)}GT(){for(const w of this.cy)w.HT(this.Qg)}kn(){return!this.R||this.R.isContextLost()||this.lG}ik(){super.LZ();d.T.xx.ik();d.T.GD.ik();d.T.TC.ik();for(const w of this.cy)w.Hc();this.At=this.bH=this.gd=null;this.MG=0;this.bv="(unavailable)";this.Sn=this.pm=this.po=null;for(const w of this.Qu.values())w.ik()}async NC(){this.lG=!0;await this.Rw();this.lG=!1;for(const w of this.Qu.values())w.NC(this);this.Tc(this.S,this.O,!0)}Yv(w,y){if(this.kn())throw Error("context lost");
this.uh();const z=d.A(d.T.xx,this);z.V2(w,y);return z}Zv(w,y){if(this.kn())return Promise.reject("context lost");y=Object.assign({},y);const z=y.$A&&"clamp-to-edge"!==y.$A||y.aB&&"clamp-to-edge"!==y.aB;if(!d.Pb.ImageBitmapOptions||!this.An()&&z)return d.Pb.ImageBitmap?createImageBitmap(w).then(F=>d.Oj(()=>this.Yv(F,y))):w instanceof Blob?d.uT(w).then(F=>this.Zv(F,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.Oj(()=>this.Yv(w,
y))):d.Oj(()=>this.Yv(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(F=>d.Oj(()=>this.Yv(F,y)))}xJ(w,y,z){this.uh();const F=d.A(d.T.xx,this);F.I2(w,y,z);return F}J1(w,y){this.uh();y.iP(w,void 0)}Li(w){w&&(w.r1(),0<w.qc||(this.uh(),w===this.Lk&&(this.R.bindTexture(this.R.TEXTURE_2D,null),this.Lk=null),w===this.fm&&(this.R.activeTexture(this.R.TEXTURE1),this.R.bindTexture(this.R.TEXTURE_2D,null),this.R.activeTexture(this.R.TEXTURE0),this.fm=null),w.VD()))}iU(w){let y=
this.S,z=this.O,F=!0;w&&("number"===typeof w.width&&(y=w.width,F=!1),"number"===typeof w.height&&(z=w.height,F=!1));if(0>=y||0>=z)throw Error("invalid size");this.uh();const G=d.A(d.T.GD,this);G.H2(y,z,Object.assign({hS:F},w));this.cd=null;this.ec.Gm=null;return G}le(w){w!==this.cd&&(w&&w.hu&&w.GO(this.S,this.O),this.jc().pY(w),this.cd=w,this.Vb=0,this.fM())}ls(){return this.cd}kK(w){return w?[w.ba(),w.aa()]:[this.S,this.O]}qB(w){2>this.hd||this.cd&&0<this.cd.Ok?(this.dM(),this.Ap(),this.Or(w,"stretch")):
(this.jc().UX(w,this.cd),this.Vb=0)}Or(w,y="stretch"){w=w.Hd();if(!w)throw Error("not a texture-backed render target");this.uf(w);this.QV(y,w)}hn(w){2>this.hd||(this.jc().dY(w.ki),this.Vb=0)}wU(w){this.le(null);this.uh();const y=w.Hd();y===this.Lk&&(this.R.bindTexture(this.R.TEXTURE_2D,null),this.Lk=null);y===this.fm&&(this.R.activeTexture(this.R.TEXTURE1),this.R.bindTexture(this.R.TEXTURE_2D,null),this.R.activeTexture(this.R.TEXTURE0),this.fm=null);w.VD()}async A_(w){this.uh();const y=this.cd;if(w){var z=
w.ba();var F=w.aa();w=w.ki}else z=this.ba(),F=this.aa(),w=null;const G=this.R;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,F);G.readPixels(0,0,z,F,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.cd=null;this.ec.Gm=null;this.le(y)})();return w}uJ(){this.Kl(!0);this.jc().bY();this.Vb=0}tJ(){this.Kl(!1);this.jc().aY();this.Vb=0}sJ(){this.Kl(!0);this.jc().$X();this.Vb=0}zD(w){this.gj()&&(this.jc().tY(w),this.Vb=0)}zB(w){this.gj()&&(this.jc().cY(w),
this.Vb=0)}N8(w){const y=new Promise(z=>q.add({resolve:z,H$:w}));-1===v&&(v=self.requestAnimationFrame(t));return y}HY(){return!!this.tP.desynchronized}hW(){let w=0;for(const y of d.T.xx.y$())w+=y.MB();return w}An(){return 2<=this.hd}gj(){return!!this.gd}l2(w){this.cy.add(w)}P6(w){this.cy.delete(w)}N4(w){this.M4([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,
w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.JX=class{constructor(f){d=f;Object.defineProperties(this,{faa:{value:{},writable:!1},storage:{value:new self.LX(d),writable:!1},Cka:{value:d.Gk,writable:!1}});d.Fd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Fd.addEventListener("keyup",c=>a.delete(c.key));d.Kb().addEventListener("window-blur",()=>a.clear());d.Gk&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}P4(f){Object.defineProperties(this.faa,f)}addEventListener(f,c){d.Fd.addEventListener(f,c)}removeEventListener(f,c){d.Fd.removeEventListener(f,c)}get hI(){return d.gs()}random(){return d.xp()}get If(){return d.Db().$t}get keyboard(){const f=d.Kt.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get nS(){const f=d.Kt.nS;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get VI(){const f=d.Kt.VI;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Fs("alert",{message:f+(d.Gk?" [via Web Worker]":"")})}}}"use strict";self.DX=class{constructor(){}};{"use strict";const d=self.ph;self.LX=class{constructor(a){this.Ru=a.z4()}getItem(a){d.Jd(a);return this.Ru.getItem(a)}setItem(a,b){d.Jd(a);return this.Ru.setItem(a,b)}removeItem(a){d.Jd(a);return this.Ru.removeItem(a)}clear(){return this.Ru.clear()}keys(){return this.Ru.keys()}}}
{"use strict";const d=self.ph,a=new WeakMap;self.pC=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.H().fO(this,b)}addEventListener(b,f){d.Jd(b);d.dj(f);a.get(this).Fd.addEventListener(b,f)}removeEventListener(b,f){d.Jd(b);d.dj(f);a.get(this).Fd.removeEventListener(b,f)}*gS(){for(const b of a.get(this).fa())yield b.yg()}dI(b){d.rf(void 0);d.rf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var f=
a.get(this),c=f.H();b=c.Db().Y(b);if(!b)throw Error("invalid layer");f=c.sB(f,b,void 0,void 0,void 0);c=c.ea();c.Zd(!0);f.Zx();c.Zd(!1);return f.yg()}}}
{"use strict";const d=self.ph,a=new WeakMap;self.IX=class{constructor(b){a.set(this,b);const f=[],c=b.Ka,g=c.Kf().length;for(let n=0;n<g;++n)f.push(new self.oC(c,n));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.Ca(),writable:!1}})}addEventListener(b,f){d.Jd(b);d.dj(f);a.get(this).Fd.addEventListener(b,f)}removeEventListener(b,f){d.Jd(b);d.dj(f);a.get(this).Fd.removeEventListener(b,f)}get width(){return a.get(this).ba()}set width(b){a.get(this).Oh(b)}get height(){return a.get(this).aa()}set height(b){a.get(this).Hh(b)}set scale(b){d.jk(b);
a.get(this).lD(b)}get scale(){return a.get(this).Dc}set angle(b){d.jk(b);a.get(this).nd(b)}get angle(){return a.get(this).Fa()}set scrollX(b){d.rf(b);a.get(this).Jh(b)}get scrollX(){return a.get(this).lf()}set scrollY(b){d.rf(b);a.get(this).Kh(b)}get scrollY(){return a.get(this).mf()}scrollTo(b,f){d.rf(b);d.rf(f);const c=a.get(this);c.Jh(b);c.Kh(f)}set tS(b){d.Jd(b);const f=a.get(this);if("perspective"===b)f.xM();else if("orthographic"===b)f.uM();else throw Error("invalid projection");}get tS(){return a.get(this).Re?
"orthographic":"perspective"}}}
{"use strict";const d=self.B,a=self.ph,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.A(d.Va);self.HX=class{constructor(c){b.set(this,c);const g=[],n=c.Ka,h=n.Kf().length;for(let l=0;l<h;++l)g.push(new self.oC(n,l));Object.defineProperties(this,{name:{value:c.wa(),writable:!1},index:{value:c.Ca(),
writable:!1},If:{value:c.Zb().$t,writable:!1}})}get isVisible(){return b.get(this).xc()}set isVisible(c){b.get(this).Nh(c)}get opacity(){return b.get(this).He()}set opacity(c){c=d.da(+c,0,1);isNaN(c)||b.get(this).mk(c)}set scale(c){a.jk(c);b.get(this).vM(c)}get scale(){return b.get(this).Dc}set angle(c){a.jk(c);b.get(this).nd(c)}get angle(){return b.get(this).Nd}set Kv(c){a.jk(c);b.get(this).Ke(c)}get Kv(){return b.get(this).Ua()}set backgroundColor(c){a.WC(c);if(3>c.length)throw Error("expected 3 elements");
f.Cr(c[0],c[1],c[2]);c=b.get(this);const g=c.wk;g.hl(f)||(g.Kj(f),c.H().Z())}get backgroundColor(){const c=b.get(this).wk;return[c.Pa,c.Sa,c.Ra]}set scrollX(c){a.rf(c);const g=b.get(this);g.Os(!0);g.Jh(c)}get scrollX(){return b.get(this).lf()}set scrollY(c){a.rf(c);const g=b.get(this);g.Os(!0);g.Kh(c)}get scrollY(){return b.get(this).mf()}scrollTo(c,g){a.rf(c);a.rf(g);const n=b.get(this);n.Os(!0);n.Jh(c);n.Kh(g)}}}
{"use strict";const d=self.B,a=self.ph,b=new WeakMap,f=new WeakMap;function c(n){let h=f.get(n);if(h)return h;h=d.A(d.Event.Kb);f.set(n,h);return h}let g=null;self.us=class{constructor(){b.set(this,g);const n={ic:{value:g.H().oi,writable:!1},yI:{value:g.G().au,writable:!1},uid:{value:g.Ec,writable:!1}};g.s4(n);g.n4(n);Object.defineProperties(this,n);g.H().fO(this,g)}static Uh(n){g=n}static ft(){return g}pt(){const n=f.get(this);n&&(n.m(),f.delete(this));b.delete(this)}addEventListener(n,h,l){a.Jd(n);
a.dj(h);c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.Jd(n);a.dj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}
{"use strict";const d=self.B,a=self.ph,b=self.us,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.Va);self.Pw=class c extends b{constructor(){super();var g=b.ft();f.set(this,g);const n=[];var h=g.j();if(g=h.Pd){h=h.G().Ka.Kf().length;for(let l=0;l<h;++l)n.push(new self.oC(g,l))}}get If(){return f.get(this).j().Zb().$t}get vd(){return f.get(this).j().Y().z9}get x(){return f.get(this).j().ka()}set x(g){g=
+g;const n=f.get(this).j();isNaN(g)||n.ka()===g||(n.Eg(g),n.Xa())}get y(){return f.get(this).j().la()}set y(g){g=+g;const n=f.get(this).j();isNaN(g)||n.la()===g||(n.Ph(g),n.Xa())}get Kv(){return f.get(this).j().Ua()}set Kv(g){g=+g;const n=f.get(this),h=n.j();isNaN(g)||h.Ua()===g||(h.Ke(g),n.H().Z())}get width(){return f.get(this).j().ba()}set width(g){g=+g;const n=f.get(this).j();isNaN(g)||n.ba()===g||(n.Oh(g),n.Xa())}get height(){return f.get(this).j().aa()}set height(g){g=+g;const n=f.get(this).j();
isNaN(g)||n.aa()===g||(n.Hh(g),n.Xa())}get angle(){return f.get(this).j().Fa()}set angle(g){g=d.Xd(+g);const n=f.get(this).j();isNaN(g)||n.Fa()===g||(n.nd(g),n.Xa())}lI(){f.get(this).j().vc().kba()}get isVisible(){return f.get(this).j().xc()}set isVisible(g){g=!!g;const n=f.get(this),h=n.j();h.xc()!==g&&(h.Nh(g),n.H().Z())}get opacity(){return f.get(this).j().He()}set opacity(g){g=d.da(+g,0,1);const n=f.get(this),h=n.j();isNaN(g)||h.He()===g||(h.mk(g),n.H().Z())}get zIndex(){return f.get(this).j().Zi()}$e(g,
n){a.rf(g);a.rf(n);return f.get(this).j().Nr(+g,+n)}getParent(){const g=f.get(this).ya();return g?g.yg():null}*zv(){for(const g of f.get(this).zv())yield g.yg()}*children(){for(const g of f.get(this).children())yield g.yg()}*Jj(){for(const g of f.get(this).Jj())yield g.yg()}removeChild(g){a.XC(g,c);const n=f.get(this);g=f.get(g);n.cj(g)}}}{"use strict";const d=new WeakMap;self.tda=class extends self.Pw{constructor(){super();d.set(this,self.us.ft())}focus(){d.get(this).na.LJ()}blur(){d.get(this).na.fJ()}}}
{"use strict";const d=self.B,a=self.ph,b=new WeakMap,f=new WeakMap;function c(n){let h=f.get(n);if(h)return h;h=d.A(d.Event.Kb);f.set(n,h);return h}let g=null;self.FX=class{constructor(){b.set(this,g);const n={ic:{value:g.H().oi,writable:!1},behavior:{value:g.ql().zW(),writable:!1}};Object.defineProperties(this,n)}static Uh(n){g=n}static ft(){return g}get instance(){return b.get(this).ia.yg()}pt(){const n=f.get(this);n&&(n.m(),f.delete(this));b.delete(this)}addEventListener(n,h,l){a.Jd(n);a.dj(h);
c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.Jd(n);a.dj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}{"use strict";const d=new WeakMap;self.EX=class{constructor(a){d.set(this,a);Object.defineProperties(this,{ic:{value:a.H().oi,writable:!1}})}}}
{"use strict";const d=self.B,a=self.ph,b=new WeakMap;self.oC=class{constructor(f,c){b.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Kf()[this.index].wa()}getParameter(f){a.jk(f);f=Math.floor(+f);const c=b.get(this).Mf(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.Va?[f.Pa,f.Sa,f.Ra]:f}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.oT=class extends d.ca{constructor(f,c){super();var g=c.exportType;this.g=f;this.Fz=new Map;this.Gq=new Map;this.Q9=new Map;this.cz="cordova"===g;this.wQ=!!c.isiOSCordova;this.iu=!!c.isFileProtocol;this.n$=c.supportedAudioFormats||{};this.Y8=
new Map;this.fQ=this.PP="";this.yy="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.UE=[];this.cF=new Map;this.UH=[];this.Dz=[];this.aQ=!1;this.xz=this.bF=this.Zu=0;this.TF=!1;this.P9=d.A(d.z_,()=>this.AN(),50);this.hH=new d.BL(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(f,g);(g=c.projectData)&&(f["data.json"]=g);for(const [n,h]of Object.entries(f))this.Fz.set(n.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [n,
h]of Object.entries(c))this.Q9.set(n,h);new self.DX(this)}m(){this.Fz.clear();for(const f of this.Gq.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.Gq.clear();for(const f of this.UE)f.m();d.D(this.UE);this.cF.clear();d.D(this.Dz);this.g=null}H(){return this.g}Q7(f){this.PP=f}V7(f){this.fQ=f}gE(f){return this.Fz.has(f.toLowerCase())}Gx(f){return this.Fz.get(f.toLowerCase())||null}eK(f){if(!this.gE(f))return f;f=f.toLowerCase();var c=this.Gq.get(f);c||(c=this.Gx(f),c=URL.createObjectURL(c),
this.Gq.set(f,c));return c}Rj(f,c){c=c||this.yy;const g=this.Gx(f);if(g)return Promise.resolve(g);if(d.FC(f)){const n=f.toLowerCase();return this.cz&&this.iu?this.wJ(n):"local"===c?this.hH.tc(()=>d.Rj(n)):d.Rj(n)}return d.Rj(f)}Sr(f){const c=this.Gx(f);if(c)return d.tT(c);if(d.FC(f)){const g=f.toLowerCase();return this.cz&&this.iu?this.vJ(g):"local"===this.yy?this.hH.tc(()=>d.Sr(g)):d.Sr(g)}return d.Sr(f)}Tr(f){const c=this.Gx(f);if(c)return d.eJ(c);if(d.FC(f)){const g=f.toLowerCase();return this.cz&&
this.iu?this.bU(g):"local"===this.yy?this.hH.tc(()=>d.Tr(g)):d.Tr(g)}return d.Tr(f)}async JJ(f){f=await this.Tr(f);return JSON.parse(f)}MD(f,c){return this.g.Fs("cordova-fetch-local-file",{filename:f,as:c})}bU(f){return this.MD(f,"text")}async wJ(f){const c=await this.MD(f,"buffer");f?(f=f.split("."),f=2>f.length?"":b.get(f.Wd(-1).toLowerCase())||""):f="";return new Blob([c],{type:f})}async aU(f){f=f.toLowerCase();var c=this.Gq.get(f);if(c)return c;c=await this.wJ(f);c=URL.createObjectURL(c);this.Gq.set(f,
c);return c}vJ(f){return this.MD(f,"buffer")}ZW(f,c=""){if(d.sC(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.gE(f)?Promise.resolve(this.eK(f)):this.cz&&this.iu?this.aU(c+f):Promise.resolve(c+f.toLowerCase())}Xw(f){if(f.wv&&!a.has(f.wv))throw Error("invalid load policy");let c=this.cF.get(f.url);if(c)return c;c=d.A(d.BK,this,{url:f.url,size:f.size||0,wv:f.wv||this.yy});this.UE.push(c);this.cF.set(c.Ej,c);this.aQ||(this.Zu+=c.wl(),this.Dz.push(c.WK().then(()=>
this.ZM(c.wl()))));return c}async SM(){try{await Promise.all(this.Dz),this.xz=1}catch(f){console.error("Error loading: ",f),this.TF=!0,this.AN()}}B0(){this.aQ=!0}ZM(f){this.bF+=f;this.P9.BT()}AN(){const f=d.A(d.Event,"loadingprogress");this.xz=d.da(this.bF/this.Zu,0,1);f.progress=this.xz;this.g.Kb().dispatchEvent(f)}j8(f){d.Oc(this.UH,f);this.UH.length&&this.Dz.push(this.C5())}C5(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [c,g,n]of this.UH)this.Zu+=n,f.push(this.B5(c,
g).then(()=>this.ZM(n)));return Promise.all(f)}async B5(f,c){try{const g=await this.ZW(c,this.PP),n=new FontFace(f,`url('${g}')`);this.g.Gk?self.fonts.add(n):document.fonts.add(n);await n.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${f}': `,g)}}AY(){return!!this.n$["audio/webm; codecs=opus"]}E7(f){for(const [c,g,n]of f)this.Y8.set(c,{fileName:c,Wja:g.map(h=>({type:h[0],Sja:h[1],ika:c+h[1],fileSize:h[2]})),Dka:n})}}}
{"use strict";const d=self.B;d.nT=class extends d.ca{constructor(a,b){super();this.bd=a;this.g=a.H();this.Ej=b.url;this.Sq=b.size;this.GG=b.wv;this.Ht=null;this.oG=!1;this.hm=null}m(){this.Ht=this.g=this.bd=this.hm=null}wl(){return this.Sq}WK(){return"local"===this.GG||this.Ht?(this.oG=!0,Promise.resolve()):this.hm?this.hm:this.hm=this.bd.Rj(this.Ej,this.GG).then(a=>{this.oG=!0;this.hm=null;return this.Ht=a}).catch(a=>console.error("Error loading resource: ",a))}CC(){return this.oG}YV(){return this.Ht?
Promise.resolve(this.Ht):this.hm?this.hm:this.bd.Rj(this.Ej,this.GG)}}}
{"use strict";const d=self.B,a=new d.BL,b=new Set;d.BK=class extends d.nT{constructor(f,c){super(f,c);this.Gj=this.Go=null;this.qc=0;this.hQ=this.jQ=-1;b.add(this)}m(){this.Fh();if(0!==this.qc)throw Error("released image asset which still has texture references");this.Go=null;b.delete(this);super.m()}static vp(){for(const f of b)f.Go=null,f.Gj=null,f.qc=0}Bs(f,c){c=c||{};this.qc++;if(this.Gj)return Promise.resolve(this.Gj);if(this.Go)return this.Go;c.TR=this.g.V.ER;return this.Go=this.YV().then(g=>
a.tc(()=>f.Zv(g,c).then(n=>{this.Go=null;if(0===this.qc)return f.Li(n),null;this.Gj=n;this.jQ=n.ba();this.hQ=n.aa();return this.Gj}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Fh(){if(0>=this.qc)throw Error("texture released too many times");this.qc--;0===this.qc&&this.Gj&&(this.Gj.jb().Li(this.Gj),this.Gj=null)}Hd(){return this.Gj}ba(){return this.jQ}aa(){return this.hQ}}}
{"use strict";const d=self.B;function a(b,f){return b.j().Ij-f.j().Ij}d.K_=class extends d.ca{constructor(b,f,c){super();this.N=f;this.K=c;this.F=[];this.ku=!0;this.xi=new Set;this.eu=!1}m(){d.D(this.F);this.xi.clear()}ad(){d.D(this.F);this.ku=!0;this.xi.clear();this.eu=!1}k0(){this.ku=!1}mn(){if(!this.F.length)return!0;if(this.F.length>this.xi.size)return!1;this.cE();return!0}rC(b){this.xi.has(b)?(this.xi.delete(b),0===this.xi.size&&(this.eu=!1)):(this.F.push(b),this.ku=1===this.F.length)}Cg(b){this.xi.add(b);
this.eu=!0;50<=this.xi.size&&this.cE()}cE(){this.eu&&(this.F.length===this.xi.size?this.ad():(d.pg(this.F,this.xi),this.xi.clear(),this.eu=!1))}V3(){this.ku||(this.F.sort(a),this.ku=!0)}xB(b){this.cE();this.V3();this.F.length&&b.push(this.F)}}}
{"use strict";const d=self.B;d.L_=class extends d.ca{constructor(a,b){super();this.oF=a;this.nF=b;this.ai=d.A(d.Ds)}m(){this.ai.m();this.ai=null}rl(a,b,f){let c=this.ai.X(a,b);return c?c:f?(c=d.A(d.K_,this,a,b),this.ai.Set(a,b,c),c):null}Qh(a){return Math.floor(a/this.oF)}Rh(a){return Math.floor(a/this.nF)}nk(a,b,f){if(b)for(let c=b.M,g=b.$;c<=g;++c)for(let n=b.L,h=b.U;n<=h;++n){if(f&&f.$e(c,n))continue;const l=this.rl(c,n,!1);l&&(l.Cg(a),l.mn()&&this.ai.Sm(c,n))}if(f)for(let c=f.M,g=f.$;c<=g;++c)for(let n=
f.L,h=f.U;n<=h;++n)b&&b.$e(c,n)||this.rl(c,n,!0).rC(a)}bx(a,b){let f=this.Qh(a.M);const c=this.Rh(a.L),g=this.Qh(a.$);for(a=this.Rh(a.U);f<=g;++f)for(let n=c;n<=a;++n){const h=this.rl(f,n,!1);h&&h.xB(b)}}oZ(a){let b=a.M;const f=a.L,c=a.$;for(a=a.U;b<=c;++b)for(let g=f;g<=a;++g){const n=this.rl(b,g,!1);n&&n.k0()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.ld,f=[],c=new d.Rect,g=new d.Rect,n=self.Mj,h=n.YA,l=n.Iv,m=n.Lm;m.create();const p=h.create(),u=l.create(),q=h.create(),v=h.create(),t=h.create(),w=d.A(d.Ys);function y(D,H){return D.j().Ij-H.j().Ij}function z(D,H){return D.j().Ua()-H.j().Ua()}const F=[],G=[],Q=[];d.IC=class extends d.ca{constructor(D,H,J){super();this.wi=D;this.g=D.H();this.Ba=J[0];this.Oa=H;this.ab=J[2];this.vz=!!J[3];this.wk=d.A(d.Va);this.wk.ll(J[4].map(M=>M/255));this.em=!!J[5];
this.Bd=J[6];this.Cd=J[7];this.Ya=d.A(d.Va,1,1,1,J[8]);this.Tz=d.A(d.Va);this.jG=J[9];this.h$=J[17];this.IR=J[18];this.s$=J[10];this.Bi=J[11];this.Wl=J[12];this.qj=null;this.Dc=1;this.Fc=J[16];this.ah=this.$g=this.Nd=0;this.Dk=!1;this.Xe=d.A(d.Rect);this.PR=d.A(d.Rect);this.Bm=d.A(d.Rect);this.vo=m.create();this.sG=!0;this.WQ=m.create();this.pG=!0;this.OR=d.A(d.T.L1);this.uz=!0;this.BR=[];this.vj=[];this.wy=[];this.mQ=new Map;this.F=[];this.Ln=this.WH=!1;this.Ka=d.A(d.Pj,this,J[15]);this.Qq=null;
this.wG=[];this.lz=!1;this.O9=d.A(d.Rect,0,0,-1,-1);this.n9=d.A(d.Rect,0,0,-1,-1);this.z9=new self.HX(this);this.oP();this.Bn()&&(this.Qq=d.A(d.L_,this.g.fg,this.g.eg));for(const M of J[14])D=this.g.Ge(M[1]),this.wi.XM(D),D.lq||D.eM(M),this.vj.push(M),this.mQ.set(M[2],M);d.Oc(this.BR,this.vj)}static Ma(D,H,J){return d.A(d.IC,D,H,J)}m(){this.g=this.wi=null}DW(D){return this.mQ.get(D)}eU(D){const H=this.wi.jo;let J=0;const M=this.vj;for(let R=0,V=M.length;R<V;++R){var P=M[R];const Z=this.g.Ge(P[1]);
let ca=!0;if(!Z.lC()||H)P=this.g.th(P,this,!0),D.push(P),Z.Qf()&&(ca=!1,this.wy.push(P.Ec));ca&&(M[J]=M[R],++J)}d.Ce(M,J);this.g.wd();this.Vf()}Xf(D,H){const J=D.j();if(J.Y()!==this)throw Error("instance added to wrong layer");this.F.push(D);0!==J.Ua()&&(this.Ln=!0);H&&this.Bn()&&D.j().Xa();this.Vf()}G5(D){this.F.includes(D)||(this.F.push(D),0!==D.j().Ua()&&(this.Ln=!0),this.Vf())}v6(D){const H=D.j();if(H.Y()!==this)throw Error("instance added to wrong layer");this.F.unshift(D);0!==H.Ua()&&(this.Ln=
!0);this.Vf()}Gn(D,H){const J=this.F.indexOf(D);0>J||(H&&this.Bn()&&D.j().DO(),this.F.splice(J,1),this.Vf(),this.kO())}SO(){this.Ln=!0}kO(){0===this.F.length&&(this.Ln=!1)}EE(D){if(D){D=new Set;for(var H of this.F){var J=H.j().Ij;0<=J&&D.add(J)}H=-1;for(const M of this.F)if(J=M.j(),!(0<=J.Ij)){for(++H;D.has(H);)++H;J.Xx(H)}}this.F.sort(y)}U3(){for(const D of this.F)D.G().Qf()||this.g.Tm(D);this.g.wd();d.D(this.F);this.Ln=!1;this.Vf()}Hs(D,H,J,M,P){const R=this.g.ea(),V=this.g.yc,Z=D.Ta,ca=[];for(const ka of this.vj){var Y=
ka[0];if(H.$e(Y[0],Y[1])){Y=V[ka[1]];if(Y!==D)if(Z){if(!D.IJ(Y))continue}else continue;Y=this;var ha=this.g.Ga();this.Zb()!==ha&&((Y=ha.cK(this.wa()))||(Y=ha.yw(this.Ca())));ha=this.g.th(ka,Y,!1,void 0,void 0,!1,P);Y.vD(ha);Y=ha.j();Y.Yw(J,M);Y.Xa();R.Zd(!0);ha.Zx();R.Zd(!1);ca.push(ha)}}return ca}Zb(){return this.wi}wa(){return this.Ba}Ca(){return this.Oa}H(){return this.g}Sj(){return this.g.Sj()}Bn(){return this.s$&&!this.IR}M0(){this.lz=!1}xc(){return this.vz}Nh(D){D=!!D;this.vz!==D&&(this.vz=
D,this.g.Z())}Os(D){D=!!D;if(this.Dk!==D){if(this.Dk=D)D=this.Zb(),this.$g=D.lf(),this.ah=D.mf();this.kj();this.g.Z()}}Jh(D){var H=this.Zb();const J=H.nK();H=H.oK();D>H&&(D=H);D<J&&(D=J);this.$g!==D&&(this.$g=D,this.Dk&&(this.kj(),this.g.Z()))}Kh(D){var H=this.Zb();const J=H.pK();H=H.mK();D>H&&(D=H);D<J&&(D=J);this.ah!==D&&(this.ah=D,this.Dk&&(this.kj(),this.g.Z()))}lf(){return this.Dk?this.$g:this.Zb().lf()}mf(){return this.Dk?this.ah:this.Zb().mf()}fE(){const D=this.Zb();return[D.fC(),D.gC()]}xK(D,
H){var J=this.PR;if(0===D)H.ta(J);else{let V=J.yr(),Z=J.zr();var M=this.NJ(D);const ca=J.width()/M;J=J.height()/M;const [Y,ha]=this.fE();if(.5!==Y||.5!==ha){const ka=this.kw();var P=this.g,R=100/ka;M=(Y-.5)*P.Gf/R;P=(ha-.5)*P.Ff/R;R=this.Fa();0!==R&&(w.set(M,P),w.rotate(R),M=w.N,P=w.K);D=d.XA(ka,0,D);V+=d.Gd(M,0,D);Z+=d.Gd(P,0,D)}H.set(V-ca/2,Z-J/2,V+ca/2,Z+J/2)}}He(){return this.Ya.Qa}mk(D){D=d.da(D,0,1);this.Ya.Qa!==D&&(this.Ya.Fv(D),this.oP(),this.g.Z())}oP(){this.Tz.ta(this.Ya);this.Tz.GI()}ZB(){return this.Tz}xl(){return this.Ya.qv(1,
1,1,1)}N0(D){this.Bi!==D&&(this.Bi=D,this.kj(),this.g.Z())}J0(D,H){if(this.Bd!==D||this.Cd!==H)if(this.Bd=D,this.Cd=H,this.kj(),this.g.Z(),1!==this.Bd||1!==this.Cd)for(const J of this.F)J.G().yE(!0)}Ke(D){this.Fc!==D&&(this.Fc=D,this.g.Z())}Ua(){return this.Fc}nd(D){D=d.Xd(D);this.Nd!==D&&(this.Nd=D,this.kj(),this.g.Z())}Fa(){return d.Xd(this.wi.Fa()+this.Nd)}wX(){return 0<this.F.length}dE(){return this.UC()&&this.IR?(d.Oc(Q,this.F),Q.sort((D,H)=>this.p8(D,H)),Q):this.F}p8(D,H){var J=this.Zb().xP,
M=J[0],P=J[1];J=J[2];var R=D.j();const V=H.j();H=R.ka()-M;D=R.la()-P;R=R.Ua()-J;M=V.ka()-M;P=V.la()-P;J=V.Ua()-J;return M*M+P*P+J*J-(H*H+D*D+R*R)}Z0(D){D=!!D;this.em!==D&&(this.em=D,this.g.Z())}x0(D){D=!!D;this.jG!==D&&(this.jG=D,this.g.Z())}JL(){return!this.H().el||!this.h$}UC(){return!this.JL()}lp(){return this.UC()&&this.Zb().F9}sf(D){this.Wl!==D&&(this.Wl=D,this.g.Z())}vh(){return this.Wl}WY(D){return this===D||this.Bd===D.Bd&&this.Cd===D.Cd&&this.Dc===D.Dc&&this.Bi===D.Bi&&this.Nd===D.Nd&&this.lf()===
D.lf()&&this.mf()===D.mf()}I6(D){0!==D.size&&0<d.pg(this.F,D)&&(this.kO(),this.Vf())}Vf(){this.lz=this.WH=!1}yt(){if(!this.WH){this.F.sort(z);if(this.Bn())for(let D=0,H=this.F.length;D<H;++D){const J=this.F[D].j();J.Xx(D);this.Qq.oZ(J.Hu)}else for(let D=0,H=this.F.length;D<H;++D)this.F[D].j().Xx(D);this.WH=!0}}tZ(D,H,J){var M=D.j();H=H.j();if(M.Y()!==this||H.Y()!==this)throw Error("can't arrange Z order unless both objects on this layer");M=M.Zi();H=H.Zi();if(M===H+(J?1:-1))return!1;d.F$(this.F,M);
M<H&&H--;J&&H++;H===this.F.length?this.F.push(D):this.F.splice(H,0,D);this.Vf();return!0}O5(D,H){const J=[];let M=0,P=0,R=D.length,V=H.length;for(;M<R&&P<V;){const Z=D[M],ca=H[P];Z.j().Ij<ca.j().Ij?(J.push(Z),++M):(J.push(ca),++P)}for(;M<R;++M)J.push(D[M]);for(;P<V;++P)J.push(H[P]);return J}N5(D){const H=[],J=D.length;for(let M=0;M<J-1;M+=2)H.push(this.O5(D[M],D[M+1]));1===J%2&&H.push(D[J-1]);return H}M5(D){for(;1<D.length;)D=this.N5(D);return D[0]}B4(){this.yt();d.D(f);this.Qq.bx(this.Xe,f);return f.length?
1===f.length?f[0]:this.M5(f):[]}d5(){return!this.Rp()&&!this.em}DM(){return this.xc()&&0<this.He()&&(this.wX()||!this.em)}Rp(){return this.jG||!this.xl()||0!==this.vh()||this.Ka.ss()}ls(){return this.qj}z2(D){if(0===D.length)return!0;if(2<=D.length)return!1;D=D[0].bb;return!D.Dl()&&!D.dv&&!D.sF&&this.xl()}NJ(D){if(this.wi.Re)return 1;{const H=this.kw();return H/(H-D)}}kw(){return 100/this.Pi()}kj(){this.uz=this.pG=!0}Hx(D){this.pG&&(this.x2(D,this.WQ),this.pG=!1);return this.WQ}x2(D,H){const J=this.g;
var M=this.Zb();const P=J.$j();var R=J.$G,V=J.aH,Z=(this.lf()-R)*this.Bd+R,ca=(this.mf()-V)*this.Cd+V;this.g.Ik&&(Z=Math.round(Z),ca=Math.round(ca));if(this.lp())h.ta(q,M.xP),h.ta(v,M.j9),h.ta(t,M.k9),M=v[0]-q[0],ca=v[1]-q[1],Z=v[2]-q[2],q[0]=(q[0]-R)*this.Bd+R,q[1]=(q[1]-V)*this.Cd+V,q[2]*=Math.max(this.Bd,this.Cd),v[0]=q[0]+M,v[1]=q[1]+ca,v[2]=q[2]+Z,h.set(p,P,P,1),h.multiply(q,q,p),h.multiply(v,v,p);else{R=(Z+0)*P;V=(ca+0)*P;M=M.Re?100:this.kw();ca=this.Fa();const [ha,ka]=this.fE();if(.5!==ha||
.5!==ka){var Y=100/M;Z=(ha-.5)*J.Gf*P/Y;Y=(ka-.5)*J.Ff*P/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.N,Y=w.K);R+=Z;V+=Y}h.set(q,R,V,M);h.set(v,R,V,M-100);0===ca?h.set(t,0,1,0):h.set(t,Math.sin(ca),Math.cos(ca),0)}D.iJ(H,q,v,t,J.V.jf());1!==P&&(h.set(p,P,P,1),m.scale(H,H,p))}c8(){this.uz=this.sG=!0}Ix(D){this.sG&&(this.y2(D),this.sG=!1);return this.vo}y2(D){const H=this.g.V,[J,M]=this.fE();this.wi.Re?D.yT(this.vo,H.Lf(),H.jf()):.5===J&&.5===M?m.ta(this.vo,H.zy):D.Mr(this.vo,H.Lf()/H.jf(),J,M)}Wx(D){D.Mp(this.Ix(D));
let H;H=this.Hx(D);D.Ip(H)}o_(D){this.Wx(D);D.Ks(this.Ua())}ff(D,H,J){var M=this.g.V;const P=this.Rp();var R=null;let V=null;if(this.g.xC()&&D.ws()){const Z=M.dK(this);Z&&(V=Z.fB(),D.zD(V))}P?(R={Ji:this.g.Wc},"low"===M.mi&&(R.width=M.Lf(),R.height=M.jf()),R=this.g.Xr(R),D.le(R),this.em?D.Vv():D.Hc(this.wk)):(D.le(H),this.em||J||D.Hc(this.wk));this.qj=R||H;this.Wx(D);D.Ks(this.Ua());D.Kl(this.UC());this.Pi()>Number.EPSILON&&(this.yt(),M=this.Bn()&&0===this.Ua()&&!this.Ln,this.lp()?this.K3(D):M?this.L3(D):
this.tN(D,this.dE()));D.Ks(0);D.Jl(0);P&&(D.Kl(!1),this.M3(D,R,H,J));V&&D.zB(V);this.qj=null}tN(D,H){const J=this.Xe,M=this.qj,P=this.Zb().Re,R=this.Zb().AK();let V=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===V)continue;V=Y;const ha=Y.j();ha.xc()&&ha.NK(J,R,P)&&this.rk(Y,ha,D,M)}}K3(D){const H=this.qj,J=this.ht(),M=this.dE();for(let Z=0,ca=M.length;Z<ca;){var P=M[Z],R=P.j();if(!R.xc()||!R.op(J)){++Z;continue}(!P.yp()||0<R.qe)&&G.push(P);var V=P.j().he();F.push(P);let Y=Z+1;for(;Y<ca;++Y){const ha=
M[Y],ka=ha.j();if(ka.xc()&&ka.op(J)){if(ka.he()!==V)break;ha.yp()?(0<ka.qe&&G.push(ha),F.push(ha)):G.push(ha)}}if(1!==F.length||F[0].dL()){this.G3(D,F);for(let ha=0,ka=G.length;ha<ka;++ha)P=G[ha],R=P.j(),R.Ux(!0),this.rk(P,R,D,H),R.Ux(!1)}else{this.rk(P,R,D,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==P&&(V=R.j(),V.Y().rk(R,V,D,H))}Z=Y;d.D(F);d.D(G)}}G3(D,H){const J=this.qj;D.uJ();for(let R=0,V=H.length;R<V;++R){var M=H[R],P=M.j();P.Sx(!0);this.YD(M,P,D)}D.tJ();for(let R=0,V=H.length;R<V;++R)M=
H[R],P=M.j(),this.rk(M,P,D,J),P.Sx(!1);D.sJ()}L3(D){var H=this.Qq;const J=this.n9,M=this.O9,P=this.Xe;J.set(H.Qh(P.M),H.Rh(P.L),H.Qh(P.$),H.Rh(P.U));this.lz&&J.Nc(M)?H=this.wG:(H=this.B4(),this.lz=!0,M.ta(J));this.tN(D,H);H!==this.wG&&d.Oc(this.wG,H)}rk(D,H,J,M){H.ss()?this.I3(D,H,J,M):this.YD(D,H,J)}YD(D,H,J){H=H.Do;J.ei!==H&&H.iT();D.ff(J)}I3(D,H,J,M){this.H3(D,H,J,M)&&this.Wx(J)}H3(D,H,J,M){const P=H.Pd.Wh;if(1===P.length){const R=P[0],V=R.bb;if(!V.V9&&H.xl()&&!D.Dl())return this.J3(D,H,R,V,J),
!1}D=d.SC(J,this.g,D,M,P,null);J.Ks(this.Ua());return D}J3(D,H,J,M,P){P.Nl(M);P.sf(H.vh());M.dy&&this.g.Z();let R=0,V=0;if(M.t$){const [Z,ca]=D.mw();R=1/Z;V=1/ca;(M=D.ow())?g.ta(M):g.set(0,0,0,0)}J=H.Pd.Mf(J.Ca());P.Jl(H.Ua());P.Lp(null,c,g,g,H.vc(),R,V,this.Dc,this.Fa(),this.g.xg(),J);D.ff(P)}M3(D,H,J,M){const P=this.Ka.Wh,R=this.g;if(this.z2(P)){D.le(J);if(1===P.length){var V=P[0];J=V.bb;D.Nl(J);g.set(0,0,1,1);V=this.Ka.Mf(V.Ca());D.Lp(null,c,g,g,this.Xe,1/R.Lf(),1/R.jf(),this.Pi(),this.Fa(),R.xg(),
V);J.dy&&R.Z()}else D.Mh();M&&0===this.Wl&&this.xl()&&0===P.length?D.qB(H):(D.sf(this.Wl),D.Hl(this.Tz),D.Or(H));D.hn(H);R.Fl(H)}else d.SC(D,R,this,J,P)}vM(D){this.Dc!==D&&(this.Dc=D,this.wi.Nv(),this.kj(),this.g.Z())}$j(){return this.Pi()*this.g.$j()}Tj(){return this.Pi()*this.g.Tj()}Pi(){return(this.Dc*this.wi.Dc-1)*this.Bi+1}ED(){var D=this.g.$G,H=this.g.aH,J=(this.lf()-D)*this.Bd+D,M=(this.mf()-H)*this.Cd+H;D=this.Pi();H=this.g.Gf/D;D=this.g.Ff/D;J-=H/2;let P=M-D/2;this.g.Ik&&(J=Math.round(J),
P=Math.round(P));M=this.PR;M.set(J,P,J+H,P+D);H=this.Fa();0!==H&&(a.ta(M),a.offset(-M.yr(),-M.zr()),b.aba(a,H),b.lI(a),a.offset(M.yr(),M.zr()),M.ta(a));H=this.Fc;this.xK(H,this.Xe);this.lp()?this.AT(H,this.Bm):this.Bm.ta(this.Xe)}AT(D,H){var J=this.g.V,M=J.Ac;J=J.mc;const [P,R]=this.sg(0,0,D),[V,Z]=this.sg(M,0,D),[ca,Y]=this.sg(M,J,D),[ha,ka]=this.sg(0,J,D);D=Math.min(P,V,ca,ha);M=Math.min(R,Z,Y,ka);J=Math.max(P,V,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(D)||(D=-Infinity);isFinite(M)||(M=-Infinity);
isFinite(J)||(J=Infinity);isFinite(za)||(za=Infinity);H.set(D,M,J,za)}sg(D,H,J=0){return this.C2(D,H,J,this.Tj())}C2(D,H,J,M){const P=this.g;var R=P.jb();const V=this.Pi();l.set(u,0,0,P.Gf/V,P.Ff/V);D/=M;H=u[3]-H/M;M=this.Ix(R);R=this.Hx(R);return d.T.D1(D,H,J,R,M,u,p)?[p[0],p[1]]:[NaN,NaN]}ET(D,H){const J=this.Dc,M=this.Bi,P=this.Bd,R=this.Cd,V=this.Nd;this.Cd=this.Bd=this.Bi=this.Dc=1;this.Nd=0;this.kj();D=this.sg(D,H);this.Dc=J;this.Bi=M;this.Bd=P;this.Cd=R;this.Nd=V;this.kj();return D}sn(D,H){return this.cO(D,
H,0,this.Tj())}bj(D,H,J=0){return this.cO(D,H,J,this.$j()*this.Sj())}cO(D,H,J,M){var P=this.g,R=P.jb();const V=this.Pi();l.set(u,0,0,P.Gf/V,P.Ff/V);P=this.Ix(R);R=this.Hx(R);return d.T.q_(D,H,J,R,P,u,p)?[p[0]*M,(u[3]-p[1])*M]:[NaN,NaN]}ht(){this.uz&&(this.M8(),this.uz=!1);return this.OR}M8(){var D=this.g.jb();const H=this.Ix(D);D=this.Hx(D);this.OR.zT(D,H)}ga(){return{s:this.Dc,a:this.Nd,vl:this.Xe.M,vt:this.Xe.L,vr:this.Xe.$,vb:this.Xe.U,v:this.xc(),bc:this.wk.toJSON(),t:this.em,sx:this.$g,sy:this.ah,
hosp:this.Dk,px:this.Bd,py:this.Cd,c:this.Ya.toJSON(),sr:this.Bi,fx:this.Ka.md(),cg:this.wy}}oa(D){this.Dc=D.s;this.Nd=D.a;this.Xe.set(D.vl,D.vt,D.vr,D.vb);this.vz=!!D.v;this.wk.ll(D.bc);this.em=!!D.t;D.hasOwnProperty("sx")&&(this.$g=D.sx);D.hasOwnProperty("sy")&&(this.ah=D.sy);D.hasOwnProperty("hosp")&&(this.Dk=!!D.hosp);this.Bd=D.px;this.Cd=D.py;this.Ya.ll(D.c);this.Bi=D.sr;d.Oc(this.wy,D.cg);d.Oc(this.vj,this.BR);const H=new Set(this.wy);let J=0;for(let M=0,P=this.vj.length;M<P;++M)H.has(this.vj[M][2])||
(this.vj[J]=this.vj[M],++J);d.Ce(this.vj,J);this.Ka.$c(D.fx);this.EE(!1);this.Vf()}vD(D){D.j();if(!this.F.includes(D))if(D.Ie()){var H=[...D.Jj()];H.push(D);H.sort((M,P)=>{M=M.j().Bo;P=P.j().Bo;return M-P});for(var J of H)if(J.Lb())for(const M of J.ed)H.includes(M)||(D=[...M.Jj()],D.push(M),D.sort((P,R)=>{P=P.j().Bo;R=R.j().Bo;return P-R}),D&&D.length&&H.splice(H.length,0,...D));for(const M of H)this.Xf(M,!0)}else if(this.Xf(D,!0),D.Lb())for(H of D.ed)if(J=[...H.Jj()],J.push(H),J.sort((M,P)=>{M=M.j().Bo;
P=P.j().Bo;return M-P}),J&&J.length)for(const M of J)this.Xf(M,!0)}}}
{"use strict";const d=self.B,a=self.rg,b=d.A(d.Rect),f=d.A(d.Rect),c=d.A(d.Rect),g=d.A(d.Va),n=self.Mj.YA,h=[],l=[],m=[],p=[],u=[];let q=null;function v(t,w){q!==t&&(t.o_(w),q=t)}d.UK=class extends d.ca{constructor(t,w,y){super();this.Za=t;this.g=t.H();this.Ba=y[0];this.d$=y[1];this.c$=y[2];this.S=y[1];this.O=y[2];this.sz=!!y[3];this.Re=!!y[4];this.wA=y[5];this.xA=y[6];this.JP=y[7];this.Bc=null;this.ab=y[8];this.Oa=w;this.ah=this.$g=0;this.Dc=1;this.Nd=0;this.vq=new Set;this.lg=new Set;this.Uu=new Set;
this.hq=[];this.ZF=[];this.F9=!1;this.xP=n.create();this.j9=n.create();this.k9=n.create();this.Nb=[];this.IQ=new Map;this.JQ=new Map;this.Ka=d.A(d.Pj,this,y[11]);this.qj=null;this.to={};this.jo=!0;this.$t=new self.IX(this);this.Fd=d.A(d.Event.Kb);for(const z of y[9])t=d.IC.Ma(this,this.Nb.length,z),this.Nb.push(t),this.IQ.set(t.wa().toLowerCase(),t),this.JQ.set(t.ab,t);for(const z of y[10]){y=this.g.Ge(z[1]);if(!y)throw Error("missing nonworld object class");y.lq||y.eM(z);this.ZF.push(z);this.XM(y)}}m(){for(const t of this.Nb)t.m();
d.D(this.Nb);this.Uu.clear();this.g=this.Za=this.Bc=null}H(){return this.g}wa(){return this.Ba}Ca(){return this.Oa}fK(){let t=this.Nb[0].Pi();for(let w=1,y=this.Nb.length;w<y;++w){const z=this.Nb[w];if(0!==z.Bd||0!==z.Cd)t=Math.min(t,z.Pi())}return t}ON(){return.5*this.g.Gf/this.fK()}PN(){return.5*this.g.Ff/this.fK()}nK(){return this.sz?-Infinity:this.ON()}oK(){return this.sz?Infinity:this.ba()-this.ON()}pK(){return this.sz?-Infinity:this.PN()}mK(){return this.sz?Infinity:this.aa()-this.PN()}Jh(t){const w=
this.nK(),y=this.oK();t>y&&(t=y);t<w&&(t=w);this.$g!==t&&(this.$g=t,this.jj(),this.g.Z())}lf(){return this.$g}Kh(t){const w=this.pK(),y=this.mK();t>y&&(t=y);t<w&&(t=w);this.ah!==t&&(this.ah=t,this.jj(),this.g.Z())}mf(){return this.ah}Nv(){this.Jh(this.lf());this.Kh(this.mf());for(const t of this.Nb)t.Dk&&(t.Jh(t.lf()),t.Kh(t.mf()))}b1(t,w){if(this.wA!==t||this.xA!==w)this.wA=t,this.xA=w,this.NY()&&(this.Yp(),this.jj(),this.g.Z())}fC(){return this.Re?.5:this.wA}gC(){return this.Re?.5:this.xA}AK(){const t=
this.fC(),w=this.gC();return 0>t||1<t||0>w||1<w}xM(){this.Re&&(this.Re=!1,this.Yp(),this.jj(),this.g.Z())}uM(){this.Re||(this.Re=!0,this.Yp(),this.jj(),this.g.Z())}NY(){return!this.Re}lD(t){this.Dc!==t&&(this.Dc=t,this.jj(),this.Nv(),this.g.Z())}nd(t){t=d.Xd(t);this.Nd!==t&&(this.Nd=t,this.jj(),this.g.Z())}Fa(){return this.Nd}ba(){return this.S}Oh(t){!isFinite(t)||1>t||(this.S=t)}aa(){return this.O}Hh(t){!isFinite(t)||1>t||(this.O=t)}Y(t){return"number"===typeof t?this.yw(t):this.cK(t.toString())}yw(t){t=
d.da(Math.floor(t),0,this.Nb.length-1);return this.Nb[t]}cK(t){return this.IQ.get(t.toLowerCase())||null}zw(t){return this.JQ.get(t)||null}Yp(){for(const t of this.Nb)t.c8()}jj(){for(const t of this.Nb)t.kj()}NW(){for(const t of this.Nb)if(t.DM()&&t.d5())return g.Kj(t.wk),g.Fv(1),g;g.Om(0,0,0,0);return g}JN(){return[...this.vq]}XM(t){if(t.Lb())for(const w of t.$f.Rk)this.vq.add(w);else this.vq.add(t)}G4(){return[...this.lg]}iE(t,w){if(t===this||!w)return Promise.resolve();t&&(d.$T(this.lg,t.lg),t.lg.clear());
t=[];for(const y of this.vq)this.lg.has(y)||(t.push(y.sp(w)),this.lg.add(y));return Promise.all(t)}async aL(t){if(t.Ta)throw Error("cannot load textures for family");var w=this.g.jb();!w||w.kn()||this.lg.has(t)||(this.lg.add(t),w=t.sp(w),this.k2(w),await w,t.Zw(),this.g.Z())}k2(t){this.Uu.add(t);t.then(()=>this.Uu.delete(t)).catch(()=>this.Uu.delete(t))}O1(){return Promise.all([...this.Uu])}rZ(t){if(t.Ta||0<t.F.length)throw Error("cannot unload textures");this.g.jb()&&this.lg.has(t)&&(this.lg.delete(t),
t.wn())}B8(t,w){if(t!==this&&w)for(const y of this.lg)y.Qf()||t.vq.has(y)||(y.wn(),this.lg.delete(y))}ot(){this.lg.clear()}async eP(t){const w=this.g,y=this.Za,z=w.ea();this.JP&&(this.Bc=z.WJ(this.JP),this.Bc.IE());y.WO(this);this.S=this.d$;this.O=this.c$;this.$g=w.fg/2;this.ah=w.eg/2;this.Nv();this.P5(t);this.P2();this.jo||this.R2();this.iN(this.hq);this.Q2();y.LT();w.wd();const F=this.g.T8;await Promise.all(F);d.D(F);if(!w.xj){for(const G of this.hq)G.e1();for(const G of this.hq)G.gP()}d.D(this.hq);
await Promise.all([...this.vq].map(G=>G.OC(this.g.jb())));t&&(w.Kb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.Um(new d.Event("beforeprojectstart")));await this.Um(new d.Event("beforelayoutstart"));w.xj||await w.vf(d.C.Na.J.pL,null,null);await this.Um(new d.Event("afterlayoutstart"));t&&(w.Kb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.Um(new d.Event("afterprojectstart")));z.f7(y);await this.O1();this.Yp();this.jj();this.jo=!1}P5(t){for(const y of this.g.yc)if(!y.Ta&&
y.Se)for(const z of y.fa()){const F=z.j();var w=F.Y();w=d.da(w.Ca(),0,this.Nb.length-1);w=this.Nb[w];F.tt(w);w.G5(z)}if(!t)for(const y of this.Nb)y.EE(!1)}P2(){for(const t of this.Nb)t.eU(this.hq),t.ED()}R2(){let t=!1;for(const [y,z]of Object.entries(this.to)){const F=this.g.Aw(parseInt(y,10));if(F&&!F.Ta&&F.lC()){for(const G of z){var w=null;if(F.Se&&(w=this.zw(G.w.l),!w))continue;w=this.g.th(F,w,!1,0,0,!0);w.$c(G);t=!0;this.hq.push(w)}d.D(z)}}for(const y of this.Nb)y.EE(!0),y.Vf();t&&(this.g.wd(),
this.g.zO())}iN(t){for(const y of t){if(!y.Lb())continue;const z=y.j(),F=y.Xm();for(const G of y.G().$f.Rk)if(G!==y.G()){var w=G.fa();w.length>F?y.Sp(w[F]):(w=z?this.g.th(G,z.Y(),!0,z.ka(),z.la(),!0):this.g.th(G,null,!0,0,0,!0),this.g.wd(),G.$x(),y.Sp(w),t.push(w))}}}Q2(){for(const t of this.ZF)this.g.Ge(t[1]).Lb()||this.g.th(t,null,!0)}N2(){const t=[],w=this.ZF;let y=0;for(let z=0,F=w.length;z<F;++z){const G=w[z],Q=this.g.Ge(G[1]);Q.Qf()?Q.Lb()&&Q.$f.sX()||t.push(this.g.th(G,null,!0)):(w[y]=G,++y)}d.Ce(w,
y);this.g.wd();this.iN(t)}Hs(t,w,y,z,F,G){if(y)return y.Hs(t,w,z,F,G);y=[];for(const Q of this.Nb)y.push(Q.Hs(t,w,z,F,G));return y.flat()}async t8(){const t=this.Za;this.g.xj||await this.g.vf(d.C.Na.J.SZ,null,null);t.oM(!0);this.g.ea().Sv();this.jo||this.p7();for(const w of this.Nb)w.U3();for(const w of this.g.yc)if(!(w.Qf()||w.Se||w.wb().dm||w.Ta)){for(const y of w.fa())this.g.Tm(y);this.g.wd()}t.oM(!1);t.Db()===this&&t.WO(null)}n7(t){const w=t.G().ab.toString();this.to.hasOwnProperty(w)||(this.to[w]=
[]);this.to[w].push(t.md())}p7(){for(const t of this.Nb){t.yt();for(const w of t.F){const y=w.G();!y.Qf()&&y.lC()&&this.n7(w)}}}S_(){this.to={};this.jo=!0}ls(){return this.qj}Rp(){return"low"===this.g.V.mi||this.g.QH||"low-latency"===this.g.gq||this.Ka.ss()||this.g.jb().ws()&&this.g.el}A2(t){return 0===t.length?!0:2<=t.length?!1:!t[0].bb.Dl()}ff(t){var w=this.g.V;const y=this.Rp();var z=null;y?("low-latency"!==this.g.gq&&(t.le(null),t.Vv()),z={Ji:this.g.Wc,rI:this.g.QH||this.Ka.ss()},"low"===w.mi&&
(z.width=w.Lf(),z.height=w.jf()),z=this.g.Xr(z),t.le(z)):t.le(null);t.Hc(this.NW());this.g.el&&t.IT();this.qj=z;for(var F of this.Nb)F.ED(),F.DM()&&h.push(F);for(let G=0,Q=h.length;G<Q;){w=h[G];if(w.lp()&&!w.Rp()){l.push(w);for(F=G+1;F<Q;++F){const D=h[F];if(D.lp()&&!D.Rp())l.push(h[F]);else break}if(2<=l.length){this.E3(t,z,l);G+=l.length;d.D(l);continue}d.D(l)}w.ff(t,z,0===G);++G}d.D(h);y&&(t.Kl(!1),this.N3(t,z));this.qj=null}N3(t,w){const y=this.Ka.Wh,z=this.g;if(this.A2(y)){t.le(null);if(1===
y.length){var F=y[0];const G=F.bb;t.Nl(G);f.set(0,0,1,1);c.set(0,0,z.Gf,z.Ff);F=this.Ka.Mf(F.Ca());t.Lp(null,b,f,f,c,1/z.Lf(),1/z.jf(),this.Dc,this.Fa(),z.xg(),F);G.dy&&z.Z()}else t.Mh();0===y.length?t.qB(w):(t.cD(),t.Ap(),t.Or(w));t.hn(w);z.Fl(w)}else d.SC(t,z,this,null,y)}E3(t,w,y){var z=this.g.V;t.Kl(!0);for(var F of y)F.yt(),d.Fm(m,F.dE());F=y[0];y=null;this.g.xC()&&t.ws()&&(z=z.dK(F))&&(y=z.fB(),t.zD(y));for(let H=0,J=m.length;H<J;){F=m[H];var G=F.j(),Q=G.Y();if(G.xc()&&G.op(Q.ht())){(!F.yp()||
0<G.qe)&&u.push(F);var D=F.j().he();p.push(F);for(z=H+1;z<J;++z){const M=m[z],P=M.j();if(P.xc()&&P.op(P.Y().ht())){if(P.he()!==D)break;M.yp()?(0<P.qe&&u.push(M),p.push(M)):u.push(M)}}if(1!==p.length||p[0].dL()){this.F3(t,w,p);for(let M=0,P=u.length;M<P;++M)F=u[M],G=F.j(),Q=G.Y(),G.Ux(!0),v(Q,t),Q.rk(F,G,t,w),G.Ux(!1)}else{v(Q,t);Q.rk(F,G,t,w);for(let M=0,P=u.length;M<P;++M)G=u[M],G!==F&&(Q=G.j(),D=Q.Y(),v(D,t),D.rk(G,Q,t,w))}H=z;d.D(p);d.D(u)}else++H}y&&t.zB(y);d.D(m);q=null}F3(t,w,y){t.uJ();for(let Q=
0,D=y.length;Q<D;++Q){var z=y[Q],F=z.j(),G=F.Y();F.Sx(!0);v(G,t);G.YD(z,F,t)}t.tJ();for(let Q=0,D=y.length;Q<D;++Q)z=y[Q],F=z.j(),G=F.Y(),v(G,t),G.rk(z,F,t,w),F.Sx(!1);t.sJ()}ga(){const t={sx:this.lf(),sy:this.mf(),s:this.Dc,a:this.Fa(),w:this.ba(),h:this.aa(),ortho:this.Re,vpX:this.fC(),vpY:this.gC(),fv:this.jo,persist:this.to,fx:this.Ka.md(),layers:{}};for(const w of this.Nb)t.layers[w.ab.toString()]=w.ga();return t}oa(t){this.$g=t.sx;this.ah=t.sy;this.Dc=t.s;this.Nd=t.a;this.S=t.w;this.O=t.h;this.Re=
!!t.ortho;t.hasOwnProperty("vpX")&&(this.wA=t.vpX);t.hasOwnProperty("vpY")&&(this.xA=t.vpY);this.jo=!!t.fv;this.to=t.persist;this.Ka.$c(t.fx);for(const [w,y]of Object.entries(t.layers))(t=this.zw(parseInt(w,10)))&&t.oa(y);this.Yp();this.jj()}ug(t){t.If=this.$t;var w=this.g;(w=w.rb&&!w.ea().Uw())&&a.yD();this.Fd.dispatchEvent(t);w&&a.eB()}Um(t){t.If=this.$t;return this.Fd.gI(t)}}}
{"use strict";const d=self.B;d.aZ=class extends d.ca{constructor(a){super();this.g=a;this.Yh=[];this.DG=new Map;this.EG=new Map;this.wu=null;this.lH=[];this.Ky=null;this.fz=0;this.Du=null}m(){this.Du=this.Ky=this.wu=this.g=null;d.D(this.Yh);this.DG.clear();this.EG.clear();d.D(this.lH)}Ma(a){a=d.A(d.UK,this,this.Yh.length,a);this.Yh.push(a);this.DG.set(a.wa().toLowerCase(),a);this.EG.set(a.ab,a)}H(){return this.g}u0(a){this.Ky=a}tW(){if(this.Ky)return this.Ky;if(this.Yh.length)return this.Yh[0];throw Error("no first layout");
}fp(a){return this.DG.get(a.toLowerCase())||null}WB(a){return this.EG.get(a)||null}OW(a){a=d.da(Math.floor(a),0,this.Yh.length-1);return this.Yh[a]}Zb(a){return"number"===typeof a?this.OW(a):this.fp(a.toString())}WO(a){this.wu=a}Db(){return this.wu}*Ev(){this.wu&&(yield this.wu);this.lH.length&&(yield*this.lH)}oM(a){if(a)this.fz++;else{if(0>=this.fz)throw Error("already unset");this.fz--}}KK(){return 0<this.fz}Rv(a){this.Du=a}LT(){this.Du=null}pp(){return!!this.Du}Dp(){const a=this.Db();a&&a.Yp()}Cp(){const a=
this.Db();a&&a.jj()}}}
{"use strict";const d=self.B;class a{constructor(){this.ic=this.Be=null;this.Dr=this.Er=this.ih=this.gl=0;this.xr=new d.Rect;this.il=new d.Rect;this.Nm=new d.Rect;this.Cv=new d.Rect;this.Ar=new d.Rect;this.clearRect=new d.Rect;this.VA=new d.Rect;this.eS=[null,null];this.Km=0;this.Oo=1;this.tr=this.ur=this.kr=this.jr=0;this.jl=this.ef=this.ud=this.vd=this.If=null;this.GA=this.EI=this.PA=!1;this.OA=null}Hc(){this.OA=this.jl=this.ef=this.ud=this.vd=this.If=this.ic=this.Be=null}g1(h){h=h.bb;if(h.Dl())return!0;
if(this.ud)return h.dv&&(0!==this.ef.Fa()||0>this.ef.ba()||0>this.ef.aa())||0!==this.jr||0!==this.kr||!this.ef.xl()||this.ud.Dl();if(this.vd)return!this.vd.xl()}f1(h){h=h.bb;return h.dv||h.sF||this.If&&"low"===this.ic.V.mi}ep(h){if(0!==h&&1!==h)throw Error("invalid effect target");const l=this.eS;if(!l[h]){var m=this.ic;const p=m.V;m={Ji:m.Wc};"low"===p.mi&&(m.width=p.Lf(),m.height=p.jf());l[h]=p.Xr(m)}return l[h]}C_(){const h=this.eS,l=this.ic.V;h[0]&&(l.Fl(h[0]),h[0]=null);h[1]&&(l.Fl(h[1]),h[1]=
null)}}const b=[];let f=0;const c=new d.ld;let g=!1;async function n(h,l,m){l=await d.T.GD.lU(l,m);l=URL.createObjectURL(l);console.log("[FX] "+h+" "+(m?"":" [to display]")+": ",l)}d.SC=function(h,l,m,p,u,q){f===b.length&&b.push(new a);var v=b[f++];v.Be=h;v.ic=l;if(m instanceof d.Instance)v.ud=m,v.ef=v.ud.j();else if(m instanceof d.IC)v.vd=m;else if(m instanceof d.UK)v.If=m;else throw Error("invalid effects object");m=l.V;v.jl=p;v.gl=m.Lf();v.ih=m.jf();v.Er=v.gl;v.Dr=v.ih;v.Km=0;v.Oo=1;v.jr=0;v.kr=
0;v.Ar.set(0,0,v.gl,v.ih);v.clearRect.set(0,0,v.gl,v.ih);v.GA=!1;v.OA=q;v.ud?(p=v.ef,v.ur=p.Y().$j(),v.tr=p.Y().Fa(),v.xr.ta(p.vc())):v.vd?(p=v.vd,v.ur=p.$j(),v.tr=p.Fa(),v.xr.ta(p.Xe)):(p=v.If,v.ur=p.Dc,v.tr=p.Fa(),v.xr.set(0,0,v.gl,v.ih));if(v.ud){{for(let H=0,J=u.length;H<J;++H)p=u[H].bb,v.jr+=p.KP,v.kr+=p.LP;var t=v.ef;p=t.Y();m=p.Fa();q=t.vc();var w=t.he();t=t.qe;let [F,G]=p.bj(q.M,q.L,w),[Q,D]=p.bj(q.$,q.U,w);if(0!==m||0<t){const [H,J]=p.bj(q.$,q.L,w),[M,P]=p.bj(q.M,q.U,w);if(0<t){m=w+t;const [R,
V]=p.bj(q.M,q.L,m),[Z,ca]=p.bj(q.$,q.L,m),[Y,ha]=p.bj(q.$,q.U,m),[ka,za]=p.bj(q.M,q.U,m);p=Math.min(F,Q,H,M,R,Z,Y,ka);Q=Math.max(F,Q,H,M,R,Z,Y,ka);F=p;p=Math.min(G,D,J,P,V,ca,ha,za);D=Math.max(G,D,J,P,V,ca,ha,za);G=p}else p=Math.min(F,Q,H,M),Q=Math.max(F,Q,H,M),F=p,p=Math.min(G,D,J,P),D=Math.max(G,D,J,P),G=p}p=v.Ar;q=v.Cv;m=v.Nm;w=v.clearRect;t=v.il;p.set(F,G,Q,D);p.QI(v.ih);q.ta(p);q.fl(v.Er,v.Dr);q.Po();p.KA(v.jr,v.kr);m.ta(p);m.fl(v.Er,v.Dr);m.Po();w.ta(p);w.Xaa();w.KA(v.jr+1,v.kr+1);p.da(0,0,
v.gl,v.ih);w.da(0,0,v.gl,v.ih);t.ta(p);t.fl(v.Er,v.Dr);t.Po()}}else v.il.set(0,0,v.gl/v.Er,v.ih/v.Dr),v.Nm.ta(v.il),v.Cv.ta(v.il),v.il.Po(),v.Nm.Po(),v.Cv.Po();h.cD();h.Ap();h.Ks(0);h.Jl(0);v.PA=v.g1(u[0]);v.PA&&(p=v.Be,p.Mh(),q=v.ep(v.Km),p.le(q),(m=v.OA)&&m.FI&&m.FI(),p.nB(v.clearRect),v.ud?(p.Hl(v.ef.ZB()),p.Jl(v.ef.he()),v.ud.ff(p),p.Jl(0)):(m=(v.vd||v.If).ls(),v.vd?p.Hl(v.vd.ZB()):p.Ap(),p.Or(m),p.hn(m),v.ic.V.Fl(m)),v.Nm.XR(),v.Km=1,v.Oo=0,g&&n("Pre-draw",p,q));h.Ap();p=u.length-1;v.EI=v.f1(u[p]);
for(let F=0,G=u.length;F<G;++F){m=u[F];q=m.bb;h.Nl(q);q.dy&&l.Z();if(0!==F||v.PA){h.dM();var y=void 0,z=void 0;q=v;y=m;z=F===p&&!v.EI;m=F;w=q.Be;t=q.ic;0===m&&q.PA&&q.ud&&q.Ar.QI(q.ih);z?(q.ud?w.sf(q.ef.vh()):q.vd&&w.sf(q.vd.vh()),z=q.jl,w.le(z)):(z=q.ep(q.Km),w.le(z),w.nB(q.clearRect));y=q.ud?q.ef.Pd.Mf(y.Ca()):(q.vd||q.If).Ka.Mf(y.Ca());w.Lp(q.jl,q.Nm,q.il,q.Cv,q.xr,1/q.Er,1/q.Dr,q.ur,q.tr,t.xg(),y);y=q.ep(q.Oo);w.uf(y.Hd());t.V.eD(w);q.GA=!0;c.lh(q.Ar);w.un(c,q.il);q.ud||w.hn(y);g&&n("Bounce "+
m,w,z)}else{q=v;z=m;m=q.Be;w=q.ic;t=q.ep(q.Km);m.le(t);(y=q.OA)&&y.FI&&y.FI();m.nB(q.clearRect);if(q.ud){const [Q,D]=q.ud.mw();(y=q.ud.ow())?q.VA.ta(y):q.VA.set(0,0,0,0);z=q.ef.Pd.Mf(z.Ca());m.Lp(q.jl,q.Nm,q.VA,q.VA,q.xr,1/Q,1/D,q.ur,q.tr,w.xg(),z);m.Jl(q.ef.he());q.ud.ff(m);m.Jl(0);q.Nm.XR();q.Ar.QI(q.ih)}else z=(q.vd||q.If).Ka.Mf(z.Ca()),m.Lp(q.jl,q.Nm,q.il,q.Cv,q.xr,1/q.gl,1/q.ih,q.ur,q.tr,w.xg(),z),q=(q.vd||q.If).ls(),g&&n("Layer target",m,q),m.Or(q),m.hn(q),w.V.Fl(q);g&&n("First bounce",m,t)}0===
v.Km?(v.Km=1,v.Oo=0):(v.Km=0,v.Oo=1)}v.EI&&(h=v.Be,v.If?(h.Mh(),h.le(v.jl),l=v.ep(v.Oo),h.qB(l),h.hn(l)):(l=v.ic.V,"low"===l.mi?(h.Mh(),l.eD(h,l.Lf(),l.jf()),v.GA=!0):h.o0(),v.ud?h.sf(v.ef.vh()):v.vd&&h.sf(v.vd.vh()),h.le(v.jl),l=v.ep(v.Oo),h.uf(l.Hd()),c.lh(v.Ar),h.un(c,v.il),v.ud||h.hn(l),g&&n("Post-draw",h,v.jl)));h=v.GA;v.C_();v.Hc();f--;g=!1;return h}}
{"use strict";const d=self.B;d.v1=class extends d.ca{constructor(a){super();this.g=a;this.Xu=d.A(d.Wf);this.e$=null;this.tm=[];this.Yu=new Map;this.Qk=new Map;this.um=new Map;this.hg=[];this.Bf=[];this.mu=this.eq=this.ao=!1;this.Zk=()=>this.k6();this.Zq=()=>this.qE();this.eF=()=>this.Lx();this.CG=()=>this.R5();this.cG=b=>this.qO(b.instance);this.TE=()=>this.pE();this.Qt=[]}m(){this.H_();this.TE=this.cG=this.CG=this.eF=this.Zq=this.Zk=null;for(const a of this.tm)a.Fg(),a.m();d.D(this.tm);this.tm=null;
this.Xu.m();this.Xu=null;d.D(this.hg);this.hg=null;d.D(this.Bf);this.Bf=null;this.Yu.clear();this.Yu=null;this.Qk.clear();this.Qk=null;this.um.clear();this.um=null;d.D(this.Qt);this.g=this.Qt=null}dT(){const a=this.g.Kb();a.addEventListener("pretick",this.Zk);a.addEventListener("tick2",this.Zq);a.addEventListener("beforelayoutchange",this.eF);a.addEventListener("layoutchange",this.CG);a.addEventListener("instancedestroy",this.cG);a.addEventListener("afterload",this.TE)}H_(){const a=this.g.Kb();a.removeEventListener("pretick",
this.Zk);a.removeEventListener("tick2",this.Zq);a.removeEventListener("beforelayoutchange",this.eF);a.removeEventListener("layoutchange",this.CG);a.removeEventListener("instancedestroy",this.cG);a.removeEventListener("afterload",this.TE)}Ma(a){this.Xu.tc(a);a=d.yd.dU(a,this);this.tc(a);this.Q0(a);this.um.set(a.wa(),0)}rB(a){a=a.tK();var b=this.Xu.X(a);b=d.yd.rB(`${a}:${this.um.get(a)}`,b,this);this.WN(a);this.tc(b);return b}WN(a){this.um.set(a,this.um.get(a)+1)}I7(){for(const a of this.tm)a.yq||this.WN(a.tK())}F2(){for(const a of this.um.keys())this.um.set(a,
0)}tc(a){this.tm.push(a);this.Yu.set(a.wa().toLowerCase(),a)}Cg(a){a.yq||(d.No(this.tm,a),d.No(this.hg,a),d.No(this.Bf,a),this.Yu.delete(a.wa().toLowerCase()),this.I_(a),a.Yg||a.m())}xa(a){this.g.xa(a,this.e$,null)}H(){return this.g}zM(a,b){this.Qk.has(a)||this.Qk.set(a,new Set);this.Qk.get(a).add(b)}Q0(a){for(const b of a.gK())this.zM(b,a)}I_(a){for(const [b,f]of this.Qk.entries())f.has(a)&&(f.delete(a),0===f.size&&this.Qk.delete(b))}fX(a){if(this.Qk.has(a))return this.Qk.get(a)}Gw(a){return this.Yu.get(a.toLowerCase())||
null}G_(a){d.No(this.Bf,a);this.mt()}YL(a){this.Bf.includes(a)?(a.Ps(!0),a.Rs(!1),a.iD(!1)):(a.Ps(!1),a.Rs(!0),a.iD(!1),this.hg.includes(a)||this.hg.push(a));this.iO()}$v(a){a.Ps(!1);a.Rs(!1);a.YC();d.No(this.hg,a);this.mt()}Xv(a){a.Ps(!1);a.Rs(!1);a.iD(!0)}WT(a){this.Xv(a);a.YC()}k6(){if(!this.H().xj&&this.ao&&!this.eq){var a=!1;for(this.mu=!0;this.hg.length;){var b=this.hg.pop();b.Sc();this.Bf.push(b)}b=this.g.gs();var f=this.g.Vd;for(const c of this.Bf){if(c.Iq)continue;const g=c.me(b,f);!a&&g&&
(a=!0)}this.mu=!1;a&&this.H().Z()}}qE(){if(!this.H().xj&&this.ao&&!this.eq){var a;for(const b of this.Bf)b.Iq&&(a||(a=new Set),this.jO(b),a.add(b));a&&d.pg(this.Bf,a);this.mt()}}jO(a){a.Yg||a.zK()&&a.xf&&a.cm&&a.KJ()}iO(){this.ao||(this.ao=!0)}mt(){this.Bf.length||this.hg.length||this.mu||(this.ao=!1)}Lx(){for(this.eq=!0;this.hg.length;)this.$v(this.hg.pop());const a=new Set;for(const b of this.Bf)b.Lx()&&a.add(b);d.pg(this.Bf,a);this.mt();for(const b of this.tm)b.Ki()}R5(){this.eq=!1}qO(a){var b=
a.G();if(b=this.fX(b))if(this.g.xj)this.Qt.push(a);else for(const f of b)f.yq||(f.Yg?this.Cg(f):f.zK()||(this.jO(f),this.Cg(f)))}pE(){for(const a of this.Qt)this.qO(a);d.D(this.Qt)}ga(){return{timelinesJson:this.u7(),scheduledTimelinesJson:this.s7(),playingTimelinesJson:this.q7(),hasRuntimeListeners:this.ao,changingLayout:this.eq,isTickingTimelines:this.mu}}oa(a){a&&(this.F2(),this.y5(a.timelinesJson),this.v5(a.scheduledTimelinesJson),this.t5(a.playingTimelinesJson),this.ao=!a.hasRuntimeListeners,
this.eq=!!a.changingLayout,this.mu=!!a.isTickingTimelines,this.I7(),this.iO(),this.mt())}u7(){return this.tm.map(a=>a.ga())}y5(a){for(const b of a){a=this.Gw(b.name);if(!a){a=this.D4(b);if(!a)continue;a=this.Gw(a);a=this.rB(a)}a.oa(b);a.BX()||this.Cg(a)}}D4(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}s7(){return this.QO(this.hg)}v5(a){this.eO(a,this.hg)}q7(){return this.QO(this.Bf)}t5(a){this.eO(a,this.Bf)}e5(a,b){for(const f of b)if(f===a.wa())return!0;return!1}QO(a){return a.map(b=>b.wa())}eO(a,
b){var f=new Set;for(const c of b)this.e5(c,a)||f.add(c);d.pg(b,f);f=c=>g=>g.wa()===c;for(const c of a)(a=this.Gw(c))&&(b.find(f(c))||b.push(a))}}}
{"use strict";const d=self.B;d.yd=class extends d.ca{constructor(a,b,f){super();this.g=f.H();this.tb=f;this.ve=b;this.Ba=a;this.Cb=[];for(const c of this.ve.Iw().oba())this.Cb.push(d.KM.Ma(this,c));this.Qz=this.Eu=null;this.lm=d.A(d.xs);this.lm.Set(0);this.Sk=1;this.Ai=0;this.di=1;this.cm=this.Jk=this.kz=!1;this.xf=!0;this.Iq=this.Yg=!1;this.fq=-1;this.$l=this.Zn=this.yq=this.Wy=!1;this.DQ=NaN;this.kg=[""];this.CR="";this.BH=!1}static dU(a,b){const f=b.Xu.X(a[0]);a=d.A(d.yd,a[0],f,b);a.E0();return a}static rB(a,
b,f){return d.A(d.yd,a,b,f)}static get M1(){return 1}static get hk(){return d.xI(1)}m(){if(!this.Yg){this.tb.$v(this);this.tb.WT(this);for(const a of this.Cb)a.m();d.D(this.Cb);this.Cb=null;this.lm.m();this.ve=this.tb=this.g=this.lm=null;this.Yg=!0;this.Qz=this.Eu=null}}H(){return this.g}dC(a,b,f){const c=[];for(const g of this.Cb){if(a!==g.za())continue;const n=g.Zj(f);n&&b.constructor===n.Qc().constructor&&c.push(n)}return c}BX(){return!!this.Cb.length}nx(a){this.Ba=a}wa(){return this.Ba}tK(){return this.ve.wa()}kd(){return this.ve.kd()}ms(){return this.ve.ms()}xh(){return this.ve.xh()}Bh(){return this.ve.Bh()}ej(a){for(const b of this.Cb)b.ej(a)}gp(){return this.ve.gp()}ip(){return this.ve.ip()}ul(){return this.ve.ul()}ox(a){this.Sk=
a}Ag(){return this.IsPlaying()?0<this.Sk:!0}hK(){this.Eu||(this.Eu=new Promise(a=>{this.Qz=a}))}YC(){this.Eu&&(this.Qz(),this.Qz=this.Eu=null)}yM(a){this.kg=d.yd.C4(a);this.BH=!0}sL(){d.C.lc.J.zn(this);this.tb.xa(d.C.lc.J.efa);this.tb.xa(d.C.lc.J.ffa);this.tb.xa(d.C.lc.J.gfa);this.tb.xa(d.C.lc.J.Xea);d.C.lc.J.zn(null)}iL(){this.fq=this.g.Bj}KJ(){this.Zn||(this.Zn=!0,d.C.lc.J.zn(this),this.tb.xa(d.C.lc.J.bfa),this.tb.xa(d.C.lc.J.cfa),this.tb.xa(d.C.lc.J.dfa),this.tb.xa(d.C.lc.J.Wea),d.C.lc.J.zn(null))}Ps(a){this.kz=
a}GK(){return this.fq===this.g.Bj}IsPlaying(a=!1){return this.GK()||this.Jk&&!a?!0:this.kz}Wp(){return this.IsPlaying(!0)}Rs(a){this.Jk=a}cM(a){this.xf=a;a=this.Aa();if(0>=a||a>=this.kd())this.xf=!0}iD(a){this.Iq=a}hD(a){this.Wy=a}E0(){this.yq=!0}Aa(){return this.lm.X()}Np(a){const b=this.Aa();this.Ld(a);this.cM(!1);this.xf||this.hD(!0);if(this.Wp()||this.Jk||!this.cm)this.Wp()||this.Jk||this.cm?this.Wp()?this.Fg():this.Jk&&(this.tb.$v(this),this.lM()):this.lM();this.Jx(a,!1,!0,!0,b)&&this.H().Z();
this.uO()}Ld(a){0>a?this.lm.Set(0):a>=this.kd()?this.lm.Set(this.kd()):this.lm.Set(a)}uO(){d.C.lc&&this.constructor===d.yd&&(d.C.lc.J.zn(this),this.tb.xa(d.C.lc.J.Zea),this.tb.xa(d.C.lc.J.$ea),this.tb.xa(d.C.lc.J.afa),d.C.lc.J.zn(null))}Play(a=!1){return this.Yg||this.Jk?!1:this.Wp()&&this.GK()?this.y7():this.Wp()||!this.xf&&!a&&!this.Wy?!1:this.z7()}y7(){this.hD(!1);this.tb.G_(this);this.tb.YL(this);this.hK();return!0}z7(){this.hD(!1);this.tb.YL(this);this.hK();return!0}Fg(a=!1){this.Yg||(this.cM(a),
this.tb.Xv(this),this.xf&&this.YC())}ad(a=!0,b=!1){if(!this.Yg)if(!this.Wp()&&this.Jk)this.tb.$v(this);else if(!this.xf){this.Fg(!0);this.Ag()?this.Ld(0):this.Ld(this.kd());var f=this.Aa();b=b?this.W4(f):this.Jx(f,!1,!1,!0);a&&this.uO();b&&a&&this.H().Z()}}SL(){this.ad(!1,!0)}W4(a){this.Jx(a,!1,!1,!0,NaN,!1,!0)}Lx(){if(this.Yg)return!0;if(this.CX())return!1;this.tb.Xv(this);this.SL();return!0}lM(){this.Sc(!0)}Sc(a){if(!this.Iq)if(a){this.$l=this.cm=!0;for(const b of this.Cb)b.Sc()}else if(this.Ps(!0),
this.Rs(!1),this.sL(),this.xf){this.fq=-1;this.Ai=0;this.di=1;this.Zn=this.xf=!1;this.$l=this.cm=!0;this.Ag()?this.Ld(0):this.Ld(this.kd());for(const b of this.Cb)b.Sc()}else{this.$l=!0;for(const b of this.Cb)b.tf()}}me(a,b){if(0!==a||0!==this.DQ){this.DQ=a;var f=this.Aa();this.Ld(f+a*b*this.Sk);var c;this.gp()||this.ip()?this.gp()&&!this.ip()?c=this.D5():!this.gp()&&this.ip()?c=this.t6():this.gp()&&this.ip()&&(c=this.E5()):c=this.n8();if(c){for(const g of this.Cb)g.s0();this.Fg(!0);this.iL();return!0}return this.Jx(this.Aa(),
!0,!1,!1,f,!0)}}Jx(a,b=!1,f=!1,c=!1,g=NaN,n=!1,h=!1){let l=!1;for(var m of this.Cb)m.Kr();for(const p of this.Cb){m=a;if("number"===typeof g){const u=this.Aa()-p.nf(),q=g-p.nf();0>u&&0<q&&(m=p.nf(),this.Ld(m))}m=p.gb(m,b,f,c,this.$l,h);!l&&m&&(l=!0)}for(const p of this.Cb)p.Jr();this.$l&&n&&(this.$l=!1);return l}n8(){if(this.Ag()){if(this.Aa()>=this.kd())if(this.di<this.ul())this.di++,this.Ld(0);else return this.Ld(this.kd()),!0}else if(0>=this.Aa())if(this.di<this.ul())this.di++,this.Ld(this.kd());
else return this.Ld(0),!0;return!1}D5(){this.Ag()?this.Aa()>=this.kd()&&this.Ld(0):0>=this.Aa()&&this.Ld(this.kd());return!1}t6(){if(this.Ag()){if(this.Aa()>=this.kd())if(this.Ld(this.kd()),this.ox(-1*this.Sk),1===this.Ai)if(this.di<this.ul())this.di++,this.Ai=0;else return!0;else 0===this.Ai&&(this.Ai=1)}else if(0>=this.Aa())if(this.Ld(0),this.ox(-1*this.Sk),1===this.Ai)if(this.di<this.ul())this.di++,this.Ai=0;else return!0;else 0===this.Ai&&(this.Ai=1);return!1}E5(){this.Ag()?this.Aa()>=this.kd()&&
(this.Ld(this.kd()),this.ox(-1*this.Sk)):0>=this.Aa()&&(this.Ld(0),this.ox(-1*this.Sk));return!1}Ki(){for(const a of this.Cb)a.Ki()}NT(){for(const a of this.Cb)a.KT()}S0(a,b){if(b)for(const f of this.Cb)if(f.Bg()){if(a){if(f.Ni()!==a)continue}else if(f.vX())continue;f.C0(b);this.tb.zM(b.G(),this);break}}zK(){return this.Cb.some(a=>a.Bg()?a.lB():!0)}CX(){return this.Cb.some(a=>a.Bg()?a.lB()?(a=a.G())?a.Qf():!1:!1:!1)}Zj(a){for(const b of this.Cb)for(const f of b.hc)if(f.La.dd===a)return f}uK(a){for(const b of this.Cb)if(a===
b.za())return b;return null}gK(){const a=[];for(const b of this.Cb)a.push(b.G());return a.filter(b=>b)}ga(){return{tracksJson:this.w7(),name:this.Ba,playheadTime:this.Aa(),playbackRate:this.Sk,pingPongState:this.Ai,currentRepeatCount:this.di,isPlaying:this.kz,isScheduled:this.Jk,initialStateSet:this.cm,finishedTriggers:this.Zn,complete:this.xf,released:this.Yg,markedForRemoval:this.Iq,completedTick:this.fq,implicitPause:this.Wy,isTemplate:this.yq,tags:this.kg.join(" "),stringTags:this.CR,tagsChanged:this.BH,
firstTick:this.$l}}oa(a){a&&(this.z5(a.tracksJson),this.Ba=a.name,this.lm.Set(a.playheadTime),this.Sk=a.playbackRate,this.Ai=a.pingPongState,this.di=a.currentRepeatCount,this.kz=!!a.isPlaying,this.Jk=!!a.isScheduled,this.cm=!!a.initialStateSet,this.Zn=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.xf=!!a.complete,this.Yg=!!a.released,this.Iq=!!a.markedForRemoval,this.fq=a.completedTick,this.Wy=!!a.implicitPause,this.yq=!!a.isTemplate,this.kg=a.tags.split(" "),this.CR=a.stringTags,
this.BH=!!a.tagsChanged,this.$l=!!a.firstTick)}w7(){return this.Cb.map(a=>a.ga())}z5(a){a.forEach((b,f)=>{this.Cb[f].oa(b)});this.Cb.filter(b=>b.lB())}static C4(a){if(d.jn(a))return a.slice(0);if(d.Dh(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.KM=class extends d.ca{constructor(a,b){super();this.rm=a;this.Jb=b;this.we=b.Iw();this.Pk=this.Ek=NaN;this.eb=this.dg=null;this.ko=0<b.nf();this.Vn=this.wq=!1;this.oo=null;this.oc=this.Jb.zh().oc;this.hc=[];for(const f of this.Jb.ge().Qaa())this.hc.push(d.Wa.Ma(this,f))}static Ma(a,b){return d.A(d.KM,a,b)}m(){this.oc=null;for(const a of this.hc)a.m();d.D(this.hc);this.oo=this.Jb=this.eb=this.dg=this.rm=this.hc=null}Ki(){for(const a of this.hc)a.Ki();this.eb=this.dg=
null}$b(){return this.rm}H(){return this.rm.H()}MW(){return this.oc?this.oc:this.oc=this.Jb.zh().oc}Zj(a){for(const b of this.hc)if(b.La.dd===a)return b}tp(){this.dg||this.za()}fk(){return this.dg?!this.dg.HK():!1}lB(){if(!this.Bg())return!1;const a=this.H().Oi(this.hs());return a?!a.HK():!1}G(){if(this.Bg()){var a=this.YB();if(-1!==a)return this.H().Ge(a)}}KT(){this.dg=null;this.Ek=-1;this.eb=null;this.Pk=-1}vX(){return!!this.dg}za(){return this.dg&&this.fk()?this.dg:this.dg=this.H().Oi(this.hs())}C0(a){if(this.dg!==
a){this.Ki();this.dg=a;this.Pk=a.G().Ca();this.Ek=a.Ec;this.eb=a.j();for(const n of this.Raa()){const h=n.eba;switch(n.Paa.jd()){case "instance-variable":var b=a.G(),f=b.FW(n.name),c=b.aK(f);b=b.js(f);c===n.name&&b===n.type&&h.I1(f);break;case "behavior":var g=n.ZH;f=this.G();c=a.G();b=h.wg(c);g&&b&&(g=g.wa(),f.Zr(g),c.Zr(g),h.F1(b.ab))}}}}*Raa(){for(const f of this.hc){var a=f.Qc(),b=this.G();const c={Paa:f,eba:a};switch(f.jd()){case "world-instance":c.vla=f.La.dd;break;case "instance-variable":a=
a.cp();c.name=b.aK(a);c.type=b.js(a);break;case "effect":b=a.LB(b.Ka);c.Nja=b;break;case "behavior":b=a.wg(b);c.ZH=b;break;case "plugin":c.sla=b.wb()}yield c}}j(){if(this.eb&&this.fk())return this.eb;const a=this.za();a&&(this.eb=a.j());return this.eb}hs(){return this.Ek?this.Ek:this.Jb.hs()}xh(){return this.Jb.xh()}Bh(){return this.Jb.Bh()}Ni(){return this.Jb.Ni()}nf(){return this.Jb.nf()}Wj(){return this.Jb.Wj()}ej(a){for(const b of this.MW())b.ej(a);for(const b of this.hc)b.ej(a)}Vj(){return this.Jb.Vj()}lk(a){this.Jb.lk(a)}YB(){return isNaN(this.Pk)?
this.Jb.YB():this.Pk}Ri(){const a=this.za();return a&&a.na.pn()?a.na.Ri():this.Jb.Ri()}Qi(){const a=this.za();return a&&a.na.pn()?a.na.Qi():this.Jb.Qi()}Yi(){return this.Jb.Yi()}wa(){return this.Jb.wa()}Bg(){return 0===this.Yi()}Sc(){this.tp();if(this.fk()||!this.Bg()){for(var a of this.hc)a.Sc();a=this.$b().Ag()?0:this.Wj();this.oo=this.VB(a);this.Vn=this.wq=!1;this.gb(a)}}tf(){this.tp();if(this.fk()||!this.Bg()){this.rm.Ag();var a=this.rm.Aa()-this.nf();this.oo=this.VB(a);for(const b of this.hc)b.tf()}}s0(){if(!(this.$b().xf||
(this.tp(),!this.fk()&&this.Bg()||this.ko))){const a=this.rm.Aa();a>=this.nf()+this.Wj()?this.gb(this.Wj(),!0,!1,!0):0>=a&&this.gb(0,!0,!1,!0)}}Kr(){for(const a of this.hc)a.Kr()}gb(a,b=!1,f=!1,c=!1,g=!1,n=!1){this.tp();if(!this.fk()&&this.Bg()||n&&this.Bg()&&this.G().Qf())return!1;a-=this.nf();if(0>a)return!1;this.qZ(a,b);this.bL(a,b,g);g=n=!1;for(const h of this.hc){const l=h.gb(a,f,!1,c);n||0===(l&d.yd.M1)||(n=!0);g||0===(l&d.yd.hk)||(g=!0)}this.pZ(a,b);n&&(a=this.j())&&a.Xa();return g}Jr(){for(const a of this.hc)a.Jr()}qZ(a,
b){if(b&&this.ko&&!this.wq){if(this.$b().Ag()){if(0>a)return;for(const f of this.hc)f.gb(0,!1,!1,!0)}else{if(a>this.Wj())return;for(const f of this.hc)f.gb(this.Wj(),!1,!1,!0)}for(const f of this.hc)f.Sc();this.wq=!0}}pZ(a,b){if(b&&this.ko&&!this.Vn)if(this.$b().Ag()){if(a>=this.Wj()){for(const f of this.hc)f.gb(this.Wj(),!1,!1,!0);this.Vn=!0}}else if(0>=a){for(const f of this.hc)f.gb(0,!1,!1,!0);this.Vn=!0}}bL(a,b,f){!f&&b&&(a=this.VB(a),a!==this.oo&&this.oL(a),this.oo=a)}VB(a){const b=this.$b();
let f=this.we.JW(a,this.Jb);return f?f:b.Ag()?this.we.sW(a,this.Jb):this.we.rW(a,this.Jb)}oL(a){if(d.C.lc&&this.$b().constructor===d.yd){var b=this.$b();d.C.lc.J.zn(b);d.C.lc.J.$0(a);a=b.tb;a.xa(d.C.lc.J.Vea);a.xa(d.C.lc.J.oL);d.C.lc.J.zn(null);d.C.lc.J.$0(null)}}ZS(){return this.Jb.zh().TS()}uU(a){this.Jb.zh().tU(a)}vB(a){for(const b of this.hc)b.vB(a)}yn(){for(const a of this.hc)a.yn()}qh(){this.tp();if(this.fk()||!this.Bg())for(const a of this.hc)a.qh()}rh(){this.tp();if(this.fk()||!this.Bg()){var a=
!1;for(const b of this.hc){const f=b.rh();!a&&f&&(a=!0)}a&&(a=this.ZS(),a.Np(this.$b().Aa()),a.ej("noease"),a.lk(!0),a.yM(""))}}ga(){var a=this.za();a=a?a.Ec:this.hs();return{propertyTracksJson:this.r7(),lastKeyframeDataItemJson:this.o7(),initialStateOfNestedSet:this.wq,endStateOfNestedSet:this.Vn,instanceUid:a}}oa(a){a&&(this.u5(a.propertyTracksJson),this.s5(a.lastKeyframeDataItemJson),this.p5(a.instanceUid),this.wq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.wq=a.initialStateOfNestedSet),
this.Vn=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Vn=a.endStateOfNestedSet))}o7(){return this.Jb.zh().LW(this.oo)}r7(){return this.hc.map(a=>a.ga())}u5(a){a.forEach((b,f)=>{this.hc[f].oa(b)})}p5(a){if(d.zl(a)&&(a=this.H().Oi(a))){var b=this.$b();b.NT();b.S0(this.Jb.Ni(),a)}}s5(a){this.oo=this.Jb.zh().KW(a)}}}
{"use strict";const d=self.B;d.Wa=class extends d.ca{constructor(a,b){super();this.Mc=a;this.La=b;this.Vc=b.ge();this.Di=this.Qc();this.pc=this.La.Ah().pc}static Ma(a,b){return d.A(d.Wa,a,b)}m(){this.Mc=null;this.Di&&(this.Di.m(),this.Di=null);this.Vc=this.La=this.pc=null}ge(){return this.Vc}$b(){return this.Mc.$b()}H(){return this.Mc.H()}za(){return this.Mc.za()}Qc(){if(this.Di)return this.Di;let a;switch(this.La.jd()){case "behavior":a=new d.Wa.rT(this);break;case "effect":a=new d.Wa.AV(this);break;
case "instance-variable":a=new d.Wa.xY(this);break;case "plugin":a=new d.Wa.l_(this);break;case "world-instance":a=new d.Wa.W1(this);break;case "value":a=new d.Wa.K1(this)}return this.Di=a}jd(){return this.La.jd()}ks(){return this.La.Yi()}aC(){return this.ge().uw(this.La).Yi()}Vj(){return this.La.Vj()}lk(a){this.La.lk(a)}xh(){return this.La.xh()}Bh(){return this.La.Bh()}ej(a){for(const b of this.iK())b.ej(a)}iK(){return this.pc?this.pc:this.pc=this.La.Ah().pc}Ki(){this.Qc().Ki()}de(){return this.Qc().de()}Sc(){this.Qc().Sc()}tf(){this.Qc().tf()}Kr(){this.Qc().Kr()}gb(a,
b=!1,f=!1,c=!1){var g=this.La;let n=this.Vc.$B(a,g);n?g=this.Vc.YJ(a,g):(n=this.Vc.RB(a,g),g=this.Vc.QB(a,g));return this.Qc().gb(a,n,g,b,f,c)}Jr(){this.Qc().Jr()}static sK(a,b){const f=b.La;b=b.Vc;let c=b.$B(a,f);c||(c=b.RB(a,f));return c}static gW(a,b){const f=b.La;b=b.Vc;return b.$B(a,f)?b.YJ(a,f):b.QB(a,f)}aT(){return this.La.Ah().US()}vB(a){this.La.Ah().vU(a)}yn(){this.Qc().yn()}qh(){if(this.Qc().qh()){const a=this.Vc.uw(this.La),b=this.Qc().de();a.ZL(b)}}rh(){const a=this.Qc().rh();a&&this.bT();
this.Qc().Wv();return a}bT(){const a=this.$b().Aa(),b=this.Qc(),f=d.Wa.sK(a,this),c=this.aT();c.AM(f.Yi());c.Np(a);c.ej(f.sl());c.lk(!0);c.Uf(b.Lw());c.ZL(b.de())}ga(){return{sourceAdapterJson:this.Qc().ga()}}oa(a){a&&this.Qc().oa(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Wa;d.Eh=class{constructor(a){this.ja=a;this.Tk=null}m(){this.Tk&&(this.Tk.m(),this.Tk=null);this.ja=null}Zj(){return this.ja}Ki(){this.Tk&&this.Tk.Ki()}Nf(){return this.Tk?this.Tk:this.Tk=this.S2()}cp(){}Ca(){return this.cp()}os(){}Sc(){this.Nf().Sc()}tf(){this.Nf().tf()}Kr(){this.Nf().To()}gb(a,b,f,c,g,n){const h=d.Eh.bK(this.ja)(a,b,f,this.ja);return g?h:this.Nf().Qm(a,h,b,f,c,n)}Jr(){this.Nf().So()}yn(){var a=this.Nf();a.Zg=a.de()}Wv(){this.Nf().Wv()}de(){return this.Nf().de()}qh(){return this.Nf().qh()}rh(){return this.Nf().rh()}Lw(){return d.Eh.Lw(this.ja)}S2(){const a=
this.ja.ks();switch(this.ja.aC()){case "combo":case "boolean":case "text":case "string":return new d.qf.eL(this);case "numeric":case "number":case "angle":return"combo"===a?new d.qf.eL(this):new d.qf.wZ(this);case "color":case "offsetColor":return new d.qf.QT(this)}}ga(){return{propertyAdapterJson:this.Nf().ga()}}oa(a){a&&this.Nf().oa(a.propertyAdapterJson)}static Lw(a){const b=a.Mc.$b().Aa(),f=d.sK(b,a),c=d.gW(b,a);return d.Eh.bK(a)(b,f,c,a)}static ie(){let a=(void 0).Bh();"combo"===(void 0).ks()&&
(a="absolute");switch(a){case "relative":return NaN}}static bK(a){switch(a.aC()){case "numeric":return d.KC.gb;case "angle":return d.cJ.gb;case "boolean":return d.gJ.gb;case "color":return d.qJ.gb;case "text":return d.IM.gb}}static jX(a){switch(a.aC()){case "numeric":return d.KC.pk;case "angle":return d.cJ.pk;case "boolean":return d.gJ.pk;case "color":return d.qJ.pk;case "text":return d.IM.pk}}}}{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b)}}d.Wa.W1=a}
{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b);this.cv=NaN}cp(){return this.ja.La.ig[0]}Ca(){return this.cv?this.cv:super.Ca()}os(){return this.ja.Mc.za()}I1(b){this.ja.La.ig[0]!==b&&(this.cv=b)}gb(b,f,c,g,n,h){if(this.Nf().lJ(f.ie()))return super.gb(b,f,c,g,n,h)}ga(){return Object.assign(super.ga(),{index:this.cv})}oa(b){b&&(super.oa(b),this.cv=b.index)}}d.Wa.xY=a}
{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b);this.ab=NaN}cp(){return this.ja.La.ig[1]}os(){var b=this.ja.La,f=this.ab?this.ab:b.ig[0];b=this.ja.Mc.za();f=b.QJ(f);return b.Jc[f].na}wg(b){return b.iw(this.ja.La.ig[2])}F1(b){this.ja.La.ig[0]!==b&&(this.ab=b)}gb(b,f,c,g,n,h){const l=this.ja.Mc.za();if(this.wg(l.G()))return super.gb(b,f,c,g,n,h)}ga(){return Object.assign(super.ga(),{sid:this.ab})}oa(b){b&&(super.oa(b),this.ab=b.sid)}}d.Wa.rT=a}
{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b)}cp(){return this.ja.La.ig[1]}os(){const b=this.ja.Mc.j().Pd,f=this.LB(b.Ka).Ca();return b.vs(f)?b.Mf(f):null}LB(b){return b.Uj(this.ja.La.ig[0])}gb(b,f,c,g,n,h){if(this.a5())return super.gb(b,f,c,g,n,h)}a5(){const b=this.ja.Mc.j().Pd,f=this.LB(b.Ka);if(f)return b.vs(f.Ca())}}d.Wa.AV=a}
{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b)}cp(){return this.ja.La.ig[0]}os(){return this.ja.Mc.za().na}gb(b,f,c,g,n,h){var l=this.ja.Mc;const m=l.G().wb();l=l.za().G().wb();if(m===l)return super.gb(b,f,c,g,n,h)}}d.Wa.l_=a}
{"use strict";const d=self.B;class a extends d.Wa.Eh{constructor(b){super(b);this.Xc=0;this.Xy=!1}Sc(){const b=this.ja.ge();let f=this.ja.La;f=b.uw(f);this.Xc=f.ac()}tf(){}ie(){this.Xy||this.ja.gb(0);return this.Xc}gb(b,f,c){const g=d.Wa.KC.gb;this.Xc=g(b,f,c,this.ja);this.Xy=!0}yn(){}Wv(){}de(){return this.Xc}qh(){return!1}rh(){return!1}ga(){return{value:this.Xc,init:this.Xy}}oa(b){b&&(this.Xc=b.value,this.Xy=b.hasOwnProperty("init")?b.init:!0)}}d.Wa.K1=a}"use strict";
function ic(d,a,b){return d.ja.$b().Ag()?a():b()}function jc(d,a,b){return"relative"===d.ja.Bh()?a():b()}function kc(d,a,b){d.sq?(d.sq=!1,a()):b()}function lc(d){if(d.Xq)return d.Xq;d.Xq=d.Di.os();return d.Xq}function mc(d,a,b,f,c,g){switch(d.ja.jd()){case "behavior":return a();case "effect":return b();case "instance-variable":return f();case "plugin":return c();case "world-instance":return g()}}
function nc(d,a=!1){const b=[];for(const f of d){d=f.Mc.nf();for(const c of f.iK())a&&0===c.Aa()?b.push({time:d+c.Aa(),value:c.Hg}):a||b.push({time:d+c.Aa(),value:c.Hg})}return b.sort((f,c)=>f.time-c.time)}function oc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Wa.qf=class{constructor(d){this.Di=d;this.ja=d.Zj();this.eb=this.ja.Mc.j();this.dd=this.ja.La.dd;this.sq=!1;this.Xq=this.Zg=null}m(){this.Xq=this.Zg=this.eb=this.ja=this.Di=null}Ki(){this.Xq=this.Zg=this.eb=null}Zj(){return this.ja}j(){return this.eb?this.eb:this.eb=this.ja.Mc.j()}Sc(){}tf(){}Wv(){this.Zg=null}de(){}qh(){}rh(){}lJ(d){return typeof this.sk()===typeof d}To(){}Qm(){}So(){}Dn(){return ic(this,()=>{const d=this.ja.La;return this.ja.ge().uw(d)},()=>{const d=this.ja.La;return this.ja.ge().Zm(d)}).Hg}Ax(){const d=
this.ja.$b().Aa()-this.ja.Mc.nf();return ic(this,()=>{const a=this.ja.La;return this.ja.ge().RB(d,a)},()=>{const a=this.ja.La,b=this.ja.ge(),f=b.QB(d,a);return f?f:b.Zm(a)}).Hg}Dx(){}Gg(){return this.Di.Ca()}ga(){return{firstAbsoluteUpdate:this.sq,saveState:this.Zg}}oa(d){d&&(this.sq=d.firstAbsoluteUpdate,this.Zg=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class f extends d.Wa.qf{constructor(c){super(c)}Sc(){}tf(){}de(){const c=this.ja.jd(),g=lc(this),n=this.Gg();switch(c){case "behavior":return this.Yx(g.wc(n));case "effect":return this.Yx(g[n]);case "plugin":return this.Yx(g.wc(n));case "world-instance":return this.Yx(this.sk())}}qh(){const c=this.Dn();return!this.hN(c,this.sk())}rh(){return d.Id(this.Zg)?!1:!this.hN(this.Zg,this.sk())}hN(c,g){return c.hl(g)}Dn(){const c=super.Dn();return this.Ex(c)}Ax(){const c=
super.Ax();return this.Ex(c)}Dx(){}Yx(c){return d.Al(c,d.Va)?c.toArray().slice(0,3):c.slice(0,3)}Ex(c){return d.Al(c,d.Va)?c:new d.Va(c[0],c[1],c[2],1)}lJ(){return!0}To(){var c=this.ja.za();a.has(c)||a.set(c,new Map);c=a.get(c);const g=this.ja.jd();c.has(g)||c.set(g,new Map);c=c.get(g);c.has(this.dd)||c.set(this.dd,{Hv:!1,color:new d.Va(0,0,0,1)})}SN(c,g,n){c=a.get(c).get(g).get(n);c.Hv=!0;return c.color}Qm(c,g){var n=this.ja.$b(),h=this.ja.Mc;c=this.ja.za();var l=this.ja.Qc();const m=this.ja.jd();
l=n.dC(c,l,this.dd);if(1<l.length){if(l=nc(l,!0),n=n.Aa(),n=oc(n,l))if(l=n.time-h.nf(),0===l)this.SN(c,m,this.dd).QR(g[0],g[1],g[2]);else{if(0>l)return;n=g[0];h=g[1];g=g[2];l=this.ja.gb(l,!1,!0);n=d.Va.wB(n,l[0]);h=d.Va.wB(h,l[1]);g=d.Va.wB(g,l[2]);this.SN(c,m,this.dd).QR(n,h,g)}}else this.mj(g[0],g[1],g[2]);return d.yd.hk}So(){const c=this.ja.za();if(a.has(c)){var g=a.get(c),n=this.ja.jd();if(g.has(n)){var h=g.get(n);if(h.has(this.dd)){var l=h.get(this.dd),m=l.color;l.Hv&&this.mj(m.Pa,m.Sa,m.Ra);
0===h.size&&g.delete(n);0===g.size&&a.delete(c)}}}}sk(){const c=this.ja.jd(),g=lc(this),n=this.Gg();switch(c){case "behavior":return this.Ex(g.wc(n));case "effect":return g[n].clone();case "plugin":return this.Ex(g.wc(n));case "world-instance":return this.j().Ya.clone()}}mj(c,g,n){const h=this.ja.jd(),l=lc(this),m=this.Gg();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=n;l.Ih(m,b);break;case "effect":l[m].Cr(c,g,n);break;case "plugin":b[0]=c;b[1]=g;b[2]=n;l.Ih(m,b);break;case "world-instance":this.j().a1(c,
g,n)}}ga(){}oa(){}}d.Wa.qf.QT=f}
{"use strict";const d=self.B;class a extends d.Wa.qf{constructor(b){super(b)}Sc(){}tf(){}de(){return this.sk()}qh(){return this.Dn()!==this.de()}rh(){return d.Id(this.Zg)?!1:this.Zg!==this.de()}Qm(b,f){const c=d.Wa.Eh.jX(this.ja);var g=this.ja;const n=g.Mc,h=g.jd();var l=g.$b();const m=n.za();g=g.Qc();l=l.dC(m,g,this.dd);1<l.length&&(l=nc(l),b=oc(b+n.nf(),l))&&(f=b.value);if(c(this.Gg(),lc(this),f,h))switch(this.mj(f),h){case "plugin":return d.yd.hk}}sk(){const b=this.ja.jd(),f=lc(this),c=this.Gg();
switch(b){case "behavior":return f.wc(c);case "effect":return f[c];case "instance-variable":return f.fe(c);case "plugin":return f.wc(c)}}mj(b){const f=this.ja.jd(),c=lc(this),g=this.Gg();switch(f){case "behavior":c.Ih(g,b);break;case "effect":c[g]=b;break;case "instance-variable":c.Ll(g,b);break;case "plugin":c.Ih(g,b)}}}d.Wa.qf.eL=a}
{"use strict";const d=self.B,a=new Map,b=(c,g,n,h,l)=>a.set(c,{cba:g,v$:n,eaa:h,round:l});b("offsetX",(c,g)=>c.DZ(g),(c,g)=>c.Eg(g),c=>c.ka(),!0);b("offsetY",(c,g)=>c.EZ(g),(c,g)=>c.Ph(g),c=>c.la(),!0);b("offsetWidth",(c,g)=>c.gL(g),(c,g)=>c.Oh(g),c=>c.ba(),!0);b("offsetHeight",(c,g)=>c.fL(g),(c,g)=>c.Hh(g),c=>c.aa(),!0);b("offsetAngle",(c,g)=>c.zZ(g),(c,g)=>c.nd(g),c=>c.Fa(),!1);b("offsetOpacity",(c,g,n,h)=>{n=c.He()+g;0===h.nc?(1<n?h.nc+=n-1:0>n&&(h.nc+=n),c.AZ(g)):(c=c.He()+g,0<g&&0<h.nc?1<c&&
(h.nc+=c-1):0<g&&0>h.nc?(h.nc+=g,0<h.nc&&(h.nc=0)):0>g&&0<h.nc?(h.nc+=g,0>h.nc&&(h.nc=0)):0>g&&0>h.nc&&0>c&&(h.nc+=c))},(c,g)=>{c.mk(g)},c=>c.He(),!1);b("offsetOriginX",(c,g)=>c.BZ(g),(c,g)=>c.Jp(g),c=>c.Xj(),!1);b("offsetOriginY",(c,g)=>c.CZ(g),(c,g)=>c.Kp(g),c=>c.Yj(),!1);b("offsetZElevation",(c,g)=>c.FZ(g),(c,g)=>c.Ke(g),c=>c.Ua(),!0);b("offsetScaleX",(c,g,n)=>{const h=0>c.ba()?-1:1;c.gL(n.Ri()*h*g)},(c,g,n)=>{c.Oh(n.Ri()*g)},(c,g)=>{const n=0>c.ba()?-1:1;if(c.bn()){var h=c.ya(),l=g.$b().uK(h.za());
l?h=h.ba()/l.Ri():(l=h.za().na,h=l.pn()?h.ba()/l.Ri():1);return c.ba()*n/(g.Ri()*h)}return c.ba()*n/g.Ri()},!1);b("offsetScaleY",(c,g,n)=>{const h=0>c.aa()?-1:1;c.fL(n.Qi()*h*g)},(c,g,n)=>{c.Hh(n.Qi()*g)},(c,g)=>{const n=0>c.aa()?-1:1;if(c.an()){var h=c.ya(),l=g.$b().uK(h.za());l?h=h.aa()/l.Qi():(l=h.za().na,h=l.pn()?h.aa()/l.Qi():1);return c.aa()*n/(g.Qi()*h)}return c.aa()*n/g.Qi()},!1);class f extends d.Wa.qf{constructor(c){super(c);this.nc=this.Gb=0;this.dG=this.fG=this.eG=null;this.pR=!1;this.Jo=
d.Al(this.ja.$b(),d.B1)?new d.Wa.qf.yZ(this):new d.Wa.qf.xZ(this);c=this.ja.La.dd;"world-instance"===this.ja.jd()&&(c=a.get(c),this.eG=c.eaa,this.fG=c.cba,this.dG=c.v$,this.pR=c.round)}m(){this.dG=this.fG=this.eG=this.Jo=null;super.m()}qM(c){this.Gb=c}Sc(){const c=this.Jo.Sc();"number"===typeof c&&(this.Gb=c);this.nc=0}tf(){const c=this.Jo.tf();"number"===typeof c&&(this.Gb=c)}de(){return this.sk()}qh(){return this.Dn()!==this.de()}rh(){return d.Id(this.Zg)?!1:this.Zg!==this.de()}To(){this.Jo.To()}Qm(c,
g,n,h,l,m,p){return this.Jo.Qm(c,g,n,h,l,m,p)}So(){this.Jo.So()}sk(){const c=lc(this),g=this.Gg(),n=this.ja.Mc,h=this.j();return mc(this,()=>c.wc(g),()=>c[g],()=>c.fe(g),()=>c.wc(g),()=>this.eG(h,n))}mj(c){const g=lc(this),n=this.Gg(),h=this.ja.Mc,l=this.j();mc(this,()=>g.MC(n,c),()=>g[n]+=c,()=>g.D0(n,c),()=>g.MC(n,c),()=>this.fG(l,c,h,this))}bP(c){const g=lc(this),n=this.Gg(),h=this.ja.Mc,l=this.j();mc(this,()=>g.Ih(n,c),()=>g[n]=c,()=>g.Ll(n,c),()=>g.Ih(n,c),()=>this.dG(l,c,h))}Xp(c,g,n,h,l,m){this.Jo.Xp(c,
g,n,h,l,m)}qk(c,g,n){c=(c.toString().split(".")[1]||"").length;const h=this.sk();this.mj((0===c?this.pR?Math.round(h):h:d.toFixed(h,c))-h,g,n)}ga(){return Object.assign(super.ga(),{v:this.Gb,a:this.nc})}oa(c){c&&(super.oa(c),this.Gb=c.v,this.nc=c.a)}}d.Wa.qf.wZ=f}
{"use strict";const d=self.B,a=new Map;class b{constructor(f){this.Sd=f}m(){this.Sd=null}Sc(){const f=this.Sd,c=this.Sd.Zj();return jc(f,()=>ic(f,()=>0,()=>d.Wa.Eh.Lw(c)),()=>{})}tf(){}To(){const f=this.Sd,c=this.Sd.Zj(),g=c.La.dd;jc(f,()=>{},()=>{var n=c.za();a.has(n)||a.set(n,new Map);n=a.get(n);const h=c.jd();n.has(h)||n.set(h,new Map);n=n.get(h);n.has(g)||n.set(g,{Hv:!1,value:0})})}RN(f,c,g){f=a.get(f).get(c).get(g);f.Hv=!0;return f}Qm(f,c,g,n,h,l){const m=this.Sd,p=this.Sd.Zj(),u=p.La.dd;jc(m,
()=>{const q=m.Gb;m.mj(c-q,g,n);l&&this.Xp(f,g,n,h,q,c);m.qM(c)},()=>{var q=p.$b(),v=p.Mc;const t=p.za();var w=p.Qc();const y=p.jd();w=q.dC(t,w,u);if(1<w.length){if(w=nc(w,!0),q=q.Aa(),q=oc(q,w))v=q.time-v.nf(),0===v?this.RN(t,y,u).value+=c:0>v||(v=p.gb(v,!1,!0),this.RN(t,y,u).value+=c-v)}else m.bP(c)});return mc(m,()=>{},()=>d.yd.hk,()=>{},()=>d.yd.hk,()=>d.yd.hk)}So(){const f=this.Sd,c=this.Sd.Zj(),g=c.La.dd;jc(f,()=>{},()=>{const n=c.za();if(a.has(n)){var h=a.get(n),l=c.jd();if(h.has(l)){var m=
h.get(l);if(m.has(g)){var p=m.get(g),u=p.value;p.Hv&&f.bP(u);m.delete(g);0===m.size&&h.delete(l);0===h.size&&a.delete(n)}}}})}Xp(f,c,g,n,h,l){const m=this.Sd;n||(c&&f===c.Aa()?m.qk(c.ac(),c,g):g&&f===g.Aa()?m.qk(g.ac(),c,g):0===l-h&&m.qk(c.ac(),c,g))}}d.Wa.qf.xZ=b}
{"use strict";const d=self.B;class a{constructor(b){this.Sd=b}m(){this.Sd=null}Sc(){const b=this.Sd;b.sq=!0;return this.Dx(b.Dn())}tf(){const b=this.Sd;if(b.Dn()!==b.Ax())return b.sq=!0,this.Dx(b.Ax())}To(){}Qm(b,f,c,g,n,h){const l=this.Sd,m=l.Gb;jc(l,()=>{l.mj(f-m,c,g);h&&this.Xp(b,c,g,n,m,f)},()=>{kc(l,()=>{l.mj(m,c,g)},()=>{l.mj(f-m,c,g);h&&this.Xp(b,c,g,n,m,f)})});l.qM(f);return mc(l,()=>{},()=>d.yd.hk,()=>{},()=>d.yd.hk,()=>d.yd.hk)}So(){}Dx(b){return b-this.Sd.de()}Xp(b,f,c,g,n,h){const l=this.Sd;
g?f&&b===f.Aa()?l.qk(f.ac(),f,c):c&&b===c.Aa()?l.qk(c.ac(),f,c):c||l.qk(f.ac(),f,c):f&&b===f.Aa()?l.qk(f.ac(),f,c):c&&b===c.Aa()?l.qk(c.ac(),f,c):0===h-n&&l.qk(f.ac(),f,c)}}d.Wa.qf.yZ=a}
{"use strict";const d=self.B,a=self.Pr;d.Wa.KC=class{constructor(){}static pk(b,f,c,g){let n;switch(g){case "behavior":n=f.wc(b);break;case "effect":n=f[b];break;case "instance-variable":n=f.fe(b);break;case "plugin":n=f.wc(b)}return n===c?!1:!0}static gb(b,f,c,g){if(!c)return c=g.La,c=g.ge().Zm(c),c.ac();var n=g.xh();"default"===n&&(n="continuous");"combo"===g.ks()&&(n="discrete");if("discrete"===n)return f.ac();if("continuous"===n||"step"===n){"step"===n&&(n=g.$b().ms(),0!==n&&(n=1/n,b=Math.floor(b*
n)/n));var h=f.Aa();const l=c.Aa();n=f.ac();const m=c.ac();if(n===m)return n;b=d.normalize(b,h,l);const p=f.sl();f=f.DB("cubic-bezier");c=c.DB("cubic-bezier");f&&f.Pu&&c&&c.Ey?(h=l-h,h=a.$m(p)(h*b,0,1,h),h=a.$m("cubicbezier")(h,n,n+f.wH,m+c.CF,m)):h=a.$m(p)((l-h)*b,n,m-n,l-h);return"integer"===g.ks()?Math.floor(h):h}}}}
{"use strict";const d=self.B;d.Wa.cJ=class{constructor(){}static pk(a,b,f,c){let g;switch(c){case "behavior":g=b.wc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.fe(a);break;case "plugin":g=b.wc(a)}return g===f?!1:!0}static gb(a,b,f,c){if(!f)return b=c.La,b=c.ge().Zm(b),b.ac();var g=c.xh();"default"===g&&(g="continuous");"combo"===c.ks()&&(g="discrete");if("discrete"===g)return b.ac();if("continuous"===g||"step"===g){"step"===g&&(c=c.$b().ms(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const n=b.Aa(),h=f.Aa();c=b.ac();f=f.ac();if(g=b.DB("angle")){const l=g.kH;if(c===f&&0===l)return c;a=d.normalize(a,n,h);b=self.Pr.$m(b.sl())(a,0,1,1);switch(g.wF){case "closest":return d.XH(c,f,b,l);case "clockwise":return d.C$(c,f,b,l);case "anti-clockwise":return d.B$(c,f,b,l)}}else{if(c===f)return c;a=d.normalize(a,n,h);b=self.Pr.$m(b.sl());return d.XH(c,f,b(a,0,1,1))}}}}}"use strict";
self.B.Wa.gJ=class{constructor(){}static pk(d,a,b,f){let c;switch(f){case "behavior":c=a.wc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.fe(d);break;case "plugin":c=a.wc(d)}return!!c===!!b?!1:!0}static gb(d,a,b,f){return b?a.ac()?1:0:(d=f.La,d=f.ge().Zm(d),d.ac()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],f=[0,0,0];d.Wa.qJ=class{constructor(){}static pk(c,g,n,h){let l;switch(h){case "behavior":l=g.wc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.fe(c);break;case "plugin":l=g.wc(c)}Array.isArray(n)?(a[0]=n[0],a[1]=n[1],a[2]=n[2]):(f.qS(n),a[0]=Math.floor(255*f.Pa),a[1]=Math.floor(255*f.Sa),a[2]=Math.floor(255*f.Ra));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(f.qS(l),b[0]=Math.floor(255*f.Pa),b[1]=Math.floor(255*f.Sa),b[2]=Math.floor(255*
f.Ra));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static gb(c,g,n,h){if(!n)return g=h.La,g=h.ge().Zm(g),g=g.ac(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.xh();"default"===l&&(l="continuous");if("discrete"===l)return g=g.ac(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.$b().ms(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Aa();l=n.Aa();var m=g.ac(),p=n.ac();const u=d.normalize(c,h,l);c=m[0];n=m[1];m=m[2];const q=p[0],v=p[1];p=p[2];g=self.Pr.$m(g.sl());h=l-h;
l=h*u;a[0]=c===q?c:g(l,c,q-c,h);a[1]=n===v?n:g(l,n,v-n,h);a[2]=m===p?m:g(l,m,p-m,h);return a}}}}"use strict";self.B.Wa.IM=class{constructor(){}static pk(d,a,b,f){let c;switch(f){case "behavior":c=a.wc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.fe(d);break;case "plugin":c=a.wc(d)}return c===b?!1:!0}static gb(d,a,b,f){return b?a.ac():(d=f.La,d=f.ge().Zm(d),d.ac())}};
{"use strict";const d=self.B;d.Wf=class{constructor(){this.Wu=new Map}m(){for(const a of this.Wu.values())a.m();this.Wu.clear();this.Wu=null}tc(a){a=new d.u1(a);this.Wu.set(a.wa(),a)}X(a){return this.Wu.get(a)}static $s(a,b,f,c){if(b)for(const g of b)d.Wf.jN("create",g,a,f,c)}static kt(a,b,f,c){a.length?b.forEach((g,n)=>{a[n].oa(g)}):b.forEach(g=>{d.Wf.jN("load",g,a,f,c)})}static jN(a,b,f,c,g){let n;if("function"===typeof c)switch(a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.uS]),a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}switch(a){case "load":n.oa(b);f.push(n);break;case "create":"function"!==typeof n.Vj||n.Vj()?f.push(n):n.m()}}}}
{"use strict";const d=self.B;d.u1=class{constructor(a){this.Ba="";this.oA=NaN;this.kA=0;this.Df=this.Af="default";this.Pz=this.Gz=!1;this.Rq=1;this.we=null;a&&(this.Ba=a[0],this.oA=a[1],this.kA=a[2],this.Af=a[3],this.Df=a[4],this.Gz=!!a[6],this.Pz=!!a[7],this.Rq=a[8],this.we=new d.JM(a[5],this))}m(){this.we.m();this.we=null}Iw(){this.we||(this.we=new d.JM(null,this));return this.we}wa(){return this.Ba}nx(a){this.Ba=a}kd(){return this.oA}ms(){return this.kA}xh(){return this.Af}Bh(){return this.Df}gp(){return this.Gz}ip(){return this.Pz}ul(){return this.Rq}ga(){return{trackDataJson:this.we.ga(),
name:this.Ba,totalTime:this.oA,step:this.kA,interpolationMode:this.Af,resultMode:this.Df,loop:this.Gz,pingPong:this.Pz,repeatCount:this.Rq}}oa(a){a&&(this.Iw().oa(a.trackDataJson),this.Ba=a.name,this.oA=a.totalTime,this.kA=a.step,this.Af=a.interpolationMode,this.Df=a.resultMode,this.Gz=a.loop,this.Pz=a.pingPong,this.Rq=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.we=f;this.Tl=this.$y=null;this.Pk=this.Ek=NaN;this.Df=this.Af="default";this.ag=!1;this.Vc=this.ti=null;this.re="";this.Jq=null;this.xH=0;this.Ez=this.we.ve.kd();this.ra=0;this.Ba="";b&&(b[0]&&(this.$y=b[0],this.Ek=b[0][2],this.Pk=b[0][1]),this.Af=b[1],this.Df=b[2],this.ag=!!b[3],b[6]&&(this.re=b[6]),b[7]&&(this.Jq=b[7],this.xH=b[7][0],this.Ez=b[7][1]),b[8]&&(this.Tl=b[8]),b[8]&&(this.Tl=b[8]),b[9]&&(this.ra=b[9]),b[10]&&(this.Ba=b[10]),this.ti=
new d.TK(b[4],this),this.Vc=new d.DL(b[5],this))}m(){this.we=this.$y=null;this.ti&&(this.ti.m(),this.ti=null);this.Vc&&(this.Vc.m(),this.Vc=null);this.Jq=null}Iw(){return this.we}zh(){this.ti||(this.ti=new d.TK(null,this));return this.ti}ge(){this.Vc||(this.Vc=new d.DL(null,this));return this.Vc}YB(){return this.Pk}hs(){return this.Ek}xh(){return this.Af}Bh(){return this.Df}Vj(){return this.ag}lk(b){this.ag=!!b}Ni(){return this.re}nf(){return this.xH}Wj(){return this.Ez}Ri(){return this.Tl[0]}Qi(){this.Tl||
(this.Tl=[]);return this.Tl[1]}Yi(){return this.ra}wa(){return this.Ba}ga(){return{keyframeDataJson:this.ti.ga(),propertyTrackDataJson:this.Vc.ga(),instanceData:this.$y,additionalInstanceData:this.Tl,instanceUid:this.Ek,objectClassIndex:this.Pk,interpolationMode:this.Af,resultMode:this.Df,enabled:this.ag,id:this.re,nestedData:this.Jq,type:this.ra,name:this.Ba}}oa(b){b&&(this.$y=b.instanceData,this.Ek=b.instanceUid,this.Pk=b.objectClassIndex,this.Af=b.interpolationMode,this.Df=b.resultMode,this.ag=
b.enabled,this.re=b.id,this.ra=b.type?b.type:0,this.ra=b.name?b.name:"",this.Ez=this.we.ve.kd(),b.nestedData&&(this.Jq=b.nestedData,this.xH=this.Jq[0],this.Ez=this.Jq[1]),b.additionalInstanceData&&(this.Tl=b.additionalInstanceData),this.zh().oa(b.keyframeDataJson),this.ge().oa(b.propertyTrackDataJson))}}d.JM=class{constructor(b,f){this.ve=f;this.Ho=[];this.qu=new Map;d.Wf.$s(this.Ho,b,a,this)}m(){this.ve=null;for(const b of this.Ho)b.m();d.D(this.Ho);this.Ho=null;this.qu.clear();this.qu=null}JW(b,
f){const c=this.qu.get(f);if(c&&c.has(b))return c.get(b);for(const g of f.zh().kS())if(g.Aa()===b)return c||this.qu.set(f,new Map),this.qu.get(f).set(b,g),g}rW(b,f){for(const c of f.zh().kS())if(c.Aa()>=b)return c}sW(b,f){for(const c of f.zh().vaa())if(c.Aa()<=b)return c}*oba(){for(const b of this.Ho)yield b}ga(){return{trackDataItemsJson:this.Ho.map(b=>b.ga())}}oa(b){b&&d.Wf.kt(this.Ho,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.Vc=f;this.cA="";this.ra=this.dd=this.ig=null;this.LG=this.PG=NaN;this.Df=this.Af="default";this.ag=!1;this.zj=null;b&&(this.cA=b[0][0],this.ig=b[0].slice(1),this.dd=b[1],this.ra=b[2],this.PG=b[3],this.LG=b[4],this.Af=b[5],this.Df=b[6],this.ag=!!b[7],this.zj=new d.CL(b[8],this))}m(){this.zj.m();this.ig=this.Vc=this.zj=null}ge(){return this.Vc}Ah(){this.zj||(this.zj=new d.CL(null,this));return this.zj}jd(){return this.cA}Yi(){return this.ra}AM(b){this.ra=
b}xh(){return this.Af}Bh(){return this.Df}Vj(){return this.ag}lk(b){this.ag=!!b}ga(){return{propertyKeyframeDataJson:this.zj.ga(),sourceAdapterId:this.cA,sourceAdapterArguments:this.ig,property:this.dd,type:this.ra,min:this.PG,max:this.LG,interpolationMode:this.Af,resultMode:this.Df,enabled:this.ag}}oa(b){b&&(this.cA=b.sourceAdapterId,this.ig=b.sourceAdapterArguments,this.dd=b.property,this.ra=b.type,this.PG=b.min,this.LG=b.max,this.Af=b.interpolationMode,this.Df=b.resultMode,this.ag=b.enabled,this.Ah().oa(b.propertyKeyframeDataJson))}}
d.DL=class{constructor(b,f){this.Jb=f;this.wo=[];this.Gu=new Map;d.Wf.$s(this.wo,b,a,this)}m(){this.Jb=null;for(const b of this.wo)b.m();d.D(this.wo);this.wo=null;this.Gu.clear();this.Gu=null}uw(b){return b.Ah().pc[0]}Zm(b){return b.Ah().pc.Wd(-1)}$B(b,f){const c=this.Gu.get(f);if(c&&c.has(b))return c.get(b);const g=f.Ah();for(const n of g.II())if(n.Aa()===b)return c||this.Gu.set(f,new Map),this.Gu.get(f).set(b,n),n}YJ(b,f){f=f.Ah();for(const c of f.II())if(c.Aa()>b)return c}QB(b,f){f=f.Ah();for(const c of f.II())if(c.Aa()>=
b)return c}RB(b,f){f=f.Ah();for(const c of f.Oaa())if(c.Aa()<=b)return c}*Qaa(){for(const b of this.wo)yield b}ga(){return{propertyTrackDataItemsJson:this.wo.map(b=>b.ga())}}oa(b){b&&d.Wf.kt(this.wo,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.ti=f;this.sc=-1;this.gi="noease";this.hi=!1;this.vu=this.kg=null;b&&(this.sc=b[0],this.gi=b[1],this.hi=!!b[2],this.kg=(b=b[3])?b.split(" "):[],this.vu=new Set(this.kg.map(c=>c.toLowerCase())))}m(){this.ti=null;d.D(this.kg);this.kg=null;this.vu.clear();this.vu=null}zh(){return this.ti}Aa(){return this.sc}Np(b){this.sc=b}sl(){return this.gi}ej(b){this.gi=b}Vj(){return this.hi}lk(b){this.hi=!!b}yM(b){this.kg=b?b.split(" "):[];this.vu=new Set(this.kg.map(f=>
f.toLowerCase()))}ga(){return{time:this.sc,ease:this.gi,enable:this.hi,tags:this.kg}}oa(b){b&&(this.sc=b.time,this.gi=b.ease,this.hi=b.enable,this.kg=b.tags,this.vu=new Set(this.kg.map(f=>f.toLowerCase())))}}d.TK=class{constructor(b,f){this.Jb=f;this.oc=[];d.Wf.$s(this.oc,b,a,this)}m(){this.Jb=null;for(const b of this.oc)b.m();d.D(this.oc);this.oc=null}TS(){const b=new a(null,this);this.oc.push(b);return b}tU(b){for(const f of this.oc){if(!b(f))continue;const c=this.oc.indexOf(f);-1!==c&&(f.m(),this.oc.splice(c,
1))}this.k1()}k1(){this.oc.sort((b,f)=>b.Aa()-f.Aa())}LW(b){return this.oc.indexOf(b)}KW(b){return this.oc[b]}*kS(){for(const b of this.oc)yield b}*vaa(){for(let b=this.oc.length-1;0<=b;b--)yield this.oc[b]}ga(){return{keyframeDataItemsJson:this.oc.map(b=>b.ga())}}oa(b){b&&d.Wf.kt(this.oc,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.zj=f;this.Hg=this.Xc=null;this.ra="";this.sc=NaN;this.gi="noease";this.hi=!1;this.Xh=null;b&&(this.Xc=b[0][0],this.Hg=b[0][1],this.ra=b[0][2],this.sc=b[1],this.gi=b[2],this.hi=!!b[3],this.Xh=null,b[4]&&(this.Xh=new d.eT(b[4],this)))}m(){this.zj=null;this.Xh&&(this.Xh.m(),this.Xh=null)}ie(){return this.Xc}Uf(b){"color"===this.ra&&d.zl(b)?(this.Xc[0]=d.bC(b),this.Xc[1]=d.TB(b),this.Xc[2]=d.GB(b)):this.Xc=b}ZL(b){"color"===this.ra&&d.zl(b)?(this.Hg[0]=
d.bC(b),this.Hg[1]=d.TB(b),this.Hg[2]=d.GB(b)):this.Hg=b}ac(){const b=this.zj.La.Bh();if("relative"===b)return this.ie();if("absolute"===b)return this.Hg}Yi(){return this.ra}AM(b){this.ra=b}Aa(){return this.sc}Np(b){this.sc=b}sl(){return this.gi}ej(b){this.gi=b}Vj(){return this.hi}lk(b){this.hi=!!b}DB(b){if(this.Xh)for(const f of this.Xh.w$())if(f.Ni()===b)return f}ga(){const b=this.Xh;return{addonDataJson:b?b.ga():b,value:this.Xc,aValue:this.Hg,type:this.ra,time:this.sc,ease:this.gi,enable:this.hi}}oa(b){b&&
(b.addonDataJson&&this.Xh.nja(b.addonDataJson),this.Xc=b.value,this.Hg=b.aValue,this.ra=b.type,this.sc=b.time,this.gi=b.ease,this.hi=b.enable)}}d.CL=class{constructor(b,f){this.La=f;this.pc=[];d.Wf.$s(this.pc,b,a,this)}m(){this.La=null;for(const b of this.pc)b.m();d.D(this.pc);this.pc=null}US(){const b=new a(null,this);this.pc.push(b);return b}vU(b){for(const f of this.pc){if(!b(f))continue;const c=this.pc.indexOf(f);-1!==c&&(f.m(),this.pc.splice(c,1))}this.l1()}l1(){this.pc.sort((b,f)=>b.Aa()-f.Aa())}*II(){for(const b of this.pc)yield b}*Oaa(){for(let b=
this.pc.length-1;0<=b;b--)yield this.pc[b]}ga(){return{propertyKeyframeDataItemsJson:this.pc.map(b=>b.ga())}}oa(b){b&&d.Wf.kt(this.pc,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(c,g){this.Xh=g;this.re=c[0];this.Ak=c[1]}m(){this.Ak=this.Xh=null}Ni(){return this.re}ga(){return{id:this.re,data:this.Ak}}oa(c){c&&(this.re=c.id,this.Ak=c.data)}}class b extends a{constructor(c,g){super(c,g);this.wH=this.Ak[0];this.Pu=!!this.Ak[1];this.CF=this.Ak[2];this.Ey=!!this.Ak[3]}m(){super.m()}ga(){return Object.assign(super.ga(),{startAnchor:this.wH,startEnable:!!this.Pu,endAnchor:this.CF,endEnable:!!this.Ey})}oa(c){c&&(super.oa(c),this.wH=
c.startAnchor,this.Pu=!!c.startEnable,this.CF=c.endAnchor,this.Ey=!!c.endEnable)}}class f extends a{constructor(c,g){super(c,g);this.wF=this.Ak[0];this.kH=this.Ak[1]}m(){super.m()}ga(){return Object.assign(super.ga(),{direction:this.wF,revolutions:this.kH})}oa(c){c&&(super.oa(c),this.wF=c.direction,this.kH=c.revolutions)}}d.eT=class{constructor(c){this.Jn=[];d.Wf.$s(this.Jn,c,{uS:0,map:new Map([["cubic-bezier",b],["angle",f]])},this)}m(){for(const c of this.Jn)c.m();d.D(this.Jn);this.Jn=null}*w$(){for(const c of this.Jn)yield c}ga(){return{addonDataItemsJson:this.Jn.map(c=>
c.ga())}}oa(c){c&&d.Wf.kt(this.Jn,c.addonDataItemsJson,{uS:"id",map:new Map([["cubic-bezier",b],["angle",f]])},this)}}}
{"use strict";const d=self.B;let a=0;d.B1=class extends d.yd{constructor(b,f){super(`tween-${a++}`,b,f);this.re="";this.DP=!1;this.$F="start-value";this.aR=this.$Q=null}za(){var b=this.Cb;if(b&&b.length&&(b=b[0])){var f=b.za();return b.fk()?f:null}}Ni(){return this.re}sL(){if(this.aR)for(const b of this.aR)b(this);if(!this.xf)for(const b of this.Cb)b.rh()}iL(){this.fq=this.g.Bj}KJ(){if(!this.Zn&&(this.Zn=!0,this.$Q))for(const b of this.$Q)b(this)}Np(b){this.nN();super.Np(b)}Sc(b){if(!this.cm&&"current-state"===
this.$F)for(const f of this.Cb)f.qh();super.Sc(b)}Fg(b=!1){super.Fg(b);if(!this.xf)for(const f of this.Cb)f.yn()}ad(b=!0,f=!1){this.nN();super.ad(b,f)}nN(){for(const b of this.Cb){const f=c=>{c=c.Aa();const g=this.kd();return 0!==c&&c!==g};b.uU(f);b.vB(f)}}Lx(){if(this.Yg)return!0;const b=this.za();if(b&&b.G().Qf())return!1;this.tb.Xv(this);this.SL();return!0}bL(){}me(){const b=this.za();super.me(this.H().gs(b),1)}ga(){const b=super.ga();return Object.assign(b,{tweenDataItemJson:this.ve.ga(),id:this.re,
destroyInstanceOnComplete:this.DP,initialValueMode:this.$F})}oa(b){b&&(this.ve.oa(b.tweenDataItemJson),super.oa(b),this.re=b.id,this.DP=b.destroyInstanceOnComplete,this.$F=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B,a=self.Pr;d.MM=class extends d.ca{constructor(b){super();this.Ba=b[0];this.dh=[];for(const f of b[1])b=d.NM.Ma(this,f),this.dh.push(b);this.Fu=new Map;this.pA=new Map;this.u6();a.SS(this.Ba,(f,c,g,n)=>this.gb(f,c,g,n))}static Ma(b){return d.A(d.MM,b)}m(){for(const b of this.dh)b.m();d.D(this.dh);this.dh=null;this.Fu.clear();this.Fu=null;this.pA.clear();this.pA=null}hX(b){const f=this.pA.get(b);if(f)return f;for(const c of this.dh)if(c.xe===b)return this.pA.set(b,c),c}vW(b){for(const f of this.dh)if(f.xe>
b)return f}uW(b){for(const f of this.dh)if(f.xe>=b)return f}wW(b){for(let f=this.dh.length-1;0<=f;f--){const c=this.dh[f];if(c.xe<=b)return c}}gb(b,f,c,g){var n=b/g;(b=this.hX(n))?g=this.vW(n):(b=this.wW(n),g=this.uW(n));n=d.Caa(n,b.xe,g.xe,g.xe-b.xe);const h=b.xe,l=b.gv,m=b.xe+b.AR,p=b.gv+b.m$,u=g.xe+g.IP,q=g.gv+g.u9,v=g.xe;g=g.gv;g=a.$m("spline")(n,h,l,m,p,u,q,v,g,this.Fu.get(b));g+=b.gv;return(1-g)*f+g*(f+c)}u6(){this.Fu.clear();for(let f=0;f<this.dh.length-1;f++){var b=this.dh[f];if(!b.Pu)continue;
const c=this.dh[f+1];this.Fu.set(b,a.XV(b.xe,b.xe+b.AR,c.xe+c.IP,c.xe))}}}}{"use strict";const d=self.B;d.NM=class extends d.ca{constructor(a,b){super();this.xe=b[0];this.gv=b[1];this.AR=b[2];this.m$=b[3];this.IP=b[4];this.u9=b[5];this.Pu=b[6];this.Ey=b[7]}m(){}static Ma(a,b){return d.A(d.NM,a,b)}}}{"use strict";const d=self.B;d.z1=class extends d.ca{constructor(a){super();this.g=a;this.qA=[]}m(){for(const a of this.qA)a.m();d.D(this.qA);this.qA=null}Ma(a){this.qA.push(d.MM.Ma(a))}}}
{"use strict";const d=self.B;d.j1=class extends d.ca{constructor(a){super();this.I=a;this.cb=[];this.cb.push(d.A(d.uD,this));this.Oa=0;this.ci=this.cb[0]}m(){for(const a of this.cb)a.m();d.D(this.cb);this.I=this.ci=null}G(){return this.I}P(){return this.ci}Hc(){this.P().Hc()}s_(){var a=this.cb,b=++this.Oa;b===a.length?(b=d.A(d.uD,this),a.push(b),this.ci=b):(a=a[b],a.ad(),this.ci=a)}t_(){const a=this.cb,b=++this.Oa;b===a.length&&a.push(d.A(d.uD,this));const f=a[b];f.ZT(a[b-1]);this.ci=f}Ha(){this.ci=
this.cb[--this.Oa]}xn(a){const b=this.cb;for(let f=0,c=b.length;f<c;++f)b[f].xn(a)}}}
{"use strict";const d=self.B;d.uD=class extends d.ca{constructor(a){super();this.cb=a;this.I=this.cb.G();this.qd=this.I.H().Ic();this.Ib=!0;this.F=[];this.Ub=[]}m(){this.Tv();this.qd=this.I=this.cb=null}Tv(){d.D(this.F);d.D(this.Ub)}G(){return this.I}jC(){return this.Ib?!!this.I.F.length:!!this.F.length}fa(){return this.Ib?this.I.fa():this.F}qX(){return!!this.Ub.length}OB(){const a=this.fa();return a.length?a:this.Ub}ad(){this.Ib=!0;d.D(this.Ub)}Hc(){this.Ib=!0}ZT(a){a.Ib?this.ad():(this.Ib=!1,d.Oc(this.F,
a.F),d.D(this.Ub))}Fn(a){this.F.push(a)}Rl(a){this.Ub.push(a)}Kd(a){this.Ib=!!a}fj(a){this.Ib=!1;d.D(this.F);this.F.push(a)}Js(a){this.Ib=!1;d.Oc(this.F,a)}Ss(a){this.Ib=!1;d.D(this.F);for(const b of a)this.F.push(b)}aJ(a,b){for(const f of b)a.has(f)||this.Ub.push(f)}x1(a){for(const b of a)this.F.push(b);d.pg(this.Ub,a)}El(a){a&&(this.qd.Fe().ub().sd?(this.Ib&&(d.D(this.F),d.Oc(this.Ub,a.G().fa()),this.Ib=!1),a=this.Ub.indexOf(a),-1!==a&&(this.F.push(this.Ub[a]),this.Ub.splice(a,1))):this.fj(a))}xn(a){d.pg(this.F,
a);d.pg(this.Ub,a)}}}
{"use strict";const d=self.B;d.HV=class extends d.ca{constructor(a){super();this.qa=a;this.g=this.qa.H();this.cb=[];this.cb.push(d.A(d.HJ,this,null));this.Oa=0;this.Gy=[]}m(){for(const a of this.cb)a.m();d.D(this.cb);d.D(this.Gy);this.g=this.qa=null}ea(){return this.qa}H(){return this.g}Fe(){return this.cb[this.Oa]}Ia(a){var b=this.cb;const f=++this.Oa;if(f===b.length)return a=d.A(d.HJ,this,a),b.push(a),a;b=b[f];b.ad(a);return b}Ha(){--this.Oa}u_(a){this.Gy.push(a)}m_(){this.Gy.pop()}dW(){const a=this.Gy;
return 0===a.length?null:a.Wd(-1)}}}
{"use strict";const d=self.B;d.HJ=class extends d.ca{constructor(a,b){super();this.cb=a;this.g=this.cb.H();this.Mt=b;this.wf=this.yk=0;this.BF=this.no=!1;this.GF=null;this.NF=this.TP=0}m(){this.ad(null);this.g=this.cb=null}ad(a){this.Mt=a;this.wf=this.yk=0;this.BF=this.no=!1}uE(a,b){this.Mt=a;this.yk=0;this.wf=b}TL(){this.wf=this.yk=0}ub(){return this.Mt}Tf(a){this.Mt=a}Il(a){this.yk=a}hx(a){this.wf=a}Ml(a){this.no=!!a}Gp(a){this.BF=!!a}t0(a){this.GF=a}VX(a,b){this.TP=a;this.NF=b}mx(a){this.NF=a}aj(){const a=
this.Mt;return a.pz?!0:this.yk<a.Mb.length-1?!!a.Yc().length:!1}}}{"use strict";const d=self.B;d.kZ=class extends d.ca{constructor(a){super();this.qa=a;this.g=this.qa.H();this.cb=[];this.Oa=-1;this.ci=null;this.Yy=[]}m(){d.D(this.cb);this.g=this.qa=null}X7(a){this.Yy=a;a=this.Yy.slice(0);this.cb.push(a);this.Oa=0;this.ci=a}ea(){return this.qa}H(){return this.g}bp(){return this.ci}Ia(){const a=++this.Oa,b=this.cb;a===b.length?b.push(this.Yy.slice(0)):d.Oc(b[a],this.Yy);this.ci=b[a]}Ha(){this.ci=this.cb[--this.Oa]}}}
{"use strict";const d=self.B;d.mZ=class extends d.ca{constructor(a){super();this.qa=a;this.g=this.qa.H();this.cb=[];this.Oa=-1}m(){d.D(this.cb);this.g=this.qa=null}ea(){return this.qa}H(){return this.g}MK(){return 0<=this.Oa}bp(){return this.cb[this.Oa]}Ia(){++this.Oa;if(this.Oa===this.cb.length){var a=d.A(d.lZ,this);this.cb.push(a);return a}a=this.cb[this.Oa];a.ad();return a}Ha(){--this.Oa}MV(a){const b=this.cb;for(let f=this.Oa;0<=f;--f){const c=b[f];if(c.wa()===a)return c}return null}}}
{"use strict";const d=self.B;d.lZ=class extends d.ca{constructor(a){super();this.Ue=a;this.Ba="";this.Oa=0;this.cc=!1}ad(){this.Ba="";this.Oa=0;this.cc=!1}nx(a){this.Ba=a}wa(){return this.Ba}kc(a){this.Oa=a}Ca(){return this.Oa}Fg(){this.cc=!0}}}{"use strict";const d=self.B;d.lT=class extends d.ca{constructor(){super();this.cb=[];this.Oa=-1}m(){d.D(this.cb)}bp(){return this.cb[this.Oa]}Ia(){++this.Oa;if(this.Oa===this.cb.length){const a=[];this.cb.push(a);return a}return this.cb[this.Oa]}Ha(){--this.Oa}}}
{"use strict";const d=self.B;function a(b,f){return b.Ca()-f.Ca()}d.GV=class extends d.ca{constructor(b){super();this.g=b;this.zt=[];this.oH=new Map;this.XE=[];this.XP=new Map;this.kF=new Map;this.qF=new Map;this.by=new Map;this.qP=new Map;this.EF=new Map;this.a$=0;this.WE=[];this.W8=[];this.NQ=[];this.LF=new Map;this.qd=d.A(d.HV,this);this.Uc=d.A(d.kZ,this);this.Ue=d.A(d.mZ,this);this.GH=[];this.Wz=[];this.Vz=[];this.jF=this.Ck=this.Xk=0;this.Ef=[];this.iy=[];self.c3_callFunction=(f,c)=>this.Kx(f,
c)}m(){this.Sv();this.qd.m();this.qd=null;this.Uc.m();this.Uc=null;d.D(this.Wz);d.D(this.Vz);this.g=null;d.D(this.zt);this.oH.clear()}Ma(b){b=d.A(d.FV,this,b);this.zt.push(b);this.oH.set(b.wa().toLowerCase(),b)}o2(b){this.GH.push(b)}Bb(){for(const b of this.LF.values())b.Bb(!1);for(const b of this.zt)b.Bb();for(const b of this.zt)b.IE();for(const b of this.GH)b.Bb(!1);d.D(this.GH);this.Uc.X7(this.NQ)}H(){return this.g}WJ(b){return this.oH.get(b.toLowerCase())||null}G6(b){this.XE.push(b);this.XP.set(b.WP,
b)}D6(b){this.kF.set(b.ab,b)}C6(b){this.qF.set(b.ab,b)}B6(b){this.by.set(b.ab,b)}F6(b){this.LF.set(b.Qy.toLowerCase(),b)}E6(b){this.EF.set(b.ab,b);b.Qf()?this.WE.push(b):this.W8.push(b)}Bx(b){2<=b.length&&b.sort(a);let f=this.qP.get(b.length);f||(f=[],this.qP.set(b.length,f));for(let g=0,n=f.length;g<n;++g){const h=f[g];a:{for(let l=0,m=b.length;l<m;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}f.push(b);return b}x4(b){this.NQ.push(b.eo);return this.a$++}Ic(){return this.qd}Ee(){return this.Ic().Fe()}ub(){return this.Ee().ub()}hf(){const b=
this.Ee();return b.ub().SJ(b.yk)}cs(){const b=this.Ee();return b.ub().OJ(b.wf)}UV(b){const f=[];for(b=b.kp();b;)d.Fm(f,b.BN()),b=b.kp();return f}LN(b){const f={};for(const c of this.UV(b))f[c.yh()]=c.NN();return Object.create(Object.prototype,f)}NB(b){return this.EF.get(b)||null}iW(b){return this.kF.get(b)||null}SV(b){return this.by.get(b)||null}ww(b){return this.LF.get(b.toLowerCase())||null}O_(){for(const b of this.WE)b.T_()}VJ(b){return this.XP.get(b.toLowerCase())||null}jW(b){return(b=this.kF.get(b))&&
b.ri?b:null}P_(){for(const b of this.XE)b.Q_()}FO(){for(const b of this.zt)b.U6()}Y_(b){this.FO();this.Xk++;for(const f of b.Ev())if(b=f.Bc)this.g.Gs(f),b.ma(),this.g.Es();this.Xk--}async oU(b){this.FO();this.Xk++;for(const f of this.n3(b))await this.g.Xo(f);this.Xk--}*n3(b){for(const f of b.Ev())if(b=f.Bc)this.g.Gs(f),yield*b.fb(),this.g.Es()}xt(b,f,c,g){let n=!1;if(!b.Db())return this.PC(f,c,g);this.Ck++;for(const h of b.Ev())if(b=h.Bc){this.g.Gs(h);for(const l of b.xy){const m=l.xt(f,c,g);n=n||
m}b=b.xt(f,c,g);n=n||b;this.g.Es()}this.Ck--;return n}*ct(b,f,c,g){let n=!1;if(!b.Db())return this.PC(f,c,g);this.Ck++;for(const h of b.Ev())if(b=h.Bc){this.g.Gs(h);for(const l of b.xy){const m=yield*l.ct(f,c,g);n=n||m}b=yield*b.ct(f,c,g);n=n||b;this.g.Es()}this.Ck--;return n}PC(b,f,c){this.Wz.push([b,f,c]);return!1}x_(b,f,c){let g=null;const n=new Promise(h=>g=h);this.Vz.push([b,f,c,g]);return n}*e7(){if(this.g.ts())throw Error("should not be in breakpoint");const b=this.g.Za;for(;this.Vz.length;){const [f,
c,g,n]=this.Vz.shift(),h=yield*this.ct(b,f,c,g);n(h)}}async VL(){for(const b of this.e7())await this.g.Xo(b)}AC(){return 0<this.Ck}it(){return++this.Ck}dt(){--this.Ck}QY(){return 0<this.Xk}Uw(){return this.QY()||this.AC()}f7(b){for(const [f,c,g]of this.Wz)this.xt(b,f,c,g);d.D(this.Wz)}Zd(b){b?this.jF++:this.jF--}LK(){return 0<this.jF}Wo(b){for(let f=0,c=b.length;f<c;++f)b[f].om.Hc()}Rf(b){for(let f=0,c=b.length;f<c;++f)b[f].om.s_()}ke(b){for(let f=0,c=b.length;f<c;++f)b[f].om.t_()}zb(b){for(let f=
0,c=b.length;f<c;++f)b[f].om.Ha()}dB(){const b=d.A(d.bD,this);this.Ef.push(b);return b}$_(){if(this.Ef.length){var b=this.Ee(),f=!1;this.Xk++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.cP()&&n.W6(b);n.Mu&&(f=!0)}f&&this.yN();this.Xk--}}async qU(){if(this.Ef.length){var b=this.Ee(),f=!1;this.Xk++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.cP()&&await n.h3(b);n.Mu&&(f=!0)}f&&this.yN();this.Xk--}}yN(){const b=d.E$(this.Ef,f=>f.Mu);for(const f of b)f.m()}Sv(){for(const b of this.Ef)b.m();
d.D(this.Ef)}F_(b){for(const f of this.Ef)f.xn(b)}bB(b){this.iy.push(b)}Uv(){d.D(this.iy)}$W(){const b=Promise.all(this.iy);this.iy=[];return b}ga(){return{groups:this.m7(),cnds:this.l7(),acts:this.k7(),vars:this.x7(),waits:this.t7()}}oa(b){this.o5(b.groups);this.j5(b.cnds);this.i5(b.acts);this.A5(b.vars);this.w5(b.waits)}m7(){const b={};for(const f of this.XE)b[f.ab.toString()]=f.np();return b}o5(b){for(const [f,c]of Object.entries(b))(b=this.jW(parseInt(f,10)))&&b.Hp(c)}l7(){const b={};for(const [f,
c]of this.qF){const g=c.ga();g&&(b[f.toString()]=g)}return b}j5(b){const f=new Map;for(const [c,g]of Object.entries(b))f.set(parseInt(c,10),g);for(const [c,g]of this.qF)g.oa(f.get(c)||null)}k7(){const b={};for(const [f,c]of this.by){const g=c.ga();g&&(b[f.toString()]=g)}return b}i5(b){const f=new Map;for(const [c,g]of Object.entries(b))f.set(parseInt(c,10),g);for(const [c,g]of this.by)g.oa(f.get(c)||null)}x7(){const b={};for(const [f,c]of this.EF)c.kb||!c.Qf()&&!c.Sg||(b[f.toString()]=c.ie());return b}A5(b){for(const [f,
c]of Object.entries(b))(b=this.NB(parseInt(f,10)))&&b.Uf(c)}t7(){return this.Ef.filter(b=>!b.OY()).map(b=>b.ga())}w5(b){this.Sv();for(const f of b)(b=d.bD.L2(this,f))&&this.Ef.push(b)}BB(b){for(;b;)if(b=b.kp(),b instanceof d.Wr)return b;return null}Kx(b,f){Array.isArray(f)||(f=[]);b=this.ww(b.toLowerCase());if(!b)return null;if(!b.nn())return b.es();var c=b.bg;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].eo);while(f.length<c.length)}c=b.ee();return c.ZC(c.Zc(),b.Vk,b.es(),...f)}}}
{"use strict";const d=self.B;d.FV=class extends d.ca{constructor(a,b){super();this.qa=a;this.g=a.H();this.Ba=b[0];this.Fy=[];this.tA=new Map;this.OP=new Map;this.v9=new Map;this.Yt=!1;this.sR=[];this.xy=[];this.rP=new Set;for(const f of b[1])this.kN(f,null,this.Fy);this.yi=this.g.rb?{type:"sheet",name:this.Ba,Gv:0,children:[]}:null}m(){this.g=this.qa=null}kN(a,b,f){switch(a[0]){case 0:case 3:this.J2(a,b,f);break;case 1:this.K2(a,b,f);break;case 2:this.O2(a,b,f);break;case 4:this.M2(a,b);break;case 5:this.T2(a,
b,f);break;default:throw Error("invalid event type");}}J2(a,b,f){a=d.Qj.Ma(this,b,a);if(a.sd){f.push(a);f=a.Mb;for(let c=0,g=f.length;c<g;++c)f[c].rn()&&this.YN(a,c)}else a.rn()?this.YN(a,0):f.push(a)}M2(a,b){a=d.Wr.Ma(this,b,a);this.qa.F6(a)}K2(a,b,f){a=d.fw.Ma(this,b,a);f.push(a)}O2(a,b,f){a=d.GJ.Ma(this,b,a);f.push(a)}T2(a,b,f){a=d.ew.Ma(this,b,a);f.push(a)}YN(a,b){a.sd||this.qa.o2(a);var f=a.SJ(b),c=f.Da,g=f.G();if(f.qQ){var n=this.OP.get(g);n||(n=new Map,this.OP.set(g,n));f=f.nW().toLowerCase();
g=n.get(c);g||(g=new Map,n.set(c,g));c=g.get(f);c||(c=[],g.set(f,c));c.push([a,b])}else n=this.tA.get(g),n||(n={uI:new Map,mv:new Map},this.tA.set(g,n)),(g=f.wg())?(f=n.mv.get(g),f||(f=new Map,n.mv.set(g,f))):f=n.uI,n=f.get(c),n||(n=[],f.set(c,n)),n.push([a,b])}Bb(){const a=this.Fy;for(let b=0,f=a.length;b<f;++b)a[b].Bb(b<f-1&&a[b+1]instanceof d.Qj&&a[b+1].Tw())}n2(a){this.sR.push(a)}IE(){d.D(this.xy);this.WM(this);this.rP.clear()}WM(a){const b=a.xy,f=a.rP;for(const c of this.sR){const g=c.cu;c.xb&&
a!==g&&!f.has(g)&&(f.add(g),g.WM(a),b.push(g))}}ea(){return this.qa}H(){return this.g}wa(){return this.Ba}AO(a,b){this.v9.set(b,a)}U6(){this.Yt=!1}ma(){if(!this.Yt){var a=this.g,b=a.tC(),f=b?performance.now():0;this.Yt=!0;var c=this.ea(),g=c.Ee();for(const n of this.Fy)n.ma(g),c.Wo(n.Yc()),c.Uv(),a.wd();g.ad(null);b&&(this.yi.Gv+=performance.now()-f)}}*fb(){if(!this.Yt){this.Yt=!0;var a=this.g,b=this.ea(),f=b.Ee();for(const c of this.Fy)yield*c.fb(f),b.Wo(c.Yc()),b.Uv(),a.wd();f.ad(null)}}xt(a,b,
f){if(b){const c=b.G();this.GE(a,b,c,f);for(const g of c.Og)this.GE(a,b,g,f)}else return this.GE(a,b,null,null)}GE(a,b,f,c){f=this.tA.get(f);if(!f)return!1;c=c?f.mv.get(c):f.uI;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,n]of c)c=this.xN(b,g,n),a=a||c;return a}*ct(a,b,f){if(b){const c=b.G();yield*this.UD(a,b,c,f);for(const g of c.Og)yield*this.UD(a,b,g,f)}else return yield*this.UD(a,b,null,null)}*UD(a,b,f,c){f=this.tA.get(f);if(!f)return!1;c=c?f.mv.get(c):f.uI;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,n]of c)c=g.$d()?this.xN(b,g,n):yield*this.a3(b,g,n),a=a||c;return a}xN(a,b,f){const c=this.g,g=this.qa,n=g.ub(),h=g.Ic(),l=g.Ck;let m=!1;n&&g.Rf(n.Zc());g.Rf(b.Zc());const p=1<l;p&&g.Uc.Ia();const u=h.Ia(b);a&&(b.Mb[f].G().P().fj(a),a.Lb()&&a.Lh());a=!0;if(b.ya()){const q=b.Io;for(let v=0,t=q.length;v<t;++v)if(!q[v].UL(u)){a=!1;break}}a&&(c.ek(),b.sd?b.Z_(u,f):b.ma(u),m=u.no);h.Ha();p&&g.Uc.Ha();g.zb(b.Zc());n&&g.zb(n.Zc());n||1!==l||(g.Uv(),g.LK()||c.wd());return m}*a3(a,
b,f){const c=this.g,g=this.qa,n=g.ub(),h=g.Ic(),l=g.Ck;let m=!1;n&&g.Rf(n.Zc());g.Rf(b.Zc());const p=1<l;p&&g.Uc.Ia();const u=h.Ia(b);a&&(b.Mb[f].G().P().fj(a),a.Lb()&&a.Lh());a=!0;if(b.ya()){const q=b.Io;for(let v=0,t=q.length;v<t;++v)if(!(yield*q[v].zJ(u))){a=!1;break}}a&&(c.ek(),b.sd?yield*b.pU(u,f):yield*b.fb(u),m=u.no);h.Ha();p&&g.Uc.Ha();g.zb(b.Zc());n&&g.zb(n.Zc());n||1!==l||(g.Uv(),g.LK()||c.wd());return m}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*f(){return!0}d.Qj=class extends d.ca{constructor(c,g,n){super();this.Bc=c;this.g=c.H();this.fc=g;this.Dd=null;this.qd=this.g.ea().Ic();this.te=[];this.Uq=[];this.Vt=this.rz=this.pz=this.bQ=!1;this.sd=!!n[2];this.ez=!1;this.Io=null;this.Mb=[];this.Yf=[];this.bh=[];this.Vh=b;this.Cn=f;this.mG=this.ri=!1;this.WP="";this.gz=!1;this.yi=this.vy=null;this.ab=n[4];this.mq=n[5];this.Bc.AO(this,this.mq);this.Ja=this.g.rb?{Gc:n[3][0],pI:n[3][1],
VR:!1,$H:!1,aI:!1,WR:!1}:null;this.ea().D6(this);3===n[0]&&this.Q4(n[1]);c=0;for(var h of n[6])g=d.rJ.Ma(this,h,c++),this.Mb.push(g),this.aN(g.G());c=0;for(const l of n[7])h=d.Lv.Ma(this,l,c++),this.Yf.push(h);if(9===n.length){n=n[8];for(const l of n)this.Bc.kN(l,this,this.bh)}this.Mb.length&&(this.ez=null===this.Mb[0].G()&&this.Mb[0].Da===d.C.Na.J.FJ);0===this.Mb.length&&(this.Mb=a);0===this.Yf.length&&(this.Yf=a);0===this.bh.length&&(this.bh=a)}static Ma(c,g,n){return d.A(d.Qj,c,g,n)}Q4(c){this.ri=
!0;this.gz=this.mG=!!c[0];this.WP=c[1].toLowerCase();this.vy=[];this.ea().G6(this);this.g.rb&&(this.yi={type:"group",name:c[1],Gv:0,children:[]})}f2(c){this.vy.push(c)}VM(c,g){for(const n of c.$f.Rk)g.includes(n)||g.push(n)}bN(c,g){if(c)if(g.includes(c)||g.push(c),c.Ta)for(const n of c.Yn)n.Lb()&&this.VM(n,g);else c.Lb()&&this.VM(c,g)}aN(c){this.bN(c,this.te)}j2(c){this.bN(c,this.Uq)}f0(){this.te=this.g.yc}Bb(c){this.Vt=!!c;this.K4();this.L4();for(const n of this.Mb)n.Bb();if(0<this.Yf.length){c=
!1;for(var g of this.Yf)g.Bb(),g.yX()&&(c=!0);c?(this.Vh=this.Y6,this.Cn=this.j3):(this.Vh=this.X6,this.Cn=this.i3)}g=this.bh;for(let n=0,h=g.length;n<h;++n)g[n].Bb(n<h-1&&g[n+1]instanceof d.Qj&&g[n+1].Tw());this.Ja&&this.D8();this.yi&&this.y4().yi.children.push(this.yi)}y4(){let c=this.ya();for(;c;){if(c.ri)return c;c=c.ya()}return this.Bc}D8(){const c=this.Ja;c.VR=this.Mb.every(g=>g.$d());c.$H=this.Yf.every(g=>g.$d());c.aI=this.bh.every(g=>g.$d());c.WR=c.VR&&c.$H&&c.aI}K4(){if(this.ri){var c=this.ya();
for(this.rz=!0;c;){if(!c.ri){this.rz=!1;break}c=c.ya()}}}J4(){var c=this.g.yc;if(this.te===c)this.Uq=c;else{this.Uq=d.cI(this.te);for(c=this.ya();c;){for(var g of c.te)this.j2(g);c=c.ya()}g=this.ea();this.te=g.Bx(this.te);this.Uq=g.Bx(this.Uq)}}L4(){if(this.rX()){this.Io=[];for(var c=this.ya();c;)this.Io.push(c),c=c.ya();this.Io.reverse()}}Ts(){this.pz=!0;this.fc&&this.fc.Ts()}Yc(){return this.te}Zc(){this.bQ||(this.bQ=!0,this.J4());return this.Uq}AX(c){return this.te.includes(c)}ea(){return this.Bc.ea()}H(){return this.g}ya(){return this.fc}d8(c){this.Dd=
c}kp(){return this.Dd||this.fc}uC(){return this.Ja&&this.Ja.pI}ln(){return this.uC()&&this.Ja.Gc}Tw(){return this.ez}np(){return this.gz}Q_(){this.Hp(this.mG)}Hp(c){c=!!c;if(!this.ri)throw Error("not a group");if(this.gz!==c){this.gz=c;for(const g of this.vy)g.OM();this.vy.length&&(c=this.g.Ga().Bc)&&c.IE()}}rn(){return this.Mb.length&&this.Mb[0].rn()}JY(){return this.Dd&&this.Dd instanceof d.Wr}rX(){return this.JY()||this.Mb.some(c=>c.rn())}SJ(c){c=Math.floor(c);if(0>c||c>=this.Mb.length)throw new RangeError("invalid condition index");
return this.Mb[c]}IY(c){let g=c.Ca();if(0===g)return!0;for(--g;0<=g;--g)if(this.Mb[g].G()===c.G())return!1;return!0}OJ(c){c=Math.floor(c);if(0>c||c>=this.Yf.length)throw new RangeError("invalid action index");return this.Yf[c]}I4(c){c=Math.floor(c);return 0<=c&&c<this.Yf.length}BN(){return this.bh.filter(c=>c instanceof d.fw)}UL(c){c.Tf(this);let g=!1;const n=this.Mb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.Il(h);if(m.iz)throw Error("trigger cannot be used as sub-event to a loop");if(m.ma())g=
!0;else if(!this.sd)return!1}return this.sd?g:!0}Z_(c,g){c.Tf(this);this.Mb[g].ma()&&(this.Vh(c,0)&&this.uk(),c.Ml(!0))}*zJ(c){c.Tf(this);let g=!1;const n=this.Mb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.Il(h);if(m.iz)throw Error("trigger cannot be used as sub-event to a loop");if(m.$d()?m.ma():yield*m.fb())g=!0;else if(!this.sd)return!1}return this.sd?g:!0}*pU(c,g){c.Tf(this);g=this.Mb[g];if(g.$d()?g.ma():yield*g.fb())(this.aw()?this.Vh(c,0):yield*this.Cn(c,0))&&(this.bw()?this.uk():yield*this.bt()),
c.Ml(!0)}ma(c){c.Tf(this);this.ez||c.Gp(!1);this.sd?this.d7(c):this.Qx(c)}*fb(c){if(this.ln()||this.g.Yb())yield this;c.Tf(this);this.ez||c.Gp(!1);this.sd?yield*this.u3(c):yield*this.RD(c)}d7(c){const g=this.Mb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.rn()||(c.Il(l),h=h.ma(),n=n||h)}c.Ml(n);n&&(this.Vh(c,0)&&this.uk(),this.Vt&&c.Gp(!0))}*u3(c){const g=this.Mb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.rn()||(c.Il(l),h=h.$d()?h.ma():yield*h.fb(),n=n||h)}c.Ml(n);
n&&((this.aw()?this.Vh(c,0):yield*this.Cn(c,0))&&(this.bw()?this.uk():yield*this.bt()),this.Vt&&c.Gp(!0))}Qx(c){const g=this.Mb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.Il(n);if(!l.ma()){c.Ml(!1);return}}c.Ml(!0);this.Vh(c,0)&&this.uk();c.no&&this.Vt&&c.Gp(!0)}*RD(c){const g=this.Mb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.Il(n);if(l.$d()?!l.ma():!(yield*l.fb())){c.Ml(!1);return}}c.Ml(!0);(this.aw()?this.Vh(c,0):yield*this.Cn(c,0))&&(this.bw()?this.uk():yield*this.bt());c.no&&this.Vt&&
c.Gp(!0)}X6(c,g){const n=this.Yf;for(let h=g,l=n.length;h<l;++h)g=n[h],c.hx(h),g.ma();return!0}*i3(c,g){const n=this.Yf;for(let h=g,l=n.length;h<l;++h)g=n[h],c.hx(h),g.$d()?g.ma():yield*g.fb();return!0}Y6(c,g){const n=this.ea(),h=this.Yf;for(let l=g,m=h.length;l<m;++l){g=h[l];c.hx(l);const p=g.ma();if(g.kJ()&&!0===p)return!1;g.Pf()&&p instanceof Promise&&n.bB(p)}return!0}*j3(c,g){const n=this.ea(),h=this.Yf;for(let l=g,m=h.length;l<m;++l){g=h[l];c.hx(l);let p;p=g.$d()?g.ma():yield*g.fb();if(g.kJ()&&
!0===p)return!1;g.Pf()&&p instanceof Promise&&n.bB(p)}return!0}V6(c){this.Vh(c,c.wf)&&this.uk()}*g3(c){if(yield*this.Cn(c,c.wf))yield*this.bt()}uk(){if(this.bh.length){var c=this.ri&&this.g.tC(),g=c?performance.now():0,n=this.qd,h=n.Ia(this);this.pz?this.i7(h):this.h7(h);n.Ha();c&&(this.yi.Gv+=performance.now()-g)}}i7(c){const g=this.ri,n=this.rz,h=this.ea(),l=this.bh;for(let m=0,p=l.length,u=p-1;m<p;++m){const q=l[m],v=q.Yc(),t=!n||!g&&m<u;t&&h.ke(v);q.ma(c);t?h.zb(v):h.Wo(v)}}h7(c){const g=this.bh;
for(let n=0,h=g.length;n<h;++n)g[n].ma(c)}*bt(){if(this.bh.length){var c=this.qd,g=c.Ia(this);this.pz?yield*this.x3(g):yield*this.w3(g);c.Ha()}}*x3(c){const g=this.ri,n=this.rz,h=this.ea(),l=this.bh;for(let m=0,p=l.length,u=p-1;m<p;++m){const q=l[m],v=q.Yc(),t=!n||!g&&m<u;t&&h.ke(v);yield*q.fb(c);t?h.zb(v):h.Wo(v)}}*w3(c){const g=this.bh;for(let n=0,h=g.length;n<h;++n)yield*g[n].fb(c)}Sf(c,g){this.g.ek();g.TL();const n=this.Mb;if(!this.sd)for(let h=c.yk+1,l=n.length;h<l;++h)if(c=n[h],g.Il(h),!c.ma())return!1;
this.Vh(g,0)&&this.uk();return!0}*Jf(c,g){this.g.ek();g.TL();const n=this.Mb;if(!this.sd)for(let h=c.yk+1,l=n.length;h<l;++h)if(c=n[h],g.Il(h),c.$d()?!c.ma():!(yield*c.fb()))return!1;(this.aw()?this.Vh(g,0):yield*this.Cn(g,0))&&(this.bw()?this.uk():yield*this.bt());return!0}$d(){return!this.ln()&&!this.g.Yb()&&this.Ja.WR}aw(){return!this.g.Yb()&&this.Ja.$H}bw(){return!this.g.Yb()&&this.Ja.aI}KD(c){if(this.ya()){const g=this.Io;for(let n=0,h=g.length;n<h;++n)if(!g[n].UL(c))return!1}return!0}*lN(c){if(this.ya()){const g=
this.Io;for(let n=0,h=g.length;n<h;++n)if(!(yield*g[n].zJ(c)))return!1}return!0}wN(c,g,n){0<g.length?n?(g=g.map(h=>h.X(0)),c.Uc.Ia(),this.Dd.Ns(g)):this.Dd.EV(g):n&&c.Uc.Ia()}W_(c,g){let n,h;const l=0<c.length;var m=this.g;const p=this.qd,u=m.ea(),q=1<u.it();this.wN(u,g,q);l&&u.Rf(c);g=p.Ia(this);this.KD(g)&&(m.ek(),g.Tf(this),(m=this.Dd.Pf())&&([h,n]=this.Dd.xD()),this.Qx(g),m&&this.Dd.Cs(h));p.Ha();q&&u.Uc.Ha();l&&u.zb(c);u.dt();return n}*mU(c,g){let n,h;if(this.ln()||this.g.Yb())yield this;const l=
0<c.length;var m=this.g;const p=this.qd,u=m.ea(),q=1<u.it();this.wN(u,g,q);l&&u.Rf(c);g=p.Ia(this);if(yield*this.lN(g))m.ek(),g.Tf(this),(m=this.Dd.Pf())&&([h,n]=this.Dd.xD()),yield*this.RD(g),m&&this.Dd.Cs(h);p.Ha();q&&u.Uc.Ha();l&&u.zb(c);u.dt();return n}X_(c){const g=this.Zc(),n=0<g.length,h=this.g,l=this.qd,m=h.ea(),p=1<m.it();p&&m.Uc.Ia();this.Dd.Ns(c);n&&m.Rf(g);c=l.Ia(this);this.KD(c)&&(h.ek(),c.Tf(this),this.Qx(c));l.Ha();p&&m.Uc.Ha();n&&m.zb(g);m.dt()}*nU(c){if(this.ln()||this.g.Yb())yield this;
const g=this.Zc(),n=0<g.length,h=this.g,l=this.qd,m=h.ea(),p=1<m.it();p&&m.Uc.Ia();this.Dd.Ns(c);n&&m.Rf(g);c=l.Ia(this);if(yield*this.lN(c))h.ek(),c.Tf(this),yield*this.RD(c);l.Ha();p&&m.Uc.Ha();n&&m.zb(g);m.dt()}ZC(c,g,n,...h){let l,m;const p=0<c.length,u=this.g,q=this.qd,v=u.ea(),t=1<v.it();t&&v.Uc.Ia();0<h.length&&this.Dd.Ns(h);p&&v.Rf(c);h=q.Ia(this);h.VX(g,n);q.u_(h);u.jx(!1);this.KD(h)&&(u.ek(),h.Tf(this),(g=this.Dd.Pf())&&([m,l]=this.Dd.xD()),this.Qx(h),g&&this.Dd.Cs(m));u.jx(!0);q.Ha();q.m_();
t&&v.Uc.Ha();p&&v.zb(c);v.dt();return l||h.NF}}}
{"use strict";const d=self.B,a=[];let b=!1;d.ew=class extends d.ca{constructor(f,c,g){super();const n=f.H(),h=f.ea();this.Bc=f;this.qa=h;this.g=f.H();this.fc=c;this.Da=n.zg(g[1]);this.mq=g[2];this.Bc.AO(this,this.mq);this.Ja=n.rb?{Gc:g[3][0],pI:g[3][1]}:null}static Ma(f,c,g){return d.A(d.ew,f,c,g)}Bb(){const f=this.Da,c=this.g.ea().LN(this);this.Da=f.bind(null,this.g.oi,c)}ya(){return this.fc}kp(){return this.fc}uC(){return this.Ja&&this.Ja.pI}ln(){return this.uC()&&this.Ja.Gc}Tw(){return!1}Yc(){return a}Zc(){return this.fc?
this.fc.Zc():a}ma(f){f.Tf(this);this.qa.bB(this.j7())}async j7(){try{await this.Da()}catch(f){console.error(`Unhandled exception running script %c${this.Bc.wa()}, event ${this.mq}:`,"font-size: 1.2em; font-weight: bold;",f),self.rg&&self.rg.Z7(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*fb(f){f.Tf(this);if(this.ln()||this.g.Yb())yield this;
this.ma(f)}$d(){return!this.ln()&&!this.g.Yb()}static lX(){return b}static z0(){b=!0}}}
{"use strict";const d=self.B;d.Wr=class extends d.ca{constructor(a,b,f){super();this.Bc=a;this.g=a.H();this.fc=b;const c=f[1];this.Qy=c[0];this.Vk=c[1];this.bg=c[2].map(g=>d.fw.Ma(a,this,g));this.G9=c[3];this.aG=[];this.fu=c[4];this.W9=0;this.Lt=-1;this.Ct=new Map;this.zd=d.Qj.Ma(a,b,f);this.zd.d8(this)}static Ma(a,b,f){return d.A(d.Wr,a,b,f)}Bb(){for(const a of this.bg)a.Bb();this.zd.Bb(!1)}BN(){return this.bg}H6(a){this.aG.push(a)}EV(a){const b=this.bg;for(let f=0,c=b.length;f<c;++f)b[f].Uf(a[f].X(0))}Ns(a){const b=
this.bg;for(let f=0,c=b.length;f<c;++f)b[f].Uf(a[f])}FT(){return this.bg.map(a=>a.ie())}ya(){return this.fc}kp(){return this.fc}nn(){return this.G9}es(){switch(this.Vk){case 0:return null;case 2:return"";default:return 0}}ee(){return this.zd}Pf(){return this.fu}xD(){const a=this.W9++;this.Lt=a;let b;const f=new Promise(c=>b=c);this.Ct.set(a,{resolve:b,BI:0});return[a,f]}Cs(a){const b=this.Ct.get(a);0===b.BI&&(b.resolve(),this.Ct.delete(a));this.Lt=-1}j_(){this.Ct.get(this.Lt).BI++;return this.Lt}V_(a){this.Lt=
a;this.Ct.get(a).BI--}}}
{"use strict";const d=self.B,a=[];d.fw=class extends d.ca{constructor(b,f,c){super();const g=b.ea();this.Bc=b;this.qa=g;this.g=b.H();this.fc=f;this.Uc=g.Uc;this.Ba=c[1];this.ra=c[2];this.eo=c[3];this.Sg=!!c[4];this.kb=!!c[5];this.I9=f instanceof d.Wr;this.ab=c[6];this.pu=this.g.yh(c[8]);this.k$=n=>this.Uf(n);this.i$=()=>this.ie();this.dQ=!this.fc||this.Sg||this.kb;this.Xc=this.eo;this.JG=-1;this.FK()&&(this.Xc=this.Xc?1:0);!this.DC()||this.Sg||this.kb||(this.JG=g.x4(this));g.E6(this)}static Ma(b,
f,c){return d.A(d.fw,b,f,c)}Bb(){if(this.DC()&&!this.Sg&&!this.kb&&!this.I9){const b=this.qa.BB(this);b&&b.H6(this)}}wa(){return this.Ba}yh(){return this.pu}ya(){return this.fc}kp(){return this.ya()}Qf(){return!this.ya()}DC(){return!this.Qf()}Cl(){return 0===this.ra}Dh(){return 1===this.ra}FK(){return 2===this.ra}Tw(){return!1}Yc(){return a}ma(){!this.DC()||this.Sg||this.kb||this.Uf(this.eo)}$d(){return!0}*fb(b){this.ma(b)}Uf(b){this.Cl()?"number"!==typeof b&&(b=parseFloat(b)):this.Dh()?"string"!==
typeof b&&(b=b.toString()):this.FK()&&(b=b?1:0);this.dQ?this.Xc=b:this.Uc.bp()[this.JG]=b}ie(){return this.dQ?this.Xc:this.Uc.bp()[this.JG]}T_(){this.Xc=this.eo}NN(){return{configurable:!1,enumerable:!0,get:this.i$,set:this.k$}}}}
{"use strict";const d=self.B,a=[];d.GJ=class extends d.ca{constructor(b,f,c){super();const g=b.ea();this.Bc=b;this.qa=g;this.g=b.H();this.fc=f;this.cu=null;this.B9=c[1];this.xb=!0}static Ma(b,f,c){return d.A(d.GJ,b,f,c)}Bb(){this.cu=this.qa.WJ(this.B9);this.Bc.n2(this);let b=this.ya();for(;b;)b instanceof d.Qj&&b.ri&&b.f2(this),b=b.ya();this.OM();this.g.rb&&this.Bc.yi.children.push(this.cu.yi)}ya(){return this.fc}Yc(){return a}ma(){const b=!!this.ya(),f=this.g.yc;b&&this.qa.Rf(f);this.cu.ma();b&&
this.qa.zb(f)}*fb(){const b=!!this.ya(),f=this.g.yc;b&&this.qa.Rf(f);yield*this.cu.fb();b&&this.qa.zb(f)}$d(){return!1}OM(){let b=this.ya();for(;b;){if(b instanceof d.Qj&&b.ri&&!b.np()){this.xb=!1;return}b=b.ya()}this.xb=!0}}}
{"use strict";const d=self.B;d.Vm=class extends d.ca{constructor(l){super();this.Hb=l;this.g=l.H()}Bb(){}static fU(l,m){return d.A([n,c,g,h,a,b][m[0]],l,m)}};class a extends d.Vm{constructor(l,m){super(l);this.fd=this.g.ns();this.Da=this.g.zg(m[1]);this.Da!==d.C.Na.uc.random&&this.Da!==d.C.Na.uc.I$||this.Hb.tD()}gf(){return this.fd.ij(this.Da,this.fd)}}class b extends d.Vm{constructor(l,m){super(l);this.tq=null;this.Qy=m[1];this.Hb.tD()}Bb(){const l=this.g.ea();this.tq=l.ww(this.Qy);this.Qy=null;
const m=this.tq.ee();this.zk=[...new Set([...this.Hb.ee().Zc(),...m.Zc()])];this.zk=l.Bx(this.zk)}gf(){const l=this.tq;if(l.nn())return d.Qj.prototype.ZC.bind(l.ee(),this.zk,l.Vk,l.es());{const m=l.es();return()=>m}}}function f(l,m){if(l>=m)return l%m;0>l&&(l<=-m&&(l%=m),0>l&&(l+=m));return l}class c extends d.Vm{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.Da=this.g.zg(m[2]);this.Iu=!!m[3];this.qd=this.g.ea().Ic();this.Hb.nE(this.I)}gf(){return this.I.wb().ij(this.Da,this.I.Vi().na)}Rr(){const l=
this.I,m=l.P().OB();var p=m.length;if(0===p)return this.Iu?"":0;p=f(this.Hb.Tq,p);this.qd.Fe().t0(l);return this.Da.apply(m[p].na,[])}}class g extends d.Vm{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.MR=m[3];this.Iu=!!m[2];this.Hb.nE(this.I)}Zo(){const l=this.I.P().OB();var m=l.length;if(0===m)return this.Iu?"":0;m=f(this.Hb.Tq,m);return l[m].KN(this.MR)}$o(){var l=this.I,m=l.P().OB(),p=m.length;if(0===p)return this.Iu?"":0;p=f(this.Hb.Tq,p);m=m[p];l=m.G().PB(l.Pg);return m.KN(this.MR+l)}}
class n extends d.Vm{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.zc=this.I.iw(m[2]);this.$h=this.I.Zr(m[2]);this.Da=this.g.zg(m[3]);this.Iu=!!m[4];this.qd=this.g.ea().Ic();this.Hb.nE(this.I)}}class h extends d.Vm{constructor(l,m){super(l);this.Rt=null;this.DF=m[1]}Bb(){this.Rt=this.g.ea().NB(this.DF)}}}
{"use strict";const d=self.B;d.je=class extends d.ca{constructor(z,F,G){super();this.Hb=z;this.Oa=G;this.ra=F;this.X=null;this.kb=this.ye=!1}static Ma(z,F,G){const Q=F[0];return d.A([b,f,p,g,h,c,l,b,g,g,u,q,p,t,f,m,n,v,w,y][Q],z,Q,G,F)}Bb(){}tD(){this.ye=!0}nE(z){this.ye||!z||z.wb().dm||(this.ye=!0)}Ca(){return this.Oa}H(){return this.Hb.H()}ee(){return this.Hb.ee()}};function a(z){z=self.vT[z];if(!z)throw Error("invalid expression number");return z}class b extends d.je{constructor(z,F,G,Q){super(z,
F,G);this.Tq=0;z=Q[1];this.FF=z[0];this.Kq=[];this.Hy=null;for(let D=1,H=z.length;D<H;++D)this.Kq.push(d.Vm.fU(this,z[D]));this.Kq.length?this.X=this.lW:(this.X=a(this.FF),this.kb=!0)}Ab(z){if(0>z||z>=this.Kq.length)throw new RangeError("invalid numbered node");return this.Kq[z]}Bb(){for(var z of this.Kq)z.Bb();z=a(this.FF);this.Hy=this.Kq.length?z(this):z}lW(z){this.Tq=z;return this.Hy()}}class f extends b{constructor(z,F,G,Q){super(z,F,G,Q);this.X=this.bX;14===F&&(this.ee().f0(),this.Hb instanceof
d.Lv&&this.ee().Ts())}bX(z){this.Tq=z;z=this.Hy();return"string"===typeof z?z:""}r4(){return a(this.FF)()}}class c extends b{constructor(z,F,G,Q){super(z,F,G,Q);this.X=this.Y;this.kb=!1}Y(z){this.Tq=z;z=this.Hy();return this.H().Ga().Y(z)}}class g extends d.je{constructor(z,F,G,Q){super(z,F,G);this.m9=Q[1];this.X=this.cW;this.kb=!0}cW(){return this.m9}}class n extends d.je{constructor(z,F,G,Q){super(z,F,G);this.c9=Q[1];this.X=this.ZV;this.kb=!0}ZV(){return this.c9}}class h extends d.je{constructor(z,
F,G,Q){super(z,F,G);this.I=this.H().Ge(Q[1]);this.X=this.G;z=this.ee();z.aN(this.I);this.Hb instanceof d.Lv?z.Ts():z.ya()&&z.ya().Ts();this.kb=!0}G(){return this.I}}class l extends d.je{constructor(z,F,G,Q){super(z,F,G);this.wi=this.H().Za.fp(Q[1]);this.X=this.Zb;this.kb=!0}Zb(){return this.wi}}class m extends d.je{constructor(z,F,G,Q){super(z,F,G);this.rm=this.H().tb.Gw(Q[1]);this.X=this.$b;this.kb=!0}$b(){return this.rm}}class p extends d.je{constructor(z,F,G,Q){super(z,F,G);this.w9=Q[1];this.X=
this.oW;this.kb=!0}oW(){return this.w9}}class u extends d.je{constructor(z,F,G,Q){super(z,F,G);this.nQ=Q[1];(z=this.Hb.G())&&z.Ta?(this.X=this.mW,this.tD()):(this.X=this.EW,this.kb=!0)}EW(){return this.nQ}mW(z){z=z||0;const F=this.Hb.G();var G=F.P();const Q=G.fa();if(Q.length)z=Q[z%Q.length].G();else if(G.qX())G=G.Ub,z=G[z%G.length].G();else if(0<F.F.length)G=F.fa(),z=G[z%G.length].G();else return 0;return this.nQ+z.PB(F.Pg)}}class q extends d.je{constructor(z,F,G,Q){super(z,F,G);this.DF=Q[1];this.Rt=
null;this.X=this.kW;this.kb=!0}Bb(){this.Rt=this.H().ea().NB(this.DF)}kW(){return this.Rt}}class v extends d.je{constructor(z,F,G,Q){super(z,F,G);this.RP=Q[1];this.tq=null;this.X=this.xW;this.kb=!0}Bb(){this.tq=this.H().ea().ww(this.RP);this.RP=null}xW(){return this.tq}}class t extends d.je{constructor(z,F,G,Q){super(z,F,G);this.AH=[];this.NR=[];this.kb=!0;for(let D=1,H=Q.length;D<H;++D)z=d.je.Ma(this.Hb,Q[D],0),this.AH.push(z),this.NR.push(0),z.kb||(this.kb=!1);this.X=this.iX}Bb(){for(const z of this.AH)z.Bb()}iX(){const z=
this.AH,F=this.NR;for(let G=0,Q=z.length;G<Q;++G)F[G]=z[G].X(0);return F}}class w extends d.je{constructor(z,F,G,Q){super(z,F,G);this.s9=Q[1];this.X=this.sl;this.kb=!0}sl(){return this.s9}}class y extends d.je{constructor(z,F,G,Q){super(z,F,G);this.i9=Q[1];this.X=this.eX;this.kb=!0}eX(){return this.i9}}}
{"use strict";const d=self.B;function a(c,g){for(let n=0,h=c.length;n<h;++n)g[n]=c[n].X(0)}const b=[],f=function(){};d.rJ=class extends d.ca{constructor(c,g,n){super();this.zd=c;this.g=c.H();this.Oa=n;this.Da=this.g.zg(g[1]);this.tG=0<g[3];this.qQ=2===g[3];this.iz=!!g[4];this.si=!!g[5];this.Sg=!!g[6];this.ab=g[7];this.rQ=this.zd.sd;this.zc=this.I=null;this.$h=-1;this.fd=null;this.fb=this.ma=f;this.Ea=[];this.lb=[];this.vk=!1;this.eh=this.sb=null;this.Ja=this.g.rb?{Gc:g[8][0],Ze:g[8][1]}:null;-1===
g[0]?this.fd=this.g.ns():(this.I=this.g.Ge(g[0]),g[2]&&(this.zc=this.I.iw(g[2]),this.$h=this.I.Zr(g[2])),this.zd.ya()&&this.zd.ya().Ts());if(10===g.length){c=g[9];for(let h of c)this.Ea.push(d.je.Ma(this,h,this.Ea.length)),this.lb.push(0)}0===this.Ea.length&&(this.lb=this.Ea=b);this.zd.ea().C6(this)}static Ma(c,g,n){return d.A(d.rJ,c,g,n)}Bb(){for(const c of this.Ea)c.Bb(),c.ye&&(this.vk=!0);this.qQ?(this.ma=this.Z6,this.fb=this.o3):this.fd?(this.DE(),this.fb=this.TD):this.I.wb().dm?(this.CE(),this.fb=
this.SD):this.Sg?(this.ma=this.g7,this.fb=this.v3):(this.ma=this.LO,this.fb=this.p3)}DE(){this.ut(this.fd,this.fd,this.xE)}CE(){const c=this.I.wb(),g=this.I.Vi().na;this.ut(c,g,this.wE)}ut(c,g,n){const h=this.Da,l=this.si,m=this.Ea;if(0===m.length){const p=c.ij(h,g);this.ma=l?function(){return d.xor(p(),l)}:p}else if(1===m.length){const p=m[0];if(!l&&p.kb)this.ma=c.DN(h,g,p.X(0));else{const u=c.ij(h,g);this.ma=function(){return d.xor(u(p.X(0)),l)}}}else if(2===m.length){const p=m[0],u=m[1];if(!l&&
p.kb&&u.kb)this.ma=c.EN(h,g,p.X(0),u.X(0));else{const q=c.ij(h,g);this.ma=function(){return d.xor(q(p.X(0),u.X(0)),l)}}}else if(3===m.length){const p=m[0],u=m[1],q=m[2];if(!l&&p.kb&&u.kb&&q.kb)this.ma=c.FN(h,g,p.X(0),u.X(0),q.X(0));else{const v=c.ij(h,g);this.ma=function(){return d.xor(v(p.X(0),u.X(0),q.X(0)),l)}}}else this.ma=n}G(){return this.I}wg(){return this.zc}ee(){return this.zd}H(){return this.g}Ca(){return this.Oa}TJ(){return this.Ca()}rn(){return this.tG}$d(){return!this.Ja.Gc&&!this.g.Yb()&&
!this.Ja.Ze}Ui(){this.sb||(this.sb=new Map);return this.sb}qs(){this.eh||(this.eh=new Map);return this.eh}xE(){const c=this.lb;a(this.Ea,c);return d.xor(this.Da.apply(this.fd,c),this.si)}*TD(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){var c=this.lb;a(this.Ea,c);c=this.Da.apply(this.fd,c);d.Bl(c)&&(c=yield*c);return d.xor(c,this.si)}return this.ma()}wE(){const c=this.lb;a(this.Ea,c);const g=this.I.Vi().na;return d.xor(this.Da.apply(g,c),this.si)}*SD(){if(this.Ja.Gc||this.g.Yb())yield this;
if(this.Ja.Ze){var c=this.lb;a(this.Ea,c);const g=this.I.Vi().na;c=this.Da.apply(g,c);d.Bl(c)&&(c=yield*c);return d.xor(c,this.si)}return this.ma()}Z6(){return!0}*o3(){if(this.Ja.Gc||this.g.Yb())yield this;return!0}g7(){var c=this.lb;a(this.Ea,c);c=this.Da.apply(this.zc||this.I,c);this.I.Ob();return c}*v3(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){var c=this.lb;a(this.Ea,c);c=this.Da.apply(this.zc||this.I,c);d.Bl(c)&&(c=yield*c);this.I.Ob();return c}return this.ma()}LO(){const c=this.Ea,
g=this.lb,n=this.I.P();for(let h=0,l=c.length;h<l;++h){const m=c[h];m.ye||(g[h]=m.X(0))}return n.Ib?this.a7(n):this.b7(n)}*p3(){if(this.Ja.Gc||this.g.Yb())yield this;return this.LO()}aE(c){const g=this.Ea,n=this.lb;for(let h=0,l=g.length;h<l;++h){const m=g[h];m.ye&&(n[h]=m.X(c))}}a7(c){const g=this.I,n=g.Ta,h=g.Pg,l=this.$h,m=0<=l,p=g.fa(),u=this.vk,q=this.lb,v=this.Da,t=this.si,w=this.rQ&&!this.tG;c.Tv();for(let z=0,F=p.length;z<F;++z){const G=p[z];u&&this.aE(z);var y=void 0;m?(y=n?G.G().Wm(h):0,
y=v.apply(G.Jc[l+y].na,q)):y=v.apply(G.na,q);d.xor(y,t)?c.Fn(G):w&&c.Rl(G)}g.Vr(!0);c.Kd(!1);g.Ob();return c.jC()}b7(c){const g=this.I;var n=g.Ta;const h=g.Pg,l=g.Lb(),m=this.$h,p=0<=m,u=this.vk,q=this.lb,v=this.Da,t=this.si,w=this.rQ&&!this.tG,y=c.F,z=c.Ub,F=w&&!this.zd.IY(this),G=F?z:y;let Q=0,D=!1;for(let J=0,M=G.length;J<M;++J){const P=G[J];u&&this.aE(J);var H=void 0;p?(H=n?P.G().Wm(h):0,H=v.apply(P.Jc[m+H].na,q)):H=v.apply(P.na,q);d.xor(H,t)?(D=!0,F?(y.push(P),l&&P.z6()):(G[Q]=P,l&&P.f8(Q),++Q)):
F?(G[Q]=P,l&&P.e8(Q),++Q):w&&(z.push(P),l&&P.y6())}d.Ce(G,Q);l&&g.A8(F,Q);n=D;F&&!D&&(D=this.q6(y));g.Vr(n||w);return w?D:c.jC()}q6(c){var g=this.I;const n=g.Ta;g=g.Pg;const h=this.vk,l=this.$h,m=0<=l,p=this.lb,u=this.Da,q=this.si;for(let t=0,w=c.length;t<w;++t){var v=c[t];h&&this.aE(t);if(m){const y=n?v.G().Wm(g):0;v=u.apply(v.Jc[l+y].na,p)}else v=u.apply(v.na,p);if(d.xor(v,q))return!0}return!1}Is(c,g){return this.Ea[c].X(g)}nW(){const c=this.Ea;if(!c.length)throw Error("no parameters");return c[0].r4()}ga(){if(!this.sb||
!this.sb.size)return null;const c={};for(const [g,n]of this.sb.entries()){let h=n;"collmemory"===g&&(h=[...n.entries()].map(l=>[l[0].Ec,l[1].Ec,l[2]]));c[g]=h}return{ex:c}}oa(c){this.sb&&(this.sb.clear(),this.sb=null);if(c){var g=this.g,n=c.ex;if(n){c=this.Ui();c.clear();for(const [h,l]of Object.entries(n))n=l,"collmemory"===h&&(n=d.A(d.Ds,l.map(m=>[g.Oi(m[0]),g.Oi(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(h,n)}}}}}
{"use strict";const d=self.B;function a(g,n){for(let h=0,l=g.length;h<l;++h)n[h]=g[h].X(0)}const b=[],f=function(){},c=function*(){};d.Lv=class extends d.ca{constructor(g,n,h){super();this.zd=g;this.g=g=g.H();this.Oa=h;this.ab=4<=n.length?n[3]:-1;this.ay=5<=n.length?n[4]:0;this.zc=this.I=this.Da=null;this.$h=-1;this.fd=null;this.oy="";this.zk=this.ny=null;this.fb=this.ma=f;this.Ea=[];this.lb=[];this.vk=!1;this.eh=this.sb=null;const l=(h=-3===n[0])?n[2]:n[5];this.Ja=g.rb||h?{Gc:l[0],Ze:l[1],index:l[2]}:
null;-1===n[0]?(this.fd=g.ns(),this.Da=g.zg(n[1])):-2===n[0]?this.oy=n[1]:h?(this.Da=g.zg(n[1]),this.ma=this.$C,this.fb=this.rU,this.ay=1):(this.Da=g.zg(n[1]),this.I=g.Ge(n[0]),n[2]&&(this.zc=this.I.iw(n[2]),this.$h=this.I.Zr(n[2])));if(7===n.length){n=n[6];for(const m of n)this.Ea.push(d.je.Ma(this,m,this.Ea.length)),this.lb.push(0)}0===this.Ea.length&&(this.lb=this.Ea=b);this.zd.ea().B6(this)}static Ma(g,n,h){return d.A(d.Lv,g,n,h)}Bb(){for(var g of this.Ea)g.Bb(),g.ye&&(this.vk=!0);if(this.fd)this.DE(),
this.fb=this.TD;else if(this.oy)this.G7(),this.oy="";else if(this.ma===this.$C){g=this.Da;const n=this.g.ea().LN(this.zd);this.Da=g.bind(null,this.g.oi,n)}else this.zc?this.Pf()?(this.ma=this.JO,this.fb=this.l3):(this.ma=this.IO,this.fb=this.k3):this.I.wb().dm?(this.CE(),this.fb=this.SD):this.Pf()?(this.ma=this.NO,this.fb=this.r3):this.Ea.length?this.Ea.every(n=>n.ye)?(this.ma=this.MO,this.fb=this.q3):this.vk?(this.ma=this.PO,this.fb=this.t3):this.Ea.every(n=>n.kb)?(a(this.Ea,this.lb),this.ma=this.vE,
this.fb=this.mN):(this.ma=this.OO,this.fb=this.s3):(this.ma=this.vE,this.fb=this.mN)}DE(){this.ut(this.fd,this.fd,this.xE)}CE(){const g=this.I.wb(),n=this.I.Vi().na;this.ut(g,n,this.wE)}G7(){const g=this.zd.ea(),n=g.ww(this.oy);n.nn()?(this.ny=n.ee(),this.zk=[...new Set([...this.zd.Zc(),...this.ny.Zc()])],this.zk=g.Bx(this.zk),this.ma=d.Qj.prototype.W_.bind(this.ny,this.zk,this.Ea),this.fb=this.m3):(this.ma=f,this.fb=c)}ut(g,n,h){const l=this.Da,m=this.Ea;if(0===m.length)this.ma=g.ij(l,n);else if(1===
m.length){const p=m[0];if(p.kb)this.ma=g.DN(l,n,p.X(0));else{const u=g.ij(l,n);this.ma=function(){return u(p.X(0))}}}else if(2===m.length){const p=m[0],u=m[1];if(p.kb&&u.kb)this.ma=g.EN(l,n,p.X(0),u.X(0));else{const q=g.ij(l,n);this.ma=function(){return q(p.X(0),u.X(0))}}}else if(3===m.length){const p=m[0],u=m[1],q=m[2];if(p.kb&&u.kb&&q.kb)this.ma=g.FN(l,n,p.X(0),u.X(0),q.X(0));else{const v=g.ij(l,n);this.ma=function(){return v(p.X(0),u.X(0),q.X(0))}}}else this.ma=h}Pf(){return 1===this.ay}kJ(){return 2===
this.ay}yX(){return 0!==this.ay}G(){return this.I}ee(){return this.zd}H(){return this.g}Ca(){return this.Oa}TJ(){return this.Ja.index}$d(){return!this.Ja.Gc&&!this.g.Yb()&&!this.Ja.Ze}Ui(){this.sb||(this.sb=new Map);return this.sb}qs(){this.eh||(this.eh=new Map);return this.eh}xE(){const g=this.lb;a(this.Ea,g);return this.Da.apply(this.fd,g)}*TD(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Ea,g);return yield*this.Da.apply(this.fd,g)}return this.ma()}*m3(){if(this.Ja.Gc||
this.g.Yb())yield this;return yield*this.ny.mU(this.zk,this.Ea)}wE(){const g=this.lb;a(this.Ea,g);return this.Da.apply(this.I.Vi().na,g)}*SD(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Ea,g);return yield*this.Da.apply(this.I.Vi().na,g)}return this.ma()}vE(){const g=this.lb,n=this.I.P().fa();for(let h=0,l=n.length;h<l;++h)this.Da.apply(n[h].na,g)}*mN(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){const g=this.lb,n=this.I.P().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Da.apply(n[h].na,
g)}else this.vE()}OO(){const g=this.lb;a(this.Ea,g);const n=this.I.P().fa();for(let h=0,l=n.length;h<l;++h)this.Da.apply(n[h].na,g)}*s3(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Ea,g);const n=this.I.P().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Da.apply(n[h].na,g)}else this.OO()}MO(){const g=this.Ea,n=this.lb,h=this.Da,l=this.I.P().fa();for(let m=0,p=l.length;m<p;++m){const u=l[m];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].X(m);h.apply(u.na,n)}}*q3(){if(this.Ja.Gc||
this.g.Yb())yield this;if(this.Ja.Ze){const g=this.Ea,n=this.lb,h=this.Da,l=this.I.P().fa();for(let m=0,p=l.length;m<p;++m){const u=l[m];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].X(m);yield*h.apply(u.na,n)}}else this.MO()}PO(){const g=this.Ea,n=this.lb,h=this.Da,l=this.I.P().fa();for(let p=0,u=g.length;p<u;++p){var m=g[p];m.ye||(n[p]=m.X(0))}for(let p=0,u=l.length;p<u;++p){m=l[p];for(let q=0,v=g.length;q<v;++q){const t=g[q];t.ye&&(n[q]=t.X(p))}h.apply(m.na,n)}}*t3(){if(this.Ja.Gc||this.g.Yb())yield this;
if(this.Ja.Ze){const n=this.Ea,h=this.lb,l=this.Da,m=this.I.P().fa();for(let p=0,u=n.length;p<u;++p){var g=n[p];g.ye||(h[p]=g.X(0))}for(let p=0,u=m.length;p<u;++p){g=m[p];for(let q=0,v=n.length;q<v;++q){const t=n[q];t.ye&&(h[q]=t.X(p))}yield*l.apply(g.na,h)}}else this.PO()}IO(){var g=this.I;const n=g.Ta,h=g.Pg,l=this.Ea,m=this.vk,p=this.lb,u=this.Da,q=this.$h;g=g.P().fa();for(let w=0,y=l.length;w<y;++w){var v=l[w];v.ye||(p[w]=v.X(0))}for(let w=0,y=g.length;w<y;++w){v=g[w];if(m)for(let z=0,F=l.length;z<
F;++z){var t=l[z];t.ye&&(p[z]=t.X(w))}t=n?v.G().Wm(h):0;u.apply(v.Jc[q+t].na,p)}}*k3(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){var g=this.I;const l=g.Ta,m=g.Pg,p=this.Ea,u=this.vk,q=this.lb,v=this.Da,t=this.$h;g=g.P().fa();for(let w=0,y=p.length;w<y;++w){var n=p[w];n.ye||(q[w]=n.X(0))}for(let w=0,y=g.length;w<y;++w){n=g[w];if(u)for(let z=0,F=p.length;z<F;++z){var h=p[z];h.ye&&(q[z]=h.X(w))}h=l?n.G().Wm(m):0;yield*v.apply(n.Jc[t+h].na,q)}}else this.IO()}NO(){const g=this.Ea,n=this.lb,
h=this.Da,l=this.I.P().fa(),m=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,t=g.length;v<t;++v)n[v]=g[v].X(p);m.push(h.apply(q.na,n))}return Promise.all(m)}*r3(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){const g=this.Ea,n=this.lb,h=this.Da,l=this.I.P().fa(),m=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,t=g.length;v<t;++v)n[v]=g[v].X(p);m.push(yield*h.apply(q.na,n))}return Promise.all(m)}return this.NO()}JO(){var g=this.I;const n=g.Ta,h=g.Pg,l=this.Ea,m=this.lb,
p=this.Da,u=this.$h;g=g.P().fa();const q=[];for(let v=0,t=g.length;v<t;++v){const w=g[v];for(let z=0,F=l.length;z<F;++z)m[z]=l[z].X(v);const y=n?w.G().Wm(h):0;q.push(p.apply(w.Jc[u+y].na,m))}return Promise.all(q)}*l3(){if(this.Ja.Gc||this.g.Yb())yield this;if(this.Ja.Ze){var g=this.I;const n=g.Ta,h=g.Pg,l=this.Ea,m=this.lb,p=this.Da,u=this.$h;g=g.P().fa();const q=[];for(let v=0,t=g.length;v<t;++v){const w=g[v];for(let z=0,F=l.length;z<F;++z)m[z]=l[z].X(v);const y=n?w.G().Wm(h):0;q.push(yield*p.apply(w.Jc[u+
y].na,m))}return Promise.all(q)}return this.JO()}async $C(){try{await this.Da()}catch(g){console.error(`Unhandled exception running script %c${this.zd.Bc.wa()}, event ${this.zd.mq}, action ${this.TJ()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.rg&&self.rg.Z7(this),d.ew.lX()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.ew.z0())}}*rU(){if(this.Ja.Gc||
this.g.Yb())yield this;return this.$C()}ga(){return this.sb&&this.sb.size?{ex:d.DD(this.sb)}:null}oa(g){this.sb&&(this.sb.clear(),this.sb=null);g&&(g=g.ex)&&(this.sb=d.CB(g))}}}
{"use strict";const d=self.B,a=new d.Va;function b(K,N){return d.compare(this.j().ka(),K,N)}function f(K,N){return d.compare(this.j().la(),K,N)}function c(){const K=this.j(),N=K.Y();return N.lp()?K.op(N.ht()):K.NK(N.Xe,K.Zb().AK(),K.Zb().Re)}function g(){var K=this.j();const N=K.Zb();K=K.vc();return 0>K.$||0>K.U||K.M>N.ba()||K.L>N.aa()}function n(K,N,U){const ba=this.P(),ia=ba.fa();if(!ia.length)return!1;let ja=ia[0];var la=ja.j();let va=ja,na=d.aS(la.ka(),la.la(),N,U);for(let wa=1,xa=ia.length;wa<
xa;++wa)if(ja=ia[wa],la=ja.j(),la=d.aS(la.ka(),la.la(),N,U),0===K&&la<na||1===K&&la>na)na=la,va=ja;ba.El(va);return!0}function h(K){const N=this.j();N.ka()!==K&&(N.Eg(K),N.Xa())}function l(K){const N=this.j();N.la()!==K&&(N.Ph(K),N.Xa())}function m(K,N){const U=this.j();U.CV(K,N)||(U.Ol(K,N),U.Xa())}function p(K,N){if(K&&(K=K.VW(this.ia))){var [U,ba]=K.Ym(N);N=this.j();if(N.ka()!==U||N.la()!==ba)N.Ol(U,ba),N.Xa()}}function u(K){if(0!==K){var N=this.j();N.Yw(N.KB()*K,N.eC()*K);N.Xa()}}function q(K,
N){if(0!==N){var U=this.j();K=d.pb(K);U.Yw(Math.cos(K)*N,Math.sin(K)*N);U.Xa()}}function v(){return this.j().ka()}function t(){return this.j().la()}function w(){return this.g.gs(this.ia)}function y(K,N){return d.compare(this.j().ba(),K,N)}function z(K,N){return d.compare(this.j().aa(),K,N)}function F(K){const N=this.j();N.ba()!==K&&(N.Oh(K),N.Xa())}function G(K){const N=this.j();N.aa()!==K&&(N.Hh(K),N.Xa())}function Q(K,N){const U=this.j();if(U.ba()!==K||U.aa()!==N)U.Tc(K,N),U.Xa()}function D(){return this.j().ba()}
function H(){return this.j().aa()}function J(){return this.j().vc().M}function M(){return this.j().vc().L}function P(){return this.j().vc().$}function R(){return this.j().vc().U}function V(K,N){return d.ir(this.j().Fa(),d.pb(N))<=d.pb(K)}function Z(K){return d.Ye(this.j().Fa(),d.pb(K))}function ca(K,N){K=d.pb(K);N=d.pb(N);const U=this.j().Fa();return d.Ye(N,K)?d.Ye(U,K)&&!d.Ye(U,N):!(!d.Ye(U,K)&&d.Ye(U,N))}function Y(K){const N=this.j();K=d.Xd(d.pb(K));isNaN(K)||N.Fa()===K||(N.nd(K),N.Xa())}function ha(K){if(!isNaN(K)&&
0!==K){var N=this.j();N.nd(N.Fa()+d.pb(K));N.Xa()}}function ka(K){if(!isNaN(K)&&0!==K){var N=this.j();N.nd(N.Fa()-d.pb(K));N.Xa()}}function za(K,N){const U=this.j(),ba=U.Fa();K=d.YH(ba,d.pb(N),d.pb(K));isNaN(K)||ba===K||(U.nd(K),U.Xa())}function Oa(K,N,U){const ba=this.j(),ia=ba.Fa();N-=ba.ka();U-=ba.la();K=d.YH(ia,Math.atan2(U,N),d.pb(K));isNaN(K)||ia===K||(ba.nd(K),ba.Xa())}function ab(K,N){const U=this.j(),ba=U.Fa();K-=U.ka();N-=U.la();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.nd(N),U.Xa())}function Ua(){return d.nh(this.j().Fa())}
function bb(K,N){return d.compare(d.wS(100*this.j().He()),K,N)}function mb(){return this.j().xc()}function Va(K){const N=this.j();K=2===K?!N.xc():0!==K;N.xc()!==K&&(N.Nh(K),this.g.Z())}function Pa(K){K=d.da(K/100,0,1);const N=this.j();N.He()!==K&&(N.mk(K),this.g.Z())}function fb(K){a.Br(K);K=this.j();K.Ya.hl(a)||(K.BM(a),this.g.Z())}function cb(){const K=this.j().Ya;return d.$w(K.Pa,K.Sa,K.Ra,K.Qa)}function ub(){return d.wS(100*this.j().He())}function vb(K){return K?this.j().Y()===K:!1}function wb(K){const N=
this.P(),U=N.fa();if(!U.length)return!1;let ba=U[0];for(let ia=1,ja=U.length;ia<ja;++ia){const la=U[ia],va=la.j(),na=ba.j(),wa=va.Y().Ca(),xa=na.Y().Ca();if(0===K){if(wa>xa||wa===xa&&va.Zi()>na.Zi())ba=la}else if(wa<xa||wa===xa&&va.Zi()<na.Zi())ba=la}N.El(ba);return!0}function gb(K,N,U){const ba=this.j();K=0===K?ba.Ua():ba.he();return d.compare(K,N,U)}function xb(){this.j().c2()}function yb(){this.j().a2()}function zb(K){K&&this.j().b2(K)}function Ab(K,N){K=0===K;N&&(N=N.XJ(this.za()))&&this.j().Z1(N,
K)}function Bb(K){const N=this.j();N.Ua()!==K&&(N.Ke(K),this.g.Z())}function Cb(){return this.j().Y().Ca()}function Db(){return this.j().Y().wa()}function hb(){return this.j().Zi()}function Eb(){return this.j().Ua()}function Fb(){return this.j().he()}function Gb(K,N){if(N=this.G().Ka.Uj(N)){N=N.Ca();K=1===K;var U=this.j().Pd;U.vs(N)!==K&&(U.gM(N,K),U.Pl(),this.g.Z())}}function Hb(K,N,U){var ba=this.G().Ka.Uj(K);if(ba){K=ba.Ca();var ia=this.j().Pd,ja=ia.Mf(K);N=Math.floor(N);if(!(0>N||N>=ja.length)){ba=
ba.bb.Bw(N);if("color"===ba){a.Br(U);N=ja[N];if(a.hl(N))return;N.Kj(a)}else{"percent"===ba&&(U/=100);if(ja[N]===U)return;ja[N]=U}ia.vs(K)&&this.g.Z()}}}const ib=d.A(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(K,N,U,ba){N.Ec<U.Ec?K.Set(N,U,ba):K.Set(U,N,ba)}function qa(K,N,U){N.Ec<U.Ec?K.Sm(N,U):K.Sm(U,N)}function Ka(K,N,U){return N.Ec<U.Ec?K.X(N,U):K.X(U,N)}function Ib(K,N,U,ba){if(!N)return!1;K=K.za();const ia=0!==U||0!==ba,ja=K.j(),la=K.H(),va=la.bi;var na=la.hf();const wa=
na.ee().sd;var xa=na.G();na=na.si;const Ha=N.P();xa=xa!==N;Wa=N;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Ib?(ib.ta(ja.vc()),ib.offset(U,ba),va.JB(ja.Y(),N,ib,jb),N=jb):wa?la.GY()&&!Ha.Ub.length&&Ha.F.length?N=Ha.F:(N=Ha.Ub,lb=!0):N=Ha.F;ia&&(La=ja.ka(),Ca=ja.la(),ja.Yw(U,ba),ja.Xa());for(const ea of N)if(va.BD(K,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Ol(La,Ca),ja.Xa());d.D(jb);return ma}function Ob(K,N){if(kb){if(N){{K=K.H().ub().sd;N=Wa.P();const U=N.F,ba=N.Ub;N.Ib?(N.Ss(Ma),K&&(d.D(ba),N.aJ(Ma,
Wa.fa()))):K?lb?N.x1(Ma):(N.aJ(Ma,U),N.Ss(Ma)):N.Ss(Ma);Wa.Ob()}}Ma.clear();Wa=null;kb=!1}}function Pb(K){if(this.g.Qd)return Qb.call(this,K);if(!K)return!1;var N=this.g;const U=N.bi,ba=N.ea(),ia=ba.Ic();var ja=ba.hf();const la=ja.G();var va=ja.Ui(),na=ja.qs();ja=ia.Fe();const wa=N.Bj,xa=wa-1,Ha=ja.ub(),La=ia.Ia(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.A(d.Ds),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),N.Kb().addEventListener("instancedestroy",
Na=>{Ca.BJ(Na.instance)}));N=K.P();va=la.P().fa();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];N.Ib?(U.JB(Ba.j().Y(),K,Ba.j().vc(),Sa),na=Sa,U.bJ(Ba,K,na)):na=N.fa();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(U.BD(Ba,Ja)||U.oJ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Yc(),ba.ke(ma),oa=la.P(),ea=K.P(),oa.Kd(!1),ea.Kd(!1),la===K?(ea=oa.F,d.D(ea),ea.push(Ba),ea.push(Ja),la.Ob()):(oa=oa.F,ea=ea.F,d.D(oa),d.D(ea),
oa.push(Ba),ea.push(Ja),la.Ob(),K.Ob()),Ha.Sf(ja,La),ba.zb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Ha();return!1}function*Qb(K){if(!K)return!1;var N=this.g;const U=N.bi,ba=N.ea(),ia=ba.Ic(),ja=ia.Fe(),la=N.Bj,va=la-1,na=ja.ub(),wa=ia.Ia(na);var xa=ba.hf();const Ha=xa.G();var La=xa.Ui();xa=xa.qs();let Ca=La.get("collmemory");Ca||(Ca=d.A(d.Ds),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),N.Kb().addEventListener("instancedestroy",Na=>{Ca.BJ(Na.instance)}));
N=K.P();La=Ha.P().fa();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];N.Ib?(U.JB(Ba.j().Y(),K,Ba.j().vc(),Sa),xa=Sa,U.bJ(Ba,K,xa)):xa=N.fa();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(U.BD(Ba,Ja)||U.oJ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Yc(),ba.ke(ma),oa=Ha.P(),ea=K.P(),oa.Kd(!1),ea.Kd(!1),Ha===K?(ea=oa.F,d.D(ea),ea.push(Ba),ea.push(Ja),Ha.Ob()):(oa=oa.F,ea=ea.F,d.D(oa),d.D(ea),oa.push(Ba),ea.push(Ja),
Ha.Ob(),K.Ob()),yield*na.Jf(ja,wa),ba.zb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Ha();return!1}function Rb(K){return Ib(this,K,0,0)}function Sb(K,N,U){return Ib(this,K,N,U)}function ob(){return this.j().$i()}function pb(){return this.j().Ie()}function qb(K,N){const U=this.P().fa();if(0===U.length)return!1;const ba=K.P();var ia=ba.fa();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=U.length;va<na;++va){var la=U[va];if(1===N)for(const wa of la.zv())wa.Vo(K)&&ia.has(wa)&&ja.add(wa);
else{if(0===N){if(la=la.ya(),null===la)continue}else la=la.Hw();la.Vo(K)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.Ss(ja);K.Ob();return!0}function rb(K,N){const U=this.P().fa();if(0===U.length)return!1;const ba=K.P();var ia=ba.fa();if(ba.Ib){var ja=[...this.g.nI(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=U.length;la<va;++la){const na=U[la];2===N&&!na.Ie()&&na.Vo(K)&&ia.has(na)&&ja.add(na);for(const wa of 0===N?na.children():na.Jj())2===
N&&wa.Ie()||wa.Vo(K)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.Ss(ja);K.Ob();return!0}function db(K,N){const U=this.P().fa();if(0===U.length)return!1;const ba=K.P();var ia=ba.fa();if(ba.Ib){var ja=[...this.g.nI(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=U.length;la<va;++la){const na=U[la].IB(N);null!==na&&na.Vo(K)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Js(ja);K.Ob();return!0}function e(K,N){return d.compare(this.ia.lw(),
K,N)}function k(K,N,U,ba,ia,ja,la,va){const na=this.ia,wa=this.g.cs().G();for(const xa of K.SR(na,wa)){if(!xa.wb().DR)break;na.ol(xa,{Gr:N,Hr:U,Ro:ba,Qo:ia,Fr:ja,Ir:la,ov:va})}}function r(K){const N=this.ia,U=this.g.cs().G();for(const ba of K.SR(N,U))N.cj(ba)}function x(){this.ia.$i()&&this.ia.ya().cj(this.ia)}function A(){return this.ia.lw()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.j();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.cx(),U.Xa()):U.tB(K,N)}function E(K,N,U,ba,ia,ja,la,
va){const na=this.j();na.sM(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ia,Kv:ja,IS:la,JS:va})&&na.Xa()}function I(){const K=this.j();return K.pf()?K.Wi().uj:0}function L(){const K=this.j();return K.pf()?K.Wi().Fj:0}function O(K){const N=this.j();K=2===K?!N.xc():0!==K;N.xc()!==K&&N.Nh(K)}function S(K,N){this.r0(K,N)}function T(K,N){this.q0(K,""+N)}function X(K){this.E_(K)}function W(){this.LJ()}function fa(){this.fJ()}function da(){return this.AF}function aa(K){this.mja(0!==K)}function ua(){return this.kja()}
function pa(K,N,U){return d.compare(this.za().fe(K),N,U)}function sa(K){return!!this.za().fe(K)}function ta(K,N){const U=this.P(),ba=U.fa();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.fe(N);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.fe(N);if(0===K&&wa<la||1===K&&wa>la)la=wa,ja=ia}U.El(ja);return!0}function ra(K){if(this.g.hf().si){{const ba=this.P();if(ba.Ib){ba.Kd(!1);ba.Tv();var N=this.fa();for(let ia=0,ja=N.length;ia<ja;++ia){var U=N[ia];U.Ec===K?ba.Rl(U):ba.Fn(U)}this.Ob();
K=!!ba.F.length}else{N=ba.F;U=0;for(let ia=0,ja=N.length;ia<ja;++ia){const la=N[ia];N[U]=la;la.Ec===K?ba.Rl(la):++U}d.Ce(N,U);this.Ob();K=!!N.length}}}else K=Da(this,K);return K}function Da(K,N){N=K.H().Oi(N);if(!N)return!1;const U=K.P();if(!U.Ib&&!U.F.includes(N))return!1;if(K.Ta){if(N.G().iB(K))return U.El(N),K.Ob(),!0}else if(N.G()===K)return U.El(N),K.Ob(),!0;return!1}function Ea(){this.g.Tm(this.ia)}function Fa(){return!0}function Ga(){return!0}function Ia(K,N){this.za().Ll(K,N)}function Qa(K,
N){const U=this.za(),ba=U.fe(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Ll(K,ba+N)}function Ra(K,N){const U=this.za(),ba=U.fe(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Ll(K,ba-N))}function Aa(K,N){this.za().Ll(K,N?1:0)}function Jb(K){const N=this.za();N.Ll(K,0===N.fe(K)?1:0)}function Kb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.za();
K.Mx("state");K.$c(N,"state")}function pc(){return JSON.stringify(this.za().md("state"))}function qc(){return this.za().G().wa()}function rc(){const K=this.g.Ee().GF;let N=K.F.length;for(const U of this.g.nI(K))++N;return N}function sc(){return this.g.Ee().GF.P().fa().length}function tc(){return this.ia.Xm()}function uc(){return this.ia.Ec}d.RS=function(K,N){const U=K[1],ba=K[4],ia=K[5],ja=K[6],la=K[7],va=K[8],na=K[10],wa=K[11],xa=K[12],Ha=K[13],La=K[14],Ca=K[15],ma=N.J,ea=N.Yd,oa=N.uc;K[3]&&(ma.UT=
b,ma.Jca=f,ma.cea=c,ma.dea=g,ma.tfa=n,ea.Eg=h,ea.Ph=l,ea.Uha=m,ea.Vha=p,ea.Iea=u,ea.Hea=q,oa.ID=v,oa.Y1=t,oa.hI=w);ba&&(ma.Ica=y,ma.Bca=z,ea.Oh=F,ea.Hh=G,ea.Tc=Q,oa.U1=D,oa.rda=H,oa.eca=J,oa.gca=M,oa.fca=P,oa.dca=R);ia&&(ma.fT=V,ma.DY=Z,ma.BY=ca,ea.nd=Y,ea.Kga=ha,ea.Lga=ka,ea.Mga=za,ea.Nga=Oa,ea.Wha=ab,oa.Uba=Ua);ja&&(ma.xc=mb,ma.Cca=bb,ea.Nh=Va,ea.mk=Pa,ea.jha=fb,oa.Opacity=ub,oa.uca=cb);la&&(ma.aea=vb,ma.Bfa=wb,ma.Kca=gb,ea.Lea=xb,ea.Jea=yb,ea.Kea=zb,ea.ija=Ab,ea.Ke=Bb,oa.qea=Cb,oa.pea=Db,oa.hja=
hb,oa.gja=Eb,oa.Cia=Fb);va&&(ea.kha=Gb,ea.lha=Hb);Ha&&(ma.$i=ob,ma.Ie=pb,ma.zfa=qb,ma.sfa=rb,ma.xfa=db,ma.zca=e,ea.ol=k,ea.cj=r,ea.Rfa=x,oa.rca=A);La&&(ea.Qha=C,ea.sM=E,oa.Eea=I,oa.Fea=L);na&&(ma.xc=mb,ea.Nh=O,ea.gha=S,ea.mha=T,ea.Qfa=X);wa&&(ma.Sda=da,ea.qha=W,ea.dha=fa);xa&&(ma.nn=ua,ea.oha=aa);Ca&&(ma.Yea=Pb,ma.eea=Rb,ma.fea=Sb,N.NV=Ob);U||(ma.ST=pa,ma.CY=sa,ma.ufa=ta,ma.rfa=ra,ea.mM=Ia,ea.Pba=Qa,ea.via=Ra,ea.eha=Aa,ea.yia=Jb,ma.jL=Fa,ma.KZ=Ga,ea.Qca=Ea,ea.JC||(ea.JC=Kb),oa.mT||(oa.mT=pc),oa.Mca=
rc,oa.Cfa=sc,oa.uda=tc,oa.Kia=uc,oa.Tea=qc)}}
{"use strict";const d=self.B;d.bD=class extends d.ca{constructor(a){super();this.qa=a;this.ra="";this.sc=-1;this.Nu="";this.oz=!1;this.ii=null;this.wf=0;this.te=[];this.Co=new Map;this.xk=null;this.Bt=-1;this.MF=this.bg=null;this.Mu=!1}m(){this.ra="";this.sc=-1;this.Nu="";this.MF=this.bg=this.xk=this.ii=null;this.Bt=-1;d.D(this.te);for(const a of this.Co.values())a.m();this.Co.clear()}Uh(){var a=this.qa,b=a.H().yc;const f=a.Ee();this.ii=f.ub();this.wf=f.wf+1;if(a=a.BB(this.ii))this.xk=a,this.bg=a.FT(),
this.MF=a.aG.map(c=>c.ie()),a.Pf()&&(this.Bt=a.j_());for(const c of b)if(b=c.P(),!b.Ib||this.ii.AX(c))this.te.push(c),this.Co.set(c,d.A(d.FM,b))}uY(a){this.ra="timer";this.Uh();this.sc=this.qa.H().xg()+a}sY(a){this.ra="signal";this.Uh();this.Nu=a.toLowerCase()}gY(a){this.ra="promise";this.Uh();a.then(()=>this.nD()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.nD()})}UY(){return"timer"===this.ra}SY(){return"signal"===this.ra}OY(){return"promise"===
this.ra}nD(){this.oz=!0}cP(){return this.UY()?this.sc<=this.qa.H().xg():this.oz}HO(a){a.uE(this.ii,this.wf);for(const [b,f]of this.Co.entries())f.uE(b.P());if(a=this.xk)a.Ns(this.bg),a.aG.map((b,f)=>b.Uf(this.MF[f])),a.Pf()&&a.V_(this.Bt)}W6(a){this.HO(a);this.ii.V6(a);this.xk&&this.xk.Pf()&&this.xk.Cs(this.Bt);this.qa.Wo(this.te);this.Mu=!0}async h3(a){this.HO(a);for(const b of this.ii.g3(a))await this.qa.H().Xo(b);this.xk&&this.xk.Pf()&&this.xk.Cs(this.Bt);this.qa.Wo(this.te);this.Mu=!0}xn(a){for(const b of this.Co.values())b.xn(a)}ga(){const a=
{},b={t:this.sc,st:this.Nu,s:this.oz,ev:this.ii.ab,sm:this.te.map(f=>f.ab),sols:a};this.ii.I4(this.wf)&&(b.act=this.ii.OJ(this.wf).ab);for(const [f,c]of this.Co)a[f.ab.toString()]=c.ga();return b}static L2(a,b){const f=a.H();var c=a.iW(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var n=a.SV(b.act);if(!n)return null;g=n.Ca()}n=d.A(d.bD,a);n.sc=b.t;n.ra=-1===n.sc?"signal":"timer";n.Nu=b.st;n.oz=b.s;n.ii=c;n.wf=g;for(var h of b.sm)(c=f.Aw(h))&&n.te.push(c);for(const [l,m]of Object.entries(b.sols))if(b=
f.Aw(parseInt(l,10)))h=d.A(d.FM,null),h.oa(a,m),n.Co.set(b,h);return n}}}{"use strict";const d=self.B;d.FM=class extends d.ca{constructor(a){super();this.I=null;this.nz=!0;this.F=[];a&&(this.I=a.G(),this.nz=a.Ib,d.Oc(this.F,a.F))}m(){this.I=null;d.D(this.F)}uE(a){a.Kd(this.nz);d.Oc(a.F,this.F)}xn(a){d.pg(this.F,a)}ga(){return{sa:this.nz,insts:this.F.map(a=>a.Ec)}}oa(a,b){a=a.H();this.nz=!!b.sa;d.D(this.F);for(const f of b.insts)(b=a.Oi(f))&&this.F.push(b)}}}
{"use strict";const d=self.B;function a(b,f){let c=b.get(f);c||(c=new Map,b.set(f,c));return c}d.Bp=class extends d.ca{constructor(b){super();this.g=b.ic;this.dm=!!b.iS;this.Se=!!b.saa;this.M9=!!b.raa;this.U9=!!b.Gaa;this.y9=!!b.haa;this.DR=!!b.gba;this.o$=!!b.fba;this.tR=null;this.wP=new Map;this.d9=new Map;this.e9=new Map;this.f9=new Map}m(){this.g=null}H(){return this.g}xd(){}rp(){return this.M9}Dl(){return this.U9}kC(){return this.y9}ij(b,f){if(!f)throw Error("missing 'this' binding");let c=this.wP.get(b);
if(c)return c;c=b.bind(f);this.wP.set(b,c);return c}DN(b,f,c){if(!f)throw Error("missing 'this' binding");const g=a(this.d9,b);let n=g.get(c);if(n)return n;n=b.bind(f,c);g.set(c,n);return n}EN(b,f,c,g){if(!f)throw Error("missing 'this' binding");var n=a(this.e9,b);n=a(n,c);let h=n.get(g);if(h)return h;h=b.bind(f,c,g);n.set(g,h);return h}FN(b,f,c,g,n){if(!f)throw Error("missing 'this' binding");var h=a(this.f9,b);h=a(h,c);h=a(h,g);let l=h.get(n);if(l)return l;l=b.bind(f,c,g,n);h.set(n,l);return l}g8(b){if(!this.dm)throw Error("must be single-global plugin");
this.tR=b}Vi(){if(!this.dm)throw Error("must be single-global plugin");return this.tR.Vi()}}}{"use strict";const d=self.B;d.Tga=class extends d.Bp{constructor(a,b){super(a);this.Tn=b;this.Y9=0;this.bG=new Map;this.$I("elem-focused",f=>f.X5());this.$I("elem-blurred",f=>{f&&f.W5()})}m(){super.m()}h2(a){const b=this.Y9++;this.bG.set(b,a);return b}N6(a){this.bG.delete(a)}$I(a,b){this.g.oh(this.Tn,a,f=>{const c=this.bG.get(f.elementId);b(c,f)})}}}
{"use strict";const d=self.B;d.gx=class extends d.ca{constructor(a){super();this.I=a;this.g=a.H();this.Wg=a.wb()}m(){this.Wg=this.g=this.I=null}G(){return this.I}H(){return this.g}wb(){return this.Wg}kf(){return this.I.kf()}Vr(){}sp(){}wn(){}Zw(){}OC(){}ak(){return null}}}
{"use strict";const d=self.B;d.dx=class extends d.ca{constructor(a,b){super();this.ia=a;this.Tn=b;this.g=a.H();this.I=this.ia.G();this.rc=this.I.rc;this.Zq=this.Zk=null;this.lu=this.Kk=!1;this.Me=null;this.lv=!1}m(){this.lv=!0;this.wt();this.FE();this.Zq=this.Zk=null;this.Me&&(this.Me.m(),this.Me=null);this.rc=this.I=this.g=this.ia=null}wx(){return this.lv}za(){return this.ia}H(){return this.g}G(){return this.I}wb(){return this.rc.wb()}Ew(){return this.ia.yg()}xa(a){return this.g.xa(a,this.ia,null)}vf(a){return this.g.vf(a,
this.ia,null)}ZI(a,b){this.g.oh(this.Tn,a,b)}AL(a,b){this.g.tn(this.Tn,a,b)}yO(a,b){this.g.Gk?this.AL(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Tn,handler:a,data:b,responseId:null})}me(){}Sl(){this.Kk||(this.Zk||(this.Zk=()=>this.me()),this.g.Kb().addEventListener("tick",this.Zk),this.Kk=!0)}wt(){this.Kk&&(this.g.Kb().removeEventListener("tick",this.Zk),this.Kk=!1)}FE(){this.lu&&(this.g.Kb().removeEventListener("tick2",this.Zq),this.lu=!1)}md(){return null}$c(){}wc(){}Ih(){}MC(a,
b){if(0!==b){var f=this.wc(a);if("number"!==typeof f)throw Error("expected number");this.Ih(a,f+b)}}ak(){return null}}}
{"use strict";const d=self.B;d.aD=class extends d.dx{constructor(a,b){super(a,b);this.eb=a.j();this.zA=this.fr=null}m(){if(this.fr){const a=this.g.Kb();a.removeEventListener("webglcontextlost",this.fr);a.removeEventListener("webglcontextrestored",this.zA);this.zA=this.fr=null}this.eb=null;super.m()}mX(){if(!this.fr){this.fr=()=>this.vp();this.zA=()=>this.xL();var a=this.g.Kb();a.addEventListener("webglcontextlost",this.fr);a.addEventListener("webglcontextrestored",this.zA)}}vp(){}xL(){}j(){return this.eb}pn(){return!1}Ri(){if(!this.pn())throw Error("original size not known");
const a=this.wh();if(a)return a.ba()}Qi(){if(!this.pn())throw Error("original size not known");const a=this.wh();if(a)return a.aa()}wh(){return null}mw(){var a=this.wh();return a&&(a=a.Hd())?[a.ba(),a.aa()]:[100,100]}ow(){const a=this.wh();return a?a.Xi():null}Ym(){const a=this.ia.j();return[a.ka(),a.la()]}yp(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Rect);d.Sga=class extends d.aD{constructor(b,f){super(b,f);this.Dy=this.wb().h2(this);this.pQ=!0;this.Z8=this.AF=!1;this.Bq=d.A(d.Rect,0,0,-1,-1);b=this.g.V;this.HQ=b.Dm;this.GQ=b.Cm;this.Sl()}m(){this.wb().N6(this.Dy);this.wp("destroy");this.Dy=-1;super.m()}wp(b,f){f||(f={});f.elementId=this.Dy;this.AL(b,f)}xO(b){b||(b={});b.elementId=this.Dy;this.yO("focus",b)}kx(b){b=!!b;this.pQ!==b&&(this.pQ=b,this.wp("set-visible",{isVisible:b}))}me(){this.G8()}m8(){const b=
this.g.V.vw();return"Android"===d.Rc.up&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}G8(){var b=this.j();const f=b.Y();var c=b.ka(),g=b.la();let [n,h]=f.sn(c,g),[l,m]=f.sn(c+b.ba(),g+b.aa());c=this.g.V;g=c.Ac;const p=c.mc;if(b.xc()&&f.xc()){if(!this.m8()){if(0>=l||0>=m||n>=g||h>=p){this.kx(!1);return}1>n&&(n=1);1>h&&(h=1);l>=g&&(l=g-1);m>=p&&(m=p-1)}a.set(n,h,l,m);b=c.Dm;g=c.Cm;a.Nc(this.Bq)&&this.HQ===b&&this.GQ===g?this.kx(!0):(this.Bq.ta(a),this.HQ=b,this.GQ=g,this.kx(!0),b=null,this.Z8&&
(b=f.Tj()-.2),this.wp("update-position",{left:Math.round(this.Bq.M)+c.$r(),top:Math.round(this.Bq.L)+c.bs(),width:Math.round(this.Bq.width()),height:Math.round(this.Bq.height()),fontSize:b}))}else this.kx(!1)}LJ(){this.xO({focus:!0})}fJ(){this.xO({focus:!1})}X5(){this.AF=!0}W5(){this.AF=!1}r0(b,f){this.wp("set-css-style",{prop:d.xT(b),val:f})}q0(b,f){this.wp("set-attribute",{name:b,val:f})}E_(b){this.wp("remove-attribute",{name:b})}}}
{"use strict";const d=self.B,a=self.EX;d.Pga=class extends d.ca{constructor(b){super();this.g=b.ic;this.QG=d.A(d.gB);this.Kz=d.A(d.gB);this.Zt=null;this.j$=b.Tla||null}m(){this.Kz.m();this.QG.m();this.g=null}H(){return this.g}xd(){}i2(b){this.QG.tc(b)}gK(){return this.QG.EB()}Xf(b){this.Kz.tc(b)}Gn(b){this.Kz.Sm(b)}fa(){return this.Kz.EB()}zW(){if(null===this.Zt){const b=this.j$;if(b){if(this.Zt=new b(this),!(this.Zt instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Zt=new a(this)}return this.Zt}}}{"use strict";const d=self.B;d.Rga=class extends d.ca{constructor(a){super();this.g=a.H();this.zc=a;this.I=a.G();this.Zh=a.ql();this.Zh.i2(this.I)}m(){this.Zh=this.I=this.zc=this.g=null}wg(){return this.zc}G(){return this.I}H(){return this.g}ql(){return this.Zh}}}
{"use strict";const d=self.B;d.Qga=class extends d.ca{constructor(a,b){super();this.ky=a;this.Tn=b;this.ia=a.ia;this.g=a.H();this.zc=a.wg();this.rc=this.zc.rc;this.tQ=this.lu=this.Kk=!1;this.Me=null}m(){this.wt();this.FE();this.s8();this.Me&&(this.Me.m(),this.Me=null);this.rc=this.zc=this.g=this.ia=this.ky=null}ql(){return this.zc.ql()}G(){return this.ia.G()}j(){return this.ia.j()}H(){return this.g}wg(){return this.zc}Ew(){return this.ky.Ew()}xa(a){return this.g.xa(a,this.ia,this.zc)}vf(a){return this.g.vf(a,
this.ia,this.zc)}me(){}Sl(){this.Kk||(this.g.d2(this),this.Kk=!0)}wt(){this.Kk&&(this.g.K6(this),this.Kk=!1)}FE(){this.lu&&(this.g.L6(this),this.lu=!1)}s8(){this.tQ&&(this.g.J6(this),this.tQ=!1)}ZI(a,b){this.g.oh(this.Tn,a,b)}md(){return null}$c(){}wc(){}Ih(){}MC(a,b){if(0!==b){var f=this.wc(a);if("number"!==typeof f)throw Error("expected number");this.Ih(a,f+b)}}ak(){return null}}}
{"use strict";const d=self.B;d.C={};d.Uo={};d.k_=class extends d.ca{constructor(a){super();this.g=a;this.X8=[];this.eR=new Map;this.fd=null;this.U8=[];this.gF=new Map;this.zQ=this.wR=null}hU(a){const b=this.g.zg(a[0]);if(!b)throw Error("missing plugin");d.RS(a,b);a=d.A(b,{ic:this.g,iS:a[1],saa:a[2],raa:a[5],haa:a[8],Gaa:a[9],gba:a[13],fba:a[14]});a.xd();this.X8.push(a);this.eR.set(b,a)}jU(){this.fd=d.A(d.C.Na,{ic:this.g,iS:!0});this.fd.xd()}cU(a){a=this.g.zg(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{ic:this.g});b.xd();this.U8.push(b);this.gF.set(a,b);!this.wR&&d.Uo.dba&&b instanceof d.Uo.dba?this.wR=b:!this.zQ&&d.Uo.uaa&&b instanceof d.Uo.uaa&&(this.zQ=b)}XW(a){return this.eR.get(a)||null}tX(a){return this.gF.has(a)}WV(a){return this.gF.get(a)||null}ns(){return this.fd}}}
{"use strict";const d=self.B,a=new Set;d.Qw=class extends d.ca{constructor(){super();this.Ej="";this.O=this.S=this.Cu=this.Bu=this.Sq=0;this.Wt=this.mz=!1;this.Oe=null;this.Yk="";this.Cf=d.A(d.Rect);this.xo=d.A(d.ld);a.add(this)}m(){this.Fh();this.Oe=null;a.delete(this)}static vp(){for(const b of a)b.Yk="",b.Cf.set(0,0,0,0),b.xo.lh(b.Cf)}YK(b){this.Ej=b[0];this.Sq=b[1];this.Bu=b[2];this.Cu=b[3];this.S=b[4];this.O=b[5];this.mz=b[6];this.Wt=!0}gZ(b,f){if(this.Oe)throw Error("already loaded asset");
this.Ej=f;const c={};d.sC(f)&&(c.wv="remote");this.XK(b,c);return this.Oe.WK()}N_(b){if(b===this)throw Error("cannot replace with self");this.Fh();this.Ej=b.Ej;this.Sq=b.Sq;this.Bu=b.Bu;this.Cu=b.Cu;this.S=b.S;this.O=b.O;this.Wt=b.Wt;this.Oe=b.Oe;this.Yk=b.Yk;this.Cf=b.Cf;this.xo=b.xo}wl(){return this.Sq}ba(){return this.S}aa(){return this.O}XK(b,f){if(this.Oe)throw Error("already got asset");f=Object.assign({},f,{url:this.Ej,size:this.wl()});this.Oe=b.Xw(f)}CC(){return this.Oe&&this.Oe.CC()}async Bs(b,
f){if(!this.Oe)throw Error("no asset");if(this.Yk)throw Error("already loaded texture");this.Yk="loading";b=await this.Oe.Bs(b,f);if(!b)return this.Yk="",null;this.Yk="loaded";this.Wt||(this.S=b.ba(),this.O=b.aa(),this.Wt=!0);this.Cf.set(this.Bu,this.Cu,this.Bu+(this.mz?this.O:this.S),this.Cu+(this.mz?this.S:this.O));this.Cf.fl(b.ba(),b.aa());this.xo.lh(this.Cf);this.mz&&this.xo.Vaa();return b}Fh(){this.Yk&&(this.Oe&&this.Oe.Fh(),this.Yk="",this.Cf.set(0,0,0,0),this.xo.lh(this.Cf))}Hd(){return this.Oe?
this.Oe.Hd():null}Xi(){return this.Cf}Fw(){return this.xo}}}
{"use strict";const d=self.B;d.hT=class extends d.ca{constructor(a){super();this.Ba=a[0];this.l$=a[1];this.iz=!!a[2];this.Rq=a[3];this.nR=a[4];this.L9=!!a[5];this.ab=a[6];this.rd=a[7].map(b=>d.A(d.gT,b))}m(){for(const a of this.rd)a.m();d.D(this.rd)}dZ(a){for(const b of this.rd)b.kf().XK(a)}eZ(a,b){return Promise.all(this.rd.map(f=>f.kf().Bs(a,b)))}B_(){for(const a of this.rd)a.kf().Fh()}wa(){return this.Ba}tl(a){a=Math.floor(a);if(0>a||a>=this.rd.length)throw new RangeError("invalid frame");return this.rd[a]}bk(){return this.l$}ul(){return this.Rq}}}
{"use strict";const d=self.B;d.gT=class extends d.ca{constructor(a){super();this.zf=d.A(d.Qw);this.zf.YK(a);this.HP=a[7];this.cR=d.A(d.Ys,a[8],a[9]);this.Vy=a[10].map(b=>d.A(d.QX,this,b));this.iQ=new Map;for(const b of this.Vy)this.iQ.set(b.wa().toLowerCase(),b);this.On=null;a=a[11];6<=a.length&&(this.On=d.A(d.Rm,a))}m(){this.On&&(this.On.m(),this.On=null);this.zf.m();this.zf=null}kf(){return this.zf}Xj(){return this.cR.N}Yj(){return this.cR.K}BW(a){return this.iQ.get(a.toLowerCase())||null}AW(a){a=
Math.floor(a);return 0>a||a>=this.Vy.length?null:this.Vy[a]}UB(){return this.Vy.length}}}{"use strict";const d=self.B;d.QX=class extends d.ca{constructor(a,b){super();this.Ba=b[0];this.eH=d.A(d.Ys,b[1],b[2])}m(){}wa(){return this.Ba}ka(){return this.eH.N}la(){return this.eH.K}}}
{"use strict";const d=self.B,a=self.rg,b=self.pC;d.LC=class extends d.ca{constructor(f,c,g){super();const n=f.zg(g[1]);this.g=f;this.Wg=f.uo.XW(n);this.rc=null;this.Zy=n.Instance;this.Oa=c;this.ab=g[11];this.Ba=g[0];this.pu=this.g.yh(g[14]);this.J9=!!g[9];this.Ta=!!g[2];this.qG=!!g[10];this.pi=g[3].map(h=>({BS:h[0],type:h[1],name:h[2],taa:f.yh(h[3])}));this.b9=g[4];this.t9=g[5];this.Se=this.Wg.Se;this.Ka=null;this.ty=d.A(d.m1,f.fg,f.eg);this.$E=!0;this.aF=!1;this.JF=this.Yn=null;this.Pg=-1;this.IF=
this.Iy=this.Jy=this.HF=this.Og=null;this.kG=!1;this.$f=null;this.uP=g[8].map(h=>d.dJ.Ma(this,h));this.ly=[];this.hF=new Map;this.fF=new Map;this.KR=new Set;this.om=d.A(d.j1,this);this.gy=this.fy=this.pd=this.zf=this.$f=this.lq=null;this.Yq=0;this.sb=new Map;this.eh=new Map;this.F=[];this.YF=!0;this.Wg.kC()&&(this.Ka=d.A(d.Pj,this,g[12]));g[6]&&(this.zf=d.A(d.Qw),this.zf.YK(g[6]));if(g[7]){this.pd=g[7].map(h=>d.A(d.hT,h));this.fy=new Map;this.gy=new Map;for(const h of this.pd)this.fy.set(h.wa().toLowerCase(),
h),this.gy.set(h.ab,h)}this.Ta?(this.Yn=[],this.JF=new Set,this.Pg=this.g.w4()):(this.Og=[],this.HF=new Set,this.Jy=[],this.Iy=[],this.IF=[]);this.rc=d.A(n.Pp,this,g[15]);this.oQ=this.au=null;this.Fd=d.A(d.Event.Kb);if(c=this.rc.ak()){if(this.au=new c(this),!(this.au instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.au=new b(this);this.g.vA&&!this.Ta&&!this.qG&&this.Se||this.xd();this.Wg.dm&&(this.Wg.g8(this),this.U2(g))}static Ma(f,c,g){return d.A(d.LC,
f,c,g)}m(){this.zf&&(this.zf.m(),this.zf=null);if(this.pd){for(const f of this.pd)f.m();d.D(this.pd);this.fy.clear();this.gy.clear()}this.om.m();this.om=null;this.sb.clear();this.eh.clear();this.g=this.$f=null}n5(f){for(let c=1,g=f.length;c<g;++c){const n=this.g.Ge(f[c]);this.Yn.push(n);this.JF.add(n);n.Og.push(this);n.HF.add(this)}}H7(f){this.kG=!0;this.$f=f}Lb(){return this.kG}S5(){var f=0;if(!this.Ta)for(var c of this.Og)for(var g of c.uP){const l=g.wa().toLowerCase();this.hF.set(l,g);this.fF.set(l,
f);this.ly.push(g);++f}for(var n of this.uP)c=n.wa().toLowerCase(),this.hF.set(c,n),this.fF.set(c,f),this.ly.push(n),++f;for(var h of this.ly)this.KR.add(h.ql().constructor);if(!this.Ta&&this.Og.length){f=this.g.MP;d.HA(this.Jy,f,0);d.HA(this.Iy,f,0);d.HA(this.IF,f,0);f=[];c=h=n=0;for(const l of this.Og)if(g=l.Pg,this.Jy[g]=n,n+=l.pi.length,this.Iy[g]=h,h+=l.b9,this.IF[g]=c,c+=l.t9,(g=l.Ka)&&this.Ka)for(const m of g.Kf())f.push(m.OT(this.Ka));this.Ka&&this.Ka.p_(f)}}U2(f){const c=this.g.v4(),g=d.A(d.Instance,
{ic:this.g,yI:this,uid:c});g.zx(f[16],[]);this.g.F5(c,g);this.F.push(g)}xd(){this.Ta||this.rc.xd()}xX(){return 0<this.Yq}sp(f){if(this.Ta)return Promise.resolve();this.Yq++;return 1===this.Yq?this.rc.sp(f)||Promise.resolve():Promise.resolve()}wn(){if(!this.Ta){this.Yq--;if(0>this.Yq)throw Error("released textures too many times");0===this.Yq&&this.rc.wn()}}Zw(){if(this.Ta)throw Error("not applicable to family");this.rc.Zw()}OC(f){return this.Ta?Promise.resolve():this.rc.OC(f)}H(){return this.g}wb(){return this.Wg}wa(){return this.Ba}yh(){return this.pu}Ca(){return this.Oa}Qf(){return this.J9}PM(f){return f&&
this.KR.has(f)}HW(){return this.pi.map(f=>f.BS)}GW(f){return this.pi.findIndex(c=>c.BS===f)}FW(f){return this.pi.findIndex(c=>c.name===f)}m4(){return this.pi.map(f=>f.taa)}js(f){f=Math.floor(f);if(0>f||f>=this.pi.length)throw new RangeError("invalid instance variable index");return this.pi[f].type}aK(f){f=Math.floor(f);if(0>f||f>=this.pi.length)throw new RangeError("invalid instance variable index");return this.pi[f].name}iw(f){return this.hF.get(f.toLowerCase())||null}Zr(f){f=this.fF.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}kC(){return this.Wg.kC()}QM(){return this.Ka&&this.Ka.pX()}P(){return this.om.P()}kf(){return this.zf}eM(f){this.lq=f}iB(f){return this.HF.has(f)}IJ(f){return this.JF.has(f)}Wm(f){return this.Iy[f]}PB(f){return this.Jy[f]}PJ(f){if(!this.pd)throw Error("no animations");return this.fy.get(f.toLowerCase())||null}VV(f){if(!this.pd)throw Error("no animations");return this.gy.get(f)||null}qW(){if(!this.pd)throw Error("no animations");return this.pd[0].tl(0)}eW(){if(this.pd){const f=
this.qW().kf();return[f.ba(),f.aa()]}return this.zf?[this.zf.ba(),this.zf.aa()]:[100,100]}Vi(){if(!this.Wg.dm)throw Error("not a single-global plugin");return this.F[0]}fa(){return this.F}*gS(){yield*this.F}*laa(){yield*this.F;for(const f of this.g.Fk)f.G()===this&&(yield f)}Xf(f){this.F.push(f)}qt(){this.YF=!0}$x(){if(this.YF&&!this.Ta){var f=this.F,c=0;for(let g=f.length;c<g;++c)f[c].UO(c);f=this.g.Fk;for(const g of f)g.G()===this&&g.UO(c++);this.YF=!1}}$J(f){var c=this.F;if(f<c.length)return c[f];
f-=c.length;c=this.g.Fk;for(const g of c)if(g.G()===this){if(0===f)return g;--f}return null}XJ(f){if(f&&f.Lb()&&f.G()!==this)for(const c of f.ed)if(c.G()===this)return c;f=this.P().fa();return f.length?f[0]:null}VW(f){const c=this.P().fa();return 0<c.length?c[f.Xm()%c.length]:null}*SR(f,c){const g=this.P().fa();var n=g.length;const h=c.P(),l=c.P().fa(),m=l.length;var p=f.Xm();if(c.Ta||!h.Ib)p=l.indexOf(f);f=Math.ceil(n/m);n%=m;0===n||p<n?(p*=f,n=f):(p=n*f+(p-n)*(f-1),n=f-1);for(let u=p,q=p+n;u<q;++u)yield g[u]}Vr(f){this.rc.Vr(f)}Ob(){if(this.kG&&
!this.Ta){this.$x();var f=this.P(),c=f.F,g=f.Ib,n=this.g.Ee();n=n&&n.ub()&&n.ub().sd;for(const m of this.$f.Rk)if(m!==this){m.$x();var h=m.P();h.Kd(g);if(!g){var l=h.F;d.D(l);for(const p of c)l.push(m.$J(p.Xm()));if(n){l=f.Ub;h=h.Ub;d.D(h);for(const p of l)h.push(m.$J(p.Xm()))}}}}}A8(f,c){for(const g of this.$f.Rk){const n=g.P();f?d.Ce(n.Ub,c):d.Ce(n.F,c)}}RO(){this.$E=!0}yE(f){this.aF=!!f}jP(){if(this.$E&&this.Se){for(const f of this.F)f.j().mP();for(const f of this.g.Fk)f.G()===this&&f.j().mP();
this.$E=!1}}Ui(){this.sb||(this.sb=new Map);return this.sb}qs(){this.eh||(this.eh=new Map);return this.eh}yK(){return this.PM(d.Uo.Pea)}lC(){return this.PM(d.Uo.mfa)}ga(){const f={instances:this.F.map(c=>c.md())};this.sb&&this.sb.size&&(f.ex=d.DD(this.sb));return f}oa(f){this.sb&&(this.sb.clear(),this.sb=null);var c=f.ex;c&&(this.sb=d.CB(c));c=this.F;f=f.instances;for(let g=0,n=Math.min(c.length,f.length);g<n;++g)c[g].$c(f[g]);for(let g=f.length,n=c.length;g<n;++g)this.g.Tm(c[g]);for(let g=c.length,
n=f.length;g<n;++g){c=f[g];let h=null;if(this.Se&&(h=this.g.Db().zw(c.w.l),!h))continue;this.g.th(this.lq||this,h,!1,0,0,!0).$c(c)}this.qt()}ug(f){var c=this.g;(c=c.rb&&!c.ea().Uw())&&a.yD();this.Fd.dispatchEvent(f);c&&a.eB()}}}{"use strict";const d=self.B;d.XT=class extends d.ca{constructor(a,b){super();this.g=a;this.Rk=b;for(const f of this.Rk)f.H7(this)}m(){this.g=null}H(){return this.g}sX(){return this.Rk.some(a=>a.Se)}}}
{"use strict";const d=self.B,a=self.rg,b=self.us,f=[];let c=0;const g=new WeakMap,n=new WeakMap;d.Instance=class extends d.ca{constructor(h){super();this.g=h.ic;this.Ad=h.yI;this.Od=this.na=this.eb=null;this.gQ=0;this.Ec=h.uid;this.jR=c++;this.ua=0;this.Jc=this.se=f;var l=this.Ad.ly;0<l.length&&(this.Jc=l.map((m,p)=>d.A(d.Mv,{ic:this.g,ZH:m,instance:this,index:p})));this.ed=this.Ad.Lb()?[]:null;this.Vd=-1;this.Fb=null;l=this.wb();l.Dl()&&(this.ua|=4);if(l.Se)if(this.eb=d.A(d.V1,this,h.vd),h.KS)this.eb.yl(h.KS);
else{this.eb.fY();const [m,p]=this.Ad.eW();this.eb.Tc(m,p);this.G().QM()&&this.eb.Pd.fZ()}h.fS?this.q5(h.fS):this.l5()}m(){this.Od&&(this.Od.pt(),this.Od=null);if(0<this.Jc.length){for(var h of this.Jc)h.m();d.D(this.Jc)}this.na.m();this.na=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=n.get(this))h.clear(),n.delete(this);this.ed&&d.D(this.ed);this.Fb&&(this.Fb.m(),this.Fb=null);this.Ad=this.g=null;0<this.se.length&&d.D(this.se);this.eb&&(this.eb.m(),this.eb=null)}q5(h){0<h.length&&(this.se=
[],d.Oc(this.se,h))}l5(){const h=this.Ad.pi.length;if(0!==h){this.se=[];var l=[0,0,""];for(let m=0;m<h;++m)this.se.push(l[this.Ad.js(m)])}}zx(h,l){if(this.na)throw Error("already got sdk instance");for(let m=0,p=this.Jc.length;m<p;++m)this.Jc[m].zx(l?l[m]:null);this.na=d.A(this.Ad.Zy,this,h);if(!(this.na instanceof d.dx))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,p=this.Jc.length;m<p;++m);this.Ad.oQ&&this.ZN()}j(){return this.eb}H(){return this.g}TV(){const h=this.Vd;return-1===
h?this.H().Vd:h}qD(h){h=+h;if(0>h||!isFinite(h))h=0;this.Vd=h}U_(){this.Vd=-1}Kb(){this.Fb||(this.Fb=d.A(d.Event.Kb));return this.Fb}ff(h){this.na.ff(h)}xd(h){this.na.xd(h)}U7(){this.ua|=2}dk(){return 0!==(this.ua&2)}lE(){this.ua|=1}HK(){return 0!==(this.ua&1)}Dl(){return 0!==(this.ua&4)}dL(){return 0!==(this.ua&32)}Ms(h,l){h<<=16;this.ua=l?this.ua|h:this.ua&~h}SB(h){return 0!==(this.ua&h<<16)}wh(){return this.na.wh()}mw(){return this.na.mw()}ow(){return this.na.ow()}Ym(h){return this.na.Ym(h)}G(){return this.Ad}yp(){return this.na.yp()}Vo(h){return h.Ta?
h.IJ(this.G()):this.G()===h}RM(){if(!this.wb().DR)throw Error("object does not support scene graph");}$i(){return null!==this.ya()}ya(){var h=this.j();return h?(h=h.ya())?h.za():null:null}Hw(){var h=this.j();return h?(h=h.Hw())?h.za():null:null}*zv(){const h=this.j();if(h)for(const l of h.zv())yield l.za()}Ie(){const h=this.j();return h?h.Ie():!1}De(){const h=this.j();return h?h.De().map(l=>l.za()):[]}*children(){const h=this.j();if(h)for(const l of h.children())yield l.za()}*Jj(){const h=this.j();
if(h)for(const l of h.Jj())yield l.za()}lw(){const h=this.j();return h?h.lw():0}IB(h){const l=this.j();return l?(h=l.IB(h))?h.za():null:null}ol(h,l){this.RM();h.RM();this.j().ol(h.j(),l||{})}cj(h){const l=this.j();l&&l.cj(h.j())}qw(){const h=this.j();return h?h.qw():!1}e1(){var h=this.j();if(h&&(h=h.nH))for(const l of h)if(h=this.g.Oi(l[2])){const m=l[3];this.ol(h,{Gr:!!(m>>0&1),Hr:!!(m>>1&1),Ro:!!(m>>2&1),Qo:!!(m>>3&1),Fr:!!(m>>4&1),ov:!!(m>>5&1),Ir:!!(m>>6&1)})}}Lb(){return null!==this.ed}Sp(h){this.ed.push(h)}zX(h){return!!this.rK(h)}rK(h){const l=
this.ed;if(null===l||0===l.length)return!1;for(const m of l)if(m.G()===h)return m;return null}Lh(){for(const h of this.ed)h.G().P().fj(h)}z6(){for(const h of this.ed)h.G().P().Fn(h)}f8(h){for(const l of this.ed)l.G().P().F[h]=l}y6(){for(const h of this.ed)h.G().P().Rl(h)}e8(h){for(const l of this.ed)l.G().P().Ub[h]=l}wb(){return this.Ad.wb()}UO(h){this.gQ=h}Xm(){this.Ad.$x();return this.gQ}QJ(h){const l=this.Jc;for(let m=0,p=l.length;m<p;++m)if(l[m].wg().ab===h)return m;return-1}fe(h){h|=0;const l=
this.se;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}KN(h){return this.se[h]}t4(h){const l=this.se[h];return 0===this.Ad.js(h)?!!l:l}Ll(h,l){h|=0;const m=this.se;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");switch(this.Ad.js(h)){case 0:m[h]=l?1:0;break;case 1:m[h]="number"===typeof l?l:parseFloat(l);break;case 2:m[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}D0(h,l){if(0!==l){h|=0;
var m=this.se;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");var p=m[h];if("number"===typeof p)m[h]="number"===typeof l?m[h]+l:m[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Ui(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}qs(){let h=n.get(this);if(h)return h;h=new Map;n.set(this,
h);return h}TN(h){const l=this.G();if(l.Fd.iC(h))return!0;for(const m of l.Og)if(m.Fd.iC(h))return!0;return this.g.Fd.iC(h)?!0:!1}Zx(){const h=new Set;h.add(this);const l=this.j();if(l&&l.Ie())for(const m of this.Jj())if(h.add(m),m.Lb())for(const p of m.ed)h.add(p);if(this.Lb())for(const m of this.ed)h.add(m);for(const m of h.values())m.gP()}gP(){if(this.TN("instancecreate")){const h=this.G(),l=new d.Event("instancecreate");l.instance=this.yg();h.ug(l);for(const m of h.Og)m.ug(l);this.g.ug(l)}this.g.xa(this.wb().constructor.J.jL,
this,null)}y8(){this.g.xa(this.wb().constructor.J.KZ,this,null)}d4(h){if(this.Od){var l=new d.Event("destroy");l.paa=h;this.ug(l)}if(this.TN("instancedestroy")){l=this.G();var m=new d.Event("instancedestroy");m.instance=this.yg();m.paa=h;l.ug(m);for(const p of l.Og)p.ug(m);this.g.ug(m)}}md(h="full"){const l={};"full"===h?l.uid=this.Ec:l.c3=!0;if("visual-state"!==h){var m=g.get(this);m&&m.size&&(l.ex=d.DD(m));-1!==this.Vd&&(l.mts=this.Vd);if(0<this.Ad.pi.length){m={};var p=this.Ad.HW();for(let u=0,
q=this.se.length;u<q;++u)m[p[u].toString()]=this.se[u];l.ivs=m}if(this.Jc.length){m={};for(const u of this.Jc)(p=u.md())&&(m[u.wg().ab.toString()]=p);l.behs=m}}this.eb&&(l.w=this.eb.ga(h));(h=this.na.md())&&(l.data=h);return l}Mx(h="full"){this.eb&&this.eb.Mx(h)}$c(h,l="full"){if("full"===l)this.Ec=h.uid;else if(!h.c3)return;if("visual-state"!==l){var m=g.get(this);m&&(m.clear(),g.delete(this));if(m=h.ex)m=d.CB(m),g.set(this,m);this.Vd=h.hasOwnProperty("mts")?h.mts:-1;if(m=h.ivs)for(const [q,v]of Object.entries(m))if(m=
this.Ad.GW(parseInt(q,10)),!(0>m||m>=this.se.length)){var p=v;null===p&&(p=NaN);this.se[m]=p}}if(this.wb().Se){m=h.w;var u=m.l;this.eb.Y().ab!==u&&(p=this.eb.Y(),(u=p.Zb().zw(u))?(this.eb.tt(u),p.Gn(this,!0),u.Xf(this,!0),u.Vf(),this.eb.Xa()):"full"===l&&this.g.Tm(this));this.eb.oa(m,l)}if("visual-state"!==l&&(l=h.behs))for(const [q,v]of Object.entries(l))l=this.QJ(parseInt(q,10)),0>l||l>=this.Jc.length||this.Jc[l].$c(v);(h=h.data)&&this.na.$c(h)}yg(){return this.Od||this.ZN()}ZN(){var h=this.eb?
self.Pw:b;const l=this.na.ak(),m=this.Ad.oQ,p=m||l||h;b.Uh(this);this.Od=new p;b.Uh(null);if(l&&!(this.Od instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(m&&(h=l||h,!(this.Od instanceof h)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${h.name}'`);return this.Od}s4(h){if(0!==this.se.length){var l={},m=this.Ad.m4();for(let p=0,u=m.length;p<u;++p)l[m[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.t4.bind(this,p),set:d.Instance.prototype.Ll.bind(this,p)};l=Object.create(Object.prototype,l);h.Aka={value:l,writable:!1}}}n4(h){var l=this.Jc;if(0!==l.length){var m={};for(const p of l)m[p.wg().yh()]={value:p.Ew(),writable:!1};l=Object.create(Object.prototype,m);h.mv={value:l,writable:!1}}}ug(h){h.instance=this.yg();var l=this.g;(l=l.rb&&!l.ea().Uw())&&a.yD();this.yg().dispatchEvent(h);l&&a.eB()}}}
{"use strict";const d=self.B;d.c0=class extends d.ca{constructor(a){super();this.Hb=a;this.fc=null;this.qy=[];this.hA=a.ba();this.gA=a.aa();this.zH=this.yH=1;this.Nz=0}m(){this.fc=null;d.D(this.qy)}wM(a){this.Nz=(this.fc=a)?a.Fa():0}ya(){return this.fc}Ie(){return 0<this.qy.length}De(){return this.qy}O0(a){this.yH=a}P0(a){this.zH=a}Si(){return this.Hb.bn()?this.fc.ba()/this.fc.yb.hA:1}Ti(){return this.Hb.an()?this.fc.aa()/this.fc.yb.gA:1}ga(){return{sw:this.hA,sh:this.gA,sx:this.yH,sy:this.zH,psa:this.Nz,
c:this.qy.map(a=>{let b="";a.cn()&&(b+="x");a.dn()&&(b+="y");a.bn()&&(b+="w");a.an()&&(b+="h");a.Jw()&&(b+="a");a.Kw()&&(b+="z");a.qw()&&(b+="d");return{uid:a.za().Ec,f:b}})}}oa(a){this.hA=a.sw;this.gA=a.sh;this.yH=a.sx;this.zH=a.sy;this.Nz=a.psa}pE(a){const b=this.Hb,f=b.H();for(const c of a.c){a=f.Oi(c.uid).j();const g=c.f,n={};n.Gr=g.includes("x");n.Hr=g.includes("y");n.Ro=g.includes("w");n.Qo=g.includes("h");n.Fr=g.includes("a");n.Ir=g.includes("z");n.ov=g.includes("d");b.ol(a,n)}}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.ld),f=d.A(d.Event,"bboxchange",!1),c=d.A(d.Va,0,0,0,0),g=d.A(d.Rm),n=d.A(d.Va,1,1,1,1),h=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),m=new Set(["absolute","relative"]),p=[];let u=!0;d.V1=class extends d.ca{constructor(q,v){super();this.ia=q;this.I=q.G();this.g=q.H();this.yj=v;this.Ij=-1;this.ua=196635;this.I.wb().rp()&&(this.ua|=128);this.Mq=this.Lq=this.rF=this.pH=this.Qa=this.qe=this.ni=this.Gi=this.Fc=this.K=this.N=NaN;this.lF=d.A(d.Rect);this.mF=
d.A(d.ld);this.ry=l;this.Hu=h;this.Ci=this.br=this.dA=null;this.Qn=this.Ya=n;this.Pd=this.Do=null;this.ia.G().QM()&&(this.Pd=d.A(d.wY,this.ia,this));this.nH=this.yb=null;this.Bo=this.qR=NaN;this.Vg=null}lE(){this.ua|=256}m(){this.Do&&(this.g.jb().IL(this.Do),this.Do=null);this.dA=null;this.br&&(this.br.sS.m(),this.br=null);this.Ci&&(this.Ci.clear(),this.Ci=null);this.cx();this.$i()&&this.ya().cj(this);if(this.Ie()){const q=[...this.De()];for(const v of q)this.cj(v)}this.Px();this.yj=this.g=this.I=
this.ia=null}yl(q){u=!1;this.Ol(q[0],q[1]);this.Ke(q[2]);this.Tc(q[3],q[4]);this.qe=0;this.rp()?this.nd(q[6]):this.Qa=0;c.ll(q[7]);this.Rx(c);this.Jp(q[8]);this.Kp(q[9]);this.sf(q[10]);this.Pd&&this.Pd.m5(q[12]);q[14]&&(this.nH=q[14][1],this.qR=q[14][2]);if(q[15]){var v=q[15];this.tB(v[0],v[1]);q=this.Wi();v=v[2];for(let t=0,w=v.length;t<w;++t){const y=v[t];for(let z=0,F=y.length;z<F;++z){const G=y[z],Q=q.hp(z,t);Q.Eg(G[0]);Q.Ph(G[1]);Q.Ke(G[2]);Q.rD(G[3]);Q.sD(G[4])}}}u=!0;this.Zp()}fY(){this.pH=
this.Qa=this.qe=this.ni=this.Gi=this.Fc=this.K=this.N=0;this.rF=1;this.Mq=this.Lq=0;this.Zp()}H(){return this.g}G(){return this.I}za(){return this.ia}gt(){return this.Jw()?this.ya().Fa()-this.yb.Nz:0}Eg(q){q=+q;if(this.cn()){const v=this.yb;q-=this.ka();const t=-this.gt();0===t?this.N+=q/v.Si():(this.N+=Math.cos(t)*q/v.Si(),this.dn()&&(this.K+=Math.sin(t)*q/v.Ti()))}else this.N=q}DZ(q){q=+q;this.cn()?this.Eg(this.ka()+q):this.N+=q}ka(){if(this.cn()){let q=this.N;const v=this.yb,t=this.ya(),w=this.gt();
0===w?q*=v.Si():(q=q*v.Si()*Math.cos(w),this.dn()&&(q-=this.K*v.Ti()*Math.sin(w)));return t.ka()+q}return this.N}Ph(q){q=+q;if(this.dn()){const v=this.yb;q-=this.la();const t=-this.gt();0===t?this.K+=q/v.Ti():(this.cn()&&(this.N-=Math.sin(t)*q/v.Si()),this.K+=Math.cos(t)*q/v.Ti())}else this.K=q}EZ(q){q=+q;this.dn()?this.Ph(this.la()+q):this.K+=q}la(){if(this.dn()){let q=this.K;const v=this.yb,t=this.ya(),w=this.gt();0===w?q*=v.Ti():(q=q*v.Ti()*Math.cos(w),this.cn()&&(q+=this.N*v.Si()*Math.sin(w)));
return t.la()+q}return this.K}Ol(q,v){q=+q;v=+v;if(this.vK()){const w=this.cn(),y=this.dn(),z=this.yb,F=q-this.ka(),G=v-this.la();var t=-this.gt();if(0===t)this.N=w?this.N+F/z.Si():q,this.K=y?this.K+G/z.Ti():v;else{const Q=Math.sin(t);t=Math.cos(t);this.N=w?y?this.N+(t*F-Q*G)/z.Si():this.N+t*F/z.Si():q;this.K=y?w?this.K+(Q*F+t*G)/z.Ti():this.K+t*G/z.Ti():v}}else this.N=q,this.K=v}Yw(q,v){q=+q;v=+v;this.vK()?this.Ol(this.ka()+q,this.la()+v):(this.N+=q,this.K+=v)}CV(q,v){return this.ka()===q&&this.la()===
v}Ke(q){q=+q;this.Kw()&&(q-=this.ya().Ua());this.Fc!==q&&(this.Fc=q,this.pP(),q=this.Y(),0!==this.Fc&&q.SO(),q.Vf())}pP(){this.Zp();if(this.Ie()){const q=this.De();for(let v=0,t=q.length;v<t;v++){const w=q[v];w.Kw()&&w.pP()}}}FZ(q){this.Ke(this.Ua()+q)}Ua(){return this.Kw()?this.ya().Ua()+this.Fc:this.Fc}he(){return this.Y().Ua()+this.Ua()}Oh(q){q=+q;this.Gi=this.bn()?this.Gi*(q/this.ba()):q}gL(q){q=+q;this.bn()?this.Oh(this.ba()+q):this.Gi+=q}ba(){return this.bn()?this.ya().ba()*this.Gi:this.Gi}Hh(q){q=
+q;this.ni=this.an()?this.ni*(q/this.aa()):q}fL(q){q=+q;this.an()?this.Hh(this.aa()+q):this.ni+=q}aa(){return this.an()?this.ya().aa()*this.ni:this.ni}Tc(q,v){q=+q;v=+v;this.Gi=this.bn()?this.Gi*(q/this.ba()):q;this.ni=this.an()?this.ni*(v/this.aa()):v}aX(){if(this.$i()){const q=this.yb;return Math.min(q.Si(),q.Ti())}return 1}rp(){return 0!==(this.ua&128)}nd(q){q=+q;this.rp()&&(this.Jw()&&(q-=this.ya().Fa()),q=d.Xd(q),this.Qa!==q&&(this.Qa=q,this.mE()))}zZ(q){q=+q;0!==q&&this.rp()&&(this.Qa=d.Xd(this.Qa+
q),this.mE())}mE(){this.ua|=262144;if(this.Ie()){const q=this.De();for(let v=0,t=q.length;v<t;v++)q[v].mE()}}Fa(){return this.Jw()?d.Xd(this.ya().Fa()+this.Qa):this.Qa}mO(){const q=this.ua;if(0!==(q&262144)){var v=this.Fa();this.pH=Math.sin(v);this.rF=Math.cos(v);this.ua=q&-262145}}eC(){this.mO();return this.pH}KB(){this.mO();return this.rF}Jp(q){this.Lq=+q}BZ(q){this.Lq+=+q}Xj(){return this.Lq}Kp(q){this.Mq=+q}CZ(q){this.Mq+=+q}Yj(){return this.Mq}Rx(q){this.Ya.Nc(q)||(this.Ya===n?(this.Ya=d.A(d.Va,
q),this.Qn=d.A(d.Va,q),this.Qn.GI()):q.qv(1,1,1,1)?this.Qn=this.Ya=n:(this.Ya.set(q),this.Qn.set(q),this.Qn.GI()),this.Zp())}mk(q){q=d.da(+q,0,1);this.Ya.Mo!==q&&(c.Kj(this.Ya),c.Mo=q,this.Rx(c))}AZ(q){this.mk(this.He()+q)}He(){return this.Ya.Mo}BM(q){this.Ya.hl(q)||(c.Kj(q),c.Mo=this.Ya.Mo,this.Rx(c))}a1(q,v,t){c.Cr(q,v,t);this.BM(c)}ZB(){return this.Qn}qw(){return 0!==(this.ua&512)}n0(q){this.oe(512,q)}cn(){return 0!==(this.ua&1024)}W0(q){this.oe(1024,q)}dn(){return 0!==(this.ua&2048)}vK(){return 0!==
(this.ua&3072)}X0(q){this.oe(2048,q)}bn(){return 0!==(this.ua&4096)}V0(q){this.oe(4096,q)}an(){return 0!==(this.ua&8192)}U0(q){this.oe(8192,q)}Jw(){return 0!==(this.ua&16384)}T0(q){this.oe(16384,q)}Kw(){return 0!==(this.ua&32768)}Y0(q){this.oe(32768,q)}fN(){this.ua&=-65025}ol(q,v){if(q!==this&&!q.$i()&&!this.VN(q)&&!this.UN(q)){var t=q.ka(),w=q.la(),y=q.ba(),z=q.aa(),F=q.Fa(),G=q.Ua();q.XO(this);q.W0(v.Gr);q.X0(v.Hr);q.V0(v.Ro);q.U0(v.Qo);q.T0(v.Fr);q.Y0(v.Ir);q.n0(v.ov);v.Gr&&(q.N=t-this.ka(),v.Ro&&
(q.N/=this.ba()/this.yb.hA));v.Hr&&(q.K=w-this.la(),v.Qo&&(q.K/=this.aa()/this.yb.gA));v.Ro&&(q.Gi=y/this.ba(),q.yb.O0(q.Gi));v.Qo&&(q.ni=z/this.aa(),q.yb.P0(q.ni));v.Fr&&(q.Qa=F-this.Fa());v.Ir&&(q.Fc=G-this.Ua());this.e2(q);this.Xa()}}cj(q){if(q.ya()===this){var v=q.ka(),t=q.la(),w=q.ba(),y=q.aa(),z=q.Fa(),F=q.Ua();q.XO(null);q.fN();q.Ol(v,t);q.Tc(w,y);q.nd(z);q.Ke(F);this.M6(q);this.Xa()}}T6(){for(var q of this.children())this.cj(q);(q=this.ya())&&q.cj(this);this.fN()}$i(){return null!==this.ya()}ya(){const q=
this.yb;return null!==q?q.ya():null}Hw(){let q=this;for(;q.$i();)q=q.ya();return q}*zv(){let q=this.ya();for(;q;)yield q,q=q.ya()}uX(q){return this.De().includes(q)}Ie(){const q=this.yb;return null!==q?q.Ie():!1}De(){const q=this.yb;return null!==q?q.De():p}children(){return this.De()}*Jj(){for(const q of this.children())yield q,yield*q.Jj()}lw(){return this.De().length}IB(q){const v=this.De();q=Math.floor(+q);return 0>q||q>=v.length?null:v[q]}PD(q){this.yb||(this.yb=d.A(d.c0,this));q&&this.yb.wM(q)}Px(){this.yb&&
(this.yb.m(),this.yb=null)}XO(q){q?(q.PD(null),this.PD(q)):(this.yb&&this.yb.wM(null),this.Ie()||this.Px())}UN(q){if(!this.$i())return!1;const v=this.ya();return v===q?!0:v.UN(q)}VN(q){if(this.uX(q))return!0;for(const v of this.De())if(v.VN(q))return!0;return!1}e2(q){this.yb.De().push(q)}M6(q){const v=this.yb.De(),t=v.indexOf(q);-1!==t&&v.splice(t,1);0!==v.length||this.$i()||this.Px();q.Ie()||q.Px()}mD(q){this.Bo=q}Zp(){if(u){var q=this.g.jb();this.Do&&q.IL(this.Do);this.Do=q.PS(0!==(this.ua&524288)?
q.eA||"<point>":q.fA||"<default>",this.vh(),this.Qn,this.Ua())}}xl(){return this.Ya===n}sf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.vh()!==q&&(this.ua=this.ua&-2080374785|q<<26,this.Zp())}vh(){return(this.ua&2080374784)>>26}tt(q){this.yj=q;0!==this.Ua()&&this.yj.SO()}Y(){return this.yj}Zb(){return this.Y().Zb()}Xx(q){this.Ij=q|0}Zi(){this.yj.yt();return this.Ij}oe(q,v){this.ua=v?this.ua|q:this.ua&~q}xc(){return 0!==(this.ua&1)}Nh(q){this.oe(1,q)}Ch(){return 0!==(this.ua&
8)}Ls(q){q=!!q;this.Ch()!==q&&(this.oe(8,q),q?this.Xa():this.CO())}oD(q,v){this.oe(32,q);this.Ci&&this.Ci.clear();if(v.trim()){this.Ci||(this.Ci=new Set);for(const t of v.split(" "))t&&this.Ci.add(t.toLowerCase())}else this.Ci=null}Xa(){this.ua|=65554;this.I.RO();this.g.Z();this.yj.Bn()&&(this.Pv(this.lF,this.mF,!0),this.ua&=-3,this.H8());0!==(this.ua&4)&&this.ia.Kb().dispatchEvent(f);if(null!==this.yb){const q=this.yb.De();for(let v=0,t=q.length;v<t;++v)q[v].Xa()}}Pv(q,v,t){const w=this.ka(),y=this.la(),
z=this.ba(),F=this.aa(),G=this.Fa();q.mh(w-this.Lq*z,y-this.Mq*F,z,F);t&&this.pf()&&this.X3(q);0===G?v.lh(q):(q.offset(-w,-y),v.yS(q,this.eC(),this.KB()),v.offset(w,y),v.lI(q));q.normalize()}lP(){const q=this.ua;0!==(q&2)&&(this.Pv(this.lF,this.mF,!0),this.ua=q&-3)}vc(){this.lP();return this.lF}Mi(){this.lP();return this.mF}zL(q){var v=this.ka(),t=this.la();v=Math.round(v)-v;t=Math.round(t)-t;if(0===v&&0===t)return q;b.ta(q);b.offset(v,t);return b}j0(q){this.oe(4,q)}EK(){return 0!==(this.ua&4)}NK(q,
v,t){return v&&0!==this.qe?this.op(this.Y().ht()):0===this.Ua()||t?q.LA(this.vc()):this.c5()}c5(){const q=this.Y(),v=this.he();if(v>=q.kw())return!1;q.xK(v,a);return a.LA(this.vc())}op(q){var v=this.vc();const t=v.M,w=v.$,y=v.L;v=v.U;const z=this.he();return q.YT(t,y,z,w,v,z+this.qe)}Sx(q){this.oe(1048576,q)}Ux(q){this.oe(2097152,q)}pD(q){this.dA=q;this.WD();this.pf()&&(this.Vg.tI=null)}Nw(){return null!==this.dA||this.pf()}ck(){return this.p4(this.ba(),this.aa(),this.Fa(),this.eC(),this.KB())}p4(q,
v,t,w,y){let z=this.br;null===z&&(this.br=z={sS:d.A(d.Rm),width:NaN,height:NaN,angle:NaN});const F=z.sS;if(z.width===q&&z.height===v&&z.angle===t)return F;const G=this.dA;if(this.pf()){const Q=this.Xj(),D=this.Yj(),H=this.Wi();let J=this.Vg.tI;J||(G?(g.ta(G),g.offset(Q,D)):g.$aa(),J=H.vY(g),this.Vg.tI=J);H.y1(J,F);F.offset(-Q,-D);F.XI(q,v,w,y)}else G?(F.ta(G),F.XI(q,v,w,y)):F.OI(this.Mi(),-this.ka(),-this.la());z.width=q;z.height=v;z.angle=t;return F}WD(){this.K0();const q=this.br;null!==q&&(q.width=
NaN)}tB(q,v){q=Math.floor(q);v=Math.floor(v);if(!this.za().wb().o$)throw Error("object does not support mesh");this.cx();this.Vg={SI:d.A(d.T.cL,q,v),ES:d.A(d.T.cL,q,v),tI:null}}pf(){return null!==this.Vg}Wi(){if(!this.pf())throw Error("no mesh");return this.Vg.SI}wK(){if(!this.pf())throw Error("no mesh");return this.Vg.ES}jD(q){this.oe(65536,q)}QK(){return 0!==(this.ua&65536)}K0(){this.oe(131072,!0)}X3(q){const v=this.Vg.SI,t=Math.min(v.TW(),0),w=Math.min(v.UW(),0),y=Math.max(v.QW(),1),z=Math.max(v.RW(),
1),F=q.width(),G=q.height();q.offsetLeft(t*F);q.offsetTop(w*G);q.Kaa((y-1)*F);q.Jaa((z-1)*G);this.qe=v.SW()}cx(){this.Vg&&(this.Vg.SI.m(),this.Vg.ES.m(),this.Vg=null,this.WD())}sM(q,v,t){q=Math.floor(q);v=Math.floor(v);var w=t.mode||"absolute";if(!m.has(w))throw Error("invalid mode");w="relative"===w;let y=t.x,z=t.y;const F=t.Kv;let G="number"===typeof t.IS?t.IS:w?0:-1;t="number"===typeof t.JS?t.JS:w?0:-1;if(!this.pf())return!1;const Q=this.Wi(),D=Q.hp(q,v);if(null===D)return!1;let H=!1;"number"===
typeof F&&D.Ua()!==F&&(D.Ke(F),H=!0);w&&(y+=q/(Q.uj-1),z+=v/(Q.Fj-1));-1!==G||w?(w&&(G+=q/(Q.uj-1)),G=d.da(G,0,1)):G=D.mg;-1!==t||w?(w&&(t+=v/(Q.Fj-1)),t=d.da(t,0,1)):t=D.og;if(D.ka()===y&&D.la()===z&&D.mg===G&&D.og===t)return H;D.Eg(y);D.Ph(z);D.rD(G);D.sD(t);this.WD();return!0}dk(){return this.ia.dk()}Nr(q,v){return this.vc().$e(q,v)&&this.Mi().$e(q,v)?this.dk()?void 0:this.Nw()?this.ck().$e(q-this.ka(),v-this.la()):!0:!1}Z4(){return 0!==(this.ua&16)}mP(){if(this.Z4()&&this.Ch()&&0===(this.ua&256)){var q=
this.vc(),v=this.I.ty,t=this.ry;a.set(v.Qh(q.M),v.Rh(q.L),v.Qh(q.$),v.Rh(q.U));t.Nc(a)||(q=this.ia,t===l?(v.nk(q,null,a),this.ry=d.A(d.Rect,a)):(v.nk(q,t,a),t.ta(a)),this.ua&=-17)}}CO(){const q=this.ry;q!==l&&(this.I.ty.nk(this.ia,q,null),this.ry=l)}H8(){const q=this.Y();if(q.Bn()&&0===(this.ua&256)){var v=q.Qq,t=this.vc(),w=this.Hu;a.set(v.Qh(t.M),v.Rh(t.L),v.Qh(t.$),v.Rh(t.U));w.Nc(a)||(t=this.ia,w===h?(v.nk(t,null,a),this.Hu=d.A(d.Rect,a)):(v.nk(t,w,a),w.ta(a)),q.M0())}}DO(){const q=this.Hu;q!==
h&&(this.Y().Qq.nk(this.ia,q,null),this.Hu=h)}c2(){const q=this.ia,v=this.yj,t=v.F;t.length&&t.Wd(-1)===q||(v.Gn(q,!1),v.Xf(q,!1),this.g.Z())}a2(){const q=this.ia,v=this.yj,t=v.F;t.length&&t[0]===q||(v.Gn(q,!1),v.v6(q),this.g.Z())}b2(q){const v=this.ia,t=this.yj;if(t.Zb()!==q.Zb())throw Error("layer from different layout");q!==t&&(t.Gn(v,!0),this.tt(q),q.Xf(v,!0),this.g.Z())}Z1(q,v){const t=this.ia;let w=!1;const y=this.yj;if(q.Ec!==t.Ec){var z=q.j();if(!z)throw Error("expected world instance");z=
z.Y();y.Ca()!==z.Ca()&&(y.Gn(t,!0),this.tt(z),z.Xf(t,!0),w=!0);q=z.tZ(t,q,!!v);(w||q)&&this.g.Z()}}T7(q){this.oe(64,q)}ss(){return 0!==(this.ua&64)}ga(q){const v={x:this.ka(),y:this.la(),w:this.ba(),h:this.aa(),l:this.Y().ab,zi:this.Zi()};0!==this.Ua()&&(v.ze=this.Ua());0!==this.Fa()&&(v.a=this.Fa());this.xl()||(v.c=this.Ya.toJSON());.5!==this.Xj()&&(v.oX=this.Xj());.5!==this.Yj()&&(v.oY=this.Yj());0!==this.vh()&&(v.bm=this.vh());this.xc()||(v.v=this.xc());this.Ch()||(v.ce=this.Ch());this.EK()&&(v.be=
this.EK());this.Pd&&(v.fx=this.Pd.ga());const t=0!==(this.ua&32);t&&(v.sfi=t);this.Ci&&(v.sft=[...this.Ci].join(" "));this.yb&&"visual-state"!==q&&(v.sgi=this.yb.ga());this.pf()&&(v.mesh=this.Wi().md());return v}Mx(q){"visual-state"!==q&&this.T6()}oa(q,v){u=!1;this.Eg(q.x);this.Ph(q.y);this.Oh(q.w);this.Hh(q.h);this.Xx(q.zi);this.Ke(q.hasOwnProperty("ze")?q.ze:0);this.nd(q.hasOwnProperty("a")?q.a:0);q.hasOwnProperty("c")?c.ll(q.c):q.hasOwnProperty("o")?(c.Kj(this.Ya),c.Mo=q.o):c.Om(1,1,1,1);this.Rx(c);
this.Jp(q.hasOwnProperty("oX")?q.oX:.5);this.Kp(q.hasOwnProperty("oY")?q.oY:.5);this.sf(q.hasOwnProperty("bm")?q.bm:0);this.Nh(q.hasOwnProperty("v")?q.v:!0);this.Ls(q.hasOwnProperty("ce")?q.ce:!0);this.j0(q.hasOwnProperty("be")?q.be:!1);this.oD(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.Pd&&q.hasOwnProperty("fx")&&this.Pd.oa(q.fx);if(q.hasOwnProperty("sgi")&&"visual-state"!==v){this.PD(null);const t=this.yb,w=q.sgi;t.oa(w);const y=this.H().Kb(),z=()=>{y.removeEventListener("afterload",
z);0===(this.ua&256)&&t.pE(w)};y.addEventListener("afterload",z)}q.hasOwnProperty("mesh")?(q=q.mesh,this.tB(q.cols,q.rows),this.Wi().$c(q)):this.cx();this.Xa();u=!0;this.Zp()}}}
{"use strict";const d=self.B;d.dJ=class extends d.ca{constructor(a,b){super();const f=a.H(),c=f.uo,g=f.zg(b[1]);c.tX(g)||c.cU(b);this.g=f;this.I=a;this.Zh=c.WV(g);this.rc=null;this.Zy=g.Instance;this.ab=b[2];this.Ba=b[0];this.pu=this.g.yh(b[3]);this.rc=d.A(g.Pp,this);this.xd()}static Ma(a,b){return d.A(d.dJ,a,b)}m(){this.Zh=this.g=null;this.rc.m();this.Zy=this.rc=null}xd(){this.rc.xd()}H(){return this.g}G(){return this.I}ql(){return this.Zh}wa(){return this.Ba}yh(){return this.pu}}}
{"use strict";const d=self.B,a=self.FX;d.Mv=class extends d.ca{constructor(b){super();this.g=b.ic;this.zc=b.ZH;this.Zh=this.zc.ql();this.ia=b.instance;this.Oa=b.index;this.Od=this.na=null;this.Zh.Xf(this.ia)}m(){this.Od&&(this.Od.pt(),this.Od=null);this.Zh.Gn(this.ia);this.na.m();this.ia=this.Zh=this.zc=this.g=this.Od=this.na=null}zx(b){if(this.na)throw Error("already got sdk instance");this.na=d.A(this.zc.Zy,this,b);this.R4()}H(){return this.g}wg(){return this.zc}ql(){return this.Zh}Gg(){return this.Oa}md(){return this.na.md()}$c(b){return this.na.$c(b)}static wD(b,
f){var c=b.ia,g=f.ia;const n=c.G().Ca(),h=g.G().Ca();if(n!==h)return n-h;c=c.jR;g=g.jR;return c!==g?c-g:b.ky.Gg()-f.ky.Gg()}R4(){const b=this.na.ak(),f=b||a;a.Uh(this);this.Od=new f;a.Uh(null);if(b&&!(this.Od instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Ew(){return this.Od}}}
{"use strict";const d=self.B;d.Pj=class extends d.ca{constructor(a,b){super();this.Hb=a;this.Zf=[];this.Wh=[];this.Cy=new Map;this.Ng=[];this.Nq=!0;for(const f of b)a=d.A(d.EJ,this,f,this.Zf.length),this.Zf.push(a),this.Cy.set(a.wa().toLowerCase(),a),3<=f.length&&this.Ng.push(this.jE(f[2]));this.H().g2(this)}m(){d.D(this.Zf);d.D(this.Wh);this.Cy.clear();d.D(this.Ng);this.Hb=null}p_(a){if(a.length){this.Zf=a.concat(this.Zf);for(const b of a)this.Cy.set(b.wa().toLowerCase(),b);for(let b=0,f=this.Zf.length;b<
f;++b)this.Zf[b].W7(b)}}jE(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.Va);g.ll(c);a[b]=g}}return a}H(){return this.Hb.H()}Pl(){d.D(this.Wh);let a=!0;for(const b of this.Zf)b.xb&&(this.Wh.push(b),b.bb.Nq||(a=!1));this.Nq=a}Kf(){return this.Zf}pX(){return 0<this.Zf.length}Uj(a){return this.Cy.get(a.toLowerCase())||null}UJ(a){a=Math.floor(+a);if(0>a||a>=this.Zf.length)throw new RangeError("invalid effect type index");return this.Zf[a]}vs(a){return this.UJ(a).xb}gM(a,
b){this.UJ(a).ix(b)}ss(){return 0<this.Wh.length}Mf(a){return this.Ng[a]}static a0(a){return a&&a instanceof d.Va?{t:"color",v:a.toJSON()}:a}static iZ(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.Va);b.ll(a.v);return b}throw Error("invalid effect parameter type");}return a}static XL(a){return a.map(d.Pj.a0)}static ZK(a){return a.map(d.Pj.iZ)}md(){return this.Zf.map(a=>({name:a.wa(),active:a.xb,params:d.Pj.XL(this.Ng[a.Ca()])}))}$c(a){for(const b of a)if(a=this.Uj(b.name))a.ix(b.active),
this.Ng[a.Ca()]=d.Pj.ZK(b.params);this.Pl()}}}
{"use strict";const d=self.B;d.EJ=class extends d.ca{constructor(a,b,f){super();this.Ka=a;this.re=b[0];this.Ba=b[1];this.Oa=f;this.bb=null;this.xb=!0}m(){this.bb=this.Ka=null}OT(a){a=d.A(d.EJ,a,[this.re,this.Ba],-1);a.bb=this.bb;a.xb=this.xb;return a}XN(a){a=a.qK(this.re);if(!a)throw Error("failed to find shader program '"+this.re+"'");this.bb=a}wa(){return this.Ba}W7(a){this.Oa=a}Ca(){return this.Oa}H(){return this.Ka.H()}ix(a){this.xb=!!a}fW(){const a=[];for(let b=0,f=this.bb.Lo.length;b<f;++b){const c=
this.bb.Bw(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.Va,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.wY=class extends d.ca{constructor(a,b){super();this.ia=a;this.u$=b;this.Ka=a.G().Ka;this.In=[];this.Wh=[];this.Nq=!0;this.Ng=[];for(const f of this.Ka.Kf())this.In.push(!0);this.Pl()}m(){d.D(this.In);d.D(this.Wh);d.D(this.Ng);this.Ka=this.ia=null}m5(a){for(const b of a)this.Ng.push(this.jE(b))}jE(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.Va);g.ll(c);a[b]=g}}return a}fZ(){for(const a of this.Ka.Kf())this.Ng.push(a.fW())}H(){return this.ia.H()}Pl(){d.D(this.Wh);
const a=this.Ka.Kf(),b=this.Wh,f=this.In;let c=!0;for(let g=0,n=a.length;g<n;++g)if(f[g]){const h=a[g];b.push(h);h.bb.Nq||(c=!1)}this.Nq=c;this.u$.T7(!!b.length)}Mf(a){return this.Ng[a]}vs(a){return this.In[a]}gM(a,b){this.In[a]=!!b}Kf(){return this.Ka.Kf()}ga(){return this.Ka.Kf().map(a=>({name:a.wa(),active:this.In[a.Ca()],params:d.Pj.XL(this.Ng[a.Ca()])}))}oa(a){for(const b of a)if(a=this.Ka.Uj(b.name))this.In[a.Ca()]=b.active,this.Ng[a.Ca()]=d.Pj.ZK(b.params);this.Pl()}}}
{"use strict";const d=self.B,a=[],b=d.A(d.Rm),f=d.A(d.Rm),c=d.A(d.ld);d.A(d.Rect);d.A(d.Rect);let g=null,n=null,h=null;d.PT=class extends d.ca{constructor(l){super();this.g=l;this.Xz=[]}m(){this.g=null}bJ(l,m,p){for(const [u,q]of this.Xz){let v;if(l===u)v=q;else if(l===q)v=u;else continue;v.Vo(m)&&(p.includes(v)||p.push(v))}}oJ(l,m){if(!this.Xz.length)return!1;for(const [p,u]of this.Xz)if(l===p&&m===u||l===u&&m===p)return!0;return!1}pJ(){d.D(this.Xz)}BD(l,m){if(!l||!m||l===m)return!1;l=l.j();m=m.j();
if(!l.Ch()||!m.Ch())return!1;const p=l.Y(),u=m.Y();return p.WY(u)?this.v8(l,m):this.u8(l,m)}v8(l,m){if(!l.vc().LA(m.vc())||!l.Mi().oI(m.Mi())||l.dk()&&m.dk())return!1;if(l.dk())return this.CD(l,m);if(m.dk())return this.CD(m,l);if(!l.Nw()&&!m.Nw())return!0;const p=l.ck(),u=m.ck();return p.tv(u,m.ka()-l.ka(),m.la()-l.la())}u8(l,m){var p=l.dk(),u=m.dk();if(p&&!u)return this.HM(l,m);if(u&&!p)return this.HM(m,l);if(u||p)return!1;u=l.Y();p=m.Y();b.ta(l.ck());f.ta(m.ck());var q=b.td;for(let v=0,t=q.length;v<
t;v+=2){const w=v+1,y=q[w],[z,F]=u.sn(q[v]+l.ka(),y+l.la());q[v]=z;q[w]=F}l=f.td;for(let v=0,t=l.length;v<t;v+=2){u=v+1;q=l[u];const [w,y]=p.sn(l[v]+m.ka(),q+m.la());l[v]=w;l[u]=y}b.NI();f.NI();return b.tv(f,0,0)}HM(l,m){var p=l.Y(),u=m.Y();g||(g=d.A(d.Rm));n||(n=d.A(d.Rect));h||(h=d.A(d.ld));var q=m.ka(),v=m.la();const [t,w]=u.sn(q,v),[y,z]=p.sg(t,w);p=y-q;v=z-v;n.ta(m.vc());n.offset(p,v);if(!l.vc().LA(n))return!1;h.ta(m.Mi());h.offset(p,v);if(!l.Mi().oI(h))return!1;g.ta(m.ck());u=g.td;for(let F=
0,G=u.length;F<G;F+=2)q=F+1,u[F]+=p,u[q]+=v;g.NI();return this.CD(l,m,y,z,g,n,h)}CD(l,m,p,u,q,v,t){v=void 0!==v?v:m.vc();const w=l.ka(),y=l.la();var z=l.za().na;p=void 0!==p?p:m.ka();u=void 0!==u?u:m.la();l=m.Nw();t=void 0!==t?t:m.Mi();z.kda(v,a);for(let Q=0,D=a.length;Q<D;++Q){var F=a[Q];z=F.nda();if(v.maa(z,w,y)&&(c.lh(z),c.offset(w,y),c.oI(t)))if(l){var G=void 0!==q?q:m.ck();if(F=F.YW()){if(F.tv(G,p-(w+z.M),u-(y+z.L)))return d.D(a),!0}else if(b.OI(c,0,0),b.tv(G,p,u))return d.D(a),!0}else if(G=
F.YW()){if(b.OI(t,0,0),G.tv(b,-(w+z.M),-(y+z.L)))return d.D(a),!0}else return d.D(a),!0}d.D(a);return!1}qx(l,m,p){const u=l.P();var q=this.g.ub();if(!q)throw Error("cannot call outside event");q=q.sd;if(u.Ib){u.Kd(!1);d.D(u.F);for(var v of l.fa()){var t=v.j(),w=t.Y();const [y,z]=w.sg(m,p,t.he());t.Nr(y,z)?u.Fn(v):q&&u.Rl(v)}}else{v=q?u.Ub:u.F;t=0;for(let y=0,z=v.length;y<z;++y){w=v[y];const F=w.j(),G=F.Y(),[Q,D]=G.sg(m,p,F.he());F.Nr(Q,D)?q?u.Fn(w):v[t++]=w:q&&(v[t++]=w)}v.length=t}l.Ob();return u.jC()}JB(l,
m,p,u){l=l?1!==l.Bd||1!==l.Cd:!1;if(m.Ta)for(const q of m.Yn)l||q.aF?d.Fm(u,q.fa()):(q.jP(),q.ty.bx(p,u));else l||m.aF?d.Fm(u,m.fa()):(m.jP(),m.ty.bx(p,u))}}}
{"use strict";const d=self.B;d.m1=class extends d.ca{constructor(a,b){super();this.oF=a;this.nF=b;this.ai=d.A(d.Ds)}m(){this.ai.m();this.ai=null}rl(a,b,f){let c=this.ai.X(a,b);return c?c:f?(c=d.A(d.kX,this,a,b),this.ai.Set(a,b,c),c):null}Qh(a){a=Math.floor(a/this.oF);return isFinite(a)?a:0}Rh(a){a=Math.floor(a/this.nF);return isFinite(a)?a:0}nk(a,b,f){if(b)for(let c=b.M,g=b.$;c<=g;++c)for(let n=b.L,h=b.U;n<=h;++n){if(f&&f.$e(c,n))continue;const l=this.rl(c,n,!1);l&&(l.Cg(a),l.mn()&&this.ai.Sm(c,n))}if(f)for(let c=
f.M,g=f.$;c<=g;++c)for(let n=f.L,h=f.U;n<=h;++n)b&&b.$e(c,n)||this.rl(c,n,!0).rC(a)}bx(a,b){let f=this.Qh(a.M);const c=this.Rh(a.L),g=this.Qh(a.$);a=this.Rh(a.U);if(isFinite(g)&&isFinite(a))for(;f<=g;++f)for(let n=c;n<=a;++n){const h=this.rl(f,n,!1);h&&h.xB(b)}}}}{"use strict";const d=self.B;d.kX=class extends d.ca{constructor(a,b,f){super();this.N=b;this.K=f;this.F=d.A(d.gB)}m(){this.F.m();this.F=null}mn(){return this.F.mn()}rC(a){this.F.tc(a)}Cg(a){this.F.Sm(a)}xB(a){d.Fm(a,this.F.EB())}}}
{"use strict";const d=self.B;d.Ofa=class{constructor(){this.rect=new d.Rect;this.pv=0}Set(a,b,f,c){this.rect.set(a,b,f,c);this.rect.normalize();this.pv=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),f=self.Mj.Lm,c=f.create(),g=d.A(d.ld),n=d.A(d.Rect);d.mJ=class extends d.ca{constructor(h){super();this.g=h;this.pj=null;this.vQ=!1;this.Hi=this.$a=null;this.QF="high-performance";this.Yl=this.Xl=this.Jg=this.Kg=this.mc=this.Ac=this.Cm=this.Dm=0;this.pq=!0;this.fi=this.sj=this.ER=0;this.r9=this.QP="letterbox-scale";this.q9=this.p9=0;this.zy=f.create();
this.mi=this.TH="high";this.xq=!1;this.Dt=[];this.uA=new Set;this.Zz=self.C3_Shaders;this.yf=this.am=0;this.uq=NaN;this.Sy=null;this.BG=new Map;this.Ut=NaN;this.AA=new Map;this.bA="";this.qH=1;this.uR=d.A(d.Rect);this.rH="";this.vR=this.Ou=null;this.uu=0;this.Td=-1;this.im=0;this.HG=l=>this.im=l.progress;this.Ve=null;this.We={xv:null,Av:null,Jv:null};this.uH=this.yR=this.vH=0;this.Ei="fade-in";this.tH=null;this.xR=new Promise(l=>this.tH=l)}R7(h){this.QF=h}k8(h){this.vQ=!!h}async tg(h){this.pj=h.canvas;
this.g.oh("runtime","window-resize",p=>this.p6(p));this.g.oh("runtime","fullscreenchange",p=>this.Y5(p));this.g.oh("runtime","fullscreenerror",p=>this.Z5(p));this.pj.addEventListener("webglcontextlost",p=>this.ot(p));this.pj.addEventListener("webglcontextrestored",()=>this.rE());this.xq=!!h.isFullscreen;var l=navigator.gpu&&this.vQ;let m=!1;if(l)try{await this.aO(!0)}catch(p){this.Hi=null}if(!this.jb())try{await this.$N(!0)}catch(p){this.$a=null}this.jb()||(m=!0);if(!this.jb()&&l)try{await this.aO(!1)}catch(p){this.Hi=
null}if(!this.jb())try{await this.$N(!1)}catch(p){this.$a=null}l=this.jb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.A0(m);this.Tc(h.windowInnerWidth,h.windowInnerHeight,!0);this.Hi?await this.U4():this.$a&&await this.T4();l.kD(this.pq);l.gj()&&(this.uq=0);h=!1;for(const p of this.g.VE){for(const u of p.Kf())u.XN(l),u.bb.dv&&(h=!0);p.Pl()}this.g.i8(h)}async aO(h){h={powerPreference:this.QF,depth:this.g.el,failIfMajorPerformanceCaveat:h};this.Hi=d.A(d.T.Yia);
await this.Hi.Ma(this.pj,h)}async $N(h){h={powerPreference:this.QF,cS:!0,depth:this.g.el,failIfMajorPerformanceCaveat:h};"Android"===d.Rc.up&&"Chromium"===d.Rc.Ov&&75>d.Rc.kB&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.mS=1);"standard"===this.g.gq?h.alpha=!0:(h.alpha=!1,h.sI=!0);this.$a=d.A(d.T.S1,this.pj,h);await this.$a.Rw()}async U4(){if(this.Zz){const h=[];for(const [l,m]of Object.entries(this.Zz))h.push(this.Hi.uB(l,
m.Cma,d.T.Zia.pw()));await Promise.all(h)}}async T4(){if(this.Zz){const h=[];for(const [l,m]of Object.entries(this.Zz))m.src=m.tka,h.push(this.$a.uB(m,d.T.Zs.pw(),l));await Promise.all(h);this.$a.R_();this.$a.Mh()}this.$a.gj()&&(this.Sy=d.A(d.T.UM,this.$a))}m(){this.pj=this.$a=this.g=null}p6(h){const l=this.g,m=h.devicePixelRatio;l.Gk&&(self.devicePixelRatio=m);l.K7(m);this.xq=!!h.isFullscreen;this.Tc(h.innerWidth,h.innerHeight);l.Z();l.rb&&(l.ts()||self.rg.Mda())&&l.RC()}Y5(h){this.xq=!!h.isFullscreen;
this.Tc(h.innerWidth,h.innerHeight,!0);this.g.Z()}Z5(h){this.xq=!!h.isFullscreen;this.Tc(h.innerWidth,h.innerHeight,!0);this.g.Z()}Tc(h,l,m=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Dm!==h||this.Cm!==l||m){this.Dm=h;this.Cm=l;m=this.ds();"letterbox-scale"===m?this.w2(h,l):"letterbox-integer-scale"===m?this.v2(h,l):"off"===m?this.t2(h,l):this.u2(h,l);this.F8(m);this.pj.width=this.Kg;this.pj.height=this.Jg;this.g.tn("canvas","update-size",{marginLeft:this.Xl,
marginTop:this.Yl,styleWidth:this.Ac,styleHeight:this.mc});h=this.jb();h.Tc(this.Kg,this.Jg,!0);for(var p of this.Dt)h.wU(p);d.D(this.Dt);h.Mr(this.zy,this.Lf()/this.jf());p=this.g.Za;p.Dp();p.Cp()}}w2(h,l){const m=this.g.Sj(),p=this.g.fg,u=this.g.eg,q=p/u;h/l>q?(this.Ac=Math.round(l*q),this.mc=l,this.Xl=Math.floor((h-this.Ac)/2),this.Yl=0):(this.Ac=h,this.mc=Math.round(h/q),this.Xl=0,this.Yl=Math.floor((l-this.mc)/2));this.Kg=Math.round(this.Ac*m);this.Jg=Math.round(this.mc*m);this.g.Ws(p,u)}v2(h,
l){const m=this.g.Sj();1!==m&&(h+=1,l+=1);const p=this.g.fg,u=this.g.eg;var q=p/u;q=h/l>q?l*q*m/p:h/q*m/u;1<q?q=Math.floor(q):1>q&&(q=1/Math.ceil(1/q));this.Kg=Math.round(p*q);this.Jg=Math.round(u*q);this.Ac=this.Kg/m;this.mc=this.Jg/m;this.Xl=Math.max(Math.floor((h-this.Ac)/2),0);this.Yl=Math.max(Math.floor((l-this.mc)/2),0);this.g.Ws(p,u)}u2(h,l){const m=this.g.Sj();this.Ac=h;this.mc=l;this.Kg=Math.round(this.Ac*m);this.Jg=Math.round(this.mc*m);this.Yl=this.Xl=0;h=this.Tj();this.g.Ws(this.Ac/h,
this.mc/h)}t2(h,l){const m=this.g.Sj();this.Ac=this.g.Gf;this.mc=this.g.Ff;this.Kg=Math.round(this.Ac*m);this.Jg=Math.round(this.mc*m);this.xq?(this.Xl=Math.floor((h-this.Ac)/2),this.Yl=Math.floor((l-this.mc)/2)):this.Yl=this.Xl=0;this.g.Ws(this.g.Gf,this.g.Ff)}F8(h){if("high"===this.TH)this.sj=this.Kg,this.fi=this.Jg,this.mi="high";else{let m;if("off"===this.ds()){var l=this.g.Gf;m=this.g.Ff}else l=this.g.fg,m=this.g.eg;this.Kg<l&&this.Jg<m?(this.sj=this.Kg,this.fi=this.Jg,this.mi="high"):(this.sj=
l,this.fi=m,this.mi="low","scale-inner"===h?(h=l/m,l=this.Dm/this.Cm,l<h?this.sj=this.fi*l:l>h&&(this.fi=this.sj/l)):"scale-outer"===h&&(h=l/m,l=this.Dm/this.Cm,l>h?this.sj=this.fi*l:l<h&&(this.fi=this.sj/l)))}}y0(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.QP=h;h=this.g.Za;h.Dp();h.Cp()}vw(){return this.QP}ds(){return this.xq?this.r9:this.vw()}hM(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.TH=h;this.g.Za.Dp()}static l4(h){switch(h){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Lf(){return this.sj}jf(){return this.fi}kD(h){this.pq=!!h}h8(h){this.ER=h}PY(){return this.jb().kn()}ot(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.Dt=[];this.uA.clear();this.$a.ik();this.g.ot()}async rE(){await this.$a.NC();await this.lja();for(const h of this.g.VE)for(const l of h.Kf())l.XN(this.$a);
await this.g.rE();console.log("[Construct 3] WebGL context restored")}gn(){return this.$a}rs(){return this.Hi}jb(){return this.Hi||this.$a}$j(){return"low"===this.mi?1/this.g.Sj():this.Tj()}Tj(){const h=this.ds();if("off"===h||"crop"===h)return 1;const l=this.g.fg,m=this.g.eg,p=l/m,u=this.Kg/this.Jg;return"scale-inner"!==h&&u>p||"scale-inner"===h&&u<p?this.mc/m:this.Ac/l}eD(h,l,m){l=l||this.sj;m=m||this.fi;const p=l/2+this.p9,u=m/2+this.q9;{let q=this.zy;if(l!==this.sj||m!==this.fi)h.Mr(c,l/m),q=
c;h.Mp(q)}l=h.Lr(p,u,100*this.g.Sj(),p,u,m||this.fi);h.Ip(l)}l0(h){var l=this.Ac/2;const m=this.mc/2;h.Mp(this.zy);l=h.Lr(l,m,100,l,m);h.Ip(l)}$r(){return this.Xl}bs(){return this.Yl}Xr(h){h.depth=this.g.el;const l=this.Dt,m=l.findIndex(u=>u.EY(h));let p;-1!==m?(p=l[m],l.splice(m,1)):p=this.jb().iU(h);this.uA.add(p);return p}Fl(h){if(!this.uA.has(h))throw Error("render target not in use");this.uA.delete(h);this.Dt.push(h)}*BA(){for(const h of this.g.Za.Ev())for(const l of h.Nb){const m=this.BG.get(l);
m&&(yield m)}}dK(h){if(!this.jb().gj())return null;let l=this.BG.get(h);l||(l={name:h.wa(),TI:d.A(d.T.UM,this.$a),DA:0,lS:0},this.BG.set(h,l));return l.TI}C8(){const h=this.jb();if(h.gj()&&0===this.yf){this.yf=h.Qg;this.Ut=NaN;for(const l of this.BA())l.DA=NaN}}J8(){this.$a&&this.$a.gj()&&this.K8();this.Hi&&this.Hi.gj()&&this.L8()}K8(){if(isNaN(this.Ut)&&(this.Ut=this.Sy.ZJ(this.am,this.yf),!isNaN(this.Ut))){if(this.g.rb)for(const h of this.BA())if(h.DA=h.TI.ZJ(this.am,this.yf),isNaN(h.DA))return;
this.Sy.AJ(this.yf);this.uq=Math.min(this.Ut,1);if(this.g.rb){for(const h of this.BA())h.TI.AJ(this.yf),h.lS=Math.min(h.DA,1);self.rg.H1(this.uq,[...this.BA()])}this.am=this.yf;this.yf=0}}L8(){if(0!==this.yf){for(var h=this.am;h<this.yf;++h){var l=this.AA.get(h);if(l&&!l.Ow())return}l=this.g.Db();h=d.nZ(l.Nb.length+1);for(var m=this.am;m<this.yf;++m){var p=this.AA.get(m);if(p){p=p.Dw();for(let u=0,q=Math.min(h.length,p.length/2);u<q;++u){const v=p[2*u],t=p[2*u+1];h[u]=0===Number(v)||0===Number(t)?
NaN:h[u]+Number(t-v)/1E9}}}this.uq=d.da(h[0],0,1);if(this.g.rb){m=[];l=l.Nb;for(let u=0,q=Math.min(l.length,h.length-1);u<q;++u)m.push({name:l[u].wa(),lS:d.da(h[u+1],0,1)});self.rg.H1(this.uq,m)}for(h=this.am;h<this.yf;++h)this.AA.delete(h);this.am=this.yf;this.yf=0}}p2(h){this.AA.set(this.Hi.Qg,h)}xw(){return this.uq}EM(h,l,m,p,u,q){this.bA=h;this.qH=l;this.uR.mh(m,p,u,q);return this.Ou?this.Ou:this.Ou=new Promise(v=>{this.vR=v})}J5(){if(this.bA){var h=this.pj,l=this.uR,m=d.da(Math.floor(l.M),0,
h.width),p=d.da(Math.floor(l.L),0,h.height),u=l.width();u=0===u?h.width-m:d.da(Math.floor(u),0,h.width-m);l=l.height();l=0===l?h.height-p:d.da(Math.floor(l),0,h.height-p);(0!==m||0!==p||u!==h.width||l!==h.height)&&0<u&&0<l&&(h=d.tg(u,l),h.getContext("2d").drawImage(this.pj,m,p,u,l,0,0,u,l));d.Qv(h,this.bA,this.qH).then(q=>{this.rH=URL.createObjectURL(q);this.Ou=null;this.vR(this.rH)});this.bA="";this.qH=1}}eY(h){this.$a&&(2===h?(this.Ve=d.A(d.T.TC,this.jb()),this.Ve.nM(),this.Ve.gD("Arial"),this.Ve.lx(16),
this.Ve.jM("center"),this.Ve.CM("center"),this.Ve.Tc(300,200)):0===h?(h=this.g.Fq)&&h.Bs(this.$a).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.x5().then(l=>{"done"===this.Ei?this.$a.Li(l):this.We.xv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.dO("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Ei?this.$a.Li(l):this.We.Av=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.dO("splash-images/splash-website-512.png").then(l=>
{"done"===this.Ei?this.$a.Li(l):this.We.Jv=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async x5(){var h=(new URL("splash-images/splash-logo.svg",this.g.HB())).toString();h=await d.Rj(h);h=await this.g.y_(h);return await this.$a.Zv(h,{yv:"high"})}async dO(h){h=(new URL(h,this.g.HB())).toString();h=await d.Rj(h);return await this.$a.Zv(h,{yv:"high"})}mC(){this.g.tn("runtime","hide-cordova-splash")}n1(){this.uu=Date.now();this.g.Kb().addEventListener("loadingprogress",this.HG);this.Td=
requestAnimationFrame(()=>this.uN());3!==this.g.Eq&&this.mC()}async BV(){if(this.$a){this.im=1;var h=this.g.Eq;4===h&&await this.xR;this.xR=this.tH=null;-1!==this.Td&&(cancelAnimationFrame(this.Td),this.Td=-1);this.g.Kb().removeEventListener("loadingprogress",this.HG);this.HG=null;this.Ve&&(this.Ve.m(),this.Ve=null);this.g.D_();this.$a.Xs();this.We.xv&&(this.$a.Li(this.We.xv),this.We.xv=null);this.We.Av&&(this.$a.Li(this.We.Av),this.We.Av=null);this.We.Jv&&(this.$a.Li(this.We.Jv),this.We.Jv=null);
this.$a.Vv();this.$a.Ur();this.Ei="done";this.am=this.$a.Qg;3===h&&this.mC()}}uN(){if(-1!==this.Td){var h=this.$a;if(h){h.Xs();this.Td=-1;var l=this.g.bd.TF,m=this.g.Eq;3!==m&&(this.l0(h),h.Vv(),h.Ap(),h.Mh(),h.uf(null));if(0===m)this.P3(l);else if(1===m)this.Cx(l,120,0);else if(2===m)this.O3(l);else if(3!==m)if(4===m)this.Q3(l);else throw Error("invalid loader style");h.Ur();this.Td=requestAnimationFrame(()=>this.uN())}}}O3(h){h?this.Ve.bM(1,0,0):this.Ve.bM(.6,.6,.6);this.Ve.Vs(Math.round(100*this.im)+
"%");h=this.Ac/2;const l=this.mc/2;g.AS(h-150,l-100,h+150,l+100);this.$a.uf(this.Ve.Hd());this.$a.un(g,this.Ve.Xi())}Cx(h,l,m){const p=this.$a;p.aM();h?p.Je(1,0,0,1):p.Je(.118,.565,1,1);h=this.Ac/2;const u=this.mc/2,q=l/2;n.mh(h-q,u-4+m,Math.floor(l*this.im),8);p.Rect(n);n.mh(h-q,u-4+m,l,8);n.offset(-.5,-.5);n.KA(.5,.5);p.Je(0,0,0,1);p.VK(n);n.KA(1,1);p.Je(1,1,1,1);p.VK(n)}P3(h){var l=this.g.Fq;if(l)if(l=l.Hd()){var m=l.ba(),p=l.aa(),u=this.Ac/2,q=this.mc/2,v=m/2;p/=2;g.AS(u-v,q-p,u+v,q+p);this.$a.uf(l);
this.$a.ld(g);this.Cx(h,m,p+16)}else this.Cx(h,120,0);else this.Cx(h,120,0)}Q3(h){const l=this.$a,m=this.We.xv,p=this.We.Av,u=this.We.Jv,q=Date.now();0===this.vH&&(this.uu=q);const v=this.g.qp()||this.g.H9&&!this.g.FY(),t=v?0:200,w=v?0:3E3;let y=1;"fade-in"===this.Ei?y=Math.min((q-this.uu)/300,1):"fade-out"===this.Ei&&(y=Math.max(1-(q-this.uH)/300,0));l.aM();l.Je(.231*y,.251*y,.271*y,y);n.set(0,0,this.Ac,this.mc);l.Rect(n);const z=Math.ceil(this.Ac),F=Math.ceil(this.mc);let G;256<this.mc?(l.Je(.302*
y,.334*y,.365*y,y),G=Math.max(.005*F,2),n.mh(0,.8*F-G/2,z,G),l.Rect(n),h?l.Je(y,0,0,y):l.Je(.161*y,.953*y,.816*y,y),h=z*this.im,n.mh(.5*z-h/2,.8*F-G/2,h,G),l.Rect(n),l.Je(y,y,y,y),l.Mh(),p&&(h=1.5*d.da(.22*F,105,.6*z),G=h/8,n.mh(.5*z-h/2,.2*F-G/2,h,G),l.uf(p),l.Rect(n)),m&&(G=h=Math.min(.395*F,.95*z),n.mh(.5*z-h/2,.485*F-G/2,h,G),l.uf(m),l.Rect(n)),u&&(h=1.5*d.da(.22*F,105,.6*z),G=h/8,n.mh(.5*z-h/2,.868*F-G/2,h,G),l.uf(u),l.Rect(n))):(l.Je(.302*y,.334*y,.365*y,y),G=Math.max(.005*F,2),n.mh(0,.85*F-
G/2,z,G),l.Rect(n),h?l.Je(y,0,0,y):l.Je(.161*y,.953*y,.816*y,y),h=z*this.im,n.mh(.5*z-h/2,.85*F-G/2,h,G),l.Rect(n),l.Je(y,y,y,y),l.Mh(),m&&(G=h=.55*F,n.mh(.5*z-h/2,.45*F-G/2,h,G),l.uf(m),l.Rect(n)));this.vH++;"fade-in"===this.Ei&&300<=q-this.uu&&2<=this.vH&&(this.Ei="wait",this.yR=q);"wait"===this.Ei&&q-this.yR>=w&&1<=this.im&&(this.Ei="fade-out",this.uH=q);("fade-out"===this.Ei&&q-this.uH>=300+t||v&&1<=this.im&&500>q-this.uu)&&this.tH()}}}
{"use strict";const d=self.B,a=self.rg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.WL=class extends d.ca{constructor(c){c=Object.assign({},b,c);super();this.yu=c.messagePort;this.a9=c.baseUrl;this.Gk=!!c.isInWorker;f=c.ife;this.Zl=c.exportType;this.wQ=!!c.isiOSCordova;this.H9=!!c.isFBInstantAvailable;this.b$=c.opusWasmScriptUrl;this.bR=c.opusWasmBinaryUrl;this.Qd=this.h9=this.rb=!("preview"!==this.Zl||!c.isDebug);this.vF=
0;this.SE=[];this.T8=[];this.gH=this.iR=this.Uz="";this.eg=this.fg=0;this.EP=self.devicePixelRatio;this.Eq=this.Ff=this.Gf=this.aH=this.$G=0;this.vA=!1;this.wj=!0;this.QH=!1;this.Fq=null;this.bd=d.A(d.oT,this,c);this.Za=d.A(d.aZ,this);this.qa=d.A(d.GV,this);this.uo=d.A(d.k_,this);this.bi=d.A(d.PT,this);this.tb=d.A(d.v1,this);this.EH=d.A(d.z1,this);this.yc=[];this.UG=new Map;this.VG=new Map;this.MP=0;this.V8=[];this.VE=[];this.Nt=[];this.Fk=[];this.az=new Map;this.Ty=!1;this.Au=this.WG=0;this.fo=new Map;
this.ho=new Set;this.bz=new Set;this.Lz=[];this.yQ=[];this.V=null;this.el=!1;this.KF="vsync";this.gq="standard";this.Wc="trilinear";this.Ik=!1;this.SG=!0;this.rG=this.dR=!1;this.p$={pS:g=>{this.Wk=this.Td=-1;this.me(g)},iba:g=>{this.Wk=-1;this.me(g,!1,"skip-render")},Uaa:()=>{this.Td=-1;this.RC()}};this.Wk=this.Td=-1;this.rq=this.Bj=0;this.eQ=this.hz=this.Uy=!1;this.nG=!0;this.Wq=0;this.g$=()=>Math.random();this.Ay=this.By=this.zz=this.qm=0;this.Vd=1;this.VQ=30;this.OF=d.A(d.xs);this.PF=d.A(d.xs);
this.SH=d.A(d.xs);this.Py=-1;this.Hz=this.Mk=this.Oy=this.$n=0;this.xj=!1;this.tu=this.Ju="";this.Dq=null;this.qo="";this.mH=this.fH=null;this.Fb=d.A(d.Event.Kb);this.zF=new Map;this.cH=new Map;this.X9=0;this.uQ=this.FP=this.GP=!1;this.RH=[];this.Xn={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};this.Xn.instancedestroy.instance=
null;this.Fd=d.A(d.Event.Kb);this.LR=null;this.Vl=d.A(d.vn,d.Mv.wD);this.Mn=d.A(d.vn,d.Mv.wD);this.Nn=d.A(d.vn,d.Mv.wD);this.nu=d.A(d.YY,this,c.jobScheduler);c.canvas&&(this.V=d.A(d.mJ,this));this.yu.onmessage=g=>this._OnMessageFromDOM(g.data);this.oh("runtime","visibilitychange",g=>this.m6(g));this.oh("runtime","opus-decode",g=>this.O8(g.arrayBuffer));this.oh("runtime","get-remote-preview-status-info",()=>this.A4());this.oh("runtime","js-invoke-function",g=>this.Kx(g));this.oh("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Fb.addEventListener("window-blur",g=>this.n6(g));this.Fb.addEventListener("window-focus",()=>this.o6());this.tb.dT();this.oi=null;this.C9=new WeakMap;this.Kt={keyboard:null,nS:null,VI:null}}static Ma(c){return d.A(d.WL,c)}m(){d.D(this.yc);this.UG.clear();this.VG.clear();this.Za.m();this.Za=null;this.qa.m();this.qa=null;this.uo.m();this.uo=null;this.bd.m();this.bd=null;this.bi.m();this.bi=null;this.tb.m();this.tb=null;this.EH.m();this.EH=null;this.V&&(this.V.m(),this.V=
null);this.Fb.m();this.Fb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.pO(c);else if("result"===g)this.j6(c);else throw Error(`unknown message '${g}'`);}pO(c){if(this.uQ){var g=c.component,n=c.handler,h=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(m&&(c=new d.Event(n),c.data=h,this.Fb.V$(c)),l)){c=new d.Event(n,!0);for(const [u,q]of Object.entries(h))c[u]=q;this.ug(c)}if(c=this.zF.get(g))if(c=
c.get(n)){m=null;try{m=c(h)}catch(u){console.error(`Exception in '${g}' handler '${n}':`,u);null!==p&&this.Ox(p,!1,""+u);return}null!==p&&(m&&m.then?m.then(u=>this.Ox(p,!0,u)).catch(u=>{console.error(`Rejection from '${g}' handler '${n}':`,u);this.Ox(p,!1,""+u)}):this.Ox(p,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${n}' for component '${g}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.RH.push(c)}Ox(c,g,n){this.yu.postMessage({type:"result",
responseId:c,isOk:g,result:n})}j6(c){const g=c.responseId,n=c.isOk;c=c.result;const h=this.cH.get(g);n?h.resolve(c):h.reject(c);this.cH.delete(g)}oh(c,g,n){let h=this.zF.get(c);h||(h=new Map,this.zF.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,n)}tn(c,g,n){this.yu.postMessage({type:"event",component:c,handler:g,data:n,responseId:null})}Fs(c,g){const n=this.X9++,h=new Promise((l,m)=>{this.cH.set(n,{resolve:l,reject:m})});this.yu.postMessage({type:"event",
component:"runtime",handler:c,data:g,responseId:n});return h}async yl(c){this.rb?await a.yl(this):self.rg&&self.rg.Dda(this);var [g]=await Promise.all([this.bd.JJ("data.json"),this.I5(),this.nu.yl()]);this.k5(g);await this.V4(c);this.qp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.gn()?(g=this.gn(),console.info(`[C3 runtime] Hosted in ${this.Gk?"worker":"DOM"}, rendering with WebGL ${g.hd} [${g.bv}] (${g.HY()?"desynchronized":"standard"} compositing)`)):
this.rs()&&console.info(`[C3 runtime] Hosted in ${this.Gk?"worker":"DOM"}, rendering with experimental WebGPU`);this.jb().UF&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.uQ=!0;for(const n of this.RH)this.pO(n);d.D(this.RH);this.V&&this.V.n1();for(const n of c.runOnStartupFunctions)this.SE.push(this.c7(n));await Promise.all([this.bd.SM(),...this.SE]);d.D(this.SE);if(this.bd.TF)this.V&&
this.V.mC();else return this.V&&await this.V.BV(),await this.Fb.gI(new d.Event("beforeruntimestart")),await this.Xs(),this.yu.postMessage({type:"runtime-ready"}),this}async c7(c){try{await c(this.oi)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}k5(c){c=c.project;this.Uz=c[0];this.iR=c[16];this.gH=c[31];const g=c[39]||"loading-logo.png";this.Ik=!!c[9];this.fg=this.Gf=c[10];this.eg=this.Ff=c[11];this.$G=this.fg/2;this.aH=this.eg/2;this.gq=c[36];this.KF=c[37];"low-latency"===
this.gq&&this.zY()&&77>=d.Rc.kB&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.gq="standard");this.el=!!c[40];this.Wc=c[14];this.vA=!!c[18];this.Eq=c[19];this.Au=c[21];this.dR=c[22];const n=this.bd;n.E7(c[7]);n.Q7(c[32]);n.V7(c[28]);n.j8(c[29]);if(0===this.Eq){let u="";this.qp()?n.gE(g)&&(u=n.eK(g)):u=n.fQ+g;u&&(this.Fq=n.Xw({url:u}))}this.V&&
(this.V.y0(d.mJ.l4(c[12])),this.V.hM(c[23]?"high":"low"),this.V.kD(0!==c[24]),this.V.R7(c[34]),this.V.h8(c[41]),this.V.k8(c[13]));this.uo.jU();this.Lz=self.hJ();for(var h of c[2])this.uo.hU(h);this.Lz=self.hJ();this.r5();for(var l of c[3])h=d.LC.Ma(this,this.yc.length,l),this.yc.push(h),this.UG.set(h.wa().toLowerCase(),h),this.VG.set(h.ab,h);for(const u of c[4])this.yc[u[0]].n5(u);for(var m of c[27])l=m.map(u=>this.yc[u]),this.V8.push(d.A(d.XT,this,l));for(const u of this.yc)u.S5();for(const u of c[5])this.Za.Ma(u);
(m=c[1])&&(m=this.Za.fp(m))&&this.Za.u0(m);for(var p of c[33])this.tb.Ma(p);for(const u of c[35])this.EH.Ma(u);this.S4();for(const u of c[6])this.qa.Ma(u);this.qa.Bb();this.O4();d.D(this.Lz);this.wd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.tn("runtime","set-target-orientation",{targetOrientation:p})}w4(){return this.MP++}g2(c){this.VE.push(c)}async V4(c){this.V&&(await this.V.tg(c),this.V.eY(this.Eq))}async I5(){if(!this.bd.AY()){var c=null;try{c=this.wQ&&this.bd.iu?await this.bd.vJ(this.bR):
await this.bd.Sr(this.bR)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.XS(c):this.WS();await this.YS([this.b$])}}async O8(c){return await this.cB("OpusDecode",{arrayBuffer:c},[c])}async Xs(){this.Uy=!0;this.qm=Date.now();if(this.vA){for(var c of this.yc)c.Ta||c.qG||!c.Se||c.xd();this.bd.SM().then(()=>{this.wj=!1;this.sO()})}else this.wj=!1;this.bd.B0();this.rb&&a.Oga(f);for(const g of this.Za.Yh)g.N2();c=this.Za.tW();await c.iE(null,
this.jb());await c.eP(!0);this.$n=performance.now();this.vA||this.sO();(await this.Fs("before-start-ticking")).isSuspended?this.Wq++:this.me()}sO(){this.xa(d.C.Na.J.VZ,null,null);this.tn("runtime","register-sw")}zg(c){c=Math.floor(c);const g=this.Lz;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}r5(){for(const c of self.wT){const g=d.first(Object.keys(c));this.yQ.push(g)}}yh(c){c=Math.floor(c);const g=this.yQ;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}HB(){return this.a9}ea(){return this.qa}Ic(){return this.qa.Ic()}Ee(){return this.qa.Ee()}ub(){return this.qa.ub()}hf(){return this.qa.hf()}GY(){return 0===
this.Ee().yk}cs(){return this.qa.cs()}ns(){return this.uo.ns()}Ge(c){c=Math.floor(c);if(0>c||c>=this.yc.length)throw new RangeError("invalid index");return this.yc[c]}XB(c){return this.UG.get(c.toLowerCase())||null}Aw(c){return this.VG.get(c)||null}*x$(){for(const c of this.yc)c.Ta||(yield*c.gS())}Kb(){return this.Fb}ug(c){c.ic=this.oi;const g=this.rb&&!this.qa.Uw();g&&a.yD();this.Fd.dispatchEvent(c);g&&a.eB()}Um(c){c.ic=this.oi;return this.Fd.gI(c)}I0(c,g){if(this.fg!==c||this.eg!==g)this.fg=c,this.eg=
g,c=this.Za,c.Dp(),c.Cp()}Ws(c,g){if(this.Gf!==c||this.Ff!==g)this.Gf=c,this.Ff=g,c=this.Za,c.Dp(),c.Cp()}K7(c){this.EP=c}Sj(){return this.EP}Lf(){return this.V?this.V.Lf():this.Gf}jf(){return this.V?this.V.jf():this.Ff}$j(){return this.V?this.V.$j():1}Tj(){return this.V?this.V.Tj():1}$r(){return this.V?this.V.$r():0}bs(){return this.V?this.V.bs():0}aW(){return this.V?this.V.Ac:0}$V(){return this.V?this.V.mc:0}vw(){return this.V?this.V.vw():"off"}Xr(c){return this.V?this.V.Xr(c):null}Fl(c){this.V&&
this.V.Fl(c)}i8(c){this.QH=!!c}xw(){return this.V?this.V.xw():NaN}BC(){return"nearest"!==this.Wc}D_(){this.Fq&&(this.Fq.m(),this.Fq=null)}Db(){return this.Za.Db()}Xw(c){return this.bd.Xw(c)}sB(c,g,n,h,l){return this.th(c,g,!1,n,h,!1,l,void 0,l)}th(c,g,n,h,l,m,p,u,q){var v=null;let t=null;c instanceof d.LC?(t=c,t.Ta&&(v=t.Yn,t=v[Math.floor(this.xp()*v.length)]),v=t.lq):(v=c,t=this.Ge(v[1]));c=t.wb().Se;if(this.wj&&c&&!t.qG)return null;const w=g;c||(g=null);var y=n&&!m&&v&&!this.fo.has(v[2])?v[2]:this.Au++;
const z=v?v[0]:null,F=d.A(d.Instance,{ic:this,yI:t,vd:g,KS:z,fS:v?v[3]:null,uid:y});this.fo.set(y,F);y=null;c&&(y=F.j(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Eg(h),y.Ph(l)),t.RO());g&&(q||g.Xf(F,!0),1===g.Bd&&1===g.Cd||t.yE(!0),g.Zb().aL(t));this.WG++;let G=!0;u&&(u=u.G(),u.Lb()&&t.Lb()&&t.$f===u.$f&&(G=!1));if(t.Lb()&&!n&&!m&&G){for(var Q of t.$f.Rk)Q!==t&&(u=this.th(Q,w,!1,y?y.ka():h,y?y.la():l,!0,!1,void 0,q),F.Sp(u));for(var D of F.ed){D.Sp(F);for(const H of F.ed)D!==H&&D.Sp(H)}}c&&
!n&&p&&this.ND(F,z,y,g,h,l,q);if(t.Lb()&&!n&&!m&&p)for(const H of F.ed)if(n=H.j())Q=H.wb(),D=H.G().lq[0],Q.Se?this.ND(H,D,n,g,n.ka(),n.la(),q):this.ND(H,D,n,g,void 0,void 0,q);!m&&p&&("undefined"===typeof h&&(h=z[0]),"undefined"===typeof l&&(l=z[1]),g=y.Hw(),h=h-y.ka()+g.ka(),l=l-y.la()+g.la(),g.Ol(h,l));t.qt();l=v?d.cI(v[5]):null;v=v?v[4].map(H=>d.cI(H)):null;c&&z&&z[13]&&F.U7();F.zx(l,v);this.Fk.push(F);this.Ty=!0;this.rb&&a.Eda(F);return F}ND(c,g,n,h,l,m,p){var u=n.qR,q=n.nH;c.j().mD(u);if(q){"undefined"===
typeof l&&(l=g[0]);"undefined"===typeof m&&(m=g[1]);u=new Set;n=g[0];g=g[1];for(const z of q){var v=z[1],t=z[2];q=z[3];var w=!!z[4];const F=z[5];t=this.Za.WB(z[0]).Y(v).DW(t);v=this.Ge(t[1]);var y=c.zX(v);const G=u.has(v);y&&!G&&w?(w=c.rK(v),y=l+t[0][0]-n,t=m+t[0][1]-g,w.j().Ol(y,t),w.j().mD(F),c.ol(w,{Gr:!!(q>>0&1),Hr:!!(q>>1&1),Ro:!!(q>>2&1),Qo:!!(q>>3&1),Fr:!!(q>>4&1),ov:!!(q>>5&1),Ir:!!(q>>6&1)}),u.add(v)):(v=this.th(t,h,!1,l+t[0][0]-n,m+t[0][1]-g,!1,!0,c,p),v.j().mD(F),c.ol(v,{Gr:!!(q>>0&1),
Hr:!!(q>>1&1),Ro:!!(q>>2&1),Qo:!!(q>>3&1),Fr:!!(q>>4&1),ov:!!(q>>5&1),Ir:!!(q>>6&1)}))}}}Tm(c){if(!this.ho.has(c)){var g=c.G(),n=this.az.get(g);if(n){if(n.has(c))return;n.add(c)}else n=new Set,n.add(c),this.az.set(g,n);this.rb&&a.Fda(c);c.lE();this.Ty=!0;if(c.Lb())for(const h of c.ed)this.Tm(h);for(const h of c.children())h.qw()&&this.Tm(h);this.Za.KK()||this.xj||(g=this.ea(),g.Zd(!0),c.y8(),g.Zd(!1));c.d4(this.Za.KK())}}wd(){this.Ty&&(this.f4(),this.g4(),this.Ty=!1,this.Z())}f4(){for(const c of this.Fk){const g=
c.G();g.Xf(c);for(const n of g.Og)n.Xf(c),n.qt()}d.D(this.Fk)}g4(){this.Fb.Fp(!0);for(const [c,g]of this.az.entries())this.h4(c,g),g.clear();this.az.clear();this.Fb.Fp(!1)}h4(c,g){for(const h of g){var n=this.Xn.instancedestroy;n.instance=h;this.Fb.dispatchEvent(n);this.fo.delete(h.Ec);if(n=h.j())n.CO(),n.DO(),n.lE();this.ho.add(h);this.WG--}d.pg(c.fa(),g);c.qt();this.bz.add(c);0===c.fa().length&&c.yE(!1);for(const h of c.Og)d.pg(h.fa(),g),h.qt(),this.bz.add(h);if(c.wb().Se){c=new Set([...g].map(h=>
h.j().Y()));for(const h of c)h.I6(g)}}*nI(c){for(const g of this.Fk)c.Ta?g.G().iB(c)&&(yield g):g.G()===c&&(yield g)}v4(){return this.Au++}F5(c,g){this.fo.set(c,g)}ot(){this.Fb.dispatchEvent(d.A(d.Event,"webglcontextlost"));this.Us(!0);for(var c of this.yc)!c.Ta&&c.xX()&&c.wn();(c=this.Db())&&c.ot();d.Qw.vp();d.BK.vp()}async rE(){await this.Db().iE(null,this.gn());this.Fb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.Us(!1);this.Z()}m6(c){this.Us(c.hidden)}n6(c){this.qp()&&this.dR&&!d.Rc.EC&&
!c.data.parentHasFocus&&(this.Us(!0),this.rG=!0)}o6(){this.rG&&(this.Us(!1),this.rG=!1)}EO(){const c=this.p$;"vsync"===this.KF?-1===this.Td&&(this.Td=self.requestAnimationFrame(c.pS)):"unlimited-tick"===this.KF?(-1===this.Wk&&(this.Wk=d.VC(c.iba)),-1===this.Td&&(this.Td=self.requestAnimationFrame(c.Uaa))):-1===this.Wk&&(this.Wk=d.VC(c.pS))}B2(){-1!==this.Td&&(self.cancelAnimationFrame(this.Td),this.Td=-1);-1!==this.Wk&&(d.DT(this.Wk),this.Wk=-1)}qn(){return 0<this.Wq}Us(c){var g=this.qn();this.Wq+=
c?1:-1;0>this.Wq&&(this.Wq=0);c=this.qn();!g&&c?(console.log("[Construct 3] Suspending"),this.B2(),this.Fb.dispatchEvent(d.A(d.Event,"suspend")),this.xa(d.C.Na.J.c_,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.$n=this.zz=g=performance.now(),this.Mk=this.Hz=this.Oy=this.Py=0,this.Fb.dispatchEvent(d.A(d.Event,"resume")),this.xa(d.C.Na.J.$Z,null,null),this.ts()||this.me(g))}d2(c){this.Vl.tc(c)}K6(c){this.Vl.Cg(c)}J6(c){this.Mn.Cg(c)}L6(c){this.Nn.Cg(c)}r2(){this.Vl.Dg(!0);for(const c of this.Vl)c.me();
this.Vl.Dg(!1)}q2(){this.Mn.Dg(!0);for(const c of this.Mn);this.Mn.Dg(!1)}s2(){this.Nn.Dg(!0);for(const c of this.Nn);this.Nn.Dg(!1)}*X2(){this.Vl.Dg(!0);for(const c of this.Vl){const g=c.me();d.Bl(g)&&(yield*g)}this.Vl.Dg(!1)}*W2(){this.Mn.Dg(!0);for(const c of this.Mn)d.Bl(void 0)&&(yield*void 0);this.Mn.Dg(!1)}*Y2(){this.Nn.Dg(!0);for(const c of this.Nn)d.Bl(void 0)&&(yield*void 0);this.Nn.Dg(!1)}async me(c,g,n){this.eQ=!0;const h="background-wake"===n;n="background-wake"!==n&&"skip-render"!==
n;this.Uy&&(!this.qn()||g||h)&&(g=performance.now(),this.hz=!0,this.L5(c||0),c=this.p1(),this.Qd&&await c,c=this.Fb.W$(this.Xn.pretick),c instanceof Promise&&await c,c=this.o1(),this.Qd&&await c,this.Q5()&&await this.H4(),this.Za.pp()&&await this.H5(),c=this.q1(),this.Qd&&await c,n&&this.RC(),this.qn()||h||this.EO(),this.Bj++,this.rq++,this.hz=!1,this.Mk+=performance.now()-g)}async p1(){const c=this.qa,g=this.rb;this.wd();c.Zd(!0);this.Gs(this.Db());g&&a.Op();this.Qd?await c.qU():c.$_();g&&a.VS();
this.Es();c.Zd(!1);this.wd();c.Zd(!0)}async o1(){const c=this.rb,g=this.Qd,n=this.Fb,h=this.Xn,l=this.LR;c&&a.Op();g?await this.cw(this.X2()):this.r2();g?await this.cw(this.W2()):this.q2();c&&a.QS();c&&a.Op();g?await this.yJ(h.tick):n.dispatchEvent(h.tick);c&&a.$S();this.qa.Zd(!1);this.ug(l.tick)}async q1(){const c=this.qa,g=this.Fb,n=this.Xn,h=this.rb,l=this.Qd;h&&a.Op();l?await c.oU(this.Za):c.Y_(this.Za);h&&a.VS();this.bi.pJ();this.BO();this.nG=!1;c.Zd(!0);h&&a.Op();l?await this.cw(this.Y2()):
this.s2();h&&a.QS();h&&a.Op();l?await this.yJ(n.tick2):g.dispatchEvent(n.tick2);h&&a.$S();c.Zd(!1);l&&await c.VL()}BO(){if(0!==this.ho.size){var c=this.Fb;c.Fp(!0);for(const g of this.bz)g.om.xn(this.ho);this.bz.clear();this.qa.F_(this.ho);for(const g of this.ho)g.m();this.ho.clear();c.Fp(!1)}}async H5(){const c=this.Za;let g=0;for(;c.pp()&&10>g++;)await this.qN(c.Du)}L5(c){let g=0;0!==this.zz&&(g=Math.max(c-this.zz,0)/1E3,.5<g&&(g=0),this.By=Math.min(g,1/this.VQ));this.zz=c;this.Ay=this.By*this.Vd;
this.OF.tc(this.Ay);this.PF.tc(g*this.Vd);this.SH.tc(this.By);this.V&&this.V.J8();1E3<=c-this.$n&&(this.$n+=1E3,1E3<=c-this.$n&&(this.$n=c),this.Oy=this.Py,this.Py=0,this.Hz=Math.min(this.Mk/1E3,1),this.Mk=0,this.V&&this.V.C8(),this.rb&&a.Oia());this.Py++}async qN(c){const g=this.Fb,n=this.Za.Db();await n.t8();n.B8(c,this.jb());n===c&&this.qa.Sv();this.bi.pJ();this.BO();g.dispatchEvent(this.Xn.beforelayoutchange);d.Oj.iM(!0);await c.iE(n,this.jb());d.Oj.iM(!1);await c.eP(!1);g.dispatchEvent(this.Xn.layoutchange);
this.Z();this.nG=!0;this.wd()}Z(){this.SG=!0}gn(){return this.V?this.V.gn():null}rs(){return this.V?this.V.rs():null}jb(){return this.V?this.V.jb():null}RC(){const c=this.V;if(c&&!c.PY()){var g=this.jb(),n=g.gj(),h=n&&g.ws();n=n&&!1;h&&g.GT();if(this.SG){var l=this.Za.Db();g.Xs();var m=this.rb;m&&a.Op();this.SG=!1;var p=null;h&&(p=c.Sy.fB(),g.zD(p));h=null;n&&(h=g.gia(2*(1+l.Nb.length)),g.X1(0));this.el&&"low"===c.mi?g.v0(c.Lf(),c.jf()):g.g0();this.R6(this.jb(),l);p&&g.zB(p);n&&(g.X1(1),this.V.p2(h));
g.Ur();m&&(a.Oba(),a.Pia());c&&c.J5()}else g.SX()}}R6(c,g){c.Mh();c.cD();c.Je(1,1,1,1);c.le(null);c.uf(null);c.Kl(this.el);g.ff(c)}xa(c,g,n){if(!this.Uy)return!1;var h=!this.hz&&!this.qa.AC();let l=0;h&&(l=performance.now());const m=this.rb;m&&this.jx(!1);c=this.qa.xt(this.Za,c,g,n);h&&(h=performance.now()-l,this.Mk+=h,m&&a.Rba(h));m&&this.jx(!0);return c}async vf(c,g,n){if(!this.Qd)return this.xa(c,g,n);if(!this.Uy)return!1;if(this.ts())return this.qa.x_(c,g,n);if(!this.Db())return this.qa.PC(c,
g,n);const h=performance.now();c=this.qa.ct(this.Za,c,g,n);for(g=c.next();!g.done;)await this.Xo(g.value),g=c.next();this.qn()||this.qa.AC()||(await this.qa.VL(),this.eQ&&!this.hz&&this.EO());this.Mk+=performance.now()-h;return g.value}Gs(c){this.Nt.push(c)}Es(){if(!this.Nt.length)throw Error("layout stack empty");this.Nt.pop()}Ga(){return this.Nt.length?this.Nt.Wd(-1):this.Db()}gs(c){return c&&-1!==c.Vd?this.By*c.Vd:this.Ay}qD(c){if(isNaN(c)||0>c)c=0;this.Vd=c}tM(c){this.VQ=d.da(c,1,120)}xg(){return this.OF.X()}yW(){return this.PF.X()}hC(){return this.SH.X()}ek(){++this.rq}Oi(c){if(this.xj)throw Error("cannot call while loading state - wait until afterload event");
return this.fo.get(c)||null}zO(){this.fo.clear();for(const c of this.yc)if(!c.Ta)for(const g of c.fa())this.fo.set(g.Ec,g)}qp(){return"preview"===this.Zl}FY(){return"cordova"===this.Zl}zY(){return"Android"===d.Rc.up&&("cordova"===this.Zl||"playable-ad"===this.Zl||"instant-games"===this.Zl)}L0(c){c=!!c;this.Ik!==c&&(this.Ik=c,this.Za.Cp(),this.Z())}b0(c){this.Ju=c}hZ(c){this.tu=c}JC(c){this.Dq=c}Q5(){return!(!this.Ju&&!this.tu&&null===this.Dq)}async H4(){this.Ju&&(this.wd(),await this.B3(this.Ju),
this.LD());this.tu&&(await this.A3(this.tu),this.LD(),this.rb&&a.iia());if(null!==this.Dq){this.wd();try{await this.rN(this.Dq),this.qo=this.Dq,await this.vf(d.C.Na.J.qL,null),this.qo=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.vf(d.C.Na.J.rL,null)}this.LD()}}LD(){this.tu=this.Ju="";this.Dq=null}z4(){this.fH||(this.fH=localforage.dI({name:"c3-localstorage-"+this.gH,description:this.Uz}));return this.fH}MN(){this.mH||(this.mH=localforage.dI({name:"c3-savegames-"+
this.gH,description:this.Uz}));return this.mH}async B3(c){const g=await this.v7();try{await this.MN().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.qo=g,await this.vf(d.C.Na.J.a_,null),this.qo=""}catch(n){console.error("[Construct 3] Failed to save state to storage: ",n),await this.vf(d.C.Na.J.b_,null)}}async A3(c){try{const g=await this.MN().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");
await this.rN(g);this.qo=g;await this.vf(d.C.Na.J.qL,null);this.qo=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.vf(d.C.Na.J.rL,null)}}async v7(){const c={c3save:!0,version:1,rt:{time:this.xg(),timeRaw:this.yW(),walltime:this.hC(),timescale:this.Vd,tickcount:this.Bj,execcount:this.rq,next_uid:this.Au,running_layout:this.Db().ab,start_time_offset:Date.now()-this.qm},types:{},layouts:{},events:this.qa.ga(),timelines:this.tb.ga(),user_script_data:null};for(var g of this.yc)g.Ta||
g.yK()||(c.types[g.ab.toString()]=g.ga());for(const n of this.Za.Yh)c.layouts[n.ab.toString()]=n.ga();g=this.QD("save");g.saveData=null;await this.Um(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async rN(c){var g=this.Za;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Fb.dispatchEvent(d.A(d.Event,"beforeload"));for(var n of this.x$())n.Mx();
this.xj=!0;n=c.rt;this.OF.Set(n.time);n.hasOwnProperty("timeRaw")&&this.PF.Set(n.timeRaw);this.SH.Set(n.walltime);this.Vd=n.timescale;this.Bj=n.tickcount;this.rq=n.execcount;this.qm=Date.now()-n.start_time_offset;var h=n.running_layout;if(h!==this.Db().ab)if(h=g.WB(h))await this.qN(h);else return;for(const [l,m]of Object.entries(c.types))h=this.Aw(parseInt(l,10)),!h||h.Ta||h.yK()||h.oa(m);this.wd();this.zO();this.xj=!1;this.Au=n.next_uid;for(const [l,m]of Object.entries(c.layouts))(n=g.WB(parseInt(l,
10)))&&n.oa(m);this.qa.oa(c.events);for(const l of this.yc)if(!l.Ta&&l.Lb())for(const m of l.fa()){n=m.Xm();for(const p of l.$f.Rk)if(p!==l){h=p.fa();if(0>n||n>=h.length)throw Error("missing sibling instance");m.Sp(h[n])}}this.tb.oa(c.timelines);g.Dp();g.Cp();this.Fb.dispatchEvent(d.A(d.Event,"afterload"));g=this.QD("load");g.saveData=c.user_script_data;await this.Um(g);this.Z()}async YS(c){c=(await Promise.all(c.map(g=>this.bd.Rj(g)))).map(g=>URL.createObjectURL(g));this.nu.RX(c)}WS(){this.nu.d0()}XS(c){this.nu.e0(c)}cB(c,
g,n){return this.nu.cB(c,g,n)}async y_(c){var g=g||2048;var n=n||2048;return this.Gk?(await this.Fs("raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:n,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,n)}zp(){this.GP||(this.GP=!0,this.tn("runtime","enable-device-orientation"))}Gl(){this.FP||(this.FP=!0,this.tn("runtime","enable-device-motion"))}xp(){return this.g$()}A4(){const c=this.gn();return{fps:this.Oy,cpu:this.Hz,gpu:this.xw(),
layout:this.Db()?this.Db().wa():"",renderer:c?c.bv:"<unavailable>"}}ts(){return this.rb?a.ts():!1}Xo(c){return this.Qd?a.Xo(c):Promise.resolve()}Yb(){return this.Qd?a.kca():!1}jx(c){c?this.vF--:this.vF++;this.E8()}E8(){this.Qd=this.rb&&this.h9&&0===this.vF}tC(){return this.rb&&a.tC()}xC(){return this.rb&&this.jb().gj()&&a.xC()}async cw(c){if(c)for(const g of c)await this.Xo(g)}yJ(c){return this.cw(this.Fb.X$(c))}Kx(c){return this.qa.Kx(c.name,c.params)}QD(c){c=d.A(d.Event,c,!1);c.ic=this.oi;return c}S4(){var c=
{};for(const g of this.yc)c[g.yh()]={value:g.au,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.oi=new self.JX(this,c);this.LR={tick:this.QD("tick")}}O4(){const c={};for(const g of this.ea().WE)c[g.yh()]=g.NN();this.oi.P4(c)}fO(c,g){this.C9.set(c,g)}};self.C3_CreateRuntime=d.WL.Ma;self.C3_InitRuntime=(c,g)=>c.yl(g)}
{"use strict";const d=self.B;d.YY=class extends d.ca{constructor(a,b){super();this.g=a;this.mo=new Map;this.Z9=0;this.du=b.inputPort;b.outputPort.onmessage=f=>this.rO(f);this.OQ=b.maxNumWorkers;this.ou=1;this.YP=this.gu=!1}async yl(){}RX(a){this.du.postMessage({type:"_import_scripts",scripts:a})}d0(){this.du.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}e0(a){this.du.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}cB(a,b,f){f||(f=[]);const c=this.Z9++;a=
{type:a,isBroadcast:!1,jobId:c,params:b,transferables:f};b=new Promise((g,n)=>{this.mo.set(c,{resolve:g,progress:void 0,reject:n,bI:!1})});this.du.postMessage(a,f);this.gO();return b}rO(a){a=a.data;const b=a.type,f=a.jobId;switch(b){case "result":this.c6(f,a.result);break;case "progress":this.b6(f,a.progress);break;case "error":this.a6(f,a.error);break;case "ready":this.d6();break;default:throw Error(`unknown message from worker '${b}'`);}}c6(a,b){const f=this.mo.get(a);if(!f)throw Error("invalid job ID");
f.bI||f.resolve(b);this.mo.delete(a)}b6(a,b){a=this.mo.get(a);if(!a)throw Error("invalid job ID");!a.bI&&a.progress&&a.progress(b)}a6(a,b){const f=this.mo.get(a);if(!f)throw Error("invalid job ID");f.bI||f.reject(b);this.mo.delete(a)}d6(){this.gu&&(this.gu=!1,this.ou++,this.ou<this.OQ?this.gO():this.du.postMessage({type:"_no_more_workers"}))}async gO(){if(!(this.ou>=this.OQ||this.gu||this.YP||this.mo.size<=this.ou))try{this.gu=!0,(await this.g.Fs("create-job-worker")).outputPort.onmessage=a=>this.rO(a)}catch(a){this.YP=
!0,this.gu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.ou} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let a=null,b="",f="",c=[],g="",n="",h="";const l=d.A(d.lT);function m(p,u){p=p[1];u=u[1];if("number"===typeof p&&"number"===typeof u)return p-u;p=""+p;u=""+u;return p<u?-1:p>u?1:0}d.C.Na=class extends d.Bp{constructor(p){super(p);this.Ue=this.g.ea().Ue;this.qd=this.g.ea().Ic();this.bu=this.bo=0;this.SP=new Map}m(){super.m()}Z(){this.g.Z()}xa(p){this.g.xa(p,null,null)}Cw(p,u){a&&p===b&&u===f||(a=new RegExp(p,u),b=p,f=u);a.lastIndex=0;return a}jK(p,u,q){if(p===g&&u===n&&
q===h)return c;const v=this.Cw(u,q);c=p.match(v);g=p;n=u;h=q;return c}async kE(p,u){if(u.length){this.bo+=u.length;var q=[];for(const v of u)q.push(p.aL(v));await d.r_(q,()=>{this.bu++});this.bu++;this.bu===this.bo&&(this.g.xa(d.C.Na.J.QZ,null,null),this.bo=this.bu=0)}}hP(p,u){for(const q of u)0===q.F.length&&p.rZ(q)}IN(){return l}S6(p){var u=this.g.ea();const q=u.Ic(),v=q.Fe(),t=v.ub(),w=t.Yc();var y=v.aj();const z=q.Ia(t),F=u.Ue,G=F.Ia();if(y)for(y=0;y<p&&!G.cc;++y)u.ke(w),G.kc(y),t.Sf(v,z),u.zb(w);
else for(u=0;u<p&&!G.cc;++u)G.kc(u),t.Sf(v,z);q.Ha();F.Ha();return!1}*f3(p){var u=this.g.ea();const q=u.Ic(),v=q.Fe(),t=v.ub(),w=t.Yc();var y=v.aj();const z=q.Ia(t),F=u.Ue,G=F.Ia();if(y)for(y=0;y<p&&!G.cc;++y)u.ke(w),G.kc(y),yield*t.Jf(v,z),u.zb(w);else for(u=0;u<p&&!G.cc;++u)G.kc(u),yield*t.Jf(v,z);q.Ha();F.Ha();return!1}P8(){var p=this.g.ea();const u=p.Ic(),q=u.Fe(),v=q.ub(),t=v.Yc();var w=q.aj();const y=u.Ia(v),z=p.Ue,F=z.Ia();if(w)for(w=0;!F.cc;++w)p.ke(t),F.kc(w),v.Sf(q,y)||F.Fg(),p.zb(t);else for(p=
0;!F.cc;++p)F.kc(p),v.Sf(q,y)||F.Fg();u.Ha();z.Ha();return!1}*y3(){var p=this.g.ea();const u=p.Ic(),q=u.Fe(),v=q.ub(),t=v.Yc();var w=q.aj();const y=u.Ia(v),z=p.Ue,F=z.Ia();if(w)for(w=0;!F.cc;++w)p.ke(t),F.kc(w),(yield*v.Jf(q,y))||F.Fg(),p.zb(t);else for(p=0;!F.cc;++p)F.kc(p),(yield*v.Jf(q,y))||F.Fg();u.Ha();z.Ha();return!1}i4(p,u,q){var v=this.g.ea();const t=v.Ic(),w=t.Fe(),y=w.ub(),z=y.Yc(),F=w.aj(),G=t.Ia(y),Q=v.Ue,D=Q.Ia();D.nx(p);if(q<u)if(F)for(p=u;p>=q&&!D.cc;--p)v.ke(z),D.kc(p),y.Sf(w,G),v.zb(z);
else for(v=u;v>=q&&!D.cc;--v)D.kc(v),y.Sf(w,G);else if(F)for(p=u;p<=q&&!D.cc;++p)v.ke(z),D.kc(p),y.Sf(w,G),v.zb(z);else for(v=u;v<=q&&!D.cc;++v)D.kc(v),y.Sf(w,G);t.Ha();Q.Ha();return!1}*b3(p,u,q){var v=this.g.ea();const t=v.Ic(),w=t.Fe(),y=w.ub(),z=y.Yc(),F=w.aj(),G=t.Ia(y),Q=v.Ue,D=Q.Ia();D.nx(p);if(q<u)if(F)for(p=u;p>=q&&!D.cc;--p)v.ke(z),D.kc(p),yield*y.Jf(w,G),v.zb(z);else for(v=u;v>=q&&!D.cc;--v)D.kc(v),yield*y.Jf(w,G);else if(F)for(p=u;p<=q&&!D.cc;++p)v.ke(z),D.kc(p),yield*y.Jf(w,G),v.zb(z);
else for(v=u;v<=q&&!D.cc;++v)D.kc(v),yield*y.Jf(w,G);t.Ha();Q.Ha();return!1}j4(p){var u=this.g.ea();const q=u.Ic(),v=q.Fe(),t=v.ub(),w=t.Yc();var y=v.aj();const z=q.Ia(t),F=u.Ue,G=F.Ia(),Q=p.Lb(),D=p.P(),H=l.Ia();d.Oc(H,D.fa());if(y)for(let J=0,M=H.length;J<M&&!G.cc;++J)u.ke(w),y=H[J],p.P().fj(y),Q&&y.Lh(),G.kc(J),t.Sf(v,z),u.zb(w);else{D.Kd(!1);p=D.F;d.D(p);p.push(null);for(let J=0,M=H.length;J<M&&!G.cc;++J)u=H[J],p[0]=u,Q&&u.Lh(),G.kc(J),t.Sf(v,z)}q.Ha();F.Ha();d.D(H);l.Ha();return!1}*d3(p){var u=
this.g.ea();const q=u.Ic(),v=q.Fe(),t=v.ub(),w=t.Yc();var y=v.aj();const z=q.Ia(t),F=u.Ue,G=F.Ia(),Q=p.Lb(),D=p.P(),H=l.Ia();d.Oc(H,D.fa());if(y)for(let J=0,M=H.length;J<M&&!G.cc;++J)u.ke(w),y=H[J],p.P().fj(y),Q&&y.Lh(),G.kc(J),yield*t.Jf(v,z),u.zb(w);else{D.Kd(!1);p=D.F;d.D(p);p.push(null);for(let J=0,M=H.length;J<M&&!G.cc;++J)u=H[J],p[0]=u,Q&&u.Lh(),G.kc(J),yield*t.Jf(v,z)}q.Ha();F.Ha();d.D(H);l.Ha();return!1}k4(p,u){var q=this.g.ea();const v=q.Ic(),t=q.hf(),w=v.Fe(),y=w.ub(),z=y.Yc(),F=w.aj(),
G=v.Ia(y),Q=q.Ue,D=Q.Ia(),H=p.Lb(),J=p.P(),M=l.Ia();d.D(M);const P=J.fa();for(let R=0,V=P.length;R<V;++R)M.push([P[R],t.Is(1,R)]);M.sort(m);1===u&&M.reverse();if(F)for(let R=0,V=M.length;R<V&&!D.cc;++R)q.ke(z),u=M[R][0],p.P().fj(u),H&&u.Lh(),D.kc(R),y.Sf(w,G),q.zb(z);else{J.Kd(!1);p=J.F;d.D(p);p.push(null);for(let R=0,V=M.length;R<V&&!D.cc;++R)q=M[R][0],p[0]=q,H&&q.Lh(),D.kc(R),y.Sf(w,G)}v.Ha();Q.Ha();d.D(M);l.Ha();return!1}*e3(p,u){var q=this.g.ea();const v=q.Ic(),t=q.hf(),w=v.Fe(),y=w.ub(),z=y.Yc(),
F=w.aj(),G=v.Ia(y),Q=q.Ue,D=Q.Ia(),H=p.Lb(),J=p.P(),M=l.Ia();d.D(M);const P=J.fa();for(let R=0,V=P.length;R<V;++R)M.push([P[R],t.Is(1,R)]);M.sort(m);1===u&&M.reverse();if(F)for(let R=0,V=M.length;R<V&&!D.cc;++R)q.ke(z),u=M[R][0],p.P().fj(u),H&&u.Lh(),D.kc(R),yield*y.Jf(w,G),q.zb(z);else{J.Kd(!1);p=J.F;d.D(p);p.push(null);for(let R=0,V=M.length;R<V&&!D.cc;++R)q=M[R][0],p[0]=q,H&&q.Lh(),D.kc(R),yield*y.Jf(w,G)}v.Ha();Q.Ha();d.D(M);l.Ha();return!1}Fx(p,u){let q=this.SP.get(p);if(q)return q;if(!u)return null;
q={Hm:null,WA:new Map};this.SP.set(p,q);return q}z3(p,u,q,v,t){u.ee().X_(q);v&&p.zb(t)}*Z2(p,u,q,v,t){yield*u.ee().nU(q);v&&p.zb(t)}}}{"use strict";const d=self.B;d.C.Na.Pp=class extends d.ca{constructor(a){super();this.I=a;this.g=a.H();this.Wg=a.wb()}xd(){}m(){this.Wg=this.g=this.I=null}}}{"use strict";const d=self.B;d.C.Na.Instance=class extends d.ca{constructor(a){super();this.ia=a;this.I=this.ia.G();this.rc=this.I.rc;this.g=this.ia.H()}m(){this.g=this.rc=this.I=this.ia=null}}}
{"use strict";const d=self.B,a=[];d.C.Na.J={Yca(){return!0},pL(){return!0},SZ(){return!0},c_(){return!0},$Z(){return!0},qn(){return this.g.qn()},FJ(){const b=this.g.Ee();return b.BF?!1:!b.no},A1(){const b=this.g.hf().Ui();let f=b.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Bj;b.set("TriggerOnce_lastTick",c);return this.g.nG||f!==c-1},Xca(b){const f=this.g.hf().Ui(),c=f.get("Every_lastTime")||0,g=this.g.xg();f.has("Every_seconds")||f.set("Every_seconds",
b);const n=f.get("Every_seconds");if(g>=c+n)return f.set("Every_lastTime",c+n),g>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",g),f.set("Every_seconds",b),!0;g<c-.1&&f.set("Every_lastTime",g);return!1},np(b){return(b=this.g.ea().VJ(b))&&b.np()},qp(){return this.g.qp()},EC(){return d.Rc.EC},VZ(){return!0},JZ(){return!0},Tca(){return!0},a_(){return!0},b_(){return!0},qL(){return!0},rL(){return!0},Uea(b){return!!this.g.Oi(b)},bea(b){switch(b){case 0:return"browser"===d.Rc.pB;case 1:return"iOS"===
d.Rc.up;case 2:return"Android"===d.Rc.up;case 8:return"cordova"===d.Rc.pB;case 9:return"scirra-arcade"===this.g.Zl;case 10:return"nwjs"===d.Rc.pB;case 13:return"windows-uwp"===this.g.Zl;default:return!1}},Pfa(b,f,c){return this.Cw(f,c).test(b)},RT(b,f,c){return d.compare(b,f,c)},xca(b,f,c){return b>=f&&b<=c},TT(b,f,c){return d.compare(b.ie(),f,c)},yca(b){return!!b.ie()},Fca(b,f){const c=this.g.xg();return 0===b?(b=this.g.hf().Ui(),!b.get("CompareTime_executed")&&c>=f?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,f)},Zda(b){return isNaN(b)},fT(b,f,c){return d.ir(d.pb(b),d.pb(c))<=d.pb(f)},DY(b,f){return d.Ye(d.pb(b),d.pb(f))},BY(b,f,c){b=d.pb(b);f=d.pb(f);c=d.pb(c);return d.Ye(c,f)?d.Ye(b,f)&&!d.Ye(b,c):!(!d.Ye(b,f)&&d.Ye(b,c))},jea(b,f){return"number"===typeof b?0===f:1===f},Wca(b){return!!b},pfa(b,f,c,g){if(!b)return!1;const n=this.IN(),h=n.Ia(),l=b.P();d.Oc(h,l.fa());l.Ib&&d.D(l.Ub);const m=this.g.hf();let p=0;for(let u=0,q=h.length;u<q;++u){const v=h[u];h[p]=v;f=m.Is(1,u);g=m.Is(3,
u);d.compare(f,c,g)?++p:l.Rl(v)}d.Ce(h,p);l.Js(h);f=!!h.length;d.D(h);n.Ha();b.Ob();return f},qfa(b,f){if(!b)return!1;const c=this.IN(),g=c.Ia(),n=b.P();d.Oc(g,n.fa());n.Ib&&d.D(n.Ub);const h=this.g.hf();let l=0;for(let m=0,p=g.length;m<p;++m){const u=g[m];g[l]=u;(f=h.Is(1,m))?++l:n.Rl(u)}d.Ce(g,l);n.Js(g);f=!!g.length;d.D(g);c.Ha();b.Ob();return f},wfa(b,f){if(!b)return!1;const c=b.P(),g=c.fa();f=Math.floor(f);if(f>=g.length)return!1;c.El(g[f]);b.Ob();return!0},Afa(b){if(!b)return!1;const f=b.P(),
c=f.fa(),g=Math.floor(this.g.xp()*c.length);if(g>=c.length)return!1;f.El(c[g]);b.Ob();return!0},ofa(b){if(!b||!b.F.length)return!1;b.P().Kd(!0);b.Ob();return!0},yfa(b,f,c){if(!b)return!1;const g=b.P();var n=g.fa();const h=this.g.ub().sd,l=this.g.hf().si;g.Ib?(d.Oc(a,n),g.Tv(),g.Kd(!1)):h?(d.Oc(a,g.Ub),d.D(g.Ub)):(d.Oc(a,g.F),d.D(g.F));for(let m=0,p=a.length;m<p;++m)n=a[m],d.xor(n.j().Nr(f,c),l)?g.Fn(n):g.Rl(n);b.Ob();return d.xor(!!g.F.length,l)},vfa(b){if(!b)return!1;var f=b.Ta;let c=null;const g=
this.g.Fk;for(let n=g.length-1;0<=n;--n){const h=g[n];if(f){if(h.G().iB(b)){c=h;break}}else if(h.G()===b){c=h;break}}c||(f=b.fa(),f.length&&(c=f.Wd(-1)));if(!c)return!1;b.P().El(c);b.Ob();return!0},Sfa(b){return this.g.Qd?this.f3(b):this.S6(b)},$ia(){return this.g.Qd?this.y3():this.P8()},PV(b,f,c){return this.g.Qd?this.b3(b,f,c):this.i4(b,f,c)},MJ(b){return this.g.Qd?this.d3(b):this.j4(b)},eda(b,f,c){return this.g.Qd?this.e3(b,c):this.k4(b,c)},rea(b){return b?b.xc():!1},oea(b){return b?!b.F.length:
!1},nea(b,f,c){return b?d.compare(100*b.He(),f,c):!1},QZ(){return!0},Xda(){return 0<this.bo}}}
{"use strict";const d=self.B;function a(h,l){const m=h[0]-l[0];return 0!==m?m:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const f=[],c=[],g=d.A(d.Rect),n=d.A(d.Va);d.C.Na.Yd={c1(h,l){h.Uf(l)},Sba(h,l){h.Cl()&&"number"!==typeof l&&(l=parseFloat(l));h.Uf(h.ie()+l)},wia(h,l){h.Cl()&&h.Uf(h.ie()-l)},fha(h,l){h.Uf(!!l)},zia(h){h.Uf(!h.ie())},Fga(){this.g.ea().O_()},gU(h,l,m,p,u){h&&l&&(m=this.g.sB(h,l,m,p,u))&&(u&&l.vD(m),l=this.g.ea(),l.Zd(!0),m.Zx(),l.Zd(!1),h.P().fj(m),m.Lb()&&m.Lh())},Oca(h,l,m,p,u){h&&
l&&(h=this.g.XB(h))&&d.C.Na.Yd.gU.call(this,h,l,m,p,u)},Hs(h,l,m,p,u,q,v,t,w,y){if(h){var z=this.g.Ga();if(q&&(z=this.g.Za.fp(q),!z))return;q=null;if("number"!==typeof v||0<=v)if(q=z.Y(v),!q)return;g.set(l,m,p,u);l=z.Hs(h,g,q,t,w,y);h.P().Js(l);h.Ob()}},kia(){const h=this.Ue;h.MK()&&h.bp().Fg()},Hp(h,l){(h=this.g.ea().VJ(h))&&(0===l?h.Hp(!1):1===l?h.Hp(!0):h.Hp(!h.np()))},R0(h){this.g.qD(h)},Sha(h,l){0>l&&(l=0);if(h){h=h.P().fa();for(const m of h)m.qD(l)}},Jga(h){if(h){h=h.P().fa();for(const l of h)l.U_()}},
FD(h){if(!(0>h))return this.g.ea().dB().uY(h),!0},Uia(h){this.g.ea().dB().sY(h);return!0},Tia(){const h=this.g.ea();h.dB().gY(h.$W());return!0},$ha(h){h=h.toLowerCase();for(const l of this.g.ea().Ef)l.SY()&&l.Nu===h&&l.nD()},async EM(h,l,m,p,u,q){const v=this.g.V;v&&(this.Z(),await v.EM(0===h?"image/png":"image/jpeg",l/100,m,p,u,q),await this.g.vf(d.C.Na.J.JZ,null))},hha(h,l){if(!(0>=h||0>=l)){this.g.Ws(h,l);var m=this.g.Ga();m.Nv();for(const p of m.Nb)p.ED();if(m=this.g.V)"off"!==m.ds()&&this.g.I0(h,
l),m.Tc(m.Dm,m.Cm,!0),this.g.Z()}},tha(h){const l=this.g.V;l&&"off"!==l.ds()&&(l.hM(0!==h?"high":"low"),l.Tc(l.Dm,l.Cm,!0))},yn(h){this.g.b0(h)},wea(h){this.g.hZ(h)},xea(h){this.g.JC(h)},vha(){},Gga(){for(const h of this.g.Za.Yh)h.S_()},Tha(h){this.g.L0(0!==h)},tM(h){this.g.tM(h)},bia(h,l){if(h){var m=h.P().fa(),p=this.g.Ga(),u=h.Ta;h=h.Pg;for(let v=0,t=m.length;v<t;++v){var q=m[v];const w=q.j();if(!w)continue;let y;y=u?q.fe(l+q.G().PB(h)):q.fe(l);f.push([w.Y().Ca(),w.Zi()]);c.push([q,y])}if(f.length){f.sort(a);
c.sort(b);l=!1;for(let v=0,t=f.length;v<t;++v)m=c[v][0],u=p.yw(f[v][0]),h=f[v][1],q=u.F,q[h]!==m&&(q[h]=m,m.j().tt(u),u.Vf(),l=!0);l&&this.g.Z();d.D(f);d.D(c)}}},oda(h){if(!this.g.wj){var l=this.g.Za;l.pp()||l.Rv(h)}},pda(h){if(!this.g.wj){var l=this.g.Za;l.pp()||(h=l.fp(h))&&l.Rv(h)}},Oea(h){if(!this.g.wj){var l=this.g.Za;if(!l.pp()){var m=l.Yh,p=m.indexOf(l.Db());h&&0===p||(h||p!==m.length-1)&&l.Rv(m[p+(h?-1:1)])}}},Hga(){if(!this.g.wj){var h=this.g.Za;h.pp()||(h.Rv(h.Db()),this.g.ea().P_())}},
Iha(h,l){h&&h.Nh(l)},Cha(h,l){h&&h.mk(l/100)},Eha(h,l){h&&h.vM(l)},Fha(h,l){h&&h.N0(l)},wha(h,l){h&&h.nd(d.pb(+l))},Gha(h,l,m){h&&(h.Os(!0),h.Jh(l),h.Kh(m))},Iga(h){h&&h.Os(!1)},Dha(h,l,m){h&&h.J0(l/100,m/100)},Jha(h,l){h&&h.Ke(+l)},xha(h,l){h&&(n.Br(l),n.da(),h=h.wk,h.hl(n)||(h.Kj(n),this.Z()))},Hha(h,l){h&&h.Z0(l)},yha(h,l){h&&h.sf(l)},zha(h,l,m){h&&(h=h.Ka,m=h.Uj(m))&&(l=1===l,m.xb!==l&&(m.ix(l),h.Pl(),this.g.Z()))},Aha(h,l,m,p){if(h&&(h=h.Ka,l=h.Uj(l))&&(h=h.Mf(l.Ca()),m=Math.floor(m),!(0>m||
m>=h.length))){var u=l.bb.Bw(m);if("color"===u){n.Br(p);m=h[m];if(n.hl(m))return;m.Kj(n)}else{"percent"===u&&(p/=100);if(h[m]===p)return;h[m]=p}l.xb&&this.g.Z()}},Bha(h,l){h&&h.x0(l)},Oha(h){this.g.Ga().lD(+h)},Kha(h){this.g.Ga().nd(d.pb(+h))},Lha(h,l){const m=this.g.Ga().Ka;if(l=m.Uj(l))h=1===h,l.xb!==h&&(l.ix(h),m.Pl(),this.g.Z())},Mha(h,l,m){var p=this.g.Ga().Ka;if(h=p.Uj(h))if(p=p.Mf(h.Ca()),l=Math.floor(l),!(0>l||l>=p.length)){var u=h.bb.Bw(l);if("color"===u){n.Br(m);l=p[l];if(n.hl(l))return;
l.Kj(n)}else{"percent"===u&&(m/=100);if(p[l]===m)return;p[l]=m}h.xb&&this.g.Z()}},Pha(h,l){this.g.Ga().b1(h/100,l/100)},Nha(h){const l=this.g.Ga();0===h?l.xM():l.uM()},Yga(h){this.g.Ga().Jh(h)},Zga(h){this.g.Ga().Kh(h)},Wga(h,l){const m=this.g.Ga();m.Jh(h);m.Kh(l)},Xga(h){if(h&&(h=h.XJ())&&(h=h.j())){var l=this.g.Ga();l.Jh(h.ka());l.Kh(h.la())}},async jZ(h){const l=this.g.Db();l&&h&&!this.g.wj&&await this.kE(l,h.Ta?h.Yn:[h])},async vea(h){await d.C.Na.Yd.jZ.call(this,this.g.XB(h))},Mia(h){const l=
this.g.Db();l&&h&&this.hP(l,h.Ta?h.Yn:[h])},C1(h){d.C.Na.Yd.C1.call(this,this.g.XB(h))},Nia(){const h=this.g.Db();if(h){var l=h.G4();this.hP(h,l)}},async tea(h){const l=this.g.Db();h&&l&&!this.g.wj&&await this.kE(l,h.JN())},async uea(h){const l=this.g.Db();(h=this.g.Za.fp(h))&&l&&!this.g.wj&&await this.kE(l,h.JN())},mx(h){const l=this.qd.dW();if(l)switch(l.TP){case 1:"number"===typeof h&&l.mx(h);break;case 2:"string"===typeof h&&l.mx(h);break;case 3:l.mx(h)}},Bea(h,l,m){var p=this.Fx(h.toLowerCase(),
!0);const u=p.WA,q=l.toLowerCase();u.has(q)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(u.values())||p.Hm)&&0!==p.Vk!==(0!==m.Vk)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):u.set(q,m)},Cea(h,l){const m=this.Fx(h.toLowerCase(),!0);m.Hm&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
d.first(m.WA.values())||m.Hm;p&&0!==p.Vk!==(0!==l.Vk)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):m.Hm=l},pca(h,l,m){m=Math.floor(m);var p=this.Fx(h.toLowerCase(),!1);if(p){var u=p.WA.get(l.toLowerCase());if(!u)if(p.Hm)u=p.Hm,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(u.nn())if(0!==
u.Vk)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.ea();var q=l.ub();p=q.Zc();var v=0<p.length;v&&l.Rf(p);var t=[];if(q=l.BB(q)){q=q.bg;for(let w=m,y=q.length;w<y;++w)t.push(q[w].ie())}m=u.bg;for(let w=t.length,y=m.length;w<y;++w)t.push(m[w].eo);return h.Qd?this.Z2(l,u,t,v,p):this.z3(l,u,t,v,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.C.Na.uc={Bka:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Uja:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},ml(a){return a.toString()},vv(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.xp()*a:this.g.xp()*(b-a)+a},I$(...a){return a[Math.floor(this.g.xp()*a.length)]},rla(){return Math.PI},zka(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Rla(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.pb(a))},cos(a){return Math.cos(d.pb(a))},tan(a){return Math.tan(d.pb(a))},asin(a){return d.nh(Math.asin(a))},acos(a){return d.nh(Math.acos(a))},atan(a){return d.nh(Math.atan(a))},exp(a){return Math.exp(a)},zaa(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let g=a[f];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let g=a[f];"number"===typeof g&&b>g&&(b=g)}return b},da(a,b,f){return d.da(a,b,f)},pv(a,b,f,c){return d.lr(a,b,f,c)},angle(a,b,f,c){return d.nh(d.CA(a,b,f,c))},Gd(a,b,f){return d.Gd(a,b,f)},XA(a,b,f){return d.XA(a,b,f)},QA(a,b,f,c){return d.QA(a,b,f,c)},ZR(a,b,f,c,g){return d.ZR(a,
b,f,c,g)},YR(a,b,f){return d.YR(a,b,f)},pja(a,b){return d.nh(d.ir(d.pb(a),d.pb(b)))},qja(a,b,f){return d.nh(d.XH(d.pb(a),d.pb(b),f))},rja(a,b,f){return d.nh(d.YH(d.pb(a),d.pb(b),d.pb(f)))},cma(a,b,f){b|=0;return(a|0)&~(1<<b)|(0!==f?1:0)<<b},lma(a,b){return(a|0)^1<<(b|0)},ska(a,b){return(a|0)&1<<(b|0)?1:0},gla(){return"\n"},qma(a){return"string"===typeof a?a.toUpperCase():""},Zka(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,f){return"string"!==
typeof a?"":0>f?a.substr(b):a.substr(b,f)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},mba(a,b,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},nba(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Qr(b),"i")):-1},Tja(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.Qr(b),"")):-1},replace(a,b,f){return"string"===typeof a&&"string"===typeof b&&"string"===typeof f?a.replace(new RegExp(d.Qr(b),"gi"),f):"string"===typeof a?a:""},Cla(a,b,f){b=this.Cw(b,f);return a?a.search(b):-1},Bla(a,b,f,c){b=this.Cw(b,f);return a?a.replace(b,c):""},Ala(a,b,f){return(a=this.jK(a.toString(),b,f))?a.length:0},zla(a,b,f,c){c=Math.floor(c);a=this.jK(a.toString(),b,f);return!a||0>c||c>=a.length?"":a[c]},yba(a,b){let f=0>a?"-":"";0>a&&(a=-a);f+="0".repeat(Math.max(b-
a.toString().length,0));return f+a.toString()},sma(a){return encodeURIComponent(a)},rma(a){return decodeURIComponent(a)},hI(){return this.g.Ay},jba(){return this.g.Vd},Bma(){return(Date.now()-this.g.qm)/1E3},oma(){return Date.now()},time(){return this.g.xg()},jma(){return this.g.Bj},kla(){return this.g.WG},Xja(){return this.g.Oy},Eja(){return this.g.Hz},uka(){return this.g.xw()},Ema(){return this.g.V.Kg},Dma(){return this.g.V.Jg},pla(){return this.g.fg},ola(){return this.g.eg},nla(){return this.g.fg},
mla(){return this.g.eg},Ula(){return this.g.Ga().lf()},Vla(){return this.g.Ga().mf()},Vka(){return this.g.Ga().wa()},Wka(){return this.g.Ga().Dc},Tka(){return d.nh(this.g.Ga().Fa())},waa(){return this.g.Ga().ba()},Uka(){return this.g.Ga().aa()},xma(a){return(a=this.g.Ga().Y(a))?a.Bm.M:0},zma(a){return(a=this.g.Ga().Y(a))?a.Bm.L:0},yma(a){return(a=this.g.Ga().Y(a))?a.Bm.$:0},vma(a){return(a=this.g.Ga().Y(a))?a.Bm.U:0},Ama(a){return(a=this.g.Ga().Y(a))?a.Bm.width():0},wma(a){return(a=this.g.Ga().Y(a))?
a.Bm.height():0},zja(a,b,f){return(a=this.g.Ga().Y(a))?a.sg(b,f)[0]:0},Aja(a,b,f){return(a=this.g.Ga().Y(a))?a.sg(b,f)[1]:0},Qka(a,b,f){return(a=this.g.Ga().Y(a))?a.sn(b,f)[0]:0},Rka(a,b,f){return(a=this.g.Ga().Y(a))?a.sn(b,f)[1]:0},Mka(a){return(a=this.g.Ga().Y(a))?a.Dc:0},Hka(a){return(a=this.g.Ga().Y(a))?d.nh(a.Nd):0},Jka(a){return(a=this.g.Ga().Y(a))?100*a.He():0},Nka(a){return(a=this.g.Ga().Y(a))?a.Bi:0},Oka(a){return(a=this.g.Ga().Y(a))?a.lf():0},Pka(a){return(a=this.g.Ga().Y(a))?a.mf():0},
Kka(a){return(a=this.g.Ga().Y(a))?100*a.Bd:0},Lka(a){return(a=this.g.Ga().Y(a))?100*a.Cd:0},Ska(a){return(a=this.g.Ga().Y(a))?a.Ua():0},Ika(a){return(a=this.g.Ga().Y(a))?a.Ca():-1},yja(){const a=this.g.V;return a?a.rH:""},Baa(a){const b=this.Ue;return b.MK()?a?(a=b.MV(a))?a.Ca():0:b.bp().Ca():0},Sla(){return this.g.qo},xja(a,b,...f){var c=this.Fx(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var g=c.WA.get(b.toLowerCase());
if(!g)if(c.Hm)g=c.Hm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.Vk;const n=g.es();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.nn())return n;a=this.g.ea();b=a.ub().Zc();const h=0<b.length;h&&a.Rf(b);const l=g.bg;for(let m=f.length,p=l.length;m<p;++m)f.push(l[m].eo);
g=g.ee();f=g.ZC(g.Zc(),c,n,...f);h&&a.zb(b);return f},Yka(){return this.g.bd.xz},xka(){return 0===this.bo?1:this.bu/this.bo},Be(){return this.g.rs()?"webgpu":"webgl"},Fla(){return this.g.rs()?"<unavailable>":this.g.gn().bv},yka(){let a=this.g.jb().hW();return Math.round(100*a/1048576)/100},Gla(a,b,f){return d.h_(a,b,f)},Jla(a,b,f){return d.yL(a/100,b/100,f/100)},Hla(a,b,f,c){return d.$w(a/100,b/100,f/100,c/100)},Kla(a,b,f){return d.yL(a/255,b/255,f/255)},Ila(a,b,f,c){return d.$w(a/255,b/255,f/255,
c/255)},Maa(){return this.g.Uz},Naa(){return this.g.iR},Hja(){return this.g.ub().Bc.wa()},Gja(){return this.g.ub().mq}}}{"use strict";const d=self.B;d.C.od=class extends d.Bp{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.B;d.C.od.Pp=class extends d.gx{constructor(a){super(a);this.pd=a.pd}m(){d.D(this.pd);super.m()}xd(){for(const a of this.pd)a.dZ(this.g)}sp(a){const b={Ji:this.g.Wc};return Promise.all(this.pd.map(f=>f.eZ(a,b)))}wn(){for(const a of this.pd)a.B_()}Zw(){this.kP()}kP(){for(const a of this.I.laa())a.na.HE()}Vr(a){d.C.od.NV(this,a)}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.ld),f=d.A(d.Ys);d.C.od.Instance=class extends d.aD{constructor(g,n){super(g);let h=!0,l="",m=0,p=!0;n&&(h=!!n[0],l=n[1],m=n[2],p=n[3]);this.Eb=this.I.PJ(l)||this.I.pd[0];this.mb=d.da(m,0,this.Eb.rd.length-1);this.pe=this.Eb.tl(this.mb);n=this.pe.kf();this.kq=n.Hd();this.uF=n.Xi();this.Ot=n.Fw();this.mX();g.Ms(2,!0);g.Ms(1,0<=this.Eb.bk());this.rj=Math.abs(this.Eb.bk());this.jq=this.Eb.nR;this.ey=d.A(d.xs);this.nj=this.li=0;this.sP="";this.Jt=-1;this.cq=
"";this.yP=0;g=this.j();this.g9=g.Mi();g.Nh(h);g.Ls(p);g.Jp(this.pe.Xj());g.Kp(this.pe.Yj());g.pD(this.pe.On);g.Xa();1===this.I.pd.length&&1===this.I.pd[0].rd.length||0===this.rj||this.Sl()}m(){this.ey=this.kq=this.pe=this.Eb=null;super.m()}wh(){return this.pe.kf()}pn(){return!0}vp(){this.kq=null}xL(){this.HE()}ff(g){var n=this.kq;null!==n&&(g.uf(n),n=this.j(),n.pf()?this.ZD(n,g):this.$D(n,g))}$D(g,n){let h=this.g9;this.g.Ik&&(h=g.zL(h));n.w_(h,this.Ot)}ZD(g,n){const h=g.wK();if(g.QK()){g.Pv(a,b,
!1);let l=b;this.g.Ik&&(l=g.zL(l));h.jJ(g.Wi(),l,this.Ot);g.jD(!1)}h.ff(n)}Yr(){return this.ey.X()}Sw(){return this.ia.SB(2)}Ep(g){this.ia.Ms(2,g)}Vw(){return this.ia.SB(1)}Qs(g){this.ia.Ms(1,g)}zC(){return this.ia.SB(4)}kM(g){this.ia.Ms(4,g)}me(){this.cq&&this.pN();0<=this.Jt&&this.XD();const g=this.rj;if(this.Sw()&&0!==g){this.ey.tc(this.g.gs(this.ia));var n=this.Yr(),h=this.pe,l=h.HP/g;if(!(n<this.li+l)){var m=this.Eb,p=this.jq,u=m.rd.length,q=m.ul(),v=m.iz,t=m.L9;this.Vw()?this.mb++:this.mb--;
this.li+=l;this.mb>=u&&(t?(this.Qs(!1),this.mb=u-2):v?this.mb=p:(this.nj++,this.nj>=q?this.bE(!1):this.mb=p));0>this.mb&&(t?(this.mb=1,this.Qs(!0),v||(this.nj++,this.nj>=q&&this.bE(!0))):v?this.mb=p:(this.nj++,this.nj>=q?this.bE(!0):this.mb=p));this.mb=d.da(this.mb,0,u-1);l=m.tl(this.mb);n>this.li+l.HP/g&&(this.li=n);this.Nx(h,l)}}else this.wt()}bE(g){this.mb=g?0:this.Eb.rd.length-1;this.Ep(!1);this.sP=this.Eb.wa();this.kM(!0);this.xa(d.C.od.J.HZ);this.xa(d.C.od.J.GZ);this.kM(!1);this.nj=0}Nx(g,n){if(g!==
n){var h=this.j(),l=g.kf();g=n.kf();var m=l.ba();l=l.aa();var p=g.ba(),u=g.aa();m!==p&&h.Oh(h.ba()*(p/m));l!==u&&h.Hh(h.aa()*(u/l));h.Jp(n.Xj());h.Kp(n.Yj());h.pD(n.On);h.Xa();this.pe=n;this.kq=g.Hd();this.uF=g.Xi();this.Ot=g.Fw();n=this.za().Jc;for(let q=0,v=n.length;q<v;++q);this.xa(d.C.od.J.NZ);this.g.Z()}}q8(g){this.Ep(!0);this.li=this.Yr();1===g&&0!==this.mb&&(this.Jt=0,this.zC()||this.XD());this.Sl()}A7(g,n){this.cq=g;this.yP=n;this.Sl();this.zC()||this.pN()}GN(){return this.cq?this.cq:this.Eb.wa()}B7(g){isFinite(g)&&
(this.Jt=g,this.zC()||this.XD())}D7(g){this.rj=Math.abs(g);this.Qs(0<=g);0<this.rj&&this.Sl()}CN(){return this.Vw()?this.rj:-this.rj}C7(g){this.jq=g=d.da(Math.floor(g),0,this.Eb.rd.length-1)}pN(){const g=this.pe;var n=this.I.PJ(this.cq);this.cq="";!n||n===this.Eb&&this.Sw()||(this.Eb=n,this.Qs(0<=n.bk()),this.rj=Math.abs(n.bk()),this.jq=n.nR,this.mb=d.da(this.mb,0,this.Eb.rd.length-1),1===this.yP&&(this.mb=0),this.Ep(!0),this.li=this.Yr(),n=this.Eb.tl(this.mb),this.Nx(g,n))}XD(){const g=this.pe;var n=
this.mb;this.mb=d.da(Math.floor(this.Jt),0,this.Eb.rd.length-1);this.Jt=-1;n!==this.mb&&(n=this.Eb.tl(this.mb),this.Nx(g,n),this.li=this.Yr())}HE(){const g=this.pe.kf();this.kq=g.Hd();this.uF=g.Xi();this.Ot=g.Fw();this.j().jD(!0)}Hd(){return this.kq}Xi(){return this.uF}Fw(){return this.Ot}UB(){return this.pe.UB()}Ym(g){const n=this.pe,h=this.j();if("string"===typeof g)g=n.BW(g);else if("number"===typeof g)g=n.AW(g-1);else throw new TypeError("expected string or number");if(!g)return[h.ka(),h.la()];
f.ta(g.eH);if(h.pf()){const [l,m]=h.Wi().LM(f.N,f.K);f.set(l,m)}f.offset(-n.Xj(),-n.Yj());f.scale(h.ba(),h.aa());f.rotate(h.Fa());f.offset(h.ka(),h.la());return[f.N,f.K]}bW(){return this.j().ck().rS()}RJ(g){g=Math.floor(g);const n=this.j();var h=n.ck();const l=h.rS();g===l&&(g=0);if(0>g||g>=l)return[0,0];h=h.td;return[h[2*g]+n.ka(),h[2*g+1]+n.la()]}md(){const g={a:this.Eb.ab};0!==this.li&&(g.fs=this.li);var n=this.Yr();0!==n&&(g.at=n);0!==this.mb&&(g.f=this.mb);0!==this.rj&&(g.cas=this.rj);1!==this.nj&&
(g.ar=this.nj);0!==this.jq&&(g.rt=this.jq);this.Sw()||(g.ap=this.Sw());this.Vw()||(g.af=this.Vw());n=this.j();n.Ch()&&(g.ce=n.Ch());return g}$c(g){var n=this.G().VV(g.a);n&&(this.Eb=n);this.li=g.hasOwnProperty("fs")?g.fs:0;this.ey.Set(g.hasOwnProperty("at")?g.at:0);n=g.hasOwnProperty("f")?g.f:0;this.mb=d.da(n,0,this.Eb.rd.length-1);this.rj=g.hasOwnProperty("cas")?g.cas:0;this.nj=g.hasOwnProperty("ar")?g.ar:1;n=g.hasOwnProperty("rt")?g.rt:0;this.jq=d.da(n,0,this.Eb.rd.length-1);this.Ep(g.hasOwnProperty("ap")?
!!g.ap:!0);this.Qs(g.hasOwnProperty("af")?!!g.af:!0);this.pe=n=this.Eb.tl(this.mb);this.HE();const h=this.j();h.Jp(n.Xj());h.Kp(n.Yj());h.pD(n.On);h.Ls(!!g.ce)}wc(g){const n=this.j();switch(g){case 3:return n.Ch();case 2:return d.da(this.mb,0,this.Eb.rd.length-1)}}Ih(g,n){var h=this.j();switch(g){case 3:h.Ls(!!n);break;case 2:this.Ep(!1);g=this.Eb.rd.length-1;h=n=d.da(n,0,g);n=this.Eb.tl(this.mb);const l=this.Eb.tl(h);this.Nx(n,l);this.mb=d.da(h,0,g)}}ak(){return self.KX}};const c=new WeakMap;self.KX=
class extends self.Pw{constructor(){super();c.set(this,self.us.ft().na)}get animationName(){return c.get(this).GN()}get imageWidth(){return c.get(this).wh().ba()}get imageHeight(){return c.get(this).wh().aa()}}}
{"use strict";const d=self.B;d.C.od.J={Gda(a){return d.Jm(this.GN(),a)},Aca(a,b){return d.compare(this.mb,a,b)},wca(a,b){return d.compare(this.CN(),a,b)},GZ(a){return d.Jm(this.sP,a)},HZ(){return!0},NZ(){return!0},Yda(){return 0>this.j().ba()},Rda(){return 0>this.j().aa()},wL(){return!0},g_(){return!0},Ch(){return this.j().Ch()}}}
{"use strict";const d=self.B;d.C.od.Yd={cia(a,b,f,c){if(a&&b){var [g,n]=this.Ym(f);if(f=this.g.sB(a,b,g,n,c)){c&&b.vD(f);a.wb().rp()&&(b=f.j(),b.nd(this.j().Fa()),b.Xa());b=this.g.ea();b.Zd(!0);f.Zx();b.Zd(!1);c=this.g.cs().Ui();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.rq)b=!0,c.set("Spawn_LastExec",this.g.rq);if(a!==this.G()&&(a=a.P(),a.Kd(!1),a=a.F,b&&d.D(a),a.push(f),f.Lb()))for(const h of f.ed)f=h.G().P(),b?f.fj(h):(f.Kd(!1),f.Fn(h))}}},jia(){this.Ep(!1)},fia(a){this.q8(a)},
$ga(a,b){this.A7(a,b)},aha(a){this.B7(a)},cha(a){this.D7(a)},bha(a){this.C7(a)},Rha(a){const b=this.j(),f=b.ba();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.Oh(a),b.Xa())},pha(a){const b=this.j(),f=b.aa();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.Hh(a),b.Xa())},lD(a){const b=this.pe.kf(),f=this.j();var c=0>f.ba()?-1:1;const g=0>f.aa()?-1:1;c*=b.ba()*a;a=b.aa()*a*g;if(f.ba()!==c||f.aa()!==a)f.Tc(c,a),f.Xa()},async yea(a,b){const f=this.pe.kf(),c=this.j(),g=this.g;if(f.Ej===a)0===b&&(c.Tc(f.ba(),f.aa()),c.Xa()),
this.xa(d.C.od.J.wL);else{var n=d.A(d.Qw);try{await n.gZ(g,a);if(!n.CC())throw Error("image failed to load");await n.Bs(g.jb(),{Ji:this.g.Wc})}catch(h){console.error("Load image from URL failed: ",h);this.xa(d.C.od.J.g_);return}f.N_(n);this.rc.kP();this.wx()||0!==b||(c.Tc(f.ba(),f.aa()),c.Xa());g.Z();this.wx()||await this.vf(d.C.od.J.wL)}},iha(a){this.j().Ls(a)},oD(a,b){this.j().oD(0===a,b)},p0(a){this.j().sf(a);this.g.Z()}}}"use strict";
self.B.C.od.uc={Xba(){return this.mb},Yba(){return this.Eb.rd.length},Zba(){return this.Eb.wa()},$ba(){return this.CN()},ifa(){return this.Eb.bk()},zda(d){return this.Ym(d)[0]},Ada(d){return this.Ym(d)[1]},yda(){return this.UB()},Bda(){return this.wh().ba()},xda(){return this.wh().aa()},Ffa(d){return this.RJ(d)[0]},Gfa(d){return this.RJ(d)[1]},Efa(){return this.bW()}};{"use strict";const d=self.B;d.C.Text=class extends d.Bp{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.B;d.C.Text.Pp=class extends d.gx{constructor(a){super(a)}m(){super.m()}xd(){}sp(){}wn(){}}}
{"use strict";const d=self.B,a=self.ph,b=[0,0,0],f=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,n=new d.ld;new d.Va;d.C.Text.Instance=class extends d.aD{constructor(m,p){super(m);this.Kc="";this.Bk=!0;this.ji="Arial";this.Aj=12;this.Tg=0;this.Qe=this.Pe=!1;this.Ya=d.A(d.Va);this.Ae=this.Ne=0;this.Hj=!0;this.Dj=this.dr=-1;this.av=0;this.Cc=d.A(d.T.TC,this.g.jb(),{timeout:5});this.Cc.NA=()=>this.g.Z();this.Cc.nM();p&&(this.Kc=p[0],this.Bk=!!p[1],this.ji=p[2],this.Aj=p[3],this.Tg=
p[4],this.Pe=!!p[5],this.Qe=!!p[6],this.Ne=p[8],this.Ae=p[9],this.Hj=0===p[10],m=p[7],this.Ya.Cr(m[0],m[1],m[2]),this.j().Nh(p[11]));this.Md()}m(){this.Ql();this.Cc.m();this.Cc=null;super.m()}Md(){const m=this.Cc;m.Vs(this.Kc);m.h0(this.Bk);m.gD(this.ji);m.rM(this.Tg);m.$L(this.Pe);m.pM(this.Qe);m.Hl(this.Ya);m.jM(f[this.Ne]);m.CM(c[this.Ae]);m.d1(this.Hj?"word":"character")}JE(){const m=this.j();this.Cc.lx(this.Aj);this.Cc.w0(m.aX());var p=m.Y();p=p.$j()*p.NJ(m.he());this.Cc.Tc(m.ba(),m.aa(),p)}ff(m){var p=
this.j();this.JE();const u=this.Cc.Hd();if(u){var q=p.Y();if(0===p.Fa()&&0===q.Fa()&&0===p.he()&&!p.pf()&&q.JL()){p=p.Mi();const [v,t]=q.bj(p.nb,p.ob),[w,y]=q.bj(p.Sb,p.Tb);p=v-Math.round(v);const z=t-Math.round(t);g.set(v,t,w,y);g.offset(-p,-z);n.lh(g);const [F,G]=m.kK(m.ls());this.g.V.eD(m,F,G);m.uf(u);m.un(n,this.Cc.Xi());q.Wx(m)}else m.uf(u),p.pf()?this.ZD(p,m):this.$D(p,m)}}$D(m,p){m=m.Mi();this.g.Ik&&(m=this.wO(m));p.un(m,this.Cc.Xi())}ZD(m,p){const u=m.wK();if(m.QK()){m.Pv(g,n,!1);let q=n;
this.g.Ik&&(q=this.wO(q));u.jJ(m.Wi(),q,this.Cc.Xi());m.jD(!1)}u.ff(p)}wO(m){const p=m.nb-Math.round(m.nb),u=m.ob-Math.round(m.ob);if(0===p&&0===u)return m;n.ta(m);n.offset(-p,-u);return n}md(){const m={t:this.Kc,c:this.Ya.toJSON(),fn:this.ji,ps:this.Aj};this.Bk&&(m.bbc=this.Bk);0!==this.Ne&&(m.ha=this.Ne);0!==this.Ae&&(m.va=this.Ae);this.Hj||(m.wr=this.Hj);0!==this.Tg&&(m.lho=this.Tg);this.Pe&&(m.b=this.Pe);this.Qe&&(m.i=this.Qe);-1!==this.Dj&&(m.tw={st:this.dr,en:this.Dj,l:this.av});return m}$c(m){this.Ql();
this.Kc=m.t;this.Ya.ll(m.c);this.ji=m.fn;this.Aj=m.ps;this.Bk=m.hasOwnProperty("bbc")?m.bbc:!1;this.Ne=m.hasOwnProperty("ha")?m.ha:0;this.Ae=m.hasOwnProperty("va")?m.va:0;this.Hj=m.hasOwnProperty("wr")?m.wr:!0;this.Tg=m.hasOwnProperty("lho")?m.lho:0;this.Pe=m.hasOwnProperty("b")?m.b:!1;this.Qe=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.dr=m.st,this.Dj=m.en,this.av=m.l);this.Md();-1!==this.Dj&&this.Sl()}wc(m){switch(m){case 0:return this.Kc;case 1:return this.Bk;case 2:return this.ji;
case 3:return this.Aj;case 4:return this.Tg;case 5:return this.Pe;case 6:return this.Qe;case 7:return b[0]=this.Ya.Pa,b[1]=this.Ya.Sa,b[2]=this.Ya.Ra,b;case 8:return this.Ne;case 9:return this.Ae;case 10:return this.Hj?1:0}}Ih(m,p){switch(m){case 0:if(this.Kc===p)break;this.Kc=p;this.Md();break;case 1:if(this.Bk===!!p)break;this.Bk=!!p;this.Md();break;case 2:if(this.ji===p)break;this.ji=p;this.Md();break;case 3:if(this.Aj===p)break;this.Aj=p;this.Md();break;case 4:if(this.Tg===p)break;this.Tg=p;this.Md();
break;case 5:if(this.Pe===!!p)break;this.Pe=!!p;this.Md();break;case 6:if(this.Qe===!!p)break;this.Qe=!!p;this.Md();break;case 7:m=this.Ya;if(m.Pa===p[0]&&m.Sa===p[1]&&m.Ra===p[2])break;this.Ya.Cr(p[0],p[1],p[2]);this.Md();break;case 8:if(this.Ne===p)break;this.Ne=p;this.Md();break;case 9:if(this.Ae===p)break;this.Ae=p;this.Md();break;case 10:this.Hj!==(0===p)&&(this.Hj=0===p,this.Md())}}Vx(m){this.Kc!==m&&(this.Kc=m,this.Cc.Vs(m),this.g.Z())}r8(m,p){this.Vx(m);this.dr=this.g.hC();this.Dj=this.dr+
p/this.za().TV();this.av=d.pl.GM(m).length;this.Cc.fD(0);this.Sl()}Ql(){this.Dj=this.dr=-1;this.av=0;this.Cc.fD(-1);this.wt()}Y3(){-1!==this.Dj&&(this.Ql(),this.xa(d.C.Text.J.vL),this.g.Z())}O7(m){this.ji!==m&&(this.ji=m,this.Cc.gD(m),this.g.Z())}F7(m){m=!!m;this.Pe!==m&&(this.Pe=m,this.Cc.$L(m),this.g.Z())}Y7(m){m=!!m;this.Qe!==m&&(this.Qe=m,this.Cc.pM(m),this.g.Z())}P7(m){this.Aj!==m&&(this.Aj=m,this.g.Z())}N7(m){this.Ya.hl(m)||(this.Ya.Kj(m),this.Cc.Hl(this.Ya),this.g.Z())}VO(m){this.Tg!==m&&(this.Tg=
m,this.Md(),this.g.Z())}S7(m){this.Ne!==m&&(this.Ne=m,this.Md(),this.g.Z())}$O(m){this.Ae!==m&&(this.Ae=m,this.Md(),this.g.Z())}l8(m){m=!!m;this.Hj!==m&&(this.Hj=m,this.Md(),this.g.Z())}F4(){this.JE();return this.Cc.dX()}E4(){this.JE();return this.Cc.cX()}me(){var m=this.g.hC();m>=this.Dj?(this.Ql(),this.xa(d.C.Text.J.vL),this.g.Z()):(m=d.Taa(this.dr,this.Dj,m,this.av),m=Math.floor(m),m!==this.Cc.Un&&(this.Cc.fD(m),this.g.Z()))}ak(){return self.MX}};const h=new WeakMap,l=new Map([["top",0],["center",
1],["bottom",2]]);self.MX=class extends self.Pw{constructor(){super();h.set(this,self.us.ft().na)}get text(){return h.get(this).Kc}set text(m){a.Jd(m);const p=h.get(this);p.Ql();p.Vx(m)}set lineHeight(m){a.jk(m);h.get(this).VO(m)}get lineHeight(){return h.get(this).Tg}set verticalAlign(m){a.Jd(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");h.get(this).$O(m)}get verticalAlign(){return c[h.get(this).Ae]}}}
{"use strict";const d=self.B;d.C.Text.J={Eca(a,b){return b?this.Kc===a:d.Jm(this.Kc,a)},gea(){return-1!==this.Dj},vL(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Va);d.C.Text.Yd={Vs(b){this.Ql();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Vx(b.toString())},aca(b){this.Ql();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Vx(this.Kc+b)},Jia(b,f){this.Ql();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.r8(b.toString(),f)},sha(b,f){let c=!1,g=!1;switch(f){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.ji||c!==this.Pe||g!==this.Qe)this.O7(b),this.F7(c),
this.Y7(g)},lx(b){this.P7(b)},rha(b){a.Br(b);a.da();this.N7(a)},Yha(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},p0(b){this.j().sf(b);this.g.Z()},Iia(){this.Y3()},rM(b){this.VO(b)},uha(b){this.S7(b)},Xha(b){this.$O(b)},Zha(b){this.l8(0===b)}}}{"use strict";const d=self.B;d.C.Text.uc={Text(){return this.Kc},Dfa(){return this.Bk?d.pl.GM(this.Kc):this.Kc},Zca(){return this.ji},IV(){return this.Aj},s1(){return this.F4()},xia(){return this.E4()},sea(){return this.Tg}}}
{"use strict";const d=self.B;d.C.Touch=class extends d.Bp{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.B,a=self.ph;d.C.Touch.Pp=class extends d.gx{constructor(f){super(f)}m(){super.m()}xd(){}ak(){return self.NX}};let b=null;self.NX=class extends self.pC{constructor(f){super(f);b=f;f.H().Kt.VI=this}requestPermission(f){a.Jd(f);const c=b.Vi().na;if("orientation"===f)return c.sE(0);if("motion"===f)return c.sE(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.C.Touch.Instance=class extends d.dx{constructor(a,b){super(a,"touch");this.Lc=new Map;this.jz=this.JR=!1;this.Ry=this.Mg=this.Lg=this.FH=this.rA=this.cr=this.NE=this.ME=this.LE=this.QE=this.PE=this.OE=this.ZG=this.YG=this.XG=this.Mz=0;this.Oz=[];b&&(this.JR=b[0]);this.ZI("permission-result",f=>this.g6(f));a=this.H().Kb();this.Me=new d.oB(d.ae.vg(a,"pointerdown",f=>this.h6(f.data)),d.ae.vg(a,"pointermove",f=>this.i6(f.data)),d.ae.vg(a,"pointerup",f=>this.tO(f.data,!1)),
d.ae.vg(a,"pointercancel",f=>this.tO(f.data,!0)),d.ae.vg(a,"deviceorientation",f=>this.U5(f.data)),d.ae.vg(a,"deviceorientationabsolute",f=>this.V5(f.data)),d.ae.vg(a,"devicemotion",f=>this.T5(f.data)),d.ae.vg(a,"tick2",()=>this.qE()))}m(){this.Lc.clear();super.m()}h6(a){if("mouse"===a.pointerType)if(this.JR)this.jz=!0;else return;const b=a.pointerId;if(!this.Lc.has(b)){var f=a.pageX-this.g.$r();a=a.pageY-this.g.bs();var c=performance.now(),g=this.Lc.size;this.cr=g;this.rA=b;var n=d.A(d.C.Touch.w1);
n.yl(c,f,a,b,g);this.Lc.set(b,n);this.xa(d.C.Touch.J.XZ);this.xa(d.C.Touch.J.uL);this.Lg=f;this.Mg=a;this.xa(d.C.Touch.J.f_)}}i6(a){if("mouse"!==a.pointerType||this.jz){var b=this.Lc.get(a.pointerId);if(b){var f=performance.now();2>f-b.Aa()||b.nk(f,a.pageX-this.g.$r(),a.pageY-this.g.bs(),a.width,a.height,a.pressure)}}}tO(a,b){if("mouse"===a.pointerType)if(this.jz)this.jz=!1;else return;const f=performance.now();a=a.pointerId;const c=this.Lc.get(a);c&&(this.cr=c.jg,this.rA=c.Ni(),this.xa(d.C.Touch.J.WZ),
this.xa(d.C.Touch.J.e_),b||(b=c.i1(f),"single-tap"===b?(this.xa(d.C.Touch.J.d_),this.Lg=c.ka(),this.Mg=c.la(),this.xa(d.C.Touch.J.tL)):"double-tap"===b&&(this.xa(d.C.Touch.J.MZ),this.Lg=c.ka(),this.Mg=c.la(),this.xa(d.C.Touch.J.kL))),c.m(),this.Lc.delete(a))}sE(a){this.yO("request-permission",{type:a});return new Promise((b,f)=>{this.Oz.push({type:a,resolve:b,reject:f})})}g6(a){const b=a.result,f=a.type;this.FH=f;a=this.Oz.filter(c=>c.type===f);for(const c of a)c.resolve(b?"granted":"denied");this.Oz=
this.Oz.filter(c=>c.type!==f);b?(this.xa(d.C.Touch.J.ZZ),0===f?this.g.zp():this.g.Gl()):this.xa(d.C.Touch.J.YZ)}U5(a){"number"===typeof a.webkitCompassHeading?this.Mz=a.webkitCompassHeading:a.absolute&&(this.Mz=a.alpha);this.XG=a.alpha;this.YG=a.beta;this.ZG=a.gamma}V5(a){this.Mz=a.alpha}T5(a){const b=a.acceleration;b&&(this.OE=b.x,this.PE=b.y,this.QE=b.z);if(a=a.accelerationIncludingGravity)this.LE=a.x,this.ME=a.y,this.NE=a.z}qE(){const a=performance.now();let b=0;for(const f of this.Lc.values())f.Aa()<=
a-50&&f.a8(a),f.h1(a)&&(this.cr=f.jg,this.rA=f.Ni(),this.Ry=b,this.xa(d.C.Touch.J.OZ),this.Lg=f.ka(),this.Mg=f.la(),this.xa(d.C.Touch.J.PZ),this.Ry=0),++b}Th(a){a=Math.floor(a);for(const b of this.Lc.values()){if(0===a)return b;--a}return null}jt(a,b){return 0<=a&&0<=b&&a<this.g.aW()&&b<this.g.$V()}}}
{"use strict";const d=self.B,a=[];d.C.Touch.J={uL(){return!0},e_(){return!0},KY(){return 0<this.Lc.size},f_(b){return b&&this.jt(this.Lg,this.Mg)?this.g.bi.qx(b,this.Lg,this.Mg):!1},VY(b){if(!b)return!1;const f=b.P();var c=f.fa();for(const g of c){c=g.j();const n=c.Y();for(const h of this.Lc.values()){if(!this.jt(h.ka(),h.la()))continue;const [l,m]=n.sg(h.ka(),h.la(),c.he());if(c.Nr(l,m)){a.push(g);break}}}return a.length?(f.Js(a),b.Ob(),d.D(a),!0):!1},Gca(b,f,c){return(b=this.Th(b))?d.compare(b.bk(),
f,c):!1},hfa(){return!0},Gea(){return!0},Dca(b,f,c){this.g.zp();return d.compare(0===b?this.XG:1===b?this.YG:this.ZG,f,c)},vca(b,f,c){this.g.Gl();return d.compare(0===b?this.LE:1===b?this.ME:2===b?this.NE:3===b?this.OE:4===b?this.PE:this.QE,f,c)},XZ(b){b=Math.floor(b);return b===this.cr},WZ(b){b=Math.floor(b);return b===this.cr},qda(b){b=Math.floor(b);return this.Lc.size>=b+1},OZ(){return!0},d_(){return!0},MZ(){return!0},PZ(b){return b&&this.jt(this.Lg,this.Mg)?this.g.bi.qx(b,this.Lg,this.Mg):!1},
tL(b){return b&&this.jt(this.Lg,this.Mg)?this.g.bi.qx(b,this.Lg,this.Mg):!1},kL(b){return b&&this.jt(this.Lg,this.Mg)?this.g.bi.qx(b,this.Lg,this.Mg):!1},ZZ(b){return this.FH===b},YZ(b){return this.FH===b}}}"use strict";self.B.C.Touch.Yd={Vfa(d){this.sE(d)}};
{"use strict";const d=self.B;d.C.Touch.uc={Dia(){return this.Lc.size},ID(a){const b=this.Th(this.Ry);return b?b.jp(this.g.Ga(),a,!0):0},Y1(a){const b=this.Th(this.Ry);return b?b.jp(this.g.Ga(),a,!1):0},cja(a,b){return(a=this.Th(a))?a.jp(this.g.Ga(),b,!0):0},eja(a,b){return(a=this.Th(a))?a.jp(this.g.Ga(),b,!1):0},dja(a,b){return(a=this.Lc.get(a))?a.jp(this.g.Ga(),b,!0):0},fja(a,b){return(a=this.Lc.get(a))?a.jp(this.g.Ga(),b,!1):0},Bba(){const a=this.Th(0);return a?a.ka():0},Eba(){const a=this.Th(0);
return a?a.la():0},Cba(a){return(a=this.Th(a))?a.ka():0},Fba(a){return(a=this.Th(a))?a.la():0},Dba(a){return(a=this.Lc.get(a))?a.ka():0},Gba(a){return(a=this.Lc.get(a))?a.la():0},dia(a){return(a=this.Th(a))?a.bk():0},eia(a){return(a=this.Lc.get(a))?a.bk():0},Vba(a){return(a=this.Th(a))?d.nh(a.Fa()):0},Wba(a){return(a=this.Lc.get(a))?d.nh(a.Fa()):0},Lca(){this.g.zp();return this.Mz},Tba(){this.g.zp();return this.XG},hca(){this.g.zp();return this.YG},ida(){this.g.zp();return this.ZG},Iba(){this.g.Gl();
return this.LE},Kba(){this.g.Gl();return this.ME},Mba(){this.g.Gl();return this.NE},Hba(){this.g.Gl();return this.OE},Jba(){this.g.Gl();return this.PE},Lba(){this.g.Gl();return this.QE},Fia(){return this.cr},Eia(){return this.rA},bja(a){return(a=this.Lc.get(a))?a.ba():0},sda(a){return(a=this.Lc.get(a))?a.aa():0},Ifa(a){return(a=this.Lc.get(a))?a.hR:0}}}
{"use strict";const d=self.B;let a=-1E3,b=-1E3,f=-1E4;d.C.Touch.w1=class extends d.ca{constructor(){super();this.hR=this.O=this.S=this.Cz=this.Bz=this.K=this.N=this.jA=this.iA=this.Az=this.sc=this.qm=this.jg=this.gR=0;this.qz=this.VF=!1}m(){}yl(c,g,n,h,l){this.gR=h;this.jg=l;this.qm=this.Az=this.sc=c;this.iA=g;this.jA=n;this.N=g;this.K=n;this.Bz=g;this.Cz=n}nk(c,g,n,h,l,m){this.Az=this.sc;this.sc=c;this.Bz=this.N;this.Cz=this.K;this.N=g;this.K=n;this.S=h;this.O=l;this.hR=m;!this.qz&&15<=d.lr(this.iA,
this.jA,this.N,this.K)&&(this.qz=!0)}Ni(){return this.gR}Aa(){return this.sc}a8(c){this.Az=c}ka(){return this.N}la(){return this.K}bk(){const c=d.lr(this.N,this.K,this.Bz,this.Cz),g=(this.sc-this.Az)/1E3;return 0<g?c/g:0}Fa(){return d.CA(this.Bz,this.Cz,this.N,this.K)}ba(){return this.S}aa(){return this.O}h1(c){return this.VF?!1:500<=c-this.qm&&!this.qz&&15>d.lr(this.iA,this.jA,this.N,this.K)?this.VF=!0:!1}i1(c){if(this.VF)return"";if(333>=c-this.qm&&!this.qz&&15>d.lr(this.iA,this.jA,this.N,this.K)){if(666>=
c-f&&25>d.lr(a,b,this.N,this.K))return b=a=-1E3,f=-1E4,"double-tap";a=this.N;b=this.K;f=c;return"single-tap"}return""}jp(c,g,n){return"undefined"===typeof g?c.yw(0).ET(this.N,this.K)[n?0:1]:(c=c.Y(g))?c.sg(this.N,this.K)[n?0:1]:0}}}{"use strict";const d=self.B;d.C.Keyboard=class extends d.Bp{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.B;d.C.Keyboard.Pp=class extends d.gx{constructor(a){super(a)}m(){super.m()}xd(){}ak(){return self.GX}};self.GX=class extends self.pC{constructor(a){super(a);a.H().Kt.keyboard=this}}}
{"use strict";const d=self.B;d.C.Keyboard.Instance=class extends d.dx{constructor(a){super(a);this.zq=new Set;this.Aq=new Set;this.Cj=0;this.$u=this.sA="";a=this.H().Kb();this.Me=new d.oB(d.ae.vg(a,"keydown",b=>this.e6(b.data)),d.ae.vg(a,"keyup",b=>this.f6(b.data)),d.ae.vg(a,"window-blur",()=>this.vO()),d.ae.vg(a,"keyboard-blur",()=>this.vO()))}m(){super.m()}e6(a){const b=a.which,f=a.code||b.toString();a=a.key;this.zq.has(f)||(this.zq.add(f),this.Aq.add(b),this.sA=f,this.Cj=b,this.$u=a,this.xa(d.C.Keyboard.J.IZ),
this.xa(d.C.Keyboard.J.lL),this.xa(d.C.Keyboard.J.TZ),this.xa(d.C.Keyboard.J.RZ))}f6(a){const b=a.which,f=a.code||b.toString();a=a.key;this.zq.delete(f);this.Aq.delete(b);this.sA=f;this.Cj=b;this.$u=a;this.xa(d.C.Keyboard.J.hL);this.xa(d.C.Keyboard.J.nL);this.xa(d.C.Keyboard.J.UZ);this.xa(d.C.Keyboard.J.mL)}vO(){for(const a of this.Aq)this.Aq.delete(a),this.Cj=a,this.xa(d.C.Keyboard.J.hL),this.xa(d.C.Keyboard.J.nL),this.xa(d.C.Keyboard.J.mL);this.zq.clear()}PK(a){return this.zq.has(a)}md(){return{tk:this.Cj,
tkk:this.$u}}$c(a){this.Cj=a.tk;a.hasOwnProperty("tkk")&&(this.$u=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.J={PK(a){return this.Aq.has(a)},lL(a){return this.Cj===a},IZ(){return!0},hL(){return!0},nL(a){return this.Cj===a},Uda(a){a=Math.floor(a);return this.Aq.has(a)},RZ(a){return this.Cj===a},mL(a){return this.Cj===a},TZ(a){return this.sA===d[a]},UZ(a){return this.sA===d[a]},Vda(a){return this.zq.has(d[a])}}}"use strict";
self.B.C.Keyboard.Yd={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.B.C.Keyboard.uc={mea(){return this.Cj},mia(a){return d(a)},Hia(){return this.$u}}}
{const d=self.B;self.hJ=function(){return[d.C.od,d.C.Text,d.C.Touch,d.C.Keyboard,d.C.Na.J.MJ,d.C.od.Yd.mM,d.C.Na.uc.hI,d.C.od.Yd.Eg,d.C.od.uc.ID,d.C.Text.Yd.Vs,d.C.Na.uc.yba,d.C.Na.uc.time,d.C.od.J.UT,d.C.Na.uc.waa,d.C.od.uc.U1,d.C.Text.Yd.mM,d.C.Na.J.pL,d.C.Na.uc.Maa,d.C.Na.uc.Naa,d.C.Na.Yd.FD,d.C.Text.uc.ID,d.C.Text.uc.s1,d.C.Na.J.TT,d.C.Touch.J.uL,d.C.Touch.J.VY,d.C.Na.J.RT,d.C.Na.uc.jba,d.C.Na.Yd.R0,d.C.Na.J.FJ,d.C.Keyboard.J.lL,d.C.Touch.J.KY,d.C.Keyboard.J.PK,d.C.Text.J.ST,d.C.Text.Yd.lx,d.C.Na.J.np,
d.C.Touch.J.tL,d.C.Touch.J.kL,d.C.Na.J.PV,d.C.Na.uc.nba,d.C.Na.uc.mba,d.C.Na.uc.Baa,d.C.Text.uc.Text,d.C.Na.Yd.c1,d.C.Text.J.jL,d.C.Text.uc.IV,d.C.Text.J.CY,d.C.Na.J.A1]};self.wT=[{Qia:0},{Ria:0},{zba:0},{od:0},{dda:0},{hia:0},{Text:0},{bZ:0},{lea:0},{Kfa:0},{Aea:0},{Touch:0},{Keyboard:0},{lla:0},{Nba:0},{oca:0},{nca:0},{sca:0},{Bia:0},{mca:0},{Aia:0},{Sia:0},{ima:0}]}
self.vT=[d=>{const a=d.Ab(0),b=d.Ab(1),f=d.Ab(2).gf();return()=>a.Zo()+b.Zo()*f()},d=>{const a=d.Ab(0),b=d.Ab(1),f=d.Ab(2).gf();return()=>a.Rr()+b.Zo()*f()},d=>{const a=d.Ab(0).gf(),b=d.Ab(1).gf(),f=d.Ab(2);return()=>"0:"+a(Math.round(b()-f.Zo()),2)},d=>{const a=d.Ab(0).gf();return()=>a()},d=>{const a=d.Ab(0);return()=>0-a.Rr()},d=>{const a=d.Ab(0);return()=>a.Zo()},d=>{const a=d.Ab(0).gf(),b=d.Ab(1).gf();return()=>a()+" - "+b()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},()=>
0,d=>{const a=d.Ab(0),b=d.Ab(1);return()=>a.Rr()+b.Rr()/2},()=>1,()=>30,()=>5,()=>2,()=>37,d=>{const a=d.Ab(0);return()=>.875*a.Zo()},()=>"ToggleButton",()=>"",d=>{const a=d.Ab(0).gf(),b=d.Ab(1);return()=>a(b.$o(),";")-1},d=>{const a=d.Ab(0).gf(),b=d.Ab(1),f=d.Ab(2).gf();return()=>a(b.$o(),f(),";")},d=>{const a=d.Ab(0);return()=>a.Rr()},d=>{const a=d.Ab(0).gf(),b=d.Ab(1),f=d.Ab(2).Rt,c=d.Ab(3).gf(),g=d.Ab(4);return()=>a(b.$o(),(f.ie()+1)%c(g.$o(),";"),";")},()=>"Button",d=>{const a=d.Ab(0);return()=>
Math.floor(.875*a.$o())},d=>{const a=d.Ab(0);return()=>a.$o()}];
