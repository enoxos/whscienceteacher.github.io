// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function a(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+C*I;f[1]=B*E+k*I;f[2]=x*K+C*t;f[3]=B*K+k*t;return f}function b(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function e(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+C*N;f[1]=B*K+E*N;f[2]=x*Q+C*S;f[3]=B*Q+E*S;f[4]=x*W+C*t+I;f[5]=B*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*C+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*C+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*C+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*C+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*C+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*C+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*C+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=x+x,K=B+B,N=C+C;k=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;C*=N;I*=E;K*=E;E*=N;f[0]=1-(S+C);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+C);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],B=k[6],C=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(C,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],B=1/t[1],C=1/t[2],E=k[0]*x;t=k[1]*B;var I=k[2]*C,K=k[4]*x,N=k[5]*B,Q=k[6]*C;x*=k[8];B*=k[9];k=k[10]*C;C=E+N+k;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B),N=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=(E+C)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function L(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],B=k[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],B=k[1];k=k[2];var C=t[0],E=t[1];t=t[2];f[0]=B*t-k*E;f[1]=k*C-x*t;f[2]=x*E-B*C;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],B=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*t+x*x+B*B+k*k;0<C&&(C=1/Math.sqrt(C));f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=k*C;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-C);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+B*K-C*I;f[1]=B*t+k*I+C*E-x*K;f[2]=C*t+k*K+x*I-B*E;f[3]=k*t-x*E-B*I-C*K;return f}function zb(f,k,t){t*=.5;var x=k[0],B=
k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=B*t+C*E;f[2]=C*t-B*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-C*E;f[1]=B*t+k*E;f[2]=C*t+x*E;f[3]=k*t-B*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=C*t+k*E;f[3]=k*t-C*E;return f}function Cb(f,k){var t=k[0],x=k[1],B=k[2],C=Math.sqrt(t*t+x*x+B*B);k=Math.exp(k[3]);var E=
0<C?k*Math.sin(C)/C:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=k*Math.cos(C);return f}function Db(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=Math.sqrt(t*t+x*x+B*B);C=0<C?Math.atan2(C,k)/C:0;f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=.5*Math.log(t*t+x*x+B*B+k*k);return f}function kb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+C*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*C+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var B=(x+1)%3,C=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*B+B]-k[3*C+C]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*B+C]-k[3*C+B])*t;f[B]=(k[3*B+x]+k[3*x+B])*t;f[C]=(k[3*C+x]+k[3*x+C])*t}return f}function Fb(f,k,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var C=k[0],E=k[1],I=k[2];k=k[3];f[0]=C;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+B*I-t*E;f[5]=B*k+t*C-x*I;f[6]=t*k+x*E-B*C;f[7]=-x*C-B*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-C*ia;f[1]=B*t+E*ia+C*ea-x*ca;f[2]=C*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-C*ca;f[4]=x*Q+E*I+B*N-C*K+S*t+k*ea+W*ca-V*ia;f[5]=B*Q+E*K+C*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=C*Q+E*N+x*K-B*I+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-C*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Lha(){return qa},tna:Ma,Kha:"zyx",Bua:function(f){qa=f},Pua:function(f){return f*Mb},Ad:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Rx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Of:function(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B},set:function(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f},uX:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},lt:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*k-B*x;if(!C)return null;C=1/C;f[0]=k*C;f[1]=-x*C;f[2]=-B*C;f[3]=t*C;return f},mW:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},zL:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=B*t+k*E;f[2]=x*-E+C*t;f[3]=B*-E+k*t;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=B*t;f[3]=C*t;return f},xD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},DL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},Im:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},CL:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Dla:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},Jm:b,Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},Ad:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},SL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},TL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},po:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Rx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Of:function(f,
k,t,x,B,C){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=B;E[5]=C;return E},set:function(f,k,t,x,B,C,E){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;return f},lt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4];k=k[5];var I=t*C-x*B;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*k-C*E)*I;f[5]=(x*E-t*k)*I;return f},zL:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+C*K;f[1]=B*t+E*K;f[2]=x*-K+C*t;f[3]=B*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=B*t;f[3]=C*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=x*K+C*t+I;f[5]=B*K+E*t+k;return f},xD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},DL:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},EL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},Im:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},CL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},Jm:c,SL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
TL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},Ad:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(C-Q)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},po:e,sub:c}),Qb=Object.freeze({__proto__:null,create:g,kga:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ta:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Of:function(f,k,t,x,B,C,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=B;N[5]=C;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,B,C,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Rx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},uX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=B}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},lt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*C+I*K,W=N*C-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(k*t-B*K)*V;f[5]=(-I*t+B*C)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*C)*V;return f},mW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=B*N-x*k;f[2]=x*I-B*E;f[3]=I*K-C*k;f[4]=t*k-B*K;f[5]=B*C-t*I;f[6]=C*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*C;return f},zL:function(f){var k=f[3],t=f[4],x=f[5],B=f[6],C=f[7],E=f[8];return f[0]*(E*t-x*C)+f[1]*(-E*k+x*B)+f[2]*(C*k-t*B)},multiply:m,translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*C+t*K+k;return f},rotate:function(f,k,t){var x=k[0],B=
k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*C+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*C;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},EL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},xD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},DL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},rsa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},lga:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-B;f[7]=Q-C;f[2]=N-E;f[5]=Q+C;f[8]=1-t-x;return f},Dta:function(f,
k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-C*Ca)*V;f[4]=(t*W-B*Q+C*Ba)*V;f[5]=(x*Q-t*S-C*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},aX:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Im:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},CL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},Jm:h,SL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},TL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},Ad:function(f,k){var t=f[0],
x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},po:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Of:function(f,k,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=C;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Rx:l,uX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[3],C=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=C;f[11]=k[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},lt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-C*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+C*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-C*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},mW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-C*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+C*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-C*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},zL:function(f){var k=f[0],t=f[1],x=f[2],
B=f[4],C=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*C-t*B,ea=k*E-x*B,ia=t*E-x*C,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(B*la-C*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],B=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*B+k[8]*t+k[12],f[13]=k[1]*x+k[5]*B+k[9]*t+k[13],f[14]=k[2]*x+k[6]*B+k[10]*t+k[14],f[15]=k[3]*x+k[7]*B+k[11]*t+k[15];else{var C=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=C;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=C*x+N*B+V*t+k[12];f[13]=E*x+Q*B+ea*t+k[13];f[14]=I*x+S*B+ia*t+k[14];f[15]=K*x+W*B+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],B=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*B;f[5]=k[5]*B;f[6]=k[6]*B;f[7]=k[7]*B;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var B=x[0],C=x[1];x=x[2];var E=Math.hypot(B,C,x);if(1E-6>E)return null;E=1/E;B*=E;C*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=B*B*N+K;var pa=C*B*N+x*I;var za=x*B*N-C*I;var Aa=B*C*N-x*I;var Ba=C*C*N+K;var Ca=x*C*N+B*I;var Fa=B*x*N+C*I;B=C*x*N-B*I;C=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*C;f[9]=E*Fa+V*B+oa*C;f[10]=Q*Fa+ea*B+la*C;f[11]=S*Fa+ia*B+ra*C;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},bM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[4],C=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=B*t+K*x;f[5]=C*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-C*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},cM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t-K*x;f[1]=C*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=C*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},dM:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t+K*x;f[1]=C*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-C*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},EL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},DL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},xD:function(f,k,t){var x=t[0],B=t[1];t=t[2];var C=Math.hypot(x,B,t);if(1E-6>C)return null;C=1/C;x*=C;B*=C;t*=C;C=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=B*x*E+t*C;f[2]=t*x*E-B*C;f[3]=0;f[4]=x*B*E-t*C;f[5]=B*B*E+k;f[6]=t*B*E+x*C;f[7]=0;f[8]=x*t*E+B*C;f[9]=B*t*E-x*C;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},xsa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},ysa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},zsa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},mga:p,tsa:function(f,k){var t=new qa(3),x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+B*B+C*C+E*E;0<S?(t[0]=2*(I*E+Q*x+K*C-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*C)/S,t[2]=2*(N*E+Q*C+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*C-N*B),t[1]=2*(K*E+Q*B+N*x-I*C),t[2]=2*(N*E+Q*C+I*B-K*x));p(f,k,t);return f},pga:q,Ksa:u,Jsa:w,csa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var B=x[0],C=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(B,C,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;C*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(C-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(C+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(C+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(C-I)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},usa:function(f,k,t,x){var B=k[0],C=k[1],E=k[2],I=k[3],K=B+B,N=C+C,Q=E+E;k=B*K;var S=B*N;B*=Q;var W=C*N;C*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(C+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(C-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},vsa:function(f,k,t,x,B){var C=k[0],E=k[1],I=k[2],K=k[3],N=C+C,Q=E+E,S=I+I;k=C*N;var W=C*Q,V=C*S;C=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(C+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+C))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+k*B);f[15]=1;return f},lga:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-B;f[6]=Q+C;f[7]=0;f[8]=N+E;f[9]=Q-C;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},nga:function(f,k,t,x,B,C,E){var I=1/(t-k),K=1/(B-
x),N=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(B+x)*K;f[10]=(E+C)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*N;f[15]=0;return f},Pta:r,perspective:r,Qta:function(f,k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},Ota:function(f,k,t,x){var B=Math.tan(k.Uua*Math.PI/180),C=Math.tan(k.esa*Math.PI/
180),E=Math.tan(k.pta*Math.PI/180);k=Math.tan(k.lua*Math.PI/180);var I=2/(E+k),K=2/(B+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(B-C)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},Mta:v,Wga:v,Nta:function(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B);E=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=C*E;f[15]=1;return f},Lga:function(f,k,t,x){var B=
k[0],C=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(k-Q))return l(f);t=B-N;x=C-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*C+E*k);f[13]=
-(I*B+W*C+V*k);f[14]=-(t*B+x*C+N*k);f[15]=1;return f},Iua:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=C-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=C;f[14]=k;f[15]=1;return f},Im:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},CL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},Jm:y,SL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},TL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},Ad:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},po:n,sub:y}),rb=function(){var f=A();return function(k,t,x,B,C,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Of:z,ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},Jm:F,multiply:H,Dm:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},eM:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Ox:L,nX:P,JD:R,VW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,mo:Z,yL:X,Zd:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-
C);f[2]=k+x*(t[2]-k);return f},nha:function(f,k,t,x){var B=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),C=Math.sin(B),E=Math.sin((1-x)*B)/C;x=Math.sin(x*B)/C;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},Psa:function(f,k,t,x,B,C){var E=C*C,I=E*(2*C-3)+1,K=E*(C-2)+C,N=E*(C-1);C=E*(3-2*C);f[0]=k[0]*I+t[0]*K+x[0]*N+B[0]*C;f[1]=k[1]*I+t[1]*K+x[1]*N+B[1]*C;f[2]=k[2]*I+t[2]*K+x[2]*N+B[2]*C;return f},Kra:function(f,k,t,x,B,C){var E=1-C,I=E*E,K=C*C,N=I*E;I*=3*C;E*=3*K;C*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+B[0]*C;f[1]=k[1]*N+t[1]*I+x[1]*E+B[1]*C;f[2]=k[2]*N+t[2]*I+x[2]*E+B[2]*C;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*k;return f},mM:function(f,k,t){var x=k[0],B=k[1];k=k[2];var C=t[3]*x+t[7]*B+t[11]*k+t[15];C=C||1;f[0]=(t[0]*x+t[4]*B+t[8]*k+t[12])/C;f[1]=(t[1]*x+t[5]*B+t[9]*k+t[13])/C;f[2]=(t[2]*x+t[6]*B+t[10]*k+t[14])/C;return f},zha:function(f,k,t){var x=k[0],B=k[1];k=k[2];f[0]=x*t[0]+B*t[3]+
k*t[6];f[1]=x*t[1]+B*t[4]+k*t[7];f[2]=x*t[2]+B*t[5]+k*t[8];return f},Aha:function(f,k,t){var x=t[0],B=t[1],C=t[2],E=k[0],I=k[1];k=k[2];var K=B*k-C*I,N=C*E-x*k,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-C*N);f[1]=I+N*t+2*(C*K-x*Q);f[2]=k+Q*t+2*(x*N-B*K);return f},bM:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);C[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},cM:function(f,k,t,x){var B=
[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);C[1]=B[1];C[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},dM:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);C[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);C[2]=B[2];f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],B=f[2],C=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(C*C+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},FX:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Im:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},Ad:function(f,k){var t=f[0],x=f[1];f=f[2];var B=k[0],C=k[1];k=k[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
po:H,AW:J,yW:L,mX:P,Wx:G,ID:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,B,C,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Of:va,ta,set:ya,add:Na,Jm:Sa,multiply:Ta,Dm:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,eM:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Ox:eb,nX:fb,length:Pa,JD:Va,VW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,mo:Ya,yL:function(f,k,t,x){var B=t[0]*x[1]-t[1]*x[0],C=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*I;f[1]=-(x*t)+
Q*E-k*C;f[2]=x*K-N*E+k*B;f[3]=-(x*I)+N*C-Q*B;return f},Zd:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var C=2*Ma()-1;var E=2*Ma()-1;var I=C*C+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=k*t;f[1]=k*x;f[2]=k*C*B;f[3]=k*E*B;return f},mM:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];f[0]=t[0]*x+t[4]*B+t[8]*C+t[12]*k;f[1]=t[1]*x+t[5]*B+t[9]*C+t[13]*k;f[2]=t[2]*x+t[6]*B+t[10]*C+t[14]*k;f[3]=t[3]*x+t[7]*B+t[11]*C+t[15]*k;return f},Aha:function(f,k,t){var x=
k[0],B=k[1],C=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*C-K*B,Q=t*B+K*x-E*C,S=t*C+E*B-I*x;x=-E*x-I*B-K*C;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=k[3];return f},FX:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Im:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Kj:wb,Ad:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,po:Ta,AW:Ua,yW:eb,mX:fb,Wx:Pa,ID:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,B,C){var E=Z(B,C);if(-.999999>E)return X(f,k,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,B,C,E,I){kb(f,x,E,I);kb(k,B,C,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(k,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Rx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},zua:xb,Gsa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Esa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,bM:zb,cM:Ab,dM:Bb,Mra:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,Kga:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},nha:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},lt:function(f,k){var t=k[0],x=k[1],B=k[2];
k=k[3];var C=t*t+x*x+B*B+k*k;C=C?1/C:0;f[0]=-t*C;f[1]=-x*C;f[2]=-B*C;f[3]=k*C;return f},Wfa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},ssa:Eb,qsa:function(f,k,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",C=Math.PI/360;k*=C;x*=C;t*=C;C=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "xzy":f[0]=C*K*Q-E*I*N;f[1]=E*
I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yxz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yzx":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zxy":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zyx":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;default:throw Error("Unknown angle order "+B);}return f},Im:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Of:va,ta,set:ya,add:Na,po:yb,scale:Wa,mo:Ya,Zd:vb,length:Pa,Wx:Pa,JD:Va,ID:Va,normalize:ib,Kj:wb,Ad:function(f,k){return.999999<=Math.abs(Ya(f,k))},pua:tb,Fua:ub,yua:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Of:function(f,k,t,x,B,C,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=B;K[5]=C;K[6]=E;K[7]=I;return K},wsa:function(f,k,t,x,B,C,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;B*=.5;C*=.5;E*=.5;I[4]=B*x+C*t-E*k;I[5]=C*x+E*f-B*t;I[6]=E*x+B*k-C*f;I[7]=-B*f-C*k-E*t;return I},mga:Fb,EL:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},xD:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},kga:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},ta:Gb,Rx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,B,C,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;return f},Isa:ta,Hsa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Cua:ta,Aua:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},pga:function(f,k){var t=k[4],x=k[5],B=k[6],C=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+C*E+x*K-B*I);f[1]=2*(x*k+C*I+B*E-t*K);f[2]=2*(B*k+
C*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=E*I+B*t-C*K+N;f[5]=E*K+C*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-C*t+k;return f},bM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;zb(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+
I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},cM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Ab(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},dM:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Bb(f,k,t);x=f[0];B=
f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},nua:function(f,k,t){var x=t[0],B=t[1],C=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*C-K*B;f[1]=I*t+N*B+K*x-E*C;f[2]=K*t+N*C+E*B-I*x;f[3]=N*t-E*x-I*B-K*C;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*C-K*B;f[5]=I*t+N*B+K*x-E*C;f[6]=K*t+N*C+E*B-I*x;f[7]=N*t-E*x-I*B-K*C;return f},oua:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+B*
K-C*I;f[1]=B*N+k*I+C*E-x*K;f[2]=C*N+k*K+x*I-B*E;f[3]=k*N-x*E-B*I-C*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+B*K-C*I;f[5]=B*N+k*I+C*E-x*K;f[6]=C*N+k*K+x*I-B*E;f[7]=k*N-x*E-B*I-C*K;return f},mua:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var C=Math.sin(x),E=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;x=Math.cos(x);B=k[0];C=k[1];var K=k[2],N=k[3];f[0]=B*x+N*E+C*t-K*I;f[1]=C*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-C*E;f[3]=N*x-B*E-C*I-K*t;B=k[4];C=k[5];K=k[6];k=k[7];f[4]=
B*x+k*E+C*t-K*I;f[5]=C*x+k*I+K*E-B*t;f[6]=K*x+k*t+B*I-C*E;f[7]=k*x-B*E-C*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,po:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},mo:Ya,Zd:function(f,k,t,x){var B=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*B+t[0]*x;f[1]=k[1]*B+t[1]*x;f[2]=k[2]*B+t[2]*x;f[3]=
k[3]*B+t[3]*x;f[4]=k[4]*B+t[4]*x;f[5]=k[5]*B+t[5]*x;f[6]=k[6]*B+t[6]*x;f[7]=k[7]*B+t[7]*x;return f},lt:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Wfa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Wx:Pa,JD:Va,ID:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,B=k[1]/t,C=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+B*K+C*N+E*k;f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-C*Q)/t;f[7]=(k-E*Q)/t}return f},Im:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},Ad:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,B,C,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],C(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Of:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},ta:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},Jm:mb,multiply:nb,Dm:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},eM:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Ox:ob,nX:Qa,length:pb,
JD:qb,VW:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},mo:function(f,k){return f[0]*k[0]+f[1]*k[1]},yL:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},Zd:function(f,k,t,x){var B=k[0];k=k[1];f[0]=B+x*(t[0]-B);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Rua:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Sua:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},zha:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},mM:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var B=k[0]-t[0];k=k[1]-t[1];var C=Math.sin(x);x=Math.cos(x);f[0]=B*x-k*C+t[0];f[1]=B*C+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var B=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(B&&(t*x+f*k)/B,-1),1))},FX:function(f){f[0]=0;f[1]=0;return f},Im:function(f){return"vec2("+f[0]+", "+f[1]+")"},Kj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},Ad:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Wx:pb,sub:mb,po:nb,AW:Za,
yW:ob,mX:Qa,ID:qb,forEach:gb});d.Lj=Nb;d.tta=Ob;d.uta=Pb;d.vta=Qb;d.Fm=Rb;d.Xta=tb;d.Yta=ub;d.$ua=gb;d.MD=rb;d.hy=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Cra?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Lj={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,L=H;if(e(m(A,J+1),m(A,J),m(A,L))&&c(m(A,J-1),m(A,J),
m(A,L)))y=!1;else{y=g(m(A,J),m(A,L));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&e(m(A,J),m(A,L),m(A,P+1))&&c(m(A,J),m(A,L),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,L);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],L=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){L=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,L)&&(ya=g(r[Y],L),ya<P&&(P=ya,J=L,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(L=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),L)&&(ya=g(r[Y],L),ya<va&&(va=ya,H=L,R=ta)))}if(T===(R+1)%r.length)L[0]=(J[0]+H[0])/2,L[1]=(J[1]+H[1])/2,A.push(L),Y<R?(h(X,r,Y,R+1),X.push(L),ba.push(L),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(L),ba.push(L),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=g(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;L=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==L&&(va+1)%T.length!==J&&(va+1)%T.length!==L&&d(m(T,J),m(T,L),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Tta={bsa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Zta:w,Xsa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},dua:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},eua:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},sta:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Tx=!1;d.NL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.mf={}}
{"use strict";const d=self.D;d.eP=class{constructor(a){this.ofa=a;this.Na=new Map;this.vba()}vba(){var a=this.ofa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.wba(b)}wba(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Na.set(e,a)}else this.Na.set(a,null)}qz(a){return this.Na.has(a)}$(a){a=this.Na.get(a);return"undefined"===typeof a?null:a}};d.HF=new d.eP(location.search);
d.Rla=new d.eP(location.hash);d.HF.$("mode")}
{"use strict";const d=self.D,a=navigator.userAgent;let b={Jga:/linux|openbsd|freebsd|netbsd/i.test(a),Tfa:/CrOS/.test(a),ND:/trident|iemobile|msie|tizen/i.test(a),Dsa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),rW:/bb10/i.test(a),iga:/edge\//i.test(a),wX:/trident/i.test(a),webkit:/webkit/i.test(a),gha:/safari\//i.test(a),Sfa:/chrome\//i.test(a),Ufa:/chromium\//i.test(a),Xfa:/crosswalk|xwalk/i.test(a),Fta:/nwjs/i.test(a),Hfa:/amazonwebappplatform/i.test(a),Fha:/wv\)/.test(a),Ifa:/android/i.test(a),
Tga:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.Jga,()=>{e="Linux"});u("isChromeOS",b.Tfa,()=>{e="Chrome OS"});u("isAndroid",!b.ND&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.ND&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.ND&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.rW,()=>{e="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.iga&&!b.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==g&&b.wX,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.gha&&!b.Tga&&!b.Sfa&&!b.Ufa&&!b.Csa&&!b.rW,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.Xfa,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.Hfa,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&b.Fha,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.ND&&b.Ifa,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.wX,()=>h="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);d.Pb={Jh:e,oma:c,qd:g,Aia:m,ZD:parseFloat(m),ry:h,fE:l,Oka:n,Az:!n,Pka:p,Jka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Fka:"Mac OS X"===e||"iOS"===e,Vka:w,Yka:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function m(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),h(w,r,v,!1);throw G;}}function l(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.W2=u}"use strict";
{const d=self.W2,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.M=l;b.set(this,new Map)}gv(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async iU(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async DV(l,n){n=await m(n);b.get(this).set(l,n)}AV(l){b.get(this).delete(l)}IT(){b.get(this).clear()}PU(){return Array.from(b.get(this).keys())}async getItem(l,n){g(n);if(e)return await this.iU(l);let p;try{p=await this.M.get(l)}catch(q){this.gv(q);if(e)return await this.iU(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(e)await this.DV(l,n);else try{await this.M.set(l,n)}catch(q){if(this.gv(q),e)await this.DV(l,n);else throw q;}}async removeItem(l,n){g(n);if(e)this.AV(l);else try{await this.M.delete(l)}catch(p){this.gv(p),e?this.AV(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(e)this.IT();else try{await this.M.clear()}catch(n){this.gv(n),e?this.IT():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(e)return this.PU();l=[];try{l=await this.M.keys()}catch(n){this.gv(n);
if(e)return this.PU();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return e?Promise.resolve(!0):this.M.ready()}xL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.D;d.mc={};d.mc.lra=(()=>{try{if("Safari"===d.Pb.qd||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.mc.xja="undefined"!==typeof HTMLDialogElement;d.mc.Hna=!!self.requestIdleCallback;d.mc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Pb.qd;d.mc.ImageBitmapOptions=!1;if(d.mc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{d.mc.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{d.mc.ImageBitmapOptions=!1})}catch(a){d.mc.ImageBitmapOptions=!1}d.mc.Oia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Pb.qd);d.mc.Nma=!(!navigator.permissions||!navigator.permissions.query);d.mc.dP="undefined"!==typeof Proxy;d.mc.Cja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.mc.uy="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.mc.Mja="function"===typeof fetch;d.mc.Pma=!!(self.isSecureContext&&"Opera"!==d.Pb.qd&&navigator.storage&&navigator.storage.persist);d.mc.sqa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Pb.Jh)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.mc.Vja=fc;d.mc.tka=
"undefined"!==typeof self.ImageDecoder;d.mc.jma=!!self.showOpenFilePicker;d.mc.kma=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Ht(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.me||(Array.prototype.me=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.me||(String.prototype.me=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.Py())}}
{"use strict";const d=self.D,a=self.mf;d.Ym=function(e){return"number"===typeof e};d.Um=function(e){return d.Ym(e)&&isFinite(e)};d.ag=function(e){if(!d.Ym(e))throw new TypeError("expected number");};d.nP=function(){};d.doa=function(e,c,g){if(!d.Ym(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};d.Qna=function(...e){for(let c of e);};d.qe=function(e){if(!d.Um(e))throw new TypeError("expected finite number");};d.kP=function(){};d.Nna=function(...e){for(let c of e);};d.Si=function(e){return"string"===
typeof e};d.Qd=function(e){if(!d.Si(e))throw new TypeError("expected string");};d.pP=function(){};d.Sna=function(...e){for(let c of e);};d.rO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.qoa=function(e){if(!d.rO(e))throw new TypeError("expected simple object");};d.noa=function(e){if(!d.pe(e)&&!d.rO(e))throw new TypeError("expected simple object");};d.qO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.iP=function(e){if(!d.qO(e))throw new TypeError("expected object");
};d.oP=function(){};d.Rna=function(...e){for(let c of e);};d.kF=function(e){return d.Vm(e,Blob)&&"string"===typeof e.name};d.boa=function(e){if(!d.kF(e))throw new TypeError("expected file");};d.loa=function(){};d.No=function(e){return Array.isArray(e)};d.NF=function(e){if(!d.No(e))throw new TypeError("expected array");};d.jP=function(){};d.Mna=function(...e){for(let c of e);};d.w2=function(e){return d.No(e)?e.length?d.No(e[0])?!0:!1:!0:!1};d.Lna=function(e){if(!d.w2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.No(c))throw new TypeError("expected 2d array");};d.eoa=function(){};d.lF=function(e){return"function"===typeof e};d.mk=function(e,c){if(!d.lF(e))throw new TypeError("expected function");if(!d.pe(c)&&e!==c)throw new TypeError("expected same function reference");};d.lP=function(){};d.Ona=function(...e){for(let c of e);};d.Una=function(e,...c){if(!d.lF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.pe(g)&&
e===g)return;throw new TypeError("expected same function reference");};d.foa=function(...e){if(!d.pe(e))for(let c of e);};d.Vm=function(e,c){return e instanceof c};d.nO=function(e,...c){for(let g of c)if(d.Vm(e,g))return!0;return!1};d.OF=function(e,c){if(!d.Vm(e,c))throw new TypeError("unexpected type");};d.mP=function(){};d.Pna=function(e,...c){for(let g of c);};d.Vna=function(e,...c){if(!d.nO(e,...c))throw new TypeError("unexpected type");};d.Wna=function(e,...c){if(!d.pe(e)&&!d.nO(e,...c))throw new TypeError("unexpected type");
};d.Gka=function(e,c){for(let g of e)if(!d.Vm(g,c))return!1;return!0};d.Hka=function(e){for(let c of e)if(!d.Um(c))return!1;return!0};d.Xna=function(e){for(let c of e);};d.goa=function(e){if(!d.pe(e))for(let c of e);};d.Yna=function(e){for(let c of e);};d.hoa=function(e){if(!d.pe(e))for(let c of e);};d.Lka=function(e,c){return d.pe(e)||!d.Si(e.nodeName)?!1:!c||d.no(e.nodeName,c)};d.Zna=function(e,c){if(d.pe(e)||!d.Si(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.no(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.ioa=function(){};d.nF=function(e,c){return d.pe(e)||!d.Si(e.tagName)?!1:!c||d.no(e.tagName,c)};d.coa=function(e,c){if(d.pe(e)||!d.Si(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.no(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.moa=function(){};d.hO=function(e){return d.nF(e,"img")||d.nF(e,"canvas")||d.nF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.$na=function(e){if(!d.hO(e))throw new TypeError("expected drawable");
};d.joa=function(){};d.iO=function(e){return e instanceof ImageData?!0:d.hO(e)};d.aoa=function(e){if(!d.iO(e))throw new TypeError("expected drawable or image data");};d.koa=function(e){if(!d.pe(e)&&!d.iO(e))throw new TypeError("expected drawable or image data");};d.Q2=function(e){return"string"===typeof e||e instanceof d.ZE||e instanceof d.Lm};d.roa=function(e){if(!d.Q2(e))throw new TypeError("expected string-like");};d.ooa=function(){};d.Tna=function(...e){for(let c of e);};d.poa=function(){throw Error("must be overridden");
};d.nma=function(){throw Error("not yet implemented");};d.Nka=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};d.pe=function(e){return"undefined"===typeof e||null===e};d.oia=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};d.pia=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.wla=function(e){return d.Vm(e,b)};d.soa=function(){};
d.kra=function(e){d.C7(e,b)};d.jra=function(e,...c){if(!d.B7(e,...c))throw new TypeError("unexpected type");};d.B7=function(e,...c){for(const g of c)if(d.BQ(e,g))return!0;return!1};d.C7=function(e,c){if(!d.BQ(e,c))throw new TypeError("unexpected type");};d.BQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.ag=d.ag;a.nP=d.nP;a.qe=d.qe;a.kP=d.kP;a.Qd=d.Qd;a.pP=d.pP;a.iP=d.iP;a.oP=d.oP;a.NF=d.NF;a.jP=d.jP;a.mk=d.mk;a.lP=d.lP;a.OF=d.OF;a.mP=d.mP;a.pe=
d.pe}
{"use strict";const d=self.D,a=new Map;d.una=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;d.nqa=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,qW:0,rL:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.qW.toPrecision(3)} :: calls => ${this.rL}`}})};d.Eja=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.qW=u.total/u.rL;u.rL++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.Py=function(){return Error().stack};d.tja=function(){debugger};d.Sra=function(u,w){return u&&u instanceof w?u:null};d.el=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Ym(u)?"<number>":d.Si(u)?"<string>":d.No(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.lF(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.zD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,g=new WeakMap,m=new WeakMap;d.Mq={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",d.Py())}d.Mq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||l(`Accessed missing property '${w}' from defended object '${d.el(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&l(`Accessed property '${w}' on a released object '${d.el(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.Mq.set=function(u,w,r){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${d.el(u)}'`);{var v=d.zD(u[w]);
let y=d.zD(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${d.zD(u[w])}' property '${w}' to type '${d.zD(r)}' on defended object '${d.el(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${d.el(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.Mq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.el(u)}'`);};d.Mq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.el(u)}'`);};d.Mq.gsa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.el(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.el(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ja=class{constructor(){if(d.NL&&d.mc.dP){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.Mq);e.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.Zfa=function(u){if(d.NL&&d.mc.dP&&u instanceof d.ja){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.Tx?Object.seal(u):u};d.B=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.NL){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.jo(v,[...y]);v.length&&console.warn(`[Defence] '${d.el(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.Zfa(r)};d.m=function(u){(u=g.get(u))&&m.set(u,d.Py())};d.dA=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let q=new Map;d.Mma=class{constructor(u){this.Ka="";u&&this.start(u)}start(u){this.Ka=u;performance.mark(this.Ka+"-Start")}end(){performance.mark(this.Ka+"-End");performance.measure(this.Ka,
this.Ka+"-Start",this.Ka+"-End")}next(u){this.end();this.Ka=u;performance.mark(this.Ka+"-Start")}}}
{"use strict";const d=self.D,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};d.Nga=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};d.normalize=function(g,m,h){return(g-m)/(h-m)};d.ia=function(g,m,h){return g<m?m:g>h?h:g};d.zd=function(g){g%=a;0>g&&(g+=a);return g};d.kb=function(g){return g*b};d.jf=function(g){return g*e};d.Ag=function(g,m,h,l){return Math.hypot(h-g,l-m)};d.zW=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};d.Hj=function(g,m,h,l){return Math.atan2(l-m,h-g)};d.Dq=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.pL=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>h?0<n*p-l*q?d.zd(g+h):d.zd(g-h):d.zd(m)};d.hf=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};d.oL=function(g,m,h,l=0){let n=d.Dq(g,m);l*=a;return d.hf(m,
g)?d.zd(g+(n+l)*h):d.zd(g-(n+l)*h)};d.Kfa=function(g,m,h,l=0){const n=d.Dq(g,m);l*=a;return d.hf(m,g)?d.zd(g+(n+l)*h):d.zd((a-n+l)*h)};d.Jfa=function(g,m,h,l=0){const n=d.Dq(g,m);l*=a;return d.hf(m,g)?d.zd((-a+n-l)*h):d.zd(g-(n+l)*h)};d.Zd=function(g,m,h){return g+h*(m-g)};d.At=function(g,m,h){return g===m?0:(h-g)/(m-g)};d.cha=function(g,m,h,l){return d.Zd(0,l,d.At(g,m,h))};d.FD=function(g,m,h,l){return d.Zd(d.Zd(g,m,l),d.Zd(m,h,l),l)};d.xW=function(g,m,h,l,n){return d.Zd(d.FD(g,m,h,n),d.FD(m,h,l,
n),n)};d.wW=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};d.fl=function(g){return 0<g&&0===(g-1&g)};d.WW=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};d.qua=function(g,m){return Math.round(g*m)/m};d.msa=function(g,m){return Math.floor(g*m)/m};d.ey=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};d.z4=function(g,m,h){return d.ia(g,0,255)|d.ia(m,
0,255)<<8|d.ia(h,0,255)<<16};d.Hz=function(g,m,h,l){g=d.ia(Math.floor(1024*g),-8192,8191);m=d.ia(Math.floor(1024*m),-8192,8191);h=d.ia(Math.floor(1024*h),-8192,8191);l=d.ia(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};d.ZO=function(g,m,h){return d.Hz(g,m,h,1)};d.NE=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.GE=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.tE=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.P_=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.sga=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Fsa=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=d.sga(g,m);return[g/h,m/h]};d.xua=function(g,m,h,l,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-m+u-l;g=h-g;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-m*w)<=u};d.Gm=function(g,m,h,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-m+y-l;g=h-g;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-m*q)<=y};d.GD=function(g,m,h,l,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l),r=n.Eb,v=n.Fb,y=n.wc,A=n.xc,G=n.qc,z=n.rc,F=n.oc;n=n.pc;return d.Gm(g,m,h,l,p,q,u,w,r,v,y,A)||d.Gm(g,m,h,l,p,q,u,w,y,A,G,z)||d.Gm(g,m,h,l,p,q,u,w,G,z,F,n)||d.Gm(g,m,h,l,p,q,u,w,F,n,r,v)};d.wua=function(g,m,h,l,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.Gm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.Gm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.bha=function(g,m,h,l,n,p,q,u){h-=g;p=u-p;const w=h*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-g)+h*(u-m))/w;return 0<l&&1.000001>l?(p*(q-g)+(n-q)*(u-m))/w:2};d.by=function(g,m,h,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.bha(g,m,h,l,n-r,p-w,q+r,u+w)};d.Cga=function(g,m,h,l,n,p,q,u){n-=
h;p-=l;q-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};d.Dha=function(g,m,h,l,n,p,q,u){n-=h;p-=l;q-=h;u-=l;g-=h;const w=m-l;m=n*n+p*p;l=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=m*h-l*l;u=(h*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};d.Cha=function(g,m,h,l,n,p,q,u,w){return[g*l+m*p+h*u,g*n+m*q+h*w]}}
{"use strict";const d=self.D;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Xja=function(){return b};d.uE=function(){if(!a)return"";const l=a.location;return d.R0(l.origin+l.pathname)+b};d.R0=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.$ja=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.n0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Vy=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.A3=function(l){return l.replace(/\\/g,"/")};d.Rka=function(l,n){return n===(l?d.n0(l).slice(1):"")};d.Nja=function(l,n){let p,q;d.kF(l)&&(p=d.Vy(l.name));d.Si(l)&&(p=
d.Vy(l));d.kF(n)&&(q=d.Vy(n.name));d.Si(n)&&(q=d.Vy(n));return p===q};d.Kma=function(l){l=d.A3(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,Ira:u,name:l,root:n,ext:w,Asa:n+q+u}};d.wG=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.Hua=function(l){try{l()}catch(n){d.Tx&&console.warn("Swallowed exception: ",n)}};d.Cta=function(){};d.no=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.hsa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Eha=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.kf=function(l,n){l.length=n};d.F=function(l){l&&0!==l.length&&d.kf(l,0)};d.Vfa=function(l){if(l){for(let n=0;n<l.length;n++)d.kf(l[n],0);d.kf(l,0)}};d.vD=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.fX=function(l){var n=4;const p=l.length;n<p?d.kf(l,n):n>p&&d.vD(l,n,"0")};d.Xc=function(l,n){d.F(l);d.jo(l,n)};d.jo=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.Nfa=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.kf(l,p)}};d.dl=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.Hra=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.Mfa=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}d.kf(l,q);return p};d.zg=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}d.kf(l,q);return p-q};d.zga=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Zua=function(l,n){if(!d.zga(l,n))throw new RangeError("array index out of bounds");};d.wL=function(l){return l.slice()};d.$fa=function(l,n){let p=[];for(let q of l)if(d.qO(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.No(q)?p.push(d.$fa(q,n)):p.push(q);return p};d.Tra=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.wta=function(l,n){return new Set([...l,...n])};d.xta=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.Osa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.P4=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];d.bia=function(l){e.push(l)};d.Zja=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};d.MF=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};d.zY=function(l){g.delete(l)};d.J4=d.MF;d.z7=function(){return new Promise(l=>d.J4(l))};const h=new Set;d.Jna=function(l){const n=self.requestAnimationFrame(async p=>{await d.z7();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};d.Fia=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.D;d.gF=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.tF=function(a){return!d.gF(a)};d.f7=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Ny=function(a){return fetch(a,void 0).then(b=>{d.f7(b);return b})};d.Jt=function(a){return d.Ny(a).then(b=>b.text())};d.iN=function(a){return d.Ny(a).then(b=>b.json())};d.jl=function(a){return d.Ny(a).then(b=>b.blob())};d.It=function(a){return d.Ny(a).then(b=>
b.arrayBuffer())};d.G_=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>e(g);c.src=a})};d.pY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.wM=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.xia=function(a){return d.wM(a).then(b=>
JSON.parse(b))};d.qY=async function(a){a=URL.createObjectURL(a);try{const b=await d.G_(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.zh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.uy=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ia(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.gl(()=>d.EM(a,b,e))};d.EM=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ia(e,0,1);return d.gZ(a.toDataURL(b,e))};d.gZ=function(a){a=d.A4(a);return d.nY(a.data,a.Oga)};d.A4=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{Oga:a,data:e}};d.nY=function(a,b){var e=a.length;let c=e>>2,g=new Uint8Array(e),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};d.aN=function(a,b,e){const c=d.zh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return d.uy(c,b,e)};d.ska=function(a,
b,e){const c=d.zh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.EM(c,b,e)};d.rka=function(a,b,e){if(d.mc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>d.aN(c,b,e));if(d.mc.ImageBitmap)return createImageBitmap(a).then(c=>d.aN(c,b,e));{const c=d.zh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.uy(c,b,e)}};d.WY=function(a,b){a.clear();for(const e of b)a.add(e)};d.Wla=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=
c;return b};d.pma=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.tG=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(b))c[g]=e(m);return c}}return b};d.qE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>c(g)));if("map"===
e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(e))g[m]=c(h);return g}}return e};d.tY=function(e){let c="",g=!1;for(const m of e)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};d.Xm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.p3=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const d=self.D;d.eb=class{constructor(a,b,e,c){this.Za=this.$a=this.Ja=this.Ya=0;a instanceof d.eb?this.set(a):this.ro(a||0,b||0,e||0,c||0)}ut(a,b,e){this.Ya=+a;this.Ja=+b;this.$a=+e;this.ia()}ro(a,b,e,c){this.Ya=+a;this.Ja=+b;this.$a=+e;this.Za=+c;this.ia()}set(a){this.Ya=a.Ya;this.Ja=a.Ja;this.$a=a.$a;this.Za=a.Za;return this}ta(a){return this.set(a)}add(a){this.Ya+=a.Ya;this.Ja+=a.Ja;this.$a+=a.$a;this.Za+=a.Za;this.ia()}lW(a,b,e){this.Ya+=+a;this.Ja+=+b;this.$a+=+e;this.Za+=0;this.ia()}Ij(a){this.Ya=
a.Ya;this.Ja=a.Ja;this.$a=a.$a}jX(a){this.Ya=d.ia(+a,0,1)}lha(a){this.Ja=d.ia(+a,0,1)}iha(a){this.$a=d.ia(+a,0,1)}qt(a){this.Za=d.ia(+a,0,1)}clone(){return d.B(d.eb,this.Ya,this.Ja,this.$a,this.Za)}toArray(){return[this.Ya,this.Ja,this.$a,this.Za]}xh(a,b){a[b++]=this.Ya;a[b++]=this.Ja;a[b++]=this.$a;a[b]=this.Za}Ad(a){return this.Ya===a.Ya&&this.Ja===a.Ja&&this.$a===a.$a&&this.Za===a.Za}Em(a){return this.Ya===a.Ya&&this.Ja===a.Ja&&this.$a===a.$a}uD(a,b,e,c){return this.Ya===a&&this.Ja===b&&this.$a===
e&&this.Za===c}multiply(a){this.Ya*=a.Ya;this.Ja*=a.Ja;this.$a*=a.$a;this.Za*=a.Za}$L(){this.Ya*=this.Za;this.Ja*=this.Za;this.$a*=this.Za}ia(){this.Ya=d.ia(this.Ya,0,1);this.Ja=d.ia(this.Ja,0,1);this.$a=d.ia(this.$a,0,1);this.Za=d.ia(this.Za,0,1);return this}tt(a){this.Ya=d.NE(a);this.Ja=d.GE(a);this.$a=d.tE(a);this.Za=d.P_(a)}oga(){return`rgb(${100*(d.Um(void 0)?NaN:this.Ya)}%, ${100*(d.Um(void 0)?NaN:this.Ja)}%, ${100*(d.Um(void 0)?NaN:this.$a)}%)`}YW(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.jX(a);isFinite(e)&&this.lha(e);isFinite(b)&&this.iha(b);this.qt(1)}}}toJSON(){return[this.Ya,this.Ja,this.$a,this.Za]}Hm(a){!Array.isArray(a)||3>a.length||(this.Ya=a[0],this.Ja=a[1],this.$a=a[2],this.Za=4<=a.length?a[3]:1)}set r(a){this.jX(a)}get r(){return this.Ya}set Cq(a){this.qt(a)}get Cq(){return this.Za}static kE(a,b){return d.ia(Math.max(a,
b)-Math.min(a,b),0,1)}};d.eb.pra=Object.freeze(d.B(d.eb,1,1,1,1));d.eb.wia=Object.freeze(d.B(d.eb,0,0,0,1));d.eb.Oqa=Object.freeze(d.B(d.eb,0,0,0,0))}
{"use strict";const d=self.D;d.Pu=class{constructor(a,b){this.P=this.R=0;a instanceof d.Pu?this.ta(a):this.set(a||0,b||0)}set(a,b){this.R=+a;this.P=+b}ta(a){this.R=a.R;this.P=a.P}Ad(a){return this.R===a.R&&this.P===a.P}toArray(){return[this.R,this.P]}xh(a,b){a[b++]=this.R;a[b]=this.P}offset(a,b){this.R+=+a;this.P+=+b}scale(a,b){this.R*=a;this.P*=b}Dm(a,b){this.R/=a;this.P/=b}round(){this.R=Math.round(this.R);this.P=Math.round(this.P)}floor(){this.R=Math.floor(this.R);this.P=Math.floor(this.P)}ceil(){this.R=
Math.ceil(this.R);this.P=Math.ceil(this.P)}angle(){return d.Hj(0,0,this.R,this.P)}Iga(){return this.R*this.R+this.P*this.P}length(){return Math.sqrt(this.Iga())}fha(a,b){const e=this.R*b-this.P*a;this.P=this.P*b+this.R*a;this.R=e}rotate(a){0!==a&&this.fha(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.R+=Math.cos(a)*b,this.P+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.R/=a,this.P/=a)}ia(a,b){this.R=d.ia(this.R,a,b);this.P=d.ia(this.P,a,b)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(a,b,e,c){this.ga=this.la=this.V=this.Z=0;a instanceof d.Rect?this.ta(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.Z=+a;this.V=+b;this.la=+e;this.ga=+c}Di(a,b,e,c){a=+a;b=+b;this.Z=a;this.V=b;this.la=a+ +e;this.ga=b+ +c}ta(a){this.Z=+a.Z;this.V=+a.V;this.la=+a.la;this.ga=+a.ga}clone(){return new d.Rect(this.Z,this.V,this.la,this.ga)}Ad(a){return this.Z===a.Z&&this.V===a.V&&this.la===a.la&&this.ga===a.ga}toArray(){return[this.Z,this.V,this.la,
this.ga]}vha(){new DOMRect(this.Z,this.V,this.width(),this.height())}xh(a,b){a[b++]=this.Z;a[b++]=this.V;a[b++]=this.la;a[b]=this.ga}Gha(a,b){a[b++]=this.Z;a[b++]=this.V;a[b++]=this.la;a[b++]=this.V;a[b++]=this.la;a[b++]=this.ga;a[b++]=this.Z;a[b]=this.ga}width(){return this.la-this.Z}height(){return this.ga-this.V}ot(){return(this.Z+this.la)/2}pt(){return(this.V+this.ga)/2}offset(a,b){a=+a;b=+b;this.Z+=a;this.V+=b;this.la+=a;this.ga+=b}offsetLeft(a){this.Z+=+a}offsetTop(a){this.V+=+a}Vga(a){this.la+=
+a}Uga(a){this.ga+=+a}HL(a,b){a=+a;b=+b;this.Z-=a;this.V-=b;this.la+=a;this.ga+=b}multiply(a,b){this.Z*=a;this.V*=b;this.la*=a;this.ga*=b}Dm(a,b){this.Z/=a;this.V/=b;this.la/=a;this.ga/=b}oo(){this.V=1-this.V;this.ga=1-this.ga}sha(){const a=this.Z;this.Z=this.la;this.la=a}tha(){const a=this.V;this.V=this.ga;this.ga=a}round(){this.Z=Math.round(this.Z);this.V=Math.round(this.V);this.la=Math.round(this.la);this.ga=Math.round(this.ga)}floor(){this.Z=Math.floor(this.Z);this.V=Math.floor(this.V);this.la=
Math.floor(this.la);this.ga=Math.floor(this.ga)}ceil(){this.Z=Math.ceil(this.Z);this.V=Math.ceil(this.V);this.la=Math.ceil(this.la);this.ga=Math.ceil(this.ga)}ia(a,b,e,c){this.Z<a&&(this.Z=+a);this.V<b&&(this.V=+b);this.la>e&&(this.la=+e);this.ga>c&&(this.ga=+c)}normalize(){this.Z>this.la&&this.sha();this.V>this.ga&&this.tha()}AD(a){return!(a.la<this.Z||a.ga<this.V||a.Z>this.la||a.V>this.ga)}yga(a,b,e){return!(a.la+b<this.Z||a.ga+e<this.V||a.Z+b>this.la||a.V+e>this.ga)}Mf(a,b){return a>=this.Z&&a<=
this.la&&b>=this.V&&b<=this.ga}}}
{"use strict";const d=self.D;d.Kd=class{constructor(a,b,e,c,g,m,h,l){this.pc=this.oc=this.rc=this.qc=this.xc=this.wc=this.Fb=this.Eb=0;a instanceof d.Kd?this.ta(a):this.set(a||0,b||0,e||0,c||0,g||0,m||0,h||0,l||0)}set(a,b,e,c,g,m,h,l){this.Eb=+a;this.Fb=+b;this.wc=+e;this.xc=+c;this.qc=+g;this.rc=+m;this.oc=+h;this.pc=+l}kX(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}ta(a){this.Eb=a.Eb;this.Fb=a.Fb;this.wc=a.wc;this.xc=a.xc;this.qc=a.qc;this.rc=a.rc;this.oc=a.oc;this.pc=a.pc}Ad(a){return this.Eb===a.Eb&&this.Fb===
a.Fb&&this.wc===a.wc&&this.xc===a.xc&&this.qc===a.qc&&this.rc===a.rc&&this.oc===a.oc&&this.pc===a.pc}toArray(){return[this.Eb,this.Fb,this.wc,this.xc,this.qc,this.rc,this.oc,this.pc]}xh(a,b){a[b++]=this.Eb;a[b++]=this.Fb;a[b++]=this.wc;a[b++]=this.xc;a[b++]=this.qc;a[b++]=this.rc;a[b++]=this.oc;a[b]=this.pc}Hha(a,b,e){a[b++]=this.Eb;a[b++]=this.Fb;a[b++]=e;a[b++]=this.wc;a[b++]=this.xc;a[b++]=e;a[b++]=this.qc;a[b++]=this.rc;a[b++]=e;a[b++]=this.oc;a[b++]=this.pc;a[b]=e}offset(a,b){a=+a;b=+b;this.Eb+=
a;this.Fb+=b;this.wc+=a;this.xc+=b;this.qc+=a;this.rc+=b;this.oc+=a;this.pc+=b}round(){this.Eb=Math.round(this.Eb);this.Fb=Math.round(this.Fb);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.qc=Math.round(this.qc);this.rc=Math.round(this.rc);this.oc=Math.round(this.oc);this.pc=Math.round(this.pc)}floor(){this.Eb=Math.floor(this.Eb);this.Fb=Math.floor(this.Fb);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.qc=Math.floor(this.qc);this.rc=Math.floor(this.rc);this.oc=Math.floor(this.oc);
this.pc=Math.floor(this.pc)}ceil(){this.Eb=Math.ceil(this.Eb);this.Fb=Math.ceil(this.Fb);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.qc=Math.ceil(this.qc);this.rc=Math.ceil(this.rc);this.oc=Math.ceil(this.oc);this.pc=Math.ceil(this.pc)}Nj(a){this.Eb=a.Z;this.Fb=a.V;this.wc=a.la;this.xc=a.V;this.qc=a.la;this.rc=a.ga;this.oc=a.Z;this.pc=a.ga}kha(a,b){0===b?this.Nj(a):this.iX(a,Math.sin(b),Math.cos(b))}iX(a,b,e){const c=a.Z*b,g=a.V*b,m=a.la*b;b*=a.ga;const h=a.Z*e,l=a.V*e,n=a.la*e;a=a.ga*
e;this.Eb=h-g;this.Fb=l+c;this.wc=n-g;this.xc=l+m;this.qc=n-b;this.rc=a+m;this.oc=h-b;this.pc=a+c}FL(a){a.set(Math.min(this.Eb,this.wc,this.qc,this.oc),Math.min(this.Fb,this.xc,this.rc,this.pc),Math.max(this.Eb,this.wc,this.qc,this.oc),Math.max(this.Fb,this.xc,this.rc,this.pc))}Mf(a,b){var e=this.wc-this.Eb,c=this.xc-this.Fb;const g=this.qc-this.Eb,m=this.rc-this.Fb;a-=this.Eb;b-=this.Fb;var h=e*e+c*c;let l=e*g+c*m;c=e*a+c*b;const n=g*g+m*m,p=g*a+m*b;let q=1/(h*n-l*l);e=(n*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=e&&0<h&&1>e+h)return!0;e=this.oc-this.Eb;c=this.pc-this.Fb;h=e*e+c*c;l=e*g+c*m;c=e*a+c*b;q=1/(h*n-l*l);e=(n*c-l*p)*q;h=(h*p-l*c)*q;return 0<=e&&0<h&&1>e+h}ot(){return(this.Eb+this.wc+this.qc+this.oc)/4}pt(){return(this.Fb+this.xc+this.rc+this.pc)/4}JL(a){var b=a.ot(),e=a.pt();if(this.Mf(b,e))return!0;b=this.ot();e=this.pt();if(a.Mf(b,e))return!0;b=this.Eb;e=this.Fb;const c=this.wc,g=this.xc,m=this.qc,h=this.rc,l=this.oc,n=this.pc;return d.GD(b,e,c,g,a)||d.GD(c,g,m,h,a)||d.GD(m,h,l,n,a)||d.GD(l,
n,b,e,a)}eha(){const a=this.Eb,b=this.Fb;this.Eb=this.wc;this.Fb=this.xc;this.wc=this.qc;this.xc=this.rc;this.qc=this.oc;this.rc=this.pc;this.oc=a;this.pc=b}}}
{"use strict";const d=self.D,a=[0,0,1,0,1,1,0,1],b=d.B(d.Kd);d.xo=class extends d.ja{constructor(e,c=!0){super();e||(e=a);this.Xd=Float64Array.from(e);this.RA=new d.Rect;this.Tp=!0;this.dh=c}m(){}ZW(){return this.Xd.length/2}HD(e){this.Xd.length===e.length?this.Xd.set(e):this.Xd=Float64Array.from(e);this.Tp=!0}jha(){this.HD(a)}ta(e){this.HD(e.Xd)}fM(){this.Tp=!0}Bfa(){if(this.Tp){var e=this.Xd,c=e[0],g=e[1],m=c,h=g;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],q=e[l+1];p<c&&(c=p);p>m&&(m=p);q<g&&
(g=q);q>h&&(h=q)}this.RA.set(c,g,m,h);this.Tp=!1}}Nj(e){let c=this.Xd;8!==c.length&&(this.Xd=c=new Float64Array(8));c[0]=e.Z-NaN;c[1]=e.V-NaN;c[2]=e.la-NaN;c[3]=e.V-NaN;c[4]=e.la-NaN;c[5]=e.ga-NaN;c[6]=e.Z-NaN;c[7]=e.ga-NaN;this.RA.ta(e);this.RA.offset(NaN,NaN);this.Tp=!1}gM(e,c,g){b.ta(e);b.offset(c,g);this.HD(b.toArray());this.Tp=!0}transform(e,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.nM(e,c,m,h)}nM(e,c,g,m){const h=this.Xd;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,q=h[l]*e,
u=h[p]*c;h[l]=q*m-u*g;h[p]=u*m+q*g}this.Tp=!0}offset(e,c){const g=this.Xd;for(let m=0,h=g.length;m<h;m+=2)g[m]+=e,g[m+1]+=c}Mf(e,c){const g=this.Xd;if(e===g[0]&&c===g[1])return!0;this.Bfa();var m=this.RA;const h=m.Z-110,l=m.V-101,n=m.la+131;m=m.ga+120;let p,q,u,w,r,v,y,A;h<e?(p=h,u=e):(p=e,u=h);l<c?(q=l,w=c):(q=c,w=l);n<e?(r=n,y=e):(r=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const L=g[H],P=g[H+1],R=g[F];F=g[F+1];d.Gm(h,l,e,c,p,u,q,w,L,P,R,F)&&++G;d.Gm(n,
m,e,c,r,y,v,A,L,P,R,F)&&++z}return 1===G%2||1===z%2}Sx(e,c,g){const m=e.Xd,h=this.Xd;if(this.Mf(m[0]+c,m[1]+g)||e.Mf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;e=h[n];const q=h[n+1],u=h[l];l=h[l+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.Gm(e,q,u,l,w,v,r,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}xl(){return this.dh}}}
{"use strict";const d=self.D;d.qu=class extends d.ja{constructor(a){super();this.Gk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}m(){this.Gd();this.Gk=null}Gd(){const a=this.Gk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Gk;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,e)}$(a,b){return(a=this.Gk.get(a))?a.get(b):a}qz(a){return(a=this.Gk.get(a))?a.has(void 0):!1}yo(a,b){const e=this.Gk,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}YM(a){const b=this.Gk,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}Sm(){let a=0;for(const b of this.Gk.values())a+=b.size;return a}*values(){for(const a of this.Gk.values())yield*a.values()}*entries(){for(const [a,b]of this.Gk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.D;d.WD=class extends d.ja{constructor(){super();this.Rn=new Set;this.PA=[];this.Mw=!1}m(){this.Gd()}Gd(){this.Rn.clear();d.F(this.PA);this.Mw=!1}Ic(a){this.Rn.has(a)||(this.Rn.add(a),this.Mw||this.PA.push(a))}qz(a){return this.Rn.has(a)}yo(a){this.Rn.delete(a)&&(this.Mw=!0)}Sm(){return this.Rn.size}Qo(){return 0===this.Rn.size}sE(){this.Mw&&(this.Dba(),this.Mw=!1);return this.PA}Dba(){const a=this.PA;d.F(a);for(const b of this.Rn)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Gt=class m{constructor(){}static H2(h){this.FG();return[...a.keys()].includes(h)}static e$(h){const l=g.get(h);if(l)return d.get(l);if(m.H2(h))return d.get(h);if(c.has(h))return c.get(h)}static Ho(h){this.FG();const l=m.e$(h);return l?l:e.get(h)}static FG(){0===d.size&&(this.Gb("default",()=>{}),this.Gb("noease",this.z3),this.Gb("easeinsine",this.k_),this.Gb("easeoutsine",
this.t_),this.Gb("easeinoutsine",this.g_),this.Gb("easeinelastic",this.WZ),this.Gb("easeoutelastic",this.o_),this.Gb("easeinoutelastic",this.b_),this.Gb("easeinback",this.TZ),this.Gb("easeoutback",this.l_),this.Gb("easeinoutback",this.YZ),this.Gb("easeinbounce",this.bN),this.Gb("easeoutbounce",this.mE),this.Gb("easeinoutbounce",this.ZZ),this.Gb("easeincubic",this.VZ),this.Gb("easeoutcubic",this.n_),this.Gb("easeinoutcubic",this.a_),this.Gb("easeinquad",this.h_),this.Gb("easeoutquad",this.q_),this.Gb("easeinoutquad",
this.d_),this.Gb("easeinquart",this.i_),this.Gb("easeoutquart",this.r_),this.Gb("easeinoutquart",this.e_),this.Gb("easeinquint",this.j_),this.Gb("easeoutquint",this.s_),this.Gb("easeinoutquint",this.f_),this.Gb("easeincirc",this.UZ),this.Gb("easeoutcirc",this.m_),this.Gb("easeinoutcirc",this.$Z),this.Gb("easeinexpo",this.XZ),this.Gb("easeoutexpo",this.p_),this.Gb("easeinoutexpo",this.c_),this.JQ("cubicbezier",this.SZ),this.JQ("spline",this.u_))}static Gb(h,l){m.zG(h,l,"predefined")}static JQ(h,l){m.zG(h,
l,"private")}static LX(h,l){this.FG();m.zG(h,l,"custom",void 0)}static zG(h,l,n,p){switch(n){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):e.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static z3(h,l,n,p){return n*h/p+l}static h_(h,l,n,p){return n*(h/=p)*h+l}static q_(h,l,n,p){return-n*(h/=p)*(h-2)+l}static d_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static VZ(h,
l,n,p){return n*(h/=p)*h*h+l}static n_(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static a_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static i_(h,l,n,p){return n*(h/=p)*h*h*h+l}static r_(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static e_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static j_(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static s_(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static f_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static k_(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static t_(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static g_(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static XZ(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static p_(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static c_(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static UZ(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static m_(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static $Z(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static WZ(h,l,n,p){let q=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+l}static o_(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+l}static b_(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+l}static TZ(h,l,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+l}static l_(h,l,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static YZ(h,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+l:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static bN(h,l,n,p){return n-m.mE(p-h,0,n,p)+l}static mE(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static ZZ(h,l,n,p){return h<p/2?.5*m.bN(2*h,0,n,p)+l:.5*m.mE(2*h-p,0,n,p)+.5*n+l}static SZ(h,l,n,p,q){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(q-l+3*n-3*p)}static u_(h,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-h)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static V_(h,l,n,p){const q=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+h)*l);return q}}}{"use strict";const d=self.D;d.nna=class{constructor(){this.MU=[]}m(){this.Gd();this.MU=null}Gd(){d.Vfa(this.MU)}}}"use strict";
self.D.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Aga=this.aM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Aga)throw Error(`cannot stop async event '${this.type}' propagation`);this.aM=!0}};
{"use strict";const d=self.D;d.Event.i1=class extends d.ja{constructor(a){super();this.Ca=a;this.yf=[];this.Ur=new Set;this.Ff=[];this.zs=new Set;this.Wv=0;this.Js=[]}m(){0<this.Wv||(d.F(this.yf),this.Ur.clear(),d.F(this.Ff),this.zs.clear(),d.F(this.Js),d.m(this))}HQ(a,b){this.ZR()?this.Js.push({WL:"add",Bi:a,capture:b}):b?this.Ur.has(a)||(this.yf.push(a),this.Ur.add(a)):this.zs.has(a)||(this.Ff.push(a),this.zs.add(a))}Sba(a,b){this.ZR()?this.Js.push({WL:"remove",Bi:a,capture:b}):b?this.Ur.has(a)&&
(this.Ur.delete(a),d.dl(this.yf,a)):this.zs.has(a)&&(this.zs.delete(a),d.dl(this.Ff,a))}S$(){return!this.yf.length&&!this.Ff.length}ZR(){return 0<this.Wv}Aba(){const a=new Set,b=new Set;for(const e of this.Js)if("add"===e.WL)this.HQ(e.Bi,e.capture),e.capture?b.delete(e.Bi):a.delete(e.Bi);else if("remove"===e.WL)e.capture?(this.Ur.delete(e.Bi),b.add(e.Bi)):(this.zs.delete(e.Bi),a.add(e.Bi));else throw Error("invalid op");d.zg(this.Ff,a);d.zg(this.yf,b);d.F(this.Js)}P9(a){this.Kr();let b=!1;for(let e=
0,c=this.yf.length;e<c;++e)if(this.yf[e](a),a.aM){b=!0;break}if(!b)for(let e=0,c=this.Ff.length;e<c&&(this.Ff[e](a),!a.aM);++e);this.Hr();return!a.defaultPrevented}R9(a){this.Kr();for(let b=0,e=this.yf.length;b<e;++b)this.yf[b](a);for(let b=0,e=this.Ff.length;b<e;++b)this.Ff[b](a);this.Hr();return!0}Kr(){this.Wv++}Hr(){this.Wv--;0===this.Wv&&0<this.Js.length&&this.Aba()}tr(a){a?this.Kr():this.Hr()}pR(a){const b=[];this.Kr();for(let c=0,g=this.yf.length;c<g;++c){var e=this.yf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,g=this.Ff.length;c<g;++c)e=this.Ff[c](a),e instanceof Promise&&b.push(e);this.Hr();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async M9(a){return await this.pR(a)}async N9(a){this.Kr();for(let e=0,c=this.yf.length;e<c;++e){var b=this.yf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Ff.length;e<c;++e)b=this.Ff[e](a),b instanceof Promise&&await b;this.Hr();return!a.defaultPrevented}*O9(a){this.Kr();for(let e=0,c=this.yf.length;e<c;++e){var b=
this.yf[e](a);d.Xm(b)&&(yield*b)}for(let e=0,c=this.Ff.length;e<c;++e)b=this.Ff[e](a),d.Xm(b)&&(yield*b);this.Hr()}}}
{"use strict";const d=self.D;d.Event.Ob=class extends d.ja{constructor(){super();this.Ip=new Map;this.FI=!1}m(){if(this.FI)throw Error("already released");this.FY();this.FI=!0;d.m(this)}dA(){return this.FI}FY(){for(let a of this.Ip.values())a.m();this.Ip.clear()}rp(a,b){let e=this.Ip.get(a);return e?e:b?(e=d.B(d.Event.i1,a),this.Ip.set(a,e),e):null}UE(a){return this.Ip.has(a)}addEventListener(a,b,e){this.rp(a,!0).HQ(b,!!e)}removeEventListener(a,b,e){let c=this.rp(a,!1);c&&(c.Sba(b,!!e),c.S$()&&this.Ip.delete(a))}dispatchEvent(a){const b=
this.rp(a.type,!1);return b?a.cancelable?b.P9(a):b.R9(a):!0}async AL(a){const b=this.rp(a.type,!1);return b?await b.M9(a):!0}ega(a){const b=this.rp(a.type,!1);return b?b.pR(a):!0}async dga(a){const b=this.rp(a.type,!1);b&&await b.N9(a)}fga(a){const b=this.rp(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.O9(a)}tr(a){for(const b of this.Ip.values())b.tr(a)}}}
{"use strict";const d=self.D,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function g(n){e=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(b.length){var p=performance.now(),q=0;do{h(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&b.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.Bi()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.HF.qz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.gl=function(n){let p=null;d.Tx&&(p=d.Py());return new Promise((q,u)=>{b.push({Bi:n,resolve:q,reject:u,stack:p});l?h(b.pop()):-1===e&&g(16)})};d.gl.MP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let a=-1;function b(){a=-1}d.My=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,g=new Set;function m(){c=e=-1;let h=Date.now();for(let l of g)if(l.r8(h)){let n=l.Fp;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(e=self.setTimeout(m,Math.max(c-h+100,1E3)))}d.N1=class{constructor(h,l){this.Tr=h;this.aD=1E3*l;this.Fp=0;this.Lb=!1}sd(){let h=d.My();this.Fp=h+this.aD;this.Lb||(g.add(this),this.Lb=!0);-1===e?(c=this.Fp,e=self.setTimeout(m,this.aD+
100)):this.Fp<c&&c>h+1E3&&(self.clearTimeout(e),c=this.Fp,e=self.setTimeout(m,this.aD+100))}r8(h){return h>=this.Fp?this.Tr()?(this.Fp=h+this.aD,!0):this.Lb=!1:!0}yY(){this.Lb&&(g.delete(this),this.Lb=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}m(){this.yY();this.Tr=null}}}
{"use strict";const d=self.D;d.Jc=class a{constructor(b){this.hs=!1;this.GI=b}Iy(){this.hs||(this.hs=!0,this.GI&&(this.GI(),this.GI=null))}m(){this.Iy()}static m(b){return new a(()=>b.m())}static Hd(b,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new d.Dt;for(let h of e)b.addEventListener(h,c,g),m.Ic(d.B(d.Jc,()=>b.removeEventListener(h,c,g)));return m}b.addEventListener(e,
c,g);return d.B(d.Jc,()=>b.removeEventListener(e,c,g))}};d.Bqa=class extends d.Jc{};d.Dt=class extends d.Jc{constructor(...a){super();this.Cd=new Set;for(let b of a)this.Ic(b)}Ic(...a){if(this.hs)throw Error("already disposed");for(let b of a)this.Cd.add(b)}Lh(a){if(this.hs)throw Error("already disposed");this.Cd.delete(a)}Iy(){if(this.hs)throw Error("already disposed");this.hs=!0;for(let a of this.Cd)a.Iy();this.Cd.clear();this.Cd=null}m(){this.Iy()}}}
{"use strict";const d=self.D;d.Ez=class extends d.ja{constructor(){super();this.Ss=this.tx=this.P=this.UA=0}Ic(a){this.P=+a-this.UA;this.tx=this.Ss+this.P;this.UA=this.tx-this.Ss-this.P;this.Ss=this.tx}$(){return this.Ss}sd(){this.Ss=this.tx=this.P=this.UA=0}Set(a){this.tx=this.P=this.UA=0;this.Ss=+a}m(){}}}
{"use strict";const d=self.D,a={JF:function(b){this.vX=b;this.left=this.right=this.vX.rb;this.parent=null;this.color=!1;this.key=null},Yo:function(b){this.size=0;this.rb=new a.JF(this);this.rb.color=!1;this.root=this.rb;this.root.parent=this.rb;this.compare=b||this.aga}};xa=a.Yo.prototype;xa.aga=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.Yo(this.compare);b.vga(this);return b};xa.clear=function(){this.size=0;this.rb=new a.JF(this);this.rb.color=!1;this.root=this.rb;this.root.parent=
this.rb};xa.Vx=function(b){var e=b.right;b.right=e.left;e.left!=this.rb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.rb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.cy=function(b){var e=b.left;b.left=e.right;e.right!=this.rb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.rb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.jt=function(b){if(this.contains(b))this.Qx(b).key=b;else{var e=new a.JF(this);e.key=
b;b=this.rb;for(var c=this.root;c!=this.rb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.rb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.rb;e.right=this.rb;e.color=!0;this.wga(e);this.size++}};xa.wga=function(b){for(;b!=this.rb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Vx(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.rb&&this.cy(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.cy(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.rb&&this.Vx(b.parent.parent));this.root.color=!1};xa.cga=function(b){var e=b.left==this.rb||b.right==this.rb?b:this.so(b);var c=e.left!=this.rb?e.left:e.right;c.parent=e.parent;e.parent==
this.rb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.bga(c);this.size--};xa.bga=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Vx(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.cy(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Vx(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.cy(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Vx(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.cy(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Qx(b);if(b!=this.rb){var e=b.key;this.cga(b);return e}return null};xa.min=function(b){for(;b.left!=this.rb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.rb;)b=b.right;return b};xa.so=function(b){if(b.right!=this.rb)return this.min(b.right);for(var e=b.parent;e!=this.rb&&b==e.right;)b=e,e=e.parent;return e};xa.Qx=function(b){for(var e=this.root;e!=this.rb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.Qx(b).key};xa.GL=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.vga=function(b){if("array"==a.oM(b))for(var e=0;e<b.length;e++)this.jt(b[e]);
else if("function"==a.oM(b.forEach))b.forEach(this.jt,this);else if("function"==a.oM(b.GL))for(b=b.GL(),e=0;e<b.length;e++)this.jt(b[e]);else if("object"==a.oM(b))for(e in b)this.jt(b[e])};xa.range=function(b,e){var c=[];this.Bha(function(g){c.push(g)},b,e);return c};xa.Bha=function(b,e,c){if(!this.mt())for(e=this.Qx(e),c=this.Qx(c);e!=c&&!b.call(void 0,e.key,this);)e=this.so(e)};xa.forEach=function(b,e){if(!this.mt())for(var c=this.min(this.root);c!=this.rb;c=this.so(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.mt())return!1;for(var c=this.min(this.root);c!=this.rb;c=this.so(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.mt())return!1;for(var c=this.min(this.root);c!=this.rb;c=this.so(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.mt())return c;for(var g=this.min(this.root);g!=this.rb;g=this.so(g))c.push(b.call(e,g.key,g.key,this));return c};xa.filter=function(b,e){var c=[];if(this.mt())return c;
for(var g=this.min(this.root);g!=this.rb;g=this.so(g))b.call(e,g.key,g.key,this)&&c.push(g.key);return c};xa.mt=function(){return 0==this.size};d.Yo=class extends d.ja{constructor(b){super();this.nh=new a.Yo(b);this.ls=!1;this.lq=new Set;this.mq=new Set}Ic(b){this.ls?this.nh.contains(b)?this.mq.delete(b):this.lq.add(b):this.nh.jt(b)}Lh(b){this.ls?this.nh.contains(b)?this.mq.add(b):this.lq.delete(b):this.nh.remove(b)}qz(b){return this.ls?this.lq.has(b)?!0:!this.mq.has(b)&&this.nh.contains(b):this.nh.contains(b)}Gd(){this.nh.clear();
this.lq.clear();this.mq.clear()}toArray(){if(this.ls)throw Error("cannot be used in queueing mode");return this.nh.GL()}Sm(){return this.nh.size+this.lq.size-this.mq.size}Qo(){return 0===this.Sm()}Nh(b){b=!!b;if(this.ls!==b&&(this.ls=b,!b)){for(const e of this.mq)this.nh.remove(e);this.mq.clear();for(const e of this.lq)this.nh.jt(e);this.lq.clear()}}lN(b){this.nh.forEach(b)}*values(){if(!this.Qo()){var b=this.nh;for(let e=b.min(b.root);e!=b.rb;e=b.so(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.aP=class{constructor(a=d.hardwareConcurrency){this.bfa=a;this.uK=[];this.WH=0}Ic(a){return new Promise((b,e)=>{this.uK.push({Bi:a,resolve:b,reject:e});this.jS()})}async jS(){if(this.uK.length&&!(this.WH>=this.bfa)){this.WH++;var a=this.uK.shift();try{const b=await a.Bi();a.resolve(b)}catch(b){a.reject(b)}this.WH--;this.jS()}}}}
{"use strict";const d=self.D;d.Z4=class{constructor(a,b,e){this.Tr=a;this.Pea=b;this.Qea=e||2*b;this.Xs=-1;this.fC=-Infinity;this.UV=()=>this.nba();this.vea=this.gJ=!1;this.Fv=null}i$(){return"undefined"!==typeof d.lY&&d.lY.gla()?this.Qea:this.Pea}xY(){var a=[];if(-1===this.Xs){this.Fv=a;a=d.My();var b=a-this.fC,e=this.i$();b>=e&&this.vea?(this.fC=a,this.IS()):this.Xs=self.setTimeout(this.UV,Math.max(e-b,4))}}IS(){this.gJ=!0;const a=this.Fv;this.Fv=null;a?this.Tr(...a):this.Tr();this.gJ=!1}sd(){this.gJ||
(this.RQ(),this.Fv=null,this.fC=d.My())}nba(){this.Xs=-1;this.fC=d.My();this.IS()}RQ(){-1!==this.Xs&&(self.clearTimeout(this.Xs),this.Xs=-1)}m(){this.RQ();this.UV=this.Fv=this.Tr=null}}}"use strict";function hc(d,a){if(!d.hU)throw Error("no get base size callback set");return d.hU(a)}self.D.Goa=class{constructor(){this.Mea=new Map;this.xV=this.zV=this.hU=null}Mz(){if(!this.xV)throw Error("no redraw callback set");this.xV()}};"use strict";
self.D.Foa=class{constructor(d,a){this.jh=d;this.Cea=a;this.Uc=0;hc(this.jh,a).then(()=>{this.jh.Mz()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.jh.Mz()});this.vK=null}m(){if(0>=this.Uc)throw Error("already released");this.Uc--;0===this.Uc&&this.lv()}lv(){if(this.vK){var d=this.jh;if(!d.zV)throw Error("no release result callback set");d.zV(this.vK);this.vK=null}this.jh.Mea.delete(this.Cea);this.jh=null}};
{"use strict";const d=self.D;d.Tqa="\ufeff";const a=new Set([..."0123456789"]);d.I2=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Dz=function(n){return b.has(n)};d.Oja=function(n){return[...n].filter(p=>!d.Dz(p)).join("")};d.vF=function(n){for(const p of n)if(!d.Dz(p))return!1;return!0};d.U2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.I_=function(n){return[...n].filter(p=>
!d.U2(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.vla=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};d.j5=function(n){let p=n.length;for(;0<p&&d.I2(n.charAt(p-1));)--p;return n.substr(0,p)};d.zka=function(n){let p=d.j5(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;d.z_=function(n){return n.replace(m,g)};d.Fja=function(n){n=d.Vi(n,"\\","\\\\");n=d.Vi(n,'"','\\"');n=d.Vi(n,"\t","\\t");n=d.Vi(n,"\r","");return d.Vi(n,"\n","\\n")};d.Gja=function(n){n=d.Vi(n,"&","&amp;");n=d.Vi(n,"<","&lt;");n=d.Vi(n,">","&gt;");return d.Vi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Ht=function(n){return n.replace(h,"\\$&")};d.Pja=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.Vi=function(n,p,q){return n.replaceAll(p,()=>q)};d.Fna=function(n,p,q){return n.replace(new RegExp(d.Ht(p),"gi"),()=>q)};d.fpa=function(n,p){"string"===typeof p?n.textContent=p:p.IU?n.textContent=p.toString():(n.innerHTML=p.kM(),p instanceof d.Lm&&p.Ofa(n))};d.wqa=function(n,p){return n instanceof d.ZE||n instanceof d.Lm?n.Ad(p):p instanceof d.ZE||p instanceof d.Lm?p.Ad(n):n===p};d.xqa=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.yqa=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.zqa=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.hqa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.Tja=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Zsa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Lfa:!1,Yfa:!0,uga:!0,Pga:!0,gX:!0};d.Uja=function(n,p){p=Object.assign({},
l,p);d.X2.rna("common.time");const q=[],u=self.lang,w=self.Ysa;if(p.Yfa){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.uga&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Pga&&(r=Math.floor(n/60),0<r||q.length||!p.gX)&&(n-=60*r,q.push(w(".minutes",null,r)));p.gX&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Lfa?u(".approx-prefix"):"")+q.join(u(".separator"));d.X2.ina();return n};d.yra=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.Aqa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.fja=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.fX(n);d.fX(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.rja=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.uqa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.vqa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.D,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;d.Lm=class{constructor(l,n){this.Vh=n&&n.Sga?l:d.z_(l);this.fJ="";this.JT=!1;this.Ew=[];if(n&&(this.JT=!!n.Vra,n.links)){if(9<n.links.length)throw Error("too many links");this.Ew=n.links}this.mU=this.Vh.includes("[");this.kV=this.JT&&this.Vh.includes("\n");this.IU=!this.mU&&!this.kV&&!this.Vh.includes("&");this.qU=!1;this.Yv=[]}toString(){return this.Vh}valueOf(){return this.Vh}kM(){if(this.IU)return this.Vh;if(!this.fJ&&this.Vh){let l=this.Vh;
this.mU&&(g=0,c=this.Ew,l=l.replace(b,m),c=null);this.kV&&(l=l.replace(h,"<br>"));this.fJ=l}return this.fJ}Ofa(l){if(this.Ew.length)for(let n=0,p=this.Ew.length;n<p;++n){const q=this.Ew[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}Ad(l){return l instanceof d.ZE?this.kM()===l.kM():l instanceof d.Lm?this.Vh===l.Vh:this.Vh===l}wha(){if(this.qU)return this.Yv;const l=this.Vh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.Yv.push({text:v,Bd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Ci:u})}p<l.length&&this.Yv.push({text:l.substring(p),Bd:n.slice(0)});for(const v of this.Yv)v.text=
this.zba(v.text);this.qU=!0;return this.Yv}zba(l){l=d.Vi(l,"\\[","[");return d.Vi(l,"\\\\","\\")}static mQ(l){return l.replace(e,"")}}}
{"use strict";const d=self.D;d.xG=class{constructor(){this.Hn=[]}lS(a,b){let e=0,c=0,g=0,m=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.Bd),l.width=a.width,l.height=a.height,l.Bg=a.Bg||0,l.Nf=a.Nf||0,l.Qf=a.Qf||0),e+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.Bg),m=Math.max(m,l.Nf),h=Math.max(h,l.Qf);return{width:e,height:c,Bg:g,Nf:m,Qf:h}}gA(a,b,e,c,g,m){this.Hn.push({FW:a,width:b,height:e,Bg:c,Nf:g,Qf:m})}xG(a,b,e,c,g){"string"===typeof a&&(a=[{text:a,Bd:[]}]);d.F(this.Hn);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var m=a[0];const h=m.text;m=m.Bd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,Bg:p,Nf:q,Qf:u}=b(h,m);l+=g;p=p||0;q=q||0;u=u||0;if(l<=e){this.gA([{text:h,Bd:m,width:l,height:n,Bg:p,Nf:q,Qf:u}],l,n,p,q,u);return}}}if("word"===c)c=this.Ida(a);else{c=[];for(const h of a)d.jo(c,[...h.text].map(l=>[{text:l,Bd:h.Bd}]))}this.aea(c,b,e,g)}}Ida(a){const b=[];let e=[],c=!1;for(const m of a){var g=m.text;a=m.Bd;for(const h of g)"\n"===h?(0<
e.length&&b.push(e),b.push([{text:"\n",Bd:a}]),e=[]):0===e.length?(e.push({text:h,Bd:a}),c=d.Dz(h)):(g=d.Dz(h),g===c?(g=e.me(-1),g.Bd===a?g.text+=h:e.push({text:h,Bd:a})):(b.push(e),e=[],e.push({text:h,Bd:a}),c=g))}0<e.length&&b.push(e);return b}u8(a){return a.map(b=>({text:b.text,Bd:b.Bd,width:b.width,height:b.height,Bg:b.Bg,Nf:b.Nf,Qf:b.Qf}))}MQ(a,b){var e=a.length?a.me(-1):null;let c=0;e&&b[0].Bd===e.Bd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.Bg=-1,e.Nf=-1,e.Qf=-1,c=1);for(e=b.length;c<e;++c){const g=
b[c];a.push({text:g.text,Bd:g.Bd,width:-1,height:-1,Bg:-1,Nf:-1,Qf:-1})}}aea(a,b,e,c){let g=[],m=0,h=0,l=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===h&&(p=b(" ",q[0].Bd),h=p.height,l=p.Bg||0,n=p.Nf||0,p=p.Qf||0);this.gA(g,m,h,l,n,p);g=[];p=n=l=h=m=0;continue}a=this.u8(g);this.MQ(a,q);const u=this.lS(a,b),w=u.width;w>=e?(0<g.length&&this.gA(g,m,h,l,n,p),g=[],d.vF(q[0].text)?p=n=l=h=m=0:(this.MQ(g,q),p=this.lS(g,b),m=p.width,h=p.height,l=p.Bg,n=p.Nf,p=p.Qf)):(g=a,m=w,h=u.height,
l=u.Bg,n=u.Nf,p=u.Qf)}0<g.length&&this.gA(g,m,h,l,n,p);this.Lda(b,c)}Lda(a,b){for(const c of this.Hn){const g=c.FW;if(!g.length)continue;let m=g.me(-1);var e=m.text;const h=e.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<e.length){e=a(h,m.Bd).width;const l=m.width-e;m.width=e;m.text=h;c.width-=l}0!==b&&0<g.length&&(m=g.me(-1),m.width+=b,c.width+=b)}}Gd(){d.F(this.Hn)}J0(){return this.Hn.reduce((a,b)=>Math.max(a,b.width),0)}d1(){return this.Hn.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.D,a=self.Lj,b=a.MD,e=a.hy,c=a.Fm,g=b.create(),m=b.create(),h=b.create(),l=e.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=e.Of(0,0,1,1);d.K={O4(J,L,P,R,T,Z,X){const ba=R[0]*J+R[4]*L+R[8]*P+R[12],Y=R[1]*J+R[5]*L+R[9]*P+R[13],va=R[2]*J+R[6]*L+R[10]*P+R[14];R=R[3]*J+R[7]*L+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;L=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(L*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},vk(J,L,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.lt(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(L-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;e.mM(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},q7(J,L,P,R,T,Z,X){if(!d.K.vk(J,L,0,R,T,Z,g)||!d.K.vk(J,L,1,R,T,Z,m))return!1;b.Jm(m,m,g);b.set(h,0,0,1);J=-P;L=b.mo(h,m);P=0;if(0===L){if(0!==
b.mo(h,g)+J)return!1}else if(P=-(b.mo(g,h)+J)/L,0>P)return!1;b.eM(X,g,m,P);return!0}};function z(J,L,P,R){b.Jm(g,P,L);b.Jm(m,J,L);b.yL(h,g,m);b.normalize(h,h);R.set(h[0],h[1],h[2],b.mo(J,h))}function F(J,L,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.CX,Na=X.DX;X=X.EX;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*L*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*L*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.EX=this.DX=this.CX=this.w=this.z=this.y=this.x=NaN}set(J,L,P,R){this.x=
J;this.y=L;this.z=P;this.w=R;this.CX=0<J?1:0;this.DX=0<L?1:0;this.EX=0<P?1:0}}d.K.y7=class{constructor(){this.YU=new H;this.VV=new H;this.CV=new H;this.CT=new H;this.dK=new H;this.$T=new H}vY(J,L){d.K.vk(0,1,0,J,L,G,p);d.K.vk(1,1,0,J,L,G,q);d.K.vk(0,0,0,J,L,G,u);d.K.vk(1,0,0,J,L,G,w);d.K.vk(0,1,1,J,L,G,r);d.K.vk(1,1,1,J,L,G,v);d.K.vk(0,0,1,J,L,G,y);d.K.vk(1,0,1,J,L,G,A);z(u,p,r,this.YU);z(p,q,v,this.VV);z(q,w,A,this.CV);z(w,u,y,this.CT);z(y,r,v,this.$T);z(w,q,p,this.dK)}UY(J,L,P,R,T,Z){return F(J,
L,P,R,T,Z,this.YU)&&F(J,L,P,R,T,Z,this.VV)&&F(J,L,P,R,T,Z,this.CV)&&F(J,L,P,R,T,Z,this.CT)&&F(J,L,P,R,T,Z,this.dK)&&F(J,L,P,R,T,Z,this.$T)}z2(J,L,P){var R=this.dK;return!(R.x*J+R.y*L+R.z*P>=R.w)}}}
{"use strict";const d=self.D,a=self.Lj,b=a.MD,e=a.hy,c=a.Fm,g=c.create(),m=b.Of(0,0,0),h=b.Of(0,0,0),l=b.Of(0,0,0),n=b.Of(0,1,0);e.Of(0,0,0,0);new d.Kd;new d.Rect;const p=new d.Kd(0,0,1,0,1,1,0,1);d.K.m5=class{constructor(){this.T=this.W=0;this.cU=d.kb(45);this.SK=Math.tan(this.cU/2);this.rC=c.create();this.ZJ=c.create();this.zp=[];this.NC=new Map;this.GK=this.RC=this.SC=null;this.qx=new Map;this.lj=null;this.nI=[];this.jV=new Map;this.Pv=this.yv=0;this.ZU=this.$U=1;this.UJ=.5;this.bi=0;this.ks=!0;
this.yB=!1}H_(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}UQ(){this.Pv=this.yv=0;this.GK=this.RC=this.SC=null;this.s8()}wz(){this.UQ();this.lj=null}Q3(){for(const q of this.zp)q.m();this.UQ()}fa(){return this.W}aa(){return this.T}Jq(q,u,w=.5,r=.5){var v=this.cU;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.SK,u*=v,c.nga(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}uY(q,u,w){const r=self.devicePixelRatio,v=200*r*this.SK/w;u=u*v/(2*
r);w=w*v/(2*r);c.Wga(q,-u,u,-w,w,1,1E4)}BM(q,u,w,r,v=this.aa()){v=200*self.devicePixelRatio*this.SK/v;b.set(l,v,-v,1);b.multiply(m,u,l);b.multiply(h,w,l);c.Lga(q,m,h,r||n);c.scale(q,q,l)}Ct(q,u,w,r,v,y){b.set(m,q,u,w);b.set(h,r,v,0);this.BM(g,m,h,n,y);return g}b8(q){this.zp.push(q);this.NC.set(q.Da(),q)}Uba(q){const u=this.zp.indexOf(q);-1!==u&&this.zp.splice(u,1);this.NC.delete(q.Da())}s8(){d.F(this.zp);this.NC.clear()}NN(q){return this.NC.get(q)||null}rk(){this.Cr(this.SC)}DP(){this.Cr(this.GK)}Pca(q){this.lj=
q}IX(q,u,w,r){const v=d.K.rG.AO(q,u,w,r);let y=this.qx.get(v);y||(y=d.B(d.K.rG,this,q,u,w,r),this.qx.set(v,y));y.UX();return y}gP(q){q.nZ();0===q.Uc&&(this.lj===q&&(this.lj=null),this.qx.delete(q.C0()),q.m())}D$(q){d.F(this.nI);this.jV.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.nI.push([r,v]);this.jV.set(q,{Eta:u,Gua:r,dsa:v});u++}}c$(q){return this.nI[q]}rr(q){this.yv=q}Au(q){this.Pv=q;this.lj=null}b3(q,u,w,r){var v=d.Hj(q,u,w,r),y=.5*this.$U;const A=Math.sin(v)*y;v=Math.cos(v)*
y;y=this.ZU;2===y?this.lu(q,u,w,r,A,v):1===y?this.ku(q,u,w,r,A,v):this.ju(q,u,w,r,A,v)}lu(q,u,w,r,v,y){var A=this.UJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.Kz(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}ku(q,u,w,r,v,y){const A=this.UJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Kz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}ju(q,u,w,r,v,y){const A=this.UJ;q+=A;u+=A;w+=A;r+=A;this.Kz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}e3(q,u,w,r){const v=.5*this.$U,y=this.ZU;2===y?this.Z$(q,
u,w,r,v):1===y?this.Y$(q,u,w,r,v):this.X$(q,u,w,r,v)}Z$(q,u,w,r,v){this.lu(q,u,w,u,0,v);this.lu(w,u,w,r,v,0);this.lu(w,r,q,r,0,-v);this.lu(q,r,q,u,-v,0)}Y$(q,u,w,r,v){this.ku(q,u,w,u,0,v);this.ku(w,u,w,r,v,0);this.ku(w,r,q,r,0,-v);this.ku(q,r,q,u,-v,0)}X$(q,u,w,r,v){this.ju(q,u,w,u,0,v);this.ju(w,u,w,r,v,0);this.ju(w,r,q,r,0,-v);this.ju(q,r,q,u,-v,0)}uO(q){this.e3(q.Z,q.V,q.la,q.ga)}Kt(){this.Qj();this.bi++}Q1(){this.bi++}bG(q){this.ks=!!q}k6(q){this.yB=!!q}zl(){return!1}}}"use strict";
self.D.K.R6=class{constructor(d,a,b){this.Ka=a;this.wa=d;this.XT=b.isa||0;this.YT=b.jsa||0;this.KT=!!b.Xra;this.dfa=!!b.zta;this.Is=!!b.Vta;this.hea=!!b.Gra;this.oI=!!b.Lra;this.hD=!!b.Yua;this.bW=!1}m(){this.wa=null}lb(){return this.wa}Da(){return this.Ka}ir(){return this.dfa}};
{"use strict";const d=self.D;d.K.rG=class{constructor(a,b,e,c,g){this.wa=a;this.Uc=0;this.ld=null;this.ax="";this.Yg=e;this.gb=d.B(d.eb);this.gb.set(c);this.od=g;"string"===typeof b?this.ax=b:(this.ld=b,this.ax=this.ld.Da())}m(){if(0<this.Uc)throw Error("releasing state group still in use");this.ld=this.wa=null;this.ax=""}aY(){const a=this.wa;a.Cr(this.ld);a.bg(this.Yg);a.dn(this.gb);a.Au(this.od);a.Pca(this)}C0(){return d.K.rG.AO(this.ax,this.Yg,this.gb,this.od)}UX(){++this.Uc}nZ(){--this.Uc}Al(){this.ld=
null}AF(a){this.ld=a.NN(this.ax);if(!this.ld)throw Error("failed to restore shader program");}static AO(a,b,e,c){return("string"===typeof a?a:a.Da())+","+b+","+e.Ya+","+e.Ja+","+e.$a+","+e.Za+","+c}}}
{"use strict";const d=self.D,a=d.B(d.Kd);function b(e,c,g){const m=g.Eb,h=g.Fb;return[m+(g.wc-m)*e+(g.oc-m)*c,h+(g.xc-h)*e+(g.pc-h)*c]}d.K.v3=class{constructor(e){this.bK=e;this.vh=this.th=this.od=this.P=this.R=0}Ug(e,c,g,m){this.R=e;this.P=c;this.th=g;this.vh=m}ca(){return this.R}Qg(e){this.R!==e&&(this.R=e,this.bK.BH())}da(){return this.P}Ph(e){this.P!==e&&(this.P=e,this.bK.BH())}fb(){return this.od}xf(e){this.od!==e&&(this.od=Math.max(e,0),this.bK.BH())}iG(e){this.th=e}jG(e){this.vh=e}Q$(e,c,g){[this.R,
this.P]=b(e.R,e.P,c);this.od=e.od;this.th=d.Zd(g.Z,g.la,e.th);this.vh=d.Zd(g.V,g.ga,e.vh)}P$(e,c,g){[this.R,this.P]=b(e.R,e.P,c);this.od=e.od;[this.th,this.vh]=b(e.th,e.vh,g)}td(){return{x:this.ca(),y:this.da(),z:this.fb(),u:this.th,v:this.vh}}Zc(e){this.Qg(e.x);this.Ph(e.y);e.hasOwnProperty("z")&&this.xf(e.z);this.iG(e.u);this.jG(e.v)}};d.K.CO=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.Hk=e;this.Yk=c;this.Tb=g||null;this.Pn=[];this.hV=this.gV=0;this.dV=this.cV=1;this.eV=
0;this.pK=!1;g=e-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<e;++n){const p=d.B(d.K.v3,this,n,h),q=n/g,u=h/m;p.Ug(q,u,q,u);l.push(p)}this.Pn.push(l)}}m(){d.F(this.Pn)}BH(){this.pK=!0}bv(){if(this.pK){var e=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.Pn)for(const n of l){const p=n.ca(),q=n.da();e=Math.min(e,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.fb())}this.gV=e;this.hV=c;this.cV=g;this.dV=m;this.eV=h;this.pK=!1}}N0(){this.bv();return this.gV}O0(){this.bv();
return this.hV}K0(){this.bv();return this.cV}L0(){this.bv();return this.dV}M0(){this.bv();return this.eV}Sq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Hk||0>c||c>=this.Yk?null:this.Pn[c][e]}CM(e,c,g){const m=g instanceof d.Rect;if(e.Hk!==this.Hk||e.Yk!==this.Yk)throw Error("source mesh wrong size");e=e.Pn;const h=this.Pn;for(let l=0,n=h.length;l<n;++l){const p=e[l],q=h[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.Q$(r,c,g):v.P$(r,c,g)}}}Eg(e){const c=this.Pn;let g=c[0];
for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=g[q],r=l[q];a.set(n.th,n.vh,w.th,w.vh,r.th,r.vh,p.th,p.vh);e.Kz(n.ca(),n.da(),n.fb(),w.ca(),w.da(),w.fb(),r.ca(),r.da(),r.fb(),p.ca(),p.da(),p.fb(),a);n=w;p=r}g=l}}t2(e){e=e.Xd;const c=[],g=this.Hk-1,m=this.Yk-1,h=1/g,l=1/m,n=g-1,p=m-1;let q=e[0],u=e[1],w=d.ia(Math.floor(q*g),0,n),r=d.ia(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.ia(d.Zd(q,v,A),0,1);u=d.ia(d.Zd(u,y,A),0,1);c.push(q,
u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=d.ia(Math.floor(q*g),0,n),r=d.ia(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,L=r*l,P=(w+1)*h,R=(r+1)*l;if(0!==G&&(A=d.by(q,u,v,y,J,L,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.by(q,u,v,y,J,L,P,L,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.by(q,u,v,y,P,L,P,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<
w&&1!==G&&(A=d.by(q,u,v,y,J,L,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.by(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.B(d.xo,c)}k7(e,c){e=this.Jda(e);this.Ada(e);c.HD(e)}Jda(e){const c=[];e=e.Xd;for(let g=0,m=e.length;g<m;g+=2){const [h,l]=this.qQ(e[g],e[g+1]);c.push(h,l)}return c}qQ(e,c){var g=this.Hk-1,m=this.Yk-1;const h=1/g,l=1/m;g=d.ia(Math.floor(e*g),0,g-1);const n=d.ia(Math.floor(c*m),0,m-1);m=g*h;const p=n*l,q=(g+1)*h,u=(n+
1)*l,w=this.Sq(g,n),r=this.Sq(g+1,n+1),v=d.Cga(e,c,m,p,q,p,q,u);g=this.Sq(g+(v?1:0),n+(v?0:1));const [y,A,G]=d.Dha(e,c,m,p,v?m+h:m,v?p:p+l,q,u);return d.Cha(y,A,G,w.ca(),w.da(),g.ca(),g.da(),r.ca(),r.da())}Ada(e){const c=[];let g=e[0],m=e[1],h=g-e.me(-2),l=m-e.me(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-g,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(l)||v)&&1E-7<Math.abs(w/
h-r/l)||0==w&&0===r)&&c.push(g,m);g=u;m=n;h=w;l=r}6<=c.length&&c.length<e.length&&d.Xc(e,c)}td(){return{cols:this.Hk,rows:this.Yk,points:this.Pn.map(e=>e.map(c=>c.td()))}}Zc(e){const c=this.Hk,g=this.Yk;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<g;++m){const h=e[m];for(let l=0;l<c;++l)this.Sq(l,m).Zc(h[l])}}}}
{"use strict";const d=self.D,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{hM:n,kt:q,format:u,type:p}}const m={OD:"clamp-to-edge",PD:"clamp-to-edge",Mj:"trilinear",pW:0,YL:"rgba8",DD:!0,Zx:"default",premultiplyAlpha:!0,QW:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.K.eA=class{constructor(n){this.wa=n;this.sb=null;this.T=this.W=0;this.ei=!0;this.ht=this.gt="clamp-to-edge";this.Ed="trilinear";this.dI=0;this.Nn="rgba8";this.dm=!1;this.eq=
"default";this.Uc=0}J8(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.sb)throw Error("already created texture");this.gt=p.OD;this.ht=p.PD;
this.Ed=p.Mj;this.dI=p.pW;this.Nn=p.YL;this.dm=!!p.DD&&this.wa.ks;this.eq=p.Zx;if(!c.has(this.gt)||!c.has(this.ht))throw Error("invalid wrap mode");if(!b.has(this.Ed))throw Error("invalid sampling");if(!a.has(this.Nn))throw Error("invalid pixel format");if(!e.has(this.eq))throw Error("invalid mipmap quality");this.ei=!0;if(n instanceof ArrayBuffer||null===n||p.QW){if(this.W=p.width,this.T=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.W*this.T*4)throw Error("ArrayBuffer wrong size");}else this.W=
n.width,this.T=n.height;if(0>=this.W||0>=this.T)throw Error("invalid texture data size");if(p.QW){var q=d.zh(this.W,this.T);q.getContext("2d").drawImage(n,0,0,this.W,this.T);n=q}var u=d.fl(this.W)&&d.fl(this.T);q=this.wa.sC;if(this.W>q||this.T>q)throw Error("texture data exceeds maximum texture size");q=this.wa.U;var w=this.wa.nd;this.sb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.sb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.Nn,q);if(this.wa.lp()||u||!this.bH())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.dm?Math.floor(Math.log2(Math.max(this.W,this.T))+1):1,p.hM,this.W,this.T),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.W,this.T,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.kt,this.W,this.T,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.kt,this.W,this.T,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.kt,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.W,this.T));n instanceof ImageData&&(u=d.zh(this.W,this.T),u.getContext("2d").putImageData(n,0,0),n=u);u=d.zh(d.WW(this.W),d.WW(this.T));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.Ed;w.drawImage(n,0,0,this.W,this.T,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.kt,p.format,p.type,u)}null!==n&&this.bT(q);q.bindTexture(q.TEXTURE_2D,null);this.wa.qH();this.Uc=1;l.add(this)}w8(n,p,q){q=Object.assign({},m,q);if(this.sb)throw Error("already created texture");this.gt=q.OD;this.ht=q.PD;this.Ed=q.Mj;this.Nn=q.YL;this.dm=!!q.DD&&this.wa.ks;this.eq=q.Zx;if(!c.has(this.gt)||!c.has(this.ht))throw Error("invalid wrap mode");if(!b.has(this.Ed))throw Error("invalid sampling");if(!a.has(this.Nn))throw Error("invalid pixel format");if(!e.has(this.eq))throw Error("invalid mipmap quality");
this.ei=!1;this.W=Math.floor(n);this.T=Math.floor(p);n=d.fl(this.W)&&d.fl(this.T);p=this.wa.sC;if(0>=this.W||0>=this.T)throw Error("invalid texture size");if(this.W>p||this.T>p)throw Error("texture exceeds maximum texture size");if(!this.wa.lp()&&this.bH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.wa.U;p=this.wa.nd;this.sb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.sb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.Nn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.hM:q.kt,this.W,this.T,0,q.format,q.type,null);this.bT(n);n.bindTexture(n.TEXTURE_2D,null);this.wa.qH();this.Uc=1;l.add(this)}YG(n){if("default"===this.eq)return this.ei?n.NICEST:n.FASTEST;if("low"===this.eq)return n.FASTEST;if("high"===this.eq)return n.NICEST;throw Error("invalid mipmap quality");}bH(){return"clamp-to-edge"!==this.gt||"clamp-to-edge"!==this.ht}MR(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}bT(n){var p=d.fl(this.W)&&d.fl(this.T);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.MR(n,this.gt));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.MR(n,this.ht));"nearest"===this.Ed?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.dm=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.wa.lp())&&this.dm?(n.hint(n.GENERATE_MIPMAP_HINT,
this.YG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Ed||this.wa.yB?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.dm=!1));(p=this.wa.uv)&&0<this.dI&&"nearest"!==this.Ed&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.dI,this.wa.$J))}oT(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.sb||0>=this.Uc)throw Error("texture not created");if(this.ei)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.wa.nd;
const r=this.wa.U;r.bindTexture(r.TEXTURE_2D,this.sb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.Nn,r);w=2<=w?p.hM:p.kt;try{if(this.W===q&&this.T===u){const v=d.fl(this.W)&&d.fl(this.T);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.wa.lp())&&this.dm&&(r.hint(r.GENERATE_MIPMAP_HINT,this.YG(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.W=q;this.T=u;const v=d.fl(this.W)&&d.fl(this.T);if(!this.wa.lp()&&this.bH()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.wa.lp())&&this.dm&&(r.hint(r.GENERATE_MIPMAP_HINT,this.YG(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.wa.qH()}MG(){if(0<this.Uc)throw Error("texture still has references");if(!this.sb)throw Error("already deleted texture");l.delete(this);this.wa.U.deleteTexture(this.sb);this.sb=null}lb(){return this.wa}d7(){if(0>=
this.Uc)throw Error("no more references");this.Uc--}fa(){return this.W}aa(){return this.T}BE(){let n=this.W*this.T;switch(this.Nn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.dm&&(n+=Math.floor(n/3));return n}static Al(){l.clear()}static Gfa(){return l.values()}}}
{"use strict";const d=self.Lj.Fm,a=new Set(["nearest","bilinear","trilinear"]),b={Mj:"trilinear",alpha:!0,depth:!1,OL:!0,LW:!0,Qga:0},e=new Set;self.D.K.DQ=class{constructor(c){this.wa=c;this.Sk=this.sb=this.Np=this.fh=null;this.T=this.W=0;this.OB=!0;this.Ed="trilinear";this.Rr=!0;this.ed=!1;this.pw=!0;this.km=0;this.Qk=d.create()}v8(c,g,m){m=Object.assign({},b,m);const h=this.wa.nd;if(this.sb||this.Sk)throw Error("already created render target");this.Ed=m.Mj;this.Rr=!!m.alpha;this.ed=!!m.depth;this.pw=
!!m.OL;this.OB=!!m.LW;this.km=m.Qga;if(!a.has(this.Ed))throw Error("invalid sampling");if(0<this.km&&(2>h||this.pw))throw Error("invalid use of multisampling");2>h&&(this.pw=!0);this.W=c;this.T=g;if(0>=this.W||0>=this.T)throw Error("invalid render target size");this.QQ();c=this.wa.U;this.fh=c.createFramebuffer();this.ed&&(this.Np=c.createFramebuffer());this.pw?(this.sb=this.wa.RM(this.W,this.T,{Mj:this.Ed,YL:this.Rr?"rgba8":"rgb8",DD:!1}),g=this.sb.sb,c.bindFramebuffer(c.FRAMEBUFFER,this.fh),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.ed&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Np),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Sk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Sk),g=this.Rr?c.RGBA8:c.RGB8,0<this.km&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.km>m&&(this.km=m)):this.km=0),0===this.km?c.renderbufferStorage(c.RENDERBUFFER,g,this.W,this.T):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.km,g,this.W,this.T),c.bindFramebuffer(c.FRAMEBUFFER,this.fh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Sk),this.ed&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Np),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Sk)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.wa.bh;this.ed&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.fh),this.wa.Gv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}DS(c,g){if(this.W!==c||this.T!==g)this.W=c,this.T=g,this.QQ(),c=this.wa.U,c.bindFramebuffer(c.FRAMEBUFFER,this.fh),this.sb?this.sb.oT(new ImageData(this.W,this.T)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Sk),c.renderbufferStorage(c.RENDERBUFFER,this.Rr?c.RGBA8:c.RGB8,this.W,this.T),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.wa.bh,this.ed&&g&&(this.wa.Gv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}MG(){if(!this.sb&&!this.Sk)throw Error("already deleted render target");e.delete(this);var c=this.wa.U;this.sb?(c.bindFramebuffer(c.FRAMEBUFFER,this.fh),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.ed&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Np),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.wa.Pj(this.sb),this.sb=null):this.Sk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.fh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.ed&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Np),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Sk),this.Sk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.wa.nd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.fh);
this.ed&&c.deleteFramebuffer(this.Np);c=this.wa.Fc;c.Cm=null;this.fh=c.Jj=null}QQ(){this.wa.Jq(this.Qk,this.W/this.T)}lb(){return this.wa}oe(){return this.sb}qF(){return"nearest"!==this.Ed}fa(){return this.W}aa(){return this.T}C2(c){c=Object.assign({},b,c);return"nearest"!==c.Mj!==this.qF()||!!c.alpha!==this.Rr||!!c.depth!==this.ed||2<=this.wa.nd&&!!c.OL!==this.pw?!1:"number"===typeof c.width||"number"===typeof c.height?!this.OB&&this.fa()===c.width&&this.aa()===c.height:this.OB}BE(){return this.sb?
this.sb.BE():this.W*this.T*(this.Rr?4:3)}static Al(){e.clear()}}}
{"use strict";const d=self.D;d.K.Qu=class extends d.K.R6{static async RY(a,b,e,c){const g=a.U,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,b);g.compileShader(m);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,e);g.compileShader(b);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.nK;l?await a.Yda(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await d.wG(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.I_(g.getProgramInfoLog(h)||"").trim())&&!d.vF(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(m);g.deleteShader(b);return h}static async Ta(a,b,e,c){e=await d.K.Qu.RY(a,b.src,e,c);return new d.K.Qu(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const g=a.U;var m=a.Fc;a.Qj();g.useProgram(b);this.U=g;this.ld=b;this.PB="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.XJ=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.lD),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.ZC),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.XJ&&(g.bindBuffer(g.ARRAY_BUFFER,a.CC),g.vertexAttribPointer(this.XJ,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.XJ));g.bindBuffer(g.ARRAY_BUFFER,null);this.ZK=new d.K.nc(this,"matP","mat4");this.YK=new d.K.nc(this,"matMV","mat4");this.zq=new d.K.nc(this,"color",
"vec4");this.Afa=new d.K.nc(this,"samplerFront","sampler");this.bL=new d.K.nc(this,"pointTexStart","vec2");this.aL=new d.K.nc(this,"pointTexEnd","vec2");this.eL=new d.K.nc(this,"zElevation","float");this.cL=new d.K.nc(this,"tileSize","vec2");this.dL=new d.K.nc(this,"tileSpacing","vec2");this.XK=new d.K.nc(this,"color2_","vec4");this.$K=new d.K.nc(this,"outlineThickness","float");this.ct=new d.K.nc(this,"samplerBack","sampler");this.zfa=new d.K.nc(this,"samplerDepth","sampler");this.Zn=new d.K.nc(this,
"destStart","vec2");this.Yn=new d.K.nc(this,"destEnd","vec2");this.Dj=new d.K.nc(this,"srcStart","vec2");this.xm=new d.K.nc(this,"srcEnd","vec2");this.zm=new d.K.nc(this,"srcOriginStart","vec2");this.ym=new d.K.nc(this,"srcOriginEnd","vec2");this.uh=new d.K.nc(this,"pixelSize","vec2");this.fo=new d.K.nc(this,"seconds","float");this.$n=new d.K.nc(this,"devicePixelRatio","float");this.bo=new d.K.nc(this,"layerScale","float");this.ao=new d.K.nc(this,"layerAngle","float");this.eo=new d.K.nc(this,"layoutStart",
"vec2");this.co=new d.K.nc(this,"layoutEnd","vec2");this.nU=!!(this.uh.Y||this.fo.Y||this.ct.Y||this.Zn.Y||this.Yn.Y||this.Dj.Y||this.xm.Y||this.zm.Y||this.ym.Y||this.$n.Y||this.bo.Y||this.ao.Y||this.eo.Y||this.co.Y);a=e.parameters||[];this.Aq=[];this.bW=this.uh.Y||this.Dj.Y||this.xm.Y||this.zm.Y||this.ym.Y;this.bJ=this.cJ=!1;this.zq.aO();this.XK.aO();this.Afa.cF(0);this.ct.cF(1);this.zfa.cF(2);this.bL.Hg(0,0);this.aL.Hg(1,1);this.eL.Mo(0);this.cL.Hg(0,0);this.dL.Hg(0,0);this.Zn.Hg(0,0);this.Yn.Hg(1,
1);this.Dj.Hg(0,0);this.xm.Hg(0,0);this.zm.Hg(0,0);this.ym.Hg(0,0);this.uh.Hg(0,0);this.$n.Mo(1);this.bo.Mo(1);this.ao.Mo(0);this.fo.Mo(0);this.eo.Hg(0,0);this.co.Hg(0,0);this.$K.Mo(1);for(const l of a)a=l[2],b=new d.K.nc(this,l[0],a),"color"===a?b.R1():b.Mo(0),this.Aq.push(b);this.PB?this.tT(m.Mx):(this.bA(m.Mx,!0),this.aA(m.sD,!0));m=m.Ai;g.useProgram(m?m.ld:null)}m(){this.U.deleteProgram(this.ld);this.ld=null;this.wa.Uba(this);this.U=null;super.m()}Xf(){return this.ld}ez(a){return this.Aq[a].ek()}bY(a){for(let b=
0,e=a.length;b<e;++b)if(!this.Aq[b].O2(a[b]))return!1;return!0}X5(a){for(let b=0,e=a.length;b<e;++b)this.Aq[b].R5(a[b])}cY(a,b,e,c,g,m,h,l,n,p){return this.ct.Y||this.uh.Y&&!this.uh.yl(g,m)||this.Zn.Y&&!this.Zn.yl(a.Z,a.V)||this.Yn.Y&&!this.Yn.yl(a.la,a.ga)||this.$n.Y&&!this.$n.Cz(h)||this.bo.Y&&!this.bo.Cz(l)||this.ao.Y&&!this.ao.Cz(n)||this.Dj.Y&&!this.Dj.yl(b.Z,b.V)||this.xm.Y&&!this.xm.yl(b.la,b.ga)||this.zm.Y&&!this.zm.yl(e.Z,e.V)||this.ym.Y&&!this.ym.yl(e.la,e.ga)||this.eo.Y&&!this.eo.yl(c.Z,
c.V)||this.co.Y&&!this.co.yl(c.V,c.ga)||this.fo.Y&&!this.fo.Cz(p)?!1:!0}r6(a,b,e,c,g,m,h,l,n,p){this.ct.Y||(this.uh.Y&&this.uh.Cl(g,m),this.Zn.Y&&this.Zn.Cl(a.Z,a.V),this.Yn.Y&&this.Yn.Cl(a.la,a.ga),this.$n.Y&&this.$n.Rz(h),this.bo.Y&&this.bo.Rz(l),this.ao.Y&&this.ao.Rz(n),this.Dj.Y&&this.Dj.Cl(b.Z,b.V),this.xm.Y&&this.xm.Cl(b.la,b.ga),this.zm.Y&&this.zm.Cl(e.Z,e.V),this.ym.Y&&this.ym.Cl(e.la,e.ga),this.eo.Y&&this.eo.Cl(c.Z,c.V),this.co.Y&&this.co.Cl(c.V,c.ga),this.fo.Y&&this.fo.Rz(p))}bA(a,b){this.cJ&&
!b||this.PB||(this.ZK.Y&&this.ZK.cA(a),this.cJ=!0)}q6(){this.cJ=!1}aA(a,b){this.bJ&&!b||this.PB||(this.YK.Y&&this.YK.cA(a),this.bJ=!0)}p6(){this.bJ=!1}tT(a){if(!this.PB)throw Error("not device transform shader");this.ZK.cA(a);a=this.wa;const b=a.fa()/2,e=a.aa()/2;a=a.Ct(b,e,100*self.devicePixelRatio,b,e);this.YK.cA(a)}t7(a){this.zq.Y&&this.zq.$z(a[0],a[1],a[2],a[3])}static Sy(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,a=self.Lj.Fm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.K.nc=class{constructor(e,c,g){if(!b.has(g))throw Error("invalid uniform type");this.Tb=e;this.U=this.Tb.U;this.Ka=c;this.Ca=g;this.sJ="color"===this.Ca;this.hi=this.U.getUniformLocation(this.Tb.Xf(),c);this.Y=!!this.hi;e=b.get(g);this.Zb=new Float32Array(e);this.vj=new Float32Array(e)}m(){this.hi=this.U=this.Tb=null}ek(){return this.Ca}Mo(e){this.Y&&
(this.Zb[0]=e,this.vj.set(this.Zb),this.U.uniform1f(this.hi,e))}cF(e){this.Y&&(this.Zb[0]=e,this.vj.set(this.Zb),this.U.uniform1i(this.hi,e))}Hg(e,c){this.Y&&(this.Zb[0]=e,this.Zb[1]=c,this.vj.set(this.Zb),this.U.uniform2f(this.hi,e,c))}R1(){this.Y&&(this.Zb[0]=0,this.Zb[1]=0,this.Zb[2]=0,this.vj.set(this.Zb),this.U.uniform3f(this.hi,0,0,0))}aO(){this.Y&&(this.Zb[0]=1,this.Zb[1]=1,this.Zb[2]=1,this.Zb[3]=1,this.vj.set(this.Zb),this.U.uniform4f(this.hi,1,1,1,1))}np(e){e=Math.fround(e);const c=this.Zb;
c[0]!==e&&(c[0]=e,this.U.uniform1f(this.hi,e))}Te(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Zb;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.U.uniform2f(this.hi,e,c)}r7(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const m=this.Zb;if(m[0]!==e||m[1]!==c||m[2]!==g)m[0]=e,m[1]=c,m[2]=g,this.U.uniform3f(this.hi,e,c,g)}$z(e,c,g,m){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Zb;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=e,h[1]=c,h[2]=g,h[3]=m,this.U.uniform4f(this.hi,
e,c,g,m)}cA(e){const c=this.Zb;a.Kj(c,e)||(d.Eha(c,e),this.U.uniformMatrix4fv(this.hi,!1,e))}O2(e){const c=this.vj;return this.sJ?c[0]===Math.fround(e.Ya)&&c[1]===Math.fround(e.Ja)&&c[2]===Math.fround(e.$a):c[0]===Math.fround(e)}R5(e){const c=this.vj;this.sJ?(c[0]=e.Ya,c[1]=e.Ja,c[2]=e.$a):c[0]=e}Cz(e){return this.vj[0]===Math.fround(e)}yl(e,c){const g=this.vj;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}Rz(e){this.vj[0]=e}Cl(e,c){const g=this.vj;g[0]=e;g[1]=c}}}
{"use strict";const d=self.D,a=self.Lj,b=a.hy,e=a.Fm;d.K.kY=class{constructor(c){this.qo=c;this.sD=e.create();this.Mx=e.create();this.Jj=this.Cm=null;this.MW=!1;this.rD=b.Of(1,1,1,1);this.Ai=null;this.ZL=new d.Rect;this.clearColor=d.B(d.eb,0,0,0,0)}};d.K.D7=class{constructor(c){const g=new ArrayBuffer(96);this.Ca=0;this.Fc=c;this.U=c.qo.U;this.Zl=this.Fe=0;this.df=null;this.Hf=new Float32Array(g,0,16);this.Dp=new Float32Array(g,64,4);this.NV=new Float32Array(g,80,4);this.LC=[]}f2(c){this.Ca=1;this.Fe=
c;this.Zl=6}BZ(){const c=this.U;c.drawElements(c.TRIANGLES,this.Zl,c.UNSIGNED_SHORT,this.Fe)}o2(c){this.Ca=2;this.df=c}OZ(){const c=this.U,g=this.df;c.bindTexture(c.TEXTURE_2D,g?g.sb:null)}dF(c){this.Ca=3;c.xh(this.Dp,0)}DZ(){const c=this.Dp,g=this.Fc;b.ta(g.rD,c);g.Ai.t7(c)}HZ(){const c=this.Dp,g=this.Fc.Ai;g.XK.Y&&g.XK.$z(c[0],c[1],c[2],c[3])}g2(c,g){this.Ca=4;this.Fe=c;this.Zl=g}CZ(){this.U.blendFunc(this.Fe,this.Zl)}p2(c,g){this.Ca=5;const m=this.Dp;m[0]=0;m[1]=0;m[2]=c;m[3]=g}QZ(){const c=this.Dp;
this.U.viewport(c[0],c[1],c[2],c[3])}m2(c){this.Ca=6;e.ta(this.Hf,c)}MZ(){const c=this.Fc,g=c.qo.zp,m=c.Ai,h=this.Hf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.bA(h,!0):p.q6()}e.ta(c.Mx,h)}j2(c){this.Ca=7;e.ta(this.Hf,c)}IZ(){const c=this.Fc,g=c.qo.zp,m=c.Ai,h=this.Hf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.aA(h,!0):p.p6()}e.ta(c.sD,h)}n2(c){this.Ca=8;this.df=c}NZ(){const c=this.U,g=this.df,m=this.Fc;g?(m.Cm=g.fh,m.Jj=g.Np,m.MW&&m.Jj?c.bindFramebuffer(c.FRAMEBUFFER,m.Jj):c.bindFramebuffer(c.FRAMEBUFFER,
m.Cm)):(m.Cm=null,m.Jj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}V1(c){this.Ca=9;c.xh(this.Hf,0)}W1(){this.Ca=9;const c=this.Hf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}uZ(){const c=this.U;var g=this.Hf;const m=this.Fc.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.uD(h,l,n,g)||(c.clearColor(h,l,n,g),m.ro(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}JZ(){const c=this.Hf;this.Fc.ZL.set(c[0],c[1],c[2],c[3])}AZ(){const c=this.U,g=this.Fc,m=g.qo.RC;c.useProgram(m.ld);m.bA(g.Mx,!1);m.aA(g.sD,!1);var h=g.ZL;m.bL.Y&&m.bL.Te(h.Z,
h.V);m.aL.Y&&m.aL.Te(h.la,h.ga);h=this.Hf[0];m.eL.Y&&m.eL.np(h);m.zq.Y&&(h=g.rD,m.zq.$z(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.Fe/4,this.Zl);c.useProgram(g.Ai.ld)}k2(c){this.Ca=11;this.df=c}KZ(){var c=this.U;const g=this.Fc,m=this.df;g.Ai=m;c.useProgram(m.ld);m.bA(g.Mx,!1);m.aA(g.sD,!1);m.zq.Y&&(c=g.rD,m.zq.$z(c[0],c[1],c[2],c[3]))}l2(){this.Ca=12}LZ(){const c=this.Fc.Ai;c.nU&&this.q9(c);c.Aq.length&&this.r9(c)}q9(c){const g=this.U,m=this.Hf,h=this.Dp,l=this.NV;if(c.ct.Y){const n=this.Fc.qo,
p=this.df;n.Gn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.sb:null),n.Gn=p,g.activeTexture(g.TEXTURE0))}c.uh.Y&&c.uh.Te(m[0],m[1]);c.Zn.Y&&c.Zn.Te(m[2],m[3]);c.Yn.Y&&c.Yn.Te(m[4],m[5]);c.$n.Y&&c.$n.np(this.Zl);c.bo.Y&&c.bo.np(m[6]);c.ao.Y&&c.ao.np(m[7]);c.Dj.Y&&c.Dj.Te(m[12],m[13]);c.xm.Y&&c.xm.Te(m[14],m[15]);c.zm.Y&&c.zm.Te(l[0],l[1]);c.ym.Y&&c.ym.Te(l[2],l[3]);c.eo.Y&&c.eo.Te(h[0],h[1]);c.co.Y&&c.co.Te(h[2],h[3]);c.fo.Y&&c.fo.np(this.Fe)}r9(c){c=c.Aq;const g=this.LC;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.sJ?l.r7(n.Ya,n.Ja,n.$a):l.np(n)}}b2(c){this.Ca=13;this.df=c}zZ(){const c=this.U,g=this.df,m=this.Fc.Cm;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}S1(c,g){this.Ca=16;var m=this.Hf;const h=this.Fc.qo;m[0]=c.fa();m[1]=c.aa();m[2]=g?g.fa():h.fa();m[3]=g?g.aa():h.aa();m[4]=c.qF()?1:0;m[5]=!0;m=this.LC;d.F(m);m.push(c.fh);m.push(g?g.fh:null)}sZ(){var c=this.Hf,
g=this.LC;const m=this.U;var h=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}r2(c){this.Ca=17;this.df=c}RZ(){this.df.XD();this.df=null}a2(c){this.Ca=18;this.df=c}yZ(){this.df.oE();this.df=
null}GZ(){const c=this.Fc.Ai,g=this.Hf;c.uh.Y&&c.uh.Te(g[0],g[1]);c.$K.Y&&c.$K.np(g[2])}PZ(){const c=this.Fc.Ai,g=this.Hf;c.Dj.Y&&c.Dj.Te(g[0],g[1]);c.uh.Y&&c.uh.Te(g[4],g[5]);c.cL.Y&&c.cL.Te(g[6],g[7]);c.dL.Y&&c.dL.Te(g[8],g[9])}U1(c){this.Ca=21;this.Fe=c?1:0}tZ(){const c=this.U,g=0!==this.Fe;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}h2(c){this.Ca=22;this.Fe=c?1:0}EZ(){const c=this.U;0===this.Fe?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}i2(c){this.Ca=
23;this.Fe=c?1:0}FZ(){const c=this.U,g=this.Fc,m=g.qo,h=0!==this.Fe;g.MW=h;c.activeTexture(c.TEXTURE2);h?(g.Jj&&c.bindFramebuffer(c.FRAMEBUFFER,g.Jj),c.bindTexture(c.TEXTURE_2D,m.bh)):(c.bindTexture(c.TEXTURE_2D,null),g.Jj&&c.bindFramebuffer(c.FRAMEBUFFER,g.Cm));c.activeTexture(c.TEXTURE0)}Z1(){this.Ca=24}xZ(){const c=this.U;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}Y1(){this.Ca=25}wZ(){const c=
this.U;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}X1(){this.Ca=26}vZ(){const c=this.U;c.disable(c.STENCIL_TEST)}ua(){switch(this.Ca){case 1:this.BZ();break;case 2:this.OZ();break;case 3:this.DZ();break;case 4:this.CZ();break;case 5:this.QZ();break;case 6:this.MZ();break;case 7:this.IZ();break;case 8:this.NZ();break;case 9:this.uZ();break;case 10:this.AZ();break;case 11:this.KZ();break;case 12:this.LZ();break;case 13:this.zZ();break;case 14:this.JZ();break;
case 15:this.PZ();break;case 16:this.sZ();break;case 17:this.RZ();break;case 18:this.yZ();break;case 19:this.GZ();break;case 20:this.HZ();break;case 21:this.tZ();break;case 22:this.EZ();break;case 23:this.FZ();break;case 24:this.xZ();break;case 25:this.wZ();break;case 26:this.vZ()}}}}
{"use strict";const d=self.D,a={timeout:60},b=new d.eb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;d.M_&&d.M_.addEventListener("fontload",p=>{p=p.font.Da();for(const q of m)(q.di||d.no(q.qB,p))&&q.zk()});function h(p,q,u,w,r,v){q?"Gecko"===d.Pb.ry?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.Pb.ry?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;d.K.KF=class{constructor(p,q){q=Object.assign({},a,q);this.wa=
p;this.qB="Arial";this.rB=16;this.sB=1;this.cq=0;this.Cf=this.Bf=!1;this.bB="black";this.di=!1;this.VL=null;this.bI=new Set;this.zf="left";this.gf="top";this.xd="";this.Bv=null;this.io=d.B(d.xG);this.mL="word";this.HJ=this.$C=!1;this.kw=!0;this.Gp=-1;this.T=this.W=this.BI=this.$r=this.js=0;this.yi=1;this.wI=!1;this.Jw=this.jm=this.je=this.tq=null;this.QU=this.RU=-1;this.iC=this.SU=this.LJ="";this.MJ=this.NJ=1;this.fV=(u,w)=>this.mS(u,w);this.sb=null;this.ux=this.wx=0;this.pg=new d.Rect;this.Xw=1;
this.fK=!1;this.TK=new d.N1(()=>{this.Ui();this.aT(8,8)},q.timeout);this.ED=null;this.Jx=!1;m.add(this)}m(){this.VL=null;this.bI.clear();this.fV=this.Jw=this.jm=this.je=this.tq=this.Bv=null;this.TK.m();this.ED=null;this.Ui();this.io.Gd();this.wa=this.io=null;this.Jx=!0;m.delete(this)}up(){this.wI=!0}zk(){this.up();this.io.Gd();this.$C=!0}RP(){this.kw=!1}Ig(){return this.kw}Q5(p){p=!!p;this.di!==p&&(p=(this.di=p)?"alphabetic":"top",this.je&&(this.je.textBaseline=p),this.jm&&(this.jm.textBaseline=p),
this.zk())}ZF(p){p||(p="serif");this.qB!==p&&(this.qB=p,this.zk())}Uz(p){.1>p&&(p=.1);this.rB!==p&&(this.rB=p,this.zk())}g6(p){this.sB!==p&&(this.sB=p,this.zk())}VP(p){this.cq!==p&&(this.cq=p,this.up())}CP(p){p=!!p;this.Bf!==p&&(this.Bf=p,this.zk())}TP(p){p=!!p;this.Cf!==p&&(this.Cf=p,this.zk())}XF(p){p=Math.floor(p);this.Gp!==p&&(this.Gp=p,this.up())}bj(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Jr(p,q){return!!this.bj(p,q)}yR(p,q){let u=[];(this.Bf||this.Jr(q,
"b"))&&u.push("bold");(this.Cf||this.Jr(q,"i"))&&u.push("italic");var w=this.bj(q,"size");w=(w?parseFloat(w.Ci):this.rB)*this.sB;p?u.push(w+"pt"):u.push(w*this.Xw*this.yi*self.devicePixelRatio+"pt");p=this.qB;(q=this.bj(q,"font"))&&q.Ci&&(p=q.Ci,this.VL&&!this.bI.has(p)&&(this.VL(p),this.bI.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}dn(p){p instanceof d.eb&&(p=p.oga());this.bB!==p&&(this.bB=p,this.up())}EP(p,q,u){b.ut(p,q,u);this.dn(b)}NP(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.zf!==p&&(this.zf=p,this.up())}iQ(p){if(!c.has(p))throw Error("invalid vertical alignment");this.gf!==p&&(this.gf=p,this.up())}O6(p){if(!g.has(p))throw Error("invalid word wrap mode");this.mL!==p&&(this.mL=p,this.zk())}Lu(p){this.xd!==p&&(this.xd=p,this.zk())}ud(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.$r===p&&this.BI===q&&this.yi===u)){1===this.yi!==(1===u)&&(this.fK=!0);var w=this.$r,r=this.yi;this.$r=p;this.BI=q;this.yi=u;p=self.devicePixelRatio;this.W=this.$r*this.yi*p;this.T=
this.BI*this.yi*p;p=Math.max(this.W,this.T);q=Math.min(this.wa.sC,2048);u=1;p>q&&(u=q/p,this.W=Math.min(this.W*u,q),this.T=Math.min(this.T*u,q));this.Xw=u;0<this.wx&&0<this.ux&&this.yi===r&&this.pg.set(0,0,this.W/this.wx,this.T/this.ux);this.$r!==w?this.zk():this.up()}}fa(){return this.W}aa(){return this.T}a1(){this.jH();return this.io.J0()}$0(){this.jH();return this.io.d1()+this.io.Hn.length*(this.cq+4)-this.cq}oe(){this.TK.sd();this.Aaa();return this.sb}Aaa(){this.sb&&!this.wI&&!this.$C||this.HJ||
0>=this.W||0>=this.T||(this.wI=!1,this.HJ=!0,this.kw?d.gl(()=>this.gR()):this.gR())}gR(){this.Jx||(this.aT(Math.ceil(this.W),Math.ceil(this.T)),this.jH(),this.G9(),this.Tda(),this.TK.sd(),this.HJ=!1)}aT(p,q){this.tq||(this.tq=d.zh(16,16));let u=!1;if(this.RU!==p||this.QU!==q)this.RU=p,this.QU=q,this.tq.width=p,this.tq.height=q,u=!0;this.je||(this.je=this.tq.getContext("2d"),u=!0);u?(this.je.textBaseline=this.di?"alphabetic":"top",this.je.font=this.LJ,this.je.fillStyle=this.iC,this.je.strokeStyle=
this.iC,this.je.globalAlpha=this.NJ,this.je.lineWidth=this.MJ):this.je.clearRect(0,0,p,q)}eS(){this.jm||(this.jm=d.zh(16,16).getContext("2d"),this.Jw=d.zh(16,16).getContext("2d"),this.jm.textBaseline=this.di?"alphabetic":"top",this.Jw.textBaseline="top")}kda(p){this.SU!==p&&(this.SU=p,this.jm.font=p,this.Jw.font=p)}kT(){if(!l){l=!0;this.eS();const p=this.jm.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}jH(){this.$C&&(this.eS(),
!this.di||this.Bv&&this.Bv.toString()===this.xd||(this.Bv=new d.Lm(this.xd,{Sga:!0})),this.io.xG(this.di?this.Bv.wha():this.xd,this.fV,this.$r,this.mL,0),this.$C=!1)}mS(p,q){this.kda(this.yR(!0,q));q=this.bj(q,"size");q=(q?parseFloat(q.Ci):this.rB)*this.sB;const u=this.jm.measureText(p);let w=0;this.di&&this.kT()&&(w=u.fontBoundingBoxAscent-this.Jw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Bg:u.fontBoundingBoxAscent||0,Nf:u.fontBoundingBoxDescent||0,Qf:w}}Tca(p){this.LJ!==
p&&(this.LJ=p,this.je.font=p)}zA(p){this.iC!==p&&(this.iC=p,this.je.fillStyle=p,this.je.strokeStyle=p)}Sca(p){this.NJ!==p&&(this.NJ=p,this.je.globalAlpha=p)}US(p){this.MJ!==p&&(this.MJ=p,this.je.lineWidth=p)}G9(){this.js=0;const p=this.Xw*this.yi*self.devicePixelRatio,q=(4+this.cq)*p;var u=0;const w=this.io.Hn;if(0!==w.length){var r=this.di&&this.kT(),v=w[0].height*p;"center"===this.gf?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.T/2-u/2,0),r&&(v=w[0].Qf*p)):"bottom"===this.gf&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.cq*p,u=this.T-u-(r?w.me(-1).Nf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.di){if(u+=0===y?v:G,0<y&&u>this.T-4*p)break}else if(0<y&&u>=this.T-G)break;0<=z&&this.F9(r,u,p);this.di||(u+=G);u+=q}}}F9(p,q,u){let w=0;"center"===this.zf?w=(this.W-p.width*u)/2:"right"===this.zf&&(w=this.W-p.width*u);for(const r of p.FW)this.E9(r,w,q,u,p.height),w+=r.width*u}E9(p,q,u,w,r){const v=this.je;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.cq)*w,F=p.Bd,H=p.text;if(-1!==this.Gp){if(this.js>=this.Gp)return;this.js+H.length>this.Gp&&(H=H.substr(0,this.Gp-this.js),r=this.mS(H,F).width*w);this.js+=H.length}var J=this.bj(F,"background"),L=this.Jr(F,"u");p=this.Jr(F,"s");if((!d.vF(H)||J||L||p)&&!this.Jr(F,"hide")){var P=this.bj(F,"offsetx");q+=P?parseFloat(P.Ci)*w:0;P=this.bj(F,"offsety");u+=P?parseFloat(P.Ci)*w:0;J&&(this.zA(J.Ci),v.fillRect(q,u-A,r,A+z));P=this.bj(F,"color");this.zA(P?P.Ci:this.bB);z=this.bj(F,"opacity");this.Sca(z?
parseFloat(z.Ci)/100:1);z=(z=this.bj(F,"linethickness"))?parseFloat(z.Ci):1;(J=this.Jr(F,"stroke"))&&this.US(.5*G*z*this.Xw*this.yi*self.devicePixelRatio);this.Tca(this.yR(!1,F));h(v,J,H,q,u,r);!J&&(this.US(.5*G*z*this.Xw*this.yi*self.devicePixelRatio),F=this.bj(F,"outline"))&&(this.zA(F.Ci),h(v,!0,H,q,u,r));this.zA(P?P.Ci:this.bB);L&&(F=q,H=u+w*y,L=r,y=w*y*z,J?v.strokeRect(F,H,L,y):v.fillRect(F,H,L,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Tda(){this.wa.Oo()||(this.wx=Math.ceil(this.W),
this.ux=Math.ceil(this.T),this.pg.set(0,0,this.W/this.wx,this.T/this.ux),this.fK&&(this.Ui(),this.fK=!1),this.sb||(this.sb=this.wa.RM(this.wx,this.ux,{DD:1===this.yi,Zx:"high"})),this.wa.w7(this.tq,this.sb),this.ED&&this.ED())}dk(){return this.pg}Ui(){this.sb&&(this.wa.Oo()||this.wa.Pj(this.sb),this.sb=null)}static Al(){for(const p of m)p.Ui()}}}
{"use strict";const d=self.D;class a{constructor(b){this.U=b.U;this.nd=b.nd;this.Pd=b.Pd;this.ni=null;this.bw=this.Lb=!1;this.IC=0;this.ni=1===this.nd?this.Pd.createQueryEXT():this.U.createQuery()}m(){this.bR();this.Pd=this.U=null;this.bw=!1}bR(){this.ni&&(1===this.nd?this.Pd.deleteQueryEXT(this.ni):this.U.deleteQuery(this.ni),this.ni=null)}XD(){if(this.Lb)throw Error("query already active");1===this.nd?this.Pd.beginQueryEXT(this.Pd.TIME_ELAPSED_EXT,this.ni):this.U.beginQuery(this.Pd.TIME_ELAPSED_EXT,
this.ni);this.Lb=!0}oE(){if(!this.Lb)throw Error("query not active");1===this.nd?this.Pd.endQueryEXT(this.Pd.TIME_ELAPSED_EXT):this.U.endQuery(this.Pd.TIME_ELAPSED_EXT);this.Lb=!1}eE(){if(this.ni&&!this.bw&&!this.Lb){var b=1===this.nd?this.Pd.getQueryObjectEXT(this.ni,this.Pd.QUERY_RESULT_AVAILABLE_EXT):this.U.getQueryParameter(this.ni,this.U.QUERY_RESULT_AVAILABLE);var e=this.U.getParameter(this.Pd.GPU_DISJOINT_EXT);b&&!e&&(this.IC=1===this.nd?this.Pd.getQueryObjectEXT(this.ni,this.Pd.QUERY_RESULT_EXT):
this.U.getQueryParameter(this.ni,this.U.QUERY_RESULT),this.IC/=1E9,this.bw=!0);(b||e)&&this.bR()}}sz(){return this.bw}kz(){if(!this.bw)throw Error("no result available");return this.IC}}d.K.F7=class{constructor(b){this.wa=b;this.bi=b.bi;this.Lb=!1;this.Ln=null;this.Dn=!1;this.Ls=null;this.kq=[]}m(){for(const b of this.kq)b instanceof a&&b.m();d.F(this.kq);this.wa=this.Ls=this.Ln=null}XD(){if(this.Lb)throw Error("query already active");const b=this.wa.TV;0<b.length?(this.Dn=!0,this.Ln=b.me(-1),this.Ln.lR(),
this.Ln.kq.push(this)):(this.Dn=!1,this.Ln=null);this.Lb=!0;b.push(this);this.hT()}oE(){if(!this.Lb)throw Error("query not active");if(this.wa.TV.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.lR();this.Ln&&(this.Ln.hT(),this.Ln=null)}hT(){this.Ls=d.B(a,this.wa);this.kq.push(this.Ls);this.Ls.XD()}lR(){this.Ls.oE();this.Ls=null}eE(){for(const b of this.kq)b.eE()}sz(){return this.kq.every(b=>b.sz())}kz(){return this.kq.reduce((b,e)=>b+e.kz(),0)}}}
{"use strict";const d=self.D;d.K.CQ=class{constructor(a,b=1E3){this.wa=a;this.cfa=b;this.Dk=[];this.wa.a8(this)}m(){this.Gd();this.wa.Tba(this);this.wa=null}Gd(){for(const a of this.Dk)a.m();d.F(this.Dk)}VD(){const a=new d.K.F7(this.wa);this.Dk.push(a);this.Dk.length>this.cfa&&this.Dk.shift().m();return a}DY(a){for(const b of this.Dk){if(b.bi>=a)break;if(b.Dn)break;b.eE()}}zN(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Dk){if(c.bi>=b)break;if(!(c.bi<a))if(c.sz())e+=c.kz();else return NaN}return e}XM(a){for(let b=
0,e=this.Dk.length;b<e;++b){const c=this.Dk[b];if(c.bi<a)c.m();else{0<b&&this.Dk.splice(0,b);break}}}}}
{"use strict";const d=self.D,a=self.Lj,b=a.hy,e=a.Fm,c={powerPreference:"default",EW:!0,alpha:!1,PL:!1,depth:!1,uL:!1,TW:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new d.Kd(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),n=new d.Kd,p=new d.Rect;let q=null;d.Tx&&(self.$ra=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.asa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Pfa()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.K.E7=class extends d.K.m5{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.PL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.TW&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.U=G;this.zT=G.getContextAttributes();y.PL&&!this.zT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.nd=z;this.wg=b.create();this.yn=!1;this.iI=e.create();this.Bm=!!y.depth;this.Gv=!(!y.depth||!y.uL);this.Up=this.Bm;this.tJ=!1;this.bh=null;this.rJ=!0;this.LT=this.MT=0;this.CC=this.yU=this.ZC=this.lD=null;this.Gx=
new Float32Array(24E3);this.zU=new Uint16Array(12E3);this.sq=new Float32Array(16E3);this.sV=new Float32Array(32E3);this.TU=this.DC=this.Ge=this.xi=0;this.pq=this.aq=null;this.Av=[];this.vc=this.sn=0;this.de=null;this.Fc=d.B(d.K.kY,this);this.Bw=d.B(d.eb,1,1,1,1);this.Gn=this.hm=null;this.IJ=this.KJ=0;this.Yea=new d.Rect;this.sC=-1;this.aK=0;this.dt="(unavailable)";this.xJ=!1;this.Qv=this.uv=this.nK=null;this.$J=0;this.Vea=!!y.EW;this.Pd=null;this.LA=new Set;this.TV=[];this.H_(this.zU)}zl(){return!0}async wz(){super.wz();
var v=this.U;this.Bw.ro(1,1,1,1);this.Gn=this.hm=null;this.DC=this.xi=0;this.TU=23988;d.F(this.Av);this.vc=this.sn=0;this.de=this.aq=null;this.Yea.set(0,0,1,1);var y=this.Fc;y.Ai=null;y.Cm=null;y.Jj=null;b.set(y.rD,1,1,1,1);y.clearColor.ro(0,0,0,0);y.ZL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.KJ=v.ONE;this.IJ=v.ONE_MINUS_SRC_ALPHA;this.E$(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Bm?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Up=this.Bm;this.tJ=!1;this.CC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.CC);v.bufferData(v.ARRAY_BUFFER,this.sV.byteLength,v.DYNAMIC_DRAW);this.lD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.lD);v.bufferData(v.ARRAY_BUFFER,this.Gx.byteLength,v.DYNAMIC_DRAW);this.ZC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.ZC);v.bufferData(v.ARRAY_BUFFER,this.sq.byteLength,v.DYNAMIC_DRAW);
this.yU=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.yU);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.zU,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.sC=v.getParameter(v.MAX_TEXTURE_SIZE);this.aK=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.aK&&(this.aK=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.dt=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.nK=v.getExtension("KHR_parallel_shader_compile");
d.Tx&&(q=v.getExtension("WEBGL_lose_context"));if(this.Vea)if(1===this.nd){if("Chromium"!==d.Pb.ry||81<=d.Pb.ZD||"undefined"!==typeof document)this.Pd=v.getExtension("EXT_disjoint_timer_query")}else this.Pd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.$J=(this.uv=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.uv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.nd&&this.Bm&&this.Gv&&(this.Qv=v.getExtension("WEBGL_depth_texture"),
!this.Qv))throw Error("no depth texture support");v=d.K.Qu;y=v.Sy(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Sy(!0),"<tilemap>"]].map(A=>this.jE({src:A[0]},A[1],A[2])));this.SC=v[0];this.pq=v[1];this.RC=v[2];this.GK=v[3];this.rk()}async jE(v,y,A){v=await d.K.Qu.Ta(this,v,y,A);this.b8(v);return v}s5(){this.aq=null}ud(v,y,A){if(this.W!==v||this.T!==y||A){this.Qj();A=this.U;var G=this.Fc;this.W=v;this.T=y;this.eT(v,y);this.Jq(this.iI,v/y);this.ip(this.iI);this.pq&&(A.useProgram(this.pq.Xf()),this.pq.tT(this.rC),this.aq=this.pq,this.Fc.Ai=this.pq);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Gn=this.hm=null;this.Bm&&this.rJ&&this.yH(this.W,this.T);this.de&&this.de.DS(this.W,this.T);A.bindFramebuffer(A.FRAMEBUFFER,null);this.de=null;G.Cm=null;G.Jj=null}}yH(v,y){const A=this.U;this.bh&&this.MT===v&&this.LT===y||(this.Gv?(this.bh&&A.deleteTexture(this.bh),this.bh=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.bh),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.nd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Qv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Qv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.bh&&A.deleteRenderbuffer(this.bh),this.bh=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.bh),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.nd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.MT=v,this.LT=y)}f6(v,y){this.Bm&&(this.rJ=!1,this.yH(v,y))}P5(){this.Bm&&(this.rJ=!0,this.yH(this.W,this.T))}eT(v,y){const A=this.wg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Mc().p2(v,y),b.set(A,0,0,v,y),this.vc=0}ip(v){e.Kj(this.rC,v)||(this.Mc().m2(v),e.ta(this.rC,v),this.vc=0,this.yn=!0)}HP(){let v,y;var A=this.de;null===A?(v=this.iI,y=this.fa(),A=this.aa()):
(v=A.Qk,y=A.fa(),A=A.aa());this.ip(v);this.eT(y,A)}yr(v){e.Kj(this.ZJ,v)||(this.Mc().j2(v),e.ta(this.ZJ,v),this.vc=0,this.yn=!0)}q5(){this.yn=!1}Mc(){const v=this.Av;this.sn===v.length&&v.push(new d.K.D7(this.Fc));return v[this.sn++]}Qj(){0===this.sn||this.Oo()||(this.bea(),this.J9(),this.vc=this.DC=this.Ge=this.xi=this.sn=0)}bea(){const v=this.U;0<this.DC&&(v.bindBuffer(v.ARRAY_BUFFER,this.CC),v.bufferSubData(v.ARRAY_BUFFER,0,this.sV.subarray(0,this.DC)));0<this.xi&&(v.bindBuffer(v.ARRAY_BUFFER,
this.lD),v.bufferSubData(v.ARRAY_BUFFER,0,this.Gx.subarray(0,this.xi)),v.bindBuffer(v.ARRAY_BUFFER,this.ZC),v.bufferSubData(v.ARRAY_BUFFER,0,this.sq.subarray(0,this.Ge)))}J9(){const v=this.Av;for(let y=0,A=this.sn;y<A;++y)v[y].ua()}Oe(){return this.Bw.Za}wf(v,y,A,G){const z=this.Bw;z.uD(v,y,A,G)||(z.ro(v,y,A,G),this.Mc().dF(z),this.vc=0,this.lj=null)}El(v){const y=this.Bw;y.Za!==v&&(y.qt(v),this.Mc().dF(y),this.vc=0,this.lj=null)}dn(v){const y=this.Bw;y.Ad(v)||(y.set(v),this.Mc().dF(y),this.vc=0,
this.lj=null)}wu(){this.wf(1,1,1,1)}eg(v){v!==this.hm&&(this.Mc().o2(v),this.hm=v,this.vc=0)}qH(){this.hm=null}bg(v){v=this.c$(v);this.xH(v[0],v[1])}xH(v,y){if(v!==this.KJ||y!==this.IJ)this.Mc().g2(v,y),this.KJ=v,this.IJ=y,this.vc=0,this.lj=null}BP(){this.xH(this.U.ONE,this.U.ONE_MINUS_SRC_ALPHA)}WF(){this.xH(this.U.ONE,this.U.ZERO)}Rect(v){this.fP(v.Z,v.V,v.la,v.ga)}fP(v,y,A,G){this.V4(v,y,A,y,A,G,v,G)}Vu(){let v=this.xi;v>=this.TU&&(this.Qj(),v=0);1===this.vc?this.Av[this.sn-1].Zl+=6:(this.Mc().f2(v),
this.vc=1)}PH(v){v.Hha(this.Gx,this.xi,this.yv+this.Pv);this.xi+=12}Kd(v){this.Vu();this.PH(v);m.xh(this.sq,this.Ge);this.Ge+=8}V4(v,y,A,G,z,F,H,J){this.Vu();const L=this.Gx;let P=this.xi;const R=this.yv+this.Pv;L[P++]=v;L[P++]=y;L[P++]=R;L[P++]=A;L[P++]=G;L[P++]=R;L[P++]=z;L[P++]=F;L[P++]=R;L[P++]=H;L[P++]=J;L[P++]=R;this.xi=P;m.xh(this.sq,this.Ge);this.Ge+=8}kr(v,y){this.Vu();this.PH(v);y.Gha(this.sq,this.Ge);this.Ge+=8}W4(v,y){this.Vu();this.PH(v);y.xh(this.sq,this.Ge);this.Ge+=8}Kz(v,y,A,G,z,
F,H,J,L,P,R,T,Z){this.Vu();const X=this.Gx;let ba=this.xi;const Y=this.yv+this.Pv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+L;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.xi=ba;Z.xh(this.sq,this.Ge);this.Ge+=8}O_(v,y){e.ta(h,this.rC);e.ta(l,this.ZJ);this.HP();const [A,G]=this.jz(this.de);var z=this.Ct(0,0,100*self.devicePixelRatio,0,0,G);this.yr(z);if("crop"===v&&this.de&&y){v=this.W/2;z=this.T/2;const J=y.fa();y=y.aa();var F=this.de.fa(),H=this.de.aa();
F=Math.min(F,J);const L=Math.min(H,y),P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-L-H);n.Nj(p);p.set(0,P,F,L+P);p.Dm(J,y);this.kr(n,p)}else v=A/2,z=G/2,this.fP(-v,z,v,-z);this.ip(h);this.yr(l)}Cr(v){this.aq!==v&&(this.Mc().k2(v),this.aq=v,this.vc=0,this.lj=null)}bQ(v,y,A,G,z,F,H,J,L,P,R,T){const Z=this.aq;var X=Z.nU;const ba=!!T.length;if(X&&!Z.cY(y,A,G,z,F,H,J,L,P,R)||ba&&!Z.bY(T)){var Y=this.Mc();Y.l2();X&&(Z.r6(y,A,G,z,F,H,J,L,P,R),X=Y.Hf,X[0]=F,X[1]=H,y.xh(X,2),X[6]=L,X[7]=P,A.xh(X,
12),y=Y.Dp,z.xh(y,0),z=y[1],y[1]=y[3],y[3]=z,G.xh(Y.NV,0),Y.Fe=R,Y.Zl=J,Y.df=Z.ct.Y?v?v.oe():null:null);ba&&(Z.X5(T),d.Xc(Y.LC,T));this.vc=0}}wo(){this.Mc().W1();this.vc=0}Gd(v){this.Mc().V1(v);this.vc=0}Nu(){}Kt(){super.Kt();this.U.flush()}EY(){this.Bm&&this.de&&this.de.ed&&(this.Mc().U1(this.Up),this.vc=0)}Ng(v){v=!!v;this.Up!==v&&this.Bm&&(this.Up=v,this.Mc().h2(v),this.vc=0)}Bu(v){v=!!v;if(this.Gv&&this.tJ!==v){if(v&&this.Up)throw Error("depth still enabled");this.tJ=v;this.Mc().i2(v);this.vc=
0}}CY(){for(const v of this.LA)v.DY(this.bi)}Oo(){return!this.U||this.U.isContextLost()||this.xJ}Al(){super.Q3();d.K.eA.Al();d.K.DQ.Al();d.K.KF.Al();for(const v of this.LA)v.Gd();this.Qv=this.uv=this.nK=this.Pd=null;this.$J=0;this.dt="(unavailable)";this.bh=this.pq=this.aq=null;for(const v of this.qx.values())v.Al()}async AF(){this.xJ=!0;await this.wz();this.xJ=!1;for(const v of this.qx.values())v.AF(this);this.ud(this.W,this.T,!0)}By(v,y){if(this.Oo())throw Error("context lost");this.Qj();const A=
d.B(d.K.eA,this);A.J8(v,y);return A}Cy(v,y){if(this.Oo())return Promise.reject("context lost");y=Object.assign({},y);const A=y.OD&&"clamp-to-edge"!==y.OD||y.PD&&"clamp-to-edge"!==y.PD;if(!d.mc.ImageBitmapOptions||!this.lp()&&A)return d.mc.ImageBitmap?createImageBitmap(v).then(G=>d.gl(()=>this.By(G,y))):v instanceof Blob?d.qY(v).then(G=>this.Cy(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.gl(()=>this.By(v,y))):d.gl(()=>
this.By(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>d.gl(()=>this.By(G,y)))}RM(v,y,A){this.Qj();const G=d.B(d.K.eA,this);G.w8(v,y,A);return G}w7(v,y){this.Qj();y.oT(v,void 0)}Pj(v){v&&(v.d7(),0<v.Uc||(this.Qj(),v===this.hm&&(this.U.bindTexture(this.U.TEXTURE_2D,null),this.hm=null),v===this.Gn&&(this.U.activeTexture(this.U.TEXTURE1),this.U.bindTexture(this.U.TEXTURE_2D,null),this.U.activeTexture(this.U.TEXTURE0),this.Gn=null),v.MG()))}eZ(v){let y=
this.W,A=this.T,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Qj();const z=d.B(d.K.DQ,this);z.v8(y,A,Object.assign({LW:G},v));this.de=null;this.Fc.Cm=null;this.Fc.Jj=null;return z}Og(v,y=!0){v!==this.de&&(v&&v.OB&&v.DS(this.W,this.T),this.Mc().n2(v),this.de=v,this.vc=0,y&&this.HP())}ql(){return this.de}jz(v){return v?[v.fa(),v.aa()]:[this.W,this.T]}OM(v){2>this.nd||this.de&&0<this.de.km?(this.WF(),
this.wu(),this.Jy(v,"stretch")):(this.Mc().S1(v,this.de),this.vc=0)}Jy(v,y="stretch"){v=v.oe();if(!v)throw Error("not a texture-backed render target");this.eg(v);this.O_(y,v)}br(v){2>this.nd||(this.Mc().b2(v.fh),this.vc=0)}qZ(v){this.Og(null);this.Qj();const y=v.oe();y===this.hm&&(this.U.bindTexture(this.U.TEXTURE_2D,null),this.hm=null);y===this.Gn&&(this.U.activeTexture(this.U.TEXTURE1),this.U.bindTexture(this.U.TEXTURE_2D,null),this.U.activeTexture(this.U.TEXTURE0),this.Gn=null);v.MG()}NM(){this.Ng(!0);
this.Mc().Z1();this.vc=0}MM(){this.Ng(!1);this.Mc().Y1();this.vc=0}LM(){this.Ng(!0);this.Mc().X1();this.vc=0}qG(v){this.sk()&&(this.Mc().r2(v),this.vc=0)}nE(v){this.sk()&&(this.Mc().a2(v),this.vc=0)}Yda(v){const y=new Promise(A=>u.add({resolve:A,Pfa:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}D2(){return!!this.zT.desynchronized}f0(){let v=0;for(const y of d.K.eA.Gfa())v+=y.BE();return v}lp(){return 2<=this.nd}sk(){return!!this.Pd}a8(v){this.LA.add(v)}Tba(v){this.LA.delete(v)}E$(v){this.D$([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={GW:null,HW:null,eX:null,getTime:null,dX:null};self.D.K.v_=class{constructor(a){a=Object.assign({},d,a);this.FT=a.GW;this.wea=a.HW;this.zea=a.eX;this.xea=a.getTime;this.yea=a.dX}tN(a){return this.FT?this.FT(a):[a.fa(),a.aa()]}ql(a){return this.wea(a)}d5(a,b){this.zea(a,b)}Fa(){return this.xea()}Mz(a){this.yea(a)}}}
{"use strict";const d=self.D,a=self.Lj.Fm,b=d.B(d.Rect),e=d.B(d.Rect),c=d.B(d.Rect),g=d.B(d.Rect),m=a.create(),h=a.create(),l={tD:null,IW:null,yD:null,KL:!1},n={it:null,wD:!1,BL:!1,LL:!1,PW:!1,NW:!1,LD:!1},p={pD:null,Ura:null,ko:0,devicePixelRatio:1,Ux:1,BD:0,nt:null,Px:null,BW:null,uW:0,vW:0,yX:!1};d.K.Je=class{constructor(q,u){u=Object.assign({},l,u);this.jh=q;this.tI=u.tD;this.Iv=u.IW;this.GT=u.yD;this.YA=null;this.MC=[];this.$w=[];this.rq=[];this.Yg=0;this.et=this.Hv=this.NT=this.yn=this.MB=this.qJ=
!1;this.fq=0;this.qm=[null,null,null];this.EU=!!u.KL;this.fd=this.wd=this.Ev=this.Dv=0;this.xn=null;this.Cw=d.B(d.Rect);this.Vl=d.B(d.Rect);this.pm=d.B(d.Rect);this.Ks=d.B(d.Rect);this.Qn=d.B(d.Rect);this.PJ=this.es=1;this.jc=this.OJ=0;this.hB=null;this.zI=this.yI=0;this.fL=!1;this.Qk=a.create();this.Lw=a.create()}m(){d.F(this.rq);d.F(this.MC);d.F(this.$w);this.GT=this.Iv=this.tI=this.xn=null}$D(q,u){u=Object.assign({},n,u);d.F(this.rq);this.Ev=this.Dv=0;this.MB=this.qJ=!1;this.fq=0;this.et=!!u.LD;
d.Xc(this.MC,q);if(0!==q.length){if(u.it){if(u.it.length!==q.length)throw Error("incorrect indexMap length");d.Xc(this.$w,u.it)}else{d.F(this.$w);for(let v=0,y=q.length;v<y;++v)this.$w.push(v)}for(var w of q)this.Dv+=w.XT,this.Ev+=w.YT,w.hea&&(this.qJ=!0),w.hD&&(this.MB=!0);!(w=1!==q.length||q[0].oI||q[0].KT)&&(w=!u.LD)&&(w=q[0],w=0!==w.XT||0!==w.YT);if(w||u.wD||q[0].ir()||u.BL||u.LL||!this.et&&q[0].hD){this.Hv=!1;w=this.yda(q[0],u);u=this.xda(q.me(-1),u);var r=0;w&&(this.fq=1,this.rq.push(d.B(d.K.Je.fg.L4,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.fq=Math.max(this.fq,q),this.rq.push(d.B(d.K.Je.fg.yM,this,r,q,v)),r=q):(this.fq=1,this.rq.push(d.B(d.K.Je.fg.L_,this,-1,1,v)),r=1);u&&this.rq.push(d.B(d.K.Je.fg.I4,this,r,0))}else this.Hv=!0}}yda(q,u){return u.wD||u.LL||!this.et&&q.hD||q.ir()||q.oI&&(u.NW||q.lb().zl()&&u.PW)||0!==this.Dv||0!==this.Ev}xda(q,u){return u.BL||q.oI||q.KT}cp(q,u,w){w=Object.assign({},p,w);this.hB=u;this.xn=w.pD;this.Yg=w.ko;this.es=
w.devicePixelRatio;this.PJ=w.Ux;this.OJ=w.BD;this.jc=this.jh.Fa();this.yn=!1;q.q5();this.qJ&&this.Eba();if(this.Hv)this.Wba(q,w);else{var [r,v]=this.jh.tN(q);this.Uca(q,r,v);this.o8(w);q.wu();q.rr(0);q.Au(0);this.YA=w.BW;this.yI=w.uW||0;this.zI=w.vW||0;this.fL=!!w.yX;this.Oaa(q);this.qm[0]=u;this.qm[1]=1<=this.fq?this.FR():null;this.qm[2]=2===this.fq?this.FR():null;for(const y of this.rq)y.xu(q,this.GR(y.ufa),this.GR(y.OT));this.qm[1]&&this.yS(this.qm[1]);this.qm[2]&&this.yS(this.qm[2]);this.qm.fill(null);
this.Laa(q);this.YA=this.xn=this.hB=null}}Uca(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.wd===u&&this.fd===w||this.PQ(q,u,w,0,0,this.Qk,this.Lw);this.wd=u;this.fd=w}PQ(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.Jq(y,u/w);q=q.Ct(r,v,100*self.devicePixelRatio,r,v,w);a.ta(A,q)}o8(q){this.Cw.ta(q.nt);q.Px?this.Vl.ta(q.Px):this.Vl.set(0,0,this.wd,this.fd);this.pm.ta(this.Vl);this.pm.Dm(this.wd,this.fd);q=q.Ux*q.devicePixelRatio;this.Vl.HL(this.Dv*q,this.Ev*q);this.Qn.ta(this.Vl);this.Qn.Dm(this.wd,
this.fd);this.Vl.ia(0,0,this.wd,this.fd);this.Ks.ta(this.Vl);this.Ks.Dm(this.wd,this.fd)}Oaa(q){this.NT=q.Up;this.et&&(q.Ng(!1),this.MB&&q.Bu(!0))}Kaa(q){q.wu();this.et||(q.Ng(!1),this.MB&&q.Bu(!0))}Laa(q){q.Bu(!1);q.Ng(this.NT);this.yn=q.yn}SQ(){this.Qn.ia(0,0,1,1)}GR(q){return 0>q?null:this.qm[q]}FR(){return this.jh.ql(this)}yS(q){this.jh.d5(q,this)}s$(q){return this.MC[q]}PG(q){this.YA?this.YA(this,q,()=>this.tI(q,this)):this.tI(q,this);this.Hv||this.Kaa(q)}U$(q){if(this.et)return!0;if(0!==this.yI||
0!==this.zI)return!1;const [u,w]=q.jz(q.ql());return u!==this.wd||w!==this.fd?!1:!0}TS(q,u){let w=this.Qk,r=this.Lw;if(u&&!this.U$(q)){w=m;r=h;const [v,y]=q.jz(q.ql());this.PQ(q,v,y,this.yI,this.zI,w,r)}q.ip(w);q.yr(r)}Eba(){this.jh.Mz(this)}LR(q){return this.GT(this.$w[q])}lda(q,u){let w=this.Qn,r=this.Ks,v=this.pm;q.zl()&&(e.ta(w),e.oo(),w=e,c.ta(r),c.oo(),r=c,g.ta(v),g.oo(),v=g);this.fR(q,u,r,v,w,1/this.wd,1/this.fd)}Vca(q,u){let w=this.Ks,r=this.pm,v=1/this.wd,y=1/this.fd;if(this.Iv){let {qX:G,
rX:z,pX:F}=this.Iv(this.xn);G||(b.set(0,0,0,0),G=b);z||(z=this.wd);F||(F=this.fd);r=w=G;v=1/z;y=1/F}else q.zl()&&(c.ta(w),c.oo(),w=c,g.ta(r),g.oo(),r=g);let A=this.Qn;q.zl()&&(A=e,A.ta(this.Qn),A.oo());this.fR(q,u,w,r,A,v,y)}fR(q,u,w,r,v,y,A){u=this.LR(u);q.bQ(this.hB,v,w,r,this.Cw,y,A,this.es,this.PJ,this.OJ,this.jc,u)}Wba(q,u){var w=this.MC[0];const r=q.Up,v=w.hD;v&&(q.Ng(!1),q.Bu(!0),this.Qn.set(0,0,1,1),this.pm.set(0,0,1,1));q.Cr(w);q.bg(this.Yg);q.Og(this.hB);let y;this.pm.set(0,0,1,1);if(w.bW&&
this.Iv){const {qX:A,rX:G,pX:z}=this.Iv(this.xn);A&&this.pm.ta(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.jh.tN(q);w=1/A;y=1/G}u.nt?this.Cw.ta(u.nt):this.Cw.set(0,0,0,0);u=this.LR(0);q.bQ(null,this.Qn,this.pm,this.pm,this.Cw,w,y,this.es,this.PJ,this.OJ,this.jc,u);q.rr(0);this.PG(q);v&&(q.Bu(!1),q.Ng(r))}}}"use strict";self.D.K.Je.fg=class{constructor(d,a,b,e=-1){this.Zh=d;this.ufa=a;this.OT=b;this.Sa=e}Ki(){return this.Zh}La(){return this.Sa}Xf(){return this.Ki().s$(this.La())}xu(){}};
{"use strict";const d=self.D;d.K.Je.fg.L4=class extends d.K.Je.fg{constructor(a,b,e,c){super(a,b,e,c)}xu(a,b,e){b=this.Ki();a.BP();a.rk();a.Og(e,b.fL);a.wo();b.PG(a);b.SQ()}}}{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Kd);d.K.Je.fg.I4=class extends d.K.Je.fg{constructor(e,c,g,m){super(e,c,g,m)}xu(e,c,g){const m=this.Ki();e.rk();e.Og(g);m.TS(e,!0);e.bg(m.Yg);e.eg(c.oe());b.Nj(m.Vl);a.ta(m.Ks);a.oo();e.kr(b,a);m.EU&&e.br(c)}}}
{"use strict";const d=self.D;d.K.Je.fg.L_=class extends d.K.Je.fg{constructor(a,b,e,c){super(a,b,e,c)}xu(a,b,e){b=this.Ki();a.Og(e,b.fL);a.wo();a.WF();a.Cr(this.Xf());b.Vca(a,this.La());b.PG(a);b.SQ()}}}
{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Kd);d.K.Je.fg.yM=class extends d.K.Je.fg{constructor(e,c,g,m){super(e,c,g,m)}xu(e,c,g){const m=this.Ki();e.Og(g);(g=0===this.OT)?e.bg(m.Yg):(e.wo(),e.WF());e.Cr(this.Xf());m.lda(e,this.La());e.eg(c.oe());m.TS(e,g);b.Nj(m.Vl);a.ta(m.Ks);a.oo();e.kr(b,a);m.EU&&e.br(c)}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.H1=class{constructor(e){d=e;Object.defineProperties(this,{rga:{value:{},writable:!1},storage:{value:new self.K1(d),writable:!1},Vsa:{value:d.ye,writable:!1}});d.le.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.le.addEventListener("keyup",c=>a.delete(c.key));d.Ob().addEventListener("window-blur",()=>a.clear());d.ye&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}G$(e){Object.defineProperties(this.rga,e)}addEventListener(e,c){d.le.addEventListener(e,c)}removeEventListener(e,c){d.le.removeEventListener(e,c)}get DW(){return d.Co()}random(){return d.lr()}get CD(){return d.Vb().ew}get keyboard(){const e=d.Kv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get UW(){const e=d.Kv.UW;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get lM(){const e=d.Kv.lM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Vo("runtime","alert",{message:e+(d.ye?" [via Web Worker]":"")})}}}"use strict";self.A1=class{constructor(){}};{"use strict";const d=self.mf;self.K1=class{constructor(a){this.rx=a.p$()}getItem(a){d.Qd(a);return this.rx.getItem(a)}setItem(a,b){d.Qd(a);return this.rx.setItem(a,b)}removeItem(a){d.Qd(a);return this.rx.removeItem(a)}clear(){return this.rx.clear()}keys(){return this.rx.keys()}}}
{"use strict";const d=self.mf,a=new WeakMap;self.bF=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Da(),writable:!1}});b.J().bS(this,b)}addEventListener(b,e){d.Qd(b);d.mk(e);a.get(this).le.addEventListener(b,e)}removeEventListener(b,e){d.Qd(b);d.mk(e);a.get(this).le.removeEventListener(b,e)}*KW(){for(const b of a.get(this).oa())yield b.Dh()}xL(b){d.ag(void 0);d.ag(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.J();b=c.Vb().ba(b);if(!b)throw Error("invalid layer");e=c.hE(e,b,void 0,void 0,void 0);c=c.na();c.He(!0);e.GA();c.He(!1);return e.Dh()}}}
{"use strict";const d=self.mf,a=new WeakMap;self.G1=class{constructor(b){a.set(this,b);const e=[],c=b.Ra,g=c.Fg().length;for(let m=0;m<g;++m)e.push(new self.aF(c,m));Object.defineProperties(this,{name:{value:b.Da(),writable:!1},index:{value:b.La(),writable:!1}})}addEventListener(b,e){d.Qd(b);d.mk(e);a.get(this).le.addEventListener(b,e)}removeEventListener(b,e){d.Qd(b);d.mk(e);a.get(this).le.removeEventListener(b,e)}get width(){return a.get(this).fa()}set width(b){a.get(this).Oh(b)}get height(){return a.get(this).aa()}set height(b){a.get(this).Mh(b)}set scale(b){d.qe(b);
a.get(this).cG(b)}get scale(){return a.get(this).Fd}set angle(b){d.qe(b);a.get(this).Bc(b)}get angle(){return a.get(this).Ha()}set scrollX(b){d.ag(b);a.get(this).Wi(b)}get scrollX(){return a.get(this).Vf()}set scrollY(b){d.ag(b);a.get(this).Xi(b)}get scrollY(){return a.get(this).Wf()}scrollTo(b,e){d.ag(b);d.ag(e);const c=a.get(this);c.Wi(b);c.Xi(e)}set aX(b){d.Qd(b);const e=a.get(this);if("perspective"===b)e.aQ();else if("orthographic"===b)e.YP();else throw Error("invalid projection");}get aX(){return a.get(this).Df?
"orthographic":"perspective"}}}
{"use strict";const d=self.D,a=self.mf,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),g=d.B(d.eb);self.F1=class{constructor(m){b.set(this,m);const h=[],l=m.Ra,n=l.Fg().length;for(let p=0;p<n;++p)h.push(new self.aF(l,p));Object.defineProperties(this,{name:{value:m.Da(),writable:!1},index:{value:m.La(),
writable:!1},CD:{value:m.lc().ew,writable:!1}})}get isVisible(){return b.get(this).Lc()}set isVisible(m){b.get(this).Pg(m)}get opacity(){return b.get(this).Oe()}set opacity(m){m=d.ia(+m,0,1);isNaN(m)||b.get(this).El(m)}set scale(m){a.qe(m);b.get(this).ZP(m)}get scale(){return b.get(this).Fd}set angle(m){a.qe(m);b.get(this).Bc(m)}get angle(){return b.get(this).ve}set jy(m){a.qe(m);b.get(this).xf(m)}get jy(){return b.get(this).fb()}set ko(m){a.Qd(m);m=e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).bg(m)}get ko(){return c.get(b.get(this).Rj())}set backgroundColor(m){a.NF(m);if(3>m.length)throw Error("expected 3 elements");g.ut(m[0],m[1],m[2]);m=b.get(this);const h=m.Pl;h.Em(g)||(h.Ij(g),m.J().ea())}get backgroundColor(){const m=b.get(this).Pl;return[m.Ya,m.Ja,m.$a]}set scrollX(m){a.ag(m);const h=b.get(this);h.Gu(!0);h.Wi(m)}get scrollX(){return b.get(this).Vf()}set scrollY(m){a.ag(m);const h=b.get(this);h.Gu(!0);h.Xi(m)}get scrollY(){return b.get(this).Wf()}scrollTo(m,h){a.ag(m);
a.ag(h);const l=b.get(this);l.Gu(!0);l.Wi(m);l.Xi(h)}}}
{"use strict";const d=self.D,a=self.mf,b=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.B(d.Event.Ob);e.set(m,h);return h}let g=null;self.$q=class{constructor(){b.set(this,g);const m={Pf:{value:g.J().rj,writable:!1},UL:{value:g.I().fw,writable:!1},uid:{value:g.md,writable:!1}};g.g$(m);g.b$(m);Object.defineProperties(this,m);g.J().bS(this,g)}static Ug(m){g=m}static mn(){return g}lv(){const m=e.get(this);m&&(m.m(),e.delete(this));b.delete(this)}addEventListener(m,h,l){a.Qd(m);
a.mk(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Qd(m);a.mk(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.D,a=self.mf,b=self.$q,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.B(d.eb);self.uz=class m extends b{constructor(){super();var h=b.mn();e.set(this,h);const l=[];var n=h.A();if(h=n.ng){n=n.I().Ra.Fg().length;for(let p=0;p<n;++p)l.push(new self.aF(h,p))}}get CD(){return e.get(this).A().lc().ew}get SW(){return e.get(this).A().ba().Lea}get x(){return e.get(this).A().ca()}set x(h){h=
+h;const l=e.get(this).A();isNaN(h)||l.ca()===h||(l.Qg(h),l.ra())}get y(){return e.get(this).A().da()}set y(h){h=+h;const l=e.get(this).A();isNaN(h)||l.da()===h||(l.Ph(h),l.ra())}get jy(){return e.get(this).A().fb()}set jy(h){h=+h;const l=e.get(this),n=l.A();isNaN(h)||n.fb()===h||(n.xf(h),l.J().ea())}get width(){return e.get(this).A().fa()}set width(h){h=+h;const l=e.get(this).A();isNaN(h)||l.fa()===h||(l.Oh(h),l.ra())}get height(){return e.get(this).A().aa()}set height(h){h=+h;const l=e.get(this).A();
isNaN(h)||l.aa()===h||(l.Mh(h),l.ra())}get angle(){return e.get(this).A().Ha()}set angle(h){h=d.zd(+h);const l=e.get(this).A();isNaN(h)||l.Ha()===h||(l.Bc(h),l.ra())}FL(){e.get(this).A().Yc().vha()}get isVisible(){return e.get(this).A().Lc()}set isVisible(h){h=!!h;const l=e.get(this),n=l.A();n.Lc()!==h&&(n.Pg(h),l.J().ea())}get opacity(){return e.get(this).A().Oe()}set opacity(h){h=d.ia(+h,0,1);const l=e.get(this),n=l.A();isNaN(h)||n.Oe()===h||(n.El(h),l.J().ea())}set ko(h){a.Qd(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=e.get(this);l.A().bg(h);l.J().ea()}get ko(){return g.get(e.get(this).A().Rj())}get zIndex(){return e.get(this).A().fk()}Mf(h,l){a.ag(h);a.ag(l);return e.get(this).A().Et(+h,+l)}getParent(){const h=e.get(this).Ia();return h?h.Dh():null}*$x(){for(const h of e.get(this).$x())yield h.Dh()}*children(){for(const h of e.get(this).children())yield h.Dh()}*cl(){for(const h of e.get(this).cl())yield h.Dh()}removeChild(h){a.OF(h,m);const l=e.get(this);h=e.get(h);
l.lk(h)}}}{"use strict";const d=new WeakMap;self.D1=class extends self.uz{constructor(){super();d.set(this,self.$q.mn())}focus(){d.get(this).ma.kN()}blur(){d.get(this).ma.xM()}}}
{"use strict";const d=self.D,a=self.mf,b=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.B(d.Event.Ob);e.set(m,h);return h}let g=null;self.$E=class{constructor(){b.set(this,g);const m={Pf:{value:g.J().rj,writable:!1},behavior:{value:g.Mm().u0(),writable:!1}};Object.defineProperties(this,m)}static Ug(m){g=m}static mn(){return g}get instance(){return b.get(this).M.Dh()}lv(){const m=e.get(this);m&&(m.m(),e.delete(this));b.delete(this)}addEventListener(m,h,l){a.Qd(m);a.mk(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Qd(m);a.mk(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.B1=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Pf:{value:a.J().rj,writable:!1}})}}}
{"use strict";const d=self.D,a=self.mf,b=new WeakMap;self.aF=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Fg()[this.index].Da()}getParameter(e){a.qe(e);e=Math.floor(+e);const c=b.get(this).kl(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.eb?[e.Ya,e.Ja,e.$a]:e}}}
{"use strict";const d=self.D,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.gY=class extends d.ja{constructor(e,c){super();var g=c.exportType;this.j=e;this.nC=new Map;this.Ds=new Map;this.afa=new Map;this.NB="cordova"===g;this.LU=!!c.isiOSCordova;this.mw=!!c.isFileProtocol;this.wfa=c.supportedAudioFormats||{};this.iea=
new Map;this.tU=this.bU="";this.fB="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.YH=[];this.hI=new Map;this.lL=[];this.lC=[];this.oU=!1;this.hC=this.gI=this.Ax=0;this.dJ=!1;this.$ea=d.B(d.Z4,()=>this.qR(),50);this.tK=new d.aP(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [m,h]of Object.entries(e))this.nC.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.afa.set(m,h);new self.A1(this)}m(){this.nC.clear();for(const e of this.Ds.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ds.clear();for(const e of this.YH)e.m();d.F(this.YH);this.hI.clear();d.F(this.lC);this.j=null}J(){return this.j}Zca(e){this.bU=e}eda(e){this.tU=e}$G(e){return this.nC.has(e.toLowerCase())}oA(e){return this.nC.get(e.toLowerCase())||null}EN(e){if(!this.$G(e))return e;e=e.toLowerCase();var c=this.Ds.get(e);c||(c=this.oA(e),c=URL.createObjectURL(c),
this.Ds.set(e,c));return c}jl(e,c){c=c||this.fB;const g=this.oA(e);if(g)return Promise.resolve(g);if(d.tF(e)){const m=e.toLowerCase();return this.NB&&this.mw?this.QM(m):"local"===c?this.tK.Ic(()=>d.jl(m)):d.jl(m)}return d.jl(e)}It(e){const c=this.oA(e);if(c)return d.pY(c);if(d.tF(e)){const g=e.toLowerCase();return this.NB&&this.mw?this.PM(g):"local"===this.fB?this.tK.Ic(()=>d.It(g)):d.It(g)}return d.It(e)}Jt(e){const c=this.oA(e);if(c)return d.wM(c);if(d.tF(e)){const g=e.toLowerCase();return this.NB&&
this.mw?this.YY(g):"local"===this.fB?this.tK.Ic(()=>d.Jt(g)):d.Jt(g)}return d.Jt(e)}async iN(e){e=await this.Jt(e);return JSON.parse(e)}DG(e,c){return this.j.Vo("runtime","cordova-fetch-local-file",{filename:e,as:c})}YY(e){return this.DG(e,"text")}async QM(e){const c=await this.DG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.me(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async XY(e){e=e.toLowerCase();var c=this.Ds.get(e);if(c)return c;c=await this.QM(e);c=URL.createObjectURL(c);
this.Ds.set(e,c);return c}PM(e){return this.DG(e,"buffer")}ME(e,c=""){if(d.gF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.$G(e)?Promise.resolve(this.EN(e)):this.NB&&this.mw?this.XY(c+e):Promise.resolve(c+e.toLowerCase())}Fz(e){if(e.Xx&&!a.has(e.Xx))throw Error("invalid load policy");let c=this.hI.get(e.url);if(c)return c;c=d.B(d.$N,this,{url:e.url,size:e.size||0,Xx:e.Xx||this.fB});this.YH.push(c);this.hI.set(c.Xk,c);this.oU||(this.Ax+=c.Sm(),
this.lC.push(c.vO().then(()=>this.IQ(c.Sm()))));return c}async AQ(){try{await Promise.all(this.lC),this.hC=1}catch(e){console.error("Error loading: ",e),this.dJ=!0,this.qR()}}l6(){this.oU=!0}IQ(e){this.gI+=e;this.$ea.xY()}qR(){const e=d.B(d.Event,"loadingprogress");this.hC=d.ia(this.gI/this.Ax,0,1);e.progress=this.hC;this.j.Ob().dispatchEvent(e)}uda(e){d.Xc(this.lL,e);this.lL.length&&this.lC.push(this.uaa())}uaa(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,g,
m]of this.lL)this.Ax+=m,e.push(this.taa(c,g).then(()=>this.IQ(m)));return Promise.all(e)}async taa(e,c){try{const g=await this.ME(c,this.bU),m=new FontFace(e,`url('${g}')`);this.j.ye?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}y2(){return!!this.wfa["audio/webm; codecs=opus"]}Jca(e){for(const [c,g,m]of e)this.iea.set(c,{fileName:c,nsa:g.map(h=>({type:h[0],ksa:h[1],Bsa:c+h[1],fileSize:h[2]})),Wsa:m})}async zO(e){e=
await this.ME(e);return await this.j.Vo("runtime","add-stylesheet",{url:e})}}}
{"use strict";const d=self.D;d.fY=class extends d.ja{constructor(a,b){super();this.vd=a;this.j=a.J();this.Xk=b.url;this.Qs=b.size;this.VJ=b.Xx;this.Cv=null;this.AJ=!1;this.In=null}m(){this.Cv=this.j=this.vd=this.In=null}Sm(){return this.Qs}vO(){return"local"===this.VJ||this.Cv?(this.AJ=!0,Promise.resolve()):this.In?this.In:this.In=this.vd.jl(this.Xk,this.VJ).then(a=>{this.AJ=!0;this.In=null;return this.Cv=a}).catch(a=>console.error("Error loading resource: ",a))}rF(){return this.AJ}W_(){return this.Cv?
Promise.resolve(this.Cv):this.In?this.In:this.vd.jl(this.Xk,this.VJ)}}}
{"use strict";const d=self.D,a=new d.aP,b=new Set;d.$N=class extends d.fY{constructor(e,c){super(e,c);this.Zk=this.uq=null;this.Uc=0;this.vU=this.xU=-1;b.add(this)}m(){this.Ui();if(0!==this.Uc)throw Error("released image asset which still has texture references");this.uq=null;b.delete(this);super.m()}static jr(){for(const e of b)e.uq=null,e.Zk=null,e.Uc=0}mu(e,c){c=c||{};this.Uc++;if(this.Zk)return Promise.resolve(this.Zk);if(this.uq)return this.uq;c.pW=this.j.O.SV;return this.uq=this.W_().then(g=>
a.Ic(()=>e.Cy(g,c).then(m=>{this.uq=null;if(0===this.Uc)return e.Pj(m),null;this.Zk=m;this.xU=m.fa();this.vU=m.aa();return this.Zk}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Ui(){if(0>=this.Uc)throw Error("texture released too many times");this.Uc--;0===this.Uc&&this.Zk&&(this.Zk.lb().Pj(this.Zk),this.Zk=null)}oe(){return this.Zk}fa(){return this.xU}aa(){return this.vU}}}
{"use strict";const d=self.D;function a(b,e){return b.A().bl-e.A().bl}d.k5=class extends d.ja{constructor(b,e,c){super();this.R=e;this.P=c;this.H=[];this.rw=!0;this.yj=new Set;this.jw=!1}m(){d.F(this.H);this.yj.clear()}sd(){d.F(this.H);this.rw=!0;this.yj.clear();this.jw=!1}V5(){this.rw=!1}Qo(){if(!this.H.length)return!0;if(this.H.length>this.yj.size)return!1;this.WG();return!0}eF(b){this.yj.has(b)?(this.yj.delete(b),0===this.yj.size&&(this.jw=!1)):(this.H.push(b),this.rw=1===this.H.length)}Lh(b){this.yj.add(b);
this.jw=!0;50<=this.yj.size&&this.WG()}WG(){this.jw&&(this.H.length===this.yj.size?this.sd():(d.zg(this.H,this.yj),this.yj.clear(),this.jw=!1))}I9(){this.rw||(this.H.sort(a),this.rw=!0)}lE(b){this.WG();this.I9();this.H.length&&b.push(this.H)}}}
{"use strict";const d=self.D;d.l5=class extends d.ja{constructor(a,b){super();this.vI=a;this.uI=b;this.jj=d.B(d.qu)}m(){this.jj.m();this.jj=null}Nm(a,b,e){let c=this.jj.$(a,b);return c?c:e?(c=d.B(d.k5,this,a,b),this.jj.Set(a,b,c),c):null}$i(a){return Math.floor(a/this.vI)}aj(a){return Math.floor(a/this.uI)}Gl(a,b,e){if(b)for(let c=b.Z,g=b.la;c<=g;++c)for(let m=b.V,h=b.ga;m<=h;++m){if(e&&e.Mf(c,m))continue;const l=this.Nm(c,m,!1);l&&(l.Lh(a),l.Qo()&&this.jj.yo(c,m))}if(e)for(let c=e.Z,g=e.la;c<=g;++c)for(let m=
e.V,h=e.ga;m<=h;++m)b&&b.Mf(c,m)||this.Nm(c,m,!0).eF(a)}Lz(a,b){let e=this.$i(a.Z);const c=this.aj(a.V),g=this.$i(a.la);for(a=this.aj(a.ga);e<=g;++e)for(let m=c;m<=a;++m){const h=this.Nm(e,m,!1);h&&h.lE(b)}}q3(a){let b=a.Z;const e=a.V,c=a.la;for(a=a.ga;b<=c;++b)for(let g=e;g<=a;++g){const m=this.Nm(b,g,!1);m&&m.V5()}}}}
{"use strict";const d=self.D,a=new d.Rect,b=new d.Kd,e=[];new d.Rect;new d.Rect;const c=self.Lj,g=c.MD,m=c.hy,h=c.Fm;h.create();const l=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),w=d.B(d.Pu);d.B(d.Rect);function r(z,F){return z.A().bl-F.A().bl}function v(z,F){return z.A().fb()-F.A().fb()}const y=[],A=[],G=[];d.tO=class extends d.ja{constructor(z,F,H){super();this.ih=z;this.j=z.J();this.pV=F;this.Ka=H[0];this.Sa=-1;this.jb=H[2];this.ww=!!H[3];this.Pl=d.B(d.eb);this.Pl.Hm(H[4].map(L=>
L/255));this.Mk=!!H[5];this.ge=H[6];this.he=H[7];this.gb=d.B(d.eb,1,1,1,H[8]);this.EC=d.B(d.eb);this.vJ=H[9];this.qfa=H[17];this.YV=H[18];this.Cfa=H[10];this.Bj=H[11];this.Yg=H[12];this.We=null;this.Fd=1;this.od=H[16];this.ri=this.pi=this.ve=0;this.Yl=!1;this.wg=d.B(d.Rect);this.fW=d.B(d.Rect);this.ho=d.B(d.Rect);this.Qk=h.create();this.FJ=!0;this.Lw=h.create();this.BJ=!0;this.eW=d.B(d.K.y7);this.eC=!0;this.PV=[];this.AU=H[14];this.Jk=[];this.dB=[];this.BU=new Map;this.H=[];this.Ap=this.nL=!1;const J=
this.j.O;this.Ra=d.B(d.hl,this,H[15]);this.Zh=d.B(d.K.Je,J.II,{tD:(L,P)=>{P=P.xn;const R=P.ql();L.dn(P.LE());L.Jy(R);L.br(R);J.Zo(R)},yD:L=>this.Ra.kl(L)});this.Ix=this.lm=!0;this.Ms=null;this.JJ=[];this.YB=!1;this.Zea=d.B(d.Rect,0,0,-1,-1);this.Bea=d.B(d.Rect,0,0,-1,-1);this.Lea=new self.F1(this);this.vT();this.op()&&(this.Ms=d.B(d.l5,this.j.mh,this.j.lh));this.Un=H[19].map(L=>d.B(d.tO,this.ih,this,L))}Ug(){for(const z of this.AU){const F=this.j.qf(z[1]);this.ih.GQ(F);F.ds||F.GP(z);this.Jk.push(z);
this.BU.set(z[2],z)}d.Xc(this.PV,this.Jk);this.AU=null}m(){this.j=this.ih=null}x0(z){return this.BU.get(z)}bZ(z){const F=this.ih.Wp;let H=0;const J=this.Jk;for(let P=0,R=J.length;P<R;++P){var L=J[P];const T=this.j.qf(L[1]);let Z=!0;if(!T.XE()||F)L=this.j.Ii(L,this,!0),z.push(L),T.$f()&&(Z=!1,this.dB.push(L.md));Z&&(J[H]=J[P],++H)}d.kf(J,H);this.j.$d();this.Rg()}Tg(z,F){const H=z.A();if(H.ba()!==this)throw Error("instance added to wrong layer");this.H.push(z);0!==H.fb()&&(this.Ap=!0);F&&this.op()&&
z.A().ra();this.Rg()}waa(z){this.H.includes(z)||(this.H.push(z),0!==z.A().fb()&&(this.Ap=!0),this.Rg())}yba(z){const F=z.A();if(F.ba()!==this)throw Error("instance added to wrong layer");this.H.unshift(z);0!==F.fb()&&(this.Ap=!0);this.Rg()}tp(z,F){const H=this.H.indexOf(z);0>H||(F&&this.op()&&z.A().AS(),this.H.splice(H,1),this.Rg(),this.hS())}QS(){this.Ap=!0}hS(){0===this.H.length&&(this.Ap=!1)}HH(z){if(z){z=new Set;for(var F of this.H){var H=F.A().bl;0<=H&&z.add(H)}F=-1;for(const J of this.H)if(H=
J.A(),!(0<=H.bl)){for(++F;z.has(F);)++F;H.EA(F)}}this.H.sort(r)}H9(){for(const z of this.H)z.I().$f()||this.j.zo(z);this.j.$d();d.F(this.H);this.Ap=!1;this.Rg()}tu(z,F,H,J,L){const P=this.j.na(),R=this.j.bd,T=z.Xa,Z=[];for(const Y of this.Jk){var X=Y[0];if(F.Mf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.hN(X))continue}else continue;X=this;var ba=this.j.Oa();this.lc()!==ba&&((X=ba.CN(this.Da()))||(X=ba.$y(this.La())));ba=this.j.Ii(Y,X,!1,void 0,void 0,!1,L);X.mG(ba);X=ba.A();X.$m(H,J);X.ra();P.He(!0);
ba.GA();P.He(!1);Z.push(ba)}}return Z}lc(){return this.ih}Da(){return this.Ka}zH(z){this.Sa=z}La(){return this.Sa}J(){return this.j}Tj(){return this.j.Tj()}Ki(){this.dv();return this.Zh}dv(){const z=this.Zq();if(this.lm||z!==this.Ix){var F=this.Ra.hg;this.Zh.$D(F.map(H=>H.Xf()),{it:F.map(H=>H.La()),wD:!z,LD:!0});this.lm=!1;this.Ix=z}}Rh(){this.Ra.Rh();this.lm=!0}op(){return this.Cfa&&!this.YV}x6(){this.YB=!1}Lc(){for(const z of this.hha())if(!z.ww)return!1;return!0}Pg(z){z=!!z;this.ww!==z&&(this.ww=
z,this.j.ea())}Gu(z){z=!!z;if(this.Yl!==z){if(this.Yl=z)z=this.lc(),this.pi=z.Vf(),this.ri=z.Wf();this.yk();this.j.ea()}}Wi(z){var F=this.lc();const H=F.KN();F=F.LN();z>F&&(z=F);z<H&&(z=H);this.pi!==z&&(this.pi=z,this.Yl&&(this.yk(),this.j.ea()))}Xi(z){var F=this.lc();const H=F.MN();F=F.JN();z>F&&(z=F);z<H&&(z=H);this.ri!==z&&(this.ri=z,this.Yl&&(this.yk(),this.j.ea()))}Vf(){return this.Yl?this.pi:this.lc().Vf()}Wf(){return this.Yl?this.ri:this.lc().Wf()}ZG(){const z=this.lc();return[z.QE(),z.RE()]}VN(z,
F){var H=this.fW;if(0===z)F.ta(H);else{let R=H.ot(),T=H.pt();var J=this.mN(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.ZG();if(.5!==X||.5!==ba){const Y=this.Qt();var L=this.j,P=100/Y;J=(X-.5)*L.yg/P;L=(ba-.5)*L.xg/P;P=this.Ha();0!==P&&(w.set(J,L),w.rotate(P),J=w.R,L=w.P);z=d.At(Y,0,z);R+=d.Zd(J,0,z);T+=d.Zd(L,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Oe(){return this.gb.Za}El(z){z=d.ia(z,0,1);this.gb.Za!==z&&(this.gb.qt(z),this.vT(),this.j.ea())}vT(){this.EC.ta(this.gb);this.EC.$L()}LE(){return this.EC}Zq(){return this.gb.uD(1,
1,1,1)}y6(z){this.Bj!==z&&(this.Bj=z,this.yk(),this.j.ea())}t6(z,F){if(this.ge!==z||this.he!==F)if(this.ge=z,this.he=F,this.yk(),this.j.ea(),1!==this.ge||1!==this.he)for(const H of this.H)H.I().wH(!0)}xf(z){this.od!==z&&(this.od=z,this.j.ea())}fb(){return this.od}Bc(z){z=d.zd(z);this.ve!==z&&(this.ve=z,this.yk(),this.j.ea())}Ha(){return d.zd(this.ih.Ha()+this.ve)}r1(){return 0<this.H.length}XG(){return this.LF()&&this.YV?(d.Xc(G,this.H),G.sort((z,F)=>this.Cda(z,F)),G):this.H}NQ(z){d.jo(z,this.XG());
for(const F of this.Un)F.Lc()&&0<F.Oe()&&F.NQ(z)}Cda(z,F){var H=this.lc().ET,J=H[0],L=H[1];H=H[2];var P=z.A();const R=F.A();F=P.ca()-J;z=P.da()-L;P=P.fb()-H;J=R.ca()-J;L=R.da()-L;H=R.fb()-H;return J*J+L*L+H*H-(F*F+z*z+P*P)}J6(z){z=!!z;this.Mk!==z&&(this.Mk=z,this.j.ea())}h6(z){z=!!z;this.vJ!==z&&(this.vJ=z,this.j.ea())}hP(){return!this.J().Am||!this.qfa}LF(){return!this.hP()}Yq(){return this.LF()&&this.lc().Rea}UF(){if(!this.Yq())return!1;for(const z of this.Un)if(!z.UF())return!1;return!0}bg(z){this.Yg!==
z&&(this.Yg=z,this.j.ea())}Rj(){return this.Yg}m1(){for(const z of this.Un)if(z.Xz())return!0;return!1}*hX(){for(const z of this.Un)yield*z.hX();yield this}*Xga(){let z=this.pV;for(;z;)yield z,z=z.pV}*hha(){yield this;yield*this.Xga()}T2(z){return this===z||this.ge===z.ge&&this.he===z.he&&this.Fd===z.Fd&&this.Bj===z.Bj&&this.ve===z.ve&&this.Vf()===z.Vf()&&this.Wf()===z.Wf()}Mba(z){0!==z.size&&0<d.zg(this.H,z)&&(this.hS(),this.Rg())}Rg(){this.YB=this.nL=!1}rv(){if(!this.nL){this.H.sort(v);if(this.op())for(let z=
0,F=this.H.length;z<F;++z){const H=this.H[z].A();H.EA(z);this.Ms.q3(H.Uw)}else for(let z=0,F=this.H.length;z<F;++z)this.H[z].A().EA(z);this.nL=!0}}w3(z,F,H){var J=z.A();F=F.A();if(J.ba()!==this||F.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.fk();F=F.fk();if(J===F+(H?1:-1))return!1;d.Nfa(this.H,J);J<F&&F--;H&&F++;F===this.H.length?this.H.push(z):this.H.splice(F,0,z);this.Rg();return!0}Eaa(z,F){const H=[];let J=0,L=0,P=z.length,R=F.length;for(;J<P&&L<R;){const T=
z[J],Z=F[L];T.A().bl<Z.A().bl?(H.push(T),++J):(H.push(Z),++L)}for(;J<P;++J)H.push(z[J]);for(;L<R;++L)H.push(F[L]);return H}Daa(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.Eaa(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}Caa(z){for(;1<z.length;)z=this.Daa(z);return z[0]}r$(){this.rv();d.F(e);this.Ms.Lz(this.wg,e);return e.length?1===e.length?e[0]:this.Caa(e):[]}Xz(){return this.Lc()&&0<this.Oe()&&this.kR()}kR(){if(this.r1()||!this.Mk)return!0;for(const z of this.Un)if(z.kR())return!0;
return!1}Ou(){return this.vJ||!this.Zq()||0!==this.Rj()||this.Ra.gu()}VF(){if(this.Ou())return!0;for(const z of this.Un)if(z.VF())return!0;return!1}ql(){return this.We}mN(z){if(this.ih.Df)return 1;{const F=this.Qt();return F/(F-z)}}Qt(){return 100/this.Oi()}yk(){this.eC=this.BJ=!0}pA(z){this.BJ&&(this.m8(z,this.Lw),this.BJ=!1);return this.Lw}Y9(){var z=this.j,F=this.lc(),H=z.Rm(),J=z.wC,L=z.xC;J=(this.Vf()-J)*this.ge+J;var P=(this.Wf()-L)*this.he+L;z.em&&(J=Math.round(J),P=Math.round(P));L=(J+0)*
H;J=(P+0)*H;F=F.Df?100:this.Qt();const [R,T]=this.ZG();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.yg*H/Z;z=(T-.5)*z.xg*H/Z;H=this.Ha();0!==H&&(w.set(P,z),w.rotate(H),P=w.R,z=w.P);L+=P;J+=z}return[L,J,F]}m8(z,F){const H=this.j;var J=this.lc();const L=H.Rm();if(this.Yq()){g.ta(p,J.ET);g.ta(q,J.tea);g.ta(u,J.uea);J=H.wC;const P=H.xC,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.ge+J;p[1]=(p[1]-P)*this.he+P;p[2]*=Math.max(this.ge,this.he);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,L,L,1);g.multiply(p,
p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.Y9();g.set(p,P,R,T);g.set(q,P,R,T-100);J=this.Ha();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.BM(F,p,q,u,H.O.Ji());1!==L&&(g.set(l,L,L,1),h.scale(F,F,l))}mda(){this.eC=this.FJ=!0}qA(z){this.FJ&&(this.n8(z),this.FJ=!1);return this.Qk}n8(z){const F=this.j.O,[H,J]=this.ZG();this.ih.Df?z.uY(this.Qk,F.Vj(),F.Ji()):.5===H&&.5===J?h.ta(this.Qk,F.gB):z.Jq(this.Qk,F.Vj()/F.Ji(),H,J)}CA(z){z.ip(this.qA(z));let F;F=this.pA(z);z.yr(F)}M4(z){this.CA(z);
z.rr(this.fb())}Eg(z,F,H){var J=this.j.O;const L=this.Ou();var P=null;let R=null;if(this.j.mF()&&z.zl()){const T=J.DN(this);T&&(R=T.VD(),z.qG(R))}L?(P={Mj:this.j.Ed},"low"===J.ci&&(P.width=J.Vj(),P.height=J.Ji()),this.We=P=this.j.Nt(P),z.Og(P),this.Mk&&z.wo()):(this.We=F,z.Og(F));this.Mk||z.Gd(this.Pl);this.ih.iR(z,this.We,this.Un,L&&this.Mk);this.CA(z);z.rr(this.fb());z.Ng(this.LF());this.Oi()>Number.EPSILON&&(this.rv(),J=this.op()&&0===this.fb()&&!this.Ap,this.Yq()?this.x9(z):J?this.y9(z):this.hR(z,
this.XG()));z.rr(0);z.Au(0);L&&(z.Ng(!1),this.z9(z,P,F,H));R&&z.nE(R);this.We=null}hR(z,F){const H=this.wg,J=this.We,L=this.lc().Df,P=this.lc().ZN();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.A();ba.Lc()&&ba.mO(H,P,L)&&this.Jl(X,ba,z,J)}}x9(z){const F=this.We,H=this.Ir(),J=this.XG();for(let T=0,Z=J.length;T<Z;){var L=J[T],P=L.A();if(!P.Lc()||!P.er(H)){++T;continue}(!L.mr()||0<P.ed)&&A.push(L);var R=L.A().tf();y.push(L);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.A();if(Y.Lc()&&Y.er(H)){if(Y.tf()!==R)break;ba.mr()?(0<Y.ed&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].DO()){this.u9(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)L=A[ba],P=L.A(),P.AA(!0),this.Jl(L,P,z,F),P.AA(!1)}else{this.Jl(L,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==L&&(R=P.A(),R.ba().Jl(P,R,z,F))}T=X;d.F(y);d.F(A)}}u9(z,F){const H=this.We;z.NM();for(let P=0,R=F.length;P<R;++P){var J=F[P],L=J.A();L.yA(!0);this.QG(J,L,z)}z.MM();for(let P=0,R=F.length;P<R;++P)J=F[P],
L=J.A(),this.Jl(J,L,z,H),L.yA(!1);z.LM()}y9(z){var F=this.Ms;const H=this.Bea,J=this.Zea,L=this.wg;H.set(F.$i(L.Z),F.aj(L.V),F.$i(L.la),F.aj(L.ga));this.YB&&H.Ad(J)?F=this.JJ:(F=this.r$(),this.YB=!0,J.ta(H));this.hR(z,F);F!==this.JJ&&d.Xc(this.JJ,F)}Jl(z,F,H,J){F.gu()?this.w9(z,F,H,J):this.QG(z,F,H)}QG(z,F,H){F=F.qq;H.lj!==F&&F.aY();z.Eg(H)}w9(z,F,H,J){this.v9(z,F,H,J)&&this.CA(H)}v9(z,F,H,J){const L=F.ng.Ki();L.cp(H,J,{pD:z,ko:F.Rj(),devicePixelRatio:this.j.Wt(),Ux:this.j.Xt()*this.Oi(),BD:this.Ha(),
nt:F.Yc(),Px:L.Hv?null:this.N$(F),BW:null,uW:null,vW:null,yX:null});H.rr(this.fb());return L.yn}z9(z,F,H,J){const L=this.j;0===this.Ra.hg.length?(z.Og(H),z.rk(),J&&0===this.Yg&&this.Zq()?z.OM(F):(z.bg(this.Yg),z.dn(this.EC),z.Jy(F)),z.br(F),L.Zo(F)):this.Ki().cp(z,H,{pD:this,ko:this.Rj(),devicePixelRatio:L.Wt(),Ux:L.Xt()*this.Oi(),BD:this.Ha(),nt:this.wg,Px:null,KL:!0})}ZP(z){this.Fd!==z&&(this.Fd=z,this.ih.qy(),this.yk(),this.j.ea())}Rm(){return this.Oi()*this.j.Rm()}Uj(){return this.Oi()*this.j.Uj()}Oi(){return(this.Fd*
this.ih.Fd-1)*this.Bj+1}vG(){var z=this.j.wC,F=this.j.xC,H=(this.Vf()-z)*this.ge+z,J=(this.Wf()-F)*this.he+F;z=this.Oi();F=this.j.yg/z;z=this.j.xg/z;H-=F/2;let L=J-z/2;this.j.em&&(H=Math.round(H),L=Math.round(L));J=this.fW;J.set(H,L,H+F,L+z);F=this.Ha();0!==F&&(a.ta(J),a.offset(-J.ot(),-J.pt()),b.kha(a,F),b.FL(a),a.offset(J.ot(),J.pt()),J.ta(a));F=this.od;this.VN(F,this.wg);this.Yq()?this.wY(F,this.ho):this.ho.ta(this.wg)}wY(z,F){var H=this.j.O,J=H.Qc;H=H.Gc;const [L,P]=this.yh(0,0,z),[R,T]=this.yh(J,
0,z),[Z,X]=this.yh(J,H,z),[ba,Y]=this.yh(0,H,z);z=Math.min(L,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(L,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}yh(z,F,H=0){return this.q8(z,F,H,this.Uj())}q8(z,F,H,J){const L=this.j;var P=L.lb();const R=this.Oi();m.set(n,0,0,L.yg/R,L.xg/R);z/=J;F=n[3]-F/J;J=this.qA(P);P=this.pA(P);return d.K.q7(z,F,H,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}AY(z,F){const H=this.Fd,
J=this.Bj,L=this.ge,P=this.he,R=this.ve;this.he=this.ge=this.Bj=this.Fd=1;this.ve=0;this.yk();z=this.yh(z,F);this.Fd=H;this.Bj=J;this.ge=L;this.he=P;this.ve=R;this.yk();return z}Uo(z,F){return this.$R(z,F,0,this.Uj())}jk(z,F,H=0){return this.$R(z,F,H,this.Rm()*this.Tj())}$R(z,F,H,J){var L=this.j,P=L.lb();const R=this.Oi();m.set(n,0,0,L.yg/R,L.xg/R);L=this.qA(P);P=this.pA(P);return d.K.O4(z,F,H,P,L,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}N$(z){var F=z.Yc(),H=z.tf();z=z.ed;const J=H+z,L=F.Z,P=F.V,R=F.la;
F=F.ga;if(this.Yq()){if(this.pn(L,P,H)||this.pn(R,P,H)||this.pn(R,F,H)||this.pn(L,F,H)||0<z&&(this.pn(L,P,J)||this.pn(R,P,J)||this.pn(R,F,J)||this.pn(L,F,J)))return null}else if(J>=this.Qt())return null;let [T,Z]=this.jk(L,P,H),[X,ba]=this.jk(R,F,H);if(0!==this.Ha()||0<z){const [Y,va]=this.jk(R,P,H),[ta,ya]=this.jk(L,F,H);if(0<z){const [Na,Sa]=this.jk(L,P,J),[Ta,Ua]=this.jk(R,P,J),[Wa,eb]=this.jk(R,F,J),[fb,Pa]=this.jk(L,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=
Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}Ir(){this.eC&&(this.Xda(),this.eC=!1);return this.eW}Xda(){var z=this.j.lb();const F=this.qA(z);z=this.pA(z);this.eW.vY(z,F)}pn(z,F,H){return this.Ir().z2(z,F,H)}ka(){return{s:this.Fd,a:this.ve,vl:this.wg.Z,vt:this.wg.V,vr:this.wg.la,vb:this.wg.ga,v:this.ww,bc:this.Pl.toJSON(),t:this.Mk,sx:this.pi,sy:this.ri,
hosp:this.Yl,px:this.ge,py:this.he,c:this.gb.toJSON(),sr:this.Bj,fx:this.Ra.td(),cg:this.dB}}qa(z){this.Fd=z.s;this.ve=z.a;this.wg.set(z.vl,z.vt,z.vr,z.vb);this.ww=!!z.v;this.Pl.Hm(z.bc);this.Mk=!!z.t;z.hasOwnProperty("sx")&&(this.pi=z.sx);z.hasOwnProperty("sy")&&(this.ri=z.sy);z.hasOwnProperty("hosp")&&(this.Yl=!!z.hosp);this.ge=z.px;this.he=z.py;this.gb.Hm(z.c);this.Bj=z.sr;d.Xc(this.dB,z.cg);d.Xc(this.Jk,this.PV);const F=new Set(this.dB);let H=0;for(let J=0,L=this.Jk.length;J<L;++J)F.has(this.Jk[J][2])||
(this.Jk[H]=this.Jk[J],++H);d.kf(this.Jk,H);this.Ra.Zc(z.fx);this.lm=!0;this.HH(!1);this.Rg()}mG(z){if(!this.H.includes(z))if(z.uf()){var F=[...z.cl()];F.push(z);F.sort((J,L)=>{J=J.A().Uq();L=L.A().Uq();return J-L});for(var H of F)if(H.cc())for(const J of H.Nd)F.includes(J)||(z=[...J.cl()],z.push(J),z.sort((L,P)=>{L=L.A().Uq();P=P.A().Uq();return L-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Tg(J,!0)}else if(this.Tg(z,!0),z.cc())for(F of z.Nd)if(H=[...F.cl()],H.push(F),H.sort((J,
L)=>{J=J.A().Uq();L=L.A().Uq();return J-L}),H&&H.length)for(const J of H)this.Tg(J,!0)}}}
{"use strict";const d=self.D,a=self.Cg;d.B(d.Rect);d.B(d.Rect);const b=d.B(d.Rect),e=d.B(d.eb),c=self.Lj.MD,g=[],m=[],h=[],l=[];let n=null;function p(q,u){n!==q&&(q.M4(u),n=q)}d.Z2=class extends d.ja{constructor(q,u,w){super();this.cb=q;this.j=q.J();this.Ka=w[0];this.mfa=w[1];this.lfa=w[2];this.W=w[1];this.T=w[2];this.dC=!!w[3];this.Df=!!w[4];this.jD=w[5];this.kD=w[6];this.WT=w[7];this.gd=null;this.jb=w[8];this.Sa=u;this.ri=this.pi=0;this.Fd=1;this.ve=0;this.ts=new Set;this.rh=new Set;this.vx=new Set;
this.Zr=[];this.iJ=[];this.Rea=!1;this.ET=c.create();this.tea=c.create();this.uea=c.create();this.JC=[];this.ec=[];this.WU=new Map;this.XU=new Map;const r=this.j.O;this.Ra=d.B(d.hl,this,w[11]);this.Zh=d.B(d.K.Je,r.II,{tD:(v,y)=>{y=y.xn.ql();v.wu();v.Jy(y);v.br(y);r.Zo(y)},yD:v=>this.Ra.kl(v)});this.lm=!0;this.hW=!1;this.We=null;this.hq={};this.Wp=!0;this.ew=new self.G1(this);this.le=d.B(d.Event.Ob);for(const v of w[9])this.JC.push(d.B(d.tO,this,null,v));this.ec=[...this.Ffa()];for(let v=0,y=this.ec.length;v<
y;++v)q=this.ec[v],q.zH(v),q.Ug(),this.WU.set(q.Da().toLowerCase(),q),this.XU.set(q.jb,q);for(const v of w[10]){w=this.j.qf(v[1]);if(!w)throw Error("missing nonworld object class");w.ds||w.GP(v);this.iJ.push(v);this.GQ(w)}}m(){for(const q of this.ec)q.m();d.F(this.ec);this.vx.clear();this.j=this.cb=this.gd=null}J(){return this.j}Da(){return this.Ka}La(){return this.Sa}Ki(){this.dv();return this.Zh}dv(){const q="low"===this.j.O.ci;if(this.lm||this.hW!==q){var u=this.Ra.hg;this.Zh.$D(u.map(w=>w.Xf()),
{it:u.map(w=>w.La()),BL:q,LD:!0});this.lm=!1;this.hW=q}}Rh(){this.Ra.Rh();this.lm=!0}FN(){let q=this.ec[0].Oi();for(let u=1,w=this.ec.length;u<w;++u){const r=this.ec[u];if(0!==r.ge||0!==r.he)q=Math.min(q,r.Oi())}return q}JR(){return.5*this.j.yg/this.FN()}KR(){return.5*this.j.xg/this.FN()}KN(){return this.dC?-Infinity:this.JR()}LN(){return this.dC?Infinity:this.fa()-this.JR()}MN(){return this.dC?-Infinity:this.KR()}JN(){return this.dC?Infinity:this.aa()-this.KR()}Wi(q){const u=this.KN(),w=this.LN();
q>w&&(q=w);q<u&&(q=u);this.pi!==q&&(this.pi=q,this.xk(),this.j.ea())}Vf(){return this.pi}Xi(q){const u=this.MN(),w=this.JN();q>w&&(q=w);q<u&&(q=u);this.ri!==q&&(this.ri=q,this.xk(),this.j.ea())}Wf(){return this.ri}qy(){this.Wi(this.Vf());this.Xi(this.Wf());for(const q of this.ec)q.Yl&&(q.Wi(q.Vf()),q.Xi(q.Wf()))}M6(q,u){if(this.jD!==q||this.kD!==u)this.jD=q,this.kD=u,this.K2()&&(this.Pr(),this.xk(),this.j.ea())}QE(){return this.Df?.5:this.jD}RE(){return this.Df?.5:this.kD}ZN(){const q=this.QE(),u=
this.RE();return 0>q||1<q||0>u||1<u}aQ(){this.Df&&(this.Df=!1,this.Pr(),this.xk(),this.j.ea())}YP(){this.Df||(this.Df=!0,this.Pr(),this.xk(),this.j.ea())}K2(){return!this.Df}cG(q){this.Fd!==q&&(this.Fd=q,this.xk(),this.qy(),this.j.ea())}Bc(q){q=d.zd(q);this.ve!==q&&(this.ve=q,this.xk(),this.j.ea())}Ha(){return this.ve}fa(){return this.W}Oh(q){!isFinite(q)||1>q||(this.W=q)}aa(){return this.T}Mh(q){!isFinite(q)||1>q||(this.T=q)}*Ffa(){for(const q of this.JC)yield*q.hX()}ba(q){return"number"===typeof q?
this.$y(q):this.CN(q.toString())}$y(q){q=d.ia(Math.floor(q),0,this.ec.length-1);return this.ec[q]}CN(q){return this.WU.get(q.toLowerCase())||null}az(q){return this.XU.get(q)||null}Pr(){for(const q of this.ec)q.mda()}xk(){for(const q of this.ec)q.yk()}H0(){let q=this.JC.filter(u=>u.Xz())[0];for(;q;){if(!q.Mk)return e.Ij(q.Pl),e.qt(1),e;if(q.Ou())return e.ro(0,0,0,0),e;q=q.Un.filter(u=>u.Xz())[0]}e.ro(0,0,0,0);return e}AR(){return[...this.ts]}GQ(q){if(q.cc())for(const u of q.ah.om)this.ts.add(u);else this.ts.add(q)}x$(){return[...this.rh]}cH(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.WY(this.rh,q.rh),q.rh.clear());q=[];for(const w of this.ts)this.rh.has(w)||(q.push(w.hr(u)),this.rh.add(w));return Promise.all(q)}async BO(q){if(q.Xa)throw Error("cannot load textures for family");var u=this.j.lb();!u||u.Oo()||this.rh.has(q)||(this.rh.add(q),u=q.hr(u),this.Z7(u),await u,q.Gz(),this.j.ea())}Z7(q){this.vx.add(q);q.then(()=>this.vx.delete(q)).catch(()=>this.vx.delete(q))}A7(){return Promise.all([...this.vx])}u3(q){if(q.Xa||0<q.H.length)throw Error("cannot unload textures");
this.j.lb()&&this.rh.has(q)&&(this.rh.delete(q),q.$o())}Nda(q,u){if(q!==this&&u)for(const w of this.rh)w.$f()||q.ts.has(w)||(w.$o(),this.rh.delete(w))}jv(){this.rh.clear()}async iT(q){const u=this.j,w=this.cb,r=u.na();this.WT&&(this.gd=r.wN(this.WT),this.gd.NH());w.XS(this);this.W=this.mfa;this.T=this.lfa;this.pi=u.mh/2;this.ri=u.lh/2;this.qy();this.Gaa(q);this.D8();this.Wp||this.F8();this.WQ(this.Zr);this.E8();w.HY();u.$d();const v=this.j.cea;await Promise.all(v);d.F(v);if(!u.Lk){for(const y of this.Zr)y.Q6();
for(const y of this.Zr)y.lT()}d.F(this.Zr);await Promise.all([...this.ts].map(y=>y.FF(this.j.lb())));q&&(u.Ob().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.Ao(new d.Event("beforeprojectstart")));await this.Ao(new d.Event("beforelayoutstart"));u.Lk||await u.Pc(d.C.Qa.G.PO,null,null);await this.Ao(new d.Event("afterlayoutstart"));q&&(u.Ob().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.Ao(new d.Event("afterprojectstart")));r.jca(w);await this.A7();this.Pr();this.xk();
this.Wp=!1}Gaa(q){for(const w of this.j.bd)if(!w.Xa&&w.Ef)for(const r of w.oa()){const v=r.A();var u=v.ba();u=d.ia(u.La(),0,this.ec.length-1);u=this.ec[u];v.nv(u);u.waa(r)}if(!q)for(const w of this.ec)w.HH(!1)}D8(){for(const q of this.ec)q.bZ(this.Zr),q.vG()}F8(){let q=!1;for(const [w,r]of Object.entries(this.hq)){const v=this.j.dz(parseInt(w,10));if(v&&!v.Xa&&v.XE()){for(const y of r){var u=null;if(v.Ef&&(u=this.az(y.w.l),!u))continue;u=this.j.Ii(v,u,!1,0,0,!0);u.Zc(y);q=!0;this.Zr.push(u)}d.F(r)}}for(const w of this.ec)w.HH(!0),
w.Rg();q&&(this.j.$d(),this.j.vS())}WQ(q){for(const w of q){if(!w.cc())continue;const r=w.A(),v=w.Eo();for(const y of w.I().ah.om)if(y!==w.I()){var u=y.oa();u.length>v?w.Gr(u[v]):(u=r?this.j.Ii(y,r.ba(),!0,r.ca(),r.da(),!0):this.j.Ii(y,null,!0,0,0,!0),this.j.$d(),y.HA(),w.Gr(u),q.push(u))}}}E8(){for(const q of this.iJ)this.j.qf(q[1]).cc()||this.j.Ii(q,null,!0)}B8(){const q=[],u=this.iJ;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.j.qf(y[1]);A.$f()?A.cc()&&A.ah.n1()||q.push(this.j.Ii(y,
null,!0)):(u[w]=y,++w)}d.kf(u,w);this.j.$d();this.WQ(q)}tu(q,u,w,r,v,y){if(w)return w.tu(q,u,r,v,y);w=[];for(const A of this.ec)w.push(A.tu(q,u,r,v,y));return w.flat()}async Fda(){const q=this.cb;this.j.Lk||await this.j.Pc(d.C.Qa.G.Y3,null,null);q.SP(!0);this.j.na().wy();this.Wp||this.uca();for(const u of this.ec)u.H9();for(const u of this.j.bd)if(!(u.$f()||u.Ef||u.zb().En||u.Xa)){for(const w of u.oa())this.j.zo(w);this.j.$d()}q.SP(!1);q.Vb()===this&&q.XS(null)}rca(q){const u=q.I().jb.toString();
this.hq.hasOwnProperty(u)||(this.hq[u]=[]);this.hq[u].push(q.td())}uca(){for(const q of this.ec){q.rv();for(const u of q.H){const w=u.I();!w.$f()&&w.XE()&&this.rca(u)}}}t5(){this.hq={};this.Wp=!0}ql(){return this.We}Ou(){const q=this.j,u=q.lb().zl();return"low"===q.O.ci||u&&q.gD||"low-latency"===q.Yr||this.Ra.gu()||u&&q.Am}Eg(q){const u=this.j.O,w=this.Ou();if(w){"low-latency"!==this.j.Yr&&(q.Og(null),q.wo());const r={Mj:this.j.Ed,OL:this.j.gD||this.Ra.gu()};"low"===u.ci&&(r.width=u.Vj(),r.height=
u.Ji());this.We=this.j.Nt(r)}else this.We=null;q.Og(this.We);q.Gd(this.H0());this.j.Am&&q.EY();for(const r of this.ec)r.vG();this.iR(q,this.We,this.JC,!0);w&&(q.Ng(!1),this.A9(q,this.We));this.We=null}iR(q,u,w,r){w=w.filter(v=>v.Xz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.UF()&&!A.VF()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.UF()&&!z.VF())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].m1()){this.s9(q,u,g);v+=g.length;d.F(g);continue}d.F(g)}A.Eg(q,u,r&&0===v);++v}}A9(q,
u){const w=this.j;0===this.Ra.hg.length?(q.Og(null),q.rk(),q.OM(u),q.br(u),w.Zo(u)):(b.set(0,0,w.yg,w.xg),this.Ki().cp(q,null,{pD:this,ko:3,devicePixelRatio:this.j.Wt(),Ux:this.j.Xt()*this.Fd,BD:this.Ha(),nt:b,Px:null,KL:!0}))}s9(q,u,w){w[0].Mk||(e.Ij(w[0].Pl),e.qt(1),q.Gd(e));var r=this.j.O;q.Ng(!0);for(var v of w)v.rv(),v.NQ(m);v=w[0];w=null;this.j.mF()&&q.zl()&&(r=r.DN(v))&&(w=r.VD(),q.qG(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.A(),A=y.ba();if(y.Lc()&&y.er(A.Ir())){(!v.mr()||0<y.ed)&&l.push(v);
var G=v.A().tf();h.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.A();if(J.Lc()&&J.er(J.ba().Ir())){if(J.tf()!==G)break;H.mr()?(0<J.ed&&l.push(H),h.push(H)):l.push(H)}}if(1!==h.length||h[0].DO()){this.t9(q,u,h);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.A(),A=y.ba(),y.AA(!0),p(A,q),A.Jl(v,y,q,u),y.AA(!1)}else{p(A,q);A.Jl(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.A(),G=A.ba(),p(G,q),G.Jl(y,A,q,u))}z=r;d.F(h);d.F(l)}else++z}w&&q.nE(w);d.F(m);n=null}t9(q,u,w){q.NM();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.A(),y=v.ba();v.yA(!0);p(y,q);y.QG(r,v,q)}q.MM();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.A(),y=v.ba(),p(y,q),y.Jl(r,v,q,u),v.yA(!1);q.LM()}ka(){const q={sx:this.Vf(),sy:this.Wf(),s:this.Fd,a:this.Ha(),w:this.fa(),h:this.aa(),ortho:this.Df,vpX:this.QE(),vpY:this.RE(),fv:this.Wp,persist:this.hq,fx:this.Ra.td(),layers:{}};for(const u of this.ec)q.layers[u.jb.toString()]=u.ka();return q}qa(q){this.pi=q.sx;this.ri=q.sy;this.Fd=q.s;this.ve=q.a;this.W=q.w;this.T=q.h;this.Df=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.jD=q.vpX);q.hasOwnProperty("vpY")&&(this.kD=q.vpY);this.Wp=!!q.fv;this.hq=q.persist;this.Ra.Zc(q.fx);this.lm=!0;for(const [u,w]of Object.entries(q.layers))(q=this.az(parseInt(u,10)))&&q.qa(w);this.Pr();this.xk()}Ah(q){q.CD=this.ew;var u=this.j;(u=u.xb&&!u.na().zz())&&a.pG();this.le.dispatchEvent(q);u&&a.UD()}Ao(q){q.CD=this.ew;return this.le.AL(q)}}}
{"use strict";const d=self.D;d.a3=class extends d.ja{constructor(a){super();this.j=a;this.gj=[];this.SJ=new Map;this.TJ=new Map;this.Iw=null;this.yK=[];this.pB=null;this.RB=0;this.Qw=null}m(){this.Qw=this.pB=this.Iw=this.j=null;d.F(this.gj);this.SJ.clear();this.TJ.clear();d.F(this.yK)}Ta(a){a=d.B(d.Z2,this,this.gj.length,a);this.gj.push(a);this.SJ.set(a.Da().toLowerCase(),a);this.TJ.set(a.jb,a)}J(){return this.j}e6(a){this.pB=a}p0(){if(this.pB)return this.pB;if(this.gj.length)return this.gj[0];throw Error("no first layout");
}Rq(a){return this.SJ.get(a.toLowerCase())||null}IE(a){return this.TJ.get(a)||null}I0(a){a=d.ia(Math.floor(a),0,this.gj.length-1);return this.gj[a]}lc(a){return"number"===typeof a?this.I0(a):this.Rq(a.toString())}XS(a){this.Iw=a}Vb(){return this.Iw}*fy(){this.Iw&&(yield this.Iw);this.yK.length&&(yield*this.yK)}SP(a){if(a)this.RB++;else{if(0>=this.RB)throw Error("already unset");this.RB--}}jO(){return 0<this.RB}vy(a){this.Qw=a}HY(){this.Qw=null}fr(){return!!this.Qw}hp(){const a=this.Vb();a&&a.Pr()}gp(){const a=
this.Vb();a&&a.xk()}}}
{"use strict";const d=self.D;d.h7=class extends d.ja{constructor(a){super();this.j=a;this.yx=d.B(d.Sg);this.nfa=null;this.Vn=[];this.zx=new Map;this.nm=new Map;this.Wn=new Map;this.ph=[];this.Be=[];this.ji=[];this.vw=this.Wr=this.Op=!1;this.wm=()=>this.mba();this.Ws=()=>this.nH();this.jI=()=>this.hv();this.RJ=()=>this.Iaa();this.mJ=b=>this.oS(b.instance);this.XH=()=>this.kH();this.Rv=[];this.Vc=0}m(){this.h5();this.XH=this.mJ=this.RJ=this.jI=this.Ws=this.wm=null;for(const a of this.Vn)a.Se(),a.m();
d.F(this.Vn);this.Vn=null;this.yx.m();this.yx=null;d.F(this.ph);this.ph=null;d.F(this.Be);this.Be=null;d.F(this.ji);this.ji=null;this.zx.clear();this.zx=null;this.nm.clear();this.nm=null;this.Wn.clear();this.Wn=null;d.F(this.Rv);this.j=this.Rv=null}VX(){const a=this.j.Ob();a.addEventListener("pretick",this.wm);a.addEventListener("tick2",this.Ws);a.addEventListener("beforelayoutchange",this.jI);a.addEventListener("layoutchange",this.RJ);a.addEventListener("instancedestroy",this.mJ);a.addEventListener("afterload",
this.XH)}h5(){const a=this.j.Ob();a.removeEventListener("pretick",this.wm);a.removeEventListener("tick2",this.Ws);a.removeEventListener("beforelayoutchange",this.jI);a.removeEventListener("layoutchange",this.RJ);a.removeEventListener("instancedestroy",this.mJ);a.removeEventListener("afterload",this.XH)}Ta(a){this.yx.Ic(a);a=d.mp.aZ(a,this);this.Ic(a);this.B6(a);this.Wn.set(a.Da(),0)}gE(a){a=a.QN();var b=this.yx.$(a);b=d.mp.gE(`${a}:${this.Wn.get(a)}`,b,this);this.RR(a);this.Ic(b);return b}RR(a){this.Wn.set(a,
this.Wn.get(a)+1)}Oca(){for(const a of this.Vn)a.vs||this.RR(a.QN())}t8(){for(const a of this.Wn.keys())this.Wn.set(a,0)}Ic(a){this.Vn.push(a);this.zx.set(a.Da().toLowerCase(),a)}Lh(a){a.Oz();a.vs||(d.dl(this.Vn,a),d.dl(this.ph,a),d.dl(this.Be,a),d.dl(this.ji,a),this.zx.delete(a.Da().toLowerCase()),this.i5(a),a.oh||a.m())}pa(a){this.j.pa(a,this.nfa,null)}J(){return this.j}eQ(a,b){this.nm.has(a)||this.nm.set(a,new Set);this.nm.get(a).add(b)}B6(a){for(const b of a.KE())this.eQ(b,a)}i5(a){for(const [b,
e]of this.nm.entries())e.has(a)&&(e.delete(a),0===e.size&&this.nm.delete(b))}c1(a){if(this.nm.has(a))return this.nm.get(a)}mz(a){return this.zx.get(a.toLowerCase())||null}g5(a){d.dl(this.Be,a);this.cv()}zP(a){this.Be.includes(a)?(a.Br(!0),a.Dr(!1),a.Vz(!1)):(a.Br(!1),a.Dr(!0),a.Vz(!1),this.ph.includes(a)||this.ph.push(a));this.fS()}Dy(a){a.Br(!1);a.Dr(!1);a.PF();d.dl(this.ph,a);this.cv()}IM(a){a.Br(!1);a.Dr(!1);a.Vz(!0);this.ji.push(a);d.dl(this.Be,a)}JM(a){a.Br(!1);a.Dr(!1);a.Vz(!1);a.pk(1);d.dl(this.Be,
a)}SY(a){this.IM(a);a.PF()}mba(){if(!this.J().Lk&&this.Op&&!this.Wr){for(this.vw=!0;this.ph.length;){var a=this.ph.pop();a.ad();0!==a.Vc&&(this.Vc=1);this.Be.push(a)}a=this.j.Tv;var b=this.j.Uv,e=this.j.ke;for(let c=this.Be.length-1;0<=c;c--)this.Be[c].se(a,e,b);this.vw=!1;0!==this.Vc&&this.J().ea()}}nH(){if(!this.J().Lk&&this.Op&&!this.Wr){var a;for(let b=0,e=this.ji.length;b<e;b++){const c=this.ji[b];a||(a=new Set);c.Oz();this.gS(c);a.add(c)}if(a){d.zg(this.ji,a);this.Vc=0;for(let b=0,e=this.Be.length;b<
e;b++)if(0!==this.Be[b].Vc){this.Vc=1;break}}this.cv()}}gS(a){a.oh||a.YN()&&a.jg&&a.Cn&&a.jN()}fS(){this.Op||(this.Op=!0)}cv(){this.ji.length||this.Be.length||this.ph.length||this.vw||(this.Op=!1)}hv(){for(this.Wr=!0;this.ph.length;)this.Dy(this.ph.pop());const a=new Set;for(const b of this.Be)b.hv()&&(b.Oz(),a.add(b));d.zg(this.Be,a);a.clear();for(const b of this.ji)b.hv()&&(b.Oz(),a.add(b));d.zg(this.ji,a);this.cv();for(const b of this.Vn)b.Oj()}Iaa(){this.Wr=!1}oS(a){var b=a.I();if(b=this.c1(b))if(this.j.Lk)this.Rv.push(a);
else for(const e of b)e.vs||(e.oh?this.Lh(e):e.YN()||(this.gS(e),this.Lh(e)))}kH(){for(const a of this.Rv)this.oS(a);d.F(this.Rv)}ka(){return{timelinesJson:this.zca(),scheduledTimelinesJson:this.xca(),playingTimelinesJson:this.vca(),markedForRemovalTimelinesJson:this.tca(),hasRuntimeListeners:this.Op,changingLayout:this.Wr,isTickingTimelines:this.vw}}qa(a){a&&(this.t8(),this.qaa(a.timelinesJson),this.naa(a.scheduledTimelinesJson),this.laa(a.playingTimelinesJson),this.kaa(a.markedForRemovalTimelinesJson),
this.Op=!a.hasRuntimeListeners,this.Wr=!!a.changingLayout,this.vw=!!a.isTickingTimelines,this.Oca(),this.fS(),this.cv())}zca(){return this.Vn.map(a=>a.ka())}qaa(a){for(const b of a){a=this.mz(b.name);if(!a){a=this.u$(b);if(!a)continue;a=this.mz(a);a=this.gE(a)}a.qa(b);a.w1()||this.Lh(a)}}u$(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}xca(){return this.vH(this.ph)}naa(a){this.fH(a,this.ph)}vca(){return this.vH(this.Be)}laa(a){this.fH(a,this.Be)}tca(){return this.vH(this.ji)}kaa(a){this.fH(a,
this.ji)}W$(a,b){for(const e of b)if(e===a.Da())return!0;return!1}vH(a){return a.map(b=>b.Da())}fH(a,b){var e=new Set;for(const c of b)this.W$(c,a)||e.add(c);d.zg(b,e);e=c=>g=>g.Da()===c;for(const c of a)(a=this.mz(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.D;d.mp=class extends d.ja{constructor(a,b,e){super();this.j=e.J();this.Ib=e;this.Yd=b;this.Ka=a;this.nb=[];this.WV=0;this.Sr=null;this.AT=0;this.UM();this.BC=this.Rw=null;this.ic=0;this.hd=1;this.Wd=0;this.Sd=1;this.Cn=this.fm=this.WB=!1;this.jg=!0;this.qC=this.oh=!1;this.Xr=-1;this.Ze=this.Lp=this.vs=this.EB=!1;this.gC=NaN;this.qh=[""];this.QV="";this.RK=!1;this.zB=this.Vc=0}static aZ(a,b){const e=b.yx.$(a[0]);a=d.B(d.mp,a[0],e,b);a.o6();return a}static gE(a,b,e){return d.B(d.mp,
a,b,e)}m(){if(!this.oh){this.Ib.Dy(this);this.Ib.SY(this);for(const a of this.nb)a.m();d.F(this.nb);this.Yd=this.Ib=this.j=this.nb=null;this.oh=!0;this.BC=this.Rw=null}}UM(){for(const a of this.Yd.eu().sX())this.WV=this.nb.push(d.uG.Ta(this,a))}J(){return this.j}au(a,b,e){if(this.zB){var c;for(let m=0;m<this.nb.length;m++){var g=this.nb[m];a===g.Ea()&&(g=g.Uf(e))&&b.constructor===g.Kb().constructor&&(c||(c=[]),c.push(g))}return c}}w1(){return!!this.nb.length}Wz(a){this.Ka=a}Da(){return this.Ka}QN(){return this.Yd.Da()}Yf(){return this.Yd.Yf()}bu(){return this.Yd.bu()}Mi(){return this.Yd.Mi()}rf(){return this.Yd.rf()}nk(a){for(const b of this.nb)b.nk(a)}bz(){return this.Yd.bz()}fz(){return this.Yd.fz()}Hh(){return this.Yd.Hh()}pk(a){this.hd=
a}hk(){return this.IsPlaying()?0<this.hd:!0}GN(){this.Rw||(this.Rw=new Promise(a=>{this.BC=a}))}PF(){this.Rw&&(this.BC(),this.BC=this.Rw=null)}dQ(a){this.qh=d.mp.t$(a);this.RK=!0}SO(){d.C.Oc.G.jp(this);this.Ib.pa(d.C.Oc.G.Ema);this.Ib.pa(d.C.Oc.G.Fma);this.Ib.pa(d.C.Oc.G.Gma);this.Ib.pa(d.C.Oc.G.uma);d.C.Oc.G.jp(null)}zF(){this.Xr=this.j.Uk}jN(){this.Lp||(this.Lp=!0,d.C.Oc.G.jp(this),this.Ib.pa(d.C.Oc.G.Bma),this.Ib.pa(d.C.Oc.G.Cma),this.Ib.pa(d.C.Oc.G.Dma),this.Ib.pa(d.C.Oc.G.tma),d.C.Oc.G.jp(null))}Br(a){this.WB=
a}eO(){return this.Xr===this.j.Uk}IsPlaying(a=!1){return this.eO()||this.fm&&!a?!0:this.WB}Lr(){return this.IsPlaying(!0)}Dr(a){this.fm=a}FP(a){this.jg=a;a=this.Fa();if(0>=a||a>=this.Yf())this.jg=!0}Vz(a){this.qC=a}$F(a){this.EB=a}o6(){this.vs=!0}Fa(){return this.ic}Er(a){const b=this.Fa();this.Cc(a);this.FP(!1);this.jg||this.$F(!0);if(this.Lr()||this.fm||!this.Cn)this.Lr()||this.fm||this.Cn?this.Lr()?this.Se():this.fm&&(this.Ib.Dy(this),this.PP()):this.PP();this.pv();this.aH(a,!0,b);this.FH();this.Vc&&
this.J().ea();this.sS()}Cc(a){this.ic=0>a?0:a>=this.Yf()?this.Yf():a}sS(){d.C.Oc&&this.constructor===d.mp&&(d.C.Oc.G.jp(this),this.Ib.pa(d.C.Oc.G.yma),this.Ib.pa(d.C.Oc.G.zma),this.Ib.pa(d.C.Oc.G.Ama),d.C.Oc.G.jp(null))}Play(a=!1){return this.oh||this.fm?!1:this.Lr()&&this.eO()?this.Dca():this.Lr()||!this.jg&&!a&&!this.EB?!1:this.Eca()}Dca(){this.$F(!1);this.Ib.g5(this);this.Ib.zP(this);this.GN();return!0}Eca(){this.$F(!1);this.Ib.zP(this);this.GN();return!0}Se(a=!1){this.oh||(this.FP(a),this.Ib.IM(this),
this.jg&&this.PF())}sd(a=!0,b=!1){if(!this.oh)if(!this.Lr()&&this.fm)this.Ib.Dy(this);else if(!this.jg){this.Se(!0);this.hk()?this.Cc(0):this.Cc(this.Yf());var e=this.Fa();this.pv();b?this.O$(e):this.aH(e,!1);a&&this.sS();this.FH();this.Vc&&a&&this.J().ea()}}qP(){this.sd(!1,!0)}O$(a){this.aH(a,!1,NaN,!1,!0)}hv(){if(this.oh)return!0;if(this.x1())return!1;this.Ib.JM(this);this.qP();return!0}PP(){this.ad(!0)}ad(a){if(!this.qC){if(a){this.Ze=this.Cn=!0;this.pv();for(const b of this.nb)b.ad()}else if(this.Br(!0),
this.Dr(!1),this.SO(),this.jg){this.Xr=-1;this.Wd=0;this.Sd=1;this.Lp=this.jg=!1;this.Ze=this.Cn=!0;this.hk()?this.Cc(0):this.Cc(this.Yf());this.pv();for(const b of this.nb)b.ad()}else{this.Ze=!0;this.pv();for(const b of this.nb)b.Re()}this.FH()}}pv(){this.zB=0;for(const a of this.nb)a.Dn&&(this.zB=1)}FH(){this.Vc=0;for(const a of this.nb)a.DA(),0===this.Vc&&1===a.Vc&&(this.Vc=1),this.Sr||1!==a.Kn||(this.Sr||(this.Sr=[]),this.AT=this.Sr.push(a))}se(a,b){if(0!==a||0!==this.gC){this.gC=a;var e=this.ic;
b=e+a*b*this.hd;a=this.Yd.Ys;this.ic=0>b?0:b>=a?a:b;var c=!1;b=this.bz();var g=this.fz();b||g?b&&!g?0<this.hd?this.ic>=a&&this.Cc(0):0>=this.ic&&this.Cc(a):!b&&g?0<this.hd?this.ic>=a&&(this.Cc(a),this.pk(-1*this.hd),1===this.Wd?this.Sd<this.Hh()?(this.Sd++,this.Wd=0):c=!0:0===this.Wd&&(this.Wd=1)):0>=this.ic&&(this.Cc(0),this.pk(-1*this.hd),1===this.Wd?this.Sd<this.Hh()?(this.Sd++,this.Wd=0):c=!0:0===this.Wd&&(this.Wd=1)):b&&g&&(0<this.hd?this.ic>=a&&(this.Cc(a),this.pk(-1*this.hd)):0>=this.ic&&(this.Cc(0),
this.pk(-1*this.hd))):0<this.hd?this.ic>=a&&(this.Sd<this.Hh()?(this.Sd++,this.Cc(0)):(this.Cc(a),c=!0)):0>=this.ic&&(this.Sd<this.Hh()?(this.Sd++,this.Cc(a)):(this.Cc(0),c=!0));b=this.WV;if(c){for(c=0;c<b;c++)this.nb[c].JP();this.Se(!0);this.zF()}else{g=this.AT;for(c=0;c<g;c++)this.Sr[c].uo();if(1===this.zB)for(c=0;c<b;c++){const m=this.nb[c],h=m.sf(),l=e-h;0>this.ic-h&&0<l?(this.ic=0>h?0:h>=a?a:h,m.Ga(h,!0,!1,!1,this.Ze,!1)):m.Ga(this.ic,!0,!1,!1,this.Ze,!1)}else for(c=0;c<b;c++)this.nb[c].Ga(this.ic,
!0,!1,!1,this.Ze,!1);for(c=0;c<g;c++)this.Sr[c].to();this.Ze&&(this.Ze=!1)}}}aH(a,b=!1,e=NaN,c=!1,g=!1){for(var m of this.nb)m.uo();for(const h of this.nb){m=a;if("number"===typeof e){const l=this.Fa()-h.sf(),n=e-h.sf();0>l&&0<n&&(m=h.sf(),this.Cc(m))}h.Ga(m,!1,b,!0,this.Ze,g)}for(const h of this.nb)h.to();this.Ze&&c&&(this.Ze=!1)}Oz(){if(!this.oh)for(const a of this.nb)a.Fl()}Oj(){for(const a of this.nb)a.Oj()}IY(){for(const a of this.nb)a.GY()}C6(a,b){if(b)for(const e of this.nb)if(e.Ri()){if(a){if(e.Wj()!==
a)continue}else if(e.q1())continue;e.m6(b);this.Ib.eQ(b.I(),this);break}}YN(){return this.nb.some(a=>a.Ri()?a.cE():!0)}x1(){return this.nb.some(a=>a.Ri()?a.cE()?(a=a.I())?a.$f():!1:!1:!1)}Uf(a){for(const b of this.nb)for(const e of b.ab)if(e.Aa.jd===a)return e}RN(a){for(const b of this.nb)if(a===b.Ea())return b;return null}KE(){const a=[];for(const b of this.nb)a.push(b.I());return a.filter(b=>b)}ka(){return{tracksJson:this.Bca(),name:this.Ka,playheadTime:this.Fa(),playbackRate:this.hd,pingPongState:this.Wd,
currentRepeatCount:this.Sd,isPlaying:this.WB,isScheduled:this.fm,initialStateSet:this.Cn,finishedTriggers:this.Lp,complete:this.jg,released:this.oh,markedForRemoval:this.qC,completedTick:this.Xr,implicitPause:this.EB,isTemplate:this.vs,tags:this.qh.join(" "),stringTags:this.QV,tagsChanged:this.RK,firstTick:this.Ze}}qa(a){a&&(this.raa(a.tracksJson),this.Ka=a.name,this.ic=a.playheadTime,this.hd=a.playbackRate,this.Wd=a.pingPongState,this.Sd=a.currentRepeatCount,this.WB=!!a.isPlaying,this.fm=!!a.isScheduled,
this.Cn=!!a.initialStateSet,this.Lp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.jg=!!a.complete,this.oh=!!a.released,this.qC=!!a.markedForRemoval,this.Xr=a.completedTick,this.EB=!!a.implicitPause,this.vs=!!a.isTemplate,this.qh=a.tags.split(" "),this.QV=a.stringTags,this.RK=!!a.tagsChanged,this.Ze=!!a.firstTick)}Bca(){return this.nb.map(a=>a.ka())}raa(a){a.forEach((b,e)=>{this.nb[e].qa(b)});this.nb.filter(b=>b.cE())}static t$(a){if(d.No(a))return a.slice(0);if(d.Si(a))return a.split(" ")}}}
{"use strict";const d=self.D;d.uG=class extends d.ja{constructor(a,b){super();this.vi=a;this.Nb=b;this.ef=b.eu();this.mm=this.$l=NaN;this.Wa=this.sc=null;this.Dn=0<b.sf();this.Hp=this.us=!1;this.wj=null;this.tc=this.Nb.Yj().tc;this.ab=[];this.TM();this.Kn=this.Vc=this.$k=0}static Ta(a,b){return d.B(d.uG,a,b)}m(){this.tc=null;for(const a of this.ab)a.m();d.F(this.ab);this.wj=this.Nb=this.Wa=this.sc=this.vi=this.ab=null}TM(){for(const a of this.Nb.ne().cX())this.ab.push(d.bb.Ta(this,a))}Fl(){for(const a of this.ab)a.Fl()}Oj(){for(const a of this.ab)a.Oj();
this.Wa=this.sc=null}Ab(){return this.vi}J(){return this.vi.J()}G0(){return this.tc?this.tc:this.tc=this.Nb.Yj().tc}Uf(a){for(let b=0;b<this.ab.length;b++){const e=this.ab[b];if(e.Aa.jd===a)return e}}ou(){this.sc||this.Ea()}Wm(){return this.sc?!this.sc.cr():!1}cE(){if(!this.Ri())return!1;const a=this.J().Xj(this.Yt());return a?!a.cr():!1}I(){if(this.Ri()){var a=this.JE();if(-1!==a)return this.J().qf(a)}}GY(){this.sc=null;this.$l=-1;this.Wa=null;this.mm=-1}q1(){return!!this.sc}Ea(){return this.sc&&
this.Wm()?this.sc:this.sc=this.J().Xj(this.Yt())}m6(a){if(this.sc!==a){this.Oj();this.sc=a;this.mm=a.I().La();this.$l=a.md;this.Wa=a.A();for(const m of this.aha()){const h=m.pha;switch(m.$ga.ae()){case "instance-variable":var b=a.I(),e=b.z0(m.name),c=b.BN(e);b=b.Zt(e);c===m.name&&b===m.type&&h.v7(e);break;case "behavior":var g=m.qL;e=this.I();c=a.I();b=h.Gg(c);g&&b&&(g=g.Da(),e.Pt(g),c.Pt(g),h.s7(b.jb))}}}}*aha(){for(const e of this.ab){var a=e.Kb(),b=this.I();const c={$ga:e,pha:a};switch(e.ae()){case "world-instance":c.Wta=
e.Aa.jd;break;case "instance-variable":a=a.Qq();c.name=b.BN(a);c.type=b.Zt(a);break;case "effect":b=a.zE(b.Ra);c.fsa=b;break;case "behavior":b=a.Gg(b);c.qL=b;break;case "plugin":c.Sta=b.zb()}yield c}}A(){if(this.Wa&&this.Wm())return this.Wa;const a=this.Ea();a&&(this.Wa=a.A());return this.Wa}Yt(){return this.$l?this.$l:this.Nb.Yt()}Mi(){return this.Nb.Mi()}rf(){return this.Nb.rf()}Wj(){return this.Nb.Wj()}sf(){return this.Nb.sf()}nl(){return this.Nb.nl()}nk(a){for(const b of this.G0())b.nk(a);for(const b of this.ab)b.nk(a)}ml(){return this.Nb.ml()}Dl(a){this.Nb.Dl(a)}JE(){return isNaN(this.mm)?
this.Nb.JE():this.mm}$j(){const a=this.Ea();return a&&a.ma.Ro()?a.ma.$j():this.Nb.$j()}Zj(){const a=this.Ea();return a&&a.ma.Ro()?a.ma.Zj():this.Nb.Zj()}ek(){return this.Nb.ek()}Da(){return this.Nb.Da()}Ri(){return 0===this.ek()}ad(){this.ou();if(this.Wm()||!this.Ri()){var a=this.Ab().hk()?0:this.nl();for(const b of this.ab)b.ad(a),0===this.$k&&1===b.$k&&(this.$k=1),0===this.Vc&&1===b.Vc&&(this.Vc=1);this.Kn=0;this.ab.some(b=>b.Kn)&&(this.Kn=1);this.wj=this.CR(a);this.Hp=this.us=!1;this.Ga(a)}}Re(){this.ou();
if(this.Wm()||!this.Ri()){this.vi.hk();var a=this.vi.Fa()-this.sf();this.wj=this.CR(a);for(const b of this.ab)b.Re(a)}}JP(){if(!(this.Ab().jg||(this.ou(),!this.Wm()&&this.Ri()||this.Dn))){const a=this.vi.Fa();a>=this.sf()+this.nl()?this.Ga(this.nl(),!0,!1,!0):0>=a&&this.Ga(0,!0,!1,!0)}}DA(){for(let a=0,b=this.ab.length;a<b;a++){const e=this.ab[a];e.DA();0===this.$k&&1===e.$k&&(this.$k=1);0===this.Vc&&1===e.Vc&&(this.Vc=1)}}uo(){const a=this.ab.length;for(let b=0;b<a;b++)this.ab[b].uo()}Ga(a,b=!1,
e=!1,c=!1,g=!1,m=!1){this.sc||this.Ea();const h=0===this.Nb.Ca;if(!((!this.sc||this.sc.cr())&&h||m&&h&&this.I().$f()||(a-=this.sf(),0>a))){this.s3(a,b);this.t3(a,b,g);for(let l=0,n=this.ab.length;l<n;l++)this.ab[l].Ga(a,e,c);this.r3(a,b);0!==this.$k&&(this.Wa||(this.Wa=this.sc.A()),this.Wa&&this.Wa.ra())}}to(){const a=this.ab.length;for(let b=0;b<a;b++)this.ab[b].to()}s3(a,b){if(b&&this.Dn&&!this.us){if(this.Ab().hk()){if(0>a)return;for(const e of this.ab)e.Ga(0,!1,!0)}else{if(a>this.nl())return;
for(const e of this.ab)e.Ga(this.nl(),!1,!0)}for(const e of this.ab)e.ad();this.us=!0}}r3(a,b){if(b&&this.Dn&&!this.Hp)if(this.Ab().hk()){if(a>=this.nl()){for(const e of this.ab)e.Ga(this.nl(),!1,!0);this.Hp=!0}}else if(0>=a){for(const e of this.ab)e.Ga(0,!1,!0);this.Hp=!0}}t3(a,b,e){if(!e&&b&&d.C.Oc){b=this.Ab();e=this.wj.bf;var c=this.wj.Fa(),g=e?e.Fa():b.Yf();if(a<=c||a>=g)this.wj=this.ef.xN(a,this.Nb),b.hk()?e&&this.CF(this.wj):this.wj.bf&&this.CF(this.wj)}}CR(a){const b=this.ef.D0(a,this.Nb);
return b?b:this.ef.xN(a,this.Nb)}CF(a){const b=this.Ab();d.C.Oc.G.jp(b);d.C.Oc.G.K6(a);a=b.Ib;a.pa(d.C.Oc.G.sma);a.pa(d.C.Oc.G.CF);d.C.Oc.G.jp(null);d.C.Oc.G.K6(null)}RX(){return this.Nb.Yj().MX()}pZ(a){this.Nb.Yj().oZ(a)}Hy(a){for(const b of this.ab)b.Hy(a)}fp(){for(const a of this.ab)a.fp()}Gi(){this.ou();if(this.Wm()||!this.Ri())for(const a of this.ab)a.Gi()}Hi(){this.ou();if(this.Wm()||!this.Ri()){var a=!1;for(const b of this.ab){const e=b.Hi();!a&&e&&(a=!0)}a&&(a=this.RX(),a.Er(this.Ab().Fa()),
a.nk("noease"),a.Dl(!0),a.dQ(""))}}ka(){var a=this.Ea();a=a?a.md:this.Yt();return{propertyTracksJson:this.wca(),lastKeyframeDataItemJson:this.sca(),initialStateOfNestedSet:this.us,endStateOfNestedSet:this.Hp,instanceUid:a}}qa(a){a&&(this.maa(a.propertyTracksJson),this.jaa(a.lastKeyframeDataItemJson),this.gaa(a.instanceUid),this.us=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.us=a.initialStateOfNestedSet),this.Hp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Hp=a.endStateOfNestedSet))}sca(){return this.Nb.Yj().F0(this.wj)}wca(){return this.ab.map(a=>
a.ka())}maa(a){a.forEach((b,e)=>{this.ab[e].qa(b)})}gaa(a){if(d.Um(a)&&(a=this.J().Xj(a))){var b=this.Ab();b.IY();b.C6(this.Nb.Wj(),a)}}jaa(a){this.wj=this.Nb.Yj().E0(a)}}}
{"use strict";const d=self.D;d.bb=class extends d.ja{constructor(a,b){super();this.tb=a;this.Aa=b;this.uc=b.ne();this.Kn=this.Vc=this.$k=0;this.Ee=this.Kb();this.Ub=this.Aa.Gh().Ub;this.sv=this.Tc=null}static Ta(a,b){return d.B(d.bb,a,b)}m(){this.tb=null;this.Ee&&(this.Ee.m(),this.Ee=null);this.uc=this.Aa=this.Ub=null}TE(){return!!this.sv}L5(a){this.sv=a}ne(){return this.uc}Ab(){return this.tb.Ab()}J(){return this.tb.J()}Ea(){return this.tb.Ea()}Kb(){if(this.Ee)return this.Ee;let a;switch(this.Aa.ae()){case "behavior":a=
new d.bb.mY(this);break;case "effect":a=new d.bb.w_(this);this.Vc=1;break;case "instance-variable":a=new d.bb.v2(this);break;case "plugin":a=new d.bb.G4(this);this.Vc=1;break;case "world-instance":a=new d.bb.Xo(this);this.$k=this.Vc=1;break;case "value":a=new d.bb.x7(this);break;case "audio":a=new d.bb.hY(this)}return this.Ee=a}ae(){return this.Aa.ae()}hz(){return this.Aa.ek()}$t(){return this.ne().Wy(this.Aa).ek()}ml(){return this.Aa.ml()}Dl(a){this.Aa.Dl(a)}Mi(){return this.Aa.Mi()}rf(){return this.Aa.rf()}nk(a){for(const b of this.gz())b.nk(a)}bE(){return this.Aa.bE()}gz(){return this.Ub?
this.Ub:this.Ub=this.Aa.Gh().Ub}Fl(){this.Kb().Fl()}Oj(){this.Kb().Oj()}Le(){return this.Kb().Le()}ad(a){this.Kb().ad();this.Tc=this.DR(a);this.DA()}Re(a){this.Kb().Re();this.Tc=this.DR(a)}DA(){var a=this.tb;this.Kn=0;if(a.Ri()){var b=this.Ab();a=a.Ea();const e=this.Kb(),c=this.Aa.jd;e.kk()?(b=b.au(a,e,c))&&b.length&&(this.Kn=1):this.Kn=0}}DR(a){const b=this.Ab(),e=this.uc.V0(a,this.Aa);return e?e:b.hk()?this.uc.Li(a,this.Aa):this.uc.yN(a,this.Aa)}uo(){this.Ee.uo()}Ga(a,b=!1,e=!1){let c;if(b)var g=
this.uc.Li(a,this.Aa);else{if(this.Tc){var m=this.Ab();const h=this.Tc.bf;g=this.Tc.Fa();m=h?h.Fa():m.Yf();if(a<=g||a>=m)this.Tc=this.uc.Li(a,this.Aa)}else this.Tc=this.uc.Li(a,this.Aa);g=this.Tc}g&&(c=g.bf);this.Ee.Ga(a,g,c,b,e)}Tf(a){if(this.Tc){var b=this.Ab();const c=this.Tc.bf;var e=this.Tc.Fa();b=c?c.Fa():b.Yf();if(a<=e||a>=b)this.Tc=this.uc.Li(a,this.Aa)}else this.Tc=this.uc.Li(a,this.Aa);e=this.Tc;return this.Ee.Tf(a,e,e.bf)}to(){this.Ee.to()}static PN(a,b){return b.uc.Li(a,b.Aa)}tM(){const a=
this.Aa.Gh().rM();this.Tc=null;return a}Hy(a){this.Tc=null;this.Aa.Gh().ZM(a)}fp(){this.Kb().fp()}Gi(){if(this.Kb().Gi()){const a=this.uc.Wy(this.Aa),b=this.Kb().Le();a.AP(b)}}Hi(){const a=this.Kb().Hi();a&&this.TX();this.Kb().zy();return a}TX(){const a=this.Ab().Fa(),b=this.Kb(),e=d.bb.PN(a,this),c=this.tM();c.fQ(e.ek());c.Er(a);c.nk(e.Om());c.Dl(!0);c.re(b.UN());c.AP(b.Le())}ka(){return{sourceAdapterJson:this.Kb().ka()}}qa(a){a&&this.Kb().qa(a.sourceAdapterJson)}}}
{"use strict";const d=self.D.bb;d.Xo=class{constructor(a){this.N=a;this.Jf=null;this.Fh()}m(){this.Jf&&(this.Jf.m(),this.Jf=null);this.N=null}kk(){return this.Jf.kk()}Uf(){return this.N}Fl(){this.Jf&&this.Jf.Fl()}Oj(){this.Jf&&this.Jf.Oj()}Fh(){return this.Jf?this.Jf:this.Jf=this.G8()}Qq(){}La(){return this.Qq()}du(){}ad(){this.Fh().ad()}Re(){this.Fh().Re()}uo(){this.Jf.Hq()}Ga(a,b,e,c,g){let m;switch(this.N.$t()){case "numeric":m=d.pu.Ga(a,b,e,this.N);break;case "angle":m=d.my.Ga(a,b,e,this.N);break;
case "boolean":m=d.oy.Ga(a,b,e,this.N);break;case "color":m=d.Ay.Ga(a,b,e,this.N);break;case "text":m=d.Zz.Ga(a,b,e,this.N)}this.Jf.vo(a,m,b,e,c,g)}Tf(a,b,e){switch(this.N.$t()){case "numeric":return d.pu.Ga(a,b,e,this.N);case "angle":return d.my.Ga(a,b,e,this.N);case "boolean":return d.oy.Ga(a,b,e,this.N);case "color":return d.Ay.Ga(a,b,e,this.N);case "text":return d.Zz.Ga(a,b,e,this.N)}}to(){this.Jf.Gq()}fp(){var a=this.Fh();a.oi=a.Le()}zy(){this.Fh().zy()}Le(){return this.Fh().Le()}Gi(){return this.Fh().Gi()}Hi(){return this.Fh().Hi()}UN(){const a=
this.N,b=a.tb.Ab().Fa(),e=d.PN(b,a),c=e.bf;switch(a.$t()){case "numeric":return d.pu.Ga(b,e,c,a);case "angle":return d.my.Ga(b,e,c,a);case "boolean":return d.oy.Ga(b,e,c,a);case "color":return d.Ay.Ga(b,e,c,a);case "text":return d.Zz.Ga(b,e,c,a)}}G8(){const a=this.N;switch(a.bE()?a.$t():""){case "combo":case "boolean":case "text":case "string":return new d.vf.EO(this);case "numeric":case "number":case "angle":return"combo"===this.N.hz()?new d.vf.EO(this):new d.vf.FO(this);case "color":case "offsetColor":return new d.vf.LY(this);
default:return new d.vf.FO(this)}}ka(){return{propertyAdapterJson:this.Fh().ka()}}qa(a){a&&this.Fh().qa(a.propertyAdapterJson)}}}
{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b);this.Ex=NaN}Qq(){return this.N.Aa.sg[0]}La(){return this.Ex?this.Ex:super.La()}du(){return this.N.tb.Ea()}v7(b){this.N.Aa.sg[0]!==b&&(this.Ex=b)}Ga(b,e,c,g,m){this.Fh().aE(e.Bb())&&super.Ga(b,e,c,g,m)}Tf(b,e,c){if(this.Fh().aE(e.Bb()))return super.Tf(b,e,c)}ka(){return Object.assign(super.ka(),{index:this.Ex})}qa(b){b&&(super.qa(b),this.Ex=b.index)}}d.bb.v2=a}
{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b);this.jb=NaN}Qq(){return this.N.Aa.sg[1]}du(){var b=this.N.Aa,e=this.jb?this.jb:b.sg[0];b=this.N.tb.Ea();e=b.pN(e);return b.cd[e].ma}Gg(b){return b.Oy(this.N.Aa.sg[2])}s7(b){this.N.Aa.sg[0]!==b&&(this.jb=b)}Ga(b,e,c,g,m){const h=this.N.tb.Ea();this.Gg(h.I())&&super.Ga(b,e,c,g,m)}Tf(b,e,c){const g=this.N.tb.Ea();if(this.Gg(g.I()))return super.Tf(b,e,c)}ka(){return Object.assign(super.ka(),{sid:this.jb})}qa(b){b&&(super.qa(b),
this.jb=b.sid)}}d.bb.mY=a}{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b)}Qq(){return this.N.Aa.sg[1]}du(){const b=this.N.tb.A().ng,e=this.zE(b.Ra).La();return b.iu(e)?b.kl(e):null}zE(b){return b.ll(this.N.Aa.sg[0])}Ga(b,e,c,g,m){this.YR()&&super.Ga(b,e,c,g,m)}Tf(b,e,c){if(this.YR())return super.Tf(b,e,c)}YR(){const b=this.N.tb.A().ng,e=this.zE(b.Ra);if(e)return b.iu(e.La())}}d.bb.w_=a}
{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b)}Qq(){return this.N.Aa.sg[0]}du(){return this.N.tb.Ea().ma}Ga(b,e,c,g,m){var h=this.N.tb;const l=h.I().zb();h=h.Ea().I().zb();l===h&&super.Ga(b,e,c,g,m)}Tf(b,e,c){var g=this.N.tb;const m=g.I().zb();g=g.Ea().I().zb();if(m===g)return super.Tf(b,e,c)}}d.bb.G4=a}
{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b);this.ob=0;this.GB=!1}kk(){return!1}ad(){const b=this.N.ne();let e=this.N.Aa;e=b.Wy(e);this.ob=e.Ac()}Re(){}Bb(){this.GB||this.N.Ga(0);return this.ob}Ga(b,e,c){this.ob=d.bb.pu.Ga(b,e,c,this.N);this.GB=!0}fp(){}zy(){}Le(){return this.ob}Gi(){return!1}Hi(){return!1}ka(){return{value:this.ob,init:this.GB}}qa(b){b&&(this.ob=b.value,this.GB=b.hasOwnProperty("init")?b.init:!0)}}d.bb.x7=a}
{"use strict";const d=self.D;class a extends d.bb.Xo{constructor(b){super(b);this.Ck=!1;this.os=this.Xb=this.De=null;this.vi=this.N.Ab();this.tb=this.N.tb;this.mx=this.N.Aa.sg;this.UI=this.mx[0];this.MK=this.mx[1];this.Uh=this.mx[3]?this.mx[3]:Math.random().toString(36).slice(2);this.Hx=this.gq=this.Mn=NaN;this.Xg=null;this.XR()}m(){super.m();this.Xg=this.UI=this.mx=this.tb=this.vi=this.os=this.Xb=this.De=null}XR(){if(self.D.C.Audio){var b=this.N.J().cz("audio");b&&(this.De=b.Qi().ma);this.Xb=self.D.C.Audio.pb;
this.os=self.D.C.Audio.ib}}iS(){if(!this.Xg){var b=this.N.tb.Uf("audioSource");b&&(this.Xg=b.Kb())}}n$(){const b=this.N.tb.Uf("volume");return b?b.Kb().gq:this.gq}Fl(){super.Fl();this.Ck=!1;this.De&&(this.os&&(this.Mn=this.os.dna.call(this.De,this.Uh),this.gq=this.os.gra.call(this.De,this.Uh)),this.Xb&&this.Xb.Se.call(this.De,this.Uh))}kp(b){this.Hx=b}ad(){super.ad();this.Mn=NaN;this.Ck=!1}Re(){super.Re();const b=this.N.Ab().Fa();this.Mn=b-this.MK;switch(this.N.Aa.jd){case "volume":this.gq=this.N.Tf(b)}this.Ck=
!1}Ga(b,e,c,g,m){if(this.De)switch(this.N.Aa.jd){case "audioSource":if(!this.vi.hk())break;if(g){this.Xb&&this.Xb.Se.call(this.De,this.Uh);break}if(b<this.MK){this.Ck=!1;break}e=this.os.cna.call(this.De,this.Uh);this.vi.hd!==e&&this.Xb.pk.call(this.De,this.Uh);if(this.Ck)break;this.Ck=!0;if(isNaN(this.Mn)){const h=self.performance.now(),l=b-this.MK;this.De.Iz("get-suspended").then(n=>{if("suspended"===n)this.Ck=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Xb){let p=this.Hx;isNaN(p)?(this.kp(0),
p=0):this.kp(p);this.Xb.Play.call(this.De,this.UI,0,p,this.Uh,n)}})}else{const h=this.Mn;this.Mn=NaN;const l=this.n$();this.gq=NaN;this.De.Iz("get-suspended").then(n=>{"suspended"===n?this.Ck=!1:this.Xb&&(this.kp(l),this.Xb.Play.call(this.De,this.UI,0,l,this.Uh,h))})}break;case "volume":this.iS(),super.Ga(b,e,c,g,m)}}Tf(b,e,c){if(this.De)switch(this.N.Aa.jd){case "volume":return this.iS(),super.Tf(b,e,c)}}WN(){return this.Xg?this.Xg.Hx:0}P6(b,e){this.Xg&&this.Xg.kp(this.WN()+e);this.Xb&&this.Xg&&
this.Xb.kp.call(this.De,this.Xg.Uh)}GX(b,e){this.Xg&&this.Xg.kp(e);this.Xb&&this.Xg&&this.Xb.kp.call(this.De,this.Xg.Uh)}ka(){return{audioPlaybackStarted:this.Ck,audioTag:this.Uh,pauseTime:this.Mn,pauseVolume:this.gq,volume:this.Hx}}qa(b){b&&(this.Ck=b.audioPlaybackStarted,this.Uh=b.audioTag,this.Mn=b.pauseTime,this.gq=b.pauseVolume,this.Hx=b.volume,this.XR())}}d.bb.hY=a}"use strict";function ic(d,a,b){return d.N.Ab().hk()?a():b()}function jc(d,a,b){return"relative"===d.N.rf()?a():b()}
function kc(d){if(d.Us)return d.Us;d.Us=d.Ee.du();return d.Us}function lc(d,a=!1){const b=[];for(const e of d){d=e.tb.sf();for(const c of e.gz())a&&0===c.Fa()?b.push({time:d+c.Fa(),value:c.Th}):a||b.push({time:d+c.Fa(),value:c.Th})}return b.sort((e,c)=>e.time-c.time)}function mc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.D.bb.vf=class{constructor(d){this.Ee=d;this.N=d.Uf();this.Wa=this.N.tb.A();this.jd=this.N.Aa.jd;this.qs=!1;this.Us=this.oi=null}m(){this.Us=this.oi=this.Wa=this.N=this.Ee=null}kk(){return!1}Fl(){}Oj(){this.Us=this.oi=this.Wa=null}Kb(){return this.Ee}Uf(){return this.N}A(){return this.Wa?this.Wa:this.Wa=this.N.tb.A()}ad(){}Re(){}zy(){this.oi=null}Le(){}Gi(){}Hi(){}aE(d){return typeof this.Kl()===typeof d}Hq(){}vo(){}Gq(){}qp(){return ic(this,()=>{const d=this.N.Aa;return this.N.ne().Wy(d)},()=>
{const d=this.N.Aa;return this.N.ne().Go(d)}).Th}iA(){const d=this.N.Ab().Fa()-this.N.tb.sf();return ic(this,()=>{const a=this.N.Aa;return this.N.ne().Li(d,a)},()=>{const a=this.N.Aa,b=this.N.ne(),e=b.yN(d,a);return e?e:b.Go(a)}).Th}lA(){}Ue(){return this.Ee.La()}ka(){return{firstAbsoluteUpdate:this.qs,saveState:this.oi}}qa(d){d&&(this.qs=d.firstAbsoluteUpdate,this.oi=d.saveState)}};
{"use strict";const d=self.D,a=new Map,b=[0,0,0];class e extends d.bb.vf{constructor(c){super(c)}ad(){}Re(){}Le(){const c=this.N.ae(),g=kc(this),m=this.Ue();switch(c){case "behavior":return this.FA(g.zc(m));case "effect":return this.FA(g[m]);case "plugin":return this.FA(g.zc(m));case "world-instance":return this.FA(this.Kl())}}Gi(){const c=this.qp();return!this.VQ(c,this.Kl())}Hi(){return d.pe(this.oi)?!1:!this.VQ(this.oi,this.Kl())}VQ(c,g){return c.Em(g)}qp(){const c=super.qp();return this.mA(c)}iA(){const c=
super.iA();return this.mA(c)}lA(){}FA(c){return d.Vm(c,d.eb)?c.toArray().slice(0,3):c.slice(0,3)}mA(c){return d.Vm(c,d.eb)?c:new d.eb(c[0],c[1],c[2],1)}aE(){return!0}kk(){return!0}Hq(){var c=this.N.Ab(),g=this.N.Ea();const m=this.N.Kb();(c=c.au(g,m,this.jd))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.N.ae(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.jd)||g.set(this.jd,{zX:!1,color:new d.eb(0,0,0,1)}))}NR(c,g,m){c=a.get(c).get(g).get(m);c.zX=!0;return c.color}vo(c,g){var m=this.N.Ab(),
h=this.N.tb;c=this.N.Ea();var l=this.N.Kb();const n=this.N.ae();if((l=m.au(c,l,this.jd))&&1<l.length){if(l=lc(l,!0),m=m.Fa(),m=mc(m,l))l=m.time-h.sf(),0===l?this.NR(c,n,this.jd).lW(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.N.Ga(l,!1,!0),m=d.eb.kE(m,l[0]),h=d.eb.kE(h,l[1]),g=d.eb.kE(g,l[2]),this.NR(c,n,this.jd).lW(m,h,g))}else this.Ak(g[0],g[1],g[2])}Gq(){const c=this.N.Ea();if(a.has(c)){var g=a.get(c),m=this.N.ae();if(g.has(m)){var h=g.get(m);if(h.has(this.jd)){var l=h.get(this.jd),n=l.color;
l.zX&&this.Ak(n.Ya,n.Ja,n.$a);0===h.size&&g.delete(m);0===g.size&&a.delete(c)}}}}Kl(){const c=this.N.ae(),g=kc(this),m=this.Ue();switch(c){case "behavior":return this.mA(g.zc(m));case "effect":return g[m].clone();case "plugin":return this.mA(g.zc(m));case "world-instance":return this.A().gb.clone()}}Ak(c,g,m){const h=this.N.ae(),l=kc(this),n=this.Ue();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=m;l.dg(n,b);break;case "effect":l[n].ut(c,g,m);break;case "plugin":b[0]=c;b[1]=g;b[2]=m;l.dg(n,b);break;
case "world-instance":this.A().L6(c,g,m)}}ka(){}qa(){}}d.bb.vf.LY=e}
{"use strict";const d=self.D,a=d.bb;class b extends d.bb.vf{constructor(e){super(e)}ad(){}Re(){}Le(){return this.Kl()}Gi(){return this.qp()!==this.Le()}Hi(){return d.pe(this.oi)?!1:this.oi!==this.Le()}kk(){return!1}vo(e,c){const g=this.N,m=g.tb,h=g.ae();var l=g.Ab();const n=m.Ea(),p=g.Kb();(l=l.au(n,p,this.jd))&&1<l.length&&(l=lc(l),e=mc(e+m.sf(),l))&&(c=e.value);switch(g.$t()){case "numeric":if(!a.pu.Hl(this.Ue(),kc(this),c,h))return;break;case "angle":if(!a.my.Hl(this.Ue(),kc(this),c,h))return;
break;case "boolean":if(!a.oy.Hl(this.Ue(),kc(this),c,h))return;break;case "color":if(!a.Ay.Hl(this.Ue(),kc(this),c,h))return;break;case "text":if(!a.Zz.Hl(this.Ue(),kc(this),c,h))return}this.Ak(c)}Kl(){const e=this.N.ae(),c=kc(this),g=this.Ue();switch(e){case "behavior":return c.zc(g);case "effect":return c[g];case "instance-variable":return c.Ne(g);case "plugin":return c.zc(g)}}Ak(e){const c=this.N.ae(),g=kc(this),m=this.Ue();switch(c){case "behavior":g.dg(m,e);break;case "effect":g[m]=e;break;
case "instance-variable":g.hn(m,e);break;case "plugin":g.dg(m,e)}}}d.bb.vf.EO=b}
{"use strict";const d=self.D,a=new Map,b=(c,g,m,h,l)=>a.set(c,{mha:g,Dfa:m,qga:h,round:l});b("offsetX",(c,g)=>c.IO(g),(c,g)=>c.Qg(g),c=>c.ca(),!0);b("offsetY",(c,g)=>c.JO(g),(c,g)=>c.Ph(g),c=>c.da(),!0);b("offsetWidth",(c,g)=>c.HO(g),(c,g)=>c.Oh(g),c=>c.fa(),!0);b("offsetHeight",(c,g)=>c.GO(g),(c,g)=>c.Mh(g),c=>c.aa(),!0);b("offsetAngle",(c,g)=>c.D3(g),(c,g)=>c.Bc(g),c=>c.Ha(),!1);b("offsetOpacity",(c,g,m,h)=>{m=c.Oe()+g;0===h.Rc?(1<m?h.Rc+=m-1:0>m&&(h.Rc+=m),c.E3(g)):(c=c.Oe()+g,0<g&&0<h.Rc?1<c&&
(h.Rc+=c-1):0<g&&0>h.Rc?(h.Rc+=g,0<h.Rc&&(h.Rc=0)):0>g&&0<h.Rc?(h.Rc+=g,0>h.Rc&&(h.Rc=0)):0>g&&0>h.Rc&&0>c&&(h.Rc+=c))},(c,g)=>{c.El(g)},c=>c.Oe(),!1);b("offsetOriginX",(c,g)=>c.F3(g),(c,g)=>c.zr(g),c=>c.ol(),!1);b("offsetOriginY",(c,g)=>c.G3(g),(c,g)=>c.Ar(g),c=>c.pl(),!1);b("offsetZElevation",(c,g)=>c.H3(g),(c,g)=>c.xf(g),c=>c.fb(),!0);b("offsetScaleX",(c,g,m)=>{const h=0>c.fa()?-1:1;c.HO(m.$j()*h*g)},(c,g,m)=>{c.Oh(m.$j()*g)},(c,g)=>{const m=0>c.fa()?-1:1;if(c.Jo()){var h=c.Ia(),l=g.Ab().RN(h.Ea());
l?h=h.fa()/l.$j():(l=h.Ea().ma,h=l.Ro()?h.fa()/l.$j():1);return c.fa()*m/(g.$j()*h)}return c.fa()*m/g.$j()},!1);b("offsetScaleY",(c,g,m)=>{const h=0>c.aa()?-1:1;c.GO(m.Zj()*h*g)},(c,g,m)=>{c.Mh(m.Zj()*g)},(c,g)=>{const m=0>c.aa()?-1:1;if(c.Io()){var h=c.Ia(),l=g.Ab().RN(h.Ea());l?h=h.aa()/l.Zj():(l=h.Ea().ma,h=l.Ro()?h.aa()/l.Zj():1);return c.aa()*m/(g.Zj()*h)}return c.aa()*m/g.Zj()},!1);class e extends d.bb.vf{constructor(c){super(c);this.Rc=this.Zb=0;this.IV=this.KV=this.JV=this.nJ=this.pJ=this.oJ=
null;this.xK=!1;this.Xn=d.Vm(this.N.Ab(),d.n7)?new d.bb.vf.C3(this):new d.bb.vf.B3(this);const g=this.N.Aa.jd;switch(this.N.ae()){case "world-instance":c=a.get(g);this.oJ=c.qga;this.pJ=c.mha;this.nJ=c.Dfa;this.xK=c.round;break;case "audio":this.JV=c.WN,this.KV=c.P6,this.IV=c.GX,this.xK=!0}}m(){this.nJ=this.pJ=this.oJ=this.Xn=null;super.m()}kk(){return this.Xn.kk()}UP(c){this.Zb=c}ad(){const c=this.Xn.ad();"number"===typeof c&&(this.Zb=c);this.Rc=0}Re(){const c=this.Xn.Re();"number"===typeof c&&(this.Zb=
c)}Le(){return this.Kl()}Gi(){return this.qp()!==this.Le()}Hi(){return d.pe(this.oi)?!1:this.oi!==this.Le()}Hq(){this.Xn.Hq()}vo(c,g,m,h,l,n,p){return this.Xn.vo(c,g,m,h,l,n,p)}Gq(){this.Xn.Gq()}Kl(){const c=kc(this),g=this.Ue(),m=this.A(),h=this.N.tb;switch(this.N.ae()){case "behavior":return c.zc(g);case "effect":return c[g];case "instance-variable":return c.Ne(g);case "plugin":return c.zc(g);case "world-instance":return this.oJ(m,h);case "audio":return this.JV.call(this.Kb(),m,h)}}Ak(c){const g=
kc(this),m=this.Ue(),h=this.A(),l=this.N.tb;switch(this.N.ae()){case "behavior":g.yF(m,c);break;case "effect":g[m]+=c;break;case "instance-variable":g.n6(m,c);break;case "plugin":g.yF(m,c);break;case "world-instance":this.pJ(h,c,l,this);break;case "audio":this.KV.call(this.Kb(),h,c,l,this)}}fT(c){const g=kc(this),m=this.Ue(),h=this.A(),l=this.N.tb;switch(this.N.ae()){case "behavior":g.dg(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.hn(m,c);break;case "plugin":g.dg(m,c);break;case "world-instance":this.nJ(h,
c,l);break;case "audio":this.IV.call(this.Kb(),h,c,l)}}Mr(c,g,m,h,l,n){this.Xn.Mr(c,g,m,h,l,n)}Il(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.Kl();this.Ak((0===c?this.xK?Math.round(h):h:d.toFixed(h,c))-h,g,m)}ka(){return Object.assign(super.ka(),{v:this.Zb,a:this.Rc})}qa(c){c&&(super.qa(c),this.Zb=c.v,this.Rc=c.a)}}d.bb.vf.FO=e}
{"use strict";class d{constructor(b){this.gL=!1;this.ob=0;this.ab=b;for(let e=0,c=this.ab.length;e<c;e++)this.ab[e].L5(this)}hQ(){this.gL=!0}re(b){this.ob=b}Bb(){return this.ob}sd(){this.gL=!1;this.ob=0}}class a{constructor(b){this.Ae=b}m(){this.Ae=null}ad(){const b=this.Ae;this.Ae.Uf();return jc(b,()=>ic(b,()=>0,()=>b.Kb().UN()),()=>{})}Re(){}kk(){switch(this.Ae.Uf().rf()){case "relative":return!1;case "absolute":return!0}}Hq(){var b=this.Ae.Uf(),e=b.Aa.jd;switch(b.rf()){case "absolute":if(b.TE())b.sv.sd();
else{const c=b.Ab(),g=b.Ea();b=b.Kb();(e=c.au(g,b,e))&&1<e.length&&new d(e)}}}vo(b,e,c,g,m,h){var l=this.Ae,n=this.Ae.Uf();switch(n.rf()){case "relative":n=l.Zb;l.Ak(e-n,c,g);h&&this.Mr(b,c,g,m,n,e);l.UP(e);break;case "absolute":if(c=n.Ab(),b=n.tb,n.Ea(),n.Kb(),n.TE()){if(l=n.sv,g=lc(l.ab,!0),c=c.Fa(),c=mc(c,g))b=c.time-b.sf(),0===b?(l.hQ(),l.re(l.Bb()+e)):0>b||(n=n.Tf(b),l.hQ(),l.re(l.Bb()+(e-n)))}else l.fT(e)}}Gq(){const b=this.Ae;var e=this.Ae.Uf();switch(e.rf()){case "absolute":e.TE()&&(e=e.sv,
e.gL&&b.fT(e.Bb()))}}Mr(b,e,c,g,m,h){const l=this.Ae;g||(e&&b===e.Fa()?l.Il(e.Ac(),e,c):c&&b===c.Fa()?l.Il(c.Ac(),e,c):0===h-m&&l.Il(e.Ac(),e,c))}}self.D.bb.vf.B3=a}
{"use strict";class d{constructor(a){this.Ae=a}m(){this.Ae=null}ad(){const a=this.Ae;a.qs=!0;return this.lA(a.qp())}Re(){const a=this.Ae;if(a.qp()!==a.iA())return a.qs=!0,this.lA(a.iA())}kk(){return!1}Hq(){}vo(a,b,e,c,g,m){const h=this.Ae,l=h.Zb;switch(h.Uf().rf()){case "relative":h.Ak(b-l,e,c);m&&this.Mr(a,e,c,g,l,b);break;case "absolute":h.qs?(h.qs=!1,h.Ak(l,e,c)):(h.Ak(b-l,e,c),m&&this.Mr(a,e,c,g,l,b))}h.UP(b)}Gq(){}lA(a){return a-this.Ae.Le()}Mr(a,b,e,c,g,m){const h=this.Ae;c?b&&a===b.Fa()?h.Il(b.Ac(),
b,e):e&&a===e.Fa()?h.Il(e.Ac(),b,e):e||h.Il(b.Ac(),b,e):b&&a===b.Fa()?h.Il(b.Ac(),b,e):e&&a===e.Fa()?h.Il(e.Ac(),b,e):0===m-g&&h.Il(b.Ac(),b,e)}}self.D.bb.vf.C3=d}
{"use strict";const d=self.D,a=self.Gt;d.bb.pu=class{constructor(){}static Hl(b,e,c,g){let m;switch(g){case "behavior":m=e.zc(b);break;case "effect":m=e[b];break;case "instance-variable":m=e.Ne(b);break;case "plugin":m=e.zc(b)}return m===c?!1:!0}static Ga(b,e,c,g){if(!c)return c=g.Aa,c=g.ne().Go(c),c.Ac();var m=g.Mi();"default"===m&&(m="continuous");"combo"===g.hz()&&(m="discrete");if("discrete"===m)return e.Ac();if("continuous"===m||"step"===m){"step"===m&&(m=g.Ab().bu(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var h=e.Fa();const l=c.Fa();m=e.Ac();const n=c.Ac();if(m===n)return m;b=d.normalize(b,h,l);const p=e.Om();e=e.rE("cubic-bezier");c=c.rE("cubic-bezier");e&&e.ox&&c&&c.jB?(h=l-h,h=a.Ho(p)(h*b,0,1,h),h=a.Ho("cubicbezier")(h,m,m+e.KK,n+c.LI,n)):h=a.Ho(p)((l-h)*b,m,n-m,l-h);return"integer"===g.hz()?Math.floor(h):h}}}}
{"use strict";const d=self.D;d.bb.my=class{constructor(){}static Hl(a,b,e,c){let g;switch(c){case "behavior":g=b.zc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.Ne(a);break;case "plugin":g=b.zc(a)}return g===e?!1:!0}static Ga(a,b,e,c){if(!e)return b=c.Aa,b=c.ne().Go(b),b.Ac();var g=c.Mi();"default"===g&&(g="continuous");"combo"===c.hz()&&(g="discrete");if("discrete"===g)return b.Ac();if("continuous"===g||"step"===g){"step"===g&&(c=c.Ab().bu(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Fa(),h=e.Fa();c=b.Ac();e=e.Ac();if(g=b.rE("angle")){const l=g.wK;if(c===e&&0===l)return c;a=d.normalize(a,m,h);b=self.Gt.Ho(b.Om())(a,0,1,1);switch(g.EI){case "closest":return d.oL(c,e,b,l);case "clockwise":return d.Kfa(c,e,b,l);case "anti-clockwise":return d.Jfa(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,m,h);b=self.Gt.Ho(b.Om());return d.oL(c,e,b(a,0,1,1))}}}}}"use strict";
self.D.bb.oy=class{constructor(){}static Hl(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Ne(d);break;case "plugin":c=a.zc(d)}return!!c===!!b?!1:!0}static Ga(d,a,b,e){return b?a.Ac()?1:0:(d=e.Aa,d=e.ne().Go(d),d.Ac()?1:0)}};
{"use strict";const d=self.D,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.bb.Ay=class{constructor(){}static Hl(c,g,m,h){let l;switch(h){case "behavior":l=g.zc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.Ne(c);break;case "plugin":l=g.zc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.YW(m),a[0]=Math.floor(255*e.Ya),a[1]=Math.floor(255*e.Ja),a[2]=Math.floor(255*e.$a));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.YW(l),b[0]=Math.floor(255*e.Ya),b[1]=Math.floor(255*e.Ja),b[2]=Math.floor(255*
e.$a));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Ga(c,g,m,h){if(!m)return g=h.Aa,g=h.ne().Go(g),g=g.Ac(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.Mi();"default"===l&&(l="continuous");if("discrete"===l)return g=g.Ac(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.Ab().bu(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Fa();l=m.Fa();var n=g.Ac(),p=m.Ac();const q=d.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.Gt.Ho(g.Om());h=l-h;
l=h*q;a[0]=c===u?c:g(l,c,u-c,h);a[1]=m===w?m:g(l,m,w-m,h);a[2]=n===p?n:g(l,n,p-n,h);return a}}}}"use strict";self.D.bb.Zz=class{constructor(){}static Hl(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Ne(d);break;case "plugin":c=a.zc(d)}return c===b?!1:!0}static Ga(d,a,b,e){return b?a.Ac():(d=e.Aa,d=e.ne().Go(d),d.Ac())}};
{"use strict";const d=self.D;d.Sg=class{constructor(){this.xx=new Map}m(){for(const a of this.xx.values())a.m();this.xx.clear();this.xx=null}Ic(a){a=new d.g7(a);this.xx.set(a.Da(),a)}$(a){return this.xx.get(a)}static Ru(a,b,e,c){if(b)for(const g of b)d.Sg.XQ("create",g,a,e,c)}static av(a,b,e,c){a.length?b.forEach((g,m)=>{a[m].qa(g)}):b.forEach(g=>{d.Sg.XQ("load",g,a,e,c)})}static XQ(a,b,e,c,g){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.bX]),a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}switch(a){case "load":m.qa(b);e.push(m);break;case "create":"function"!==typeof m.ml||m.ml()?e.push(m):m.m()}}}}
{"use strict";const d=self.D;d.g7=class{constructor(a){this.Ka="";this.Ys=NaN;this.tg=0;this.qg=this.og="default";this.AC=this.oC=!1;this.Ns=1;this.ef=null;a&&(this.Ka=a[0],this.Ys=a[1],this.tg=a[2],this.og=a[3],this.qg=a[4],this.oC=!!a[6],this.AC=!!a[7],this.Ns=a[8],this.ef=new d.pQ(a[5],this))}m(){this.ef.m();this.ef=null}eu(){this.ef||(this.ef=new d.pQ(null,this));return this.ef}Da(){return this.Ka}Wz(a){this.Ka=a}Yf(){return this.Ys}bu(){return this.tg}Mi(){return this.og}rf(){return this.qg}bz(){return this.oC}fz(){return this.AC}Hh(){return this.Ns}ka(){return{trackDataJson:this.ef.ka(),
name:this.Ka,totalTime:this.Ys,step:this.tg,interpolationMode:this.og,resultMode:this.qg,loop:this.oC,pingPong:this.AC,repeatCount:this.Ns}}qa(a){a&&(this.eu().qa(a.trackDataJson),this.Ka=a.name,this.Ys=a.totalTime,this.tg=a.step,this.og=a.interpolationMode,this.qg=a.resultMode,this.oC=a.loop,this.AC=a.pingPong,this.Ns=a.repeatCount)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.ef=e;this.qn=this.JB=null;this.mm=this.$l=NaN;this.qg=this.og="default";this.dh=!1;this.uc=this.fi=null;this.Sc="";this.Es=null;this.LK=0;this.mC=this.ef.Yd.Yf();this.Ca=0;this.Ka="";b&&(b[0]&&(this.JB=b[0],this.$l=b[0][2],this.mm=b[0][1]),this.og=b[1],this.qg=b[2],this.dh=!!b[3],b[6]&&(this.Sc=b[6]),b[7]&&(this.Es=b[7],this.LK=b[7][0],this.mC=b[7][1]),b[8]&&(this.qn=b[8]),b[8]&&(this.qn=b[8]),b[9]&&(this.Ca=b[9]),b[10]&&(this.Ka=b[10]),this.fi=
new d.sO(b[4],this),this.uc=new d.cP(b[5],this))}m(){this.ef=this.JB=null;this.fi&&(this.fi.m(),this.fi=null);this.uc&&(this.uc.m(),this.uc=null);this.Es=null}eu(){return this.ef}Yj(){this.fi||(this.fi=new d.sO(null,this));return this.fi}ne(){this.uc||(this.uc=new d.cP(null,this));return this.uc}JE(){return this.mm}Yt(){return this.$l}Mi(){return this.og}rf(){return this.qg}ml(){return this.dh}Dl(b){this.dh=!!b}Wj(){return this.Sc}sf(){return this.LK}nl(){return this.mC}$j(){return this.qn[0]}Zj(){this.qn||
(this.qn=[]);return this.qn[1]}ek(){return this.Ca}Da(){return this.Ka}ka(){return{keyframeDataJson:this.fi.ka(),propertyTrackDataJson:this.uc.ka(),instanceData:this.JB,additionalInstanceData:this.qn,instanceUid:this.$l,objectClassIndex:this.mm,interpolationMode:this.og,resultMode:this.qg,enabled:this.dh,id:this.Sc,nestedData:this.Es,type:this.Ca,name:this.Ka}}qa(b){b&&(this.JB=b.instanceData,this.$l=b.instanceUid,this.mm=b.objectClassIndex,this.og=b.interpolationMode,this.qg=b.resultMode,this.dh=
b.enabled,this.Sc=b.id,this.Ca=b.type?b.type:0,this.Ka=b.name?b.name:"",this.mC=this.ef.Yd.Yf(),b.nestedData&&(this.Es=b.nestedData,this.LK=this.Es[0],this.mC=this.Es[1]),b.additionalInstanceData&&(this.qn=b.additionalInstanceData),this.Yj().qa(b.keyframeDataJson),this.ne().qa(b.propertyTrackDataJson))}}d.pQ=class{constructor(b,e){this.Yd=e;this.wq=[];d.Sg.Ru(this.wq,b,a,this)}m(){this.Yd=null;for(const b of this.wq)b.m();d.F(this.wq);this.wq=null}D0(b,e){e=e.Yj().tc;const c=e.length;for(let g=0;g<
c;g++){const m=e[g];if(m.Fa()===b)return m}}xN(b,e){e=e.Yj().tc;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Fa()<=b)return g}}*sX(){for(const b of this.wq)yield b}ka(){return{trackDataItemsJson:this.wq.map(b=>b.ka())}}qa(b){b&&d.Sg.av(this.wq,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.uc=e;this.PC="";this.Ca=this.jd=this.sg=null;this.kh=this.li=NaN;this.qg=this.og="default";this.dh=!1;this.Aj=null;this.XA=!0;b&&(this.PC=b[0][0],this.sg=b[0].slice(1),this.jd=b[1],this.Ca=b[2],this.li=b[3],this.kh=b[4],this.og=b[5],this.qg=b[6],this.dh=!!b[7],this.Aj=new d.bP(b[8],this),this.XA=b[9])}m(){this.Aj.m();this.sg=this.uc=this.Aj=null}ne(){return this.uc}Gh(){this.Aj||(this.Aj=new d.bP(null,this));return this.Aj}ae(){return this.PC}ek(){return this.Ca}fQ(b){this.Ca=
b}Mi(){return this.og}rf(){return this.qg}ml(){return this.dh}Dl(b){this.dh=!!b}bE(){return!!this.XA}ka(){return{propertyKeyframeDataJson:this.Aj.ka(),sourceAdapterId:this.PC,sourceAdapterArguments:this.sg,property:this.jd,type:this.Ca,min:this.li,max:this.kh,interpolationMode:this.og,resultMode:this.qg,enabled:this.dh,canHavePropertyKeyframes:this.XA}}qa(b){b&&(this.PC=b.sourceAdapterId,this.sg=b.sourceAdapterArguments,this.jd=b.property,this.Ca=b.type,this.li=b.min,this.kh=b.max,this.og=b.interpolationMode,
this.qg=b.resultMode,this.dh=b.enabled,this.XA=b.canHavePropertyKeyframes,this.Gh().qa(b.propertyKeyframeDataJson))}}d.cP=class{constructor(b,e){this.Nb=e;this.iq=[];d.Sg.Ru(this.iq,b,a,this)}m(){this.Nb=null;for(const b of this.iq)b.m();d.F(this.iq);this.iq=null}Wy(b){return b.Gh().Ub[0]}Go(b){return b.Gh().Ub.me(-1)}V0(b,e){e=e.Gh().Ub;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Fa()===b)return m}}yN(b,e){e=e.Gh().Ub;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Fa()>=b)return m}}Li(b,
e){e=e.Gh().Ub;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Fa()<=b)return g}}*cX(){for(const b of this.iq)yield b}ka(){return{propertyTrackDataItemsJson:this.iq.map(b=>b.ka())}}qa(b){b&&d.Sg.av(this.iq,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.fi=e;this.jc=-1;this.mj="noease";this.nj=!1;this.Hw=this.qh=null;b&&(this.jc=b[0],this.mj=b[1],this.nj=!!b[2],this.qh=(b=b[3])?b.split(" "):[],this.Hw=new Set(this.qh.map(c=>c.toLowerCase())),this.bf=null)}m(){this.fi=null;d.F(this.qh);this.qh=null;this.Hw.clear();this.Hw=null}Yj(){return this.fi}Fu(b){this.bf=b}Fa(){return this.jc}Er(b){this.jc=b;this.fi.Zu()}Om(){return this.mj}nk(b){this.mj=b}ml(){return this.nj}Dl(b){this.nj=!!b}dQ(b){this.qh=
b?b.split(" "):[];this.Hw=new Set(this.qh.map(e=>e.toLowerCase()))}ka(){return{time:this.jc,ease:this.mj,enable:this.nj,tags:this.qh}}qa(b){b&&(this.jc=b.time,this.mj=b.ease,this.nj=b.enable,this.qh=b.tags,this.Hw=new Set(this.qh.map(e=>e.toLowerCase())))}}d.sO=class{constructor(b,e){this.Nb=e;this.tc=[];d.Sg.Ru(this.tc,b,a,this);this.Zu()}m(){this.Nb=null;for(const b of this.tc)b.m();d.F(this.tc);this.tc=null}Zu(){this.tc.sort((b,e)=>b.Fa()-e.Fa());for(let b=0;b<this.tc.length;b++)this.tc[b].Fu(this.tc[b+
1])}MX(){const b=new a(null,this);this.tc.push(b);this.Zu();return b}oZ(b){for(const e of this.tc){if(!b(e))continue;const c=this.tc.indexOf(e);-1!==c&&(e.m(),this.tc.splice(c,1))}this.V6();this.Zu()}V6(){this.tc.sort((b,e)=>b.Fa()-e.Fa())}F0(b){return this.tc.indexOf(b)}E0(b){return this.tc[b]}ka(){return{keyframeDataItemsJson:this.tc.map(b=>b.ka())}}qa(b){b&&(d.Sg.av(this.tc,b.keyframeDataItemsJson,a,this),this.Zu())}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.Aj=e;this.Th=this.ob=null;this.Ca="";this.jc=NaN;this.mj="noease";this.nj=!1;this.fj=null;this.Nl=void 0;b&&(this.ob=b[0][0],this.Th=b[0][1],this.Ca=b[0][2],this.jc=b[1],this.mj=b[2],this.nj=!!b[3],this.fj=null,b[4]&&(this.fj=new d.WX(b[4],this)),this.bf=null)}m(){this.Aj=null;this.fj&&(this.fj.m(),this.fj=null)}Fu(b){this.bf=b}Bb(){return this.ob}re(b){"color"===this.Ca&&d.Um(b)?(this.ob[0]=d.NE(b),this.ob[1]=d.GE(b),this.ob[2]=d.tE(b)):
this.ob=b}AP(b){"color"===this.Ca&&d.Um(b)?(this.Th[0]=d.NE(b),this.Th[1]=d.GE(b),this.Th[2]=d.tE(b)):this.Th=b}Ac(){const b=this.Aj.Aa.rf();if("relative"===b)return this.Bb();if("absolute"===b)return this.Th}ek(){return this.Ca}fQ(b){this.Ca=b}Fa(){return this.jc}Er(b){this.jc=b;this.Aj.$u()}Om(){return this.mj}nk(b){this.mj=b}ml(){return this.nj}Dl(b){this.nj=!!b}rE(b){if(this.fj){if(this.Nl||null===this.Nl)return this.Nl;var e=this.fj.yp;if(!e)return this.Nl=null;var c=e.length;for(let g=0;g<c;g++){const m=
e[g];if(m.Wj()===b)return this.Nl=m}return this.Nl=null}}ka(){const b=this.fj;return{addonDataJson:b?b.ka():b,value:this.ob,aValue:this.Th,type:this.Ca,time:this.jc,ease:this.mj,enable:this.nj}}qa(b){b&&(b.addonDataJson&&this.fj.Bra(b.addonDataJson),this.ob=b.value,this.Th=b.aValue,this.Ca=b.type,this.jc=b.time,this.mj=b.ease,this.nj=b.enable)}}d.bP=class{constructor(b,e){this.Aa=e;this.Ub=[];d.Sg.Ru(this.Ub,b,a,this);this.$u()}m(){this.Aa=null;for(const b of this.Ub)b.m();d.F(this.Ub);this.Ub=null}$u(){this.Ub.sort((b,
e)=>b.Fa()-e.Fa());for(let b=0;b<this.Ub.length;b++)this.Ub[b].Fu(this.Ub[b+1])}rM(){const b=new a(null,this);this.Ub.push(b);this.$u();return b}ZM(b){for(const e of this.Ub){if(!b(e))continue;const c=this.Ub.indexOf(e);-1!==c&&(e.m(),this.Ub.splice(c,1))}this.W6();this.$u()}W6(){this.Ub.sort((b,e)=>b.Fa()-e.Fa())}ka(){return{propertyKeyframeDataItemsJson:this.Ub.map(b=>b.ka())}}qa(b){b&&(d.Sg.av(this.Ub,b.propertyKeyframeDataItemsJson,a,this),this.$u())}}}
{"use strict";const d=self.D;class a{constructor(c,g){this.fj=g;this.Sc=c[0];this.Tl=c[1]}m(){this.Tl=this.fj=null}Wj(){return this.Sc}ka(){return{id:this.Sc,data:this.Tl}}qa(c){c&&(this.Sc=c.id,this.Tl=c.data)}}class b extends a{constructor(c,g){super(c,g);this.KK=this.Tl[0];this.ox=!!this.Tl[1];this.LI=this.Tl[2];this.jB=!!this.Tl[3]}m(){super.m()}ka(){return Object.assign(super.ka(),{startAnchor:this.KK,startEnable:!!this.ox,endAnchor:this.LI,endEnable:!!this.jB})}qa(c){c&&(super.qa(c),this.KK=
c.startAnchor,this.ox=!!c.startEnable,this.LI=c.endAnchor,this.jB=!!c.endEnable)}}class e extends a{constructor(c,g){super(c,g);this.EI=this.Tl[0];this.wK=this.Tl[1]}m(){super.m()}ka(){return Object.assign(super.ka(),{direction:this.EI,revolutions:this.wK})}qa(c){c&&(super.qa(c),this.EI=c.direction,this.wK=c.revolutions)}}d.WX=class{constructor(c){this.yp=[];d.Sg.Ru(this.yp,c,{bX:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}m(){for(const c of this.yp)c.m();d.F(this.yp);this.yp=null}ka(){return{addonDataItemsJson:this.yp.map(c=>
c.ka())}}qa(c){c&&d.Sg.av(this.yp,c.addonDataItemsJson,{bX:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.D;let a=0;d.n7=class extends d.mp{constructor(b,e){super(`tween-${a++}`,b,e);this.Sc="";this.PT=!1;this.jJ="start-value";this.tb=this.mV=this.lV=this.sc=null}UM(){for(const b of this.Yd.eu().sX())this.nb.push(d.uQ.Ta(this,b));this.tb=this.nb[0]}Uf(){return this.tb.ab[0]}Ea(){var b=this.nb;if(b&&b.length&&(this.tb=b=b[0])){var e=b.Ea();return b.Wm()?e:void 0}}Wj(){return this.Sc}SO(){if(this.mV)for(const b of this.mV)b(this);if(!this.jg)for(const b of this.nb)b.Hi()}zF(){this.Xr=
this.j.Uk}jN(){if(!this.Lp&&(this.Lp=!0,this.lV))for(const b of this.lV)b(this)}Er(b){this.aR();super.Er(b)}ad(b){if(!this.Cn&&"current-state"===this.jJ)for(const e of this.nb)e.Gi();super.ad(b)}Se(b=!1){super.Se(b);if(!this.jg)for(const e of this.nb)e.fp()}sd(b=!0,e=!1){this.aR();super.sd(b,e)}aR(){for(const b of this.nb){const e=c=>{c=c.Fa();const g=this.Yf();return 0!==c&&c!==g};b.pZ(e);b.Hy(e)}}hv(){if(this.oh)return!0;const b=this.Ea();if(b&&b.I().$f())return!1;this.Ib.JM(this);this.qP();return!0}se(b,
e,c){this.sc||(this.sc=this.Ea());if(this.sc&&!this.sc.cr()&&(e=this.sc.ke,-1!==e&&(b=c*e),0!==b||0!==this.gC)){this.gC=b;c=this.ic+b*this.hd;b=this.Yd.Ys;this.ic=0>c?0:c>=b?b:c;c=!1;e=this.bz();var g=this.fz();e||g?e&&!g?0<this.hd?this.ic>=b&&this.Cc(0):0>=this.ic&&this.Cc(b):!e&&g?0<this.hd?this.ic>=b&&(this.Cc(b),this.pk(-1*this.hd),1===this.Wd?this.Sd<this.Hh()?(this.Sd++,this.Wd=0):c=!0:0===this.Wd&&(this.Wd=1)):0>=this.ic&&(this.Cc(0),this.pk(-1*this.hd),1===this.Wd?this.Sd<this.Hh()?(this.Sd++,
this.Wd=0):c=!0:0===this.Wd&&(this.Wd=1)):e&&g&&(0<this.hd?this.ic>=b&&(this.Cc(b),this.pk(-1*this.hd)):0>=this.ic&&(this.Cc(0),this.pk(-1*this.hd))):0<this.hd?this.ic>=b&&(this.Sd<this.Hh()?(this.Sd++,this.Cc(0)):(this.Cc(b),c=!0)):0>=this.ic&&(this.Sd<this.Hh()?(this.Sd++,this.Cc(b)):(this.Cc(0),c=!0));c?(this.tb.JP(),this.Se(!0),this.zF()):(this.tb.Ga(this.ic,!0,!1,!1,this.Ze,!1),this.Ze&&(this.Ze=!1))}}ka(){const b=super.ka();return Object.assign(b,{tweenDataItemJson:this.Yd.ka(),id:this.Sc,destroyInstanceOnComplete:this.PT,
initialValueMode:this.jJ})}qa(b){b&&(this.Yd.qa(b.tweenDataItemJson),super.qa(b),this.Sc=b.id,this.PT=b.destroyInstanceOnComplete,this.jJ=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.D;d.uQ=class extends d.uG{constructor(a,b){super(a,b);this.AK=this.Xv=null}static Ta(a,b){return d.B(d.uQ,a,b)}OQ(){1===this.ab.length?this.Xv=this.ab[0]:(this.Xv=this.ab[0],this.AK=this.ab[1])}TM(){for(const a of this.Nb.ne().cX())this.ab.push(d.tQ.Ta(this,a));this.OQ()}uo(){}Ga(a,b,e=!1,c=!1,g,m=!1){this.sc||this.Ea();if(this.sc){if(this.sc.cr()||m&&this.I().$f())return!1;this.AK?(this.Xv.Ga(a,e,c),this.AK.Ga(a,e,c)):this.Xv.Ga(a,e,c);0!==this.Xv.$k&&(this.Wa||(this.Wa=
this.sc.A()),this.Wa&&this.Wa.ra())}}to(){}qa(a){super.qa(a);this.OQ()}}}
{"use strict";const d=self.D;d.tQ=class extends d.bb{constructor(a,b){super(a,b);this.zv=!1}static Ta(a,b){return d.B(d.tQ,a,b)}Ga(a,b=!1,e=!1){if(this.zv){var c=this.Ub[0];var g=this.Ub[1]}else{if(b)c=this.uc.Li(a,this.Aa);else{if(this.Tc){g=this.Ab();const m=this.Tc.bf;c=this.Tc.Fa();g=m?m.Fa():g.Yf();if(a<=c||a>=g)this.Tc=this.uc.Li(a,this.Aa)}else this.Tc=this.uc.Li(a,this.Aa);c=this.Tc}g=c.bf}this.Ee.Ga(a,c,g,b,e)}tM(){const a=this.Aa.Gh().rM();this.Tc=null;this.zv=2>=this.gz().length;return a}Hy(a){this.Tc=
null;this.Aa.Gh().ZM(a);this.zv=2>=this.gz().length}ka(){return{sourceAdapterJson:this.Kb().ka(),basic:this.zv}}qa(a){a&&(this.Kb().qa(a.sourceAdapterJson),this.zv=a.basic)}}}
{"use strict";const d=self.D,a=self.Gt;d.rQ=class extends d.ja{constructor(b){super();this.Ka=b[0];this.ug=[];for(var e of b[1])b=d.sQ.Ta(this,e),this.ug.push(b);for(e=0;e<this.ug.length;e++)this.ug[e].Fu(this.ug[e+1]);this.Sw=new Map;this.XV=new Map;this.xba();a.LX(this.Ka,(c,g,m,h)=>this.Ga(c,g,m,h))}static Ta(b){return d.B(d.rQ,b)}m(){for(const b of this.ug)b.m();d.F(this.ug);this.ug=null;this.Sw.clear();this.Sw=null;this.XV.clear();this.XV=null}r0(b){for(let e=this.ug.length-1;0<=e;e--){const c=
this.ug[e];if(c.vg<b)return c}}q0(b){for(let e=this.ug.length-1;0<=e;e--){const c=this.ug[e];if(c.vg<=b)return c}}Ga(b,e,c,g){var m=b/g;b=this.q0(m);g=b.bf;g||(b=this.r0(m),g=b.bf);m=d.Nga(m,b.vg,g.vg,g.vg-b.vg);const h=b.vg,l=b.Fx,n=b.vg+b.OV,p=b.Fx+b.vfa,q=g.vg+g.VT,u=g.Fx+g.Hea,w=g.vg;g=g.Fx;g=a.Ho("spline")(m,h,l,n,p,q,u,w,g,this.Sw.get(b));g+=b.Fx;return(1-g)*e+g*(e+c)}xba(){this.Sw.clear();for(let e=0;e<this.ug.length-1;e++){var b=this.ug[e];if(!b.ox)continue;const c=this.ug[e+1];this.Sw.set(b,
a.V_(b.vg,b.vg+b.OV,c.vg+c.VT,c.vg))}}}}{"use strict";const d=self.D;d.sQ=class extends d.ja{constructor(a,b){super();this.vg=b[0];this.Fx=b[1];this.OV=b[2];this.vfa=b[3];this.VT=b[4];this.Hea=b[5];this.ox=b[6];this.jB=b[7];this.bf=null}m(){}static Ta(a,b){return d.B(d.sQ,a,b)}Fu(a){this.bf=a}}}{"use strict";const d=self.D;d.l7=class extends d.ja{constructor(a){super();this.j=a;this.bD=[]}m(){for(const a of this.bD)a.m();d.F(this.bD);this.bD=null}Ta(a){this.bD.push(d.rQ.Ta(a))}}}
{"use strict";const d=self.D;d.U6=class extends d.ja{constructor(a){super();this.L=a;this.mb=[];this.mb.push(d.B(d.lG,this));this.Sa=0;this.kj=this.mb[0]}m(){for(const a of this.mb)a.m();d.F(this.mb);this.L=this.kj=null}I(){return this.L}S(){return this.kj}Gd(){this.S().Gd()}Q4(){var a=this.mb,b=++this.Sa;b===a.length?(b=d.B(d.lG,this),a.push(b),this.kj=b):(a=a[b],a.sd(),this.kj=a)}R4(){const a=this.mb,b=++this.Sa;b===a.length&&a.push(d.B(d.lG,this));const e=a[b];e.VY(a[b-1]);this.kj=e}Pa(){this.kj=
this.mb[--this.Sa]}bp(a){const b=this.mb;for(let e=0,c=b.length;e<c;++e)b[e].bp(a)}}}
{"use strict";const d=self.D;d.lG=class extends d.ja{constructor(a){super();this.mb=a;this.L=this.mb.I();this.Md=this.L.J().rd();this.$b=!0;this.H=[];this.hc=[]}m(){this.xy();this.Md=this.L=this.mb=null}xy(){d.F(this.H);d.F(this.hc)}I(){return this.L}VE(){return this.$b?!!this.L.H.length:!!this.H.length}oa(){return this.$b?this.L.oa():this.H}k1(){return!!this.hc.length}Uy(){const a=this.oa();return a.length?a:this.hc}sd(){this.$b=!0;d.F(this.hc)}Gd(){this.$b=!0}VY(a){a.$b?this.sd():(this.$b=!1,d.Xc(this.H,
a.H),d.F(this.hc))}sp(a){this.H.push(a)}Ll(a){this.hc.push(a)}te(a){this.$b=!!a}qk(a){this.$b=!1;d.F(this.H);this.H.push(a)}yu(a){this.$b=!1;d.Xc(this.H,a)}Iu(a){this.$b=!1;d.F(this.H);for(const b of a)this.H.push(b)}qM(a,b){for(const e of b)a.has(e)||this.hc.push(e)}j7(a){for(const b of a)this.H.push(b);d.zg(this.hc,a)}an(a){a&&(this.Md.Ke().Jb().Vd?(this.$b&&(d.F(this.H),d.Xc(this.hc,a.I().oa()),this.$b=!1),a=this.hc.indexOf(a),-1!==a&&(this.H.push(this.hc[a]),this.hc.splice(a,1))):this.qk(a))}bp(a){d.zg(this.H,
a);d.zg(this.hc,a)}}}
{"use strict";const d=self.D;d.D_=class extends d.ja{constructor(a){super();this.ya=a;this.j=this.ya.J();this.mb=[];this.mb.push(d.B(d.fN,this,null));this.Sa=0;this.lB=[]}m(){for(const a of this.mb)a.m();d.F(this.mb);d.F(this.lB);this.j=this.ya=null}na(){return this.ya}J(){return this.j}Ke(){return this.mb[this.Sa]}Ua(a){var b=this.mb;const e=++this.Sa;if(e===b.length)return a=d.B(d.fN,this,a),b.push(a),a;b=b[e];b.sd(a);return b}Pa(){--this.Sa}S4(a){this.lB.push(a)}H4(){this.lB.pop()}b0(){const a=this.lB;
return 0===a.length?null:a.me(-1)}}}
{"use strict";const d=self.D;d.fN=class extends d.ja{constructor(a,b){super();this.mb=a;this.j=this.mb.J();this.Mv=b;this.gg=this.Rl=0;this.KI=this.Zp=!1;this.QI=null;this.YI=this.gU=0}m(){this.sd(null);this.j=this.mb=null}sd(a){this.Mv=a;this.gg=this.Rl=0;this.KI=this.Zp=!1}rH(a,b){this.Mv=a;this.Rl=0;this.gg=b}rP(){this.gg=this.Rl=0}Jb(){return this.Mv}Mg(a){this.Mv=a}gn(a){this.Rl=a}Pz(a){this.gg=a}jn(a){this.Zp=!!a}ur(a){this.KI=!!a}KP(a){this.QI=a}T1(a,b){this.gU=a;this.YI=b}Eu(a){this.YI=a}ik(){const a=
this.Mv;return a.aC?!0:this.Rl<a.fc.length-1?!!a.Id().length:!1}}}{"use strict";const d=self.D;d.m3=class extends d.ja{constructor(a){super();this.ya=a;this.j=this.ya.J();this.mb=[];this.Sa=-1;this.kj=null;this.HB=[]}m(){d.F(this.mb);this.j=this.ya=null}gda(a){this.HB=a;a=this.HB.slice(0);this.mb.push(a);this.Sa=0;this.kj=a}na(){return this.ya}J(){return this.j}Pq(){return this.kj}Ua(){const a=++this.Sa,b=this.mb;a===b.length?b.push(this.HB.slice(0)):d.Xc(b[a],this.HB);this.kj=b[a]}Pa(){this.kj=this.mb[--this.Sa]}}}
{"use strict";const d=self.D;d.o3=class extends d.ja{constructor(a){super();this.ya=a;this.j=this.ya.J();this.mb=[];this.Sa=-1}m(){d.F(this.mb);this.j=this.ya=null}na(){return this.ya}J(){return this.j}lO(){return 0<=this.Sa}Pq(){return this.mb[this.Sa]}Ua(){++this.Sa;if(this.Sa===this.mb.length){var a=d.B(d.n3,this);this.mb.push(a);return a}a=this.mb[this.Sa];a.sd();return a}Pa(){--this.Sa}J_(a){const b=this.mb;for(let e=this.Sa;0<=e;--e){const c=b[e];if(c.Da()===a)return c}return null}}}
{"use strict";const d=self.D;d.n3=class extends d.ja{constructor(a){super();this.Gf=a;this.Ka="";this.Sa=0;this.Dc=!1}sd(){this.Ka="";this.Sa=0;this.Dc=!1}Wz(a){this.Ka=a}Da(){return this.Ka}Nc(a){this.Sa=a}La(){return this.Sa}Se(){this.Dc=!0}}}{"use strict";const d=self.D;d.dY=class extends d.ja{constructor(){super();this.mb=[];this.Sa=-1}m(){d.F(this.mb)}Pq(){return this.mb[this.Sa]}Ua(){++this.Sa;if(this.Sa===this.mb.length){const a=[];this.mb.push(a);return a}return this.mb[this.Sa]}Pa(){--this.Sa}}}
{"use strict";const d=self.D;function a(b,e){return b.La()-e.La()}d.C_=class extends d.ja{constructor(b){super();this.j=b;this.tv=[];this.BK=new Map;this.aI=[];this.kU=new Map;this.qI=new Map;this.xI=new Map;this.JA=new Map;this.xT=new Map;this.NI=new Map;this.jfa=0;this.$H=[];this.fea=[];this.aV=[];this.WI=new Map;this.Md=d.B(d.D_,this);this.Dd=d.B(d.m3,this);this.Gf=d.B(d.o3,this);this.WK=[];this.HC=[];this.GC=[];this.pI=this.Xl=this.um=0;this.rg=[];this.QA=[];self.c3_callFunction=(e,c)=>this.rA(e,
c)}m(){this.wy();this.Md.m();this.Md=null;this.Dd.m();this.Dd=null;d.F(this.HC);d.F(this.GC);this.j=null;d.F(this.tv);this.BK.clear()}Ta(b){b=d.B(d.B_,this,b);this.tv.push(b);this.BK.set(b.Da().toLowerCase(),b)}d8(b){this.WK.push(b)}Rb(){for(const b of this.WI.values())b.Rb(!1);for(const b of this.tv)b.Rb();for(const b of this.tv)b.NH();for(const b of this.WK)b.Rb(!1);d.F(this.WK);this.Dd.gda(this.aV)}J(){return this.j}wN(b){return this.BK.get(b.toLowerCase())||null}Kba(b){this.aI.push(b);this.kU.set(b.jU,
b)}Hba(b){this.qI.set(b.jb,b)}Gba(b){this.xI.set(b.jb,b)}Fba(b){this.JA.set(b.jb,b)}Jba(b){this.WI.set(b.vB.toLowerCase(),b)}Iba(b){this.NI.set(b.jb,b);b.$f()?this.$H.push(b):this.fea.push(b)}jA(b){2<=b.length&&b.sort(a);let e=this.xT.get(b.length);e||(e=[],this.xT.set(b.length,e));for(let g=0,m=e.length;g<m;++g){const h=e[g];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(b);return b}m$(b){this.aV.push(b.Qp);return this.jfa++}rd(){return this.Md}pf(){return this.rd().Ke()}Jb(){return this.pf().Jb()}Rf(){const b=
this.pf();return b.Jb().rN(b.Rl)}Tt(){const b=this.pf();return b.Jb().nN(b.gg)}S_(b){const e=[];for(b=b.Vq();b;)d.jo(e,b.sR()),b=b.Vq();return e}ER(b){const e={};for(const c of this.S_(b))e[c.Ni()]=c.IR();return Object.create(Object.prototype,e)}CE(b){return this.NI.get(b)||null}g0(b){return this.qI.get(b)||null}Q_(b){return this.JA.get(b)||null}Yy(b){return this.WI.get(b.toLowerCase())||null}o5(){for(const b of this.$H)b.u5()}vN(b){return this.kU.get(b.toLowerCase())||null}h0(b){return(b=this.qI.get(b))&&
b.tj?b:null}p5(){for(const b of this.aI)b.r5()}CS(){for(const b of this.tv)b.Zba()}z5(b){this.CS();this.um++;for(const e of b.fy())if(b=e.gd)this.j.su(e),b.ua(),this.j.ru();this.um--}async jZ(b){this.CS();this.um++;for(const e of this.b9(b))await this.j.Lq(e);this.um--}*b9(b){for(const e of b.fy())if(b=e.gd)this.j.su(e),yield*b.qb(),this.j.ru()}qv(b,e,c,g){let m=!1;if(!b.Vb())return this.IF(e,c,g);this.Xl++;for(const h of b.fy())if(b=h.gd){this.j.su(h);for(const l of b.eB){const n=l.qv(e,c,g);m=m||
n}b=b.qv(e,c,g);m=m||b;this.j.ru()}this.Xl--;return m}*Tu(b,e,c,g){let m=!1;if(!b.Vb())return this.IF(e,c,g);this.Xl++;for(const h of b.fy())if(b=h.gd){this.j.su(h);for(const l of b.eB){const n=yield*l.Tu(e,c,g);m=m||n}b=yield*b.Tu(e,c,g);m=m||b;this.j.ru()}this.Xl--;return m}IF(b,e,c){this.HC.push([b,e,c]);return!1}X4(b,e,c){let g=null;const m=new Promise(h=>g=h);this.GC.push([b,e,c,g]);return m}*ica(){if(this.j.hu())throw Error("should not be in breakpoint");const b=this.j.cb;for(;this.GC.length;){const [e,
c,g,m]=this.GC.shift(),h=yield*this.Tu(b,e,c,g);m(h)}}async tP(){for(const b of this.ica())await this.j.Lq(b)}pF(){return 0<this.Xl}Xu(){return++this.Xl}Uu(){--this.Xl}N2(){return 0<this.um}zz(){return this.N2()||this.pF()}jca(b){for(const [e,c,g]of this.HC)this.qv(b,e,c,g);d.F(this.HC)}He(b){b?this.pI++:this.pI--}kO(){return 0<this.pI}Kq(b){for(let e=0,c=b.length;e<c;++e)b[e].Sn.Gd()}Kg(b){for(let e=0,c=b.length;e<c;++e)b[e].Sn.Q4()}Qe(b){for(let e=0,c=b.length;e<c;++e)b[e].Sn.R4()}Qb(b){for(let e=
0,c=b.length;e<c;++e)b[e].Sn.Pa()}TD(){const b=d.B(d.TF,this);this.rg.push(b);return b}B5(){if(this.rg.length){var b=this.pf(),e=!1;this.um++;for(let c=0,g=this.rg.length;c<g;++c){const m=this.rg[c];m.gT()&&m.aca(b);m.bx&&(e=!0)}e&&this.oR();this.um--}}async lZ(){if(this.rg.length){var b=this.pf(),e=!1;this.um++;for(let c=0,g=this.rg.length;c<g;++c){const m=this.rg[c];m.gT()&&await m.V8(b);m.bx&&(e=!0)}e&&this.oR();this.um--}}oR(){const b=d.Mfa(this.rg,e=>e.bx);for(const e of b)e.m()}wy(){for(const b of this.rg)b.m();
d.F(this.rg)}f5(b){for(const e of this.rg)e.bp(b)}QD(b){this.QA.push(b)}yy(){d.F(this.QA)}U0(){const b=Promise.all(this.QA);this.QA=[];return b}ka(){return{groups:this.qca(),cnds:this.pca(),acts:this.oca(),vars:this.Cca(),waits:this.yca()}}qa(b){this.faa(b.groups);this.aaa(b.cnds);this.$$(b.acts);this.saa(b.vars);this.oaa(b.waits)}qca(){const b={};for(const e of this.aI)b[e.jb.toString()]=e.dr();return b}faa(b){for(const [e,c]of Object.entries(b))(b=this.h0(parseInt(e,10)))&&b.xr(c)}pca(){const b=
{};for(const [e,c]of this.xI){const g=c.ka();g&&(b[e.toString()]=g)}return b}aaa(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.xI)g.qa(e.get(c)||null)}oca(){const b={};for(const [e,c]of this.JA){const g=c.ka();g&&(b[e.toString()]=g)}return b}$$(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.JA)g.qa(e.get(c)||null)}Cca(){const b={};for(const [e,c]of this.NI)c.wb||!c.$f()&&!c.ei||(b[e.toString()]=
c.Bb());return b}saa(b){for(const [e,c]of Object.entries(b))(b=this.CE(parseInt(e,10)))&&b.re(c)}yca(){return this.rg.filter(b=>!b.L2()).map(b=>b.ka())}oaa(b){this.wy();for(const e of b)(b=d.TF.z8(this,e))&&this.rg.push(b)}pE(b){for(;b;)if(b=b.Vq(),b instanceof d.Mt)return b;return null}rA(b,e){Array.isArray(e)||(e=[]);b=this.Yy(b.toLowerCase());if(!b)return null;if(!b.xl())return b.Vt();var c=b.gh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Qp);while(e.length<c.length)}c=b.Me();return c.QF(c.Jd(),
b.rm,b.Vt(),...e)}}}
{"use strict";const d=self.D;d.B_=class extends d.ja{constructor(a,b){super();this.ya=a;this.j=a.J();this.Ka=b[0];this.kB=[];this.eD=new Map;this.aU=new Map;this.Iea=new Map;this.cw=!1;this.EV=[];this.eB=[];this.yT=new Set;for(const e of b[1])this.YQ(e,null,this.kB);this.zj=this.j.xb?{type:"sheet",name:this.Ka,gy:0,children:[]}:null}m(){this.j=this.ya=null}YQ(a,b,e){switch(a[0]){case 0:case 3:this.x8(a,b,e);break;case 1:this.y8(a,b,e);break;case 2:this.C8(a,b,e);break;case 4:this.A8(a,b);break;case 5:this.H8(a,
b,e);break;default:throw Error("invalid event type");}}x8(a,b,e){a=d.il.Ta(this,b,a);if(a.Vd){e.push(a);e=a.fc;for(let c=0,g=e.length;c<g;++c)e[c].To()&&this.TR(a,c)}else a.To()?this.TR(a,0):e.push(a)}A8(a,b){a=d.Mt.Ta(this,b,a);this.ya.Jba(a)}y8(a,b,e){a=d.Ly.Ta(this,b,a);e.push(a)}C8(a,b,e){a=d.eN.Ta(this,b,a);e.push(a)}H8(a,b,e){a=d.Ky.Ta(this,b,a);e.push(a)}TR(a,b){a.Vd||this.ya.d8(a);var e=a.rN(b),c=e.Ma,g=e.I();if(e.GU){var m=this.aU.get(g);m||(m=new Map,this.aU.set(g,m));e=e.l0().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([a,b])}else m=this.eD.get(g),m||(m={RL:new Map,Lx:new Map},this.eD.set(g,m)),(g=e.Gg())?(e=m.Lx.get(g),e||(e=new Map,m.Lx.set(g,e))):e=m.RL,m=e.get(c),m||(m=[],e.set(c,m)),m.push([a,b])}Rb(){const a=this.kB;for(let b=0,e=a.length;b<e;++b)a[b].Rb(b<e-1&&a[b+1]instanceof d.il&&a[b+1].yz())}c8(a){this.EV.push(a)}NH(){d.F(this.eB);this.FQ(this);this.yT.clear()}FQ(a){const b=a.eB,e=a.yT;for(const c of this.EV){const g=c.hw;c.Lb&&
a!==g&&!e.has(g)&&(e.add(g),g.FQ(a),b.push(g))}}na(){return this.ya}J(){return this.j}Da(){return this.Ka}wS(a,b){this.Iea.set(b,a)}Zba(){this.cw=!1}ua(){if(!this.cw){var a=this.j,b=a.hF(),e=b?performance.now():0;this.cw=!0;var c=this.na(),g=c.pf();for(const m of this.kB)m.ua(g),c.Kq(m.Id()),c.yy(),a.$d();g.sd(null);b&&(this.zj.gy+=performance.now()-e)}}*qb(){if(!this.cw){this.cw=!0;var a=this.j,b=this.na(),e=b.pf();for(const c of this.kB)yield*c.qb(e),b.Kq(c.Id()),b.yy(),a.$d();e.sd(null)}}qv(a,
b,e){if(b){const c=b.I();this.LH(a,b,c,e);for(const g of c.ai)this.LH(a,b,g,e)}else return this.LH(a,b,null,null)}LH(a,b,e,c){e=this.eD.get(e);if(!e)return!1;c=c?e.Lx.get(c):e.RL;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,m]of c)c=this.nR(b,g,m),a=a||c;return a}*Tu(a,b,e){if(b){const c=b.I();yield*this.LG(a,b,c,e);for(const g of c.ai)yield*this.LG(a,b,g,e)}else return yield*this.LG(a,b,null,null)}*LG(a,b,e,c){e=this.eD.get(e);if(!e)return!1;c=c?e.Lx.get(c):e.RL;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,m]of c)c=g.Ie()?this.nR(b,g,m):yield*this.O8(b,g,m),a=a||c;return a}nR(a,b,e){const c=this.j,g=this.ya,m=g.Jb(),h=g.rd(),l=g.Xl;let n=!1;m&&g.Kg(m.Jd());g.Kg(b.Jd());const p=1<l;p&&g.Dd.Ua();const q=h.Ua(b);a&&(b.fc[e].I().S().qk(a),a.cc()&&a.Yi());a=!0;if(b.Ia()){const u=b.yq;for(let w=0,r=u.length;w<r;++w)if(!u[w].sP(q)){a=!1;break}}a&&(c.wl(),b.Vd?b.A5(q,e):b.ua(q),n=q.Zp);h.Pa();p&&g.Dd.Pa();g.Qb(b.Jd());m&&g.Qb(m.Jd());m||1!==l||(g.yy(),g.kO()||c.$d());return n}*O8(a,
b,e){const c=this.j,g=this.ya,m=g.Jb(),h=g.rd(),l=g.Xl;let n=!1;m&&g.Kg(m.Jd());g.Kg(b.Jd());const p=1<l;p&&g.Dd.Ua();const q=h.Ua(b);a&&(b.fc[e].I().S().qk(a),a.cc()&&a.Yi());a=!0;if(b.Ia()){const u=b.yq;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].WM(q))){a=!1;break}}a&&(c.wl(),b.Vd?yield*b.kZ(q,e):yield*b.qb(q),n=q.Zp);h.Pa();p&&g.Dd.Pa();g.Qb(b.Jd());m&&g.Qb(m.Jd());m||1!==l||(g.yy(),g.kO()||c.$d());return n}}}
{"use strict";const d=self.D,a=[];function b(){return!0}function*e(){return!0}d.il=class extends d.ja{constructor(c,g,m){super();this.gd=c;this.j=c.J();this.Hc=g;this.ie=null;this.Md=this.j.na().rd();this.cf=[];this.Rs=[];this.$v=this.cC=this.aC=this.pU=!1;this.Vd=!!m[2];this.QB=!1;this.yq=null;this.fc=[];this.Xb=[];this.ti=[];this.ej=b;this.pp=e;this.yJ=this.tj=!1;this.jU="";this.SB=!1;this.zj=this.cB=null;this.jb=m[4];this.gs=m[5];this.gd.wS(this,this.gs);this.Va=this.j.xb?{pd:m[3][0],ML:m[3][1],
sW:!1,sL:!1,tL:!1,tW:!1}:null;this.na().Hba(this);3===m[0]&&this.H$(m[1]);c=0;for(var h of m[6])g=d.KM.Ta(this,h,c++),this.fc.push(g),this.KQ(g.I());c=0;for(const l of m[7])h=d.ky.Ta(this,l,c++),this.Xb.push(h);if(9===m.length){m=m[8];for(const l of m)this.gd.YQ(l,this,this.ti)}this.fc.length&&(this.QB=null===this.fc[0].I()&&this.fc[0].Ma===d.C.Qa.G.dN);0===this.fc.length&&(this.fc=a);0===this.Xb.length&&(this.Xb=a);0===this.ti.length&&(this.ti=a)}static Ta(c,g,m){return d.B(d.il,c,g,m)}H$(c){this.tj=
!0;this.SB=this.yJ=!!c[0];this.jU=c[1].toLowerCase();this.cB=[];this.na().Kba(this);this.j.xb&&(this.zj={type:"group",name:c[1],gy:0,children:[]})}U7(c){this.cB.push(c)}EQ(c,g){for(const m of c.ah.om)g.includes(m)||g.push(m)}LQ(c,g){if(c)if(g.includes(c)||g.push(c),c.Xa)for(const m of c.Kp)m.cc()&&this.EQ(m,g);else c.cc()&&this.EQ(c,g)}KQ(c){this.LQ(c,this.cf)}Y7(c){this.LQ(c,this.Rs)}N5(){this.cf=this.j.bd}Rb(c){this.$v=!!c;this.B$();this.C$();for(const m of this.fc)m.Rb();if(0<this.Xb.length){c=
!1;for(var g of this.Xb)g.Rb(),g.t1()&&(c=!0);c?(this.ej=this.cca,this.pp=this.X8):(this.ej=this.bca,this.pp=this.W8)}g=this.ti;for(let m=0,h=g.length;m<h;++m)g[m].Rb(m<h-1&&g[m+1]instanceof d.il&&g[m+1].yz());this.Va&&this.Pda();this.zj&&this.o$().zj.children.push(this.zj)}o$(){let c=this.Ia();for(;c;){if(c.tj)return c;c=c.Ia()}return this.gd}Pda(){const c=this.Va;c.sW=this.fc.every(g=>g.Ie());c.sL=this.Xb.every(g=>g.Ie());c.tL=this.ti.every(g=>g.Ie());c.tW=c.sW&&c.sL&&c.tL}B$(){if(this.tj){var c=
this.Ia();for(this.cC=!0;c;){if(!c.tj){this.cC=!1;break}c=c.Ia()}}}A$(){var c=this.j.bd;if(this.cf===c)this.Rs=c;else{this.Rs=d.wL(this.cf);for(c=this.Ia();c;){for(var g of c.cf)this.Y7(g);c=c.Ia()}g=this.na();this.cf=g.jA(this.cf);this.Rs=g.jA(this.Rs)}}C$(){if(this.l1()){this.yq=[];for(var c=this.Ia();c;)this.yq.push(c),c=c.Ia();this.yq.reverse()}}Ju(){this.aC=!0;this.Hc&&this.Hc.Ju()}Id(){return this.cf}Jd(){this.pU||(this.pU=!0,this.A$());return this.Rs}v1(c){return this.cf.includes(c)}na(){return this.gd.na()}J(){return this.j}Ia(){return this.Hc}nda(c){this.ie=
c}Vq(){return this.ie||this.Hc}jF(){return this.Va&&this.Va.ML}Po(){return this.jF()&&this.Va.pd}yz(){return this.QB}dr(){return this.SB}r5(){this.xr(this.yJ)}xr(c){c=!!c;if(!this.tj)throw Error("not a group");if(this.SB!==c){this.SB=c;for(const g of this.cB)g.vQ();this.cB.length&&(c=this.j.Oa().gd)&&c.NH()}}To(){return this.fc.length&&this.fc[0].To()}F2(){return this.ie&&this.ie instanceof d.Mt}l1(){return this.F2()||this.fc.some(c=>c.To())}rN(c){c=Math.floor(c);if(0>c||c>=this.fc.length)throw new RangeError("invalid condition index");
return this.fc[c]}E2(c){let g=c.La();if(0===g)return!0;for(--g;0<=g;--g)if(this.fc[g].I()===c.I())return!1;return!0}nN(c){c=Math.floor(c);if(0>c||c>=this.Xb.length)throw new RangeError("invalid action index");return this.Xb[c]}z$(c){c=Math.floor(c);return 0<=c&&c<this.Xb.length}sR(){return this.ti.filter(c=>c instanceof d.Ly)}sP(c){c.Mg(this);let g=!1;const m=this.fc;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.gn(h);if(n.UB)throw Error("trigger cannot be used as sub-event to a loop");if(n.ua())g=
!0;else if(!this.Vd)return!1}return this.Vd?g:!0}A5(c,g){c.Mg(this);this.fc[g].ua()&&(this.ej(c,0)&&this.Ml(),c.jn(!0))}*WM(c){c.Mg(this);let g=!1;const m=this.fc;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.gn(h);if(n.UB)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ie()?n.ua():yield*n.qb())g=!0;else if(!this.Vd)return!1}return this.Vd?g:!0}*kZ(c,g){c.Mg(this);g=this.fc[g];if(g.Ie()?g.ua():yield*g.qb())(this.Ey()?this.ej(c,0):yield*this.pp(c,0))&&(this.Fy()?this.Ml():yield*this.Su()),
c.jn(!0)}ua(c){c.Mg(this);this.QB||c.ur(!1);this.Vd?this.hca(c):this.wA(c)}*qb(c){if(this.Po()||this.j.yc())yield this;c.Mg(this);this.QB||c.ur(!1);this.Vd?yield*this.i9(c):yield*this.IG(c)}hca(c){const g=this.fc;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.To()||(c.gn(l),h=h.ua(),m=m||h)}c.jn(m);m&&(this.ej(c,0)&&this.Ml(),this.$v&&c.ur(!0))}*i9(c){const g=this.fc;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.To()||(c.gn(l),h=h.Ie()?h.ua():yield*h.qb(),m=m||h)}c.jn(m);
m&&((this.Ey()?this.ej(c,0):yield*this.pp(c,0))&&(this.Fy()?this.Ml():yield*this.Su()),this.$v&&c.ur(!0))}wA(c){const g=this.fc;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.gn(m);if(!l.ua()){c.jn(!1);return}}c.jn(!0);this.ej(c,0)&&this.Ml();c.Zp&&this.$v&&c.ur(!0)}*IG(c){const g=this.fc;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.gn(m);if(l.Ie()?!l.ua():!(yield*l.qb())){c.jn(!1);return}}c.jn(!0);(this.Ey()?this.ej(c,0):yield*this.pp(c,0))&&(this.Fy()?this.Ml():yield*this.Su());c.Zp&&this.$v&&
c.ur(!0)}bca(c,g){const m=this.Xb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Pz(h),g.ua();return!0}*W8(c,g){const m=this.Xb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Pz(h),g.Ie()?g.ua():yield*g.qb();return!0}cca(c,g){const m=this.na(),h=this.Xb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Pz(l);const p=g.ua();if(g.DM()&&!0===p)return!1;g.Ig()&&p instanceof Promise&&m.QD(p)}return!0}*X8(c,g){const m=this.na(),h=this.Xb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Pz(l);let p;p=g.Ie()?g.ua():yield*g.qb();if(g.DM()&&
!0===p)return!1;g.Ig()&&p instanceof Promise&&m.QD(p)}return!0}$ba(c){this.ej(c,c.gg)&&this.Ml()}*U8(c){if(yield*this.pp(c,c.gg))yield*this.Su()}Ml(){if(this.ti.length){var c=this.tj&&this.j.hF(),g=c?performance.now():0,m=this.Md,h=m.Ua(this);this.aC?this.mca(h):this.lca(h);m.Pa();c&&(this.zj.gy+=performance.now()-g)}}mca(c){const g=this.tj,m=this.cC,h=this.na(),l=this.ti;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.Id(),r=!m||!g&&n<q;r&&h.Qe(w);u.ua(c);r?h.Qb(w):h.Kq(w)}}lca(c){const g=
this.ti;for(let m=0,h=g.length;m<h;++m)g[m].ua(c)}*Su(){if(this.ti.length){var c=this.Md,g=c.Ua(this);this.aC?yield*this.l9(g):yield*this.k9(g);c.Pa()}}*l9(c){const g=this.tj,m=this.cC,h=this.na(),l=this.ti;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.Id(),r=!m||!g&&n<q;r&&h.Qe(w);yield*u.qb(c);r?h.Qb(w):h.Kq(w)}}*k9(c){const g=this.ti;for(let m=0,h=g.length;m<h;++m)yield*g[m].qb(c)}Lg(c,g){this.j.wl();g.rP();const m=this.fc;if(!this.Vd)for(let h=c.Rl+1,l=m.length;h<l;++h)if(c=m[h],g.gn(h),
!c.ua())return!1;this.ej(g,0)&&this.Ml();return!0}*Dg(c,g){this.j.wl();g.rP();const m=this.fc;if(!this.Vd)for(let h=c.Rl+1,l=m.length;h<l;++h)if(c=m[h],g.gn(h),c.Ie()?!c.ua():!(yield*c.qb()))return!1;(this.Ey()?this.ej(g,0):yield*this.pp(g,0))&&(this.Fy()?this.Ml():yield*this.Su());return!0}Ie(){return!this.Po()&&!this.j.yc()&&this.Va.tW}Ey(){return!this.j.yc()&&this.Va.sL}Fy(){return!this.j.yc()&&this.Va.tL}BG(c){if(this.Ia()){const g=this.yq;for(let m=0,h=g.length;m<h;++m)if(!g[m].sP(c))return!1}return!0}*ZQ(c){if(this.Ia()){const g=
this.yq;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].WM(c)))return!1}return!0}mR(c,g,m){0<g.length?m?(g=g.map(h=>h.$(0)),c.Dd.Ua(),this.ie.Du(g)):this.ie.A_(g):m&&c.Dd.Ua()}x5(c,g){let m,h;const l=0<c.length;var n=this.j;const p=this.Md,q=n.na(),u=1<q.Xu();this.mR(q,g,u);l&&q.Kg(c);g=p.Ua(this);this.BG(g)&&(n.wl(),g.Mg(this),(n=this.ie.Ig())&&([h,m]=this.ie.oG()),this.wA(g),n&&this.ie.nu(h));p.Pa();u&&q.Dd.Pa();l&&q.Qb(c);q.Uu();return m}*hZ(c,g){let m,h;if(this.Po()||this.j.yc())yield this;const l=
0<c.length;var n=this.j;const p=this.Md,q=n.na(),u=1<q.Xu();this.mR(q,g,u);l&&q.Kg(c);g=p.Ua(this);if(yield*this.ZQ(g))n.wl(),g.Mg(this),(n=this.ie.Ig())&&([h,m]=this.ie.oG()),yield*this.IG(g),n&&this.ie.nu(h);p.Pa();u&&q.Dd.Pa();l&&q.Qb(c);q.Uu();return m}y5(c){const g=this.Jd(),m=0<g.length,h=this.j,l=this.Md,n=h.na(),p=1<n.Xu();p&&n.Dd.Ua();this.ie.Du(c);m&&n.Kg(g);c=l.Ua(this);this.BG(c)&&(h.wl(),c.Mg(this),this.wA(c));l.Pa();p&&n.Dd.Pa();m&&n.Qb(g);n.Uu()}*iZ(c){if(this.Po()||this.j.yc())yield this;
const g=this.Jd(),m=0<g.length,h=this.j,l=this.Md,n=h.na(),p=1<n.Xu();p&&n.Dd.Ua();this.ie.Du(c);m&&n.Kg(g);c=l.Ua(this);if(yield*this.ZQ(c))h.wl(),c.Mg(this),yield*this.IG(c);l.Pa();p&&n.Dd.Pa();m&&n.Qb(g);n.Uu()}QF(c,g,m,...h){let l,n;const p=0<c.length,q=this.j,u=this.Md,w=q.na(),r=1<w.Xu();r&&w.Dd.Ua();0<h.length&&this.ie.Du(h);p&&w.Kg(c);h=u.Ua(this);h.T1(g,m);u.S4(h);q.Sz(!1);this.BG(h)&&(q.wl(),h.Mg(this),(g=this.ie.Ig())&&([n,l]=this.ie.oG()),this.wA(h),g&&this.ie.nu(n));q.Sz(!0);u.Pa();u.H4();
r&&w.Dd.Pa();p&&w.Qb(c);w.Uu();return l||h.YI}}}
{"use strict";const d=self.D,a=[];let b=!1;d.Ky=class extends d.ja{constructor(e,c,g){super();const m=e.J(),h=e.na();this.gd=e;this.ya=h;this.j=e.J();this.Hc=c;this.Ma=m.Eh(g[1]);this.gs=g[2];this.gd.wS(this,this.gs);this.Va=m.xb?{pd:g[3][0],ML:g[3][1]}:null}static Ta(e,c,g){return d.B(d.Ky,e,c,g)}Rb(){const e=this.Ma,c=this.j.na().ER(this);this.Ma=e.bind(null,this.j.rj,c)}Ia(){return this.Hc}Vq(){return this.Hc}jF(){return this.Va&&this.Va.ML}Po(){return this.jF()&&this.Va.pd}yz(){return!1}Id(){return a}Jd(){return this.Hc?
this.Hc.Jd():a}ua(e){e.Mg(this);this.ya.QD(this.nca())}async nca(){try{await this.Ma()}catch(e){console.error(`Unhandled exception running script %c${this.gd.Da()}, event ${this.gs}:`,"font-size: 1.2em; font-weight: bold;",e),self.Cg&&self.Cg.ida(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*qb(e){e.Mg(this);if(this.Po()||this.j.yc())yield this;
this.ua(e)}Ie(){return!this.Po()&&!this.j.yc()}static g1(){return b}static j6(){b=!0}}}
{"use strict";const d=self.D;d.Mt=class extends d.ja{constructor(a,b,e){super();this.gd=a;this.j=a.J();this.Hc=b;const c=e[1];this.vB=c[0];this.rm=c[1];this.gh=c[2].map(g=>d.Ly.Ta(a,this,g));this.Db=c[3];this.kJ=[];this.kw=c[4];this.ffa=0;this.Lv=-1;this.wv=new Map;this.ee=d.il.Ta(a,b,e);this.ee.nda(this)}static Ta(a,b,e){return d.B(d.Mt,a,b,e)}Rb(){for(const a of this.gh)a.Rb();this.ee.Rb(!1)}sR(){return this.gh}Lba(a){this.kJ.push(a)}A_(a){const b=this.gh;for(let e=0,c=b.length;e<c;++e)b[e].re(a[e].$(0))}Du(a){const b=
this.gh;for(let e=0,c=b.length;e<c;++e)b[e].re(a[e])}BY(){return this.gh.map(a=>a.Bb())}Ia(){return this.Hc}Vq(){return this.Hc}xl(){return this.Db}Vt(){switch(this.rm){case 0:return null;case 2:return"";default:return 0}}Me(){return this.ee}Ig(){return this.kw}oG(){const a=this.ffa++;this.Lv=a;let b;const e=new Promise(c=>b=c);this.wv.set(a,{resolve:b,XL:0});return[a,e]}nu(a){const b=this.wv.get(a);0===b.XL&&(b.resolve(),this.wv.delete(a));this.Lv=-1}B4(){this.wv.get(this.Lv).XL++;return this.Lv}w5(a){this.Lv=
a;this.wv.get(a).XL--}}}
{"use strict";const d=self.D,a=[];d.Ly=class extends d.ja{constructor(b,e,c){super();const g=b.na();this.gd=b;this.ya=g;this.j=b.J();this.Hc=e;this.Dd=g.Dd;this.Ka=c[1];this.Ca=c[2];this.Qp=c[3];this.ei=!!c[4];this.wb=!!c[5];this.Tea=e instanceof d.Mt;this.jb=c[6];this.Aw=this.j.Ni(c[8]);this.tfa=m=>this.re(m);this.rfa=()=>this.Bb();this.rU=!this.Hc||this.ei||this.wb;this.ob=this.Qp;this.YJ=-1;this.dO()&&(this.ob=this.ob?1:0);!this.sF()||this.ei||this.wb||(this.YJ=g.m$(this));g.Iba(this)}static Ta(b,
e,c){return d.B(d.Ly,b,e,c)}Rb(){if(this.sF()&&!this.ei&&!this.wb&&!this.Tea){const b=this.ya.pE(this);b&&b.Lba(this)}}Da(){return this.Ka}Ni(){return this.Aw}Ia(){return this.Hc}Vq(){return this.Ia()}$f(){return!this.Ia()}sF(){return!this.$f()}Ym(){return 0===this.Ca}Si(){return 1===this.Ca}dO(){return 2===this.Ca}yz(){return!1}Id(){return a}ua(){!this.sF()||this.ei||this.wb||this.re(this.Qp)}Ie(){return!0}*qb(b){this.ua(b)}re(b){this.Ym()?"number"!==typeof b&&(b=parseFloat(b)):this.Si()?"string"!==
typeof b&&(b=b.toString()):this.dO()&&(b=b?1:0);this.rU?this.ob=b:this.Dd.Pq()[this.YJ]=b}Bb(){return this.rU?this.ob:this.Dd.Pq()[this.YJ]}u5(){this.ob=this.Qp}IR(){return{configurable:!1,enumerable:!0,get:this.rfa,set:this.tfa}}}}
{"use strict";const d=self.D,a=[];d.eN=class extends d.ja{constructor(b,e,c){super();const g=b.na();this.gd=b;this.ya=g;this.j=b.J();this.Hc=e;this.hw=null;this.Nea=c[1];this.Lb=!0}static Ta(b,e,c){return d.B(d.eN,b,e,c)}Rb(){this.hw=this.ya.wN(this.Nea);this.gd.c8(this);let b=this.Ia();for(;b;)b instanceof d.il&&b.tj&&b.U7(this),b=b.Ia();this.vQ();this.j.xb&&this.gd.zj.children.push(this.hw.zj)}Ia(){return this.Hc}Id(){return a}ua(){const b=!!this.Ia(),e=this.j.bd;b&&this.ya.Kg(e);this.hw.ua();b&&
this.ya.Qb(e)}*qb(){const b=!!this.Ia(),e=this.j.bd;b&&this.ya.Kg(e);yield*this.hw.qb();b&&this.ya.Qb(e)}Ie(){return!1}vQ(){let b=this.Ia();for(;b;){if(b instanceof d.il&&b.tj&&!b.dr()){this.Lb=!1;return}b=b.Ia()}this.Lb=!0}}}
{"use strict";const d=self.D;d.Bo=class extends d.ja{constructor(l){super();this.Tb=l;this.j=l.J()}Rb(){}static cZ(l,n){return d.B([m,c,g,h,a,b][n[0]],l,n)}};class a extends d.Bo{constructor(l,n){super(l);this.Od=this.j.cu();this.Ma=this.j.Eh(n[1]);this.Ma!==d.C.Qa.ib.random&&this.Ma!==d.C.Qa.ib.Rfa||this.Tb.kG()}Kc(){return this.Od.wk(this.Ma,this.Od)}}class b extends d.Bo{constructor(l,n){super(l);this.rs=null;this.vB=n[1];this.Tb.kG()}Rb(){const l=this.j.na();this.rs=l.Yy(this.vB);this.vB=null;
const n=this.rs.Me();this.Sl=[...new Set([...this.Tb.Me().Jd(),...n.Jd()])];this.Sl=l.jA(this.Sl)}Kc(){const l=this.rs;if(l.xl())return d.il.prototype.QF.bind(l.Me(),this.Sl,l.rm,l.Vt());{const n=l.Vt();return()=>n}}}function e(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.Bo{constructor(l,n){super(l);this.L=this.j.qf(n[1]);this.Ma=this.j.Eh(n[2]);this.Os=!!n[3];this.Md=this.j.na().rd();this.Tb.iH(this.L)}Kc(){return this.L.zb().wk(this.Ma,this.L.Qi().ma)}Bh(){const l=
this.L,n=l.S().Uy();var p=n.length;if(0===p)return this.Os?"":0;p=e(this.Tb.nq,p);this.Md.Ke().KP(l);return this.Ma.apply(n[p].ma,[])}}class g extends d.Bo{constructor(l,n){super(l);this.L=this.j.qf(n[1]);this.cW=n[3];this.Os=!!n[2];this.Tb.iH(this.L)}Ec(){const l=this.L.S().Uy();var n=l.length;if(0===n)return this.Os?"":0;n=e(this.Tb.nq,n);return l[n].BR(this.cW)}Oq(){var l=this.L,n=l.S().Uy(),p=n.length;if(0===p)return this.Os?"":0;p=e(this.Tb.nq,p);n=n[p];l=n.I().DE(l.eh);return n.BR(this.cW+l)}}
class m extends d.Bo{constructor(l,n){super(l);this.L=this.j.qf(n[1]);this.dd=this.L.Oy(n[2]);this.Wh=this.L.Pt(n[2]);this.Ma=this.j.Eh(n[3]);this.Os=!!n[4];this.Md=this.j.na().rd();this.Tb.iH(this.L)}gN(){const l=this.L;var n=l.S().Uy(),p=n.length;if(0===p)return this.Os?"":0;p=e(this.Tb.nq,p);this.Md.Ke().KP(l);n=n[p];p=0;l.Xa&&(p=n.I().Pm(l.eh));return this.Ma.apply(n.cd[this.Wh+p].ma,[])}}class h extends d.Bo{constructor(l,n){super(l);this.Td=null;this.MI=n[1]}Rb(){this.Td=this.j.na().CE(this.MI)}}
}
{"use strict";const d=self.D;d.Pe=class extends d.ja{constructor(A,G,z){super();this.Tb=A;this.Sa=z;this.Ca=G;this.$=null;this.wb=this.ff=!1}static Ta(A,G,z){const F=G[0];return d.B([b,e,p,g,h,c,l,b,g,g,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Rb(){}kG(){this.ff=!0}iH(A){this.ff||!A||A.zb().En||(this.ff=!0)}La(){return this.Sa}J(){return this.Tb.J()}Me(){return this.Tb.Me()}};function a(A){A=self.rY[A];if(!A)throw Error("invalid expression number");return A}class b extends d.Pe{constructor(A,G,z,F){super(A,G,
z);this.nq=0;A=F[1];this.OI=A[0];this.Fs=[];this.mB=null;for(let H=1,J=A.length;H<J;++H)this.Fs.push(d.Bo.cZ(this,A[H]));this.Fs.length?this.$=this.j0:(this.$=a(this.OI),this.wb=!0)}X(A){if(0>A||A>=this.Fs.length)throw new RangeError("invalid numbered node");return this.Fs[A]}Rb(){for(var A of this.Fs)A.Rb();A=a(this.OI);this.mB=this.Fs.length?A(this):A}j0(A){this.nq=A;return this.mB()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.$=this.Z0;14===G&&(this.Me().N5(),this.Tb instanceof
d.ky&&this.Me().Ju())}Z0(A){this.nq=A;A=this.mB();return"string"===typeof A?A:""}f$(){return a(this.OI)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.$=this.ba;this.wb=!1}ba(A){this.nq=A;A=this.mB();return this.J().Oa().ba(A)}}class g extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.Aea=F[1];this.$=this.a0;this.wb=!0}a0(){return this.Aea}}class m extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.mea=F[1];this.$=this.X_;this.wb=!0}X_(){return this.mea}}class h extends d.Pe{constructor(A,
G,z,F){super(A,G,z);this.L=this.J().qf(F[1]);this.$=this.I;A=this.Me();A.KQ(this.L);this.Tb instanceof d.ky?A.Ju():A.Ia()&&A.Ia().Ju();this.wb=!0}I(){return this.L}}class l extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.ih=this.J().cb.Rq(F[1]);this.$=this.lc;this.wb=!0}lc(){return this.ih}}class n extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.vi=this.J().Ib.mz(F[1]);this.$=this.Ab;this.wb=!0}Ab(){return this.vi}}class p extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.Jea=F[1];this.$=
this.m0;this.wb=!0}m0(){return this.Jea}}class q extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.CU=F[1];(A=this.Tb.I())&&A.Xa?(this.$=this.k0,this.kG()):(this.$=this.y0,this.wb=!0)}y0(){return this.CU}k0(A){A=A||0;const G=this.Tb.I();var z=G.S();const F=z.oa();if(F.length)A=F[A%F.length].I();else if(z.k1())z=z.hc,A=z[A%z.length].I();else if(0<G.H.length)z=G.oa(),A=z[A%z.length].I();else return 0;return this.CU+A.DE(G.eh)}}class u extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.MI=F[1];this.Td=
null;this.$=this.i0;this.wb=!0}Rb(){this.Td=this.J().na().CE(this.MI)}i0(){return this.Td}}class w extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.eU=F[1];this.rs=null;this.$=this.s0;this.wb=!0}Rb(){this.rs=this.J().na().Yy(this.eU);this.eU=null}s0(){return this.rs}}class r extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.QK=[];this.dW=[];this.wb=!0;for(let H=1,J=F.length;H<J;++H)A=d.Pe.Ta(this.Tb,F[H],0),this.QK.push(A),this.dW.push(0),A.wb||(this.wb=!1);this.$=this.e1}Rb(){for(const A of this.QK)A.Rb()}e1(){const A=
this.QK,G=this.dW;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].$(0);return G}}class v extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.Fea=F[1];this.$=this.Om;this.wb=!0}Om(){return this.Fea}}class y extends d.Pe{constructor(A,G,z,F){super(A,G,z);this.sea=F[1];this.$=this.b1;this.wb=!0}b1(){return this.sea}}}
{"use strict";const d=self.D;function a(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].$(0)}const b=[],e=function(){};d.KM=class extends d.ja{constructor(c,g,m){super();this.ee=c;this.j=c.J();this.Sa=m;this.Ma=this.j.Eh(g[1]);this.GJ=0<g[3];this.GU=2===g[3];this.UB=!!g[4];this.uj=!!g[5];this.ei=!!g[6];this.jb=g[7];this.HU=this.ee.Vd;this.dd=this.L=null;this.Wh=-1;this.Od=null;this.qb=this.ua=e;this.Na=[];this.yb=[];this.Ol=!1;this.wi=this.Hb=null;this.Va=this.j.xb?{pd:g[8][0],Lf:g[8][1]}:null;-1===
g[0]?this.Od=this.j.cu():(this.L=this.j.qf(g[0]),g[2]&&(this.dd=this.L.Oy(g[2]),this.Wh=this.L.Pt(g[2])),this.ee.Ia()&&this.ee.Ia().Ju());if(10===g.length){c=g[9];for(let h of c)this.Na.push(d.Pe.Ta(this,h,this.Na.length)),this.yb.push(0)}0===this.Na.length&&(this.yb=this.Na=b);this.ee.na().Gba(this)}static Ta(c,g,m){return d.B(d.KM,c,g,m)}Rb(){for(const c of this.Na)c.Rb(),c.ff&&(this.Ol=!0);this.GU?(this.ua=this.dca,this.qb=this.c9):this.Od?(this.EH(),this.qb=this.KG):this.L.zb().En?(this.CH(),
this.qb=this.JG):this.ei?(this.ua=this.kca,this.qb=this.j9):(this.ua=this.JS,this.qb=this.d9)}EH(){this.ov(this.Od,this.Od,this.uH)}CH(){const c=this.L.zb(),g=this.L.Qi().ma;this.ov(c,g,this.tH)}ov(c,g,m){const h=this.Ma,l=this.uj,n=this.Na;if(0===n.length){const p=c.wk(h,g);this.ua=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.wb)this.ua=c.uR(h,g,p.$(0));else{const q=c.wk(h,g);this.ua=function(){return d.xor(q(p.$(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];
if(!l&&p.wb&&q.wb)this.ua=c.vR(h,g,p.$(0),q.$(0));else{const u=c.wk(h,g);this.ua=function(){return d.xor(u(p.$(0),q.$(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.wb&&q.wb&&u.wb)this.ua=c.wR(h,g,p.$(0),q.$(0),u.$(0));else{const w=c.wk(h,g);this.ua=function(){return d.xor(w(p.$(0),q.$(0),u.$(0)),l)}}}else this.ua=m}I(){return this.L}Gg(){return this.dd}Me(){return this.ee}J(){return this.j}La(){return this.Sa}sN(){return this.La()}To(){return this.GJ}Ie(){return!this.Va.pd&&!this.j.yc()&&
!this.Va.Lf}Pi(){this.Hb||(this.Hb=new Map);return this.Hb}fu(){this.wi||(this.wi=new Map);return this.wi}uH(){const c=this.yb;a(this.Na,c);return d.xor(this.Ma.apply(this.Od,c),this.uj)}*KG(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){var c=this.yb;a(this.Na,c);c=this.Ma.apply(this.Od,c);d.Xm(c)&&(c=yield*c);return d.xor(c,this.uj)}return this.ua()}tH(){const c=this.yb;a(this.Na,c);const g=this.L.Qi().ma;return d.xor(this.Ma.apply(g,c),this.uj)}*JG(){if(this.Va.pd||this.j.yc())yield this;
if(this.Va.Lf){var c=this.yb;a(this.Na,c);const g=this.L.Qi().ma;c=this.Ma.apply(g,c);d.Xm(c)&&(c=yield*c);return d.xor(c,this.uj)}return this.ua()}dca(){return!0}*c9(){if(this.Va.pd||this.j.yc())yield this;return!0}kca(){var c=this.yb;a(this.Na,c);c=this.Ma.apply(this.dd||this.L,c);this.L.kc();return c}*j9(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){var c=this.yb;a(this.Na,c);c=this.Ma.apply(this.dd||this.L,c);d.Xm(c)&&(c=yield*c);this.L.kc();return c}return this.ua()}JS(){const c=this.Na,
g=this.yb,m=this.L.S();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.ff||(g[h]=n.$(0))}return m.$b?this.eca(m):this.fca(m)}*d9(){if(this.Va.pd||this.j.yc())yield this;return this.JS()}UG(c){const g=this.Na,m=this.yb;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.ff&&(m[h]=n.$(c))}}eca(c){const g=this.L,m=g.Xa,h=g.eh,l=this.Wh,n=0<=l,p=g.oa(),q=this.Ol,u=this.yb,w=this.Ma,r=this.uj,v=this.HU&&!this.GJ;c.xy();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.UG(A);var y=void 0;n?(y=m?z.I().Pm(h):
0,y=w.apply(z.cd[l+y].ma,u)):y=w.apply(z.ma,u);d.xor(y,r)?c.sp(z):v&&c.Ll(z)}g.Lt(!0);c.te(!1);g.kc();return c.VE()}fca(c){const g=this.L;var m=g.Xa;const h=g.eh,l=g.cc(),n=this.Wh,p=0<=n,q=this.Ol,u=this.yb,w=this.Ma,r=this.uj,v=this.HU&&!this.GJ,y=c.H,A=c.hc,G=v&&!this.ee.E2(this),z=G?A:y;let F=0,H=!1;for(let L=0,P=z.length;L<P;++L){const R=z[L];q&&this.UG(L);var J=void 0;p?(J=m?R.I().Pm(h):0,J=w.apply(R.cd[n+J].ma,u)):J=w.apply(R.ma,u);d.xor(J,r)?(H=!0,G?(y.push(R),l&&R.Cba()):(z[F]=R,l&&R.pda(F),
++F)):G?(z[F]=R,l&&R.oda(F),++F):v&&(A.push(R),l&&R.Bba())}d.kf(z,F);l&&g.Mda(G,F);m=H;G&&!H&&(H=this.uba(y));g.Lt(m||v);return v?H:c.VE()}uba(c){var g=this.L;const m=g.Xa;g=g.eh;const h=this.Ol,l=this.Wh,n=0<=l,p=this.yb,q=this.Ma,u=this.uj;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.UG(r);if(n){const y=m?w.I().Pm(g):0;w=q.apply(w.cd[l+y].ma,p)}else w=q.apply(w.ma,p);if(d.xor(w,u))return!0}return!1}uu(c,g){return this.Na[c].$(g)}l0(){const c=this.Na;if(!c.length)throw Error("no parameters");
return c[0].f$()}ka(){if(!this.Hb||!this.Hb.size)return null;const c={};for(const [g,m]of this.Hb.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].md,l[1].md,l[2]]));c[g]=h}return{ex:c}}qa(c){this.Hb&&(this.Hb.clear(),this.Hb=null);if(c){var g=this.j,m=c.ex;if(m){c=this.Pi();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=d.B(d.qu,l.map(n=>[g.Xj(n[0]),g.Xj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const d=self.D;function a(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].$(0)}const b=[],e=function(){},c=function*(){};d.ky=class extends d.ja{constructor(g,m,h){super();this.ee=g;this.j=g=g.J();this.Sa=h;this.jb=4<=m.length?m[3]:-1;this.IA=5<=m.length?m[4]:0;this.dd=this.L=this.Ma=null;this.Wh=-1;this.Od=null;this.WA="";this.Sl=this.VA=null;this.qb=this.ua=e;this.Na=[];this.yb=[];this.Ol=!1;this.wi=this.Hb=null;const l=(h=-3===m[0])?m[2]:m[5];this.Va=g.xb||h?{pd:l[0],Lf:l[1],index:l[2]}:
null;-1===m[0]?(this.Od=g.cu(),this.Ma=g.Eh(m[1])):-2===m[0]?this.WA=m[1]:h?(this.Ma=g.Eh(m[1]),this.ua=this.RF,this.qb=this.mZ,this.IA=1):(this.Ma=g.Eh(m[1]),this.L=g.qf(m[0]),m[2]&&(this.dd=this.L.Oy(m[2]),this.Wh=this.L.Pt(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Na.push(d.Pe.Ta(this,n,this.Na.length)),this.yb.push(0)}0===this.Na.length&&(this.yb=this.Na=b);this.ee.na().Fba(this)}static Ta(g,m,h){return d.B(d.ky,g,m,h)}Rb(){for(var g of this.Na)g.Rb(),g.ff&&(this.Ol=!0);if(this.Od)this.EH(),
this.qb=this.KG;else if(this.WA)this.Mca(),this.WA="";else if(this.ua===this.RF){g=this.Ma;const m=this.j.na().ER(this.ee);this.Ma=g.bind(null,this.j.rj,m)}else this.dd?this.Ig()?(this.ua=this.HS,this.qb=this.Z8):(this.ua=this.GS,this.qb=this.Y8):this.L.zb().En?(this.CH(),this.qb=this.JG):this.Ig()?(this.ua=this.LS,this.qb=this.f9):this.Na.length?this.Na.every(m=>m.ff)?(this.ua=this.KS,this.qb=this.e9):this.Ol?(this.ua=this.NS,this.qb=this.h9):this.Na.every(m=>m.wb)?(a(this.Na,this.yb),this.ua=this.sH,
this.qb=this.$Q):(this.ua=this.MS,this.qb=this.g9):(this.ua=this.sH,this.qb=this.$Q)}EH(){this.ov(this.Od,this.Od,this.uH)}CH(){const g=this.L.zb(),m=this.L.Qi().ma;this.ov(g,m,this.tH)}Mca(){const g=this.ee.na(),m=g.Yy(this.WA);m.xl()?(this.VA=m.Me(),this.Sl=[...new Set([...this.ee.Jd(),...this.VA.Jd()])],this.Sl=g.jA(this.Sl),this.ua=d.il.prototype.x5.bind(this.VA,this.Sl,this.Na),this.qb=this.a9):(this.ua=e,this.qb=c)}ov(g,m,h){const l=this.Ma,n=this.Na;if(0===n.length)this.ua=g.wk(l,m);else if(1===
n.length){const p=n[0];if(p.wb)this.ua=g.uR(l,m,p.$(0));else{const q=g.wk(l,m);this.ua=function(){return q(p.$(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.wb&&q.wb)this.ua=g.vR(l,m,p.$(0),q.$(0));else{const u=g.wk(l,m);this.ua=function(){return u(p.$(0),q.$(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.wb&&q.wb&&u.wb)this.ua=g.wR(l,m,p.$(0),q.$(0),u.$(0));else{const w=g.wk(l,m);this.ua=function(){return w(p.$(0),q.$(0),u.$(0))}}}else this.ua=h}Ig(){return 1===this.IA}DM(){return 2===
this.IA}t1(){return 0!==this.IA}I(){return this.L}Me(){return this.ee}J(){return this.j}La(){return this.Sa}sN(){return this.Va.index}Ie(){return!this.Va.pd&&!this.j.yc()&&!this.Va.Lf}Pi(){this.Hb||(this.Hb=new Map);return this.Hb}fu(){this.wi||(this.wi=new Map);return this.wi}uH(){const g=this.yb;a(this.Na,g);return this.Ma.apply(this.Od,g)}*KG(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){const g=this.yb;a(this.Na,g);return yield*this.Ma.apply(this.Od,g)}return this.ua()}*a9(){if(this.Va.pd||
this.j.yc())yield this;return yield*this.VA.hZ(this.Sl,this.Na)}tH(){const g=this.yb;a(this.Na,g);return this.Ma.apply(this.L.Qi().ma,g)}*JG(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){const g=this.yb;a(this.Na,g);return yield*this.Ma.apply(this.L.Qi().ma,g)}return this.ua()}sH(){const g=this.yb,m=this.L.S().oa();for(let h=0,l=m.length;h<l;++h)this.Ma.apply(m[h].ma,g)}*$Q(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){const g=this.yb,m=this.L.S().oa();for(let h=0,l=m.length;h<l;++h)yield*this.Ma.apply(m[h].ma,
g)}else this.sH()}MS(){const g=this.yb;a(this.Na,g);const m=this.L.S().oa();for(let h=0,l=m.length;h<l;++h)this.Ma.apply(m[h].ma,g)}*g9(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){const g=this.yb;a(this.Na,g);const m=this.L.S().oa();for(let h=0,l=m.length;h<l;++h)yield*this.Ma.apply(m[h].ma,g)}else this.MS()}KS(){const g=this.Na,m=this.yb,h=this.Ma,l=this.L.S().oa();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].$(n);h.apply(q.ma,m)}}*e9(){if(this.Va.pd||
this.j.yc())yield this;if(this.Va.Lf){const g=this.Na,m=this.yb,h=this.Ma,l=this.L.S().oa();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].$(n);yield*h.apply(q.ma,m)}}else this.KS()}NS(){const g=this.Na,m=this.yb,h=this.Ma,l=this.L.S().oa();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.ff||(m[p]=n.$(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.ff&&(m[u]=r.$(p))}h.apply(n.ma,m)}}*h9(){if(this.Va.pd||this.j.yc())yield this;
if(this.Va.Lf){const m=this.Na,h=this.yb,l=this.Ma,n=this.L.S().oa();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.ff||(h[p]=g.$(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.ff&&(h[u]=r.$(p))}yield*l.apply(g.ma,h)}}else this.NS()}GS(){var g=this.L;const m=g.Xa,h=g.eh,l=this.Na,n=this.Ol,p=this.yb,q=this.Ma,u=this.Wh;g=g.S().oa();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.ff||(p[v]=w.$(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.ff&&(p[A]=r.$(v))}r=m?w.I().Pm(h):0;q.apply(w.cd[u+r].ma,p)}}*Y8(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){var g=this.L;const l=g.Xa,n=g.eh,p=this.Na,q=this.Ol,u=this.yb,w=this.Ma,r=this.Wh;g=g.S().oa();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.ff||(u[v]=m.$(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.ff&&(u[A]=h.$(v))}h=l?m.I().Pm(n):0;yield*w.apply(m.cd[r+h].ma,u)}}else this.GS()}LS(){const g=this.Na,m=this.yb,
h=this.Ma,l=this.L.S().oa(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].$(p);n.push(h.apply(u.ma,m))}return Promise.all(n)}*f9(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){const g=this.Na,m=this.yb,h=this.Ma,l=this.L.S().oa(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].$(p);n.push(yield*h.apply(u.ma,m))}return Promise.all(n)}return this.LS()}HS(){var g=this.L;const m=g.Xa,h=g.eh,l=this.Na,n=this.yb,
p=this.Ma,q=this.Wh;g=g.S().oa();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].$(w);const y=m?v.I().Pm(h):0;u.push(p.apply(v.cd[q+y].ma,n))}return Promise.all(u)}*Z8(){if(this.Va.pd||this.j.yc())yield this;if(this.Va.Lf){var g=this.L;const m=g.Xa,h=g.eh,l=this.Na,n=this.yb,p=this.Ma,q=this.Wh;g=g.S().oa();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].$(w);const y=m?v.I().Pm(h):0;u.push(yield*p.apply(v.cd[q+
y].ma,n))}return Promise.all(u)}return this.HS()}async RF(){try{await this.Ma()}catch(g){console.error(`Unhandled exception running script %c${this.ee.gd.Da()}, event ${this.ee.gs}, action ${this.sN()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Cg&&self.Cg.ida(this),d.Ky.g1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Ky.j6())}}*mZ(){if(this.Va.pd||
this.j.yc())yield this;return this.RF()}ka(){return this.Hb&&this.Hb.size?{ex:d.tG(this.Hb)}:null}qa(g){this.Hb&&(this.Hb.clear(),this.Hb=null);g&&(g=g.ex)&&(this.Hb=d.qE(g))}}}
{"use strict";const d=self.D,a=new d.eb;function b(M,O){return d.compare(this.A().ca(),M,O)}function e(M,O){return d.compare(this.A().da(),M,O)}function c(){const M=this.A(),O=M.ba();return O.Yq()?M.er(O.Ir()):M.mO(O.wg,M.lc().ZN(),M.lc().Df)}function g(){var M=this.A();const O=M.lc();M=M.Yc();return 0>M.la||0>M.ga||M.Z>O.fa()||M.V>O.aa()}function m(M,O,U){const aa=this.S(),ha=aa.oa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=d.zW(ja.ca(),ja.da(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=d.zW(ja.ca(),ja.da(),O,U),0===M&&ja<ka||1===M&&ja>ka)ka=ja,ua=fa;aa.an(ua);return!0}function h(M){const O=this.A();O.ca()!==M&&(O.Qg(M),O.ra())}function l(M){const O=this.A();O.da()!==M&&(O.Ph(M),O.ra())}function n(M,O){const U=this.A();U.y_(M,O)||(U.Ld(M,O),U.ra())}function p(M,O){if(M&&(M=M.Q0(this.M))){var [U,aa]=M.Fo(O);O=this.A();if(O.ca()!==U||O.da()!==aa)O.Ld(U,aa),O.ra()}}function q(M){if(0!==M){var O=this.A();O.$m(O.wE()*M,O.OE()*M);O.ra()}}function u(M,
O){if(0!==O){var U=this.A();M=d.kb(M);U.$m(Math.cos(M)*O,Math.sin(M)*O);U.ra()}}function w(){return this.A().ca()}function r(){return this.A().da()}function v(){return this.j.Co(this.M)}function y(M,O){return d.compare(this.A().fa(),M,O)}function A(M,O){return d.compare(this.A().aa(),M,O)}function G(M){const O=this.A();O.fa()!==M&&(O.Oh(M),O.ra())}function z(M){const O=this.A();O.aa()!==M&&(O.Mh(M),O.ra())}function F(M,O){const U=this.A();if(U.fa()!==M||U.aa()!==O)U.ud(M,O),U.ra()}function H(){return this.A().fa()}
function J(){return this.A().aa()}function L(){return this.A().Yc().Z}function P(){return this.A().Yc().V}function R(){return this.A().Yc().la}function T(){return this.A().Yc().ga}function Z(M,O){return d.Dq(this.A().Ha(),d.kb(O))<=d.kb(M)}function X(M){return d.hf(this.A().Ha(),d.kb(M))}function ba(M,O){M=d.kb(M);O=d.kb(O);const U=this.A().Ha();return d.hf(O,M)?d.hf(U,M)&&!d.hf(U,O):!(!d.hf(U,M)&&d.hf(U,O))}function Y(M){const O=this.A();M=d.zd(d.kb(M));isNaN(M)||O.Ha()===M||(O.Bc(M),O.ra())}function va(M){if(!isNaN(M)&&
0!==M){var O=this.A();O.Bc(O.Ha()+d.kb(M));O.ra()}}function ta(M){if(!isNaN(M)&&0!==M){var O=this.A();O.Bc(O.Ha()-d.kb(M));O.ra()}}function ya(M,O){const U=this.A(),aa=U.Ha();M=d.pL(aa,d.kb(O),d.kb(M));isNaN(M)||aa===M||(U.Bc(M),U.ra())}function Na(M,O,U){const aa=this.A(),ha=aa.Ha();O-=aa.ca();U-=aa.da();M=d.pL(ha,Math.atan2(U,O),d.kb(M));isNaN(M)||ha===M||(aa.Bc(M),aa.ra())}function Sa(M,O){const U=this.A(),aa=U.Ha();M-=U.ca();O-=U.da();O=Math.atan2(O,M);isNaN(O)||aa===O||(U.Bc(O),U.ra())}function Ta(){return d.jf(this.A().Ha())}
function Ua(M,O){return d.compare(d.ey(100*this.A().Oe()),M,O)}function Wa(){return this.A().Lc()}function eb(M){const O=this.A();M=2===M?!O.Lc():0!==M;O.Lc()!==M&&(O.Pg(M),this.j.ea())}function fb(M){M=d.ia(M/100,0,1);const O=this.A();O.Oe()!==M&&(O.El(M),this.j.ea())}function Pa(M){a.tt(M);M=this.A();M.gb.Em(a)||(M.gQ(a),this.j.ea())}function Va(){const M=this.A().gb;return d.Hz(M.Ya,M.Ja,M.$a,M.Za)}function ib(){return d.ey(100*this.A().Oe())}function Ya(M){return M?this.A().ba()===M:!1}function vb(M){const O=
this.S(),U=O.oa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.ba().La(),Ga=ka.ba().La();if(0===M){if(wa>Ga||wa===Ga&&ua.fk()>ka.fk())aa=ja}else if(wa<Ga||wa===Ga&&ua.fk()<ka.fk())aa=ja}O.an(aa);return!0}function wb(M,O,U){const aa=this.A();M=0===M?aa.fb():aa.tf();return d.compare(M,O,U)}function jb(){this.A().Q7()}function xb(){this.A().O7()}function yb(M){M&&this.A().P7(M)}function zb(M,O){M=0===M;O&&(O=O.EE(this.Ea()))&&this.A().N7(O,
M)}function Ab(M){const O=this.A();O.fb()!==M&&(O.xf(M),this.j.ea())}function Bb(){return this.A().ba().La()}function Cb(){return this.A().ba().Da()}function Db(){return this.A().fk()}function kb(){return this.A().fb()}function Eb(){return this.A().tf()}function Fb(M,O){if(O=this.I().Ra.ll(O)){O=O.La();M=1===M;var U=this.A().ng;U.iu(O)!==M&&(U.IP(O,M),U.Rh(),this.j.ea())}}function Gb(M,O,U){var aa=this.I().Ra.ll(M);if(aa){M=aa.La();var ha=this.A().ng,fa=ha.kl(M);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Xf().ez(O);if("color"===aa){a.tt(U);O=fa[O];if(a.Em(O))return;O.Ij(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.iu(M)&&this.j.ea()}}}const lb=d.B(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(M,O,U,aa){O.md<U.md?M.Set(O,U,aa):M.Set(U,O,aa)}function qb(M,O,U){O.md<U.md?M.yo(O,U):M.yo(U,O)}function qa(M,O,U){return O.md<U.md?M.$(O,U):M.$(U,O)}function Ma(M,O,U,aa){if(!O)return!1;M=M.Ea();const ha=0!==U||0!==aa,fa=M.A(),ja=M.J(),ua=ja.ig;var ka=ja.Rf();
const wa=ka.Me().Vd;var Ga=ka.I();ka=ka.uj;const Ia=O.S();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.$b?(lb.ta(fa.Yc()),lb.offset(U,aa),ua.Ry(fa.ba(),O,lb,mb),O=mb):wa?ja.gO()&&!Ia.hc.length&&Ia.H.length?O=Ia.H:(O=Ia.hc,ob=!0):O=Ia.H;ha&&(db=fa.ca(),Ha=fa.da(),fa.$m(U,aa),fa.ra());for(const da of O)if(ua.uk(M,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Ld(db,Ha),fa.ra());d.F(mb);return ma}function Mb(M,O){if(nb){if(O){{M=M.J().Jb().Vd;O=Za.S();const U=O.H,aa=O.hc;O.$b?(O.Iu(Qa),M&&(d.F(aa),
O.qM(Qa,Za.oa()))):M?ob?O.j7(Qa):(O.qM(Qa,U),O.Iu(Qa)):O.Iu(Qa);Za.kc()}}Qa.clear();Za=null;nb=!1}}function Nb(M){if(this.j.xe)return Ob.call(this,M);if(!M)return!1;var O=this.j;const U=O.ig,aa=O.na(),ha=aa.rd();var fa=aa.Rf();const ja=fa.I();var ua=fa.Pi(),ka=fa.fu();fa=ha.Ke();const wa=O.Uk,Ga=wa-1,Ia=fa.Jb(),db=ha.Ua(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.B(d.qu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ob().addEventListener("instancedestroy",
Ra=>{Ha.YM(Ra.instance)}));O=M.S();ua=ja.S().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.Ry(Ea.A().ba(),M,Ea.A().Yc(),Xa),ka=Xa,U.uM(Ea,M,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.uk(Ea,La)||U.FM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Id(),aa.Qe(ma),na=ja.S(),da=M.S(),na.te(!1),da.te(!1),ja===M?(da=na.H,d.F(da),da.push(Ea),da.push(La),ja.kc()):(na=na.H,da=da.H,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.kc(),M.kc()),Ia.Lg(fa,db),aa.Qb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Pa();return!1}function*Ob(M){if(!M)return!1;var O=this.j;const U=O.ig,aa=O.na(),ha=aa.rd();var fa=aa.Rf();const ja=fa.I();var ua=fa.Pi(),ka=fa.fu();fa=ha.Ke();const wa=O.Uk,Ga=wa-1,Ia=fa.Jb(),db=ha.Ua(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.B(d.qu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ob().addEventListener("instancedestroy",Ra=>
{Ha.YM(Ra.instance)}));O=M.S();ua=ja.S().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.Ry(Ea.A().ba(),M,Ea.A().Yc(),Xa),ka=Xa,U.uM(Ea,M,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.uk(Ea,La)||U.FM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Id(),aa.Qe(ma),na=ja.S(),da=M.S(),na.te(!1),da.te(!1),ja===M?(da=na.H,d.F(da),da.push(Ea),da.push(La),ja.kc()):(na=na.H,da=da.H,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.kc(),M.kc()),yield*Ia.Dg(fa,db),aa.Qb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Pa();return!1}function Pb(M){return Ma(this,M,0,0)}function Qb(M,O,U){return Ma(this,M,O,U)}function Rb(){return this.A().gk()}function rb(){return this.A().uf()}function sb(M,O){const U=this.S().oa();if(0===U.length)return!1;const aa=M.S();var ha=aa.oa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.$x())wa.Iq(M)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ia(),null===ja)continue}else ja=ja.nz();ja.Iq(M)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Iu(fa);M.kc();return!0}function tb(M,O){const U=this.S().oa();if(0===U.length)return!1;const aa=M.S();var ha=aa.oa();if(aa.$b){var fa=[...this.j.IL(M)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.uf()&&ka.Iq(M)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.cl())2===O&&wa.uf()||wa.Iq(M)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Iu(fa);M.kc();return!0}function ub(M,O){const U=this.S().oa();if(0===U.length)return!1;const aa=M.S();var ha=aa.oa();if(aa.$b){var fa=[...this.j.IL(M)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].vE(O);null!==ka&&ka.Iq(M)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.yu(fa);M.kc();return!0}function gb(M,O){return d.compare(this.M.Qy(),
M,O)}function f(M,O,U,aa,ha,fa,ja,ua){const ka=this.M,wa=this.j.Tt().I();for(const Ga of M.nW(ka,wa)){if(!Ga.zb().RV)break;ka.Km(Ga,{xt:O,yt:U,Fq:aa,Eq:ha,wt:fa,zt:ja,Nx:ua})}}function k(M){const O=this.M,U=this.j.Tt().I();for(const aa of M.nW(O,U))O.lk(aa)}function t(){this.M.gk()&&this.M.Ia().lk(this.M)}function x(){return this.M.Qy()}function B(M,O){M=Math.floor(M);O=Math.floor(O);const U=this.A();2>M||2>O||!isFinite(M)||!isFinite(O)?(U.Nz(),U.ra()):U.iE(M,O)}function C(M,O,U,aa,ha,fa,ja,ua){const ka=
this.A();ka.WP(M,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,jy:fa,xX:ja,AX:ua})&&ka.ra()}function E(){const M=this.A();return M.Zf()?M.ck().Hk:0}function I(){const M=this.A();return M.Zf()?M.ck().Yk:0}function K(M){const O=this.A();M=2===M?!O.Lc():0!==M;O.Lc()!==M&&O.Pg(M)}function N(M,O){this.d6(M,O)}function Q(M,O){this.c6(M,""+O)}function S(M){this.e5(M)}function W(){this.kN()}function V(){this.xM()}function ea(){return this.JI}function ia(M){this.Vg(0!==M)}function ca(){return this.Db}function oa(M,
O,U){return d.compare(this.Ea().Ne(M),O,U)}function la(M){return!!this.Ea().Ne(M)}function ra(M,O){const U=this.S(),aa=U.oa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Ne(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Ne(O);if(0===M&&wa<ja||1===M&&wa>ja)ja=wa,fa=ha}U.an(fa);return!0}function sa(M){if(this.j.Rf().uj){{const aa=this.S();if(aa.$b){aa.te(!1);aa.xy();var O=this.oa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.md===M?aa.Ll(U):aa.sp(U)}this.kc();M=!!aa.H.length}else{O=
aa.H;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.md===M?aa.Ll(ja):++U}d.kf(O,U);this.kc();M=!!O.length}}}else M=pa(this,M);return M}function pa(M,O){O=M.J().Xj(O);if(!O)return!1;const U=M.S();if(!U.$b&&!U.H.includes(O))return!1;if(M.Xa){if(O.I().YD(M))return U.an(O),M.kc(),!0}else if(O.I()===M)return U.an(O),M.kc(),!0;return!1}function za(){this.j.zo(this.M)}function Aa(){return!0}function Ba(){return!0}function Ca(M,O){this.Ea().hn(M,O)}function Fa(M,O){const U=this.Ea(),aa=
U.Ne(M);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.hn(M,aa+O)}function Ja(M,O){const U=this.Ea(),aa=U.Ne(M);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.hn(M,aa-O))}function Ka(M,O){this.Ea().hn(M,O?1:0)}function Da(M){const O=this.Ea();O.hn(M,0===O.Ne(M)?1:0)}function Hb(M){let O;try{O=JSON.parse(M)}catch(U){console.error("Failed to load from JSON string: ",U);return}M=this.Ea();M.sA("state");M.Zc(O,"state")}
function Ib(){return JSON.stringify(this.Ea().td("state"))}function nc(){return this.Ea().I().Da()}function oc(){const M=this.j.pf().QI;let O=M.H.length;for(const U of this.j.IL(M))++O;return O}function pc(){return this.j.pf().QI.S().oa().length}function qc(){return this.M.Eo()}function rc(){return this.M.md}d.KX=function(M,O){const U=M[1],aa=M[4],ha=M[5],fa=M[6],ja=M[7],ua=M[8],ka=M[10],wa=M[11],Ga=M[12],Ia=M[13],db=M[14],Ha=M[15],ma=O.G,da=O.pb,na=O.ib;M[3]&&(ma.QY=b,ma.hja=e,ma.nla=c,ma.rla=g,
ma.E4=m,da.Qg=h,da.Ph=l,da.w6=n,da.Rpa=p,da.fma=q,da.ema=u,na.fA=w,na.yG=r,na.DW=v);aa&&(ma.gja=y,ma.Yia=A,da.Oh=G,da.Mh=z,da.ud=F,na.G7=H,na.y1=J,na.iY=L,na.ria=P,na.jY=R,na.qia=T);ha&&(ma.YX=Z,ma.B2=X,ma.A2=ba,da.Bc=Y,da.zoa=va,da.Aoa=ta,da.Boa=ya,da.Coa=Na,da.Vpa=Sa,na.gia=Ta);fa&&(ma.Lc=Wa,ma.Zia=Ua,da.Pg=eb,da.El=fb,da.$oa=Pa,na.Opacity=ib,na.Sia=Va);ja&&(ma.ila=Ya,ma.$ma=vb,ma.ija=wb,da.x3=jb,da.gma=xb,da.hma=yb,da.xra=zb,da.xf=Ab,na.Jla=Bb,na.Y2=Cb,na.wra=Db,na.vra=kb,na.Lqa=Eb);ua&&(da.cpa=
Fb,da.dpa=Gb);Ia&&(ma.gk=Rb,ma.uf=rb,ma.Yma=sb,ma.Sma=tb,ma.Wma=ub,ma.Wia=gb,da.Km=f,da.lk=k,da.Bna=t,na.Mia=x);db&&(da.Mpa=B,da.WP=C,na.$la=E,na.ama=I);ka&&(ma.Lc=Wa,da.Pg=K,da.Woa=N,da.epa=Q,da.Ana=S);wa&&(ma.Tka=ea,da.hpa=W,da.Uoa=V);Ga&&(ma.xl=ca,da.YF=ia);Ha&&(ma.vma=Nb,ma.J2=Pb,ma.sla=Qb,O.K_=Mb);U||(ma.HM=oa,ma.cO=la,ma.Tma=ra,ma.D4=sa,da.QP=Ca,da.aia=Fa,da.Cqa=Ja,da.T5=Ka,da.Hqa=Da,ma.LO=Aa,ma.P3=Ba,da.$M=za,da.wF||(da.wF=Hb),na.eY||(na.eY=Ib),na.qja=oc,na.ana=pc,na.qka=qc,na.o7=rc,na.qma=
nc)}}
{"use strict";const d=self.D;d.TF=class extends d.ja{constructor(a){super();this.ya=a;this.Ca="";this.jc=-1;this.cx="";this.$B=!1;this.oj=null;this.gg=0;this.cf=[];this.oq=new Map;this.Ql=null;this.vv=-1;this.XI=this.gh=null;this.bx=!1}m(){this.Ca="";this.jc=-1;this.cx="";this.XI=this.gh=this.Ql=this.oj=null;this.vv=-1;d.F(this.cf);for(const a of this.oq.values())a.m();this.oq.clear()}Ug(){var a=this.ya,b=a.J().bd;const e=a.pf();this.oj=e.Jb();this.gg=e.gg+1;if(a=a.pE(this.oj))this.Ql=a,this.gh=a.BY(),
this.XI=a.kJ.map(c=>c.Bb()),a.Ig()&&(this.vv=a.B4());for(const c of b)if(b=c.S(),!b.$b||this.oj.v1(c))this.cf.push(c),this.oq.set(c,d.B(d.kQ,b))}s2(a){this.Ca="timer";this.Ug();this.jc=this.ya.J().Do()+a}q2(a){this.Ca="signal";this.Ug();this.cx=a.toLowerCase()}e2(a){this.Ca="promise";this.Ug();a.then(()=>this.eG()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.eG()})}R2(){return"timer"===this.Ca}P2(){return"signal"===this.Ca}L2(){return"promise"===
this.Ca}eG(){this.$B=!0}gT(){return this.R2()?this.jc<=this.ya.J().Do():this.$B}ES(a){a.rH(this.oj,this.gg);for(const [b,e]of this.oq.entries())e.rH(b.S());if(a=this.Ql)a.Du(this.gh),a.kJ.map((b,e)=>b.re(this.XI[e])),a.Ig()&&a.w5(this.vv)}aca(a){this.ES(a);this.oj.$ba(a);this.Ql&&this.Ql.Ig()&&this.Ql.nu(this.vv);this.ya.Kq(this.cf);this.bx=!0}async V8(a){this.ES(a);for(const b of this.oj.U8(a))await this.ya.J().Lq(b);this.Ql&&this.Ql.Ig()&&this.Ql.nu(this.vv);this.ya.Kq(this.cf);this.bx=!0}bp(a){for(const b of this.oq.values())b.bp(a)}ka(){const a=
{},b={t:this.jc,st:this.cx,s:this.$B,ev:this.oj.jb,sm:this.cf.map(e=>e.jb),sols:a};this.oj.z$(this.gg)&&(b.act=this.oj.nN(this.gg).jb);for(const [e,c]of this.oq)a[e.jb.toString()]=c.ka();return b}static z8(a,b){const e=a.J();var c=a.g0(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var m=a.Q_(b.act);if(!m)return null;g=m.La()}m=d.B(d.TF,a);m.jc=b.t;m.Ca=-1===m.jc?"signal":"timer";m.cx=b.st;m.$B=b.s;m.oj=c;m.gg=g;for(var h of b.sm)(c=e.dz(h))&&m.cf.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.dz(parseInt(l,10)))h=d.B(d.kQ,null),h.qa(a,n),m.oq.set(b,h);return m}}}{"use strict";const d=self.D;d.kQ=class extends d.ja{constructor(a){super();this.L=null;this.ZB=!0;this.H=[];a&&(this.L=a.I(),this.ZB=a.$b,d.Xc(this.H,a.H))}m(){this.L=null;d.F(this.H)}rH(a){a.te(this.ZB);d.Xc(a.H,this.H)}bp(a){d.zg(this.H,a)}ka(){return{sa:this.ZB,insts:this.H.map(a=>a.md)}}qa(a,b){a=a.J();this.ZB=!!b.sa;d.F(this.H);for(const e of b.insts)(b=a.Xj(e))&&this.H.push(b)}}}
{"use strict";const d=self.D;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.cn=class extends d.ja{constructor(b){super();this.j=b.Pf;this.En=!!b.OW;this.Ef=!!b.Ega;this.Xea=!!b.Dga;this.efa=!!b.Rga;this.Kea=!!b.tga;this.RV=!!b.rha;this.xfa=!!b.qha;this.FV=null;this.DT=new Map;this.nea=new Map;this.oea=new Map;this.pea=new Map}m(){this.j=null}J(){return this.j}$c(){}So(){return this.Xea}ir(){return this.efa}WE(){return this.Kea}wk(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.DT.get(b);if(c)return c;c=b.bind(e);this.DT.set(b,c);return c}uR(b,e,c){if(!e)throw Error("missing 'this' binding");const g=a(this.nea,b);let m=g.get(c);if(m)return m;m=b.bind(e,c);g.set(c,m);return m}vR(b,e,c,g){if(!e)throw Error("missing 'this' binding");var m=a(this.oea,b);m=a(m,c);let h=m.get(g);if(h)return h;h=b.bind(e,c,g);m.set(g,h);return h}wR(b,e,c,g,m){if(!e)throw Error("missing 'this' binding");var h=a(this.pea,b);h=a(h,c);h=a(h,g);let l=h.get(m);if(l)return l;l=b.bind(e,c,g,
m);h.set(m,l);return l}qda(b){if(!this.En)throw Error("must be single-global plugin");this.FV=b}Qi(){if(!this.En)throw Error("must be single-global plugin");return this.FV.Qi()}}}
{"use strict";const d=self.D;d.D5=class extends d.cn{constructor(a,b){super(a);this.An=b;this.hfa=0;this.lJ=new Map;this.Bt("elem-focused",e=>e.Vaa());this.Bt("elem-blurred",e=>{e&&e.Uaa()})}m(){super.m()}W7(a){const b=this.hfa++;this.lJ.set(b,a);return b}Rba(a){this.lJ.delete(a)}Bt(a,b){this.j.Fi(this.An,a,e=>{const c=this.lJ.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.D;d.ep=class extends d.ja{constructor(a){super();this.L=a;this.j=a.J();this.mi=a.zb()}m(){this.mi=this.j=this.L=null}I(){return this.L}J(){return this.j}zb(){return this.mi}Sf(){return this.L.Sf()}Lt(){}hr(){}$o(){}Gz(){}FF(){}Ih(){return null}}}
{"use strict";const d=self.D;d.pr=class extends d.ja{constructor(a,b){super();this.M=a;this.An=b;this.j=a.J();this.L=this.M.I();this.Wc=this.L.Wc;this.Ws=this.wm=null;this.uw=this.gm=!1;this.Cd=null;this.Jx=!1}m(){this.Jx=!0;this.wp();this.KH();this.Ws=this.wm=null;this.Cd&&(this.Cd.m(),this.Cd=null);this.Wc=this.L=this.j=this.M=null}dA(){return this.Jx}Ea(){return this.M}J(){return this.j}I(){return this.L}zb(){return this.Wc.zb()}Wq(){return this.M.Dh()}pa(a){return this.j.pa(a,this.M,null)}Pc(a){return this.j.Pc(a,
this.M,null)}RD(a,b){this.j.Fi(this.An,a,b)}pM(a){for(const [b,e]of a)this.RD(b,e)}Kh(a,b){this.j.Bl(this.An,a,b)}Iz(a,b){return this.j.Vo(this.An,a,b)}dj(a,b){this.j.ye?this.Kh(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.An,handler:a,data:b,responseId:null})}se(){}Sh(){this.gm||(this.wm||(this.wm=()=>this.se()),this.j.Ob().addEventListener("tick",this.wm),this.gm=!0)}wp(){this.gm&&(this.j.Ob().removeEventListener("tick",this.wm),this.gm=!1)}KH(){this.uw&&(this.j.Ob().removeEventListener("tick2",
this.Ws),this.uw=!1)}td(){return null}Zc(){}zc(){}dg(){}yF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.dg(a,e+b)}}Ih(){return null}Ft(a,b,e){const c=this.Wq();a=d.B(d.Event,a,b);a.instance=c;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.D;d.SF=class extends d.pr{constructor(a,b){super(a,b);this.Wa=a.A();this.mD=this.ft=null}m(){if(this.ft){const a=this.j.Ob();a.removeEventListener("webglcontextlost",this.ft);a.removeEventListener("webglcontextrestored",this.mD);this.mD=this.ft=null}this.Wa=null;super.m()}h1(){if(!this.ft){this.ft=()=>this.jr();this.mD=()=>this.YO();var a=this.j.Ob();a.addEventListener("webglcontextlost",this.ft);a.addEventListener("webglcontextrestored",this.mD)}}jr(){}YO(){}A(){return this.Wa}Ro(){return!1}$j(){if(!this.Ro())throw Error("original size not known");
const a=this.Ch();if(a)return a.fa()}Zj(){if(!this.Ro())throw Error("original size not known");const a=this.Ch();if(a)return a.aa()}Ch(){return null}xE(){var a=this.Ch();return a&&(a=a.oe())?[a.fa(),a.aa()]:[100,100]}yE(){const a=this.Ch();return a?a.dk():null}iF(){const a=this.Ch();return a?a.Xp:!1}Fo(){const a=this.M.A();return[a.ca(),a.da()]}mr(){return!0}}}
{"use strict";const d=self.D,a=d.B(d.Rect);d.C5=class extends d.SF{constructor(b,e){super(b,e);this.Vv=this.zb().W7(this);this.uJ=!0;this.jea=this.JI=!1;this.ys=d.B(d.Rect,0,0,-1,-1);b=this.j.O;this.VU=b.Gj;this.UU=b.Fj;this.EJ=!1;this.Sh()}m(){this.zb().Rba(this.Vv);this.Wo("destroy");this.Vv=-1;super.m()}Wo(b,e){e||(e={});e.elementId=this.Vv;this.Kh(b,e)}uS(b){b||(b={});b.elementId=this.Vv;this.dj("focus",b)}$Y(b){b||(b={});const e=this.A().Lc();b.elementId=this.Vv;b.isVisible=e;Object.assign(b,
this.AE());this.uJ=!!b.isVisible;this.dj("create",b);this.uT(!0)}Tz(b){b=!!b;this.uJ!==b&&(this.uJ=b,this.Wo("set-visible",{isVisible:b}))}se(){this.uT(!1)}zda(){const b=this.j.O.Xy();return"Android"===d.Pb.Jh&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}uT(b){var e=this.A();const c=e.ba();var g=e.ca(),m=e.da();let [h,l]=c.Uo(g,m),[n,p]=c.Uo(g+e.fa(),m+e.aa());g=this.j.O;m=g.Qc;const q=g.Gc;if(e.Lc()&&c.Lc()){if(!this.zda()){if(0>=n||0>=p||h>=m||l>=q){this.Tz(!1);return}1>h&&(h=1);1>l&&(l=
1);n>=m&&(n=m-1);p>=q&&(p=q-1)}a.set(h,l,n,p);e=g.Gj;m=g.Fj;!b&&a.Ad(this.ys)&&this.VU===e&&this.UU===m?this.Tz(!0):(this.ys.ta(a),this.VU=e,this.UU=m,this.Tz(!0),b=null,this.jea&&(b=c.Uj()-.2),this.Wo("update-position",{left:Math.round(this.ys.Z)+g.Rt(),top:Math.round(this.ys.V)+g.St(),width:Math.round(this.ys.width()),height:Math.round(this.ys.height()),fontSize:b}))}else this.Tz(!1)}kN(){this.uS({focus:!0})}xM(){this.uS({focus:!1})}Vaa(){this.JI=!0}Uaa(){this.JI=!1}d6(b,e){this.Wo("set-css-style",
{prop:d.tY(b),val:e})}c6(b,e){this.Wo("set-attribute",{name:b,val:e})}e5(b){this.Wo("remove-attribute",{name:b})}kn(){this.EJ||(this.EJ=!0,Promise.resolve().then(()=>{this.EJ=!1;this.Wo("update-state",this.AE())}))}AE(){}}}
{"use strict";const d=self.D,a=self.B1;d.vP=class extends d.ja{constructor(b){super();this.j=b.Pf;this.cK=d.B(d.WD);this.tC=d.B(d.WD);this.dw=null;this.sfa=b.tua||null}m(){this.tC.m();this.cK.m();this.j=null}J(){return this.j}$c(){}X7(b){this.cK.Ic(b)}KE(){return this.cK.sE()}Tg(b){this.tC.Ic(b)}tp(b){this.tC.yo(b)}oa(){return this.tC.sE()}u0(){if(null===this.dw){const b=this.sfa;if(b){if(this.dw=new b(this),!(this.dw instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.dw=new a(this)}return this.dw}}}{"use strict";const d=self.D;d.xP=class extends d.ja{constructor(a){super();this.j=a.J();this.dd=a;this.L=a.I();this.hj=a.Mm();this.hj.X7(this.L)}m(){this.hj=this.L=this.dd=this.j=null}Gg(){return this.dd}I(){return this.L}J(){return this.j}Mm(){return this.hj}}}
{"use strict";const d=self.D;d.wP=class extends d.ja{constructor(a,b){super();this.SA=a;this.An=b;this.M=a.M;this.j=a.J();this.dd=a.Gg();this.Wc=this.dd.Wc;this.XB=this.uw=this.gm=!1;this.Cd=null}m(){this.wp();this.KH();this.JH();this.Cd&&(this.Cd.m(),this.Cd=null);this.Wc=this.dd=this.j=this.M=this.SA=null}Mm(){return this.dd.Mm()}I(){return this.M.I()}A(){return this.M.A()}J(){return this.j}Gg(){return this.dd}Wq(){return this.SA.Wq()}pa(a){return this.j.pa(a,this.M,this.dd)}Pc(a){return this.j.Pc(a,
this.M,this.dd)}se(){}EF(){}Sh(){this.gm||(this.j.S7(this),this.gm=!0)}wp(){this.gm&&(this.j.Oba(this),this.gm=!1)}KH(){this.uw&&(this.j.Pba(this),this.uw=!1)}IH(){this.XB||(this.j.R7(this),this.XB=!0)}JH(){this.XB&&(this.j.Nba(this),this.XB=!1)}RD(a,b){this.j.Fi(this.An,a,b)}td(){return null}Zc(){}zc(){}dg(){}yF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.dg(a,e+b)}}Ih(){return null}Ft(a,b,e){const c=this.Wq();a=d.B(d.Event,a,b);a.Jra=c;a.instance=c.instance;
e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.D;d.C={};d.ac={};d.F4=class extends d.ja{constructor(a){super();this.j=a;this.gea=[];this.rV=new Map;this.Od=null;this.dea=[];this.lI=new Map;this.OU=this.FK=null}dZ(a){const b=this.j.Eh(a[0]);if(!b)throw Error("missing plugin");d.KX(a,b);a=d.B(b,{Pf:this.j,OW:a[1],Ega:a[2],Dga:a[5],tga:a[8],Rga:a[9],rha:a[13],qha:a[14]});a.$c();this.gea.push(a);this.rV.set(b,a)}fZ(){this.Od=d.B(d.C.Qa,{Pf:this.j,OW:!0});this.Od.$c()}ZY(a){a=this.j.Eh(a[1]);if(!a)throw Error("missing behavior");
const b=d.B(a,{Pf:this.j});b.$c();this.dea.push(b);this.lI.set(a,b);!this.FK&&d.ac.oha&&b instanceof d.ac.oha?this.FK=b:!this.OU&&d.ac.Gga&&b instanceof d.ac.Gga&&(this.OU=b)}S0(a){return this.rV.get(a)||null}o1(a){return this.lI.has(a)}U_(a){return this.lI.get(a)||null}cu(){return this.Od}PE(){return this.FK}}}
{"use strict";const d=self.D,a=new Set;d.vz=class extends d.ja{constructor(){super();this.Xk="";this.T=this.W=this.Pw=this.Ow=this.Qs=0;this.aw=this.Xp=!1;this.Af=null;this.vm="";this.pg=d.B(d.Rect);this.jq=d.B(d.Kd);a.add(this)}m(){this.Ui();this.Af=null;a.delete(this)}static jr(){for(const b of a)b.vm="",b.pg.set(0,0,0,0),b.jq.Nj(b.pg)}xO(b){this.Xk=b[0];this.Qs=b[1];this.Ow=b[2];this.Pw=b[3];this.W=b[4];this.T=b[5];this.Xp=b[6];this.aw=!0}i3(b,e){if(this.Af)throw Error("already loaded asset");
this.Xk=e;const c={};d.gF(e)&&(c.Xx="remote");this.wO(b,c);return this.Af.vO()}n5(b){if(b===this)throw Error("cannot replace with self");this.Ui();this.Xk=b.Xk;this.Qs=b.Qs;this.Ow=b.Ow;this.Pw=b.Pw;this.W=b.W;this.T=b.T;this.Xp=b.Xp;this.aw=b.aw;this.Af=b.Af;this.vm=b.vm;this.pg=b.pg;this.jq=b.jq}Sm(){return this.Qs}fa(){return this.W}aa(){return this.T}wO(b,e){if(this.Af)throw Error("already got asset");e=Object.assign({},e,{url:this.Xk,size:this.Sm()});this.Af=b.Fz(e)}rF(){return this.Af&&this.Af.rF()}async mu(b,
e){if(!this.Af)throw Error("no asset");if(this.vm)throw Error("already loaded texture");this.vm="loading";b=await this.Af.mu(b,e);if(!b)return this.vm="",null;this.vm="loaded";this.aw||(this.W=b.fa(),this.T=b.aa(),this.aw=!0);this.pg.set(this.Ow,this.Pw,this.Ow+(this.Xp?this.T:this.W),this.Pw+(this.Xp?this.W:this.T));this.pg.Dm(b.fa(),b.aa());this.jq.Nj(this.pg);this.Xp&&this.jq.eha();return b}Ui(){this.vm&&(this.Af&&this.Af.Ui(),this.vm="",this.pg.set(0,0,0,0),this.jq.Nj(this.pg))}oe(){return this.Af?
this.Af.oe():null}dk(){return this.pg}lz(){return this.jq}}}
{"use strict";const d=self.D;d.$X=class extends d.ja{constructor(a){super();this.Ka=a[0];this.nx=a[1];this.UB=!!a[2];this.Ns=a[3];this.BV=a[4];this.Wea=!!a[5];this.jb=a[6];this.Ud=a[7].map(b=>d.B(d.ZX,b))}m(){for(const a of this.Ud)a.m();d.F(this.Ud)}f3(a){for(const b of this.Ud)b.Sf().wO(a)}g3(a,b){return Promise.all(this.Ud.map(e=>e.Sf().mu(a,b)))}a5(){for(const a of this.Ud)a.Sf().Ui()}Da(){return this.Ka}Qm(a){a=Math.floor(a);if(0>a||a>=this.Ud.length)throw new RangeError("invalid frame");return this.Ud[a]}rl(){return this.nx}Hh(){return this.Ns}}}
{"use strict";const d=self.D;d.ZX=class extends d.ja{constructor(a){super();this.mg=d.B(d.vz);this.mg.xO(a);this.UT=a[7];this.oV=d.B(d.Pu,a[8],a[9]);this.DB=a[10].map(b=>d.B(d.O1,this,b));this.wU=new Map;for(const b of this.DB)this.wU.set(b.Da().toLowerCase(),b);this.Cp=null;a=a[11];6<=a.length&&(this.Cp=d.B(d.xo,a))}m(){this.Cp&&(this.Cp.m(),this.Cp=null);this.mg.m();this.mg=null}Sf(){return this.mg}ol(){return this.oV.R}pl(){return this.oV.P}w0(a){return this.wU.get(a.toLowerCase())||null}v0(a){a=
Math.floor(a);return 0>a||a>=this.DB.length?null:this.DB[a]}HE(){return this.DB.length}}}{"use strict";const d=self.D;d.O1=class extends d.ja{constructor(a,b){super();this.Ka=b[0];this.qK=d.B(d.Pu,b[1],b[2])}m(){}Da(){return this.Ka}ca(){return this.qK.R}da(){return this.qK.P}}}
{"use strict";const d=self.D,a=self.Cg,b=self.bF;d.xF=class extends d.ja{constructor(e,c,g){super();const m=e.Eh(g[1]);this.j=e;this.mi=e.On.S0(m);this.Wc=null;this.IB=m.Instance;this.Sa=c;this.jb=g[11];this.Ka=g[0];this.Aw=this.j.Ni(g[14]);this.Uea=!!g[9];this.Xa=!!g[2];this.CJ=!!g[10];this.sj=g[3].map(h=>({lX:h[0],type:h[1],name:h[2],Fga:e.Ni(h[3])}));this.lea=g[4];this.Gea=g[5];this.Ef=this.mi.Ef;this.Ra=null;this.aB=d.B(d.X6,e.mh,e.lh);this.eI=!0;this.fI=!1;this.TI=this.Kp=null;this.eh=-1;this.SI=
this.nB=this.oB=this.RI=this.ai=null;this.wJ=!1;this.ah=null;this.BT=g[8].map(h=>d.vM.Ta(this,h));this.TA=[];this.mI=new Map;this.kI=new Map;this.$V=new Set;this.Sn=d.B(d.U6,this);this.OA=this.NA=this.Rd=this.mg=this.ah=this.ds=null;this.Vs=0;this.Hb=new Map;this.wi=new Map;this.H=[];this.hJ=!0;this.mi.WE()&&(this.Ra=d.B(d.hl,this,g[12]));g[6]&&(this.mg=d.B(d.vz),this.mg.xO(g[6]));if(g[7]){this.Rd=g[7].map(h=>d.B(d.$X,h));this.NA=new Map;this.OA=new Map;for(const h of this.Rd)this.NA.set(h.Da().toLowerCase(),
h),this.OA.set(h.jb,h)}this.Xa?(this.Kp=[],this.TI=new Set,this.eh=this.j.l$()):(this.ai=[],this.RI=new Set,this.oB=[],this.nB=[],this.SI=[]);this.Wc=d.B(m.Zi,this,g[15]);this.DU=this.fw=null;this.le=d.B(d.Event.Ob);if(c=this.Wc.Ih()){if(this.fw=new c(this),!(this.fw instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.fw=new b(this);this.j.iD&&!this.Xa&&!this.CJ&&this.Ef||this.$c();this.mi.En&&(this.mi.qda(this),this.I8(g))}static Ta(e,c,g){return d.B(d.xF,
e,c,g)}m(){this.mg&&(this.mg.m(),this.mg=null);if(this.Rd){for(const e of this.Rd)e.m();d.F(this.Rd);this.NA.clear();this.OA.clear()}this.Sn.m();this.Sn=null;this.Hb.clear();this.wi.clear();this.j=this.ah=null}eaa(e){for(let c=1,g=e.length;c<g;++c){const m=this.j.qf(e[c]);this.Kp.push(m);this.TI.add(m);m.ai.push(this);m.RI.add(this)}}Nca(e){this.wJ=!0;this.ah=e}cc(){return this.wJ}Jaa(){var e=0;if(!this.Xa)for(var c of this.ai)for(var g of c.BT){const l=g.Da().toLowerCase();this.mI.set(l,g);this.kI.set(l,
e);this.TA.push(g);++e}for(var m of this.BT)c=m.Da().toLowerCase(),this.mI.set(c,m),this.kI.set(c,e),this.TA.push(m),++e;for(var h of this.TA)this.$V.add(h.Mm().constructor);if(!this.Xa&&this.ai.length){e=this.j.ZT;d.vD(this.oB,e,0);d.vD(this.nB,e,0);d.vD(this.SI,e,0);e=[];c=h=m=0;for(const l of this.ai)if(g=l.eh,this.oB[g]=m,m+=l.sj.length,this.nB[g]=h,h+=l.lea,this.SI[g]=c,c+=l.Gea,(g=l.Ra)&&this.Ra)for(const n of g.Fg())e.push(n.JY(this.Ra));this.Ra&&this.Ra.N4(e)}}I8(e){const c=this.j.k$(),g=
d.B(d.Instance,{Pf:this.j,UL:this,uid:c});g.hA(e[16],[]);this.j.vaa(c,g);this.H.push(g)}$c(){this.Xa||this.Wc.$c()}s1(){return 0<this.Vs}hr(e){if(this.Xa)return Promise.resolve();this.Vs++;return 1===this.Vs?this.Wc.hr(e)||Promise.resolve():Promise.resolve()}$o(){if(!this.Xa){this.Vs--;if(0>this.Vs)throw Error("released textures too many times");0===this.Vs&&this.Wc.$o()}}Gz(){if(this.Xa)throw Error("not applicable to family");this.Wc.Gz()}FF(e){return this.Xa?Promise.resolve():this.Wc.FF(e)}J(){return this.j}zb(){return this.mi}Da(){return this.Ka}Ni(){return this.Aw}La(){return this.Sa}$f(){return this.Uea}wQ(e){return e&&
this.$V.has(e)}B0(){return this.sj.map(e=>e.lX)}A0(e){return this.sj.findIndex(c=>c.lX===e)}z0(e){return this.sj.findIndex(c=>c.name===e)}Z9(){return this.sj.map(e=>e.Fga)}Zt(e){e=Math.floor(e);if(0>e||e>=this.sj.length)throw new RangeError("invalid instance variable index");return this.sj[e].type}BN(e){e=Math.floor(e);if(0>e||e>=this.sj.length)throw new RangeError("invalid instance variable index");return this.sj[e].name}Oy(e){return this.mI.get(e.toLowerCase())||null}Pt(e){e=this.kI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}WE(){return this.mi.WE()}xQ(){return this.Ra&&this.Ra.j1()}S(){return this.Sn.S()}Sf(){return this.mg}GP(e){this.ds=e}YD(e){return this.RI.has(e)}hN(e){return this.TI.has(e)}Pm(e){return this.nB[e]}DE(e){return this.oB[e]}oN(e){if(!this.Rd)throw Error("no animations");return this.NA.get(e.toLowerCase())||null}T_(e){if(!this.Rd)throw Error("no animations");return this.OA.get(e)||null}o0(){if(!this.Rd)throw Error("no animations");return this.Rd[0].Qm(0)}c0(){if(this.Rd){const e=
this.o0().Sf();return[e.fa(),e.aa()]}return this.mg?[this.mg.fa(),this.mg.aa()]:[100,100]}Qi(){if(!this.mi.En)throw Error("not a single-global plugin");return this.H[0]}oa(){return this.H}*KW(){yield*this.H}*xga(){yield*this.H;for(const e of this.j.cm)e.I()===this&&(yield e)}Tg(e){this.H.push(e)}mv(){this.hJ=!0}HA(){if(this.hJ&&!this.Xa){var e=this.H,c=0;for(let g=e.length;c<g;++c)e[c].VS(c);e=this.j.cm;for(const g of e)g.I()===this&&g.VS(c++);this.hJ=!1}}AN(e){var c=this.H;if(e<c.length)return c[e];
e-=c.length;c=this.j.cm;for(const g of c)if(g.I()===this){if(0===e)return g;--e}return null}EE(e){if(e&&e.cc()&&e.I()!==this)for(const c of e.Nd)if(c.I()===this)return c;e=this.S().oa();return e.length?e[0]:null}Q0(e){const c=this.S().oa();return 0<c.length?c[e.Eo()%c.length]:null}*nW(e,c){const g=this.S().oa();var m=g.length;const h=c.S(),l=c.S().oa(),n=l.length;var p=e.Eo();if(c.Xa||!h.$b)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}Lt(e){this.Wc.Lt(e)}kc(){if(this.wJ&&
!this.Xa){this.HA();var e=this.S(),c=e.H,g=e.$b,m=this.j.pf();m=m&&m.Jb()&&m.Jb().Vd;for(const n of this.ah.om)if(n!==this){n.HA();var h=n.S();h.te(g);if(!g){var l=h.H;d.F(l);for(const p of c)l.push(n.AN(p.Eo()));if(m){l=e.hc;h=h.hc;d.F(h);for(const p of l)h.push(n.AN(p.Eo()))}}}}}Mda(e,c){for(const g of this.ah.om){const m=g.S();e?d.kf(m.hc,c):d.kf(m.H,c)}}PS(){this.eI=!0}wH(e){this.fI=!!e}pT(){if(this.eI&&this.Ef){for(const e of this.H)e.A().sT();for(const e of this.j.cm)e.I()===this&&e.A().sT();
this.eI=!1}}Pi(){this.Hb||(this.Hb=new Map);return this.Hb}fu(){this.wi||(this.wi=new Map);return this.wi}XN(){return this.wQ(d.ac.mma)}XE(){return this.wQ(d.ac.Oma)}ka(){const e={instances:this.H.map(c=>c.td())};this.Hb&&this.Hb.size&&(e.ex=d.tG(this.Hb));return e}qa(e){this.Hb&&(this.Hb.clear(),this.Hb=null);var c=e.ex;c&&(this.Hb=d.qE(c));c=this.H;e=e.instances;for(let g=0,m=Math.min(c.length,e.length);g<m;++g)c[g].Zc(e[g]);for(let g=e.length,m=c.length;g<m;++g)this.j.zo(c[g]);for(let g=c.length,
m=e.length;g<m;++g){c=e[g];let h=null;if(this.Ef&&(h=this.j.Vb().az(c.w.l),!h))continue;this.j.Ii(this.ds||this,h,!1,0,0,!0).Zc(c)}this.mv()}Ah(e){var c=this.j;(c=c.xb&&!c.na().zz())&&a.pG();this.le.dispatchEvent(e);c&&a.UD()}}}{"use strict";const d=self.D;d.TY=class extends d.ja{constructor(a,b){super();this.j=a;this.om=b;for(const e of this.om)e.Nca(this)}m(){this.j=null}J(){return this.j}n1(){return this.om.some(a=>a.Ef)}}}
{"use strict";const d=self.D,a=self.Cg,b=self.$q,e=[];let c=0;const g=new WeakMap,m=new WeakMap;d.Instance=class extends d.ja{constructor(h){super();this.j=h.Pf;this.fe=h.UL;this.we=this.ma=this.Wa=null;this.uU=0;this.md=h.uid;this.wV=c++;this.za=0;this.cd=this.$e=e;var l=this.fe.TA;0<l.length&&(this.cd=l.map((n,p)=>d.B(d.ny,{Pf:this.j,qL:n,instance:this,index:p})));this.Nd=this.fe.cc()?[]:null;this.ke=-1;this.Yb=null;l=this.zb();l.ir()&&(this.za|=4);if(l.Ef)if(this.Wa=d.B(d.L7,this,h.SW),h.BX)this.Wa.Tm(h.BX);
else{this.Wa.d2();const [n,p]=this.fe.c0();this.Wa.ud(n,p);this.I().xQ()&&this.Wa.ng.h3()}h.JW?this.haa(h.JW):this.caa()}m(){this.we&&(this.we.lv(),this.we=null);if(0<this.cd.length){for(var h of this.cd)h.m();d.F(this.cd)}this.ma.m();this.ma=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Nd&&d.F(this.Nd);this.Yb&&(this.Yb.m(),this.Yb=null);this.fe=this.j=null;0<this.$e.length&&d.F(this.$e);this.Wa&&(this.Wa.m(),this.Wa=null)}haa(h){0<h.length&&(this.$e=
[],d.Xc(this.$e,h))}caa(){const h=this.fe.sj.length;if(0!==h){this.$e=[];var l=[0,0,""];for(let n=0;n<h;++n)this.$e.push(l[this.fe.Zt(n)])}}hA(h,l){if(this.ma)throw Error("already got sdk instance");for(let n=0,p=this.cd.length;n<p;++n)this.cd[n].hA(l?l[n]:null);this.ma=d.B(this.fe.IB,this,h);if(!(this.ma instanceof d.pr))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.cd.length;n<p;++n);this.fe.DU&&this.UR()}A(){return this.Wa}J(){return this.j}R_(){const h=this.ke;return-1===
h?this.J().ke:h}hG(h){h=+h;if(0>h||!isFinite(h))h=0;this.ke=h}v5(){this.ke=-1}Ob(){this.Yb||(this.Yb=d.B(d.Event.Ob));return this.Yb}Eg(h){this.ma.Eg(h)}$c(h){this.ma.$c(h)}dda(){this.za|=2}ul(){return 0!==(this.za&2)}gH(){this.za|=1}cr(){return 0!==(this.za&1)}ir(){return 0!==(this.za&4)}DO(){return 0!==(this.za&32)}V$(){return 0!==(this.za&8)}Cu(h,l){h<<=16;this.za=l?this.za|h:this.za&~h}FE(h){return 0!==(this.za&h<<16)}Ch(){return this.ma.Ch()}xE(){return this.ma.xE()}yE(){return this.ma.yE()}iF(){return this.ma.iF()}Fo(h){return this.ma.Fo(h)}I(){return this.fe}mr(){return this.ma.mr()}Iq(h){return h.Xa?
h.hN(this.I()):this.I()===h}zQ(){if(!this.zb().RV)throw Error("object does not support scene graph");}gk(){return null!==this.Ia()}Ia(){var h=this.A();return h?(h=h.Ia())?h.Ea():null:null}nz(){var h=this.A();return h?(h=h.nz())?h.Ea():null:null}*$x(){const h=this.A();if(h)for(const l of h.$x())yield l.Ea()}uf(){const h=this.A();return h?h.uf():!1}nf(){const h=this.A();return h?h.nf().map(l=>l.Ea()):[]}*children(){const h=this.A();if(h)for(const l of h.children())yield l.Ea()}*cl(){const h=this.A();
if(h)for(const l of h.cl())yield l.Ea()}Qy(){const h=this.A();return h?h.Qy():0}vE(h){const l=this.A();return l?(h=l.vE(h))?h.Ea():null:null}Km(h,l){this.zQ();h.zQ();this.A().Km(h.A(),l||{})}lk(h){const l=this.A();l&&l.lk(h.A())}Ty(){const h=this.A();return h?h.Ty():!1}Q6(){var h=this.A();if(h&&(h=h.IN()))for(const l of h)if(h=this.j.Xj(l[2])){const n=l[3];this.Km(h,{xt:!!(n>>0&1),yt:!!(n>>1&1),Fq:!!(n>>2&1),Eq:!!(n>>3&1),wt:!!(n>>4&1),Nx:!!(n>>5&1),zt:!!(n>>6&1)})}}cc(){return null!==this.Nd}Gr(h){this.Nd.push(h)}u1(h){return!!this.ON(h)}ON(h){const l=
this.Nd;if(null===l||0===l.length)return!1;for(const n of l)if(n.I()===h)return n;return null}Yi(){for(const h of this.Nd)h.I().S().qk(h)}Cba(){for(const h of this.Nd)h.I().S().sp(h)}pda(h){for(const l of this.Nd)l.I().S().H[h]=l}Bba(){for(const h of this.Nd)h.I().S().Ll(h)}oda(h){for(const l of this.Nd)l.I().S().hc[h]=l}zb(){return this.fe.zb()}VS(h){this.uU=h}Eo(){this.fe.HA();return this.uU}pN(h){const l=this.cd;for(let n=0,p=l.length;n<p;++n)if(l[n].Gg().jb===h)return n;return-1}Ne(h){h|=0;const l=
this.$e;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}BR(h){return this.$e[h]}h$(h){const l=this.$e[h];return 0===this.fe.Zt(h)?!!l:l}hn(h,l){h|=0;const n=this.$e;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.fe.Zt(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}n6(h,l){if(0!==l){h|=0;
var n=this.$e;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Pi(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}fu(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,
h);return h}OR(h){const l=this.I();if(l.le.UE(h))return!0;for(const n of l.ai)if(n.le.UE(h))return!0;return this.j.le.UE(h)?!0:!1}GA(){const h=new Set;h.add(this);const l=this.A();if(l&&l.uf())for(const n of this.cl())if(h.add(n),n.cc())for(const p of n.Nd)h.add(p);if(this.cc())for(const n of this.Nd)h.add(n);for(const n of h.values())n.lT()}lT(){if(this.OR("instancecreate")){const h=this.I(),l=new d.Event("instancecreate");l.instance=this.Dh();h.Ah(l);for(const n of h.ai)n.Ah(l);this.j.Ah(l)}this.j.pa(this.zb().constructor.G.LO,
this,null)}Kda(){this.j.pa(this.zb().constructor.G.P3,this,null)}Q9(h){if(this.we){var l=new d.Event("destroy");l.Bga=h;this.Ah(l)}if(this.OR("instancedestroy")){l=this.I();var n=new d.Event("instancedestroy");n.instance=this.Dh();n.Bga=h;l.Ah(n);for(const p of l.ai)p.Ah(n);this.j.Ah(n)}}td(h="full"){const l={};"full"===h?l.uid=this.md:l.c3=!0;if("visual-state"!==h){var n=g.get(this);n&&n.size&&(l.ex=d.tG(n));-1!==this.ke&&(l.mts=this.ke);if(0<this.fe.sj.length){n={};var p=this.fe.B0();for(let q=
0,u=this.$e.length;q<u;++q)n[p[q].toString()]=this.$e[q];l.ivs=n}if(this.cd.length){n={};for(const q of this.cd)(p=q.td())&&(n[q.Gg().jb.toString()]=p);l.behs=n}}this.Wa&&(l.w=this.Wa.ka(h));(h=this.ma.td())&&(l.data=h);return l}sA(h="full"){this.Wa&&this.Wa.sA(h)}Zc(h,l="full"){if("full"===l)this.md=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);n&&(n.clear(),g.delete(this));if(n=h.ex)n=d.qE(n),g.set(this,n);this.ke=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=
this.fe.A0(parseInt(u,10)),!(0>n||n>=this.$e.length)){var p=w;null===p&&(p=NaN);this.$e[n]=p}}if(this.zb().Ef){n=h.w;var q=n.l;this.Wa.ba().jb!==q&&(p=this.Wa.ba(),(q=p.lc().az(q))?(this.Wa.nv(q),p.tp(this,!0),q.Tg(this,!0),q.Rg(),this.Wa.ra()):"full"===l&&this.j.zo(this));this.Wa.qa(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,w]of Object.entries(l))l=this.pN(parseInt(u,10)),0>l||l>=this.cd.length||this.cd[l].Zc(w);(h=h.data)&&this.ma.Zc(h)}Dh(){return this.we||this.UR()}UR(){var h=this.Wa?
self.uz:b;const l=this.ma.Ih(),n=this.fe.DU,p=n||l||h;b.Ug(this);this.we=new p;b.Ug(null);if(l&&!(this.we instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.we instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.we}g$(h){if(0!==this.$e.length){var l={},n=this.fe.Z9();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.h$.bind(this,p),set:d.Instance.prototype.hn.bind(this,p)};l=Object.create(Object.prototype,l);h.Tsa={value:l,writable:!1}}}b$(h){var l=this.cd;if(0!==l.length){var n={};for(const p of l)n[p.Gg().Ni()]={value:p.Wq(),writable:!1};l=Object.create(Object.prototype,n);h.Lx={value:l,writable:!1}}}Ah(h){h.instance=this.Dh();var l=this.j;(l=l.xb&&!l.na().zz())&&a.pG();this.Dh().dispatchEvent(h);l&&a.UD()}}}
{"use strict";const d=self.D;d.G5=class extends d.ja{constructor(a){super();this.Tb=a;this.Hc=null;this.ZA=[];this.UC=a.fa();this.TC=a.aa();this.OK=this.NK=1;this.yC=0}m(){this.Hc=null;d.F(this.ZA)}$P(a){this.yC=(this.Hc=a)?a.Ha():0}Ia(){return this.Hc}uf(){return 0<this.ZA.length}nf(){return this.ZA}z6(a){this.NK=a}A6(a){this.OK=a}ak(){return this.Tb.Jo()?this.Hc.fa()/this.Hc.Mb.UC:1}bk(){return this.Tb.Io()?this.Hc.aa()/this.Hc.Mb.TC:1}ka(){return{sw:this.UC,sh:this.TC,sx:this.NK,sy:this.OK,psa:this.yC,
c:this.ZA.map(a=>{let b="";a.Ko()&&(b+="x");a.Lo()&&(b+="y");a.Jo()&&(b+="w");a.Io()&&(b+="h");a.oz()&&(b+="a");a.pz()&&(b+="z");a.Ty()&&(b+="d");return{uid:a.Ea().md,f:b}})}}qa(a){this.UC=a.sw;this.TC=a.sh;this.NK=a.sx;this.OK=a.sy;this.yC=a.psa}kH(a){const b=this.Tb,e=b.J();for(const c of a.c){a=e.Xj(c.uid).A();const g=c.f,m={};m.xt=g.includes("x");m.yt=g.includes("y");m.Fq=g.includes("w");m.Eq=g.includes("h");m.wt=g.includes("a");m.zt=g.includes("z");m.Nx=g.includes("d");b.Km(a,m)}}}}
{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Kd),e=d.B(d.Event,"bboxchange",!1),c=d.B(d.eb,0,0,0,0),g=d.B(d.xo),m=d.B(d.eb,1,1,1,1),h=d.B(d.Rect,0,0,-1,-1),l=d.B(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.L7=class extends d.ja{constructor(r,v){super();this.M=r;this.L=r.I();this.j=r.J();this.Pk=v;this.bl=-1;this.za=196635;this.L.zb().So()&&(this.za|=128);this.Hs=this.Gs=this.AI=this.CK=this.Za=this.ed=this.hh=this.wh=this.od=this.P=
this.R=NaN;this.rI=d.B(d.Rect);this.sI=d.B(d.Kd);this.$A=l;this.Uw=h;this.si=this.Zs=this.QC=null;this.Ep=this.gb=m;this.ng=this.qq=null;this.M.I().xQ()&&(this.ng=d.B(d.u2,this.M,this));this.ki=this.Mb=null}gH(){this.za|=256}m(){this.qq&&(this.j.lb().gP(this.qq),this.qq=null);this.QC=null;this.Zs&&(this.Zs.$W.m(),this.Zs=null);this.si&&(this.si.clear(),this.si=null);this.Nz();this.gk()&&this.Ia().lk(this);if(this.uf()){const r=[...this.nf()];for(const v of r)this.lk(v)}this.vA();this.Pk=this.j=this.L=
this.M=null}Tm(r){q=!1;this.Ld(r[0],r[1]);this.xf(r[2]);this.ud(r[3],r[4]);this.ed=0;this.So()?this.Bc(r[6]):this.Za=0;c.Hm(r[7]);this.xA(c);this.zr(r[8]);this.Ar(r[9]);this.bg(r[10]);this.ng&&this.ng.daa(r[12]);r[14]&&u.set(this,{Qfa:r[14][1],Iha:r[14][2]});if(r[15]){var v=r[15];this.iE(v[0],v[1]);r=this.ck();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Sq(z,y);J.Qg(H[0]);J.Ph(H[1]);J.xf(H[2]);J.iG(H[3]);J.jG(H[4])}}}q=!0;this.Qr()}d2(){this.CK=
this.Za=this.ed=this.hh=this.wh=this.od=this.P=this.R=0;this.AI=1;this.Hs=this.Gs=0;this.Qr()}J(){return this.j}I(){return this.L}Ea(){return this.M}Wu(){return this.oz()?this.Ia().Ha()-this.Mb.yC:0}Qg(r){r=+r;if(this.Ko()){const v=this.Mb;r-=this.ca();const y=-this.Wu();0===y?this.R+=r/v.ak():(this.R+=Math.cos(y)*r/v.ak(),this.Lo()&&(this.P+=Math.sin(y)*r/v.bk()))}else this.R=r}IO(r){r=+r;this.Ko()?this.Qg(this.ca()+r):this.R+=r}ca(){if(this.Ko()){let r=this.R;const v=this.Mb,y=this.Ia(),A=this.Wu();
0===A?r*=v.ak():(r=r*v.ak()*Math.cos(A),this.Lo()&&(r-=this.P*v.bk()*Math.sin(A)));return y.ca()+r}return this.R}Ph(r){r=+r;if(this.Lo()){const v=this.Mb;r-=this.da();const y=-this.Wu();0===y?this.P+=r/v.bk():(this.Ko()&&(this.R-=Math.sin(y)*r/v.ak()),this.P+=Math.cos(y)*r/v.bk())}else this.P=r}JO(r){r=+r;this.Lo()?this.Ph(this.da()+r):this.P+=r}da(){if(this.Lo()){let r=this.P;const v=this.Mb,y=this.Ia(),A=this.Wu();0===A?r*=v.bk():(r=r*v.bk()*Math.cos(A),this.Ko()&&(r+=this.R*v.ak()*Math.sin(A)));
return y.da()+r}return this.P}Ld(r,v){r=+r;v=+v;if(this.SN()){const A=this.Ko(),G=this.Lo(),z=this.Mb,F=r-this.ca(),H=v-this.da();var y=-this.Wu();if(0===y)this.R=A?this.R+F/z.ak():r,this.P=G?this.P+H/z.bk():v;else{const J=Math.sin(y);y=Math.cos(y);this.R=A?G?this.R+(y*F-J*H)/z.ak():this.R+y*F/z.ak():r;this.P=G?A?this.P+(J*F+y*H)/z.bk():this.P+y*H/z.bk():v}}else this.R=r,this.P=v}$m(r,v){r=+r;v=+v;this.SN()?this.Ld(this.ca()+r,this.da()+v):(this.R+=r,this.P+=v)}y_(r,v){return this.ca()===r&&this.da()===
v}xf(r){r=+r;this.pz()&&(r-=this.Ia().fb());this.od!==r&&(this.od=r,this.wT(),r=this.ba(),0!==this.od&&r.QS(),r.Rg())}wT(){this.Qr();if(this.uf()){const r=this.nf();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.pz()&&A.wT()}}}H3(r){this.xf(this.fb()+r)}fb(){return this.pz()?this.Ia().fb()+this.od:this.od}tf(){return this.ba().fb()+this.fb()}Oh(r){r=+r;if(this.Jo()){const v=this.fa();this.wh=0===v?1E-6:r/v*this.wh}else this.wh=r}HO(r){r=+r;this.Jo()?this.Oh(this.fa()+r):this.wh+=r}fa(){return this.Jo()?
this.Ia().fa()*this.wh:this.wh}Mh(r){r=+r;if(this.Io()){const v=this.aa();this.hh=0===v?1E-6:r/v*this.hh}else this.hh=r}GO(r){r=+r;this.Io()?this.Mh(this.aa()+r):this.hh+=r}aa(){return this.Io()?this.Ia().aa()*this.hh:this.hh}ud(r,v){r=+r;v=+v;if(this.Jo()){const y=this.fa();this.wh=0===y?1E-6:r/y*this.wh}else this.wh=r;this.Io()?(r=this.aa(),this.hh=0===r?1E-6:v/r*this.hh):this.hh=v}W0(){if(this.gk()){const r=this.Mb;return Math.min(r.ak(),r.bk())}return 1}So(){return 0!==(this.za&128)}Bc(r){r=+r;
this.So()&&(this.oz()&&(r-=this.Ia().Ha()),r=d.zd(r),this.Za!==r&&(this.Za=r,this.hH()))}D3(r){r=+r;0!==r&&this.So()&&(this.Za=d.zd(this.Za+r),this.hH())}hH(){this.za|=262144;if(this.uf()){const r=this.nf();for(let v=0,y=r.length;v<y;v++)r[v].hH()}}Ha(){return this.oz()?d.zd(this.Ia().Ha()+this.Za):this.Za}kS(){const r=this.za;if(0!==(r&262144)){var v=this.Ha();this.CK=Math.sin(v);this.AI=Math.cos(v);this.za=r&-262145}}OE(){this.kS();return this.CK}wE(){this.kS();return this.AI}zr(r){this.Gs=+r}F3(r){this.Gs+=
+r}ol(){return this.Gs}Ar(r){this.Hs=+r}G3(r){this.Hs+=+r}pl(){return this.Hs}xA(r){this.gb.Ad(r)||(this.gb===m?(this.gb=d.B(d.eb,r),this.Ep=d.B(d.eb,r),this.Ep.$L()):r.uD(1,1,1,1)?this.Ep=this.gb=m:(this.gb.set(r),this.Ep.set(r),this.Ep.$L()),this.Qr())}El(r){r=d.ia(+r,0,1);this.gb.Cq!==r&&(c.Ij(this.gb),c.Cq=r,this.xA(c))}E3(r){this.El(this.Oe()+r)}Oe(){return this.gb.Cq}gQ(r){this.gb.Em(r)||(c.Ij(r),c.Cq=this.gb.Cq,this.xA(c))}L6(r,v,y){c.ut(r,v,y);this.gQ(c)}LE(){return this.Ep}Ty(){return 0!==
(this.za&512)}Y5(r){this.Ve(512,r)}Ko(){return 0!==(this.za&1024)}G6(r){this.Ve(1024,r)}Lo(){return 0!==(this.za&2048)}SN(){return 0!==(this.za&3072)}H6(r){this.Ve(2048,r)}Jo(){return 0!==(this.za&4096)}F6(r){this.Ve(4096,r)}Io(){return 0!==(this.za&8192)}E6(r){this.Ve(8192,r)}oz(){return 0!==(this.za&16384)}D6(r){this.Ve(16384,r)}pz(){return 0!==(this.za&32768)}I6(r){this.Ve(32768,r)}TQ(){this.za&=-65025}Km(r,v){if(r!==this&&!r.gk()&&!this.QR(r)&&!this.PR(r)){var y=r.ca(),A=r.da(),G=r.fa(),z=r.aa(),
F=r.Ha(),H=r.fb();r.$S(this);r.G6(v.xt);r.H6(v.yt);r.F6(v.Fq);r.E6(v.Eq);r.D6(v.wt);r.I6(v.zt);r.Y5(v.Nx);v.xt&&(r.R=y-this.ca(),v.Fq&&(r.R/=this.fa()/this.Mb.UC));v.yt&&(r.P=A-this.da(),v.Eq&&(r.P/=this.aa()/this.Mb.TC));v.Fq&&(r.wh=G/this.fa(),r.Mb.z6(r.wh));v.Eq&&(r.hh=z/this.aa(),r.Mb.A6(r.hh));v.wt&&(r.Za=F-this.Ha());v.zt&&(r.od=H-this.fb());this.T7(r);this.ra()}}lk(r){if(r.Ia()===this){var v=r.ca(),y=r.da(),A=r.fa(),G=r.aa(),z=r.Ha(),F=r.fb();r.$S(null);r.TQ();r.Ld(v,y);r.ud(A,G);r.Bc(z);r.xf(F);
this.Qba(r);this.ra()}}Yba(){for(var r of this.children())this.lk(r);(r=this.Ia())&&r.lk(this);this.TQ()}gk(){return null!==this.Ia()}Ia(){const r=this.Mb;return null!==r?r.Ia():null}nz(){let r=this;for(;r.gk();)r=r.Ia();return r}*$x(){let r=this.Ia();for(;r;)yield r,r=r.Ia()}p1(r){return this.nf().includes(r)}uf(){const r=this.Mb;return null!==r?r.uf():!1}nf(){const r=this.Mb;return null!==r?r.nf():p}children(){return this.nf()}*cl(){for(const r of this.children())yield r,yield*r.cl()}Qy(){return this.nf().length}vE(r){const v=
this.nf();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}GG(r){this.Mb||(this.Mb=d.B(d.G5,this));r&&this.Mb.$P(r)}vA(){this.Mb&&(this.Mb.m(),this.Mb=null)}$S(r){r?(r.GG(null),this.GG(r)):(this.Mb&&this.Mb.$P(null),this.uf()||this.vA())}PR(r){if(!this.gk())return!1;const v=this.Ia();return v===r?!0:v.PR(r)}QR(r){if(this.p1(r))return!0;for(const v of this.nf())if(v.QR(r))return!0;return!1}T7(r){this.Mb.nf().push(r)}Qba(r){const v=this.Mb.nf(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.gk()||
this.vA();r.uf()||r.vA()}IN(){const r=u.get(this);return r?r.Qfa:null}X0(){const r=u.get(this);return r?r.Iha:NaN}Uq(){return w.get(this)||NaN}dG(r){w.set(this,r)}Qr(){if(q){var r=this.j.lb();this.qq&&r.gP(this.qq);this.qq=r.IX(0!==(this.za&524288)?r.RC||"<point>":r.SC||"<default>",this.Rj(),this.Ep,this.fb())}}Zq(){return this.gb===m}bg(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Rj()!==r&&(this.za=this.za&-2080374785|r<<26,this.Qr())}Rj(){return(this.za&2080374784)>>26}nv(r){this.Pk=
r;0!==this.fb()&&this.Pk.QS()}ba(){return this.Pk}lc(){return this.ba().lc()}EA(r){this.bl=r|0}fk(){this.Pk.rv();return this.bl}Ve(r,v){this.za=v?this.za|r:this.za&~r}Lc(){return 0!==(this.za&1)}Pg(r){this.Ve(1,r)}Jg(){return 0!==(this.za&8)}zu(r){r=!!r;this.Jg()!==r&&(this.Ve(8,r),r?this.ra():this.zS())}fG(r,v){this.Ve(32,r);this.si&&this.si.clear();if(v.trim()){this.si||(this.si=new Set);for(const y of v.split(" "))y&&this.si.add(y.toLowerCase())}else this.si=null}uF(r){const v=0!==(this.za&32),
y=this.si;if(!r||!y)return!v;for(const A of y)if(r.has(A))return v;return!v}ra(){this.za|=65554;this.L.PS();this.j.ea();this.Pk.op()&&(this.ty(this.rI,this.sI,!0),this.za&=-3,this.Sda());0!==(this.za&4)&&this.M.Ob().dispatchEvent(e);if(null!==this.Mb){const r=this.Mb.nf();for(let v=0,y=r.length;v<y;++v)r[v].ra()}}ty(r,v,y){const A=this.ca(),G=this.da(),z=this.fa(),F=this.aa(),H=this.Ha();r.Di(A-this.Gs*z,G-this.Hs*F,z,F);y&&this.Zf()&&this.K9(r);0===H?v.Nj(r):(r.offset(-A,-G),v.iX(r,this.OE(),this.wE()),
v.offset(A,G),v.FL(r));r.normalize()}rT(){const r=this.za;0!==(r&2)&&(this.ty(this.rI,this.sI,!0),this.za=r&-3)}Yc(){this.rT();return this.rI}Sj(){this.rT();return this.sI}$O(r){var v=this.ca(),y=this.da();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.ta(r);b.offset(v,y);return b}S5(r){this.Ve(4,r)}bO(){return 0!==(this.za&4)}mO(r,v,y){return v&&0!==this.ed?this.er(this.ba().Ir()):0===this.fb()||y?r.AD(this.Yc()):this.T$()}T$(){const r=this.ba(),v=this.tf();if(v>=r.Qt())return!1;
r.VN(v,a);return a.AD(this.Yc())}er(r){var v=this.Yc();const y=v.Z,A=v.la,G=v.V;v=v.ga;const z=this.tf();return r.UY(y,G,z,A,v,z+this.ed)}yA(r){this.Ve(1048576,r)}AA(r){this.Ve(2097152,r)}gG(r){this.QC=r;this.NG();this.Zf()&&(this.ki.QL=null)}rz(){return null!==this.QC||this.Zf()}sl(){return this.d$(this.fa(),this.aa(),this.Ha(),this.OE(),this.wE())}d$(r,v,y,A,G){let z=this.Zs;null===z&&(this.Zs=z={$W:d.B(d.xo),width:NaN,height:NaN,angle:NaN});const F=z.$W;if(z.width===r&&z.height===v&&z.angle===
y)return F;const H=this.QC;if(this.Zf()){const J=this.ol(),L=this.pl(),P=this.ck();let R=this.ki.QL;R||(H?(g.ta(H),g.offset(J,L)):g.jha(),R=P.t2(g),this.ki.QL=R);P.k7(R,F);F.offset(-J,-L);F.nM(r,v,A,G)}else H?(F.ta(H),F.nM(r,v,A,G)):F.gM(this.Sj(),-this.ca(),-this.da());z.width=r;z.height=v;z.angle=y;return F}NG(){this.u6();const r=this.Zs;null!==r&&(r.width=NaN)}iE(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Ea().zb().xfa)throw Error("object does not support mesh");this.Nz();this.ki={iM:d.B(d.K.CO,
r,v),tX:d.B(d.K.CO,r,v),QL:null}}Zf(){return null!==this.ki}ck(){if(!this.Zf())throw Error("no mesh");return this.ki.iM}TN(){if(!this.Zf())throw Error("no mesh");return this.ki.tX}aG(r){this.Ve(65536,r)}pO(){return 0!==(this.za&65536)}u6(){this.Ve(131072,!0)}K9(r){const v=this.ki.iM,y=Math.min(v.N0(),0),A=Math.min(v.O0(),0),G=Math.max(v.K0(),1),z=Math.max(v.L0(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Vga((G-1)*F);r.Uga((z-1)*H);this.ed=v.M0()}Nz(){this.ki&&(this.ki.iM.m(),
this.ki.tX.m(),this.ki=null,this.NG())}WP(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.jy;let H="number"===typeof y.xX?y.xX:A?0:-1;y="number"===typeof y.AX?y.AX:A?0:-1;if(!this.Zf())return!1;const J=this.ck(),L=J.Sq(r,v);if(null===L)return!1;let P=!1;"number"===typeof F&&L.fb()!==F&&(L.xf(F),P=!0);A&&(G+=r/(J.Hk-1),z+=v/(J.Yk-1));-1!==H||A?(A&&(H+=r/(J.Hk-1)),H=d.ia(H,0,1)):H=L.th;-1!==y||A?(A&&
(y+=v/(J.Yk-1)),y=d.ia(y,0,1)):y=L.vh;if(L.ca()===G&&L.da()===z&&L.th===H&&L.vh===y)return P;L.Qg(G);L.Ph(z);L.iG(H);L.jG(y);this.NG();return!0}ul(){return this.M.ul()}Et(r,v){return this.Yc().Mf(r,v)&&this.Sj().Mf(r,v)?this.ul()?void 0:this.rz()?this.sl().Mf(r-this.ca(),v-this.da()):!0:!1}R$(){return 0!==(this.za&16)}sT(){if(this.R$()&&this.Jg()&&0===(this.za&256)){var r=this.Yc(),v=this.L.aB,y=this.$A;a.set(v.$i(r.Z),v.aj(r.V),v.$i(r.la),v.aj(r.ga));y.Ad(a)||(r=this.M,y===l?(v.Gl(r,null,a),this.$A=
d.B(d.Rect,a)):(v.Gl(r,y,a),y.ta(a)),this.za&=-17)}}zS(){const r=this.$A;r!==l&&(this.L.aB.Gl(this.M,r,null),this.$A=l)}Sda(){const r=this.ba();if(r.op()&&0===(this.za&256)){var v=r.Ms,y=this.Yc(),A=this.Uw;a.set(v.$i(y.Z),v.aj(y.V),v.$i(y.la),v.aj(y.ga));A.Ad(a)||(y=this.M,A===h?(v.Gl(y,null,a),this.Uw=d.B(d.Rect,a)):(v.Gl(y,A,a),A.ta(a)),r.x6())}}AS(){const r=this.Uw;r!==h&&(this.ba().Ms.Gl(this.M,r,null),this.Uw=h)}Q7(){const r=this.M,v=this.Pk,y=v.H;y.length&&y.me(-1)===r||(v.tp(r,!1),v.Tg(r,
!1),this.j.ea())}O7(){const r=this.M,v=this.Pk,y=v.H;y.length&&y[0]===r||(v.tp(r,!1),v.yba(r),this.j.ea())}P7(r){const v=this.M,y=this.Pk;if(y.lc()!==r.lc())throw Error("layer from different layout");r!==y&&(y.tp(v,!0),this.nv(r),r.Tg(v,!0),this.j.ea())}N7(r,v){const y=this.M;let A=!1;const G=this.Pk;if(r.md!==y.md){var z=r.A();if(!z)throw Error("expected world instance");z=z.ba();G.La()!==z.La()&&(G.tp(y,!0),this.nv(z),z.Tg(y,!0),A=!0);r=z.w3(y,r,!!v);(A||r)&&this.j.ea()}}cda(r){this.Ve(64,r)}gu(){return 0!==
(this.za&64)}ka(r){const v={x:this.ca(),y:this.da(),w:this.fa(),h:this.aa(),l:this.ba().jb,zi:this.fk()};0!==this.fb()&&(v.ze=this.fb());0!==this.Ha()&&(v.a=this.Ha());this.Zq()||(v.c=this.gb.toJSON());.5!==this.ol()&&(v.oX=this.ol());.5!==this.pl()&&(v.oY=this.pl());0!==this.Rj()&&(v.bm=this.Rj());this.Lc()||(v.v=this.Lc());this.Jg()||(v.ce=this.Jg());this.bO()&&(v.be=this.bO());this.ng&&(v.fx=this.ng.ka());const y=0!==(this.za&32);y&&(v.sfi=y);this.si&&(v.sft=[...this.si].join(" "));this.Mb&&"visual-state"!==
r&&(v.sgi=this.Mb.ka());this.Zf()&&(v.mesh=this.ck().td());return v}sA(r){"visual-state"!==r&&this.Yba()}qa(r,v){q=!1;this.Qg(r.x);this.Ph(r.y);this.Oh(r.w);this.Mh(r.h);this.EA(r.zi);this.xf(r.hasOwnProperty("ze")?r.ze:0);this.Bc(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.Hm(r.c):r.hasOwnProperty("o")?(c.Ij(this.gb),c.Cq=r.o):c.ro(1,1,1,1);this.xA(c);this.zr(r.hasOwnProperty("oX")?r.oX:.5);this.Ar(r.hasOwnProperty("oY")?r.oY:.5);this.bg(r.hasOwnProperty("bm")?r.bm:0);this.Pg(r.hasOwnProperty("v")?
r.v:!0);this.zu(r.hasOwnProperty("ce")?r.ce:!0);this.S5(r.hasOwnProperty("be")?r.be:!1);this.fG(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.ng&&r.hasOwnProperty("fx")&&this.ng.qa(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.GG(null);const y=this.Mb,A=r.sgi;y.qa(A);const G=this.J().Ob(),z=()=>{G.removeEventListener("afterload",z);0===(this.za&256)&&y.kH(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.iE(r.cols,r.rows),this.ck().Zc(r)):
this.Nz();this.ra();q=!0;this.Qr()}}}{"use strict";const d=self.D;d.vM=class extends d.ja{constructor(a,b){super();const e=a.J(),c=e.On,g=e.Eh(b[1]);c.o1(g)||c.ZY(b);this.j=e;this.L=a;this.hj=c.U_(g);this.Wc=null;this.IB=g.Instance;this.jb=b[2];this.Ka=b[0];this.Aw=this.j.Ni(b[3]);this.Wc=d.B(g.Zi,this);this.$c()}static Ta(a,b){return d.B(d.vM,a,b)}m(){this.hj=this.j=null;this.Wc.m();this.IB=this.Wc=null}$c(){this.Wc.$c()}J(){return this.j}I(){return this.L}Mm(){return this.hj}Da(){return this.Ka}Ni(){return this.Aw}}}
{"use strict";const d=self.D,a=self.$E;d.ny=class extends d.ja{constructor(b){super();this.j=b.Pf;this.dd=b.qL;this.hj=this.dd.Mm();this.M=b.instance;this.Sa=b.index;this.we=this.ma=null;this.hj.Tg(this.M)}m(){this.we&&(this.we.lv(),this.we=null);this.hj.tp(this.M);this.ma.m();this.M=this.hj=this.dd=this.j=this.we=this.ma=null}hA(b){if(this.ma)throw Error("already got sdk instance");this.ma=d.B(this.dd.IB,this,b);this.I$()}J(){return this.j}Gg(){return this.dd}Mm(){return this.hj}Ue(){return this.Sa}td(){return this.ma.td()}Zc(b){return this.ma.Zc(b)}static nG(b,
e){var c=b.M,g=e.M;const m=c.I().La(),h=g.I().La();if(m!==h)return m-h;c=c.wV;g=g.wV;return c!==g?c-g:b.SA.Ue()-e.SA.Ue()}I$(){const b=this.ma.Ih(),e=b||a;a.Ug(this);this.we=new e;a.Ug(null);if(b&&!(this.we instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Wq(){return this.we}}}
{"use strict";const d=self.D;d.hl=class extends d.ja{constructor(a,b){super();this.Tb=a;this.Wg=[];this.hg=[];this.iB=new Map;this.$h=[];this.Is=!0;for(const e of b)a=d.B(d.cN,this,e,this.Wg.length),this.Wg.push(a),this.iB.set(a.Da().toLowerCase(),a),3<=e.length&&this.$h.push(this.dH(e[2]));this.J().V7(this)}m(){d.F(this.Wg);d.F(this.hg);this.iB.clear();d.F(this.$h);this.Tb=null}N4(a){if(a.length){this.Wg=a.concat(this.Wg);for(const b of a)this.iB.set(b.Da().toLowerCase(),b);for(let b=0,e=this.Wg.length;b<
e;++b)this.Wg[b].zH(b)}}dH(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.B(d.eb);g.Hm(c);a[b]=g}}return a}J(){return this.Tb.J()}Rh(){d.F(this.hg);let a=!0;for(const b of this.Wg)b.Lb&&(this.hg.push(b),b.Xf().Is||(a=!1));this.Is=a}Fg(){return this.Wg}j1(){return 0<this.Wg.length}ll(a){return this.iB.get(a.toLowerCase())||null}uN(a){a=Math.floor(+a);if(0>a||a>=this.Wg.length)throw new RangeError("invalid effect type index");return this.Wg[a]}iu(a){return this.uN(a).Lb}IP(a,
b){this.uN(a).Qz(b)}gu(){return 0<this.hg.length}kl(a){return this.$h[a]}static E5(a){return a&&a instanceof d.eb?{t:"color",v:a.toJSON()}:a}static k3(a){if("object"===typeof a){if("color"===a.t){const b=d.B(d.eb);b.Hm(a.v);return b}throw Error("invalid effect parameter type");}return a}static yP(a){return a.map(d.hl.E5)}static yO(a){return a.map(d.hl.k3)}td(){return this.Wg.map(a=>({name:a.Da(),active:a.Lb,params:d.hl.yP(this.$h[a.La()])}))}Zc(a){for(const b of a)if(a=this.ll(b.name))a.Qz(b.active),
this.$h[a.La()]=d.hl.yO(b.params);this.Rh()}}}
{"use strict";const d=self.D;d.cN=class extends d.ja{constructor(a,b,e){super();this.Ra=a;this.Sc=b[0];this.Ka=b[1];this.Sa=e;this.ld=null;this.Lb=!0}m(){this.ld=this.Ra=null}JY(a){a=d.B(d.cN,a,[this.Sc,this.Ka],-1);a.ld=this.ld;a.Lb=this.Lb;return a}SR(a){a=a.NN(this.Sc);if(!a)throw Error("failed to find shader program '"+this.Sc+"'");this.ld=a}Da(){return this.Ka}zH(a){this.Sa=a}La(){return this.Sa}J(){return this.Ra.J()}Qz(a){this.Lb=!!a}Xf(){return this.ld}d0(){const a=[];for(let b=0,e=this.ld.Aq.length;b<
e;++b){const c=this.ld.ez(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.B(d.eb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.D;d.u2=class extends d.ja{constructor(a,b){super();this.M=a;this.kW=b;this.Ra=a.I().Ra;this.Ix=this.gK=!0;this.jW=this.iW=this.gW=!1;this.Zh=d.B(d.K.Je,a.J().O.II,{tD:(e,c)=>{c=c.xn;const g=c.A();e.dn(g.LE());e.Au(g.tf());c.Eg(e);e.Au(0)},IW:e=>{const c=e.yE(),[g,m]=e.xE();return{qX:c,rX:g,pX:m}},yD:e=>this.kl(e)});this.xp=[];this.hg=[];this.Is=!0;this.$h=[];for(const e of this.Ra.Fg())this.xp.push(!0);this.Rh()}m(){this.Zh.m();this.Zh=null;d.F(this.xp);d.F(this.hg);d.F(this.$h);
this.Ra=this.M=null}daa(a){for(const b of a)this.$h.push(this.dH(b))}dH(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.B(d.eb);g.Hm(c);a[b]=g}}return a}h3(){for(const a of this.Ra.Fg())this.$h.push(a.d0())}Ki(){this.dv();return this.Zh}J(){return this.M.J()}Rh(){d.F(this.hg);const a=this.kW,b=this.Ra.Fg(),e=this.hg,c=this.xp;let g=!0;for(let m=0,h=b.length;m<h;++m)if(c[m]){const l=b[m];e.push(l);l.Xf().Is||(g=!1)}this.Is=g;a.cda(!!e.length);this.gK=!0}dv(){const a=
this.M;var b=this.kW;const e=b.Zq(),c=0<b.ed;b=0!==b.Ha()||0>b.fa()||0>b.aa();const g=a.iF();if(this.gK||e!==this.Ix||c!==this.gW||b!==this.iW||g!==this.jW)this.Zh.$D(this.hg.map(m=>m.Xf()),{it:this.hg.map(m=>m.La()),wD:!e||a.ir(),LL:c,PW:g,NW:b}),this.gK=!1,this.Ix=e,this.gW=c,this.iW=b,this.jW=g}kl(a){return this.$h[a]}iu(a){return this.xp[a]}IP(a,b){this.xp[a]=!!b}Fg(){return this.Ra.Fg()}ka(){return this.Ra.Fg().map(a=>({name:a.Da(),active:this.xp[a.La()],params:d.hl.yP(this.$h[a.La()])}))}qa(a){for(const b of a)if(a=
this.Ra.ll(b.name))this.xp[a.La()]=b.active,this.$h[a.La()]=d.hl.yO(b.params);this.Rh()}}}
{"use strict";const d=self.D,a=[],b=[],e=d.B(d.xo),c=d.B(d.xo),g=d.B(d.Kd);d.B(d.Rect);d.B(d.Rect);let m=null,h=null,l=null;d.KY=class extends d.ja{constructor(n){super();this.j=n;this.Tw=[]}m(){this.j=null}vu(n,p){const q=n.A(),u=p.A();q&&u&&q.Jg()&&u.Jg()&&this.Tw.push([n,p])}uM(n,p,q){for(const [u,w]of this.Tw){let r;if(n===u)r=w;else if(n===w)r=u;else continue;r.Iq(p)&&(q.includes(r)||q.push(r))}}FM(n,p){if(!this.Tw.length)return!1;for(const [q,u]of this.Tw)if(n===q&&p===u||n===u&&p===q)return!0;
return!1}GM(){d.F(this.Tw)}uk(n,p){if(!n||!p||n===p)return!1;n=n.A();p=p.A();if(!n.Jg()||!p.Jg())return!1;const q=n.ba(),u=p.ba();return q.T2(u)?this.Hda(n,p):this.Gda(n,p)}Hda(n,p){if(!n.Yc().AD(p.Yc())||!n.Sj().JL(p.Sj())||n.ul()&&p.ul())return!1;if(n.ul())return this.sG(n,p);if(p.ul())return this.sG(p,n);if(!n.rz()&&!p.rz())return!0;const q=n.sl(),u=p.sl();return q.Sx(u,p.ca()-n.ca(),p.da()-n.da())}Gda(n,p){var q=n.ul(),u=p.ul();if(q&&!u)return this.nQ(n,p);if(u&&!q)return this.nQ(p,n);if(u||q)return!1;
u=n.ba();q=p.ba();e.ta(n.sl());c.ta(p.sl());var w=e.Xd;for(let r=0,v=w.length;r<v;r+=2){const y=r+1,A=w[y],[G,z]=u.Uo(w[r]+n.ca(),A+n.da());w[r]=G;w[y]=z}n=c.Xd;for(let r=0,v=n.length;r<v;r+=2){u=r+1;w=n[u];const [y,A]=q.Uo(n[r]+p.ca(),w+p.da());n[r]=y;n[u]=A}e.fM();c.fM();return e.Sx(c,0,0)}nQ(n,p){var q=n.ba(),u=p.ba();m||(m=d.B(d.xo));h||(h=d.B(d.Rect));l||(l=d.B(d.Kd));var w=p.ca(),r=p.da();const [v,y]=u.Uo(w,r),[A,G]=q.yh(v,y);q=A-w;r=G-r;h.ta(p.Yc());h.offset(q,r);if(!n.Yc().AD(h))return!1;
l.ta(p.Sj());l.offset(q,r);if(!n.Sj().JL(l))return!1;m.ta(p.sl());u=m.Xd;for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=q,u[w]+=r;m.fM();return this.sG(n,p,A,G,m,h,l)}sG(n,p,q,u,w,r,v){r=void 0!==r?r:p.Yc();const y=n.ca(),A=n.da();var G=n.Ea().ma;q=void 0!==q?q:p.ca();u=void 0!==u?u:p.da();n=p.rz();v=void 0!==v?v:p.Sj();G.Yja(r,b);for(let H=0,J=b.length;H<J;++H){var z=b[H];G=z.aka();if(r.yga(G,y,A)&&(g.Nj(G),g.offset(y,A),g.JL(v)))if(n){var F=void 0!==w?w:p.sl();if(z=z.T0()){if(z.Sx(F,q-(y+G.Z),u-(A+
G.V)))return d.F(b),!0}else if(e.gM(g,0,0),e.Sx(F,q,u))return d.F(b),!0}else if(F=z.T0()){if(e.gM(v,0,0),F.Sx(e,-(y+G.Z),-(A+G.V)))return d.F(b),!0}else return d.F(b),!0}d.F(b);return!1}Yz(n,p,q){const u=n.S();var w=this.j.Jb();if(!w)throw Error("cannot call outside event");w=w.Vd;if(u.$b){u.te(!1);d.F(u.H);for(var r of n.oa()){var v=r.A(),y=v.ba();const [A,G]=y.yh(p,q,v.tf());v.Et(A,G)?u.sp(r):w&&u.Ll(r)}}else{v=!1;w?this.j.gO()&&!u.hc.length&&u.H.length?r=u.H:(r=u.hc,v=!0):r=u.H;y=0;for(let A=0,
G=r.length;A<G;++A){const z=r[A],F=z.A(),H=F.ba(),[J,L]=H.yh(p,q,F.tf());F.Et(J,L)?v?u.sp(z):r[y++]=z:v?r[y++]=z:w&&u.Ll(z)}r.length=y}n.kc();return u.VE()}Ry(n,p,q,u){n=n?1!==n.ge||1!==n.he:!1;if(p.Xa)for(const w of p.Kp)n||w.fI?d.jo(u,w.oa()):(w.pT(),w.aB.Lz(q,u));else n||p.fI?d.jo(u,p.oa()):(p.pT(),p.aB.Lz(q,u))}P0(n,p,q,u){for(const w of p)this.Ry(n,w,q,u)}Y0(n,p,q){const u=this.j.PE();u&&this.P0(n,u.KE(),p,q)}uF(n,p){return n.V$()&&(!p||p.A().uF(n.Pi().get("solidTags")))}Qh(n){const p=n.A();
this.Y0(p.ba(),p.Yc(),a);for(const q of a)if(this.uF(q,n)&&this.uk(n,q))return d.F(a),q;d.F(a);return null}U4(n,p,q,u,w){u=u||50;const r=n.A(),v=r.ca(),y=r.da();for(let A=0;A<u;++A)if(r.Ld(v+p*A,y+q*A),r.ra(),!this.uk(n,w))return;r.Ld(v,y);r.ra()}Jz(n,p,q,u){u=u||50;const w=n.A(),r=w.ca(),v=w.da();let y=null,A=null;for(let G=0;G<u;++G)if(w.Ld(r+p*G,v+q*G),w.ra(),!this.uk(n,y))if(y=this.Qh(n))A=y;else if(!y)return A&&this.T4(n,p,q,A),!0;w.Ld(r,v);w.ra();return!1}T4(n,p,q,u){let w=2,r=!1;var v=!1;const y=
n.A();let A=y.ca(),G=y.da();for(;16>=w;)v=1/w,w*=2,y.$m(p*v*(r?1:-1),q*v*(r?1:-1)),y.ra(),this.uk(n,u)||this.Qh(n)?v=r=!0:(v=r=!1,A=y.ca(),G=y.da());v&&(y.Ld(A,G),y.ra())}GF(n,p=100){let q=0;const u=n.A(),w=u.ca(),r=u.da();let v=0,y=this.Qh(n);if(!y)return!0;for(;q<=p;){let A=0,G=0;switch(v){case 0:A=0;G=-1;q++;break;case 1:A=1;G=-1;break;case 2:A=1;G=0;break;case 3:G=A=1;break;case 4:A=0;G=1;break;case 5:A=-1;G=1;break;case 6:A=-1;G=0;break;case 7:G=A=-1}v=(v+1)%8;u.Ld(Math.floor(w+A*q),Math.floor(r+
G*q));u.ra();if(!this.uk(n,y)&&(y=this.Qh(n),!y))return!0}u.Ld(w,r);u.ra();return!1}AM(n,p,q,u){const w=n.A(),r=w.ca(),v=w.da(),y=Math.max(10,d.Ag(p,q,r,v));var A=d.Hj(p,q,r,v),G=u||this.Qh(n);if(!G)return d.zd(A+Math.PI);let z=G;var F=0,H=0;const J=d.kb(5);let L;for(L=1;36>L;++L){const P=A-L*J;w.Ld(p+Math.cos(P)*y,q+Math.sin(P)*y);w.ra();if(!this.uk(n,z)&&(z=u?null:this.Qh(n),!z)){F=P;break}}36===L&&(F=d.zd(A+Math.PI));z=G;for(L=1;36>L;++L)if(G=A+L*J,w.Ld(p+Math.cos(G)*y,q+Math.sin(G)*y),w.ra(),
!this.uk(n,z)&&(z=u?null:this.Qh(n),!z)){H=G;break}36===L&&(H=d.zd(A+Math.PI));w.Ld(r,v);w.ra();if(H===F)return H;n=d.Dq(H,F)/2;n=d.hf(H,F)?d.zd(F+n+Math.PI):d.zd(H+n);F=Math.cos(A);A=Math.sin(A);H=Math.cos(n);n=Math.sin(n);p=F*H+A*n;return d.Hj(0,0,F-2*p*H,A-2*p*n)}}}
{"use strict";const d=self.D;d.X6=class extends d.ja{constructor(a,b){super();this.vI=a;this.uI=b;this.jj=d.B(d.qu)}m(){this.jj.m();this.jj=null}Nm(a,b,e){let c=this.jj.$(a,b);return c?c:e?(c=d.B(d.f1,this,a,b),this.jj.Set(a,b,c),c):null}$i(a){a=Math.floor(a/this.vI);return isFinite(a)?a:0}aj(a){a=Math.floor(a/this.uI);return isFinite(a)?a:0}Gl(a,b,e){if(b)for(let c=b.Z,g=b.la;c<=g;++c)for(let m=b.V,h=b.ga;m<=h;++m){if(e&&e.Mf(c,m))continue;const l=this.Nm(c,m,!1);l&&(l.Lh(a),l.Qo()&&this.jj.yo(c,
m))}if(e)for(let c=e.Z,g=e.la;c<=g;++c)for(let m=e.V,h=e.ga;m<=h;++m)b&&b.Mf(c,m)||this.Nm(c,m,!0).eF(a)}Lz(a,b){let e=this.$i(a.Z);const c=this.aj(a.V),g=this.$i(a.la);a=this.aj(a.ga);if(isFinite(g)&&isFinite(a))for(;e<=g;++e)for(let m=c;m<=a;++m){const h=this.Nm(e,m,!1);h&&h.lE(b)}}}}
{"use strict";const d=self.D;d.f1=class extends d.ja{constructor(a,b,e){super();this.R=b;this.P=e;this.H=d.B(d.WD)}m(){this.H.m();this.H=null}Qo(){return this.H.Qo()}eF(a){this.H.Ic(a)}Lh(a){this.H.yo(a)}lE(a){d.jo(a,this.H.sE())}}}{"use strict";const d=self.D;d.vna=class{constructor(){this.hga=this.gga=0;this.rect=new d.Rect;this.Ox=0}Set(a,b,e,c){this.gga=e-a;this.hga=c-b;this.rect.set(a,b,e,c);this.rect.normalize();this.Ox=0;return this}}}
{"use strict";const d=self.D,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Lj.Fm,c=e.create(),g=d.B(d.Kd),m=d.B(d.Rect);d.dE=class extends d.ja{constructor(h){super();this.j=h;this.Ek=null;this.KU=!1;this.Ej=this.hb=null;this.aJ="high-performance";this.wn=this.vn=this.Zg=this.$g=this.Gc=this.Qc=this.Fj=this.Gj=0;this.ks=!0;this.fd=this.wd=this.SV=0;this.TT=this.dU="letterbox-scale";this.Eea=this.Dea=0;this.gB=e.create();
this.ci=this.kL="high";this.Vp=!1;this.xv=[];this.fD=new Set;this.KC=self.C3_Shaders;this.II=d.B(d.K.v_,{GW:()=>[this.Vj(),this.Ji()],HW:()=>this.e0(),eX:l=>this.b5(l),getTime:()=>this.J().Do(),dX:()=>this.J().ea()});this.lg=this.Bn=0;this.ss=NaN;this.xB=null;this.QJ=new Map;this.Zv=NaN;this.nD=new Map;this.OC="";this.DK=1;this.GV=d.B(d.Rect);this.EK="";this.HV=this.kx=null;this.Gw=0;this.Ce=-1;this.Jn=0;this.WJ=l=>this.Jn=l.progress;this.If=null;this.Kf={Yx:null,ay:null,iy:null};this.IK=this.MV=
this.JK=0;this.Cj="fade-in";this.HK=null;this.LV=new Promise(l=>this.HK=l)}$ca(h){this.aJ=h}vda(h){this.KU=!!h}async zh(h){this.Ek=h.canvas;this.j.Fi("runtime","window-resize",p=>this.kv(p));this.j.Fi("runtime","fullscreenchange",p=>this.Waa(p));this.j.Fi("runtime","fullscreenerror",p=>this.Xaa(p));this.Ek.addEventListener("webglcontextlost",p=>this.jv(p));this.Ek.addEventListener("webglcontextrestored",()=>this.oH());this.Vp=!!h.isFullscreen;var l=navigator.gpu&&this.KU;let n=!1;if(l)try{await this.WR(!0)}catch(p){this.Ej=
null}if(!this.lb())try{await this.VR(!0)}catch(p){this.hb=null}this.lb()||(n=!0);if(!this.lb()&&l)try{await this.WR(!1)}catch(p){this.Ej=null}if(!this.lb())try{await this.VR(!1)}catch(p){this.hb=null}l=this.lb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.k6(n);this.ud(h.windowInnerWidth,h.windowInnerHeight,!0);this.Ej?await this.L$():this.hb&&await this.K$();l.bG(this.ks);l.sk()&&(this.ss=0);for(const p of this.j.ZH){for(const q of p.Fg())q.SR(l);p.Rh()}}async WR(h){h=
{powerPreference:this.aJ,depth:this.j.Am,failIfMajorPerformanceCaveat:h,Ora:this.j.gD,uL:this.j.hL};this.Ej=d.B(d.K.mra);await this.Ej.Ta(this.Ek,h)}async VR(h){h={powerPreference:this.aJ,EW:!0,depth:this.j.Am,uL:this.j.hL,failIfMajorPerformanceCaveat:h};"Android"===d.Pb.Jh&&"Chromium"===d.Pb.ry&&75>d.Pb.ZD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.TW=1);"standard"===this.j.Yr?h.alpha=
!0:(h.alpha=!1,h.PL=!0);this.hb=d.B(d.K.E7,this.Ek,h);await this.hb.wz()}async L$(){if(this.KC){const h=[];for(const [l,n]of Object.entries(this.KC))n.src=n.hva,h.push(this.Ej.jE(n,d.K.nra.Sy(),l));await Promise.all(h)}}async K$(){if(this.KC){const h=[];for(const [l,n]of Object.entries(this.KC))n.src=n.Msa,h.push(this.hb.jE(n,d.K.Qu.Sy(),l));await Promise.all(h);this.hb.s5();this.hb.rk()}this.hb.sk()&&(this.xB=d.B(d.K.CQ,this.hb))}m(){this.Ek=this.hb=this.j=null}kv(h){const l=this.j,n=h.devicePixelRatio;
l.ye&&(self.devicePixelRatio=n);l.Qca(n);this.Vp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight);l.ea();l.xb&&(l.hu()||self.Cg.Mka())&&l.cp()}Waa(h){this.Vp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight,!0);this.j.ea()}Xaa(h){this.Vp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight,!0);this.j.ea()}ud(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Gj!==h||this.Fj!==l||n){this.Gj=h;this.Fj=l;n=this.Ut();"letterbox-scale"===n?this.l8(h,l):"letterbox-integer-scale"===
n?this.k8(h,l):"off"===n?this.i8(h,l):this.j8(h,l);this.Rda(n);this.Ek.width=this.$g;this.Ek.height=this.Zg;this.j.Bl("canvas","update-size",{marginLeft:this.vn,marginTop:this.wn,styleWidth:this.Qc,styleHeight:this.Gc});h=this.lb();h.ud(this.$g,this.Zg,!0);for(var p of this.xv)h.qZ(p);d.F(this.xv);h.Jq(this.gB,this.Vj()/this.Ji());p=this.j.cb;p.hp();p.gp()}}l8(h,l){const n=this.j.Tj(),p=this.j.mh,q=this.j.lh,u=p/q;h/l>u?(this.Qc=Math.round(l*u),this.Gc=l,this.vn=Math.floor((h-this.Qc)/2),this.wn=
0):(this.Qc=h,this.Gc=Math.round(h/u),this.vn=0,this.wn=Math.floor((l-this.Gc)/2));this.$g=Math.round(this.Qc*n);this.Zg=Math.round(this.Gc*n);this.j.Mu(p,q)}k8(h,l){const n=this.j.Tj();1!==n&&(h+=1,l+=1);const p=this.j.mh,q=this.j.lh;var u=p/q;u=h/l>u?l*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.$g=Math.round(p*u);this.Zg=Math.round(q*u);this.Qc=this.$g/n;this.Gc=this.Zg/n;this.vn=Math.max(Math.floor((h-this.Qc)/2),0);this.wn=Math.max(Math.floor((l-this.Gc)/2),0);this.j.Mu(p,
q)}j8(h,l){const n=this.j.Tj();this.Qc=h;this.Gc=l;this.$g=Math.round(this.Qc*n);this.Zg=Math.round(this.Gc*n);this.wn=this.vn=0;h=this.Uj();this.j.Mu(this.Qc/h,this.Gc/h)}i8(h,l){const n=this.j.Tj();this.Qc=this.j.yg;this.Gc=this.j.xg;this.$g=Math.round(this.Qc*n);this.Zg=Math.round(this.Gc*n);this.Vp?(this.vn=Math.floor((h-this.Qc)/2),this.wn=Math.floor((l-this.Gc)/2)):this.wn=this.vn=0;this.j.Mu(this.j.yg,this.j.xg)}Rda(h){if("high"===this.kL)this.wd=this.$g,this.fd=this.Zg,this.ci="high";else{let n;
if("off"===this.Ut()){var l=this.j.yg;n=this.j.xg}else l=this.j.mh,n=this.j.lh;this.$g<l&&this.Zg<n?(this.wd=this.$g,this.fd=this.Zg,this.ci="high"):(this.wd=l,this.fd=n,this.ci="low","scale-inner"===h?(h=l/n,l=this.Gj/this.Fj,l<h?this.wd=this.fd*l:l>h&&(this.fd=this.wd/l)):"scale-outer"===h&&(h=l/n,l=this.Gj/this.Fj,l>h?this.wd=this.fd*l:l<h&&(this.fd=this.wd/l)))}}J(){return this.j}i6(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.dU=h;h=this.j.cb;h.hp();h.gp()}Xy(){return this.dU}a6(h){if(!a.has(h))throw Error("invalid fullscreen mode");
this.TT=h;h=this.j.cb;h.hp();h.gp()}Ut(){return this.Vp?this.TT:this.Xy()}LP(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.kL=h;this.j.cb.hp()}static rR(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Vj(){return this.wd}Ji(){return this.fd}bG(h){this.ks=!!h}rda(h){this.SV=h}M2(){return this.lb().Oo()}jv(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.xv=[];this.fD.clear();this.hb.Al();this.j.jv()}async oH(){await this.hb.AF();await this.Ara();for(const h of this.j.ZH)for(const l of h.Fg())l.SR(this.hb);await this.j.oH();console.log("[Construct 3] WebGL context restored")}tl(){return this.hb}Xq(){return this.Ej}lb(){return this.Ej||this.hb}Rm(){return"low"===this.ci?1/this.j.Tj():this.Uj()}Uj(){const h=this.Ut();if("off"===h||"crop"===h)return 1;const l=this.j.mh,n=this.j.lh,p=l/n,q=this.$g/this.Zg;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.Gc/n:this.Qc/l}Xt(){return"low"===this.ci?1:this.Uj()}Wt(){return"low"===this.ci?1:this.j.Tj()}Z5(h,l,n){l=l||this.wd;n=n||this.fd;const p=l/2+this.Dea,q=n/2+this.Eea;{let u=this.gB;if(l!==this.wd||n!==this.fd)h.Jq(c,l/n),u=c;h.ip(u)}l=h.Ct(p,q,100*this.j.Tj(),p,q,n||this.fd);h.yr(l)}W5(h){var l=this.Qc/2;const n=this.Gc/2;h.ip(this.gB);l=h.Ct(l,n,100,l,n);h.yr(l)}Rt(){return this.vn}St(){return this.wn}Nt(h){h.depth=this.j.Am;const l=this.xv,n=l.findIndex(q=>q.C2(h));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.lb().eZ(h);this.fD.add(p);return p}Zo(h){if(!this.fD.has(h))throw Error("render target not in use");this.fD.delete(h);this.xv.push(h)}e0(){const h={Mj:this.j.Ed};"low"===this.ci&&(h.width=this.Vj(),h.height=this.Ji());return this.Nt(h)}b5(h){this.Zo(h)}*oD(){for(const h of this.j.cb.fy())for(const l of h.ec){const n=this.QJ.get(l);n&&(yield n)}}DN(h){if(!this.lb().sk())return null;let l=this.QJ.get(h);l||(l={name:h.Da(),jM:d.B(d.K.CQ,this.hb),qD:0,RW:0},
this.QJ.set(h,l));return l.jM}Oda(){const h=this.lb();if(h.sk()&&0===this.lg){this.lg=h.bi;this.Zv=NaN;for(const l of this.oD())l.qD=NaN}}Uda(){this.hb&&this.hb.sk()&&this.Vda();this.Ej&&this.Ej.sk()&&this.Wda()}Vda(){if(isNaN(this.Zv)&&(this.Zv=this.xB.zN(this.Bn,this.lg),!isNaN(this.Zv))){if(this.j.xb)for(const h of this.oD())if(h.qD=h.jM.zN(this.Bn,this.lg),isNaN(h.qD))return;this.xB.XM(this.lg);this.ss=Math.min(this.Zv,1);if(this.j.xb){for(const h of this.oD())h.jM.XM(this.lg),h.RW=Math.min(h.qD,
1);self.Cg.u7(this.ss,[...this.oD()])}this.Bn=this.lg;this.lg=0}}Wda(){if(0!==this.lg){for(var h=this.Bn;h<this.lg;++h){var l=this.nD.get(h);if(l&&!l.sz())return}l=this.j.Vb();h=d.p3(l.ec.length+1);for(var n=this.Bn;n<this.lg;++n){var p=this.nD.get(n);if(p){p=p.kz();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.ss=d.ia(h[0],0,1);if(this.j.xb){n=[];l=l.ec;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)n.push({name:l[q].Da(),RW:d.ia(h[q+1],0,1)});self.Cg.u7(this.ss,n)}for(h=this.Bn;h<this.lg;++h)this.nD.delete(h);this.Bn=this.lg;this.lg=0}}e8(h){this.nD.set(this.Ej.bi,h)}Zy(){return this.ss}jQ(h,l,n,p,q,u){this.OC=h;this.DK=l;this.GV.Di(n,p,q,u);return this.kx?this.kx:this.kx=new Promise(w=>{this.HV=w})}zaa(){if(this.OC){var h=this.Ek,l=this.GV,n=d.ia(Math.floor(l.Z),0,h.width),p=d.ia(Math.floor(l.V),0,h.height),q=l.width();q=0===q?h.width-n:d.ia(Math.floor(q),0,h.width-n);l=l.height();l=
0===l?h.height-p:d.ia(Math.floor(l),0,h.height-p);(0!==n||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=d.zh(q,l),h.getContext("2d").drawImage(this.Ek,n,p,q,l,0,0,q,l));d.uy(h,this.OC,this.DK).then(u=>{this.EK=URL.createObjectURL(u);this.kx=null;this.HV(this.EK)});this.OC="";this.DK=1}}c2(h){this.hb&&(2===h?(this.If=d.B(d.K.KF,this.lb()),this.If.RP(),this.If.ZF("Arial"),this.If.Uz(16),this.If.NP("center"),this.If.iQ("center"),this.If.ud(300,200)):0===h?(h=this.j.Cs)&&h.mu(this.hb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.paa().then(l=>{"done"===this.Cj?this.hb.Pj(l):this.Kf.Yx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.aS("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Cj?this.hb.Pj(l):this.Kf.ay=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.aS("splash-images/splash-website-512.png").then(l=>{"done"===this.Cj?this.hb.Pj(l):this.Kf.iy=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async paa(){var h=(new URL("splash-images/splash-logo.svg",
this.j.uE())).toString();h=await d.jl(h);h=await this.j.Y4(h);return await this.hb.Cy(h,{Zx:"high"})}async aS(h){h=(new URL(h,this.j.uE())).toString();h=await d.jl(h);return await this.hb.Cy(h,{Zx:"high"})}YE(){this.j.Bl("runtime","hide-cordova-splash")}Z6(){this.Gw=Date.now();this.j.Ob().addEventListener("loadingprogress",this.WJ);this.Ce=requestAnimationFrame(()=>this.jR());3!==this.j.Bs&&this.YE()}async x_(){if(this.hb){this.Jn=1;var h=this.j.Bs;4===h&&await this.LV;this.LV=this.HK=null;-1!==this.Ce&&
(cancelAnimationFrame(this.Ce),this.Ce=-1);this.j.Ob().removeEventListener("loadingprogress",this.WJ);this.WJ=null;this.If&&(this.If.m(),this.If=null);this.j.c5();this.hb.Nu();this.Kf.Yx&&(this.hb.Pj(this.Kf.Yx),this.Kf.Yx=null);this.Kf.ay&&(this.hb.Pj(this.Kf.ay),this.Kf.ay=null);this.Kf.iy&&(this.hb.Pj(this.Kf.iy),this.Kf.iy=null);this.hb.wo();this.hb.Kt();this.Cj="done";this.Bn=this.hb.bi;3===h&&this.YE()}}jR(){if(-1!==this.Ce){var h=this.hb;if(h){h.Nu();this.Ce=-1;var l=this.j.vd.dJ,n=this.j.Bs;
3!==n&&(this.W5(h),h.wo(),h.wu(),h.rk(),h.eg(null));if(0===n)this.C9(l);else if(1===n)this.kA(l,120,0);else if(2===n)this.B9(l);else if(3!==n)if(4===n)this.D9(l);else throw Error("invalid loader style");h.Kt();this.Ce=requestAnimationFrame(()=>this.jR())}}}B9(h){h?this.If.EP(1,0,0):this.If.EP(.6,.6,.6);this.If.Lu(Math.round(100*this.Jn)+"%");h=this.Qc/2;const l=this.Gc/2;g.kX(h-150,l-100,h+150,l+100);this.hb.eg(this.If.oe());this.hb.kr(g,this.If.dk())}kA(h,l,n){const p=this.hb;p.DP();h?p.wf(1,0,0,
1):p.wf(.118,.565,1,1);h=this.Qc/2;const q=this.Gc/2,u=l/2;m.Di(h-u,q-4+n,Math.floor(l*this.Jn),8);p.Rect(m);m.Di(h-u,q-4+n,l,8);m.offset(-.5,-.5);m.HL(.5,.5);p.wf(0,0,0,1);p.uO(m);m.HL(1,1);p.wf(1,1,1,1);p.uO(m)}C9(h){var l=this.j.Cs;if(l)if(l=l.oe()){var n=l.fa(),p=l.aa(),q=this.Qc/2,u=this.Gc/2,w=n/2;p/=2;g.kX(q-w,u-p,q+w,u+p);this.hb.eg(l);this.hb.Kd(g);this.kA(h,n,p+16)}else this.kA(h,120,0);else this.kA(h,120,0)}D9(h){const l=this.hb,n=this.Kf.Yx,p=this.Kf.ay,q=this.Kf.iy,u=Date.now();0===this.JK&&
(this.Gw=u);const w=this.j.gr()||this.j.Sea&&!this.j.fO(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Cj?y=Math.min((u-this.Gw)/300,1):"fade-out"===this.Cj&&(y=Math.max(1-(u-this.IK)/300,0));l.DP();l.wf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Qc,this.Gc);l.Rect(m);const A=Math.ceil(this.Qc),G=Math.ceil(this.Gc);let z;256<this.Gc?(l.wf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Di(0,.8*G-z/2,A,z),l.Rect(m),h?l.wf(y,0,0,y):l.wf(.161*y,.953*y,.816*y,y),h=A*this.Jn,m.Di(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),
l.wf(y,y,y,y),l.rk(),p&&(h=1.5*d.ia(.22*G,105,.6*A),z=h/8,m.Di(.5*A-h/2,.2*G-z/2,h,z),l.eg(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.Di(.5*A-h/2,.485*G-z/2,h,z),l.eg(n),l.Rect(m)),q&&(h=1.5*d.ia(.22*G,105,.6*A),z=h/8,m.Di(.5*A-h/2,.868*G-z/2,h,z),l.eg(q),l.Rect(m))):(l.wf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Di(0,.85*G-z/2,A,z),l.Rect(m),h?l.wf(y,0,0,y):l.wf(.161*y,.953*y,.816*y,y),h=A*this.Jn,m.Di(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.wf(y,y,y,y),l.rk(),n&&(z=h=.55*G,m.Di(.5*A-h/2,.45*
G-z/2,h,z),l.eg(n),l.Rect(m)));this.JK++;"fade-in"===this.Cj&&300<=u-this.Gw&&2<=this.JK&&(this.Cj="wait",this.MV=u);"wait"===this.Cj&&u-this.MV>=v&&1<=this.Jn&&(this.Cj="fade-out",this.IK=u);("fade-out"===this.Cj&&u-this.IK>=300+r||w&&1<=this.Jn&&500>u-this.Gw)&&this.HK()}}}
{"use strict";const d=self.D,a=self.Cg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.uP=class extends d.ja{constructor(c){c=Object.assign({},b,c);super();this.Kw=c.messagePort;this.kea=c.baseUrl;this.ye=!!c.isInWorker;e=c.ife;this.Ye=c.exportType;this.LU=!!c.isiOSCordova;this.Sea=!!c.isFBInstantAvailable;this.kfa=c.opusWasmScriptUrl;this.nV=c.opusWasmBinaryUrl;this.xe=this.rea=this.xb=!("preview"!==this.Ye||!c.isDebug);this.DI=
0;this.KA=[];this.cea=[];this.sK=this.vV=this.FC="";this.lh=this.mh=0;this.es=self.devicePixelRatio;this.Bs=this.xg=this.yg=this.xC=this.wC=0;this.iD=!1;this.Kk=!0;this.hL=this.gD=!1;this.Cs=null;this.vd=d.B(d.gY,this,c);this.cb=d.B(d.a3,this);this.ya=d.B(d.C_,this);this.On=d.B(d.F4,this);this.ig=d.B(d.KY,this);this.Ib=d.B(d.h7,this);this.UK=d.B(d.l7,this);this.bd=[];this.hK=new Map;this.iK=new Map;this.ZT=0;this.eea=[];this.ZH=[];this.Nv=[];this.cm=[];this.KB=new Map;this.AB=!1;this.Nw=this.jK=0;
this.Rp=new Map;this.Sp=new Set;this.LB=new Set;this.uC=[];this.NU=[];this.O=null;this.Am=!1;this.VI="vsync";this.Yr="standard";this.Ed="trilinear";this.em=!1;this.eK=!0;this.DJ=this.qV=!1;this.yfa={XW:g=>{this.tm=this.Ce=-1;this.se(g)},uha:g=>{this.tm=-1;this.se(g,!1,"skip-render")},dha:()=>{this.Ce=-1;this.cp()}};this.tm=this.Ce=-1;this.ns=this.Uk=0;this.sU=this.TB=this.BB=!1;this.zJ=!0;this.Ts=0;this.pfa=()=>Math.random();this.Tv=this.Uv=this.jC=this.Tn=0;this.ke=1;this.iV=30;this.ZI=d.B(d.Ez);
this.$I=d.B(d.Ez);this.jL=d.B(d.Ez);this.uB=-1;this.pC=this.im=this.tB=this.Mp=0;this.Lk=!1;this.Fw=this.Ww="";this.As=null;this.bq="";this.zK=this.rK=null;this.Yb=d.B(d.Event.Ob);this.HI=new Map;this.oK=new Map;this.gfa=0;this.JU=this.QT=this.RT=!1;this.iL=[];this.Jp={pretick:d.B(d.Event,"pretick",!1),tick:d.B(d.Event,"tick",!1),tick2:d.B(d.Event,"tick2",!1),instancedestroy:d.B(d.Event,"instancedestroy",!1),beforelayoutchange:d.B(d.Event,"beforelayoutchange",!1),layoutchange:d.B(d.Event,"layoutchange",
!1)};this.Jp.instancedestroy.instance=null;this.le=d.B(d.Event.Ob);this.aW=null;this.un=d.B(d.Yo,d.ny.nG);this.tn=d.B(d.Yo,d.ny.nG);this.Bp=d.B(d.Yo,d.ny.nG);this.yw=d.B(d.V2,this,c.jobScheduler);c.canvas&&(this.O=d.B(d.dE,this));this.Kw.onmessage=g=>this._OnMessageFromDOM(g.data);this.Fi("runtime","visibilitychange",g=>this.oba(g));this.Fi("runtime","opus-decode",g=>this.Zda(g.arrayBuffer));this.Fi("runtime","get-remote-preview-status-info",()=>this.q$());this.Fi("runtime","js-invoke-function",g=>
this.rA(g));this.Fi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Yb.addEventListener("window-blur",g=>this.sba(g));this.Yb.addEventListener("window-focus",()=>this.tba());this.Ib.VX();this.rj=null;this.Oea=new WeakMap;this.Kv={keyboard:null,UW:null,lM:null}}static Ta(c){return d.B(d.uP,c)}m(){d.F(this.bd);this.hK.clear();this.iK.clear();this.cb.m();this.cb=null;this.ya.m();this.ya=null;this.On.m();this.On=null;this.vd.m();this.vd=null;this.ig.m();this.ig=null;this.Ib.m();this.Ib=
null;this.UK.m();this.UK=null;this.O&&(this.O.m(),this.O=null);this.Yb.m();this.Yb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.nS(c);else if("result"===g)this.iba(c);else throw Error(`unknown message '${g}'`);}nS(c){if(this.JU){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new d.Event(m),c.data=h,this.Yb.dga(c)),l)){c=new d.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.Ah(c)}if(c=this.HI.get(g))if(c=c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.uA(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.uA(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.uA(p,!1,""+q)}):this.uA(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.iL.push(c)}uA(c,
g,m){this.Kw.postMessage({type:"result",responseId:c,isOk:g,result:m})}iba(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.oK.get(g);m?h.resolve(c):h.reject(c);this.oK.delete(g)}Fi(c,g,m){let h=this.HI.get(c);h||(h=new Map,this.HI.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}Bl(c,g,m){this.Kw.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}Vo(c,g,m){const h=this.gfa++,l=new Promise((n,p)=>{this.oK.set(h,{resolve:n,
reject:p})});this.Kw.postMessage({type:"event",component:c,handler:g,data:m,responseId:h});return l}K4(){if(!this.xb)throw Error("not in debug mode");this.Bl("runtime","post-to-debugger",{type:"reload"})}async Tm(c){this.xb?await a.Tm(this):self.Cg&&self.Cg.Aka(this);var [g]=await Promise.all([this.vd.iN("data.json"),this.yaa(),this.yw.Tm()]);this.baa(g);await this.M$(c);this.gr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.tl()?(g=this.tl(),
console.info(`[C3 runtime] Hosted in ${this.ye?"worker":"DOM"}, rendering with WebGL ${g.nd} [${g.dt}] (${g.D2()?"desynchronized":"standard"} compositing)`)):this.Xq()&&console.info(`[C3 runtime] Hosted in ${this.ye?"worker":"DOM"}, rendering with experimental WebGPU`);this.lb().yB&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.JU=!0;for(const m of this.iL)this.nS(m);d.F(this.iL);
this.O&&this.O.Z6();for(const m of c.runOnStartupFunctions)this.KA.push(this.gca(m));await Promise.all([this.vd.AQ(),...this.KA]);d.F(this.KA);if(this.vd.dJ)this.O&&this.O.YE();else return this.O&&await this.O.x_(),await this.Yb.AL(new d.Event("beforeruntimestart")),await this.Nu(),this.Kw.postMessage({type:"runtime-ready"}),this}async gca(c){try{await c(this.rj)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}baa(c){c=c.project;this.FC=c[0];this.vV=c[16];this.sK=c[31];
const g=c[39]||"loading-logo.png";this.em=!!c[9];this.mh=this.yg=c[10];this.lh=this.xg=c[11];this.wC=this.mh/2;this.xC=this.lh/2;this.Yr=c[36];this.VI=c[37];"low-latency"===this.Yr&&this.x2()&&77>=d.Pb.ZD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Yr="standard");this.Am=!!c[40];this.Ed=c[14];this.gD=c[15];this.hL=c[17];this.iD=!!c[18];
this.Bs=c[19];this.Nw=c[21];this.qV=c[22];const m=this.vd;m.Jca(c[7]);m.Zca(c[32]);m.eda(c[28]);m.uda(c[29]);if(0===this.Bs){let q="";this.gr()?m.$G(g)&&(q=m.EN(g)):q=m.tU+g;q&&(this.Cs=m.Fz({url:q}))}this.O&&(this.O.i6(d.dE.rR(c[12])),this.O.LP(c[23]?"high":"low"),this.O.bG(0!==c[24]),this.O.$ca(c[34]),this.O.rda(c[41]),this.O.vda(c[13]));this.On.fZ();this.uC=self.zM();for(var h of c[2])this.On.dZ(h);this.uC=self.zM();this.iaa();for(var l of c[3])h=d.xF.Ta(this,this.bd.length,l),this.bd.push(h),
this.hK.set(h.Da().toLowerCase(),h),this.iK.set(h.jb,h);for(const q of c[4])this.bd[q[0]].eaa(q);for(var n of c[27])l=n.map(q=>this.bd[q]),this.eea.push(d.B(d.TY,this,l));for(const q of this.bd)q.Jaa();for(const q of c[5])this.cb.Ta(q);(n=c[1])&&(n=this.cb.Rq(n))&&this.cb.e6(n);for(var p of c[33])this.Ib.Ta(p);for(const q of c[35])this.UK.Ta(q);this.J$();for(const q of c[6])this.ya.Ta(q);this.ya.Rb();this.F$();d.F(this.uC);this.$d();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Bl("runtime",
"set-target-orientation",{targetOrientation:p})}sM(c){this.KA.push(c)}l$(){return this.ZT++}V7(c){this.ZH.push(c)}async M$(c){this.O&&(await this.O.zh(c),this.O.c2(this.Bs))}async yaa(){if(!this.vd.y2()){var c=null;try{c=this.LU&&this.vd.mw?await this.vd.PM(this.nV):await this.vd.It(this.nV)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.PX(c):this.OX();await this.QX([this.kfa])}}async Zda(c){return await this.SD("OpusDecode",{arrayBuffer:c},
[c])}async Nu(){this.BB=!0;this.Tn=Date.now();if(this.iD){for(var c of this.bd)c.Xa||c.CJ||!c.Ef||c.$c();this.vd.AQ().then(()=>{this.Kk=!1;this.qS()})}else this.Kk=!1;this.vd.l6();this.xb&&a.Eoa(e);for(const g of this.cb.gj)g.B8();c=this.cb.p0();await c.cH(null,this.lb());await c.iT(!0);this.Mp=performance.now();this.iD||this.qS();(await this.Vo("runtime","before-start-ticking")).isSuspended?this.Ts++:this.se()}qS(){this.pa(d.C.Qa.G.b4,null,null);this.Bl("runtime","register-sw")}Eh(c){c=Math.floor(c);
const g=this.uC;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}iaa(){for(const c of self.sY){const g=d.first(Object.keys(c));this.NU.push(g)}}Ni(c){c=Math.floor(c);const g=this.NU;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}uE(){return this.kea}na(){return this.ya}rd(){return this.ya.rd()}pf(){return this.ya.pf()}Jb(){return this.ya.Jb()}Rf(){return this.ya.Rf()}gO(){return 0===this.pf().Rl}Tt(){return this.ya.Tt()}cu(){return this.On.cu()}qf(c){c=
Math.floor(c);if(0>c||c>=this.bd.length)throw new RangeError("invalid index");return this.bd[c]}cz(c){return this.hK.get(c.toLowerCase())||null}dz(c){return this.iK.get(c)||null}*Efa(){for(const c of this.bd)c.Xa||(yield*c.KW())}Ob(){return this.Yb}Ah(c){c.Pf=this.rj;const g=this.xb&&!this.ya.zz();g&&a.pG();this.le.dispatchEvent(c);g&&a.UD()}Ao(c){c.Pf=this.rj;return this.le.AL(c)}s6(c,g){if(this.mh!==c||this.lh!==g)this.mh=c,this.lh=g,c=this.cb,c.hp(),c.gp()}Mu(c,g){if(this.yg!==c||this.xg!==g)this.yg=
c,this.xg=g,c=this.cb,c.hp(),c.gp()}Qca(c){this.es=c}Tj(){return this.es}Vj(){return this.O?this.O.Vj():this.yg}Ji(){return this.O?this.O.Ji():this.xg}Rm(){return this.O?this.O.Rm():1}Uj(){return this.O?this.O.Uj():1}Xt(){return this.O?this.O.Xt():1}Wt(){return this.O?this.O.Wt():1}Rt(){return this.O?this.O.Rt():0}St(){return this.O?this.O.St():0}Z_(){return this.O?this.O.Qc:0}Y_(){return this.O?this.O.Gc:0}Xy(){return this.O?this.O.Xy():"off"}Nt(c){return this.O?this.O.Nt(c):null}Zo(c){this.O&&this.O.Zo(c)}Zy(){return this.O?
this.O.Zy():NaN}qF(){return"nearest"!==this.Ed}c5(){this.Cs&&(this.Cs.m(),this.Cs=null)}Vb(){return this.cb.Vb()}Fz(c){return this.vd.Fz(c)}hE(c,g,m,h,l){return this.Ii(c,g,!1,m,h,!1,l,void 0,l)}Ii(c,g,m,h,l,n,p,q,u){var w=null;let r=null;c instanceof d.xF?(r=c,r.Xa&&(w=r.Kp,r=w[Math.floor(this.lr()*w.length)]),w=r.ds):(w=c,r=this.qf(w[1]));c=r.zb().Ef;if(this.Kk&&c&&!r.CJ)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.Rp.has(w[2])?w[2]:this.Nw++;const A=w?w[0]:null,G=d.B(d.Instance,{Pf:this,
UL:r,SW:g,BX:A,JW:w?w[3]:null,uid:y});this.Rp.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Qg(h),y.Ph(l)),r.PS());g&&(u||g.Tg(G,!0),1===g.ge&&1===g.he||r.wH(!0),g.lc().BO(r));this.jK++;let z=!0;q&&(q=q.I(),q.cc()&&r.cc()&&r.ah===q.ah&&(z=!1));if(r.cc()&&!m&&!n&&z){for(var F of r.ah.om)F!==r&&(q=this.Ii(F,v,!1,y?y.ca():h,y?y.da():l,!0,!1,void 0,u),G.Gr(q));for(var H of G.Nd){H.Gr(G);for(const J of G.Nd)H!==J&&H.Gr(J)}}c&&!m&&p&&this.EG(G,A,y,g,h,l,u);if(r.cc()&&!m&&
!n&&p)for(const J of G.Nd)if(m=J.A())F=J.zb(),H=J.I().ds[0],F.Ef?this.EG(J,H,m,g,m.ca(),m.da(),u):this.EG(J,H,m,g,void 0,void 0,u);!n&&p&&("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.nz(),h=h-y.ca()+g.ca(),l=l-y.da()+g.da(),g.Ld(h,l));r.mv();l=w?d.wL(w[5]):null;w=w?w[4].map(J=>d.wL(J)):null;c&&A&&A[13]&&G.dda();G.hA(l,w);this.cm.push(G);this.AB=!0;this.xb&&a.Bka(G);return G}EG(c,g,m,h,l,n,p){var q=m.X0(),u=m.IN();c.A().dG(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===
typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.cb.IE(A[0]).ba(w).x0(r);w=this.qf(r[1]);var y=c.u1(w);const z=q.has(w);y&&!z&&v?(v=c.ON(w),y=l+r[0][0]-m,r=n+r[0][1]-g,v.A().Ld(y,r),v.A().dG(G),c.Km(v,{xt:!!(u>>0&1),yt:!!(u>>1&1),Fq:!!(u>>2&1),Eq:!!(u>>3&1),wt:!!(u>>4&1),Nx:!!(u>>5&1),zt:!!(u>>6&1)}),q.add(w)):(w=this.Ii(r,h,!1,l+r[0][0]-m,n+r[0][1]-g,!1,!0,c,p),w.A().dG(G),c.Km(w,{xt:!!(u>>0&1),yt:!!(u>>1&1),Fq:!!(u>>2&1),Eq:!!(u>>
3&1),wt:!!(u>>4&1),Nx:!!(u>>5&1),zt:!!(u>>6&1)}))}}}zo(c){if(!this.Sp.has(c)){var g=c.I(),m=this.KB.get(g);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),this.KB.set(g,m);this.xb&&a.Cka(c);c.gH();this.AB=!0;if(c.cc())for(const h of c.Nd)this.zo(h);for(const h of c.children())h.Ty()&&this.zo(h);this.cb.jO()||this.Lk||(g=this.na(),g.He(!0),c.Kda(),g.He(!1));c.Q9(this.cb.jO())}}$d(){this.AB&&(this.S9(),this.T9(),this.AB=!1,this.ea())}S9(){for(const c of this.cm){const g=c.I();g.Tg(c);for(const m of g.ai)m.Tg(c),
m.mv()}d.F(this.cm)}T9(){this.Yb.tr(!0);for(const [c,g]of this.KB.entries())this.U9(c,g),g.clear();this.KB.clear();this.Yb.tr(!1)}U9(c,g){for(const h of g){var m=this.Jp.instancedestroy;m.instance=h;this.Yb.dispatchEvent(m);this.Rp.delete(h.md);if(m=h.A())m.zS(),m.AS(),m.gH();this.Sp.add(h);this.jK--}d.zg(c.oa(),g);c.mv();this.LB.add(c);0===c.oa().length&&c.wH(!1);for(const h of c.ai)d.zg(h.oa(),g),h.mv(),this.LB.add(h);if(c.zb().Ef){c=new Set([...g].map(h=>h.A().ba()));for(const h of c)h.Mba(g)}}*IL(c){for(const g of this.cm)c.Xa?
g.I().YD(c)&&(yield g):g.I()===c&&(yield g)}k$(){return this.Nw++}vaa(c,g){this.Rp.set(c,g)}jv(){this.Yb.dispatchEvent(d.B(d.Event,"webglcontextlost"));this.Ku(!0);for(var c of this.bd)!c.Xa&&c.s1()&&c.$o();(c=this.Vb())&&c.jv();d.vz.jr();d.$N.jr()}async oH(){await this.Vb().cH(null,this.tl());this.Yb.dispatchEvent(d.B(d.Event,"webglcontextrestored"));this.Ku(!1);this.ea()}oba(c){this.Ku(c.hidden)}sba(c){this.gr()&&this.qV&&!d.Pb.Az&&!c.data.parentHasFocus&&(this.Ku(!0),this.DJ=!0)}tba(){this.DJ&&
(this.Ku(!1),this.DJ=!1)}BS(){const c=this.yfa;"vsync"===this.VI?-1===this.Ce&&(this.Ce=self.requestAnimationFrame(c.XW)):"unlimited-tick"===this.VI?(-1===this.tm&&(this.tm=d.MF(c.uha)),-1===this.Ce&&(this.Ce=self.requestAnimationFrame(c.dha))):-1===this.tm&&(this.tm=d.MF(c.XW))}p8(){-1!==this.Ce&&(self.cancelAnimationFrame(this.Ce),this.Ce=-1);-1!==this.tm&&(d.zY(this.tm),this.tm=-1)}Zm(){return 0<this.Ts}Ku(c){var g=this.Zm();this.Ts+=c?1:-1;0>this.Ts&&(this.Ts=0);c=this.Zm();!g&&c?(console.log("[Construct 3] Suspending"),
this.p8(),this.Yb.dispatchEvent(d.B(d.Event,"suspend")),this.pa(d.C.Qa.G.q4,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.Mp=this.jC=g=performance.now(),this.im=this.pC=this.tB=this.uB=0,this.Yb.dispatchEvent(d.B(d.Event,"resume")),this.pa(d.C.Qa.G.n4,null,null),this.hu()||this.se(g))}S7(c){this.un.Ic(c)}R7(c){this.tn.Ic(c)}Oba(c){this.un.Lh(c)}Nba(c){this.tn.Lh(c)}Pba(c){this.Bp.Lh(c)}g8(){this.un.Nh(!0);for(const c of this.un)c.se();this.un.Nh(!1)}f8(){this.tn.Nh(!0);for(const c of this.tn)c.EF();
this.tn.Nh(!1)}h8(){this.Bp.Nh(!0);for(const c of this.Bp);this.Bp.Nh(!1)}*L8(){this.un.Nh(!0);for(const c of this.un){const g=c.se();d.Xm(g)&&(yield*g)}this.un.Nh(!1)}*K8(){this.tn.Nh(!0);for(const c of this.tn){const g=c.EF();d.Xm(g)&&(yield*g)}this.tn.Nh(!1)}*M8(){this.Bp.Nh(!0);for(const c of this.Bp)d.Xm(void 0)&&(yield*void 0);this.Bp.Nh(!1)}async se(c,g,m){this.sU=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.BB&&(!this.Zm()||g||h)&&(g=performance.now(),this.TB=
!0,this.Baa(c||0),c=this.b7(),this.xe&&await c,c=this.Yb.ega(this.Jp.pretick),c instanceof Promise&&await c,c=this.a7(),this.xe&&await c,this.Haa()&&await this.y$(),this.cb.fr()&&await this.xaa(),c=this.c7(),this.xe&&await c,m&&this.cp(),this.Zm()||h||this.BS(),this.Uk++,this.ns++,this.TB=!1,this.im+=performance.now()-g)}async b7(){const c=this.ya,g=this.xb;this.$d();c.He(!0);this.su(this.Vb());g&&a.Fr();this.xe?await c.lZ():c.B5();g&&a.NX();this.ru();c.He(!1);this.$d();c.He(!0)}async a7(){const c=
this.xb,g=this.xe,m=this.Yb,h=this.Jp,l=this.aW;c&&a.Fr();g?await this.Gy(this.L8()):this.g8();g?await this.Gy(this.K8()):this.f8();c&&a.JX();c&&a.Fr();g?await this.VM(h.tick):m.dispatchEvent(h.tick);c&&a.SX();this.ya.He(!1);this.Ah(l.tick)}async c7(){const c=this.ya,g=this.Yb,m=this.Jp,h=this.xb,l=this.xe;h&&a.Fr();l?await c.jZ(this.cb):c.z5(this.cb);h&&a.NX();this.ig.GM();this.xS();this.zJ=!1;c.He(!0);h&&a.Fr();l?await this.Gy(this.M8()):this.h8();h&&a.JX();h&&a.Fr();l?await this.VM(m.tick2):g.dispatchEvent(m.tick2);
h&&a.SX();c.He(!1);l&&await c.tP()}xS(){if(0!==this.Sp.size){var c=this.Yb;c.tr(!0);for(const g of this.LB)g.Sn.bp(this.Sp);this.LB.clear();this.ya.f5(this.Sp);for(const g of this.Sp)g.m();this.Sp.clear();c.tr(!1)}}async xaa(){const c=this.cb;let g=0;for(;c.fr()&&10>g++;)await this.dR(c.Qw)}Baa(c){let g=0;0!==this.jC&&(g=Math.max(c-this.jC,0)/1E3,.5<g&&(g=0),this.Uv=Math.min(g,1/this.iV));this.jC=c;this.Tv=this.Uv*this.ke;this.ZI.Ic(this.Tv);this.$I.Ic(g*this.ke);this.jL.Ic(this.Uv);this.O&&this.O.Uda();
1E3<=c-this.Mp&&(this.Mp+=1E3,1E3<=c-this.Mp&&(this.Mp=c),this.tB=this.uB,this.uB=0,this.pC=Math.min(this.im/1E3,1),this.im=0,this.O&&this.O.Oda(),this.xb&&a.Xqa());this.uB++}async dR(c){const g=this.Yb,m=this.cb.Vb();await m.Fda();m.Nda(c,this.lb());m===c&&this.ya.wy();this.ig.GM();this.xS();g.dispatchEvent(this.Jp.beforelayoutchange);d.gl.MP(!0);await c.cH(m,this.lb());d.gl.MP(!1);await c.iT(!1);g.dispatchEvent(this.Jp.layoutchange);this.ea();this.zJ=!0;this.$d()}ea(){this.eK=!0}tl(){return this.O?
this.O.tl():null}Xq(){return this.O?this.O.Xq():null}lb(){return this.O?this.O.lb():null}cp(){const c=this.O;if(c&&!c.M2()){var g=this.lb(),m=g.sk(),h=m&&g.zl();m=m&&!1;h&&g.CY();if(this.eK){var l=this.cb.Vb();g.Nu();var n=this.xb;n&&a.Fr();this.eK=!1;var p=null;h&&(p=c.xB.VD(),g.qG(p));h=null;m&&(h=g.mqa(2*(1+l.ec.length)),g.M7(0));this.Am&&"low"===c.ci?g.f6(c.Vj(),c.Ji()):g.P5();this.Vba(this.lb(),l);p&&g.nE(p);m&&(g.M7(1),this.O.e8(h));g.Kt();n&&(a.$ha(),a.Yqa());c&&c.zaa()}else g.Q1()}}Vba(c,
g){c.rk();c.BP();c.wf(1,1,1,1);c.Og(null);c.eg(null);c.Ng(this.Am);g.Eg(c)}pa(c,g,m){if(!this.BB)return!1;var h=!this.TB&&!this.ya.pF();let l=0;h&&(l=performance.now());const n=this.xb;n&&this.Sz(!1);c=this.ya.qv(this.cb,c,g,m);h&&(h=performance.now()-l,this.im+=h,n&&a.cia(h));n&&this.Sz(!0);return c}async Pc(c,g,m){if(!this.xe)return this.pa(c,g,m);if(!this.BB)return!1;if(this.hu())return this.ya.X4(c,g,m);if(!this.Vb())return this.ya.IF(c,g,m);const h=performance.now();c=this.ya.Tu(this.cb,c,g,
m);for(g=c.next();!g.done;)await this.Lq(g.value),g=c.next();this.Zm()||this.ya.pF()||(await this.ya.tP(),this.sU&&!this.TB&&this.BS());this.im+=performance.now()-h;return g.value}su(c){this.Nv.push(c)}ru(){if(!this.Nv.length)throw Error("layout stack empty");this.Nv.pop()}Oa(){return this.Nv.length?this.Nv.me(-1):this.Vb()}Co(c){return c&&-1!==c.ke?this.Uv*c.ke:this.Tv}hG(c){if(isNaN(c)||0>c)c=0;this.ke=c}XP(c){this.iV=d.ia(c,1,120)}Do(){return this.ZI.$()}t0(){return this.$I.$()}SE(){return this.jL.$()}wl(){++this.ns}Xj(c){if(this.Lk)throw Error("cannot call while loading state - wait until afterload event");
return this.Rp.get(c)||null}vS(){this.Rp.clear();for(const c of this.bd)if(!c.Xa)for(const g of c.oa())this.Rp.set(g.md,g)}gr(){return"preview"===this.Ye}fO(){return"cordova"===this.Ye}x2(){return"Android"===d.Pb.Jh&&("cordova"===this.Ye||"playable-ad"===this.Ye||"instant-games"===this.Ye)}PE(){return this.On.PE()}v6(c){c=!!c;this.em!==c&&(this.em=c,this.cb.gp(),this.ea())}F5(c){this.Ww=c}j3(c){this.Fw=c}wF(c){this.As=c}Haa(){return!(!this.Ww&&!this.Fw&&null===this.As)}async y$(){this.Ww&&(this.$d(),
await this.p9(this.Ww),this.CG());this.Fw&&(await this.o9(this.Fw),this.CG(),this.xb&&a.oqa());if(null!==this.As){this.$d();try{await this.eR(this.As),this.bq=this.As,await this.Pc(d.C.Qa.G.QO,null),this.bq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Pc(d.C.Qa.G.RO,null)}this.CG()}}CG(){this.Fw=this.Ww="";this.As=null}p$(){this.rK||(this.rK=localforage.xL({name:"c3-localstorage-"+this.sK,description:this.FC}));return this.rK}HR(){this.zK||(this.zK=
localforage.xL({name:"c3-savegames-"+this.sK,description:this.FC}));return this.zK}async p9(c){const g=await this.Aca();try{await this.HR().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.bq=g,await this.Pc(d.C.Qa.G.o4,null),this.bq=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Pc(d.C.Qa.G.p4,null)}}async o9(c){try{const g=await this.HR().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
g.length+" chars)");await this.eR(g);this.bq=g;await this.Pc(d.C.Qa.G.QO,null);this.bq=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.Pc(d.C.Qa.G.RO,null)}}async Aca(){const c={c3save:!0,version:1,rt:{time:this.Do(),timeRaw:this.t0(),walltime:this.SE(),timescale:this.ke,tickcount:this.Uk,execcount:this.ns,next_uid:this.Nw,running_layout:this.Vb().jb,start_time_offset:Date.now()-this.Tn},types:{},layouts:{},events:this.ya.ka(),timelines:this.Ib.ka(),user_script_data:null};
for(var g of this.bd)g.Xa||g.XN()||(c.types[g.jb.toString()]=g.ka());for(const m of this.cb.gj)c.layouts[m.jb.toString()]=m.ka();g=this.HG("save");g.saveData=null;await this.Ao(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async eR(c){var g=this.cb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Yb.dispatchEvent(d.B(d.Event,"beforeload"));
for(var m of this.Efa())m.sA();this.Lk=!0;m=c.rt;this.ZI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.$I.Set(m.timeRaw);this.jL.Set(m.walltime);this.ke=m.timescale;this.Uk=m.tickcount;this.ns=m.execcount;this.Tn=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Vb().jb)if(h=g.IE(h))await this.dR(h);else return;for(const [l,n]of Object.entries(c.types))h=this.dz(parseInt(l,10)),!h||h.Xa||h.XN()||h.qa(n);this.$d();this.vS();this.Lk=!1;this.Nw=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=
g.IE(parseInt(l,10)))&&m.qa(n);this.ya.qa(c.events);for(const l of this.bd)if(!l.Xa&&l.cc())for(const n of l.oa()){m=n.Eo();for(const p of l.ah.om)if(p!==l){h=p.oa();if(0>m||m>=h.length)throw Error("missing sibling instance");n.Gr(h[m])}}this.Ib.qa(c.timelines);g.hp();g.gp();this.Yb.dispatchEvent(d.B(d.Event,"afterload"));g=this.HG("load");g.saveData=c.user_script_data;await this.Ao(g);this.ea()}async QX(c){c=(await Promise.all(c.map(g=>this.vd.jl(g)))).map(g=>URL.createObjectURL(g));this.yw.P1(c)}OX(){this.yw.J5()}PX(c){this.yw.K5(c)}SD(c,
g,m){return this.yw.SD(c,g,m)}fF(c,g){this.Bl("runtime","invoke-download",{url:c,filename:g})}async Y4(c){var g=g||2048;var m=m||2048;return this.ye?(await this.Vo("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}nr(){this.RT||(this.RT=!0,this.Bl("runtime","enable-device-orientation"))}bn(){this.QT||(this.QT=!0,this.Bl("runtime","enable-device-motion"))}lr(){return this.pfa()}q$(){const c=
this.tl();return{fps:this.tB,cpu:this.pC,gpu:this.Zy(),layout:this.Vb()?this.Vb().Da():"",renderer:c?c.dt:"<unavailable>"}}hu(){return this.xb?a.hu():!1}Lq(c){return this.xe?a.Lq(c):Promise.resolve()}yc(){return this.xe?a.zia():!1}Sz(c){c?this.DI--:this.DI++;this.Qda()}Qda(){this.xe=this.xb&&this.rea&&0===this.DI}hF(){return this.xb&&a.hF()}mF(){return this.xb&&this.lb().sk()&&a.mF()}async Gy(c){if(c)for(const g of c)await this.Lq(g)}VM(c){return this.Gy(this.Yb.fga(c))}rA(c){return this.ya.rA(c.name,
c.params)}HG(c){c=d.B(d.Event,c,!1);c.Pf=this.rj;return c}J$(){var c={};for(const g of this.bd)c[g.Ni()]={value:g.fw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.rj=new self.H1(this,c);this.aW={tick:this.HG("tick")}}F$(){const c={};for(const g of this.na().$H)c[g.Ni()]=g.IR();this.rj.G$(c)}bS(c,g){this.Oea.set(c,g)}};self.C3_CreateRuntime=d.uP.Ta;self.C3_InitRuntime=(c,g)=>c.Tm(g)}
{"use strict";const d=self.D;d.V2=class extends d.ja{constructor(a,b){super();this.j=a;this.Yp=new Map;this.ifa=0;this.iw=b.inputPort;b.outputPort.onmessage=e=>this.pS(e);this.bV=b.maxNumWorkers;this.zw=1;this.lU=this.lw=!1}async Tm(){}P1(a){this.iw.postMessage({type:"_import_scripts",scripts:a})}J5(){this.iw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}K5(a){this.iw.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}SD(a,b,e){e||(e=[]);const c=this.ifa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((g,m)=>{this.Yp.set(c,{resolve:g,progress:void 0,reject:m,vL:!1})});this.iw.postMessage(a,e);this.dS();return b}pS(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.bba(e,a.result);break;case "progress":this.aba(e,a.progress);break;case "error":this.$aa(e,a.error);break;case "ready":this.cba();break;default:throw Error(`unknown message from worker '${b}'`);}}bba(a,b){const e=this.Yp.get(a);if(!e)throw Error("invalid job ID");
e.vL||e.resolve(b);this.Yp.delete(a)}aba(a,b){a=this.Yp.get(a);if(!a)throw Error("invalid job ID");!a.vL&&a.progress&&a.progress(b)}$aa(a,b){const e=this.Yp.get(a);if(!e)throw Error("invalid job ID");e.vL||e.reject(b);this.Yp.delete(a)}cba(){this.lw&&(this.lw=!1,this.zw++,this.zw<this.bV?this.dS():this.iw.postMessage({type:"_no_more_workers"}))}async dS(){if(!(this.zw>=this.bV||this.lw||this.lU||this.Yp.size<=this.zw))try{this.lw=!0,(await this.j.Vo("runtime","create-job-worker")).outputPort.onmessage=
a=>this.pS(a)}catch(a){this.lU=!0,this.lw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.zw} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.D;let a=null,b="",e="",c=[],g="",m="",h="";const l=d.B(d.dY);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.C.Qa=class extends d.cn{constructor(p){super(p);this.Gf=this.j.na().Gf;this.Md=this.j.na().rd();this.gw=this.Pp=0;this.fU=new Map}m(){super.m()}ea(){this.j.ea()}pa(p){this.j.pa(p,null,null)}iz(p,q){a&&p===b&&q===e||(a=new RegExp(p,q),b=p,e=q);a.lastIndex=0;return a}HN(p,q,u){if(p===g&&q===
m&&u===h)return c;const w=this.iz(q,u);c=p.match(w);g=p;m=q;h=u;return c}async eH(p,q){if(q.length){this.Pp+=q.length;var u=[];for(const w of q)u.push(p.BO(w));await d.P4(u,()=>{this.gw++});this.gw++;this.gw===this.Pp&&(this.j.pa(d.C.Qa.G.W3,null,null),this.Pp=this.gw=0)}}nT(p,q){for(const u of q)0===u.H.length&&p.u3(u)}zR(){return l}Xba(p){var q=this.j.na();const u=q.rd(),w=u.Ke(),r=w.Jb(),v=r.Id();var y=w.ik();const A=u.Ua(r),G=q.Gf,z=G.Ua();if(y)for(y=0;y<p&&!z.Dc;++y)q.Qe(v),z.Nc(y),r.Lg(w,A),
q.Qb(v);else for(q=0;q<p&&!z.Dc;++q)z.Nc(q),r.Lg(w,A);u.Pa();G.Pa();return!1}*T8(p){var q=this.j.na();const u=q.rd(),w=u.Ke(),r=w.Jb(),v=r.Id();var y=w.ik();const A=u.Ua(r),G=q.Gf,z=G.Ua();if(y)for(y=0;y<p&&!z.Dc;++y)q.Qe(v),z.Nc(y),yield*r.Dg(w,A),q.Qb(v);else for(q=0;q<p&&!z.Dc;++q)z.Nc(q),yield*r.Dg(w,A);u.Pa();G.Pa();return!1}$da(){var p=this.j.na();const q=p.rd(),u=q.Ke(),w=u.Jb(),r=w.Id();var v=u.ik();const y=q.Ua(w),A=p.Gf,G=A.Ua();if(v)for(v=0;!G.Dc;++v)p.Qe(r),G.Nc(v),w.Lg(u,y)||G.Se(),p.Qb(r);
else for(p=0;!G.Dc;++p)G.Nc(p),w.Lg(u,y)||G.Se();q.Pa();A.Pa();return!1}*m9(){var p=this.j.na();const q=p.rd(),u=q.Ke(),w=u.Jb(),r=w.Id();var v=u.ik();const y=q.Ua(w),A=p.Gf,G=A.Ua();if(v)for(v=0;!G.Dc;++v)p.Qe(r),G.Nc(v),(yield*w.Dg(u,y))||G.Se(),p.Qb(r);else for(p=0;!G.Dc;++p)G.Nc(p),(yield*w.Dg(u,y))||G.Se();q.Pa();A.Pa();return!1}V9(p,q,u){var w=this.j.na();const r=w.rd(),v=r.Ke(),y=v.Jb(),A=y.Id(),G=v.ik(),z=r.Ua(y),F=w.Gf,H=F.Ua();H.Wz(p);if(u<q)if(G)for(p=q;p>=u&&!H.Dc;--p)w.Qe(A),H.Nc(p),
y.Lg(v,z),w.Qb(A);else for(w=q;w>=u&&!H.Dc;--w)H.Nc(w),y.Lg(v,z);else if(G)for(p=q;p<=u&&!H.Dc;++p)w.Qe(A),H.Nc(p),y.Lg(v,z),w.Qb(A);else for(w=q;w<=u&&!H.Dc;++w)H.Nc(w),y.Lg(v,z);r.Pa();F.Pa();return!1}*P8(p,q,u){var w=this.j.na();const r=w.rd(),v=r.Ke(),y=v.Jb(),A=y.Id(),G=v.ik(),z=r.Ua(y),F=w.Gf,H=F.Ua();H.Wz(p);if(u<q)if(G)for(p=q;p>=u&&!H.Dc;--p)w.Qe(A),H.Nc(p),yield*y.Dg(v,z),w.Qb(A);else for(w=q;w>=u&&!H.Dc;--w)H.Nc(w),yield*y.Dg(v,z);else if(G)for(p=q;p<=u&&!H.Dc;++p)w.Qe(A),H.Nc(p),yield*y.Dg(v,
z),w.Qb(A);else for(w=q;w<=u&&!H.Dc;++w)H.Nc(w),yield*y.Dg(v,z);r.Pa();F.Pa();return!1}W9(p){var q=this.j.na();const u=q.rd(),w=u.Ke(),r=w.Jb(),v=r.Id();var y=w.ik();const A=u.Ua(r),G=q.Gf,z=G.Ua(),F=p.cc(),H=p.S(),J=l.Ua();d.Xc(J,H.oa());if(y)for(let L=0,P=J.length;L<P&&!z.Dc;++L)q.Qe(v),y=J[L],p.S().qk(y),F&&y.Yi(),z.Nc(L),r.Lg(w,A),q.Qb(v);else{H.te(!1);p=H.H;d.F(p);p.push(null);for(let L=0,P=J.length;L<P&&!z.Dc;++L)q=J[L],p[0]=q,F&&q.Yi(),z.Nc(L),r.Lg(w,A)}u.Pa();G.Pa();d.F(J);l.Pa();return!1}*Q8(p){var q=
this.j.na();const u=q.rd(),w=u.Ke(),r=w.Jb(),v=r.Id();var y=w.ik();const A=u.Ua(r),G=q.Gf,z=G.Ua(),F=p.cc(),H=p.S(),J=l.Ua();d.Xc(J,H.oa());if(y)for(let L=0,P=J.length;L<P&&!z.Dc;++L)q.Qe(v),y=J[L],p.S().qk(y),F&&y.Yi(),z.Nc(L),yield*r.Dg(w,A),q.Qb(v);else{H.te(!1);p=H.H;d.F(p);p.push(null);for(let L=0,P=J.length;L<P&&!z.Dc;++L)q=J[L],p[0]=q,F&&q.Yi(),z.Nc(L),yield*r.Dg(w,A)}u.Pa();G.Pa();d.F(J);l.Pa();return!1}X9(p,q){var u=this.j.na();const w=u.rd(),r=u.Rf(),v=w.Ke(),y=v.Jb(),A=y.Id(),G=v.ik(),
z=w.Ua(y),F=u.Gf,H=F.Ua(),J=p.cc(),L=p.S(),P=l.Ua();d.F(P);const R=L.oa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.uu(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Dc;++T)u.Qe(A),q=P[T][0],p.S().qk(q),J&&q.Yi(),H.Nc(T),y.Lg(v,z),u.Qb(A);else{L.te(!1);p=L.H;d.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Dc;++T)u=P[T][0],p[0]=u,J&&u.Yi(),H.Nc(T),y.Lg(v,z)}w.Pa();F.Pa();d.F(P);l.Pa();return!1}*S8(p,q){var u=this.j.na();const w=u.rd(),r=u.Rf(),v=w.Ke(),y=v.Jb(),A=y.Id(),
G=v.ik(),z=w.Ua(y),F=u.Gf,H=F.Ua(),J=p.cc(),L=p.S(),P=l.Ua();d.F(P);const R=L.oa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.uu(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.Dc;++T)u.Qe(A),q=P[T][0],p.S().qk(q),J&&q.Yi(),H.Nc(T),yield*y.Dg(v,z),u.Qb(A);else{L.te(!1);p=L.H;d.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.Dc;++T)u=P[T][0],p[0]=u,J&&u.Yi(),H.Nc(T),yield*y.Dg(v,z)}w.Pa();F.Pa();d.F(P);l.Pa();return!1}nA(p,q){let u=this.fU.get(p);if(u)return u;if(!q)return null;
u={lo:null,KD:new Map};this.fU.set(p,u);return u}n9(p,q,u,w,r){q.Me().y5(u);w&&p.Qb(r)}*N8(p,q,u,w,r){yield*q.Me().iZ(u);w&&p.Qb(r)}}}{"use strict";const d=self.D;d.C.Qa.Zi=class extends d.ja{constructor(a){super();this.L=a;this.j=a.J();this.mi=a.zb()}$c(){}m(){this.mi=this.j=this.L=null}}}{"use strict";const d=self.D;d.C.Qa.Instance=class extends d.ja{constructor(a){super();this.M=a;this.L=this.M.I();this.Wc=this.L.Wc;this.j=this.M.J()}m(){this.j=this.Wc=this.L=this.M=null}}}
{"use strict";const d=self.D,a=[];d.C.Qa.G={Ija(){return!0},PO(){return!0},Y3(){return!0},q4(){return!0},n4(){return!0},Zm(){return this.j.Zm()},dN(){const b=this.j.pf();return b.KI?!1:!b.Zp},m7(){const b=this.j.Rf().Pi();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.j.Uk;b.set("TriggerOnce_lastTick",c);return this.j.zJ||e!==c-1},E_(b){const e=this.j.Rf().Pi(),c=e.get("Every_lastTime")||0,g=this.j.Do();e.has("Every_seconds")||e.set("Every_seconds",
b);const m=e.get("Every_seconds");if(g>=c+m)return e.set("Every_lastTime",c+m),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",b),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},dr(b){return(b=this.j.na().vN(b))&&b.dr()},gr(){return this.j.gr()},Az(){return d.Pb.Az},b4(){return!0},M3(){return!0},Dja(){return!0},o4(){return!0},p4(){return!0},QO(){return!0},RO(){return!0},rma(b){return!!this.j.Xj(b)},mla(b){switch(b){case 0:return"browser"===d.Pb.fE;case 1:return"iOS"===
d.Pb.Jh;case 2:return"Android"===d.Pb.Jh;case 8:return"cordova"===d.Pb.fE;case 9:return"scirra-arcade"===this.j.Ye;case 10:return"nwjs"===d.Pb.fE;case 13:return"windows-uwp"===this.j.Ye;default:return!1}},xna(b,e,c){return this.iz(e,c).test(b)},MY(b,e,c){return d.compare(b,e,c)},Via(b,e,c){return b>=e&&b<=c},eja(b,e,c){return d.compare(b.Bb(),e,c)},NY(b){return!!b.Bb()},aja(b,e){const c=this.j.Do();return 0===b?(b=this.j.Rf().Pi(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},ela(b){return isNaN(b)},YX(b,e,c){return d.Dq(d.kb(b),d.kb(c))<=d.kb(e)},B2(b,e){return d.hf(d.kb(b),d.kb(e))},A2(b,e,c){b=d.kb(b);e=d.kb(e);c=d.kb(c);return d.hf(c,e)?d.hf(b,e)&&!d.hf(b,c):!(!d.hf(b,e)&&d.hf(b,c))},xla(b,e){return"number"===typeof b?0===e:1===e},Hja(b){return!!b},Qma(b,e,c,g){if(!b)return!1;const m=this.zR(),h=m.Ua(),l=b.S();d.Xc(h,l.oa());l.$b&&d.F(l.hc);const n=this.j.Rf();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;e=n.uu(1,q);g=n.uu(3,
q);d.compare(e,c,g)?++p:l.Ll(w)}d.kf(h,p);l.yu(h);e=!!h.length;d.F(h);m.Pa();b.kc();return e},Rma(b,e){if(!b)return!1;const c=this.zR(),g=c.Ua(),m=b.S();d.Xc(g,m.oa());m.$b&&d.F(m.hc);const h=this.j.Rf();let l=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[l]=q;(e=h.uu(1,n))?++l:m.Ll(q)}d.kf(g,l);m.yu(g);e=!!g.length;d.F(g);c.Pa();b.kc();return e},Vma(b,e){if(!b)return!1;const c=b.S(),g=c.oa();e=Math.floor(e);if(e>=g.length)return!1;c.an(g[e]);b.kc();return!0},Zma(b){if(!b)return!1;const e=b.S(),
c=e.oa(),g=Math.floor(this.j.lr()*c.length);if(g>=c.length)return!1;e.an(c[g]);b.kc();return!0},C4(b){if(!b||!b.H.length)return!1;b.S().te(!0);b.kc();return!0},Xma(b,e,c){if(!b)return!1;const g=b.S();var m=g.oa();const h=this.j.Jb().Vd,l=this.j.Rf().uj;g.$b?(d.Xc(a,m),g.xy(),g.te(!1)):h?(d.Xc(a,g.hc),d.F(g.hc)):(d.Xc(a,g.H),d.F(g.H));for(let n=0,p=a.length;n<p;++n)m=a[n],d.xor(m.A().Et(e,c),l)?g.sp(m):g.Ll(m);b.kc();return d.xor(!!g.H.length,l)},Uma(b){if(!b)return!1;var e=b.Xa;let c=null;const g=
this.j.cm;for(let m=g.length-1;0<=m;--m){const h=g[m];if(e){if(h.I().YD(b)){c=h;break}}else if(h.I()===b){c=h;break}}c||(e=b.oa(),e.length&&(c=e.me(-1)));if(!c)return!1;b.S().an(c);b.kc();return!0},Ena(b){return this.j.xe?this.T8(b):this.Xba(b)},ora(){return this.j.xe?this.m9():this.$da()},N_(b,e,c){return this.j.xe?this.P8(b,e,c):this.V9(b,e,c)},lN(b){return this.j.xe?this.Q8(b):this.W9(b)},Sja(b,e,c){return this.j.xe?this.S8(b,c):this.X9(b,c)},Kla(b){return b?b.Lc():!1},Ila(b){return b?!b.H.length:
!1},Hla(b,e,c){return b?d.compare(100*b.Oe(),e,c):!1},W3(){return!0},Zka(){return 0<this.Pp}}}
{"use strict";const d=self.D;function a(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const e=[],c=[],g=d.B(d.Rect),m=d.B(d.eb);d.C.Qa.pb={N6(h,l){h.re(l)},dia(h,l){h.Ym()&&"number"!==typeof l&&(l=parseFloat(l));h.re(h.Bb()+l)},Dqa(h,l){h.Ym()&&h.re(h.Bb()-l)},U5(h,l){h.re(!!l)},Iqa(h){h.re(!h.Bb())},toa(){this.j.na().o5()},SM(h,l,n,p,q){h&&l&&(n=this.j.hE(h,l,n,p,q))&&(q&&l.mG(n),l=this.j.na(),l.He(!0),n.GA(),l.He(!1),h.S().qk(n),n.cc()&&n.Yi())},sja(h,l,n,p,q){h&&
l&&(h=this.j.cz(h))&&d.C.Qa.pb.SM.call(this,h,l,n,p,q)},tu(h,l,n,p,q,u,w,r,v,y){if(h){var A=this.j.Oa();if(u&&(A=this.j.cb.Rq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ba(w),!u)return;g.set(l,n,p,q);l=A.tu(h,g,u,r,v,y);h.S().yu(l);h.kc()}},qqa(){const h=this.Gf;h.lO()&&h.Pq().Se()},xr(h,l){(h=this.j.na().vN(h))&&(0===l?h.xr(!1):1===l?h.xr(!0):h.xr(!h.dr()))},Tpa(h){this.j.hG(h)},Ppa(h,l){0>l&&(l=0);if(h){h=h.S().oa();for(const n of h)n.hG(l)}},xoa(h){if(h){h=h.S().oa();for(const l of h)l.v5()}},
wG(h){if(!(0>h))return this.j.na().TD().s2(h),!0},ira(h){this.j.na().TD().q2(h);return!0},hra(){const h=this.j.na();h.TD().e2(h.U0());return!0},aqa(h){h=h.toLowerCase();for(const l of this.j.na().rg)l.P2()&&l.cx===h&&l.eG()},async jQ(h,l,n,p,q,u){const w=this.j.O;w&&(this.ea(),await w.jQ(0===h?"image/png":"image/jpeg",l/100,n,p,q,u),await this.j.Pc(d.C.Qa.G.M3,null))},Xoa(h,l){if(!(0>=h||0>=l)){this.j.Mu(h,l);var n=this.j.Oa();n.qy();for(const p of n.ec)p.vG();if(n=this.j.O)"off"!==n.Ut()&&this.j.s6(h,
l),n.ud(n.Gj,n.Fj,!0),this.j.ea()}},kpa(h){const l=this.j.O;l&&"off"!==l.Ut()&&(l.LP(0!==h?"high":"low"),l.ud(l.Gj,l.Fj,!0))},fp(h){this.j.F5(h)},Ola(h){this.j.j3(h)},Pla(h){this.j.wF(h)},npa(){},uoa(){for(const h of this.j.cb.gj)h.t5()},Qpa(h){this.j.v6(0!==h)},XP(h){this.j.XP(h)},iqa(h,l){if(h){var n=h.S().oa(),p=this.j.Oa(),q=h.Xa;h=h.eh;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.A();if(!v)continue;let y;y=q?u.Ne(l+u.I().DE(h)):u.Ne(l);e.push([v.ba().La(),v.fk()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.$y(e[w][0]),h=e[w][1],u=q.H,u[h]!==n&&(u[h]=n,n.A().nv(q),q.Rg(),l=!0);l&&this.j.ea();d.F(e);d.F(c)}}},eka(h){if(!this.j.Kk){var l=this.j.cb;l.fr()||l.vy(h)}},fka(h){if(!this.j.Kk){var l=this.j.cb;l.fr()||(h=l.Rq(h))&&l.vy(h)}},lma(h){if(!this.j.Kk){var l=this.j.cb;if(!l.fr()){var n=l.gj,p=n.indexOf(l.Vb());h&&0===p||(h||p!==n.length-1)&&l.vy(n[p+(h?-1:1)])}}},voa(){if(!this.j.Kk){var h=this.j.cb;h.fr()||(h.vy(h.Vb()),this.j.na().p5())}},
Cpa(h,l){h&&h.Pg(l)},wpa(h,l){h&&h.El(l/100)},ypa(h,l){h&&h.ZP(l)},zpa(h,l){h&&h.y6(l)},qpa(h,l){h&&h.Bc(d.kb(+l))},Apa(h,l,n){h&&(h.Gu(!0),h.Wi(l),h.Xi(n))},woa(h){h&&h.Gu(!1)},xpa(h,l,n){h&&h.t6(l/100,n/100)},Dpa(h,l){h&&h.xf(+l)},rpa(h,l){h&&(m.tt(l),m.ia(),h=h.Pl,h.Em(m)||(h.Ij(m),this.ea()))},Bpa(h,l){h&&h.J6(l)},spa(h,l){h&&h.bg(l)},tpa(h,l,n){h&&(n=h.Ra.ll(n))&&(l=1===l,n.Lb!==l&&(n.Qz(l),h.Rh(),this.j.ea()))},upa(h,l,n,p){if(h&&(h=h.Ra,l=h.ll(l))&&(h=h.kl(l.La()),n=Math.floor(n),!(0>n||n>=
h.length))){var q=l.Xf().ez(n);if("color"===q){m.tt(p);n=h[n];if(m.Em(n))return;n.Ij(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}l.Lb&&this.j.ea()}},vpa(h,l){h&&h.h6(l)},Ipa(h){this.j.Oa().cG(+h)},Epa(h){this.j.Oa().Bc(d.kb(+h))},Fpa(h,l){const n=this.j.Oa();if(l=n.Ra.ll(l))h=1===h,l.Lb!==h&&(l.Qz(h),n.Rh(),this.j.ea())},Gpa(h,l,n){var p=this.j.Oa().Ra;if(h=p.ll(h))if(p=p.kl(h.La()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Xf().ez(l);if("color"===q){m.tt(n);l=p[l];if(m.Em(l))return;
l.Ij(m)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}h.Lb&&this.j.ea()}},Jpa(h,l){this.j.Oa().M6(h/100,l/100)},Hpa(h){const l=this.j.Oa();0===h?l.aQ():l.YP()},Noa(h){this.j.Oa().Wi(h)},Ooa(h){this.j.Oa().Xi(h)},Loa(h,l){const n=this.j.Oa();n.Wi(h);n.Xi(l)},Moa(h){if(h&&(h=h.EE())&&(h=h.A())){var l=this.j.Oa();l.Wi(h.ca());l.Xi(h.da())}},async l3(h){const l=this.j.Vb();l&&h&&!this.j.Kk&&await this.eH(l,h.Xa?h.Kp:[h])},async Nla(h){await d.C.Qa.pb.l3.call(this,this.j.cz(h))},p7(h){const l=
this.j.Vb();l&&h&&this.nT(l,h.Xa?h.Kp:[h])},Uqa(h){d.C.Qa.pb.p7.call(this,this.j.cz(h))},Vqa(){const h=this.j.Vb();if(h){var l=h.x$();this.nT(h,l)}},async Lla(h){const l=this.j.Vb();h&&l&&!this.j.Kk&&await this.eH(l,h.AR())},async Mla(h){const l=this.j.Vb();(h=this.j.cb.Rq(h))&&l&&!this.j.Kk&&await this.eH(l,h.AR())},Eu(h){const l=this.Md.b0();if(l)switch(l.gU){case 1:"number"===typeof h&&l.Eu(h);break;case 2:"string"===typeof h&&l.Eu(h);break;case 3:l.Eu(h)}},Ula(h,l,n){var p=this.nA(h.toLowerCase(),
!0);const q=p.KD,u=l.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(q.values())||p.lo)&&0!==p.rm!==(0!==n.rm)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Vla(h,l){const n=this.nA(h.toLowerCase(),!0);n.lo&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
d.first(n.KD.values())||n.lo;p&&0!==p.rm!==(0!==l.rm)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.lo=l},Dia(h,l,n){n=Math.floor(n);var p=this.nA(h.toLowerCase(),!1);if(p){var q=p.KD.get(l.toLowerCase());if(!q)if(p.lo)q=p.lo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.xl())if(0!==
q.rm)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.j;l=h.na();var u=l.Jb();p=u.Jd();var w=0<p.length;w&&l.Kg(p);var r=[];if(u=l.pE(u)){u=u.gh;for(let v=n,y=u.length;v<y;++v)r.push(u[v].Bb())}n=q.gh;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].Qp);return h.xe?this.N8(l,q,r,w,p):this.n9(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.C.Qa.ib={Usa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},jga:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Im(a){return a.toString()},Wx(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.j.lr()*a:this.j.lr()*(b-a)+a},Rfa(...a){return a[Math.floor(this.j.lr()*a.length)]},Rta(){return Math.PI},Ssa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},rua(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.kb(a))},cos(a){return Math.cos(d.kb(a))},tan(a){return Math.tan(d.kb(a))},asin(a){return d.jf(Math.asin(a))},acos(a){return d.jf(Math.acos(a))},atan(a){return d.jf(Math.atan(a))},exp(a){return Math.exp(a)},Kga(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b>g&&(b=g)}return b},ia(a,b,e){return d.ia(a,b,e)},Ox(a,b,e,c){return d.Ag(a,b,e,c)},angle(a,b,e,c){return d.jf(d.Hj(a,b,e,c))},Zd(a,b,e){return d.Zd(a,b,e)},At(a,b,e){return d.At(a,b,e)},FD(a,b,e,c){return d.FD(a,b,e,c)},xW(a,b,e,c,g){return d.xW(a,
b,e,c,g)},wW(a,b,e){return d.wW(a,b,e)},Dra(a,b){return d.jf(d.Dq(d.kb(a),d.kb(b)))},Era(a,b,e){return d.jf(d.oL(d.kb(a),d.kb(b),e))},Fra(a,b,e){return d.jf(d.pL(d.kb(a),d.kb(b),d.kb(e)))},Dua(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Qua(a,b){return(a|0)^1<<(b|0)},Lsa(a,b){return(a|0)&1<<(b|0)?1:0},Ata(){return"\n"},Vua(a){return"string"===typeof a?a.toUpperCase():""},rta(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},xha(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},yha(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Ht(b),"i")):-1},lsa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(d.Ht(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.Ht(b),"gi"),e):"string"===typeof a?a:""},cua(a,b,e){b=this.iz(b,e);return a?a.search(b):-1},bua(a,b,e,c){b=this.iz(b,e);return a?a.replace(b,c):""},aua(a,b,e){return(a=this.HN(a.toString(),b,e))?a.length:0},$ta(a,b,e,c){c=Math.floor(c);a=this.HN(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},Jha(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},Xua(a){return encodeURIComponent(a)},Wua(a){return decodeURIComponent(a)},DW(){return this.j.Tv},Oua(){return this.j.ke},gva(){return(Date.now()-this.j.Tn)/1E3},Tua(){return Date.now()},time(){return this.j.Do()},Nua(){return this.j.Uk},Gta(){return this.j.jK},osa(){return this.j.tB},Wra(){return this.j.pC},Nsa(){return this.j.Zy()},jva(){return this.j.O.$g},iva(){return this.j.O.Zg},Lta(){return this.j.mh},Kta(){return this.j.lh},
Jta(){return this.j.mh},Ita(){return this.j.lh},uua(){return this.j.Oa().Vf()},vua(){return this.j.Oa().Wf()},mta(){return this.j.Oa().Da()},nta(){return this.j.Oa().Fd},lta(){return d.jf(this.j.Oa().Ha())},ota(){return this.j.Oa().fa()},Hga(){return this.j.Oa().aa()},cva(a){return(a=this.j.Oa().ba(a))?a.ho.Z:0},eva(a){return(a=this.j.Oa().ba(a))?a.ho.V:0},dva(a){return(a=this.j.Oa().ba(a))?a.ho.la:0},ava(a){return(a=this.j.Oa().ba(a))?a.ho.ga:0},fva(a){return(a=this.j.Oa().ba(a))?a.ho.width():0},
bva(a){return(a=this.j.Oa().ba(a))?a.ho.height():0},Qra(a,b,e){return(a=this.j.Oa().ba(a))?a.yh(b,e)[0]:0},Rra(a,b,e){return(a=this.j.Oa().ba(a))?a.yh(b,e)[1]:0},ita(a,b,e){return(a=this.j.Oa().ba(a))?a.Uo(b,e)[0]:0},jta(a,b,e){return(a=this.j.Oa().ba(a))?a.Uo(b,e)[1]:0},eta(a){return(a=this.j.Oa().ba(a))?a.Fd:0},$sa(a){return(a=this.j.Oa().ba(a))?d.jf(a.ve):0},bta(a){return(a=this.j.Oa().ba(a))?100*a.Oe():0},fta(a){return(a=this.j.Oa().ba(a))?a.Bj:0},gta(a){return(a=this.j.Oa().ba(a))?a.Vf():0},
hta(a){return(a=this.j.Oa().ba(a))?a.Wf():0},cta(a){return(a=this.j.Oa().ba(a))?100*a.ge:0},dta(a){return(a=this.j.Oa().ba(a))?100*a.he:0},kta(a){return(a=this.j.Oa().ba(a))?a.fb():0},ata(a){return(a=this.j.Oa().ba(a))?a.La():-1},Pra(){const a=this.j.O;return a?a.EK:""},Mga(a){const b=this.Gf;return b.lO()?a?(a=b.J_(a))?a.La():0:b.Pq().La():0},sua(){return this.j.bq},Nra(a,b,...e){var c=this.nA(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var g=c.KD.get(b.toLowerCase());if(!g)if(c.lo)g=c.lo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.rm;const m=g.Vt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.xl())return m;a=this.j.na();b=a.Jb().Jd();const h=0<b.length;h&&a.Kg(b);const l=g.gh;for(let n=
e.length,p=l.length;n<p;++n)e.push(l[n].Qp);g=g.Me();e=g.QF(g.Jd(),c,m,...e);h&&a.Qb(b);return e},qta(){return this.j.vd.hC},Qsa(){return 0===this.Pp?1:this.gw/this.Pp},qo(){return this.j.Xq()?"webgpu":"webgl"},fua(){return this.j.Xq()?"<unavailable>":this.j.tl().dt},Rsa(){let a=this.j.lb().f0();return Math.round(100*a/1048576)/100},gua(a,b,e){return d.z4(a,b,e)},jua(a,b,e){return d.ZO(a/100,b/100,e/100)},hua(a,b,e,c){return d.Hz(a/100,b/100,e/100,c/100)},kua(a,b,e){return d.ZO(a/255,b/255,e/255)},
iua(a,b,e,c){return d.Hz(a/255,b/255,e/255,c/255)},Yga(){return this.j.FC},Zga(){return this.j.vV},Zra(){return this.j.Jb().gd.Da()},Yra(){return this.j.Jb().gs}}}{"use strict";const d=self.D;d.C.Touch=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.D,a=self.mf;d.C.Touch.Zi=class extends d.ep{constructor(e){super(e)}m(){super.m()}$c(){}Ih(){return self.M1}};let b=null;self.M1=class extends self.bF{constructor(e){super(e);b=e;e.J().Kv.lM=this}requestPermission(e){a.Qd(e);const c=b.Qi().ma;if("orientation"===e)return c.pH(0);if("motion"===e)return c.pH(1);throw Error("invalid type");}}}
{"use strict";const d=self.D;d.C.Touch.Instance=class extends d.pr{constructor(a,b){super(a,"touch");this.yd=new Map;this.VB=this.ZV=!1;this.wB=this.Yh=this.Xh=this.VK=this.cD=this.$s=this.SH=this.RH=this.QH=this.VH=this.UH=this.TH=this.mK=this.lK=this.kK=this.vC=0;this.zC=[];b&&(this.ZV=b[0]);this.RD("permission-result",e=>this.fba(e));a=this.J().Ob();this.Cd=new d.Dt(d.Jc.Hd(a,"pointerdown",e=>this.gba(e.data)),d.Jc.Hd(a,"pointermove",e=>this.hba(e.data)),d.Jc.Hd(a,"pointerup",e=>this.rS(e.data,
!1)),d.Jc.Hd(a,"pointercancel",e=>this.rS(e.data,!0)),d.Jc.Hd(a,"deviceorientation",e=>this.Saa(e.data)),d.Jc.Hd(a,"deviceorientationabsolute",e=>this.Taa(e.data)),d.Jc.Hd(a,"devicemotion",e=>this.Raa(e.data)),d.Jc.Hd(a,"tick2",()=>this.nH()))}m(){this.yd.clear();super.m()}gba(a){if("mouse"===a.pointerType)if(this.ZV)this.VB=!0;else return;const b=a.pointerId;if(!this.yd.has(b)){var e=a.pageX-this.j.Rt();a=a.pageY-this.j.St();var c=performance.now(),g=this.yd.size;this.$s=g;this.cD=b;var m=d.B(d.C.Touch.i7);
m.Tm(c,e,a,b,g);this.yd.set(b,m);this.pa(d.C.Touch.G.e4);this.pa(d.C.Touch.G.VO);this.Xh=e;this.Yh=a;this.pa(d.C.Touch.G.s4)}}hba(a){if("mouse"!==a.pointerType||this.VB){var b=this.yd.get(a.pointerId);if(b){var e=performance.now();2>e-b.Fa()||b.Gl(e,a.pageX-this.j.Rt(),a.pageY-this.j.St(),a.width,a.height,a.pressure)}}}rS(a,b){if("mouse"===a.pointerType)if(this.VB)this.VB=!1;else return;const e=performance.now();a=a.pointerId;const c=this.yd.get(a);c&&(this.$s=c.Fe,this.cD=c.Wj(),this.pa(d.C.Touch.G.d4),
this.pa(d.C.Touch.G.UO),b||(b=c.T6(e),"single-tap"===b?(this.pa(d.C.Touch.G.r4),this.Xh=c.ca(),this.Yh=c.da(),this.pa(d.C.Touch.G.TO)):"double-tap"===b&&(this.pa(d.C.Touch.G.R3),this.Xh=c.ca(),this.Yh=c.da(),this.pa(d.C.Touch.G.MO))),c.m(),this.yd.delete(a))}pH(a){this.dj("request-permission",{type:a});return new Promise((b,e)=>{this.zC.push({type:a,resolve:b,reject:e})})}fba(a){const b=a.result,e=a.type;this.VK=e;a=this.zC.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.zC=
this.zC.filter(c=>c.type!==e);b?(this.pa(d.C.Touch.G.l4),0===e?this.j.nr():this.j.bn()):this.pa(d.C.Touch.G.k4)}Saa(a){"number"===typeof a.webkitCompassHeading?this.vC=a.webkitCompassHeading:a.absolute&&(this.vC=a.alpha);this.kK=a.alpha;this.lK=a.beta;this.mK=a.gamma}Taa(a){this.vC=a.alpha}Raa(a){const b=a.acceleration;b&&(this.TH=b.x,this.UH=b.y,this.VH=b.z);if(a=a.accelerationIncludingGravity)this.QH=a.x,this.RH=a.y,this.SH=a.z}nH(){const a=performance.now();let b=0;for(const e of this.yd.values())e.Fa()<=
a-50&&e.jda(a),e.S6(a)&&(this.$s=e.Fe,this.cD=e.Wj(),this.wB=b,this.pa(d.C.Touch.G.U3),this.Xh=e.ca(),this.Yh=e.da(),this.pa(d.C.Touch.G.V3),this.wB=0),++b}cj(a){a=Math.floor(a);for(const b of this.yd.values()){if(0===a)return b;--a}return null}Yu(a,b){return 0<=a&&0<=b&&a<this.j.Z_()&&b<this.j.Y_()}}}
{"use strict";const d=self.D,a=[];d.C.Touch.G={VO(){return!0},UO(){return!0},G2(){return 0<this.yd.size},s4(b){return b&&this.Yu(this.Xh,this.Yh)?this.j.ig.Yz(b,this.Xh,this.Yh):!1},S2(b){if(!b)return!1;const e=b.S();var c=e.oa();for(const g of c){c=g.A();const m=c.ba();for(const h of this.yd.values()){if(!this.Yu(h.ca(),h.da()))continue;const [l,n]=m.yh(h.ca(),h.da(),c.tf());if(c.Et(l,n)){a.push(g);break}}}return a.length?(e.yu(a),b.kc(),d.F(a),!0):!1},bja(b,e,c){return(b=this.cj(b))?d.compare(b.rl(),
e,c):!1},Hma(){return!0},dma(){return!0},$ia(b,e,c){this.j.nr();return d.compare(0===b?this.kK:1===b?this.lK:this.mK,e,c)},Tia(b,e,c){this.j.bn();return d.compare(0===b?this.QH:1===b?this.RH:2===b?this.SH:3===b?this.TH:4===b?this.UH:this.VH,e,c)},e4(b){b=Math.floor(b);return b===this.$s},d4(b){b=Math.floor(b);return b===this.$s},mka(b){b=Math.floor(b);return this.yd.size>=b+1},U3(){return!0},r4(){return!0},R3(){return!0},V3(b){return b&&this.Yu(this.Xh,this.Yh)?this.j.ig.Yz(b,this.Xh,this.Yh):!1},
TO(b){return b&&this.Yu(this.Xh,this.Yh)?this.j.ig.Yz(b,this.Xh,this.Yh):!1},MO(b){return b&&this.Yu(this.Xh,this.Yh)?this.j.ig.Yz(b,this.Xh,this.Yh):!1},l4(b){return this.VK===b},k4(b){return this.VK===b}}}"use strict";self.D.C.Touch.pb={Ina(d){this.pH(d)}};
{"use strict";const d=self.D;d.C.Touch.ib={Mqa(){return this.yd.size},fA(a){const b=this.cj(this.wB);return b?b.Tq(this.j.Oa(),a,!0):0},yG(a){const b=this.cj(this.wB);return b?b.Tq(this.j.Oa(),a,!1):0},rra(a,b){return(a=this.cj(a))?a.Tq(this.j.Oa(),b,!0):0},tra(a,b){return(a=this.cj(a))?a.Tq(this.j.Oa(),b,!1):0},sra(a,b){return(a=this.yd.get(a))?a.Tq(this.j.Oa(),b,!0):0},ura(a,b){return(a=this.yd.get(a))?a.Tq(this.j.Oa(),b,!1):0},Mha(){const a=this.cj(0);return a?a.ca():0},Pha(){const a=this.cj(0);
return a?a.da():0},Nha(a){return(a=this.cj(a))?a.ca():0},Qha(a){return(a=this.cj(a))?a.da():0},Oha(a){return(a=this.yd.get(a))?a.ca():0},Rha(a){return(a=this.yd.get(a))?a.da():0},jqa(a){return(a=this.cj(a))?a.rl():0},kqa(a){return(a=this.yd.get(a))?a.rl():0},hia(a){return(a=this.cj(a))?d.jf(a.Ha()):0},iia(a){return(a=this.yd.get(a))?d.jf(a.Ha()):0},jja(){this.j.nr();return this.vC},fia(){this.j.nr();return this.kK},via(){this.j.nr();return this.lK},Wja(){this.j.nr();return this.mK},Tha(){this.j.bn();
return this.QH},Vha(){this.j.bn();return this.RH},Xha(){this.j.bn();return this.SH},Sha(){this.j.bn();return this.TH},Uha(){this.j.bn();return this.UH},Wha(){this.j.bn();return this.VH},Nqa(){return this.$s},oQ(){return this.cD},qra(a){return(a=this.yd.get(a))?a.fa():0},oka(a){return(a=this.yd.get(a))?a.aa():0},mna(a){return(a=this.yd.get(a))?a.uV:0}}}
{"use strict";const d=self.D;let a=-1E3,b=-1E3,e=-1E4;d.C.Touch.i7=class extends d.ja{constructor(){super();this.uV=this.T=this.W=this.Ok=this.Nk=this.P=this.R=this.WC=this.VC=this.kC=this.jc=this.Tn=this.Fe=this.tV=0;this.bC=this.eJ=!1}m(){}Tm(c,g,m,h,l){this.tV=h;this.Fe=l;this.Tn=this.kC=this.jc=c;this.VC=g;this.WC=m;this.R=g;this.P=m;this.Nk=g;this.Ok=m}Gl(c,g,m,h,l,n){this.kC=this.jc;this.jc=c;this.Nk=this.R;this.Ok=this.P;this.R=g;this.P=m;this.W=h;this.T=l;this.uV=n;!this.bC&&15<=d.Ag(this.VC,
this.WC,this.R,this.P)&&(this.bC=!0)}Wj(){return this.tV}Fa(){return this.jc}jda(c){this.kC=c}ca(){return this.R}da(){return this.P}rl(){const c=d.Ag(this.R,this.P,this.Nk,this.Ok),g=(this.jc-this.kC)/1E3;return 0<g?c/g:0}Ha(){return d.Hj(this.Nk,this.Ok,this.R,this.P)}fa(){return this.W}aa(){return this.T}S6(c){return this.eJ?!1:500<=c-this.Tn&&!this.bC&&15>d.Ag(this.VC,this.WC,this.R,this.P)?this.eJ=!0:!1}T6(c){if(this.eJ)return"";if(333>=c-this.Tn&&!this.bC&&15>d.Ag(this.VC,this.WC,this.R,this.P)){if(666>=
c-e&&25>d.Ag(a,b,this.R,this.P))return b=a=-1E3,e=-1E4,"double-tap";a=this.R;b=this.P;e=c;return"single-tap"}return""}Tq(c,g,m){return"undefined"===typeof g?c.$y(0).AY(this.R,this.P)[m?0:1]:(c=c.ba(g))?c.yh(this.R,this.P)[m?0:1]:0}}}{"use strict";const d=self.D;d.C.qd=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.D;d.C.qd.Zi=class extends d.ep{constructor(a){super(a)}m(){super.m()}$c(){}}}
{"use strict";const d=self.D;d.C.qd.Instance=class extends d.pr{constructor(a){super(a,"browser");this.Ik="";this.ow=!1;this.ST=this.yV="";this.FU=!1;this.Kx=this.Bq=this.Yw=this.Zw=0;this.qw=!1;this.pM([["online-state",b=>this.eba(b)],["backbutton",()=>this.Naa()],["sw-message",b=>this.kba(b)],["hashchange",b=>this.Yaa(b)]]);a=this.J().Ob();this.Cd=new d.Dt(d.Jc.Hd(a,"afterfirstlayoutstart",()=>this.Maa()),d.Jc.Hd(a,"window-resize",()=>this.kv()),d.Jc.Hd(a,"suspend",()=>this.lba()),d.Jc.Hd(a,"resume",
()=>this.jba()));this.j.sM(this.Iz("get-initial-state",{exportType:this.j.Ye}).then(b=>{this.Ik=b.location;this.ow=b.isOnline;this.yV=b.referrer;this.ST=b.title;this.FU=b.isCookieEnabled;this.Zw=b.screenWidth;this.Yw=b.screenHeight;this.Bq=b.windowOuterWidth;this.Kx=b.windowOuterHeight;this.qw=b.isScirraArcade}))}m(){super.m()}Maa(){this.Kh("ready-for-sw-messages")}async eba(a){a=!!a.isOnline;this.ow!==a&&((this.ow=a)?await this.Pc(d.C.qd.G.h4):await this.Pc(d.C.qd.G.f4))}async kv(){await this.Pc(d.C.qd.G.m4)}lba(){this.pa(d.C.qd.G.i4)}jba(){this.pa(d.C.qd.G.j4)}async Naa(){await this.Pc(d.C.qd.G.L3)}kba(a){a=
a.type;"downloading-update"===a?this.pa(d.C.qd.G.u4):"update-ready"===a||"update-pending"===a?this.pa(d.C.qd.G.v4):"offline-ready"===a&&this.pa(d.C.qd.G.g4)}Yaa(a){this.Ik=a.location;this.pa(d.C.qd.G.T3)}}}"use strict";
self.D.C.qd.G={qla(){return this.ow},h4(){return!0},f4(){return!0},m4(){return!0},pja(){return this.FU},Uka(){return this.j.O.Vp},L3(){return!0},tla(d){return(this.j.O.Gj<=this.j.O.Fj?0:1)===d},u4(){return!0},v4(){return!0},g4(){return!0},T3(){return!0},Jma(){return!this.j.Zm()},i4(){return!0},j4(){return!0},kka(){return!1},Qka(){return!1},wma(){return!1},xma(){return!1},ala(){return!1},Ika(){return!0},Eqa(){return!0}};
{"use strict";const d=self.D,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.qd.pb={eia(b){this.Kh("alert",{message:b.toString()})},Pia(){this.qw||(this.j.xb?self.Cg.Qia():this.Kh("close"))},Qja(){this.Kh("set-focus",{isFocus:!0})},yia(){this.Kh("set-focus",{isFocus:!1})},bka(){this.qw||this.Kh("navigate",{type:"back"})},cka(){this.qw||this.Kh("navigate",{type:"forward"})},dka(){},zna(){this.qw||(this.j.xb?this.j.K4():this.Kh("navigate",
{type:"reload"}))},gka(b,e){this.dj("navigate",{type:"url",url:b,target:e,exportType:this.j.Ye})},hka(b,e){this.dj("navigate",{type:"new-window",url:b,tag:e,exportType:this.j.Ye})},Gna(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.dE.rR(b);this.j.O.a6(b);this.dj("request-fullscreen",{navUI:e})},Eia(){this.dj("exit-fullscreen")},fra(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.dj("vibrate",{pattern:b})},async fF(b,e){b&&e&&(b=await this.j.vd.ME(b),this.j.fF(b,e))},
Dka(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.j.fF(b,c))},oja(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},mja(b){console.group(b)},nja(){console.groupEnd()},Kja(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},Sla(b){b=Math.floor(b);0>b||b>=a.length||this.dj("lock-orientation",{orientation:a[b]})},Wqa(){this.dj("unlock-orientation")},zO(b){this.j.vd.zO(b)},opa(b){this.Kh("set-hash",{hash:b})}}}"use strict";
self.D.C.qd.ib={URL(){return this.j.ye?this.Ik:location.toString()},qna(){return this.j.ye?(new URL(this.Ik)).protocol:location.protocol},zja(){return this.j.ye?(new URL(this.Ik)).hostname:location.hostname},jna(){return this.j.ye?(new URL(this.Ik)).port:location.port},Lma(){return this.j.ye?(new URL(this.Ik)).pathname:location.pathname},nka(){return this.j.ye?(new URL(this.Ik)).hash:location.hash},HF(){return this.j.ye?(new URL(this.Ik)).search:location.search},sna(d){const a=this.j.ye?(new URL(this.Ik)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},wna(){return this.yV},Gqa(){return this.ST},Fla(){return navigator.language},Pb(){return navigator.platform},Zqa(){return navigator.userAgent},Jja(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},y3(){return navigator.appName},dra(){return navigator.appVersion},ona(){return navigator.product},
cra(){return navigator.vendor},tia(){return 1},uia(){return Infinity},sia(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},rZ(){return self.devicePixelRatio},I5(){return this.Zw},H5(){return this.Yw},I7(){return this.j.O.Gj},H7(){return this.j.O.Fj},K7(){return this.Bq},J7(){return this.Bq}};{"use strict";const d=self.D;d.C.Text=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.D;d.C.Text.Zi=class extends d.ep{constructor(a){super(a)}m(){super.m()}$c(){}hr(){}$o(){}}}
{"use strict";const d=self.D,a=self.mf,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,m=new d.Kd;new d.eb;d.C.Text.Instance=class extends d.SF{constructor(n,p){super(n);this.xd="";this.Wl=!0;this.pj="Arial";this.Rk=12;this.gi=0;this.Cf=this.Bf=!1;this.gb=d.B(d.eb);this.gf=this.zf=0;this.al=!0;this.Wk=this.bt=-1;this.Cx=0;this.kd=d.B(d.K.KF,this.j.lb(),{timeout:5});this.kd.ED=()=>this.j.ea();this.kd.RP();p&&(this.xd=p[0],this.Wl=!!p[1],this.pj=p[2],this.Rk=p[3],this.gi=
p[4],this.Bf=!!p[5],this.Cf=!!p[6],this.zf=p[8],this.gf=p[9],this.al=0===p[10],n=p[7],this.gb.ut(n[0],n[1],n[2]),this.A().Pg(p[11]));this.ue()}m(){this.ln();this.kd.m();this.kd=null;super.m()}ue(){const n=this.kd;n.Lu(this.xd);n.Q5(this.Wl);n.ZF(this.pj);n.VP(this.gi);n.CP(this.Bf);n.TP(this.Cf);n.dn(this.gb);n.NP(e[this.zf]);n.iQ(c[this.gf]);n.O6(this.al?"word":"character")}OH(){const n=this.A();this.kd.Uz(this.Rk);this.kd.g6(n.W0());var p=n.ba();p=p.Rm()*p.mN(n.tf());this.kd.ud(n.fa(),n.aa(),p)}Eg(n){var p=
this.A();this.OH();const q=this.kd.oe();if(q){var u=p.ba();if(0===p.Ha()&&0===u.Ha()&&0===p.tf()&&!p.Zf()&&u.hP()){p=p.Sj();const [w,r]=u.jk(p.Eb,p.Fb),[v,y]=u.jk(p.qc,p.rc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);m.Nj(g);const [G,z]=n.jz(n.ql());this.j.O.Z5(n,G,z);n.eg(q);n.kr(m,this.kd.dk());u.CA(n)}else n.eg(q),p.Zf()?this.SG(p,n):this.TG(p,n)}}TG(n,p){n=n.Sj();this.j.em&&(n=this.tS(n));p.kr(n,this.kd.dk())}SG(n,p){const q=n.TN();if(n.pO()){n.ty(g,m,!1);let u=m;
this.j.em&&(u=this.tS(u));q.CM(n.ck(),u,this.kd.dk());n.aG(!1)}q.Eg(p)}tS(n){const p=n.Eb-Math.round(n.Eb),q=n.Fb-Math.round(n.Fb);if(0===p&&0===q)return n;m.ta(n);m.offset(-p,-q);return m}td(){const n={t:this.xd,c:this.gb.toJSON(),fn:this.pj,ps:this.Rk};this.Wl&&(n.bbc=this.Wl);0!==this.zf&&(n.ha=this.zf);0!==this.gf&&(n.va=this.gf);this.al||(n.wr=this.al);0!==this.gi&&(n.lho=this.gi);this.Bf&&(n.b=this.Bf);this.Cf&&(n.i=this.Cf);-1!==this.Wk&&(n.tw={st:this.bt,en:this.Wk,l:this.Cx});return n}Zc(n){this.ln();
this.xd=n.t;this.gb.Hm(n.c);this.pj=n.fn;this.Rk=n.ps;this.Wl=n.hasOwnProperty("bbc")?n.bbc:!1;this.zf=n.hasOwnProperty("ha")?n.ha:0;this.gf=n.hasOwnProperty("va")?n.va:0;this.al=n.hasOwnProperty("wr")?n.wr:!0;this.gi=n.hasOwnProperty("lho")?n.lho:0;this.Bf=n.hasOwnProperty("b")?n.b:!1;this.Cf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.bt=n.st,this.Wk=n.en,this.Cx=n.l);this.ue();-1!==this.Wk&&this.Sh()}zc(n){switch(n){case 0:return this.xd;case 1:return this.Wl;case 2:return this.pj;
case 3:return this.Rk;case 4:return this.gi;case 5:return this.Bf;case 6:return this.Cf;case 7:return b[0]=this.gb.Ya,b[1]=this.gb.Ja,b[2]=this.gb.$a,b;case 8:return this.zf;case 9:return this.gf;case 10:return this.al?1:0}}dg(n,p){switch(n){case 0:if(this.xd===p)break;this.xd=p;this.ue();break;case 1:if(this.Wl===!!p)break;this.Wl=!!p;this.ue();break;case 2:if(this.pj===p)break;this.pj=p;this.ue();break;case 3:if(this.Rk===p)break;this.Rk=p;this.ue();break;case 4:if(this.gi===p)break;this.gi=p;this.ue();
break;case 5:if(this.Bf===!!p)break;this.Bf=!!p;this.ue();break;case 6:if(this.Cf===!!p)break;this.Cf=!!p;this.ue();break;case 7:n=this.gb;if(n.Ya===p[0]&&n.Ja===p[1]&&n.$a===p[2])break;this.gb.ut(p[0],p[1],p[2]);this.ue();break;case 8:if(this.zf===p)break;this.zf=p;this.ue();break;case 9:if(this.gf===p)break;this.gf=p;this.ue();break;case 10:this.al!==(0===p)&&(this.al=0===p,this.ue())}}BA(n){this.xd!==n&&(this.xd=n,this.kd.Lu(n),this.j.ea())}Eda(n,p){this.BA(n);this.bt=this.j.SE();this.Wk=this.bt+
p/this.Ea().R_();this.Cx=d.Lm.mQ(n).length;this.kd.XF(0);this.Sh()}ln(){this.Wk=this.bt=-1;this.Cx=0;this.kd.XF(-1);this.wp()}L9(){-1!==this.Wk&&(this.ln(),this.pa(d.C.Text.G.WO),this.j.ea())}Xca(n){this.pj!==n&&(this.pj=n,this.kd.ZF(n),this.j.ea())}Kca(n){n=!!n;this.Bf!==n&&(this.Bf=n,this.kd.CP(n),this.j.ea())}hda(n){n=!!n;this.Cf!==n&&(this.Cf=n,this.kd.TP(n),this.j.ea())}Yca(n){this.Rk!==n&&(this.Rk=n,this.j.ea())}Wca(n){this.gb.Em(n)||(this.gb.Ij(n),this.kd.dn(this.gb),this.j.ea())}WS(n){this.gi!==
n&&(this.gi=n,this.ue(),this.j.ea())}bda(n){this.zf!==n&&(this.zf=n,this.ue(),this.j.ea())}dT(n){this.gf!==n&&(this.gf=n,this.ue(),this.j.ea())}wda(n){n=!!n;this.al!==n&&(this.al=n,this.ue(),this.j.ea())}w$(){this.OH();return this.kd.a1()}v$(){this.OH();return this.kd.$0()}se(){var n=this.j.SE();n>=this.Wk?(this.ln(),this.pa(d.C.Text.G.WO),this.j.ea()):(n=d.cha(this.bt,this.Wk,n,this.Cx),n=Math.floor(n),n!==this.kd.Gp&&(this.kd.XF(n),this.j.ea()))}Ih(){return self.L1}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.L1=class extends self.uz{constructor(){super();h.set(this,self.$q.mn().ma)}get text(){return h.get(this).xd}set text(n){a.Qd(n);const p=h.get(this);p.ln();p.BA(n)}set lineHeight(n){a.qe(n);h.get(this).WS(n)}get lineHeight(){return h.get(this).gi}set verticalAlign(n){a.Qd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).dT(n)}get verticalAlign(){return c[h.get(this).gf]}}}
{"use strict";const d=self.D;d.C.Text.G={PY(a,b){return b?this.xd===a:d.no(this.xd,a)},ula(){return-1!==this.Wk},WO(){return!0}}}
{"use strict";const d=self.D,a=d.B(d.eb);d.C.Text.pb={Lu(b){this.ln();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.BA(b.toString())},nia(b){this.ln();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.BA(this.xd+b)},Sqa(b,e){this.ln();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Eda(b.toString(),e)},jpa(b,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.pj||c!==this.Bf||g!==this.Cf)this.Xca(b),this.Kca(c),
this.hda(g)},Uz(b){this.Yca(b)},ipa(b){a.tt(b);a.ia();this.Wca(a)},Zpa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},b6(b){this.A().bg(b);this.j.ea()},Rqa(){this.L9()},VP(b){this.WS(b)},mpa(b){this.bda(b)},Wpa(b){this.dT(b)},$pa(b){this.wda(0===b)}}}{"use strict";const d=self.D;d.C.Text.ib={Text(){return this.xd},bna(){return this.Wl?d.Lm.mQ(this.xd):this.xd},Lja(){return this.pj},F_(){return this.Rk},e7(){return this.w$()},Fqa(){return this.v$()},d3(){return this.gi}}}
{"use strict";const d=self.D;d.C.Cb=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.D;d.C.Cb.Zi=class extends d.ep{constructor(a){super(a);this.Rd=a.Rd}m(){d.F(this.Rd);super.m()}$c(){for(const a of this.Rd)a.f3(this.j)}hr(a){const b={Mj:this.j.Ed};return Promise.all(this.Rd.map(e=>e.g3(a,b)))}$o(){for(const a of this.Rd)a.a5()}Gz(){this.qT()}qT(){for(const a of this.L.xga())a.ma.MH()}Lt(a){d.C.Cb.K_(this,a)}}}
{"use strict";const d=self.D,a=self.mf,b=d.B(d.Rect),e=d.B(d.Kd),c=d.B(d.Pu);d.C.Cb.Instance=class extends d.SF{constructor(m,h){super(m);let l=!0,n="",p=0,q=!0;h&&(l=!!h[0],n=h[1],p=h[2],q=h[3]);this.Sb=this.L.oN(n)||this.L.Rd[0];this.ub=d.ia(p,0,this.Sb.Ud.length-1);this.Xe=this.Sb.Qm(this.ub);h=this.Xe.Sf();this.cs=h.oe();this.CI=h.dk();this.Ov=h.lz();this.h1();m.Cu(2,!0);m.Cu(1,0<=this.Sb.rl());this.Fk=Math.abs(this.Sb.rl());this.bs=this.Sb.BV;this.MA=d.B(d.Ez);this.Bk=this.qj=0;this.cI="";this.Jv=
-1;this.Vr="";this.HT=0;m=this.A();this.qea=m.Sj();m.Pg(l);m.zu(q);m.zr(this.Xe.ol());m.Ar(this.Xe.pl());m.gG(this.Xe.Cp);m.ra();1===this.L.Rd.length&&1===this.L.Rd[0].Ud.length||0===this.Fk||this.Sh()}m(){this.MA=this.cs=this.Xe=this.Sb=null;super.m()}Ch(){return this.Xe.Sf()}Ro(){return!0}jr(){this.cs=null}YO(){this.MH()}Eg(m){var h=this.cs;null!==h&&(m.eg(h),h=this.A(),h.Zf()?this.SG(h,m):this.TG(h,m))}TG(m,h){let l=this.qea;this.j.em&&(l=m.$O(l));h.W4(l,this.Ov)}SG(m,h){const l=m.TN();if(m.pO()){m.ty(b,
e,!1);let n=e;this.j.em&&(n=m.$O(n));l.CM(m.ck(),n,this.Ov);m.aG(!1)}l.Eg(h)}Ot(){return this.MA.$()}xz(){return this.M.FE(2)}qr(m){this.M.Cu(2,m)}Bz(){return this.M.FE(1)}Hu(m){this.M.Cu(1,m)}oF(){return this.M.FE(4)}OP(m){this.M.Cu(4,m)}se(){this.Vr&&this.cR();0<=this.Jv&&this.OG();const m=this.Fk;if(this.xz()&&0!==m){this.MA.Ic(this.j.Co(this.M));var h=this.Ot(),l=this.Xe,n=l.UT/m;if(!(h<this.qj+n)){var p=this.Sb,q=this.bs,u=p.Ud.length,w=p.Hh(),r=p.UB,v=p.Wea;this.Bz()?this.ub++:this.ub--;this.qj+=
n;this.ub>=u&&(v?(this.Hu(!1),this.ub=u-2):r?this.ub=q:(this.Bk++,this.Bk>=w?this.VG(!1):this.ub=q));0>this.ub&&(v?(this.ub=1,this.Hu(!0),r||(this.Bk++,this.Bk>=w&&this.VG(!0))):r?this.ub=q:(this.Bk++,this.Bk>=w?this.VG(!0):this.ub=q));this.ub=d.ia(this.ub,0,u-1);n=p.Qm(this.ub);h>this.qj+n.UT/m&&(this.qj=h);this.tA(l,n)}}else this.wp()}VG(m){this.ub=m?0:this.Sb.Ud.length-1;this.qr(!1);this.cI=this.Sb.Da();this.OP(!0);this.Ft("animationend",!1,{animationName:this.cI});this.pa(d.C.Cb.G.J3);this.pa(d.C.Cb.G.I3);
this.OP(!1);this.Bk=0}tA(m,h){if(m!==h){var l=this.A(),n=m.Sf();m=h.Sf();var p=n.fa();n=n.aa();var q=m.fa(),u=m.aa();p!==q&&l.Oh(l.fa()*(q/p));n!==u&&l.Mh(l.aa()*(u/n));l.zr(h.ol());l.Ar(h.pl());l.gG(h.Cp);l.ra();this.Xe=h;this.cs=m.oe();this.CI=m.dk();this.Ov=m.lz();h=this.Ea().cd;for(let w=0,r=h.length;w<r;++w);this.Ft("framechange",!1,{animationName:this.Sb.Da(),oW:this.ub});this.pa(d.C.Cb.G.S3);this.j.ea()}}Dda(m){this.qr(!0);this.qj=this.Ot();1===m&&0!==this.ub&&(this.Jv=0,this.oF()||this.OG());
this.Sh()}Gca(m,h){this.Vr=m;this.HT=h;this.Sh();this.oF()||this.cR()}xR(){return this.Vr?this.Vr:this.Sb.Da()}OS(m){isFinite(m)&&(this.Jv=m,this.oF()||this.OG())}Ica(m){this.Fk=Math.abs(m);this.Hu(0<=m);0<this.Fk&&this.Sh()}tR(){return this.Bz()?this.Fk:-this.Fk}Hca(m){this.bs=m=d.ia(Math.floor(m),0,this.Sb.Ud.length-1)}cR(){const m=this.Xe;var h=this.L.oN(this.Vr);this.Vr="";!h||h===this.Sb&&this.xz()||(this.Sb=h,this.Hu(0<=h.rl()),this.Fk=Math.abs(h.rl()),this.bs=h.BV,this.ub=d.ia(this.ub,0,this.Sb.Ud.length-
1),1===this.HT&&(this.ub=0),this.qr(!0),this.qj=this.Ot(),h=this.Sb.Qm(this.ub),this.tA(m,h))}OG(){const m=this.Xe;var h=this.ub;this.ub=d.ia(Math.floor(this.Jv),0,this.Sb.Ud.length-1);this.Jv=-1;h!==this.ub&&(h=this.Sb.Qm(this.ub),this.tA(m,h),this.qj=this.Ot())}MH(){const m=this.Xe.Sf();this.cs=m.oe();this.CI=m.dk();this.Ov=m.lz();this.A().aG(!0)}oe(){return this.cs}dk(){return this.CI}lz(){return this.Ov}HE(){return this.Xe.HE()}Fo(m){const h=this.Xe,l=this.A();if("string"===typeof m)m=h.w0(m);
else if("number"===typeof m)m=h.v0(m-1);else throw new TypeError("expected string or number");if(!m)return[l.ca(),l.da()];c.ta(m.qK);if(l.Zf()){const [n,p]=l.ck().qQ(c.R,c.P);c.set(n,p)}c.offset(-h.ol(),-h.pl());c.scale(l.fa(),l.aa());c.rotate(l.Ha());c.offset(l.ca(),l.da());return[c.R,c.P]}$_(){return this.A().sl().ZW()}qN(m){m=Math.floor(m);const h=this.A();var l=h.sl();const n=l.ZW();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Xd;return[l[2*m]+h.ca(),l[2*m+1]+h.da()]}td(){const m={a:this.Sb.jb};
0!==this.qj&&(m.fs=this.qj);var h=this.Ot();0!==h&&(m.at=h);0!==this.ub&&(m.f=this.ub);0!==this.Fk&&(m.cas=this.Fk);1!==this.Bk&&(m.ar=this.Bk);0!==this.bs&&(m.rt=this.bs);this.xz()||(m.ap=this.xz());this.Bz()||(m.af=this.Bz());h=this.A();h.Jg()&&(m.ce=h.Jg());return m}Zc(m){var h=this.I().T_(m.a);h&&(this.Sb=h);this.qj=m.hasOwnProperty("fs")?m.fs:0;this.MA.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.ub=d.ia(h,0,this.Sb.Ud.length-1);this.Fk=m.hasOwnProperty("cas")?m.cas:
0;this.Bk=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.bs=d.ia(h,0,this.Sb.Ud.length-1);this.qr(m.hasOwnProperty("ap")?!!m.ap:!0);this.Hu(m.hasOwnProperty("af")?!!m.af:!0);this.Xe=h=this.Sb.Qm(this.ub);this.MH();const l=this.A();l.zr(h.ol());l.Ar(h.pl());l.gG(h.Cp);l.zu(!!m.ce)}zc(m){const h=this.A();switch(m){case 3:return h.Jg();case 2:return d.ia(this.ub,0,this.Sb.Ud.length-1)}}dg(m,h){var l=this.A();switch(m){case 3:l.zu(!!h);break;case 2:this.qr(!1);m=this.Sb.Ud.length-
1;l=h=d.ia(h,0,m);h=this.Sb.Qm(this.ub);const n=this.Sb.Qm(l);this.tA(h,n);this.ub=d.ia(l,0,m)}}Ih(){return self.J1}};const g=new WeakMap;self.J1=class extends self.uz{constructor(){super();g.set(this,self.$q.mn().ma)}get animationName(){return g.get(this).xR()}set oW(m){a.qe(m);g.get(this).OS(m)}get oW(){return g.get(this).ub}get imageWidth(){return g.get(this).Ch().fa()}get imageHeight(){return g.get(this).Ch().aa()}}}
{"use strict";const d=self.D;d.C.Cb.G={Eka(a){return d.no(this.xR(),a)},Xia(a,b){return d.compare(this.ub,a,b)},Uia(a,b){return d.compare(this.tR(),a,b)},I3(a){return d.no(this.cI,a)},J3(){return!0},S3(){return!0},bla(){return 0>this.A().fa()},Ska(){return 0>this.A().aa()},XO(){return!0},t4(){return!0},Jg(){return this.A().Jg()}}}
{"use strict";const d=self.D;d.C.Cb.pb={Y6(a,b,e,c){if(a&&b){var [g,m]=this.Fo(e);if(e=this.j.hE(a,b,g,m,c)){c&&b.mG(e);a.zb().So()&&(b=e.A(),b.Bc(this.A().Ha()),b.ra());b=this.j.na();b.He(!0);e.GA();b.He(!1);c=this.j.Tt().Pi();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.ns)b=!0,c.set("Spawn_LastExec",this.j.ns);if(a!==this.I()&&(a=a.S(),a.te(!1),a=a.H,b&&d.F(a),a.push(e),e.cc()))for(const h of e.Nd)e=h.I().S(),b?e.qk(h):(e.te(!1),e.sp(h))}}},pqa(){this.qr(!1)},lqa(a){this.Dda(a)},
Qoa(a,b){this.Gca(a,b)},Roa(a){this.OS(a)},Toa(a){this.Ica(a)},Soa(a){this.Hca(a)},Opa(a){const b=this.A(),e=b.fa();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Oh(a),b.ra())},gpa(a){const b=this.A(),e=b.aa();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Mh(a),b.ra())},cG(a){const b=this.Xe.Sf(),e=this.A();var c=0>e.fa()?-1:1;const g=0>e.aa()?-1:1;c*=b.fa()*a;a=b.aa()*a*g;if(e.fa()!==c||e.aa()!==a)e.ud(c,a),e.ra()},async Qla(a,b){const e=this.Xe.Sf(),c=this.A(),g=this.j;if(e.Xk===a)0===b&&(c.ud(e.fa(),e.aa()),c.ra()),
this.pa(d.C.Cb.G.XO);else{var m=d.B(d.vz);try{await m.i3(g,a);if(!m.rF())throw Error("image failed to load");await m.mu(g.lb(),{Mj:this.j.Ed})}catch(h){console.error("Load image from URL failed: ",h);this.pa(d.C.Cb.G.t4);return}e.n5(m);this.Wc.qT();this.dA()||0!==b||(c.ud(e.fa(),e.aa()),c.ra());g.ea();this.dA()||await this.Pc(d.C.Cb.G.XO)}},Yoa(a){this.A().zu(a)},fG(a,b){this.A().fG(0===a,b)},b6(a){this.A().bg(a);this.j.ea()}}}"use strict";
self.D.C.Cb.ib={jia(){return this.ub},kia(){return this.Sb.Ud.length},lia(){return this.Sb.Da()},mia(){return this.tR()},Ima(){return this.Sb.rl()},wka(d){return this.Fo(d)[0]},xka(d){return this.Fo(d)[1]},vka(){return this.HE()},yka(){return this.Ch().fa()},uka(){return this.Ch().aa()},gna(d){return this.qN(d)[0]},hna(d){return this.qN(d)[1]},fna(){return this.$_()}};{"use strict";const d=self.D;d.C.Keyboard=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.D;d.C.Keyboard.Zi=class extends d.ep{constructor(a){super(a)}m(){super.m()}$c(){}Ih(){return self.E1}};self.E1=class extends self.bF{constructor(a){super(a);a.J().Kv.keyboard=this}}}
{"use strict";const d=self.D;d.C.Keyboard.Instance=class extends d.pr{constructor(a){super(a);this.ws=new Set;this.xs=new Set;this.Vk=0;this.Bx=this.dD="";a=this.J().Ob();this.Cd=new d.Dt(d.Jc.Hd(a,"keydown",b=>this.lH(b.data)),d.Jc.Hd(a,"keyup",b=>this.mH(b.data)),d.Jc.Hd(a,"window-blur",()=>this.Nr()),d.Jc.Hd(a,"keyboard-blur",()=>this.Nr()))}m(){super.m()}lH(a){const b=a.which,e=a.code||b.toString();a=a.key;this.ws.has(e)||(this.ws.add(e),this.xs.add(b),this.dD=e,this.Vk=b,this.Bx=a,this.pa(d.C.Keyboard.G.K3),
this.pa(d.C.Keyboard.G.NO),this.pa(d.C.Keyboard.G.Z3),this.pa(d.C.Keyboard.G.X3))}mH(a){const b=a.which,e=a.code||b.toString();a=a.key;this.ws.delete(e);this.xs.delete(b);this.dD=e;this.Vk=b;this.Bx=a;this.pa(d.C.Keyboard.G.KO);this.pa(d.C.Keyboard.G.BF);this.pa(d.C.Keyboard.G.a4);this.pa(d.C.Keyboard.G.OO)}Nr(){for(const a of this.xs)this.xs.delete(a),this.Vk=a,this.pa(d.C.Keyboard.G.KO),this.pa(d.C.Keyboard.G.BF),this.pa(d.C.Keyboard.G.OO);this.ws.clear()}oO(a){return this.ws.has(a)}td(){return{tk:this.Vk,
tkk:this.Bx}}Zc(a){this.Vk=a.tk;a.hasOwnProperty("tkk")&&(this.Bx=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.C.Keyboard.G={oO(a){return this.xs.has(a)},NO(a){return this.Vk===a},K3(){return!0},KO(){return!0},BF(a){return this.Vk===a},Wka(a){a=Math.floor(a);return this.xs.has(a)},X3(a){return this.Vk===a},OO(a){return this.Vk===a},Z3(a){return this.dD===d[a]},a4(a){return this.dD===d[a]},Xka(a){return this.ws.has(d[a])}}}"use strict";
self.D.C.Keyboard.pb={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.D.C.Keyboard.ib={Gla(){return this.Vk},tqa(a){return d(a)},Qqa(){return this.Bx}}}{"use strict";const d=self.D;d.C.Ti=class extends d.cn{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.D;d.C.Ti.Zi=class extends d.ep{constructor(a){super(a)}m(){super.m()}$c(){}}}
{"use strict";const d=self.D;d.C.Ti.Instance=class extends d.pr{constructor(a){super(a,"platform-info");this.Kx=this.Bq=this.Yw=this.Zw=0;this.Ps=[0,0,0,0];this.xw=this.YC=!1;this.pM([["window-resize",b=>this.kv(b)],["wake-lock-acquired",()=>this.pba()],["wake-lock-error",()=>this.qba()],["wake-lock-released",()=>this.rba()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.dba());this.j.sM(this.Iz("get-initial-state").then(b=>{this.Zw=b.screenWidth;this.Yw=b.screenHeight;
this.Bq=b.windowOuterWidth;this.Kx=b.windowOuterHeight;this.Ps=b.safeAreaInset;this.YC=b.supportsWakeLock}))}m(){super.m()}kv(a){this.Bq=a.windowOuterWidth;this.Kx=a.windowOuterHeight;this.Ps=a.safeAreaInset}async dba(){await this.Pc(d.C.Ti.G.c4)}async pba(){this.xw=!0;await this.Pc(d.C.Ti.G.w4)}async qba(){this.xw=!1;await this.Pc(d.C.Ti.G.x4)}async rba(){this.xw=!1;await this.Pc(d.C.Ti.G.y4)}}}
{"use strict";const d=self.D;d.C.Ti.G={lla(){return d.Pb.Az},ola(){return"Windows"===d.Pb.Jh},kla(){return"Mac OS X"===d.Pb.Jh},jla(){return"Linux"===d.Pb.Jh},hla(){return"Chrome OS"===d.Pb.Jh},fla(){return"Android"===d.Pb.Jh},pla(){return"iOS"===d.Pb.Jh},Ala(){const a=this.j.Ye;return"html5"===a||"scirra-arcade"===a||"preview"===a||"instant-games"===a},Kka(){return this.j.fO()},dla(){return"nwjs"===this.j.Ye},Bla(){return"windows-uwp"===this.j.Ye},Cla(){return"windows-webview2"===this.j.Ye},$ka(){return"macos-wkwebview"===
this.j.Ye},c4(){return!0},w4(){return!0},x4(){return!0},y4(){return!0},yla(){return this.xw},zla(){return this.YC}}}"use strict";self.D.C.Ti.pb={Kna(){this.YC&&this.dj("request-wake-lock")},yna(){this.YC&&(this.xw=!1,this.Kh("release-wake-lock"))}};"use strict";
self.D.C.Ti.ib={Cna(){let d;d=this.j.Xq()?"webgpu":"webgl"+this.j.tl().nd;this.j.lb().yB&&(d+="-software");return d},Dna(){return this.j.tl().dt},rZ(){return self.devicePixelRatio},I5(){return this.Zw},H5(){return this.Yw},I7(){return this.j.O.Gj},H7(){return this.j.O.Fj},K7(){return this.Bq},J7(){return this.Kx},Hia(){return this.j.O.Qc},Gia(){return this.j.O.Gc},Jia(){return this.j.O.$g},Iia(){return this.j.O.Zg},Aja(){return navigator.connection?navigator.connection.downlink||0:0},Bja(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},kja(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},lja(){return navigator.connection?navigator.connection.rtt||0:0},jka(){return navigator.hardwareConcurrency||0},wja(){return navigator.deviceMemory||0},Koa(){return this.Ps[0]},Joa(){return this.Ps[1]},Hoa(){return this.Ps[2]},Ioa(){return this.Ps[3]}};
{"use strict";const d=self.D;d.C.Ei=class extends d.D5{constructor(a){super(a,"sliderbar");this.Bt("click",b=>b.Qaa());this.Bt("change",(b,e)=>b.Paa(e));this.Bt("input",(b,e)=>b.Zaa(e))}m(){super.m()}}}{"use strict";const d=self.D;d.C.Ei.Zi=class extends d.ep{constructor(a){super(a)}m(){super.m()}$c(){}}}
{"use strict";const d=self.D,a=self.mf;d.C.Ei.Instance=class extends d.C5{constructor(e,c){super(e,"sliderbar");this.li=this.ob=0;this.kh=100;this.tg=1;this.vq="";this.Db=!0;this.Sc="";c&&(this.ob=c[0],this.li=c[1],this.kh=c[2],this.tg=c[3],this.vq=c[4],this.A().Pg(c[5]),this.Db=c[6],this.Sc=c[7]);this.$Y({id:this.Sc})}m(){super.m()}AE(){return{value:this.ob,min:this.li,max:this.kh,step:this.tg,title:this.vq,isEnabled:this.Db}}async Qaa(){this.Ft("click",!0);await this.Pc(d.C.Ei.G.O3)}async Paa(e){this.ob=
e.value;this.Ft("change",!0);await this.Pc(d.C.Ei.G.N3)}Zaa(e){this.ob=e.value}Eg(){}GH(e){this.ob!==e&&(this.ob=e,this.kn())}AH(e){this.kh!==e&&(this.kh=e,this.kn())}ZS(e){this.li!==e&&(this.li=e,this.kn())}cT(e){this.vq!==e&&(this.vq=e,this.kn())}DH(e){this.tg!==e&&(this.tg=e,this.kn())}Vg(e){e=!!e;this.Db!==e&&(this.Db=e,this.kn())}td(){return{v:this.ob,min:this.li,max:this.kh,s:this.tg,t:this.vq,e:this.Db,id:this.Sc}}Zc(e){this.ob=e.v;this.li=e.min;this.kh=e.max;this.tg=e.s;this.vq=e.t;this.Db=
e.e;this.Sc=e.id;this.kn()}zc(e){switch(e){case 0:return this.ob;case 1:return this.li;case 2:return this.kh;case 3:return this.tg;case 4:return this.vq;case 6:return this.zra();case 7:return this.Sc}}dg(e,c){switch(e){case 0:this.GH(c);break;case 1:this.ZS(c);break;case 2:this.AH(c);break;case 3:this.DH(c);break;case 4:this.cT(c);break;case 6:this.Vg(c);break;case 7:this.Sc!==c&&(this.Sc=c,this.kn())}}Ih(){return self.I1}};const b=new WeakMap;self.I1=class extends self.D1{constructor(){super();b.set(this,
self.$q.mn().ma)}set value(e){a.qe(e);b.get(this).GH(e)}get value(){return b.get(this).ob}set maximum(e){a.qe(e);b.get(this).AH(e)}get maximum(){return b.get(this).kh}set step(e){a.qe(e);b.get(this).DH(e)}get step(){return b.get(this).tg}set isEnabled(e){b.get(this).Vg(e)}get isEnabled(){return b.get(this).Db}}}{"use strict";const d=self.D;d.C.Ei.G={O3(){return!0},N3(){return!0},dja(a,b){return d.compare(this.ob,a,b)}}}"use strict";
self.D.C.Ei.pb={Upa(d){this.cT(d)},re(d){this.GH(d)},Lpa(d){this.AH(d)},Npa(d){this.ZS(d)},Spa(d){this.DH(d)}};"use strict";self.D.C.Ei.ib={yQ(){return this.ob},Zla(){return this.kh},cma(){return this.li},fg(){return this.tg}};{"use strict";const d=self.D;d.ac.Nq=class extends d.vP{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.D;d.ac.Nq.Zi=class extends d.xP{constructor(a){super(a)}m(){super.m()}$c(){}}}
{"use strict";const d=self.D,a=self.mf,b=self.$E;d.ac.Nq.Instance=class extends d.wP{constructor(c,g){super(c);this.ix=this.hx=this.gx=this.jx=this.CB=this.Vw=this.Dw=this.Sv=this.Dx=!1;this.xa=this.Ba=0;this.xj=200;this.Wb=600;this.kg=500;this.rn=this.zn=3;this.Db=this.Ul=!0;g&&(this.xj=g[0],this.Wb=g[1],this.kg=g[2],this.zn=g[3],this.rn=g[4],this.Ul=!!g[5],this.Db=!!g[6]);this.Db&&this.Sh();this.Ul&&this.AG()}AG(){if(!this.Cd){var c=this.j.Ob();this.Cd=new d.Dt(d.Jc.Hd(c,"keydown",g=>this.lH(g.data)),
d.Jc.Hd(c,"keyup",g=>this.mH(g.data)),d.Jc.Hd(c,"window-blur",()=>this.Nr()),d.Jc.Hd(c,"keyboard-blur",()=>this.Nr()))}}mT(){this.Cd&&(this.Cd.m(),this.Cd=null)}m(){super.m()}td(){return{dx:this.Ba,dy:this.xa,e:this.Db,ms:this.xj,acc:this.Wb,dec:this.kg,d:this.zn,am:this.rn,dc:this.Ul,ii:this.CB}}Zc(c){this.Ba=c.dx;this.xa=c.dy;this.Vg(c.e);this.xj=c.ms;this.Wb=c.acc;this.kg=c.dec;this.zn=c.d;this.rn=c.am;this.Ul=c.dc;this.CB=c.ii;this.ix=this.hx=this.gx=this.jx=this.Vw=this.Dw=this.Sv=this.Dx=!1;
this.Ul?this.AG():this.mT()}lH(c){switch(c.key){case "ArrowLeft":this.Dw=!0;break;case "ArrowUp":this.Dx=!0;break;case "ArrowRight":this.Vw=!0;break;case "ArrowDown":this.Sv=!0}}mH(c){switch(c.key){case "ArrowLeft":this.Dw=!1;break;case "ArrowUp":this.Dx=!1;break;case "ArrowRight":this.Vw=!1;break;case "ArrowDown":this.Sv=!1}}Nr(){this.Vw=this.Dw=this.Sv=this.Dx=!1}se(){var c=this.j.Co(this.M);const g=this.j.ig;var m=this.Dw||this.hx,h=this.Vw||this.ix,l=this.Dx||this.jx,n=this.Sv||this.gx;this.gx=
this.jx=this.ix=this.hx=!1;if(this.Db){var p=g.Qh(this.M);if(p&&(g.vu(this.M,p),!g.GF(this.M)))return;this.CB&&(m=h=l=n=!1);0===this.zn?m=h=!1:1===this.zn&&(l=n=!1);2===this.zn&&(l||n)&&(m=h=!1);m===h&&(0>this.Ba?this.Ba=Math.min(this.Ba+this.kg*c,0):0<this.Ba&&(this.Ba=Math.max(this.Ba-this.kg*c,0)));l===n&&(0>this.xa?this.xa=Math.min(this.xa+this.kg*c,0):0<this.xa&&(this.xa=Math.max(this.xa-this.kg*c,0)));var q=p=0;m&&!h&&(p=0<this.Ba?-(this.Wb+this.kg):-this.Wb);h&&!m&&(p=0>this.Ba?this.Wb+this.kg:
this.Wb);l&&!n&&(q=0<this.xa?-(this.Wb+this.kg):-this.Wb);n&&!l&&(q=0>this.xa?this.Wb+this.kg:this.Wb);this.Ba+=p*c;this.xa+=q*c;if(0!==this.Ba||0!==this.xa){h=Math.atan2(this.xa,this.Ba);m=this.xj*Math.cos(h);h=this.xj*Math.sin(h);Math.sqrt(this.Ba*this.Ba+this.xa*this.xa)>this.xj&&(this.Ba=m,this.xa=h);var u=Math.abs(m)*c;n=Math.abs(h)*c;m=this.M.A();const w=m.ca();l=m.da();h=m.Ha();u=d.ia(this.Ba*c+.5*p*c*c,-u,u);m.IO(u);m.ra();if(p=g.Qh(this.M))g.Jz(this.M,0>this.Ba?1:-1,0,Math.max(Math.abs(Math.floor(u)),
1))||(m.Qg(w),m.ra()),this.Ba=0,g.vu(this.M,p);c=d.ia(this.xa*c+.5*q*c*c,-n,n);m.JO(c);m.ra();if(p=g.Qh(this.M))g.Jz(this.M,0,0>this.xa?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(m.Ph(l),m.ra()),this.xa=0,g.vu(this.M,p);c=d.ey(this.Ba);q=d.ey(this.xa);0===c&&0===q||!this.M.zb().So()||(1===this.rn?m.Bc(d.kb(90*Math.round(d.jf(Math.atan2(q,c))/90))):2===this.rn?m.Bc(d.kb(45*Math.round(d.jf(Math.atan2(q,c))/45))):3===this.rn&&m.Bc(Math.atan2(q,c)));m.ra();m.Ha()!=h&&(p=g.Qh(this.M))&&(m.Bc(h),m.ra(),
g.vu(this.M,p))}}}zc(c){switch(c){case 0:return this.xj;case 1:return this.Wb;case 2:return this.kg;case 3:return this.zn;case 4:return this.rn;case 5:return this.Ul;case 6:return this.Db}}dg(c,g){switch(c){case 0:this.YS(g);break;case 1:this.Or(g);break;case 2:this.RS(g);break;case 3:this.zn=g;break;case 4:this.rn=g;break;case 5:this.SS(!!g);break;case 6:this.Vg(!!g)}}jT(){this.xa=this.Ba=0}FS(){this.Ba*=-1;this.xa*=-1}cS(){const c=Math.hypot(this.Ba,this.xa);c>this.xj&&this.vp(c)}vp(c){c=d.ia(c,
0,this.xj);const g=Math.atan2(this.xa,this.Ba);this.Ba=c*Math.cos(g);this.xa=c*Math.sin(g)}nn(){return Math.hypot(this.Ba,this.xa)}YS(c){this.xj=Math.max(c,0)}Or(c){this.Wb=Math.max(c,0)}RS(c){this.kg=Math.max(c,0)}j$(){return Math.atan2(this.xa,this.Ba)}sda(c){this.Ba=c;this.cS()}tda(c){this.xa=c;this.cS()}Bda(c){if(this.Db)switch(c){case 0:this.hx=!0;break;case 1:this.ix=!0;break;case 2:this.jx=!0;break;case 3:this.gx=!0}}SS(c){c=!!c;this.Ul!==c&&((this.Ul=c)?this.AG():(this.mT(),this.Nr()))}fda(c){this.CB=
!!c}Vg(c){(this.Db=!!c)?this.Sh():(this.gx=this.jx=this.ix=this.hx=!1,this.wp())}Ih(){return self.z1}};const e=new WeakMap;self.z1=class extends b{constructor(){super();e.set(this,b.mn().ma)}stop(){e.get(this).jT()}reverse(){e.get(this).FS()}get speed(){return e.get(this).nn()}set speed(c){a.qe(c);e.get(this).vp(c)}get acceleration(){return e.get(this).Wb}set acceleration(c){a.qe(c);e.get(this).Or(c)}get isEnabled(){return e.get(this).Db}set isEnabled(c){e.get(this).Vg(!!c)}}}
{"use strict";const d=self.D;d.ac.Nq.G={cla(){return 1E-10<this.nn()},OY(a,b){return d.compare(this.nn(),a,b)},xl(){return this.Db}}}"use strict";self.D.ac.Nq.pb={Se(){this.jT()},yoa(){this.FS()},ppa(d){this.fda(d)},cQ(d){this.vp(d)},Kpa(d){this.YS(d)},M5(d){this.Or(d)},Zoa(d){this.RS(d)},bqa(d){this.Bda(d)},YF(d){this.Vg(d)},Xpa(d){this.sda(d)},Ypa(d){this.tda(d)},apa(d){this.SS(!!d)}};
{"use strict";const d=self.D;d.ac.Nq.ib={lQ(){return this.nn()},Xla(){return this.xj},HX(){return this.Wb},uja(){return this.kg},ima(){return d.jf(this.j$())},$qa(){return this.Ba},ara(){return this.xa}}}{"use strict";const d=self.D;d.ac.lf=class extends d.vP{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.D;d.ac.lf.Zi=class extends d.xP{constructor(a){super(a)}m(){super.m()}$c(){}}}
{"use strict";const d=self.D,a=self.mf,b=self.$E;d.ac.lf.Instance=class extends d.wP{constructor(c,g){super(c);c=this.A();this.Ja=this.Wb=this.nx=0;this.Fn=this.Tk=this.ij=!1;this.Db=!0;this.xa=this.Ba=0;this.Nk=c.ca();this.Ok=c.da();this.$p=c.Ha();this.xq=0;this.XC=Math.min(Math.abs(c.fa()),Math.abs(c.aa())/2);this.PK=!1;g&&(this.nx=g[0],this.Wb=g[1],this.Ja=g[2],this.ij=!!g[3],this.Tk=!!g[4],this.Fn=!!g[5],this.Db=!!g[6]);g=c.Ha();this.Ba=Math.cos(g)*this.nx;this.xa=Math.sin(g)*this.nx;this.Db&&
(this.Sh(),this.ij&&this.IH())}m(){super.m()}td(){const c={dx:this.Ba,dy:this.xa,lx:this.Nk,ly:this.Ok,lka:this.$p,t:this.xq};0!==this.Wb&&(c.acc=this.Wb);0!==this.Ja&&(c.g=this.Ja);this.Fn&&(c.st=this.Fn);this.Db||(c.e=this.Db);this.ij&&(c.bos=this.ij);this.Tk&&(c.sa=this.Tk);return c}Zc(c){this.Ba=c.dx;this.xa=c.dy;this.Nk=c.lx;this.Ok=c.ly;this.$p=c.lka;this.xq=c.t;this.Wb=c.hasOwnProperty("acc")?c.acc:0;this.Ja=c.hasOwnProperty("g")?c.g:0;this.Fn=c.hasOwnProperty("st")?c.st:!1;this.ij=c.hasOwnProperty("bos")?
c.bos:!1;this.Tk=c.hasOwnProperty("sa")?c.sa:!1;this.Vg(c.hasOwnProperty("e")?c.e:!0)}se(){if(this.Db){var c=this.j.Co(this.M),g=this.M.A();if(g.Ha()!==this.$p){var m=g.Ha();if(this.Tk){var h=d.Ag(0,0,this.Ba,this.xa);this.Ba=Math.cos(m)*h;this.xa=Math.sin(m)*h}this.$p=m}m=h=0;if(0!==this.Wb){let l=d.Ag(0,0,this.Ba,this.xa),n;n=0===this.Ba&&0===this.xa?g.Ha():d.Hj(0,0,this.Ba,this.xa);l+=this.Wb*c;h=Math.cos(n)*this.Wb;m=Math.sin(n)*this.Wb;0>l&&(m=h=l=0);this.Ba=Math.cos(n)*l;this.xa=Math.sin(n)*
l}0!==this.Ja&&(this.xa+=this.Ja*c,m+=this.Ja);this.Nk=g.ca();this.Ok=g.da();if(0!==this.Ba||0!==this.xa)h=this.Ba*c+.5*h*c*c,c=this.xa*c+.5*m*c*c,m=d.Ag(0,0,h,c),this.Faa(h,c,m),this.xq+=m,!this.Tk||0===h&&0===c||(g.Bc(d.Hj(0,0,h,c)),this.$p=g.Ha()),g.ra()}}Faa(c,g,m){const h=this.A();if(!this.Fn||m<=this.XC)h.$m(c,g),h.ra(),this.Fn&&this.pa(d.ac.lf.G.DF);else{this.PK=!1;var l=h.ca(),n=h.da(),p=l+c,q=n+g;g=d.Hj(0,0,c,g);c=Math.cos(g)*this.XC;g=Math.sin(g)*this.XC;m=Math.floor(m/this.XC);for(let u=
1;u<=m;++u)if(h.Ld(l+c*u,n+g*u),h.ra(),this.pa(d.ac.lf.G.DF),this.M.cr()||this.PK)return;h.Ld(p,q);h.ra();this.pa(d.ac.lf.G.DF)}}EF(){if(this.Db&&this.ij&&(0!==this.Ba||0!==this.xa)){var c=this.j.Co(this.M),g=this.M.A(),m=this.j.ig,h=m.Qh(this.M);if(h){m.vu(this.M,h);h=d.Ag(0,0,this.Ba,this.xa);const l=m.AM(this.M,this.Nk,this.Ok);this.Ba=Math.cos(l)*h;this.xa=Math.sin(l)*h;g.$m(this.Ba*c,this.xa*c);g.ra();this.Tk&&(g.Bc(l),this.$p=g.Ha(),g.ra());m.Jz(this.M,this.Ba/h,this.xa/h,Math.max(2.5*h*c,30))||
m.GF(this.M,100)}}}zc(c){switch(c){case 0:return this.nn();case 1:return this.Wb;case 2:return this.Ja;case 4:return this.Tk;case 5:return this.Fn;case 6:return this.Db}}dg(c,g){switch(c){case 0:this.vp(g);break;case 1:this.Wb=g;break;case 2:this.Ja=g;break;case 4:this.Tk=!!g;break;case 5:this.Fn=!!g;break;case 6:this.Vg(!!g)}}vp(c){const g=d.Hj(0,0,this.Ba,this.xa);this.Ba=Math.cos(g)*c;this.xa=Math.sin(g)*c}nn(){return d.ey(d.Ag(0,0,this.Ba,this.xa))}Or(c){this.Wb=c}ada(c){this.Ja=c}Fca(c){const g=
d.Ag(0,0,this.Ba,this.xa);this.Ba=Math.cos(c)*g;this.xa=Math.sin(c)*g}a$(){return d.Hj(0,0,this.Ba,this.xa)}Lca(c){c=!!c;this.ij!==c&&(this.ij=c,this.Db&&(this.ij?this.IH():this.JH()))}Rca(c){this.xq=c}Vg(c){(this.Db=!!c)?(this.Sh(),this.ij&&this.IH()):(this.wp(),this.JH())}Ih(){return self.C1}};const e=new WeakMap;self.C1=class extends b{constructor(){super();e.set(this,b.mn().ma)}get speed(){return e.get(this).nn()}set speed(c){a.qe(c);e.get(this).vp(c)}get acceleration(){return e.get(this).Wb}set acceleration(c){a.qe(c);
e.get(this).Or(c)}get isEnabled(){return e.get(this).Db}set isEnabled(c){e.get(this).Vg(c)}}}{"use strict";const d=self.D;d.ac.lf.G={OY(a,b){return d.compare(Math.sqrt(this.Ba*this.Ba+this.xa*this.xa),a,b)},cja(a,b){return d.compare(this.xq,a,b)},DF(){return!0},xl(){return this.Db}}}
{"use strict";const d=self.D;d.ac.lf.pb={cQ(a){this.vp(a)},M5(a){this.Or(a)},lpa(a){this.ada(a)},O5(a){this.Fca(d.kb(a))},yM(a){if(a&&(a=a.EE(this.M))){var b=this.M.A(),e=this.j.ig,c=this.j.Co(this.M),g=d.Ag(0,0,this.Ba,this.xa),m=e.AM(this.M,this.Nk,this.Ok,a);this.Ba=Math.cos(m)*g;this.xa=Math.sin(m)*g;b.$m(this.Ba*c,this.xa*c);b.ra();this.Tk&&(b.Bc(m),this.$p=b.Ha(),b.ra());0!==g&&(this.ij?e.Jz(this.M,this.Ba/g,this.xa/g,Math.max(2.5*g*c,30))||e.GF(this.M,100):e.U4(this.M,this.Ba/g,this.xa/g,Math.max(2.5*
g*c,30),a))}},Voa(a){this.Lca(a)},bpa(a){this.Rca(a)},YF(a){this.Vg(a)},rqa(){this.PK=!0}}}{"use strict";const d=self.D;d.ac.lf.ib={lQ(){return this.nn()},HX(){return this.Wb},XX(){return d.jf(this.a$())},yja(){return this.xq},ika(){return this.Ja}}}
{const d=self.D;self.zM=function(){return[d.C.Touch,d.C.qd,d.C.Text,d.C.Cb,d.ac.Nq,d.C.Keyboard,d.C.Ti,d.C.Ei,d.ac.lf,d.C.Qa.G.PO,d.C.Text.pb.Lu,d.C.Qa.ib.Yga,d.C.Qa.ib.Zga,d.C.Qa.pb.wG,d.C.Cb.pb.Qg,d.C.Text.ib.fA,d.C.Text.ib.e7,d.C.Qa.G.dr,d.C.Keyboard.G.oO,d.C.Touch.G.G2,d.C.Touch.G.UO,d.C.Cb.pb.w6,d.C.Touch.ib.fA,d.C.Touch.ib.yG,d.C.Keyboard.G.NO,d.C.Cb.pb.x3,d.C.Cb.G.cO,d.C.Cb.pb.Pg,d.C.Qa.G.dN,d.C.Keyboard.G.BF,d.C.Cb.pb.T5,d.C.Touch.G.TO,d.C.Touch.G.MO,d.C.Text.G.PY,d.C.Qa.pb.U5,d.C.Qa.G.lN,
d.C.Ei.G.D4,d.ac.lf.pb.YF,d.ac.lf.pb.cQ,d.C.Ei.ib.yQ,d.ac.lf.pb.O5,d.C.Ei.G.E4,d.C.Cb.ib.fA,d.C.Cb.ib.yG,d.C.Cb.pb.QP,d.C.Ei.ib.o7,d.C.Cb.G.QY,d.C.Cb.G.J2,d.C.Qa.G.C4,d.C.Text.pb.$M,d.C.Qa.G.N_,d.C.Qa.ib.yha,d.C.Qa.pb.SM,d.C.Qa.ib.Mga,d.C.Qa.ib.xha,d.C.Qa.G.E_,d.C.Qa.G.NY,d.C.Cb.G.HM,d.C.Qa.ib.Hga,d.C.Qa.pb.N6,d.C.Qa.ib.jga,d.ac.lf.ib.XX,d.ac.lf.ib.lQ,d.C.Qa.pb.Eu,d.C.Qa.ib.random,d.C.Qa.G.MY,d.C.Text.ib.Text,d.C.Text.G.LO,d.C.Text.pb.QP,d.C.Text.ib.F_,d.C.Touch.G.S2,d.C.Text.G.HM,d.C.Text.G.cO,d.C.Qa.G.m7,
d.C.Text.pb.Uz,d.C.Cb.pb.$M,d.C.Cb.pb.Y6,d.C.Cb.ib.Y2,d.C.Cb.pb.Mh,d.C.Cb.ib.y1,d.C.Text.pb.ud,d.C.Cb.ib.G7,d.C.Cb.pb.Oh,d.C.Qa.ib.Jha,d.C.Touch.G.VO,d.C.Touch.ib.oQ,d.C.Cb.ib.iY,d.C.Cb.ib.jY]};self.sY=[{Touch:0},{qd:0},{Hta:0},{Zha:0},{Cia:0},{Nia:0},{Kqa:0},{pna:0},{Tla:0},{Poa:0},{"8Direction":0},{ena:0},{Keyboard:0},{Ti:0},{y3:0},{fqa:0},{Yla:0},{bma:0},{fg:0},{lna:0},{kna:0},{yQ:0},{Rja:0},{oQ:0},{Yha:0},{vja:0},{cqa:0},{eqa:0},{pka:0},{gqa:0},{Kia:0},{dqa:0},{b3:0},{Ela:0},{Pqa:0},{Lia:0},{Bta:0},
{d3:0},{Ria:0},{Table:0},{Bia:0},{Jqa:0},{lf:0},{bra:0},{Uta:0},{Doa:0},{Kua:0},{Jua:0},{Mua:0},{yta:0},{Eua:0},{Lua:0}]}
{const d=self.D;function a(b,e){return"string"===typeof b||"string"===typeof e?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof e?(Math.round(1E10*e)/1E10).toString():e):b&&e?1:0}self.rY=[b=>{const e=b.X(0).Kc(),c=b.X(1).Kc();return()=>e()+" - "+c()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},()=>0,b=>{const e=b.X(0),c=b.X(1);return()=>e.Bh()+c.Bh()/2+2},()=>"Pointer",b=>{const e=b.X(0).Kc();return()=>e()},()=>"Start",()=>"Reset",b=>{const e=b.X(0);
return()=>e.Oq()},b=>{const e=b.X(0),c=b.X(1).Td;return()=>Math.abs(e.Bh()*c.Bb())},b=>{const e=b.X(0);return()=>0<e.Bh()?0:180},b=>{const e=b.X(0);return()=>e.Bh()},()=>708,()=>12,()=>"",b=>{const e=b.X(0).Kc(),c=b.X(1).Td;return()=>e(c.Bb(),",")-1},b=>{const e=b.X(0),c=b.X(1).Kc(),g=b.X(2);return()=>e.Bh()+c()*g.Ec()},b=>{const e=b.X(0),c=b.X(1);return()=>e.Bh()+c.Ec()},b=>{const e=b.X(0).Kc(),c=b.X(1).Td,g=b.X(2).Kc();return()=>e(c.Bb(),g(),",")},b=>{const e=b.X(0),c=b.X(1);return()=>e.Ec()+c.Ec()},
()=>.25,b=>{const e=b.X(0).Kc(),c=b.X(1),g=b.X(2),m=b.X(3).Td;return()=>e(a(0===c.gN()?"":"-",g.gN()/m.Bb()))},b=>{const e=b.X(0).Kc(),c=b.X(1).Td,g=b.X(2).Td,m=b.X(3).Kc(),h=b.X(4).Td,l=b.X(5).Td,n=b.X(6).Kc(),p=b.X(7).Td,q=b.X(8).Td;return()=>a(a(a(Math.round(10*e(c.Bb(),Math.sqrt(Math.abs(g.Bb()))/20))/10,","),Math.round(10*m(h.Bb(),Math.sqrt(Math.abs(l.Bb()))/20))/10)+",",Math.round(10*n(p.Bb()-q.Bb(),.2))/10)},b=>{const e=b.X(0).Td,c=b.X(1).Td,g=b.X(2).Kc(),m=b.X(3).Kc();return()=>e.Bb()+c.Bb()*
Math.sqrt(-2*Math.log(g(1)))*Math.cos(d.kb(360*m(1)))},b=>{const e=b.X(0).Td,c=b.X(1).Kc(),g=b.X(2).Kc();return()=>e.Bb()*Math.sqrt(-2*Math.log(c(1)))*Math.cos(d.kb(360*g(1)))},()=>"ToggleButton",b=>{const e=b.X(0).Kc(),c=b.X(1);return()=>e(c.Oq(),";")-1},b=>{const e=b.X(0).Kc(),c=b.X(1),g=b.X(2).Kc();return()=>e(c.Oq(),g(),";")},b=>{const e=b.X(0).Kc(),c=b.X(1),g=b.X(2).Td,m=b.X(3).Kc(),h=b.X(4);return()=>e(c.Oq(),(g.Bb()+1)%m(h.Oq(),";"),";")},()=>"Button",b=>{const e=b.X(0);return()=>Math.floor(.875*
e.Oq())},b=>{const e=b.X(0);return()=>e.Ec()},b=>{const e=b.X(0).Td;return()=>e.Bb()},b=>{const e=b.X(0),c=b.X(1),g=b.X(2),m=b.X(3);return()=>d.At(e.Ec(),c.Ec(),g.Ec())*m.Bh()},b=>{const e=b.X(0),c=b.X(1),g=b.X(2);return()=>a(e.Ec(),c.Ec())+g.Ec()},b=>{const e=b.X(0),c=b.X(1),g=b.X(2);return()=>a(e.Ec(),Math.round(c.Ec()))+g.Ec()},b=>{const e=b.X(0),c=b.X(1),g=b.X(2).Kc(),m=b.X(3),h=b.X(4),l=b.X(5),n=b.X(6),p=b.X(7);return()=>a(e.Ec(),Math.floor(c.Ec()))+"."+g(Math.floor((m.Ec()-Math.floor(h.Ec()))*
Math.pow(10,l.Ec())),n.Ec())+p.Ec()},()=>-1,b=>{const e=b.X(0),c=b.X(1),g=b.X(2),m=b.X(3),h=b.X(4).Kc(),l=b.X(5),n=b.X(6),p=b.X(7),q=b.X(8);return()=>Math.round(d.Zd(e.Ec(),c.Ec(),d.At(g.Bh(),m.Bh(),d.ia(h(),l.Bh(),n.Bh())))/p.Ec())*q.Ec()}]};
