// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function a(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=B*E+l*I;f[2]=x*K+D*t;f[3]=B*K+l*t;return f}function b(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function d(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=B*K+E*N;f[2]=x*Q+D*S;f[3]=B*Q+E*S;f[4]=x*W+D*t+I;f[5]=B*W+E*t+l;return f}function c(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-
t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*D+W*K+V*l;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*D+ia*K+ca*l;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*D+la*K+
t*l;return f}function h(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];return f}function k(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=l[8],W=l[9],V=l[10],ea=l[11],ia=l[12],ca=l[13],oa=l[14];l=l[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*l;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*l;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*l;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*l;return f}function p(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=x+x,K=B+B,N=D+D;l=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(l+D);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(l+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,l){f[0]=l[12];f[1]=l[13];f[2]=l[14];return f}function u(f,l){var t=l[4],x=l[5],B=l[6],D=l[8],E=l[9],I=l[10];f[0]=Math.hypot(l[0],l[1],l[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(D,
E,I);return f}function w(f,l){var t=new qa(3);u(t,l);var x=1/t[0],B=1/t[1],D=1/t[2],E=l[0]*x;t=l[1]*B;var I=l[2]*D,K=l[4]*x,N=l[5]*B,Q=l[6]*D;x*=l[8];B*=l[9];l=l[10]*D;D=E+N+l;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>l?(E=2*Math.sqrt(1+E-N-l),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>l?(E=2*Math.sqrt(1+N-E-l),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+l-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,l,t,x,B,D,E){var I=1/(l-t),K=1/(x-B),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];
f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];f[9]=l[9]-t[9];f[10]=l[10]-t[10];f[11]=l[11]-t[11];f[12]=l[12]-t[12];f[13]=l[13]-t[13];f[14]=l[14]-t[14];f[15]=l[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,l,t){var x=new qa(3);x[0]=f;x[1]=l;x[2]=t;return x}function F(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];return f}function H(f,l,t){f[0]=
l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];return f}function J(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];return f}function M(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2])}function P(f,l){var t=l[0]-f[0],x=l[1]-f[1];f=l[2]-f[2];return t*t+x*x+f*f}function R(f){var l=f[0],t=f[1];f=f[2];return l*l+t*t+f*f}function T(f,l){var t=l[0],x=l[1],B=l[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f}function Z(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]}function X(f,
l,t){var x=l[0],B=l[1];l=l[2];var D=t[0],E=t[1];t=t[2];f[0]=B*t-l*E;f[1]=l*D-x*t;f[2]=x*E-B*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l}function va(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B}function ta(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f}function ya(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,l,t){f[0]=l[0]+t[0];
f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];return f}function Sa(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function Ta(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];f[3]=l[3]*t[3];return f}function Ua(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];f[3]=l[3]/t[3];return f}function Wa(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f}function eb(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2],l[3]-f[3])}function fb(f,l){var t=l[0]-f[0],
x=l[1]-f[1],B=l[2]-f[2];f=l[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var l=f[0],t=f[1],x=f[2];f=f[3];return l*l+t*t+x*x+f*f}function ib(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t*t+x*x+B*B+l*l;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=B*D;f[3]=l*D;return f}function Ya(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]*l[3]}function vb(f,l,t,x){var B=l[0],D=l[1],E=l[2];l=l[3];f[0]=B+x*(t[0]-B);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=l+
x*(t[3]-l);return f}function wb(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,l,t){t*=.5;var x=Math.sin(t);f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=Math.cos(t);return f}function yb(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+l*E+B*K-D*I;f[1]=B*t+l*I+D*E-x*K;f[2]=D*t+l*K+x*I-B*E;f[3]=l*t-x*E-B*I-D*K;return f}function zb(f,l,t){t*=.5;var x=l[0],B=
l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+l*E;f[1]=B*t+D*E;f[2]=D*t-B*E;f[3]=l*t-x*E;return f}function Ab(f,l,t){t*=.5;var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=B*t+l*E;f[2]=D*t+x*E;f[3]=l*t-B*E;return f}function Bb(f,l,t){t*=.5;var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=D*t+l*E;f[3]=l*t-D*E;return f}function Cb(f,l){var t=l[0],x=l[1],B=l[2],D=Math.sqrt(t*t+x*x+B*B);l=Math.exp(l[3]);var E=
0<D?l*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=l*Math.cos(D);return f}function Db(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=Math.sqrt(t*t+x*x+B*B);D=0<D?Math.atan2(D,l)/D:0;f[0]=t*D;f[1]=x*D;f[2]=B*D;f[3]=.5*Math.log(t*t+x*x+B*B+l*l);return f}function kb(f,l,t,x){var B=l[0],D=l[1],E=l[2];l=l[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+D*K+E*N+l*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*l+x*t;return f}function Eb(f,l){var t=l[0]+l[4]+l[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(l[5]-l[7])*t,f[1]=(l[6]-l[2])*t,f[2]=(l[1]-l[3])*t;else{var x=0;l[4]>l[0]&&(x=1);l[8]>l[3*x+x]&&(x=2);var B=(x+1)%3,D=(x+2)%3;t=Math.sqrt(l[3*x+x]-l[3*B+B]-l[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(l[3*B+D]-l[3*D+B])*t;f[B]=(l[3*B+x]+l[3*x+B])*t;f[D]=(l[3*D+x]+l[3*x+D])*t}return f}function Fb(f,l,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var D=l[0],E=l[1],I=l[2];l=l[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=l;f[4]=x*l+B*I-t*E;f[5]=B*l+t*D-x*I;f[6]=t*l+x*E-B*D;f[7]=-x*D-B*E-t*I;return f}function Gb(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];return f}function lb(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=l[4],W=l[5],V=l[6];l=l[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-D*ia;f[1]=B*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-D*ca;f[4]=x*Q+E*I+B*N-D*K+S*t+l*ea+W*ca-V*ia;f[5]=B*Q+E*K+D*I-x*
N+W*t+l*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-B*I+V*t+l*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-D*N+l*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];return f}function nb(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];return f}function Za(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];return f}function ob(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1])}function Qa(f,l){var t=l[0]-f[0];f=l[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var l=f[0];f=f[1];return l*l+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Jfa(){return qa},Tka:Ma,Ifa:"zyx",Rra:function(f){qa=f},bsa:function(f){return f*Mb},sd:function(f,l){return Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l},ua:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f},Yw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},If:function(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B},set:function(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f},iW:function(f,l){if(f===l){var t=l[1];f[1]=l[2];f[2]=t}else f[0]=l[0],
f[1]=l[2],f[2]=l[1],f[3]=l[3];return f},Ks:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t*l-B*x;if(!D)return null;D=1/D;f[0]=l*D;f[1]=-x*D;f[2]=-B*D;f[3]=t*D;return f},cV:function(f,l){var t=l[0];f[0]=l[3];f[1]=-l[1];f[2]=-l[2];f[3]=t;return f},FK:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=B*t+l*E;f[2]=x*-E+D*t;f[3]=B*-E+l*t;return f},scale:function(f,l,t){var x=l[1],B=l[2],D=l[3],
E=t[0];t=t[1];f[0]=l[0]*E;f[1]=x*E;f[2]=B*t;f[3]=D*t;return f},KC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;return f},KK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=l[1];return f},qm:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},JK:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},bja:function(f,l,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,l,t]},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+
t[3];return f},rm:b,uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]},sd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var D=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},ZK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f},$K:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},Un:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(6);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];return l},ua:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];return f},Yw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},If:function(f,
l,t,x,B,D){var E=new qa(6);E[0]=f;E[1]=l;E[2]=t;E[3]=x;E[4]=B;E[5]=D;return E},set:function(f,l,t,x,B,D,E){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;return f},Ks:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4];l=l[5];var I=t*D-x*B;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*l-D*E)*I;f[5]=(x*E-t*l)*I;return f},FK:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=B*t+E*K;f[2]=x*-K+D*t;f[3]=B*-K+E*t;f[4]=I;f[5]=l;return f},scale:function(f,l,t){var x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=t[0];t=t[1];f[0]=l[0]*K;f[1]=x*K;f[2]=B*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4];l=l[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=B*K+E*t+l;return f},KC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;f[4]=0;f[5]=0;return f},KK:function(f,l){f[0]=l[0];f[1]=
0;f[2]=0;f[3]=l[1];f[4]=0;f[5]=0;return f},LK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=l[0];f[5]=l[1];return f},qm:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},JK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];return f},rm:c,ZK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;return f},
$K:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;return f},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4];f=f[5];var I=l[0],K=l[1],N=l[2],Q=l[3],S=l[4];l=l[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Un:d,sub:c}),Qb=Object.freeze({__proto__:null,create:g,kea:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[4];f[4]=l[5];f[5]=l[6];f[6]=l[8];f[7]=l[9];f[8]=l[10];return f},clone:function(f){var l=new qa(9);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=f[8];return l},ua:function(f,
l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},If:function(f,l,t,x,B,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=l;N[2]=t;N[3]=x;N[4]=B;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,l,t,x,B,D,E,I,K,N){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Yw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},iW:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[5];f[1]=l[3];f[2]=l[6];f[3]=t;f[5]=
l[7];f[6]=x;f[7]=B}else f[0]=l[0],f[1]=l[3],f[2]=l[6],f[3]=l[1],f[4]=l[4],f[5]=l[7],f[6]=l[2],f[7]=l[5],f[8]=l[8];return f},Ks:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=l[8];var Q=l*E-I*N,S=-l*D+I*K,W=N*D-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-l*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(l*t-B*K)*V;f[5]=(-I*t+B*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},cV:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=
l[8];f[0]=E*l-I*N;f[1]=B*N-x*l;f[2]=x*I-B*E;f[3]=I*K-D*l;f[4]=t*l-B*K;f[5]=B*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},FK:function(f){var l=f[3],t=f[4],x=f[5],B=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*l+x*B)+f[2]*(D*l-t*B)},multiply:m,translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*D+t*K+l;return f},rotate:function(f,l,t){var x=l[0],B=
l[1],D=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=l;return f},scale:function(f,l,t){var x=t[0];t=t[1];f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=t*l[3];f[4]=t*l[4];f[5]=t*l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},LK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=l[0];f[7]=l[1];f[8]=1;return f},KC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=
t;f[2]=0;f[3]=-t;f[4]=l;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},KK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=l[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Dpa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=0;f[3]=l[2];f[4]=l[3];f[5]=0;f[6]=l[4];f[7]=l[5];f[8]=1;return f},lea:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t+t,E=x+x,I=B+B;t*=D;var K=x*D;x*=E;var N=B*D,Q=B*E;B*=I;D*=l;E*=l;l*=I;f[0]=1-x-B;f[3]=K-l;f[6]=N+E;f[1]=K+l;f[4]=1-t-B;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},Sqa:function(f,
l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*l-V*ea;var Ca=S*ca-W*ia;S=S*l-V*ia;W=W*l-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-D*Ca)*V;f[4]=(t*W-B*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+l*sa)*V;f[7]=(ca*ra-
ea*za-l*la)*V;f[8]=(ea*pa-ia*ra+l*oa)*V;return f},PV:function(f,l,t){f[0]=2/l;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},qm:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},JK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];
return f},rm:h,ZK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;return f},$K:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;return f},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]},sd:function(f,l){var t=f[0],
x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=l[0],S=l[1],W=l[2],V=l[3],ea=l[4],ia=l[5],ca=l[6],oa=l[7];l=l[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Un:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var l=new qa(16);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=
f[8];l[9]=f[9];l[10]=f[10];l[11]=f[11];l[12]=f[12];l[13]=f[13];l[14]=f[14];l[15]=f[15];return l},ua:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];f[9]=l[9];f[10]=l[10];f[11]=l[11];f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=l[15];return f},If:function(f,l,t,x,B,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=l;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,l,t,x,B,D,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Yw:k,iW:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[3],D=l[6],E=l[7],I=l[11];f[1]=l[4];f[2]=l[8];f[3]=l[12];f[4]=t;f[6]=l[9];f[7]=l[13];f[8]=x;f[9]=D;f[11]=l[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=l[0],f[1]=l[4],f[2]=l[8],f[3]=l[12],f[4]=l[1],f[5]=l[5],f[6]=l[9],f[7]=l[13],f[8]=l[2],f[9]=l[6],f[10]=l[10],f[11]=l[14],
f[12]=l[3],f[13]=l[7],f[14]=l[11],f[15]=l[15];return f},Ks:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+l*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-l*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+l*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},cV:function(f,l){var t=l[0],x=l[1],B=l[2],D=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-D*E,sa=x*K-B*I,pa=x*N-D*I,za=B*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+l*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+D*Ba;f[6]=ca*ra-ea*za-l*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+l*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},FK:function(f){var l=f[0],t=f[1],x=f[2],
B=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=l*D-t*B,ea=l*E-x*B,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(l*la-t*oa+x*ca)-f[3]*(B*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,l,t){var x=t[0],B=t[1];t=t[2];if(l===f)f[12]=l[0]*x+l[4]*B+l[8]*t+l[12],f[13]=l[1]*x+l[5]*B+l[9]*t+l[13],f[14]=l[2]*x+l[6]*B+l[10]*t+l[14],f[15]=l[3]*x+l[7]*B+l[11]*t+l[15];else{var D=l[0];var E=l[1];var I=l[2];var K=l[3];var N=l[4];var Q=l[5];
var S=l[6];var W=l[7];var V=l[8];var ea=l[9];var ia=l[10];var ca=l[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*B+V*t+l[12];f[13]=E*x+Q*B+ea*t+l[13];f[14]=I*x+S*B+ia*t+l[14];f[15]=K*x+W*B+ca*t+l[15]}return f},scale:function(f,l,t){var x=t[0],B=t[1];t=t[2];f[0]=l[0]*x;f[1]=l[1]*x;f[2]=l[2]*x;f[3]=l[3]*x;f[4]=l[4]*B;f[5]=l[5]*B;f[6]=l[6]*B;f[7]=l[7]*B;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=
l[15];return f},rotate:function(f,l,t,x){var B=x[0],D=x[1];x=x[2];var E=Math.hypot(B,D,x);if(1E-6>E)return null;E=1/E;B*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=l[0];E=l[1];var Q=l[2];var S=l[3];var W=l[4];var V=l[5];var ea=l[6];var ia=l[7];var ca=l[8];var oa=l[9];var la=l[10];var ra=l[11];var sa=B*B*N+K;var pa=D*B*N+x*I;var za=x*B*N-D*I;var Aa=B*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+B*I;var Fa=B*x*N+D*I;B=D*x*N-B*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*D;f[9]=E*Fa+V*B+oa*D;f[10]=Q*Fa+ea*B+la*D;f[11]=S*Fa+ia*B+ra*D;l!==f&&(f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);return f},iL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[4],D=l[5],E=l[6],I=l[7],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[4]=B*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},jL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],D=l[1],E=l[2],I=l[3],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},kL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],D=l[1],E=l[2],I=l[3],K=l[4],
N=l[5],Q=l[6],S=l[7];l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},LK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=l[0];f[13]=l[1];f[14]=l[2];f[15]=1;return f},KK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=l[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},KC:function(f,l,t){var x=t[0],B=t[1];t=t[2];var D=Math.hypot(x,B,t);if(1E-6>D)return null;D=1/D;x*=D;B*=D;t*=D;D=Math.sin(l);l=Math.cos(l);var E=1-l;f[0]=x*x*E+l;f[1]=B*x*E+t*D;f[2]=t*x*E-B*D;f[3]=0;f[4]=x*B*E-t*D;f[5]=B*B*E+l;f[6]=t*B*E+x*D;f[7]=0;f[8]=x*t*E+B*D;f[9]=B*t*E-x*D;f[10]=t*t*E+l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Jpa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Kpa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Lpa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},mea:p,Fpa:function(f,l){var t=new qa(3),x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],
N=l[6],Q=l[7],S=x*x+B*B+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*B),t[1]=2*(K*E+Q*B+N*x-I*D),t[2]=2*(N*E+Q*D+I*B-K*x));p(f,l,t);return f},pea:q,Wpa:u,Vpa:w,opa:function(f,l,t,x){l[0]=x[12];l[1]=x[13];l[2]=x[14];var B=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];l=x[9];x=x[10];t[0]=Math.hypot(B,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,l,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;l*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-l)/x,f[1]=(Q-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-l)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+l)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(Q+E)/x,f[1]=(N+l)/x,f[2]=.25*x);return f},Gpa:function(f,l,t,x){var B=l[0],D=l[1],E=l[2],I=l[3],K=B+B,N=D+D,Q=E+E;l=B*K;var S=B*N;B*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(l+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(D-K)*x;f[10]=(1-(l+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Hpa:function(f,l,t,x,B){var D=l[0],E=l[1],I=l[2],K=l[3],N=D+D,Q=E+E,S=I+I;l=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(l+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;l=(1-(l+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=l;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+l*B);f[15]=1;return f},lea:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var D=t+t,E=x+x,I=B+B;t*=D;var K=x*D;x*=E;var N=B*D,Q=B*E;B*=I;D*=l;E*=l;l*=I;f[0]=1-x-B;f[1]=K+l;f[2]=N-E;f[3]=0;f[4]=K-l;f[5]=1-t-B;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},nea:function(f,l,t,x,B,D,E){var I=1/(t-l),K=1/(B-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+l)*I;f[9]=(B+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},dra:r,perspective:r,fra:function(f,l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},cra:function(f,l,t,x){var B=Math.tan(l.gsa*Math.PI/180),D=Math.tan(l.qpa*Math.PI/
180),E=Math.tan(l.Fqa*Math.PI/180);l=Math.tan(l.Bra*Math.PI/180);var I=2/(E+l),K=2/(B+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-l)*I*.5);f[9]=(B-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},ara:v,Vea:v,bra:function(f,l,t,x,B,D,E){var I=1/(l-t),K=1/(x-B);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=D*E;f[15]=1;return f},Kea:function(f,l,t,x){var B=
l[0],D=l[1];l=l[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(l-Q))return k(f);t=B-N;x=D-x;N=l-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*D+E*l);f[13]=
-(I*B+W*D+V*l);f[14]=-(t*B+x*D+N*l);f[15]=1;return f},Xra:function(f,l,t,x){var B=l[0],D=l[1];l=l[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=D-t[1];t=l-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=D;f[14]=l;f[15]=1;return f},qm:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},JK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];f[9]=l[9]+t[9];f[10]=l[10]+t[10];f[11]=l[11]+t[11];f[12]=l[12]+t[12];f[13]=l[13]+t[13];
f[14]=l[14]+t[14];f[15]=l[15]+t[15];return f},rm:y,ZK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12]*t;f[13]=l[13]*t;f[14]=l[14]*t;f[15]=l[15]*t;return f},$K:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;f[9]=l[9]+t[9]*x;f[10]=l[10]+t[10]*x;f[11]=
l[11]+t[11]*x;f[12]=l[12]+t[12]*x;f[13]=l[13]+t[13]*x;f[14]=l[14]+t[14]*x;f[15]=l[15]+t[15]*x;return f},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=l[0],
la=l[1],ra=l[2],sa=l[3],pa=l[4],za=l[5],Aa=l[6],Ba=l[7],Ca=l[8],Fa=l[9],Ja=l[10],Ka=l[11],Da=l[12],Hb=l[13],Ib=l[14];l=l[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Un:n,sub:y}),rb=function(){var f=A();return function(l,t,x,B,D,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],D(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2];return l}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var l=new qa(3);l[0]=f[0];l[1]=f[1];l[2]=f[2];return l},length:G,If:z,ua:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];return f},set:function(f,l,
t,x){f[0]=l;f[1]=t;f[2]=x;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];return f},rm:F,multiply:H,lm:J,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],
t[2]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f},lL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;return f},Vw:M,cW:P,WC:R,JV:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];return f},normalize:T,Rn:Z,EK:X,ie:function(f,l,t,x){var B=l[0],D=l[1];l=l[2];f[0]=B+x*(t[0]-B);f[1]=D+x*(t[1]-
D);f[2]=l+x*(t[2]-l);return f},mfa:function(f,l,t,x){var B=Math.acos(Math.min(Math.max(Z(l,t),-1),1)),D=Math.sin(B),E=Math.sin((1-x)*B)/D;x=Math.sin(x*B)/D;f[0]=E*l[0]+x*t[0];f[1]=E*l[1]+x*t[1];f[2]=E*l[2]+x*t[2];return f},aqa:function(f,l,t,x,B,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=l[0]*I+t[0]*K+x[0]*N+B[0]*D;f[1]=l[1]*I+t[1]*K+x[1]*N+B[1]*D;f[2]=l[2]*I+t[2]*K+x[2]*N+B[2]*D;return f},Woa:function(f,l,t,x,B,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=l[0]*N+
t[0]*I+x[0]*E+B[0]*D;f[1]=l[1]*N+t[1]*I+x[1]*E+B[1]*D;f[2]=l[2]*N+t[2]*I+x[2]*E+B[2]*D;return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*l;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*l;return f},tL:function(f,l,t){var x=l[0],B=l[1];l=l[2];var D=t[3]*x+t[7]*B+t[11]*l+t[15];D=D||1;f[0]=(t[0]*x+t[4]*B+t[8]*l+t[12])/D;f[1]=(t[1]*x+t[5]*B+t[9]*l+t[13])/D;f[2]=(t[2]*x+t[6]*B+t[10]*l+t[14])/D;return f},yfa:function(f,l,t){var x=l[0],B=l[1];l=l[2];f[0]=x*t[0]+B*t[3]+
l*t[6];f[1]=x*t[1]+B*t[4]+l*t[7];f[2]=x*t[2]+B*t[5]+l*t[8];return f},zfa:function(f,l,t){var x=t[0],B=t[1],D=t[2],E=l[0],I=l[1];l=l[2];var K=B*l-D*I,N=D*E-x*l,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-D*N);f[1]=I+N*t+2*(D*K-x*Q);f[2]=l+Q*t+2*(x*N-B*K);return f},iL:function(f,l,t,x){var B=[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[0];D[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);D[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},jL:function(f,l,t,x){var B=
[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);D[1]=B[1];D[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},kL:function(f,l,t,x){var B=[],D=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];D[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);D[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);D[2]=B[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,l){var t=f[0],x=f[1],B=f[2],D=l[0],E=l[1],I=l[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(D*D+E*E+I*I)))&&Z(f,l)/t;return Math.acos(Math.min(Math.max(f,-1),1))},tW:function(f){f[0]=0;f[1]=0;f[2]=0;return f},qm:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]},sd:function(f,l){var t=f[0],x=f[1];f=f[2];var B=l[0],D=l[1];l=l[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:F,
Un:H,qV:J,oV:M,bW:P,cx:G,VC:R,forEach:rb});var sb=function(){var f=ba();return function(l,t,x,B,D,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],f[3]=l[x+3],D(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2],l[x+3]=f[3];return l}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,If:va,ua:ta,set:ya,add:Na,rm:Sa,multiply:Ta,lm:Ua,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);f[3]=Math.ceil(l[3]);return f},floor:function(f,
l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);f[3]=Math.floor(l[3]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);f[3]=Math.min(l[3],t[3]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],t[2]);f[3]=Math.max(l[3],t[3]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);f[3]=Math.round(l[3]);return f},scale:Wa,lL:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},Vw:eb,cW:fb,length:Pa,WC:Va,JV:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=-l[3];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];f[3]=1/l[3];return f},normalize:ib,Rn:Ya,EK:function(f,l,t,x){var B=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=l[0];var N=l[1],Q=l[2];l=l[3];f[0]=N*t-Q*K+l*I;f[1]=-(x*t)+
Q*E-l*D;f[2]=x*K-N*E+l*B;f[3]=-(x*I)+N*D-Q*B;return f},ie:vb,random:function(f,l){l=l||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=l*t;f[1]=l*x;f[2]=l*D*B;f[3]=l*E*B;return f},tL:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];f[0]=t[0]*x+t[4]*B+t[8]*D+t[12]*l;f[1]=t[1]*x+t[5]*B+t[9]*D+t[13]*l;f[2]=t[2]*x+t[6]*B+t[10]*D+t[14]*l;f[3]=t[3]*x+t[7]*B+t[11]*D+t[15]*l;return f},zfa:function(f,l,t){var x=
l[0],B=l[1],D=l[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*B,Q=t*B+K*x-E*D,S=t*D+E*B-I*x;x=-E*x-I*B-K*D;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=l[3];return f},tW:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},qm:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},uj:wb,sd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var D=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:Sa,Un:Ta,qV:Ua,oV:eb,bW:fb,cx:Pa,VC:Va,forEach:sb});var tb=function(){var f=A(),l=z(1,0,0),t=z(0,1,0);return function(x,B,D){var E=Z(B,D);if(-.999999>E)return X(f,l,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),l=
jb();return function(t,x,B,D,E,I){kb(f,x,E,I);kb(l,B,D,I);kb(t,f,l,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(l,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(l,Eb(l,f))}}();tb=Object.freeze({__proto__:null,create:jb,Yw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Pra:xb,Spa:function(f,l){var t=2*Math.acos(l[3]),x=Math.sin(t/2);1E-6<x?(f[0]=l[0]/x,f[1]=l[1]/x,f[2]=l[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Qpa:function(f,
l){f=Ya(f,l);return Math.acos(2*f*f-1)},multiply:yb,iL:zb,jL:Ab,kL:Bb,Yoa:function(f,l){var t=l[0],x=l[1];l=l[2];f[0]=t;f[1]=x;f[2]=l;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-l*l));return f},exp:Cb,Jea:Db,pow:function(f,l,t){Db(f,l);Wa(f,f,t);Cb(f,f);return f},mfa:kb,random:function(f){var l=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-l);l=Math.sqrt(l);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=l*Math.sin(2*Math.PI*x);f[3]=l*Math.cos(2*Math.PI*x);return f},Ks:function(f,l){var t=l[0],x=l[1],B=l[2];
l=l[3];var D=t*t+x*x+B*B+l*l;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-B*D;f[3]=l*D;return f},Zda:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];return f},Epa:Eb,Cpa:function(f,l,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;l*=D;x*=D;t*=D;D=Math.sin(l);var E=Math.cos(l),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "xzy":f[0]=D*K*Q-E*I*N;f[1]=E*
I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yxz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yzx":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zxy":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zyx":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+B);}return f},qm:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,If:va,ua:ta,set:ya,add:Na,Un:yb,scale:Wa,Rn:Ya,ie:vb,length:Pa,cx:Pa,WC:Va,VC:Va,normalize:ib,uj:wb,sd:function(f,l){return.999999<=Math.abs(Ya(f,l))},Fra:tb,Ura:ub,Ora:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var l=new qa(8);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];return l},If:function(f,l,t,x,B,D,E,I){var K=
new qa(8);K[0]=f;K[1]=l;K[2]=t;K[3]=x;K[4]=B;K[5]=D;K[6]=E;K[7]=I;return K},Ipa:function(f,l,t,x,B,D,E){var I=new qa(8);I[0]=f;I[1]=l;I[2]=t;I[3]=x;B*=.5;D*=.5;E*=.5;I[4]=B*x+D*t-E*l;I[5]=D*x+E*f-B*t;I[6]=E*x+B*l-D*f;I[7]=-B*f-D*l-E*t;return I},mea:Fb,LK:function(f,l){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*l[0];f[5]=.5*l[1];f[6]=.5*l[2];f[7]=0;return f},KC:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},kea:function(f,l){var t=jb();w(t,l);var x=new qa(3);q(x,
l);Fb(f,t,x);return f},ua:Gb,Yw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,l,t,x,B,D,E,I,K){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},Upa:ta,Tpa:function(f,l){f[0]=l[4];f[1]=l[5];f[2]=l[6];f[3]=l[7];return f},Sra:ta,Qra:function(f,l){f[4]=l[0];f[5]=l[1];f[6]=l[2];f[7]=l[3];return f},pea:function(f,l){var t=l[4],x=l[5],B=l[6],D=l[7],E=-l[0],I=-l[1],K=-l[2];l=l[3];f[0]=2*(t*l+D*E+x*K-B*I);f[1]=2*(x*l+D*I+B*E-t*K);f[2]=2*(B*l+
D*K+t*I-x*E);return f},translate:function(f,l,t){var x=l[0],B=l[1],D=l[2],E=l[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=l[4],Q=l[5],S=l[6];l=l[7];f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=E*I+B*t-D*K+N;f[5]=E*K+D*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-D*t+l;return f},iL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;zb(f,l,t);x=f[0];B=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+
I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},jL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;Ab(f,l,t);x=f[0];B=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},kL:function(f,l,t){var x=-l[0],B=-l[1],D=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*D-N*B,W=K*E+Q*B+N*x-I*D,V=N*E+Q*D+I*B-K*x;I=Q*E-I*x-K*B-N*D;Bb(f,l,t);x=f[0];B=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*B;f[5]=W*E+I*B+V*x-S*D;f[6]=V*E+I*D+S*B-W*x;f[7]=I*E-S*x-W*B-V*D;return f},Dra:function(f,l,t){var x=t[0],B=t[1],D=t[2];t=t[3];var E=l[0],I=l[1],K=l[2],N=l[3];f[0]=E*t+N*x+I*D-K*B;f[1]=I*t+N*B+K*x-E*D;f[2]=K*t+N*D+E*B-I*x;f[3]=N*t-E*x-I*B-K*D;E=l[4];I=l[5];K=l[6];N=l[7];f[4]=E*t+N*x+I*D-K*B;f[5]=I*t+N*B+K*x-E*D;f[6]=K*t+N*D+E*B-I*x;f[7]=N*t-E*x-I*B-K*D;return f},Era:function(f,l,t){var x=l[0],B=l[1],D=l[2];l=l[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+l*E+B*
K-D*I;f[1]=B*N+l*I+D*E-x*K;f[2]=D*N+l*K+x*I-B*E;f[3]=l*N-x*E-B*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+l*E+B*K-D*I;f[5]=B*N+l*I+D*E-x*K;f[6]=D*N+l*K+x*I-B*E;f[7]=l*N-x*E-B*I-D*K;return f},Cra:function(f,l,t,x){if(1E-6>Math.abs(x))return Gb(f,l);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/B,I=D*t[1]/B;t=D*t[2]/B;x=Math.cos(x);B=l[0];D=l[1];var K=l[2],N=l[3];f[0]=B*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-D*E;f[3]=N*x-B*E-D*I-K*t;B=l[4];D=l[5];K=l[6];l=l[7];f[4]=
B*x+l*E+D*t-K*I;f[5]=D*x+l*I+K*E-B*t;f[6]=K*x+l*t+B*I-D*E;f[7]=l*x-B*E-D*I-K*t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];return f},multiply:lb,Un:lb,scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;return f},Rn:Ya,ie:function(f,l,t,x){var B=1-x;0>Ya(l,t)&&(x=-x);f[0]=l[0]*B+t[0]*x;f[1]=l[1]*B+t[1]*x;f[2]=l[2]*B+t[2]*x;f[3]=
l[3]*B+t[3]*x;f[4]=l[4]*B+t[4]*x;f[5]=l[5]*B+t[5]*x;f[6]=l[6]*B+t[6]*x;f[7]=l[7]*B+t[7]*x;return f},Ks:function(f,l){var t=Va(l);f[0]=-l[0]/t;f[1]=-l[1]/t;f[2]=-l[2]/t;f[3]=l[3]/t;f[4]=-l[4]/t;f[5]=-l[5]/t;f[6]=-l[6]/t;f[7]=l[7]/t;return f},Zda:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];f[4]=-l[4];f[5]=-l[5];f[6]=-l[6];f[7]=l[7];return f},length:Pa,cx:Pa,WC:Va,VC:Va,normalize:function(f,l){var t=Va(l);if(0<t){t=Math.sqrt(t);var x=l[0]/t,B=l[1]/t,D=l[2]/t,E=l[3]/t,I=l[4],K=l[5],N=l[6];
l=l[7];var Q=x*I+B*K+D*N+E*l;f[0]=x;f[1]=B;f[2]=D;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-D*Q)/t;f[7]=(l-E*Q)/t}return f},qm:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=l[0],Q=l[1],S=l[2],W=l[3],V=l[4],ea=l[5],ia=l[6];l=l[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}});gb=function(){var f=Xa();return function(l,
t,x,B,D,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],D(f,f,E),l[x]=f[0],l[x+1]=f[1];return l}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var l=new qa(2);l[0]=f[0];l[1]=f[1];return l},If:function(f,l){var t=new qa(2);t[0]=f;t[1]=l;return t},ua:function(f,l){f[0]=l[0];f[1]=l[1];return f},set:function(f,l,t){f[0]=l;f[1]=t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];return f},rm:mb,multiply:nb,lm:Za,ceil:function(f,
l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;return f},lL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;return f},Vw:ob,cW:Qa,length:pb,
WC:qb,JV:function(f,l){f[0]=-l[0];f[1]=-l[1];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];return f},normalize:function(f,l){var t=l[0],x=l[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;return f},Rn:function(f,l){return f[0]*l[0]+f[1]*l[1]},EK:function(f,l,t){l=l[0]*t[1]-l[1]*t[0];f[0]=f[1]=0;f[2]=l;return f},ie:function(f,l,t,x){var B=l[0];l=l[1];f[0]=B+x*(t[0]-B);f[1]=l+x*(t[1]-l);return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*l;f[1]=Math.sin(t)*
l;return f},dsa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l;f[1]=t[1]*x+t[3]*l;return f},esa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l+t[4];f[1]=t[1]*x+t[3]*l+t[5];return f},yfa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[3]*l+t[6];f[1]=t[1]*x+t[4]*l+t[7];return f},tL:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[4]*l+t[12];f[1]=t[1]*x+t[5]*l+t[13];return f},rotate:function(f,l,t,x){var B=l[0]-t[0];l=l[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=B*x-l*D+t[0];f[1]=B*D+l*
x+t[1];return f},angle:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];var B=Math.sqrt((t*t+f*f)*(x*x+l*l));return Math.acos(Math.min(Math.max(B&&(t*x+f*l)/B,-1),1))},tW:function(f){f[0]=0;f[1]=0;return f},qm:function(f){return"vec2("+f[0]+", "+f[1]+")"},uj:function(f,l){return f[0]===l[0]&&f[1]===l[1]},sd:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},cx:pb,sub:mb,Un:nb,qV:Za,
oV:ob,bW:Qa,VC:qb,forEach:gb});e.vj=Nb;e.Kqa=Ob;e.Lqa=Pb;e.Mqa=Qb;e.nm=Rb;e.mra=tb;e.nra=ub;e.osa=gb;e.$C=rb;e.qx=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Ooa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.vj={}));
{"use strict";function e(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function d(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function k(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(k(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(k(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=g(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=g(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(h(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(M),ba.push(M),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(d(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=g(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.ira={npa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},ora:w,kqa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(e(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(e(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},tra:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},ura:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Iqa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const e=self.C=class{constructor(){throw TypeError("static class can't be instantiated");}};e.$w=!1;e.UK=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.jh={}}
{"use strict";const e=self.C;e.cO=class{constructor(a){this.qda=a;this.Na=new Map;this.D$()}D$(){var a=this.qda;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.E$(b)}E$(a){if(a)if(a.includes("=")){var b=a.indexOf("="),d=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Na.set(d,a)}else this.Na.set(a,null)}yy(a){return this.Na.has(a)}ea(a){a=this.Na.get(a);return"undefined"===typeof a?null:a}};e.TE=new e.cO(location.search);
e.qja=new e.cO(location.hash);e.TE.ea("mode")}
{"use strict";const e=self.C,a=navigator.userAgent;let b={Iea:/linux|openbsd|freebsd|netbsd/i.test(a),Wda:/CrOS/.test(a),aD:/trident|iemobile|msie|tizen/i.test(a),Ppa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),hV:/bb10/i.test(a),jea:/edge\//i.test(a),kW:/trident/i.test(a),webkit:/webkit/i.test(a),ffa:/safari\//i.test(a),Vda:/chrome\//i.test(a),Xda:/chromium\//i.test(a),$da:/crosswalk|xwalk/i.test(a),Uqa:/nwjs/i.test(a),Kda:/amazonwebappplatform/i.test(a),Efa:/wv\)/.test(a),Lda:/android/i.test(a),
Sea:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let d="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",k="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.Iea,()=>{d="Linux"});u("isChromeOS",b.Wda,()=>{d="Chrome OS"});u("isAndroid",!b.aD&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.aD&&Ub,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.aD&&Vb,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.hV,()=>{d="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.jea&&!b.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==g&&b.kW,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.ffa&&!b.Sea&&!b.Vda&&!b.Xda&&!b.Opa&&!b.hV,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.$da,()=>k="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");u("isNWJS",$b,r=>{k="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.Kda,()=>k="webapp");
u("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");u("isFalseSafari","Safari"===g&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===k&&b.Efa,()=>k="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!b.aD&&b.Lda,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&b.kW,()=>h="Trident");u("isWebkitFallback","(unknown)"===d&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===k,()=>n=!0);p="nwjs"===k;const w="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(d="iOS",c=m,p=n=!1);e.Sc={Jq:d,Mja:c,Qc:g,zga:m,mD:parseFloat(m),zx:h,tD:k,Bia:n,IE:!n,Cia:p,xia:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),tia:"Mac OS X"===d||"iOS"===d,Jia:w,Kia:"Linux"===d}}"use strict";
{const e=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function m(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await k(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(w),h(w,r,v,!1);throw G;}}function k(w){p(w);let r=e.get(w);r instanceof Promise||(r=n(w),e.set(w,r),r.catch(()=>e.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return d(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await k(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=d(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=d(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=d(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=d(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=d(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.E1=u}"use strict";
{const e=self.E1,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function g(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(k){return"object"===typeof k?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(k)}):Promise.resolve(k)}class h{constructor(k){this.ja=k;b.set(this,new Map)}Cu(k){if(!d)for(const n of a)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);d=!0;break}}async US(k){k=
b.get(this).get(k);k=await m(k);return"undefined"===typeof k?null:k}async sU(k,n){n=await m(n);b.get(this).set(k,n)}nU(k){b.get(this).delete(k)}tS(){b.get(this).clear()}CT(){return Array.from(b.get(this).keys())}async getItem(k,n){g(n);if(d)return await this.US(k);let p;try{p=await this.ja.get(k)}catch(q){this.Cu(q);if(d)return await this.US(k);console.error(`Error reading '${k}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(k,n,p){g(p);"undefined"===
typeof n&&(n=null);if(d)await this.sU(k,n);else try{await this.ja.set(k,n)}catch(q){if(this.Cu(q),d)await this.sU(k,n);else throw q;}}async removeItem(k,n){g(n);if(d)this.nU(k);else try{await this.ja.delete(k)}catch(p){this.Cu(p),d?this.nU(k):console.error(`Error removing '${k}' from storage: `,p)}}async clear(k){g(k);if(d)this.tS();else try{await this.ja.clear()}catch(n){this.Cu(n),d?this.tS():console.error("Error clearing storage: ",n)}}async keys(k){g(k);if(d)return this.CT();k=[];try{k=await this.ja.keys()}catch(n){this.Cu(n);
if(d)return this.CT();console.error("Error getting storage keys: ",n)}return k}ready(k){g(k);return d?Promise.resolve(!0):this.ja.ready()}DK(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new e(k);return new h(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}
{"use strict";const e=self.C;e.kc={};e.kc.ooa=(()=>{try{if("Safari"===e.Sc.Qc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();e.kc.nha="undefined"!==typeof HTMLDialogElement;e.kc.dla=!!self.requestIdleCallback;e.kc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Sc.Qc;e.kc.ImageBitmapOptions=!1;if(e.kc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{e.kc.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{e.kc.ImageBitmapOptions=!1})}catch(a){e.kc.ImageBitmapOptions=!1}e.kc.Iga=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Sc.Qc);e.kc.kka=!(!navigator.permissions||!navigator.permissions.query);e.kc.bO="undefined"!==typeof Proxy;e.kc.oha="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.kc.Bx="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.kc.Bha="function"===typeof fetch;e.kc.nka=!!(self.isSecureContext&&"Opera"!==e.Sc.Qc&&navigator.storage&&navigator.storage.persist);e.kc.zna=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Sc.Jq)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.kc.Jha=fc;e.kc.iia=
"undefined"!==typeof self.ImageDecoder;e.kc.Gja=!!self.showOpenFilePicker;e.kc.Ija=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.C;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(e.Zs(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,d){return b.reduce((c,g)=>{0<d&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,d-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.he||(Array.prototype.he=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.he||(String.prototype.he=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.C;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+e.Wx())}}
{"use strict";const e=self.C,a=self.jh;e.Im=function(d){return"number"===typeof d};e.Em=function(d){return e.Im(d)&&isFinite(d)};e.Xf=function(d){if(!e.Im(d))throw new TypeError("expected number");};e.lO=function(){};e.zla=function(d,c,g){if(!e.Im(d)||isNaN(d)||c>d||g<d)throw new RangeError("number outside of range");};e.lla=function(...d){for(let c of d);};e.Wj=function(d){if(!e.Em(d))throw new TypeError("expected finite number");};e.iO=function(){};e.ila=function(...d){for(let c of d);};e.Di=function(d){return"string"===
typeof d};e.Jd=function(d){if(!e.Di(d))throw new TypeError("expected string");};e.nO=function(){};e.nla=function(...d){for(let c of d);};e.tN=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.Mla=function(d){if(!e.tN(d))throw new TypeError("expected simple object");};e.Jla=function(d){if(!e.me(d)&&!e.tN(d))throw new TypeError("expected simple object");};e.sN=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.gO=function(d){if(!e.sN(d))throw new TypeError("expected object");
};e.mO=function(){};e.mla=function(...d){for(let c of d);};e.zE=function(d){return e.Fm(d,Blob)&&"string"===typeof d.name};e.xla=function(d){if(!e.zE(d))throw new TypeError("expected file");};e.Hla=function(){};e.uo=function(d){return Array.isArray(d)};e.ZE=function(d){if(!e.uo(d))throw new TypeError("expected array");};e.hO=function(){};e.hla=function(...d){for(let c of d);};e.c1=function(d){return e.uo(d)?d.length?e.uo(d[0])?!0:!1:!0:!1};e.gla=function(d){if(!e.c1(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.uo(c))throw new TypeError("expected 2d array");};e.Ala=function(){};e.AE=function(d){return"function"===typeof d};e.Xj=function(d,c){if(!e.AE(d))throw new TypeError("expected function");if(!e.me(c)&&d!==c)throw new TypeError("expected same function reference");};e.jO=function(){};e.jla=function(...d){for(let c of d);};e.pla=function(d,...c){if(!e.AE(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!e.me(g)&&
d===g)return;throw new TypeError("expected same function reference");};e.Bla=function(...d){if(!e.me(d))for(let c of d);};e.Fm=function(d,c){return d instanceof c};e.qN=function(d,...c){for(let g of c)if(e.Fm(d,g))return!0;return!1};e.$E=function(d,c){if(!e.Fm(d,c))throw new TypeError("unexpected type");};e.kO=function(){};e.kla=function(d,...c){for(let g of c);};e.qla=function(d,...c){if(!e.qN(d,...c))throw new TypeError("unexpected type");};e.rla=function(d,...c){if(!e.me(d)&&!e.qN(d,...c))throw new TypeError("unexpected type");
};e.uia=function(d,c){for(let g of d)if(!e.Fm(g,c))return!1;return!0};e.via=function(d){for(let c of d)if(!e.Em(c))return!1;return!0};e.sla=function(d){for(let c of d);};e.Cla=function(d){if(!e.me(d))for(let c of d);};e.tla=function(d){for(let c of d);};e.Dla=function(d){if(!e.me(d))for(let c of d);};e.yia=function(d,c){return e.me(d)||!e.Di(d.nodeName)?!1:!c||e.Sn(d.nodeName,c)};e.ula=function(d,c){if(e.me(d)||!e.Di(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.Sn(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.Ela=function(){};e.CE=function(d,c){return e.me(d)||!e.Di(d.tagName)?!1:!c||e.Sn(d.tagName,c)};e.yla=function(d,c){if(e.me(d)||!e.Di(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.Sn(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.Ila=function(){};e.kN=function(d){return e.CE(d,"img")||e.CE(d,"canvas")||e.CE(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.vla=function(d){if(!e.kN(d))throw new TypeError("expected drawable");
};e.Fla=function(){};e.lN=function(d){return d instanceof ImageData?!0:e.kN(d)};e.wla=function(d){if(!e.lN(d))throw new TypeError("expected drawable or image data");};e.Gla=function(d){if(!e.me(d)&&!e.lN(d))throw new TypeError("expected drawable or image data");};e.y1=function(d){return"string"===typeof d||d instanceof e.pE||d instanceof e.um};e.Nla=function(d){if(!e.y1(d))throw new TypeError("expected string-like");};e.Kla=function(){};e.ola=function(...d){for(let c of d);};e.Lla=function(){throw Error("must be overridden");
};e.Lja=function(){throw Error("not yet implemented");};e.Aia=function(d,...c){if("undefined"===typeof d)return!1;for(let g of c){if("undefined"===typeof d[g])return!1;d=d[g]}return!0};e.me=function(d){return"undefined"===typeof d||null===d};e.lga=function(d){let c=d[0].constructor;for(let g of d)if(g.constructor!==c)return!1;return c};e.mga=function(d,c){for(let g of d)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);e.Zia=function(d){return e.Fm(d,b)};e.Ola=function(){};
e.noa=function(d){e.T5(d,b)};e.moa=function(d,...c){if(!e.S5(d,...c))throw new TypeError("unexpected type");};e.S5=function(d,...c){for(const g of c)if(e.uP(d,g))return!0;return!1};e.T5=function(d,c){if(!e.uP(d,c))throw new TypeError("unexpected type");};e.uP=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};a.Xf=e.Xf;a.lO=e.lO;a.Wj=e.Wj;a.iO=e.iO;a.Jd=e.Jd;a.nO=e.nO;a.gO=e.gO;a.mO=e.mO;a.ZE=e.ZE;a.hO=e.hO;a.Xj=e.Xj;a.jO=e.jO;a.$E=e.$E;a.kO=e.kO;a.me=
e.me}
{"use strict";const e=self.C,a=new Map;e.Uka=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;e.vna=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,gV:0,xK:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.gV.toPrecision(3)} :: calls => ${this.xK}`}})};e.sha=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.gV=u.total/u.xK;u.xK++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Wx=function(){return Error().stack};e.lha=function(){debugger};e.dpa=function(u,w){return u&&u instanceof w?u:null};e.Mk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.Im(u)?"<number>":e.Di(u)?"<string>":e.uo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.AE(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.MC=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let d=new Map,c=new Map,g=new WeakMap,m=new WeakMap;e.pq={};const h=new Set(["then","splice"]);function k(u){console.warn("[Defence] "+
u+" @",e.Wx())}e.pq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||k(`Accessed missing property '${w}' from defended object '${e.Mk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&k(`Accessed property '${w}' on a released object '${e.Mk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};e.pq.set=function(u,w,r){w in u||d.has(u)||k(`Set non-existent property '${w}' to '${r}' on defended object '${e.Mk(u)}'`);{var v=e.MC(u[w]);
let y=e.MC(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||d.has(u)||k(`Set '${e.MC(u[w])}' property '${w}' to type '${e.MC(r)}' on defended object '${e.Mk(u)}'`);m.has(u)&&k(`Set property '${w}' on a released object '${e.Mk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};e.pq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${e.Mk(u)}'`);};e.pq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${e.Mk(u)}'`);};e.pq.spa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.Mk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(w=>e.Mk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.ka=class{constructor(){if(e.UK&&e.kc.bO){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,e.pq);d.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};e.bea=function(u){if(e.UK&&e.kc.bO&&u instanceof e.ka){if(!c.has(u))return u;let w=c.get(u);c.delete(u);d.delete(w);return u}return e.$w?Object.seal(u):u};e.A=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),d.clear(),A;}if(e.UK){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);e.On(v,[...y]);v.length&&console.warn(`[Defence] '${e.Mk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return e.bea(r)};e.B=function(u){(u=g.get(u))&&m.set(u,e.Wx())};e.mz=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let q=new Map;e.jka=class{constructor(u){this.La="";u&&this.start(u)}start(u){this.La=u;performance.mark(this.La+"-Start")}end(){performance.mark(this.La+"-End");performance.measure(this.La,
this.La+"-Start",this.La+"-End")}next(u){this.end();this.La=u;performance.mark(this.La+"-Start")}}}
{"use strict";const e=self.C,a=2*Math.PI,b=Math.PI/180,d=180/Math.PI;e.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};e.Mea=function(g,m,h,k){return(g-m)*(k-0)/(h-m)};e.normalize=function(g,m,h){return(g-m)/(h-m)};e.oa=function(g,m,h){return g<m?m:g>h?h:g};e.Td=function(g){g%=a;0>g&&(g+=a);return g};e.Cb=function(g){return g*b};e.ki=function(g){return g*d};e.gi=function(g,m,h,k){return Math.hypot(h-g,k-m)};e.pV=function(g,
m,h,k){g=h-g;m=k-m;return g*g+m*m};e.Gs=function(g,m,h,k){return Math.atan2(k-m,h-g)};e.Fs=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};e.vK=function(g,m,h){let k=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(k*p+n*q)>h?0<n*p-k*q?e.Td(g+h):e.Td(g-h):e.Td(m)};e.Ef=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};e.uK=function(g,m,h,k=0){let n=e.Fs(g,m);k*=a;return e.Ef(m,
g)?e.Td(g+(n+k)*h):e.Td(g-(n+k)*h)};e.Nda=function(g,m,h,k=0){const n=e.Fs(g,m);k*=a;return e.Ef(m,g)?e.Td(g+(n+k)*h):e.Td((a-n+k)*h)};e.Mda=function(g,m,h,k=0){const n=e.Fs(g,m);k*=a;return e.Ef(m,g)?e.Td((-a+n-k)*h):e.Td(g-(n+k)*h)};e.ie=function(g,m,h){return g+h*(m-g)};e.YC=function(g,m,h){return g===m?0:(h-g)/(m-g)};e.bfa=function(g,m,h,k){return e.ie(0,k,e.YC(g,m,h))};e.SC=function(g,m,h,k){return e.ie(e.ie(g,m,k),e.ie(m,h,k),k)};e.nV=function(g,m,h,k,n){return e.ie(e.SC(g,m,h,n),e.SC(m,h,k,
n),n)};e.mV=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};e.Nk=function(g){return 0<g&&0===(g-1&g)};e.KV=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};e.Gra=function(g,m){return Math.round(g*m)/m};e.zpa=function(g,m){return Math.floor(g*m)/m};e.VV=function(g){return Math.round(1E6*g)/1E6};e.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};e.X2=function(g,m,h){return e.oa(g,0,255)|e.oa(m,
0,255)<<8|e.oa(h,0,255)<<16};e.Oy=function(g,m,h,k){g=e.oa(Math.floor(1024*g),-8192,8191);m=e.oa(Math.floor(1024*m),-8192,8191);h=e.oa(Math.floor(1024*h),-8192,8191);k=e.oa(Math.floor(1023*k),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+k)};e.XN=function(g,m,h){return e.Oy(g,m,h,1)};e.eE=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};e.ZD=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};e.JD=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};e.AZ=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};e.sea=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Rpa=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let k=
g/h[0]*h[1];if(1>Math.abs(m-k))return h.slice(0);k=g/h[1]*h[0];if(1>Math.abs(m-k))return[h[1],h[0]]}h=e.sea(g,m);return[g/h,m/h]};e.Nra=function(g,m,h,k,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(m,k);r=Math.max(p,u);if(Math.max(m,k)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-m+u-k;g=h-g;m=k-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-m*w)<=u};e.om=function(g,m,h,k,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-m+y-k;g=h-g;m=k-m;w=v-w;r=y-r;y=Math.abs(m*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-m*q)<=y};e.TC=function(g,m,h,k,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,k),w=Math.max(m,k),r=n.Ab,v=n.Bb,y=n.uc,A=n.vc,G=n.oc,z=n.pc,F=n.mc;n=n.nc;return e.om(g,m,h,k,p,q,u,w,r,v,y,A)||e.om(g,m,h,k,p,q,u,w,y,A,G,z)||e.om(g,m,h,k,p,q,u,w,G,z,F,n)||e.om(g,m,h,k,p,q,u,w,F,n,r,v)};e.Mra=function(g,m,h,k,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,k),w=Math.max(m,k);let r=0;for(let v=n.length-4;r<=v;r+=2)if(e.om(g,m,h,k,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.om(g,m,h,k,p,q,u,w,n[r],n[r+1],n[0],n[1])};e.afa=function(g,m,h,k,n,p,q,u){h-=g;p=u-p;const w=h*p-(k-m)*(q-n);if(0===w)return 2;k=((m-k)*(q-g)+h*(u-m))/w;return 0<k&&1.000001>k?(p*(q-g)+(n-q)*(u-m))/w:2};e.lx=function(g,m,h,k,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return e.afa(g,m,h,k,n-r,p-w,q+r,u+w)};e.Cea=function(g,m,h,k,n,p,q,u){n-=
h;p-=k;q-=h;u-=k;g-=h;h=m-k;m=n*n+p*p;k=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-k*k);p=(p*n-k*q)*u;n=(m*q-k*n)*u;return 0<=p&&0<=n&&1>=p+n};e.Cfa=function(g,m,h,k,n,p,q,u){n-=h;p-=k;q-=h;u-=k;g-=h;const w=m-k;m=n*n+p*p;k=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=m*h-k*k;u=(h*n-k*p)/q;n=(m*p-k*n)/q;return[1-u-n,u,n]};e.Bfa=function(g,m,h,k,n,p,q,u,w){return[g*k+m*p+h*u,g*n+m*q+h*w]}}
{"use strict";const e=self.C;let a=null,b="";if("undefined"!==typeof document){a=document;const k=document.querySelector("base");if(b=k&&k.hasAttribute("href")?k.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}e.Kha=function(){return b};e.KD=function(){if(!a)return"";const k=a.location;return e.C_(k.origin+k.pathname)+b};e.C_=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};e.Nha=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};e.$Z=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};e.$x=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};e.e2=function(k){return k.replace(/\\/g,"/")};e.Eia=function(k,n){return n===(k?e.$Z(k).slice(1):"")};e.Cha=function(k,n){let p,q;e.zE(k)&&(p=e.$x(k.name));e.Di(k)&&(p=
e.$x(k));e.zE(n)&&(q=e.$x(n.name));e.Di(n)&&(q=e.$x(n));return p===q};e.hka=function(k){k=e.e2(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var p=k.lastIndexOf("/")+1;let q="",u=k,w="";0<p&&(q=k.slice(0,p),u=k.slice(p));k=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),k=u.slice(0,-w.length));return{dir:q,Uoa:u,name:k,root:n,ext:w,Mpa:n+q+u}};e.IF=function(k,n){return new Promise(p=>{self.setTimeout(p,
k,n)})};e.Wra=function(k){try{k()}catch(n){e.$w&&console.warn("Swallowed exception: ",n)}};e.Rqa=function(){};e.Sn=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};e.tpa=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};e.Dfa=function(k,n){var p=0;k[p++]=n[0];k[p++]=n[1];k[p++]=n[2];k[p++]=n[3];k[p++]=n[4];k[p++]=n[5];k[p++]=n[6];k[p++]=n[7];k[p++]=n[8];k[p++]=n[9];
k[p++]=n[10];k[p++]=n[11];k[p++]=n[12];k[p++]=n[13];k[p++]=n[14];k[p]=n[15]};e.cf=function(k,n){k.length=n};e.F=function(k){k&&0!==k.length&&e.cf(k,0)};e.Yda=function(k){if(k){for(let n=0;n<k.length;n++)e.cf(k[n],0);e.cf(k,0)}};e.IC=function(k,n,p){n|=0;var q=k.length;if(!(n<=q))for(;q<n;++q)k.push(p)};e.UV=function(k){var n=4;const p=k.length;n<p?e.cf(k,n):n>p&&e.IC(k,n,"0")};e.Pc=function(k,n){e.F(k);e.On(k,n)};e.On=function(k,n){if(1E4>n.length)k.push(...n);else for(let p=0,q=n.length;p<q;++p)k.push(n[p])};
e.Qda=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var p=k.length-1;n<p;++n)k[n]=k[n+1];e.cf(k,p)}};e.Lk=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};e.Toa=function(k,n){let p=k.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(k[q]!==n[q])return!1;return!0};e.Pda=function(k,n){let p=[],q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n(r)?p.push(r):(k[q]=r,++q)}e.cf(k,q);return p};e.tg=function(k,n){const p=k.length;let q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n.has(r)||
(k[q++]=r)}e.cf(k,q);return p-q};e.zea=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};e.nsa=function(k,n){if(!e.zea(k,n))throw new RangeError("array index out of bounds");};e.CK=function(k){return k.slice()};e.cea=function(k,n){let p=[];for(let q of k)if(e.sN(q)){k=n(q);if(!k)throw Error("missing clone");if(k.constructor!==q.constructor)throw Error("object is not a clone");p.push(k)}else e.uo(q)?p.push(e.cea(q,n)):p.push(q);return p};e.epa=function(k){let n=[];for(let p of k)n.push(p.slice());
return n};e.Nqa=function(k,n){return new Set([...k,...n])};e.Oqa=function(k,n){for(const p of n)k.add(p);return k};e.first=function(k){for(let n of k)return n;return null};e.xor=function(k,n){return!k!==!n};e.compare=function(k,n,p){switch(n){case 0:return k===p;case 1:return k!==p;case 2:return k<p;case 3:return k<=p;case 4:return k>p;case 5:return k>=p;default:return!1}};e.$pa=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};e.p3=function(k,n){return k.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=k.length;v<y;++v)u.push(void 0),k[v].then(A=>{r||(u[v]=A,++w,w===k.length?p(u):n(w,k.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let d=[];e.Zfa=function(k){d.push(k)};e.Mha=function(){let k=0;for(let n of d){let p=n();k+=p}return Math.floor(k)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(k){k=k.data;const n=g.get(k);g.delete(k);n&&n(performance.now())};e.YE=function(k){const n=c++;g.set(n,k);m.port1.postMessage(n);
return n};e.mX=function(k){g.delete(k)};e.j3=e.YE;e.Q5=function(){return new Promise(k=>e.j3(k))};const h=new Set;e.fla=function(k){const n=self.requestAnimationFrame(async p=>{await e.Q5();h.has(n)&&(h.delete(n),k(p))});h.add(n);return n};e.Fga=function(k){h.has(k)&&(self.cancelAnimationFrame(k),h.delete(k))}}
{"use strict";const e=self.C;e.vE=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.JE=function(a){return!e.vE(a)};e.x5=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};e.Ux=function(a){return fetch(a,void 0).then(b=>{e.x5(b);return b})};e.ct=function(a){return e.Ux(a).then(b=>b.text())};e.kM=function(a){return e.Ux(a).then(b=>b.json())};e.Rk=function(a){return e.Ux(a).then(b=>b.blob())};e.bt=function(a){return e.Ux(a).then(b=>
b.arrayBuffer())};e.qZ=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>d(g);c.src=a})};e.bX=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};e.CL=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};e.wga=function(a){return e.CL(a).then(b=>
JSON.parse(b))};e.cX=async function(a){a=URL.createObjectURL(a);try{const b=await e.qZ(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};e.kh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};e.Bx=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.oa(d,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,d)):a.convertToBlob?a.convertToBlob({type:b,quality:d}):e.Ok(()=>e.IL(a,b,d))};e.IL=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.oa(d,0,1);return e.RX(a.toDataURL(b,d))};e.RX=function(a){a=e.Y2(a);return e.aX(a.data,a.Nea)};e.Y2=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var d=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];d="base64"===b[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Nea:a,data:d}};e.aX=function(a,b){var d=a.length;let c=d>>2,g=new Uint8Array(d),m=new Uint32Array(g.buffer,0,c),h,k;for(k=h=0;h<c;++h)m[h]=a.charCodeAt(k++)|a.charCodeAt(k++)<<8|a.charCodeAt(k++)<<16|a.charCodeAt(k++)<<24;for(d&=3;d--;)g[k]=a.charCodeAt(k),++k;return b?new Blob([g],{type:b}):new Blob([g])};e.dM=function(a,b,d){const c=e.kh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return e.Bx(c,b,d)};e.hia=function(a,
b,d){const c=e.kh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.IL(c,b,d)};e.gia=function(a,b,d){if(e.kc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>e.dM(c,b,d));if(e.kc.ImageBitmap)return createImageBitmap(a).then(c=>e.dM(c,b,d));{const c=e.kh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.Bx(c,b,d)}};e.HX=function(a,b){a.clear();for(const d of b)a.add(d)};e.vja=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=
c;return b};e.Nja=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};e.FF=function d(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>d(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(b))c[g]=d(m);return c}}return b};e.GD=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(g=>c(g)));if("map"===
d._c3type_)return new Map(d.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(d))g[m]=c(h);return g}}return d};e.gX=function(d){let c="",g=!1;for(const m of d)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};e.Hm=function(d){return"object"===typeof d&&"function"===typeof d.next};e.U1=function(d){const c=[];for(let g=0;g<d;++g)c.push(0);return c}}
{"use strict";const e=self.C;e.hb=class{constructor(a,b,d,c){this.$a=this.ab=this.bb=this.Za=0;a instanceof e.hb?this.set(a):this.Wn(a||0,b||0,d||0,c||0)}Rs(a,b,d){this.Za=+a;this.bb=+b;this.ab=+d;this.oa()}Wn(a,b,d,c){this.Za=+a;this.bb=+b;this.ab=+d;this.$a=+c;this.oa()}set(a){this.Za=a.Za;this.bb=a.bb;this.ab=a.ab;this.$a=a.$a;return this}ua(a){return this.set(a)}add(a){this.Za+=a.Za;this.bb+=a.bb;this.ab+=a.ab;this.$a+=a.$a;this.oa()}bV(a,b,d){this.Za+=+a;this.bb+=+b;this.ab+=+d;this.$a+=0;this.oa()}sj(a){this.Za=
a.Za;this.bb=a.bb;this.ab=a.ab}ZV(a){this.Za=e.oa(+a,0,1)}kfa(a){this.bb=e.oa(+a,0,1)}hfa(a){this.ab=e.oa(+a,0,1)}Ps(a){this.$a=e.oa(+a,0,1)}clone(){return e.A(e.hb,this.Za,this.bb,this.ab,this.$a)}toArray(){return[this.Za,this.bb,this.ab,this.$a]}ih(a,b){a[b++]=this.Za;a[b++]=this.bb;a[b++]=this.ab;a[b]=this.$a}sd(a){return this.Za===a.Za&&this.bb===a.bb&&this.ab===a.ab&&this.$a===a.$a}mm(a){return this.Za===a.Za&&this.bb===a.bb&&this.ab===a.ab}HC(a,b,d,c){return this.Za===a&&this.bb===b&&this.ab===
d&&this.$a===c}multiply(a){this.Za*=a.Za;this.bb*=a.bb;this.ab*=a.ab;this.$a*=a.$a}gL(){this.Za*=this.$a;this.bb*=this.$a;this.ab*=this.$a}oa(){this.Za=e.oa(this.Za,0,1);this.bb=e.oa(this.bb,0,1);this.ab=e.oa(this.ab,0,1);this.$a=e.oa(this.$a,0,1);return this}Qs(a){this.Za=e.eE(a);this.bb=e.ZD(a);this.ab=e.JD(a);this.$a=e.AZ(a)}oea(){return`rgb(${100*(e.Em(void 0)?NaN:this.Za)}%, ${100*(e.Em(void 0)?NaN:this.bb)}%, ${100*(e.Em(void 0)?NaN:this.ab)}%)`}MV(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var d=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.ZV(a);isFinite(d)&&this.kfa(d);isFinite(b)&&this.hfa(b);this.Ps(1)}}}toJSON(){return[this.Za,this.bb,this.ab,this.$a]}pm(a){!Array.isArray(a)||3>a.length||(this.Za=a[0],this.bb=a[1],this.ab=a[2],this.$a=4<=a.length?a[3]:1)}set r(a){this.ZV(a)}get r(){return this.Za}set fq(a){this.Ps(a)}get fq(){return this.$a}static yD(a,b){return e.oa(Math.max(a,
b)-Math.min(a,b),0,1)}};e.hb.voa=Object.freeze(e.A(e.hb,1,1,1,1));e.hb.vga=Object.freeze(e.A(e.hb,0,0,0,1));e.hb.Vna=Object.freeze(e.A(e.hb,0,0,0,0))}
{"use strict";const e=self.C;e.lu=class{constructor(a,b){this.O=this.R=0;a instanceof e.lu?this.ua(a):this.set(a||0,b||0)}set(a,b){this.R=+a;this.O=+b}ua(a){this.R=a.R;this.O=a.O}sd(a){return this.R===a.R&&this.O===a.O}toArray(){return[this.R,this.O]}ih(a,b){a[b++]=this.R;a[b]=this.O}offset(a,b){this.R+=+a;this.O+=+b}scale(a,b){this.R*=a;this.O*=b}lm(a,b){this.R/=a;this.O/=b}round(){this.R=Math.round(this.R);this.O=Math.round(this.O)}floor(){this.R=Math.floor(this.R);this.O=Math.floor(this.O)}ceil(){this.R=
Math.ceil(this.R);this.O=Math.ceil(this.O)}angle(){return e.Gs(0,0,this.R,this.O)}Hea(){return this.R*this.R+this.O*this.O}length(){return Math.sqrt(this.Hea())}efa(a,b){const d=this.R*b-this.O*a;this.O=this.O*b+this.R*a;this.R=d}rotate(a){0!==a&&this.efa(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.R+=Math.cos(a)*b,this.O+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.R/=a,this.O/=a)}oa(a,b){this.R=e.oa(this.R,a,b);this.O=e.oa(this.O,a,b)}}}
{"use strict";const e=self.C;e.Rect=class{constructor(a,b,d,c){this.ia=this.na=this.Z=this.ca=0;a instanceof e.Rect?this.ua(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.ca=+a;this.Z=+b;this.na=+d;this.ia=+c}ji(a,b,d,c){a=+a;b=+b;this.ca=a;this.Z=b;this.na=a+ +d;this.ia=b+ +c}ua(a){this.ca=+a.ca;this.Z=+a.Z;this.na=+a.na;this.ia=+a.ia}clone(){return new e.Rect(this.ca,this.Z,this.na,this.ia)}sd(a){return this.ca===a.ca&&this.Z===a.Z&&this.na===a.na&&this.ia===a.ia}toArray(){return[this.ca,this.Z,
this.na,this.ia]}ufa(){new DOMRect(this.ca,this.Z,this.width(),this.height())}ih(a,b){a[b++]=this.ca;a[b++]=this.Z;a[b++]=this.na;a[b]=this.ia}Ffa(a,b){a[b++]=this.ca;a[b++]=this.Z;a[b++]=this.na;a[b++]=this.Z;a[b++]=this.na;a[b++]=this.ia;a[b++]=this.ca;a[b]=this.ia}width(){return this.na-this.ca}height(){return this.ia-this.Z}Ns(){return(this.ca+this.na)/2}Os(){return(this.Z+this.ia)/2}offset(a,b){a=+a;b=+b;this.ca+=a;this.Z+=b;this.na+=a;this.ia+=b}offsetLeft(a){this.ca+=+a}offsetTop(a){this.Z+=
+a}Uea(a){this.na+=+a}Tea(a){this.ia+=+a}OK(a,b){a=+a;b=+b;this.ca-=a;this.Z-=b;this.na+=a;this.ia+=b}multiply(a,b){this.ca*=a;this.Z*=b;this.na*=a;this.ia*=b}lm(a,b){this.ca/=a;this.Z/=b;this.na/=a;this.ia/=b}Tn(){this.Z=1-this.Z;this.ia=1-this.ia}rfa(){const a=this.ca;this.ca=this.na;this.na=a}sfa(){const a=this.Z;this.Z=this.ia;this.ia=a}round(){this.ca=Math.round(this.ca);this.Z=Math.round(this.Z);this.na=Math.round(this.na);this.ia=Math.round(this.ia)}floor(){this.ca=Math.floor(this.ca);this.Z=
Math.floor(this.Z);this.na=Math.floor(this.na);this.ia=Math.floor(this.ia)}ceil(){this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z);this.na=Math.ceil(this.na);this.ia=Math.ceil(this.ia)}oa(a,b,d,c){this.ca<a&&(this.ca=+a);this.Z<b&&(this.Z=+b);this.na>d&&(this.na=+d);this.ia>c&&(this.ia=+c)}normalize(){this.ca>this.na&&this.rfa();this.Z>this.ia&&this.sfa()}NC(a){return!(a.na<this.ca||a.ia<this.Z||a.ca>this.na||a.Z>this.ia)}yea(a,b,d){return!(a.na+b<this.ca||a.ia+d<this.Z||a.ca+b>this.na||a.Z+d>
this.ia)}Gf(a,b){return a>=this.ca&&a<=this.na&&b>=this.Z&&b<=this.ia}}}
{"use strict";const e=self.C;e.Cd=class{constructor(a,b,d,c,g,m,h,k){this.nc=this.mc=this.pc=this.oc=this.vc=this.uc=this.Bb=this.Ab=0;a instanceof e.Cd?this.ua(a):this.set(a||0,b||0,d||0,c||0,g||0,m||0,h||0,k||0)}set(a,b,d,c,g,m,h,k){this.Ab=+a;this.Bb=+b;this.uc=+d;this.vc=+c;this.oc=+g;this.pc=+m;this.mc=+h;this.nc=+k}$V(a,b,d,c){this.set(a,b,d,b,d,c,a,c)}ua(a){this.Ab=a.Ab;this.Bb=a.Bb;this.uc=a.uc;this.vc=a.vc;this.oc=a.oc;this.pc=a.pc;this.mc=a.mc;this.nc=a.nc}sd(a){return this.Ab===a.Ab&&this.Bb===
a.Bb&&this.uc===a.uc&&this.vc===a.vc&&this.oc===a.oc&&this.pc===a.pc&&this.mc===a.mc&&this.nc===a.nc}toArray(){return[this.Ab,this.Bb,this.uc,this.vc,this.oc,this.pc,this.mc,this.nc]}ih(a,b){a[b++]=this.Ab;a[b++]=this.Bb;a[b++]=this.uc;a[b++]=this.vc;a[b++]=this.oc;a[b++]=this.pc;a[b++]=this.mc;a[b]=this.nc}Gfa(a,b,d){a[b++]=this.Ab;a[b++]=this.Bb;a[b++]=d;a[b++]=this.uc;a[b++]=this.vc;a[b++]=d;a[b++]=this.oc;a[b++]=this.pc;a[b++]=d;a[b++]=this.mc;a[b++]=this.nc;a[b]=d}offset(a,b){a=+a;b=+b;this.Ab+=
a;this.Bb+=b;this.uc+=a;this.vc+=b;this.oc+=a;this.pc+=b;this.mc+=a;this.nc+=b}round(){this.Ab=Math.round(this.Ab);this.Bb=Math.round(this.Bb);this.uc=Math.round(this.uc);this.vc=Math.round(this.vc);this.oc=Math.round(this.oc);this.pc=Math.round(this.pc);this.mc=Math.round(this.mc);this.nc=Math.round(this.nc)}floor(){this.Ab=Math.floor(this.Ab);this.Bb=Math.floor(this.Bb);this.uc=Math.floor(this.uc);this.vc=Math.floor(this.vc);this.oc=Math.floor(this.oc);this.pc=Math.floor(this.pc);this.mc=Math.floor(this.mc);
this.nc=Math.floor(this.nc)}ceil(){this.Ab=Math.ceil(this.Ab);this.Bb=Math.ceil(this.Bb);this.uc=Math.ceil(this.uc);this.vc=Math.ceil(this.vc);this.oc=Math.ceil(this.oc);this.pc=Math.ceil(this.pc);this.mc=Math.ceil(this.mc);this.nc=Math.ceil(this.nc)}xj(a){this.Ab=a.ca;this.Bb=a.Z;this.uc=a.na;this.vc=a.Z;this.oc=a.na;this.pc=a.ia;this.mc=a.ca;this.nc=a.ia}jfa(a,b){0===b?this.xj(a):this.YV(a,Math.sin(b),Math.cos(b))}YV(a,b,d){const c=a.ca*b,g=a.Z*b,m=a.na*b;b*=a.ia;const h=a.ca*d,k=a.Z*d,n=a.na*d;
a=a.ia*d;this.Ab=h-g;this.Bb=k+c;this.uc=n-g;this.vc=k+m;this.oc=n-b;this.pc=a+m;this.mc=h-b;this.nc=a+c}MK(a){a.set(Math.min(this.Ab,this.uc,this.oc,this.mc),Math.min(this.Bb,this.vc,this.pc,this.nc),Math.max(this.Ab,this.uc,this.oc,this.mc),Math.max(this.Bb,this.vc,this.pc,this.nc))}Gf(a,b){var d=this.uc-this.Ab,c=this.vc-this.Bb;const g=this.oc-this.Ab,m=this.pc-this.Bb;a-=this.Ab;b-=this.Bb;var h=d*d+c*c;let k=d*g+c*m;c=d*a+c*b;const n=g*g+m*m,p=g*a+m*b;let q=1/(h*n-k*k);d=(n*c-k*p)*q;h=(h*p-
k*c)*q;if(0<=d&&0<h&&1>d+h)return!0;d=this.mc-this.Ab;c=this.nc-this.Bb;h=d*d+c*c;k=d*g+c*m;c=d*a+c*b;q=1/(h*n-k*k);d=(n*c-k*p)*q;h=(h*p-k*c)*q;return 0<=d&&0<h&&1>d+h}Ns(){return(this.Ab+this.uc+this.oc+this.mc)/4}Os(){return(this.Bb+this.vc+this.pc+this.nc)/4}QK(a){var b=a.Ns(),d=a.Os();if(this.Gf(b,d))return!0;b=this.Ns();d=this.Os();if(a.Gf(b,d))return!0;b=this.Ab;d=this.Bb;const c=this.uc,g=this.vc,m=this.oc,h=this.pc,k=this.mc,n=this.nc;return e.TC(b,d,c,g,a)||e.TC(c,g,m,h,a)||e.TC(m,h,k,n,
a)||e.TC(k,n,b,d,a)}dfa(){const a=this.Ab,b=this.Bb;this.Ab=this.uc;this.Bb=this.vc;this.uc=this.oc;this.vc=this.pc;this.oc=this.mc;this.pc=this.nc;this.mc=a;this.nc=b}}}
{"use strict";const e=self.C,a=[0,0,1,0,1,1,0,1],b=e.A(e.Cd);e.bo=class extends e.ka{constructor(d,c=!0){super();d||(d=a);this.Rd=Float64Array.from(d);this.bA=new e.Rect;this.yp=!0;this.Pg=c}B(){}NV(){return this.Rd.length/2}UC(d){this.Rd.length===d.length?this.Rd.set(d):this.Rd=Float64Array.from(d);this.yp=!0}ifa(){this.UC(a)}ua(d){this.UC(d.Rd)}mL(){this.yp=!0}Eda(){if(this.yp){var d=this.Rd,c=d[0],g=d[1],m=c,h=g;for(let k=0,n=d.length;k<n;k+=2){const p=d[k],q=d[k+1];p<c&&(c=p);p>m&&(m=p);q<g&&
(g=q);q>h&&(h=q)}this.bA.set(c,g,m,h);this.yp=!1}}xj(d){let c=this.Rd;8!==c.length&&(this.Rd=c=new Float64Array(8));c[0]=d.ca-NaN;c[1]=d.Z-NaN;c[2]=d.na-NaN;c[3]=d.Z-NaN;c[4]=d.na-NaN;c[5]=d.ia-NaN;c[6]=d.ca-NaN;c[7]=d.ia-NaN;this.bA.ua(d);this.bA.offset(NaN,NaN);this.yp=!1}nL(d,c,g){b.ua(d);b.offset(c,g);this.UC(b.toArray());this.yp=!0}transform(d,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.uL(d,c,m,h)}uL(d,c,g,m){const h=this.Rd;for(let k=0,n=h.length;k<n;k+=2){const p=k+1,q=h[k]*
d,u=h[p]*c;h[k]=q*m-u*g;h[p]=u*m+q*g}this.yp=!0}offset(d,c){const g=this.Rd;for(let m=0,h=g.length;m<h;m+=2)g[m]+=d,g[m+1]+=c}Gf(d,c){const g=this.Rd;if(d===g[0]&&c===g[1])return!0;this.Eda();var m=this.bA;const h=m.ca-110,k=m.Z-101,n=m.na+131;m=m.ia+120;let p,q,u,w,r,v,y,A;h<d?(p=h,u=d):(p=d,u=h);k<c?(q=k,w=c):(q=c,w=k);n<d?(r=n,y=d):(r=d,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const M=g[H],P=g[H+1],R=g[F];F=g[F+1];e.om(h,k,d,c,p,u,q,w,M,P,R,F)&&++G;
e.om(n,m,d,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Zw(d,c,g){const m=d.Rd,h=this.Rd;if(this.Gf(m[0]+c,m[1]+g)||d.Gf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var k=(n+2)%p;d=h[n];const q=h[n+1],u=h[k];k=h[k+1];let w,r,v,y;d<u?(w=d,v=u):(w=u,v=d);q<k?(r=q,y=k):(r=k,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.om(d,q,u,k,w,v,r,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}Bi(){return this.Pg}}}
{"use strict";const e=self.C;e.Ot=class extends e.ka{constructor(a){super();this.nk=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}B(){this.yd();this.nk=null}yd(){const a=this.nk;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.nk;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,d)}ea(a,b){return(a=this.nk.get(a))?a.get(b):a}yy(a){return(a=this.nk.get(a))?a.has(void 0):!1}co(a,b){const d=this.nk,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}bM(a){const b=this.nk,d=b.get(a);
d&&(d.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}Cm(){let a=0;for(const b of this.nk.values())a+=b.size;return a}*values(){for(const a of this.nk.values())yield*a.values()}*entries(){for(const [a,b]of this.nk.entries())for(const [d,c]of b.entries())yield[a,d,c]}}}
{"use strict";const e=self.C;e.jD=class extends e.ka{constructor(){super();this.xn=new Set;this.$z=[];this.ew=!1}B(){this.yd()}yd(){this.xn.clear();e.F(this.$z);this.ew=!1}Ec(a){this.xn.has(a)||(this.xn.add(a),this.ew||this.$z.push(a))}yy(a){return this.xn.has(a)}co(a){this.xn.delete(a)&&(this.ew=!0)}Cm(){return this.xn.size}xo(){return 0===this.xn.size}ID(){this.ew&&(this.L$(),this.ew=!1);return this.$z}L$(){const a=this.$z;e.F(a);for(const b of this.xn)a.push(b)}}}
{"use strict";const e=new Map,a=new Map,b=new Map,d=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Ys=class m{constructor(){}static o1(h){this.QF();return[...a.keys()].includes(h)}static p8(h){const k=g.get(h);if(k)return e.get(k);if(m.o1(h))return e.get(h);if(c.has(h))return c.get(h)}static no(h){this.QF();const k=m.p8(h);return k?k:d.get(h)}static QF(){0===e.size&&(this.Gb("default",()=>{}),this.Gb("noease",this.d2),this.Gb("easeinsine",this.XY),this.Gb("easeoutsine",
this.fZ),this.Gb("easeinoutsine",this.TY),this.Gb("easeinelastic",this.IY),this.Gb("easeoutelastic",this.aZ),this.Gb("easeinoutelastic",this.OY),this.Gb("easeinback",this.FY),this.Gb("easeoutback",this.YY),this.Gb("easeinoutback",this.KY),this.Gb("easeinbounce",this.eM),this.Gb("easeoutbounce",this.BD),this.Gb("easeinoutbounce",this.LY),this.Gb("easeincubic",this.HY),this.Gb("easeoutcubic",this.$Y),this.Gb("easeinoutcubic",this.NY),this.Gb("easeinquad",this.UY),this.Gb("easeoutquad",this.cZ),this.Gb("easeinoutquad",
this.QY),this.Gb("easeinquart",this.VY),this.Gb("easeoutquart",this.dZ),this.Gb("easeinoutquart",this.RY),this.Gb("easeinquint",this.WY),this.Gb("easeoutquint",this.eZ),this.Gb("easeinoutquint",this.SY),this.Gb("easeincirc",this.GY),this.Gb("easeoutcirc",this.ZY),this.Gb("easeinoutcirc",this.MY),this.Gb("easeinexpo",this.JY),this.Gb("easeoutexpo",this.bZ),this.Gb("easeinoutexpo",this.PY),this.CP("cubicbezier",this.EY),this.CP("spline",this.gZ))}static Gb(h,k){m.LF(h,k,"predefined")}static CP(h,k){m.LF(h,
k,"private")}static yW(h,k){this.QF();m.LF(h,k,"custom",void 0)}static LF(h,k,n,p){switch(n){case "predefined":e.set(h,k);a.set(h,k);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,k)):d.set(h,k);break;case "private":e.set(h,k);c.set(h,k);break;default:throw Error("unexpected ease mode");}}static d2(h,k,n,p){return n*h/p+k}static UY(h,k,n,p){return n*(h/=p)*h+k}static cZ(h,k,n,p){return-n*(h/=p)*(h-2)+k}static QY(h,k,n,p){return 1>(h/=p/2)?n/2*h*h+k:-n/2*(--h*(h-2)-1)+k}static HY(h,
k,n,p){return n*(h/=p)*h*h+k}static $Y(h,k,n,p){return n*((h=h/p-1)*h*h+1)+k}static NY(h,k,n,p){return 1>(h/=p/2)?n/2*h*h*h+k:n/2*((h-=2)*h*h+2)+k}static VY(h,k,n,p){return n*(h/=p)*h*h*h+k}static dZ(h,k,n,p){return-n*((h=h/p-1)*h*h*h-1)+k}static RY(h,k,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+k:-n/2*((h-=2)*h*h*h-2)+k}static WY(h,k,n,p){return n*(h/=p)*h*h*h*h+k}static eZ(h,k,n,p){return n*((h=h/p-1)*h*h*h*h+1)+k}static SY(h,k,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+k:n/2*((h-=2)*h*h*h*h+2)+k}static XY(h,
k,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+k}static fZ(h,k,n,p){return n*Math.sin(h/p*(Math.PI/2))+k}static TY(h,k,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+k}static JY(h,k,n,p){return 0===h?k:n*Math.pow(2,10*(h/p-1))+k}static bZ(h,k,n,p){return h===p?k+n:n*(-Math.pow(2,-10*h/p)+1)+k}static PY(h,k,n,p){return 0===h?k:h===p?k+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+k:n/2*(-Math.pow(2,-10*--h)+2)+k}static GY(h,k,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+k}static ZY(h,k,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+k}static MY(h,k,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+k:n/2*(Math.sqrt(1-(h-=2)*h)+1)+k}static IY(h,k,n,p){let q=0,u=n;if(0===h)return k;if(1===(h/=p))return k+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+k}static aZ(h,k,n,p){let q,u=0,w=n;if(0===h)return k;if(1===(h/=p))return k+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+k}static OY(h,k,n,p){let q,u=0,w=n;if(0===h)return k;if(2===(h/=p/2))return k+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+k:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+k}static FY(h,k,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+k}static YY(h,k,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+k}static KY(h,k,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+k:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+k}static eM(h,k,n,p){return n-m.BD(p-h,0,n,p)+k}static BD(h,k,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+k:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+k:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+k:n*(7.5625*(h-=2.625/2.75)*h+.984375)+k}static LY(h,k,n,p){return h<p/2?.5*m.eM(2*h,0,n,p)+k:.5*m.BD(2*h-p,0,n,p)+.5*n+k}static EY(h,k,n,p,q){return k+3*h*(n-k)+3*h**2*(k+p-2*n)+h**3*(q-k+3*n-3*p)}static gZ(h,k,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-k;u=3*u-6*p+3*k;k=3*(p-k);p=3*r*y*y+2*u*y+k;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+k)*y-h)/(3*r*y*y+2*u*y+k);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+k)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static HZ(h,k,n,p){const q=[];p=p-3*n+3*k-h;n=3*n-6*k+3*h;h=3*(k-h);for(let u=
0;11>u;++u)k=.1*u,q.push(((p*k+n)*k+h)*k);return q}}}{"use strict";const e=self.C;e.Mka=class{constructor(){this.zT=[]}B(){this.yd();this.zT=null}yd(){e.Yda(this.zT)}}}"use strict";
self.C.Event=class{constructor(e,a){this.type=e;this.cancelable=!!a;this.Aea=this.hL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Aea)throw Error(`cannot stop async event '${this.type}' propagation`);this.hL=!0}};
{"use strict";const e=self.C;e.Event.T_=class extends e.ka{constructor(a){super();this.Ba=a;this.rf=[];this.rr=new Set;this.yf=[];this.Wr=new Set;this.tv=0;this.hs=[]}B(){0<this.tv||(e.F(this.rf),this.rr.clear(),e.F(this.yf),this.Wr.clear(),e.F(this.hs),e.B(this))}AP(a,b){this.SQ()?this.hs.push({cL:"add",hi:a,capture:b}):b?this.rr.has(a)||(this.rf.push(a),this.rr.add(a)):this.Wr.has(a)||(this.yf.push(a),this.Wr.add(a))}$$(a,b){this.SQ()?this.hs.push({cL:"remove",hi:a,capture:b}):b?this.rr.has(a)&&
(this.rr.delete(a),e.Lk(this.rf,a)):this.Wr.has(a)&&(this.Wr.delete(a),e.Lk(this.yf,a))}d9(){return!this.rf.length&&!this.yf.length}SQ(){return 0<this.tv}I$(){const a=new Set,b=new Set;for(const d of this.hs)if("add"===d.cL)this.AP(d.hi,d.capture),d.capture?b.delete(d.hi):a.delete(d.hi);else if("remove"===d.cL)d.capture?(this.rr.delete(d.hi),b.add(d.hi)):(this.Wr.delete(d.hi),a.add(d.hi));else throw Error("invalid op");e.tg(this.yf,a);e.tg(this.rf,b);e.F(this.hs)}b8(a){this.ir();let b=!1;for(let d=
0,c=this.rf.length;d<c;++d)if(this.rf[d](a),a.hL){b=!0;break}if(!b)for(let d=0,c=this.yf.length;d<c&&(this.yf[d](a),!a.hL);++d);this.fr();return!a.defaultPrevented}d8(a){this.ir();for(let b=0,d=this.rf.length;b<d;++b)this.rf[b](a);for(let b=0,d=this.yf.length;b<d;++b)this.yf[b](a);this.fr();return!0}ir(){this.tv++}fr(){this.tv--;0===this.tv&&0<this.hs.length&&this.I$()}Tq(a){a?this.ir():this.fr()}iQ(a){const b=[];this.ir();for(let c=0,g=this.rf.length;c<g;++c){var d=this.rf[c](a);d instanceof Promise&&
b.push(d)}for(let c=0,g=this.yf.length;c<g;++c)d=this.yf[c](a),d instanceof Promise&&b.push(d);this.fr();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async Y7(a){return await this.iQ(a)}async Z7(a){this.ir();for(let d=0,c=this.rf.length;d<c;++d){var b=this.rf[d](a);b instanceof Promise&&await b}for(let d=0,c=this.yf.length;d<c;++d)b=this.yf[d](a),b instanceof Promise&&await b;this.fr();return!a.defaultPrevented}*a8(a){this.ir();for(let d=0,c=this.rf.length;d<c;++d){var b=
this.rf[d](a);e.Hm(b)&&(yield*b)}for(let d=0,c=this.yf.length;d<c;++d)b=this.yf[d](a),e.Hm(b)&&(yield*b);this.fr()}}}
{"use strict";const e=self.C;e.Event.Jb=class extends e.ka{constructor(){super();this.np=new Map;this.KH=!1}B(){if(this.KH)throw Error("already released");this.tX();this.KH=!0;e.B(this)}mz(){return this.KH}tX(){for(let a of this.np.values())a.B();this.np.clear()}Uo(a,b){let d=this.np.get(a);return d?d:b?(d=e.A(e.Event.T_,a),this.np.set(a,d),d):null}kE(a){return this.np.has(a)}addEventListener(a,b,d){this.Uo(a,!0).AP(b,!!d)}removeEventListener(a,b,d){let c=this.Uo(a,!1);c&&(c.$$(b,!!d),c.d9()&&this.np.delete(a))}dispatchEvent(a){const b=
this.Uo(a.type,!1);return b?a.cancelable?b.b8(a):b.d8(a):!0}async GK(a){const b=this.Uo(a.type,!1);return b?await b.Y7(a):!0}hea(a){const b=this.Uo(a.type,!1);return b?b.iQ(a):!0}async gea(a){const b=this.Uo(a.type,!1);b&&await b.Z7(a)}iea(a){const b=this.Uo(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.a8(a)}Tq(a){for(const b of this.np.values())b.Tq(a)}}}
{"use strict";const e=self.C,a="undefined"!==typeof requestIdleCallback;let b=[],d=-1,c=0;function g(n){d=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(b.length){var p=performance.now(),q=0;do{h(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===d&&b.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.hi()}catch(q){n.reject(q);return}n.resolve(p)}let k=e.TE.yy("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.Ok=function(n){let p=null;e.$w&&(p=e.Wx());return new Promise((q,u)=>{b.push({hi:n,resolve:q,reject:u,stack:p});k?h(b.pop()):-1===d&&g(16)})};e.Ok.JO=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.C;let a=-1;function b(){a=-1}e.Tx=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let d=-1,c=-1,g=new Set;function m(){c=d=-1;let h=Date.now();for(let k of g)if(k.E6(h)){let n=k.hp;if(-1===c||n<c)c=n}else g.delete(k);-1!==c&&(d=self.setTimeout(m,Math.max(c-h+100,1E3)))}e.t0=class{constructor(h,k){this.qr=h;this.oC=1E3*k;this.hp=0;this.Mb=!1}kd(){let h=e.Tx();this.hp=h+this.oC;this.Mb||(g.add(this),this.Mb=!0);-1===d?(c=this.hp,d=self.setTimeout(m,this.oC+
100)):this.hp<c&&c>h+1E3&&(self.clearTimeout(d),c=this.hp,d=self.setTimeout(m,this.oC+100))}E6(h){return h>=this.hp?this.qr()?(this.hp=h+this.oC,!0):this.Mb=!1:!0}lX(){this.Mb&&(g.delete(this),this.Mb=!1,0===g.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}B(){this.lX();this.qr=null}}}
{"use strict";const e=self.C;e.gd=class a{constructor(b){this.Jr=!1;this.LH=b}Px(){this.Jr||(this.Jr=!0,this.LH&&(this.LH(),this.LH=null))}B(){this.Px()}static B(b){return new a(()=>b.B())}static Vd(b,d,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.Xs;for(let h of d)b.addEventListener(h,c,g),m.Ec(e.A(e.gd,()=>b.removeEventListener(h,c,g)));return m}b.addEventListener(d,
c,g);return e.A(e.gd,()=>b.removeEventListener(d,c,g))}};e.Hna=class extends e.gd{};e.Xs=class extends e.gd{constructor(...a){super();this.Md=new Set;for(let b of a)this.Ec(b)}Ec(...a){if(this.Jr)throw Error("already disposed");for(let b of a)this.Md.add(b)}vh(a){if(this.Jr)throw Error("already disposed");this.Md.delete(a)}Px(){if(this.Jr)throw Error("already disposed");this.Jr=!0;for(let a of this.Md)a.Px();this.Md.clear();this.Md=null}B(){this.Px()}}}
{"use strict";const e=self.C;e.Ky=class extends e.ka{constructor(){super();this.rs=this.Cw=this.O=this.eA=0}Ec(a){this.O=+a-this.eA;this.Cw=this.rs+this.O;this.eA=this.Cw-this.rs-this.O;this.rs=this.Cw}ea(){return this.rs}kd(){this.rs=this.Cw=this.O=this.eA=0}Set(a){this.Cw=this.O=this.eA=0;this.rs=+a}B(){}}}
{"use strict";const e=self.C,a={VE:function(b){this.jW=b;this.left=this.right=this.jW.pb;this.parent=null;this.color=!1;this.key=null},Do:function(b){this.size=0;this.pb=new a.VE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb;this.compare=b||this.dea}};xa=a.Do.prototype;xa.dea=function(b,d){return b<d?-1:d<b?1:0};xa.clone=function(){var b=new a.Do(this.compare);b.vea(this);return b};xa.clear=function(){this.size=0;this.pb=new a.VE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=
this.pb};xa.bx=function(b){var d=b.right;b.right=d.left;d.left!=this.pb&&(d.left.parent=b);d.parent=b.parent;b.parent==this.pb?this.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d};xa.mx=function(b){var d=b.left;b.left=d.right;d.right!=this.pb&&(d.right.parent=b);d.parent=b.parent;b.parent==this.pb?this.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d};xa.Is=function(b){if(this.contains(b))this.Xw(b).key=b;else{var d=new a.VE(this);d.key=
b;b=this.pb;for(var c=this.root;c!=this.pb;)b=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=b;b==this.pb?this.root=d:0>this.compare(d.key,b.key)?b.left=d:b.right=d;d.left=this.pb;d.right=this.pb;d.color=!0;this.wea(d);this.size++}};xa.wea=function(b){for(;b!=this.pb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var d=b.parent.parent.right;1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.bx(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.pb&&this.mx(b.parent.parent))}else d=b.parent.parent.left,1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.mx(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.pb&&this.bx(b.parent.parent));this.root.color=!1};xa.fea=function(b){var d=b.left==this.pb||b.right==this.pb?b:this.Xn(b);var c=d.left!=this.pb?d.left:d.right;c.parent=d.parent;d.parent==
this.pb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);0==d.color&&this.eea(c);this.size--};xa.eea=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var d=b.parent.right;1==d.color&&(d.color=!1,b.parent.color=!0,this.bx(b.parent),d=b.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.mx(d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,this.bx(b.parent),
b=this.root)}else d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,this.mx(b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.bx(d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,this.mx(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Xw(b);if(b!=this.pb){var d=b.key;this.fea(b);return d}return null};xa.min=function(b){for(;b.left!=this.pb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.pb;)b=b.right;return b};xa.Xn=function(b){if(b.right!=this.pb)return this.min(b.right);for(var d=b.parent;d!=this.pb&&b==d.right;)b=d,d=d.parent;return d};xa.Xw=function(b){for(var d=this.root;d!=this.pb&&0!=this.compare(d.key,b);)d=0>this.compare(b,d.key)?d.left:d.right;return d};xa.contains=function(b){return null!=this.Xw(b).key};xa.NK=function(){var b=[];this.forEach(function(d){b.push(d)});return b};xa.vea=function(b){if("array"==a.vL(b))for(var d=0;d<b.length;d++)this.Is(b[d]);
else if("function"==a.vL(b.forEach))b.forEach(this.Is,this);else if("function"==a.vL(b.NK))for(b=b.NK(),d=0;d<b.length;d++)this.Is(b[d]);else if("object"==a.vL(b))for(d in b)this.Is(b[d])};xa.range=function(b,d){var c=[];this.Afa(function(g){c.push(g)},b,d);return c};xa.Afa=function(b,d,c){if(!this.Ls())for(d=this.Xw(d),c=this.Xw(c);d!=c&&!b.call(void 0,d.key,this);)d=this.Xn(d)};xa.forEach=function(b,d){if(!this.Ls())for(var c=this.min(this.root);c!=this.pb;c=this.Xn(c))b.call(d,c.key,c.key,this)};
xa.some=function(b,d){if(this.Ls())return!1;for(var c=this.min(this.root);c!=this.pb;c=this.Xn(c))if(b.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(b,d){if(this.Ls())return!1;for(var c=this.min(this.root);c!=this.pb;c=this.Xn(c))if(!b.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(b,d){var c=[];if(this.Ls())return c;for(var g=this.min(this.root);g!=this.pb;g=this.Xn(g))c.push(b.call(d,g.key,g.key,this));return c};xa.filter=function(b,d){var c=[];if(this.Ls())return c;
for(var g=this.min(this.root);g!=this.pb;g=this.Xn(g))b.call(d,g.key,g.key,this)&&c.push(g.key);return c};xa.Ls=function(){return 0==this.size};e.Do=class extends e.ka{constructor(b){super();this.Yg=new a.Do(b);this.Mr=!1;this.Sp=new Set;this.Tp=new Set}Ec(b){this.Mr?this.Yg.contains(b)?this.Tp.delete(b):this.Sp.add(b):this.Yg.Is(b)}vh(b){this.Mr?this.Yg.contains(b)?this.Tp.add(b):this.Sp.delete(b):this.Yg.remove(b)}yy(b){return this.Mr?this.Sp.has(b)?!0:!this.Tp.has(b)&&this.Yg.contains(b):this.Yg.contains(b)}yd(){this.Yg.clear();
this.Sp.clear();this.Tp.clear()}toArray(){if(this.Mr)throw Error("cannot be used in queueing mode");return this.Yg.NK()}Cm(){return this.Yg.size+this.Sp.size-this.Tp.size}xo(){return 0===this.Cm()}xh(b){b=!!b;if(this.Mr!==b&&(this.Mr=b,!b)){for(const d of this.Tp)this.Yg.remove(d);this.Tp.clear();for(const d of this.Sp)this.Yg.Is(d);this.Sp.clear()}}nM(b){this.Yg.forEach(b)}*values(){if(!this.xo()){var b=this.Yg;for(let d=b.min(b.root);d!=b.pb;d=b.Xn(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.C;e.ZN=class{constructor(a=e.hardwareConcurrency){this.dda=a;this.BJ=[];this.aH=0}Ec(a){return new Promise((b,d)=>{this.BJ.push({hi:a,resolve:b,reject:d});this.bR()})}async bR(){if(this.BJ.length&&!(this.aH>=this.dda)){this.aH++;var a=this.BJ.shift();try{const b=await a.hi();a.resolve(b)}catch(b){a.reject(b)}this.aH--;this.bR()}}}}
{"use strict";const e=self.C;e.x3=class{constructor(a,b,d){this.qr=a;this.Rca=b;this.Sca=d||2*b;this.vs=-1;this.pB=-Infinity;this.KU=()=>this.y$();this.xca=this.mI=!1;this.cv=null}t8(){return"undefined"!==typeof e.ZW&&e.ZW.Pia()?this.Sca:this.Rca}kX(){var a=[];if(-1===this.vs){this.cv=a;a=e.Tx();var b=a-this.pB,d=this.t8();b>=d&&this.xca?(this.pB=a,this.AR()):this.vs=self.setTimeout(this.KU,Math.max(d-b,4))}}AR(){this.mI=!0;const a=this.cv;this.cv=null;a?this.qr(...a):this.qr();this.mI=!1}kd(){this.mI||
(this.KP(),this.cv=null,this.pB=e.Tx())}y$(){this.vs=-1;this.pB=e.Tx();this.AR()}KP(){-1!==this.vs&&(self.clearTimeout(this.vs),this.vs=-1)}B(){this.KP();this.KU=this.cv=this.qr=null}}}"use strict";function hc(e,a){if(!e.TS)throw Error("no get base size callback set");return e.TS(a)}self.C.bma=class{constructor(){this.Oca=new Map;this.kU=this.mU=this.TS=null}Ry(){if(!this.kU)throw Error("no redraw callback set");this.kU()}};"use strict";
self.C.ama=class{constructor(e,a){this.Ug=e;this.Eca=a;this.Mc=0;hc(this.Ug,a).then(()=>{this.Ug.Ry()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Ug.Ry()});this.CJ=null}B(){if(0>=this.Mc)throw Error("already released");this.Mc--;0===this.Mc&&this.Hu()}Hu(){if(this.CJ){var e=this.Ug;if(!e.mU)throw Error("no release result callback set");e.mU(this.CJ);this.CJ=null}this.Ug.Oca.delete(this.Eca);this.Ug=null}};
{"use strict";const e=self.C;e.Zna="\ufeff";const a=new Set([..."0123456789"]);e.p1=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Jy=function(n){return b.has(n)};e.Dha=function(n){return[...n].filter(p=>!e.Jy(p)).join("")};e.KE=function(n){for(const p of n)if(!e.Jy(p))return!1;return!0};e.C1=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.sZ=function(n){return[...n].filter(p=>
!e.C1(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.Yia=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.H3=function(n){let p=n.length;for(;0<p&&e.p1(n.charAt(p-1));)--p;return n.substr(0,p)};e.nia=function(n){let p=e.H3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;e.kZ=function(n){return n.replace(m,g)};e.tha=function(n){n=e.Gi(n,"\\","\\\\");n=e.Gi(n,'"','\\"');n=e.Gi(n,"\t","\\t");n=e.Gi(n,"\r","");return e.Gi(n,"\n","\\n")};e.uha=function(n){n=e.Gi(n,"&","&amp;");n=e.Gi(n,"<","&lt;");n=e.Gi(n,">","&gt;");return e.Gi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Zs=function(n){return n.replace(h,"\\$&")};e.Eha=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};e.Gi=function(n,p,q){return n.replaceAll(p,()=>q)};e.bla=function(n,p,q){return n.replace(new RegExp(e.Zs(p),"gi"),()=>q)};e.yma=function(n,p){"string"===typeof p?n.textContent=p:p.uT?n.textContent=p.toString():(n.innerHTML=p.rL(),p instanceof e.um&&p.Rda(n))};e.Cna=function(n,p){return n instanceof e.pE||n instanceof e.um?n.sd(p):p instanceof e.pE||p instanceof e.um?p.sd(n):n===p};e.Dna=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};e.Ena=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.Fna=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.lna=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.Hha=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.nqa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const k={Oda:!1,aea:!0,uea:!0,Oea:!0,WV:!0};e.Iha=function(n,p){p=Object.assign({},
k,p);e.F1.Rka("common.time");const q=[],u=self.lang,w=self.mqa;if(p.aea){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.uea&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Oea&&(r=Math.floor(n/60),0<r||q.length||!p.WV)&&(n-=60*r,q.push(w(".minutes",null,r)));p.WV&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Oda?u(".approx-prefix"):"")+q.join(u(".separator"));e.F1.Jka();return n};e.Joa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.Gna=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.Zga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.UV(n);e.UV(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.iha=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.Ana=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.Bna=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const e=self.C,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(k,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return k=q[0],q=q[1],n?"</"+k+">":`<${k} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:k}const h=/\n/g;e.um=class{constructor(k,n){this.Eh=n&&n.Rea?k:e.kZ(k);this.lI="";this.uS=!1;this.Wv=[];if(n&&(this.uS=!!n.gpa,n.links)){if(9<n.links.length)throw Error("too many links");this.Wv=n.links}this.YS=this.Eh.includes("[");this.YT=this.uS&&this.Eh.includes("\n");this.uT=!this.YS&&!this.YT&&!this.Eh.includes("&");this.bT=!1;this.vv=[]}toString(){return this.Eh}valueOf(){return this.Eh}rL(){if(this.uT)return this.Eh;if(!this.lI&&this.Eh){let k=this.Eh;
this.YS&&(g=0,c=this.Wv,k=k.replace(b,m),c=null);this.YT&&(k=k.replace(h,"<br>"));this.lI=k}return this.lI}Rda(k){if(this.Wv.length)for(let n=0,p=this.Wv.length;n<p;++n){const q=this.Wv[n];if("function"!==typeof q)continue;const u=k.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}sd(k){return k instanceof e.pE?this.rL()===k.rL():k instanceof e.um?this.Eh===k.Eh:this.Eh===k}vfa(){if(this.bT)return this.vv;const k=this.Eh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(k));){var u=q.index;if(0<u&&"\\"===k.charAt(u-1))continue;var w=q[1],r=q[2];const v=k.substring(p,u);p=u+q[0].length;v&&this.vv.push({text:v,td:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,ii:u})}p<k.length&&this.vv.push({text:k.substring(p),td:n.slice(0)});for(const v of this.vv)v.text=
this.H$(v.text);this.bT=!0;return this.vv}H$(k){k=e.Gi(k,"\\[","[");return e.Gi(k,"\\\\","\\")}static hP(k){return k.replace(d,"")}}}
{"use strict";const e=self.C;e.JF=class{constructor(){this.nn=[]}dR(a,b){let d=0,c=0,g=0,m=0,h=0;for(const k of a)-1===k.width&&(a=b(k.text,k.td),k.width=a.width,k.height=a.height,k.ug=a.ug||0,k.Hf=a.Hf||0,k.Kf=a.Kf||0),d+=k.width,c=Math.max(c,k.height),g=Math.max(g,k.ug),m=Math.max(m,k.Hf),h=Math.max(h,k.Kf);return{width:d,height:c,ug:g,Hf:m,Kf:h}}pz(a,b,d,c,g,m){this.nn.push({tV:a,width:b,height:d,ug:c,Hf:g,Kf:m})}JF(a,b,d,c,g){"string"===typeof a&&(a=[{text:a,td:[]}]);e.F(this.nn);if(!(!a.length||
1===a.length&&!a[0].text.length||2>d)){if(1===a.length){var m=a[0];const h=m.text;m=m.td;if(100>=h.length&&!h.includes("\n")){let {width:k,height:n,ug:p,Hf:q,Kf:u}=b(h,m);k+=g;p=p||0;q=q||0;u=u||0;if(k<=d){this.pz([{text:h,td:m,width:k,height:n,ug:p,Hf:q,Kf:u}],k,n,p,q,u);return}}}if("word"===c)c=this.Jba(a);else{c=[];for(const h of a)e.On(c,[...h.text].map(k=>[{text:k,td:h.td}]))}this.cca(c,b,d,g)}}Jba(a){const b=[];let d=[],c=!1;for(const m of a){var g=m.text;a=m.td;for(const h of g)"\n"===h?(0<
d.length&&b.push(d),b.push([{text:"\n",td:a}]),d=[]):0===d.length?(d.push({text:h,td:a}),c=e.Jy(h)):(g=e.Jy(h),g===c?(g=d.he(-1),g.td===a?g.text+=h:d.push({text:h,td:a})):(b.push(d),d=[],d.push({text:h,td:a}),c=g))}0<d.length&&b.push(d);return b}H6(a){return a.map(b=>({text:b.text,td:b.td,width:b.width,height:b.height,ug:b.ug,Hf:b.Hf,Kf:b.Kf}))}FP(a,b){var d=a.length?a.he(-1):null;let c=0;d&&b[0].td===d.td&&(d.text+=b[0].text,d.width=-1,d.height=-1,d.ug=-1,d.Hf=-1,d.Kf=-1,c=1);for(d=b.length;c<d;++c){const g=
b[c];a.push({text:g.text,td:g.td,width:-1,height:-1,ug:-1,Hf:-1,Kf:-1})}}cca(a,b,d,c){let g=[],m=0,h=0,k=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===h&&(p=b(" ",q[0].td),h=p.height,k=p.ug||0,n=p.Hf||0,p=p.Kf||0);this.pz(g,m,h,k,n,p);g=[];p=n=k=h=m=0;continue}a=this.H6(g);this.FP(a,q);const u=this.dR(a,b),w=u.width;w>=d?(0<g.length&&this.pz(g,m,h,k,n,p),g=[],e.KE(q[0].text)?p=n=k=h=m=0:(this.FP(g,q),p=this.dR(g,b),m=p.width,h=p.height,k=p.ug,n=p.Hf,p=p.Kf)):(g=a,m=w,h=u.height,
k=u.ug,n=u.Hf,p=u.Kf)}0<g.length&&this.pz(g,m,h,k,n,p);this.Mba(b,c)}Mba(a,b){for(const c of this.nn){const g=c.tV;if(!g.length)continue;let m=g.he(-1);var d=m.text;const h=d.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<d.length){d=a(h,m.td).width;const k=m.width-d;m.width=d;m.text=h;c.width-=k}0!==b&&0<g.length&&(m=g.he(-1),m.width+=b,c.width+=b)}}yd(){e.F(this.nn)}v_(){return this.nn.reduce((a,b)=>Math.max(a,b.width),0)}O_(){return this.nn.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const e=self.C,a=self.vj,b=a.$C,d=a.qx,c=a.nm,g=b.create(),m=b.create(),h=b.create(),k=d.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=d.If(0,0,1,1);e.K={o3(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},ck(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Ks(n,n))return!1;k[0]=(J-Z[0])/Z[2]*2-1;k[1]=(M-Z[1])/Z[3]*2-1;k[2]=2*P-1;k[3]=1;d.tL(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];X[0]=k[0]*k[3];X[1]=k[1]*k[3];X[2]=k[2]*k[3];return!0},H5(J,M,P,R,T,Z,X){if(!e.K.ck(J,M,0,R,T,Z,g)||!e.K.ck(J,M,1,R,T,Z,m))return!1;b.rm(m,m,g);b.set(h,0,0,1);J=-P;M=b.Rn(h,m);P=0;if(0===M){if(0!==
b.Rn(h,g)+J)return!1}else if(P=-(b.Rn(g,h)+J)/M,0>P)return!1;b.lL(X,g,m,P);return!0}};function z(J,M,P,R){b.rm(g,P,M);b.rm(m,J,M);b.EK(h,g,m);b.normalize(h,h);R.set(h[0],h[1],h[2],b.Rn(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.qW,Na=X.rW;X=X.sW;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.sW=this.rW=this.qW=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.qW=0<J?1:0;this.rW=0<M?1:0;this.sW=0<P?1:0}}e.K.P5=class{constructor(){this.LT=new H;this.LU=new H;this.pU=new H;this.nS=new H;this.kJ=new H;this.LS=new H}iX(J,M){e.K.ck(0,1,0,J,M,G,p);e.K.ck(1,1,0,J,M,G,q);e.K.ck(0,0,0,J,M,G,u);e.K.ck(1,0,0,J,M,G,w);e.K.ck(0,1,1,J,M,G,r);e.K.ck(1,1,1,J,M,G,v);e.K.ck(0,0,1,J,M,G,y);e.K.ck(1,0,1,J,M,G,A);z(u,p,r,this.LT);z(p,q,v,this.LU);z(q,w,A,this.pU);z(w,u,y,this.nS);z(y,r,v,this.LS);z(w,q,p,this.kJ)}FX(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.LT)&&F(J,M,P,R,T,Z,this.LU)&&F(J,M,P,R,T,Z,this.pU)&&F(J,M,P,R,T,Z,this.nS)&&F(J,M,P,R,T,Z,this.kJ)&&F(J,M,P,R,T,Z,this.LS)}f1(J,M,P){var R=this.kJ;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.C,a=self.vj,b=a.$C,d=a.qx,c=a.nm,g=c.create(),m=b.If(0,0,0),h=b.If(0,0,0),k=b.If(0,0,0),n=b.If(0,1,0);d.If(0,0,0,0);new e.Cd;new e.Rect;const p=new e.Cd(0,0,1,0,1,1,0,1);e.K.K3=class{constructor(){this.V=this.$=0;this.OS=e.Cb(45);this.XJ=Math.tan(this.OS/2);this.DB=c.create();this.dJ=c.create();this.$o=[];this.bC=new Map;this.MJ=this.fC=this.gC=null;this.Aw=new Map;this.Wi=null;this.sH=[];this.XT=new Map;this.ov=this.Wu=0;this.MT=this.NT=1;this.ZI=.5;this.Nh=0;this.Lr=!0;
this.jI=!1}rZ(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}NP(){this.ov=this.Wu=0;this.MJ=this.fC=this.gC=null;this.F6()}Dy(){this.NP();this.Wi=null}t2(){for(const q of this.$o)q.B();this.NP()}Y(){return this.$}W(){return this.V}lq(q,u,w=.5,r=.5){var v=this.OS;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.XJ,u*=v,c.nea(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}hX(q,u,w){const r=self.devicePixelRatio,v=200*r*this.XJ/w;u=u*v/(2*r);
w=w*v/(2*r);c.Vea(q,-u,u,-w,w,1,1E4)}FL(q,u,w,r,v=this.W()){v=200*self.devicePixelRatio*this.XJ/v;b.set(k,v,-v,1);b.multiply(m,u,k);b.multiply(h,w,k);c.Kea(q,m,h,r||n);c.scale(q,q,k)}Ws(q,u,w,r,v,y){b.set(m,q,u,w);b.set(h,r,v,0);this.FL(g,m,h,n,y);return g}o6(q){this.$o.push(q);this.bC.set(q.Ca(),q)}baa(q){const u=this.$o.indexOf(q);-1!==u&&this.$o.splice(u,1);this.bC.delete(q.Ca())}F6(){e.F(this.$o);this.bC.clear()}QM(q){return this.bC.get(q)||null}ak(){this.$q(this.gC)}BO(){this.$q(this.MJ)}Vaa(q){this.Wi=
q}vW(q,u,w,r){const v=e.K.CF.CN(q,u,w,r);let y=this.Aw.get(v);y||(y=e.A(e.K.CF,this,q,u,w,r),this.Aw.set(v,y));y.KW();return y}eO(q){q.YX();0===q.Mc&&(this.Wi===q&&(this.Wi=null),this.Aw.delete(q.o_()),q.B())}N8(q){e.F(this.sH);this.XT.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.sH.push([r,v]);this.XT.set(q,{Tqa:u,Vra:r,ppa:v});u++}}n8(q){return this.sH[q]}Sq(q){this.Wu=q}Xt(q){this.ov=q;this.Wi=null}I1(q,u,w,r){var v=e.Gs(q,u,w,r),y=.5*this.NT;const A=Math.sin(v)*y;v=Math.cos(v)*
y;y=this.MT;2===y?this.Jt(q,u,w,r,A,v):1===y?this.It(q,u,w,r,A,v):this.Ht(q,u,w,r,A,v)}Jt(q,u,w,r,v,y){var A=this.ZI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.Py(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}It(q,u,w,r,v,y){const A=this.ZI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Py(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}Ht(q,u,w,r,v,y){const A=this.ZI;q+=A;u+=A;w+=A;r+=A;this.Py(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}J1(q,u,w,r){const v=.5*this.NT,y=this.MT;2===y?this.j9(q,
u,w,r,v):1===y?this.i9(q,u,w,r,v):this.h9(q,u,w,r,v)}j9(q,u,w,r,v){this.Jt(q,u,w,u,0,v);this.Jt(w,u,w,r,v,0);this.Jt(w,r,q,r,0,-v);this.Jt(q,r,q,u,-v,0)}i9(q,u,w,r,v){this.It(q,u,w,u,0,v);this.It(w,u,w,r,v,0);this.It(w,r,q,r,0,-v);this.It(q,r,q,u,-v,0)}h9(q,u,w,r,v){this.Ht(q,u,w,u,0,v);this.Ht(w,u,w,r,v,0);this.Ht(w,r,q,r,0,-v);this.Ht(q,r,q,u,-v,0)}wN(q){this.J1(q.ca,q.Z,q.na,q.ia)}dt(){this.Aj();this.Nh++}x0(){this.Nh++}mF(q){this.Lr=!!q}C4(q){this.jI=!!q}el(){return!1}}}"use strict";
self.C.K.k5=class{constructor(e,a,b){this.La=a;this.xa=e;this.IS=b.upa||0;this.JS=b.vpa||0;this.vS=!!b.ipa;this.fda=!!b.Pqa;this.gs=!!b.kra;this.jca=!!b.Soa;this.tH=!!b.Xoa;this.uC=!!b.ksa;this.SU=!1}B(){this.xa=null}ob(){return this.xa}Ca(){return this.La}Iq(){return this.fda}};
{"use strict";const e=self.C;e.K.CF=class{constructor(a,b,d,c,g){this.xa=a;this.Mc=0;this.dd=null;this.uw="";this.Mg=d;this.ib=e.A(e.hb);this.ib.set(c);this.ed=g;"string"===typeof b?this.uw=b:(this.dd=b,this.uw=this.dd.Ca())}B(){if(0<this.Mc)throw Error("releasing state group still in use");this.dd=this.xa=null;this.uw=""}QW(){const a=this.xa;a.$q(this.dd);a.Yf(this.Mg);a.Mm(this.ib);a.Xt(this.ed);a.Vaa(this)}o_(){return e.K.CF.CN(this.uw,this.Mg,this.ib,this.ed)}KW(){++this.Mc}YX(){--this.Mc}fl(){this.dd=
null}PE(a){this.dd=a.QM(this.uw);if(!this.dd)throw Error("failed to restore shader program");}static CN(a,b,d,c){return("string"===typeof a?a:a.Ca())+","+b+","+d.Za+","+d.bb+","+d.ab+","+d.$a+","+c}}}
{"use strict";const e=self.C,a=e.A(e.Cd);function b(d,c,g){const m=g.Ab,h=g.Bb;return[m+(g.uc-m)*d+(g.mc-m)*c,h+(g.vc-h)*d+(g.nc-h)*c]}e.K.a2=class{constructor(d){this.hJ=d;this.gh=this.eh=this.ed=this.O=this.R=0}Jg(d,c,g,m){this.R=d;this.O=c;this.eh=g;this.gh=m}S(){return this.R}ag(d){this.R!==d&&(this.R=d,this.hJ.KG())}T(){return this.O}bg(d){this.O!==d&&(this.O=d,this.hJ.KG())}Xa(){return this.ed}Ne(d){this.ed!==d&&(this.ed=Math.max(d,0),this.hJ.KG())}tF(d){this.eh=d}uF(d){this.gh=d}b9(d,c,g){[this.R,
this.O]=b(d.R,d.O,c);this.ed=d.ed;this.eh=e.ie(g.ca,g.na,d.eh);this.gh=e.ie(g.Z,g.ia,d.gh)}a9(d,c,g){[this.R,this.O]=b(d.R,d.O,c);this.ed=d.ed;[this.eh,this.gh]=b(d.eh,d.gh,g)}Dd(){return{x:this.S(),y:this.T(),z:this.Xa(),u:this.eh,v:this.gh}}ud(d){this.ag(d.x);this.bg(d.y);d.hasOwnProperty("z")&&this.Ne(d.z);this.tF(d.u);this.uF(d.v)}};e.K.EN=class{constructor(d,c,g){if(2>d||2>c)throw Error("invalid mesh size");this.pk=d;this.Dk=c;this.Zb=g||null;this.vn=[];this.VT=this.UT=0;this.RT=this.QT=1;this.ST=
0;this.wJ=!1;g=d-1;const m=c-1;for(let h=0;h<c;++h){const k=[];for(let n=0;n<d;++n){const p=e.A(e.K.a2,this,n,h),q=n/g,u=h/m;p.Jg(q,u,q,u);k.push(p)}this.vn.push(k)}}B(){e.F(this.vn)}KG(){this.wJ=!0}zu(){if(this.wJ){var d=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const k of this.vn)for(const n of k){const p=n.S(),q=n.T();d=Math.min(d,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.Xa())}this.UT=d;this.VT=c;this.QT=g;this.RT=m;this.ST=h;this.wJ=!1}}z_(){this.zu();return this.UT}A_(){this.zu();
return this.VT}w_(){this.zu();return this.QT}x_(){this.zu();return this.RT}y_(){this.zu();return this.ST}uq(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.pk||0>c||c>=this.Dk?null:this.vn[c][d]}GL(d,c,g){const m=g instanceof e.Rect;if(d.pk!==this.pk||d.Dk!==this.Dk)throw Error("source mesh wrong size");d=d.vn;const h=this.vn;for(let k=0,n=h.length;k<n;++k){const p=d[k],q=h[k];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.b9(r,c,g):v.a9(r,c,g)}}}mh(d){const c=this.vn;let g=c[0];
for(let m=1,h=c.length;m<h;++m){const k=c[m];let n=g[0],p=k[0];for(let q=1,u=k.length;q<u;++q){const w=g[q],r=k[q];a.set(n.eh,n.gh,w.eh,w.gh,r.eh,r.gh,p.eh,p.gh);d.Py(n.S(),n.T(),n.Xa(),w.S(),w.T(),w.Xa(),r.S(),r.T(),r.Xa(),p.S(),p.T(),p.Xa(),a);n=w;p=r}g=k}}$0(d){d=d.Rd;const c=[],g=this.pk-1,m=this.Dk-1,h=1/g,k=1/m,n=g-1,p=m-1;let q=d[0],u=d[1],w=e.oa(Math.floor(q*g),0,n),r=e.oa(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=e.oa(e.ie(q,v,A),0,1);u=e.oa(e.ie(u,y,A),0,1);c.push(q,u)};for(let F=
0,H=d.length;F<H;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),w=e.oa(Math.floor(q*g),0,n),r=e.oa(Math.floor(u*m),0,p),G=(F+2)%H,v=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,M=r*k,P=(w+1)*h,R=(r+1)*k;if(0!==G&&(A=e.lx(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=e.lx(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=e.lx(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<w&&1!==
G&&(A=e.lx(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=e.lx(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return e.A(e.bo,c)}C5(d,c){d=this.Kba(d);this.Bba(d);c.UC(d)}Kba(d){const c=[];d=d.Rd;for(let g=0,m=d.length;g<m;g+=2){const [h,k]=this.kP(d[g],d[g+1]);c.push(h,k)}return c}kP(d,c){var g=this.pk-1,m=this.Dk-1;const h=1/g,k=1/m;g=e.oa(Math.floor(d*g),0,g-1);const n=e.oa(Math.floor(c*m),0,m-1);m=g*h;const p=n*k,q=(g+1)*h,u=(n+1)*k,w=
this.uq(g,n),r=this.uq(g+1,n+1),v=e.Cea(d,c,m,p,q,p,q,u);g=this.uq(g+(v?1:0),n+(v?0:1));const [y,A,G]=e.Cfa(d,c,m,p,v?m+h:m,v?p:p+k,q,u);return e.Bfa(y,A,G,w.S(),w.T(),g.S(),g.T(),r.S(),r.T())}Bba(d){const c=[];let g=d[0],m=d[1],h=g-d.he(-2),k=m-d.he(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const w=u-g,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(k)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(k)||v)&&1E-7<Math.abs(w/h-r/k)||
0==w&&0===r)&&c.push(g,m);g=u;m=n;h=w;k=r}6<=c.length&&c.length<d.length&&e.Pc(d,c)}Dd(){return{cols:this.pk,rows:this.Dk,points:this.vn.map(d=>d.map(c=>c.Dd()))}}ud(d){const c=this.pk,g=this.Dk;if(d.cols!==c||d.rows!==g)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<g;++m){const h=d[m];for(let k=0;k<c;++k)this.uq(k,m).ud(h[k])}}}}
{"use strict";const e=self.C,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{oL:n,Js:q,format:u,type:p}}const m={bD:"clamp-to-edge",cD:"clamp-to-edge",wj:"trilinear",fV:0,eL:"rgba8",QC:!0,ix:"default",premultiplyAlpha:!0,EV:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},k=new Set;e.K.nz=class{constructor(n){this.xa=n;this.rb=null;this.V=this.$=0;this.Qh=!0;this.Es=this.Ds="clamp-to-edge";this.wd="trilinear";this.iH=0;this.un="rgba8";this.Kl=!1;this.Ip=
"default";this.Mc=0}W6(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.rb)throw Error("already created texture");this.Ds=p.bD;this.Es=p.cD;
this.wd=p.wj;this.iH=p.fV;this.un=p.eL;this.Kl=!!p.QC&&this.xa.Lr;this.Ip=p.ix;if(!c.has(this.Ds)||!c.has(this.Es))throw Error("invalid wrap mode");if(!b.has(this.wd))throw Error("invalid sampling");if(!a.has(this.un))throw Error("invalid pixel format");if(!d.has(this.Ip))throw Error("invalid mipmap quality");this.Qh=!0;if(n instanceof ArrayBuffer||null===n||p.EV){if(this.$=p.width,this.V=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.$*this.V*4)throw Error("ArrayBuffer wrong size");}else this.$=
n.width,this.V=n.height;if(0>=this.$||0>=this.V)throw Error("invalid texture data size");if(p.EV){var q=e.kh(this.$,this.V);q.getContext("2d").drawImage(n,0,0,this.$,this.V);n=q}var u=e.Nk(this.$)&&e.Nk(this.V);q=this.xa.EB;if(this.$>q||this.V>q)throw Error("texture data exceeds maximum texture size");q=this.xa.X;var w=this.xa.rd;this.rb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.rb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.un,q);if(this.xa.Oo()||u||!this.lG())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Kl?Math.floor(Math.log2(Math.max(this.$,this.V))+1):1,p.oL,this.$,this.V),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.$,this.V,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Js,this.$,this.V,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Js,this.$,this.V,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Js,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.$,this.V));n instanceof ImageData&&(u=e.kh(this.$,this.V),u.getContext("2d").putImageData(n,0,0),n=u);u=e.kh(e.KV(this.$),e.KV(this.V));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.wd;w.drawImage(n,0,0,this.$,this.V,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Js,p.format,p.type,u)}null!==n&&this.QR(q);q.bindTexture(q.TEXTURE_2D,null);this.xa.AG();this.Mc=1;k.add(this)}J6(n,p,q){q=Object.assign({},m,q);if(this.rb)throw Error("already created texture");this.Ds=q.bD;this.Es=q.cD;this.wd=q.wj;this.un=q.eL;this.Kl=!!q.QC&&this.xa.Lr;this.Ip=q.ix;if(!c.has(this.Ds)||!c.has(this.Es))throw Error("invalid wrap mode");if(!b.has(this.wd))throw Error("invalid sampling");if(!a.has(this.un))throw Error("invalid pixel format");if(!d.has(this.Ip))throw Error("invalid mipmap quality");
this.Qh=!1;this.$=Math.floor(n);this.V=Math.floor(p);n=e.Nk(this.$)&&e.Nk(this.V);p=this.xa.EB;if(0>=this.$||0>=this.V)throw Error("invalid texture size");if(this.$>p||this.V>p)throw Error("texture exceeds maximum texture size");if(!this.xa.Oo()&&this.lG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.xa.X;p=this.xa.rd;this.rb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.rb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.un,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.oL:q.Js,this.$,this.V,0,q.format,q.type,null);this.QR(n);n.bindTexture(n.TEXTURE_2D,null);this.xa.AG();this.Mc=1;k.add(this)}hG(n){if("default"===this.Ip)return this.Qh?n.NICEST:n.FASTEST;if("low"===this.Ip)return n.FASTEST;if("high"===this.Ip)return n.NICEST;throw Error("invalid mipmap quality");}lG(){return"clamp-to-edge"!==this.Ds||"clamp-to-edge"!==this.Es}FQ(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}QR(n){var p=e.Nk(this.$)&&e.Nk(this.V);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.FQ(n,this.Ds));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.FQ(n,this.Es));"nearest"===this.wd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Kl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.xa.Oo())&&this.Kl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.hG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.wd||this.xa.jI?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Kl=!1));(p=this.xa.Su)&&0<this.iH&&"nearest"!==this.wd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.iH,this.xa.fJ))}aS(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.rb||0>=this.Mc)throw Error("texture not created");if(this.Qh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.xa.rd;
const r=this.xa.X;r.bindTexture(r.TEXTURE_2D,this.rb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.un,r);w=2<=w?p.oL:p.Js;try{if(this.$===q&&this.V===u){const v=e.Nk(this.$)&&e.Nk(this.V);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.xa.Oo())&&this.Kl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.hG(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.$=q;this.V=u;const v=e.Nk(this.$)&&e.Nk(this.V);if(!this.xa.Oo()&&this.lG()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.xa.Oo())&&this.Kl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.hG(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.xa.AG()}XF(){if(0<this.Mc)throw Error("texture still has references");if(!this.rb)throw Error("already deleted texture");k.delete(this);this.xa.X.deleteTexture(this.rb);this.rb=null}ob(){return this.xa}v5(){if(0>=
this.Mc)throw Error("no more references");this.Mc--}Y(){return this.$}W(){return this.V}TD(){let n=this.$*this.V;switch(this.un){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Kl&&(n+=Math.floor(n/3));return n}static fl(){k.clear()}static Jda(){return k.values()}}}
{"use strict";const e=self.vj.nm,a=new Set(["nearest","bilinear","trilinear"]),b={wj:"trilinear",alpha:!0,depth:!1,VK:!0,zV:!0,Pea:0},d=new Set;self.C.K.wP=class{constructor(c){this.xa=c;this.zk=this.rb=this.sp=this.Qg=null;this.V=this.$=0;this.ZA=!0;this.wd="trilinear";this.nr=!0;this.Yc=!1;this.Mv=!0;this.Sl=0;this.xk=e.create()}I6(c,g,m){m=Object.assign({},b,m);const h=this.xa.rd;if(this.rb||this.zk)throw Error("already created render target");this.wd=m.wj;this.nr=!!m.alpha;this.Yc=!!m.depth;this.Mv=
!!m.VK;this.ZA=!!m.zV;this.Sl=m.Pea;if(!a.has(this.wd))throw Error("invalid sampling");if(0<this.Sl&&(2>h||this.Mv))throw Error("invalid use of multisampling");2>h&&(this.Mv=!0);this.$=c;this.V=g;if(0>=this.$||0>=this.V)throw Error("invalid render target size");this.JP();c=this.xa.X;this.Qg=c.createFramebuffer();this.Yc&&(this.sp=c.createFramebuffer());this.Mv?(this.rb=this.xa.VL(this.$,this.V,{wj:this.wd,eL:this.nr?"rgba8":"rgb8",QC:!1}),g=this.rb.rb,c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Yc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.sp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.zk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.zk),g=this.nr?c.RGBA8:c.RGB8,0<this.Sl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.Sl>m&&(this.Sl=m)):this.Sl=0),0===this.Sl?c.renderbufferStorage(c.RENDERBUFFER,g,this.$,this.V):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Sl,g,this.$,this.V),c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.zk),this.Yc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.sp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.zk)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.xa.Og;this.Yc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),this.xa.dv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}wR(c,g){if(this.$!==c||this.V!==g)this.$=c,this.V=g,this.JP(),c=this.xa.X,c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),this.rb?this.rb.aS(new ImageData(this.$,this.V)):(c.bindRenderbuffer(c.RENDERBUFFER,this.zk),c.renderbufferStorage(c.RENDERBUFFER,this.nr?c.RGBA8:c.RGB8,this.$,this.V),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.xa.Og,this.Yc&&g&&(this.xa.dv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}XF(){if(!this.rb&&!this.zk)throw Error("already deleted render target");d.delete(this);var c=this.xa.X;this.rb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Yc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.sp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.xa.zj(this.rb),this.rb=null):this.zk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Yc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.sp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.zk),this.zk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.xa.rd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Qg);
this.Yc&&c.deleteFramebuffer(this.sp);c=this.xa.Ac;c.km=null;this.Qg=c.tj=null}JP(){this.xa.lq(this.xk,this.$/this.V)}ob(){return this.xa}ke(){return this.rb}FE(){return"nearest"!==this.wd}Y(){return this.$}W(){return this.V}j1(c){c=Object.assign({},b,c);return"nearest"!==c.wj!==this.FE()||!!c.alpha!==this.nr||!!c.depth!==this.Yc||2<=this.xa.rd&&!!c.VK!==this.Mv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.ZA&&this.Y()===c.width&&this.W()===c.height:this.ZA}TD(){return this.rb?this.rb.TD():
this.$*this.V*(this.nr?4:3)}static fl(){d.clear()}}}
{"use strict";const e=self.C;e.K.mu=class extends e.K.k5{static async CX(a,b,d,c){const g=a.X,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,b);g.compileShader(m);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,d);g.compileShader(b);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const k=a.uJ;k?await a.$ba(()=>g.getProgramParameter(h,k.COMPLETION_STATUS_KHR)):
await e.IF(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=e.sZ(g.getProgramInfoLog(h)||"").trim())&&!e.KE(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(m);g.deleteShader(b);return h}static async Sa(a,b,d,c){d=await e.K.mu.CX(a,b.src,d,c);return new e.K.mu(a,d,b,c)}constructor(a,b,d,c){super(a,c,d);const g=a.X;var m=a.Ac;a.Aj();g.useProgram(b);this.X=g;this.dd=b;this.$A="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.bJ=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.yC),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.mC),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.bJ&&(g.bindBuffer(g.ARRAY_BUFFER,a.QB),g.vertexAttribPointer(this.bJ,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.bJ));g.bindBuffer(g.ARRAY_BUFFER,null);this.dK=new e.K.lc(this,"matP","mat4");this.cK=new e.K.lc(this,"matMV","mat4");this.cq=new e.K.lc(this,"color",
"vec4");this.Dda=new e.K.lc(this,"samplerFront","sampler");this.gK=new e.K.lc(this,"pointTexStart","vec2");this.fK=new e.K.lc(this,"pointTexEnd","vec2");this.jK=new e.K.lc(this,"zElevation","float");this.hK=new e.K.lc(this,"tileSize","vec2");this.iK=new e.K.lc(this,"tileSpacing","vec2");this.bK=new e.K.lc(this,"color2_","vec4");this.eK=new e.K.lc(this,"outlineThickness","float");this.As=new e.K.lc(this,"samplerBack","sampler");this.Cda=new e.K.lc(this,"samplerDepth","sampler");this.Fn=new e.K.lc(this,
"destStart","vec2");this.En=new e.K.lc(this,"destEnd","vec2");this.qj=new e.K.lc(this,"srcStart","vec2");this.fm=new e.K.lc(this,"srcEnd","vec2");this.hm=new e.K.lc(this,"srcOriginStart","vec2");this.gm=new e.K.lc(this,"srcOriginEnd","vec2");this.fh=new e.K.lc(this,"pixelSize","vec2");this.Ln=new e.K.lc(this,"seconds","float");this.Gn=new e.K.lc(this,"devicePixelRatio","float");this.In=new e.K.lc(this,"layerScale","float");this.Hn=new e.K.lc(this,"layerAngle","float");this.Kn=new e.K.lc(this,"layoutStart",
"vec2");this.Jn=new e.K.lc(this,"layoutEnd","vec2");this.ZS=!!(this.fh.aa||this.Ln.aa||this.As.aa||this.Fn.aa||this.En.aa||this.qj.aa||this.fm.aa||this.hm.aa||this.gm.aa||this.Gn.aa||this.In.aa||this.Hn.aa||this.Kn.aa||this.Jn.aa);a=d.parameters||[];this.eq=[];this.SU=this.fh.aa||this.qj.aa||this.fm.aa||this.hm.aa||this.gm.aa;this.gI=this.hI=!1;this.cq.eN();this.bK.eN();this.Dda.rE(0);this.As.rE(1);this.Cda.rE(2);this.gK.zg(0,0);this.fK.zg(1,1);this.jK.to(0);this.hK.zg(0,0);this.iK.zg(0,0);this.Fn.zg(0,
0);this.En.zg(1,1);this.qj.zg(0,0);this.fm.zg(0,0);this.hm.zg(0,0);this.gm.zg(0,0);this.fh.zg(0,0);this.Gn.to(1);this.In.to(1);this.Hn.to(0);this.Ln.to(0);this.Kn.zg(0,0);this.Jn.zg(0,0);this.eK.to(1);for(const k of a)a=k[2],b=new e.K.lc(this,k[0],a),"color"===a?b.y0():b.to(0),this.eq.push(b);this.$A?this.fS(m.Tw):(this.kz(m.Tw,!0),this.jz(m.FC,!0));m=m.fi;g.useProgram(m?m.dd:null)}B(){this.X.deleteProgram(this.dd);this.dd=null;this.xa.baa(this);this.X=null;super.B()}Tf(){return this.dd}ky(a){return this.eq[a].Pj()}RW(a){for(let b=
0,d=a.length;b<d;++b)if(!this.eq[b].w1(a[b]))return!1;return!0}n4(a){for(let b=0,d=a.length;b<d;++b)this.eq[b].j4(a[b])}SW(a,b,d,c,g,m,h,k,n,p){return this.As.aa||this.fh.aa&&!this.fh.dl(g,m)||this.Fn.aa&&!this.Fn.dl(a.ca,a.Z)||this.En.aa&&!this.En.dl(a.na,a.ia)||this.Gn.aa&&!this.Gn.Iy(h)||this.In.aa&&!this.In.Iy(k)||this.Hn.aa&&!this.Hn.Iy(n)||this.qj.aa&&!this.qj.dl(b.ca,b.Z)||this.fm.aa&&!this.fm.dl(b.na,b.ia)||this.hm.aa&&!this.hm.dl(d.ca,d.Z)||this.gm.aa&&!this.gm.dl(d.na,d.ia)||this.Kn.aa&&
!this.Kn.dl(c.ca,c.Z)||this.Jn.aa&&!this.Jn.dl(c.Z,c.ia)||this.Ln.aa&&!this.Ln.Iy(p)?!1:!0}J4(a,b,d,c,g,m,h,k,n,p){this.As.aa||(this.fh.aa&&this.fh.il(g,m),this.Fn.aa&&this.Fn.il(a.ca,a.Z),this.En.aa&&this.En.il(a.na,a.ia),this.Gn.aa&&this.Gn.Yy(h),this.In.aa&&this.In.Yy(k),this.Hn.aa&&this.Hn.Yy(n),this.qj.aa&&this.qj.il(b.ca,b.Z),this.fm.aa&&this.fm.il(b.na,b.ia),this.hm.aa&&this.hm.il(d.ca,d.Z),this.gm.aa&&this.gm.il(d.na,d.ia),this.Kn.aa&&this.Kn.il(c.ca,c.Z),this.Jn.aa&&this.Jn.il(c.Z,c.ia),
this.Ln.aa&&this.Ln.Yy(p))}kz(a,b){this.hI&&!b||this.$A||(this.dK.aa&&this.dK.lz(a),this.hI=!0)}I4(){this.hI=!1}jz(a,b){this.gI&&!b||this.$A||(this.cK.aa&&this.cK.lz(a),this.gI=!0)}H4(){this.gI=!1}fS(a){if(!this.$A)throw Error("not device transform shader");this.dK.lz(a);a=this.xa;const b=a.Y()/2,d=a.W()/2;a=a.Ws(b,d,100*self.devicePixelRatio,b,d);this.cK.lz(a)}K5(a){this.cq.aa&&this.cq.iz(a[0],a[1],a[2],a[3])}static Yx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.C,a=self.vj.nm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.K.lc=class{constructor(d,c,g){if(!b.has(g))throw Error("invalid uniform type");this.Zb=d;this.X=this.Zb.X;this.La=c;this.Ba=g;this.yI="color"===this.Ba;this.Th=this.X.getUniformLocation(this.Zb.Tf(),c);this.aa=!!this.Th;d=b.get(g);this.Yb=new Float32Array(d);this.ij=new Float32Array(d)}B(){this.Th=this.X=this.Zb=null}Pj(){return this.Ba}to(d){this.aa&&
(this.Yb[0]=d,this.ij.set(this.Yb),this.X.uniform1f(this.Th,d))}rE(d){this.aa&&(this.Yb[0]=d,this.ij.set(this.Yb),this.X.uniform1i(this.Th,d))}zg(d,c){this.aa&&(this.Yb[0]=d,this.Yb[1]=c,this.ij.set(this.Yb),this.X.uniform2f(this.Th,d,c))}y0(){this.aa&&(this.Yb[0]=0,this.Yb[1]=0,this.Yb[2]=0,this.ij.set(this.Yb),this.X.uniform3f(this.Th,0,0,0))}eN(){this.aa&&(this.Yb[0]=1,this.Yb[1]=1,this.Yb[2]=1,this.Yb[3]=1,this.ij.set(this.Yb),this.X.uniform4f(this.Th,1,1,1,1))}Qo(d){d=Math.fround(d);const c=
this.Yb;c[0]!==d&&(c[0]=d,this.X.uniform1f(this.Th,d))}Oe(d,c){d=Math.fround(d);c=Math.fround(c);const g=this.Yb;if(g[0]!==d||g[1]!==c)g[0]=d,g[1]=c,this.X.uniform2f(this.Th,d,c)}I5(d,c,g){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);const m=this.Yb;if(m[0]!==d||m[1]!==c||m[2]!==g)m[0]=d,m[1]=c,m[2]=g,this.X.uniform3f(this.Th,d,c,g)}iz(d,c,g,m){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Yb;if(h[0]!==d||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=d,h[1]=c,h[2]=g,h[3]=
m,this.X.uniform4f(this.Th,d,c,g,m)}lz(d){const c=this.Yb;a.uj(c,d)||(e.Dfa(c,d),this.X.uniformMatrix4fv(this.Th,!1,d))}w1(d){const c=this.ij;return this.yI?c[0]===Math.fround(d.Za)&&c[1]===Math.fround(d.bb)&&c[2]===Math.fround(d.ab):c[0]===Math.fround(d)}j4(d){const c=this.ij;this.yI?(c[0]=d.Za,c[1]=d.bb,c[2]=d.ab):c[0]=d}Iy(d){return this.ij[0]===Math.fround(d)}dl(d,c){const g=this.ij;return g[0]===Math.fround(d)&&g[1]===Math.fround(c)}Yy(d){this.ij[0]=d}il(d,c){const g=this.ij;g[0]=d;g[1]=c}}}
{"use strict";const e=self.C,a=self.vj,b=a.qx,d=a.nm;e.K.YW=class{constructor(c){this.Vn=c;this.FC=d.create();this.Tw=d.create();this.tj=this.km=null;this.AV=!1;this.EC=b.If(1,1,1,1);this.fi=null;this.fL=new e.Rect;this.clearColor=e.A(e.hb,0,0,0,0)}};e.K.U5=class{constructor(c){const g=new ArrayBuffer(96);this.Ba=0;this.Ac=c;this.X=c.Vn.X;this.Hl=this.Ae=0;this.Ye=null;this.Af=new Float32Array(g,0,16);this.fp=new Float32Array(g,64,4);this.DU=new Float32Array(g,80,4);this.$B=[]}M0(c){this.Ba=1;this.Ae=
c;this.Hl=6}lY(){const c=this.X;c.drawElements(c.TRIANGLES,this.Hl,c.UNSIGNED_SHORT,this.Ae)}V0(c){this.Ba=2;this.Ye=c}zY(){const c=this.X,g=this.Ye;c.bindTexture(c.TEXTURE_2D,g?g.rb:null)}sE(c){this.Ba=3;c.ih(this.fp,0)}nY(){const c=this.fp,g=this.Ac;b.ua(g.EC,c);g.fi.K5(c)}sY(){const c=this.fp,g=this.Ac.fi;g.bK.aa&&g.bK.iz(c[0],c[1],c[2],c[3])}N0(c,g){this.Ba=4;this.Ae=c;this.Hl=g}mY(){this.X.blendFunc(this.Ae,this.Hl)}W0(c,g){this.Ba=5;const m=this.fp;m[0]=0;m[1]=0;m[2]=c;m[3]=g}BY(){const c=this.fp;
this.X.viewport(c[0],c[1],c[2],c[3])}T0(c){this.Ba=6;d.ua(this.Af,c)}xY(){const c=this.Ac,g=c.Vn.$o,m=c.fi,h=this.Af;for(let k=0,n=g.length;k<n;++k){const p=g[k];p===m?p.kz(h,!0):p.I4()}d.ua(c.Tw,h)}Q0(c){this.Ba=7;d.ua(this.Af,c)}tY(){const c=this.Ac,g=c.Vn.$o,m=c.fi,h=this.Af;for(let k=0,n=g.length;k<n;++k){const p=g[k];p===m?p.jz(h,!0):p.H4()}d.ua(c.FC,h)}U0(c){this.Ba=8;this.Ye=c}yY(){const c=this.X,g=this.Ye,m=this.Ac;g?(m.km=g.Qg,m.tj=g.sp,m.AV&&m.tj?c.bindFramebuffer(c.FRAMEBUFFER,m.tj):c.bindFramebuffer(c.FRAMEBUFFER,
m.km)):(m.km=null,m.tj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}C0(c){this.Ba=9;c.ih(this.Af,0)}D0(){this.Ba=9;const c=this.Af;c[0]=0;c[1]=0;c[2]=0;c[3]=0}eY(){const c=this.X;var g=this.Af;const m=this.Ac.clearColor,h=g[0],k=g[1],n=g[2];g=g[3];m.HC(h,k,n,g)||(c.clearColor(h,k,n,g),m.Wn(h,k,n,g));c.clear(c.COLOR_BUFFER_BIT)}uY(){const c=this.Af;this.Ac.fL.set(c[0],c[1],c[2],c[3])}kY(){const c=this.X,g=this.Ac,m=g.Vn.fC;c.useProgram(m.dd);m.kz(g.Tw,!1);m.jz(g.FC,!1);var h=g.fL;m.gK.aa&&m.gK.Oe(h.ca,
h.Z);m.fK.aa&&m.fK.Oe(h.na,h.ia);h=this.Af[0];m.jK.aa&&m.jK.Qo(h);m.cq.aa&&(h=g.EC,m.cq.iz(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.Ae/4,this.Hl);c.useProgram(g.fi.dd)}R0(c){this.Ba=11;this.Ye=c}vY(){var c=this.X;const g=this.Ac,m=this.Ye;g.fi=m;c.useProgram(m.dd);m.kz(g.Tw,!1);m.jz(g.FC,!1);m.cq.aa&&(c=g.EC,m.cq.iz(c[0],c[1],c[2],c[3]))}S0(){this.Ba=12}wY(){const c=this.Ac.fi;c.ZS&&this.C7(c);c.eq.length&&this.D7(c)}C7(c){const g=this.X,m=this.Af,h=this.fp,k=this.DU;if(c.As.aa){const n=this.Ac.Vn,
p=this.Ye;n.mn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.rb:null),n.mn=p,g.activeTexture(g.TEXTURE0))}c.fh.aa&&c.fh.Oe(m[0],m[1]);c.Fn.aa&&c.Fn.Oe(m[2],m[3]);c.En.aa&&c.En.Oe(m[4],m[5]);c.Gn.aa&&c.Gn.Qo(this.Hl);c.In.aa&&c.In.Qo(m[6]);c.Hn.aa&&c.Hn.Qo(m[7]);c.qj.aa&&c.qj.Oe(m[12],m[13]);c.fm.aa&&c.fm.Oe(m[14],m[15]);c.hm.aa&&c.hm.Oe(k[0],k[1]);c.gm.aa&&c.gm.Oe(k[2],k[3]);c.Kn.aa&&c.Kn.Oe(h[0],h[1]);c.Jn.aa&&c.Jn.Oe(h[2],h[3]);c.Ln.aa&&c.Ln.Qo(this.Ae)}D7(c){c=c.eq;const g=this.$B;
for(let m=0,h=c.length;m<h;++m){const k=c[m],n=g[m];k.yI?k.I5(n.Za,n.bb,n.ab):k.Qo(n)}}I0(c){this.Ba=13;this.Ye=c}jY(){const c=this.X,g=this.Ye,m=this.Ac.km;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}z0(c,g){this.Ba=16;var m=this.Af;const h=this.Ac.Vn;m[0]=c.Y();m[1]=c.W();m[2]=g?g.Y():h.Y();m[3]=g?g.W():h.W();m[4]=c.FE()?1:0;m[5]=!0;m=this.$B;e.F(m);m.push(c.Qg);m.push(g?g.Qg:null)}cY(){var c=this.Af,
g=this.$B;const m=this.X;var h=c[0],k=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,k,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(k,p),n=Math.max(k-p,0),k=Math.max(p-k,0),m.blitFramebuffer(0,n,g,h+n,0,k,g,h+k,m.COLOR_BUFFER_BIT,m.NEAREST))}Y0(c){this.Ba=17;this.Ye=c}CY(){this.Ye.kD();this.Ye=null}H0(c){this.Ba=18;this.Ye=c}iY(){this.Ye.DD();this.Ye=
null}rY(){const c=this.Ac.fi,g=this.Af;c.fh.aa&&c.fh.Oe(g[0],g[1]);c.eK.aa&&c.eK.Qo(g[2])}AY(){const c=this.Ac.fi,g=this.Af;c.qj.aa&&c.qj.Oe(g[0],g[1]);c.fh.aa&&c.fh.Oe(g[4],g[5]);c.hK.aa&&c.hK.Oe(g[6],g[7]);c.iK.aa&&c.iK.Oe(g[8],g[9])}B0(c){this.Ba=21;this.Ae=c?1:0}dY(){const c=this.X,g=0!==this.Ae;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}O0(c){this.Ba=22;this.Ae=c?1:0}pY(){const c=this.X;0===this.Ae?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}P0(c){this.Ba=
23;this.Ae=c?1:0}qY(){const c=this.X,g=this.Ac,m=g.Vn,h=0!==this.Ae;g.AV=h;c.activeTexture(c.TEXTURE2);h?(g.tj&&c.bindFramebuffer(c.FRAMEBUFFER,g.tj),c.bindTexture(c.TEXTURE_2D,m.Og)):(c.bindTexture(c.TEXTURE_2D,null),g.tj&&c.bindFramebuffer(c.FRAMEBUFFER,g.km));c.activeTexture(c.TEXTURE0)}G0(){this.Ba=24}hY(){const c=this.X;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}F0(){this.Ba=25}gY(){const c=
this.X;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}E0(){this.Ba=26}fY(){const c=this.X;c.disable(c.STENCIL_TEST)}wa(){switch(this.Ba){case 1:this.lY();break;case 2:this.zY();break;case 3:this.nY();break;case 4:this.mY();break;case 5:this.BY();break;case 6:this.xY();break;case 7:this.tY();break;case 8:this.yY();break;case 9:this.eY();break;case 10:this.kY();break;case 11:this.vY();break;case 12:this.wY();break;case 13:this.jY();break;case 14:this.uY();break;
case 15:this.AY();break;case 16:this.cY();break;case 17:this.CY();break;case 18:this.iY();break;case 19:this.rY();break;case 20:this.sY();break;case 21:this.dY();break;case 22:this.pY();break;case 23:this.qY();break;case 24:this.hY();break;case 25:this.gY();break;case 26:this.fY()}}}}
{"use strict";const e=self.C,a={timeout:60},b=new e.hb(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;e.wZ&&e.wZ.addEventListener("fontload",p=>{p=p.font.Ca();for(const q of m)(q.Ph||e.Sn(q.EA,p))&&q.gk()});function h(p,q,u,w,r,v){q?"Gecko"===e.Sc.zx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===e.Sc.zx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let k=!1,n=!1;e.K.WE=class{constructor(p,q){q=Object.assign({},a,q);this.xa=
p;this.EA="Arial";this.FA=16;this.GA=1;this.Hp=0;this.vf=this.uf=!1;this.mA="black";this.Ph=!1;this.bL=null;this.gH=new Set;this.sf="left";this.bf="top";this.od="";this.Zu=null;this.Nn=e.A(e.JF);this.sK="word";this.LI=this.nC=!1;this.Iv=!0;this.jp=-1;this.V=this.$=this.GH=this.Ar=this.Kr=0;this.ei=1;this.BH=!1;this.aw=this.Rl=this.ee=this.Zp=null;this.DT=this.ET=-1;this.sB=this.FT=this.QI="";this.RI=this.SI=1;this.TT=(u,w)=>this.eR(u,w);this.rb=null;this.Dw=this.Fw=0;this.kg=new e.Rect;this.qw=1;
this.mJ=!1;this.YJ=new e.t0(()=>{this.Fi();this.PR(8,8)},q.timeout);this.RC=null;this.Rw=!1;m.add(this)}B(){this.bL=null;this.gH.clear();this.TT=this.aw=this.Rl=this.ee=this.Zp=this.Zu=null;this.YJ.B();this.RC=null;this.Fi();this.Nn.yd();this.xa=this.Nn=null;this.Rw=!0;m.delete(this)}Xo(){this.BH=!0}gk(){this.Xo();this.Nn.yd();this.nC=!0}OO(){this.Iv=!1}Ag(){return this.Iv}i4(p){p=!!p;this.Ph!==p&&(p=(this.Ph=p)?"alphabetic":"top",this.ee&&(this.ee.textBaseline=p),this.Rl&&(this.Rl.textBaseline=p),
this.gk())}jF(p){p||(p="serif");this.EA!==p&&(this.EA=p,this.gk())}az(p){.1>p&&(p=.1);this.FA!==p&&(this.FA=p,this.gk())}y4(p){this.GA!==p&&(this.GA=p,this.gk())}SO(p){this.Hp!==p&&(this.Hp=p,this.Xo())}AO(p){p=!!p;this.uf!==p&&(this.uf=p,this.gk())}QO(p){p=!!p;this.vf!==p&&(this.vf=p,this.gk())}iF(p){p=Math.floor(p);this.jp!==p&&(this.jp=p,this.Xo())}Mi(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}hr(p,q){return!!this.Mi(p,q)}rQ(p,q){let u=[];(this.uf||this.hr(q,
"b"))&&u.push("bold");(this.vf||this.hr(q,"i"))&&u.push("italic");var w=this.Mi(q,"size");w=(w?parseFloat(w.ii):this.FA)*this.GA;p?u.push(w+"pt"):u.push(w*this.qw*this.ei*self.devicePixelRatio+"pt");p=this.EA;(q=this.Mi(q,"font"))&&q.ii&&(p=q.ii,this.bL&&!this.gH.has(p)&&(this.bL(p),this.gH.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Mm(p){p instanceof e.hb&&(p=p.oea());this.mA!==p&&(this.mA=p,this.Xo())}CO(p,q,u){b.Rs(p,q,u);this.Mm(b)}KO(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.sf!==p&&(this.sf=p,this.Xo())}eP(p){if(!c.has(p))throw Error("invalid vertical alignment");this.bf!==p&&(this.bf=p,this.Xo())}h5(p){if(!g.has(p))throw Error("invalid word wrap mode");this.sK!==p&&(this.sK=p,this.gk())}gu(p){this.od!==p&&(this.od=p,this.gk())}ld(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Ar===p&&this.GH===q&&this.ei===u)){1===this.ei!==(1===u)&&(this.mJ=!0);var w=this.Ar,r=this.ei;this.Ar=p;this.GH=q;this.ei=u;p=self.devicePixelRatio;this.$=this.Ar*this.ei*p;this.V=
this.GH*this.ei*p;p=Math.max(this.$,this.V);q=Math.min(this.xa.EB,2048);u=1;p>q&&(u=q/p,this.$=Math.min(this.$*u,q),this.V=Math.min(this.V*u,q));this.qw=u;0<this.Fw&&0<this.Dw&&this.ei===r&&this.kg.set(0,0,this.$/this.Fw,this.V/this.Dw);this.Ar!==w?this.gk():this.Xo()}}Y(){return this.$}W(){return this.V}L_(){this.tG();return this.Nn.v_()}K_(){this.tG();return this.Nn.O_()+this.Nn.nn.length*(this.Hp+4)-this.Hp}ke(){this.YJ.kd();this.M9();return this.rb}M9(){this.rb&&!this.BH&&!this.nC||this.LI||0>=
this.$||0>=this.V||(this.BH=!1,this.LI=!0,this.Iv?e.Ok(()=>this.$P()):this.$P())}$P(){this.Rw||(this.PR(Math.ceil(this.$),Math.ceil(this.V)),this.tG(),this.S7(),this.Vba(),this.YJ.kd(),this.LI=!1)}PR(p,q){this.Zp||(this.Zp=e.kh(16,16));let u=!1;if(this.ET!==p||this.DT!==q)this.ET=p,this.DT=q,this.Zp.width=p,this.Zp.height=q,u=!0;this.ee||(this.ee=this.Zp.getContext("2d"),u=!0);u?(this.ee.textBaseline=this.Ph?"alphabetic":"top",this.ee.font=this.QI,this.ee.fillStyle=this.sB,this.ee.strokeStyle=this.sB,
this.ee.globalAlpha=this.SI,this.ee.lineWidth=this.RI):this.ee.clearRect(0,0,p,q)}XQ(){this.Rl||(this.Rl=e.kh(16,16).getContext("2d"),this.aw=e.kh(16,16).getContext("2d"),this.Rl.textBaseline=this.Ph?"alphabetic":"top",this.aw.textBaseline="top")}nba(p){this.FT!==p&&(this.FT=p,this.Rl.font=p,this.aw.font=p)}YR(){if(!k){k=!0;this.XQ();const p=this.Rl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}tG(){this.nC&&(this.XQ(),!this.Ph||
this.Zu&&this.Zu.toString()===this.od||(this.Zu=new e.um(this.od,{Rea:!0})),this.Nn.JF(this.Ph?this.Zu.vfa():this.od,this.TT,this.Ar,this.sK,0),this.nC=!1)}eR(p,q){this.nba(this.rQ(!0,q));q=this.Mi(q,"size");q=(q?parseFloat(q.ii):this.FA)*this.GA;const u=this.Rl.measureText(p);let w=0;this.Ph&&this.YR()&&(w=u.fontBoundingBoxAscent-this.aw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,ug:u.fontBoundingBoxAscent||0,Hf:u.fontBoundingBoxDescent||0,Kf:w}}Yaa(p){this.QI!==p&&(this.QI=
p,this.ee.font=p)}Jz(p){this.sB!==p&&(this.sB=p,this.ee.fillStyle=p,this.ee.strokeStyle=p)}Xaa(p){this.SI!==p&&(this.SI=p,this.ee.globalAlpha=p)}KR(p){this.RI!==p&&(this.RI=p,this.ee.lineWidth=p)}S7(){this.Kr=0;const p=this.qw*this.ei*self.devicePixelRatio,q=(4+this.Hp)*p;var u=0;const w=this.Nn.nn;if(0!==w.length){var r=this.Ph&&this.YR(),v=w[0].height*p;"center"===this.bf?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.V/2-u/2,0),r&&(v=w[0].Kf*p)):"bottom"===this.bf&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.Hp*p,u=this.V-u-(r?w.he(-1).Hf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Ph){if(u+=0===y?v:G,0<y&&u>this.V-4*p)break}else if(0<y&&u>=this.V-G)break;0<=z&&this.R7(r,u,p);this.Ph||(u+=G);u+=q}}}R7(p,q,u){let w=0;"center"===this.sf?w=(this.$-p.width*u)/2:"right"===this.sf&&(w=this.$-p.width*u);for(const r of p.tV)this.Q7(r,w,q,u,p.height),w+=r.width*u}Q7(p,q,u,w,r){const v=this.ee;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.Hp)*w,F=p.td,H=p.text;if(-1!==this.jp){if(this.Kr>=this.jp)return;this.Kr+H.length>this.jp&&(H=H.substr(0,this.jp-this.Kr),r=this.eR(H,F).width*w);this.Kr+=H.length}var J=this.Mi(F,"background"),M=this.hr(F,"u");p=this.hr(F,"s");if((!e.KE(H)||J||M||p)&&!this.hr(F,"hide")){var P=this.Mi(F,"offsetx");q+=P?parseFloat(P.ii)*w:0;P=this.Mi(F,"offsety");u+=P?parseFloat(P.ii)*w:0;J&&(this.Jz(J.ii),v.fillRect(q,u-A,r,A+z));P=this.Mi(F,"color");this.Jz(P?P.ii:this.mA);z=this.Mi(F,"opacity");this.Xaa(z?
parseFloat(z.ii)/100:1);z=(z=this.Mi(F,"linethickness"))?parseFloat(z.ii):1;(J=this.hr(F,"stroke"))&&this.KR(.5*G*z*this.qw*this.ei*self.devicePixelRatio);this.Yaa(this.rQ(!1,F));h(v,J,H,q,u,r);!J&&(this.KR(.5*G*z*this.qw*this.ei*self.devicePixelRatio),F=this.Mi(F,"outline"))&&(this.Jz(F.ii),h(v,!0,H,q,u,r));this.Jz(P?P.ii:this.mA);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Vba(){this.xa.vo()||(this.Fw=Math.ceil(this.$),
this.Dw=Math.ceil(this.V),this.kg.set(0,0,this.$/this.Fw,this.V/this.Dw),this.mJ&&(this.Fi(),this.mJ=!1),this.rb||(this.rb=this.xa.VL(this.Fw,this.Dw,{QC:1===this.ei,ix:"high"})),this.xa.N5(this.Zp,this.rb),this.RC&&this.RC())}Oj(){return this.kg}Fi(){this.rb&&(this.xa.vo()||this.xa.zj(this.rb),this.rb=null)}static fl(){for(const p of m)p.Fi()}}}
{"use strict";const e=self.C;class a{constructor(b){this.X=b.X;this.rd=b.rd;this.Id=b.Id;this.Xh=null;this.zv=this.Mb=!1;this.XB=0;this.Xh=1===this.rd?this.Id.createQueryEXT():this.X.createQuery()}B(){this.VP();this.Id=this.X=null;this.zv=!1}VP(){this.Xh&&(1===this.rd?this.Id.deleteQueryEXT(this.Xh):this.X.deleteQuery(this.Xh),this.Xh=null)}kD(){if(this.Mb)throw Error("query already active");1===this.rd?this.Id.beginQueryEXT(this.Id.TIME_ELAPSED_EXT,this.Xh):this.X.beginQuery(this.Id.TIME_ELAPSED_EXT,
this.Xh);this.Mb=!0}DD(){if(!this.Mb)throw Error("query not active");1===this.rd?this.Id.endQueryEXT(this.Id.TIME_ELAPSED_EXT):this.X.endQuery(this.Id.TIME_ELAPSED_EXT);this.Mb=!1}sD(){if(this.Xh&&!this.zv&&!this.Mb){var b=1===this.rd?this.Id.getQueryObjectEXT(this.Xh,this.Id.QUERY_RESULT_AVAILABLE_EXT):this.X.getQueryParameter(this.Xh,this.X.QUERY_RESULT_AVAILABLE);var d=this.X.getParameter(this.Id.GPU_DISJOINT_EXT);b&&!d&&(this.XB=1===this.rd?this.Id.getQueryObjectEXT(this.Xh,this.Id.QUERY_RESULT_EXT):
this.X.getQueryParameter(this.Xh,this.X.QUERY_RESULT),this.XB/=1E9,this.zv=!0);(b||d)&&this.VP()}}Ay(){return this.zv}ry(){if(!this.zv)throw Error("no result available");return this.XB}}e.K.W5=class{constructor(b){this.xa=b;this.Nh=b.Nh;this.Mb=!1;this.sn=null;this.jn=!1;this.ks=null;this.Rp=[]}B(){for(const b of this.Rp)b instanceof a&&b.B();e.F(this.Rp);this.xa=this.ks=this.sn=null}kD(){if(this.Mb)throw Error("query already active");const b=this.xa.JU;0<b.length?(this.jn=!0,this.sn=b.he(-1),this.sn.eQ(),
this.sn.Rp.push(this)):(this.jn=!1,this.sn=null);this.Mb=!0;b.push(this);this.VR()}DD(){if(!this.Mb)throw Error("query not active");if(this.xa.JU.pop()!==this)throw Error("can only end most nested query");this.Mb=!1;this.eQ();this.sn&&(this.sn.VR(),this.sn=null)}VR(){this.ks=e.A(a,this.xa);this.Rp.push(this.ks);this.ks.kD()}eQ(){this.ks.DD();this.ks=null}sD(){for(const b of this.Rp)b.sD()}Ay(){return this.Rp.every(b=>b.Ay())}ry(){return this.Rp.reduce((b,d)=>b+d.ry(),0)}}}
{"use strict";const e=self.C;e.K.vP=class{constructor(a,b=1E3){this.xa=a;this.eda=b;this.kk=[];this.xa.n6(this)}B(){this.yd();this.xa.aaa(this);this.xa=null}yd(){for(const a of this.kk)a.B();e.F(this.kk)}iD(){const a=new e.K.W5(this.xa);this.kk.push(a);this.kk.length>this.eda&&this.kk.shift().B();return a}rX(a){for(const b of this.kk){if(b.Nh>=a)break;if(b.jn)break;b.sD()}}BM(a,b){if(b<=a)return NaN;let d=0;for(const c of this.kk){if(c.Nh>=b)break;if(!(c.Nh<a))if(c.Ay())d+=c.ry();else return NaN}return d}aM(a){for(let b=
0,d=this.kk.length;b<d;++b){const c=this.kk[b];if(c.Nh<a)c.B();else{0<b&&this.kk.splice(0,b);break}}}}}
{"use strict";const e=self.C,a=self.vj,b=a.qx,d=a.nm,c={powerPreference:"default",sV:!0,alpha:!1,WK:!1,depth:!1,AK:!1,HV:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new e.Cd(0,0,1,0,1,1,0,1),h=d.create(),k=d.create(),n=new e.Cd,p=new e.Rect;let q=null;e.$w&&(self.lpa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.mpa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Sda()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}e.K.V5=class extends e.K.K3{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.WK&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.HV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.X=G;this.kS=G.getContextAttributes();y.WK&&!this.kS.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.rd=z;this.qg=b.create();this.cn=!1;this.nH=d.create();this.jm=!!y.depth;this.dv=!(!y.depth||!y.AK);this.zp=this.jm;this.zI=!1;this.Og=null;this.xI=!0;this.wS=this.xS=0;this.QB=this.jT=this.mC=this.yC=null;this.Ow=
new Float32Array(24E3);this.kT=new Uint16Array(12E3);this.Yp=new Float32Array(16E3);this.fU=new Float32Array(32E3);this.GT=this.RB=this.Be=this.di=0;this.Vp=this.Fp=null;this.Yu=[];this.tc=this.Wm=0;this.Xd=null;this.Ac=e.A(e.K.YW,this);this.Uv=e.A(e.hb,1,1,1,1);this.mn=this.Pl=null;this.MI=this.OI=0;this.$ca=new e.Rect;this.EB=-1;this.gJ=0;this.Lw="(unavailable)";this.CI=!1;this.pv=this.Su=this.uJ=null;this.fJ=0;this.Xca=!!y.sV;this.Id=null;this.Wz=new Set;this.JU=[];this.rZ(this.kT)}el(){return!0}async Dy(){super.Dy();
var v=this.X;this.Uv.Wn(1,1,1,1);this.mn=this.Pl=null;this.RB=this.di=0;this.GT=23988;e.F(this.Yu);this.tc=this.Wm=0;this.Xd=this.Fp=null;this.$ca.set(0,0,1,1);var y=this.Ac;y.fi=null;y.km=null;y.tj=null;b.set(y.EC,1,1,1,1);y.clearColor.Wn(0,0,0,0);y.fL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.OI=v.ONE;this.MI=v.ONE_MINUS_SRC_ALPHA;this.O8(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.jm?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.zp=this.jm;this.zI=!1;this.QB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.QB);v.bufferData(v.ARRAY_BUFFER,this.fU.byteLength,v.DYNAMIC_DRAW);this.yC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.yC);v.bufferData(v.ARRAY_BUFFER,this.Ow.byteLength,v.DYNAMIC_DRAW);this.mC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.mC);v.bufferData(v.ARRAY_BUFFER,this.Yp.byteLength,v.DYNAMIC_DRAW);
this.jT=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.jT);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.kT,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.EB=v.getParameter(v.MAX_TEXTURE_SIZE);this.gJ=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.gJ&&(this.gJ=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Lw=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.uJ=v.getExtension("KHR_parallel_shader_compile");
e.$w&&(q=v.getExtension("WEBGL_lose_context"));if(this.Xca)if(1===this.rd){if("Chromium"!==e.Sc.zx||81<=e.Sc.mD||"undefined"!==typeof document)this.Id=v.getExtension("EXT_disjoint_timer_query")}else this.Id=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.fJ=(this.Su=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Su.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.rd&&this.jm&&this.dv&&(this.pv=v.getExtension("WEBGL_depth_texture"),
!this.pv))throw Error("no depth texture support");v=e.K.mu;y=v.Yx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Yx(!0),"<tilemap>"]].map(A=>this.xD({src:A[0]},A[1],A[2])));this.gC=v[0];this.Vp=v[1];this.fC=v[2];this.MJ=v[3];this.ak()}async xD(v,y,A){v=await e.K.mu.Sa(this,v,y,A);this.o6(v);return v}Q3(){this.Fp=null}ld(v,y,A){if(this.$!==v||this.V!==y||A){this.Aj();A=this.X;var G=this.Ac;this.$=v;this.V=y;this.SR(v,y);this.lq(this.nH,v/y);this.Lo(this.nH);this.Vp&&(A.useProgram(this.Vp.Tf()),this.Vp.fS(this.DB),this.Fp=this.Vp,this.Ac.fi=this.Vp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.mn=this.Pl=null;this.jm&&this.xI&&this.IG(this.$,this.V);this.Xd&&this.Xd.wR(this.$,this.V);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Xd=null;G.km=null;G.tj=null}}IG(v,y){const A=this.X;this.Og&&this.xS===v&&this.wS===y||(this.dv?(this.Og&&A.deleteTexture(this.Og),this.Og=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Og),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.rd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.pv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.pv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Og&&A.deleteRenderbuffer(this.Og),this.Og=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Og),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.rd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.xS=v,this.wS=y)}x4(v,y){this.jm&&(this.xI=!1,this.IG(v,y))}h4(){this.jm&&(this.xI=!0,this.IG(this.$,this.V))}SR(v,y){const A=this.qg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Gc().W0(v,y),b.set(A,0,0,v,y),this.tc=0}Lo(v){d.uj(this.DB,v)||(this.Gc().T0(v),d.ua(this.DB,v),this.tc=0,this.cn=!0)}FO(){let v,y;var A=this.Xd;null===A?(v=this.nH,y=this.Y(),A=this.W()):
(v=A.xk,y=A.Y(),A=A.W());this.Lo(v);this.SR(y,A)}Wq(v){d.uj(this.dJ,v)||(this.Gc().Q0(v),d.ua(this.dJ,v),this.tc=0,this.cn=!0)}O3(){this.cn=!1}Gc(){const v=this.Yu;this.Wm===v.length&&v.push(new e.K.U5(this.Ac));return v[this.Wm++]}Aj(){0===this.Wm||this.vo()||(this.dca(),this.V7(),this.tc=this.RB=this.Be=this.di=this.Wm=0)}dca(){const v=this.X;0<this.RB&&(v.bindBuffer(v.ARRAY_BUFFER,this.QB),v.bufferSubData(v.ARRAY_BUFFER,0,this.fU.subarray(0,this.RB)));0<this.di&&(v.bindBuffer(v.ARRAY_BUFFER,this.yC),
v.bufferSubData(v.ARRAY_BUFFER,0,this.Ow.subarray(0,this.di)),v.bindBuffer(v.ARRAY_BUFFER,this.mC),v.bufferSubData(v.ARRAY_BUFFER,0,this.Yp.subarray(0,this.Be)))}V7(){const v=this.Yu;for(let y=0,A=this.Wm;y<A;++y)v[y].wa()}Ie(){return this.Uv.$a}mf(v,y,A,G){const z=this.Uv;z.HC(v,y,A,G)||(z.Wn(v,y,A,G),this.Gc().sE(z),this.tc=0,this.Wi=null)}kl(v){const y=this.Uv;y.$a!==v&&(y.Ps(v),this.Gc().sE(y),this.tc=0,this.Wi=null)}Mm(v){const y=this.Uv;y.sd(v)||(y.set(v),this.Gc().sE(y),this.tc=0,this.Wi=null)}Tt(){this.mf(1,
1,1,1)}$f(v){v!==this.Pl&&(this.Gc().V0(v),this.Pl=v,this.tc=0)}AG(){this.Pl=null}Yf(v){v=this.n8(v);this.HG(v[0],v[1])}HG(v,y){if(v!==this.OI||y!==this.MI)this.Gc().N0(v,y),this.OI=v,this.MI=y,this.tc=0,this.Wi=null}zO(){this.HG(this.X.ONE,this.X.ONE_MINUS_SRC_ALPHA)}hF(){this.HG(this.X.ONE,this.X.ZERO)}Rect(v){this.dO(v.ca,v.Z,v.na,v.ia)}dO(v,y,A,G){this.t3(v,y,A,y,A,G,v,G)}ru(){let v=this.di;v>=this.GT&&(this.Aj(),v=0);1===this.tc?this.Yu[this.Wm-1].Hl+=6:(this.Gc().M0(v),this.tc=1)}UG(v){v.Gfa(this.Ow,
this.di,this.Wu+this.ov);this.di+=12}Cd(v){this.ru();this.UG(v);m.ih(this.Yp,this.Be);this.Be+=8}t3(v,y,A,G,z,F,H,J){this.ru();const M=this.Ow;let P=this.di;const R=this.Wu+this.ov;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.di=P;m.ih(this.Yp,this.Be);this.Be+=8}Mq(v,y){this.ru();this.UG(v);y.Ffa(this.Yp,this.Be);this.Be+=8}u3(v,y){this.ru();this.UG(v);y.ih(this.Yp,this.Be);this.Be+=8}Py(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.ru();const X=
this.Ow;let ba=this.di;const Y=this.Wu+this.ov;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.di=ba;Z.ih(this.Yp,this.Be);this.Be+=8}yZ(v,y){d.ua(h,this.DB);d.ua(k,this.dJ);this.FO();const [A,G]=this.qy(this.Xd);var z=this.Ws(0,0,100*self.devicePixelRatio,0,0,G);this.Wq(z);if("crop"===v&&this.Xd&&y){v=this.$/2;z=this.V/2;const J=y.Y();y=y.W();var F=this.Xd.Y(),H=this.Xd.W();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.xj(p);p.set(0,P,F,M+P);p.lm(J,y);this.Mq(n,p)}else v=A/2,z=G/2,this.dO(-v,z,v,-z);this.Lo(h);this.Wq(k)}$q(v){this.Fp!==v&&(this.Gc().R0(v),this.Fp=v,this.tc=0,this.Wi=null)}ZO(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Fp;var X=Z.ZS;const ba=!!T.length;if(X&&!Z.SW(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.RW(T)){var Y=this.Gc();Y.S0();X&&(Z.J4(y,A,G,z,F,H,J,M,P,R),X=Y.Af,X[0]=F,X[1]=H,y.ih(X,2),X[6]=M,X[7]=P,A.ih(X,12),y=Y.fp,z.ih(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.ih(Y.DU,0),Y.Ae=R,Y.Hl=J,Y.Ye=Z.As.aa?v?v.ke():null:null);ba&&(Z.n4(T),e.Pc(Y.$B,T));this.tc=0}}ao(){this.Gc().D0();this.tc=0}yd(v){this.Gc().C0(v);this.tc=0}iu(){}dt(){super.dt();this.X.flush()}sX(){this.jm&&this.Xd&&this.Xd.Yc&&(this.Gc().B0(this.zp),this.tc=0)}Eg(v){v=!!v;this.zp!==v&&this.jm&&(this.zp=v,this.Gc().O0(v),this.tc=0)}Yt(v){v=!!v;if(this.dv&&this.zI!==v){if(v&&this.zp)throw Error("depth still enabled");this.zI=v;this.Gc().P0(v);this.tc=0}}qX(){for(const v of this.Wz)v.rX(this.Nh)}vo(){return!this.X||
this.X.isContextLost()||this.CI}fl(){super.t2();e.K.nz.fl();e.K.wP.fl();e.K.WE.fl();for(const v of this.Wz)v.yd();this.pv=this.Su=this.uJ=this.Id=null;this.fJ=0;this.Lw="(unavailable)";this.Og=this.Vp=this.Fp=null;for(const v of this.Aw.values())v.fl()}async PE(){this.CI=!0;await this.Dy();this.CI=!1;for(const v of this.Aw.values())v.PE(this);this.ld(this.$,this.V,!0)}Ix(v,y){if(this.vo())throw Error("context lost");this.Aj();const A=e.A(e.K.nz,this);A.W6(v,y);return A}Jx(v,y){if(this.vo())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.bD&&"clamp-to-edge"!==y.bD||y.cD&&"clamp-to-edge"!==y.cD;if(!e.kc.ImageBitmapOptions||!this.Oo()&&A)return e.kc.ImageBitmap?createImageBitmap(v).then(G=>e.Ok(()=>this.Ix(G,y))):v instanceof Blob?e.cX(v).then(G=>this.Jx(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>e.Ok(()=>this.Ix(v,y))):e.Ok(()=>this.Ix(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
e.Ok(()=>this.Ix(G,y)))}VL(v,y,A){this.Aj();const G=e.A(e.K.nz,this);G.J6(v,y,A);return G}N5(v,y){this.Aj();y.aS(v,void 0)}zj(v){v&&(v.v5(),0<v.Mc||(this.Aj(),v===this.Pl&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.Pl=null),v===this.mn&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.mn=null),v.XF()))}PX(v){let y=this.$,A=this.V,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Aj();const z=e.A(e.K.wP,this);z.I6(y,A,Object.assign({zV:G},v));this.Xd=null;this.Ac.km=null;this.Ac.tj=null;return z}Fg(v,y=!0){v!==this.Xd&&(v&&v.ZA&&v.wR(this.$,this.V),this.Gc().U0(v),this.Xd=v,this.tc=0,y&&this.FO())}Zk(){return this.Xd}qy(v){return v?[v.Y(),v.W()]:[this.$,this.V]}SL(v){2>this.rd||this.Xd&&0<this.Xd.Sl?(this.hF(),this.Tt(),this.Qx(v,"stretch")):(this.Gc().z0(v,this.Xd),this.tc=0)}Qx(v,y="stretch"){v=v.ke();if(!v)throw Error("not a texture-backed render target");
this.$f(v);this.yZ(y,v)}Bq(v){2>this.rd||(this.Gc().I0(v.Qg),this.tc=0)}aY(v){this.Fg(null);this.Aj();const y=v.ke();y===this.Pl&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.Pl=null);y===this.mn&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.mn=null);v.XF()}RL(){this.Eg(!0);this.Gc().G0();this.tc=0}QL(){this.Eg(!1);this.Gc().F0();this.tc=0}PL(){this.Eg(!0);this.Gc().E0();this.tc=0}BF(v){this.bk()&&(this.Gc().Y0(v),
this.tc=0)}CD(v){this.bk()&&(this.Gc().H0(v),this.tc=0)}$ba(v){const y=new Promise(A=>u.add({resolve:A,Sda:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}l1(){return!!this.kS.desynchronized}SZ(){let v=0;for(const y of e.K.nz.Jda())v+=y.TD();return v}Oo(){return 2<=this.rd}bk(){return!!this.Id}n6(v){this.Wz.add(v)}aaa(v){this.Wz.delete(v)}O8(v){this.N8([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const e={uV:null,vV:null,TV:null,getTime:null,SV:null};self.C.K.hZ=class{constructor(a){a=Object.assign({},e,a);this.qS=a.uV;this.yca=a.vV;this.Bca=a.TV;this.zca=a.getTime;this.Aca=a.SV}vM(a){return this.qS?this.qS(a):[a.Y(),a.W()]}Zk(a){return this.yca(a)}B3(a,b){this.Bca(a,b)}Ga(){return this.zca()}Ry(a){this.Aca(a)}}}
{"use strict";const e=self.C,a=self.vj.nm,b=e.A(e.Rect),d=e.A(e.Rect),c=e.A(e.Rect),g=e.A(e.Rect),m=a.create(),h=a.create(),k={GC:null,wV:null,LC:null,RK:!1},n={Hs:null,JC:!1,IK:!1,SK:!1,DV:!1,BV:!1,ZC:!1},p={CC:null,fpa:null,Pn:0,devicePixelRatio:1,ax:1,OC:0,Ms:null,Ww:null,rV:null,kV:0,lV:0,mW:!1};e.K.Ee=class{constructor(q,u){u=Object.assign({},k,u);this.Ug=q;this.yH=u.GC;this.hv=u.wV;this.rS=u.LC;this.iA=null;this.aC=[];this.rw=[];this.Xp=[];this.Mg=0;this.Bs=this.gv=this.yS=this.cn=this.XA=this.wI=
!1;this.Jp=0;this.Yl=[null,null,null];this.pT=!!u.RK;this.Zc=this.nd=this.bv=this.av=0;this.an=null;this.Vv=e.A(e.Rect);this.Dl=e.A(e.Rect);this.Xl=e.A(e.Rect);this.js=e.A(e.Rect);this.wn=e.A(e.Rect);this.UI=this.Hr=1;this.hc=this.TI=0;this.tA=null;this.EH=this.DH=0;this.kK=!1;this.xk=a.create();this.cw=a.create()}B(){e.F(this.Xp);e.F(this.aC);e.F(this.rw);this.rS=this.hv=this.yH=this.an=null}nD(q,u){u=Object.assign({},n,u);e.F(this.Xp);this.bv=this.av=0;this.XA=this.wI=!1;this.Jp=0;this.Bs=!!u.ZC;
e.Pc(this.aC,q);if(0!==q.length){if(u.Hs){if(u.Hs.length!==q.length)throw Error("incorrect indexMap length");e.Pc(this.rw,u.Hs)}else{e.F(this.rw);for(let v=0,y=q.length;v<y;++v)this.rw.push(v)}for(var w of q)this.av+=w.IS,this.bv+=w.JS,w.jca&&(this.wI=!0),w.uC&&(this.XA=!0);!(w=1!==q.length||q[0].tH||q[0].vS)&&(w=!u.ZC)&&(w=q[0],w=0!==w.IS||0!==w.JS);if(w||u.JC||q[0].Iq()||u.IK||u.SK||!this.Bs&&q[0].uC){this.gv=!1;w=this.zba(q[0],u);u=this.yba(q.he(-1),u);var r=0;w&&(this.Jp=1,this.Xp.push(e.A(e.K.Ee.Ah.l3,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Jp=Math.max(this.Jp,q),this.Xp.push(e.A(e.K.Ee.Ah.dX,this,r,q,v)),r=q):(this.Jp=1,this.Xp.push(e.A(e.K.Ee.Ah.vZ,this,-1,1,v)),r=1);u&&this.Xp.push(e.A(e.K.Ee.Ah.i3,this,r,0))}else this.gv=!0}}zba(q,u){return u.JC||u.SK||!this.Bs&&q.uC||q.Iq()||q.tH&&(u.BV||q.ob().el()&&u.DV)||0!==this.av||0!==this.bv}yba(q,u){return u.IK||q.tH||q.vS}Ho(q,u,w){w=Object.assign({},p,w);this.tA=u;this.an=w.CC;this.Mg=w.Pn;this.Hr=
w.devicePixelRatio;this.UI=w.ax;this.TI=w.OC;this.hc=this.Ug.Ga();this.cn=!1;q.O3();this.wI&&this.M$();if(this.gv)this.daa(q,w);else{var [r,v]=this.Ug.vM(q);this.Zaa(q,r,v);this.B6(w);q.Tt();q.Sq(0);q.Xt(0);this.iA=w.rV;this.DH=w.kV||0;this.EH=w.lV||0;this.kK=!!w.mW;this.Z9(q);this.Yl[0]=u;this.Yl[1]=1<=this.Jp?this.yQ():null;this.Yl[2]=2===this.Jp?this.yQ():null;for(const y of this.Xp)y.Ut(q,this.zQ(y.xda),this.zQ(y.zS));this.Yl[1]&&this.rR(this.Yl[1]);this.Yl[2]&&this.rR(this.Yl[2]);this.Yl.fill(null);
this.W9(q);this.iA=this.an=this.tA=null}}Zaa(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.nd===u&&this.Zc===w||this.IP(q,u,w,0,0,this.xk,this.cw);this.nd=u;this.Zc=w}IP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.lq(y,u/w);q=q.Ws(r,v,100*self.devicePixelRatio,r,v,w);a.ua(A,q)}B6(q){this.Vv.ua(q.Ms);q.Ww?this.Dl.ua(q.Ww):this.Dl.set(0,0,this.nd,this.Zc);this.Xl.ua(this.Dl);this.Xl.lm(this.nd,this.Zc);q=q.ax*q.devicePixelRatio;this.Dl.OK(this.av*q,this.bv*q);this.wn.ua(this.Dl);this.wn.lm(this.nd,
this.Zc);this.Dl.oa(0,0,this.nd,this.Zc);this.js.ua(this.Dl);this.js.lm(this.nd,this.Zc)}Z9(q){this.yS=q.zp;this.Bs&&(q.Eg(!1),this.XA&&q.Yt(!0))}V9(q){q.Tt();this.Bs||(q.Eg(!1),this.XA&&q.Yt(!0))}W9(q){q.Yt(!1);q.Eg(this.yS);this.cn=q.cn}LP(){this.wn.oa(0,0,1,1)}zQ(q){return 0>q?null:this.Yl[q]}yQ(){return this.Ug.Zk(this)}rR(q){this.Ug.B3(q,this)}C8(q){return this.aC[q]}$F(q){this.iA?this.iA(this,q,()=>this.yH(q,this)):this.yH(q,this);this.gv||this.V9(q)}f9(q){if(this.Bs)return!0;if(0!==this.DH||
0!==this.EH)return!1;const [u,w]=q.qy(q.Zk());return u!==this.nd||w!==this.Zc?!1:!0}JR(q,u){let w=this.xk,r=this.cw;if(u&&!this.f9(q)){w=m;r=h;const [v,y]=q.qy(q.Zk());this.IP(q,v,y,this.DH,this.EH,w,r)}q.Lo(w);q.Wq(r)}M$(){this.Ug.Ry(this)}EQ(q){return this.rS(this.rw[q])}oba(q,u){let w=this.wn,r=this.js,v=this.Xl;q.el()&&(d.ua(w),d.Tn(),w=d,c.ua(r),c.Tn(),r=c,g.ua(v),g.Tn(),v=g);this.ZP(q,u,r,v,w,1/this.nd,1/this.Zc)}$aa(q,u){let w=this.js,r=this.Xl,v=1/this.nd,y=1/this.Zc;if(this.hv){let {eW:G,
fW:z,dW:F}=this.hv(this.an);G||(b.set(0,0,0,0),G=b);z||(z=this.nd);F||(F=this.Zc);r=w=G;v=1/z;y=1/F}else q.el()&&(c.ua(w),c.Tn(),w=c,g.ua(r),g.Tn(),r=g);let A=this.wn;q.el()&&(A=d,A.ua(this.wn),A.Tn());this.ZP(q,u,w,r,A,v,y)}ZP(q,u,w,r,v,y,A){u=this.EQ(u);q.ZO(this.tA,v,w,r,this.Vv,y,A,this.Hr,this.UI,this.TI,this.hc,u)}daa(q,u){var w=this.aC[0];const r=q.zp,v=w.uC;v&&(q.Eg(!1),q.Yt(!0),this.wn.set(0,0,1,1),this.Xl.set(0,0,1,1));q.$q(w);q.Yf(this.Mg);q.Fg(this.tA);let y;this.Xl.set(0,0,1,1);if(w.SU&&
this.hv){const {eW:A,fW:G,dW:z}=this.hv(this.an);A&&this.Xl.ua(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Ug.vM(q);w=1/A;y=1/G}u.Ms?this.Vv.ua(u.Ms):this.Vv.set(0,0,0,0);u=this.EQ(0);q.ZO(null,this.wn,this.Xl,this.Xl,this.Vv,w,y,this.Hr,this.UI,this.TI,this.hc,u);q.Sq(0);this.$F(q);v&&(q.Yt(!1),q.Eg(r))}}}"use strict";self.C.K.Ee.Ah=class{constructor(e,a,b,d=-1){this.Jh=e;this.xda=a;this.zS=b;this.Ra=d}ri(){return this.Jh}Ja(){return this.Ra}Tf(){return this.ri().C8(this.Ja())}Ut(){}};
{"use strict";const e=self.C;e.K.Ee.Ah.l3=class extends e.K.Ee.Ah{constructor(a,b,d,c){super(a,b,d,c)}Ut(a,b,d){b=this.ri();a.zO();a.ak();a.Fg(d,b.kK);a.ao();b.$F(a);b.LP()}}}{"use strict";const e=self.C,a=e.A(e.Rect),b=e.A(e.Cd);e.K.Ee.Ah.i3=class extends e.K.Ee.Ah{constructor(d,c,g,m){super(d,c,g,m)}Ut(d,c,g){const m=this.ri();d.ak();d.Fg(g);m.JR(d,!0);d.Yf(m.Mg);d.$f(c.ke());b.xj(m.Dl);a.ua(m.js);a.Tn();d.Mq(b,a);m.pT&&d.Bq(c)}}}
{"use strict";const e=self.C;e.K.Ee.Ah.vZ=class extends e.K.Ee.Ah{constructor(a,b,d,c){super(a,b,d,c)}Ut(a,b,d){b=this.ri();a.Fg(d,b.kK);a.ao();a.hF();a.$q(this.Tf());b.$aa(a,this.Ja());b.$F(a);b.LP()}}}
{"use strict";const e=self.C,a=e.A(e.Rect),b=e.A(e.Cd);e.K.Ee.Ah.dX=class extends e.K.Ee.Ah{constructor(d,c,g,m){super(d,c,g,m)}Ut(d,c,g){const m=this.ri();d.Fg(g);(g=0===this.zS)?d.Yf(m.Mg):(d.ao(),d.hF());d.$q(this.Tf());m.oba(d,this.Ja());d.$f(c.ke());m.JR(d,g);b.xj(m.Dl);a.ua(m.js);a.Tn();d.Mq(b,a);m.pT&&d.Bq(c)}}}
{"use strict";let e=null;const a=new Set;let b=!1;self.o0=class{constructor(d){e=d;Object.defineProperties(this,{rea:{value:{},writable:!1},storage:{value:new self.q0(e),writable:!1},iqa:{value:e.se,writable:!1}});e.ge.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});e.ge.addEventListener("keyup",c=>a.delete(c.key));e.Jb().addEventListener("window-blur",()=>a.clear());e.se&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Q8(d){Object.defineProperties(this.rea,d)}addEventListener(d,c){e.ge.addEventListener(d,c)}removeEventListener(d,c){e.ge.removeEventListener(d,c)}get HK(){return e.RD()}random(){return e.Nq()}get PC(){return e.Vb().Cv}get keyboard(){const d=e.nA.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get IV(){const d=e.nA.IV;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get sL(){const d=e.nA.sL;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Bo("runtime","alert",{message:d+(e.se?" [via Web Worker]":"")})}}}"use strict";self.j0=class{constructor(){}};{"use strict";const e=self.jh;self.q0=class{constructor(a){this.Bw=a.z8()}getItem(a){e.Jd(a);return this.Bw.getItem(a)}setItem(a,b){e.Jd(a);return this.Bw.setItem(a,b)}removeItem(a){e.Jd(a);return this.Bw.removeItem(a)}clear(){return this.Bw.clear()}keys(){return this.Bw.keys()}}}
{"use strict";const e=self.jh,a=new WeakMap;self.cN=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ca(),writable:!1}});b.J().VQ(this,b)}addEventListener(b,d){e.Jd(b);e.Xj(d);a.get(this).ge.addEventListener(b,d)}removeEventListener(b,d){e.Jd(b);e.Xj(d);a.get(this).ge.removeEventListener(b,d)}*yV(){for(const b of a.get(this).la())yield b.oh()}DK(b){e.Xf(void 0);e.Xf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var d=
a.get(this),c=d.J();b=c.Vb().ba(b);if(!b)throw Error("invalid layer");d=c.vD(d,b,void 0,void 0,void 0);c=c.qa();c.Ce(!0);d.Rz();c.Ce(!1);return d.oh()}}}
{"use strict";const e=self.jh,a=new WeakMap;self.n0=class{constructor(b){a.set(this,b);const d=[],c=b.Qa,g=c.xg().length;for(let m=0;m<g;++m)d.push(new self.qE(c,m));Object.defineProperties(this,{name:{value:b.Ca(),writable:!1},index:{value:b.Ja(),writable:!1}})}addEventListener(b,d){e.Jd(b);e.Xj(d);a.get(this).ge.addEventListener(b,d)}removeEventListener(b,d){e.Jd(b);e.Xj(d);a.get(this).ge.removeEventListener(b,d)}get width(){return a.get(this).Y()}set width(b){a.get(this).nf(b)}get height(){return a.get(this).W()}set height(b){a.get(this).Zf(b)}set scale(b){e.Wj(b);
a.get(this).nF(b)}get scale(){return a.get(this).xd}set angle(b){e.Wj(b);a.get(this).Ed(b)}get angle(){return a.get(this).Fa()}set scrollX(b){e.Xf(b);a.get(this).Hi(b)}get scrollX(){return a.get(this).Rf()}set scrollY(b){e.Xf(b);a.get(this).Ii(b)}get scrollY(){return a.get(this).Sf()}scrollTo(b,d){e.Xf(b);e.Xf(d);const c=a.get(this);c.Hi(b);c.Ii(d)}set PV(b){e.Jd(b);const d=a.get(this);if("perspective"===b)d.YO();else if("orthographic"===b)d.VO();else throw Error("invalid projection");}get PV(){return a.get(this).wf?
"orthographic":"perspective"}}}
{"use strict";const e=self.C,a=self.jh,b=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),g=e.A(e.hb);self.m0=class{constructor(m){b.set(this,m);const h=[],k=m.Qa,n=k.xg().length;for(let p=0;p<n;++p)h.push(new self.qE(k,p));Object.defineProperties(this,{name:{value:m.Ca(),writable:!1},index:{value:m.Ja(),
writable:!1},PC:{value:m.jc().Cv,writable:!1}})}get isVisible(){return b.get(this).Rc()}set isVisible(m){b.get(this).yh(m)}get opacity(){return b.get(this).Ie()}set opacity(m){m=e.oa(+m,0,1);isNaN(m)||b.get(this).kl(m)}set scale(m){a.Wj(m);b.get(this).WO(m)}get scale(){return b.get(this).xd}set angle(m){a.Wj(m);b.get(this).Ed(m)}get angle(){return b.get(this).pe}set tx(m){a.Wj(m);b.get(this).Ne(m)}get tx(){return b.get(this).Xa()}set Pn(m){a.Jd(m);m=d.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).Yf(m)}get Pn(){return c.get(b.get(this).Bj())}set backgroundColor(m){a.ZE(m);if(3>m.length)throw Error("expected 3 elements");g.Rs(m[0],m[1],m[2]);m=b.get(this);const h=m.yl;h.mm(g)||(h.sj(g),m.J().fa())}get backgroundColor(){const m=b.get(this).yl;return[m.Za,m.bb,m.ab]}set scrollX(m){a.Xf(m);const h=b.get(this);h.bu(!0);h.Hi(m)}get scrollX(){return b.get(this).Rf()}set scrollY(m){a.Xf(m);const h=b.get(this);h.bu(!0);h.Ii(m)}get scrollY(){return b.get(this).Sf()}scrollTo(m,h){a.Xf(m);
a.Xf(h);const k=b.get(this);k.bu(!0);k.Hi(m);k.Ii(h)}}}
{"use strict";const e=self.C,a=self.jh,b=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.A(e.Event.Jb);d.set(m,h);return h}let g=null;self.Et=class{constructor(){b.set(this,g);const m={Jf:{value:g.J().cj,writable:!1},aL:{value:g.I().Dv,writable:!1},uid:{value:g.Cc,writable:!1}};g.r8(m);g.m8(m);Object.defineProperties(this,m);g.J().VQ(this,g)}static Jg(m){g=m}static su(){return g}Hu(){const m=d.get(this);m&&(m.B(),d.delete(this));b.delete(this)}addEventListener(m,h,k){a.Jd(m);
a.Xj(h);c(this).addEventListener(m,h,k)}removeEventListener(m,h,k){a.Jd(m);a.Xj(h);c(this).removeEventListener(m,h,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.C,a=self.jh,b=self.Et,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.A(e.hb);self.By=class m extends b{constructor(){super();var h=b.su();d.set(this,h);const k=[];var n=h.j();if(h=n.ig){n=n.I().Qa.xg().length;for(let p=0;p<n;++p)k.push(new self.qE(h,p))}}get PC(){return d.get(this).j().jc().Cv}get GV(){return d.get(this).j().ba().Nca}get x(){return d.get(this).j().S()}set x(h){h=
+h;const k=d.get(this).j();isNaN(h)||k.S()===h||(k.ag(h),k.Va())}get y(){return d.get(this).j().T()}set y(h){h=+h;const k=d.get(this).j();isNaN(h)||k.T()===h||(k.bg(h),k.Va())}get tx(){return d.get(this).j().Xa()}set tx(h){h=+h;const k=d.get(this),n=k.j();isNaN(h)||n.Xa()===h||(n.Ne(h),k.J().fa())}get width(){return d.get(this).j().Y()}set width(h){h=+h;const k=d.get(this).j();isNaN(h)||k.Y()===h||(k.nf(h),k.Va())}get height(){return d.get(this).j().W()}set height(h){h=+h;const k=d.get(this).j();
isNaN(h)||k.W()===h||(k.Zf(h),k.Va())}get angle(){return d.get(this).j().Fa()}set angle(h){h=e.Td(+h);const k=d.get(this).j();isNaN(h)||k.Fa()===h||(k.Ed(h),k.Va())}MK(){d.get(this).j().hd().ufa()}get isVisible(){return d.get(this).j().Rc()}set isVisible(h){h=!!h;const k=d.get(this),n=k.j();n.Rc()!==h&&(n.yh(h),k.J().fa())}get opacity(){return d.get(this).j().Ie()}set opacity(h){h=e.oa(+h,0,1);const k=d.get(this),n=k.j();isNaN(h)||n.Ie()===h||(n.kl(h),k.J().fa())}set Pn(h){a.Jd(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const k=d.get(this);k.j().Yf(h);k.J().fa()}get Pn(){return g.get(d.get(this).j().Bj())}get zIndex(){return d.get(this).j().uh()}Gf(h,k){a.Xf(h);a.Xf(k);return d.get(this).j().nq(+h,+k)}getParent(){const h=d.get(this).Ia();return h?h.oh():null}*jx(){for(const h of d.get(this).jx())yield h.oh()}*children(){for(const h of d.get(this).children())yield h.oh()}*Kk(){for(const h of d.get(this).Kk())yield h.oh()}removeChild(h){a.$E(h,m);const k=d.get(this);h=d.get(h);
k.Vj(h)}}}{"use strict";const e=new WeakMap;self.eia=class extends self.By{constructor(){super();e.set(this,self.Et.su())}focus(){e.get(this).ra.mM()}blur(){e.get(this).ra.DL()}}}
{"use strict";const e=self.C,a=self.jh,b=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.A(e.Event.Jb);d.set(m,h);return h}let g=null;self.l0=class{constructor(){b.set(this,g);const m={Jf:{value:g.J().cj,writable:!1},behavior:{value:g.Sk().g_(),writable:!1}};Object.defineProperties(this,m)}static Jg(m){g=m}static su(){return g}get instance(){return b.get(this).ja.oh()}Hu(){const m=d.get(this);m&&(m.B(),d.delete(this));b.delete(this)}addEventListener(m,h,k){a.Jd(m);a.Xj(h);
c(this).addEventListener(m,h,k)}removeEventListener(m,h,k){a.Jd(m);a.Xj(h);c(this).removeEventListener(m,h,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.k0=class{constructor(a){e.set(this,a);Object.defineProperties(this,{Jf:{value:a.J().cj,writable:!1}})}}}
{"use strict";const e=self.C,a=self.jh,b=new WeakMap;self.qE=class{constructor(d,c){b.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).xg()[this.index].Ca()}getParameter(d){a.Wj(d);d=Math.floor(+d);const c=b.get(this).Tk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.hb?[d.Za,d.bb,d.ab]:d}}}
{"use strict";const e=self.C,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.WW=class extends e.ka{constructor(d,c){super();var g=c.exportType;this.g=d;this.zB=new Map;this.$r=new Map;this.cda=new Map;this.YA="cordova"===g;this.yT=!!c.isiOSCordova;this.Kv=!!c.isFileProtocol;this.zda=c.supportedAudioFormats||{};this.kca=
new Map;this.eT=this.NS="";this.rA="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.cH=[];this.mH=new Map;this.qK=[];this.xB=[];this.$S=!1;this.rB=this.lH=this.Jw=0;this.iI=!1;this.bda=e.A(e.x3,()=>this.jQ(),50);this.AJ=new e.ZN(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(d,g);(g=c.projectData)&&(d["data.json"]=g);for(const [m,h]of Object.entries(d))this.zB.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.cda.set(m,h);new self.j0(this)}B(){this.zB.clear();for(const d of this.$r.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.$r.clear();for(const d of this.cH)d.B();e.F(this.cH);this.mH.clear();e.F(this.xB);this.g=null}J(){return this.g}dba(d){this.NS=d}iba(d){this.eT=d}jG(d){return this.zB.has(d.toLowerCase())}yz(d){return this.zB.get(d.toLowerCase())||null}GM(d){if(!this.jG(d))return d;d=d.toLowerCase();var c=this.$r.get(d);c||(c=this.yz(d),c=URL.createObjectURL(c),
this.$r.set(d,c));return c}Rk(d,c){c=c||this.rA;const g=this.yz(d);if(g)return Promise.resolve(g);if(e.JE(d)){const m=d.toLowerCase();return this.YA&&this.Kv?this.UL(m):"local"===c?this.AJ.Ec(()=>e.Rk(m)):e.Rk(m)}return e.Rk(d)}bt(d){const c=this.yz(d);if(c)return e.bX(c);if(e.JE(d)){const g=d.toLowerCase();return this.YA&&this.Kv?this.TL(g):"local"===this.rA?this.AJ.Ec(()=>e.bt(g)):e.bt(g)}return e.bt(d)}ct(d){const c=this.yz(d);if(c)return e.CL(c);if(e.JE(d)){const g=d.toLowerCase();return this.YA&&
this.Kv?this.JX(g):"local"===this.rA?this.AJ.Ec(()=>e.ct(g)):e.ct(g)}return e.ct(d)}async kM(d){d=await this.ct(d);return JSON.parse(d)}OF(d,c){return this.g.Bo("runtime","cordova-fetch-local-file",{filename:d,as:c})}JX(d){return this.OF(d,"text")}async UL(d){const c=await this.OF(d,"buffer");d?(d=d.split("."),d=2>d.length?"":b.get(d.he(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async IX(d){d=d.toLowerCase();var c=this.$r.get(d);if(c)return c;c=await this.UL(d);c=URL.createObjectURL(c);
this.$r.set(d,c);return c}TL(d){return this.OF(d,"buffer")}dE(d,c=""){if(e.vE(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.jG(d)?Promise.resolve(this.GM(d)):this.YA&&this.Kv?this.IX(c+d):Promise.resolve(c+d.toLowerCase())}Ly(d){if(d.gx&&!a.has(d.gx))throw Error("invalid load policy");let c=this.mH.get(d.url);if(c)return c;c=e.A(e.dN,this,{url:d.url,size:d.size||0,gx:d.gx||this.rA});this.cH.push(c);this.mH.set(c.Ck,c);this.$S||(this.Jw+=c.Cm(),
this.xB.push(c.xN().then(()=>this.BP(c.Cm()))));return c}async tP(){try{await Promise.all(this.xB),this.rB=1}catch(d){console.error("Error loading: ",d),this.iI=!0,this.jQ()}}D4(){this.$S=!0}BP(d){this.lH+=d;this.bda.kX()}jQ(){const d=e.A(e.Event,"loadingprogress");this.rB=e.oa(this.lH/this.Jw,0,1);d.progress=this.rB;this.g.Jb().dispatchEvent(d)}vba(d){e.Pc(this.qK,d);this.qK.length&&this.xB.push(this.G9())}G9(){if("undefined"===typeof FontFace)return Promise.resolve();const d=[];for(const [c,g,m]of this.qK)this.Jw+=
m,d.push(this.F9(c,g).then(()=>this.BP(m)));return Promise.all(d)}async F9(d,c){try{const g=await this.dE(c,this.NS),m=new FontFace(d,`url('${g}')`);this.g.se?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${d}': `,g)}}e1(){return!!this.zda["audio/webm; codecs=opus"]}Qaa(d){for(const [c,g,m]of d)this.kca.set(c,{fileName:c,Apa:g.map(h=>({type:h[0],wpa:h[1],Npa:c+h[1],fileSize:h[2]})),jqa:m})}async BN(d){d=await this.dE(d);return await this.g.Bo("runtime",
"add-stylesheet",{url:d})}}}
{"use strict";const e=self.C;e.VW=class extends e.ka{constructor(a,b){super();this.md=a;this.g=a.J();this.Ck=b.url;this.ns=b.size;this.$I=b.gx;this.$u=null;this.FI=!1;this.pn=null}B(){this.$u=this.g=this.md=this.pn=null}Cm(){return this.ns}xN(){return"local"===this.$I||this.$u?(this.FI=!0,Promise.resolve()):this.pn?this.pn:this.pn=this.md.Rk(this.Ck,this.$I).then(a=>{this.FI=!0;this.pn=null;return this.$u=a}).catch(a=>console.error("Error loading resource: ",a))}GE(){return this.FI}IZ(){return this.$u?Promise.resolve(this.$u):
this.pn?this.pn:this.md.Rk(this.Ck,this.$I)}}}
{"use strict";const e=self.C,a=new e.ZN,b=new Set;e.dN=class extends e.VW{constructor(d,c){super(d,c);this.Ek=this.$p=null;this.Mc=0;this.gT=this.iT=-1;b.add(this)}B(){this.Fi();if(0!==this.Mc)throw Error("released image asset which still has texture references");this.$p=null;b.delete(this);super.B()}static Kq(){for(const d of b)d.$p=null,d.Ek=null,d.Mc=0}Kt(d,c){c=c||{};this.Mc++;if(this.Ek)return Promise.resolve(this.Ek);if(this.$p)return this.$p;c.fV=this.g.P.IU;return this.$p=this.IZ().then(g=>
a.Ec(()=>d.Jx(g,c).then(m=>{this.$p=null;if(0===this.Mc)return d.zj(m),null;this.Ek=m;this.iT=m.Y();this.gT=m.W();return this.Ek}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Fi(){if(0>=this.Mc)throw Error("texture released too many times");this.Mc--;0===this.Mc&&this.Ek&&(this.Ek.ob().zj(this.Ek),this.Ek=null)}ke(){return this.Ek}Y(){return this.iT}W(){return this.gT}}}
{"use strict";const e=self.C;function a(b,d){return b.j().Jk-d.j().Jk}e.I3=class extends e.ka{constructor(b,d,c){super();this.R=d;this.O=c;this.H=[];this.Ov=!0;this.kj=new Set;this.Hv=!1}B(){e.F(this.H);this.kj.clear()}kd(){e.F(this.H);this.Ov=!0;this.kj.clear();this.Hv=!1}l4(){this.Ov=!1}xo(){if(!this.H.length)return!0;if(this.H.length>this.kj.size)return!1;this.fG();return!0}tE(b){this.kj.has(b)?(this.kj.delete(b),0===this.kj.size&&(this.Hv=!1)):(this.H.push(b),this.Ov=1===this.H.length)}vh(b){this.kj.add(b);
this.Hv=!0;50<=this.kj.size&&this.fG()}fG(){this.Hv&&(this.H.length===this.kj.size?this.kd():(e.tg(this.H,this.kj),this.kj.clear(),this.Hv=!1))}U7(){this.Ov||(this.H.sort(a),this.Ov=!0)}AD(b){this.fG();this.U7();this.H.length&&b.push(this.H)}}}
{"use strict";const e=self.C;e.J3=class extends e.ka{constructor(a,b){super();this.AH=a;this.zH=b;this.Ti=e.A(e.Ot)}B(){this.Ti.B();this.Ti=null}wm(a,b,d){let c=this.Ti.ea(a,b);return c?c:d?(c=e.A(e.I3,this,a,b),this.Ti.Set(a,b,c),c):null}Ki(a){return Math.floor(a/this.AH)}Li(a){return Math.floor(a/this.zH)}ml(a,b,d){if(b)for(let c=b.ca,g=b.na;c<=g;++c)for(let m=b.Z,h=b.ia;m<=h;++m){if(d&&d.Gf(c,m))continue;const k=this.wm(c,m,!1);k&&(k.vh(a),k.xo()&&this.Ti.co(c,m))}if(d)for(let c=d.ca,g=d.na;c<=
g;++c)for(let m=d.Z,h=d.ia;m<=h;++m)b&&b.Gf(c,m)||this.wm(c,m,!0).tE(a)}Qy(a,b){let d=this.Ki(a.ca);const c=this.Li(a.Z),g=this.Ki(a.na);for(a=this.Li(a.ia);d<=g;++d)for(let m=c;m<=a;++m){const h=this.wm(d,m,!1);h&&h.AD(b)}}V1(a){let b=a.ca;const d=a.Z,c=a.na;for(a=a.ia;b<=c;++b)for(let g=d;g<=a;++g){const m=this.wm(b,g,!1);m&&m.l4()}}}}
{"use strict";const e=self.C,a=new e.Rect,b=new e.Cd,d=[];new e.Rect;new e.Rect;const c=self.vj,g=c.$C,m=c.qx,h=c.nm;h.create();const k=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),w=e.A(e.lu);e.A(e.Rect);function r(z,F){return z.j().Jk-F.j().Jk}function v(z,F){return z.j().Xa()-F.j().Xa()}const y=[],A=[],G=[];e.vN=class extends e.ka{constructor(z,F,H){super();this.Tg=z;this.g=z.J();this.cU=F;this.La=H[0];this.Ra=-1;this.kb=H[2];this.Qv=!!H[3];this.yl=e.A(e.hb);this.yl.pm(H[4].map(M=>
M/255));this.uk=!!H[5];this.$d=H[6];this.ae=H[7];this.ib=e.A(e.hb,1,1,1,H[8]);this.SB=e.A(e.hb);this.AI=H[9];this.sda=H[17];this.OU=H[18];this.Fda=H[10];this.nj=H[11];this.Mg=H[12];this.Re=null;this.xd=1;this.ed=H[16];this.$h=this.Zh=this.pe=0;this.Gl=!1;this.qg=e.A(e.Rect);this.WU=e.A(e.Rect);this.Mn=e.A(e.Rect);this.xk=h.create();this.JI=!0;this.cw=h.create();this.GI=!0;this.VU=e.A(e.K.P5);this.oB=!0;this.FU=[];this.lT=H[14];this.rk=[];this.pA=[];this.mT=new Map;this.H=[];this.bp=this.tK=!1;const J=
this.g.P;this.Qa=e.A(e.Pk,this,H[15]);this.Jh=e.A(e.K.Ee,J.OH,{GC:(M,P)=>{P=P.an;const R=P.Zk();M.Mm(P.cE());M.Qx(R);M.Bq(R);J.Eo(R)},LC:M=>this.Qa.Tk(M)});this.Qw=this.Tl=!0;this.ls=null;this.NI=[];this.hB=!1;this.ada=e.A(e.Rect,0,0,-1,-1);this.Dca=e.A(e.Rect,0,0,-1,-1);this.Nca=new self.m0(this);this.gS();this.Ro()&&(this.ls=e.A(e.J3,this.g.Xg,this.g.Wg));this.An=H[19].map(M=>e.A(e.vN,this.Tg,this,M))}Jg(){for(const z of this.lT){const F=this.g.gf(z[1]);this.Tg.zP(F);F.Fr||F.EO(z);this.rk.push(z);
this.mT.set(z[2],z)}e.Pc(this.FU,this.rk);this.lT=null}B(){this.g=this.Tg=null}j_(z){return this.mT.get(z)}MX(z){const F=this.Tg.Bp;let H=0;const J=this.rk;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.gf(M[1]);let Z=!0;if(!T.nE()||F)M=this.g.oi(M,this,!0),z.push(M),T.Wf()&&(Z=!1,this.pA.push(M.Cc));Z&&(J[H]=J[P],++H)}e.cf(J,H);this.g.Ud();this.Gg()}Ig(z,F){const H=z.j();if(H.ba()!==this)throw Error("instance added to wrong layer");this.H.push(z);0!==H.Xa()&&(this.bp=!0);F&&this.Ro()&&
z.j().Va();this.Gg()}I9(z){this.H.includes(z)||(this.H.push(z),0!==z.j().Xa()&&(this.bp=!0),this.Gg())}G$(z){const F=z.j();if(F.ba()!==this)throw Error("instance added to wrong layer");this.H.unshift(z);0!==F.Xa()&&(this.bp=!0);this.Gg()}Wo(z,F){const H=this.H.indexOf(z);0>H||(F&&this.Ro()&&z.j().tR(),this.H.splice(H,1),this.Gg(),this.$Q())}IR(){this.bp=!0}$Q(){0===this.H.length&&(this.bp=!1)}OG(z){if(z){z=new Set;for(var F of this.H){var H=F.j().Jk;0<=H&&z.add(H)}F=-1;for(const J of this.H)if(H=
J.j(),!(0<=H.Jk)){for(++F;z.has(F);)++F;H.Oz(F)}}this.H.sort(r)}T7(){for(const z of this.H)z.I().Wf()||this.g.vm(z);this.g.Ud();e.F(this.H);this.bp=!1;this.Gg()}Rt(z,F,H,J,M){const P=this.g.qa(),R=this.g.Uc,T=z.cb,Z=[];for(const Y of this.rk){var X=Y[0];if(F.Gf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.jM(X))continue}else continue;X=this;var ba=this.g.Oa();this.jc()!==ba&&((X=ba.EM(this.Ca()))||(X=ba.fy(this.Ja())));ba=this.g.oi(Y,X,!1,void 0,void 0,!1,M);X.xF(ba);X=ba.j();X.My(H,J);X.Va();P.Ce(!0);
ba.Rz();P.Ce(!1);Z.push(ba)}}return Z}jc(){return this.Tg}Ca(){return this.La}JG(z){this.Ra=z}Ja(){return this.Ra}J(){return this.g}Dj(){return this.g.Dj()}ri(){this.Bu();return this.Jh}Bu(){const z=this.Aq();if(this.Tl||z!==this.Qw){var F=this.Qa.eg;this.Jh.nD(F.map(H=>H.Tf()),{Hs:F.map(H=>H.Ja()),JC:!z,ZC:!0});this.Tl=!1;this.Qw=z}}Bh(){this.Qa.Bh();this.Tl=!0}Ro(){return this.Fda&&!this.OU}P4(){this.hB=!1}Rc(){for(const z of this.gfa())if(!z.Qv)return!1;return!0}yh(z){z=!!z;this.Qv!==z&&(this.Qv=
z,this.g.fa())}bu(z){z=!!z;if(this.Gl!==z){if(this.Gl=z)z=this.jc(),this.Zh=z.Rf(),this.$h=z.Sf();this.fk();this.g.fa()}}Hi(z){var F=this.jc();const H=F.NM();F=F.OM();z>F&&(z=F);z<H&&(z=H);this.Zh!==z&&(this.Zh=z,this.Gl&&(this.fk(),this.g.fa()))}Ii(z){var F=this.jc();const H=F.PM();F=F.MM();z>F&&(z=F);z<H&&(z=H);this.$h!==z&&(this.$h=z,this.Gl&&(this.fk(),this.g.fa()))}Rf(){return this.Gl?this.Zh:this.jc().Rf()}Sf(){return this.Gl?this.$h:this.jc().Sf()}iG(){const z=this.jc();return[z.gE(),z.hE()]}YM(z,
F){var H=this.WU;if(0===z)F.ua(H);else{let R=H.Ns(),T=H.Os();var J=this.oM(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.iG();if(.5!==X||.5!==ba){const Y=this.jt();var M=this.g,P=100/Y;J=(X-.5)*M.sg/P;M=(ba-.5)*M.rg/P;P=this.Fa();0!==P&&(w.set(J,M),w.rotate(P),J=w.R,M=w.O);z=e.YC(Y,0,z);R+=e.ie(J,0,z);T+=e.ie(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Ie(){return this.ib.$a}kl(z){z=e.oa(z,0,1);this.ib.$a!==z&&(this.ib.Ps(z),this.gS(),this.g.fa())}gS(){this.SB.ua(this.ib);this.SB.gL()}cE(){return this.SB}Aq(){return this.ib.HC(1,
1,1,1)}Q4(z){this.nj!==z&&(this.nj=z,this.fk(),this.g.fa())}L4(z,F){if(this.$d!==z||this.ae!==F)if(this.$d=z,this.ae=F,this.fk(),this.g.fa(),1!==this.$d||1!==this.ae)for(const H of this.H)H.I().GG(!0)}Ne(z){this.ed!==z&&(this.ed=z,this.g.fa())}Xa(){return this.ed}Ed(z){z=e.Td(z);this.pe!==z&&(this.pe=z,this.fk(),this.g.fa())}Fa(){return e.Td(this.Tg.Fa()+this.pe)}b0(){return 0<this.H.length}gG(){return this.XE()&&this.OU?(e.Pc(G,this.H),G.sort((z,F)=>this.Cba(z,F)),G):this.H}GP(z){e.On(z,this.gG());
for(const F of this.An)F.Rc()&&0<F.Ie()&&F.GP(z)}Cba(z,F){var H=this.jc().pS,J=H[0],M=H[1];H=H[2];var P=z.j();const R=F.j();F=P.S()-J;z=P.T()-M;P=P.Xa()-H;J=R.S()-J;M=R.T()-M;H=R.Xa()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}c5(z){z=!!z;this.uk!==z&&(this.uk=z,this.g.fa())}z4(z){z=!!z;this.AI!==z&&(this.AI=z,this.g.fa())}fO(){return!this.J().im||!this.sda}XE(){return!this.fO()}zq(){return this.XE()&&this.jc().Tca}fF(){if(!this.zq())return!1;for(const z of this.An)if(!z.fF())return!1;return!0}Yf(z){this.Mg!==
z&&(this.Mg=z,this.g.fa())}Bj(){return this.Mg}X_(){for(const z of this.An)if(z.fz())return!0;return!1}*XV(){for(const z of this.An)yield*z.XV();yield this}*Wea(){let z=this.cU;for(;z;)yield z,z=z.cU}*gfa(){yield this;yield*this.Wea()}B1(z){return this===z||this.$d===z.$d&&this.ae===z.ae&&this.xd===z.xd&&this.nj===z.nj&&this.pe===z.pe&&this.Rf()===z.Rf()&&this.Sf()===z.Sf()}U$(z){0!==z.size&&0<e.tg(this.H,z)&&(this.$Q(),this.Gg())}Gg(){this.hB=this.tK=!1}Pu(){if(!this.tK){this.H.sort(v);if(this.Ro())for(let z=
0,F=this.H.length;z<F;++z){const H=this.H[z].j();H.Oz(z);this.ls.V1(H.mw)}else for(let z=0,F=this.H.length;z<F;++z)this.H[z].j().Oz(z);this.tK=!0}}b2(z,F,H){var J=z.j();F=F.j();if(J.ba()!==this||F.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.uh();F=F.uh();if(J===F+(H?1:-1))return!1;e.Qda(this.H,J);J<F&&F--;H&&F++;F===this.H.length?this.H.push(z):this.H.splice(F,0,z);this.Gg();return!0}Q9(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=
z[J],Z=F[M];T.j().Jk<Z.j().Jk?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}P9(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.Q9(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}O9(z){for(;1<z.length;)z=this.P9(z);return z[0]}B8(){this.Pu();e.F(d);this.ls.Qy(this.qg,d);return d.length?1===d.length?d[0]:this.O9(d):[]}fz(){return this.Rc()&&0<this.Ie()&&this.dQ()}dQ(){if(this.b0()||!this.uk)return!0;for(const z of this.An)if(z.dQ())return!0;
return!1}ku(){return this.AI||!this.Aq()||0!==this.Bj()||this.Qa.Ct()}gF(){if(this.ku())return!0;for(const z of this.An)if(z.gF())return!0;return!1}Zk(){return this.Re}oM(z){if(this.Tg.wf)return 1;{const F=this.jt();return F/(F-z)}}jt(){return 100/this.xi()}fk(){this.oB=this.GI=!0}zz(z){this.GI&&(this.z6(z,this.cw),this.GI=!1);return this.cw}k8(){var z=this.g,F=this.jc(),H=z.Am(),J=z.JB,M=z.KB;J=(this.Rf()-J)*this.$d+J;var P=(this.Sf()-M)*this.ae+M;z.Ll&&(J=Math.round(J),P=Math.round(P));M=(J+0)*
H;J=(P+0)*H;F=F.wf?100:this.jt();const [R,T]=this.iG();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.sg*H/Z;z=(T-.5)*z.rg*H/Z;H=this.Fa();0!==H&&(w.set(P,z),w.rotate(H),P=w.R,z=w.O);M+=P;J+=z}return[M,J,F]}z6(z,F){const H=this.g;var J=this.jc();const M=H.Am();if(this.zq()){g.ua(p,J.pS);g.ua(q,J.vca);g.ua(u,J.wca);J=H.JB;const P=H.KB,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.$d+J;p[1]=(p[1]-P)*this.ae+P;p[2]*=Math.max(this.$d,this.ae);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(k,M,M,1);g.multiply(p,
p,k);g.multiply(q,q,k)}else{const [P,R,T]=this.k8();g.set(p,P,R,T);g.set(q,P,R,T-100);J=this.Fa();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.FL(F,p,q,u,H.P.pi());1!==M&&(g.set(k,M,M,1),h.scale(F,F,k))}pba(){this.oB=this.JI=!0}Az(z){this.JI&&(this.A6(z),this.JI=!1);return this.xk}A6(z){const F=this.g.P,[H,J]=this.iG();this.Tg.wf?z.hX(this.xk,F.Fj(),F.pi()):.5===H&&.5===J?h.ua(this.xk,F.sA):z.lq(this.xk,F.Fj()/F.pi(),H,J)}Mz(z){z.Lo(this.Az(z));let F;F=this.zz(z);z.Wq(F)}m3(z){this.Mz(z);
z.Sq(this.Xa())}mh(z,F,H){var J=this.g.P;const M=this.ku();var P=null;let R=null;if(this.g.BE()&&z.el()){const T=J.FM(this);T&&(R=T.iD(),z.BF(R))}M?(P={wj:this.g.wd},"low"===J.Oh&&(P.width=J.Fj(),P.height=J.pi()),this.Re=P=this.g.gt(P),z.Fg(P),this.uk&&z.ao()):(this.Re=F,z.Fg(F));this.uk||z.yd(this.yl);this.Tg.bQ(z,this.Re,this.An,M&&this.uk);this.Mz(z);z.Sq(this.Xa());z.Eg(this.XE());this.xi()>Number.EPSILON&&(this.Pu(),J=this.Ro()&&0===this.Xa()&&!this.bp,this.zq()?this.J7(z):J?this.K7(z):this.aQ(z,
this.gG()));z.Sq(0);z.Xt(0);M&&(z.Eg(!1),this.L7(z,P,F,H));R&&z.CD(R);this.Re=null}aQ(z,F){const H=this.qg,J=this.Re,M=this.jc().wf,P=this.jc().bN();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.j();ba.Rc()&&ba.pN(H,P,M)&&this.pl(X,ba,z,J)}}J7(z){const F=this.Re,H=this.gr(),J=this.gG();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.j();if(!P.Rc()||!P.Dq(H)){++T;continue}(!M.Oq()||0<P.Yc)&&A.push(M);var R=M.j().le();y.push(M);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.j();if(Y.Rc()&&Y.Dq(H)){if(Y.le()!==R)break;ba.Oq()?(0<Y.Yc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].GN()){this.G7(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.j(),P.Kz(!0),this.pl(M,P,z,F),P.Kz(!1)}else{this.pl(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.j(),R.ba().pl(P,R,z,F))}T=X;e.F(y);e.F(A)}}G7(z,F){const H=this.Re;z.RL();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.j();M.Iz(!0);this.aG(J,M,z)}z.QL();for(let P=0,R=F.length;P<R;++P)J=F[P],
M=J.j(),this.pl(J,M,z,H),M.Iz(!1);z.PL()}K7(z){var F=this.ls;const H=this.Dca,J=this.ada,M=this.qg;H.set(F.Ki(M.ca),F.Li(M.Z),F.Ki(M.na),F.Li(M.ia));this.hB&&H.sd(J)?F=this.NI:(F=this.B8(),this.hB=!0,J.ua(H));this.aQ(z,F);F!==this.NI&&e.Pc(this.NI,F)}pl(z,F,H,J){F.Ct()?this.I7(z,F,H,J):this.aG(z,F,H)}aG(z,F,H){F=F.Wp;H.Wi!==F&&F.QW();z.mh(H)}I7(z,F,H,J){this.H7(z,F,H,J)&&this.Mz(H)}H7(z,F,H,J){const M=F.ig.ri();M.Ho(H,J,{CC:z,Pn:F.Bj(),devicePixelRatio:this.g.nt(),ax:this.g.ot()*this.xi(),OC:this.Fa(),
Ms:F.hd(),Ww:M.gv?null:this.Y8(F),rV:null,kV:null,lV:null,mW:null});H.Sq(this.Xa());return M.cn}L7(z,F,H,J){const M=this.g;0===this.Qa.eg.length?(z.Fg(H),z.ak(),J&&0===this.Mg&&this.Aq()?z.SL(F):(z.Yf(this.Mg),z.Mm(this.SB),z.Qx(F)),z.Bq(F),M.Eo(F)):this.ri().Ho(z,H,{CC:this,Pn:this.Bj(),devicePixelRatio:M.nt(),ax:M.ot()*this.xi(),OC:this.Fa(),Ms:this.qg,Ww:null,RK:!0})}WO(z){this.xd!==z&&(this.xd=z,this.Tg.yx(),this.fk(),this.g.fa())}Am(){return this.xi()*this.g.Am()}Ej(){return this.xi()*this.g.Ej()}xi(){return(this.xd*
this.Tg.xd-1)*this.nj+1}HF(){var z=this.g.JB,F=this.g.KB,H=(this.Rf()-z)*this.$d+z,J=(this.Sf()-F)*this.ae+F;z=this.xi();F=this.g.sg/z;z=this.g.rg/z;H-=F/2;let M=J-z/2;this.g.Ll&&(H=Math.round(H),M=Math.round(M));J=this.WU;J.set(H,M,H+F,M+z);F=this.Fa();0!==F&&(a.ua(J),a.offset(-J.Ns(),-J.Os()),b.jfa(a,F),b.MK(a),a.offset(J.Ns(),J.Os()),J.ua(a));F=this.ed;this.YM(F,this.qg);this.zq()?this.jX(F,this.Mn):this.Mn.ua(this.qg)}jX(z,F){var H=this.g.P,J=H.Xc;H=H.Jc;const [M,P]=this.Lf(0,0,z),[R,T]=this.Lf(J,
0,z),[Z,X]=this.Lf(J,H,z),[ba,Y]=this.Lf(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}Lf(z,F,H=0){return this.D6(z,F,H,this.Ej())}D6(z,F,H,J){const M=this.g;var P=M.ob();const R=this.xi();m.set(n,0,0,M.sg/R,M.rg/R);z/=J;F=n[3]-F/J;J=this.Az(P);P=this.zz(P);return e.K.H5(z,F,H,P,J,n,k)?[k[0],k[1]]:[NaN,NaN]}nX(z,F){const H=this.xd,
J=this.nj,M=this.$d,P=this.ae,R=this.pe;this.ae=this.$d=this.nj=this.xd=1;this.pe=0;this.fk();z=this.Lf(z,F);this.xd=H;this.nj=J;this.$d=M;this.ae=P;this.pe=R;this.fk();return z}Ao(z,F){return this.TQ(z,F,0,this.Ej())}Tj(z,F,H=0){return this.TQ(z,F,H,this.Am()*this.Dj())}TQ(z,F,H,J){var M=this.g,P=M.ob();const R=this.xi();m.set(n,0,0,M.sg/R,M.rg/R);M=this.Az(P);P=this.zz(P);return e.K.o3(z,F,H,P,M,n,k)?[k[0]*J,(n[3]-k[1])*J]:[NaN,NaN]}Y8(z){var F=z.hd(),H=z.le();z=z.Yc;const J=H+z,M=F.ca,P=F.Z,R=
F.na;F=F.ia;if(this.zq()){if(this.Sm(M,P,H)||this.Sm(R,P,H)||this.Sm(R,F,H)||this.Sm(M,F,H)||0<z&&(this.Sm(M,P,J)||this.Sm(R,P,J)||this.Sm(R,F,J)||this.Sm(M,F,J)))return null}else if(J>=this.jt())return null;let [T,Z]=this.Tj(M,P,H),[X,ba]=this.Tj(R,F,H);if(0!==this.Fa()||0<z){const [Y,va]=this.Tj(R,P,H),[ta,ya]=this.Tj(M,F,H);if(0<z){const [Na,Sa]=this.Tj(M,P,J),[Ta,Ua]=this.Tj(R,P,J),[Wa,eb]=this.Tj(R,F,J),[fb,Pa]=this.Tj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);
T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}gr(){this.oB&&(this.Zba(),this.oB=!1);return this.VU}Zba(){var z=this.g.ob();const F=this.Az(z);z=this.zz(z);this.VU.iX(z,F)}Sm(z,F,H){return this.gr().f1(z,F,H)}ma(){return{s:this.xd,a:this.pe,vl:this.qg.ca,vt:this.qg.Z,vr:this.qg.na,vb:this.qg.ia,v:this.Qv,bc:this.yl.toJSON(),t:this.uk,sx:this.Zh,
sy:this.$h,hosp:this.Gl,px:this.$d,py:this.ae,c:this.ib.toJSON(),sr:this.nj,fx:this.Qa.Dd(),cg:this.pA}}ta(z){this.xd=z.s;this.pe=z.a;this.qg.set(z.vl,z.vt,z.vr,z.vb);this.Qv=!!z.v;this.yl.pm(z.bc);this.uk=!!z.t;z.hasOwnProperty("sx")&&(this.Zh=z.sx);z.hasOwnProperty("sy")&&(this.$h=z.sy);z.hasOwnProperty("hosp")&&(this.Gl=!!z.hosp);this.$d=z.px;this.ae=z.py;this.ib.pm(z.c);this.nj=z.sr;e.Pc(this.pA,z.cg);e.Pc(this.rk,this.FU);const F=new Set(this.pA);let H=0;for(let J=0,M=this.rk.length;J<M;++J)F.has(this.rk[J][2])||
(this.rk[H]=this.rk[J],++H);e.cf(this.rk,H);this.Qa.ud(z.fx);this.Tl=!0;this.OG(!1);this.Gg()}xF(z){if(!this.H.includes(z))if(z.kf()){var F=[...z.Kk()];F.push(z);F.sort((J,M)=>{J=J.j().wq();M=M.j().wq();return J-M});for(var H of F)if(H.ac())for(const J of H.Gd)F.includes(J)||(z=[...J.Kk()],z.push(J),z.sort((M,P)=>{M=M.j().wq();P=P.j().wq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Ig(J,!0)}else if(this.Ig(z,!0),z.ac())for(F of z.Gd)if(H=[...F.Kk()],H.push(F),H.sort((J,
M)=>{J=J.j().wq();M=M.j().wq();return J-M}),H&&H.length)for(const J of H)this.Ig(J,!0)}}}
{"use strict";const e=self.C,a=self.vg;e.A(e.Rect);e.A(e.Rect);const b=e.A(e.Rect),d=e.A(e.hb),c=self.vj.$C,g=[],m=[],h=[],k=[];let n=null;function p(q,u){n!==q&&(q.m3(u),n=q)}e.G1=class extends e.ka{constructor(q,u,w){super();this.gb=q;this.g=q.J();this.La=w[0];this.oda=w[1];this.nda=w[2];this.$=w[1];this.V=w[2];this.nB=!!w[3];this.wf=!!w[4];this.wC=w[5];this.xC=w[6];this.HS=w[7];this.$c=null;this.kb=w[8];this.Ra=u;this.$h=this.Zh=0;this.xd=1;this.pe=0;this.Sr=new Set;this.bh=new Set;this.Ew=new Set;
this.zr=[];this.oI=[];this.Tca=!1;this.pS=c.create();this.vca=c.create();this.wca=c.create();this.YB=[];this.cc=[];this.JT=new Map;this.KT=new Map;const r=this.g.P;this.Qa=e.A(e.Pk,this,w[11]);this.Jh=e.A(e.K.Ee,r.OH,{GC:(v,y)=>{y=y.an.Zk();v.Tt();v.Qx(y);v.Bq(y);r.Eo(y)},LC:v=>this.Qa.Tk(v)});this.Tl=!0;this.YU=!1;this.Re=null;this.Lp={};this.Bp=!0;this.Cv=new self.n0(this);this.ge=e.A(e.Event.Jb);for(const v of w[9])this.YB.push(e.A(e.vN,this,null,v));this.cc=[...this.Ida()];for(let v=0,y=this.cc.length;v<
y;++v)q=this.cc[v],q.JG(v),q.Jg(),this.JT.set(q.Ca().toLowerCase(),q),this.KT.set(q.kb,q);for(const v of w[10]){w=this.g.gf(v[1]);if(!w)throw Error("missing nonworld object class");w.Fr||w.EO(v);this.oI.push(v);this.zP(w)}}B(){for(const q of this.cc)q.B();e.F(this.cc);this.Ew.clear();this.g=this.gb=this.$c=null}J(){return this.g}Ca(){return this.La}Ja(){return this.Ra}ri(){this.Bu();return this.Jh}Bu(){const q="low"===this.g.P.Oh;if(this.Tl||this.YU!==q){var u=this.Qa.eg;this.Jh.nD(u.map(w=>w.Tf()),
{Hs:u.map(w=>w.Ja()),IK:q,ZC:!0});this.Tl=!1;this.YU=q}}Bh(){this.Qa.Bh();this.Tl=!0}HM(){let q=this.cc[0].xi();for(let u=1,w=this.cc.length;u<w;++u){const r=this.cc[u];if(0!==r.$d||0!==r.ae)q=Math.min(q,r.xi())}return q}CQ(){return.5*this.g.sg/this.HM()}DQ(){return.5*this.g.rg/this.HM()}NM(){return this.nB?-Infinity:this.CQ()}OM(){return this.nB?Infinity:this.Y()-this.CQ()}PM(){return this.nB?-Infinity:this.DQ()}MM(){return this.nB?Infinity:this.W()-this.DQ()}Hi(q){const u=this.NM(),w=this.OM();
q>w&&(q=w);q<u&&(q=u);this.Zh!==q&&(this.Zh=q,this.ek(),this.g.fa())}Rf(){return this.Zh}Ii(q){const u=this.PM(),w=this.MM();q>w&&(q=w);q<u&&(q=u);this.$h!==q&&(this.$h=q,this.ek(),this.g.fa())}Sf(){return this.$h}yx(){this.Hi(this.Rf());this.Ii(this.Sf());for(const q of this.cc)q.Gl&&(q.Hi(q.Rf()),q.Ii(q.Sf()))}f5(q,u){if(this.wC!==q||this.xC!==u)this.wC=q,this.xC=u,this.s1()&&(this.lr(),this.ek(),this.g.fa())}gE(){return this.wf?.5:this.wC}hE(){return this.wf?.5:this.xC}bN(){const q=this.gE(),u=
this.hE();return 0>q||1<q||0>u||1<u}YO(){this.wf&&(this.wf=!1,this.lr(),this.ek(),this.g.fa())}VO(){this.wf||(this.wf=!0,this.lr(),this.ek(),this.g.fa())}s1(){return!this.wf}nF(q){this.xd!==q&&(this.xd=q,this.ek(),this.yx(),this.g.fa())}Ed(q){q=e.Td(q);this.pe!==q&&(this.pe=q,this.ek(),this.g.fa())}Fa(){return this.pe}Y(){return this.$}nf(q){!isFinite(q)||1>q||(this.$=q)}W(){return this.V}Zf(q){!isFinite(q)||1>q||(this.V=q)}*Ida(){for(const q of this.YB)yield*q.XV()}ba(q){return"number"===typeof q?
this.fy(q):this.EM(q.toString())}fy(q){q=e.oa(Math.floor(q),0,this.cc.length-1);return this.cc[q]}EM(q){return this.JT.get(q.toLowerCase())||null}gy(q){return this.KT.get(q)||null}lr(){for(const q of this.cc)q.pba()}ek(){for(const q of this.cc)q.fk()}t_(){let q=this.YB.filter(u=>u.fz())[0];for(;q;){if(!q.uk)return d.sj(q.yl),d.Ps(1),d;if(q.ku())return d.Wn(0,0,0,0),d;q=q.An.filter(u=>u.fz())[0]}d.Wn(0,0,0,0);return d}tQ(){return[...this.Sr]}zP(q){if(q.ac())for(const u of q.Ng.Wl)this.Sr.add(u);else this.Sr.add(q)}H8(){return[...this.bh]}mG(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.HX(this.bh,q.bh),q.bh.clear());q=[];for(const w of this.Sr)this.bh.has(w)||(q.push(w.Hq(u)),this.bh.add(w));return Promise.all(q)}async DN(q){if(q.cb)throw Error("cannot load textures for family");var u=this.g.ob();!u||u.vo()||this.bh.has(q)||(this.bh.add(q),u=q.Hq(u),this.m6(u),await u,q.Ny(),this.g.fa())}m6(q){this.Ew.add(q);q.then(()=>this.Ew.delete(q)).catch(()=>this.Ew.delete(q))}R5(){return Promise.all([...this.Ew])}Z1(q){if(q.cb||0<q.H.length)throw Error("cannot unload textures");
this.g.ob()&&this.bh.has(q)&&(this.bh.delete(q),q.Fo())}Oba(q,u){if(q!==this&&u)for(const w of this.bh)w.Wf()||q.Sr.has(w)||(w.Fo(),this.bh.delete(w))}Gu(){this.bh.clear()}async WR(q){const u=this.g,w=this.gb,r=u.qa();this.HS&&(this.$c=r.yM(this.HS),this.$c.SG());w.NR(this);this.$=this.oda;this.V=this.nda;this.Zh=u.Xg/2;this.$h=u.Wg/2;this.yx();this.R9(q);this.Q6();this.Bp||this.S6();this.PP(this.zr);this.R6();w.vX();u.Ud();const v=this.g.eca;await Promise.all(v);e.F(v);if(!u.tk){for(const y of this.zr)y.j5();
for(const y of this.zr)y.ZR()}e.F(this.zr);await Promise.all([...this.Sr].map(y=>y.SE(this.g.ob())));q&&(u.Jb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.eo(new e.Event("beforeprojectstart")));await this.eo(new e.Event("beforelayoutstart"));u.tk||await u.Fd(e.D.Ya.L.PN,null,null);await this.eo(new e.Event("afterlayoutstart"));q&&(u.Jb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.eo(new e.Event("afterprojectstart")));r.raa(w);await this.R5();this.lr();this.ek();
this.Bp=!1}R9(q){for(const w of this.g.Uc)if(!w.cb&&w.xf)for(const r of w.la()){const v=r.j();var u=v.ba();u=e.oa(u.Ja(),0,this.cc.length-1);u=this.cc[u];v.Ju(u);u.I9(r)}if(!q)for(const w of this.cc)w.OG(!1)}Q6(){for(const q of this.cc)q.MX(this.zr),q.HF()}S6(){let q=!1;for(const [w,r]of Object.entries(this.Lp)){const v=this.g.jy(parseInt(w,10));if(v&&!v.cb&&v.nE()){for(const y of r){var u=null;if(v.xf&&(u=this.gy(y.w.l),!u))continue;u=this.g.oi(v,u,!1,0,0,!0);u.ud(y);q=!0;this.zr.push(u)}e.F(r)}}for(const w of this.cc)w.OG(!0),
w.Gg();q&&(this.g.Ud(),this.g.oR())}PP(q){for(const w of q){if(!w.ac())continue;const r=w.j(),v=w.lo();for(const y of w.I().Ng.Wl)if(y!==w.I()){var u=y.la();u.length>v?w.er(u[v]):(u=r?this.g.oi(y,r.ba(),!0,r.S(),r.T(),!0):this.g.oi(y,null,!0,0,0,!0),this.g.Ud(),y.Sz(),w.er(u),q.push(u))}}}R6(){for(const q of this.oI)this.g.gf(q[1]).ac()||this.g.oi(q,null,!0)}O6(){const q=[],u=this.oI;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.gf(y[1]);A.Wf()?A.ac()&&A.Ng.Y_()||q.push(this.g.oi(y,
null,!0)):(u[w]=y,++w)}e.cf(u,w);this.g.Ud();this.PP(q)}Rt(q,u,w,r,v,y){if(w)return w.Rt(q,u,r,v,y);w=[];for(const A of this.cc)w.push(A.Rt(q,u,r,v,y));return w.flat()}async Gba(){const q=this.gb;this.g.tk||await this.g.Fd(e.D.Ya.L.A2,null,null);q.PO(!0);this.g.qa().Dx();this.Bp||this.Caa();for(const u of this.cc)u.T7();for(const u of this.g.Uc)if(!(u.Wf()||u.xf||u.zb().kn||u.cb)){for(const w of u.la())this.g.vm(w);this.g.Ud()}q.PO(!1);q.Vb()===this&&q.NR(null)}zaa(q){const u=q.I().kb.toString();
this.Lp.hasOwnProperty(u)||(this.Lp[u]=[]);this.Lp[u].push(q.Dd())}Caa(){for(const q of this.cc){q.Pu();for(const u of q.H){const w=u.I();!w.Wf()&&w.nE()&&this.zaa(u)}}}R3(){this.Lp={};this.Bp=!0}Zk(){return this.Re}ku(){const q=this.g,u=q.ob().el();return"low"===q.P.Oh||u&&q.tC||"low-latency"===q.yr||this.Qa.Ct()||u&&q.im}mh(q){const u=this.g.P,w=this.ku();if(w){"low-latency"!==this.g.yr&&(q.Fg(null),q.ao());const r={wj:this.g.wd,VK:this.g.tC||this.Qa.Ct()};"low"===u.Oh&&(r.width=u.Fj(),r.height=
u.pi());this.Re=this.g.gt(r)}else this.Re=null;q.Fg(this.Re);q.yd(this.t_());this.g.im&&q.sX();for(const r of this.cc)r.HF();this.bQ(q,this.Re,this.YB,!0);w&&(q.Eg(!1),this.M7(q,this.Re));this.Re=null}bQ(q,u,w,r){w=w.filter(v=>v.fz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.fF()&&!A.gF()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.fF()&&!z.gF())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].X_()){this.E7(q,u,g);v+=g.length;e.F(g);continue}e.F(g)}A.mh(q,u,r&&0===v);++v}}M7(q,
u){const w=this.g;0===this.Qa.eg.length?(q.Fg(null),q.ak(),q.SL(u),q.Bq(u),w.Eo(u)):(b.set(0,0,w.sg,w.rg),this.ri().Ho(q,null,{CC:this,Pn:3,devicePixelRatio:this.g.nt(),ax:this.g.ot()*this.xd,OC:this.Fa(),Ms:b,Ww:null,RK:!0}))}E7(q,u,w){w[0].uk||(d.sj(w[0].yl),d.Ps(1),q.yd(d));var r=this.g.P;q.Eg(!0);for(var v of w)v.Pu(),v.GP(m);v=w[0];w=null;this.g.BE()&&q.el()&&(r=r.FM(v))&&(w=r.iD(),q.BF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.j(),A=y.ba();if(y.Rc()&&y.Dq(A.gr())){(!v.Oq()||0<y.Yc)&&k.push(v);
var G=v.j().le();h.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.j();if(J.Rc()&&J.Dq(J.ba().gr())){if(J.le()!==G)break;H.Oq()?(0<J.Yc&&k.push(H),h.push(H)):k.push(H)}}if(1!==h.length||h[0].GN()){this.F7(q,u,h);for(let H=0,J=k.length;H<J;++H)v=k[H],y=v.j(),A=y.ba(),y.Kz(!0),p(A,q),A.pl(v,y,q,u),y.Kz(!1)}else{p(A,q);A.pl(v,y,q,u);for(let H=0,J=k.length;H<J;++H)y=k[H],y!==v&&(A=y.j(),G=A.ba(),p(G,q),G.pl(y,A,q,u))}z=r;e.F(h);e.F(k)}else++z}w&&q.CD(w);e.F(m);n=null}F7(q,u,w){q.RL();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.j(),y=v.ba();v.Iz(!0);p(y,q);y.aG(r,v,q)}q.QL();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.j(),y=v.ba(),p(y,q),y.pl(r,v,q,u),v.Iz(!1);q.PL()}ma(){const q={sx:this.Rf(),sy:this.Sf(),s:this.xd,a:this.Fa(),w:this.Y(),h:this.W(),ortho:this.wf,vpX:this.gE(),vpY:this.hE(),fv:this.Bp,persist:this.Lp,fx:this.Qa.Dd(),layers:{}};for(const u of this.cc)q.layers[u.kb.toString()]=u.ma();return q}ta(q){this.Zh=q.sx;this.$h=q.sy;this.xd=q.s;this.pe=q.a;this.$=q.w;this.V=q.h;this.wf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.wC=q.vpX);q.hasOwnProperty("vpY")&&(this.xC=q.vpY);this.Bp=!!q.fv;this.Lp=q.persist;this.Qa.ud(q.fx);this.Tl=!0;for(const [u,w]of Object.entries(q.layers))(q=this.gy(parseInt(u,10)))&&q.ta(w);this.lr();this.ek()}lh(q){q.PC=this.Cv;var u=this.g;(u=u.wb&&!u.qa().Gy())&&a.AF();this.ge.dispatchEvent(q);u&&a.hD()}eo(q){q.PC=this.Cv;return this.ge.GK(q)}}}
{"use strict";const e=self.C;e.H1=class extends e.ka{constructor(a){super();this.g=a;this.Qi=[];this.XI=new Map;this.YI=new Map;this.$v=null;this.FJ=[];this.DA=null;this.bB=0;this.iw=null}B(){this.iw=this.DA=this.$v=this.g=null;e.F(this.Qi);this.XI.clear();this.YI.clear();e.F(this.FJ)}Sa(a){a=e.A(e.G1,this,this.Qi.length,a);this.Qi.push(a);this.XI.set(a.Ca().toLowerCase(),a);this.YI.set(a.kb,a)}J(){return this.g}w4(a){this.DA=a}b_(){if(this.DA)return this.DA;if(this.Qi.length)return this.Qi[0];throw Error("no first layout");
}tq(a){return this.XI.get(a.toLowerCase())||null}aE(a){return this.YI.get(a)||null}u_(a){a=e.oa(Math.floor(a),0,this.Qi.length-1);return this.Qi[a]}jc(a){return"number"===typeof a?this.u_(a):this.tq(a.toString())}NR(a){this.$v=a}Vb(){return this.$v}*nx(){this.$v&&(yield this.$v);this.FJ.length&&(yield*this.FJ)}PO(a){if(a)this.bB++;else{if(0>=this.bB)throw Error("already unset");this.bB--}}mN(){return 0<this.bB}Cx(a){this.iw=a}vX(){this.iw=null}Eq(){return!!this.iw}Ko(){const a=this.Vb();a&&a.lr()}Jo(){const a=
this.Vb();a&&a.ek()}}}
{"use strict";const e=self.C;e.z5=class extends e.ka{constructor(a){super();this.g=a;this.Hw=e.A(e.Hg);this.pda=null;this.Bn=[];this.Iw=new Map;this.Vl=new Map;this.Cn=new Map;this.$g=[];this.ve=[];this.Uh=[];this.Pv=this.ur=this.tp=!1;this.em=()=>this.x$();this.dm=()=>this.wG();this.oH=()=>this.Eu();this.WI=()=>this.T9();this.sI=b=>this.hR(b.instance);this.bH=()=>this.Du();this.qv=[];this.Nc=0}B(){this.F3();this.bH=this.sI=this.WI=this.oH=this.dm=this.em=null;for(const a of this.Bn)a.pf(),a.B();
e.F(this.Bn);this.Bn=null;this.Hw.B();this.Hw=null;e.F(this.$g);this.$g=null;e.F(this.ve);this.ve=null;e.F(this.Uh);this.Uh=null;this.Iw.clear();this.Iw=null;this.Vl.clear();this.Vl=null;this.Cn.clear();this.Cn=null;e.F(this.qv);this.g=this.qv=null}LW(){const a=this.g.Jb();a.addEventListener("pretick",this.em);a.addEventListener("tick2",this.dm);a.addEventListener("beforelayoutchange",this.oH);a.addEventListener("layoutchange",this.WI);a.addEventListener("instancedestroy",this.sI);a.addEventListener("afterload",
this.bH)}F3(){const a=this.g.Jb();a.removeEventListener("pretick",this.em);a.removeEventListener("tick2",this.dm);a.removeEventListener("beforelayoutchange",this.oH);a.removeEventListener("layoutchange",this.WI);a.removeEventListener("instancedestroy",this.sI);a.removeEventListener("afterload",this.bH)}Sa(a){this.Hw.Ec(a);a=e.Po.LX(a,this);this.Ec(a);this.T4(a);this.Cn.set(a.Ca(),0)}uD(a){a=a.TM();var b=this.Hw.ea(a);b=e.Po.uD(`${a}:${this.Cn.get(a)}`,b,this);this.KQ(a);this.Ec(b);return b}KQ(a){this.Cn.set(a,
this.Cn.get(a)+1)}Uaa(){for(const a of this.Bn)a.Ur||this.KQ(a.TM())}G6(){for(const a of this.Cn.keys())this.Cn.set(a,0)}Ec(a){this.Bn.push(a);this.Iw.set(a.Ca().toLowerCase(),a)}vh(a){a.Ty();a.Ur||(e.Lk(this.Bn,a),e.Lk(this.$g,a),e.Lk(this.ve,a),e.Lk(this.Uh,a),this.Iw.delete(a.Ca().toLowerCase()),this.G3(a),a.Zg||a.B())}Ka(a){this.g.Ka(a,this.pda,null)}J(){return this.g}aP(a,b){this.Vl.has(a)||this.Vl.set(a,new Set);this.Vl.get(a).add(b)}T4(a){for(const b of a.IM())this.aP(b,a)}G3(a){for(const [b,
d]of this.Vl.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Vl.delete(b))}N_(a){if(this.Vl.has(a))return this.Vl.get(a)}uy(a){return this.Iw.get(a.toLowerCase())||null}E3(a){e.Lk(this.ve,a);this.Au()}xO(a){this.ve.includes(a)?(a.Zq(!0),a.br(!1),a.cz(!1)):(a.Zq(!1),a.br(!0),a.cz(!1),this.$g.includes(a)||this.$g.push(a));this.YQ()}Kx(a){a.Zq(!1);a.br(!1);a.aF();e.Lk(this.$g,a);this.Au()}ML(a){a.Zq(!1);a.br(!1);a.cz(!0);this.Uh.push(a);e.Lk(this.ve,a)}NL(a){a.Zq(!1);a.br(!1);a.cz(!1);a.Zj(1);e.Lk(this.ve,
a)}DX(a){this.ML(a);a.aF()}x$(){if(!this.J().tk&&this.tp&&!this.ur){for(this.Pv=!0;this.$g.length;){var a=this.$g.pop();a.Tc();0!==a.Nc&&(this.Nc=1);this.ve.push(a)}a=this.g.rv;var b=this.g.sv,d=this.g.fe;for(let c=this.ve.length-1;0<=c;c--)this.ve[c].qf(a,d,b);this.Pv=!1;0!==this.Nc&&this.J().fa()}}wG(){if(!this.J().tk&&this.tp&&!this.ur){var a;for(let b=0,d=this.Uh.length;b<d;b++){const c=this.Uh[b];a||(a=new Set);c.Ty();this.ZQ(c);a.add(c)}if(a){e.tg(this.Uh,a);this.Nc=0;for(let b=0,d=this.ve.length;b<
d;b++)if(0!==this.ve[b].Nc){this.Nc=1;break}}this.Au()}}ZQ(a){a.Zg||a.aN()&&a.fg&&a.hn&&a.lM()}YQ(){this.tp||(this.tp=!0)}Au(){this.Uh.length||this.ve.length||this.$g.length||this.Pv||(this.tp=!1)}Eu(){for(this.ur=!0;this.$g.length;)this.Kx(this.$g.pop());const a=new Set;for(const b of this.ve)b.Eu()&&(b.Ty(),a.add(b));e.tg(this.ve,a);a.clear();for(const b of this.Uh)b.Eu()&&(b.Ty(),a.add(b));e.tg(this.Uh,a);this.Au();for(const b of this.Bn)b.yj()}T9(){this.ur=!1}hR(a){var b=a.I();if(b=this.N_(b))if(this.g.tk)this.qv.push(a);
else for(const d of b)d.Ur||(d.Zg?this.vh(d):d.aN()||(this.ZQ(d),this.vh(d)))}Du(){for(const a of this.qv)this.hR(a);e.F(this.qv)}ma(){return{timelinesJson:this.Haa(),scheduledTimelinesJson:this.Faa(),playingTimelinesJson:this.Daa(),markedForRemovalTimelinesJson:this.Baa(),hasRuntimeListeners:this.tp,changingLayout:this.ur,isTickingTimelines:this.Pv}}ta(a){a&&(this.G6(),this.C9(a.timelinesJson),this.z9(a.scheduledTimelinesJson),this.x9(a.playingTimelinesJson),this.w9(a.markedForRemovalTimelinesJson),
this.tp=!a.hasRuntimeListeners,this.ur=!!a.changingLayout,this.Pv=!!a.isTickingTimelines,this.Uaa(),this.YQ(),this.Au())}Haa(){return this.Bn.map(a=>a.ma())}C9(a){for(const b of a){a=this.uy(b.name);if(!a){a=this.E8(b);if(!a)continue;a=this.uy(a);a=this.uD(a)}a.ta(b);a.g0()||this.vh(a)}}E8(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Faa(){return this.FG(this.$g)}z9(a){this.pG(a,this.$g)}Daa(){return this.FG(this.ve)}x9(a){this.pG(a,this.ve)}Baa(){return this.FG(this.Uh)}w9(a){this.pG(a,
this.Uh)}g9(a,b){for(const d of b)if(d===a.Ca())return!0;return!1}FG(a){return a.map(b=>b.Ca())}pG(a,b){var d=new Set;for(const c of b)this.g9(c,a)||d.add(c);e.tg(b,d);d=c=>g=>g.Ca()===c;for(const c of a)(a=this.uy(c))&&(b.find(d(c))||b.push(a))}}}
{"use strict";const e=self.C;e.Po=class extends e.ka{constructor(a,b,d){super();this.g=d.J();this.Ib=d;this.Sd=b;this.La=a;this.mb=[];this.MU=0;this.pr=null;this.lS=0;this.YL();this.PB=this.kw=null;this.fc=0;this.ad=1;this.Qd=0;this.Ld=1;this.hn=this.Ml=this.gB=!1;this.fg=!0;this.CB=this.Zg=!1;this.xr=-1;this.Te=this.qp=this.Ur=this.QA=!1;this.qB=NaN;this.ah=[""];this.GU="";this.WJ=!1;this.MA=this.Nc=0}static LX(a,b){const d=b.Hw.ea(a[0]);a=e.A(e.Po,a[0],d,b);a.G4();return a}static uD(a,b,d){return e.A(e.Po,
a,b,d)}B(){if(!this.Zg){this.Ib.Kx(this);this.Ib.DX(this);for(const a of this.mb)a.B();e.F(this.mb);this.Sd=this.Ib=this.g=this.mb=null;this.Zg=!0;this.PB=this.kw=null}}YL(){for(const a of this.Sd.zt().gW())this.MU=this.mb.push(e.GF.Sa(this,a))}J(){return this.g}ut(a,b,d){if(this.MA){var c;for(let m=0;m<this.mb.length;m++){var g=this.mb[m];a===g.Ea()&&(g=g.Qf(d))&&b.constructor===g.Lb().constructor&&(c||(c=[]),c.push(g))}return c}}g0(){return!!this.mb.length}ez(a){this.La=a}Ca(){return this.La}TM(){return this.Sd.Ca()}Uf(){return this.Sd.Uf()}wt(){return this.Sd.wt()}vi(){return this.Sd.vi()}hf(){return this.Sd.hf()}Yj(a){for(const b of this.mb)b.Yj(a)}hy(){return this.Sd.hy()}ly(){return this.Sd.ly()}th(){return this.Sd.th()}Zj(a){this.ad=
a}Rj(){return this.IsPlaying()?0<this.ad:!0}JM(){this.kw||(this.kw=new Promise(a=>{this.PB=a}))}aF(){this.kw&&(this.PB(),this.PB=this.kw=null)}$O(a){this.ah=e.Po.D8(a);this.WJ=!0}SN(){e.D.Ic.L.Mo(this);this.Ib.Ka(e.D.Ic.L.bka);this.Ib.Ka(e.D.Ic.L.cka);this.Ib.Ka(e.D.Ic.L.dka);this.Ib.Ka(e.D.Ic.L.Sja);e.D.Ic.L.Mo(null)}OE(){this.xr=this.g.Ak}lM(){this.qp||(this.qp=!0,e.D.Ic.L.Mo(this),this.Ib.Ka(e.D.Ic.L.Zja),this.Ib.Ka(e.D.Ic.L.$ja),this.Ib.Ka(e.D.Ic.L.aka),this.Ib.Ka(e.D.Ic.L.Rja),e.D.Ic.L.Mo(null))}Zq(a){this.gB=
a}hN(){return this.xr===this.g.Ak}IsPlaying(a=!1){return this.hN()||this.Ml&&!a?!0:this.gB}jr(){return this.IsPlaying(!0)}br(a){this.Ml=a}DO(a){this.fg=a;a=this.Ga();if(0>=a||a>=this.Uf())this.fg=!0}cz(a){this.CB=a}kF(a){this.QA=a}G4(){this.Ur=!0}Ga(){return this.fc}cr(a){const b=this.Ga();this.yc(a);this.DO(!1);this.fg||this.kF(!0);if(this.jr()||this.Ml||!this.hn)this.jr()||this.Ml||this.hn?this.jr()?this.pf():this.Ml&&(this.Ib.Kx(this),this.MO()):this.MO();this.Mu();this.kG(a,!0,b);this.NG();this.Nc&&
this.J().fa();this.kR()}yc(a){this.fc=0>a?0:a>=this.Uf()?this.Uf():a}kR(){e.D.Ic&&this.constructor===e.Po&&(e.D.Ic.L.Mo(this),this.Ib.Ka(e.D.Ic.L.Wja),this.Ib.Ka(e.D.Ic.L.Xja),this.Ib.Ka(e.D.Ic.L.Yja),e.D.Ic.L.Mo(null))}Play(a=!1){return this.Zg||this.Ml?!1:this.jr()&&this.hN()?this.Laa():this.jr()||!this.fg&&!a&&!this.QA?!1:this.Maa()}Laa(){this.kF(!1);this.Ib.E3(this);this.Ib.xO(this);this.JM();return!0}Maa(){this.kF(!1);this.Ib.xO(this);this.JM();return!0}pf(a=!1){this.Zg||(this.DO(a),this.Ib.ML(this),
this.fg&&this.aF())}kd(a=!0,b=!1){if(!this.Zg)if(!this.jr()&&this.Ml)this.Ib.Kx(this);else if(!this.fg){this.pf(!0);this.Rj()?this.yc(0):this.yc(this.Uf());var d=this.Ga();this.Mu();b?this.Z8(d):this.kG(d,!1);a&&this.kR();this.NG();this.Nc&&a&&this.J().fa()}}oO(){this.kd(!1,!0)}Z8(a){this.kG(a,!1,NaN,!1,!0)}Eu(){if(this.Zg)return!0;if(this.h0())return!1;this.Ib.NL(this);this.oO();return!0}MO(){this.Tc(!0)}Tc(a){if(!this.CB){if(a){this.Te=this.hn=!0;this.Mu();for(const b of this.mb)b.Tc()}else if(this.Zq(!0),
this.br(!1),this.SN(),this.fg){this.xr=-1;this.Qd=0;this.Ld=1;this.qp=this.fg=!1;this.Te=this.hn=!0;this.Rj()?this.yc(0):this.yc(this.Uf());this.Mu();for(const b of this.mb)b.Tc()}else{this.Te=!0;this.Mu();for(const b of this.mb)b.Le()}this.NG()}}Mu(){this.MA=0;for(const a of this.mb)a.jn&&(this.MA=1)}NG(){this.Nc=0;for(const a of this.mb)a.Nz(),0===this.Nc&&1===a.Nc&&(this.Nc=1),this.pr||1!==a.rn||(this.pr||(this.pr=[]),this.lS=this.pr.push(a))}qf(a,b){if(0!==a||0!==this.qB){this.qB=a;var d=this.fc;
b=d+a*b*this.ad;a=this.Sd.ws;this.fc=0>b?0:b>=a?a:b;var c=!1;b=this.hy();var g=this.ly();b||g?b&&!g?0<this.ad?this.fc>=a&&this.yc(0):0>=this.fc&&this.yc(a):!b&&g?0<this.ad?this.fc>=a&&(this.yc(a),this.Zj(-1*this.ad),1===this.Qd?this.Ld<this.th()?(this.Ld++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):0>=this.fc&&(this.yc(0),this.Zj(-1*this.ad),1===this.Qd?this.Ld<this.th()?(this.Ld++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):b&&g&&(0<this.ad?this.fc>=a&&(this.yc(a),this.Zj(-1*this.ad)):0>=this.fc&&(this.yc(0),
this.Zj(-1*this.ad))):0<this.ad?this.fc>=a&&(this.Ld<this.th()?(this.Ld++,this.yc(0)):(this.yc(a),c=!0)):0>=this.fc&&(this.Ld<this.th()?(this.Ld++,this.yc(a)):(this.yc(0),c=!0));b=this.MU;if(c){for(c=0;c<b;c++)this.mb[c].HO();this.pf(!0);this.OE()}else{g=this.lS;for(c=0;c<g;c++)this.pr[c].Zn();if(1===this.MA)for(c=0;c<b;c++){const m=this.mb[c],h=m.jf(),k=d-h;0>this.fc-h&&0<k?(this.fc=0>h?0:h>=a?a:h,m.Ha(h,!0,!1,!1,this.Te,!1)):m.Ha(this.fc,!0,!1,!1,this.Te,!1)}else for(c=0;c<b;c++)this.mb[c].Ha(this.fc,
!0,!1,!1,this.Te,!1);for(c=0;c<g;c++)this.pr[c].Yn();this.Te&&(this.Te=!1)}}}kG(a,b=!1,d=NaN,c=!1,g=!1){for(var m of this.mb)m.Zn();for(const h of this.mb){m=a;if("number"===typeof d){const k=this.Ga()-h.jf(),n=d-h.jf();0>k&&0<n&&(m=h.jf(),this.yc(m))}h.Ha(m,!1,b,!0,this.Te,g)}for(const h of this.mb)h.Yn();this.Te&&c&&(this.Te=!1)}Ty(){if(!this.Zg)for(const a of this.mb)a.ll()}yj(){for(const a of this.mb)a.yj()}wX(){for(const a of this.mb)a.uX()}V4(a,b){if(b)for(const d of this.mb)if(d.Ci()){if(a){if(d.Gj()!==
a)continue}else if(d.a0())continue;d.E4(b);this.Ib.aP(b.I(),this);break}}aN(){return this.mb.some(a=>a.Ci()?a.qD():!0)}h0(){return this.mb.some(a=>a.Ci()?a.qD()?(a=a.I())?a.Wf():!1:!1:!1)}Qf(a){for(const b of this.mb)for(const d of b.eb)if(d.za.bd===a)return d}UM(a){for(const b of this.mb)if(a===b.Ea())return b;return null}IM(){const a=[];for(const b of this.mb)a.push(b.I());return a.filter(b=>b)}ma(){return{tracksJson:this.Jaa(),name:this.La,playheadTime:this.Ga(),playbackRate:this.ad,pingPongState:this.Qd,
currentRepeatCount:this.Ld,isPlaying:this.gB,isScheduled:this.Ml,initialStateSet:this.hn,finishedTriggers:this.qp,complete:this.fg,released:this.Zg,markedForRemoval:this.CB,completedTick:this.xr,implicitPause:this.QA,isTemplate:this.Ur,tags:this.ah.join(" "),stringTags:this.GU,tagsChanged:this.WJ,firstTick:this.Te}}ta(a){a&&(this.D9(a.tracksJson),this.La=a.name,this.fc=a.playheadTime,this.ad=a.playbackRate,this.Qd=a.pingPongState,this.Ld=a.currentRepeatCount,this.gB=!!a.isPlaying,this.Ml=!!a.isScheduled,
this.hn=!!a.initialStateSet,this.qp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.fg=!!a.complete,this.Zg=!!a.released,this.CB=!!a.markedForRemoval,this.xr=a.completedTick,this.QA=!!a.implicitPause,this.Ur=!!a.isTemplate,this.ah=a.tags.split(" "),this.GU=a.stringTags,this.WJ=!!a.tagsChanged,this.Te=!!a.firstTick)}Jaa(){return this.mb.map(a=>a.ma())}D9(a){a.forEach((b,d)=>{this.mb[d].ta(b)});this.mb.filter(b=>b.qD())}static D8(a){if(e.uo(a))return a.slice(0);if(e.Di(a))return a.split(" ")}}}
{"use strict";const e=self.C;e.GF=class extends e.ka{constructor(a,b){super();this.bi=a;this.Ob=b;this.Ze=b.zt();this.Ul=this.Il=NaN;this.Wa=this.qc=null;this.jn=0<b.jf();this.mp=this.Tr=!1;this.jj=null;this.rc=this.Ob.Hj().rc;this.eb=[];this.XL();this.rn=this.Nc=this.Hk=0}static Sa(a,b){return e.A(e.GF,a,b)}B(){this.rc=null;for(const a of this.eb)a.B();e.F(this.eb);this.jj=this.Ob=this.Wa=this.qc=this.bi=this.eb=null}XL(){for(const a of this.Ob.je().RV())this.eb.push(e.fb.Sa(this,a))}ll(){for(const a of this.eb)a.ll()}yj(){for(const a of this.eb)a.yj();
this.Wa=this.qc=null}yb(){return this.bi}J(){return this.bi.J()}s_(){return this.rc?this.rc:this.rc=this.Ob.Hj().rc}Qf(a){for(let b=0;b<this.eb.length;b++){const d=this.eb[b];if(d.za.bd===a)return d}}Mt(){this.qc||this.Ea()}Gm(){return this.qc?!this.qc.Ft():!1}qD(){if(!this.Ci())return!1;const a=this.J().ti(this.pt());return a?!a.Ft():!1}I(){if(this.Ci()){var a=this.bE();if(-1!==a)return this.J().gf(a)}}uX(){this.qc=null;this.Il=-1;this.Wa=null;this.Ul=-1}a0(){return!!this.qc}Ea(){return this.qc&&
this.Gm()?this.qc:this.qc=this.J().ti(this.pt())}E4(a){if(this.qc!==a){this.yj();this.qc=a;this.Ul=a.I().Ja();this.Il=a.Cc;this.Wa=a.j();for(const m of this.$ea()){const h=m.ofa;switch(m.Zea.Wd()){case "instance-variable":var b=a.I(),d=b.l_(m.name),c=b.DM(d);b=b.qt(d);c===m.name&&b===m.type&&h.M5(d);break;case "behavior":var g=m.wK;d=this.I();c=a.I();b=h.yg(c);g&&b&&(g=g.Ca(),d.it(g),c.it(g),h.J5(b.kb))}}}}*$ea(){for(const d of this.eb){var a=d.Lb(),b=this.I();const c={Zea:d,ofa:a};switch(d.Wd()){case "world-instance":c.lra=
d.za.bd;break;case "instance-variable":a=a.sq();c.name=b.DM(a);c.type=b.qt(a);break;case "effect":b=a.SD(b.Qa);c.rpa=b;break;case "behavior":b=a.yg(b);c.wK=b;break;case "plugin":c.hra=b.zb()}yield c}}j(){if(this.Wa&&this.Gm())return this.Wa;const a=this.Ea();a&&(this.Wa=a.j());return this.Wa}pt(){return this.Il?this.Il:this.Ob.pt()}vi(){return this.Ob.vi()}hf(){return this.Ob.hf()}Gj(){return this.Ob.Gj()}jf(){return this.Ob.jf()}Wk(){return this.Ob.Wk()}Yj(a){for(const b of this.s_())b.Yj(a);for(const b of this.eb)b.Yj(a)}Vk(){return this.Ob.Vk()}jl(a){this.Ob.jl(a)}bE(){return isNaN(this.Ul)?
this.Ob.bE():this.Ul}Jj(){const a=this.Ea();return a&&a.ra.yo()?a.ra.Jj():this.Ob.Jj()}Ij(){const a=this.Ea();return a&&a.ra.yo()?a.ra.Ij():this.Ob.Ij()}Pj(){return this.Ob.Pj()}Ca(){return this.Ob.Ca()}Ci(){return 0===this.Pj()}Tc(){this.Mt();if(this.Gm()||!this.Ci()){var a=this.yb().Rj()?0:this.Wk();for(const b of this.eb)b.Tc(a),0===this.Hk&&1===b.Hk&&(this.Hk=1),0===this.Nc&&1===b.Nc&&(this.Nc=1);this.rn=0;this.eb.some(b=>b.rn)&&(this.rn=1);this.jj=this.vQ(a);this.mp=this.Tr=!1;this.Ha(a)}}Le(){this.Mt();
if(this.Gm()||!this.Ci()){this.bi.Rj();var a=this.bi.Ga()-this.jf();this.jj=this.vQ(a);for(const b of this.eb)b.Le(a)}}HO(){if(!(this.yb().fg||(this.Mt(),!this.Gm()&&this.Ci()||this.jn))){const a=this.bi.Ga();a>=this.jf()+this.Wk()?this.Ha(this.Wk(),!0,!1,!0):0>=a&&this.Ha(0,!0,!1,!0)}}Nz(){for(let a=0,b=this.eb.length;a<b;a++){const d=this.eb[a];d.Nz();0===this.Hk&&1===d.Hk&&(this.Hk=1);0===this.Nc&&1===d.Nc&&(this.Nc=1)}}Zn(){const a=this.eb.length;for(let b=0;b<a;b++)this.eb[b].Zn()}Ha(a,b=!1,
d=!1,c=!1,g=!1,m=!1){this.qc||this.Ea();const h=0===this.Ob.Ba;if(!((!this.qc||this.qc.Ft())&&h||m&&h&&this.I().Wf()||(a-=this.jf(),0>a))){this.X1(a,b);this.Y1(a,b,g);for(let k=0,n=this.eb.length;k<n;k++)this.eb[k].Ha(a,d,c);this.W1(a,b);0!==this.Hk&&(this.Wa||(this.Wa=this.qc.j()),this.Wa&&this.Wa.Va())}}Yn(){const a=this.eb.length;for(let b=0;b<a;b++)this.eb[b].Yn()}X1(a,b){if(b&&this.jn&&!this.Tr){if(this.yb().Rj()){if(0>a)return;for(const d of this.eb)d.Ha(0,!1,!0)}else{if(a>this.Wk())return;
for(const d of this.eb)d.Ha(this.Wk(),!1,!0)}for(const d of this.eb)d.Tc();this.Tr=!0}}W1(a,b){if(b&&this.jn&&!this.mp)if(this.yb().Rj()){if(a>=this.Wk()){for(const d of this.eb)d.Ha(this.Wk(),!1,!0);this.mp=!0}}else if(0>=a){for(const d of this.eb)d.Ha(0,!1,!0);this.mp=!0}}Y1(a,b,d){if(!d&&b&&e.D.Ic){b=this.yb();d=this.jj.We;var c=this.jj.Ga(),g=d?d.Ga():b.Uf();if(a<=c||a>=g)this.jj=this.Ze.zM(a,this.Ob),b.Rj()?d&&this.QE(this.jj):this.jj.We&&this.QE(this.jj)}}vQ(a){const b=this.Ze.p_(a,this.Ob);
return b?b:this.Ze.zM(a,this.Ob)}QE(a){const b=this.yb();e.D.Ic.L.Mo(b);e.D.Ic.L.d5(a);a=b.Ib;a.Ka(e.D.Ic.L.Qja);a.Ka(e.D.Ic.L.QE);e.D.Ic.L.Mo(null);e.D.Ic.L.d5(null)}GW(){return this.Ob.Hj().AW()}$X(a){this.Ob.Hj().ZX(a)}Ox(a){for(const b of this.eb)b.Ox(a)}Io(){for(const a of this.eb)a.Io()}mi(){this.Mt();if(this.Gm()||!this.Ci())for(const a of this.eb)a.mi()}ni(){this.Mt();if(this.Gm()||!this.Ci()){var a=!1;for(const b of this.eb){const d=b.ni();!a&&d&&(a=!0)}a&&(a=this.GW(),a.cr(this.yb().Ga()),
a.Yj("noease"),a.jl(!0),a.$O(""))}}ma(){var a=this.Ea();a=a?a.Cc:this.pt();return{propertyTracksJson:this.Eaa(),lastKeyframeDataItemJson:this.Aaa(),initialStateOfNestedSet:this.Tr,endStateOfNestedSet:this.mp,instanceUid:a}}ta(a){a&&(this.y9(a.propertyTracksJson),this.v9(a.lastKeyframeDataItemJson),this.s9(a.instanceUid),this.Tr=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Tr=a.initialStateOfNestedSet),this.mp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.mp=a.endStateOfNestedSet))}Aaa(){return this.Ob.Hj().r_(this.jj)}Eaa(){return this.eb.map(a=>
a.ma())}y9(a){a.forEach((b,d)=>{this.eb[d].ta(b)})}s9(a){if(e.Em(a)&&(a=this.J().ti(a))){var b=this.yb();b.wX();b.V4(this.Ob.Gj(),a)}}v9(a){this.jj=this.Ob.Hj().q_(a)}}}
{"use strict";const e=self.C;e.fb=class extends e.ka{constructor(a,b){super();this.sb=a;this.za=b;this.sc=b.je();this.rn=this.Nc=this.Hk=0;this.ye=this.Lb();this.Sb=this.za.rh().Sb;this.Qu=this.Lc=null}static Sa(a,b){return e.A(e.fb,a,b)}B(){this.sb=null;this.ye&&(this.ye.B(),this.ye=null);this.sc=this.za=this.Sb=null}jE(){return!!this.Qu}f4(a){this.Qu=a}je(){return this.sc}yb(){return this.sb.yb()}J(){return this.sb.J()}Ea(){return this.sb.Ea()}Lb(){if(this.ye)return this.ye;let a;switch(this.za.Wd()){case "behavior":a=
new e.fb.$W(this);break;case "effect":a=new e.fb.iZ(this);this.Nc=1;break;case "instance-variable":a=new e.fb.b1(this);break;case "plugin":a=new e.fb.g3(this);this.Nc=1;break;case "world-instance":a=new e.fb.Co(this);this.Hk=this.Nc=1;break;case "value":a=new e.fb.O5(this);break;case "audio":a=new e.fb.XW(this)}return this.ye=a}Wd(){return this.za.Wd()}ny(){return this.za.Pj()}tt(){return this.je().ay(this.za).Pj()}Vk(){return this.za.Vk()}jl(a){this.za.jl(a)}vi(){return this.za.vi()}hf(){return this.za.hf()}Yj(a){for(const b of this.my())b.Yj(a)}pD(){return this.za.pD()}my(){return this.Sb?
this.Sb:this.Sb=this.za.rh().Sb}ll(){this.Lb().ll()}yj(){this.Lb().yj()}Fe(){return this.Lb().Fe()}Tc(a){this.Lb().Tc();this.Lc=this.wQ(a);this.Nz()}Le(a){this.Lb().Le();this.Lc=this.wQ(a)}Nz(){var a=this.sb;this.rn=0;if(a.Ci()){var b=this.yb();a=a.Ea();const d=this.Lb(),c=this.za.bd;d.Uj()?(b=b.ut(a,d,c))&&b.length&&(this.rn=1):this.rn=0}}wQ(a){const b=this.yb(),d=this.sc.G_(a,this.za);return d?d:b.Rj()?this.sc.si(a,this.za):this.sc.AM(a,this.za)}Zn(){this.ye.Zn()}Ha(a,b=!1,d=!1){let c;if(b)var g=
this.sc.si(a,this.za);else{if(this.Lc){var m=this.yb();const h=this.Lc.We;g=this.Lc.Ga();m=h?h.Ga():m.Uf();if(a<=g||a>=m)this.Lc=this.sc.si(a,this.za)}else this.Lc=this.sc.si(a,this.za);g=this.Lc}g&&(c=g.We);this.ye.Ha(a,g,c,b,d)}Pf(a){if(this.Lc){var b=this.yb();const c=this.Lc.We;var d=this.Lc.Ga();b=c?c.Ga():b.Uf();if(a<=d||a>=b)this.Lc=this.sc.si(a,this.za)}else this.Lc=this.sc.si(a,this.za);d=this.Lc;return this.ye.Pf(a,d,d.We)}Yn(){this.ye.Yn()}static SM(a,b){return b.sc.si(a,b.za)}zL(){const a=
this.za.rh().yL();this.Lc=null;return a}Ox(a){this.Lc=null;this.za.rh().cM(a)}Io(){this.Lb().Io()}mi(){if(this.Lb().mi()){const a=this.sc.ay(this.za),b=this.Lb().Fe();a.yO(b)}}ni(){const a=this.Lb().ni();a&&this.JW();this.Lb().Gx();return a}JW(){const a=this.yb().Ga(),b=this.Lb(),d=e.fb.SM(a,this),c=this.zL();c.bP(d.Pj());c.cr(a);c.Yj(d.xm());c.jl(!0);c.Me(b.XM());c.yO(b.Fe())}ma(){return{sourceAdapterJson:this.Lb().ma()}}ta(a){a&&this.Lb().ta(a.sourceAdapterJson)}}}
{"use strict";const e=self.C.fb;e.Co=class{constructor(a){this.N=a;this.Cf=null;this.qh()}B(){this.Cf&&(this.Cf.B(),this.Cf=null);this.N=null}Uj(){return this.Cf.Uj()}Qf(){return this.N}ll(){this.Cf&&this.Cf.ll()}yj(){this.Cf&&this.Cf.yj()}qh(){return this.Cf?this.Cf:this.Cf=this.T6()}sq(){}Ja(){return this.sq()}yt(){}Tc(){this.qh().Tc()}Le(){this.qh().Le()}Zn(){this.Cf.jq()}Ha(a,b,d,c,g){let m;switch(this.N.tt()){case "numeric":m=e.Nt.Ha(a,b,d,this.N);break;case "angle":m=e.vx.Ha(a,b,d,this.N);break;
case "boolean":m=e.xx.Ha(a,b,d,this.N);break;case "color":m=e.Hx.Ha(a,b,d,this.N);break;case "text":m=e.hz.Ha(a,b,d,this.N)}this.Cf.$n(a,m,b,d,c,g)}Pf(a,b,d){switch(this.N.tt()){case "numeric":return e.Nt.Ha(a,b,d,this.N);case "angle":return e.vx.Ha(a,b,d,this.N);case "boolean":return e.xx.Ha(a,b,d,this.N);case "color":return e.Hx.Ha(a,b,d,this.N);case "text":return e.hz.Ha(a,b,d,this.N)}}Yn(){this.Cf.iq()}Io(){var a=this.qh();a.Yh=a.Fe()}Gx(){this.qh().Gx()}Fe(){return this.qh().Fe()}mi(){return this.qh().mi()}ni(){return this.qh().ni()}XM(){const a=
this.N,b=a.sb.yb().Ga(),d=e.SM(b,a),c=d.We;switch(a.tt()){case "numeric":return e.Nt.Ha(b,d,c,a);case "angle":return e.vx.Ha(b,d,c,a);case "boolean":return e.xx.Ha(b,d,c,a);case "color":return e.Hx.Ha(b,d,c,a);case "text":return e.hz.Ha(b,d,c,a)}}T6(){const a=this.N;switch(a.pD()?a.tt():""){case "combo":case "boolean":case "text":case "string":return new e.lf.HN(this);case "numeric":case "number":case "angle":return"combo"===this.N.ny()?new e.lf.HN(this):new e.lf.IN(this);case "color":case "offsetColor":return new e.lf.zX(this);
default:return new e.lf.IN(this)}}ma(){return{propertyAdapterJson:this.qh().ma()}}ta(a){a&&this.qh().ta(a.propertyAdapterJson)}}}
{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b);this.Mw=NaN}sq(){return this.N.za.ng[0]}Ja(){return this.Mw?this.Mw:super.Ja()}yt(){return this.N.sb.Ea()}M5(b){this.N.za.ng[0]!==b&&(this.Mw=b)}Ha(b,d,c,g,m){this.qh().oD(d.ga())&&super.Ha(b,d,c,g,m)}Pf(b,d,c){if(this.qh().oD(d.ga()))return super.Pf(b,d,c)}ma(){return Object.assign(super.ma(),{index:this.Mw})}ta(b){b&&(super.ta(b),this.Mw=b.index)}}e.fb.b1=a}
{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b);this.kb=NaN}sq(){return this.N.za.ng[1]}yt(){var b=this.N.za,d=this.kb?this.kb:b.ng[0];b=this.N.sb.Ea();d=b.rM(d);return b.Vc[d].ra}yg(b){return b.Vx(this.N.za.ng[2])}J5(b){this.N.za.ng[0]!==b&&(this.kb=b)}Ha(b,d,c,g,m){const h=this.N.sb.Ea();this.yg(h.I())&&super.Ha(b,d,c,g,m)}Pf(b,d,c){const g=this.N.sb.Ea();if(this.yg(g.I()))return super.Pf(b,d,c)}ma(){return Object.assign(super.ma(),{sid:this.kb})}ta(b){b&&(super.ta(b),
this.kb=b.sid)}}e.fb.$W=a}{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b)}sq(){return this.N.za.ng[1]}yt(){const b=this.N.sb.j().ig,d=this.SD(b.Qa).Ja();return b.Gt(d)?b.Tk(d):null}SD(b){return b.Uk(this.N.za.ng[0])}Ha(b,d,c,g,m){this.RQ()&&super.Ha(b,d,c,g,m)}Pf(b,d,c){if(this.RQ())return super.Pf(b,d,c)}RQ(){const b=this.N.sb.j().ig,d=this.SD(b.Qa);if(d)return b.Gt(d.Ja())}}e.fb.iZ=a}
{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b)}sq(){return this.N.za.ng[0]}yt(){return this.N.sb.Ea().ra}Ha(b,d,c,g,m){var h=this.N.sb;const k=h.I().zb();h=h.Ea().I().zb();k===h&&super.Ha(b,d,c,g,m)}Pf(b,d,c){var g=this.N.sb;const m=g.I().zb();g=g.Ea().I().zb();if(m===g)return super.Pf(b,d,c)}}e.fb.g3=a}
{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b);this.Dc=0;this.RA=!1}Uj(){return!1}Tc(){const b=this.N.je();let d=this.N.za;d=b.ay(d);this.Dc=d.xc()}Le(){}ga(){this.RA||this.N.Ha(0);return this.Dc}Ha(b,d,c){this.Dc=e.fb.Nt.Ha(b,d,c,this.N);this.RA=!0}Io(){}Gx(){}Fe(){return this.Dc}mi(){return!1}ni(){return!1}ma(){return{value:this.Dc,init:this.RA}}ta(b){b&&(this.Dc=b.value,this.RA=b.hasOwnProperty("init")?b.init:!0)}}e.fb.O5=a}
{"use strict";const e=self.C;class a extends e.fb.Co{constructor(b){super(b);this.jk=!1;this.Or=this.Wb=this.xe=null;this.bi=this.N.yb();this.sb=this.N.sb;this.yw=this.N.za.ng;this.ZH=this.yw[0];this.SJ=this.yw[1];this.Dh=this.yw[3]?this.yw[3]:Math.random().toString(36).slice(2);this.Pw=this.Kp=this.tn=NaN;this.Lg=null;this.QQ()}B(){super.B();this.Lg=this.ZH=this.yw=this.sb=this.bi=this.Or=this.Wb=this.xe=null}QQ(){if(self.C.D.Audio){var b=this.N.J().iy("audio");b&&(this.xe=b.yi().ra);this.Wb=self.C.D.Audio.Db;
this.Or=self.C.D.Audio.Ub}}aR(){if(!this.Lg){var b=this.N.sb.Qf("audioSource");b&&(this.Lg=b.Lb())}}x8(){const b=this.N.sb.Qf("volume");return b?b.Lb().Kp:this.Kp}ll(){super.ll();this.jk=!1;this.xe&&(this.Or&&(this.tn=this.Or.Fka.call(this.xe,this.Dh),this.Kp=this.Or.joa.call(this.xe,this.Dh)),this.Wb&&this.Wb.pf.call(this.xe,this.Dh))}No(b){this.Pw=b}Tc(){super.Tc();this.tn=NaN;this.jk=!1}Le(){super.Le();const b=this.N.yb().Ga();this.tn=b-this.SJ;switch(this.N.za.bd){case "volume":this.Kp=this.N.Pf(b)}this.jk=
!1}Ha(b,d,c,g,m){if(this.xe)switch(this.N.za.bd){case "audioSource":if(!this.bi.Rj())break;if(g){this.Wb&&this.Wb.pf.call(this.xe,this.Dh);break}if(b<this.SJ){this.jk=!1;break}d=this.Or.Eka.call(this.xe,this.Dh);this.bi.ad!==d&&this.Wb.Zj.call(this.xe,this.Dh);if(this.jk)break;this.jk=!0;if(isNaN(this.tn)){const h=self.performance.now(),k=b-this.SJ;this.xe.RE("get-suspended").then(n=>{if("suspended"===n)this.jk=!1;else if(n=k+(self.performance.now()-h)/1E3,this.Wb){let p=this.Pw;isNaN(p)?(this.No(0),
p=0):this.No(p);this.Wb.Play.call(this.xe,this.ZH,0,p,this.Dh,n)}})}else{const h=this.tn;this.tn=NaN;const k=this.x8();this.Kp=NaN;this.xe.RE("get-suspended").then(n=>{"suspended"===n?this.jk=!1:this.Wb&&(this.No(k),this.Wb.Play.call(this.xe,this.ZH,0,k,this.Dh,h))})}break;case "volume":this.aR(),super.Ha(b,d,c,g,m)}}Pf(b,d,c){if(this.xe)switch(this.N.za.bd){case "volume":return this.aR(),super.Pf(b,d,c)}}ZM(){return this.Lg?this.Lg.Pw:0}i5(b,d){this.Lg&&this.Lg.No(this.ZM()+d);this.Wb&&this.Lg&&
this.Wb.No.call(this.xe,this.Lg.Dh)}uW(b,d){this.Lg&&this.Lg.No(d);this.Wb&&this.Lg&&this.Wb.No.call(this.xe,this.Lg.Dh)}ma(){return{audioPlaybackStarted:this.jk,audioTag:this.Dh,pauseTime:this.tn,pauseVolume:this.Kp,volume:this.Pw}}ta(b){b&&(this.jk=b.audioPlaybackStarted,this.Dh=b.audioTag,this.tn=b.pauseTime,this.Kp=b.pauseVolume,this.Pw=b.volume,this.QQ())}}e.fb.XW=a}"use strict";function ic(e,a,b){return e.N.yb().Rj()?a():b()}function jc(e,a,b){return"relative"===e.N.hf()?a():b()}
function kc(e){if(e.ts)return e.ts;e.ts=e.ye.yt();return e.ts}function lc(e,a=!1){const b=[];for(const d of e){e=d.sb.jf();for(const c of d.my())a&&0===c.Ga()?b.push({time:e+c.Ga(),value:c.Ch}):a||b.push({time:e+c.Ga(),value:c.Ch})}return b.sort((d,c)=>d.time-c.time)}function mc(e,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=e)return a[b];return null}
self.C.fb.lf=class{constructor(e){this.ye=e;this.N=e.Qf();this.Wa=this.N.sb.j();this.bd=this.N.za.bd;this.Pr=!1;this.ts=this.Yh=null}B(){this.ts=this.Yh=this.Wa=this.N=this.ye=null}Uj(){return!1}ll(){}yj(){this.ts=this.Yh=this.Wa=null}Lb(){return this.ye}Qf(){return this.N}j(){return this.Wa?this.Wa:this.Wa=this.N.sb.j()}Tc(){}Le(){}Gx(){this.Yh=null}Fe(){}mi(){}ni(){}oD(e){return typeof this.ql()===typeof e}jq(){}$n(){}iq(){}To(){return ic(this,()=>{const e=this.N.za;return this.N.je().ay(e)},()=>
{const e=this.N.za;return this.N.je().mo(e)}).Ch}rz(){const e=this.N.yb().Ga()-this.N.sb.jf();return ic(this,()=>{const a=this.N.za;return this.N.je().si(e,a)},()=>{const a=this.N.za,b=this.N.je(),d=b.AM(e,a);return d?d:b.mo(a)}).Ch}vz(){}Pe(){return this.ye.Ja()}ma(){return{firstAbsoluteUpdate:this.Pr,saveState:this.Yh}}ta(e){e&&(this.Pr=e.firstAbsoluteUpdate,this.Yh=e.saveState)}};
{"use strict";const e=self.C,a=new Map,b=[0,0,0];class d extends e.fb.lf{constructor(c){super(c)}Tc(){}Le(){}Fe(){const c=this.N.Wd(),g=kc(this),m=this.Pe();switch(c){case "behavior":return this.Qz(g.Fc(m));case "effect":return this.Qz(g[m]);case "plugin":return this.Qz(g.Fc(m));case "world-instance":return this.Qz(this.ql())}}mi(){const c=this.To();return!this.OP(c,this.ql())}ni(){return e.me(this.Yh)?!1:!this.OP(this.Yh,this.ql())}OP(c,g){return c.mm(g)}To(){const c=super.To();return this.wz(c)}rz(){const c=
super.rz();return this.wz(c)}vz(){}Qz(c){return e.Fm(c,e.hb)?c.toArray().slice(0,3):c.slice(0,3)}wz(c){return e.Fm(c,e.hb)?c:new e.hb(c[0],c[1],c[2],1)}oD(){return!0}Uj(){return!0}jq(){var c=this.N.yb(),g=this.N.Ea();const m=this.N.Lb();(c=c.ut(g,m,this.bd))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.N.Wd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.bd)||g.set(this.bd,{nW:!1,color:new e.hb(0,0,0,1)}))}GQ(c,g,m){c=a.get(c).get(g).get(m);c.nW=!0;return c.color}$n(c,g){var m=this.N.yb(),
h=this.N.sb;c=this.N.Ea();var k=this.N.Lb();const n=this.N.Wd();if((k=m.ut(c,k,this.bd))&&1<k.length){if(k=lc(k,!0),m=m.Ga(),m=mc(m,k))k=m.time-h.jf(),0===k?this.GQ(c,n,this.bd).bV(g[0],g[1],g[2]):0>k||(m=g[0],h=g[1],g=g[2],k=this.N.Ha(k,!1,!0),m=e.hb.yD(m,k[0]),h=e.hb.yD(h,k[1]),g=e.hb.yD(g,k[2]),this.GQ(c,n,this.bd).bV(m,h,g))}else this.hk(g[0],g[1],g[2])}iq(){const c=this.N.Ea();if(a.has(c)){var g=a.get(c),m=this.N.Wd();if(g.has(m)){var h=g.get(m);if(h.has(this.bd)){var k=h.get(this.bd),n=k.color;
k.nW&&this.hk(n.Za,n.bb,n.ab);0===h.size&&g.delete(m);0===g.size&&a.delete(c)}}}}ql(){const c=this.N.Wd(),g=kc(this),m=this.Pe();switch(c){case "behavior":return this.wz(g.Fc(m));case "effect":return g[m].clone();case "plugin":return this.wz(g.Fc(m));case "world-instance":return this.j().ib.clone()}}hk(c,g,m){const h=this.N.Wd(),k=kc(this),n=this.Pe();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=m;k.wh(n,b);break;case "effect":k[n].Rs(c,g,m);break;case "plugin":b[0]=c;b[1]=g;b[2]=m;k.wh(n,b);break;
case "world-instance":this.j().e5(c,g,m)}}ma(){}ta(){}}e.fb.lf.zX=d}
{"use strict";const e=self.C,a=e.fb;class b extends e.fb.lf{constructor(d){super(d)}Tc(){}Le(){}Fe(){return this.ql()}mi(){return this.To()!==this.Fe()}ni(){return e.me(this.Yh)?!1:this.Yh!==this.Fe()}Uj(){return!1}$n(d,c){const g=this.N,m=g.sb,h=g.Wd();var k=g.yb();const n=m.Ea(),p=g.Lb();(k=k.ut(n,p,this.bd))&&1<k.length&&(k=lc(k),d=mc(d+m.jf(),k))&&(c=d.value);switch(g.tt()){case "numeric":if(!a.Nt.nl(this.Pe(),kc(this),c,h))return;break;case "angle":if(!a.vx.nl(this.Pe(),kc(this),c,h))return;
break;case "boolean":if(!a.xx.nl(this.Pe(),kc(this),c,h))return;break;case "color":if(!a.Hx.nl(this.Pe(),kc(this),c,h))return;break;case "text":if(!a.hz.nl(this.Pe(),kc(this),c,h))return}this.hk(c)}ql(){const d=this.N.Wd(),c=kc(this),g=this.Pe();switch(d){case "behavior":return c.Fc(g);case "effect":return c[g];case "instance-variable":return c.He(g);case "plugin":return c.Fc(g)}}hk(d){const c=this.N.Wd(),g=kc(this),m=this.Pe();switch(c){case "behavior":g.wh(m,d);break;case "effect":g[m]=d;break;
case "instance-variable":g.Om(m,d);break;case "plugin":g.wh(m,d)}}}e.fb.lf.HN=b}
{"use strict";const e=self.C,a=new Map,b=(c,g,m,h,k)=>a.set(c,{lfa:g,Gda:m,qea:h,round:k});b("offsetX",(c,g)=>c.l2(g),(c,g)=>c.ag(g),c=>c.S(),!0);b("offsetY",(c,g)=>c.m2(g),(c,g)=>c.bg(g),c=>c.T(),!0);b("offsetWidth",(c,g)=>c.KN(g),(c,g)=>c.nf(g),c=>c.Y(),!0);b("offsetHeight",(c,g)=>c.JN(g),(c,g)=>c.Zf(g),c=>c.W(),!0);b("offsetAngle",(c,g)=>c.h2(g),(c,g)=>c.Ed(g),c=>c.Fa(),!1);b("offsetOpacity",(c,g,m,h)=>{m=c.Ie()+g;0===h.Kc?(1<m?h.Kc+=m-1:0>m&&(h.Kc+=m),c.i2(g)):(c=c.Ie()+g,0<g&&0<h.Kc?1<c&&(h.Kc+=
c-1):0<g&&0>h.Kc?(h.Kc+=g,0<h.Kc&&(h.Kc=0)):0>g&&0<h.Kc?(h.Kc+=g,0>h.Kc&&(h.Kc=0)):0>g&&0>h.Kc&&0>c&&(h.Kc+=c))},(c,g)=>{c.kl(g)},c=>c.Ie(),!1);b("offsetOriginX",(c,g)=>c.j2(g),(c,g)=>c.Xq(g),c=>c.Xk(),!1);b("offsetOriginY",(c,g)=>c.k2(g),(c,g)=>c.Yq(g),c=>c.Yk(),!1);b("offsetZElevation",(c,g)=>c.n2(g),(c,g)=>c.Ne(g),c=>c.Xa(),!0);b("offsetScaleX",(c,g,m)=>{const h=0>c.Y()?-1:1;c.KN(m.Jj()*h*g)},(c,g,m)=>{c.nf(m.Jj()*g)},(c,g)=>{const m=0>c.Y()?-1:1;if(c.po()){var h=c.Ia(),k=g.yb().UM(h.Ea());k?h=
h.Y()/k.Jj():(k=h.Ea().ra,h=k.yo()?h.Y()/k.Jj():1);return c.Y()*m/(g.Jj()*h)}return c.Y()*m/g.Jj()},!1);b("offsetScaleY",(c,g,m)=>{const h=0>c.W()?-1:1;c.JN(m.Ij()*h*g)},(c,g,m)=>{c.Zf(m.Ij()*g)},(c,g)=>{const m=0>c.W()?-1:1;if(c.oo()){var h=c.Ia(),k=g.yb().UM(h.Ea());k?h=h.W()/k.Ij():(k=h.Ea().ra,h=k.yo()?h.W()/k.Ij():1);return c.W()*m/(g.Ij()*h)}return c.W()*m/g.Ij()},!1);class d extends e.fb.lf{constructor(c){super(c);this.Kc=this.Yb=0;this.yU=this.AU=this.zU=this.tI=this.vI=this.uI=null;this.EJ=
!1;this.Dn=e.Fm(this.N.yb(),e.F5)?new e.fb.lf.g2(this):new e.fb.lf.f2(this);const g=this.N.za.bd;switch(this.N.Wd()){case "world-instance":c=a.get(g);this.uI=c.qea;this.vI=c.lfa;this.tI=c.Gda;this.EJ=c.round;break;case "audio":this.zU=c.ZM,this.AU=c.i5,this.yU=c.uW,this.EJ=!0}}B(){this.tI=this.vI=this.uI=this.Dn=null;super.B()}Uj(){return this.Dn.Uj()}RO(c){this.Yb=c}Tc(){const c=this.Dn.Tc();"number"===typeof c&&(this.Yb=c);this.Kc=0}Le(){const c=this.Dn.Le();"number"===typeof c&&(this.Yb=c)}Fe(){return this.ql()}mi(){return this.To()!==
this.Fe()}ni(){return e.me(this.Yh)?!1:this.Yh!==this.Fe()}jq(){this.Dn.jq()}$n(c,g,m,h,k,n,p){return this.Dn.$n(c,g,m,h,k,n,p)}iq(){this.Dn.iq()}ql(){const c=kc(this),g=this.Pe(),m=this.j(),h=this.N.sb;switch(this.N.Wd()){case "behavior":return c.Fc(g);case "effect":return c[g];case "instance-variable":return c.He(g);case "plugin":return c.Fc(g);case "world-instance":return this.uI(m,h);case "audio":return this.zU.call(this.Lb(),m,h)}}hk(c){const g=kc(this),m=this.Pe(),h=this.j(),k=this.N.sb;switch(this.N.Wd()){case "behavior":g.NE(m,
c);break;case "effect":g[m]+=c;break;case "instance-variable":g.F4(m,c);break;case "plugin":g.NE(m,c);break;case "world-instance":this.vI(h,c,k,this);break;case "audio":this.AU.call(this.Lb(),h,c,k,this)}}TR(c){const g=kc(this),m=this.Pe(),h=this.j(),k=this.N.sb;switch(this.N.Wd()){case "behavior":g.wh(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.Om(m,c);break;case "plugin":g.wh(m,c);break;case "world-instance":this.tI(h,c,k);break;case "audio":this.yU.call(this.Lb(),h,c,k)}}kr(c,
g,m,h,k,n){this.Dn.kr(c,g,m,h,k,n)}ol(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.ql();this.hk((0===c?this.EJ?Math.round(h):h:e.toFixed(h,c))-h,g,m)}ma(){return Object.assign(super.ma(),{v:this.Yb,a:this.Kc})}ta(c){c&&(super.ta(c),this.Yb=c.v,this.Kc=c.a)}}e.fb.lf.IN=d}
{"use strict";class e{constructor(b){this.lK=!1;this.Dc=0;this.eb=b;for(let d=0,c=this.eb.length;d<c;d++)this.eb[d].f4(this)}dP(){this.lK=!0}Me(b){this.Dc=b}ga(){return this.Dc}kd(){this.lK=!1;this.Dc=0}}class a{constructor(b){this.te=b}B(){this.te=null}Tc(){const b=this.te;this.te.Qf();return jc(b,()=>ic(b,()=>0,()=>b.Lb().XM()),()=>{})}Le(){}Uj(){switch(this.te.Qf().hf()){case "relative":return!1;case "absolute":return!0}}jq(){var b=this.te.Qf(),d=b.za.bd;switch(b.hf()){case "absolute":if(b.jE())b.Qu.kd();
else{const c=b.yb(),g=b.Ea();b=b.Lb();(d=c.ut(g,b,d))&&1<d.length&&new e(d)}}}$n(b,d,c,g,m,h){var k=this.te,n=this.te.Qf();switch(n.hf()){case "relative":n=k.Yb;k.hk(d-n,c,g);h&&this.kr(b,c,g,m,n,d);k.RO(d);break;case "absolute":if(c=n.yb(),b=n.sb,n.Ea(),n.Lb(),n.jE()){if(k=n.Qu,g=lc(k.eb,!0),c=c.Ga(),c=mc(c,g))b=c.time-b.jf(),0===b?(k.dP(),k.Me(k.ga()+d)):0>b||(n=n.Pf(b),k.dP(),k.Me(k.ga()+(d-n)))}else k.TR(d)}}iq(){const b=this.te;var d=this.te.Qf();switch(d.hf()){case "absolute":d.jE()&&(d=d.Qu,
d.lK&&b.TR(d.ga()))}}kr(b,d,c,g,m,h){const k=this.te;g||(d&&b===d.Ga()?k.ol(d.xc(),d,c):c&&b===c.Ga()?k.ol(c.xc(),d,c):0===h-m&&k.ol(d.xc(),d,c))}}self.C.fb.lf.f2=a}
{"use strict";class e{constructor(a){this.te=a}B(){this.te=null}Tc(){const a=this.te;a.Pr=!0;return this.vz(a.To())}Le(){const a=this.te;if(a.To()!==a.rz())return a.Pr=!0,this.vz(a.rz())}Uj(){return!1}jq(){}$n(a,b,d,c,g,m){const h=this.te,k=h.Yb;switch(h.Qf().hf()){case "relative":h.hk(b-k,d,c);m&&this.kr(a,d,c,g,k,b);break;case "absolute":h.Pr?(h.Pr=!1,h.hk(k,d,c)):(h.hk(b-k,d,c),m&&this.kr(a,d,c,g,k,b))}h.RO(b)}iq(){}vz(a){return a-this.te.Fe()}kr(a,b,d,c,g,m){const h=this.te;c?b&&a===b.Ga()?h.ol(b.xc(),
b,d):d&&a===d.Ga()?h.ol(d.xc(),b,d):d||h.ol(b.xc(),b,d):b&&a===b.Ga()?h.ol(b.xc(),b,d):d&&a===d.Ga()?h.ol(d.xc(),b,d):0===m-g&&h.ol(b.xc(),b,d)}}self.C.fb.lf.g2=e}
{"use strict";const e=self.C,a=self.Ys;e.fb.Nt=class{constructor(){}static nl(b,d,c,g){let m;switch(g){case "behavior":m=d.Fc(b);break;case "effect":m=d[b];break;case "instance-variable":m=d.He(b);break;case "plugin":m=d.Fc(b)}return m===c?!1:!0}static Ha(b,d,c,g){if(!c)return c=g.za,c=g.je().mo(c),c.xc();var m=g.vi();"default"===m&&(m="continuous");"combo"===g.ny()&&(m="discrete");if("discrete"===m)return d.xc();if("continuous"===m||"step"===m){"step"===m&&(m=g.yb().wt(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var h=d.Ga();const k=c.Ga();m=d.xc();const n=c.xc();if(m===n)return m;b=e.normalize(b,h,k);const p=d.xm();d=d.HD("cubic-bezier");c=c.HD("cubic-bezier");d&&d.zw&&c&&c.xA?(h=k-h,h=a.no(p)(h*b,0,1,h),h=a.no("cubicbezier")(h,m,m+d.QJ,n+c.RH,n)):h=a.no(p)((k-h)*b,m,n-m,k-h);return"integer"===g.ny()?Math.floor(h):h}}}}
{"use strict";const e=self.C;e.fb.vx=class{constructor(){}static nl(a,b,d,c){let g;switch(c){case "behavior":g=b.Fc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.He(a);break;case "plugin":g=b.Fc(a)}return g===d?!1:!0}static Ha(a,b,d,c){if(!d)return b=c.za,b=c.je().mo(b),b.xc();var g=c.vi();"default"===g&&(g="continuous");"combo"===c.ny()&&(g="discrete");if("discrete"===g)return b.xc();if("continuous"===g||"step"===g){"step"===g&&(c=c.yb().wt(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Ga(),h=d.Ga();c=b.xc();d=d.xc();if(g=b.HD("angle")){const k=g.DJ;if(c===d&&0===k)return c;a=e.normalize(a,m,h);b=self.Ys.no(b.xm())(a,0,1,1);switch(g.JH){case "closest":return e.uK(c,d,b,k);case "clockwise":return e.Nda(c,d,b,k);case "anti-clockwise":return e.Mda(c,d,b,k)}}else{if(c===d)return c;a=e.normalize(a,m,h);b=self.Ys.no(b.xm());return e.uK(c,d,b(a,0,1,1))}}}}}"use strict";
self.C.fb.xx=class{constructor(){}static nl(e,a,b,d){let c;switch(d){case "behavior":c=a.Fc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.He(e);break;case "plugin":c=a.Fc(e)}return!!c===!!b?!1:!0}static Ha(e,a,b,d){return b?a.xc()?1:0:(e=d.za,e=d.je().mo(e),e.xc()?1:0)}};
{"use strict";const e=self.C,a=[0,0,0],b=[0,0,0],d=[0,0,0];e.fb.Hx=class{constructor(){}static nl(c,g,m,h){let k;switch(h){case "behavior":k=g.Fc(c);break;case "effect":k=g[c];break;case "instance-variable":k=g.He(c);break;case "plugin":k=g.Fc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(d.MV(m),a[0]=Math.floor(255*d.Za),a[1]=Math.floor(255*d.bb),a[2]=Math.floor(255*d.ab));Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(d.MV(k),b[0]=Math.floor(255*d.Za),b[1]=Math.floor(255*d.bb),b[2]=Math.floor(255*
d.ab));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Ha(c,g,m,h){if(!m)return g=h.za,g=h.je().mo(g),g=g.xc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var k=h.vi();"default"===k&&(k="continuous");if("discrete"===k)return g=g.xc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===k||"step"===k){"step"===k&&(h=h.yb().wt(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Ga();k=m.Ga();var n=g.xc(),p=m.xc();const q=e.normalize(c,h,k);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.Ys.no(g.xm());h=k-h;
k=h*q;a[0]=c===u?c:g(k,c,u-c,h);a[1]=m===w?m:g(k,m,w-m,h);a[2]=n===p?n:g(k,n,p-n,h);return a}}}}"use strict";self.C.fb.hz=class{constructor(){}static nl(e,a,b,d){let c;switch(d){case "behavior":c=a.Fc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.He(e);break;case "plugin":c=a.Fc(e)}return c===b?!1:!0}static Ha(e,a,b,d){return b?a.xc():(e=d.za,e=d.je().mo(e),e.xc())}};
{"use strict";const e=self.C;e.Hg=class{constructor(){this.Gw=new Map}B(){for(const a of this.Gw.values())a.B();this.Gw.clear();this.Gw=null}Ec(a){a=new e.y5(a);this.Gw.set(a.Ca(),a)}ea(a){return this.Gw.get(a)}static nu(a,b,d,c){if(b)for(const g of b)e.Hg.QP("create",g,a,d,c)}static yu(a,b,d,c){a.length?b.forEach((g,m)=>{a[m].ta(g)}):b.forEach(g=>{e.Hg.QP("load",g,a,d,c)})}static QP(a,b,d,c,g){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.QV]),a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}switch(a){case "load":m.ta(b);d.push(m);break;case "create":"function"!==typeof m.Vk||m.Vk()?d.push(m):m.B()}}}}
{"use strict";const e=self.C;e.y5=class{constructor(a){this.La="";this.ws=NaN;this.lC=0;this.lg=this.jg="default";this.OB=this.AB=!1;this.ms=1;this.Ze=null;a&&(this.La=a[0],this.ws=a[1],this.lC=a[2],this.jg=a[3],this.lg=a[4],this.AB=!!a[6],this.OB=!!a[7],this.ms=a[8],this.Ze=new e.jP(a[5],this))}B(){this.Ze.B();this.Ze=null}zt(){this.Ze||(this.Ze=new e.jP(null,this));return this.Ze}Ca(){return this.La}ez(a){this.La=a}Uf(){return this.ws}wt(){return this.lC}vi(){return this.jg}hf(){return this.lg}hy(){return this.AB}ly(){return this.OB}th(){return this.ms}ma(){return{trackDataJson:this.Ze.ma(),
name:this.La,totalTime:this.ws,step:this.lC,interpolationMode:this.jg,resultMode:this.lg,loop:this.AB,pingPong:this.OB,repeatCount:this.ms}}ta(a){a&&(this.zt().ta(a.trackDataJson),this.La=a.name,this.ws=a.totalTime,this.lC=a.step,this.jg=a.interpolationMode,this.lg=a.resultMode,this.AB=a.loop,this.OB=a.pingPong,this.ms=a.repeatCount)}}}
{"use strict";const e=self.C;class a{constructor(b,d){this.Ze=d;this.Vm=this.UA=null;this.Ul=this.Il=NaN;this.lg=this.jg="default";this.Pg=!1;this.sc=this.Rh=null;this.Ue="";this.bs=null;this.RJ=0;this.yB=this.Ze.Sd.Uf();this.Ba=0;this.La="";b&&(b[0]&&(this.UA=b[0],this.Il=b[0][2],this.Ul=b[0][1]),this.jg=b[1],this.lg=b[2],this.Pg=!!b[3],b[6]&&(this.Ue=b[6]),b[7]&&(this.bs=b[7],this.RJ=b[7][0],this.yB=b[7][1]),b[8]&&(this.Vm=b[8]),b[8]&&(this.Vm=b[8]),b[9]&&(this.Ba=b[9]),b[10]&&(this.La=b[10]),this.Rh=
new e.uN(b[4],this),this.sc=new e.aO(b[5],this))}B(){this.Ze=this.UA=null;this.Rh&&(this.Rh.B(),this.Rh=null);this.sc&&(this.sc.B(),this.sc=null);this.bs=null}zt(){return this.Ze}Hj(){this.Rh||(this.Rh=new e.uN(null,this));return this.Rh}je(){this.sc||(this.sc=new e.aO(null,this));return this.sc}bE(){return this.Ul}pt(){return this.Il}vi(){return this.jg}hf(){return this.lg}Vk(){return this.Pg}jl(b){this.Pg=!!b}Gj(){return this.Ue}jf(){return this.RJ}Wk(){return this.yB}Jj(){return this.Vm[0]}Ij(){this.Vm||
(this.Vm=[]);return this.Vm[1]}Pj(){return this.Ba}Ca(){return this.La}ma(){return{keyframeDataJson:this.Rh.ma(),propertyTrackDataJson:this.sc.ma(),instanceData:this.UA,additionalInstanceData:this.Vm,instanceUid:this.Il,objectClassIndex:this.Ul,interpolationMode:this.jg,resultMode:this.lg,enabled:this.Pg,id:this.Ue,nestedData:this.bs,type:this.Ba,name:this.La}}ta(b){b&&(this.UA=b.instanceData,this.Il=b.instanceUid,this.Ul=b.objectClassIndex,this.jg=b.interpolationMode,this.lg=b.resultMode,this.Pg=
b.enabled,this.Ue=b.id,this.Ba=b.type?b.type:0,this.La=b.name?b.name:"",this.yB=this.Ze.Sd.Uf(),b.nestedData&&(this.bs=b.nestedData,this.RJ=this.bs[0],this.yB=this.bs[1]),b.additionalInstanceData&&(this.Vm=b.additionalInstanceData),this.Hj().ta(b.keyframeDataJson),this.je().ta(b.propertyTrackDataJson))}}e.jP=class{constructor(b,d){this.Sd=d;this.aq=[];e.Hg.nu(this.aq,b,a,this)}B(){this.Sd=null;for(const b of this.aq)b.B();e.F(this.aq);this.aq=null}p_(b,d){d=d.Hj().rc;const c=d.length;for(let g=0;g<
c;g++){const m=d[g];if(m.Ga()===b)return m}}zM(b,d){d=d.Hj().rc;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.Ga()<=b)return g}}*gW(){for(const b of this.aq)yield b}ma(){return{trackDataItemsJson:this.aq.map(b=>b.ma())}}ta(b){b&&e.Hg.yu(this.aq,b.trackDataItemsJson,a,this)}}}
{"use strict";const e=self.C;class a{constructor(b,d){this.sc=d;this.dC="";this.Ba=this.bd=this.ng=null;this.eJ=this.iJ=NaN;this.lg=this.jg="default";this.Pg=!1;this.mj=null;this.hA=!0;b&&(this.dC=b[0][0],this.ng=b[0].slice(1),this.bd=b[1],this.Ba=b[2],this.iJ=b[3],this.eJ=b[4],this.jg=b[5],this.lg=b[6],this.Pg=!!b[7],this.mj=new e.$N(b[8],this),this.hA=b[9])}B(){this.mj.B();this.ng=this.sc=this.mj=null}je(){return this.sc}rh(){this.mj||(this.mj=new e.$N(null,this));return this.mj}Wd(){return this.dC}Pj(){return this.Ba}bP(b){this.Ba=
b}vi(){return this.jg}hf(){return this.lg}Vk(){return this.Pg}jl(b){this.Pg=!!b}pD(){return!!this.hA}ma(){return{propertyKeyframeDataJson:this.mj.ma(),sourceAdapterId:this.dC,sourceAdapterArguments:this.ng,property:this.bd,type:this.Ba,min:this.iJ,max:this.eJ,interpolationMode:this.jg,resultMode:this.lg,enabled:this.Pg,canHavePropertyKeyframes:this.hA}}ta(b){b&&(this.dC=b.sourceAdapterId,this.ng=b.sourceAdapterArguments,this.bd=b.property,this.Ba=b.type,this.iJ=b.min,this.eJ=b.max,this.jg=b.interpolationMode,
this.lg=b.resultMode,this.Pg=b.enabled,this.hA=b.canHavePropertyKeyframes,this.rh().ta(b.propertyKeyframeDataJson))}}e.aO=class{constructor(b,d){this.Ob=d;this.Pp=[];e.Hg.nu(this.Pp,b,a,this)}B(){this.Ob=null;for(const b of this.Pp)b.B();e.F(this.Pp);this.Pp=null}ay(b){return b.rh().Sb[0]}mo(b){return b.rh().Sb.he(-1)}G_(b,d){d=d.rh().Sb;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.Ga()===b)return m}}AM(b,d){d=d.rh().Sb;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.Ga()>=b)return m}}si(b,
d){d=d.rh().Sb;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.Ga()<=b)return g}}*RV(){for(const b of this.Pp)yield b}ma(){return{propertyTrackDataItemsJson:this.Pp.map(b=>b.ma())}}ta(b){b&&e.Hg.yu(this.Pp,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const e=self.C;class a{constructor(b,d){this.Rh=d;this.hc=-1;this.Xi="noease";this.Yi=!1;this.Zv=this.ah=null;b&&(this.hc=b[0],this.Xi=b[1],this.Yi=!!b[2],this.ah=(b=b[3])?b.split(" "):[],this.Zv=new Set(this.ah.map(c=>c.toLowerCase())),this.We=null)}B(){this.Rh=null;e.F(this.ah);this.ah=null;this.Zv.clear();this.Zv=null}Hj(){return this.Rh}au(b){this.We=b}Ga(){return this.hc}cr(b){this.hc=b;this.Rh.wu()}xm(){return this.Xi}Yj(b){this.Xi=b}Vk(){return this.Yi}jl(b){this.Yi=!!b}$O(b){this.ah=
b?b.split(" "):[];this.Zv=new Set(this.ah.map(d=>d.toLowerCase()))}ma(){return{time:this.hc,ease:this.Xi,enable:this.Yi,tags:this.ah}}ta(b){b&&(this.hc=b.time,this.Xi=b.ease,this.Yi=b.enable,this.ah=b.tags,this.Zv=new Set(this.ah.map(d=>d.toLowerCase())))}}e.uN=class{constructor(b,d){this.Ob=d;this.rc=[];e.Hg.nu(this.rc,b,a,this);this.wu()}B(){this.Ob=null;for(const b of this.rc)b.B();e.F(this.rc);this.rc=null}wu(){this.rc.sort((b,d)=>b.Ga()-d.Ga());for(let b=0;b<this.rc.length;b++)this.rc[b].au(this.rc[b+
1])}AW(){const b=new a(null,this);this.rc.push(b);this.wu();return b}ZX(b){for(const d of this.rc){if(!b(d))continue;const c=this.rc.indexOf(d);-1!==c&&(d.B(),this.rc.splice(c,1))}this.o5();this.wu()}o5(){this.rc.sort((b,d)=>b.Ga()-d.Ga())}r_(b){return this.rc.indexOf(b)}q_(b){return this.rc[b]}ma(){return{keyframeDataItemsJson:this.rc.map(b=>b.ma())}}ta(b){b&&(e.Hg.yu(this.rc,b.keyframeDataItemsJson,a,this),this.wu())}}}
{"use strict";const e=self.C;class a{constructor(b,d){this.mj=d;this.Ch=this.Dc=null;this.Ba="";this.hc=NaN;this.Xi="noease";this.Yi=!1;this.Pi=null;this.ul=void 0;b&&(this.Dc=b[0][0],this.Ch=b[0][1],this.Ba=b[0][2],this.hc=b[1],this.Xi=b[2],this.Yi=!!b[3],this.Pi=null,b[4]&&(this.Pi=new e.MW(b[4],this)),this.We=null)}B(){this.mj=null;this.Pi&&(this.Pi.B(),this.Pi=null)}au(b){this.We=b}ga(){return this.Dc}Me(b){"color"===this.Ba&&e.Em(b)?(this.Dc[0]=e.eE(b),this.Dc[1]=e.ZD(b),this.Dc[2]=e.JD(b)):
this.Dc=b}yO(b){"color"===this.Ba&&e.Em(b)?(this.Ch[0]=e.eE(b),this.Ch[1]=e.ZD(b),this.Ch[2]=e.JD(b)):this.Ch=b}xc(){const b=this.mj.za.hf();if("relative"===b)return this.ga();if("absolute"===b)return this.Ch}Pj(){return this.Ba}bP(b){this.Ba=b}Ga(){return this.hc}cr(b){this.hc=b;this.mj.xu()}xm(){return this.Xi}Yj(b){this.Xi=b}Vk(){return this.Yi}jl(b){this.Yi=!!b}HD(b){if(this.Pi){if(this.ul||null===this.ul)return this.ul;var d=this.Pi.Zo;if(!d)return this.ul=null;var c=d.length;for(let g=0;g<c;g++){const m=
d[g];if(m.Gj()===b)return this.ul=m}return this.ul=null}}ma(){const b=this.Pi;return{addonDataJson:b?b.ma():b,value:this.Dc,aValue:this.Ch,type:this.Ba,time:this.hc,ease:this.Xi,enable:this.Yi}}ta(b){b&&(b.addonDataJson&&this.Pi.Noa(b.addonDataJson),this.Dc=b.value,this.Ch=b.aValue,this.Ba=b.type,this.hc=b.time,this.Xi=b.ease,this.Yi=b.enable)}}e.$N=class{constructor(b,d){this.za=d;this.Sb=[];e.Hg.nu(this.Sb,b,a,this);this.xu()}B(){this.za=null;for(const b of this.Sb)b.B();e.F(this.Sb);this.Sb=null}xu(){this.Sb.sort((b,
d)=>b.Ga()-d.Ga());for(let b=0;b<this.Sb.length;b++)this.Sb[b].au(this.Sb[b+1])}yL(){const b=new a(null,this);this.Sb.push(b);this.xu();return b}cM(b){for(const d of this.Sb){if(!b(d))continue;const c=this.Sb.indexOf(d);-1!==c&&(d.B(),this.Sb.splice(c,1))}this.p5();this.xu()}p5(){this.Sb.sort((b,d)=>b.Ga()-d.Ga())}ma(){return{propertyKeyframeDataItemsJson:this.Sb.map(b=>b.ma())}}ta(b){b&&(e.Hg.yu(this.Sb,b.propertyKeyframeDataItemsJson,a,this),this.xu())}}}
{"use strict";const e=self.C;class a{constructor(c,g){this.Pi=g;this.Ue=c[0];this.Cl=c[1]}B(){this.Cl=this.Pi=null}Gj(){return this.Ue}ma(){return{id:this.Ue,data:this.Cl}}ta(c){c&&(this.Ue=c.id,this.Cl=c.data)}}class b extends a{constructor(c,g){super(c,g);this.QJ=this.Cl[0];this.zw=!!this.Cl[1];this.RH=this.Cl[2];this.xA=!!this.Cl[3]}B(){super.B()}ma(){return Object.assign(super.ma(),{startAnchor:this.QJ,startEnable:!!this.zw,endAnchor:this.RH,endEnable:!!this.xA})}ta(c){c&&(super.ta(c),this.QJ=
c.startAnchor,this.zw=!!c.startEnable,this.RH=c.endAnchor,this.xA=!!c.endEnable)}}class d extends a{constructor(c,g){super(c,g);this.JH=this.Cl[0];this.DJ=this.Cl[1]}B(){super.B()}ma(){return Object.assign(super.ma(),{direction:this.JH,revolutions:this.DJ})}ta(c){c&&(super.ta(c),this.JH=c.direction,this.DJ=c.revolutions)}}e.MW=class{constructor(c){this.Zo=[];e.Hg.nu(this.Zo,c,{QV:0,map:new Map([["cubic-bezier",b],["angle",d]])},this)}B(){for(const c of this.Zo)c.B();e.F(this.Zo);this.Zo=null}ma(){return{addonDataItemsJson:this.Zo.map(c=>
c.ma())}}ta(c){c&&e.Hg.yu(this.Zo,c.addonDataItemsJson,{QV:"id",map:new Map([["cubic-bezier",b],["angle",d]])},this)}}}
{"use strict";const e=self.C;let a=0;e.F5=class extends e.Po{constructor(b,d){super(`tween-${a++}`,b,d);this.Ue="";this.AS=!1;this.pI="start-value";this.sb=this.$T=this.ZT=this.qc=null}YL(){for(const b of this.Sd.zt().gW())this.mb.push(e.oP.Sa(this,b));this.sb=this.mb[0]}Qf(){return this.sb.eb[0]}Ea(){var b=this.mb;if(b&&b.length&&(this.sb=b=b[0])){var d=b.Ea();return b.Gm()?d:void 0}}Gj(){return this.Ue}SN(){if(this.$T)for(const b of this.$T)b(this);if(!this.fg)for(const b of this.mb)b.ni()}OE(){this.xr=
this.g.Ak}lM(){if(!this.qp&&(this.qp=!0,this.ZT))for(const b of this.ZT)b(this)}cr(b){this.UP();super.cr(b)}Tc(b){if(!this.hn&&"current-state"===this.pI)for(const d of this.mb)d.mi();super.Tc(b)}pf(b=!1){super.pf(b);if(!this.fg)for(const d of this.mb)d.Io()}kd(b=!0,d=!1){this.UP();super.kd(b,d)}UP(){for(const b of this.mb){const d=c=>{c=c.Ga();const g=this.Uf();return 0!==c&&c!==g};b.$X(d);b.Ox(d)}}Eu(){if(this.Zg)return!0;const b=this.Ea();if(b&&b.I().Wf())return!1;this.Ib.NL(this);this.oO();return!0}qf(b,
d,c){this.qc||(this.qc=this.Ea());if(this.qc&&!this.qc.Ft()&&(d=this.qc.fe,-1!==d&&(b=c*d),0!==b||0!==this.qB)){this.qB=b;c=this.fc+b*this.ad;b=this.Sd.ws;this.fc=0>c?0:c>=b?b:c;c=!1;d=this.hy();var g=this.ly();d||g?d&&!g?0<this.ad?this.fc>=b&&this.yc(0):0>=this.fc&&this.yc(b):!d&&g?0<this.ad?this.fc>=b&&(this.yc(b),this.Zj(-1*this.ad),1===this.Qd?this.Ld<this.th()?(this.Ld++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):0>=this.fc&&(this.yc(0),this.Zj(-1*this.ad),1===this.Qd?this.Ld<this.th()?(this.Ld++,
this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):d&&g&&(0<this.ad?this.fc>=b&&(this.yc(b),this.Zj(-1*this.ad)):0>=this.fc&&(this.yc(0),this.Zj(-1*this.ad))):0<this.ad?this.fc>=b&&(this.Ld<this.th()?(this.Ld++,this.yc(0)):(this.yc(b),c=!0)):0>=this.fc&&(this.Ld<this.th()?(this.Ld++,this.yc(b)):(this.yc(0),c=!0));c?(this.sb.HO(),this.pf(!0),this.OE()):(this.sb.Ha(this.fc,!0,!1,!1,this.Te,!1),this.Te&&(this.Te=!1))}}ma(){const b=super.ma();return Object.assign(b,{tweenDataItemJson:this.Sd.ma(),id:this.Ue,destroyInstanceOnComplete:this.AS,
initialValueMode:this.pI})}ta(b){b&&(this.Sd.ta(b.tweenDataItemJson),super.ta(b),this.Ue=b.id,this.AS=b.destroyInstanceOnComplete,this.pI=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const e=self.C;e.oP=class extends e.GF{constructor(a,b){super(a,b);this.HJ=this.uv=null}static Sa(a,b){return e.A(e.oP,a,b)}HP(){1===this.eb.length?this.uv=this.eb[0]:(this.uv=this.eb[0],this.HJ=this.eb[1])}XL(){for(const a of this.Ob.je().RV())this.eb.push(e.nP.Sa(this,a));this.HP()}Zn(){}Ha(a,b,d=!1,c=!1,g,m=!1){this.qc||this.Ea();if(this.qc){if(this.qc.Ft()||m&&this.I().Wf())return!1;this.HJ?(this.uv.Ha(a,d,c),this.HJ.Ha(a,d,c)):this.uv.Ha(a,d,c);0!==this.uv.Hk&&(this.Wa||(this.Wa=
this.qc.j()),this.Wa&&this.Wa.Va())}}Yn(){}ta(a){super.ta(a);this.HP()}}}
{"use strict";const e=self.C;e.nP=class extends e.fb{constructor(a,b){super(a,b);this.Xu=!1}static Sa(a,b){return e.A(e.nP,a,b)}Ha(a,b=!1,d=!1){if(this.Xu){var c=this.Sb[0];var g=this.Sb[1]}else{if(b)c=this.sc.si(a,this.za);else{if(this.Lc){g=this.yb();const m=this.Lc.We;c=this.Lc.Ga();g=m?m.Ga():g.Uf();if(a<=c||a>=g)this.Lc=this.sc.si(a,this.za)}else this.Lc=this.sc.si(a,this.za);c=this.Lc}g=c.We}this.ye.Ha(a,c,g,b,d)}zL(){const a=this.za.rh().yL();this.Lc=null;this.Xu=2>=this.my().length;return a}Ox(a){this.Lc=
null;this.za.rh().cM(a);this.Xu=2>=this.my().length}ma(){return{sourceAdapterJson:this.Lb().ma(),basic:this.Xu}}ta(a){a&&(this.Lb().ta(a.sourceAdapterJson),this.Xu=a.basic)}}}
{"use strict";const e=self.C,a=self.Ys;e.lP=class extends e.ka{constructor(b){super();this.La=b[0];this.og=[];for(var d of b[1])b=e.mP.Sa(this,d),this.og.push(b);for(d=0;d<this.og.length;d++)this.og[d].au(this.og[d+1]);this.lw=new Map;this.NU=new Map;this.F$();a.yW(this.La,(c,g,m,h)=>this.Ha(c,g,m,h))}static Sa(b){return e.A(e.lP,b)}B(){for(const b of this.og)b.B();e.F(this.og);this.og=null;this.lw.clear();this.lw=null;this.NU.clear();this.NU=null}d_(b){for(let d=this.og.length-1;0<=d;d--){const c=
this.og[d];if(c.pg<b)return c}}c_(b){for(let d=this.og.length-1;0<=d;d--){const c=this.og[d];if(c.pg<=b)return c}}Ha(b,d,c,g){var m=b/g;b=this.c_(m);g=b.We;g||(b=this.d_(m),g=b.We);m=e.Mea(m,b.pg,g.pg,g.pg-b.pg);const h=b.pg,k=b.Nw,n=b.pg+b.EU,p=b.Nw+b.yda,q=g.pg+g.GS,u=g.Nw+g.Jca,w=g.pg;g=g.Nw;g=a.no("spline")(m,h,k,n,p,q,u,w,g,this.lw.get(b));g+=b.Nw;return(1-g)*d+g*(d+c)}F$(){this.lw.clear();for(let d=0;d<this.og.length-1;d++){var b=this.og[d];if(!b.zw)continue;const c=this.og[d+1];this.lw.set(b,
a.HZ(b.pg,b.pg+b.EU,c.pg+c.GS,c.pg))}}}}{"use strict";const e=self.C;e.mP=class extends e.ka{constructor(a,b){super();this.pg=b[0];this.Nw=b[1];this.EU=b[2];this.yda=b[3];this.GS=b[4];this.Jca=b[5];this.zw=b[6];this.xA=b[7];this.We=null}B(){}static Sa(a,b){return e.A(e.mP,a,b)}au(a){this.We=a}}}{"use strict";const e=self.C;e.D5=class extends e.ka{constructor(a){super();this.g=a;this.pC=[]}B(){for(const a of this.pC)a.B();e.F(this.pC);this.pC=null}Sa(a){this.pC.push(e.lP.Sa(a))}}}
{"use strict";const e=self.C;e.n5=class extends e.ka{constructor(a){super();this.M=a;this.lb=[];this.lb.push(e.A(e.wF,this));this.Ra=0;this.Vi=this.lb[0]}B(){for(const a of this.lb)a.B();e.F(this.lb);this.M=this.Vi=null}I(){return this.M}U(){return this.Vi}yd(){this.U().yd()}q3(){var a=this.lb,b=++this.Ra;b===a.length?(b=e.A(e.wF,this),a.push(b),this.Vi=b):(a=a[b],a.kd(),this.Vi=a)}r3(){const a=this.lb,b=++this.Ra;b===a.length&&a.push(e.A(e.wF,this));const d=a[b];d.GX(a[b-1]);this.Vi=d}Pa(){this.Vi=
this.lb[--this.Ra]}Go(a){const b=this.lb;for(let d=0,c=b.length;d<c;++d)b[d].Go(a)}}}
{"use strict";const e=self.C;e.wF=class extends e.ka{constructor(a){super();this.lb=a;this.M=this.lb.I();this.Nd=this.M.J().jd();this.$b=!0;this.H=[];this.ec=[]}B(){this.Ex();this.Nd=this.M=this.lb=null}Ex(){e.F(this.H);e.F(this.ec)}I(){return this.M}lE(){return this.$b?!!this.M.H.length:!!this.H.length}la(){return this.$b?this.M.la():this.H}V_(){return!!this.ec.length}VD(){const a=this.la();return a.length?a:this.ec}kd(){this.$b=!0;e.F(this.ec)}yd(){this.$b=!0}GX(a){a.$b?this.kd():(this.$b=!1,e.Pc(this.H,
a.H),e.F(this.ec))}Vo(a){this.H.push(a)}sl(a){this.ec.push(a)}ne(a){this.$b=!!a}$j(a){this.$b=!1;e.F(this.H);this.H.push(a)}Vt(a){this.$b=!1;e.Pc(this.H,a)}du(a){this.$b=!1;e.F(this.H);for(const b of a)this.H.push(b)}xL(a,b){for(const d of b)a.has(d)||this.ec.push(d)}B5(a){for(const b of a)this.H.push(b);e.tg(this.ec,a)}Km(a){a&&(this.Nd.ff().Kb().Pd?(this.$b&&(e.F(this.H),e.Pc(this.ec,a.I().la()),this.$b=!1),a=this.ec.indexOf(a),-1!==a&&(this.H.push(this.ec[a]),this.ec.splice(a,1))):this.$j(a))}Go(a){e.tg(this.H,
a);e.tg(this.ec,a)}}}
{"use strict";const e=self.C;e.oZ=class extends e.ka{constructor(a){super();this.ya=a;this.g=this.ya.J();this.lb=[];this.lb.push(e.A(e.iM,this,null));this.Ra=0;this.zA=[]}B(){for(const a of this.lb)a.B();e.F(this.lb);e.F(this.zA);this.g=this.ya=null}qa(){return this.ya}J(){return this.g}ff(){return this.lb[this.Ra]}Ta(a){var b=this.lb;const d=++this.Ra;if(d===b.length)return a=e.A(e.iM,this,a),b.push(a),a;b=b[d];b.kd(a);return b}Pa(){--this.Ra}s3(a){this.zA.push(a)}h3(){this.zA.pop()}OZ(){const a=this.zA;
return 0===a.length?null:a.he(-1)}}}
{"use strict";const e=self.C;e.iM=class extends e.ka{constructor(a,b){super();this.lb=a;this.g=this.lb.J();this.lv=b;this.dg=this.Al=0;this.QH=this.Ep=!1;this.VH=null;this.cI=this.SS=0}B(){this.kd(null);this.g=this.lb=null}kd(a){this.lv=a;this.dg=this.Al=0;this.QH=this.Ep=!1}BG(a,b){this.lv=a;this.Al=0;this.dg=b}pO(){this.dg=this.Al=0}Kb(){return this.lv}Dg(a){this.lv=a}Nm(a){this.Al=a}Wy(a){this.dg=a}Pm(a){this.Ep=!!a}Uq(a){this.QH=!!a}v4(a){this.VH=a}A0(a,b){this.SS=a;this.cI=b}bz(a){this.cI=a}Sj(){const a=
this.lv;return a.kB?!0:this.Al<a.dc.length-1?!!a.zd().length:!1}}}{"use strict";const e=self.C;e.R1=class extends e.ka{constructor(a){super();this.ya=a;this.g=this.ya.J();this.lb=[];this.Ra=-1;this.Vi=null;this.SA=[]}B(){e.F(this.lb);this.g=this.ya=null}jba(a){this.SA=a;a=this.SA.slice(0);this.lb.push(a);this.Ra=0;this.Vi=a}qa(){return this.ya}J(){return this.g}rq(){return this.Vi}Ta(){const a=++this.Ra,b=this.lb;a===b.length?b.push(this.SA.slice(0)):e.Pc(b[a],this.SA);this.Vi=b[a]}Pa(){this.Vi=this.lb[--this.Ra]}}}
{"use strict";const e=self.C;e.T1=class extends e.ka{constructor(a){super();this.ya=a;this.g=this.ya.J();this.lb=[];this.Ra=-1}B(){e.F(this.lb);this.g=this.ya=null}qa(){return this.ya}J(){return this.g}oN(){return 0<=this.Ra}rq(){return this.lb[this.Ra]}Ta(){++this.Ra;if(this.Ra===this.lb.length){var a=e.A(e.S1,this);this.lb.push(a);return a}a=this.lb[this.Ra];a.kd();return a}Pa(){--this.Ra}tZ(a){const b=this.lb;for(let d=this.Ra;0<=d;--d){const c=b[d];if(c.Ca()===a)return c}return null}}}
{"use strict";const e=self.C;e.S1=class extends e.ka{constructor(a){super();this.zf=a;this.La="";this.Ra=0;this.zc=!1}kd(){this.La="";this.Ra=0;this.zc=!1}ez(a){this.La=a}Ca(){return this.La}Hc(a){this.Ra=a}Ja(){return this.Ra}pf(){this.zc=!0}}}{"use strict";const e=self.C;e.TW=class extends e.ka{constructor(){super();this.lb=[];this.Ra=-1}B(){e.F(this.lb)}rq(){return this.lb[this.Ra]}Ta(){++this.Ra;if(this.Ra===this.lb.length){const a=[];this.lb.push(a);return a}return this.lb[this.Ra]}Pa(){--this.Ra}}}
{"use strict";const e=self.C;function a(b,d){return b.Ja()-d.Ja()}e.nZ=class extends e.ka{constructor(b){super();this.g=b;this.Ru=[];this.IJ=new Map;this.fH=[];this.WS=new Map;this.vH=new Map;this.CH=new Map;this.Uz=new Map;this.iS=new Map;this.TH=new Map;this.lda=0;this.eH=[];this.hca=[];this.OT=[];this.aI=new Map;this.Nd=e.A(e.oZ,this);this.vd=e.A(e.R1,this);this.zf=e.A(e.T1,this);this.aK=[];this.VB=[];this.UB=[];this.uH=this.Fl=this.am=0;this.mg=[];this.aA=[];self.c3_callFunction=(d,c)=>this.Bz(d,
c)}B(){this.Dx();this.Nd.B();this.Nd=null;this.vd.B();this.vd=null;e.F(this.VB);e.F(this.UB);this.g=null;e.F(this.Ru);this.IJ.clear()}Sa(b){b=e.A(e.mZ,this,b);this.Ru.push(b);this.IJ.set(b.Ca().toLowerCase(),b)}q6(b){this.aK.push(b)}Qb(){for(const b of this.aI.values())b.Qb(!1);for(const b of this.Ru)b.Qb();for(const b of this.Ru)b.SG();for(const b of this.aK)b.Qb(!1);e.F(this.aK);this.vd.jba(this.OT)}J(){return this.g}yM(b){return this.IJ.get(b.toLowerCase())||null}S$(b){this.fH.push(b);this.WS.set(b.VS,
b)}P$(b){this.vH.set(b.kb,b)}O$(b){this.CH.set(b.kb,b)}N$(b){this.Uz.set(b.kb,b)}R$(b){this.aI.set(b.JA.toLowerCase(),b)}Q$(b){this.TH.set(b.kb,b);b.Wf()?this.eH.push(b):this.hca.push(b)}sz(b){2<=b.length&&b.sort(a);let d=this.iS.get(b.length);d||(d=[],this.iS.set(b.length,d));for(let g=0,m=d.length;g<m;++g){const h=d[g];a:{for(let k=0,n=b.length;k<n;++k)if(b[k]!==h[k]){var c=!1;break a}c=!0}if(c)return h}d.push(b);return b}w8(b){this.OT.push(b.vp);return this.lda++}jd(){return this.Nd}ef(){return this.jd().ff()}Kb(){return this.ef().Kb()}Nf(){const b=
this.ef();return b.Kb().tM(b.Al)}kt(){const b=this.ef();return b.Kb().pM(b.dg)}DZ(b){const d=[];for(b=b.xq();b;)e.On(d,b.lQ()),b=b.xq();return d}xQ(b){const d={};for(const c of this.DZ(b))d[c.wi()]=c.BQ();return Object.create(Object.prototype,d)}UD(b){return this.TH.get(b)||null}TZ(b){return this.vH.get(b)||null}BZ(b){return this.Uz.get(b)||null}cy(b){return this.aI.get(b.toLowerCase())||null}M3(){for(const b of this.eH)b.S3()}xM(b){return this.WS.get(b.toLowerCase())||null}UZ(b){return(b=this.vH.get(b))&&
b.gj?b:null}N3(){for(const b of this.fH)b.P3()}vR(){for(const b of this.Ru)b.gaa()}X3(b){this.vR();this.am++;for(const d of b.nx())if(b=d.$c)this.g.Qt(d),b.wa(),this.g.Pt();this.am--}async UX(b){this.vR();this.am++;for(const d of this.n7(b))await this.g.oq(d);this.am--}*n7(b){for(const d of b.nx())if(b=d.$c)this.g.Qt(d),yield*b.nb(),this.g.Pt()}Ou(b,d,c,g){let m=!1;if(!b.Vb())return this.UE(d,c,g);this.Fl++;for(const h of b.nx())if(b=h.$c){this.g.Qt(h);for(const k of b.qA){const n=k.Ou(d,c,g);m=m||
n}b=b.Ou(d,c,g);m=m||b;this.g.Pt()}this.Fl--;return m}*pu(b,d,c,g){let m=!1;if(!b.Vb())return this.UE(d,c,g);this.Fl++;for(const h of b.nx())if(b=h.$c){this.g.Qt(h);for(const k of b.qA){const n=yield*k.pu(d,c,g);m=m||n}b=yield*b.pu(d,c,g);m=m||b;this.g.Pt()}this.Fl--;return m}UE(b,d,c){this.VB.push([b,d,c]);return!1}v3(b,d,c){let g=null;const m=new Promise(h=>g=h);this.UB.push([b,d,c,g]);return m}*qaa(){if(this.g.Dt())throw Error("should not be in breakpoint");const b=this.g.gb;for(;this.UB.length;){const [d,
c,g,m]=this.UB.shift(),h=yield*this.pu(b,d,c,g);m(h)}}async rO(){for(const b of this.qaa())await this.g.oq(b)}EE(){return 0<this.Fl}uu(){return++this.Fl}qu(){--this.Fl}v1(){return 0<this.am}Gy(){return this.v1()||this.EE()}raa(b){for(const [d,c,g]of this.VB)this.Ou(b,d,c,g);e.F(this.VB)}Ce(b){b?this.uH++:this.uH--}nN(){return 0<this.uH}mq(b){for(let d=0,c=b.length;d<c;++d)b[d].yn.yd()}Bg(b){for(let d=0,c=b.length;d<c;++d)b[d].yn.q3()}Ke(b){for(let d=0,c=b.length;d<c;++d)b[d].yn.r3()}Pb(b){for(let d=
0,c=b.length;d<c;++d)b[d].yn.Pa()}gD(){const b=e.A(e.eF,this);this.mg.push(b);return b}Z3(){if(this.mg.length){var b=this.ef(),d=!1;this.am++;for(let c=0,g=this.mg.length;c<g;++c){const m=this.mg[c];m.UR()&&m.iaa(b);m.vw&&(d=!0)}d&&this.hQ();this.am--}}async WX(){if(this.mg.length){var b=this.ef(),d=!1;this.am++;for(let c=0,g=this.mg.length;c<g;++c){const m=this.mg[c];m.UR()&&await m.h7(b);m.vw&&(d=!0)}d&&this.hQ();this.am--}}hQ(){const b=e.Pda(this.mg,d=>d.vw);for(const d of b)d.B()}Dx(){for(const b of this.mg)b.B();
e.F(this.mg)}D3(b){for(const d of this.mg)d.Go(b)}dD(b){this.aA.push(b)}Fx(){e.F(this.aA)}F_(){const b=Promise.all(this.aA);this.aA=[];return b}ma(){return{groups:this.yaa(),cnds:this.xaa(),acts:this.waa(),vars:this.Kaa(),waits:this.Gaa()}}ta(b){this.r9(b.groups);this.l9(b.cnds);this.k9(b.acts);this.E9(b.vars);this.A9(b.waits)}yaa(){const b={};for(const d of this.fH)b[d.kb.toString()]=d.Cq();return b}r9(b){for(const [d,c]of Object.entries(b))(b=this.UZ(parseInt(d,10)))&&b.Vq(c)}xaa(){const b={};for(const [d,
c]of this.CH){const g=c.ma();g&&(b[d.toString()]=g)}return b}l9(b){const d=new Map;for(const [c,g]of Object.entries(b))d.set(parseInt(c,10),g);for(const [c,g]of this.CH)g.ta(d.get(c)||null)}waa(){const b={};for(const [d,c]of this.Uz){const g=c.ma();g&&(b[d.toString()]=g)}return b}k9(b){const d=new Map;for(const [c,g]of Object.entries(b))d.set(parseInt(c,10),g);for(const [c,g]of this.Uz)g.ta(d.get(c)||null)}Kaa(){const b={};for(const [d,c]of this.TH)c.ub||!c.Wf()&&!c.Qh||(b[d.toString()]=c.ga());return b}E9(b){for(const [d,
c]of Object.entries(b))(b=this.UD(parseInt(d,10)))&&b.Me(c)}Gaa(){return this.mg.filter(b=>!b.t1()).map(b=>b.ma())}A9(b){this.Dx();for(const d of b)(b=e.eF.M6(this,d))&&this.mg.push(b)}FD(b){for(;b;)if(b=b.xq(),b instanceof e.ft)return b;return null}Bz(b,d){Array.isArray(d)||(d=[]);b=this.cy(b.toLowerCase());if(!b)return null;if(!b.Bi())return b.mt();var c=b.Rg;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].vp);while(d.length<c.length)}c=b.Ge();return c.bF(c.Ad(),b.Zl,b.mt(),...d)}}}
{"use strict";const e=self.C;e.mZ=class extends e.ka{constructor(a,b){super();this.ya=a;this.g=a.J();this.La=b[0];this.yA=[];this.rC=new Map;this.MS=new Map;this.Kca=new Map;this.Av=!1;this.tU=[];this.qA=[];this.jS=new Set;for(const d of b[1])this.RP(d,null,this.yA);this.lj=this.g.wb?{type:"sheet",name:this.La,ox:0,children:[]}:null}B(){this.g=this.ya=null}RP(a,b,d){switch(a[0]){case 0:case 3:this.K6(a,b,d);break;case 1:this.L6(a,b,d);break;case 2:this.P6(a,b,d);break;case 4:this.N6(a,b);break;case 5:this.U6(a,
b,d);break;default:throw Error("invalid event type");}}K6(a,b,d){a=e.Qk.Sa(this,b,a);if(a.Pd){d.push(a);d=a.dc;for(let c=0,g=d.length;c<g;++c)d[c].zo()&&this.MQ(a,c)}else a.zo()?this.MQ(a,0):d.push(a)}N6(a,b){a=e.ft.Sa(this,b,a);this.ya.R$(a)}L6(a,b,d){a=e.Sx.Sa(this,b,a);d.push(a)}P6(a,b,d){a=e.hM.Sa(this,b,a);d.push(a)}U6(a,b,d){a=e.Rx.Sa(this,b,a);d.push(a)}MQ(a,b){a.Pd||this.ya.q6(a);var d=a.tM(b),c=d.Ma,g=d.I();if(d.sT){var m=this.MS.get(g);m||(m=new Map,this.MS.set(g,m));d=d.YZ().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(d);c||(c=[],g.set(d,c));c.push([a,b])}else m=this.rC.get(g),m||(m={YK:new Map,Sw:new Map},this.rC.set(g,m)),(g=d.yg())?(d=m.Sw.get(g),d||(d=new Map,m.Sw.set(g,d))):d=m.YK,m=d.get(c),m||(m=[],d.set(c,m)),m.push([a,b])}Qb(){const a=this.yA;for(let b=0,d=a.length;b<d;++b)a[b].Qb(b<d-1&&a[b+1]instanceof e.Qk&&a[b+1].Fy())}p6(a){this.tU.push(a)}SG(){e.F(this.qA);this.yP(this);this.jS.clear()}yP(a){const b=a.qA,d=a.jS;for(const c of this.tU){const g=c.Fv;c.Mb&&
a!==g&&!d.has(g)&&(d.add(g),g.yP(a),b.push(g))}}qa(){return this.ya}J(){return this.g}Ca(){return this.La}pR(a,b){this.Kca.set(b,a)}gaa(){this.Av=!1}wa(){if(!this.Av){var a=this.g,b=a.wE(),d=b?performance.now():0;this.Av=!0;var c=this.qa(),g=c.ef();for(const m of this.yA)m.wa(g),c.mq(m.zd()),c.Fx(),a.Ud();g.kd(null);b&&(this.lj.ox+=performance.now()-d)}}*nb(){if(!this.Av){this.Av=!0;var a=this.g,b=this.qa(),d=b.ef();for(const c of this.yA)yield*c.nb(d),b.mq(c.zd()),b.Fx(),a.Ud();d.kd(null)}}Ou(a,
b,d){if(b){const c=b.I();this.PG(a,b,c,d);for(const g of c.Lh)this.PG(a,b,g,d)}else return this.PG(a,b,null,null)}PG(a,b,d,c){d=this.rC.get(d);if(!d)return!1;c=c?d.Sw.get(c):d.YK;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,m]of c)c=this.gQ(b,g,m),a=a||c;return a}*pu(a,b,d){if(b){const c=b.I();yield*this.WF(a,b,c,d);for(const g of c.Lh)yield*this.WF(a,b,g,d)}else return yield*this.WF(a,b,null,null)}*WF(a,b,d,c){d=this.rC.get(d);if(!d)return!1;c=c?d.Sw.get(c):d.YK;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,m]of c)c=g.De()?this.gQ(b,g,m):yield*this.b7(b,g,m),a=a||c;return a}gQ(a,b,d){const c=this.g,g=this.ya,m=g.Kb(),h=g.jd(),k=g.Fl;let n=!1;m&&g.Bg(m.Ad());g.Bg(b.Ad());const p=1<k;p&&g.vd.Ta();const q=h.Ta(b);a&&(b.dc[d].I().U().$j(a),a.ac()&&a.Ji());a=!0;if(b.Ia()){const u=b.bq;for(let w=0,r=u.length;w<r;++w)if(!u[w].qO(q)){a=!1;break}}a&&(c.cl(),b.Pd?b.Y3(q,d):b.wa(q),n=q.Ep);h.Pa();p&&g.vd.Pa();g.Pb(b.Ad());m&&g.Pb(m.Ad());m||1!==k||(g.Fx(),g.nN()||c.Ud());return n}*b7(a,
b,d){const c=this.g,g=this.ya,m=g.Kb(),h=g.jd(),k=g.Fl;let n=!1;m&&g.Bg(m.Ad());g.Bg(b.Ad());const p=1<k;p&&g.vd.Ta();const q=h.Ta(b);a&&(b.dc[d].I().U().$j(a),a.ac()&&a.Ji());a=!0;if(b.Ia()){const u=b.bq;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].$L(q))){a=!1;break}}a&&(c.cl(),b.Pd?yield*b.VX(q,d):yield*b.nb(q),n=q.Ep);h.Pa();p&&g.vd.Pa();g.Pb(b.Ad());m&&g.Pb(m.Ad());m||1!==k||(g.Fx(),g.nN()||c.Ud());return n}}}
{"use strict";const e=self.C,a=[];function b(){return!0}function*d(){return!0}e.Qk=class extends e.ka{constructor(c,g,m){super();this.$c=c;this.g=c.J();this.Bc=g;this.de=null;this.Nd=this.g.qa().jd();this.Xe=[];this.qs=[];this.xv=this.mB=this.kB=this.aT=!1;this.Pd=!!m[2];this.aB=!1;this.bq=null;this.dc=[];this.Wb=[];this.ai=[];this.Oi=b;this.So=d;this.DI=this.gj=!1;this.VS="";this.cB=!1;this.lj=this.oA=null;this.kb=m[4];this.Ir=m[5];this.$c.pR(this,this.Ir);this.Ua=this.g.wb?{fd:m[3][0],TK:m[3][1],
iV:!1,yK:!1,zK:!1,jV:!1}:null;this.qa().P$(this);3===m[0]&&this.S8(m[1]);c=0;for(var h of m[6])g=e.OL.Sa(this,h,c++),this.dc.push(g),this.DP(g.I());c=0;for(const k of m[7])h=e.ux.Sa(this,k,c++),this.Wb.push(h);if(9===m.length){m=m[8];for(const k of m)this.$c.RP(k,this,this.ai)}this.dc.length&&(this.aB=null===this.dc[0].I()&&this.dc[0].Ma===e.D.Ya.L.gM);0===this.dc.length&&(this.dc=a);0===this.Wb.length&&(this.Wb=a);0===this.ai.length&&(this.ai=a)}static Sa(c,g,m){return e.A(e.Qk,c,g,m)}S8(c){this.gj=
!0;this.cB=this.DI=!!c[0];this.VS=c[1].toLowerCase();this.oA=[];this.qa().S$(this);this.g.wb&&(this.lj={type:"group",name:c[1],ox:0,children:[]})}h6(c){this.oA.push(c)}xP(c,g){for(const m of c.Ng.Wl)g.includes(m)||g.push(m)}EP(c,g){if(c)if(g.includes(c)||g.push(c),c.cb)for(const m of c.pp)m.ac()&&this.xP(m,g);else c.ac()&&this.xP(c,g)}DP(c){this.EP(c,this.Xe)}l6(c){this.EP(c,this.qs)}g4(){this.Xe=this.g.Uc}Qb(c){this.xv=!!c;this.L8();this.M8();for(const m of this.dc)m.Qb();if(0<this.Wb.length){c=
!1;for(var g of this.Wb)g.Qb(),g.d0()&&(c=!0);c?(this.Oi=this.kaa,this.So=this.j7):(this.Oi=this.jaa,this.So=this.i7)}g=this.ai;for(let m=0,h=g.length;m<h;++m)g[m].Qb(m<h-1&&g[m+1]instanceof e.Qk&&g[m+1].Fy());this.Ua&&this.Qba();this.lj&&this.y8().lj.children.push(this.lj)}y8(){let c=this.Ia();for(;c;){if(c.gj)return c;c=c.Ia()}return this.$c}Qba(){const c=this.Ua;c.iV=this.dc.every(g=>g.De());c.yK=this.Wb.every(g=>g.De());c.zK=this.ai.every(g=>g.De());c.jV=c.iV&&c.yK&&c.zK}L8(){if(this.gj){var c=
this.Ia();for(this.mB=!0;c;){if(!c.gj){this.mB=!1;break}c=c.Ia()}}}K8(){var c=this.g.Uc;if(this.Xe===c)this.qs=c;else{this.qs=e.CK(this.Xe);for(c=this.Ia();c;){for(var g of c.Xe)this.l6(g);c=c.Ia()}g=this.qa();this.Xe=g.sz(this.Xe);this.qs=g.sz(this.qs)}}M8(){if(this.W_()){this.bq=[];for(var c=this.Ia();c;)this.bq.push(c),c=c.Ia();this.bq.reverse()}}eu(){this.kB=!0;this.Bc&&this.Bc.eu()}zd(){return this.Xe}Ad(){this.aT||(this.aT=!0,this.K8());return this.qs}f0(c){return this.Xe.includes(c)}qa(){return this.$c.qa()}J(){return this.g}Ia(){return this.Bc}qba(c){this.de=
c}xq(){return this.de||this.Bc}yE(){return this.Ua&&this.Ua.TK}wo(){return this.yE()&&this.Ua.fd}Fy(){return this.aB}Cq(){return this.cB}P3(){this.Vq(this.DI)}Vq(c){c=!!c;if(!this.gj)throw Error("not a group");if(this.cB!==c){this.cB=c;for(const g of this.oA)g.pP();this.oA.length&&(c=this.g.Oa().$c)&&c.SG()}}zo(){return this.dc.length&&this.dc[0].zo()}n1(){return this.de&&this.de instanceof e.ft}W_(){return this.n1()||this.dc.some(c=>c.zo())}tM(c){c=Math.floor(c);if(0>c||c>=this.dc.length)throw new RangeError("invalid condition index");
return this.dc[c]}m1(c){let g=c.Ja();if(0===g)return!0;for(--g;0<=g;--g)if(this.dc[g].I()===c.I())return!1;return!0}pM(c){c=Math.floor(c);if(0>c||c>=this.Wb.length)throw new RangeError("invalid action index");return this.Wb[c]}J8(c){c=Math.floor(c);return 0<=c&&c<this.Wb.length}lQ(){return this.ai.filter(c=>c instanceof e.Sx)}qO(c){c.Dg(this);let g=!1;const m=this.dc;for(let h=0,k=m.length;h<k;++h){const n=m[h];c.Nm(h);if(n.eB)throw Error("trigger cannot be used as sub-event to a loop");if(n.wa())g=
!0;else if(!this.Pd)return!1}return this.Pd?g:!0}Y3(c,g){c.Dg(this);this.dc[g].wa()&&(this.Oi(c,0)&&this.tl(),c.Pm(!0))}*$L(c){c.Dg(this);let g=!1;const m=this.dc;for(let h=0,k=m.length;h<k;++h){const n=m[h];c.Nm(h);if(n.eB)throw Error("trigger cannot be used as sub-event to a loop");if(n.De()?n.wa():yield*n.nb())g=!0;else if(!this.Pd)return!1}return this.Pd?g:!0}*VX(c,g){c.Dg(this);g=this.dc[g];if(g.De()?g.wa():yield*g.nb())(this.Lx()?this.Oi(c,0):yield*this.So(c,0))&&(this.Mx()?this.tl():yield*this.ou()),
c.Pm(!0)}wa(c){c.Dg(this);this.aB||c.Uq(!1);this.Pd?this.paa(c):this.Gz(c)}*nb(c){if(this.wo()||this.g.wc())yield this;c.Dg(this);this.aB||c.Uq(!1);this.Pd?yield*this.u7(c):yield*this.TF(c)}paa(c){const g=this.dc;let m=0===g.length;for(let k=0,n=g.length;k<n;++k){var h=g[k];h.zo()||(c.Nm(k),h=h.wa(),m=m||h)}c.Pm(m);m&&(this.Oi(c,0)&&this.tl(),this.xv&&c.Uq(!0))}*u7(c){const g=this.dc;let m=0===g.length;for(let k=0,n=g.length;k<n;++k){var h=g[k];h.zo()||(c.Nm(k),h=h.De()?h.wa():yield*h.nb(),m=m||h)}c.Pm(m);
m&&((this.Lx()?this.Oi(c,0):yield*this.So(c,0))&&(this.Mx()?this.tl():yield*this.ou()),this.xv&&c.Uq(!0))}Gz(c){const g=this.dc;for(let m=0,h=g.length;m<h;++m){const k=g[m];c.Nm(m);if(!k.wa()){c.Pm(!1);return}}c.Pm(!0);this.Oi(c,0)&&this.tl();c.Ep&&this.xv&&c.Uq(!0)}*TF(c){const g=this.dc;for(let m=0,h=g.length;m<h;++m){const k=g[m];c.Nm(m);if(k.De()?!k.wa():!(yield*k.nb())){c.Pm(!1);return}}c.Pm(!0);(this.Lx()?this.Oi(c,0):yield*this.So(c,0))&&(this.Mx()?this.tl():yield*this.ou());c.Ep&&this.xv&&
c.Uq(!0)}jaa(c,g){const m=this.Wb;for(let h=g,k=m.length;h<k;++h)g=m[h],c.Wy(h),g.wa();return!0}*i7(c,g){const m=this.Wb;for(let h=g,k=m.length;h<k;++h)g=m[h],c.Wy(h),g.De()?g.wa():yield*g.nb();return!0}kaa(c,g){const m=this.qa(),h=this.Wb;for(let k=g,n=h.length;k<n;++k){g=h[k];c.Wy(k);const p=g.wa();if(g.HL()&&!0===p)return!1;g.Ag()&&p instanceof Promise&&m.dD(p)}return!0}*j7(c,g){const m=this.qa(),h=this.Wb;for(let k=g,n=h.length;k<n;++k){g=h[k];c.Wy(k);let p;p=g.De()?g.wa():yield*g.nb();if(g.HL()&&
!0===p)return!1;g.Ag()&&p instanceof Promise&&m.dD(p)}return!0}haa(c){this.Oi(c,c.dg)&&this.tl()}*g7(c){if(yield*this.So(c,c.dg))yield*this.ou()}tl(){if(this.ai.length){var c=this.gj&&this.g.wE(),g=c?performance.now():0,m=this.Nd,h=m.Ta(this);this.kB?this.uaa(h):this.taa(h);m.Pa();c&&(this.lj.ox+=performance.now()-g)}}uaa(c){const g=this.gj,m=this.mB,h=this.qa(),k=this.ai;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.zd(),r=!m||!g&&n<q;r&&h.Ke(w);u.wa(c);r?h.Pb(w):h.mq(w)}}taa(c){const g=
this.ai;for(let m=0,h=g.length;m<h;++m)g[m].wa(c)}*ou(){if(this.ai.length){var c=this.Nd,g=c.Ta(this);this.kB?yield*this.x7(g):yield*this.w7(g);c.Pa()}}*x7(c){const g=this.gj,m=this.mB,h=this.qa(),k=this.ai;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.zd(),r=!m||!g&&n<q;r&&h.Ke(w);yield*u.nb(c);r?h.Pb(w):h.mq(w)}}*w7(c){const g=this.ai;for(let m=0,h=g.length;m<h;++m)yield*g[m].nb(c)}Cg(c,g){this.g.cl();g.pO();const m=this.dc;if(!this.Pd)for(let h=c.Al+1,k=m.length;h<k;++h)if(c=m[h],g.Nm(h),
!c.wa())return!1;this.Oi(g,0)&&this.tl();return!0}*wg(c,g){this.g.cl();g.pO();const m=this.dc;if(!this.Pd)for(let h=c.Al+1,k=m.length;h<k;++h)if(c=m[h],g.Nm(h),c.De()?!c.wa():!(yield*c.nb()))return!1;(this.Lx()?this.Oi(g,0):yield*this.So(g,0))&&(this.Mx()?this.tl():yield*this.ou());return!0}De(){return!this.wo()&&!this.g.wc()&&this.Ua.jV}Lx(){return!this.g.wc()&&this.Ua.yK}Mx(){return!this.g.wc()&&this.Ua.zK}MF(c){if(this.Ia()){const g=this.bq;for(let m=0,h=g.length;m<h;++m)if(!g[m].qO(c))return!1}return!0}*SP(c){if(this.Ia()){const g=
this.bq;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].$L(c)))return!1}return!0}fQ(c,g,m){0<g.length?m?(g=g.map(h=>h.ea(0)),c.vd.Ta(),this.de.$t(g)):this.de.lZ(g):m&&c.vd.Ta()}V3(c,g){let m,h;const k=0<c.length;var n=this.g;const p=this.Nd,q=n.qa(),u=1<q.uu();this.fQ(q,g,u);k&&q.Bg(c);g=p.Ta(this);this.MF(g)&&(n.cl(),g.Dg(this),(n=this.de.Ag())&&([h,m]=this.de.zF()),this.Gz(g),n&&this.de.Lt(h));p.Pa();u&&q.vd.Pa();k&&q.Pb(c);q.qu();return m}*SX(c,g){let m,h;if(this.wo()||this.g.wc())yield this;const k=
0<c.length;var n=this.g;const p=this.Nd,q=n.qa(),u=1<q.uu();this.fQ(q,g,u);k&&q.Bg(c);g=p.Ta(this);if(yield*this.SP(g))n.cl(),g.Dg(this),(n=this.de.Ag())&&([h,m]=this.de.zF()),yield*this.TF(g),n&&this.de.Lt(h);p.Pa();u&&q.vd.Pa();k&&q.Pb(c);q.qu();return m}W3(c){const g=this.Ad(),m=0<g.length,h=this.g,k=this.Nd,n=h.qa(),p=1<n.uu();p&&n.vd.Ta();this.de.$t(c);m&&n.Bg(g);c=k.Ta(this);this.MF(c)&&(h.cl(),c.Dg(this),this.Gz(c));k.Pa();p&&n.vd.Pa();m&&n.Pb(g);n.qu()}*TX(c){if(this.wo()||this.g.wc())yield this;
const g=this.Ad(),m=0<g.length,h=this.g,k=this.Nd,n=h.qa(),p=1<n.uu();p&&n.vd.Ta();this.de.$t(c);m&&n.Bg(g);c=k.Ta(this);if(yield*this.SP(c))h.cl(),c.Dg(this),yield*this.TF(c);k.Pa();p&&n.vd.Pa();m&&n.Pb(g);n.qu()}bF(c,g,m,...h){let k,n;const p=0<c.length,q=this.g,u=this.Nd,w=q.qa(),r=1<w.uu();r&&w.vd.Ta();0<h.length&&this.de.$t(h);p&&w.Bg(c);h=u.Ta(this);h.A0(g,m);u.s3(h);q.Zy(!1);this.MF(h)&&(q.cl(),h.Dg(this),(g=this.de.Ag())&&([n,k]=this.de.zF()),this.Gz(h),g&&this.de.Lt(n));q.Zy(!0);u.Pa();u.h3();
r&&w.vd.Pa();p&&w.Pb(c);w.qu();return k||h.cI}}}
{"use strict";const e=self.C,a=[];let b=!1;e.Rx=class extends e.ka{constructor(d,c,g){super();const m=d.J(),h=d.qa();this.$c=d;this.ya=h;this.g=d.J();this.Bc=c;this.Ma=m.ph(g[1]);this.Ir=g[2];this.$c.pR(this,this.Ir);this.Ua=m.wb?{fd:g[3][0],TK:g[3][1]}:null}static Sa(d,c,g){return e.A(e.Rx,d,c,g)}Qb(){const d=this.Ma,c=this.g.qa().xQ(this);this.Ma=d.bind(null,this.g.cj,c)}Ia(){return this.Bc}xq(){return this.Bc}yE(){return this.Ua&&this.Ua.TK}wo(){return this.yE()&&this.Ua.fd}Fy(){return!1}zd(){return a}Ad(){return this.Bc?
this.Bc.Ad():a}wa(d){d.Dg(this);this.ya.dD(this.vaa())}async vaa(){try{await this.Ma()}catch(d){console.error(`Unhandled exception running script %c${this.$c.Ca()}, event ${this.Ir}:`,"font-size: 1.2em; font-weight: bold;",d),self.vg&&self.vg.lba(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*nb(d){d.Dg(this);if(this.wo()||this.g.wc())yield this;
this.wa(d)}De(){return!this.wo()&&!this.g.wc()}static R_(){return b}static B4(){b=!0}}}
{"use strict";const e=self.C;e.ft=class extends e.ka{constructor(a,b,d){super();this.$c=a;this.g=a.J();this.Bc=b;const c=d[1];this.JA=c[0];this.Zl=c[1];this.Rg=c[2].map(g=>e.Sx.Sa(a,this,g));this.fj=c[3];this.qI=[];this.Iv=c[4];this.hda=0;this.kv=-1;this.Uu=new Map;this.Yd=e.Qk.Sa(a,b,d);this.Yd.qba(this)}static Sa(a,b,d){return e.A(e.ft,a,b,d)}Qb(){for(const a of this.Rg)a.Qb();this.Yd.Qb(!1)}lQ(){return this.Rg}T$(a){this.qI.push(a)}lZ(a){const b=this.Rg;for(let d=0,c=b.length;d<c;++d)b[d].Me(a[d].ea(0))}$t(a){const b=
this.Rg;for(let d=0,c=b.length;d<c;++d)b[d].Me(a[d])}pX(){return this.Rg.map(a=>a.ga())}Ia(){return this.Bc}xq(){return this.Bc}Bi(){return this.fj}mt(){switch(this.Zl){case 0:return null;case 2:return"";default:return 0}}Ge(){return this.Yd}Ag(){return this.Iv}zF(){const a=this.hda++;this.kv=a;let b;const d=new Promise(c=>b=c);this.Uu.set(a,{resolve:b,dL:0});return[a,d]}Lt(a){const b=this.Uu.get(a);0===b.dL&&(b.resolve(),this.Uu.delete(a));this.kv=-1}Z2(){this.Uu.get(this.kv).dL++;return this.kv}U3(a){this.kv=
a;this.Uu.get(a).dL--}}}
{"use strict";const e=self.C,a=[];e.Sx=class extends e.ka{constructor(b,d,c){super();const g=b.qa();this.$c=b;this.ya=g;this.g=b.J();this.Bc=d;this.vd=g.vd;this.La=c[1];this.Ba=c[2];this.vp=c[3];this.Qh=!!c[4];this.ub=!!c[5];this.Vca=d instanceof e.ft;this.kb=c[6];this.Tv=this.g.wi(c[8]);this.vda=m=>this.Me(m);this.tda=()=>this.ga();this.cT=!this.Bc||this.Qh||this.ub;this.Dc=this.vp;this.cJ=-1;this.gN()&&(this.Dc=this.Dc?1:0);!this.HE()||this.Qh||this.ub||(this.cJ=g.w8(this));g.Q$(this)}static Sa(b,
d,c){return e.A(e.Sx,b,d,c)}Qb(){if(this.HE()&&!this.Qh&&!this.ub&&!this.Vca){const b=this.ya.FD(this);b&&b.T$(this)}}Ca(){return this.La}wi(){return this.Tv}Ia(){return this.Bc}xq(){return this.Ia()}Wf(){return!this.Ia()}HE(){return!this.Wf()}Im(){return 0===this.Ba}Di(){return 1===this.Ba}gN(){return 2===this.Ba}Fy(){return!1}zd(){return a}wa(){!this.HE()||this.Qh||this.ub||this.Me(this.vp)}De(){return!0}*nb(b){this.wa(b)}Me(b){this.Im()?"number"!==typeof b&&(b=parseFloat(b)):this.Di()?"string"!==
typeof b&&(b=b.toString()):this.gN()&&(b=b?1:0);this.cT?this.Dc=b:this.vd.rq()[this.cJ]=b}ga(){return this.cT?this.Dc:this.vd.rq()[this.cJ]}S3(){this.Dc=this.vp}BQ(){return{configurable:!1,enumerable:!0,get:this.tda,set:this.vda}}}}
{"use strict";const e=self.C,a=[];e.hM=class extends e.ka{constructor(b,d,c){super();const g=b.qa();this.$c=b;this.ya=g;this.g=b.J();this.Bc=d;this.Fv=null;this.Pca=c[1];this.Mb=!0}static Sa(b,d,c){return e.A(e.hM,b,d,c)}Qb(){this.Fv=this.ya.yM(this.Pca);this.$c.p6(this);let b=this.Ia();for(;b;)b instanceof e.Qk&&b.gj&&b.h6(this),b=b.Ia();this.pP();this.g.wb&&this.$c.lj.children.push(this.Fv.lj)}Ia(){return this.Bc}zd(){return a}wa(){const b=!!this.Ia(),d=this.g.Uc;b&&this.ya.Bg(d);this.Fv.wa();b&&
this.ya.Pb(d)}*nb(){const b=!!this.Ia(),d=this.g.Uc;b&&this.ya.Bg(d);yield*this.Fv.nb();b&&this.ya.Pb(d)}De(){return!1}pP(){let b=this.Ia();for(;b;){if(b instanceof e.Qk&&b.gj&&!b.Cq()){this.Mb=!1;return}b=b.Ia()}this.Mb=!0}}}
{"use strict";const e=self.C;e.fo=class extends e.ka{constructor(k){super();this.Zb=k;this.g=k.J()}Qb(){}static NX(k,n){return e.A([m,c,g,h,a,b][n[0]],k,n)}};class a extends e.fo{constructor(k,n){super(k);this.Hd=this.g.xt();this.Ma=this.g.ph(n[1]);this.Ma!==e.D.Ya.Ub.random&&this.Ma!==e.D.Ya.Ub.Uda||this.Zb.vF()}Fb(){return this.Hd.dk(this.Ma,this.Hd)}}class b extends e.fo{constructor(k,n){super(k);this.Qr=null;this.JA=n[1];this.Zb.vF()}Qb(){const k=this.g.qa();this.Qr=k.cy(this.JA);this.JA=null;
const n=this.Qr.Ge();this.Bl=[...new Set([...this.Zb.Ge().Ad(),...n.Ad()])];this.Bl=k.sz(this.Bl)}Fb(){const k=this.Qr;if(k.Bi())return e.Qk.prototype.bF.bind(k.Ge(),this.Bl,k.Zl,k.mt());{const n=k.mt();return()=>n}}}function d(k,n){if(k>=n)return k%n;0>k&&(k<=-n&&(k%=n),0>k&&(k+=n));return k}class c extends e.fo{constructor(k,n){super(k);this.M=this.g.gf(n[1]);this.Ma=this.g.ph(n[2]);this.ow=!!n[3];this.Nd=this.g.qa().jd();this.Zb.sG(this.M)}Fb(){return this.M.zb().dk(this.Ma,this.M.yi().ra)}Eb(...k){const n=
this.M,p=n.U().VD();var q=p.length;if(0===q)return this.ow?"":0;q=d(this.Zb.os,q);this.Nd.ff().v4(n);return this.Ma.apply(p[q].ra,k)}}class g extends e.fo{constructor(k,n){super(k);this.M=this.g.gf(n[1]);this.TU=n[3];this.ow=!!n[2];this.Zb.sG(this.M)}$s(){const k=this.M.U().VD();var n=k.length;if(0===n)return this.ow?"":0;n=d(this.Zb.os,n);return k[n].uQ(this.TU)}qq(){var k=this.M,n=k.U().VD(),p=n.length;if(0===p)return this.ow?"":0;p=d(this.Zb.os,p);n=n[p];k=n.I().WD(k.Mh);return n.uQ(this.TU+k)}}
class m extends e.fo{constructor(k,n){super(k);this.M=this.g.gf(n[1]);this.Wc=this.M.Vx(n[2]);this.Si=this.M.it(n[2]);this.Ma=this.g.ph(n[3]);this.ow=!!n[4];this.Nd=this.g.qa().jd();this.Zb.sG(this.M)}}class h extends e.fo{constructor(k,n){super(k);this.Aa=null;this.SH=n[1]}Qb(){this.Aa=this.g.qa().UD(this.SH)}}}
{"use strict";const e=self.C;e.Je=class extends e.ka{constructor(A,G,z){super();this.Zb=A;this.Ra=z;this.Ba=G;this.ea=null;this.ub=this.$e=!1}static Sa(A,G,z){const F=G[0];return e.A([b,d,p,g,h,c,k,b,g,g,q,u,p,r,d,n,m,w,v,y][F],A,F,z,G)}Qb(){}vF(){this.$e=!0}sG(A){this.$e||!A||A.zb().kn||(this.$e=!0)}Ja(){return this.Ra}J(){return this.Zb.J()}Ge(){return this.Zb.Ge()}};function a(A){A=self.eX[A];if(!A)throw Error("invalid expression number");return A}class b extends e.Je{constructor(A,G,z,F){super(A,
G,z);this.os=0;A=F[1];this.UH=A[0];this.cs=[];this.AA=null;for(let H=1,J=A.length;H<J;++H)this.cs.push(e.fo.NX(this,A[H]));this.cs.length?this.ea=this.WZ:(this.ea=a(this.UH),this.ub=!0)}G(A){if(0>A||A>=this.cs.length)throw new RangeError("invalid numbered node");return this.cs[A]}Qb(){for(var A of this.cs)A.Qb();A=a(this.UH);this.AA=this.cs.length?A(this):A}WZ(A){this.os=A;return this.AA()}}class d extends b{constructor(A,G,z,F){super(A,G,z,F);this.ea=this.J_;14===G&&(this.Ge().g4(),this.Zb instanceof
e.ux&&this.Ge().eu())}J_(A){this.os=A;A=this.AA();return"string"===typeof A?A:""}q8(){return a(this.UH)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.ea=this.ba;this.ub=!1}ba(A){this.os=A;A=this.AA();return this.J().Oa().ba(A)}}class g extends e.Je{constructor(A,G,z,F){super(A,G,z);this.Cca=F[1];this.ea=this.NZ;this.ub=!0}NZ(){return this.Cca}}class m extends e.Je{constructor(A,G,z,F){super(A,G,z);this.oca=F[1];this.ea=this.JZ;this.ub=!0}JZ(){return this.oca}}class h extends e.Je{constructor(A,
G,z,F){super(A,G,z);this.M=this.J().gf(F[1]);this.ea=this.I;A=this.Ge();A.DP(this.M);this.Zb instanceof e.ux?A.eu():A.Ia()&&A.Ia().eu();this.ub=!0}I(){return this.M}}class k extends e.Je{constructor(A,G,z,F){super(A,G,z);this.Tg=this.J().gb.tq(F[1]);this.ea=this.jc;this.ub=!0}jc(){return this.Tg}}class n extends e.Je{constructor(A,G,z,F){super(A,G,z);this.bi=this.J().Ib.uy(F[1]);this.ea=this.yb;this.ub=!0}yb(){return this.bi}}class p extends e.Je{constructor(A,G,z,F){super(A,G,z);this.Lca=F[1];this.ea=
this.ZZ;this.ub=!0}ZZ(){return this.Lca}}class q extends e.Je{constructor(A,G,z,F){super(A,G,z);this.nT=F[1];(A=this.Zb.I())&&A.cb?(this.ea=this.XZ,this.vF()):(this.ea=this.k_,this.ub=!0)}k_(){return this.nT}XZ(A){A=A||0;const G=this.Zb.I();var z=G.U();const F=z.la();if(F.length)A=F[A%F.length].I();else if(z.V_())z=z.ec,A=z[A%z.length].I();else if(0<G.H.length)z=G.la(),A=z[A%z.length].I();else return 0;return this.nT+A.WD(G.Mh)}}class u extends e.Je{constructor(A,G,z,F){super(A,G,z);this.SH=F[1];
this.Aa=null;this.ea=this.VZ;this.ub=!0}Qb(){this.Aa=this.J().qa().UD(this.SH)}VZ(){return this.Aa}}class w extends e.Je{constructor(A,G,z,F){super(A,G,z);this.QS=F[1];this.Qr=null;this.ea=this.e_;this.ub=!0}Qb(){this.Qr=this.J().qa().cy(this.QS);this.QS=null}e_(){return this.Qr}}class r extends e.Je{constructor(A,G,z,F){super(A,G,z);this.VJ=[];this.UU=[];this.ub=!0;for(let H=1,J=F.length;H<J;++H)A=e.Je.Sa(this.Zb,F[H],0),this.VJ.push(A),this.UU.push(0),A.ub||(this.ub=!1);this.ea=this.P_}Qb(){for(const A of this.VJ)A.Qb()}P_(){const A=
this.VJ,G=this.UU;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ea(0);return G}}class v extends e.Je{constructor(A,G,z,F){super(A,G,z);this.Hca=F[1];this.ea=this.xm;this.ub=!0}xm(){return this.Hca}}class y extends e.Je{constructor(A,G,z,F){super(A,G,z);this.uca=F[1];this.ea=this.M_;this.ub=!0}M_(){return this.uca}}}
{"use strict";const e=self.C;function a(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].ea(0)}const b=[],d=function(){};e.OL=class extends e.ka{constructor(c,g,m){super();this.Yd=c;this.g=c.J();this.Ra=m;this.Ma=this.g.ph(g[1]);this.KI=0<g[3];this.sT=2===g[3];this.eB=!!g[4];this.hj=!!g[5];this.Qh=!!g[6];this.kb=g[7];this.tT=this.Yd.Pd;this.Wc=this.M=null;this.Si=-1;this.Hd=null;this.nb=this.wa=d;this.Na=[];this.xb=[];this.wl=!1;this.ci=this.Hb=null;this.Ua=this.g.wb?{fd:g[8][0],Ff:g[8][1]}:null;-1===
g[0]?this.Hd=this.g.xt():(this.M=this.g.gf(g[0]),g[2]&&(this.Wc=this.M.Vx(g[2]),this.Si=this.M.it(g[2])),this.Yd.Ia()&&this.Yd.Ia().eu());if(10===g.length){c=g[9];for(let h of c)this.Na.push(e.Je.Sa(this,h,this.Na.length)),this.xb.push(0)}0===this.Na.length&&(this.xb=this.Na=b);this.Yd.qa().O$(this)}static Sa(c,g,m){return e.A(e.OL,c,g,m)}Qb(){for(const c of this.Na)c.Qb(),c.$e&&(this.wl=!0);this.sT?(this.wa=this.laa,this.nb=this.o7):this.Hd?(this.MG(),this.nb=this.VF):this.M.zb().kn?(this.LG(),this.nb=
this.UF):this.Qh?(this.wa=this.saa,this.nb=this.v7):(this.wa=this.BR,this.nb=this.p7)}MG(){this.Lu(this.Hd,this.Hd,this.EG)}LG(){const c=this.M.zb(),g=this.M.yi().ra;this.Lu(c,g,this.DG)}Lu(c,g,m){const h=this.Ma,k=this.hj,n=this.Na;if(0===n.length){const p=c.dk(h,g);this.wa=k?function(){return e.xor(p(),k)}:p}else if(1===n.length){const p=n[0];if(!k&&p.ub)this.wa=c.nQ(h,g,p.ea(0));else{const q=c.dk(h,g);this.wa=function(){return e.xor(q(p.ea(0)),k)}}}else if(2===n.length){const p=n[0],q=n[1];if(!k&&
p.ub&&q.ub)this.wa=c.oQ(h,g,p.ea(0),q.ea(0));else{const u=c.dk(h,g);this.wa=function(){return e.xor(u(p.ea(0),q.ea(0)),k)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!k&&p.ub&&q.ub&&u.ub)this.wa=c.pQ(h,g,p.ea(0),q.ea(0),u.ea(0));else{const w=c.dk(h,g);this.wa=function(){return e.xor(w(p.ea(0),q.ea(0),u.ea(0)),k)}}}else this.wa=m}I(){return this.M}yg(){return this.Wc}Ge(){return this.Yd}J(){return this.g}Ja(){return this.Ra}uM(){return this.Ja()}zo(){return this.KI}De(){return!this.Ua.fd&&
!this.g.wc()&&!this.Ua.Ff}Mj(){this.Hb||(this.Hb=new Map);return this.Hb}At(){this.ci||(this.ci=new Map);return this.ci}EG(){const c=this.xb;a(this.Na,c);return e.xor(this.Ma.apply(this.Hd,c),this.hj)}*VF(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){var c=this.xb;a(this.Na,c);c=this.Ma.apply(this.Hd,c);e.Hm(c)&&(c=yield*c);return e.xor(c,this.hj)}return this.wa()}DG(){const c=this.xb;a(this.Na,c);const g=this.M.yi().ra;return e.xor(this.Ma.apply(g,c),this.hj)}*UF(){if(this.Ua.fd||this.g.wc())yield this;
if(this.Ua.Ff){var c=this.xb;a(this.Na,c);const g=this.M.yi().ra;c=this.Ma.apply(g,c);e.Hm(c)&&(c=yield*c);return e.xor(c,this.hj)}return this.wa()}laa(){return!0}*o7(){if(this.Ua.fd||this.g.wc())yield this;return!0}saa(){var c=this.xb;a(this.Na,c);c=this.Ma.apply(this.Wc||this.M,c);this.M.ic();return c}*v7(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){var c=this.xb;a(this.Na,c);c=this.Ma.apply(this.Wc||this.M,c);e.Hm(c)&&(c=yield*c);this.M.ic();return c}return this.wa()}BR(){const c=this.Na,
g=this.xb,m=this.M.U();for(let h=0,k=c.length;h<k;++h){const n=c[h];n.$e||(g[h]=n.ea(0))}return m.$b?this.maa(m):this.naa(m)}*p7(){if(this.Ua.fd||this.g.wc())yield this;return this.BR()}dG(c){const g=this.Na,m=this.xb;for(let h=0,k=g.length;h<k;++h){const n=g[h];n.$e&&(m[h]=n.ea(c))}}maa(c){const g=this.M,m=g.cb,h=g.Mh,k=this.Si,n=0<=k,p=g.la(),q=this.wl,u=this.xb,w=this.Ma,r=this.hj,v=this.tT&&!this.KI;c.Ex();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.dG(A);var y=void 0;n?(y=m?z.I().jo(h):
0,y=w.apply(z.Vc[k+y].ra,u)):y=w.apply(z.ra,u);e.xor(y,r)?c.Vo(z):v&&c.sl(z)}g.et(!0);c.ne(!1);g.ic();return c.lE()}naa(c){const g=this.M;var m=g.cb;const h=g.Mh,k=g.ac(),n=this.Si,p=0<=n,q=this.wl,u=this.xb,w=this.Ma,r=this.hj,v=this.tT&&!this.KI,y=c.H,A=c.ec,G=v&&!this.Yd.m1(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.dG(M);var J=void 0;p?(J=m?R.I().jo(h):0,J=w.apply(R.Vc[n+J].ra,u)):J=w.apply(R.ra,u);e.xor(J,r)?(H=!0,G?(y.push(R),k&&R.K$()):(z[F]=R,k&&R.sba(F),
++F)):G?(z[F]=R,k&&R.rba(F),++F):v&&(A.push(R),k&&R.J$())}e.cf(z,F);k&&g.Nba(G,F);m=H;G&&!H&&(H=this.C$(y));g.et(m||v);return v?H:c.lE()}C$(c){var g=this.M;const m=g.cb;g=g.Mh;const h=this.wl,k=this.Si,n=0<=k,p=this.xb,q=this.Ma,u=this.hj;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.dG(r);if(n){const y=m?w.I().jo(g):0;w=q.apply(w.Vc[k+y].ra,p)}else w=q.apply(w.ra,p);if(e.xor(w,u))return!0}return!1}St(c,g){return this.Na[c].ea(g)}YZ(){const c=this.Na;if(!c.length)throw Error("no parameters");
return c[0].q8()}ma(){if(!this.Hb||!this.Hb.size)return null;const c={};for(const [g,m]of this.Hb.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(k=>[k[0].Cc,k[1].Cc,k[2]]));c[g]=h}return{ex:c}}ta(c){this.Hb&&(this.Hb.clear(),this.Hb=null);if(c){var g=this.g,m=c.ex;if(m){c=this.Mj();c.clear();for(const [h,k]of Object.entries(m))m=k,"collmemory"===h&&(m=e.A(e.Ot,k.map(n=>[g.ti(n[0]),g.ti(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const e=self.C;function a(g,m){for(let h=0,k=g.length;h<k;++h)m[h]=g[h].ea(0)}const b=[],d=function(){},c=function*(){};e.ux=class extends e.ka{constructor(g,m,h){super();this.Yd=g;this.g=g=g.J();this.Ra=h;this.kb=4<=m.length?m[3]:-1;this.Tz=5<=m.length?m[4]:0;this.Wc=this.M=this.Ma=null;this.Si=-1;this.Hd=null;this.gA="";this.Bl=this.fA=null;this.nb=this.wa=d;this.Na=[];this.xb=[];this.wl=!1;this.ci=this.Hb=null;const k=(h=-3===m[0])?m[2]:m[5];this.Ua=g.wb||h?{fd:k[0],Ff:k[1],index:k[2]}:
null;-1===m[0]?(this.Hd=g.xt(),this.Ma=g.ph(m[1])):-2===m[0]?this.gA=m[1]:h?(this.Ma=g.ph(m[1]),this.wa=this.cF,this.nb=this.XX,this.Tz=1):(this.Ma=g.ph(m[1]),this.M=g.gf(m[0]),m[2]&&(this.Wc=this.M.Vx(m[2]),this.Si=this.M.it(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Na.push(e.Je.Sa(this,n,this.Na.length)),this.xb.push(0)}0===this.Na.length&&(this.xb=this.Na=b);this.Yd.qa().N$(this)}static Sa(g,m,h){return e.A(e.ux,g,m,h)}Qb(){for(var g of this.Na)g.Qb(),g.$e&&(this.wl=!0);if(this.Hd)this.MG(),
this.nb=this.VF;else if(this.gA)this.Saa(),this.gA="";else if(this.wa===this.cF){g=this.Ma;const m=this.g.qa().xQ(this.Yd);this.Ma=g.bind(null,this.g.cj,m)}else this.Wc?this.Ag()?(this.wa=this.zR,this.nb=this.l7):(this.wa=this.yR,this.nb=this.k7):this.M.zb().kn?(this.LG(),this.nb=this.UF):this.Ag()?(this.wa=this.DR,this.nb=this.r7):this.Na.length?this.Na.every(m=>m.$e)?(this.wa=this.CR,this.nb=this.q7):this.wl?(this.wa=this.FR,this.nb=this.t7):this.Na.every(m=>m.ub)?(a(this.Na,this.xb),this.wa=this.CG,
this.nb=this.TP):(this.wa=this.ER,this.nb=this.s7):(this.wa=this.CG,this.nb=this.TP)}MG(){this.Lu(this.Hd,this.Hd,this.EG)}LG(){const g=this.M.zb(),m=this.M.yi().ra;this.Lu(g,m,this.DG)}Saa(){const g=this.Yd.qa(),m=g.cy(this.gA);m.Bi()?(this.fA=m.Ge(),this.Bl=[...new Set([...this.Yd.Ad(),...this.fA.Ad()])],this.Bl=g.sz(this.Bl),this.wa=e.Qk.prototype.V3.bind(this.fA,this.Bl,this.Na),this.nb=this.m7):(this.wa=d,this.nb=c)}Lu(g,m,h){const k=this.Ma,n=this.Na;if(0===n.length)this.wa=g.dk(k,m);else if(1===
n.length){const p=n[0];if(p.ub)this.wa=g.nQ(k,m,p.ea(0));else{const q=g.dk(k,m);this.wa=function(){return q(p.ea(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.ub&&q.ub)this.wa=g.oQ(k,m,p.ea(0),q.ea(0));else{const u=g.dk(k,m);this.wa=function(){return u(p.ea(0),q.ea(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.ub&&q.ub&&u.ub)this.wa=g.pQ(k,m,p.ea(0),q.ea(0),u.ea(0));else{const w=g.dk(k,m);this.wa=function(){return w(p.ea(0),q.ea(0),u.ea(0))}}}else this.wa=h}Ag(){return 1===this.Tz}HL(){return 2===
this.Tz}d0(){return 0!==this.Tz}I(){return this.M}Ge(){return this.Yd}J(){return this.g}Ja(){return this.Ra}uM(){return this.Ua.index}De(){return!this.Ua.fd&&!this.g.wc()&&!this.Ua.Ff}Mj(){this.Hb||(this.Hb=new Map);return this.Hb}At(){this.ci||(this.ci=new Map);return this.ci}EG(){const g=this.xb;a(this.Na,g);return this.Ma.apply(this.Hd,g)}*VF(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){const g=this.xb;a(this.Na,g);return yield*this.Ma.apply(this.Hd,g)}return this.wa()}*m7(){if(this.Ua.fd||
this.g.wc())yield this;return yield*this.fA.SX(this.Bl,this.Na)}DG(){const g=this.xb;a(this.Na,g);return this.Ma.apply(this.M.yi().ra,g)}*UF(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){const g=this.xb;a(this.Na,g);return yield*this.Ma.apply(this.M.yi().ra,g)}return this.wa()}CG(){const g=this.xb,m=this.M.U().la();for(let h=0,k=m.length;h<k;++h)this.Ma.apply(m[h].ra,g)}*TP(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){const g=this.xb,m=this.M.U().la();for(let h=0,k=m.length;h<k;++h)yield*this.Ma.apply(m[h].ra,
g)}else this.CG()}ER(){const g=this.xb;a(this.Na,g);const m=this.M.U().la();for(let h=0,k=m.length;h<k;++h)this.Ma.apply(m[h].ra,g)}*s7(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){const g=this.xb;a(this.Na,g);const m=this.M.U().la();for(let h=0,k=m.length;h<k;++h)yield*this.Ma.apply(m[h].ra,g)}else this.ER()}CR(){const g=this.Na,m=this.xb,h=this.Ma,k=this.M.U().la();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].ea(n);h.apply(q.ra,m)}}*q7(){if(this.Ua.fd||
this.g.wc())yield this;if(this.Ua.Ff){const g=this.Na,m=this.xb,h=this.Ma,k=this.M.U().la();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].ea(n);yield*h.apply(q.ra,m)}}else this.CR()}FR(){const g=this.Na,m=this.xb,h=this.Ma,k=this.M.U().la();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.$e||(m[p]=n.ea(0))}for(let p=0,q=k.length;p<q;++p){n=k[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.$e&&(m[u]=r.ea(p))}h.apply(n.ra,m)}}*t7(){if(this.Ua.fd||this.g.wc())yield this;
if(this.Ua.Ff){const m=this.Na,h=this.xb,k=this.Ma,n=this.M.U().la();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.$e||(h[p]=g.ea(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.$e&&(h[u]=r.ea(p))}yield*k.apply(g.ra,h)}}else this.FR()}yR(){var g=this.M;const m=g.cb,h=g.Mh,k=this.Na,n=this.wl,p=this.xb,q=this.Ma,u=this.Si;g=g.U().la();for(let v=0,y=k.length;v<y;++v){var w=k[v];w.$e||(p[v]=w.ea(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=k.length;A<
G;++A){var r=k[A];r.$e&&(p[A]=r.ea(v))}r=m?w.I().jo(h):0;q.apply(w.Vc[u+r].ra,p)}}*k7(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){var g=this.M;const k=g.cb,n=g.Mh,p=this.Na,q=this.wl,u=this.xb,w=this.Ma,r=this.Si;g=g.U().la();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.$e||(u[v]=m.ea(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.$e&&(u[A]=h.ea(v))}h=k?m.I().jo(n):0;yield*w.apply(m.Vc[r+h].ra,u)}}else this.yR()}DR(){const g=this.Na,m=this.xb,
h=this.Ma,k=this.M.U().la(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].ea(p);n.push(h.apply(u.ra,m))}return Promise.all(n)}*r7(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){const g=this.Na,m=this.xb,h=this.Ma,k=this.M.U().la(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].ea(p);n.push(yield*h.apply(u.ra,m))}return Promise.all(n)}return this.DR()}zR(){var g=this.M;const m=g.cb,h=g.Mh,k=this.Na,n=this.xb,
p=this.Ma,q=this.Si;g=g.U().la();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ea(w);const y=m?v.I().jo(h):0;u.push(p.apply(v.Vc[q+y].ra,n))}return Promise.all(u)}*l7(){if(this.Ua.fd||this.g.wc())yield this;if(this.Ua.Ff){var g=this.M;const m=g.cb,h=g.Mh,k=this.Na,n=this.xb,p=this.Ma,q=this.Si;g=g.U().la();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ea(w);const y=m?v.I().jo(h):0;u.push(yield*p.apply(v.Vc[q+
y].ra,n))}return Promise.all(u)}return this.zR()}async cF(){try{await this.Ma()}catch(g){console.error(`Unhandled exception running script %c${this.Yd.$c.Ca()}, event ${this.Yd.Ir}, action ${this.uM()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.vg&&self.vg.lba(this),e.Rx.R_()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.Rx.B4())}}*XX(){if(this.Ua.fd||
this.g.wc())yield this;return this.cF()}ma(){return this.Hb&&this.Hb.size?{ex:e.FF(this.Hb)}:null}ta(g){this.Hb&&(this.Hb.clear(),this.Hb=null);g&&(g=g.ex)&&(this.Hb=e.GD(g))}}}
{"use strict";const e=self.C,a=new e.hb;function b(L,O){return e.compare(this.j().S(),L,O)}function d(L,O){return e.compare(this.j().T(),L,O)}function c(){const L=this.j(),O=L.ba();return O.zq()?L.Dq(O.gr()):L.pN(O.qg,L.jc().bN(),L.jc().wf)}function g(){var L=this.j();const O=L.jc();L=L.hd();return 0>L.na||0>L.ia||L.ca>O.Y()||L.Z>O.W()}function m(L,O,U){const aa=this.U(),ha=aa.la();if(!ha.length)return!1;let fa=ha[0];var ja=fa.j();let ua=fa,ka=e.pV(ja.S(),ja.T(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.j(),ja=e.pV(ja.S(),ja.T(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Km(ua);return!0}function h(L){const O=this.j();O.S()!==L&&(O.ag(L),O.Va())}function k(L){const O=this.j();O.T()!==L&&(O.bg(L),O.Va())}function n(L,O){const U=this.j();U.ED(L,O)||(U.zh(L,O),U.Va())}function p(L,O){if(L&&(L=L.B_(this.ja))){var [U,aa]=L.zm(O);O=this.j();if(O.S()!==U||O.T()!==aa)O.zh(U,aa),O.Va()}}function q(L){if(0!==L){var O=this.j();O.My(O.OD()*L,O.fE()*L);O.Va()}}function u(L,O){if(0!==
O){var U=this.j();L=e.Cb(L);U.My(Math.cos(L)*O,Math.sin(L)*O);U.Va()}}function w(){return this.j().S()}function r(){return this.j().T()}function v(){return this.g.RD(this.ja)}function y(L,O){return e.compare(this.j().Y(),L,O)}function A(L,O){return e.compare(this.j().W(),L,O)}function G(L){const O=this.j();O.Y()!==L&&(O.nf(L),O.Va())}function z(L){const O=this.j();O.W()!==L&&(O.Zf(L),O.Va())}function F(L,O){const U=this.j();if(U.Y()!==L||U.W()!==O)U.ld(L,O),U.Va()}function H(){return this.j().Y()}
function J(){return this.j().W()}function M(){return this.j().hd().ca}function P(){return this.j().hd().Z}function R(){return this.j().hd().na}function T(){return this.j().hd().ia}function Z(L,O){return e.Fs(this.j().Fa(),e.Cb(O))<=e.Cb(L)}function X(L){return e.Ef(this.j().Fa(),e.Cb(L))}function ba(L,O){L=e.Cb(L);O=e.Cb(O);const U=this.j().Fa();return e.Ef(O,L)?e.Ef(U,L)&&!e.Ef(U,O):!(!e.Ef(U,L)&&e.Ef(U,O))}function Y(L){const O=this.j();L=e.Td(e.Cb(L));isNaN(L)||O.Fa()===L||(O.Ed(L),O.Va())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.j();O.Ed(O.Fa()+e.Cb(L));O.Va()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.j();O.Ed(O.Fa()-e.Cb(L));O.Va()}}function ya(L,O){const U=this.j(),aa=U.Fa();L=e.vK(aa,e.Cb(O),e.Cb(L));isNaN(L)||aa===L||(U.Ed(L),U.Va())}function Na(L,O,U){const aa=this.j(),ha=aa.Fa();O-=aa.S();U-=aa.T();L=e.vK(ha,Math.atan2(U,O),e.Cb(L));isNaN(L)||ha===L||(aa.Ed(L),aa.Va())}function Sa(L,O){const U=this.j(),aa=U.Fa();L-=U.S();O-=U.T();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Ed(O),U.Va())}function Ta(){return e.ki(this.j().Fa())}
function Ua(L,O){return e.compare(e.VV(100*this.j().Ie()),L,O)}function Wa(){return this.j().Rc()}function eb(L){const O=this.j();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&(O.yh(L),this.g.fa())}function fb(L){L=e.oa(L/100,0,1);const O=this.j();O.Ie()!==L&&(O.kl(L),this.g.fa())}function Pa(L){a.Qs(L);L=this.j();L.ib.mm(a)||(L.cP(a),this.g.fa())}function Va(){const L=this.j().ib;return e.Oy(L.Za,L.bb,L.ab,L.$a)}function ib(){return e.VV(100*this.j().Ie())}function Ya(L){return L?this.j().ba()===L:!1}function vb(L){const O=
this.U(),U=O.la();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.j(),ka=aa.j(),wa=ua.ba().Ja(),Ga=ka.ba().Ja();if(0===L){if(wa>Ga||wa===Ga&&ua.uh()>ka.uh())aa=ja}else if(wa<Ga||wa===Ga&&ua.uh()<ka.uh())aa=ja}O.Km(aa);return!0}function wb(L,O,U){const aa=this.j();L=0===L?aa.Xa():aa.le();return e.compare(L,O,U)}function jb(){this.j().d6()}function xb(){this.j().b6()}function yb(L){L&&this.j().c6(L)}function zb(L,O){L=0===L;O&&(O=O.XD(this.Ea()))&&this.j().a6(O,
L)}function Ab(L){const O=this.j();O.Xa()!==L&&(O.Ne(L),this.g.fa())}function Bb(){return this.j().ba().Ja()}function Cb(){return this.j().ba().Ca()}function Db(){return this.j().uh()}function kb(){return this.j().Xa()}function Eb(){return this.j().le()}function Fb(L,O){if(O=this.I().Qa.Uk(O)){O=O.Ja();L=1===L;var U=this.j().ig;U.Gt(O)!==L&&(U.GO(O,L),U.Bh(),this.g.fa())}}function Gb(L,O,U){var aa=this.I().Qa.Uk(L);if(aa){L=aa.Ja();var ha=this.j().ig,fa=ha.Tk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Tf().ky(O);if("color"===aa){a.Qs(U);O=fa[O];if(a.mm(O))return;O.sj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Gt(L)&&this.g.fa()}}}const lb=e.A(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Cc<U.Cc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Cc<U.Cc?L.co(O,U):L.co(U,O)}function qa(L,O,U){return O.Cc<U.Cc?L.ea(O,U):L.ea(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Ea();const ha=0!==U||0!==aa,fa=L.j(),ja=L.J(),ua=ja.Ui;var ka=ja.Nf();
const wa=ka.Ge().Pd;var Ga=ka.I();ka=ka.hj;const Ia=O.U();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.$b?(lb.ua(fa.hd()),lb.offset(U,aa),ua.ND(fa.ba(),O,lb,mb),O=mb):wa?ja.iN()&&!Ia.ec.length&&Ia.H.length?O=Ia.H:(O=Ia.ec,ob=!0):O=Ia.H;ha&&(db=fa.S(),Ha=fa.T(),fa.My(U,aa),fa.Va());for(const da of O)if(ua.DF(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.zh(db,Ha),fa.Va());e.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.J().Kb().Pd;O=Za.U();const U=O.H,aa=O.ec;O.$b?(O.du(Qa),L&&(e.F(aa),
O.xL(Qa,Za.la()))):L?ob?O.B5(Qa):(O.xL(Qa,U),O.du(Qa)):O.du(Qa);Za.ic()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.re)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Ui,aa=O.qa(),ha=aa.jd();var fa=aa.Nf();const ja=fa.I();var ua=fa.Mj(),ka=fa.At();fa=ha.ff();const wa=O.Ak,Ga=wa-1,Ia=fa.Kb(),db=ha.Ta(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.A(e.Ot),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Jb().addEventListener("instancedestroy",
Ra=>{Ha.bM(Ra.instance)}));O=L.U();ua=ja.U().la();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.ND(Ea.j().ba(),L,Ea.j().hd(),Xa),ka=Xa,U.AL(Ea,L,ka)):ka=O.la();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.DF(Ea,La)||U.JL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Ke(ma),na=ja.U(),da=L.U(),na.ne(!1),da.ne(!1),ja===L?(da=na.H,e.F(da),da.push(Ea),da.push(La),ja.ic()):(na=na.H,da=da.H,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.ic(),L.ic()),Ia.Cg(fa,db),aa.Pb(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Pa();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Ui,aa=O.qa(),ha=aa.jd();var fa=aa.Nf();const ja=fa.I();var ua=fa.Mj(),ka=fa.At();fa=ha.ff();const wa=O.Ak,Ga=wa-1,Ia=fa.Kb(),db=ha.Ta(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.A(e.Ot),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Jb().addEventListener("instancedestroy",Ra=>
{Ha.bM(Ra.instance)}));O=L.U();ua=ja.U().la();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.ND(Ea.j().ba(),L,Ea.j().hd(),Xa),ka=Xa,U.AL(Ea,L,ka)):ka=O.la();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.DF(Ea,La)||U.JL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Ke(ma),na=ja.U(),da=L.U(),na.ne(!1),da.ne(!1),ja===L?(da=na.H,e.F(da),da.push(Ea),da.push(La),ja.ic()):(na=na.H,da=da.H,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.ic(),L.ic()),yield*Ia.wg(fa,db),aa.Pb(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Pa();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.j().Qj()}function rb(){return this.j().kf()}function sb(L,O){const U=this.U().la();if(0===U.length)return!1;const aa=L.U();var ha=aa.la();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.jx())wa.kq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ia(),null===ja)continue}else ja=ja.vy();ja.kq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.du(fa);L.ic();return!0}function tb(L,O){const U=this.U().la();if(0===U.length)return!1;const aa=L.U();var ha=aa.la();if(aa.$b){var fa=[...this.g.PK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.kf()&&ka.kq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Kk())2===O&&wa.kf()||wa.kq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.du(fa);L.ic();return!0}function ub(L,O){const U=this.U().la();if(0===U.length)return!1;const aa=L.U();var ha=aa.la();if(aa.$b){var fa=[...this.g.PK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].MD(O);null!==ka&&ka.kq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Vt(fa);L.ic();return!0}function gb(L,O){return e.compare(this.ja.Xx(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.ja,wa=this.g.kt().I();for(const Ga of L.dV(ka,wa)){if(!Ga.zb().HU)break;ka.tm(Ga,{Ts:O,Us:U,hq:aa,gq:ha,Ss:fa,Vs:ja,Uw:ua})}}function l(L){const O=this.ja,U=this.g.kt().I();for(const aa of L.dV(O,U))O.Vj(aa)}function t(){this.ja.Qj()&&this.ja.Ia().Vj(this.ja)}function x(){return this.ja.Xx()}function B(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Sy(),U.Va()):U.wD(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.j();ka.TO(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,tx:fa,lW:ja,oW:ua})&&ka.Va()}function E(){const L=this.j();return L.Vf()?L.Nj().pk:0}function I(){const L=this.j();return L.Vf()?L.Nj().Dk:0}function K(L){const O=this.j();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&O.yh(L)}function N(L,O){this.t4(L,O)}function Q(L,O){this.s4(L,""+O)}function S(L){this.C3(L)}function W(){this.mM()}function V(){this.DL()}function ea(){return this.PH}function ia(L){this.Moa(0!==L)}function ca(){return this.Koa()}
function oa(L,O,U){return e.compare(this.Ea().He(L),O,U)}function la(L){return!!this.Ea().He(L)}function ra(L,O){const U=this.U(),aa=U.la();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.He(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.He(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Km(fa);return!0}function sa(L){if(this.g.Nf().hj){{const aa=this.U();if(aa.$b){aa.ne(!1);aa.Ex();var O=this.la();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Cc===L?aa.sl(U):aa.Vo(U)}this.ic();
L=!!aa.H.length}else{O=aa.H;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Cc===L?aa.sl(ja):++U}e.cf(O,U);this.ic();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.J().ti(O);if(!O)return!1;const U=L.U();if(!U.$b&&!U.H.includes(O))return!1;if(L.cb){if(O.I().lD(L))return U.Km(O),L.ic(),!0}else if(O.I()===L)return U.Km(O),L.ic(),!0;return!1}function za(){this.g.vm(this.ja)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Ea().Om(L,O)}function Fa(L,
O){const U=this.Ea(),aa=U.He(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Om(L,aa+O)}function Ja(L,O){const U=this.Ea(),aa=U.He(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Om(L,aa-O))}function Ka(L,O){this.Ea().Om(L,O?1:0)}function Da(L){const O=this.Ea();O.Om(L,0===O.He(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Ea();
L.Cz("state");L.ud(O,"state")}function Ib(){return JSON.stringify(this.Ea().Dd("state"))}function nc(){return this.Ea().I().Ca()}function oc(){const L=this.g.ef().VH;let O=L.H.length;for(const U of this.g.PK(L))++O;return O}function pc(){return this.g.ef().VH.U().la().length}function qc(){return this.ja.lo()}function rc(){return this.ja.Cc}e.xW=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.L,da=O.Db,na=O.Ub;L[3]&&(ma.aha=
b,ma.BX=d,ma.Sia=c,ma.Uia=g,ma.b3=m,da.ag=h,da.bg=k,da.O4=n,da.fna=p,da.Bja=q,da.Aja=u,na.oz=w,na.KF=r,na.HK=v);aa&&(ma.$ga=y,ma.Sga=A,da.nf=G,da.Zf=z,da.ld=F,na.X5=H,na.i0=J,na.oga=M,na.qga=P,na.pga=R,na.nga=T);ha&&(ma.NW=Z,ma.i1=X,ma.g1=ba,da.Ed=Y,da.Ula=va,da.Vla=ta,da.Wla=ya,da.Xla=Na,da.U4=Sa,na.dga=Ta);fa&&(ma.Rc=Wa,ma.Tga=Ua,da.yh=eb,da.kl=fb,da.tma=Pa,na.Opacity=ib,na.Lga=Va);ja&&(ma.Qia=Ya,ma.zka=vb,ma.bha=wb,da.Cja=jb,da.c2=xb,da.FN=yb,da.Ioa=zb,da.Ne=Ab,na.gja=Bb,na.fja=Cb,na.Hoa=Db,na.Goa=
kb,na.Rna=Eb);ua&&(da.vma=Fb,da.wma=Gb);Ia&&(ma.Qj=Rb,ma.kf=rb,ma.xka=sb,ma.rka=tb,ma.vka=ub,ma.Qga=gb,da.tm=f,da.Vj=l,da.$ka=t,na.Gga=x);db&&(da.ana=B,da.TO=D,na.xja=E,na.yja=I);ka&&(ma.Rc=Wa,da.yh=K,da.qma=N,da.xma=Q,da.Zka=S);wa&&(ma.Gia=ea,da.Ama=W,da.nma=V);Ga&&(ma.Bi=ca,da.u4=ia);Ha&&(ma.Tja=Nb,ma.q1=Pb,ma.r1=Qb,O.uZ=Mb);U||(ma.LL=oa,ma.h1=la,ma.ska=ra,ma.qka=sa,da.NO=Ca,da.Yfa=Fa,da.Ina=Ja,da.oma=Ka,da.Nna=Da,ma.LN=Aa,ma.s2=Ba,da.bY=za,da.LE||(da.LE=Hb),na.UW||(na.UW=Ib),na.hha=oc,na.d3=pc,
na.fia=qc,na.Yna=rc,na.Oja=nc)}}
{"use strict";const e=self.C;e.eF=class extends e.ka{constructor(a){super();this.ya=a;this.Ba="";this.hc=-1;this.ww="";this.jB=!1;this.Zi=null;this.dg=0;this.Xe=[];this.Up=new Map;this.zl=null;this.Tu=-1;this.bI=this.Rg=null;this.vw=!1}B(){this.Ba="";this.hc=-1;this.ww="";this.bI=this.Rg=this.zl=this.Zi=null;this.Tu=-1;e.F(this.Xe);for(const a of this.Up.values())a.B();this.Up.clear()}Jg(){var a=this.ya,b=a.J().Uc;const d=a.ef();this.Zi=d.Kb();this.dg=d.dg+1;if(a=a.FD(this.Zi))this.zl=a,this.Rg=a.pX(),
this.bI=a.qI.map(c=>c.ga()),a.Ag()&&(this.Tu=a.Z2());for(const c of b)if(b=c.U(),!b.$b||this.Zi.f0(c))this.Xe.push(c),this.Up.set(c,e.A(e.gP,b))}Z0(a){this.Ba="timer";this.Jg();this.hc=this.ya.J().ko()+a}X0(a){this.Ba="signal";this.Jg();this.ww=a.toLowerCase()}L0(a){this.Ba="promise";this.Jg();a.then(()=>this.pF()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.pF()})}z1(){return"timer"===this.Ba}x1(){return"signal"===this.Ba}t1(){return"promise"===
this.Ba}pF(){this.jB=!0}UR(){return this.z1()?this.hc<=this.ya.J().ko():this.jB}xR(a){a.BG(this.Zi,this.dg);for(const [b,d]of this.Up.entries())d.BG(b.U());if(a=this.zl)a.$t(this.Rg),a.qI.map((b,d)=>b.Me(this.bI[d])),a.Ag()&&a.U3(this.Tu)}iaa(a){this.xR(a);this.Zi.haa(a);this.zl&&this.zl.Ag()&&this.zl.Lt(this.Tu);this.ya.mq(this.Xe);this.vw=!0}async h7(a){this.xR(a);for(const b of this.Zi.g7(a))await this.ya.J().oq(b);this.zl&&this.zl.Ag()&&this.zl.Lt(this.Tu);this.ya.mq(this.Xe);this.vw=!0}Go(a){for(const b of this.Up.values())b.Go(a)}ma(){const a=
{},b={t:this.hc,st:this.ww,s:this.jB,ev:this.Zi.kb,sm:this.Xe.map(d=>d.kb),sols:a};this.Zi.J8(this.dg)&&(b.act=this.Zi.pM(this.dg).kb);for(const [d,c]of this.Up)a[d.kb.toString()]=c.ma();return b}static M6(a,b){const d=a.J();var c=a.TZ(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var m=a.BZ(b.act);if(!m)return null;g=m.Ja()}m=e.A(e.eF,a);m.hc=b.t;m.Ba=-1===m.hc?"signal":"timer";m.ww=b.st;m.jB=b.s;m.Zi=c;m.dg=g;for(var h of b.sm)(c=d.jy(h))&&m.Xe.push(c);for(const [k,n]of Object.entries(b.sols))if(b=
d.jy(parseInt(k,10)))h=e.A(e.gP,null),h.ta(a,n),m.Up.set(b,h);return m}}}{"use strict";const e=self.C;e.gP=class extends e.ka{constructor(a){super();this.M=null;this.iB=!0;this.H=[];a&&(this.M=a.I(),this.iB=a.$b,e.Pc(this.H,a.H))}B(){this.M=null;e.F(this.H)}BG(a){a.ne(this.iB);e.Pc(a.H,this.H)}Go(a){e.tg(this.H,a)}ma(){return{sa:this.iB,insts:this.H.map(a=>a.Cc)}}ta(a,b){a=a.J();this.iB=!!b.sa;e.F(this.H);for(const d of b.insts)(b=a.ti(d))&&this.H.push(b)}}}
{"use strict";const e=self.C;function a(b,d){let c=b.get(d);c||(c=new Map,b.set(d,c));return c}e.Qq=class extends e.ka{constructor(b){super();this.g=b.Jf;this.kn=!!b.CV;this.xf=!!b.Eea;this.Zca=!!b.Dea;this.gda=!!b.Qea;this.Mca=!!b.tea;this.HU=!!b.qfa;this.Ada=!!b.pfa;this.uU=null;this.oS=new Map;this.pca=new Map;this.qca=new Map;this.rca=new Map}B(){this.g=null}J(){return this.g}Bd(){}Gq(){return this.Zca}Iq(){return this.gda}mE(){return this.Mca}dk(b,d){if(!d)throw Error("missing 'this' binding");
let c=this.oS.get(b);if(c)return c;c=b.bind(d);this.oS.set(b,c);return c}nQ(b,d,c){if(!d)throw Error("missing 'this' binding");const g=a(this.pca,b);let m=g.get(c);if(m)return m;m=b.bind(d,c);g.set(c,m);return m}oQ(b,d,c,g){if(!d)throw Error("missing 'this' binding");var m=a(this.qca,b);m=a(m,c);let h=m.get(g);if(h)return h;h=b.bind(d,c,g);m.set(g,h);return h}pQ(b,d,c,g,m){if(!d)throw Error("missing 'this' binding");var h=a(this.rca,b);h=a(h,c);h=a(h,g);let k=h.get(m);if(k)return k;k=b.bind(d,c,g,
m);h.set(m,k);return k}tba(b){if(!this.kn)throw Error("must be single-global plugin");this.uU=b}yi(){if(!this.kn)throw Error("must be single-global plugin");return this.uU.yi()}}}
{"use strict";const e=self.C;e.$la=class extends e.Qq{constructor(a,b){super(a);this.dn=b;this.jda=0;this.rI=new Map;this.wL("elem-focused",d=>d.f$());this.wL("elem-blurred",d=>{d&&d.e$()})}B(){super.B()}j6(a){const b=this.jda++;this.rI.set(b,a);return b}Z$(a){this.rI.delete(a)}wL(a,b){this.g.li(this.dn,a,d=>{const c=this.rI.get(d.elementId);b(c,d)})}}}{"use strict";const e=self.C;e.Vy=class extends e.ka{constructor(a){super();this.M=a;this.g=a.J();this.Wh=a.zb()}B(){this.Wh=this.g=this.M=null}I(){return this.M}J(){return this.g}zb(){return this.Wh}Of(){return this.M.Of()}et(){}Hq(){}Fo(){}Ny(){}SE(){}Bm(){return null}}}
{"use strict";const e=self.C;e.Uy=class extends e.ka{constructor(a,b){super();this.ja=a;this.dn=b;this.g=a.J();this.M=this.ja.I();this.Oc=this.M.Oc;this.dm=this.em=null;this.Ol=this.Nl=!1;this.Md=null;this.Rw=!1}B(){this.Rw=!0;this.Nu();this.Pz();this.dm=this.em=null;this.Md&&(this.Md.B(),this.Md=null);this.Oc=this.M=this.g=this.ja=null}mz(){return this.Rw}Ea(){return this.ja}J(){return this.g}I(){return this.M}zb(){return this.Oc.zb()}yq(){return this.ja.oh()}Ka(a){return this.g.Ka(a,this.ja,null)}Fd(a){return this.g.Fd(a,
this.ja,null)}eD(a,b){this.g.li(this.dn,a,b)}zW(a){for(const [b,d]of a)this.eD(b,d)}Ei(a,b){this.g.hl(this.dn,a,b)}RE(a,b){return this.g.Bo(this.dn,a,b)}rl(a,b){this.g.se?this.Ei(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.dn,handler:a,data:b,responseId:null})}qf(){}ju(){}Um(){this.Nl||(this.em||(this.em=()=>this.qf()),this.g.Jb().addEventListener("tick",this.em),this.Nl=!0)}Nu(){this.Nl&&(this.g.Jb().removeEventListener("tick",this.em),this.Nl=!1)}XR(){this.Ol||
(this.dm||(this.dm=()=>this.ju()),this.g.Jb().addEventListener("tick2",this.dm),this.Ol=!0)}Pz(){this.Ol&&(this.g.Jb().removeEventListener("tick2",this.dm),this.Ol=!1)}Dd(){return null}ud(){}Fc(){}wh(){}NE(a,b){if(0!==b){var d=this.Fc(a);if("number"!==typeof d)throw Error("expected number");this.wh(a,d+b)}}Bm(){return null}zD(a,b,d){const c=this.yq();a=e.A(e.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.C;e.dF=class extends e.Uy{constructor(a,b){super(a,b);this.Wa=a.j();this.zC=this.Cs=null}B(){if(this.Cs){const a=this.g.Jb();a.removeEventListener("webglcontextlost",this.Cs);a.removeEventListener("webglcontextrestored",this.zC);this.zC=this.Cs=null}this.Wa=null;super.B()}S_(){if(!this.Cs){this.Cs=()=>this.Kq();this.zC=()=>this.WN();var a=this.g.Jb();a.addEventListener("webglcontextlost",this.Cs);a.addEventListener("webglcontextrestored",this.zC)}}Kq(){}WN(){}j(){return this.Wa}yo(){return!1}Jj(){if(!this.yo())throw Error("original size not known");
const a=this.nh();if(a)return a.Y()}Ij(){if(!this.yo())throw Error("original size not known");const a=this.nh();if(a)return a.W()}nh(){return null}PD(){var a=this.nh();return a&&(a=a.ke())?[a.Y(),a.W()]:[100,100]}QD(){const a=this.nh();return a?a.Oj():null}xE(){const a=this.nh();return a?a.Cp:!1}zm(){const a=this.ja.j();return[a.S(),a.T()]}Oq(){return!0}}}
{"use strict";const e=self.C,a=e.A(e.Rect);e.Zla=class extends e.dF{constructor(b,d){super(b,d);this.wA=this.zb().j6(this);this.rT=!0;this.lca=this.PH=!1;this.Vr=e.A(e.Rect,0,0,-1,-1);b=this.g.P;this.IT=b.Gk;this.HT=b.Fk;this.Um()}B(){this.zb().Z$(this.wA);this.Lq("destroy");this.wA=-1;super.B()}Lq(b,d){d||(d={});d.elementId=this.wA;this.Ei(b,d)}nR(b){b||(b={});b.elementId=this.wA;this.rl("focus",b)}$y(b){b=!!b;this.rT!==b&&(this.rT=b,this.Lq("set-visible",{isVisible:b}))}qf(){this.Tba()}Aba(){const b=
this.g.P.by();return"Android"===e.Sc.Jq&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Tba(){var b=this.j();const d=b.ba();var c=b.S(),g=b.T();let [m,h]=d.Ao(c,g),[k,n]=d.Ao(c+b.Y(),g+b.W());c=this.g.P;g=c.Xc;const p=c.Jc;if(b.Rc()&&d.Rc()){if(!this.Aba()){if(0>=k||0>=n||m>=g||h>=p){this.$y(!1);return}1>m&&(m=1);1>h&&(h=1);k>=g&&(k=g-1);n>=p&&(n=p-1)}a.set(m,h,k,n);b=c.Gk;g=c.Fk;a.sd(this.Vr)&&this.IT===b&&this.HT===g?this.$y(!0):(this.Vr.ua(a),this.IT=b,this.HT=g,this.$y(!0),b=null,this.lca&&
(b=d.Ej()-.2),this.Lq("update-position",{left:Math.round(this.Vr.ca)+c.ho(),top:Math.round(this.Vr.Z)+c.io(),width:Math.round(this.Vr.width()),height:Math.round(this.Vr.height()),fontSize:b}))}else this.$y(!1)}mM(){this.nR({focus:!0})}DL(){this.nR({focus:!1})}f$(){this.PH=!0}e$(){this.PH=!1}t4(b,d){this.Lq("set-css-style",{prop:e.gX(b),val:d})}s4(b,d){this.Lq("set-attribute",{name:b,val:d})}C3(b){this.Lq("remove-attribute",{name:b})}}}
{"use strict";const e=self.C,a=self.k0;e.tO=class extends e.ka{constructor(b){super();this.g=b.Jf;this.jJ=e.A(e.jD);this.GB=e.A(e.jD);this.Bv=null;this.uda=b.Jra||null}B(){this.GB.B();this.jJ.B();this.g=null}J(){return this.g}Bd(){}k6(b){this.jJ.Ec(b)}IM(){return this.jJ.ID()}Ig(b){this.GB.Ec(b)}Wo(b){this.GB.co(b)}la(){return this.GB.ID()}g_(){if(null===this.Bv){const b=this.uda;if(b){if(this.Bv=new b(this),!(this.Bv instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Bv=new a(this)}return this.Bv}}}{"use strict";const e=self.C;e.vO=class extends e.ka{constructor(a){super();this.g=a.J();this.Wc=a;this.M=a.I();this.Ri=a.Sk();this.Ri.k6(this.M)}B(){this.Ri=this.M=this.Wc=this.g=null}yg(){return this.Wc}I(){return this.M}J(){return this.g}Sk(){return this.Ri}}}
{"use strict";const e=self.C;e.uO=class extends e.ka{constructor(a,b){super();this.cA=a;this.dn=b;this.ja=a.ja;this.g=a.J();this.Wc=a.yg();this.Oc=this.Wc.Oc;this.vT=this.Ol=this.Nl=!1;this.Md=null}B(){this.Nu();this.Pz();this.Fba();this.Md&&(this.Md.B(),this.Md=null);this.Oc=this.Wc=this.g=this.ja=this.cA=null}Sk(){return this.Wc.Sk()}I(){return this.ja.I()}j(){return this.ja.j()}J(){return this.g}yg(){return this.Wc}yq(){return this.cA.yq()}Ka(a){return this.g.Ka(a,this.ja,this.Wc)}Fd(a){return this.g.Fd(a,
this.ja,this.Wc)}qf(){}ju(){}Um(){this.Nl||(this.g.e6(this),this.Nl=!0)}Nu(){this.Nl&&(this.g.W$(this),this.Nl=!1)}XR(){this.Ol||(this.g.f6(this),this.Ol=!0)}Pz(){this.Ol&&(this.g.X$(this),this.Ol=!1)}Fba(){this.vT&&(this.g.V$(this),this.vT=!1)}eD(a,b){this.g.li(this.dn,a,b)}Dd(){return null}ud(){}Fc(){}wh(){}NE(a,b){if(0!==b){var d=this.Fc(a);if("number"!==typeof d)throw Error("expected number");this.wh(a,d+b)}}Bm(){return null}zD(a,b,d){const c=this.yq();a=e.A(e.Event,a,b);a.Voa=c;a.instance=c.instance;
d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.C;e.D={};e.Tb={};e.f3=class extends e.ka{constructor(a){super();this.g=a;this.ica=[];this.eU=new Map;this.Hd=null;this.fca=[];this.qH=new Map;this.BT=this.xU=null}OX(a){const b=this.g.ph(a[0]);if(!b)throw Error("missing plugin");e.xW(a,b);a=e.A(b,{Jf:this.g,CV:a[1],Eea:a[2],Dea:a[5],tea:a[8],Qea:a[9],qfa:a[13],pfa:a[14]});a.Bd();this.ica.push(a);this.eU.set(b,a)}QX(){this.Hd=e.A(e.D.Ya,{Jf:this.g,CV:!0});this.Hd.Bd()}KX(a){a=this.g.ph(a[1]);if(!a)throw Error("missing behavior");
const b=e.A(a,{Jf:this.g});b.Bd();this.fca.push(b);this.qH.set(a,b);!this.xU&&e.Tb.nfa&&b instanceof e.Tb.nfa?this.xU=b:!this.BT&&e.Tb.Gea&&b instanceof e.Tb.Gea&&(this.BT=b)}D_(a){return this.eU.get(a)||null}Z_(a){return this.qH.has(a)}FZ(a){return this.qH.get(a)||null}xt(){return this.Hd}}}
{"use strict";const e=self.C,a=new Set;e.Cy=class extends e.ka{constructor(){super();this.Ck="";this.V=this.$=this.hw=this.gw=this.ns=0;this.yv=this.Cp=!1;this.tf=null;this.cm="";this.kg=e.A(e.Rect);this.Qp=e.A(e.Cd);a.add(this)}B(){this.Fi();this.tf=null;a.delete(this)}static Kq(){for(const b of a)b.cm="",b.kg.set(0,0,0,0),b.Qp.xj(b.kg)}zN(b){this.Ck=b[0];this.ns=b[1];this.gw=b[2];this.hw=b[3];this.$=b[4];this.V=b[5];this.Cp=b[6];this.yv=!0}N1(b,d){if(this.tf)throw Error("already loaded asset");
this.Ck=d;const c={};e.vE(d)&&(c.gx="remote");this.yN(b,c);return this.tf.xN()}L3(b){if(b===this)throw Error("cannot replace with self");this.Fi();this.Ck=b.Ck;this.ns=b.ns;this.gw=b.gw;this.hw=b.hw;this.$=b.$;this.V=b.V;this.Cp=b.Cp;this.yv=b.yv;this.tf=b.tf;this.cm=b.cm;this.kg=b.kg;this.Qp=b.Qp}Cm(){return this.ns}Y(){return this.$}W(){return this.V}yN(b,d){if(this.tf)throw Error("already got asset");d=Object.assign({},d,{url:this.Ck,size:this.Cm()});this.tf=b.Ly(d)}GE(){return this.tf&&this.tf.GE()}async Kt(b,
d){if(!this.tf)throw Error("no asset");if(this.cm)throw Error("already loaded texture");this.cm="loading";b=await this.tf.Kt(b,d);if(!b)return this.cm="",null;this.cm="loaded";this.yv||(this.$=b.Y(),this.V=b.W(),this.yv=!0);this.kg.set(this.gw,this.hw,this.gw+(this.Cp?this.V:this.$),this.hw+(this.Cp?this.$:this.V));this.kg.lm(b.Y(),b.W());this.Qp.xj(this.kg);this.Cp&&this.Qp.dfa();return b}Fi(){this.cm&&(this.tf&&this.tf.Fi(),this.cm="",this.kg.set(0,0,0,0),this.Qp.xj(this.kg))}ke(){return this.tf?
this.tf.ke():null}Oj(){return this.kg}ty(){return this.Qp}}}
{"use strict";const e=self.C;e.PW=class extends e.ka{constructor(a){super();this.La=a[0];this.wda=a[1];this.eB=!!a[2];this.ms=a[3];this.oU=a[4];this.Yca=!!a[5];this.kb=a[6];this.Od=a[7].map(b=>e.A(e.OW,b))}B(){for(const a of this.Od)a.B();e.F(this.Od)}K1(a){for(const b of this.Od)b.Of().yN(a)}L1(a,b){return Promise.all(this.Od.map(d=>d.Of().Kt(a,b)))}y3(){for(const a of this.Od)a.Of().Fi()}Ca(){return this.La}ym(a){a=Math.floor(a);if(0>a||a>=this.Od.length)throw new RangeError("invalid frame");return this.Od[a]}$k(){return this.wda}th(){return this.ms}}}
{"use strict";const e=self.C;e.OW=class extends e.ka{constructor(a){super();this.hg=e.A(e.Cy);this.hg.zN(a);this.FS=a[7];this.bU=e.A(e.lu,a[8],a[9]);this.PA=a[10].map(b=>e.A(e.u0,this,b));this.hT=new Map;for(const b of this.PA)this.hT.set(b.Ca().toLowerCase(),b);this.ep=null;a=a[11];6<=a.length&&(this.ep=e.A(e.bo,a))}B(){this.ep&&(this.ep.B(),this.ep=null);this.hg.B();this.hg=null}Of(){return this.hg}Xk(){return this.bU.R}Yk(){return this.bU.O}i_(a){return this.hT.get(a.toLowerCase())||null}h_(a){a=
Math.floor(a);return 0>a||a>=this.PA.length?null:this.PA[a]}$D(){return this.PA.length}}}{"use strict";const e=self.C;e.u0=class extends e.ka{constructor(a,b){super();this.La=b[0];this.xJ=e.A(e.lu,b[1],b[2])}B(){}Ca(){return this.La}S(){return this.xJ.R}T(){return this.xJ.O}}}
{"use strict";const e=self.C,a=self.vg,b=self.cN;e.ME=class extends e.ka{constructor(d,c,g){super();const m=d.ph(g[1]);this.g=d;this.Wh=d.Np.D_(m);this.Oc=null;this.TA=m.Instance;this.Ra=c;this.kb=g[11];this.La=g[0];this.Tv=this.g.wi(g[14]);this.Wca=!!g[9];this.cb=!!g[2];this.HI=!!g[10];this.dj=g[3].map(h=>({aW:h[0],type:h[1],name:h[2],Fea:d.wi(h[3])}));this.nca=g[4];this.Ica=g[5];this.xf=this.Wh.xf;this.Qa=null;this.lA=e.A(e.q5,d.Xg,d.Wg);this.jH=!0;this.kH=!1;this.YH=this.pp=null;this.Mh=-1;this.XH=
this.BA=this.CA=this.WH=this.Lh=null;this.BI=!1;this.Ng=null;this.mS=g[8].map(h=>e.BL.Sa(this,h));this.dA=[];this.rH=new Map;this.pH=new Map;this.QU=new Set;this.yn=e.A(e.n5,this);this.Zz=this.Yz=this.Kd=this.hg=this.Ng=this.Fr=null;this.us=0;this.Hb=new Map;this.ci=new Map;this.H=[];this.nI=!0;this.Wh.mE()&&(this.Qa=e.A(e.Pk,this,g[12]));g[6]&&(this.hg=e.A(e.Cy),this.hg.zN(g[6]));if(g[7]){this.Kd=g[7].map(h=>e.A(e.PW,h));this.Yz=new Map;this.Zz=new Map;for(const h of this.Kd)this.Yz.set(h.Ca().toLowerCase(),
h),this.Zz.set(h.kb,h)}this.cb?(this.pp=[],this.YH=new Set,this.Mh=this.g.v8()):(this.Lh=[],this.WH=new Set,this.CA=[],this.BA=[],this.XH=[]);this.Oc=e.A(m.Qm,this,g[15]);this.oT=this.Dv=null;this.ge=e.A(e.Event.Jb);if(c=this.Oc.Bm()){if(this.Dv=new c(this),!(this.Dv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Dv=new b(this);this.g.vC&&!this.cb&&!this.HI&&this.xf||this.Bd();this.Wh.kn&&(this.Wh.tba(this),this.V6(g))}static Sa(d,c,g){return e.A(e.ME,
d,c,g)}B(){this.hg&&(this.hg.B(),this.hg=null);if(this.Kd){for(const d of this.Kd)d.B();e.F(this.Kd);this.Yz.clear();this.Zz.clear()}this.yn.B();this.yn=null;this.Hb.clear();this.ci.clear();this.g=this.Ng=null}p9(d){for(let c=1,g=d.length;c<g;++c){const m=this.g.gf(d[c]);this.pp.push(m);this.YH.add(m);m.Lh.push(this);m.WH.add(this)}}Taa(d){this.BI=!0;this.Ng=d}ac(){return this.BI}U9(){var d=0;if(!this.cb)for(var c of this.Lh)for(var g of c.mS){const k=g.Ca().toLowerCase();this.rH.set(k,g);this.pH.set(k,
d);this.dA.push(g);++d}for(var m of this.mS)c=m.Ca().toLowerCase(),this.rH.set(c,m),this.pH.set(c,d),this.dA.push(m),++d;for(var h of this.dA)this.QU.add(h.Sk().constructor);if(!this.cb&&this.Lh.length){d=this.g.KS;e.IC(this.CA,d,0);e.IC(this.BA,d,0);e.IC(this.XH,d,0);d=[];c=h=m=0;for(const k of this.Lh)if(g=k.Mh,this.CA[g]=m,m+=k.dj.length,this.BA[g]=h,h+=k.nca,this.XH[g]=c,c+=k.Ica,(g=k.Qa)&&this.Qa)for(const n of g.xg())d.push(n.xX(this.Qa));this.Qa&&this.Qa.n3(d)}}V6(d){const c=this.g.u8(),g=
e.A(e.Instance,{Jf:this.g,aL:this,uid:c});g.qz(d[16],[]);this.g.H9(c,g);this.H.push(g)}Bd(){this.cb||this.Oc.Bd()}c0(){return 0<this.us}Hq(d){if(this.cb)return Promise.resolve();this.us++;return 1===this.us?this.Oc.Hq(d)||Promise.resolve():Promise.resolve()}Fo(){if(!this.cb){this.us--;if(0>this.us)throw Error("released textures too many times");0===this.us&&this.Oc.Fo()}}Ny(){if(this.cb)throw Error("not applicable to family");this.Oc.Ny()}SE(d){return this.cb?Promise.resolve():this.Oc.SE(d)}J(){return this.g}zb(){return this.Wh}Ca(){return this.La}wi(){return this.Tv}Ja(){return this.Ra}Wf(){return this.Wca}qP(d){return d&&
this.QU.has(d)}n_(){return this.dj.map(d=>d.aW)}m_(d){return this.dj.findIndex(c=>c.aW===d)}l_(d){return this.dj.findIndex(c=>c.name===d)}l8(){return this.dj.map(d=>d.Fea)}qt(d){d=Math.floor(d);if(0>d||d>=this.dj.length)throw new RangeError("invalid instance variable index");return this.dj[d].type}DM(d){d=Math.floor(d);if(0>d||d>=this.dj.length)throw new RangeError("invalid instance variable index");return this.dj[d].name}Vx(d){return this.rH.get(d.toLowerCase())||null}it(d){d=this.pH.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}mE(){return this.Wh.mE()}rP(){return this.Qa&&this.Qa.U_()}U(){return this.yn.U()}Of(){return this.hg}EO(d){this.Fr=d}lD(d){return this.WH.has(d)}jM(d){return this.YH.has(d)}jo(d){return this.BA[d]}WD(d){return this.CA[d]}qM(d){if(!this.Kd)throw Error("no animations");return this.Yz.get(d.toLowerCase())||null}EZ(d){if(!this.Kd)throw Error("no animations");return this.Zz.get(d)||null}a_(){if(!this.Kd)throw Error("no animations");return this.Kd[0].ym(0)}PZ(){if(this.Kd){const d=
this.a_().Of();return[d.Y(),d.W()]}return this.hg?[this.hg.Y(),this.hg.W()]:[100,100]}yi(){if(!this.Wh.kn)throw Error("not a single-global plugin");return this.H[0]}la(){return this.H}*yV(){yield*this.H}*xea(){yield*this.H;for(const d of this.g.Jl)d.I()===this&&(yield d)}Ig(d){this.H.push(d)}Iu(){this.nI=!0}Sz(){if(this.nI&&!this.cb){var d=this.H,c=0;for(let g=d.length;c<g;++c)d[c].LR(c);d=this.g.Jl;for(const g of d)g.I()===this&&g.LR(c++);this.nI=!1}}CM(d){var c=this.H;if(d<c.length)return c[d];
d-=c.length;c=this.g.Jl;for(const g of c)if(g.I()===this){if(0===d)return g;--d}return null}XD(d){if(d&&d.ac()&&d.I()!==this)for(const c of d.Gd)if(c.I()===this)return c;d=this.U().la();return d.length?d[0]:null}B_(d){const c=this.U().la();return 0<c.length?c[d.lo()%c.length]:null}*dV(d,c){const g=this.U().la();var m=g.length;const h=c.U(),k=c.U().la(),n=k.length;var p=d.lo();if(c.cb||!h.$b)p=k.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}et(d){this.Oc.et(d)}ic(){if(this.BI&&
!this.cb){this.Sz();var d=this.U(),c=d.H,g=d.$b,m=this.g.ef();m=m&&m.Kb()&&m.Kb().Pd;for(const n of this.Ng.Wl)if(n!==this){n.Sz();var h=n.U();h.ne(g);if(!g){var k=h.H;e.F(k);for(const p of c)k.push(n.CM(p.lo()));if(m){k=d.ec;h=h.ec;e.F(h);for(const p of k)h.push(n.CM(p.lo()))}}}}}Nba(d,c){for(const g of this.Ng.Wl){const m=g.U();d?e.cf(m.ec,c):e.cf(m.H,c)}}HR(){this.jH=!0}GG(d){this.kH=!!d}bS(){if(this.jH&&this.xf){for(const d of this.H)d.j().eS();for(const d of this.g.Jl)d.I()===this&&d.j().eS();
this.jH=!1}}Mj(){this.Hb||(this.Hb=new Map);return this.Hb}At(){this.ci||(this.ci=new Map);return this.ci}$M(){return this.qP(e.Tb.Kja)}nE(){return this.qP(e.Tb.mka)}ma(){const d={instances:this.H.map(c=>c.Dd())};this.Hb&&this.Hb.size&&(d.ex=e.FF(this.Hb));return d}ta(d){this.Hb&&(this.Hb.clear(),this.Hb=null);var c=d.ex;c&&(this.Hb=e.GD(c));c=this.H;d=d.instances;for(let g=0,m=Math.min(c.length,d.length);g<m;++g)c[g].ud(d[g]);for(let g=d.length,m=c.length;g<m;++g)this.g.vm(c[g]);for(let g=c.length,
m=d.length;g<m;++g){c=d[g];let h=null;if(this.xf&&(h=this.g.Vb().gy(c.w.l),!h))continue;this.g.oi(this.Fr||this,h,!1,0,0,!0).ud(c)}this.Iu()}lh(d){var c=this.g;(c=c.wb&&!c.qa().Gy())&&a.AF();this.ge.dispatchEvent(d);c&&a.hD()}}}{"use strict";const e=self.C;e.EX=class extends e.ka{constructor(a,b){super();this.g=a;this.Wl=b;for(const d of this.Wl)d.Taa(this)}B(){this.g=null}J(){return this.g}Y_(){return this.Wl.some(a=>a.xf)}}}
{"use strict";const e=self.C,a=self.vg,b=self.Et,d=[];let c=0;const g=new WeakMap,m=new WeakMap;e.Instance=class extends e.ka{constructor(h){super();this.g=h.Jf;this.Zd=h.aL;this.qe=this.ra=this.Wa=null;this.fT=0;this.Cc=h.uid;this.jU=c++;this.Da=0;this.Vc=this.Ve=d;var k=this.Zd.dA;0<k.length&&(this.Vc=k.map((n,p)=>e.A(e.wx,{Jf:this.g,wK:n,instance:this,index:p})));this.Gd=this.Zd.ac()?[]:null;this.fe=-1;this.Xb=null;k=this.zb();k.Iq()&&(this.Da|=4);if(k.xf)if(this.Wa=e.A(e.Y5,this,h.GV),h.pW)this.Wa.Dm(h.pW);
else{this.Wa.K0();const [n,p]=this.Zd.PZ();this.Wa.ld(n,p);this.I().rP()&&this.Wa.ig.M1()}h.xV?this.t9(h.xV):this.n9()}B(){this.qe&&(this.qe.Hu(),this.qe=null);if(0<this.Vc.length){for(var h of this.Vc)h.B();e.F(this.Vc)}this.ra.B();this.ra=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Gd&&e.F(this.Gd);this.Xb&&(this.Xb.B(),this.Xb=null);this.Zd=this.g=null;0<this.Ve.length&&e.F(this.Ve);this.Wa&&(this.Wa.B(),this.Wa=null)}t9(h){0<h.length&&(this.Ve=
[],e.Pc(this.Ve,h))}n9(){const h=this.Zd.dj.length;if(0!==h){this.Ve=[];var k=[0,0,""];for(let n=0;n<h;++n)this.Ve.push(k[this.Zd.qt(n)])}}qz(h,k){if(this.ra)throw Error("already got sdk instance");for(let n=0,p=this.Vc.length;n<p;++n)this.Vc[n].qz(k?k[n]:null);this.ra=e.A(this.Zd.TA,this,h);if(!(this.ra instanceof e.Uy))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Vc.length;n<p;++n);this.Zd.oT&&this.NQ()}j(){return this.Wa}J(){return this.g}CZ(){const h=this.fe;return-1===
h?this.J().fe:h}sF(h){h=+h;if(0>h||!isFinite(h))h=0;this.fe=h}T3(){this.fe=-1}Jb(){this.Xb||(this.Xb=e.A(e.Event.Jb));return this.Xb}mh(h){this.ra.mh(h)}Bd(h){this.ra.Bd(h)}hba(){this.Da|=2}bl(){return 0!==(this.Da&2)}qG(){this.Da|=1}Ft(){return 0!==(this.Da&1)}Iq(){return 0!==(this.Da&4)}GN(){return 0!==(this.Da&32)}Zt(h,k){h<<=16;this.Da=k?this.Da|h:this.Da&~h}YD(h){return 0!==(this.Da&h<<16)}nh(){return this.ra.nh()}PD(){return this.ra.PD()}QD(){return this.ra.QD()}xE(){return this.ra.xE()}zm(h){return this.ra.zm(h)}I(){return this.Zd}Oq(){return this.ra.Oq()}kq(h){return h.cb?
h.jM(this.I()):this.I()===h}sP(){if(!this.zb().HU)throw Error("object does not support scene graph");}Qj(){return null!==this.Ia()}Ia(){var h=this.j();return h?(h=h.Ia())?h.Ea():null:null}vy(){var h=this.j();return h?(h=h.vy())?h.Ea():null:null}*jx(){const h=this.j();if(h)for(const k of h.jx())yield k.Ea()}kf(){const h=this.j();return h?h.kf():!1}df(){const h=this.j();return h?h.df().map(k=>k.Ea()):[]}*children(){const h=this.j();if(h)for(const k of h.children())yield k.Ea()}*Kk(){const h=this.j();
if(h)for(const k of h.Kk())yield k.Ea()}Xx(){const h=this.j();return h?h.Xx():0}MD(h){const k=this.j();return k?(h=k.MD(h))?h.Ea():null:null}tm(h,k){this.sP();h.sP();this.j().tm(h.j(),k||{})}Vj(h){const k=this.j();k&&k.Vj(h.j())}Zx(){const h=this.j();return h?h.Zx():!1}j5(){var h=this.j();if(h&&(h=h.LM()))for(const k of h)if(h=this.g.ti(k[2])){const n=k[3];this.tm(h,{Ts:!!(n>>0&1),Us:!!(n>>1&1),hq:!!(n>>2&1),gq:!!(n>>3&1),Ss:!!(n>>4&1),Uw:!!(n>>5&1),Vs:!!(n>>6&1)})}}ac(){return null!==this.Gd}er(h){this.Gd.push(h)}e0(h){return!!this.RM(h)}RM(h){const k=
this.Gd;if(null===k||0===k.length)return!1;for(const n of k)if(n.I()===h)return n;return null}Ji(){for(const h of this.Gd)h.I().U().$j(h)}K$(){for(const h of this.Gd)h.I().U().Vo(h)}sba(h){for(const k of this.Gd)k.I().U().H[h]=k}J$(){for(const h of this.Gd)h.I().U().sl(h)}rba(h){for(const k of this.Gd)k.I().U().ec[h]=k}zb(){return this.Zd.zb()}LR(h){this.fT=h}lo(){this.Zd.Sz();return this.fT}GZ(h){if(!h)return null;for(const k of this.Vc)if(k.Sk()instanceof h)return k;return null}LD(h){return h?(h=
this.GZ(h))?h.ra:null:null}rM(h){const k=this.Vc;for(let n=0,p=k.length;n<p;++n)if(k[n].yg().kb===h)return n;return-1}He(h){h|=0;const k=this.Ve;if(0>h||h>=k.length)throw new RangeError("invalid instance variable");return k[h]}uQ(h){return this.Ve[h]}s8(h){const k=this.Ve[h];return 0===this.Zd.qt(h)?!!k:k}Om(h,k){h|=0;const n=this.Ve;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Zd.qt(h)){case 0:n[h]=k?1:0;break;case 1:n[h]="number"===typeof k?k:parseFloat(k);break;
case 2:n[h]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}F4(h,k){if(0!==k){h|=0;var n=this.Ve;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof k?n[h]+k:n[h]+parseFloat(k);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}Mj(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}At(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,h);return h}HQ(h){const k=this.I();if(k.ge.kE(h))return!0;for(const n of k.Lh)if(n.ge.kE(h))return!0;return this.g.ge.kE(h)?!0:!1}Rz(){const h=new Set;h.add(this);const k=this.j();if(k&&k.kf())for(const n of this.Kk())if(h.add(n),n.ac())for(const p of n.Gd)h.add(p);if(this.ac())for(const n of this.Gd)h.add(n);for(const n of h.values())n.ZR()}ZR(){if(this.HQ("instancecreate")){const h=
this.I(),k=new e.Event("instancecreate");k.instance=this.oh();h.lh(k);for(const n of h.Lh)n.lh(k);this.g.lh(k)}this.g.Ka(this.zb().constructor.L.LN,this,null)}Lba(){this.g.Ka(this.zb().constructor.L.s2,this,null)}c8(h){if(this.qe){var k=new e.Event("destroy");k.Bea=h;this.lh(k)}if(this.HQ("instancedestroy")){k=this.I();var n=new e.Event("instancedestroy");n.instance=this.oh();n.Bea=h;k.lh(n);for(const p of k.Lh)p.lh(n);this.g.lh(n)}}Dd(h="full"){const k={};"full"===h?k.uid=this.Cc:k.c3=!0;if("visual-state"!==
h){var n=g.get(this);n&&n.size&&(k.ex=e.FF(n));-1!==this.fe&&(k.mts=this.fe);if(0<this.Zd.dj.length){n={};var p=this.Zd.n_();for(let q=0,u=this.Ve.length;q<u;++q)n[p[q].toString()]=this.Ve[q];k.ivs=n}if(this.Vc.length){n={};for(const q of this.Vc)(p=q.Dd())&&(n[q.yg().kb.toString()]=p);k.behs=n}}this.Wa&&(k.w=this.Wa.ma(h));(h=this.ra.Dd())&&(k.data=h);return k}Cz(h="full"){this.Wa&&this.Wa.Cz(h)}ud(h,k="full"){if("full"===k)this.Cc=h.uid;else if(!h.c3)return;if("visual-state"!==k){var n=g.get(this);
n&&(n.clear(),g.delete(this));if(n=h.ex)n=e.GD(n),g.set(this,n);this.fe=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=this.Zd.m_(parseInt(u,10)),!(0>n||n>=this.Ve.length)){var p=w;null===p&&(p=NaN);this.Ve[n]=p}}if(this.zb().xf){n=h.w;var q=n.l;this.Wa.ba().kb!==q&&(p=this.Wa.ba(),(q=p.jc().gy(q))?(this.Wa.Ju(q),p.Wo(this,!0),q.Ig(this,!0),q.Gg(),this.Wa.Va()):"full"===k&&this.g.vm(this));this.Wa.ta(n,k)}if("visual-state"!==k&&(k=h.behs))for(const [u,w]of Object.entries(k))k=
this.rM(parseInt(u,10)),0>k||k>=this.Vc.length||this.Vc[k].ud(w);(h=h.data)&&this.ra.ud(h)}oh(){return this.qe||this.NQ()}NQ(){var h=this.Wa?self.By:b;const k=this.ra.Bm(),n=this.Zd.oT,p=n||k||h;b.Jg(this);this.qe=new p;b.Jg(null);if(k&&!(this.qe instanceof h))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${h.name}'`);if(n&&(h=k||h,!(this.qe instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);
return this.qe}r8(h){if(0!==this.Ve.length){var k={},n=this.Zd.l8();for(let p=0,q=n.length;p<q;++p)k[n[p]]={configurable:!1,enumerable:!0,get:e.Instance.prototype.s8.bind(this,p),set:e.Instance.prototype.Om.bind(this,p)};k=Object.create(Object.prototype,k);h.gqa={value:k,writable:!1}}}m8(h){var k=this.Vc;if(0!==k.length){var n={};for(const p of k)n[p.yg().wi()]={value:p.yq(),writable:!1};k=Object.create(Object.prototype,n);h.Sw={value:k,writable:!1}}}lh(h){h.instance=this.oh();var k=this.g;(k=k.wb&&
!k.qa().Gy())&&a.AF();this.oh().dispatchEvent(h);k&&a.hD()}}}
{"use strict";const e=self.C;e.c4=class extends e.ka{constructor(a){super();this.Zb=a;this.Bc=null;this.jA=[];this.iC=a.Y();this.hC=a.W();this.UJ=this.TJ=1;this.LB=0}B(){this.Bc=null;e.F(this.jA)}XO(a){this.LB=(this.Bc=a)?a.Fa():0}Ia(){return this.Bc}kf(){return 0<this.jA.length}df(){return this.jA}R4(a){this.TJ=a}S4(a){this.UJ=a}Kj(){return this.Zb.po()?this.Bc.Y()/this.Bc.Nb.iC:1}Lj(){return this.Zb.oo()?this.Bc.W()/this.Bc.Nb.hC:1}ma(){return{sw:this.iC,sh:this.hC,sx:this.TJ,sy:this.UJ,psa:this.LB,
c:this.jA.map(a=>{let b="";a.qo()&&(b+="x");a.ro()&&(b+="y");a.po()&&(b+="w");a.oo()&&(b+="h");a.wy()&&(b+="a");a.xy()&&(b+="z");a.Zx()&&(b+="d");return{uid:a.Ea().Cc,f:b}})}}ta(a){this.iC=a.sw;this.hC=a.sh;this.TJ=a.sx;this.UJ=a.sy;this.LB=a.psa}Du(a){const b=this.Zb,d=b.J();for(const c of a.c){a=d.ti(c.uid).j();const g=c.f,m={};m.Ts=g.includes("x");m.Us=g.includes("y");m.hq=g.includes("w");m.gq=g.includes("h");m.Ss=g.includes("a");m.Vs=g.includes("z");m.Uw=g.includes("d");b.tm(a,m)}}}}
{"use strict";const e=self.C,a=e.A(e.Rect),b=e.A(e.Cd),d=e.A(e.Event,"bboxchange",!1),c=e.A(e.hb,0,0,0,0),g=e.A(e.bo),m=e.A(e.hb,1,1,1,1),h=e.A(e.Rect,0,0,-1,-1),k=e.A(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;e.Y5=class extends e.ka{constructor(r,v){super();this.ja=r;this.M=r.I();this.g=r.J();this.vk=v;this.Jk=-1;this.Da=196635;this.M.zb().Gq()&&(this.Da|=128);this.es=this.ds=this.FH=this.JJ=this.$a=this.Yc=this.Sg=this.hh=this.ed=this.O=
this.R=NaN;this.wH=e.A(e.Rect);this.xH=e.A(e.Cd);this.kA=k;this.mw=h;this.oj=this.xs=this.eC=null;this.gp=this.ib=m;this.ig=this.Wp=null;this.ja.I().rP()&&(this.ig=e.A(e.a1,this.ja,this));this.Vh=this.Nb=null}qG(){this.Da|=256}B(){this.Wp&&(this.g.ob().eO(this.Wp),this.Wp=null);this.eC=null;this.xs&&(this.xs.OV.B(),this.xs=null);this.oj&&(this.oj.clear(),this.oj=null);this.Sy();this.Qj()&&this.Ia().Vj(this);if(this.kf()){const r=[...this.df()];for(const v of r)this.Vj(v)}this.Fz();this.vk=this.g=
this.M=this.ja=null}Dm(r){q=!1;this.zh(r[0],r[1]);this.Ne(r[2]);this.ld(r[3],r[4]);this.Yc=0;this.Gq()?this.Ed(r[6]):this.$a=0;c.pm(r[7]);this.Hz(c);this.Xq(r[8]);this.Yq(r[9]);this.Yf(r[10]);this.ig&&this.ig.o9(r[12]);r[14]&&u.set(this,{Tda:r[14][1],Hfa:r[14][2]});if(r[15]){var v=r[15];this.wD(v[0],v[1]);r=this.Nj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.uq(z,y);J.ag(H[0]);J.bg(H[1]);J.Ne(H[2]);J.tF(H[3]);J.uF(H[4])}}}q=!0;this.mr()}K0(){this.JJ=
this.$a=this.Yc=this.Sg=this.hh=this.ed=this.O=this.R=0;this.FH=1;this.es=this.ds=0;this.mr()}J(){return this.g}I(){return this.M}Ea(){return this.ja}tu(){return this.wy()?this.Ia().Fa()-this.Nb.LB:0}ag(r){r=+r;if(this.qo()){const v=this.Nb;r-=this.S();const y=-this.tu();0===y?this.R+=r/v.Kj():(this.R+=Math.cos(y)*r/v.Kj(),this.ro()&&(this.O+=Math.sin(y)*r/v.Lj()))}else this.R=r}l2(r){r=+r;this.qo()?this.ag(this.S()+r):this.R+=r}S(){if(this.qo()){let r=this.R;const v=this.Nb,y=this.Ia(),A=this.tu();
0===A?r*=v.Kj():(r=r*v.Kj()*Math.cos(A),this.ro()&&(r-=this.O*v.Lj()*Math.sin(A)));return y.S()+r}return this.R}bg(r){r=+r;if(this.ro()){const v=this.Nb;r-=this.T();const y=-this.tu();0===y?this.O+=r/v.Lj():(this.qo()&&(this.R-=Math.sin(y)*r/v.Kj()),this.O+=Math.cos(y)*r/v.Lj())}else this.O=r}m2(r){r=+r;this.ro()?this.bg(this.T()+r):this.O+=r}T(){if(this.ro()){let r=this.O;const v=this.Nb,y=this.Ia(),A=this.tu();0===A?r*=v.Lj():(r=r*v.Lj()*Math.cos(A),this.qo()&&(r+=this.R*v.Kj()*Math.sin(A)));return y.T()+
r}return this.O}zh(r,v){r=+r;v=+v;if(this.VM()){const A=this.qo(),G=this.ro(),z=this.Nb,F=r-this.S(),H=v-this.T();var y=-this.tu();if(0===y)this.R=A?this.R+F/z.Kj():r,this.O=G?this.O+H/z.Lj():v;else{const J=Math.sin(y);y=Math.cos(y);this.R=A?G?this.R+(y*F-J*H)/z.Kj():this.R+y*F/z.Kj():r;this.O=G?A?this.O+(J*F+y*H)/z.Lj():this.O+y*H/z.Lj():v}}else this.R=r,this.O=v}My(r,v){r=+r;v=+v;this.VM()?this.zh(this.S()+r,this.T()+v):(this.R+=r,this.O+=v)}ED(r,v){return this.S()===r&&this.T()===v}Ne(r){r=+r;
this.xy()&&(r-=this.Ia().Xa());this.ed!==r&&(this.ed=r,this.hS(),r=this.ba(),0!==this.ed&&r.IR(),r.Gg())}hS(){this.mr();if(this.kf()){const r=this.df();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.xy()&&A.hS()}}}n2(r){this.Ne(this.Xa()+r)}Xa(){return this.xy()?this.Ia().Xa()+this.ed:this.ed}le(){return this.ba().Xa()+this.Xa()}nf(r){r=+r;if(this.po()){const v=this.Y();this.hh=0===v?1E-6:r/v*this.hh}else this.hh=r}KN(r){r=+r;this.po()?this.nf(this.Y()+r):this.hh+=r}Y(){return this.po()?this.Ia().Y()*
this.hh:this.hh}Zf(r){r=+r;if(this.oo()){const v=this.W();this.Sg=0===v?1E-6:r/v*this.Sg}else this.Sg=r}JN(r){r=+r;this.oo()?this.Zf(this.W()+r):this.Sg+=r}W(){return this.oo()?this.Ia().W()*this.Sg:this.Sg}ld(r,v){r=+r;v=+v;if(this.po()){const y=this.Y();this.hh=0===y?1E-6:r/y*this.hh}else this.hh=r;this.oo()?(r=this.W(),this.Sg=0===r?1E-6:v/r*this.Sg):this.Sg=v}H_(){if(this.Qj()){const r=this.Nb;return Math.min(r.Kj(),r.Lj())}return 1}Gq(){return 0!==(this.Da&128)}Ed(r){r=+r;this.Gq()&&(this.wy()&&
(r-=this.Ia().Fa()),r=e.Td(r),this.$a!==r&&(this.$a=r,this.rG()))}h2(r){r=+r;0!==r&&this.Gq()&&(this.$a=e.Td(this.$a+r),this.rG())}rG(){this.Da|=262144;if(this.kf()){const r=this.df();for(let v=0,y=r.length;v<y;v++)r[v].rG()}}Fa(){return this.wy()?e.Td(this.Ia().Fa()+this.$a):this.$a}cR(){const r=this.Da;if(0!==(r&262144)){var v=this.Fa();this.JJ=Math.sin(v);this.FH=Math.cos(v);this.Da=r&-262145}}fE(){this.cR();return this.JJ}OD(){this.cR();return this.FH}Xq(r){this.ds=+r}j2(r){this.ds+=+r}Xk(){return this.ds}Yq(r){this.es=
+r}k2(r){this.es+=+r}Yk(){return this.es}Hz(r){this.ib.sd(r)||(this.ib===m?(this.ib=e.A(e.hb,r),this.gp=e.A(e.hb,r),this.gp.gL()):r.HC(1,1,1,1)?this.gp=this.ib=m:(this.ib.set(r),this.gp.set(r),this.gp.gL()),this.mr())}kl(r){r=e.oa(+r,0,1);this.ib.fq!==r&&(c.sj(this.ib),c.fq=r,this.Hz(c))}i2(r){this.kl(this.Ie()+r)}Ie(){return this.ib.fq}cP(r){this.ib.mm(r)||(c.sj(r),c.fq=this.ib.fq,this.Hz(c))}e5(r,v,y){c.Rs(r,v,y);this.cP(c)}cE(){return this.gp}Zx(){return 0!==(this.Da&512)}o4(r){this.Qe(512,r)}qo(){return 0!==
(this.Da&1024)}Z4(r){this.Qe(1024,r)}ro(){return 0!==(this.Da&2048)}VM(){return 0!==(this.Da&3072)}a5(r){this.Qe(2048,r)}po(){return 0!==(this.Da&4096)}Y4(r){this.Qe(4096,r)}oo(){return 0!==(this.Da&8192)}X4(r){this.Qe(8192,r)}wy(){return 0!==(this.Da&16384)}W4(r){this.Qe(16384,r)}xy(){return 0!==(this.Da&32768)}b5(r){this.Qe(32768,r)}MP(){this.Da&=-65025}tm(r,v){if(r!==this&&!r.Qj()&&!this.JQ(r)&&!this.IQ(r)){var y=r.S(),A=r.T(),G=r.Y(),z=r.W(),F=r.Fa(),H=r.Xa();r.OR(this);r.Z4(v.Ts);r.a5(v.Us);
r.Y4(v.hq);r.X4(v.gq);r.W4(v.Ss);r.b5(v.Vs);r.o4(v.Uw);v.Ts&&(r.R=y-this.S(),v.hq&&(r.R/=this.Y()/this.Nb.iC));v.Us&&(r.O=A-this.T(),v.gq&&(r.O/=this.W()/this.Nb.hC));v.hq&&(r.hh=G/this.Y(),r.Nb.R4(r.hh));v.gq&&(r.Sg=z/this.W(),r.Nb.S4(r.Sg));v.Ss&&(r.$a=F-this.Fa());v.Vs&&(r.ed=H-this.Xa());this.g6(r);this.Va()}}Vj(r){if(r.Ia()===this){var v=r.S(),y=r.T(),A=r.Y(),G=r.W(),z=r.Fa(),F=r.Xa();r.OR(null);r.MP();r.zh(v,y);r.ld(A,G);r.Ed(z);r.Ne(F);this.Y$(r);this.Va()}}faa(){for(var r of this.children())this.Vj(r);
(r=this.Ia())&&r.Vj(this);this.MP()}Qj(){return null!==this.Ia()}Ia(){const r=this.Nb;return null!==r?r.Ia():null}vy(){let r=this;for(;r.Qj();)r=r.Ia();return r}*jx(){let r=this.Ia();for(;r;)yield r,r=r.Ia()}$_(r){return this.df().includes(r)}kf(){const r=this.Nb;return null!==r?r.kf():!1}df(){const r=this.Nb;return null!==r?r.df():p}children(){return this.df()}*Kk(){for(const r of this.children())yield r,yield*r.Kk()}Xx(){return this.df().length}MD(r){const v=this.df();r=Math.floor(+r);return 0>
r||r>=v.length?null:v[r]}RF(r){this.Nb||(this.Nb=e.A(e.c4,this));r&&this.Nb.XO(r)}Fz(){this.Nb&&(this.Nb.B(),this.Nb=null)}OR(r){r?(r.RF(null),this.RF(r)):(this.Nb&&this.Nb.XO(null),this.kf()||this.Fz())}IQ(r){if(!this.Qj())return!1;const v=this.Ia();return v===r?!0:v.IQ(r)}JQ(r){if(this.$_(r))return!0;for(const v of this.df())if(v.JQ(r))return!0;return!1}g6(r){this.Nb.df().push(r)}Y$(r){const v=this.Nb.df(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Qj()||this.Fz();r.kf()||r.Fz()}LM(){const r=
u.get(this);return r?r.Tda:null}I_(){const r=u.get(this);return r?r.Hfa:NaN}wq(){return w.get(this)||NaN}oF(r){w.set(this,r)}mr(){if(q){var r=this.g.ob();this.Wp&&r.eO(this.Wp);this.Wp=r.vW(0!==(this.Da&524288)?r.fC||"<point>":r.gC||"<default>",this.Bj(),this.gp,this.Xa())}}Aq(){return this.ib===m}Yf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Bj()!==r&&(this.Da=this.Da&-2080374785|r<<26,this.mr())}Bj(){return(this.Da&2080374784)>>26}Ju(r){this.vk=r;0!==this.Xa()&&this.vk.IR()}ba(){return this.vk}jc(){return this.ba().jc()}Oz(r){this.Jk=
r|0}uh(){this.vk.Pu();return this.Jk}Qe(r,v){this.Da=v?this.Da|r:this.Da&~r}Rc(){return 0!==(this.Da&1)}yh(r){this.Qe(1,r)}Ai(){return 0!==(this.Da&8)}Wt(r){r=!!r;this.Ai()!==r&&(this.Qe(8,r),r?this.Va():this.sR())}qF(r,v){this.Qe(32,r);this.oj&&this.oj.clear();if(v.trim()){this.oj||(this.oj=new Set);for(const y of v.split(" "))y&&this.oj.add(y.toLowerCase())}else this.oj=null}Va(){this.Da|=65554;this.M.HR();this.g.fa();this.vk.Ro()&&(this.Ax(this.wH,this.xH,!0),this.Da&=-3,this.Uba());0!==(this.Da&
4)&&this.ja.Jb().dispatchEvent(d);if(null!==this.Nb){const r=this.Nb.df();for(let v=0,y=r.length;v<y;++v)r[v].Va()}}Ax(r,v,y){const A=this.S(),G=this.T(),z=this.Y(),F=this.W(),H=this.Fa();r.ji(A-this.ds*z,G-this.es*F,z,F);y&&this.Vf()&&this.W7(r);0===H?v.xj(r):(r.offset(-A,-G),v.YV(r,this.fE(),this.OD()),v.offset(A,G),v.MK(r));r.normalize()}dS(){const r=this.Da;0!==(r&2)&&(this.Ax(this.wH,this.xH,!0),this.Da=r&-3)}hd(){this.dS();return this.wH}Cj(){this.dS();return this.xH}YN(r){var v=this.S(),y=
this.T();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.ua(r);b.offset(v,y);return b}k4(r){this.Qe(4,r)}fN(){return 0!==(this.Da&4)}pN(r,v,y){return v&&0!==this.Yc?this.Dq(this.ba().gr()):0===this.Xa()||y?r.NC(this.hd()):this.e9()}e9(){const r=this.ba(),v=this.le();if(v>=r.jt())return!1;r.YM(v,a);return a.NC(this.hd())}Dq(r){var v=this.hd();const y=v.ca,A=v.na,G=v.Z;v=v.ia;const z=this.le();return r.FX(y,G,z,A,v,z+this.Yc)}Iz(r){this.Qe(1048576,r)}Kz(r){this.Qe(2097152,r)}rF(r){this.eC=
r;this.YF();this.Vf()&&(this.Vh.XK=null)}zy(){return null!==this.eC||this.Vf()}al(){return this.o8(this.Y(),this.W(),this.Fa(),this.fE(),this.OD())}o8(r,v,y,A,G){let z=this.xs;null===z&&(this.xs=z={OV:e.A(e.bo),width:NaN,height:NaN,angle:NaN});const F=z.OV;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.eC;if(this.Vf()){const J=this.Xk(),M=this.Yk(),P=this.Nj();let R=this.Vh.XK;R||(H?(g.ua(H),g.offset(J,M)):g.ifa(),R=P.$0(g),this.Vh.XK=R);P.C5(R,F);F.offset(-J,-M);F.uL(r,v,A,G)}else H?
(F.ua(H),F.uL(r,v,A,G)):F.nL(this.Cj(),-this.S(),-this.T());z.width=r;z.height=v;z.angle=y;return F}YF(){this.M4();const r=this.xs;null!==r&&(r.width=NaN)}wD(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Ea().zb().Ada)throw Error("object does not support mesh");this.Sy();this.Vh={pL:e.A(e.K.EN,r,v),hW:e.A(e.K.EN,r,v),XK:null}}Vf(){return null!==this.Vh}Nj(){if(!this.Vf())throw Error("no mesh");return this.Vh.pL}WM(){if(!this.Vf())throw Error("no mesh");return this.Vh.hW}lF(r){this.Qe(65536,r)}rN(){return 0!==
(this.Da&65536)}M4(){this.Qe(131072,!0)}W7(r){const v=this.Vh.pL,y=Math.min(v.z_(),0),A=Math.min(v.A_(),0),G=Math.max(v.w_(),1),z=Math.max(v.x_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Uea((G-1)*F);r.Tea((z-1)*H);this.Yc=v.y_()}Sy(){this.Vh&&(this.Vh.pL.B(),this.Vh.hW.B(),this.Vh=null,this.YF())}TO(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.tx;let H="number"===typeof y.lW?
y.lW:A?0:-1;y="number"===typeof y.oW?y.oW:A?0:-1;if(!this.Vf())return!1;const J=this.Nj(),M=J.uq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.Xa()!==F&&(M.Ne(F),P=!0);A&&(G+=r/(J.pk-1),z+=v/(J.Dk-1));-1!==H||A?(A&&(H+=r/(J.pk-1)),H=e.oa(H,0,1)):H=M.eh;-1!==y||A?(A&&(y+=v/(J.Dk-1)),y=e.oa(y,0,1)):y=M.gh;if(M.S()===G&&M.T()===z&&M.eh===H&&M.gh===y)return P;M.ag(G);M.bg(z);M.tF(H);M.uF(y);this.YF();return!0}bl(){return this.ja.bl()}nq(r,v){return this.hd().Gf(r,v)&&this.Cj().Gf(r,v)?this.bl()?
void 0:this.zy()?this.al().Gf(r-this.S(),v-this.T()):!0:!1}c9(){return 0!==(this.Da&16)}eS(){if(this.c9()&&this.Ai()&&0===(this.Da&256)){var r=this.hd(),v=this.M.lA,y=this.kA;a.set(v.Ki(r.ca),v.Li(r.Z),v.Ki(r.na),v.Li(r.ia));y.sd(a)||(r=this.ja,y===k?(v.ml(r,null,a),this.kA=e.A(e.Rect,a)):(v.ml(r,y,a),y.ua(a)),this.Da&=-17)}}sR(){const r=this.kA;r!==k&&(this.M.lA.ml(this.ja,r,null),this.kA=k)}Uba(){const r=this.ba();if(r.Ro()&&0===(this.Da&256)){var v=r.ls,y=this.hd(),A=this.mw;a.set(v.Ki(y.ca),v.Li(y.Z),
v.Ki(y.na),v.Li(y.ia));A.sd(a)||(y=this.ja,A===h?(v.ml(y,null,a),this.mw=e.A(e.Rect,a)):(v.ml(y,A,a),A.ua(a)),r.P4())}}tR(){const r=this.mw;r!==h&&(this.ba().ls.ml(this.ja,r,null),this.mw=h)}d6(){const r=this.ja,v=this.vk,y=v.H;y.length&&y.he(-1)===r||(v.Wo(r,!1),v.Ig(r,!1),this.g.fa())}b6(){const r=this.ja,v=this.vk,y=v.H;y.length&&y[0]===r||(v.Wo(r,!1),v.G$(r),this.g.fa())}c6(r){const v=this.ja,y=this.vk;if(y.jc()!==r.jc())throw Error("layer from different layout");r!==y&&(y.Wo(v,!0),this.Ju(r),
r.Ig(v,!0),this.g.fa())}a6(r,v){const y=this.ja;let A=!1;const G=this.vk;if(r.Cc!==y.Cc){var z=r.j();if(!z)throw Error("expected world instance");z=z.ba();G.Ja()!==z.Ja()&&(G.Wo(y,!0),this.Ju(z),z.Ig(y,!0),A=!0);r=z.b2(y,r,!!v);(A||r)&&this.g.fa()}}gba(r){this.Qe(64,r)}Ct(){return 0!==(this.Da&64)}ma(r){const v={x:this.S(),y:this.T(),w:this.Y(),h:this.W(),l:this.ba().kb,zi:this.uh()};0!==this.Xa()&&(v.ze=this.Xa());0!==this.Fa()&&(v.a=this.Fa());this.Aq()||(v.c=this.ib.toJSON());.5!==this.Xk()&&(v.oX=
this.Xk());.5!==this.Yk()&&(v.oY=this.Yk());0!==this.Bj()&&(v.bm=this.Bj());this.Rc()||(v.v=this.Rc());this.Ai()||(v.ce=this.Ai());this.fN()&&(v.be=this.fN());this.ig&&(v.fx=this.ig.ma());const y=0!==(this.Da&32);y&&(v.sfi=y);this.oj&&(v.sft=[...this.oj].join(" "));this.Nb&&"visual-state"!==r&&(v.sgi=this.Nb.ma());this.Vf()&&(v.mesh=this.Nj().Dd());return v}Cz(r){"visual-state"!==r&&this.faa()}ta(r,v){q=!1;this.ag(r.x);this.bg(r.y);this.nf(r.w);this.Zf(r.h);this.Oz(r.zi);this.Ne(r.hasOwnProperty("ze")?
r.ze:0);this.Ed(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.pm(r.c):r.hasOwnProperty("o")?(c.sj(this.ib),c.fq=r.o):c.Wn(1,1,1,1);this.Hz(c);this.Xq(r.hasOwnProperty("oX")?r.oX:.5);this.Yq(r.hasOwnProperty("oY")?r.oY:.5);this.Yf(r.hasOwnProperty("bm")?r.bm:0);this.yh(r.hasOwnProperty("v")?r.v:!0);this.Wt(r.hasOwnProperty("ce")?r.ce:!0);this.k4(r.hasOwnProperty("be")?r.be:!1);this.qF(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.ig&&r.hasOwnProperty("fx")&&this.ig.ta(r.fx);
if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.RF(null);const y=this.Nb,A=r.sgi;y.ta(A);const G=this.J().Jb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Da&256)&&y.Du(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.wD(r.cols,r.rows),this.Nj().ud(r)):this.Sy();this.Va();q=!0;this.mr()}}}
{"use strict";const e=self.C;e.BL=class extends e.ka{constructor(a,b){super();const d=a.J(),c=d.Np,g=d.ph(b[1]);c.Z_(g)||c.KX(b);this.g=d;this.M=a;this.Ri=c.FZ(g);this.Oc=null;this.TA=g.Instance;this.kb=b[2];this.La=b[0];this.Tv=this.g.wi(b[3]);this.Oc=e.A(g.Qm,this);this.Bd()}static Sa(a,b){return e.A(e.BL,a,b)}B(){this.Ri=this.g=null;this.Oc.B();this.TA=this.Oc=null}Bd(){this.Oc.Bd()}J(){return this.g}I(){return this.M}Sk(){return this.Ri}Ca(){return this.La}wi(){return this.Tv}}}
{"use strict";const e=self.C,a=self.l0;e.wx=class extends e.ka{constructor(b){super();this.g=b.Jf;this.Wc=b.wK;this.Ri=this.Wc.Sk();this.ja=b.instance;this.Ra=b.index;this.qe=this.ra=null;this.Ri.Ig(this.ja)}B(){this.qe&&(this.qe.Hu(),this.qe=null);this.Ri.Wo(this.ja);this.ra.B();this.ja=this.Ri=this.Wc=this.g=this.qe=this.ra=null}qz(b){if(this.ra)throw Error("already got sdk instance");this.ra=e.A(this.Wc.TA,this,b);this.T8()}J(){return this.g}yg(){return this.Wc}Sk(){return this.Ri}Pe(){return this.Ra}Dd(){return this.ra.Dd()}ud(b){return this.ra.ud(b)}static yF(b,
d){var c=b.ja,g=d.ja;const m=c.I().Ja(),h=g.I().Ja();if(m!==h)return m-h;c=c.jU;g=g.jU;return c!==g?c-g:b.cA.Pe()-d.cA.Pe()}T8(){const b=this.ra.Bm(),d=b||a;a.Jg(this);this.qe=new d;a.Jg(null);if(b&&!(this.qe instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}yq(){return this.qe}}}
{"use strict";const e=self.C;e.Pk=class extends e.ka{constructor(a,b){super();this.Zb=a;this.Kg=[];this.eg=[];this.vA=new Map;this.Kh=[];this.gs=!0;for(const d of b)a=e.A(e.fM,this,d,this.Kg.length),this.Kg.push(a),this.vA.set(a.Ca().toLowerCase(),a),3<=d.length&&this.Kh.push(this.nG(d[2]));this.J().i6(this)}B(){e.F(this.Kg);e.F(this.eg);this.vA.clear();e.F(this.Kh);this.Zb=null}n3(a){if(a.length){this.Kg=a.concat(this.Kg);for(const b of a)this.vA.set(b.Ca().toLowerCase(),b);for(let b=0,d=this.Kg.length;b<
d;++b)this.Kg[b].JG(b)}}nG(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const g=e.A(e.hb);g.pm(c);a[b]=g}}return a}J(){return this.Zb.J()}Bh(){e.F(this.eg);let a=!0;for(const b of this.Kg)b.Mb&&(this.eg.push(b),b.Tf().gs||(a=!1));this.gs=a}xg(){return this.Kg}U_(){return 0<this.Kg.length}Uk(a){return this.vA.get(a.toLowerCase())||null}wM(a){a=Math.floor(+a);if(0>a||a>=this.Kg.length)throw new RangeError("invalid effect type index");return this.Kg[a]}Gt(a){return this.wM(a).Mb}GO(a,
b){this.wM(a).Xy(b)}Ct(){return 0<this.eg.length}Tk(a){return this.Kh[a]}static a4(a){return a&&a instanceof e.hb?{t:"color",v:a.toJSON()}:a}static P1(a){if("object"===typeof a){if("color"===a.t){const b=e.A(e.hb);b.pm(a.v);return b}throw Error("invalid effect parameter type");}return a}static wO(a){return a.map(e.Pk.a4)}static AN(a){return a.map(e.Pk.P1)}Dd(){return this.Kg.map(a=>({name:a.Ca(),active:a.Mb,params:e.Pk.wO(this.Kh[a.Ja()])}))}ud(a){for(const b of a)if(a=this.Uk(b.name))a.Xy(b.active),
this.Kh[a.Ja()]=e.Pk.AN(b.params);this.Bh()}}}
{"use strict";const e=self.C;e.fM=class extends e.ka{constructor(a,b,d){super();this.Qa=a;this.Ue=b[0];this.La=b[1];this.Ra=d;this.dd=null;this.Mb=!0}B(){this.dd=this.Qa=null}xX(a){a=e.A(e.fM,a,[this.Ue,this.La],-1);a.dd=this.dd;a.Mb=this.Mb;return a}LQ(a){a=a.QM(this.Ue);if(!a)throw Error("failed to find shader program '"+this.Ue+"'");this.dd=a}Ca(){return this.La}JG(a){this.Ra=a}Ja(){return this.Ra}J(){return this.Qa.J()}Xy(a){this.Mb=!!a}Tf(){return this.dd}QZ(){const a=[];for(let b=0,d=this.dd.eq.length;b<
d;++b){const c=this.dd.ky(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(e.A(e.hb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const e=self.C;e.a1=class extends e.ka{constructor(a,b){super();this.ja=a;this.aV=b;this.Qa=a.I().Qa;this.Qw=this.nJ=!0;this.$U=this.ZU=this.XU=!1;this.Jh=e.A(e.K.Ee,a.J().P.OH,{GC:(d,c)=>{c=c.an;const g=c.j();d.Mm(g.cE());d.Xt(g.le());c.mh(d);d.Xt(0)},wV:d=>{const c=d.QD(),[g,m]=d.PD();return{eW:c,fW:g,dW:m}},LC:d=>this.Tk(d)});this.Yo=[];this.eg=[];this.gs=!0;this.Kh=[];for(const d of this.Qa.xg())this.Yo.push(!0);this.Bh()}B(){this.Jh.B();this.Jh=null;e.F(this.Yo);e.F(this.eg);e.F(this.Kh);
this.Qa=this.ja=null}o9(a){for(const b of a)this.Kh.push(this.nG(b))}nG(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const g=e.A(e.hb);g.pm(c);a[b]=g}}return a}M1(){for(const a of this.Qa.xg())this.Kh.push(a.QZ())}ri(){this.Bu();return this.Jh}J(){return this.ja.J()}Bh(){e.F(this.eg);const a=this.aV,b=this.Qa.xg(),d=this.eg,c=this.Yo;let g=!0;for(let m=0,h=b.length;m<h;++m)if(c[m]){const k=b[m];d.push(k);k.Tf().gs||(g=!1)}this.gs=g;a.gba(!!d.length);this.nJ=!0}Bu(){const a=
this.ja;var b=this.aV;const d=b.Aq(),c=0<b.Yc;b=0!==b.Fa()||0>b.Y()||0>b.W();const g=a.xE();if(this.nJ||d!==this.Qw||c!==this.XU||b!==this.ZU||g!==this.$U)this.Jh.nD(this.eg.map(m=>m.Tf()),{Hs:this.eg.map(m=>m.Ja()),JC:!d||a.Iq(),SK:c,DV:g,BV:b}),this.nJ=!1,this.Qw=d,this.XU=c,this.ZU=b,this.$U=g}Tk(a){return this.Kh[a]}Gt(a){return this.Yo[a]}GO(a,b){this.Yo[a]=!!b}xg(){return this.Qa.xg()}ma(){return this.Qa.xg().map(a=>({name:a.Ca(),active:this.Yo[a.Ja()],params:e.Pk.wO(this.Kh[a.Ja()])}))}ta(a){for(const b of a)if(a=
this.Qa.Uk(b.name))this.Yo[a.Ja()]=b.active,this.Kh[a.Ja()]=e.Pk.AN(b.params);this.Bh()}}}
{"use strict";const e=self.C,a=[],b=e.A(e.bo),d=e.A(e.bo),c=e.A(e.Cd);e.A(e.Rect);e.A(e.Rect);let g=null,m=null,h=null;e.yX=class extends e.ka{constructor(k){super();this.g=k;this.WB=[]}B(){this.g=null}AL(k,n,p){for(const [q,u]of this.WB){let w;if(k===q)w=u;else if(k===u)w=q;else continue;w.kq(n)&&(p.includes(w)||p.push(w))}}JL(k,n){if(!this.WB.length)return!1;for(const [p,q]of this.WB)if(k===p&&n===q||k===q&&n===p)return!0;return!1}KL(){e.F(this.WB)}DF(k,n){if(!k||!n||k===n)return!1;k=k.j();n=n.j();
if(!k.Ai()||!n.Ai())return!1;const p=k.ba(),q=n.ba();return p.B1(q)?this.Iba(k,n):this.Hba(k,n)}Iba(k,n){if(!k.hd().NC(n.hd())||!k.Cj().QK(n.Cj())||k.bl()&&n.bl())return!1;if(k.bl())return this.EF(k,n);if(n.bl())return this.EF(n,k);if(!k.zy()&&!n.zy())return!0;const p=k.al(),q=n.al();return p.Zw(q,n.S()-k.S(),n.T()-k.T())}Hba(k,n){var p=k.bl(),q=n.bl();if(p&&!q)return this.iP(k,n);if(q&&!p)return this.iP(n,k);if(q||p)return!1;q=k.ba();p=n.ba();b.ua(k.al());d.ua(n.al());var u=b.Rd;for(let w=0,r=u.length;w<
r;w+=2){const v=w+1,y=u[v],[A,G]=q.Ao(u[w]+k.S(),y+k.T());u[w]=A;u[v]=G}k=d.Rd;for(let w=0,r=k.length;w<r;w+=2){q=w+1;u=k[q];const [v,y]=p.Ao(k[w]+n.S(),u+n.T());k[w]=v;k[q]=y}b.mL();d.mL();return b.Zw(d,0,0)}iP(k,n){var p=k.ba(),q=n.ba();g||(g=e.A(e.bo));m||(m=e.A(e.Rect));h||(h=e.A(e.Cd));var u=n.S(),w=n.T();const [r,v]=q.Ao(u,w),[y,A]=p.Lf(r,v);p=y-u;w=A-w;m.ua(n.hd());m.offset(p,w);if(!k.hd().NC(m))return!1;h.ua(n.Cj());h.offset(p,w);if(!k.Cj().QK(h))return!1;g.ua(n.al());q=g.Rd;for(let G=0,z=
q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;g.mL();return this.EF(k,n,y,A,g,m,h)}EF(k,n,p,q,u,w,r){w=void 0!==w?w:n.hd();const v=k.S(),y=k.T();var A=k.Ea().ra;p=void 0!==p?p:n.S();q=void 0!==q?q:n.T();k=n.zy();r=void 0!==r?r:n.Cj();A.Lha(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.Oha();if(w.yea(A,v,y)&&(c.xj(A),c.offset(v,y),c.QK(r)))if(k){var z=void 0!==u?u:n.al();if(G=G.E_()){if(G.Zw(z,p-(v+A.ca),q-(y+A.Z)))return e.F(a),!0}else if(b.nL(c,0,0),b.Zw(z,p,q))return e.F(a),!0}else if(z=G.E_()){if(b.nL(r,
0,0),z.Zw(b,-(v+A.ca),-(y+A.Z)))return e.F(a),!0}else return e.F(a),!0}e.F(a);return!1}gz(k,n,p){const q=k.U();var u=this.g.Kb();if(!u)throw Error("cannot call outside event");u=u.Pd;if(q.$b){q.ne(!1);e.F(q.H);for(var w of k.la()){var r=w.j(),v=r.ba();const [y,A]=v.Lf(n,p,r.le());r.nq(y,A)?q.Vo(w):u&&q.sl(w)}}else{r=!1;u?this.g.iN()&&!q.ec.length&&q.H.length?w=q.H:(w=q.ec,r=!0):w=q.H;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.j(),F=z.ba(),[H,J]=F.Lf(n,p,z.le());z.nq(H,J)?r?q.Vo(G):w[v++]=
G:r?w[v++]=G:u&&q.sl(G)}w.length=v}k.ic();return q.lE()}ND(k,n,p,q){k=k?1!==k.$d||1!==k.ae:!1;if(n.cb)for(const u of n.pp)k||u.kH?e.On(q,u.la()):(u.bS(),u.lA.Qy(p,q));else k||n.kH?e.On(q,n.la()):(n.bS(),n.lA.Qy(p,q))}}}
{"use strict";const e=self.C;e.q5=class extends e.ka{constructor(a,b){super();this.AH=a;this.zH=b;this.Ti=e.A(e.Ot)}B(){this.Ti.B();this.Ti=null}wm(a,b,d){let c=this.Ti.ea(a,b);return c?c:d?(c=e.A(e.Q_,this,a,b),this.Ti.Set(a,b,c),c):null}Ki(a){a=Math.floor(a/this.AH);return isFinite(a)?a:0}Li(a){a=Math.floor(a/this.zH);return isFinite(a)?a:0}ml(a,b,d){if(b)for(let c=b.ca,g=b.na;c<=g;++c)for(let m=b.Z,h=b.ia;m<=h;++m){if(d&&d.Gf(c,m))continue;const k=this.wm(c,m,!1);k&&(k.vh(a),k.xo()&&this.Ti.co(c,
m))}if(d)for(let c=d.ca,g=d.na;c<=g;++c)for(let m=d.Z,h=d.ia;m<=h;++m)b&&b.Gf(c,m)||this.wm(c,m,!0).tE(a)}Qy(a,b){let d=this.Ki(a.ca);const c=this.Li(a.Z),g=this.Ki(a.na);a=this.Li(a.ia);if(isFinite(g)&&isFinite(a))for(;d<=g;++d)for(let m=c;m<=a;++m){const h=this.wm(d,m,!1);h&&h.AD(b)}}}}
{"use strict";const e=self.C;e.Q_=class extends e.ka{constructor(a,b,d){super();this.R=b;this.O=d;this.H=e.A(e.jD)}B(){this.H.B();this.H=null}xo(){return this.H.xo()}tE(a){this.H.Ec(a)}vh(a){this.H.co(a)}AD(a){e.On(a,this.H.ID())}}}{"use strict";const e=self.C;e.Vka=class{constructor(){this.rect=new e.Rect;this.Vw=0}Set(a,b,d,c){this.rect.set(a,b,d,c);this.rect.normalize();this.Vw=0;return this}}}
{"use strict";const e=self.C,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),d=self.vj.nm,c=d.create(),g=e.A(e.Cd),m=e.A(e.Rect);e.rD=class extends e.ka{constructor(h){super();this.g=h;this.lk=null;this.xT=!1;this.rj=this.jb=null;this.fI="high-performance";this.$m=this.Zm=this.Fh=this.Gh=this.Jc=this.Xc=this.Fk=this.Gk=0;this.Lr=!0;this.Zc=this.nd=this.IU=0;this.ES=this.PS="letterbox-scale";this.Gca=this.Fca=0;this.sA=d.create();
this.Oh=this.pK="high";this.Ap=!1;this.Vu=[];this.sC=new Set;this.ZB=self.C3_Shaders;this.OH=e.A(e.K.hZ,{uV:()=>[this.Fj(),this.pi()],vV:()=>this.RZ(),TV:k=>this.z3(k),getTime:()=>this.J().ko(),SV:()=>this.J().fa()});this.gg=this.gn=0;this.Rr=NaN;this.LA=null;this.VI=new Map;this.wv=NaN;this.AC=new Map;this.cC="";this.KJ=1;this.vU=e.A(e.Rect);this.LJ="";this.wU=this.xw=null;this.Yv=0;this.we=-1;this.qn=0;this.aJ=k=>this.qn=k.progress;this.Bf=null;this.Df={hx:null,kx:null,rx:null};this.OJ=this.CU=
this.PJ=0;this.pj="fade-in";this.NJ=null;this.BU=new Promise(k=>this.NJ=k)}eba(h){this.fI=h}wba(h){this.xT=!!h}async kh(h){this.lk=h.canvas;this.g.li("runtime","window-resize",p=>this.yG(p));this.g.li("runtime","fullscreenchange",p=>this.g$(p));this.g.li("runtime","fullscreenerror",p=>this.h$(p));this.lk.addEventListener("webglcontextlost",p=>this.Gu(p));this.lk.addEventListener("webglcontextrestored",()=>this.xG());this.Ap=!!h.isFullscreen;var k=navigator.gpu&&this.xT;let n=!1;if(k)try{await this.PQ(!0)}catch(p){this.rj=
null}if(!this.ob())try{await this.OQ(!0)}catch(p){this.jb=null}this.ob()||(n=!0);if(!this.ob()&&k)try{await this.PQ(!1)}catch(p){this.rj=null}if(!this.ob())try{await this.OQ(!1)}catch(p){this.jb=null}k=this.ob();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.C4(n);this.ld(h.windowInnerWidth,h.windowInnerHeight,!0);this.rj?await this.W8():this.jb&&await this.V8();k.mF(this.Lr);k.bk()&&(this.Rr=0);for(const p of this.g.dH){for(const q of p.xg())q.LQ(k);p.Bh()}}async PQ(h){h=
{powerPreference:this.fI,depth:this.g.im,failIfMajorPerformanceCaveat:h,$oa:this.g.tC,AK:this.g.mK};this.rj=e.A(e.K.poa);await this.rj.Sa(this.lk,h)}async OQ(h){h={powerPreference:this.fI,sV:!0,depth:this.g.im,AK:this.g.mK,failIfMajorPerformanceCaveat:h};"Android"===e.Sc.Jq&&"Chromium"===e.Sc.zx&&75>e.Sc.mD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.HV=1);"standard"===this.g.yr?h.alpha=
!0:(h.alpha=!1,h.WK=!0);this.jb=e.A(e.K.V5,this.lk,h);await this.jb.Dy()}async W8(){if(this.ZB){const h=[];for(const [k,n]of Object.entries(this.ZB))n.src=n.ysa,h.push(this.rj.xD(n,e.K.qoa.Yx(),k));await Promise.all(h)}}async V8(){if(this.ZB){const h=[];for(const [k,n]of Object.entries(this.ZB))n.src=n.Ypa,h.push(this.jb.xD(n,e.K.mu.Yx(),k));await Promise.all(h);this.jb.Q3();this.jb.ak()}this.jb.bk()&&(this.LA=e.A(e.K.vP,this.jb))}B(){this.lk=this.jb=this.g=null}yG(h){const k=this.g,n=h.devicePixelRatio;
k.se&&(self.devicePixelRatio=n);k.Waa(n);this.Ap=!!h.isFullscreen;this.ld(h.innerWidth,h.innerHeight);k.fa();k.wb&&(k.Dt()||self.vg.zia())&&k.Ho()}g$(h){this.Ap=!!h.isFullscreen;this.ld(h.innerWidth,h.innerHeight,!0);this.g.fa()}h$(h){this.Ap=!!h.isFullscreen;this.ld(h.innerWidth,h.innerHeight,!0);this.g.fa()}ld(h,k,n=!1){h=Math.floor(h);k=Math.floor(k);if(0>=h||0>=k)throw Error("invalid size");if(this.Gk!==h||this.Fk!==k||n){this.Gk=h;this.Fk=k;n=this.lt();"letterbox-scale"===n?this.y6(h,k):"letterbox-integer-scale"===
n?this.x6(h,k):"off"===n?this.v6(h,k):this.w6(h,k);this.Sba(n);this.lk.width=this.Gh;this.lk.height=this.Fh;this.g.hl("canvas","update-size",{marginLeft:this.Zm,marginTop:this.$m,styleWidth:this.Xc,styleHeight:this.Jc});h=this.ob();h.ld(this.Gh,this.Fh,!0);for(var p of this.Vu)h.aY(p);e.F(this.Vu);h.lq(this.sA,this.Fj()/this.pi());p=this.g.gb;p.Ko();p.Jo()}}y6(h,k){const n=this.g.Dj(),p=this.g.Xg,q=this.g.Wg,u=p/q;h/k>u?(this.Xc=Math.round(k*u),this.Jc=k,this.Zm=Math.floor((h-this.Xc)/2),this.$m=
0):(this.Xc=h,this.Jc=Math.round(h/u),this.Zm=0,this.$m=Math.floor((k-this.Jc)/2));this.Gh=Math.round(this.Xc*n);this.Fh=Math.round(this.Jc*n);this.g.hu(p,q)}x6(h,k){const n=this.g.Dj();1!==n&&(h+=1,k+=1);const p=this.g.Xg,q=this.g.Wg;var u=p/q;u=h/k>u?k*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Gh=Math.round(p*u);this.Fh=Math.round(q*u);this.Xc=this.Gh/n;this.Jc=this.Fh/n;this.Zm=Math.max(Math.floor((h-this.Xc)/2),0);this.$m=Math.max(Math.floor((k-this.Jc)/2),0);this.g.hu(p,
q)}w6(h,k){const n=this.g.Dj();this.Xc=h;this.Jc=k;this.Gh=Math.round(this.Xc*n);this.Fh=Math.round(this.Jc*n);this.$m=this.Zm=0;h=this.Ej();this.g.hu(this.Xc/h,this.Jc/h)}v6(h,k){const n=this.g.Dj();this.Xc=this.g.sg;this.Jc=this.g.rg;this.Gh=Math.round(this.Xc*n);this.Fh=Math.round(this.Jc*n);this.Ap?(this.Zm=Math.floor((h-this.Xc)/2),this.$m=Math.floor((k-this.Jc)/2)):this.$m=this.Zm=0;this.g.hu(this.g.sg,this.g.rg)}Sba(h){if("high"===this.pK)this.nd=this.Gh,this.Zc=this.Fh,this.Oh="high";else{let n;
if("off"===this.lt()){var k=this.g.sg;n=this.g.rg}else k=this.g.Xg,n=this.g.Wg;this.Gh<k&&this.Fh<n?(this.nd=this.Gh,this.Zc=this.Fh,this.Oh="high"):(this.nd=k,this.Zc=n,this.Oh="low","scale-inner"===h?(h=k/n,k=this.Gk/this.Fk,k<h?this.nd=this.Zc*k:k>h&&(this.Zc=this.nd/k)):"scale-outer"===h&&(h=k/n,k=this.Gk/this.Fk,k>h?this.nd=this.Zc*k:k<h&&(this.Zc=this.nd/k)))}}J(){return this.g}A4(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.PS=h;h=this.g.gb;h.Ko();h.Jo()}by(){return this.PS}q4(h){if(!a.has(h))throw Error("invalid fullscreen mode");
this.ES=h;h=this.g.gb;h.Ko();h.Jo()}lt(){return this.Ap?this.ES:this.by()}IO(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.pK=h;this.g.gb.Ko()}static kQ(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Fj(){return this.nd}pi(){return this.Zc}mF(h){this.Lr=!!h}uba(h){this.IU=h}u1(){return this.ob().vo()}Gu(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.Vu=[];this.sC.clear();this.jb.fl();this.g.Gu()}async xG(){await this.jb.PE();await this.Loa();for(const h of this.g.dH)for(const k of h.xg())k.LQ(this.jb);await this.g.xG();console.log("[Construct 3] WebGL context restored")}so(){return this.jb}Bt(){return this.rj}ob(){return this.rj||this.jb}Am(){return"low"===this.Oh?1/this.g.Dj():this.Ej()}Ej(){const h=this.lt();if("off"===h||"crop"===h)return 1;const k=this.g.Xg,n=this.g.Wg,p=k/n,q=this.Gh/this.Fh;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.Jc/n:this.Xc/k}ot(){return"low"===this.Oh?1:this.Ej()}nt(){return"low"===this.Oh?1:this.g.Dj()}p4(h,k,n){k=k||this.nd;n=n||this.Zc;const p=k/2+this.Fca,q=n/2+this.Gca;{let u=this.sA;if(k!==this.nd||n!==this.Zc)h.lq(c,k/n),u=c;h.Lo(u)}k=h.Ws(p,q,100*this.g.Dj(),p,q,n||this.Zc);h.Wq(k)}m4(h){var k=this.Xc/2;const n=this.Jc/2;h.Lo(this.sA);k=h.Ws(k,n,100,k,n);h.Wq(k)}ho(){return this.Zm}io(){return this.$m}gt(h){h.depth=this.g.im;const k=this.Vu,n=k.findIndex(q=>q.j1(h));
let p;-1!==n?(p=k[n],k.splice(n,1)):p=this.ob().PX(h);this.sC.add(p);return p}Eo(h){if(!this.sC.has(h))throw Error("render target not in use");this.sC.delete(h);this.Vu.push(h)}RZ(){const h={wj:this.g.wd};"low"===this.Oh&&(h.width=this.Fj(),h.height=this.pi());return this.gt(h)}z3(h){this.Eo(h)}*BC(){for(const h of this.g.gb.nx())for(const k of h.cc){const n=this.VI.get(k);n&&(yield n)}}FM(h){if(!this.ob().bk())return null;let k=this.VI.get(h);k||(k={name:h.Ca(),qL:e.A(e.K.vP,this.jb),DC:0,FV:0},
this.VI.set(h,k));return k.qL}Pba(){const h=this.ob();if(h.bk()&&0===this.gg){this.gg=h.Nh;this.wv=NaN;for(const k of this.BC())k.DC=NaN}}Wba(){this.jb&&this.jb.bk()&&this.Xba();this.rj&&this.rj.bk()&&this.Yba()}Xba(){if(isNaN(this.wv)&&(this.wv=this.LA.BM(this.gn,this.gg),!isNaN(this.wv))){if(this.g.wb)for(const h of this.BC())if(h.DC=h.qL.BM(this.gn,this.gg),isNaN(h.DC))return;this.LA.aM(this.gg);this.Rr=Math.min(this.wv,1);if(this.g.wb){for(const h of this.BC())h.qL.aM(this.gg),h.FV=Math.min(h.DC,
1);self.vg.L5(this.Rr,[...this.BC()])}this.gn=this.gg;this.gg=0}}Yba(){if(0!==this.gg){for(var h=this.gn;h<this.gg;++h){var k=this.AC.get(h);if(k&&!k.Ay())return}k=this.g.Vb();h=e.U1(k.cc.length+1);for(var n=this.gn;n<this.gg;++n){var p=this.AC.get(n);if(p){p=p.ry();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.Rr=e.oa(h[0],0,1);if(this.g.wb){n=[];k=k.cc;for(let q=0,u=Math.min(k.length,h.length-1);q<
u;++q)n.push({name:k[q].Ca(),FV:e.oa(h[q+1],0,1)});self.vg.L5(this.Rr,n)}for(h=this.gn;h<this.gg;++h)this.AC.delete(h);this.gn=this.gg;this.gg=0}}r6(h){this.AC.set(this.rj.Nh,h)}ey(){return this.Rr}fP(h,k,n,p,q,u){this.cC=h;this.KJ=k;this.vU.ji(n,p,q,u);return this.xw?this.xw:this.xw=new Promise(w=>{this.wU=w})}L9(){if(this.cC){var h=this.lk,k=this.vU,n=e.oa(Math.floor(k.ca),0,h.width),p=e.oa(Math.floor(k.Z),0,h.height),q=k.width();q=0===q?h.width-n:e.oa(Math.floor(q),0,h.width-n);k=k.height();k=
0===k?h.height-p:e.oa(Math.floor(k),0,h.height-p);(0!==n||0!==p||q!==h.width||k!==h.height)&&0<q&&0<k&&(h=e.kh(q,k),h.getContext("2d").drawImage(this.lk,n,p,q,k,0,0,q,k));e.Bx(h,this.cC,this.KJ).then(u=>{this.LJ=URL.createObjectURL(u);this.xw=null;this.wU(this.LJ)});this.cC="";this.KJ=1}}J0(h){this.jb&&(2===h?(this.Bf=e.A(e.K.WE,this.ob()),this.Bf.OO(),this.Bf.jF("Arial"),this.Bf.az(16),this.Bf.KO("center"),this.Bf.eP("center"),this.Bf.ld(300,200)):0===h?(h=this.g.Zr)&&h.Kt(this.jb).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
k)):4===h&&(this.B9().then(k=>{"done"===this.pj?this.jb.zj(k):this.Df.hx=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.UQ("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.pj?this.jb.zj(k):this.Df.kx=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.UQ("splash-images/splash-website-512.png").then(k=>{"done"===this.pj?this.jb.zj(k):this.Df.rx=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async B9(){var h=(new URL("splash-images/splash-logo.svg",
this.g.KD())).toString();h=await e.Rk(h);h=await this.g.w3(h);return await this.jb.Jx(h,{ix:"high"})}async UQ(h){h=(new URL(h,this.g.KD())).toString();h=await e.Rk(h);return await this.jb.Jx(h,{ix:"high"})}oE(){this.g.hl("runtime","hide-cordova-splash")}r5(){this.Yv=Date.now();this.g.Jb().addEventListener("loadingprogress",this.aJ);this.we=requestAnimationFrame(()=>this.cQ());3!==this.g.Yr&&this.oE()}async jZ(){if(this.jb){this.qn=1;var h=this.g.Yr;4===h&&await this.BU;this.BU=this.NJ=null;-1!==this.we&&
(cancelAnimationFrame(this.we),this.we=-1);this.g.Jb().removeEventListener("loadingprogress",this.aJ);this.aJ=null;this.Bf&&(this.Bf.B(),this.Bf=null);this.g.A3();this.jb.iu();this.Df.hx&&(this.jb.zj(this.Df.hx),this.Df.hx=null);this.Df.kx&&(this.jb.zj(this.Df.kx),this.Df.kx=null);this.Df.rx&&(this.jb.zj(this.Df.rx),this.Df.rx=null);this.jb.ao();this.jb.dt();this.pj="done";this.gn=this.jb.Nh;3===h&&this.oE()}}cQ(){if(-1!==this.we){var h=this.jb;if(h){h.iu();this.we=-1;var k=this.g.md.iI,n=this.g.Yr;
3!==n&&(this.m4(h),h.ao(),h.Tt(),h.ak(),h.$f(null));if(0===n)this.O7(k);else if(1===n)this.uz(k,120,0);else if(2===n)this.N7(k);else if(3!==n)if(4===n)this.P7(k);else throw Error("invalid loader style");h.dt();this.we=requestAnimationFrame(()=>this.cQ())}}}N7(h){h?this.Bf.CO(1,0,0):this.Bf.CO(.6,.6,.6);this.Bf.gu(Math.round(100*this.qn)+"%");h=this.Xc/2;const k=this.Jc/2;g.$V(h-150,k-100,h+150,k+100);this.jb.$f(this.Bf.ke());this.jb.Mq(g,this.Bf.Oj())}uz(h,k,n){const p=this.jb;p.BO();h?p.mf(1,0,0,
1):p.mf(.118,.565,1,1);h=this.Xc/2;const q=this.Jc/2,u=k/2;m.ji(h-u,q-4+n,Math.floor(k*this.qn),8);p.Rect(m);m.ji(h-u,q-4+n,k,8);m.offset(-.5,-.5);m.OK(.5,.5);p.mf(0,0,0,1);p.wN(m);m.OK(1,1);p.mf(1,1,1,1);p.wN(m)}O7(h){var k=this.g.Zr;if(k)if(k=k.ke()){var n=k.Y(),p=k.W(),q=this.Xc/2,u=this.Jc/2,w=n/2;p/=2;g.$V(q-w,u-p,q+w,u+p);this.jb.$f(k);this.jb.Cd(g);this.uz(h,n,p+16)}else this.uz(h,120,0);else this.uz(h,120,0)}P7(h){const k=this.jb,n=this.Df.hx,p=this.Df.kx,q=this.Df.rx,u=Date.now();0===this.PJ&&
(this.Yv=u);const w=this.g.Fq()||this.g.Uca&&!this.g.k1(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.pj?y=Math.min((u-this.Yv)/300,1):"fade-out"===this.pj&&(y=Math.max(1-(u-this.OJ)/300,0));k.BO();k.mf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Xc,this.Jc);k.Rect(m);const A=Math.ceil(this.Xc),G=Math.ceil(this.Jc);let z;256<this.Jc?(k.mf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ji(0,.8*G-z/2,A,z),k.Rect(m),h?k.mf(y,0,0,y):k.mf(.161*y,.953*y,.816*y,y),h=A*this.qn,m.ji(.5*A-h/2,.8*G-z/2,h,z),k.Rect(m),
k.mf(y,y,y,y),k.ak(),p&&(h=1.5*e.oa(.22*G,105,.6*A),z=h/8,m.ji(.5*A-h/2,.2*G-z/2,h,z),k.$f(p),k.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.ji(.5*A-h/2,.485*G-z/2,h,z),k.$f(n),k.Rect(m)),q&&(h=1.5*e.oa(.22*G,105,.6*A),z=h/8,m.ji(.5*A-h/2,.868*G-z/2,h,z),k.$f(q),k.Rect(m))):(k.mf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ji(0,.85*G-z/2,A,z),k.Rect(m),h?k.mf(y,0,0,y):k.mf(.161*y,.953*y,.816*y,y),h=A*this.qn,m.ji(.5*A-h/2,.85*G-z/2,h,z),k.Rect(m),k.mf(y,y,y,y),k.ak(),n&&(z=h=.55*G,m.ji(.5*A-h/2,.45*
G-z/2,h,z),k.$f(n),k.Rect(m)));this.PJ++;"fade-in"===this.pj&&300<=u-this.Yv&&2<=this.PJ&&(this.pj="wait",this.CU=u);"wait"===this.pj&&u-this.CU>=v&&1<=this.qn&&(this.pj="fade-out",this.OJ=u);("fade-out"===this.pj&&u-this.OJ>=300+r||w&&1<=this.qn&&500>u-this.Yv)&&this.NJ()}}}
{"use strict";const e=self.C,a=self.vg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.sO=class extends e.ka{constructor(c){c=Object.assign({},b,c);super();this.bw=c.messagePort;this.mca=c.baseUrl;this.se=!!c.isInWorker;d=c.ife;this.$i=c.exportType;this.yT=!!c.isiOSCordova;this.Uca=!!c.isFBInstantAvailable;this.mda=c.opusWasmScriptUrl;this.aU=c.opusWasmBinaryUrl;this.re=this.tca=this.wb=!("preview"!==this.$i||!c.isDebug);this.IH=
0;this.Vz=[];this.eca=[];this.zJ=this.iU=this.TB="";this.Wg=this.Xg=0;this.Hr=self.devicePixelRatio;this.Yr=this.rg=this.sg=this.KB=this.JB=0;this.vC=!1;this.sk=!0;this.mK=this.tC=!1;this.Zr=null;this.md=e.A(e.WW,this,c);this.gb=e.A(e.H1,this);this.ya=e.A(e.nZ,this);this.Np=e.A(e.f3,this);this.Ui=e.A(e.yX,this);this.Ib=e.A(e.z5,this);this.ZJ=e.A(e.D5,this);this.Uc=[];this.oJ=new Map;this.pJ=new Map;this.KS=0;this.gca=[];this.dH=[];this.mv=[];this.Jl=[];this.VA=new Map;this.NA=!1;this.fw=this.qJ=0;
this.wp=new Map;this.xp=new Set;this.WA=new Set;this.HB=[];this.AT=[];this.P=null;this.im=!1;this.$H="vsync";this.yr="standard";this.wd="trilinear";this.Ll=!1;this.lJ=!0;this.II=this.dU=!1;this.Bda={LV:g=>{this.$l=this.we=-1;this.qf(g)},tfa:g=>{this.$l=-1;this.qf(g,!1,"skip-render")},cfa:()=>{this.we=-1;this.Ho()}};this.$l=this.we=-1;this.Nr=this.Ak=0;this.dT=this.dB=this.OA=!1;this.EI=!0;this.ss=0;this.rda=()=>Math.random();this.rv=this.sv=this.tB=this.zn=0;this.fe=1;this.WT=30;this.dI=e.A(e.Ky);
this.eI=e.A(e.Ky);this.oK=e.A(e.Ky);this.IA=-1;this.BB=this.Ql=this.HA=this.rp=0;this.tk=!1;this.Xv=this.pw="";this.Xr=null;this.Gp="";this.GJ=this.yJ=null;this.Xb=e.A(e.Event.Jb);this.MH=new Map;this.vJ=new Map;this.ida=0;this.wT=this.BS=this.CS=!1;this.nK=[];this.op={pretick:e.A(e.Event,"pretick",!1),tick:e.A(e.Event,"tick",!1),tick2:e.A(e.Event,"tick2",!1),instancedestroy:e.A(e.Event,"instancedestroy",!1),beforelayoutchange:e.A(e.Event,"beforelayoutchange",!1),layoutchange:e.A(e.Event,"layoutchange",
!1)};this.op.instancedestroy.instance=null;this.ge=e.A(e.Event.Jb);this.RU=null;this.Xm=e.A(e.Do,e.wx.yF);this.cp=e.A(e.Do,e.wx.yF);this.Ym=e.A(e.Do,e.wx.yF);this.Rv=e.A(e.D1,this,c.jobScheduler);c.canvas&&(this.P=e.A(e.rD,this));this.bw.onmessage=g=>this._OnMessageFromDOM(g.data);this.li("runtime","visibilitychange",g=>this.z$(g));this.li("runtime","opus-decode",g=>this.aca(g.arrayBuffer));this.li("runtime","get-remote-preview-status-info",()=>this.A8());this.li("runtime","js-invoke-function",g=>
this.Bz(g));this.li("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Xb.addEventListener("window-blur",g=>this.A$(g));this.Xb.addEventListener("window-focus",()=>this.B$());this.Ib.LW();this.cj=null;this.Qca=new WeakMap;this.nA={keyboard:null,IV:null,sL:null}}static Sa(c){return e.A(e.sO,c)}B(){e.F(this.Uc);this.oJ.clear();this.pJ.clear();this.gb.B();this.gb=null;this.ya.B();this.ya=null;this.Np.B();this.Np=null;this.md.B();this.md=null;this.Ui.B();this.Ui=null;this.Ib.B();this.Ib=
null;this.ZJ.B();this.ZJ=null;this.P&&(this.P.B(),this.P=null);this.Xb.B();this.Xb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.fR(c);else if("result"===g)this.t$(c);else throw Error(`unknown message '${g}'`);}fR(c){if(this.wT){var g=c.component,m=c.handler,h=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new e.Event(m),c.data=h,this.Xb.gea(c)),k)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.lh(c)}if(c=this.MH.get(g))if(c=c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.Ez(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.Ez(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.Ez(p,!1,""+q)}):this.Ez(p,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.nK.push(c)}Ez(c,
g,m){this.bw.postMessage({type:"result",responseId:c,isOk:g,result:m})}t$(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.vJ.get(g);m?h.resolve(c):h.reject(c);this.vJ.delete(g)}li(c,g,m){let h=this.MH.get(c);h||(h=new Map,this.MH.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}hl(c,g,m){this.bw.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}Bo(c,g,m){const h=this.ida++,k=new Promise((n,p)=>{this.vJ.set(h,{resolve:n,
reject:p})});this.bw.postMessage({type:"event",component:c,handler:g,data:m,responseId:h});return k}k3(){if(!this.wb)throw Error("not in debug mode");this.hl("runtime","post-to-debugger",{type:"reload"})}async Dm(c){this.wb?await a.Dm(this):self.vg&&self.vg.oia(this);var [g]=await Promise.all([this.md.kM("data.json"),this.K9(),this.Rv.Dm()]);this.m9(g);await this.X8(c);this.Fq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.so()?(g=this.so(),console.info(`[C3 runtime] Hosted in ${this.se?
"worker":"DOM"}, rendering with WebGL ${g.rd} [${g.Lw}] (${g.l1()?"desynchronized":"standard"} compositing)`)):this.Bt()&&console.info(`[C3 runtime] Hosted in ${this.se?"worker":"DOM"}, rendering with experimental WebGPU`);this.ob().jI&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.wT=!0;for(const m of this.nK)this.fR(m);e.F(this.nK);this.P&&this.P.r5();for(const m of c.runOnStartupFunctions)this.Vz.push(this.oaa(m));
await Promise.all([this.md.tP(),...this.Vz]);e.F(this.Vz);if(this.md.iI)this.P&&this.P.oE();else return this.P&&await this.P.jZ(),await this.Xb.GK(new e.Event("beforeruntimestart")),await this.iu(),this.bw.postMessage({type:"runtime-ready"}),this}async oaa(c){try{await c(this.cj)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}m9(c){c=c.project;this.TB=c[0];this.iU=c[16];this.zJ=c[31];const g=c[39]||"loading-logo.png";this.Ll=!!c[9];this.Xg=this.sg=c[10];this.Wg=this.rg=
c[11];this.JB=this.Xg/2;this.KB=this.Wg/2;this.yr=c[36];this.$H=c[37];"low-latency"===this.yr&&this.d1()&&77>=e.Sc.mD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.yr="standard");this.im=!!c[40];this.wd=c[14];this.tC=c[15];this.mK=c[17];this.vC=!!c[18];this.Yr=c[19];this.fw=c[21];this.dU=c[22];const m=this.md;m.Qaa(c[7]);m.dba(c[32]);m.iba(c[28]);
m.vba(c[29]);if(0===this.Yr){let q="";this.Fq()?m.jG(g)&&(q=m.GM(g)):q=m.eT+g;q&&(this.Zr=m.Ly({url:q}))}this.P&&(this.P.A4(e.rD.kQ(c[12])),this.P.IO(c[23]?"high":"low"),this.P.mF(0!==c[24]),this.P.eba(c[34]),this.P.uba(c[41]),this.P.wba(c[13]));this.Np.QX();this.HB=self.EL();for(var h of c[2])this.Np.OX(h);this.HB=self.EL();this.u9();for(var k of c[3])h=e.ME.Sa(this,this.Uc.length,k),this.Uc.push(h),this.oJ.set(h.Ca().toLowerCase(),h),this.pJ.set(h.kb,h);for(const q of c[4])this.Uc[q[0]].p9(q);for(var n of c[27])k=
n.map(q=>this.Uc[q]),this.gca.push(e.A(e.EX,this,k));for(const q of this.Uc)q.U9();for(const q of c[5])this.gb.Sa(q);(n=c[1])&&(n=this.gb.tq(n))&&this.gb.w4(n);for(var p of c[33])this.Ib.Sa(p);for(const q of c[35])this.ZJ.Sa(q);this.U8();for(const q of c[6])this.ya.Sa(q);this.ya.Qb();this.P8();e.F(this.HB);this.Ud();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.hl("runtime","set-target-orientation",{targetOrientation:p})}HW(c){this.Vz.push(c)}v8(){return this.KS++}i6(c){this.dH.push(c)}async X8(c){this.P&&
(await this.P.kh(c),this.P.J0(this.Yr))}async K9(){if(!this.md.e1()){var c=null;try{c=this.yT&&this.md.Kv?await this.md.TL(this.aU):await this.md.bt(this.aU)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.EW(c):this.DW();await this.FW([this.mda])}}async aca(c){return await this.fD("OpusDecode",{arrayBuffer:c},[c])}async iu(){this.OA=!0;this.zn=Date.now();if(this.vC){for(var c of this.Uc)c.cb||c.HI||!c.xf||c.Bd();this.md.tP().then(()=>
{this.sk=!1;this.jR()})}else this.sk=!1;this.md.D4();this.wb&&a.Yla(d);for(const g of this.gb.Qi)g.O6();c=this.gb.b_();await c.mG(null,this.ob());await c.WR(!0);this.rp=performance.now();this.vC||this.jR();(await this.Bo("runtime","before-start-ticking")).isSuspended?this.ss++:this.qf()}jR(){this.Ka(e.D.Ya.L.B2,null,null);this.hl("runtime","register-sw")}ph(c){c=Math.floor(c);const g=this.HB;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}u9(){for(const c of self.fX){const g=
e.first(Object.keys(c));this.AT.push(g)}}wi(c){c=Math.floor(c);const g=this.AT;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}KD(){return this.mca}qa(){return this.ya}jd(){return this.ya.jd()}ef(){return this.ya.ef()}Kb(){return this.ya.Kb()}Nf(){return this.ya.Nf()}iN(){return 0===this.ef().Al}kt(){return this.ya.kt()}xt(){return this.Np.xt()}gf(c){c=Math.floor(c);if(0>c||c>=this.Uc.length)throw new RangeError("invalid index");return this.Uc[c]}iy(c){return this.oJ.get(c.toLowerCase())||
null}jy(c){return this.pJ.get(c)||null}*Hda(){for(const c of this.Uc)c.cb||(yield*c.yV())}Jb(){return this.Xb}lh(c){c.Jf=this.cj;const g=this.wb&&!this.ya.Gy();g&&a.AF();this.ge.dispatchEvent(c);g&&a.hD()}eo(c){c.Jf=this.cj;return this.ge.GK(c)}K4(c,g){if(this.Xg!==c||this.Wg!==g)this.Xg=c,this.Wg=g,c=this.gb,c.Ko(),c.Jo()}hu(c,g){if(this.sg!==c||this.rg!==g)this.sg=c,this.rg=g,c=this.gb,c.Ko(),c.Jo()}Waa(c){this.Hr=c}Dj(){return this.Hr}Fj(){return this.P?this.P.Fj():this.sg}pi(){return this.P?this.P.pi():
this.rg}Am(){return this.P?this.P.Am():1}Ej(){return this.P?this.P.Ej():1}ot(){return this.P?this.P.ot():1}nt(){return this.P?this.P.nt():1}ho(){return this.P?this.P.ho():0}io(){return this.P?this.P.io():0}LZ(){return this.P?this.P.Xc:0}KZ(){return this.P?this.P.Jc:0}by(){return this.P?this.P.by():"off"}gt(c){return this.P?this.P.gt(c):null}Eo(c){this.P&&this.P.Eo(c)}ey(){return this.P?this.P.ey():NaN}FE(){return"nearest"!==this.wd}A3(){this.Zr&&(this.Zr.B(),this.Zr=null)}Vb(){return this.gb.Vb()}Ly(c){return this.md.Ly(c)}vD(c,
g,m,h,k){return this.oi(c,g,!1,m,h,!1,k,void 0,k)}oi(c,g,m,h,k,n,p,q,u){var w=null;let r=null;c instanceof e.ME?(r=c,r.cb&&(w=r.pp,r=w[Math.floor(this.Nq()*w.length)]),w=r.Fr):(w=c,r=this.gf(w[1]));c=r.zb().xf;if(this.sk&&c&&!r.HI)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.wp.has(w[2])?w[2]:this.fw++;const A=w?w[0]:null,G=e.A(e.Instance,{Jf:this,aL:r,GV:g,pW:A,xV:w?w[3]:null,uid:y});this.wp.set(y,G);y=null;c&&(y=G.j(),"undefined"!==typeof h&&"undefined"!==typeof k&&(y.ag(h),y.bg(k)),
r.HR());g&&(u||g.Ig(G,!0),1===g.$d&&1===g.ae||r.GG(!0),g.jc().DN(r));this.qJ++;let z=!0;q&&(q=q.I(),q.ac()&&r.ac()&&r.Ng===q.Ng&&(z=!1));if(r.ac()&&!m&&!n&&z){for(var F of r.Ng.Wl)F!==r&&(q=this.oi(F,v,!1,y?y.S():h,y?y.T():k,!0,!1,void 0,u),G.er(q));for(var H of G.Gd){H.er(G);for(const J of G.Gd)H!==J&&H.er(J)}}c&&!m&&p&&this.PF(G,A,y,g,h,k,u);if(r.ac()&&!m&&!n&&p)for(const J of G.Gd)if(m=J.j())F=J.zb(),H=J.I().Fr[0],F.xf?this.PF(J,H,m,g,m.S(),m.T(),u):this.PF(J,H,m,g,void 0,void 0,u);!n&&p&&("undefined"===
typeof h&&(h=A[0]),"undefined"===typeof k&&(k=A[1]),g=y.vy(),h=h-y.S()+g.S(),k=k-y.T()+g.T(),g.zh(h,k));r.Iu();k=w?e.CK(w[5]):null;w=w?w[4].map(J=>e.CK(J)):null;c&&A&&A[13]&&G.hba();G.qz(k,w);this.Jl.push(G);this.NA=!0;this.wb&&a.pia(G);return G}PF(c,g,m,h,k,n,p){var q=m.I_(),u=m.LM();c.j().oF(q);if(u){"undefined"===typeof k&&(k=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.gb.aE(A[0]).ba(w).j_(r);w=this.gf(r[1]);
var y=c.e0(w);const z=q.has(w);y&&!z&&v?(v=c.RM(w),y=k+r[0][0]-m,r=n+r[0][1]-g,v.j().zh(y,r),v.j().oF(G),c.tm(v,{Ts:!!(u>>0&1),Us:!!(u>>1&1),hq:!!(u>>2&1),gq:!!(u>>3&1),Ss:!!(u>>4&1),Uw:!!(u>>5&1),Vs:!!(u>>6&1)}),q.add(w)):(w=this.oi(r,h,!1,k+r[0][0]-m,n+r[0][1]-g,!1,!0,c,p),w.j().oF(G),c.tm(w,{Ts:!!(u>>0&1),Us:!!(u>>1&1),hq:!!(u>>2&1),gq:!!(u>>3&1),Ss:!!(u>>4&1),Uw:!!(u>>5&1),Vs:!!(u>>6&1)}))}}}vm(c){if(!this.xp.has(c)){var g=c.I(),m=this.VA.get(g);if(m){if(m.has(c))return;m.add(c)}else m=new Set,
m.add(c),this.VA.set(g,m);this.wb&&a.qia(c);c.qG();this.NA=!0;if(c.ac())for(const h of c.Gd)this.vm(h);for(const h of c.children())h.Zx()&&this.vm(h);this.gb.mN()||this.tk||(g=this.qa(),g.Ce(!0),c.Lba(),g.Ce(!1));c.c8(this.gb.mN())}}Ud(){this.NA&&(this.e8(),this.f8(),this.NA=!1,this.fa())}e8(){for(const c of this.Jl){const g=c.I();g.Ig(c);for(const m of g.Lh)m.Ig(c),m.Iu()}e.F(this.Jl)}f8(){this.Xb.Tq(!0);for(const [c,g]of this.VA.entries())this.g8(c,g),g.clear();this.VA.clear();this.Xb.Tq(!1)}g8(c,
g){for(const h of g){var m=this.op.instancedestroy;m.instance=h;this.Xb.dispatchEvent(m);this.wp.delete(h.Cc);if(m=h.j())m.sR(),m.tR(),m.qG();this.xp.add(h);this.qJ--}e.tg(c.la(),g);c.Iu();this.WA.add(c);0===c.la().length&&c.GG(!1);for(const h of c.Lh)e.tg(h.la(),g),h.Iu(),this.WA.add(h);if(c.zb().xf){c=new Set([...g].map(h=>h.j().ba()));for(const h of c)h.U$(g)}}*PK(c){for(const g of this.Jl)c.cb?g.I().lD(c)&&(yield g):g.I()===c&&(yield g)}u8(){return this.fw++}H9(c,g){this.wp.set(c,g)}Gu(){this.Xb.dispatchEvent(e.A(e.Event,
"webglcontextlost"));this.fu(!0);for(var c of this.Uc)!c.cb&&c.c0()&&c.Fo();(c=this.Vb())&&c.Gu();e.Cy.Kq();e.dN.Kq()}async xG(){await this.Vb().mG(null,this.so());this.Xb.dispatchEvent(e.A(e.Event,"webglcontextrestored"));this.fu(!1);this.fa()}z$(c){this.fu(c.hidden)}A$(c){this.Fq()&&this.dU&&!e.Sc.IE&&!c.data.parentHasFocus&&(this.fu(!0),this.II=!0)}B$(){this.II&&(this.fu(!1),this.II=!1)}uR(){const c=this.Bda;"vsync"===this.$H?-1===this.we&&(this.we=self.requestAnimationFrame(c.LV)):"unlimited-tick"===
this.$H?(-1===this.$l&&(this.$l=e.YE(c.tfa)),-1===this.we&&(this.we=self.requestAnimationFrame(c.cfa))):-1===this.$l&&(this.$l=e.YE(c.LV))}C6(){-1!==this.we&&(self.cancelAnimationFrame(this.we),this.we=-1);-1!==this.$l&&(e.mX(this.$l),this.$l=-1)}Jm(){return 0<this.ss}fu(c){var g=this.Jm();this.ss+=c?1:-1;0>this.ss&&(this.ss=0);c=this.Jm();!g&&c?(console.log("[Construct 3] Suspending"),this.C6(),this.Xb.dispatchEvent(e.A(e.Event,"suspend")),this.Ka(e.D.Ya.L.P2,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.rp=this.tB=g=performance.now(),this.Ql=this.BB=this.HA=this.IA=0,this.Xb.dispatchEvent(e.A(e.Event,"resume")),this.Ka(e.D.Ya.L.M2,null,null),this.Dt()||this.qf(g))}e6(c){this.Xm.Ec(c)}f6(c){this.Ym.Ec(c)}W$(c){this.Xm.vh(c)}V$(c){this.cp.vh(c)}X$(c){this.Ym.vh(c)}t6(){this.Xm.xh(!0);for(const c of this.Xm)c.qf();this.Xm.xh(!1)}s6(){this.cp.xh(!0);for(const c of this.cp);this.cp.xh(!1)}u6(){this.Ym.xh(!0);for(const c of this.Ym)c.ju();this.Ym.xh(!1)}*Y6(){this.Xm.xh(!0);for(const c of this.Xm){const g=
c.qf();e.Hm(g)&&(yield*g)}this.Xm.xh(!1)}*X6(){this.cp.xh(!0);for(const c of this.cp)e.Hm(void 0)&&(yield*void 0);this.cp.xh(!1)}*Z6(){this.Ym.xh(!0);for(const c of this.Ym){const g=c.ju();e.Hm(g)&&(yield*g)}this.Ym.xh(!1)}async qf(c,g,m){this.dT=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.OA&&(!this.Jm()||g||h)&&(g=performance.now(),this.dB=!0,this.N9(c||0),c=this.t5(),this.re&&await c,c=this.Xb.hea(this.op.pretick),c instanceof Promise&&await c,c=this.s5(),this.re&&
await c,this.S9()&&await this.I8(),this.gb.Eq()&&await this.J9(),c=this.u5(),this.re&&await c,m&&this.Ho(),this.Jm()||h||this.uR(),this.Ak++,this.Nr++,this.dB=!1,this.Ql+=performance.now()-g)}async t5(){const c=this.ya,g=this.wb;this.Ud();c.Ce(!0);this.Qt(this.Vb());g&&a.dr();this.re?await c.WX():c.Z3();g&&a.BW();this.Pt();c.Ce(!1);this.Ud();c.Ce(!0)}async s5(){const c=this.wb,g=this.re,m=this.Xb,h=this.op,k=this.RU;c&&a.dr();g?await this.Nx(this.Y6()):this.t6();g?await this.Nx(this.X6()):this.s6();
c&&a.wW();c&&a.dr();g?await this.ZL(h.tick):m.dispatchEvent(h.tick);c&&a.IW();this.ya.Ce(!1);this.lh(k.tick)}async u5(){const c=this.ya,g=this.Xb,m=this.op,h=this.wb,k=this.re;h&&a.dr();k?await c.UX(this.gb):c.X3(this.gb);h&&a.BW();this.Ui.KL();this.qR();this.EI=!1;c.Ce(!0);h&&a.dr();k?await this.Nx(this.Z6()):this.u6();h&&a.wW();h&&a.dr();k?await this.ZL(m.tick2):g.dispatchEvent(m.tick2);h&&a.IW();c.Ce(!1);k&&await c.rO()}qR(){if(0!==this.xp.size){var c=this.Xb;c.Tq(!0);for(const g of this.WA)g.yn.Go(this.xp);
this.WA.clear();this.ya.D3(this.xp);for(const g of this.xp)g.B();this.xp.clear();c.Tq(!1)}}async J9(){const c=this.gb;let g=0;for(;c.Eq()&&10>g++;)await this.XP(c.iw)}N9(c){let g=0;0!==this.tB&&(g=Math.max(c-this.tB,0)/1E3,.5<g&&(g=0),this.sv=Math.min(g,1/this.WT));this.tB=c;this.rv=this.sv*this.fe;this.dI.Ec(this.rv);this.eI.Ec(g*this.fe);this.oK.Ec(this.sv);this.P&&this.P.Wba();1E3<=c-this.rp&&(this.rp+=1E3,1E3<=c-this.rp&&(this.rp=c),this.HA=this.IA,this.IA=0,this.BB=Math.min(this.Ql/1E3,1),this.Ql=
0,this.P&&this.P.Pba(),this.wb&&a.doa());this.IA++}async XP(c){const g=this.Xb,m=this.gb.Vb();await m.Gba();m.Oba(c,this.ob());m===c&&this.ya.Dx();this.Ui.KL();this.qR();g.dispatchEvent(this.op.beforelayoutchange);e.Ok.JO(!0);await c.mG(m,this.ob());e.Ok.JO(!1);await c.WR(!1);g.dispatchEvent(this.op.layoutchange);this.fa();this.EI=!0;this.Ud()}fa(){this.lJ=!0}so(){return this.P?this.P.so():null}Bt(){return this.P?this.P.Bt():null}ob(){return this.P?this.P.ob():null}Ho(){const c=this.P;if(c&&!c.u1()){var g=
this.ob(),m=g.bk(),h=m&&g.el();m=m&&!1;h&&g.qX();if(this.lJ){var k=this.gb.Vb();g.iu();var n=this.wb;n&&a.dr();this.lJ=!1;var p=null;h&&(p=c.LA.iD(),g.BF(p));h=null;m&&(h=g.una(2*(1+k.cc.length)),g.Z5(0));this.im&&"low"===c.Oh?g.x4(c.Fj(),c.pi()):g.h4();this.caa(this.ob(),k);p&&g.CD(p);m&&(g.Z5(1),this.P.r6(h));g.dt();n&&(a.Xfa(),a.eoa());c&&c.L9()}else g.x0()}}caa(c,g){c.ak();c.zO();c.mf(1,1,1,1);c.Fg(null);c.$f(null);c.Eg(this.im);g.mh(c)}Ka(c,g,m){if(!this.OA)return!1;var h=!this.dB&&!this.ya.EE();
let k=0;h&&(k=performance.now());const n=this.wb;n&&this.Zy(!1);c=this.ya.Ou(this.gb,c,g,m);h&&(h=performance.now()-k,this.Ql+=h,n&&a.$fa(h));n&&this.Zy(!0);return c}async Fd(c,g,m){if(!this.re)return this.Ka(c,g,m);if(!this.OA)return!1;if(this.Dt())return this.ya.v3(c,g,m);if(!this.Vb())return this.ya.UE(c,g,m);const h=performance.now();c=this.ya.pu(this.gb,c,g,m);for(g=c.next();!g.done;)await this.oq(g.value),g=c.next();this.Jm()||this.ya.EE()||(await this.ya.rO(),this.dT&&!this.dB&&this.uR());
this.Ql+=performance.now()-h;return g.value}Qt(c){this.mv.push(c)}Pt(){if(!this.mv.length)throw Error("layout stack empty");this.mv.pop()}Oa(){return this.mv.length?this.mv.he(-1):this.Vb()}RD(c){return c&&-1!==c.fe?this.sv*c.fe:this.rv}sF(c){if(isNaN(c)||0>c)c=0;this.fe=c}UO(c){this.WT=e.oa(c,1,120)}ko(){return this.dI.ea()}f_(){return this.eI.ea()}iE(){return this.oK.ea()}cl(){++this.Nr}ti(c){if(this.tk)throw Error("cannot call while loading state - wait until afterload event");return this.wp.get(c)||
null}oR(){this.wp.clear();for(const c of this.Uc)if(!c.cb)for(const g of c.la())this.wp.set(g.Cc,g)}Fq(){return"preview"===this.$i}k1(){return"cordova"===this.$i}d1(){return"Android"===e.Sc.Jq&&("cordova"===this.$i||"playable-ad"===this.$i||"instant-games"===this.$i)}N4(c){c=!!c;this.Ll!==c&&(this.Ll=c,this.gb.Jo(),this.fa())}b4(c){this.pw=c}O1(c){this.Xv=c}LE(c){this.Xr=c}S9(){return!(!this.pw&&!this.Xv&&null===this.Xr)}async I8(){this.pw&&(this.Ud(),await this.B7(this.pw),this.NF());this.Xv&&(await this.A7(this.Xv),
this.NF(),this.wb&&a.wna());if(null!==this.Xr){this.Ud();try{await this.YP(this.Xr),this.Gp=this.Xr,await this.Fd(e.D.Ya.L.QN,null),this.Gp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Fd(e.D.Ya.L.RN,null)}this.NF()}}NF(){this.Xv=this.pw="";this.Xr=null}z8(){this.yJ||(this.yJ=localforage.DK({name:"c3-localstorage-"+this.zJ,description:this.TB}));return this.yJ}AQ(){this.GJ||(this.GJ=localforage.DK({name:"c3-savegames-"+this.zJ,description:this.TB}));
return this.GJ}async B7(c){const g=await this.Iaa();try{await this.AQ().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Gp=g,await this.Fd(e.D.Ya.L.N2,null),this.Gp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Fd(e.D.Ya.L.O2,null)}}async A7(c){try{const g=await this.AQ().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.YP(g);this.Gp=
g;await this.Fd(e.D.Ya.L.QN,null);this.Gp=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.Fd(e.D.Ya.L.RN,null)}}async Iaa(){const c={c3save:!0,version:1,rt:{time:this.ko(),timeRaw:this.f_(),walltime:this.iE(),timescale:this.fe,tickcount:this.Ak,execcount:this.Nr,next_uid:this.fw,running_layout:this.Vb().kb,start_time_offset:Date.now()-this.zn},types:{},layouts:{},events:this.ya.ma(),timelines:this.Ib.ma(),user_script_data:null};for(var g of this.Uc)g.cb||
g.$M()||(c.types[g.kb.toString()]=g.ma());for(const m of this.gb.Qi)c.layouts[m.kb.toString()]=m.ma();g=this.SF("save");g.saveData=null;await this.eo(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async YP(c){var g=this.gb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Xb.dispatchEvent(e.A(e.Event,"beforeload"));for(var m of this.Hda())m.Cz();
this.tk=!0;m=c.rt;this.dI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.eI.Set(m.timeRaw);this.oK.Set(m.walltime);this.fe=m.timescale;this.Ak=m.tickcount;this.Nr=m.execcount;this.zn=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Vb().kb)if(h=g.aE(h))await this.XP(h);else return;for(const [k,n]of Object.entries(c.types))h=this.jy(parseInt(k,10)),!h||h.cb||h.$M()||h.ta(n);this.Ud();this.oR();this.tk=!1;this.fw=m.next_uid;for(const [k,n]of Object.entries(c.layouts))(m=g.aE(parseInt(k,
10)))&&m.ta(n);this.ya.ta(c.events);for(const k of this.Uc)if(!k.cb&&k.ac())for(const n of k.la()){m=n.lo();for(const p of k.Ng.Wl)if(p!==k){h=p.la();if(0>m||m>=h.length)throw Error("missing sibling instance");n.er(h[m])}}this.Ib.ta(c.timelines);g.Ko();g.Jo();this.Xb.dispatchEvent(e.A(e.Event,"afterload"));g=this.SF("load");g.saveData=c.user_script_data;await this.eo(g);this.fa()}async FW(c){c=(await Promise.all(c.map(g=>this.md.Rk(g)))).map(g=>URL.createObjectURL(g));this.Rv.w0(c)}DW(){this.Rv.d4()}EW(c){this.Rv.e4(c)}fD(c,
g,m){return this.Rv.fD(c,g,m)}uE(c,g){this.hl("runtime","invoke-download",{url:c,filename:g})}async w3(c){var g=g||2048;var m=m||2048;return this.se?(await this.Bo("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}Pq(){this.CS||(this.CS=!0,this.hl("runtime","enable-device-orientation"))}Lm(){this.BS||(this.BS=!0,this.hl("runtime","enable-device-motion"))}Nq(){return this.rda()}A8(){const c=
this.so();return{fps:this.HA,cpu:this.BB,gpu:this.ey(),layout:this.Vb()?this.Vb().Ca():"",renderer:c?c.Lw:"<unavailable>"}}Dt(){return this.wb?a.Dt():!1}oq(c){return this.re?a.oq(c):Promise.resolve()}wc(){return this.re?a.yga():!1}Zy(c){c?this.IH--:this.IH++;this.Rba()}Rba(){this.re=this.wb&&this.tca&&0===this.IH}wE(){return this.wb&&a.wE()}BE(){return this.wb&&this.ob().bk()&&a.BE()}async Nx(c){if(c)for(const g of c)await this.oq(g)}ZL(c){return this.Nx(this.Xb.iea(c))}Bz(c){return this.ya.Bz(c.name,
c.params)}SF(c){c=e.A(e.Event,c,!1);c.Jf=this.cj;return c}U8(){var c={};for(const g of this.Uc)c[g.wi()]={value:g.Dv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.cj=new self.o0(this,c);this.RU={tick:this.SF("tick")}}P8(){const c={};for(const g of this.qa().eH)c[g.wi()]=g.BQ();this.cj.Q8(c)}VQ(c,g){this.Qca.set(c,g)}};self.C3_CreateRuntime=e.sO.Sa;self.C3_InitRuntime=(c,g)=>c.Dm(g)}
{"use strict";const e=self.C;e.D1=class extends e.ka{constructor(a,b){super();this.g=a;this.Dp=new Map;this.kda=0;this.Gv=b.inputPort;b.outputPort.onmessage=d=>this.iR(d);this.PT=b.maxNumWorkers;this.Sv=1;this.XS=this.Jv=!1}async Dm(){}w0(a){this.Gv.postMessage({type:"_import_scripts",scripts:a})}d4(){this.Gv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}e4(a){this.Gv.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}fD(a,b,d){d||(d=[]);const c=this.kda++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:d};b=new Promise((g,m)=>{this.Dp.set(c,{resolve:g,progress:void 0,reject:m,BK:!1})});this.Gv.postMessage(a,d);this.WQ();return b}iR(a){a=a.data;const b=a.type,d=a.jobId;switch(b){case "result":this.o$(d,a.result);break;case "progress":this.n$(d,a.progress);break;case "error":this.m$(d,a.error);break;case "ready":this.p$();break;default:throw Error(`unknown message from worker '${b}'`);}}o$(a,b){const d=this.Dp.get(a);if(!d)throw Error("invalid job ID");
d.BK||d.resolve(b);this.Dp.delete(a)}n$(a,b){a=this.Dp.get(a);if(!a)throw Error("invalid job ID");!a.BK&&a.progress&&a.progress(b)}m$(a,b){const d=this.Dp.get(a);if(!d)throw Error("invalid job ID");d.BK||d.reject(b);this.Dp.delete(a)}p$(){this.Jv&&(this.Jv=!1,this.Sv++,this.Sv<this.PT?this.WQ():this.Gv.postMessage({type:"_no_more_workers"}))}async WQ(){if(!(this.Sv>=this.PT||this.Jv||this.XS||this.Dp.size<=this.Sv))try{this.Jv=!0,(await this.g.Bo("runtime","create-job-worker")).outputPort.onmessage=
a=>this.iR(a)}catch(a){this.XS=!0,this.Jv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Sv} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const e=self.C;let a=null,b="",d="",c=[],g="",m="",h="";const k=e.A(e.TW);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.D.Ya=class extends e.Qq{constructor(p){super(p);this.zf=this.g.qa().zf;this.Nd=this.g.qa().jd();this.Ev=this.up=0;this.RS=new Map}B(){super.B()}fa(){this.g.fa()}Ka(p){this.g.Ka(p,null,null)}oy(p,q){a&&p===b&&q===d||(a=new RegExp(p,q),b=p,d=q);a.lastIndex=0;return a}KM(p,q,u){if(p===g&&q===
m&&u===h)return c;const w=this.oy(q,u);c=p.match(w);g=p;m=q;h=u;return c}async oG(p,q){if(q.length){this.up+=q.length;var u=[];for(const w of q)u.push(p.DN(w));await e.p3(u,()=>{this.Ev++});this.Ev++;this.Ev===this.up&&(this.g.Ka(e.D.Ya.L.z2,null,null),this.up=this.Ev=0)}}$R(p,q){for(const u of q)0===u.H.length&&p.Z1(u)}sQ(){return k}eaa(p){var q=this.g.qa();const u=q.jd(),w=u.ff(),r=w.Kb(),v=r.zd();var y=w.Sj();const A=u.Ta(r),G=q.zf,z=G.Ta();if(y)for(y=0;y<p&&!z.zc;++y)q.Ke(v),z.Hc(y),r.Cg(w,A),
q.Pb(v);else for(q=0;q<p&&!z.zc;++q)z.Hc(q),r.Cg(w,A);u.Pa();G.Pa();return!1}*f7(p){var q=this.g.qa();const u=q.jd(),w=u.ff(),r=w.Kb(),v=r.zd();var y=w.Sj();const A=u.Ta(r),G=q.zf,z=G.Ta();if(y)for(y=0;y<p&&!z.zc;++y)q.Ke(v),z.Hc(y),yield*r.wg(w,A),q.Pb(v);else for(q=0;q<p&&!z.zc;++q)z.Hc(q),yield*r.wg(w,A);u.Pa();G.Pa();return!1}bca(){var p=this.g.qa();const q=p.jd(),u=q.ff(),w=u.Kb(),r=w.zd();var v=u.Sj();const y=q.Ta(w),A=p.zf,G=A.Ta();if(v)for(v=0;!G.zc;++v)p.Ke(r),G.Hc(v),w.Cg(u,y)||G.pf(),p.Pb(r);
else for(p=0;!G.zc;++p)G.Hc(p),w.Cg(u,y)||G.pf();q.Pa();A.Pa();return!1}*y7(){var p=this.g.qa();const q=p.jd(),u=q.ff(),w=u.Kb(),r=w.zd();var v=u.Sj();const y=q.Ta(w),A=p.zf,G=A.Ta();if(v)for(v=0;!G.zc;++v)p.Ke(r),G.Hc(v),(yield*w.wg(u,y))||G.pf(),p.Pb(r);else for(p=0;!G.zc;++p)G.Hc(p),(yield*w.wg(u,y))||G.pf();q.Pa();A.Pa();return!1}h8(p,q,u){var w=this.g.qa();const r=w.jd(),v=r.ff(),y=v.Kb(),A=y.zd(),G=v.Sj(),z=r.Ta(y),F=w.zf,H=F.Ta();H.ez(p);if(u<q)if(G)for(p=q;p>=u&&!H.zc;--p)w.Ke(A),H.Hc(p),
y.Cg(v,z),w.Pb(A);else for(w=q;w>=u&&!H.zc;--w)H.Hc(w),y.Cg(v,z);else if(G)for(p=q;p<=u&&!H.zc;++p)w.Ke(A),H.Hc(p),y.Cg(v,z),w.Pb(A);else for(w=q;w<=u&&!H.zc;++w)H.Hc(w),y.Cg(v,z);r.Pa();F.Pa();return!1}*c7(p,q,u){var w=this.g.qa();const r=w.jd(),v=r.ff(),y=v.Kb(),A=y.zd(),G=v.Sj(),z=r.Ta(y),F=w.zf,H=F.Ta();H.ez(p);if(u<q)if(G)for(p=q;p>=u&&!H.zc;--p)w.Ke(A),H.Hc(p),yield*y.wg(v,z),w.Pb(A);else for(w=q;w>=u&&!H.zc;--w)H.Hc(w),yield*y.wg(v,z);else if(G)for(p=q;p<=u&&!H.zc;++p)w.Ke(A),H.Hc(p),yield*y.wg(v,
z),w.Pb(A);else for(w=q;w<=u&&!H.zc;++w)H.Hc(w),yield*y.wg(v,z);r.Pa();F.Pa();return!1}i8(p){var q=this.g.qa();const u=q.jd(),w=u.ff(),r=w.Kb(),v=r.zd();var y=w.Sj();const A=u.Ta(r),G=q.zf,z=G.Ta(),F=p.ac(),H=p.U(),J=k.Ta();e.Pc(J,H.la());if(y)for(let M=0,P=J.length;M<P&&!z.zc;++M)q.Ke(v),y=J[M],p.U().$j(y),F&&y.Ji(),z.Hc(M),r.Cg(w,A),q.Pb(v);else{H.ne(!1);p=H.H;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.zc;++M)q=J[M],p[0]=q,F&&q.Ji(),z.Hc(M),r.Cg(w,A)}u.Pa();G.Pa();e.F(J);k.Pa();return!1}*d7(p){var q=
this.g.qa();const u=q.jd(),w=u.ff(),r=w.Kb(),v=r.zd();var y=w.Sj();const A=u.Ta(r),G=q.zf,z=G.Ta(),F=p.ac(),H=p.U(),J=k.Ta();e.Pc(J,H.la());if(y)for(let M=0,P=J.length;M<P&&!z.zc;++M)q.Ke(v),y=J[M],p.U().$j(y),F&&y.Ji(),z.Hc(M),yield*r.wg(w,A),q.Pb(v);else{H.ne(!1);p=H.H;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.zc;++M)q=J[M],p[0]=q,F&&q.Ji(),z.Hc(M),yield*r.wg(w,A)}u.Pa();G.Pa();e.F(J);k.Pa();return!1}j8(p,q){var u=this.g.qa();const w=u.jd(),r=u.Nf(),v=w.ff(),y=v.Kb(),A=y.zd(),G=v.Sj(),
z=w.Ta(y),F=u.zf,H=F.Ta(),J=p.ac(),M=p.U(),P=k.Ta();e.F(P);const R=M.la();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.St(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.zc;++T)u.Ke(A),q=P[T][0],p.U().$j(q),J&&q.Ji(),H.Hc(T),y.Cg(v,z),u.Pb(A);else{M.ne(!1);p=M.H;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.zc;++T)u=P[T][0],p[0]=u,J&&u.Ji(),H.Hc(T),y.Cg(v,z)}w.Pa();F.Pa();e.F(P);k.Pa();return!1}*e7(p,q){var u=this.g.qa();const w=u.jd(),r=u.Nf(),v=w.ff(),y=v.Kb(),A=y.zd(),
G=v.Sj(),z=w.Ta(y),F=u.zf,H=F.Ta(),J=p.ac(),M=p.U(),P=k.Ta();e.F(P);const R=M.la();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.St(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.zc;++T)u.Ke(A),q=P[T][0],p.U().$j(q),J&&q.Ji(),H.Hc(T),yield*y.wg(v,z),u.Pb(A);else{M.ne(!1);p=M.H;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.zc;++T)u=P[T][0],p[0]=u,J&&u.Ji(),H.Hc(T),yield*y.wg(v,z)}w.Pa();F.Pa();e.F(P);k.Pa();return!1}xz(p,q){let u=this.RS.get(p);if(u)return u;if(!q)return null;
u={Qn:null,XC:new Map};this.RS.set(p,u);return u}z7(p,q,u,w,r){q.Ge().W3(u);w&&p.Pb(r)}*a7(p,q,u,w,r){yield*q.Ge().TX(u);w&&p.Pb(r)}}}{"use strict";const e=self.C;e.D.Ya.Qm=class extends e.ka{constructor(a){super();this.M=a;this.g=a.J();this.Wh=a.zb()}Bd(){}B(){this.Wh=this.g=this.M=null}}}{"use strict";const e=self.C;e.D.Ya.Instance=class extends e.ka{constructor(a){super();this.ja=a;this.M=this.ja.I();this.Oc=this.M.Oc;this.g=this.ja.J()}B(){this.g=this.Oc=this.M=this.ja=null}}}
{"use strict";const e=self.C,a=[];e.D.Ya.L={xha(){return!0},PN(){return!0},A2(){return!0},P2(){return!0},M2(){return!0},Jm(){return this.g.Jm()},gM(){const b=this.g.ef();return b.QH?!1:!b.Ep},E5(){const b=this.g.Nf().Mj();let d=b.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Ak;b.set("TriggerOnce_lastTick",c);return this.g.EI||d!==c-1},wha(b){const d=this.g.Nf().Mj(),c=d.get("Every_lastTime")||0,g=this.g.ko();d.has("Every_seconds")||d.set("Every_seconds",
b);const m=d.get("Every_seconds");if(g>=c+m)return d.set("Every_lastTime",c+m),g>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",g),d.set("Every_seconds",b),!0;g<c-.1&&d.set("Every_lastTime",g);return!1},Cq(b){return(b=this.g.qa().xM(b))&&b.Cq()},Fq(){return this.g.Fq()},IE(){return e.Sc.IE},B2(){return!0},r2(){return!0},rha(){return!0},N2(){return!0},O2(){return!0},QN(){return!0},RN(){return!0},Pja(b){return!!this.g.ti(b)},Ria(b){switch(b){case 0:return"browser"===e.Sc.tD;case 1:return"iOS"===
e.Sc.Jq;case 2:return"Android"===e.Sc.Jq;case 8:return"cordova"===e.Sc.tD;case 9:return"scirra-arcade"===this.g.$i;case 10:return"nwjs"===e.Sc.tD;case 13:return"windows-uwp"===this.g.$i;default:return!1}},Xka(b,d,c){return this.oy(d,c).test(b)},AX(b,d,c){return e.compare(b,d,c)},Oga(b,d,c){return b>=d&&b<=c},Yga(b,d,c){return e.compare(b.ga(),d,c)},Pga(b){return!!b.ga()},Wga(b,d){const c=this.g.ko();return 0===b?(b=this.g.Nf().Mj(),!b.get("CompareTime_executed")&&c>=d?(b.set("CompareTime_executed",
!0),!0):!1):e.compare(c,b,d)},Oia(b){return isNaN(b)},NW(b,d,c){return e.Fs(e.Cb(b),e.Cb(c))<=e.Cb(d)},i1(b,d){return e.Ef(e.Cb(b),e.Cb(d))},g1(b,d,c){b=e.Cb(b);d=e.Cb(d);c=e.Cb(c);return e.Ef(c,d)?e.Ef(b,d)&&!e.Ef(b,c):!(!e.Ef(b,d)&&e.Ef(b,c))},$ia(b,d){return"number"===typeof b?0===d:1===d},vha(b){return!!b},oka(b,d,c,g){if(!b)return!1;const m=this.sQ(),h=m.Ta(),k=b.U();e.Pc(h,k.la());k.$b&&e.F(k.ec);const n=this.g.Nf();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;d=n.St(1,q);g=n.St(3,
q);e.compare(d,c,g)?++p:k.sl(w)}e.cf(h,p);k.Vt(h);d=!!h.length;e.F(h);m.Pa();b.ic();return d},pka(b,d){if(!b)return!1;const c=this.sQ(),g=c.Ta(),m=b.U();e.Pc(g,m.la());m.$b&&e.F(m.ec);const h=this.g.Nf();let k=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[k]=q;(d=h.St(1,n))?++k:m.sl(q)}e.cf(g,k);m.Vt(g);d=!!g.length;e.F(g);c.Pa();b.ic();return d},uka(b,d){if(!b)return!1;const c=b.U(),g=c.la();d=Math.floor(d);if(d>=g.length)return!1;c.Km(g[d]);b.ic();return!0},yka(b){if(!b)return!1;const d=b.U(),
c=d.la(),g=Math.floor(this.g.Nq()*c.length);if(g>=c.length)return!1;d.Km(c[g]);b.ic();return!0},a3(b){if(!b||!b.H.length)return!1;b.U().ne(!0);b.ic();return!0},wka(b,d,c){if(!b)return!1;const g=b.U();var m=g.la();const h=this.g.Kb().Pd,k=this.g.Nf().hj;g.$b?(e.Pc(a,m),g.Ex(),g.ne(!1)):h?(e.Pc(a,g.ec),e.F(g.ec)):(e.Pc(a,g.H),e.F(g.H));for(let n=0,p=a.length;n<p;++n)m=a[n],e.xor(m.j().nq(d,c),k)?g.Vo(m):g.sl(m);b.ic();return e.xor(!!g.H.length,k)},tka(b){if(!b)return!1;var d=b.cb;let c=null;const g=
this.g.Jl;for(let m=g.length-1;0<=m;--m){const h=g[m];if(d){if(h.I().lD(b)){c=h;break}}else if(h.I()===b){c=h;break}}c||(d=b.la(),d.length&&(c=d.he(-1)));if(!c)return!1;b.U().Km(c);b.ic();return!0},ala(b){return this.g.re?this.f7(b):this.eaa(b)},uoa(){return this.g.re?this.y7():this.bca()},xZ(b,d,c){return this.g.re?this.c7(b,d,c):this.h8(b,d,c)},nM(b){return this.g.re?this.d7(b):this.i8(b)},Gha(b,d,c){return this.g.re?this.e7(b,c):this.j8(b,c)},hja(b){return b?b.Rc():!1},eja(b){return b?!b.H.length:
!1},dja(b,d,c){return b?e.compare(100*b.Ie(),d,c):!1},z2(){return!0},Lia(){return 0<this.up}}}
{"use strict";const e=self.C;function a(h,k){const n=h[0]-k[0];return 0!==n?n:h[1]-k[1]}function b(h,k){return h[1]-k[1]}const d=[],c=[],g=e.A(e.Rect),m=e.A(e.hb);e.D.Ya.Db={g5(h,k){h.Me(k)},aga(h,k){h.Im()&&"number"!==typeof k&&(k=parseFloat(k));h.Me(h.ga()+k)},Jna(h,k){h.Im()&&h.Me(h.ga()-k)},pma(h,k){h.Me(!!k)},Ona(h){h.Me(!h.ga())},Pla(){this.g.qa().M3()},WL(h,k,n,p,q){h&&k&&(n=this.g.vD(h,k,n,p,q))&&(q&&k.xF(n),k=this.g.qa(),k.Ce(!0),n.Rz(),k.Ce(!1),h.U().$j(n),n.ac()&&n.Ji())},jha(h,k,n,p,q){h&&
k&&(h=this.g.iy(h))&&e.D.Ya.Db.WL.call(this,h,k,n,p,q)},Rt(h,k,n,p,q,u,w,r,v,y){if(h){var A=this.g.Oa();if(u&&(A=this.g.gb.tq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ba(w),!u)return;g.set(k,n,p,q);k=A.Rt(h,g,u,r,v,y);h.U().Vt(k);h.ic()}},yna(){const h=this.zf;h.oN()&&h.rq().pf()},Vq(h,k){(h=this.g.qa().xM(h))&&(0===k?h.Vq(!1):1===k?h.Vq(!0):h.Vq(!h.Cq()))},gna(h){this.g.sF(h)},cna(h,k){0>k&&(k=0);if(h){h=h.U().la();for(const n of h)n.sF(k)}},Tla(h){if(h){h=h.U().la();for(const k of h)k.T3()}},
IF(h){if(!(0>h))return this.g.qa().gD().Z0(h),!0},loa(h){this.g.qa().gD().X0(h);return!0},koa(){const h=this.g.qa();h.gD().L0(h.F_());return!0},kna(h){h=h.toLowerCase();for(const k of this.g.qa().mg)k.x1()&&k.ww===h&&k.pF()},async fP(h,k,n,p,q,u){const w=this.g.P;w&&(this.fa(),await w.fP(0===h?"image/png":"image/jpeg",k/100,n,p,q,u),await this.g.Fd(e.D.Ya.L.r2,null))},rma(h,k){if(!(0>=h||0>=k)){this.g.hu(h,k);var n=this.g.Oa();n.yx();for(const p of n.cc)p.HF();if(n=this.g.P)"off"!==n.lt()&&this.g.K4(h,
k),n.ld(n.Gk,n.Fk,!0),this.g.fa()}},Dma(h){const k=this.g.P;k&&"off"!==k.lt()&&(k.IO(0!==h?"high":"low"),k.ld(k.Gk,k.Fk,!0))},Io(h){this.g.b4(h)},nja(h){this.g.O1(h)},oja(h){this.g.LE(h)},Fma(){},Qla(){for(const h of this.g.gb.Qi)h.R3()},ena(h){this.g.N4(0!==h)},UO(h){this.g.UO(h)},mna(h,k){if(h){var n=h.U().la(),p=this.g.Oa(),q=h.cb;h=h.Mh;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.j();if(!v)continue;let y;y=q?u.He(k+u.I().WD(h)):u.He(k);d.push([v.ba().Ja(),v.uh()]);c.push([u,y])}if(d.length){d.sort(a);
c.sort(b);k=!1;for(let w=0,r=d.length;w<r;++w)n=c[w][0],q=p.fy(d[w][0]),h=d[w][1],u=q.H,u[h]!==n&&(u[h]=n,n.j().Ju(q),q.Gg(),k=!0);k&&this.g.fa();e.F(d);e.F(c)}}},Sha(h){if(!this.g.sk){var k=this.g.gb;k.Eq()||k.Cx(h)}},Tha(h){if(!this.g.sk){var k=this.g.gb;k.Eq()||(h=k.tq(h))&&k.Cx(h)}},Jja(h){if(!this.g.sk){var k=this.g.gb;if(!k.Eq()){var n=k.Qi,p=n.indexOf(k.Vb());h&&0===p||(h||p!==n.length-1)&&k.Cx(n[p+(h?-1:1)])}}},Rla(){if(!this.g.sk){var h=this.g.gb;h.Eq()||(h.Cx(h.Vb()),this.g.qa().N3())}},
Tma(h,k){h&&h.yh(k)},Nma(h,k){h&&h.kl(k/100)},Pma(h,k){h&&h.WO(k)},Qma(h,k){h&&h.Q4(k)},Hma(h,k){h&&h.Ed(e.Cb(+k))},Rma(h,k,n){h&&(h.bu(!0),h.Hi(k),h.Ii(n))},Sla(h){h&&h.bu(!1)},Oma(h,k,n){h&&h.L4(k/100,n/100)},Uma(h,k){h&&h.Ne(+k)},Ima(h,k){h&&(m.Qs(k),m.oa(),h=h.yl,h.mm(m)||(h.sj(m),this.fa()))},Sma(h,k){h&&h.c5(k)},Jma(h,k){h&&h.Yf(k)},Kma(h,k,n){h&&(n=h.Qa.Uk(n))&&(k=1===k,n.Mb!==k&&(n.Xy(k),h.Bh(),this.g.fa()))},Lma(h,k,n,p){if(h&&(h=h.Qa,k=h.Uk(k))&&(h=h.Tk(k.Ja()),n=Math.floor(n),!(0>n||n>=
h.length))){var q=k.Tf().ky(n);if("color"===q){m.Qs(p);n=h[n];if(m.mm(n))return;n.sj(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}k.Mb&&this.g.fa()}},Mma(h,k){h&&h.z4(k)},Zma(h){this.g.Oa().nF(+h)},Vma(h){this.g.Oa().Ed(e.Cb(+h))},Wma(h,k){const n=this.g.Oa();if(k=n.Qa.Uk(k))h=1===h,k.Mb!==h&&(k.Xy(h),n.Bh(),this.g.fa())},Xma(h,k,n){var p=this.g.Oa().Qa;if(h=p.Uk(h))if(p=p.Tk(h.Ja()),k=Math.floor(k),!(0>k||k>=p.length)){var q=h.Tf().ky(k);if("color"===q){m.Qs(n);k=p[k];if(m.mm(k))return;
k.sj(m)}else{"percent"===q&&(n/=100);if(p[k]===n)return;p[k]=n}h.Mb&&this.g.fa()}},$ma(h,k){this.g.Oa().f5(h/100,k/100)},Yma(h){const k=this.g.Oa();0===h?k.YO():k.VO()},gma(h){this.g.Oa().Hi(h)},hma(h){this.g.Oa().Ii(h)},ema(h,k){const n=this.g.Oa();n.Hi(h);n.Ii(k)},fma(h){if(h&&(h=h.XD())&&(h=h.j())){var k=this.g.Oa();k.Hi(h.S());k.Ii(h.T())}},async Q1(h){const k=this.g.Vb();k&&h&&!this.g.sk&&await this.oG(k,h.cb?h.pp:[h])},async mja(h){await e.D.Ya.Db.Q1.call(this,this.g.iy(h))},G5(h){const k=this.g.Vb();
k&&h&&this.$R(k,h.cb?h.pp:[h])},$na(h){e.D.Ya.Db.G5.call(this,this.g.iy(h))},aoa(){const h=this.g.Vb();if(h){var k=h.H8();this.$R(h,k)}},async kja(h){const k=this.g.Vb();h&&k&&!this.g.sk&&await this.oG(k,h.tQ())},async lja(h){const k=this.g.Vb();(h=this.g.gb.tq(h))&&k&&!this.g.sk&&await this.oG(k,h.tQ())},bz(h){const k=this.Nd.OZ();if(k)switch(k.SS){case 1:"number"===typeof h&&k.bz(h);break;case 2:"string"===typeof h&&k.bz(h);break;case 3:k.bz(h)}},tja(h,k,n){var p=this.xz(h.toLowerCase(),!0);const q=
p.XC,u=k.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${k}' already in map; overwriting entry`);(p=e.first(q.values())||p.Qn)&&0!==p.Zl!==(0!==n.Zl)?console.error(`[Construct 3] Function map '${h}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},uja(h,k){const n=this.xz(h.toLowerCase(),!0);n.Qn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=e.first(n.XC.values())||
n.Qn;p&&0!==p.Zl!==(0!==k.Zl)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.Qn=k},Dga(h,k,n){n=Math.floor(n);var p=this.xz(h.toLowerCase(),!1);if(p){var q=p.XC.get(k.toLowerCase());if(!q)if(p.Qn)q=p.Qn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${k}'; call ignored (consider setting a default)`);return}if(q.Bi())if(0!==q.Zl)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${k}' has a return type so cannot be called`);
else{h=this.g;k=h.qa();var u=k.Kb();p=u.Ad();var w=0<p.length;w&&k.Bg(p);var r=[];if(u=k.FD(u)){u=u.Rg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].ga())}n=q.Rg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].vp);return h.re?this.a7(k,q,r,w,p):this.z7(k,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const e=self.C;e.D.Ya.Ub={hqa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},ypa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},qm(a){return a.toString()},cx(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Nq()*a:this.g.Nq()*(b-a)+a},Uda(...a){return a[Math.floor(this.g.Nq()*a.length)]},gra(){return Math.PI},fqa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Hra(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(e.Cb(a))},cos(a){return Math.cos(e.Cb(a))},tan(a){return Math.tan(e.Cb(a))},asin(a){return e.ki(Math.asin(a))},acos(a){return e.ki(Math.acos(a))},atan(a){return e.ki(Math.atan(a))},exp(a){return Math.exp(a)},Jea(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let g=a[d];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let g=a[d];"number"===typeof g&&b>g&&(b=g)}return b},oa(a,b,d){return e.oa(a,b,d)},Vw(a,b,d,c){return e.gi(a,b,d,c)},angle(a,b,d,c){return e.ki(e.Gs(a,b,d,c))},ie(a,b,d){return e.ie(a,b,d)},YC(a,b,d){return e.YC(a,b,d)},SC(a,b,d,c){return e.SC(a,b,d,c)},nV(a,b,d,c,g){return e.nV(a,
b,d,c,g)},mV(a,b,d){return e.mV(a,b,d)},Poa(a,b){return e.ki(e.Fs(e.Cb(a),e.Cb(b)))},Qoa(a,b,d){return e.ki(e.uK(e.Cb(a),e.Cb(b),d))},Roa(a,b,d){return e.ki(e.vK(e.Cb(a),e.Cb(b),e.Cb(d)))},Tra(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},csa(a,b){return(a|0)^1<<(b|0)},Xpa(a,b){return(a|0)&1<<(b|0)?1:0},Qqa(){return"\n"},hsa(a){return"string"===typeof a?a.toUpperCase():""},Hqa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==
typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},wfa(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},xfa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(e.Zs(b),"i")):-1},xpa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(e.Zs(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(e.Zs(b),"gi"),d):"string"===typeof a?a:""},sra(a,b,d){b=this.oy(b,d);return a?a.search(b):-1},rra(a,b,d,c){b=this.oy(b,d);return a?a.replace(b,c):""},qra(a,b,d){return(a=this.KM(a.toString(),b,d))?a.length:0},pra(a,b,d,c){c=Math.floor(c);a=this.KM(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},Bsa(a,b){let d=0>a?"-":"";0>a&&(a=-a);
d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},jsa(a){return encodeURIComponent(a)},isa(a){return decodeURIComponent(a)},HK(){return this.g.rv},asa(){return this.g.fe},xsa(){return(Date.now()-this.g.zn)/1E3},fsa(){return Date.now()},time(){return this.g.ko()},$ra(){return this.g.Ak},Vqa(){return this.g.qJ},Bpa(){return this.g.HA},hpa(){return this.g.BB},Zpa(){return this.g.ey()},Asa(){return this.g.P.Gh},zsa(){return this.g.P.Fh},$qa(){return this.g.Xg},Zqa(){return this.g.Wg},
Yqa(){return this.g.Xg},Xqa(){return this.g.Wg},Kra(){return this.g.Oa().Rf()},Lra(){return this.g.Oa().Sf()},Cqa(){return this.g.Oa().Ca()},Dqa(){return this.g.Oa().xd},Aqa(){return e.ki(this.g.Oa().Fa())},Eqa(){return this.g.Oa().Y()},Bqa(){return this.g.Oa().W()},ssa(a){return(a=this.g.Oa().ba(a))?a.Mn.ca:0},vsa(a){return(a=this.g.Oa().ba(a))?a.Mn.Z:0},usa(a){return(a=this.g.Oa().ba(a))?a.Mn.na:0},qsa(a){return(a=this.g.Oa().ba(a))?a.Mn.ia:0},wsa(a){return(a=this.g.Oa().ba(a))?a.Mn.width():0},
rsa(a){return(a=this.g.Oa().ba(a))?a.Mn.height():0},bpa(a,b,d){return(a=this.g.Oa().ba(a))?a.Lf(b,d)[0]:0},cpa(a,b,d){return(a=this.g.Oa().ba(a))?a.Lf(b,d)[1]:0},xqa(a,b,d){return(a=this.g.Oa().ba(a))?a.Ao(b,d)[0]:0},yqa(a,b,d){return(a=this.g.Oa().ba(a))?a.Ao(b,d)[1]:0},tqa(a){return(a=this.g.Oa().ba(a))?a.xd:0},oqa(a){return(a=this.g.Oa().ba(a))?e.ki(a.pe):0},qqa(a){return(a=this.g.Oa().ba(a))?100*a.Ie():0},uqa(a){return(a=this.g.Oa().ba(a))?a.nj:0},vqa(a){return(a=this.g.Oa().ba(a))?a.Rf():0},
wqa(a){return(a=this.g.Oa().ba(a))?a.Sf():0},rqa(a){return(a=this.g.Oa().ba(a))?100*a.$d:0},sqa(a){return(a=this.g.Oa().ba(a))?100*a.ae:0},zqa(a){return(a=this.g.Oa().ba(a))?a.Xa():0},pqa(a){return(a=this.g.Oa().ba(a))?a.Ja():-1},apa(){const a=this.g.P;return a?a.LJ:""},Lea(a){const b=this.zf;return b.oN()?a?(a=b.tZ(a))?a.Ja():0:b.rq().Ja():0},Ira(){return this.g.Gp},Zoa(a,b,...d){var c=this.xz(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var g=c.XC.get(b.toLowerCase());if(!g)if(c.Qn)g=c.Qn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.Zl;const m=g.mt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.Bi())return m;a=this.g.qa();b=a.Kb().Ad();const h=0<b.length;h&&a.Bg(b);const k=g.Rg;for(let n=
d.length,p=k.length;n<p;++n)d.push(k[n].vp);g=g.Ge();d=g.bF(g.Ad(),c,m,...d);h&&a.Pb(b);return d},Gqa(){return this.g.md.rB},dqa(){return 0===this.up?1:this.Ev/this.up},Vn(){return this.g.Bt()?"webgpu":"webgl"},vra(){return this.g.Bt()?"<unavailable>":this.g.so().Lw},eqa(){let a=this.g.ob().SZ();return Math.round(100*a/1048576)/100},wra(a,b,d){return e.X2(a,b,d)},zra(a,b,d){return e.XN(a/100,b/100,d/100)},xra(a,b,d,c){return e.Oy(a/100,b/100,d/100,c/100)},Ara(a,b,d){return e.XN(a/255,b/255,d/255)},
yra(a,b,d,c){return e.Oy(a/255,b/255,d/255,c/255)},Xea(){return this.g.TB},Yea(){return this.g.iU},kpa(){return this.g.Kb().$c.Ca()},jpa(){return this.g.Kb().Ir}}}{"use strict";const e=self.C;e.D.qb=class extends e.Qq{constructor(a){super(a)}B(){super.B()}}}
{"use strict";const e=self.C;e.D.qb.Qm=class extends e.Vy{constructor(a){super(a);this.Kd=a.Kd}B(){e.F(this.Kd);super.B()}Bd(){for(const a of this.Kd)a.K1(this.g)}Hq(a){const b={wj:this.g.wd};return Promise.all(this.Kd.map(d=>d.L1(a,b)))}Fo(){for(const a of this.Kd)a.y3()}Ny(){this.cS()}cS(){for(const a of this.M.xea())a.ra.QG()}et(a){e.D.qb.uZ(this,a)}}}
{"use strict";const e=self.C,a=self.jh,b=e.A(e.Rect),d=e.A(e.Cd),c=e.A(e.lu);e.D.qb.Instance=class extends e.dF{constructor(m,h){super(m);let k=!0,n="",p=0,q=!0;h&&(k=!!h[0],n=h[1],p=h[2],q=h[3]);this.Rb=this.M.qM(n)||this.M.Kd[0];this.tb=e.oa(p,0,this.Rb.Od.length-1);this.Se=this.Rb.ym(this.tb);h=this.Se.Of();this.Cr=h.ke();this.HH=h.Oj();this.nv=h.ty();this.S_();m.Zt(2,!0);m.Zt(1,0<=this.Rb.$k());this.mk=Math.abs(this.Rb.$k());this.Br=this.Rb.oU;this.Xz=e.A(e.Ky);this.ik=this.bj=0;this.hH="";this.jv=
-1;this.tr="";this.sS=0;m=this.j();this.sca=m.Cj();m.yh(k);m.Wt(q);m.Xq(this.Se.Xk());m.Yq(this.Se.Yk());m.rF(this.Se.ep);m.Va();1===this.M.Kd.length&&1===this.M.Kd[0].Od.length||0===this.mk||this.Um()}B(){this.Xz=this.Cr=this.Se=this.Rb=null;super.B()}nh(){return this.Se.Of()}yo(){return!0}Kq(){this.Cr=null}WN(){this.QG()}mh(m){var h=this.Cr;null!==h&&(m.$f(h),h=this.j(),h.Vf()?this.bG(h,m):this.cG(h,m))}cG(m,h){let k=this.sca;this.g.Ll&&(k=m.YN(k));h.u3(k,this.nv)}bG(m,h){const k=m.WM();if(m.rN()){m.Ax(b,
d,!1);let n=d;this.g.Ll&&(n=m.YN(n));k.GL(m.Nj(),n,this.nv);m.lF(!1)}k.mh(h)}ht(){return this.Xz.ea()}Ey(){return this.ja.YD(2)}Rq(m){this.ja.Zt(2,m)}Hy(){return this.ja.YD(1)}cu(m){this.ja.Zt(1,m)}DE(){return this.ja.YD(4)}LO(m){this.ja.Zt(4,m)}qf(){this.tr&&this.WP();0<=this.jv&&this.ZF();const m=this.mk;if(this.Ey()&&0!==m){this.Xz.Ec(this.g.RD(this.ja));var h=this.ht(),k=this.Se,n=k.FS/m;if(!(h<this.bj+n)){var p=this.Rb,q=this.Br,u=p.Od.length,w=p.th(),r=p.eB,v=p.Yca;this.Hy()?this.tb++:this.tb--;
this.bj+=n;this.tb>=u&&(v?(this.cu(!1),this.tb=u-2):r?this.tb=q:(this.ik++,this.ik>=w?this.eG(!1):this.tb=q));0>this.tb&&(v?(this.tb=1,this.cu(!0),r||(this.ik++,this.ik>=w&&this.eG(!0))):r?this.tb=q:(this.ik++,this.ik>=w?this.eG(!0):this.tb=q));this.tb=e.oa(this.tb,0,u-1);n=p.ym(this.tb);h>this.bj+n.FS/m&&(this.bj=h);this.Dz(k,n)}}else this.Nu()}eG(m){this.tb=m?0:this.Rb.Od.length-1;this.Rq(!1);this.hH=this.Rb.Ca();this.LO(!0);this.zD("animationend",!1,{animationName:this.hH});this.Ka(e.D.qb.L.p2);
this.Ka(e.D.qb.L.o2);this.LO(!1);this.ik=0}Dz(m,h){if(m!==h){var k=this.j(),n=m.Of();m=h.Of();var p=n.Y();n=n.W();var q=m.Y(),u=m.W();p!==q&&k.nf(k.Y()*(q/p));n!==u&&k.Zf(k.W()*(u/n));k.Xq(h.Xk());k.Yq(h.Yk());k.rF(h.ep);k.Va();this.Se=h;this.Cr=m.ke();this.HH=m.Oj();this.nv=m.ty();h=this.Ea().Vc;for(let w=0,r=h.length;w<r;++w);this.zD("framechange",!1,{animationName:this.Rb.Ca(),eV:this.tb});this.Ka(e.D.qb.L.v2);this.g.fa()}}Dba(m){this.Rq(!0);this.bj=this.ht();1===m&&0!==this.tb&&(this.jv=0,this.DE()||
this.ZF());this.Um()}Naa(m,h){this.tr=m;this.sS=h;this.Um();this.DE()||this.WP()}qQ(){return this.tr?this.tr:this.Rb.Ca()}GR(m){isFinite(m)&&(this.jv=m,this.DE()||this.ZF())}Paa(m){this.mk=Math.abs(m);this.cu(0<=m);0<this.mk&&this.Um()}mQ(){return this.Hy()?this.mk:-this.mk}Oaa(m){this.Br=m=e.oa(Math.floor(m),0,this.Rb.Od.length-1)}WP(){const m=this.Se;var h=this.M.qM(this.tr);this.tr="";!h||h===this.Rb&&this.Ey()||(this.Rb=h,this.cu(0<=h.$k()),this.mk=Math.abs(h.$k()),this.Br=h.oU,this.tb=e.oa(this.tb,
0,this.Rb.Od.length-1),1===this.sS&&(this.tb=0),this.Rq(!0),this.bj=this.ht(),h=this.Rb.ym(this.tb),this.Dz(m,h))}ZF(){const m=this.Se;var h=this.tb;this.tb=e.oa(Math.floor(this.jv),0,this.Rb.Od.length-1);this.jv=-1;h!==this.tb&&(h=this.Rb.ym(this.tb),this.Dz(m,h),this.bj=this.ht())}QG(){const m=this.Se.Of();this.Cr=m.ke();this.HH=m.Oj();this.nv=m.ty();this.j().lF(!0)}ke(){return this.Cr}Oj(){return this.HH}ty(){return this.nv}$D(){return this.Se.$D()}zm(m){const h=this.Se,k=this.j();if("string"===
typeof m)m=h.i_(m);else if("number"===typeof m)m=h.h_(m-1);else throw new TypeError("expected string or number");if(!m)return[k.S(),k.T()];c.ua(m.xJ);if(k.Vf()){const [n,p]=k.Nj().kP(c.R,c.O);c.set(n,p)}c.offset(-h.Xk(),-h.Yk());c.scale(k.Y(),k.W());c.rotate(k.Fa());c.offset(k.S(),k.T());return[c.R,c.O]}MZ(){return this.j().al().NV()}sM(m){m=Math.floor(m);const h=this.j();var k=h.al();const n=k.NV();m===n&&(m=0);if(0>m||m>=n)return[0,0];k=k.Rd;return[k[2*m]+h.S(),k[2*m+1]+h.T()]}Dd(){const m={a:this.Rb.kb};
0!==this.bj&&(m.fs=this.bj);var h=this.ht();0!==h&&(m.at=h);0!==this.tb&&(m.f=this.tb);0!==this.mk&&(m.cas=this.mk);1!==this.ik&&(m.ar=this.ik);0!==this.Br&&(m.rt=this.Br);this.Ey()||(m.ap=this.Ey());this.Hy()||(m.af=this.Hy());h=this.j();h.Ai()&&(m.ce=h.Ai());return m}ud(m){var h=this.I().EZ(m.a);h&&(this.Rb=h);this.bj=m.hasOwnProperty("fs")?m.fs:0;this.Xz.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.tb=e.oa(h,0,this.Rb.Od.length-1);this.mk=m.hasOwnProperty("cas")?m.cas:
0;this.ik=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.Br=e.oa(h,0,this.Rb.Od.length-1);this.Rq(m.hasOwnProperty("ap")?!!m.ap:!0);this.cu(m.hasOwnProperty("af")?!!m.af:!0);this.Se=h=this.Rb.ym(this.tb);this.QG();const k=this.j();k.Xq(h.Xk());k.Yq(h.Yk());k.rF(h.ep);k.Wt(!!m.ce)}Fc(m){const h=this.j();switch(m){case 3:return h.Ai();case 2:return e.oa(this.tb,0,this.Rb.Od.length-1)}}wh(m,h){var k=this.j();switch(m){case 3:k.Wt(!!h);break;case 2:this.Rq(!1);m=this.Rb.Od.length-
1;k=h=e.oa(h,0,m);h=this.Rb.ym(this.tb);const n=this.Rb.ym(k);this.Dz(h,n);this.tb=e.oa(k,0,m)}}Bm(){return self.p0}};const g=new WeakMap;self.p0=class extends self.By{constructor(){super();g.set(this,self.Et.su().ra)}get animationName(){return g.get(this).qQ()}set eV(m){a.Wj(m);g.get(this).GR(m)}get eV(){return g.get(this).tb}get imageWidth(){return g.get(this).nh().Y()}get imageHeight(){return g.get(this).nh().W()}}}
{"use strict";const e=self.C;e.D.qb.L={sia(a){return e.Sn(this.qQ(),a)},Rga(a,b){return e.compare(this.tb,a,b)},Nga(a,b){return e.compare(this.mQ(),a,b)},o2(a){return e.Sn(this.hH,a)},p2(){return!0},v2(){return!0},Nia(){return 0>this.j().Y()},Fia(){return 0>this.j().W()},VN(){return!0},U2(){return!0},Ai(){return this.j().Ai()}}}
{"use strict";const e=self.C;e.D.qb.Db={nna(a,b,d,c){if(a&&b){var [g,m]=this.zm(d);if(d=this.g.vD(a,b,g,m,c)){c&&b.xF(d);a.zb().Gq()&&(b=d.j(),b.Ed(this.j().Fa()),b.Va());b=this.g.qa();b.Ce(!0);d.Rz();b.Ce(!1);c=this.g.kt().Mj();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Nr)b=!0,c.set("Spawn_LastExec",this.g.Nr);if(a!==this.I()&&(a=a.U(),a.ne(!1),a=a.H,b&&e.F(a),a.push(d),d.ac()))for(const h of d.Gd)d=h.I().U(),b?d.$j(h):(d.ne(!1),d.Vo(h))}}},xna(){this.Rq(!1)},tna(a){this.Dba(a)},
ima(a,b){this.Naa(a,b)},jma(a){this.GR(a)},lma(a){this.Paa(a)},kma(a){this.Oaa(a)},bna(a){const b=this.j(),d=b.Y();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.nf(a),b.Va())},zma(a){const b=this.j(),d=b.W();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.Zf(a),b.Va())},nF(a){const b=this.Se.Of(),d=this.j();var c=0>d.Y()?-1:1;const g=0>d.W()?-1:1;c*=b.Y()*a;a=b.W()*a*g;if(d.Y()!==c||d.W()!==a)d.ld(c,a),d.Va()},async pja(a,b){const d=this.Se.Of(),c=this.j(),g=this.g;if(d.Ck===a)0===b&&(c.ld(d.Y(),d.W()),c.Va()),this.Ka(e.D.qb.L.VN);
else{var m=e.A(e.Cy);try{await m.N1(g,a);if(!m.GE())throw Error("image failed to load");await m.Kt(g.ob(),{wj:this.g.wd})}catch(h){console.error("Load image from URL failed: ",h);this.Ka(e.D.qb.L.U2);return}d.L3(m);this.Oc.cS();this.mz()||0!==b||(c.ld(d.Y(),d.W()),c.Va());g.fa();this.mz()||await this.Fd(e.D.qb.L.VN)}},sma(a){this.j().Wt(a)},qF(a,b){this.j().qF(0===a,b)},r4(a){this.j().Yf(a);this.g.fa()}}}"use strict";
self.C.D.qb.Ub={gga(){return this.tb},hga(){return this.Rb.Od.length},iga(){return this.Rb.Ca()},jga(){return this.mQ()},fka(){return this.Rb.$k()},lia(e){return this.zm(e)[0]},v0(e){return this.zm(e)[1]},kia(){return this.$D()},mia(){return this.nh().Y()},jia(){return this.nh().W()},Hka(e){return this.sM(e)[0]},Ika(e){return this.sM(e)[1]},Gka(){return this.MZ()}};{"use strict";const e=self.C;e.D.Touch=class extends e.Qq{constructor(a){super(a)}B(){super.B()}}}
{"use strict";const e=self.C,a=self.jh;e.D.Touch.Qm=class extends e.Vy{constructor(d){super(d)}B(){super.B()}Bd(){}Bm(){return self.s0}};let b=null;self.s0=class extends self.cN{constructor(d){super(d);b=d;d.J().nA.sL=this}requestPermission(d){a.Jd(d);const c=b.yi().ra;if("orientation"===d)return c.zG(0);if("motion"===d)return c.zG(1);throw Error("invalid type");}}}
{"use strict";const e=self.C;e.D.Touch.Instance=class extends e.Uy{constructor(a,b){super(a,"touch");this.qd=new Map;this.fB=this.PU=!1;this.KA=this.Ih=this.Hh=this.$J=this.qC=this.ys=this.XG=this.WG=this.VG=this.$G=this.ZG=this.YG=this.tJ=this.sJ=this.rJ=this.IB=0;this.MB=[];b&&(this.PU=b[0]);this.eD("permission-result",d=>this.s$(d));a=this.J().Jb();this.Md=new e.Xs(e.gd.Vd(a,"pointerdown",d=>this.uG(d.data)),e.gd.Vd(a,"pointermove",d=>this.vG(d.data)),e.gd.Vd(a,"pointerup",d=>this.Fu(d.data,!1)),
e.gd.Vd(a,"pointercancel",d=>this.Fu(d.data,!0)),e.gd.Vd(a,"deviceorientation",d=>this.b$(d.data)),e.gd.Vd(a,"deviceorientationabsolute",d=>this.c$(d.data)),e.gd.Vd(a,"devicemotion",d=>this.a$(d.data)),e.gd.Vd(a,"tick2",()=>this.wG()))}B(){this.qd.clear();super.B()}uG(a){if("mouse"===a.pointerType)if(this.PU)this.fB=!0;else return;const b=a.pointerId;if(!this.qd.has(b)){var d=a.pageX-this.g.ho();a=a.pageY-this.g.io();var c=performance.now(),g=this.qd.size;this.ys=g;this.qC=b;var m=e.A(e.D.Touch.A5);
m.Dm(c,d,a,b,g);this.qd.set(b,m);this.Ka(e.D.Touch.L.D2);this.Ka(e.D.Touch.L.T2);this.Hh=d;this.Ih=a;this.Ka(e.D.Touch.L.S2)}}vG(a){if("mouse"!==a.pointerType||this.fB){var b=this.qd.get(a.pointerId);if(b){var d=performance.now();2>d-b.Ga()||b.ml(d,a.pageX-this.g.ho(),a.pageY-this.g.io(),a.width,a.height,a.pressure)}}}Fu(a,b){if("mouse"===a.pointerType)if(this.fB)this.fB=!1;else return;const d=performance.now();a=a.pointerId;const c=this.qd.get(a);c&&(this.ys=c.Ae,this.qC=c.Gj(),this.Ka(e.D.Touch.L.C2),
this.Ka(e.D.Touch.L.R2),b||(b=c.m5(d),"single-tap"===b?(this.Ka(e.D.Touch.L.Q2),this.Hh=c.S(),this.Ih=c.T(),this.Ka(e.D.Touch.L.TN)):"double-tap"===b&&(this.Ka(e.D.Touch.L.u2),this.Hh=c.S(),this.Ih=c.T(),this.Ka(e.D.Touch.L.MN))),c.B(),this.qd.delete(a))}zG(a){this.rl("request-permission",{type:a});return new Promise((b,d)=>{this.MB.push({type:a,resolve:b,reject:d})})}s$(a){const b=a.result,d=a.type;this.$J=d;a=this.MB.filter(c=>c.type===d);for(const c of a)c.resolve(b?"granted":"denied");this.MB=
this.MB.filter(c=>c.type!==d);b?(this.Ka(e.D.Touch.L.K2),0===d?this.g.Pq():this.g.Lm()):this.Ka(e.D.Touch.L.J2)}b$(a){"number"===typeof a.webkitCompassHeading?this.IB=a.webkitCompassHeading:a.absolute&&(this.IB=a.alpha);this.rJ=a.alpha;this.sJ=a.beta;this.tJ=a.gamma}c$(a){this.IB=a.alpha}a$(a){const b=a.acceleration;b&&(this.YG=b.x,this.ZG=b.y,this.$G=b.z);if(a=a.accelerationIncludingGravity)this.VG=a.x,this.WG=a.y,this.XG=a.z}wG(){const a=performance.now();let b=0;for(const d of this.qd.values())d.Ga()<=
a-50&&d.mba(a),d.l5(a)&&(this.ys=d.Ae,this.qC=d.Gj(),this.KA=b,this.Ka(e.D.Touch.L.x2),this.Hh=d.S(),this.Ih=d.T(),this.Ka(e.D.Touch.L.y2),this.KA=0),++b}Ni(a){a=Math.floor(a);for(const b of this.qd.values()){if(0===a)return b;--a}return null}vu(a,b){return 0<=a&&0<=b&&a<this.g.LZ()&&b<this.g.KZ()}}}
{"use strict";const e=self.C,a=[];e.D.Touch.L={T2(){return!0},R2(){return!0},Iia(){return 0<this.qd.size},S2(b){return b&&this.vu(this.Hh,this.Ih)?this.g.Ui.gz(b,this.Hh,this.Ih):!1},A1(b){if(!b)return!1;const d=b.U();var c=d.la();for(const g of c){c=g.j();const m=c.ba();for(const h of this.qd.values()){if(!this.vu(h.S(),h.T()))continue;const [k,n]=m.Lf(h.S(),h.T(),c.le());if(c.nq(k,n)){a.push(g);break}}}return a.length?(d.Vt(a),b.ic(),e.F(a),!0):!1},Xga(b,d,c){return(b=this.Ni(b))?e.compare(b.$k(),
d,c):!1},eka(){return!0},zja(){return!0},Uga(b,d,c){this.g.Pq();return e.compare(0===b?this.rJ:1===b?this.sJ:this.tJ,d,c)},Mga(b,d,c){this.g.Lm();return e.compare(0===b?this.VG:1===b?this.WG:2===b?this.XG:3===b?this.YG:4===b?this.ZG:this.$G,d,c)},D2(b){b=Math.floor(b);return b===this.ys},C2(b){b=Math.floor(b);return b===this.ys},Xha(b){b=Math.floor(b);return this.qd.size>=b+1},x2(){return!0},Q2(){return!0},u2(){return!0},y2(b){return b&&this.vu(this.Hh,this.Ih)?this.g.Ui.gz(b,this.Hh,this.Ih):!1},
TN(b){return b&&this.vu(this.Hh,this.Ih)?this.g.Ui.gz(b,this.Hh,this.Ih):!1},MN(b){return b&&this.vu(this.Hh,this.Ih)?this.g.Ui.gz(b,this.Hh,this.Ih):!1},K2(b){return this.$J===b},J2(b){return this.$J===b}}}"use strict";self.C.D.Touch.Db={ela(e){this.zG(e)}};
{"use strict";const e=self.C;e.D.Touch.Ub={Sna(){return this.qd.size},oz(a){const b=this.Ni(this.KA);return b?b.vq(this.g.Oa(),a,!0):0},KF(a){const b=this.Ni(this.KA);return b?b.vq(this.g.Oa(),a,!1):0},Coa(a,b){return(a=this.Ni(a))?a.vq(this.g.Oa(),b,!0):0},Eoa(a,b){return(a=this.Ni(a))?a.vq(this.g.Oa(),b,!1):0},Doa(a,b){return(a=this.qd.get(a))?a.vq(this.g.Oa(),b,!0):0},Foa(a,b){return(a=this.qd.get(a))?a.vq(this.g.Oa(),b,!1):0},Kfa(){const a=this.Ni(0);return a?a.S():0},Nfa(){const a=this.Ni(0);
return a?a.T():0},Lfa(a){return(a=this.Ni(a))?a.S():0},Ofa(a){return(a=this.Ni(a))?a.T():0},Mfa(a){return(a=this.qd.get(a))?a.S():0},Pfa(a){return(a=this.qd.get(a))?a.T():0},ona(a){return(a=this.Ni(a))?a.$k():0},pna(a){return(a=this.qd.get(a))?a.$k():0},ega(a){return(a=this.Ni(a))?e.ki(a.Fa()):0},fga(a){return(a=this.qd.get(a))?e.ki(a.Fa()):0},cha(){this.g.Pq();return this.IB},cga(){this.g.Pq();return this.rJ},uga(){this.g.Pq();return this.sJ},zZ(){this.g.Pq();return this.tJ},Rfa(){this.g.Lm();return this.VG},
Tfa(){this.g.Lm();return this.WG},Vfa(){this.g.Lm();return this.XG},Qfa(){this.g.Lm();return this.YG},Sfa(){this.g.Lm();return this.ZG},Ufa(){this.g.Lm();return this.$G},Una(){return this.ys},Tna(){return this.qC},woa(a){return(a=this.qd.get(a))?a.Y():0},Zha(a){return(a=this.qd.get(a))?a.W():0},Lka(a){return(a=this.qd.get(a))?a.hU:0}}}
{"use strict";const e=self.C;let a=-1E3,b=-1E3,d=-1E4;e.D.Touch.A5=class extends e.ka{constructor(){super();this.hU=this.V=this.$=this.wB=this.vB=this.O=this.R=this.kC=this.jC=this.uB=this.hc=this.zn=this.Ae=this.gU=0;this.lB=this.kI=!1}B(){}Dm(c,g,m,h,k){this.gU=h;this.Ae=k;this.zn=this.uB=this.hc=c;this.jC=g;this.kC=m;this.R=g;this.O=m;this.vB=g;this.wB=m}ml(c,g,m,h,k,n){this.uB=this.hc;this.hc=c;this.vB=this.R;this.wB=this.O;this.R=g;this.O=m;this.$=h;this.V=k;this.hU=n;!this.lB&&15<=e.gi(this.jC,
this.kC,this.R,this.O)&&(this.lB=!0)}Gj(){return this.gU}Ga(){return this.hc}mba(c){this.uB=c}S(){return this.R}T(){return this.O}$k(){const c=e.gi(this.R,this.O,this.vB,this.wB),g=(this.hc-this.uB)/1E3;return 0<g?c/g:0}Fa(){return e.Gs(this.vB,this.wB,this.R,this.O)}Y(){return this.$}W(){return this.V}l5(c){return this.kI?!1:500<=c-this.zn&&!this.lB&&15>e.gi(this.jC,this.kC,this.R,this.O)?this.kI=!0:!1}m5(c){if(this.kI)return"";if(333>=c-this.zn&&!this.lB&&15>e.gi(this.jC,this.kC,this.R,this.O)){if(666>=
c-d&&25>e.gi(a,b,this.R,this.O))return b=a=-1E3,d=-1E4,"double-tap";a=this.R;b=this.O;d=c;return"single-tap"}return""}vq(c,g,m){return"undefined"===typeof g?c.fy(0).nX(this.R,this.O)[m?0:1]:(c=c.ba(g))?c.Lf(this.R,this.O)[m?0:1]:0}}}{"use strict";const e=self.C;e.D.Text=class extends e.Qq{constructor(a){super(a)}B(){super.B()}}}{"use strict";const e=self.C;e.D.Text.Qm=class extends e.Vy{constructor(a){super(a)}B(){super.B()}Bd(){}Hq(){}Fo(){}}}
{"use strict";const e=self.C,a=self.jh,b=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],g=new e.Rect,m=new e.Cd;new e.hb;e.D.Text.Instance=class extends e.dF{constructor(n,p){super(n);this.od="";this.El=!0;this.aj="Arial";this.yk=12;this.Sh=0;this.vf=this.uf=!1;this.ib=e.A(e.hb);this.bf=this.sf=0;this.Ik=!0;this.Bk=this.zs=-1;this.Kw=0;this.cd=e.A(e.K.WE,this.g.ob(),{timeout:5});this.cd.RC=()=>this.g.fa();this.cd.OO();p&&(this.od=p[0],this.El=!!p[1],this.aj=p[2],this.yk=p[3],this.Sh=
p[4],this.uf=!!p[5],this.vf=!!p[6],this.sf=p[8],this.bf=p[9],this.Ik=0===p[10],n=p[7],this.ib.Rs(n[0],n[1],n[2]),this.j().yh(p[11]));this.oe()}B(){this.Rm();this.cd.B();this.cd=null;super.B()}oe(){const n=this.cd;n.gu(this.od);n.i4(this.El);n.jF(this.aj);n.SO(this.Sh);n.AO(this.uf);n.QO(this.vf);n.Mm(this.ib);n.KO(d[this.sf]);n.eP(c[this.bf]);n.h5(this.Ik?"word":"character")}TG(){const n=this.j();this.cd.az(this.yk);this.cd.y4(n.H_());var p=n.ba();p=p.Am()*p.oM(n.le());this.cd.ld(n.Y(),n.W(),p)}mh(n){var p=
this.j();this.TG();const q=this.cd.ke();if(q){var u=p.ba();if(0===p.Fa()&&0===u.Fa()&&0===p.le()&&!p.Vf()&&u.fO()){p=p.Cj();const [w,r]=u.Tj(p.Ab,p.Bb),[v,y]=u.Tj(p.oc,p.pc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);m.xj(g);const [G,z]=n.qy(n.Zk());this.g.P.p4(n,G,z);n.$f(q);n.Mq(m,this.cd.Oj());u.Mz(n)}else n.$f(q),p.Vf()?this.bG(p,n):this.cG(p,n)}}cG(n,p){n=n.Cj();this.g.Ll&&(n=this.mR(n));p.Mq(n,this.cd.Oj())}bG(n,p){const q=n.WM();if(n.rN()){n.Ax(g,m,!1);let u=m;
this.g.Ll&&(u=this.mR(u));q.GL(n.Nj(),u,this.cd.Oj());n.lF(!1)}q.mh(p)}mR(n){const p=n.Ab-Math.round(n.Ab),q=n.Bb-Math.round(n.Bb);if(0===p&&0===q)return n;m.ua(n);m.offset(-p,-q);return m}Dd(){const n={t:this.od,c:this.ib.toJSON(),fn:this.aj,ps:this.yk};this.El&&(n.bbc=this.El);0!==this.sf&&(n.ha=this.sf);0!==this.bf&&(n.va=this.bf);this.Ik||(n.wr=this.Ik);0!==this.Sh&&(n.lho=this.Sh);this.uf&&(n.b=this.uf);this.vf&&(n.i=this.vf);-1!==this.Bk&&(n.tw={st:this.zs,en:this.Bk,l:this.Kw});return n}ud(n){this.Rm();
this.od=n.t;this.ib.pm(n.c);this.aj=n.fn;this.yk=n.ps;this.El=n.hasOwnProperty("bbc")?n.bbc:!1;this.sf=n.hasOwnProperty("ha")?n.ha:0;this.bf=n.hasOwnProperty("va")?n.va:0;this.Ik=n.hasOwnProperty("wr")?n.wr:!0;this.Sh=n.hasOwnProperty("lho")?n.lho:0;this.uf=n.hasOwnProperty("b")?n.b:!1;this.vf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.zs=n.st,this.Bk=n.en,this.Kw=n.l);this.oe();-1!==this.Bk&&this.Um()}Fc(n){switch(n){case 0:return this.od;case 1:return this.El;case 2:return this.aj;
case 3:return this.yk;case 4:return this.Sh;case 5:return this.uf;case 6:return this.vf;case 7:return b[0]=this.ib.Za,b[1]=this.ib.bb,b[2]=this.ib.ab,b;case 8:return this.sf;case 9:return this.bf;case 10:return this.Ik?1:0}}wh(n,p){switch(n){case 0:if(this.od===p)break;this.od=p;this.oe();break;case 1:if(this.El===!!p)break;this.El=!!p;this.oe();break;case 2:if(this.aj===p)break;this.aj=p;this.oe();break;case 3:if(this.yk===p)break;this.yk=p;this.oe();break;case 4:if(this.Sh===p)break;this.Sh=p;this.oe();
break;case 5:if(this.uf===!!p)break;this.uf=!!p;this.oe();break;case 6:if(this.vf===!!p)break;this.vf=!!p;this.oe();break;case 7:n=this.ib;if(n.Za===p[0]&&n.bb===p[1]&&n.ab===p[2])break;this.ib.Rs(p[0],p[1],p[2]);this.oe();break;case 8:if(this.sf===p)break;this.sf=p;this.oe();break;case 9:if(this.bf===p)break;this.bf=p;this.oe();break;case 10:this.Ik!==(0===p)&&(this.Ik=0===p,this.oe())}}Lz(n){this.od!==n&&(this.od=n,this.cd.gu(n),this.g.fa())}Eba(n,p){this.Lz(n);this.zs=this.g.iE();this.Bk=this.zs+
p/this.Ea().CZ();this.Kw=e.um.hP(n).length;this.cd.iF(0);this.Um()}Rm(){this.Bk=this.zs=-1;this.Kw=0;this.cd.iF(-1);this.Nu()}X7(){-1!==this.Bk&&(this.Rm(),this.Ka(e.D.Text.L.UN),this.g.fa())}bba(n){this.aj!==n&&(this.aj=n,this.cd.jF(n),this.g.fa())}Raa(n){n=!!n;this.uf!==n&&(this.uf=n,this.cd.AO(n),this.g.fa())}kba(n){n=!!n;this.vf!==n&&(this.vf=n,this.cd.QO(n),this.g.fa())}cba(n){this.yk!==n&&(this.yk=n,this.g.fa())}aba(n){this.ib.mm(n)||(this.ib.sj(n),this.cd.Mm(this.ib),this.g.fa())}MR(n){this.Sh!==
n&&(this.Sh=n,this.oe(),this.g.fa())}fba(n){this.sf!==n&&(this.sf=n,this.oe(),this.g.fa())}RR(n){this.bf!==n&&(this.bf=n,this.oe(),this.g.fa())}xba(n){n=!!n;this.Ik!==n&&(this.Ik=n,this.oe(),this.g.fa())}G8(){this.TG();return this.cd.L_()}F8(){this.TG();return this.cd.K_()}qf(){var n=this.g.iE();n>=this.Bk?(this.Rm(),this.Ka(e.D.Text.L.UN),this.g.fa()):(n=e.bfa(this.zs,this.Bk,n,this.Kw),n=Math.floor(n),n!==this.cd.jp&&(this.cd.iF(n),this.g.fa()))}Bm(){return self.r0}};const h=new WeakMap,k=new Map([["top",
0],["center",1],["bottom",2]]);self.r0=class extends self.By{constructor(){super();h.set(this,self.Et.su().ra)}get text(){return h.get(this).od}set text(n){a.Jd(n);const p=h.get(this);p.Rm();p.Lz(n)}set lineHeight(n){a.Wj(n);h.get(this).MR(n)}get lineHeight(){return h.get(this).Sh}set verticalAlign(n){a.Jd(n);n=k.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).RR(n)}get verticalAlign(){return c[h.get(this).bf]}}}
{"use strict";const e=self.C;e.D.Text.L={Vga(a,b){return b?this.od===a:e.Sn(this.od,a)},Xia(){return-1!==this.Bk},UN(){return!0}}}
{"use strict";const e=self.C,a=e.A(e.hb);e.D.Text.Db={gu(b){this.Rm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Lz(b.toString())},kga(b){this.Rm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Lz(this.od+b)},Xna(b,d){this.Rm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Eba(b.toString(),d)},Cma(b,d){let c=!1,g=!1;switch(d){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.aj||c!==this.uf||g!==this.vf)this.bba(b),this.Raa(c),
this.kba(g)},az(b){this.cba(b)},Bma(b){a.Qs(b);a.oa();this.aba(a)},ina(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},r4(b){this.j().Yf(b);this.g.fa()},Wna(){this.X7()},SO(b){this.MR(b)},Ema(b){this.fba(b)},hna(b){this.RR(b)},jna(b){this.xba(0===b)}}}{"use strict";const e=self.C;e.D.Text.Ub={Text(){return this.od},Dka(){return this.El?e.um.hP(this.od):this.od},Aha(){return this.aj},pZ(){return this.yk},w5(){return this.G8()},Lna(){return this.F8()},ija(){return this.Sh}}}
{"use strict";const e=self.C;e.D.Qc=class extends e.Qq{constructor(a){super(a)}B(){super.B()}}}{"use strict";const e=self.C;e.D.Qc.Qm=class extends e.Vy{constructor(a){super(a)}B(){super.B()}Bd(){}}}
{"use strict";const e=self.C;e.D.Qc.Instance=class extends e.Uy{constructor(a){super(a,"browser");this.qk="";this.Lv=!1;this.DS=this.lU="";this.qT=!1;this.rK=this.qU=this.rU=0;this.Nv=!1;this.zW([["online-state",b=>this.r$(b)],["backbutton",()=>this.Y9()],["sw-message",b=>this.v$(b)],["hashchange",b=>this.i$(b)]]);a=this.J().Jb();this.Md=new e.Xs(e.gd.Vd(a,"afterfirstlayoutstart",()=>this.X9()),e.gd.Vd(a,"window-resize",()=>this.yG()),e.gd.Vd(a,"suspend",()=>this.w$()),e.gd.Vd(a,"resume",()=>this.u$()));
this.g.HW(this.RE("get-initial-state",{exportType:this.g.$i}).then(b=>{this.qk=b.location;this.Lv=b.isOnline;this.lU=b.referrer;this.DS=b.title;this.qT=b.isCookieEnabled;this.rU=b.screenWidth;this.qU=b.screenHeight;this.rK=b.windowOuterWidth;this.Nv=b.isScirraArcade}))}B(){super.B()}X9(){this.Ei("ready-for-sw-messages")}async r$(a){a=!!a.isOnline;this.Lv!==a&&((this.Lv=a)?await this.Fd(e.D.Qc.L.G2):await this.Fd(e.D.Qc.L.E2))}async yG(){await this.Fd(e.D.Qc.L.L2)}w$(){this.Ka(e.D.Qc.L.H2)}u$(){this.Ka(e.D.Qc.L.I2)}async Y9(){await this.Fd(e.D.Qc.L.q2)}v$(a){a=
a.type;"downloading-update"===a?this.Ka(e.D.Qc.L.V2):"update-ready"===a||"update-pending"===a?this.Ka(e.D.Qc.L.W2):"offline-ready"===a&&this.Ka(e.D.Qc.L.F2)}i$(a){this.qk=a.location;this.Ka(e.D.Qc.L.w2)}}}"use strict";
self.C.D.Qc.L={Tia(){return this.Lv},G2(){return!0},E2(){return!0},L2(){return!0},gha(){return this.qT},Hia(){return this.g.P.Ap},q2(){return!0},Wia(e){return(this.g.P.Gk<=this.g.P.Fk?0:1)===e},V2(){return!0},W2(){return!0},F2(){return!0},w2(){return!0},gka(){return!this.g.Jm()},H2(){return!0},I2(){return!0},Wha(){return!1},Dia(){return!1},Uja(){return!1},Vja(){return!1},Mia(){return!1},wia(){return!0},Kna(){return!0}};
{"use strict";const e=self.C,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.D.Qc.Db={bga(b){this.Ei("alert",{message:b.toString()})},Jga(){this.Nv||(this.g.wb?self.vg.Kga():this.Ei("close"))},Fha(){this.Ei("set-focus",{isFocus:!0})},xga(){this.Ei("set-focus",{isFocus:!1})},Pha(){this.Nv||this.Ei("navigate",{type:"back"})},Qha(){this.Nv||this.Ei("navigate",{type:"forward"})},Rha(){},Yka(){this.Nv||(this.g.wb?this.g.k3():this.Ei("navigate",
{type:"reload"}))},Uha(b,d){this.rl("navigate",{type:"url",url:b,target:d,exportType:this.g.$i})},Vha(b,d){this.rl("navigate",{type:"new-window",url:b,tag:d,exportType:this.g.$i})},cla(b,d){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=e.rD.kQ(b);this.g.P.q4(b);this.rl("request-fullscreen",{navUI:d})},Ega(){this.rl("exit-fullscreen")},ioa(b){b=b.split(",");for(let d=0,c=b.length;d<c;++d)b[d]=parseInt(b[d],10);this.rl("vibrate",{pattern:b})},async uE(b,d){b&&d&&(b=await this.g.md.dE(b),this.g.uE(b,d))},
ria(b,d,c){c&&(b=`data:${d},${encodeURIComponent(b)}`,this.g.uE(b,c))},fha(b,d){d=d.toString();0===b?console.log(d):1===b?console.warn(d):2===b&&console.error(d)},dha(b){console.group(b)},eha(){console.groupEnd()},zha(b){try{eval(b)}catch(d){console.error("Error executing JavaScript: ",d)}},rja(b){b=Math.floor(b);0>b||b>=a.length||this.rl("lock-orientation",{orientation:a[b]})},boa(){this.rl("unlock-orientation")},BN(b){this.g.md.BN(b)},Gma(b){this.Ei("set-hash",{hash:b})}}}"use strict";
self.C.D.Qc.Ub={URL(){return this.g.se?this.qk:location.toString()},Qka(){return this.g.se?(new URL(this.qk)).protocol:location.protocol},DY(){return this.g.se?(new URL(this.qk)).hostname:location.hostname},Kka(){return this.g.se?(new URL(this.qk)).port:location.port},ika(){return this.g.se?(new URL(this.qk)).pathname:location.pathname},Yha(){return this.g.se?(new URL(this.qk)).hash:location.hash},TE(){return this.g.se?(new URL(this.qk)).search:location.search},Ska(e){const a=this.g.se?(new URL(this.qk)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(a))?decodeURIComponent(e[1].replace(/\+/g," ")):""},Wka(){return this.lU},Mna(){return this.DS},cja(){return navigator.language},Sc(){return navigator.platform},foa(){return navigator.userAgent},yha(e){let a=0;try{a=eval(e)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},Fja(){return navigator.appName},hoa(){return navigator.appVersion},Nka(){return navigator.product},
goa(){return navigator.vendor},sga(){return 1},tga(){return Infinity},rga(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},mha(){return self.devicePixelRatio},dma(){return this.rU},cma(){return this.qU},zoa(){return this.g.P.Gk},yoa(){return this.g.P.Fk},Boa(){return this.rK},Aoa(){return this.rK}};{"use strict";const e=self.C;e.Tb.gl=class extends e.tO{constructor(a){super(a)}B(){super.B()}}}
{"use strict";const e=self.C;e.Tb.gl.Qm=class extends e.vO{constructor(a){super(a)}B(){super.B()}Bd(){}}}
{"use strict";const e=self.C;e.Tb.gl.Instance=class extends e.uO{constructor(a,b){super(a);this.wk=null;this.NB=-1;this.Vg="";this.Op=new Set;this.ln=this.uA=this.bn=this.Dr=this.Er=this.lp=this.kp=this.jw=this.Mp=this.ue=0;this.Gr=!1;b&&(this.Gr=b[0]);a=this.g.Jb();this.Md=new e.Xs(e.gd.Vd(a,"instancedestroy",d=>this.l$(d.instance)),e.gd.Vd(a,"afterload",()=>this.Du()))}B(){this.wk=null;super.B()}Ku(a){a?(this.wk=a,this.XR()):(this.wk=null,this.Pz())}Tm(a,b,d){if(a&&(a=a.XD(this.ja)))if(this.Vg=
b,this.Ku(a),b=this.ja.j(),a=a.j(),"properties"===this.Vg){const c=this.Op;c.clear();for(const g of d)c.add(g);this.kp=b.S()-a.S();this.lp=b.T()-a.T();this.bn=b.Fa()-a.Fa();this.ln=b.Fa();this.uA=b.Xa()-a.Xa();c.has("x")&&c.has("y")&&(this.Mp=e.Gs(a.S(),a.T(),b.S(),b.T())-a.Fa(),this.ue=e.gi(a.S(),a.T(),b.S(),b.T()));c.has("width-abs")?this.Er=b.Y()-a.Y():c.has("width-scale")&&(this.Er=b.Y()/a.Y());c.has("height-abs")?this.Dr=b.W()-a.W():c.has("height-scale")&&(this.Dr=b.W()/a.W())}else this.ue=e.gi(a.S(),
a.T(),b.S(),b.T())}Dd(){const a=this.Op,b=this.Vg,d={uid:this.wk?this.wk.Cc:-1,m:b,d:this.Gr};if("rope"===b||"bar"===b)d.pd=this.ue;else if("properties"===b){d.ps=[...this.Op];a.has("imagepoint")?d.ip=this.jw:a.has("x")&&a.has("y")?(d.pa=this.Mp,d.pd=this.ue):(a.has("x")&&(d.dx=this.kp),a.has("y")&&(d.dy=this.lp));a.has("angle")&&(d.da=this.bn,d.lka=this.ln);if(a.has("width-abs")||a.has("width-scale"))d.dw=this.Er;if(a.has("height-abs")||a.has("height-scale"))d.dh=this.Dr;a.has("z")&&(d.dz=this.uA)}return d}ud(a){const b=
a.m,d=this.Op;d.clear();this.NB=a.uid;if("number"===typeof b)this.q9(a);else if(this.Vg=b,a.hasOwnProperty("d")&&(this.Gr=!!a.d),"rope"===b||"bar"===b)this.ue=a.pd;else if("properties"===b){for(const c of a.ps)d.add(c);d.has("imagepoint")?this.jw=a.ip:d.has("x")&&d.has("y")?(this.Mp=a.pa,this.ue=a.pd):(d.has("x")&&(this.kp=a.dx),d.has("y")&&(this.lp=a.dy));d.has("angle")&&(this.bn=a.da,this.ln=a.lka||0);if(d.has("width-abs")||d.has("width-scale"))this.Er=a.dw;if(d.has("height-abs")||d.has("height-scale"))this.Dr=
a.dh;d.has("z")&&(this.uA=a.dz)}}q9(a){const b=this.Op,d=a.msa,c=a.tsa,g=a.pa,m=a.pd;switch(a.m){case 0:this.Vg="properties";b.add("x").add("y").add("angle");this.Mp=g;this.ue=m;this.bn=d-c;this.ln=a.lka;break;case 1:this.Vg="properties";b.add("x").add("y");this.Mp=g;this.ue=m;break;case 2:this.Vg="properties";b.add("angle");this.bn=d-c;this.ln=a.lka;break;case 3:this.Vg="rope";this.ue=a.pd;break;case 4:this.Vg="bar",this.ue=a.pd}}Du(){-1===this.NB?this.Ku(null):(this.Ku(this.g.ti(this.NB)),this.NB=
-1)}l$(a){this.wk===a&&(this.Ku(null),this.Gr&&this.g.vm(this.ja))}ju(){var a=this.wk;if(a){var b=a.j(),d=this.ja.j(),c=this.Vg,g=!1;if("rope"===c||"bar"===c){if(a=e.gi(d.S(),d.T(),b.S(),b.T()),a>this.ue||"bar"===c&&a<this.ue)g=e.Gs(b.S(),b.T(),d.S(),d.T()),d.zh(b.S()+Math.cos(g)*this.ue,b.T()+Math.sin(g)*this.ue),g=!0}else{c=this.Op;if(c.has("imagepoint")){const [m,h]=a.zm(this.jw);d.ED(m,h)||(d.zh(m,h),g=!0)}else if(c.has("x")&&c.has("y")){a=b.S()+Math.cos(b.Fa()+this.Mp)*this.ue;const m=b.T()+
Math.sin(b.Fa()+this.Mp)*this.ue;d.ED(a,m)||(d.zh(a,m),g=!0)}else a=b.S()+this.kp,c.has("x")&&a!==d.S()&&(d.ag(a),g=!0),a=b.T()+this.lp,c.has("y")&&a!==d.T()&&(d.bg(a),g=!0);c.has("angle")&&(this.ln!==d.Fa()&&(this.bn=e.Td(this.bn+(d.Fa()-this.ln))),a=e.Td(b.Fa()+this.bn),a!==d.Fa()&&(d.Ed(a),g=!0),this.ln=d.Fa());c.has("width-abs")&&(a=b.Y()+this.Er,a!==d.Y()&&(d.nf(a),g=!0));c.has("width-scale")&&(a=b.Y()*this.Er,a!==d.Y()&&(d.nf(a),g=!0));c.has("height-abs")&&(a=b.W()+this.Dr,a!==d.W()&&(d.Zf(a),
g=!0));c.has("height-scale")&&(a=b.W()*this.Dr,a!==d.W()&&(d.Zf(a),g=!0));c.has("z")&&(a=b.Xa()+this.uA,a!==d.Xa()&&(d.Ne(a),this.g.fa()))}g&&d.Va()}}}}"use strict";self.C.Tb.gl.L={Via(){return!!this.wk},xoa(){return this.Gr}};"use strict";
self.C.Tb.gl.Db={Aka(e,a){this.Tm(e,0===a?"rope":"bar")},e3(e,a,b,d,c,g,m){const h=[];a&&h.push("x");b&&h.push("y");d&&h.push("angle");m&&h.push("z");1===c?h.push("width-abs"):2===c&&h.push("width-scale");1===g?h.push("height-abs"):2===g&&h.push("height-scale");0!==h.length&&this.Tm(e,"properties",h)},Bka(e,a,b,d,c,g){const m=["imagepoint"];b&&m.push("angle");g&&m.push("z");1===d?m.push("width-abs"):2===d&&m.push("width-scale");1===c?m.push("height-abs"):2===c&&m.push("height-scale");this.jw=a;this.Tm(e,
"properties",m)},dna(e){if("rope"===this.Vg||"bar"===this.Vg)this.ue=Math.max(e,0)},uma(e){this.Gr=e},coa(){this.Ku(null);this.Vg="";this.Op.clear();this.jw=""},gl(e,a){switch(a){case 0:this.Tm(e,"properties",["x","y","angle"]);break;case 1:this.Tm(e,"properties",["x","y"]);break;case 2:this.Tm(e,"properties",["angle"]);break;case 3:this.Tm(e,"rope");break;case 4:this.Tm(e,"bar")}}};"use strict";self.C.Tb.gl.Ub={Cka(){return this.wk?this.wk.Cc:-1}};
{"use strict";const e=self.C;e.Tb.Mf=class extends e.tO{constructor(a){super(a);a=this.g.Jb();this.Md=new e.Xs(e.gd.Vd(a,"pointerdown",b=>this.uG(b.data)),e.gd.Vd(a,"pointermove",b=>this.vG(b.data)),e.gd.Vd(a,"pointerup",b=>this.Fu(b.data,!1)),e.gd.Vd(a,"pointercancel",b=>this.Fu(b.data,!0)))}B(){this.Md.B();this.Md=null;super.B()}uG(a){"mouse"===a.pointerType&&0!==a.button||this.j$(a.pointerId.toString(),a.pageX-this.g.ho(),a.pageY-this.g.io())}vG(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.gR(a.pointerId.toString()):
this.k$(a.pointerId.toString(),a.pageX-this.g.ho(),a.pageY-this.g.io())}Fu(a){"mouse"===a.pointerType&&0!==a.button||this.gR(a.pointerId.toString())}async j$(a,b,d){var c=this.la();let g=null,m=null,h=0,k=0;for(const n of c){c=n.LD(e.Tb.Mf);if(!c.Bi()||c.ej)continue;const p=n.j(),q=p.ba(),[u,w]=q.Lf(b,d,p.le());if(!p.nq(u,w))continue;if(!g){g=n;m=c;h=u;k=w;continue}const r=g.j();if(q.Ja()>r.ba().Ja()||q.Ja()===r.ba().Ja()&&p.uh()>r.uh())g=n,m=c,h=u,k=w}g&&await m.d$(a,h,k)}k$(a,b,d){var c=this.la();
for(const g of c){c=g.LD(e.Tb.Mf);if(!c.Bi()||!c.ej||c.ej&&c.NH!==a)continue;const m=g.j(),h=m.ba(),[k,n]=h.Lf(b,d,m.le());c.q$(k,n)}}async gR(a){var b=this.la();for(const d of b)b=d.LD(e.Tb.Mf),b.ej&&b.NH===a&&await b.lR()}}}{"use strict";const e=self.C;e.Tb.Mf.Qm=class extends e.vO{constructor(a){super(a)}B(){super.B()}Bd(){}}}
{"use strict";const e=self.C;e.Tb.Mf.Instance=class extends e.uO{constructor(a,b){super(a);this.ej=!1;this.lp=this.kp=0;this.NH="<none>";this.xl=0;this.fj=!0;b&&(this.xl=b[0],this.fj=b[1])}B(){super.B()}Dd(){return{a:this.xl,e:this.fj}}ud(a){this.xl=a.a;this.fj=a.e;this.ej=!1}Bi(){return this.fj}jN(){return this.ej}async d$(a,b,d){const c=this.j();this.kp=b-c.S();this.lp=d-c.T();this.ej=!0;this.NH=a;await this.Fd(e.Tb.Mf.L.NN)}q$(a,b){const d=this.j();a-=this.kp;b-=this.lp;if(0===this.xl){if(d.S()!==
a||d.T()!==b)d.zh(a,b),d.Va()}else 1===this.xl?d.S()!==a&&(d.ag(a),d.Va()):2===this.xl&&d.T()!==b&&(d.bg(b),d.Va())}async lR(){this.ej=!1;await this.Fd(e.Tb.Mf.L.ON)}Fc(a){switch(a){case 0:return this.xl;case 1:return this.fj}}wh(a,b){switch(a){case 0:this.xl=b;break;case 1:this.fj=!!b}}}}"use strict";self.C.Tb.Mf.L={jN(){return this.ej},NN(){return!0},ON(){return!0},Bi(){return this.fj}};"use strict";self.C.Tb.Mf.Db={u4(e){this.fj=!!e;this.fj||(this.ej=!1)},mma(e){this.xl=e},qha(){this.ej&&this.lR()}};
"use strict";self.C.Tb.Mf.Ub={};
{const e=self.C;self.EL=function(){return[e.D.qb,e.Tb.gl,e.Tb.Mf,e.D.Touch,e.D.Text,e.D.Qc,e.D.qb.Db.bY,e.D.Ya.L.xZ,e.D.Ya.Db.WL,e.D.Ya.Ub.Lea,e.D.qb.Db.nf,e.D.qb.Ub.oz,e.D.qb.Ub.KF,e.D.qb.Db.U4,e.D.qb.Db.Zf,e.D.Ya.L.PN,e.D.Ya.Db.g5,e.Tb.gl.Db.e3,e.D.qb.Ub.X5,e.D.Text.Db.gu,e.D.Ya.L.AX,e.D.qb.Db.ld,e.D.qb.Ub.v0,e.D.qb.Db.bg,e.D.Text.Db.nf,e.D.qb.Db.NO,e.Tb.Mf.L.NN,e.D.qb.Db.FN,e.D.Text.Db.FN,e.D.qb.Db.c2,e.Tb.Mf.L.ON,e.D.qb.L.r1,e.D.qb.Ub.i0,e.D.Ya.L.a3,e.D.qb.Ub.d3,e.D.qb.Db.O4,e.D.Ya.L.gM,e.D.qb.L.q1,
e.D.qb.L.BX,e.D.qb.L.LL,e.Tb.Mf.L.jN,e.D.Ya.Ub.HK,e.D.qb.L.b3,e.D.Qc.Ub.DY,e.D.qb.Db.yh,e.D.Ya.Ub.Xea,e.D.Ya.Ub.Yea,e.D.Ya.Db.IF,e.D.qb.Db.ag,e.D.Text.Ub.oz,e.D.Text.Ub.w5,e.D.Touch.L.TN,e.D.Touch.L.MN,e.D.Ya.Ub.wfa,e.D.Ya.Ub.random,e.D.Ya.Ub.mid,e.D.Ya.L.Cq,e.D.Ya.Ub.xfa,e.D.Text.Ub.Text,e.D.Text.L.LN,e.D.Ya.L.nM,e.D.Text.Db.NO,e.D.Text.Ub.pZ,e.D.Touch.L.A1,e.D.Text.L.LL,e.D.Text.L.h1,e.D.Ya.L.E5,e.D.Text.Db.az]};self.fX=[{rna:0},{sna:0},{kha:0},{gl:0},{cia:0},{lsa:0},{$ha:0},{bqa:0},{cqa:0},{Jqa:0},
{pha:0},{roa:0},{Touch:0},{soa:0},{toa:0},{Oka:0},{sja:0},{Qc:0},{aia:0},{Pka:0},{I1:0},{aja:0},{qna:0},{Wqa:0},{Wfa:0},{Cga:0},{Hga:0},{Qna:0},{Bga:0},{bia:0},{dia:0},{Aga:0},{Pna:0},{Hja:0},{zZ:0},{jra:0},{k:0},{Eja:0},{jja:0},{index:0},{lqa:0},{Dja:0},{width:0},{Zra:0},{oz:0},{KF:0},{length:0},{wja:0},{Yra:0}]}
{const e=self.C;function a(b,d){return"string"===typeof b||"string"===typeof d?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):b&&d?1:0}self.eX=[()=>"",()=>0,b=>{const d=b.G(0).Aa;return()=>d.ga()-1},b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()-c.ga()/2},b=>{const d=b.G(0).Aa,c=b.G(1).Aa,g=b.G(2).Aa,m=b.G(3).Fb();return()=>d.ga()+c.ga()/g.ga()*m()},b=>{const d=b.G(0),c=b.G(1),g=b.G(2).Aa,m=b.G(3).Aa,h=b.G(4).Aa,k=b.G(5).Aa,
n=b.G(6).Aa,p=b.G(7).Fb();return()=>e.gi(d.Eb(),c.Eb(),g.ga()+m.ga()/2,h.ga()+k.ga()/n.ga()*(p()+.5))},b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()+c.ga()/2},b=>{const d=b.G(0).Aa,c=b.G(1).Aa,g=b.G(2).Aa,m=b.G(3).Fb();return()=>d.ga()+c.ga()/g.ga()*(m()+.5)},b=>{const d=b.G(0).Aa;return()=>d.ga()},b=>{const d=b.G(0),c=b.G(1),g=b.G(2).Aa,m=b.G(3).Aa,h=b.G(4).Aa,k=b.G(5).Aa,n=b.G(6).Aa,p=b.G(7).Fb();return()=>e.gi(d.Eb(),c.Eb(),g.ga()-m.ga()/2,h.ga()+k.ga()/n.ga()*(p()+1))},b=>{const d=b.G(0).Aa,
c=b.G(1).Aa,g=b.G(2).Aa,m=b.G(3).Fb();return()=>d.ga()+c.ga()/g.ga()*(m()+1)},b=>{const d=b.G(0);return()=>d.$s()},()=>1,()=>100,()=>552,()=>1.25,()=>220,()=>5,b=>{const d=b.G(0).Fb();return()=>.05*(d()+1)},b=>{const d=b.G(0).Fb();return()=>60+100*(d()%3)},b=>{const d=b.G(0).Fb();return()=>84+96*Math.floor(d()/3)},b=>{const d=b.G(0).Fb();return()=>.3+.1*(d()+1)},b=>{const d=b.G(0).Fb();return()=>288+120*Math.floor(d()/3)},()=>"outer",()=>10,b=>{const d=b.G(0),c=b.G(1);return()=>d.Eb()+c.Eb()/2},b=>
{const d=b.G(0),c=b.G(1).Aa,g=b.G(2).Fb();return()=>d.Eb()+c.ga()/100*g("outer")},b=>{const d=b.G(0),c=b.G(1);return()=>d.Eb()+c.Eb()/2+24+6},b=>{const d=b.G(0).Fb();return()=>a(d("outer")," cm")},()=>"inner",()=>9,b=>{const d=b.G(0).Fb();return()=>d("outer")},b=>{const d=b.G(0),c=b.G(1).Aa,g=b.G(2).Fb(),m=b.G(3).Aa,h=b.G(4).Fb();return()=>d.Eb()+c.ga()/100*g("outer")+m.ga()/100/10*h("inner")},()=>12,b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()+20*c.ga()},b=>{const d=b.G(0);return()=>.75*d.Eb()},
b=>{const d=b.G(0).Aa;return()=>2*Math.sqrt(d.ga()/180)},b=>{const d=b.G(0);return()=>d.Eb()},b=>{const d=b.G(0);return()=>d.Eb(2)},b=>{const d=b.G(0),c=b.G(1).Aa;return()=>d.Eb(1)+20*c.ga()},b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()+c.ga()},b=>{const d=b.G(0),c=b.G(1).Aa;return()=>d.Eb(1)+c.ga()},()=>2,b=>{const d=b.G(0).Aa;return()=>48*Math.pow(d.ga()/.1,1/3)},b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()-24*Math.pow(c.ga()/.1,1/3)+4},b=>{const d=b.G(0).Aa;return()=>a(d.ga()," ")+
"kg"},b=>{const d=b.G(0).Aa;return()=>48*Math.pow(d.ga()/100,1/3)},b=>{const d=b.G(0).Aa,c=b.G(1).Aa;return()=>d.ga()-24*Math.pow(c.ga()/100,1/3)+4},b=>{const d=b.G(0).Aa;return()=>a(d.ga()," ")+"g"},b=>{const d=b.G(0).Aa;return()=>d.ga()/1E3},b=>{const d=b.G(0);return()=>-d.Eb()},b=>{const d=b.G(0),c=b.G(1),g=b.G(2);return()=>94+d.Eb()+c.Eb()/2+g.Eb()},b=>{const d=b.G(0),c=b.G(1),g=b.G(2),m=b.G(3),h=b.G(4),k=b.G(5).Aa,n=b.G(6).Aa,p=b.G(7),q=b.G(8),u=b.G(9).Fb();return()=>.9*(d.$s()+((118+c.Eb()+
g.Eb()/2+m.Eb()-h.Eb())/k.ga()*n.ga()+9.8*p.$s())/q.$s()*u())},b=>{const d=b.G(0),c=b.G(1),g=b.G(2).Aa,m=b.G(3).Fb();return()=>d.Eb()+c.$s()*g.ga()*m()},b=>{const d=b.G(0),c=b.G(1),g=b.G(2),m=b.G(3);return()=>d.Eb()-(118+c.Eb()+g.Eb()/2+m.Eb())},b=>{const d=b.G(0),c=b.G(1),g=b.G(2),m=b.G(3);return()=>e.gi(d.Eb(),c.Eb(),g.Eb(),m.Eb())},()=>144,b=>{const d=b.G(0).Fb();return()=>d()},()=>"milesloh.github.io",b=>{const d=b.G(0).Fb(),c=b.G(1).Fb();return()=>d()+" - "+c()+" - (C) Mr. Miles Loh"},b=>{const d=
b.G(0).Fb(),c=b.G(1).Fb();return()=>d()+" - "+c()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},b=>{const d=b.G(0).Aa,c=b.G(1).Aa,g=b.G(2).Aa;return()=>(d.ga()+c.ga()+1)%g.ga()},b=>{const d=b.G(0).Fb(),c=b.G(1).Aa,g=b.G(2).Aa;return()=>d(c.ga(),g.ga(),"|")},b=>{const d=b.G(0).Fb();return()=>90+d(270)},()=>"Random",b=>{const d=b.G(0).Fb(),c=b.G(1).Aa;return()=>"Spring "+d("ABCDEFGHIJKLMN",c.ga(),1)},b=>{const d=b.G(0).Aa,c=b.G(1).Aa,g=b.G(2).Aa;return()=>(d.ga()+c.ga()-1)%g.ga()},
()=>"ToggleButton",b=>{const d=b.G(0).Fb(),c=b.G(1);return()=>d(c.qq(),";")-1},b=>{const d=b.G(0).Fb(),c=b.G(1),g=b.G(2).Fb();return()=>d(c.qq(),g(),";")},b=>{const d=b.G(0).Fb(),c=b.G(1),g=b.G(2).Aa,m=b.G(3).Fb(),h=b.G(4);return()=>d(c.qq(),(g.ga()+1)%m(h.qq(),";"),";")},()=>"Button",b=>{const d=b.G(0);return()=>Math.floor(.875*d.qq())},b=>{const d=b.G(0);return()=>d.qq()}]};
