// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function b(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];f[0]=x*E+D*H;f[1]=C*E+k*H;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function a(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function d(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*Q+D*S;f[3]=C*Q+E*S;f[4]=x*W+D*t+H;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*H+V*Q;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*H+ca*Q;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*H+t*Q;f[8]=oa*D+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*H+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*H+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*H+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*H+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=x+x,K=C+C,N=D+D;k=x*H;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;H*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+D);f[6]=C+H;f[7]=0;f[8]=x+K;f[9]=C-H;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],H=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,H);return f}function r(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var H=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-C)/E,f[1]=(x-H)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+H)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-H)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+H)/E,f[1]=(Q+C)/E,f[2]=.25*E);return f}function v(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function w(f,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*H;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function I(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*H;f[1]=C*t+k*H+D*E-x*K;f[2]=D*t+k*K+x*H-C*E;f[3]=k*t-x*E-C*H-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var H=t[0],K=t[1],N=t[2];t=t[3];var Q=C*H+D*K+E*N+k*t;0>Q&&(Q=-Q,H=-H,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*C+x*
H;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],H=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=H;f[3]=k;f[4]=x*k+C*H-t*E;f[5]=C*k+t*D-x*H;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*H;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*Q+E*H+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*Q+E*K+D*H-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-C*H+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*H-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get pea(){return qa},Jja:Ma,oea:"zyx",Kqa:function(f){qa=f},Uqa:function(f){return f*Mb},cd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Pv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},rf:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},RU:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},Lr:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},KT:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},tJ:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},zB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},yJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},Il:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},xJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Uha:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},Jl:a,Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},cd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},MJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},NJ:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},kn:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Pv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},rf:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},Lr:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var H=t*D-x*C;if(!H)return null;H=1/H;f[0]=D*H;f[1]=-x*H;f[2]=-C*H;f[3]=t*H;f[4]=(C*k-D*E)*H;f[5]=(x*E-t*k)*H;return f},tJ:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=H;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=H;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+H;f[5]=C*K+E*t+k;return f},zB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},yJ:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},zJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},Il:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},xJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},Jl:c,MJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
NJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},cd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var H=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-H)<=1E-6*Math.max(1,Math.abs(t),Math.abs(H))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},kn:d,sub:c}),Qb=Object.freeze({__proto__:null,create:g,Rca:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ma:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},rf:function(f,k,t,x,C,D,E,H,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=H;N[8]=K;return N},set:function(f,k,t,x,C,D,E,H,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;f[8]=N;return f},Pv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},RU:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},Lr:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-H*N,S=-k*D+H*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+C*N)*V;f[2]=(H*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-H*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},KT:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-H*N;f[1]=C*N-x*k;f[2]=x*H-C*E;f[3]=H*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*H;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},tJ:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:n,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=H;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*H+Q;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*H;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*H-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},zJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},zB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},yJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Boa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},Sca:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=H;D*=k;E*=k;k*=H;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},Lpa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(H*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-H*Q+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},xU:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Il:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},xJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},Jl:h,MJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},NJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},cd:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(H-ia)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},kn:n,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},rf:function(f,k,t,x,C,D,E,H,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=H;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,H,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Pv:l,RU:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],H=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=H}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},Lr:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(H*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-H*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(H*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},KT:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=H*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-H*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=H*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},tJ:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],H=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=H*S-K*Q,oa=H*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(H*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:m,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var H=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=H;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+Q*C+ea*t+k[13];f[14]=H*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var H=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*H;var za=x*C*N-D*H;var Aa=C*D*N-x*H;var Ba=D*D*N+K;var Ca=x*D*N+C*H;var Fa=C*x*N+D*H;C=D*x*N-C*H;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=Q*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},XJ:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],H=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=H*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-H*x;return f},YJ:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=H*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=H*x+S*t;return f},ZJ:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=H*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-H*x;return f},zJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},yJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},zB:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Hoa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Ioa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Joa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Tca:p,Doa:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(H*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-H*D)/S,t[2]=2*(N*E+Q*D+H*C-K*x)/S):(t[0]=2*(H*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-H*D),t[2]=2*(N*E+Q*D+H*C-K*x));p(f,k,t);return f},Wca:q,Uoa:u,Toa:r,noa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],H=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(H,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;H*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(D-H)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+H)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+H)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-H)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},Eoa:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],H=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=H;N*=H;H*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+H)*Q;f[2]=(C-N)*Q;f[3]=0;f[4]=(S-H)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Foa:function(f,k,t,x,C){var D=k[0],E=k[1],H=k[2],K=k[3],N=D+D,Q=E+E,S=H+H;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=H*S;H=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+H;V=(V+Q)*S;E=(E-H)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},Sca:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=H;D*=k;E*=k;k*=H;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Uca:function(f,k,t,x,C,D,E){var H=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*H;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},Xpa:v,perspective:v,Ypa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},Wpa:function(f,k,t,x){var C=Math.tan(k.Zqa*Math.PI/180),D=Math.tan(k.poa*Math.PI/
180),E=Math.tan(k.zpa*Math.PI/180);k=Math.tan(k.uqa*Math.PI/180);var H=2/(E+k),K=2/(C+D);f[0]=H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*H*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},Upa:w,Cda:w,Vpa:function(f,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*H;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},qda:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var H=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(f);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=H*N-K*x;K=K*t-E*N;E=E*x-H*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;H=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(H,W,V))?(S=1/S,H*=S,W*=S,V*=S):V=W=H=0;f[0]=Q;f[1]=H;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*C+K*D+E*k);f[13]=
-(H*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},Qqa:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],H=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=H*t-K*N;K=K*x-E*t;E=E*N-H*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},Il:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},xJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},Jl:y,MJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},NJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},cd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(H-za)<=1E-6*Math.max(1,Math.abs(H),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},kn:m,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,rf:z,ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},Jl:F,multiply:I,Cl:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},$J:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Mv:M,LU:P,NB:R,sU:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,hn:Z,sJ:X,Rd:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},Sda:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},Zoa:function(f,k,t,x,C,D){var E=D*D,H=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*H+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*H+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*H+t[2]*K+x[2]*N+C[2]*D;return f},Vna:function(f,k,t,x,C,D){var E=1-D,H=E*E,K=D*D,N=H*E;H*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*H+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*H+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*H+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},hK:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},dea:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},eea:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],H=k[1];k=k[2];var K=C*k-D*H,N=D*E-x*k,Q=x*H-C*E;t=2*t[3];f[0]=E+K*t+2*(C*Q-D*N);f[1]=H+N*t+2*(D*K-x*Q);f[2]=k+Q*t+2*(x*N-C*K);return f},XJ:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},YJ:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},ZJ:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],H=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+H*H)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},bV:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Il:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},cd:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
kn:I,XT:J,VT:M,KU:P,Uv:G,MB:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,rf:va,ma:ta,set:ya,add:Na,Jl:Sa,multiply:Ta,Cl:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,$J:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Mv:eb,LU:fb,length:Pa,NB:Va,sU:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,hn:Ya,sJ:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],H=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*H;f[1]=-(x*t)+
Q*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*H)+N*D-Q*C;return f},Rd:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var H=D*D+E*E}while(1<=H);C=Math.sqrt((1-C)/H);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},hK:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},eea:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],H=t[1],K=t[2];t=t[3];var N=t*x+H*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-H*x;x=-E*x-H*C-K*D;f[0]=N*t+x*-E+Q*-K-S*-H;f[1]=Q*t+x*-H+S*-E-N*-K;f[2]=S*t+x*-K+N*-H-Q*-E;f[3]=k[3];return f},bV:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Il:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Wi:wb,cd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,kn:Ta,XT:Ua,VT:eb,KU:fb,Uv:Pa,MB:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,H){kb(f,x,E,H);kb(k,C,D,H);kb(t,f,k,2*H*(1-H));return t}}(),gb=function(){var f=g();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Pv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Iqa:xb,Qoa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Ooa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,XJ:zb,YJ:Ab,ZJ:Bb,Xna:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,pda:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},Sda:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},Lr:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Eca:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},Coa:Eb,Aoa:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),H=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q-D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q-D*H*N;break;case "xzy":f[0]=D*K*Q-E*H*N;f[1]=E*
H*Q-D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q+D*H*N;break;case "yxz":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q-D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q+D*H*N;break;case "yzx":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q-D*H*N;break;case "zxy":f[0]=D*K*Q-E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q-D*H*N;break;case "zyx":f[0]=D*K*Q-E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q+D*H*N;break;default:throw Error("Unknown angle order "+C);}return f},Il:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,rf:va,ma:ta,set:ya,add:Na,kn:yb,scale:Wa,hn:Ya,Rd:vb,length:Pa,Uv:Pa,NB:Va,MB:Va,normalize:ib,Wi:wb,cd:function(f,k){return.999999<=Math.abs(Ya(f,k))},yqa:tb,Nqa:ub,Hqa:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},rf:function(f,k,t,x,C,D,E,H){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=H;return K},Goa:function(f,k,t,x,C,D,E){var H=new qa(8);H[0]=f;H[1]=k;H[2]=t;H[3]=x;C*=.5;D*=.5;E*=.5;H[4]=C*x+D*t-E*k;H[5]=D*x+E*f-C*t;H[6]=E*x+C*k-D*f;H[7]=-C*f-D*k-E*t;return H},Tca:Fb,zJ:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},zB:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Rca:function(f,k){var t=jb();r(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},ma:Gb,Pv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,H,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;return f},Soa:ta,Roa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Lqa:ta,Jqa:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},Wca:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],H=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*H);f[1]=2*(x*k+D*H+C*E-t*K);f[2]=2*(C*k+
D*K+t*H-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*H+C*t-D*K+N;f[5]=E*K+D*H-x*t+Q;f[6]=E*t+x*K-C*H+S;f[7]=-x*H-C*K-D*t+k;return f},XJ:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+
H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},YJ:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},ZJ:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},wqa:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],H=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+H*D-K*C;f[1]=H*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-H*x;f[3]=N*t-E*x-H*C-K*D;E=k[4];H=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+H*D-K*C;f[5]=H*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-H*x;f[7]=N*t-E*x-H*C-K*D;return f},xqa:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*H;f[1]=C*N+k*H+D*E-x*K;f[2]=D*N+k*K+x*H-C*E;f[3]=k*N-x*E-C*H-D*K;E=t[4];H=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*H;f[5]=C*N+k*H+D*E-x*K;f[6]=D*N+k*K+x*H-C*E;f[7]=k*N-x*E-C*H-D*K;return f},vqa:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,H=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*H;f[1]=D*x+N*H+K*E-C*t;f[2]=K*x+N*t+C*H-D*E;f[3]=N*x-C*E-D*H-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*H;f[5]=D*x+k*H+K*E-C*t;f[6]=K*x+k*t+C*H-D*E;f[7]=k*x-C*E-D*H-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,kn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},hn:Ya,Rd:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},Lr:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Eca:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Uv:Pa,NB:Va,MB:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,H=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*H+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(H-x*Q)/t;f[5]=(K-C*Q)/t;f[6]=(N-D*Q)/t;f[7]=(k-E*Q)/t}return f},Il:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},cd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(H-ea)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},rf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},ma:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},Jl:mb,multiply:nb,Cl:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},$J:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Mv:ob,LU:Qa,length:pb,
NB:qb,sU:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},hn:function(f,k){return f[0]*k[0]+f[1]*k[1]},sJ:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},Rd:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Wqa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Xqa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},dea:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},hK:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},bV:function(f){f[0]=0;f[1]=0;return f},Il:function(f){return"vec2("+f[0]+", "+f[1]+")"},Wi:function(f,k){return f[0]===k[0]&&f[1]===k[1]},cd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Uv:pb,sub:mb,kn:nb,XT:Za,
VT:ob,KU:Qa,MB:qb,forEach:gb});e.Xi=Nb;e.Dpa=Ob;e.Epa=Pb;e.Fpa=Qb;e.El=Rb;e.fqa=tb;e.gqa=ub;e.fra=gb;e.RB=rb;e.cw=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Ona?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Xi={}));
{"use strict";function e(v,w,y,A){var G=w[0]-v[0];w=w[1]-v[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*w-F*G)return!1;A=(G*(y[1]-v[1])+w*(v[0]-y[0]))/(z*w-F*G);v=(z*(v[1]-y[1])+F*(y[0]-v[0]))/(F*G-z*w);return 0<=A&&1>=A&&0<=v&&1>=v}function b(v,w,y){return(w[0]-v[0])*(y[1]-v[1])-(y[0]-v[0])*(w[1]-v[1])}function a(v,w,y){return 0<b(v,w,y)}function d(v,w,y){return 0<=b(v,w,y)}function c(v,w,y){return 0>=b(v,w,y)}var ab=[],bb=[];function g(v,w){var y=w[0]-v[0];v=w[1]-v[1];return y*y+v*v}function n(v,w){var y=
v.length;return v[0>w?w%y+y:w%y]}function h(v,w,y,A){for(;y<A;y++)v.push(w[y])}function l(v,w){var y=n(v,w-1),A=n(v,w);v=n(v,w+1);return 0>b(y,A,v)}var cb=[],Jb=[];function m(v,w,y,A){A=A||[];A.length=0;if(w<y)for(var G=w;G<=y;G++)A.push(v[G]);else{for(G=0;G<=y;G++)A.push(v[G]);for(G=w;G<v.length;G++)A.push(v[G])}return A}function p(v){for(var w=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<v.length;++F)if(l(v,F))for(var I=0;I<v.length;++I){a:{A=v;var J=F,M=I;if(d(n(A,J+1),n(A,J),n(A,M))&&c(n(A,J-1),n(A,J),
n(A,M)))y=!1;else{y=g(n(A,J),n(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(n(A,J),n(A,M),n(A,P+1))&&c(n(A,J),n(A,M),n(A,P))){cb[0]=n(A,J);cb[1]=n(A,M);Jb[0]=n(A,P);Jb[1]=n(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(n(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(m(v,
F,I,G));A=p(m(v,I,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(w=y,z=y.length,w.push([n(v,F),n(v,I)]))}}return w}function q(v,w){if(0===w.length)return[v];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){v=[v];for(var y=0;y<w.length;y++)for(var A=w[y],G=0;G<v.length;G++){var z=q(v[G],A);if(z){v.splice(G,1);v.push(z[0],z[1]);break}}return v}A=w;y=v.indexOf(A[0]);G=v.indexOf(A[1]);return-1!==y&&-1!==G?[m(v,y,G),m(v,G,y)]:!1}function u(v,w,y,
A,G){var z=w[1]-v[1];w=v[0]-w[0];v=z*v[0]+w*v[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var I=z*A-F*w;return Math.abs(I-0)<=(G||0)?[0,0]:[(A*v-w*y)/I,(z*y-F*v)/I]}function r(v,w,y,A,G,z,F){z=z||100;F=F||0;G=G||25;w="undefined"!==typeof w?w:[];y=y||[];A=A||[];var I=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>v.length)return w;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),w;for(var Y=0;Y<v.length;++Y)if(l(v,Y)){y.push(v[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<v.length;++ta){if(a(n(v,Y-1),n(v,Y),n(v,ta))&&c(n(v,Y-1),n(v,Y),n(v,ta-1))){M=u(n(v,Y-1),n(v,Y),n(v,ta),n(v,ta-1));var ya=n(v,Y+1);var Na=n(v,Y);0>b(ya,Na,M)&&(ya=g(v[Y],M),ya<P&&(P=ya,J=M,T=ta))}a(n(v,Y+1),n(v,Y),n(v,ta+1))&&c(n(v,Y+1),n(v,Y),n(v,ta))&&(M=u(n(v,Y+1),n(v,Y),n(v,ta),n(v,ta+1)),a(n(v,Y-1),n(v,Y),M)&&(ya=g(v[Y],M),ya<va&&(va=ya,I=M,R=ta)))}if(T===(R+1)%v.length)M[0]=(J[0]+I[0])/2,M[1]=(J[1]+I[1])/2,A.push(M),Y<R?(h(X,v,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,v,T,v.length),h(ba,
v,0,Y+1)):(0!==Y&&h(X,v,Y,v.length),h(X,v,0,R+1),X.push(M),ba.push(M),h(ba,v,T,Y+1));else{T>R&&(R+=v.length);I=Number.MAX_VALUE;if(R<T)return w;for(ta=T;ta<=R;++ta)if(d(n(v,Y-1),n(v,Y),n(v,ta))&&c(n(v,Y+1),n(v,Y),n(v,ta))){ya=g(n(v,Y),n(v,ta));if(T=ya<I)a:{T=v;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(n(T,J),n(T,M),n(T,va),n(T,va+1))){T=!1;break a}T=!0}T&&(I=ya,Z=ta%v.length)}Y<Z?(h(X,v,Y,Z+1),0!==Z&&h(ba,v,Z,v.length),h(ba,v,0,Y+1)):(0!==
Y&&h(X,v,Y,v.length),h(X,v,0,Z+1),h(ba,v,Z,Y+1))}X.length<ba.length?(r(X,w,y,A,G,z,F),r(ba,w,y,A,G,z,F)):(r(ba,w,y,A,G,z,F),r(X,w,y,A,G,z,F));return w}w.push(v);return w}self.aqa={moa:function(v){var w=p(v);return 0<w.length?q(v,w):[v]},hqa:r,fpa:function(v){var w;for(w=0;w<v.length-1;w++)for(var y=0;y<w-1;y++)if(e(v[w],v[w+1],v[y],v[y+1]))return!1;for(w=1;w<v.length-2;w++)if(e(v[0],v[v.length-1],v[w],v[w+1]))return!1;return!0},mqa:function(v,w){for(var y=0,A=v.length-1;3<v.length&&0<=A;--A){var G=
n(v,A-1);var z=n(v,A),F=n(v,A+1),I=w;I?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<I):G=0===b(G,z,F);G&&(v.splice(A%v.length,1),y++)}return y},nqa:function(v,w){for(var y=v.length-1;1<=y;--y)for(var A=v[y],G=y-1;0<=G;--G){var z=A,F=v[G],I=w;Math.abs(z[0]-F[0])<=(I||0)&&Math.abs(z[1]-F[1])<=(I||0)&&v.splice(y,1)}},Cpa:function(v){for(var w=0,y=1;y<v.length;++y)if(v[y][1]<
v[w][1]||v[y][1]===v[w][1]&&v[y][0]>v[w][0])w=y;if(a(n(v,w-1),n(v,w),n(v,w+1)))return!1;w=[];y=v.length;for(var A=0;A!==y;A++)w.push(v.pop());for(A=0;A!==y;A++)v[A]=w[A];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Rv=!1;e.IJ=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Mh={}}
{"use strict";const e=self.B;e.LM=class{constructor(b){this.Wba=b;this.Ha=new Map;this.g9()}g9(){var b=this.Wba;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.h9(a)}h9(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ha.set(d,b)}else this.Ha.set(b,null)}qx(b){return this.Ha.has(b)}Y(b){b=this.Ha.get(b);return"undefined"===typeof b?null:b}};e.ID=new e.LM(location.search);e.iia=
new e.LM(location.hash);e.ID.Y("mode")}
{"use strict";const e=self.B,b=navigator.userAgent;let a={oda:/linux|openbsd|freebsd|netbsd/i.test(b),Bca:/CrOS/.test(b),SB:/trident|iemobile|msie|tizen/i.test(b),Noa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),OT:/bb10/i.test(b),Pca:/edge\//i.test(b),TU:/trident/i.test(b),webkit:/webkit/i.test(b),Lda:/safari\//i.test(b),Aca:/chrome\//i.test(b),Cca:/chromium\//i.test(b),Fca:/crosswalk|xwalk/i.test(b),Npa:/nwjs/i.test(b),pca:/amazonwebappplatform/i.test(b),jea:/wv\)/.test(b),qca:/android/i.test(b),
yda:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",g="(unknown)",n="(unknown)",h="(unknown)",l="browser",m=!1,p=!1,q=new Map;function u(v,w,y){!0===w?(y(),q.set(v,!0)):w&&w.length&&(y(w[0]),q.set(v,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),v=>{d="Windows";if(v=v.split(" ")[2])switch(v){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,v=>{d="Mac OS X";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isLinux",a.oda,()=>{d="Linux"});u("isChromeOS",a.Bca,()=>{d="Chrome OS"});u("isAndroid",!a.SB&&Lb,v=>{d="Android";(v=v.split(" ")[1])&&(c=v)});u("isTizen",Tb,v=>{d="Tizen";(v=v.split(" ")[1])&&(c=v)});u("isIPhone",!a.SB&&Ub,v=>{d="iOS";(v=v.split(" ")[2])&&(c=v.replace("_","."))});u("isIPad",!a.SB&&Vb,v=>{d="iOS";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isWindowsPhone",Wb,v=>{d="Windows Phone";
(v=v.split(" ")[2])&&(c=v)});u("isWindowsPhoneOS",Xb,v=>{d="Windows Phone";(v=v.split(" ")[3])&&(c=v)});u("isBlackberry",a.OT,()=>{d="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!a.Pca&&!a.opera&&Yb,v=>{g="Chrome";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isOpera",Sb,v=>{g="Opera";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isChromium",Zb,v=>{h=g="Chromium";(v=v.split("/")[1])&&(n=v)});u("isFirefox",ac,v=>{g="Firefox";h="Gecko";(v=v.split("/")[1])&&(n=v)});u("isInternetExplorer",bc,
v=>{g="Internet Explorer";h="Trident";(v=v.split(" ")[1])&&(n=v)});u("isTrident","Internet Explorer"!==g&&a.TU,()=>{h="Trident";var v=/rv:[0-9.]+/i.exec(b);v&&v.length&&(g="Internet Explorer",(v=v[0].split(":")[1])&&(n=v))});u("isEdge",cc,v=>{h=g="Edge";(v=v.split("/")[1])&&(n=v)});u("isEdgeChromium",dc,v=>{g="Edge";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isSafari",a.Lda&&!a.yda&&!a.Aca&&!a.Cca&&!a.Moa&&!a.OT,()=>{g="Safari";h="WebKit";var v=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);v&&v.length&&(v=v[0].split("/")[1])&&(n=v);w&&w.length&&(g="Chrome for iOS",(w=w[0].split("/")[1])&&(n=w));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(n=y))});u("isSilk",ec,v=>{g="Silk";(v=v.split("/")[1])&&(n=v)});u("isCrosswalk",a.Fca,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,v=>{l="nwjs";g="NW.js";h="Chromium";(v=v.split("/")[1])&&(n=v)});u("isAmazonWebApp",a.pca,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&a.jea,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!a.SB&&a.qca,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&a.TU,()=>h="Trident");u("isWebkitFallback","(unknown)"===d&&a.webkit,()=>h="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===l,()=>m=!0);p="nwjs"===l;const r="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;r&&(d="iOS",c=n,p=m=!1);e.Gc={Tp:d,Eia:c,Ec:g,ufa:n,dC:parseFloat(n),kw:h,lC:l,qha:m,uD:!m,rha:p,mha:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),iha:"Mac OS X"===d||"iOS"===d,xha:r,Bha:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(r){return new Promise((v,w)=>{r.onsuccess=()=>v(r.result);r.onerror=()=>w(r.error)})}function c(r){return new Promise((v,w)=>{r.oncomplete=()=>v();r.onerror=()=>w(r.error);r.onabort=()=>w(r.error)})}function g(r,v){return h(r,v)}function n(r,v){return h(r,v,!0)}async function h(r,v,w=!1,
y=!0){const A=await l(r);try{const G=A.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return v(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(r),h(r,v,w,!1);throw G;}}function l(r){p(r);let v=e.get(r);v instanceof Promise||(v=m(r),e.set(r,v),v.catch(()=>e.delete(r)));return v}async function m(r){p(r);const v=indexedDB.open(r,2);v.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${r}`,
y)}});return d(v)}function p(r){if("string"!==typeof r)throw new TypeError("expected string");}function q(r,v){const w=r.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];w.onsuccess=G=>{if(G=G.target.result){switch(v){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(r){p(r);this.name=r}async ready(){await l(this.name)}set(r,v){p(r);return n(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(v,
r);y=d(y);w=c(w);await Promise.all([w,y])})}get(r){p(r);return g(this.name,async v=>{var w=v.objectStore("keyvaluepairs").get(r);w=d(w);v=c(v);[,v]=await Promise.all([v,w]);return v})}delete(r){p(r);return n(this.name,async v=>{var w=v.objectStore("keyvaluepairs").delete(r);w=d(w);v=c(v);await Promise.all([v,w])})}clear(){return n(this.name,async r=>{var v=r.objectStore("keyvaluepairs").clear();v=d(v);r=c(r);await Promise.all([r,v])})}keys(){return g(this.name,async r=>{if(a){var v=r.objectStore("keyvaluepairs").getAllKeys();
v=d(v)}else v=q(r,"keys");r=c(r);[,r]=await Promise.all([r,v]);return r})}values(){return g(this.name,async r=>{if(b){var v=r.objectStore("keyvaluepairs").getAll();v=d(v)}else v=q(r,"values");r=c(r);[,r]=await Promise.all([r,v]);return r})}entries(){return g(this.name,async r=>{var v=q(r,"entries");r=c(r);[,v]=await Promise.all([r,v]);return v})}}self.i0=u}"use strict";
{const e=self.i0,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function n(l){return"object"===typeof l?new Promise(m=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>m(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.na=l;a.set(this,new Map)}zt(l){if(!d)for(const m of b)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);d=!0;break}}async wR(l){l=
a.get(this).get(l);l=await n(l);return"undefined"===typeof l?null:l}async YS(l,m){m=await n(m);a.get(this).set(l,m)}SS(l){a.get(this).delete(l)}WQ(){a.get(this).clear()}cS(){return Array.from(a.get(this).keys())}async getItem(l,m){g(m);if(d)return await this.wR(l);let p;try{p=await this.na.get(l)}catch(q){this.zt(q);if(d)return await this.wR(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,m,p){g(p);"undefined"===
typeof m&&(m=null);if(d)await this.YS(l,m);else try{await this.na.set(l,m)}catch(q){if(this.zt(q),d)await this.YS(l,m);else throw q;}}async removeItem(l,m){g(m);if(d)this.SS(l);else try{await this.na.delete(l)}catch(p){this.zt(p),d?this.SS(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(d)this.WQ();else try{await this.na.clear()}catch(m){this.zt(m),d?this.WQ():console.error("Error clearing storage: ",m)}}async keys(l){g(l);if(d)return this.cS();l=[];try{l=await this.na.keys()}catch(m){this.zt(m);
if(d)return this.cS();console.error("Error getting storage keys: ",m)}return l}ready(l){g(l);return d?Promise.resolve(!0):this.na.ready()}rJ(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}
{"use strict";const e=self.B;e.Xb={};e.Xb.rna=(()=>{try{if("Safari"===e.Gc.Ec||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.Xb.gga="undefined"!==typeof HTMLDialogElement;e.Xb.Uja=!!self.requestIdleCallback;e.Xb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Gc.Ec;e.Xb.ImageBitmapOptions=!1;if(e.Xb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(b=>{e.Xb.ImageBitmapOptions=10===b.width&&10===b.height?!0:!1}).catch(()=>{e.Xb.ImageBitmapOptions=!1})}catch(b){e.Xb.ImageBitmapOptions=!1}e.Xb.Dfa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Gc.Ec);e.Xb.bja=!(!navigator.permissions||!navigator.permissions.query);e.Xb.KM="undefined"!==typeof Proxy;e.Xb.iga="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.Xb.lw="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.Xb.wga="function"===typeof fetch;e.Xb.dja=!!(self.isSecureContext&&"Opera"!==e.Gc.Ec&&navigator.storage&&navigator.storage.persist);e.Xb.vma=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Gc.Tp)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.Xb.Fga=fc;e.Xb.bha=
"undefined"!==typeof self.ImageDecoder;e.Xb.zia=!!self.showOpenFilePicker;e.Xb.Aia=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.bs(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,g)=>{0<d&&Array.isArray(g)?Array.prototype.push.apply(c,b(g,d-1)):c.push(g);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.Qd||(Array.prototype.Qd=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.Qd||(String.prototype.Qd=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.Lw())}}
{"use strict";const e=self.B,b=self.Mh;e.Zl=function(d){return"number"===typeof d};e.Vl=function(d){return e.Zl(d)&&isFinite(d)};e.Df=function(d){if(!e.Zl(d))throw new TypeError("expected number");};e.UM=function(){};e.pka=function(d,c,g){if(!e.Zl(d)||isNaN(d)||c>d||g<d)throw new RangeError("number outside of range");};e.bka=function(...d){for(let c of d);};e.Ak=function(d){if(!e.Vl(d))throw new TypeError("expected finite number");};e.RM=function(){};e.Zja=function(...d){for(let c of d);};e.ai=function(d){return"string"===
typeof d};e.td=function(d){if(!e.ai(d))throw new TypeError("expected string");};e.WM=function(){};e.dka=function(...d){for(let c of d);};e.eM=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.Cka=function(d){if(!e.eM(d))throw new TypeError("expected simple object");};e.zka=function(d){if(!e.Td(d)&&!e.eM(d))throw new TypeError("expected simple object");};e.dM=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.PM=function(d){if(!e.dM(d))throw new TypeError("expected object");
};e.VM=function(){};e.cka=function(...d){for(let c of d);};e.nD=function(d){return e.Wl(d,Blob)&&"string"===typeof d.name};e.nka=function(d){if(!e.nD(d))throw new TypeError("expected file");};e.xka=function(){};e.Kn=function(d){return Array.isArray(d)};e.OD=function(d){if(!e.Kn(d))throw new TypeError("expected array");};e.QM=function(){};e.Yja=function(...d){for(let c of d);};e.J_=function(d){return e.Kn(d)?d.length?e.Kn(d[0])?!0:!1:!0:!1};e.Xja=function(d){if(!e.J_(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.Kn(c))throw new TypeError("expected 2d array");};e.qka=function(){};e.oD=function(d){return"function"===typeof d};e.sj=function(d,c){if(!e.oD(d))throw new TypeError("expected function");if(!e.Td(c)&&d!==c)throw new TypeError("expected same function reference");};e.SM=function(){};e.$ja=function(...d){for(let c of d);};e.fka=function(d,...c){if(!e.oD(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!e.Td(g)&&
d===g)return;throw new TypeError("expected same function reference");};e.rka=function(...d){if(!e.Td(d))for(let c of d);};e.Wl=function(d,c){return d instanceof c};e.cM=function(d,...c){for(let g of c)if(e.Wl(d,g))return!0;return!1};e.PD=function(d,c){if(!e.Wl(d,c))throw new TypeError("unexpected type");};e.TM=function(){};e.aka=function(d,...c){for(let g of c);};e.gka=function(d,...c){if(!e.cM(d,...c))throw new TypeError("unexpected type");};e.hka=function(d,...c){if(!e.Td(d)&&!e.cM(d,...c))throw new TypeError("unexpected type");
};e.jha=function(d,c){for(let g of d)if(!e.Wl(g,c))return!1;return!0};e.kha=function(d){for(let c of d)if(!e.Vl(c))return!1;return!0};e.ika=function(d){for(let c of d);};e.ska=function(d){if(!e.Td(d))for(let c of d);};e.jka=function(d){for(let c of d);};e.tka=function(d){if(!e.Td(d))for(let c of d);};e.nha=function(d,c){return e.Td(d)||!e.ai(d.nodeName)?!1:!c||e.Vi(d.nodeName,c)};e.kka=function(d,c){if(e.Td(d)||!e.ai(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.Vi(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.uka=function(){};e.qD=function(d,c){return e.Td(d)||!e.ai(d.tagName)?!1:!c||e.Vi(d.tagName,c)};e.oka=function(d,c){if(e.Td(d)||!e.ai(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.Vi(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.yka=function(){};e.XL=function(d){return e.qD(d,"img")||e.qD(d,"canvas")||e.qD(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.lka=function(d){if(!e.XL(d))throw new TypeError("expected drawable");
};e.vka=function(){};e.YL=function(d){return d instanceof ImageData?!0:e.XL(d)};e.mka=function(d){if(!e.YL(d))throw new TypeError("expected drawable or image data");};e.wka=function(d){if(!e.Td(d)&&!e.YL(d))throw new TypeError("expected drawable or image data");};e.c0=function(d){return"string"===typeof d||d instanceof e.cD||d instanceof e.Ll};e.Dka=function(d){if(!e.c0(d))throw new TypeError("expected string-like");};e.Aka=function(){};e.eka=function(...d){for(let c of d);};e.Bka=function(){throw Error("must be overridden");
};e.Dia=function(){throw Error("not yet implemented");};e.pha=function(d,...c){if("undefined"===typeof d)return!1;for(let g of c){if("undefined"===typeof d[g])return!1;d=d[g]}return!0};e.Td=function(d){return"undefined"===typeof d||null===d};e.gfa=function(d){let c=d[0].constructor;for(let g of d)if(g.constructor!==c)return!1;return c};e.hfa=function(d,c){for(let g of d)if(!(g instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.Sha=function(d){return e.Wl(d,a)};e.Eka=function(){};
e.qna=function(d){e.u4(d,a)};e.pna=function(d,...c){if(!e.t4(d,...c))throw new TypeError("unexpected type");};e.t4=function(d,...c){for(const g of c)if(e.aO(d,g))return!0;return!1};e.u4=function(d,c){if(!e.aO(d,c))throw new TypeError("unexpected type");};e.aO=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.Df=e.Df;b.UM=e.UM;b.Ak=e.Ak;b.RM=e.RM;b.td=e.td;b.WM=e.WM;b.PM=e.PM;b.VM=e.VM;b.OD=e.OD;b.QM=e.QM;b.sj=e.sj;b.SM=e.SM;b.PD=e.PD;b.TM=e.TM;b.Td=
e.Td}
{"use strict";const e=self.B,b=new Map;e.Kja=function(u,...r){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...r);b.set(u,-1)}))};let a;e.rma=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,NT:0,lJ:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.NT.toPrecision(3)} :: calls => ${this.lJ}`}})};e.mga=function(u){performance.measure("measure",u);const r=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=r.duration;u.total+=u.current;u.NT=u.total/u.lJ;u.lJ++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Lw=function(){return Error().stack};e.dga=function(){debugger};e.coa=function(u,r){return u&&u instanceof r?u:null};e.dk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.Zl(u)?"<number>":e.ai(u)?"<string>":e.Kn(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.oD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.BB=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,r){if(!isFinite(Math.abs(u-r)))throw Error("Invalid parameters");if(u>r)for(--u;u>=r;u--)yield u;else for(;u<r;u++)yield u};let d=new Map,c=new Map,g=new WeakMap,n=new WeakMap;e.Bp={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",e.Lw())}e.Bp.get=function(u,r){r in u||"symbol"===typeof r||h.has(r)||l(`Accessed missing property '${r}' from defended object '${e.dk(u)}', returning undefined`);n.has(u)&&"symbol"!==typeof r&&!h.has(r)&&l(`Accessed property '${r}' on a released object '${e.dk(u)}'\nObject was originally released at: ${n.get(u)})\nCall stack at access: `);return u[r]};e.Bp.set=function(u,r,v){r in u||d.has(u)||l(`Set non-existent property '${r}' to '${v}' on defended object '${e.dk(u)}'`);{var w=e.BB(u[r]);
let y=e.BB(v);w="null"===w||"null"===y?!0:"undefined"===w||"undefined"===y?!1:w===y}w||d.has(u)||l(`Set '${e.BB(u[r])}' property '${r}' to type '${e.BB(v)}' on defended object '${e.dk(u)}'`);n.has(u)&&l(`Set property '${r}' on a released object '${e.dk(u)}'\nObject was originally released at: ${n.get(u)})\nCall stack at access: `);u[r]=v;return!0};e.Bp.deleteProperty=function(u,r){throw new ReferenceError(`Cannot delete property '${r}' from defended object '${e.dk(u)}'`);};e.Bp.defineProperty=function(u,
r){throw new ReferenceError(`Cannot define property '${r}' on defended object '${e.dk(u)}'`);};e.Bp.roa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.dk(u)}'`);};let m=-1;function p(){m=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(r=>e.dk(r)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.aa=class{constructor(){if(e.IJ&&e.Xb.KM){var u=new.target;u=Object.create(u.prototype);var r=new Proxy(u,e.Bp);d.set(u,r);c.set(r,u);g.set(r,u);-1===m&&(m=requestAnimationFrame(p));return r}}};e.Hca=function(u){if(e.IJ&&e.Xb.KM&&u instanceof e.aa){if(!c.has(u))return u;let r=c.get(u);c.delete(u);d.delete(r);return u}return e.Rv?Object.seal(u):u};e.j=function(u,...r){let v;try{v=new u(...r)}catch(A){throw c.clear(),d.clear(),A;}if(e.IJ){r=v;var w=new Set;for(y in r)w.add(y);var y=w;if(r=q.get(u)){w=
[];for(let A of r.values())y.has(A)?y.delete(A):w.push(A);e.Al(w,[...y]);w.length&&console.warn(`[Defence] '${e.dk(u)}' constructor creates inconsistent properties: ${w.join(", ")}`)}else q.set(u,y)}return e.Hca(v)};e.m=function(u){(u=g.get(u))&&n.set(u,e.Lw())};e.$N=function(u){return(u=g.get(u))?!!n.get(u):!1};let q=new Map;e.aja=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const e=self.B,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(g,n,h){g=Math.floor(g);n=Math.floor(n);h=Math.floor(h);return g<n?(g=h-(n-g)%(h-n),g===h?0:g):n+(g-n)%(h-n)};e.sda=function(g,n,h,l){return(g-n)*(l-0)/(h-n)};e.normalize=function(g,n,h){return(g-n)/(h-n)};e.da=function(g,n,h){return g<n?n:g>h?h:g};e.ie=function(g){g%=b;0>g&&(g+=b);return g};e.Wa=function(g){return g*a};e.Jh=function(g){return g*d};e.Hr=function(g,n,h,l){return Math.hypot(h-g,l-n)};e.WT=function(g,
n,h,l){g=h-g;n=l-n;return g*g+n*n};e.jJ=function(g,n,h,l){return Math.atan2(l-n,h-g)};e.Gr=function(g,n){if(g===n)return 0;g=Math.sin(g)*Math.sin(n)+Math.cos(g)*Math.cos(n);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};e.iJ=function(g,n,h){let l=Math.sin(g),m=Math.cos(g),p=Math.sin(n),q=Math.cos(n);return Math.acos(l*p+m*q)>h?0<m*p-l*q?e.ie(g+h):e.ie(g-h):e.ie(n)};e.mf=function(g,n){return 0>=Math.cos(g)*Math.sin(n)-Math.sin(g)*Math.cos(n)};e.hJ=function(g,n,h,l=0){let m=e.Gr(g,n);l*=b;return e.mf(n,
g)?e.ie(g+(m+l)*h):e.ie(g-(m+l)*h)};e.sca=function(g,n,h,l=0){const m=e.Gr(g,n);l*=b;return e.mf(n,g)?e.ie(g+(m+l)*h):e.ie((b-m+l)*h)};e.rca=function(g,n,h,l=0){const m=e.Gr(g,n);l*=b;return e.mf(n,g)?e.ie((-b+m-l)*h):e.ie(g-(m+l)*h)};e.Rd=function(g,n,h){return g+h*(n-g)};e.PB=function(g,n,h){return g===n?0:(h-g)/(n-g)};e.Hda=function(g,n,h,l){return e.Rd(0,l,e.PB(g,n,h))};e.JB=function(g,n,h,l){return e.Rd(e.Rd(g,n,l),e.Rd(n,h,l),l)};e.UT=function(g,n,h,l,m){return e.Rd(e.JB(g,n,h,m),e.JB(n,h,l,
m),m)};e.TT=function(g,n,h){return(g+n+(g-n)*Math.cos(h*Math.PI))/2};e.ek=function(g){return 0<g&&0===(g-1&g)};e.tU=function(g){--g;for(let n=1;32>n;n<<=1)g|=g>>n;return g+1};e.zqa=function(g,n){return Math.round(g*n)/n};e.yoa=function(g,n){return Math.floor(g*n)/n};e.DU=function(g){return Math.round(1E6*g)/1E6};e.toFixed=function(g,n){g=g.toFixed(n);for(n=g.length-1;0<=n&&"0"===g.charAt(n);--n);0<=n&&"."===g.charAt(n)&&--n;return 0>n?g:g.substr(0,n+1)};e.z1=function(g,n,h){return e.da(g,0,255)|e.da(n,
0,255)<<8|e.da(h,0,255)<<16};e.Gx=function(g,n,h,l){g=e.da(Math.floor(1024*g),-8192,8191);n=e.da(Math.floor(1024*n),-8192,8191);h=e.da(Math.floor(1024*h),-8192,8191);l=e.da(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>n&&(n+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*n+1024*h+l)};e.GM=function(g,n,h){return e.Gx(g,n,h,1)};e.SC=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};e.KC=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};e.yC=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};e.jY=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};e.Zca=function(g,n){g=Math.floor(g);for(n=Math.floor(n);0!==n;){let h=n;n=g%n;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Poa=function(g,n){g=Math.floor(g);n=Math.floor(n);if(g===n)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(n-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(n-l))return[h[1],h[0]]}h=e.Zca(g,n);return[g/h,n/h]};e.Gqa=function(g,n,h,l,m,p,q,u){var r=Math.min(g,h),v=Math.max(m,q);if(Math.max(g,h)<Math.min(m,q)||r>v)return!1;r=Math.min(n,l);v=Math.max(p,u);if(Math.max(n,l)<Math.min(p,u)||r>v)return!1;r=m-g+q-h;v=p-n+u-l;g=h-g;n=l-n;m=q-m;p=u-p;u=Math.abs(n*m-p*g);return Math.abs(m*v-p*r)>u?!1:Math.abs(g*v-n*r)<=u};e.Gl=function(g,n,h,l,m,p,q,u,r,v,w,y){const A=Math.max(r,w);if(p<
Math.min(r,w)||m>A)return!1;m=Math.max(v,y);if(u<Math.min(v,y)||q>m)return!1;q=r-g+w-h;u=v-n+y-l;g=h-g;n=l-n;r=w-r;v=y-v;y=Math.abs(n*r-v*g);return Math.abs(r*u-v*q)>y?!1:Math.abs(g*u-n*q)<=y};e.KB=function(g,n,h,l,m){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(n,l),r=Math.max(n,l),v=m.tb,w=m.ub,y=m.ic,A=m.jc,G=m.ac,z=m.cc,F=m.Zb;m=m.$b;return e.Gl(g,n,h,l,p,q,u,r,v,w,y,A)||e.Gl(g,n,h,l,p,q,u,r,y,A,G,z)||e.Gl(g,n,h,l,p,q,u,r,G,z,F,m)||e.Gl(g,n,h,l,p,q,u,r,F,m,v,w)};e.Fqa=function(g,n,h,l,m){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(n,l),r=Math.max(n,l);let v=0;for(let w=m.length-4;v<=w;v+=2)if(e.Gl(g,n,h,l,p,q,u,r,m[v],m[v+1],m[v+2],m[v+3]))return!0;return e.Gl(g,n,h,l,p,q,u,r,m[v],m[v+1],m[0],m[1])};e.Gda=function(g,n,h,l,m,p,q,u){h-=g;p=u-p;const r=h*p-(l-n)*(q-m);if(0===r)return 2;l=((n-l)*(q-g)+h*(u-n))/r;return 0<l&&1.000001>l?(p*(q-g)+(m-q)*(u-n))/r:2};e.Zv=function(g,n,h,l,m,p,q,u,r){const v=(q-m)*r;r*=u-p;return e.Gda(g,n,h,l,m-v,p-r,q+v,u+r)};e.ida=function(g,n,h,l,m,p,q,u){m-=
h;p-=l;q-=h;u-=l;g-=h;h=n-l;n=m*m+p*p;l=m*q+p*u;m=m*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(n*p-l*l);p=(p*m-l*q)*u;m=(n*q-l*m)*u;return 0<=p&&0<=m&&1>=p+m};e.hea=function(g,n,h,l,m,p,q,u){m-=h;p-=l;q-=h;u-=l;g-=h;const r=n-l;n=m*m+p*p;l=m*q+p*u;h=q*q+u*u;m=g*m+r*p;p=g*q+r*u;q=n*h-l*l;u=(h*m-l*p)/q;m=(n*p-l*m)/q;return[1-u-m,u,m]};e.gea=function(g,n,h,l,m,p,q,u,r){return[g*l+n*p+h*u,g*m+n*q+h*r]}}
{"use strict";const e=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.Hga=function(){return a};e.zC=function(){if(!b)return"";const l=b.location;return e.jZ(l.origin+l.pathname)+a};e.jZ=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};e.Kga=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};e.IY=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};e.Qw=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};e.F0=function(l){return l.replace(/\\/g,"/")};e.tha=function(l,m){return m===(l?e.IY(l).slice(1):"")};e.xga=function(l,m){let p,q;e.nD(l)&&(p=e.Qw(l.name));e.ai(l)&&(p=
e.Qw(l));e.nD(m)&&(q=e.Qw(m.name));e.ai(m)&&(q=e.Qw(m));return p===q};e.Zia=function(l){l=e.F0(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,r="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(r=u.slice(p),l=u.slice(0,-r.length));return{dir:q,Una:u,name:l,root:m,ext:r,Koa:m+q+u}};e.tE=function(l,m){return new Promise(p=>{self.setTimeout(p,
l,m)})};e.Pqa=function(l){try{l()}catch(m){e.Rv&&console.warn("Swallowed exception: ",m)}};e.Kpa=function(){};e.Vi=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};e.soa=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};e.iea=function(l,m){var p=0;l[p++]=m[0];l[p++]=m[1];l[p++]=m[2];l[p++]=m[3];l[p++]=m[4];l[p++]=m[5];l[p++]=m[6];l[p++]=m[7];l[p++]=m[8];l[p++]=m[9];
l[p++]=m[10];l[p++]=m[11];l[p++]=m[12];l[p++]=m[13];l[p++]=m[14];l[p]=m[15]};e.Je=function(l,m){l.length=m};e.D=function(l){l&&0!==l.length&&e.Je(l,0)};e.Dca=function(l){if(l){for(let m=0;m<l.length;m++)e.Je(l[m],0);e.Je(l,0)}};e.xB=function(l,m,p){m|=0;var q=l.length;if(!(m<=q))for(;q<m;++q)l.push(p)};e.CU=function(l){var m=4;const p=l.length;m<p?e.Je(l,m):m>p&&e.xB(l,m,"0")};e.Dc=function(l,m){e.D(l);e.Al(l,m)};e.Al=function(l,m){if(1E4>m.length)l.push(...m);else for(let p=0,q=m.length;p<q;++p)l.push(m[p])};
e.vca=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var p=l.length-1;m<p;++m)l[m]=l[m+1];e.Je(l,p)}};e.ck=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};e.Tna=function(l,m){let p=l.length;if(m.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==m[q])return!1;return!0};e.uca=function(l,m){let p=[],q=0;for(let u=0,r=l.length;u<r;++u){let v=l[u];m(v)?p.push(v):(l[q]=v,++q)}e.Je(l,q);return p};e.Tf=function(l,m){const p=l.length;let q=0;for(let u=0,r=l.length;u<r;++u){let v=l[u];m.has(v)||
(l[q++]=v)}e.Je(l,q);return p-q};e.eda=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};e.dra=function(l,m){if(!e.eda(l,m))throw new RangeError("array index out of bounds");};e.qJ=function(l){return l.slice()};e.Ica=function(l,m){let p=[];for(let q of l)if(e.dM(q)){l=m(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else e.Kn(q)?p.push(e.Ica(q,m)):p.push(q);return p};e.doa=function(l){let m=[];for(let p of l)m.push(p.slice());
return m};e.Gpa=function(l,m){return new Set([...l,...m])};e.Hpa=function(l,m){for(const p of m)l.add(p);return l};e.first=function(l){for(let m of l)return m;return null};e.xor=function(l,m){return!l!==!m};e.compare=function(l,m,p){switch(m){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};e.Yoa=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};e.P1=function(l,m){return l.length?new Promise((p,
q)=>{const u=[];let r=0,v=!1;for(let w=0,y=l.length;w<y;++w)u.push(void 0),l[w].then(A=>{v||(u[w]=A,++r,r===l.length?p(u):m(r,l.length))}).catch(A=>{v=!0;q(A)})}):Promise.resolve([])};let d=[];e.Oea=function(l){d.push(l)};e.Jga=function(){let l=0;for(let m of d){let p=m();l+=p}return Math.floor(l)};let c=1;const g=new Map,n=new MessageChannel;n.port2.onmessage=function(l){l=l.data;const m=g.get(l);g.delete(l);m&&m(performance.now())};e.ND=function(l){const m=c++;g.set(m,l);n.port1.postMessage(m);
return m};e.TV=function(l){g.delete(l)};e.I1=e.ND;e.r4=function(){return new Promise(l=>e.I1(l))};const h=new Set;e.Wja=function(l){const m=self.requestAnimationFrame(async p=>{await e.r4();h.has(m)&&(h.delete(m),l(p))});h.add(m);return m};e.Afa=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const e=self.B;e.RL=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.vD=function(b){return!e.RL(b)};e.W3=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.Iw=function(b){return fetch(b,void 0).then(a=>{e.W3(a);return a})};e.ds=function(b){return e.Iw(b).then(a=>a.text())};e.YK=function(b){return e.Iw(b).then(a=>a.json())};e.ik=function(b){return e.Iw(b).then(a=>a.blob())};e.cs=function(b){return e.Iw(b).then(a=>
a.arrayBuffer())};e.bY=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=g=>d(g);c.src=b})};e.HV=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.sK=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.rfa=function(b){return e.sK(b).then(a=>
JSON.parse(a))};e.IV=async function(b){b=URL.createObjectURL(b);try{const a=await e.bY(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};e.Ng=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.lw=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.da(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.fk(()=>e.xK(b,a,d))};e.xK=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.da(d,0,1);return e.zW(b.toDataURL(a,d))};e.zW=function(b){b=e.A1(b);return e.GV(b.data,b.tda)};e.A1=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{tda:b,data:d}};e.GV=function(b,a){var d=b.length;let c=d>>2,g=new Uint8Array(d),n=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)n[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(d&=3;d--;)g[l]=b.charCodeAt(l),++l;return a?new Blob([g],{type:a}):new Blob([g])};e.SK=function(b,a,d){const c=e.Ng(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return e.lw(c,a,d)};e.aha=function(b,
a,d){const c=e.Ng(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.xK(c,a,d)};e.$ga=function(b,a,d){if(e.Xb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>e.SK(c,a,d));if(e.Xb.ImageBitmap)return createImageBitmap(b).then(c=>e.SK(c,a,d));{const c=e.Ng(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.lw(c,a,d)}};e.oW=function(b,a){b.clear();for(const d of a)b.add(d)};e.mia=function(b){const a=Object.create(null);for(const [d,c]of b.entries())a[d]=
c;return a};e.Fia=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.qE=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [g,n]of Object.entries(a))c[g]=d(n);return c}}return a};e.vC=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(g=>c(g)));if("map"===
d._c3type_)return new Map(d.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [n,h]of Object.entries(d))g[n]=c(h);return g}}return d};e.MV=function(d){let c="",g=!1;for(const n of d)"-"===n?g=!0:g?(c+=n.toUpperCase(),g=!1):c+=n;return c};e.Yl=function(d){return"object"===typeof d&&"function"===typeof d.next};e.w0=function(d){const c=[];for(let g=0;g<d;++g)c.push(0);return c}}
{"use strict";const e=self.B;e.Za=class{constructor(b,a,d,c){this.Sa=this.Ta=this.Ua=this.Qa=0;b instanceof e.Za?this.set(b):this.mn(b||0,a||0,d||0,c||0)}Sr(b,a,d){this.Qa=+b;this.Ua=+a;this.Ta=+d;this.da()}mn(b,a,d,c){this.Qa=+b;this.Ua=+a;this.Ta=+d;this.Sa=+c;this.da()}set(b){this.Qa=b.Qa;this.Ua=b.Ua;this.Ta=b.Ta;this.Sa=b.Sa;return this}ma(b){return this.set(b)}add(b){this.Qa+=b.Qa;this.Ua+=b.Ua;this.Ta+=b.Ta;this.Sa+=b.Sa;this.da()}JT(b,a,d){this.Qa+=+b;this.Ua+=+a;this.Ta+=+d;this.Sa+=0;this.da()}Ti(b){this.Qa=
b.Qa;this.Ua=b.Ua;this.Ta=b.Ta}HU(b){this.Qa=e.da(+b,0,1)}Qda(b){this.Ua=e.da(+b,0,1)}Nda(b){this.Ta=e.da(+b,0,1)}Qr(b){this.Sa=e.da(+b,0,1)}clone(){return e.j(e.Za,this.Qa,this.Ua,this.Ta,this.Sa)}toArray(){return[this.Qa,this.Ua,this.Ta,this.Sa]}Kh(b,a){b[a++]=this.Qa;b[a++]=this.Ua;b[a++]=this.Ta;b[a]=this.Sa}cd(b){return this.Qa===b.Qa&&this.Ua===b.Ua&&this.Ta===b.Ta&&this.Sa===b.Sa}Dl(b){return this.Qa===b.Qa&&this.Ua===b.Ua&&this.Ta===b.Ta}wB(b,a,d,c){return this.Qa===b&&this.Ua===a&&this.Ta===
d&&this.Sa===c}multiply(b){this.Qa*=b.Qa;this.Ua*=b.Ua;this.Ta*=b.Ta;this.Sa*=b.Sa}UJ(){this.Qa*=this.Sa;this.Ua*=this.Sa;this.Ta*=this.Sa}da(){this.Qa=e.da(this.Qa,0,1);this.Ua=e.da(this.Ua,0,1);this.Ta=e.da(this.Ta,0,1);this.Sa=e.da(this.Sa,0,1);return this}Rr(b){this.Qa=e.SC(b);this.Ua=e.KC(b);this.Ta=e.yC(b);this.Sa=e.jY(b)}Vca(){return`rgb(${100*(e.Vl(void 0)?NaN:this.Qa)}%, ${100*(e.Vl(void 0)?NaN:this.Ua)}%, ${100*(e.Vl(void 0)?NaN:this.Ta)}%)`}vU(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var d=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.HU(b);isFinite(d)&&this.Qda(d);isFinite(a)&&this.Nda(a);this.Qr(1)}}}toJSON(){return[this.Qa,this.Ua,this.Ta,this.Sa]}Hl(b){!Array.isArray(b)||3>b.length||(this.Qa=b[0],this.Ua=b[1],this.Ta=b[2],this.Sa=4<=b.length?b[3]:1)}set r(b){this.HU(b)}get r(){return this.Qa}set rp(b){this.Qr(b)}get rp(){return this.Sa}static pC(b,a){return e.da(Math.max(b,
a)-Math.min(b,a),0,1)}};e.Za.vna=Object.freeze(e.j(e.Za,1,1,1,1));e.Za.qfa=Object.freeze(e.j(e.Za,0,0,0,1));e.Za.Wma=Object.freeze(e.j(e.Za,0,0,0,0))}
{"use strict";const e=self.B;e.by=class{constructor(b,a){this.M=this.O=0;b instanceof e.by?this.ma(b):this.set(b||0,a||0)}set(b,a){this.O=+b;this.M=+a}ma(b){this.O=b.O;this.M=b.M}cd(b){return this.O===b.O&&this.M===b.M}toArray(){return[this.O,this.M]}Kh(b,a){b[a++]=this.O;b[a]=this.M}offset(b,a){this.O+=+b;this.M+=+a}scale(b,a){this.O*=b;this.M*=a}Cl(b,a){this.O/=b;this.M/=a}round(){this.O=Math.round(this.O);this.M=Math.round(this.M)}floor(){this.O=Math.floor(this.O);this.M=Math.floor(this.M)}ceil(){this.O=
Math.ceil(this.O);this.M=Math.ceil(this.M)}angle(){return e.jJ(0,0,this.O,this.M)}nda(){return this.O*this.O+this.M*this.M}length(){return Math.sqrt(this.nda())}Kda(b,a){const d=this.O*a-this.M*b;this.M=this.M*a+this.O*b;this.O=d}rotate(b){0!==b&&this.Kda(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.O+=Math.cos(b)*a,this.M+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.O/=b,this.M/=b)}da(b,a){this.O=e.da(this.O,b,a);this.M=e.da(this.M,b,a)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(b,a,d,c){this.Z=this.ca=this.T=this.X=0;b instanceof e.Rect?this.ma(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.X=+b;this.T=+a;this.ca=+d;this.Z=+c}Ih(b,a,d,c){b=+b;a=+a;this.X=b;this.T=a;this.ca=b+ +d;this.Z=a+ +c}ma(b){this.X=+b.X;this.T=+b.T;this.ca=+b.ca;this.Z=+b.Z}clone(){return new e.Rect(this.X,this.T,this.ca,this.Z)}cd(b){return this.X===b.X&&this.T===b.T&&this.ca===b.ca&&this.Z===b.Z}toArray(){return[this.X,this.T,this.ca,this.Z]}$da(){new DOMRect(this.X,
this.T,this.width(),this.height())}Kh(b,a){b[a++]=this.X;b[a++]=this.T;b[a++]=this.ca;b[a]=this.Z}kea(b,a){b[a++]=this.X;b[a++]=this.T;b[a++]=this.ca;b[a++]=this.T;b[a++]=this.ca;b[a++]=this.Z;b[a++]=this.X;b[a]=this.Z}width(){return this.ca-this.X}height(){return this.Z-this.T}Or(){return(this.X+this.ca)/2}Pr(){return(this.T+this.Z)/2}offset(b,a){b=+b;a=+a;this.X+=b;this.T+=a;this.ca+=b;this.Z+=a}offsetLeft(b){this.X+=+b}offsetTop(b){this.T+=+b}Ada(b){this.ca+=+b}zda(b){this.Z+=+b}CJ(b,a){b=+b;a=
+a;this.X-=b;this.T-=a;this.ca+=b;this.Z+=a}multiply(b,a){this.X*=b;this.T*=a;this.ca*=b;this.Z*=a}Cl(b,a){this.X/=b;this.T/=a;this.ca/=b;this.Z/=a}jn(){this.T=1-this.T;this.Z=1-this.Z}Xda(){const b=this.X;this.X=this.ca;this.ca=b}Yda(){const b=this.T;this.T=this.Z;this.Z=b}round(){this.X=Math.round(this.X);this.T=Math.round(this.T);this.ca=Math.round(this.ca);this.Z=Math.round(this.Z)}floor(){this.X=Math.floor(this.X);this.T=Math.floor(this.T);this.ca=Math.floor(this.ca);this.Z=Math.floor(this.Z)}ceil(){this.X=
Math.ceil(this.X);this.T=Math.ceil(this.T);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}da(b,a,d,c){this.X<b&&(this.X=+b);this.T<a&&(this.T=+a);this.ca>d&&(this.ca=+d);this.Z>c&&(this.Z=+c)}normalize(){this.X>this.ca&&this.Xda();this.T>this.Z&&this.Yda()}CB(b){return!(b.ca<this.X||b.Z<this.T||b.X>this.ca||b.T>this.Z)}dda(b,a,d){return!(b.ca+a<this.X||b.Z+d<this.T||b.X+a>this.ca||b.T+d>this.Z)}pf(b,a){return b>=this.X&&b<=this.ca&&a>=this.T&&a<=this.Z}}}
{"use strict";const e=self.B;e.sd=class{constructor(b,a,d,c,g,n,h,l){this.$b=this.Zb=this.cc=this.ac=this.jc=this.ic=this.ub=this.tb=0;b instanceof e.sd?this.ma(b):this.set(b||0,a||0,d||0,c||0,g||0,n||0,h||0,l||0)}set(b,a,d,c,g,n,h,l){this.tb=+b;this.ub=+a;this.ic=+d;this.jc=+c;this.ac=+g;this.cc=+n;this.Zb=+h;this.$b=+l}IU(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}ma(b){this.tb=b.tb;this.ub=b.ub;this.ic=b.ic;this.jc=b.jc;this.ac=b.ac;this.cc=b.cc;this.Zb=b.Zb;this.$b=b.$b}cd(b){return this.tb===b.tb&&this.ub===
b.ub&&this.ic===b.ic&&this.jc===b.jc&&this.ac===b.ac&&this.cc===b.cc&&this.Zb===b.Zb&&this.$b===b.$b}toArray(){return[this.tb,this.ub,this.ic,this.jc,this.ac,this.cc,this.Zb,this.$b]}Kh(b,a){b[a++]=this.tb;b[a++]=this.ub;b[a++]=this.ic;b[a++]=this.jc;b[a++]=this.ac;b[a++]=this.cc;b[a++]=this.Zb;b[a]=this.$b}lea(b,a,d){b[a++]=this.tb;b[a++]=this.ub;b[a++]=d;b[a++]=this.ic;b[a++]=this.jc;b[a++]=d;b[a++]=this.ac;b[a++]=this.cc;b[a++]=d;b[a++]=this.Zb;b[a++]=this.$b;b[a]=d}offset(b,a){b=+b;a=+a;this.tb+=
b;this.ub+=a;this.ic+=b;this.jc+=a;this.ac+=b;this.cc+=a;this.Zb+=b;this.$b+=a}round(){this.tb=Math.round(this.tb);this.ub=Math.round(this.ub);this.ic=Math.round(this.ic);this.jc=Math.round(this.jc);this.ac=Math.round(this.ac);this.cc=Math.round(this.cc);this.Zb=Math.round(this.Zb);this.$b=Math.round(this.$b)}floor(){this.tb=Math.floor(this.tb);this.ub=Math.floor(this.ub);this.ic=Math.floor(this.ic);this.jc=Math.floor(this.jc);this.ac=Math.floor(this.ac);this.cc=Math.floor(this.cc);this.Zb=Math.floor(this.Zb);
this.$b=Math.floor(this.$b)}ceil(){this.tb=Math.ceil(this.tb);this.ub=Math.ceil(this.ub);this.ic=Math.ceil(this.ic);this.jc=Math.ceil(this.jc);this.ac=Math.ceil(this.ac);this.cc=Math.ceil(this.cc);this.Zb=Math.ceil(this.Zb);this.$b=Math.ceil(this.$b)}Yi(b){this.tb=b.X;this.ub=b.T;this.ic=b.ca;this.jc=b.T;this.ac=b.ca;this.cc=b.Z;this.Zb=b.X;this.$b=b.Z}Pda(b,a){0===a?this.Yi(b):this.GU(b,Math.sin(a),Math.cos(a))}GU(b,a,d){const c=b.X*a,g=b.T*a,n=b.ca*a;a*=b.Z;const h=b.X*d,l=b.T*d,m=b.ca*d;b=b.Z*
d;this.tb=h-g;this.ub=l+c;this.ic=m-g;this.jc=l+n;this.ac=m-a;this.cc=b+n;this.Zb=h-a;this.$b=b+c}AJ(b){b.set(Math.min(this.tb,this.ic,this.ac,this.Zb),Math.min(this.ub,this.jc,this.cc,this.$b),Math.max(this.tb,this.ic,this.ac,this.Zb),Math.max(this.ub,this.jc,this.cc,this.$b))}pf(b,a){var d=this.ic-this.tb,c=this.jc-this.ub;const g=this.ac-this.tb,n=this.cc-this.ub;b-=this.tb;a-=this.ub;var h=d*d+c*c;let l=d*g+c*n;c=d*b+c*a;const m=g*g+n*n,p=g*b+n*a;let q=1/(h*m-l*l);d=(m*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=d&&0<h&&1>d+h)return!0;d=this.Zb-this.tb;c=this.$b-this.ub;h=d*d+c*c;l=d*g+c*n;c=d*b+c*a;q=1/(h*m-l*l);d=(m*c-l*p)*q;h=(h*p-l*c)*q;return 0<=d&&0<h&&1>d+h}Or(){return(this.tb+this.ic+this.ac+this.Zb)/4}Pr(){return(this.ub+this.jc+this.cc+this.$b)/4}EJ(b){var a=b.Or(),d=b.Pr();if(this.pf(a,d))return!0;a=this.Or();d=this.Pr();if(b.pf(a,d))return!0;a=this.tb;d=this.ub;const c=this.ic,g=this.jc,n=this.ac,h=this.cc,l=this.Zb,m=this.$b;return e.KB(a,d,c,g,b)||e.KB(c,g,n,h,b)||e.KB(n,h,l,m,b)||e.KB(l,
m,a,d,b)}Jda(){const b=this.tb,a=this.ub;this.tb=this.ic;this.ub=this.jc;this.ic=this.ac;this.jc=this.cc;this.ac=this.Zb;this.cc=this.$b;this.Zb=b;this.$b=a}}}
{"use strict";const e=self.B,b=[0,0,1,0,1,1,0,1],a=e.j(e.sd);e.tn=class extends e.aa{constructor(d,c=!0){super();d||(d=b);this.de=Float64Array.from(d);this.Qy=new e.Rect;this.Lo=!0;this.sg=c}m(){}LB(d){this.de.length===d.length?this.de.set(d):this.de=Float64Array.from(d);this.Lo=!0}Oda(){this.LB(b)}ma(d){this.LB(d.de)}aK(){this.Lo=!0}jca(){if(this.Lo){var d=this.de,c=d[0],g=d[1],n=c,h=g;for(let l=0,m=d.length;l<m;l+=2){const p=d[l],q=d[l+1];p<c&&(c=p);p>n&&(n=p);q<g&&(g=q);q>h&&(h=q)}this.Qy.set(c,
g,n,h);this.Lo=!1}}Yi(d){let c=this.de;8!==c.length&&(this.de=c=new Float64Array(8));c[0]=d.X-NaN;c[1]=d.T-NaN;c[2]=d.ca-NaN;c[3]=d.T-NaN;c[4]=d.ca-NaN;c[5]=d.Z-NaN;c[6]=d.X-NaN;c[7]=d.Z-NaN;this.Qy.ma(d);this.Qy.offset(NaN,NaN);this.Lo=!1}bK(d,c,g){a.ma(d);a.offset(c,g);this.LB(a.toArray());this.Lo=!0}transform(d,c,g){let n=0,h=1;0!==g&&(n=Math.sin(g),h=Math.cos(g));this.iK(d,c,n,h)}iK(d,c,g,n){const h=this.de;for(let l=0,m=h.length;l<m;l+=2){const p=l+1,q=h[l]*d,u=h[p]*c;h[l]=q*n-u*g;h[p]=u*n+q*
g}this.Lo=!0}offset(d,c){const g=this.de;for(let n=0,h=g.length;n<h;n+=2)g[n]+=d,g[n+1]+=c}pf(d,c){const g=this.de;if(d===g[0]&&c===g[1])return!0;this.jca();var n=this.Qy;const h=n.X-110,l=n.T-101,m=n.ca+131;n=n.Z+120;let p,q,u,r,v,w,y,A;h<d?(p=h,u=d):(p=d,u=h);l<c?(q=l,r=c):(q=c,r=l);m<d?(v=m,y=d):(v=d,y=m);n<c?(w=n,A=c):(w=c,A=n);let G=0,z=0;for(let I=0,J=g.length;I<J;I+=2){var F=(I+2)%J;const M=g[I],P=g[I+1],R=g[F];F=g[F+1];e.Gl(h,l,d,c,p,u,q,r,M,P,R,F)&&++G;e.Gl(m,n,d,c,v,y,w,A,M,P,R,F)&&++z}return 1===
G%2||1===z%2}Qv(d,c,g){const n=d.de,h=this.de;if(this.pf(n[0]+c,n[1]+g)||d.pf(h[0]-c,h[1]-g))return!0;for(let m=0,p=h.length;m<p;m+=2){var l=(m+2)%p;d=h[m];const q=h[m+1],u=h[l];l=h[l+1];let r,v,w,y;d<u?(r=d,w=u):(r=u,w=d);q<l?(v=q,y=l):(v=l,y=q);for(let A=0,G=n.length;A<G;A+=2){const z=(A+2)%G;if(e.Gl(d,q,u,l,r,w,v,y,n[A]+c,n[A+1]+g,n[z]+c,n[z+1]+g))return!0}}return!1}On(){return this.sg}}}
{"use strict";const e=self.B;e.Os=class extends e.aa{constructor(b){super();this.Hj=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}m(){this.jd();this.Hj=null}jd(){const b=this.Hj;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.Hj;let g=c.get(b);g||(g=new Map,c.set(b,g));g.set(a,d)}Y(b,a){return(b=this.Hj.get(b))?b.get(a):b}qx(b){return(b=this.Hj.get(b))?b.has(void 0):!1}un(b,a){const d=this.Hj,c=d.get(b);c&&c.delete(a)&&0===c.size&&d.delete(b)}QK(b){const a=this.Hj,d=a.get(b);
d&&(d.clear(),a.delete(b));for(const [c,g]of a.entries())g.delete(b)&&0===g.size&&a.delete(c)}Cn(){let b=0;for(const a of this.Hj.values())b+=a.size;return b}*values(){for(const b of this.Hj.values())yield*b.values()}*entries(){for(const [b,a]of this.Hj.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.B;e.aC=class extends e.aa{constructor(){super();this.Mm=new Set;this.Oy=[];this.Xu=!1}m(){this.jd()}jd(){this.Mm.clear();e.D(this.Oy);this.Xu=!1}Uc(b){this.Mm.has(b)||(this.Mm.add(b),this.Xu||this.Oy.push(b))}qx(b){return this.Mm.has(b)}un(b){this.Mm.delete(b)&&(this.Xu=!0)}Cn(){return this.Mm.size}Nn(){return 0===this.Mm.size}xC(){this.Xu&&(this.o9(),this.Xu=!1);return this.Oy}o9(){const b=this.Oy;e.D(b);for(const a of this.Mm)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.$r=class n{constructor(){}static V_(h){this.AE();return[...b.keys()].includes(h)}static S6(h){const l=g.get(h);if(l)return e.get(l);if(n.V_(h))return e.get(h);if(c.has(h))return c.get(h)}static Bn(h){this.AE();const l=n.S6(h);return l?l:d.get(h)}static AE(){0===e.size&&(this.xb("default",()=>{}),this.xb("noease",this.E0),this.xb("easeinsine",this.EX),this.xb("easeoutsine",
this.NX),this.xb("easeinoutsine",this.AX),this.xb("easeinelastic",this.pX),this.xb("easeoutelastic",this.IX),this.xb("easeinoutelastic",this.vX),this.xb("easeinback",this.lX),this.xb("easeoutback",this.FX),this.xb("easeinoutback",this.rX),this.xb("easeinbounce",this.TK),this.xb("easeoutbounce",this.rC),this.xb("easeinoutbounce",this.sX),this.xb("easeincubic",this.nX),this.xb("easeoutcubic",this.HX),this.xb("easeinoutcubic",this.uX),this.xb("easeinquad",this.BX),this.xb("easeoutquad",this.KX),this.xb("easeinoutquad",
this.xX),this.xb("easeinquart",this.CX),this.xb("easeoutquart",this.LX),this.xb("easeinoutquart",this.yX),this.xb("easeinquint",this.DX),this.xb("easeoutquint",this.MX),this.xb("easeinoutquint",this.zX),this.xb("easeincirc",this.mX),this.xb("easeoutcirc",this.GX),this.xb("easeinoutcirc",this.tX),this.xb("easeinexpo",this.qX),this.xb("easeoutexpo",this.JX),this.xb("easeinoutexpo",this.wX),this.iO("cubicbezier",this.kX),this.iO("spline",this.OX))}static xb(h,l){n.vE(h,l,"predefined")}static iO(h,l){n.vE(h,
l,"private")}static gV(h,l){this.AE();n.vE(h,l,"custom",void 0)}static vE(h,l,m,p){switch(m){case "predefined":e.set(h,l);b.set(h,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(h,l)):d.set(h,l);break;case "private":e.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static E0(h,l,m,p){return m*h/p+l}static BX(h,l,m,p){return m*(h/=p)*h+l}static KX(h,l,m,p){return-m*(h/=p)*(h-2)+l}static xX(h,l,m,p){return 1>(h/=p/2)?m/2*h*h+l:-m/2*(--h*(h-2)-1)+l}static nX(h,
l,m,p){return m*(h/=p)*h*h+l}static HX(h,l,m,p){return m*((h=h/p-1)*h*h+1)+l}static uX(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h+l:m/2*((h-=2)*h*h+2)+l}static CX(h,l,m,p){return m*(h/=p)*h*h*h+l}static LX(h,l,m,p){return-m*((h=h/p-1)*h*h*h-1)+l}static yX(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h+l:-m/2*((h-=2)*h*h*h-2)+l}static DX(h,l,m,p){return m*(h/=p)*h*h*h*h+l}static MX(h,l,m,p){return m*((h=h/p-1)*h*h*h*h+1)+l}static zX(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h*h+l:m/2*((h-=2)*h*h*h*h+2)+l}static EX(h,
l,m,p){return-m*Math.cos(h/p*(Math.PI/2))+m+l}static NX(h,l,m,p){return m*Math.sin(h/p*(Math.PI/2))+l}static AX(h,l,m,p){return-m/2*(Math.cos(Math.PI*h/p)-1)+l}static qX(h,l,m,p){return 0===h?l:m*Math.pow(2,10*(h/p-1))+l}static JX(h,l,m,p){return h===p?l+m:m*(-Math.pow(2,-10*h/p)+1)+l}static wX(h,l,m,p){return 0===h?l:h===p?l+m:1>(h/=p/2)?m/2*Math.pow(2,10*(h-1))+l:m/2*(-Math.pow(2,-10*--h)+2)+l}static mX(h,l,m,p){return-m*(Math.sqrt(1-(h/=p)*h)-1)+l}static GX(h,l,m,p){return m*Math.sqrt(1-(h=h/p-
1)*h)+l}static tX(h,l,m,p){return 1>(h/=p/2)?-m/2*(Math.sqrt(1-h*h)-1)+l:m/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static pX(h,l,m,p){let q=0,u=m;if(0===h)return l;if(1===(h/=p))return l+m;q||(q=.3*p);u<Math.abs(m)?(u=m,m=q/4):m=q/(2*Math.PI)*Math.asin(m/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-m)*Math.PI/q))+l}static IX(h,l,m,p){let q,u=0,r=m;if(0===h)return l;if(1===(h/=p))return l+m;u||(u=.3*p);r<Math.abs(m)?(r=m,q=u/4):q=u/(2*Math.PI)*Math.asin(m/r);return r*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+m+l}static vX(h,l,m,p){let q,u=0,r=m;if(0===h)return l;if(2===(h/=p/2))return l+m;u||(u=.3*p*1.5);r<Math.abs(m)?(r=m,q=u/4):q=u/(2*Math.PI)*Math.asin(m/r);return 1>h?-.5*r*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:r*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+m+l}static lX(h,l,m,p,q){void 0===q&&(q=1.70158);return m*(h/=p)*h*((q+1)*h-q)+l}static FX(h,l,m,p,q){void 0===q&&(q=1.70158);return m*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static rX(h,l,m,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?m/2*h*h*(((q*=1.525)+1)*h-q)+l:m/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static TK(h,l,m,p){return m-n.rC(p-h,0,m,p)+l}static rC(h,l,m,p){return(h/=p)<1/2.75?7.5625*m*h*h+l:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+l:m*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static sX(h,l,m,p){return h<p/2?.5*n.TK(2*h,0,m,p)+l:.5*n.rC(2*h-p,0,m,p)+.5*m+l}static kX(h,l,m,p,q){return l+3*h*(m-l)+3*h**2*(l+p-2*m)+h**3*(q-l+3*m-3*p)}static OX(h,l,m,p,q,u,r,v,w,y){if(p===
q&&u===r)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;v=v-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*v*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((v*y+u)*y+l)*y-h)/(3*v*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((v*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((w-3*r+3*q-m)*h+(3*r-6*q+3*m))*h+3*(q-m))*h}static qY(h,l,m,p){const q=[];p=p-3*m+3*l-h;m=3*m-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+m)*l+h)*l);return q}}}{"use strict";const e=self.B;e.Eja=class{constructor(){this.$R=[]}m(){this.jd();this.$R=null}jd(){e.Dca(this.$R)}}}"use strict";
self.B.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.fda=this.VJ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.fda)throw Error(`cannot stop async event '${this.type}' propagation`);this.VJ=!0}};
{"use strict";const e=self.B;e.Event.AZ=class extends e.aa{constructor(b){super();this.ra=b;this.Ye=[];this.zq=new Set;this.cf=[];this.Wq=new Set;this.ku=0;this.gr=[]}m(){0<this.ku||(e.D(this.Ye),this.zq.clear(),e.D(this.cf),this.Wq.clear(),e.D(this.gr),e.m(this))}gO(b,a){this.wP()?this.gr.push({QJ:"add",Gh:b,capture:a}):a?this.zq.has(b)||(this.Ye.push(b),this.zq.add(b)):this.Wq.has(b)||(this.cf.push(b),this.Wq.add(b))}D9(b,a){this.wP()?this.gr.push({QJ:"remove",Gh:b,capture:a}):a?this.zq.has(b)&&
(this.zq.delete(b),e.ck(this.Ye,b)):this.Wq.has(b)&&(this.Wq.delete(b),e.ck(this.cf,b))}F7(){return!this.Ye.length&&!this.cf.length}wP(){return 0<this.ku}l9(){const b=new Set,a=new Set;for(const d of this.gr)if("add"===d.QJ)this.gO(d.Gh,d.capture),d.capture?a.delete(d.Gh):b.delete(d.Gh);else if("remove"===d.QJ)d.capture?(this.zq.delete(d.Gh),a.add(d.Gh)):(this.Wq.delete(d.Gh),b.add(d.Gh));else throw Error("invalid op");e.Tf(this.cf,b);e.Tf(this.Ye,a);e.D(this.gr)}E6(b){this.pq();let a=!1;for(let d=
0,c=this.Ye.length;d<c;++d)if(this.Ye[d](b),b.VJ){a=!0;break}if(!a)for(let d=0,c=this.cf.length;d<c&&(this.cf[d](b),!b.VJ);++d);this.mq();return!b.defaultPrevented}G6(b){this.pq();for(let a=0,d=this.Ye.length;a<d;++a)this.Ye[a](b);for(let a=0,d=this.cf.length;a<d;++a)this.cf[a](b);this.mq();return!0}pq(){this.ku++}mq(){this.ku--;0===this.ku&&0<this.gr.length&&this.l9()}bq(b){b?this.pq():this.mq()}PO(b){const a=[];this.pq();for(let c=0,g=this.Ye.length;c<g;++c){var d=this.Ye[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,g=this.cf.length;c<g;++c)d=this.cf[c](b),d instanceof Promise&&a.push(d);this.mq();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async B6(b){return await this.PO(b)}async C6(b){this.pq();for(let d=0,c=this.Ye.length;d<c;++d){var a=this.Ye[d](b);a instanceof Promise&&await a}for(let d=0,c=this.cf.length;d<c;++d)a=this.cf[d](b),a instanceof Promise&&await a;this.mq();return!b.defaultPrevented}*D6(b){this.pq();for(let d=0,c=this.Ye.length;d<c;++d){var a=
this.Ye[d](b);e.Yl(a)&&(yield*a)}for(let d=0,c=this.cf.length;d<c;++d)a=this.cf[d](b),e.Yl(a)&&(yield*a);this.mq()}}}
{"use strict";const e=self.B;e.Event.Ib=class extends e.aa{constructor(){super();this.zo=new Map;this.oG=!1}m(){if(this.oG)throw Error("already released");this.ZV();this.oG=!0;e.m(this)}$N(){return this.oG}ZV(){for(let b of this.zo.values())b.m();this.zo.clear()}lo(b,a){let d=this.zo.get(b);return d?d:a?(d=e.j(e.Event.AZ,b),this.zo.set(b,d),d):null}YC(b){return this.zo.has(b)}addEventListener(b,a,d){this.lo(b,!0).gO(a,!!d)}removeEventListener(b,a,d){let c=this.lo(b,!1);c&&(c.D9(a,!!d),c.F7()&&this.zo.delete(b))}dispatchEvent(b){const a=
this.lo(b.type,!1);return a?b.cancelable?a.E6(b):a.G6(b):!0}async uJ(b){const a=this.lo(b.type,!1);return a?await a.B6(b):!0}Nca(b){const a=this.lo(b.type,!1);return a?a.PO(b):!0}async Mca(b){const a=this.lo(b.type,!1);a&&await a.C6(b)}Oca(b){const a=this.lo(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.D6(b)}bq(b){for(const a of this.zo.values())a.bq(b)}}}
{"use strict";const e=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function g(m){d=b&&0===c?requestIdleCallback(n,{timeout:35}):setTimeout(n,0<c?1:m)}function n(m){d=-1;if(a.length){var p=performance.now(),q=0;do{h(a.shift());var u=performance.now();++q;var r=(u-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof m?r<m.timeRemaining():12>u-p+r));-1===d&&a.length&&g(Math.max(16-(u-p),4))}}function h(m){let p;try{p=m.Gh()}catch(q){m.reject(q);return}m.resolve(p)}let l=e.ID.qx("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.fk=function(m){let p=null;e.Rv&&(p=e.Lw());return new Promise((q,u)=>{a.push({Gh:m,resolve:q,reject:u,stack:p});l?h(a.pop()):-1===d&&g(16)})};e.fk.pN=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let b=-1;function a(){b=-1}e.Hw=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,g=new Set;function n(){c=d=-1;let h=Date.now();for(let l of g)if(l.f5(h)){let m=l.wo;if(-1===c||m<c)c=m}else g.delete(l);-1!==c&&(d=self.setTimeout(n,Math.max(c-h+100,1E3)))}e.a_=class{constructor(h,l){this.yq=h;this.eB=1E3*l;this.wo=0;this.Cb=!1}Yc(){let h=e.Hw();this.wo=h+this.eB;this.Cb||(g.add(this),this.Cb=!0);-1===d?(c=this.wo,d=self.setTimeout(n,this.eB+
100)):this.wo<c&&c>h+1E3&&(self.clearTimeout(d),c=this.wo,d=self.setTimeout(n,this.eB+100))}f5(h){return h>=this.wo?this.yq()?(this.wo=h+this.eB,!0):this.Cb=!1:!0}SV(){this.Cb&&(g.delete(this),this.Cb=!1,0===g.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}m(){this.SV();this.yq=null}}}
{"use strict";const e=self.B;e.tc=class b{constructor(a){this.Iq=!1;this.pG=a}Dw(){this.Iq||(this.Iq=!0,this.pG&&(this.pG(),this.pG=null))}m(){this.Dw()}static m(a){return new b(()=>a.m())}static kd(a,d,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const n=new e.Yr;for(let h of d)a.addEventListener(h,c,g),n.Uc(e.j(e.tc,()=>a.removeEventListener(h,c,g)));return n}a.addEventListener(d,
c,g);return e.j(e.tc,()=>a.removeEventListener(d,c,g))}};e.Ema=class extends e.tc{};e.Yr=class extends e.tc{constructor(...b){super();this.Wd=new Set;for(let a of b)this.Uc(a)}Uc(...b){if(this.Iq)throw Error("already disposed");for(let a of b)this.Wd.add(a)}Vg(b){if(this.Iq)throw Error("already disposed");this.Wd.delete(b)}Dw(){if(this.Iq)throw Error("already disposed");this.Iq=!0;for(let b of this.Wd)b.Dw();this.Wd.clear();this.Wd=null}m(){this.Dw()}}}
{"use strict";const e=self.B;e.xD=class extends e.aa{constructor(){super();this.nr=this.sv=this.M=this.Ty=0}Uc(b){this.M=+b-this.Ty;this.sv=this.nr+this.M;this.Ty=this.sv-this.nr-this.M;this.nr=this.sv}Y(){return this.nr}Yc(){this.nr=this.sv=this.M=this.Ty=0}Set(b){this.sv=this.M=this.Ty=0;this.nr=+b}m(){}}}
{"use strict";const e=self.B,b={KD:function(a){this.SU=a;this.left=this.right=this.SU.jb;this.parent=null;this.color=!1;this.key=null},Tn:function(a){this.size=0;this.jb=new b.KD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=this.jb;this.compare=a||this.Jca}};xa=b.Tn.prototype;xa.Jca=function(a,d){return a<d?-1:d<a?1:0};xa.clone=function(){var a=new b.Tn(this.compare);a.bda(this);return a};xa.clear=function(){this.size=0;this.jb=new b.KD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=
this.jb};xa.Tv=function(a){var d=a.right;a.right=d.left;d.left!=this.jb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.jb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};xa.$v=function(a){var d=a.left;a.left=d.right;d.right!=this.jb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.jb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};xa.Jr=function(a){if(this.contains(a))this.Ov(a).key=a;else{var d=new b.KD(this);d.key=
a;a=this.jb;for(var c=this.root;c!=this.jb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.jb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.jb;d.right=this.jb;d.color=!0;this.cda(d);this.size++}};xa.cda=function(a){for(;a!=this.jb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Tv(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.jb&&this.$v(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.$v(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.jb&&this.Tv(a.parent.parent));this.root.color=!1};xa.Lca=function(a){var d=a.left==this.jb||a.right==this.jb?a:this.nn(a);var c=d.left!=this.jb?d.left:d.right;c.parent=d.parent;d.parent==
this.jb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.Kca(c);this.size--};xa.Kca=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.Tv(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.$v(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.Tv(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.$v(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Tv(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.$v(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Ov(a);if(a!=this.jb){var d=a.key;this.Lca(a);return d}return null};xa.min=function(a){for(;a.left!=this.jb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.jb;)a=a.right;return a};xa.nn=function(a){if(a.right!=this.jb)return this.min(a.right);for(var d=a.parent;d!=this.jb&&a==d.right;)a=d,d=d.parent;return d};xa.Ov=function(a){for(var d=this.root;d!=this.jb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};xa.contains=function(a){return null!=this.Ov(a).key};xa.BJ=function(){var a=[];this.forEach(function(d){a.push(d)});return a};xa.bda=function(a){if("array"==b.jK(a))for(var d=0;d<a.length;d++)this.Jr(a[d]);
else if("function"==b.jK(a.forEach))a.forEach(this.Jr,this);else if("function"==b.jK(a.BJ))for(a=a.BJ(),d=0;d<a.length;d++)this.Jr(a[d]);else if("object"==b.jK(a))for(d in a)this.Jr(a[d])};xa.range=function(a,d){var c=[];this.fea(function(g){c.push(g)},a,d);return c};xa.fea=function(a,d,c){if(!this.Mr())for(d=this.Ov(d),c=this.Ov(c);d!=c&&!a.call(void 0,d.key,this);)d=this.nn(d)};xa.forEach=function(a,d){if(!this.Mr())for(var c=this.min(this.root);c!=this.jb;c=this.nn(c))a.call(d,c.key,c.key,this)};
xa.some=function(a,d){if(this.Mr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.nn(c))if(a.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(a,d){if(this.Mr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.nn(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(a,d){var c=[];if(this.Mr())return c;for(var g=this.min(this.root);g!=this.jb;g=this.nn(g))c.push(a.call(d,g.key,g.key,this));return c};xa.filter=function(a,d){var c=[];if(this.Mr())return c;
for(var g=this.min(this.root);g!=this.jb;g=this.nn(g))a.call(d,g.key,g.key,this)&&c.push(g.key);return c};xa.Mr=function(){return 0==this.size};e.Tn=class extends e.aa{constructor(a){super();this.Dg=new b.Tn(a);this.Lq=!1;this.cp=new Set;this.ep=new Set}Uc(a){this.Lq?this.Dg.contains(a)?this.ep.delete(a):this.cp.add(a):this.Dg.Jr(a)}Vg(a){this.Lq?this.Dg.contains(a)?this.ep.add(a):this.cp.delete(a):this.Dg.remove(a)}qx(a){return this.Lq?this.cp.has(a)?!0:!this.ep.has(a)&&this.Dg.contains(a):this.Dg.contains(a)}jd(){this.Dg.clear();
this.cp.clear();this.ep.clear()}toArray(){if(this.Lq)throw Error("cannot be used in queueing mode");return this.Dg.BJ()}Cn(){return this.Dg.size+this.cp.size-this.ep.size}Nn(){return 0===this.Cn()}Wg(a){a=!!a;if(this.Lq!==a&&(this.Lq=a,!a)){for(const d of this.ep)this.Dg.remove(d);this.ep.clear();for(const d of this.cp)this.Dg.Jr(d);this.cp.clear()}}aL(a){this.Dg.forEach(a)}*values(){if(!this.Nn()){var a=this.Dg;for(let d=a.min(a.root);d!=a.jb;d=a.nn(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.HM=class{constructor(b=e.hardwareConcurrency){this.Jba=b;this.jI=[];this.EF=0}Uc(b){return new Promise((a,d)=>{this.jI.push({Gh:b,resolve:a,reject:d});this.HP()})}async HP(){if(this.jI.length&&!(this.EF>=this.Jba)){this.EF++;var b=this.jI.shift();try{const a=await b.Gh();b.resolve(a)}catch(a){b.reject(a)}this.EF--;this.HP()}}}}
{"use strict";const e=self.B;e.W1=class{constructor(b,a,d){this.yq=b;this.tba=a;this.uba=d||2*a;this.xr=-1;this.fA=-Infinity;this.qT=()=>this.Y8();this.Yaa=this.SG=!1;this.Yt=null}W6(){return"undefined"!==typeof e.EV&&e.EV.Fha()?this.uba:this.tba}RV(){var b=[];if(-1===this.xr){this.Yt=b;b=e.Hw();var a=b-this.fA,d=this.W6();a>=d&&this.Yaa?(this.fA=b,this.fQ()):this.xr=self.setTimeout(this.qT,Math.max(d-a,4))}}fQ(){this.SG=!0;const b=this.Yt;this.Yt=null;b?this.yq(...b):this.yq();this.SG=!1}Yc(){this.SG||
(this.qO(),this.Yt=null,this.fA=e.Hw())}Y8(){this.xr=-1;this.fA=e.Hw();this.fQ()}qO(){-1!==this.xr&&(self.clearTimeout(this.xr),this.xr=-1)}m(){this.qO();this.qT=this.Yt=this.yq=null}}}"use strict";function hc(e,b){if(!e.vR)throw Error("no get base size callback set");return e.vR(b)}self.B.Wka=class{constructor(){this.qba=new Map;this.OS=this.RS=this.vR=null}Jx(){if(!this.OS)throw Error("no redraw callback set");this.OS()}};"use strict";
self.B.Vka=class{constructor(e,b){this.zg=e;this.eba=b;this.Bc=0;hc(this.zg,b).then(()=>{this.zg.Jx()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.zg.Jx()});this.kI=null}m(){if(0>=this.Bc)throw Error("already released");this.Bc--;0===this.Bc&&this.Dt()}Dt(){if(this.kI){var e=this.zg;if(!e.RS)throw Error("no release result callback set");e.RS(this.kI);this.kI=null}this.zg.qba.delete(this.eba);this.zg=null}};
{"use strict";const e=self.B;e.ana="\ufeff";const b=new Set([..."0123456789"]);e.W_=function(m){return b.has(m)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Ax=function(m){return a.has(m)};e.yga=function(m){return[...m].filter(p=>!e.Ax(p)).join("")};e.wD=function(m){for(const p of m)if(!e.Ax(p))return!1;return!0};e.g0=function(m){return 1===m.length&&32>m.charCodeAt(0)};e.dY=function(m){return[...m].filter(p=>
!e.g0(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.Qha=function(m){m=m.trim();if(!m.length)return!1;let p=m.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of m)if(!d.has(q))return!1;return!0};e.f2=function(m){let p=m.length;for(;0<p&&e.W_(m.charAt(p-1));)--p;return m.substr(0,p)};e.cha=function(m){let p=e.f2(m);m=(m=m.substr(p.length))?(parseInt(m,10)+1).toString():"2";return p+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(m){return c.get(m)}
const n=/[&<>"']/g;e.UX=function(m){return m.replace(n,g)};e.nga=function(m){m=e.bi(m,"\\","\\\\");m=e.bi(m,'"','\\"');m=e.bi(m,"\t","\\t");m=e.bi(m,"\r","");return e.bi(m,"\n","\\n")};e.oga=function(m){m=e.bi(m,"&","&amp;");m=e.bi(m,"<","&lt;");m=e.bi(m,">","&gt;");return e.bi(m,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.bs=function(m){return m.replace(h,"\\$&")};e.zga=function(m,p,q=!1){if(!p)return[];q||(m=m.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let r=[];for(;-1<(u=m.indexOf(p,
u));)r.push(u),u+=q;return r};e.bi=function(m,p,q){return m.replaceAll(p,()=>q)};e.Tja=function(m,p,q){return m.replace(new RegExp(e.bs(p),"gi"),()=>q)};e.rla=function(m,p){"string"===typeof p?m.textContent=p:p.WR?m.textContent=p.toString():(m.innerHTML=p.fK(),p instanceof e.Ll&&p.wca(m))};e.zma=function(m,p){return m instanceof e.cD||m instanceof e.Ll?m.cd(p):p instanceof e.cD||p instanceof e.Ll?p.cd(m):m===p};e.Ama=function(m,...p){let q=m;for(let u=0,r=p.length;u<r;++u){const v=`{${u}}`;if(!m.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
q=q.replace(v,p[u].toString())}return q};e.Bma=function(m,...p){let q=m,u=-1,r=-1;for(let v=0,w=p.length;v<w;++v){const y=`{${v}}`;m.includes(y)?(r=v,q=q.replace(y,p[v].toString())):-1===u&&(u=v)}if(0<=u&&0<=r&&u<r)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.Cma=function(m,p){for(let [q,u]of Object.entries(p))m=m.replaceAll(q,u.toString());return m};e.lma=function(m,p){m=m.toLowerCase();p=p.toLowerCase();return m>p?1:m<p?-1:0};e.Dga=function(m,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.hpa;if(1024>m)return q(p+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),q(p+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),q(p+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),q(p+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return q(p+"terabytes",m)};const l={tca:!1,Gca:!0,ada:!0,uda:!0,EU:!0};e.Ega=function(m,p){p=Object.assign({},
l,p);e.j0.Hja("common.time");const q=[],u=self.lang,r=self.gpa;if(p.Gca){var v=Math.floor(m/86400);0<v&&(m-=86400*v,q.push(r(".days",null,v)))}p.ada&&(v=Math.floor(m/3600),0<v||q.length)&&(m-=3600*v,q.push(r(".hours",null,v)));p.uda&&(v=Math.floor(m/60),0<v||q.length||!p.EU)&&(m-=60*v,q.push(r(".minutes",null,v)));p.EU&&q.push(r(".seconds",null,Math.floor(m%60)));m=(p.tca?u(".approx-prefix"):"")+q.join(u(".separator"));e.j0.zja();return m};e.Jna=function(m,p){let q=0>m?"-":"";m=Math.abs(m);m=m.toString();
p-=m.length;for(let u=0;u<p;++u)q+="0";return q+m};e.Dma=function(m){return m.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.Qfa=function(m,p){m=m.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.CU(m);e.CU(p);m=m.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=m[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.aga=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,m=>{const p=Math.floor(16*Math.random());return("x"===m?p:p&3|8).toString(16)})};
e.xma=function(m,p){if(m.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,r=m.length;u<r;++u)m.charAt(u)!==p.charAt(u)&&++q;return q};e.yma=function(m,p){if(0===m.length)return p.length;if(0===p.length)return m.length;let q,u,r,v;if(m.length>p.length){var w=m;m=p;p=w}v=Array(m.length+1);for(w=0;w<=m.length;w++)v[w]=w;for(w=1;w<=p.length;w++){u=w;for(q=1;q<=m.length;q++)r=p[w-1]===m[q-1]?v[q-1]:Math.min(v[q-1]+1,Math.min(u+1,v[q]+1)),v[q-1]=u,u=r;v[m.length]=u}return v[m.length]}}
{"use strict";const e=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function n(l,m,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||m)return"<"+m+q+">";m=parseInt(p.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");q=c[m];if("string"===typeof q)return`<a href="${c[m]}">`;if("function"===typeof q)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],m?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?m?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;e.Ll=class{constructor(l,m){this.bh=m&&m.xda?l:e.UX(l);this.QG="";this.XQ=!1;this.Pu=[];if(m&&(this.XQ=!!m.foa,m.links)){if(9<m.links.length)throw Error("too many links");this.Pu=m.links}this.AR=this.bh.includes("[");this.yS=this.XQ&&this.bh.includes("\n");this.WR=!this.AR&&!this.yS&&!this.bh.includes("&");this.ER=!1;this.mu=[]}toString(){return this.bh}valueOf(){return this.bh}fK(){if(this.WR)return this.bh;if(!this.QG&&this.bh){let l=this.bh;
this.AR&&(g=0,c=this.Pu,l=l.replace(a,n),c=null);this.yS&&(l=l.replace(h,"<br>"));this.QG=l}return this.QG}wca(l){if(this.Pu.length)for(let m=0,p=this.Pu.length;m<p;++m){const q=this.Pu[m];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+m);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}cd(l){return l instanceof e.cD?this.fK()===l.fK():l instanceof e.Ll?this.bh===l.bh:this.bh===l}aea(){if(this.ER)return this.mu;const l=this.bh,m=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var r=q[1],v=q[2];const w=l.substring(p,u);p=u+q[0].length;w&&this.mu.push({text:w,dd:m.slice(0)});if(v)if(r)for(v=v.toLowerCase(),q=m.length-1;0<=q;--q){if(m[q].tag===v){m.splice(q,1);break}}else q=v,u=null,r=v.indexOf("="),-1!==r?(q=v.substring(0,r).toLowerCase(),u=v.substring(r+1)):q=q.toLowerCase(),m.push({tag:q,Hh:u})}p<l.length&&this.mu.push({text:l.substring(p),dd:m.slice(0)});for(const w of this.mu)w.text=
this.k9(w.text);this.ER=!0;return this.mu}k9(l){l=e.bi(l,"\\[","[");return e.bi(l,"\\\\","\\")}static ON(l){return l.replace(d,"")}}}
{"use strict";const e=self.B;e.uE=class{constructor(){this.Bm=[]}JP(b,a){let d=0,c=0,g=0,n=0,h=0;for(const l of b)-1===l.width&&(b=a(l.text,l.dd),l.width=b.width,l.height=b.height,l.Uf=b.Uf||0,l.qf=b.qf||0,l.tf=b.tf||0),d+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.Uf),n=Math.max(n,l.qf),h=Math.max(h,l.tf);return{width:d,height:c,Uf:g,qf:n,tf:h}}dy(b,a,d,c,g,n){this.Bm.push({aU:b,width:a,height:d,Uf:c,qf:g,tf:n})}uE(b,a,d,c,g){"string"===typeof b&&(b=[{text:b,dd:[]}]);e.D(this.Bm);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var n=b[0];const h=n.text;n=n.dd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:m,Uf:p,qf:q,tf:u}=a(h,n);l+=g;p=p||0;q=q||0;u=u||0;if(l<=d){this.dy([{text:h,dd:n,width:l,height:m,Uf:p,qf:q,tf:u}],l,m,p,q,u);return}}}if("word"===c)c=this.laa(b);else{c=[];for(const h of b)e.Al(c,[...h.text].map(l=>[{text:l,dd:h.dd}]))}this.Faa(c,a,d,g)}}laa(b){const a=[];let d=[],c=!1;for(const n of b){var g=n.text;b=n.dd;for(const h of g)"\n"===h?(0<
d.length&&a.push(d),a.push([{text:"\n",dd:b}]),d=[]):0===d.length?(d.push({text:h,dd:b}),c=e.Ax(h)):(g=e.Ax(h),g===c?(g=d.Qd(-1),g.dd===b?g.text+=h:d.push({text:h,dd:b})):(a.push(d),d=[],d.push({text:h,dd:b}),c=g))}0<d.length&&a.push(d);return a}i5(b){return b.map(a=>({text:a.text,dd:a.dd,width:a.width,height:a.height,Uf:a.Uf,qf:a.qf,tf:a.tf}))}lO(b,a){var d=b.length?b.Qd(-1):null;let c=0;d&&a[0].dd===d.dd&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.Uf=-1,d.qf=-1,d.tf=-1,c=1);for(d=a.length;c<d;++c){const g=
a[c];b.push({text:g.text,dd:g.dd,width:-1,height:-1,Uf:-1,qf:-1,tf:-1})}}Faa(b,a,d,c){let g=[],n=0,h=0,l=0,m=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===h&&(p=a(" ",q[0].dd),h=p.height,l=p.Uf||0,m=p.qf||0,p=p.tf||0);this.dy(g,n,h,l,m,p);g=[];p=m=l=h=n=0;continue}b=this.i5(g);this.lO(b,q);const u=this.JP(b,a),r=u.width;r>=d?(0<g.length&&this.dy(g,n,h,l,m,p),g=[],e.wD(q[0].text)?p=m=l=h=n=0:(this.lO(g,q),p=this.JP(g,a),n=p.width,h=p.height,l=p.Uf,m=p.qf,p=p.tf)):(g=b,n=r,h=u.height,
l=u.Uf,m=u.qf,p=u.tf)}0<g.length&&this.dy(g,n,h,l,m,p);this.oaa(a,c)}oaa(b,a){for(const c of this.Bm){const g=c.aU;if(!g.length)continue;let n=g.Qd(-1);var d=n.text;const h=d.trimEnd();if(!h)c.width-=n.width,g.pop();else if(h.length<d.length){d=b(h,n.dd).width;const l=n.width-d;n.width=d;n.text=h;c.width-=l}0!==a&&0<g.length&&(n=g.Qd(-1),n.width+=a,c.width+=a)}}jd(){e.D(this.Bm)}cZ(){return this.Bm.reduce((b,a)=>Math.max(b,a.width),0)}vZ(){return this.Bm.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.B,b=self.Xi,a=b.RB,d=b.cw,c=b.El,g=a.create(),n=a.create(),h=a.create(),l=d.create(),m=c.create(),p=a.create(),q=a.create(),u=a.create(),r=a.create(),v=a.create(),w=a.create(),y=a.create(),A=a.create(),G=d.rf(0,0,1,1);e.I={O1(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},yj(J,M,P,R,T,Z,X){c.multiply(m,T,R);if(null===c.Lr(m,m))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;d.hK(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},h4(J,M,P,R,T,Z,X){if(!e.I.yj(J,M,0,R,T,Z,g)||!e.I.yj(J,M,1,R,T,Z,n))return!1;a.Jl(n,n,g);a.set(h,0,0,1);J=-P;M=a.hn(h,n);P=0;if(0===M){if(0!==
a.hn(h,g)+J)return!1}else if(P=-(a.hn(g,h)+J)/M,0>P)return!1;a.$J(X,g,n,P);return!0}};function z(J,M,P,R){a.Jl(g,P,M);a.Jl(n,J,M);a.sJ(h,g,n);a.normalize(h,h);R.set(h[0],h[1],h[2],a.hn(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.ZU,Na=X.$U;X=X.aV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class I{constructor(){this.aV=this.$U=this.ZU=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.ZU=0<J?1:0;this.$U=0<M?1:0;this.aV=0<P?1:0}}e.I.p4=class{constructor(){this.lS=new I;this.rT=new I;this.TS=new I;this.RQ=new I;this.PH=new I;this.nR=new I}OV(J,M){e.I.yj(0,1,0,J,M,G,p);e.I.yj(1,1,0,J,M,G,q);e.I.yj(0,0,0,J,M,G,u);e.I.yj(1,0,0,J,M,G,r);e.I.yj(0,1,1,J,M,G,v);e.I.yj(1,1,1,J,M,G,w);e.I.yj(0,0,1,J,M,G,y);e.I.yj(1,0,1,J,M,G,A);z(u,p,v,this.lS);z(p,q,w,this.rT);z(q,r,A,this.TS);z(r,u,y,this.RQ);z(y,v,w,this.nR);z(r,q,p,this.PH)}mW(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.lS)&&F(J,M,P,R,T,Z,this.rT)&&F(J,M,P,R,T,Z,this.TS)&&F(J,M,P,R,T,Z,this.RQ)&&F(J,M,P,R,T,Z,this.PH)&&F(J,M,P,R,T,Z,this.nR)}L_(J,M,P){var R=this.PH;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.B,b=self.Xi,a=b.RB,d=b.cw,c=b.El,g=c.create(),n=a.rf(0,0,0),h=a.rf(0,0,0),l=a.rf(0,0,0),m=a.rf(0,1,0);d.rf(0,0,0,0);new e.sd;new e.Rect;const p=new e.sd(0,0,1,0,1,1,0,1);e.I.i2=class{constructor(){this.S=this.V=0;this.qR=e.Wa(45);this.GI=Math.tan(this.qR/2);this.uA=c.create();this.IH=c.create();this.qo=[];this.SA=new Map;this.vI=this.WA=this.XA=null;this.qv=new Map;this.wi=null;this.YF=[];this.xS=new Map;this.fu=this.Rt=0;this.Fba=this.Gba=1;this.DH=.5;this.lh=0;this.Kq=
!0;this.NG=!1}cY(q){let u=0,r=q.length,v=0;for(;u<r;)q[u++]=v,q[u++]=v+1,q[u++]=v+2,q[u++]=v,q[u++]=v+2,q[u++]=v+3,v+=4}tO(){this.fu=this.Rt=0;this.vI=this.WA=this.XA=null;this.g5()}wx(){this.tO();this.wi=null}T0(){for(const q of this.qo)q.m();this.tO()}ta(){return this.V}qa(){return this.S}yp(q,u,r=.5,v=.5){var w=this.qR;.5===r&&.5===v?c.perspective(q,w,u,1,1E4):(r=1-r,w=1*this.GI,u*=w,c.Uca(q,(2*r-2)*u,2*r*u,(2*v-2)*w,2*v*w,1,1E4))}NV(q,u,r){const v=self.devicePixelRatio,w=200*v*this.GI/r;u=u*w/
(2*v);r=r*w/(2*v);c.Cda(q,-u,u,-r,r,1,1E4)}vK(q,u,r,v,w=this.qa()){w=200*self.devicePixelRatio*this.GI/w;a.set(l,w,-w,1);a.multiply(n,u,l);a.multiply(h,r,l);c.qda(q,n,h,v||m);c.scale(q,q,l)}Xr(q,u,r,v,w,y){a.set(n,q,u,r);a.set(h,v,w,0);this.vK(g,n,h,m,y);return g}P4(q){this.qo.push(q);this.SA.set(q.Aa(),q)}F9(q){const u=this.qo.indexOf(q);-1!==u&&this.qo.splice(u,1);this.SA.delete(q.Aa())}g5(){e.D(this.qo);this.SA.clear()}DL(q){return this.SA.get(q)||null}vj(){this.hq(this.XA)}hN(){this.hq(this.vI)}w$(q){this.wi=
q}dV(q,u,r,v){const w=e.I.nE.mM(q,u,r,v);let y=this.qv.get(w);y||(y=e.j(e.I.nE,this,q,u,r,v),this.qv.set(w,y));y.pV();return y}NM(q){q.HW();0===q.Bc&&(this.wi===q&&(this.wi=null),this.qv.delete(q.WY()),q.m())}q7(q){e.D(this.YF);this.xS.clear();let u=0;for(const r of q){q=r[0];const v=r[1],w=r[2];this.YF.push([v,w]);this.xS.set(q,{Mpa:u,Oqa:v,ooa:w});u++}}Q6(q){return this.YF[q]}aq(q){this.Rt=q}Xs(q){this.fu=q;this.wi=null}Dx(q,u,r,v,w,y){var A=this.DH;q=q+A-y;u=u+A-w;r=r+A+y;v=v+A+w;A=2*y;const G=
2*w;this.Hx(q+w,u-y,0,r+w,v-y,0,r-w-A,v+y-G,0,q-w+A,u+y+G,0,p)}Cx(q,u,r,v,w,y){const A=this.DH;q=q+A-y;u=u+A-w;r=r+A+y;v=v+A+w;this.Hx(q+w,u-y,0,r+w,v-y,0,r-w,v+y,0,q-w,u+y,0,p)}Bx(q,u,r,v,w,y){const A=this.DH;q+=A;u+=A;r+=A;v+=A;this.Hx(q+w,u-y,0,r+w,v-y,0,r-w,v+y,0,q-w,u+y,0,p)}m0(q,u,r,v){const w=.5*this.Gba,y=this.Fba;2===y?this.L7(q,u,r,v,w):1===y?this.K7(q,u,r,v,w):this.J7(q,u,r,v,w)}L7(q,u,r,v,w){this.Dx(q,u,r,u,0,w);this.Dx(r,u,r,v,w,0);this.Dx(r,v,q,v,0,-w);this.Dx(q,v,q,u,-w,0)}K7(q,u,r,
v,w){this.Cx(q,u,r,u,0,w);this.Cx(r,u,r,v,w,0);this.Cx(r,v,q,v,0,-w);this.Cx(q,v,q,u,-w,0)}J7(q,u,r,v,w){this.Bx(q,u,r,u,0,w);this.Bx(r,u,r,v,w,0);this.Bx(r,v,q,v,0,-w);this.Bx(q,v,q,u,-w,0)}hM(q){this.m0(q.X,q.T,q.ca,q.Z)}es(){this.bj();this.lh++}d_(){this.lh++}$D(q){this.Kq=!!q}a3(q){this.NG=!!q}wk(){return!1}}}"use strict";
self.B.I.K3=class{constructor(e,b,a){this.Da=b;this.la=e;this.kR=a.toa||0;this.lR=a.uoa||0;this.YQ=!!a.hoa;this.Lba=!!a.Ipa;this.fr=!!a.bqa;this.Maa=!!a.Sna;this.ZF=!!a.Wna;this.lB=!!a.cra;this.yT=!1}m(){this.la=null}kb(){return this.la}Aa(){return this.Da}Sp(){return this.Lba}};
{"use strict";const e=self.B;e.I.nE=class{constructor(b,a,d,c,g){this.la=b;this.Bc=0;this.Rc=null;this.kv="";this.pg=d;this.bb=e.j(e.Za);this.bb.set(c);this.Sc=g;"string"===typeof a?this.kv=a:(this.Rc=a,this.kv=this.Rc.Aa())}m(){if(0<this.Bc)throw Error("releasing state group still in use");this.Rc=this.la=null;this.kv=""}vV(){const b=this.la;b.hq(this.Rc);b.fg(this.pg);b.dm(this.bb);b.Xs(this.Sc);b.w$(this)}WY(){return e.I.nE.mM(this.kv,this.pg,this.bb,this.Sc)}pV(){++this.Bc}HW(){--this.Bc}xk(){this.Rc=
null}ED(b){this.Rc=b.DL(this.kv);if(!this.Rc)throw Error("failed to restore shader program");}static mM(b,a,d,c){return("string"===typeof b?b:b.Aa())+","+a+","+d.Qa+","+d.Ua+","+d.Ta+","+d.Sa+","+c}}}
{"use strict";const e=self.B,b=e.j(e.sd);function a(d,c,g){const n=g.tb,h=g.ub;return[n+(g.ic-n)*d+(g.Zb-n)*c,h+(g.jc-h)*d+(g.$b-h)*c]}e.I.C0=class{constructor(d){this.MH=d;this.Kg=this.Ig=this.Sc=this.M=this.O=0}ng(d,c,g,n){this.O=d;this.M=c;this.Ig=g;this.Kg=n}ga(){return this.O}gi(d){this.O!==d&&(this.O=d,this.MH.oF())}ia(){return this.M}hi(d){this.M!==d&&(this.M=d,this.MH.oF())}$a(){return this.Sc}Ue(d){this.Sc!==d&&(this.Sc=Math.max(d,0),this.MH.oF())}fE(d){this.Ig=d}gE(d){this.Kg=d}D7(d,c,g){[this.O,
this.M]=a(d.O,d.M,c);this.Sc=d.Sc;this.Ig=e.Rd(g.X,g.ca,d.Ig);this.Kg=e.Rd(g.T,g.Z,d.Kg)}C7(d,c,g){[this.O,this.M]=a(d.O,d.M,c);this.Sc=d.Sc;[this.Ig,this.Kg]=a(d.Ig,d.Kg,g)}ud(){return{x:this.ga(),y:this.ia(),z:this.$a(),u:this.Ig,v:this.Kg}}nd(d){this.gi(d.x);this.hi(d.y);d.hasOwnProperty("z")&&this.Ue(d.z);this.fE(d.u);this.gE(d.v)}};e.I.oM=class{constructor(d,c,g){if(2>d||2>c)throw Error("invalid mesh size");this.Ij=d;this.Vj=c;this.Nb=g||null;this.Km=[];this.vS=this.uS=0;this.qS=this.pS=1;this.rS=
0;this.dI=!1;g=d-1;const n=c-1;for(let h=0;h<c;++h){const l=[];for(let m=0;m<d;++m){const p=e.j(e.I.C0,this,m,h),q=m/g,u=h/n;p.ng(q,u,q,u);l.push(p)}this.Km.push(l)}}m(){e.D(this.Km)}oF(){this.dI=!0}wt(){if(this.dI){var d=Infinity,c=Infinity,g=-Infinity,n=-Infinity,h=0;for(const l of this.Km)for(const m of l){const p=m.ga(),q=m.ia();d=Math.min(d,p);c=Math.min(c,q);g=Math.max(g,p);n=Math.max(n,q);h=Math.max(h,m.$a())}this.uS=d;this.vS=c;this.pS=g;this.qS=n;this.rS=h;this.dI=!1}}gZ(){this.wt();return this.uS}hZ(){this.wt();
return this.vS}dZ(){this.wt();return this.pS}eZ(){this.wt();return this.qS}fZ(){this.wt();return this.rS}Gp(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.Ij||0>c||c>=this.Vj?null:this.Km[c][d]}PV(d,c,g){const n=g instanceof e.Rect;if(d.Ij!==this.Ij||d.Vj!==this.Vj)throw Error("source mesh wrong size");d=d.Km;const h=this.Km;for(let l=0,m=h.length;l<m;++l){const p=d[l],q=h[l];for(let u=0,r=q.length;u<r;++u){const v=p[u],w=q[u];n?w.D7(v,c,g):w.C7(v,c,g)}}}aj(d){const c=this.Km;let g=c[0];
for(let n=1,h=c.length;n<h;++n){const l=c[n];let m=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const r=g[q],v=l[q];b.set(m.Ig,m.Kg,r.Ig,r.Kg,v.Ig,v.Kg,p.Ig,p.Kg);d.Hx(m.ga(),m.ia(),m.$a(),r.ga(),r.ia(),r.$a(),v.ga(),v.ia(),v.$a(),p.ga(),p.ia(),p.$a(),b);m=r;p=v}g=l}}G_(d){d=d.de;const c=[],g=this.Ij-1,n=this.Vj-1,h=1/g,l=1/n,m=g-1,p=n-1;let q=d[0],u=d[1],r=e.da(Math.floor(q*g),0,m),v=e.da(Math.floor(u*n),0,p),w=0,y=0,A=0;var G=-1;const z=()=>{q=e.da(e.Rd(q,w,A),0,1);u=e.da(e.Rd(u,y,A),0,1);c.push(q,
u)};for(let F=0,I=d.length;F<I;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),r=e.da(Math.floor(q*g),0,m),v=e.da(Math.floor(u*n),0,p),G=(F+2)%I,w=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=r*h,M=v*l,P=(r+1)*h,R=(v+1)*l;if(0!==G&&(A=e.Zv(q,u,w,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<v&&2!==G&&(A=e.Zv(q,u,w,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();v--;G=4;continue}if(r<m&&3!==G&&(A=e.Zv(q,u,w,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=1;continue}if(0<
r&&1!==G&&(A=e.Zv(q,u,w,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();r--;G=3;continue}if(v<p&&4!==G&&(A=e.Zv(q,u,w,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();v++;G=2;continue}break}return e.j(e.tn,c)}b4(d,c){d=this.maa(d);this.eaa(d);c.LB(d)}maa(d){const c=[];d=d.de;for(let g=0,n=d.length;g<n;g+=2){const [h,l]=this.c4(d[g],d[g+1]);c.push(h,l)}return c}c4(d,c){var g=this.Ij-1,n=this.Vj-1;const h=1/g,l=1/n;g=e.da(Math.floor(d*g),0,g-1);const m=e.da(Math.floor(c*n),0,n-1);n=g*h;const p=m*l,q=(g+1)*h,u=(m+
1)*l,r=this.Gp(g,m),v=this.Gp(g+1,m+1),w=e.ida(d,c,n,p,q,p,q,u);g=this.Gp(g+(w?1:0),m+(w?0:1));const [y,A,G]=e.hea(d,c,n,p,w?n+h:n,w?p:p+l,q,u);return e.gea(y,A,G,r.ga(),r.ia(),g.ga(),g.ia(),v.ga(),v.ia())}eaa(d){const c=[];let g=d[0],n=d[1],h=g-d.Qd(-2),l=n-d.Qd(-1);for(let p=0,q=d.length;p<q;p+=2){var m=(p+2)%q;const u=d[m];m=d[m+1];const r=u-g,v=m-n,w=1E-7>Math.abs(v)&&1E-7>Math.abs(l)&&Math.sign(r)===Math.sign(h);(!(1E-7>Math.abs(r)&&1E-7>Math.abs(h)&&Math.sign(v)===Math.sign(l)||w)&&1E-7<Math.abs(r/
h-v/l)||0==r&&0===v)&&c.push(g,n);g=u;n=m;h=r;l=v}6<=c.length&&c.length<d.length&&e.Dc(d,c)}ud(){return{cols:this.Ij,rows:this.Vj,points:this.Km.map(d=>d.map(c=>c.ud()))}}nd(d){const c=this.Ij,g=this.Vj;if(d.cols!==c||d.rows!==g)throw Error("mesh data wrong size");d=d.points;for(let n=0;n<g;++n){const h=d[n];for(let l=0;l<c;++l)this.Gp(l,n).nd(h[l])}}}}
{"use strict";const e=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(m,p){let q,u;switch(m){case "rgba8":m=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":m=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":m=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{cK:m,Kr:q,format:u,type:p}}const n={TB:"clamp-to-edge",UB:"clamp-to-edge",Fl:"trilinear",MT:0,SJ:"rgba8",HB:!0,Wv:"default",premultiplyAlpha:!0,mU:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;e.I.cy=class{constructor(m){this.la=m;this.mb=null;this.S=this.V=0;this.oh=!0;this.Fr=this.Er="clamp-to-edge";this.Ad="trilinear";this.NF=0;this.Jm="rgba8";this.cl=!1;this.Wo=
"default";this.Bc=0}x5(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");p=Object.assign({},n,p);if(this.mb)throw Error("already created texture");this.Er=p.TB;this.Fr=p.UB;
this.Ad=p.Fl;this.NF=p.MT;this.Jm=p.SJ;this.cl=!!p.HB&&this.la.Kq;this.Wo=p.Wv;if(!c.has(this.Er)||!c.has(this.Fr))throw Error("invalid wrap mode");if(!a.has(this.Ad))throw Error("invalid sampling");if(!b.has(this.Jm))throw Error("invalid pixel format");if(!d.has(this.Wo))throw Error("invalid mipmap quality");this.oh=!0;if(m instanceof ArrayBuffer||null===m||p.mU){if(this.V=p.width,this.S=p.height,m instanceof ArrayBuffer&&m.byteLength!==this.V*this.S*4)throw Error("ArrayBuffer wrong size");}else this.V=
m.width,this.S=m.height;if(0>=this.V||0>=this.S)throw Error("invalid texture data size");if(p.mU){var q=e.Ng(this.V,this.S);q.getContext("2d").drawImage(m,0,0,this.V,this.S);m=q}var u=e.ek(this.V)&&e.ek(this.S);q=this.la.vA;if(this.V>q||this.S>q)throw Error("texture data exceeds maximum texture size");q=this.la.P;var r=this.la.bd;this.mb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.mb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.Jm,q);if(this.la.co()||u||!this.QE())2<=r?(q.texStorage2D(q.TEXTURE_2D,this.cl?Math.floor(Math.log2(Math.max(this.V,this.S))+1):1,p.cK,this.V,this.S),m instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.V,this.S,p.format,p.type,new Uint8Array(m)):null!==m&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,m)):m instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Kr,this.V,this.S,0,p.format,p.type,new Uint8Array(m)):null===m?q.texImage2D(q.TEXTURE_2D,0,p.Kr,this.V,this.S,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Kr,p.format,p.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.V,this.S));m instanceof ImageData&&(u=e.Ng(this.V,this.S),u.getContext("2d").putImageData(m,0,0),m=u);u=e.Ng(e.tU(this.V),e.tU(this.S));r=u.getContext("2d");r.imageSmoothingEnabled="nearest"!==this.Ad;r.drawImage(m,0,0,this.V,this.S,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Kr,p.format,p.type,u)}null!==m&&this.uQ(q);q.bindTexture(q.TEXTURE_2D,null);this.la.eF();this.Bc=1;l.add(this)}k5(m,p,q){q=Object.assign({},n,q);if(this.mb)throw Error("already created texture");this.Er=q.TB;this.Fr=q.UB;this.Ad=q.Fl;this.Jm=q.SJ;this.cl=!!q.HB&&this.la.Kq;this.Wo=q.Wv;if(!c.has(this.Er)||!c.has(this.Fr))throw Error("invalid wrap mode");if(!a.has(this.Ad))throw Error("invalid sampling");if(!b.has(this.Jm))throw Error("invalid pixel format");if(!d.has(this.Wo))throw Error("invalid mipmap quality");
this.oh=!1;this.V=Math.floor(m);this.S=Math.floor(p);m=e.ek(this.V)&&e.ek(this.S);p=this.la.vA;if(0>=this.V||0>=this.S)throw Error("invalid texture size");if(this.V>p||this.S>p)throw Error("texture exceeds maximum texture size");if(!this.la.co()&&this.QE()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.la.P;p=this.la.bd;this.mb=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.mb);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.Jm,m);m.texImage2D(m.TEXTURE_2D,0,2<=p?q.cK:q.Kr,this.V,this.S,0,q.format,q.type,null);this.uQ(m);m.bindTexture(m.TEXTURE_2D,null);this.la.eF();this.Bc=1;l.add(this)}NE(m){if("default"===this.Wo)return this.oh?m.NICEST:m.FASTEST;if("low"===this.Wo)return m.FASTEST;if("high"===this.Wo)return m.NICEST;throw Error("invalid mipmap quality");}QE(){return"clamp-to-edge"!==this.Er||"clamp-to-edge"!==this.Fr}jP(m,p){if("clamp-to-edge"===p)return m.CLAMP_TO_EDGE;if("repeat"===p)return m.REPEAT;
if("mirror-repeat"===p)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}uQ(m){var p=e.ek(this.V)&&e.ek(this.S);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.jP(m,this.Er));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.jP(m,this.Fr));"nearest"===this.Ad?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.cl=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(p||this.la.co())&&this.cl?(m.hint(m.GENERATE_MIPMAP_HINT,
this.NE(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.Ad||this.la.NG?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.cl=!1));(p=this.la.Nt)&&0<this.NF&&"nearest"!==this.Ad&&m.texParameterf(m.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.NF,this.la.KH))}EQ(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.mb||0>=this.Bc)throw Error("texture not created");if(this.oh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=m.width||m.videoWidth,u=m.height||m.videoHeight;var r=this.la.bd;
const v=this.la.P;v.bindTexture(v.TEXTURE_2D,this.mb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.Jm,v);r=2<=r?p.cK:p.Kr;try{if(this.V===q&&this.S===u){const w=e.ek(this.V)&&e.ek(this.S);v.texSubImage2D(v.TEXTURE_2D,0,0,0,p.format,p.type,m);(w||this.la.co())&&this.cl&&(v.hint(v.GENERATE_MIPMAP_HINT,this.NE(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.V=q;this.S=u;const w=e.ek(this.V)&&e.ek(this.S);if(!this.la.co()&&this.QE()&&
!w)throw Error("non-power-of-two tiled textures not supported");v.texImage2D(v.TEXTURE_2D,0,r,p.format,p.type,m);(w||this.la.co())&&this.cl&&(v.hint(v.GENERATE_MIPMAP_HINT,this.NE(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}v.bindTexture(v.TEXTURE_2D,null);this.la.eF()}HE(){if(0<this.Bc)throw Error("texture still has references");if(!this.mb)throw Error("already deleted texture");l.delete(this);this.la.P.deleteTexture(this.mb);this.mb=null}kb(){return this.la}V3(){if(0>=
this.Bc)throw Error("no more references");this.Bc--}ta(){return this.V}qa(){return this.S}GC(){let m=this.V*this.S;switch(this.Jm){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.cl&&(m+=Math.floor(m/3));return m}static xk(){l.clear()}static oca(){return l.values()}}}
{"use strict";const e=self.Xi.El,b=new Set(["nearest","bilinear","trilinear"]),a={Fl:"trilinear",alpha:!0,depth:!1,JJ:!0,hU:!0,vda:0},d=new Set;self.B.I.cO=class{constructor(c){this.la=c;this.Rj=this.mb=this.Eo=this.tg=null;this.S=this.V=0;this.Pz=!0;this.Ad="trilinear";this.wq=!0;this.Lc=!1;this.Du=!0;this.il=0;this.Pj=e.create()}j5(c,g,n){n=Object.assign({},a,n);const h=this.la.bd;if(this.mb||this.Rj)throw Error("already created render target");this.Ad=n.Fl;this.wq=!!n.alpha;this.Lc=!!n.depth;this.Du=
!!n.JJ;this.Pz=!!n.hU;this.il=n.vda;if(!b.has(this.Ad))throw Error("invalid sampling");if(0<this.il&&(2>h||this.Du))throw Error("invalid use of multisampling");2>h&&(this.Du=!0);this.V=c;this.S=g;if(0>=this.V||0>=this.S)throw Error("invalid render target size");this.pO();c=this.la.P;this.tg=c.createFramebuffer();this.Lc&&(this.Eo=c.createFramebuffer());this.Du?(this.mb=this.la.JK(this.V,this.S,{Fl:this.Ad,SJ:this.wq?"rgba8":"rgb8",HB:!1}),g=this.mb.mb,c.bindFramebuffer(c.FRAMEBUFFER,this.tg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Eo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Rj=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Rj),g=this.wq?c.RGBA8:c.RGB8,0<this.il&&((n=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&n[0]?(n=n[0],this.il>n&&(this.il=n)):this.il=0),0===this.il?c.renderbufferStorage(c.RENDERBUFFER,g,this.V,this.S):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.il,g,this.V,this.S),c.bindFramebuffer(c.FRAMEBUFFER,this.tg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Rj),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Eo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Rj)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.la.rg;this.Lc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.tg),this.la.Zt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}bQ(c,g){if(this.V!==c||this.S!==g)this.V=c,this.S=g,this.pO(),c=this.la.P,c.bindFramebuffer(c.FRAMEBUFFER,this.tg),this.mb?this.mb.EQ(new ImageData(this.V,this.S)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Rj),c.renderbufferStorage(c.RENDERBUFFER,this.wq?c.RGBA8:c.RGB8,this.V,this.S),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.la.rg,this.Lc&&g&&(this.la.Zt?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}HE(){if(!this.mb&&!this.Rj)throw Error("already deleted render target");d.delete(this);var c=this.la.P;this.mb?(c.bindFramebuffer(c.FRAMEBUFFER,this.tg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Eo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.la.$i(this.mb),this.mb=null):this.Rj&&(c.bindFramebuffer(c.FRAMEBUFFER,this.tg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Lc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Eo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Rj),this.Rj=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.la.bd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.tg);
this.Lc&&c.deleteFramebuffer(this.Eo);c=this.la.qc;c.Bl=null;this.tg=c.Ui=null}pO(){this.la.yp(this.Pj,this.V/this.S)}kb(){return this.la}$f(){return this.mb}sD(){return"nearest"!==this.Ad}ta(){return this.V}qa(){return this.S}P_(c){c=Object.assign({},a,c);return"nearest"!==c.Fl!==this.sD()||!!c.alpha!==this.wq||!!c.depth!==this.Lc||2<=this.la.bd&&!!c.JJ!==this.Du?!1:"number"===typeof c.width||"number"===typeof c.height?!this.Pz&&this.ta()===c.width&&this.qa()===c.height:this.Pz}GC(){return this.mb?
this.mb.GC():this.V*this.S*(this.wq?4:3)}static xk(){d.clear()}}}
{"use strict";const e=self.B;e.I.it=class extends e.I.K3{static async jW(b,a,d,c){const g=b.P,n=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(n,a);g.compileShader(n);a=g.createShader(g.VERTEX_SHADER);g.shaderSource(a,d);g.compileShader(a);const h=g.createProgram();g.attachShader(h,n);g.attachShader(h,a);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=b.aI;l?await b.Caa(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await e.tE(5);if(!g.getShaderParameter(n,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(n),g.deleteShader(n),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(a,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(a),g.deleteShader(n),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(n),g.deleteShader(a),g.deleteProgram(h),Error("Error linking shader program: "+
c);(b=e.dY(g.getProgramInfoLog(h)||"").trim())&&!e.wD(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);g.deleteShader(n);g.deleteShader(a);return h}static async Ma(b,a,d,c){d=await e.I.it.jW(b,a.src,d,c);return new e.I.it(b,d,a,c)}constructor(b,a,d,c){super(b,c,d);const g=b.P;var n=b.qc;b.bj();g.useProgram(a);this.P=g;this.Rc=a;this.Qz="<default-device-transform>"===c;c=g.getAttribLocation(a,"aPos");const h=g.getAttribLocation(a,"aTex");this.GH=g.getAttribLocation(a,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,b.oB),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,b.cB),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.GH&&(g.bindBuffer(g.ARRAY_BUFFER,b.FA),g.vertexAttribPointer(this.GH,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.GH));g.bindBuffer(g.ARRAY_BUFFER,null);this.OI=new e.I.Yb(this,"matP","mat4");this.NI=new e.I.Yb(this,"matMV","mat4");this.op=new e.I.Yb(this,"color",
"vec4");this.ica=new e.I.Yb(this,"samplerFront","sampler");this.SI=new e.I.Yb(this,"pointTexStart","vec2");this.RI=new e.I.Yb(this,"pointTexEnd","vec2");this.VI=new e.I.Yb(this,"zElevation","float");this.TI=new e.I.Yb(this,"tileSize","vec2");this.UI=new e.I.Yb(this,"tileSpacing","vec2");this.MI=new e.I.Yb(this,"color2_","vec4");this.QI=new e.I.Yb(this,"outlineThickness","float");this.Cr=new e.I.Yb(this,"samplerBack","sampler");this.hca=new e.I.Yb(this,"samplerDepth","sampler");this.Vm=new e.I.Yb(this,
"destStart","vec2");this.Um=new e.I.Yb(this,"destEnd","vec2");this.Ri=new e.I.Yb(this,"srcStart","vec2");this.ul=new e.I.Yb(this,"srcEnd","vec2");this.xl=new e.I.Yb(this,"srcOriginStart","vec2");this.wl=new e.I.Yb(this,"srcOriginEnd","vec2");this.Jg=new e.I.Yb(this,"pixelSize","vec2");this.an=new e.I.Yb(this,"seconds","float");this.Wm=new e.I.Yb(this,"devicePixelRatio","float");this.Ym=new e.I.Yb(this,"layerScale","float");this.Xm=new e.I.Yb(this,"layerAngle","float");this.$m=new e.I.Yb(this,"layoutStart",
"vec2");this.Zm=new e.I.Yb(this,"layoutEnd","vec2");this.BR=!!(this.Jg.U||this.an.U||this.Cr.U||this.Vm.U||this.Um.U||this.Ri.U||this.ul.U||this.xl.U||this.wl.U||this.Wm.U||this.Ym.U||this.Xm.U||this.$m.U||this.Zm.U);b=d.parameters||[];this.pp=[];this.yT=this.Jg.U||this.Ri.U||this.ul.U||this.xl.U||this.wl.U;this.KG=this.LG=!1;this.op.QL();this.MI.QL();this.ica.gD(0);this.Cr.gD(1);this.hca.gD(2);this.SI.ag(0,0);this.RI.ag(1,1);this.VI.Jn(0);this.TI.ag(0,0);this.UI.ag(0,0);this.Vm.ag(0,0);this.Um.ag(1,
1);this.Ri.ag(0,0);this.ul.ag(0,0);this.xl.ag(0,0);this.wl.ag(0,0);this.Jg.ag(0,0);this.Wm.Jn(1);this.Ym.Jn(1);this.Xm.Jn(0);this.an.Jn(0);this.$m.ag(0,0);this.Zm.ag(0,0);this.QI.Jn(1);for(const l of b)b=l[2],a=new e.I.Yb(this,l[0],b),"color"===b?a.e_():a.Jn(0),this.pp.push(a);this.Qz?this.IQ(n.Kv):(this.$x(n.Kv,!0),this.Zx(n.uB,!0));n=n.Fh;g.useProgram(n?n.Rc:null)}m(){this.P.deleteProgram(this.Rc);this.Rc=null;this.la.F9(this);this.P=null;super.m()}Af(){return this.Rc}ax(b){return this.pp[b].kj()}wV(b){for(let a=
0,d=b.length;a<d;++a)if(!this.pp[a].a0(b[a]))return!1;return!0}N2(b){for(let a=0,d=b.length;a<d;++a)this.pp[a].H2(b[a])}xV(b,a,d,c,g,n,h,l,m,p){return this.Cr.U||this.Jg.U&&!this.Jg.vk(g,n)||this.Vm.U&&!this.Vm.vk(b.X,b.T)||this.Um.U&&!this.Um.vk(b.ca,b.Z)||this.Wm.U&&!this.Wm.zx(h)||this.Ym.U&&!this.Ym.zx(l)||this.Xm.U&&!this.Xm.zx(m)||this.Ri.U&&!this.Ri.vk(a.X,a.T)||this.ul.U&&!this.ul.vk(a.ca,a.Z)||this.xl.U&&!this.xl.vk(d.X,d.T)||this.wl.U&&!this.wl.vk(d.ca,d.Z)||this.$m.U&&!this.$m.vk(c.X,c.T)||
this.Zm.U&&!this.Zm.vk(c.T,c.Z)||this.an.U&&!this.an.zx(p)?!1:!0}k3(b,a,d,c,g,n,h,l,m,p){this.Cr.U||(this.Jg.U&&this.Jg.Bk(g,n),this.Vm.U&&this.Vm.Bk(b.X,b.T),this.Um.U&&this.Um.Bk(b.ca,b.Z),this.Wm.U&&this.Wm.Ox(h),this.Ym.U&&this.Ym.Ox(l),this.Xm.U&&this.Xm.Ox(m),this.Ri.U&&this.Ri.Bk(a.X,a.T),this.ul.U&&this.ul.Bk(a.ca,a.Z),this.xl.U&&this.xl.Bk(d.X,d.T),this.wl.U&&this.wl.Bk(d.ca,d.Z),this.$m.U&&this.$m.Bk(c.X,c.T),this.Zm.U&&this.Zm.Bk(c.T,c.Z),this.an.U&&this.an.Ox(p))}$x(b,a){this.LG&&!a||
this.Qz||(this.OI.U&&this.OI.ay(b),this.LG=!0)}i3(){this.LG=!1}Zx(b,a){this.KG&&!a||this.Qz||(this.NI.U&&this.NI.ay(b),this.KG=!0)}h3(){this.KG=!1}IQ(b){if(!this.Qz)throw Error("not device transform shader");this.OI.ay(b);b=this.la;const a=b.ta()/2,d=b.qa()/2;b=b.Xr(a,d,100*self.devicePixelRatio,a,d);this.NI.ay(b)}k4(b){this.op.U&&this.op.Yx(b[0],b[1],b[2],b[3])}static Ow(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,b=self.Xi.El,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.I.Yb=class{constructor(d,c,g){if(!a.has(g))throw Error("invalid uniform type");this.Nb=d;this.P=this.Nb.P;this.Da=c;this.ra=g;this.dH="color"===this.ra;this.th=this.P.getUniformLocation(this.Nb.Af(),c);this.U=!!this.th;d=a.get(g);this.Mb=new Float32Array(d);this.Ii=new Float32Array(d)}m(){this.th=this.P=this.Nb=null}kj(){return this.ra}Jn(d){this.U&&
(this.Mb[0]=d,this.Ii.set(this.Mb),this.P.uniform1f(this.th,d))}gD(d){this.U&&(this.Mb[0]=d,this.Ii.set(this.Mb),this.P.uniform1i(this.th,d))}ag(d,c){this.U&&(this.Mb[0]=d,this.Mb[1]=c,this.Ii.set(this.Mb),this.P.uniform2f(this.th,d,c))}e_(){this.U&&(this.Mb[0]=0,this.Mb[1]=0,this.Mb[2]=0,this.Ii.set(this.Mb),this.P.uniform3f(this.th,0,0,0))}QL(){this.U&&(this.Mb[0]=1,this.Mb[1]=1,this.Mb[2]=1,this.Mb[3]=1,this.Ii.set(this.Mb),this.P.uniform4f(this.th,1,1,1,1))}ho(d){d=Math.fround(d);const c=this.Mb;
c[0]!==d&&(c[0]=d,this.P.uniform1f(this.th,d))}ve(d,c){d=Math.fround(d);c=Math.fround(c);const g=this.Mb;if(g[0]!==d||g[1]!==c)g[0]=d,g[1]=c,this.P.uniform2f(this.th,d,c)}i4(d,c,g){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);const n=this.Mb;if(n[0]!==d||n[1]!==c||n[2]!==g)n[0]=d,n[1]=c,n[2]=g,this.P.uniform3f(this.th,d,c,g)}Yx(d,c,g,n){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);n=Math.fround(n);const h=this.Mb;if(h[0]!==d||h[1]!==c||h[2]!==g||h[3]!==n)h[0]=d,h[1]=c,h[2]=g,h[3]=n,this.P.uniform4f(this.th,
d,c,g,n)}ay(d){const c=this.Mb;b.Wi(c,d)||(e.iea(c,d),this.P.uniformMatrix4fv(this.th,!1,d))}a0(d){const c=this.Ii;return this.dH?c[0]===Math.fround(d.Qa)&&c[1]===Math.fround(d.Ua)&&c[2]===Math.fround(d.Ta):c[0]===Math.fround(d)}H2(d){const c=this.Ii;this.dH?(c[0]=d.Qa,c[1]=d.Ua,c[2]=d.Ta):c[0]=d}zx(d){return this.Ii[0]===Math.fround(d)}vk(d,c){const g=this.Ii;return g[0]===Math.fround(d)&&g[1]===Math.fround(c)}Ox(d){this.Ii[0]=d}Bk(d,c){const g=this.Ii;g[0]=d;g[1]=c}}}
{"use strict";const e=self.B,b=self.Xi,a=b.cw,d=b.El;e.I.DV=class{constructor(c){this.ln=c;this.uB=d.create();this.Kv=d.create();this.Ui=this.Bl=null;this.iU=!1;this.tB=a.rf(1,1,1,1);this.Fh=null;this.TJ=new e.Rect;this.clearColor=e.j(e.Za,0,0,0,0)}};e.I.v4=class{constructor(c){const g=new ArrayBuffer(96);this.ra=0;this.qc=c;this.P=c.ln.P;this.al=this.he=0;this.Fe=null;this.ef=new Float32Array(g,0,16);this.uo=new Float32Array(g,64,4);this.iT=new Float32Array(g,80,4);this.QA=[]}s_(c){this.ra=1;this.he=
c;this.al=6}UW(){const c=this.P;c.drawElements(c.TRIANGLES,this.al,c.UNSIGNED_SHORT,this.he)}B_(c){this.ra=2;this.Fe=c}gX(){const c=this.P,g=this.Fe;c.bindTexture(c.TEXTURE_2D,g?g.mb:null)}hD(c){this.ra=3;c.Kh(this.uo,0)}WW(){const c=this.uo,g=this.qc;a.ma(g.tB,c);g.Fh.k4(c)}$W(){const c=this.uo,g=this.qc.Fh;g.MI.U&&g.MI.Yx(c[0],c[1],c[2],c[3])}t_(c,g){this.ra=4;this.he=c;this.al=g}VW(){this.P.blendFunc(this.he,this.al)}C_(c,g){this.ra=5;const n=this.uo;n[0]=0;n[1]=0;n[2]=c;n[3]=g}iX(){const c=this.uo;
this.P.viewport(c[0],c[1],c[2],c[3])}z_(c){this.ra=6;d.ma(this.ef,c)}eX(){const c=this.qc,g=c.ln.qo,n=c.Fh,h=this.ef;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.$x(h,!0):p.i3()}d.ma(c.Kv,h)}w_(c){this.ra=7;d.ma(this.ef,c)}aX(){const c=this.qc,g=c.ln.qo,n=c.Fh,h=this.ef;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.Zx(h,!0):p.h3()}d.ma(c.uB,h)}A_(c){this.ra=8;this.Fe=c}fX(){const c=this.P,g=this.Fe,n=this.qc;g?(n.Bl=g.tg,n.Ui=g.Eo,n.iU&&n.Ui?c.bindFramebuffer(c.FRAMEBUFFER,n.Ui):c.bindFramebuffer(c.FRAMEBUFFER,
n.Bl)):(n.Bl=null,n.Ui=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}i_(c){this.ra=9;c.Kh(this.ef,0)}j_(){this.ra=9;const c=this.ef;c[0]=0;c[1]=0;c[2]=0;c[3]=0}NW(){const c=this.P;var g=this.ef;const n=this.qc.clearColor,h=g[0],l=g[1],m=g[2];g=g[3];n.wB(h,l,m,g)||(c.clearColor(h,l,m,g),n.mn(h,l,m,g));c.clear(c.COLOR_BUFFER_BIT)}bX(){const c=this.ef;this.qc.TJ.set(c[0],c[1],c[2],c[3])}TW(){const c=this.P,g=this.qc,n=g.ln.WA;c.useProgram(n.Rc);n.$x(g.Kv,!1);n.Zx(g.uB,!1);var h=g.TJ;n.SI.U&&n.SI.ve(h.X,
h.T);n.RI.U&&n.RI.ve(h.ca,h.Z);h=this.ef[0];n.VI.U&&n.VI.ho(h);n.op.U&&(h=g.tB,n.op.Yx(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.he/4,this.al);c.useProgram(g.Fh.Rc)}x_(c){this.ra=11;this.Fe=c}cX(){var c=this.P;const g=this.qc,n=this.Fe;g.Fh=n;c.useProgram(n.Rc);n.$x(g.Kv,!1);n.Zx(g.uB,!1);n.op.U&&(c=g.tB,n.op.Yx(c[0],c[1],c[2],c[3]))}y_(){this.ra=12}dX(){const c=this.qc.Fh;c.BR&&this.d6(c);c.pp.length&&this.e6(c)}d6(c){const g=this.P,n=this.ef,h=this.uo,l=this.iT;if(c.Cr.U){const m=this.qc.ln,
p=this.Fe;m.Am!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.mb:null),m.Am=p,g.activeTexture(g.TEXTURE0))}c.Jg.U&&c.Jg.ve(n[0],n[1]);c.Vm.U&&c.Vm.ve(n[2],n[3]);c.Um.U&&c.Um.ve(n[4],n[5]);c.Wm.U&&c.Wm.ho(this.al);c.Ym.U&&c.Ym.ho(n[6]);c.Xm.U&&c.Xm.ho(n[7]);c.Ri.U&&c.Ri.ve(n[12],n[13]);c.ul.U&&c.ul.ve(n[14],n[15]);c.xl.U&&c.xl.ve(l[0],l[1]);c.wl.U&&c.wl.ve(l[2],l[3]);c.$m.U&&c.$m.ve(h[0],h[1]);c.Zm.U&&c.Zm.ve(h[2],h[3]);c.an.U&&c.an.ho(this.he)}e6(c){c=c.pp;const g=this.QA;for(let n=
0,h=c.length;n<h;++n){const l=c[n],m=g[n];l.dH?l.i4(m.Qa,m.Ua,m.Ta):l.ho(m)}}o_(c){this.ra=13;this.Fe=c}SW(){const c=this.P,g=this.Fe,n=this.qc.Bl;g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,n)}f_(c,g){this.ra=16;var n=this.ef;const h=this.qc.ln;n[0]=c.ta();n[1]=c.qa();n[2]=g?g.ta():h.ta();n[3]=g?g.qa():h.qa();n[4]=c.sD()?1:0;n[5]=!0;n=this.QA;e.D(n);n.push(c.tg);n.push(g?g.tg:null)}LW(){var c=this.ef,
g=this.QA;const n=this.P;var h=c[0],l=c[1],m=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];n.bindFramebuffer(n.READ_FRAMEBUFFER,g[0]);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,u);c?n.blitFramebuffer(0,0,h,l,0,0,m,p,n.COLOR_BUFFER_BIT,q?n.LINEAR:n.NEAREST):(g=Math.min(h,m),h=Math.min(l,p),m=Math.max(l-p,0),l=Math.max(p-l,0),n.blitFramebuffer(0,m,g,h+m,0,l,g,h+l,n.COLOR_BUFFER_BIT,n.NEAREST))}E_(c){this.ra=17;this.Fe=c}jX(){this.Fe.bC();this.Fe=null}n_(c){this.ra=18;this.Fe=c}RW(){this.Fe.tC();this.Fe=
null}ZW(){const c=this.qc.Fh,g=this.ef;c.Jg.U&&c.Jg.ve(g[0],g[1]);c.QI.U&&c.QI.ho(g[2])}hX(){const c=this.qc.Fh,g=this.ef;c.Ri.U&&c.Ri.ve(g[0],g[1]);c.Jg.U&&c.Jg.ve(g[4],g[5]);c.TI.U&&c.TI.ve(g[6],g[7]);c.UI.U&&c.UI.ve(g[8],g[9])}h_(c){this.ra=21;this.he=c?1:0}MW(){const c=this.P,g=0!==this.he;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}u_(c){this.ra=22;this.he=c?1:0}XW(){const c=this.P;0===this.he?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}v_(c){this.ra=
23;this.he=c?1:0}YW(){const c=this.P,g=this.qc,n=g.ln,h=0!==this.he;g.iU=h;c.activeTexture(c.TEXTURE2);h?(g.Ui&&c.bindFramebuffer(c.FRAMEBUFFER,g.Ui),c.bindTexture(c.TEXTURE_2D,n.rg)):(c.bindTexture(c.TEXTURE_2D,null),g.Ui&&c.bindFramebuffer(c.FRAMEBUFFER,g.Bl));c.activeTexture(c.TEXTURE0)}m_(){this.ra=24}QW(){const c=this.P;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}l_(){this.ra=25}PW(){const c=
this.P;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}k_(){this.ra=26}OW(){const c=this.P;c.disable(c.STENCIL_TEST)}ka(){switch(this.ra){case 1:this.UW();break;case 2:this.gX();break;case 3:this.WW();break;case 4:this.VW();break;case 5:this.iX();break;case 6:this.eX();break;case 7:this.aX();break;case 8:this.fX();break;case 9:this.NW();break;case 10:this.TW();break;case 11:this.cX();break;case 12:this.dX();break;case 13:this.SW();break;case 14:this.bX();break;
case 15:this.hX();break;case 16:this.LW();break;case 17:this.jX();break;case 18:this.RW();break;case 19:this.ZW();break;case 20:this.$W();break;case 21:this.MW();break;case 22:this.XW();break;case 23:this.YW();break;case 24:this.QW();break;case 25:this.PW();break;case 26:this.OW()}}}}
{"use strict";const e=self.B,b={timeout:60},a=new e.Za(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),n=new Set;e.gY&&e.gY.addEventListener("fontload",p=>{p=p.font.Aa();for(const q of n)(q.nh||e.Vi(q.uz,p))&&q.Cj()});function h(p,q,u,r,v,w){q?"Gecko"===e.Gc.kw?p.strokeText(u,r,v,w):p.strokeText(u,r,v):"Gecko"===e.Gc.kw?p.fillText(u,r,v,w):p.fillText(u,r,v)}let l=!1,m=!1;e.I.LD=class{constructor(p,q){q=Object.assign({},b,q);this.la=
p;this.uz="Arial";this.vz=16;this.wz=1;this.Uo=0;this.af=this.$e=!1;this.bz="black";this.nh=!1;this.PJ=null;this.KF=new Set;this.Ze="left";this.Ie="top";this.$c="";this.Ut=null;this.cn=e.j(e.uE);this.fJ="word";this.pH=this.dB=!1;this.yu=!0;this.xo=-1;this.S=this.V=this.lG=this.Eq=this.Jq=0;this.Eh=1;this.gG=!1;this.Uu=this.hl=this.Od=this.jp=null;this.dS=this.eS=-1;this.iA=this.fS=this.uH="";this.vH=this.wH=1;this.sS=(u,r)=>this.KP(u,r);this.mb=null;this.tv=this.vv=0;this.hf=new e.Rect;this.hv=1;
this.RH=!1;this.HI=new e.a_(()=>{this.zk();this.tQ(8,8)},q.timeout);this.IB=null;this.Iv=!1;n.add(this)}m(){this.PJ=null;this.KF.clear();this.sS=this.Uu=this.hl=this.Od=this.jp=this.Ut=null;this.HI.m();this.IB=null;this.zk();this.cn.jd();this.la=this.cn=null;this.Iv=!0;n.delete(this)}no(){this.gG=!0}Cj(){this.no();this.cn.jd();this.dB=!0}sN(){this.yu=!1}bg(){return this.yu}G2(p){p=!!p;this.nh!==p&&(p=(this.nh=p)?"alphabetic":"top",this.Od&&(this.Od.textBaseline=p),this.hl&&(this.hl.textBaseline=p),
this.Cj())}YD(p){p||(p="serif");this.uz!==p&&(this.uz=p,this.Cj())}Rx(p){.1>p&&(p=.1);this.vz!==p&&(this.vz=p,this.Cj())}W2(p){this.wz!==p&&(this.wz=p,this.Cj())}wN(p){this.Uo!==p&&(this.Uo=p,this.no())}gN(p){p=!!p;this.$e!==p&&(this.$e=p,this.Cj())}uN(p){p=!!p;this.af!==p&&(this.af=p,this.Cj())}XD(p){p=Math.floor(p);this.xo!==p&&(this.xo=p,this.no())}ki(p,q){for(let u=p.length-1;0<=u;--u){const r=p[u];if(r.tag===q)return r}return null}oq(p,q){return!!this.ki(p,q)}WO(p,q){let u=[];(this.$e||this.oq(q,
"b"))&&u.push("bold");(this.af||this.oq(q,"i"))&&u.push("italic");var r=this.ki(q,"size");r=(r?parseFloat(r.Hh):this.vz)*this.wz;p?u.push(r+"pt"):u.push(r*this.hv*this.Eh*self.devicePixelRatio+"pt");p=this.uz;(q=this.ki(q,"font"))&&q.Hh&&(p=q.Hh,this.PJ&&!this.KF.has(p)&&(this.PJ(p),this.KF.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}dm(p){p instanceof e.Za&&(p=p.Vca());this.bz!==p&&(this.bz=p,this.no())}iN(p,q,u){a.Sr(p,q,u);this.dm(a)}qN(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.Ze!==p&&(this.Ze=p,this.no())}KN(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ie!==p&&(this.Ie=p,this.no())}H3(p){if(!g.has(p))throw Error("invalid word wrap mode");this.fJ!==p&&(this.fJ=p,this.Cj())}et(p){this.$c!==p&&(this.$c=p,this.Cj())}Hd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Eq===p&&this.lG===q&&this.Eh===u)){1===this.Eh!==(1===u)&&(this.RH=!0);var r=this.Eq,v=this.Eh;this.Eq=p;this.lG=q;this.Eh=u;p=self.devicePixelRatio;this.V=this.Eq*this.Eh*p;this.S=
this.lG*this.Eh*p;p=Math.max(this.V,this.S);q=Math.min(this.la.vA,2048);u=1;p>q&&(u=q/p,this.V=Math.min(this.V*u,q),this.S=Math.min(this.S*u,q));this.hv=u;0<this.vv&&0<this.tv&&this.Eh===v&&this.hf.set(0,0,this.V/this.vv,this.S/this.tv);this.Eq!==r?this.Cj():this.no()}}ta(){return this.V}qa(){return this.S}sZ(){this.YE();return this.cn.cZ()}rZ(){this.YE();return this.cn.vZ()+this.cn.Bm.length*(this.Uo+4)-this.Uo}$f(){this.HI.Yc();this.n8();return this.mb}n8(){this.mb&&!this.gG&&!this.dB||this.pH||
0>=this.V||0>=this.S||(this.gG=!1,this.pH=!0,this.yu?e.fk(()=>this.GO()):this.GO())}GO(){this.Iv||(this.tQ(Math.ceil(this.V),Math.ceil(this.S)),this.YE(),this.v6(),this.xaa(),this.HI.Yc(),this.pH=!1)}tQ(p,q){this.jp||(this.jp=e.Ng(16,16));let u=!1;if(this.eS!==p||this.dS!==q)this.eS=p,this.dS=q,this.jp.width=p,this.jp.height=q,u=!0;this.Od||(this.Od=this.jp.getContext("2d"),u=!0);u?(this.Od.textBaseline=this.nh?"alphabetic":"top",this.Od.font=this.uH,this.Od.fillStyle=this.iA,this.Od.strokeStyle=
this.iA,this.Od.globalAlpha=this.wH,this.Od.lineWidth=this.vH):this.Od.clearRect(0,0,p,q)}CP(){this.hl||(this.hl=e.Ng(16,16).getContext("2d"),this.Uu=e.Ng(16,16).getContext("2d"),this.hl.textBaseline=this.nh?"alphabetic":"top",this.Uu.textBaseline="top")}P$(p){this.fS!==p&&(this.fS=p,this.hl.font=p,this.Uu.font=p)}BQ(){if(!l){l=!0;this.CP();const p=this.hl.measureText("test");m="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return m}YE(){this.dB&&(this.CP(),
!this.nh||this.Ut&&this.Ut.toString()===this.$c||(this.Ut=new e.Ll(this.$c,{xda:!0})),this.cn.uE(this.nh?this.Ut.aea():this.$c,this.sS,this.Eq,this.fJ,0),this.dB=!1)}KP(p,q){this.P$(this.WO(!0,q));q=this.ki(q,"size");q=(q?parseFloat(q.Hh):this.vz)*this.wz;const u=this.hl.measureText(p);let r=0;this.nh&&this.BQ()&&(r=u.fontBoundingBoxAscent-this.Uu.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Uf:u.fontBoundingBoxAscent||0,qf:u.fontBoundingBoxDescent||0,tf:r}}z$(p){this.uH!==
p&&(this.uH=p,this.Od.font=p)}By(p){this.iA!==p&&(this.iA=p,this.Od.fillStyle=p,this.Od.strokeStyle=p)}y$(p){this.wH!==p&&(this.wH=p,this.Od.globalAlpha=p)}oQ(p){this.vH!==p&&(this.vH=p,this.Od.lineWidth=p)}v6(){this.Jq=0;const p=this.hv*this.Eh*self.devicePixelRatio,q=(4+this.Uo)*p;var u=0;const r=this.cn.Bm;if(0!==r.length){var v=this.nh&&this.BQ(),w=r[0].height*p;"center"===this.Ie?(u=r.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.S/2-u/2,0),v&&(w=r[0].tf*p)):"bottom"===this.Ie&&(u=r.reduce((y,
A)=>y+A.height*p+q,0)-this.Uo*p,u=this.S-u-(v?r.Qd(-1).qf*p:0)-2);for(let y=0,A=r.length;y<A;++y){v=r[y];const G=v.height*p,z=u;if(this.nh){if(u+=0===y?w:G,0<y&&u>this.S-4*p)break}else if(0<y&&u>=this.S-G)break;0<=z&&this.u6(v,u,p);this.nh||(u+=G);u+=q}}}u6(p,q,u){let r=0;"center"===this.Ze?r=(this.V-p.width*u)/2:"right"===this.Ze&&(r=this.V-p.width*u);for(const v of p.aU)this.t6(v,r,q,u,p.height),r+=v.width*u}t6(p,q,u,r,v){const w=this.Od;var y=v/16;v=p.width*r;const A=p.height*r,G=p.height/16;var z=
(4+this.Uo)*r,F=p.dd,I=p.text;if(-1!==this.xo){if(this.Jq>=this.xo)return;this.Jq+I.length>this.xo&&(I=I.substr(0,this.xo-this.Jq),v=this.KP(I,F).width*r);this.Jq+=I.length}var J=this.ki(F,"background"),M=this.oq(F,"u");p=this.oq(F,"s");if((!e.wD(I)||J||M||p)&&!this.oq(F,"hide")){var P=this.ki(F,"offsetx");q+=P?parseFloat(P.Hh)*r:0;P=this.ki(F,"offsety");u+=P?parseFloat(P.Hh)*r:0;J&&(this.By(J.Hh),w.fillRect(q,u-A,v,A+z));P=this.ki(F,"color");this.By(P?P.Hh:this.bz);z=this.ki(F,"opacity");this.y$(z?
parseFloat(z.Hh)/100:1);z=(z=this.ki(F,"linethickness"))?parseFloat(z.Hh):1;(J=this.oq(F,"stroke"))&&this.oQ(.5*G*z*this.hv*this.Eh*self.devicePixelRatio);this.z$(this.WO(!1,F));h(w,J,I,q,u,v);!J&&(this.oQ(.5*G*z*this.hv*this.Eh*self.devicePixelRatio),F=this.ki(F,"outline"))&&(this.By(F.Hh),h(w,!0,I,q,u,v));this.By(P?P.Hh:this.bz);M&&(F=q,I=u+r*y,M=v,y=r*y*z,J?w.strokeRect(F,I,M,y):w.fillRect(F,I,M,y));p&&(r*=G,w.fillRect(q,u-A/4+r/2-r*z/2,v,r*z))}}xaa(){this.la.Ln()||(this.vv=Math.ceil(this.V),this.tv=
Math.ceil(this.S),this.hf.set(0,0,this.V/this.vv,this.S/this.tv),this.RH&&(this.zk(),this.RH=!1),this.mb||(this.mb=this.la.JK(this.vv,this.tv,{HB:1===this.Eh,Wv:"high"})),this.la.n4(this.jp,this.mb),this.IB&&this.IB())}zk(){this.mb&&(this.la.Ln()||this.la.$i(this.mb),this.mb=null)}static xk(){for(const p of n)p.zk()}}}
{"use strict";const e=self.B;class b{constructor(a){this.P=a.P;this.bd=a.bd;this.qd=a.qd;this.wh=null;this.pu=this.Cb=!1;this.NA=0;this.wh=1===this.bd?this.qd.createQueryEXT():this.P.createQuery()}m(){this.BO();this.qd=this.P=null;this.pu=!1}BO(){this.wh&&(1===this.bd?this.qd.deleteQueryEXT(this.wh):this.P.deleteQuery(this.wh),this.wh=null)}bC(){if(this.Cb)throw Error("query already active");1===this.bd?this.qd.beginQueryEXT(this.qd.TIME_ELAPSED_EXT,this.wh):this.P.beginQuery(this.qd.TIME_ELAPSED_EXT,
this.wh);this.Cb=!0}tC(){if(!this.Cb)throw Error("query not active");1===this.bd?this.qd.endQueryEXT(this.qd.TIME_ELAPSED_EXT):this.P.endQuery(this.qd.TIME_ELAPSED_EXT);this.Cb=!1}kC(){if(this.wh&&!this.pu&&!this.Cb){var a=1===this.bd?this.qd.getQueryObjectEXT(this.wh,this.qd.QUERY_RESULT_AVAILABLE_EXT):this.P.getQueryParameter(this.wh,this.P.QUERY_RESULT_AVAILABLE);var d=this.P.getParameter(this.qd.GPU_DISJOINT_EXT);a&&!d&&(this.NA=1===this.bd?this.qd.getQueryObjectEXT(this.wh,this.qd.QUERY_RESULT_EXT):
this.P.getQueryParameter(this.wh,this.P.QUERY_RESULT),this.NA/=1E9,this.pu=!0);(a||d)&&this.BO()}}tx(){return this.pu}ix(){if(!this.pu)throw Error("no result available");return this.NA}}e.I.x4=class{constructor(a){this.la=a;this.lh=a.lh;this.Cb=!1;this.Hm=null;this.ym=!1;this.ir=null;this.bp=[]}m(){for(const a of this.bp)a instanceof b&&a.m();e.D(this.bp);this.la=this.ir=this.Hm=null}bC(){if(this.Cb)throw Error("query already active");const a=this.la.oT;0<a.length?(this.ym=!0,this.Hm=a.Qd(-1),this.Hm.LO(),
this.Hm.bp.push(this)):(this.ym=!1,this.Hm=null);this.Cb=!0;a.push(this);this.zQ()}tC(){if(!this.Cb)throw Error("query not active");if(this.la.oT.pop()!==this)throw Error("can only end most nested query");this.Cb=!1;this.LO();this.Hm&&(this.Hm.zQ(),this.Hm=null)}zQ(){this.ir=e.j(b,this.la);this.bp.push(this.ir);this.ir.bC()}LO(){this.ir.tC();this.ir=null}kC(){for(const a of this.bp)a.kC()}tx(){return this.bp.every(a=>a.tx())}ix(){return this.bp.reduce((a,d)=>a+d.ix(),0)}}}
{"use strict";const e=self.B;e.I.bO=class{constructor(b,a=1E3){this.la=b;this.Kba=a;this.Fj=[];this.la.O4(this)}m(){this.jd();this.la.E9(this);this.la=null}jd(){for(const b of this.Fj)b.m();e.D(this.Fj)}$B(){const b=new e.I.x4(this.la);this.Fj.push(b);this.Fj.length>this.Kba&&this.Fj.shift().m();return b}XV(b){for(const a of this.Fj){if(a.lh>=b)break;if(a.ym)break;a.kC()}}nL(b,a){if(a<=b)return NaN;let d=0;for(const c of this.Fj){if(c.lh>=a)break;if(!(c.lh<b))if(c.tx())d+=c.ix();else return NaN}return d}PK(b){for(let a=
0,d=this.Fj.length;a<d;++a){const c=this.Fj[a];if(c.lh<b)c.m();else{0<a&&this.Fj.splice(0,a);break}}}}}
{"use strict";const e=self.B,b=self.Xi,a=b.cw,d=b.El,c={powerPreference:"default",$T:!0,alpha:!1,KJ:!1,depth:!1,oJ:!1,pU:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),n=new e.sd(0,0,1,0,1,1,0,1),h=d.create(),l=d.create(),m=new e.sd,p=new e.Rect;let q=null;e.Rv&&(self.koa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.loa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let r=-1;function v(){r=-1;for(const w of u)w.xca()&&(w.resolve(),u.delete(w));0<u.size&&(r=self.requestAnimationFrame(v))}e.I.w4=class extends e.I.i2{constructor(w,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.KJ&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.pU&&(G=w.getContext("webgl2",
A),z=2);G||(G=w.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.P=G;this.OQ=G.getContextAttributes();y.KJ&&!this.OQ.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.bd=z;this.Sf=a.create();this.tm=!1;this.TF=d.create();this.zl=!!y.depth;this.Zt=!(!y.depth||!y.oJ);this.Mo=this.zl;this.eH=!1;this.rg=null;this.cH=!0;this.ZQ=this.$Q=0;this.FA=this.LR=this.cB=this.oB=null;this.Gv=
new Float32Array(24E3);this.MR=new Uint16Array(12E3);this.rr=new Float32Array(16E3);this.HS=new Float32Array(32E3);this.gS=this.GA=this.Pf=this.Dh=0;this.gp=this.So=null;this.Tt=[];this.hc=this.nm=0;this.Id=null;this.qc=e.j(e.I.DV,this);this.Nu=e.j(e.Za,1,1,1,1);this.Am=this.fl=null;this.rH=this.tH=0;this.Dba=new e.Rect;this.vA=-1;this.LH=0;this.Cv="(unavailable)";this.hH=!1;this.gu=this.Nt=this.aI=null;this.KH=0;this.Aba=!!y.$T;this.qd=null;this.Ny=new Set;this.oT=[];this.cY(this.MR)}wk(){return!0}async wx(){super.wx();
var w=this.P;this.Nu.mn(1,1,1,1);this.Am=this.fl=null;this.GA=this.Dh=0;this.gS=23988;e.D(this.Tt);this.hc=this.nm=0;this.Id=this.So=null;this.Dba.set(0,0,1,1);var y=this.qc;y.Fh=null;y.Bl=null;y.Ui=null;a.set(y.tB,1,1,1,1);y.clearColor.mn(0,0,0,0);y.TJ.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.tH=w.ONE;this.rH=w.ONE_MINUS_SRC_ALPHA;this.r7(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.zl?
(w.enable(w.DEPTH_TEST),w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.Mo=this.zl;this.eH=!1;this.FA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.FA);w.bufferData(w.ARRAY_BUFFER,this.HS.byteLength,w.DYNAMIC_DRAW);this.oB=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.oB);w.bufferData(w.ARRAY_BUFFER,this.Gv.byteLength,w.DYNAMIC_DRAW);this.cB=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.cB);w.bufferData(w.ARRAY_BUFFER,this.rr.byteLength,w.DYNAMIC_DRAW);
this.LR=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,this.LR);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.MR,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.vA=w.getParameter(w.MAX_TEXTURE_SIZE);this.LH=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.LH&&(this.LH=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Cv=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.aI=w.getExtension("KHR_parallel_shader_compile");
e.Rv&&(q=w.getExtension("WEBGL_lose_context"));if(this.Aba)if(1===this.bd){if("Chromium"!==e.Gc.kw||81<=e.Gc.dC||"undefined"!==typeof document)this.qd=w.getExtension("EXT_disjoint_timer_query")}else this.qd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.KH=(this.Nt=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Nt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.bd&&this.zl&&this.Zt&&(this.gu=w.getExtension("WEBGL_depth_texture"),
!this.gu))throw Error("no depth texture support");w=e.I.it;y=w.Ow(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.Ow(!0),"<tilemap>"]].map(A=>this.oC({src:A[0]},A[1],A[2])));this.XA=w[0];this.gp=w[1];this.WA=w[2];this.vI=w[3];this.vj()}async oC(w,y,A){w=await e.I.it.Ma(this,w,y,A);this.P4(w);return w}o2(){this.So=null}Hd(w,y,A){if(this.V!==w||this.S!==y||A){this.bj();A=this.P;var G=this.qc;this.V=w;this.S=y;this.wQ(w,y);this.yp(this.TF,w/y);this.ao(this.TF);this.gp&&(A.useProgram(this.gp.Af()),this.gp.IQ(this.uA),this.So=this.gp,this.qc.Fh=this.gp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Am=this.fl=null;this.zl&&this.cH&&this.mF(this.V,this.S);this.Id&&this.Id.bQ(this.V,this.S);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Id=null;G.Bl=null;G.Ui=null}}mF(w,y){const A=this.P;this.rg&&this.$Q===w&&this.ZQ===y||(this.Zt?(this.rg&&A.deleteTexture(this.rg),this.rg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.rg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.bd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,w,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.gu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,w,y,0,A.DEPTH_STENCIL,this.gu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.rg&&A.deleteRenderbuffer(this.rg),this.rg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.rg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.bd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,w,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.$Q=w,this.ZQ=y)}V2(w,y){this.zl&&(this.cH=!1,this.mF(w,y))}F2(){this.zl&&(this.cH=!0,this.mF(this.V,this.S))}wQ(w,y){const A=this.Sf;if(0!==A[0]||0!==A[1]||A[2]!==w||A[3]!==y)this.uc().C_(w,y),a.set(A,0,0,w,y),this.hc=0}ao(w){d.Wi(this.uA,w)||(this.uc().z_(w),d.ma(this.uA,w),this.hc=0,this.tm=!0)}lN(){let w,y;var A=this.Id;null===A?(w=this.TF,y=this.ta(),A=this.qa()):
(w=A.Pj,y=A.ta(),A=A.qa());this.ao(w);this.wQ(y,A)}fq(w){d.Wi(this.IH,w)||(this.uc().w_(w),d.ma(this.IH,w),this.hc=0,this.tm=!0)}m2(){this.tm=!1}uc(){const w=this.Tt;this.nm===w.length&&w.push(new e.I.v4(this.qc));return w[this.nm++]}bj(){0===this.nm||this.Ln()||(this.Gaa(),this.y6(),this.hc=this.GA=this.Pf=this.Dh=this.nm=0)}Gaa(){const w=this.P;0<this.GA&&(w.bindBuffer(w.ARRAY_BUFFER,this.FA),w.bufferSubData(w.ARRAY_BUFFER,0,this.HS.subarray(0,this.GA)));0<this.Dh&&(w.bindBuffer(w.ARRAY_BUFFER,
this.oB),w.bufferSubData(w.ARRAY_BUFFER,0,this.Gv.subarray(0,this.Dh)),w.bindBuffer(w.ARRAY_BUFFER,this.cB),w.bufferSubData(w.ARRAY_BUFFER,0,this.rr.subarray(0,this.Pf)))}y6(){const w=this.Tt;for(let y=0,A=this.nm;y<A;++y)w[y].ka()}pe(){return this.Nu.Sa}Te(w,y,A,G){const z=this.Nu;z.wB(w,y,A,G)||(z.mn(w,y,A,G),this.uc().hD(z),this.hc=0,this.wi=null)}Ek(w){const y=this.Nu;y.Sa!==w&&(y.Qr(w),this.uc().hD(y),this.hc=0,this.wi=null)}dm(w){const y=this.Nu;y.cd(w)||(y.set(w),this.uc().hD(y),this.hc=0,
this.wi=null)}Ts(){this.Te(1,1,1,1)}jg(w){w!==this.fl&&(this.uc().B_(w),this.fl=w,this.hc=0)}eF(){this.fl=null}fg(w){w=this.Q6(w);this.lF(w[0],w[1])}lF(w,y){if(w!==this.tH||y!==this.rH)this.uc().t_(w,y),this.tH=w,this.rH=y,this.hc=0,this.wi=null}fN(){this.lF(this.P.ONE,this.P.ONE_MINUS_SRC_ALPHA)}WD(){this.lF(this.P.ONE,this.P.ZERO)}Rect(w){this.MM(w.X,w.T,w.ca,w.Z)}MM(w,y,A,G){this.T1(w,y,A,y,A,G,w,G)}iy(){let w=this.Dh;w>=this.gS&&(this.bj(),w=0);1===this.hc?this.Tt[this.nm-1].al+=6:(this.uc().s_(w),
this.hc=1)}LQ(w){w.lea(this.Gv,this.Dh,this.Rt+this.fu);this.Dh+=12}sd(w){this.iy();this.LQ(w);n.Kh(this.rr,this.Pf);this.Pf+=8}T1(w,y,A,G,z,F,I,J){this.iy();const M=this.Gv;let P=this.Dh;const R=this.Rt+this.fu;M[P++]=w;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=I;M[P++]=J;M[P++]=R;this.Dh=P;n.Kh(this.rr,this.Pf);this.Pf+=8}Vp(w,y){this.iy();this.LQ(w);y.kea(this.rr,this.Pf);this.Pf+=8}Hx(w,y,A,G,z,F,I,J,M,P,R,T,Z){this.iy();const X=this.Gv;let ba=this.Dh;const Y=
this.Rt+this.fu;X[ba++]=w;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=I;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.Dh=ba;Z.Kh(this.rr,this.Pf);this.Pf+=8}iY(w,y){d.ma(h,this.uA);d.ma(l,this.IH);this.lN();const [A,G]=this.hx(this.Id);var z=this.Xr(0,0,100*self.devicePixelRatio,0,0,G);this.fq(z);if("crop"===w&&this.Id&&y){w=this.V/2;z=this.S/2;const J=y.ta();y=y.qa();var F=this.Id.ta(),I=this.Id.qa();F=Math.min(F,J);const M=Math.min(I,y),P=Math.max(y-I,0);I=Math.max(I-
y,0);p.set(-w,z-I,-w+F,z-M-I);m.Yi(p);p.set(0,P,F,M+P);p.Cl(J,y);this.Vp(m,p)}else w=A/2,z=G/2,this.MM(-w,z,w,-z);this.ao(h);this.fq(l)}hq(w){this.So!==w&&(this.uc().x_(w),this.So=w,this.hc=0,this.wi=null)}DN(w,y,A,G,z,F,I,J,M,P,R,T){const Z=this.So;var X=Z.BR;const ba=!!T.length;if(X&&!Z.xV(y,A,G,z,F,I,J,M,P,R)||ba&&!Z.wV(T)){var Y=this.uc();Y.y_();X&&(Z.k3(y,A,G,z,F,I,J,M,P,R),X=Y.ef,X[0]=F,X[1]=I,y.Kh(X,2),X[6]=M,X[7]=P,A.Kh(X,12),y=Y.uo,z.Kh(y,0),z=y[1],y[1]=y[3],y[3]=z,G.Kh(Y.iT,0),Y.he=R,Y.al=
J,Y.Fe=Z.Cr.U?w?w.$f():null:null);ba&&(Z.N2(T),e.Dc(Y.QA,T));this.hc=0}}sn(){this.uc().j_();this.hc=0}jd(w){this.uc().i_(w);this.hc=0}gt(){}es(){super.es();this.P.flush()}YV(){this.zl&&this.Id&&this.Id.Lc&&(this.uc().h_(this.Mo),this.hc=0)}hg(w){w=!!w;this.Mo!==w&&this.zl&&(this.Mo=w,this.uc().u_(w),this.hc=0)}Ys(w){w=!!w;if(this.Zt&&this.eH!==w){if(w&&this.Mo)throw Error("depth still enabled");this.eH=w;this.uc().v_(w);this.hc=0}}WV(){for(const w of this.Ny)w.XV(this.lh)}Ln(){return!this.P||this.P.isContextLost()||
this.hH}xk(){super.T0();e.I.cy.xk();e.I.cO.xk();e.I.LD.xk();for(const w of this.Ny)w.jd();this.gu=this.Nt=this.aI=this.qd=null;this.KH=0;this.Cv="(unavailable)";this.rg=this.gp=this.So=null;for(const w of this.qv.values())w.xk()}async ED(){this.hH=!0;await this.wx();this.hH=!1;for(const w of this.qv.values())w.ED(this);this.Hd(this.V,this.S,!0)}vw(w,y){if(this.Ln())throw Error("context lost");this.bj();const A=e.j(e.I.cy,this);A.x5(w,y);return A}ww(w,y){if(this.Ln())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.TB&&"clamp-to-edge"!==y.TB||y.UB&&"clamp-to-edge"!==y.UB;if(!e.Xb.ImageBitmapOptions||!this.co()&&A)return e.Xb.ImageBitmap?createImageBitmap(w).then(G=>e.fk(()=>this.vw(G,y))):w instanceof Blob?e.IV(w).then(G=>this.ww(G,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>e.fk(()=>this.vw(w,y))):e.fk(()=>this.vw(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(G=>
e.fk(()=>this.vw(G,y)))}JK(w,y,A){this.bj();const G=e.j(e.I.cy,this);G.k5(w,y,A);return G}n4(w,y){this.bj();y.EQ(w,void 0)}$i(w){w&&(w.V3(),0<w.Bc||(this.bj(),w===this.fl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.fl=null),w===this.Am&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.Am=null),w.HE()))}xW(w){let y=this.V,A=this.S,G=!0;w&&("number"===typeof w.width&&(y=w.width,G=!1),"number"===typeof w.height&&(A=w.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.bj();const z=e.j(e.I.cO,this);z.j5(y,A,Object.assign({hU:G},w));this.Id=null;this.qc.Bl=null;this.qc.Ui=null;return z}ig(w,y=!0){w!==this.Id&&(w&&w.Pz&&w.bQ(this.V,this.S),this.uc().A_(w),this.Id=w,this.hc=0,y&&this.lN())}pk(){return this.Id}hx(w){return w?[w.ta(),w.qa()]:[this.V,this.S]}GK(w){2>this.bd||this.Id&&0<this.Id.il?(this.WD(),this.Ts(),this.Ew(w,"stretch")):(this.uc().f_(w,this.Id),this.hc=0)}Ew(w,y="stretch"){w=w.$f();if(!w)throw Error("not a texture-backed render target");
this.jg(w);this.iY(y,w)}Mp(w){2>this.bd||(this.uc().o_(w.tg),this.hc=0)}KW(w){this.ig(null);this.bj();const y=w.$f();y===this.fl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.fl=null);y===this.Am&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.Am=null);w.HE()}FK(){this.hg(!0);this.uc().m_();this.hc=0}EK(){this.hg(!1);this.uc().l_();this.hc=0}DK(){this.hg(!0);this.uc().k_();this.hc=0}mE(w){this.xj()&&(this.uc().E_(w),
this.hc=0)}sC(w){this.xj()&&(this.uc().n_(w),this.hc=0)}Caa(w){const y=new Promise(A=>u.add({resolve:A,xca:w}));-1===r&&(r=self.requestAnimationFrame(v));return y}R_(){return!!this.OQ.desynchronized}AY(){let w=0;for(const y of e.I.cy.oca())w+=y.GC();return w}co(){return 2<=this.bd}xj(){return!!this.qd}O4(w){this.Ny.add(w)}E9(w){this.Ny.delete(w)}r7(w){this.q7([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",
w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";const e={cU:null,dU:null,BU:null,getTime:null,AU:null};self.B.I.PX=class{constructor(b){b=Object.assign({},e,b);this.UQ=b.cU;this.Zaa=b.dU;this.bba=b.BU;this.$aa=b.getTime;this.aba=b.AU}gL(b){return this.UQ?this.UQ(b):[b.ta(),b.qa()]}pk(b){return this.Zaa(b)}Z1(b,a){this.bba(b,a)}ya(){return this.$aa()}Jx(b){this.aba(b)}}}
{"use strict";const e=self.B,b=self.Xi.El,a=e.j(e.Rect),d=e.j(e.Rect),c=e.j(e.Rect),g=e.j(e.Rect),n=b.create(),h=b.create(),l={vB:null,eU:null,AB:null,FJ:!1},m={Ir:null,yB:!1,wJ:!1,GJ:!1,lU:!1,jU:!1,QB:!1},p={rB:null,eoa:null,dn:0,devicePixelRatio:1,Sv:1,DB:0,Nr:null,Nv:null,YT:null,RT:0,ST:0,VU:!1};e.I.ke=class{constructor(q,u){u=Object.assign({},l,u);this.zg=q;this.dG=u.vB;this.au=u.eU;this.VQ=u.AB;this.Xy=null;this.RA=[];this.jv=[];this.ip=[];this.pg=0;this.Dr=this.$t=this.aR=this.tm=this.Nz=this.bH=
!1;this.Xo=0;this.pl=[null,null,null];this.RR=!!u.FJ;this.Mc=this.Zc=this.Xt=this.Wt=0;this.rm=null;this.Ou=e.j(e.Rect);this.Xk=e.j(e.Rect);this.nl=e.j(e.Rect);this.hr=e.j(e.Rect);this.Lm=e.j(e.Rect);this.yH=this.Gq=1;this.Tb=this.xH=0;this.hz=null;this.jG=this.iG=0;this.WI=!1;this.Pj=b.create();this.Wu=b.create()}m(){e.D(this.ip);e.D(this.RA);e.D(this.jv);this.VQ=this.au=this.dG=this.rm=null}eC(q,u){u=Object.assign({},m,u);e.D(this.ip);this.Xt=this.Wt=0;this.Nz=this.bH=!1;this.Xo=0;this.Dr=!!u.QB;
e.Dc(this.RA,q);if(0!==q.length){if(u.Ir){if(u.Ir.length!==q.length)throw Error("incorrect indexMap length");e.Dc(this.jv,u.Ir)}else{e.D(this.jv);for(let w=0,y=q.length;w<y;++w)this.jv.push(w)}for(var r of q)this.Wt+=r.kR,this.Xt+=r.lR,r.Maa&&(this.bH=!0),r.lB&&(this.Nz=!0);!(r=1!==q.length||q[0].ZF||q[0].YQ)&&(r=!u.QB)&&(r=q[0],r=0!==r.kR||0!==r.lR);if(r||u.yB||q[0].Sp()||u.wJ||u.GJ||!this.Dr&&q[0].lB){this.$t=!1;r=this.baa(q[0],u);u=this.aaa(q.Qd(-1),u);var v=0;r&&(this.Xo=1,this.ip.push(e.j(e.I.ke.Xg.K1,
this,-1,1)),v=1);for(let w=0,y=q.length;w<y;++w)0!==w||r?(q=1===v?2:1,w!==y-1||u||(q=0),this.Xo=Math.max(this.Xo,q),this.ip.push(e.j(e.I.ke.Xg.JV,this,v,q,w)),v=q):(this.Xo=1,this.ip.push(e.j(e.I.ke.Xg.fY,this,-1,1,w)),v=1);u&&this.ip.push(e.j(e.I.ke.Xg.H1,this,v,0))}else this.$t=!0}}baa(q,u){return u.yB||u.GJ||!this.Dr&&q.lB||q.Sp()||q.ZF&&(u.jU||q.kb().wk()&&u.lU)||0!==this.Wt||0!==this.Xt}aaa(q,u){return u.wJ||q.ZF||q.YQ}Wn(q,u,r){r=Object.assign({},p,r);this.hz=u;this.rm=r.rB;this.pg=r.dn;this.Gq=
r.devicePixelRatio;this.yH=r.Sv;this.xH=r.DB;this.Tb=this.zg.ya();this.tm=!1;q.m2();this.bH&&this.p9();if(this.$t)this.H9(q,r);else{var [v,w]=this.zg.gL(q);this.A$(q,v,w);this.c5(r);q.Ts();q.aq(0);q.Xs(0);this.Xy=r.YT;this.iG=r.RT||0;this.jG=r.ST||0;this.WI=!!r.VU;this.A8(q);this.pl[0]=u;this.pl[1]=1<=this.Xo?this.cP():null;this.pl[2]=2===this.Xo?this.cP():null;for(const y of this.ip)y.Us(q,this.dP(y.cca),this.dP(y.bR));this.pl[1]&&this.XP(this.pl[1]);this.pl[2]&&this.XP(this.pl[2]);this.pl.fill(null);
this.x8(q);this.Xy=this.rm=this.hz=null}}A$(q,u,r){if(0>=u||0>=r)throw Error("invalid draw size");this.Zc===u&&this.Mc===r||this.oO(q,u,r,0,0,this.Pj,this.Wu);this.Zc=u;this.Mc=r}oO(q,u,r,v,w,y,A){v=u/2+v;w=r/2+w;q.yp(y,u/r);q=q.Xr(v,w,100*self.devicePixelRatio,v,w,r);b.ma(A,q)}c5(q){this.Ou.ma(q.Nr);q.Nv?this.Xk.ma(q.Nv):this.Xk.set(0,0,this.Zc,this.Mc);this.nl.ma(this.Xk);this.nl.Cl(this.Zc,this.Mc);q=q.Sv*q.devicePixelRatio;this.Xk.CJ(this.Wt*q,this.Xt*q);this.Lm.ma(this.Xk);this.Lm.Cl(this.Zc,
this.Mc);this.Xk.da(0,0,this.Zc,this.Mc);this.hr.ma(this.Xk);this.hr.Cl(this.Zc,this.Mc)}A8(q){this.aR=q.Mo;this.Dr&&(q.hg(!1),this.Nz&&q.Ys(!0))}w8(q){q.Ts();this.Dr||(q.hg(!1),this.Nz&&q.Ys(!0))}x8(q){q.Ys(!1);q.hg(this.aR);this.tm=q.tm}rO(){this.Lm.da(0,0,1,1)}dP(q){return 0>q?null:this.pl[q]}cP(){return this.zg.pk(this)}XP(q){this.zg.Z1(q,this)}f7(q){return this.RA[q]}IE(q){this.Xy?this.Xy(this,q,()=>this.dG(q,this)):this.dG(q,this);this.$t||this.w8(q)}H7(q){if(this.Dr)return!0;if(0!==this.iG||
0!==this.jG)return!1;const [u,r]=q.hx(q.pk());return u!==this.Zc||r!==this.Mc?!1:!0}nQ(q,u){let r=this.Pj,v=this.Wu;if(u&&!this.H7(q)){r=n;v=h;const [w,y]=q.hx(q.pk());this.oO(q,w,y,this.iG,this.jG,r,v)}q.ao(r);q.fq(v)}p9(){this.zg.Jx(this)}iP(q){return this.VQ(this.jv[q])}R$(q,u){let r=this.Lm,v=this.hr,w=this.nl;q.wk()&&(d.ma(r),d.jn(),r=d,c.ma(v),c.jn(),v=c,g.ma(w),g.jn(),w=g);this.FO(q,u,v,w,r,1/this.Zc,1/this.Mc)}B$(q,u){let r=this.hr,v=this.nl,w=1/this.Zc,y=1/this.Mc;if(this.au){let {NU:G,OU:z,
MU:F}=this.au(this.rm);G||(a.set(0,0,0,0),G=a);z||(z=this.Zc);F||(F=this.Mc);v=r=G;w=1/z;y=1/F}else q.wk()&&(c.ma(r),c.jn(),r=c,g.ma(v),g.jn(),v=g);let A=this.Lm;q.wk()&&(A=d,A.ma(this.Lm),A.jn());this.FO(q,u,r,v,A,w,y)}FO(q,u,r,v,w,y,A){u=this.iP(u);q.DN(this.hz,w,r,v,this.Ou,y,A,this.Gq,this.yH,this.xH,this.Tb,u)}H9(q,u){var r=this.RA[0];const v=q.Mo,w=r.lB;w&&(q.hg(!1),q.Ys(!0),this.Lm.set(0,0,1,1),this.nl.set(0,0,1,1));q.hq(r);q.fg(this.pg);q.ig(this.hz);let y;this.nl.set(0,0,1,1);if(r.yT&&this.au){const {NU:A,
OU:G,MU:z}=this.au(this.rm);A&&this.nl.ma(A);r=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.zg.gL(q);r=1/A;y=1/G}u.Nr?this.Ou.ma(u.Nr):this.Ou.set(0,0,0,0);u=this.iP(0);q.DN(null,this.Lm,this.nl,this.nl,this.Ou,r,y,this.Gq,this.yH,this.xH,this.Tb,u);q.aq(0);this.IE(q);w&&(q.Ys(!1),q.hg(v))}}}"use strict";self.B.I.ke.Xg=class{constructor(e,b,a,d=-1){this.hh=e;this.cca=b;this.bR=a;this.La=d}Sh(){return this.hh}Fa(){return this.La}Af(){return this.Sh().f7(this.Fa())}Us(){}};
{"use strict";const e=self.B;e.I.ke.Xg.K1=class extends e.I.ke.Xg{constructor(b,a,d,c){super(b,a,d,c)}Us(b,a,d){a=this.Sh();b.fN();b.vj();b.ig(d,a.WI);b.sn();a.IE(b);a.rO()}}}{"use strict";const e=self.B,b=e.j(e.Rect),a=e.j(e.sd);e.I.ke.Xg.H1=class extends e.I.ke.Xg{constructor(d,c,g,n){super(d,c,g,n)}Us(d,c,g){const n=this.Sh();d.vj();d.ig(g);n.nQ(d,!0);d.fg(n.pg);d.jg(c.$f());a.Yi(n.Xk);b.ma(n.hr);b.jn();d.Vp(a,b);n.RR&&d.Mp(c)}}}
{"use strict";const e=self.B;e.I.ke.Xg.fY=class extends e.I.ke.Xg{constructor(b,a,d,c){super(b,a,d,c)}Us(b,a,d){a=this.Sh();b.ig(d,a.WI);b.sn();b.WD();b.hq(this.Af());a.B$(b,this.Fa());a.IE(b);a.rO()}}}
{"use strict";const e=self.B,b=e.j(e.Rect),a=e.j(e.sd);e.I.ke.Xg.JV=class extends e.I.ke.Xg{constructor(d,c,g,n){super(d,c,g,n)}Us(d,c,g){const n=this.Sh();d.ig(g);(g=0===this.bR)?d.fg(n.pg):(d.sn(),d.WD());d.hq(this.Af());n.R$(d,this.Fa());d.jg(c.$f());n.nQ(d,g);a.Yi(n.Xk);b.ma(n.hr);b.jn();d.Vp(a,b);n.RR&&d.Mp(c)}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.XZ=class{constructor(d){e=d;Object.defineProperties(this,{Yca:{value:{},writable:!1},storage:{value:new self.YZ(e),writable:!1},epa:{value:e.Zd,writable:!1}});e.Pd.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.Pd.addEventListener("keyup",c=>b.delete(c.key));e.Ib().addEventListener("window-blur",()=>b.clear());e.Zd&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}t7(d){Object.defineProperties(this.Yca,d)}addEventListener(d,c){e.Pd.addEventListener(d,c)}removeEventListener(d,c){e.Pd.removeEventListener(d,c)}get vJ(){return e.hL()}get Loa(){return e.Pl()}random(){return e.Wp()}get EB(){return e.Jb().su}get keyboard(){const d=e.bu.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get rU(){const d=e.bu.rU;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get gK(){const d=e.bu.gK;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Rn("runtime","alert",{message:d+(e.Zd?" [via Web Worker]":"")})}}}"use strict";self.QZ=class{constructor(){}};{"use strict";const e=self.Mh;self.YZ=class{constructor(b){this.rv=b.c7()}getItem(b){e.td(b);return this.rv.getItem(b)}setItem(b,a){e.td(b);return this.rv.setItem(b,a)}removeItem(b){e.td(b);return this.rv.removeItem(b)}clear(){return this.rv.clear()}keys(){return this.rv.keys()}}}
{"use strict";const e=self.Mh,b=new WeakMap;self.vx=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Aa(),writable:!1}});a.G().AP(this,a)}addEventListener(a,d){e.td(a);e.sj(d);b.get(this).Pd.addEventListener(a,d)}removeEventListener(a,d){e.td(a);e.sj(d);b.get(this).Pd.removeEventListener(a,d)}*gU(){for(const a of b.get(this).fa())yield a.Qg()}rJ(a){e.Df(void 0);e.Df(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.G();a=c.Jb().W(a);if(!a)throw Error("invalid layer");d=c.KK(d,a,void 0,void 0,void 0);c=c.ea();c.uf(!0);d.vF();c.uf(!1);return d.Qg()}}}
{"use strict";const e=self.Mh,b=new WeakMap;self.WZ=class{constructor(a){b.set(this,a);const d=[],c=a.Ka,g=c.Xf().length;for(let n=0;n<g;++n)d.push(new self.dD(c,n));Object.defineProperties(this,{name:{value:a.Aa(),writable:!1},index:{value:a.Fa(),writable:!1},ZT:{value:d,writable:!1}})}addEventListener(a,d){e.td(a);e.sj(d);b.get(this).Pd.addEventListener(a,d)}removeEventListener(a,d){e.td(a);e.sj(d);b.get(this).Pd.removeEventListener(a,d)}get width(){return b.get(this).ta()}set width(a){b.get(this).Gk(a)}get height(){return b.get(this).qa()}set height(a){b.get(this).Dk(a)}set scale(a){e.Ak(a);
b.get(this).EN(a)}get scale(){return b.get(this).hd}set angle(a){e.Ak(a);b.get(this).Gd(a)}get angle(){return b.get(this).Ea()}set scrollX(a){e.Df(a);b.get(this).di(a)}get scrollX(){return b.get(this).yf()}set scrollY(a){e.Df(a);b.get(this).ei(a)}get scrollY(){return b.get(this).zf()}scrollTo(a,d){e.Df(a);e.Df(d);const c=b.get(this);c.di(a);c.ei(d)}set xU(a){e.td(a);const d=b.get(this);if("perspective"===a)d.CN();else if("orthographic"===a)d.zN();else throw Error("invalid projection");}get xU(){return b.get(this).bf?
"orthographic":"perspective"}}}
{"use strict";const e=self.B,b=self.Mh,a=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(n=>[n[1],n[0]])),g=e.j(e.Za);self.VZ=class{constructor(n){a.set(this,n);const h=[],l=n.Ka,m=l.Xf().length;for(let p=0;p<m;++p)h.push(new self.dD(l,p));Object.defineProperties(this,{name:{value:n.Aa(),writable:!1},index:{value:n.Fa(),
writable:!1},EB:{value:n.Vb().su,writable:!1},ZT:{value:h,writable:!1}})}get isVisible(){return a.get(this).Fc()}set isVisible(n){a.get(this).wj(n)}get opacity(){return a.get(this).pe()}set opacity(n){n=e.da(+n,0,1);isNaN(n)||a.get(this).Ek(n)}set scale(n){b.Ak(n);a.get(this).AN(n)}get scale(){return a.get(this).hd}set angle(n){b.Ak(n);a.get(this).Gd(n)}get angle(){return a.get(this).Vd}set ew(n){b.Ak(n);a.get(this).Ue(n)}get ew(){return a.get(this).$a()}set dn(n){b.td(n);n=d.get(n);if("number"!==
typeof n)throw Error("invalid blend mode");a.get(this).fg(n)}get dn(){return c.get(a.get(this).cj())}set backgroundColor(n){b.OD(n);if(3>n.length)throw Error("expected 3 elements");g.Sr(n[0],n[1],n[2]);n=a.get(this);const h=n.Sk;h.Dl(g)||(h.Ti(g),n.G().$())}get backgroundColor(){const n=a.get(this).Sk;return[n.Qa,n.Ua,n.Ta]}set scrollX(n){b.Df(n);const h=a.get(this);h.at(!0);h.di(n)}get scrollX(){return a.get(this).yf()}set scrollY(n){b.Df(n);const h=a.get(this);h.at(!0);h.ei(n)}get scrollY(){return a.get(this).zf()}scrollTo(n,
h){b.Df(n);b.Df(h);const l=a.get(this);l.at(!0);l.di(n);l.ei(h)}}}
{"use strict";const e=self.B,b=self.Mh,a=new WeakMap,d=new WeakMap;function c(n){let h=d.get(n);if(h)return h;h=e.j(e.Event.Ib);d.set(n,h);return h}let g=null;self.ux=class{constructor(){a.set(this,g);const n={sf:{value:g.G().Ei,writable:!1},OJ:{value:g.H().tu,writable:!1},uid:{value:g.kc,writable:!1}};g.U6(n);g.P6(n);Object.defineProperties(this,n);g.G().AP(this,g)}static ng(n){g=n}static ny(){return g}Dt(){const n=d.get(this);n&&(n.m(),d.delete(this));a.delete(this)}addEventListener(n,h,l){b.td(n);
b.sj(h);c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){b.td(n);b.sj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}
{"use strict";const e=self.B,b=self.Mh,a=self.ux,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(n=>[n[1],n[0]]));e.j(e.Za);self.eD=class n extends a{constructor(){super();var h=a.ny();d.set(this,h);const l=[];var m=h.A();if(h=m.Jf){m=m.H().Ka.Xf().length;for(let p=0;p<m;++p)l.push(new self.dD(h,p))}Object.defineProperties(this,
{ZT:{value:l,writable:!1}})}get EB(){return d.get(this).A().Vb().su}get oU(){return d.get(this).A().W().nba}get x(){return d.get(this).A().ga()}set x(h){h=+h;const l=d.get(this).A();isNaN(h)||l.ga()===h||(l.gi(h),l.sb())}get y(){return d.get(this).A().ia()}set y(h){h=+h;const l=d.get(this).A();isNaN(h)||l.ia()===h||(l.hi(h),l.sb())}get ew(){return d.get(this).A().$a()}set ew(h){h=+h;const l=d.get(this),m=l.A();isNaN(h)||m.$a()===h||(m.Ue(h),l.G().$())}get width(){return d.get(this).A().ta()}set width(h){h=
+h;const l=d.get(this).A();isNaN(h)||l.ta()===h||(l.Gk(h),l.sb())}get height(){return d.get(this).A().qa()}set height(h){h=+h;const l=d.get(this).A();isNaN(h)||l.qa()===h||(l.Dk(h),l.sb())}get angle(){return d.get(this).A().Ea()}set angle(h){h=e.ie(+h);const l=d.get(this).A();isNaN(h)||l.Ea()===h||(l.Gd(h),l.sb())}AJ(){d.get(this).A().Vc().$da()}get isVisible(){return d.get(this).A().Fc()}set isVisible(h){h=!!h;const l=d.get(this),m=l.A();m.Fc()!==h&&(m.wj(h),l.G().$())}get opacity(){return d.get(this).A().pe()}set opacity(h){h=
e.da(+h,0,1);const l=d.get(this),m=l.A();isNaN(h)||m.pe()===h||(m.Ek(h),l.G().$())}set dn(h){b.td(h);h=c.get(h);if("number"!==typeof h)throw Error("invalid blend mode");const l=d.get(this);l.A().fg(h);l.G().$()}get dn(){return g.get(d.get(this).A().cj())}get zIndex(){return d.get(this).A().lj()}pf(h,l){b.Df(h);b.Df(l);return d.get(this).A().Zr(+h,+l)}getParent(){const h=d.get(this).Ba();return h?h.Qg():null}*Xv(){for(const h of d.get(this).Xv())yield h.Qg()}*children(){for(const h of d.get(this).children())yield h.Qg()}*bk(){for(const h of d.get(this).bk())yield h.Qg()}removeChild(h){b.PD(h,
n);const l=d.get(this);h=d.get(h);l.rj(h)}}}{"use strict";const e=new WeakMap;self.Yga=class extends self.eD{constructor(){super();e.set(this,self.ux.ny())}focus(){e.get(this).wa.$K()}blur(){e.get(this).wa.tK()}}}
{"use strict";const e=self.B,b=self.Mh,a=new WeakMap,d=new WeakMap;function c(n){let h=d.get(n);if(h)return h;h=e.j(e.Event.Ib);d.set(n,h);return h}let g=null;self.TZ=class{constructor(){a.set(this,g);const n={sf:{value:g.G().Ei,writable:!1},behavior:{value:g.Ml().PY(),writable:!1}};Object.defineProperties(this,n)}static ng(n){g=n}static ny(){return g}get instance(){return a.get(this).na.Qg()}Dt(){const n=d.get(this);n&&(n.m(),d.delete(this));a.delete(this)}addEventListener(n,h,l){b.td(n);b.sj(h);
c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){b.td(n);b.sj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}{"use strict";const e=new WeakMap;self.SZ=class{constructor(b){e.set(this,b);Object.defineProperties(this,{sf:{value:b.G().Ei,writable:!1}})}}}
{"use strict";const e=self.B,b=self.Mh,a=new WeakMap;self.dD=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Xf()[this.index].Aa()}getParameter(d){b.Ak(d);d=Math.floor(+d);const c=a.get(this).kk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.Za?[d.Qa,d.Ua,d.Ta]:d}}}
{"use strict";const e=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.BV=class extends e.aa{constructor(d,c){super();var g=c.exportType;this.g=d;this.qA=new Map;this.$q=new Map;this.Iba=new Map;this.Oz="cordova"===g;this.qH=!!c.isiOSCordova;this.Au=!!c.isFileProtocol;this.eca=c.supportedAudioFormats||{};this.SF=
new Map;this.KS=!1;this.HR=this.pR=this.tS="";this.fz="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.GF=[];this.RF=new Map;this.cJ=[];this.oA=[];this.CR=!1;this.hA=this.QF=this.zv=0;this.MG=!1;this.Hba=e.j(e.W1,()=>this.QO(),50);this.iI=new e.HM(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(d,g);(g=c.projectData)&&(d["data.json"]=g);for(const [n,h]of Object.entries(d))this.qA.set(n.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [n,
h]of Object.entries(c))this.Iba.set(n,h);new self.QZ(this)}m(){this.qA.clear();for(const d of this.$q.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.$q.clear();for(const d of this.GF)d.m();e.D(this.GF);this.RF.clear();e.D(this.oA);this.g=null}G(){return this.g}Q$(d){this.tS=d}F$(d){this.pR=d}K$(d){this.HR=d}ty(d){return this.qA.has(d.toLowerCase())}oy(d){return this.qA.get(d.toLowerCase())||null}OC(d){if(!this.ty(d))return d;d=d.toLowerCase();var c=this.$q.get(d);c||(c=this.oy(d),c=URL.createObjectURL(c),
this.$q.set(d,c));return c}ik(d,c){c=c||this.fz;const g=this.oy(d);if(g)return Promise.resolve(g);if(e.vD(d)){const n=d.toLowerCase();return this.Oz&&this.Au?this.IK(n):"local"===c?this.iI.Uc(()=>e.ik(n)):e.ik(n)}return e.ik(d)}cs(d){const c=this.oy(d);if(c)return e.HV(c);if(e.vD(d)){const g=d.toLowerCase();return this.Oz&&this.Au?this.HK(g):"local"===this.fz?this.iI.Uc(()=>e.cs(g)):e.cs(g)}return e.cs(d)}ds(d){const c=this.oy(d);if(c)return e.sK(c);if(e.vD(d)){const g=d.toLowerCase();return this.Oz&&
this.Au?this.qW(g):"local"===this.fz?this.iI.Uc(()=>e.ds(g)):e.ds(g)}return e.ds(d)}async YK(d){d=await this.ds(d);return JSON.parse(d)}yE(d,c){return this.g.Rn("runtime","cordova-fetch-local-file",{filename:d,as:c})}qW(d){return this.yE(d,"text")}async IK(d){const c=await this.yE(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.Qd(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async pW(d){d=d.toLowerCase();var c=this.$q.get(d);if(c)return c;c=await this.IK(d);c=URL.createObjectURL(c);
this.$q.set(d,c);return c}HK(d){return this.yE(d,"buffer")}sL(d){return this.ty(d)?this.OC(d):this.tS+d.toLowerCase()}RC(d,c=""){if(e.RL(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.ty(d)?Promise.resolve(this.OC(d)):this.Oz&&this.Au?this.pW(c+d):Promise.resolve(c+d.toLowerCase())}zD(d){if(d.GB&&!b.has(d.GB))throw Error("invalid load policy");let c=this.RF.get(d.url);if(c)return c;c=e.j(e.PL,this,{url:d.url,size:d.size||0,GB:d.GB||this.fz});
this.GF.push(c);this.RF.set(c.Ev,c);this.CR||(this.zv+=c.Cn(),this.oA.push(c.o0().then(()=>this.hO(c.Cn()))));return c}async ZN(){try{await Promise.all(this.oA),this.hA=1}catch(d){console.error("Error loading: ",d),this.MG=!0,this.QO()}}b3(){this.CR=!0}hO(d){this.QF+=d;this.Hba.RV()}QO(){const d=e.j(e.Event,"loadingprogress");this.hA=e.da(this.QF/this.zv,0,1);d.progress=this.hA;this.g.Ib().dispatchEvent(d)}Y$(d){e.Dc(this.cJ,d);this.cJ.length&&this.oA.push(this.h8())}h8(){if("undefined"===typeof FontFace)return Promise.resolve();
const d=[];for(const [c,g,n]of this.cJ)this.zv+=n,d.push(this.g8(c,g).then(()=>this.hO(n)));return Promise.all(d)}async g8(d,c){try{const g=await this.RC(c,this.pR),n=new FontFace(d,`url('${g}')`);this.g.Zd?self.fonts.add(n):document.fonts.add(n);await n.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${d}': `,g)}}SL(d){return!!this.eca[d]}r$(d,c){this.KS=!!c;for(const [g,n,h]of d)this.SF.set(g,{fileName:g,Qca:n.map(l=>({type:l[0],voa:l[1],bU:g+l[1],fileSize:l[2]})),hda:h})}wL(d){d=
this.SF.get(d.toLowerCase());if(!d)return null;let c=null;for(const g of d.Qca)if(c||"audio/webm; codecs=opus"!==g.type||(c=g),this.SL(g.type))return g;return c}Zf(d){return(d=this.wL(d))?{url:this.sL(d.bU),type:d.type}:null}nY(){if(this.KS){const d=[];for(const c of this.SF.values()){if(c.hda)continue;const g=this.wL(c.fileName);g&&d.push({Bda:c.fileName,url:this.sL(g.bU),type:g.type,fileSize:g.fileSize})}return d}return[]}async lM(d){d=await this.RC(d);return await this.g.Rn("runtime","add-stylesheet",
{url:d})}}}
{"use strict";const e=self.B;e.AV=class extends e.aa{constructor(b,a){super();this.lb=b;this.g=b.G();this.Ev=a.url;this.TA=a.size;this.EH=a.GB;this.Em=this.Vt=null}m(){this.Vt=this.g=this.lb=this.Em=null}Cn(){return this.TA}o0(){return"local"===this.EH||this.Vt?Promise.resolve():this.Em?this.Em:this.Em=this.lb.ik(this.Ev,this.EH).then(b=>{this.Em=null;return this.Vt=b}).catch(b=>console.error("Error loading resource: ",b))}rY(){return this.Vt?Promise.resolve(this.Vt):this.Em?this.Em:this.lb.ik(this.Ev,this.EH)}}}
{"use strict";const e=self.B,b=new e.HM,a=new Set;e.PL=class extends e.AV{constructor(d,c){super(d,c);this.Wj=this.kp=null;this.Bc=0;this.JR=this.KR=-1;a.add(this)}m(){this.zk();if(0!==this.Bc)throw Error("released image asset which still has texture references");this.kp=null;a.delete(this);super.m()}static Fx(){for(const d of a)d.kp=null,d.Wj=null,d.Bc=0}AD(d,c){c=c||{};this.Bc++;if(this.Wj)return Promise.resolve(this.Wj);if(this.kp)return this.kp;c.MT=this.g.N.nT;return this.kp=this.rY().then(g=>
b.Uc(()=>d.ww(g,c).then(n=>{this.kp=null;if(0===this.Bc)return d.$i(n),null;this.Wj=n;this.KR=n.ta();this.JR=n.qa();return this.Wj}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}zk(){if(0>=this.Bc)throw Error("texture released too many times");this.Bc--;0===this.Bc&&this.Wj&&(this.Wj.kb().$i(this.Wj),this.Wj=null)}$f(){return this.Wj}ta(){return this.KR}qa(){return this.JR}}}
{"use strict";const e=self.B;function b(a,d){return a.A().ak-d.A().ak}e.g2=class extends e.aa{constructor(a,d,c){super();this.O=d;this.M=c;this.F=[];this.Fu=!0;this.Li=new Set;this.xu=!1}m(){e.D(this.F);this.Li.clear()}Yc(){e.D(this.F);this.Fu=!0;this.Li.clear();this.xu=!1}K2(){this.Fu=!1}Nn(){if(!this.F.length)return!0;if(this.F.length>this.Li.size)return!1;this.LE();return!0}iD(a){this.Li.has(a)?(this.Li.delete(a),0===this.Li.size&&(this.xu=!1)):(this.F.push(a),this.Fu=1===this.F.length)}Vg(a){this.Li.add(a);
this.xu=!0;50<=this.Li.size&&this.LE()}LE(){this.xu&&(this.F.length===this.Li.size?this.Yc():(e.Tf(this.F,this.Li),this.Li.clear(),this.xu=!1))}x6(){this.Fu||(this.F.sort(b),this.Fu=!0)}qC(a){this.LE();this.x6();this.F.length&&a.push(this.F)}}}
{"use strict";const e=self.B;e.h2=class extends e.aa{constructor(b,a){super();this.fG=b;this.eG=a;this.si=e.j(e.Os)}m(){this.si.m();this.si=null}Nl(b,a,d){let c=this.si.Y(b,a);return c?c:d?(c=e.j(e.g2,this,b,a),this.si.Set(b,a,c),c):null}ii(b){return Math.floor(b/this.fG)}ji(b){return Math.floor(b/this.eG)}Ik(b,a,d){if(a)for(let c=a.X,g=a.ca;c<=g;++c)for(let n=a.T,h=a.Z;n<=h;++n){if(d&&d.pf(c,n))continue;const l=this.Nl(c,n,!1);l&&(l.Vg(b),l.Nn()&&this.si.un(c,n))}if(d)for(let c=d.X,g=d.ca;c<=g;++c)for(let n=
d.T,h=d.Z;n<=h;++n)a&&a.pf(c,n)||this.Nl(c,n,!0).iD(b)}Ix(b,a){let d=this.ii(b.X);const c=this.ji(b.T),g=this.ii(b.ca);for(b=this.ji(b.Z);d<=g;++d)for(let n=c;n<=b;++n){const h=this.Nl(d,n,!1);h&&h.qC(a)}}x0(b){let a=b.X;const d=b.T,c=b.ca;for(b=b.Z;a<=c;++a)for(let g=d;g<=b;++g){const n=this.Nl(a,g,!1);n&&n.K2()}}}}
{"use strict";const e=self.B,b=new e.Rect,a=new e.sd,d=[];new e.Rect;new e.Rect;const c=self.Xi,g=c.RB,n=c.cw,h=c.El;h.create();const l=g.create(),m=n.create(),p=g.create(),q=g.create(),u=g.create(),r=e.j(e.by);e.j(e.Rect);function v(z,F){return z.A().ak-F.A().ak}function w(z,F){return z.A().$a()-F.A().$a()}const y=[],A=[],G=[];e.gM=class extends e.aa{constructor(z,F,I){super();this.yg=z;this.g=z.G();this.ES=F;this.Da=I[0];this.La=-1;this.fb=I[2];this.Iu=!!I[3];this.Sk=e.j(e.Za);this.Sk.Hl(I[4].map(M=>
M/255));this.Nj=!!I[5];this.Ld=I[6];this.Md=I[7];this.bb=e.j(e.Za,1,1,1,I[8]);this.HA=e.j(e.Za);this.fH=I[9];this.Yba=I[17];this.uT=I[18];this.kca=I[10];this.Oi=I[11];this.pg=I[12];this.ye=null;this.hd=1;this.Sc=I[16];this.zh=this.yh=this.Vd=0;this.$k=!1;this.Sf=e.j(e.Rect);this.CT=e.j(e.Rect);this.bn=e.j(e.Rect);this.Pj=h.create();this.nH=!0;this.Wu=h.create();this.lH=!0;this.BT=e.j(e.I.p4);this.dA=!0;this.kT=[];this.NR=I[14];this.Kj=[];this.dz=[];this.OR=new Map;this.F=[];this.ro=this.gJ=!1;const J=
this.g.N;this.Ka=e.j(e.gk,this,I[15]);this.hh=e.j(e.I.ke,J.rG,{vB:(M,P)=>{P=P.rm;const R=P.pk();M.dm(P.QC());M.Ew(R);M.Mp(R);J.Un(R)},AB:M=>this.Ka.kk(M)});this.Hv=this.jl=!0;this.jr=null;this.sH=[];this.Xz=!1;this.Eba=e.j(e.Rect,0,0,-1,-1);this.dba=e.j(e.Rect,0,0,-1,-1);this.nba=new self.VZ(this);this.JQ();this.io()&&(this.jr=e.j(e.h2,this.g.Cg,this.g.Bg));this.Pm=I[19].map(M=>e.j(e.gM,this.yg,this,M))}ng(){for(const z of this.NR){const F=this.g.Ne(z[1]);this.yg.fO(F);F.Fq||F.kN(z);this.Kj.push(z);
this.OR.set(z[2],z)}e.Dc(this.kT,this.Kj);this.NR=null}m(){this.g=this.yg=null}QY(z){return this.OR.get(z)}tW(z){const F=this.yg.Oo;let I=0;const J=this.Kj;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.Ne(M[1]);let Z=!0;if(!T.aD()||F)M=this.g.Ph(M,this,!0),z.push(M),T.Cf()&&(Z=!1,this.dz.push(M.kc));Z&&(J[I]=J[P],++I)}e.Je(J,I);this.g.Ed();this.kg()}mg(z,F){const I=z.A();if(I.W()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==I.$a()&&(this.ro=!0);F&&this.io()&&
z.A().sb();this.kg()}j8(z){this.F.includes(z)||(this.F.push(z),0!==z.A().$a()&&(this.ro=!0),this.kg())}j9(z){const F=z.A();if(F.W()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==F.$a()&&(this.ro=!0);this.kg()}mo(z,F){const I=this.F.indexOf(z);0>I||(F&&this.io()&&z.A().ZP(),this.F.splice(I,1),this.kg(),this.FP())}mQ(){this.ro=!0}FP(){0===this.F.length&&(this.ro=!1)}sF(z){if(z){z=new Set;for(var F of this.F){var I=F.A().ak;0<=I&&z.add(I)}F=-1;for(const J of this.F)if(I=J.A(),
!(0<=I.ak)){for(++F;z.has(F);)++F;I.Gy(F)}}this.F.sort(v)}w6(){for(const z of this.F)z.H().Cf()||this.g.vn(z);this.g.Ed();e.D(this.F);this.ro=!1;this.kg()}Rs(z,F,I,J,M){const P=this.g.ea(),R=this.g.Ic,T=z.eb,Z=[];for(const Y of this.Kj){var X=Y[0];if(F.pf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.XK(X))continue}else continue;X=this;var ba=this.g.Ia();this.Vb()!==ba&&((X=ba.qL(this.Aa()))||(X=ba.Ww(this.Fa())));ba=this.g.Ph(Y,X,!1,void 0,void 0,!1,M);X.NN(ba);X=ba.A();X.Ex(I,J);X.sb();P.uf(!0);ba.vF();
P.uf(!1);Z.push(ba)}}return Z}Vb(){return this.yg}Aa(){return this.Da}nF(z){this.La=z}Fa(){return this.La}G(){return this.g}dj(){return this.g.dj()}Sh(){this.yt();return this.hh}yt(){const z=this.Lp();if(this.jl||z!==this.Hv){var F=this.Ka.Ff;this.hh.eC(F.map(I=>I.Af()),{Ir:F.map(I=>I.Fa()),yB:!z,QB:!0});this.jl=!1;this.Hv=z}}Yg(){this.Ka.Yg();this.jl=!0}io(){return this.kca&&!this.uT}p3(){this.Xz=!1}Fc(){for(const z of this.Mda())if(!z.Iu)return!1;return!0}wj(z){z=!!z;this.Iu!==z&&(this.Iu=z,this.g.$())}at(z){z=
!!z;if(this.$k!==z){if(this.$k=z)z=this.Vb(),this.yh=z.yf(),this.zh=z.zf();this.Bj();this.g.$()}}di(z){var F=this.Vb();const I=F.AL();F=F.BL();z>F&&(z=F);z<I&&(z=I);this.yh!==z&&(this.yh=z,this.$k&&(this.Bj(),this.g.$()))}ei(z){var F=this.Vb();const I=F.CL();F=F.zL();z>F&&(z=F);z<I&&(z=I);this.zh!==z&&(this.zh=z,this.$k&&(this.Bj(),this.g.$()))}yf(){return this.$k?this.yh:this.Vb().yf()}zf(){return this.$k?this.zh:this.Vb().zf()}OE(){const z=this.Vb();return[z.UC(),z.VC()]}KL(z,F){var I=this.CT;if(0===
z)F.ma(I);else{let R=I.Or(),T=I.Pr();var J=this.bL(z);const Z=I.width()/J;I=I.height()/J;const [X,ba]=this.OE();if(.5!==X||.5!==ba){const Y=this.js();var M=this.g,P=100/Y;J=(X-.5)*M.lf/P;M=(ba-.5)*M.kf/P;P=this.Ea();0!==P&&(r.set(J,M),r.rotate(P),J=r.O,M=r.M);z=e.PB(Y,0,z);R+=e.Rd(J,0,z);T+=e.Rd(M,0,z)}F.set(R-Z/2,T-I/2,R+Z/2,T+I/2)}}pe(){return this.bb.Sa}Ek(z){z=e.da(z,0,1);this.bb.Sa!==z&&(this.bb.Qr(z),this.JQ(),this.g.$())}JQ(){this.HA.ma(this.bb);this.HA.UJ()}QC(){return this.HA}Lp(){return this.bb.wB(1,
1,1,1)}q3(z){this.Oi!==z&&(this.Oi=z,this.Bj(),this.g.$())}m3(z,F){if(this.Ld!==z||this.Md!==F)if(this.Ld=z,this.Md=F,this.Bj(),this.g.$(),1!==this.Ld||1!==this.Md)for(const I of this.F)I.H().kF(!0)}Ue(z){this.Sc!==z&&(this.Sc=z,this.g.$())}$a(){return this.Sc}Gd(z){z=e.ie(z);this.Vd!==z&&(this.Vd=z,this.Bj(),this.g.$())}Ea(){return e.ie(this.yg.Ea()+this.Vd)}JZ(){return 0<this.F.length}ME(){return this.MD()&&this.uT?(e.Dc(G,this.F),G.sort((z,F)=>this.faa(z,F)),G):this.F}mO(z){e.Al(z,this.ME());for(const F of this.Pm)F.Fc()&&
0<F.pe()&&F.mO(z)}faa(z,F){var I=this.Vb().TQ,J=I[0],M=I[1];I=I[2];var P=z.A();const R=F.A();F=P.ga()-J;z=P.ia()-M;P=P.$a()-I;J=R.ga()-J;M=R.ia()-M;I=R.$a()-I;return J*J+M*M+I*I-(F*F+z*z+P*P)}C3(z){z=!!z;this.Nj!==z&&(this.Nj=z,this.g.$())}X2(z){z=!!z;this.fH!==z&&(this.fH=z,this.g.$())}OM(){return!this.G().yl||!this.Yba}MD(){return!this.OM()}Kp(){return this.MD()&&this.Vb().vba}UD(){if(!this.Kp())return!1;for(const z of this.Pm)if(!z.UD())return!1;return!0}fg(z){this.pg!==z&&(this.pg=z,this.g.$())}cj(){return this.pg}EZ(){for(const z of this.Pm)if(z.Vx())return!0;
return!1}*FU(){for(const z of this.Pm)yield*z.FU();yield this}*Dda(){let z=this.ES;for(;z;)yield z,z=z.ES}*Mda(){yield this;yield*this.Dda()}f0(z){return this===z||this.Ld===z.Ld&&this.Md===z.Md&&this.hd===z.hd&&this.Oi===z.Oi&&this.Vd===z.Vd&&this.yf()===z.yf()&&this.zf()===z.zf()}x9(z){0!==z.size&&0<e.Tf(this.F,z)&&(this.FP(),this.kg())}kg(){this.Xz=this.gJ=!1}Kt(){if(!this.gJ){this.F.sort(w);if(this.io())for(let z=0,F=this.F.length;z<F;++z){const I=this.F[z].A();I.Gy(z);this.jr.x0(I.bv)}else for(let z=
0,F=this.F.length;z<F;++z)this.F[z].A().Gy(z);this.gJ=!0}}D0(z,F,I){var J=z.A();F=F.A();if(J.W()!==this||F.W()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.lj();F=F.lj();if(J===F+(I?1:-1))return!1;e.vca(this.F,J);J<F&&F--;I&&F++;F===this.F.length?this.F.push(z):this.F.splice(F,0,z);this.kg();return!0}r8(z,F){const I=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=z[J],Z=F[M];T.A().ak<Z.A().ak?(I.push(T),++J):(I.push(Z),++M)}for(;J<P;++J)I.push(z[J]);
for(;M<R;++M)I.push(F[M]);return I}q8(z){const F=[],I=z.length;for(let J=0;J<I-1;J+=2)F.push(this.r8(z[J],z[J+1]));1===I%2&&F.push(z[I-1]);return F}p8(z){for(;1<z.length;)z=this.q8(z);return z[0]}e7(){this.Kt();e.D(d);this.jr.Ix(this.Sf,d);return d.length?1===d.length?d[0]:this.p8(d):[]}Vx(){return this.Fc()&&0<this.pe()&&this.KO()}KO(){if(this.JZ()||!this.Nj)return!0;for(const z of this.Pm)if(z.KO())return!0;return!1}ht(){return this.fH||!this.Lp()||0!==this.cj()||this.Ka.Fs()}VD(){if(this.ht())return!0;
for(const z of this.Pm)if(z.VD())return!0;return!1}pk(){return this.ye}bL(z){if(this.yg.bf)return 1;{const F=this.js();return F/(F-z)}}js(){return 100/this.Wh()}Bj(){this.dA=this.lH=!0}qy(z){this.lH&&(this.a5(z,this.Wu),this.lH=!1);return this.Wu}N6(){var z=this.g,F=this.Vb(),I=z.Sl(),J=z.zA,M=z.AA;J=(this.yf()-J)*this.Ld+J;var P=(this.zf()-M)*this.Md+M;z.Po&&(J=Math.round(J),P=Math.round(P));M=(J+0)*I;J=(P+0)*I;F=F.bf?100:this.js();const [R,T]=this.OE();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*
z.lf*I/Z;z=(T-.5)*z.kf*I/Z;I=this.Ea();0!==I&&(r.set(P,z),r.rotate(I),P=r.O,z=r.M);M+=P;J+=z}return[M,J,F]}a5(z,F){const I=this.g;var J=this.Vb();const M=I.Sl();if(this.Kp()){g.ma(p,J.TQ);g.ma(q,J.Waa);g.ma(u,J.Xaa);J=I.zA;const P=I.AA,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.Ld+J;p[1]=(p[1]-P)*this.Md+P;p[2]*=Math.max(this.Ld,this.Md);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,M,M,1);g.multiply(p,p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.N6();g.set(p,P,R,T);g.set(q,P,R,T-100);
J=this.Ea();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.vK(F,p,q,u,I.N.Rh());1!==M&&(g.set(l,M,M,1),h.scale(F,F,l))}S$(){this.dA=this.nH=!0}ry(z){this.nH&&(this.b5(z),this.nH=!1);return this.Pj}b5(z){const F=this.g.N,[I,J]=this.OE();this.yg.bf?z.NV(this.Pj,F.fj(),F.Rh()):.5===I&&.5===J?h.ma(this.Pj,F.gz):z.yp(this.Pj,F.fj()/F.Rh(),I,J)}Ey(z){z.ao(this.ry(z));let F;F=this.qy(z);z.fq(F)}M1(z){this.Ey(z);z.aq(this.$a())}aj(z,F,I){var J=this.g.N;const M=this.ht();var P=null;let R=null;if(this.g.pD()&&
z.wk()){const T=J.rL(this);T&&(R=T.$B(),z.mE(R))}M?(P={Fl:this.g.Ad},"low"===J.mh&&(P.width=J.fj(),P.height=J.Rh()),this.ye=P=this.g.gs(P),z.ig(P),this.Nj&&z.sn()):(this.ye=F,z.ig(F));this.Nj||z.jd(this.Sk);this.yg.IO(z,this.ye,this.Pm,M&&this.Nj);this.Ey(z);z.aq(this.$a());z.hg(this.MD());this.Wh()>Number.EPSILON&&(this.Kt(),J=this.io()&&0===this.$a()&&!this.ro,this.Kp()?this.k6(z):J?this.l6(z):this.HO(z,this.ME()));z.aq(0);z.Xs(0);M&&(z.hg(!1),this.m6(z,P,F,I));R&&z.sC(R);this.ye=null}HO(z,F){const I=
this.Sf,J=this.ye,M=this.Vb().bf,P=this.Vb().OL();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.A();ba.Fc()&&ba.bM(I,P,M)&&this.Lk(X,ba,z,J)}}k6(z){const F=this.ye,I=this.nq(),J=this.ME();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.A();if(!P.Fc()||!P.Pp(I)){++T;continue}(!M.Yp()||0<P.Lc)&&A.push(M);var R=M.A().Qe();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.A();if(Y.Fc()&&Y.Pp(I)){if(Y.Qe()!==R)break;ba.Yp()?(0<Y.Lc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==
y.length||y[0].pM()){this.h6(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.A(),P.Cy(!0),this.Lk(M,P,z,F),P.Cy(!1)}else{this.Lk(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.A(),R.W().Lk(P,R,z,F))}T=X;e.D(y);e.D(A)}}h6(z,F){const I=this.ye;z.FK();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.A();M.Ay(!0);this.JE(J,M,z)}z.EK();for(let P=0,R=F.length;P<R;++P)J=F[P],M=J.A(),this.Lk(J,M,z,I),M.Ay(!1);z.DK()}l6(z){var F=this.jr;const I=this.dba,J=this.Eba,M=this.Sf;I.set(F.ii(M.X),
F.ji(M.T),F.ii(M.ca),F.ji(M.Z));this.Xz&&I.cd(J)?F=this.sH:(F=this.e7(),this.Xz=!0,J.ma(I));this.HO(z,F);F!==this.sH&&e.Dc(this.sH,F)}Lk(z,F,I,J){F.Fs()?this.j6(z,F,I,J):this.JE(z,F,I)}JE(z,F,I){F=F.hp;I.wi!==F&&F.vV();z.aj(I)}j6(z,F,I,J){this.i6(z,F,I,J)&&this.Ey(I)}i6(z,F,I,J){const M=F.Jf.Sh();M.Wn(I,J,{rB:z,dn:F.cj(),devicePixelRatio:this.g.qs(),Sv:this.g.rs()*this.Wh(),DB:this.Ea(),Nr:F.Vc(),Nv:M.$t?null:this.A7(F),YT:null,RT:null,ST:null,VU:null});I.aq(this.$a());return M.tm}m6(z,F,I,J){const M=
this.g;0===this.Ka.Ff.length?(z.ig(I),z.vj(),J&&0===this.pg&&this.Lp()?z.GK(F):(z.fg(this.pg),z.dm(this.HA),z.Ew(F)),z.Mp(F),M.Un(F)):this.Sh().Wn(z,I,{rB:this,dn:this.cj(),devicePixelRatio:M.qs(),Sv:M.rs()*this.Wh(),DB:this.Ea(),Nr:this.Sf,Nv:null,FJ:!0})}AN(z){this.hd!==z&&(this.hd=z,this.yg.jw(),this.Bj(),this.g.$())}Sl(){return this.Wh()*this.g.Sl()}ej(){return this.Wh()*this.g.ej()}Wh(){return(this.hd*this.yg.hd-1)*this.Oi+1}sE(){var z=this.g.zA,F=this.g.AA,I=(this.yf()-z)*this.Ld+z,J=(this.zf()-
F)*this.Md+F;z=this.Wh();F=this.g.lf/z;z=this.g.kf/z;I-=F/2;let M=J-z/2;this.g.Po&&(I=Math.round(I),M=Math.round(M));J=this.CT;J.set(I,M,I+F,M+z);F=this.Ea();0!==F&&(b.ma(J),b.offset(-J.Or(),-J.Pr()),a.Pda(b,F),a.AJ(b),b.offset(J.Or(),J.Pr()),J.ma(b));F=this.Sc;this.KL(F,this.Sf);this.Kp()?this.QV(F,this.bn):this.bn.ma(this.Sf)}QV(z,F){var I=this.g.N,J=I.Kc;I=I.yc;const [M,P]=this.Mg(0,0,z),[R,T]=this.Mg(J,0,z),[Z,X]=this.Mg(J,I,z),[ba,Y]=this.Mg(0,I,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);I=
Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(I)||(I=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,I,va)}Mg(z,F,I=0){return this.e5(z,F,I,this.ej())}e5(z,F,I,J){const M=this.g;var P=M.kb();const R=this.Wh();n.set(m,0,0,M.lf/R,M.kf/R);z/=J;F=m[3]-F/J;J=this.ry(P);P=this.qy(P);return e.I.h4(z,F,I,P,J,m,l)?[l[0],l[1]]:[NaN,NaN]}UV(z,F){const I=this.hd,J=this.Oi,M=this.Ld,P=this.Md,R=this.Vd;this.Md=this.Ld=this.Oi=this.hd=1;this.Vd=0;this.Bj();
z=this.Mg(z,F);this.hd=I;this.Oi=J;this.Ld=M;this.Md=P;this.Vd=R;this.Bj();return z}Qn(z,F){return this.yP(z,F,0,this.ej())}pj(z,F,I=0){return this.yP(z,F,I,this.Sl()*this.dj())}yP(z,F,I,J){var M=this.g,P=M.kb();const R=this.Wh();n.set(m,0,0,M.lf/R,M.kf/R);M=this.ry(P);P=this.qy(P);return e.I.O1(z,F,I,P,M,m,l)?[l[0]*J,(m[3]-l[1])*J]:[NaN,NaN]}A7(z){var F=z.Vc(),I=z.Qe();z=z.Lc;const J=I+z,M=F.X,P=F.T,R=F.ca;F=F.Z;if(this.Kp()){if(this.km(M,P,I)||this.km(R,P,I)||this.km(R,F,I)||this.km(M,F,I)||0<z&&
(this.km(M,P,J)||this.km(R,P,J)||this.km(R,F,J)||this.km(M,F,J)))return null}else if(J>=this.js())return null;let [T,Z]=this.pj(M,P,I),[X,ba]=this.pj(R,F,I);if(0!==this.Ea()||0<z){const [Y,va]=this.pj(R,P,I),[ta,ya]=this.pj(M,F,I);if(0<z){const [Na,Sa]=this.pj(M,P,J),[Ta,Ua]=this.pj(R,P,J),[Wa,eb]=this.pj(R,F,J),[fb,Pa]=this.pj(M,F,J);I=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=I;I=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=I}else I=Math.min(T,X,
Y,ta),X=Math.max(T,X,Y,ta),T=I,I=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=I}b.set(T,Z,X,ba);return b}nq(){this.dA&&(this.Baa(),this.dA=!1);return this.BT}Baa(){var z=this.g.kb();const F=this.ry(z);z=this.qy(z);this.BT.OV(z,F)}km(z,F,I){return this.nq().L_(z,F,I)}ba(){return{s:this.hd,a:this.Vd,vl:this.Sf.X,vt:this.Sf.T,vr:this.Sf.ca,vb:this.Sf.Z,v:this.Iu,bc:this.Sk.toJSON(),t:this.Nj,sx:this.yh,sy:this.zh,hosp:this.$k,px:this.Ld,py:this.Md,c:this.bb.toJSON(),sr:this.Oi,fx:this.Ka.ud(),cg:this.dz}}ja(z){this.hd=
z.s;this.Vd=z.a;this.Sf.set(z.vl,z.vt,z.vr,z.vb);this.Iu=!!z.v;this.Sk.Hl(z.bc);this.Nj=!!z.t;z.hasOwnProperty("sx")&&(this.yh=z.sx);z.hasOwnProperty("sy")&&(this.zh=z.sy);z.hasOwnProperty("hosp")&&(this.$k=!!z.hosp);this.Ld=z.px;this.Md=z.py;this.bb.Hl(z.c);this.Oi=z.sr;e.Dc(this.dz,z.cg);e.Dc(this.Kj,this.kT);const F=new Set(this.dz);let I=0;for(let J=0,M=this.Kj.length;J<M;++J)F.has(this.Kj[J][2])||(this.Kj[I]=this.Kj[J],++I);e.Je(this.Kj,I);this.Ka.nd(z.fx);this.jl=!0;this.sF(!1);this.kg()}NN(z){if(!this.F.includes(z))if(z.Re()){var F=
[...z.bk()];F.push(z);F.sort((J,M)=>{J=J.A().Ip();M=M.A().Ip();return J-M});for(var I of F)if(I.Wb())for(const J of I.Bd)F.includes(J)||(z=[...J.bk()],z.push(J),z.sort((M,P)=>{M=M.A().Ip();P=P.A().Ip();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.mg(J,!0)}else if(this.mg(z,!0),z.Wb())for(F of z.Bd)if(I=[...F.bk()],I.push(F),I.sort((J,M)=>{J=J.A().Ip();M=M.A().Ip();return J-M}),I&&I.length)for(const J of I)this.mg(J,!0)}}}
{"use strict";const e=self.B,b=self.Vf;e.j(e.Rect);e.j(e.Rect);const a=e.j(e.Rect),d=e.j(e.Za),c=self.Xi.RB,g=[],n=[],h=[],l=[];let m=null;function p(q,u){m!==q&&(q.M1(u),m=q)}e.k0=class extends e.aa{constructor(q,u,r){super();this.Ya=q;this.g=q.G();this.Da=r[0];this.Uba=r[1];this.Tba=r[2];this.V=r[1];this.S=r[2];this.cA=!!r[3];this.bf=!!r[4];this.mB=r[5];this.nB=r[6];this.jR=r[7];this.Nc=null;this.fb=r[8];this.La=u;this.zh=this.yh=0;this.hd=1;this.Vd=0;this.Qq=new Set;this.Hg=new Set;this.uv=new Set;
this.Dq=[];this.UG=[];this.vba=!1;this.TQ=c.create();this.Waa=c.create();this.Xaa=c.create();this.OA=[];this.Pb=[];this.jS=new Map;this.kS=new Map;const v=this.g.N;this.Ka=e.j(e.gk,this,r[11]);this.hh=e.j(e.I.ke,v.rG,{vB:(w,y)=>{y=y.rm.pk();w.Ts();w.Ew(y);w.Mp(y);v.Un(y)},AB:w=>this.Ka.kk(w)});this.jl=!0;this.ET=!1;this.ye=null;this.Zo={};this.Oo=!0;this.su=new self.WZ(this);this.Pd=e.j(e.Event.Ib);for(const w of r[9])this.OA.push(e.j(e.gM,this,null,w));this.Pb=[...this.nca()];for(let w=0,y=this.Pb.length;w<
y;++w)q=this.Pb[w],q.nF(w),q.ng(),this.jS.set(q.Aa().toLowerCase(),q),this.kS.set(q.fb,q);for(const w of r[10]){r=this.g.Ne(w[1]);if(!r)throw Error("missing nonworld object class");r.Fq||r.kN(w);this.UG.push(w);this.fO(r)}}m(){for(const q of this.Pb)q.m();e.D(this.Pb);this.uv.clear();this.g=this.Ya=this.Nc=null}G(){return this.g}Aa(){return this.Da}Fa(){return this.La}Sh(){this.yt();return this.hh}yt(){const q="low"===this.g.N.mh;if(this.jl||this.ET!==q){var u=this.Ka.Ff;this.hh.eC(u.map(r=>r.Af()),
{Ir:u.map(r=>r.Fa()),wJ:q,QB:!0});this.jl=!1;this.ET=q}}Yg(){this.Ka.Yg();this.jl=!0}tL(){let q=this.Pb[0].Wh();for(let u=1,r=this.Pb.length;u<r;++u){const v=this.Pb[u];if(0!==v.Ld||0!==v.Md)q=Math.min(q,v.Wh())}return q}gP(){return.5*this.g.lf/this.tL()}hP(){return.5*this.g.kf/this.tL()}AL(){return this.cA?-Infinity:this.gP()}BL(){return this.cA?Infinity:this.ta()-this.gP()}CL(){return this.cA?-Infinity:this.hP()}zL(){return this.cA?Infinity:this.qa()-this.hP()}di(q){const u=this.AL(),r=this.BL();
q>r&&(q=r);q<u&&(q=u);this.yh!==q&&(this.yh=q,this.Aj(),this.g.$())}yf(){return this.yh}ei(q){const u=this.CL(),r=this.zL();q>r&&(q=r);q<u&&(q=u);this.zh!==q&&(this.zh=q,this.Aj(),this.g.$())}zf(){return this.zh}jw(){this.di(this.yf());this.ei(this.zf());for(const q of this.Pb)q.$k&&(q.di(q.yf()),q.ei(q.zf()))}F3(q,u){if(this.mB!==q||this.nB!==u)this.mB=q,this.nB=u,this.X_()&&(this.uq(),this.Aj(),this.g.$())}UC(){return this.bf?.5:this.mB}VC(){return this.bf?.5:this.nB}OL(){const q=this.UC(),u=this.VC();
return 0>q||1<q||0>u||1<u}CN(){this.bf&&(this.bf=!1,this.uq(),this.Aj(),this.g.$())}zN(){this.bf||(this.bf=!0,this.uq(),this.Aj(),this.g.$())}X_(){return!this.bf}EN(q){this.hd!==q&&(this.hd=q,this.Aj(),this.jw(),this.g.$())}Gd(q){q=e.ie(q);this.Vd!==q&&(this.Vd=q,this.Aj(),this.g.$())}Ea(){return this.Vd}ta(){return this.V}Gk(q){!isFinite(q)||1>q||(this.V=q)}qa(){return this.S}Dk(q){!isFinite(q)||1>q||(this.S=q)}*nca(){for(const q of this.OA)yield*q.FU()}W(q){return"number"===typeof q?this.Ww(q):
this.qL(q.toString())}Ww(q){q=e.da(Math.floor(q),0,this.Pb.length-1);return this.Pb[q]}qL(q){return this.jS.get(q.toLowerCase())||null}Xw(q){return this.kS.get(q)||null}uq(){for(const q of this.Pb)q.S$()}Aj(){for(const q of this.Pb)q.Bj()}aZ(){let q=this.OA.filter(u=>u.Vx())[0];for(;q;){if(!q.Nj)return d.Ti(q.Sk),d.Qr(1),d;if(q.ht())return d.mn(0,0,0,0),d;q=q.Pm.filter(u=>u.Vx())[0]}d.mn(0,0,0,0);return d}YO(){return[...this.Qq]}fO(q){if(q.Wb())for(const u of q.qg.ml)this.Qq.add(u);else this.Qq.add(q)}k7(){return[...this.Hg]}RE(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.oW(this.Hg,q.Hg),q.Hg.clear());q=[];for(const r of this.Qq)this.Hg.has(r)||(q.push(r.Ks(u)),this.Hg.add(r));return Promise.all(q)}async nM(q){if(q.eb)throw Error("cannot load textures for family");var u=this.g.kb();!u||u.Ln()||this.Hg.has(q)||(this.Hg.add(q),u=q.Ks(u),this.N4(u),await u,q.FD(),this.g.$())}N4(q){this.uv.add(q);q.then(()=>this.uv.delete(q)).catch(()=>this.uv.delete(q))}s4(){return Promise.all([...this.uv])}B0(q){if(q.eb||0<q.F.length)throw Error("cannot unload textures");
this.g.kb()&&this.Hg.has(q)&&(this.Hg.delete(q),q.Xp())}qaa(q,u){if(q!==this&&u)for(const r of this.Hg)r.Cf()||q.Qq.has(r)||(r.Xp(),this.Hg.delete(r))}Ct(){this.Hg.clear()}async AQ(q){const u=this.g,r=this.Ya,v=u.ea();this.jR&&(this.Nc=v.kL(this.jR),this.Nc.wF());r.rQ(this);this.V=this.Uba;this.S=this.Tba;this.yh=u.Cg/2;this.zh=u.Bg/2;this.jw();this.s8(q);this.r5();this.Oo||this.t5();this.vO(this.Dq);this.s5();r.aW();u.Ed();const w=this.g.Haa;await Promise.all(w);e.D(w);if(!u.Mj){for(const y of this.Dq)y.J3();
for(const y of this.Dq)y.CQ()}e.D(this.Dq);await Promise.all([...this.Qq].map(y=>y.HD(this.g.kb())));q&&(u.Ib().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.wn(new e.Event("beforeprojectstart")));await this.wn(new e.Event("beforelayoutstart"));u.Mj||await u.vd(e.C.ab.J.AM,null,null);await this.wn(new e.Event("afterlayoutstart"));q&&(u.Ib().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.wn(new e.Event("afterprojectstart")));v.V9(r);await this.s4();this.uq();this.Aj();this.Oo=
!1}s8(q){for(const r of this.g.Ic)if(!r.eb&&r.wg)for(const v of r.fa()){const w=v.A();var u=w.W();u=e.da(u.Fa(),0,this.Pb.length-1);u=this.Pb[u];w.Ft(u);u.j8(v)}if(!q)for(const r of this.Pb)r.sF(!1)}r5(){for(const q of this.Pb)q.tW(this.Dq),q.sE()}t5(){let q=!1;for(const [r,v]of Object.entries(this.Zo)){const w=this.g.$w(parseInt(r,10));if(w&&!w.eb&&w.aD()){for(const y of v){var u=null;if(w.wg&&(u=this.Xw(y.w.l),!u))continue;u=this.g.Ph(w,u,!1,0,0,!0);u.nd(y);q=!0;this.Dq.push(u)}e.D(v)}}for(const r of this.Pb)r.sF(!0),
r.kg();q&&(this.g.Ed(),this.g.UP())}vO(q){for(const r of q){if(!r.Wb())continue;const v=r.A(),w=r.zn();for(const y of r.H().qg.ml)if(y!==r.H()){var u=y.fa();u.length>w?r.lq(u[w]):(u=v?this.g.Ph(y,v.W(),!0,v.ga(),v.ia(),!0):this.g.Ph(y,null,!0,0,0,!0),this.g.Ed(),y.Jy(),r.lq(u),q.push(u))}}}s5(){for(const q of this.UG)this.g.Ne(q[1]).Wb()||this.g.Ph(q,null,!0)}p5(){const q=[],u=this.UG;let r=0;for(let v=0,w=u.length;v<w;++v){const y=u[v],A=this.g.Ne(y[1]);A.Cf()?A.Wb()&&A.qg.FZ()||q.push(this.g.Ph(y,
null,!0)):(u[r]=y,++r)}e.Je(u,r);this.g.Ed();this.vO(q)}Rs(q,u,r,v,w,y){if(r)return r.Rs(q,u,v,w,y);r=[];for(const A of this.Pb)r.push(A.Rs(q,u,v,w,y));return r.flat()}async iaa(){const q=this.Ya;this.g.Mj||await this.g.vd(e.C.ab.J.b1,null,null);q.tN(!0);this.g.ea().ow();this.Oo||this.g$();for(const u of this.Pb)u.w6();for(const u of this.g.Ic)if(!(u.Cf()||u.wg||u.wb().zm||u.eb)){for(const r of u.fa())this.g.vn(r);this.g.Ed()}q.tN(!1);q.Jb()===this&&q.rQ(null)}d$(q){const u=q.H().fb.toString();this.Zo.hasOwnProperty(u)||
(this.Zo[u]=[]);this.Zo[u].push(q.ud())}g$(){for(const q of this.Pb){q.Kt();for(const u of q.F){const r=u.H();!r.Cf()&&r.aD()&&this.d$(u)}}}p2(){this.Zo={};this.Oo=!0}pk(){return this.ye}ht(){const q=this.g,u=q.kb().wk();return"low"===q.N.mh||u&&q.kB||"low-latency"===q.Cq||this.Ka.Fs()||u&&q.yl}aj(q){const u=this.g.N,r=this.ht();if(r){"low-latency"!==this.g.Cq&&(q.ig(null),q.sn());const v={Fl:this.g.Ad,JJ:this.g.kB||this.Ka.Fs()};"low"===u.mh&&(v.width=u.fj(),v.height=u.Rh());this.ye=this.g.gs(v)}else this.ye=
null;q.ig(this.ye);q.jd(this.aZ());this.g.yl&&q.YV();for(const v of this.Pb)v.sE();this.IO(q,this.ye,this.OA,!0);r&&(q.hg(!1),this.n6(q,this.ye));this.ye=null}IO(q,u,r,v){r=r.filter(w=>w.Vx());for(let w=0,y=r.length;w<y;){const A=r[w];if(A.UD()&&!A.VD()){g.push(A);for(let G=w+1;G<y;++G){const z=r[G];if(z.UD()&&!z.VD())g.push(r[G]);else break}if(2<=g.length||1===g.length&&g[0].EZ()){this.f6(q,u,g);w+=g.length;e.D(g);continue}e.D(g)}A.aj(q,u,v&&0===w);++w}}n6(q,u){const r=this.g;0===this.Ka.Ff.length?
(q.ig(null),q.vj(),q.GK(u),q.Mp(u),r.Un(u)):(a.set(0,0,r.lf,r.kf),this.Sh().Wn(q,null,{rB:this,dn:3,devicePixelRatio:this.g.qs(),Sv:this.g.rs()*this.hd,DB:this.Ea(),Nr:a,Nv:null,FJ:!0}))}f6(q,u,r){r[0].Nj||(d.Ti(r[0].Sk),d.Qr(1),q.jd(d));var v=this.g.N;q.hg(!0);for(var w of r)w.Kt(),w.mO(n);w=r[0];r=null;this.g.pD()&&q.wk()&&(v=v.rL(w))&&(r=v.$B(),q.mE(r));for(let z=0,F=n.length;z<F;){w=n[z];var y=w.A(),A=y.W();if(y.Fc()&&y.Pp(A.nq())){(!w.Yp()||0<y.Lc)&&l.push(w);var G=w.A().Qe();h.push(w);for(v=
z+1;v<F;++v){const I=n[v],J=I.A();if(J.Fc()&&J.Pp(J.W().nq())){if(J.Qe()!==G)break;I.Yp()?(0<J.Lc&&l.push(I),h.push(I)):l.push(I)}}if(1!==h.length||h[0].pM()){this.g6(q,u,h);for(let I=0,J=l.length;I<J;++I)w=l[I],y=w.A(),A=y.W(),y.Cy(!0),p(A,q),A.Lk(w,y,q,u),y.Cy(!1)}else{p(A,q);A.Lk(w,y,q,u);for(let I=0,J=l.length;I<J;++I)y=l[I],y!==w&&(A=y.A(),G=A.W(),p(G,q),G.Lk(y,A,q,u))}z=v;e.D(h);e.D(l)}else++z}r&&q.sC(r);e.D(n);m=null}g6(q,u,r){q.FK();for(let A=0,G=r.length;A<G;++A){var v=r[A],w=v.A(),y=w.W();
w.Ay(!0);p(y,q);y.JE(v,w,q)}q.EK();for(let A=0,G=r.length;A<G;++A)v=r[A],w=v.A(),y=w.W(),p(y,q),y.Lk(v,w,q,u),w.Ay(!1);q.DK()}ba(){const q={sx:this.yf(),sy:this.zf(),s:this.hd,a:this.Ea(),w:this.ta(),h:this.qa(),ortho:this.bf,vpX:this.UC(),vpY:this.VC(),fv:this.Oo,persist:this.Zo,fx:this.Ka.ud(),layers:{}};for(const u of this.Pb)q.layers[u.fb.toString()]=u.ba();return q}ja(q){this.yh=q.sx;this.zh=q.sy;this.hd=q.s;this.Vd=q.a;this.V=q.w;this.S=q.h;this.bf=!!q.ortho;q.hasOwnProperty("vpX")&&(this.mB=
q.vpX);q.hasOwnProperty("vpY")&&(this.nB=q.vpY);this.Oo=!!q.fv;this.Zo=q.persist;this.Ka.nd(q.fx);this.jl=!0;for(const [u,r]of Object.entries(q.layers))(q=this.Xw(parseInt(u,10)))&&q.ja(r);this.uq();this.Aj()}Og(q){q.EB=this.su;var u=this.g;(u=u.pb&&!u.ea().yx())&&b.lE();this.Pd.dispatchEvent(q);u&&b.ZB()}wn(q){q.EB=this.su;return this.Pd.uJ(q)}}}
{"use strict";const e=self.B;e.l0=class extends e.aa{constructor(b){super();this.g=b;this.oi=[];this.BH=new Map;this.CH=new Map;this.Tu=null;this.nI=[];this.sz=null;this.Sz=0;this.Zu=null}m(){this.Zu=this.sz=this.Tu=this.g=null;e.D(this.oi);this.BH.clear();this.CH.clear();e.D(this.nI)}Ma(b){b=e.j(e.k0,this,this.oi.length,b);this.oi.push(b);this.BH.set(b.Aa().toLowerCase(),b);this.CH.set(b.fb,b)}G(){return this.g}U2(b){this.sz=b}KY(){if(this.sz)return this.sz;if(this.oi.length)return this.oi[0];throw Error("no first layout");
}Fp(b){return this.BH.get(b.toLowerCase())||null}NC(b){return this.CH.get(b)||null}bZ(b){b=e.da(Math.floor(b),0,this.oi.length-1);return this.oi[b]}Vb(b){return"number"===typeof b?this.bZ(b):this.Fp(b.toString())}rQ(b){this.Tu=b}Jb(){return this.Tu}*aw(){this.Tu&&(yield this.Tu);this.nI.length&&(yield*this.nI)}tN(b){if(b)this.Sz++;else{if(0>=this.Sz)throw Error("already unset");this.Sz--}}ZL(){return 0<this.Sz}mw(b){this.Zu=b}aW(){this.Zu=null}Qp(){return!!this.Zu}$n(){const b=this.Jb();b&&b.uq()}Zn(){const b=
this.Jb();b&&b.Aj()}}}
{"use strict";const e=self.B;e.Y3=class extends e.aa{constructor(b){super();this.g=b;this.xv=e.j(e.lg);this.Vba=null;this.Rm=[];this.yv=new Map;this.ll=new Map;this.Sm=new Map;this.Fg=[];this.ae=[];this.uh=[];this.Hu=this.Aq=this.Fo=!1;this.tl=()=>this.X8();this.ur=()=>this.aF();this.UF=()=>this.Bt();this.AH=()=>this.u8();this.YG=a=>this.MP(a.instance);this.FF=()=>this.At();this.hu=[];this.Cc=0}m(){this.d2();this.FF=this.YG=this.AH=this.UF=this.ur=this.tl=null;for(const b of this.Rm)b.ue(),b.m();
e.D(this.Rm);this.Rm=null;this.xv.m();this.xv=null;e.D(this.Fg);this.Fg=null;e.D(this.ae);this.ae=null;e.D(this.uh);this.uh=null;this.yv.clear();this.yv=null;this.ll.clear();this.ll=null;this.Sm.clear();this.Sm=null;e.D(this.hu);this.g=this.hu=null}qV(){const b=this.g.Ib();b.addEventListener("pretick",this.tl);b.addEventListener("tick2",this.ur);b.addEventListener("beforelayoutchange",this.UF);b.addEventListener("layoutchange",this.AH);b.addEventListener("instancedestroy",this.YG);b.addEventListener("afterload",
this.FF)}d2(){const b=this.g.Ib();b.removeEventListener("pretick",this.tl);b.removeEventListener("tick2",this.ur);b.removeEventListener("beforelayoutchange",this.UF);b.removeEventListener("layoutchange",this.AH);b.removeEventListener("instancedestroy",this.YG);b.removeEventListener("afterload",this.FF)}Ma(b){this.xv.Uc(b);b=e.eo.sW(b,this);this.Uc(b);this.u3(b);this.Sm.set(b.Aa(),0)}mC(b){b=b.GL();var a=this.xv.Y(b);a=e.eo.mC(`${b}:${this.Sm.get(b)}`,a,this);this.oP(b);this.Uc(a);return a}oP(b){this.Sm.set(b,
this.Sm.get(b)+1)}v$(){for(const b of this.Rm)b.Sq||this.oP(b.GL())}h5(){for(const b of this.Sm.keys())this.Sm.set(b,0)}Uc(b){this.Rm.push(b);this.yv.set(b.Aa().toLowerCase(),b)}Vg(b){b.Lx();b.Sq||(e.ck(this.Rm,b),e.ck(this.Fg,b),e.ck(this.ae,b),e.ck(this.uh,b),this.yv.delete(b.Aa().toLowerCase()),this.e2(b),b.Eg||b.m())}ua(b){this.g.ua(b,this.Vba,null)}G(){return this.g}GN(b,a){this.ll.has(b)||this.ll.set(b,new Set);this.ll.get(b).add(a)}u3(b){for(const a of b.uL())this.GN(a,b)}e2(b){for(const [a,
d]of this.ll.entries())d.has(b)&&(d.delete(b),0===d.size&&this.ll.delete(a))}uZ(b){if(this.ll.has(b))return this.ll.get(b)}lx(b){return this.yv.get(b.toLowerCase())||null}c2(b){e.ck(this.ae,b);this.xt()}dN(b){this.ae.includes(b)?(b.gq(!0),b.iq(!1),b.Tx(!1)):(b.gq(!1),b.iq(!0),b.Tx(!1),this.Fg.includes(b)||this.Fg.push(b));this.DP()}yw(b){b.gq(!1);b.iq(!1);b.QD();e.ck(this.Fg,b);this.xt()}AK(b){b.gq(!1);b.iq(!1);b.Tx(!0);this.uh.push(b);e.ck(this.ae,b)}BK(b){b.gq(!1);b.iq(!1);b.Tx(!1);b.ci(1);e.ck(this.ae,
b)}kW(b){this.AK(b);b.QD()}X8(){if(!this.G().Mj&&this.Fo&&!this.Aq){for(this.Hu=!0;this.Fg.length;){var b=this.Fg.pop();b.Hc();0!==b.Cc&&(this.Cc=1);this.ae.push(b)}b=this.g.iu;var a=this.g.ju,d=this.g.pd;for(let c=this.ae.length-1;0<=c;c--)this.ae[c].Ve(b,d,a);this.Hu=!1;0!==this.Cc&&this.G().$()}}aF(){if(!this.G().Mj&&this.Fo&&!this.Aq){var b;for(let a=0,d=this.uh.length;a<d;a++){const c=this.uh[a];b||(b=new Set);c.Lx();this.EP(c);b.add(c)}if(b){e.Tf(this.uh,b);this.Cc=0;for(let a=0,d=this.ae.length;a<
d;a++)if(0!==this.ae[a].Cc){this.Cc=1;break}}this.xt()}}EP(b){b.Eg||b.NL()&&b.Gf&&b.wm&&b.ZK()}DP(){this.Fo||(this.Fo=!0)}xt(){this.uh.length||this.ae.length||this.Fg.length||this.Hu||(this.Fo=!1)}Bt(){for(this.Aq=!0;this.Fg.length;)this.yw(this.Fg.pop());const b=new Set;for(const a of this.ae)a.Bt()&&(a.Lx(),b.add(a));e.Tf(this.ae,b);b.clear();for(const a of this.uh)a.Bt()&&(a.Lx(),b.add(a));e.Tf(this.uh,b);this.xt();for(const a of this.Rm)a.Zi()}u8(){this.Aq=!1}MP(b){var a=b.H();if(a=this.uZ(a))if(this.g.Mj)this.hu.push(b);
else for(const d of a)d.Sq||(d.Eg?this.Vg(d):d.NL()||(this.EP(d),this.Vg(d)))}At(){for(const b of this.hu)this.MP(b);e.D(this.hu)}ba(){return{timelinesJson:this.l$(),scheduledTimelinesJson:this.j$(),playingTimelinesJson:this.h$(),markedForRemovalTimelinesJson:this.f$(),hasRuntimeListeners:this.Fo,changingLayout:this.Aq,isTickingTimelines:this.Hu}}ja(b){b&&(this.h5(),this.d8(b.timelinesJson),this.a8(b.scheduledTimelinesJson),this.Y7(b.playingTimelinesJson),this.X7(b.markedForRemovalTimelinesJson),
this.Fo=!b.hasRuntimeListeners,this.Aq=!!b.changingLayout,this.Hu=!!b.isTickingTimelines,this.v$(),this.DP(),this.xt())}l$(){return this.Rm.map(b=>b.ba())}d8(b){for(const a of b){b=this.lx(a.name);if(!b){b=this.h7(a);if(!b)continue;b=this.lx(b);b=this.mC(b)}b.ja(a);b.OZ()||this.Vg(b)}}h7(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}j$(){return this.jF(this.Fg)}a8(b){this.UE(b,this.Fg)}h$(){return this.jF(this.ae)}Y7(b){this.UE(b,this.ae)}f$(){return this.jF(this.uh)}X7(b){this.UE(b,this.uh)}I7(b,
a){for(const d of a)if(d===b.Aa())return!0;return!1}jF(b){return b.map(a=>a.Aa())}UE(b,a){var d=new Set;for(const c of a)this.I7(c,b)||d.add(c);e.Tf(a,d);d=c=>g=>g.Aa()===c;for(const c of b)(b=this.lx(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.B;e.eo=class extends e.aa{constructor(b,a,d){super();this.g=d.G();this.zb=d;this.Dd=a;this.Da=b;this.hb=[];this.sT=0;this.xq=null;this.PQ=0;this.MK();this.EA=this.$u=null;this.Sb=0;this.Oc=1;this.zd=0;this.wd=1;this.wm=this.dl=this.Wz=!1;this.Gf=!0;this.tA=this.Eg=!1;this.Bq=-1;this.Ae=this.Co=this.Sq=this.Gz=!1;this.gA=NaN;this.Gg=[""];this.lT="";this.FI=!1;this.Dz=this.Cc=0}static sW(b,a){const d=a.xv.Y(b[0]);b=e.j(e.eo,b[0],d,a);b.g3();return b}static mC(b,a,d){return e.j(e.eo,
b,a,d)}m(){if(!this.Eg){this.zb.yw(this);this.zb.kW(this);for(const b of this.hb)b.m();e.D(this.hb);this.Dd=this.zb=this.g=this.hb=null;this.Eg=!0;this.EA=this.$u=null}}MK(){for(const b of this.Dd.Cs().PU())this.sT=this.hb.push(e.rE.Ma(this,b))}G(){return this.g}ys(b,a,d){if(this.Dz){var c;for(let n=0;n<this.hb.length;n++){var g=this.hb[n];b===g.xa()&&(g=g.xf(d))&&a.constructor===g.Bb().constructor&&(c||(c=[]),c.push(g))}return c}}OZ(){return!!this.hb.length}Ux(b){this.Da=b}Aa(){return this.Da}GL(){return this.Dd.Aa()}Bf(){return this.Dd.Bf()}zs(){return this.Dd.zs()}Uh(){return this.Dd.Uh()}Oe(){return this.Dd.Oe()}tj(b){for(const a of this.hb)a.tj(b)}Yw(){return this.Dd.Yw()}bx(){return this.Dd.bx()}Xh(){return this.Dd.Xh()}ci(b){return this.Oc=
b}nj(){return this.IsPlaying()?0<this.Oc:!0}vL(){this.$u||(this.$u=new Promise(b=>{this.EA=b}))}QD(){this.$u&&(this.EA(),this.EA=this.$u=null)}FN(b){this.Gg=e.eo.g7(b);this.FI=!0}DM(){e.C.wc.J.bo(this);this.zb.ua(e.C.wc.J.Uia);this.zb.ua(e.C.wc.J.Via);this.zb.ua(e.C.wc.J.Wia);this.zb.ua(e.C.wc.J.Kia);e.C.wc.J.bo(null)}DD(){this.Bq=this.g.Sj}ZK(){this.Co||(this.Co=!0,e.C.wc.J.bo(this),this.zb.ua(e.C.wc.J.Ria),this.zb.ua(e.C.wc.J.Sia),this.zb.ua(e.C.wc.J.Tia),this.zb.ua(e.C.wc.J.Jia),e.C.wc.J.bo(null))}gq(b){this.Wz=
b}VL(){return this.Bq===this.g.Sj}IsPlaying(b=!1){return this.VL()||this.dl&&!b?!0:this.Wz}qq(){return this.IsPlaying(!0)}iq(b){this.dl=b}jN(b){this.Gf=b;b=this.ya();if(0>=b||b>=this.Bf())this.Gf=!0}Tx(b){this.tA=b}ZD(b){this.Gz=b}g3(){this.Sq=!0}ya(){return this.Sb}jq(b){const a=this.ya();this.oc(b);this.jN(!1);this.Gf||this.ZD(!0);if(this.qq()||this.dl||!this.wm)this.qq()||this.dl||this.wm?this.qq()?this.ue():this.dl&&(this.zb.yw(this),this.rN()):this.rN();this.Ht();this.PE(b,!0,a);this.rF();this.Cc&&
this.G().$();this.QP()}oc(b){this.Sb=0>b?0:b>=this.Bf()?this.Bf():b}QP(){e.C.wc&&this.constructor===e.eo&&(e.C.wc.J.bo(this),this.zb.ua(e.C.wc.J.Oia),this.zb.ua(e.C.wc.J.Pia),this.zb.ua(e.C.wc.J.Qia),e.C.wc.J.bo(null))}Play(b=!1){return this.Eg||this.dl?!1:this.qq()&&this.VL()?this.p$():this.qq()||!this.Gf&&!b&&!this.Gz?!1:this.q$()}p$(){this.ZD(!1);this.zb.c2(this);this.zb.dN(this);this.vL();return!0}q$(){this.ZD(!1);this.zb.dN(this);this.vL();return!0}ue(b=!1){this.Eg||(this.jN(b),this.zb.AK(this),
this.Gf&&this.QD())}Yc(b=!0,a=!1){if(!this.Eg)if(!this.qq()&&this.dl)this.zb.yw(this);else if(!this.Gf){this.ue(!0);this.nj()?this.oc(0):this.oc(this.Bf());var d=this.ya();this.Ht();a?this.B7(d):this.PE(d,!1);b&&this.QP();this.rF();this.Cc&&b&&this.G().$()}}XM(){this.Yc(!1,!0)}B7(b){this.PE(b,!1,NaN,!1,!0)}Bt(){if(this.Eg)return!0;if(this.PZ())return!1;this.zb.BK(this);this.XM();return!0}rN(){this.Hc(!0)}Hc(b){if(!this.tA){if(b){this.Ae=this.wm=!0;this.Ht();for(const a of this.hb)a.Hc()}else if(this.gq(!0),
this.iq(!1),this.DM(),this.Gf){this.Bq=-1;this.zd=0;this.wd=1;this.Co=this.Gf=!1;this.Ae=this.wm=!0;this.nj()?this.oc(0):this.oc(this.Bf());this.Ht();for(const a of this.hb)a.Hc()}else{this.Ae=!0;this.Ht();for(const a of this.hb)a.se()}this.rF()}}Ht(){this.Dz=0;for(const b of this.hb)b.ym&&(this.Dz=1)}rF(){this.Cc=0;for(const b of this.hb)b.Fy(),0===this.Cc&&1===b.Cc&&(this.Cc=1),this.xq||1!==b.Gm||(this.xq||(this.xq=[]),this.PQ=this.xq.push(b))}Ve(b,a){if(0!==b||0!==this.gA){this.gA=b;var d=this.Sb;
a=d+b*a*this.Oc;b=this.Dd.yr;this.Sb=0>a?0:a>=b?b:a;var c=!1;a=this.Yw();var g=this.bx();a||g?a&&!g?0<this.Oc?this.Sb>=b&&this.oc(0):0>=this.Sb&&this.oc(b):!a&&g?0<this.Oc?this.Sb>=b&&(this.oc(b),this.ci(-1*this.Oc),1===this.zd?this.wd<this.Xh()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):0>=this.Sb&&(this.oc(0),this.ci(-1*this.Oc),1===this.zd?this.wd<this.Xh()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):a&&g&&(0<this.Oc?this.Sb>=b&&(this.oc(b),this.ci(-1*this.Oc)):0>=this.Sb&&(this.oc(0),
this.ci(-1*this.Oc))):0<this.Oc?this.Sb>=b&&(this.wd<this.Xh()?(this.wd++,this.oc(0)):(this.oc(b),c=!0)):0>=this.Sb&&(this.wd<this.Xh()?(this.wd++,this.oc(b)):(this.oc(0),c=!0));a=this.sT;if(c){for(c=0;c<a;c++)this.hb[c].nN();this.ue(!0);this.DD()}else{g=this.PQ;for(c=0;c<g;c++)this.xq[c].qn();if(1===this.Dz)for(c=0;c<a;c++){const n=this.hb[c],h=n.Pe(),l=d-h;0>this.Sb-h&&0<l?(this.Sb=0>h?0:h>=b?b:h,n.za(h,!0,!1,!1,this.Ae,!1)):n.za(this.Sb,!0,!1,!1,this.Ae,!1)}else for(c=0;c<a;c++)this.hb[c].za(this.Sb,
!0,!1,!1,this.Ae,!1);for(c=0;c<g;c++)this.xq[c].pn();this.Ae&&(this.Ae=!1)}}}PE(b,a=!1,d=NaN,c=!1,g=!1){for(var n of this.hb)n.qn();for(const h of this.hb){n=b;if("number"===typeof d){const l=this.ya()-h.Pe(),m=d-h.Pe();0>l&&0<m&&(n=h.Pe(),this.oc(n))}h.za(n,!1,a,!0,this.Ae,g)}for(const h of this.hb)h.pn();this.Ae&&c&&(this.Ae=!1)}Lx(){if(!this.Eg)for(const b of this.hb)b.Hk()}Zi(){for(const b of this.hb)b.Zi()}bW(){for(const b of this.hb)b.$V()}v3(b,a){if(a)for(const d of this.hb)if(d.$h()){if(b){if(d.gj()!==
b)continue}else if(d.IZ())continue;d.d3(a);this.zb.GN(a.H(),this);break}}NL(){return this.hb.some(b=>b.$h()?b.iC():!0)}PZ(){return this.hb.some(b=>b.$h()?b.iC()?(b=b.H())?b.Cf():!1:!1:!1)}xf(b){for(const a of this.hb)for(const d of a.Va)if(d.pa.Pc===b)return d}HL(b){for(const a of this.hb)if(b===a.xa())return a;return null}uL(){const b=[];for(const a of this.hb)b.push(a.H());return b.filter(a=>a)}ba(){return{tracksJson:this.n$(),name:this.Da,playheadTime:this.ya(),playbackRate:this.Oc,pingPongState:this.zd,
currentRepeatCount:this.wd,isPlaying:this.Wz,isScheduled:this.dl,initialStateSet:this.wm,finishedTriggers:this.Co,complete:this.Gf,released:this.Eg,markedForRemoval:this.tA,completedTick:this.Bq,implicitPause:this.Gz,isTemplate:this.Sq,tags:this.Gg.join(" "),stringTags:this.lT,tagsChanged:this.FI,firstTick:this.Ae}}ja(b){b&&(this.e8(b.tracksJson),this.Da=b.name,this.Sb=b.playheadTime,this.Oc=b.playbackRate,this.zd=b.pingPongState,this.wd=b.currentRepeatCount,this.Wz=!!b.isPlaying,this.dl=!!b.isScheduled,
this.wm=!!b.initialStateSet,this.Co=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.Gf=!!b.complete,this.Eg=!!b.released,this.tA=!!b.markedForRemoval,this.Bq=b.completedTick,this.Gz=!!b.implicitPause,this.Sq=!!b.isTemplate,this.Gg=b.tags.split(" "),this.lT=b.stringTags,this.FI=!!b.tagsChanged,this.Ae=!!b.firstTick)}n$(){return this.hb.map(b=>b.ba())}e8(b){b.forEach((a,d)=>{this.hb[d].ja(a)});this.hb.filter(a=>a.iC())}static g7(b){if(e.Kn(b))return b.slice(0);if(e.ai(b))return b.split(" ")}}}
{"use strict";const e=self.B;e.rE=class extends e.aa{constructor(b,a){super();this.Bh=b;this.Eb=a;this.Ge=a.Cs();this.kl=this.bl=NaN;this.Pa=this.dc=null;this.ym=0<a.Pe();this.yo=this.Rq=!1;this.Ji=null;this.ec=this.Eb.hj().ec;this.Va=[];this.LK();this.Gm=this.Cc=this.Zj=0}static Ma(b,a){return e.j(e.rE,b,a)}m(){this.ec=null;for(const b of this.Va)b.m();e.D(this.Va);this.Ji=this.Eb=this.Pa=this.dc=this.Bh=this.Va=null}LK(){for(const b of this.Eb.Sd().zU())this.Va.push(e.Xa.Ma(this,b))}Hk(){for(const b of this.Va)b.Hk()}Zi(){for(const b of this.Va)b.Zi();
this.Pa=this.dc=null}rb(){return this.Bh}G(){return this.Bh.G()}$Y(){return this.ec?this.ec:this.ec=this.Eb.hj().ec}xf(b){for(let a=0;a<this.Va.length;a++){const d=this.Va[a];if(d.pa.Pc===b)return d}}Ms(){this.dc||this.xa()}Xl(){return this.dc?!this.dc.Hs():!1}iC(){if(!this.$h())return!1;const b=this.G().Pg(this.ts());return b?!b.Hs():!1}H(){if(this.$h()){var b=this.PC();if(-1!==b)return this.G().Ne(b)}}$V(){this.dc=null;this.bl=-1;this.Pa=null;this.kl=-1}IZ(){return!!this.dc}xa(){return this.dc&&
this.Xl()?this.dc:this.dc=this.G().Pg(this.ts())}d3(b){if(this.dc!==b){this.Zi();this.dc=b;this.kl=b.H().Fa();this.bl=b.kc;this.Pa=b.A();for(const n of this.Fda()){const h=n.Uda;switch(n.Eda.Fd()){case "instance-variable":var a=b.H(),d=a.TY(n.name),c=a.pL(d);a=a.us(d);c===n.name&&a===n.type&&h.m4(d);break;case "behavior":var g=n.kJ;d=this.H();c=b.H();a=h.Yf(c);g&&a&&(g=g.Aa(),d.hs(g),c.hs(g),h.j4(a.fb))}}}}*Fda(){for(const d of this.Va){var b=d.Bb(),a=this.H();const c={Eda:d,Uda:b};switch(d.Fd()){case "world-instance":c.eqa=
d.pa.Pc;break;case "instance-variable":b=b.Ep();c.name=a.pL(b);c.type=a.us(b);break;case "effect":a=b.FC(a.Ka);c.qoa=a;break;case "behavior":a=b.Yf(a);c.kJ=a;break;case "plugin":c.$pa=a.wb()}yield c}}A(){if(this.Pa&&this.Xl())return this.Pa;const b=this.xa();b&&(this.Pa=b.A());return this.Pa}ts(){return this.bl?this.bl:this.Eb.ts()}Uh(){return this.Eb.Uh()}Oe(){return this.Eb.Oe()}gj(){return this.Eb.gj()}Pe(){return this.Eb.Pe()}nk(){return this.Eb.nk()}tj(b){for(const a of this.$Y())a.tj(b);for(const a of this.Va)a.tj(b)}mk(){return this.Eb.mk()}Ck(b){this.Eb.Ck(b)}PC(){return isNaN(this.kl)?
this.Eb.PC():this.kl}Rl(){this.xa();return this.Eb.Rl()}Ql(){this.xa();return this.Eb.Ql()}kj(){return this.Eb.kj()}Aa(){return this.Eb.Aa()}$h(){return 0===this.kj()}Hc(){this.Ms();if(this.Xl()||!this.$h()){var b=this.rb().nj()?0:this.nk();for(const a of this.Va)a.Hc(b),0===this.Zj&&1===a.Zj&&(this.Zj=1),0===this.Cc&&1===a.Cc&&(this.Cc=1);this.Gm=0;this.Va.some(a=>a.Gm)&&(this.Gm=1);this.Ji=this.$O(b);this.yo=this.Rq=!1;this.za(b)}}se(){this.Ms();if(this.Xl()||!this.$h()){this.Bh.nj();var b=this.Bh.ya()-
this.Pe();this.Ji=this.$O(b);for(const a of this.Va)a.se(b)}}nN(){if(!(this.rb().Gf||(this.Ms(),!this.Xl()&&this.$h()||this.ym))){const b=this.Bh.ya();b>=this.Pe()+this.nk()?this.za(this.nk(),!0,!1,!0):0>=b&&this.za(0,!0,!1,!0)}}Fy(){for(let b=0,a=this.Va.length;b<a;b++){const d=this.Va[b];d.Fy();0===this.Zj&&1===d.Zj&&(this.Zj=1);0===this.Cc&&1===d.Cc&&(this.Cc=1)}}qn(){const b=this.Va.length;for(let a=0;a<b;a++)this.Va[a].qn()}za(b,a=!1,d=!1,c=!1,g=!1,n=!1){this.dc||this.xa();const h=0===this.Eb.ra;
if(!((!this.dc||this.dc.Hs())&&h||n&&h&&this.H().Cf()||(b-=this.Pe(),0>b))){this.z0(b,a);this.A0(b,a,g);for(let l=0,m=this.Va.length;l<m;l++)this.Va[l].za(b,d,c);this.y0(b,a);0!==this.Zj&&(this.Pa||(this.Pa=this.dc.A()),this.Pa&&this.Pa.sb())}}pn(){const b=this.Va.length;for(let a=0;a<b;a++)this.Va[a].pn()}z0(b,a){if(a&&this.ym&&!this.Rq){if(this.rb().nj()){if(0>b)return;for(const d of this.Va)d.za(0,!1,!0)}else{if(b>this.nk())return;for(const d of this.Va)d.za(this.nk(),!1,!0)}for(const d of this.Va)d.Hc();
this.Rq=!0}}y0(b,a){if(a&&this.ym&&!this.yo)if(this.rb().nj()){if(b>=this.nk()){for(const d of this.Va)d.za(this.nk(),!1,!0);this.yo=!0}}else if(0>=b){for(const d of this.Va)d.za(0,!1,!0);this.yo=!0}}A0(b,a,d){if(!d&&a&&e.C.wc){a=this.rb();d=this.Ji.De;var c=this.Ji.ya(),g=d?d.ya():a.Bf();if(b<=c||b>=g)this.Ji=this.Ge.lL(b,this.Eb),a.nj()?d&&this.GD(this.Ji):this.Ji.De&&this.GD(this.Ji)}}$O(b){const a=this.Ge.XY(b,this.Eb);return a?a:this.Ge.lL(b,this.Eb)}GD(b){const a=this.rb();e.C.wc.J.bo(a);e.C.wc.J.D3(b);
b=a.zb;b.ua(e.C.wc.J.Iia);b.ua(e.C.wc.J.GD);e.C.wc.J.bo(null);e.C.wc.J.D3(null)}mV(){return this.Eb.hj().hV()}JW(b){this.Eb.hj().IW(b)}Cw(b){for(const a of this.Va)a.Cw(b)}Yn(){for(const b of this.Va)b.Yn()}Nh(){this.Ms();if(this.Xl()||!this.$h())for(const b of this.Va)b.Nh()}Oh(){this.Ms();if(this.Xl()||!this.$h()){var b=!1;for(const a of this.Va){const d=a.Oh();!b&&d&&(b=!0)}b&&(b=this.mV(),b.jq(this.rb().ya()),b.tj("noease"),b.Ck(!0),b.FN(""))}}ba(){var b=this.xa();b=b?b.kc:this.ts();return{propertyTracksJson:this.i$(),
lastKeyframeDataItemJson:this.e$(),initialStateOfNestedSet:this.Rq,endStateOfNestedSet:this.yo,instanceUid:b}}ja(b){b&&(this.Z7(b.propertyTracksJson),this.W7(b.lastKeyframeDataItemJson),this.T7(b.instanceUid),this.Rq=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Rq=b.initialStateOfNestedSet),this.yo=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.yo=b.endStateOfNestedSet))}e$(){return this.Eb.hj().ZY(this.Ji)}i$(){return this.Va.map(b=>b.ba())}Z7(b){b.forEach((a,d)=>{this.Va[d].ja(a)})}T7(b){if(e.Vl(b)&&
(b=this.G().Pg(b))){var a=this.rb();a.bW();a.v3(this.Eb.gj(),b)}}W7(b){this.Ji=this.Eb.hj().YY(b)}}}
{"use strict";const e=self.B;e.Xa=class extends e.aa{constructor(b,a){super();this.nb=b;this.pa=a;this.fc=a.Sd();this.Gm=this.Cc=this.Zj=0;this.ge=this.Bb();this.Hb=this.pa.Tg().Hb;this.Lt=this.Ac=null}static Ma(b,a){return e.j(e.Xa,b,a)}m(){this.nb=null;this.ge&&(this.ge.m(),this.ge=null);this.fc=this.pa=this.Hb=null}XC(){return!!this.Lt}D2(b){this.Lt=b}Sd(){return this.fc}rb(){return this.nb.rb()}G(){return this.nb.G()}xa(){return this.nb.xa()}Bb(){if(this.ge)return this.ge;let b;switch(this.pa.Fd()){case "behavior":b=
new e.Xa.FV(this);break;case "effect":b=new e.Xa.QX(this);this.Cc=1;break;case "instance-variable":b=new e.Xa.I_(this);break;case "plugin":b=new e.Xa.F1(this);this.Cc=1;break;case "world-instance":b=new e.Xa.Sn(this);this.Zj=this.Cc=1;break;case "value":b=new e.Xa.o4(this);break;case "audio":b=new e.Xa.CV(this)}return this.ge=b}Fd(){return this.pa.Fd()}dx(){return this.pa.kj()}xs(){return this.Sd().Rw(this.pa).kj()}mk(){return this.pa.mk()}Ck(b){this.pa.Ck(b)}Uh(){return this.pa.Uh()}Oe(){return this.pa.Oe()}tj(b){for(const a of this.cx())a.tj(b)}hC(){return this.pa.hC()}cx(){return this.Hb?
this.Hb:this.Hb=this.pa.Tg().Hb}Hk(){this.Bb().Hk()}Zi(){this.Bb().Zi()}me(){return this.Bb().me()}Hc(b){this.Bb().Hc();this.Ac=this.aP(b);this.Fy()}se(b){this.Bb().se();this.Ac=this.aP(b)}Fy(){var b=this.nb;this.Gm=0;if(b.$h()){var a=this.rb();b=b.xa();const d=this.Bb(),c=this.pa.Pc;d.qj()?(a=a.ys(b,d,c))&&a.length&&(this.Gm=1):this.Gm=0}}aP(b){const a=this.rb(),d=this.fc.nZ(b,this.pa);return d?d:a.nj()?this.fc.Th(b,this.pa):this.fc.mL(b,this.pa)}qn(){this.ge.qn()}za(b,a=!1,d=!1){let c;if(a)var g=
this.fc.Th(b,this.pa);else{if(this.Ac){var n=this.rb();const h=this.Ac.De;g=this.Ac.ya();n=h?h.ya():n.Bf();if(b<=g||b>=n)this.Ac=this.fc.Th(b,this.pa)}else this.Ac=this.fc.Th(b,this.pa);g=this.Ac}g&&(c=g.De);this.ge.za(b,g,c,a,d)}wf(b){if(this.Ac){var a=this.rb();const c=this.Ac.De;var d=this.Ac.ya();a=c?c.ya():a.Bf();if(b<=d||b>=a)this.Ac=this.fc.Th(b,this.pa)}else this.Ac=this.fc.Th(b,this.pa);d=this.Ac;return this.ge.wf(b,d,d.De)}pn(){this.ge.pn()}static FL(b,a){return a.fc.Th(b,a.pa)}pK(){const b=
this.pa.Tg().nK();this.Ac=null;return b}Cw(b){this.Ac=null;this.pa.Tg().RK(b)}Yn(){this.Bb().Yn()}Nh(){if(this.Bb().Nh()){const b=this.fc.Rw(this.pa),a=this.Bb().me();b.eN(a)}}Oh(){const b=this.Bb().Oh();b&&this.oV();this.Bb().rw();return b}oV(){const b=this.rb().ya(),a=this.Bb(),d=e.Xa.FL(b,this),c=this.pK();c.HN(d.kj());c.jq(b);c.tj(d.Ol());c.Ck(!0);c.te(a.JL());c.eN(a.me())}ba(){return{sourceAdapterJson:this.Bb().ba()}}ja(b){b&&this.Bb().ja(b.sourceAdapterJson)}}}
{"use strict";const e=self.B.Xa;e.Sn=class{constructor(b){this.L=b;this.gf=null;this.Sg()}m(){this.gf&&(this.gf.m(),this.gf=null);this.L=null}qj(){return this.gf.qj()}xf(){return this.L}Hk(){this.gf&&this.gf.Hk()}Zi(){this.gf&&this.gf.Zi()}Sg(){return this.gf?this.gf:this.gf=this.u5()}Ep(){}Fa(){return this.Ep()}Bs(){}Hc(){this.Sg().Hc()}se(){this.Sg().se()}qn(){this.gf.vp()}za(b,a,d,c,g){let n;switch(this.L.xs()){case "numeric":n=e.Ns.za(b,a,d,this.L);break;case "angle":n=e.gw.za(b,a,d,this.L);break;
case "boolean":n=e.iw.za(b,a,d,this.L);break;case "color":n=e.uw.za(b,a,d,this.L);break;case "text":n=e.Xx.za(b,a,d,this.L)}this.gf.rn(b,n,a,d,c,g)}wf(b,a,d){switch(this.L.xs()){case "numeric":return e.Ns.za(b,a,d,this.L);case "angle":return e.gw.za(b,a,d,this.L);case "boolean":return e.iw.za(b,a,d,this.L);case "color":return e.uw.za(b,a,d,this.L);case "text":return e.Xx.za(b,a,d,this.L)}}pn(){this.gf.up()}Yn(){var b=this.Sg();b.xh=b.me()}rw(){this.Sg().rw()}me(){return this.Sg().me()}Nh(){return this.Sg().Nh()}Oh(){return this.Sg().Oh()}JL(){const b=
this.L,a=b.nb.rb().ya(),d=e.FL(a,b),c=d.De;switch(b.xs()){case "numeric":return e.Ns.za(a,d,c,b);case "angle":return e.gw.za(a,d,c,b);case "boolean":return e.iw.za(a,d,c,b);case "color":return e.uw.za(a,d,c,b);case "text":return e.Xx.za(a,d,c,b)}}u5(){const b=this.L;switch(b.hC()?b.xs():""){case "combo":case "boolean":case "text":case "string":return new e.Se.qM(this);case "numeric":case "number":case "angle":return"combo"===this.L.dx()?new e.Se.qM(this):new e.Se.rM(this);case "color":case "offsetColor":return new e.Se.eW(this);
default:return new e.Se.rM(this)}}ba(){return{propertyAdapterJson:this.Sg().ba()}}ja(b){b&&this.Sg().ja(b.propertyAdapterJson)}}}
{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a);this.Dv=NaN}Ep(){return this.L.pa.Of[0]}Fa(){return this.Dv?this.Dv:super.Fa()}Bs(){return this.L.nb.xa()}m4(a){this.L.pa.Of[0]!==a&&(this.Dv=a)}za(a,d,c,g,n){this.Sg().gC(d.mc())&&super.za(a,d,c,g,n)}wf(a,d,c){if(this.Sg().gC(d.mc()))return super.wf(a,d,c)}ba(){return Object.assign(super.ba(),{index:this.Dv})}ja(a){a&&(super.ja(a),this.Dv=a.index)}}e.Xa.I_=b}
{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a);this.fb=NaN}Ep(){return this.L.pa.Of[1]}Bs(){var a=this.L.pa,d=this.fb?this.fb:a.Of[0];a=this.L.nb.xa();d=a.dL(d);return a.fd[d].wa}Yf(a){return a.Kw(this.L.pa.Of[2])}j4(a){this.L.pa.Of[0]!==a&&(this.fb=a)}za(a,d,c,g,n){const h=this.L.nb.xa();this.Yf(h.H())&&super.za(a,d,c,g,n)}wf(a,d,c){const g=this.L.nb.xa();if(this.Yf(g.H()))return super.wf(a,d,c)}ba(){return Object.assign(super.ba(),{sid:this.fb})}ja(a){a&&(super.ja(a),
this.fb=a.sid)}}e.Xa.FV=b}{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a)}Ep(){return this.L.pa.Of[1]}Bs(){const a=this.L.nb.A().Jf,d=this.FC(a.Ka).Fa();return a.Is(d)?a.kk(d):null}FC(a){return a.lk(this.L.pa.Of[0])}za(a,d,c,g,n){this.vP()&&super.za(a,d,c,g,n)}wf(a,d,c){if(this.vP())return super.wf(a,d,c)}vP(){const a=this.L.nb.A().Jf,d=this.FC(a.Ka);if(d)return a.Is(d.Fa())}}e.Xa.QX=b}
{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a)}Ep(){return this.L.pa.Of[0]}Bs(){return this.L.nb.xa().wa}za(a,d,c,g,n){var h=this.L.nb;const l=h.H().wb();h=h.xa().H().wb();l===h&&super.za(a,d,c,g,n)}wf(a,d,c){var g=this.L.nb;const n=g.H().wb();g=g.xa().H().wb();if(n===g)return super.wf(a,d,c)}}e.Xa.F1=b}
{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a);this.sc=0;this.Hz=!1}qj(){return!1}Hc(){const a=this.L.Sd();let d=this.L.pa;d=a.Rw(d);this.sc=d.nc()}se(){}mc(){this.Hz||this.L.za(0);return this.sc}za(a,d,c){this.sc=e.Xa.Ns.za(a,d,c,this.L);this.Hz=!0}Yn(){}rw(){}me(){return this.sc}Nh(){return!1}Oh(){return!1}ba(){return{value:this.sc,init:this.Hz}}ja(a){a&&(this.sc=a.value,this.Hz=a.hasOwnProperty("init")?a.init:!0)}}e.Xa.o4=b}
{"use strict";const e=self.B;class b extends e.Xa.Sn{constructor(a){super(a);this.Ej=!1;this.Mq=this.Kb=this.fe=null;this.Bh=this.L.rb();this.nb=this.L.nb;this.ov=this.L.pa.Of;this.CG=this.ov[0];this.BI=this.ov[1];this.ah=this.ov[3]?this.ov[3]:Math.random().toString(36).slice(2);this.qp=this.Yo=this.Im=NaN;this.Xe=null;this.uP()}m(){super.m();this.Xe=this.CG=this.ov=this.nb=this.Bh=this.Mq=this.Kb=this.fe=null}uP(){if(self.B.C.Audio){var a=this.L.G().Zw("audio");a&&(this.fe=a.Yh().wa);this.Kb=self.B.C.Audio.rd;
this.Mq=self.B.C.Audio.le}}GP(){if(!this.Xe){var a=this.L.nb.xf("audioSource");a&&(this.Xe=a.Bb())}}a7(){const a=this.L.nb.xf("volume");return a?a.Bb().Yo:this.Yo}Hk(){super.Hk();this.Ej=!1;this.fe&&(this.Mq&&(this.Im=this.Mq.D1.call(this.fe,this.ah),this.Yo=this.Mq.q4.call(this.fe,this.ah)),this.Kb&&this.Kb.ue.call(this.fe,this.ah))}hm(a){this.qp=a}Hc(){super.Hc();this.Im=NaN;this.Ej=!1}se(){super.se();const a=this.L.rb().ya();this.Im=a-this.BI;switch(this.L.pa.Pc){case "volume":this.Yo=this.L.wf(a)}this.Ej=
!1}za(a,d,c,g,n){if(this.fe)switch(this.L.pa.Pc){case "audioSource":if(!this.Bh.nj())break;if(g){this.Kb&&this.Kb.ue.call(this.fe,this.ah);break}if(a<this.BI){this.Ej=!1;break}d=this.Mq.C1.call(this.fe,this.ah);c=this.Bh.Oc;c!==d&&this.Kb.ci.call(this.fe,this.ah,c);if(this.Ej)break;this.Ej=!0;if(isNaN(this.Im)){const h=self.performance.now(),l=a-this.BI;this.fe.Ug("get-suspended").then(m=>{if("suspended"===m)this.Ej=!1;else if(m=l+(self.performance.now()-h)/1E3,this.Kb){let p=this.qp;isNaN(p)?(this.hm(0),
p=0):this.hm(p);this.Kb.Play.call(this.fe,this.CG,0,p,this.ah,m)}})}else{const h=this.Im;this.Im=NaN;const l=this.a7();this.Yo=NaN;this.fe.Ug("get-suspended").then(m=>{"suspended"===m?this.Ej=!1:this.Kb&&(this.hm(l),this.Kb.Play.call(this.fe,this.CG,0,l,this.ah,h))})}break;case "volume":this.GP(),super.za(a,d,c,g,n)}}wf(a,d,c){if(this.fe)switch(this.L.pa.Pc){case "volume":return this.GP(),super.wf(a,d,c)}}LL(){return this.Xe?this.Xe.qp:0}I3(a,d){this.Xe&&this.Xe.hm(this.LL()+d);this.Kb&&this.Xe&&
this.Kb.hm.call(this.fe,this.Xe.ah,this.Xe.qp)}cV(a,d){this.Xe&&this.Xe.hm(d);this.Kb&&this.Xe&&this.Kb.hm.call(this.fe,this.Xe.ah,this.Xe.qp)}ba(){return{audioPlaybackStarted:this.Ej,audioTag:this.ah,pauseTime:this.Im,pauseVolume:this.Yo,volume:this.qp}}ja(a){a&&(this.Ej=a.audioPlaybackStarted,this.ah=a.audioTag,this.Im=a.pauseTime,this.Yo=a.pauseVolume,this.qp=a.volume,this.uP())}}e.Xa.CV=b}"use strict";function ic(e,b,a){return e.L.rb().nj()?b():a()}
function jc(e,b,a){return"relative"===e.L.Oe()?b():a()}function kc(e){if(e.qr)return e.qr;e.qr=e.ge.Bs();return e.qr}function lc(e,b=!1){const a=[];for(const d of e){e=d.nb.Pe();for(const c of d.cx())b&&0===c.ya()?a.push({time:e+c.ya(),value:c.$g}):b||a.push({time:e+c.ya(),value:c.$g})}return a.sort((d,c)=>d.time-c.time)}function mc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.B.Xa.Se=class{constructor(e){this.ge=e;this.L=e.xf();this.Pa=this.L.nb.A();this.Pc=this.L.pa.Pc;this.Nq=!1;this.qr=this.xh=null}m(){this.qr=this.xh=this.Pa=this.L=this.ge=null}qj(){return!1}Hk(){}Zi(){this.qr=this.xh=this.Pa=null}Bb(){return this.ge}xf(){return this.L}A(){return this.Pa?this.Pa:this.Pa=this.L.nb.A()}Hc(){}se(){}rw(){this.xh=null}me(){}Nh(){}Oh(){}gC(e){return typeof this.Mk()===typeof e}vp(){}rn(){}up(){}ko(){return ic(this,()=>{const e=this.L.pa;return this.L.Sd().Rw(e)},()=>
{const e=this.L.pa;return this.L.Sd().An(e)}).$g}fy(){const e=this.L.rb().ya()-this.L.nb.Pe();return ic(this,()=>{const b=this.L.pa;return this.L.Sd().Th(e,b)},()=>{const b=this.L.pa,a=this.L.Sd(),d=a.mL(e,b);return d?d:a.An(b)}).$g}jy(){}we(){return this.ge.Fa()}ba(){return{firstAbsoluteUpdate:this.Nq,saveState:this.xh}}ja(e){e&&(this.Nq=e.firstAbsoluteUpdate,this.xh=e.saveState)}};
{"use strict";const e=self.B,b=new Map,a=[0,0,0];class d extends e.Xa.Se{constructor(c){super(c)}Hc(){}se(){}me(){const c=this.L.Fd(),g=kc(this),n=this.we();switch(c){case "behavior":return this.Iy(g.Xc(n));case "effect":return this.Iy(g[n]);case "plugin":return this.Iy(g.Xc(n));case "world-instance":return this.Iy(this.Mk())}}Nh(){const c=this.ko();return!this.uO(c,this.Mk())}Oh(){return e.Td(this.xh)?!1:!this.uO(this.xh,this.Mk())}uO(c,g){return c.Dl(g)}ko(){const c=super.ko();return this.ky(c)}fy(){const c=
super.fy();return this.ky(c)}jy(){}Iy(c){return e.Wl(c,e.Za)?c.toArray().slice(0,3):c.slice(0,3)}ky(c){return e.Wl(c,e.Za)?c:new e.Za(c[0],c[1],c[2],1)}gC(){return!0}qj(){return!0}vp(){var c=this.L.rb(),g=this.L.xa();const n=this.L.Bb();(c=c.ys(g,n,this.Pc))&&1<c.length&&(b.has(g)||b.set(g,new Map),g=b.get(g),c=this.L.Fd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.Pc)||g.set(this.Pc,{WU:!1,color:new e.Za(0,0,0,1)}))}kP(c,g,n){c=b.get(c).get(g).get(n);c.WU=!0;return c.color}rn(c,g){var n=this.L.rb(),
h=this.L.nb;c=this.L.xa();var l=this.L.Bb();const m=this.L.Fd();if((l=n.ys(c,l,this.Pc))&&1<l.length){if(l=lc(l,!0),n=n.ya(),n=mc(n,l))l=n.time-h.Pe(),0===l?this.kP(c,m,this.Pc).JT(g[0],g[1],g[2]):0>l||(n=g[0],h=g[1],g=g[2],l=this.L.za(l,!1,!0),n=e.Za.pC(n,l[0]),h=e.Za.pC(h,l[1]),g=e.Za.pC(g,l[2]),this.kP(c,m,this.Pc).JT(n,h,g))}else this.Dj(g[0],g[1],g[2])}up(){const c=this.L.xa();if(b.has(c)){var g=b.get(c),n=this.L.Fd();if(g.has(n)){var h=g.get(n);if(h.has(this.Pc)){var l=h.get(this.Pc),m=l.color;
l.WU&&this.Dj(m.Qa,m.Ua,m.Ta);0===h.size&&g.delete(n);0===g.size&&b.delete(c)}}}}Mk(){const c=this.L.Fd(),g=kc(this),n=this.we();switch(c){case "behavior":return this.ky(g.Xc(n));case "effect":return g[n].clone();case "plugin":return this.ky(g.Xc(n));case "world-instance":return this.A().bb.clone()}}Dj(c,g,n){const h=this.L.Fd(),l=kc(this),m=this.we();switch(h){case "behavior":a[0]=c;a[1]=g;a[2]=n;l.uj(m,a);break;case "effect":l[m].Sr(c,g,n);break;case "plugin":a[0]=c;a[1]=g;a[2]=n;l.uj(m,a);break;
case "world-instance":this.A().E3(c,g,n)}}ba(){}ja(){}}e.Xa.Se.eW=d}
{"use strict";const e=self.B,b=e.Xa;class a extends e.Xa.Se{constructor(d){super(d)}Hc(){}se(){}me(){return this.Mk()}Nh(){return this.ko()!==this.me()}Oh(){return e.Td(this.xh)?!1:this.xh!==this.me()}qj(){return!1}rn(d,c){const g=this.L,n=g.nb,h=g.Fd();var l=g.rb();const m=n.xa(),p=g.Bb();(l=l.ys(m,p,this.Pc))&&1<l.length&&(l=lc(l),d=mc(d+n.Pe(),l))&&(c=d.value);switch(g.xs()){case "numeric":if(!b.Ns.Jk(this.we(),kc(this),c,h))return;break;case "angle":if(!b.gw.Jk(this.we(),kc(this),c,h))return;
break;case "boolean":if(!b.iw.Jk(this.we(),kc(this),c,h))return;break;case "color":if(!b.uw.Jk(this.we(),kc(this),c,h))return;break;case "text":if(!b.Xx.Jk(this.we(),kc(this),c,h))return}this.Dj(c)}Mk(){const d=this.L.Fd(),c=kc(this),g=this.we();switch(d){case "behavior":return c.Xc(g);case "effect":return c[g];case "instance-variable":return c.oe(g);case "plugin":return c.Xc(g)}}Dj(d){const c=this.L.Fd(),g=kc(this),n=this.we();switch(c){case "behavior":g.uj(n,d);break;case "effect":g[n]=d;break;
case "instance-variable":g.fm(n,d);break;case "plugin":g.uj(n,d)}}}e.Xa.Se.qM=a}
{"use strict";const e=self.B,b=new Map,a=(c,g,n,h,l)=>b.set(c,{Rda:g,lca:n,Xca:h,round:l});a("offsetX",(c,g)=>c.M0(g),(c,g)=>c.gi(g),c=>c.ga(),!0);a("offsetY",(c,g)=>c.N0(g),(c,g)=>c.hi(g),c=>c.ia(),!0);a("offsetWidth",(c,g)=>c.tM(g),(c,g)=>c.Gk(g),c=>c.ta(),!0);a("offsetHeight",(c,g)=>c.sM(g),(c,g)=>c.Dk(g),c=>c.qa(),!0);a("offsetAngle",(c,g)=>c.I0(g),(c,g)=>c.Gd(g),c=>c.Ea(),!1);a("offsetOpacity",(c,g,n,h)=>{n=c.pe()+g;0===h.zc?(1<n?h.zc+=n-1:0>n&&(h.zc+=n),c.J0(g)):(c=c.pe()+g,0<g&&0<h.zc?1<c&&
(h.zc+=c-1):0<g&&0>h.zc?(h.zc+=g,0<h.zc&&(h.zc=0)):0>g&&0<h.zc?(h.zc+=g,0>h.zc&&(h.zc=0)):0>g&&0>h.zc&&0>c&&(h.zc+=c))},(c,g)=>{c.Ek(g)},c=>c.pe(),!1);a("offsetOriginX",(c,g)=>c.K0(g),(c,g)=>c.aE(g),c=>c.vs(),!1);a("offsetOriginY",(c,g)=>c.L0(g),(c,g)=>c.bE(g),c=>c.ws(),!1);a("offsetZElevation",(c,g)=>c.O0(g),(c,g)=>c.Ue(g),c=>c.$a(),!0);a("offsetScaleX",(c,g,n)=>{const h=0>c.ta()?-1:1;c.tM(n.Rl()*h*g)},(c,g,n)=>{c.Gk(n.Rl()*g)},(c,g)=>{const n=0>c.ta()?-1:1;if(c.En()){var h=c.Ba();const l=g.rb().HL(h.xa());
l?h=h.ta()/l.Rl():(h.xa(),h=1);return c.ta()*n/(g.Rl()*h)}return c.ta()*n/g.Rl()},!1);a("offsetScaleY",(c,g,n)=>{const h=0>c.qa()?-1:1;c.sM(n.Ql()*h*g)},(c,g,n)=>{c.Dk(n.Ql()*g)},(c,g)=>{const n=0>c.qa()?-1:1;if(c.Dn()){var h=c.Ba();const l=g.rb().HL(h.xa());l?h=h.qa()/l.Ql():(h.xa(),h=1);return c.qa()*n/(g.Ql()*h)}return c.qa()*n/g.Ql()},!1);class d extends e.Xa.Se{constructor(c){super(c);this.zc=this.Mb=0;this.dT=this.fT=this.eT=this.ZG=this.aH=this.$G=null;this.mI=!1;this.Tm=e.Wl(this.L.rb(),e.f4)?
new e.Xa.Se.H0(this):new e.Xa.Se.G0(this);const g=this.L.pa.Pc;switch(this.L.Fd()){case "world-instance":c=b.get(g);this.$G=c.Xca;this.aH=c.Rda;this.ZG=c.lca;this.mI=c.round;break;case "audio":this.eT=c.LL,this.fT=c.I3,this.dT=c.cV,this.mI=!0}}m(){this.ZG=this.aH=this.$G=this.Tm=null;super.m()}qj(){return this.Tm.qj()}vN(c){this.Mb=c}Hc(){const c=this.Tm.Hc();"number"===typeof c&&(this.Mb=c);this.zc=0}se(){const c=this.Tm.se();"number"===typeof c&&(this.Mb=c)}me(){return this.Mk()}Nh(){return this.ko()!==
this.me()}Oh(){return e.Td(this.xh)?!1:this.xh!==this.me()}vp(){this.Tm.vp()}rn(c,g,n,h,l,m,p){return this.Tm.rn(c,g,n,h,l,m,p)}up(){this.Tm.up()}Mk(){const c=kc(this),g=this.we(),n=this.A(),h=this.L.nb;switch(this.L.Fd()){case "behavior":return c.Xc(g);case "effect":return c[g];case "instance-variable":return c.oe(g);case "plugin":return c.Xc(g);case "world-instance":return this.$G(n,h);case "audio":return this.eT.call(this.Bb(),n,h)}}Dj(c){const g=kc(this),n=this.we(),h=this.A(),l=this.L.nb;switch(this.L.Fd()){case "behavior":g.CD(n,
c);break;case "effect":g[n]+=c;break;case "instance-variable":g.f3(n,c);break;case "plugin":g.CD(n,c);break;case "world-instance":this.aH(h,c,l,this);break;case "audio":this.fT.call(this.Bb(),h,c,l,this)}}xQ(c){const g=kc(this),n=this.we(),h=this.A(),l=this.L.nb;switch(this.L.Fd()){case "behavior":g.uj(n,c);break;case "effect":g[n]=c;break;case "instance-variable":g.fm(n,c);break;case "plugin":g.uj(n,c);break;case "world-instance":this.ZG(h,c,l);break;case "audio":this.dT.call(this.Bb(),h,c,l)}}rq(c,
g,n,h,l,m){this.Tm.rq(c,g,n,h,l,m)}Kk(c,g,n){c=(c.toString().split(".")[1]||"").length;const h=this.Mk();this.Dj((0===c?this.mI?Math.round(h):h:e.toFixed(h,c))-h,g,n)}ba(){return Object.assign(super.ba(),{v:this.Mb,a:this.zc})}ja(c){c&&(super.ja(c),this.Mb=c.v,this.zc=c.a)}}e.Xa.Se.rM=d}
{"use strict";class e{constructor(a){this.XI=!1;this.sc=0;this.Va=a;for(let d=0,c=this.Va.length;d<c;d++)this.Va[d].D2(this)}JN(){this.XI=!0}te(a){this.sc=a}mc(){return this.sc}Yc(){this.XI=!1;this.sc=0}}class b{constructor(a){this.$d=a}m(){this.$d=null}Hc(){const a=this.$d;this.$d.xf();return jc(a,()=>ic(a,()=>0,()=>a.Bb().JL()),()=>{})}se(){}qj(){switch(this.$d.xf().Oe()){case "relative":return!1;case "absolute":return!0}}vp(){var a=this.$d.xf(),d=a.pa.Pc;switch(a.Oe()){case "absolute":if(a.XC())a.Lt.Yc();
else{const c=a.rb(),g=a.xa();a=a.Bb();(d=c.ys(g,a,d))&&1<d.length&&new e(d)}}}rn(a,d,c,g,n,h){var l=this.$d,m=this.$d.xf();switch(m.Oe()){case "relative":m=l.Mb;l.Dj(d-m,c,g);h&&this.rq(a,c,g,n,m,d);l.vN(d);break;case "absolute":if(c=m.rb(),a=m.nb,m.xa(),m.Bb(),m.XC()){if(l=m.Lt,g=lc(l.Va,!0),c=c.ya(),c=mc(c,g))a=c.time-a.Pe(),0===a?(l.JN(),l.te(l.mc()+d)):0>a||(m=m.wf(a),l.JN(),l.te(l.mc()+(d-m)))}else l.xQ(d)}}up(){const a=this.$d;var d=this.$d.xf();switch(d.Oe()){case "absolute":d.XC()&&(d=d.Lt,
d.XI&&a.xQ(d.mc()))}}rq(a,d,c,g,n,h){const l=this.$d;g||(d&&a===d.ya()?l.Kk(d.nc(),d,c):c&&a===c.ya()?l.Kk(c.nc(),d,c):0===h-n&&l.Kk(d.nc(),d,c))}}self.B.Xa.Se.G0=b}
{"use strict";class e{constructor(b){this.$d=b}m(){this.$d=null}Hc(){const b=this.$d;b.Nq=!0;return this.jy(b.ko())}se(){const b=this.$d;if(b.ko()!==b.fy())return b.Nq=!0,this.jy(b.fy())}qj(){return!1}vp(){}rn(b,a,d,c,g,n){const h=this.$d,l=h.Mb;switch(h.xf().Oe()){case "relative":h.Dj(a-l,d,c);n&&this.rq(b,d,c,g,l,a);break;case "absolute":h.Nq?(h.Nq=!1,h.Dj(l,d,c)):(h.Dj(a-l,d,c),n&&this.rq(b,d,c,g,l,a))}h.vN(a)}up(){}jy(b){return b-this.$d.me()}rq(b,a,d,c,g,n){const h=this.$d;c?a&&b===a.ya()?h.Kk(a.nc(),
a,d):d&&b===d.ya()?h.Kk(d.nc(),a,d):d||h.Kk(a.nc(),a,d):a&&b===a.ya()?h.Kk(a.nc(),a,d):d&&b===d.ya()?h.Kk(d.nc(),a,d):0===n-g&&h.Kk(a.nc(),a,d)}}self.B.Xa.Se.H0=e}
{"use strict";const e=self.B,b=self.$r;e.Xa.Ns=class{constructor(){}static Jk(a,d,c,g){let n;switch(g){case "behavior":n=d.Xc(a);break;case "effect":n=d[a];break;case "instance-variable":n=d.oe(a);break;case "plugin":n=d.Xc(a)}return n===c?!1:!0}static za(a,d,c,g){if(!c)return c=g.pa,c=g.Sd().An(c),c.nc();var n=g.Uh();"default"===n&&(n="continuous");"combo"===g.dx()&&(n="discrete");if("discrete"===n)return d.nc();if("continuous"===n||"step"===n){"step"===n&&(n=g.rb().zs(),0!==n&&(n=1/n,a=Math.floor(a*
n)/n));var h=d.ya();const l=c.ya();n=d.nc();const m=c.nc();if(n===m)return n;a=e.normalize(a,h,l);const p=d.Ol();d=d.wC("cubic-bezier");c=c.wC("cubic-bezier");d&&d.pv&&c&&c.lz?(h=l-h,h=b.Bn(p)(h*a,0,1,h),h=b.Bn("cubicbezier")(h,n,n+d.zI,m+c.uG,m)):h=b.Bn(p)((l-h)*a,n,m-n,l-h);return"integer"===g.dx()?Math.floor(h):h}}}}
{"use strict";const e=self.B;e.Xa.gw=class{constructor(){}static Jk(b,a,d,c){let g;switch(c){case "behavior":g=a.Xc(b);break;case "effect":g=a[b];break;case "instance-variable":g=a.oe(b);break;case "plugin":g=a.Xc(b)}return g===d?!1:!0}static za(b,a,d,c){if(!d)return a=c.pa,a=c.Sd().An(a),a.nc();var g=c.Uh();"default"===g&&(g="continuous");"combo"===c.dx()&&(g="discrete");if("discrete"===g)return a.nc();if("continuous"===g||"step"===g){"step"===g&&(c=c.rb().zs(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const n=a.ya(),h=d.ya();c=a.nc();d=d.nc();if(g=a.wC("angle")){const l=g.lI;if(c===d&&0===l)return c;b=e.normalize(b,n,h);a=self.$r.Bn(a.Ol())(b,0,1,1);switch(g.nG){case "closest":return e.hJ(c,d,a,l);case "clockwise":return e.sca(c,d,a,l);case "anti-clockwise":return e.rca(c,d,a,l)}}else{if(c===d)return c;b=e.normalize(b,n,h);a=self.$r.Bn(a.Ol());return e.hJ(c,d,a(b,0,1,1))}}}}}"use strict";
self.B.Xa.iw=class{constructor(){}static Jk(e,b,a,d){let c;switch(d){case "behavior":c=b.Xc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.oe(e);break;case "plugin":c=b.Xc(e)}return!!c===!!a?!1:!0}static za(e,b,a,d){return a?b.nc()?1:0:(e=d.pa,e=d.Sd().An(e),e.nc()?1:0)}};
{"use strict";const e=self.B,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.Xa.uw=class{constructor(){}static Jk(c,g,n,h){let l;switch(h){case "behavior":l=g.Xc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.oe(c);break;case "plugin":l=g.Xc(c)}Array.isArray(n)?(b[0]=n[0],b[1]=n[1],b[2]=n[2]):(d.vU(n),b[0]=Math.floor(255*d.Qa),b[1]=Math.floor(255*d.Ua),b[2]=Math.floor(255*d.Ta));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(d.vU(l),a[0]=Math.floor(255*d.Qa),a[1]=Math.floor(255*d.Ua),a[2]=Math.floor(255*
d.Ta));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static za(c,g,n,h){if(!n)return g=h.pa,g=h.Sd().An(g),g=g.nc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;var l=h.Uh();"default"===l&&(l="continuous");if("discrete"===l)return g=g.nc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;if("continuous"===l||"step"===l){"step"===l&&(h=h.rb().zs(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.ya();l=n.ya();var m=g.nc(),p=n.nc();const q=e.normalize(c,h,l);c=m[0];n=m[1];m=m[2];const u=p[0],r=p[1];p=p[2];g=self.$r.Bn(g.Ol());h=l-h;
l=h*q;b[0]=c===u?c:g(l,c,u-c,h);b[1]=n===r?n:g(l,n,r-n,h);b[2]=m===p?m:g(l,m,p-m,h);return b}}}}"use strict";self.B.Xa.Xx=class{constructor(){}static Jk(e,b,a,d){let c;switch(d){case "behavior":c=b.Xc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.oe(e);break;case "plugin":c=b.Xc(e)}return c===a?!1:!0}static za(e,b,a,d){return a?b.nc():(e=d.pa,e=d.Sd().An(e),e.nc())}};
{"use strict";const e=self.B;e.lg=class{constructor(){this.wv=new Map}m(){for(const b of this.wv.values())b.m();this.wv.clear();this.wv=null}Uc(b){b=new e.X3(b);this.wv.set(b.Aa(),b)}Y(b){return this.wv.get(b)}static jt(b,a,d,c){if(a)for(const g of a)e.lg.wO("create",g,b,d,c)}static ut(b,a,d,c){b.length?a.forEach((g,n)=>{b[n].ja(g)}):a.forEach(g=>{e.lg.wO("load",g,b,d,c)})}static wO(b,a,d,c,g){let n;if("function"===typeof c)switch(b){case "load":n=new c(null,g);break;case "create":n=new c(a,g)}else if("object"===
typeof c)switch(c=c.map.get(a[c.yU]),b){case "load":n=new c(null,g);break;case "create":n=new c(a,g)}switch(b){case "load":n.ja(a);d.push(n);break;case "create":"function"!==typeof n.mk||n.mk()?d.push(n):n.m()}}}}
{"use strict";const e=self.B;e.X3=class{constructor(b){this.Da="";this.yr=NaN;this.bB=0;this.Mf=this.Kf="default";this.DA=this.rA=!1;this.kr=1;this.Ge=null;b&&(this.Da=b[0],this.yr=b[1],this.bB=b[2],this.Kf=b[3],this.Mf=b[4],this.rA=!!b[6],this.DA=!!b[7],this.kr=b[8],this.Ge=new e.QN(b[5],this))}m(){this.Ge.m();this.Ge=null}Cs(){this.Ge||(this.Ge=new e.QN(null,this));return this.Ge}Aa(){return this.Da}Ux(b){this.Da=b}Bf(){return this.yr}zs(){return this.bB}Uh(){return this.Kf}Oe(){return this.Mf}Yw(){return this.rA}bx(){return this.DA}Xh(){return this.kr}ba(){return{trackDataJson:this.Ge.ba(),
name:this.Da,totalTime:this.yr,step:this.bB,interpolationMode:this.Kf,resultMode:this.Mf,loop:this.rA,pingPong:this.DA,repeatCount:this.kr}}ja(b){b&&(this.Cs().ja(b.trackDataJson),this.Da=b.name,this.yr=b.totalTime,this.bB=b.step,this.Kf=b.interpolationMode,this.Mf=b.resultMode,this.rA=b.loop,this.DA=b.pingPong,this.kr=b.repeatCount)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Ge=d;this.lm=this.Kz=null;this.kl=this.bl=NaN;this.Mf=this.Kf="default";this.sg=!1;this.fc=this.ph=null;this.Be="";this.br=null;this.AI=0;this.pA=this.Ge.Dd.Bf();this.ra=0;this.Da="";a&&(a[0]&&(this.Kz=a[0],this.bl=a[0][2],this.kl=a[0][1]),this.Kf=a[1],this.Mf=a[2],this.sg=!!a[3],a[6]&&(this.Be=a[6]),a[7]&&(this.br=a[7],this.AI=a[7][0],this.pA=a[7][1]),a[8]&&(this.lm=a[8]),a[8]&&(this.lm=a[8]),a[9]&&(this.ra=a[9]),a[10]&&(this.Da=a[10]),this.ph=
new e.fM(a[4],this),this.fc=new e.JM(a[5],this))}m(){this.Ge=this.Kz=null;this.ph&&(this.ph.m(),this.ph=null);this.fc&&(this.fc.m(),this.fc=null);this.br=null}Cs(){return this.Ge}hj(){this.ph||(this.ph=new e.fM(null,this));return this.ph}Sd(){this.fc||(this.fc=new e.JM(null,this));return this.fc}PC(){return this.kl}ts(){return this.bl}Uh(){return this.Kf}Oe(){return this.Mf}mk(){return this.sg}Ck(a){this.sg=!!a}gj(){return this.Be}Pe(){return this.AI}nk(){return this.pA}Rl(){return this.lm[0]}Ql(){this.lm||
(this.lm=[]);return this.lm[1]}kj(){return this.ra}Aa(){return this.Da}ba(){return{keyframeDataJson:this.ph.ba(),propertyTrackDataJson:this.fc.ba(),instanceData:this.Kz,additionalInstanceData:this.lm,instanceUid:this.bl,objectClassIndex:this.kl,interpolationMode:this.Kf,resultMode:this.Mf,enabled:this.sg,id:this.Be,nestedData:this.br,type:this.ra,name:this.Da}}ja(a){a&&(this.Kz=a.instanceData,this.bl=a.instanceUid,this.kl=a.objectClassIndex,this.Kf=a.interpolationMode,this.Mf=a.resultMode,this.sg=
a.enabled,this.Be=a.id,this.ra=a.type?a.type:0,this.Da=a.name?a.name:"",this.pA=this.Ge.Dd.Bf(),a.nestedData&&(this.br=a.nestedData,this.AI=this.br[0],this.pA=this.br[1]),a.additionalInstanceData&&(this.lm=a.additionalInstanceData),this.hj().ja(a.keyframeDataJson),this.Sd().ja(a.propertyTrackDataJson))}}e.QN=class{constructor(a,d){this.Dd=d;this.mp=[];e.lg.jt(this.mp,a,b,this)}m(){this.Dd=null;for(const a of this.mp)a.m();e.D(this.mp);this.mp=null}XY(a,d){d=d.hj().ec;const c=d.length;for(let g=0;g<
c;g++){const n=d[g];if(n.ya()===a)return n}}lL(a,d){d=d.hj().ec;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.ya()<=a)return g}}*PU(){for(const a of this.mp)yield a}ba(){return{trackDataItemsJson:this.mp.map(a=>a.ba())}}ja(a){a&&e.lg.ut(this.mp,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.fc=d;this.VA="";this.ra=this.Pc=this.Of=null;this.JH=this.NH=NaN;this.Mf=this.Kf="default";this.sg=!1;this.Ni=null;this.Wy=!0;a&&(this.VA=a[0][0],this.Of=a[0].slice(1),this.Pc=a[1],this.ra=a[2],this.NH=a[3],this.JH=a[4],this.Kf=a[5],this.Mf=a[6],this.sg=!!a[7],this.Ni=new e.IM(a[8],this),this.Wy=a[9])}m(){this.Ni.m();this.Of=this.fc=this.Ni=null}Sd(){return this.fc}Tg(){this.Ni||(this.Ni=new e.IM(null,this));return this.Ni}Fd(){return this.VA}kj(){return this.ra}HN(a){this.ra=
a}Uh(){return this.Kf}Oe(){return this.Mf}mk(){return this.sg}Ck(a){this.sg=!!a}hC(){return!!this.Wy}ba(){return{propertyKeyframeDataJson:this.Ni.ba(),sourceAdapterId:this.VA,sourceAdapterArguments:this.Of,property:this.Pc,type:this.ra,min:this.NH,max:this.JH,interpolationMode:this.Kf,resultMode:this.Mf,enabled:this.sg,canHavePropertyKeyframes:this.Wy}}ja(a){a&&(this.VA=a.sourceAdapterId,this.Of=a.sourceAdapterArguments,this.Pc=a.property,this.ra=a.type,this.NH=a.min,this.JH=a.max,this.Kf=a.interpolationMode,
this.Mf=a.resultMode,this.sg=a.enabled,this.Wy=a.canHavePropertyKeyframes,this.Tg().ja(a.propertyKeyframeDataJson))}}e.JM=class{constructor(a,d){this.Eb=d;this.ap=[];e.lg.jt(this.ap,a,b,this)}m(){this.Eb=null;for(const a of this.ap)a.m();e.D(this.ap);this.ap=null}Rw(a){return a.Tg().Hb[0]}An(a){return a.Tg().Hb.Qd(-1)}nZ(a,d){d=d.Tg().Hb;const c=d.length;for(let g=0;g<c;g++){const n=d[g];if(n.ya()===a)return n}}mL(a,d){d=d.Tg().Hb;const c=d.length;for(let g=0;g<c;g++){const n=d[g];if(n.ya()>=a)return n}}Th(a,
d){d=d.Tg().Hb;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.ya()<=a)return g}}*zU(){for(const a of this.ap)yield a}ba(){return{propertyTrackDataItemsJson:this.ap.map(a=>a.ba())}}ja(a){a&&e.lg.ut(this.ap,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.ph=d;this.Tb=-1;this.xi="noease";this.yi=!1;this.Su=this.Gg=null;a&&(this.Tb=a[0],this.xi=a[1],this.yi=!!a[2],this.Gg=(a=a[3])?a.split(" "):[],this.Su=new Set(this.Gg.map(c=>c.toLowerCase())),this.De=null)}m(){this.ph=null;e.D(this.Gg);this.Gg=null;this.Su.clear();this.Su=null}hj(){return this.ph}$s(a){this.De=a}ya(){return this.Tb}jq(a){this.Tb=a;this.ph.qt()}Ol(){return this.xi}tj(a){this.xi=a}mk(){return this.yi}Ck(a){this.yi=!!a}FN(a){this.Gg=
a?a.split(" "):[];this.Su=new Set(this.Gg.map(d=>d.toLowerCase()))}ba(){return{time:this.Tb,ease:this.xi,enable:this.yi,tags:this.Gg}}ja(a){a&&(this.Tb=a.time,this.xi=a.ease,this.yi=a.enable,this.Gg=a.tags,this.Su=new Set(this.Gg.map(d=>d.toLowerCase())))}}e.fM=class{constructor(a,d){this.Eb=d;this.ec=[];e.lg.jt(this.ec,a,b,this);this.qt()}m(){this.Eb=null;for(const a of this.ec)a.m();e.D(this.ec);this.ec=null}qt(){this.ec.sort((a,d)=>a.ya()-d.ya());for(let a=0;a<this.ec.length;a++)this.ec[a].$s(this.ec[a+
1])}hV(){const a=new b(null,this);this.ec.push(a);this.qt();return a}IW(a){for(const d of this.ec){if(!a(d))continue;const c=this.ec.indexOf(d);-1!==c&&(d.m(),this.ec.splice(c,1))}this.O3();this.qt()}O3(){this.ec.sort((a,d)=>a.ya()-d.ya())}ZY(a){return this.ec.indexOf(a)}YY(a){return this.ec[a]}ba(){return{keyframeDataItemsJson:this.ec.map(a=>a.ba())}}ja(a){a&&(e.lg.ut(this.ec,a.keyframeDataItemsJson,b,this),this.qt())}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Ni=d;this.$g=this.sc=null;this.ra="";this.Tb=NaN;this.xi="noease";this.yi=!1;this.ni=null;this.Qk=void 0;a&&(this.sc=a[0][0],this.$g=a[0][1],this.ra=a[0][2],this.Tb=a[1],this.xi=a[2],this.yi=!!a[3],this.ni=null,a[4]&&(this.ni=new e.rV(a[4],this)),this.De=null)}m(){this.Ni=null;this.ni&&(this.ni.m(),this.ni=null)}$s(a){this.De=a}mc(){return this.sc}te(a){"color"===this.ra&&e.Vl(a)?(this.sc[0]=e.SC(a),this.sc[1]=e.KC(a),this.sc[2]=e.yC(a)):
this.sc=a}eN(a){"color"===this.ra&&e.Vl(a)?(this.$g[0]=e.SC(a),this.$g[1]=e.KC(a),this.$g[2]=e.yC(a)):this.$g=a}nc(){const a=this.Ni.pa.Oe();if("relative"===a)return this.mc();if("absolute"===a)return this.$g}kj(){return this.ra}HN(a){this.ra=a}ya(){return this.Tb}jq(a){this.Tb=a;this.Ni.tt()}Ol(){return this.xi}tj(a){this.xi=a}mk(){return this.yi}Ck(a){this.yi=!!a}wC(a){if(this.ni){if(this.Qk||null===this.Qk)return this.Qk;var d=this.ni.po;if(!d)return this.Qk=null;var c=d.length;for(let g=0;g<c;g++){const n=
d[g];if(n.gj()===a)return this.Qk=n}return this.Qk=null}}ba(){const a=this.ni;return{addonDataJson:a?a.ba():a,value:this.sc,aValue:this.$g,type:this.ra,time:this.Tb,ease:this.xi,enable:this.yi}}ja(a){a&&(a.addonDataJson&&this.ni.Nna(a.addonDataJson),this.sc=a.value,this.$g=a.aValue,this.ra=a.type,this.Tb=a.time,this.xi=a.ease,this.yi=a.enable)}}e.IM=class{constructor(a,d){this.pa=d;this.Hb=[];e.lg.jt(this.Hb,a,b,this);this.tt()}m(){this.pa=null;for(const a of this.Hb)a.m();e.D(this.Hb);this.Hb=null}tt(){this.Hb.sort((a,
d)=>a.ya()-d.ya());for(let a=0;a<this.Hb.length;a++)this.Hb[a].$s(this.Hb[a+1])}nK(){const a=new b(null,this);this.Hb.push(a);this.tt();return a}RK(a){for(const d of this.Hb){if(!a(d))continue;const c=this.Hb.indexOf(d);-1!==c&&(d.m(),this.Hb.splice(c,1))}this.P3();this.tt()}P3(){this.Hb.sort((a,d)=>a.ya()-d.ya())}ba(){return{propertyKeyframeDataItemsJson:this.Hb.map(a=>a.ba())}}ja(a){a&&(e.lg.ut(this.Hb,a.propertyKeyframeDataItemsJson,b,this),this.tt())}}}
{"use strict";const e=self.B;class b{constructor(c,g){this.ni=g;this.Be=c[0];this.Wk=c[1]}m(){this.Wk=this.ni=null}gj(){return this.Be}ba(){return{id:this.Be,data:this.Wk}}ja(c){c&&(this.Be=c.id,this.Wk=c.data)}}class a extends b{constructor(c,g){super(c,g);this.zI=this.Wk[0];this.pv=!!this.Wk[1];this.uG=this.Wk[2];this.lz=!!this.Wk[3]}m(){super.m()}ba(){return Object.assign(super.ba(),{startAnchor:this.zI,startEnable:!!this.pv,endAnchor:this.uG,endEnable:!!this.lz})}ja(c){c&&(super.ja(c),this.zI=
c.startAnchor,this.pv=!!c.startEnable,this.uG=c.endAnchor,this.lz=!!c.endEnable)}}class d extends b{constructor(c,g){super(c,g);this.nG=this.Wk[0];this.lI=this.Wk[1]}m(){super.m()}ba(){return Object.assign(super.ba(),{direction:this.nG,revolutions:this.lI})}ja(c){c&&(super.ja(c),this.nG=c.direction,this.lI=c.revolutions)}}e.rV=class{constructor(c){this.po=[];e.lg.jt(this.po,c,{yU:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}m(){for(const c of this.po)c.m();e.D(this.po);this.po=null}ba(){return{addonDataItemsJson:this.po.map(c=>
c.ba())}}ja(c){c&&e.lg.ut(this.po,c.addonDataItemsJson,{yU:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.B;let b=0;e.f4=class extends e.eo{constructor(a,d){super(`tween-${b++}`,a,d);this.Be="";this.cR=!1;this.VG="start-value";this.nb=this.AS=this.zS=this.dc=null}MK(){for(const a of this.Dd.Cs().PU())this.hb.push(e.UN.Ma(this,a));this.nb=this.hb[0]}xf(){return this.nb.Va[0]}xa(){var a=this.hb;if(a&&a.length&&(this.nb=a=a[0])){var d=a.xa();return a.Xl()?d:void 0}}gj(){return this.Be}DM(){if(this.AS)for(const a of this.AS)a(this);if(!this.Gf)for(const a of this.hb)a.Oh()}DD(){this.Bq=
this.g.Sj}ZK(){if(!this.Co&&(this.Co=!0,this.zS))for(const a of this.zS)a(this)}jq(a){this.AO();super.jq(a)}Hc(a){if(!this.wm&&"current-state"===this.VG)for(const d of this.hb)d.Nh();super.Hc(a)}ue(a=!1){super.ue(a);if(!this.Gf)for(const d of this.hb)d.Yn()}Yc(a=!0,d=!1){this.AO();super.Yc(a,d)}AO(){for(const a of this.hb){const d=c=>{c=c.ya();const g=this.Bf();return 0!==c&&c!==g};a.JW(d);a.Cw(d)}}Bt(){if(this.Eg)return!0;const a=this.xa();if(a&&a.H().Cf())return!1;this.zb.BK(this);this.XM();return!0}Ve(a,
d,c){this.dc||(this.dc=this.xa());if(this.dc&&!this.dc.Hs()&&(d=this.dc.pd,-1!==d&&(a=c*d),0!==a||0!==this.gA)){this.gA=a;c=this.Sb+a*this.Oc;a=this.Dd.yr;this.Sb=0>c?0:c>=a?a:c;c=!1;d=this.Yw();var g=this.bx();d||g?d&&!g?0<this.Oc?this.Sb>=a&&this.oc(0):0>=this.Sb&&this.oc(a):!d&&g?0<this.Oc?this.Sb>=a&&(this.oc(a),this.ci(-1*this.Oc),1===this.zd?this.wd<this.Xh()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):0>=this.Sb&&(this.oc(0),this.ci(-1*this.Oc),1===this.zd?this.wd<this.Xh()?(this.wd++,
this.zd=0):c=!0:0===this.zd&&(this.zd=1)):d&&g&&(0<this.Oc?this.Sb>=a&&(this.oc(a),this.ci(-1*this.Oc)):0>=this.Sb&&(this.oc(0),this.ci(-1*this.Oc))):0<this.Oc?this.Sb>=a&&(this.wd<this.Xh()?(this.wd++,this.oc(0)):(this.oc(a),c=!0)):0>=this.Sb&&(this.wd<this.Xh()?(this.wd++,this.oc(a)):(this.oc(0),c=!0));c?(this.nb.nN(),this.ue(!0),this.DD()):(this.nb.za(this.Sb,!0,!1,!1,this.Ae,!1),this.Ae&&(this.Ae=!1))}}ba(){const a=super.ba();return Object.assign(a,{tweenDataItemJson:this.Dd.ba(),id:this.Be,destroyInstanceOnComplete:this.cR,
initialValueMode:this.VG})}ja(a){a&&(this.Dd.ja(a.tweenDataItemJson),super.ja(a),this.Be=a.id,this.cR=a.destroyInstanceOnComplete,this.VG=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const e=self.B;e.UN=class extends e.rE{constructor(b,a){super(b,a);this.pI=this.lu=null}static Ma(b,a){return e.j(e.UN,b,a)}nO(){1===this.Va.length?this.lu=this.Va[0]:(this.lu=this.Va[0],this.pI=this.Va[1])}LK(){for(const b of this.Eb.Sd().zU())this.Va.push(e.TN.Ma(this,b));this.nO()}qn(){}za(b,a,d=!1,c=!1,g,n=!1){this.dc||this.xa();if(this.dc){if(this.dc.Hs()||n&&this.H().Cf())return!1;this.pI?(this.lu.za(b,d,c),this.pI.za(b,d,c)):this.lu.za(b,d,c);0!==this.lu.Zj&&(this.Pa||(this.Pa=
this.dc.A()),this.Pa&&this.Pa.sb())}}pn(){}ja(b){super.ja(b);this.nO()}}}
{"use strict";const e=self.B;e.TN=class extends e.Xa{constructor(b,a){super(b,a);this.St=!1}static Ma(b,a){return e.j(e.TN,b,a)}za(b,a=!1,d=!1){if(this.St){var c=this.Hb[0];var g=this.Hb[1]}else{if(a)c=this.fc.Th(b,this.pa);else{if(this.Ac){g=this.rb();const n=this.Ac.De;c=this.Ac.ya();g=n?n.ya():g.Bf();if(b<=c||b>=g)this.Ac=this.fc.Th(b,this.pa)}else this.Ac=this.fc.Th(b,this.pa);c=this.Ac}g=c.De}this.ge.za(b,c,g,a,d)}pK(){const b=this.pa.Tg().nK();this.Ac=null;this.St=2>=this.cx().length;return b}Cw(b){this.Ac=
null;this.pa.Tg().RK(b);this.St=2>=this.cx().length}ba(){return{sourceAdapterJson:this.Bb().ba(),basic:this.St}}ja(b){b&&(this.Bb().ja(b.sourceAdapterJson),this.St=b.basic)}}}
{"use strict";const e=self.B,b=self.$r;e.RN=class extends e.aa{constructor(a){super();this.Da=a[0];this.Qf=[];for(var d of a[1])a=e.SN.Ma(this,d),this.Qf.push(a);for(d=0;d<this.Qf.length;d++)this.Qf[d].$s(this.Qf[d+1]);this.av=new Map;this.tT=new Map;this.i9();b.gV(this.Da,(c,g,n,h)=>this.za(c,g,n,h))}static Ma(a){return e.j(e.RN,a)}m(){for(const a of this.Qf)a.m();e.D(this.Qf);this.Qf=null;this.av.clear();this.av=null;this.tT.clear();this.tT=null}MY(a){for(let d=this.Qf.length-1;0<=d;d--){const c=
this.Qf[d];if(c.Rf<a)return c}}LY(a){for(let d=this.Qf.length-1;0<=d;d--){const c=this.Qf[d];if(c.Rf<=a)return c}}za(a,d,c,g){var n=a/g;a=this.LY(n);g=a.De;g||(a=this.MY(n),g=a.De);n=e.sda(n,a.Rf,g.Rf,g.Rf-a.Rf);const h=a.Rf,l=a.Fv,m=a.Rf+a.jT,p=a.Fv+a.dca,q=g.Rf+g.iR,u=g.Fv+g.jba,r=g.Rf;g=g.Fv;g=b.Bn("spline")(n,h,l,m,p,q,u,r,g,this.av.get(a));g+=a.Fv;return(1-g)*d+g*(d+c)}i9(){this.av.clear();for(let d=0;d<this.Qf.length-1;d++){var a=this.Qf[d];if(!a.pv)continue;const c=this.Qf[d+1];this.av.set(a,
b.qY(a.Rf,a.Rf+a.jT,c.Rf+c.iR,c.Rf))}}}}{"use strict";const e=self.B;e.SN=class extends e.aa{constructor(b,a){super();this.Rf=a[0];this.Fv=a[1];this.jT=a[2];this.dca=a[3];this.iR=a[4];this.jba=a[5];this.pv=a[6];this.lz=a[7];this.De=null}m(){}static Ma(b,a){return e.j(e.SN,b,a)}$s(b){this.De=b}}}{"use strict";const e=self.B;e.d4=class extends e.aa{constructor(b){super();this.g=b;this.fB=[]}m(){for(const b of this.fB)b.m();e.D(this.fB);this.fB=null}Ma(b){this.fB.push(e.RN.Ma(b))}}}
{"use strict";const e=self.B;e.N3=class extends e.aa{constructor(b){super();this.K=b;this.gb=[];this.gb.push(e.j(e.iE,this));this.La=0;this.vi=this.gb[0]}m(){for(const b of this.gb)b.m();e.D(this.gb);this.K=this.vi=null}H(){return this.K}R(){return this.vi}jd(){this.R().jd()}Q1(){var b=this.gb,a=++this.La;a===b.length?(a=e.j(e.iE,this),b.push(a),this.vi=a):(b=b[a],b.Yc(),this.vi=b)}R1(){const b=this.gb,a=++this.La;a===b.length&&b.push(e.j(e.iE,this));const d=b[a];d.nW(b[a-1]);this.vi=d}Ja(){this.vi=
this.gb[--this.La]}Vn(b){const a=this.gb;for(let d=0,c=a.length;d<c;++d)a[d].Vn(b)}}}
{"use strict";const e=self.B;e.iE=class extends e.aa{constructor(b){super();this.gb=b;this.K=this.gb.H();this.xd=this.K.G().Wc();this.Ob=!0;this.F=[];this.Rb=[]}m(){this.pw();this.xd=this.K=this.gb=null}pw(){e.D(this.F);e.D(this.Rb)}H(){return this.K}ZC(){return this.Ob?!!this.K.F.length:!!this.F.length}fa(){return this.Ob?this.K.fa():this.F}CZ(){return!!this.Rb.length}IC(){const b=this.fa();return b.length?b:this.Rb}Yc(){this.Ob=!0;e.D(this.Rb)}jd(){this.Ob=!0}nW(b){b.Ob?this.Yc():(this.Ob=!1,e.Dc(this.F,
b.F),e.D(this.Rb))}tq(b){this.F.push(b)}Ok(b){this.Rb.push(b)}We(b){this.Ob=!!b}Fk(b){this.Ob=!1;e.D(this.F);this.F.push(b)}Ws(b){this.Ob=!1;e.Dc(this.F,b)}bt(b){this.Ob=!1;e.D(this.F);for(const a of b)this.F.push(a)}mK(b,a){for(const d of a)b.has(d)||this.Rb.push(d)}a4(b){for(const a of b)this.F.push(a);e.Tf(this.Rb,b)}am(b){b&&(this.xd.Me().Ab().yd?(this.Ob&&(e.D(this.F),e.Dc(this.Rb,b.H().fa()),this.Ob=!1),b=this.Rb.indexOf(b),-1!==b&&(this.F.push(this.Rb[b]),this.Rb.splice(b,1))):this.Fk(b))}Vn(b){e.Tf(this.F,
b);e.Tf(this.Rb,b)}}}
{"use strict";const e=self.B;e.YX=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.gb=[];this.gb.push(e.j(e.WK,this,null));this.La=0;this.oz=[]}m(){for(const b of this.gb)b.m();e.D(this.gb);e.D(this.oz);this.g=this.oa=null}ea(){return this.oa}G(){return this.g}Me(){return this.gb[this.La]}Na(b){var a=this.gb;const d=++this.La;if(d===a.length)return b=e.j(e.WK,this,b),a.push(b),b;a=a[d];a.Yc(b);return a}Ja(){--this.La}S1(b){this.oz.push(b)}G1(){this.oz.pop()}wY(){const b=this.oz;
return 0===b.length?null:b.Qd(-1)}}}
{"use strict";const e=self.B;e.WK=class extends e.aa{constructor(b,a){super();this.gb=b;this.g=this.gb.G();this.du=a;this.Ef=this.Uk=0;this.tG=this.Ro=!1;this.yG=null;this.GG=this.uR=0}m(){this.Yc(null);this.g=this.gb=null}Yc(b){this.du=b;this.Ef=this.Uk=0;this.tG=this.Ro=!1}fF(b,a){this.du=b;this.Uk=0;this.Ef=a}YM(){this.Ef=this.Uk=0}Ab(){return this.du}gg(b){this.du=b}em(b){this.Uk=b}Mx(b){this.Ef=b}gm(b){this.Ro=!!b}cq(b){this.tG=!!b}T2(b){this.yG=b}g_(b,a){this.uR=b;this.GG=a}Sx(b){this.GG=b}oj(){const b=
this.du;return b.$z?!0:this.Uk<b.Qb.length-1?!!b.ld().length:!1}}}{"use strict";const e=self.B;e.t0=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.gb=[];this.La=-1;this.vi=null;this.Iz=[]}m(){e.D(this.gb);this.g=this.oa=null}L$(b){this.Iz=b;b=this.Iz.slice(0);this.gb.push(b);this.La=0;this.vi=b}ea(){return this.oa}G(){return this.g}Dp(){return this.vi}Na(){const b=++this.La,a=this.gb;b===a.length?a.push(this.Iz.slice(0)):e.Dc(a[b],this.Iz);this.vi=a[b]}Ja(){this.vi=this.gb[--this.La]}}}
{"use strict";const e=self.B;e.v0=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.gb=[];this.La=-1}m(){e.D(this.gb);this.g=this.oa=null}ea(){return this.oa}G(){return this.g}aM(){return 0<=this.La}Dp(){return this.gb[this.La]}Na(){++this.La;if(this.La===this.gb.length){var b=e.j(e.u0,this);this.gb.push(b);return b}b=this.gb[this.La];b.Yc();return b}Ja(){--this.La}eY(b){const a=this.gb;for(let d=this.La;0<=d;--d){const c=a[d];if(c.Aa()===b)return c}return null}}}
{"use strict";const e=self.B;e.u0=class extends e.aa{constructor(b){super();this.df=b;this.Da="";this.La=0;this.pc=!1}Yc(){this.Da="";this.La=0;this.pc=!1}Ux(b){this.Da=b}Aa(){return this.Da}vc(b){this.La=b}Fa(){return this.La}ue(){this.pc=!0}}}{"use strict";const e=self.B;e.yV=class extends e.aa{constructor(){super();this.gb=[];this.La=-1}m(){e.D(this.gb)}Dp(){return this.gb[this.La]}Na(){++this.La;if(this.La===this.gb.length){const b=[];this.gb.push(b);return b}return this.gb[this.La]}Ja(){--this.La}}}
{"use strict";const e=self.B;function b(a,d){return a.Fa()-d.Fa()}e.XX=class extends e.aa{constructor(a){super();this.g=a;this.Mt=[];this.qI=new Map;this.JF=[];this.yR=new Map;this.aG=new Map;this.hG=new Map;this.Ly=new Map;this.MQ=new Map;this.wG=new Map;this.Rba=0;this.IF=[];this.Kaa=[];this.mS=[];this.EG=new Map;this.xd=e.j(e.YX,this);this.gd=e.j(e.t0,this);this.df=e.j(e.v0,this);this.LI=[];this.LA=[];this.KA=[];this.$F=this.Zk=this.sl=0;this.Nf=[];this.Py=[];self.c3_callFunction=(d,c)=>this.uy(d,
c)}m(){this.ow();this.xd.m();this.xd=null;this.gd.m();this.gd=null;e.D(this.LA);e.D(this.KA);this.g=null;e.D(this.Mt);this.qI.clear()}Ma(a){a=e.j(e.WX,this,a);this.Mt.push(a);this.qI.set(a.Aa().toLowerCase(),a)}R4(a){this.LI.push(a)}Gb(){for(const a of this.EG.values())a.Gb(!1);for(const a of this.Mt)a.Gb();for(const a of this.Mt)a.wF();for(const a of this.LI)a.Gb(!1);e.D(this.LI);this.gd.L$(this.mS)}G(){return this.g}kL(a){return this.qI.get(a.toLowerCase())||null}v9(a){this.JF.push(a);this.yR.set(a.xR,
a)}s9(a){this.aG.set(a.fb,a)}r9(a){this.hG.set(a.fb,a)}q9(a){this.Ly.set(a.fb,a)}u9(a){this.EG.set(a.Az.toLowerCase(),a)}t9(a){this.wG.set(a.fb,a);a.Cf()?this.IF.push(a):this.Kaa.push(a)}gy(a){2<=a.length&&a.sort(b);let d=this.MQ.get(a.length);d||(d=[],this.MQ.set(a.length,d));for(let g=0,n=d.length;g<n;++g){const h=d[g];a:{for(let l=0,m=a.length;l<m;++l)if(a[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}d.push(a);return a}Z6(a){this.mS.push(a.Io);return this.Rba++}Wc(){return this.xd}Le(){return this.Wc().Me()}Ab(){return this.Le().Ab()}vf(){const a=
this.Le();return a.Ab().eL(a.Uk)}Nw(){const a=this.Le();return a.Ab().cL(a.Ef)}mY(a){const d=[];for(a=a.Jp();a;)e.Al(d,a.SO()),a=a.Jp();return d}bP(a){const d={};for(const c of this.mY(a))d[c.Vh()]=c.fP();return Object.create(Object.prototype,d)}HC(a){return this.wG.get(a)||null}BY(a){return this.aG.get(a)||null}kY(a){return this.Ly.get(a)||null}Tw(a){return this.EG.get(a.toLowerCase())||null}k2(){for(const a of this.IF)a.q2()}jL(a){return this.yR.get(a.toLowerCase())||null}CY(a){return(a=this.aG.get(a))&&
a.Gi?a:null}l2(){for(const a of this.JF)a.n2()}aQ(){for(const a of this.Mt)a.K9()}v2(a){this.aQ();this.sl++;for(const d of a.aw())if(a=d.Nc)this.g.Qs(d),a.ka(),this.g.Ps();this.sl--}async DW(a){this.aQ();this.sl++;for(const d of this.O5(a))await this.g.Ap(d);this.sl--}*O5(a){for(const d of a.aw())if(a=d.Nc)this.g.Qs(d),yield*a.ib(),this.g.Ps()}Jt(a,d,c,g){let n=!1;if(!a.Jb())return this.JD(d,c,g);this.Zk++;for(const h of a.aw())if(a=h.Nc){this.g.Qs(h);for(const l of a.ez){const m=l.Jt(d,c,g);n=n||
m}a=a.Jt(d,c,g);n=n||a;this.g.Ps()}this.Zk--;return n}*lt(a,d,c,g){let n=!1;if(!a.Jb())return this.JD(d,c,g);this.Zk++;for(const h of a.aw())if(a=h.Nc){this.g.Qs(h);for(const l of a.ez){const m=yield*l.lt(d,c,g);n=n||m}a=yield*a.lt(d,c,g);n=n||a;this.g.Ps()}this.Zk--;return n}JD(a,d,c){this.LA.push([a,d,c]);return!1}U1(a,d,c){let g=null;const n=new Promise(h=>g=h);this.KA.push([a,d,c,g]);return n}*U9(){if(this.g.Gs())throw Error("should not be in breakpoint");const a=this.g.Ya;for(;this.KA.length;){const [d,
c,g,n]=this.KA.shift(),h=yield*this.lt(a,d,c,g);n(h)}}async $M(){for(const a of this.U9())await this.g.Ap(a)}rD(){return 0<this.Zk}ot(){return++this.Zk}mt(){--this.Zk}$_(){return 0<this.sl}yx(){return this.$_()||this.rD()}V9(a){for(const [d,c,g]of this.LA)this.Jt(a,d,c,g);e.D(this.LA)}uf(a){a?this.$F++:this.$F--}$L(){return 0<this.$F}zp(a){for(let d=0,c=a.length;d<c;++d)a[d].Nm.jd()}dg(a){for(let d=0,c=a.length;d<c;++d)a[d].Nm.Q1()}re(a){for(let d=0,c=a.length;d<c;++d)a[d].Nm.R1()}Fb(a){for(let d=
0,c=a.length;d<c;++d)a[d].Nm.Ja()}YB(){const a=e.j(e.TD,this);this.Nf.push(a);return a}x2(){if(this.Nf.length){var a=this.Le(),d=!1;this.sl++;for(let c=0,g=this.Nf.length;c<g;++c){const n=this.Nf[c];n.yQ()&&n.M9(a);n.lv&&(d=!0)}d&&this.OO();this.sl--}}async FW(){if(this.Nf.length){var a=this.Le(),d=!1;this.sl++;for(let c=0,g=this.Nf.length;c<g;++c){const n=this.Nf[c];n.yQ()&&await n.I5(a);n.lv&&(d=!0)}d&&this.OO();this.sl--}}OO(){const a=e.uca(this.Nf,d=>d.lv);for(const d of a)d.m()}ow(){for(const a of this.Nf)a.m();
e.D(this.Nf)}b2(a){for(const d of this.Nf)d.Vn(a)}VB(a){this.Py.push(a)}qw(){e.D(this.Py)}mZ(){const a=Promise.all(this.Py);this.Py=[];return a}ba(){return{groups:this.c$(),cnds:this.b$(),acts:this.a$(),vars:this.o$(),waits:this.k$()}}ja(a){this.S7(a.groups);this.N7(a.cnds);this.M7(a.acts);this.f8(a.vars);this.b8(a.waits)}c$(){const a={};for(const d of this.JF)a[d.fb.toString()]=d.Op();return a}S7(a){for(const [d,c]of Object.entries(a))(a=this.CY(parseInt(d,10)))&&a.eq(c)}b$(){const a={};for(const [d,
c]of this.hG){const g=c.ba();g&&(a[d.toString()]=g)}return a}N7(a){const d=new Map;for(const [c,g]of Object.entries(a))d.set(parseInt(c,10),g);for(const [c,g]of this.hG)g.ja(d.get(c)||null)}a$(){const a={};for(const [d,c]of this.Ly){const g=c.ba();g&&(a[d.toString()]=g)}return a}M7(a){const d=new Map;for(const [c,g]of Object.entries(a))d.set(parseInt(c,10),g);for(const [c,g]of this.Ly)g.ja(d.get(c)||null)}o$(){const a={};for(const [d,c]of this.wG)c.ob||!c.Cf()&&!c.oh||(a[d.toString()]=c.mc());return a}f8(a){for(const [d,
c]of Object.entries(a))(a=this.HC(parseInt(d,10)))&&a.te(c)}k$(){return this.Nf.filter(a=>!a.Y_()).map(a=>a.ba())}b8(a){this.ow();for(const d of a)(a=e.TD.n5(this,d))&&this.Nf.push(a)}uC(a){for(;a;)if(a=a.Jp(),a instanceof e.fs)return a;return null}uy(a,d){Array.isArray(d)||(d=[]);a=this.Tw(a.toLowerCase());if(!a)return null;if(!a.On())return a.os();var c=a.ug;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].Io);while(d.length<c.length)}c=a.ne();return c.RD(c.md(),a.ql,a.os(),...d)}}}
{"use strict";const e=self.B;e.WX=class extends e.aa{constructor(b,a){super();this.oa=b;this.g=b.G();this.Da=a[0];this.mz=[];this.iB=new Map;this.oR=new Map;this.kba=new Map;this.qu=!1;this.ZS=[];this.ez=[];this.NQ=new Set;for(const d of a[1])this.xO(d,null,this.mz);this.Mi=this.g.pb?{type:"sheet",name:this.Da,bw:0,children:[]}:null}m(){this.g=this.oa=null}xO(b,a,d){switch(b[0]){case 0:case 3:this.l5(b,a,d);break;case 1:this.m5(b,a,d);break;case 2:this.q5(b,a,d);break;case 4:this.o5(b,a);break;case 5:this.v5(b,
a,d);break;default:throw Error("invalid event type");}}l5(b,a,d){b=e.hk.Ma(this,a,b);if(b.yd){d.push(b);d=b.Qb;for(let c=0,g=d.length;c<g;++c)d[c].Pn()&&this.qP(b,c)}else b.Pn()?this.qP(b,0):d.push(b)}o5(b,a){b=e.fs.Ma(this,a,b);this.oa.u9(b)}m5(b,a,d){b=e.Gw.Ma(this,a,b);d.push(b)}q5(b,a,d){b=e.VK.Ma(this,a,b);d.push(b)}v5(b,a,d){b=e.Fw.Ma(this,a,b);d.push(b)}qP(b,a){b.yd||this.oa.R4(b);var d=b.eL(a),c=d.Ga,g=d.H();if(d.UR){var n=this.oR.get(g);n||(n=new Map,this.oR.set(g,n));d=d.GY().toLowerCase();
g=n.get(c);g||(g=new Map,n.set(c,g));c=g.get(d);c||(c=[],g.set(d,c));c.push([b,a])}else n=this.iB.get(g),n||(n={LJ:new Map,Jv:new Map},this.iB.set(g,n)),(g=d.Yf())?(d=n.Jv.get(g),d||(d=new Map,n.Jv.set(g,d))):d=n.LJ,n=d.get(c),n||(n=[],d.set(c,n)),n.push([b,a])}Gb(){const b=this.mz;for(let a=0,d=b.length;a<d;++a)b[a].Gb(a<d-1&&b[a+1]instanceof e.hk&&b[a+1].xx())}Q4(b){this.ZS.push(b)}wF(){e.D(this.ez);this.eO(this);this.NQ.clear()}eO(b){const a=b.ez,d=b.NQ;for(const c of this.ZS){const g=c.vu;c.Cb&&
b!==g&&!d.has(g)&&(d.add(g),g.eO(b),a.push(g))}}ea(){return this.oa}G(){return this.g}Aa(){return this.Da}VP(b,a){this.kba.set(a,b)}K9(){this.qu=!1}ka(){if(!this.qu){var b=this.g,a=b.kD(),d=a?performance.now():0;this.qu=!0;var c=this.ea(),g=c.Le();for(const n of this.mz)n.ka(g),c.zp(n.ld()),c.qw(),b.Ed();g.Yc(null);a&&(this.Mi.bw+=performance.now()-d)}}*ib(){if(!this.qu){this.qu=!0;var b=this.g,a=this.ea(),d=a.Le();for(const c of this.mz)yield*c.ib(d),a.zp(c.ld()),a.qw(),b.Ed();d.Yc(null)}}Jt(b,a,
d){if(a){const c=a.H();this.uF(b,a,c,d);for(const g of c.jh)this.uF(b,a,g,d)}else return this.uF(b,a,null,null)}uF(b,a,d,c){d=this.iB.get(d);if(!d)return!1;c=c?d.Jv.get(c):d.LJ;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [g,n]of c)c=this.NO(a,g,n),b=b||c;return b}*lt(b,a,d){if(a){const c=a.H();yield*this.GE(b,a,c,d);for(const g of c.jh)yield*this.GE(b,a,g,d)}else return yield*this.GE(b,a,null,null)}*GE(b,a,d,c){d=this.iB.get(d);if(!d)return!1;c=c?d.Jv.get(c):d.LJ;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [g,n]of c)c=g.je()?this.NO(a,g,n):yield*this.C5(a,g,n),b=b||c;return b}NO(b,a,d){const c=this.g,g=this.oa,n=g.Ab(),h=g.Wc(),l=g.Zk;let m=!1;n&&g.dg(n.md());g.dg(a.md());const p=1<l;p&&g.gd.Na();const q=h.Na(a);b&&(a.Qb[d].H().R().Fk(b),b.Wb()&&b.fi());b=!0;if(a.Ba()){const u=a.np;for(let r=0,v=u.length;r<v;++r)if(!u[r].ZM(q)){b=!1;break}}b&&(c.uk(),a.yd?a.w2(q,d):a.ka(q),m=q.Ro);h.Ja();p&&g.gd.Ja();g.Fb(a.md());n&&g.Fb(n.md());n||1!==l||(g.qw(),g.$L()||c.Ed());return m}*C5(b,
a,d){const c=this.g,g=this.oa,n=g.Ab(),h=g.Wc(),l=g.Zk;let m=!1;n&&g.dg(n.md());g.dg(a.md());const p=1<l;p&&g.gd.Na();const q=h.Na(a);b&&(a.Qb[d].H().R().Fk(b),b.Wb()&&b.fi());b=!0;if(a.Ba()){const u=a.np;for(let r=0,v=u.length;r<v;++r)if(!(yield*u[r].OK(q))){b=!1;break}}b&&(c.uk(),a.yd?yield*a.EW(q,d):yield*a.ib(q),m=q.Ro);h.Ja();p&&g.gd.Ja();g.Fb(a.md());n&&g.Fb(n.md());n||1!==l||(g.qw(),g.$L()||c.Ed());return m}}}
{"use strict";const e=self.B,b=[];function a(){return!0}function*d(){return!0}e.hk=class extends e.aa{constructor(c,g,n){super();this.Nc=c;this.g=c.G();this.rc=g;this.Nd=null;this.xd=this.g.ea().Wc();this.Ee=[];this.mr=[];this.ou=this.bA=this.$z=this.DR=!1;this.yd=!!n[2];this.Rz=!1;this.np=null;this.Qb=[];this.Kb=[];this.Ah=[];this.mi=a;this.jo=d;this.iH=this.Gi=!1;this.xR="";this.Tz=!1;this.Mi=this.cz=null;this.fb=n[4];this.Hq=n[5];this.Nc.VP(this,this.Hq);this.Oa=this.g.pb?{Tc:n[3][0],HJ:n[3][1],
PT:!1,mJ:!1,nJ:!1,QT:!1}:null;this.ea().s9(this);3===n[0]&&this.u7(n[1]);c=0;for(var h of n[6])g=e.CK.Ma(this,h,c++),this.Qb.push(g),this.jO(g.H());c=0;for(const l of n[7])h=e.fw.Ma(this,l,c++),this.Kb.push(h);if(9===n.length){n=n[8];for(const l of n)this.Nc.xO(l,this,this.Ah)}this.Qb.length&&(this.Rz=null===this.Qb[0].H()&&this.Qb[0].Ga===e.C.ab.J.RX);0===this.Qb.length&&(this.Qb=b);0===this.Kb.length&&(this.Kb=b);0===this.Ah.length&&(this.Ah=b)}static Ma(c,g,n){return e.j(e.hk,c,g,n)}u7(c){this.Gi=
!0;this.Tz=this.iH=!!c[0];this.xR=c[1].toLowerCase();this.cz=[];this.ea().v9(this);this.g.pb&&(this.Mi={type:"group",name:c[1],bw:0,children:[]})}I4(c){this.cz.push(c)}dO(c,g){for(const n of c.qg.ml)g.includes(n)||g.push(n)}kO(c,g){if(c)if(g.includes(c)||g.push(c),c.eb)for(const n of c.Bo)n.Wb()&&this.dO(n,g);else c.Wb()&&this.dO(c,g)}jO(c){this.kO(c,this.Ee)}M4(c){this.kO(c,this.mr)}E2(){this.Ee=this.g.Ic}Gb(c){this.ou=!!c;this.o7();this.p7();for(const n of this.Qb)n.Gb();if(0<this.Kb.length){c=
!1;for(var g of this.Kb)g.Gb(),g.LZ()&&(c=!0);c?(this.mi=this.O9,this.jo=this.K5):(this.mi=this.N9,this.jo=this.J5)}g=this.Ah;for(let n=0,h=g.length;n<h;++n)g[n].Gb(n<h-1&&g[n+1]instanceof e.hk&&g[n+1].xx());this.Oa&&this.saa();this.Mi&&this.b7().Mi.children.push(this.Mi)}b7(){let c=this.Ba();for(;c;){if(c.Gi)return c;c=c.Ba()}return this.Nc}saa(){const c=this.Oa;c.PT=this.Qb.every(g=>g.je());c.mJ=this.Kb.every(g=>g.je());c.nJ=this.Ah.every(g=>g.je());c.QT=c.PT&&c.mJ&&c.nJ}o7(){if(this.Gi){var c=
this.Ba();for(this.bA=!0;c;){if(!c.Gi){this.bA=!1;break}c=c.Ba()}}}n7(){var c=this.g.Ic;if(this.Ee===c)this.mr=c;else{this.mr=e.qJ(this.Ee);for(c=this.Ba();c;){for(var g of c.Ee)this.M4(g);c=c.Ba()}g=this.ea();this.Ee=g.gy(this.Ee);this.mr=g.gy(this.mr)}}p7(){if(this.DZ()){this.np=[];for(var c=this.Ba();c;)this.np.push(c),c=c.Ba();this.np.reverse()}}ct(){this.$z=!0;this.rc&&this.rc.ct()}ld(){return this.Ee}md(){this.DR||(this.DR=!0,this.n7());return this.mr}NZ(c){return this.Ee.includes(c)}ea(){return this.Nc.ea()}G(){return this.g}Ba(){return this.rc}T$(c){this.Nd=
c}Jp(){return this.Nd||this.rc}mD(){return this.Oa&&this.Oa.HJ}Mn(){return this.mD()&&this.Oa.Tc}xx(){return this.Rz}Op(){return this.Tz}n2(){this.eq(this.iH)}eq(c){c=!!c;if(!this.Gi)throw Error("not a group");if(this.Tz!==c){this.Tz=c;for(const g of this.cz)g.VN();this.cz.length&&(c=this.g.Ia().Nc)&&c.wF()}}Pn(){return this.Qb.length&&this.Qb[0].Pn()}T_(){return this.Nd&&this.Nd instanceof e.fs}DZ(){return this.T_()||this.Qb.some(c=>c.Pn())}eL(c){c=Math.floor(c);if(0>c||c>=this.Qb.length)throw new RangeError("invalid condition index");
return this.Qb[c]}S_(c){let g=c.Fa();if(0===g)return!0;for(--g;0<=g;--g)if(this.Qb[g].H()===c.H())return!1;return!0}cL(c){c=Math.floor(c);if(0>c||c>=this.Kb.length)throw new RangeError("invalid action index");return this.Kb[c]}m7(c){c=Math.floor(c);return 0<=c&&c<this.Kb.length}SO(){return this.Ah.filter(c=>c instanceof e.Gw)}ZM(c){c.gg(this);let g=!1;const n=this.Qb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.em(h);if(m.kH)throw Error("trigger cannot be used as sub-event to a loop");if(m.ka())g=
!0;else if(!this.yd)return!1}return this.yd?g:!0}w2(c,g){c.gg(this);this.Qb[g].ka()&&(this.mi(c,0)&&this.Pk(),c.gm(!0))}*OK(c){c.gg(this);let g=!1;const n=this.Qb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.em(h);if(m.kH)throw Error("trigger cannot be used as sub-event to a loop");if(m.je()?m.ka():yield*m.ib())g=!0;else if(!this.yd)return!1}return this.yd?g:!0}*EW(c,g){c.gg(this);g=this.Qb[g];if(g.je()?g.ka():yield*g.ib())(this.zw()?this.mi(c,0):yield*this.jo(c,0))&&(this.Aw()?this.Pk():yield*this.kt()),
c.gm(!0)}ka(c){c.gg(this);this.Rz||c.cq(!1);this.yd?this.T9(c):this.yy(c)}*ib(c){if(this.Mn()||this.g.lc())yield this;c.gg(this);this.Rz||c.cq(!1);this.yd?yield*this.V5(c):yield*this.DE(c)}T9(c){const g=this.Qb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.Pn()||(c.em(l),h=h.ka(),n=n||h)}c.gm(n);n&&(this.mi(c,0)&&this.Pk(),this.ou&&c.cq(!0))}*V5(c){const g=this.Qb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.Pn()||(c.em(l),h=h.je()?h.ka():yield*h.ib(),n=n||h)}c.gm(n);
n&&((this.zw()?this.mi(c,0):yield*this.jo(c,0))&&(this.Aw()?this.Pk():yield*this.kt()),this.ou&&c.cq(!0))}yy(c){const g=this.Qb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.em(n);if(!l.ka()){c.gm(!1);return}}c.gm(!0);this.mi(c,0)&&this.Pk();c.Ro&&this.ou&&c.cq(!0)}*DE(c){const g=this.Qb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.em(n);if(l.je()?!l.ka():!(yield*l.ib())){c.gm(!1);return}}c.gm(!0);(this.zw()?this.mi(c,0):yield*this.jo(c,0))&&(this.Aw()?this.Pk():yield*this.kt());c.Ro&&this.ou&&
c.cq(!0)}N9(c,g){const n=this.Kb;for(let h=g,l=n.length;h<l;++h)g=n[h],c.Mx(h),g.ka();return!0}*J5(c,g){const n=this.Kb;for(let h=g,l=n.length;h<l;++h)g=n[h],c.Mx(h),g.je()?g.ka():yield*g.ib();return!0}O9(c,g){const n=this.ea(),h=this.Kb;for(let l=g,m=h.length;l<m;++l){g=h[l];c.Mx(l);const p=g.ka();if(g.wK()&&!0===p)return!1;g.bg()&&p instanceof Promise&&n.VB(p)}return!0}*K5(c,g){const n=this.ea(),h=this.Kb;for(let l=g,m=h.length;l<m;++l){g=h[l];c.Mx(l);let p;p=g.je()?g.ka():yield*g.ib();if(g.wK()&&
!0===p)return!1;g.bg()&&p instanceof Promise&&n.VB(p)}return!0}L9(c){this.mi(c,c.Ef)&&this.Pk()}*H5(c){if(yield*this.jo(c,c.Ef))yield*this.kt()}Pk(){if(this.Ah.length){var c=this.Gi&&this.g.kD(),g=c?performance.now():0,n=this.xd,h=n.Na(this);this.$z?this.Y9(h):this.X9(h);n.Ja();c&&(this.Mi.bw+=performance.now()-g)}}Y9(c){const g=this.Gi,n=this.bA,h=this.ea(),l=this.Ah;for(let m=0,p=l.length,q=p-1;m<p;++m){const u=l[m],r=u.ld(),v=!n||!g&&m<q;v&&h.re(r);u.ka(c);v?h.Fb(r):h.zp(r)}}X9(c){const g=this.Ah;
for(let n=0,h=g.length;n<h;++n)g[n].ka(c)}*kt(){if(this.Ah.length){var c=this.xd,g=c.Na(this);this.$z?yield*this.Y5(g):yield*this.X5(g);c.Ja()}}*Y5(c){const g=this.Gi,n=this.bA,h=this.ea(),l=this.Ah;for(let m=0,p=l.length,q=p-1;m<p;++m){const u=l[m],r=u.ld(),v=!n||!g&&m<q;v&&h.re(r);yield*u.ib(c);v?h.Fb(r):h.zp(r)}}*X5(c){const g=this.Ah;for(let n=0,h=g.length;n<h;++n)yield*g[n].ib(c)}eg(c,g){this.g.uk();g.YM();const n=this.Qb;if(!this.yd)for(let h=c.Uk+1,l=n.length;h<l;++h)if(c=n[h],g.em(h),!c.ka())return!1;
this.mi(g,0)&&this.Pk();return!0}*Wf(c,g){this.g.uk();g.YM();const n=this.Qb;if(!this.yd)for(let h=c.Uk+1,l=n.length;h<l;++h)if(c=n[h],g.em(h),c.je()?!c.ka():!(yield*c.ib()))return!1;(this.zw()?this.mi(g,0):yield*this.jo(g,0))&&(this.Aw()?this.Pk():yield*this.kt());return!0}je(){return!this.Mn()&&!this.g.lc()&&this.Oa.QT}zw(){return!this.g.lc()&&this.Oa.mJ}Aw(){return!this.g.lc()&&this.Oa.nJ}wE(c){if(this.Ba()){const g=this.np;for(let n=0,h=g.length;n<h;++n)if(!g[n].ZM(c))return!1}return!0}*yO(c){if(this.Ba()){const g=
this.np;for(let n=0,h=g.length;n<h;++n)if(!(yield*g[n].OK(c)))return!1}return!0}MO(c,g,n){0<g.length?n?(g=g.map(h=>h.Y(0)),c.gd.Na(),this.Nd.Zs(g)):this.Nd.VX(g):n&&c.gd.Na()}t2(c,g){let n,h;const l=0<c.length;var m=this.g;const p=this.xd,q=m.ea(),u=1<q.ot();this.MO(q,g,u);l&&q.dg(c);g=p.Na(this);this.wE(g)&&(m.uk(),g.gg(this),(m=this.Nd.bg())&&([h,n]=this.Nd.kE()),this.yy(g),m&&this.Nd.Ls(h));p.Ja();u&&q.gd.Ja();l&&q.Fb(c);q.mt();return n}*AW(c,g){let n,h;if(this.Mn()||this.g.lc())yield this;const l=
0<c.length;var m=this.g;const p=this.xd,q=m.ea(),u=1<q.ot();this.MO(q,g,u);l&&q.dg(c);g=p.Na(this);if(yield*this.yO(g))m.uk(),g.gg(this),(m=this.Nd.bg())&&([h,n]=this.Nd.kE()),yield*this.DE(g),m&&this.Nd.Ls(h);p.Ja();u&&q.gd.Ja();l&&q.Fb(c);q.mt();return n}u2(c){const g=this.md(),n=0<g.length,h=this.g,l=this.xd,m=h.ea(),p=1<m.ot();p&&m.gd.Na();this.Nd.Zs(c);n&&m.dg(g);c=l.Na(this);this.wE(c)&&(h.uk(),c.gg(this),this.yy(c));l.Ja();p&&m.gd.Ja();n&&m.Fb(g);m.mt()}*BW(c){if(this.Mn()||this.g.lc())yield this;
const g=this.md(),n=0<g.length,h=this.g,l=this.xd,m=h.ea(),p=1<m.ot();p&&m.gd.Na();this.Nd.Zs(c);n&&m.dg(g);c=l.Na(this);if(yield*this.yO(c))h.uk(),c.gg(this),yield*this.DE(c);l.Ja();p&&m.gd.Ja();n&&m.Fb(g);m.mt()}RD(c,g,n,...h){let l,m;const p=0<c.length,q=this.g,u=this.xd,r=q.ea(),v=1<r.ot();v&&r.gd.Na();0<h.length&&this.Nd.Zs(h);p&&r.dg(c);h=u.Na(this);h.g_(g,n);u.S1(h);q.Px(!1);this.wE(h)&&(q.uk(),h.gg(this),(g=this.Nd.bg())&&([m,l]=this.Nd.kE()),this.yy(h),g&&this.Nd.Ls(m));q.Px(!0);u.Ja();u.G1();
v&&r.gd.Ja();p&&r.Fb(c);r.mt();return l||h.GG}}}
{"use strict";const e=self.B,b=[];let a=!1;e.Fw=class extends e.aa{constructor(d,c,g){super();const n=d.G(),h=d.ea();this.Nc=d;this.oa=h;this.g=d.G();this.rc=c;this.Ga=n.Rg(g[1]);this.Hq=g[2];this.Nc.VP(this,this.Hq);this.Oa=n.pb?{Tc:g[3][0],HJ:g[3][1]}:null}static Ma(d,c,g){return e.j(e.Fw,d,c,g)}Gb(){const d=this.Ga,c=this.g.ea().bP(this);this.Ga=d.bind(null,this.g.Ei,c)}Ba(){return this.rc}Jp(){return this.rc}mD(){return this.Oa&&this.Oa.HJ}Mn(){return this.mD()&&this.Oa.Tc}xx(){return!1}ld(){return b}md(){return this.rc?
this.rc.md():b}ka(d){d.gg(this);this.oa.VB(this.Z9())}async Z9(){try{await this.Ga()}catch(d){console.error(`Unhandled exception running script %c${this.Nc.Aa()}, event ${this.Hq}:`,"font-size: 1.2em; font-weight: bold;",d),self.Vf&&self.Vf.N$(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*ib(d){d.gg(this);if(this.Mn()||this.g.lc())yield this;
this.ka(d)}je(){return!this.Mn()&&!this.g.lc()}static zZ(){return a}static Z2(){a=!0}}}
{"use strict";const e=self.B;e.fs=class extends e.aa{constructor(b,a,d){super();this.Nc=b;this.g=b.G();this.rc=a;const c=d[1];this.Az=c[0];this.ql=c[1];this.ug=c[2].map(g=>e.Gw.Ma(b,this,g));this.wba=c[3];this.WG=[];this.yu=c[4];this.Nba=0;this.cu=-1;this.Pt=new Map;this.Jd=e.hk.Ma(b,a,d);this.Jd.T$(this)}static Ma(b,a,d){return e.j(e.fs,b,a,d)}Gb(){for(const b of this.ug)b.Gb();this.Jd.Gb(!1)}SO(){return this.ug}w9(b){this.WG.push(b)}VX(b){const a=this.ug;for(let d=0,c=a.length;d<c;++d)a[d].te(b[d].Y(0))}Zs(b){const a=
this.ug;for(let d=0,c=a.length;d<c;++d)a[d].te(b[d])}VV(){return this.ug.map(b=>b.mc())}Ba(){return this.rc}Jp(){return this.rc}On(){return this.wba}os(){switch(this.ql){case 0:return null;case 2:return"";default:return 0}}ne(){return this.Jd}bg(){return this.yu}kE(){const b=this.Nba++;this.cu=b;let a;const d=new Promise(c=>a=c);this.Pt.set(b,{resolve:a,RJ:0});return[b,d]}Ls(b){const a=this.Pt.get(b);0===a.RJ&&(a.resolve(),this.Pt.delete(b));this.cu=-1}B1(){this.Pt.get(this.cu).RJ++;return this.cu}s2(b){this.cu=
b;this.Pt.get(b).RJ--}}}
{"use strict";const e=self.B,b=[];e.Gw=class extends e.aa{constructor(a,d,c){super();const g=a.ea();this.Nc=a;this.oa=g;this.g=a.G();this.rc=d;this.gd=g.gd;this.Da=c[1];this.ra=c[2];this.Io=c[3];this.oh=!!c[4];this.ob=!!c[5];this.yba=d instanceof e.fs;this.fb=c[6];this.Lu=this.g.Vh(c[8]);this.aca=n=>this.te(n);this.Zba=()=>this.mc();this.FR=!this.rc||this.oh||this.ob;this.sc=this.Io;this.HH=-1;this.UL()&&(this.sc=this.sc?1:0);!this.tD()||this.oh||this.ob||(this.HH=g.Z6(this));g.t9(this)}static Ma(a,
d,c){return e.j(e.Gw,a,d,c)}Gb(){if(this.tD()&&!this.oh&&!this.ob&&!this.yba){const a=this.oa.uC(this);a&&a.w9(this)}}Aa(){return this.Da}Vh(){return this.Lu}Ba(){return this.rc}Jp(){return this.Ba()}Cf(){return!this.Ba()}tD(){return!this.Cf()}Zl(){return 0===this.ra}ai(){return 1===this.ra}UL(){return 2===this.ra}xx(){return!1}ld(){return b}ka(){!this.tD()||this.oh||this.ob||this.te(this.Io)}je(){return!0}*ib(a){this.ka(a)}te(a){this.Zl()?"number"!==typeof a&&(a=parseFloat(a)):this.ai()?"string"!==
typeof a&&(a=a.toString()):this.UL()&&(a=a?1:0);this.FR?this.sc=a:this.gd.Dp()[this.HH]=a}mc(){return this.FR?this.sc:this.gd.Dp()[this.HH]}q2(){this.sc=this.Io}fP(){return{configurable:!1,enumerable:!0,get:this.Zba,set:this.aca}}}}
{"use strict";const e=self.B,b=[];e.VK=class extends e.aa{constructor(a,d,c){super();const g=a.ea();this.Nc=a;this.oa=g;this.g=a.G();this.rc=d;this.vu=null;this.rba=c[1];this.Cb=!0}static Ma(a,d,c){return e.j(e.VK,a,d,c)}Gb(){this.vu=this.oa.kL(this.rba);this.Nc.Q4(this);let a=this.Ba();for(;a;)a instanceof e.hk&&a.Gi&&a.I4(this),a=a.Ba();this.VN();this.g.pb&&this.Nc.Mi.children.push(this.vu.Mi)}Ba(){return this.rc}ld(){return b}ka(){const a=!!this.Ba(),d=this.g.Ic;a&&this.oa.dg(d);this.vu.ka();a&&
this.oa.Fb(d)}*ib(){const a=!!this.Ba(),d=this.g.Ic;a&&this.oa.dg(d);yield*this.vu.ib();a&&this.oa.Fb(d)}je(){return!1}VN(){let a=this.Ba();for(;a;){if(a instanceof e.hk&&a.Gi&&!a.Op()){this.Cb=!1;return}a=a.Ba()}this.Cb=!0}}}
{"use strict";const e=self.B;e.xn=class extends e.aa{constructor(l){super();this.Nb=l;this.g=l.G()}Gb(){}static uW(l,m){return e.j([n,c,g,h,b,a][m[0]],l,m)}};class b extends e.xn{constructor(l,m){super(l);this.Cd=this.g.As();this.Ga=this.g.Rg(m[1]);this.Ga!==e.C.ab.le.random&&this.Ga!==e.C.ab.le.zca||this.Nb.hE()}Qh(){return this.Cd.zj(this.Ga,this.Cd)}}class a extends e.xn{constructor(l,m){super(l);this.Oq=null;this.Az=m[1];this.Nb.hE()}Gb(){const l=this.g.ea();this.Oq=l.Tw(this.Az);this.Az=null;
const m=this.Oq.ne();this.Vk=[...new Set([...this.Nb.ne().md(),...m.md()])];this.Vk=l.gy(this.Vk)}Qh(){const l=this.Oq;if(l.On())return e.hk.prototype.RD.bind(l.ne(),this.Vk,l.ql,l.os());{const m=l.os();return()=>m}}}function d(l,m){if(l>=m)return l%m;0>l&&(l<=-m&&(l%=m),0>l&&(l+=m));return l}class c extends e.xn{constructor(l,m){super(l);this.K=this.g.Ne(m[1]);this.Ga=this.g.Rg(m[2]);this.cv=!!m[3];this.xd=this.g.ea().Wc();this.Nb.XE(this.K)}Qh(){return this.K.wb().zj(this.Ga,this.K.Yh().wa)}$X(){const l=
this.K,m=l.R().IC();var p=m.length;if(0===p)return this.cv?"":0;p=d(this.Nb.lr,p);this.xd.Me().T2(l);return this.Ga.apply(m[p].wa,[])}}class g extends e.xn{constructor(l,m){super(l);this.K=this.g.Ne(m[1]);this.zT=m[3];this.cv=!!m[2];this.Nb.XE(this.K)}ZX(){const l=this.K.R().IC();var m=l.length;if(0===m)return this.cv?"":0;m=d(this.Nb.lr,m);return l[m].ZO(this.zT)}Cp(){var l=this.K,m=l.R().IC(),p=m.length;if(0===p)return this.cv?"":0;p=d(this.Nb.lr,p);m=m[p];l=m.H().JC(l.kh);return m.ZO(this.zT+l)}}
class n extends e.xn{constructor(l,m){super(l);this.K=this.g.Ne(m[1]);this.Jc=this.K.Kw(m[2]);this.ri=this.K.hs(m[2]);this.Ga=this.g.Rg(m[3]);this.cv=!!m[4];this.xd=this.g.ea().Wc();this.Nb.XE(this.K)}}class h extends e.xn{constructor(l,m){super(l);this.Bi=null;this.vG=m[1]}Gb(){this.Bi=this.g.ea().HC(this.vG)}}}
{"use strict";const e=self.B;e.qe=class extends e.aa{constructor(A,G,z){super();this.Nb=A;this.La=z;this.ra=G;this.Y=null;this.ob=this.He=!1}static Ma(A,G,z){const F=G[0];return e.j([a,d,p,g,h,c,l,a,g,g,q,u,p,v,d,m,n,r,w,y][F],A,F,z,G)}Gb(){}hE(){this.He=!0}XE(A){this.He||!A||A.wb().zm||(this.He=!0)}Fa(){return this.La}G(){return this.Nb.G()}ne(){return this.Nb.ne()}};function b(A){A=self.KV[A];if(!A)throw Error("invalid expression number");return A}class a extends e.qe{constructor(A,G,z,F){super(A,
G,z);this.lr=0;A=F[1];this.xG=A[0];this.cr=[];this.pz=null;for(let I=1,J=A.length;I<J;++I)this.cr.push(e.xn.uW(this,A[I]));this.cr.length?this.Y=this.EY:(this.Y=b(this.xG),this.ob=!0)}xc(A){if(0>A||A>=this.cr.length)throw new RangeError("invalid numbered node");return this.cr[A]}Gb(){for(var A of this.cr)A.Gb();A=b(this.xG);this.pz=this.cr.length?A(this):A}EY(A){this.lr=A;return this.pz()}}class d extends a{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.qZ;14===G&&(this.ne().E2(),this.Nb instanceof
e.fw&&this.ne().ct())}qZ(A){this.lr=A;A=this.pz();return"string"===typeof A?A:""}T6(){return b(this.xG)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.W;this.ob=!1}W(A){this.lr=A;A=this.pz();return this.G().Ia().W(A)}}class g extends e.qe{constructor(A,G,z,F){super(A,G,z);this.cba=F[1];this.Y=this.vY;this.ob=!0}vY(){return this.cba}}class n extends e.qe{constructor(A,G,z,F){super(A,G,z);this.Qaa=F[1];this.Y=this.sY;this.ob=!0}sY(){return this.Qaa}}class h extends e.qe{constructor(A,
G,z,F){super(A,G,z);this.K=this.G().Ne(F[1]);this.Y=this.H;A=this.ne();A.jO(this.K);this.Nb instanceof e.fw?A.ct():A.Ba()&&A.Ba().ct();this.ob=!0}H(){return this.K}}class l extends e.qe{constructor(A,G,z,F){super(A,G,z);this.yg=this.G().Ya.Fp(F[1]);this.Y=this.Vb;this.ob=!0}Vb(){return this.yg}}class m extends e.qe{constructor(A,G,z,F){super(A,G,z);this.Bh=this.G().zb.lx(F[1]);this.Y=this.rb;this.ob=!0}rb(){return this.Bh}}class p extends e.qe{constructor(A,G,z,F){super(A,G,z);this.lba=F[1];this.Y=
this.HY;this.ob=!0}HY(){return this.lba}}class q extends e.qe{constructor(A,G,z,F){super(A,G,z);this.PR=F[1];(A=this.Nb.H())&&A.eb?(this.Y=this.FY,this.hE()):(this.Y=this.SY,this.ob=!0)}SY(){return this.PR}FY(A){A=A||0;const G=this.Nb.H();var z=G.R();const F=z.fa();if(F.length)A=F[A%F.length].H();else if(z.CZ())z=z.Rb,A=z[A%z.length].H();else if(0<G.F.length)z=G.fa(),A=z[A%z.length].H();else return 0;return this.PR+A.JC(G.kh)}}class u extends e.qe{constructor(A,G,z,F){super(A,G,z);this.vG=F[1];this.Bi=
null;this.Y=this.DY;this.ob=!0}Gb(){this.Bi=this.G().ea().HC(this.vG)}DY(){return this.Bi}}class r extends e.qe{constructor(A,G,z,F){super(A,G,z);this.sR=F[1];this.Oq=null;this.Y=this.OY;this.ob=!0}Gb(){this.Oq=this.G().ea().Tw(this.sR);this.sR=null}OY(){return this.Oq}}class v extends e.qe{constructor(A,G,z,F){super(A,G,z);this.EI=[];this.AT=[];this.ob=!0;for(let I=1,J=F.length;I<J;++I)A=e.qe.Ma(this.Nb,F[I],0),this.EI.push(A),this.AT.push(0),A.ob||(this.ob=!1);this.Y=this.xZ}Gb(){for(const A of this.EI)A.Gb()}xZ(){const A=
this.EI,G=this.AT;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class w extends e.qe{constructor(A,G,z,F){super(A,G,z);this.hba=F[1];this.Y=this.Ol;this.ob=!0}Ol(){return this.hba}}class y extends e.qe{constructor(A,G,z,F){super(A,G,z);this.Vaa=F[1];this.Y=this.tZ;this.ob=!0}tZ(){return this.Vaa}}}
{"use strict";const e=self.B;function b(c,g){for(let n=0,h=c.length;n<h;++n)g[n]=c[n].Y(0)}const a=[],d=function(){};e.CK=class extends e.aa{constructor(c,g,n){super();this.Jd=c;this.g=c.G();this.La=n;this.Ga=this.g.Rg(g[1]);this.oH=0<g[3];this.UR=2===g[3];this.kH=!!g[4];this.Hi=!!g[5];this.oh=!!g[6];this.fb=g[7];this.VR=this.Jd.yd;this.Jc=this.K=null;this.ri=-1;this.Cd=null;this.ib=this.ka=d;this.Ha=[];this.qb=[];this.Rk=!1;this.Ch=this.yb=null;this.Oa=this.g.pb?{Tc:g[8][0],nf:g[8][1]}:null;-1===
g[0]?this.Cd=this.g.As():(this.K=this.g.Ne(g[0]),g[2]&&(this.Jc=this.K.Kw(g[2]),this.ri=this.K.hs(g[2])),this.Jd.Ba()&&this.Jd.Ba().ct());if(10===g.length){c=g[9];for(let h of c)this.Ha.push(e.qe.Ma(this,h,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=a);this.Jd.ea().r9(this)}static Ma(c,g,n){return e.j(e.CK,c,g,n)}Gb(){for(const c of this.Ha)c.Gb(),c.He&&(this.Rk=!0);this.UR?(this.ka=this.P9,this.ib=this.P5):this.Cd?(this.qF(),this.ib=this.FE):this.K.wb().zm?(this.pF(),this.ib=
this.EE):this.oh?(this.ka=this.W9,this.ib=this.W5):(this.ka=this.gQ,this.ib=this.Q5)}qF(){this.Gt(this.Cd,this.Cd,this.iF)}pF(){const c=this.K.wb(),g=this.K.Yh().wa;this.Gt(c,g,this.hF)}Gt(c,g,n){const h=this.Ga,l=this.Hi,m=this.Ha;if(0===m.length){const p=c.zj(h,g);this.ka=l?function(){return e.xor(p(),l)}:p}else if(1===m.length){const p=m[0];if(!l&&p.ob)this.ka=c.TO(h,g,p.Y(0));else{const q=c.zj(h,g);this.ka=function(){return e.xor(q(p.Y(0)),l)}}}else if(2===m.length){const p=m[0],q=m[1];if(!l&&
p.ob&&q.ob)this.ka=c.UO(h,g,p.Y(0),q.Y(0));else{const u=c.zj(h,g);this.ka=function(){return e.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===m.length){const p=m[0],q=m[1],u=m[2];if(!l&&p.ob&&q.ob&&u.ob)this.ka=c.VO(h,g,p.Y(0),q.Y(0),u.Y(0));else{const r=c.zj(h,g);this.ka=function(){return e.xor(r(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.ka=n}H(){return this.K}Yf(){return this.Jc}ne(){return this.Jd}G(){return this.g}Fa(){return this.La}fL(){return this.Fa()}Pn(){return this.oH}je(){return!this.Oa.Tc&&!this.g.lc()&&
!this.Oa.nf}qk(){this.yb||(this.yb=new Map);return this.yb}Ds(){this.Ch||(this.Ch=new Map);return this.Ch}iF(){const c=this.qb;b(this.Ha,c);return e.xor(this.Ga.apply(this.Cd,c),this.Hi)}*FE(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Cd,c);e.Yl(c)&&(c=yield*c);return e.xor(c,this.Hi)}return this.ka()}hF(){const c=this.qb;b(this.Ha,c);const g=this.K.Yh().wa;return e.xor(this.Ga.apply(g,c),this.Hi)}*EE(){if(this.Oa.Tc||this.g.lc())yield this;
if(this.Oa.nf){var c=this.qb;b(this.Ha,c);const g=this.K.Yh().wa;c=this.Ga.apply(g,c);e.Yl(c)&&(c=yield*c);return e.xor(c,this.Hi)}return this.ka()}P9(){return!0}*P5(){if(this.Oa.Tc||this.g.lc())yield this;return!0}W9(){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Jc||this.K,c);this.K.Ub();return c}*W5(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Jc||this.K,c);e.Yl(c)&&(c=yield*c);this.K.Ub();return c}return this.ka()}gQ(){const c=this.Ha,
g=this.qb,n=this.K.R();for(let h=0,l=c.length;h<l;++h){const m=c[h];m.He||(g[h]=m.Y(0))}return n.Ob?this.Q9(n):this.R9(n)}*Q5(){if(this.Oa.Tc||this.g.lc())yield this;return this.gQ()}KE(c){const g=this.Ha,n=this.qb;for(let h=0,l=g.length;h<l;++h){const m=g[h];m.He&&(n[h]=m.Y(c))}}Q9(c){const g=this.K,n=g.eb,h=g.kh,l=this.ri,m=0<=l,p=g.fa(),q=this.Rk,u=this.qb,r=this.Ga,v=this.Hi,w=this.VR&&!this.oH;c.pw();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.KE(A);var y=void 0;m?(y=n?z.H().yn(h):0,
y=r.apply(z.fd[l+y].wa,u)):y=r.apply(z.wa,u);e.xor(y,v)?c.tq(z):w&&c.Ok(z)}c.We(!1);g.Ub();return c.ZC()}R9(c){const g=this.K,n=g.eb,h=g.kh,l=g.Wb(),m=this.ri,p=0<=m,q=this.Rk,u=this.qb,r=this.Ga,v=this.Hi,w=this.VR&&!this.oH,y=c.F,A=c.Rb,G=w&&!this.Jd.S_(this),z=G?A:y;let F=0,I=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.KE(M);var J=void 0;p?(J=n?R.H().yn(h):0,J=r.apply(R.fd[m+J].wa,u)):J=r.apply(R.wa,u);e.xor(J,v)?(I=!0,G?(y.push(R),l&&R.n9()):(z[F]=R,l&&R.V$(F),++F)):G?(z[F]=R,l&&R.U$(F),
++F):w&&(A.push(R),l&&R.m9())}e.Je(z,F);l&&g.paa(G,F);G&&!I&&(I=this.f9(y));return w?I:c.ZC()}f9(c){var g=this.K;const n=g.eb;g=g.kh;const h=this.Rk,l=this.ri,m=0<=l,p=this.qb,q=this.Ga,u=this.Hi;for(let v=0,w=c.length;v<w;++v){var r=c[v];h&&this.KE(v);if(m){const y=n?r.H().yn(g):0;r=q.apply(r.fd[l+y].wa,p)}else r=q.apply(r.wa,p);if(e.xor(r,u))return!0}return!1}Ss(c,g){return this.Ha[c].Y(g)}GY(){const c=this.Ha;if(!c.length)throw Error("no parameters");return c[0].T6()}ba(){if(!this.yb||!this.yb.size)return null;
const c={};for(const [g,n]of this.yb.entries()){let h=n;"collmemory"===g&&(h=[...n.entries()].map(l=>[l[0].kc,l[1].kc,l[2]]));c[g]=h}return{ex:c}}ja(c){this.yb&&(this.yb.clear(),this.yb=null);if(c){var g=this.g,n=c.ex;if(n){c=this.qk();c.clear();for(const [h,l]of Object.entries(n))n=l,"collmemory"===h&&(n=e.j(e.Os,l.map(m=>[g.Pg(m[0]),g.Pg(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(h,n)}}}}}
{"use strict";const e=self.B;function b(g,n){for(let h=0,l=g.length;h<l;++h)n[h]=g[h].Y(0)}const a=[],d=function(){},c=function*(){};e.fw=class extends e.aa{constructor(g,n,h){super();this.Jd=g;this.g=g=g.G();this.La=h;this.fb=4<=n.length?n[3]:-1;this.Ky=5<=n.length?n[4]:0;this.Jc=this.K=this.Ga=null;this.ri=-1;this.Cd=null;this.Vy="";this.Vk=this.Uy=null;this.ib=this.ka=d;this.Ha=[];this.qb=[];this.Rk=!1;this.Ch=this.yb=null;const l=(h=-3===n[0])?n[2]:n[5];this.Oa=g.pb||h?{Tc:l[0],nf:l[1],index:l[2]}:
null;-1===n[0]?(this.Cd=g.As(),this.Ga=g.Rg(n[1])):-2===n[0]?this.Vy=n[1]:h?(this.Ga=g.Rg(n[1]),this.ka=this.SD,this.ib=this.GW,this.Ky=1):(this.Ga=g.Rg(n[1]),this.K=g.Ne(n[0]),n[2]&&(this.Jc=this.K.Kw(n[2]),this.ri=this.K.hs(n[2])));if(7===n.length){n=n[6];for(const m of n)this.Ha.push(e.qe.Ma(this,m,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=a);this.Jd.ea().q9(this)}static Ma(g,n,h){return e.j(e.fw,g,n,h)}Gb(){for(var g of this.Ha)g.Gb(),g.He&&(this.Rk=!0);if(this.Cd)this.qF(),
this.ib=this.FE;else if(this.Vy)this.t$(),this.Vy="";else if(this.ka===this.SD){g=this.Ga;const n=this.g.ea().bP(this.Jd);this.Ga=g.bind(null,this.g.Ei,n)}else this.Jc?this.bg()?(this.ka=this.eQ,this.ib=this.M5):(this.ka=this.dQ,this.ib=this.L5):this.K.wb().zm?(this.pF(),this.ib=this.EE):this.bg()?(this.ka=this.iQ,this.ib=this.S5):this.Ha.length?this.Ha.every(n=>n.He)?(this.ka=this.hQ,this.ib=this.R5):this.Rk?(this.ka=this.kQ,this.ib=this.U5):this.Ha.every(n=>n.ob)?(b(this.Ha,this.qb),this.ka=this.gF,
this.ib=this.zO):(this.ka=this.jQ,this.ib=this.T5):(this.ka=this.gF,this.ib=this.zO)}qF(){this.Gt(this.Cd,this.Cd,this.iF)}pF(){const g=this.K.wb(),n=this.K.Yh().wa;this.Gt(g,n,this.hF)}t$(){const g=this.Jd.ea(),n=g.Tw(this.Vy);n.On()?(this.Uy=n.ne(),this.Vk=[...new Set([...this.Jd.md(),...this.Uy.md()])],this.Vk=g.gy(this.Vk),this.ka=e.hk.prototype.t2.bind(this.Uy,this.Vk,this.Ha),this.ib=this.N5):(this.ka=d,this.ib=c)}Gt(g,n,h){const l=this.Ga,m=this.Ha;if(0===m.length)this.ka=g.zj(l,n);else if(1===
m.length){const p=m[0];if(p.ob)this.ka=g.TO(l,n,p.Y(0));else{const q=g.zj(l,n);this.ka=function(){return q(p.Y(0))}}}else if(2===m.length){const p=m[0],q=m[1];if(p.ob&&q.ob)this.ka=g.UO(l,n,p.Y(0),q.Y(0));else{const u=g.zj(l,n);this.ka=function(){return u(p.Y(0),q.Y(0))}}}else if(3===m.length){const p=m[0],q=m[1],u=m[2];if(p.ob&&q.ob&&u.ob)this.ka=g.VO(l,n,p.Y(0),q.Y(0),u.Y(0));else{const r=g.zj(l,n);this.ka=function(){return r(p.Y(0),q.Y(0),u.Y(0))}}}else this.ka=h}bg(){return 1===this.Ky}wK(){return 2===
this.Ky}LZ(){return 0!==this.Ky}H(){return this.K}ne(){return this.Jd}G(){return this.g}Fa(){return this.La}fL(){return this.Oa.index}je(){return!this.Oa.Tc&&!this.g.lc()&&!this.Oa.nf}qk(){this.yb||(this.yb=new Map);return this.yb}Ds(){this.Ch||(this.Ch=new Map);return this.Ch}iF(){const g=this.qb;b(this.Ha,g);return this.Ga.apply(this.Cd,g)}*FE(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){const g=this.qb;b(this.Ha,g);return yield*this.Ga.apply(this.Cd,g)}return this.ka()}*N5(){if(this.Oa.Tc||
this.g.lc())yield this;return yield*this.Uy.AW(this.Vk,this.Ha)}hF(){const g=this.qb;b(this.Ha,g);return this.Ga.apply(this.K.Yh().wa,g)}*EE(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){const g=this.qb;b(this.Ha,g);return yield*this.Ga.apply(this.K.Yh().wa,g)}return this.ka()}gF(){const g=this.qb,n=this.K.R().fa();for(let h=0,l=n.length;h<l;++h)this.Ga.apply(n[h].wa,g)}*zO(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){const g=this.qb,n=this.K.R().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Ga.apply(n[h].wa,
g)}else this.gF()}jQ(){const g=this.qb;b(this.Ha,g);const n=this.K.R().fa();for(let h=0,l=n.length;h<l;++h)this.Ga.apply(n[h].wa,g)}*T5(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){const g=this.qb;b(this.Ha,g);const n=this.K.R().fa();for(let h=0,l=n.length;h<l;++h)yield*this.Ga.apply(n[h].wa,g)}else this.jQ()}hQ(){const g=this.Ha,n=this.qb,h=this.Ga,l=this.K.R().fa();for(let m=0,p=l.length;m<p;++m){const q=l[m];for(let u=0,r=g.length;u<r;++u)n[u]=g[u].Y(m);h.apply(q.wa,n)}}*R5(){if(this.Oa.Tc||
this.g.lc())yield this;if(this.Oa.nf){const g=this.Ha,n=this.qb,h=this.Ga,l=this.K.R().fa();for(let m=0,p=l.length;m<p;++m){const q=l[m];for(let u=0,r=g.length;u<r;++u)n[u]=g[u].Y(m);yield*h.apply(q.wa,n)}}else this.hQ()}kQ(){const g=this.Ha,n=this.qb,h=this.Ga,l=this.K.R().fa();for(let p=0,q=g.length;p<q;++p){var m=g[p];m.He||(n[p]=m.Y(0))}for(let p=0,q=l.length;p<q;++p){m=l[p];for(let u=0,r=g.length;u<r;++u){const v=g[u];v.He&&(n[u]=v.Y(p))}h.apply(m.wa,n)}}*U5(){if(this.Oa.Tc||this.g.lc())yield this;
if(this.Oa.nf){const n=this.Ha,h=this.qb,l=this.Ga,m=this.K.R().fa();for(let p=0,q=n.length;p<q;++p){var g=n[p];g.He||(h[p]=g.Y(0))}for(let p=0,q=m.length;p<q;++p){g=m[p];for(let u=0,r=n.length;u<r;++u){const v=n[u];v.He&&(h[u]=v.Y(p))}yield*l.apply(g.wa,h)}}else this.kQ()}dQ(){var g=this.K;const n=g.eb,h=g.kh,l=this.Ha,m=this.Rk,p=this.qb,q=this.Ga,u=this.ri;g=g.R().fa();for(let w=0,y=l.length;w<y;++w){var r=l[w];r.He||(p[w]=r.Y(0))}for(let w=0,y=g.length;w<y;++w){r=g[w];if(m)for(let A=0,G=l.length;A<
G;++A){var v=l[A];v.He&&(p[A]=v.Y(w))}v=n?r.H().yn(h):0;q.apply(r.fd[u+v].wa,p)}}*L5(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){var g=this.K;const l=g.eb,m=g.kh,p=this.Ha,q=this.Rk,u=this.qb,r=this.Ga,v=this.ri;g=g.R().fa();for(let w=0,y=p.length;w<y;++w){var n=p[w];n.He||(u[w]=n.Y(0))}for(let w=0,y=g.length;w<y;++w){n=g[w];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.He&&(u[A]=h.Y(w))}h=l?n.H().yn(m):0;yield*r.apply(n.fd[v+h].wa,u)}}else this.dQ()}iQ(){const g=this.Ha,n=this.qb,
h=this.Ga,l=this.K.R().fa(),m=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let r=0,v=g.length;r<v;++r)n[r]=g[r].Y(p);m.push(h.apply(u.wa,n))}return Promise.all(m)}*S5(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){const g=this.Ha,n=this.qb,h=this.Ga,l=this.K.R().fa(),m=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let r=0,v=g.length;r<v;++r)n[r]=g[r].Y(p);m.push(yield*h.apply(u.wa,n))}return Promise.all(m)}return this.iQ()}eQ(){var g=this.K;const n=g.eb,h=g.kh,l=this.Ha,m=this.qb,
p=this.Ga,q=this.ri;g=g.R().fa();const u=[];for(let r=0,v=g.length;r<v;++r){const w=g[r];for(let A=0,G=l.length;A<G;++A)m[A]=l[A].Y(r);const y=n?w.H().yn(h):0;u.push(p.apply(w.fd[q+y].wa,m))}return Promise.all(u)}*M5(){if(this.Oa.Tc||this.g.lc())yield this;if(this.Oa.nf){var g=this.K;const n=g.eb,h=g.kh,l=this.Ha,m=this.qb,p=this.Ga,q=this.ri;g=g.R().fa();const u=[];for(let r=0,v=g.length;r<v;++r){const w=g[r];for(let A=0,G=l.length;A<G;++A)m[A]=l[A].Y(r);const y=n?w.H().yn(h):0;u.push(yield*p.apply(w.fd[q+
y].wa,m))}return Promise.all(u)}return this.eQ()}async SD(){try{await this.Ga()}catch(g){console.error(`Unhandled exception running script %c${this.Jd.Nc.Aa()}, event ${this.Jd.Hq}, action ${this.fL()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Vf&&self.Vf.N$(this),e.Fw.zZ()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.Fw.Z2())}}*GW(){if(this.Oa.Tc||
this.g.lc())yield this;return this.SD()}ba(){return this.yb&&this.yb.size?{ex:e.qE(this.yb)}:null}ja(g){this.yb&&(this.yb.clear(),this.yb=null);g&&(g=g.ex)&&(this.yb=e.vC(g))}}}
{"use strict";const e=self.B,b=new e.Za;function a(L,O){return e.compare(this.A().ga(),L,O)}function d(L,O){return e.compare(this.A().ia(),L,O)}function c(){const L=this.A(),O=L.W();return O.Kp()?L.Pp(O.nq()):L.bM(O.Sf,L.Vb().OL(),L.Vb().bf)}function g(){var L=this.A();const O=L.Vb();L=L.Vc();return 0>L.ca||0>L.Z||L.X>O.ta()||L.T>O.qa()}function n(L,O,U){const aa=this.R(),ha=aa.fa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=e.WT(ja.ga(),ja.ia(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=e.WT(ja.ga(),ja.ia(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.am(ua);return!0}function h(L){const O=this.A();O.ga()!==L&&(O.gi(L),O.sb())}function l(L){const O=this.A();O.ia()!==L&&(O.hi(L),O.sb())}function m(L,O){const U=this.A();U.TX(L,O)||(U.im(L,O),U.sb())}function p(L,O){if(L&&(L=L.iZ(this.na))){var [U,aa]=L.MC(O);O=this.A();if(O.ga()!==U||O.ia()!==aa)O.im(U,aa),O.sb()}}function q(L){if(0!==L){var O=this.A();O.Ex(O.CC()*L,O.TC()*L);O.sb()}}function u(L,
O){if(0!==O){var U=this.A();L=e.Wa(L);U.Ex(Math.cos(L)*O,Math.sin(L)*O);U.sb()}}function r(){return this.A().ga()}function v(){return this.A().ia()}function w(){return this.g.hL(this.na)}function y(L,O){return e.compare(this.A().ta(),L,O)}function A(L,O){return e.compare(this.A().qa(),L,O)}function G(L){const O=this.A();O.ta()!==L&&(O.Gk(L),O.sb())}function z(L){const O=this.A();O.qa()!==L&&(O.Dk(L),O.sb())}function F(L,O){const U=this.A();if(U.ta()!==L||U.qa()!==O)U.Hd(L,O),U.sb()}function I(){return this.A().ta()}
function J(){return this.A().qa()}function M(){return this.A().Vc().X}function P(){return this.A().Vc().T}function R(){return this.A().Vc().ca}function T(){return this.A().Vc().Z}function Z(L,O){return e.Gr(this.A().Ea(),e.Wa(O))<=e.Wa(L)}function X(L){return e.mf(this.A().Ea(),e.Wa(L))}function ba(L,O){L=e.Wa(L);O=e.Wa(O);const U=this.A().Ea();return e.mf(O,L)?e.mf(U,L)&&!e.mf(U,O):!(!e.mf(U,L)&&e.mf(U,O))}function Y(L){const O=this.A();L=e.ie(e.Wa(L));isNaN(L)||O.Ea()===L||(O.Gd(L),O.sb())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.A();O.Gd(O.Ea()+e.Wa(L));O.sb()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.A();O.Gd(O.Ea()-e.Wa(L));O.sb()}}function ya(L,O){const U=this.A(),aa=U.Ea();L=e.iJ(aa,e.Wa(O),e.Wa(L));isNaN(L)||aa===L||(U.Gd(L),U.sb())}function Na(L,O,U){const aa=this.A(),ha=aa.Ea();O-=aa.ga();U-=aa.ia();L=e.iJ(ha,Math.atan2(U,O),e.Wa(L));isNaN(L)||ha===L||(aa.Gd(L),aa.sb())}function Sa(L,O){const U=this.A(),aa=U.Ea();L-=U.ga();O-=U.ia();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Gd(O),U.sb())}function Ta(){return e.Jh(this.A().Ea())}
function Ua(L,O){return e.compare(e.DU(100*this.A().pe()),L,O)}function Wa(){return this.A().Fc()}function eb(L){const O=this.A();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&(O.wj(L),this.g.$())}function fb(L){L=e.da(L/100,0,1);const O=this.A();O.pe()!==L&&(O.Ek(L),this.g.$())}function Pa(L){b.Rr(L);L=this.A();L.bb.Dl(b)||(L.IN(b),this.g.$())}function Va(){const L=this.A().bb;return e.Gx(L.Qa,L.Ua,L.Ta,L.Sa)}function ib(){return e.DU(100*this.A().pe())}function Ya(L){return L?this.A().W()===L:!1}function vb(L){const O=
this.R(),U=O.fa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.W().Fa(),Ga=ka.W().Fa();if(0===L){if(wa>Ga||wa===Ga&&ua.lj()>ka.lj())aa=ja}else if(wa<Ga||wa===Ga&&ua.lj()<ka.lj())aa=ja}O.am(aa);return!0}function wb(L,O,U){const aa=this.A();L=0===L?aa.$a():aa.Qe();return e.compare(L,O,U)}function jb(){this.A().F4()}function xb(){this.A().D4()}function yb(L){L&&this.A().E4(L)}function zb(L,O){L=0===L;O&&(O=O.ss(this.xa()))&&this.A().C4(O,
L)}function Ab(L){const O=this.A();O.$a()!==L&&(O.Ue(L),this.g.$())}function Bb(){return this.A().W().Fa()}function Cb(){return this.A().W().Aa()}function Db(){return this.A().lj()}function kb(){return this.A().$a()}function Eb(){return this.A().Qe()}function Fb(L,O){if(O=this.H().Ka.lk(O)){O=O.Fa();L=1===L;var U=this.A().Jf;U.Is(O)!==L&&(U.mN(O,L),U.Yg(),this.g.$())}}function Gb(L,O,U){var aa=this.H().Ka.lk(L);if(aa){L=aa.Fa();var ha=this.A().Jf,fa=ha.kk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Af().ax(O);if("color"===aa){b.Rr(U);O=fa[O];if(b.Dl(O))return;O.Ti(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Is(L)&&this.g.$()}}}const lb=e.j(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.kc<U.kc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.kc<U.kc?L.un(O,U):L.un(U,O)}function qa(L,O,U){return O.kc<U.kc?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.xa();const ha=0!==U||0!==aa,fa=L.A(),ja=L.G(),ua=ja.ti;var ka=ja.vf();
const wa=ka.ne().yd;var Ga=ka.H();ka=ka.Hi;const Ia=O.R();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Ob?(lb.ma(fa.Vc()),lb.offset(U,aa),ua.BC(fa.W(),O,lb,mb),O=mb):wa?ja.WL()&&!Ia.Rb.length&&Ia.F.length?O=Ia.F:(O=Ia.Rb,ob=!0):O=Ia.F;ha&&(db=fa.ga(),Ha=fa.ia(),fa.Ex(U,aa),fa.sb());for(const da of O)if(ua.oE(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.im(db,Ha),fa.sb());e.D(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Ab().yd;O=Za.R();const U=O.F,aa=O.Rb;O.Ob?(O.bt(Qa),L&&(e.D(aa),
O.mK(Qa,Za.fa()))):L?ob?O.a4(Qa):(O.mK(Qa,U),O.bt(Qa)):O.bt(Qa);Za.Ub()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.Yd)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.ti,aa=O.ea(),ha=aa.Wc();var fa=aa.vf();const ja=fa.H();var ua=fa.qk(),ka=fa.Ds();fa=ha.Me();const wa=O.Sj,Ga=wa-1,Ia=fa.Ab(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.j(e.Os),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ib().addEventListener("instancedestroy",
Ra=>{Ha.QK(Ra.instance)}));O=L.R();ua=ja.R().fa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Ob?(U.BC(Ea.A().W(),L,Ea.A().Vc(),Xa),ka=Xa,U.qK(Ea,L,ka)):ka=O.fa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.oE(Ea,La)||U.yK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.ld(),aa.re(ma),na=ja.R(),da=L.R(),na.We(!1),da.We(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.Ub()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.Ub(),L.Ub()),Ia.eg(fa,db),aa.Fb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ja();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.ti,aa=O.ea(),ha=aa.Wc();var fa=aa.vf();const ja=fa.H();var ua=fa.qk(),ka=fa.Ds();fa=ha.Me();const wa=O.Sj,Ga=wa-1,Ia=fa.Ab(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.j(e.Os),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Ib().addEventListener("instancedestroy",Ra=>
{Ha.QK(Ra.instance)}));O=L.R();ua=ja.R().fa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Ob?(U.BC(Ea.A().W(),L,Ea.A().Vc(),Xa),ka=Xa,U.qK(Ea,L,ka)):ka=O.fa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.oE(Ea,La)||U.yK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.ld(),aa.re(ma),na=ja.R(),da=L.R(),na.We(!1),da.We(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.Ub()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.Ub(),L.Ub()),yield*Ia.Wf(fa,db),aa.Fb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ja();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.A().mj()}function rb(){return this.A().Re()}function sb(L,O){const U=this.R().fa();if(0===U.length)return!1;const aa=L.R();var ha=aa.fa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Xv())wa.xp(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.mx();ja.xp(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.bt(fa);L.Ub();return!0}function tb(L,O){const U=this.R().fa();if(0===U.length)return!1;const aa=L.R();var ha=aa.fa();if(aa.Ob){var fa=[...this.g.DJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.Re()&&ka.xp(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.bk())2===O&&wa.Re()||wa.xp(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.bt(fa);L.Ub();return!0}function ub(L,O){const U=this.R().fa();if(0===U.length)return!1;const aa=L.R();var ha=aa.fa();if(aa.Ob){var fa=[...this.g.DJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].AC(O);null!==ka&&ka.xp(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Ws(fa);L.Ub();return!0}function gb(L,O){return e.compare(this.na.Mw(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.na,wa=this.g.Nw().H();for(const Ga of L.LT(ka,wa)){if(!Ga.wb().mT)break;ka.Kl(Ga,{Ur:O,Vr:U,tp:aa,sp:ha,Tr:fa,Wr:ja,Lv:ua})}}function k(L){const O=this.na,U=this.g.Nw().H();for(const aa of L.LT(O,U))O.rj(aa)}function t(){this.na.mj()&&this.na.Ba().rj(this.na)}function x(){return this.na.Mw()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.A();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Kx(),U.sb()):U.nC(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.A();ka.xN(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,ew:fa,UU:ja,XU:ua})&&ka.sb()}function E(){const L=this.A();return L.Zh()?L.Tl().Ij:0}function H(){const L=this.A();return L.Zh()?L.Tl().Vj:0}function K(L){const O=this.A();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&O.wj(L)}function N(L,O){this.S2(L,O)}function Q(L,O){this.R2(L,""+O)}function S(L){this.a2(L)}function W(){this.$K()}function V(){this.tK()}function ea(){return this.sG}function ia(L){this.Mna(0!==L)}function ca(){return this.Kna()}
function oa(L,O,U){return e.compare(this.xa().oe(L),O,U)}function la(L){return!!this.xa().oe(L)}function ra(L,O){const U=this.R(),aa=U.fa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.oe(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.oe(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.am(fa);return!0}function sa(L){if(this.g.vf().Hi){{const aa=this.R();if(aa.Ob){aa.We(!1);aa.pw();var O=this.fa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.kc===L?aa.Ok(U):aa.tq(U)}this.Ub();
L=!!aa.F.length}else{O=aa.F;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.kc===L?aa.Ok(ja):++U}e.Je(O,U);this.Ub();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().Pg(O);if(!O)return!1;const U=L.R();if(!U.Ob&&!U.F.includes(O))return!1;if(L.eb){if(O.H().cC(L))return U.am(O),L.Ub(),!0}else if(O.H()===L)return U.am(O),L.Ub(),!0;return!1}function za(){this.g.vn(this.na)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.xa().fm(L,O)}function Fa(L,
O){const U=this.xa(),aa=U.oe(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.fm(L,aa+O)}function Ja(L,O){const U=this.xa(),aa=U.oe(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.fm(L,aa-O))}function Ka(L,O){this.xa().fm(L,O?1:0)}function Da(L){const O=this.xa();O.fm(L,0===O.oe(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.xa();
L.vy("state");L.nd(O,"state")}function Ib(){return JSON.stringify(this.xa().ud("state"))}function nc(){return this.xa().H().Aa()}function oc(){const L=this.g.Le().yG;let O=L.F.length;for(const U of this.g.DJ(L))++O;return O}function pc(){return this.g.Le().yG.R().fa().length}function qc(){return this.na.zn()}function rc(){return this.na.kc}e.fV=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.J,da=O.rd,na=O.le;L[3]&&(ma.Sfa=
a,ma.Tfa=d,ma.Iha=c,ma.Kha=g,ma.jja=n,da.gi=h,da.hi=l,da.cma=m,da.dma=p,da.uia=q,da.tia=u,na.A4=r,na.B4=v,na.vJ=w);aa&&(ma.Rfa=y,ma.Kfa=A,da.Gk=G,da.Dk=z,da.Hd=F,na.wna=I,na.Wga=J,na.jfa=M,na.lfa=P,na.kfa=R,na.ifa=T);ha&&(ma.sV=Z,ma.O_=X,ma.M_=ba,da.Gd=Y,da.Kka=va,da.Lka=ta,da.Mka=ya,da.Nka=Na,da.gma=Sa,na.cfa=Ta);fa&&(ma.Fc=Wa,ma.Lfa=Ua,da.wj=eb,da.Ek=fb,da.lla=Pa,na.Opacity=ib,na.Gfa=Va);ja&&(ma.Gha=Ya,ma.rja=vb,ma.Ufa=wb,da.xia=jb,da.via=xb,da.wia=yb,da.Ina=zb,da.Ue=Ab,na.aia=Bb,na.$ha=Cb,na.Hna=
Db,na.Gna=kb,na.Sma=Eb);ua&&(da.nla=Fb,da.ola=Gb);Ia&&(ma.mj=Rb,ma.Re=rb,ma.pja=sb,ma.ija=tb,ma.nja=ub,ma.Jfa=gb,da.Kl=f,da.rj=k,da.Rja=t,na.Bfa=x);db&&(da.Yla=C,da.xN=D,na.oia=E,na.pia=H);ka&&(ma.Fc=Wa,da.wj=K,da.jla=N,da.qla=Q,da.Qja=S);wa&&(ma.uha=ea,da.tla=W,da.hla=V);Ga&&(ma.On=ca,da.sla=ia);Ha&&(ma.Lia=Nb,ma.Lha=Pb,ma.Mha=Qb,O.Aga=Mb);U||(ma.hW=oa,ma.N_=la,ma.kja=ra,ma.hja=sa,da.e3=Ca,da.Nea=Fa,da.Fma=Ja,da.ila=Ka,da.Nma=Da,ma.vM=Aa,ma.S0=Ba,da.ega=za,da.yD||(da.yD=Hb),na.zV||(na.zV=Ib),na.$fa=
oc,na.sja=pc,na.Zga=qc,na.$ma=rc,na.Gia=nc)}}
{"use strict";const e=self.B;e.TD=class extends e.aa{constructor(b){super();this.oa=b;this.ra="";this.Tb=-1;this.mv="";this.Zz=!1;this.Ai=null;this.Ef=0;this.Ee=[];this.fp=new Map;this.Tk=null;this.Ot=-1;this.FG=this.ug=null;this.lv=!1}m(){this.ra="";this.Tb=-1;this.mv="";this.FG=this.ug=this.Tk=this.Ai=null;this.Ot=-1;e.D(this.Ee);for(const b of this.fp.values())b.m();this.fp.clear()}ng(){var b=this.oa,a=b.G().Ic;const d=b.Le();this.Ai=d.Ab();this.Ef=d.Ef+1;if(b=b.uC(this.Ai))this.Tk=b,this.ug=b.VV(),
this.FG=b.WG.map(c=>c.mc()),b.bg()&&(this.Ot=b.B1());for(const c of a)if(a=c.R(),!a.Ob||this.Ai.NZ(c))this.Ee.push(c),this.fp.set(c,e.j(e.MN,a))}F_(b){this.ra="timer";this.ng();this.Tb=this.oa.G().Pl()+b}D_(b){this.ra="signal";this.ng();this.mv=b.toLowerCase()}r_(b){this.ra="promise";this.ng();b.then(()=>this.dE()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.dE()})}d0(){return"timer"===this.ra}b0(){return"signal"===this.ra}Y_(){return"promise"===
this.ra}dE(){this.Zz=!0}yQ(){return this.d0()?this.Tb<=this.oa.G().Pl():this.Zz}cQ(b){b.fF(this.Ai,this.Ef);for(const [a,d]of this.fp.entries())d.fF(a.R());if(b=this.Tk)b.Zs(this.ug),b.WG.map((a,d)=>a.te(this.FG[d])),b.bg()&&b.s2(this.Ot)}M9(b){this.cQ(b);this.Ai.L9(b);this.Tk&&this.Tk.bg()&&this.Tk.Ls(this.Ot);this.oa.zp(this.Ee);this.lv=!0}async I5(b){this.cQ(b);for(const a of this.Ai.H5(b))await this.oa.G().Ap(a);this.Tk&&this.Tk.bg()&&this.Tk.Ls(this.Ot);this.oa.zp(this.Ee);this.lv=!0}Vn(b){for(const a of this.fp.values())a.Vn(b)}ba(){const b=
{},a={t:this.Tb,st:this.mv,s:this.Zz,ev:this.Ai.fb,sm:this.Ee.map(d=>d.fb),sols:b};this.Ai.m7(this.Ef)&&(a.act=this.Ai.cL(this.Ef).fb);for(const [d,c]of this.fp)b[d.fb.toString()]=c.ba();return a}static n5(b,a){const d=b.G();var c=b.BY(a.ev);if(!c)return null;let g=0;if(a.hasOwnProperty("act")){var n=b.kY(a.act);if(!n)return null;g=n.Fa()}n=e.j(e.TD,b);n.Tb=a.t;n.ra=-1===n.Tb?"signal":"timer";n.mv=a.st;n.Zz=a.s;n.Ai=c;n.Ef=g;for(var h of a.sm)(c=d.$w(h))&&n.Ee.push(c);for(const [l,m]of Object.entries(a.sols))if(a=
d.$w(parseInt(l,10)))h=e.j(e.MN,null),h.ja(b,m),n.fp.set(a,h);return n}}}{"use strict";const e=self.B;e.MN=class extends e.aa{constructor(b){super();this.K=null;this.Yz=!0;this.F=[];b&&(this.K=b.H(),this.Yz=b.Ob,e.Dc(this.F,b.F))}m(){this.K=null;e.D(this.F)}fF(b){b.We(this.Yz);e.Dc(b.F,this.F)}Vn(b){e.Tf(this.F,b)}ba(){return{sa:this.Yz,insts:this.F.map(b=>b.kc)}}ja(b,a){b=b.G();this.Yz=!!a.sa;e.D(this.F);for(const d of a.insts)(a=b.Pg(d))&&this.F.push(a)}}}
{"use strict";const e=self.B;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.Xn=class extends e.aa{constructor(a){super();this.g=a.sf;this.zm=!!a.kU;this.wg=!!a.kda;this.Cba=!!a.jda;this.Mba=!!a.wda;this.mba=!!a.$ca;this.mT=!!a.Wda;this.fca=!!a.Vda;this.$S=null;this.SQ=new Map;this.Raa=new Map;this.Saa=new Map;this.Taa=new Map}m(){this.g=null}G(){return this.g}Js(){return this.Cba}Sp(){return this.Mba}$C(){return this.mba}zj(a,d){if(!d)throw Error("missing 'this' binding");let c=
this.SQ.get(a);if(c)return c;c=a.bind(d);this.SQ.set(a,c);return c}TO(a,d,c){if(!d)throw Error("missing 'this' binding");const g=b(this.Raa,a);let n=g.get(c);if(n)return n;n=a.bind(d,c);g.set(c,n);return n}UO(a,d,c,g){if(!d)throw Error("missing 'this' binding");var n=b(this.Saa,a);n=b(n,c);let h=n.get(g);if(h)return h;h=a.bind(d,c,g);n.set(g,h);return h}VO(a,d,c,g,n){if(!d)throw Error("missing 'this' binding");var h=b(this.Taa,a);h=b(h,c);h=b(h,g);let l=h.get(n);if(l)return l;l=a.bind(d,c,g,n);h.set(n,
l);return l}W$(a){if(!this.zm)throw Error("must be single-global plugin");this.$S=a}Yh(){if(!this.zm)throw Error("must be single-global plugin");return this.$S.Yh()}}}
{"use strict";const e=self.B;e.Uka=class extends e.Xn{constructor(b,a){super(b);this.um=a;this.Pba=0;this.XG=new Map;this.lK("elem-focused",d=>d.F8());this.lK("elem-blurred",d=>{d&&d.E8()})}m(){super.m()}K4(b){const a=this.Pba++;this.XG.set(a,b);return a}C9(b){this.XG.delete(b)}lK(b,a){this.g.Lh(this.um,b,d=>{const c=this.XG.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.B;e.Vs=class extends e.aa{constructor(b){super();this.K=b;this.g=b.G();this.vh=b.wb()}m(){this.vh=this.g=this.K=null}H(){return this.K}G(){return this.g}wb(){return this.vh}Vw(){return this.K.Vw()}Ks(){}Xp(){}FD(){}HD(){}rk(){return null}}}
{"use strict";const e=self.B;e.$p=class extends e.aa{constructor(b,a){super();this.na=b;this.um=a;this.g=b.G();this.K=this.na.H();this.od=this.K.od;this.ur=this.tl=null;this.Gu=this.el=!1;this.Wd=null;this.Iv=!1}m(){this.Iv=!0;this.Hy();this.tF();this.ur=this.tl=null;this.Wd&&(this.Wd.m(),this.Wd=null);this.od=this.K=this.g=this.na=null}$N(){return this.Iv}xa(){return this.na}G(){return this.g}H(){return this.K}wb(){return this.od.wb()}jx(){return this.na.Qg()}ua(b){return this.g.ua(b,this.na,null)}vd(b){return this.g.vd(b,
this.na,null)}WB(b,a){this.g.Lh(this.um,b,a)}kK(b){for(const [a,d]of b)this.WB(a,d)}Ra(b,a){this.g.yk(this.um,b,a)}Ug(b,a){return this.g.Rn(this.um,b,a)}Nk(b,a){this.g.Zd?this.Ra(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.um,handler:b,data:a,responseId:null})}Ve(){}It(){this.el||(this.tl||(this.tl=()=>this.Ve()),this.g.Ib().addEventListener("tick",this.tl),this.el=!0)}Hy(){this.el&&(this.g.Ib().removeEventListener("tick",this.tl),this.el=!1)}tF(){this.Gu&&(this.g.Ib().removeEventListener("tick2",
this.ur),this.Gu=!1)}ud(){return null}nd(){}Xc(){}uj(){}CD(b,a){if(0!==a){var d=this.Xc(b);if("number"!==typeof d)throw Error("expected number");this.uj(b,d+a)}}rk(){return null}}}
{"use strict";const e=self.B;e.bN=class extends e.$p{constructor(b,a){super(b,a);this.Pa=b.A();this.HT=this.dJ=null}m(){if(this.dJ){const b=this.g.Ib();b.removeEventListener("webglcontextlost",this.dJ);b.removeEventListener("webglcontextrestored",this.HT);this.HT=this.dJ=null}this.Pa=null;super.m()}Fx(){}A(){return this.Pa}Rl(){throw Error("original size not known");}Ql(){throw Error("original size not known");}ns(){return null}DC(){var b=this.ns();return b&&(b=b.$f())?[b.ta(),b.qa()]:[100,100]}EC(){const b=
this.ns();return b?b.hf:null}lD(){const b=this.ns();return b?b.Cu:!1}MC(){const b=this.na.A();return[b.ga(),b.ia()]}Yp(){return!0}}}
{"use strict";const e=self.B,b=e.j(e.Rect);e.Tka=class extends e.bN{constructor(a,d){super(a,d);this.kz=this.wb().K4(this);this.TR=!0;this.Naa=this.sG=!1;this.Vq=e.j(e.Rect,0,0,-1,-1);a=this.g.N;this.iS=a.Yj;this.hS=a.Xj;this.It()}m(){this.wb().C9(this.kz);this.Up("destroy");this.kz=-1;super.m()}Up(a,d){d||(d={});d.elementId=this.kz;this.Ra(a,d)}TP(a){a||(a={});a.elementId=this.kz;this.Nk("focus",a)}Qx(a){a=!!a;this.TR!==a&&(this.TR=a,this.Up("set-visible",{isVisible:a}))}Ve(){this.vaa()}caa(){const a=
this.g.N.Sw();return"Android"===e.Gc.Tp&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}vaa(){var a=this.A();const d=a.W();var c=a.ga(),g=a.ia();let [n,h]=d.Qn(c,g),[l,m]=d.Qn(c+a.ta(),g+a.qa());c=this.g.N;g=c.Kc;const p=c.yc;if(a.Fc()&&d.Fc()){if(!this.caa()){if(0>=l||0>=m||n>=g||h>=p){this.Qx(!1);return}1>n&&(n=1);1>h&&(h=1);l>=g&&(l=g-1);m>=p&&(m=p-1)}b.set(n,h,l,m);a=c.Yj;g=c.Xj;b.cd(this.Vq)&&this.iS===a&&this.hS===g?this.Qx(!0):(this.Vq.ma(b),this.iS=a,this.hS=g,this.Qx(!0),a=null,this.Naa&&
(a=d.ej()-.2),this.Up("update-position",{left:Math.round(this.Vq.X)+c.ks(),top:Math.round(this.Vq.T)+c.ls(),width:Math.round(this.Vq.width()),height:Math.round(this.Vq.height()),fontSize:a}))}else this.Qx(!1)}$K(){this.TP({focus:!0})}tK(){this.TP({focus:!1})}F8(){this.sG=!0}E8(){this.sG=!1}S2(a,d){this.Up("set-css-style",{prop:e.MV(a),val:d})}R2(a,d){this.Up("set-attribute",{name:a,val:d})}a2(a){this.Up("remove-attribute",{name:a})}}}
{"use strict";const e=self.B,b=self.SZ;e.Qka=class extends e.aa{constructor(a){super();this.g=a.sf;this.OH=e.j(e.aC);this.wA=e.j(e.aC);this.ru=null;this.$ba=a.Cqa||null}m(){this.wA.m();this.OH.m();this.g=null}G(){return this.g}L4(a){this.OH.Uc(a)}uL(){return this.OH.xC()}mg(a){this.wA.Uc(a)}mo(a){this.wA.un(a)}fa(){return this.wA.xC()}PY(){if(null===this.ru){const a=this.$ba;if(a){if(this.ru=new a(this),!(this.ru instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.ru=new b(this)}return this.ru}}}{"use strict";const e=self.B;e.Ska=class extends e.aa{constructor(b){super();this.g=b.G();this.Jc=b;this.K=b.H();this.pi=b.Ml();this.pi.L4(this.K)}m(){this.pi=this.K=this.Jc=this.g=null}Yf(){return this.Jc}H(){return this.K}G(){return this.g}Ml(){return this.pi}}}
{"use strict";const e=self.B;e.Rka=class extends e.aa{constructor(b,a){super();this.Ry=b;this.um=a;this.na=b.na;this.g=b.G();this.Jc=b.Yf();this.od=this.Jc.od;this.XR=this.Gu=this.el=!1;this.Wd=null}m(){this.Hy();this.tF();this.haa();this.Wd&&(this.Wd.m(),this.Wd=null);this.od=this.Jc=this.g=this.na=this.Ry=null}Ml(){return this.Jc.Ml()}H(){return this.na.H()}A(){return this.na.A()}G(){return this.g}Yf(){return this.Jc}jx(){return this.Ry.jx()}ua(b){return this.g.ua(b,this.na,this.Jc)}vd(b){return this.g.vd(b,
this.na,this.Jc)}Ve(){}It(){this.el||(this.g.G4(this),this.el=!0)}Hy(){this.el&&(this.g.z9(this),this.el=!1)}tF(){this.Gu&&(this.g.A9(this),this.Gu=!1)}haa(){this.XR&&(this.g.y9(this),this.XR=!1)}WB(b,a){this.g.Lh(this.um,b,a)}ud(){return null}nd(){}Xc(){}uj(){}CD(b,a){if(0!==a){var d=this.Xc(b);if("number"!==typeof d)throw Error("expected number");this.uj(b,d+a)}}rk(){return null}}}
{"use strict";const e=self.B;e.C={};e.wp={};e.E1=class extends e.aa{constructor(b){super();this.g=b;this.Laa=[];this.GS=new Map;this.Cd=null;this.Iaa=[];this.WF=new Map;this.bS=this.cT=null}wW(b){const a=this.g.Rg(b[0]);if(!a)throw Error("missing plugin");e.fV(b,a);b=e.j(a,{sf:this.g,kU:b[1],kda:b[2],jda:b[5],$ca:b[8],wda:b[9],Wda:b[13],Vda:b[14]});this.Laa.push(b);this.GS.set(a,b)}yW(){this.Cd=e.j(e.C.ab,{sf:this.g,kU:!0})}rW(b){b=this.g.Rg(b[1]);if(!b)throw Error("missing behavior");const a=e.j(b,
{sf:this.g});this.Iaa.push(a);this.WF.set(b,a);!this.cT&&e.wp.Tda&&a instanceof e.wp.Tda?this.cT=a:!this.bS&&e.wp.mda&&a instanceof e.wp.mda&&(this.bS=a)}kZ(b){return this.GS.get(b)||null}GZ(b){return this.WF.has(b)}pY(b){return this.WF.get(b)||null}As(){return this.Cd}}}
{"use strict";const e=self.B,b=new Set;e.fD=class extends e.aa{constructor(){super();this.Ev="";this.S=this.V=this.XH=this.WH=this.TA=0;this.OG=this.Cu=!1;this.Go=null;this.lp="";this.hf=e.j(e.Rect);this.JA=e.j(e.sd);b.add(this)}m(){this.zk();this.Go=null;b.delete(this)}static Fx(){for(const a of b)a.lp="",a.hf.set(0,0,0,0),a.JA.Yi(a.hf)}jM(a){this.Ev=a[0];this.TA=a[1];this.WH=a[2];this.XH=a[3];this.V=a[4];this.S=a[5];this.Cu=a[6];this.OG=!0}Cn(){return this.TA}ta(){return this.V}qa(){return this.S}async AD(a,
d){if(!this.Go)throw Error("no asset");if(this.lp)throw Error("already loaded texture");this.lp="loading";a=await this.Go.AD(a,d);if(!a)return this.lp="",null;this.lp="loaded";this.OG||(this.V=a.ta(),this.S=a.qa(),this.OG=!0);this.hf.set(this.WH,this.XH,this.WH+(this.Cu?this.S:this.V),this.XH+(this.Cu?this.V:this.S));this.hf.Cl(a.ta(),a.qa());this.JA.Yi(this.hf);this.Cu&&this.JA.Jda();return a}zk(){this.lp&&(this.Go&&this.Go.zk(),this.lp="",this.hf.set(0,0,0,0),this.JA.Yi(this.hf))}$f(){return this.Go?
this.Go.$f():null}}}{"use strict";const e=self.B;e.uV=class extends e.aa{constructor(b){super();this.Da=b[0];this.bca=b[1];this.kH=!!b[2];this.kr=b[3];this.fb=b[6];this.zz=b[7].map(a=>e.j(e.tV,a))}m(){for(const b of this.zz)b.m();e.D(this.zz)}Aa(){return this.Da}NY(){var b=Math.floor(0);if(0>b||b>=this.zz.length)throw new RangeError("invalid frame");return this.zz[b]}kx(){return this.bca}Xh(){return this.kr}}}
{"use strict";const e=self.B;e.tV=class extends e.aa{constructor(b){super();this.If=e.j(e.fD);this.If.jM(b);this.CS=e.j(e.by,b[8],b[9]);this.oba=b[10].map(a=>e.j(e.b_,this,a));this.pba=new Map;for(const a of this.oba)this.pba.set(a.Aa().toLowerCase(),a);this.az=null;b=b[11];6<=b.length&&(this.az=e.j(e.tn,b))}m(){this.az&&(this.az.m(),this.az=null);this.If.m();this.If=null}Vw(){return this.If}vs(){return this.CS.O}ws(){return this.CS.M}}}
{"use strict";const e=self.B;e.b_=class extends e.aa{constructor(b,a){super();this.Da=a[0];this.JS=e.j(e.by,a[1],a[2])}m(){}Aa(){return this.Da}ga(){return this.JS.O}ia(){return this.JS.M}}}
{"use strict";const e=self.B,b=self.Vf,a=self.vx;e.BD=class extends e.aa{constructor(d,c,g){super();const n=d.Rg(g[1]);this.g=d;this.vh=d.$o.kZ(n);this.od=null;this.Jz=n.Instance;this.La=c;this.fb=g[11];this.Da=g[0];this.Lu=this.g.Vh(g[14]);this.zba=!!g[9];this.eb=!!g[2];this.Bba=!!g[10];this.Fi=g[3].map(h=>({JU:h[0],type:h[1],name:h[2],lda:d.Vh(h[3])}));this.Paa=g[4];this.iba=g[5];this.wg=this.vh.wg;this.Ka=null;this.$y=e.j(e.Q3,d.Cg,d.Bg);this.OF=!0;this.PF=!1;this.BG=this.Bo=null;this.kh=-1;this.AG=
this.qz=this.rz=this.zG=this.jh=null;this.gH=!1;this.qg=null;this.QQ=g[8].map(h=>e.rK.Ma(this,h));this.Sy=[];this.XF=new Map;this.VF=new Map;this.wT=new Set;this.Nm=e.j(e.N3,this);this.MF=this.LF=this.mm=this.If=this.qg=this.Fq=null;this.tr=0;this.yb=new Map;this.Ch=new Map;this.F=[];this.TG=!0;this.vh.$C()&&(this.Ka=e.j(e.gk,this,g[12]));g[6]&&(this.If=e.j(e.fD),this.If.jM(g[6]));if(g[7]){this.mm=g[7].map(h=>e.j(e.uV,h));this.LF=new Map;this.MF=new Map;for(const h of this.mm)this.LF.set(h.Aa().toLowerCase(),
h),this.MF.set(h.fb,h)}this.eb?(this.Bo=[],this.BG=new Set,this.kh=this.g.Y6()):(this.jh=[],this.zG=new Set,this.rz=[],this.qz=[],this.AG=[]);this.od=e.j(n.fo,this,g[15]);this.QR=this.tu=null;this.Pd=e.j(e.Event.Ib);if(c=this.od.rk()){if(this.tu=new c(this),!(this.tu instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.tu=new a(this);this.vh.zm&&(this.vh.W$(this),this.w5(g))}static Ma(d,c,g){return e.j(e.BD,d,c,g)}m(){this.If&&(this.If.m(),this.If=null);
if(this.mm){for(const d of this.mm)d.m();e.D(this.mm);this.LF.clear();this.MF.clear()}this.Nm.m();this.Nm=null;this.yb.clear();this.Ch.clear();this.g=this.qg=null}R7(d){for(let c=1,g=d.length;c<g;++c){const n=this.g.Ne(d[c]);this.Bo.push(n);this.BG.add(n);n.jh.push(this);n.zG.add(this)}}u$(d){this.gH=!0;this.qg=d}Wb(){return this.gH}v8(){var d=0;if(!this.eb)for(var c of this.jh)for(var g of c.QQ){const l=g.Aa().toLowerCase();this.XF.set(l,g);this.VF.set(l,d);this.Sy.push(g);++d}for(var n of this.QQ)c=
n.Aa().toLowerCase(),this.XF.set(c,n),this.VF.set(c,d),this.Sy.push(n),++d;for(var h of this.Sy)this.wT.add(h.Ml().constructor);if(!this.eb&&this.jh.length){d=this.g.mR;e.xB(this.rz,d,0);e.xB(this.qz,d,0);e.xB(this.AG,d,0);d=[];c=h=n=0;for(const l of this.jh)if(g=l.kh,this.rz[g]=n,n+=l.Fi.length,this.qz[g]=h,h+=l.Paa,this.AG[g]=c,c+=l.iba,(g=l.Ka)&&this.Ka)for(const m of g.Xf())d.push(m.cW(this.Ka));this.Ka&&this.Ka.N1(d)}}w5(d){const c=this.g.X6(),g=e.j(e.Instance,{sf:this.g,OJ:this,uid:c});g.ey(d[16],
[]);this.g.i8(c,g);this.F.push(g)}KZ(){return 0<this.tr}Ks(d){if(this.eb)return Promise.resolve();this.tr++;return 1===this.tr?this.od.Ks(d)||Promise.resolve():Promise.resolve()}Xp(){if(!this.eb){this.tr--;if(0>this.tr)throw Error("released textures too many times");0===this.tr&&this.od.Xp()}}FD(){if(this.eb)throw Error("not applicable to family");this.od.FD()}HD(d){return this.eb?Promise.resolve():this.od.HD(d)}G(){return this.g}wb(){return this.vh}Aa(){return this.Da}Vh(){return this.Lu}Fa(){return this.La}Cf(){return this.zba}WN(d){return d&&
this.wT.has(d)}VY(){return this.Fi.map(d=>d.JU)}UY(d){return this.Fi.findIndex(c=>c.JU===d)}TY(d){return this.Fi.findIndex(c=>c.name===d)}O6(){return this.Fi.map(d=>d.lda)}us(d){d=Math.floor(d);if(0>d||d>=this.Fi.length)throw new RangeError("invalid instance variable index");return this.Fi[d].type}pL(d){d=Math.floor(d);if(0>d||d>=this.Fi.length)throw new RangeError("invalid instance variable index");return this.Fi[d].name}Kw(d){return this.XF.get(d.toLowerCase())||null}hs(d){d=this.VF.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}$C(){return this.vh.$C()}XN(){return this.Ka&&this.Ka.BZ()}R(){return this.Nm.R()}Vw(){return this.If}kN(d){this.Fq=d}cC(d){return this.zG.has(d)}XK(d){return this.BG.has(d)}yn(d){return this.qz[d]}JC(d){return this.rz[d]}JY(){if(!this.mm)throw Error("no animations");return this.mm[0].NY()}xY(){if(this.mm){const d=this.JY().Vw();return[d.ta(),d.qa()]}return this.If?[this.If.ta(),this.If.qa()]:[100,100]}Yh(){if(!this.vh.zm)throw Error("not a single-global plugin");
return this.F[0]}fa(){return this.F}*gU(){yield*this.F}mg(d){this.F.push(d)}Et(){this.TG=!0}Jy(){if(this.TG&&!this.eb){var d=this.F,c=0;for(let g=d.length;c<g;++c)d[c].pQ(c);d=this.g.xm;for(const g of d)g.H()===this&&g.pQ(c++);this.TG=!1}}oL(d){var c=this.F;if(d<c.length)return c[d];d-=c.length;c=this.g.xm;for(const g of c)if(g.H()===this){if(0===d)return g;--d}return null}ss(d){if(d&&d.Wb()&&d.H()!==this)for(const c of d.Bd)if(c.H()===this)return c;d=this.R().fa();return d.length?d[0]:null}iZ(d){const c=
this.R().fa();return 0<c.length?c[d.zn()%c.length]:null}*LT(d,c){const g=this.R().fa();var n=g.length;const h=c.R(),l=c.R().fa(),m=l.length;var p=d.zn();if(c.eb||!h.Ob)p=l.indexOf(d);d=Math.ceil(n/m);n%=m;0===n||p<n?(p*=d,n=d):(p=n*d+(p-n)*(d-1),n=d-1);for(let q=p,u=p+n;q<u;++q)yield g[q]}Ub(){if(this.gH&&!this.eb){this.Jy();var d=this.R(),c=d.F,g=d.Ob,n=this.g.Le();n=n&&n.Ab()&&n.Ab().yd;for(const m of this.qg.ml)if(m!==this){m.Jy();var h=m.R();h.We(g);if(!g){var l=h.F;e.D(l);for(const p of c)l.push(m.oL(p.zn()));
if(n){l=d.Rb;h=h.Rb;e.D(h);for(const p of l)h.push(m.oL(p.zn()))}}}}}paa(d,c){for(const g of this.qg.ml){const n=g.R();d?e.Je(n.Rb,c):e.Je(n.F,c)}}lQ(){this.OF=!0}kF(d){this.PF=!!d}FQ(){if(this.OF&&this.wg){for(const d of this.F)d.A().HQ();for(const d of this.g.xm)d.H()===this&&d.A().HQ();this.OF=!1}}qk(){this.yb||(this.yb=new Map);return this.yb}Ds(){this.Ch||(this.Ch=new Map);return this.Ch}ML(){return this.WN(e.wp.Cia)}aD(){return this.WN(e.wp.cja)}ba(){const d={instances:this.F.map(c=>c.ud())};
this.yb&&this.yb.size&&(d.ex=e.qE(this.yb));return d}ja(d){this.yb&&(this.yb.clear(),this.yb=null);var c=d.ex;c&&(this.yb=e.vC(c));c=this.F;d=d.instances;for(let g=0,n=Math.min(c.length,d.length);g<n;++g)c[g].nd(d[g]);for(let g=d.length,n=c.length;g<n;++g)this.g.vn(c[g]);for(let g=c.length,n=d.length;g<n;++g){c=d[g];let h=null;if(this.wg&&(h=this.g.Jb().Xw(c.w.l),!h))continue;this.g.Ph(this.Fq||this,h,!1,0,0,!0).nd(c)}this.Et()}Og(d){var c=this.g;(c=c.pb&&!c.ea().yx())&&b.lE();this.Pd.dispatchEvent(d);
c&&b.ZB()}}}{"use strict";const e=self.B;e.lW=class extends e.aa{constructor(b,a){super();this.g=b;this.ml=a;for(const d of this.ml)d.u$(this)}m(){this.g=null}G(){return this.g}FZ(){return this.ml.some(b=>b.wg)}}}
{"use strict";const e=self.B,b=self.Vf,a=self.ux,d=[];let c=0;const g=new WeakMap,n=new WeakMap;e.Instance=class extends e.aa{constructor(h){super();this.g=h.sf;this.Kd=h.OJ;this.Xd=this.wa=this.Pa=null;this.IR=0;this.kc=h.uid;this.NS=c++;this.Ca=0;this.fd=this.Ce=d;var l=this.Kd.Sy;0<l.length&&(this.fd=l.map((m,p)=>e.j(e.hw,{sf:this.g,kJ:m,instance:this,index:p})));this.Bd=this.Kd.Wb()?[]:null;this.pd=-1;this.Lb=null;l=this.wb();l.Sp()&&(this.Ca|=4);if(l.wg)if(this.Pa=e.j(e.y4,this,h.oU),h.YU)this.Pa.Ul(h.YU);
else{this.Pa.q_();const [m,p]=this.Kd.xY();this.Pa.Hd(m,p);this.H().XN()&&this.Pa.Jf.p0()}h.fU?this.U7(h.fU):this.P7()}m(){this.Xd&&(this.Xd.Dt(),this.Xd=null);if(0<this.fd.length){for(var h of this.fd)h.m();e.D(this.fd)}this.wa.m();this.wa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=n.get(this))h.clear(),n.delete(this);this.Bd&&e.D(this.Bd);this.Lb&&(this.Lb.m(),this.Lb=null);this.Kd=this.g=null;0<this.Ce.length&&e.D(this.Ce);this.Pa&&(this.Pa.m(),this.Pa=null)}U7(h){0<h.length&&(this.Ce=
[],e.Dc(this.Ce,h))}P7(){const h=this.Kd.Fi.length;if(0!==h){this.Ce=[];var l=[0,0,""];for(let m=0;m<h;++m)this.Ce.push(l[this.Kd.us(m)])}}ey(h,l){if(this.wa)throw Error("already got sdk instance");for(let m=0,p=this.fd.length;m<p;++m)this.fd[m].ey(l?l[m]:null);this.wa=e.j(this.Kd.Jz,this,h);if(!(this.wa instanceof e.$p))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,p=this.fd.length;m<p;++m);this.Kd.QR&&this.rP()}A(){return this.Pa}G(){return this.g}lY(){const h=this.pd;return-1===
h?this.G().pd:h}eE(h){h=+h;if(0>h||!isFinite(h))h=0;this.pd=h}r2(){this.pd=-1}Ib(){this.Lb||(this.Lb=e.j(e.Event.Ib));return this.Lb}aj(h){this.wa.aj(h)}J$(){this.Ca|=2}sk(){return 0!==(this.Ca&2)}VE(){this.Ca|=1}Hs(){return 0!==(this.Ca&1)}Sp(){return 0!==(this.Ca&4)}pM(){return 0!==(this.Ca&32)}ns(){return this.wa.ns()}DC(){return this.wa.DC()}EC(){return this.wa.EC()}lD(){return this.wa.lD()}MC(h){return this.wa.MC(h)}H(){return this.Kd}Yp(){return this.wa.Yp()}xp(h){return h.eb?h.XK(this.H()):
this.H()===h}YN(){if(!this.wb().mT)throw Error("object does not support scene graph");}mj(){return null!==this.Ba()}Ba(){var h=this.A();return h?(h=h.Ba())?h.xa():null:null}mx(){var h=this.A();return h?(h=h.mx())?h.xa():null:null}*Xv(){const h=this.A();if(h)for(const l of h.Xv())yield l.xa()}Re(){const h=this.A();return h?h.Re():!1}Ke(){const h=this.A();return h?h.Ke().map(l=>l.xa()):[]}*children(){const h=this.A();if(h)for(const l of h.children())yield l.xa()}*bk(){const h=this.A();if(h)for(const l of h.bk())yield l.xa()}Mw(){const h=
this.A();return h?h.Mw():0}AC(h){const l=this.A();return l?(h=l.AC(h))?h.xa():null:null}Kl(h,l){this.YN();h.YN();this.A().Kl(h.A(),l||{})}rj(h){const l=this.A();l&&l.rj(h.A())}Pw(){const h=this.A();return h?h.Pw():!1}J3(){var h=this.A();if(h&&(h=h.yL()))for(const l of h)if(h=this.g.Pg(l[2])){const m=l[3];this.Kl(h,{Ur:!!(m>>0&1),Vr:!!(m>>1&1),tp:!!(m>>2&1),sp:!!(m>>3&1),Tr:!!(m>>4&1),Lv:!!(m>>5&1),Wr:!!(m>>6&1)})}}Wb(){return null!==this.Bd}lq(h){this.Bd.push(h)}MZ(h){return!!this.EL(h)}EL(h){const l=
this.Bd;if(null===l||0===l.length)return!1;for(const m of l)if(m.H()===h)return m;return null}fi(){for(const h of this.Bd)h.H().R().Fk(h)}n9(){for(const h of this.Bd)h.H().R().tq(h)}V$(h){for(const l of this.Bd)l.H().R().F[h]=l}m9(){for(const h of this.Bd)h.H().R().Ok(h)}U$(h){for(const l of this.Bd)l.H().R().Rb[h]=l}wb(){return this.Kd.wb()}pQ(h){this.IR=h}zn(){this.Kd.Jy();return this.IR}dL(h){const l=this.fd;for(let m=0,p=l.length;m<p;++m)if(l[m].Yf().fb===h)return m;return-1}oe(h){h|=0;const l=
this.Ce;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}ZO(h){return this.Ce[h]}V6(h){const l=this.Ce[h];return 0===this.Kd.us(h)?!!l:l}fm(h,l){h|=0;const m=this.Ce;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");switch(this.Kd.us(h)){case 0:m[h]=l?1:0;break;case 1:m[h]="number"===typeof l?l:parseFloat(l);break;case 2:m[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}f3(h,l){if(0!==l){h|=0;
var m=this.Ce;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");var p=m[h];if("number"===typeof p)m[h]="number"===typeof l?m[h]+l:m[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}qk(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Ds(){let h=n.get(this);if(h)return h;h=new Map;n.set(this,
h);return h}lP(h){const l=this.H();if(l.Pd.YC(h))return!0;for(const m of l.jh)if(m.Pd.YC(h))return!0;return this.g.Pd.YC(h)?!0:!1}vF(){const h=new Set;h.add(this);const l=this.A();if(l&&l.Re())for(const m of this.bk())if(h.add(m),m.Wb())for(const p of m.Bd)h.add(p);if(this.Wb())for(const m of this.Bd)h.add(m);for(const m of h.values())m.CQ()}CQ(){if(this.lP("instancecreate")){const h=this.H(),l=new e.Event("instancecreate");l.instance=this.Qg();h.Og(l);for(const m of h.jh)m.Og(l);this.g.Og(l)}this.g.ua(this.wb().constructor.J.vM,
this,null)}naa(){this.g.ua(this.wb().constructor.J.S0,this,null)}F6(h){if(this.Xd){var l=new e.Event("destroy");l.gda=h;this.Og(l)}if(this.lP("instancedestroy")){l=this.H();var m=new e.Event("instancedestroy");m.instance=this.Qg();m.gda=h;l.Og(m);for(const p of l.jh)p.Og(m);this.g.Og(m)}}ud(h="full"){const l={};"full"===h?l.uid=this.kc:l.c3=!0;if("visual-state"!==h){var m=g.get(this);m&&m.size&&(l.ex=e.qE(m));-1!==this.pd&&(l.mts=this.pd);if(0<this.Kd.Fi.length){m={};var p=this.Kd.VY();for(let q=
0,u=this.Ce.length;q<u;++q)m[p[q].toString()]=this.Ce[q];l.ivs=m}if(this.fd.length){m={};for(const q of this.fd)(p=q.ud())&&(m[q.Yf().fb.toString()]=p);l.behs=m}}this.Pa&&(l.w=this.Pa.ba(h));(h=this.wa.ud())&&(l.data=h);return l}vy(h="full"){this.Pa&&this.Pa.vy(h)}nd(h,l="full"){if("full"===l)this.kc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var m=g.get(this);m&&(m.clear(),g.delete(this));if(m=h.ex)m=e.vC(m),g.set(this,m);this.pd=h.hasOwnProperty("mts")?h.mts:-1;if(m=h.ivs)for(const [u,r]of Object.entries(m))if(m=
this.Kd.UY(parseInt(u,10)),!(0>m||m>=this.Ce.length)){var p=r;null===p&&(p=NaN);this.Ce[m]=p}}if(this.wb().wg){m=h.w;var q=m.l;this.Pa.W().fb!==q&&(p=this.Pa.W(),(q=p.Vb().Xw(q))?(this.Pa.Ft(q),p.mo(this,!0),q.mg(this,!0),q.kg(),this.Pa.sb()):"full"===l&&this.g.vn(this));this.Pa.ja(m,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,r]of Object.entries(l))l=this.dL(parseInt(u,10)),0>l||l>=this.fd.length||this.fd[l].nd(r);(h=h.data)&&this.wa.nd(h)}Qg(){return this.Xd||this.rP()}rP(){var h=this.Pa?
self.eD:a;const l=this.wa.rk(),m=this.Kd.QR,p=m||l||h;a.ng(this);this.Xd=new p;a.ng(null);if(l&&!(this.Xd instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(m&&(h=l||h,!(this.Xd instanceof h)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${h.name}'`);return this.Xd}U6(h){if(0!==this.Ce.length){var l={},m=this.Kd.O6();for(let p=0,q=m.length;p<q;++p)l[m[p]]={configurable:!1,enumerable:!0,
get:e.Instance.prototype.V6.bind(this,p),set:e.Instance.prototype.fm.bind(this,p)};l=Object.create(Object.prototype,l);h.cpa={value:l,writable:!1}}}P6(h){var l=this.fd;if(0!==l.length){var m={};for(const p of l)m[p.Yf().Vh()]={value:p.jx(),writable:!1};l=Object.create(Object.prototype,m);h.Jv={value:l,writable:!1}}}Og(h){h.instance=this.Qg();var l=this.g;(l=l.pb&&!l.ea().yx())&&b.lE();this.Qg().dispatchEvent(h);l&&b.ZB()}}}
{"use strict";const e=self.B;e.A2=class extends e.aa{constructor(b){super();this.Nb=b;this.rc=null;this.Yy=[];this.ZA=b.ta();this.YA=b.qa();this.DI=this.CI=1;this.BA=0}m(){this.rc=null;e.D(this.Yy)}BN(b){this.BA=(this.rc=b)?b.Ea():0}Ba(){return this.rc}Re(){return 0<this.Yy.length}Ke(){return this.Yy}s3(b){this.CI=b}t3(b){this.DI=b}ij(){return this.Nb.En()?this.rc.ta()/this.rc.Db.ZA:1}jj(){return this.Nb.Dn()?this.rc.qa()/this.rc.Db.YA:1}ba(){return{sw:this.ZA,sh:this.YA,sx:this.CI,sy:this.DI,psa:this.BA,
c:this.Yy.map(b=>{let a="";b.Fn()&&(a+="x");b.Gn()&&(a+="y");b.En()&&(a+="w");b.Dn()&&(a+="h");b.nx()&&(a+="a");b.ox()&&(a+="z");b.Pw()&&(a+="d");return{uid:b.xa().kc,f:a}})}}ja(b){this.ZA=b.sw;this.YA=b.sh;this.CI=b.sx;this.DI=b.sy;this.BA=b.psa}At(b){const a=this.Nb,d=a.G();for(const c of b.c){b=d.Pg(c.uid).A();const g=c.f,n={};n.Ur=g.includes("x");n.Vr=g.includes("y");n.tp=g.includes("w");n.sp=g.includes("h");n.Tr=g.includes("a");n.Wr=g.includes("z");n.Lv=g.includes("d");a.Kl(b,n)}}}}
{"use strict";const e=self.B,b=e.j(e.Rect);e.j(e.sd);const a=e.j(e.Event,"bboxchange",!1),d=e.j(e.Za,0,0,0,0),c=e.j(e.tn),g=e.j(e.Za,1,1,1,1),n=e.j(e.Rect,0,0,-1,-1),h=e.j(e.Rect,0,0,-1,-1),l=new Set(["absolute","relative"]),m=[];let p=!0;const q=new WeakMap,u=new WeakMap;e.y4=class extends e.aa{constructor(r,v){super();this.na=r;this.K=r.H();this.g=r.G();this.Oj=v;this.ak=-1;this.Ca=196635;this.K.wb().Js()&&(this.Ca|=128);this.er=this.dr=this.kG=this.rI=this.Sa=this.Lc=this.vg=this.Lg=this.Sc=this.M=
this.O=NaN;this.bG=e.j(e.Rect);this.cG=e.j(e.sd);this.Zy=h;this.bv=n;this.Pi=this.zr=this.uI=null;this.vo=this.bb=g;this.Jf=this.hp=null;this.na.H().XN()&&(this.Jf=e.j(e.H_,this.na,this));this.Ki=this.Db=null}VE(){this.Ca|=256}m(){this.hp&&(this.g.kb().NM(this.hp),this.hp=null);this.uI=null;this.zr&&(this.zr.wU.m(),this.zr=null);this.Pi&&(this.Pi.clear(),this.Pi=null);this.Kx();this.mj()&&this.Ba().rj(this);if(this.Re()){const r=[...this.Ke()];for(const v of r)this.rj(v)}this.xy();this.Oj=this.g=
this.K=this.na=null}Ul(r){p=!1;this.im(r[0],r[1]);this.Ue(r[2]);this.Hd(r[3],r[4]);this.Lc=0;this.Js()?this.Gd(r[6]):this.Sa=0;d.Hl(r[7]);this.zy(d);this.aE(r[8]);this.bE(r[9]);this.fg(r[10]);this.Jf&&this.Jf.Q7(r[12]);r[14]&&q.set(this,{yca:r[14][1],mea:r[14][2]});if(r[15]){var v=r[15];this.nC(v[0],v[1]);r=this.Tl();v=v[2];for(let w=0,y=v.length;w<y;++w){const A=v[w];for(let G=0,z=A.length;G<z;++G){const F=A[G],I=r.Gp(G,w);I.gi(F[0]);I.hi(F[1]);I.Ue(F[2]);I.fE(F[3]);I.gE(F[4])}}}p=!0;this.vq()}q_(){this.rI=
this.Sa=this.Lc=this.vg=this.Lg=this.Sc=this.M=this.O=0;this.kG=1;this.er=this.dr=0;this.vq()}G(){return this.g}H(){return this.K}xa(){return this.na}nt(){return this.nx()?this.Ba().Ea()-this.Db.BA:0}gi(r){r=+r;if(this.Fn()){const v=this.Db;r-=this.ga();const w=-this.nt();0===w?this.O+=r/v.ij():(this.O+=Math.cos(w)*r/v.ij(),this.Gn()&&(this.M+=Math.sin(w)*r/v.jj()))}else this.O=r}M0(r){r=+r;this.Fn()?this.gi(this.ga()+r):this.O+=r}ga(){if(this.Fn()){let r=this.O;const v=this.Db,w=this.Ba(),y=this.nt();
0===y?r*=v.ij():(r=r*v.ij()*Math.cos(y),this.Gn()&&(r-=this.M*v.jj()*Math.sin(y)));return w.ga()+r}return this.O}hi(r){r=+r;if(this.Gn()){const v=this.Db;r-=this.ia();const w=-this.nt();0===w?this.M+=r/v.jj():(this.Fn()&&(this.O-=Math.sin(w)*r/v.ij()),this.M+=Math.cos(w)*r/v.jj())}else this.M=r}N0(r){r=+r;this.Gn()?this.hi(this.ia()+r):this.M+=r}ia(){if(this.Gn()){let r=this.M;const v=this.Db,w=this.Ba(),y=this.nt();0===y?r*=v.jj():(r=r*v.jj()*Math.cos(y),this.Fn()&&(r+=this.O*v.ij()*Math.sin(y)));
return w.ia()+r}return this.M}im(r,v){r=+r;v=+v;if(this.IL()){const y=this.Fn(),A=this.Gn(),G=this.Db,z=r-this.ga(),F=v-this.ia();var w=-this.nt();if(0===w)this.O=y?this.O+z/G.ij():r,this.M=A?this.M+F/G.jj():v;else{const I=Math.sin(w);w=Math.cos(w);this.O=y?A?this.O+(w*z-I*F)/G.ij():this.O+w*z/G.ij():r;this.M=A?y?this.M+(I*z+w*F)/G.jj():this.M+w*F/G.jj():v}}else this.O=r,this.M=v}Ex(r,v){r=+r;v=+v;this.IL()?this.im(this.ga()+r,this.ia()+v):(this.O+=r,this.M+=v)}TX(r,v){return this.ga()===r&&this.ia()===
v}Ue(r){r=+r;this.ox()&&(r-=this.Ba().$a());this.Sc!==r&&(this.Sc=r,this.KQ(),r=this.W(),0!==this.Sc&&r.mQ(),r.kg())}KQ(){this.vq();if(this.Re()){const r=this.Ke();for(let v=0,w=r.length;v<w;v++){const y=r[v];y.ox()&&y.KQ()}}}O0(r){this.Ue(this.$a()+r)}$a(){return this.ox()?this.Ba().$a()+this.Sc:this.Sc}Qe(){return this.W().$a()+this.$a()}Gk(r){r=+r;if(this.En()){const v=this.ta();this.Lg=0===v?1E-6:r/v*this.Lg}else this.Lg=r}tM(r){r=+r;this.En()?this.Gk(this.ta()+r):this.Lg+=r}ta(){return this.En()?
this.Ba().ta()*this.Lg:this.Lg}Dk(r){r=+r;if(this.Dn()){const v=this.qa();this.vg=0===v?1E-6:r/v*this.vg}else this.vg=r}sM(r){r=+r;this.Dn()?this.Dk(this.qa()+r):this.vg+=r}qa(){return this.Dn()?this.Ba().qa()*this.vg:this.vg}Hd(r,v){r=+r;v=+v;if(this.En()){const w=this.ta();this.Lg=0===w?1E-6:r/w*this.Lg}else this.Lg=r;this.Dn()?(r=this.qa(),this.vg=0===r?1E-6:v/r*this.vg):this.vg=v}oZ(){if(this.mj()){const r=this.Db;return Math.min(r.ij(),r.jj())}return 1}Js(){return 0!==(this.Ca&128)}Gd(r){r=+r;
this.Js()&&(this.nx()&&(r-=this.Ba().Ea()),r=e.ie(r),this.Sa!==r&&(this.Sa=r,this.WE()))}I0(r){r=+r;0!==r&&this.Js()&&(this.Sa=e.ie(this.Sa+r),this.WE())}WE(){this.Ca|=262144;if(this.Re()){const r=this.Ke();for(let v=0,w=r.length;v<w;v++)r[v].WE()}}Ea(){return this.nx()?e.ie(this.Ba().Ea()+this.Sa):this.Sa}IP(){const r=this.Ca;if(0!==(r&262144)){var v=this.Ea();this.rI=Math.sin(v);this.kG=Math.cos(v);this.Ca=r&-262145}}TC(){this.IP();return this.rI}CC(){this.IP();return this.kG}aE(r){this.dr=+r}K0(r){this.dr+=
+r}vs(){return this.dr}bE(r){this.er=+r}L0(r){this.er+=+r}ws(){return this.er}zy(r){this.bb.cd(r)||(this.bb===g?(this.bb=e.j(e.Za,r),this.vo=e.j(e.Za,r),this.vo.UJ()):r.wB(1,1,1,1)?this.vo=this.bb=g:(this.bb.set(r),this.vo.set(r),this.vo.UJ()),this.vq())}Ek(r){r=e.da(+r,0,1);this.bb.rp!==r&&(d.Ti(this.bb),d.rp=r,this.zy(d))}J0(r){this.Ek(this.pe()+r)}pe(){return this.bb.rp}IN(r){this.bb.Dl(r)||(d.Ti(r),d.rp=this.bb.rp,this.zy(d))}E3(r,v,w){d.Sr(r,v,w);this.IN(d)}QC(){return this.vo}Pw(){return 0!==
(this.Ca&512)}O2(r){this.xe(512,r)}Fn(){return 0!==(this.Ca&1024)}z3(r){this.xe(1024,r)}Gn(){return 0!==(this.Ca&2048)}IL(){return 0!==(this.Ca&3072)}A3(r){this.xe(2048,r)}En(){return 0!==(this.Ca&4096)}y3(r){this.xe(4096,r)}Dn(){return 0!==(this.Ca&8192)}x3(r){this.xe(8192,r)}nx(){return 0!==(this.Ca&16384)}w3(r){this.xe(16384,r)}ox(){return 0!==(this.Ca&32768)}B3(r){this.xe(32768,r)}sO(){this.Ca&=-65025}Kl(r,v){if(r!==this&&!r.mj()&&!this.nP(r)&&!this.mP(r)){var w=r.ga(),y=r.ia(),A=r.ta(),G=r.qa(),
z=r.Ea(),F=r.$a();r.sQ(this);r.z3(v.Ur);r.A3(v.Vr);r.y3(v.tp);r.x3(v.sp);r.w3(v.Tr);r.B3(v.Wr);r.O2(v.Lv);v.Ur&&(r.O=w-this.ga(),v.tp&&(r.O/=this.ta()/this.Db.ZA));v.Vr&&(r.M=y-this.ia(),v.sp&&(r.M/=this.qa()/this.Db.YA));v.tp&&(r.Lg=A/this.ta(),r.Db.s3(r.Lg));v.sp&&(r.vg=G/this.qa(),r.Db.t3(r.vg));v.Tr&&(r.Sa=z-this.Ea());v.Wr&&(r.Sc=F-this.$a());this.H4(r);this.sb()}}rj(r){if(r.Ba()===this){var v=r.ga(),w=r.ia(),y=r.ta(),A=r.qa(),G=r.Ea(),z=r.$a();r.sQ(null);r.sO();r.im(v,w);r.Hd(y,A);r.Gd(G);r.Ue(z);
this.B9(r);this.sb()}}J9(){for(var r of this.children())this.rj(r);(r=this.Ba())&&r.rj(this);this.sO()}mj(){return null!==this.Ba()}Ba(){const r=this.Db;return null!==r?r.Ba():null}mx(){let r=this;for(;r.mj();)r=r.Ba();return r}*Xv(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}HZ(r){return this.Ke().includes(r)}Re(){const r=this.Db;return null!==r?r.Re():!1}Ke(){const r=this.Db;return null!==r?r.Ke():m}children(){return this.Ke()}*bk(){for(const r of this.children())yield r,yield*r.bk()}Mw(){return this.Ke().length}AC(r){const v=
this.Ke();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}BE(r){this.Db||(this.Db=e.j(e.A2,this));r&&this.Db.BN(r)}xy(){this.Db&&(this.Db.m(),this.Db=null)}sQ(r){r?(r.BE(null),this.BE(r)):(this.Db&&this.Db.BN(null),this.Re()||this.xy())}mP(r){if(!this.mj())return!1;const v=this.Ba();return v===r?!0:v.mP(r)}nP(r){if(this.HZ(r))return!0;for(const v of this.Ke())if(v.nP(r))return!0;return!1}H4(r){this.Db.Ke().push(r)}B9(r){const v=this.Db.Ke(),w=v.indexOf(r);-1!==w&&v.splice(w,1);0!==v.length||this.mj()||
this.xy();r.Re()||r.xy()}yL(){const r=q.get(this);return r?r.yca:null}pZ(){const r=q.get(this);return r?r.mea:NaN}Ip(){return u.get(this)||NaN}cE(r){u.set(this,r)}vq(){if(p){var r=this.g.kb();this.hp&&r.NM(this.hp);this.hp=r.dV(0!==(this.Ca&524288)?r.WA||"<point>":r.XA||"<default>",this.cj(),this.vo,this.$a())}}Lp(){return this.bb===g}fg(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.cj()!==r&&(this.Ca=this.Ca&-2080374785|r<<26,this.vq())}cj(){return(this.Ca&2080374784)>>26}Ft(r){this.Oj=
r;0!==this.$a()&&this.Oj.mQ()}W(){return this.Oj}Vb(){return this.W().Vb()}Gy(r){this.ak=r|0}lj(){this.Oj.Kt();return this.ak}xe(r,v){this.Ca=v?this.Ca|r:this.Ca&~r}Fc(){return 0!==(this.Ca&1)}wj(r){this.xe(1,r)}Np(){return 0!==(this.Ca&8)}L2(r){r=!!r;this.Np()!==r&&(this.xe(8,r),r?this.sb():this.YP())}r3(r,v){this.xe(32,r);this.Pi&&this.Pi.clear();if(v.trim()){this.Pi||(this.Pi=new Set);for(const w of v.split(" "))w&&this.Pi.add(w.toLowerCase())}else this.Pi=null}sb(){this.Ca|=65554;this.K.lQ();
this.g.$();this.Oj.io()&&(this.fC(this.bG,this.cG,!0),this.Ca&=-3,this.waa());0!==(this.Ca&4)&&this.na.Ib().dispatchEvent(a);if(null!==this.Db){const r=this.Db.Ke();for(let v=0,w=r.length;v<w;++v)r[v].sb()}}fC(r,v,w){const y=this.ga(),A=this.ia(),G=this.ta(),z=this.qa(),F=this.Ea();r.Ih(y-this.dr*G,A-this.er*z,G,z);w&&this.Zh()&&this.z6(r);0===F?v.Yi(r):(r.offset(-y,-A),v.GU(r,this.TC(),this.CC()),v.offset(y,A),v.AJ(r));r.normalize()}GQ(){const r=this.Ca;0!==(r&2)&&(this.fC(this.bG,this.cG,!0),this.Ca=
r&-3)}Vc(){this.GQ();return this.bG}jk(){this.GQ();return this.cG}I2(r){this.xe(4,r)}TL(){return 0!==(this.Ca&4)}bM(r,v,w){return v&&0!==this.Lc?this.Pp(this.W().nq()):0===this.$a()||w?r.CB(this.Vc()):this.G7()}G7(){const r=this.W(),v=this.Qe();if(v>=r.js())return!1;r.KL(v,b);return b.CB(this.Vc())}Pp(r){var v=this.Vc();const w=v.X,y=v.ca,A=v.T;v=v.Z;const G=this.Qe();return r.mW(w,A,G,y,v,G+this.Lc)}Ay(r){this.xe(1048576,r)}Cy(r){this.xe(2097152,r)}rx(){return null!==this.uI||this.Zh()}Hn(){return this.R6(this.ta(),
this.qa(),this.Ea(),this.TC(),this.CC())}R6(r,v,w,y,A){let G=this.zr;null===G&&(this.zr=G={wU:e.j(e.tn),width:NaN,height:NaN,angle:NaN});const z=G.wU;if(G.width===r&&G.height===v&&G.angle===w)return z;const F=this.uI;if(this.Zh()){const I=this.vs(),J=this.ws(),M=this.Tl();let P=this.Ki.qU;P||(F?(c.ma(F),c.offset(I,J)):c.Oda(),P=M.G_(c),this.Ki.qU=P);M.b4(P,z);z.offset(-I,-J);z.iK(r,v,y,A)}else F?(z.ma(F),z.iK(r,v,y,A)):z.bK(this.jk(),-this.ga(),-this.ia());G.width=r;G.height=v;G.angle=w;return z}CO(){this.n3();
const r=this.zr;null!==r&&(r.width=NaN)}nC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.xa().wb().fca)throw Error("object does not support mesh");this.Kx();this.Ki={dK:e.j(e.I.oM,r,v),QU:e.j(e.I.oM,r,v),qU:null}}Zh(){return null!==this.Ki}Tl(){if(!this.Zh())throw Error("no mesh");return this.Ki.dK}wZ(){if(!this.Zh())throw Error("no mesh");return this.Ki.QU}j3(){this.xe(65536,!1)}U_(){return 0!==(this.Ca&65536)}n3(){this.xe(131072,!0)}z6(r){const v=this.Ki.dK,w=Math.min(v.gZ(),0),y=Math.min(v.hZ(),
0),A=Math.max(v.dZ(),1),G=Math.max(v.eZ(),1),z=r.width(),F=r.height();r.offsetLeft(w*z);r.offsetTop(y*F);r.Ada((A-1)*z);r.zda((G-1)*F);this.Lc=v.fZ()}Kx(){this.Ki&&(this.Ki.dK.m(),this.Ki.QU.m(),this.Ki=null,this.CO())}xN(r,v,w){r=Math.floor(r);v=Math.floor(v);var y=w.mode||"absolute";if(!l.has(y))throw Error("invalid mode");y="relative"===y;let A=w.x,G=w.y;const z=w.ew;let F="number"===typeof w.UU?w.UU:y?0:-1;w="number"===typeof w.XU?w.XU:y?0:-1;if(!this.Zh())return!1;const I=this.Tl(),J=I.Gp(r,
v);if(null===J)return!1;let M=!1;"number"===typeof z&&J.$a()!==z&&(J.Ue(z),M=!0);y&&(A+=r/(I.Ij-1),G+=v/(I.Vj-1));-1!==F||y?(y&&(F+=r/(I.Ij-1)),F=e.da(F,0,1)):F=J.Ig;-1!==w||y?(y&&(w+=v/(I.Vj-1)),w=e.da(w,0,1)):w=J.Kg;if(J.ga()===A&&J.ia()===G&&J.Ig===F&&J.Kg===w)return M;J.gi(A);J.hi(G);J.fE(F);J.gE(w);this.CO();return!0}sk(){return this.na.sk()}Zr(r,v){return this.Vc().pf(r,v)&&this.jk().pf(r,v)?this.sk()?void 0:this.rx()?this.Hn().pf(r-this.ga(),v-this.ia()):!0:!1}E7(){return 0!==(this.Ca&16)}HQ(){if(this.E7()&&
this.Np()&&0===(this.Ca&256)){var r=this.Vc(),v=this.K.$y,w=this.Zy;b.set(v.ii(r.X),v.ji(r.T),v.ii(r.ca),v.ji(r.Z));w.cd(b)||(r=this.na,w===h?(v.Ik(r,null,b),this.Zy=e.j(e.Rect,b)):(v.Ik(r,w,b),w.ma(b)),this.Ca&=-17)}}YP(){const r=this.Zy;r!==h&&(this.K.$y.Ik(this.na,r,null),this.Zy=h)}waa(){const r=this.W();if(r.io()&&0===(this.Ca&256)){var v=r.jr,w=this.Vc(),y=this.bv;b.set(v.ii(w.X),v.ji(w.T),v.ii(w.ca),v.ji(w.Z));y.cd(b)||(w=this.na,y===n?(v.Ik(w,null,b),this.bv=e.j(e.Rect,b)):(v.Ik(w,y,b),y.ma(b)),
r.p3())}}ZP(){const r=this.bv;r!==n&&(this.W().jr.Ik(this.na,r,null),this.bv=n)}F4(){const r=this.na,v=this.Oj,w=v.F;w.length&&w.Qd(-1)===r||(v.mo(r,!1),v.mg(r,!1),this.g.$())}D4(){const r=this.na,v=this.Oj,w=v.F;w.length&&w[0]===r||(v.mo(r,!1),v.j9(r),this.g.$())}E4(r){const v=this.na,w=this.Oj;if(w.Vb()!==r.Vb())throw Error("layer from different layout");r!==w&&(w.mo(v,!0),this.Ft(r),r.mg(v,!0),this.g.$())}C4(r,v){const w=this.na;let y=!1;const A=this.Oj;if(r.kc!==w.kc){var G=r.A();if(!G)throw Error("expected world instance");
G=G.W();A.Fa()!==G.Fa()&&(A.mo(w,!0),this.Ft(G),G.mg(w,!0),y=!0);r=G.D0(w,r,!!v);(y||r)&&this.g.$()}}I$(r){this.xe(64,r)}Fs(){return 0!==(this.Ca&64)}ba(r){const v={x:this.ga(),y:this.ia(),w:this.ta(),h:this.qa(),l:this.W().fb,zi:this.lj()};0!==this.$a()&&(v.ze=this.$a());0!==this.Ea()&&(v.a=this.Ea());this.Lp()||(v.c=this.bb.toJSON());.5!==this.vs()&&(v.oX=this.vs());.5!==this.ws()&&(v.oY=this.ws());0!==this.cj()&&(v.bm=this.cj());this.Fc()||(v.v=this.Fc());this.Np()||(v.ce=this.Np());this.TL()&&
(v.be=this.TL());this.Jf&&(v.fx=this.Jf.ba());const w=0!==(this.Ca&32);w&&(v.sfi=w);this.Pi&&(v.sft=[...this.Pi].join(" "));this.Db&&"visual-state"!==r&&(v.sgi=this.Db.ba());this.Zh()&&(v.mesh=this.Tl().ud());return v}vy(r){"visual-state"!==r&&this.J9()}ja(r,v){p=!1;this.gi(r.x);this.hi(r.y);this.Gk(r.w);this.Dk(r.h);this.Gy(r.zi);this.Ue(r.hasOwnProperty("ze")?r.ze:0);this.Gd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?d.Hl(r.c):r.hasOwnProperty("o")?(d.Ti(this.bb),d.rp=r.o):d.mn(1,1,1,1);
this.zy(d);this.aE(r.hasOwnProperty("oX")?r.oX:.5);this.bE(r.hasOwnProperty("oY")?r.oY:.5);this.fg(r.hasOwnProperty("bm")?r.bm:0);this.wj(r.hasOwnProperty("v")?r.v:!0);this.L2(r.hasOwnProperty("ce")?r.ce:!0);this.I2(r.hasOwnProperty("be")?r.be:!1);this.r3(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Jf&&r.hasOwnProperty("fx")&&this.Jf.ja(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.BE(null);const w=this.Db,y=r.sgi;w.ja(y);const A=this.G().Ib(),G=()=>{A.removeEventListener("afterload",
G);0===(this.Ca&256)&&w.At(y)};A.addEventListener("afterload",G)}r.hasOwnProperty("mesh")?(r=r.mesh,this.nC(r.cols,r.rows),this.Tl().nd(r)):this.Kx();this.sb();p=!0;this.vq()}}}
{"use strict";const e=self.B;e.rK=class extends e.aa{constructor(b,a){super();const d=b.G(),c=d.$o,g=d.Rg(a[1]);c.GZ(g)||c.rW(a);this.g=d;this.K=b;this.pi=c.pY(g);this.od=null;this.Jz=g.Instance;this.fb=a[2];this.Da=a[0];this.Lu=this.g.Vh(a[3]);this.od=e.j(g.fo,this)}static Ma(b,a){return e.j(e.rK,b,a)}m(){this.pi=this.g=null;this.od.m();this.Jz=this.od=null}G(){return this.g}H(){return this.K}Ml(){return this.pi}Aa(){return this.Da}Vh(){return this.Lu}}}
{"use strict";const e=self.B,b=self.TZ;e.hw=class extends e.aa{constructor(a){super();this.g=a.sf;this.Jc=a.kJ;this.pi=this.Jc.Ml();this.na=a.instance;this.La=a.index;this.Xd=this.wa=null;this.pi.mg(this.na)}m(){this.Xd&&(this.Xd.Dt(),this.Xd=null);this.pi.mo(this.na);this.wa.m();this.na=this.pi=this.Jc=this.g=this.Xd=this.wa=null}ey(a){if(this.wa)throw Error("already got sdk instance");this.wa=e.j(this.Jc.Jz,this,a);this.v7()}G(){return this.g}Yf(){return this.Jc}Ml(){return this.pi}we(){return this.La}ud(){return this.wa.ud()}nd(a){return this.wa.nd(a)}static jE(a,
d){var c=a.na,g=d.na;const n=c.H().Fa(),h=g.H().Fa();if(n!==h)return n-h;c=c.NS;g=g.NS;return c!==g?c-g:a.Ry.we()-d.Ry.we()}v7(){const a=this.wa.rk(),d=a||b;b.ng(this);this.Xd=new d;b.ng(null);if(a&&!(this.Xd instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}jx(){return this.Xd}}}
{"use strict";const e=self.B;e.gk=class extends e.aa{constructor(b,a){super();this.Nb=b;this.og=[];this.Ff=[];this.jz=new Map;this.ih=[];this.fr=!0;for(const d of a)b=e.j(e.UK,this,d,this.og.length),this.og.push(b),this.jz.set(b.Aa().toLowerCase(),b),3<=d.length&&this.ih.push(this.SE(d[2]));this.G().J4(this)}m(){e.D(this.og);e.D(this.Ff);this.jz.clear();e.D(this.ih);this.Nb=null}N1(b){if(b.length){this.og=b.concat(this.og);for(const a of b)this.jz.set(a.Aa().toLowerCase(),a);for(let a=0,d=this.og.length;a<
d;++a)this.og[a].nF(a)}}SE(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const g=e.j(e.Za);g.Hl(c);b[a]=g}}return b}G(){return this.Nb.G()}Yg(){e.D(this.Ff);let b=!0;for(const a of this.og)a.Cb&&(this.Ff.push(a),a.Af().fr||(b=!1));this.fr=b}Xf(){return this.og}BZ(){return 0<this.og.length}lk(b){return this.jz.get(b.toLowerCase())||null}iL(b){b=Math.floor(+b);if(0>b||b>=this.og.length)throw new RangeError("invalid effect type index");return this.og[b]}Is(b){return this.iL(b).Cb}mN(b,
a){this.iL(b).Nx(a)}Fs(){return 0<this.Ff.length}kk(b){return this.ih[b]}static y2(b){return b&&b instanceof e.Za?{t:"color",v:b.toJSON()}:b}static r0(b){if("object"===typeof b){if("color"===b.t){const a=e.j(e.Za);a.Hl(b.v);return a}throw Error("invalid effect parameter type");}return b}static cN(b){return b.map(e.gk.y2)}static kM(b){return b.map(e.gk.r0)}ud(){return this.og.map(b=>({name:b.Aa(),active:b.Cb,params:e.gk.cN(this.ih[b.Fa()])}))}nd(b){for(const a of b)if(b=this.lk(a.name))b.Nx(a.active),
this.ih[b.Fa()]=e.gk.kM(a.params);this.Yg()}}}
{"use strict";const e=self.B;e.UK=class extends e.aa{constructor(b,a,d){super();this.Ka=b;this.Be=a[0];this.Da=a[1];this.La=d;this.Rc=null;this.Cb=!0}m(){this.Rc=this.Ka=null}cW(b){b=e.j(e.UK,b,[this.Be,this.Da],-1);b.Rc=this.Rc;b.Cb=this.Cb;return b}pP(b){b=b.DL(this.Be);if(!b)throw Error("failed to find shader program '"+this.Be+"'");this.Rc=b}Aa(){return this.Da}nF(b){this.La=b}Fa(){return this.La}G(){return this.Ka.G()}Nx(b){this.Cb=!!b}Af(){return this.Rc}yY(){const b=[];for(let a=0,d=this.Rc.pp.length;a<
d;++a){const c=this.Rc.ax(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.j(e.Za,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.B;e.H_=class extends e.aa{constructor(b,a){super();this.na=b;this.IT=a;this.Ka=b.H().Ka;this.Hv=this.SH=!0;this.GT=this.FT=this.DT=!1;this.hh=e.j(e.I.ke,b.G().N.rG,{vB:(d,c)=>{c=c.rm;const g=c.A();d.dm(g.QC());d.Xs(g.Qe());c.aj(d);d.Xs(0)},eU:d=>{const c=d.EC(),[g,n]=d.DC();return{NU:c,OU:g,MU:n}},AB:d=>this.kk(d)});this.oo=[];this.Ff=[];this.fr=!0;this.ih=[];for(const d of this.Ka.Xf())this.oo.push(!0);this.Yg()}m(){this.hh.m();this.hh=null;e.D(this.oo);e.D(this.Ff);e.D(this.ih);
this.Ka=this.na=null}Q7(b){for(const a of b)this.ih.push(this.SE(a))}SE(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const g=e.j(e.Za);g.Hl(c);b[a]=g}}return b}p0(){for(const b of this.Ka.Xf())this.ih.push(b.yY())}Sh(){this.yt();return this.hh}G(){return this.na.G()}Yg(){e.D(this.Ff);const b=this.IT,a=this.Ka.Xf(),d=this.Ff,c=this.oo;let g=!0;for(let n=0,h=a.length;n<h;++n)if(c[n]){const l=a[n];d.push(l);l.Af().fr||(g=!1)}this.fr=g;b.I$(!!d.length);this.SH=!0}yt(){const b=
this.na;var a=this.IT;const d=a.Lp(),c=0<a.Lc;a=0!==a.Ea()||0>a.ta()||0>a.qa();const g=b.lD();if(this.SH||d!==this.Hv||c!==this.DT||a!==this.FT||g!==this.GT)this.hh.eC(this.Ff.map(n=>n.Af()),{Ir:this.Ff.map(n=>n.Fa()),yB:!d||b.Sp(),GJ:c,lU:g,jU:a}),this.SH=!1,this.Hv=d,this.DT=c,this.FT=a,this.GT=g}kk(b){return this.ih[b]}Is(b){return this.oo[b]}mN(b,a){this.oo[b]=!!a}Xf(){return this.Ka.Xf()}ba(){return this.Ka.Xf().map(b=>({name:b.Aa(),active:this.oo[b.Fa()],params:e.gk.cN(this.ih[b.Fa()])}))}ja(b){for(const a of b)if(b=
this.Ka.lk(a.name))this.oo[b.Fa()]=a.active,this.ih[b.Fa()]=e.gk.kM(a.params);this.Yg()}}}
{"use strict";const e=self.B,b=[],a=e.j(e.tn),d=e.j(e.tn),c=e.j(e.sd);e.j(e.Rect);e.j(e.Rect);let g=null,n=null,h=null;e.dW=class extends e.aa{constructor(l){super();this.g=l;this.MA=[]}m(){this.g=null}qK(l,m,p){for(const [q,u]of this.MA){let r;if(l===q)r=u;else if(l===u)r=q;else continue;r.xp(m)&&(p.includes(r)||p.push(r))}}yK(l,m){if(!this.MA.length)return!1;for(const [p,q]of this.MA)if(l===p&&m===q||l===q&&m===p)return!0;return!1}zK(){e.D(this.MA)}oE(l,m){if(!l||!m||l===m)return!1;l=l.A();m=m.A();
if(!l.Np()||!m.Np())return!1;const p=l.W(),q=m.W();return p.f0(q)?this.kaa(l,m):this.jaa(l,m)}kaa(l,m){if(!l.Vc().CB(m.Vc())||!l.jk().EJ(m.jk())||l.sk()&&m.sk())return!1;if(l.sk())return this.pE(l,m);if(m.sk())return this.pE(m,l);if(!l.rx()&&!m.rx())return!0;const p=l.Hn(),q=m.Hn();return p.Qv(q,m.ga()-l.ga(),m.ia()-l.ia())}jaa(l,m){var p=l.sk(),q=m.sk();if(p&&!q)return this.PN(l,m);if(q&&!p)return this.PN(m,l);if(q||p)return!1;q=l.W();p=m.W();a.ma(l.Hn());d.ma(m.Hn());var u=a.de;for(let r=0,v=u.length;r<
v;r+=2){const w=r+1,y=u[w],[A,G]=q.Qn(u[r]+l.ga(),y+l.ia());u[r]=A;u[w]=G}l=d.de;for(let r=0,v=l.length;r<v;r+=2){q=r+1;u=l[q];const [w,y]=p.Qn(l[r]+m.ga(),u+m.ia());l[r]=w;l[q]=y}a.aK();d.aK();return a.Qv(d,0,0)}PN(l,m){var p=l.W(),q=m.W();g||(g=e.j(e.tn));n||(n=e.j(e.Rect));h||(h=e.j(e.sd));var u=m.ga(),r=m.ia();const [v,w]=q.Qn(u,r),[y,A]=p.Mg(v,w);p=y-u;r=A-r;n.ma(m.Vc());n.offset(p,r);if(!l.Vc().CB(n))return!1;h.ma(m.jk());h.offset(p,r);if(!l.jk().EJ(h))return!1;g.ma(m.Hn());q=g.de;for(let G=
0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=r;g.aK();return this.pE(l,m,y,A,g,n,h)}pE(l,m,p,q,u,r,v){r=void 0!==r?r:m.Vc();const w=l.ga(),y=l.ia();var A=l.xa().wa;p=void 0!==p?p:m.ga();q=void 0!==q?q:m.ia();l=m.rx();v=void 0!==v?v:m.jk();A.Iga(r,b);for(let F=0,I=b.length;F<I;++F){var G=b[F];A=G.Lga();if(r.dda(A,w,y)&&(c.Yi(A),c.offset(w,y),c.EJ(v)))if(l){var z=void 0!==u?u:m.Hn();if(G=G.lZ()){if(G.Qv(z,p-(w+A.X),q-(y+A.T)))return e.D(b),!0}else if(a.bK(c,0,0),a.Qv(z,p,q))return e.D(b),!0}else if(z=
G.lZ()){if(a.bK(v,0,0),z.Qv(a,-(w+A.X),-(y+A.T)))return e.D(b),!0}else return e.D(b),!0}e.D(b);return!1}Wx(l,m,p){const q=l.R();var u=this.g.Ab();if(!u)throw Error("cannot call outside event");u=u.yd;if(q.Ob){q.We(!1);e.D(q.F);for(var r of l.fa()){var v=r.A(),w=v.W();const [y,A]=w.Mg(m,p,v.Qe());v.Zr(y,A)?q.tq(r):u&&q.Ok(r)}}else{v=!1;u?this.g.WL()&&!q.Rb.length&&q.F.length?r=q.F:(r=q.Rb,v=!0):r=q.F;w=0;for(let y=0,A=r.length;y<A;++y){const G=r[y],z=G.A(),F=z.W(),[I,J]=F.Mg(m,p,z.Qe());z.Zr(I,J)?
v?q.tq(G):r[w++]=G:v?r[w++]=G:u&&q.Ok(G)}r.length=w}l.Ub();return q.ZC()}BC(l,m,p,q){l=l?1!==l.Ld||1!==l.Md:!1;if(m.eb)for(const u of m.Bo)l||u.PF?e.Al(q,u.fa()):(u.FQ(),u.$y.Ix(p,q));else l||m.PF?e.Al(q,m.fa()):(m.FQ(),m.$y.Ix(p,q))}}}
{"use strict";const e=self.B;e.Q3=class extends e.aa{constructor(b,a){super();this.fG=b;this.eG=a;this.si=e.j(e.Os)}m(){this.si.m();this.si=null}Nl(b,a,d){let c=this.si.Y(b,a);return c?c:d?(c=e.j(e.yZ,this,b,a),this.si.Set(b,a,c),c):null}ii(b){b=Math.floor(b/this.fG);return isFinite(b)?b:0}ji(b){b=Math.floor(b/this.eG);return isFinite(b)?b:0}Ik(b,a,d){if(a)for(let c=a.X,g=a.ca;c<=g;++c)for(let n=a.T,h=a.Z;n<=h;++n){if(d&&d.pf(c,n))continue;const l=this.Nl(c,n,!1);l&&(l.Vg(b),l.Nn()&&this.si.un(c,
n))}if(d)for(let c=d.X,g=d.ca;c<=g;++c)for(let n=d.T,h=d.Z;n<=h;++n)a&&a.pf(c,n)||this.Nl(c,n,!0).iD(b)}Ix(b,a){let d=this.ii(b.X);const c=this.ji(b.T),g=this.ii(b.ca);b=this.ji(b.Z);if(isFinite(g)&&isFinite(b))for(;d<=g;++d)for(let n=c;n<=b;++n){const h=this.Nl(d,n,!1);h&&h.qC(a)}}}}
{"use strict";const e=self.B;e.yZ=class extends e.aa{constructor(b,a,d){super();this.O=a;this.M=d;this.F=e.j(e.aC)}m(){this.F.m();this.F=null}Nn(){return this.F.Nn()}iD(b){this.F.Uc(b)}Vg(b){this.F.un(b)}qC(b){e.Al(b,this.F.xC())}}}{"use strict";const e=self.B;e.Lja=class{constructor(){this.rect=new e.Rect;this.Mv=0}Set(b,a,d,c){this.rect.set(b,a,d,c);this.rect.normalize();this.Mv=0;return this}}}
{"use strict";const e=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.Xi.El,c=d.create(),g=e.j(e.sd),n=e.j(e.Rect);e.jC=class extends e.aa{constructor(h){super();this.g=h;this.Gj=null;this.ZR=!1;this.Si=this.cb=null;this.JG="high-performance";this.qm=this.pm=this.dh=this.eh=this.yc=this.Kc=this.Xj=this.Yj=0;this.Kq=!0;this.Mc=this.Zc=this.nT=0;this.hR=this.rR="letterbox-scale";this.gba=this.fba=0;this.gz=d.create();
this.mh=this.bJ="high";this.No=!1;this.Qt=[];this.jB=new Set;this.PA=self.C3_Shaders;this.rG=e.j(e.I.PX,{cU:()=>[this.fj(),this.Rh()],dU:()=>this.zY(),BU:l=>this.X1(l),getTime:()=>this.G().Pl(),AU:()=>this.G().$()});this.Hf=this.vm=0;this.Pq=NaN;this.Cz=null;this.zH=new Map;this.nu=NaN;this.pB=new Map;this.UA="";this.sI=1;this.aT=e.j(e.Rect);this.tI="";this.bT=this.nv=null;this.Ru=0;this.ee=-1;this.Fm=0;this.FH=l=>this.Fm=l.progress;this.ff=null;this.jf={Vv:null,Yv:null,dw:null};this.xI=this.hT=this.yI=
0;this.Qi="fade-in";this.wI=null;this.gT=new Promise(l=>this.wI=l)}G$(h){this.JG=h}Z$(h){this.ZR=!!h}async Ng(h){this.Gj=h.canvas;this.g.Lh("runtime","window-resize",p=>this.cF(p));this.g.Lh("runtime","fullscreenchange",p=>this.G8(p));this.g.Lh("runtime","fullscreenerror",p=>this.H8(p));this.Gj.addEventListener("webglcontextlost",p=>this.Ct(p));this.Gj.addEventListener("webglcontextrestored",()=>this.bF());this.No=!!h.isFullscreen;var l=navigator.gpu&&this.ZR;let m=!1;if(l)try{await this.tP(!0)}catch(p){this.Si=
null}if(!this.kb())try{await this.sP(!0)}catch(p){this.cb=null}this.kb()||(m=!0);if(!this.kb()&&l)try{await this.tP(!1)}catch(p){this.Si=null}if(!this.kb())try{await this.sP(!1)}catch(p){this.cb=null}l=this.kb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.a3(m);this.Hd(h.windowInnerWidth,h.windowInnerHeight,!0);this.Si?await this.y7():this.cb&&await this.x7();l.$D(this.Kq);l.xj()&&(this.Pq=0);for(const p of this.g.HF){for(const q of p.Xf())q.pP(l);p.Yg()}}async tP(h){h=
{powerPreference:this.JG,depth:this.g.yl,failIfMajorPerformanceCaveat:h,Zna:this.g.kB,oJ:this.g.YI};this.Si=e.j(e.I.sna);await this.Si.Ma(this.Gj,h)}async sP(h){h={powerPreference:this.JG,$T:!0,depth:this.g.yl,oJ:this.g.YI,failIfMajorPerformanceCaveat:h};"Android"===e.Gc.Tp&&"Chromium"===e.Gc.kw&&75>e.Gc.dC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.pU=1);"standard"===this.g.Cq?h.alpha=
!0:(h.alpha=!1,h.KJ=!0);this.cb=e.j(e.I.w4,this.Gj,h);await this.cb.wx()}async y7(){if(this.PA){const h=[];for(const [l,m]of Object.entries(this.PA))m.src=m.nra,h.push(this.Si.oC(m,e.I.tna.Ow(),l));await Promise.all(h)}}async x7(){if(this.PA){const h=[];for(const [l,m]of Object.entries(this.PA))m.src=m.Woa,h.push(this.cb.oC(m,e.I.it.Ow(),l));await Promise.all(h);this.cb.o2();this.cb.vj()}this.cb.xj()&&(this.Cz=e.j(e.I.bO,this.cb))}m(){this.Gj=this.cb=this.g=null}cF(h){const l=this.g,m=h.devicePixelRatio;
l.Zd&&(self.devicePixelRatio=m);l.x$(m);this.No=!!h.isFullscreen;this.Hd(h.innerWidth,h.innerHeight);l.$();l.pb&&(l.Gs()||self.Vf.oha())&&l.Wn()}G8(h){this.No=!!h.isFullscreen;this.Hd(h.innerWidth,h.innerHeight,!0);this.g.$()}H8(h){this.No=!!h.isFullscreen;this.Hd(h.innerWidth,h.innerHeight,!0);this.g.$()}Hd(h,l,m=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Yj!==h||this.Xj!==l||m){this.Yj=h;this.Xj=l;m=this.ms();"letterbox-scale"===m?this.Z4(h,l):"letterbox-integer-scale"===
m?this.Y4(h,l):"off"===m?this.W4(h,l):this.X4(h,l);this.uaa(m);this.Gj.width=this.eh;this.Gj.height=this.dh;this.g.yk("canvas","update-size",{marginLeft:this.pm,marginTop:this.qm,styleWidth:this.Kc,styleHeight:this.yc});h=this.kb();h.Hd(this.eh,this.dh,!0);for(var p of this.Qt)h.KW(p);e.D(this.Qt);h.yp(this.gz,this.fj()/this.Rh());p=this.g.Ya;p.$n();p.Zn()}}Z4(h,l){const m=this.g.dj(),p=this.g.Cg,q=this.g.Bg,u=p/q;h/l>u?(this.Kc=Math.round(l*u),this.yc=l,this.pm=Math.floor((h-this.Kc)/2),this.qm=
0):(this.Kc=h,this.yc=Math.round(h/u),this.pm=0,this.qm=Math.floor((l-this.yc)/2));this.eh=Math.round(this.Kc*m);this.dh=Math.round(this.yc*m);this.g.ft(p,q)}Y4(h,l){const m=this.g.dj();1!==m&&(h+=1,l+=1);const p=this.g.Cg,q=this.g.Bg;var u=p/q;u=h/l>u?l*u*m/p:h/u*m/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.eh=Math.round(p*u);this.dh=Math.round(q*u);this.Kc=this.eh/m;this.yc=this.dh/m;this.pm=Math.max(Math.floor((h-this.Kc)/2),0);this.qm=Math.max(Math.floor((l-this.yc)/2),0);this.g.ft(p,
q)}X4(h,l){const m=this.g.dj();this.Kc=h;this.yc=l;this.eh=Math.round(this.Kc*m);this.dh=Math.round(this.yc*m);this.qm=this.pm=0;h=this.ej();this.g.ft(this.Kc/h,this.yc/h)}W4(h,l){const m=this.g.dj();this.Kc=this.g.lf;this.yc=this.g.kf;this.eh=Math.round(this.Kc*m);this.dh=Math.round(this.yc*m);this.No?(this.pm=Math.floor((h-this.Kc)/2),this.qm=Math.floor((l-this.yc)/2)):this.qm=this.pm=0;this.g.ft(this.g.lf,this.g.kf)}uaa(h){if("high"===this.bJ)this.Zc=this.eh,this.Mc=this.dh,this.mh="high";else{let m;
if("off"===this.ms()){var l=this.g.lf;m=this.g.kf}else l=this.g.Cg,m=this.g.Bg;this.eh<l&&this.dh<m?(this.Zc=this.eh,this.Mc=this.dh,this.mh="high"):(this.Zc=l,this.Mc=m,this.mh="low","scale-inner"===h?(h=l/m,l=this.Yj/this.Xj,l<h?this.Zc=this.Mc*l:l>h&&(this.Mc=this.Zc/l)):"scale-outer"===h&&(h=l/m,l=this.Yj/this.Xj,l>h?this.Zc=this.Mc*l:l<h&&(this.Mc=this.Zc/l)))}}G(){return this.g}Y2(h){if(!b.has(h))throw Error("invalid fullscreen mode");this.rR=h;h=this.g.Ya;h.$n();h.Zn()}Sw(){return this.rR}Q2(h){if(!b.has(h))throw Error("invalid fullscreen mode");
this.hR=h;h=this.g.Ya;h.$n();h.Zn()}ms(){return this.No?this.hR:this.Sw()}oN(h){if(!a.has(h))throw Error("invalid fullscreen scaling quality");this.bJ=h;this.g.Ya.$n()}static RO(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}fj(){return this.Zc}Rh(){return this.Mc}$D(h){this.Kq=!!h}X$(h){this.nT=h}Z_(){return this.kb().Ln()}Ct(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.Qt=[];this.jB.clear();this.cb.xk();this.g.Ct()}async bF(){await this.cb.ED();await this.Lna();for(const h of this.g.HF)for(const l of h.Xf())l.pP(this.cb);await this.g.bF();console.log("[Construct 3] WebGL context restored")}In(){return this.cb}Es(){return this.Si}kb(){return this.Si||this.cb}Sl(){return"low"===this.mh?1/this.g.dj():this.ej()}ej(){const h=this.ms();if("off"===h||"crop"===h)return 1;const l=this.g.Cg,m=this.g.Bg,p=l/m,q=this.eh/this.dh;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.yc/m:this.Kc/l}rs(){return"low"===this.mh?1:this.ej()}qs(){return"low"===this.mh?1:this.g.dj()}P2(h,l,m){l=l||this.Zc;m=m||this.Mc;const p=l/2+this.fba,q=m/2+this.gba;{let u=this.gz;if(l!==this.Zc||m!==this.Mc)h.yp(c,l/m),u=c;h.ao(u)}l=h.Xr(p,q,100*this.g.dj(),p,q,m||this.Mc);h.fq(l)}M2(h){var l=this.Kc/2;const m=this.yc/2;h.ao(this.gz);l=h.Xr(l,m,100,l,m);h.fq(l)}ks(){return this.pm}ls(){return this.qm}gs(h){h.depth=this.g.yl;const l=this.Qt,m=l.findIndex(q=>q.P_(h));
let p;-1!==m?(p=l[m],l.splice(m,1)):p=this.kb().xW(h);this.jB.add(p);return p}Un(h){if(!this.jB.has(h))throw Error("render target not in use");this.jB.delete(h);this.Qt.push(h)}zY(){const h={Fl:this.g.Ad};"low"===this.mh&&(h.width=this.fj(),h.height=this.Rh());return this.gs(h)}X1(h){this.Un(h)}*qB(){for(const h of this.g.Ya.aw())for(const l of h.Pb){const m=this.zH.get(l);m&&(yield m)}}rL(h){if(!this.kb().xj())return null;let l=this.zH.get(h);l||(l={name:h.Aa(),eK:e.j(e.I.bO,this.cb),sB:0,nU:0},
this.zH.set(h,l));return l.eK}raa(){const h=this.kb();if(h.xj()&&0===this.Hf){this.Hf=h.lh;this.nu=NaN;for(const l of this.qB())l.sB=NaN}}yaa(){this.cb&&this.cb.xj()&&this.zaa();this.Si&&this.Si.xj()&&this.Aaa()}zaa(){if(isNaN(this.nu)&&(this.nu=this.Cz.nL(this.vm,this.Hf),!isNaN(this.nu))){if(this.g.pb)for(const h of this.qB())if(h.sB=h.eK.nL(this.vm,this.Hf),isNaN(h.sB))return;this.Cz.PK(this.Hf);this.Pq=Math.min(this.nu,1);if(this.g.pb){for(const h of this.qB())h.eK.PK(this.Hf),h.nU=Math.min(h.sB,
1);self.Vf.l4(this.Pq,[...this.qB()])}this.vm=this.Hf;this.Hf=0}}Aaa(){if(0!==this.Hf){for(var h=this.vm;h<this.Hf;++h){var l=this.pB.get(h);if(l&&!l.tx())return}l=this.g.Jb();h=e.w0(l.Pb.length+1);for(var m=this.vm;m<this.Hf;++m){var p=this.pB.get(m);if(p){p=p.ix();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const r=p[2*q],v=p[2*q+1];h[q]=0===Number(r)||0===Number(v)?NaN:h[q]+Number(v-r)/1E9}}}this.Pq=e.da(h[0],0,1);if(this.g.pb){m=[];l=l.Pb;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)m.push({name:l[q].Aa(),nU:e.da(h[q+1],0,1)});self.Vf.l4(this.Pq,m)}for(h=this.vm;h<this.Hf;++h)this.pB.delete(h);this.vm=this.Hf;this.Hf=0}}S4(h){this.pB.set(this.Si.lh,h)}Uw(){return this.Pq}LN(h,l,m,p,q,u){this.UA=h;this.sI=l;this.aT.Ih(m,p,q,u);return this.nv?this.nv:this.nv=new Promise(r=>{this.bT=r})}m8(){if(this.UA){var h=this.Gj,l=this.aT,m=e.da(Math.floor(l.X),0,h.width),p=e.da(Math.floor(l.T),0,h.height),q=l.width();q=0===q?h.width-m:e.da(Math.floor(q),0,h.width-m);l=l.height();l=0===
l?h.height-p:e.da(Math.floor(l),0,h.height-p);(0!==m||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=e.Ng(q,l),h.getContext("2d").drawImage(this.Gj,m,p,q,l,0,0,q,l));e.lw(h,this.UA,this.sI).then(u=>{this.tI=URL.createObjectURL(u);this.nv=null;this.bT(this.tI)});this.UA="";this.sI=1}}p_(h){this.cb&&(2===h?(this.ff=e.j(e.I.LD,this.kb()),this.ff.sN(),this.ff.YD("Arial"),this.ff.Rx(16),this.ff.qN("center"),this.ff.KN("center"),this.ff.Hd(300,200)):0===h?(h=this.g.Zq)&&h.AD(this.cb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.c8().then(l=>{"done"===this.Qi?this.cb.$i(l):this.jf.Vv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.zP("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Qi?this.cb.$i(l):this.jf.Yv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.zP("splash-images/splash-website-512.png").then(l=>{"done"===this.Qi?this.cb.$i(l):this.jf.dw=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async c8(){var h=(new URL("splash-images/splash-logo.svg",
this.g.zC())).toString();h=await e.ik(h);h=await this.g.V1(h);return await this.cb.ww(h,{Wv:"high"})}async zP(h){h=(new URL(h,this.g.zC())).toString();h=await e.ik(h);return await this.cb.ww(h,{Wv:"high"})}bD(){this.g.yk("runtime","hide-cordova-splash")}R3(){this.Ru=Date.now();this.g.Ib().addEventListener("loadingprogress",this.FH);this.ee=requestAnimationFrame(()=>this.JO());3!==this.g.Yq&&this.bD()}async SX(){if(this.cb){this.Fm=1;var h=this.g.Yq;4===h&&await this.gT;this.gT=this.wI=null;-1!==this.ee&&
(cancelAnimationFrame(this.ee),this.ee=-1);this.g.Ib().removeEventListener("loadingprogress",this.FH);this.FH=null;this.ff&&(this.ff.m(),this.ff=null);this.g.Y1();this.cb.gt();this.jf.Vv&&(this.cb.$i(this.jf.Vv),this.jf.Vv=null);this.jf.Yv&&(this.cb.$i(this.jf.Yv),this.jf.Yv=null);this.jf.dw&&(this.cb.$i(this.jf.dw),this.jf.dw=null);this.cb.sn();this.cb.es();this.Qi="done";this.vm=this.cb.lh;3===h&&this.bD()}}JO(){if(-1!==this.ee){var h=this.cb;if(h){h.gt();this.ee=-1;var l=this.g.lb.MG,m=this.g.Yq;
3!==m&&(this.M2(h),h.sn(),h.Ts(),h.vj(),h.jg(null));if(0===m)this.q6(l);else if(1===m)this.hy(l,120,0);else if(2===m)this.p6(l);else if(3!==m)if(4===m)this.r6(l);else throw Error("invalid loader style");h.es();this.ee=requestAnimationFrame(()=>this.JO())}}}p6(h){h?this.ff.iN(1,0,0):this.ff.iN(.6,.6,.6);this.ff.et(Math.round(100*this.Fm)+"%");h=this.Kc/2;const l=this.yc/2;g.IU(h-150,l-100,h+150,l+100);this.cb.jg(this.ff.$f());this.cb.Vp(g,this.ff.hf)}hy(h,l,m){const p=this.cb;p.hN();h?p.Te(1,0,0,1):
p.Te(.118,.565,1,1);h=this.Kc/2;const q=this.yc/2,u=l/2;n.Ih(h-u,q-4+m,Math.floor(l*this.Fm),8);p.Rect(n);n.Ih(h-u,q-4+m,l,8);n.offset(-.5,-.5);n.CJ(.5,.5);p.Te(0,0,0,1);p.hM(n);n.CJ(1,1);p.Te(1,1,1,1);p.hM(n)}q6(h){var l=this.g.Zq;if(l)if(l=l.$f()){var m=l.ta(),p=l.qa(),q=this.Kc/2,u=this.yc/2,r=m/2;p/=2;g.IU(q-r,u-p,q+r,u+p);this.cb.jg(l);this.cb.sd(g);this.hy(h,m,p+16)}else this.hy(h,120,0);else this.hy(h,120,0)}r6(h){const l=this.cb,m=this.jf.Vv,p=this.jf.Yv,q=this.jf.dw,u=Date.now();0===this.yI&&
(this.Ru=u);const r=this.g.Rp()||this.g.xba&&!this.g.Q_(),v=r?0:200,w=r?0:3E3;let y=1;"fade-in"===this.Qi?y=Math.min((u-this.Ru)/300,1):"fade-out"===this.Qi&&(y=Math.max(1-(u-this.xI)/300,0));l.hN();l.Te(.231*y,.251*y,.271*y,y);n.set(0,0,this.Kc,this.yc);l.Rect(n);const A=Math.ceil(this.Kc),G=Math.ceil(this.yc);let z;256<this.yc?(l.Te(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),n.Ih(0,.8*G-z/2,A,z),l.Rect(n),h?l.Te(y,0,0,y):l.Te(.161*y,.953*y,.816*y,y),h=A*this.Fm,n.Ih(.5*A-h/2,.8*G-z/2,h,z),l.Rect(n),
l.Te(y,y,y,y),l.vj(),p&&(h=1.5*e.da(.22*G,105,.6*A),z=h/8,n.Ih(.5*A-h/2,.2*G-z/2,h,z),l.jg(p),l.Rect(n)),m&&(z=h=Math.min(.395*G,.95*A),n.Ih(.5*A-h/2,.485*G-z/2,h,z),l.jg(m),l.Rect(n)),q&&(h=1.5*e.da(.22*G,105,.6*A),z=h/8,n.Ih(.5*A-h/2,.868*G-z/2,h,z),l.jg(q),l.Rect(n))):(l.Te(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),n.Ih(0,.85*G-z/2,A,z),l.Rect(n),h?l.Te(y,0,0,y):l.Te(.161*y,.953*y,.816*y,y),h=A*this.Fm,n.Ih(.5*A-h/2,.85*G-z/2,h,z),l.Rect(n),l.Te(y,y,y,y),l.vj(),m&&(z=h=.55*G,n.Ih(.5*A-h/2,.45*
G-z/2,h,z),l.jg(m),l.Rect(n)));this.yI++;"fade-in"===this.Qi&&300<=u-this.Ru&&2<=this.yI&&(this.Qi="wait",this.hT=u);"wait"===this.Qi&&u-this.hT>=w&&1<=this.Fm&&(this.Qi="fade-out",this.xI=u);("fade-out"===this.Qi&&u-this.xI>=300+v||r&&1<=this.Fm&&500>u-this.Ru)&&this.wI()}}}
{"use strict";const e=self.B,b=self.Vf,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.aN=class extends e.aa{constructor(c){c=Object.assign({},a,c);super();this.Vu=c.messagePort;this.Oaa=c.baseUrl;this.Zd=!!c.isInWorker;d=c.ife;this.Ci=c.exportType;this.qH=!!c.isiOSCordova;this.xba=!!c.isFBInstantAvailable;this.Sba=c.opusWasmScriptUrl;this.BS=c.opusWasmBinaryUrl;this.Yd=this.Uaa=this.pb=!("preview"!==this.Ci||!c.isDebug);this.mG=
0;this.My=[];this.Haa=[];this.hI=this.MS=this.IA="";this.Bg=this.Cg=0;this.Gq=self.devicePixelRatio;this.Yq=this.kf=this.lf=this.AA=this.zA=0;this.ZI=!1;this.Lj=!0;this.YI=this.kB=!1;this.Zq=null;this.lb=e.j(e.BV,this,c);this.Ya=e.j(e.l0,this);this.oa=e.j(e.XX,this);this.$o=e.j(e.E1,this);this.ti=e.j(e.dW,this);this.zb=e.j(e.Y3,this);this.II=e.j(e.d4,this);this.Ic=[];this.TH=new Map;this.UH=new Map;this.mR=0;this.Jaa=[];this.HF=[];this.eu=[];this.xm=[];this.Lz=new Map;this.Ez=!1;this.Yu=this.VH=0;
this.Jo=new Map;this.Ko=new Set;this.Mz=new Set;this.xA=[];this.aS=[];this.N=null;this.yl=!1;this.DG="vsync";this.Cq="standard";this.Ad="trilinear";this.Po=!1;this.QH=!0;this.mH=this.FS=!1;this.gca={uU:g=>{this.rl=this.ee=-1;this.Ve(g)},Zda:g=>{this.rl=-1;this.Ve(g,!1,"skip-render")},Ida:()=>{this.ee=-1;this.Wn()}};this.rl=this.ee=-1;this.nz=this.Qm=this.Sj=0;this.GR=this.Uz=this.Fz=!1;this.jH=!0;this.pr=0;this.Xba=()=>Math.random();this.iu=this.ju=this.jA=this.Om=0;this.pd=1;this.wS=30;this.HG=e.j(e.xD);
this.IG=e.j(e.xD);this.aJ=e.j(e.xD);this.yz=-1;this.sA=this.gl=this.xz=this.Do=0;this.Mj=!1;this.Qu=this.gv="";this.Xq=null;this.To="";this.oI=this.gI=null;this.Lb=e.j(e.Event.Ib);this.qG=new Map;this.bI=new Map;this.Oba=0;this.YR=this.dR=this.eR=!1;this.$I=[];this.Ao={pretick:e.j(e.Event,"pretick",!1),tick:e.j(e.Event,"tick",!1),tick2:e.j(e.Event,"tick2",!1),instancedestroy:e.j(e.Event,"instancedestroy",!1),beforelayoutchange:e.j(e.Event,"beforelayoutchange",!1),layoutchange:e.j(e.Event,"layoutchange",
!1)};this.Ao.instancedestroy.instance=null;this.Pd=e.j(e.Event.Ib);this.xT=null;this.om=e.j(e.Tn,e.hw.jE);this.so=e.j(e.Tn,e.hw.jE);this.to=e.j(e.Tn,e.hw.jE);this.Ju=e.j(e.h0,this,c.jobScheduler);c.canvas&&(this.N=e.j(e.jC,this));this.Vu.onmessage=g=>this._OnMessageFromDOM(g.data);this.Lh("runtime","visibilitychange",g=>this.c9(g));this.Lh("runtime","opus-decode",g=>this.Daa(g.arrayBuffer));this.Lh("runtime","get-remote-preview-status-info",()=>this.d7());this.Lh("runtime","js-invoke-function",g=>
this.uy(g));this.Lh("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Lb.addEventListener("window-blur",g=>this.d9(g));this.Lb.addEventListener("window-focus",()=>this.e9());this.zb.qV();this.Ei=null;this.sba=new WeakMap;this.bu={keyboard:null,rU:null,gK:null}}static Ma(c){return e.j(e.aN,c)}m(){e.D(this.Ic);this.TH.clear();this.UH.clear();this.Ya.m();this.Ya=null;this.oa.m();this.oa=null;this.$o.m();this.$o=null;this.lb.m();this.lb=null;this.ti.m();this.ti=null;this.zb.m();this.zb=
null;this.II.m();this.II=null;this.N&&(this.N.m(),this.N=null);this.Lb.m();this.Lb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.LP(c);else if("result"===g)this.V8(c);else throw Error(`unknown message '${g}'`);}LP(c){if(this.YR){var g=c.component,n=c.handler,h=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(m&&(c=new e.Event(n),c.data=h,this.Lb.Mca(c)),l)){c=new e.Event(n,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.Og(c)}if(c=this.qG.get(g))if(c=c.get(n)){m=null;try{m=c(h)}catch(q){console.error(`Exception in '${g}' handler '${n}':`,q);null!==p&&this.wy(p,!1,""+q);return}null!==p&&(m&&m.then?m.then(q=>this.wy(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${n}':`,q);this.wy(p,!1,""+q)}):this.wy(p,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${n}' for component '${g}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.$I.push(c)}wy(c,
g,n){this.Vu.postMessage({type:"result",responseId:c,isOk:g,result:n})}V8(c){const g=c.responseId,n=c.isOk;c=c.result;const h=this.bI.get(g);n?h.resolve(c):h.reject(c);this.bI.delete(g)}Lh(c,g,n){let h=this.qG.get(c);h||(h=new Map,this.qG.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,n)}yk(c,g,n){this.Vu.postMessage({type:"event",component:c,handler:g,data:n,responseId:null})}Rn(c,g,n){const h=this.Oba++,l=new Promise((m,p)=>{this.bI.set(h,{resolve:m,
reject:p})});this.Vu.postMessage({type:"event",component:c,handler:g,data:n,responseId:h});return l}J1(){if(!this.pb)throw Error("not in debug mode");this.yk("runtime","post-to-debugger",{type:"reload"})}async Ul(c){this.pb?await b.Ul(this):self.Vf&&self.Vf.dha(this);var [g]=await Promise.all([this.lb.YK("data.json"),this.l8(),this.Ju.Ul()]);this.O7(g);await this.z7(c);this.Rp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.In()?(g=this.In(),console.info(`[C3 runtime] Hosted in ${this.Zd?
"worker":"DOM"}, rendering with WebGL ${g.bd} [${g.Cv}] (${g.R_()?"desynchronized":"standard"} compositing)`)):this.Es()&&console.info(`[C3 runtime] Hosted in ${this.Zd?"worker":"DOM"}, rendering with experimental WebGPU`);this.kb().NG&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.YR=!0;for(const n of this.$I)this.LP(n);e.D(this.$I);this.N&&this.N.R3();for(const n of c.runOnStartupFunctions)this.My.push(this.S9(n));
await Promise.all([this.lb.ZN(),...this.My]);e.D(this.My);if(this.lb.MG)this.N&&this.N.bD();else return this.N&&await this.N.SX(),await this.Lb.uJ(new e.Event("beforeruntimestart")),await this.gt(),this.Vu.postMessage({type:"runtime-ready"}),this}async S9(c){try{await c(this.Ei)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}O7(c){c=c.project;this.IA=c[0];this.MS=c[16];this.hI=c[31];const g=c[39]||"loading-logo.png";this.Po=!!c[9];this.Cg=this.lf=c[10];this.Bg=this.kf=
c[11];this.zA=this.Cg/2;this.AA=this.Bg/2;this.Cq=c[36];this.DG=c[37];"low-latency"===this.Cq&&this.K_()&&77>=e.Gc.dC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Cq="standard");this.yl=!!c[40];this.Ad=c[14];this.kB=c[15];this.YI=c[17];this.ZI=!!c[18];this.Yq=c[19];this.Yu=c[21];this.FS=c[22];const n=this.lb;n.r$(c[7],c[25]);n.Q$(c[8]);
n.F$(c[32]);n.K$(c[28]);n.Y$(c[29]);if(0===this.Yq){let q="";this.Rp()?n.ty(g)&&(q=n.OC(g)):q=n.HR+g;q&&(this.Zq=n.zD({url:q}))}this.N&&(this.N.Y2(e.jC.RO(c[12])),this.N.oN(c[23]?"high":"low"),this.N.$D(0!==c[24]),this.N.G$(c[34]),this.N.X$(c[41]),this.N.Z$(c[13]));this.$o.yW();this.xA=self.uK();for(var h of c[2])this.$o.wW(h);this.xA=self.uK();this.V7();for(var l of c[3])h=e.BD.Ma(this,this.Ic.length,l),this.Ic.push(h),this.TH.set(h.Aa().toLowerCase(),h),this.UH.set(h.fb,h);for(const q of c[4])this.Ic[q[0]].R7(q);
for(var m of c[27])l=m.map(q=>this.Ic[q]),this.Jaa.push(e.j(e.lW,this,l));for(const q of this.Ic)q.v8();for(const q of c[5])this.Ya.Ma(q);(m=c[1])&&(m=this.Ya.Fp(m))&&this.Ya.U2(m);for(var p of c[33])this.zb.Ma(p);for(const q of c[35])this.II.Ma(q);this.w7();for(const q of c[6])this.oa.Ma(q);this.oa.Gb();this.s7();e.D(this.xA);this.Ed();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.yk("runtime","set-target-orientation",{targetOrientation:p})}oK(c){this.My.push(c)}Y6(){return this.mR++}J4(c){this.HF.push(c)}async z7(c){this.N&&
(await this.N.Ng(c),this.N.p_(this.Yq))}async l8(){if(!this.lb.SL("audio/webm; codecs=opus")){var c=null;try{c=this.qH&&this.lb.Au?await this.lb.HK(this.BS):await this.lb.cs(this.BS)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.kV(c):this.jV();await this.lV([this.Sba])}}async Daa(c){return await this.XB("OpusDecode",{arrayBuffer:c},[c])}async gt(){this.Fz=!0;this.Om=Date.now();if(this.ZI){for(var c of this.Ic);this.lb.ZN().then(()=>
{this.Lj=!1;this.OP()})}else this.Lj=!1;this.lb.b3();this.pb&&b.Pka(d);for(const g of this.Ya.oi)g.p5();c=this.Ya.KY();await c.RE(null,this.kb());await c.AQ(!0);this.Do=performance.now();this.ZI||this.OP();(await this.Rn("runtime","before-start-ticking")).isSuspended?this.pr++:this.Ve()}OP(){this.ua(e.C.ab.J.e1,null,null);this.yk("runtime","register-sw")}Rg(c){c=Math.floor(c);const g=this.xA;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}V7(){for(const c of self.LV){const g=
e.first(Object.keys(c));this.aS.push(g)}}Vh(c){c=Math.floor(c);const g=this.aS;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}zC(){return this.Oaa}ea(){return this.oa}Wc(){return this.oa.Wc()}Le(){return this.oa.Le()}Ab(){return this.oa.Ab()}vf(){return this.oa.vf()}WL(){return 0===this.Le().Uk}Nw(){return this.oa.Nw()}As(){return this.$o.As()}Ne(c){c=Math.floor(c);if(0>c||c>=this.Ic.length)throw new RangeError("invalid index");return this.Ic[c]}Zw(c){return this.TH.get(c.toLowerCase())||
null}$w(c){return this.UH.get(c)||null}*mca(){for(const c of this.Ic)c.eb||(yield*c.gU())}Ib(){return this.Lb}Og(c){c.sf=this.Ei;const g=this.pb&&!this.oa.yx();g&&b.lE();this.Pd.dispatchEvent(c);g&&b.ZB()}wn(c){c.sf=this.Ei;return this.Pd.uJ(c)}l3(c,g){if(this.Cg!==c||this.Bg!==g)this.Cg=c,this.Bg=g,c=this.Ya,c.$n(),c.Zn()}ft(c,g){if(this.lf!==c||this.kf!==g)this.lf=c,this.kf=g,c=this.Ya,c.$n(),c.Zn()}x$(c){this.Gq=c}dj(){return this.Gq}fj(){return this.N?this.N.fj():this.lf}Rh(){return this.N?this.N.Rh():
this.kf}Sl(){return this.N?this.N.Sl():1}ej(){return this.N?this.N.ej():1}rs(){return this.N?this.N.rs():1}qs(){return this.N?this.N.qs():1}ks(){return this.N?this.N.ks():0}ls(){return this.N?this.N.ls():0}uY(){return this.N?this.N.Kc:0}tY(){return this.N?this.N.yc:0}Sw(){return this.N?this.N.Sw():"off"}gs(c){return this.N?this.N.gs(c):null}Un(c){this.N&&this.N.Un(c)}Uw(){return this.N?this.N.Uw():NaN}sD(){return"nearest"!==this.Ad}Y1(){this.Zq&&(this.Zq.m(),this.Zq=null)}Jb(){return this.Ya.Jb()}zD(c){return this.lb.zD(c)}KK(c,
g,n,h,l){return this.Ph(c,g,!1,n,h,!1,l,void 0,l)}Ph(c,g,n,h,l,m,p,q,u){var r=null;let v=null;c instanceof e.BD?(v=c,v.eb&&(r=v.Bo,v=r[Math.floor(this.Wp()*r.length)]),r=v.Fq):(r=c,v=this.Ne(r[1]));c=v.wb().wg;if(this.Lj&&c&&!v.Bba)return null;const w=g;c||(g=null);var y=n&&!m&&r&&!this.Jo.has(r[2])?r[2]:this.Yu++;const A=r?r[0]:null,G=e.j(e.Instance,{sf:this,OJ:v,oU:g,YU:A,fU:r?r[3]:null,uid:y});this.Jo.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.gi(h),y.hi(l)),
v.lQ());g&&(u||g.mg(G,!0),1===g.Ld&&1===g.Md||v.kF(!0),g.Vb().nM(v));this.VH++;let z=!0;q&&(q=q.H(),q.Wb()&&v.Wb()&&v.qg===q.qg&&(z=!1));if(v.Wb()&&!n&&!m&&z){for(var F of v.qg.ml)F!==v&&(q=this.Ph(F,w,!1,y?y.ga():h,y?y.ia():l,!0,!1,void 0,u),G.lq(q));for(var I of G.Bd){I.lq(G);for(const J of G.Bd)I!==J&&I.lq(J)}}c&&!n&&p&&this.zE(G,A,y,g,h,l,u);if(v.Wb()&&!n&&!m&&p)for(const J of G.Bd)if(n=J.A())F=J.wb(),I=J.H().Fq[0],F.wg?this.zE(J,I,n,g,n.ga(),n.ia(),u):this.zE(J,I,n,g,void 0,void 0,u);!m&&p&&
("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.mx(),h=h-y.ga()+g.ga(),l=l-y.ia()+g.ia(),g.im(h,l));v.Et();l=r?e.qJ(r[5]):null;r=r?r[4].map(J=>e.qJ(J)):null;c&&A&&A[13]&&G.J$();G.ey(l,r);this.xm.push(G);this.Ez=!0;this.pb&&b.eha(G);return G}zE(c,g,n,h,l,m,p){var q=n.pZ(),u=n.yL();c.A().cE(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof m&&(m=g[1]);q=new Set;n=g[0];g=g[1];for(const A of u){var r=A[1],v=A[2];u=A[3];var w=!!A[4];const G=A[5];v=this.Ya.NC(A[0]).W(r).QY(v);
r=this.Ne(v[1]);var y=c.MZ(r);const z=q.has(r);y&&!z&&w?(w=c.EL(r),y=l+v[0][0]-n,v=m+v[0][1]-g,w.A().im(y,v),w.A().cE(G),c.Kl(w,{Ur:!!(u>>0&1),Vr:!!(u>>1&1),tp:!!(u>>2&1),sp:!!(u>>3&1),Tr:!!(u>>4&1),Lv:!!(u>>5&1),Wr:!!(u>>6&1)}),q.add(r)):(r=this.Ph(v,h,!1,l+v[0][0]-n,m+v[0][1]-g,!1,!0,c,p),r.A().cE(G),c.Kl(r,{Ur:!!(u>>0&1),Vr:!!(u>>1&1),tp:!!(u>>2&1),sp:!!(u>>3&1),Tr:!!(u>>4&1),Lv:!!(u>>5&1),Wr:!!(u>>6&1)}))}}}vn(c){if(!this.Ko.has(c)){var g=c.H(),n=this.Lz.get(g);if(n){if(n.has(c))return;n.add(c)}else n=
new Set,n.add(c),this.Lz.set(g,n);this.pb&&b.fha(c);c.VE();this.Ez=!0;if(c.Wb())for(const h of c.Bd)this.vn(h);for(const h of c.children())h.Pw()&&this.vn(h);this.Ya.ZL()||this.Mj||(g=this.ea(),g.uf(!0),c.naa(),g.uf(!1));c.F6(this.Ya.ZL())}}Ed(){this.Ez&&(this.H6(),this.I6(),this.Ez=!1,this.$())}H6(){for(const c of this.xm){const g=c.H();g.mg(c);for(const n of g.jh)n.mg(c),n.Et()}e.D(this.xm)}I6(){this.Lb.bq(!0);for(const [c,g]of this.Lz.entries())this.J6(c,g),g.clear();this.Lz.clear();this.Lb.bq(!1)}J6(c,
g){for(const h of g){var n=this.Ao.instancedestroy;n.instance=h;this.Lb.dispatchEvent(n);this.Jo.delete(h.kc);if(n=h.A())n.YP(),n.ZP(),n.VE();this.Ko.add(h);this.VH--}e.Tf(c.fa(),g);c.Et();this.Mz.add(c);0===c.fa().length&&c.kF(!1);for(const h of c.jh)e.Tf(h.fa(),g),h.Et(),this.Mz.add(h);if(c.wb().wg){c=new Set([...g].map(h=>h.A().W()));for(const h of c)h.x9(g)}}*DJ(c){for(const g of this.xm)c.eb?g.H().cC(c)&&(yield g):g.H()===c&&(yield g)}X6(){return this.Yu++}i8(c,g){this.Jo.set(c,g)}Ct(){this.Lb.dispatchEvent(e.j(e.Event,
"webglcontextlost"));this.dt(!0);for(var c of this.Ic)!c.eb&&c.KZ()&&c.Xp();(c=this.Jb())&&c.Ct();e.fD.Fx();e.PL.Fx()}async bF(){await this.Jb().RE(null,this.In());this.Lb.dispatchEvent(e.j(e.Event,"webglcontextrestored"));this.dt(!1);this.$()}c9(c){this.dt(c.hidden)}d9(c){this.Rp()&&this.FS&&!e.Gc.uD&&!c.data.parentHasFocus&&(this.dt(!0),this.mH=!0)}e9(){this.mH&&(this.dt(!1),this.mH=!1)}$P(){const c=this.gca;"vsync"===this.DG?-1===this.ee&&(this.ee=self.requestAnimationFrame(c.uU)):"unlimited-tick"===
this.DG?(-1===this.rl&&(this.rl=e.ND(c.Zda)),-1===this.ee&&(this.ee=self.requestAnimationFrame(c.Ida))):-1===this.rl&&(this.rl=e.ND(c.uU))}d5(){-1!==this.ee&&(self.cancelAnimationFrame(this.ee),this.ee=-1);-1!==this.rl&&(e.TV(this.rl),this.rl=-1)}$l(){return 0<this.pr}dt(c){var g=this.$l();this.pr+=c?1:-1;0>this.pr&&(this.pr=0);c=this.$l();!g&&c?(console.log("[Construct 3] Suspending"),this.d5(),this.Lb.dispatchEvent(e.j(e.Event,"suspend")),this.ua(e.C.ab.J.s1,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.Do=this.jA=g=performance.now(),this.gl=this.sA=this.xz=this.yz=0,this.Lb.dispatchEvent(e.j(e.Event,"resume")),this.ua(e.C.ab.J.p1,null,null),this.Gs()||this.Ve(g))}G4(c){this.om.Uc(c)}z9(c){this.om.Vg(c)}y9(c){this.so.Vg(c)}A9(c){this.to.Vg(c)}U4(){this.om.Wg(!0);for(const c of this.om)c.Ve();this.om.Wg(!1)}T4(){this.so.Wg(!0);for(const c of this.so);this.so.Wg(!1)}V4(){this.to.Wg(!0);for(const c of this.to);this.to.Wg(!1)}*z5(){this.om.Wg(!0);for(const c of this.om){const g=c.Ve();e.Yl(g)&&
(yield*g)}this.om.Wg(!1)}*y5(){this.so.Wg(!0);for(const c of this.so)e.Yl(void 0)&&(yield*void 0);this.so.Wg(!1)}*A5(){this.to.Wg(!0);for(const c of this.to)e.Yl(void 0)&&(yield*void 0);this.to.Wg(!1)}async Ve(c,g,n){this.GR=!0;const h="background-wake"===n;n="background-wake"!==n&&"skip-render"!==n;this.Fz&&(!this.$l()||g||h)&&(g=performance.now(),this.Uz=!0,this.o8(c||0),c=this.T3(),this.Yd&&await c,c=this.Lb.Nca(this.Ao.pretick),c instanceof Promise&&await c,c=this.S3(),this.Yd&&await c,this.t8()&&
await this.l7(),this.Ya.Qp()&&await this.k8(),c=this.U3(),this.Yd&&await c,n&&this.Wn(),this.$l()||h||this.$P(),this.Sj++,this.Qm++,this.nz++,this.Uz=!1,this.gl+=performance.now()-g)}async T3(){const c=this.oa,g=this.pb;this.Ed();c.uf(!0);this.Qs(this.Jb());g&&b.kq();this.Yd?await c.FW():c.x2();g&&b.iV();this.Ps();c.uf(!1);this.Ed();c.uf(!0)}async S3(){const c=this.pb,g=this.Yd,n=this.Lb,h=this.Ao,l=this.xT;c&&b.kq();g?await this.Bw(this.z5()):this.U4();g?await this.Bw(this.y5()):this.T4();c&&b.eV();
c&&b.kq();g?await this.NK(h.tick):n.dispatchEvent(h.tick);c&&b.nV();this.oa.uf(!1);this.Og(l.tick)}async U3(){const c=this.oa,g=this.Lb,n=this.Ao,h=this.pb,l=this.Yd;h&&b.kq();l?await c.DW(this.Ya):c.v2(this.Ya);h&&b.iV();this.ti.zK();this.WP();this.jH=!1;c.uf(!0);h&&b.kq();l?await this.Bw(this.A5()):this.V4();h&&b.eV();h&&b.kq();l?await this.NK(n.tick2):g.dispatchEvent(n.tick2);h&&b.nV();c.uf(!1);l&&await c.$M()}WP(){if(0!==this.Ko.size){var c=this.Lb;c.bq(!0);for(const g of this.Mz)g.Nm.Vn(this.Ko);
this.Mz.clear();this.oa.b2(this.Ko);for(const g of this.Ko)g.m();this.Ko.clear();c.bq(!1)}}async k8(){const c=this.Ya;let g=0;for(;c.Qp()&&10>g++;)await this.DO(c.Zu)}o8(c){let g=0;0!==this.jA&&(g=Math.max(c-this.jA,0)/1E3,.5<g&&(g=0),this.ju=Math.min(g,1/this.wS));this.jA=c;this.iu=this.ju*this.pd;this.HG.Uc(this.iu);this.IG.Uc(g*this.pd);this.aJ.Uc(this.ju);this.N&&this.N.yaa();1E3<=c-this.Do&&(this.Do+=1E3,1E3<=c-this.Do&&(this.Do=c),this.xz=this.yz,this.yz=0,this.sA=Math.min(this.gl/1E3,1),this.gl=
0,this.N&&this.N.raa(),this.pb&&b.hna());this.yz++}async DO(c){const g=this.Lb,n=this.Ya.Jb();await n.iaa();n.qaa(c,this.kb());n===c&&this.oa.ow();this.ti.zK();this.WP();g.dispatchEvent(this.Ao.beforelayoutchange);e.fk.pN(!0);await c.RE(n,this.kb());e.fk.pN(!1);await c.AQ(!1);g.dispatchEvent(this.Ao.layoutchange);this.$();this.jH=!0;this.Ed()}$(){this.QH=!0}In(){return this.N?this.N.In():null}Es(){return this.N?this.N.Es():null}kb(){return this.N?this.N.kb():null}Wn(){const c=this.N;if(c&&!c.Z_()){var g=
this.kb(),n=g.xj(),h=n&&g.wk();n=n&&!1;h&&g.WV();if(this.QH){var l=this.Ya.Jb();g.gt();var m=this.pb;m&&b.kq();this.QH=!1;var p=null;h&&(p=c.Cz.$B(),g.mE(p));h=null;n&&(h=g.qma(2*(1+l.Pb.length)),g.z4(0));this.yl&&"low"===c.mh?g.V2(c.fj(),c.Rh()):g.F2();this.G9(this.kb(),l);p&&g.sC(p);n&&(g.z4(1),this.N.S4(h));g.es();m&&(b.Jea(),b.ina());c&&c.m8()}else g.d_()}}G9(c,g){c.vj();c.fN();c.Te(1,1,1,1);c.ig(null);c.jg(null);c.hg(this.yl);g.aj(c)}ua(c,g,n){if(!this.Fz)return!1;var h=!this.Uz&&!this.oa.rD();
let l=0;h&&(l=performance.now());const m=this.pb;m&&this.Px(!1);c=this.oa.Jt(this.Ya,c,g,n);h&&(h=performance.now()-l,this.gl+=h,m&&b.Uea(h));m&&this.Px(!0);return c}async vd(c,g,n){if(!this.Yd)return this.ua(c,g,n);if(!this.Fz)return!1;if(this.Gs())return this.oa.U1(c,g,n);if(!this.Jb())return this.oa.JD(c,g,n);const h=performance.now();c=this.oa.lt(this.Ya,c,g,n);for(g=c.next();!g.done;)await this.Ap(g.value),g=c.next();this.$l()||this.oa.rD()||(await this.oa.$M(),this.GR&&!this.Uz&&this.$P());
this.gl+=performance.now()-h;return g.value}Qs(c){this.eu.push(c)}Ps(){if(!this.eu.length)throw Error("layout stack empty");this.eu.pop()}Ia(){return this.eu.length?this.eu.Qd(-1):this.Jb()}hL(c){return c&&-1!==c.pd?this.ju*c.pd:this.iu}eE(c){if(isNaN(c)||0>c)c=0;this.pd=c}yN(c){this.wS=e.da(c,1,120)}Pl(){return this.HG.Y()}LC(){return this.IG.Y()}WC(){return this.aJ.Y()}uk(){++this.nz}Pg(c){if(this.Mj)throw Error("cannot call while loading state - wait until afterload event");return this.Jo.get(c)||
null}UP(){this.Jo.clear();for(const c of this.Ic)if(!c.eb)for(const g of c.fa())this.Jo.set(g.kc,g)}Rp(){return"preview"===this.Ci}Q_(){return"cordova"===this.Ci}K_(){return"Android"===e.Gc.Tp&&("cordova"===this.Ci||"playable-ad"===this.Ci||"instant-games"===this.Ci)}o3(c){c=!!c;this.Po!==c&&(this.Po=c,this.Ya.Zn(),this.$())}z2(c){this.gv=c}q0(c){this.Qu=c}yD(c){this.Xq=c}t8(){return!(!this.gv&&!this.Qu&&null===this.Xq)}async l7(){this.gv&&(this.Ed(),await this.c6(this.gv),this.xE());this.Qu&&(await this.b6(this.Qu),
this.xE(),this.pb&&b.sma());if(null!==this.Xq){this.Ed();try{await this.EO(this.Xq),this.To=this.Xq,await this.vd(e.C.ab.J.BM,null),this.To=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.vd(e.C.ab.J.CM,null)}this.xE()}}xE(){this.Qu=this.gv="";this.Xq=null}c7(){this.gI||(this.gI=localforage.rJ({name:"c3-localstorage-"+this.hI,description:this.IA}));return this.gI}eP(){this.oI||(this.oI=localforage.rJ({name:"c3-savegames-"+this.hI,description:this.IA}));
return this.oI}async c6(c){const g=await this.m$();try{await this.eP().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.To=g,await this.vd(e.C.ab.J.q1,null),this.To=""}catch(n){console.error("[Construct 3] Failed to save state to storage: ",n),await this.vd(e.C.ab.J.r1,null)}}async b6(c){try{const g=await this.eP().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.EO(g);this.To=
g;await this.vd(e.C.ab.J.BM,null);this.To=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.vd(e.C.ab.J.CM,null)}}async m$(){const c={c3save:!0,version:1,rt:{time:this.Pl(),timeRaw:this.LC(),walltime:this.WC(),timescale:this.pd,tickcount:this.Sj,execcount:this.nz,next_uid:this.Yu,running_layout:this.Jb().fb,start_time_offset:Date.now()-this.Om},types:{},layouts:{},events:this.oa.ba(),timelines:this.zb.ba(),user_script_data:null};for(var g of this.Ic)g.eb||
g.ML()||(c.types[g.fb.toString()]=g.ba());for(const n of this.Ya.oi)c.layouts[n.fb.toString()]=n.ba();g=this.CE("save");g.saveData=null;await this.wn(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async EO(c){var g=this.Ya;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Lb.dispatchEvent(e.j(e.Event,"beforeload"));for(var n of this.mca())n.vy();
this.Mj=!0;n=c.rt;this.HG.Set(n.time);n.hasOwnProperty("timeRaw")&&this.IG.Set(n.timeRaw);this.aJ.Set(n.walltime);this.pd=n.timescale;this.Sj=n.tickcount;this.nz=n.execcount;this.Om=Date.now()-n.start_time_offset;var h=n.running_layout;if(h!==this.Jb().fb)if(h=g.NC(h))await this.DO(h);else return;for(const [l,m]of Object.entries(c.types))h=this.$w(parseInt(l,10)),!h||h.eb||h.ML()||h.ja(m);this.Ed();this.UP();this.Mj=!1;this.Yu=n.next_uid;for(const [l,m]of Object.entries(c.layouts))(n=g.NC(parseInt(l,
10)))&&n.ja(m);this.oa.ja(c.events);for(const l of this.Ic)if(!l.eb&&l.Wb())for(const m of l.fa()){n=m.zn();for(const p of l.qg.ml)if(p!==l){h=p.fa();if(0>n||n>=h.length)throw Error("missing sibling instance");m.lq(h[n])}}this.zb.ja(c.timelines);g.$n();g.Zn();this.Lb.dispatchEvent(e.j(e.Event,"afterload"));g=this.CE("load");g.saveData=c.user_script_data;await this.wn(g);this.$()}async lV(c){c=(await Promise.all(c.map(g=>this.lb.ik(g)))).map(g=>URL.createObjectURL(g));this.Ju.c_(c)}jV(){this.Ju.B2()}kV(c){this.Ju.C2(c)}XB(c,
g,n){return this.Ju.XB(c,g,n)}jD(c,g){this.yk("runtime","invoke-download",{url:c,filename:g})}async V1(c){var g=g||2048;var n=n||2048;return this.Zd?(await this.Rn("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:n,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,n)}Zp(){this.eR||(this.eR=!0,this.yk("runtime","enable-device-orientation"))}cm(){this.dR||(this.dR=!0,this.yk("runtime","enable-device-motion"))}Wp(){return this.Xba()}d7(){const c=
this.In();return{fps:this.xz,cpu:this.sA,gpu:this.Uw(),layout:this.Jb()?this.Jb().Aa():"",renderer:c?c.Cv:"<unavailable>"}}Gs(){return this.pb?b.Gs():!1}Ap(c){return this.Yd?b.Ap(c):Promise.resolve()}lc(){return this.Yd?b.tfa():!1}Px(c){c?this.mG--:this.mG++;this.taa()}taa(){this.Yd=this.pb&&this.Uaa&&0===this.mG}kD(){return this.pb&&b.kD()}pD(){return this.pb&&this.kb().xj()&&b.pD()}async Bw(c){if(c)for(const g of c)await this.Ap(g)}NK(c){return this.Bw(this.Lb.Oca(c))}uy(c){return this.oa.uy(c.name,
c.params)}CE(c){c=e.j(e.Event,c,!1);c.sf=this.Ei;return c}w7(){var c={};for(const g of this.Ic)c[g.Vh()]={value:g.tu,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Ei=new self.XZ(this,c);this.xT={tick:this.CE("tick")}}s7(){const c={};for(const g of this.ea().IF)c[g.Vh()]=g.fP();this.Ei.t7(c)}AP(c,g){this.sba.set(c,g)}};self.C3_CreateRuntime=e.aN.Ma;self.C3_InitRuntime=(c,g)=>c.Ul(g)}
{"use strict";const e=self.B;e.h0=class extends e.aa{constructor(b,a){super();this.g=b;this.Qo=new Map;this.Qba=0;this.wu=a.inputPort;a.outputPort.onmessage=d=>this.NP(d);this.oS=a.maxNumWorkers;this.Ku=1;this.zR=this.zu=!1}async Ul(){}c_(b){this.wu.postMessage({type:"_import_scripts",scripts:b})}B2(){this.wu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}C2(b){this.wu.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}XB(b,a,d){d||(d=[]);const c=this.Qba++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((g,n)=>{this.Qo.set(c,{resolve:g,progress:void 0,reject:n,pJ:!1})});this.wu.postMessage(b,d);this.BP();return a}NP(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.M8(d,b.result);break;case "progress":this.L8(d,b.progress);break;case "error":this.K8(d,b.error);break;case "ready":this.N8();break;default:throw Error(`unknown message from worker '${a}'`);}}M8(b,a){const d=this.Qo.get(b);if(!d)throw Error("invalid job ID");
d.pJ||d.resolve(a);this.Qo.delete(b)}L8(b,a){b=this.Qo.get(b);if(!b)throw Error("invalid job ID");!b.pJ&&b.progress&&b.progress(a)}K8(b,a){const d=this.Qo.get(b);if(!d)throw Error("invalid job ID");d.pJ||d.reject(a);this.Qo.delete(b)}N8(){this.zu&&(this.zu=!1,this.Ku++,this.Ku<this.oS?this.BP():this.wu.postMessage({type:"_no_more_workers"}))}async BP(){if(!(this.Ku>=this.oS||this.zu||this.zR||this.Qo.size<=this.Ku))try{this.zu=!0,(await this.g.Rn("runtime","create-job-worker")).outputPort.onmessage=
b=>this.NP(b)}catch(b){this.zR=!0,this.zu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Ku} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const e=self.B;let b=null,a="",d="",c=[],g="",n="",h="";const l=e.j(e.yV);function m(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.C.ab=class extends e.Xn{constructor(p){super(p);this.df=this.g.ea().df;this.xd=this.g.ea().Wc();this.uu=this.Ho=0;this.tR=new Map}m(){super.m()}$(){this.g.$()}ua(p){this.g.ua(p,null,null)}gx(p,q){b&&p===a&&q===d||(b=new RegExp(p,q),a=p,d=q);b.lastIndex=0;return b}xL(p,q,u){if(p===g&&q===n&&
u===h)return c;const r=this.gx(q,u);c=p.match(r);g=p;n=q;h=u;return c}async TE(p,q){if(q.length){this.Ho+=q.length;var u=[];for(const r of q)u.push(p.nM(r));await e.P1(u,()=>{this.uu++});this.uu++;this.uu===this.Ho&&(this.g.ua(e.C.ab.J.$0,null,null),this.Ho=this.uu=0)}}DQ(p,q){for(const u of q)0===u.F.length&&p.B0(u)}XO(){return l}I9(p){var q=this.g.ea();const u=q.Wc(),r=u.Me(),v=r.Ab(),w=v.ld();var y=r.oj();const A=u.Na(v),G=q.df,z=G.Na();if(y)for(y=0;y<p&&!z.pc;++y)q.re(w),z.vc(y),v.eg(r,A),q.Fb(w);
else for(q=0;q<p&&!z.pc;++q)z.vc(q),v.eg(r,A);u.Ja();G.Ja();return!1}*G5(p){var q=this.g.ea();const u=q.Wc(),r=u.Me(),v=r.Ab(),w=v.ld();var y=r.oj();const A=u.Na(v),G=q.df,z=G.Na();if(y)for(y=0;y<p&&!z.pc;++y)q.re(w),z.vc(y),yield*v.Wf(r,A),q.Fb(w);else for(q=0;q<p&&!z.pc;++q)z.vc(q),yield*v.Wf(r,A);u.Ja();G.Ja();return!1}Eaa(){var p=this.g.ea();const q=p.Wc(),u=q.Me(),r=u.Ab(),v=r.ld();var w=u.oj();const y=q.Na(r),A=p.df,G=A.Na();if(w)for(w=0;!G.pc;++w)p.re(v),G.vc(w),r.eg(u,y)||G.ue(),p.Fb(v);else for(p=
0;!G.pc;++p)G.vc(p),r.eg(u,y)||G.ue();q.Ja();A.Ja();return!1}*Z5(){var p=this.g.ea();const q=p.Wc(),u=q.Me(),r=u.Ab(),v=r.ld();var w=u.oj();const y=q.Na(r),A=p.df,G=A.Na();if(w)for(w=0;!G.pc;++w)p.re(v),G.vc(w),(yield*r.Wf(u,y))||G.ue(),p.Fb(v);else for(p=0;!G.pc;++p)G.vc(p),(yield*r.Wf(u,y))||G.ue();q.Ja();A.Ja();return!1}K6(p,q,u){var r=this.g.ea();const v=r.Wc(),w=v.Me(),y=w.Ab(),A=y.ld(),G=w.oj(),z=v.Na(y),F=r.df,I=F.Na();I.Ux(p);if(u<q)if(G)for(p=q;p>=u&&!I.pc;--p)r.re(A),I.vc(p),y.eg(w,z),r.Fb(A);
else for(r=q;r>=u&&!I.pc;--r)I.vc(r),y.eg(w,z);else if(G)for(p=q;p<=u&&!I.pc;++p)r.re(A),I.vc(p),y.eg(w,z),r.Fb(A);else for(r=q;r<=u&&!I.pc;++r)I.vc(r),y.eg(w,z);v.Ja();F.Ja();return!1}*D5(p,q,u){var r=this.g.ea();const v=r.Wc(),w=v.Me(),y=w.Ab(),A=y.ld(),G=w.oj(),z=v.Na(y),F=r.df,I=F.Na();I.Ux(p);if(u<q)if(G)for(p=q;p>=u&&!I.pc;--p)r.re(A),I.vc(p),yield*y.Wf(w,z),r.Fb(A);else for(r=q;r>=u&&!I.pc;--r)I.vc(r),yield*y.Wf(w,z);else if(G)for(p=q;p<=u&&!I.pc;++p)r.re(A),I.vc(p),yield*y.Wf(w,z),r.Fb(A);
else for(r=q;r<=u&&!I.pc;++r)I.vc(r),yield*y.Wf(w,z);v.Ja();F.Ja();return!1}L6(p){var q=this.g.ea();const u=q.Wc(),r=u.Me(),v=r.Ab(),w=v.ld();var y=r.oj();const A=u.Na(v),G=q.df,z=G.Na(),F=p.Wb(),I=p.R(),J=l.Na();e.Dc(J,I.fa());if(y)for(let M=0,P=J.length;M<P&&!z.pc;++M)q.re(w),y=J[M],p.R().Fk(y),F&&y.fi(),z.vc(M),v.eg(r,A),q.Fb(w);else{I.We(!1);p=I.F;e.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.pc;++M)q=J[M],p[0]=q,F&&q.fi(),z.vc(M),v.eg(r,A)}u.Ja();G.Ja();e.D(J);l.Ja();return!1}*E5(p){var q=
this.g.ea();const u=q.Wc(),r=u.Me(),v=r.Ab(),w=v.ld();var y=r.oj();const A=u.Na(v),G=q.df,z=G.Na(),F=p.Wb(),I=p.R(),J=l.Na();e.Dc(J,I.fa());if(y)for(let M=0,P=J.length;M<P&&!z.pc;++M)q.re(w),y=J[M],p.R().Fk(y),F&&y.fi(),z.vc(M),yield*v.Wf(r,A),q.Fb(w);else{I.We(!1);p=I.F;e.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.pc;++M)q=J[M],p[0]=q,F&&q.fi(),z.vc(M),yield*v.Wf(r,A)}u.Ja();G.Ja();e.D(J);l.Ja();return!1}M6(p,q){var u=this.g.ea();const r=u.Wc(),v=u.vf(),w=r.Me(),y=w.Ab(),A=y.ld(),G=w.oj(),
z=r.Na(y),F=u.df,I=F.Na(),J=p.Wb(),M=p.R(),P=l.Na();e.D(P);const R=M.fa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],v.Ss(1,T)]);P.sort(m);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u.re(A),q=P[T][0],p.R().Fk(q),J&&q.fi(),I.vc(T),y.eg(w,z),u.Fb(A);else{M.We(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u=P[T][0],p[0]=u,J&&u.fi(),I.vc(T),y.eg(w,z)}r.Ja();F.Ja();e.D(P);l.Ja();return!1}*F5(p,q){var u=this.g.ea();const r=u.Wc(),v=u.vf(),w=r.Me(),y=w.Ab(),A=y.ld(),
G=w.oj(),z=r.Na(y),F=u.df,I=F.Na(),J=p.Wb(),M=p.R(),P=l.Na();e.D(P);const R=M.fa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],v.Ss(1,T)]);P.sort(m);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u.re(A),q=P[T][0],p.R().Fk(q),J&&q.fi(),I.vc(T),yield*y.Wf(w,z),u.Fb(A);else{M.We(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u=P[T][0],p[0]=u,J&&u.fi(),I.vc(T),yield*y.Wf(w,z)}r.Ja();F.Ja();e.D(P);l.Ja();return!1}my(p,q){let u=this.tR.get(p);if(u)return u;if(!q)return null;
u={gn:null,OB:new Map};this.tR.set(p,u);return u}a6(p,q,u,r,v){q.ne().u2(u);r&&p.Fb(v)}*B5(p,q,u,r,v){yield*q.ne().BW(u);r&&p.Fb(v)}}}{"use strict";const e=self.B;e.C.ab.fo=class extends e.aa{constructor(b){super();this.K=b;this.g=b.G();this.vh=b.wb()}m(){this.vh=this.g=this.K=null}}}{"use strict";const e=self.B;e.C.ab.Instance=class extends e.aa{constructor(b){super();this.na=b;this.K=this.na.H();this.od=this.K.od;this.g=this.na.G()}m(){this.g=this.od=this.K=this.na=null}}}
{"use strict";const e=self.B,b=[];e.C.ab.J={rga(){return!0},AM(){return!0},b1(){return!0},s1(){return!0},p1(){return!0},$l(){return this.g.$l()},RX(){const a=this.g.Le();return a.tG?!1:!a.Ro},e4(){const a=this.g.vf().qk();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Sj;a.set("TriggerOnce_lastTick",c);return this.g.jH||d!==c-1},qga(a){const d=this.g.vf().qk(),c=d.get("Every_lastTime")||0,g=this.g.Pl();d.has("Every_seconds")||d.set("Every_seconds",
a);const n=d.get("Every_seconds");if(g>=c+n)return d.set("Every_lastTime",c+n),g>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",g),d.set("Every_seconds",a),!0;g<c-.1&&d.set("Every_lastTime",g);return!1},Op(a){return(a=this.g.ea().jL(a))&&a.Op()},Rp(){return this.g.Rp()},uD(){return e.Gc.uD},e1(){return!0},R0(){return!0},lga(){return!0},q1(){return!0},r1(){return!0},BM(){return!0},CM(){return!0},Hia(a){return!!this.g.Pg(a)},Hha(a){switch(a){case 0:return"browser"===e.Gc.lC;case 1:return"iOS"===
e.Gc.Tp;case 2:return"Android"===e.Gc.Tp;case 8:return"cordova"===e.Gc.lC;case 9:return"scirra-arcade"===this.g.Ci;case 10:return"nwjs"===e.Gc.lC;case 13:return"windows-uwp"===this.g.Ci;default:return!1}},Nja(a,d,c){return this.gx(d,c).test(a)},fW(a,d,c){return e.compare(a,d,c)},Ifa(a,d,c){return a>=d&&a<=c},iW(a,d,c){return e.compare(a.mc(),d,c)},gW(a){return!!a.mc()},Ofa(a,d){const c=this.g.Pl();return 0===a?(a=this.g.vf().qk(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",
!0),!0):!1):e.compare(c,a,d)},Eha(a){return isNaN(a)},sV(a,d,c){return e.Gr(e.Wa(a),e.Wa(c))<=e.Wa(d)},O_(a,d){return e.mf(e.Wa(a),e.Wa(d))},M_(a,d,c){a=e.Wa(a);d=e.Wa(d);c=e.Wa(c);return e.mf(c,d)?e.mf(a,d)&&!e.mf(a,c):!(!e.mf(a,d)&&e.mf(a,c))},Tha(a,d){return"number"===typeof a?0===d:1===d},pga(a){return!!a},fja(a,d,c,g){if(!a)return!1;const n=this.XO(),h=n.Na(),l=a.R();e.Dc(h,l.fa());l.Ob&&e.D(l.Rb);const m=this.g.vf();let p=0;for(let q=0,u=h.length;q<u;++q){const r=h[q];h[p]=r;d=m.Ss(1,q);g=m.Ss(3,
q);e.compare(d,c,g)?++p:l.Ok(r)}e.Je(h,p);l.Ws(h);d=!!h.length;e.D(h);n.Ja();a.Ub();return d},gja(a,d){if(!a)return!1;const c=this.XO(),g=c.Na(),n=a.R();e.Dc(g,n.fa());n.Ob&&e.D(n.Rb);const h=this.g.vf();let l=0;for(let m=0,p=g.length;m<p;++m){const q=g[m];g[l]=q;(d=h.Ss(1,m))?++l:n.Ok(q)}e.Je(g,l);n.Ws(g);d=!!g.length;e.D(g);c.Ja();a.Ub();return d},mja(a,d){if(!a)return!1;const c=a.R(),g=c.fa();d=Math.floor(d);if(d>=g.length)return!1;c.am(g[d]);a.Ub();return!0},qja(a){if(!a)return!1;const d=a.R(),
c=d.fa(),g=Math.floor(this.g.Wp()*c.length);if(g>=c.length)return!1;d.am(c[g]);a.Ub();return!0},eja(a){if(!a||!a.F.length)return!1;a.R().We(!0);a.Ub();return!0},oja(a,d,c){if(!a)return!1;const g=a.R();var n=g.fa();const h=this.g.Ab().yd,l=this.g.vf().Hi;g.Ob?(e.Dc(b,n),g.pw(),g.We(!1)):h?(e.Dc(b,g.Rb),e.D(g.Rb)):(e.Dc(b,g.F),e.D(g.F));for(let m=0,p=b.length;m<p;++m)n=b[m],e.xor(n.A().Zr(d,c),l)?g.tq(n):g.Ok(n);a.Ub();return e.xor(!!g.F.length,l)},lja(a){if(!a)return!1;var d=a.eb;let c=null;const g=
this.g.xm;for(let n=g.length-1;0<=n;--n){const h=g[n];if(d){if(h.H().cC(a)){c=h;break}}else if(h.H()===a){c=h;break}}c||(d=a.fa(),d.length&&(c=d.Qd(-1)));if(!c)return!1;a.R().am(c);a.Ub();return!0},Sja(a){return this.g.Yd?this.G5(a):this.I9(a)},una(){return this.g.Yd?this.Z5():this.Eaa()},hY(a,d,c){return this.g.Yd?this.D5(a,d,c):this.K6(a,d,c)},aL(a){return this.g.Yd?this.E5(a):this.L6(a)},Cga(a,d,c){return this.g.Yd?this.F5(a,c):this.M6(a,c)},bia(a){return a?a.Fc():!1},Zha(a){return a?!a.F.length:
!1},Yha(a,d,c){return a?e.compare(100*a.pe(),d,c):!1},$0(){return!0},Cha(){return 0<this.Ho}}}
{"use strict";const e=self.B;function b(h,l){const m=h[0]-l[0];return 0!==m?m:h[1]-l[1]}function a(h,l){return h[1]-l[1]}const d=[],c=[],g=e.j(e.Rect),n=e.j(e.Za);e.C.ab.rd={G3(h,l){h.te(l)},Vea(h,l){h.Zl()&&"number"!==typeof l&&(l=parseFloat(l));h.te(h.mc()+l)},Gma(h,l){h.Zl()&&h.te(h.mc()-l)},J2(h,l){h.te(!!l)},Oma(h){h.te(!h.mc())},Fka(){this.g.ea().k2()},vW(h,l,m,p,q){h&&l&&(m=this.g.KK(h,l,m,p,q))&&(q&&l.NN(m),l=this.g.ea(),l.uf(!0),m.vF(),l.uf(!1),h.R().Fk(m),m.Wb()&&m.fi())},bga(h,l,m,p,q){h&&
l&&(h=this.g.Zw(h))&&e.C.ab.rd.vW.call(this,h,l,m,p,q)},Rs(h,l,m,p,q,u,r,v,w,y){if(h){var A=this.g.Ia();if(u&&(A=this.g.Ya.Fp(u),!A))return;u=null;if("number"!==typeof r||0<=r)if(u=A.W(r),!u)return;g.set(l,m,p,q);l=A.Rs(h,g,u,v,w,y);h.R().Ws(l);h.Ub()}},uma(){const h=this.df;h.aM()&&h.Dp().ue()},eq(h,l){(h=this.g.ea().jL(h))&&(0===l?h.eq(!1):1===l?h.eq(!0):h.eq(!h.Op()))},fma(h){this.g.eE(h)},$la(h,l){0>l&&(l=0);if(h){h=h.R().fa();for(const m of h)m.eE(l)}},Jka(h){if(h){h=h.R().fa();for(const l of h)l.r2()}},
tE(h){if(!(0>h))return this.g.ea().YB().F_(h),!0},ona(h){this.g.ea().YB().D_(h);return!0},nna(){const h=this.g.ea();h.YB().r_(h.mZ());return!0},kma(h){h=h.toLowerCase();for(const l of this.g.ea().Nf)l.b0()&&l.mv===h&&l.dE()},async LN(h,l,m,p,q,u){const r=this.g.N;r&&(this.$(),await r.LN(0===h?"image/png":"image/jpeg",l/100,m,p,q,u),await this.g.vd(e.C.ab.J.R0,null))},kla(h,l){if(!(0>=h||0>=l)){this.g.ft(h,l);var m=this.g.Ia();m.jw();for(const p of m.Pb)p.sE();if(m=this.g.N)"off"!==m.ms()&&this.g.l3(h,
l),m.Hd(m.Yj,m.Xj,!0),this.g.$()}},wla(h){const l=this.g.N;l&&"off"!==l.ms()&&(l.oN(0!==h?"high":"low"),l.Hd(l.Yj,l.Xj,!0))},Yn(h){this.g.z2(h)},gia(h){this.g.q0(h)},hia(h){this.g.yD(h)},yla(){},Gka(){for(const h of this.g.Ya.oi)h.p2()},bma(h){this.g.o3(0!==h)},yN(h){this.g.yN(h)},mma(h,l){if(h){var m=h.R().fa(),p=this.g.Ia(),q=h.eb;h=h.kh;for(let r=0,v=m.length;r<v;++r){var u=m[r];const w=u.A();if(!w)continue;let y;y=q?u.oe(l+u.H().JC(h)):u.oe(l);d.push([w.W().Fa(),w.lj()]);c.push([u,y])}if(d.length){d.sort(b);
c.sort(a);l=!1;for(let r=0,v=d.length;r<v;++r)m=c[r][0],q=p.Ww(d[r][0]),h=d[r][1],u=q.F,u[h]!==m&&(u[h]=m,m.A().Ft(q),q.kg(),l=!0);l&&this.g.$();e.D(d);e.D(c)}}},Pga(h){if(!this.g.Lj){var l=this.g.Ya;l.Qp()||l.mw(h)}},Qga(h){if(!this.g.Lj){var l=this.g.Ya;l.Qp()||(h=l.Fp(h))&&l.mw(h)}},Bia(h){if(!this.g.Lj){var l=this.g.Ya;if(!l.Qp()){var m=l.oi,p=m.indexOf(l.Jb());h&&0===p||(h||p!==m.length-1)&&l.mw(m[p+(h?-1:1)])}}},Hka(){if(!this.g.Lj){var h=this.g.Ya;h.Qp()||(h.mw(h.Jb()),this.g.ea().l2())}},
Mla(h,l){h&&h.wj(l)},Gla(h,l){h&&h.Ek(l/100)},Ila(h,l){h&&h.AN(l)},Jla(h,l){h&&h.q3(l)},Ala(h,l){h&&h.Gd(e.Wa(+l))},Kla(h,l,m){h&&(h.at(!0),h.di(l),h.ei(m))},Ika(h){h&&h.at(!1)},Hla(h,l,m){h&&h.m3(l/100,m/100)},Nla(h,l){h&&h.Ue(+l)},Bla(h,l){h&&(n.Rr(l),n.da(),h=h.Sk,h.Dl(n)||(h.Ti(n),this.$()))},Lla(h,l){h&&h.C3(l)},Cla(h,l){h&&h.fg(l)},Dla(h,l,m){h&&(m=h.Ka.lk(m))&&(l=1===l,m.Cb!==l&&(m.Nx(l),h.Yg(),this.g.$()))},Ela(h,l,m,p){if(h&&(h=h.Ka,l=h.lk(l))&&(h=h.kk(l.Fa()),m=Math.floor(m),!(0>m||m>=h.length))){var q=
l.Af().ax(m);if("color"===q){n.Rr(p);m=h[m];if(n.Dl(m))return;m.Ti(n)}else{"percent"===q&&(p/=100);if(h[m]===p)return;h[m]=p}l.Cb&&this.g.$()}},Fla(h,l){h&&h.X2(l)},Sla(h){this.g.Ia().EN(+h)},Ola(h){this.g.Ia().Gd(e.Wa(+h))},Pla(h,l){const m=this.g.Ia();if(l=m.Ka.lk(l))h=1===h,l.Cb!==h&&(l.Nx(h),m.Yg(),this.g.$())},Qla(h,l,m){var p=this.g.Ia().Ka;if(h=p.lk(h))if(p=p.kk(h.Fa()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Af().ax(l);if("color"===q){n.Rr(m);l=p[l];if(n.Dl(l))return;l.Ti(n)}else{"percent"===
q&&(m/=100);if(p[l]===m)return;p[l]=m}h.Cb&&this.g.$()}},Tla(h,l){this.g.Ia().F3(h/100,l/100)},Rla(h){const l=this.g.Ia();0===h?l.CN():l.zN()},cla(h){this.g.Ia().di(h)},dla(h){this.g.Ia().ei(h)},ala(h,l){const m=this.g.Ia();m.di(h);m.ei(l)},bla(h){if(h&&(h=h.ss())&&(h=h.A())){var l=this.g.Ia();l.di(h.ga());l.ei(h.ia())}},async s0(h){const l=this.g.Jb();l&&h&&!this.g.Lj&&await this.TE(l,h.eb?h.Bo:[h])},async fia(h){await e.C.ab.rd.s0.call(this,this.g.Zw(h))},g4(h){const l=this.g.Jb();l&&h&&this.DQ(l,
h.eb?h.Bo:[h])},ena(h){e.C.ab.rd.g4.call(this,this.g.Zw(h))},fna(){const h=this.g.Jb();if(h){var l=h.k7();this.DQ(h,l)}},async dia(h){const l=this.g.Jb();h&&l&&!this.g.Lj&&await this.TE(l,h.YO())},async eia(h){const l=this.g.Jb();(h=this.g.Ya.Fp(h))&&l&&!this.g.Lj&&await this.TE(l,h.YO())},Sx(h){const l=this.xd.wY();if(l)switch(l.uR){case 1:"number"===typeof h&&l.Sx(h);break;case 2:"string"===typeof h&&l.Sx(h);break;case 3:l.Sx(h)}},kia(h,l,m){var p=this.my(h.toLowerCase(),!0);const q=p.OB,u=l.toLowerCase();
q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=e.first(q.values())||p.gn)&&0!==p.ql!==(0!==m.ql)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,m)},lia(h,l){const m=this.my(h.toLowerCase(),!0);m.gn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=e.first(m.OB.values())||m.gn;p&&
0!==p.ql!==(0!==l.ql)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):m.gn=l},yfa(h,l,m){m=Math.floor(m);var p=this.my(h.toLowerCase(),!1);if(p){var q=p.OB.get(l.toLowerCase());if(!q)if(p.gn)q=p.gn,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.On())if(0!==q.ql)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);
else{h=this.g;l=h.ea();var u=l.Ab();p=u.md();var r=0<p.length;r&&l.dg(p);var v=[];if(u=l.uC(u)){u=u.ug;for(let w=m,y=u.length;w<y;++w)v.push(u[w].mc())}m=q.ug;for(let w=v.length,y=m.length;w<y;++w)v.push(m[w].Io);return h.Yd?this.B5(l,q,v,r,p):this.a6(l,q,v,r,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.C.ab.le={dpa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},xoa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Il(b){return b.toString()},Uv(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.Wp()*b:this.g.Wp()*(a-b)+b},zca(...b){return b[Math.floor(this.g.Wp()*b.length)]},Zpa(){return Math.PI},bpa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Aqa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.Wa(b))},cos(b){return Math.cos(e.Wa(b))},tan(b){return Math.tan(e.Wa(b))},asin(b){return e.Jh(Math.asin(b))},acos(b){return e.Jh(Math.acos(b))},atan(b){return e.Jh(Math.atan(b))},exp(b){return Math.exp(b)},pda(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let g=b[d];"number"===typeof g&&a<g&&(a=g)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let g=b[d];"number"===typeof g&&a>g&&(a=g)}return a},da(b,a,d){return e.da(b,a,d)},Mv(b,a,d,c){return e.Hr(b,a,d,c)},angle(b,a,d,c){return e.Jh(e.jJ(b,a,d,c))},Rd(b,a,d){return e.Rd(b,a,d)},PB(b,a,d){return e.PB(b,a,d)},JB(b,a,d,c){return e.JB(b,a,d,c)},UT(b,a,d,c,g){return e.UT(b,
a,d,c,g)},TT(b,a,d){return e.TT(b,a,d)},Pna(b,a){return e.Jh(e.Gr(e.Wa(b),e.Wa(a)))},Qna(b,a,d){return e.Jh(e.hJ(e.Wa(b),e.Wa(a),d))},Rna(b,a,d){return e.Jh(e.iJ(e.Wa(b),e.Wa(a),e.Wa(d)))},Mqa(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},Vqa(b,a){return(b|0)^1<<(a|0)},Voa(b,a){return(b|0)&1<<(a|0)?1:0},Jpa(){return"\n"},$qa(b){return"string"===typeof b?b.toUpperCase():""},Bpa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},bea(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},cea(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.bs(a),"i")):-1},woa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(e.bs(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.bs(a),"gi"),d):"string"===typeof b?b:""},lqa(b,a,d){a=this.gx(a,d);return b?b.search(a):-1},kqa(b,a,d,c){a=this.gx(a,d);return b?b.replace(a,c):""},jqa(b,a,d){return(b=this.xL(b.toString(),a,d))?b.length:0},iqa(b,a,d,c){c=Math.floor(c);b=this.xL(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},nea(b,a){let d=0>b?"-":"";0>b&&(b=-b);
d+="0".repeat(Math.max(a-b.toString().length,0));return d+b.toString()},bra(b){return encodeURIComponent(b)},ara(b){return decodeURIComponent(b)},vJ(){return this.g.iu},Tqa(){return this.g.pd},mra(){return(Date.now()-this.g.Om)/1E3},Yqa(){return Date.now()},time(){return this.g.Pl()},Sqa(){return this.g.Sj},Opa(){return this.g.VH},zoa(){return this.g.xz},goa(){return this.g.sA},Xoa(){return this.g.Uw()},pra(){return this.g.N.eh},ora(){return this.g.N.dh},Tpa(){return this.g.Cg},Spa(){return this.g.Bg},
Rpa(){return this.g.Cg},Qpa(){return this.g.Bg},Dqa(){return this.g.Ia().yf()},Eqa(){return this.g.Ia().zf()},wpa(){return this.g.Ia().Aa()},xpa(){return this.g.Ia().hd},upa(){return e.Jh(this.g.Ia().Ea())},ypa(){return this.g.Ia().ta()},vpa(){return this.g.Ia().qa()},ira(b){return(b=this.g.Ia().W(b))?b.bn.X:0},kra(b){return(b=this.g.Ia().W(b))?b.bn.T:0},jra(b){return(b=this.g.Ia().W(b))?b.bn.ca:0},gra(b){return(b=this.g.Ia().W(b))?b.bn.Z:0},lra(b){return(b=this.g.Ia().W(b))?b.bn.width():0},hra(b){return(b=
this.g.Ia().W(b))?b.bn.height():0},aoa(b,a,d){return(b=this.g.Ia().W(b))?b.Mg(a,d)[0]:0},boa(b,a,d){return(b=this.g.Ia().W(b))?b.Mg(a,d)[1]:0},rpa(b,a,d){return(b=this.g.Ia().W(b))?b.Qn(a,d)[0]:0},spa(b,a,d){return(b=this.g.Ia().W(b))?b.Qn(a,d)[1]:0},npa(b){return(b=this.g.Ia().W(b))?b.hd:0},ipa(b){return(b=this.g.Ia().W(b))?e.Jh(b.Vd):0},kpa(b){return(b=this.g.Ia().W(b))?100*b.pe():0},opa(b){return(b=this.g.Ia().W(b))?b.Oi:0},ppa(b){return(b=this.g.Ia().W(b))?b.yf():0},qpa(b){return(b=this.g.Ia().W(b))?
b.zf():0},lpa(b){return(b=this.g.Ia().W(b))?100*b.Ld:0},mpa(b){return(b=this.g.Ia().W(b))?100*b.Md:0},tpa(b){return(b=this.g.Ia().W(b))?b.$a():0},jpa(b){return(b=this.g.Ia().W(b))?b.Fa():-1},$na(){const b=this.g.N;return b?b.tI:""},rda(b){const a=this.df;return a.aM()?b?(b=a.eY(b))?b.Fa():0:a.Dp().Fa():0},Bqa(){return this.g.To},Yna(b,a,...d){var c=this.my(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var g=c.OB.get(a.toLowerCase());
if(!g)if(c.gn)g=c.gn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=g.ql;const n=g.os();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.On())return n;b=this.g.ea();a=b.Ab().md();const h=0<a.length;h&&b.dg(a);const l=g.ug;for(let m=d.length,p=l.length;m<p;++m)d.push(l[m].Io);
g=g.ne();d=g.RD(g.md(),c,n,...d);h&&b.Fb(a);return d},Apa(){return this.g.lb.hA},$oa(){return 0===this.Ho?1:this.uu/this.Ho},ln(){return this.g.Es()?"webgpu":"webgl"},oqa(){return this.g.Es()?"<unavailable>":this.g.In().Cv},apa(){let b=this.g.kb().AY();return Math.round(100*b/1048576)/100},pqa(b,a,d){return e.z1(b,a,d)},sqa(b,a,d){return e.GM(b/100,a/100,d/100)},qqa(b,a,d,c){return e.Gx(b/100,a/100,d/100,c/100)},tqa(b,a,d){return e.GM(b/255,a/255,d/255)},rqa(b,a,d,c){return e.Gx(b/255,a/255,d/255,
c/255)},cqa(){return this.g.IA},dqa(){return this.g.MS},joa(){return this.g.Ab().Nc.Aa()},ioa(){return this.g.Ab().Hq}}}{"use strict";const e=self.B;e.C.Touch=class extends e.Xn{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B,b=self.Mh;e.C.Touch.fo=class extends e.Vs{constructor(d){super(d)}m(){super.m()}rk(){return self.$Z}};let a=null;self.$Z=class extends self.vx{constructor(d){super(d);a=d;d.G().bu.gK=this}requestPermission(d){b.td(d);const c=a.Yh().wa;if("orientation"===d)return c.dF(0);if("motion"===d)return c.dF(1);throw Error("invalid type");}}}
{"use strict";const e=self.B;e.C.Touch.Instance=class extends e.$p{constructor(b,a){super(b,"touch");this.ad=new Map;this.Vz=this.vT=!1;this.Bz=this.gh=this.fh=this.JI=this.gB=this.Ar=this.AF=this.zF=this.yF=this.DF=this.CF=this.BF=this.$H=this.ZH=this.YH=this.yA=0;this.CA=[];a&&(this.vT=a[0]);this.WB("permission-result",d=>this.S8(d));b=this.G().Ib();this.Wd=new e.Yr(e.tc.kd(b,"pointerdown",d=>this.T8(d.data)),e.tc.kd(b,"pointermove",d=>this.U8(d.data)),e.tc.kd(b,"pointerup",d=>this.PP(d.data,!1)),
e.tc.kd(b,"pointercancel",d=>this.PP(d.data,!0)),e.tc.kd(b,"deviceorientation",d=>this.C8(d.data)),e.tc.kd(b,"deviceorientationabsolute",d=>this.D8(d.data)),e.tc.kd(b,"devicemotion",d=>this.B8(d.data)),e.tc.kd(b,"tick2",()=>this.aF()))}m(){this.ad.clear();super.m()}T8(b){if("mouse"===b.pointerType)if(this.vT)this.Vz=!0;else return;const a=b.pointerId;if(!this.ad.has(a)){var d=b.pageX-this.g.ks();b=b.pageY-this.g.ls();var c=performance.now(),g=this.ad.size;this.Ar=g;this.gB=a;var n=e.j(e.C.Touch.Z3);
n.Ul(c,d,b,a,g);this.ad.set(a,n);this.ua(e.C.Touch.J.g1);this.ua(e.C.Touch.J.w1);this.fh=d;this.gh=b;this.ua(e.C.Touch.J.v1)}}U8(b){if("mouse"!==b.pointerType||this.Vz){var a=this.ad.get(b.pointerId);if(a){var d=performance.now();2>d-a.ya()||a.Ik(d,b.pageX-this.g.ks(),b.pageY-this.g.ls(),b.width,b.height,b.pressure)}}}PP(b,a){if("mouse"===b.pointerType)if(this.Vz)this.Vz=!1;else return;const d=performance.now();b=b.pointerId;const c=this.ad.get(b);c&&(this.Ar=c.he,this.gB=c.gj(),this.ua(e.C.Touch.J.f1),
this.ua(e.C.Touch.J.u1),a||(a=c.M3(d),"single-tap"===a?(this.ua(e.C.Touch.J.t1),this.fh=c.ga(),this.gh=c.ia(),this.ua(e.C.Touch.J.EM)):"double-tap"===a&&(this.ua(e.C.Touch.J.U0),this.fh=c.ga(),this.gh=c.ia(),this.ua(e.C.Touch.J.wM))),c.m(),this.ad.delete(b))}dF(b){this.Nk("request-permission",{type:b});return new Promise((a,d)=>{this.CA.push({type:b,resolve:a,reject:d})})}S8(b){const a=b.result,d=b.type;this.JI=d;b=this.CA.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.CA=
this.CA.filter(c=>c.type!==d);a?(this.ua(e.C.Touch.J.n1),0===d?this.g.Zp():this.g.cm()):this.ua(e.C.Touch.J.m1)}C8(b){"number"===typeof b.webkitCompassHeading?this.yA=b.webkitCompassHeading:b.absolute&&(this.yA=b.alpha);this.YH=b.alpha;this.ZH=b.beta;this.$H=b.gamma}D8(b){this.yA=b.alpha}B8(b){const a=b.acceleration;a&&(this.BF=a.x,this.CF=a.y,this.DF=a.z);if(b=b.accelerationIncludingGravity)this.yF=b.x,this.zF=b.y,this.AF=b.z}aF(){const b=performance.now();let a=0;for(const d of this.ad.values())d.ya()<=
b-50&&d.O$(b),d.L3(b)&&(this.Ar=d.he,this.gB=d.gj(),this.Bz=a,this.ua(e.C.Touch.J.Y0),this.fh=d.ga(),this.gh=d.ia(),this.ua(e.C.Touch.J.Z0),this.Bz=0),++a}li(b){b=Math.floor(b);for(const a of this.ad.values()){if(0===b)return a;--b}return null}pt(b,a){return 0<=b&&0<=a&&b<this.g.uY()&&a<this.g.tY()}}}
{"use strict";const e=self.B,b=[];e.C.Touch.J={w1(){return!0},u1(){return!0},wha(){return 0<this.ad.size},v1(a){return a&&this.pt(this.fh,this.gh)?this.g.ti.Wx(a,this.fh,this.gh):!1},e0(a){if(!a)return!1;const d=a.R();var c=d.fa();for(const g of c){c=g.A();const n=c.W();for(const h of this.ad.values()){if(!this.pt(h.ga(),h.ia()))continue;const [l,m]=n.Mg(h.ga(),h.ia(),c.Qe());if(c.Zr(l,m)){b.push(g);break}}}return b.length?(d.Ws(b),a.Ub(),e.D(b),!0):!1},Pfa(a,d,c){return(a=this.li(a))?e.compare(a.kx(),
d,c):!1},Xia(){return!0},sia(){return!0},Mfa(a,d,c){this.g.Zp();return e.compare(0===a?this.YH:1===a?this.ZH:this.$H,d,c)},Hfa(a,d,c){this.g.cm();return e.compare(0===a?this.yF:1===a?this.zF:2===a?this.AF:3===a?this.BF:4===a?this.CF:this.DF,d,c)},g1(a){a=Math.floor(a);return a===this.Ar},f1(a){a=Math.floor(a);return a===this.Ar},Uga(a){a=Math.floor(a);return this.ad.size>=a+1},Y0(){return!0},t1(){return!0},U0(){return!0},Z0(a){return a&&this.pt(this.fh,this.gh)?this.g.ti.Wx(a,this.fh,this.gh):!1},
EM(a){return a&&this.pt(this.fh,this.gh)?this.g.ti.Wx(a,this.fh,this.gh):!1},wM(a){return a&&this.pt(this.fh,this.gh)?this.g.ti.Wx(a,this.fh,this.gh):!1},n1(a){return this.JI===a},m1(a){return this.JI===a}}}"use strict";self.B.C.Touch.rd={Vja(e){this.dF(e)}};
{"use strict";const e=self.B;e.C.Touch.le={Tma(){return this.ad.size},A4(b){const a=this.li(this.Bz);return a?a.Hp(this.g.Ia(),b,!0):0},B4(b){const a=this.li(this.Bz);return a?a.Hp(this.g.Ia(),b,!1):0},Cna(b,a){return(b=this.li(b))?b.Hp(this.g.Ia(),a,!0):0},Ena(b,a){return(b=this.li(b))?b.Hp(this.g.Ia(),a,!1):0},Dna(b,a){return(b=this.ad.get(b))?b.Hp(this.g.Ia(),a,!0):0},Fna(b,a){return(b=this.ad.get(b))?b.Hp(this.g.Ia(),a,!1):0},qea(){const b=this.li(0);return b?b.ga():0},tea(){const b=this.li(0);
return b?b.ia():0},rea(b){return(b=this.li(b))?b.ga():0},uea(b){return(b=this.li(b))?b.ia():0},sea(b){return(b=this.ad.get(b))?b.ga():0},vea(b){return(b=this.ad.get(b))?b.ia():0},oma(b){return(b=this.li(b))?b.kx():0},pma(b){return(b=this.ad.get(b))?b.kx():0},dfa(b){return(b=this.li(b))?e.Jh(b.Ea()):0},efa(b){return(b=this.ad.get(b))?e.Jh(b.Ea()):0},Vfa(){this.g.Zp();return this.yA},Yea(){this.g.Zp();return this.YH},pfa(){this.g.Zp();return this.ZH},Gga(){this.g.Zp();return this.$H},xea(){this.g.cm();
return this.yF},zea(){this.g.cm();return this.zF},Bea(){this.g.cm();return this.AF},wea(){this.g.cm();return this.BF},yea(){this.g.cm();return this.CF},Aea(){this.g.cm();return this.DF},Vma(){return this.Ar},Uma(){return this.gB},xna(b){return(b=this.ad.get(b))?b.ta():0},Xga(b){return(b=this.ad.get(b))?b.qa():0},Dja(b){return(b=this.ad.get(b))?b.LS:0}}}
{"use strict";const e=self.B;let b=-1E3,a=-1E3,d=-1E4;e.C.Touch.Z3=class extends e.aa{constructor(){super();this.LS=this.S=this.V=this.mA=this.lA=this.M=this.O=this.aB=this.$A=this.kA=this.Tb=this.Om=this.he=this.IS=0;this.aA=this.PG=!1}m(){}Ul(c,g,n,h,l){this.IS=h;this.he=l;this.Om=this.kA=this.Tb=c;this.$A=g;this.aB=n;this.O=g;this.M=n;this.lA=g;this.mA=n}Ik(c,g,n,h,l,m){this.kA=this.Tb;this.Tb=c;this.lA=this.O;this.mA=this.M;this.O=g;this.M=n;this.V=h;this.S=l;this.LS=m;!this.aA&&15<=e.Hr(this.$A,
this.aB,this.O,this.M)&&(this.aA=!0)}gj(){return this.IS}ya(){return this.Tb}O$(c){this.kA=c}ga(){return this.O}ia(){return this.M}kx(){const c=e.Hr(this.O,this.M,this.lA,this.mA),g=(this.Tb-this.kA)/1E3;return 0<g?c/g:0}Ea(){return e.jJ(this.lA,this.mA,this.O,this.M)}ta(){return this.V}qa(){return this.S}L3(c){return this.PG?!1:500<=c-this.Om&&!this.aA&&15>e.Hr(this.$A,this.aB,this.O,this.M)?this.PG=!0:!1}M3(c){if(this.PG)return"";if(333>=c-this.Om&&!this.aA&&15>e.Hr(this.$A,this.aB,this.O,this.M)){if(666>=
c-d&&25>e.Hr(b,a,this.O,this.M))return a=b=-1E3,d=-1E4,"double-tap";b=this.O;a=this.M;d=c;return"single-tap"}return""}Hp(c,g,n){return"undefined"===typeof g?c.Ww(0).UV(this.O,this.M)[n?0:1]:(c=c.W(g))?c.Mg(this.O,this.M)[n?0:1]:0}}}{"use strict";const e=self.B;e.C.Ec=class extends e.Xn{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Ec.fo=class extends e.Vs{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B;e.C.Ec.Instance=class extends e.$p{constructor(b){super(b,"browser");this.Jj="";this.Bu=!1;this.gR=this.QS="";this.SR=!1;this.eJ=this.WS=this.XS=0;this.Eu=!1;this.kK([["online-state",a=>this.Q8(a)],["backbutton",()=>this.z8()],["sw-message",a=>this.W8(a)],["hashchange",a=>this.I8(a)]]);b=this.G().Ib();this.Wd=new e.Yr(e.tc.kd(b,"afterfirstlayoutstart",()=>this.y8()),e.tc.kd(b,"window-resize",()=>this.cF()),e.tc.kd(b,"suspend",()=>this.$E()),e.tc.kd(b,"resume",()=>this.ZE()));
this.g.oK(this.Ug("get-initial-state",{exportType:this.g.Ci}).then(a=>{this.Jj=a.location;this.Bu=a.isOnline;this.QS=a.referrer;this.gR=a.title;this.SR=a.isCookieEnabled;this.XS=a.screenWidth;this.WS=a.screenHeight;this.eJ=a.windowOuterWidth;this.Eu=a.isScirraArcade}))}m(){super.m()}y8(){this.Ra("ready-for-sw-messages")}async Q8(b){b=!!b.isOnline;this.Bu!==b&&((this.Bu=b)?await this.vd(e.C.Ec.J.j1):await this.vd(e.C.Ec.J.h1))}async cF(){await this.vd(e.C.Ec.J.o1)}$E(){this.ua(e.C.Ec.J.k1)}ZE(){this.ua(e.C.Ec.J.l1)}async z8(){await this.vd(e.C.Ec.J.Q0)}W8(b){b=
b.type;"downloading-update"===b?this.ua(e.C.Ec.J.x1):"update-ready"===b||"update-pending"===b?this.ua(e.C.Ec.J.y1):"offline-ready"===b&&this.ua(e.C.Ec.J.i1)}I8(b){this.Jj=b.location;this.ua(e.C.Ec.J.X0)}}}"use strict";
self.B.C.Ec.J={Jha(){return this.Bu},j1(){return!0},h1(){return!0},o1(){return!0},Zfa(){return this.SR},vha(){return this.g.N.No},Q0(){return!0},Nha(e){return(this.g.N.Yj<=this.g.N.Xj?0:1)===e},x1(){return!0},y1(){return!0},i1(){return!0},X0(){return!0},Yia(){return!this.g.$l()},k1(){return!0},l1(){return!0},Tga(){return!1},sha(){return!1},Mia(){return!1},Nia(){return!1},Dha(){return!1},lha(){return!0},Hma(){return!0}};
{"use strict";const e=self.B,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.C.Ec.rd={Xea(a){this.Ra("alert",{message:a.toString()})},Efa(){this.Eu||(this.g.pb?self.Vf.Ffa():this.Ra("close"))},Bga(){this.Ra("set-focus",{isFocus:!0})},sfa(){this.Ra("set-focus",{isFocus:!1})},Mga(){this.Eu||this.Ra("navigate",{type:"back"})},Nga(){this.Eu||this.Ra("navigate",{type:"forward"})},Oga(){},Oja(){this.Eu||(this.g.pb?this.g.J1():this.Ra("navigate",
{type:"reload"}))},Rga(a,d){this.Nk("navigate",{type:"url",url:a,target:d,exportType:this.g.Ci})},Sga(a,d){this.Nk("navigate",{type:"new-window",url:a,tag:d,exportType:this.g.Ci})},j2(a,d){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=e.jC.RO(a);this.g.N.Q2(a);this.Nk("request-fullscreen",{navUI:d})},zfa(){this.Nk("exit-fullscreen")},mna(a){a=a.split(",");for(let d=0,c=a.length;d<c;++d)a[d]=parseInt(a[d],10);this.Nk("vibrate",{pattern:a})},async jD(a,d){a&&d&&(a=await this.g.lb.RC(a),this.g.jD(a,d))},
gha(a,d,c){c&&(a=`data:${d},${encodeURIComponent(a)}`,this.g.jD(a,c))},Yfa(a,d){d=d.toString();0===a?console.log(d):1===a?console.warn(d):2===a&&console.error(d)},Wfa(a){console.group(a)},Xfa(){console.groupEnd()},tga(a){try{eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}},jia(a){a=Math.floor(a);0>a||a>=b.length||this.Nk("lock-orientation",{orientation:b[a]})},gna(){this.Nk("unlock-orientation")},lM(a){this.g.lb.lM(a)},zla(a){this.Ra("set-hash",{hash:a})}}}"use strict";
self.B.C.Ec.le={URL(){return this.g.Zd?this.Jj:location.toString()},Gja(){return this.g.Zd?(new URL(this.Jj)).protocol:location.protocol},hga(){return this.g.Zd?(new URL(this.Jj)).hostname:location.hostname},Aja(){return this.g.Zd?(new URL(this.Jj)).port:location.port},$ia(){return this.g.Zd?(new URL(this.Jj)).pathname:location.pathname},Vga(){return this.g.Zd?(new URL(this.Jj)).hash:location.hash},ID(){return this.g.Zd?(new URL(this.Jj)).search:location.search},Ija(e){const b=this.g.Zd?(new URL(this.Jj)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(b))?decodeURIComponent(e[1].replace(/\+/g," ")):""},Mja(){return this.QS},Mma(){return this.gR},Wha(){return navigator.language},Gc(){return navigator.platform},jna(){return navigator.userAgent},sga(e){let b=0;try{b=eval(e)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},yia(){return navigator.appName},lna(){return navigator.appVersion},Fja(){return navigator.product},
kna(){return navigator.vendor},nfa(){return 1},ofa(){return Infinity},mfa(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},fga(){return self.devicePixelRatio},$ka(){return this.XS},Zka(){return this.WS},zna(){return this.g.N.Yj},yna(){return this.g.N.Xj},Bna(){return this.eJ},Ana(){return this.eJ}};{"use strict";const e=self.B;e.C.Text=class extends e.Xn{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B;e.C.Text.fo=class extends e.Vs{constructor(b){super(b)}m(){super.m()}Ks(){}Xp(){}}}
{"use strict";const e=self.B,b=self.Mh,a=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],g=new e.Rect,n=new e.sd;new e.Za;e.C.Text.Instance=class extends e.bN{constructor(m,p){super(m);this.$c="";this.Yk=!0;this.Di="Arial";this.Qj=12;this.qh=0;this.af=this.$e=!1;this.bb=e.j(e.Za);this.Ie=this.Ze=0;this.$j=!0;this.Uj=this.Br=-1;this.Bv=0;this.Qc=e.j(e.I.LD,this.g.kb(),{timeout:5});this.Qc.IB=()=>this.g.$();this.Qc.sN();p&&(this.$c=p[0],this.Yk=!!p[1],this.Di=p[2],this.Qj=p[3],this.qh=
p[4],this.$e=!!p[5],this.af=!!p[6],this.Ze=p[8],this.Ie=p[9],this.$j=0===p[10],m=p[7],this.bb.Sr(m[0],m[1],m[2]),this.A().wj(p[11]));this.Ud()}m(){this.jm();this.Qc.m();this.Qc=null;super.m()}Ud(){const m=this.Qc;m.et(this.$c);m.G2(this.Yk);m.YD(this.Di);m.wN(this.qh);m.gN(this.$e);m.uN(this.af);m.dm(this.bb);m.qN(d[this.Ze]);m.KN(c[this.Ie]);m.H3(this.$j?"word":"character")}xF(){const m=this.A();this.Qc.Rx(this.Qj);this.Qc.W2(m.oZ());var p=m.W();p=p.Sl()*p.bL(m.Qe());this.Qc.Hd(m.ta(),m.qa(),p)}aj(m){var p=
this.A();this.xF();const q=this.Qc.$f();if(q){var u=p.W();if(0===p.Ea()&&0===u.Ea()&&0===p.Qe()&&!p.Zh()&&u.OM()){p=p.jk();const [r,v]=u.pj(p.tb,p.ub),[w,y]=u.pj(p.ac,p.cc);p=r-Math.round(r);const A=v-Math.round(v);g.set(r,v,w,y);g.offset(-p,-A);n.Yi(g);const [G,z]=m.hx(m.pk());this.g.N.P2(m,G,z);m.jg(q);m.Vp(n,this.Qc.hf);u.Ey(m)}else m.jg(q),p.Zh()?this.o6(p,m):this.s6(p,m)}}s6(m,p){m=m.jk();this.g.Po&&(m=this.SP(m));p.Vp(m,this.Qc.hf)}o6(m,p){const q=m.wZ();if(m.U_()){m.fC(g,n,!1);let u=n;this.g.Po&&
(u=this.SP(u));q.PV(m.Tl(),u,this.Qc.hf);m.j3()}q.aj(p)}SP(m){const p=m.tb-Math.round(m.tb),q=m.ub-Math.round(m.ub);if(0===p&&0===q)return m;n.ma(m);n.offset(-p,-q);return n}ud(){const m={t:this.$c,c:this.bb.toJSON(),fn:this.Di,ps:this.Qj};this.Yk&&(m.bbc=this.Yk);0!==this.Ze&&(m.ha=this.Ze);0!==this.Ie&&(m.va=this.Ie);this.$j||(m.wr=this.$j);0!==this.qh&&(m.lho=this.qh);this.$e&&(m.b=this.$e);this.af&&(m.i=this.af);-1!==this.Uj&&(m.tw={st:this.Br,en:this.Uj,l:this.Bv});return m}nd(m){this.jm();this.$c=
m.t;this.bb.Hl(m.c);this.Di=m.fn;this.Qj=m.ps;this.Yk=m.hasOwnProperty("bbc")?m.bbc:!1;this.Ze=m.hasOwnProperty("ha")?m.ha:0;this.Ie=m.hasOwnProperty("va")?m.va:0;this.$j=m.hasOwnProperty("wr")?m.wr:!0;this.qh=m.hasOwnProperty("lho")?m.lho:0;this.$e=m.hasOwnProperty("b")?m.b:!1;this.af=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.Br=m.st,this.Uj=m.en,this.Bv=m.l);this.Ud();-1!==this.Uj&&this.It()}Xc(m){switch(m){case 0:return this.$c;case 1:return this.Yk;case 2:return this.Di;
case 3:return this.Qj;case 4:return this.qh;case 5:return this.$e;case 6:return this.af;case 7:return a[0]=this.bb.Qa,a[1]=this.bb.Ua,a[2]=this.bb.Ta,a;case 8:return this.Ze;case 9:return this.Ie;case 10:return this.$j?1:0}}uj(m,p){switch(m){case 0:if(this.$c===p)break;this.$c=p;this.Ud();break;case 1:if(this.Yk===!!p)break;this.Yk=!!p;this.Ud();break;case 2:if(this.Di===p)break;this.Di=p;this.Ud();break;case 3:if(this.Qj===p)break;this.Qj=p;this.Ud();break;case 4:if(this.qh===p)break;this.qh=p;this.Ud();
break;case 5:if(this.$e===!!p)break;this.$e=!!p;this.Ud();break;case 6:if(this.af===!!p)break;this.af=!!p;this.Ud();break;case 7:m=this.bb;if(m.Qa===p[0]&&m.Ua===p[1]&&m.Ta===p[2])break;this.bb.Sr(p[0],p[1],p[2]);this.Ud();break;case 8:if(this.Ze===p)break;this.Ze=p;this.Ud();break;case 9:if(this.Ie===p)break;this.Ie=p;this.Ud();break;case 10:this.$j!==(0===p)&&(this.$j=0===p,this.Ud())}}Dy(m){this.$c!==m&&(this.$c=m,this.Qc.et(m),this.g.$())}gaa(m,p){this.Dy(m);this.Br=this.g.WC();this.Uj=this.Br+
p/this.xa().lY();this.Bv=e.Ll.ON(m).length;this.Qc.XD(0);this.It()}jm(){this.Uj=this.Br=-1;this.Bv=0;this.Qc.XD(-1);this.Hy()}A6(){-1!==this.Uj&&(this.jm(),this.ua(e.C.Text.J.FM),this.g.$())}D$(m){this.Di!==m&&(this.Di=m,this.Qc.YD(m),this.g.$())}s$(m){m=!!m;this.$e!==m&&(this.$e=m,this.Qc.gN(m),this.g.$())}M$(m){m=!!m;this.af!==m&&(this.af=m,this.Qc.uN(m),this.g.$())}E$(m){this.Qj!==m&&(this.Qj=m,this.g.$())}C$(m){this.bb.Dl(m)||(this.bb.Ti(m),this.Qc.dm(this.bb),this.g.$())}qQ(m){this.qh!==m&&(this.qh=
m,this.Ud(),this.g.$())}H$(m){this.Ze!==m&&(this.Ze=m,this.Ud(),this.g.$())}vQ(m){this.Ie!==m&&(this.Ie=m,this.Ud(),this.g.$())}$$(m){m=!!m;this.$j!==m&&(this.$j=m,this.Ud(),this.g.$())}j7(){this.xF();return this.Qc.sZ()}i7(){this.xF();return this.Qc.rZ()}Ve(){var m=this.g.WC();m>=this.Uj?(this.jm(),this.ua(e.C.Text.J.FM),this.g.$()):(m=e.Hda(this.Br,this.Uj,m,this.Bv),m=Math.floor(m),m!==this.Qc.xo&&(this.Qc.XD(m),this.g.$()))}rk(){return self.ZZ}};const h=new WeakMap,l=new Map([["top",0],["center",
1],["bottom",2]]);self.ZZ=class extends self.eD{constructor(){super();h.set(this,self.ux.ny().wa)}get text(){return h.get(this).$c}set text(m){b.td(m);const p=h.get(this);p.jm();p.Dy(m)}set lineHeight(m){b.Ak(m);h.get(this).qQ(m)}get lineHeight(){return h.get(this).qh}set verticalAlign(m){b.td(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");h.get(this).vQ(m)}get verticalAlign(){return c[h.get(this).Ie]}}}
{"use strict";const e=self.B;e.C.Text.J={Nfa(b,a){return a?this.$c===b:e.Vi(this.$c,b)},Oha(){return-1!==this.Uj},FM(){return!0}}}
{"use strict";const e=self.B,b=e.j(e.Za);e.C.Text.rd={et(a){this.jm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Dy(a.toString())},ffa(a){this.jm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.Dy(this.$c+a)},Zma(a,d){this.jm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.gaa(a.toString(),d)},vla(a,d){let c=!1,g=!1;switch(d){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(a!==this.Di||c!==this.$e||g!==this.af)this.D$(a),this.s$(c),
this.M$(g)},Rx(a){this.E$(a)},ula(a){b.Rr(a);b.da();this.C$(b)},ima(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},mla(a){this.A().fg(a);this.g.$()},Yma(){this.A6()},wN(a){this.qQ(a)},xla(a){this.H$(a)},hma(a){this.vQ(a)},jma(a){this.$$(0===a)}}}{"use strict";const e=self.B;e.C.Text.le={Text(){return this.$c},tja(){return this.Yk?e.Ll.ON(this.$c):this.$c},uga(){return this.Di},aY(){return this.Qj},Jma(){return this.j7()},Ima(){return this.i7()},cia(){return this.qh}}}
{"use strict";const e=self.B;e.C.Audio=class extends e.Xn{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Audio.fo=class extends e.Vs{constructor(b){super(b)}m(){super.m()}rk(){return self.RZ}};self.RZ=class extends self.vx{constructor(b){super(b)}}}
{"use strict";const e=self.B,b=["interactive","balanced","playback"];e.C.Audio.Instance=class extends e.$p{constructor(a,d){super(a,"audio");this.Ag=0;this.KI="";this.dv=this.pT=0;this.cI=!1;this.fR=this.DS=1;this.Cm=this.g.lf/2;this.Dm=this.g.kf/2;this.Vo=-600;this.PS=600;this.nS=1E4;this.US=1;this.rh=null;this.nA=-1;this.ar=1;this.Lf=!1;this.VS=0;this.iz=new Map;this.eI=this.fI=0;this.ol=new Map;a="interactive";d&&(this.pT=d[0],this.dv=d[1],this.cI=d[2],a=b[d[3]],this.DS=d[4],this.fR=d[5],this.Vo=
-d[6],this.PS=d[7],this.nS=d[8],this.US=d[9]);this.xg=[];this.Uq=[];this.eA=[];this.kK([["state",c=>this.b9(c)],["fxstate",c=>this.a9(c)],["trigger",c=>this.Z8(c)]]);d=this.G().Ib();this.Wd=new e.Yr(e.tc.kd(d,"instancedestroy",c=>this.J8(c.instance)),e.tc.kd(d,"afterload",()=>this.At()),e.tc.kd(d,"suspend",()=>this.$E()),e.tc.kd(d,"resume",()=>this.ZE()));this.g.oK(this.Ug("create-audio-context",{preloadList:this.g.lb.nY().map(c=>({originalUrl:c.Bda,url:c.url,type:c.type,fileSize:c.fileSize})),isiOSCordova:this.g.qH,
timeScaleMode:this.pT,latencyHint:a,panningModel:this.DS,distanceModel:this.fR,refDistance:this.PS,maxDistance:this.nS,rolloffFactor:this.US,listenerPos:[this.Cm,this.Dm,this.Vo]}).then(c=>{this.VS=c.sampleRate}));this.It()}m(){this.rh=null;super.m()}J8(a){this.rh===a&&(this.rh=null)}xw(a){return Math.pow(10,a/20)}ed(a){a=this.xw(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}n0(a){return Math.log(a)/Math.log(10)*20}iM(a){return this.n0(Math.max(Math.min(a,1),0))}$E(){this.cI||this.Ra("set-suspended",
{isSuspended:!0})}ZE(){this.cI||this.Ra("set-suspended",{isSuspended:!1})}b9(a){const d=a.tickCount,c=this.xg.filter(g=>g.hasOwnProperty("placeholder")&&(g.placeholder>d||-1===g.placeholder));this.xg=a.audioInstances;this.eA=a.analysers;0<c.length&&e.Al(this.xg,c)}a9(a){this.Uq=a.fxstate}ly(a){for(const d of this.xg)if(e.Vi(d.tag,a))return d;return null}xP(a){return this.xg.some(d=>e.Vi(a,d.tag)&&d.isPlaying)}sq(a,d,c,g){if(this.xP(a))return null;a={tag:a,duration:0,volume:g,isPlaying:!0,playbackTime:0,
playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:d,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.xg.push(a);return a}async Z8(a){const d=a.type;this.KI=a.tag;a=a.aiid;if("ended"===d){for(const c of this.xg)if(c.aiid===a){c.isPlaying=!1;break}await this.vd(e.C.Audio.J.V0)}else"fade-ended"===d&&await this.vd(e.C.Audio.J.W0)}Ve(){const a={timeScale:this.g.pd,gameTime:this.g.LC(),instPans:this.RY(),tickCount:this.g.Qm};if(this.rh){const d=this.rh.A();
this.Cm=d.ga();this.Dm=d.ia();a.listenerPos=[this.Cm,this.Dm,this.Vo]}this.Ra("tick",a)}WJ(a,d,c,g,n){if(0===c)return[a,d];const h=Math.sin(c);c=Math.cos(c);a-=g;d-=n;const l=a*h;a=a*c-d*h;return[a+g,d*c+l+n]}RY(){return this.xg.filter(a=>-1!==a.uid).map(a=>this.g.Pg(a.uid)).filter(a=>a).map(a=>{const d=a.A(),c=d.W().Ea(),[g,n]=this.WJ(d.ga(),d.ia(),-c,this.Cm,this.Dm);return{uid:a.kc,x:g,y:n,angle:d.Ea()-c}})}Jw(a,d){for(const c of this.eA)if(c.index===d&&e.Vi(c.tag,a))return c;return null}Zg(a){this.iz.set(a,
(this.iz.get(a)||0)+1)}daa(a){return a.hasOwnProperty("placeholder")||3===this.dv?!1:a.isMusic&&1===this.dv?!1:a.isMusic||2!==this.dv?!0:!1}ud(){return{isSilent:this.Lf,masterVolume:this.ar,listenerZ:this.Vo,listenerUid:this.rh?this.rh.kc:-1,remoteUrls:[...this.ol.entries()],playing:this.xg.filter(a=>this.daa(a)),effects:this.Uq,analysers:this.eA}}nd(a){this.Lf=a.isSilent;this.ar=a.masterVolume;this.Vo=a.listenerZ;this.rh=null;this.nA=a.listenerUid;this.ol.clear();if(a.remoteUrls)for(const [d,c]of a.remoteUrls)this.ol.set(d,
c);this.xg=a.playing;this.Uq=a.effects;this.eA=a.analysers}At(){if(-1!==this.nA&&(this.rh=this.g.Pg(this.nA),this.nA=-1,this.rh)){var a=this.rh.A();this.Cm=a.ga();this.Dm=a.ia()}for(var d of this.xg)(a=this.g.lb.Zf(d.bufferOriginalUrl))?(d.bufferUrl=a.url,d.bufferType=a.type):d.bufferUrl=null;for(const c of Object.values(this.Uq))for(const g of c)g.hasOwnProperty("bufferOriginalUrl")&&(d=this.g.lb.Zf(g.bufferOriginalUrl))&&(g.bufferUrl=d.url,g.bufferType=d.type);this.Ra("load-state",{saveLoadMode:this.dv,
timeScale:this.g.pd,gameTime:this.g.LC(),listenerPos:[this.Cm,this.Dm,this.Vo],isSilent:this.Lf,masterVolume:this.ar,playing:this.xg.filter(c=>null!==c.bufferUrl),effects:this.Uq})}}}{"use strict";const e=self.B;e.C.Audio.J={V0(b){return e.Vi(this.KI,b)},W0(b){return e.Vi(this.KI,b)},Cja(){return this.eI===this.fI},Wea(){return!0},Pha(){return this.Lf},hha(){for(const b of this.xg)if(b.isPlaying)return!0;return!1},Rha(b){return this.xP(b)}}}
{"use strict";const e=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.C.Audio.rd={async Play(a,d,c,g,n){if(!this.Lf){var h=a[1],l=this.g.lb.Zf(a[0]);if(l){n=n?n:0;var m=this.Ag;this.Ag=0;var p=this.sq(g.toLowerCase(),h,0!==d,this.ed(c));try{await this.Ug("play",{originalUrl:a[0],url:l.url,type:l.type,isMusic:h,tag:g.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:n,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.g.Qm)}}}},
async wja(a,d,c,g,n,h,l,m,p,q){if(!this.Lf){var u=a[1],r=this.g.lb.Zf(a[0]);if(r){var v=this.Ag;this.Ag=0;var w=this.sq(q.toLowerCase(),u,0!==d,this.ed(c));try{await this.Ug("play",{originalUrl:a[0],url:r.url,type:r.type,isMusic:u,tag:q.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:g,y:n,angle:e.Wa(h),innerAngle:e.Wa(l),outerAngle:e.Wa(m),outerGain:this.ed(p)}})}finally{w&&(w.placeholder=this.g.Qm)}}}},async uja(a,d,c,g,n,h,l,m){if(!this.Lf&&
g&&(g=g.ss())&&g.A()){var p=g.A(),q=p.W().Ea(),[u,r]=this.WJ(p.ga(),p.ia(),-q,this.Cm,this.Dm),v=a[1],w=this.g.lb.Zf(a[0]);if(w){var y=this.Ag;this.Ag=0;var A=this.sq(m.toLowerCase(),v,0!==d,this.ed(c));try{await this.Ug("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:v,tag:m.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:r,angle:p.Ea()-q,innerAngle:e.Wa(n),outerAngle:e.Wa(h),outerGain:this.ed(l),uid:g.kc}})}finally{A&&
(A.placeholder=this.g.Qm)}}}},async yja(a,d,c,g,n){if(!this.Lf){a=1===a;var h=this.g.lb.Zf(d)||this.ol.get(d.toLowerCase());if(h){var l=this.Ag;this.Ag=0;var m=this.sq(n.toLowerCase(),a,0!==c,this.ed(g));try{await this.Ug("play",{originalUrl:d,url:h.url,type:h.type,isMusic:a,tag:n.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{m&&(m.placeholder=this.g.Qm)}}}},async xja(a,d,c,g,n,h,l,m,p,q,u){if(!this.Lf){a=1===a;var r=this.g.lb.Zf(d)||
this.ol.get(d.toLowerCase());if(r){var v=this.Ag;this.Ag=0;var w=this.sq(u.toLowerCase(),a,0!==c,this.ed(g));try{await this.Ug("play",{originalUrl:d,url:r.url,type:r.type,isMusic:a,tag:u.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:n,y:h,angle:e.Wa(l),innerAngle:e.Wa(m),outerAngle:e.Wa(p),outerGain:this.ed(q)}})}finally{w&&(w.placeholder=this.g.Qm)}}}},async vja(a,d,c,g,n,h,l,m,p){if(!this.Lf&&!this.Lf&&n&&(n=n.ss())&&n.A()){var q=
n.A(),u=q.W().Ea(),[r,v]=this.WJ(q.ga(),q.ia(),-u,this.Cm,this.Dm);a=1===a;var w=this.g.lb.Zf(d)||this.ol.get(d.toLowerCase());if(w){var y=this.Ag;this.Ag=0;var A=this.sq(p.toLowerCase(),a,0!==c,this.ed(g));try{await this.Ug("play",{originalUrl:d,url:w.url,type:w.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:v,angle:q.Ea()-u,innerAngle:e.Wa(h),outerAngle:e.Wa(l),outerGain:this.ed(m),uid:n.kc}})}finally{A&&
(A.placeholder=this.g.Qm)}}}},Wla(a,d){this.Ra("set-looping",{tag:a.toLowerCase(),isLooping:0===d})},Zla(a,d){this.Ra("set-muted",{tag:a.toLowerCase(),isMuted:0===d})},hm(a,d){this.Ra("set-volume",{tag:a.toLowerCase(),vol:this.ed(d)})},vga(a,d,c,g){this.Ra("fade-volume",{tag:a.toLowerCase(),vol:this.ed(d),duration:c,stopOnEnd:0===g})},async L1(a){const d=a[1],c=this.g.lb.Zf(a[0]);c&&(this.fI++,await this.Ug("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:d}),this.eI++)},async Bja(a,d){a=
1===a;const c=this.g.lb.Zf(d)||this.ol.get(d.toLowerCase());c&&(this.fI++,await this.Ug("preload",{originalUrl:d,url:c.url,type:c.type,isMusic:a}),this.eI++)},ci(a,d){this.Ra("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(d,0)})},ue(a){this.Ra("stop",{tag:a.toLowerCase()})},tma(){this.Ra("stop-all")},ama(a,d){this.Ra("set-paused",{tag:a.toLowerCase(),paused:0===d})},gla(a,d){this.Ra("seek",{tag:a.toLowerCase(),pos:d})},ema(a){2===a&&(a=this.Lf?1:0);a=0===a;this.Lf!==a&&(this.Lf=a,this.Ra("set-silent",
{isSilent:a}))},Xla(a){a=this.ed(a);this.ar!==a&&(this.ar=a,this.Ra("set-master-volume",{vol:a}))},Kea(a,d,c,g,n,h,l){a=a.toLowerCase();d=b[d];this.Zg(a);this.Ra("add-effect",{type:"filter",tag:a,params:[d,c,g,n,h,e.da(l/100,0,1)]})},Hea(a,d,c,g){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"delay",tag:a,params:[d,this.ed(c),e.da(g/100,0,1)]})},Lea(a,d,c,g,n,h){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"flanger",tag:a,params:[d/1E3,c/1E3,g,n/100,e.da(h/100,0,1)]})},Qea(a,
d,c,g,n,h,l){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"phaser",tag:a,params:[d,c,g,n,h,e.da(l/100,0,1)]})},Gea(a,d,c,g){a=a.toLowerCase();const n=this.g.lb.Zf(d[0]);n&&(this.Zg(a),this.Ra("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:d[0],bufferUrl:n.url,bufferType:n.type,params:[0===c,e.da(g/100,0,1)]}))},Mea(a,d){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"gain",tag:a,params:[this.ed(d)]})},Pea(a){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"gain",
tag:a,params:[0]})},Tea(a,d,c){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"tremolo",tag:a,params:[d,e.da(c/100,0,1)]})},Sea(a,d,c){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"ringmod",tag:a,params:[d,e.da(c/100,0,1)]})},Iea(a,d,c,g,n,h){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"distortion",tag:a,params:[this.xw(d),this.xw(c),g,this.xw(n),e.da(h/100,0,1)]})},Fea(a,d,c,g,n,h){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"compressor",tag:a,params:[d,
c,g,n/1E3,h/1E3]})},Eea(a,d,c){a=a.toLowerCase();this.Zg(a);this.Ra("add-effect",{type:"analyser",tag:a,params:[d,c]})},Pja(a){a=a.toLowerCase();this.iz.set(a,0);this.Ra("remove-effects",{tag:a});this.Uq={}},pla(a,d,c,g,n,h){this.Ra("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(d),param:c,value:g,ramp:n,time:h})},Ula(a){a&&(a=a.ss())&&a.A()&&(this.rh=a)},Vla(a){this.Vo=a},Yka(a){this.Ag=Math.max(a,0)},cna(a){const d=a[1];(a=this.g.lb.Zf(a[0]))&&this.Ra("unload",{url:a.url,type:a.type,isMusic:d})},
dna(a,d){a=1===a;(d=this.g.lb.Zf(d)||this.ol.get(d.toLowerCase()))&&this.Ra("unload",{url:d.url,type:d.type,isMusic:a})},bna(){this.Ra("unload-all")},Rea(a,d,c){this.ol.set(c.toLowerCase(),{url:a,type:d})}}}"use strict";
self.B.C.Audio.le={jga(e){return(e=this.ly(e))?e.duration:0},D1(e){return(e=this.ly(e))?e.playbackTime:0},C1(e){return(e=this.ly(e))?e.playbackRate:0},q4(e){return(e=this.ly(e))?this.iM(e.volume):0},nia(){return this.iM(this.ar)},kga(e){return this.iz.get(e.toLowerCase())||0},$ea(e,b){return(e=this.Jw(e,Math.floor(b)))?e.binCount:0},Zea(e,b,a){e=this.Jw(e,Math.floor(b));if(!e)return 0;a=Math.floor(a);return 0>a||a>=e.binCount?0:e.freqBins[a]},afa(e,b){return(e=this.Jw(e,Math.floor(b)))?e.peak:0},
bfa(e,b){return(e=this.Jw(e,Math.floor(b)))?e.rms:0},Xka(){return this.VS},cga(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const e=self.B;e.C.Keyboard=class extends e.Xn{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Keyboard.fo=class extends e.Vs{constructor(b){super(b)}m(){super.m()}rk(){return self.UZ}};self.UZ=class extends self.vx{constructor(b){super(b);b.G().bu.keyboard=this}}}
{"use strict";const e=self.B;e.C.Keyboard.Instance=class extends e.$p{constructor(b){super(b);this.Mu=new Set;this.Tq=new Set;this.Tj=0;this.Av=this.hB="";b=this.G().Ib();this.Wd=new e.Yr(e.tc.kd(b,"keydown",a=>this.O8(a.data)),e.tc.kd(b,"keyup",a=>this.P8(a.data)),e.tc.kd(b,"window-blur",()=>this.RP()),e.tc.kd(b,"keyboard-blur",()=>this.RP()))}m(){super.m()}O8(b){const a=b.which,d=b.code||a.toString();b=b.key;this.Mu.has(d)||(this.Mu.add(d),this.Tq.add(a),this.hB=d,this.Tj=a,this.Av=b,this.ua(e.C.Keyboard.J.P0),
this.ua(e.C.Keyboard.J.xM),this.ua(e.C.Keyboard.J.c1),this.ua(e.C.Keyboard.J.a1))}P8(b){const a=b.which,d=b.code||a.toString();b=b.key;this.Mu.delete(d);this.Tq.delete(a);this.hB=d;this.Tj=a;this.Av=b;this.ua(e.C.Keyboard.J.uM);this.ua(e.C.Keyboard.J.zM);this.ua(e.C.Keyboard.J.d1);this.ua(e.C.Keyboard.J.yM)}RP(){for(const b of this.Tq)this.Tq.delete(b),this.Tj=b,this.ua(e.C.Keyboard.J.uM),this.ua(e.C.Keyboard.J.zM),this.ua(e.C.Keyboard.J.yM);this.Mu.clear()}ud(){return{tk:this.Tj,tkk:this.Av}}nd(b){this.Tj=
b.tk;b.hasOwnProperty("tkk")&&(this.Av=b.tkk)}}}{"use strict";const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.J={zha(b){return this.Tq.has(b)},xM(b){return this.Tj===b},P0(){return!0},uM(){return!0},zM(b){return this.Tj===b},yha(b){b=Math.floor(b);return this.Tq.has(b)},a1(b){return this.Tj===b},yM(b){return this.Tj===b},c1(b){return this.hB===e[b]},d1(b){return this.hB===e[b]},Aha(b){return this.Mu.has(e[b])}}}"use strict";
self.B.C.Keyboard.rd={};
{"use strict";function e(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.B.C.Keyboard.le={Xha(){return this.Tj},wma(b){return e(b)},Xma(){return this.Av}}}
{const e=self.B;self.uK=function(){return[e.C.Touch,e.C.Ec,e.C.Text,e.C.Audio,e.C.Keyboard,e.C.Text.rd.et,e.C.ab.le.nea,e.C.ab.J.gW,e.C.ab.rd.G3,e.C.ab.le.vJ,e.C.ab.J.iW,e.C.ab.rd.J2,e.C.Audio.rd.Play,e.C.ab.rd.tE,e.C.Touch.J.EM,e.C.Touch.J.wM,e.C.ab.J.AM,e.C.Audio.rd.L1,e.C.Keyboard.J.xM,e.C.Ec.rd.j2,e.C.ab.J.Op,e.C.ab.J.hY,e.C.ab.le.cea,e.C.ab.J.fW,e.C.ab.le.bea,e.C.ab.le.rda,e.C.Text.le.Text,e.C.Text.J.vM,e.C.ab.J.aL,e.C.Text.rd.e3,e.C.Text.le.aY,e.C.Touch.J.e0,e.C.Text.J.hW,e.C.Text.J.N_,e.C.ab.J.e4,
e.C.Text.rd.Rx]};self.LV=[{Touch:0},{Ec:0},{Ppa:0},{Cea:0},{xfa:0},{Cfa:0},{Qma:0},{qia:0},{ela:0},{Vha:0},{Audio:0},{ria:0},{fla:0},{Dea:0},{wfa:0},{Keyboard:0},{vfa:0},{Pma:0},{Rma:0},{Oka:0},{Kma:0},{nma:0},{Lma:0},{Rqa:0}]}
{const e=self.B;self.KV=[b=>{const a=b.xc(0).Qh(),d=b.xc(1).Bi;return()=>a(Math.floor(d.mc()/60),2)},b=>{const a=b.xc(0).Qh(),d=b.xc(1).Bi;return()=>a(Math.floor(d.mc()%60),2)},b=>{const a=b.xc(0).Bi,d=b.xc(1).Qh();return()=>e.da(a.mc()-d(),0,1E5)},b=>{const a=b.xc(0).Bi;return()=>a.mc()+1},()=>0,()=>"",b=>{const a=b.xc(0).Bi;return()=>a.mc()},b=>{const a=b.xc(0).Bi,d=b.xc(1);return()=>e.da(a.mc()+d.ZX(),0,86400)},()=>"ToggleButton",b=>{const a=b.xc(0).Qh(),d=b.xc(1);return()=>a(d.Cp(),";")-1},b=>
{const a=b.xc(0).Qh(),d=b.xc(1),c=b.xc(2).Qh();return()=>a(d.Cp(),c(),";")},b=>{const a=b.xc(0);return()=>a.$X()},b=>{const a=b.xc(0).Qh();return()=>a()},b=>{const a=b.xc(0).Qh(),d=b.xc(1),c=b.xc(2).Bi,g=b.xc(3).Qh(),n=b.xc(4);return()=>a(d.Cp(),(c.mc()+1)%g(n.Cp(),";"),";")},()=>"Button",b=>{const a=b.xc(0);return()=>Math.floor(.875*a.Cp())},b=>{const a=b.xc(0);return()=>a.Cp()}]};
