// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa,Ba=this;
function Da(e){function b(f,m,r){var w=m[0],z=m[1],C=m[2];m=m[3];var D=r[0],G=r[1],H=r[2];r=r[3];f[0]=w*D+C*G;f[1]=z*D+m*G;f[2]=w*H+C*r;f[3]=z*H+m*r;return f}function a(f,m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];f[2]=m[2]-r[2];f[3]=m[3]-r[3];return f}function g(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4];m=m[5];var H=r[0],L=r[1],N=r[2],P=r[3],U=r[4];r=r[5];f[0]=w*H+C*L;f[1]=z*H+D*L;f[2]=w*N+C*P;f[3]=z*N+D*P;f[4]=w*U+C*r+G;f[5]=z*U+D*r+m;return f}function c(f,m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];f[2]=m[2]-
r[2];f[3]=m[3]-r[3];f[4]=m[4]-r[4];f[5]=m[5]-r[5];return f}function d(){var f=new ma(9);ma!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function k(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7];m=m[8];var P=r[0],U=r[1],R=r[2],ca=r[3],ba=r[4],W=r[5],ra=r[6],la=r[7];r=r[8];f[0]=P*w+U*D+R*L;f[1]=P*z+U*G+R*N;f[2]=P*C+U*H+R*m;f[3]=ca*w+ba*D+W*L;f[4]=ca*z+ba*G+W*N;f[5]=ca*C+ba*H+W*m;f[6]=ra*w+la*D+r*L;f[7]=ra*z+la*G+r*N;f[8]=ra*C+la*H+r*m;
return f}function h(f,m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];f[2]=m[2]-r[2];f[3]=m[3]-r[3];f[4]=m[4]-r[4];f[5]=m[5]-r[5];f[6]=m[6]-r[6];f[7]=m[7]-r[7];f[8]=m[8]-r[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function p(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7],P=m[8],U=m[9],R=m[10],ca=m[11],ba=m[12],W=m[13],ra=m[14];m=m[15];var la=r[0],pa=r[1],qa=r[2],na=r[3];f[0]=la*w+
pa*G+qa*P+na*ba;f[1]=la*z+pa*H+qa*U+na*W;f[2]=la*C+pa*L+qa*R+na*ra;f[3]=la*D+pa*N+qa*ca+na*m;la=r[4];pa=r[5];qa=r[6];na=r[7];f[4]=la*w+pa*G+qa*P+na*ba;f[5]=la*z+pa*H+qa*U+na*W;f[6]=la*C+pa*L+qa*R+na*ra;f[7]=la*D+pa*N+qa*ca+na*m;la=r[8];pa=r[9];qa=r[10];na=r[11];f[8]=la*w+pa*G+qa*P+na*ba;f[9]=la*z+pa*H+qa*U+na*W;f[10]=la*C+pa*L+qa*R+na*ra;f[11]=la*D+pa*N+qa*ca+na*m;la=r[12];pa=r[13];qa=r[14];na=r[15];f[12]=la*w+pa*G+qa*P+na*ba;f[13]=la*z+pa*H+qa*U+na*W;f[14]=la*C+pa*L+qa*R+na*ra;f[15]=la*D+pa*N+qa*
ca+na*m;return f}function n(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=w+w,H=z+z,L=C+C;m=w*G;var N=w*H;w*=L;var P=z*H;z*=L;C*=L;G*=D;H*=D;D*=L;f[0]=1-(P+C);f[1]=N+D;f[2]=w-H;f[3]=0;f[4]=N-D;f[5]=1-(m+C);f[6]=z+G;f[7]=0;f[8]=w+H;f[9]=z-G;f[10]=1-(m+P);f[11]=0;f[12]=r[0];f[13]=r[1];f[14]=r[2];f[15]=1;return f}function t(f,m){f[0]=m[12];f[1]=m[13];f[2]=m[14];return f}function q(f,m){var r=m[4],w=m[5],z=m[6],C=m[8],D=m[9],G=m[10];f[0]=Math.hypot(m[0],m[1],m[2]);f[1]=Math.hypot(r,w,z);f[2]=Math.hypot(C,
D,G);return f}function u(f,m){var r=new ma(3);q(r,m);var w=1/r[0],z=1/r[1],C=1/r[2],D=m[0]*w;r=m[1]*z;var G=m[2]*C,H=m[4]*w,L=m[5]*z,N=m[6]*C;w*=m[8];z*=m[9];m=m[10]*C;C=D+L+m;0<C?(D=2*Math.sqrt(C+1),f[3]=.25*D,f[0]=(N-z)/D,f[1]=(w-G)/D,f[2]=(r-H)/D):D>L&&D>m?(D=2*Math.sqrt(1+D-L-m),f[3]=(N-z)/D,f[0]=.25*D,f[1]=(r+H)/D,f[2]=(w+G)/D):L>m?(D=2*Math.sqrt(1+L-D-m),f[3]=(w-G)/D,f[0]=(r+H)/D,f[1]=.25*D,f[2]=(N+z)/D):(D=2*Math.sqrt(1+m-D-L),f[3]=(r-H)/D,f[0]=(w+G)/D,f[1]=(N+z)/D,f[2]=.25*D);return f}function v(f,
m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];f[2]=m[2]-r[2];f[3]=m[3]-r[3];f[4]=m[4]-r[4];f[5]=m[5]-r[5];f[6]=m[6]-r[6];f[7]=m[7]-r[7];f[8]=m[8]-r[8];f[9]=m[9]-r[9];f[10]=m[10]-r[10];f[11]=m[11]-r[11];f[12]=m[12]-r[12];f[13]=m[13]-r[13];f[14]=m[14]-r[14];f[15]=m[15]-r[15];return f}function A(){var f=new ma(3);ma!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function y(f){return Math.hypot(f[0],f[1],f[2])}function E(f,m,r){var w=new ma(3);w[0]=f;w[1]=m;w[2]=r;return w}function x(f,m,r){f[0]=m[0]-r[0];f[1]=
m[1]-r[1];f[2]=m[2]-r[2];return f}function F(f,m,r){f[0]=m[0]*r[0];f[1]=m[1]*r[1];f[2]=m[2]*r[2];return f}function I(f,m,r){f[0]=m[0]/r[0];f[1]=m[1]/r[1];f[2]=m[2]/r[2];return f}function M(f,m){return Math.hypot(m[0]-f[0],m[1]-f[1],m[2]-f[2])}function O(f,m){var r=m[0]-f[0],w=m[1]-f[1];f=m[2]-f[2];return r*r+w*w+f*f}function Q(f){var m=f[0],r=f[1];f=f[2];return m*m+r*r+f*f}function T(f,m){var r=m[0],w=m[1],z=m[2];r=r*r+w*w+z*z;0<r&&(r=1/Math.sqrt(r));f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;return f}function aa(f,
m){return f[0]*m[0]+f[1]*m[1]+f[2]*m[2]}function V(f,m,r){var w=m[0],z=m[1];m=m[2];var C=r[0],D=r[1];r=r[2];f[0]=z*r-m*D;f[1]=m*C-w*r;f[2]=w*D-z*C;return f}function Z(){var f=new ma(4);ma!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function ha(f){var m=new ma(4);m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];return m}function oa(f,m,r,w){var z=new ma(4);z[0]=f;z[1]=m;z[2]=r;z[3]=w;return z}function Y(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];return f}function ta(f,m,r,w,z){f[0]=m;f[1]=r;f[2]=
w;f[3]=z;return f}function ea(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];return f}function xa(f,m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];f[2]=m[2]-r[2];f[3]=m[3]-r[3];return f}function Ja(f,m,r){f[0]=m[0]*r[0];f[1]=m[1]*r[1];f[2]=m[2]*r[2];f[3]=m[3]*r[3];return f}function Va(f,m,r){f[0]=m[0]/r[0];f[1]=m[1]/r[1];f[2]=m[2]/r[2];f[3]=m[3]/r[3];return f}function Na(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;f[3]=m[3]*r;return f}function Wa(f,m){return Math.hypot(m[0]-f[0],m[1]-f[1],
m[2]-f[2],m[3]-f[3])}function Oa(f,m){var r=m[0]-f[0],w=m[1]-f[1],z=m[2]-f[2];f=m[3]-f[3];return r*r+w*w+z*z+f*f}function Ca(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Aa(f){var m=f[0],r=f[1],w=f[2];f=f[3];return m*m+r*r+w*w+f*f}function Ka(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=r*r+w*w+z*z+m*m;0<C&&(C=1/Math.sqrt(C));f[0]=r*C;f[1]=w*C;f[2]=z*C;f[3]=m*C;return f}function Ha(f,m){return f[0]*m[0]+f[1]*m[1]+f[2]*m[2]+f[3]*m[3]}function Xa(f,m,r,w){var z=m[0],C=m[1],D=m[2];m=m[3];f[0]=z+
w*(r[0]-z);f[1]=C+w*(r[1]-C);f[2]=D+w*(r[2]-D);f[3]=m+w*(r[3]-m);return f}function Ya(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]}function Za(f,m){var r=f[0],w=f[1],z=f[2];f=f[3];var C=m[0],D=m[1],G=m[2];m=m[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(w-D)<=1E-6*Math.max(1,Math.abs(w),Math.abs(D))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))}function La(){var f=new ma(4);ma!=Float32Array&&
(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function $a(f,m,r){r*=.5;var w=Math.sin(r);f[0]=w*m[0];f[1]=w*m[1];f[2]=w*m[2];f[3]=Math.cos(r);return f}function ab(f,m,r){var w=m[0],z=m[1],C=m[2];m=m[3];var D=r[0],G=r[1],H=r[2];r=r[3];f[0]=w*r+m*D+z*H-C*G;f[1]=z*r+m*G+C*D-w*H;f[2]=C*r+m*H+w*G-z*D;f[3]=m*r-w*D-z*G-C*H;return f}function bb(f,m,r){r*=.5;var w=m[0],z=m[1],C=m[2];m=m[3];var D=Math.sin(r);r=Math.cos(r);f[0]=w*r+m*D;f[1]=z*r+C*D;f[2]=C*r-z*D;f[3]=m*r-w*D;return f}function cb(f,m,r){r*=.5;var w=
m[0],z=m[1],C=m[2];m=m[3];var D=Math.sin(r);r=Math.cos(r);f[0]=w*r-C*D;f[1]=z*r+m*D;f[2]=C*r+w*D;f[3]=m*r-z*D;return f}function db(f,m,r){r*=.5;var w=m[0],z=m[1],C=m[2];m=m[3];var D=Math.sin(r);r=Math.cos(r);f[0]=w*r+z*D;f[1]=z*r-w*D;f[2]=C*r+m*D;f[3]=m*r-C*D;return f}function eb(f,m){var r=m[0],w=m[1],z=m[2],C=Math.sqrt(r*r+w*w+z*z);m=Math.exp(m[3]);var D=0<C?m*Math.sin(C)/C:0;f[0]=r*D;f[1]=w*D;f[2]=z*D;f[3]=m*Math.cos(C);return f}function fb(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=Math.sqrt(r*
r+w*w+z*z);C=0<C?Math.atan2(C,m)/C:0;f[0]=r*C;f[1]=w*C;f[2]=z*C;f[3]=.5*Math.log(r*r+w*w+z*z+m*m);return f}function Ma(f,m,r,w){var z=m[0],C=m[1],D=m[2];m=m[3];var G=r[0],H=r[1],L=r[2];r=r[3];var N=z*G+C*H+D*L+m*r;0>N&&(N=-N,G=-G,H=-H,L=-L,r=-r);if(1E-6<1-N){var P=Math.acos(N);var U=Math.sin(P);N=Math.sin((1-w)*P)/U;w=Math.sin(w*P)/U}else N=1-w;f[0]=N*z+w*G;f[1]=N*C+w*H;f[2]=N*D+w*L;f[3]=N*m+w*r;return f}function gb(f,m){var r=m[0]+m[4]+m[8];if(0<r)r=Math.sqrt(r+1),f[3]=.5*r,r=.5/r,f[0]=(m[5]-m[7])*
r,f[1]=(m[6]-m[2])*r,f[2]=(m[1]-m[3])*r;else{var w=0;m[4]>m[0]&&(w=1);m[8]>m[3*w+w]&&(w=2);var z=(w+1)%3,C=(w+2)%3;r=Math.sqrt(m[3*w+w]-m[3*z+z]-m[3*C+C]+1);f[w]=.5*r;r=.5/r;f[3]=(m[3*z+C]-m[3*C+z])*r;f[z]=(m[3*z+w]+m[3*w+z])*r;f[C]=(m[3*C+w]+m[3*w+C])*r}return f}function hb(f,m,r){var w=.5*r[0],z=.5*r[1];r=.5*r[2];var C=m[0],D=m[1],G=m[2];m=m[3];f[0]=C;f[1]=D;f[2]=G;f[3]=m;f[4]=w*m+z*G-r*D;f[5]=z*m+r*C-w*G;f[6]=r*m+w*D-z*C;f[7]=-w*C-z*D-r*G;return f}function ib(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];
f[3]=m[3];f[4]=m[4];f[5]=m[5];f[6]=m[6];f[7]=m[7];return f}function jb(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=r[4],H=r[5],L=r[6],N=r[7],P=m[4],U=m[5],R=m[6];m=m[7];var ca=r[0],ba=r[1],W=r[2];r=r[3];f[0]=w*r+D*ca+z*W-C*ba;f[1]=z*r+D*ba+C*ca-w*W;f[2]=C*r+D*W+w*ba-z*ca;f[3]=D*r-w*ca-z*ba-C*W;f[4]=w*N+D*G+z*L-C*H+P*r+m*ca+U*W-R*ba;f[5]=z*N+D*H+C*G-w*L+U*r+m*ba+R*ca-P*W;f[6]=C*N+D*L+w*H-z*G+R*r+m*W+P*ba-U*ca;f[7]=D*N-w*G-z*H-C*L+m*r-P*ca-U*ba-R*W;return f}function kb(){var f=new ma(2);ma!=Float32Array&&
(f[0]=0,f[1]=0);return f}function lb(f,m,r){f[0]=m[0]-r[0];f[1]=m[1]-r[1];return f}function mb(f,m,r){f[0]=m[0]*r[0];f[1]=m[1]*r[1];return f}function nb(f,m,r){f[0]=m[0]/r[0];f[1]=m[1]/r[1];return f}function ob(f,m){return Math.hypot(m[0]-f[0],m[1]-f[1])}function pb(f,m){var r=m[0]-f[0];f=m[1]-f[1];return r*r+f*f}function qb(f){return Math.hypot(f[0],f[1])}function rb(f){var m=f[0];f=f[1];return m*m+f*f}var ma="undefined"!==typeof Float32Array?Float32Array:Array,ya=Math.random,vb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var f=0,m=arguments.length;m--;)f+=arguments[m]*arguments[m];return Math.sqrt(f)});var wb=Object.freeze({__proto__:null,EPSILON:1E-6,get T9(){return ma},vda:ya,Sja:function(f){ma=f},aka:function(f){return f*vb},Nc:function(f,m){return Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))}}),xb=Object.freeze({__proto__:null,create:function(){var f=new ma(4);ma!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var m=new ma(4);m[0]=f[0];m[1]=f[1];m[2]=
f[2];m[3]=f[3];return m},wa:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];return f},yu:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},yd:function(f,m,r,w){var z=new ma(4);z[0]=f;z[1]=m;z[2]=r;z[3]=w;return z},set:function(f,m,r,w,z){f[0]=m;f[1]=r;f[2]=w;f[3]=z;return f},cR:function(f,m){if(f===m){var r=m[1];f[1]=m[2];f[2]=r}else f[0]=m[0],f[1]=m[2],f[2]=m[1],f[3]=m[3];return f},Au:function(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=r*m-z*w;if(!C)return null;C=1/C;f[0]=m*C;f[1]=-w*C;f[2]=
-z*C;f[3]=r*C;return f},nQ:function(f,m){var r=m[0];f[0]=m[3];f[1]=-m[1];f[2]=-m[2];f[3]=r;return f},gH:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,m,r){var w=m[0],z=m[1],C=m[2];m=m[3];var D=Math.sin(r);r=Math.cos(r);f[0]=w*r+C*D;f[1]=z*r+m*D;f[2]=w*-D+C*r;f[3]=z*-D+m*r;return f},scale:function(f,m,r){var w=m[1],z=m[2],C=m[3],D=r[0];r=r[1];f[0]=m[0]*D;f[1]=w*D;f[2]=z*r;f[3]=C*r;return f},Zz:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=m;f[1]=r;f[2]=-r;f[3]=m;return f},
jH:function(f,m){f[0]=m[0];f[1]=0;f[2]=0;f[3]=m[1];return f},Pk:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},iH:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Nba:function(f,m,r,w){f[2]=w[2]/w[0];r[0]=w[0];r[1]=w[1];r[3]=w[3]-f[2]*r[1];return[f,m,r]},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];return f},Zq:a,qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]},Nc:function(f,m){var r=f[0],w=f[1],z=f[2];f=f[3];var C=
m[0],D=m[1],G=m[2];m=m[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(w-D)<=1E-6*Math.max(1,Math.abs(w),Math.abs(D))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))},wH:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;f[3]=m[3]*r;return f},xH:function(f,m,r,w){f[0]=m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;f[3]=m[3]+r[3]*w;return f},tm:b,sub:a}),yb=Object.freeze({__proto__:null,create:function(){var f=
new ma(6);ma!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var m=new ma(6);m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];return m},wa:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];f[4]=m[4];f[5]=m[5];return f},yu:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},yd:function(f,m,r,w,z,C){var D=new ma(6);D[0]=f;D[1]=m;D[2]=r;D[3]=w;D[4]=z;D[5]=C;return D},set:function(f,m,r,w,z,C,D){f[0]=m;f[1]=r;f[2]=w;f[3]=z;f[4]=C;f[5]=
D;return f},Au:function(f,m){var r=m[0],w=m[1],z=m[2],C=m[3],D=m[4];m=m[5];var G=r*C-w*z;if(!G)return null;G=1/G;f[0]=C*G;f[1]=-w*G;f[2]=-z*G;f[3]=r*G;f[4]=(z*m-C*D)*G;f[5]=(w*D-r*m)*G;return f},gH:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:g,rotate:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4];m=m[5];var H=Math.sin(r);r=Math.cos(r);f[0]=w*r+C*H;f[1]=z*r+D*H;f[2]=w*-H+C*r;f[3]=z*-H+D*r;f[4]=G;f[5]=m;return f},scale:function(f,m,r){var w=m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=r[0];r=r[1];
f[0]=m[0]*H;f[1]=w*H;f[2]=z*r;f[3]=C*r;f[4]=D;f[5]=G;return f},translate:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4];m=m[5];var H=r[0];r=r[1];f[0]=w;f[1]=z;f[2]=C;f[3]=D;f[4]=w*H+C*r+G;f[5]=z*H+D*r+m;return f},Zz:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=m;f[1]=r;f[2]=-r;f[3]=m;f[4]=0;f[5]=0;return f},jH:function(f,m){f[0]=m[0];f[1]=0;f[2]=0;f[3]=m[1];f[4]=0;f[5]=0;return f},kH:function(f,m){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=m[0];f[5]=m[1];return f},Pk:function(f){return"mat2d("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},iH:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];f[4]=m[4]+r[4];f[5]=m[5]+r[5];return f},Zq:c,wH:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;f[3]=m[3]*r;f[4]=m[4]*r;f[5]=m[5]*r;return f},xH:function(f,m,r,w){f[0]=m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;f[3]=m[3]+r[3]*w;f[4]=m[4]+r[4]*w;f[5]=m[5]+r[5]*w;return f},qm:function(f,m){return f[0]===
m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]&&f[4]===m[4]&&f[5]===m[5]},Nc:function(f,m){var r=f[0],w=f[1],z=f[2],C=f[3],D=f[4];f=f[5];var G=m[0],H=m[1],L=m[2],N=m[3],P=m[4];m=m[5];return Math.abs(r-G)<=1E-6*Math.max(1,Math.abs(r),Math.abs(G))&&Math.abs(w-H)<=1E-6*Math.max(1,Math.abs(w),Math.abs(H))&&Math.abs(z-L)<=1E-6*Math.max(1,Math.abs(z),Math.abs(L))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),Math.abs(N))&&Math.abs(D-P)<=1E-6*Math.max(1,Math.abs(D),Math.abs(P))&&Math.abs(f-m)<=1E-6*Math.max(1,
Math.abs(f),Math.abs(m))},tm:g,sub:c}),zb=Object.freeze({__proto__:null,create:d,w8:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[4];f[4]=m[5];f[5]=m[6];f[6]=m[8];f[7]=m[9];f[8]=m[10];return f},clone:function(f){var m=new ma(9);m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=f[6];m[7]=f[7];m[8]=f[8];return m},wa:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];f[4]=m[4];f[5]=m[5];f[6]=m[6];f[7]=m[7];f[8]=m[8];return f},yd:function(f,m,r,w,z,C,D,G,H){var L=new ma(9);L[0]=
f;L[1]=m;L[2]=r;L[3]=w;L[4]=z;L[5]=C;L[6]=D;L[7]=G;L[8]=H;return L},set:function(f,m,r,w,z,C,D,G,H,L){f[0]=m;f[1]=r;f[2]=w;f[3]=z;f[4]=C;f[5]=D;f[6]=G;f[7]=H;f[8]=L;return f},yu:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},cR:function(f,m){if(f===m){var r=m[1],w=m[2],z=m[5];f[1]=m[3];f[2]=m[6];f[3]=r;f[5]=m[7];f[6]=w;f[7]=z}else f[0]=m[0],f[1]=m[3],f[2]=m[6],f[3]=m[1],f[4]=m[4],f[5]=m[7],f[6]=m[2],f[7]=m[5],f[8]=m[8];return f},Au:function(f,m){var r=m[0],w=
m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=m[6],L=m[7];m=m[8];var N=m*D-G*L,P=-m*C+G*H,U=L*C-D*H,R=r*N+w*P+z*U;if(!R)return null;R=1/R;f[0]=N*R;f[1]=(-m*w+z*L)*R;f[2]=(G*w-z*D)*R;f[3]=P*R;f[4]=(m*r-z*H)*R;f[5]=(-G*r+z*C)*R;f[6]=U*R;f[7]=(-L*r+w*H)*R;f[8]=(D*r-w*C)*R;return f},nQ:function(f,m){var r=m[0],w=m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=m[6],L=m[7];m=m[8];f[0]=D*m-G*L;f[1]=z*L-w*m;f[2]=w*G-z*D;f[3]=G*H-C*m;f[4]=r*m-z*H;f[5]=z*C-r*G;f[6]=C*L-D*H;f[7]=w*H-r*L;f[8]=r*D-w*C;return f},gH:function(f){var m=
f[3],r=f[4],w=f[5],z=f[6],C=f[7],D=f[8];return f[0]*(D*r-w*C)+f[1]*(-D*m+w*z)+f[2]*(C*m-r*z)},multiply:k,translate:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7];m=m[8];var P=r[0];r=r[1];f[0]=w;f[1]=z;f[2]=C;f[3]=D;f[4]=G;f[5]=H;f[6]=P*w+r*D+L;f[7]=P*z+r*G+N;f[8]=P*C+r*H+m;return f},rotate:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7];m=m[8];var P=Math.sin(r);r=Math.cos(r);f[0]=r*w+P*D;f[1]=r*z+P*G;f[2]=r*C+P*H;f[3]=r*D-P*w;f[4]=r*G-P*z;f[5]=
r*H-P*C;f[6]=L;f[7]=N;f[8]=m;return f},scale:function(f,m,r){var w=r[0];r=r[1];f[0]=w*m[0];f[1]=w*m[1];f[2]=w*m[2];f[3]=r*m[3];f[4]=r*m[4];f[5]=r*m[5];f[6]=m[6];f[7]=m[7];f[8]=m[8];return f},kH:function(f,m){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=m[0];f[7]=m[1];f[8]=1;return f},Zz:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=m;f[1]=r;f[2]=0;f[3]=-r;f[4]=m;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},jH:function(f,m){f[0]=m[0];f[1]=0;f[2]=0;f[3]=0;f[4]=m[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},
Tha:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=0;f[3]=m[2];f[4]=m[3];f[5]=0;f[6]=m[4];f[7]=m[5];f[8]=1;return f},x8:function(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=r+r,D=w+w,G=z+z;r*=C;var H=w*C;w*=D;var L=z*C,N=z*D;z*=G;C*=m;D*=m;m*=G;f[0]=1-w-z;f[3]=H-m;f[6]=L+D;f[1]=H+m;f[4]=1-r-z;f[7]=N-C;f[2]=L-D;f[5]=N+C;f[8]=1-r-w;return f},$ia:function(f,m){var r=m[0],w=m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=m[6],L=m[7],N=m[8],P=m[9],U=m[10],R=m[11],ca=m[12],ba=m[13],W=m[14];m=m[15];var ra=r*G-w*D,la=r*H-z*D,
pa=r*L-C*D,qa=w*H-z*G,na=w*L-C*G,J=z*L-C*H,K=N*ba-P*ca,S=N*W-U*ca;N=N*m-R*ca;var X=P*W-U*ba;P=P*m-R*ba;U=U*m-R*W;R=ra*U-la*P+pa*X+qa*N-na*S+J*K;if(!R)return null;R=1/R;f[0]=(G*U-H*P+L*X)*R;f[1]=(H*N-D*U-L*S)*R;f[2]=(D*P-G*N+L*K)*R;f[3]=(z*P-w*U-C*X)*R;f[4]=(r*U-z*N+C*S)*R;f[5]=(w*N-r*P-C*K)*R;f[6]=(ba*J-W*na+m*qa)*R;f[7]=(W*pa-ca*J-m*la)*R;f[8]=(ca*na-ba*pa+m*ra)*R;return f},mja:function(f,m,r){f[0]=2/m;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/r;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Pk:function(f){return"mat3("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},iH:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];f[4]=m[4]+r[4];f[5]=m[5]+r[5];f[6]=m[6]+r[6];f[7]=m[7]+r[7];f[8]=m[8]+r[8];return f},Zq:h,wH:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;f[3]=m[3]*r;f[4]=m[4]*r;f[5]=m[5]*r;f[6]=m[6]*r;f[7]=m[7]*r;f[8]=m[8]*r;return f},xH:function(f,m,r,w){f[0]=
m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;f[3]=m[3]+r[3]*w;f[4]=m[4]+r[4]*w;f[5]=m[5]+r[5]*w;f[6]=m[6]+r[6]*w;f[7]=m[7]+r[7]*w;f[8]=m[8]+r[8]*w;return f},qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]&&f[4]===m[4]&&f[5]===m[5]&&f[6]===m[6]&&f[7]===m[7]&&f[8]===m[8]},Nc:function(f,m){var r=f[0],w=f[1],z=f[2],C=f[3],D=f[4],G=f[5],H=f[6],L=f[7];f=f[8];var N=m[0],P=m[1],U=m[2],R=m[3],ca=m[4],ba=m[5],W=m[6],ra=m[7];m=m[8];return Math.abs(r-N)<=1E-6*Math.max(1,Math.abs(r),
Math.abs(N))&&Math.abs(w-P)<=1E-6*Math.max(1,Math.abs(w),Math.abs(P))&&Math.abs(z-U)<=1E-6*Math.max(1,Math.abs(z),Math.abs(U))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(D-ca)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ca))&&Math.abs(G-ba)<=1E-6*Math.max(1,Math.abs(G),Math.abs(ba))&&Math.abs(H-W)<=1E-6*Math.max(1,Math.abs(H),Math.abs(W))&&Math.abs(L-ra)<=1E-6*Math.max(1,Math.abs(L),Math.abs(ra))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))},tm:k,sub:h}),Ab=Object.freeze({__proto__:null,
create:function(){var f=new ma(16);ma!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var m=new ma(16);m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=f[6];m[7]=f[7];m[8]=f[8];m[9]=f[9];m[10]=f[10];m[11]=f[11];m[12]=f[12];m[13]=f[13];m[14]=f[14];m[15]=f[15];return m},wa:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];f[4]=m[4];f[5]=m[5];f[6]=m[6];f[7]=m[7];f[8]=
m[8];f[9]=m[9];f[10]=m[10];f[11]=m[11];f[12]=m[12];f[13]=m[13];f[14]=m[14];f[15]=m[15];return f},yd:function(f,m,r,w,z,C,D,G,H,L,N,P,U,R,ca,ba){var W=new ma(16);W[0]=f;W[1]=m;W[2]=r;W[3]=w;W[4]=z;W[5]=C;W[6]=D;W[7]=G;W[8]=H;W[9]=L;W[10]=N;W[11]=P;W[12]=U;W[13]=R;W[14]=ca;W[15]=ba;return W},set:function(f,m,r,w,z,C,D,G,H,L,N,P,U,R,ca,ba,W){f[0]=m;f[1]=r;f[2]=w;f[3]=z;f[4]=C;f[5]=D;f[6]=G;f[7]=H;f[8]=L;f[9]=N;f[10]=P;f[11]=U;f[12]=R;f[13]=ca;f[14]=ba;f[15]=W;return f},yu:l,cR:function(f,m){if(f===m){var r=
m[1],w=m[2],z=m[3],C=m[6],D=m[7],G=m[11];f[1]=m[4];f[2]=m[8];f[3]=m[12];f[4]=r;f[6]=m[9];f[7]=m[13];f[8]=w;f[9]=C;f[11]=m[14];f[12]=z;f[13]=D;f[14]=G}else f[0]=m[0],f[1]=m[4],f[2]=m[8],f[3]=m[12],f[4]=m[1],f[5]=m[5],f[6]=m[9],f[7]=m[13],f[8]=m[2],f[9]=m[6],f[10]=m[10],f[11]=m[14],f[12]=m[3],f[13]=m[7],f[14]=m[11],f[15]=m[15];return f},Au:function(f,m){var r=m[0],w=m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=m[6],L=m[7],N=m[8],P=m[9],U=m[10],R=m[11],ca=m[12],ba=m[13],W=m[14];m=m[15];var ra=r*G-w*D,la=r*H-z*
D,pa=r*L-C*D,qa=w*H-z*G,na=w*L-C*G,J=z*L-C*H,K=N*ba-P*ca,S=N*W-U*ca,X=N*m-R*ca,da=P*W-U*ba,ia=P*m-R*ba,fa=U*m-R*W,ja=ra*fa-la*ia+pa*da+qa*X-na*S+J*K;if(!ja)return null;ja=1/ja;f[0]=(G*fa-H*ia+L*da)*ja;f[1]=(z*ia-w*fa-C*da)*ja;f[2]=(ba*J-W*na+m*qa)*ja;f[3]=(U*na-P*J-R*qa)*ja;f[4]=(H*X-D*fa-L*S)*ja;f[5]=(r*fa-z*X+C*S)*ja;f[6]=(W*pa-ca*J-m*la)*ja;f[7]=(N*J-U*pa+R*la)*ja;f[8]=(D*ia-G*X+L*K)*ja;f[9]=(w*X-r*ia-C*K)*ja;f[10]=(ca*na-ba*pa+m*ra)*ja;f[11]=(P*pa-N*na-R*ra)*ja;f[12]=(G*S-D*da-H*K)*ja;f[13]=(r*
da-w*S+z*K)*ja;f[14]=(ba*la-ca*qa-W*ra)*ja;f[15]=(N*qa-P*la+U*ra)*ja;return f},nQ:function(f,m){var r=m[0],w=m[1],z=m[2],C=m[3],D=m[4],G=m[5],H=m[6],L=m[7],N=m[8],P=m[9],U=m[10],R=m[11],ca=m[12],ba=m[13],W=m[14];m=m[15];f[0]=G*(U*m-R*W)-P*(H*m-L*W)+ba*(H*R-L*U);f[1]=-(w*(U*m-R*W)-P*(z*m-C*W)+ba*(z*R-C*U));f[2]=w*(H*m-L*W)-G*(z*m-C*W)+ba*(z*L-C*H);f[3]=-(w*(H*R-L*U)-G*(z*R-C*U)+P*(z*L-C*H));f[4]=-(D*(U*m-R*W)-N*(H*m-L*W)+ca*(H*R-L*U));f[5]=r*(U*m-R*W)-N*(z*m-C*W)+ca*(z*R-C*U);f[6]=-(r*(H*m-L*W)-D*
(z*m-C*W)+ca*(z*L-C*H));f[7]=r*(H*R-L*U)-D*(z*R-C*U)+N*(z*L-C*H);f[8]=D*(P*m-R*ba)-N*(G*m-L*ba)+ca*(G*R-L*P);f[9]=-(r*(P*m-R*ba)-N*(w*m-C*ba)+ca*(w*R-C*P));f[10]=r*(G*m-L*ba)-D*(w*m-C*ba)+ca*(w*L-C*G);f[11]=-(r*(G*R-L*P)-D*(w*R-C*P)+N*(w*L-C*G));f[12]=-(D*(P*W-U*ba)-N*(G*W-H*ba)+ca*(G*U-H*P));f[13]=r*(P*W-U*ba)-N*(w*W-z*ba)+ca*(w*U-z*P);f[14]=-(r*(G*W-H*ba)-D*(w*W-z*ba)+ca*(w*H-z*G));f[15]=r*(G*U-H*P)-D*(w*U-z*P)+N*(w*H-z*G);return f},gH:function(f){var m=f[0],r=f[1],w=f[2],z=f[3],C=f[4],D=f[5],G=
f[6],H=f[7],L=f[8],N=f[9],P=f[10],U=f[11],R=f[12],ca=f[13],ba=f[14];f=f[15];return(m*D-r*C)*(P*f-U*ba)-(m*G-w*C)*(N*f-U*ca)+(m*H-z*C)*(N*ba-P*ca)+(r*G-w*D)*(L*f-U*R)-(r*H-z*D)*(L*ba-P*R)+(w*H-z*G)*(L*ca-N*R)},multiply:p,translate:function(f,m,r){var w=r[0],z=r[1];r=r[2];if(m===f)f[12]=m[0]*w+m[4]*z+m[8]*r+m[12],f[13]=m[1]*w+m[5]*z+m[9]*r+m[13],f[14]=m[2]*w+m[6]*z+m[10]*r+m[14],f[15]=m[3]*w+m[7]*z+m[11]*r+m[15];else{var C=m[0];var D=m[1];var G=m[2];var H=m[3];var L=m[4];var N=m[5];var P=m[6];var U=
m[7];var R=m[8];var ca=m[9];var ba=m[10];var W=m[11];f[0]=C;f[1]=D;f[2]=G;f[3]=H;f[4]=L;f[5]=N;f[6]=P;f[7]=U;f[8]=R;f[9]=ca;f[10]=ba;f[11]=W;f[12]=C*w+L*z+R*r+m[12];f[13]=D*w+N*z+ca*r+m[13];f[14]=G*w+P*z+ba*r+m[14];f[15]=H*w+U*z+W*r+m[15]}return f},scale:function(f,m,r){var w=r[0],z=r[1];r=r[2];f[0]=m[0]*w;f[1]=m[1]*w;f[2]=m[2]*w;f[3]=m[3]*w;f[4]=m[4]*z;f[5]=m[5]*z;f[6]=m[6]*z;f[7]=m[7]*z;f[8]=m[8]*r;f[9]=m[9]*r;f[10]=m[10]*r;f[11]=m[11]*r;f[12]=m[12];f[13]=m[13];f[14]=m[14];f[15]=m[15];return f},
rotate:function(f,m,r,w){var z=w[0],C=w[1];w=w[2];var D=Math.hypot(z,C,w);if(1E-6>D)return null;D=1/D;z*=D;C*=D;w*=D;var G=Math.sin(r);var H=Math.cos(r);var L=1-H;r=m[0];D=m[1];var N=m[2];var P=m[3];var U=m[4];var R=m[5];var ca=m[6];var ba=m[7];var W=m[8];var ra=m[9];var la=m[10];var pa=m[11];var qa=z*z*L+H;var na=C*z*L+w*G;var J=w*z*L-C*G;var K=z*C*L-w*G;var S=C*C*L+H;var X=w*C*L+z*G;var da=z*w*L+C*G;z=C*w*L-z*G;C=w*w*L+H;f[0]=r*qa+U*na+W*J;f[1]=D*qa+R*na+ra*J;f[2]=N*qa+ca*na+la*J;f[3]=P*qa+ba*na+
pa*J;f[4]=r*K+U*S+W*X;f[5]=D*K+R*S+ra*X;f[6]=N*K+ca*S+la*X;f[7]=P*K+ba*S+pa*X;f[8]=r*da+U*z+W*C;f[9]=D*da+R*z+ra*C;f[10]=N*da+ca*z+la*C;f[11]=P*da+ba*z+pa*C;m!==f&&(f[12]=m[12],f[13]=m[13],f[14]=m[14],f[15]=m[15]);return f},KH:function(f,m,r){var w=Math.sin(r);r=Math.cos(r);var z=m[4],C=m[5],D=m[6],G=m[7],H=m[8],L=m[9],N=m[10],P=m[11];m!==f&&(f[0]=m[0],f[1]=m[1],f[2]=m[2],f[3]=m[3],f[12]=m[12],f[13]=m[13],f[14]=m[14],f[15]=m[15]);f[4]=z*r+H*w;f[5]=C*r+L*w;f[6]=D*r+N*w;f[7]=G*r+P*w;f[8]=H*r-z*w;f[9]=
L*r-C*w;f[10]=N*r-D*w;f[11]=P*r-G*w;return f},LH:function(f,m,r){var w=Math.sin(r);r=Math.cos(r);var z=m[0],C=m[1],D=m[2],G=m[3],H=m[8],L=m[9],N=m[10],P=m[11];m!==f&&(f[4]=m[4],f[5]=m[5],f[6]=m[6],f[7]=m[7],f[12]=m[12],f[13]=m[13],f[14]=m[14],f[15]=m[15]);f[0]=z*r-H*w;f[1]=C*r-L*w;f[2]=D*r-N*w;f[3]=G*r-P*w;f[8]=z*w+H*r;f[9]=C*w+L*r;f[10]=D*w+N*r;f[11]=G*w+P*r;return f},MH:function(f,m,r){var w=Math.sin(r);r=Math.cos(r);var z=m[0],C=m[1],D=m[2],G=m[3],H=m[4],L=m[5],N=m[6],P=m[7];m!==f&&(f[8]=m[8],
f[9]=m[9],f[10]=m[10],f[11]=m[11],f[12]=m[12],f[13]=m[13],f[14]=m[14],f[15]=m[15]);f[0]=z*r+H*w;f[1]=C*r+L*w;f[2]=D*r+N*w;f[3]=G*r+P*w;f[4]=H*r-z*w;f[5]=L*r-C*w;f[6]=N*r-D*w;f[7]=P*r-G*w;return f},kH:function(f,m){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f},jH:function(f,m){f[0]=m[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=m[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=m[2];f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},
Zz:function(f,m,r){var w=r[0],z=r[1];r=r[2];var C=Math.hypot(w,z,r);if(1E-6>C)return null;C=1/C;w*=C;z*=C;r*=C;C=Math.sin(m);m=Math.cos(m);var D=1-m;f[0]=w*w*D+m;f[1]=z*w*D+r*C;f[2]=r*w*D-z*C;f[3]=0;f[4]=w*z*D-r*C;f[5]=z*z*D+m;f[6]=r*z*D+w*C;f[7]=0;f[8]=w*r*D+z*C;f[9]=z*r*D-w*C;f[10]=r*r*D+m;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Zha:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=m;f[6]=r;f[7]=0;f[8]=0;f[9]=-r;f[10]=m;f[11]=0;f[12]=0;f[13]=0;f[14]=
0;f[15]=1;return f},$ha:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=m;f[1]=0;f[2]=-r;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=r;f[9]=0;f[10]=m;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},aia:function(f,m){var r=Math.sin(m);m=Math.cos(m);f[0]=m;f[1]=r;f[2]=0;f[3]=0;f[4]=-r;f[5]=m;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},y8:n,Vha:function(f,m){var r=new ma(3),w=-m[0],z=-m[1],C=-m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7],P=w*w+z*z+C*C+D*D;0<P?(r[0]=
2*(G*D+N*w+H*C-L*z)/P,r[1]=2*(H*D+N*z+L*w-G*C)/P,r[2]=2*(L*D+N*C+G*z-H*w)/P):(r[0]=2*(G*D+N*w+H*C-L*z),r[1]=2*(H*D+N*z+L*w-G*C),r[2]=2*(L*D+N*C+G*z-H*w));n(f,m,r);return f},A8:t,mia:q,lia:u,Wha:function(f,m,r,w){var z=m[0],C=m[1],D=m[2],G=m[3],H=z+z,L=C+C,N=D+D;m=z*H;var P=z*L;z*=N;var U=C*L;C*=N;D*=N;H*=G;L*=G;G*=N;N=w[0];var R=w[1];w=w[2];f[0]=(1-(U+D))*N;f[1]=(P+G)*N;f[2]=(z-L)*N;f[3]=0;f[4]=(P-G)*R;f[5]=(1-(m+D))*R;f[6]=(C+H)*R;f[7]=0;f[8]=(z+L)*w;f[9]=(C-H)*w;f[10]=(1-(m+U))*w;f[11]=0;f[12]=
r[0];f[13]=r[1];f[14]=r[2];f[15]=1;return f},Xha:function(f,m,r,w,z){var C=m[0],D=m[1],G=m[2],H=m[3],L=C+C,N=D+D,P=G+G;m=C*L;var U=C*N,R=C*P;C=D*N;D*=P;var ca=G*P;G=H*L;N*=H;var ba=H*P,W=w[0],ra=w[1];P=w[2];w=z[0];H=z[1];z=z[2];L=(1-(C+ca))*W;var la=(U+ba)*W;W*=R-N;U=(U-ba)*ra;ca=(1-(m+ca))*ra;ra*=D+G;R=(R+N)*P;D=(D-G)*P;m=(1-(m+C))*P;f[0]=L;f[1]=la;f[2]=W;f[3]=0;f[4]=U;f[5]=ca;f[6]=ra;f[7]=0;f[8]=R;f[9]=D;f[10]=m;f[11]=0;f[12]=r[0]+w-(L*w+U*H+R*z);f[13]=r[1]+H-(la*w+ca*H+D*z);f[14]=r[2]+z-(W*w+ra*
H+m*z);f[15]=1;return f},x8:function(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=r+r,D=w+w,G=z+z;r*=C;var H=w*C;w*=D;var L=z*C,N=z*D;z*=G;C*=m;D*=m;m*=G;f[0]=1-w-z;f[1]=H+m;f[2]=L-D;f[3]=0;f[4]=H-m;f[5]=1-r-z;f[6]=N+C;f[7]=0;f[8]=L+D;f[9]=N-C;f[10]=1-r-w;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},bia:function(f,m,r,w,z,C,D){var G=1/(r-m),H=1/(z-w),L=1/(C-D);f[0]=2*C*G;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*H;f[6]=0;f[7]=0;f[8]=(r+m)*G;f[9]=(z+w)*H;f[10]=(D+C)*L;f[11]=-1;f[12]=0;f[13]=0;f[14]=
D*C*2*L;f[15]=0;return f},perspective:function(f,m,r,w,z){m=1/Math.tan(m/2);f[0]=m/r;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=m;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=z&&Infinity!==z?(r=1/(w-z),f[10]=(z+w)*r,f[14]=2*z*w*r):(f[10]=-1,f[14]=-2*w);return f},hja:function(f,m,r,w){var z=Math.tan(m.hka*Math.PI/180),C=Math.tan(m.Gha*Math.PI/180),D=Math.tan(m.Oia*Math.PI/180);m=Math.tan(m.Dja*Math.PI/180);var G=2/(D+m),H=2/(z+C);f[0]=G;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=H;f[6]=0;f[7]=0;
f[8]=-((D-m)*G*.5);f[9]=(z-C)*H*.5;f[10]=w/(r-w);f[11]=-1;f[12]=0;f[13]=0;f[14]=w*r/(r-w);f[15]=0;return f},gja:function(f,m,r,w,z,C,D){var G=1/(m-r),H=1/(w-z),L=1/(C-D);f[0]=-2*G;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*H;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*L;f[11]=0;f[12]=(m+r)*G;f[13]=(z+w)*H;f[14]=(D+C)*L;f[15]=1;return f},rH:function(f,m,r,w){var z=m[0],C=m[1];m=m[2];var D=w[0];var G=w[1];var H=w[2];var L=r[0];w=r[1];var N=r[2];if(1E-6>Math.abs(z-L)&&1E-6>Math.abs(C-w)&&1E-6>Math.abs(m-N))return l(f);
r=z-L;w=C-w;L=m-N;var P=1/Math.hypot(r,w,L);r*=P;w*=P;L*=P;N=G*L-H*w;H=H*r-D*L;D=D*w-G*r;(P=Math.hypot(N,H,D))?(P=1/P,N*=P,H*=P,D*=P):D=H=N=0;G=w*D-L*H;var U=L*N-r*D;var R=r*H-w*N;(P=Math.hypot(G,U,R))?(P=1/P,G*=P,U*=P,R*=P):R=U=G=0;f[0]=N;f[1]=G;f[2]=r;f[3]=0;f[4]=H;f[5]=U;f[6]=w;f[7]=0;f[8]=D;f[9]=R;f[10]=L;f[11]=0;f[12]=-(N*z+H*C+D*m);f[13]=-(G*z+U*C+R*m);f[14]=-(r*z+w*C+L*m);f[15]=1;return f},Zja:function(f,m,r,w){var z=m[0],C=m[1];m=m[2];var D=w[0],G=w[1],H=w[2];w=z-r[0];var L=C-r[1];r=m-r[2];
var N=w*w+L*L+r*r;0<N&&(N=1/Math.sqrt(N),w*=N,L*=N,r*=N);var P=G*r-H*L;H=H*w-D*r;D=D*L-G*w;N=P*P+H*H+D*D;0<N&&(N=1/Math.sqrt(N),P*=N,H*=N,D*=N);f[0]=P;f[1]=H;f[2]=D;f[3]=0;f[4]=L*D-r*H;f[5]=r*P-w*D;f[6]=w*H-L*P;f[7]=0;f[8]=w;f[9]=L;f[10]=r;f[11]=0;f[12]=z;f[13]=C;f[14]=m;f[15]=1;return f},Pk:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},iH:function(f){return Math.hypot(f[0],
f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];f[4]=m[4]+r[4];f[5]=m[5]+r[5];f[6]=m[6]+r[6];f[7]=m[7]+r[7];f[8]=m[8]+r[8];f[9]=m[9]+r[9];f[10]=m[10]+r[10];f[11]=m[11]+r[11];f[12]=m[12]+r[12];f[13]=m[13]+r[13];f[14]=m[14]+r[14];f[15]=m[15]+r[15];return f},Zq:v,wH:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;f[3]=m[3]*r;f[4]=m[4]*r;f[5]=m[5]*r;f[6]=m[6]*r;f[7]=m[7]*r;f[8]=m[8]*
r;f[9]=m[9]*r;f[10]=m[10]*r;f[11]=m[11]*r;f[12]=m[12]*r;f[13]=m[13]*r;f[14]=m[14]*r;f[15]=m[15]*r;return f},xH:function(f,m,r,w){f[0]=m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;f[3]=m[3]+r[3]*w;f[4]=m[4]+r[4]*w;f[5]=m[5]+r[5]*w;f[6]=m[6]+r[6]*w;f[7]=m[7]+r[7]*w;f[8]=m[8]+r[8]*w;f[9]=m[9]+r[9]*w;f[10]=m[10]+r[10]*w;f[11]=m[11]+r[11]*w;f[12]=m[12]+r[12]*w;f[13]=m[13]+r[13]*w;f[14]=m[14]+r[14]*w;f[15]=m[15]+r[15]*w;return f},qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]&&
f[4]===m[4]&&f[5]===m[5]&&f[6]===m[6]&&f[7]===m[7]&&f[8]===m[8]&&f[9]===m[9]&&f[10]===m[10]&&f[11]===m[11]&&f[12]===m[12]&&f[13]===m[13]&&f[14]===m[14]&&f[15]===m[15]},Nc:function(f,m){var r=f[0],w=f[1],z=f[2],C=f[3],D=f[4],G=f[5],H=f[6],L=f[7],N=f[8],P=f[9],U=f[10],R=f[11],ca=f[12],ba=f[13],W=f[14];f=f[15];var ra=m[0],la=m[1],pa=m[2],qa=m[3],na=m[4],J=m[5],K=m[6],S=m[7],X=m[8],da=m[9],ia=m[10],fa=m[11],ja=m[12],sa=m[13],va=m[14];m=m[15];return Math.abs(r-ra)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ra))&&
Math.abs(w-la)<=1E-6*Math.max(1,Math.abs(w),Math.abs(la))&&Math.abs(z-pa)<=1E-6*Math.max(1,Math.abs(z),Math.abs(pa))&&Math.abs(C-qa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(qa))&&Math.abs(D-na)<=1E-6*Math.max(1,Math.abs(D),Math.abs(na))&&Math.abs(G-J)<=1E-6*Math.max(1,Math.abs(G),Math.abs(J))&&Math.abs(H-K)<=1E-6*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(L-S)<=1E-6*Math.max(1,Math.abs(L),Math.abs(S))&&Math.abs(N-X)<=1E-6*Math.max(1,Math.abs(N),Math.abs(X))&&Math.abs(P-da)<=1E-6*Math.max(1,Math.abs(P),
Math.abs(da))&&Math.abs(U-ia)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(R-fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(fa))&&Math.abs(ca-ja)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(ja))&&Math.abs(ba-sa)<=1E-6*Math.max(1,Math.abs(ba),Math.abs(sa))&&Math.abs(W-va)<=1E-6*Math.max(1,Math.abs(W),Math.abs(va))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))},tm:p,sub:v}),Pa=function(){var f=A();return function(m,r,w,z,C,D){r||(r=3);w||(w=0);for(z=z?Math.min(z*r+w,m.length):m.length;w<z;w+=
r)f[0]=m[w],f[1]=m[w+1],f[2]=m[w+2],C(f,f,D),m[w]=f[0],m[w+1]=f[1],m[w+2]=f[2];return m}}();Pa=Object.freeze({__proto__:null,create:A,clone:function(f){var m=new ma(3);m[0]=f[0];m[1]=f[1];m[2]=f[2];return m},length:y,yd:E,wa:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];return f},set:function(f,m,r,w){f[0]=m;f[1]=r;f[2]=w;return f},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];return f},Zq:x,multiply:F,Gk:I,ceil:function(f,m){f[0]=Math.ceil(m[0]);f[1]=Math.ceil(m[1]);f[2]=Math.ceil(m[2]);
return f},floor:function(f,m){f[0]=Math.floor(m[0]);f[1]=Math.floor(m[1]);f[2]=Math.floor(m[2]);return f},min:function(f,m,r){f[0]=Math.min(m[0],r[0]);f[1]=Math.min(m[1],r[1]);f[2]=Math.min(m[2],r[2]);return f},max:function(f,m,r){f[0]=Math.max(m[0],r[0]);f[1]=Math.max(m[1],r[1]);f[2]=Math.max(m[2],r[2]);return f},round:function(f,m){f[0]=Math.round(m[0]);f[1]=Math.round(m[1]);f[2]=Math.round(m[2]);return f},scale:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*r;return f},SQ:function(f,m,r,w){f[0]=
m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;return f},vu:M,$Q:O,mA:Q,LQ:function(f,m){f[0]=-m[0];f[1]=-m[1];f[2]=-m[2];return f},inverse:function(f,m){f[0]=1/m[0];f[1]=1/m[1];f[2]=1/m[2];return f},normalize:T,Xz:aa,uQ:V,Be:function(f,m,r,w){var z=m[0],C=m[1];m=m[2];f[0]=z+w*(r[0]-z);f[1]=C+w*(r[1]-C);f[2]=m+w*(r[2]-m);return f},qia:function(f,m,r,w,z,C){var D=C*C,G=D*(2*C-3)+1,H=D*(C-2)+C,L=D*(C-1);C=D*(3-2*C);f[0]=m[0]*G+r[0]*H+w[0]*L+z[0]*C;f[1]=m[1]*G+r[1]*H+w[1]*L+z[1]*C;f[2]=m[2]*G+r[2]*H+
w[2]*L+z[2]*C;return f},pha:function(f,m,r,w,z,C){var D=1-C,G=D*D,H=C*C,L=G*D;G*=3*C;D*=3*H;C*=H;f[0]=m[0]*L+r[0]*G+w[0]*D+z[0]*C;f[1]=m[1]*L+r[1]*G+w[1]*D+z[1]*C;f[2]=m[2]*L+r[2]*G+w[2]*D+z[2]*C;return f},random:function(f,m){m=m||1;var r=2*ya()*Math.PI,w=2*ya()-1,z=Math.sqrt(1-w*w)*m;f[0]=Math.cos(r)*z;f[1]=Math.sin(r)*z;f[2]=w*m;return f},aR:function(f,m,r){var w=m[0],z=m[1];m=m[2];var C=r[3]*w+r[7]*z+r[11]*m+r[15];C=C||1;f[0]=(r[0]*w+r[4]*z+r[8]*m+r[12])/C;f[1]=(r[1]*w+r[5]*z+r[9]*m+r[13])/C;
f[2]=(r[2]*w+r[6]*z+r[10]*m+r[14])/C;return f},K9:function(f,m,r){var w=m[0],z=m[1];m=m[2];f[0]=w*r[0]+z*r[3]+m*r[6];f[1]=w*r[1]+z*r[4]+m*r[7];f[2]=w*r[2]+z*r[5]+m*r[8];return f},L9:function(f,m,r){var w=r[0],z=r[1],C=r[2],D=m[0],G=m[1];m=m[2];var H=z*m-C*G,L=C*D-w*m,N=w*G-z*D;r=2*r[3];f[0]=D+H*r+2*(z*N-C*L);f[1]=G+L*r+2*(C*H-w*N);f[2]=m+N*r+2*(w*L-z*H);return f},KH:function(f,m,r,w){var z=[],C=[];z[0]=m[0]-r[0];z[1]=m[1]-r[1];z[2]=m[2]-r[2];C[0]=z[0];C[1]=z[1]*Math.cos(w)-z[2]*Math.sin(w);C[2]=z[1]*
Math.sin(w)+z[2]*Math.cos(w);f[0]=C[0]+r[0];f[1]=C[1]+r[1];f[2]=C[2]+r[2];return f},LH:function(f,m,r,w){var z=[],C=[];z[0]=m[0]-r[0];z[1]=m[1]-r[1];z[2]=m[2]-r[2];C[0]=z[2]*Math.sin(w)+z[0]*Math.cos(w);C[1]=z[1];C[2]=z[2]*Math.cos(w)-z[0]*Math.sin(w);f[0]=C[0]+r[0];f[1]=C[1]+r[1];f[2]=C[2]+r[2];return f},MH:function(f,m,r,w){var z=[],C=[];z[0]=m[0]-r[0];z[1]=m[1]-r[1];z[2]=m[2]-r[2];C[0]=z[0]*Math.cos(w)-z[1]*Math.sin(w);C[1]=z[0]*Math.sin(w)+z[1]*Math.cos(w);C[2]=z[2];f[0]=C[0]+r[0];f[1]=C[1]+r[1];
f[2]=C[2]+r[2];return f},angle:function(f,m){var r=f[0],w=f[1],z=f[2],C=m[0],D=m[1],G=m[2];f=(r=Math.sqrt(r*r+w*w+z*z)*Math.sqrt(C*C+D*D+G*G))&&aa(f,m)/r;return Math.acos(Math.min(Math.max(f,-1),1))},jR:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Pk:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]},Nc:function(f,m){var r=f[0],w=f[1];f=f[2];var z=m[0],C=m[1];m=m[2];return Math.abs(r-z)<=1E-6*Math.max(1,Math.abs(r),Math.abs(z))&&Math.abs(w-
C)<=1E-6*Math.max(1,Math.abs(w),Math.abs(C))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))},sub:x,tm:F,yQ:I,wQ:M,ZQ:O,Cu:y,lA:Q,forEach:Pa});var Qa=function(){var f=Z();return function(m,r,w,z,C,D){r||(r=4);w||(w=0);for(z=z?Math.min(z*r+w,m.length):m.length;w<z;w+=r)f[0]=m[w],f[1]=m[w+1],f[2]=m[w+2],f[3]=m[w+3],C(f,f,D),m[w]=f[0],m[w+1]=f[1],m[w+2]=f[2],m[w+3]=f[3];return m}}();Qa=Object.freeze({__proto__:null,create:Z,clone:ha,yd:oa,wa:Y,set:ta,add:ea,Zq:xa,multiply:Ja,Gk:Va,ceil:function(f,
m){f[0]=Math.ceil(m[0]);f[1]=Math.ceil(m[1]);f[2]=Math.ceil(m[2]);f[3]=Math.ceil(m[3]);return f},floor:function(f,m){f[0]=Math.floor(m[0]);f[1]=Math.floor(m[1]);f[2]=Math.floor(m[2]);f[3]=Math.floor(m[3]);return f},min:function(f,m,r){f[0]=Math.min(m[0],r[0]);f[1]=Math.min(m[1],r[1]);f[2]=Math.min(m[2],r[2]);f[3]=Math.min(m[3],r[3]);return f},max:function(f,m,r){f[0]=Math.max(m[0],r[0]);f[1]=Math.max(m[1],r[1]);f[2]=Math.max(m[2],r[2]);f[3]=Math.max(m[3],r[3]);return f},round:function(f,m){f[0]=Math.round(m[0]);
f[1]=Math.round(m[1]);f[2]=Math.round(m[2]);f[3]=Math.round(m[3]);return f},scale:Na,SQ:function(f,m,r,w){f[0]=m[0]+r[0]*w;f[1]=m[1]+r[1]*w;f[2]=m[2]+r[2]*w;f[3]=m[3]+r[3]*w;return f},vu:Wa,$Q:Oa,length:Ca,mA:Aa,LQ:function(f,m){f[0]=-m[0];f[1]=-m[1];f[2]=-m[2];f[3]=-m[3];return f},inverse:function(f,m){f[0]=1/m[0];f[1]=1/m[1];f[2]=1/m[2];f[3]=1/m[3];return f},normalize:Ka,Xz:Ha,uQ:function(f,m,r,w){var z=r[0]*w[1]-r[1]*w[0],C=r[0]*w[2]-r[2]*w[0],D=r[0]*w[3]-r[3]*w[0],G=r[1]*w[2]-r[2]*w[1],H=r[1]*
w[3]-r[3]*w[1];r=r[2]*w[3]-r[3]*w[2];w=m[0];var L=m[1],N=m[2];m=m[3];f[0]=L*r-N*H+m*G;f[1]=-(w*r)+N*D-m*C;f[2]=w*H-L*D+m*z;f[3]=-(w*G)+L*C-N*z;return f},Be:Xa,random:function(f,m){m=m||1;do{var r=2*ya()-1;var w=2*ya()-1;var z=r*r+w*w}while(1<=z);do{var C=2*ya()-1;var D=2*ya()-1;var G=C*C+D*D}while(1<=G);z=Math.sqrt((1-z)/G);f[0]=m*r;f[1]=m*w;f[2]=m*C*z;f[3]=m*D*z;return f},aR:function(f,m,r){var w=m[0],z=m[1],C=m[2];m=m[3];f[0]=r[0]*w+r[4]*z+r[8]*C+r[12]*m;f[1]=r[1]*w+r[5]*z+r[9]*C+r[13]*m;f[2]=r[2]*
w+r[6]*z+r[10]*C+r[14]*m;f[3]=r[3]*w+r[7]*z+r[11]*C+r[15]*m;return f},L9:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=r[0],G=r[1],H=r[2];r=r[3];var L=r*w+G*C-H*z,N=r*z+H*w-D*C,P=r*C+D*z-G*w;w=-D*w-G*z-H*C;f[0]=L*r+w*-D+N*-H-P*-G;f[1]=N*r+w*-G+P*-D-L*-H;f[2]=P*r+w*-H+L*-G-N*-D;f[3]=m[3];return f},jR:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Pk:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},qm:Ya,Nc:Za,sub:xa,tm:Ja,yQ:Va,wQ:Wa,ZQ:Oa,Cu:Ca,lA:Aa,forEach:Qa});var Ra=function(){var f=
A(),m=E(1,0,0),r=E(0,1,0);return function(w,z,C){var D=aa(z,C);if(-.999999>D)return V(f,m,z),1E-6>y(f)&&V(f,r,z),T(f,f),$a(w,f,Math.PI),w;if(.999999<D)return w[0]=0,w[1]=0,w[2]=0,w[3]=1,w;V(f,z,C);w[0]=f[0];w[1]=f[1];w[2]=f[2];w[3]=1+D;return Ka(w,w)}}(),Sa=function(){var f=La(),m=La();return function(r,w,z,C,D,G){Ma(f,w,D,G);Ma(m,z,C,G);Ma(r,f,m,2*G*(1-G));return r}}(),Ia=function(){var f=d();return function(m,r,w,z){f[0]=w[0];f[3]=w[1];f[6]=w[2];f[1]=z[0];f[4]=z[1];f[7]=z[2];f[2]=-r[0];f[5]=-r[1];
f[8]=-r[2];return Ka(m,gb(m,f))}}();Ra=Object.freeze({__proto__:null,create:La,yu:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Qja:$a,iia:function(f,m){var r=2*Math.acos(m[3]),w=Math.sin(r/2);1E-6<w?(f[0]=m[0]/w,f[1]=m[1]/w,f[2]=m[2]/w):(f[0]=1,f[1]=0,f[2]=0);return r},gia:function(f,m){f=Ha(f,m);return Math.acos(2*f*f-1)},multiply:ab,KH:bb,LH:cb,MH:db,qha:function(f,m){var r=m[0],w=m[1];m=m[2];f[0]=r;f[1]=w;f[2]=m;f[3]=Math.sqrt(Math.abs(1-r*r-w*w-m*m));return f},exp:eb,Z8:fb,pow:function(f,
m,r){fb(f,m);Na(f,f,r);eb(f,f);return f},Vja:Ma,random:function(f){var m=ya(),r=ya(),w=ya(),z=Math.sqrt(1-m);m=Math.sqrt(m);f[0]=z*Math.sin(2*Math.PI*r);f[1]=z*Math.cos(2*Math.PI*r);f[2]=m*Math.sin(2*Math.PI*w);f[3]=m*Math.cos(2*Math.PI*w);return f},Au:function(f,m){var r=m[0],w=m[1],z=m[2];m=m[3];var C=r*r+w*w+z*z+m*m;C=C?1/C:0;f[0]=-r*C;f[1]=-w*C;f[2]=-z*C;f[3]=m*C;return f},j8:function(f,m){f[0]=-m[0];f[1]=-m[1];f[2]=-m[2];f[3]=m[3];return f},Uha:gb,Sha:function(f,m,r,w){var z=.5*Math.PI/180;m*=
z;r*=z;w*=z;z=Math.sin(m);m=Math.cos(m);var C=Math.sin(r);r=Math.cos(r);var D=Math.sin(w);w=Math.cos(w);f[0]=z*r*w-m*C*D;f[1]=m*C*w+z*r*D;f[2]=m*r*D-z*C*w;f[3]=m*r*w+z*C*D;return f},Pk:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},clone:ha,yd:oa,wa:Y,set:ta,add:ea,tm:ab,scale:Na,Xz:Ha,Be:Xa,length:Ca,Cu:Ca,mA:Aa,lA:Aa,normalize:Ka,qm:Ya,Nc:Za,Hja:Ra,Wja:Sa,Pja:Ia});Sa=Object.freeze({__proto__:null,create:function(){var f=new ma(8);ma!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,
f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var m=new ma(8);m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=f[6];m[7]=f[7];return m},yd:function(f,m,r,w,z,C,D,G){var H=new ma(8);H[0]=f;H[1]=m;H[2]=r;H[3]=w;H[4]=z;H[5]=C;H[6]=D;H[7]=G;return H},Yha:function(f,m,r,w,z,C,D){var G=new ma(8);G[0]=f;G[1]=m;G[2]=r;G[3]=w;z*=.5;C*=.5;D*=.5;G[4]=z*w+C*r-D*m;G[5]=C*w+D*f-z*r;G[6]=D*w+z*m-C*f;G[7]=-z*f-C*m-D*r;return G},y8:hb,kH:function(f,m){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*
m[0];f[5]=.5*m[1];f[6]=.5*m[2];f[7]=0;return f},Zz:function(f,m){f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},w8:function(f,m){var r=La();u(r,m);var w=new ma(3);t(w,m);hb(f,r,w);return f},wa:ib,yu:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,m,r,w,z,C,D,G,H){f[0]=m;f[1]=r;f[2]=w;f[3]=z;f[4]=C;f[5]=D;f[6]=G;f[7]=H;return f},kia:Y,jia:function(f,m){f[0]=m[4];f[1]=m[5];f[2]=m[6];f[3]=m[7];return f},Tja:Y,Rja:function(f,
m){f[4]=m[0];f[5]=m[1];f[6]=m[2];f[7]=m[3];return f},A8:function(f,m){var r=m[4],w=m[5],z=m[6],C=m[7],D=-m[0],G=-m[1],H=-m[2];m=m[3];f[0]=2*(r*m+C*D+w*H-z*G);f[1]=2*(w*m+C*G+z*D-r*H);f[2]=2*(z*m+C*H+r*G-w*D);return f},translate:function(f,m,r){var w=m[0],z=m[1],C=m[2],D=m[3],G=.5*r[0],H=.5*r[1];r=.5*r[2];var L=m[4],N=m[5],P=m[6];m=m[7];f[0]=w;f[1]=z;f[2]=C;f[3]=D;f[4]=D*G+z*r-C*H+L;f[5]=D*H+C*G-w*r+N;f[6]=D*r+w*H-z*G+P;f[7]=-w*G-z*H-C*r+m;return f},KH:function(f,m,r){var w=-m[0],z=-m[1],C=-m[2],D=
m[3],G=m[4],H=m[5],L=m[6],N=m[7],P=G*D+N*w+H*C-L*z,U=H*D+N*z+L*w-G*C,R=L*D+N*C+G*z-H*w;G=N*D-G*w-H*z-L*C;bb(f,m,r);w=f[0];z=f[1];C=f[2];D=f[3];f[4]=P*D+G*w+U*C-R*z;f[5]=U*D+G*z+R*w-P*C;f[6]=R*D+G*C+P*z-U*w;f[7]=G*D-P*w-U*z-R*C;return f},LH:function(f,m,r){var w=-m[0],z=-m[1],C=-m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7],P=G*D+N*w+H*C-L*z,U=H*D+N*z+L*w-G*C,R=L*D+N*C+G*z-H*w;G=N*D-G*w-H*z-L*C;cb(f,m,r);w=f[0];z=f[1];C=f[2];D=f[3];f[4]=P*D+G*w+U*C-R*z;f[5]=U*D+G*z+R*w-P*C;f[6]=R*D+G*C+P*z-U*w;f[7]=G*D-
P*w-U*z-R*C;return f},MH:function(f,m,r){var w=-m[0],z=-m[1],C=-m[2],D=m[3],G=m[4],H=m[5],L=m[6],N=m[7],P=G*D+N*w+H*C-L*z,U=H*D+N*z+L*w-G*C,R=L*D+N*C+G*z-H*w;G=N*D-G*w-H*z-L*C;db(f,m,r);w=f[0];z=f[1];C=f[2];D=f[3];f[4]=P*D+G*w+U*C-R*z;f[5]=U*D+G*z+R*w-P*C;f[6]=R*D+G*C+P*z-U*w;f[7]=G*D-P*w-U*z-R*C;return f},Fja:function(f,m,r){var w=r[0],z=r[1],C=r[2];r=r[3];var D=m[0],G=m[1],H=m[2],L=m[3];f[0]=D*r+L*w+G*C-H*z;f[1]=G*r+L*z+H*w-D*C;f[2]=H*r+L*C+D*z-G*w;f[3]=L*r-D*w-G*z-H*C;D=m[4];G=m[5];H=m[6];L=m[7];
f[4]=D*r+L*w+G*C-H*z;f[5]=G*r+L*z+H*w-D*C;f[6]=H*r+L*C+D*z-G*w;f[7]=L*r-D*w-G*z-H*C;return f},Gja:function(f,m,r){var w=m[0],z=m[1],C=m[2];m=m[3];var D=r[0],G=r[1],H=r[2],L=r[3];f[0]=w*L+m*D+z*H-C*G;f[1]=z*L+m*G+C*D-w*H;f[2]=C*L+m*H+w*G-z*D;f[3]=m*L-w*D-z*G-C*H;D=r[4];G=r[5];H=r[6];L=r[7];f[4]=w*L+m*D+z*H-C*G;f[5]=z*L+m*G+C*D-w*H;f[6]=C*L+m*H+w*G-z*D;f[7]=m*L-w*D-z*G-C*H;return f},Eja:function(f,m,r,w){if(1E-6>Math.abs(w))return ib(f,m);var z=Math.hypot(r[0],r[1],r[2]);w*=.5;var C=Math.sin(w),D=C*
r[0]/z,G=C*r[1]/z;r=C*r[2]/z;w=Math.cos(w);z=m[0];C=m[1];var H=m[2],L=m[3];f[0]=z*w+L*D+C*r-H*G;f[1]=C*w+L*G+H*D-z*r;f[2]=H*w+L*r+z*G-C*D;f[3]=L*w-z*D-C*G-H*r;z=m[4];C=m[5];H=m[6];m=m[7];f[4]=z*w+m*D+C*r-H*G;f[5]=C*w+m*G+H*D-z*r;f[6]=H*w+m*r+z*G-C*D;f[7]=m*w-z*D-C*G-H*r;return f},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];f[2]=m[2]+r[2];f[3]=m[3]+r[3];f[4]=m[4]+r[4];f[5]=m[5]+r[5];f[6]=m[6]+r[6];f[7]=m[7]+r[7];return f},multiply:jb,tm:jb,scale:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;f[2]=m[2]*
r;f[3]=m[3]*r;f[4]=m[4]*r;f[5]=m[5]*r;f[6]=m[6]*r;f[7]=m[7]*r;return f},Xz:Ha,Be:function(f,m,r,w){var z=1-w;0>Ha(m,r)&&(w=-w);f[0]=m[0]*z+r[0]*w;f[1]=m[1]*z+r[1]*w;f[2]=m[2]*z+r[2]*w;f[3]=m[3]*z+r[3]*w;f[4]=m[4]*z+r[4]*w;f[5]=m[5]*z+r[5]*w;f[6]=m[6]*z+r[6]*w;f[7]=m[7]*z+r[7]*w;return f},Au:function(f,m){var r=Aa(m);f[0]=-m[0]/r;f[1]=-m[1]/r;f[2]=-m[2]/r;f[3]=m[3]/r;f[4]=-m[4]/r;f[5]=-m[5]/r;f[6]=-m[6]/r;f[7]=m[7]/r;return f},j8:function(f,m){f[0]=-m[0];f[1]=-m[1];f[2]=-m[2];f[3]=m[3];f[4]=-m[4];
f[5]=-m[5];f[6]=-m[6];f[7]=m[7];return f},length:Ca,Cu:Ca,mA:Aa,lA:Aa,normalize:function(f,m){var r=Aa(m);if(0<r){r=Math.sqrt(r);var w=m[0]/r,z=m[1]/r,C=m[2]/r,D=m[3]/r,G=m[4],H=m[5],L=m[6];m=m[7];var N=w*G+z*H+C*L+D*m;f[0]=w;f[1]=z;f[2]=C;f[3]=D;f[4]=(G-w*N)/r;f[5]=(H-z*N)/r;f[6]=(L-C*N)/r;f[7]=(m-D*N)/r}return f},Pk:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]&&f[3]===m[3]&&
f[4]===m[4]&&f[5]===m[5]&&f[6]===m[6]&&f[7]===m[7]},Nc:function(f,m){var r=f[0],w=f[1],z=f[2],C=f[3],D=f[4],G=f[5],H=f[6];f=f[7];var L=m[0],N=m[1],P=m[2],U=m[3],R=m[4],ca=m[5],ba=m[6];m=m[7];return Math.abs(r-L)<=1E-6*Math.max(1,Math.abs(r),Math.abs(L))&&Math.abs(w-N)<=1E-6*Math.max(1,Math.abs(w),Math.abs(N))&&Math.abs(z-P)<=1E-6*Math.max(1,Math.abs(z),Math.abs(P))&&Math.abs(C-U)<=1E-6*Math.max(1,Math.abs(C),Math.abs(U))&&Math.abs(D-R)<=1E-6*Math.max(1,Math.abs(D),Math.abs(R))&&Math.abs(G-ca)<=1E-6*
Math.max(1,Math.abs(G),Math.abs(ca))&&Math.abs(H-ba)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ba))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))}});Ia=function(){var f=kb();return function(m,r,w,z,C,D){r||(r=2);w||(w=0);for(z=z?Math.min(z*r+w,m.length):m.length;w<z;w+=r)f[0]=m[w],f[1]=m[w+1],C(f,f,D),m[w]=f[0],m[w+1]=f[1];return m}}();Ia=Object.freeze({__proto__:null,create:kb,clone:function(f){var m=new ma(2);m[0]=f[0];m[1]=f[1];return m},yd:function(f,m){var r=new ma(2);r[0]=f;r[1]=m;return r},
wa:function(f,m){f[0]=m[0];f[1]=m[1];return f},set:function(f,m,r){f[0]=m;f[1]=r;return f},add:function(f,m,r){f[0]=m[0]+r[0];f[1]=m[1]+r[1];return f},Zq:lb,multiply:mb,Gk:nb,ceil:function(f,m){f[0]=Math.ceil(m[0]);f[1]=Math.ceil(m[1]);return f},floor:function(f,m){f[0]=Math.floor(m[0]);f[1]=Math.floor(m[1]);return f},min:function(f,m,r){f[0]=Math.min(m[0],r[0]);f[1]=Math.min(m[1],r[1]);return f},max:function(f,m,r){f[0]=Math.max(m[0],r[0]);f[1]=Math.max(m[1],r[1]);return f},round:function(f,m){f[0]=
Math.round(m[0]);f[1]=Math.round(m[1]);return f},scale:function(f,m,r){f[0]=m[0]*r;f[1]=m[1]*r;return f},SQ:function(f,m,r,w){f[0]=m[0]+r[0]*w;f[1]=m[1]+r[1]*w;return f},vu:ob,$Q:pb,length:qb,mA:rb,LQ:function(f,m){f[0]=-m[0];f[1]=-m[1];return f},inverse:function(f,m){f[0]=1/m[0];f[1]=1/m[1];return f},normalize:function(f,m){var r=m[0],w=m[1];r=r*r+w*w;0<r&&(r=1/Math.sqrt(r));f[0]=m[0]*r;f[1]=m[1]*r;return f},Xz:function(f,m){return f[0]*m[0]+f[1]*m[1]},uQ:function(f,m,r){m=m[0]*r[1]-m[1]*r[0];f[0]=
f[1]=0;f[2]=m;return f},Be:function(f,m,r,w){var z=m[0];m=m[1];f[0]=z+w*(r[0]-z);f[1]=m+w*(r[1]-m);return f},random:function(f,m){m=m||1;var r=2*ya()*Math.PI;f[0]=Math.cos(r)*m;f[1]=Math.sin(r)*m;return f},eka:function(f,m,r){var w=m[0];m=m[1];f[0]=r[0]*w+r[2]*m;f[1]=r[1]*w+r[3]*m;return f},fka:function(f,m,r){var w=m[0];m=m[1];f[0]=r[0]*w+r[2]*m+r[4];f[1]=r[1]*w+r[3]*m+r[5];return f},K9:function(f,m,r){var w=m[0];m=m[1];f[0]=r[0]*w+r[3]*m+r[6];f[1]=r[1]*w+r[4]*m+r[7];return f},aR:function(f,m,r){var w=
m[0];m=m[1];f[0]=r[0]*w+r[4]*m+r[12];f[1]=r[1]*w+r[5]*m+r[13];return f},rotate:function(f,m,r,w){var z=m[0]-r[0];m=m[1]-r[1];var C=Math.sin(w);w=Math.cos(w);f[0]=z*w-m*C+r[0];f[1]=z*C+m*w+r[1];return f},angle:function(f,m){var r=f[0];f=f[1];var w=m[0];m=m[1];var z=Math.sqrt(r*r+f*f)*Math.sqrt(w*w+m*m);return Math.acos(Math.min(Math.max(z&&(r*w+f*m)/z,-1),1))},jR:function(f){f[0]=0;f[1]=0;return f},Pk:function(f){return"vec2("+f[0]+", "+f[1]+")"},qm:function(f,m){return f[0]===m[0]&&f[1]===m[1]},Nc:function(f,
m){var r=f[0];f=f[1];var w=m[0];m=m[1];return Math.abs(r-w)<=1E-6*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))},Cu:qb,sub:lb,tm:mb,yQ:nb,wQ:ob,ZQ:pb,lA:rb,forEach:Ia});e.Pq=wb;e.Tia=xb;e.Uia=yb;e.Via=zb;e.cA=Ab;e.oja=Ra;e.pja=Sa;e.mka=Ia;e.pA=Pa;e.hR=Qa;Object.defineProperty(e,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Da(exports):"function"===typeof define&&define.iha?define(["exports"],Da):(Ba=Ba||self,Da(Ba.Pq={}));"use strict";
{function e(v,A,y,E){var x=A[0]-v[0];A=A[1]-v[1];var F=E[0]-y[0],I=E[1]-y[1];if(0===F*A-I*x)return!1;E=(x*(y[1]-v[1])+A*(v[0]-y[0]))/(F*A-I*x);v=(F*(v[1]-y[1])+I*(y[0]-v[0]))/(I*x-F*A);return 0<=E&&1>=E&&0<=v&&1>=v}function b(v,A,y){return(A[0]-v[0])*(y[1]-v[1])-(y[0]-v[0])*(A[1]-v[1])}function a(v,A,y){return 0<b(v,A,y)}function g(v,A,y){return 0<=b(v,A,y)}function c(v,A,y){return 0>=b(v,A,y)}var Ea=[],Fa=[];function d(v,A){var y=A[0]-v[0];v=A[1]-v[1];return y*y+v*v}function k(v,A){var y=v.length;
return v[0>A?A%y+y:A%y]}function h(v,A,y,E){for(;y<E;y++)v.push(A[y])}function l(v,A){var y=k(v,A-1),E=k(v,A);v=k(v,A+1);return 0>b(y,E,v)}var Ga=[],Ta=[];function p(v,A,y,E){E=E||[];E.length=0;if(A<y)for(var x=A;x<=y;x++)E.push(v[x]);else{for(x=0;x<=y;x++)E.push(v[x]);for(x=A;x<v.length;x++)E.push(v[x])}return E}function n(v){for(var A=[],y,E,x=[],F=Number.MAX_VALUE,I=0;I<v.length;++I)if(l(v,I))for(var M=0;M<v.length;++M){a:{E=v;var O=I,Q=M;if(g(k(E,O+1),k(E,O),k(E,Q))&&c(k(E,O-1),k(E,O),k(E,Q)))y=
!1;else{y=d(k(E,O),k(E,Q));for(var T=0;T!==E.length;++T)if((T+1)%E.length!==O&&T!==O&&g(k(E,O),k(E,Q),k(E,T+1))&&c(k(E,O),k(E,Q),k(E,T))){Ga[0]=k(E,O);Ga[1]=k(E,Q);Ta[0]=k(E,T);Ta[1]=k(E,T+1);var aa=[0,0];var V=Ga[1][1]-Ga[0][1];var Z=Ga[0][0]-Ga[1][0];var ha=V*Ga[0][0]+Z*Ga[0][1];var oa=Ta[1][1]-Ta[0][1];var Y=Ta[0][0]-Ta[1][0];var ta=oa*Ta[0][0]+Y*Ta[0][1];var ea=V*Y-oa*Z;0>=Math.abs(ea-0)||(aa[0]=(Y*ha-Z*ta)/ea,aa[1]=(V*ta-oa*ha)/ea);ea=aa;if(d(k(E,O),ea)<y){y=!1;break a}}y=!0}}if(y){y=n(p(v,I,
M,x));E=n(p(v,M,I,x));for(O=0;O<E.length;O++)y.push(E[O]);y.length<F&&(A=y,F=y.length,A.push([k(v,I),k(v,M)]))}}return A}function t(v,A){if(0===A.length)return[v];if(A instanceof Array&&A.length&&A[0]instanceof Array&&2===A[0].length&&A[0][0]instanceof Array){v=[v];for(var y=0;y<A.length;y++)for(var E=A[y],x=0;x<v.length;x++){var F=t(v[x],E);if(F){v.splice(x,1);v.push(F[0],F[1]);break}}return v}E=A;y=v.indexOf(E[0]);x=v.indexOf(E[1]);return-1!==y&&-1!==x?[p(v,y,x),p(v,x,y)]:!1}function q(v,A,y,E,
x){var F=A[1]-v[1];A=v[0]-A[0];v=F*v[0]+A*v[1];var I=E[1]-y[1];E=y[0]-E[0];y=I*y[0]+E*y[1];var M=F*E-I*A;return Math.abs(M-0)<=(x||0)?[0,0]:[(E*v-A*y)/M,(F*y-I*v)/M]}function u(v,A,y,E,x,F,I){F=F||100;I=I||0;x=x||25;A="undefined"!==typeof A?A:[];y=y||[];E=E||[];var M=[0,0],O=[0,0],Q=[0,0],T,aa=0,V=0,Z=0,ha=[],oa=[];if(3>v.length)return A;I++;if(I>F)return console.warn("quickDecomp: max level ("+F+") reached."),A;for(var Y=0;Y<v.length;++Y)if(l(v,Y)){y.push(v[Y]);var ta=T=Number.MAX_VALUE;for(var ea=
0;ea<v.length;++ea){if(a(k(v,Y-1),k(v,Y),k(v,ea))&&c(k(v,Y-1),k(v,Y),k(v,ea-1))){Q=q(k(v,Y-1),k(v,Y),k(v,ea),k(v,ea-1));var xa=k(v,Y+1);var Ja=k(v,Y);0>b(xa,Ja,Q)&&(xa=d(v[Y],Q),xa<T&&(T=xa,O=Q,V=ea))}a(k(v,Y+1),k(v,Y),k(v,ea+1))&&c(k(v,Y+1),k(v,Y),k(v,ea))&&(Q=q(k(v,Y+1),k(v,Y),k(v,ea),k(v,ea+1)),a(k(v,Y-1),k(v,Y),Q)&&(xa=d(v[Y],Q),xa<ta&&(ta=xa,M=Q,aa=ea)))}if(V===(aa+1)%v.length)Q[0]=(O[0]+M[0])/2,Q[1]=(O[1]+M[1])/2,E.push(Q),Y<aa?(h(ha,v,Y,aa+1),ha.push(Q),oa.push(Q),0!==V&&h(oa,v,V,v.length),
h(oa,v,0,Y+1)):(0!==Y&&h(ha,v,Y,v.length),h(ha,v,0,aa+1),ha.push(Q),oa.push(Q),h(oa,v,V,Y+1));else{V>aa&&(aa+=v.length);M=Number.MAX_VALUE;if(aa<V)return A;for(ea=V;ea<=aa;++ea)if(g(k(v,Y-1),k(v,Y),k(v,ea))&&c(k(v,Y+1),k(v,Y),k(v,ea))){xa=d(k(v,Y),k(v,ea));if(V=xa<M)a:{V=v;O=Y;Q=ea;for(ta=0;ta!==V.length;++ta)if(ta!==O&&ta!==Q&&(ta+1)%V.length!==O&&(ta+1)%V.length!==Q&&e(k(V,O),k(V,Q),k(V,ta),k(V,ta+1))){V=!1;break a}V=!0}V&&(M=xa,Z=ea%v.length)}Y<Z?(h(ha,v,Y,Z+1),0!==Z&&h(oa,v,Z,v.length),h(oa,v,
0,Y+1)):(0!==Y&&h(ha,v,Y,v.length),h(ha,v,0,Z+1),h(oa,v,Z,Y+1))}ha.length<oa.length?(u(ha,A,y,E,x,F,I),u(oa,A,y,E,x,F,I)):(u(oa,A,y,E,x,F,I),u(ha,A,y,E,x,F,I));return A}A.push(v);return A}self.kja={Eha:function(v){var A=n(v);return 0<A.length?t(v,A):[v]},qja:u,yia:function(v){var A;for(A=0;A<v.length-1;A++)for(var y=0;y<A-1;y++)if(e(v[A],v[A+1],v[y],v[y+1]))return!1;for(A=1;A<v.length-2;A++)if(e(v[0],v[v.length-1],v[A],v[A+1]))return!1;return!0},vja:function(v,A){for(var y=0,E=v.length-1;3<v.length&&
0<=E;--E){var x=k(v,E-1);var F=k(v,E),I=k(v,E+1),M=A;M?(Ea[0]=F[0]-x[0],Ea[1]=F[1]-x[1],Fa[0]=I[0]-F[0],Fa[1]=I[1]-F[1],x=Math.acos((Ea[0]*Fa[0]+Ea[1]*Fa[1])/(Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1])*Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])))<M):x=0===b(x,F,I);x&&(v.splice(E%v.length,1),y++)}return y},wja:function(v,A){for(var y=v.length-1;1<=y;--y)for(var E=v[y],x=y-1;0<=x;--x){var F=E,I=v[x],M=A;Math.abs(F[0]-I[0])<=(M||0)&&Math.abs(F[1]-I[1])<=(M||0)&&v.splice(y,1)}},Sia:function(v){for(var A=0,y=1;y<v.length;++y)if(v[y][1]<
v[A][1]||v[y][1]===v[A][1]&&v[y][0]>v[A][0])A=y;if(a(k(v,A-1),k(v,A),k(v,A+1)))return!1;A=[];y=v.length;for(var E=0;E!==y;E++)A.push(v.pop());for(E=0;E!==y;E++)v[E]=A[E];return!0}}}"use strict";{const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Sq=!1;e.qH=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2}"use strict";
{const e=self.B;e.sK=class{constructor(b){this.D7=b;this.Ha=new Map;this.d4()}d4(){var b=this.D7;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.e4(a)}e4(b){if(b)if(b.includes("=")){var a=b.indexOf("="),g=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ha.set(g,b)}else this.Ha.set(b,null)}Ov(b){return this.Ha.has(b)}W(b){b=this.Ha.get(b);return"undefined"===typeof b?null:b}};e.tK=new e.sK(location.search);e.aca=new e.sK(location.hash);
e.tK.W("mode")}"use strict";
{const e=self.B,b=navigator.userAgent;let a={Y8:/linux|openbsd|freebsd|netbsd/i.test(b),g8:/CrOS/.test(b),qA:/trident|iemobile|msie|tizen/i.test(b),fia:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),pQ:/bb10/i.test(b),v8:/edge\//i.test(b),eR:/trident/i.test(b),webkit:/webkit/i.test(b),u9:/safari\//i.test(b),f8:/chrome\//i.test(b),h8:/chromium\//i.test(b),l8:/crosswalk|xwalk/i.test(b),aja:/nwjs/i.test(b),V7:/amazonwebappplatform/i.test(b),Q9:/wv\)/.test(b),W7:/android/i.test(b),g9:/nokiabrowser\/[0-9.]+/i.test(b)};
var Ua=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),sb=/android\s+[0-9.]+/i.exec(b),tb=/OPR\/[0-9.]+/.exec(b),ub=/tizen\s+[0-9.]+/i.exec(b),Bb=/iphone\s+os\s+[0-9_]+/i.exec(b),Cb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Db=/windows\s+phone\s+[0-9.]+/i.exec(b),Eb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Fb=/chrome\/[0-9.]+/i.exec(b),Gb=/chromium\/[0-9.]+/i.exec(b),Hb=/nwjs\/[0-9.]+/i.exec(b),Ib=/firefox\/[0-9.]+/i.exec(b),Jb=/msie\s+[0-9.]+/i.exec(b),Kb=/edge\/[0-9.]+/i.exec(b),Lb=/edg\/[0-9.]+/i.exec(b),Mb=/silk\/[0-9.]+/i.exec(b);
let g="(unknown)",c="(unknown)",d="(unknown)",k="(unknown)",h="(unknown)",l="(unknown)",p="(unknown)",n="browser",t=!1,q=!1,u=new Map;function v(y,E,x){!0===E?(x(),u.set(y,!0)):E&&E.length&&(x(E[0]),u.set(y,!0))}v("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),y=>{g="Windows";if(y=y.split(" ")[2])switch(y){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";break;case "10.0":c="10"}});
v("isOSX",Ua,y=>{g="Mac OS X";(y=y.split(" ")[3])&&(c=y.replace("_","."))});v("isLinux",a.Y8,()=>{g="Linux"});v("isChromeOS",a.g8,()=>{g="Chrome OS"});v("isAndroid",!a.qA&&sb,y=>{g="Android";(y=y.split(" ")[1])&&(c=y)});v("isTizen",ub,y=>{g="Tizen";(y=y.split(" ")[1])&&(c=y)});v("isIPhone",!a.qA&&Bb,y=>{g="iOS";(y=y.split(" ")[2])&&(c=y.replace("_","."))});v("isIPad",!a.qA&&Cb,y=>{g="iOS";(y=y.split(" ")[3])&&(c=y.replace("_","."))});v("isWindowsPhone",Db,y=>{g="Windows Phone";(y=y.split(" ")[2])&&
(c=y)});v("isWindowsPhoneOS",Eb,y=>{g="Windows Phone";(y=y.split(" ")[3])&&(c=y)});v("isBlackberry",a.pQ,()=>{g="Blackberry";c="10";k="stock";p="webkit"});v("isChrome",!a.v8&&!a.opera&&Fb,y=>{k="Chrome";p="Chromium";(y=y.split("/")[1])&&(h=y)});v("isOpera",tb,y=>{k="Opera";p="Chromium";(y=y.split("/")[1])&&(h=y)});v("isChromium",Gb,y=>{p=k="Chromium";(y=y.split("/")[1])&&(h=y)});v("isFirefox",Ib,y=>{k="Firefox";p="Gecko";(y=y.split("/")[1])&&(h=y)});v("isInternetExplorer",Jb,y=>{k="Internet Explorer";
p="Trident";(y=y.split(" ")[1])&&(h=y)});v("isTrident","Internet Explorer"!==k&&a.eR,()=>{p="Trident";var y=/rv:[0-9.]+/i.exec(b);y&&y.length&&(k="Internet Explorer",(y=y[0].split(":")[1])&&(h=y))});v("isEdge",Kb,y=>{p=k="Edge";(y=y.split("/")[1])&&(h=y)});v("isEdgeChromium",Lb,y=>{k="Edge";p="Chromium";(y=y.split("/")[1])&&(h=y)});v("isSafari",a.u9&&!a.g9&&!a.f8&&!a.h8&&!a.eia&&!a.pQ,()=>{k="Safari";p="WebKit";var y=/version\/[0-9.]+/i.exec(b),E=/crios\/[0-9.]+/i.exec(b),x=/fxios\/[0-9.]+/i.exec(b);
y&&y.length&&(y=y[0].split("/")[1])&&(h=y);E&&E.length&&(k="Chrome for iOS",(E=E[0].split("/")[1])&&(h=E));x&&x.length&&(k="Firefox for iOS",(x=x[0].split("/")[1])&&(h=x))});v("isSilk",Mb,y=>{k="Silk";(y=y.split("/")[1])&&(h=y)});v("isCrosswalk",a.l8,()=>n="crosswalk");v("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>n="cordova");v("isNWJS",Hb,y=>{n="nwjs";k="NW.js";p="Chromium";(y=y.split("/")[1])&&(h=y)});v("isAmazonWebApp",a.V7,()=>n="webapp");v("isHomeScreenWebApp","nwjs"!==
n&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>n="webapp");v("isFalseSafari","Safari"===k&&("Android"===g||"Tizen"===g||"Blackberry"===g),()=>k="stock");v("isAndroidWebview","Chrome"===k&&"browser"===n&&a.Q9,()=>n="webview");v("isFirefoxOS","Firefox"===k&&"(unknown)"===g,()=>g="Firefox OS");v("isAndroidFallback","(unknown)"===g&&!a.qA&&a.W7,()=>g="Android");v("isTridentFallback","(unknown)"===g&&a.eR,()=>p="Trident");
v("isWebkitFallback","(unknown)"===g&&a.webkit,()=>p="WebKit");var Nb,Ob=/x86_64|x86-64|win64|x64;|x64\)|x64_|amd64|wow64|ia64|arm64|arch64|sparc64|ppc64|irix64/i;Nb=Ob.test(b)||Ob.test(navigator.platform)||"x64"===navigator.k8;v("is64Bit",Nb,()=>d="64-bit");var Pb,Qb=/x86;|x86\)|i86|i386|i486|i586|i686|armv1|armv2|armv3|armv4|armv5|armv6|armv7/i;Pb=Qb.test(b)||Qb.test(navigator.platform)||"x86"===navigator.k8;v("is32Bit",Pb,()=>d="32-bit");v("is64BitFallback","(unknown)"===d&&"Mac OS X"===g&&10.7<=
parseFloat(c),()=>d="64-bit");v("is32BitFallback","(unknown)"===d&&"Windows"===g||"Android"===g&&5>parseFloat(c),()=>d="32-bit");v("is32BitBrowser","32-bit"===d||/wow64/i.test(b),()=>l="32-bit");v("is64BitBrowser",/win64/i.test(b),()=>l="64-bit");v("isDesktop","Windows"===g||"Mac OS X"===g||"Linux"===g||"Chrome OS"===g||"nwjs"===n,()=>t=!0);"Edge"===p&&"undefined"!==typeof Windows&&"undefined"!==typeof Windows.System&&(n="windows-store");q="nwjs"===n;const A="Mac OS X"===g&&navigator.maxTouchPoints&&
2<navigator.maxTouchPoints;A&&(g="iOS",c=h,q=t=!1);e.Sc={Xo:g,xca:c,wca:d,AA:k,H$:h,BA:parseFloat(h),G$:l,Su:p,GA:n,qba:t,VB:!t,rba:q,nba:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),kba:"Mac OS X"===g||"iOS"===g,yba:A,zba:"Linux"===g}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function g(u){return new Promise((v,A)=>{u.onsuccess=()=>v(u.result);u.onerror=()=>A(u.error)})}function c(u){return new Promise((v,A)=>{u.oncomplete=()=>v();u.onerror=()=>A(u.error);u.onabort=()=>A(u.error)})}function d(u,v){return h(u,v)}function k(u,v){return h(u,v,!0)}async function h(u,v,A=!1,
y=!0){const E=await l(u);try{const x=E.transaction(["keyvaluepairs"],A?"readwrite":"readonly");return v(x)}catch(x){if(y&&"InvalidStateError"===x.name)return e.delete(u),h(u,v,A,!1);throw x;}}function l(u){n(u);let v=e.get(u);v instanceof Promise||(v=p(u),e.set(u,v),v.catch(()=>e.delete(u)));return v}async function p(u){n(u);const v=indexedDB.open(u,2);v.addEventListener("upgradeneeded",A=>{try{A.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${u}`,
y)}});return g(v)}function n(u){if("string"!==typeof u)throw new TypeError("expected string");}function t(u,v){const A=u.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const E=[];A.onsuccess=x=>{if(x=x.target.result){switch(v){case "entries":E.push([x.key,x.value]);break;case "keys":E.push(x.key);break;case "values":E.push(x.value)}x.continue()}else y(E)}})}class q{constructor(u){n(u);this.name=u}async ready(){await l(this.name)}set(u,v){n(u);return k(this.name,async A=>{var y=A.objectStore("keyvaluepairs").put(v,
u);y=g(y);A=c(A);await Promise.all([A,y])})}get(u){n(u);return d(this.name,async v=>{var A=v.objectStore("keyvaluepairs").get(u);A=g(A);v=c(v);[,v]=await Promise.all([v,A]);return v})}delete(u){n(u);return k(this.name,async v=>{var A=v.objectStore("keyvaluepairs").delete(u);A=g(A);v=c(v);await Promise.all([v,A])})}clear(){return k(this.name,async u=>{var v=u.objectStore("keyvaluepairs").clear();v=g(v);u=c(u);await Promise.all([u,v])})}keys(){return d(this.name,async u=>{if(a){var v=u.objectStore("keyvaluepairs").getAllKeys();
v=g(v)}else v=t(u,"keys");u=c(u);[,u]=await Promise.all([u,v]);return u})}values(){return d(this.name,async u=>{if(b){var v=u.objectStore("keyvaluepairs").getAll();v=g(v)}else v=t(u,"values");u=c(u);[,u]=await Promise.all([u,v]);return u})}entries(){return d(this.name,async u=>{var v=t(u,"entries");u=c(u);[,v]=await Promise.all([u,v]);return v})}}self.ZW=q}"use strict";
{const e=self.ZW,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let g=!1;"undefined"===typeof indexedDB&&(g=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function d(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(p=>{const {port1:n,port2:t}=new MessageChannel;t.onmessage=q=>p(q.data);n.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.Z=l;a.set(this,new Map)}Cs(l){if(!g)for(const p of b)if(l&&p.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);g=!0;break}}async yO(l){l=
a.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async TP(l,p){p=await k(p);a.get(this).set(l,p)}PP(l){a.get(this).delete(l)}eO(){a.get(this).clear()}fP(){return Array.from(a.get(this).keys())}async getItem(l,p){d(p);if(g)return await this.yO(l);let n;try{n=await this.Z.get(l)}catch(t){this.Cs(t);if(g)return await this.yO(l);console.error(`Error reading '${l}' from storage, returning null: `,t);return null}return"undefined"===typeof n?null:n}async setItem(l,p,n){d(n);"undefined"===
typeof p&&(p=null);if(g)await this.TP(l,p);else try{await this.Z.set(l,p)}catch(t){if(this.Cs(t),g)await this.TP(l,p);else throw t;}}async removeItem(l,p){d(p);if(g)this.PP(l);else try{await this.Z.delete(l)}catch(n){this.Cs(n),g?this.PP(l):console.error(`Error removing '${l}' from storage: `,n)}}async clear(l){d(l);if(g)this.eO();else try{await this.Z.clear()}catch(p){this.Cs(p),g?this.eO():console.error("Error clearing storage: ",p)}}async keys(l){d(l);if(g)return this.fP();l=[];try{l=await this.Z.keys()}catch(p){this.Cs(p);
if(g)return this.fP();console.error("Error getting storage keys: ",p)}return l}ready(l){d(l);return g?Promise.resolve(!0):this.Z.ready()}fH(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}"use strict";
{const e=self.B;e.Pb={};e.Pb.Tga=(()=>{try{if("Safari"===e.Sc.AA||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.Pb.kaa="undefined"!==typeof HTMLDialogElement;e.Pb.Dda=!!self.requestIdleCallback;e.Pb.ImageBitmap=!!self.createImageBitmap;e.Pb.ImageBitmapOptions=!1;if(e.Pb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{e.Pb.ImageBitmapOptions=!0}).catch(()=>{e.Pb.ImageBitmapOptions=!1})}catch(b){e.Pb.ImageBitmapOptions=!1}e.Pb.L$=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Sc.AA);e.Pb.Uca=!(!navigator.permissions||!navigator.permissions.query);e.Pb.rK="undefined"!==typeof Proxy;e.Pb.laa="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.Pb.Uu="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
e.Pb.xaa="function"===typeof fetch;e.Pb.Wca=!!(self.isSecureContext&&"Opera"!==e.Sc.AA&&navigator.storage&&navigator.storage.persist);e.Pb.ega=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Rb;if("undefined"===typeof document||"iOS"===e.Sc.Xo)Rb=!1;else{var Sb=document.documentElement;Rb=!!(Sb.requestFullscreen||Sb.msRequestFullscreen||Sb.mozRequestFullScreen||Sb.webkitRequestFullscreen)}e.Pb.Eaa=Rb;e.Pb.$aa="undefined"!==typeof self.ImageDecoder;e.Pb.qca=!!self.showOpenFilePicker;
e.Pb.rca=!(!navigator.fonts||!navigator.fonts.query)}"use strict";
{const e=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.lr(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,g){return a.reduce((c,d)=>{0<g&&Array.isArray(d)?Array.prototype.push.apply(c,b(d,g-1)):c.push(d);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((g,c)=>b({usage:g,quota:c}),a))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(b){for(var a=b.length,g=-1,c=new Uint8Array(3*a),d,k,h=0;h!==a;){d=b.charCodeAt(h);h+=1;if(55296<=d&&56319>=d){if(h===a){c[g+=1]=239;c[g+=1]=191;c[g+=1]=189;break}k=b.charCodeAt(h);if(56320<=k&&57343>=k){if(d=1024*(d-55296)+k-56320+65536,h+=1,65535<d){c[g+=1]=240|
d>>>18;c[g+=1]=128|d>>>12&63;c[g+=1]=128|d>>>6&63;c[g+=1]=128|d&63;continue}}else{c[g+=1]=239;c[g+=1]=191;c[g+=1]=189;continue}}127>=d?c[g+=1]=0|d:(2047>=d?c[g+=1]=192|d>>>6:(c[g+=1]=224|d>>>12,c[g+=1]=128|d>>>6&63),c[g+=1]=128|d&63)}return new Uint8Array(c.buffer.slice(0,g+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function b(c){const d=c[Symbol.iterator]();return{next:()=>d.next(),[Symbol.iterator](){return this}}}
function a(c){c=c.next();if(c.done)throw Error("unexpected end of input");if(0!=(c.value&192^128))throw Error("invalid byte");return c.value&63}const g=new Map;g.set("utf-8",(c,d)=>{if(c.buffer)var k=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);else if(k instanceof ArrayBuffer)k=new Uint8Array(c);else throw Error("Invalid parameter");c=b(k);k=[];try{for(const h of c){let l;if(127>h)l=h&127;else if(223>h)l=(h&31)<<6|a(c);else if(239>h)l=(h&15)<<12|a(c)<<6|a(c);else if(247>h)l=(h&7)<<18|a(c)<<
12|a(c)<<6|a(c);else throw Error("Invalid character");k.push(String.fromCodePoint(l))}}catch(h){if(d)throw h;k.push("\ufffd")}return k.join("")});g.set("utf8",g.get("utf-8"));g.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(c="utf-8",d={}){const k=g.get(c);if(!k)throw Error(`TextDecoder polyfill does not support "${c}"`);Object.defineProperty(this,"fatal",{value:!0===d.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:k,writable:!1});
Object.defineProperty(this,"encoding",{value:c,writable:!1})}decode(c){return this._decoder(c,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}"use strict";{const e=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.tv())}}"use strict";
{const e=self.B;e.gl=function(a){return"number"===typeof a};e.dl=function(a){return e.gl(a)&&isFinite(a)};e.bea=function(a){if(!e.gl(a))throw new TypeError("expected number");};e.rea=function(){};e.cea=function(a,g,c){if(!e.gl(a)||isNaN(a)||g>a||c<a)throw new RangeError("number outside of range");};e.Kda=function(...a){for(let g of a);};e.Yda=function(a){if(!e.dl(a))throw new TypeError("expected finite number");};e.nea=function(){};e.Hda=function(...a){for(let g of a);};e.Hj=function(a){return"string"===
typeof a};e.yea=function(a){if(!e.Hj(a))throw new TypeError("expected string");};e.uea=function(){};e.Mda=function(...a){for(let g of a);};e.KJ=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};e.xea=function(a){if(!e.KJ(a))throw new TypeError("expected simple object");};e.tea=function(a){if(!e.Ke(a)&&!e.KJ(a))throw new TypeError("expected simple object");};e.JJ=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};e.dea=
function(a){if(!e.JJ(a))throw new TypeError("expected object");};e.sea=function(){};e.Lda=function(...a){for(let g of a);};e.HW=function(a){return e.el(a,Blob)&&"string"===typeof a.name};e.Xda=function(a){if(!e.HW(a))throw new TypeError("expected file");};e.mea=function(){};e.Nm=function(a){return Array.isArray(a)};e.Rda=function(a){if(!e.Nm(a))throw new TypeError("expected array");};e.gea=function(){};e.Gda=function(...a){for(let g of a);};e.vW=function(a){return e.Nm(a)?a.length?e.Nm(a[0])?!0:!1:
!0:!1};e.Fda=function(a){if(!e.vW(a))throw new TypeError("expected 2d array");for(let g of a)if(!e.Nm(g))throw new TypeError("expected 2d array");};e.eea=function(){};e.OB=function(a){return"function"===typeof a};e.Zda=function(a,g){if(!e.OB(a))throw new TypeError("expected function");if(!e.Ke(g)&&a!==g)throw new TypeError("expected same function reference");};e.oea=function(){};e.Ida=function(...a){for(let g of a);};e.Oda=function(a,...g){if(!e.OB(a))throw new TypeError("expected function");if(!g.length)throw Error("missing comparison functions");
for(let c of g)if(!e.Ke(c)&&a===c)return;throw new TypeError("expected same function reference");};e.fea=function(...a){if(!e.Ke(a))for(let g of a);};e.el=function(a,g){return a instanceof g};e.HJ=function(a,...g){for(let c of g)if(e.el(a,c))return!0;return!1};e.aea=function(a,g){if(!e.el(a,g))throw new TypeError("unexpected type");};e.qea=function(){};e.Jda=function(a,...g){for(let c of g);};e.Pda=function(a,...g){if(!e.HJ(a,...g))throw new TypeError("unexpected type");};e.Qda=function(a,...g){if(!e.Ke(a)&&
!e.HJ(a,...g))throw new TypeError("unexpected type");};e.lba=function(a,g){for(let c of a)if(!e.el(c,g))return!1;return!0};e.mba=function(a){for(let g of a)if(!e.dl(g))return!1;return!0};e.Sda=function(a){for(let g of a);};e.hea=function(a){if(!e.Ke(a))for(let g of a);};e.Tda=function(a){for(let g of a);};e.iea=function(a){if(!e.Ke(a))for(let g of a);};e.oba=function(a,g){return e.Ke(a)||!e.Hj(a.nodeName)?!1:!g||e.pm(a.nodeName,g)};e.Uda=function(a,g){if(e.Ke(a)||!e.Hj(a.nodeName))throw new TypeError("expected DOM node");
if(g&&!e.pm(a.nodeName,g))throw new TypeError(`expected DOM '${g}' node`);};e.jea=function(){};e.PB=function(a,g){return e.Ke(a)||!e.Hj(a.tagName)?!1:!g||e.pm(a.tagName,g)};e.$da=function(a,g){if(e.Ke(a)||!e.Hj(a.tagName))throw new TypeError("expected HTML element");if(g&&!e.pm(a.tagName,g))throw new TypeError(`expected HTML '${g}' element`);};e.pea=function(){};e.AJ=function(a){return e.PB(a,"img")||e.PB(a,"canvas")||e.PB(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||
"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};e.Vda=function(a){if(!e.AJ(a))throw new TypeError("expected drawable");};e.kea=function(){};e.BJ=function(a){return a instanceof ImageData?!0:e.AJ(a)};e.Wda=function(a){if(!e.BJ(a))throw new TypeError("expected drawable or image data");};e.lea=function(a){if(!e.Ke(a)&&!e.BJ(a))throw new TypeError("expected drawable or image data");};e.SW=function(a){return"string"===typeof a||a instanceof e.HB||a instanceof e.Sk};e.zea=function(a){if(!e.SW(a))throw new TypeError("expected string-like");
};e.vea=function(){};e.Nda=function(...a){for(let g of a);};e.wea=function(){throw Error("must be overridden");};e.vca=function(){throw Error("not yet implemented");};e.pba=function(a,...g){if("undefined"===typeof a)return!1;for(let c of g){if("undefined"===typeof a[c])return!1;a=a[c]}return!0};e.Ke=function(a){return"undefined"===typeof a||null===a};e.v$=function(a){let g=a[0].constructor;for(let c of a)if(c.constructor!==g)return!1;return g};e.w$=function(a,g){for(let c of a)if(!(c instanceof g))return!1;
return!0};const b=Object.getPrototypeOf(Uint8Array);e.Lba=function(a){return e.el(a,b)};e.Aea=function(){};e.Sga=function(a){e.K_(a,b)};e.Rga=function(a,...g){if(!e.J_(a,...g))throw new TypeError("unexpected type");};e.J_=function(a,...g){for(const c of g)if(e.AL(a,c))return!0;return!1};e.K_=function(a,g){if(!e.AL(a,g))throw new TypeError("unexpected type");};e.AL=function(a,g){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===g.name)return!0;return!1}}"use strict";
{const e=self.B;e.tv=function(){return Error().stack};e.jaa=function(){debugger};e.vha=function(n,t){return n&&n instanceof t?n:null};e.nj=function(n){return"undefined"===typeof n?"undefined":null===n?"null":"boolean"===typeof n?"<boolean>":e.gl(n)?"<number>":e.Hj(n)?"<string>":e.Nm(n)?"<array>":"symbol"===typeof n?"<"+n.toString()+">":e.OB(n)?n.name&&"Function"!==n.name?n.name:"<anonymous function>":"object"===typeof n?n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:
"<anonymous object>":"<unknown>"};e.$z=function(n){return null===n?"null":Array.isArray(n)?"array":typeof n};e.range=function*(n,t){if(!isFinite(Math.abs(n-t)))throw Error("Invalid parameters");if(n>t)for(--n;n>=t;n--)yield n;else for(;n<t;n++)yield n};let b=new Map,a=new Map,g=new WeakMap,c=new WeakMap;e.Fo={};const d=new Set(["then","splice"]);function k(n){console.warn("[Defence] "+n+" @",e.tv())}e.Fo.get=function(n,t){t in n||"symbol"===typeof t||d.has(t)||k(`Accessed missing property '${t}' from defended object '${e.nj(n)}', returning undefined`);
c.has(n)&&"symbol"!==typeof t&&!d.has(t)&&k(`Accessed property '${t}' on a released object '${e.nj(n)}'\nObject was originally released at: ${c.get(n)})\nCall stack at access: `);return n[t]};e.Fo.set=function(n,t,q){t in n||b.has(n)||k(`Set non-existent property '${t}' to '${q}' on defended object '${e.nj(n)}'`);{var u=e.$z(n[t]);let v=e.$z(q);u="null"===u||"null"===v?!0:"undefined"===u||"undefined"===v?!1:u===v}u||b.has(n)||k(`Set '${e.$z(n[t])}' property '${t}' to type '${e.$z(q)}' on defended object '${e.nj(n)}'`);
c.has(n)&&k(`Set property '${t}' on a released object '${e.nj(n)}'\nObject was originally released at: ${c.get(n)})\nCall stack at access: `);n[t]=q;return!0};e.Fo.deleteProperty=function(n,t){throw new ReferenceError(`Cannot delete property '${t}' from defended object '${e.nj(n)}'`);};e.Fo.defineProperty=function(n,t){throw new ReferenceError(`Cannot define property '${t}' on defended object '${e.nj(n)}'`);};e.Fo.Iha=function(n){throw new ReferenceError(`Cannot enumerate defended object '${e.nj(n)}'`);
};let h=-1;function l(){h=-1;if(0<b.size||0<a.size){let n=[...new Set([...b.keys()].map(t=>e.nj(t)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${n}`);b.clear();a.clear()}}e.$=class{constructor(){if(e.qH&&e.Pb.rK){var n=new.target;n=Object.create(n.prototype);var t=new Proxy(n,e.Fo);b.set(n,t);a.set(t,n);g.set(t,n);-1===h&&(h=requestAnimationFrame(l));return t}}};
e.n8=function(n){if(e.qH&&e.Pb.rK&&n instanceof e.$){if(!a.has(n))return n;let t=a.get(n);a.delete(n);b.delete(t);return n}return e.Sq?Object.seal(n):n};e.A=function(n,...t){let q;try{q=new n(...t)}catch(A){throw a.clear(),b.clear(),A;}if(e.qH){t=q;var u=new Set;for(v in t)u.add(v);var v=u;if(t=p.get(n)){u=[];for(let A of t.values())v.has(A)?v.delete(A):u.push(A);e.qo(u,[...v]);u.length&&console.warn(`[Defence] '${e.nj(n)}' constructor creates inconsistent properties: ${u.join(", ")}`)}else p.set(n,
v)}return e.n8(q)};e.j=function(n){(n=g.get(n))&&c.set(n,e.tv())};e.Hw=function(){let n=g.get(void 0);return n?!!c.get(n):!1};let p=new Map;e.Tca=class{constructor(n){this.V="";n&&this.start(n)}start(n){this.V=n;performance.mark(this.V+"-Start")}end(){performance.mark(this.V+"-End");performance.measure(this.V,this.V+"-Start",this.V+"-End")}next(n){this.end();this.V=n;performance.mark(this.V+"-Start")}}}"use strict";
{const e=self.B,b=2*Math.PI,a=Math.PI/180,g=180/Math.PI;e.wrap=function(d,k,h){d=Math.floor(d);k=Math.floor(k);h=Math.floor(h);return d<k?(d=h-(k-d)%(h-k),d===h?0:d):k+(d-k)%(h-k)};e.a9=function(d,k,h,l){return(d-k)*(l-0)/(h-k)};e.normalize=function(d,k,h){return(d-k)/(h-k)};e.ia=function(d,k,h){return d<k?k:d>h?h:d};e.xd=function(d){d%=b;0>d&&(d+=b);return d};e.lb=function(d){return d*a};e.Cf=function(d){return d*g};e.Fk=function(d,k,h,l){return Math.hypot(h-d,l-k)};e.xQ=function(d,k,h,l){d=h-d;
k=l-k;return d*d+k*k};e.ru=function(d,k,h,l){return Math.atan2(l-k,h-d)};e.Mq=function(d,k){if(d===k)return 0;d=Math.sin(d)*Math.sin(k)+Math.cos(d)*Math.cos(k);return 1<=d?0:-1>=d?Math.PI:Math.acos(d)};e.$G=function(d,k,h){let l=Math.sin(d),p=Math.cos(d),n=Math.sin(k),t=Math.cos(k);return Math.acos(l*n+p*t)>h?0<p*n-l*t?e.xd(d+h):e.xd(d-h):e.xd(k)};e.Ze=function(d,k){return 0>=Math.cos(d)*Math.sin(k)-Math.sin(d)*Math.cos(k)};e.ZG=function(d,k,h,l=0){let p=e.Mq(d,k);l*=b;return e.Ze(k,d)?e.xd(d+(p+
l)*h):e.xd(d-(p+l)*h)};e.Y7=function(d,k,h,l=0){const p=e.Mq(d,k);l*=b;return e.Ze(k,d)?e.xd(d+(p+l)*h):e.xd((b-p+l)*h)};e.X7=function(d,k,h,l=0){const p=e.Mq(d,k);l*=b;return e.Ze(k,d)?e.xd((-b+p-l)*h):e.xd(d-(p+l)*h)};e.Be=function(d,k,h){return d+h*(k-d)};e.WH=function(d,k,h){return d===k?0:(h-d)/(k-d)};e.q9=function(d,k,h,l){return e.Be(0,l,e.WH(d,k,h))};e.hA=function(d,k,h,l){return e.Be(e.Be(d,k,l),e.Be(k,h,l),l)};e.vQ=function(d,k,h,l,p){return e.Be(e.hA(d,k,h,p),e.hA(k,h,l,p),p)};e.tQ=function(d,
k,h){return(d+k+(d-k)*Math.cos(h*Math.PI))/2};e.oj=function(d){return 0<d&&0===(d-1&d)};e.yH=function(d){--d;for(let k=1;32>k;k<<=1)d|=d>>k;return d+1};e.Ija=function(d,k){return Math.round(d*k)/k};e.Pha=function(d,k){return Math.floor(d*k)/k};e.RQ=function(d){return Math.round(1E6*d)/1E6};e.toFixed=function(d,k){d=d.toFixed(k);for(k=d.length-1;0<=k&&"0"===d.charAt(k);--k);0<=k&&"."===d.charAt(k)&&--k;return 0>k?d:d.substr(0,k+1)};e.eY=function(d,k,h){return e.ia(d,0,255)|e.ia(k,0,255)<<8|e.ia(h,
0,255)<<16};e.hw=function(d,k,h,l){d=e.ia(Math.floor(1024*d),-8192,8191);k=e.ia(Math.floor(1024*k),-8192,8191);h=e.ia(Math.floor(1024*h),-8192,8191);l=e.ia(Math.floor(1023*l),0,1023);0>d&&(d+=16384);0>k&&(k+=16384);0>h&&(h+=16384);return-(274877906944*d+16777216*k+1024*h+l)};e.kK=function(d,k,h){return e.hw(d,k,h,1)};e.tB=function(d){if(0<=d)return(d&255)/255;d=Math.floor(-d/274877906944);8191<d&&(d-=16384);return d/1024};e.kB=function(d){if(0<=d)return((d&65280)>>8)/255;d=Math.floor(-d%274877906944/
16777216);8191<d&&(d-=16384);return d/1024};e.VA=function(d){if(0<=d)return((d&16711680)>>16)/255;d=Math.floor(-d%16777216/1024);8191<d&&(d-=16384);return d/1024};e.ZT=function(d){return 0===d&&0>1/d?0:0<=d?1:Math.floor(-d%1024)/1023};e.D8=function(d,k){d=Math.floor(d);for(k=Math.floor(k);0!==k;){let h=k;k=d%k;d=h}return d};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.hia=function(d,k){d=Math.floor(d);k=Math.floor(k);if(d===k)return[1,1];for(var h of c){let l=d/h[0]*h[1];
if(1>Math.abs(k-l))return h.slice(0);l=d/h[1]*h[0];if(1>Math.abs(k-l))return[h[1],h[0]]}h=e.D8(d,k);return[d/h,k/h]};e.Oja=function(d,k,h,l,p,n,t,q){var u=Math.min(d,h),v=Math.max(p,t);if(Math.max(d,h)<Math.min(p,t)||u>v)return!1;u=Math.min(k,l);v=Math.max(n,q);if(Math.max(k,l)<Math.min(n,q)||u>v)return!1;u=p-d+t-h;v=n-k+q-l;d=h-d;k=l-k;p=t-p;n=q-n;q=Math.abs(k*p-n*d);return Math.abs(p*v-n*u)>q?!1:Math.abs(d*v-k*u)<=q};e.Mk=function(d,k,h,l,p,n,t,q,u,v,A,y){const E=Math.max(u,A);if(n<Math.min(u,A)||
p>E)return!1;p=Math.max(v,y);if(q<Math.min(v,y)||t>p)return!1;t=u-d+A-h;q=v-k+y-l;d=h-d;k=l-k;u=A-u;v=y-v;y=Math.abs(k*u-v*d);return Math.abs(u*q-v*t)>y?!1:Math.abs(d*q-k*t)<=y};e.iA=function(d,k,h,l,p){const n=Math.min(d,h),t=Math.max(d,h),q=Math.min(k,l),u=Math.max(k,l),v=p.wb,A=p.xb,y=p.kc,E=p.lc,x=p.ec,F=p.fc,I=p.cc;p=p.dc;return e.Mk(d,k,h,l,n,t,q,u,v,A,y,E)||e.Mk(d,k,h,l,n,t,q,u,y,E,x,F)||e.Mk(d,k,h,l,n,t,q,u,x,F,I,p)||e.Mk(d,k,h,l,n,t,q,u,I,p,v,A)};e.Nja=function(d,k,h,l,p){const n=Math.min(d,
h),t=Math.max(d,h),q=Math.min(k,l),u=Math.max(k,l);let v=0;for(let A=p.length-4;v<=A;v+=2)if(e.Mk(d,k,h,l,n,t,q,u,p[v],p[v+1],p[v+2],p[v+3]))return!0;return e.Mk(d,k,h,l,n,t,q,u,p[v],p[v+1],p[0],p[1])};e.p9=function(d,k,h,l,p,n,t,q){h-=d;n=q-n;const u=h*n-(l-k)*(t-p);if(0===u)return 2;l=((k-l)*(t-d)+h*(q-k))/u;return 0<l&&1.000001>l?(n*(t-d)+(p-t)*(q-k))/u:2};e.Hu=function(d,k,h,l,p,n,t,q,u){const v=(t-p)*u;u*=q-n;return e.p9(d,k,h,l,p-v,n-u,t+v,q+u)};e.N8=function(d,k,h,l,p,n,t,q){p-=h;n-=l;t-=h;
q-=l;d-=h;h=k-l;k=p*p+n*n;l=p*t+n*q;p=p*d+n*h;n=t*t+q*q;t=t*d+q*h;q=1/(k*n-l*l);n=(n*p-l*t)*q;p=(k*t-l*p)*q;return 0<=n&&0<=p&&1>=n+p};e.O9=function(d,k,h,l,p,n,t,q){p-=h;n-=l;t-=h;q-=l;d-=h;const u=k-l;k=p*p+n*n;l=p*t+n*q;h=t*t+q*q;p=d*p+u*n;n=d*t+u*q;t=k*h-l*l;q=(h*p-l*n)/t;p=(k*n-l*p)/t;return[1-q-p,q,p]};e.N9=function(d,k,h,l,p,n,t,q,u){return[d*l+k*n+h*q,d*p+k*t+h*u]}}"use strict";
{const e=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.Gaa=function(){return a};e.WA=function(){if(!b)return"";const l=b.location;return e.bV(l.origin+l.pathname)+a};e.bV=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const p=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===p?"":l.substr(0,
p+1)};e.Kaa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const p=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===p?l:l.substr(p+1)};e.iaa=function(l){if(l.types)for(let p=0;p<l.types.length;p++)if("Files"===l.types[p]||"application/x-c3-file"===l.types[p])return!0;return!1};e.haa=async function(l,p){l=Array.from(l.files).filter(n=>0!==n.size).filter(n=>p(n)).map(async n=>{try{return await e.M$(n)}catch(t){return null}});return(await Promise.all(l)).filter(n=>
n)};e.uba=function(l){return l.type?-1!==l.type.search(/image\/.*/):-1!==e.MimeType.FU(e.WI(l.name)).Maa().search(/image\/.*/)};e.vba=function(l){return"image/svg+xml"===l.type};e.tba=function(l){return l.type?e.MimeType.W(l.type).xW():e.MimeType.FU(e.WI(l.name)).xW()};e.WI=function(l){let p=l.lastIndexOf(".");return 1>p?"":l.substr(p)};e.Jaa=function(l){let p=l.lastIndexOf(".");return 1>p?l:l.substr(0,p)};e.wX=function(l){return l.replace(/\\/g,"/")};e.Sca=function(l){l=e.wX(l);let p=/^\w:\//.exec(l);
p?(p=p[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):p="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var n=l.lastIndexOf("/")+1;let t="",q=l,u="";0<n&&(t=l.slice(0,n),q=l.slice(n));l=q;n=q.lastIndexOf(".");0<n&&(u=q.slice(n),l=q.slice(0,-u.length));return{dir:t,oha:q,name:l,root:p,ext:u,cia:p+t+q}};e.RC=function(l,p){return new Promise(n=>{self.setTimeout(n,l,p)})};e.Yja=function(l){try{l()}catch(p){e.Sq&&console.warn("Swallowed exception: ",p)}};e.noop=function(){};e.pm=
function(l,p){return"string"!==typeof l||"string"!==typeof p?!1:l===p||l.normalize().toLowerCase()===p.normalize().toLowerCase()};e.Jha=function(l,p){return"string"!==typeof l||"string"!==typeof p?!1:l===p?!0:l.normalize()===p.normalize()};e.P9=function(l,p){var n=0;l[n++]=p[0];l[n++]=p[1];l[n++]=p[2];l[n++]=p[3];l[n++]=p[4];l[n++]=p[5];l[n++]=p[6];l[n++]=p[7];l[n++]=p[8];l[n++]=p[9];l[n++]=p[10];l[n++]=p[11];l[n++]=p[12];l[n++]=p[13];l[n++]=p[14];l[n]=p[15]};e.De=function(l,p){l.length=p};e.D=function(l){l&&
0!==l.length&&e.De(l,0)};e.i8=function(l){if(l){for(let p=0;p<l.length;p++)e.De(l[p],0);e.De(l,0)}};e.Yz=function(l,p,n){p|=0;var t=l.length;if(!(p<=t))for(;t<p;++t)l.push(n)};e.QQ=function(l){var p=4;const n=l.length;p<n?e.De(l,p):p>n&&e.Yz(l,p,"0")};e.Dc=function(l,p){e.D(l);e.qo(l,p)};e.qo=function(l,p){if(1E4>p.length)l.push(...p);else for(let n=0,t=p.length;n<t;++n)l.push(p[n])};e.b8=function(l,p){p=Math.floor(p);if(!(0>p||p>=l.length)){for(var n=l.length-1;p<n;++p)l[p]=l[p+1];e.De(l,n)}};e.ro=
function(l,p){p=l.indexOf(p);0<=p&&l.splice(p,1)};e.nha=function(l,p){let n=l.length;if(p.length!==n)return!1;for(let t=0;t<n;++t)if(l[t]!==p[t])return!1;return!0};e.a8=function(l,p){let n=[],t=0;for(let q=0,u=l.length;q<u;++q){let v=l[q];p(v)?n.push(v):(l[t]=v,++t)}e.De(l,t);return n};e.ng=function(l,p){const n=l.length;let t=0;for(let q=0,u=l.length;q<u;++q){let v=l[q];p.has(v)||(l[t++]=v)}e.De(l,t);return n-t};e.K8=function(l,p){return l!==Math.floor(l)?!1:0<=l&&l<p.length};e.lka=function(l,p){if(!e.K8(l,
p))throw new RangeError("array index out of bounds");};e.eH=function(l){return l.slice()};e.o8=function(l,p){let n=[];for(let t of l)if(e.JJ(t)){l=p(t);if(!l)throw Error("missing clone");if(l.constructor!==t.constructor)throw Error("object is not a clone");n.push(l)}else e.Nm(t)?n.push(e.o8(t,p)):n.push(t);return n};e.wha=function(l){let p=[];for(let n of l)p.push(n.slice());return p};e.Wia=function(l,p){return new Set([...l,...p])};e.Xia=function(l,p){for(const n of p)l.add(n);return l};e.first=
function(l){for(let p of l)return p;return null};e.xor=function(l,p){return!l!==!p};e.compare=function(l,p,n){switch(p){case 0:return l===n;case 1:return l!==n;case 2:return l<n;case 3:return l<=n;case 4:return l>n;case 5:return l>=n;default:return!1}};e.pia=function(l){for(let p in l)if(l.hasOwnProperty(p))return!0;return!1};e.pY=function(l,p){return l.length?new Promise((n,t)=>{const q=[];let u=0,v=!1;for(let A=0,y=l.length;A<y;++A)q.push(void 0),l[A].then(E=>{v||(q[A]=E,++u,u===l.length?n(q):p(u,
l.length))}).catch(E=>{v=!0;t(E)})}):Promise.resolve([])};let g=[];e.j$=function(l){g.push(l)};e.Iaa=function(){let l=0;for(let p of g){let n=p();l+=n}return Math.floor(l)};let c=1;const d=new Map,k=new MessageChannel;k.port2.onmessage=function(l){const p=l.data,n=d.get(p);d.delete(p);n&&n(l.timeStamp)};e.jC=function(l){const p=c++;d.set(p,l);k.port1.postMessage(p);return p};e.XR=function(l){d.delete(l)};e.mY=e.jC;e.H_=function(){return new Promise(l=>e.mY(l))};const h=new Set;e.xK=function(l){const p=
self.requestAnimationFrame(async n=>{await e.H_();h.has(p)&&(h.delete(p),l(n))});h.add(p);return p};e.WR=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}"use strict";
{const e=self.B;e.LB=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.WB=function(b){return!e.LB(b)};e.q_=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.qv=function(b){return fetch(b,void 0).then(a=>{e.q_(a);return a})};e.nr=function(b){return e.qv(b).then(a=>a.text())};e.II=function(b){return e.qv(b).then(a=>a.json())};e.wi=function(b){return e.qv(b).then(a=>a.blob())};e.pv=function(b){return e.qv(b).then(a=>
a.arrayBuffer())};e.TT=function(b){return new Promise((a,g)=>{const c=new Image;c.onload=()=>a(c);c.onerror=d=>g(d);c.src=b})};e.QR=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,g)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>g(c.error);c.readAsArrayBuffer(b)})};e.dI=function(b){return"function"===typeof b.text?b.text():new Promise((a,g)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>g(c.error);c.readAsText(b)})};e.E$=function(b){return e.dI(b).then(a=>
JSON.parse(a))};e.RR=async function(b){b=URL.createObjectURL(b);try{const a=await e.TT(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};e.hh=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const g=document.createElement("canvas");g.width=b;g.height=a;return g}return new OffscreenCanvas(b,a)};e.Uu=function(b,a,g){"number"!==typeof g&&(g=1);a=a||"image/png";g=e.ia(g,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,g)):b.convertToBlob?b.convertToBlob({type:a,quality:g}):e.pj(()=>e.lI(b,a,g))};e.lI=function(b,a,g){"number"!==typeof g&&(g=1);a=a||"image/png";g=e.ia(g,0,1);return e.BS(b.toDataURL(a,g))};e.BS=function(b){b=e.gY(b);return e.PR(b.data,b.b9)};e.gY=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var g=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];g="base64"===a[1]||"base64"===c?atob(g):decodeURIComponent(g);return{b9:b,data:g}};e.PR=function(b,a){var g=b.length;let c=g>>2,d=new Uint8Array(g),k=new Uint32Array(d.buffer,0,c),h,l;for(l=h=0;h<c;++h)k[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(g&=3;g--;)d[l]=b.charCodeAt(l),++l;return a?new Blob([d],{type:a}):new Blob([d])};e.AI=function(b){const a=e.hh(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return e.Uu(a,void 0,void 0)};e.Zaa=
function(b,a,g){const c=e.hh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.lI(c,a,g)};e.UV=function(b){if(e.Pb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>e.AI(a));if(e.Pb.ImageBitmap)return createImageBitmap(b).then(a=>e.AI(a));{const a=e.hh(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return e.Uu(a,void 0,void 0)}};e.rS=function(b,a){b.clear();for(const g of a)b.add(g)};e.fca=function(b){const a=Object.create(null);for(const [g,
c]of b.entries())a[g]=c;return a};e.yca=function(b,a){a.clear();for(const [g,c]of Object.entries(b))a.set(g,c)};e.PC=function g(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>g(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],g(c[1])])};{const c=Object.create(null);for(const [d,k]of Object.entries(a))c[d]=g(k);return c}}return a};e.SA=function c(g){if("object"===typeof g&null!==g){if("set"===g._c3type_)return new Set(g.data.map(d=>
c(d)));if("map"===g._c3type_)return new Map(g.data.map(d=>[d[0],c(d[1])]));{const d=Object.create(null);for(const [k,h]of Object.entries(g))d[k]=c(h);return d}}return g};e.UR=function(g){let c="",d=!1;for(const k of g)"-"===k?d=!0:d?(c+=k.toUpperCase(),d=!1):c+=k;return c};e.fl=function(g){return"object"===typeof g&&"function"===typeof g.next};e.cca=function(g,c){const d=[];if("function"===typeof c)for(var k=0;k<g;++k)d.push(c());else for(k=0;k<g;++k)d.push(c);return d}}"use strict";
{const e=self.B;e.Za=class{constructor(b,a,g,c){this.Qa=this.Ta=this.Ua=this.Sa=0;b instanceof e.Za?this.set(b):this.uo(b||0,a||0,g||0,c||0)}Lu(b,a,g){this.Sa=+b;this.Ua=+a;this.Ta=+g;this.ia()}uo(b,a,g,c){this.Sa=+b;this.Ua=+a;this.Ta=+g;this.Qa=+c;this.ia()}set(b){this.Sa=b.Sa;this.Ua=b.Ua;this.Ta=b.Ta;this.Qa=b.Qa;return this}wa(b){return this.set(b)}add(b){this.Sa+=b.Sa;this.Ua+=b.Ua;this.Ta+=b.Ta;this.Qa+=b.Qa;this.ia()}mQ(b,a,g){this.Sa+=+b;this.Ua+=+a;this.Ta+=+g;this.Qa+=0;this.ia()}lm(b){this.Sa=
b.Sa;this.Ua=b.Ua;this.Ta=b.Ta}WQ(b){this.Sa=e.ia(+b,0,1)}y9(b){this.Ua=e.ia(+b,0,1)}v9(b){this.Ta=e.ia(+b,0,1)}jA(b){this.Qa=e.ia(+b,0,1)}clone(){return e.A(e.Za,this.Sa,this.Ua,this.Ta,this.Qa)}toArray(){return[this.Sa,this.Ua,this.Ta,this.Qa]}dh(b,a){b[a++]=this.Sa;b[a++]=this.Ua;b[a++]=this.Ta;b[a]=this.Qa}Nc(b){return this.Sa===b.Sa&&this.Ua===b.Ua&&this.Ta===b.Ta&&this.Qa===b.Qa}om(b){return this.Sa===b.Sa&&this.Ua===b.Ua&&this.Ta===b.Ta}wu(b,a,g,c){return this.Sa===b&&this.Ua===a&&this.Ta===
g&&this.Qa===c}multiply(b){this.Sa*=b.Sa;this.Ua*=b.Ua;this.Ta*=b.Ta;this.Qa*=b.Qa}GH(){this.Sa*=this.Qa;this.Ua*=this.Qa;this.Ta*=this.Qa}ia(){this.Sa=e.ia(this.Sa,0,1);this.Ua=e.ia(this.Ua,0,1);this.Ta=e.ia(this.Ta,0,1);this.Qa=e.ia(this.Qa,0,1);return this}Yq(b){this.Sa=e.tB(b);this.Ua=e.kB(b);this.Ta=e.VA(b);this.Qa=e.ZT(b)}z8(){return`rgb(${100*(e.dl(void 0)?NaN:this.Sa)}%, ${100*(e.dl(void 0)?NaN:this.Ua)}%, ${100*(e.dl(void 0)?NaN:this.Ta)}%)`}NQ(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var g=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.WQ(b);isFinite(g)&&this.y9(g);isFinite(a)&&this.v9(a);this.jA(1)}}}toJSON(){return[this.Sa,this.Ua,this.Ta,this.Qa]}Nk(b){!Array.isArray(b)||3>b.length||(this.Sa=b[0],this.Ua=b[1],this.Ta=b[2],this.Qa=4<=b.length?b[3]:1)}set r(b){this.WQ(b)}get r(){return this.Sa}set po(b){this.jA(b)}get po(){return this.Qa}static NA(b,a){return e.ia(Math.max(b,
a)-Math.min(b,a),0,1)}};e.Za.Wga=Object.freeze(e.A(e.Za,1,1,1,1));e.Za.D$=Object.freeze(e.A(e.Za,0,0,0,1));e.Za.Aga=Object.freeze(e.A(e.Za,0,0,0,0))}"use strict";
{const e=self.B;e.Gw=class{constructor(b,a){this.M=this.S=0;b instanceof e.Gw?this.wa(b):this.set(b||0,a||0)}set(b,a){this.S=+b;this.M=+a}wa(b){this.S=b.S;this.M=b.M}Nc(b){return this.S===b.S&&this.M===b.M}toArray(){return[this.S,this.M]}dh(b,a){b[a++]=this.S;b[a]=this.M}offset(b,a){this.S+=+b;this.M+=+a}scale(b,a){this.S*=b;this.M*=a}Gk(b,a){this.S/=b;this.M/=a}round(){this.S=Math.round(this.S);this.M=Math.round(this.M)}floor(){this.S=Math.floor(this.S);this.M=Math.floor(this.M)}ceil(){this.S=Math.ceil(this.S);
this.M=Math.ceil(this.M)}angle(){return e.ru(0,0,this.S,this.M)}X8(){return this.S*this.S+this.M*this.M}length(){return Math.sqrt(this.X8())}s9(b,a){const g=this.S*a-this.M*b;this.M=this.M*a+this.S*b;this.S=g}rotate(b){0!==b&&this.s9(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.S+=Math.cos(b)*a,this.M+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.S/=b,this.M/=b)}ia(b,a){this.S=e.ia(this.S,b,a);this.M=e.ia(this.M,b,a)}}}"use strict";
{const e=self.B;e.Rect=class{constructor(b,a,g,c){this.N=this.T=this.J=this.L=0;b instanceof e.Rect?this.wa(b):this.set(b||0,a||0,g||0,c||0)}set(b,a,g,c){this.L=+b;this.J=+a;this.T=+g;this.N=+c}bh(b,a,g,c){b=+b;a=+a;this.L=b;this.J=a;this.T=b+ +g;this.N=a+ +c}wa(b){this.L=+b.L;this.J=+b.J;this.T=+b.T;this.N=+b.N}clone(){return new e.Rect(this.L,this.J,this.T,this.N)}Nc(b){return this.L===b.L&&this.J===b.J&&this.T===b.T&&this.N===b.N}toArray(){return[this.L,this.J,this.T,this.N]}H9(){new DOMRect(this.L,
this.J,this.width(),this.height())}dh(b,a){b[a++]=this.L;b[a++]=this.J;b[a++]=this.T;b[a]=this.N}R9(b,a){b[a++]=this.L;b[a++]=this.J;b[a++]=this.T;b[a++]=this.J;b[a++]=this.T;b[a++]=this.N;b[a++]=this.L;b[a]=this.N}width(){return this.T-this.L}height(){return this.N-this.J}Ik(){return(this.L+this.T)/2}Jk(){return(this.J+this.N)/2}offset(b,a){b=+b;a=+a;this.L+=b;this.J+=a;this.T+=b;this.N+=a}offsetLeft(b){this.L+=+b}offsetTop(b){this.J+=+b}i9(b){this.T+=+b}h9(b){this.N+=+b}bA(b,a){b=+b;a=+a;this.L-=
b;this.J-=a;this.T+=b;this.N+=a}multiply(b,a){this.L*=b;this.J*=a;this.T*=b;this.N*=a}Gk(b,a){this.L/=b;this.J/=a;this.T/=b;this.N/=a}E9(){const b=this.L;this.L=this.T;this.T=b}vo(){const b=this.J;this.J=this.N;this.N=b}OH(b){const a=this.J;this.J=+b-this.N;this.N=+b-a}round(){this.L=Math.round(this.L);this.J=Math.round(this.J);this.T=Math.round(this.T);this.N=Math.round(this.N)}t9(){this.L=Math.floor(this.L);this.J=Math.floor(this.J);this.T=Math.ceil(this.T);this.N=Math.ceil(this.N)}floor(){this.L=
Math.floor(this.L);this.J=Math.floor(this.J);this.T=Math.floor(this.T);this.N=Math.floor(this.N)}ceil(){this.L=Math.ceil(this.L);this.J=Math.ceil(this.J);this.T=Math.ceil(this.T);this.N=Math.ceil(this.N)}ia(b,a,g,c){this.L<b&&(this.L=+b);this.J<a&&(this.J=+a);this.T>g&&(this.T=+g);this.N>c&&(this.N=+c)}sQ(){0>this.L&&(this.L=0);1<this.J&&(this.J=1);1<this.T&&(this.T=1);0>this.N&&(this.N=0)}normalize(){this.L>this.T&&this.E9();this.J>this.N&&this.vo()}oH(b){return!(b.T<this.L||b.N<this.J||b.L>this.T||
b.J>this.N)}J8(b,a,g){return!(b.T+a<this.L||b.N+g<this.J||b.L+a>this.T||b.J+g>this.N)}bf(b,a){return b>=this.L&&b<=this.T&&a>=this.J&&a<=this.N}}}"use strict";
{const e=self.B;e.ie=class{constructor(b,a,g,c,d,k,h,l){this.dc=this.cc=this.fc=this.ec=this.lc=this.kc=this.xb=this.wb=0;b instanceof e.ie?this.wa(b):this.set(b||0,a||0,g||0,c||0,d||0,k||0,h||0,l||0)}set(b,a,g,c,d,k,h,l){this.wb=+b;this.xb=+a;this.kc=+g;this.lc=+c;this.ec=+d;this.fc=+k;this.cc=+h;this.dc=+l}XQ(b,a,g,c){this.set(b,a,g,a,g,c,b,c)}wa(b){this.wb=b.wb;this.xb=b.xb;this.kc=b.kc;this.lc=b.lc;this.ec=b.ec;this.fc=b.fc;this.cc=b.cc;this.dc=b.dc}Nc(b){return this.wb===b.wb&&this.xb===b.xb&&
this.kc===b.kc&&this.lc===b.lc&&this.ec===b.ec&&this.fc===b.fc&&this.cc===b.cc&&this.dc===b.dc}toArray(){return[this.wb,this.xb,this.kc,this.lc,this.ec,this.fc,this.cc,this.dc]}dh(b,a){b[a++]=this.wb;b[a++]=this.xb;b[a++]=this.kc;b[a++]=this.lc;b[a++]=this.ec;b[a++]=this.fc;b[a++]=this.cc;b[a]=this.dc}S9(b,a,g){b[a++]=this.wb;b[a++]=this.xb;b[a++]=g;b[a++]=this.kc;b[a++]=this.lc;b[a++]=g;b[a++]=this.ec;b[a++]=this.fc;b[a++]=g;b[a++]=this.cc;b[a++]=this.dc;b[a]=g}offset(b,a){b=+b;a=+a;this.wb+=b;this.xb+=
a;this.kc+=b;this.lc+=a;this.ec+=b;this.fc+=a;this.cc+=b;this.dc+=a}round(){this.wb=Math.round(this.wb);this.xb=Math.round(this.xb);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc);this.ec=Math.round(this.ec);this.fc=Math.round(this.fc);this.cc=Math.round(this.cc);this.dc=Math.round(this.dc)}floor(){this.wb=Math.floor(this.wb);this.xb=Math.floor(this.xb);this.kc=Math.floor(this.kc);this.lc=Math.floor(this.lc);this.ec=Math.floor(this.ec);this.fc=Math.floor(this.fc);this.cc=Math.floor(this.cc);
this.dc=Math.floor(this.dc)}ceil(){this.wb=Math.ceil(this.wb);this.xb=Math.ceil(this.xb);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc);this.ec=Math.ceil(this.ec);this.fc=Math.ceil(this.fc);this.cc=Math.ceil(this.cc);this.dc=Math.ceil(this.dc)}Ok(b){this.wb=b.L;this.xb=b.J;this.kc=b.T;this.lc=b.J;this.ec=b.T;this.fc=b.N;this.cc=b.L;this.dc=b.N}x9(b,a){0===a?this.Ok(b):this.VQ(b,Math.sin(a),Math.cos(a))}VQ(b,a,g){const c=b.L*a,d=b.J*a,k=b.T*a;a*=b.N;const h=b.L*g,l=b.J*g,p=b.T*g;b=b.N*g;this.wb=
h-d;this.xb=l+c;this.kc=p-d;this.lc=l+k;this.ec=p-a;this.fc=b+k;this.cc=h-a;this.dc=b+c}mH(b){b.set(Math.min(this.wb,this.kc,this.ec,this.cc),Math.min(this.xb,this.lc,this.fc,this.dc),Math.max(this.wb,this.kc,this.ec,this.cc),Math.max(this.xb,this.lc,this.fc,this.dc))}bf(b,a){var g=this.kc-this.wb,c=this.lc-this.xb;const d=this.ec-this.wb,k=this.fc-this.xb;b-=this.wb;a-=this.xb;var h=g*g+c*c;let l=g*d+c*k;c=g*b+c*a;const p=d*d+k*k,n=d*b+k*a;let t=1/(h*p-l*l);g=(p*c-l*n)*t;h=(h*n-l*c)*t;if(0<=g&&0<
h&&1>g+h)return!0;g=this.cc-this.wb;c=this.dc-this.xb;h=g*g+c*c;l=g*d+c*k;c=g*b+c*a;t=1/(h*p-l*l);g=(p*c-l*n)*t;h=(h*n-l*c)*t;return 0<=g&&0<h&&1>g+h}Ik(){return(this.wb+this.kc+this.ec+this.cc)/4}Jk(){return(this.xb+this.lc+this.fc+this.dc)/4}FQ(b){var a=b.Ik(),g=b.Jk();if(this.bf(a,g))return!0;a=this.Ik();g=this.Jk();if(b.bf(a,g))return!0;a=this.wb;g=this.xb;const c=this.kc,d=this.lc,k=this.ec,h=this.fc,l=this.cc,p=this.dc;return e.iA(a,g,c,d,b)||e.iA(c,d,k,h,b)||e.iA(k,h,l,p,b)||e.iA(l,p,a,g,b)}}}"use strict";
{const e=self.B,b=[0,0,1,0,1,1,0,1],a=e.A(e.ie);e.Co=class extends e.${constructor(g,c=!0){super();g||(g=b);this.Id=Float64Array.from(g);this.Ax=new e.Rect;this.Mn=!0;this.Yf=c}j(){}OQ(){return this.Id.length/2}kA(g){this.Id.length===g.length?this.Id.set(g):this.Id=Float64Array.from(g);this.Mn=!0}w9(){this.kA(b)}wa(g){this.kA(g.Id)}UQ(){this.Mn=!0}O7(){if(this.Mn){var g=this.Id,c=g[0],d=g[1],k=c,h=d;for(let l=0,p=g.length;l<p;l+=2){const n=g[l],t=g[l+1];n<c&&(c=n);n>k&&(k=n);t<d&&(d=t);t>h&&(h=t)}this.Ax.set(c,
d,k,h);this.Mn=!1}}Ok(g){let c=this.Id;8!==c.length&&(this.Id=c=new Float64Array(8));c[0]=g.L-NaN;c[1]=g.J-NaN;c[2]=g.T-NaN;c[3]=g.J-NaN;c[4]=g.T-NaN;c[5]=g.N-NaN;c[6]=g.L-NaN;c[7]=g.N-NaN;this.Ax.wa(g);this.Ax.offset(NaN,NaN);this.Mn=!1}NH(g,c,d){a.wa(g);a.offset(c,d);this.kA(a.toArray());this.Mn=!0}transform(g,c,d){let k=0,h=1;0!==d&&(k=Math.sin(d),h=Math.cos(d));this.UH(g,c,k,h)}UH(g,c,d,k){const h=this.Id;for(let l=0,p=h.length;l<p;l+=2){const n=l+1,t=h[l]*g,q=h[n]*c;h[l]=t*k-q*d;h[n]=q*k+t*d}this.Mn=
!0}offset(g,c){const d=this.Id;for(let k=0,h=d.length;k<h;k+=2)d[k]+=g,d[k+1]+=c}bf(g,c){const d=this.Id;if(g===d[0]&&c===d[1])return!0;this.O7();var k=this.Ax;const h=k.L-110,l=k.J-101,p=k.T+131;k=k.N+120;let n,t,q,u,v,A,y,E;h<g?(n=h,q=g):(n=g,q=h);l<c?(t=l,u=c):(t=c,u=l);p<g?(v=p,y=g):(v=g,y=p);k<c?(A=k,E=c):(A=c,E=k);let x=0,F=0;for(let M=0,O=d.length;M<O;M+=2){var I=(M+2)%O;const Q=d[M],T=d[M+1],aa=d[I];I=d[I+1];e.Mk(h,l,g,c,n,q,t,u,Q,T,aa,I)&&++x;e.Mk(p,k,g,c,v,y,A,E,Q,T,aa,I)&&++F}return 1===
x%2||1===F%2}zu(g,c,d){const k=g.Id,h=this.Id;if(this.bf(k[0]+c,k[1]+d)||g.bf(h[0]-c,h[1]-d))return!0;for(let p=0,n=h.length;p<n;p+=2){var l=(p+2)%n;g=h[p];const t=h[p+1],q=h[l];l=h[l+1];let u,v,A,y;g<q?(u=g,A=q):(u=q,A=g);t<l?(v=t,y=l):(v=l,y=t);for(let E=0,x=k.length;E<x;E+=2){const F=(E+2)%x;if(e.Mk(g,t,q,l,u,A,v,y,k[E]+c,k[E+1]+d,k[F]+c,k[F+1]+d))return!0}}return!1}ug(){return this.Yf}}}"use strict";
{const e=self.B;e.Ur=class extends e.${constructor(b){super();this.Ui=new Map;if(b)for(const [a,g,c]of b)this.Set(a,g,c)}j(){this.Zc();this.Ui=null}Zc(){const b=this.Ui;for(const a of b.values())a.clear();b.clear()}Set(b,a,g){const c=this.Ui;let d=c.get(b);d||(d=new Map,c.set(b,d));d.set(a,g)}W(b,a){return(b=this.Ui.get(b))?b.get(a):b}Ov(b){return(b=this.Ui.get(b))?b.has(void 0):!1}ym(b,a){const g=this.Ui,c=g.get(b);c&&c.delete(a)&&0===c.size&&g.delete(b)}zI(b){const a=this.Ui,g=a.get(b);g&&(g.clear(),
a.delete(b));for(const [c,d]of a.entries())d.delete(b)&&0===d.size&&a.delete(c)}Zk(){let b=0;for(const a of this.Ui.values())b+=a.size;return b}*values(){for(const b of this.Ui.values())yield*b.values()}*entries(){for(const [b,a]of this.Ui.entries())for(const [g,c]of a.entries())yield[b,g,c]}}}"use strict";
{const e=self.B;e.xA=class extends e.${constructor(){super();this.Ul=new Set;this.xx=[];this.Ht=!1}j(){this.Zc()}Zc(){this.Ul.clear();e.D(this.xx);this.Ht=!1}Ec(b){this.Ul.has(b)||(this.Ul.add(b),this.Ht||this.xx.push(b))}Ov(b){return this.Ul.has(b)}ym(b){this.Ul.delete(b)&&(this.Ht=!0)}Zk(){return this.Ul.size}Qm(){return 0===this.Ul.size}UA(){this.Ht&&(this.m4(),this.Ht=!1);return this.xx}m4(){const b=this.xx;e.D(b);for(const a of this.Ul)b.push(a)}}}"use strict";
{const e=new Map,b=new Map,a=new Map,g=new Map,c=new Map,d=new Map;d.set("linear","noease");d.set("default","noease");self.kr=class k{constructor(){}static LW(h){this.ZC();return[...b.keys()].includes(h)}static d2(h){const l=d.get(h);if(l)return e.get(l);if(k.LW(h))return e.get(h);if(c.has(h))return c.get(h)}static Im(h){this.ZC();const l=k.d2(h);return l?l:g.get(h)}static ZC(){0===e.size&&(this.pb("default",()=>{}),this.pb("noease",this.vX),this.pb("easeinsine",this.AT),this.pb("easeoutsine",this.JT),
this.pb("easeinoutsine",this.wT),this.pb("easeinelastic",this.lT),this.pb("easeoutelastic",this.ET),this.pb("easeinoutelastic",this.rT),this.pb("easeinback",this.iT),this.pb("easeoutback",this.BT),this.pb("easeinoutback",this.nT),this.pb("easeinbounce",this.BI),this.pb("easeoutbounce",this.PA),this.pb("easeinoutbounce",this.oT),this.pb("easeincubic",this.kT),this.pb("easeoutcubic",this.DT),this.pb("easeinoutcubic",this.qT),this.pb("easeinquad",this.xT),this.pb("easeoutquad",this.GT),this.pb("easeinoutquad",
this.tT),this.pb("easeinquart",this.yT),this.pb("easeoutquart",this.HT),this.pb("easeinoutquart",this.uT),this.pb("easeinquint",this.zT),this.pb("easeoutquint",this.IT),this.pb("easeinoutquint",this.vT),this.pb("easeincirc",this.jT),this.pb("easeoutcirc",this.CT),this.pb("easeinoutcirc",this.pT),this.pb("easeinexpo",this.mT),this.pb("easeoutexpo",this.FT),this.pb("easeinoutexpo",this.sT),this.IL("cubicbezier",this.hT),this.IL("spline",this.KT))}static pb(h,l){k.VC(h,l,"predefined")}static IL(h,l){k.VC(h,
l,"private")}static nR(h,l){this.ZC();k.VC(h,l,"custom",void 0)}static VC(h,l,p,n){switch(p){case "predefined":e.set(h,l);b.set(h,l);break;case "custom":n?(a.has(n)||a.set(n,new Map),a.get(n).set(h,l)):g.set(h,l);break;case "private":e.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static vX(h,l,p,n){return p*h/n+l}static xT(h,l,p,n){return p*(h/=n)*h+l}static GT(h,l,p,n){return-p*(h/=n)*(h-2)+l}static tT(h,l,p,n){return 1>(h/=n/2)?p/2*h*h+l:-p/2*(--h*(h-2)-1)+l}static kT(h,
l,p,n){return p*(h/=n)*h*h+l}static DT(h,l,p,n){return p*((h=h/n-1)*h*h+1)+l}static qT(h,l,p,n){return 1>(h/=n/2)?p/2*h*h*h+l:p/2*((h-=2)*h*h+2)+l}static yT(h,l,p,n){return p*(h/=n)*h*h*h+l}static HT(h,l,p,n){return-p*((h=h/n-1)*h*h*h-1)+l}static uT(h,l,p,n){return 1>(h/=n/2)?p/2*h*h*h*h+l:-p/2*((h-=2)*h*h*h-2)+l}static zT(h,l,p,n){return p*(h/=n)*h*h*h*h+l}static IT(h,l,p,n){return p*((h=h/n-1)*h*h*h*h+1)+l}static vT(h,l,p,n){return 1>(h/=n/2)?p/2*h*h*h*h*h+l:p/2*((h-=2)*h*h*h*h+2)+l}static AT(h,
l,p,n){return-p*Math.cos(h/n*(Math.PI/2))+p+l}static JT(h,l,p,n){return p*Math.sin(h/n*(Math.PI/2))+l}static wT(h,l,p,n){return-p/2*(Math.cos(Math.PI*h/n)-1)+l}static mT(h,l,p,n){return 0===h?l:p*Math.pow(2,10*(h/n-1))+l}static FT(h,l,p,n){return h===n?l+p:p*(-Math.pow(2,-10*h/n)+1)+l}static sT(h,l,p,n){return 0===h?l:h===n?l+p:1>(h/=n/2)?p/2*Math.pow(2,10*(h-1))+l:p/2*(-Math.pow(2,-10*--h)+2)+l}static jT(h,l,p,n){return-p*(Math.sqrt(1-(h/=n)*h)-1)+l}static CT(h,l,p,n){return p*Math.sqrt(1-(h=h/n-
1)*h)+l}static pT(h,l,p,n){return 1>(h/=n/2)?-p/2*(Math.sqrt(1-h*h)-1)+l:p/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static lT(h,l,p,n){let t=0,q=p;if(0===h)return l;if(1===(h/=n))return l+p;t||(t=.3*n);q<Math.abs(p)?(q=p,p=t/4):p=t/(2*Math.PI)*Math.asin(p/q);return-(q*Math.pow(2,10*--h)*Math.sin(2*(h*n-p)*Math.PI/t))+l}static ET(h,l,p,n){let t,q=0,u=p;if(0===h)return l;if(1===(h/=n))return l+p;q||(q=.3*n);u<Math.abs(p)?(u=p,t=q/4):t=q/(2*Math.PI)*Math.asin(p/u);return u*Math.pow(2,-10*h)*Math.sin(2*(h*n-t)*
Math.PI/q)+p+l}static rT(h,l,p,n){let t,q=0,u=p;if(0===h)return l;if(2===(h/=n/2))return l+p;q||(q=.3*n*1.5);u<Math.abs(p)?(u=p,t=q/4):t=q/(2*Math.PI)*Math.asin(p/u);return 1>h?-.5*u*Math.pow(2,10*--h)*Math.sin(2*(h*n-t)*Math.PI/q)+l:u*Math.pow(2,-10*--h)*Math.sin(2*(h*n-t)*Math.PI/q)*.5+p+l}static iT(h,l,p,n,t){void 0===t&&(t=1.70158);return p*(h/=n)*h*((t+1)*h-t)+l}static BT(h,l,p,n,t){void 0===t&&(t=1.70158);return p*((h=h/n-1)*h*((t+1)*h+t)+1)+l}static nT(h,l,p,n,t){void 0===t&&(t=1.70158);return 1>
(h/=n/2)?p/2*h*h*(((t*=1.525)+1)*h-t)+l:p/2*((h-=2)*h*(((t*=1.525)+1)*h+t)+2)+l}static BI(h,l,p,n){return p-k.PA(n-h,0,p,n)+l}static PA(h,l,p,n){return(h/=n)<1/2.75?7.5625*p*h*h+l:h<2/2.75?p*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?p*(7.5625*(h-=2.25/2.75)*h+.9375)+l:p*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static oT(h,l,p,n){return h<n/2?.5*k.BI(2*h,0,p,n)+l:.5*k.PA(2*h-n,0,p,n)+.5*p+l}static hT(h,l,p,n,t){return l+3*h*(p-l)+3*h**2*(l+n-2*p)+h**3*(t-l+3*p-3*n)}static KT(h,l,p,n,t,q,u,v,A,y){if(n===
t&&q===u)return h;if(1==h)h=1;else{for(var E=0,x=1,F=y[x];10!=x&&F<=h;)x++,F=y[x],E+=.1;x--;F=y[x];y=E+(h-F)/(y[x+1]-F)*.1;v=v-3*q+3*n-l;q=3*q-6*n+3*l;l=3*(n-l);n=3*v*y*y+2*q*y+l;if(0!==n)if(.02<=n)for(E=0;4>E;++E)y-=(((v*y+q)*y+l)*y-h)/(3*v*y*y+2*q*y+l);else{n=E;E+=.1;x=0;let I;do y=n+(E-n)/2,F=((v*y+q)*y+l)*y-h,0<F?E=y:n=y,F=1E-7<Math.abs(F),I=10>++x;while(F&&I)}h=y}return(((A-3*u+3*t-p)*h+(3*u-6*t+3*p))*h+3*(t-p))*h}static fU(h,l,p,n){const t=[];n=n-3*p+3*l-h;p=3*p-6*l+3*h;h=3*(l-h);for(let q=
0;11>q;++q)l=.1*q,t.push(((n*l+p)*l+h)*l);return t}}}"use strict";{const e=self.B;e.sda=class{constructor(){this.cP=[]}j(){this.Zc();this.cP=null}Zc(){e.i8(this.cP)}}}"use strict";
self.B.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.L8=this.HH=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.L8)throw Error(`cannot stop async event '${this.type}' propagation`);this.HH=!0}};"use strict";
{const e=self.B;e.Event.sV=class extends e.${constructor(b){super();this.Ba=b;this.Pe=[];this.Bp=new Set;this.Ue=[];this.aq=new Set;this.Zs=0;this.Nt=[];this.qq=[];this.rq=[]}j(){0<this.Zs||(e.D(this.Pe),this.Bp.clear(),e.D(this.Ue),this.aq.clear(),e.D(this.Nt),e.D(this.qq),e.D(this.rq),e.j(this))}GL(b,a){this.HM()?this.Nt.push([b,a]):a?this.Bp.has(b)||(this.Pe.push(b),this.Bp.add(b)):this.aq.has(b)||(this.Ue.push(b),this.aq.add(b))}A4(b,a){this.HM()?a?this.qq.push(b):this.rq.push(b):a?this.Bp.has(b)&&
(this.Bp.delete(b),e.ro(this.Pe,b)):this.aq.has(b)&&(this.aq.delete(b),e.ro(this.Ue,b))}L2(){return!this.Pe.length&&!this.Ue.length}HM(){return 0<this.Zs}j4(){for(var b of this.Nt)this.GL(...b);e.D(this.Nt);for(const a of this.rq)this.aq.delete(a);for(const a of this.qq)this.Bp.delete(a);b=new Set(this.qq);e.ng(this.Ue,new Set(this.rq));e.ng(this.Pe,b);e.D(this.qq);e.D(this.rq)}P1(b){this.tp();let a=!1;for(let g=0,c=this.Pe.length;g<c;++g)if(this.Pe[g](b),b.HH){a=!0;break}if(!a)for(let g=0,c=this.Ue.length;g<
c&&(this.Ue[g](b),!b.HH);++g);this.rp();return!b.defaultPrevented}R1(b){this.tp();for(let a=0,g=this.Pe.length;a<g;++a)this.Pe[a](b);for(let a=0,g=this.Ue.length;a<g;++a)this.Ue[a](b);this.rp();return!0}tp(){this.Zs++}rp(){this.Zs--;0===this.Zs&&(this.Nt.length||this.qq.length||this.rq.length)&&this.j4()}hp(b){b?this.tp():this.rp()}iM(b){const a=[];this.tp();for(let c=0,d=this.Pe.length;c<d;++c){var g=this.Pe[c](b);g instanceof Promise&&a.push(g)}for(let c=0,d=this.Ue.length;c<d;++c)g=this.Ue[c](b),
g instanceof Promise&&a.push(g);this.rp();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async M1(b){return await this.iM(b)}async N1(b){this.tp();for(let g=0,c=this.Pe.length;g<c;++g){var a=this.Pe[g](b);a instanceof Promise&&await a}for(let g=0,c=this.Ue.length;g<c;++g)a=this.Ue[g](b),a instanceof Promise&&await a;this.rp();return!b.defaultPrevented}*O1(b){this.tp();for(let g=0,c=this.Pe.length;g<c;++g){var a=this.Pe[g](b);e.fl(a)&&(yield*a)}for(let g=0,c=this.Ue.length;g<
c;++g)a=this.Ue[g](b),e.fl(a)&&(yield*a);this.rp()}}}"use strict";
{const e=self.B;e.Event.Db=class extends e.${constructor(){super();this.Bn=new Map;this.FE=!1}j(){if(this.FE)throw Error("already released");this.bS();this.FE=!0;e.j(this)}Hw(){return this.FE}bS(){for(let b of this.Bn.values())b.j();this.Bn.clear()}gn(b,a){let g=this.Bn.get(b);return g?g:a?(g=e.A(e.Event.sV,b),this.Bn.set(b,g),g):null}AB(b){return this.Bn.has(b)}addEventListener(b,a,g){this.gn(b,!0).GL(a,!!g)}removeEventListener(b,a,g){let c=this.gn(b,!1);c&&(c.A4(a,!!g),c.L2()&&this.Bn.delete(b))}dispatchEvent(b){const a=
this.gn(b.type,!1);return a?b.cancelable?a.P1(b):a.R1(b):!0}async hH(b){const a=this.gn(b.type,!1);return a?await a.M1(b):!0}t8(b){const a=this.gn(b.type,!1);return a?a.iM(b):!0}async s8(b){const a=this.gn(b.type,!1);a&&await a.N1(b)}u8(b){const a=this.gn(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.O1(b)}hp(b){for(const a of this.Bn.values())a.hp(b)}}}"use strict";
{const e=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],g=-1,c=0;function d(p){g=b&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:p)}function k(p){g=-1;if(a.length){var n=performance.now(),t=0;do{h(a.shift());var q=performance.now();++t;var u=(q-n)/t*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof p?u<p.timeRemaining():12>q-n+u));-1===g&&a.length&&d(Math.max(16-(q-n),4))}}function h(p){let n;try{n=p.lH()}catch(t){p.reject(t);return}p.resolve(n)}let l=e.tK.Ov("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.pj=function(p){let n=null;e.Sq&&(n=e.tv());return new Promise((t,q)=>{a.push({lH:p,resolve:t,reject:q,stack:n});l?h(a.pop()):-1===g&&d(16)})};e.pj.RK=function(p){if(p)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}"use strict";
{const e=self.B;let b=-1;function a(){b=-1}e.ov=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let g=-1,c=-1,d=new Set;function k(){c=g=-1;let h=Date.now();for(let l of d)if(l.u0(h)){let p=l.xn;if(-1===c||p<c)c=p}else d.delete(l);-1!==c&&(g=self.setTimeout(k,Math.max(c-h+100,1E3)))}e.TV=class{constructor(h,l){this.Ap=h;this.Dz=1E3*l;this.xn=0;this.tb=!1}dd(){let h=e.ov();this.xn=h+this.Dz;this.tb||(d.add(this),this.tb=!0);-1===g?(c=this.xn,g=self.setTimeout(k,this.Dz+100)):this.xn<
c&&c>h+1E3&&(self.clearTimeout(g),c=this.xn,g=self.setTimeout(k,this.Dz+100))}u0(h){return h>=this.xn?this.Ap()?(this.xn=h+this.Dz,!0):this.tb=!1:!0}VR(){this.tb&&(d.delete(this),this.tb=!1,0===d.size&&-1!==g&&(self.clearTimeout(g),c=g=-1))}j(){this.VR();this.Ap=null}}}"use strict";
{const e=self.B;e.Nd=class b{constructor(a){this.Np=!1;this.GE=a}kv(){this.Np||(this.Np=!0,this.GE&&(this.GE(),this.GE=null))}j(){this.kv()}static j(a){return new b(()=>a.j())}static Ef(a,g,c){if("undefined"===typeof d||null===d)var d=!1;else if("boolean"!==typeof d&&"object"!==typeof d)throw new TypeError("invalid event listener options");if(g.includes(" ")){g=g.split(" ");const k=new e.av;for(let h of g)a.addEventListener(h,c,d),k.Ec(e.A(e.Nd,()=>a.removeEventListener(h,c,d)));return k}a.addEventListener(g,
c,d);return e.A(e.Nd,()=>a.removeEventListener(g,c,d))}};e.mga=class extends e.Nd{};e.av=class extends e.Nd{constructor(...b){super();this.Ed=new Set;for(let a of b)this.Ec(a)}Ec(...b){if(this.Np)throw Error("already disposed");for(let a of b)this.Ed.add(a)}wg(b){if(this.Np)throw Error("already disposed");this.Ed.delete(b)}kv(){if(this.Np)throw Error("already disposed");this.Np=!0;for(let b of this.Ed)b.kv();this.Ed.clear();this.Ed=null}j(){this.kv()}}}"use strict";
{const e=self.B;e.Zv=class extends e.${constructor(){super();this.xq=this.bu=this.M=this.Dx=0}Ec(b){this.M=+b-this.Dx;this.bu=this.xq+this.M;this.Dx=this.bu-this.xq-this.M;this.xq=this.bu}W(){return this.xq}dd(){this.xq=this.bu=this.M=this.Dx=0}Set(b){this.bu=this.M=this.Dx=0;this.xq=+b}j(){}}}"use strict";
{const e=self.B,b={gC:function(a){this.dR=a;this.left=this.right=this.dR.hb;this.parent=null;this.color=!1;this.key=null},Xm:function(a){this.size=0;this.hb=new b.gC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb;this.compare=a||this.p8}};wa=b.Xm.prototype;wa.p8=function(a,g){return a<g?-1:g<a?1:0};wa.clone=function(){var a=new b.Xm(this.compare);a.G8(this);return a};wa.clear=function(){this.size=0;this.hb=new b.gC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb};
wa.Bu=function(a){var g=a.right;a.right=g.left;g.left!=this.hb&&(g.left.parent=a);g.parent=a.parent;a.parent==this.hb?this.root=g:a==a.parent.left?a.parent.left=g:a.parent.right=g;g.left=a;a.parent=g};wa.Ju=function(a){var g=a.left;a.left=g.right;g.right!=this.hb&&(g.right.parent=a);g.parent=a.parent;a.parent==this.hb?this.root=g:a==a.parent.right?a.parent.right=g:a.parent.left=g;g.right=a;a.parent=g};wa.Qq=function(a){if(this.contains(a))this.xu(a).key=a;else{var g=new b.gC(this);g.key=a;a=this.hb;
for(var c=this.root;c!=this.hb;)a=c,c=0>this.compare(g.key,c.key)?c.left:c.right;g.parent=a;a==this.hb?this.root=g:0>this.compare(g.key,a.key)?a.left=g:a.right=g;g.left=this.hb;g.right=this.hb;g.color=!0;this.H8(g);this.size++}};wa.H8=function(a){for(;a!=this.hb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var g=a.parent.parent.right;1==g.color?(a.parent.color=!1,g.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Bu(a)),a.parent.color=
!1,a.parent.parent.color=!0,a.parent.parent!=this.hb&&this.Ju(a.parent.parent))}else g=a.parent.parent.left,1==g.color?(a.parent.color=!1,g.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Ju(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.hb&&this.Bu(a.parent.parent));this.root.color=!1};wa.r8=function(a){var g=a.left==this.hb||a.right==this.hb?a:this.wm(a);var c=g.left!=this.hb?g.left:g.right;c.parent=g.parent;g.parent==this.hb?this.root=
c:g==g.parent.left?g.parent.left=c:g.parent.right=c;g!=a&&(a.key=g.key);0==g.color&&this.q8(c);this.size--};wa.q8=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var g=a.parent.right;1==g.color&&(g.color=!1,a.parent.color=!0,this.Bu(a.parent),g=a.parent.right);0==g.left.color&&0==g.right.color?(g.color=!0,a=a.parent):(0==g.right.color&&(g.left.color=!1,g.color=!0,this.Ju(g),g=a.parent.right),g.color=a.parent.color,a.parent.color=!1,g.right.color=!1,this.Bu(a.parent),a=this.root)}else g=
a.parent.left,1==g.color&&(g.color=!1,a.parent.color=!0,this.Ju(a.parent),g=a.parent.left),0==g.right.color&&0==g.left.color?(g.color=!0,a=a.parent):(0==g.left.color&&(g.right.color=!1,g.color=!0,this.Bu(g),g=a.parent.left),g.color=a.parent.color,a.parent.color=!1,g.left.color=!1,this.Ju(a.parent),a=this.root);a.color=!1};wa.remove=function(a){a=this.xu(a);if(a!=this.hb){var g=a.key;this.r8(a);return g}return null};wa.min=function(a){for(;a.left!=this.hb;)a=a.left;return a};wa.max=function(a){for(;a.right!=
this.hb;)a=a.right;return a};wa.wm=function(a){if(a.right!=this.hb)return this.min(a.right);for(var g=a.parent;g!=this.hb&&a==g.right;)a=g,g=g.parent;return g};wa.xu=function(a){for(var g=this.root;g!=this.hb&&0!=this.compare(g.key,a);)g=0>this.compare(a,g.key)?g.left:g.right;return g};wa.contains=function(a){return null!=this.xu(a).key};wa.nH=function(){var a=[];this.forEach(function(g){a.push(g)});return a};wa.G8=function(a){if("array"==b.VH(a))for(var g=0;g<a.length;g++)this.Qq(a[g]);else if("function"==
b.VH(a.forEach))a.forEach(this.Qq,this);else if("function"==b.VH(a.nH))for(a=a.nH(),g=0;g<a.length;g++)this.Qq(a[g]);else if("object"==b.VH(a))for(g in a)this.Qq(a[g])};wa.range=function(a,g){var c=[];this.M9(function(d){c.push(d)},a,g);return c};wa.M9=function(a,g,c){if(!this.Tq())for(g=this.xu(g),c=this.xu(c);g!=c&&!a.call(void 0,g.key,this);)g=this.wm(g)};wa.forEach=function(a,g){if(!this.Tq())for(var c=this.min(this.root);c!=this.hb;c=this.wm(c))a.call(g,c.key,c.key,this)};wa.some=function(a,
g){if(this.Tq())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.wm(c))if(a.call(g,c.key,c.key,this))return!0;return!1};wa.every=function(a,g){if(this.Tq())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.wm(c))if(!a.call(g,c.key,c.key,this))return!1;return!0};wa.map=function(a,g){var c=[];if(this.Tq())return c;for(var d=this.min(this.root);d!=this.hb;d=this.wm(d))c.push(a.call(g,d.key,d.key,this));return c};wa.filter=function(a,g){var c=[];if(this.Tq())return c;for(var d=this.min(this.root);d!=
this.hb;d=this.wm(d))a.call(g,d.key,d.key,this)&&c.push(d.key);return c};wa.Tq=function(){return 0==this.size};e.Xm=class extends e.${constructor(a){super();this.eg=new b.Xm(a);this.Qp=!1;this.ao=new Set;this.bo=new Set}Ec(a){this.Qp?this.eg.contains(a)?this.bo.delete(a):this.ao.add(a):this.eg.Qq(a)}wg(a){this.Qp?this.eg.contains(a)?this.bo.add(a):this.ao.delete(a):this.eg.remove(a)}Ov(a){return this.Qp?this.ao.has(a)?!0:!this.bo.has(a)&&this.eg.contains(a):this.eg.contains(a)}Zc(){this.eg.clear();
this.ao.clear();this.bo.clear()}toArray(){if(this.Qp)throw Error("cannot be used in queueing mode");return this.eg.nH()}Zk(){return this.eg.size+this.ao.size-this.bo.size}Qm(){return 0===this.Zk()}xg(a){a=!!a;if(this.Qp!==a&&(this.Qp=a,!a)){for(const g of this.bo)this.eg.remove(g);this.bo.clear();for(const g of this.ao)this.eg.Qq(g);this.ao.clear()}}LI(a){this.eg.forEach(a)}*values(){if(!this.Qm()){var a=this.eg;for(let g=a.min(a.root);g!=a.hb;g=a.wm(g))yield g.key}}[Symbol.iterator](){return this.values()}}}"use strict";
{const e=self.B;e.oK=class{constructor(b=e.hardwareConcurrency){this.p7=b;this.iG=[];this.$D=0}Ec(b){return new Promise((a,g)=>{this.iG.push({lH:b,resolve:a,reject:g});this.SM()})}async SM(){if(this.iG.length&&!(this.$D>=this.p7)){this.$D++;var b=this.iG.shift();try{const a=await b.lH();b.resolve(a)}catch(a){b.reject(a)}this.$D--;this.SM()}}}}"use strict";
{const e=self.B;e.wY=class{constructor(b,a,g){this.Ap=b;this.b7=a;this.c7=g||2*a;this.Dq=-1;this.Oy=-Infinity;this.gQ=()=>this.X3();this.K6=this.dF=!1;this.Ss=null}h2(){return"undefined"!==typeof e.NR&&e.NR.Dba()?this.c7:this.b7}CA(...b){if(-1===this.Dq){this.Ss=b;b=e.ov();var a=b-this.Oy,g=this.h2();a>=g&&this.K6?(this.Oy=b,this.qN()):this.Dq=self.setTimeout(this.gQ,Math.max(g-a,4))}}qN(){this.dF=!0;const b=this.Ss;this.Ss=null;b?this.Ap(...b):this.Ap();this.dF=!1}dd(){this.dF||(this.ML(),this.Ss=
null,this.Oy=e.ov())}X3(){this.Dq=-1;this.Oy=e.ov();this.qN()}ML(){-1!==this.Dq&&(self.clearTimeout(this.Dq),this.Dq=-1)}j(){this.ML();this.gQ=this.Ss=this.Ap=null}}}"use strict";function Tb(e,b){if(!e.xO)throw Error("no get base size callback set");return e.xO(b)}function Ub(e){if(!e.NP)throw Error("no redraw callback set");e.NP()}self.B.Pea=class{constructor(){this.Y6=new Map;this.NP=this.OP=this.xO=null}};"use strict";
self.B.Oea=class{constructor(e,b){this.hq=e;this.N6=b;this.uc=0;Tb(this.hq,b).then(()=>{Ub(this.hq)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);Ub(this.hq)});this.jG=null}j(){if(0>=this.uc)throw Error("already released");this.uc--;0===this.uc&&this.Fs()}Fs(){if(this.jG){var e=this.hq;if(!e.OP)throw Error("no release result callback set");e.OP(this.jG);this.jG=null}this.hq.Y6.delete(this.N6);this.hq=null}};"use strict";
{const e=self.B;e.Ega="\ufeff";const b=new Set([..."0123456789"]);e.MW=function(p){return b.has(p)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Yv=function(p){return a.has(p)};e.yaa=function(p){return[...p].filter(n=>!e.Yv(n)).join("")};e.YB=function(p){for(const n of p)if(!e.Yv(n))return!1;return!0};e.WW=function(p){return 1===p.length&&32>p.charCodeAt(0)};e.VT=function(p){return[...p].filter(n=>
!e.WW(n)).join("")};const g=new Set([..."0123456789.+-e"]);e.Kba=function(p){p=p.trim();if(!p.length)return!1;let n=p.charAt(0);if("-"!==n&&!b.has(n))return!1;for(let t of p)if(!g.has(t))return!1;return!0};e.GY=function(p){let n=p.length;for(;0<n&&e.MW(p.charAt(n-1));)--n;return p.substr(0,n)};e.fba=function(p){let n=e.GY(p);p=(p=p.substr(n.length))?(parseInt(p,10)+1).toString():"2";return n+p};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function d(p){return c.get(p)}
const k=/[&<>"']/g;e.OT=function(p){return p.replace(k,d)};e.paa=function(p){p=e.vh(p,"\\","\\\\");p=e.vh(p,'"','\\"');p=e.vh(p,"\t","\\t");p=e.vh(p,"\r","");return e.vh(p,"\n","\\n")};e.qaa=function(p){p=e.vh(p,"&","&amp;");p=e.vh(p,"<","&lt;");p=e.vh(p,">","&gt;");return e.vh(p,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.lr=function(p){return p.replace(h,"\\$&")};e.zaa=function(p,n,t=!1){if(!n)return[];t||(p=p.toLowerCase(),n=n.toLowerCase());t=n.length;var q=0;let u=[];for(;-1<(q=p.indexOf(n,
q));)u.push(q),q+=t;return u};e.vh=function(p,n,t){return p.replaceAll(n,()=>t)};e.Cda=function(p,n,t){return p.replace(new RegExp(e.lr(n),"gi"),()=>t)};e.gfa=function(p,n){"string"===typeof n?p.textContent=n:n.YO?p.textContent=n.toString():(p.innerHTML=n.SH(),n instanceof e.Sk&&n.c8(p))};e.hga=function(p,n){return p instanceof e.HB||p instanceof e.Sk?p.Nc(n):n instanceof e.HB||n instanceof e.Sk?n.Nc(p):p===n};e.iga=function(p,...n){let t=p;for(let q=0,u=n.length;q<u;++q){const v=`{${q}}`;if(!p.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
t=t.replace(v,n[q].toString())}return t};e.jga=function(p,...n){let t=p,q=-1,u=-1;for(let v=0,A=n.length;v<A;++v){const y=`{${v}}`;p.includes(y)?(u=v,t=t.replace(y,n[v].toString())):-1===q&&(q=v)}if(0<=q&&0<=u&&q<u)throw Error(`missing placeholder '${q}' in string substitution`);return t};e.kga=function(p,n){for(let [t,q]of Object.entries(n))p=p.replaceAll(t,q.toString());return p};e.Ufa=function(p,n){p=p.toLowerCase();n=n.toLowerCase();return p>n?1:p<n?-1:0};e.Caa=function(p,n){n="common."+(n?"dataRates":
"dataSizes")+".";const t=self.Aia;if(1024>p)return t(n+"bytes",p);if(1048576>p)return p/=1024,p=10>p?Math.round(10*p)/10:Math.round(p),t(n+"kilobytes",p);if(1073741824>p)return p/=1048576,p=10>p?Math.round(10*p)/10:Math.round(p),t(n+"megabytes",p);if(1099511627776>p)return p/=1073741824,p=10>p?Math.round(10*p)/10:Math.round(p),t(n+"gigabytes",p);p/=1099511627776;p=10>p?Math.round(10*p)/10:Math.round(p);return t(n+"terabytes",p)};const l={Z7:!1,m8:!0,F8:!0,c9:!0,TQ:!0};e.Daa=function(p,n){n=Object.assign({},
l,n);e.$W.uda("common.time");const t=[],q=self.lang,u=self.zia;if(n.m8){var v=Math.floor(p/86400);0<v&&(p-=86400*v,t.push(u(".days",null,v)))}n.F8&&(v=Math.floor(p/3600),0<v||t.length)&&(p-=3600*v,t.push(u(".hours",null,v)));n.c9&&(v=Math.floor(p/60),0<v||t.length||!n.TQ)&&(p-=60*v,t.push(u(".minutes",null,v)));n.TQ&&t.push(u(".seconds",null,Math.floor(p%60)));p=(n.Z7?q(".approx-prefix"):"")+t.join(q(".separator"));e.$W.qda();return p};e.cha=function(p,n){let t=0>p?"-":"";p=Math.abs(p);p=p.toString();
n-=p.length;for(let q=0;q<n;++q)t+="0";return t+p};e.lga=function(p){return p.toLowerCase().replace(/\b\w/g,n=>n.toUpperCase())};e.$$=function(p,n){p=p.split(".").map(t=>t.trim());n=n.split(".").map(t=>t.trim());e.QQ(p);e.QQ(n);p=p.map(t=>parseInt(t,10));n=n.map(t=>parseInt(t,10));for(let t=0;4>t;++t){const q=p[t]-n[t];if(0!==q)return 0>q?-1:1}return 0};e.faa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,p=>{const n=Math.floor(16*Math.random());return("x"===p?n:n&3|8).toString(16)})};
e.fga=function(p,n){if(p.length!==n.length)throw Error("strings must be same length");let t=0;for(let q=0,u=p.length;q<u;++q)p.charAt(q)!==n.charAt(q)&&++t;return t};e.gga=function(p,n){if(0===p.length)return n.length;if(0===n.length)return p.length;let t,q,u,v;if(p.length>n.length){var A=p;p=n;n=A}v=Array(p.length+1);for(A=0;A<=p.length;A++)v[A]=A;for(A=1;A<=n.length;A++){q=A;for(t=1;t<=p.length;t++)u=n[A-1]===p[t-1]?v[t-1]:Math.min(v[t-1]+1,Math.min(q+1,v[t]+1)),v[t-1]=q,q=u;v[p.length]=q}return v[p.length]}}"use strict";
{const e=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,g=/\[(\/?)([^\[]*?)\]/g;
let c=null,d=0;function k(l,p,n){var t=b.get(n);if(t){if("string"===typeof t){if("a"!==t||p)return"<"+p+t+">";p=parseInt(n.substring(1),10)-1;if(0>p||p>=c.length)throw Error("invalid bbcode link substitution");t=c[p];if("string"===typeof t)return`<a href="${c[p]}">`;if("function"===typeof t)return`<a class="bblink${p}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(t))return l=t[0],t=t[1],p?"</"+l+">":`<${l} class="${t}">`}else return"class"===n?p?"</span>":`<span class="bbclass${d++}">`:
l}const h=/\n/g;e.Sk=class{constructor(l,p){this.Fg=p&&p.f9?l:e.OT(l);this.cF="";this.fO=!1;this.At=[];if(p&&(this.fO=!!p.xha,p.links)){if(9<p.links.length)throw Error("too many links");this.At=p.links}this.DO=this.Fg.includes("[");this.BP=this.fO&&this.Fg.includes("\n");this.YO=!this.DO&&!this.BP&&!this.Fg.includes("&");this.IO=!1;this.$s=[]}toString(){return this.Fg}valueOf(){return this.Fg}SH(){if(this.YO)return this.Fg;if(!this.cF&&this.Fg){let l=this.Fg;this.DO&&(d=0,c=this.At,l=l.replace(a,
k),c=null);this.BP&&(l=l.replace(h,"<br>"));this.cF=l}return this.cF}c8(l){if(this.At.length)for(let p=0,n=this.At.length;p<n;++p){const t=this.At[p];if("function"!==typeof t)continue;const q=l.querySelector(".bblink"+p);if(!q)throw Error("unable to attach BBString link handler");q.onclick=t}}Nc(l){return l instanceof e.HB?this.SH()===l.SH():l instanceof e.Sk?this.Fg===l.Fg:this.Fg===l}I9(){if(this.IO)return this.$s;const l=this.Fg,p=[];let n=g.lastIndex=0;for(var t;null!==(t=g.exec(l));){var q=t.index;
if(0<q&&"\\"===l.charAt(q-1))continue;var u=t[1],v=t[2];const A=l.substring(n,q);n=q+t[0].length;A&&this.$s.push({text:A,Oc:p.slice(0)});if(v)if(u)for(v=v.toLowerCase(),t=p.length-1;0<=t;--t){if(p[t].tag===v){p.splice(t,1);break}}else t=v,q=null,u=v.indexOf("="),-1!==u?(t=v.substring(0,u).toLowerCase(),q=v.substring(u+1)):t=t.toLowerCase(),p.push({tag:t,param:q})}n<l.length&&this.$s.push({text:l.substring(n),Oc:p.slice(0)});for(const A of this.$s)A.text=this.i4(A.text);this.IO=!0;return this.$s}i4(l){l=
e.vh(l,"\\[","[");return e.vh(l,"\\\\","\\")}static nL(l){return l.replace(g,"")}}}"use strict";
{const e=self.B;e.TC=class{constructor(){this.Ol=[]}UM(b,a){let g=0,c=0,d=0,k=0;for(const h of b)-1===h.width&&(b=a(h.text,h.Oc),h.width=b.width,h.height=b.height,h.Af=b.Af||0,h.Ae=b.Ae||0),g+=h.width,c=Math.max(c,h.height),d=Math.max(d,h.Af),k=Math.max(k,h.Ae);return{width:g,height:c,Af:d,Ae:k}}Jw(b,a,g,c,d){this.Ol.push({BQ:b,width:a,height:g,Af:c,Ae:d})}TC(b,a,g,c,d){"string"===typeof b&&(b=[{text:b,Oc:[]}]);e.D(this.Ol);if(!(!b.length||1===b.length&&!b[0].text.length||2>g)){if(1===b.length){var k=
b[0];const h=k.text;k=k.Oc;if(100>=h.length&&!h.includes("\n")){let {width:l,height:p,Af:n,Ae:t}=a(h,k);l+=d;n=n||0;t=t||0;if(l<=g){this.Jw([{text:h,Oc:k,width:l,height:p,Af:n,Ae:t}],l,p,n,t);return}}}if("word"===c)c=this.d6(b);else{c=[];for(const h of b)e.qo(c,[...h.text].map(l=>[{text:l,Oc:h.Oc}]))}this.t6(c,a,g,d)}}d6(b){const a=[];let g=[],c=!1;for(const k of b){var d=k.text;b=k.Oc;for(const h of d)"\n"===h?(0<g.length&&a.push(g),a.push([{text:"\n",Oc:b}]),g=[]):0===g.length?(g.push({text:h,Oc:b}),
c=e.Yv(h)):(d=e.Yv(h),d===c?(d=g[g.length-1],d.Oc===b?d.text+=h:g.push({text:h,Oc:b})):(a.push(g),g=[],g.push({text:h,Oc:b}),c=d))}0<g.length&&a.push(g);return a}x0(b){return b.map(a=>({text:a.text,Oc:a.Oc,width:a.width,height:a.height,Af:a.Af,Ae:a.Ae}))}LL(b,a){var g=b.length?b[b.length-1]:null;let c=0;g&&a[0].Oc===g.Oc&&(g.text+=a[0].text,g.width=-1,g.height=-1,g.Af=-1,g.Ae=-1,c=1);for(g=a.length;c<g;++c){const d=a[c];b.push({text:d.text,Oc:d.Oc,width:-1,height:-1,Af:-1,Ae:-1})}}t6(b,a,g,c){let d=
[],k=0,h=0,l=0;var p=0;for(const n of b){if(1===n.length&&"\n"===n[0].text){0===h&&(p=a(" ",n[0].Oc),h=p.height,l=p.Af||0,p=p.Ae||0);this.Jw(d,k,h,l,p);d=[];p=l=h=k=0;continue}b=this.x0(d);this.LL(b,n);const t=this.UM(b,a),q=t.width;q>=g?(0<d.length&&this.Jw(d,k,h,l,p),d=[],e.YB(n[0].text)?p=l=h=k=0:(this.LL(d,n),p=this.UM(d,a),k=p.width,h=p.height,l=p.Af,p=p.Ae)):(d=b,k=q,h=t.height,l=t.Af,p=t.Ae)}0<d.length&&this.Jw(d,k,h,l,p);this.g6(a,c)}g6(b,a){for(const c of this.Ol){const d=c.BQ;if(!d.length)continue;
let k=d[d.length-1];var g=k.text;const h=g.trimEnd();if(!h)c.width-=k.width,d.pop();else if(h.length<g.length){g=b(h,k.Oc).width;const l=k.width-g;k.width=g;k.text=h;c.width-=l}0!==a&&0<d.length&&(k=d[d.length-1],k.width+=a,c.width+=a)}}Zc(){e.D(this.Ol)}VU(){return this.Ol.reduce((b,a)=>Math.max(b,a.width),0)}lV(){return this.Ol.reduce((b,a)=>b+a.height,0)}}}"use strict";
function Vb(e,b){return e[0]===b[0]&&e[1]===b[1]&&e[2]===b[2]&&e[3]===b[3]&&e[4]===b[4]&&e[5]===b[5]&&e[6]===b[6]&&e[7]===b[7]&&e[8]===b[8]&&e[9]===b[9]&&e[10]===b[10]&&e[11]===b[11]&&e[12]===b[12]&&e[13]===b[13]&&e[14]===b[14]&&e[15]===b[15]}self.B.oa={};"use strict";
{const e=self.B,b=[0,0,0,0,0,0,0,0],a=self.Pq,g=a.pA,c=a.cA,d=g.yd(0,0,0);e.oa.JY=class{constructor(){this.O=this.R=0;this.Ih=g.yd(0,0,100);this.cj=g.yd(0,0,0);this.QG=g.yd(0,1,0);this.im=g.yd(1,1,1);this.Ft=c.create();this.ci=c.create();this.AF=c.create();this.pn=[];this.sz=new Map;this.uG=this.vG=this.xz=null;this.$t=new Map;this.Oh=null;this.qE=[];this.AP=new Map;this.Uh=this.Nx=this.zx=0;this.Pp=!0}UT(k){let h=0,l=k.length,p=0;for(;h<l;)k[h++]=p,k[h++]=p+1,k[h++]=p+2,k[h++]=p,k[h++]=p+2,k[h++]=
p+3,p+=4}OL(){this.Nx=this.zx=0;this.uG=this.vG=this.xz=null;this.v0()}Tv(){this.OL();this.Oh=null}KX(){for(const k of this.pn)k.j();this.OL()}nK(k,h,l,p,n){const t=this.ci,q=this.Ft;for(let u=0,v=b.length;u<v;++u)b[u]=0;b[0]=t[0]*k+t[4]*h+t[12];b[1]=t[1]*k+t[5]*h+t[13];b[2]=t[2]*k+t[6]*h+t[14];b[3]=t[3]*k+t[7]*h+t[15];b[4]=q[0]*b[0]+q[4]*b[1]+q[8]*b[2]+q[12]*b[3];b[5]=q[1]*b[0]+q[5]*b[1]+q[9]*b[2]+q[13]*b[3];b[6]=q[2]*b[0]+q[6]*b[1]+q[10]*b[2]+q[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],
b[5]*=b[7],b[6]*=b[7],n[0]=(.5*b[4]+.5)*l,n[1]=(.5*b[5]+.5)*p)}ea(){return this.R}da(){return this.O}uw(k,h,l){this.Ih[0]=k*this.im[0];this.Ih[1]=h*this.im[1];this.Ih[2]=l}xw(k,h,l){this.cj[0]=k*this.im[0];this.cj[1]=h*this.im[1];this.cj[2]=l}lw(k){c.rH(this.ci,this.Ih,this.cj,k||this.QG);c.scale(this.ci,this.ci,this.im)}$Y(k,h){if(1!==k||1!==h)d[0]=k,d[1]=h,d[2]=1,c.scale(this.ci,this.ci,d)}f0(k){this.pn.push(k);this.sz.set(k.V,k)}C4(k){const h=this.pn.indexOf(k);-1!==h&&this.pn.splice(h,1);this.sz.delete(k.V)}v0(){e.D(this.pn);
this.sz.clear()}kJ(k){return this.sz.get(k)||null}xh(){this.rl(this.xz)}KK(){this.rl(this.uG)}u5(k){this.Oh=k}kR(k,h,l,p){const n=e.oa.NC.RJ(k,h,l,p);let t=this.$t.get(n);t||(t=e.A(e.oa.NC,this,k,h,l,p),this.$t.set(n,t));t.yR();return t}vK(k){k.KS();0===k.uc&&(this.Oh===k&&(this.Oh=null),this.$t.delete(k.OU()),k.j())}x2(k){e.D(this.qE);this.AP.clear();for(const h of k){k=h[0];const l=h[1],p=h[2];this.qE.push([l,p]);this.AP.set(k,{Xja:l,Fha:p})}}b2(k){return this.qE[k]}rw(k){this.zx=k}ol(k){this.Nx=
k;this.Oh=null}FA(k){this.eS(k.L,k.J,k.width(),k.height())}pr(){this.vi();this.Uh++}XV(){this.Uh++}zC(k){this.Pp=!!k}}}"use strict";
{const e=self.B;e.oa.NC=class{constructor(b,a,g,c,d){this.ta=b;this.uc=0;this.bb=null;this.Ut="";this.Bl=g;this.Wa=e.A(e.Za);this.Wa.set(c);this.Ye=d;"string"===typeof a?this.Ut=a:(this.bb=a,this.Ut=this.bb.V)}j(){if(0<this.uc)throw Error("releasing state group still in use");this.bb=this.ta=null;this.Ut=""}FR(){const b=this.ta;b.rl(this.bb);b.kf(this.Bl);b.ml(this.Wa);b.ol(this.Ye);b.u5(this)}OU(){return e.oa.NC.RJ(this.Ut,this.Bl,this.Wa,this.Ye)}yR(){++this.uc}KS(){--this.uc}Jj(){this.bb=null}dC(b){this.bb=
b.kJ(this.Ut);if(!this.bb)throw Error("failed to restore shader program");}static RJ(b,a,g,c){return("string"===typeof b?b:b.V)+","+a+","+g.Sa+","+g.Ua+","+g.Ta+","+g.Qa+","+c}}}"use strict";
{const e=self.B,b=e.A(e.ie),a=e.A(e.ie);function g(d,k,h){const l=h.wb,p=h.xb;return[l+(h.kc-l)*d+(h.cc-l)*k,p+(h.lc-p)*d+(h.dc-p)*k]}class c{constructor(d){this.wP=d;this.mg=this.kg=this.M=this.S=0}Bh(d,k,h,l){this.S=d;this.M=k;this.kg=h;this.mg=l}la(){return this.S}Tf(d){this.S!==d&&(this.S=d,this.wP.EN())}ma(){return this.M}zg(d){this.M!==d&&(this.M=d,this.wP.EN())}FC(d){this.kg=d}GC(d){this.mg=d}H2(d,k,h){[this.S,this.M]=g(d.S,d.M,k);this.kg=e.Be(h.L,h.T,d.kg);this.mg=e.Be(h.J,h.N,d.mg)}G2(d,
k,h){[this.S,this.M]=g(d.S,d.M,k);[this.kg,this.mg]=g(d.kg,d.mg,h)}ed(){return{x:this.la(),y:this.ma(),u:this.kg,v:this.mg}}Rc(d){this.Tf(d.x);this.zg(d.y);this.FC(d.u);this.GC(d.v)}}e.oa.UJ=class{constructor(d,k){if(2>d||2>k)throw Error("invalid mesh size");this.Xi=d;this.ij=k;this.Tl=[];this.yP=this.xP=0;this.uP=this.tP=1;this.dG=!1;const h=d-1,l=k-1;for(let p=0;p<k;++p){const n=[];for(let t=0;t<d;++t){const q=e.A(c,this),u=t/h,v=p/l;q.Bh(u,v,u,v);n.push(q)}this.Tl.push(n)}}j(){e.D(this.Tl)}EN(){this.dG=
!0}Yw(){if(this.dG){var d=Infinity,k=Infinity,h=-Infinity,l=-Infinity;for(const p of this.Tl)for(const n of p){const t=n.la(),q=n.ma();d=Math.min(d,t);k=Math.min(k,q);h=Math.max(h,t);l=Math.max(l,q)}this.xP=d;this.yP=k;this.tP=h;this.uP=l;this.dG=!1}}YU(){this.Yw();return this.xP}ZU(){this.Yw();return this.yP}WU(){this.Yw();return this.tP}XU(){this.Yw();return this.uP}Ko(d,k){d=Math.floor(d);k=Math.floor(k);return 0>d||d>=this.Xi||0>k||k>=this.ij?null:this.Tl[k][d]}hI(d,k,h){const l=h instanceof e.Rect;
if(d.Xi!==this.Xi||d.ij!==this.ij)throw Error("source mesh wrong size");d=d.Tl;const p=this.Tl;for(let n=0,t=p.length;n<t;++n){const q=d[n],u=p[n];for(let v=0,A=u.length;v<A;++v){const y=q[v],E=u[v];l?E.H2(y,k,h):E.G2(y,k,h)}}}df(d){const k=this.Tl;let h=k[0];for(let l=1,p=k.length;l<p;++l){const n=k[l];let t=h[0],q=n[0];for(let u=1,v=n.length;u<v;++u){const A=h[u],y=n[u];b.set(t.la(),t.ma(),A.la(),A.ma(),y.la(),y.ma(),q.la(),q.ma());a.set(t.kg,t.mg,A.kg,A.mg,y.kg,y.mg,q.kg,q.mg);d.tY(b,a);t=A;q=
y}h=n}}sW(d){d=d.Id;const k=[],h=this.Xi-1,l=this.ij-1,p=1/h,n=1/l,t=h-1,q=l-1;let u=d[0],v=d[1],A=e.ia(Math.floor(u*h),0,t),y=e.ia(Math.floor(v*l),0,q),E=0,x=0,F=0;var I=-1;const M=()=>{u=e.ia(e.Be(u,E,F),0,1);v=e.ia(e.Be(v,x,F),0,1);k.push(u,v)};for(let O=0,Q=d.length;O<Q;O+=2)for(u=d[O],v=d[O+1],k.push(u,v),A=e.ia(Math.floor(u*h),0,t),y=e.ia(Math.floor(v*l),0,q),I=(O+2)%Q,E=d[I],x=d[I+1],I=-1;;){if(1E6<k.length)throw Error("Too many mesh poly points");const T=A*p,aa=y*n,V=(A+1)*p,Z=(y+1)*n;if(0!==
I&&(F=e.Hu(u,v,E,x,T,aa,V,Z,-.001),0<=F&&.99999999>=F)){M();I=0;continue}if(0<y&&2!==I&&(F=e.Hu(u,v,E,x,T,aa,V,aa,.001),0<=F&&.99999999>=F)){M();y--;I=4;continue}if(A<t&&3!==I&&(F=e.Hu(u,v,E,x,V,aa,V,Z,.001),0<=F&&.99999999>=F)){M();A++;I=1;continue}if(0<A&&1!==I&&(F=e.Hu(u,v,E,x,T,aa,T,Z,.001),0<=F&&.99999999>=F)){M();A--;I=3;continue}if(y<q&&4!==I&&(F=e.Hu(u,v,E,x,T,Z,V,Z,.001),0<=F&&.99999999>=F)){M();y++;I=2;continue}break}return e.A(e.Co,k)}w_(d,k){d=this.e6(d);this.V5(d);k.kA(d)}e6(d){const k=
[];d=d.Id;for(let h=0,l=d.length;h<l;h+=2){const [p,n]=this.sL(d[h],d[h+1]);k.push(p,n)}return k}sL(d,k){var h=this.Xi-1,l=this.ij-1;const p=1/h,n=1/l;h=e.ia(Math.floor(d*h),0,h-1);const t=e.ia(Math.floor(k*l),0,l-1);l=h*p;const q=t*n,u=(h+1)*p,v=(t+1)*n,A=this.Ko(h,t),y=this.Ko(h+1,t+1),E=e.N8(d,k,l,q,u,q,u,v);h=this.Ko(h+(E?1:0),t+(E?0:1));const [x,F,I]=e.O9(d,k,l,q,E?l+p:l,E?q:q+n,u,v);return e.N9(x,F,I,A.la(),A.ma(),h.la(),h.ma(),y.la(),y.ma())}V5(d){const k=[];let h=d[0],l=d[1],p=h-d[d.length-
2],n=l-d[d.length-1];for(let q=0,u=d.length;q<u;q+=2){var t=(q+2)%u;const v=d[t];t=d[t+1];const A=v-h,y=t-l,E=1E-7>Math.abs(y)&&1E-7>Math.abs(n)&&Math.sign(A)===Math.sign(p);(!(1E-7>Math.abs(A)&&1E-7>Math.abs(p)&&Math.sign(y)===Math.sign(n)||E)&&1E-7<Math.abs(A/p-y/n)||0==A&&0===y)&&k.push(h,l);h=v;l=t;p=A;n=y}6<=k.length&&k.length<d.length&&e.Dc(d,k)}ed(){return{cols:this.Xi,rows:this.ij,points:this.Tl.map(d=>d.map(k=>k.ed()))}}Rc(d){const k=this.Xi,h=this.ij;if(d.cols!==k||d.rows!==h)throw Error("mesh data wrong size");
d=d.points;for(let l=0;l<h;++l){const p=d[l];for(let n=0;n<k;++n)this.Ko(n,l).Rc(p[n])}}}}"use strict";
{const e=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),g=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function d(p,n){let t,q;switch(p){case "rgba8":p=n.RGBA8;q=t=n.RGBA;n=n.UNSIGNED_BYTE;break;case "rgb8":p=n.RGB8;q=t=n.RGB;n=n.UNSIGNED_BYTE;break;case "rgba4":p=n.RGBA4;q=t=n.RGBA;n=n.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":p=n.RGB5_A1;q=t=n.RGBA;n=n.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":p=
n.RGB565;q=t=n.RGB;n=n.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{PH:p,Rq:t,format:q,type:n}}const k={rA:"clamp-to-edge",sA:"clamp-to-edge",oi:"trilinear",CH:"rgba8",dA:!0,Fu:"default",premultiplyAlpha:!0,IQ:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;e.oa.Iw=class{constructor(p){this.ta=p;this.jb=null;this.O=this.R=0;this.Ng=!0;this.Lq=this.Kq="clamp-to-edge";this.hd="trilinear";this.dg="rgba8";this.fk=!1;this.Wn="default";this.uc=0}M0(p,
n){if(!("undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&p instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&p instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&p instanceof OffscreenCanvas||p instanceof ImageData||p instanceof ArrayBuffer)&&null!==p)throw Error("invalid texture source");n=Object.assign({},k,n);if(this.jb)throw Error("already created texture");this.Kq=n.rA;this.Lq=n.sA;this.hd=n.oi;this.dg=n.CH;
this.fk=!!n.dA&&this.ta.Pp;this.Wn=n.Fu;if(!c.has(this.Kq)||!c.has(this.Lq))throw Error("invalid wrap mode");if(!a.has(this.hd))throw Error("invalid sampling");if(!b.has(this.dg))throw Error("invalid pixel format");if(!g.has(this.Wn))throw Error("invalid mipmap quality");this.Ng=!0;if(p instanceof ArrayBuffer||null===p||n.IQ){if(this.R=n.width,this.O=n.height,p instanceof ArrayBuffer&&p.byteLength!==this.R*this.O*4)throw Error("ArrayBuffer wrong size");}else this.R=p.width,this.O=p.height;if(0>=this.R||
0>=this.O)throw Error("invalid texture data size");if(n.IQ){var t=e.hh(this.R,this.O);t.getContext("2d").drawImage(p,0,0,this.R,this.O);p=t}var q=e.oj(this.R)&&e.oj(this.O);t=this.ta.$y;if(this.R>t||this.O>t)throw Error("texture data exceeds maximum texture size");t=this.ta.fa;var u=this.ta.wd;this.jb=t.createTexture();t.bindTexture(t.TEXTURE_2D,this.jb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha);n=d(this.dg,t);if(this.ta.bn()||q||!this.oD())2<=u?(t.texStorage2D(t.TEXTURE_2D,
this.fk?Math.floor(Math.log2(Math.max(this.R,this.O))+1):1,n.PH,this.R,this.O),p instanceof ArrayBuffer?t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.R,this.O,n.format,n.type,new Uint8Array(p)):null!==p&&t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.format,n.type,p)):p instanceof ArrayBuffer?t.texImage2D(t.TEXTURE_2D,0,n.Rq,this.R,this.O,0,n.format,n.type,new Uint8Array(p)):null===p?t.texImage2D(t.TEXTURE_2D,0,n.Rq,this.R,this.O,0,n.format,n.type,null):t.texImage2D(t.TEXTURE_2D,0,n.Rq,n.format,n.type,p);else{if(null===
p)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");p instanceof ArrayBuffer&&(p=new ImageData(new Uint8ClampedArray(p),this.R,this.O));p instanceof ImageData&&(q=e.hh(this.R,this.O),q.getContext("2d").putImageData(p,0,0),p=q);q=e.hh(e.yH(this.R),e.yH(this.O));u=q.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.hd;u.drawImage(p,0,0,this.R,this.O,0,0,q.width,q.height);t.texImage2D(t.TEXTURE_2D,0,n.Rq,n.format,n.type,q)}null!==p&&this.GN(t);t.bindTexture(t.TEXTURE_2D,
null);this.ta.CD();this.uc=1;l.add(this)}z0(p,n,t){t=Object.assign({},k,t);if(this.jb)throw Error("already created texture");this.Kq=t.rA;this.Lq=t.sA;this.hd=t.oi;this.dg=t.CH;this.fk=!!t.dA&&this.ta.Pp;this.Wn=t.Fu;if(!c.has(this.Kq)||!c.has(this.Lq))throw Error("invalid wrap mode");if(!a.has(this.hd))throw Error("invalid sampling");if(!b.has(this.dg))throw Error("invalid pixel format");if(!g.has(this.Wn))throw Error("invalid mipmap quality");this.Ng=!1;this.R=Math.floor(p);this.O=Math.floor(n);
p=e.oj(this.R)&&e.oj(this.O);n=this.ta.$y;if(0>=this.R||0>=this.O)throw Error("invalid texture size");if(this.R>n||this.O>n)throw Error("texture exceeds maximum texture size");if(!this.ta.bn()&&this.oD()&&!p)throw Error("non-power-of-two tiled textures not supported");p=this.ta.fa;n=this.ta.wd;this.jb=p.createTexture();p.bindTexture(p.TEXTURE_2D,this.jb);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);t=d(this.dg,p);p.texImage2D(p.TEXTURE_2D,0,2<=n?t.PH:t.Rq,this.R,this.O,0,t.format,
t.type,null);this.GN(p);p.bindTexture(p.TEXTURE_2D,null);this.ta.CD();this.uc=1;l.add(this)}mD(p){if("default"===this.Wn)return this.Ng?p.NICEST:p.FASTEST;if("low"===this.Wn)return p.FASTEST;if("high"===this.Wn)return p.NICEST;throw Error("invalid mipmap quality");}oD(){return"clamp-to-edge"!==this.Kq||"clamp-to-edge"!==this.Lq}xM(p,n){if("clamp-to-edge"===n)return p.CLAMP_TO_EDGE;if("repeat"===n)return p.REPEAT;if("mirror-repeat"===n)return p.MIRRORED_REPEAT;throw Error("invalid wrap mode");}GN(p){const n=
e.oj(this.R)&&e.oj(this.O);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.xM(p,this.Kq));p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.xM(p,this.Lq));"nearest"===this.hd?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),this.fk=!1):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),(n||this.ta.bn())&&this.fk?(p.hint(p.GENERATE_MIPMAP_HINT,this.mD(p)),p.generateMipmap(p.TEXTURE_2D),p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MIN_FILTER,"trilinear"!==this.hd||this.ta.HO?p.LINEAR_MIPMAP_NEAREST:p.LINEAR_MIPMAP_LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),this.fk=!1))}ON(p,n){if(!("undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&p instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&p instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&p instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&
p instanceof OffscreenCanvas||p instanceof ImageData))throw Error("invalid texture source");if(!this.jb||0>=this.uc)throw Error("texture not created");if(this.Ng)throw Error("cannot update static texture");n=Object.assign({},h,n);const t=p.width||p.videoWidth,q=p.height||p.videoHeight;var u=this.ta.wd;const v=this.ta.fa;v.bindTexture(v.TEXTURE_2D,this.jb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!n.flipY);n=d(this.dg,v);u=2<=u?n.PH:n.Rq;
try{if(this.R===t&&this.O===q){const A=e.oj(this.R)&&e.oj(this.O);v.texSubImage2D(v.TEXTURE_2D,0,0,0,n.format,n.type,p);(A||this.ta.bn())&&this.fk&&(v.hint(v.GENERATE_MIPMAP_HINT,this.mD(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.R=t;this.O=q;const A=e.oj(this.R)&&e.oj(this.O);if(!this.ta.bn()&&this.oD()&&!A)throw Error("non-power-of-two tiled textures not supported");v.texImage2D(v.TEXTURE_2D,0,u,n.format,n.type,p);(A||this.ta.bn())&&this.fk&&(v.hint(v.GENERATE_MIPMAP_HINT,this.mD(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(A){console.error("Error updating WebGL texture: ",
A)}v.bindTexture(v.TEXTURE_2D,null);this.ta.CD()}XL(){if(0<this.uc)throw Error("texture still has references");if(!this.jb)throw Error("already deleted texture");l.delete(this);this.ta.fa.deleteTexture(this.jb);this.jb=null}Ir(){return this.ta}o_(){if(0>=this.uc)throw Error("no more references");this.uc--}ea(){return this.R}da(){return this.O}dB(){let p=this.R*this.O;switch(this.dg){case "rgba8":p*=4;break;case "rgb8":p*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":p*=2}this.fk&&(p+=Math.floor(p/
3));return p}static Jj(){l.clear()}static U7(){return l.values()}}}"use strict";
{const e=self.B,b=new Set(["nearest","bilinear","trilinear"]),a={oi:"trilinear",alpha:!0,JH:!0,GQ:!0,d9:0},g=new Set;e.oa.SC=class{constructor(c){this.ta=c;this.sk=this.jb=this.Th=null;this.O=this.R=0;this.xy=!0;this.hd="trilinear";this.Pt=this.xp=!0;this.lk=0}y0(c,d,k){k=Object.assign({},a,k);const h=this.ta.wd;if(this.jb||this.sk)throw Error("already created render target");this.hd=k.oi;this.xp=!!k.alpha;this.Pt=!!k.JH;this.xy=!!k.GQ;this.lk=k.d9;if(!b.has(this.hd))throw Error("invalid sampling");
if(0<this.lk&&(2>h||this.Pt))throw Error("invalid use of multisampling");2>h&&(this.Pt=!0);this.R=c;this.O=d;if(0>=this.R||0>=this.O)throw Error("invalid render target size");c=this.ta.fa;this.Th=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,this.Th);this.Pt?(this.jb=this.ta.tI(this.R,this.O,{oi:this.hd,CH:this.xp?"rgba8":"rgb8",dA:!1}),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.jb.jb,0)):(this.sk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.sk),
d=this.xp?c.RGBA8:c.RGB8,0<this.lk&&((k=c.getInternalformatParameter(c.RENDERBUFFER,d,c.SAMPLES))&&k[0]?(k=k[0],this.lk>k&&(this.lk=k)):this.lk=0),0===this.lk?c.renderbufferStorage(c.RENDERBUFFER,d,this.R,this.O):c.renderbufferStorageMultisample(c.RENDERBUFFER,this.lk,d,this.R,this.O),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.sk),c.bindRenderbuffer(c.RENDERBUFFER,null));c.bindFramebuffer(c.FRAMEBUFFER,null);g.add(this)}mN(c,d){if(this.R!==c||this.O!==d)this.R=
c,this.O=d,c=this.ta.fa,c.bindFramebuffer(c.FRAMEBUFFER,this.Th),this.jb?this.jb.ON(new ImageData(this.R,this.O)):(c.bindRenderbuffer(c.RENDERBUFFER,this.sk),c.renderbufferStorage(c.RENDERBUFFER,this.xp?c.RGBA8:c.RGB8,this.R,this.O),c.bindRenderbuffer(c.RENDERBUFFER,null)),c.bindFramebuffer(c.FRAMEBUFFER,null)}XL(){if(!this.jb&&!this.sk)throw Error("already deleted render target");g.delete(this);const c=this.ta.fa;c.bindFramebuffer(c.FRAMEBUFFER,this.Th);this.jb?(c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.ta.ti(this.jb),this.jb=null):this.sk&&(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),c.deleteRenderbuffer(this.sk),this.sk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ta.wd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Th);this.Th=this.ta.ac.mm=null}Cd(){return this.ta}Ie(){return this.jb}SB(){return"nearest"!==this.hd}ea(){return this.R}da(){return this.O}DW(c){c=
Object.assign({},a,c);return"nearest"!==c.oi!==this.SB()||!!c.alpha!==this.xp||2<=this.ta.wd&&!!c.JH!==this.Pt?!1:"number"===typeof c.width||"number"===typeof c.height?!this.xy&&this.ea()===c.width&&this.da()===c.height:this.xy}dB(){return this.jb?this.jb.dB():this.R*this.O*(this.xp?4:3)}static async DS(c,d){c=await c.xY(d);return await e.UV(c)}static Jj(){g.clear()}}}"use strict";
{const e=self.B,b=self.Pq,a=b.pA,g=b.cA;e.oa.rs=class{static async nS(c,d,k,h){const l=c.fa,p=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(p,d);l.compileShader(p);d=l.createShader(l.VERTEX_SHADER);l.shaderSource(d,k);l.compileShader(d);const n=l.createProgram();l.attachShader(n,p);l.attachShader(n,d);l.bindAttribLocation(n,0,"aPos");l.bindAttribLocation(n,1,"aTex");l.bindAttribLocation(n,2,"aPoints");l.linkProgram(n);const t=c.bG;t?await c.q6(()=>l.getProgramParameter(n,t.COMPLETION_STATUS_KHR)):
await e.RC(5);if(!l.getShaderParameter(p,l.COMPILE_STATUS))throw h=l.getShaderInfoLog(p),l.deleteShader(p),l.deleteShader(d),l.deleteProgram(n),Error("Error compiling fragment shader: "+h);if(!l.getShaderParameter(d,l.COMPILE_STATUS))throw h=l.getShaderInfoLog(d),l.deleteShader(p),l.deleteShader(d),l.deleteProgram(n),Error("Error compiling vertex shader: "+h);if(!l.getProgramParameter(n,l.LINK_STATUS))throw h=l.getProgramInfoLog(n),l.deleteShader(p),l.deleteShader(d),l.deleteProgram(n),Error("Error linking shader program: "+
h);(c=e.VT(l.getProgramInfoLog(n)||"").trim())&&!e.YB(c)&&console.info(`[WebGL] Shader program '${h}' compilation log: `,c);l.deleteShader(p);l.deleteShader(d);return n}static async Na(c,d,k,h){k=await e.oa.rs.nS(c,d.src,k,h);return new e.oa.rs(c,k,d,h)}constructor(c,d,k,h){const l=c.fa;var p=c.ac;c.vi();l.useProgram(d);this.fa=l;this.ta=c;this.V=h;this.bb=d;this.yy="<default-device-transform>"===h;h=l.getAttribLocation(d,"aPos");const n=l.getAttribLocation(d,"aTex");d=l.getAttribLocation(d,"aPoints");
-1!==h&&(l.bindBuffer(l.ARRAY_BUFFER,c.Lz),l.vertexAttribPointer(h,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(h));-1!==n&&(l.bindBuffer(l.ARRAY_BUFFER,c.Bz),l.vertexAttribPointer(n,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(n));-1!==d&&(l.bindBuffer(l.ARRAY_BUFFER,c.jz),l.vertexAttribPointer(d,4,l.FLOAT,!1,0,0),l.enableVertexAttribArray(d));l.bindBuffer(l.ARRAY_BUFFER,null);this.JG=new e.oa.$b(this,"matP","mat4");this.IG=new e.oa.$b(this,"matMV","mat4");this.mo=new e.oa.$b(this,"color","vec4");
this.N7=new e.oa.$b(this,"samplerFront","sampler");this.MG=new e.oa.$b(this,"pointTexStart","vec2");this.LG=new e.oa.$b(this,"pointTexEnd","vec2");this.PG=new e.oa.$b(this,"zElevation","float");this.NG=new e.oa.$b(this,"tileSize","vec2");this.OG=new e.oa.$b(this,"tileSpacing","vec2");this.HG=new e.oa.$b(this,"color2_","vec4");this.KG=new e.oa.$b(this,"outlineThickness","float");this.Hq=new e.oa.$b(this,"samplerBack","sampler");this.Bk=new e.oa.$b(this,"destStart","vec2");this.Ak=new e.oa.$b(this,
"destEnd","vec2");this.ki=new e.oa.$b(this,"srcStart","vec2");this.Ck=new e.oa.$b(this,"srcEnd","vec2");this.Ek=new e.oa.$b(this,"srcOriginStart","vec2");this.Dk=new e.oa.$b(this,"srcOriginEnd","vec2");this.lg=new e.oa.$b(this,"pixelSize","vec2");this.fm=new e.oa.$b(this,"seconds","float");this.cm=new e.oa.$b(this,"layerScale","float");this.am=new e.oa.$b(this,"layerAngle","float");this.em=new e.oa.$b(this,"layoutStart","vec2");this.dm=new e.oa.$b(this,"layoutEnd","vec2");this.EO=!!(this.lg.U||this.fm.U||
this.Hq.U||this.Bk.U||this.Ak.U||this.ki.U||this.Ck.U||this.Ek.U||this.Dk.U||this.cm.U||this.am.U||this.em.U||this.dm.U);this.pO=k.Kha||0;this.qO=k.Lha||0;this.BE=!!k.zha;this.r7=!!k.Yia;this.pq=!!k.lja;this.tx=!!k.mha;c=k.parameters||[];this.no=[];this.mu=this.Bk.U||this.Ak.U;this.P7=this.lg.U||this.ki.U||this.Ck.U||this.Ek.U||this.Dk.U;this.t7=this.BE||this.mu||0!==this.pO||0!==this.qO;this.ZE=this.$E=!1;this.mo.vJ();this.HG.vJ();this.N7.uJ(0);this.Hq.uJ(1);this.MG.Lf(0,0);this.LG.Lf(1,1);this.PG.Qo(0);
this.NG.Lf(0,0);this.OG.Lf(0,0);this.Bk.Lf(0,0);this.Ak.Lf(1,1);this.ki.Lf(0,0);this.Ck.Lf(0,0);this.Ek.Lf(0,0);this.Dk.Lf(0,0);this.lg.Lf(0,0);this.cm.Qo(1);this.am.Qo(0);this.fm.Qo(0);this.em.Lf(0,0);this.dm.Lf(0,0);this.KG.Qo(1);for(const t of c)c=t[2],k=new e.oa.$b(this,t[0],c),"color"===c?k.YV():k.Qo(0),this.no.push(k);this.yy?this.TN(p.tu):(this.Dw(p.tu,!0),this.Cw(p.Vz,!0));p=p.$g;l.useProgram(p?p.bb:null)}j(){this.fa.deleteProgram(this.bb);this.bb=null;this.ta.C4(this);this.ta=this.fa=null}hl(){return this.r7}Fv(c){return this.no[c].Ba}GR(c){for(let d=
0,k=c.length;d<k;++d)if(!this.no[d].QW(c[d]))return!1;return!0}lZ(c){for(let d=0,k=c.length;d<k;++d)this.no[d].gZ(c[d])}HR(c,d,k,h,l,p,n,t,q){return this.Hq.U||this.lg.U&&!this.lg.Gj(l,p)||this.Bk.U&&!this.Bk.Gj(c.L,c.J)||this.Ak.U&&!this.Ak.Gj(c.T,c.N)||this.cm.U&&!this.cm.XB(n)||this.am.U&&!this.am.XB(t)||this.ki.U&&!this.ki.Gj(d.L,d.J)||this.Ck.U&&!this.Ck.Gj(d.T,d.N)||this.Ek.U&&!this.Ek.Gj(k.L,k.J)||this.Dk.U&&!this.Dk.Gj(k.T,k.N)||this.em.U&&!this.em.Gj(h.L,h.J)||this.dm.U&&!this.dm.Gj(h.J,
h.N)||this.fm.U&&!this.fm.XB(q)?!1:!0}EZ(c,d,k,h,l,p,n,t,q){this.Hq.U||(this.lg.U&&this.lg.Kj(l,p),this.Bk.U&&this.Bk.Kj(c.L,c.J),this.Ak.U&&this.Ak.Kj(c.T,c.N),this.cm.U&&this.cm.qC(n),this.am.U&&this.am.qC(t),this.ki.U&&this.ki.Kj(d.L,d.J),this.Ck.U&&this.Ck.Kj(d.T,d.N),this.Ek.U&&this.Ek.Kj(k.L,k.J),this.Dk.U&&this.Dk.Kj(k.T,k.N),this.em.U&&this.em.Kj(h.L,h.J),this.dm.U&&this.dm.Kj(h.J,h.N),this.fm.U&&this.fm.qC(q))}Dw(c,d){this.$E&&!d||this.yy||(this.JG.U&&this.JG.Ew(c),this.$E=!0)}DZ(){this.$E=
!1}Cw(c,d){this.ZE&&!d||this.yy||(this.IG.U&&this.IG.Ew(c),this.ZE=!0)}CZ(){this.ZE=!1}TN(c){if(!this.yy)throw Error("not device transform shader");this.JG.Ew(c);c=this.ta;var d=c.ea()/2,k=c.da()/2;const h=c.im,l=a.yd(d*h[0],k*h[1],100*self.devicePixelRatio);d=a.yd(d*h[0],k*h[1],0);k=g.create();g.rH(k,l,d,c.QG);g.scale(k,k,h);this.IG.Ew(k)}C_(c){this.mo.U&&this.mo.Bw(c[0],c[1],c[2],c[3])}static bB(c){c=c?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${c} vec2 aTex;`,`varying ${c} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}"use strict";
{const e=self.B,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.oa.$b=class{constructor(a,g,c){if(!b.has(c))throw Error("invalid uniform type");this.Nb=a;this.fa=this.Nb.fa;this.V=g;this.Ba=c;this.oF="color"===this.Ba;this.Qg=this.fa.getUniformLocation(this.Nb.bb,g);this.U=!!this.Qg;a=b.get(c);this.Gb=new Float32Array(a);this.bi=new Float32Array(a)}j(){this.Qg=this.fa=this.Nb=null}Qo(a){this.U&&(this.Gb[0]=a,this.bi.set(this.Gb),this.fa.uniform1f(this.Qg,
a))}uJ(a){this.U&&(this.Gb[0]=a,this.bi.set(this.Gb),this.fa.uniform1i(this.Qg,a))}Lf(a,g){this.U&&(this.Gb[0]=a,this.Gb[1]=g,this.bi.set(this.Gb),this.fa.uniform2f(this.Qg,a,g))}YV(){this.U&&(this.Gb[0]=0,this.Gb[1]=0,this.Gb[2]=0,this.bi.set(this.Gb),this.fa.uniform3f(this.Qg,0,0,0))}vJ(){this.U&&(this.Gb[0]=1,this.Gb[1]=1,this.Gb[2]=1,this.Gb[3]=1,this.bi.set(this.Gb),this.fa.uniform4f(this.Qg,1,1,1,1))}pp(a){a=Math.fround(a);const g=this.Gb;g[0]!==a&&(g[0]=a,this.fa.uniform1f(this.Qg,a))}ke(a,
g){a=Math.fround(a);g=Math.fround(g);const c=this.Gb;if(c[0]!==a||c[1]!==g)c[0]=a,c[1]=g,this.fa.uniform2f(this.Qg,a,g)}A_(a,g,c){a=Math.fround(a);g=Math.fround(g);c=Math.fround(c);const d=this.Gb;if(d[0]!==a||d[1]!==g||d[2]!==c)d[0]=a,d[1]=g,d[2]=c,this.fa.uniform3f(this.Qg,a,g,c)}Bw(a,g,c,d){a=Math.fround(a);g=Math.fround(g);c=Math.fround(c);d=Math.fround(d);const k=this.Gb;if(k[0]!==a||k[1]!==g||k[2]!==c||k[3]!==d)k[0]=a,k[1]=g,k[2]=c,k[3]=d,this.fa.uniform4f(this.Qg,a,g,c,d)}Ew(a){const g=this.Gb;
Vb(g,a)||(e.P9(g,a),this.fa.uniformMatrix4fv(this.Qg,!1,a))}QW(a){const g=this.bi;return this.oF?g[0]===Math.fround(a.Sa)&&g[1]===Math.fround(a.Ua)&&g[2]===Math.fround(a.Ta):g[0]===Math.fround(a)}gZ(a){const g=this.bi;this.oF?(g[0]=a.Sa,g[1]=a.Ua,g[2]=a.Ta):g[0]=a}XB(a){return this.bi[0]===Math.fround(a)}Gj(a,g){const c=this.bi;return c[0]===Math.fround(a)&&c[1]===Math.fround(g)}qC(a){this.bi[0]=a}Kj(a,g){const c=this.bi;c[0]=a;c[1]=g}}}"use strict";
{const e=self.B,b=self.Pq,a=b.hR,g=b.cA;e.oa.MR=class{constructor(c){this.Ce=c;this.Vz=g.create();this.tu=g.create();this.mm=null;this.Uz=a.yd(1,1,1,1);this.$g=null;this.DH=new e.Rect;this.clearColor=e.A(e.Za,0,0,0,0)}};e.oa.L_=class{constructor(c){const d=new ArrayBuffer(96);this.Ba=0;this.ac=c;this.fa=c.Ce.fa;this.In=this.hg=0;this.te=null;this.Wd=new Float32Array(d,0,16);this.Us=new Float32Array(d,64,4);this.aQ=new Float32Array(d,80,4);this.rz=[]}iW(c){this.Ba=1;this.hg=c;this.In=6}VS(){const c=
this.fa;c.drawElements(c.TRIANGLES,this.In,c.UNSIGNED_SHORT,this.hg)}nW(c){this.Ba=2;this.te=c}dT(){const c=this.fa,d=this.te;c.bindTexture(c.TEXTURE_2D,d?d.jb:null)}JB(c){this.Ba=3;c.dh(this.Us,0)}XS(){const c=this.Us,d=this.ac;a.wa(d.Uz,c);d.$g.C_(c)}ZS(){const c=this.Us,d=this.ac.$g;d.HG.U&&d.HG.Bw(c[0],c[1],c[2],c[3])}jW(c,d){this.Ba=4;this.hg=c;this.In=d}WS(){this.fa.blendFunc(this.hg,this.In)}rW(c){this.Ba=5;g.wa(this.Wd,c)}gT(){const c=this.ac,d=c.Ce.pn,k=c.$g,h=this.Wd;for(let l=0,p=d.length;l<
p;++l){const n=d[l];n===k?n.Cw(h,!0):n.CZ()}g.wa(c.Vz,h)}mW(c,d,k){this.Ba=6;this.te=c;this.hg=d?1:0;d&&g.wa(this.Wd,k)}cT(){var c=this.fa,d=this.te;const k=0!==this.hg,h=this.Wd,l=this.ac,p=l.Ce;if(d){const n=d.Th;l.mm=n;c.bindFramebuffer(c.FRAMEBUFFER,n);c=d.ea();d=d.da()}else l.mm=null,c.bindFramebuffer(c.FRAMEBUFFER,null),c=p.wB(),d=p.vB();k&&p.VN(c,d,h)}bW(c){this.Ba=7;c.dh(this.Wd,0)}cW(){this.Ba=7;const c=this.Wd;c[0]=0;c[1]=0;c[2]=0;c[3]=0}RS(){const c=this.fa;var d=this.Wd,k=this.ac;const h=
k.clearColor;(k=k.Ce.Xp&&e.Sq)&&c.disable(c.SCISSOR_TEST);const l=d[0],p=d[1],n=d[2];d=d[3];h.wu(l,p,n,d)||(c.clearColor(l,p,n,d),h.uo(l,p,n,d));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}aW(c,d,k,h){this.Ba=8;const l=this.Wd;l[0]=c;l[1]=d;l[2]=k;l[3]=h;l[4]=0;l[5]=0;l[6]=0;l[7]=0}QS(){const c=this.fa;var d=this.Wd,k=this.ac;const h=k.Ce;k=k.clearColor;h.Xp||c.enable(c.SCISSOR_TEST);c.scissor(d[0],d[1],d[2],d[3]);const l=d[4],p=d[5],n=d[6];d=d[7];k.wu(l,p,n,d)||(c.clearColor(l,p,n,d),
k.uo(l,p,n,d));c.clear(c.COLOR_BUFFER_BIT);h.Xp?c.scissor(0,0,h.pu,h.ou):c.disable(c.SCISSOR_TEST)}$S(){const c=this.Wd;this.ac.DH.set(c[0],c[1],c[2],c[3])}US(){const c=this.fa,d=this.ac,k=d.Ce.vG;c.useProgram(k.bb);k.Dw(d.tu,!1);k.Cw(d.Vz,!1);var h=d.DH;k.MG.U&&k.MG.ke(h.L,h.J);k.LG.U&&k.LG.ke(h.T,h.N);h=this.Wd[0];k.PG.U&&k.PG.pp(h);k.mo.U&&(h=d.Uz,k.mo.Bw(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.hg/4,this.In);c.useProgram(d.$g.bb)}kW(c){this.Ba=10;this.te=c}aT(){var c=this.fa;const d=this.ac,
k=this.te;d.$g=k;c.useProgram(k.bb);k.Dw(d.tu,!1);k.Cw(d.Vz,!1);k.mo.U&&(c=d.Uz,k.mo.Bw(c[0],c[1],c[2],c[3]))}lW(){this.Ba=11}bT(){const c=this.ac.$g;c.EO&&this.r1(c);c.no.length&&this.s1(c)}r1(c){const d=this.fa,k=this.Wd,h=this.Us,l=this.aQ;if(c.Hq.U){const p=this.ac.Ce,n=this.te;p.$p!==n&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,n?n.jb:null),p.$p=n,d.activeTexture(d.TEXTURE0))}c.lg.U&&c.lg.ke(k[0],k[1]);c.Bk.U&&c.Bk.ke(k[2],k[3]);c.Ak.U&&c.Ak.ke(k[4],k[5]);c.cm.U&&c.cm.pp(k[6]);
c.am.U&&c.am.pp(k[7]);c.ki.U&&c.ki.ke(k[12],k[13]);c.Ck.U&&c.Ck.ke(k[14],k[15]);c.Ek.U&&c.Ek.ke(l[0],l[1]);c.Dk.U&&c.Dk.ke(l[2],l[3]);c.em.U&&c.em.ke(h[0],h[1]);c.dm.U&&c.dm.ke(h[2],h[3]);c.fm.U&&c.fm.pp(this.hg)}s1(c){c=c.no;const d=this.rz;for(let k=0,h=c.length;k<h;++k){const l=c[k],p=d[k];l.oF?l.A_(p.Sa,p.Ua,p.Ta):l.pp(p)}}eW(c){this.Ba=12;this.te=c}TS(){const c=this.fa,d=this.te,k=this.ac.mm;d!==k&&c.bindFramebuffer(c.FRAMEBUFFER,d);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);
d!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}ZV(c,d){this.Ba=15;var k=this.Wd;const h=this.ac.Ce;k[0]=c.ea();k[1]=c.da();k[2]=d?d.ea():h.ea();k[3]=d?d.da():h.da();k[4]=c.SB()?1:0;k[5]=!0;k=this.rz;e.D(k);k.push(c.Th);k.push(d?d.Th:null)}PS(){var c=this.Wd,d=this.rz;const k=this.fa;var h=c[0],l=c[1],p=c[2];const n=c[3],t=0!==c[4];c=0!==c[5];const q=d[1];k.bindFramebuffer(k.READ_FRAMEBUFFER,d[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,q);c?k.blitFramebuffer(0,0,h,l,0,0,p,n,k.COLOR_BUFFER_BIT,t?k.LINEAR:
k.NEAREST):(d=Math.min(h,p),h=Math.min(l,n),p=Math.max(l-n,0),l=Math.max(n-l,0),k.blitFramebuffer(0,p,d,h+p,0,l,d,h+l,k.COLOR_BUFFER_BIT,k.NEAREST))}pW(c){this.Ba=16;this.te=c}fT(){this.te.yA();this.te=null}dW(c){this.Ba=17;this.te=c}SS(){this.te.QA();this.te=null}YS(){const c=this.ac.$g,d=this.Wd;c.lg.U&&c.lg.ke(d[0],d[1]);c.KG.U&&c.KG.pp(d[2])}eT(){const c=this.ac.$g,d=this.Wd;c.ki.U&&c.ki.ke(d[0],d[1]);c.lg.U&&c.lg.ke(d[4],d[5]);c.NG.U&&c.NG.ke(d[6],d[7]);c.OG.U&&c.OG.ke(d[8],d[9])}na(){switch(this.Ba){case 1:this.VS();
break;case 2:this.dT();break;case 3:this.XS();break;case 4:this.WS();break;case 5:this.gT();break;case 6:this.cT();break;case 7:this.RS();break;case 8:this.QS();break;case 9:this.US();break;case 10:this.aT();break;case 11:this.bT();break;case 12:this.TS();break;case 13:this.$S();break;case 14:this.eT();break;case 15:this.PS();break;case 16:this.fT();break;case 17:this.SS();break;case 18:this.YS();break;case 19:this.ZS()}}}}"use strict";
{const e=self.B,b={timeout:60},a=new e.Za(0,0,0,1),g=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),d=new Set(["word","character"]),k=new Set;e.XT&&e.XT.addEventListener("fontload",n=>{n=n.font.V;for(const t of k)(t.Yh||e.pm(t.$x,n))&&t.Uj()});function h(n,t,q,u,v,A){t?"Gecko"===e.Sc.Su?n.strokeText(q,u,v,A):n.strokeText(q,u,v):"Gecko"===e.Sc.Su?n.fillText(q,u,v,A):n.fillText(q,u,v)}let l=!1,p=!1;e.oa.iC=class{constructor(n,t){t=Object.assign({},b,t);this.ta=n;this.$x="Arial";
this.ay=16;this.Vn=0;this.Te=this.Se=!1;this.zE="black";this.Yh=!1;this.AH=null;this.gE=new Set;this.Qe="left";this.ye="top";this.Kc="";this.Qs=null;this.jm=e.A(e.TC);this.XG="word";this.yF=this.Cz=!1;this.lt=!0;this.zn=-1;this.O=this.R=this.CE=this.Hp=this.Op=0;this.Zg=1;this.xE=!1;this.kk=this.Kd=this.ho=null;this.iP=this.jP=-1;this.Qy=this.lP=this.DF="";this.EF=this.FF=1;this.vP=(q,u)=>this.VM(q,u);this.jb=null;this.cu=this.eu=0;this.Zd=new e.Rect;this.Tt=1;this.TF=!1;this.DG=new e.TV(()=>{this.uh();
this.FN(8,8)},t.timeout);this.eA=null;this.qu=!1;k.add(this)}j(){this.AH=null;this.gE.clear();this.vP=this.kk=this.Kd=this.ho=this.Qs=null;this.DG.j();this.eA=null;this.uh();this.jm.Zc();this.ta=this.jm=null;this.qu=!0;k.delete(this)}kn(){this.xE=!0}Uj(){this.kn();this.jm.Zc();this.Cz=!0}WK(){this.lt=!1}Mf(){return this.lt}fZ(n){n=!!n;this.Yh!==n&&(n=(this.Yh=n)?"alphabetic":"top",this.Kd&&(this.Kd.textBaseline=n),this.kk&&(this.kk.textBaseline=n),this.Uj())}uC(n){n||(n="serif");this.$x!==n&&(this.$x=
n,this.Uj())}vC(n){.1>n&&(n=.1);this.ay!==n&&(this.ay=n,this.Uj())}$K(n){this.Vn!==n&&(this.Vn=n,this.kn())}JK(n){n=!!n;this.Se!==n&&(this.Se=n,this.Uj())}YK(n){n=!!n;this.Te!==n&&(this.Te=n,this.Uj())}sC(n){n=Math.floor(n);this.zn!==n&&(this.zn=n,this.kn())}Pi(n,t){for(let q=n.length-1;0<=q;--q){const u=n[q];if(u.tag===t)return u}return null}sp(n,t){return!!this.Pi(n,t)}qM(n,t){let q="";if(this.Se||this.sp(t,"b"))q+="bold";if(this.Te||this.sp(t,"i"))q+=" italic";var u=this.Pi(t,"size");u=u?parseFloat(u.param):
this.ay;q=n?q+(" "+u+"pt"):q+(" "+u*this.Tt*this.Zg*self.devicePixelRatio+"pt");n=this.$x;(t=this.Pi(t,"font"))&&t.param&&(n=t.param,this.AH&&!this.gE.has(n)&&(this.AH(n),this.gE.add(n)));n&&(q+=' "'+n+'"');return q}ml(n){n instanceof e.Za&&(n=n.z8());this.zE!==n&&(this.zE=n,this.kn())}LK(n,t,q){a.Lu(n,t,q);this.ml(a)}SK(n){if(!g.has(n))throw Error("invalid horizontal alignment");this.Qe!==n&&(this.Qe=n,this.kn())}iL(n){if(!c.has(n))throw Error("invalid vertical alignment");this.ye!==n&&(this.ye=
n,this.kn())}$Z(n){if(!d.has(n))throw Error("invalid word wrap mode");this.XG!==n&&(this.XG=n,this.Uj())}ms(n){this.Kc!==n&&(this.Kc=n,this.Uj())}Uc(n,t,q){"undefined"===typeof q&&(q=1);if(!(0>=n||0>=n||this.Hp===n&&this.CE===t&&this.Zg===q)){1===this.Zg!==(1===q)&&(this.TF=!0);var u=this.Hp,v=this.Zg;this.Hp=n;this.CE=t;this.Zg=q;n=self.devicePixelRatio;this.R=this.Hp*this.Zg*n;this.O=this.CE*this.Zg*n;n=Math.max(this.R,this.O);t=Math.min(this.ta.$y,2048);q=1;n>t&&(q=t/n,this.R=Math.min(this.R*q,
t),this.O=Math.min(this.O*q,t));this.Tt=q;0<this.eu&&0<this.cu&&this.Zg===v&&this.Zd.set(0,0,this.R/this.eu,this.O/this.cu);this.Hp!==u?this.Uj():this.kn()}}ea(){return this.R}da(){return this.O}jV(){this.vD();return this.jm.VU()}iV(){this.vD();return this.jm.lV()+this.jm.Ol.length*(this.Vn+4)-this.Vn}Ie(){this.DG.dd();this.v3();return this.jb}v3(){this.jb&&!this.xE&&!this.Cz||this.yF||0>=this.R||0>=this.O||(this.xE=!1,this.yF=!0,this.lt?e.pj(()=>this.cM()):this.cM())}cM(){this.qu||(this.FN(Math.ceil(this.R),
Math.ceil(this.O)),this.vD(),this.F1(),this.o6(),this.DG.dd(),this.yF=!1)}FN(n,t){this.ho||(this.ho=e.hh(16,16));let q=!1;if(this.jP!==n||this.iP!==t)this.jP=n,this.iP=t,this.ho.width=n,this.ho.height=t,q=!0;this.Kd||(this.Kd=this.ho.getContext("2d"),q=!0);q?(this.Kd.textBaseline=this.Yh?"alphabetic":"top",this.Kd.font=this.DF,this.Kd.fillStyle=this.Qy,this.Kd.strokeStyle=this.Qy,this.Kd.globalAlpha=this.FF,this.Kd.lineWidth=this.EF):this.Kd.clearRect(0,0,n,t)}OM(){this.kk||(this.kk=e.hh(16,16).getContext("2d"),
this.kk.textBaseline=this.Yh?"alphabetic":"top")}L5(n){this.lP!==n&&(this.lP=n,this.kk.font=n)}a6(){if(!l){l=!0;this.OM();const n=this.kk.measureText("test");p="number"===typeof n.fontBoundingBoxAscent&&"number"===typeof n.fontBoundingBoxDescent}return p}vD(){this.Cz&&(this.OM(),!this.Yh||this.Qs&&this.Qs.toString()===this.Kc||(this.Qs=new e.Sk(this.Kc,{f9:!0})),this.jm.TC(this.Yh?this.Qs.I9():this.Kc,this.vP,this.Hp,this.XG,0),this.Cz=!1)}VM(n,t){this.L5(this.qM(!0,t));t=this.Pi(t,"size");n=this.kk.measureText(n);
return{width:n.width,height:4/3*(t?parseFloat(t.param):this.ay),Af:n.fontBoundingBoxAscent||0,Ae:n.fontBoundingBoxDescent||0}}x5(n){this.DF!==n&&(this.DF=n,this.Kd.font=n)}JD(n){this.Qy!==n&&(this.Qy=n,this.Kd.fillStyle=n,this.Kd.strokeStyle=n)}w5(n){this.FF!==n&&(this.FF=n,this.Kd.globalAlpha=n)}zN(n){this.EF!==n&&(this.EF=n,this.Kd.lineWidth=n)}F1(){this.Op=0;const n=this.Tt*this.Zg*self.devicePixelRatio,t=(4+this.Vn)*n;let q=0;const u=this.jm.Ol;if(0!==u.length){var v=u.reduce((y,E)=>y+E.height*
n+t,0)-this.Vn*n,A=this.Yh&&this.a6();"center"===this.ye?q=Math.max(this.O/2-v/2-(A?u[0].Ae*n:0),0):"bottom"===this.ye&&(q=this.O-v-(A?u[u.length-1].Ae*n:0)-2);for(let y=0,E=u.length;y<E;++y){v=u[y];A=v.height*n;const x=q;if(this.Yh){if(q+=A,0<y&&q>this.O-4*n)break}else if(0<y&&q>=this.O-A)break;0<=x&&this.E1(v,q,n);this.Yh||(q+=A);q+=t}}}E1(n,t,q){let u=0;"center"===this.Qe?u=(this.R-n.width*q)/2:"right"===this.Qe&&(u=this.R-n.width*q);for(const v of n.BQ)this.D1(v,u,t,q,n.height),u+=v.width*q}D1(n,
t,q,u,v){const A=this.Kd;var y=v/16;v=n.width*u;var E=n.height*u;const x=n.height/16;var F=(4+this.Vn)*u;const I=n.Oc;n=n.text;if(-1!==this.zn){if(this.Op>=this.zn)return;this.Op+n.length>this.zn&&(n=n.substr(0,this.zn-this.Op),v=this.VM(n,I).width*u);this.Op+=n.length}var M=this.Pi(I,"background"),O=this.sp(I,"u"),Q=this.sp(I,"s");if((!e.YB(n)||M||O||Q)&&!this.sp(I,"hide")){var T=this.Pi(I,"offsetx");t+=T?parseFloat(T.param)*u:0;T=this.Pi(I,"offsety");q+=T?parseFloat(T.param)*u:0;M&&(this.JD(M.param),
A.fillRect(t,q-E,v,E+F));F=this.Pi(I,"color");this.JD(F?F.param:this.zE);F=this.Pi(I,"opacity");this.w5(F?parseFloat(F.param)/100:1);(F=this.sp(I,"stroke"))&&this.zN(x*this.Tt*this.Zg);O&&(O=t,M=q+u*y,T=v,y*=u,F?A.strokeRect(O,M,T,y):A.fillRect(O,M,T,y));Q&&(y=t,E=q-E/4,Q=v,u*=x,F?A.strokeRect(y,E,Q,u):A.fillRect(y,E,Q,u));this.x5(this.qM(!1,I));h(A,F,n,t,q,v);!F&&(this.zN(x*this.Tt*this.Zg),u=this.Pi(I,"outline"))&&(this.JD(u.param),h(A,!0,n,t,q,v))}}o6(){this.ta.Om()||(this.eu=Math.ceil(this.R),
this.cu=Math.ceil(this.O),this.Zd.set(0,0,this.R/this.eu,this.O/this.cu),this.TF&&(this.uh(),this.TF=!1),this.jb||(this.jb=this.ta.tI(this.eu,this.cu,{dA:1===this.Zg,Fu:"high"})),this.ta.E_(this.ho,this.jb),this.eA&&this.eA())}uh(){this.jb&&(this.ta.Om()||this.ta.ti(this.jb),this.jb=null)}static Jj(){for(const n of k)n.uh()}}}"use strict";
{const e=self.B;class b{constructor(a){this.fa=a.fa;this.wd=a.wd;this.kd=a.kd;this.Tg=null;this.dt=this.tb=!1;this.qz=0;this.Tg=1===this.wd?this.kd.createQueryEXT():this.fa.createQuery()}j(){this.ZL();this.kd=this.fa=null;this.dt=!1}ZL(){this.Tg&&(1===this.wd?this.kd.deleteQueryEXT(this.Tg):this.fa.deleteQuery(this.Tg),this.Tg=null)}yA(){if(this.tb)throw Error("query already active");1===this.wd?this.kd.beginQueryEXT(this.kd.TIME_ELAPSED_EXT,this.Tg):this.fa.beginQuery(this.kd.TIME_ELAPSED_EXT,this.Tg);
this.tb=!0}QA(){if(!this.tb)throw Error("query not active");1===this.wd?this.kd.endQueryEXT(this.kd.TIME_ELAPSED_EXT):this.fa.endQuery(this.kd.TIME_ELAPSED_EXT);this.tb=!1}EA(){if(this.Tg&&!this.dt&&!this.tb){var a=1===this.wd?this.kd.getQueryObjectEXT(this.Tg,this.kd.QUERY_RESULT_AVAILABLE_EXT):this.fa.getQueryParameter(this.Tg,this.fa.QUERY_RESULT_AVAILABLE);var g=this.fa.getParameter(this.kd.GPU_DISJOINT_EXT);a&&!g&&(this.qz=1===this.wd?this.kd.getQueryObjectEXT(this.Tg,this.kd.QUERY_RESULT_EXT):
this.fa.getQueryParameter(this.Tg,this.fa.QUERY_RESULT),this.qz/=1E9,this.dt=!0);(a||g)&&this.ZL()}}EB(){return this.dt}uB(){if(!this.dt)throw Error("no result available");return this.qz}}e.oa.N_=class{constructor(a){this.ta=a;this.Uh=a.Uh;this.tb=!1;this.Rl=null;this.On=!1;this.sq=null;this.$n=[]}j(){for(const a of this.$n)a instanceof b&&a.j();e.D(this.$n);this.ta=this.sq=this.Rl=null}yA(){if(this.tb)throw Error("query already active");const a=this.ta.fQ;0<a.length?(this.On=!0,this.Rl=a[a.length-
1],this.Rl.fM(),this.Rl.$n.push(this)):(this.On=!1,this.Rl=null);this.tb=!0;a.push(this);this.KN()}QA(){if(!this.tb)throw Error("query not active");if(this.ta.fQ.pop()!==this)throw Error("can only end most nested query");this.tb=!1;this.fM();this.Rl&&(this.Rl.KN(),this.Rl=null)}KN(){this.sq=e.A(b,this.ta);this.$n.push(this.sq);this.sq.yA()}fM(){this.sq.QA();this.sq=null}EA(){for(const a of this.$n)a.EA()}EB(){return this.$n.every(a=>a.EB())}uB(){return this.$n.reduce((a,g)=>a+g.uB(),0)}}}"use strict";
{const e=self.B;e.oa.BL=class{constructor(b,a=1E3){this.ta=b;this.q7=a;this.Si=[];this.ta.e0(this)}j(){this.Zc();this.ta.B4(this);this.ta=null}Zc(){for(const b of this.Si)b.j();e.D(this.Si)}aI(){const b=new e.oa.N_(this.ta);this.Si.push(b);this.Si.length>this.q7&&this.Si.shift().j();return b}aS(b){for(const a of this.Si){if(a.Uh>=b)break;if(a.On)break;a.EA()}}ZI(b,a){if(a<=b)return NaN;let g=0;for(const c of this.Si){if(c.Uh>=a)break;if(!(c.Uh<b))if(c.EB())g+=c.uB();else return NaN}return g}yI(b){for(let a=
0,g=this.Si.length;a<g;++a){const c=this.Si[a];if(c.Uh<b)c.j();else{0<a&&this.Si.splice(0,a);break}}}}}"use strict";
{const e=self.B,b=self.Pq,a=b.pA,g=b.hR,c=b.cA,d={powerPreference:"default",AQ:!0,alpha:!1,sH:!1,tH:2},k=new Set(["default","low-power","high-performance"]),h=new e.ie(0,0,1,0,1,1,0,1),l=a.yd(0,0,0),p=a.yd(0,0,0),n=c.create(),t=new e.ie,q=new e.Rect;let u=null;e.Sq&&(self.Cha=function(){u?u.loseContext():console.warn("WEBGL_lose_context not supported")},self.Dha=function(){u?u.restoreContext():console.warn("WEBGL_lose_context not supported")});const v=new Set;let A=-1;function y(){A=-1;for(const x of v)x.d8()&&
(x.resolve(),v.delete(x));0<v.size&&(A=self.requestAnimationFrame(y))}function E(x,F,I){if(2<=I&&(I=x.getContext("webgl2",F)))return{aA:I,version:2};I=x.getContext("webgl",F);if(!I)try{I=x.getContext("experimental-webgl",F)}catch(M){console.warn("Error requesting 'experimental-webgl' context: ",M)}return{aA:I,version:1}}e.oa.M_=class extends e.oa.JY{constructor(x,F){super();F=Object.assign({},d,F);if(!k.has(F.powerPreference))throw Error("invalid power preference");let I=!1;const M={alpha:!!F.alpha,
depth:!1,antialias:!1,powerPreference:F.powerPreference,failIfMajorPerformanceCaveat:!0};F.sH&&(M.desynchronized=!0,M.preserveDrawingBuffer=!0);let O=E(x,M,F.tH);O.aA||(I=!0,M.failIfMajorPerformanceCaveat=!1,O=E(x,M,F.tH));if(!O.aA)throw Error("failed to initialise WebGL context");this.fa=x=O.aA;this.aO=x.getContextAttributes();F.sH&&!this.aO.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");x.getParameter(x.VERSION);this.wd=O.version;this.gP=this.hP=
0;this.jz=this.QO=this.Bz=this.Lz=null;this.Mz=new Float32Array(24E3);this.RO=new Uint16Array(12E3);this.Aq=new Float32Array(16E3);this.IP=new Float32Array(32E3);this.mP=this.kz=this.zf=this.hj=0;this.Wl=this.Sn=null;this.Ps=[];this.ld=this.zl=0;this.Td=null;this.ac=e.A(e.oa.MR,this);this.zt=e.A(e.Za,1,1,1,1);this.$p=this.Un=null;this.zF=this.CF=0;this.l7=this.m7=1;this.KF=.5;this.Xp=!1;this.ou=this.pu=-1;this.j7=new e.Rect;this.$y=-1;this.PF=0;this.ku="(unavailable)";this.HO=I;this.rF=!1;this.bG=
null;this.g7=!!F.AQ;this.kd=null;this.rx=new Set;this.fQ=[];this.UT(this.RO)}async Tv(){super.Tv();var x=this.fa;this.zt.uo(1,1,1,1);this.$p=this.Un=null;this.kz=this.hj=0;this.mP=23988;e.D(this.Ps);this.ld=this.zl=0;this.Td=this.Sn=null;this.j7.set(0,0,1,1);var F=this.ac;F.$g=null;F.mm=null;g.set(F.Uz,1,1,1,1);F.clearColor.uo(0,0,0,0);F.DH.set(0,0,1,1);x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT);x.enable(x.BLEND);x.blendFunc(x.ONE,x.ONE_MINUS_SRC_ALPHA);this.CF=x.ONE;this.zF=x.ONE_MINUS_SRC_ALPHA;
this.y2(x);x.disable(x.CULL_FACE);x.disable(x.STENCIL_TEST);x.disable(x.DITHER);x.disable(x.DEPTH_TEST);this.jz=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.jz);x.bufferData(x.ARRAY_BUFFER,this.IP.byteLength,x.DYNAMIC_DRAW);this.Lz=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.Lz);x.bufferData(x.ARRAY_BUFFER,this.Mz.byteLength,x.DYNAMIC_DRAW);this.Bz=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.Bz);x.bufferData(x.ARRAY_BUFFER,this.Aq.byteLength,x.DYNAMIC_DRAW);this.QO=x.createBuffer();
x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,this.QO);x.bufferData(x.ELEMENT_ARRAY_BUFFER,this.RO,x.STATIC_DRAW);x.activeTexture(x.TEXTURE0);x.bindTexture(x.TEXTURE_2D,null);this.$y=x.getParameter(x.MAX_TEXTURE_SIZE);this.PF=x.getParameter(x.ALIASED_POINT_SIZE_RANGE)[1];2048<this.PF&&(this.PF=2048);if(F=x.getExtension("WEBGL_debug_renderer_info"))x.getParameter(F.UNMASKED_VENDOR_WEBGL),this.ku=x.getParameter(F.UNMASKED_RENDERER_WEBGL);this.bG=x.getExtension("KHR_parallel_shader_compile");e.Sq&&(u=x.getExtension("WEBGL_lose_context"));
if(this.g7)if(1===this.wd){if("Chromium"!==e.Sc.Su||81<=e.Sc.BA||"undefined"!==typeof document)this.kd=x.getExtension("EXT_disjoint_timer_query")}else this.kd=x.getExtension("EXT_disjoint_timer_query_webgl2")||x.getExtension("EXT_disjoint_timer_query");x=e.oa.rs;F=x.bB(!1);x=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",F,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
F,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",F,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
F,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",F,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
F,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
F,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
F,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",F,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
x.bB(!0),"<tilemap>"]].map(I=>this.vI({src:I[0]},I[1],I[2])));this.xz=x[0];this.Wl=x[1];this.vG=x[2];this.uG=x[3];this.xh()}async vI(x,F,I){x=await e.oa.rs.Na(this,x,F,I);this.f0(x);return x}OY(){this.Sn=null}Uc(x,F,I){if(this.R!==x||this.O!==F||I){this.vi();I=this.fa;var M=this.ac;this.R=x;this.O=F;x=this.wB();F=this.vB();this.WN(x,F,this.R,this.O);this.VN(x,F,this.Ft);this.Wl&&(I.useProgram(this.Wl.bb),this.Wl.TN(this.Ft),this.Sn=this.Wl,this.ac.$g=this.Wl);I.bindTexture(I.TEXTURE_2D,null);I.activeTexture(I.TEXTURE1);
I.bindTexture(I.TEXTURE_2D,null);I.activeTexture(I.TEXTURE0);this.$p=this.Un=null;this.Td&&this.Td.mN(this.R,this.O);I.bindFramebuffer(I.FRAMEBUFFER,null);this.Td=null;M.mm=null}}WN(x,F,I,M){this.Ih[2]=100;c.rH(this.ci,this.Ih,this.cj,this.QG);c.perspective(this.Ft,45,x/F,1,1E4);const O=[0,0],Q=[0,0],T=self.devicePixelRatio;this.nK(0,0,x,F,O);this.nK(1,1,x,F,Q);this.im[0]=T/(Q[0]-O[0]);this.im[1]=-T/(Q[1]-O[1]);this.hP=I;this.gP=M}VN(x,F,I){const M=this.ac;this.fa.viewport(0,0,x,F);x=this.pn;F=M.$g;
for(let O=0,Q=x.length;O<Q;++O){const T=x[O];T===F?T.Dw(I,!0):T.DZ()}c.wa(M.tu,I)}wB(){return this.Xp?this.pu:this.ea()}vB(){return this.Xp?this.ou:this.da()}qs(){Vb(this.AF,this.ci)||(this.Od().rW(this.ci),c.wa(this.AF,this.ci),this.ld=0)}Od(){const x=this.Ps;this.zl===x.length&&x.push(new e.oa.L_(this.ac));return x[this.zl++]}vi(){0===this.zl||this.Om()||(this.u6(),this.I1(),this.ld=this.kz=this.zf=this.hj=this.zl=0)}u6(){const x=this.fa;0<this.kz&&(x.bindBuffer(x.ARRAY_BUFFER,this.jz),x.bufferSubData(x.ARRAY_BUFFER,
0,this.IP.subarray(0,this.kz)));0<this.hj&&(x.bindBuffer(x.ARRAY_BUFFER,this.Lz),x.bufferSubData(x.ARRAY_BUFFER,0,this.Mz.subarray(0,this.hj)),x.bindBuffer(x.ARRAY_BUFFER,this.Bz),x.bufferSubData(x.ARRAY_BUFFER,0,this.Aq.subarray(0,this.zf)))}I1(){const x=this.Ps;for(let F=0,I=this.zl;F<I;++F)x[F].na()}If(){return this.zt.Qa}Me(x,F,I,M){const O=this.zt;O.wu(x,F,I,M)||(O.uo(x,F,I,M),this.Od().JB(O),this.ld=0,this.Oh=null)}Mj(x){const F=this.zt;F.Qa!==x&&(F.jA(x),this.Od().JB(F),this.ld=0,this.Oh=null)}ml(x){const F=
this.zt;F.Nc(x)||(F.set(x),this.Od().JB(F),this.ld=0,this.Oh=null)}cp(){this.Me(1,1,1,1)}nf(x){x!==this.Un&&(this.Od().nW(x),this.Un=x,this.ld=0)}CD(){this.Un=null}kf(x){x=this.b2(x);this.ID(x[0],x[1])}ID(x,F){if(x!==this.CF||F!==this.zF)this.Od().jW(x,F),this.CF=x,this.zF=F,this.ld=0,this.Oh=null}pC(){this.ID(this.fa.ONE,this.fa.ONE_MINUS_SRC_ALPHA)}NK(){this.ID(this.fa.ONE,this.fa.ZERO)}Rect(x){this.uK(x.L,x.J,x.T,x.N)}uK(x,F,I,M){this.iw(x,F,I,F,I,M,x,M)}Qw(){let x=this.hj;x>=this.mP&&(this.vi(),
x=0);1===this.ld?this.Ps[this.zl-1].In+=6:(this.Od().iW(x),this.ld=1)}TD(x){x.S9(this.Mz,this.hj,this.zx+this.Nx);this.hj+=12}ie(x){this.Qw();this.TD(x);h.dh(this.Aq,this.zf);this.zf+=8}iw(x,F,I,M,O,Q,T,aa){this.Qw();const V=this.Mz;let Z=this.hj;const ha=this.zx+this.Nx;V[Z++]=x;V[Z++]=F;V[Z++]=ha;V[Z++]=I;V[Z++]=M;V[Z++]=ha;V[Z++]=O;V[Z++]=Q;V[Z++]=ha;V[Z++]=T;V[Z++]=aa;V[Z++]=ha;this.hj=Z;h.dh(this.Aq,this.zf);this.zf+=8}jl(x,F){this.Qw();this.TD(x);F.R9(this.Aq,this.zf);this.zf+=8}tY(x,F){this.Qw();
this.TD(x);F.dh(this.Aq,this.zf);this.zf+=8}YT(x,F){c.wa(n,this.AF);a.wa(l,this.Ih);a.wa(p,this.cj);this.Ih[0]=0;this.Ih[1]=0;this.Ih[2]=100*self.devicePixelRatio;this.cj[0]=0;this.cj[1]=0;this.cj[2]=0;this.lw();this.qs();if(this.Xp){x=this.pu/2;var I=this.ou/2;q.set(-x,I,-x+this.pu,I-this.ou);t.Ok(q);q.set(0,0,this.pu/this.R,this.ou/this.O);this.jl(t,q)}else if("crop"===x&&this.Td&&F){x=this.R/2;I=this.O/2;const Q=F.ea();F=F.da();var M=this.Td.ea(),O=this.Td.da();M=Math.min(M,Q);const T=Math.min(O,
F),aa=Math.max(F-O,0);O=Math.max(O-F,0);q.set(-x,I-O,-x+M,I-T-O);t.Ok(q);q.set(0,aa,M,T+aa);q.Gk(Q,F);this.jl(t,q)}else{let [Q,T]=this.jJ(this.Td);x=Q/2;I=T/2;this.uK(-x,I,x,-I)}c.wa(this.ci,n);a.wa(this.Ih,l);a.wa(this.cj,p);this.qs()}bw(x,F,I,M,O,Q){var T=this.KF;x=x+T-Q;F=F+T-O;I=I+T+Q;M=M+T+O;T=2*Q;const aa=2*O;this.iw(x+O,F-Q,I+O,M-Q,I-O-T,M+Q-aa,x-O+T,F+Q+aa)}aw(x,F,I,M,O,Q){const T=this.KF;x=x+T-Q;F=F+T-O;I=I+T+Q;M=M+T+O;this.iw(x+O,F-Q,I+O,M-Q,I-O,M+Q,x-O,F+Q)}$v(x,F,I,M,O,Q){const T=this.KF;
x+=T;F+=T;I+=T;M+=T;this.iw(x+O,F-Q,I+O,M-Q,I-O,M+Q,x-O,F+Q)}cX(x,F,I,M){const O=.5*this.m7,Q=this.l7;2===Q?this.R2(x,F,I,M,O):1===Q?this.Q2(x,F,I,M,O):this.P2(x,F,I,M,O)}R2(x,F,I,M,O){this.bw(x,F,I,F,0,O);this.bw(I,F,I,M,O,0);this.bw(I,M,x,M,0,-O);this.bw(x,M,x,F,-O,0)}Q2(x,F,I,M,O){this.aw(x,F,I,F,0,O);this.aw(I,F,I,M,O,0);this.aw(I,M,x,M,0,-O);this.aw(x,M,x,F,-O,0)}P2(x,F,I,M,O){this.$v(x,F,I,F,0,O);this.$v(I,F,I,M,O,0);this.$v(I,M,x,M,0,-O);this.$v(x,M,x,F,-O,0)}NJ(x){this.cX(x.L,x.J,x.T,x.N)}rl(x){this.Sn!==
x&&(this.Od().kW(x),this.Sn=x,this.ld=0,this.Oh=null)}nZ(){this.rl(this.Wl)}mp(x,F,I,M,O,Q,T,aa,V,Z,ha){const oa=this.Sn;var Y=oa.EO;const ta=!!ha.length;if(Y&&!oa.HR(F,I,M,O,Q,T,aa,V,Z)||ta&&!oa.GR(ha)){var ea=this.Od();ea.lW();Y&&(oa.EZ(F,I,M,O,Q,T,aa,V,Z),Y=ea.Wd,Y[0]=Q,Y[1]=T,F.dh(Y,2),Y[6]=aa,Y[7]=V,I.dh(Y,12),F=ea.Us,O.dh(F,0),O=F[1],F[1]=F[3],F[3]=O,M.dh(ea.aQ,0),ea.hg=Z,ea.te=oa.Hq.U?x?x.Ie():null:null);ta&&(oa.lZ(ha),e.Dc(ea.rz,ha));this.ld=0}}ir(){this.Od().cW();this.ld=0}Zc(x){this.Od().bW(x);
this.ld=0}eS(x,F,I,M){0>I||0>M||(this.Od().aW(x,F,I,M),this.ld=0)}os(){}pr(){super.pr();this.fa.flush()}$R(){for(const x of this.rx)x.aS(this.Uh)}Om(){return!this.fa||this.fa.isContextLost()||this.rF}Jj(){super.KX();e.oa.Iw.Jj();e.oa.SC.Jj();e.oa.iC.Jj();for(const x of this.rx)x.Zc();this.bG=this.kd=null;this.ku="(unavailable)";this.Wl=this.Sn=null;for(const x of this.$t.values())x.Jj()}async dC(){this.rF=!0;await this.Tv();this.rF=!1;for(const x of this.$t.values())x.dC(this);this.Uc(this.R,this.O,
!0)}bv(x,F){if(this.Om())throw Error("context lost");this.vi();const I=e.A(e.oa.Iw,this);I.M0(x,F);return I}cv(x,F){if(this.Om())return Promise.reject("context lost");F=Object.assign({},F);const I=F.rA&&"clamp-to-edge"!==F.rA||F.sA&&"clamp-to-edge"!==F.sA;if(!e.Pb.ImageBitmapOptions||!this.bn()&&I)return e.Pb.ImageBitmap?createImageBitmap(x).then(M=>e.pj(()=>this.bv(M,F))):x instanceof Blob?e.RR(x).then(M=>this.cv(M,F)):"undefined"!==typeof HTMLImageElement&&x instanceof HTMLImageElement&&"function"===
typeof x.decode?x.decode().then(()=>e.pj(()=>this.bv(x,F))):e.pj(()=>this.bv(x,F));F.premultiplyAlpha=!1;return createImageBitmap(x,{premultiplyAlpha:"premultiply"}).then(M=>e.pj(()=>this.bv(M,F)))}tI(x,F,I){this.vi();const M=e.A(e.oa.Iw,this);M.z0(x,F,I);return M}E_(x,F){this.vi();F.ON(x,void 0)}ti(x){x&&(x.o_(),0<x.uc||(this.vi(),x===this.Un&&(this.fa.bindTexture(this.fa.TEXTURE_2D,null),this.Un=null),x===this.$p&&(this.fa.activeTexture(this.fa.TEXTURE1),this.fa.bindTexture(this.fa.TEXTURE_2D,null),
this.fa.activeTexture(this.fa.TEXTURE0),this.$p=null),x.XL()))}zS(x){let F=this.R,I=this.O,M=!0;x&&("number"===typeof x.width&&(F=x.width,M=!1),"number"===typeof x.height&&(I=x.height,M=!1));if(0>=F||0>=I)throw Error("invalid size");this.vi();const O=e.A(e.oa.SC,this);O.y0(F,I,Object.assign({GQ:M},x));this.Td=null;this.ac.mm=null;return O}Ne(x){if(x!==this.Td){if(x){x.xy&&x.mN(this.R,this.O);var F=x.ea();var I=x.da();var M=F;var O=I}else F=this.R,I=this.O,M=this.wB(),O=this.vB();var Q=this.hP!==F||
this.gP!==I;Q&&this.WN(M,O,F,I);this.Od().mW(x,Q,this.Ft);this.Td=x;this.ld=0}}Hr(){return this.Td}jJ(x){return x?[x.ea(),x.da()]:[this.R,this.O]}HA(x){2>this.wd||this.Td&&0<this.Td.lk?(this.NK(),this.cp(),this.jr(x,"stretch")):(this.Od().ZV(x,this.Td),this.ld=0)}jr(x,F="stretch"){x=x.Ie();if(!x)throw Error("not a texture-backed render target");this.nf(x);this.YT(F,x)}Mm(x){2>this.wd||(this.Od().eW(x.Th),this.ld=0)}async xY(x){this.vi();const F=this.Td;if(x){var I=x.ea();var M=x.da();x=x.Th}else I=
this.ea(),M=this.da(),x=null;const O=this.fa;O.bindFramebuffer(O.FRAMEBUFFER,x);x=new ImageData(I,M);O.readPixels(0,0,I,M,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array(x.data.buffer));(()=>{O.bindFramebuffer(O.FRAMEBUFFER,null);this.Td=null;this.ac.mm=null;this.Ne(F)})();return x}mL(x){this.Ni()&&(this.Od().pW(x),this.ld=0)}EI(x){this.Ni()&&(this.Od().dW(x),this.ld=0)}q6(x){const F=new Promise(I=>v.add({resolve:I,d8:x}));-1===A&&(A=self.requestAnimationFrame(y));return F}GW(){return!!this.aO.desynchronized}qU(){let x=
0;for(const F of e.oa.Iw.U7())x+=F.dB();return x}bn(){return 2<=this.wd}Ni(){return!!this.kd}e0(x){this.rx.add(x)}B4(x){this.rx.delete(x)}y2(x){this.x2([["normal",x.ONE,x.ONE_MINUS_SRC_ALPHA],["additive",x.ONE,x.ONE],["xor",x.ONE,x.ONE_MINUS_SRC_ALPHA],["copy",x.ONE,x.ZERO],["destination-over",x.ONE_MINUS_DST_ALPHA,x.ONE],["source-in",x.DST_ALPHA,x.ZERO],["destination-in",x.ZERO,x.SRC_ALPHA],["source-out",x.ONE_MINUS_DST_ALPHA,x.ZERO],["destination-out",x.ZERO,x.ONE_MINUS_SRC_ALPHA],["source-atop",
x.DST_ALPHA,x.ONE_MINUS_SRC_ALPHA],["destination-atop",x.ONE_MINUS_DST_ALPHA,x.SRC_ALPHA]])}}}"use strict";
{let e=null;const b=new Set;let a=!1;self.OV=class{constructor(g){e=g;Object.defineProperties(this,{C8:{value:{},writable:!1},storage:{value:new self.QV(e),writable:!1},wia:{value:e.Kl,writable:!1}});e.Ld.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.Ld.addEventListener("keyup",c=>b.delete(c.key));e.Db().addEventListener("window-blur",()=>b.clear());e.Kl&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}A2(g){Object.defineProperties(this.C8,g)}addEventListener(g,c){e.Ld.addEventListener(g,c)}removeEventListener(g,c){e.Ld.removeEventListener(g,c)}get zQ(){return e.Cr()}random(){return e.$o()}get Bf(){return e.Kb().ft}get keyboard(){const g=e.Jx.keyboard;if(!g)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return g}get KQ(){const g=e.Jx.KQ;if(!g)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return g}get TH(){const g=e.Jx.TH;if(!g)throw Error("runtime.touch used but Touch object missing - add it to your project first");return g}alert(g){return e.Vr("alert",{message:g+(e.Kl?" [via Web Worker]":"")})}}}"use strict";self.JV=class{constructor(){}};"use strict";self.QV=class{constructor(e){this.au=e.m2()}getItem(e){return this.au.getItem(e)}setItem(e,b){return this.au.setItem(e,b)}removeItem(e){return this.au.removeItem(e)}clear(){return this.au.clear()}keys(){return this.au.keys()}};"use strict";
{const e=new WeakMap;self.sJ=class{constructor(b){e.set(this,b);Object.defineProperties(this,{name:{value:b.V,writable:!1}});b.H().MM(this,b)}addEventListener(b,a){e.get(this).Ld.addEventListener(b,a)}removeEventListener(b,a){e.get(this).Ld.removeEventListener(b,a)}*EQ(){for(const b of e.get(this).ba())yield b.sg()}fH(b){if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var a=e.get(this),g=a.H();b=g.Kb().aa(b);if(!b)throw Error("invalid layer");a=g.JA(a,b,
void 0,void 0,void 0);g=g.ga();g.ae(!0);a.kx();g.ae(!1);return a.sg()}}}"use strict";
{const e=new WeakMap;self.NV=class{constructor(b){e.set(this,b);const a=[],g=b.La,c=g.Ff().length;for(let d=0;d<c;++d)a.push(new self.IB(g,d));Object.defineProperties(this,{name:{value:b.V,writable:!1},index:{value:b.xa(),writable:!1}})}addEventListener(b,a){e.get(this).Ld.addEventListener(b,a)}removeEventListener(b,a){e.get(this).Ld.removeEventListener(b,a)}get width(){return e.get(this).ea()}set width(b){e.get(this).pf(b)}get height(){return e.get(this).da()}set height(b){e.get(this).lf(b)}scrollTo(b,a){const g=
e.get(this);g.gs(b);g.hs(a)}}}"use strict";{const e=self.B,b=new WeakMap;self.MV=class{constructor(a){b.set(this,a);const g=[],c=a.La,d=c.Ff().length;for(let k=0;k<d;++k)g.push(new self.IB(c,k));Object.defineProperties(this,{name:{value:a.V,writable:!1},index:{value:a.xa(),writable:!1},Bf:{value:a.Hf().ft,writable:!1}})}get isVisible(){return b.get(this).pd()}set isVisible(a){b.get(this).yg(a)}get opacity(){return b.get(this).If()}set opacity(a){a=e.ia(+a,0,1);isNaN(a)||b.get(this).Mj(a)}}}"use strict";
{const e=self.B,b=new WeakMap,a=new WeakMap;function g(d){let k=a.get(d);if(k)return k;k=e.A(e.Event.Db);a.set(d,k);return k}let c=null;self.Or=class{constructor(){b.set(this,c);const d={mc:{value:c.H().Wh,writable:!1},zH:{value:c.G().gt,writable:!1},uid:{value:c.Bc,writable:!1}};c.f2(d);c.a2(d);Object.defineProperties(this,d);c.H().MM(this,c)}static Bh(d){c=d}static ws(){return c}Fs(){const d=a.get(this);d&&(d.j(),a.delete(this));b.delete(this)}addEventListener(d,k,h){g(this).addEventListener(d,
k,h)}removeEventListener(d,k,h){g(this).removeEventListener(d,k,h)}dispatchEvent(d){g(this).dispatchEvent(d)}}}"use strict";
{const e=self.B,b=self.Or,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(g=>[g[1],g[0]]);e.A(e.Za);self.Rv=class extends b{constructor(){super();var g=b.ws();a.set(this,g);const c=[];var d=g.m();if(g=d.Vd){d=d.G().La.Ff().length;for(let k=0;k<d;++k)c.push(new self.IB(g,k))}}get Bf(){return a.get(this).m().Hf().ft}get Ad(){return a.get(this).m().aa().X6}get x(){return a.get(this).m().la()}set x(g){g=
+g;const c=a.get(this).m();isNaN(g)||c.la()===g||(c.Tf(g),c.Fa())}get y(){return a.get(this).m().ma()}set y(g){g=+g;const c=a.get(this).m();isNaN(g)||c.ma()===g||(c.zg(g),c.Fa())}get width(){return a.get(this).m().ea()}set width(g){g=+g;const c=a.get(this).m();isNaN(g)||c.ea()===g||(c.pf(g),c.Fa())}get height(){return a.get(this).m().da()}set height(g){g=+g;const c=a.get(this).m();isNaN(g)||c.da()===g||(c.lf(g),c.Fa())}get angle(){return a.get(this).m().Ea()}set angle(g){g=e.xd(+g);const c=a.get(this).m();
isNaN(g)||c.Ea()===g||(c.qd(g),c.Fa())}mH(){a.get(this).m().zb().H9()}get isVisible(){return a.get(this).m().pd()}set isVisible(g){g=!!g;const c=a.get(this),d=c.m();d.pd()!==g&&(d.yg(g),c.H().ca())}get opacity(){return a.get(this).m().If()}set opacity(g){g=e.ia(+g,0,1);const c=a.get(this),d=c.m();isNaN(g)||d.If()===g||(d.Mj(g),c.H().ca())}bf(g,c){return a.get(this).m().Do(+g,+c)}getParent(){const g=a.get(this).za();return g?g.sg():null}*parents(){for(const g of a.get(this).parents())yield g.sg()}*children(){for(const g of a.get(this).children())yield g.sg()}*km(){for(const g of a.get(this).km())yield g.sg()}removeChild(g){const c=
a.get(this);g=a.get(g);c.Ki(g)}}}"use strict";{const e=new WeakMap;self.Xaa=class extends self.Rv{constructor(){super();e.set(this,self.Or.ws())}focus(){e.get(this).ra.KI()}blur(){e.get(this).ra.eI()}}}"use strict";
{const e=self.B,b=new WeakMap,a=new WeakMap;function g(d){let k=a.get(d);if(k)return k;k=e.A(e.Event.Db);a.set(d,k);return k}let c=null;self.LV=class{constructor(){b.set(this,c);Object.defineProperties(this,{mc:{value:c.H().Wh,writable:!1},behavior:{value:c.sj().ly,writable:!1}})}static Bh(d){c=d}static ws(){return c}get instance(){return b.get(this).Z.sg()}Fs(){const d=a.get(this);d&&(d.j(),a.delete(this));b.delete(this)}addEventListener(d,k,h){g(this).addEventListener(d,k,h)}removeEventListener(d,
k,h){g(this).removeEventListener(d,k,h)}dispatchEvent(d){g(this).dispatchEvent(d)}}}"use strict";{const e=new WeakMap;self.KV=class{constructor(b){e.set(this,b);Object.defineProperties(this,{mc:{value:b.H().Wh,writable:!1}})}}}"use strict";
{const e=self.B,b=new WeakMap;self.IB=class{constructor(a,g){b.set(this,a);Object.defineProperties(this,{index:{value:g,writable:!1}})}get name(){return b.get(this).Ff()[this.index].V}getParameter(a){a=Math.floor(+a);const g=b.get(this).Gf(this.index);if(0>a||a>=g.length)throw new RangeError("invalid effect parameter index");a=g[a];return a instanceof e.Za?[a.Sa,a.Ua,a.Ta]:a}}}"use strict";
{const e=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.LR=class extends e.${constructor(g,c){super();var d=c.exportType;this.g=g;this.H7=c.scriptsType;this.Xy=new Map;this.gq=new Map;this.o7=new Map;this.wy="cordova"===d;this.bP=!!c.isiOSCordova;this.By="file:"===location.protocol;this.K7=c.supportedAudioFormats||
{};this.A6=new Map;this.LO=this.sO="";this.Ox="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.cE=[];this.kE=new Map;this.WG=[];this.Vy=[];this.FO=!1;this.Py=this.jE=this.iu=0;this.aF=!1;this.n7=e.A(e.wY,()=>this.jM(),50);this.hG=new e.oK(Math.max(e.hardwareConcurrency,8));if(g=c.previewImageBlobs){(d=c.previewProjectFileBlobs)&&Object.assign(g,d);(d=c.projectData)&&(g["data.json"]=d);for(const [k,h]of Object.entries(g))this.Xy.set(k.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [k,
h]of Object.entries(c))this.o7.set(k,h);new self.JV(this)}j(){this.Xy.clear();for(const g of this.gq.values())g.startsWith("blob:")&&URL.revokeObjectURL(g);this.gq.clear();for(const g of this.cE)g.j();e.D(this.cE);this.kE.clear();e.D(this.Vy);this.g=null}H(){return this.g}A5(g){this.sO=g}F5(g){this.LO=g}nD(g){return this.Xy.has(g.toLowerCase())}Vw(g){return this.Xy.get(g.toLowerCase())||null}dJ(g){if(!this.nD(g))return g;g=g.toLowerCase();var c=this.gq.get(g);c||(c=this.Vw(g),c=URL.createObjectURL(c),
this.gq.set(g,c));return c}wi(g,c){c=c||this.Ox;const d=this.Vw(g);if(d)return Promise.resolve(d);if(e.WB(g)){const k=g.toLowerCase();return this.wy&&this.By?this.sI(k):"local"===c?this.hG.Ec(()=>e.wi(k)):e.wi(k)}return e.wi(g)}pv(g){const c=this.Vw(g);if(c)return e.QR(c);if(e.WB(g)){const d=g.toLowerCase();return this.wy&&this.By?this.rI(d):"local"===this.Ox?this.hG.Ec(()=>e.pv(d)):e.pv(d)}return e.pv(g)}nr(g){const c=this.Vw(g);if(c)return e.dI(c);if(e.WB(g)){const d=g.toLowerCase();return this.wy&&
this.By?this.tS(d):"local"===this.Ox?this.hG.Ec(()=>e.nr(d)):e.nr(d)}return e.nr(g)}async II(g){g=await this.nr(g);return JSON.parse(g)}YC(g,c){return this.g.Vr("cordova-fetch-local-file",{filename:g,as:c})}tS(g){return this.YC(g,"text")}async sI(g){const c=await this.YC(g,"buffer");g?(g=g.split("."),g=2>g.length?"":a.get(g[g.length-1].toLowerCase())||""):g="";return new Blob([c],{type:g})}async sS(g){g=g.toLowerCase();var c=this.gq.get(g);if(c)return c;c=await this.sI(g);c=URL.createObjectURL(c);
this.gq.set(g,c);return c}rI(g){return this.YC(g,"buffer")}eV(g,c=""){if(e.LB(g)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(g)}return this.nD(g)?Promise.resolve(this.dJ(g)):this.wy&&this.By?this.sS(c+g):Promise.resolve(c+g.toLowerCase())}cw(g){if(g.Du&&!b.has(g.Du))throw Error("invalid load policy");let c=this.kE.get(g.url);if(c)return c;c=e.A(e.tJ,this,{url:g.url,size:g.size||0,Du:g.Du||this.Ox});this.cE.push(c);this.kE.set(c.li,c);this.FO||(this.iu+=c.Zk(),
this.Vy.push(c.OJ().then(()=>this.HL(c.Zk()))));return c}async zL(){try{await Promise.all(this.Vy),this.Py=1}catch(g){console.error("Error loading: ",g),this.aF=!0,this.jM()}}xZ(){this.FO=!0}HL(g){this.jE+=g;this.n7.CA()}jM(){const g=e.A(e.Event,"loadingprogress");this.Py=e.ia(this.jE/this.iu,0,1);g.progress=this.Py;this.g.Db().dispatchEvent(g)}R5(g){e.Dc(this.WG,g);this.WG.length&&this.Vy.push(this.n3())}n3(){if("undefined"===typeof FontFace)return Promise.resolve();const g=[];for(const [c,d,k]of this.WG)this.iu+=
k,g.push(this.m3(c,d).then(()=>this.HL(k)));return Promise.all(g)}async m3(g,c){try{const d=await this.eV(c,this.sO),k=new FontFace(g,`url('${d}')`);this.g.Kl?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(d){console.warn(`[C3 runtime] Failed to load web font '${g}': `,d)}}yW(){return!!this.K7["audio/webm; codecs=opus"]}p5(g){for(const [c,d,k]of g)this.A6.set(c,{fileName:c,Qha:d.map(h=>({type:h[0],Mha:h[1],dia:c+h[1],fileSize:h[2]})),xia:k})}}}"use strict";
{const e=self.B;e.KR=class extends e.${constructor(b,a){super();this.fd=b;this.g=b.H();this.li=a.url;this.co=a.size;this.LF=a.Du;this.Rs=null;this.uF=!1;this.Pl=null}j(){this.Rs=this.g=this.fd=this.Pl=null}Zk(){return this.co}OJ(){return"local"===this.LF||this.Rs?(this.uF=!0,Promise.resolve()):this.Pl?this.Pl:this.Pl=this.fd.wi(this.li,this.LF).then(b=>{this.uF=!0;this.Pl=null;return this.Rs=b}).catch(b=>console.error("Error loading resource: ",b))}TB(){return this.uF}gU(){return this.Rs?Promise.resolve(this.Rs):
this.Pl?this.Pl:this.fd.wi(this.li,this.LF)}}}"use strict";
{const e=self.B,b=new e.oK,a=new Set;e.tJ=class extends e.KR{constructor(g,c){super(g,c);this.kj=this.io=null;this.uc=0;this.NO=this.PO=-1;a.add(this)}j(){this.uh();if(0!==this.uc)throw Error("released image asset which still has texture references");this.io=null;a.delete(this);super.j()}static Yo(){for(const g of a)g.io=null,g.kj=null,g.uc=0}Rr(g,c){this.uc++;return this.kj?Promise.resolve(this.kj):this.io?this.io:this.io=this.gU().then(d=>b.Ec(()=>g.cv(d,c).then(k=>{this.io=null;if(0===this.uc)return g.ti(k),
null;this.kj=k;this.PO=k.ea();this.NO=k.da();return this.kj}))).catch(d=>{console.error("Failed to load texture: ",d);throw d;})}uh(){if(0>=this.uc)throw Error("texture released too many times");this.uc--;0===this.uc&&this.kj&&(this.kj.Ir().ti(this.kj),this.kj=null)}Ie(){return this.kj}ea(){return this.PO}da(){return this.NO}}}"use strict";
{const e=self.B;function b(a,g){return a.m().mj-g.m().mj}e.HY=class extends e.${constructor(a,g,c){super();this.S=g;this.M=c;this.F=[];this.ot=!0;this.di=new Set;this.kt=!1}j(){e.D(this.F);this.di.clear()}dd(){e.D(this.F);this.ot=!0;this.di.clear();this.kt=!1}jZ(){this.ot=!1}Qm(){if(!this.F.length)return!0;if(this.F.length>this.di.size)return!1;this.lD();return!0}KB(a){this.di.has(a)?(this.di.delete(a),0===this.di.size&&(this.kt=!1)):(this.F.push(a),this.ot=1===this.F.length)}wg(a){this.di.add(a);
this.kt=!0;50<=this.di.size&&this.lD()}lD(){this.kt&&(this.F.length===this.di.size?this.dd():(e.ng(this.F,this.di),this.di.clear(),this.kt=!1))}H1(){this.ot||(this.F.sort(b),this.ot=!0)}OA(a){this.lD();this.H1();this.F.length&&a.push(this.F)}}}"use strict";
{const e=self.B;e.IY=class extends e.${constructor(b,a){super();this.wE=b;this.vE=a;this.Jh=e.A(e.Ur)}j(){this.Jh.j();this.Jh=null}Uk(b,a,g){let c=this.Jh.W(b,a);return c?c:g?(c=e.A(e.HY,this,b,a),this.Jh.Set(b,a,c),c):null}yh(b){return Math.floor(b/this.wE)}zh(b){return Math.floor(b/this.vE)}Pj(b,a,g){if(a)for(let c=a.L,d=a.T;c<=d;++c)for(let k=a.J,h=a.N;k<=h;++k){if(g&&g.bf(c,k))continue;const l=this.Uk(c,k,!1);l&&(l.wg(b),l.Qm()&&this.Jh.ym(c,k))}if(g)for(let c=g.L,d=g.T;c<=d;++c)for(let k=g.J,
h=g.N;k<=h;++k)a&&a.bf(c,k)||this.Uk(c,k,!0).KB(b)}jw(b,a){let g=this.yh(b.L);const c=this.zh(b.J),d=this.yh(b.T);for(b=this.zh(b.N);g<=d;++g)for(let k=c;k<=b;++k){const h=this.Uk(g,k,!1);h&&h.OA(a)}}qX(b){let a=b.L;const g=b.J,c=b.T;for(b=b.N;a<=c;++a)for(let d=g;d<=b;++d){const k=this.Uk(a,d,!1);k&&k.jZ()}}}}"use strict";
{const e=self.B,b=new e.Rect,a=new e.ie,g=[],c=new e.Rect,d=new e.Rect,k=self.Pq.pA,h=k.yd(0,1,0);function l(n,t){return n.m().mj-t.m().mj}function p(n,t){return n.m().Lb()-t.m().Lb()}e.ZB=class extends e.${constructor(n,t,q){super();this.Og=n;this.g=n.H();this.V=q[0];this.Ma=t;this.Ya=q[2];this.Ny=!!q[3];this.Os=e.A(e.Za);this.Os.Nk(q[4].map(u=>u/255));this.Nl=!!q[5];this.qe=q[6];this.re=q[7];this.Wa=e.A(e.Za,1,1,1,q[8]);this.lz=e.A(e.Za);this.pF=q[9];this.oo=q[10];this.gi=q[11];this.Bl=q[12];this.El=
null;this.Jc=1;this.Ye=q[16];this.Oe=0;this.nF=!0;this.Yc=e.A(e.Rect);this.Iq=e.A(e.Rect);this.cQ=[];this.Yi=[];this.Lx=[];this.SO=new Map;this.F=[];this.sn=this.YG=!1;this.La=e.A(e.qj,this,q[15]);this.tq=null;this.BF=[];this.Hy=!1;this.k7=e.A(e.Rect,0,0,-1,-1);this.M6=e.A(e.Rect,0,0,-1,-1);this.X6=new self.MV(this);this.UN();this.oo&&(this.tq=e.A(e.IY,this.g.pe,this.g.oe));for(const u of q[14])n=this.g.He(u[1]),this.Og.FL(n),n.Lp||n.OK(u),this.Yi.push(u),this.SO.set(u[2],u);e.Dc(this.cQ,this.Yi)}static Na(n,
t,q){return e.A(e.ZB,n,t,q)}j(){this.g=this.Og=null}JU(n){return this.SO.get(n)}wS(n){const t=this.Og.Nn;let q=0;const u=this.Yi;for(let A=0,y=u.length;A<y;++A){var v=u[A];const E=this.g.He(v[1]);let x=!0;if(!E.DB()||t)v=this.g.ih(v,this,!0),n.push(v),E.Nf()&&(x=!1,this.Lx.push(v.Bc));x&&(u[q]=u[A],++q)}e.De(u,q);this.g.Bd();this.Uf()}Bg(n,t){const q=n.m();if(q.aa()!==this)throw Error("instance added to wrong layer");this.F.push(n);0!==q.Lb()&&(this.sn=!0);t&&this.oo&&n.m().Fa();this.Uf()}r3(n){this.F.includes(n)||
(this.F.push(n),0!==n.m().Lb()&&(this.sn=!0),this.Uf())}h4(n){const t=n.m();if(t.aa()!==this)throw Error("instance added to wrong layer");this.F.unshift(n);0!==t.Lb()&&(this.sn=!0);this.Uf()}jn(n,t){const q=this.F.indexOf(n);0>q||(t&&this.oo&&n.m().jN(),this.F.splice(q,1),this.Uf(),this.RM())}yN(){this.sn=!0}RM(){0===this.F.length&&(this.sn=!1)}ND(n){if(n){n=new Set;for(var t of this.F){var q=t.m().mj;0<=q&&n.add(q)}t=-1;for(const u of this.F)if(q=u.m(),!(0<=q.mj)){for(++t;n.has(t);)++t;q.ix(t)}}this.F.sort(l)}G1(){for(const n of this.F)n.G().Nf()||
this.g.zm(n);this.g.Bd();e.D(this.F);this.sn=!1;this.Uf()}Wr(n,t,q,u,v){const A=this.g.ga(),y=this.g.xc,E=n.Ra,x=[];for(const M of this.Yi){var F=M[0];if(t.bf(F[0],F[1])){F=y[M[1]];if(F!==n)if(E){if(!n.HI(F))continue}else continue;F=this;var I=this.g.Oa();this.Hf()!==I&&((F=I.cJ(this.V))||(F=I.Cv(this.xa())));I=this.g.ih(M,F,!1,void 0,void 0,!1,v);F.JC(I);F=I.m();F.ew(q,u);F.Fa();A.ae(!0);I.kx();A.ae(!1);x.push(I)}}return x}Hf(){return this.Og}xa(){return this.Ma}H(){return this.g}uj(){return this.g.uj()}LZ(){this.Hy=
!1}pd(){return this.Ny}yg(n){n=!!n;this.Ny!==n&&(this.Ny=n,this.g.ca())}pJ(n,t){var q=this.Iq;if(0===n)t.wa(q);else{const u=this.rv(n);n=q.Ik();const v=q.Jk(),A=.5*q.width()/u;q=.5*q.height()/u;t.set(n-A,v-q,n+A,v+q)}}If(){return this.Wa.Qa}Mj(n){n=e.ia(n,0,1);this.Wa.Qa!==n&&(this.Wa.jA(n),this.UN(),this.g.ca())}UN(){this.lz.wa(this.Wa);this.lz.GH()}qB(){return this.lz}bl(){return this.Wa.wu(1,1,1,1)}NZ(n){this.gi!==n&&(this.gi=n,this.g.ca())}HZ(n,t){if(this.qe!==n||this.re!==t)if(this.qe=n,this.re=
t,this.g.ca(),1!==this.qe||1!==this.re)for(const q of this.F)q.G().HD(!0)}Oj(n){n=+n;this.Ye!==n&&(this.Ye=n,this.g.ca())}Lb(){return this.Ye}qd(n){this.Oe=e.xd(n)}Ea(){return this.nF?e.xd(this.Og.Ea()+this.Oe):0}AV(){return 0<this.F.length}WZ(n){this.Nl=!!n}uZ(n){this.pF=!!n}kf(n){this.Bl!==n&&(this.Bl=n,this.g.ca())}qg(){return this.Bl}VW(n){return this===n||this.qe===n.qe&&this.re===n.re&&this.Jc===n.Jc&&this.gi===n.gi&&this.Oe===n.Oe}u4(n){0!==n.size&&0<e.ng(this.F,n)&&(this.RM(),this.Uf())}Uf(){this.Hy=
this.YG=!1}nx(){if(!this.YG){this.F.sort(p);if(this.oo)for(let n=0,t=this.F.length;n<t;++n){const q=this.F[n].m();q.ix(n);this.tq.qX(q.Qt)}else for(let n=0,t=this.F.length;n<t;++n)this.F[n].m().ix(n);this.YG=!0}}uX(n,t,q){var u=n.m();t=t.m();if(u.aa()!==this||t.aa()!==this)throw Error("can't arrange Z order unless both objects on this layer");u=u.qh();t=t.qh();if(u===t+(q?1:-1))return!1;e.b8(this.F,u);u<t&&t--;q&&t++;t===this.F.length?this.F.push(n):this.F.splice(t,0,n);this.Uf();return!0}z3(n,t){const q=
[];let u=0,v=0,A=n.length,y=t.length;for(;u<A&&v<y;){const E=n[u],x=t[v];E.m().mj<x.m().mj?(q.push(E),++u):(q.push(x),++v)}for(;u<A;++u)q.push(n[u]);for(;v<y;++v)q.push(t[v]);return q}y3(n){const t=[],q=n.length;for(let u=0;u<q-1;u+=2)t.push(this.z3(n[u],n[u+1]));1===q%2&&t.push(n[q-1]);return t}x3(n){for(;1<n.length;)n=this.y3(n);return n[0]}o2(){this.nx();e.D(g);this.tq.jw(this.Yc,g);return g.length?1===g.length?g[0]:this.x3(g):[]}N2(){return!this.Fw()&&!this.Nl}jL(){return this.pd()&&0<this.If()&&
(this.AV()||!this.Nl)}Fw(){return this.pF||!this.bl()||0!==this.qg()||this.La.Nr()}Hr(){return this.El}q0(n){if(0===n.length)return!0;if(2<=n.length)return!1;n=n[0].bb;return!n.hl()&&!n.mu&&!n.BE&&this.bl()}rv(n){const t=this.YA();return t/(t-n)}YA(){return 100/this.Ai()}MD(n){const t=this.g.Cj();var q=(this.Yc.Ik()+0)*t;const u=(this.Yc.Jk()+0)*t,v=this.YA();n.uw(q,u,v);n.xw(q,u,v-100);q=this.Ea();0===q?k.set(h,0,1,0):k.set(h,Math.sin(q),Math.cos(q),0);n.lw(h);n.$Y(t,t);n.qs()}df(n,t,q){const u=
this.g.Y,v=this.Fw();var A=null;let y=null;if(this.g.EJ()&&n.Ni()){const E=u.TU(this);E&&(y=E.aI(),n.mL(y))}v?(A={oi:this.g.hd},"low"===u.Vi&&(A.width=u.xj(),A.height=u.wj()),A=this.g.tr(A),n.Ne(A),this.Nl&&n.ir()):n.Ne(t);this.Nl||n.Zc(this.Os);this.El=A||t;this.MD(n);n.rw(this.Lb());this.Ai()>Number.EPSILON&&(this.nx(),this.oo&&0===this.Lb()&&!this.sn?this.x1(n):this.dM(n,this.F));n.rw(0);n.ol(0);n.uw(0,0,100);n.xw(0,0,0);v&&this.y1(n,A,t,q);y&&n.EI(y);this.El=null}dM(n,t){const q=this.Yc,u=this.El;
let v=null;for(let A=0,y=t.length;A<y;++A){const E=t[A];if(E===v)continue;v=E;const x=E.m();x.pd()&&x.GJ(q)&&(x.Nr()?this.v1(E,x,n,u):this.t1(E,x,n))}}x1(n){var t=this.tq;const q=this.M6,u=this.k7,v=this.Yc;q.set(t.yh(v.L),t.zh(v.J),t.yh(v.T),t.zh(v.N));this.Hy&&q.Nc(u)?t=this.BF:(t=this.o2(),this.Hy=!0,u.wa(q));this.dM(n,t);t!==this.BF&&e.Dc(this.BF,t)}t1(n,t,q){t=t.fo;q.Oh!==t&&t.FR();n.df(q)}v1(n,t,q,u){this.u1(n,t,q,u)&&this.MD(q)}u1(n,t,q,u){const v=t.Vd.Dh;if(1===v.length){const A=v[0],y=A.bb;
if(!y.t7&&t.bl()&&!n.hl())return this.w1(n,t,A,y,q),!1}n=e.hC(q,this.g,n,u,v,null);q.rw(this.Lb());return n}w1(n,t,q,u,v){v.rl(u);v.kf(t.qg());u.tx&&this.g.ca();let A=0,y=0;if(u.P7){const [E,x]=n.vv();A=1/E;y=1/x;(u=n.wv())?d.wa(u):d.set(0,0,0,0)}q=t.Vd.Gf(q.xa());v.ol(t.Lb());v.mp(null,c,d,d,t.zb(),A,y,this.Jc,this.Ea(),this.g.rg(),q);n.df(v)}y1(n,t,q,u){const v=this.La.Dh,A=this.g;if(this.q0(v)){n.Ne(q);if(1===v.length){var y=v[0];q=y.bb;n.rl(q);d.set(0,0,1,1);y=this.La.Gf(y.xa());n.mp(null,c,d,
d,this.Yc,1/A.xj(),1/A.wj(),this.Ai(),this.Ea(),A.rg(),y);q.tx&&A.ca()}else n.xh();u&&0===this.Bl&&this.bl()&&0===v.length?n.HA(t):(n.kf(this.Bl),n.ml(this.lz),n.jr(t));n.Mm(t);A.kl(t)}else e.hC(n,A,this,q,v)}GZ(n){this.Jc!==n&&(this.Jc=n,this.Og.Ru(),this.g.ca())}Cj(){return this.Ai()*this.g.Cj()}vj(){return this.Ai()*this.g.vj()}Ai(){return(this.Jc*this.Og.Jc-1)*this.gi+1}QC(){this.nF=!1;let [n,t]=this.ri(0,0);this.nF=!0;this.g.Ll&&(n=Math.round(n),t=Math.round(t));var q=1/this.Ai();const u=this.Iq;
u.set(n,t,n+this.g.ni*q,t+this.g.mi*q);q=this.Ea();0!==q&&(b.wa(u),b.offset(-u.Ik(),-u.Jk()),a.x9(b,q),a.mH(b),b.offset(u.Ik(),u.Jk()),u.wa(b));this.pJ(this.Ye,this.Yc)}ri(n,t,q=0){return this.t0(n,t,q,this.vj())}t0(n,t,q,u){var v=this.g.$F,A=this.g.aG;v=(this.Og.wk-v)*this.qe+v;A=(this.Og.xk-A)*this.re+A;var y=this.Ai();n=v-this.g.ni/y/2+n/u;t=A-this.g.mi/y/2+t/u;y=this.Ea();if(0!==y){n-=v;t-=A;u=Math.cos(y);y=Math.sin(y);const E=n*u-t*y;t=t*u+n*y;n=E;n+=v;t+=A}0!==q&&(v=this.Iq.Ik(),A=this.Iq.Jk(),
q=this.rv(q),n=(n-v)/q+v,t=(t-A)/q+A);return[n,t]}YR(n,t){const q=this.Jc,u=this.gi,v=this.qe,A=this.re,y=this.Oe;this.re=this.qe=this.gi=this.Jc=1;this.Oe=0;n=this.ri(n,t);this.Jc=q;this.gi=u;this.qe=v;this.re=A;this.Oe=y;return n}To(n,t){return this.IM(n,t,0,this.vj())}Uo(n,t,q=0){return this.IM(n,t,q,this.Cj()*this.uj())}IM(n,t,q,u){const v=this.g;var A=this.Og;if(0!==q){var y=this.Iq.Ik(),E=this.Iq.Jk();q=this.rv(q);n=(n-y)*q+y;t=(t-E)*q+E}y=v.$F;E=v.aG;y=(A.wk-y)*this.qe+y;A=(A.xk-E)*this.re+
E;q=this.Ea();if(0!==q){n-=y;t-=A;E=Math.cos(-q);q=Math.sin(-q);const x=n*E-t*q;t=t*E+n*q;n=x;n+=y;t+=A}E=this.Ai();return[(n-(y-v.ni/E/2))*u,(t-(A-v.mi/E/2))*u]}ja(){return{s:this.Jc,a:this.Oe,vl:this.Yc.L,vt:this.Yc.J,vr:this.Yc.T,vb:this.Yc.N,v:this.pd(),bc:this.Os.toJSON(),t:this.Nl,px:this.qe,py:this.re,c:this.Wa.toJSON(),sr:this.gi,fx:this.La.ed(),cg:this.Lx}}qa(n){this.Jc=n.s;this.Oe=n.a;this.Yc.set(n.vl,n.vt,n.vr,n.vb);this.Ny=!!n.v;this.Os.Nk(n.bc);this.Nl=!!n.t;this.qe=n.px;this.re=n.py;
this.Wa.Nk(n.c);this.gi=n.sr;e.Dc(this.Lx,n.cg);e.Dc(this.Yi,this.cQ);const t=new Set(this.Lx);let q=0;for(let u=0,v=this.Yi.length;u<v;++u)t.has(this.Yi[u][2])||(this.Yi[q]=this.Yi[u],++q);e.De(this.Yi,q);this.La.Rc(n.fx);this.ND(!1);this.Uf()}JC(n){if(!this.F.includes(n))if(n.Je()){const t=[...n.km()];t.push(n);t.sort((q,u)=>{q=q.m().oG;u=u.m().oG;return q-u});for(const q of t)this.Bg(q,!0)}else this.Bg(n,!0)}}}"use strict";
{const e=self.B,b=self.pi,a=e.A(e.Rect),g=e.A(e.Rect),c=e.A(e.Rect);e.MJ=class extends e.${constructor(d,k,h){super();this.$a=d;this.g=d.H();this.V=h[0];this.B7=h[1];this.A7=h[2];this.R=h[1];this.O=h[2];this.aP=!!h[3];this.oO=h[4];this.hc=null;this.Ya=h[5];this.Ma=k;this.xk=this.wk=0;this.Jc=1;this.Oe=0;this.Vp=new Set;this.jg=new Set;this.du=new Set;this.Gp=[];this.fF=[];this.Hc=[];this.pP=new Map;this.qP=new Map;this.La=e.A(e.qj,this,h[8]);this.El=null;this.Xn={};this.Nn=!0;this.ft=new self.NV(this);
this.Ld=e.A(e.Event.Db);for(const l of h[6])d=e.ZB.Na(this,this.Hc.length,l),this.Hc.push(d),this.pP.set(d.V.toLowerCase(),d),this.qP.set(d.Ya,d);for(const l of h[7]){h=this.g.He(l[1]);if(!h)throw Error("missing nonworld object class");h.Lp||h.OK(l);this.fF.push(l);this.FL(h)}}j(){for(const d of this.Hc)d.j();e.D(this.Hc);this.du.clear();this.g=this.$a=this.hc=null}H(){return this.g}xa(){return this.Ma}eJ(){let d=this.Hc[0].Ai();for(let k=1,h=this.Hc.length;k<h;++k){const l=this.Hc[k];if(0!==l.qe||
0!==l.re)d=Math.min(d,l.Ai())}return d}gs(d){if(!this.aP){const k=1/this.eJ()*this.g.ni/2;d>this.R-k&&(d=this.R-k);d<k&&(d=k)}this.wk!==d&&(this.wk=d,this.g.ca())}hs(d){if(!this.aP){const k=1/this.eJ()*this.g.mi/2;d>this.O-k&&(d=this.O-k);d<k&&(d=k)}this.xk!==d&&(this.xk=d,this.g.ca())}Ru(){this.gs(this.wk);this.hs(this.xk)}dL(d){d=+d;this.Jc!==d&&(this.Jc=d,this.Ru())}qd(d){this.Oe=e.xd(d)}Ea(){return this.Oe}ea(){return this.R}pf(d){!isFinite(d)||1>d||(this.R=d)}da(){return this.O}lf(d){!isFinite(d)||
1>d||(this.O=d)}aa(d){return"number"===typeof d?this.Cv(d):this.cJ(d.toString())}Cv(d){d=e.ia(Math.floor(d),0,this.Hc.length-1);return this.Hc[d]}cJ(d){return this.pP.get(d.toLowerCase())||null}Dv(d){return this.qP.get(d)||null}CV(){for(const d of this.Hc)if(d.jL())return d.N2();return!1}sM(){return[...this.Vp]}FL(d){if(d.pc())for(const k of d.Lh.pk)this.Vp.add(k);else this.Vp.add(d)}r2(){return[...this.jg]}pD(d,k){if(d===this||!k)return Promise.resolve();d&&(e.rS(this.jg,d.jg),d.jg.clear());d=[];
for(const h of this.Vp)this.jg.has(h)||(d.push(h.Vo(k)),this.jg.add(h));return Promise.all(d)}async SJ(d){if(d.Ra)throw Error("cannot load textures for family");var k=this.g.Cd();!k||k.Om()||this.jg.has(d)||(this.jg.add(d),k=d.Vo(k),this.d0(k),await k,d.gw(),this.g.ca())}d0(d){this.du.add(d);d.then(()=>this.du.delete(d)).catch(()=>this.du.delete(d))}I_(){return Promise.all([...this.du])}tX(d){if(d.Ra||0<d.F.length)throw Error("cannot unload textures");this.g.Cd()&&this.jg.has(d)&&(this.jg.delete(d),
d.Ym())}i6(d,k){if(d!==this&&k)for(const h of this.jg)h.Nf()||d.Vp.has(h)||(h.Ym(),this.jg.delete(h))}Es(){this.jg.clear()}async LN(d){const k=this.g,h=this.$a,l=k.ga();this.oO&&(this.hc=l.VI(this.oO),this.hc.RD());h.CN(this);this.R=this.B7;this.O=this.A7;this.wk=k.pe/2;this.xk=k.oe/2;this.Ru();this.A3(d);this.G0();this.Nn||this.I0();this.QL(this.Gp);this.H0();h.dS();k.Bd();const p=this.g.v6;await Promise.all(p);e.D(p);if(!k.aj){for(const n of this.Gp)n.a_();for(const n of this.Gp)n.MN()}e.D(this.Gp);
await Promise.all([...this.Vp].map(n=>n.eC(this.g.Cd())));d&&(k.Db().dispatchEvent(new e.Event("beforefirstlayoutstart")),await k.Am(new e.Event("beforeprojectstart")));await this.Am(new e.Event("beforelayoutstart"));k.aj||await k.je(e.C.Xa.K.aK,null,null);await this.Am(new e.Event("afterlayoutstart"));d&&(k.Db().dispatchEvent(new e.Event("afterfirstlayoutstart")),await k.Am(new e.Event("afterprojectstart")));l.Q4(h);await this.I_();this.Nn=!1}A3(d){for(const h of this.g.xc)if(!h.Ra&&h.vf)for(const l of h.ba()){const p=
l.m();var k=p.aa();k=e.ia(k.xa(),0,this.Hc.length-1);k=this.Hc[k];p.Hs(k);k.r3(l)}if(!d)for(const h of this.Hc)h.ND(!1)}G0(){for(const d of this.Hc)d.wS(this.Gp),d.QC()}I0(){let d=!1;for(const [h,l]of Object.entries(this.Xn)){const p=this.g.Ev(parseInt(h,10));if(p&&!p.Ra&&p.DB()){for(const n of l){var k=null;if(p.vf&&(k=this.Dv(n.w.l),!k))continue;k=this.g.ih(p,k,!1,0,0,!0);k.Rc(n);d=!0;this.Gp.push(k)}e.D(l)}}for(const h of this.Hc)h.ND(!0),h.Uf();d&&(this.g.Bd(),this.g.fN())}QL(d){for(const h of d){if(!h.pc())continue;
const l=h.m(),p=h.Fm();for(const n of h.G().Lh.pk)if(n!==h.G()){var k=n.ba();k.length>p?h.qp(k[p]):(k=l?this.g.ih(n,l.aa(),!0,l.la(),l.ma(),!0):this.g.ih(n,null,!0,0,0,!0),this.g.Bd(),n.lx(),h.qp(k),d.push(k))}}}H0(){for(const d of this.fF)this.g.He(d[1]).pc()||this.g.ih(d,null,!0)}E0(){const d=[],k=this.fF;let h=0;for(let l=0,p=k.length;l<p;++l){const n=k[l],t=this.g.He(n[1]);t.Nf()?t.pc()&&t.Lh.wV()||d.push(this.g.ih(n,null,!0)):(k[h]=n,++h)}e.De(k,h);this.g.Bd();this.QL(d)}Wr(d,k,h,l,p,n){if(h)return h.Wr(d,
k,l,p,n);h=[];for(const t of this.Hc)h.push(t.Wr(d,k,l,p,n));return h.flat()}async Z5(){const d=this.$a;this.g.aj||await this.g.je(e.C.Xa.K.SX,null,null);d.XK(!0);this.g.ga().Wu();this.Nn||this.a5();for(const k of this.Hc)k.G1();for(const k of this.g.xc)if(!(k.Nf()||k.vf||k.Ab().Ml||k.Ra)){for(const h of k.ba())this.g.zm(h);this.g.Bd()}d.XK(!1);d.Kb()===this&&d.CN(null)}Y4(d){const k=d.G().Ya.toString();this.Xn.hasOwnProperty(k)||(this.Xn[k]=[]);this.Xn[k].push(d.ed())}a5(){for(const d of this.Hc){d.nx();
for(const k of d.F){const h=k.G();!h.Nf()&&h.DB()&&this.Y4(k)}}}PY(){this.Xn={};this.Nn=!0}Hr(){return this.El}Fw(){return"low"===this.g.Y.Vi||this.g.SG||"low-latency"===this.g.Fp||this.La.Nr()}r0(d){return 0===d.length?!0:2<=d.length?!1:!d[0].bb.hl()}df(d){var k=this.g.Y;const h=this.Fw();var l=null;h?("low-latency"!==this.g.Fp&&(d.Ne(null),d.ir()),l={oi:this.g.hd,JH:this.g.SG||this.La.Nr()},"low"===k.Vi&&(l.width=k.xj(),l.height=k.wj()),l=this.g.tr(l),d.Ne(l)):d.Ne(null);this.CV()||d.ir();this.El=
l;k=!0;for(const p of this.Hc)p.QC(),p.jL()&&(p.df(d,l,k),k=!1);h&&this.z1(d,l);this.El=null}z1(d,k){const h=this.La.Dh,l=this.g;if(this.r0(h)){d.Ne(null);if(1===h.length){var p=h[0];const n=p.bb;d.rl(n);g.set(0,0,1,1);c.set(0,0,l.ni,l.mi);p=this.La.Gf(p.xa());d.mp(null,a,g,g,c,1/l.xj(),1/l.wj(),this.Jc,this.Ea(),l.rg(),p);n.tx&&l.ca()}else d.xh();0===h.length?d.HA(k):(d.pC(),d.cp(),d.jr(k));d.Mm(k);l.kl(k)}else e.hC(d,l,this,null,h)}ja(){const d={sx:this.wk,sy:this.xk,s:this.Jc,a:this.Ea(),w:this.ea(),
h:this.da(),fv:this.Nn,persist:this.Xn,fx:this.La.ed(),layers:{}};for(const k of this.Hc)d.layers[k.Ya.toString()]=k.ja();return d}qa(d){this.wk=d.sx;this.xk=d.sy;this.Jc=d.s;this.Oe=d.a;this.R=d.w;this.O=d.h;this.Nn=!!d.fv;this.Xn=d.persist;this.La.Rc(d.fx);for(const [k,h]of Object.entries(d.layers))(d=this.Dv(parseInt(k,10)))&&d.qa(h)}og(d){d.Bf=this.ft;var k=this.g;(k=k.ub&&!k.ga().Wv())&&b.MC();this.Ld.dispatchEvent(d);k&&b.wA()}Am(d){d.Bf=this.ft;return this.Ld.hH(d)}}}"use strict";
{const e=self.B;e.bX=class extends e.${constructor(b){super();this.g=b;this.Fh=[];this.IF=new Map;this.JF=new Map;this.Et=null;this.lG=[];this.Zx=null;this.Ay=0;this.Jt=null}j(){this.Jt=this.Zx=this.Et=this.g=null;e.D(this.Fh);this.IF.clear();this.JF.clear();e.D(this.lG)}Na(b){b=e.A(e.MJ,this,this.Fh.length,b);this.Fh.push(b);this.IF.set(b.V.toLowerCase(),b);this.JF.set(b.Ya,b)}H(){return this.g}tZ(b){this.Zx=b}BU(){if(this.Zx)return this.Zx;if(this.Fh.length)return this.Fh[0];throw Error("no first layout");
}Io(b){return this.IF.get(b.toLowerCase())||null}nB(b){return this.JF.get(b)||null}UU(b){b=e.ia(Math.floor(b),0,this.Fh.length-1);return this.Fh[b]}Hf(b){return"number"===typeof b?this.UU(b):this.Io(b.toString())}CN(b){this.Et=b}Kb(){return this.Et}*Ku(){this.Et&&(yield this.Et);this.lG.length&&(yield*this.lG)}XK(b){if(b)this.Ay++;else{if(0>=this.Ay)throw Error("already unset");this.Ay--}}CJ(){return 0<this.Ay}Vu(b){this.Jt=b}dS(){this.Jt=null}Ro(){return!!this.Jt}}}"use strict";
{const e=self.B;class b{constructor(){this.mc=this.Ce=null;this.$q=this.br=this.ah=this.Hk=0;this.Wq=new e.Rect;this.Kk=new e.Rect;this.um=new e.Rect;this.Iu=new e.Rect;this.Xq=new e.Rect;this.clearRect=new e.Rect;this.nA=new e.Rect;this.CQ=[null,null];this.rm=0;this.so=1;this.Uq=this.Vq=this.Oq=this.Nq=0;this.Lk=this.cf=this.zd=this.Ad=this.Bf=null;this.Wz=this.EH=this.gA=!1;this.fA=null}Zc(){this.fA=this.Lk=this.cf=this.zd=this.Ad=this.Bf=this.mc=this.Ce=null}c_(h){h=h.bb;if(h.hl())return!0;if(this.zd)return h.mu&&
(0!==this.cf.Ea()||0>this.cf.ea()||0>this.cf.da())||0!==this.Nq||0!==this.Oq||!this.cf.bl()||this.zd.hl();if(this.Ad)return!this.Ad.bl()}b_(h){h=h.bb;return h.mu||h.BE||this.Bf&&"low"===this.mc.Y.Vi}Ho(h){if(0!==h&&1!==h)throw Error("invalid effect target");const l=this.CQ;if(!l[h]){var p=this.mc;const n=p.Y;p={oi:p.hd};"low"===n.Vi&&(p.width=n.xj(),p.height=n.wj());l[h]=n.tr(p)}return l[h]}zY(){const h=this.CQ,l=this.mc.Y;h[0]&&(l.kl(h[0]),h[0]=null);h[1]&&(l.kl(h[1]),h[1]=null)}}const a=[];let g=
0;const c=new e.ie;let d=!1;async function k(h,l,p){l=await e.oa.SC.DS(l,p);l=URL.createObjectURL(l);console.log("[FX] "+h+" "+(p?"":" [to display]")+": ",l)}e.hC=function(h,l,p,n,t,q){g===a.length&&a.push(new b);var u=a[g++];u.Ce=h;u.mc=l;if(p instanceof e.Instance)u.zd=p,u.cf=u.zd.m();else if(p instanceof e.ZB)u.Ad=p;else if(p instanceof e.MJ)u.Bf=p;else throw Error("invalid effects object");p=l.Y;u.Lk=n;u.Hk=p.xj();u.ah=p.wj();u.br=u.Hk;u.$q=u.ah;u.rm=0;u.so=1;u.Nq=0;u.Oq=0;u.Xq.set(0,0,u.Hk,u.ah);
u.clearRect.set(0,0,u.Hk,u.ah);u.Wz=!1;u.fA=q;u.zd?(n=u.cf,u.Vq=n.aa().Cj(),u.Uq=n.aa().Ea(),u.Wq.wa(n.zb())):u.Ad?(n=u.Ad,u.Vq=n.Cj(),u.Uq=n.Ea(),u.Wq.wa(n.Yc)):(n=u.Bf,u.Vq=n.Jc,u.Uq=n.Ea(),u.Wq.set(0,0,u.Hk,u.ah));if(u.zd){{for(let O=0,Q=t.length;O<Q;++O)n=t[O].bb,u.Nq+=n.pO,u.Oq+=n.qO;var v=u.cf;n=v.aa();q=n.Ea();p=v.zb();v=v.Kf();let [x,F]=n.Uo(p.L,p.J,v),[I,M]=n.Uo(p.T,p.N,v);if(0!==q){const [O,Q]=n.Uo(p.T,p.J,v),[T,aa]=n.Uo(p.L,p.N,v);n=Math.min(x,I,O,T);I=Math.max(x,I,O,T);x=n;n=Math.min(F,
M,Q,aa);M=Math.max(F,M,Q,aa);F=n}n=u.Xq;q=u.Iu;p=u.um;v=u.clearRect;var A=u.Kk;n.set(x,F,I,M);n.OH(u.ah);q.wa(n);q.Gk(u.br,u.$q);q.vo();n.bA(u.Nq,u.Oq);p.wa(n);p.Gk(u.br,u.$q);p.vo();v.wa(n);v.t9();v.bA(u.Nq+1,u.Oq+1);n.ia(0,0,u.Hk,u.ah);v.ia(0,0,u.Hk,u.ah);A.wa(n);A.Gk(u.br,u.$q);A.vo()}}else u.Kk.set(0,0,u.Hk/u.br,u.ah/u.$q),u.um.wa(u.Kk),u.Iu.wa(u.Kk),u.Kk.vo(),u.um.vo(),u.Iu.vo();h.pC();h.cp();h.rw(0);h.ol(0);u.gA=u.c_(t[0]);u.gA&&(n=u.Ce,n.xh(),q=u.Ho(u.rm),n.Ne(q),(p=u.fA)&&p.FH&&p.FH(),n.FA(u.clearRect),
u.zd?(n.ml(u.cf.qB()),n.ol(u.cf.Kf()),u.zd.df(n),n.ol(0)):(p=(u.Ad||u.Bf).Hr(),u.Ad?n.ml(u.Ad.qB()):n.cp(),n.jr(p),n.Mm(p),u.mc.Y.kl(p)),u.um.sQ(),u.rm=1,u.so=0,d&&k("Pre-draw",n,q));h.cp();n=t.length-1;u.EH=u.b_(t[n]);for(let x=0,F=t.length;x<F;++x){p=t[x];q=p.bb;h.rl(q);q.tx&&l.ca();if(0!==x||u.gA){h.NK();var y=void 0,E=void 0;q=u;y=p;E=x===n&&!u.EH;p=x;v=q.Ce;A=q.mc;0===p&&q.gA&&q.zd&&q.Xq.OH(q.ah);E?(q.zd?v.kf(q.cf.qg()):q.Ad&&v.kf(q.Ad.qg()),E=q.Lk,v.Ne(E)):(E=q.Ho(q.rm),v.Ne(E),v.FA(q.clearRect));
y=q.zd?q.cf.Vd.Gf(y.xa()):(q.Ad||q.Bf).La.Gf(y.xa());v.mp(q.Lk,q.um,q.Kk,q.Iu,q.Wq,1/q.br,1/q.$q,q.Vq,q.Uq,A.rg(),y);y=q.Ho(q.so);v.nf(y.Ie());A.Y.rC(v);q.Wz=!0;c.Ok(q.Xq);v.jl(c,q.Kk);q.zd||v.Mm(y);d&&k("Bounce "+p,v,E)}else{q=u;E=p;p=q.Ce;v=q.mc;A=q.Ho(q.rm);p.Ne(A);(y=q.fA)&&y.FH&&y.FH();p.FA(q.clearRect);if(q.zd){const [I,M]=q.zd.vv();(y=q.zd.wv())?q.nA.wa(y):q.nA.set(0,0,0,0);E=q.cf.Vd.Gf(E.xa());p.mp(q.Lk,q.um,q.nA,q.nA,q.Wq,1/I,1/M,q.Vq,q.Uq,v.rg(),E);p.ol(q.cf.Kf());q.zd.df(p);p.ol(0);q.um.sQ();
q.Xq.OH(q.ah)}else E=(q.Ad||q.Bf).La.Gf(E.xa()),p.mp(q.Lk,q.um,q.Kk,q.Iu,q.Wq,1/q.Hk,1/q.ah,q.Vq,q.Uq,v.rg(),E),q=(q.Ad||q.Bf).Hr(),d&&k("Layer target",p,q),p.jr(q),p.Mm(q),v.Y.kl(q);d&&k("First bounce",p,A)}0===u.rm?(u.rm=1,u.so=0):(u.rm=0,u.so=1)}u.EH&&(h=u.Ce,u.Bf?(h.xh(),h.Ne(u.Lk),l=u.Ho(u.so),h.HA(l),h.Mm(l)):(l=u.mc.Y,"low"===l.Vi?(h.xh(),l.rC(h,l.xj(),l.wj()),u.Wz=!0):h.nZ(),u.zd?h.kf(u.cf.qg()):u.Ad&&h.kf(u.Ad.qg()),h.Ne(u.Lk),l=u.Ho(u.so),h.nf(l.Ie()),c.Ok(u.Xq),h.jl(c,u.Kk),u.zd||h.Mm(l),
d&&k("Post-draw",h,u.Lk)));h=u.Wz;u.zY();u.Zc();g--;d=!1;return h}}"use strict";
{const e=self.B;e.s_=class extends e.${constructor(b){super();this.g=b;this.gu=e.A(e.Vf);this.C7=null;this.Zl=[];this.hu=new Map;this.nk=new Map;this.$l=new Map;this.fg=[];this.wf=[];this.qt=this.Dp=this.Gn=!1;this.zk=()=>this.W3();this.Cq=()=>this.zD();this.mE=()=>this.Zw();this.HF=()=>this.C3();this.jF=a=>this.YM(a.instance);this.bE=()=>this.wD();this.Ys=[]}j(){this.EY();this.bE=this.jF=this.HF=this.mE=this.Cq=this.zk=null;for(const b of this.Zl)b.Ag(),b.j();e.D(this.Zl);this.Zl=null;this.gu.j();
this.gu=null;e.D(this.fg);this.fg=null;e.D(this.wf);this.wf=null;this.hu.clear();this.hu=null;this.nk.clear();this.nk=null;this.$l.clear();this.$l=null;e.D(this.Ys);this.g=this.Ys=null}zR(){const b=this.g.Db();b.addEventListener("pretick",this.zk);b.addEventListener("tick2",this.Cq);b.addEventListener("beforelayoutchange",this.mE);b.addEventListener("layoutchange",this.HF);b.addEventListener("instancedestroy",this.jF);b.addEventListener("afterload",this.bE)}EY(){const b=this.g.Db();b.removeEventListener("pretick",
this.zk);b.removeEventListener("tick2",this.Cq);b.removeEventListener("beforelayoutchange",this.mE);b.removeEventListener("layoutchange",this.HF);b.removeEventListener("instancedestroy",this.jF);b.removeEventListener("afterload",this.bE)}Na(b){this.gu.Ec(b);b=e.Dd.vS(b,this);this.Ec(b);this.OZ(b);this.$l.set(b.V,0)}IA(b){b=b.$d.V;var a=this.gu.W(b);a=e.Dd.IA(`${b}:${this.$l.get(b)}`,a,this);this.DM(b);this.Ec(a);return a}DM(b){this.$l.set(b,this.$l.get(b)+1)}t5(){for(const b of this.Zl)b.Yp||this.DM(b.$d.V)}w0(){for(const b of this.$l.keys())this.$l.set(b,
0)}Ec(b){this.Zl.push(b);this.hu.set(b.V.toLowerCase(),b)}wg(b){b.Yp||(e.ro(this.Zl,b),e.ro(this.fg,b),e.ro(this.wf,b),this.hu.delete(b.V.toLowerCase()),this.FY(b),b.Ug||b.j())}Ja(b){this.g.Ja(b,this.C7,null)}H(){return this.g}fL(b,a){this.nk.has(b)||this.nk.set(b,new Set);this.nk.get(b).add(a)}OZ(b){for(const a of b.fJ())this.fL(a,b)}FY(b){for(const [a,g]of this.nk.entries())g.has(b)&&(g.delete(b),0===g.size&&this.nk.delete(a))}kV(b){if(this.nk.has(b))return this.nk.get(b)}Iv(b){return this.hu.get(b.toLowerCase())||
null}DY(b){e.ro(this.wf,b);this.Bs()}HK(b){this.wf.includes(b)?(b.cs(!0),b.es(!1),b.xC(!1)):(b.cs(!1),b.es(!0),b.xC(!1),this.fg.includes(b)||this.fg.push(b));this.PM()}dv(b){b.cs(!1);b.es(!1);b.kC();e.ro(this.fg,b);this.Bs()}$u(b){b.cs(!1);b.es(!1);b.xC(!0)}oS(b){this.$u(b);b.kC()}W3(){if(!this.H().aj&&this.Gn&&!this.Dp){var b=!1;for(this.qt=!0;this.fg.length;){var a=this.fg.pop();a.Tc();this.wf.push(a)}a=this.g.Cr();var g=this.g.ue;for(const c of this.wf){if(c.iq)continue;const d=c.Pd(a,g);!b&&d&&
(b=!0)}this.qt=!1;b&&this.H().ca()}}zD(){if(!this.H().aj&&this.Gn&&!this.Dp){var b;for(const a of this.wf)a.iq&&(b||(b=new Set),this.QM(a),b.add(a));b&&e.ng(this.wf,b);this.Bs()}}QM(b){b.Ug||b.rJ()&&b.sf&&b.Jl&&b.JI()}PM(){this.Gn||(this.Gn=!0)}Bs(){this.wf.length||this.fg.length||this.qt||(this.Gn=!1)}Zw(){for(this.Dp=!0;this.fg.length;)this.dv(this.fg.pop());const b=new Set;for(const a of this.wf)a.Zw()&&b.add(a);e.ng(this.wf,b);this.Bs();for(const a of this.Zl)a.si()}C3(){this.Dp=!1}YM(b){var a=
b.G();if(a=this.kV(a))if(this.g.aj)this.Ys.push(b);else for(const g of a)g.Yp||(g.Ug?this.wg(g):g.rJ()||(this.QM(g),this.wg(g)))}wD(){for(const b of this.Ys)this.YM(b);e.D(this.Ys)}ja(){return{timelinesJson:this.f5(),scheduledTimelinesJson:this.d5(),playingTimelinesJson:this.b5(),hasRuntimeListeners:this.Gn,changingLayout:this.Dp,isTickingTimelines:this.qt}}qa(b){b&&(this.w0(),this.j3(b.timelinesJson),this.g3(b.scheduledTimelinesJson),this.e3(b.playingTimelinesJson),this.Gn=!b.hasRuntimeListeners,
this.Dp=!!b.changingLayout,this.qt=!!b.isTickingTimelines,this.t5(),this.PM(),this.Bs())}f5(){return this.Zl.map(b=>b.ja())}j3(b){for(const a of b){b=this.Iv(a.name);if(!b){b=this.q2(a);if(!b)continue;b=this.Iv(b);b=this.IA(b)}b.qa(a);b.GV()||this.wg(b)}}q2(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}d5(){return this.wN(this.fg)}g3(b){this.LM(b,this.fg)}b5(){return this.wN(this.wf)}e3(b){this.LM(b,this.wf)}O2(b,a){for(const g of a)if(g===b.V)return!0;return!1}wN(b){return b.map(a=>a.V)}LM(b,
a){var g=new Set;for(const c of a)this.O2(c,b)||g.add(c);e.ng(a,g);g=c=>d=>d.V===c;for(const c of b)(b=this.Iv(c))&&(a.find(g(c))||a.push(b))}}}"use strict";
{const e=self.B;e.Dd=class extends e.${constructor(b,a,g){super();this.g=g.H();this.rb=g;this.$d=a;this.V=b;this.Ib=[];for(const c of this.$d.Kv().J9())this.Ib.push(e.rL.Na(this,c));this.iz=this.Kt=null;this.Sl=e.A(e.Zv);this.Sl.Set(0);this.qk=1;this.fi=0;this.Nh=1;this.Jl=this.hk=this.Gy=!1;this.sf=!0;this.iq=this.Ug=!1;this.Ep=-1;this.Hl=this.En=this.Yp=this.ny=!1;this.kP=NaN;this.ig=[""];this.dQ="";this.CG=!1}static vS(b,a){const g=a.gu.W(b[0]);b=e.A(e.Dd,b[0],g,a);b.AZ();return b}static IA(b,
a,g){return e.A(e.Dd,b,a,g)}static get G_(){return 1}static get Ij(){return e.yH(1)}j(){if(!this.Ug){this.rb.dv(this);this.rb.oS(this);for(const b of this.Ib)b.j();e.D(this.Ib);this.Ib=null;this.Sl.j();this.$d=this.rb=this.g=this.Sl=null;this.Ug=!0;this.iz=this.Kt=null}}H(){return this.g}xB(b,a,g){const c=[];for(const d of this.Ib){if(b!==d.Ia())continue;const k=d.Bj(g);k&&a.constructor===k.Qc().constructor&&c.push(k)}return c}GV(){return!!this.Ib.length}yw(b){this.V=b}od(){return this.$d.od()}Jr(){return this.$d.Jr()}lh(){return this.$d.lh()}ph(){return this.$d.ph()}Li(b){for(const a of this.Ib)a.Li(b)}Jo(){return this.$d.Jo()}Lo(){return this.$d.Lo()}Xk(){return this.$d.Xk()}zw(b){this.qk=
b}vg(){return this.IsPlaying()?0<this.qk:!0}gJ(){this.Kt||(this.Kt=new Promise(b=>{this.iz=b}))}kC(){this.Kt&&(this.iz(),this.iz=this.Kt=null)}eL(b){this.ig=e.Dd.p2(b);this.CG=!0}dK(){e.C.rc.K.an(this);this.rb.Ja(e.C.rc.K.Lca);this.rb.Ja(e.C.rc.K.Mca);this.rb.Ja(e.C.rc.K.Nca);this.rb.Ja(e.C.rc.K.Dca);e.C.rc.K.an(null)}YJ(){this.Ep=this.g.fj}JI(){this.En||(this.En=!0,e.C.rc.K.an(this),this.rb.Ja(e.C.rc.K.Ica),this.rb.Ja(e.C.rc.K.Jca),this.rb.Ja(e.C.rc.K.Kca),this.rb.Ja(e.C.rc.K.Cca),e.C.rc.K.an(null))}cs(b){this.Gy=
b}yJ(){return this.Ep===this.g.fj}IsPlaying(b=!1){return this.yJ()||this.hk&&!b?!0:this.Gy}up(){return this.IsPlaying(!0)}es(b){this.hk=b}MK(b){this.sf=b;b=this.ya();if(0>=b||b>=this.od())this.sf=!0}xC(b){this.iq=b}wC(b){this.ny=b}AZ(){this.Yp=!0}ya(){return this.Sl.W()}np(b){const a=this.ya();this.Rd(b);this.MK(!1);this.sf||this.wC(!0);if(this.up()||this.hk||!this.Jl)this.up()||this.hk||this.Jl?this.up()?this.Ag():this.hk&&(this.rb.dv(this),this.UK()):this.UK();this.Ww(b,!1,!0,!0,a)&&this.H().ca();
this.aN()}Rd(b){0>b?this.Sl.Set(0):b>=this.od()?this.Sl.Set(this.od()):this.Sl.Set(b)}aN(){e.C.rc&&this.constructor===e.Dd&&(e.C.rc.K.an(this),this.rb.Ja(e.C.rc.K.Fca),this.rb.Ja(e.C.rc.K.Gca),this.rb.Ja(e.C.rc.K.Hca),e.C.rc.K.an(null))}Play(b=!1){return this.Ug||this.hk?!1:this.up()&&this.yJ()?this.j5():this.up()||!this.sf&&!b&&!this.ny?!1:this.k5()}j5(){this.wC(!1);this.rb.DY(this);this.rb.HK(this);this.gJ();return!0}k5(){this.wC(!1);this.rb.HK(this);this.gJ();return!0}Ag(b=!1){this.Ug||(this.MK(b),
this.rb.$u(this),this.sf&&this.kC())}dd(b=!0,a=!1){if(!this.Ug)if(!this.up()&&this.hk)this.rb.dv(this);else if(!this.sf){this.Ag(!0);this.vg()?this.Rd(0):this.Rd(this.od());var g=this.ya();a=a?this.F2(g):this.Ww(g,!1,!1,!0);b&&this.aN();a&&b&&this.H().ca()}}yK(){this.dd(!1,!0)}F2(b){this.Ww(b,!1,!1,!0,NaN,!1,!0)}Zw(){if(this.Ug)return!0;if(this.HV())return!1;this.rb.$u(this);this.yK();return!0}UK(){this.Tc(!0)}Tc(b){if(!this.iq)if(b){this.Hl=this.Jl=!0;for(const a of this.Ib)a.Tc()}else if(this.cs(!0),
this.es(!1),this.dK(),this.sf){this.Ep=-1;this.fi=0;this.Nh=1;this.En=this.sf=!1;this.Hl=this.Jl=!0;this.vg()?this.Rd(0):this.Rd(this.od());for(const a of this.Ib)a.Tc()}else{this.Hl=!0;for(const a of this.Ib)a.mf()}}Pd(b,a){if(0!==b||0!==this.kP){this.kP=b;var g=this.ya();this.Rd(g+b*a*this.qk);var c;this.Jo()||this.Lo()?this.Jo()&&!this.Lo()?c=this.o3():!this.Jo()&&this.Lo()?c=this.f4():this.Jo()&&this.Lo()&&(c=this.p3()):c=this.U5();if(c){for(const d of this.Ib)d.rZ();this.Ag(!0);this.YJ();return!0}return this.Ww(this.ya(),
!0,!1,!1,g,!0)}}Ww(b,a=!1,g=!1,c=!1,d=NaN,k=!1,h=!1){let l=!1;for(var p of this.Ib)p.hr();for(const n of this.Ib){p=b;if("number"===typeof d){const t=this.ya()-n.gf(),q=d-n.gf();0>t&&0<q&&(p=n.gf(),this.Rd(p))}p=n.gb(p,a,g,c,this.Hl,h);!l&&p&&(l=!0)}for(const n of this.Ib)n.gr();this.Hl&&k&&(this.Hl=!1);return l}U5(){if(this.vg()){if(this.ya()>=this.od())if(this.Nh<this.Xk())this.Nh++,this.Rd(0);else return this.Rd(this.od()),!0}else if(0>=this.ya())if(this.Nh<this.Xk())this.Nh++,this.Rd(this.od());
else return this.Rd(0),!0;return!1}o3(){this.vg()?this.ya()>=this.od()&&this.Rd(0):0>=this.ya()&&this.Rd(this.od());return!1}f4(){if(this.vg()){if(this.ya()>=this.od())if(this.Rd(this.od()),this.zw(-1*this.qk),1===this.fi)if(this.Nh<this.Xk())this.Nh++,this.fi=0;else return!0;else 0===this.fi&&(this.fi=1)}else if(0>=this.ya())if(this.Rd(0),this.zw(-1*this.qk),1===this.fi)if(this.Nh<this.Xk())this.Nh++,this.fi=0;else return!0;else 0===this.fi&&(this.fi=1);return!1}p3(){this.vg()?this.ya()>=this.od()&&
(this.Rd(this.od()),this.zw(-1*this.qk)):0>=this.ya()&&(this.Rd(0),this.zw(-1*this.qk));return!1}si(){for(const b of this.Ib)b.si()}fS(){for(const b of this.Ib)b.cS()}PZ(b,a){if(a)for(const g of this.Ib){if(b){if(g.xi()!==b)continue}else if(g.zV())continue;g.yZ(a);this.rb.fL(a.G(),this);break}}rJ(){return this.Ib.some(b=>b.DA())}HV(){return this.Ib.some(b=>b.DA()?(b=b.G())?b.Nf():!1:!1)}Bj(b){for(const a of this.Ib)for(const g of a.jc)if(g.Da.gd===b)return g}fJ(){const b=[];for(const a of this.Ib)b.push(a.G());
return b.filter(a=>a)}ja(){return{tracksJson:this.h5(),name:this.V,playheadTime:this.ya(),playbackRate:this.qk,pingPongState:this.fi,currentRepeatCount:this.Nh,isPlaying:this.Gy,isScheduled:this.hk,initialStateSet:this.Jl,finishedTriggers:this.En,complete:this.sf,released:this.Ug,markedForRemoval:this.iq,completedTick:this.Ep,implicitPause:this.ny,isTemplate:this.Yp,tags:this.ig.join(" "),stringTags:this.dQ,tagsChanged:this.CG,firstTick:this.Hl}}qa(b){b&&(this.k3(b.tracksJson),this.V=b.name,this.Sl.Set(b.playheadTime),
this.qk=b.playbackRate,this.fi=b.pingPongState,this.Nh=b.currentRepeatCount,this.Gy=!!b.isPlaying,this.hk=!!b.isScheduled,this.Jl=!!b.initialStateSet,this.En=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.sf=!!b.complete,this.Ug=!!b.released,this.iq=!!b.markedForRemoval,this.Ep=b.completedTick,this.ny=!!b.implicitPause,this.Yp=!!b.isTemplate,this.ig=b.tags.split(" "),this.dQ=b.stringTags,this.CG=!!b.tagsChanged,this.Hl=!!b.firstTick)}h5(){return this.Ib.map(b=>b.ja())}k3(b){b.forEach((a,
g)=>{this.Ib[g].qa(a)});this.Ib.filter(a=>a.DA())}static p2(b){if(e.Nm(b))return b.slice(0);if(e.Hj(b))return b.split(" ")}}}"use strict";
{const e=self.B;e.rL=class extends e.${constructor(b,a){super();this.Yl=b;this.Sb=a;this.ve=a.Kv();this.mk=this.dk=NaN;this.eb=this.bg=null;this.On=0<a.gf();this.An=this.Wp=!1;this.Rn=null;this.sc=this.Sb.nh().sc;this.jc=[];for(const g of this.Sb.ge().n9())this.jc.push(e.Va.Na(this,g))}static Na(b,a){return e.A(e.rL,b,a)}j(){this.sc=null;for(const b of this.jc)b.j();e.D(this.jc);this.Rn=this.Sb=this.eb=this.bg=this.Yl=this.jc=null}si(){for(const b of this.jc)b.si();this.eb=this.bg=null}nc(){return this.Yl}H(){return this.Yl.H()}SU(){return this.sc?
this.sc:this.sc=this.Sb.nh().sc}Bj(b){for(const a of this.jc)if(a.Da.gd===b)return a}Wo(){this.bg||this.Ia()}Fj(){return this.bg?!this.bg.zJ():!1}DA(){const b=this.H().yi(this.Dr());return b?!b.zJ():!1}G(){const b=this.pB();if(-1!==b)return this.H().He(b)}cS(){this.bg=null;this.dk=-1;this.eb=null;this.mk=-1}zV(){return!!this.bg}Ia(){return this.bg&&this.Fj()?this.bg:this.bg=this.H().yi(this.Dr())}yZ(b){if(this.bg!==b){this.si();this.bg=b;this.mk=b.G().xa();this.dk=b.Bc;this.eb=b.m();for(const k of this.o9()){const h=
k.B9;switch(k.m9.nd()){case "instance-variable":var a=b.G(),g=a.LU(k.name),c=a.aJ(g);a=a.Er(g);c===k.name&&a===k.type&&h.D_(g);break;case "behavior":var d=k.aH;g=this.G();c=b.G();a=h.pg(c);d&&a&&(d=d.V,g.yr(d),c.yr(d),h.B_(a.Ya))}}}}*o9(){for(const g of this.jc){var b=g.Qc(),a=this.G();const c={m9:g,B9:b};switch(g.nd()){case "world-instance":c.nja=g.Da.gd;break;case "instance-variable":b=b.Go();c.name=a.aJ(b);c.type=a.Er(b);break;case "effect":a=b.cB(a.La);c.Hha=a;break;case "behavior":a=b.pg(a);
c.aH=a;break;case "plugin":c.jja=a.Ab()}yield c}}m(){if(this.eb&&this.Fj())return this.eb;const b=this.Ia();b&&(this.eb=b.m());return this.eb}Dr(){return this.dk?this.dk:this.Sb.Dr()}lh(){return this.Sb.lh()}ph(){return this.Sb.ph()}xi(){return this.Sb.xi()}gf(){return this.Sb.gf()}Aj(){return this.Sb.Aj()}Li(b){for(const a of this.SU())a.Li(b);for(const a of this.jc)a.Li(b)}zj(){return this.Sb.zj()}Lj(b){this.Sb.Lj(b)}pB(){return isNaN(this.mk)?this.Sb.pB():this.mk}Gr(){return this.Sb.Gr()}Fr(){return this.Sb.Fr()}Tc(){this.Wo();
if(this.Fj()){for(var b of this.jc)b.Tc();b=this.nc().vg()?0:this.Aj();this.Rn=this.mB(b);this.An=this.Wp=!1;this.gb(b)}}mf(){this.Wo();if(this.Fj()){this.Yl.vg();var b=this.Yl.ya()-this.gf();this.Rn=this.mB(b);for(const a of this.jc)a.mf()}}rZ(){if(!this.nc().sf&&(this.Wo(),this.Fj()&&!this.On)){const b=this.Yl.ya();b>=this.gf()+this.Aj()?this.gb(this.Aj(),!0,!1,!0):0>=b&&this.gb(0,!0,!1,!0)}}hr(){for(const b of this.jc)b.hr()}gb(b,a=!1,g=!1,c=!1,d=!1,k=!1){this.Wo();if(!this.Fj()||k&&this.G().Nf())return!1;
b-=this.gf();if(0>b)return!1;this.sX(b,a);this.TJ(b,a,d);d=k=!1;for(const h of this.jc){const l=h.gb(b,g,!1,c);k||0===(l&e.Dd.G_)||(k=!0);d||0===(l&e.Dd.Ij)||(d=!0)}this.rX(b,a);k&&(b=this.m())&&b.Fa();return d}gr(){for(const b of this.jc)b.gr()}sX(b,a){if(a&&this.On&&!this.Wp){if(this.nc().vg()){if(0>b)return;for(const g of this.jc)g.gb(0,!1,!1,!0)}else{if(b>this.Aj())return;for(const g of this.jc)g.gb(this.Aj(),!1,!1,!0)}for(const g of this.jc)g.Tc();this.Wp=!0}}rX(b,a){if(a&&this.On&&!this.An)if(this.nc().vg()){if(b>=
this.Aj()){for(const g of this.jc)g.gb(this.Aj(),!1,!1,!0);this.An=!0}}else if(0>=b){for(const g of this.jc)g.gb(0,!1,!1,!0);this.An=!0}}TJ(b,a,g){!g&&a&&(b=this.mB(b),b!==this.Rn&&this.$J(b),this.Rn=b)}mB(b){const a=this.nc();let g=this.ve.PU(b,this.Sb);return g?g:a.vg()?this.ve.AU(b,this.Sb):this.ve.zU(b,this.Sb)}$J(b){if(e.C.rc&&this.nc().constructor===e.Dd){var a=this.nc();e.C.rc.K.an(a);e.C.rc.K.XZ(b);b=a.rb;b.Ja(e.C.rc.K.Bca);b.Ja(e.C.rc.K.$J);e.C.rc.K.an(null);e.C.rc.K.XZ(null)}}uR(){return this.Sb.nh().oR()}MS(b){this.Sb.nh().LS(b)}MA(b){for(const a of this.jc)a.MA(b)}$m(){for(const b of this.jc)b.$m()}fh(){this.Wo();
if(this.Fj())for(const b of this.jc)b.fh()}gh(){this.Wo();if(this.Fj()){var b=!1;for(const a of this.jc){const g=a.gh();!b&&g&&(b=!0)}b&&(b=this.uR(),b.np(this.nc().ya()),b.Li("noease"),b.Lj(!0),b.eL(""))}}ja(){var b=this.Ia();b=b?b.Bc:this.Dr();return{propertyTracksJson:this.c5(),lastKeyframeDataItemJson:this.Z4(),initialStateOfNestedSet:this.Wp,endStateOfNestedSet:this.An,instanceUid:b}}qa(b){b&&(this.f3(b.propertyTracksJson),this.d3(b.lastKeyframeDataItemJson),this.Z2(b.instanceUid),this.Wp=!1,
b.hasOwnProperty.initialStateOfNestedSet&&(this.Wp=b.initialStateOfNestedSet),this.An=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.An=b.endStateOfNestedSet))}Z4(){return this.Sb.nh().RU(this.Rn)}c5(){return this.jc.map(b=>b.ja())}f3(b){b.forEach((a,g)=>{this.jc[g].qa(a)})}Z2(b){if(e.dl(b)&&(b=this.H().yi(b))){var a=this.nc();a.fS();a.PZ(this.Sb.xi(),b)}}d3(b){this.Rn=this.Sb.nh().QU(b)}}}"use strict";
{const e=self.B;e.Va=class extends e.${constructor(b,a){super();this.Mc=b;this.Da=a;this.Wc=a.ge();this.ii=this.Qc();this.tc=this.Da.oh().tc}static Na(b,a){return e.A(e.Va,b,a)}j(){this.Mc=null;this.ii&&(this.ii.j(),this.ii=null);this.Wc=this.Da=this.tc=null}ge(){return this.Wc}nc(){return this.Mc.nc()}H(){return this.Mc.H()}Ia(){return this.Mc.Ia()}Qc(){if(this.ii)return this.ii;let b;switch(this.Da.nd()){case "behavior":b=new e.Va.OR(this);break;case "effect":b=new e.Va.LT(this);break;case "instance-variable":b=
new e.Va.uW(this);break;case "plugin":b=new e.Va.kY(this);break;case "world-instance":b=new e.Va.Q_(this);break;case "value":b=new e.Va.F_(this)}return this.ii=b}nd(){return this.Da.nd()}sB(){return this.ge().yv(this.Da).Ba}zj(){return this.Da.zj()}Lj(b){this.Da.Lj(b)}lh(){return this.Da.lh()}ph(){return this.Da.ph()}Li(b){for(const a of this.hJ())a.Li(b)}hJ(){return this.tc?this.tc:this.tc=this.Da.oh().tc}si(){this.Qc().si()}de(){return this.Qc().de()}Tc(){this.Qc().Tc()}mf(){this.Qc().mf()}hr(){this.Qc().hr()}gb(b,
a=!1,g=!1,c=!1){var d=this.Da;let k=this.Wc.rB(b,d);k?d=this.Wc.YI(b,d):(k=this.Wc.iB(b,d),d=this.Wc.hB(b,d));return this.Qc().gb(b,k,d,a,g,c)}gr(){this.Qc().gr()}static mJ(b,a){const g=a.Da;a=a.Wc;let c=a.rB(b,g);c||(c=a.iB(b,g));return c}static pU(b,a){const g=a.Da;a=a.Wc;return a.rB(b,g)?a.YI(b,g):a.hB(b,g)}wR(){return this.Da.oh().pR()}MA(b){this.Da.oh().NS(b)}$m(){this.Qc().$m()}fh(){if(this.Qc().fh()){const b=this.Wc.yv(this.Da),a=this.Qc().de();b.IK(a)}}gh(){const b=this.Qc().gh();b&&this.xR();
this.Qc().Zu();return b}xR(){const b=this.nc().ya(),a=this.Qc(),g=e.Va.mJ(b,this),c=this.wR();c.gL(g.Ba);c.np(b);c.Li(g.Vk());c.Lj(!0);c.Sf(a.Nv());c.IK(a.de())}ja(){return{sourceAdapterJson:this.Qc().ja()}}qa(b){b&&this.Qc().qa(b.sourceAdapterJson)}}}"use strict";
{const e=self.B.Va;e.th=class{constructor(b){this.ka=b;this.rk=null}j(){this.rk&&(this.rk.j(),this.rk=null);this.ka=null}Bj(){return this.ka}si(){this.rk&&this.rk.si()}Jf(){return this.rk?this.rk:this.rk=this.J0()}Go(){}xa(){return this.Go()}Lr(){}Tc(){this.Jf().Tc()}mf(){this.Jf().mf()}hr(){this.Jf().zo()}gb(b,a,g,c,d,k){const h=e.th.bJ(this.ka)(b,a,g,this.ka);return d?h:this.Jf().xm(b,h,a,g,c,k)}gr(){this.Jf().yo()}$m(){var b=this.Jf();b.Vg=b.de()}Zu(){this.Jf().Zu()}de(){return this.Jf().de()}fh(){return this.Jf().fh()}gh(){return this.Jf().gh()}Nv(){return e.th.Nv(this.ka)}J0(){const b=
this.ka.Da.Ba;switch(this.ka.sB()){case "combo":case "boolean":case "text":case "string":return new e.jf.VJ(this);case "numeric":case "number":case "angle":return"combo"===b?new e.jf.VJ(this):new e.jf.xX(this);case "color":case "offsetColor":return new e.jf.iS(this)}}ja(){return{propertyAdapterJson:this.Jf().ja()}}qa(b){b&&this.Jf().qa(b.propertyAdapterJson)}static Nv(b){const a=b.Mc.nc().ya(),g=e.mJ(a,b),c=e.pU(a,b);return e.th.bJ(b)(a,g,c,b)}static oc(){let b=(void 0).ph();"combo"===(void 0).Da.Ba&&
(b="absolute");switch(b){case "relative":return NaN}}static bJ(b){switch(b.sB()){case "numeric":return e.aC.gb;case "angle":return e.bI.gb;case "boolean":return e.fI.gb;case "color":return e.oI.gb;case "text":return e.pL.gb}}static oV(b){switch(b.sB()){case "numeric":return e.aC.Qj;case "angle":return e.bI.Qj;case "boolean":return e.fI.Qj;case "color":return e.oI.Qj;case "text":return e.pL.Qj}}}}"use strict";{const e=self.B;class b extends e.Va.th{constructor(a){super(a)}}e.Va.Q_=b}"use strict";
{const e=self.B;class b extends e.Va.th{constructor(a){super(a);this.lu=NaN}Go(){return this.ka.Da.gg[0]}xa(){return this.lu?this.lu:super.xa()}Lr(){return this.ka.Mc.Ia()}D_(a){this.ka.Da.gg[0]!==a&&(this.lu=a)}gb(a,g,c,d,k,h){if(this.Jf().jI(g.oc()))return super.gb(a,g,c,d,k,h)}ja(){return Object.assign(super.ja(),{index:this.lu})}qa(a){a&&(super.qa(a),this.lu=a.index)}}e.Va.uW=b}"use strict";
{const e=self.B;class b extends e.Va.th{constructor(a){super(a);this.Ya=NaN}Go(){return this.ka.Da.gg[1]}Lr(){var a=this.ka.Da,g=this.Ya?this.Ya:a.gg[0];a=this.ka.Mc.Ia();g=a.OI(g);return a.yc[g].ra}pg(a){return a.sv(this.ka.Da.gg[2])}B_(a){this.ka.Da.gg[0]!==a&&(this.Ya=a)}gb(a,g,c,d,k,h){const l=this.ka.Mc.Ia();if(this.pg(l.G()))return super.gb(a,g,c,d,k,h)}ja(){return Object.assign(super.ja(),{sid:this.Ya})}qa(a){a&&(super.qa(a),this.Ya=a.sid)}}e.Va.OR=b}"use strict";
{const e=self.B;class b extends e.Va.th{constructor(a){super(a)}Go(){return this.ka.Da.gg[1]}Lr(){const a=this.ka.Mc.m().Vd,g=this.cB(a.La).xa();return a.Pr(g)?a.Gf(g):null}cB(a){return a.yj(this.ka.Da.gg[0])}gb(a,g,c,d,k,h){if(this.K2())return super.gb(a,g,c,d,k,h)}K2(){const a=this.ka.Mc.m().Vd,g=this.cB(a.La);if(g)return a.Pr(g.xa())}}e.Va.LT=b}"use strict";
{const e=self.B;class b extends e.Va.th{constructor(a){super(a)}Go(){return this.ka.Da.gg[0]}Lr(){return this.ka.Mc.Ia().ra}gb(a,g,c,d,k,h){var l=this.ka.Mc;const p=l.G().Ab();l=l.Ia().G().Ab();if(p===l)return super.gb(a,g,c,d,k,h)}}e.Va.kY=b}"use strict";
{const e=self.B;class b extends e.Va.th{constructor(a){super(a);this.Xc=0;this.oy=!1}Tc(){const a=this.ka.ge();let g=this.ka.Da;g=a.yv(g);this.Xc=g.Wb()}mf(){}oc(){this.oy||this.ka.gb(0);return this.Xc}gb(a,g,c){const d=e.Va.aC.gb;this.Xc=d(a,g,c,this.ka);this.oy=!0}$m(){}Zu(){}de(){return this.Xc}fh(){return!1}gh(){return!1}ja(){return{value:this.Xc,init:this.oy}}qa(a){a&&(this.Xc=a.value,this.oy=a.hasOwnProperty("init")?a.init:!0)}}e.Va.F_=b}"use strict";
function Wb(e,b,a){return e.ka.nc().vg()?b():a()}function Xb(e,b,a){return"relative"===e.ka.ph()?b():a()}function Yb(e,b,a){e.Sp?(e.Sp=!1,b()):a()}function Zb(e){if(e.zq)return e.zq;e.zq=e.ii.Lr();return e.zq}function $b(e,b,a,g,c,d){switch(e.ka.nd()){case "behavior":return b();case "effect":return a();case "instance-variable":return g();case "plugin":return c();case "world-instance":return d()}}
function ac(e,b=!1){const a=[];for(const g of e){e=g.Mc.gf();for(const c of g.hJ())b&&0===c.ya()?a.push({time:e+c.ya(),value:c.Eg}):b||a.push({time:e+c.ya(),value:c.Eg})}return a.sort((g,c)=>g.time-c.time)}function bc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.B.Va.jf=class{constructor(e){this.ii=e;this.ka=e.Bj();this.eb=this.ka.Mc.m();this.gd=this.ka.Da.gd;this.Sp=!1;this.zq=this.Vg=null}j(){this.zq=this.Vg=this.eb=this.ka=this.ii=null}si(){this.zq=this.Vg=this.eb=null}Bj(){return this.ka}m(){return this.eb?this.eb:this.eb=this.ka.Mc.m()}Tc(){}mf(){}Zu(){this.Vg=null}de(){}fh(){}gh(){}jI(e){return typeof this.Sj()===typeof e}zo(){}xm(){}yo(){}dn(){return Wb(this,()=>{const e=this.ka.Da;return this.ka.ge().yv(e)},()=>{const e=this.ka.Da;return this.ka.ge().Hm(e)}).Eg}Lw(){const e=
this.ka.nc().ya()-this.ka.Mc.gf();return Wb(this,()=>{const b=this.ka.Da;return this.ka.ge().iB(e,b)},()=>{const b=this.ka.Da,a=this.ka.ge(),g=a.hB(e,b);return g?g:a.Hm(b)}).Eg}Sw(){}Cg(){return this.ii.xa()}ja(){return{firstAbsoluteUpdate:this.Sp,saveState:this.Vg}}qa(e){e&&(this.Sp=e.firstAbsoluteUpdate,this.Vg=e.saveState)}};"use strict";
{const e=self.B,b=new Map,a=[0,0,0];class g extends e.Va.jf{constructor(c){super(c)}Tc(){}mf(){}de(){const c=this.ka.nd(),d=Zb(this),k=this.Cg();switch(c){case "behavior":return this.jx(d.Zb(k));case "effect":return this.jx(d[k]);case "plugin":return this.jx(d.Zb(k));case "world-instance":return this.jx(this.Sj())}}fh(){const c=this.dn();return!this.PL(c,this.Sj())}gh(){return e.Ke(this.Vg)?!1:!this.PL(this.Vg,this.Sj())}PL(c,d){return c.om(d)}dn(){const c=super.dn();return this.Tw(c)}Lw(){const c=
super.Lw();return this.Tw(c)}Sw(){}jx(c){return e.el(c,e.Za)?c.toArray().slice(0,3):c.slice(0,3)}Tw(c){return e.el(c,e.Za)?c:new e.Za(c[0],c[1],c[2],1)}jI(){return!0}zo(){var c=this.ka.Ia();b.has(c)||b.set(c,new Map);c=b.get(c);const d=this.ka.nd();c.has(d)||c.set(d,new Map);c=c.get(d);c.has(this.gd)||c.set(this.gd,{Nu:!1,color:new e.Za(0,0,0,1)})}zM(c,d,k){c=b.get(c).get(d).get(k);c.Nu=!0;return c.color}xm(c,d){var k=this.ka.nc(),h=this.ka.Mc;c=this.ka.Ia();var l=this.ka.Qc();const p=this.ka.nd();
l=k.xB(c,l,this.gd);if(1<l.length){if(l=ac(l,!0),k=k.ya(),k=bc(k,l))if(l=k.time-h.gf(),0===l)this.zM(c,p,this.gd).mQ(d[0],d[1],d[2]);else{if(0>l)return;k=d[0];h=d[1];d=d[2];l=this.ka.gb(l,!1,!0);k=e.Za.NA(k,l[0]);h=e.Za.NA(h,l[1]);d=e.Za.NA(d,l[2]);this.zM(c,p,this.gd).mQ(k,h,d)}}else this.Qi(d[0],d[1],d[2]);return e.Dd.Ij}yo(){const c=this.ka.Ia();if(b.has(c)){var d=b.get(c),k=this.ka.nd();if(d.has(k)){var h=d.get(k);if(h.has(this.gd)){var l=h.get(this.gd),p=l.color;l.Nu&&this.Qi(p.Sa,p.Ua,p.Ta);
0===h.size&&d.delete(k);0===d.size&&b.delete(c)}}}}Sj(){const c=this.ka.nd(),d=Zb(this),k=this.Cg();switch(c){case "behavior":return this.Tw(d.Zb(k));case "effect":return d[k].clone();case "plugin":return this.Tw(d.Zb(k));case "world-instance":return this.m().Wa.clone()}}Qi(c,d,k){const h=this.ka.nd(),l=Zb(this),p=this.Cg();switch(h){case "behavior":a[0]=c;a[1]=d;a[2]=k;l.Rf(p,a);break;case "effect":l[p].Lu(c,d,k);break;case "plugin":a[0]=c;a[1]=d;a[2]=k;l.Rf(p,a);break;case "world-instance":this.m().YZ(c,
d,k)}}ja(){}qa(){}}e.Va.jf.iS=g}"use strict";
{const e=self.B;class b extends e.Va.jf{constructor(a){super(a)}Tc(){}mf(){}de(){return this.Sj()}fh(){return this.dn()!==this.de()}gh(){return e.Ke(this.Vg)?!1:this.Vg!==this.de()}xm(a,g){const c=e.Va.th.oV(this.ka);var d=this.ka;const k=d.Mc,h=d.nd();var l=d.nc();const p=k.Ia();d=d.Qc();l=l.xB(p,d,this.gd);1<l.length&&(l=ac(l),a=bc(a+k.gf(),l))&&(g=a.value);if(c(this.Cg(),Zb(this),g,h))switch(this.Qi(g),h){case "plugin":return e.Dd.Ij}}Sj(){const a=this.ka.nd(),g=Zb(this),c=this.Cg();switch(a){case "behavior":return g.Zb(c);
case "effect":return g[c];case "instance-variable":return g.fe(c);case "plugin":return g.Zb(c)}}Qi(a){const g=this.ka.nd(),c=Zb(this),d=this.Cg();switch(g){case "behavior":c.Rf(d,a);break;case "effect":c[d]=a;break;case "instance-variable":c.pl(d,a);break;case "plugin":c.Rf(d,a)}}}e.Va.jf.VJ=b}"use strict";
{const e=self.B,b=new Map,a=(c,d,k,h,l)=>b.set(c,{z9:d,R7:k,B8:h,round:l});a("offsetX",(c,d)=>c.dw(d),(c,d)=>c.Tf(d),c=>c.la(),!0);a("offsetY",(c,d)=>c.fw(d),(c,d)=>c.zg(d),c=>c.ma(),!0);a("offsetWidth",(c,d)=>c.XJ(d),(c,d)=>c.pf(d),c=>c.ea(),!0);a("offsetHeight",(c,d)=>c.WJ(d),(c,d)=>c.lf(d),c=>c.da(),!0);a("offsetAngle",(c,d)=>c.AX(d),(c,d)=>c.qd(d),c=>c.Ea(),!1);a("offsetOpacity",(c,d)=>c.BX(d),(c,d)=>c.Mj(d),c=>c.If(),!1);a("offsetOriginX",(c,d)=>c.CX(d),(c,d)=>c.kp(d),c=>c.Bi(),!1);a("offsetOriginY",
(c,d)=>c.DX(d),(c,d)=>c.lp(d),c=>c.Ci(),!1);a("offsetZElevation",(c,d)=>c.EX(d),(c,d)=>c.Oj(d),c=>c.Lb(),!0);a("offsetScaleX",(c,d,k)=>{c.XJ(k.Gr()*d)},(c,d,k)=>{c.pf(k.Gr()*d)},(c,d)=>c.ea()/d.Gr(),!1);a("offsetScaleY",(c,d,k)=>{c.WJ(k.Fr()*d)},(c,d,k)=>{c.lf(k.Fr()*d)},(c,d)=>c.da()/d.Fr(),!1);class g extends e.Va.jf{constructor(c){super(c);this.Gb=0;this.kF=this.mF=this.lF=null;this.RP=!1;this.lo=e.el(this.ka.nc(),e.Tween)?new e.Va.jf.zX(this):new e.Va.jf.yX(this);c=this.ka.Da.gd;"world-instance"===
this.ka.nd()&&(c=b.get(c),this.lF=c.B8,this.mF=c.z9,this.kF=c.R7,this.RP=c.round)}j(){this.kF=this.mF=this.lF=this.lo=null;super.j()}ZK(c){this.Gb=c}Tc(){const c=this.lo.Tc();"number"===typeof c&&(this.Gb=c)}mf(){const c=this.lo.mf();"number"===typeof c&&(this.Gb=c)}de(){return this.Sj()}fh(){return this.dn()!==this.de()}gh(){return e.Ke(this.Vg)?!1:this.Vg!==this.de()}zo(){this.lo.zo()}xm(c,d,k,h,l,p){return this.lo.xm(c,d,k,h,l,p)}yo(){this.lo.yo()}Sj(){const c=Zb(this),d=this.Cg(),k=this.ka.Mc,
h=this.m();return $b(this,()=>c.Zb(d),()=>c[d],()=>c.fe(d),()=>c.Zb(d),()=>this.lF(h,k))}Qi(c){const d=Zb(this),k=this.Cg(),h=this.ka.Mc,l=this.m();$b(this,()=>d.cC(k,c),()=>d[k]+=c,()=>d.zZ(k,c),()=>d.cC(k,c),()=>this.mF(l,c,h))}IN(c){const d=Zb(this),k=this.Cg(),h=this.ka.Mc,l=this.m();$b(this,()=>d.Rf(k,c),()=>d[k]=c,()=>d.pl(k,c),()=>d.Rf(k,c),()=>this.kF(l,c,h))}vp(c,d,k,h,l,p){this.lo.vp(c,d,k,h,l,p)}Rj(c,d,k){c=(c.toString().split(".")[1]||"").length;const h=this.Sj();this.Qi((0===c?this.RP?
Math.round(h):h:e.toFixed(h,c))-h,d,k)}ja(){return Object.assign(super.ja(),{v:this.Gb})}qa(c){c&&(super.qa(c),this.Gb=c.v)}}e.Va.jf.xX=g}"use strict";
{const e=self.B,b=new Map;class a{constructor(g){this.Xd=g}j(){this.Xd=null}Tc(){const g=this.Xd,c=this.Xd.Bj();return Xb(g,()=>Wb(g,()=>0,()=>e.Va.th.Nv(c)),()=>{})}mf(){}zo(){const g=this.Xd,c=this.Xd.Bj(),d=c.Da.gd;Xb(g,()=>{},()=>{var k=c.Ia();b.has(k)||b.set(k,new Map);k=b.get(k);const h=c.nd();k.has(h)||k.set(h,new Map);k=k.get(h);k.has(d)||k.set(d,{Nu:!1,value:0})})}yM(g,c,d){g=b.get(g).get(c).get(d);g.Nu=!0;return g}xm(g,c,d,k,h,l){const p=this.Xd,n=this.Xd.Bj(),t=n.Da.gd;Xb(p,()=>{const q=
p.Gb;p.Qi(c-q,d,k);l&&this.vp(g,d,k,h,q,c);p.ZK(c)},()=>{var q=n.nc(),u=n.Mc;const v=n.Ia();var A=n.Qc();const y=n.nd();A=q.xB(v,A,t);if(1<A.length){if(A=ac(A,!0),q=q.ya(),q=bc(q,A))u=q.time-u.gf(),0===u?this.yM(v,y,t).value+=c:0>u||(u=n.gb(u,!1,!0),this.yM(v,y,t).value+=c-u)}else p.IN(c)});return $b(p,()=>{},()=>e.Dd.Ij,()=>{},()=>e.Dd.Ij,()=>e.Dd.Ij)}yo(){const g=this.Xd,c=this.Xd.Bj(),d=c.Da.gd;Xb(g,()=>{},()=>{const k=c.Ia();if(b.has(k)){var h=b.get(k),l=c.nd();if(h.has(l)){var p=h.get(l);if(p.has(d)){var n=
p.get(d),t=n.value;n.Nu&&g.IN(t);p.delete(d);0===p.size&&h.delete(l);0===h.size&&b.delete(k)}}}})}vp(g,c,d,k,h,l){const p=this.Xd;k||(c&&g===c.ya()?p.Rj(c.Wb(),c,d):d&&g===d.ya()?p.Rj(d.Wb(),c,d):0===l-h&&p.Rj(c.Wb(),c,d))}}e.Va.jf.yX=a}"use strict";
{const e=self.B;class b{constructor(a){this.Xd=a}j(){this.Xd=null}Tc(){const a=this.Xd;a.Sp=!0;return this.Sw(a.dn())}mf(){const a=this.Xd;if(a.dn()!==a.Lw())return a.Sp=!0,this.Sw(a.Lw())}zo(){}xm(a,g,c,d,k,h){const l=this.Xd,p=l.Gb;Xb(l,()=>{l.Qi(g-p,c,d);h&&this.vp(a,c,d,k,p,g)},()=>{Yb(l,()=>{l.Qi(p,c,d)},()=>{l.Qi(g-p,c,d);h&&this.vp(a,c,d,k,p,g)})});l.ZK(g);return $b(l,()=>{},()=>e.Dd.Ij,()=>{},()=>e.Dd.Ij,()=>e.Dd.Ij)}yo(){}Sw(a){return a-this.Xd.de()}vp(a,g,c,d,k,h){const l=this.Xd;d?g&&a===
g.ya()?l.Rj(g.Wb(),g,c):c&&a===c.ya()?l.Rj(c.Wb(),g,c):c||l.Rj(g.Wb(),g,c):g&&a===g.ya()?l.Rj(g.Wb(),g,c):c&&a===c.ya()?l.Rj(c.Wb(),g,c):0===h-k&&l.Rj(g.Wb(),g,c)}}e.Va.jf.zX=b}"use strict";
{const e=self.B,b=self.kr;e.Va.aC=class{constructor(){}static Qj(a,g,c,d){let k;switch(d){case "behavior":k=g.Zb(a);break;case "effect":k=g[a];break;case "instance-variable":k=g.fe(a);break;case "plugin":k=g.Zb(a)}return k===c?!1:!0}static gb(a,g,c,d){if(!c)return c=d.Da,c=d.ge().Hm(c),c.Wb();var k=d.lh();"default"===k&&(k="continuous");"combo"===d.Da.Ba&&(k="discrete");if("discrete"===k)return g.Wb();if("continuous"===k||"step"===k){"step"===k&&(k=d.nc().Jr(),0!==k&&(k=1/k,a=Math.floor(a*k)/k));
var h=g.ya();const l=c.ya();k=g.Wb();const p=c.Wb();if(k===p)return k;a=e.normalize(a,h,l);const n=g.Vk();g=g.TA("cubic-bezier");c=c.TA("cubic-bezier");g&&g.Zt&&c&&c.Sx?(h=l-h,h=b.Im(n)(h*a,0,1,h),h=b.Im("cubicbezier")(h,k,k+g.zG,p+c.LE,p)):h=b.Im(n)((l-h)*a,k,p-k,l-h);return"integer"===d.Da.Ba?Math.floor(h):h}}}}"use strict";
{const e=self.B;e.Va.bI=class{constructor(){}static Qj(b,a,g,c){let d;switch(c){case "behavior":d=a.Zb(b);break;case "effect":d=a[b];break;case "instance-variable":d=a.fe(b);break;case "plugin":d=a.Zb(b)}return d===g?!1:!0}static gb(b,a,g,c){if(!g)return a=c.Da,a=c.ge().Hm(a),a.Wb();var d=c.lh();"default"===d&&(d="continuous");"combo"===c.Da.Ba&&(d="discrete");if("discrete"===d)return a.Wb();if("continuous"===d||"step"===d){"step"===d&&(c=c.nc().Jr(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));const k=a.ya(),
h=g.ya();c=a.Wb();g=g.Wb();if(d=a.TA("angle")){const l=d.kG;if(c===g&&0===l)return c;b=e.normalize(b,k,h);a=self.kr.Im(a.Vk())(b,0,1,1);switch(d.EE){case "closest":return e.ZG(c,g,a,l);case "clockwise":return e.Y7(c,g,a,l);case "anti-clockwise":return e.X7(c,g,a,l)}}else{if(c===g)return c;b=e.normalize(b,k,h);a=self.kr.Im(a.Vk());return e.ZG(c,g,a(b,0,1,1))}}}}}"use strict";
self.B.Va.fI=class{constructor(){}static Qj(e,b,a,g){let c;switch(g){case "behavior":c=b.Zb(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.fe(e);break;case "plugin":c=b.Zb(e)}return!!c===!!a?!1:!0}static gb(e,b,a,g){return a?b.Wb()?1:0:(e=g.Da,e=g.ge().Hm(e),e.Wb()?1:0)}};"use strict";
{const e=self.B,b=[0,0,0],a=[0,0,0],g=[0,0,0];e.Va.oI=class{constructor(){}static Qj(c,d,k,h){let l;switch(h){case "behavior":l=d.Zb(c);break;case "effect":l=d[c];break;case "instance-variable":l=d.fe(c);break;case "plugin":l=d.Zb(c)}Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(g.NQ(k),b[0]=Math.floor(255*g.Sa),b[1]=Math.floor(255*g.Ua),b[2]=Math.floor(255*g.Ta));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(g.NQ(l),a[0]=Math.floor(255*g.Sa),a[1]=Math.floor(255*g.Ua),a[2]=Math.floor(255*
g.Ta));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static gb(c,d,k,h){if(!k)return d=h.Da,d=h.ge().Hm(d),d=d.Wb(),b[0]=d[0],b[1]=d[1],b[2]=d[2],b;var l=h.lh();"default"===l&&(l="continuous");if("discrete"===l)return d=d.Wb(),b[0]=d[0],b[1]=d[1],b[2]=d[2],b;if("continuous"===l||"step"===l){"step"===l&&(h=h.nc().Jr(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=d.ya();l=k.ya();var p=d.Wb(),n=k.Wb();const t=e.normalize(c,h,l);c=p[0];k=p[1];p=p[2];const q=n[0],u=n[1];n=n[2];d=self.kr.Im(d.Vk());h=l-h;
l=h*t;b[0]=c===q?c:d(l,c,q-c,h);b[1]=k===u?k:d(l,k,u-k,h);b[2]=p===n?p:d(l,p,n-p,h);return b}}}}"use strict";self.B.Va.pL=class{constructor(){}static Qj(e,b,a,g){let c;switch(g){case "behavior":c=b.Zb(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.fe(e);break;case "plugin":c=b.Zb(e)}return c===a?!1:!0}static gb(e,b,a,g){return a?b.Wb():(e=g.Da,e=g.ge().Hm(e),e.Wb())}};"use strict";
{const e=self.B;e.Vf=class{constructor(){this.fu=new Map}j(){for(const b of this.fu.values())b.j();this.fu.clear();this.fu=null}Ec(b){b=new e.r_(b);this.fu.set(b.V,b)}W(b){return this.fu.get(b)}static ss(b,a,g,c){if(a)for(const d of a)e.Vf.SL("create",d,b,g,c)}static As(b,a,g,c){b.length?a.forEach((d,k)=>{b[k].qa(d)}):a.forEach(d=>{e.Vf.SL("load",d,b,g,c)})}static SL(b,a,g,c,d){let k;if("function"===typeof c)switch(b){case "load":k=new c(null,d);break;case "create":k=new c(a,d)}else if("object"===
typeof c)switch(c=c.map.get(a[c.prop]),b){case "load":k=new c(null,d);break;case "create":k=new c(a,d)}switch(b){case "load":k.qa(a);g.push(k);break;case "create":"function"!==typeof k.zj||k.zj()?g.push(k):k.j()}}}}"use strict";
{const e=self.B;e.r_=class{constructor(b){this.V="";this.Ez=NaN;this.Az=0;this.xf=this.uf="default";this.hz=this.Yy=!1;this.uq=1;this.ve=null;b&&(this.V=b[0],this.Ez=b[1],this.Az=b[2],this.uf=b[3],this.xf=b[4],this.Yy=!!b[6],this.hz=!!b[7],this.uq=b[8],this.ve=new e.qL(b[5],this))}j(){this.ve.j();this.ve=null}Kv(){this.ve||(this.ve=new e.qL(null,this));return this.ve}yw(b){this.V=b}od(){return this.Ez}Jr(){return this.Az}lh(){return this.uf}ph(){return this.xf}Jo(){return this.Yy}Lo(){return this.hz}Xk(){return this.uq}ja(){return{trackDataJson:this.ve.ja(),
name:this.V,totalTime:this.Ez,step:this.Az,interpolationMode:this.uf,resultMode:this.xf,loop:this.Yy,pingPong:this.hz,repeatCount:this.uq}}qa(b){b&&(this.Kv().qa(b.trackDataJson),this.V=b.name,this.Ez=b.totalTime,this.Az=b.step,this.uf=b.interpolationMode,this.xf=b.resultMode,this.Yy=b.loop,this.hz=b.pingPong,this.uq=b.repeatCount)}}}"use strict";
{const e=self.B;class b{constructor(a,g){this.ve=g;this.mn=this.ty=null;this.mk=this.dk=NaN;this.xf=this.uf="default";this.Yf=!1;this.Wc=this.ai=null;this.me="";this.jq=null;this.AG=0;this.Wy=this.ve.$d.od();a&&(this.ty=a[0],this.dk=a[0][2],this.mk=a[0][1],this.uf=a[1],this.xf=a[2],this.Yf=!!a[3],a[6]&&(this.me=a[6]),a[7]&&(this.jq=a[7],this.AG=a[7][0],this.Wy=a[7][1]),a[8]&&(this.mn=a[8]),this.ai=new e.LJ(a[4],this),this.Wc=new e.qK(a[5],this))}j(){this.ve=this.ty=null;this.ai&&(this.ai.j(),this.ai=
null);this.Wc&&(this.Wc.j(),this.Wc=null);this.jq=null}Kv(){return this.ve}nh(){this.ai||(this.ai=new e.LJ(null,this));return this.ai}ge(){this.Wc||(this.Wc=new e.qK(null,this));return this.Wc}pB(){return this.mk}Dr(){return this.dk}lh(){return this.uf}ph(){return this.xf}zj(){return this.Yf}Lj(a){this.Yf=!!a}xi(){return this.me}gf(){return this.AG}Aj(){return this.Wy}Gr(){return this.mn[0]}Fr(){this.mn||(this.mn=[]);return this.mn[1]}ja(){return{keyframeDataJson:this.ai.ja(),propertyTrackDataJson:this.Wc.ja(),
instanceData:this.ty,additionalInstanceData:this.mn,instanceUid:this.dk,objectClassIndex:this.mk,interpolationMode:this.uf,resultMode:this.xf,enabled:this.Yf,id:this.me,nestedData:this.jq}}qa(a){a&&(this.ty=a.instanceData,this.dk=a.instanceUid,this.mk=a.objectClassIndex,this.uf=a.interpolationMode,this.xf=a.resultMode,this.Yf=a.enabled,this.me=a.id,this.Wy=this.ve.$d.od(),a.nestedData&&(this.jq=a.nestedData,this.AG=this.jq[0],this.Wy=this.jq[1]),a.additionalInstanceData&&(this.mn=a.additionalInstanceData),
this.nh().qa(a.keyframeDataJson),this.ge().qa(a.propertyTrackDataJson))}}e.qL=class{constructor(a,g){this.$d=g;this.jo=[];this.xt=new Map;e.Vf.ss(this.jo,a,b,this)}j(){this.$d=null;for(const a of this.jo)a.j();e.D(this.jo);this.jo=null;this.xt.clear();this.xt=null}PU(a,g){const c=this.xt.get(g);if(c&&c.has(a))return c.get(a);for(const d of g.nh().JQ())if(d.ya()===a)return c||this.xt.set(g,new Map),this.xt.get(g).set(a,d),d}zU(a,g){for(const c of g.nh().JQ())if(c.ya()>=a)return c}AU(a,g){for(const c of g.nh().T8())if(c.ya()<=
a)return c}*J9(){for(const a of this.jo)yield a}ja(){return{trackDataItemsJson:this.jo.map(a=>a.ja())}}qa(a){a&&e.Vf.As(this.jo,a.trackDataItemsJson,b,this)}}}"use strict";
{const e=self.B;class b{constructor(a,g){this.Wc=g;this.vz="";this.Ba=this.gd=this.gg=null;this.OF=this.QF=NaN;this.xf=this.uf="default";this.Yf=!1;this.dj=null;a&&(this.vz=a[0][0],this.gg=a[0].slice(1),this.gd=a[1],this.Ba=a[2],this.QF=a[3],this.OF=a[4],this.uf=a[5],this.xf=a[6],this.Yf=!!a[7],this.dj=new e.pK(a[8],this))}j(){this.dj.j();this.gg=this.Wc=this.dj=null}ge(){return this.Wc}oh(){this.dj||(this.dj=new e.pK(null,this));return this.dj}nd(){return this.vz}gL(a){this.Ba=a}lh(){return this.uf}ph(){return this.xf}zj(){return this.Yf}Lj(a){this.Yf=
!!a}ja(){return{propertyKeyframeDataJson:this.dj.ja(),sourceAdapterId:this.vz,sourceAdapterArguments:this.gg,property:this.gd,type:this.Ba,min:this.QF,max:this.OF,interpolationMode:this.uf,resultMode:this.xf,enabled:this.Yf}}qa(a){a&&(this.vz=a.sourceAdapterId,this.gg=a.sourceAdapterArguments,this.gd=a.property,this.Ba=a.type,this.QF=a.min,this.OF=a.max,this.uf=a.interpolationMode,this.xf=a.resultMode,this.Yf=a.enabled,this.oh().qa(a.propertyKeyframeDataJson))}}e.qK=class{constructor(a,g){this.Sb=
g;this.Zn=[];this.Mt=new Map;e.Vf.ss(this.Zn,a,b,this)}j(){this.Sb=null;for(const a of this.Zn)a.j();e.D(this.Zn);this.Zn=null;this.Mt.clear();this.Mt=null}yv(a){return a.oh().tc[0]}Hm(a){a=a.oh().tc;return a[a.length-1]}rB(a,g){const c=this.Mt.get(g);if(c&&c.has(a))return c.get(a);const d=g.oh();for(const k of d.IH())if(k.ya()===a)return c||this.Mt.set(g,new Map),this.Mt.get(g).set(a,k),k}YI(a,g){g=g.oh();for(const c of g.IH())if(c.ya()>a)return c}hB(a,g){g=g.oh();for(const c of g.IH())if(c.ya()>=
a)return c}iB(a,g){g=g.oh();for(const c of g.l9())if(c.ya()<=a)return c}*n9(){for(const a of this.Zn)yield a}ja(){return{propertyTrackDataItemsJson:this.Zn.map(a=>a.ja())}}qa(a){a&&e.Vf.As(this.Zn,a.propertyTrackDataItemsJson,b,this)}}}"use strict";
{const e=self.B;class b{constructor(a,g){this.ai=g;this.wc=-1;this.Ph="noease";this.Qh=!1;this.Dt=this.ig=null;a&&(this.wc=a[0],this.Ph=a[1],this.Qh=!!a[2],this.ig=(a=a[3])?a.split(" "):[],this.Dt=new Set(this.ig.map(c=>c.toLowerCase())))}j(){this.ai=null;e.D(this.ig);this.ig=null;this.Dt.clear();this.Dt=null}nh(){return this.ai}ya(){return this.wc}np(a){this.wc=a}Vk(){return this.Ph}Li(a){this.Ph=a}zj(){return this.Qh}Lj(a){this.Qh=!!a}eL(a){this.ig=a?a.split(" "):[];this.Dt=new Set(this.ig.map(g=>
g.toLowerCase()))}ja(){return{time:this.wc,ease:this.Ph,enable:this.Qh,tags:this.ig}}qa(a){a&&(this.wc=a.time,this.Ph=a.ease,this.Qh=a.enable,this.ig=a.tags,this.Dt=new Set(this.ig.map(g=>g.toLowerCase())))}}e.LJ=class{constructor(a,g){this.Sb=g;this.sc=[];e.Vf.ss(this.sc,a,b,this)}j(){this.Sb=null;for(const a of this.sc)a.j();e.D(this.sc);this.sc=null}oR(){const a=new b(null,this);this.sc.push(a);return a}LS(a){for(const g of this.sc){if(!a(g))continue;const c=this.sc.indexOf(g);-1!==c&&(g.j(),this.sc.splice(c,
1))}this.g_()}g_(){this.sc.sort((a,g)=>a.ya()-g.ya())}RU(a){return this.sc.indexOf(a)}QU(a){return this.sc[a]}*JQ(){for(const a of this.sc)yield a}*T8(){for(let a=this.sc.length-1;0<=a;a--)yield this.sc[a]}ja(){return{keyframeDataItemsJson:this.sc.map(a=>a.ja())}}qa(a){a&&e.Vf.As(this.sc,a.keyframeDataItemsJson,b,this)}}}"use strict";
{const e=self.B;class b{constructor(a,g){this.dj=g;this.Eg=this.Xc=null;this.Ba="";this.wc=NaN;this.Ph="noease";this.Qh=!1;this.Eh=null;a&&(this.Xc=a[0][0],this.Eg=a[0][1],this.Ba=a[0][2],this.wc=a[1],this.Ph=a[2],this.Qh=!!a[3],this.Eh=null,a[4]&&(this.Eh=new e.AR(a[4],this)))}j(){this.dj=null;this.Eh&&(this.Eh.j(),this.Eh=null)}oc(){return this.Xc}Sf(a){"color"===this.Ba&&e.dl(a)?(this.Xc[0]=e.tB(a),this.Xc[1]=e.kB(a),this.Xc[2]=e.VA(a)):this.Xc=a}IK(a){"color"===this.Ba&&e.dl(a)?(this.Eg[0]=e.tB(a),
this.Eg[1]=e.kB(a),this.Eg[2]=e.VA(a)):this.Eg=a}Wb(){const a=this.dj.Da.ph();if("relative"===a)return this.oc();if("absolute"===a)return this.Eg}gL(a){this.Ba=a}ya(){return this.wc}np(a){this.wc=a}Vk(){return this.Ph}Li(a){this.Ph=a}zj(){return this.Qh}Lj(a){this.Qh=!!a}TA(a){if(this.Eh)for(const g of this.Eh.S7())if(g.xi()===a)return g}ja(){const a=this.Eh;return{addonDataJson:a?a.ja():a,value:this.Xc,aValue:this.Eg,type:this.Ba,time:this.wc,ease:this.Ph,enable:this.Qh}}qa(a){a&&(a.addonDataJson&&
this.Eh.hha(a.addonDataJson),this.Xc=a.value,this.Eg=a.aValue,this.Ba=a.type,this.wc=a.time,this.Ph=a.ease,this.Qh=a.enable)}}e.pK=class{constructor(a,g){this.Da=g;this.tc=[];e.Vf.ss(this.tc,a,b,this)}j(){this.Da=null;for(const a of this.tc)a.j();e.D(this.tc);this.tc=null}pR(){const a=new b(null,this);this.tc.push(a);return a}NS(a){for(const g of this.tc){if(!a(g))continue;const c=this.tc.indexOf(g);-1!==c&&(g.j(),this.tc.splice(c,1))}this.h_()}h_(){this.tc.sort((a,g)=>a.ya()-g.ya())}*IH(){for(const a of this.tc)yield a}*l9(){for(let a=
this.tc.length-1;0<=a;a--)yield this.tc[a]}ja(){return{propertyKeyframeDataItemsJson:this.tc.map(a=>a.ja())}}qa(a){a&&e.Vf.As(this.tc,a.propertyKeyframeDataItemsJson,b,this)}}}"use strict";
{const e=self.B;class b{constructor(c,d){this.Eh=d;this.me=c[0];this._data=c[1]}j(){this._data=this.Eh=null}xi(){return this.me}ja(){return{id:this.me,data:this._data}}qa(c){c&&(this.me=c.id,this._data=c.data)}}class a extends b{constructor(c,d){super(c,d);this.zG=this._data[0];this.Zt=!!this._data[1];this.LE=this._data[2];this.Sx=!!this._data[3]}j(){super.j()}ja(){return Object.assign(super.ja(),{startAnchor:this.zG,startEnable:!!this.Zt,endAnchor:this.LE,endEnable:!!this.Sx})}qa(c){c&&(super.qa(c),
this.zG=c.startAnchor,this.Zt=!!c.startEnable,this.LE=c.endAnchor,this.Sx=!!c.endEnable)}}class g extends b{constructor(c,d){super(c,d);this.EE=this._data[0];this.kG=this._data[1]}j(){super.j()}ja(){return Object.assign(super.ja(),{direction:this.EE,revolutions:this.kG})}qa(c){c&&(super.qa(c),this.EE=c.direction,this.kG=c.revolutions)}}e.AR=class{constructor(c){this.nn=[];e.Vf.ss(this.nn,c,{prop:0,map:new Map([["cubic-bezier",a],["angle",g]])},this)}j(){for(const c of this.nn)c.j();e.D(this.nn);this.nn=
null}*S7(){for(const c of this.nn)yield c}ja(){return{addonDataItemsJson:this.nn.map(c=>c.ja())}}qa(c){c&&e.Vf.As(this.nn,c.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",a],["angle",g]])},this)}}}"use strict";
{const e=self.B;let b=0;e.Tween=class extends e.Dd{constructor(a,g){super(`tween-${b++}`,a,g);this.me="";this.gO=!1;this.gF="start-value";this.DP=this.CP=null}Ia(){var a=this.Ib;if(a&&a.length&&(a=a[0])){var g=a.Ia();return a.Fj()?g:null}}xi(){return this.me}dK(){if(this.DP)for(const a of this.DP)a(this);if(!this.sf)for(const a of this.Ib)a.gh()}YJ(){this.Ep=this.g.fj}JI(){if(!this.En&&(this.En=!0,this.CP))for(const a of this.CP)a(this)}np(a){this.YL();super.np(a)}Tc(a){if(!this.Jl&&"current-state"===
this.gF)for(const g of this.Ib)g.fh();super.Tc(a)}Ag(a=!1){super.Ag(a);if(!this.sf)for(const g of this.Ib)g.$m()}dd(a=!0,g=!1){this.YL();super.dd(a,g)}YL(){for(const a of this.Ib){const g=c=>{c=c.ya();const d=this.od();return 0!==c&&c!==d};a.MS(g);a.MA(g)}}Zw(){if(this.Ug)return!0;const a=this.Ia();if(a&&a.G().Nf())return!1;this.rb.$u(this);this.yK();return!0}TJ(){}Pd(){const a=this.Ia();super.Pd(this.H().Cr(a),1)}ja(){const a=super.ja();return Object.assign(a,{tweenDataItemJson:this.$d.ja(),id:this.me,
destroyInstanceOnComplete:this.gO,initialValueMode:this.gF})}qa(a){a&&(this.$d.qa(a.tweenDataItemJson),super.qa(a),this.me=a.id,this.gO=a.destroyInstanceOnComplete,this.gF=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}"use strict";
{const e=self.B,b=self.kr;e.tL=class extends e.${constructor(a){super();this.V=a[0];this.Xg=[];for(const g of a[1])a=e.uL.Na(this,g),this.Xg.push(a);this.Lt=new Map;this.Fz=new Map;this.g4();b.nR(this.V,(g,c,d,k)=>this.gb(g,c,d,k))}static Na(a){return e.A(e.tL,a)}j(){for(const a of this.Xg)a.j();e.D(this.Xg);this.Xg=null;this.Lt.clear();this.Lt=null;this.Fz.clear();this.Fz=null}mV(a){const g=this.Fz.get(a);if(g)return g;for(const c of this.Xg)if(c.we===a)return this.Fz.set(a,c),c}DU(a){for(const g of this.Xg)if(g.we>
a)return g}CU(a){for(const g of this.Xg)if(g.we>=a)return g}EU(a){for(let g=this.Xg.length-1;0<=g;g--){const c=this.Xg[g];if(c.we<=a)return c}}gb(a,g,c,d){var k=a/d;(a=this.mV(k))?d=this.DU(k):(a=this.EU(k),d=this.CU(k));k=e.a9(k,a.we,d.we,d.we-a.we);const h=a.we,l=a.nu,p=a.we+a.bQ,n=a.nu+a.J7,t=d.we+d.nO,q=d.nu+d.T6,u=d.we;d=d.nu;d=b.Im("spline")(k,h,l,p,n,t,q,u,d,this.Lt.get(a));d+=a.nu;return(1-d)*g+d*(g+c)}g4(){this.Lt.clear();for(let g=0;g<this.Xg.length-1;g++){var a=this.Xg[g];if(!a.Zt)continue;
const c=this.Xg[g+1];this.Lt.set(a,b.fU(a.we,a.we+a.bQ,c.we+c.nO,c.we))}}}}"use strict";{const e=self.B;e.uL=class extends e.${constructor(b,a){super();this.we=a[0];this.nu=a[1];this.bQ=a[2];this.J7=a[3];this.nO=a[4];this.T6=a[5];this.Zt=a[6];this.Sx=a[7]}j(){}static Na(b,a){return e.A(e.uL,b,a)}}}"use strict";{const e=self.B;e.x_=class extends e.${constructor(b){super();this.g=b;this.Gz=[]}j(){for(const b of this.Gz)b.j();e.D(this.Gz);this.Gz=null}Na(b){this.Gz.push(e.tL.Na(b))}}}"use strict";
{const e=self.B;e.f_=class extends e.${constructor(b){super();this.I=b;this.cb=[];this.cb.push(e.A(e.IC,this));this.Ma=0;this.Mh=this.cb[0]}j(){for(const b of this.cb)b.j();e.D(this.cb);this.I=this.Mh=null}G(){return this.I}P(){return this.Mh}Zc(){this.P().Zc()}qY(){var b=this.cb,a=++this.Ma;a===b.length?(a=e.A(e.IC,this),b.push(a),this.Mh=a):(b=b[a],b.dd(),this.Mh=b)}rY(){const b=this.cb,a=++this.Ma;a===b.length&&b.push(e.A(e.IC,this));const g=b[a];g.qS(b[a-1]);this.Mh=g}Aa(){this.Mh=this.cb[--this.Ma]}Zm(b){const a=
this.cb;for(let g=0,c=a.length;g<c;++g)a[g].Zm(b)}}}"use strict";
{const e=self.B;e.IC=class extends e.${constructor(b){super();this.cb=b;this.I=this.cb.G();this.td=this.I.H().Fc();this.Rb=!0;this.F=[];this.Qb=[]}j(){this.Xu();this.td=this.I=this.cb=null}Xu(){e.D(this.F);e.D(this.Qb)}G(){return this.I}BB(){return this.Rb?!!this.I.F.length:!!this.F.length}ba(){return this.Rb?this.I.ba():this.F}uV(){return!!this.Qb.length}fB(){const b=this.ba();return b.length?b:this.Qb}dd(){this.Rb=!0;e.D(this.Qb)}Zc(){this.Rb=!0}qS(b){b.Rb?this.dd():(this.Rb=!1,e.Dc(this.F,b.F),
e.D(this.Qb))}hn(b){this.F.push(b)}wl(b){this.Qb.push(b)}Qd(b){this.Rb=!!b}Mi(b){this.Rb=!1;e.D(this.F);this.F.push(b)}Yr(b){this.Rb=!1;e.Dc(this.F,b)}js(b){this.Rb=!1;e.D(this.F);for(const a of b)this.F.push(a)}ZH(b,a){for(const g of a)b.has(g)||this.Qb.push(g)}v_(b){for(const a of b)this.F.push(a);e.ng(this.Qb,b)}il(b){b&&(this.td.Ge().sb().vd?(this.Rb&&(e.D(this.F),e.Dc(this.Qb,b.G().ba()),this.Rb=!1),b=this.Qb.indexOf(b),-1!==b&&(this.F.push(this.Qb[b]),this.Qb.splice(b,1))):this.Mi(b))}Zm(b){e.ng(this.F,
b);e.ng(this.Qb,b)}}}"use strict";
{const e=self.B;e.ST=class extends e.${constructor(b){super();this.pa=b;this.g=this.pa.H();this.cb=[];this.cb.push(e.A(e.GI,this,null));this.Ma=0;this.Ux=[]}j(){for(const b of this.cb)b.j();e.D(this.cb);e.D(this.Ux);this.g=this.pa=null}ga(){return this.pa}H(){return this.g}Ge(){return this.cb[this.Ma]}Ca(b){var a=this.cb;const g=++this.Ma;if(g===a.length)return b=e.A(e.GI,this,b),a.push(b),b;a=a[g];a.dd(b);return a}Aa(){--this.Ma}sY(b){this.Ux.push(b)}lY(){this.Ux.pop()}mU(){const b=this.Ux;return 0===
b.length?null:b[b.length-1]}}}"use strict";
{const e=self.B;e.GI=class extends e.${constructor(b,a){super();this.cb=b;this.g=this.cb.H();this.Ws=a;this.rf=this.Zj=0;this.KE=this.Qn=!1;this.PE=null;this.XE=this.wO=0}j(){this.dd(null);this.g=this.cb=null}dd(b){this.Ws=b;this.rf=this.Zj=0;this.KE=this.Qn=!1}DD(b,a){this.Ws=b;this.Zj=0;this.rf=a}zK(){this.rf=this.Zj=0}sb(){return this.Ws}Qf(b){this.Ws=b}nl(b){this.Zj=b}pw(b){this.rf=b}ql(b){this.Qn=!!b}ip(b){this.KE=!!b}sZ(b){this.PE=b}$V(b,a){this.wO=b;this.XE=a}ww(b){this.XE=b}Ji(){const b=this.Ws;
return b.Ky?!0:this.Zj<b.Mb.length-1?!!b.$c().length:!1}}}"use strict";{const e=self.B;e.mX=class extends e.${constructor(b){super();this.pa=b;this.g=this.pa.H();this.cb=[];this.Ma=-1;this.Mh=null;this.qy=[]}j(){e.D(this.cb);this.g=this.pa=null}H5(b){this.qy=b;b=this.qy.slice(0);this.cb.push(b);this.Ma=0;this.Mh=b}ga(){return this.pa}H(){return this.g}kh(){return this.Mh}Ca(){const b=++this.Ma,a=this.cb;b===a.length?a.push(this.qy.slice(0)):e.Dc(a[b],this.qy);this.Mh=a[b]}Aa(){this.Mh=this.cb[--this.Ma]}}}"use strict";
{const e=self.B;e.pX=class extends e.${constructor(b){super();this.pa=b;this.g=this.pa.H();this.cb=[];this.Ma=-1}j(){e.D(this.cb);this.g=this.pa=null}ga(){return this.pa}H(){return this.g}FJ(){return 0<=this.Ma}kh(){return this.cb[this.Ma]}Ca(){++this.Ma;if(this.Ma===this.cb.length){var b=e.A(e.nX,this);this.cb.push(b);return b}b=this.cb[this.Ma];b.dd();return b}Aa(){--this.Ma}WT(b){const a=this.cb;for(let g=this.Ma;0<=g;--g){const c=a[g];if(c.V===b)return c}return null}}}"use strict";
{const e=self.B;e.nX=class extends e.${constructor(b){super();this.Ve=b;this.V="";this.Ma=0;this.Yb=!1}dd(){this.V="";this.Ma=0;this.Yb=!1}yw(b){this.V=b}qc(b){this.Ma=b}xa(){return this.Ma}Ag(){this.Yb=!0}}}"use strict";{const e=self.B;e.IR=class extends e.${constructor(){super();this.cb=[];this.Ma=-1}j(){e.D(this.cb)}kh(){return this.cb[this.Ma]}Ca(){++this.Ma;if(this.Ma===this.cb.length){const b=[];this.cb.push(b);return b}return this.cb[this.Ma]}Aa(){--this.Ma}}}"use strict";
{const e=self.B;function b(a,g){return a.xa()-g.xa()}e.RT=class extends e.${constructor(a){super();this.g=a;this.Ks=[];this.qG=new Map;this.fE=[];this.BO=new Map;this.sE=new Map;this.yE=new Map;this.qx=new Map;this.YN=new Map;this.NE=new Map;this.y7=0;this.eE=[];this.y6=[];this.rP=[];this.VE=new Map;this.td=e.A(e.ST,this);this.Vc=e.A(e.mX,this);this.Ve=e.A(e.pX,this);this.GG=[];this.oz=[];this.nz=[];this.rE=this.$f=this.vk=0;this.yf=[];this.yx=[];self.c3_callFunction=(g,c)=>this.Xw(g,c)}j(){this.Wu();
this.td.j();this.td=null;this.Vc.j();this.Vc=null;e.D(this.oz);e.D(this.nz);this.g=null;e.D(this.Ks);this.qG.clear()}Na(a){a=e.A(e.QT,this,a);this.Ks.push(a);this.qG.set(a.V.toLowerCase(),a)}h0(a){this.GG.push(a)}Cb(){for(const a of this.VE.values())a.Cb(!1);for(const a of this.Ks)a.Cb();for(const a of this.Ks)a.RD();for(const a of this.GG)a.Cb(!1);e.D(this.GG);this.Vc.H5(this.rP)}H(){return this.g}VI(a){return this.qG.get(a.toLowerCase())||null}s4(a){this.fE.push(a);this.BO.set(a.AO,a)}p4(a){this.sE.set(a.Ya,
a)}o4(a){this.yE.set(a.Ya,a)}n4(a){this.qx.set(a.Ya,a)}r4(a){this.VE.set(a.ey.toLowerCase(),a)}q4(a){this.NE.set(a.Ya,a);a.Nf()?this.eE.push(a):this.y6.push(a)}Nw(a){2<=a.length&&a.sort(b);let g=this.YN.get(a.length);g||(g=[],this.YN.set(a.length,g));for(let d=0,k=g.length;d<k;++d){const h=g[d];a:{for(let l=0,p=a.length;l<p;++l)if(a[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}g.push(a);return a}k2(a){this.rP.push(a.Jn);return this.y7++}Fc(){return this.td}Fe(){return this.Fc().Ge()}sb(){return this.Fe().sb()}ef(){const a=
this.Fe();return a.sb().RI(a.Zj)}zr(){const a=this.Fe();return a.sb().MI(a.rf)}bU(a){const g=[];for(a=a.No();a;)e.qo(g,a.kM()),a=a.No();return g}uM(a){const g={};for(const c of this.bU(a))g[c.mh()]=c.wM();return Object.create(Object.prototype,g)}eB(a){return this.NE.get(a)||null}rU(a){return this.sE.get(a)||null}$T(a){return this.qx.get(a)||null}Av(a){return this.VE.get(a.toLowerCase())||null}LY(){for(const a of this.eE)a.QY()}UI(a){return this.BO.get(a.toLowerCase())||null}sU(a){return(a=this.sE.get(a))&&
a.Zh?a:null}MY(){for(const a of this.fE)a.NY()}lN(){for(const a of this.Ks)a.F4()}VY(a){this.lN();this.vk++;for(const g of a.Ku())if(a=g.hc)this.g.Wm(g),a.na(),this.g.Um();this.vk--}async GS(a){this.lN();this.vk++;for(const g of this.c1(a))await this.g.Eo(g);this.vk--}*c1(a){for(const g of a.Ku())if(a=g.hc)this.g.Wm(g),yield*a.fb(),this.g.Um()}Js(a,g,c,d){let k=!1;if(!a.Kb())return this.fC(g,c,d);this.$f++;for(const h of a.Ku())if(a=h.hc){this.g.Wm(h);for(const l of a.Kp){const p=l.Js(g,c,d);k=k||
p}a=a.Js(g,c,d);k=k||a;this.g.Um()}this.$f--;return k}*us(a,g,c,d){let k=!1;if(!a.Kb())return this.fC(g,c,d);this.$f++;for(const h of a.Ku())if(a=h.hc){this.g.Wm(h);for(const l of a.Kp){const p=yield*l.us(g,c,d);k=k||p}a=yield*a.us(g,c,d);k=k||a;this.g.Um()}this.$f--;return k}fC(a,g,c){this.oz.push([a,g,c]);return!1}uY(a,g,c){let d=null;const k=new Promise(h=>d=h);this.nz.push([a,g,c,d]);return k}*P4(){if(this.g.Qv())throw Error("should not be in breakpoint");const a=this.g.$a;for(;this.nz.length;){const [g,
c,d,k]=this.nz.shift(),h=yield*this.us(a,g,c,d);k(h)}}async BK(){for(const a of this.P4())await this.g.Eo(a)}Rw(a,g,c,d){let k=!1;var h=a.Kb();if(a=h.hc){this.$f++;this.g.Wm(h);h=a.Kp;for(let l=0,p=h.length;l<p;++l){const n=h[l].Rw(g,c,d);k=k||n}g=a.Rw(g,c,d);k=k||g;this.g.Um();this.$f--;return k}}*Mw(a,g,c,d){let k=!1;var h=a.Kb();if(a=h.hc){this.$f++;this.g.Wm(h);h=a.Kp;for(let l=0,p=h.length;l<p;++l){const n=yield*h[l].Mw(g,c,d);k=k||n}g=yield*a.Mw(g,c,d);k=k||g;this.g.Um();this.$f--;return k}}RB(){return 0<
this.$f}ys(){return++this.$f}vs(){--this.$f}PW(){return 0<this.vk}Wv(){return this.PW()||this.RB()}Q4(a){for(const [g,c,d]of this.oz)this.Js(a,g,c,d);e.D(this.oz)}ae(a){a?this.rE++:this.rE--}DJ(){return 0<this.rE}Bo(a){for(let g=0,c=a.length;g<c;++g)a[g].Vl.Zc()}Of(a){for(let g=0,c=a.length;g<c;++g)a[g].Vl.qY()}he(a){for(let g=0,c=a.length;g<c;++g)a[g].Vl.rY()}Bb(a){for(let g=0,c=a.length;g<c;++g)a[g].Vl.Aa()}vA(){const a=e.A(e.oC,this);this.yf.push(a);return a}XY(){if(this.yf.length){var a=this.Fe(),
g=!1;this.vk++;for(let c=0,d=this.yf.length;c<d;++c){const k=this.yf[c];k.JN()&&k.H4(a);k.Vt&&(g=!0)}g&&this.hM();this.vk--}}async IS(){if(this.yf.length){var a=this.Fe(),g=!1;this.vk++;for(let c=0,d=this.yf.length;c<d;++c){const k=this.yf[c];k.JN()&&await k.X0(a);k.Vt&&(g=!0)}g&&this.hM();this.vk--}}hM(){const a=e.a8(this.yf,g=>g.Vt);for(const g of a)g.j()}Wu(){for(const a of this.yf)a.j();e.D(this.yf)}CY(a){for(const g of this.yf)g.Zm(a)}tA(a){this.yx.push(a)}Yu(){e.D(this.yx)}fV(){const a=Promise.all(this.yx);
this.yx=[];return a}ja(){return{groups:this.X4(),cnds:this.W4(),acts:this.V4(),vars:this.i5(),waits:this.e5()}}qa(a){this.Y2(a.groups);this.T2(a.cnds);this.S2(a.acts);this.l3(a.vars);this.h3(a.waits)}X4(){const a={};for(const g of this.fE)a[g.Ya.toString()]=g.Qr();return a}Y2(a){for(const [g,c]of Object.entries(a))(a=this.sU(parseInt(g,10)))&&a.jp(c)}W4(){const a={};for(const [g,c]of this.yE){const d=c.ja();d&&(a[g.toString()]=d)}return a}T2(a){const g=new Map;for(const [c,d]of Object.entries(a))g.set(parseInt(c,
10),d);for(const [c,d]of this.yE)d.qa(g.get(c)||null)}V4(){const a={};for(const [g,c]of this.qx){const d=c.ja();d&&(a[g.toString()]=d)}return a}S2(a){const g=new Map;for(const [c,d]of Object.entries(a))g.set(parseInt(c,10),d);for(const [c,d]of this.qx)d.qa(g.get(c)||null)}i5(){const a={};for(const [g,c]of this.NE)c.mb||!c.Nf()&&!c.Ng||(a[g.toString()]=c.oc());return a}l3(a){for(const [g,c]of Object.entries(a))(a=this.eB(parseInt(g,10)))&&a.Sf(c)}e5(){return this.yf.filter(a=>!a.OW()).map(a=>a.ja())}h3(a){this.Wu();
for(const g of a)(a=e.oC.C0(this,g))&&this.yf.push(a)}RA(a){for(;a;)if(a=a.No(),a instanceof e.rr)return a;return null}Xw(a,g){Array.isArray(g)||(g=[]);a=this.Av(a.toLowerCase());if(!a)return null;if(!a.ug())return a.Br();var c=a.ag;if(g.length<c.length){g=g.slice(0);do g.push(c[g.length].Jn);while(g.length<c.length)}c=a.ee();return c.lC(c.ad(),a.tk,a.Br(),...g)}}}"use strict";
{const e=self.B;e.QT=class extends e.${constructor(b,a){super();this.pa=b;this.g=b.H();this.V=a[0];this.Tx=[];this.Iz=new Map;this.Yx=new Map;this.U6=new Map;this.et=!1;this.UP=[];this.Kp=[];this.ZN=new Set;for(const g of a[1])this.TL(g,null,this.Tx);this.ei=this.g.ub?{type:"sheet",name:this.V,Mu:0,children:[]}:null}j(){this.g=this.pa=null}TL(b,a,g){switch(b[0]){case 0:case 3:this.A0(b,a,g);break;case 1:this.B0(b,a,g);break;case 2:this.F0(b,a,g);break;case 4:this.D0(b,a);break;case 5:this.K0(b,a,
g);break;default:throw Error("invalid event type");}}A0(b,a,g){b=e.rj.Na(this,a,b);if(b.vd){g.push(b);g=b.Mb;for(let c=0,d=g.length;c<d;++c)g[c].Tm()&&this.FM(b,c)}else b.Tm()?this.FM(b,0):g.push(b)}D0(b,a){b=e.rr.Na(this,a,b);this.pa.r4(b)}B0(b,a,g){b=e.mv.Na(this,a,b);g.push(b)}F0(b,a,g){b=e.FI.Na(this,a,b);g.push(b)}K0(b,a,g){b=e.lv.Na(this,a,b);g.push(b)}FM(b,a){b.vd||this.pa.h0(b);var g=b.RI(a),c=g.Ga,d=g.G();if(g.WO){var k=this.Yx.get(d);k||(k=new Map,this.Yx.set(d,k));g=g.wU().toLowerCase();
d=k.get(c);d||(d=new Map,k.set(c,d));c=d.get(g);c||(c=[],d.set(g,c));c.push([b,a])}else k=this.Iz.get(d),k||(k={vH:new Map,su:new Map},this.Iz.set(d,k)),(d=g.pg())?(g=k.su.get(d),g||(g=new Map,k.su.set(d,g))):g=k.vH,k=g.get(c),k||(k=[],g.set(c,k)),k.push([b,a])}Cb(){const b=this.Tx;for(let a=0,g=b.length;a<g;++a)b[a].Cb(a<g-1&&b[a+1]instanceof e.rj&&b[a+1].Vv())}g0(b){this.UP.push(b)}RD(){e.D(this.Kp);this.EL(this);this.ZN.clear()}EL(b){const a=b.Kp,g=b.ZN;for(const c of this.UP){const d=c.it;c.tb&&
b!==d&&!g.has(d)&&(g.add(d),d.EL(b),a.push(d))}}ga(){return this.pa}H(){return this.g}gN(b,a){this.U6.set(a,b)}F4(){this.et=!1}na(){if(!this.et){var b=this.g,a=b.MB(),g=a?performance.now():0;this.et=!0;var c=this.ga(),d=c.Fe();for(const k of this.Tx)k.na(d),c.Bo(k.$c()),c.Yu(),b.Bd();d.dd(null);a&&(this.ei.Mu+=performance.now()-g)}}*fb(){if(!this.et){this.et=!0;var b=this.g,a=this.ga(),g=a.Fe();for(const c of this.Tx)yield*c.fb(g),a.Bo(c.$c()),a.Yu(),b.Bd();g.dd(null)}}Js(b,a,g){if(a){const c=a.G();
this.PD(b,a,c,g);for(const d of c.Lg)this.PD(b,a,d,g)}else return this.PD(b,a,null,null)}PD(b,a,g,c){g=this.Iz.get(g);if(!g)return!1;c=c?g.su.get(c):g.vH;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [d,k]of c)c=this.Pw(a,d,k),b=b||c;return b}*us(b,a,g){if(a){const c=a.G();yield*this.eD(b,a,c,g);for(const d of c.Lg)yield*this.eD(b,a,d,g)}else return yield*this.eD(b,a,null,null)}*eD(b,a,g,c){g=this.Iz.get(g);if(!g)return!1;c=c?g.su.get(c):g.vH;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;
for(const [d,k]of c)c=d.Md()?this.Pw(a,d,k):yield*this.VL(a,d,k),b=b||c;return b}Rw(b,a,g){a=a.G();a=this.Yx.get(a);if(!a)return!1;b=a.get(b);if(!b)return!1;g=b.get(g);if(!g)return!1;b=!1;for(let c=0,d=g.length;c<d;++c)a=g[c],a=this.Pw(null,a[0],a[1]),b=b||a;return b}*Mw(b,a,g){a=a.G();a=this.Yx.get(a);if(!a)return!1;b=a.get(b);if(!b)return!1;g=b.get(g);if(!g)return!1;b=!1;for(let d=0,k=g.length;d<k;++d){var c=g[d];a=c[0];c=c[1];a=a.Md()?this.Pw(null,a,c):yield*this.VL(null,a,c);b=b||a}return b}Pw(b,
a,g){const c=this.g,d=this.pa,k=d.sb(),h=d.Fc(),l=d.$f;let p=!1;k&&d.Of(k.ad());d.Of(a.ad());const n=1<l;n&&d.Vc.Ca();const t=h.Ca(a);b&&(a.Mb[g].G().P().Mi(b),b.pc()&&b.wh());b=!0;if(a.za()){const q=a.ko;for(let u=0,v=q.length;u<v;++u)if(!q[u].AK(t)){b=!1;break}}b&&(c.Ej(),a.vd?a.WY(t,g):a.na(t),p=t.Qn);h.Aa();n&&d.Vc.Aa();d.Bb(a.ad());k&&d.Bb(k.ad());k||1!==l||(d.Yu(),d.DJ()||c.Bd());return p}*VL(b,a,g){const c=this.g,d=this.pa,k=d.sb(),h=d.Fc(),l=d.$f;let p=!1;k&&d.Of(k.ad());d.Of(a.ad());const n=
1<l;n&&d.Vc.Ca();const t=h.Ca(a);b&&(a.Mb[g].G().P().Mi(b),b.pc()&&b.wh());b=!0;if(a.za()){const q=a.ko;for(let u=0,v=q.length;u<v;++u)if(!(yield*q[u].xI(t))){b=!1;break}}b&&(c.Ej(),a.vd?yield*a.HS(t,g):yield*a.fb(t),p=t.Qn);h.Aa();n&&d.Vc.Aa();d.Bb(a.ad());k&&d.Bb(k.ad());k||1!==l||(d.Yu(),d.DJ()||c.Bd());return p}}}"use strict";
{const e=self.B,b=[];function a(){return!0}function*g(){return!0}e.rj=class extends e.${constructor(c,d,k){super();this.hc=c;this.g=c.H();this.ic=d;this.Jd=null;this.td=this.g.ga().Fc();this.se=[];this.wq=[];this.ct=this.My=this.Ky=this.GO=!1;this.vd=!!k[2];this.zy=!1;this.ko=null;this.Mb=[];this.Wf=[];this.Wg=[];this.Ch=a;this.cn=g;this.sF=this.Zh=!1;this.AO="";this.Cy=!1;this.ei=this.Kx=null;this.Ya=k[4];this.Mp=k[5];this.hc.gN(this,this.Mp);this.Ka=this.g.ub?{Cc:k[3][0],pH:k[3][1],qQ:!1,bH:!1,
cH:!1,rQ:!1}:null;this.ga().p4(this);3===k[0]&&this.B2(k[1]);c=0;for(var h of k[6])d=e.qI.Na(this,h,c++),this.Mb.push(d),this.JL(d.G());c=0;for(const l of k[7])h=e.Pu.Na(this,l,c++),this.Wf.push(h);if(9===k.length){k=k[8];for(const l of k)this.hc.TL(l,this,this.Wg)}this.Mb.length&&(this.zy=null===this.Mb[0].G()&&this.Mb[0].Ga===e.C.Xa.K.DI);0===this.Mb.length&&(this.Mb=b);0===this.Wf.length&&(this.Wf=b);0===this.Wg.length&&(this.Wg=b)}static Na(c,d,k){return e.A(e.rj,c,d,k)}B2(c){this.Zh=!0;this.Cy=
this.sF=!!c[0];this.AO=c[1].toLowerCase();this.Kx=[];this.ga().s4(this);this.g.ub&&(this.ei={type:"group",name:c[1],Mu:0,children:[]})}Z_(c){this.Kx.push(c)}DL(c,d){for(const k of c.Lh.pk)d.includes(k)||d.push(k)}KL(c,d){if(c)if(d.includes(c)||d.push(c),c.Ra)for(const k of c.Dn)k.pc()&&this.DL(k,d);else c.pc()&&this.DL(c,d)}JL(c){this.KL(c,this.se)}c0(c){this.KL(c,this.wq)}eZ(){this.se=this.g.xc}Cb(c){this.ct=!!c;this.v2();this.w2();for(const k of this.Mb)k.Cb();if(0<this.Wf.length){c=!1;for(var d of this.Wf)d.Cb(),
d.DV()&&(c=!0);c?(this.Ch=this.J4,this.cn=this.Z0):(this.Ch=this.I4,this.cn=this.Y0)}d=this.Wg;for(let k=0,h=d.length;k<h;++k)d[k].Cb(k<h-1&&d[k+1]instanceof e.rj&&d[k+1].Vv());this.Ka&&this.k6();this.ei&&this.l2().ei.children.push(this.ei)}l2(){let c=this.za();for(;c;){if(c.Zh)return c;c=c.za()}return this.hc}k6(){const c=this.Ka;c.qQ=this.Mb.every(d=>d.Md());c.bH=this.Wf.every(d=>d.Md());c.cH=this.Wg.every(d=>d.Md());c.rQ=c.qQ&&c.bH&&c.cH}v2(){if(this.Zh){var c=this.za();for(this.My=!0;c;){if(!c.Zh){this.My=
!1;break}c=c.za()}}}u2(){var c=this.g.xc;if(this.se===c)this.wq=c;else{this.wq=e.eH(this.se);for(c=this.za();c;){for(var d of c.se)this.c0(d);c=c.za()}d=this.ga();this.se=d.Nw(this.se);this.wq=d.Nw(this.wq)}}w2(){if(this.vV()){this.ko=[];for(var c=this.za();c;)this.ko.push(c),c=c.za();this.ko.reverse()}}ks(){this.Ky=!0;this.ic&&this.ic.ks()}$c(){return this.se}ad(){this.GO||(this.GO=!0,this.u2());return this.wq}FV(c){return this.se.includes(c)}ga(){return this.hc.ga()}H(){return this.g}za(){return this.ic}M5(c){this.Jd=
c}No(){return this.Jd||this.ic}NB(){return this.Ka&&this.Ka.pH}Pm(){return this.NB()&&this.Ka.Cc}Vv(){return this.zy}Qr(){return this.Cy}NY(){this.jp(this.sF)}jp(c){c=!!c;if(!this.Zh)throw Error("not a group");if(this.Cy!==c){this.Cy=c;for(const d of this.Kx)d.vL();this.Kx.length&&(c=this.g.Oa().hc)&&c.RD()}}Tm(){return this.Mb.length&&this.Mb[0].Tm()}JW(){return this.Jd&&this.Jd instanceof e.rr}vV(){return this.JW()||this.Mb.some(c=>c.Tm())}RI(c){c=Math.floor(c);if(0>c||c>=this.Mb.length)throw new RangeError("invalid condition index");
return this.Mb[c]}IW(c){let d=c.xa();if(0===d)return!0;for(--d;0<=d;--d)if(this.Mb[d].G()===c.G())return!1;return!0}MI(c){c=Math.floor(c);if(0>c||c>=this.Wf.length)throw new RangeError("invalid action index");return this.Wf[c]}t2(c){c=Math.floor(c);return 0<=c&&c<this.Wf.length}kM(){return this.Wg.filter(c=>c instanceof e.mv)}AK(c){c.Qf(this);let d=!1;const k=this.Mb;for(let h=0,l=k.length;h<l;++h){const p=k[h];c.nl(h);if(p.Ey)throw Error("trigger cannot be used as sub-event to a loop");if(p.na())d=
!0;else if(!this.vd)return!1}return this.vd?d:!0}WY(c,d){c.Qf(this);this.Mb[d].na()&&(this.Ch(c,0)&&this.Tj(),c.ql(!0))}*xI(c){c.Qf(this);let d=!1;const k=this.Mb;for(let h=0,l=k.length;h<l;++h){const p=k[h];c.nl(h);if(p.Ey)throw Error("trigger cannot be used as sub-event to a loop");if(p.Md()?p.na():yield*p.fb())d=!0;else if(!this.vd)return!1}return this.vd?d:!0}*HS(c,d){c.Qf(this);d=this.Mb[d];if(d.Md()?d.na():yield*d.fb())(this.gv()?this.Ch(c,0):yield*this.cn(c,0))&&(this.hv()?this.Tj():yield*this.ts()),
c.ql(!0)}na(c){c.Qf(this);this.zy||c.ip(!1);this.vd?this.O4(c):this.dx(c)}*fb(c){if(this.Pm()||this.g.Ub())yield this;c.Qf(this);this.zy||c.ip(!1);this.vd?yield*this.j1(c):yield*this.bD(c)}O4(c){const d=this.Mb;let k=0===d.length;for(let l=0,p=d.length;l<p;++l){var h=d[l];h.Tm()||(c.nl(l),h=h.na(),k=k||h)}c.ql(k);k&&(this.Ch(c,0)&&this.Tj(),this.ct&&c.ip(!0))}*j1(c){const d=this.Mb;let k=0===d.length;for(let l=0,p=d.length;l<p;++l){var h=d[l];h.Tm()||(c.nl(l),h=h.Md()?h.na():yield*h.fb(),k=k||h)}c.ql(k);
k&&((this.gv()?this.Ch(c,0):yield*this.cn(c,0))&&(this.hv()?this.Tj():yield*this.ts()),this.ct&&c.ip(!0))}dx(c){const d=this.Mb;for(let k=0,h=d.length;k<h;++k){const l=d[k];c.nl(k);if(!l.na()){c.ql(!1);return}}c.ql(!0);this.Ch(c,0)&&this.Tj();c.Qn&&this.ct&&c.ip(!0)}*bD(c){const d=this.Mb;for(let k=0,h=d.length;k<h;++k){const l=d[k];c.nl(k);if(l.Md()?!l.na():!(yield*l.fb())){c.ql(!1);return}}c.ql(!0);(this.gv()?this.Ch(c,0):yield*this.cn(c,0))&&(this.hv()?this.Tj():yield*this.ts());c.Qn&&this.ct&&
c.ip(!0)}I4(c,d){const k=this.Wf;for(let h=d,l=k.length;h<l;++h)d=k[h],c.pw(h),d.na();return!0}*Y0(c,d){const k=this.Wf;for(let h=d,l=k.length;h<l;++h)d=k[h],c.pw(h),d.Md()?d.na():yield*d.fb();return!0}J4(c,d){const k=this.ga(),h=this.Wf;for(let l=d,p=h.length;l<p;++l){d=h[l];c.pw(l);const n=d.na();if(d.iI()&&!0===n)return!1;d.Mf()&&n instanceof Promise&&k.tA(n)}return!0}*Z0(c,d){const k=this.ga(),h=this.Wf;for(let l=d,p=h.length;l<p;++l){d=h[l];c.pw(l);let n;n=d.Md()?d.na():yield*d.fb();if(d.iI()&&
!0===n)return!1;d.Mf()&&n instanceof Promise&&k.tA(n)}return!0}G4(c){this.Ch(c,c.rf)&&this.Tj()}*W0(c){if(yield*this.cn(c,c.rf))yield*this.ts()}Tj(){if(this.Wg.length){var c=this.Zh&&this.g.MB(),d=c?performance.now():0,k=this.td,h=k.Ca(this);this.Ky?this.T4(h):this.S4(h);k.Aa();c&&(this.ei.Mu+=performance.now()-d)}}T4(c){const d=this.Zh,k=this.My,h=this.ga(),l=this.Wg;for(let p=0,n=l.length,t=n-1;p<n;++p){const q=l[p],u=q.$c(),v=!k||!d&&p<t;v&&h.he(u);q.na(c);v?h.Bb(u):h.Bo(u)}}S4(c){const d=this.Wg;
for(let k=0,h=d.length;k<h;++k)d[k].na(c)}*ts(){if(this.Wg.length){var c=this.td,d=c.Ca(this);this.Ky?yield*this.m1(d):yield*this.l1(d);c.Aa()}}*m1(c){const d=this.Zh,k=this.My,h=this.ga(),l=this.Wg;for(let p=0,n=l.length,t=n-1;p<n;++p){const q=l[p],u=q.$c(),v=!k||!d&&p<t;v&&h.he(u);yield*q.fb(c);v?h.Bb(u):h.Bo(u)}}*l1(c){const d=this.Wg;for(let k=0,h=d.length;k<h;++k)yield*d[k].fb(c)}Pf(c,d){this.g.Ej();d.zK();const k=this.Mb;if(!this.vd)for(let h=c.Zj+1,l=k.length;h<l;++h)if(c=k[h],d.nl(h),!c.na())return!1;
this.Ch(d,0)&&this.Tj();return!0}*Df(c,d){this.g.Ej();d.zK();const k=this.Mb;if(!this.vd)for(let h=c.Zj+1,l=k.length;h<l;++h)if(c=k[h],d.nl(h),c.Md()?!c.na():!(yield*c.fb()))return!1;(this.gv()?this.Ch(d,0):yield*this.cn(d,0))&&(this.hv()?this.Tj():yield*this.ts());return!0}Md(){return!this.Pm()&&!this.g.Ub()&&this.Ka.rQ}gv(){return!this.g.Ub()&&this.Ka.bH}hv(){return!this.g.Ub()&&this.Ka.cH}WC(c){if(this.za()){const d=this.ko;for(let k=0,h=d.length;k<h;++k)if(!d[k].AK(c))return!1}return!0}*UL(c){if(this.za()){const d=
this.ko;for(let k=0,h=d.length;k<h;++k)if(!(yield*d[k].xI(c)))return!1}return!0}gM(c,d,k){0<d.length?k?(d=d.map(h=>h.W(0)),c.Vc.Ca(),this.Jd.bs(d)):this.Jd.PT(d):k&&c.Vc.Ca()}TY(c,d){let k,h;const l=0<c.length;var p=this.g;const n=this.td,t=p.ga(),q=1<t.ys();this.gM(t,d,q);l&&t.Of(c);d=n.Ca(this);this.WC(d)&&(p.Ej(),d.Qf(this),(p=this.Jd.Mf())&&([h,k]=this.Jd.LC()),this.dx(d),p&&this.Jd.Sr(h));n.Aa();q&&t.Vc.Aa();l&&t.Bb(c);t.vs();return k}*ES(c,d){let k,h;if(this.Pm()||this.g.Ub())yield this;const l=
0<c.length;var p=this.g;const n=this.td,t=p.ga(),q=1<t.ys();this.gM(t,d,q);l&&t.Of(c);d=n.Ca(this);if(yield*this.UL(d))p.Ej(),d.Qf(this),(p=this.Jd.Mf())&&([h,k]=this.Jd.LC()),yield*this.bD(d),p&&this.Jd.Sr(h);n.Aa();q&&t.Vc.Aa();l&&t.Bb(c);t.vs();return k}UY(c){const d=this.ad(),k=0<d.length,h=this.g,l=this.td,p=h.ga(),n=1<p.ys();n&&p.Vc.Ca();this.Jd.bs(c);k&&p.Of(d);c=l.Ca(this);this.WC(c)&&(h.Ej(),c.Qf(this),this.dx(c));l.Aa();n&&p.Vc.Aa();k&&p.Bb(d);p.vs()}*FS(c){if(this.Pm()||this.g.Ub())yield this;
const d=this.ad(),k=0<d.length,h=this.g,l=this.td,p=h.ga(),n=1<p.ys();n&&p.Vc.Ca();this.Jd.bs(c);k&&p.Of(d);c=l.Ca(this);if(yield*this.UL(c))h.Ej(),c.Qf(this),yield*this.bD(c);l.Aa();n&&p.Vc.Aa();k&&p.Bb(d);p.vs()}lC(c,d,k,...h){let l,p;const n=0<c.length,t=this.g,q=this.td,u=t.ga(),v=1<u.ys();v&&u.Vc.Ca();0<h.length&&this.Jd.bs(h);n&&u.Of(c);h=q.Ca(this);h.$V(d,k);q.sY(h);t.gp(!1);this.WC(h)&&(t.Ej(),h.Qf(this),(d=this.Jd.Mf())&&([p,l]=this.Jd.LC()),this.dx(h),d&&this.Jd.Sr(p));t.gp(!0);q.Aa();q.lY();
v&&u.Vc.Aa();n&&u.Bb(c);u.vs();return l||h.XE}}}"use strict";
{const e=self.B,b=[];let a=!1;e.lv=class extends e.${constructor(g,c,d){super();const k=g.H(),h=g.ga();this.hc=g;this.pa=h;this.g=g.H();this.ic=c;this.Ga=k.tg(d[1]);this.Mp=d[2];this.hc.gN(this,this.Mp);this.Ka=k.ub?{Cc:d[3][0],pH:d[3][1]}:null}static Na(g,c,d){return e.A(e.lv,g,c,d)}Cb(){const g=this.Ga,c=this.g.ga().uM(this);this.Ga=g.bind(null,this.g.Wh,c)}za(){return this.ic}No(){return this.ic}NB(){return this.Ka&&this.Ka.pH}Pm(){return this.NB()&&this.Ka.Cc}Vv(){return!1}$c(){return b}ad(){return this.ic?
this.ic.ad():b}na(g){g.Qf(this);this.pa.tA(this.U4())}async U4(){try{await this.Ga()}catch(g){console.error(`Unhandled exception running script %c${this.hc.V}, event ${this.Mp}:`,"font-size: 1.2em; font-weight: bold;",g),self.pi&&self.pi.J5(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*fb(g){g.Qf(this);if(this.Pm()||this.g.Ub())yield this;
this.na(g)}Md(){return!this.Pm()&&!this.g.Ub()}static qV(){return a}static wZ(){a=!0}}}"use strict";
{const e=self.B;e.rr=class extends e.${constructor(b,a,g){super();this.hc=b;this.g=b.H();this.ic=a;const c=g[1];this.ey=c[0];this.tk=c[1];this.ag=c[2].map(d=>e.mv.Na(b,this,d));this.Xb=c[3];this.hF=[];this.lt=c[4];this.u7=0;this.Vs=-1;this.Ms=new Map;this.Fd=e.rj.Na(b,a,g);this.Fd.M5(this)}static Na(b,a,g){return e.A(e.rr,b,a,g)}Cb(){for(const b of this.ag)b.Cb();this.Fd.Cb(!1)}kM(){return this.ag}t4(b){this.hF.push(b)}PT(b){const a=this.ag;for(let g=0,c=a.length;g<c;++g)a[g].Sf(b[g].W(0))}bs(b){const a=
this.ag;for(let g=0,c=a.length;g<c;++g)a[g].Sf(b[g])}ZR(){return this.ag.map(b=>b.oc())}za(){return this.ic}No(){return this.ic}ug(){return this.Xb}Br(){switch(this.tk){case 0:return null;case 2:return"";default:return 0}}ee(){return this.Fd}Mf(){return this.lt}LC(){const b=this.u7++;this.Vs=b;let a;const g=new Promise(c=>a=c);this.Ms.set(b,{resolve:a,BH:0});return[b,g]}Sr(b){const a=this.Ms.get(b);0===a.BH&&(a.resolve(),this.Ms.delete(b));this.Vs=-1}hY(){this.Ms.get(this.Vs).BH++;return this.Vs}SY(b){this.Vs=
b;this.Ms.get(b).BH--}}}"use strict";
{const e=self.B,b=[];e.mv=class extends e.${constructor(a,g,c){super();const d=a.ga();this.hc=a;this.pa=d;this.g=a.H();this.ic=g;this.Vc=d.Vc;this.V=c[1];this.Ba=c[2];this.Jn=c[3];this.Ng=!!c[4];this.mb=!!c[5];this.e7=g instanceof e.rr;this.Ya=c[6];this.wt=this.g.mh(c[8]);this.G7=k=>this.Sf(k);this.F7=()=>this.oc();this.JO=!this.ic||this.Ng||this.mb;this.Xc=this.Jn;this.NF=-1;this.xJ()&&(this.Xc=this.Xc?1:0);!this.UB()||this.Ng||this.mb||(this.NF=d.k2(this));d.q4(this)}static Na(a,g,c){return e.A(e.mv,
a,g,c)}Cb(){if(this.UB()&&!this.Ng&&!this.mb&&!this.e7){const a=this.pa.RA(this);a&&a.t4(this)}}mh(){return this.wt}za(){return this.ic}No(){return this.za()}Nf(){return!this.za()}UB(){return!this.Nf()}gl(){return 0===this.Ba}Hj(){return 1===this.Ba}xJ(){return 2===this.Ba}Vv(){return!1}$c(){return b}na(){!this.UB()||this.Ng||this.mb||this.Sf(this.Jn)}Md(){return!0}*fb(a){this.na(a)}Sf(a){this.gl()?"number"!==typeof a&&(a=parseFloat(a)):this.Hj()?"string"!==typeof a&&(a=a.toString()):this.xJ()&&(a=
a?1:0);this.JO?this.Xc=a:this.Vc.kh()[this.NF]=a}oc(){return this.JO?this.Xc:this.Vc.kh()[this.NF]}QY(){this.Xc=this.Jn}wM(){return{configurable:!1,enumerable:!0,get:this.F7,set:this.G7}}}}"use strict";
{const e=self.B,b=[];e.FI=class extends e.${constructor(a,g,c){super();const d=a.ga();this.hc=a;this.pa=d;this.g=a.H();this.ic=g;this.it=null;this.Z6=c[1];this.tb=!0}static Na(a,g,c){return e.A(e.FI,a,g,c)}Cb(){this.it=this.pa.VI(this.Z6);this.hc.g0(this);let a=this.za();for(;a;)a instanceof e.rj&&a.Zh&&a.Z_(this),a=a.za();this.vL();this.g.ub&&this.hc.ei.children.push(this.it.ei)}za(){return this.ic}$c(){return b}na(){const a=!!this.za(),g=this.g.xc;a&&this.pa.Of(g);this.it.na();a&&this.pa.Bb(g)}*fb(){const a=
!!this.za(),g=this.g.xc;a&&this.pa.Of(g);yield*this.it.fb();a&&this.pa.Bb(g)}Md(){return!1}vL(){let a=this.za();for(;a;){if(a instanceof e.rj&&a.Zh&&!a.Qr()){this.tb=!1;return}a=a.za()}this.tb=!0}}}"use strict";
{const e=self.B;e.Bm=class extends e.${constructor(l){super();this.Nb=l;this.g=l.H()}Cb(){}static xS(l,p){return e.A([k,c,d,h,b,a][p[0]],l,p)}};class b extends e.Bm{constructor(l,p){super(l);this.jd=this.g.Kr();this.Ga=this.g.tg(p[1]);this.Ga!==e.C.Xa.Jb.random&&this.Ga!==e.C.Xa.Jb.e8||this.Nb.HC()}md(){return this.jd.Oi(this.Ga,this.jd)}}class a extends e.Bm{constructor(l,p){super(l);this.Tp=null;this.ey=p[1];this.Nb.HC()}Cb(){const l=this.g.ga();this.Tp=l.Av(this.ey);this.ey=null;const p=this.Tp.ee();
this.$j=[...new Set([...this.Nb.ee().ad(),...p.ad()])];this.$j=l.Nw(this.$j)}md(){const l=this.Tp;if(l.ug())return e.rj.prototype.lC.bind(l.ee(),this.$j,l.tk,l.Br());{const p=l.Br();return()=>p}}}function g(l,p){if(l>=p)return l%p;0>l&&(l<=-p&&(l%=p),0>l&&(l+=p));return l}class c extends e.Bm{constructor(l,p){super(l);this.I=this.g.He(p[1]);this.Ga=this.g.tg(p[2]);this.Rt=!!p[3];this.td=this.g.ga().Fc();this.Nb.uD(this.I)}md(){return this.I.Ab().Oi(this.Ga,this.I.Gi().ra)}Vb(){const l=this.I,p=l.P().fB();
var n=p.length;if(0===n)return this.Rt?"":0;n=g(this.Nb.vq,n);this.td.Ge().sZ(l);return this.Ga.apply(p[n].ra,[])}}class d extends e.Bm{constructor(l,p){super(l);this.I=this.g.He(p[1]);this.kQ=p[3];this.Rt=!!p[2];this.Nb.uD(this.I)}Pc(){const l=this.I.P().fB();var p=l.length;if(0===p)return this.Rt?"":0;p=g(this.Nb.vq,p);return l[p].tM(this.kQ)}nv(){var l=this.I,p=l.P().fB(),n=p.length;if(0===n)return this.Rt?"":0;n=g(this.Nb.vq,n);p=p[n];l=p.G().gB(l.Mg);return p.tM(this.kQ+l)}}class k extends e.Bm{constructor(l,
p){super(l);this.I=this.g.He(p[1]);this.zc=this.I.sv(p[2]);this.Hh=this.I.yr(p[2]);this.Ga=this.g.tg(p[3]);this.Rt=!!p[4];this.td=this.g.ga().Fc();this.Nb.uD(this.I)}}class h extends e.Bm{constructor(l,p){super(l);this.Zf=null;this.ME=p[1]}Cb(){this.Zf=this.g.ga().eB(this.ME)}}}"use strict";
{const e=self.B;e.Le=class extends e.${constructor(y,E,x){super();this.Nb=y;this.Ma=x;this.Ba=E;this.W=null;this.mb=this.xe=!1}static Na(y,E,x){const F=E[0];return e.A([a,g,n,d,h,c,l,a,d,d,t,q,n,v,g,p,k,u,A][F],y,F,x,E)}Cb(){}HC(){this.xe=!0}uD(y){this.xe||!y||y.Ab().Ml||(this.xe=!0)}xa(){return this.Ma}H(){return this.Nb.H()}ee(){return this.Nb.ee()}};function b(y){y=self.SR[y];if(!y)throw Error("invalid expression number");return y}class a extends e.Le{constructor(y,E,x,F){super(y,E,x);this.vq=
0;y=F[1];this.OE=y[0];this.kq=[];this.Vx=null;for(let I=1,M=y.length;I<M;++I)this.kq.push(e.Bm.xS(this,y[I]));this.kq.length?this.W=this.uU:(this.W=b(this.OE),this.mb=!0)}X(y){if(0>y||y>=this.kq.length)throw new RangeError("invalid numbered node");return this.kq[y]}Cb(){for(var y of this.kq)y.Cb();y=b(this.OE);this.Vx=this.kq.length?y(this):y}uU(y){this.vq=y;return this.Vx()}}class g extends a{constructor(y,E,x,F){super(y,E,x,F);this.W=this.hV;14===E&&(this.ee().eZ(),this.Nb instanceof e.Pu&&this.ee().ks())}hV(y){this.vq=
y;y=this.Vx();return"string"===typeof y?y:""}e2(){return b(this.OE)()}}class c extends a{constructor(y,E,x,F){super(y,E,x,F);this.W=this.aa;this.mb=!1}aa(y){this.vq=y;y=this.Vx();return this.H().Oa().aa(y)}}class d extends e.Le{constructor(y,E,x,F){super(y,E,x);this.L6=F[1];this.W=this.lU;this.mb=!0}lU(){return this.L6}}class k extends e.Le{constructor(y,E,x,F){super(y,E,x);this.E6=F[1];this.W=this.hU;this.mb=!0}hU(){return this.E6}}class h extends e.Le{constructor(y,E,x,F){super(y,E,x);this.I=this.H().He(F[1]);
this.W=this.G;y=this.ee();y.JL(this.I);this.Nb instanceof e.Pu?y.ks():y.za()&&y.za().ks();this.mb=!0}G(){return this.I}}class l extends e.Le{constructor(y,E,x,F){super(y,E,x);this.Og=this.H().$a.Io(F[1]);this.W=this.Hf;this.mb=!0}Hf(){return this.Og}}class p extends e.Le{constructor(y,E,x,F){super(y,E,x);this.Yl=this.H().rb.Iv(F[1]);this.W=this.nc;this.mb=!0}nc(){return this.Yl}}class n extends e.Le{constructor(y,E,x,F){super(y,E,x);this.V6=F[1];this.W=this.xU;this.mb=!0}xU(){return this.V6}}class t extends e.Le{constructor(y,
E,x,F){super(y,E,x);this.TO=F[1];(y=this.Nb.G())&&y.Ra?(this.W=this.vU,this.HC()):(this.W=this.KU,this.mb=!0)}KU(){return this.TO}vU(y){y=y||0;const E=this.Nb.G();var x=E.P();const F=x.ba();if(F.length)y=F[y%F.length].G();else if(x.uV())x=x.Qb,y=x[y%x.length].G();else if(0<E.F.length)x=E.ba(),y=x[y%x.length].G();else return 0;return this.TO+y.gB(E.Mg)}}class q extends e.Le{constructor(y,E,x,F){super(y,E,x);this.ME=F[1];this.Zf=null;this.W=this.tU;this.mb=!0}Cb(){this.Zf=this.H().ga().eB(this.ME)}tU(){return this.Zf}}
class u extends e.Le{constructor(y,E,x,F){super(y,E,x);this.uO=F[1];this.Tp=null;this.W=this.GU;this.mb=!0}Cb(){this.Tp=this.H().ga().Av(this.uO);this.uO=null}GU(){return this.Tp}}class v extends e.Le{constructor(y,E,x,F){super(y,E,x);this.BG=[];this.lQ=[];this.mb=!0;for(let I=1,M=F.length;I<M;++I)y=e.Le.Na(this.Nb,F[I],0),this.BG.push(y),this.lQ.push(0),y.mb||(this.mb=!1);this.W=this.nV}Cb(){for(const y of this.BG)y.Cb()}nV(){const y=this.BG,E=this.lQ;for(let x=0,F=y.length;x<F;++x)E[x]=y[x].W(0);
return E}}class A extends e.Le{constructor(y,E,x,F){super(y,E,x);this.R6=F[1];this.W=this.Vk;this.mb=!0}Vk(){return this.R6}}}"use strict";
{const e=self.B;function b(c,d){for(let k=0,h=c.length;k<h;++k)d[k]=c[k].W(0)}const a=[],g=function(){};e.qI=class extends e.${constructor(c,d,k){super();this.Fd=c;this.g=c.H();this.Ma=k;this.Ga=this.g.tg(d[1]);this.xF=0<d[3];this.WO=2===d[3];this.Ey=!!d[4];this.$h=!!d[5];this.Ng=!!d[6];this.Ya=d[7];this.XO=this.Fd.vd;this.zc=this.I=null;this.Hh=-1;this.jd=null;this.fb=this.na=g;this.Ha=[];this.kb=[];this.Vj=!1;this.Yg=this.qb=null;this.Ka=this.g.ub?{Cc:d[8][0],$e:d[8][1]}:null;-1===d[0]?this.jd=
this.g.Kr():(this.I=this.g.He(d[0]),d[2]&&(this.zc=this.I.sv(d[2]),this.Hh=this.I.yr(d[2])),this.Fd.za()&&this.Fd.za().ks());if(10===d.length){c=d[9];for(let h of c)this.Ha.push(e.Le.Na(this,h,this.Ha.length)),this.kb.push(0)}0===this.Ha.length&&(this.kb=this.Ha=a);this.Fd.ga().o4(this)}static Na(c,d,k){return e.A(e.qI,c,d,k)}Cb(){for(const c of this.Ha)c.Cb(),c.xe&&(this.Vj=!0);this.WO?(this.na=this.K4,this.fb=this.d1):this.jd?(this.LD(),this.fb=this.dD):this.I.Ab().Ml?(this.KD(),this.fb=this.cD):
this.Ng?(this.na=this.R4,this.fb=this.k1):(this.na=this.rN,this.fb=this.e1)}LD(){this.Is(this.jd,this.jd,this.GD)}KD(){const c=this.I.Ab(),d=this.I.Gi().ra;this.Is(c,d,this.FD)}Is(c,d,k){const h=this.Ga,l=this.$h,p=this.Ha;if(0===p.length){const n=c.Oi(h,d);this.na=l?function(){return e.xor(n(),l)}:n}else if(1===p.length){const n=p[0];if(!l&&n.mb)this.na=c.mM(h,d,n.W(0));else{const t=c.Oi(h,d);this.na=function(){return e.xor(t(n.W(0)),l)}}}else if(2===p.length){const n=p[0],t=p[1];if(!l&&n.mb&&t.mb)this.na=
c.nM(h,d,n.W(0),t.W(0));else{const q=c.Oi(h,d);this.na=function(){return e.xor(q(n.W(0),t.W(0)),l)}}}else if(3===p.length){const n=p[0],t=p[1],q=p[2];if(!l&&n.mb&&t.mb&&q.mb)this.na=c.oM(h,d,n.W(0),t.W(0),q.W(0));else{const u=c.Oi(h,d);this.na=function(){return e.xor(u(n.W(0),t.W(0),q.W(0)),l)}}}else this.na=k}G(){return this.I}pg(){return this.zc}ee(){return this.Fd}H(){return this.g}xa(){return this.Ma}SI(){return this.xa()}Tm(){return this.xF}Md(){return!this.Ka.Cc&&!this.g.Ub()&&!this.Ka.$e}Fi(){this.qb||
(this.qb=new Map);return this.qb}Mr(){this.Yg||(this.Yg=new Map);return this.Yg}GD(){const c=this.kb;b(this.Ha,c);return e.xor(this.Ga.apply(this.jd,c),this.$h)}*dD(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){var c=this.kb;b(this.Ha,c);c=this.Ga.apply(this.jd,c);e.fl(c)&&(c=yield*c);return e.xor(c,this.$h)}return this.na()}FD(){const c=this.kb;b(this.Ha,c);const d=this.I.Gi().ra;return e.xor(this.Ga.apply(d,c),this.$h)}*cD(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){var c=this.kb;
b(this.Ha,c);const d=this.I.Gi().ra;c=this.Ga.apply(d,c);e.fl(c)&&(c=yield*c);return e.xor(c,this.$h)}return this.na()}K4(){return!0}*d1(){if(this.Ka.Cc||this.g.Ub())yield this;return!0}R4(){var c=this.kb;b(this.Ha,c);c=this.Ga.apply(this.zc||this.I,c);this.I.Ob();return c}*k1(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){var c=this.kb;b(this.Ha,c);c=this.Ga.apply(this.zc||this.I,c);e.fl(c)&&(c=yield*c);this.I.Ob();return c}return this.na()}rN(){const c=this.Ha,d=this.kb,k=this.I.P();for(let h=
0,l=c.length;h<l;++h){const p=c[h];p.xe||(d[h]=p.W(0))}return k.Rb?this.L4(k):this.M4(k)}*e1(){if(this.Ka.Cc||this.g.Ub())yield this;return this.rN()}jD(c){const d=this.Ha,k=this.kb;for(let h=0,l=d.length;h<l;++h){const p=d[h];p.xe&&(k[h]=p.W(c))}}L4(c){const d=this.I,k=d.Ra,h=d.Mg,l=this.Hh,p=0<=l,n=d.ba(),t=this.Vj,q=this.kb,u=this.Ga,v=this.$h,A=this.XO&&!this.xF;c.Xu();for(let E=0,x=n.length;E<x;++E){const F=n[E];t&&this.jD(E);var y=void 0;p?(y=k?F.G().Em(h):0,y=u.apply(F.yc[l+y].ra,q)):y=u.apply(F.ra,
q);e.xor(y,v)?c.hn(F):A&&c.wl(F)}d.qr(!0);c.Qd(!1);d.Ob();return c.BB()}M4(c){const d=this.I;var k=d.Ra;const h=d.Mg,l=d.pc(),p=this.Hh,n=0<=p,t=this.Vj,q=this.kb,u=this.Ga,v=this.$h,A=this.XO&&!this.xF,y=c.F,E=c.Qb,x=A&&!this.Fd.IW(this),F=x?E:y;let I=0,M=!1;for(let Q=0,T=F.length;Q<T;++Q){const aa=F[Q];t&&this.jD(Q);var O=void 0;n?(O=k?aa.G().Em(h):0,O=u.apply(aa.yc[p+O].ra,q)):O=u.apply(aa.ra,q);e.xor(O,v)?(M=!0,x?(y.push(aa),l&&aa.l4()):(F[I]=aa,l&&aa.O5(I),++I)):x?(F[I]=aa,l&&aa.N5(I),++I):A&&
(E.push(aa),l&&aa.k4())}e.De(F,I);l&&d.h6(x,I);k=M;x&&!M&&(M=this.c4(y));d.qr(k||A);return A?M:c.BB()}c4(c){var d=this.I;const k=d.Ra;d=d.Mg;const h=this.Vj,l=this.Hh,p=0<=l,n=this.kb,t=this.Ga,q=this.$h;for(let v=0,A=c.length;v<A;++v){var u=c[v];h&&this.jD(v);if(p){const y=k?u.G().Em(d):0;u=t.apply(u.yc[l+y].ra,n)}else u=t.apply(u.ra,n);if(e.xor(u,q))return!0}return!1}Xr(c,d){return this.Ha[c].W(d)}wU(){const c=this.Ha;if(!c.length)throw Error("no parameters");return c[0].e2()}ja(){if(!this.qb||
!this.qb.size)return null;const c={};for(const [d,k]of this.qb.entries()){let h=k;"collmemory"===d&&(h=[...k.entries()].map(l=>[l[0].Bc,l[1].Bc,l[2]]));c[d]=h}return{ex:c}}qa(c){this.qb&&(this.qb.clear(),this.qb=null);if(c){var d=this.g,k=c.ex;if(k){c=this.Fi();c.clear();for(const [h,l]of Object.entries(k))k=l,"collmemory"===h&&(k=e.A(e.Ur,l.map(p=>[d.yi(p[0]),d.yi(p[1]),p[2]]).filter(p=>p[0]&&p[1]))),c.set(h,k)}}}}}"use strict";
{const e=self.B;function b(d,k){for(let h=0,l=d.length;h<l;++h)k[h]=d[h].W(0)}const a=[],g=function(){},c=function*(){};e.Pu=class extends e.${constructor(d,k,h){super();this.Fd=d;this.g=d=d.H();this.Ma=h;this.Ya=4<=k.length?k[3]:-1;this.ox=5<=k.length?k[4]:0;this.zc=this.I=this.Ga=null;this.Hh=-1;this.jd=null;this.Fx="";this.$j=this.Ex=null;this.fb=this.na=g;this.Ha=[];this.kb=[];this.Vj=!1;this.Yg=this.qb=null;const l=(h=-3===k[0])?k[2]:k[5];this.Ka=d.ub||h?{Cc:l[0],$e:l[1],index:l[2]}:null;-1===
k[0]?(this.jd=d.Kr(),this.Ga=d.tg(k[1])):-2===k[0]?this.Fx=k[1]:h?(this.Ga=d.tg(k[1]),this.na=this.mC,this.fb=this.JS,this.ox=1):(this.Ga=d.tg(k[1]),this.I=d.He(k[0]),k[2]&&(this.zc=this.I.sv(k[2]),this.Hh=this.I.yr(k[2])));if(7===k.length){k=k[6];for(const p of k)this.Ha.push(e.Le.Na(this,p,this.Ha.length)),this.kb.push(0)}0===this.Ha.length&&(this.kb=this.Ha=a);this.Fd.ga().n4(this)}static Na(d,k,h){return e.A(e.Pu,d,k,h)}Cb(){for(var d of this.Ha)d.Cb(),d.xe&&(this.Vj=!0);if(this.jd)this.LD(),
this.fb=this.dD;else if(this.Fx)this.r5(),this.Fx="";else if(this.na===this.mC){d=this.Ga;const k=this.g.ga().uM(this.Fd);this.Ga=d.bind(null,this.g.Wh,k)}else this.zc?this.Mf()?(this.na=this.pN,this.fb=this.a1):(this.na=this.oN,this.fb=this.$0):this.I.Ab().Ml?(this.KD(),this.fb=this.cD):this.Mf()?(this.na=this.tN,this.fb=this.g1):this.Ha.length?this.Ha.every(k=>k.xe)?(this.na=this.sN,this.fb=this.f1):this.Vj?(this.na=this.vN,this.fb=this.i1):this.Ha.every(k=>k.mb)?(b(this.Ha,this.kb),this.na=this.ED,
this.fb=this.WL):(this.na=this.uN,this.fb=this.h1):(this.na=this.ED,this.fb=this.WL)}LD(){this.Is(this.jd,this.jd,this.GD)}KD(){const d=this.I.Ab(),k=this.I.Gi().ra;this.Is(d,k,this.FD)}r5(){const d=this.Fd.ga(),k=d.Av(this.Fx);k.ug()?(this.Ex=k.ee(),this.$j=[...new Set([...this.Fd.ad(),...this.Ex.ad()])],this.$j=d.Nw(this.$j),this.na=e.rj.prototype.TY.bind(this.Ex,this.$j,this.Ha),this.fb=this.b1):(this.na=g,this.fb=c)}Is(d,k,h){const l=this.Ga,p=this.Ha;if(0===p.length)this.na=d.Oi(l,k);else if(1===
p.length){const n=p[0];if(n.mb)this.na=d.mM(l,k,n.W(0));else{const t=d.Oi(l,k);this.na=function(){return t(n.W(0))}}}else if(2===p.length){const n=p[0],t=p[1];if(n.mb&&t.mb)this.na=d.nM(l,k,n.W(0),t.W(0));else{const q=d.Oi(l,k);this.na=function(){return q(n.W(0),t.W(0))}}}else if(3===p.length){const n=p[0],t=p[1],q=p[2];if(n.mb&&t.mb&&q.mb)this.na=d.oM(l,k,n.W(0),t.W(0),q.W(0));else{const u=d.Oi(l,k);this.na=function(){return u(n.W(0),t.W(0),q.W(0))}}}else this.na=h}Mf(){return 1===this.ox}iI(){return 2===
this.ox}DV(){return 0!==this.ox}G(){return this.I}ee(){return this.Fd}H(){return this.g}xa(){return this.Ma}SI(){return this.Ka.index}Md(){return!this.Ka.Cc&&!this.g.Ub()&&!this.Ka.$e}Fi(){this.qb||(this.qb=new Map);return this.qb}Mr(){this.Yg||(this.Yg=new Map);return this.Yg}GD(){const d=this.kb;b(this.Ha,d);return this.Ga.apply(this.jd,d)}*dD(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){const d=this.kb;b(this.Ha,d);return yield*this.Ga.apply(this.jd,d)}return this.na()}*b1(){if(this.Ka.Cc||
this.g.Ub())yield this;return yield*this.Ex.ES(this.$j,this.Ha)}FD(){const d=this.kb;b(this.Ha,d);return this.Ga.apply(this.I.Gi().ra,d)}*cD(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){const d=this.kb;b(this.Ha,d);return yield*this.Ga.apply(this.I.Gi().ra,d)}return this.na()}ED(){const d=this.kb,k=this.I.P().ba();for(let h=0,l=k.length;h<l;++h)this.Ga.apply(k[h].ra,d)}*WL(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){const d=this.kb,k=this.I.P().ba();for(let h=0,l=k.length;h<l;++h)yield*this.Ga.apply(k[h].ra,
d)}else this.ED()}uN(){const d=this.kb;b(this.Ha,d);const k=this.I.P().ba();for(let h=0,l=k.length;h<l;++h)this.Ga.apply(k[h].ra,d)}*h1(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){const d=this.kb;b(this.Ha,d);const k=this.I.P().ba();for(let h=0,l=k.length;h<l;++h)yield*this.Ga.apply(k[h].ra,d)}else this.uN()}sN(){const d=this.Ha,k=this.kb,h=this.Ga,l=this.I.P().ba();for(let p=0,n=l.length;p<n;++p){const t=l[p];for(let q=0,u=d.length;q<u;++q)k[q]=d[q].W(p);h.apply(t.ra,k)}}*f1(){if(this.Ka.Cc||
this.g.Ub())yield this;if(this.Ka.$e){const d=this.Ha,k=this.kb,h=this.Ga,l=this.I.P().ba();for(let p=0,n=l.length;p<n;++p){const t=l[p];for(let q=0,u=d.length;q<u;++q)k[q]=d[q].W(p);yield*h.apply(t.ra,k)}}else this.sN()}vN(){const d=this.Ha,k=this.kb,h=this.Ga,l=this.I.P().ba();for(let n=0,t=d.length;n<t;++n){var p=d[n];p.xe||(k[n]=p.W(0))}for(let n=0,t=l.length;n<t;++n){p=l[n];for(let q=0,u=d.length;q<u;++q){const v=d[q];v.xe&&(k[q]=v.W(n))}h.apply(p.ra,k)}}*i1(){if(this.Ka.Cc||this.g.Ub())yield this;
if(this.Ka.$e){const k=this.Ha,h=this.kb,l=this.Ga,p=this.I.P().ba();for(let n=0,t=k.length;n<t;++n){var d=k[n];d.xe||(h[n]=d.W(0))}for(let n=0,t=p.length;n<t;++n){d=p[n];for(let q=0,u=k.length;q<u;++q){const v=k[q];v.xe&&(h[q]=v.W(n))}yield*l.apply(d.ra,h)}}else this.vN()}oN(){var d=this.I;const k=d.Ra,h=d.Mg,l=this.Ha,p=this.Vj,n=this.kb,t=this.Ga,q=this.Hh;d=d.P().ba();for(let A=0,y=l.length;A<y;++A){var u=l[A];u.xe||(n[A]=u.W(0))}for(let A=0,y=d.length;A<y;++A){u=d[A];if(p)for(let E=0,x=l.length;E<
x;++E){var v=l[E];v.xe&&(n[E]=v.W(A))}v=k?u.G().Em(h):0;t.apply(u.yc[q+v].ra,n)}}*$0(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){var d=this.I;const l=d.Ra,p=d.Mg,n=this.Ha,t=this.Vj,q=this.kb,u=this.Ga,v=this.Hh;d=d.P().ba();for(let A=0,y=n.length;A<y;++A){var k=n[A];k.xe||(q[A]=k.W(0))}for(let A=0,y=d.length;A<y;++A){k=d[A];if(t)for(let E=0,x=n.length;E<x;++E){var h=n[E];h.xe&&(q[E]=h.W(A))}h=l?k.G().Em(p):0;yield*u.apply(k.yc[v+h].ra,q)}}else this.oN()}tN(){const d=this.Ha,k=this.kb,
h=this.Ga,l=this.I.P().ba(),p=[];for(let n=0,t=l.length;n<t;++n){const q=l[n];for(let u=0,v=d.length;u<v;++u)k[u]=d[u].W(n);p.push(h.apply(q.ra,k))}return Promise.all(p)}*g1(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){const d=this.Ha,k=this.kb,h=this.Ga,l=this.I.P().ba(),p=[];for(let n=0,t=l.length;n<t;++n){const q=l[n];for(let u=0,v=d.length;u<v;++u)k[u]=d[u].W(n);p.push(yield*h.apply(q.ra,k))}return Promise.all(p)}return this.tN()}pN(){var d=this.I;const k=d.Ra,h=d.Mg,l=this.Ha,p=this.kb,
n=this.Ga,t=this.Hh;d=d.P().ba();const q=[];for(let u=0,v=d.length;u<v;++u){const A=d[u];for(let E=0,x=l.length;E<x;++E)p[E]=l[E].W(u);const y=k?A.G().Em(h):0;q.push(n.apply(A.yc[t+y].ra,p))}return Promise.all(q)}*a1(){if(this.Ka.Cc||this.g.Ub())yield this;if(this.Ka.$e){var d=this.I;const k=d.Ra,h=d.Mg,l=this.Ha,p=this.kb,n=this.Ga,t=this.Hh;d=d.P().ba();const q=[];for(let u=0,v=d.length;u<v;++u){const A=d[u];for(let E=0,x=l.length;E<x;++E)p[E]=l[E].W(u);const y=k?A.G().Em(h):0;q.push(yield*n.apply(A.yc[t+
y].ra,p))}return Promise.all(q)}return this.pN()}async mC(){try{await this.Ga()}catch(d){console.error(`Unhandled exception running script %c${this.Fd.hc.V}, event ${this.Fd.Mp}, action ${this.SI()+1}:`,"font-size: 1.2em; font-weight: bold;",d),self.pi&&self.pi.J5(this),e.lv.qV()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.lv.wZ())}}*JS(){if(this.Ka.Cc||
this.g.Ub())yield this;return this.mC()}ja(){return this.qb&&this.qb.size?{ex:e.PC(this.qb)}:null}qa(d){this.qb&&(this.qb.clear(),this.qb=null);d&&(d=d.ex)&&(this.qb=e.SA(d))}}}"use strict";
{const e=self.B,b=new e.Za;function a(J,K){return e.compare(this.m().la(),J,K)}function g(J,K){return e.compare(this.m().ma(),J,K)}function c(){const J=this.m();return J.GJ(J.aa().Yc)}function d(){var J=this.m();const K=J.Hf();J=J.zb();return 0>J.T||0>J.N||J.L>K.ea()||J.J>K.da()}function k(J,K,S){const X=this.P(),da=X.ba();if(!da.length)return!1;let ia=da[0];var fa=ia.m();let ja=ia,sa=e.xQ(fa.la(),fa.ma(),K,S);for(let va=1,za=da.length;va<za;++va)if(ia=da[va],fa=ia.m(),fa=e.xQ(fa.la(),fa.ma(),K,S),
0===J&&fa<sa||1===J&&fa>sa)sa=fa,ja=ia;X.il(ja);return!0}function h(J){const K=this.m();K.la()!==J&&(K.Tf(J),K.Fa())}function l(J){const K=this.m();K.ma()!==J&&(K.zg(J),K.Fa())}function p(J,K){const S=this.m();S.NT(J,K)||(S.Nj(J,K),S.Fa())}function n(J,K){if(J&&(J=J.aV(this.Z))){var [S,X]=J.Gm(K);K=this.m();if(K.la()!==S||K.ma()!==X)K.Nj(S,X),K.Fa()}}function t(J){if(0!==J){var K=this.m();K.ew(K.aB()*J,K.yB()*J);K.Fa()}}function q(J,K){if(0!==K){var S=this.m();J=e.lb(J);S.ew(Math.cos(J)*K,Math.sin(J)*
K);S.Fa()}}function u(){return this.m().la()}function v(){return this.m().ma()}function A(){return this.g.Cr(this.Z)}function y(J,K){return e.compare(this.m().ea(),J,K)}function E(J,K){return e.compare(this.m().da(),J,K)}function x(J){const K=this.m();K.ea()!==J&&(K.pf(J),K.Fa())}function F(J){const K=this.m();K.da()!==J&&(K.lf(J),K.Fa())}function I(J,K){const S=this.m();if(S.ea()!==J||S.da()!==K)S.Uc(J,K),S.Fa()}function M(){return this.m().ea()}function O(){return this.m().da()}function Q(){return this.m().zb().L}
function T(){return this.m().zb().J}function aa(){return this.m().zb().T}function V(){return this.m().zb().N}function Z(J,K){return e.Mq(this.m().Ea(),e.lb(K))<=e.lb(J)}function ha(J){return e.Ze(this.m().Ea(),e.lb(J))}function oa(J,K){J=e.lb(J);K=e.lb(K);const S=this.m().Ea();return e.Ze(K,J)?e.Ze(S,J)&&!e.Ze(S,K):!(!e.Ze(S,J)&&e.Ze(S,K))}function Y(J){const K=this.m();J=e.xd(e.lb(J));isNaN(J)||K.Ea()===J||(K.qd(J),K.Fa())}function ta(J){if(!isNaN(J)&&0!==J){var K=this.m();K.qd(K.Ea()+e.lb(J));K.Fa()}}
function ea(J){if(!isNaN(J)&&0!==J){var K=this.m();K.qd(K.Ea()-e.lb(J));K.Fa()}}function xa(J,K){const S=this.m(),X=S.Ea();J=e.$G(X,e.lb(K),e.lb(J));isNaN(J)||X===J||(S.qd(J),S.Fa())}function Ja(J,K,S){const X=this.m(),da=X.Ea();K-=X.la();S-=X.ma();J=e.$G(da,Math.atan2(S,K),e.lb(J));isNaN(J)||da===J||(X.qd(J),X.Fa())}function Va(J,K){const S=this.m(),X=S.Ea();J-=S.la();K-=S.ma();K=Math.atan2(K,J);isNaN(K)||X===K||(S.qd(K),S.Fa())}function Na(){return e.Cf(this.m().Ea())}function Wa(J,K){return e.compare(e.RQ(100*
this.m().If()),J,K)}function Oa(){return this.m().pd()}function Ca(J){const K=this.m();J=2===J?!K.pd():0!==J;K.pd()!==J&&(K.yg(J),this.g.ca())}function Aa(J){J=e.ia(J/100,0,1);const K=this.m();K.If()!==J&&(K.Mj(J),this.g.ca())}function Ka(J){b.Yq(J);J=this.m();J.Wa.om(b)||(J.hL(b),this.g.ca())}function Ha(){const J=this.m().Wa;return e.hw(J.Sa,J.Ua,J.Ta,J.Qa)}function Xa(){return e.RQ(100*this.m().If())}function Ya(J){return J?this.m().aa()===J:!1}function Za(J){const K=this.P(),S=K.ba();if(!S.length)return!1;
let X=S[0];for(let da=1,ia=S.length;da<ia;++da){const fa=S[da],ja=fa.m(),sa=X.m(),va=ja.aa().xa(),za=sa.aa().xa();if(0===J){if(va>za||va===za&&ja.qh()>sa.qh())X=fa}else if(va<za||va===za&&ja.qh()<sa.qh())X=fa}K.il(X);return!0}function La(J,K,S){const X=this.m();J=0===J?X.Lb():X.Kf();return e.compare(J,K,S)}function $a(){this.m().W_()}function ab(){this.m().U_()}function bb(J){J&&this.m().V_(J)}function cb(J,K){J=0===J;K&&(K=K.XI(this.Ia()))&&this.m().T_(K,J)}function db(J){const K=this.m();K.Lb()!==
J&&(K.Oj(J),this.g.ca())}function eb(){return this.m().aa().xa()}function fb(){return this.m().aa().V}function Ma(){return this.m().qh()}function gb(){return this.m().Lb()}function hb(){return this.m().Kf()}function ib(J,K){if(K=this.G().La.yj(K)){K=K.xa();J=1===J;var S=this.m().Vd;S.Pr(K)!==J&&(S.PK(K,J),S.tl(),this.g.ca())}}function jb(J,K,S){var X=this.G().La.yj(J);if(X){J=X.xa();var da=this.m().Vd,ia=da.Gf(J);K=Math.floor(K);if(!(0>K||K>=ia.length)){X=X.bb.Fv(K);if("color"===X){b.Yq(S);K=ia[K];
if(b.om(K))return;K.lm(b)}else{"percent"===X&&(S/=100);if(ia[K]===S)return;ia[K]=S}da.Pr(J)&&this.g.ca()}}}function kb(){return this.m().Ii()}function lb(){return this.m().Je()}function mb(J,K){const S=this.P().ba();if(0===S.length)return!1;const X=J.P();var da=X.ba();if(0===da.length)return!1;da=new Set(da);const ia=new Set;for(let ja=0,sa=S.length;ja<sa;++ja){var fa=S[ja];if(1===K)for(const va of fa.parents())va.Ao(J)&&da.has(va)&&ia.add(va);else{if(0===K){if(fa=fa.za(),null===fa)continue}else fa=
fa.Jv();fa.Ao(J)&&da.has(fa)&&ia.add(fa)}}if(0===ia.size)return!1;X.js(ia);J.Ob();return!0}function nb(J,K){const S=this.P().ba();if(0===S.length)return!1;const X=J.P();var da=X.ba();if(0===da.length)return!1;da=new Set(da);const ia=new Set;for(let fa=0,ja=S.length;fa<ja;++fa){const sa=S[fa];2===K&&!sa.Je()&&sa.Ao(J)&&da.has(sa)&&ia.add(sa);for(const va of 0===K?sa.children():sa.km())2===K&&va.Je()||va.Ao(J)&&da.has(va)&&ia.add(va)}if(0===ia.size)return!1;X.js(ia);J.Ob();return!0}function ob(J,K){const S=
this.P().ba();if(0===S.length)return!1;const X=J.P();var da=X.ba();if(0===da.length)return!1;da=new Set(da);const ia=[];for(let fa=0,ja=S.length;fa<ja;++fa){const sa=S[fa].ZA(K);null!==sa&&sa.Ao(J)&&da.has(sa)&&ia.push(sa)}if(0===ia.length)return!1;X.Yr(ia);J.Ob();return!0}function pb(J,K){return e.compare(this.Z.uv(),J,K)}function qb(J,K,S,X,da,ia,fa,ja){const sa=this.Z,va=this.g.zr().G();for(const za of J.oQ(sa,va)){if(!za.Ab().eQ)break;sa.Qk(za,{dr:K,er:S,xo:X,wo:da,cr:ia,fr:fa,uu:ja})}}function rb(J){const K=
this.Z,S=this.g.zr().G();for(const X of J.oQ(K,S))K.Ki(X)}function ma(){this.Z.Ii()&&this.Z.za().Ki(this.Z)}function ya(){return this.Z.uv()}function vb(J,K){J=Math.floor(J);K=Math.floor(K);const S=this.m();2>J||2>K||!isFinite(J)||!isFinite(K)?(S.kw(),S.Fa()):S.KA(J,K)}function wb(J,K,S,X,da,ia,fa){const ja=this.m();ja.aL(J,K,{mode:0===S?"absolute":"relative",x:X,y:da,fR:ia,gR:fa})&&ja.Fa()}function xb(){const J=this.m();return J.hf()?J.Hi().Xi:0}function yb(){const J=this.m();return J.hf()?J.Hi().ij:
0}function zb(J){const K=this.m();J=2===J?!K.pd():0!==J;K.pd()!==J&&K.yg(J)}function Ab(J,K){this.qZ(J,K)}function Pa(J,K){this.pZ(J,""+K)}function Qa(J){this.BY(J)}function Ra(){this.KI()}function Sa(){this.eI()}function Ia(){return this.JE}function f(J){this.gha(0!==J)}function m(){return this.fha()}function r(J,K,S){return e.compare(this.Ia().fe(J),K,S)}function w(J){return!!this.Ia().fe(J)}function z(J,K){const S=this.P(),X=S.ba();if(!X.length)return!1;let da=X[0],ia=da,fa=da.fe(K);for(let ja=
1,sa=X.length;ja<sa;++ja){da=X[ja];const va=da.fe(K);if(0===J&&va<fa||1===J&&va>fa)fa=va,ia=da}S.il(ia);return!0}function C(J){if(this.g.ef().$h){{const X=this.P();if(X.Rb){X.Qd(!1);X.Xu();var K=this.ba();for(let da=0,ia=K.length;da<ia;++da){var S=K[da];S.Bc===J?X.wl(S):X.hn(S)}this.Ob();J=!!X.F.length}else{K=X.F;S=0;for(let da=0,ia=K.length;da<ia;++da){const fa=K[da];K[S]=fa;fa.Bc===J?X.wl(fa):++S}e.De(K,S);this.Ob();J=!!K.length}}}else J=D(this,J);return J}function D(J,K){K=J.H().yi(K);if(!K)return!1;
const S=J.P();if(!S.Rb&&!S.F.includes(K))return!1;if(J.Ra){if(K.G().zA(J))return S.il(K),J.Ob(),!0}else if(K.G()===J)return S.il(K),J.Ob(),!0;return!1}function G(){this.g.zm(this.Z)}function H(){return!0}function L(){return!0}function N(J,K){this.Ia().pl(J,K)}function P(J,K){const S=this.Ia(),X=S.fe(J);"number"===typeof X&&"number"!==typeof K?K=parseFloat(K):"string"===typeof X&&"string"!==typeof K&&(K=K.toString());S.pl(J,X+K)}function U(J,K){const S=this.Ia(),X=S.fe(J);"number"===typeof X&&("number"!==
typeof K&&(K=parseFloat(K)),S.pl(J,X-K))}function R(J,K){this.Ia().pl(J,K?1:0)}function ca(J){const K=this.Ia();K.pl(J,0===K.fe(J)?1:0)}function ba(J){let K;try{K=JSON.parse(J)}catch(S){console.error("Failed to load from JSON string: ",S);return}J=this.Ia();J.$w("state");J.Rc(K,"state")}function W(){return JSON.stringify(this.Ia().ed("state"))}function ra(){return this.Ia().G().V}function la(){const J=this.g.Fe().PE;let K=J.F.length;const S=this.g.ek;for(const X of S)J.Ra?X.G().zA(J)&&++K:X.G()===
J&&++K;return K}function pa(){return this.g.Fe().PE.P().ba().length}function qa(){return this.Z.Fm()}function na(){return this.Z.Bc}e.mR=function(J,K){const S=J[1],X=J[4],da=J[5],ia=J[6],fa=J[7],ja=J[8],sa=J[10],va=J[11],za=J[12],cc=J[13],dc=J[14],ua=K.K,ka=K.nb;K=K.Jb;J[3]&&(ua.baa=a,ua.mS=g,ua.Gba=c,ua.NW=d,ua.ada=k,ka.Tf=h,ka.zg=l,ka.KZ=p,ka.Ifa=n,ka.mca=t,ka.lca=q,K.UC=u,K.CL=v,K.zQ=A);X&&(ua.aaa=y,ua.U$=E,ka.pf=x,ka.lf=F,ka.Uc=I,K.O_=M,K.IV=O,K.y$=Q,K.A$=T,K.z$=aa,K.x$=V);da&&(ua.CR=Z,ua.BW=
ha,ua.zW=oa,ka.qd=Y,ka.Hea=ta,ka.Iea=ea,ka.Jea=xa,ka.Kea=Ja,ka.Kfa=Va,K.BR=Na);ia&&(ua.pd=Oa,ua.V$=Wa,ka.yg=Ca,ka.Mj=Aa,ka.cfa=Ka,K.Opacity=Xa,K.N$=Ha);fa&&(ua.Eba=Ya,ua.ida=Za,ua.caa=La,ka.pca=$a,ka.nca=ab,ka.oca=bb,ka.bha=cb,ka.Oj=db,K.Sba=eb,K.aX=fb,K.aha=Ma,K.$ga=gb,K.xga=hb);ja&&(ka.dfa=ib,ka.efa=jb);cc&&(ua.Ii=kb,ua.Je=lb,ua.gda=mb,ua.$ca=nb,ua.eda=ob,ua.S$=pb,ka.Qk=qb,ka.Ki=rb,ka.Ada=ma,K.K$=ya);dc&&(ka.Efa=vb,ka.aL=wb,K.hca=xb,K.ica=yb);sa&&(ua.pd=Oa,ka.yg=zb,ka.$ea=Ab,ka.ffa=Pa,ka.zda=Qa);
va&&(ua.xba=Ia,ka.ifa=Ra,ka.Yea=Sa);za&&(ua.ug=m,ka.tC=f);S||(ua.pI=r,ua.AW=w,ua.bda=z,ua.iY=C,ka.VK=N,ka.i$=P,ka.nga=U,ka.iZ=R,ka.vga=ca,ua.IX=H,ua.JX=L,ka.OS=G,ka.$B||(ka.$B=ba),K.JR||(K.JR=W),K.eaa=la,K.jda=pa,K.Yaa=qa,K.y_=na,K.zca=ra)}}"use strict";
{const e=self.B;e.oC=class extends e.${constructor(b){super();this.pa=b;this.Ba="";this.wc=-1;this.Xt="";this.Jy=!1;this.Rh=null;this.rf=0;this.se=[];this.eo=new Map;this.Xj=null;this.Ls=-1;this.WE=this.ag=null;this.Vt=!1}j(){this.Ba="";this.wc=-1;this.Xt="";this.WE=this.ag=this.Xj=this.Rh=null;this.Ls=-1;e.D(this.se);for(const b of this.eo.values())b.j();this.eo.clear()}Bh(){var b=this.pa,a=b.H().xc;const g=b.Fe();this.Rh=g.sb();this.rf=g.rf+1;if(b=b.RA(this.Rh))this.Xj=b,this.ag=b.ZR(),this.WE=
b.hF.map(c=>c.oc()),b.Mf()&&(this.Ls=b.hY());for(const c of a)if(a=c.P(),!a.Rb||this.Rh.FV(c))this.se.push(c),this.eo.set(c,e.A(e.lL,a))}qW(b){this.Ba="timer";this.Bh();this.wc=this.pa.H().rg()+b}oW(b){this.Ba="signal";this.Bh();this.Xt=b.toLowerCase()}hW(b){this.Ba="promise";this.Bh();b.then(()=>this.BC()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.BC()})}TW(){return"timer"===this.Ba}RW(){return"signal"===this.Ba}OW(){return"promise"===
this.Ba}BC(){this.Jy=!0}JN(){return this.TW()?this.wc<=this.pa.H().rg():this.Jy}nN(b){b.DD(this.Rh,this.rf);for(const [a,g]of this.eo.entries())g.DD(a.P());if(b=this.Xj)b.bs(this.ag),b.hF.map((a,g)=>a.Sf(this.WE[g])),b.Mf()&&b.SY(this.Ls)}H4(b){this.nN(b);this.Rh.G4(b);this.Xj&&this.Xj.Mf()&&this.Xj.Sr(this.Ls);this.pa.Bo(this.se);this.Vt=!0}async X0(b){this.nN(b);for(const a of this.Rh.W0(b))await this.pa.H().Eo(a);this.Xj&&this.Xj.Mf()&&this.Xj.Sr(this.Ls);this.pa.Bo(this.se);this.Vt=!0}Zm(b){for(const a of this.eo.values())a.Zm(b)}ja(){const b=
{},a={t:this.wc,st:this.Xt,s:this.Jy,ev:this.Rh.Ya,sm:this.se.map(g=>g.Ya),sols:b};this.Rh.t2(this.rf)&&(a.act=this.Rh.MI(this.rf).Ya);for(const [g,c]of this.eo)b[g.Ya.toString()]=c.ja();return a}static C0(b,a){const g=b.H();var c=b.rU(a.ev);if(!c)return null;let d=0;if(a.hasOwnProperty("act")){var k=b.$T(a.act);if(!k)return null;d=k.xa()}k=e.A(e.oC,b);k.wc=a.t;k.Ba=-1===k.wc?"signal":"timer";k.Xt=a.st;k.Jy=a.s;k.Rh=c;k.rf=d;for(var h of a.sm)(c=g.Ev(h))&&k.se.push(c);for(const [l,p]of Object.entries(a.sols))if(a=
g.Ev(parseInt(l,10)))h=e.A(e.lL,null),h.qa(b,p),k.eo.set(a,h);return k}}}"use strict";{const e=self.B;e.lL=class extends e.${constructor(b){super();this.I=null;this.Iy=!0;this.F=[];b&&(this.I=b.G(),this.Iy=b.Rb,e.Dc(this.F,b.F))}j(){this.I=null;e.D(this.F)}DD(b){b.Qd(this.Iy);e.Dc(b.F,this.F)}Zm(b){e.ng(this.F,b)}ja(){return{sa:this.Iy,insts:this.F.map(b=>b.Bc)}}qa(b,a){b=b.H();this.Iy=!!a.sa;e.D(this.F);for(const g of a.insts)(a=b.yi(g))&&this.F.push(a)}}}"use strict";
{const e=self.B;function b(a,g){let c=a.get(g);c||(c=new Map,a.set(g,c));return c}e.ep=class extends e.${constructor(a){super();this.g=a.mc;this.Ml=!!a.HQ;this.vf=!!a.P8;this.i7=!!a.O8;this.s7=!!a.e9;this.W6=!!a.E8;this.eQ=!!a.D9;this.L7=!!a.C9;this.VP=null;this.cO=new Map;this.F6=new Map;this.G6=new Map;this.H6=new Map}j(){this.g=null}H(){return this.g}cd(){}So(){return this.i7}hl(){return this.s7}CB(){return this.W6}Oi(a,g){if(!g)throw Error("missing 'this' binding");let c=this.cO.get(a);if(c)return c;
c=a.bind(g);this.cO.set(a,c);return c}mM(a,g,c){if(!g)throw Error("missing 'this' binding");const d=b(this.F6,a);let k=d.get(c);if(k)return k;k=a.bind(g,c);d.set(c,k);return k}nM(a,g,c,d){if(!g)throw Error("missing 'this' binding");var k=b(this.G6,a);k=b(k,c);let h=k.get(d);if(h)return h;h=a.bind(g,c,d);k.set(d,h);return h}oM(a,g,c,d,k){if(!g)throw Error("missing 'this' binding");var h=b(this.H6,a);h=b(h,c);h=b(h,d);let l=h.get(k);if(l)return l;l=a.bind(g,c,d,k);h.set(k,l);return l}P5(a){if(!this.Ml)throw Error("must be single-global plugin");
this.VP=a}Gi(){if(!this.Ml)throw Error("must be single-global plugin");return this.VP.Gi()}}}"use strict";{const e=self.B;e.Nea=class extends e.ep{constructor(b,a){super(b);this.yn=a;this.w7=0;this.iF=new Map;this.YH("elem-focused",g=>g.J3());this.YH("elem-blurred",g=>{g&&g.I3()})}j(){super.j()}a0(b){const a=this.w7++;this.iF.set(a,b);return a}z4(b){this.iF.delete(b)}YH(b,a){this.g.eh(this.yn,b,g=>{const c=this.iF.get(g.elementId);a(c,g)})}}}"use strict";
{const e=self.B;e.ow=class extends e.${constructor(b){super();this.I=b;this.g=b.H();this.Sg=b.Ab()}j(){this.Sg=this.g=this.I=null}G(){return this.I}H(){return this.g}Ab(){return this.Sg}ff(){return this.I.ff()}qr(){}Vo(){}Ym(){}gw(){}eC(){}Yk(){return null}}}"use strict";
{const e=self.B;e.mw=class extends e.${constructor(b,a){super();this.Z=b;this.yn=a;this.g=b.H();this.I=this.Z.G();this.vc=this.I.vc;this.Cq=this.zk=null;this.pt=this.ik=!1;this.Ed=null;this.qu=!1}j(){this.qu=!0;this.yl();this.OD();this.Cq=this.zk=null;this.Ed&&(this.Ed.j(),this.Ed=null);this.vc=this.I=this.g=this.Z=null}Hw(){return this.qu}Ia(){return this.Z}H(){return this.g}G(){return this.I}Ab(){return this.vc.Ab()}Hv(){return this.Z.sg()}Ja(b){return this.g.Ja(b,this.Z,null)}je(b){return this.g.je(b,
this.Z,null)}mr(b,a){return this.g.mr(b,this.Z,a)}LA(b,a){return this.g.LA(b,this.Z,a)}XH(b,a){this.g.eh(this.yn,b,a)}mK(b,a){this.g.Vm(this.yn,b,a)}eN(b,a){this.g.Kl?this.mK(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.yn,handler:b,data:a,responseId:null})}tj(){return null}vv(){var b=this.tj();return b&&(b=b.Ie())?[b.ea(),b.da()]:[100,100]}wv(){const b=this.tj();return b?b.Zd:null}Gm(){const b=this.Z.m();return[b.la(),b.ma()]}Pd(){}Dg(){this.ik||(this.zk||(this.zk=
()=>this.Pd()),this.g.Db().addEventListener("tick",this.zk),this.ik=!0)}yl(){this.ik&&(this.g.Db().removeEventListener("tick",this.zk),this.ik=!1)}OD(){this.pt&&(this.g.Db().removeEventListener("tick2",this.Cq),this.pt=!1)}ed(){return null}Rc(){}Zb(){}Rf(){}cC(b,a){if(0!==a){var g=this.Zb(b);if("number"!==typeof g)throw Error("expected number");this.Rf(b,g+a)}}Yk(){return null}}}"use strict";
{const e=self.B;e.nC=class extends e.mw{constructor(b,a){super(b,a);this.eb=b.m();this.Nz=this.Jq=null}j(){if(this.Jq){const b=this.g.Db();b.removeEventListener("webglcontextlost",this.Jq);b.removeEventListener("webglcontextrestored",this.Nz);this.Nz=this.Jq=null}this.eb=null;super.j()}rV(){if(!this.Jq){this.Jq=()=>this.Yo();this.Nz=()=>this.jK();var b=this.g.Db();b.addEventListener("webglcontextlost",this.Jq);b.addEventListener("webglcontextrestored",this.Nz)}}Yo(){}jK(){}m(){return this.eb}}}"use strict";
{const e=self.B,b=e.A(e.Rect);e.Mea=class extends e.nC{constructor(a,g){super(a,g);this.Rx=this.Ab().a0(this);this.VO=!0;this.B6=this.JE=!1;this.Zp=e.A(e.Rect,0,0,-1,-1);a=this.g.Y;this.oP=a.hm;this.nP=a.gm;this.Dg()}j(){this.Ab().z4(this.Rx);this.Zo("destroy");this.Rx=-1;super.j()}Zo(a,g){g||(g={});g.elementId=this.Rx;this.mK(a,g)}dN(a){a||(a={});a.elementId=this.Rx;this.eN("focus",a)}vw(a){a=!!a;this.VO!==a&&(this.VO=a,this.Zo("set-visible",{isVisible:a}))}Pd(){this.mx(!1)}T5(){const a=this.g.Y.zv();
return"Android"===e.Sc.Xo&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}mx(a){var g=this.m();const c=g.aa();var d=g.la(),k=g.ma();let [h,l]=c.To(d,k),[p,n]=c.To(d+g.ea(),k+g.da());d=this.g.Y;k=d.Gc;const t=d.Ac;if(g.pd()&&c.pd()){if(!this.T5()){if(0>=p||0>=n||h>=k||l>=t){this.vw(!1);return}1>h&&(h=1);1>l&&(l=1);p>=k&&(p=k-1);n>=t&&(n=t-1)}b.set(h,l,p,n);g=d.hm;k=d.gm;!a&&b.Nc(this.Zp)&&this.oP===g&&this.nP===k?this.vw(!0):(this.Zp.wa(b),this.oP=g,this.nP=k,this.vw(!0),a=null,this.B6&&(a=c.vj()-
.2),this.Zo("update-position",{left:Math.round(this.Zp.L)+d.Cm(),top:Math.round(this.Zp.J)+d.Dm(),width:Math.round(this.Zp.width()),height:Math.round(this.Zp.height()),fontSize:a}))}else this.vw(!1)}KI(){this.dN({focus:!0})}eI(){this.dN({focus:!1})}J3(){this.JE=!0}I3(){this.JE=!1}qZ(a,g){this.Zo("set-css-style",{prop:e.UR(a),val:g})}pZ(a,g){this.Zo("set-attribute",{name:a,val:g})}BY(a){this.Zo("remove-attribute",{name:a})}}}"use strict";
{const e=self.B,b=self.KV;e.DK=class extends e.${constructor(a){super();this.g=a.mc;this.RF=e.A(e.xA);this.az=e.A(e.xA);this.ly=null;if(a=a.Kja){if(this.ly=new a(this),!(this.ly instanceof b))throw new TypeError("script interface class must derive from IBehavior");}else this.ly=new b(this)}j(){this.az.j();this.RF.j();this.g=null}H(){return this.g}cd(){}b0(a){this.RF.Ec(a)}fJ(){return this.RF.UA()}Bg(a){this.az.Ec(a)}jn(a){this.az.ym(a)}ba(){return this.az.UA()}}}"use strict";
{const e=self.B;e.FK=class extends e.${constructor(b){super();this.g=b.H();this.zc=b;this.I=b.G();this.Gh=b.sj();this.Gh.b0(this.I)}j(){this.Gh=this.I=this.zc=this.g=null}pg(){return this.zc}G(){return this.I}H(){return this.g}sj(){return this.Gh}}}"use strict";
{const e=self.B;e.EK=class extends e.${constructor(b,a){super();this.Bx=b;this.yn=a;this.Z=b.Z;this.g=b.H();this.zc=b.pg();this.vc=this.zc.vc;this.ZO=this.pt=this.ik=!1;this.Ed=null}j(){this.yl();this.OD();this.Y5();this.Ed&&(this.Ed.j(),this.Ed=null);this.vc=this.zc=this.g=this.Z=this.Bx=null}sj(){return this.zc.sj()}G(){return this.Z.G()}m(){return this.Z.m()}H(){return this.g}pg(){return this.zc}Hv(){return this.Bx.Hv()}Ja(b){return this.g.Ja(b,this.Z,this.zc)}je(b){return this.g.je(b,this.Z,this.zc)}Pd(){}Dg(){this.ik||
(this.g.X_(this),this.ik=!0)}yl(){this.ik&&(this.g.w4(this),this.ik=!1)}OD(){this.pt&&(this.g.x4(this),this.pt=!1)}Y5(){this.ZO&&(this.g.v4(this),this.ZO=!1)}XH(b,a){this.g.eh(this.yn,b,a)}ed(){return null}Rc(){}Zb(){}Rf(){}cC(b,a){if(0!==a){var g=this.Zb(b);if("number"!==typeof g)throw Error("expected number");this.Rf(b,g+a)}}Yk(){return null}}}"use strict";
{const e=self.B;e.C={};e.Tb={};e.jY=class extends e.${constructor(b){super();this.g=b;this.z6=[];this.HP=new Map;this.jd=null;this.w6=[];this.oE=new Map;this.eP=this.YP=null}yS(b){const a=this.g.tg(b[0]);if(!a)throw Error("missing plugin");e.mR(b,a);b=e.A(a,{mc:this.g,HQ:b[1],P8:b[2],O8:b[5],E8:b[8],e9:b[9],D9:b[13],C9:b[14]});b.cd();this.z6.push(b);this.HP.set(a,b)}AS(){this.jd=e.A(e.C.Xa,{mc:this.g,HQ:!0});this.jd.cd()}uS(b){b=this.g.tg(b[1]);if(!b)throw Error("missing behavior");const a=e.A(b,
{mc:this.g});a.cd();this.w6.push(a);this.oE.set(b,a);!this.YP&&e.Tb.A9&&a instanceof e.Tb.A9?this.YP=a:!this.eP&&e.Tb.S8&&a instanceof e.Tb.S8&&(this.eP=a)}cV(b){return this.HP.get(b)||null}xV(b){return this.oE.has(b)}dU(b){return this.oE.get(b)||null}Kr(){return this.jd}}}"use strict";
{const e=self.B,b=new Set;e.Sv=class extends e.${constructor(){super();this.li="";this.O=this.R=this.mq=this.lq=this.dg=this.co=0;this.Up=!1;this.Re=null;this.yk="";this.Zd=e.A(e.Rect);b.add(this)}j(){this.uh();this.Re=null;b.delete(this)}static Yo(){for(const a of b)a.yk="",a.Zd.set(0,0,0,0)}gX(a){this.li=a[0];this.co=a[1];this.dg=a[2];this.lq=a[3];this.mq=a[4];this.R=a[5];this.O=a[6];this.Up=!0}fX(a){this.li=a[0];this.co=a[1];this.lq=a[2];this.mq=a[3];this.R=a[4];this.O=a[5];this.dg=a[11];this.Up=
!0}iX(a,g){if(this.Re)throw Error("already loaded asset");this.li=g;const c={};e.LB(g)&&(c.Du="remote");this.PJ(a,c);return this.Re.OJ()}KY(a){if(a===this)throw Error("cannot replace with self");this.uh();this.li=a.li;this.co=a.co;this.dg=a.dg;this.lq=a.lq;this.mq=a.mq;this.R=a.R;this.O=a.O;this.Up=a.Up;this.Re=a.Re;this.yk=a.yk;this.Zd=a.Zd}Zk(){return this.co}ea(){return this.R}da(){return this.O}PJ(a,g){if(this.Re)throw Error("already got asset");g=Object.assign({},g,{url:this.li,size:this.Zk()});
this.Re=a.cw(g)}TB(){return this.Re&&this.Re.TB()}async Rr(a,g){if(!this.Re)throw Error("no asset");if(this.yk)throw Error("already loaded texture");this.yk="loading";a=await this.Re.Rr(a,g);if(!a)return this.yk="",null;this.yk="loaded";this.Up||(this.R=a.ea(),this.O=a.da(),this.Up=!0);this.Zd.set(this.lq,this.mq,this.lq+this.R,this.mq+this.O);this.Zd.Gk(a.ea(),a.da());return a}uh(){this.yk&&(this.Re&&this.Re.uh(),this.yk="",this.Zd.set(0,0,0,0))}Ie(){return this.Re?this.Re.Ie():null}}}"use strict";
{const e=self.B;e.ER=class extends e.${constructor(b){super();this.V=b[0];this.I7=b[1];this.Ey=!!b[2];this.uq=b[3];this.QP=b[4];this.h7=!!b[5];this.Ya=b[6];this.ud=b[7].map(a=>e.A(e.DR,a))}j(){for(const b of this.ud)b.j();e.D(this.ud)}dX(b){for(const a of this.ud)a.ff().PJ(b)}eX(b,a){return Promise.all(this.ud.map(g=>g.ff().Rr(b,a)))}yY(){for(const b of this.ud)b.ff().uh()}Wk(b){b=Math.floor(b);if(0>b||b>=this.ud.length)throw new RangeError("invalid frame");return this.ud[b]}Dj(){return this.I7}Xk(){return this.uq}}}"use strict";
{const e=self.B;e.DR=class extends e.${constructor(b){super();this.tf=e.A(e.Sv);this.tf.fX(b);this.kO=b[6];this.FP=e.A(e.Gw,b[7],b[8]);this.my=b[9].map(a=>e.A(e.VV,this,a));this.OO=new Map;for(const a of this.my)this.OO.set(a.V.toLowerCase(),a);this.vn=null;b=b[10];6<=b.length&&(this.vn=e.A(e.Co,b))}j(){this.vn&&(this.vn.j(),this.vn=null);this.tf.j();this.tf=null}ff(){return this.tf}Bi(){return this.FP.S}Ci(){return this.FP.M}IU(b){return this.OO.get(b.toLowerCase())||null}HU(b){b=Math.floor(b);return 0>
b||b>=this.my.length?null:this.my[b]}lB(){return this.my.length}}}"use strict";{const e=self.B;e.VV=class extends e.${constructor(b,a){super();this.V=a[0];this.eG=e.A(e.Gw,a[1],a[2])}j(){}la(){return this.eG.S}ma(){return this.eG.M}}}"use strict";
{const e=self.B,b=self.pi,a=self.sJ;e.bC=class extends e.${constructor(g,c,d){super();const k=g.tg(d[1]);this.g=g;this.Sg=g.Yn.cV(k);this.vc=null;this.ry=k.Instance;this.Ma=c;this.Ya=d[11];this.V=d[0];this.wt=this.g.mh(d[14]);this.f7=!!d[9];this.Ra=!!d[2];this.vF=!!d[10];this.Xh=d[3].map(h=>({YQ:h[0],type:h[1],name:h[2],Q8:g.mh(h[3])}));this.D6=d[4];this.S6=d[5];this.vf=this.Sg.vf;this.La=null;this.Ix=e.A(e.i_,g.pe,g.oe);this.hE=!0;this.iE=!1;this.SE=this.Dn=null;this.Mg=-1;this.RE=this.Wx=this.Xx=
this.QE=this.Lg=null;this.qF=!1;this.Lh=null;this.bO=d[8].map(h=>e.cI.Na(this,h));this.Cx=[];this.pE=new Map;this.nE=new Map;this.iQ=new Set;this.Vl=e.A(e.f_,this);this.wx=this.vx=this.sd=this.tf=this.Lh=this.Lp=null;this.Bq=0;this.qb=new Map;this.Yg=new Map;this.F=[];this.eF=!0;this.Sg.CB()&&(this.La=e.A(e.qj,this,d[12]));d[6]&&(this.tf=e.A(e.Sv),this.tf.gX(d[6]));if(d[7]){this.sd=d[7].map(h=>e.A(e.ER,h));this.vx=new Map;this.wx=new Map;for(const h of this.sd)this.vx.set(h.V.toLowerCase(),h),this.wx.set(h.Ya,
h)}this.Ra?(this.Dn=[],this.SE=new Set,this.Mg=this.g.j2()):(this.Lg=[],this.QE=new Set,this.Xx=[],this.Wx=[],this.RE=[]);this.vc=e.A(k.sl,this,d[15]);this.UO=this.gt=null;this.Ld=e.A(e.Event.Db);if(c=this.vc.Yk()){if(this.gt=new c(this),!(this.gt instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.gt=new a(this);this.g.Kz&&!this.Ra&&!this.vF&&this.vf||this.cd();this.Sg.Ml&&(this.Sg.P5(this),this.L0(d))}static Na(g,c,d){return e.A(e.bC,g,c,d)}j(){this.tf&&
(this.tf.j(),this.tf=null);if(this.sd){for(const g of this.sd)g.j();e.D(this.sd);this.vx.clear();this.wx.clear()}this.Vl.j();this.Vl=null;this.qb.clear();this.Yg.clear();this.g=this.Lh=null}X2(g){for(let c=1,d=g.length;c<d;++c){const k=this.g.He(g[c]);this.Dn.push(k);this.SE.add(k);k.Lg.push(this);k.QE.add(this)}}s5(g){this.qF=!0;this.Lh=g}pc(){return this.qF}D3(){var g=0;if(!this.Ra)for(var c of this.Lg)for(var d of c.bO){const l=d.V.toLowerCase();this.pE.set(l,d);this.nE.set(l,g);this.Cx.push(d);
++g}for(var k of this.bO)c=k.V.toLowerCase(),this.pE.set(c,k),this.nE.set(c,g),this.Cx.push(k),++g;for(var h of this.Cx)this.iQ.add(h.sj().constructor);if(!this.Ra&&this.Lg.length){g=this.g.rO;e.Yz(this.Xx,g,0);e.Yz(this.Wx,g,0);e.Yz(this.RE,g,0);g=[];c=h=k=0;for(const l of this.Lg)if(d=l.Mg,this.Xx[d]=k,k+=l.Xh.length,this.Wx[d]=h,h+=l.D6,this.RE[d]=c,c+=l.S6,(d=l.La)&&this.La)for(const p of d.Ff())g.push(p.gS(this.La));this.La&&this.La.nY(g)}}L0(g){const c=this.g.i2(),d=e.A(e.Instance,{mc:this.g,
zH:this,uid:c});d.Kw(g[16],[]);this.g.q3(c,d);this.F.push(d)}cd(){this.Ra||this.vc.cd()}BV(){return 0<this.Bq}Vo(g){if(this.Ra)return Promise.resolve();this.Bq++;return 1===this.Bq?this.vc.Vo(g)||Promise.resolve():Promise.resolve()}Ym(){if(!this.Ra){this.Bq--;if(0>this.Bq)throw Error("released textures too many times");0===this.Bq&&this.vc.Ym()}}gw(){if(this.Ra)throw Error("not applicable to family");this.vc.gw()}eC(g){return this.Ra?Promise.resolve():this.vc.eC(g)}H(){return this.g}Ab(){return this.Sg}mh(){return this.wt}xa(){return this.Ma}Nf(){return this.f7}wL(g){return g&&
this.iQ.has(g)}NU(){return this.Xh.map(g=>g.YQ)}MU(g){return this.Xh.findIndex(c=>c.YQ===g)}LU(g){return this.Xh.findIndex(c=>c.name===g)}Z1(){return this.Xh.map(g=>g.Q8)}Er(g){g=Math.floor(g);if(0>g||g>=this.Xh.length)throw new RangeError("invalid instance variable index");return this.Xh[g].type}aJ(g){g=Math.floor(g);if(0>g||g>=this.Xh.length)throw new RangeError("invalid instance variable index");return this.Xh[g].name}sv(g){return this.pE.get(g.toLowerCase())||null}yr(g){g=this.nE.get(g.toLowerCase());
return"undefined"===typeof g?-1:g}CB(){return this.Sg.CB()}xL(){return this.La&&this.La.tV()}P(){return this.Vl.P()}ff(){return this.tf}OK(g){this.Lp=g}zA(g){return this.QE.has(g)}HI(g){return this.SE.has(g)}Em(g){return this.Wx[g]}gB(g){return this.Xx[g]}NI(g){if(!this.sd)throw Error("no animations");return this.vx.get(g.toLowerCase())||null}cU(g){if(!this.sd)throw Error("no animations");return this.wx.get(g)||null}yU(){if(!this.sd)throw Error("no animations");return this.sd[0].Wk(0)}nU(){if(this.sd){const g=
this.yU().ff();return[g.ea(),g.da()]}return this.tf?[this.tf.ea(),this.tf.da()]:[100,100]}Gi(){if(!this.Sg.Ml)throw Error("not a single-global plugin");return this.F[0]}ba(){return this.F}*EQ(){yield*this.F}*I8(){yield*this.F;for(const g of this.g.ek)g.G()===this&&(yield g)}Bg(g){this.F.push(g)}Gs(){this.eF=!0}lx(){if(this.eF&&!this.Ra){var g=this.F,c=0;for(let d=g.length;c<d;++c)g[c].AN(c);g=this.g.ek;for(const d of g)d.G()===this&&d.AN(c++);this.eF=!1}}$I(g){var c=this.F;if(g<c.length)return c[g];
g-=c.length;c=this.g.ek;for(const d of c)if(d.G()===this){if(0===g)return d;--g}return null}XI(g){if(g&&g.pc()&&g.G()!==this)for(const c of g.siblings())if(c.G()===this)return c;g=this.P().ba();return g.length?g[0]:null}aV(g){const c=this.P().ba();return c.length?c[g.Fm()%c.length]:null}*oQ(g,c){const d=this.P().ba();var k=d.length;const h=c.P(),l=c.P().ba(),p=l.length;var n=g.Fm();if(c.Ra||!h.Rb)n=l.indexOf(g);g=Math.ceil(k/p);k%=p;0===k||n<k?(n*=g,k=g):(n=k*g+(n-k)*(g-1),k=g-1);for(let t=n,q=n+
k;t<q;++t)yield d[t]}qr(g){this.vc.qr(g)}Ob(){if(this.qF&&!this.Ra){this.lx();var g=this.P(),c=g.F,d=g.Rb,k=this.g.Fe();k=k&&k.sb()&&k.sb().vd;for(const p of this.Lh.pk)if(p!==this){p.lx();var h=p.P();h.Qd(d);if(!d){var l=h.F;e.D(l);for(const n of c)l.push(p.$I(n.Fm()));if(k){l=g.Qb;h=h.Qb;e.D(h);for(const n of l)h.push(p.$I(n.Fm()))}}}}}h6(g,c){for(const d of this.Lh.pk){const k=d.P();g?e.De(k.Qb,c):e.De(k.F,c)}}xN(){this.hE=!0}HD(g){this.iE=!!g}PN(){if(this.hE&&this.vf){for(const g of this.F)g.m().SN();
for(const g of this.g.ek)g.G()===this&&g.m().SN();this.hE=!1}}Fi(){this.qb||(this.qb=new Map);return this.qb}Mr(){this.Yg||(this.Yg=new Map);return this.Yg}qJ(){return this.wL(e.Tb.uca)}DB(){return this.wL(e.Tb.Vca)}ja(){const g={instances:this.F.map(c=>c.ed())};this.qb&&this.qb.size&&(g.ex=e.PC(this.qb));return g}qa(g){this.qb&&(this.qb.clear(),this.qb=null);var c=g.ex;c&&(this.qb=e.SA(c));c=this.F;g=g.instances;for(let d=0,k=Math.min(c.length,g.length);d<k;++d)c[d].Rc(g[d]);for(let d=g.length,k=
c.length;d<k;++d)this.g.zm(c[d]);for(let d=c.length,k=g.length;d<k;++d){c=g[d];let h=null;if(this.vf&&(h=this.g.Kb().Dv(c.w.l),!h))continue;this.g.ih(this.Lp||this,h,!1,0,0,!0).Rc(c)}this.Gs()}og(g){var c=this.g;(c=c.ub&&!c.ga().Wv())&&b.MC();this.Ld.dispatchEvent(g);c&&b.wA()}}}"use strict";{const e=self.B;e.pS=class extends e.${constructor(b,a){super();this.g=b;this.pk=a;for(const g of this.pk)g.s5(this)}j(){this.g=null}H(){return this.g}wV(){return this.pk.some(b=>b.vf)}}}"use strict";
{const e=self.B,b=self.pi,a=self.Or,g=[];let c=0;const d=new WeakMap,k=new WeakMap;e.Instance=class extends e.${constructor(h){super();this.g=h.mc;this.Hd=h.zH;this.Ud=this.ra=this.eb=null;this.MO=0;this.Bc=h.uid;this.MP=c++;this.ua=0;this.yc=this.ne=g;var l=this.Hd.Cx;0<l.length&&(this.yc=l.map((p,n)=>e.A(e.Qu,{mc:this.g,aH:p,instance:this,index:n})));this.Wt=this.Hd.pc()?[]:null;this.ue=-1;this.Fb=null;l=this.Ab();l.hl()&&(this.ua|=4);if(l.vf)if(this.eb=e.A(e.P_,this,h.Ad),h.iR)this.eb.cl(h.iR);
else{this.eb.gW();const [p,n]=this.Hd.nU();this.eb.Uc(p,n);this.G().xL()&&this.eb.Vd.hX()}h.DQ?this.a3(h.DQ):this.V2()}j(){this.Ud&&(this.Ud.Fs(),this.Ud=null);if(0<this.yc.length){for(var h of this.yc)h.j();e.D(this.yc)}this.ra.j();this.ra=null;if(h=d.get(this))h.clear(),d.delete(this);if(h=k.get(this))h.clear(),k.delete(this);this.Wt&&e.D(this.Wt);this.Fb&&(this.Fb.j(),this.Fb=null);this.Hd=this.g=null;0<this.ne.length&&e.D(this.ne);this.eb&&(this.eb.j(),this.eb=null)}a3(h){0<h.length&&(this.ne=
[],e.Dc(this.ne,h))}V2(){const h=this.Hd.Xh.length;if(0!==h){this.ne=[];var l=[0,0,""];for(let p=0;p<h;++p)this.ne.push(l[this.Hd.Er(p)])}}Kw(h,l){if(this.ra)throw Error("already got sdk instance");for(let p=0,n=this.yc.length;p<n;++p)this.yc[p].Kw(l?l[p]:null);this.ra=e.A(this.Hd.ry,this,h);if(!(this.ra instanceof e.mw))throw Error("sdk type must derive from SDKInstanceBase");for(let p=0,n=this.yc.length;p<n;++p);this.Hd.UO&&this.GM()}m(){return this.eb}H(){return this.g}aU(){const h=this.ue;return-1===
h?this.H().ue:h}EC(h){h=+h;if(0>h||!isFinite(h))h=0;this.ue=h}RY(){this.ue=-1}Db(){this.Fb||(this.Fb=e.A(e.Event.Db));return this.Fb}df(h){this.ra.df(h)}cd(h){this.ra.cd(h)}E5(){this.ua|=2}Lm(){return 0!==(this.ua&2)}sD(){this.ua|=1}zJ(){return 0!==(this.ua&1)}hl(){return 0!==(this.ua&4)}$r(h,l){h<<=16;this.ua=l?this.ua|h:this.ua&~h}jB(h){return 0!==(this.ua&h<<16)}tj(){return this.ra.tj()}vv(){return this.ra.vv()}wv(){return this.ra.wv()}Gm(h){return this.ra.Gm(h)}G(){return this.Hd}Ao(h){return h.Ra?
h.HI(this.G()):this.G()===h}yL(){if(!this.Ab().eQ)throw Error("object does not support scene graph");}Ii(){return null!==this.za()}za(){var h=this.m();return h?(h=h.za())?h.Ia():null:null}Jv(){var h=this.m();return h?(h=h.Jv())?h.Ia():null:null}*parents(){const h=this.m();if(h)for(const l of h.parents())yield l.Ia()}Je(){const h=this.m();return h?h.Je():!1}Ee(){const h=this.m();return h?h.Ee().map(l=>l.Ia()):[]}*children(){const h=this.m();if(h)for(const l of h.children())yield l.Ia()}*km(){const h=
this.m();if(h)for(const l of h.km())yield l.Ia()}uv(){const h=this.m();return h?h.uv():0}ZA(h){const l=this.m();return l?(h=l.ZA(h))?h.Ia():null:null}Qk(h,l){this.yL();h.yL();this.m().Qk(h.m(),l||{})}Ki(h){const l=this.m();l&&l.Ki(h.m())}xv(){const h=this.m();return h?h.xv():!1}a_(){var h=this.m();if(h&&(h=h.nG))for(const l of h)if(h=this.g.yi(l[2])){const p=l[3];this.Qk(h,{dr:!!(p>>0&1),er:!!(p>>1&1),xo:!!(p>>2&1),wo:!!(p>>3&1),cr:!!(p>>4&1),uu:!!(p>>5&1),fr:!!(p>>6&1)})}}pc(){return null!==this.Wt}qp(h){this.Wt.push(h)}EV(h){return!!this.lJ(h)}lJ(h){const l=
this.siblings();if(null===l||0===l.length)return!1;for(const p of l)if(p.G()===h)return p;return null}siblings(){return this.Wt}wh(){for(const h of this.siblings())h.G().P().Mi(h)}l4(){for(const h of this.siblings())h.G().P().hn(h)}O5(h){for(const l of this.siblings())l.G().P().F[h]=l}k4(){for(const h of this.siblings())h.G().P().wl(h)}N5(h){for(const l of this.siblings())l.G().P().Qb[h]=l}Ab(){return this.Hd.Ab()}AN(h){this.MO=h}Fm(){this.Hd.lx();return this.MO}eU(h){if(!h)return null;for(const l of this.yc)if(l.sj()instanceof
h)return l;return null}XA(h){return h?(h=this.eU(h))?h.ra:null:null}OI(h){const l=this.yc;for(let p=0,n=l.length;p<n;++p)if(l[p].pg().Ya===h)return p;return-1}fe(h){h|=0;const l=this.ne;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}tM(h){return this.ne[h]}g2(h){const l=this.ne[h];return 0===this.Hd.Er(h)?!!l:l}pl(h,l){h|=0;const p=this.ne;if(0>h||h>=p.length)throw new RangeError("invalid instance variable");switch(this.Hd.Er(h)){case 0:p[h]=l?1:0;break;case 1:p[h]=
"number"===typeof l?l:parseFloat(l);break;case 2:p[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}zZ(h,l){if(0!==l){h|=0;var p=this.ne;if(0>h||h>=p.length)throw new RangeError("invalid instance variable");var n=p[h];if("number"===typeof n)p[h]="number"===typeof l?p[h]+l:p[h]+parseFloat(l);else{if("boolean"===typeof n)throw Error("can not set offset of boolean variable");if("string"===typeof n)throw Error("can not set offset of string variable");
throw Error("unknown instance variable type");}}}Fi(){let h=d.get(this);if(h)return h;h=new Map;d.set(this,h);return h}Mr(){let h=k.get(this);if(h)return h;h=new Map;k.set(this,h);return h}AM(h){const l=this.G();if(l.Ld.AB(h))return!0;for(const p of l.Lg)if(p.Ld.AB(h))return!0;return this.g.Ld.AB(h)?!0:!1}kx(){const h=new Set;h.add(this);const l=this.m();if(l&&l.Je())for(const p of this.km())if(h.add(p),p.pc())for(const n of p.siblings())h.add(n);if(this.pc())for(const p of this.siblings())h.add(p);
for(const p of h.values())p.MN()}MN(){if(this.AM("instancecreate")){const h=this.G(),l=new e.Event("instancecreate");l.instance=this.sg();h.og(l);for(const p of h.Lg)p.og(l);this.g.og(l)}this.g.Ja(this.Ab().constructor.K.IX,this,null)}f6(){this.g.Ja(this.Ab().constructor.K.JX,this,null)}Q1(h){if(this.Ud){var l=new e.Event("destroy");l.M8=h;this.og(l)}if(this.AM("instancedestroy")){l=this.G();var p=new e.Event("instancedestroy");p.instance=this.sg();p.M8=h;l.og(p);for(const n of l.Lg)n.og(p);this.g.og(p)}}ed(h=
"full"){const l={};"full"===h?l.uid=this.Bc:l.c3=!0;if("visual-state"!==h){var p=d.get(this);p&&p.size&&(l.ex=e.PC(p));-1!==this.ue&&(l.mts=this.ue);if(0<this.Hd.Xh.length){p={};var n=this.Hd.NU();for(let t=0,q=this.ne.length;t<q;++t)p[n[t].toString()]=this.ne[t];l.ivs=p}if(this.yc.length){p={};for(const t of this.yc)(n=t.ed())&&(p[t.pg().Ya.toString()]=n);l.behs=p}}this.eb&&(l.w=this.eb.ja(h));(h=this.ra.ed())&&(l.data=h);return l}$w(h="full"){this.eb&&this.eb.$w(h)}Rc(h,l="full"){if("full"===l)this.Bc=
h.uid;else if(!h.c3)return;if("visual-state"!==l){var p=d.get(this);p&&(p.clear(),d.delete(this));if(p=h.ex)p=e.SA(p),d.set(this,p);this.ue=h.hasOwnProperty("mts")?h.mts:-1;if(p=h.ivs)for(const [q,u]of Object.entries(p))if(p=this.Hd.MU(parseInt(q,10)),!(0>p||p>=this.ne.length)){var n=u;null===n&&(n=NaN);this.ne[p]=n}}if(this.Ab().vf){p=h.w;var t=p.l;this.eb.aa().Ya!==t&&(n=this.eb.aa(),(t=n.Hf().Dv(t))?(this.eb.Hs(t),n.jn(this,!0),t.Bg(this,!0),t.Uf(),this.eb.Fa()):"full"===l&&this.g.zm(this));this.eb.qa(p,
l)}if("visual-state"!==l&&(l=h.behs))for(const [q,u]of Object.entries(l))l=this.OI(parseInt(q,10)),0>l||l>=this.yc.length||this.yc[l].Rc(u);(h=h.data)&&this.ra.Rc(h)}sg(){return this.Ud||this.GM()}GM(){var h=this.eb?self.Rv:a;const l=this.ra.Yk(),p=this.Hd.UO,n=p||l||h;a.Bh(this);this.Ud=new n;a.Bh(null);if(l&&!(this.Ud instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(p&&(h=l||h,!(this.Ud instanceof h)))throw new TypeError(`setInstanceClass(): class '${p.name}' does not extend the right base class '${h.name}'`);
return this.Ud}f2(h){if(0!==this.ne.length){var l={},p=this.Hd.Z1();for(let n=0,t=p.length;n<t;++n)l[p[n]]={configurable:!1,enumerable:!0,get:e.Instance.prototype.g2.bind(this,n),set:e.Instance.prototype.pl.bind(this,n)};l=Object.create(Object.prototype,l);h.uia={value:l,writable:!1}}}a2(h){var l=this.yc;if(0!==l.length){var p={};for(const n of l)p[n.pg().mh()]={value:n.Hv(),writable:!1};l=Object.create(Object.prototype,p);h.su={value:l,writable:!1}}}og(h){h.instance=this.sg();var l=this.g;(l=l.ub&&
!l.ga().Wv())&&b.MC();this.sg().dispatchEvent(h);l&&b.wA()}}}"use strict";
{const e=self.B;e.aZ=class extends e.${constructor(b){super();this.Nb=b;this.ic=null;this.Gx=[];this.cz=b.ea();this.bz=b.da();this.fz=0}j(){this.ic=null;e.D(this.Gx)}cL(b){this.fz=(this.ic=b)?b.Ea():0}za(){return this.ic}Je(){return 0<this.Gx.length}Ee(){return this.Gx}Di(){return this.Nb.Po()?this.ic.ea()/this.ic.Hb.cz:1}Ei(){return this.Nb.Oo()?this.ic.da()/this.ic.Hb.bz:1}ja(){return{sw:this.cz,sh:this.bz,psa:this.fz,c:this.Gx.map(b=>{let a="";b.Jm()&&(a+="x");b.Km()&&(a+="y");b.Po()&&(a+="w");
b.Oo()&&(a+="h");b.Lv()&&(a+="a");b.Mv()&&(a+="z");b.xv()&&(a+="d");return{uid:b.Ia().Bc,f:a}})}}qa(b){this.cz=b.sw;this.bz=b.sh;this.fz=b.psa}wD(b){const a=this.Nb,g=a.H();for(const c of b.c){b=g.yi(c.uid).m();const d=c.f,k={};k.dr=d.includes("x");k.er=d.includes("y");k.xo=d.includes("w");k.wo=d.includes("h");k.cr=d.includes("a");k.fr=d.includes("z");k.uu=d.includes("d");a.Qk(b,k)}}}}"use strict";
{const e=self.B,b=e.A(e.Rect),a=e.A(e.ie),g=e.A(e.Event,"bboxchange",!1),c=e.A(e.Za,0,0,0,0),d=e.A(e.Co),k=e.A(e.Za,1,1,1,1),h=e.A(e.Rect,0,0,-1,-1),l=e.A(e.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),n=[];let t=!0;e.P_=class extends e.${constructor(q,u){super();this.Z=q;this.I=q.G();this.g=q.H();this.bj=u;this.mj=-1;this.ua=196635;this.I.Ab().So()&&(this.ua|=128);this.oq=this.nq=this.AE=this.rG=this.Qa=this.Wi=this.jj=this.Ye=this.M=this.S=NaN;this.tE=e.A(e.Rect);this.uE=e.A(e.ie);this.Hx=
l;this.Qt=h;this.hi=this.Eq=this.wz=null;this.wn=this.Wa=k;this.Vd=this.fo=null;this.Z.G().xL()&&(this.Vd=e.A(e.tW,this.Z,this));this.nG=this.Hb=null;this.oG=this.SP=NaN;this.Rg=null}sD(){this.ua|=256}j(){this.fo&&(this.g.Ir().vK(this.fo),this.fo=null);this.wz=null;this.Eq&&(this.Eq.PQ.j(),this.Eq=null);this.hi&&(this.hi.clear(),this.hi=null);this.kw();this.Ii()&&this.za().Ki(this);if(this.Je()){const q=[...this.Ee()];for(const u of q)this.Ki(u)}this.cx();this.bj=this.g=this.I=this.Z=null}cl(q){t=
!1;this.Nj(q[0],q[1]);this.Oj(q[2]);this.Uc(q[3],q[4]);this.So()?this.qd(q[6]):this.Qa=0;c.Nk(q[7]);this.gx(c);this.kp(q[8]);this.lp(q[9]);this.kf(q[10]);this.Vd&&this.Vd.W2(q[12]);q[14]&&(this.nG=q[14][1],this.SP=q[14][2]);if(q[15]){var u=q[15];this.KA(u[0],u[1]);q=this.Hi();u=u[2];for(let v=0,A=u.length;v<A;++v){const y=u[v];for(let E=0,x=y.length;E<x;++E){const F=y[E],I=q.Ko(E,v);I.Tf(F[0]);I.zg(F[1]);I.FC(F[2]);I.GC(F[3])}}}t=!0;this.wp()}gW(){this.rG=this.Qa=this.Wi=this.jj=this.Ye=this.M=this.S=
0;this.AE=1;this.oq=this.nq=0;this.wp()}H(){return this.g}G(){return this.I}Ia(){return this.Z}xs(){return this.Lv()?this.za().Ea()-this.Hb.fz:0}Tf(q){q=+q;if(this.Jm()){const u=this.Hb;q-=this.la();const v=-this.xs();0===v?this.S+=q/u.Di():(this.S+=Math.cos(v)*q/u.Di(),this.Km()&&(this.M+=Math.sin(v)*q/u.Ei()))}else this.S=q}dw(q){q=+q;this.Jm()?this.Tf(this.la()+q):this.S+=q}la(){if(this.Jm()){let q=this.S;const u=this.Hb,v=this.za(),A=this.xs();0===A?q*=u.Di():(q=q*u.Di()*Math.cos(A),this.Km()&&
(q-=this.M*u.Ei()*Math.sin(A)));return v.la()+q}return this.S}zg(q){q=+q;if(this.Km()){const u=this.Hb;q-=this.ma();const v=-this.xs();0===v?this.M+=q/u.Ei():(this.Jm()&&(this.S-=Math.sin(v)*q/u.Di()),this.M+=Math.cos(v)*q/u.Ei())}else this.M=q}fw(q){q=+q;this.Km()?this.zg(this.ma()+q):this.M+=q}ma(){if(this.Km()){let q=this.M;const u=this.Hb,v=this.za(),A=this.xs();0===A?q*=u.Ei():(q=q*u.Ei()*Math.cos(A),this.Jm()&&(q+=this.S*u.Di()*Math.sin(A)));return v.ma()+q}return this.M}Nj(q,u){q=+q;u=+u;if(this.nJ()){const A=
this.Jm(),y=this.Km(),E=this.Hb,x=q-this.la(),F=u-this.ma();var v=-this.xs();if(0===v)this.S=A?this.S+x/E.Di():q,this.M=y?this.M+F/E.Ei():u;else{const I=Math.sin(v);v=Math.cos(v);this.S=A?y?this.S+(v*x-I*F)/E.Di():this.S+v*x/E.Di():q;this.M=y?A?this.M+(I*x+v*F)/E.Ei():this.M+v*F/E.Ei():u}}else this.S=q,this.M=u}ew(q,u){q=+q;u=+u;this.nJ()?this.Nj(this.la()+q,this.ma()+u):(this.S+=q,this.M+=u)}NT(q,u){return this.la()===q&&this.ma()===u}Oj(q){q=+q;this.Mv()&&(q-=this.za().Lb());this.Ye!==q&&(this.Ye=
q,this.XN(),q=this.aa(),0!==this.Ye&&q.yN(),q.Uf())}XN(){this.wp();if(this.Je()){const q=this.Ee();for(let u=0,v=q.length;u<v;u++){const A=q[u];A.Mv()&&A.XN()}}}EX(q){this.Oj(this.Lb()+q)}Lb(){return this.Mv()?this.za().Lb()+this.Ye:this.Ye}Kf(){return this.aa().Lb()+this.Lb()}pf(q){q=+q;this.jj=this.Po()?this.jj*(q/this.ea()):q}XJ(q){q=+q;this.Po()?this.pf(this.ea()+q):this.jj+=q}ea(){return this.Po()?this.za().ea()*this.jj:this.jj}lf(q){q=+q;this.Wi=this.Oo()?this.Wi*(q/this.da()):q}WJ(q){q=+q;
this.Oo()?this.lf(this.da()+q):this.Wi+=q}da(){return this.Oo()?this.za().da()*this.Wi:this.Wi}Uc(q,u){q=+q;u=+u;this.jj=this.Po()?this.jj*(q/this.ea()):q;this.Wi=this.Oo()?this.Wi*(u/this.da()):u}gV(){if(this.Ii()){const q=this.Hb;return Math.min(q.Di(),q.Ei())}return 1}So(){return 0!==(this.ua&128)}qd(q){q=+q;this.So()&&(this.Lv()&&(q-=this.za().Ea()),q=e.xd(q),this.Qa!==q&&(this.Qa=q,this.tD()))}AX(q){q=+q;0!==q&&this.So()&&(this.Qa=e.xd(this.Qa+q),this.tD())}tD(){this.ua|=262144;if(this.Je()){const q=
this.Ee();for(let u=0,v=q.length;u<v;u++)q[u].tD()}}Ea(){return this.Lv()?e.xd(this.za().Ea()+this.Qa):this.Qa}TM(){const q=this.ua;if(0!==(q&262144)){var u=this.Ea();this.rG=Math.sin(u);this.AE=Math.cos(u);this.ua=q&-262145}}yB(){this.TM();return this.rG}aB(){this.TM();return this.AE}kp(q){this.nq=+q}CX(q){this.nq+=+q}Bi(){return this.nq}lp(q){this.oq=+q}DX(q){this.oq+=+q}Ci(){return this.oq}gx(q){this.Wa.Nc(q)||(this.Wa===k?(this.Wa=e.A(e.Za,q),this.wn=e.A(e.Za,q),this.wn.GH()):q.wu(1,1,1,1)?this.wn=
this.Wa=k:(this.Wa.set(q),this.wn.set(q),this.wn.GH()),this.wp())}Mj(q){q=e.ia(+q,0,1);this.Wa.po!==q&&(c.lm(this.Wa),c.po=q,this.gx(c))}BX(q){this.Mj(this.If()+q)}If(){return this.Wa.po}hL(q){this.Wa.om(q)||(c.lm(q),c.po=this.Wa.po,this.gx(c))}YZ(q,u,v){c.Lu(q,u,v);this.hL(c)}qB(){return this.wn}xv(){return 0!==(this.ua&512)}mZ(q){this.qf(512,q)}Jm(){return 0!==(this.ua&1024)}TZ(q){this.qf(1024,q)}Km(){return 0!==(this.ua&2048)}nJ(){return 0!==(this.ua&3072)}UZ(q){this.qf(2048,q)}Po(){return 0!==
(this.ua&4096)}SZ(q){this.qf(4096,q)}Oo(){return 0!==(this.ua&8192)}RZ(q){this.qf(8192,q)}Lv(){return 0!==(this.ua&16384)}QZ(q){this.qf(16384,q)}Mv(){return 0!==(this.ua&32768)}VZ(q){this.qf(32768,q)}NL(){this.ua&=-65025}Qk(q,u){if(q!==this&&!q.Ii()&&!this.CM(q)&&!this.BM(q)){var v=q.la(),A=q.ma(),y=q.ea(),E=q.da(),x=q.Ea(),F=q.Lb();q.DN(this);q.TZ(u.dr);q.UZ(u.er);q.SZ(u.xo);q.RZ(u.wo);q.QZ(u.cr);q.VZ(u.fr);q.mZ(u.uu);u.dr&&(q.S=v-this.la(),u.xo&&(q.S/=this.ea()/this.Hb.cz));u.er&&(q.M=A-this.ma(),
u.wo&&(q.M/=this.da()/this.Hb.bz));u.xo&&(q.jj=y/this.ea());u.wo&&(q.Wi=E/this.da());u.cr&&(q.Qa=x-this.Ea());u.fr&&(q.Ye=F-this.Lb());this.Y_(q);this.Fa()}}Ki(q){if(q.za()===this){var u=q.la(),v=q.ma(),A=q.ea(),y=q.da(),E=q.Ea(),x=q.Lb();q.DN(null);q.NL();q.Nj(u,v);q.Uc(A,y);q.qd(E);q.Oj(x);this.y4(q);this.Fa()}}E4(){for(var q of this.children())this.Ki(q);(q=this.za())&&q.Ki(this);this.NL()}Ii(){return null!==this.za()}za(){const q=this.Hb;return null!==q?q.za():null}Jv(){let q=this;for(;q.Ii();)q=
q.za();return q}*parents(){let q=this.za();for(;q;)yield q,q=q.za()}yV(q){return this.Ee().includes(q)}Je(){const q=this.Hb;return null!==q?q.Je():!1}Ee(){const q=this.Hb;return null!==q?q.Ee():n}children(){return this.Ee()}*km(){for(const q of this.children())yield q,yield*q.km()}uv(){return this.Ee().length}ZA(q){const u=this.Ee();q=Math.floor(+q);return 0>q||q>=u.length?null:u[q]}$C(q){this.Hb||(this.Hb=e.A(e.aZ,this));q&&this.Hb.cL(q)}cx(){this.Hb&&(this.Hb.j(),this.Hb=null)}DN(q){q?(q.$C(null),
this.$C(q)):(this.Hb&&this.Hb.cL(null),this.Je()||this.cx())}BM(q){if(!this.Ii())return!1;const u=this.za();return u===q?!0:u.BM(q)}CM(q){if(this.yV(q))return!0;for(const u of this.Ee())if(u.CM(q))return!0;return!1}Y_(q){this.Hb.Ee().push(q)}y4(q){const u=this.Hb.Ee(),v=u.indexOf(q);-1!==v&&u.splice(v,1);0!==u.length||this.Ii()||this.cx();q.Je()||q.cx()}AC(q){this.oG=q}wp(){if(t){var q=this.g.Ir();this.fo&&q.vK(this.fo);this.fo=q.kR(q.xz||"<default>",this.qg(),this.wn,this.Lb())}}bl(){return this.Wa===
k}kf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.qg()!==q&&(this.ua=this.ua&-2080374785|q<<26,this.wp())}qg(){return(this.ua&2080374784)>>26}Hs(q){this.bj=q;0!==this.Lb()&&this.bj.yN()}aa(){return this.bj}Hf(){return this.aa().Hf()}ix(q){this.mj=q|0}qh(){this.bj.nx();return this.mj}qf(q,u){this.ua=u?this.ua|q:this.ua&~q}pd(){return 0!==(this.ua&1)}yg(q){this.qf(1,q)}rh(){return 0!==(this.ua&8)}Zr(q){q=!!q;this.rh()!==q&&(this.qf(8,q),q?this.Fa():this.iN())}CC(q,u){this.qf(32,
q);this.hi&&this.hi.clear();if(u.trim()){this.hi||(this.hi=new Set);for(const v of u.split(" "))v&&this.hi.add(v.toLowerCase())}else this.hi=null}Fa(){this.ua|=65554;this.I.xN();this.g.ca();this.bj.oo&&(this.Tu(this.tE,this.uE,!0),this.ua&=-3,this.n6());0!==(this.ua&4)&&this.Z.Db().dispatchEvent(g);if(null!==this.Hb){const q=this.Hb.Ee();for(let u=0,v=q.length;u<v;++u)q[u].Fa()}}Tu(q,u,v){const A=this.la(),y=this.ma(),E=this.ea(),x=this.da(),F=this.Ea();q.bh(A-this.nq*E,y-this.oq*x,E,x);v&&this.hf()&&
this.J1(q);0===F?u.Ok(q):(q.offset(-A,-y),u.VQ(q,this.yB(),this.aB()),u.offset(A,y),u.mH(q));q.normalize()}RN(){const q=this.ua;0!==(q&2)&&(this.Tu(this.tE,this.uE,!0),this.ua=q&-3)}zb(){this.RN();return this.tE}Tk(){this.RN();return this.uE}lK(q){var u=this.la(),v=this.ma();u=Math.round(u)-u;v=Math.round(v)-v;if(0===u&&0===v)return q;a.wa(q);a.offset(u,v);return a}hZ(q){this.qf(4,q)}wJ(){return 0!==(this.ua&4)}GJ(q){return 0===this.Lb()?q.oH(this.zb()):this.M2()}M2(){const q=this.aa(),u=this.Kf();
if(u>=q.YA())return!1;q.pJ(u,b);return b.oH(this.zb())}DC(q){this.wz=q;this.fD();this.hf()&&(this.Rg.uH=null)}Pv(){return null!==this.wz||this.hf()}$k(){return this.c2(this.ea(),this.da(),this.Ea(),this.yB(),this.aB())}c2(q,u,v,A,y){let E=this.Eq;null===E&&(this.Eq=E={PQ:e.A(e.Co),width:NaN,height:NaN,angle:NaN});const x=E.PQ;if(E.width===q&&E.height===u&&E.angle===v)return x;const F=this.wz;if(this.hf()){const I=this.Bi(),M=this.Ci(),O=this.Hi();let Q=this.Rg.uH;Q||(F?(d.wa(F),d.offset(I,M)):d.w9(),
Q=O.sW(d),this.Rg.uH=Q);O.w_(Q,x);x.offset(-I,-M);x.UH(q,u,A,y)}else F?(x.wa(F),x.UH(q,u,A,y)):x.NH(this.Tk(),-this.la(),-this.ma());E.width=q;E.height=u;E.angle=v;return x}fD(){this.IZ();const q=this.Eq;null!==q&&(q.width=NaN)}KA(q,u){q=Math.floor(q);u=Math.floor(u);if(!this.Ia().Ab().L7)throw Error("object does not support mesh");this.kw();this.Rg={QH:e.A(e.oa.UJ,q,u),bR:e.A(e.oa.UJ,q,u),uH:null}}hf(){return null!==this.Rg}Hi(){if(!this.hf())throw Error("no mesh");return this.Rg.QH}oJ(){if(!this.hf())throw Error("no mesh");
return this.Rg.bR}yC(q){this.qf(65536,q)}IJ(){return 0!==(this.ua&65536)}IZ(){this.qf(131072,!0)}J1(q){var u=this.Rg.QH;const v=Math.min(u.YU(),0),A=Math.min(u.ZU(),0),y=Math.max(u.WU(),1);u=Math.max(u.XU(),1);const E=q.width(),x=q.height();q.offsetLeft(v*E);q.offsetTop(A*x);q.i9((y-1)*E);q.h9((u-1)*x)}kw(){this.Rg&&(this.Rg.QH.j(),this.Rg.bR.j(),this.Rg=null,this.fD())}aL(q,u,v){q=Math.floor(q);u=Math.floor(u);var A=v.mode||"absolute";if(!p.has(A))throw Error("invalid mode");A="relative"===A;let y=
v.x,E=v.y,x="number"===typeof v.fR?v.fR:A?0:-1;v="number"===typeof v.gR?v.gR:A?0:-1;if(!this.hf())return!1;const F=this.Hi(),I=F.Ko(q,u);if(null===I)return!1;A&&(y+=q/(F.Xi-1),E+=u/(F.ij-1));-1!==x||A?(A&&(x+=q/(F.Xi-1)),x=e.ia(x,0,1)):x=I.kg;-1!==v||A?(A&&(v+=u/(F.ij-1)),v=e.ia(v,0,1)):v=I.mg;if(I.la()===y&&I.ma()===E&&I.kg===x&&I.mg===v)return!1;I.Tf(y);I.zg(E);I.FC(x);I.GC(v);this.fD();return!0}Lm(){return this.Z.Lm()}Do(q,u){return this.zb().bf(q,u)&&this.Tk().bf(q,u)?this.Lm()?void 0:this.Pv()?
this.$k().bf(q-this.la(),u-this.ma()):!0:!1}J2(){return 0!==(this.ua&16)}SN(){if(this.J2()&&this.rh()&&0===(this.ua&256)){var q=this.zb(),u=this.I.Ix,v=this.Hx;b.set(u.yh(q.L),u.zh(q.J),u.yh(q.T),u.zh(q.N));v.Nc(b)||(q=this.Z,v===l?(u.Pj(q,null,b),this.Hx=e.A(e.Rect,b)):(u.Pj(q,v,b),v.wa(b)),this.ua&=-17)}}iN(){const q=this.Hx;q!==l&&(this.I.Ix.Pj(this.Z,q,null),this.Hx=l)}n6(){const q=this.aa();if(q.oo&&0===(this.ua&256)){var u=q.tq,v=this.zb(),A=this.Qt;b.set(u.yh(v.L),u.zh(v.J),u.yh(v.T),u.zh(v.N));
A.Nc(b)||(v=this.Z,A===h?(u.Pj(v,null,b),this.Qt=e.A(e.Rect,b)):(u.Pj(v,A,b),A.wa(b)),q.LZ())}}jN(){const q=this.Qt;q!==h&&(this.aa().tq.Pj(this.Z,q,null),this.Qt=h)}W_(){const q=this.Z,u=this.bj,v=u.F;v.length&&v[v.length-1]===q||(u.jn(q,!1),u.Bg(q,!1),this.g.ca())}U_(){const q=this.Z,u=this.bj,v=u.F;v.length&&v[0]===q||(u.jn(q,!1),u.h4(q),this.g.ca())}V_(q){const u=this.Z,v=this.bj;if(v.Hf()!==q.Hf())throw Error("layer from different layout");q!==v&&(v.jn(u,!0),this.Hs(q),q.Bg(u,!0),this.g.ca())}T_(q,
u){const v=this.Z,A=this.bj;if(q.Bc!==v.Bc){var y=q.m();if(!y)throw Error("expected world instance");var E=y.aa();y=!1;A.xa()!==E.xa()&&(A.jn(v,!0),this.Hs(E),E.Bg(v,!0),y=!0);q=E.uX(v,q,!!u);(y||q)&&this.g.ca()}}D5(q){this.qf(64,q)}Nr(){return 0!==(this.ua&64)}ja(q){const u={x:this.la(),y:this.ma(),w:this.ea(),h:this.da(),l:this.aa().Ya,zi:this.qh()};0!==this.Lb()&&(u.ze=this.Lb());0!==this.Ea()&&(u.a=this.Ea());this.bl()||(u.c=this.Wa.toJSON());.5!==this.Bi()&&(u.oX=this.Bi());.5!==this.Ci()&&(u.oY=
this.Ci());0!==this.qg()&&(u.bm=this.qg());this.pd()||(u.v=this.pd());this.rh()||(u.ce=this.rh());this.wJ()&&(u.be=this.wJ());this.Vd&&(u.fx=this.Vd.ja());const v=0!==(this.ua&32);v&&(u.sfi=v);this.hi&&(u.sft=[...this.hi].join(" "));this.Hb&&"visual-state"!==q&&(u.sgi=this.Hb.ja());this.hf()&&(u.mesh=this.Hi().ed());return u}$w(q){"visual-state"!==q&&this.E4()}qa(q,u){t=!1;this.Tf(q.x);this.zg(q.y);this.pf(q.w);this.lf(q.h);this.ix(q.zi);this.Oj(q.hasOwnProperty("ze")?q.ze:0);this.qd(q.hasOwnProperty("a")?
q.a:0);q.hasOwnProperty("c")?c.Nk(q.c):q.hasOwnProperty("o")?(c.lm(this.Wa),c.po=q.o):c.uo(1,1,1,1);this.gx(c);this.kp(q.hasOwnProperty("oX")?q.oX:.5);this.lp(q.hasOwnProperty("oY")?q.oY:.5);this.kf(q.hasOwnProperty("bm")?q.bm:0);this.yg(q.hasOwnProperty("v")?q.v:!0);this.Zr(q.hasOwnProperty("ce")?q.ce:!0);this.hZ(q.hasOwnProperty("be")?q.be:!1);this.CC(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.Vd&&q.hasOwnProperty("fx")&&this.Vd.qa(q.fx);if(q.hasOwnProperty("sgi")&&
"visual-state"!==u){this.$C(null);const v=this.Hb,A=q.sgi;v.qa(A);const y=this.H().Db(),E=()=>{y.removeEventListener("afterload",E);v.wD(A)};y.addEventListener("afterload",E)}q.hasOwnProperty("mesh")?(q=q.mesh,this.KA(q.cols,q.rows),this.Hi().Rc(q)):this.kw();this.Fa();t=!0;this.wp()}}}"use strict";
{const e=self.B;e.cI=class extends e.${constructor(b,a){super();const g=b.H(),c=g.Yn,d=g.tg(a[1]);c.xV(d)||c.uS(a);this.g=g;this.I=b;this.Gh=c.dU(d);this.vc=null;this.ry=d.Instance;this.Ya=a[2];this.V=a[0];this.wt=this.g.mh(a[3]);this.vc=e.A(d.sl,this);this.cd()}static Na(b,a){return e.A(e.cI,b,a)}j(){this.Gh=this.g=null;this.vc.j();this.ry=this.vc=null}cd(){this.vc.cd()}H(){return this.g}G(){return this.I}sj(){return this.Gh}mh(){return this.wt}}}"use strict";
{const e=self.B,b=self.LV;e.Qu=class extends e.${constructor(a){super();this.g=a.mc;this.zc=a.aH;this.Gh=this.zc.sj();this.Z=a.instance;this.Ma=a.index;this.Ud=this.ra=null;this.Gh.Bg(this.Z)}j(){this.Ud&&(this.Ud.Fs(),this.Ud=null);this.Gh.jn(this.Z);this.ra.j();this.Z=this.Gh=this.zc=this.g=this.Ud=this.ra=null}Kw(a){if(this.ra)throw Error("already got sdk instance");this.ra=e.A(this.zc.ry,this,a);this.C2()}H(){return this.g}pg(){return this.zc}sj(){return this.Gh}Cg(){return this.Ma}ed(){return this.ra.ed()}Rc(a){return this.ra.Rc(a)}static KC(a,
g){var c=a.Z,d=g.Z;const k=c.G().xa(),h=d.G().xa();if(k!==h)return k-h;c=c.MP;d=d.MP;return c!==d?c-d:a.Bx.Cg()-g.Bx.Cg()}C2(){const a=this.ra.Yk(),g=a||b;b.Bh(this);this.Ud=new g;b.Bh(null);if(a&&!(this.Ud instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Hv(){return this.Ud}}}"use strict";
{const e=self.B;e.qj=class extends e.${constructor(b,a){super();this.Nb=b;this.Xf=[];this.Dh=[];this.Qx=new Map;this.Kg=[];this.pq=!0;for(const g of a)b=e.A(e.CI,this,g,this.Xf.length),this.Xf.push(b),this.Qx.set(b.V.toLowerCase(),b),3<=g.length&&this.Kg.push(this.qD(g[2]));this.H().$_(this)}j(){e.D(this.Xf);e.D(this.Dh);this.Qx.clear();e.D(this.Kg);this.Nb=null}nY(b){if(b.length){this.Xf=b.concat(this.Xf);for(const a of b)this.Qx.set(a.V.toLowerCase(),a);for(let a=0,g=this.Xf.length;a<g;++a)this.Xf[a].G5(a)}}qD(b){b=
b.slice(0);for(let a=0,g=b.length;a<g;++a){const c=b[a];if(Array.isArray(c)){const d=e.A(e.Za);d.Nk(c);b[a]=d}}return b}H(){return this.Nb.H()}tl(){e.D(this.Dh);let b=!0;for(const a of this.Xf)a.tb&&(this.Dh.push(a),a.bb.pq||(b=!1));this.pq=b}Ff(){return this.Xf}tV(){return 0<this.Xf.length}yj(b){return this.Qx.get(b.toLowerCase())||null}TI(b){b=Math.floor(+b);if(0>b||b>=this.Xf.length)throw new RangeError("invalid effect type index");return this.Xf[b]}Pr(b){return this.TI(b).tb}PK(b,a){this.TI(b).qw(a)}Nr(){return 0<
this.Dh.length}Gf(b){return this.Kg[b]}static YY(b){return b&&b instanceof e.Za?{t:"color",v:b.toJSON()}:b}static kX(b){if("object"===typeof b){if("color"===b.t){const a=e.A(e.Za);a.Nk(b.v);return a}throw Error("invalid effect parameter type");}return b}static GK(b){return b.map(e.qj.YY)}static QJ(b){return b.map(e.qj.kX)}ed(){return this.Xf.map(b=>({name:b.V,active:b.tb,params:e.qj.GK(this.Kg[b.xa()])}))}Rc(b){for(const a of b)if(b=this.yj(a.name))b.qw(a.active),this.Kg[b.xa()]=e.qj.QJ(a.params);
this.tl()}}}"use strict";
{const e=self.B;e.CI=class extends e.${constructor(b,a,g){super();this.La=b;this.me=a[0];this.V=a[1];this.Ma=g;this.bb=null;this.tb=!0}j(){this.bb=this.La=null}gS(b){b=e.A(e.CI,b,[this.me,this.V],-1);b.bb=this.bb;b.tb=this.tb;return b}EM(b){b=b.kJ(this.me);if(!b)throw Error("failed to find shader program '"+this.me+"'");this.bb=b}G5(b){this.Ma=b}xa(){return this.Ma}H(){return this.La.H()}qw(b){this.tb=!!b}oU(){const b=[];for(let a=0,g=this.bb.no.length;a<g;++a){const c=this.bb.Fv(a);if("float"===
c||"percent"===c)b.push(0);else if("color"===c)b.push(e.A(e.Za,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}"use strict";
{const e=self.B;e.tW=class extends e.${constructor(b,a){super();this.Z=b;this.Q7=a;this.La=b.G().La;this.ln=[];this.Dh=[];this.pq=!0;this.Kg=[];for(const g of this.La.Ff())this.ln.push(!0);this.tl()}j(){e.D(this.ln);e.D(this.Dh);e.D(this.Kg);this.La=this.Z=null}W2(b){for(const a of b)this.Kg.push(this.qD(a))}qD(b){b=b.slice(0);for(let a=0,g=b.length;a<g;++a){const c=b[a];if(Array.isArray(c)){const d=e.A(e.Za);d.Nk(c);b[a]=d}}return b}hX(){for(const b of this.La.Ff())this.Kg.push(b.oU())}H(){return this.Z.H()}tl(){e.D(this.Dh);
const b=this.La.Ff(),a=this.Dh,g=this.ln;let c=!0;for(let d=0,k=b.length;d<k;++d)if(g[d]){const h=b[d];a.push(h);h.bb.pq||(c=!1)}this.pq=c;this.Q7.D5(!!a.length)}Gf(b){return this.Kg[b]}Pr(b){return this.ln[b]}PK(b,a){this.ln[b]=!!a}Ff(){return this.La.Ff()}ja(){return this.La.Ff().map(b=>({name:b.V,active:this.ln[b.xa()],params:e.qj.GK(this.Kg[b.xa()])}))}qa(b){for(const a of b)if(b=this.La.yj(a.name))this.ln[b.xa()]=a.active,this.Kg[b.xa()]=e.qj.QJ(a.params);this.tl()}}}"use strict";
{const e=self.B,b=[],a=e.A(e.Co),g=e.A(e.Co),c=e.A(e.ie);e.A(e.Rect);e.A(e.Rect);e.hS=class extends e.${constructor(d){super();this.g=d;this.pz=[]}j(){this.g=null}$H(d,k,h){for(const [l,p]of this.pz){let n;if(d===l)n=p;else if(d===p)n=l;else continue;n.Ao(k)&&(h.includes(n)||h.push(n))}}mI(d,k){if(!this.pz.length)return!1;for(const [h,l]of this.pz)if(d===h&&k===l||d===l&&k===h)return!0;return!1}nI(){e.D(this.pz)}OC(d,k){if(!d||!k||d===k)return!1;d=d.m();k=k.m();if(!d.rh()||!k.rh())return!1;const h=
d.aa(),l=k.aa();return h.VW(l)?this.c6(d,k):this.b6(d,k)}c6(d,k){if(!d.zb().oH(k.zb())||!d.Tk().FQ(k.Tk())||d.Lm()&&k.Lm())return!1;if(d.Lm())return this.oL(d,k);if(k.Lm())return this.oL(k,d);if(!d.Pv()&&!k.Pv())return!0;const h=d.$k(),l=k.$k();return h.zu(l,k.la()-d.la(),k.ma()-d.ma())}b6(d,k){var h=d.aa();const l=k.aa();a.wa(d.$k());g.wa(k.$k());var p=a.Id;for(let n=0,t=p.length;n<t;n+=2){const q=n+1,u=p[q],[v,A]=h.To(p[n]+d.la(),u+d.ma());p[n]=v;p[q]=A}d=g.Id;for(let n=0,t=d.length;n<t;n+=2){h=
n+1;p=d[h];const [q,u]=l.To(d[n]+k.la(),p+k.ma());d[n]=q;d[h]=u}a.UQ();g.UQ();return a.zu(g,0,0)}oL(d,k){const h=k.zb(),l=d.la(),p=d.ma();var n=d.Ia().ra;d=k.la();const t=k.ma(),q=k.Pv(),u=k.Tk();n.Haa(h,b);for(let y=0,E=b.length;y<E;++y){var v=b[y];n=v.Laa();if(h.J8(n,l,p)&&(c.Ok(n),c.offset(l,p),c.FQ(u)))if(q){var A=k.$k();if(v=v.dV()){if(v.zu(A,d-(l+n.L),t-(p+n.J)))return e.D(b),!0}else if(a.NH(c,0,0),a.zu(A,d,t))return e.D(b),!0}else if(A=v.dV()){if(a.NH(u,0,0),A.zu(a,-(l+n.L),-(p+n.J)))return e.D(b),
!0}else return e.D(b),!0}e.D(b);return!1}Aw(d,k,h){const l=d.P();var p=this.g.sb();if(!p)throw Error("cannot call outside event");p=p.vd;if(l.Rb){l.Qd(!1);e.D(l.F);for(var n of d.ba()){var t=n.m(),q=t.aa();const [u,v]=q.ri(k,h,t.Kf());t.Do(u,v)?l.hn(n):p&&l.wl(n)}}else{n=p?l.Qb:l.F;t=0;for(let u=0,v=n.length;u<v;++u){q=n[u];const A=q.m(),y=A.aa(),[E,x]=y.ri(k,h,A.Kf());A.Do(E,x)?p?l.hn(q):n[t++]=q:p&&(n[t++]=q)}n.length=t}d.Ob();return l.BB()}$A(d,k,h,l){d=d?1!==d.qe||1!==d.re:!1;if(k.Ra)for(const p of k.Dn)d||
p.iE?e.qo(l,p.ba()):(p.PN(),p.Ix.jw(h,l));else d||k.iE?e.qo(l,k.ba()):(k.PN(),k.Ix.jw(h,l))}}}"use strict";
{const e=self.B;e.i_=class extends e.${constructor(b,a){super();this.wE=b;this.vE=a;this.Jh=e.A(e.Ur)}j(){this.Jh.j();this.Jh=null}Uk(b,a,g){let c=this.Jh.W(b,a);return c?c:g?(c=e.A(e.pV,this,b,a),this.Jh.Set(b,a,c),c):null}yh(b){b=Math.floor(b/this.wE);return isFinite(b)?b:0}zh(b){b=Math.floor(b/this.vE);return isFinite(b)?b:0}Pj(b,a,g){if(a)for(let c=a.L,d=a.T;c<=d;++c)for(let k=a.J,h=a.N;k<=h;++k){if(g&&g.bf(c,k))continue;const l=this.Uk(c,k,!1);l&&(l.wg(b),l.Qm()&&this.Jh.ym(c,k))}if(g)for(let c=
g.L,d=g.T;c<=d;++c)for(let k=g.J,h=g.N;k<=h;++k)a&&a.bf(c,k)||this.Uk(c,k,!0).KB(b)}jw(b,a){let g=this.yh(b.L);const c=this.zh(b.J),d=this.yh(b.T);b=this.zh(b.N);if(isFinite(d)&&isFinite(b))for(;g<=d;++g)for(let k=c;k<=b;++k){const h=this.Uk(g,k,!1);h&&h.OA(a)}}}}"use strict";{const e=self.B;e.pV=class extends e.${constructor(b,a,g){super();this.S=a;this.M=g;this.F=e.A(e.xA)}j(){this.F.j();this.F=null}Qm(){return this.F.Qm()}KB(b){this.F.Ec(b)}wg(b){this.F.ym(b)}OA(b){e.qo(b,this.F.UA())}}}"use strict";
{const e=self.B;e.xda=class{constructor(){this.rect=new e.Rect;this.vu=0}Set(b,a,g,c){this.rect.set(b,a,g,c);this.rect.normalize();this.vu=0;return this}}}"use strict";
{const e=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),g=e.A(e.ie),c=e.A(e.Rect);e.kI=class extends e.${constructor(d){super();this.g=d;this.Pa=this.Yj=null;this.zO="high-performance";this.Dl=this.Cl=this.Gg=this.Hg=this.Ac=this.Gc=this.gm=this.hm=0;this.Pp=!0;this.ak=this.bk=0;this.Q6=this.tO="letterbox-scale";this.P6=this.O6=0;this.Vi=this.VG="high";this.nt=!1;this.lE=[];this.Jz=new Set;this.gy=this.pG=null;this.Il=
this.iy=0;this.bt=NaN;this.hy=0;this.GF=new Map;this.uz="";this.sG=1;this.WP=e.A(e.Rect);this.tG="";this.XP=this.Yt=null;this.Ct=0;this.Yd=-1;this.Ql=0;this.MF=k=>this.Ql=k.progress;this.We=null;this.Xe={Eu:null,Gu:null,Ou:null};this.xG=this.$P=this.yG=0;this.ji="fade-in";this.wG=null;this.ZP=new Promise(k=>this.wG=k)}B5(d){this.zO=d}async hh(d){this.Yj=d.canvas;this.Yj.addEventListener("webglcontextlost",h=>this.Es(h));this.Yj.addEventListener("webglcontextrestored",()=>this.AD());const k={powerPreference:this.zO,
AQ:!0};"Android"===e.Sc.Xo&&"Chromium"===e.Sc.Su&&75>e.Sc.BA&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),k.tH=1);"standard"===this.g.Fp?k.alpha=!0:(k.alpha=!1,k.sH=!0);this.Pa=e.A(e.oa.M_,this.Yj,k);await this.Pa.Tv();this.Pa.Ni()||(this.hy=NaN);this.g.eh("runtime","window-resize",h=>this.b4(h));this.g.eh("runtime","fullscreenchange",h=>this.K3(h));this.g.eh("runtime","fullscreenerror",h=>
this.L3(h));this.nt=!!d.isFullscreen;this.Uc(d.windowInnerWidth,d.windowInnerHeight,!0);this.pG=self.C3_Shaders;await this.KM();d=!1;for(const h of this.g.dE){for(const l of h.Ff())l.EM(this.Pa),l.bb.mu&&(d=!0);h.tl()}this.g.Q5(d);this.Pa.Ni()&&(this.gy=e.A(e.oa.BL,this.Pa));this.Pa.zC(this.Pp)}async KM(){if(this.pG){var d=[];for(const [k,h]of Object.entries(this.pG))d.push(this.Pa.vI(h,e.oa.rs.bB(),k));await Promise.all(d);this.Pa.OY();this.Pa.xh()}}j(){this.Yj=this.Pa=this.g=null}b4(d){const k=
d.devicePixelRatio;this.g.Kl&&(self.devicePixelRatio=k);this.g.v5(k);this.Uc(d.innerWidth,d.innerHeight);this.g.ca()}K3(d){this.nt=!!d.isFullscreen;this.Uc(d.innerWidth,d.innerHeight,!0);this.g.ca()}L3(d){this.nt=!!d.isFullscreen;this.Uc(d.innerWidth,d.innerHeight,!0);this.g.ca()}Uc(d,k,h=!1){d=Math.floor(d);k=Math.floor(k);if(0>=d||0>=k)throw Error("invalid size");if(this.hm!==d||this.gm!==k||h)this.hm=d,this.gm=k,h=this.Ar(),"letterbox-scale"===h?this.o0(d,k):"letterbox-integer-scale"===h?this.n0(d,
k):"off"===h?this.l0(d,k):this.m0(d,k),this.m6(h),this.Yj.width=this.Hg,this.Yj.height=this.Gg,this.g.Vm("canvas","update-size",{marginLeft:this.Cl,marginTop:this.Dl,styleWidth:this.Gc,styleHeight:this.Ac}),this.Pa.Uc(this.Hg,this.Gg,!0)}o0(d,k){const h=this.g.uj(),l=this.g.pe,p=this.g.oe,n=l/p;d/k>n?(this.Gc=Math.round(k*n),this.Ac=k,this.Cl=Math.floor((d-this.Gc)/2),this.Dl=0):(this.Gc=d,this.Ac=Math.round(d/n),this.Cl=0,this.Dl=Math.floor((k-this.Ac)/2));this.Hg=Math.round(this.Gc*h);this.Gg=Math.round(this.Ac*
h);this.g.ns(l,p)}n0(d,k){const h=this.g.uj();1!==h&&(d+=1,k+=1);const l=this.g.pe,p=this.g.oe;var n=l/p;n=d/k>n?k*n*h/l:d/n*h/p;1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n));this.Hg=Math.round(l*n);this.Gg=Math.round(p*n);this.Gc=this.Hg/h;this.Ac=this.Gg/h;this.Cl=Math.max(Math.floor((d-this.Gc)/2),0);this.Dl=Math.max(Math.floor((k-this.Ac)/2),0);this.g.ns(l,p)}m0(d,k){const h=this.g.uj();this.Gc=d;this.Ac=k;this.Hg=Math.round(this.Gc*h);this.Gg=Math.round(this.Ac*h);this.Dl=this.Cl=0;d=this.vj();
this.g.ns(this.Gc/d,this.Ac/d)}l0(d,k){const h=this.g.uj();this.Gc=this.g.ni;this.Ac=this.g.mi;this.Hg=Math.round(this.Gc*h);this.Gg=Math.round(this.Ac*h);this.nt?(this.Cl=Math.floor((d-this.Gc)/2),this.Dl=Math.floor((k-this.Ac)/2)):this.Dl=this.Cl=0;this.g.ns(this.g.ni,this.g.mi)}m6(d){if("high"===this.VG)this.bk=this.Hg,this.ak=this.Gg,this.Vi="high";else{let h;if("off"===this.Ar()){var k=this.g.ni;h=this.g.mi}else k=this.g.pe,h=this.g.oe;this.Hg<k&&this.Gg<h?(this.bk=this.Hg,this.ak=this.Gg,this.Vi=
"high"):(this.bk=k,this.ak=h,this.Vi="low","scale-inner"===d?(d=k/h,k=this.hm/this.gm,k<d?this.bk=this.ak*k:k>d&&(this.ak=this.bk/k)):"scale-outer"===d&&(d=k/h,k=this.hm/this.gm,k>d?this.bk=this.ak*k:k<d&&(this.ak=this.bk/k)))}}vZ(d){if(!b.has(d))throw Error("invalid fullscreen mode");this.tO=d}zv(){return this.tO}Ar(){return this.nt?this.Q6:this.zv()}QK(d){if(!a.has(d))throw Error("invalid fullscreen scaling quality");this.VG=d}static Y1(d){switch(d){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";
case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}xj(){return this.bk}wj(){return this.ak}zC(d){this.Pp=!!d}XW(){return this.Pa.Om()}Es(d){console.log("[Construct 3] WebGL context lost");d.preventDefault();this.lE=[];this.Jz.clear();this.Pa.Jj();this.g.Es()}async AD(){await this.Pa.dC();await this.KM();for(const d of this.g.dE)for(const k of d.Ff())k.EM(this.Pa);await this.g.AD();console.log("[Construct 3] WebGL context restored")}Cd(){return this.Pa}Cj(){return"low"===
this.Vi?1/this.g.uj():this.vj()}vj(){const d=this.Ar();if("off"===d||"crop"===d)return 1;const k=this.g.pe,h=this.g.oe,l=k/h,p=this.Hg/this.Gg;return"scale-inner"!==d&&p>l||"scale-inner"===d&&p<l?this.Ac/h:this.Gc/k}rC(d,k,h){k=(k||this.bk)/2+this.O6;h=(h||this.ak)/2+this.P6;d.uw(k,h,100*this.g.uj());d.xw(k,h,0);d.lw();d.qs()}kZ(d){const k=this.Gc/2,h=this.Ac/2;d.uw(k,h,100);d.xw(k,h,0);d.lw();d.qs()}Cm(){return this.Cl}Dm(){return this.Dl}tr(d){const k=this.lE,h=k.findIndex(p=>p.DW(d));let l;-1!==
h?(l=k[h],k.splice(h,1)):l=this.Pa.zS(d);this.Jz.add(l);return l}kl(d){if(!this.Jz.has(d))throw Error("render target not in use");this.Jz.delete(d);this.lE.push(d)}*Sz(){for(const d of this.g.$a.Ku())for(const k of d.Hc){const h=this.GF.get(k);h&&(yield h)}}TU(d){if(!this.Pa.Ni())return null;let k=this.GF.get(d);k||(k={name:d.V,RH:e.A(e.oa.BL,this.Pa),Tz:0,U8:0},this.GF.set(d,k));return k.RH}j6(){if(this.Pa.Ni()&&0===this.Il){this.Il=this.Pa.Uh;this.bt=NaN;for(const d of this.Sz())d.Tz=NaN}}p6(){if(this.Pa.Ni()&&
isNaN(this.bt)&&(this.bt=this.gy.ZI(this.iy,this.Il),!isNaN(this.bt))){if(this.g.ub)for(const d of this.Sz())if(d.Tz=d.RH.ZI(this.iy,this.Il),isNaN(d.Tz))return;this.gy.yI(this.Il);this.hy=Math.min(this.bt,1);if(this.g.ub){for(const d of this.Sz())d.RH.yI(this.Il),d.U8=Math.min(d.Tz,1);self.pi.Iga(this.hy,[...this.Sz()])}this.iy=this.Il;this.Il=0}}Bv(){return this.hy}kL(d,k,h,l,p,n){this.uz=d;this.sG=k;this.WP.bh(h,l,p,n);return this.Yt?this.Yt:this.Yt=new Promise(t=>{this.XP=t})}u3(){if(this.uz){var d=
this.Yj,k=this.WP,h=e.ia(Math.floor(k.L),0,d.width),l=e.ia(Math.floor(k.J),0,d.height),p=k.width();p=0===p?d.width-h:e.ia(Math.floor(p),0,d.width-h);k=k.height();k=0===k?d.height-l:e.ia(Math.floor(k),0,d.height-l);(0!==h||0!==l||p!==d.width||k!==d.height)&&0<p&&0<k&&(d=e.hh(p,k),d.getContext("2d").drawImage(this.Yj,h,l,p,k,0,0,p,k));e.Uu(d,this.uz,this.sG).then(n=>{this.tG=URL.createObjectURL(n);this.Yt=null;this.XP(this.tG)});this.uz="";this.sG=1}}fW(d){2===d?(this.We=e.A(e.oa.iC,this.Pa),this.We.WK(),
this.We.uC("Arial"),this.We.vC(16),this.We.SK("center"),this.We.iL("center"),this.We.Uc(300,200)):0===d?(d=this.g.fq)&&d.Rr(this.Pa).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",k)):4===d&&(this.i3().then(k=>{"done"===this.ji?this.Pa.ti(k):this.Xe.Eu=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.JM("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.ji?this.Pa.ti(k):this.Xe.Gu=k}).catch(k=>console.warn("Failed to load splash image: ",
k)),this.JM("splash-images/splash-website-512.png").then(k=>{"done"===this.ji?this.Pa.ti(k):this.Xe.Ou=k}).catch(k=>console.warn("Failed to load splash image: ",k)))}async i3(){var d=(new URL("splash-images/splash-logo.svg",this.g.WA())).toString();d=await e.wi(d);d=await this.g.vY(d);return await this.Pa.cv(d,{Fu:"high"})}async JM(d){d=(new URL(d,this.g.WA())).toString();d=await e.wi(d);return await this.Pa.cv(d,{Fu:"high"})}GB(){this.g.Vm("runtime","hide-cordova-splash")}k_(){this.Ct=Date.now();
this.g.Db().addEventListener("loadingprogress",this.MF);this.Yd=requestAnimationFrame(()=>this.eM());3!==this.g.cq&&this.GB()}async MT(){this.Ql=1;const d=this.g.cq;4===d&&await this.ZP;this.ZP=this.wG=null;-1!==this.Yd&&(cancelAnimationFrame(this.Yd),this.Yd=-1);this.g.Db().removeEventListener("loadingprogress",this.MF);this.MF=null;this.We&&(this.We.j(),this.We=null);this.g.AY();this.Pa.os();this.Xe.Eu&&(this.Pa.ti(this.Xe.Eu),this.Xe.Eu=null);this.Xe.Gu&&(this.Pa.ti(this.Xe.Gu),this.Xe.Gu=null);
this.Xe.Ou&&(this.Pa.ti(this.Xe.Ou),this.Xe.Ou=null);this.Pa.ir();this.Pa.pr();this.ji="done";this.iy=this.Pa.Uh;3===d&&this.GB()}eM(){if(-1!==this.Yd){var d=this.Pa;d.os();this.Yd=-1;var k=this.g.fd.aF,h=this.g.cq;3!==h&&(this.kZ(d),d.ir(),d.cp(),d.xh(),d.nf(null));if(0===h)this.B1(k);else if(1===h)this.Ow(k,120,0);else if(2===h)this.A1(k);else if(3===h)e.noop();else if(4===h)this.C1(k);else throw Error("invalid loader style");d.pr();this.Yd=requestAnimationFrame(()=>this.eM())}}A1(d){d?this.We.LK(1,
0,0):this.We.LK(.6,.6,.6);this.We.ms(Math.round(100*this.Ql)+"%");d=this.Gc/2;const k=this.Ac/2;g.XQ(d-150,k-100,d+150,k+100);this.Pa.nf(this.We.Ie());this.Pa.jl(g,this.We.Zd)}Ow(d,k,h){const l=this.Pa;l.KK();d?l.Me(1,0,0,1):l.Me(.118,.565,1,1);d=this.Gc/2;const p=this.Ac/2,n=k/2;c.bh(d-n,p-4+h,Math.floor(k*this.Ql),8);l.Rect(c);c.bh(d-n,p-4+h,k,8);c.offset(-.5,-.5);c.bA(.5,.5);l.Me(0,0,0,1);l.NJ(c);c.bA(1,1);l.Me(1,1,1,1);l.NJ(c)}B1(d){var k=this.g.fq;if(k)if(k=k.Ie()){var h=k.ea(),l=k.da(),p=this.Gc/
2,n=this.Ac/2,t=h/2;l/=2;g.XQ(p-t,n-l,p+t,n+l);this.Pa.nf(k);this.Pa.ie(g);this.Ow(d,h,l+16)}else this.Ow(d,120,0);else this.Ow(d,120,0)}C1(d){const k=this.Pa,h=this.Xe.Eu,l=this.Xe.Gu,p=this.Xe.Ou,n=Date.now();0===this.yG&&(this.Ct=n);const t=this.g.Rm()||this.g.d7&&!this.g.EW(),q=t?0:200,u=t?0:3E3;let v=1;"fade-in"===this.ji?v=Math.min((n-this.Ct)/300,1):"fade-out"===this.ji&&(v=Math.max(1-(n-this.xG)/300,0));k.KK();k.Me(.231*v,.251*v,.271*v,v);c.set(0,0,this.Gc,this.Ac);k.Rect(c);const A=Math.ceil(this.Gc),
y=Math.ceil(this.Ac);let E;256<this.Ac?(k.Me(.302*v,.334*v,.365*v,v),E=Math.max(.005*y,2),c.bh(0,.8*y-E/2,A,E),k.Rect(c),d?k.Me(v,0,0,v):k.Me(.161*v,.953*v,.816*v,v),d=A*this.Ql,c.bh(.5*A-d/2,.8*y-E/2,d,E),k.Rect(c),k.Me(v,v,v,v),k.xh(),l&&(d=1.5*e.ia(.22*y,105,.6*A),E=d/8,c.bh(.5*A-d/2,.2*y-E/2,d,E),k.nf(l),k.Rect(c)),h&&(E=d=Math.min(.395*y,.95*A),c.bh(.5*A-d/2,.485*y-E/2,d,E),k.nf(h),k.Rect(c)),p&&(d=1.5*e.ia(.22*y,105,.6*A),E=d/8,c.bh(.5*A-d/2,.868*y-E/2,d,E),k.nf(p),k.Rect(c))):(k.Me(.302*v,
.334*v,.365*v,v),E=Math.max(.005*y,2),c.bh(0,.85*y-E/2,A,E),k.Rect(c),d?k.Me(v,0,0,v):k.Me(.161*v,.953*v,.816*v,v),d=A*this.Ql,c.bh(.5*A-d/2,.85*y-E/2,d,E),k.Rect(c),k.Me(v,v,v,v),k.xh(),h&&(E=d=.55*y,c.bh(.5*A-d/2,.45*y-E/2,d,E),k.nf(h),k.Rect(c)));this.yG++;"fade-in"===this.ji&&300<=n-this.Ct&&2<=this.yG&&(this.ji="wait",this.$P=n);"wait"===this.ji&&n-this.$P>=u&&1<=this.Ql&&(this.ji="fade-out",this.xG=n);("fade-out"===this.ji&&n-this.xG>=300+q||t&&1<=this.Ql&&500>n-this.Ct)&&this.wG()}}}"use strict";
{const e=self.B,b=self.pi,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let g=!0;e.CK=class extends e.${constructor(c){c=Object.assign({},a,c);super();this.Gt=c.messagePort;this.C6=c.baseUrl;this.Kl=!!c.isInWorker;g=c.ife;this.Gl=c.exportType;this.bP=!!c.isiOSCordova;this.d7=!!c.isFBInstantAvailable;this.z7=c.opusWasmScriptUrl;this.EP=c.opusWasmBinaryUrl;this.Gd=this.J6=this.ub=!("preview"!==this.Gl||!c.isDebug);this.DE=0;this.aE=[];this.v6=
[];this.gG=this.LP=this.mz="";this.oe=this.pe=0;this.hO=self.devicePixelRatio;this.cq=this.mi=this.ni=this.aG=this.$F=0;this.Kz=!1;this.$i=!0;this.SG=!1;this.fq=null;this.fd=e.A(e.LR,this,c);this.$a=e.A(e.bX,this);this.pa=e.A(e.RT,this);this.Yn=e.A(e.jY,this);this.Kh=e.A(e.hS,this);this.rb=e.A(e.s_,this);this.EG=e.A(e.x_,this);this.xc=[];this.UF=new Map;this.VF=new Map;this.rO=0;this.x6=[];this.dE=[];this.Jp=[];this.ek=[];this.uy=new Map;this.jy=!1;this.It=this.WF=0;this.Kn=new Map;this.Ln=new Set;
this.vy=new Set;this.dz=[];this.dP=[];this.Y=null;this.TE="vsync";this.Fp="standard";this.hd="trilinear";this.Ll=!1;this.SF=!0;this.wF=this.GP=!1;this.M7={MQ:d=>{this.uk=this.Yd=-1;this.Pd(d)},F9:d=>{this.uk=-1;this.Pd(d,!1,"skip-render")},r9:()=>{this.Yd=-1;this.wK()}};this.uk=this.Yd=-1;this.Rp=this.fj=0;this.KO=this.Dy=this.ky=!1;this.tF=!0;this.yq=0;this.E7=()=>Math.random();this.Px=this.Fl=this.Ry=this.Xl=0;this.ue=1;this.zP=30;this.YE=e.A(e.Zv);this.UG=e.A(e.Zv);this.cy=-1;this.Zy=this.jk=this.by=
this.Fn=0;this.aj=!1;this.Bt=this.St="";this.bq=null;this.Tn="";this.mG=this.fG=null;this.Fb=e.A(e.Event.Db);this.HE=new Map;this.cG=new Map;this.v7=0;this.$O=this.iO=this.jO=!1;this.TG=[];this.Cn={pretick:e.A(e.Event,"pretick",!1),tick:e.A(e.Event,"tick",!1),tick2:e.A(e.Event,"tick2",!1),instancedestroy:e.A(e.Event,"instancedestroy",!1),beforelayoutchange:e.A(e.Event,"beforelayoutchange",!1),layoutchange:e.A(e.Event,"layoutchange",!1)};this.Cn.instancedestroy.instance=null;this.Ld=e.A(e.Event.Db);
this.jQ=null;this.Al=e.A(e.Xm,e.Qu.KC);this.tn=e.A(e.Xm,e.Qu.KC);this.un=e.A(e.Xm,e.Qu.KC);this.tt=e.A(e.YW,this,c.jobScheduler);c.canvas&&(this.Y=e.A(e.kI,this));this.Gt.onmessage=d=>this._OnMessageFromDOM(d.data);this.eh("runtime","visibilitychange",d=>this.Y3(d));this.eh("runtime","opus-decode",d=>this.r6(d.arrayBuffer));this.eh("runtime","get-remote-preview-status-info",()=>this.n2());this.eh("runtime","js-invoke-function",d=>this.Xw(d));this.eh("runtime","go-to-last-error-script",self.goToLastErrorScript);
this.Fb.addEventListener("window-blur",d=>this.Z3(d));this.Fb.addEventListener("window-focus",()=>this.a4());this.rb.zR();this.Wh=null;this.a7=new WeakMap;this.Jx={keyboard:null,KQ:null,TH:null}}static Na(c){return e.A(e.CK,c)}j(){e.D(this.xc);this.UF.clear();this.VF.clear();this.$a.j();this.$a=null;this.pa.j();this.pa=null;this.Yn.j();this.Yn=null;this.fd.j();this.fd=null;this.Kh.j();this.Kh=null;this.rb.j();this.rb=null;this.EG.j();this.EG=null;this.Y&&(this.Y.j(),this.Y=null);this.Fb.j();this.Fb=
null}["_OnMessageFromDOM"](c){const d=c.type;if("event"===d)this.WM(c);else if("result"===d)this.V3(c);else throw Error(`unknown message '${d}'`);}WM(c){if(this.$O){var d=c.component,k=c.handler,h=c.data,l=c.dispatchOpts,p=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var n=c.responseId;if("runtime"===d&&(p&&(c=new e.Event(k),c.data=h,this.Fb.s8(c)),l)){c=new e.Event(k,!0);for(const [t,q]of Object.entries(h))c[t]=q;this.og(c)}if(c=this.HE.get(d))if(c=c.get(k)){p=null;try{p=c(h)}catch(t){console.error(`Exception in '${d}' handler '${k}':`,
t);null!==n&&this.bx(n,!1,""+t);return}null!==n&&(p&&p.then?p.then(t=>this.bx(n,!0,t)).catch(t=>{console.error(`Rejection from '${d}' handler '${k}':`,t);this.bx(n,!1,""+t)}):this.bx(n,!0,p))}else p||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${d}'`);else p||l||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else this.TG.push(c)}bx(c,d,k){this.Gt.postMessage({type:"result",responseId:c,isOk:d,result:k})}V3(c){const d=c.responseId,k=c.isOk;c=c.result;const h=
this.cG.get(d);k?h.resolve(c):h.reject(c);this.cG.delete(d)}eh(c,d,k){let h=this.HE.get(c);h||(h=new Map,this.HE.set(c,h));if(h.has(d))throw Error(`[Runtime] Component '${c}' already has handler '${d}'`);h.set(d,k)}Vm(c,d,k){this.Gt.postMessage({type:"event",component:c,handler:d,data:k,responseId:null})}Vr(c,d){const k=this.v7++,h=new Promise((l,p)=>{this.cG.set(k,{resolve:l,reject:p})});this.Gt.postMessage({type:"event",component:"runtime",handler:c,data:d,responseId:k});return h}async cl(c){this.ub?
await b.cl(this):self.pi&&self.pi.gba(this);var [d]=await Promise.all([this.fd.II("data.json"),this.t3(),this.tt.cl()]);this.U2(d);await this.E2(c);this.Rm()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");d=this.Cd();console.info(`[C3 runtime] Hosted in ${this.Kl?"worker":"DOM"}, using ${this.fd.H7} scripts, rendering with WebGL ${d.wd} [${d.ku}] (${d.GW()?"desynchronized":"standard"} compositing)`);d.HO&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");
this.$O=!0;for(const k of this.TG)this.WM(k);e.D(this.TG);this.Y&&this.Y.k_();for(const k of c.runOnStartupFunctions)this.aE.push(this.N4(k));await Promise.all([this.fd.zL(),...this.aE]);e.D(this.aE);if(this.fd.aF)this.Y&&this.Y.GB();else return this.Y&&await this.Y.MT(),await this.Fb.hH(new e.Event("beforeruntimestart")),await this.os(),this.Gt.postMessage({type:"runtime-ready"}),this}async N4(c){try{await c(this.Wh)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}U2(c){c=
c.project;this.mz=c[0];this.LP=c[16];this.gG=c[31];const d=c[39]||"loading-logo.png";this.Ll=!!c[9];this.pe=this.ni=c[10];this.oe=this.mi=c[11];this.$F=this.pe/2;this.aG=this.oe/2;this.Fp=c[36];this.TE=c[37];"low-latency"===this.Fp&&this.wW()&&77>=e.Sc.BA&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Fp="standard");this.hd=c[14];this.Kz=
!!c[18];this.cq=c[19];this.It=c[21];this.GP=c[22];const k=this.fd;k.p5(c[7]);k.A5(c[32]);k.F5(c[28]);k.R5(c[29]);if(0===this.cq){let t="";this.Rm()?k.nD(d)&&(t=k.dJ(d)):t=k.LO+d;t&&(this.fq=k.cw({url:t}))}this.Y&&(this.Y.vZ(e.kI.Y1(c[12])),this.Y.QK(c[23]?"high":"low"),this.Y.zC(0!==c[24]),this.Y.B5(c[34]));this.Yn.AS();this.dz=self.gI();for(var h of c[2])this.Yn.yS(h);this.dz=self.gI();this.b3();for(var l of c[3])h=e.bC.Na(this,this.xc.length,l),this.xc.push(h),this.UF.set(h.V.toLowerCase(),h),this.VF.set(h.Ya,
h);for(const t of c[4])this.xc[t[0]].X2(t);for(var p of c[27])l=p.map(t=>this.xc[t]),this.x6.push(e.A(e.pS,this,l));for(const t of this.xc)t.D3();for(const t of c[5])this.$a.Na(t);(p=c[1])&&(p=this.$a.Io(p))&&this.$a.tZ(p);for(var n of c[33])this.rb.Na(n);for(const t of c[35])this.EG.Na(t);this.D2();for(const t of c[6])this.pa.Na(t);this.pa.Cb();this.z2();e.D(this.dz);this.Bd();n="any";c=c[20];1===c?n="portrait":2===c&&(n="landscape");this.Vm("runtime","set-target-orientation",{targetOrientation:n})}j2(){return this.rO++}$_(c){this.dE.push(c)}async E2(c){this.Y&&
(await this.Y.hh(c),this.Y.fW(this.cq))}async t3(){if(!this.fd.yW()){var c=null,d=null;try{this.bP&&"file:"===location.protocol?d=await this.fd.rI(this.EP):c=await this.fd.wi(this.EP)}catch(k){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",k);return}d?this.sR(d):this.rR(c);await this.tR([this.z7])}}async r6(c){return await this.uA("OpusDecode",{arrayBuffer:c},[c])}async os(){this.ky=!0;this.Xl=Date.now();if(this.Kz){for(var c of this.xc)c.Ra||c.vF||!c.vf||c.cd();
this.fd.zL().then(()=>{this.$i=!1;this.$M()})}else this.$i=!1;this.fd.xZ();this.ub&&b.Lea(g);for(const d of this.$a.Fh)d.E0();c=this.$a.BU();await c.pD(null,this.Cd());await c.LN(!0);this.Fn=performance.now();this.Kz||this.$M();(await this.Vr("before-start-ticking")).isSuspended?this.yq++:this.Pd()}$M(){this.Ja(e.C.Xa.K.TX,null,null);this.Vm("runtime","register-sw")}tg(c){c=Math.floor(c);const d=this.dz;if(0>c||c>=d.length)throw Error("invalid object reference");return d[c]}b3(){for(const c of self.TR){const d=
e.first(Object.keys(c));this.dP.push(d)}}mh(c){c=Math.floor(c);const d=this.dP;if(0>c||c>=d.length)throw Error("invalid prop reference");return d[c]}WA(){return this.C6}ga(){return this.pa}Fc(){return this.pa.Fc()}Fe(){return this.pa.Fe()}sb(){return this.pa.sb()}ef(){return this.pa.ef()}FW(){return 0===this.Fe().Zj}zr(){return this.pa.zr()}Kr(){return this.Yn.Kr()}He(c){c=Math.floor(c);if(0>c||c>=this.xc.length)throw new RangeError("invalid index");return this.xc[c]}oB(c){return this.UF.get(c.toLowerCase())||
null}Ev(c){return this.VF.get(c)||null}*T7(){for(const c of this.xc)c.Ra||(yield*c.EQ())}Db(){return this.Fb}og(c){c.mc=this.Wh;const d=this.ub&&!this.pa.Wv();d&&b.MC();this.Ld.dispatchEvent(c);d&&b.wA()}Am(c){c.mc=this.Wh;return this.Ld.hH(c)}FZ(c,d){this.pe=c;this.oe=d}ns(c,d){this.ni=c;this.mi=d}v5(c){this.hO=c}uj(){return this.hO}xj(){return this.Y?this.Y.xj():this.ni}wj(){return this.Y?this.Y.wj():this.mi}Cj(){return this.Y?this.Y.Cj():1}vj(){return this.Y?this.Y.vj():1}Cm(){return this.Y?this.Y.Cm():
0}Dm(){return this.Y?this.Y.Dm():0}jU(){return this.Y?this.Y.Gc:0}iU(){return this.Y?this.Y.Ac:0}zv(){return this.Y?this.Y.zv():"off"}tr(c){return this.Y?this.Y.tr(c):null}kl(c){this.Y&&this.Y.kl(c)}Q5(c){this.SG=!!c}Bv(){return this.Y?this.Y.Bv():NaN}SB(){return"nearest"!==this.hd}AY(){this.fq&&(this.fq.j(),this.fq=null)}Kb(){return this.$a.Kb()}cw(c){return this.fd.cw(c)}JA(c,d,k,h,l){return this.ih(c,d,!1,k,h,!1,l)}ih(c,d,k,h,l,p,n){var t=null;let q=null;c instanceof e.bC?(q=c,q.Ra&&(t=q.Dn,q=
t[Math.floor(this.$o()*t.length)]),t=q.Lp):(t=c,q=this.He(t[1]));c=q.Ab().vf;if(this.$i&&c&&!q.vF)return null;const u=d;c||(d=null);var v=k&&!p&&t&&!this.Kn.has(t[2])?t[2]:this.It++;const A=t?t[0]:null,y=e.A(e.Instance,{mc:this,zH:q,Ad:d,iR:A,DQ:t?t[3]:null,uid:v});this.Kn.set(v,y);v=null;c&&(v=y.m(),"undefined"!==typeof h&&"undefined"!==typeof l&&(v.Tf(h),v.zg(l)),q.xN());d&&(n||d.Bg(y,!0),1===d.qe&&1===d.re||q.HD(!0),d.Hf().SJ(q));this.WF++;if(q.pc()&&!k&&!p){for(var E of q.Lh.pk){if(E===q)continue;
const x=this.ih(E,u,!1,v?v.la():h,v?v.ma():l,!0,!1);y.qp(x)}for(const x of y.siblings()){x.qp(y);for(const F of y.siblings())x!==F&&x.qp(F)}}c&&!k&&n&&this.RL(y,A,v,d,h,l);if(q.pc()&&!k&&!p&&n)for(const x of y.siblings())k=x.m(),E=x.G().Lp[0],this.RL(x,E,k,d,k.la(),k.ma());!p&&n&&("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),d=v.Jv(),h=h-v.la()+d.la(),l=l-v.ma()+d.ma(),d.Nj(h,l));q.Gs();l=t?e.eH(t[5]):null;t=t?t[4].map(x=>e.eH(x)):null;c&&A&&A[13]&&y.E5();y.Kw(l,t);this.ek.push(y);
this.jy=!0;this.ub&&b.hba(y);return y}RL(c,d,k,h,l,p){var n=k.SP,t=k.nG;c.m().AC(n);if(t){"undefined"===typeof l&&(l=d[0]);"undefined"===typeof p&&(p=d[1]);n=new Set;k=d[0];d=d[1];for(const y of t){var q=y[1],u=y[2];t=y[3];var v=!!y[4];const E=y[5];u=this.$a.nB(y[0]).aa(q).JU(u);q=this.He(u[1]);var A=c.EV(q);const x=n.has(q);A&&!x&&v?(v=c.lJ(q),A=l+u[0][0]-k,u=p+u[0][1]-d,v.m().Nj(A,u),v.m().AC(E),c.Qk(v,{dr:!!(t>>0&1),er:!!(t>>1&1),xo:!!(t>>2&1),wo:!!(t>>3&1),cr:!!(t>>4&1),uu:!!(t>>5&1),fr:!!(t>>
6&1)}),n.add(q)):(q=this.ih(u,h,!1,l+u[0][0]-k,p+u[0][1]-d,!1,!0),q.m().AC(E),c.Qk(q,{dr:!!(t>>0&1),er:!!(t>>1&1),xo:!!(t>>2&1),wo:!!(t>>3&1),cr:!!(t>>4&1),uu:!!(t>>5&1),fr:!!(t>>6&1)}))}}}zm(c){if(!this.Ln.has(c)){var d=c.G(),k=this.uy.get(d);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.uy.set(d,k);this.ub&&b.iba(c);c.sD();this.jy=!0;if(c.pc())for(const h of c.siblings())this.zm(h);for(const h of c.children())h.xv()&&this.zm(h);this.$a.CJ()||this.aj||(d=this.ga(),d.ae(!0),c.f6(),
d.ae(!1));c.Q1(this.$a.CJ())}}Bd(){this.jy&&(this.S1(),this.T1(),this.jy=!1,this.ca())}S1(){for(const c of this.ek){const d=c.G();d.Bg(c);for(const k of d.Lg)k.Bg(c),k.Gs()}e.D(this.ek)}T1(){this.Fb.hp(!0);for(const [c,d]of this.uy.entries())this.U1(c,d),d.clear();this.uy.clear();this.Fb.hp(!1)}U1(c,d){for(const h of d){var k=this.Cn.instancedestroy;k.instance=h;this.Fb.dispatchEvent(k);this.Kn.delete(h.Bc);if(k=h.m())k.iN(),k.jN(),k.sD();this.Ln.add(h);this.WF--}e.ng(c.ba(),d);c.Gs();this.vy.add(c);
0===c.ba().length&&c.HD(!1);for(const h of c.Lg)e.ng(h.ba(),d),h.Gs(),this.vy.add(h);if(c.Ab().vf){c=new Set([...d].map(h=>h.m().aa()));for(const h of c)h.u4(d)}}i2(){return this.It++}q3(c,d){this.Kn.set(c,d)}Es(){this.Fb.dispatchEvent(e.A(e.Event,"webglcontextlost"));this.ls(!0);for(var c of this.xc)!c.Ra&&c.BV()&&c.Ym();(c=this.Kb())&&c.Es();e.Sv.Yo();e.tJ.Yo()}async AD(){await this.Kb().pD(null,this.Cd());this.Fb.dispatchEvent(e.A(e.Event,"webglcontextrestored"));this.ls(!1);this.ca()}Y3(c){this.ls(c.hidden)}Z3(c){this.Rm()&&
this.GP&&!e.Sc.VB&&!c.data.parentHasFocus&&(this.ls(!0),this.wF=!0)}a4(){this.wF&&(this.ls(!1),this.wF=!1)}kN(){const c=this.M7;"vsync"===this.TE?-1===this.Yd&&(this.Yd=e.xK(c.MQ)):"unlimited-tick"===this.TE?(-1===this.uk&&(this.uk=e.jC(c.F9)),-1===this.Yd&&(this.Yd=e.xK(c.r9))):-1===this.uk&&(this.uk=e.jC(c.MQ))}s0(){-1!==this.Yd&&(e.WR(this.Yd),this.Yd=-1);-1!==this.uk&&(e.XR(this.uk),this.uk=-1)}Sm(){return 0<this.yq}ls(c){var d=this.Sm();this.yq+=c?1:-1;0>this.yq&&(this.yq=0);c=this.Sm();!d&&
c?(console.log("[Construct 3] Suspending"),this.s0(),this.Fb.dispatchEvent(e.A(e.Event,"suspend")),this.Ja(e.C.Xa.K.aY,null,null)):d&&!c&&(console.log("[Construct 3] Resuming"),this.Fn=this.Ry=d=performance.now(),this.jk=this.Zy=this.by=this.cy=0,this.Fb.dispatchEvent(e.A(e.Event,"resume")),this.Ja(e.C.Xa.K.YX,null,null),this.Qv()||this.Pd(d))}X_(c){this.Al.Ec(c)}w4(c){this.Al.wg(c)}v4(c){this.tn.wg(c)}x4(c){this.un.wg(c)}j0(){this.Al.xg(!0);for(const c of this.Al)c.Pd();this.Al.xg(!1)}i0(){this.tn.xg(!0);
for(const c of this.tn);this.tn.xg(!1)}k0(){this.un.xg(!0);for(const c of this.un);this.un.xg(!1)}*O0(){this.Al.xg(!0);for(const c of this.Al){const d=c.Pd();e.fl(d)&&(yield*d)}this.Al.xg(!1)}*N0(){this.tn.xg(!0);for(const c of this.tn)e.fl(void 0)&&(yield*void 0);this.tn.xg(!1)}*P0(){this.un.xg(!0);for(const c of this.un)e.fl(void 0)&&(yield*void 0);this.un.xg(!1)}async Pd(c,d,k){this.KO=!0;const h="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.ky&&(!this.Sm()||d||h)&&(d=performance.now(),
this.Dy=!0,c||(c=d),this.w3(c),c=this.m_(),this.Gd&&await c,c=this.Fb.t8(this.Cn.pretick),c instanceof Promise&&await c,c=this.l_(),this.Gd&&await c,this.B3()&&await this.s2(),this.$a.Ro()&&await this.s3(),c=this.n_(),this.Gd&&await c,k&&this.wK(),this.Sm()||h||this.kN(),this.fj++,this.Rp++,this.Dy=!1,this.jk+=performance.now()-d)}async m_(){const c=this.pa,d=this.ub;this.Bd();c.ae(!0);this.Wm(this.Kb());d&&b.op();this.Gd?await c.IS():c.XY();d&&b.qR();this.Um();c.ae(!1);this.Bd();c.ae(!0)}async l_(){const c=
this.ub,d=this.Gd,k=this.Fb,h=this.Cn,l=this.jQ;c&&b.op();d?await this.jv(this.O0()):this.j0();d?await this.jv(this.N0()):this.i0();c&&b.lR();c&&b.op();d?await this.wI(h.tick):k.dispatchEvent(h.tick);c&&b.vR();this.pa.ae(!1);this.og(l.tick)}async n_(){const c=this.pa,d=this.Fb,k=this.Cn,h=this.ub,l=this.Gd;h&&b.op();l?await c.GS(this.$a):c.VY(this.$a);h&&b.qR();this.Kh.nI();this.hN();this.tF=!1;c.ae(!0);h&&b.op();l?await this.jv(this.P0()):this.k0();h&&b.lR();h&&b.op();l?await this.wI(k.tick2):d.dispatchEvent(k.tick2);
h&&b.vR();c.ae(!1);l&&await c.BK()}hN(){if(0!==this.Ln.size){var c=this.Fb;c.hp(!0);for(const d of this.vy)d.Vl.Zm(this.Ln);this.vy.clear();this.pa.CY(this.Ln);for(const d of this.Ln)d.j();this.Ln.clear();c.hp(!1)}}async s3(){const c=this.$a;let d=0;for(;c.Ro()&&10>d++;)await this.aM(c.Jt)}w3(c){if(0!==this.Ry){this.Fl=Math.max(c-this.Ry,0)/1E3;const d=1/this.zP;.5<this.Fl?this.Fl=0:this.Fl>d&&(this.Fl=d)}this.Ry=c;this.Px=this.Fl*this.ue;this.YE.Ec(this.Px);this.UG.Ec(this.Fl);this.Y&&this.Y.p6();
1E3<=c-this.Fn&&(this.Fn+=1E3,1E3<=c-this.Fn&&(this.Fn=c),this.by=this.cy,this.cy=0,this.Zy=Math.min(this.jk/1E3,1),this.jk=0,this.Y&&this.Y.j6(),this.ub&&b.Hga());this.cy++}async aM(c){const d=this.Fb,k=this.$a.Kb();await k.Z5();k.i6(c,this.Cd());k===c&&this.pa.Wu();this.Kh.nI();this.hN();d.dispatchEvent(this.Cn.beforelayoutchange);e.pj.RK(!0);await c.pD(k,this.Cd());e.pj.RK(!1);await c.LN(!1);d.dispatchEvent(this.Cn.layoutchange);this.ca();this.tF=!0;this.Bd()}ca(){this.SF=!0}Cd(){return this.Y?
this.Y.Cd():null}Ir(){return this.Cd()}wK(){if(this.Y&&!this.Y.XW()){var c=this.Cd();c.os();c.$R();if(this.SF){var d=this.ub;d&&b.op();this.SF=!1;var k=null;c.Ni()&&(k=this.Y.gy.aI(),c.mL(k));c.xh();c.pC();c.Me(1,1,1,1);c.Ne(null);c.nf(null);this.$a.Kb().df(c);k&&c.EI(k);c.pr();d&&(b.h$(),b.Jga());this.Y&&this.Y.u3()}else c.XV()}}Ja(c,d,k){if(!this.ky)return!1;var h=!this.Dy&&!this.pa.RB();let l=0;h&&(l=performance.now());const p=this.ub;p&&this.gp(!1);c=this.pa.Js(this.$a,c,d,k);h&&(h=performance.now()-
l,this.jk+=h,p&&b.k$(h));p&&this.gp(!0);return c}async je(c,d,k){if(!this.Gd)return this.Ja(c,d,k);if(!this.ky)return!1;if(this.Qv())return this.pa.uY(c,d,k);if(!this.Kb())return this.pa.fC(c,d,k);const h=performance.now();c=this.pa.us(this.$a,c,d,k);for(d=c.next();!d.done;)await this.Eo(d.value),d=c.next();this.Sm()||this.pa.RB()||(await this.pa.BK(),this.KO&&!this.Dy&&this.kN());this.jk+=performance.now()-h;return d.value}mr(c,d,k){const h=this.ub;h&&this.gp(!1);c=this.pa.Rw(this.$a,c,d,k);h&&this.gp(!0);
return c}LA(c,d,k){return this.pa.Mw(this.$a,c,d,k)}Wm(c){this.Jp.push(c)}Um(){if(!this.Jp.length)throw Error("layout stack empty");this.Jp.pop()}Oa(){return this.Jp.length?this.Jp[this.Jp.length-1]:this.Kb()}Cr(c){return c&&-1!==c.ue?this.Fl*c.ue:this.Px}EC(c){if(isNaN(c)||0>c)c=0;this.ue=c}bL(c){this.zP=e.ia(c,1,120)}rg(){return this.YE.W()}zB(){return this.UG.W()}Ej(){++this.Rp}yi(c){if(this.aj)throw Error("cannot call while loading state - wait until afterload event");return this.Kn.get(c)||null}fN(){this.Kn.clear();
for(const c of this.xc)if(!c.Ra)for(const d of c.ba())this.Kn.set(d.Bc,d)}Rm(){return"preview"===this.Gl}EW(){return"cordova"===this.Gl}wW(){return"Android"===e.Sc.Xo&&("cordova"===this.Gl||"playable-ad"===this.Gl||"instant-games"===this.Gl)}JZ(c){c=!!c;this.Ll!==c&&(this.Ll=c,this.ca())}ZY(c){this.St=c}jX(c){this.Bt=c}$B(c){this.bq=c}B3(){return!(!this.St&&!this.Bt&&null===this.bq)}async s2(){this.St&&(this.Bd(),await this.q1(this.St),this.XC());this.Bt&&(await this.p1(this.Bt),this.XC(),this.ub&&
b.aga());if(null!==this.bq){this.Bd();try{await this.bM(this.bq),this.Tn=this.bq,await this.je(e.C.Xa.K.bK,null),this.Tn=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.je(e.C.Xa.K.cK,null)}this.XC()}}XC(){this.Bt=this.St="";this.bq=null}m2(){this.fG||(this.fG=localforage.fH({name:"c3-localstorage-"+this.gG,description:this.mz}));return this.fG}vM(){this.mG||(this.mG=localforage.fH({name:"c3-savegames-"+this.gG,description:this.mz}));return this.mG}async q1(c){const d=
await this.g5();try{await this.vM().setItem(c,d),console.log("[Construct 3] Saved state to storage ("+d.length+" chars)"),this.Tn=d,await this.je(e.C.Xa.K.ZX,null),this.Tn=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.je(e.C.Xa.K.$X,null)}}async p1(c){try{const d=await this.vM().getItem(c);if(!d)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+d.length+" chars)");await this.bM(d);this.Tn=d;await this.je(e.C.Xa.K.bK,null);
this.Tn=""}catch(d){console.error("[Construct 3] Failed to load state from storage: ",d),await this.je(e.C.Xa.K.cK,null)}}async g5(){const c={c3save:!0,version:1,rt:{time:this.rg(),walltime:this.zB(),timescale:this.ue,tickcount:this.fj,execcount:this.Rp,next_uid:this.It,running_layout:this.Kb().Ya,start_time_offset:Date.now()-this.Xl},types:{},layouts:{},events:this.pa.ja(),timelines:this.rb.ja(),user_script_data:null};for(var d of this.xc)d.Ra||d.qJ()||(c.types[d.Ya.toString()]=d.ja());for(const k of this.$a.Fh)c.layouts[k.Ya.toString()]=
k.ja();d=this.aD("save");d.saveData=null;await this.Am(d);c.user_script_data=d.saveData;return JSON.stringify(c)}async bM(c){c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Fb.dispatchEvent(e.A(e.Event,"beforeload"));for(var d of this.T7())d.$w();this.aj=!0;d=c.rt;this.YE.Set(d.time);this.UG.Set(d.walltime);this.ue=d.timescale;this.fj=d.tickcount;
this.Rp=d.execcount;this.Xl=Date.now()-d.start_time_offset;var k=d.running_layout;if(k!==this.Kb().Ya)if(k=this.$a.nB(k))await this.aM(k);else return;for(const [l,p]of Object.entries(c.types))k=this.Ev(parseInt(l,10)),!k||k.Ra||k.qJ()||k.qa(p);this.Bd();this.fN();this.aj=!1;this.It=d.next_uid;for(const [l,p]of Object.entries(c.layouts))(d=this.$a.nB(parseInt(l,10)))&&d.qa(p);this.pa.qa(c.events);for(var h of this.xc)if(!h.Ra&&h.pc())for(const l of h.ba()){d=l.Fm();for(const p of h.Lh.pk)if(p!==h){k=
p.ba();if(0>d||d>=k.length)throw Error("missing sibling instance");l.qp(k[d])}}this.rb.qa(c.timelines);this.Fb.dispatchEvent(e.A(e.Event,"afterload"));h=this.aD("load");h.saveData=c.user_script_data;await this.Am(h);this.ca()}async tR(c){c=(await Promise.all(c.map(d=>this.fd.wi(d)))).map(d=>URL.createObjectURL(d));this.tt.WV(c)}rR(c){this.tt.cZ(c)}sR(c){this.tt.dZ(c)}uA(c,d,k){return this.tt.uA(c,d,k)}async vY(c){var d=d||2048;var k=k||2048;return this.Kl?(await this.Vr("raster-svg-image",{blob:c,
imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,d,k)}bp(){this.jO||(this.jO=!0,this.Vm("runtime","enable-device-orientation"))}ll(){this.iO||(this.iO=!0,this.Vm("runtime","enable-device-motion"))}$o(){return this.E7()}n2(){return{fps:this.by,cpu:this.Zy,gpu:this.Bv(),layout:this.Kb()?this.Kb().V:"",renderer:this.Cd().ku}}Qv(){return this.ub?b.Qv():!1}Eo(c){return this.Gd?b.Eo(c):Promise.resolve()}Ub(){return this.Gd?
b.F$():!1}gp(c){c?this.DE--:this.DE++;this.l6()}l6(){this.Gd=this.ub&&this.J6&&0===this.DE}MB(){return this.ub&&b.MB()}EJ(){return this.ub&&this.Cd().Ni()&&b.EJ()}async jv(c){if(c)for(const d of c)await this.Eo(d)}wI(c){return this.jv(this.Fb.u8(c))}Xw(c){return this.pa.Xw(c.name,c.params)}aD(c){c=e.A(e.Event,c,!1);c.mc=this.Wh;return c}D2(){var c={};for(const d of this.xc)c[d.mh()]={value:d.gt,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Wh=new self.OV(this,c);this.jQ={tick:this.aD("tick")}}z2(){const c=
{};for(const d of this.ga().eE)c[d.mh()]=d.wM();this.Wh.A2(c)}MM(c,d){this.a7.set(c,d)}};self.C3_CreateRuntime=e.CK.Na;self.C3_InitRuntime=(c,d)=>c.cl(d)}"use strict";
{const e=self.B;e.YW=class extends e.${constructor(b,a){super();this.g=b;this.Pn=new Map;this.x7=0;this.jt=a.inputPort;a.outputPort.onmessage=g=>this.ZM(g);this.sP=a.maxNumWorkers;this.ut=1;this.CO=this.mt=!1}async cl(){}WV(b){this.jt.postMessage({type:"_import_scripts",scripts:b})}cZ(b){this.jt.postMessage({type:"_send_blob",blob:b,id:"opus-decoder-wasm"})}dZ(b){this.jt.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}uA(b,a,g){g||(g=[]);const c=this.x7++;b={type:b,isBroadcast:!1,
jobId:c,params:a,transferables:g};a=new Promise((d,k)=>{this.Pn.set(c,{resolve:d,progress:void 0,reject:k,dH:!1})});this.jt.postMessage(b,g);this.NM();return a}ZM(b){b=b.data;const a=b.type,g=b.jobId;switch(a){case "result":this.Q3(g,b.result);break;case "progress":this.P3(g,b.progress);break;case "error":this.O3(g,b.error);break;case "ready":this.R3();break;default:throw Error(`unknown message from worker '${a}'`);}}Q3(b,a){const g=this.Pn.get(b);if(!g)throw Error("invalid job ID");g.dH||g.resolve(a);
this.Pn.delete(b)}P3(b,a){b=this.Pn.get(b);if(!b)throw Error("invalid job ID");!b.dH&&b.progress&&b.progress(a)}O3(b,a){const g=this.Pn.get(b);if(!g)throw Error("invalid job ID");g.dH||g.reject(a);this.Pn.delete(b)}R3(){this.mt&&(this.mt=!1,this.ut++,this.ut<this.sP?this.NM():this.jt.postMessage({type:"_no_more_workers"}))}async NM(){if(!(this.ut>=this.sP||this.mt||this.CO||this.Pn.size<=this.ut))try{this.mt=!0,(await this.g.Vr("create-job-worker")).outputPort.onmessage=b=>this.ZM(b)}catch(b){this.CO=
!0,this.mt=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.ut} so far)`,b)}}}}self.C3_Shaders={};"use strict";
{const e=self.B;let b=null,a="",g="",c=[],d="",k="",h="";const l=e.A(e.IR);function p(n,t){n=n[1];t=t[1];if("number"===typeof n&&"number"===typeof t)return n-t;n=""+n;t=""+t;return n<t?-1:n>t?1:0}e.C.Xa=class extends e.ep{constructor(n){super(n);this.Ve=this.g.ga().Ve;this.td=this.g.ga().Fc();this.ht=this.Hn=0;this.vO=new Map}j(){super.j()}ca(){this.g.ca()}Ja(n){this.g.Ja(n,null,null)}Gv(n,t){b&&n===a&&t===g||(b=new RegExp(n,t),a=n,g=t);b.lastIndex=0;return b}iJ(n,t,q){if(n===d&&t===k&&q===h)return c;
const u=this.Gv(t,q);c=n.match(u);d=n;k=t;h=q;return c}async rD(n,t){if(t.length){this.Hn+=t.length;var q=[];for(const u of t)q.push(n.SJ(u));await e.pY(q,()=>{this.ht++});this.ht++;this.ht===this.Hn&&(this.g.Ja(e.C.Xa.K.RX,null,null),this.Hn=this.ht=0)}}NN(n,t){for(const q of t)0===q.F.length&&n.tX(q)}rM(){return l}D4(n){var t=this.g.ga();const q=t.Fc(),u=q.Ge(),v=u.sb(),A=v.$c();var y=u.Ji();const E=q.Ca(v),x=t.Ve,F=x.Ca();if(y)for(y=0;y<n&&!F.Yb;++y)t.he(A),F.qc(y),v.Pf(u,E),t.Bb(A);else for(t=
0;t<n&&!F.Yb;++t)F.qc(t),v.Pf(u,E);q.Aa();x.Aa();return!1}*V0(n){var t=this.g.ga();const q=t.Fc(),u=q.Ge(),v=u.sb(),A=v.$c();var y=u.Ji();const E=q.Ca(v),x=t.Ve,F=x.Ca();if(y)for(y=0;y<n&&!F.Yb;++y)t.he(A),F.qc(y),yield*v.Df(u,E),t.Bb(A);else for(t=0;t<n&&!F.Yb;++t)F.qc(t),yield*v.Df(u,E);q.Aa();x.Aa();return!1}s6(){var n=this.g.ga();const t=n.Fc(),q=t.Ge(),u=q.sb(),v=u.$c();var A=q.Ji();const y=t.Ca(u),E=n.Ve,x=E.Ca();if(A)for(A=0;!x.Yb;++A)n.he(v),x.qc(A),u.Pf(q,y)||x.Ag(),n.Bb(v);else for(n=0;!x.Yb;++n)x.qc(n),
u.Pf(q,y)||x.Ag();t.Aa();E.Aa();return!1}*n1(){var n=this.g.ga();const t=n.Fc(),q=t.Ge(),u=q.sb(),v=u.$c();var A=q.Ji();const y=t.Ca(u),E=n.Ve,x=E.Ca();if(A)for(A=0;!x.Yb;++A)n.he(v),x.qc(A),(yield*u.Df(q,y))||x.Ag(),n.Bb(v);else for(n=0;!x.Yb;++n)x.qc(n),(yield*u.Df(q,y))||x.Ag();t.Aa();E.Aa();return!1}V1(n,t,q){var u=this.g.ga();const v=u.Fc(),A=v.Ge(),y=A.sb(),E=y.$c(),x=A.Ji(),F=v.Ca(y),I=u.Ve,M=I.Ca();M.yw(n);if(q<t)if(x)for(n=t;n>=q&&!M.Yb;--n)u.he(E),M.qc(n),y.Pf(A,F),u.Bb(E);else for(u=t;u>=
q&&!M.Yb;--u)M.qc(u),y.Pf(A,F);else if(x)for(n=t;n<=q&&!M.Yb;++n)u.he(E),M.qc(n),y.Pf(A,F),u.Bb(E);else for(u=t;u<=q&&!M.Yb;++u)M.qc(u),y.Pf(A,F);v.Aa();I.Aa();return!1}*S0(n,t,q){var u=this.g.ga();const v=u.Fc(),A=v.Ge(),y=A.sb(),E=y.$c(),x=A.Ji(),F=v.Ca(y),I=u.Ve,M=I.Ca();M.yw(n);if(q<t)if(x)for(n=t;n>=q&&!M.Yb;--n)u.he(E),M.qc(n),yield*y.Df(A,F),u.Bb(E);else for(u=t;u>=q&&!M.Yb;--u)M.qc(u),yield*y.Df(A,F);else if(x)for(n=t;n<=q&&!M.Yb;++n)u.he(E),M.qc(n),yield*y.Df(A,F),u.Bb(E);else for(u=t;u<=
q&&!M.Yb;++u)M.qc(u),yield*y.Df(A,F);v.Aa();I.Aa();return!1}W1(n){var t=this.g.ga();const q=t.Fc(),u=q.Ge(),v=u.sb(),A=v.$c();var y=u.Ji();const E=q.Ca(v),x=t.Ve,F=x.Ca(),I=n.pc(),M=n.P(),O=l.Ca();e.Dc(O,M.ba());if(y)for(let Q=0,T=O.length;Q<T&&!F.Yb;++Q)t.he(A),y=O[Q],n.P().Mi(y),I&&y.wh(),F.qc(Q),v.Pf(u,E),t.Bb(A);else{M.Qd(!1);n=M.F;e.D(n);n.push(null);for(let Q=0,T=O.length;Q<T&&!F.Yb;++Q)t=O[Q],n[0]=t,I&&t.wh(),F.qc(Q),v.Pf(u,E)}q.Aa();x.Aa();e.D(O);l.Aa();return!1}*T0(n){var t=this.g.ga();const q=
t.Fc(),u=q.Ge(),v=u.sb(),A=v.$c();var y=u.Ji();const E=q.Ca(v),x=t.Ve,F=x.Ca(),I=n.pc(),M=n.P(),O=l.Ca();e.Dc(O,M.ba());if(y)for(let Q=0,T=O.length;Q<T&&!F.Yb;++Q)t.he(A),y=O[Q],n.P().Mi(y),I&&y.wh(),F.qc(Q),yield*v.Df(u,E),t.Bb(A);else{M.Qd(!1);n=M.F;e.D(n);n.push(null);for(let Q=0,T=O.length;Q<T&&!F.Yb;++Q)t=O[Q],n[0]=t,I&&t.wh(),F.qc(Q),yield*v.Df(u,E)}q.Aa();x.Aa();e.D(O);l.Aa();return!1}X1(n,t){var q=this.g.ga();const u=q.Fc(),v=q.ef(),A=u.Ge(),y=A.sb(),E=y.$c(),x=A.Ji(),F=u.Ca(y),I=q.Ve,M=I.Ca(),
O=n.pc(),Q=n.P(),T=l.Ca();e.D(T);const aa=Q.ba();for(let V=0,Z=aa.length;V<Z;++V)T.push([aa[V],v.Xr(1,V)]);T.sort(p);1===t&&T.reverse();if(x)for(let V=0,Z=T.length;V<Z&&!M.Yb;++V)q.he(E),t=T[V][0],n.P().Mi(t),O&&t.wh(),M.qc(V),y.Pf(A,F),q.Bb(E);else{Q.Qd(!1);n=Q.F;e.D(n);n.push(null);for(let V=0,Z=T.length;V<Z&&!M.Yb;++V)q=T[V][0],n[0]=q,O&&q.wh(),M.qc(V),y.Pf(A,F)}u.Aa();I.Aa();e.D(T);l.Aa();return!1}*U0(n,t){var q=this.g.ga();const u=q.Fc(),v=q.ef(),A=u.Ge(),y=A.sb(),E=y.$c(),x=A.Ji(),F=u.Ca(y),
I=q.Ve,M=I.Ca(),O=n.pc(),Q=n.P(),T=l.Ca();e.D(T);const aa=Q.ba();for(let V=0,Z=aa.length;V<Z;++V)T.push([aa[V],v.Xr(1,V)]);T.sort(p);1===t&&T.reverse();if(x)for(let V=0,Z=T.length;V<Z&&!M.Yb;++V)q.he(E),t=T[V][0],n.P().Mi(t),O&&t.wh(),M.qc(V),yield*y.Df(A,F),q.Bb(E);else{Q.Qd(!1);n=Q.F;e.D(n);n.push(null);for(let V=0,Z=T.length;V<Z&&!M.Yb;++V)q=T[V][0],n[0]=q,O&&q.wh(),M.qc(V),yield*y.Df(A,F)}u.Aa();I.Aa();e.D(T);l.Aa();return!1}Uw(n,t){let q=this.vO.get(n);if(q)return q;if(!t)return null;q={nm:null,
oA:new Map};this.vO.set(n,q);return q}o1(n,t,q,u,v){t.ee().UY(q);u&&n.Bb(v)}*R0(n,t,q,u,v){yield*t.ee().FS(q);u&&n.Bb(v)}}}"use strict";{const e=self.B;e.C.Xa.sl=class extends e.${constructor(b){super();this.I=b;this.g=b.H();this.Sg=b.Ab()}cd(){}j(){this.Sg=this.g=this.I=null}}}"use strict";{const e=self.B;e.C.Xa.Instance=class extends e.${constructor(b){super();this.Z=b;this.I=this.Z.G();this.vc=this.I.vc;this.g=this.Z.H()}j(){this.g=this.vc=this.I=this.Z=null}}}"use strict";
{const e=self.B,b=[];e.C.Xa.K={taa(){return!0},aK(){return!0},SX(){return!0},aY(){return!0},YX(){return!0},Sm(){return this.g.Sm()},DI(){const a=this.g.Fe();return a.KE?!1:!a.Qn},Bga(){const a=this.g.ef().Fi();let g=a.get("TriggerOnce_lastTick");"undefined"===typeof g&&(g=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.fj;a.set("TriggerOnce_lastTick",c);return this.g.tF||g!==c-1},saa(a){const g=this.g.ef().Fi(),c=g.get("Every_lastTime")||0,d=this.g.rg();g.has("Every_seconds")||g.set("Every_seconds",
a);const k=g.get("Every_seconds");if(d>=c+k)return g.set("Every_lastTime",c+k),d>=g.get("Every_lastTime")+.04&&g.set("Every_lastTime",d),g.set("Every_seconds",a),!0;d<c-.1&&g.set("Every_lastTime",d);return!1},Qr(a){return(a=this.g.ga().UI(a))&&a.Qr()},Rm(){return this.g.Rm()},VB(){return e.Sc.VB},TX(){return!0},HX(){return!0},oaa(){return!0},ZX(){return!0},$X(){return!0},bK(){return!0},cK(){return!0},Aca(a){return!!this.g.yi(a)},Fba(a){switch(a){case 0:return"browser"===e.Sc.GA;case 1:return"iOS"===
e.Sc.Xo;case 2:return"Android"===e.Sc.Xo;case 8:return"cordova"===e.Sc.GA;case 9:return"scirra-arcade"===this.g.Gl;case 10:return"nwjs"===e.Sc.GA;case 13:return"windows-uwp"===this.g.Gl;default:return!1}},yda(a,g,c){return this.Gv(g,c).test(a)},jS(a,g,c){return e.compare(a,g,c)},Q$(a,g,c){return a>=g&&a<=c},lS(a,g,c){return e.compare(a.oc(),g,c)},R$(a){return!!a.oc()},Y$(a,g){const c=this.g.rg();return 0===a?(a=this.g.ef().Fi(),!a.get("CompareTime_executed")&&c>=g?(a.set("CompareTime_executed",!0),
!0):!1):e.compare(c,a,g)},Cba(a){return isNaN(a)},CR(a,g,c){return e.Mq(e.lb(a),e.lb(c))<=e.lb(g)},BW(a,g){return e.Ze(e.lb(a),e.lb(g))},zW(a,g,c){a=e.lb(a);g=e.lb(g);c=e.lb(c);return e.Ze(c,g)?e.Ze(a,g)&&!e.Ze(a,c):!(!e.Ze(a,g)&&e.Ze(a,c))},Mba(a,g){return"number"===typeof a?0===g:1===g},raa(a){return!!a},Yca(a,g,c,d){if(!a)return!1;const k=this.rM(),h=k.Ca(),l=a.P();e.Dc(h,l.ba());l.Rb&&e.D(l.Qb);const p=this.g.ef();let n=0;for(let t=0,q=h.length;t<q;++t){const u=h[t];h[n]=u;g=p.Xr(1,t);d=p.Xr(3,
t);e.compare(g,c,d)?++n:l.wl(u)}e.De(h,n);l.Yr(h);g=!!h.length;e.D(h);k.Aa();a.Ob();return g},Zca(a,g){if(!a)return!1;const c=this.rM(),d=c.Ca(),k=a.P();e.Dc(d,k.ba());k.Rb&&e.D(k.Qb);const h=this.g.ef();let l=0;for(let p=0,n=d.length;p<n;++p){const t=d[p];d[l]=t;(g=h.Xr(1,p))?++l:k.wl(t)}e.De(d,l);k.Yr(d);g=!!d.length;e.D(d);c.Aa();a.Ob();return g},dda(a,g){if(!a)return!1;const c=a.P(),d=c.ba();g=Math.floor(g);if(g>=d.length)return!1;c.il(d[g]);a.Ob();return!0},hda(a){if(!a)return!1;const g=a.P(),
c=g.ba(),d=Math.floor(this.g.$o()*c.length);if(d>=c.length)return!1;g.il(c[d]);a.Ob();return!0},Xca(a){if(!a||!a.F.length)return!1;a.P().Qd(!0);a.Ob();return!0},fda(a,g,c){if(!a)return!1;const d=a.P();var k=d.ba();const h=this.g.sb().vd,l=this.g.ef().$h;d.Rb?(e.Dc(b,k),d.Xu(),d.Qd(!1)):h?(e.Dc(b,d.Qb),e.D(d.Qb)):(e.Dc(b,d.F),e.D(d.F));for(let p=0,n=b.length;p<n;++p)k=b[p],e.xor(k.m().Do(g,c),l)?d.hn(k):d.wl(k);a.Ob();return e.xor(!!d.F.length,l)},cda(a){if(!a)return!1;var g=a.Ra;let c=null;const d=
this.g.ek;for(let k=d.length-1;0<=k;--k){const h=d[k];if(g){if(h.G().zA(a)){c=h;break}}else if(h.G()===a){c=h;break}}c||(g=a.ba(),g.length&&(c=g[g.length-1]));if(!c)return!1;a.P().il(c);a.Ob();return!0},Bda(a){return this.g.Gd?this.V0(a):this.D4(a)},Vga(){return this.g.Gd?this.n1():this.s6()},Aaa(a,g,c){return this.g.Gd?this.S0(a,g,c):this.V1(a,g,c)},LI(a){return this.g.Gd?this.T0(a):this.W1(a)},Baa(a,g,c){return this.g.Gd?this.U0(a,c):this.X1(a,c)},Tba(a){return a?a.pd():!1},Rba(a){return a?!a.F.length:
!1},Qba(a,g,c){return a?e.compare(100*a.If(),g,c):!1},RX(){return!0},Aba(){return 0<this.Hn}}}"use strict";
{const e=self.B;function b(h,l){const p=h[0]-l[0];return 0!==p?p:h[1]-l[1]}function a(h,l){return h[1]-l[1]}const g=[],c=[],d=e.A(e.Rect),k=e.A(e.Za);e.C.Xa.nb={ZZ(h,l){h.Sf(l)},l$(h,l){h.gl()&&"number"!==typeof l&&(l=parseFloat(l));h.Sf(h.oc()+l)},oga(h,l){h.gl()&&h.Sf(h.oc()-l)},Zea(h,l){h.Sf(!!l)},wga(h){h.Sf(!h.oc())},Cea(){this.g.ga().LY()},uI(h,l,p,n,t){h&&l&&(p=this.g.JA(h,l,p,n,t))&&(t&&l.JC(p),l=this.g.ga(),l.ae(!0),p.kx(),l.ae(!1),h.P().Mi(p),p.pc()&&p.wh())},gaa(h,l,p,n,t){h&&l&&(h=this.g.oB(h))&&
e.C.Xa.nb.uI.call(this,h,l,p,n,t)},Wr(h,l,p,n,t,q,u,v,A,y){if(h){var E=this.g.Oa();if(q&&(E=this.g.$a.Io(q),!E))return;q=null;if("number"!==typeof u||0<=u)if(q=E.aa(u),!q)return;d.set(l,p,n,t);l=E.Wr(h,d,q,v,A,y);h.P().Yr(l);h.Ob()}},cga(){const h=this.Ve;h.FJ()&&h.kh().Ag()},jp(h,l){(h=this.g.ga().UI(h))&&(0===l?h.jp(!1):1===l?h.jp(!0):h.jp(!h.Qr()))},Jfa(h){this.g.EC(h)},Gfa(h,l){0>l&&(l=0);if(h){h=h.P().ba();for(const p of h)p.EC(l)}},Fea(h){if(h){h=h.P().ba();for(const l of h)l.RY()}},RC(h){if(!(0>
h))return this.g.ga().vA().qW(h),!0},Qga(h){this.g.ga().vA().oW(h);return!0},Pga(){const h=this.g.ga();h.vA().hW(h.fV());return!0},Ofa(h){h=h.toLowerCase();for(const l of this.g.ga().yf)l.RW()&&l.Xt===h&&l.BC()},async kL(h,l,p,n,t,q){const u=this.g.Y;u&&(this.ca(),await u.kL(0===h?"image/png":"image/jpeg",l/100,p,n,t,q),await this.g.je(e.C.Xa.K.HX,null))},afa(h,l){if(!(0>=h||0>=l)){this.g.ns(h,l);var p=this.g.Oa();p.Ru();for(const n of p.Hc)n.QC();if(p=this.g.Y)"off"!==p.Ar()&&this.g.FZ(h,l),p.Uc(p.hm,
p.gm,!0),this.g.ca()}},lfa(h){const l=this.g.Y;l&&"off"!==l.Ar()&&(l.QK(0!==h?"high":"low"),l.Uc(l.hm,l.gm,!0))},$m(h){this.g.ZY(h)},Yba(h){this.g.jX(h)},Zba(h){this.g.$B(h)},nfa(){},Dea(){for(const h of this.g.$a.Fh)h.PY()},Hfa(h){this.g.JZ(0!==h)},bL(h){this.g.bL(h)},Vfa(h,l){if(h){var p=h.P().ba(),n=this.g.Oa(),t=h.Ra;h=h.Mg;for(let u=0,v=p.length;u<v;++u){var q=p[u];const A=q.m();if(!A)continue;let y;y=t?q.fe(l+q.G().gB(h)):q.fe(l);g.push([A.aa().xa(),A.qh()]);c.push([q,y])}if(g.length){g.sort(b);
c.sort(a);l=!1;for(let u=0,v=g.length;u<v;++u)p=c[u][0],t=n.Cv(g[u][0]),h=g[u][1],q=t.F,q[h]!==p&&(q[h]=p,p.m().Hs(t),t.Uf(),l=!0);l&&this.g.ca();e.D(g);e.D(c)}}},Oaa(h){if(!this.g.$i){var l=this.g.$a;l.Ro()||l.Vu(h)}},Paa(h){if(!this.g.$i){var l=this.g.$a;l.Ro()||(h=l.Io(h))&&l.Vu(h)}},sca(h){if(!this.g.$i){var l=this.g.$a;if(!l.Ro()){var p=l.Fh,n=p.indexOf(l.Kb());h&&0===n||(h||n!==p.length-1)&&l.Vu(p[n+(h?-1:1)])}}},Eea(){if(!this.g.$i){var h=this.g.$a;h.Ro()||(h.Vu(h.Kb()),this.g.ga().MY())}},
yfa(h,l){h&&h.yg(l)},ufa(h,l){h&&h.Mj(l/100)},BZ(h,l){h&&h.GZ(l)},wfa(h,l){h&&h.NZ(l)},ofa(h,l){h&&(l=e.xd(e.lb(+l)),h.Oe!==l&&(h.qd(l),this.ca()))},vfa(h,l,p){h&&h.HZ(l/100,p/100)},zfa(h,l){h&&h.Oj(l)},pfa(h,l){h&&(k.Yq(l),k.ia(),h=h.Os,h.om(k)||(h.lm(k),this.ca()))},xfa(h,l){h&&(l=!!l,h.Nl!==l&&(h.WZ(l),this.ca()))},qfa(h,l){h&&h.qg()!==l&&(h.kf(l),this.ca())},rfa(h,l,p){h&&(h=h.La,p=h.yj(p))&&(l=1===l,p.tb!==l&&(p.qw(l),h.tl(),this.g.ca()))},sfa(h,l,p,n){if(h&&(h=h.La,l=h.yj(l))&&(h=h.Gf(l.xa()),
p=Math.floor(p),!(0>p||p>=h.length))){var t=l.bb.Fv(p);if("color"===t){k.Yq(n);p=h[p];if(k.om(p))return;p.lm(k)}else{"percent"===t&&(n/=100);if(h[p]===n)return;h[p]=n}l.tb&&this.g.ca()}},tfa(h,l){h&&(l=!!l,h.pF!==l&&(h.uZ(l),this.ca()))},Dfa(h){const l=this.g.Oa();l.Jc!==h&&(l.dL(h),this.ca())},Afa(h){h=e.xd(e.lb(+h));const l=this.g.Oa();l.Ea()!==h&&(l.qd(h),this.ca())},Bfa(h,l){const p=this.g.Oa().La;if(l=p.yj(l))h=1===h,l.tb!==h&&(l.qw(h),p.tl(),this.g.ca())},Cfa(h,l,p){var n=this.g.Oa().La;if(h=
n.yj(h))if(n=n.Gf(h.xa()),l=Math.floor(l),!(0>l||l>=n.length)){var t=h.bb.Fv(l);if("color"===t){k.Yq(p);l=n[l];if(k.om(l))return;l.lm(k)}else{"percent"===t&&(p/=100);if(n[l]===p)return;n[l]=p}h.tb&&this.g.ca()}},Rea(h){this.g.Oa().gs(h)},Sea(h){this.g.Oa().hs(h)},bZ(h,l){const p=this.g.Oa();p.gs(h);p.hs(l)},Qea(h){if(h&&(h=h.XI())&&(h=h.m())){var l=this.g.Oa();l.gs(h.la());l.hs(h.ma())}},async lX(h){const l=this.g.Kb();l&&h&&!this.g.$i&&await this.rD(l,h.Ra?h.Dn:[h])},async Xba(h){await e.C.Xa.nb.lX.call(this,
this.g.oB(h))},Fga(h){const l=this.g.Kb();l&&h&&this.NN(l,h.Ra?h.Dn:[h])},z_(h){e.C.Xa.nb.z_.call(this,this.g.oB(h))},Gga(){const h=this.g.Kb();if(h){var l=h.r2();this.NN(h,l)}},async Vba(h){const l=this.g.Kb();h&&l&&!this.g.$i&&await this.rD(l,h.sM())},async Wba(h){const l=this.g.Kb();(h=this.g.$a.Io(h))&&l&&!this.g.$i&&await this.rD(l,h.sM())},ww(h){const l=this.td.mU();if(l)switch(l.wO){case 1:"number"===typeof h&&l.ww(h);break;case 2:"string"===typeof h&&l.ww(h);break;case 3:l.ww(h)}},dca(h,l,
p){var n=this.Uw(h.toLowerCase(),!0);const t=n.oA,q=l.toLowerCase();t.has(q)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(n=e.first(t.values())||n.nm)&&0!==n.tk!==(0!==p.tk)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):t.set(q,p)},eca(h,l){const p=this.Uw(h.toLowerCase(),!0);p.nm&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);
const n=e.first(p.oA.values())||p.nm;n&&0!==n.tk!==(0!==l.tk)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):p.nm=l},J$(h,l,p){p=Math.floor(p);var n=this.Uw(h.toLowerCase(),!1);if(n){var t=n.oA.get(l.toLowerCase());if(!t)if(n.nm)t=n.nm,p=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(t.ug())if(0!==
t.tk)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.ga();var q=l.sb();n=q.ad();var u=0<n.length;u&&l.Of(n);var v=[];if(q=l.RA(q)){q=q.ag;for(let A=p,y=q.length;A<y;++A)v.push(q[A].oc())}p=t.ag;for(let A=v.length,y=p.length;A<y;++A)v.push(p[A].Jn);return h.Gd?this.R0(l,t,v,u,n):this.o1(l,t,v,u,n)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}"use strict";
{const e=self.B;e.C.Xa.Jb={via:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Oha:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Pk(b){return b.toString()},Cu(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.$o()*b:this.g.$o()*(a-b)+b},e8(...b){return b[Math.floor(this.g.$o()*b.length)]},ija(){return Math.PI},tia(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.lb(b))},cos(b){return Math.cos(e.lb(b))},tan(b){return Math.tan(e.lb(b))},asin(b){return e.Cf(Math.asin(b))},acos(b){return e.Cf(Math.acos(b))},atan(b){return e.Cf(Math.atan(b))},exp(b){return Math.exp(b)},Z8(b){return Math.log(b)},log10(b){return Math.log(b)/Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let g=1,c=b.length;g<c;++g){let d=
b[g];"number"===typeof d&&a<d&&(a=d)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let g=1,c=b.length;g<c;++g){let d=b[g];"number"===typeof d&&a>d&&(a=d)}return a},ia(b,a,g){return e.ia(b,a,g)},vu(b,a,g,c){return e.Fk(b,a,g,c)},angle(b,a,g,c){return e.Cf(e.ru(b,a,g,c))},Be(b,a,g){return e.Be(b,a,g)},WH(b,a,g){return e.WH(b,a,g)},hA(b,a,g,c){return e.hA(b,a,g,c)},vQ(b,a,g,c,d){return e.vQ(b,a,g,c,d)},tQ(b,a,g){return e.tQ(b,a,g)},jha(b,a){return e.Cf(e.Mq(e.lb(b),e.lb(a)))},kha(b,a,
g){return e.Cf(e.ZG(e.lb(b),e.lb(a),g))},lha(b,a,g){return e.Cf(e.$G(e.lb(b),e.lb(a),e.lb(g)))},Uja(b,a,g){a|=0;return(b|0)&~(1<<a)|(0!==g?1:0)<<a},bka(b,a){return(b|0)^1<<(a|0)},nia(b,a){return(b|0)&1<<(a|0)?1:0},Zia(){return"\n"},ika(b){return"string"===typeof b?b.toUpperCase():""},Ria(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,g){return"string"!==typeof b?"":0>g?b.substr(a):b.substr(a,g)},right(b,a){return"string"===typeof b?b.substr(b.length-
a):""},trim(b){return"string"===typeof b?b.trim():""},cka(b,a,g){if("string"!==typeof b||"string"!==typeof g)return"";b=b.split(g);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},dka(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.lr(a),"i")):-1},Nha(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.lr(a),"")):-1},replace(b,a,g){return"string"===typeof b&&"string"===
typeof a&&"string"===typeof g?b.replace(new RegExp(e.lr(a),"gi"),g):"string"===typeof b?b:""},uja(b,a,g){a=this.Gv(a,g);return b?b.search(a):-1},tja(b,a,g,c){a=this.Gv(a,g);return b?b.replace(a,c):""},sja(b,a,g){return(b=this.iJ(b.toString(),a,g))?b.length:0},rja(b,a,g,c){c=Math.floor(c);b=this.iJ(b.toString(),a,g);return!b||0>c||c>=b.length?"":b[c]},wka(b,a){let g=0>b?"-":"";0>b&&(b=-b);g+="0".repeat(Math.max(a-b.toString().length,0));return g+b.toString()},kka(b){return encodeURIComponent(b)},jka(b){return decodeURIComponent(b)},
zQ(){return this.g.Px},$ja(){return this.g.ue},tka(){return(Date.now()-this.g.Xl)/1E3},gka(){return Date.now()},time(){return this.g.rg()},G9(){return this.g.fj},bja(){return this.g.WF},Rha(){return this.g.by},yha(){return this.g.Zy},oia(){return this.g.Bv()},vka(){return this.g.Y.Hg},uka(){return this.g.Y.Gg},fja(){return this.g.pe},eja(){return this.g.oe},dja(){return this.g.pe},cja(){return this.g.oe},Lja(){return this.g.Oa().wk},Mja(){return this.g.Oa().xk},Lia(){return this.g.Oa().V},Mia(){return this.g.Oa().Jc},
Kia(){return e.Cf(this.g.Oa().Ea())},Nia(){return this.g.Oa().ea()},W8(){return this.g.Oa().da()},pka(b){return(b=this.g.Oa().aa(b))?b.Yc.L:0},rka(b){return(b=this.g.Oa().aa(b))?b.Yc.J:0},qka(b){return(b=this.g.Oa().aa(b))?b.Yc.T:0},nka(b){return(b=this.g.Oa().aa(b))?b.Yc.N:0},ska(b){return(b=this.g.Oa().aa(b))?b.Yc.width():0},oka(b){return(b=this.g.Oa().aa(b))?b.Yc.height():0},tha(b,a,g){return(b=this.g.Oa().aa(b))?b.ri(a,g)[0]:0},uha(b,a,g){return(b=this.g.Oa().aa(b))?b.ri(a,g)[1]:0},Hia(b,a,g){return(b=
this.g.Oa().aa(b))?b.To(a,g)[0]:0},Iia(b,a,g){return(b=this.g.Oa().aa(b))?b.To(a,g)[1]:0},V8(b){return(b=this.g.Oa().aa(b))?b.Jc:0},Bia(b){return(b=this.g.Oa().aa(b))?e.Cf(b.Oe):0},Dia(b){return(b=this.g.Oa().aa(b))?100*b.If():0},Gia(b){return(b=this.g.Oa().aa(b))?b.gi:0},Eia(b){return(b=this.g.Oa().aa(b))?100*b.qe:0},Fia(b){return(b=this.g.Oa().aa(b))?100*b.re:0},Jia(b){return(b=this.g.Oa().aa(b))?b.Lb():0},Cia(b){return(b=this.g.Oa().aa(b))?b.xa():-1},sha(){const b=this.g.Y;return b?b.tG:""},Qia(b){const a=
this.Ve;return a.FJ()?b?(b=a.WT(b))?b.xa():0:a.kh().xa():0},Jja(){return this.g.Tn},rha(b,a,...g){var c=this.Uw(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var d=c.oA.get(a.toLowerCase());if(!d)if(c.nm)d=c.nm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=d.tk;const k=d.Br();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),
0;if(!d.ug())return k;b=this.g.ga();a=b.sb().ad();const h=0<a.length;h&&b.Of(a);const l=d.ag;for(let p=g.length,n=l.length;p<n;++p)g.push(l[p].Jn);d=d.ee();g=d.lC(d.ad(),c,k,...g);h&&b.Bb(a);return g},Pia(){return this.g.fd.Py},ria(){return 0===this.Hn?1:this.ht/this.Hn},Ce(){return"webgl"},xja(){return this.g.Cd().ku},sia(){let b=this.g.Cd().qU();return Math.round(100*b/1048576)/100},yja(b,a,g){return e.eY(b,a,g)},Bja(b,a,g){return e.kK(b/100,a/100,g/100)},zja(b,a,g,c){return e.hw(b/100,a/100,g/
100,c/100)},Cja(b,a,g){return e.kK(b/255,a/255,g/255)},Aja(b,a,g,c){return e.hw(b/255,a/255,g/255,c/255)},j9(){return this.g.mz},k9(){return this.g.LP},Bha(){return this.g.sb().hc.V},Aha(){return this.g.sb().Mp}}}"use strict";{const e=self.B;e.C.ib=class extends e.ep{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const e=self.B;e.C.ib.sl=class extends e.ow{constructor(b){super(b);this.sd=b.sd}j(){e.D(this.sd);super.j()}cd(){for(const b of this.sd)b.dX(this.g)}Vo(b){const a={oi:this.g.hd};return Promise.all(this.sd.map(g=>g.eX(b,a)))}Ym(){for(const b of this.sd)b.yY()}gw(){this.QN()}QN(){for(const b of this.I.I8())b.ra.QD()}qr(b){e.C.ib.K1(this,b)}}}"use strict";
{const e=self.B,b=e.A(e.Rect),a=e.A(e.ie),g=e.A(e.Gw);e.C.ib.Instance=class extends e.nC{constructor(d,k){super(d);let h=!0,l="",p=0,n=!0;k&&(h=!!k[0],l=k[1],p=k[2],n=k[3]);this.Eb=this.I.NI(l)||this.I.sd[0];this.ob=e.ia(p,0,this.Eb.ud.length-1);this.le=this.Eb.Wk(this.ob);k=this.le.ff();this.Xs=k.Ie();this.Mx=k.Zd;this.rV();d.$r(2,!0);d.$r(1,0<=this.Eb.Dj());this.Ti=Math.abs(this.Eb.Dj());this.Ip=this.Eb.QP;this.ux=e.A(e.Zv);this.Ri=this.Vh=0;this.$N="";this.Ts=-1;this.Cp="";this.dO=0;d=this.m();
this.I6=d.Tk();d.yg(h);d.Zr(n);d.kp(this.le.Bi());d.lp(this.le.Ci());d.DC(this.le.vn);d.Fa();1===this.I.sd.length&&1===this.I.sd[0].ud.length||0===this.Ti||this.Dg()}j(){this.ux=this.Xs=this.le=this.Eb=null;super.j()}tj(){return this.le.ff()}Yo(){this.Xs=null}jK(){this.QD()}df(d){var k=this.Xs;null!==k&&(d.nf(k),k=this.m(),k.hf()?this.hD(k,d):this.iD(k,d))}iD(d,k){let h=this.I6;this.g.Ll&&(h=d.lK(h));k.jl(h,this.Mx)}hD(d,k){const h=d.oJ();if(d.IJ()){d.Tu(b,a,!1);let l=a;this.g.Ll&&(l=d.lK(l));h.hI(d.Hi(),
l,this.Mx);d.yC(!1)}h.df(k)}ur(){return this.ux.W()}Uv(){return this.Z.jB(2)}fp(d){this.Z.$r(2,d)}Xv(){return this.Z.jB(1)}ds(d){this.Z.$r(1,d)}QB(){return this.Z.jB(4)}TK(d){this.Z.$r(4,d)}Pd(){this.Cp&&this.$L();0<=this.Ts&&this.gD();const d=this.Ti;if(this.Uv()&&0!==d){this.ux.Ec(this.g.Cr(this.Z));var k=this.ur(),h=this.le,l=h.kO/d;if(!(k<this.Vh+l)){var p=this.Eb,n=this.Ip,t=p.ud.length,q=p.Xk(),u=p.Ey,v=p.h7;this.Xv()?this.ob++:this.ob--;this.Vh+=l;this.ob>=t&&(v?(this.ds(!1),this.ob=t-2):u?
this.ob=n:(this.Ri++,this.Ri>=q?this.kD(!1):this.ob=n));0>this.ob&&(v?(this.ob=1,this.ds(!0),u||(this.Ri++,this.Ri>=q&&this.kD(!0))):u?this.ob=n:(this.Ri++,this.Ri>=q?this.kD(!0):this.ob=n));this.ob=e.ia(this.ob,0,t-1);l=p.Wk(this.ob);k>this.Vh+l.kO/d&&(this.Vh=k);this.ax(h,l)}}else this.yl()}kD(d){this.ob=d?0:this.Eb.ud.length-1;this.fp(!1);this.$N=this.Eb.V;this.TK(!0);this.Ja(e.C.ib.K.GX);this.Ja(e.C.ib.K.FX);this.TK(!1);this.Ri=0}ax(d,k){if(d!==k){var h=this.m(),l=d.ff();d=k.ff();var p=l.ea();
l=l.da();var n=d.ea(),t=d.da();p!==n&&h.pf(h.ea()*(n/p));l!==t&&h.lf(h.da()*(t/l));h.kp(k.Bi());h.lp(k.Ci());h.DC(k.vn);h.Fa();this.le=k;this.Xs=d.Ie();this.Mx=d.Zd;k=this.Ia().yc;for(let q=0,u=k.length;q<u;++q);this.Ja(e.C.ib.K.OX);this.g.ca()}}W5(d){this.fp(!0);this.Vh=this.ur();1===d&&0!==this.ob&&(this.Ts=0,this.QB()||this.gD());this.Dg()}l5(d,k){this.Cp=d;this.dO=k;this.Dg();this.QB()||this.$L()}pM(){return this.Cp?this.Cp:this.Eb.V}m5(d){isFinite(d)&&(this.Ts=d,this.QB()||this.gD())}o5(d){this.Ti=
Math.abs(d);this.ds(0<=d);0<this.Ti&&this.Dg()}lM(){return this.Xv()?this.Ti:-this.Ti}n5(d){this.Ip=d=e.ia(Math.floor(d),0,this.Eb.ud.length-1)}$L(){const d=this.le;var k=this.I.NI(this.Cp);this.Cp="";!k||k===this.Eb&&this.Uv()||(this.Eb=k,this.ds(0<=k.Dj()),this.Ti=Math.abs(k.Dj()),this.Ip=k.QP,this.ob=e.ia(this.ob,0,this.Eb.ud.length-1),1===this.dO&&(this.ob=0),this.fp(!0),this.Vh=this.ur(),k=this.Eb.Wk(this.ob),this.ax(d,k))}gD(){const d=this.le;var k=this.ob;this.ob=e.ia(Math.floor(this.Ts),0,
this.Eb.ud.length-1);this.Ts=-1;k!==this.ob&&(k=this.Eb.Wk(this.ob),this.ax(d,k),this.Vh=this.ur())}QD(){const d=this.le.ff();this.Xs=d.Ie();this.Mx=d.Zd;this.m().yC(!0)}lB(){return this.le.lB()}Gm(d){const k=this.le,h=this.m();if("string"===typeof d)d=k.IU(d);else if("number"===typeof d)d=k.HU(d-1);else throw new TypeError("expected string or number");if(!d)return[h.la(),h.ma()];g.wa(d.eG);if(h.hf()){const [l,p]=h.Hi().sL(g.S,g.M);g.set(l,p)}g.offset(-k.Bi(),-k.Ci());g.scale(h.ea(),h.da());g.rotate(h.Ea());
g.offset(h.la(),h.ma());return[g.S,g.M]}kU(){return this.m().$k().OQ()}QI(d){d=Math.floor(d);const k=this.m();var h=k.$k();const l=h.OQ();d===l&&(d=0);if(0>d||d>=l)return[0,0];h=h.Id;return[h[2*d]+k.la(),h[2*d+1]+k.ma()]}ed(){const d={a:this.Eb.Ya};0!==this.Vh&&(d.fs=this.Vh);var k=this.ur();0!==k&&(d.at=k);0!==this.ob&&(d.f=this.ob);0!==this.Ti&&(d.cas=this.Ti);1!==this.Ri&&(d.ar=this.Ri);0!==this.Ip&&(d.rt=this.Ip);this.Uv()||(d.ap=this.Uv());this.Xv()||(d.af=this.Xv());k=this.m();k.rh()&&(d.ce=
k.rh());return d}Rc(d){var k=this.G().cU(d.a);k&&(this.Eb=k);this.Vh=d.hasOwnProperty("fs")?d.fs:0;this.ux.Set(d.hasOwnProperty("at")?d.at:0);k=d.hasOwnProperty("f")?d.f:0;this.ob=e.ia(k,0,this.Eb.ud.length-1);this.Ti=d.hasOwnProperty("cas")?d.cas:0;this.Ri=d.hasOwnProperty("ar")?d.ar:1;k=d.hasOwnProperty("rt")?d.rt:0;this.Ip=e.ia(k,0,this.Eb.ud.length-1);this.fp(d.hasOwnProperty("ap")?!!d.ap:!0);this.ds(d.hasOwnProperty("af")?!!d.af:!0);this.le=k=this.Eb.Wk(this.ob);this.QD();const h=this.m();h.kp(k.Bi());
h.lp(k.Ci());h.DC(k.vn);h.Zr(!!d.ce)}Zb(d){const k=this.m();switch(d){case 3:return k.rh();case 2:return e.ia(this.ob,0,this.Eb.ud.length-1)}}Rf(d,k){var h=this.m();switch(d){case 3:h.Zr(!!k);break;case 2:this.fp(!1);d=this.Eb.ud.length-1;h=k=e.ia(k,0,d);k=this.Eb.Wk(this.ob);const l=this.Eb.Wk(h);this.ax(k,l);this.ob=e.ia(h,0,d)}}Yk(){return self.PV}};const c=new WeakMap;self.PV=class extends self.Rv{constructor(){super();c.set(this,self.Or.ws().ra)}get animationName(){return c.get(this).pM()}get imageWidth(){return c.get(this).tj().ea()}get imageHeight(){return c.get(this).tj().da()}}}"use strict";
{const e=self.B,b=e.A(e.Rect),a=[],g=[];let c=!1,d=null,k=!1;const h=new Set;function l(q,u,v,A){u.Bc<v.Bc?q.Set(u,v,A):q.Set(v,u,A)}function p(q,u,v){u.Bc<v.Bc?q.ym(u,v):q.ym(v,u)}function n(q,u,v){return u.Bc<v.Bc?q.W(u,v):q.W(v,u)}function t(q,u,v,A){if(!u)return!1;q=q.Ia();const y=0!==v||0!==A,E=q.m(),x=q.H(),F=x.Kh;var I=x.ef();const M=I.ee().vd;var O=I.G();I=I.$h;const Q=u.P();O=O!==u;d=u;c=O&&!I;k=!1;let T=0,aa=0,V=!1;Q.Rb?(b.wa(E.zb()),b.offset(v,A),F.$A(E.aa(),u,b,g),u=g):M?x.FW()&&!Q.Qb.length&&
Q.F.length?u=Q.F:(u=Q.Qb,k=!0):u=Q.F;y&&(T=E.la(),aa=E.ma(),E.ew(v,A),E.Fa());for(const Z of u)if(F.OC(q,Z)){V=!0;if(I)break;O&&h.add(Z)}y&&(E.Nj(T,aa),E.Fa());e.D(g);return V}e.C.ib.K1=function(q,u){if(c){if(u){{q=q.H().sb().vd;u=d.P();const v=u.F,A=u.Qb;u.Rb?(u.js(h),q&&(e.D(A),u.ZH(h,d.ba()))):q?k?u.v_(h):(u.ZH(h,v),u.js(h)):u.js(h);d.Ob()}}h.clear();d=null;c=!1}};e.C.ib.K={Eca(q){if(this.g.Gd)return e.C.ib.K.CS.call(this,q);if(!q)return!1;var u=this.g;const v=u.Kh,A=u.ga(),y=A.Fc();var E=A.ef();
const x=E.G();var F=E.Fi(),I=E.Mr();E=y.Ge();const M=u.fj,O=M-1,Q=E.sb(),T=y.Ca(Q);let aa=F.get("collmemory");aa||(aa=e.A(e.Ur),F.set("collmemory",aa));I.get("spriteCreatedDestroyCallback")||(I.set("spriteCreatedDestroyCallback",!0),u.Db().addEventListener("instancedestroy",oa=>{aa.zI(oa.instance)}));u=q.P();F=x.P().ba();I=null;for(let oa=0;oa<F.length;++oa){const Y=F[oa];u.Rb?(v.$A(Y.m().aa(),q,Y.m().zb(),a),I=a,v.$H(Y,q,I)):I=u.ba();for(let ta=0;ta<I.length;++ta){const ea=I[ta];if(v.OC(Y,ea)||v.mI(Y,
ea)){var V=n(aa,Y,ea),Z=!1,ha=-2;"number"===typeof V&&(Z=!0,ha=V);V=!Z||ha<O;l(aa,Y,ea,M);V&&(V=Q.$c(),A.he(V),ha=x.P(),Z=q.P(),ha.Qd(!1),Z.Qd(!1),x===q?(Z=ha.F,e.D(Z),Z.push(Y),Z.push(ea),x.Ob()):(ha=ha.F,Z=Z.F,e.D(ha),e.D(Z),ha.push(Y),Z.push(ea),x.Ob(),q.Ob()),Q.Pf(E,T),A.Bb(V))}else p(aa,Y,ea)}e.D(a)}y.Aa();return!1},*CS(q){if(!q)return!1;var u=this.g;const v=u.Kh,A=u.ga(),y=A.Fc(),E=y.Ge(),x=u.fj,F=x-1,I=E.sb(),M=y.Ca(I);var O=A.ef();const Q=O.G();var T=O.Fi();O=O.Mr();let aa=T.get("collmemory");
aa||(aa=e.A(e.Ur),T.set("collmemory",aa));O.get("spriteCreatedDestroyCallback")||(O.set("spriteCreatedDestroyCallback",!0),u.Db().addEventListener("instancedestroy",oa=>{aa.zI(oa.instance)}));u=q.P();T=Q.P().ba();O=null;for(let oa=0;oa<T.length;++oa){const Y=T[oa];u.Rb?(v.$A(Y.m().aa(),q,Y.m().zb(),a),O=a,v.$H(Y,q,O)):O=u.ba();for(let ta=0;ta<O.length;++ta){const ea=O[ta];if(v.OC(Y,ea)||v.mI(Y,ea)){var V=n(aa,Y,ea),Z=!1,ha=-2;"number"===typeof V&&(Z=!0,ha=V);V=!Z||ha<F;l(aa,Y,ea,x);V&&(V=I.$c(),A.he(V),
ha=Q.P(),Z=q.P(),ha.Qd(!1),Z.Qd(!1),Q===q?(Z=ha.F,e.D(Z),Z.push(Y),Z.push(ea),Q.Ob()):(ha=ha.F,Z=Z.F,e.D(ha),e.D(Z),ha.push(Y),Z.push(ea),Q.Ob(),q.Ob()),yield*I.Df(E,M),A.Bb(V))}else p(aa,Y,ea)}e.D(a)}y.Aa();return!1},Hba(q){return t(this,q,0,0)},Iba(q,u,v){return t(this,q,u,v)},jba(q){return e.pm(this.pM(),q)},T$(q,u){return e.compare(this.ob,q,u)},P$(q,u){return e.compare(this.lM(),q,u)},FX(q){return e.pm(this.$N,q)},GX(){return!0},OX(){return!0},Bba(){return 0>this.m().ea()},wba(){return 0>this.m().da()},
iK(){return!0},dY(){return!0},rh(){return this.m().rh()}}}"use strict";
{const e=self.B;e.C.ib.nb={j_(b,a,g,c){if(b&&a){var [d,k]=this.Gm(g);if(g=this.g.JA(b,a,d,k,c)){c&&a.JC(g);b.Ab().So()&&(a=g.m(),a.qd(this.m().Ea()),a.Fa());a=this.g.ga();a.ae(!0);g.kx();a.ae(!1);c=this.g.zr().Fi();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Rp)a=!0,c.set("Spawn_LastExec",this.g.Rp);if(b!==this.G()&&(b=b.P(),b.Qd(!1),b=b.F,a&&e.D(b),b.push(g),g.pc()))for(const h of g.siblings())g=h.G().P(),a?g.Mi(h):(g.Qd(!1),g.hn(h))}}},bga(){this.fp(!1)},Yfa(b){this.W5(b)},
Tea(b,a){this.l5(b,a)},Uea(b){this.m5(b)},Wea(b){this.o5(b)},Vea(b){this.n5(b)},Ffa(b){const a=this.m(),g=a.ea();b=Math.abs(g)*(0===b?-1:1);g!==b&&(a.pf(b),a.Fa())},hfa(b){const a=this.m(),g=a.da();b=Math.abs(g)*(0===b?-1:1);g!==b&&(a.lf(b),a.Fa())},dL(b){const a=this.le.ff(),g=this.m();var c=0>g.ea()?-1:1;const d=0>g.da()?-1:1;c*=a.ea()*b;b=a.da()*b*d;if(g.ea()!==c||g.da()!==b)g.Uc(c,b),g.Fa()},async $ba(b,a){const g=this.le.ff(),c=this.m(),d=this.g;if(g.li===b)0===a&&(c.Uc(g.ea(),g.da()),c.Fa()),
this.Ja(e.C.ib.K.iK);else{var k=e.A(e.Sv);await k.iX(d,b);k.TB()?(await k.Rr(d.Cd(),{oi:this.g.hd}),g.KY(k),this.vc.QN(),this.Hw()||0!==a||(c.Uc(g.ea(),g.da()),c.Fa()),d.ca(),this.Hw()||await this.je(e.C.ib.K.iK)):this.Ja(e.C.ib.K.dY)}},bfa(b){this.m().Zr(b)},CC(b,a){this.m().CC(0===b,a)},oZ(b){this.m().kf(b);this.g.ca()}}}"use strict";
self.B.C.ib.Jb={q$(){return this.ob},r$(){return this.Eb.ud.length},s$(){return this.Eb.V},t$(){return this.lM()},Pca(){return this.Eb.Dj()},cba(e){return this.Gm(e)[0]},dba(e){return this.Gm(e)[1]},bba(){return this.lB()},eba(){return this.tj().ea()},aba(){return this.tj().da()},oda(e){return this.QI(e)[0]},pda(e){return this.QI(e)[1]},nda(){return this.kU()}};"use strict";{const e=self.B;e.C.Function=class extends e.ep{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const e=self.B;e.C.Function.sl=class extends e.ow{constructor(b){super(b)}j(){super.j()}cd(){}}}"use strict";
{const e=self.B;class b{constructor(){this.name="";this.vm=0;this.to=[]}}e.C.Function.Instance=class extends e.mw{constructor(a){super(a);this.gk=this.g.Rm();this.dy=-1;this.UE=[];a=(g,c)=>this.I2(g,c);self.c2_callFunction=a;self.c3_callFunction=a}j(){super.j()}Ca(){const a=this.UE,g=++this.dy;g===a.length&&a.push(new b);return a[g]}Aa(){--this.dy}kh(){const a=this.dy;return 0>a?null:this.UE[a]}$U(){const a=this.UE;return a.length?a[Math.min(this.dy+1,a.length-1)]:null}p0(a,g){const c=this.Ca();c.name=
a.toLowerCase();c.vm=0;e.Dc(c.to,g);g=this.mr(e.C.Function.K.Tr,c.name);this.gk&&!g&&console.warn(`[Construct 3] Function object: called function '${a}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Aa()}*Q0(a,g){const c=this.Ca();c.name=a.toLowerCase();c.vm=0;e.Dc(c.to,g);g=yield*this.LA(e.C.Function.K.Tr,c.name);this.gk&&!g&&console.warn(`[Construct 3] Function object: called function '${a}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);
this.Aa()}I2(a,g){const c=this.Ca();c.name=a.toLowerCase();c.vm=0;c.to=(g||[]).map(d=>"number"===typeof d||"string"===typeof d?d:"boolean"===typeof d?d?1:0:0);this.mr(e.C.Function.K.Tr,c.name);this.Aa();return c.vm}}}"use strict";
{const e=self.B;e.C.Function.K={Tr(){return!0},X$(b,a,g){const c=this.kh();if(!c)return this.gk&&console.warn("[Construct 3] Function object: used 'Compare parameter' condition when not in a function call"),!1;const d=c.to;b=Math.floor(b);let k=0;0>b||b>=d.length?this.gk&&console.warn(`[Construct 3] Function object: in function '${c.name}', compared parameter out of bounds (accessed index ${b} of ${d.length})`):k=d[b];return e.compare(k,a,g)}}}"use strict";
self.B.C.Function.nb={CallFunction(e,b){if(this.g.Gd)return this.Q0(e,b);this.p0(e,b)},MZ(e){const b=this.kh();b?b.vm=e:this.gk&&console.warn("[Construct 3] Function object: used 'Set return value' when not in a function call")},I$(){}};"use strict";
{const e=self.B;e.C.Function.Jb={Gea(){const b=this.$U();return b?b.vm:0},Qca(){const b=this.kh();if(b)return b.to.length;this.gk&&console.warn("[Construct 3] Function object: used 'ParamCount' expression when not in a function call");return 0},fY(b){b=Math.floor(b);const a=this.kh();if(a){const g=a.to;if(0<=b&&b<g.length)return g[b];this.gk&&console.warn(`[Construct 3] Function object: in function '${a.name}', accessed parameter out of bounds (accessed index ${b} of ${g.length})`);return 0}this.gk&&
console.warn("[Construct 3] Function object: used 'Param' expression when not in a function call");return 0},CA(b,...a){const g=this.Ca();g.name=b.toLowerCase();g.vm=0;g.to=a;a=this.mr(e.C.Function.K.Tr,g.name);this.gk&&!a&&console.warn(`[Construct 3] Function object: expression Function.Call("${b}" ...) was used, but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Aa();return g.vm}}}"use strict";{const e=self.B;e.C.Text=class extends e.ep{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const e=self.B;e.C.Text.sl=class extends e.ow{constructor(b){super(b)}j(){super.j()}cd(){}Vo(){}Ym(){}}}"use strict";
{const e=self.B,b=[0,0,0],a=["left","center","right"],g=["top","center","bottom"],c=new e.Rect,d=new e.ie;e.C.Text.Instance=class extends e.nC{constructor(l,p){super(l);this.Kc="";this.ck=!0;this.Sh="Arial";this.ej=12;this.Pg=0;this.Te=this.Se=!1;this.Wa=e.A(e.Za);this.ye=this.Qe=0;this.lj=!0;this.gj=this.Gq=-1;this.ju=0;this.Ic=e.A(e.oa.iC,this.g.Ir(),{timeout:5});this.Ic.eA=()=>this.g.ca();this.Ic.WK();p&&(this.Kc=p[0],this.ck=!!p[1],this.Sh=p[2],this.ej=p[3],this.Pg=p[4],this.Se=!!p[5],this.Te=
!!p[6],this.Qe=p[8],this.ye=p[9],this.lj=0===p[10],l=p[7],this.Wa.Lu(l[0],l[1],l[2]),this.m().yg(p[11]));this.Sd()}j(){this.ul();this.Ic.j();this.Ic=null;super.j()}Sd(){const l=this.Ic;l.ms(this.Kc);l.fZ(this.ck);l.uC(this.Sh);l.$K(this.Pg);l.JK(this.Se);l.YK(this.Te);l.ml(this.Wa);l.SK(a[this.Qe]);l.iL(g[this.ye]);l.$Z(this.lj?"word":"character")}SD(){const l=this.m();this.Ic.vC(this.ej*l.gV());var p=l.aa();p=p.Cj()*p.rv(l.Kf());this.Ic.Uc(l.ea(),l.da(),p)}df(l){var p=this.m();this.SD();const n=
this.Ic.Ie();if(n){var t=p.aa();if(0!==p.Ea()||0!==p.aa().Ea()||0!==p.Kf()||p.hf())l.nf(n),p.hf()?this.hD(p,l):this.iD(p,l);else{p=p.Tk();const [q,u]=t.Uo(p.wb,p.xb),[v,A]=t.Uo(p.ec,p.fc);p=q-Math.round(q);const y=u-Math.round(u);c.set(q,u,v,A);c.offset(-p,-y);d.Ok(c);const [E,x]=l.jJ(l.Hr());this.g.Y.rC(l,E,x);l.nf(n);l.jl(d,this.Ic.Zd);t.MD(l)}}}iD(l,p){l=l.Tk();this.g.Ll&&(l=this.cN(l));p.jl(l,this.Ic.Zd)}hD(l,p){const n=l.oJ();if(l.IJ()){l.Tu(c,d,!1);let t=d;this.g.Ll&&(t=this.cN(t));n.hI(l.Hi(),
t,this.Ic.Zd);l.yC(!1)}n.df(p)}cN(l){const p=l.wb-Math.round(l.wb),n=l.xb-Math.round(l.xb);if(0===p&&0===n)return l;d.wa(l);d.offset(-p,-n);return d}ed(){const l={t:this.Kc,c:this.Wa.toJSON(),fn:this.Sh,ps:this.ej};this.ck&&(l.bbc=this.ck);0!==this.Qe&&(l.ha=this.Qe);0!==this.ye&&(l.va=this.ye);this.lj||(l.wr=this.lj);0!==this.Pg&&(l.lho=this.Pg);this.Se&&(l.b=this.Se);this.Te&&(l.i=this.Te);-1!==this.gj&&(l.tw={st:this.Gq,en:this.gj,l:this.ju});return l}Rc(l){this.ul();this.Kc=l.t;this.Wa.Nk(l.c);
this.Sh=l.fn;this.ej=l.ps;this.ck=l.hasOwnProperty("bbc")?l.bbc:!1;this.Qe=l.hasOwnProperty("ha")?l.ha:0;this.ye=l.hasOwnProperty("va")?l.va:0;this.lj=l.hasOwnProperty("wr")?l.wr:!0;this.Pg=l.hasOwnProperty("lho")?l.lho:0;this.Se=l.hasOwnProperty("b")?l.b:!1;this.Te=l.hasOwnProperty("i")?l.i:!1;l.hasOwnProperty("tw")&&(l=l.tw,this.Gq=l.st,this.gj=l.en,this.ju=l.l);this.Sd();-1!==this.gj&&this.Dg()}Zb(l){switch(l){case 0:return this.Kc;case 1:return this.ck;case 2:return this.Sh;case 3:return this.ej;
case 4:return this.Pg;case 5:return this.Se;case 6:return this.Te;case 7:return b[0]=this.Wa.Sa,b[1]=this.Wa.Ua,b[2]=this.Wa.Ta,b;case 8:return this.Qe;case 9:return this.ye;case 10:return this.lj?1:0}}Rf(l,p){switch(l){case 0:if(this.Kc===p)break;this.Kc=p;this.Sd();break;case 1:if(this.ck===!!p)break;this.ck=!!p;this.Sd();break;case 2:if(this.Sh===p)break;this.Sh=p;this.Sd();break;case 3:if(this.ej===p)break;this.ej=p;this.Sd();break;case 4:if(this.Pg===p)break;this.Pg=p;this.Sd();break;case 5:if(this.Se===
!!p)break;this.Se=!!p;this.Sd();break;case 6:if(this.Te===!!p)break;this.Te=!!p;this.Sd();break;case 7:l=this.Wa;if(l.Sa===p[0]&&l.Ua===p[1]&&l.Ta===p[2])break;this.Wa.Lu(p[0],p[1],p[2]);this.Sd();break;case 8:if(this.Qe===p)break;this.Qe=p;this.Sd();break;case 9:if(this.ye===p)break;this.ye=p;this.Sd();break;case 10:this.lj!==(0===p)&&(this.lj=0===p,this.Sd())}}hx(l){this.Kc!==l&&(this.Kc=l,this.Ic.ms(l),this.g.ca())}X5(l,p){this.hx(l);this.Gq=this.g.zB();this.gj=this.Gq+p/this.Ia().aU();this.ju=
e.Sk.nL(l).length;this.Ic.sC(0);this.Dg()}ul(){this.gj=this.Gq=-1;this.ju=0;this.Ic.sC(-1);this.yl()}L1(){-1!==this.gj&&(this.ul(),this.Ja(e.C.Text.K.hK),this.g.ca())}y5(l){this.Sh!==l&&(this.Sh=l,this.Ic.uC(l),this.g.ca())}q5(l){l=!!l;this.Se!==l&&(this.Se=l,this.Ic.JK(l),this.g.ca())}I5(l){l=!!l;this.Te!==l&&(this.Te=l,this.Ic.YK(l),this.g.ca())}z5(l){this.ej!==l&&(this.ej=l,this.g.ca())}BN(l){this.Pg!==l&&(this.Pg=l,this.Sd(),this.g.ca())}C5(l){this.Qe!==l&&(this.Qe=l,this.Sd(),this.g.ca())}HN(l){this.ye!==
l&&(this.ye=l,this.Sd(),this.g.ca())}S5(l){l=!!l;this.lj!==l&&(this.lj=l,this.Sd(),this.g.ca())}Pd(){var l=this.g.zB();l>=this.gj?(this.ul(),this.Ja(e.C.Text.K.hK),this.g.ca()):(l=e.q9(this.Gq,this.gj,l,this.ju),l=Math.floor(l),l!==this.Ic.zn&&(this.Ic.sC(l),this.g.ca()))}Yk(){return self.RV}};const k=new WeakMap,h=new Map([["top",0],["center",1],["bottom",2]]);self.RV=class extends self.Rv{constructor(){super();k.set(this,self.Or.ws().ra)}get text(){return k.get(this).Kc}set text(l){const p=k.get(this);
p.ul();p.hx(l)}set lineHeight(l){k.get(this).BN(l)}get lineHeight(){return k.get(this).Pg}set verticalAlign(l){l=h.get(l);if("undefined"===typeof l)throw Error("invalid mode");k.get(this).HN(l)}get verticalAlign(){return g[k.get(this).ye]}}}"use strict";{const e=self.B;e.C.Text.K={kS(b,a){return a?this.Kc===b:e.pm(this.Kc,b)},Jba(){return-1!==this.gj},hK(){return!0}}}"use strict";
{const e=self.B,b=e.A(e.Za);e.C.Text.nb={ms(a){this.ul();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.hx(a.toString())},u$(a){this.ul();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.hx(this.Kc+a)},Dga(a,g){this.ul();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.X5(a.toString(),g)},kfa(a,g){let c=!1,d=!1;switch(g){case 1:c=!0;break;case 2:d=!0;break;case 3:d=c=!0}if(a!==this.Sh||c!==this.Se||d!==this.Te)this.y5(a),this.q5(c),this.I5(d)},
vC(a){this.z5(a)},jfa(a){b.Yq(a);b.ia();this.Wa.om(b)||(this.Wa.lm(b),this.Ic.ml(this.Wa),this.g.ca())},Mfa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},oZ(a){this.m().kf(a);this.g.ca()},Cga(){this.L1()},$K(a){this.BN(a)},mfa(a){this.C5(a)},Lfa(a){this.HN(a)},Nfa(a){this.S5(0===a)}}}"use strict";
{const e=self.B;e.C.Text.Jb={Text(){return this.Kc},kda(){return this.ck?e.Sk.nL(this.Kc):this.Kc},uaa(){return this.Sh},vaa(){return this.ej},p_(){this.SD();return this.Ic.jV()},rga(){this.SD();return this.Ic.iV()},Uba(){return this.Pg}}}"use strict";{const e=self.B;e.C.Touch=class extends e.ep{constructor(b){super(b)}j(){super.j()}}}"use strict";
{const e=self.B;e.C.Touch.sl=class extends e.ow{constructor(a){super(a)}j(){super.j()}cd(){}Yk(){return self.SV}};let b=null;self.SV=class extends self.sJ{constructor(a){super(a);b=a;a.H().Jx.TH=this}requestPermission(a){const g=b.Gi().ra;if("orientation"===a)return g.BD(0);if("motion"===a)return g.BD(1);throw Error("invalid type");}}}"use strict";
{const e=self.B;e.C.Touch.Instance=class extends e.mw{constructor(b,a){super(b,"touch");this.Lc=new Map;this.Fy=this.hQ=!1;this.fy=this.Jg=this.Ig=this.FG=this.Hz=this.Fq=this.WD=this.VD=this.UD=this.ZD=this.YD=this.XD=this.ZF=this.YF=this.XF=this.ez=0;this.gz=[];a&&(this.hQ=a[0]);this.XH("permission-result",g=>this.U3(g));b=this.H().Db();this.Ed=new e.av(e.Nd.Ef(b,"pointerdown",g=>this.xD(g.data)),e.Nd.Ef(b,"pointermove",g=>this.yD(g.data)),e.Nd.Ef(b,"pointerup",g=>this.Ds(g.data,!1)),e.Nd.Ef(b,
"pointercancel",g=>this.Ds(g.data,!0)),e.Nd.Ef(b,"deviceorientation",g=>this.F3(g.data)),e.Nd.Ef(b,"deviceorientationabsolute",g=>this.G3(g.data)),e.Nd.Ef(b,"devicemotion",g=>this.E3(g.data)),e.Nd.Ef(b,"tick2",()=>this.zD()))}j(){this.Lc.clear();super.j()}xD(b){if("mouse"===b.pointerType)if(this.hQ)this.Fy=!0;else return;const a=b.pointerId;if(!this.Lc.has(a)){var g=b.pageX-this.g.Cm();b=b.pageY-this.g.Dm();var c=performance.now(),d=this.Lc.size;this.Fq=d;this.Hz=a;var k=e.A(e.C.Touch.u_);k.cl(c,
g,b,a,d);this.Lc.set(a,k);this.Ja(e.C.Touch.K.VX);this.Ja(e.C.Touch.K.gK);this.Ig=g;this.Jg=b;this.Ja(e.C.Touch.K.cY)}}yD(b){if("mouse"!==b.pointerType||this.Fy){var a=this.Lc.get(b.pointerId);if(a){var g=performance.now();2>g-a.ya()||a.Pj(g,b.pageX-this.g.Cm(),b.pageY-this.g.Dm(),b.width,b.height,b.pressure)}}}Ds(b,a){if("mouse"===b.pointerType)if(this.Fy)this.Fy=!1;else return;const g=performance.now();b=b.pointerId;const c=this.Lc.get(b);c&&(this.Fq=c.hg,this.Hz=c.xi(),this.Ja(e.C.Touch.K.UX),
this.Ja(e.C.Touch.K.fK),a||(a=c.e_(g),"single-tap"===a?(this.Ja(e.C.Touch.K.bY),this.Ig=c.la(),this.Jg=c.ma(),this.Ja(e.C.Touch.K.eK)):"double-tap"===a&&(this.Ja(e.C.Touch.K.LX),this.Ig=c.la(),this.Jg=c.ma(),this.Ja(e.C.Touch.K.ZJ))),c.j(),this.Lc.delete(b))}BD(b){this.eN("request-permission",{type:b});return new Promise((a,g)=>{this.gz.push({type:b,resolve:a,reject:g})})}U3(b){const a=b.result,g=b.type;this.FG=g;b=this.gz.filter(c=>c.type===g);for(const c of b)c.resolve(a?"granted":"denied");this.gz=
this.gz.filter(c=>c.type!==g);a?(this.Ja(e.C.Touch.K.XX),0===g?this.g.bp():this.g.ll()):this.Ja(e.C.Touch.K.WX)}F3(b){"number"===typeof b.webkitCompassHeading?this.ez=b.webkitCompassHeading:b.absolute&&(this.ez=b.alpha);this.XF=b.alpha;this.YF=b.beta;this.ZF=b.gamma}G3(b){this.ez=b.alpha}E3(b){const a=b.acceleration;a&&(this.XD=a.x,this.YD=a.y,this.ZD=a.z);if(b=b.accelerationIncludingGravity)this.UD=b.x,this.VD=b.y,this.WD=b.z}zD(){const b=performance.now();let a=0;for(const g of this.Lc.values())g.ya()<=
b-50&&g.K5(b),g.d_(b)&&(this.Fq=g.hg,this.Hz=g.xi(),this.fy=a,this.Ja(e.C.Touch.K.PX),this.Ig=g.la(),this.Jg=g.ma(),this.Ja(e.C.Touch.K.QX),this.fy=0),++a}Ah(b){b=Math.floor(b);for(const a of this.Lc.values()){if(0===b)return a;--b}return null}zs(b,a){return 0<=b&&0<=a&&b<this.g.jU()&&a<this.g.iU()}}}"use strict";
{const e=self.B,b=[];e.C.Touch.K={gK(){return!0},fK(){return!0},KW(){return 0<this.Lc.size},cY(a){return a&&this.zs(this.Ig,this.Jg)?this.g.Kh.Aw(a,this.Ig,this.Jg):!1},UW(a){if(!a)return!1;const g=a.P();var c=g.ba();for(const d of c){c=d.m();const k=c.aa();for(const h of this.Lc.values()){if(!this.zs(h.la(),h.ma()))continue;const [l,p]=k.ri(h.la(),h.ma(),c.Kf());if(c.Do(l,p)){b.push(d);break}}}return b.length?(g.Yr(b),a.Ob(),e.D(b),!0):!1},Z$(a,g,c){return(a=this.Ah(a))?e.compare(a.Dj(),g,c):!1},
Oca(){return!0},kca(){return!0},W$(a,g,c){this.g.bp();return e.compare(0===a?this.XF:1===a?this.YF:this.ZF,g,c)},O$(a,g,c){this.g.ll();return e.compare(0===a?this.UD:1===a?this.VD:2===a?this.WD:3===a?this.XD:4===a?this.YD:this.ZD,g,c)},VX(a){a=Math.floor(a);return a===this.Fq},UX(a){a=Math.floor(a);return a===this.Fq},Raa(a){a=Math.floor(a);return this.Lc.size>=a+1},PX(){return!0},bY(){return!0},LX(){return!0},QX(a){return a&&this.zs(this.Ig,this.Jg)?this.g.Kh.Aw(a,this.Ig,this.Jg):!1},eK(a){return a&&
this.zs(this.Ig,this.Jg)?this.g.Kh.Aw(a,this.Ig,this.Jg):!1},ZJ(a){return a&&this.zs(this.Ig,this.Jg)?this.g.Kh.Aw(a,this.Ig,this.Jg):!1},XX(a){return this.FG===a},WX(a){return this.FG===a}}}"use strict";self.B.C.Touch.nb={Eda(e){this.BD(e)}};"use strict";
{const e=self.B;e.C.Touch.Jb={yga(){return this.Lc.size},UC(b){const a=this.Ah(this.fy);return a?a.Mo(this.g.Oa(),b,!0):0},CL(b){const a=this.Ah(this.fy);return a?a.Mo(this.g.Oa(),b,!1):0},Yga(b,a){return(b=this.Ah(b))?b.Mo(this.g.Oa(),a,!0):0},Zga(b,a){return(b=this.Ah(b))?b.Mo(this.g.Oa(),a,!1):0},R_(b,a){return(b=this.Lc.get(b))?b.Mo(this.g.Oa(),a,!0):0},S_(b,a){return(b=this.Lc.get(b))?b.Mo(this.g.Oa(),a,!1):0},U9(){const b=this.Ah(0);return b?b.la():0},X9(){const b=this.Ah(0);return b?b.ma():
0},V9(b){return(b=this.Ah(b))?b.la():0},Y9(b){return(b=this.Ah(b))?b.ma():0},W9(b){return(b=this.Lc.get(b))?b.la():0},Z9(b){return(b=this.Lc.get(b))?b.ma():0},Wfa(b){return(b=this.Ah(b))?b.Dj():0},Xfa(b){return(b=this.Lc.get(b))?b.Dj():0},o$(b){return(b=this.Ah(b))?e.Cf(b.Ea()):0},p$(b){return(b=this.Lc.get(b))?e.Cf(b.Ea()):0},daa(){this.g.bp();return this.ez},n$(){this.g.bp();return this.XF},C$(){this.g.bp();return this.YF},Faa(){this.g.bp();return this.ZF},b$(){this.g.ll();return this.UD},d$(){this.g.ll();
return this.VD},f$(){this.g.ll();return this.WD},a$(){this.g.ll();return this.XD},c$(){this.g.ll();return this.YD},e$(){this.g.ll();return this.ZD},zga(){return this.Fq},t_(){return this.Hz},Xga(b){return(b=this.Lc.get(b))?b.ea():0},Saa(b){return(b=this.Lc.get(b))?b.da():0},rda(b){return(b=this.Lc.get(b))?b.KP:0}}}"use strict";
{const e=self.B;let b=-1E3,a=-1E3,g=-1E4;e.C.Touch.u_=class extends e.${constructor(){super();this.KP=this.O=this.R=this.Uy=this.Ty=this.M=this.S=this.zz=this.yz=this.Sy=this.wc=this.Xl=this.hg=this.JP=0;this.Ly=this.bF=!1}j(){}cl(c,d,k,h,l){this.JP=h;this.hg=l;this.Xl=this.Sy=this.wc=c;this.yz=d;this.zz=k;this.S=d;this.M=k;this.Ty=d;this.Uy=k}Pj(c,d,k,h,l,p){this.Sy=this.wc;this.wc=c;this.Ty=this.S;this.Uy=this.M;this.S=d;this.M=k;this.R=h;this.O=l;this.KP=p;!this.Ly&&15<=e.Fk(this.yz,this.zz,this.S,
this.M)&&(this.Ly=!0)}xi(){return this.JP}ya(){return this.wc}K5(c){this.Sy=c}la(){return this.S}ma(){return this.M}Dj(){const c=e.Fk(this.S,this.M,this.Ty,this.Uy),d=(this.wc-this.Sy)/1E3;return 0<d?c/d:0}Ea(){return e.ru(this.Ty,this.Uy,this.S,this.M)}ea(){return this.R}da(){return this.O}d_(c){return this.bF?!1:500<=c-this.Xl&&!this.Ly&&15>e.Fk(this.yz,this.zz,this.S,this.M)?this.bF=!0:!1}e_(c){if(this.bF)return"";if(333>=c-this.Xl&&!this.Ly&&15>e.Fk(this.yz,this.zz,this.S,this.M)){if(666>=c-g&&
25>e.Fk(b,a,this.S,this.M))return a=b=-1E3,g=-1E4,"double-tap";b=this.S;a=this.M;g=c;return"single-tap"}return""}Mo(c,d,k){return"undefined"===typeof d?c.Cv(0).YR(this.S,this.M)[k?0:1]:(c=c.aa(d))?c.ri(this.S,this.M)[k?0:1]:0}}}"use strict";
{const e=self.B;e.Tb.jh=class extends e.DK{constructor(b){super(b);b=this.g.Db();this.Ed=new e.av(e.Nd.Ef(b,"pointerdown",a=>this.xD(a.data)),e.Nd.Ef(b,"pointermove",a=>this.yD(a.data)),e.Nd.Ef(b,"pointerup",a=>this.Ds(a.data,!1)),e.Nd.Ef(b,"pointercancel",a=>this.Ds(a.data,!0)))}j(){this.Ed.j();this.Ed=null;super.j()}xD(b){"mouse"===b.pointerType&&0!==b.button||this.M3(b.pointerId.toString(),b.pageX-this.g.Cm(),b.pageY-this.g.Dm())}yD(b){0!==(b.lastButtons&1)&&0===(b.buttons&1)?this.XM(b.pointerId.toString()):
this.N3(b.pointerId.toString(),b.pageX-this.g.Cm(),b.pageY-this.g.Dm())}Ds(b){"mouse"===b.pointerType&&0!==b.button||this.XM(b.pointerId.toString())}async M3(b,a,g){var c=this.ba();let d=null,k=null,h=0,l=0;for(const p of c){c=p.XA(e.Tb.jh);if(!c.ug()||c.Zi)continue;const n=p.m(),t=n.aa(),[q,u]=t.ri(a,g,n.Kf());if(!n.Do(q,u))continue;if(!d){d=p;k=c;h=q;l=u;continue}const v=d.m();if(t.xa()>v.aa().xa()||t.xa()===v.aa().xa()&&n.qh()>v.qh())d=p,k=c,h=q,l=u}d&&await k.H3(b,h,l)}N3(b,a,g){var c=this.ba();
for(const d of c){c=d.XA(e.Tb.jh);if(!c.ug()||!c.Zi||c.Zi&&c.IE!==b)continue;const k=d.m(),h=k.aa(),[l,p]=h.ri(a,g,k.Kf());c.T3(l,p)}}async XM(b){var a=this.ba();for(const g of a)a=g.XA(e.Tb.jh),a.Zi&&a.IE===b&&await a.bN()}}}"use strict";{const e=self.B;e.Tb.jh.sl=class extends e.FK{constructor(b){super(b)}j(){super.j()}cd(){}}}"use strict";
{const e=self.B;e.Tb.jh.Instance=class extends e.EK{constructor(b,a){super(b);this.Zi=!1;this.mO=this.lO=0;this.IE="<none>";this.Wj=0;this.Xb=!0;a&&(this.Wj=a[0],this.Xb=a[1])}j(){super.j()}ed(){return{a:this.Wj,e:this.Xb}}Rc(b){this.Wj=b.a;this.Xb=b.e;this.Zi=!1}ug(){return this.Xb}async H3(b,a,g){const c=this.m();this.lO=a-c.la();this.mO=g-c.ma();this.Zi=!0;this.IE=b;await this.je(e.Tb.jh.K.MX)}T3(b,a){const g=this.m();b-=this.lO;a-=this.mO;if(0===this.Wj){if(g.la()!==b||g.ma()!==a)g.Nj(b,a),g.Fa()}else 1===
this.Wj?g.la()!==b&&(g.Tf(b),g.Fa()):2===this.Wj&&g.ma()!==a&&(g.zg(a),g.Fa())}async bN(){this.Zi=!1;await this.je(e.Tb.jh.K.NX)}Zb(b){switch(b){case 0:return this.Wj;case 1:return this.Xb}}Rf(b,a){switch(b){case 0:this.Wj=a;break;case 1:this.Xb=!!a}}}}"use strict";self.B.Tb.jh.K={sba(){return this.Zi},MX(){return!0},NX(){return!0},ug(){return this.Xb}};"use strict";self.B.Tb.jh.nb={tC(e){this.Xb=!!e;this.Xb||(this.Zi=!1)},Xea(e){this.Wj=e},naa(){this.Zi&&this.bN()}};"use strict";
self.B.Tb.jh.Jb={};"use strict";{const e=self.B;e.Tb.Rk=class extends e.DK{constructor(b){super(b)}j(){super.j()}}}"use strict";{const e=self.B;e.Tb.Rk.sl=class extends e.FK{constructor(b){super(b)}j(){super.j()}cd(){}}}"use strict";
{const e=self.B;e.Tb.Rk.Instance=class extends e.EK{constructor(b,a){super(b);this.rn=this.qn=2;this.yp=this.zp=0;this.Xb=!0;b=this.Z.m().zb();this.Oz=b.L;this.Rz=b.J;this.Pz=this.g.pe-b.L;this.Qz=this.g.oe-b.J;this.Ot=this.g.pe-b.T;this.Ns=this.g.oe-b.N;a&&(this.qn=a[0],this.rn=a[1],this.zp=a[2],this.yp=a[3],this.Xb=!!a[4]);a=this.g.Db();this.Ed=new e.av(e.Nd.Ef(a,"layoutchange",()=>this.S3()));this.Xb&&this.Dg()}j(){super.j()}ed(){return{xl:this.Oz,yt:this.Rz,xr:this.Pz,yb:this.Qz,rd:this.Ot,bd:this.Ns,
al:this.qn,at:this.rn,ar:this.zp,ab:this.yp,e:this.Xb}}Rc(b){this.Oz=b.xl;this.Rz=b.yt;this.Pz=b.xr;this.Qz=b.yb;this.Ot=b.rd;this.Ns=b.bd;this.qn=b.al;this.rn=b.at;this.zp=b.ar;this.yp=b.ab;(this.Xb=b.e)?this.Dg():this.yl()}mx(){if(this.Xb){var b=this.Z.m(),a=b.aa().Yc;if(0===this.qn){var g=a.L+this.Oz-b.zb().L;0!==g&&(b.dw(g),b.Fa())}else 1===this.qn&&(g=a.T-this.Pz-b.zb().L,0!==g&&(b.dw(g),b.Fa()));0===this.rn?(g=a.J+this.Rz-b.zb().J,0!==g&&(b.fw(g),b.Fa())):1===this.rn&&(g=a.N-this.Qz-b.zb().J,
0!==g&&(b.fw(g),b.Fa()));1===this.zp&&(g=a.T-this.Ot-b.zb().T,0!==g&&(b.dw(b.Bi()*g),b.pf(Math.max(b.ea()+g),0),b.Fa(),this.Ot=a.T-b.zb().T));1===this.yp&&(g=a.N-this.Ns-b.zb().N,0!==g&&(b.fw(b.Ci()*g),b.lf(Math.max(b.da()+g,0)),b.Fa(),this.Ns=a.N-b.zb().N))}}Pd(){this.mx()}S3(){this.mx()}Zb(b){switch(b){case 0:return this.qn;case 1:return this.rn;case 2:return this.zp;case 3:return this.yp;case 4:return this.Xb}}Rf(b,a){switch(b){case 0:this.qn=a;break;case 1:this.rn=a;break;case 2:this.zp=a;break;
case 3:this.yp=a;break;case 4:(this.Xb=!!a)?this.Dg():this.yl()}}}}"use strict";self.B.Tb.Rk.K={ug(){return this.Xb}};"use strict";self.B.Tb.Rk.nb={tC(e){this.Xb&&0===e?(this.Xb=!1,this.yl()):this.Xb||0===e||(e=this.Z.m().zb(),this.Oz=e.L,this.Rz=e.J,this.Pz=this.g.pe-e.L,this.Qz=this.g.oe-e.J,this.Ot=this.g.pe-e.T,this.Ns=this.g.oe-e.N,this.Xb=!0,this.Dg())}};"use strict";self.B.Tb.Rk.Jb={};
{const e=self.B;self.gI=function(){return[e.C.ib,e.Tb.jh,e.C.Function,e.C.Text,e.Tb.Rk,e.C.Touch,e.C.ib.K.AW,e.C.Xa.nb.ZZ,e.C.ib.Jb.UC,e.C.ib.Jb.CL,e.C.ib.nb.VK,e.C.ib.nb.KZ,e.C.Xa.K.jS,e.C.ib.Jb.O_,e.C.ib.nb.iZ,e.C.Text.nb.ms,e.C.Xa.K.lS,e.C.Xa.Jb.G9,e.C.ib.nb.j_,e.C.ib.K.mS,e.C.Xa.Jb.W8,e.C.Text.nb.yg,e.C.ib.K.NW,e.C.Function.K.Tr,e.C.ib.K.iY,e.C.Function.Jb.fY,e.C.ib.nb.OS,e.C.Xa.K.aK,e.C.Function.nb.CallFunction,e.C.ib.Jb.y_,e.C.ib.K.pI,e.C.Touch.K.eK,e.C.Touch.K.ZJ,e.C.Text.K.kS,e.C.Xa.K.DI,
e.C.Xa.nb.bZ,e.C.Xa.nb.RC,e.Tb.Rk.nb.tC,e.C.Touch.K.fK,e.C.Touch.Jb.t_,e.C.Xa.nb.BZ,e.C.Xa.Jb.V8,e.C.Xa.Jb.j9,e.C.Xa.Jb.k9,e.C.ib.nb.Tf,e.C.Text.Jb.UC,e.C.Text.Jb.p_,e.C.Function.nb.MZ,e.C.Touch.K.gK,e.C.Touch.K.UW,e.C.Touch.K.KW,e.C.Xa.K.LI,e.C.ib.Jb.BR,e.C.Touch.Jb.R_,e.C.Touch.Jb.S_,e.C.ib.nb.pf,e.C.Function.Jb.CA,e.C.Xa.nb.uI,e.C.ib.Jb.aX,e.C.Text.nb.VK,e.C.ib.nb.lf,e.C.ib.Jb.IV,e.C.Text.nb.lf,e.C.Text.nb.pf,e.C.ib.nb.qd,e.C.Text.nb.qd,e.C.Text.K.pI]};self.TR=[{lda:0},{Mga:0},{Lga:0},{g$:0},{Nga:0},
{Oga:0},{Vaa:0},{Waa:0},{Taa:0},{Uaa:0},{maa:0},{B$:0},{Naa:0},{Function:0},{Rk:0},{Zfa:0},{Touch:0},{Bea:0},{jca:0},{gca:0},{$fa:0},{Kga:0},{Tfa:0},{Uga:0},{Pba:0},{sga:0},{tga:0},{Oba:0},{Rfa:0},{Pfa:0},{Rca:0},{Qfa:0},{Sfa:0},{eha:0},{dha:0},{m$:0},{dga:0},{tda:0},{bca:0},{waa:0},{tca:0},{mda:0},{Qaa:0},{uga:0},{wda:0},{pga:0},{qga:0}]}"use strict";
{const e=self.B;function b(a,g){return"number"===typeof a&&"number"===typeof g?a/g:a}self.SR=[a=>{const g=a.X(0),c=a.X(1),d=a.X(2),k=a.X(3);return()=>e.Cf(e.ru(g.Vb(),c.Vb(),d.Vb(),k.Vb()))},a=>{const g=a.X(0),c=a.X(1),d=a.X(2),k=a.X(3);return()=>e.Fk(g.Vb(),c.Vb(),d.Vb(),k.Vb())/32},a=>{const g=a.X(0),c=a.X(1).Zf,d=a.X(2).Zf,k=a.X(3).Zf;return()=>g.nv()+Math.cos(e.lb(c.oc()))*(d.oc()/Math.pow(k.oc(),2))},a=>{const g=a.X(0),c=a.X(1).Zf,d=a.X(2).Zf,k=a.X(3).Zf;return()=>g.nv()+Math.sin(e.lb(c.oc()))*
(d.oc()/Math.pow(k.oc(),2))},a=>{const g=a.X(0),c=a.X(1);return()=>g.Vb()+c.nv()},a=>{const g=a.X(0),c=a.X(1),d=a.X(2),k=a.X(3);return()=>e.Fk(g.Vb(),c.Vb(),d.Vb(),k.Vb())},a=>{const g=a.X(0);return()=>g.Vb()/2},()=>"Reset",()=>0,a=>{const g=a.X(0).Zf;return()=>g.oc()},()=>-175,()=>-180,()=>1,a=>{const g=a.X(0).md();return()=>g()%4},a=>{const g=a.X(0).md();return()=>g()-500},()=>"RestFallObj",a=>{const g=a.X(0).md();return()=>g(0)},a=>{const g=a.X(0);return()=>g.nv()},()=>"Play",a=>{const g=a.X(0);
return()=>g.Vb()},()=>"Obj1",a=>{const g=a.X(0),c=a.X(1),d=a.X(2);return()=>g.Pc()/1520>10700/1520?(c.Pc()+300)/1520:d.Pc()/1520},()=>"Pause",a=>{const g=a.X(0).md();return()=>g()},()=>-1,a=>{const g=a.X(0).md(),c=a.X(1).md();return()=>1===g(0)?.5:.5===c(0)?1/3:1},a=>{const g=a.X(0).md(),c=a.X(1).md();return()=>g()+" - "+c()+" - (C) Wild Haired Science Teacher - whscience.org"},a=>{const g=a.X(0),c=a.X(1);return()=>g.Vb()+c.Vb()/2+2},()=>"UFRoundTo",a=>{const g=a.X(0).md(),c=a.X(1).md(),d=a.X(2).md();
return()=>{var k=Math.round(b(g(0),c(1))),h=d(1);return"number"===typeof k&&"number"===typeof h?k*h:k}},a=>{const g=a.X(0),c=a.X(1),d=a.X(2).md(),k=a.X(3),h=a.X(4).md(),l=a.X(5);return()=>e.Cf(e.ru(g.Vb(),c.Vb(),d(k.Pc()),h(l.Pc())))},a=>{const g=a.X(0).md(),c=a.X(1).md(),d=a.X(2),k=a.X(3).md(),h=a.X(4),l=a.X(5),p=a.X(6),n=a.X(7).Zf,t=a.X(8).Zf,q=a.X(9),u=a.X(10),v=a.X(11),A=a.X(12),y=a.X(13);return()=>e.ia(g("UFRoundTo",e.Fk(c(d.Pc()),k(h.Pc()),l.Vb(),p.Vb())*Math.cos(e.lb(n.oc()-t.oc())),q.Vb()/
(u.Pc()-v.Pc())*A.Pc()),0,y.Vb())},a=>{const g=a.X(0).md(),c=a.X(1),d=a.X(2),k=a.X(3),h=a.X(4),l=a.X(5),p=a.X(6);return()=>g("UFRoundTo",c.Pc()+d.Vb()/k.Vb()*(h.Pc()-l.Pc()),p.Pc())},()=>"SliderTextUpdate",a=>{const g=a.X(0),c=a.X(1),d=a.X(2),k=a.X(3),h=a.X(4);return()=>g.Vb()*((c.Pc()-d.Pc())/(k.Pc()-h.Pc()))},a=>{const g=a.X(0),c=a.X(1),d=a.X(2);return()=>{var k=g.Pc(),h=c.Pc();return("string"===typeof k||"string"===typeof h?("number"===typeof k?(Math.round(1E10*k)/1E10).toString():k)+("number"===
typeof h?(Math.round(1E10*h)/1E10).toString():h):k&&h?1:0)+d.Pc()}}]};
