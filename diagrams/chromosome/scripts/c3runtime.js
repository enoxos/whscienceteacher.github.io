// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function a(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+C*I;f[1]=B*E+l*I;f[2]=x*K+C*t;f[3]=B*K+l*t;return f}function b(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function e(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+C*N;f[1]=B*K+E*N;f[2]=x*Q+C*S;f[3]=B*Q+E*S;f[4]=x*W+C*t+I;f[5]=B*W+E*t+l;return f}function c(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-
t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];return f}function h(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*C+W*K+V*l;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*C+ia*K+ca*l;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*C+la*K+
t*l;return f}function g(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];return f}function k(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=l[8],W=l[9],V=l[10],ea=l[11],ia=l[12],ca=l[13],oa=l[14];l=l[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*C+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*l;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*C+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*l;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*C+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*l;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*C+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*l;return f}function p(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=x+x,K=B+B,N=C+C;l=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;C*=N;I*=E;K*=E;E*=N;f[0]=1-(S+C);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(l+C);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(l+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,l){f[0]=l[12];f[1]=l[13];f[2]=l[14];return f}function u(f,l){var t=l[4],x=l[5],B=l[6],C=l[8],E=l[9],I=l[10];f[0]=Math.hypot(l[0],l[1],l[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(C,
E,I);return f}function w(f,l){var t=new qa(3);u(t,l);var x=1/t[0],B=1/t[1],C=1/t[2],E=l[0]*x;t=l[1]*B;var I=l[2]*C,K=l[4]*x,N=l[5]*B,Q=l[6]*C;x*=l[8];B*=l[9];l=l[10]*C;C=E+N+l;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>l?(E=2*Math.sqrt(1+E-N-l),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>l?(E=2*Math.sqrt(1+N-E-l),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+l-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,l,t,x,B,C,E){var I=1/(l-t),K=1/(x-B),N=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=(E+C)*N;f[15]=1;return f}function y(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];
f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];f[9]=l[9]-t[9];f[10]=l[10]-t[10];f[11]=l[11]-t[11];f[12]=l[12]-t[12];f[13]=l[13]-t[13];f[14]=l[14]-t[14];f[15]=l[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,l,t){var x=new qa(3);x[0]=f;x[1]=l;x[2]=t;return x}function F(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];return f}function H(f,l,t){f[0]=
l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];return f}function J(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];return f}function M(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2])}function P(f,l){var t=l[0]-f[0],x=l[1]-f[1];f=l[2]-f[2];return t*t+x*x+f*f}function R(f){var l=f[0],t=f[1];f=f[2];return l*l+t*t+f*f}function T(f,l){var t=l[0],x=l[1],B=l[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f}function Z(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]}function X(f,
l,t){var x=l[0],B=l[1];l=l[2];var C=t[0],E=t[1];t=t[2];f[0]=B*t-l*E;f[1]=l*C-x*t;f[2]=x*E-B*C;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l}function va(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B}function ta(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f}function ya(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,l,t){f[0]=l[0]+t[0];
f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];return f}function Sa(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function Ta(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];f[3]=l[3]*t[3];return f}function Ua(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];f[3]=l[3]/t[3];return f}function Wa(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f}function eb(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2],l[3]-f[3])}function fb(f,l){var t=l[0]-f[0],
x=l[1]-f[1],B=l[2]-f[2];f=l[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var l=f[0],t=f[1],x=f[2];f=f[3];return l*l+t*t+x*x+f*f}function ib(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t*t+x*x+B*B+l*l;0<C&&(C=1/Math.sqrt(C));f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=l*C;return f}function Ya(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]*l[3]}function vb(f,l,t,x){var B=l[0],C=l[1],E=l[2];l=l[3];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-C);f[2]=E+x*(t[2]-E);f[3]=l+
x*(t[3]-l);return f}function wb(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,l,t){t*=.5;var x=Math.sin(t);f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=Math.cos(t);return f}function yb(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+l*E+B*K-C*I;f[1]=B*t+l*I+C*E-x*K;f[2]=C*t+l*K+x*I-B*E;f[3]=l*t-x*E-B*I-C*K;return f}function zb(f,l,t){t*=.5;var x=l[0],B=
l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+l*E;f[1]=B*t+C*E;f[2]=C*t-B*E;f[3]=l*t-x*E;return f}function Ab(f,l,t){t*=.5;var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-C*E;f[1]=B*t+l*E;f[2]=C*t+x*E;f[3]=l*t-B*E;return f}function Bb(f,l,t){t*=.5;var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=C*t+l*E;f[3]=l*t-C*E;return f}function Cb(f,l){var t=l[0],x=l[1],B=l[2],C=Math.sqrt(t*t+x*x+B*B);l=Math.exp(l[3]);var E=
0<C?l*Math.sin(C)/C:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=l*Math.cos(C);return f}function Db(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=Math.sqrt(t*t+x*x+B*B);C=0<C?Math.atan2(C,l)/C:0;f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=.5*Math.log(t*t+x*x+B*B+l*l);return f}function kb(f,l,t,x){var B=l[0],C=l[1],E=l[2];l=l[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+C*K+E*N+l*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*C+x*K;f[2]=Q*E+x*N;f[3]=Q*l+x*t;return f}function Eb(f,l){var t=l[0]+l[4]+l[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(l[5]-l[7])*t,f[1]=(l[6]-l[2])*t,f[2]=(l[1]-l[3])*t;else{var x=0;l[4]>l[0]&&(x=1);l[8]>l[3*x+x]&&(x=2);var B=(x+1)%3,C=(x+2)%3;t=Math.sqrt(l[3*x+x]-l[3*B+B]-l[3*C+C]+1);f[x]=.5*t;t=.5/t;f[3]=(l[3*B+C]-l[3*C+B])*t;f[B]=(l[3*B+x]+l[3*x+B])*t;f[C]=(l[3*C+x]+l[3*x+C])*t}return f}function Fb(f,l,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var C=l[0],E=l[1],I=l[2];l=l[3];f[0]=C;
f[1]=E;f[2]=I;f[3]=l;f[4]=x*l+B*I-t*E;f[5]=B*l+t*C-x*I;f[6]=t*l+x*E-B*C;f[7]=-x*C-B*E-t*I;return f}function Gb(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];return f}function lb(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=l[4],W=l[5],V=l[6];l=l[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-C*ia;f[1]=B*t+E*ia+C*ea-x*ca;f[2]=C*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-C*ca;f[4]=x*Q+E*I+B*N-C*K+S*t+l*ea+W*ca-V*ia;f[5]=B*Q+E*K+C*I-x*
N+W*t+l*ia+V*ea-S*ca;f[6]=C*Q+E*N+x*K-B*I+V*t+l*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-C*N+l*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];return f}function nb(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];return f}function Za(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];return f}function ob(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1])}function Qa(f,l){var t=l[0]-f[0];f=l[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var l=f[0];f=f[1];return l*l+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get mha(){return qa},hna:Ma,lha:"zyx",Xta:function(f){qa=f},gua:function(f){return f*Mb},yd:function(f,l){return Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l},ra:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Rf:function(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B},set:function(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f},fX:function(f,l){if(f===l){var t=l[1];f[1]=l[2];f[2]=t}else f[0]=l[0],
f[1]=l[2],f[2]=l[1],f[3]=l[3];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t*l-B*x;if(!C)return null;C=1/C;f[0]=l*C;f[1]=-x*C;f[2]=-B*C;f[3]=t*C;return f},YV:function(f,l){var t=l[0];f[0]=l[3];f[1]=-l[1];f[2]=-l[2];f[3]=t;return f},oL:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=B*t+l*E;f[2]=x*-E+C*t;f[3]=B*-E+l*t;return f},scale:function(f,l,t){var x=l[1],B=l[2],C=l[3],
E=t[0];t=t[1];f[0]=l[0]*E;f[1]=x*E;f[2]=B*t;f[3]=C*t;return f},tD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;return f},sL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=l[1];return f},Jm:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},rL:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},nla:function(f,l,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,l,t]},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+
t[3];return f},Km:b,Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]},yd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var C=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},HL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f},IL:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},lo:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(6);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];return l},ra:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Rf:function(f,
l,t,x,B,C){var E=new qa(6);E[0]=f;E[1]=l;E[2]=t;E[3]=x;E[4]=B;E[5]=C;return E},set:function(f,l,t,x,B,C,E){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4];l=l[5];var I=t*C-x*B;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*l-C*E)*I;f[5]=(x*E-t*l)*I;return f},oL:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+C*K;f[1]=B*t+E*K;f[2]=x*-K+C*t;f[3]=B*-K+E*t;f[4]=I;f[5]=l;return f},scale:function(f,l,t){var x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=t[0];t=t[1];f[0]=l[0]*K;f[1]=x*K;f[2]=B*t;f[3]=C*t;f[4]=E;f[5]=I;return f},translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=x*K+C*t+I;f[5]=B*K+E*t+l;return f},tD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;f[4]=0;f[5]=0;return f},sL:function(f,l){f[0]=l[0];f[1]=
0;f[2]=0;f[3]=l[1];f[4]=0;f[5]=0;return f},tL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=l[0];f[5]=l[1];return f},Jm:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},rL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];return f},Km:c,HL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;return f},
IL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;return f},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]},yd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4];f=f[5];var I=l[0],K=l[1],N=l[2],Q=l[3],S=l[4];l=l[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(C-Q)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},lo:e,sub:c}),Qb=Object.freeze({__proto__:null,create:h,Hfa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[4];f[4]=l[5];f[5]=l[6];f[6]=l[8];f[7]=l[9];f[8]=l[10];return f},clone:function(f){var l=new qa(9);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=f[8];return l},ra:function(f,
l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},Rf:function(f,l,t,x,B,C,E,I,K){var N=new qa(9);N[0]=f;N[1]=l;N[2]=t;N[3]=x;N[4]=B;N[5]=C;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,l,t,x,B,C,E,I,K,N){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Cx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},fX:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[5];f[1]=l[3];f[2]=l[6];f[3]=t;f[5]=
l[7];f[6]=x;f[7]=B}else f[0]=l[0],f[1]=l[3],f[2]=l[6],f[3]=l[1],f[4]=l[4],f[5]=l[7],f[6]=l[2],f[7]=l[5],f[8]=l[8];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=l[8];var Q=l*E-I*N,S=-l*C+I*K,W=N*C-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-l*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(l*t-B*K)*V;f[5]=(-I*t+B*C)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*C)*V;return f},YV:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=
l[8];f[0]=E*l-I*N;f[1]=B*N-x*l;f[2]=x*I-B*E;f[3]=I*K-C*l;f[4]=t*l-B*K;f[5]=B*C-t*I;f[6]=C*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*C;return f},oL:function(f){var l=f[3],t=f[4],x=f[5],B=f[6],C=f[7],E=f[8];return f[0]*(E*t-x*C)+f[1]*(-E*l+x*B)+f[2]*(C*l-t*B)},multiply:m,translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*C+t*K+l;return f},rotate:function(f,l,t){var x=l[0],B=
l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*C+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*C;f[6]=N;f[7]=Q;f[8]=l;return f},scale:function(f,l,t){var x=t[0];t=t[1];f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=t*l[3];f[4]=t*l[4];f[5]=t*l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},tL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=l[0];f[7]=l[1];f[8]=1;return f},tD:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=
t;f[2]=0;f[3]=-t;f[4]=l;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},sL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=l[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Pra:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=0;f[3]=l[2];f[4]=l[3];f[5]=0;f[6]=l[4];f[7]=l[5];f[8]=1;return f},Ifa:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=l;E*=l;l*=I;f[0]=1-x-B;f[3]=K-l;f[6]=N+E;f[1]=K+l;f[4]=1-t-B;f[7]=Q-C;f[2]=N-E;f[5]=Q+C;f[8]=1-t-x;return f},ata:function(f,
l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*l-V*ea;var Ca=S*ca-W*ia;S=S*l-V*ia;W=W*l-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-C*Ca)*V;f[4]=(t*W-B*Q+C*Ba)*V;f[5]=(x*Q-t*S-C*Aa)*V;f[6]=(ia*za-ca*pa+l*sa)*V;f[7]=(ca*ra-
ea*za-l*la)*V;f[8]=(ea*pa-ia*ra+l*oa)*V;return f},MW:function(f,l,t){f[0]=2/l;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Jm:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},rL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];
return f},Km:g,HL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;return f},IL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;return f},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]},yd:function(f,l){var t=f[0],
x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=l[0],S=l[1],W=l[2],V=l[3],ea=l[4],ia=l[5],ca=l[6],oa=l[7];l=l[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},lo:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var l=new qa(16);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=
f[8];l[9]=f[9];l[10]=f[10];l[11]=f[11];l[12]=f[12];l[13]=f[13];l[14]=f[14];l[15]=f[15];return l},ra:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];f[9]=l[9];f[10]=l[10];f[11]=l[11];f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=l[15];return f},Rf:function(f,l,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=l;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=C;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,l,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Cx:k,fX:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[3],C=l[6],E=l[7],I=l[11];f[1]=l[4];f[2]=l[8];f[3]=l[12];f[4]=t;f[6]=l[9];f[7]=l[13];f[8]=x;f[9]=C;f[11]=l[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=l[0],f[1]=l[4],f[2]=l[8],f[3]=l[12],f[4]=l[1],f[5]=l[5],f[6]=l[9],f[7]=l[13],f[8]=l[2],f[9]=l[6],f[10]=l[10],f[11]=l[14],
f[12]=l[3],f[13]=l[7],f[14]=l[11],f[15]=l[15];return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-C*Fa)*Da;f[2]=(ia*za-ca*pa+l*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+C*Ba)*Da;f[6]=(ca*ra-ea*za-l*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-C*Aa)*Da;f[10]=(ea*pa-ia*ra+l*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},YV:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-C*Fa;f[2]=ia*za-ca*pa+l*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+C*Ba;f[6]=ca*ra-ea*za-l*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-C*Aa;f[10]=ea*pa-ia*ra+l*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},oL:function(f){var l=f[0],t=f[1],x=f[2],
B=f[4],C=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=l*C-t*B,ea=l*E-x*B,ia=t*E-x*C,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(l*la-t*oa+x*ca)-f[3]*(B*la-C*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,l,t){var x=t[0],B=t[1];t=t[2];if(l===f)f[12]=l[0]*x+l[4]*B+l[8]*t+l[12],f[13]=l[1]*x+l[5]*B+l[9]*t+l[13],f[14]=l[2]*x+l[6]*B+l[10]*t+l[14],f[15]=l[3]*x+l[7]*B+l[11]*t+l[15];else{var C=l[0];var E=l[1];var I=l[2];var K=l[3];var N=l[4];var Q=l[5];
var S=l[6];var W=l[7];var V=l[8];var ea=l[9];var ia=l[10];var ca=l[11];f[0]=C;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=C*x+N*B+V*t+l[12];f[13]=E*x+Q*B+ea*t+l[13];f[14]=I*x+S*B+ia*t+l[14];f[15]=K*x+W*B+ca*t+l[15]}return f},scale:function(f,l,t){var x=t[0],B=t[1];t=t[2];f[0]=l[0]*x;f[1]=l[1]*x;f[2]=l[2]*x;f[3]=l[3]*x;f[4]=l[4]*B;f[5]=l[5]*B;f[6]=l[6]*B;f[7]=l[7]*B;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=
l[15];return f},rotate:function(f,l,t,x){var B=x[0],C=x[1];x=x[2];var E=Math.hypot(B,C,x);if(1E-6>E)return null;E=1/E;B*=E;C*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=l[0];E=l[1];var Q=l[2];var S=l[3];var W=l[4];var V=l[5];var ea=l[6];var ia=l[7];var ca=l[8];var oa=l[9];var la=l[10];var ra=l[11];var sa=B*B*N+K;var pa=C*B*N+x*I;var za=x*B*N-C*I;var Aa=B*C*N-x*I;var Ba=C*C*N+K;var Ca=x*C*N+B*I;var Fa=B*x*N+C*I;B=C*x*N-B*I;C=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*C;f[9]=E*Fa+V*B+oa*C;f[10]=Q*Fa+ea*B+la*C;f[11]=S*Fa+ia*B+ra*C;l!==f&&(f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);return f},RL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[4],C=l[5],E=l[6],I=l[7],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[4]=B*t+K*x;f[5]=C*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-C*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},SL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],C=l[1],E=l[2],I=l[3],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t-K*x;f[1]=C*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=C*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},TL:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],C=l[1],E=l[2],I=l[3],K=l[4],
N=l[5],Q=l[6],S=l[7];l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t+K*x;f[1]=C*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-C*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},tL:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=l[0];f[13]=l[1];f[14]=l[2];f[15]=1;return f},sL:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=l[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},tD:function(f,l,t){var x=t[0],B=t[1];t=t[2];var C=Math.hypot(x,B,t);if(1E-6>C)return null;C=1/C;x*=C;B*=C;t*=C;C=Math.sin(l);l=Math.cos(l);var E=1-l;f[0]=x*x*E+l;f[1]=B*x*E+t*C;f[2]=t*x*E-B*C;f[3]=0;f[4]=x*B*E-t*C;f[5]=B*B*E+l;f[6]=t*B*E+x*C;f[7]=0;f[8]=x*t*E+B*C;f[9]=B*t*E-x*C;f[10]=t*t*E+l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Vra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Wra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Xra:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Jfa:p,Rra:function(f,l){var t=new qa(3),x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],
N=l[6],Q=l[7],S=x*x+B*B+C*C+E*E;0<S?(t[0]=2*(I*E+Q*x+K*C-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*C)/S,t[2]=2*(N*E+Q*C+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*C-N*B),t[1]=2*(K*E+Q*B+N*x-I*C),t[2]=2*(N*E+Q*C+I*B-K*x));p(f,l,t);return f},Mfa:q,hsa:u,gsa:w,Cra:function(f,l,t,x){l[0]=x[12];l[1]=x[13];l[2]=x[14];var B=x[0],C=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];l=x[9];x=x[10];t[0]=Math.hypot(B,C,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,l,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;C*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;l*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-l)/x,f[1]=(Q-E)/x,f[2]=(C-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-l)/x,f[0]=.25*x,f[1]=(C+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(C+I)/x,f[1]=.25*x,f[2]=(N+l)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(C-I)/x,f[0]=(Q+E)/x,f[1]=(N+l)/x,f[2]=.25*x);return f},Sra:function(f,l,t,x){var B=l[0],C=l[1],E=l[2],I=l[3],K=B+B,N=C+C,Q=E+E;l=B*K;var S=B*N;B*=Q;var W=C*N;C*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(l+E))*V;f[6]=(C+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(C-K)*x;f[10]=(1-(l+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Tra:function(f,l,t,x,B){var C=l[0],E=l[1],I=l[2],K=l[3],N=C+C,Q=E+E,S=I+I;l=C*N;var W=C*Q,V=C*S;C=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(C+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(l+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;l=(1-(l+C))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=l;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+l*B);f[15]=1;return f},Ifa:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=l;E*=l;l*=I;f[0]=1-x-B;f[1]=K+l;f[2]=N-E;f[3]=0;f[4]=K-l;f[5]=1-t-B;f[6]=Q+C;f[7]=0;f[8]=N+E;f[9]=Q-C;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Kfa:function(f,l,t,x,B,C,E){var I=1/(t-l),K=1/(B-
x),N=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*K;f[6]=0;f[7]=0;f[8]=(t+l)*I;f[9]=(B+x)*K;f[10]=(E+C)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*N;f[15]=0;return f},mta:r,perspective:r,nta:function(f,l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},lta:function(f,l,t,x){var B=Math.tan(l.mua*Math.PI/180),C=Math.tan(l.Era*Math.PI/
180),E=Math.tan(l.Qsa*Math.PI/180);l=Math.tan(l.Hta*Math.PI/180);var I=2/(E+l),K=2/(B+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-l)*I*.5);f[9]=(B-C)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},jta:v,vga:v,kta:function(f,l,t,x,B,C,E){var I=1/(l-t),K=1/(x-B);E=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=C*E;f[15]=1;return f},jga:function(f,l,t,x){var B=
l[0],C=l[1];l=l[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(l-Q))return k(f);t=B-N;x=C-x;N=l-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*C+E*l);f[13]=
-(I*B+W*C+V*l);f[14]=-(t*B+x*C+N*l);f[15]=1;return f},cua:function(f,l,t,x){var B=l[0],C=l[1];l=l[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=C-t[1];t=l-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=C;f[14]=l;f[15]=1;return f},Jm:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},rL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];f[9]=l[9]+t[9];f[10]=l[10]+t[10];f[11]=l[11]+t[11];f[12]=l[12]+t[12];f[13]=l[13]+t[13];
f[14]=l[14]+t[14];f[15]=l[15]+t[15];return f},Km:y,HL:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12]*t;f[13]=l[13]*t;f[14]=l[14]*t;f[15]=l[15]*t;return f},IL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;f[9]=l[9]+t[9]*x;f[10]=l[10]+t[10]*x;f[11]=
l[11]+t[11]*x;f[12]=l[12]+t[12]*x;f[13]=l[13]+t[13]*x;f[14]=l[14]+t[14]*x;f[15]=l[15]+t[15]*x;return f},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},yd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=l[0],
la=l[1],ra=l[2],sa=l[3],pa=l[4],za=l[5],Aa=l[6],Ba=l[7],Ca=l[8],Fa=l[9],Ja=l[10],Ka=l[11],Da=l[12],Hb=l[13],Ib=l[14];l=l[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},lo:n,sub:y}),rb=function(){var f=A();return function(l,t,x,B,C,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],C(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2];return l}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var l=new qa(3);l[0]=f[0];l[1]=f[1];l[2]=f[2];return l},length:G,Rf:z,ra:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];return f},set:function(f,l,
t,x){f[0]=l;f[1]=t;f[2]=x;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];return f},Km:F,multiply:H,Em:J,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],
t[2]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f},UL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;return f},zx:M,$W:P,FD:R,GW:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];return f},normalize:T,io:Z,nL:X,Xd:function(f,l,t,x){var B=l[0],C=l[1];l=l[2];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-
C);f[2]=l+x*(t[2]-l);return f},Oga:function(f,l,t,x){var B=Math.acos(Math.min(Math.max(Z(l,t),-1),1)),C=Math.sin(B),E=Math.sin((1-x)*B)/C;x=Math.sin(x*B)/C;f[0]=E*l[0]+x*t[0];f[1]=E*l[1]+x*t[1];f[2]=E*l[2]+x*t[2];return f},nsa:function(f,l,t,x,B,C){var E=C*C,I=E*(2*C-3)+1,K=E*(C-2)+C,N=E*(C-1);C=E*(3-2*C);f[0]=l[0]*I+t[0]*K+x[0]*N+B[0]*C;f[1]=l[1]*I+t[1]*K+x[1]*N+B[1]*C;f[2]=l[2]*I+t[2]*K+x[2]*N+B[2]*C;return f},lra:function(f,l,t,x,B,C){var E=1-C,I=E*E,K=C*C,N=I*E;I*=3*C;E*=3*K;C*=K;f[0]=l[0]*N+
t[0]*I+x[0]*E+B[0]*C;f[1]=l[1]*N+t[1]*I+x[1]*E+B[1]*C;f[2]=l[2]*N+t[2]*I+x[2]*E+B[2]*C;return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*l;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*l;return f},bM:function(f,l,t){var x=l[0],B=l[1];l=l[2];var C=t[3]*x+t[7]*B+t[11]*l+t[15];C=C||1;f[0]=(t[0]*x+t[4]*B+t[8]*l+t[12])/C;f[1]=(t[1]*x+t[5]*B+t[9]*l+t[13])/C;f[2]=(t[2]*x+t[6]*B+t[10]*l+t[14])/C;return f},$ga:function(f,l,t){var x=l[0],B=l[1];l=l[2];f[0]=x*t[0]+B*t[3]+
l*t[6];f[1]=x*t[1]+B*t[4]+l*t[7];f[2]=x*t[2]+B*t[5]+l*t[8];return f},aha:function(f,l,t){var x=t[0],B=t[1],C=t[2],E=l[0],I=l[1];l=l[2];var K=B*l-C*I,N=C*E-x*l,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-C*N);f[1]=I+N*t+2*(C*K-x*Q);f[2]=l+Q*t+2*(x*N-B*K);return f},RL:function(f,l,t,x){var B=[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);C[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},SL:function(f,l,t,x){var B=
[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);C[1]=B[1];C[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},TL:function(f,l,t,x){var B=[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);C[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);C[2]=B[2];f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},angle:function(f,l){var t=f[0],x=f[1],B=f[2],C=l[0],E=l[1],I=l[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(C*C+E*E+I*I)))&&Z(f,l)/t;return Math.acos(Math.min(Math.max(f,-1),1))},rX:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Jm:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]},yd:function(f,l){var t=f[0],x=f[1];f=f[2];var B=l[0],C=l[1];l=l[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:F,
lo:H,lW:J,jW:M,ZW:P,kt:G,ED:R,forEach:rb});var sb=function(){var f=ba();return function(l,t,x,B,C,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],f[3]=l[x+3],C(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2],l[x+3]=f[3];return l}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Rf:va,ra:ta,set:ya,add:Na,Km:Sa,multiply:Ta,Em:Ua,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);f[3]=Math.ceil(l[3]);return f},floor:function(f,
l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);f[3]=Math.floor(l[3]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);f[3]=Math.min(l[3],t[3]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],t[2]);f[3]=Math.max(l[3],t[3]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);f[3]=Math.round(l[3]);return f},scale:Wa,UL:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},zx:eb,$W:fb,length:Pa,FD:Va,GW:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=-l[3];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];f[3]=1/l[3];return f},normalize:ib,io:Ya,nL:function(f,l,t,x){var B=t[0]*x[1]-t[1]*x[0],C=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=l[0];var N=l[1],Q=l[2];l=l[3];f[0]=N*t-Q*K+l*I;f[1]=-(x*t)+
Q*E-l*C;f[2]=x*K-N*E+l*B;f[3]=-(x*I)+N*C-Q*B;return f},Xd:vb,random:function(f,l){l=l||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var C=2*Ma()-1;var E=2*Ma()-1;var I=C*C+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=l*t;f[1]=l*x;f[2]=l*C*B;f[3]=l*E*B;return f},bM:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];f[0]=t[0]*x+t[4]*B+t[8]*C+t[12]*l;f[1]=t[1]*x+t[5]*B+t[9]*C+t[13]*l;f[2]=t[2]*x+t[6]*B+t[10]*C+t[14]*l;f[3]=t[3]*x+t[7]*B+t[11]*C+t[15]*l;return f},aha:function(f,l,t){var x=
l[0],B=l[1],C=l[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*C-K*B,Q=t*B+K*x-E*C,S=t*C+E*B-I*x;x=-E*x-I*B-K*C;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=l[3];return f},rX:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Jm:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Hj:wb,yd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var C=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:Sa,lo:Ta,lW:Ua,jW:eb,ZW:fb,kt:Pa,ED:Va,forEach:sb});var tb=function(){var f=A(),l=z(1,0,0),t=z(0,1,0);return function(x,B,C){var E=Z(B,C);if(-.999999>E)return X(f,l,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),l=
jb();return function(t,x,B,C,E,I){kb(f,x,E,I);kb(l,B,C,I);kb(t,f,l,2*I*(1-I));return t}}(),gb=function(){var f=h();return function(l,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(l,Eb(l,f))}}();tb=Object.freeze({__proto__:null,create:jb,Cx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Vta:xb,dsa:function(f,l){var t=2*Math.acos(l[3]),x=Math.sin(t/2);1E-6<x?(f[0]=l[0]/x,f[1]=l[1]/x,f[2]=l[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},bsa:function(f,
l){f=Ya(f,l);return Math.acos(2*f*f-1)},multiply:yb,RL:zb,SL:Ab,TL:Bb,nra:function(f,l){var t=l[0],x=l[1];l=l[2];f[0]=t;f[1]=x;f[2]=l;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-l*l));return f},exp:Cb,iga:Db,pow:function(f,l,t){Db(f,l);Wa(f,f,t);Cb(f,f);return f},Oga:kb,random:function(f){var l=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-l);l=Math.sqrt(l);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=l*Math.sin(2*Math.PI*x);f[3]=l*Math.cos(2*Math.PI*x);return f},ht:function(f,l){var t=l[0],x=l[1],B=l[2];
l=l[3];var C=t*t+x*x+B*B+l*l;C=C?1/C:0;f[0]=-t*C;f[1]=-x*C;f[2]=-B*C;f[3]=l*C;return f},sfa:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];return f},Qra:Eb,Ora:function(f,l,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",C=Math.PI/360;l*=C;x*=C;t*=C;C=Math.sin(l);var E=Math.cos(l),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "xzy":f[0]=C*K*Q-E*I*N;f[1]=E*
I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yxz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yzx":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zxy":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zyx":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;default:throw Error("Unknown angle order "+B);}return f},Jm:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Rf:va,ra:ta,set:ya,add:Na,lo:yb,scale:Wa,io:Ya,Xd:vb,length:Pa,kt:Pa,FD:Va,ED:Va,normalize:ib,Hj:wb,yd:function(f,l){return.999999<=Math.abs(Ya(f,l))},Lta:tb,$ta:ub,Uta:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var l=new qa(8);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];return l},Rf:function(f,l,t,x,B,C,E,I){var K=
new qa(8);K[0]=f;K[1]=l;K[2]=t;K[3]=x;K[4]=B;K[5]=C;K[6]=E;K[7]=I;return K},Ura:function(f,l,t,x,B,C,E){var I=new qa(8);I[0]=f;I[1]=l;I[2]=t;I[3]=x;B*=.5;C*=.5;E*=.5;I[4]=B*x+C*t-E*l;I[5]=C*x+E*f-B*t;I[6]=E*x+B*l-C*f;I[7]=-B*f-C*l-E*t;return I},Jfa:Fb,tL:function(f,l){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*l[0];f[5]=.5*l[1];f[6]=.5*l[2];f[7]=0;return f},tD:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Hfa:function(f,l){var t=jb();w(t,l);var x=new qa(3);q(x,
l);Fb(f,t,x);return f},ra:Gb,Cx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,l,t,x,B,C,E,I,K){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;return f},fsa:ta,esa:function(f,l){f[0]=l[4];f[1]=l[5];f[2]=l[6];f[3]=l[7];return f},Yta:ta,Wta:function(f,l){f[4]=l[0];f[5]=l[1];f[6]=l[2];f[7]=l[3];return f},Mfa:function(f,l){var t=l[4],x=l[5],B=l[6],C=l[7],E=-l[0],I=-l[1],K=-l[2];l=l[3];f[0]=2*(t*l+C*E+x*K-B*I);f[1]=2*(x*l+C*I+B*E-t*K);f[2]=2*(B*l+
C*K+t*I-x*E);return f},translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=l[4],Q=l[5],S=l[6];l=l[7];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=E*I+B*t-C*K+N;f[5]=E*K+C*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-C*t+l;return f},RL:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;zb(f,l,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+
I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},SL:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Ab(f,l,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},TL:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Bb(f,l,t);x=f[0];B=
f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},Jta:function(f,l,t){var x=t[0],B=t[1],C=t[2];t=t[3];var E=l[0],I=l[1],K=l[2],N=l[3];f[0]=E*t+N*x+I*C-K*B;f[1]=I*t+N*B+K*x-E*C;f[2]=K*t+N*C+E*B-I*x;f[3]=N*t-E*x-I*B-K*C;E=l[4];I=l[5];K=l[6];N=l[7];f[4]=E*t+N*x+I*C-K*B;f[5]=I*t+N*B+K*x-E*C;f[6]=K*t+N*C+E*B-I*x;f[7]=N*t-E*x-I*B-K*C;return f},Kta:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+l*E+B*
K-C*I;f[1]=B*N+l*I+C*E-x*K;f[2]=C*N+l*K+x*I-B*E;f[3]=l*N-x*E-B*I-C*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+l*E+B*K-C*I;f[5]=B*N+l*I+C*E-x*K;f[6]=C*N+l*K+x*I-B*E;f[7]=l*N-x*E-B*I-C*K;return f},Ita:function(f,l,t,x){if(1E-6>Math.abs(x))return Gb(f,l);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var C=Math.sin(x),E=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;x=Math.cos(x);B=l[0];C=l[1];var K=l[2],N=l[3];f[0]=B*x+N*E+C*t-K*I;f[1]=C*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-C*E;f[3]=N*x-B*E-C*I-K*t;B=l[4];C=l[5];K=l[6];l=l[7];f[4]=
B*x+l*E+C*t-K*I;f[5]=C*x+l*I+K*E-B*t;f[6]=K*x+l*t+B*I-C*E;f[7]=l*x-B*E-C*I-K*t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];return f},multiply:lb,lo:lb,scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;return f},io:Ya,Xd:function(f,l,t,x){var B=1-x;0>Ya(l,t)&&(x=-x);f[0]=l[0]*B+t[0]*x;f[1]=l[1]*B+t[1]*x;f[2]=l[2]*B+t[2]*x;f[3]=
l[3]*B+t[3]*x;f[4]=l[4]*B+t[4]*x;f[5]=l[5]*B+t[5]*x;f[6]=l[6]*B+t[6]*x;f[7]=l[7]*B+t[7]*x;return f},ht:function(f,l){var t=Va(l);f[0]=-l[0]/t;f[1]=-l[1]/t;f[2]=-l[2]/t;f[3]=l[3]/t;f[4]=-l[4]/t;f[5]=-l[5]/t;f[6]=-l[6]/t;f[7]=l[7]/t;return f},sfa:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];f[4]=-l[4];f[5]=-l[5];f[6]=-l[6];f[7]=l[7];return f},length:Pa,kt:Pa,FD:Va,ED:Va,normalize:function(f,l){var t=Va(l);if(0<t){t=Math.sqrt(t);var x=l[0]/t,B=l[1]/t,C=l[2]/t,E=l[3]/t,I=l[4],K=l[5],N=l[6];
l=l[7];var Q=x*I+B*K+C*N+E*l;f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-C*Q)/t;f[7]=(l-E*Q)/t}return f},Jm:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]},yd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=l[0],Q=l[1],S=l[2],W=l[3],V=l[4],ea=l[5],ia=l[6];l=l[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}});gb=function(){var f=Xa();return function(l,
t,x,B,C,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],C(f,f,E),l[x]=f[0],l[x+1]=f[1];return l}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var l=new qa(2);l[0]=f[0];l[1]=f[1];return l},Rf:function(f,l){var t=new qa(2);t[0]=f;t[1]=l;return t},ra:function(f,l){f[0]=l[0];f[1]=l[1];return f},set:function(f,l,t){f[0]=l;f[1]=t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];return f},Km:mb,multiply:nb,Em:Za,ceil:function(f,
l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;return f},UL:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;return f},zx:ob,$W:Qa,length:pb,
FD:qb,GW:function(f,l){f[0]=-l[0];f[1]=-l[1];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];return f},normalize:function(f,l){var t=l[0],x=l[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;return f},io:function(f,l){return f[0]*l[0]+f[1]*l[1]},nL:function(f,l,t){l=l[0]*t[1]-l[1]*t[0];f[0]=f[1]=0;f[2]=l;return f},Xd:function(f,l,t,x){var B=l[0];l=l[1];f[0]=B+x*(t[0]-B);f[1]=l+x*(t[1]-l);return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*l;f[1]=Math.sin(t)*
l;return f},jua:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l;f[1]=t[1]*x+t[3]*l;return f},kua:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l+t[4];f[1]=t[1]*x+t[3]*l+t[5];return f},$ga:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[3]*l+t[6];f[1]=t[1]*x+t[4]*l+t[7];return f},bM:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[4]*l+t[12];f[1]=t[1]*x+t[5]*l+t[13];return f},rotate:function(f,l,t,x){var B=l[0]-t[0];l=l[1]-t[1];var C=Math.sin(x);x=Math.cos(x);f[0]=B*x-l*C+t[0];f[1]=B*C+l*
x+t[1];return f},angle:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];var B=Math.sqrt((t*t+f*f)*(x*x+l*l));return Math.acos(Math.min(Math.max(B&&(t*x+f*l)/B,-1),1))},rX:function(f){f[0]=0;f[1]=0;return f},Jm:function(f){return"vec2("+f[0]+", "+f[1]+")"},Hj:function(f,l){return f[0]===l[0]&&f[1]===l[1]},yd:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},kt:pb,sub:mb,lo:nb,lW:Za,
jW:ob,ZW:Qa,ED:qb,forEach:gb});d.Ij=Nb;d.Usa=Ob;d.Vsa=Pb;d.Wsa=Qb;d.Gm=Rb;d.sta=tb;d.tta=ub;d.rua=gb;d.ID=rb;d.Qx=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.dra?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Ij={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function k(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(k(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&e(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(k(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=h(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&d(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.qta={Bra:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},uta:w,xsa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},zta:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},Ata:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Tsa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Ex=!1;d.CL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.zh={}}
{"use strict";const d=self.D;d.$O=class{constructor(a){this.Hea=a;this.Ma=new Map;this.Naa()}Naa(){var a=this.Hea;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.Oaa(b)}Oaa(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ma.set(e,a)}else this.Ma.set(a,null)}Yy(a){return this.Ma.has(a)}ca(a){a=this.Ma.get(a);return"undefined"===typeof a?null:a}};d.yF=new d.$O(location.search);
d.Cla=new d.$O(location.hash);d.yF.ca("mode")}
{"use strict";const d=self.D,a=navigator.userAgent;let b={hga:/linux|openbsd|freebsd|netbsd/i.test(a),pfa:/CrOS/.test(a),JD:/trident|iemobile|msie|tizen/i.test(a),asa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),cW:/bb10/i.test(a),Efa:/edge\//i.test(a),hX:/trident/i.test(a),webkit:/webkit/i.test(a),Hga:/safari\//i.test(a),ofa:/chrome\//i.test(a),qfa:/chromium\//i.test(a),ufa:/crosswalk|xwalk/i.test(a),cta:/nwjs/i.test(a),afa:/amazonwebappplatform/i.test(a),gha:/wv\)/.test(a),bfa:/android/i.test(a),
sga:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",k="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.hga,()=>{e="Linux"});u("isChromeOS",b.pfa,()=>{e="Chrome OS"});u("isAndroid",!b.JD&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.JD&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.JD&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.cW,()=>{e="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!b.Efa&&!b.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&b.hX,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.Hga&&!b.sga&&!b.ofa&&!b.qfa&&!b.$ra&&!b.cW,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.ufa,()=>k="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");u("isNWJS",$b,r=>{k="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.afa,()=>k="webapp");
u("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");u("isFalseSafari","Safari"===h&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===k&&b.gha,()=>k="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.JD&&b.bfa,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.hX,()=>g="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===k,()=>n=!0);p="nwjs"===k;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);d.Ob={Lh:e,Yla:c,Jc:h,bia:m,VD:parseFloat(m),Yx:g,bE:k,wka:n,iz:!n,xka:p,rka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),nka:"Mac OS X"===e||"iOS"===e,Dka:w,Hka:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await k(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),g(w,r,v,!1);throw G;}}function k(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await k(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.y2=u}"use strict";
{const d=self.y2,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function h(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(k){return"object"===typeof k?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(k)}):Promise.resolve(k)}class g{constructor(k){this.fa=k;b.set(this,new Map)}Uu(k){if(!e)for(const n of a)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);e=!0;break}}async TT(k){k=
b.get(this).get(k);k=await m(k);return"undefined"===typeof k?null:k}async nV(k,n){n=await m(n);b.get(this).set(k,n)}kV(k){b.get(this).delete(k)}sT(){b.get(this).clear()}BU(){return Array.from(b.get(this).keys())}async getItem(k,n){h(n);if(e)return await this.TT(k);let p;try{p=await this.fa.get(k)}catch(q){this.Uu(q);if(e)return await this.TT(k);console.error(`Error reading '${k}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(k,n,p){h(p);"undefined"===
typeof n&&(n=null);if(e)await this.nV(k,n);else try{await this.fa.set(k,n)}catch(q){if(this.Uu(q),e)await this.nV(k,n);else throw q;}}async removeItem(k,n){h(n);if(e)this.kV(k);else try{await this.fa.delete(k)}catch(p){this.Uu(p),e?this.kV(k):console.error(`Error removing '${k}' from storage: `,p)}}async clear(k){h(k);if(e)this.sT();else try{await this.fa.clear()}catch(n){this.Uu(n),e?this.sT():console.error("Error clearing storage: ",n)}}async keys(k){h(k);if(e)return this.BU();k=[];try{k=await this.fa.keys()}catch(n){this.Uu(n);
if(e)return this.BU();console.error("Error getting storage keys: ",n)}return k}ready(k){h(k);return e?Promise.resolve(!0):this.fa.ready()}mL(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new d(k);return new g(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.D;d.ic={};d.ic.Nqa=(()=>{try{if("Safari"===d.Ob.Jc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.ic.eja="undefined"!==typeof HTMLDialogElement;d.ic.vna=!!self.requestIdleCallback;d.ic.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Ob.Jc;d.ic.ImageBitmapOptions=!1;if(d.ic.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{d.ic.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{d.ic.ImageBitmapOptions=!1})}catch(a){d.ic.ImageBitmapOptions=!1}d.ic.qia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Ob.Jc);d.ic.xma=!(!navigator.permissions||!navigator.permissions.query);d.ic.ZO="undefined"!==typeof Proxy;d.ic.hja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.ic.$x="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.ic.uja="function"===typeof fetch;d.ic.zma=!!(self.isSecureContext&&"Opera"!==d.Ob.Jc&&navigator.storage&&navigator.storage.persist);d.ic.Xpa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Ob.Lh)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.ic.Dja=fc;d.ic.aka=
"undefined"!==typeof self.ImageDecoder;d.ic.Tla=!!self.showOpenFilePicker;d.ic.Ula=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.At(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,h)=>{0<e&&Array.isArray(h)?Array.prototype.push.apply(c,a(h,e-1)):c.push(h);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.ke||(Array.prototype.ke=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.ke||(String.prototype.ke=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.xy())}}
{"use strict";const d=self.D,a=self.zh;d.Ym=function(e){return"number"===typeof e};d.Um=function(e){return d.Ym(e)&&isFinite(e)};d.hg=function(e){if(!d.Ym(e))throw new TypeError("expected number");};d.iP=function(){};d.Sna=function(e,c,h){if(!d.Ym(e)||isNaN(e)||c>e||h<e)throw new RangeError("number outside of range");};d.Ena=function(...e){for(let c of e);};d.jk=function(e){if(!d.Um(e))throw new TypeError("expected finite number");};d.fP=function(){};d.Bna=function(...e){for(let c of e);};d.Oi=function(e){return"string"===
typeof e};d.Od=function(e){if(!d.Oi(e))throw new TypeError("expected string");};d.kP=function(){};d.Gna=function(...e){for(let c of e);};d.hO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.eoa=function(e){if(!d.hO(e))throw new TypeError("expected simple object");};d.boa=function(e){if(!d.pe(e)&&!d.hO(e))throw new TypeError("expected simple object");};d.gO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.dP=function(e){if(!d.gO(e))throw new TypeError("expected object");
};d.jP=function(){};d.Fna=function(...e){for(let c of e);};d.gF=function(e){return d.Vm(e,Blob)&&"string"===typeof e.name};d.Qna=function(e){if(!d.gF(e))throw new TypeError("expected file");};d.$na=function(){};d.Jo=function(e){return Array.isArray(e)};d.EF=function(e){if(!d.Jo(e))throw new TypeError("expected array");};d.eP=function(){};d.Ana=function(...e){for(let c of e);};d.a2=function(e){return d.Jo(e)?e.length?d.Jo(e[0])?!0:!1:!0:!1};d.zna=function(e){if(!d.a2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Jo(c))throw new TypeError("expected 2d array");};d.Tna=function(){};d.hF=function(e){return"function"===typeof e};d.kk=function(e,c){if(!d.hF(e))throw new TypeError("expected function");if(!d.pe(c)&&e!==c)throw new TypeError("expected same function reference");};d.gP=function(){};d.Cna=function(...e){for(let c of e);};d.Ina=function(e,...c){if(!d.hF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!d.pe(h)&&
e===h)return;throw new TypeError("expected same function reference");};d.Una=function(...e){if(!d.pe(e))for(let c of e);};d.Vm=function(e,c){return e instanceof c};d.eO=function(e,...c){for(let h of c)if(d.Vm(e,h))return!0;return!1};d.FF=function(e,c){if(!d.Vm(e,c))throw new TypeError("unexpected type");};d.hP=function(){};d.Dna=function(e,...c){for(let h of c);};d.Jna=function(e,...c){if(!d.eO(e,...c))throw new TypeError("unexpected type");};d.Kna=function(e,...c){if(!d.pe(e)&&!d.eO(e,...c))throw new TypeError("unexpected type");
};d.oka=function(e,c){for(let h of e)if(!d.Vm(h,c))return!1;return!0};d.pka=function(e){for(let c of e)if(!d.Um(c))return!1;return!0};d.Lna=function(e){for(let c of e);};d.Vna=function(e){if(!d.pe(e))for(let c of e);};d.Mna=function(e){for(let c of e);};d.Wna=function(e){if(!d.pe(e))for(let c of e);};d.tka=function(e,c){return d.pe(e)||!d.Oi(e.nodeName)?!1:!c||d.jo(e.nodeName,c)};d.Nna=function(e,c){if(d.pe(e)||!d.Oi(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.jo(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Xna=function(){};d.jF=function(e,c){return d.pe(e)||!d.Oi(e.tagName)?!1:!c||d.jo(e.tagName,c)};d.Rna=function(e,c){if(d.pe(e)||!d.Oi(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.jo(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.aoa=function(){};d.ZN=function(e){return d.jF(e,"img")||d.jF(e,"canvas")||d.jF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.Ona=function(e){if(!d.ZN(e))throw new TypeError("expected drawable");
};d.Yna=function(){};d.$N=function(e){return e instanceof ImageData?!0:d.ZN(e)};d.Pna=function(e){if(!d.$N(e))throw new TypeError("expected drawable or image data");};d.Zna=function(e){if(!d.pe(e)&&!d.$N(e))throw new TypeError("expected drawable or image data");};d.s2=function(e){return"string"===typeof e||e instanceof d.XE||e instanceof d.Mm};d.foa=function(e){if(!d.s2(e))throw new TypeError("expected string-like");};d.coa=function(){};d.Hna=function(...e){for(let c of e);};d.doa=function(){throw Error("must be overridden");
};d.Xla=function(){throw Error("not yet implemented");};d.vka=function(e,...c){if("undefined"===typeof e)return!1;for(let h of c){if("undefined"===typeof e[h])return!1;e=e[h]}return!0};d.pe=function(e){return"undefined"===typeof e||null===e};d.Qha=function(e){let c=e[0].constructor;for(let h of e)if(h.constructor!==c)return!1;return c};d.Rha=function(e,c){for(let h of e)if(!(h instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.gla=function(e){return d.Vm(e,b)};d.goa=function(){};
d.Mqa=function(e){d.U6(e,b)};d.Lqa=function(e,...c){if(!d.T6(e,...c))throw new TypeError("unexpected type");};d.T6=function(e,...c){for(const h of c)if(d.pQ(e,h))return!0;return!1};d.U6=function(e,c){if(!d.pQ(e,c))throw new TypeError("unexpected type");};d.pQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.hg=d.hg;a.iP=d.iP;a.jk=d.jk;a.fP=d.fP;a.Od=d.Od;a.kP=d.kP;a.dP=d.dP;a.jP=d.jP;a.EF=d.EF;a.eP=d.eP;a.kk=d.kk;a.gP=d.gP;a.FF=d.FF;a.hP=d.hP;a.pe=
d.pe}
{"use strict";const d=self.D,a=new Map;d.ina=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;d.Tpa=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,bW:0,gL:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.bW.toPrecision(3)} :: calls => ${this.gL}`}})};d.lja=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.bW=u.total/u.gL;u.gL++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.xy=function(){return Error().stack};d.aja=function(){debugger};d.sra=function(u,w){return u&&u instanceof w?u:null};d.cl=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Ym(u)?"<number>":d.Oi(u)?"<string>":d.Jo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.hF(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.vD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,h=new WeakMap,m=new WeakMap;d.Gq={};const g=new Set(["then","splice"]);function k(u){console.warn("[Defence] "+
u+" @",d.xy())}d.Gq.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||k(`Accessed missing property '${w}' from defended object '${d.cl(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&k(`Accessed property '${w}' on a released object '${d.cl(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.Gq.set=function(u,w,r){w in u||e.has(u)||k(`Set non-existent property '${w}' to '${r}' on defended object '${d.cl(u)}'`);{var v=d.vD(u[w]);
let y=d.vD(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||k(`Set '${d.vD(u[w])}' property '${w}' to type '${d.vD(r)}' on defended object '${d.cl(u)}'`);m.has(u)&&k(`Set property '${w}' on a released object '${d.cl(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.Gq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.cl(u)}'`);};d.Gq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.cl(u)}'`);};d.Gq.Gra=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.cl(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.cl(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ja=class{constructor(){if(d.CL&&d.ic.ZO){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.Gq);e.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.wfa=function(u){if(d.CL&&d.ic.ZO&&u instanceof d.ja){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.Ex?Object.seal(u):u};d.B=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.CL){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.eo(v,[...y]);v.length&&console.warn(`[Defence] '${d.cl(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.wfa(r)};d.j=function(u){(u=h.get(u))&&m.set(u,d.xy())};d.Rz=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;d.vma=class{constructor(u){this.Ja="";u&&this.start(u)}start(u){this.Ja=u;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(u){this.end();this.Ja=u;performance.mark(this.Ja+"-Start")}}}
{"use strict";const d=self.D,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};d.lga=function(h,m,g,k){return(h-m)*(k-0)/(g-m)};d.normalize=function(h,m,g){return(h-m)/(g-m)};d.ia=function(h,m,g){return h<m?m:h>g?g:h};d.Md=function(h){h%=a;0>h&&(h+=a);return h};d.wb=function(h){return h*b};d.Dg=function(h){return h*e};d.Dm=function(h,m,g,k){return Math.hypot(g-h,k-m)};d.kW=function(h,
m,g,k){h=g-h;m=k-m;return h*h+m*m};d.vx=function(h,m,g,k){return Math.atan2(k-m,g-h)};d.dt=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};d.eL=function(h,m,g){let k=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(k*p+n*q)>g?0<n*p-k*q?d.Md(h+g):d.Md(h-g):d.Md(m)};d.Nf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};d.dL=function(h,m,g,k=0){let n=d.dt(h,m);k*=a;return d.Nf(m,
h)?d.Md(h+(n+k)*g):d.Md(h-(n+k)*g)};d.dfa=function(h,m,g,k=0){const n=d.dt(h,m);k*=a;return d.Nf(m,h)?d.Md(h+(n+k)*g):d.Md((a-n+k)*g)};d.cfa=function(h,m,g,k=0){const n=d.dt(h,m);k*=a;return d.Nf(m,h)?d.Md((-a+n-k)*g):d.Md(h-(n+k)*g)};d.Xd=function(h,m,g){return h+g*(m-h)};d.xt=function(h,m,g){return h===m?0:(g-h)/(m-h)};d.Dga=function(h,m,g,k){return d.Xd(0,k,d.xt(h,m,g))};d.BD=function(h,m,g,k){return d.Xd(d.Xd(h,m,k),d.Xd(m,g,k),k)};d.iW=function(h,m,g,k,n){return d.Xd(d.BD(h,m,g,n),d.BD(m,g,k,
n),n)};d.hW=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};d.dl=function(h){return 0<h&&0===(h-1&h)};d.HW=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};d.Mta=function(h,m){return Math.round(h*m)/m};d.Lra=function(h,m){return Math.floor(h*m)/m};d.SW=function(h){return Math.round(1E6*h)/1E6};d.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};d.U3=function(h,m,g){return d.ia(h,0,255)|d.ia(m,
0,255)<<8|d.ia(g,0,255)<<16};d.uz=function(h,m,g,k){h=d.ia(Math.floor(1024*h),-8192,8191);m=d.ia(Math.floor(1024*m),-8192,8191);g=d.ia(Math.floor(1024*g),-8192,8191);k=d.ia(Math.floor(1023*k),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+k)};d.UO=function(h,m,g){return d.uz(h,m,g,1)};d.ME=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};d.GE=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};d.rE=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};d.x_=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};d.Qfa=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.csa=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let k=
h/g[0]*g[1];if(1>Math.abs(m-k))return g.slice(0);k=h/g[1]*g[0];if(1>Math.abs(m-k))return[g[1],g[0]]}g=d.Qfa(h,m);return[h/g,m/g]};d.Tta=function(h,m,g,k,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,k);r=Math.max(p,u);if(Math.max(m,k)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-k;h=g-h;m=k-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};d.Hm=function(h,m,g,k,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-k;h=g-h;m=k-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};d.CD=function(h,m,g,k,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k),r=n.Db,v=n.Eb,y=n.sc,A=n.tc,G=n.mc,z=n.nc,F=n.kc;n=n.lc;return d.Hm(h,m,g,k,p,q,u,w,r,v,y,A)||d.Hm(h,m,g,k,p,q,u,w,y,A,G,z)||d.Hm(h,m,g,k,p,q,u,w,G,z,F,n)||d.Hm(h,m,g,k,p,q,u,w,F,n,r,v)};d.Sta=function(h,m,g,k,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.Hm(h,m,g,k,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.Hm(h,m,g,k,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.Cga=function(h,m,g,k,n,p,q,u){g-=h;p=u-p;const w=g*p-(k-m)*(q-n);if(0===w)return 2;k=((m-k)*(q-h)+g*(u-m))/w;return 0<k&&1.000001>k?(p*(q-h)+(n-q)*(u-m))/w:2};d.Mx=function(h,m,g,k,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.Cga(h,m,g,k,n-r,p-w,q+r,u+w)};d.$fa=function(h,m,g,k,n,p,q,u){n-=
g;p-=k;q-=g;u-=k;h-=g;g=m-k;m=n*n+p*p;k=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-k*k);p=(p*n-k*q)*u;n=(m*q-k*n)*u;return 0<=p&&0<=n&&1>=p+n};d.dha=function(h,m,g,k,n,p,q,u){n-=g;p-=k;q-=g;u-=k;h-=g;const w=m-k;m=n*n+p*p;k=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-k*k;u=(g*n-k*p)/q;n=(m*p-k*n)/q;return[1-u-n,u,n]};d.cha=function(h,m,g,k,n,p,q,u,w){return[h*k+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const d=self.D;let a=null,b="";if("undefined"!==typeof document){a=document;const k=document.querySelector("base");if(b=k&&k.hasAttribute("href")?k.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Fja=function(){return b};d.sE=function(){if(!a)return"";const k=a.location;return d.z0(k.origin+k.pathname)+b};d.z0=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};d.Ija=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};d.X_=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};d.Cy=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};d.Y2=function(k){return k.replace(/\\/g,"/")};d.zka=function(k,n){return n===(k?d.X_(k).slice(1):"")};d.vja=function(k,n){let p,q;d.gF(k)&&(p=d.Cy(k.name));d.Oi(k)&&(p=
d.Cy(k));d.gF(n)&&(q=d.Cy(n.name));d.Oi(n)&&(q=d.Cy(n));return p===q};d.tma=function(k){k=d.Y2(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var p=k.lastIndexOf("/")+1;let q="",u=k,w="";0<p&&(q=k.slice(0,p),u=k.slice(p));k=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),k=u.slice(0,-w.length));return{dir:q,jra:u,name:k,root:n,ext:w,Yra:n+q+u}};d.rG=function(k,n){return new Promise(p=>{self.setTimeout(p,
k,n)})};d.bua=function(k){try{k()}catch(n){d.Ex&&console.warn("Swallowed exception: ",n)}};d.$sa=function(){};d.jo=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Hra=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};d.eha=function(k,n){var p=0;k[p++]=n[0];k[p++]=n[1];k[p++]=n[2];k[p++]=n[3];k[p++]=n[4];k[p++]=n[5];k[p++]=n[6];k[p++]=n[7];k[p++]=n[8];k[p++]=n[9];
k[p++]=n[10];k[p++]=n[11];k[p++]=n[12];k[p++]=n[13];k[p++]=n[14];k[p]=n[15]};d.mf=function(k,n){k.length=n};d.F=function(k){k&&0!==k.length&&d.mf(k,0)};d.rfa=function(k){if(k){for(let n=0;n<k.length;n++)d.mf(k[n],0);d.mf(k,0)}};d.rD=function(k,n,p){n|=0;var q=k.length;if(!(n<=q))for(;q<n;++q)k.push(p)};d.RW=function(k){var n=4;const p=k.length;n<p?d.mf(k,n):n>p&&d.rD(k,n,"0")};d.Vc=function(k,n){d.F(k);d.eo(k,n)};d.eo=function(k,n){if(1E4>n.length)k.push(...n);else for(let p=0,q=n.length;p<q;++p)k.push(n[p])};
d.hfa=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var p=k.length-1;n<p;++n)k[n]=k[n+1];d.mf(k,p)}};d.bl=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};d.ira=function(k,n){let p=k.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(k[q]!==n[q])return!1;return!0};d.gfa=function(k,n){let p=[],q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n(r)?p.push(r):(k[q]=r,++q)}d.mf(k,q);return p};d.Bg=function(k,n){const p=k.length;let q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n.has(r)||
(k[q++]=r)}d.mf(k,q);return p-q};d.Xfa=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};d.qua=function(k,n){if(!d.Xfa(k,n))throw new RangeError("array index out of bounds");};d.lL=function(k){return k.slice()};d.xfa=function(k,n){let p=[];for(let q of k)if(d.gO(q)){k=n(q);if(!k)throw Error("missing clone");if(k.constructor!==q.constructor)throw Error("object is not a clone");p.push(k)}else d.Jo(q)?p.push(d.xfa(q,n)):p.push(q);return p};d.tra=function(k){let n=[];for(let p of k)n.push(p.slice());
return n};d.Xsa=function(k,n){return new Set([...k,...n])};d.Ysa=function(k,n){for(const p of n)k.add(p);return k};d.first=function(k){for(let n of k)return n;return null};d.xor=function(k,n){return!k!==!n};d.compare=function(k,n,p){switch(n){case 0:return k===p;case 1:return k!==p;case 2:return k<p;case 3:return k<=p;case 4:return k>p;case 5:return k>=p;default:return!1}};d.lsa=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};d.j4=function(k,n){return k.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=k.length;v<y;++v)u.push(void 0),k[v].then(A=>{r||(u[v]=A,++w,w===k.length?p(u):n(w,k.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];d.Eha=function(k){e.push(k)};d.Hja=function(){let k=0;for(let n of e){let p=n();k+=p}return Math.floor(k)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(k){k=k.data;const n=h.get(k);h.delete(k);n&&n(performance.now())};d.DF=function(k){const n=c++;h.set(n,k);m.port1.postMessage(n);
return n};d.mY=function(k){h.delete(k)};d.d4=d.DF;d.R6=function(){return new Promise(k=>d.d4(k))};const g=new Set;d.xna=function(k){const n=self.requestAnimationFrame(async p=>{await d.R6();g.has(n)&&(g.delete(n),k(p))});g.add(n);return n};d.fia=function(k){g.has(k)&&(self.cancelAnimationFrame(k),g.delete(k))}}
{"use strict";const d=self.D;d.cF=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.pF=function(a){return!d.cF(a)};d.w6=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.vy=function(a){return fetch(a,void 0).then(b=>{d.w6(b);return b})};d.Ct=function(a){return d.vy(a).then(b=>b.text())};d.WM=function(a){return d.vy(a).then(b=>b.json())};d.hl=function(a){return d.vy(a).then(b=>b.blob())};d.Bt=function(a){return d.vy(a).then(b=>
b.arrayBuffer())};d.o_=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=h=>e(h);c.src=a})};d.bY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.mM=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.Zha=function(a){return d.mM(a).then(b=>
JSON.parse(b))};d.cY=async function(a){a=URL.createObjectURL(a);try{const b=await d.o_(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.Ah=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.$x=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ia(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.el(()=>d.sM(a,b,e))};d.sM=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ia(e,0,1);return d.QY(a.toDataURL(b,e))};d.QY=function(a){a=d.V3(a);return d.aY(a.data,a.mga)};d.V3=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{mga:a,data:e}};d.aY=function(a,b){var e=a.length;let c=e>>2,h=new Uint8Array(e),m=new Uint32Array(h.buffer,0,c),g,k;for(k=g=0;g<c;++g)m[g]=a.charCodeAt(k++)|a.charCodeAt(k++)<<8|a.charCodeAt(k++)<<16|a.charCodeAt(k++)<<24;for(e&=3;e--;)h[k]=a.charCodeAt(k),++k;return b?new Blob([h],{type:b}):new Blob([h])};d.PM=function(a,b,e){const c=d.Ah(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return d.$x(c,b,e)};d.$ja=function(a,
b,e){const c=d.Ah(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.sM(c,b,e)};d.Zja=function(a,b,e){if(d.ic.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>d.PM(c,b,e));if(d.ic.ImageBitmap)return createImageBitmap(a).then(c=>d.PM(c,b,e));{const c=d.Ah(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.$x(c,b,e)}};d.GY=function(a,b){a.clear();for(const e of b)a.add(e)};d.Ila=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=
c;return b};d.Zla=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.oG=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(b))c[h]=e(m);return c}}return b};d.oE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(h=>c(h)));if("map"===
e._c3type_)return new Map(e.data.map(h=>[h[0],c(h[1])]));{const h=Object.create(null);for(const [m,g]of Object.entries(e))h[m]=c(g);return h}}return e};d.gY=function(e){let c="",h=!1;for(const m of e)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};d.Xm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.O2=function(e){const c=[];for(let h=0;h<e;++h)c.push(0);return c}}
{"use strict";const d=self.D;d.gb=class{constructor(a,b,e,c){this.Ya=this.Za=this.$a=this.Xa=0;a instanceof d.gb?this.set(a):this.no(a||0,b||0,e||0,c||0)}pt(a,b,e){this.Xa=+a;this.$a=+b;this.Za=+e;this.ia()}no(a,b,e,c){this.Xa=+a;this.$a=+b;this.Za=+e;this.Ya=+c;this.ia()}set(a){this.Xa=a.Xa;this.$a=a.$a;this.Za=a.Za;this.Ya=a.Ya;return this}ra(a){return this.set(a)}add(a){this.Xa+=a.Xa;this.$a+=a.$a;this.Za+=a.Za;this.Ya+=a.Ya;this.ia()}XV(a,b,e){this.Xa+=+a;this.$a+=+b;this.Za+=+e;this.Ya+=0;this.ia()}Fj(a){this.Xa=
a.Xa;this.$a=a.$a;this.Za=a.Za}WW(a){this.Xa=d.ia(+a,0,1)}Mga(a){this.$a=d.ia(+a,0,1)}Jga(a){this.Za=d.ia(+a,0,1)}nt(a){this.Ya=d.ia(+a,0,1)}clone(){return d.B(d.gb,this.Xa,this.$a,this.Za,this.Ya)}toArray(){return[this.Xa,this.$a,this.Za,this.Ya]}yh(a,b){a[b++]=this.Xa;a[b++]=this.$a;a[b++]=this.Za;a[b]=this.Ya}yd(a){return this.Xa===a.Xa&&this.$a===a.$a&&this.Za===a.Za&&this.Ya===a.Ya}Fm(a){return this.Xa===a.Xa&&this.$a===a.$a&&this.Za===a.Za}qD(a,b,e,c){return this.Xa===a&&this.$a===b&&this.Za===
e&&this.Ya===c}multiply(a){this.Xa*=a.Xa;this.$a*=a.$a;this.Za*=a.Za;this.Ya*=a.Ya}PL(){this.Xa*=this.Ya;this.$a*=this.Ya;this.Za*=this.Ya}ia(){this.Xa=d.ia(this.Xa,0,1);this.$a=d.ia(this.$a,0,1);this.Za=d.ia(this.Za,0,1);this.Ya=d.ia(this.Ya,0,1);return this}ot(a){this.Xa=d.ME(a);this.$a=d.GE(a);this.Za=d.rE(a);this.Ya=d.x_(a)}Lfa(){return`rgb(${100*(d.Um(void 0)?NaN:this.Xa)}%, ${100*(d.Um(void 0)?NaN:this.$a)}%, ${100*(d.Um(void 0)?NaN:this.Za)}%)`}JW(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.WW(a);isFinite(e)&&this.Mga(e);isFinite(b)&&this.Jga(b);this.nt(1)}}}toJSON(){return[this.Xa,this.$a,this.Za,this.Ya]}Im(a){!Array.isArray(a)||3>a.length||(this.Xa=a[0],this.$a=a[1],this.Za=a[2],this.Ya=4<=a.length?a[3]:1)}set r(a){this.WW(a)}get r(){return this.Xa}set vq(a){this.nt(a)}get vq(){return this.Ya}static gE(a,b){return d.ia(Math.max(a,
b)-Math.min(a,b),0,1)}};d.gb.Rqa=Object.freeze(d.B(d.gb,1,1,1,1));d.gb.Yha=Object.freeze(d.B(d.gb,0,0,0,1));d.gb.sqa=Object.freeze(d.B(d.gb,0,0,0,0))}
{"use strict";const d=self.D;d.Eu=class{constructor(a,b){this.R=this.T=0;a instanceof d.Eu?this.ra(a):this.set(a||0,b||0)}set(a,b){this.T=+a;this.R=+b}ra(a){this.T=a.T;this.R=a.R}yd(a){return this.T===a.T&&this.R===a.R}toArray(){return[this.T,this.R]}yh(a,b){a[b++]=this.T;a[b]=this.R}offset(a,b){this.T+=+a;this.R+=+b}scale(a,b){this.T*=a;this.R*=b}Em(a,b){this.T/=a;this.R/=b}round(){this.T=Math.round(this.T);this.R=Math.round(this.R)}floor(){this.T=Math.floor(this.T);this.R=Math.floor(this.R)}ceil(){this.T=
Math.ceil(this.T);this.R=Math.ceil(this.R)}angle(){return d.vx(0,0,this.T,this.R)}gga(){return this.T*this.T+this.R*this.R}length(){return Math.sqrt(this.gga())}Gga(a,b){const e=this.T*b-this.R*a;this.R=this.R*b+this.T*a;this.T=e}rotate(a){0!==a&&this.Gga(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.T+=Math.cos(a)*b,this.R+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.T/=a,this.R/=a)}ia(a,b){this.T=d.ia(this.T,a,b);this.R=d.ia(this.R,a,b)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(a,b,e,c){this.ga=this.ma=this.Y=this.ba=0;a instanceof d.Rect?this.ra(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.ba=+a;this.Y=+b;this.ma=+e;this.ga=+c}yi(a,b,e,c){a=+a;b=+b;this.ba=a;this.Y=b;this.ma=a+ +e;this.ga=b+ +c}ra(a){this.ba=+a.ba;this.Y=+a.Y;this.ma=+a.ma;this.ga=+a.ga}clone(){return new d.Rect(this.ba,this.Y,this.ma,this.ga)}yd(a){return this.ba===a.ba&&this.Y===a.Y&&this.ma===a.ma&&this.ga===a.ga}toArray(){return[this.ba,this.Y,
this.ma,this.ga]}Wga(){new DOMRect(this.ba,this.Y,this.width(),this.height())}yh(a,b){a[b++]=this.ba;a[b++]=this.Y;a[b++]=this.ma;a[b]=this.ga}iha(a,b){a[b++]=this.ba;a[b++]=this.Y;a[b++]=this.ma;a[b++]=this.Y;a[b++]=this.ma;a[b++]=this.ga;a[b++]=this.ba;a[b]=this.ga}width(){return this.ma-this.ba}height(){return this.ga-this.Y}lt(){return(this.ba+this.ma)/2}mt(){return(this.Y+this.ga)/2}offset(a,b){a=+a;b=+b;this.ba+=a;this.Y+=b;this.ma+=a;this.ga+=b}offsetLeft(a){this.ba+=+a}offsetTop(a){this.Y+=
+a}uga(a){this.ma+=+a}tga(a){this.ga+=+a}wL(a,b){a=+a;b=+b;this.ba-=a;this.Y-=b;this.ma+=a;this.ga+=b}multiply(a,b){this.ba*=a;this.Y*=b;this.ma*=a;this.ga*=b}Em(a,b){this.ba/=a;this.Y/=b;this.ma/=a;this.ga/=b}ko(){this.Y=1-this.Y;this.ga=1-this.ga}Tga(){const a=this.ba;this.ba=this.ma;this.ma=a}Uga(){const a=this.Y;this.Y=this.ga;this.ga=a}round(){this.ba=Math.round(this.ba);this.Y=Math.round(this.Y);this.ma=Math.round(this.ma);this.ga=Math.round(this.ga)}floor(){this.ba=Math.floor(this.ba);this.Y=
Math.floor(this.Y);this.ma=Math.floor(this.ma);this.ga=Math.floor(this.ga)}ceil(){this.ba=Math.ceil(this.ba);this.Y=Math.ceil(this.Y);this.ma=Math.ceil(this.ma);this.ga=Math.ceil(this.ga)}ia(a,b,e,c){this.ba<a&&(this.ba=+a);this.Y<b&&(this.Y=+b);this.ma>e&&(this.ma=+e);this.ga>c&&(this.ga=+c)}normalize(){this.ba>this.ma&&this.Tga();this.Y>this.ga&&this.Uga()}wD(a){return!(a.ma<this.ba||a.ga<this.Y||a.ba>this.ma||a.Y>this.ga)}Wfa(a,b,e){return!(a.ma+b<this.ba||a.ga+e<this.Y||a.ba+b>this.ma||a.Y+e>
this.ga)}Pf(a,b){return a>=this.ba&&a<=this.ma&&b>=this.Y&&b<=this.ga}}}
{"use strict";const d=self.D;d.Hd=class{constructor(a,b,e,c,h,m,g,k){this.lc=this.kc=this.nc=this.mc=this.tc=this.sc=this.Eb=this.Db=0;a instanceof d.Hd?this.ra(a):this.set(a||0,b||0,e||0,c||0,h||0,m||0,g||0,k||0)}set(a,b,e,c,h,m,g,k){this.Db=+a;this.Eb=+b;this.sc=+e;this.tc=+c;this.mc=+h;this.nc=+m;this.kc=+g;this.lc=+k}XW(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}ra(a){this.Db=a.Db;this.Eb=a.Eb;this.sc=a.sc;this.tc=a.tc;this.mc=a.mc;this.nc=a.nc;this.kc=a.kc;this.lc=a.lc}yd(a){return this.Db===a.Db&&this.Eb===
a.Eb&&this.sc===a.sc&&this.tc===a.tc&&this.mc===a.mc&&this.nc===a.nc&&this.kc===a.kc&&this.lc===a.lc}toArray(){return[this.Db,this.Eb,this.sc,this.tc,this.mc,this.nc,this.kc,this.lc]}yh(a,b){a[b++]=this.Db;a[b++]=this.Eb;a[b++]=this.sc;a[b++]=this.tc;a[b++]=this.mc;a[b++]=this.nc;a[b++]=this.kc;a[b]=this.lc}jha(a,b,e){a[b++]=this.Db;a[b++]=this.Eb;a[b++]=e;a[b++]=this.sc;a[b++]=this.tc;a[b++]=e;a[b++]=this.mc;a[b++]=this.nc;a[b++]=e;a[b++]=this.kc;a[b++]=this.lc;a[b]=e}offset(a,b){a=+a;b=+b;this.Db+=
a;this.Eb+=b;this.sc+=a;this.tc+=b;this.mc+=a;this.nc+=b;this.kc+=a;this.lc+=b}round(){this.Db=Math.round(this.Db);this.Eb=Math.round(this.Eb);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc);this.mc=Math.round(this.mc);this.nc=Math.round(this.nc);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc)}floor(){this.Db=Math.floor(this.Db);this.Eb=Math.floor(this.Eb);this.sc=Math.floor(this.sc);this.tc=Math.floor(this.tc);this.mc=Math.floor(this.mc);this.nc=Math.floor(this.nc);this.kc=Math.floor(this.kc);
this.lc=Math.floor(this.lc)}ceil(){this.Db=Math.ceil(this.Db);this.Eb=Math.ceil(this.Eb);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc);this.mc=Math.ceil(this.mc);this.nc=Math.ceil(this.nc);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc)}Kj(a){this.Db=a.ba;this.Eb=a.Y;this.sc=a.ma;this.tc=a.Y;this.mc=a.ma;this.nc=a.ga;this.kc=a.ba;this.lc=a.ga}Lga(a,b){0===b?this.Kj(a):this.VW(a,Math.sin(b),Math.cos(b))}VW(a,b,e){const c=a.ba*b,h=a.Y*b,m=a.ma*b;b*=a.ga;const g=a.ba*e,k=a.Y*e,n=a.ma*e;
a=a.ga*e;this.Db=g-h;this.Eb=k+c;this.sc=n-h;this.tc=k+m;this.mc=n-b;this.nc=a+m;this.kc=g-b;this.lc=a+c}uL(a){a.set(Math.min(this.Db,this.sc,this.mc,this.kc),Math.min(this.Eb,this.tc,this.nc,this.lc),Math.max(this.Db,this.sc,this.mc,this.kc),Math.max(this.Eb,this.tc,this.nc,this.lc))}Pf(a,b){var e=this.sc-this.Db,c=this.tc-this.Eb;const h=this.mc-this.Db,m=this.nc-this.Eb;a-=this.Db;b-=this.Eb;var g=e*e+c*c;let k=e*h+c*m;c=e*a+c*b;const n=h*h+m*m,p=h*a+m*b;let q=1/(g*n-k*k);e=(n*c-k*p)*q;g=(g*p-
k*c)*q;if(0<=e&&0<g&&1>e+g)return!0;e=this.kc-this.Db;c=this.lc-this.Eb;g=e*e+c*c;k=e*h+c*m;c=e*a+c*b;q=1/(g*n-k*k);e=(n*c-k*p)*q;g=(g*p-k*c)*q;return 0<=e&&0<g&&1>e+g}lt(){return(this.Db+this.sc+this.mc+this.kc)/4}mt(){return(this.Eb+this.tc+this.nc+this.lc)/4}yL(a){var b=a.lt(),e=a.mt();if(this.Pf(b,e))return!0;b=this.lt();e=this.mt();if(a.Pf(b,e))return!0;b=this.Db;e=this.Eb;const c=this.sc,h=this.tc,m=this.mc,g=this.nc,k=this.kc,n=this.lc;return d.CD(b,e,c,h,a)||d.CD(c,h,m,g,a)||d.CD(m,g,k,n,
a)||d.CD(k,n,b,e,a)}Fga(){const a=this.Db,b=this.Eb;this.Db=this.sc;this.Eb=this.tc;this.sc=this.mc;this.tc=this.nc;this.mc=this.kc;this.nc=this.lc;this.kc=a;this.lc=b}}}
{"use strict";const d=self.D,a=[0,0,1,0,1,1,0,1],b=d.B(d.Hd);d.to=class extends d.ja{constructor(e,c=!0){super();e||(e=a);this.Vd=Float64Array.from(e);this.IA=new d.Rect;this.Np=!0;this.fh=c}j(){}KW(){return this.Vd.length/2}DD(e){this.Vd.length===e.length?this.Vd.set(e):this.Vd=Float64Array.from(e);this.Np=!0}Kga(){this.DD(a)}ra(e){this.DD(e.Vd)}VL(){this.Np=!0}Vea(){if(this.Np){var e=this.Vd,c=e[0],h=e[1],m=c,g=h;for(let k=0,n=e.length;k<n;k+=2){const p=e[k],q=e[k+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.IA.set(c,h,m,g);this.Np=!1}}Kj(e){let c=this.Vd;8!==c.length&&(this.Vd=c=new Float64Array(8));c[0]=e.ba-NaN;c[1]=e.Y-NaN;c[2]=e.ma-NaN;c[3]=e.Y-NaN;c[4]=e.ma-NaN;c[5]=e.ga-NaN;c[6]=e.ba-NaN;c[7]=e.ga-NaN;this.IA.ra(e);this.IA.offset(NaN,NaN);this.Np=!1}WL(e,c,h){b.ra(e);b.offset(c,h);this.DD(b.toArray());this.Np=!0}transform(e,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.cM(e,c,m,g)}cM(e,c,h,m){const g=this.Vd;for(let k=0,n=g.length;k<n;k+=2){const p=k+1,q=g[k]*
e,u=g[p]*c;g[k]=q*m-u*h;g[p]=u*m+q*h}this.Np=!0}offset(e,c){const h=this.Vd;for(let m=0,g=h.length;m<g;m+=2)h[m]+=e,h[m+1]+=c}Pf(e,c){const h=this.Vd;if(e===h[0]&&c===h[1])return!0;this.Vea();var m=this.IA;const g=m.ba-110,k=m.Y-101,n=m.ma+131;m=m.ga+120;let p,q,u,w,r,v,y,A;g<e?(p=g,u=e):(p=e,u=g);k<c?(q=k,w=c):(q=c,w=k);n<e?(r=n,y=e):(r=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],P=h[H+1],R=h[F];F=h[F+1];d.Hm(g,k,e,c,p,u,q,w,M,P,R,F)&&++G;
d.Hm(n,m,e,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Dx(e,c,h){const m=e.Vd,g=this.Vd;if(this.Pf(m[0]+c,m[1]+h)||e.Pf(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var k=(n+2)%p;e=g[n];const q=g[n+1],u=g[k];k=g[k+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<k?(r=q,y=k):(r=k,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.Hm(e,q,u,k,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}Kh(){return this.fh}}}
{"use strict";const d=self.D;d.gu=class extends d.ja{constructor(a){super();this.Gk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}j(){this.Ed();this.Gk=null}Ed(){const a=this.Gk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Gk;let h=c.get(a);h||(h=new Map,c.set(a,h));h.set(b,e)}ca(a,b){return(a=this.Gk.get(a))?a.get(b):a}Yy(a){return(a=this.Gk.get(a))?a.has(void 0):!1}uo(a,b){const e=this.Gk,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}MM(a){const b=this.Gk,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,h]of b.entries())h.delete(a)&&0===h.size&&b.delete(c)}Tm(){let a=0;for(const b of this.Gk.values())a+=b.size;return a}*values(){for(const a of this.Gk.values())yield*a.values()}*entries(){for(const [a,b]of this.Gk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.D;d.SD=class extends d.ja{constructor(){super();this.Mn=new Set;this.EA=[];this.Dw=!1}j(){this.Ed()}Ed(){this.Mn.clear();d.F(this.EA);this.Dw=!1}Ic(a){this.Mn.has(a)||(this.Mn.add(a),this.Dw||this.EA.push(a))}Yy(a){return this.Mn.has(a)}uo(a){this.Mn.delete(a)&&(this.Dw=!0)}Tm(){return this.Mn.size}Mo(){return 0===this.Mn.size}qE(){this.Dw&&(this.Vaa(),this.Dw=!1);return this.EA}Vaa(){const a=this.EA;d.F(a);for(const b of this.Mn)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.zt=class m{constructor(){}static k2(g){this.yG();return[...a.keys()].includes(g)}static v9(g){const k=h.get(g);if(k)return d.get(k);if(m.k2(g))return d.get(g);if(c.has(g))return c.get(g)}static Do(g){this.yG();const k=m.v9(g);return k?k:e.get(g)}static yG(){0===d.size&&(this.Gb("default",()=>{}),this.Gb("noease",this.X2),this.Gb("easeinsine",this.VZ),this.Gb("easeoutsine",
this.d_),this.Gb("easeinoutsine",this.RZ),this.Gb("easeinelastic",this.GZ),this.Gb("easeoutelastic",this.ZZ),this.Gb("easeinoutelastic",this.MZ),this.Gb("easeinback",this.DZ),this.Gb("easeoutback",this.WZ),this.Gb("easeinoutback",this.IZ),this.Gb("easeinbounce",this.QM),this.Gb("easeoutbounce",this.jE),this.Gb("easeinoutbounce",this.JZ),this.Gb("easeincubic",this.FZ),this.Gb("easeoutcubic",this.YZ),this.Gb("easeinoutcubic",this.LZ),this.Gb("easeinquad",this.SZ),this.Gb("easeoutquad",this.a_),this.Gb("easeinoutquad",
this.OZ),this.Gb("easeinquart",this.TZ),this.Gb("easeoutquart",this.b_),this.Gb("easeinoutquart",this.PZ),this.Gb("easeinquint",this.UZ),this.Gb("easeoutquint",this.c_),this.Gb("easeinoutquint",this.QZ),this.Gb("easeincirc",this.EZ),this.Gb("easeoutcirc",this.XZ),this.Gb("easeinoutcirc",this.KZ),this.Gb("easeinexpo",this.HZ),this.Gb("easeoutexpo",this.$Z),this.Gb("easeinoutexpo",this.NZ),this.yQ("cubicbezier",this.CZ),this.yQ("spline",this.e_))}static Gb(g,k){m.tG(g,k,"predefined")}static yQ(g,k){m.tG(g,
k,"private")}static wX(g,k){this.yG();m.tG(g,k,"custom",void 0)}static tG(g,k,n,p){switch(n){case "predefined":d.set(g,k);a.set(g,k);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(g,k)):e.set(g,k);break;case "private":d.set(g,k);c.set(g,k);break;default:throw Error("unexpected ease mode");}}static X2(g,k,n,p){return n*g/p+k}static SZ(g,k,n,p){return n*(g/=p)*g+k}static a_(g,k,n,p){return-n*(g/=p)*(g-2)+k}static OZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g+k:-n/2*(--g*(g-2)-1)+k}static FZ(g,
k,n,p){return n*(g/=p)*g*g+k}static YZ(g,k,n,p){return n*((g=g/p-1)*g*g+1)+k}static LZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g+k:n/2*((g-=2)*g*g+2)+k}static TZ(g,k,n,p){return n*(g/=p)*g*g*g+k}static b_(g,k,n,p){return-n*((g=g/p-1)*g*g*g-1)+k}static PZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+k:-n/2*((g-=2)*g*g*g-2)+k}static UZ(g,k,n,p){return n*(g/=p)*g*g*g*g+k}static c_(g,k,n,p){return n*((g=g/p-1)*g*g*g*g+1)+k}static QZ(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+k:n/2*((g-=2)*g*g*g*g+2)+k}static VZ(g,
k,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+k}static d_(g,k,n,p){return n*Math.sin(g/p*(Math.PI/2))+k}static RZ(g,k,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+k}static HZ(g,k,n,p){return 0===g?k:n*Math.pow(2,10*(g/p-1))+k}static $Z(g,k,n,p){return g===p?k+n:n*(-Math.pow(2,-10*g/p)+1)+k}static NZ(g,k,n,p){return 0===g?k:g===p?k+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+k:n/2*(-Math.pow(2,-10*--g)+2)+k}static EZ(g,k,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+k}static XZ(g,k,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+k}static KZ(g,k,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+k:n/2*(Math.sqrt(1-(g-=2)*g)+1)+k}static GZ(g,k,n,p){let q=0,u=n;if(0===g)return k;if(1===(g/=p))return k+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+k}static ZZ(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(1===(g/=p))return k+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+k}static MZ(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(2===(g/=p/2))return k+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+k:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+k}static DZ(g,k,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+k}static WZ(g,k,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+k}static IZ(g,k,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+k:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+k}static QM(g,k,n,p){return n-m.jE(p-g,0,n,p)+k}static jE(g,k,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+k:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+k:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+k:n*(7.5625*(g-=2.625/2.75)*g+.984375)+k}static JZ(g,k,n,p){return g<p/2?.5*m.QM(2*g,0,n,p)+k:.5*m.jE(2*g-p,0,n,p)+.5*n+k}static CZ(g,k,n,p,q){return k+3*g*(n-k)+3*g**2*(k+p-2*n)+g**3*(q-k+3*n-3*p)}static e_(g,k,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-k;u=3*u-6*p+3*k;k=3*(p-k);p=3*r*y*y+2*u*y+k;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+k)*y-g)/(3*r*y*y+2*u*y+k);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+k)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static E_(g,k,n,p){const q=[];p=p-3*n+3*k-g;n=3*n-6*k+3*g;g=3*(k-g);for(let u=
0;11>u;++u)k=.1*u,q.push(((p*k+n)*k+g)*k);return q}}}{"use strict";const d=self.D;d.bna=class{constructor(){this.yU=[]}j(){this.Ed();this.yU=null}Ed(){d.rfa(this.yU)}}}"use strict";
self.D.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Yfa=this.QL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Yfa)throw Error(`cannot stop async event '${this.type}' propagation`);this.QL=!0}};
{"use strict";const d=self.D;d.Event.Q0=class extends d.ja{constructor(a){super();this.Aa=a;this.zf=[];this.Or=new Set;this.Hf=[];this.vs=new Set;this.Nv=0;this.Fs=[]}j(){0<this.Nv||(d.F(this.zf),this.Or.clear(),d.F(this.Hf),this.vs.clear(),d.F(this.Fs),d.j(this))}wQ(a,b){this.OR()?this.Fs.push({LL:"add",wi:a,capture:b}):b?this.Or.has(a)||(this.zf.push(a),this.Or.add(a)):this.vs.has(a)||(this.Hf.push(a),this.vs.add(a))}jba(a,b){this.OR()?this.Fs.push({LL:"remove",wi:a,capture:b}):b?this.Or.has(a)&&
(this.Or.delete(a),d.bl(this.zf,a)):this.vs.has(a)&&(this.vs.delete(a),d.bl(this.Hf,a))}i$(){return!this.zf.length&&!this.Hf.length}OR(){return 0<this.Nv}Saa(){const a=new Set,b=new Set;for(const e of this.Fs)if("add"===e.LL)this.wQ(e.wi,e.capture),e.capture?b.delete(e.wi):a.delete(e.wi);else if("remove"===e.LL)e.capture?(this.Or.delete(e.wi),b.add(e.wi)):(this.vs.delete(e.wi),a.add(e.wi));else throw Error("invalid op");d.Bg(this.Hf,a);d.Bg(this.zf,b);d.F(this.Fs)}h9(a){this.Fr();let b=!1;for(let e=
0,c=this.zf.length;e<c;++e)if(this.zf[e](a),a.QL){b=!0;break}if(!b)for(let e=0,c=this.Hf.length;e<c&&(this.Hf[e](a),!a.QL);++e);this.Br();return!a.defaultPrevented}j9(a){this.Fr();for(let b=0,e=this.zf.length;b<e;++b)this.zf[b](a);for(let b=0,e=this.Hf.length;b<e;++b)this.Hf[b](a);this.Br();return!0}Fr(){this.Nv++}Br(){this.Nv--;0===this.Nv&&0<this.Fs.length&&this.Saa()}kr(a){a?this.Fr():this.Br()}eR(a){const b=[];this.Fr();for(let c=0,h=this.zf.length;c<h;++c){var e=this.zf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,h=this.Hf.length;c<h;++c)e=this.Hf[c](a),e instanceof Promise&&b.push(e);this.Br();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async e9(a){return await this.eR(a)}async f9(a){this.Fr();for(let e=0,c=this.zf.length;e<c;++e){var b=this.zf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Hf.length;e<c;++e)b=this.Hf[e](a),b instanceof Promise&&await b;this.Br();return!a.defaultPrevented}*g9(a){this.Fr();for(let e=0,c=this.zf.length;e<c;++e){var b=
this.zf[e](a);d.Xm(b)&&(yield*b)}for(let e=0,c=this.Hf.length;e<c;++e)b=this.Hf[e](a),d.Xm(b)&&(yield*b);this.Br()}}}
{"use strict";const d=self.D;d.Event.Fb=class extends d.ja{constructor(){super();this.Cp=new Map;this.sI=!1}j(){if(this.sI)throw Error("already released");this.tY();this.sI=!0;d.j(this)}Rz(){return this.sI}tY(){for(let a of this.Cp.values())a.j();this.Cp.clear()}lp(a,b){let e=this.Cp.get(a);return e?e:b?(e=d.B(d.Event.Q0,a),this.Cp.set(a,e),e):null}SE(a){return this.Cp.has(a)}addEventListener(a,b,e){this.lp(a,!0).wQ(b,!!e)}removeEventListener(a,b,e){let c=this.lp(a,!1);c&&(c.jba(b,!!e),c.i$()&&this.Cp.delete(a))}dispatchEvent(a){const b=
this.lp(a.type,!1);return b?a.cancelable?b.h9(a):b.j9(a):!0}async pL(a){const b=this.lp(a.type,!1);return b?await b.e9(a):!0}Cfa(a){const b=this.lp(a.type,!1);return b?b.eR(a):!0}async Bfa(a){const b=this.lp(a.type,!1);b&&await b.f9(a)}Dfa(a){const b=this.lp(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.g9(a)}kr(a){for(const b of this.Cp.values())b.kr(a)}}}
{"use strict";const d=self.D,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function h(n){e=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(b.length){var p=performance.now(),q=0;do{g(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&b.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.wi()}catch(q){n.reject(q);return}n.resolve(p)}let k=d.yF.Yy("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.el=function(n){let p=null;d.Ex&&(p=d.xy());return new Promise((q,u)=>{b.push({wi:n,resolve:q,reject:u,stack:p});k?g(b.pop()):-1===e&&h(16)})};d.el.EP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let a=-1;function b(){a=-1}d.uy=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,h=new Set;function m(){c=e=-1;let g=Date.now();for(let k of h)if(k.J7(g)){let n=k.xp;if(-1===c||n<c)c=n}else h.delete(k);-1!==c&&(e=self.setTimeout(m,Math.max(c-g+100,1E3)))}d.r1=class{constructor(g,k){this.Nr=g;this.XC=1E3*k;this.xp=0;this.Lb=!1}rd(){let g=d.uy();this.xp=g+this.XC;this.Lb||(h.add(this),this.Lb=!0);-1===e?(c=this.xp,e=self.setTimeout(m,this.XC+
100)):this.xp<c&&c>g+1E3&&(self.clearTimeout(e),c=this.xp,e=self.setTimeout(m,this.XC+100))}J7(g){return g>=this.xp?this.Nr()?(this.xp=g+this.XC,!0):this.Lb=!1:!0}lY(){this.Lb&&(h.delete(this),this.Lb=!1,0===h.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}j(){this.lY();this.Nr=null}}}
{"use strict";const d=self.D;d.vc=class a{constructor(b){this.ds=!1;this.tI=b}oy(){this.ds||(this.ds=!0,this.tI&&(this.tI(),this.tI=null))}j(){this.oy()}static j(b){return new a(()=>b.j())}static nd(b,e,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new d.Dq;for(let g of e)b.addEventListener(g,c,h),m.Ic(d.B(d.vc,()=>b.removeEventListener(g,c,h)));return m}b.addEventListener(e,
c,h);return d.B(d.vc,()=>b.removeEventListener(e,c,h))}};d.fqa=class extends d.vc{};d.Dq=class extends d.vc{constructor(...a){super();this.Id=new Set;for(let b of a)this.Ic(b)}Ic(...a){if(this.ds)throw Error("already disposed");for(let b of a)this.Id.add(b)}Nh(a){if(this.ds)throw Error("already disposed");this.Id.delete(a)}oy(){if(this.ds)throw Error("already disposed");this.ds=!0;for(let a of this.Id)a.oy();this.Id.clear();this.Id=null}j(){this.oy()}}}
{"use strict";const d=self.D;d.mz=class extends d.ja{constructor(){super();this.Os=this.$w=this.R=this.LA=0}Ic(a){this.R=+a-this.LA;this.$w=this.Os+this.R;this.LA=this.$w-this.Os-this.R;this.Os=this.$w}ca(){return this.Os}rd(){this.Os=this.$w=this.R=this.LA=0}Set(a){this.$w=this.R=this.LA=0;this.Os=+a}j(){}}}
{"use strict";const d=self.D,a={AF:function(b){this.gX=b;this.left=this.right=this.gX.qb;this.parent=null;this.color=!1;this.key=null},So:function(b){this.size=0;this.qb=new a.AF(this);this.qb.color=!1;this.root=this.qb;this.root.parent=this.qb;this.compare=b||this.yfa}};xa=a.So.prototype;xa.yfa=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.So(this.compare);b.Tfa(this);return b};xa.clear=function(){this.size=0;this.qb=new a.AF(this);this.qb.color=!1;this.root=this.qb;this.root.parent=
this.qb};xa.Gx=function(b){var e=b.right;b.right=e.left;e.left!=this.qb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.qb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.Nx=function(b){var e=b.left;b.left=e.right;e.right!=this.qb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.qb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.ft=function(b){if(this.contains(b))this.Bx(b).key=b;else{var e=new a.AF(this);e.key=
b;b=this.qb;for(var c=this.root;c!=this.qb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.qb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.qb;e.right=this.qb;e.color=!0;this.Ufa(e);this.size++}};xa.Ufa=function(b){for(;b!=this.qb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Gx(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.qb&&this.Nx(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Nx(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.qb&&this.Gx(b.parent.parent));this.root.color=!1};xa.Afa=function(b){var e=b.left==this.qb||b.right==this.qb?b:this.oo(b);var c=e.left!=this.qb?e.left:e.right;c.parent=e.parent;e.parent==
this.qb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.zfa(c);this.size--};xa.zfa=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Gx(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Nx(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Gx(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.Nx(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Gx(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.Nx(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Bx(b);if(b!=this.qb){var e=b.key;this.Afa(b);return e}return null};xa.min=function(b){for(;b.left!=this.qb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.qb;)b=b.right;return b};xa.oo=function(b){if(b.right!=this.qb)return this.min(b.right);for(var e=b.parent;e!=this.qb&&b==e.right;)b=e,e=e.parent;return e};xa.Bx=function(b){for(var e=this.root;e!=this.qb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.Bx(b).key};xa.vL=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.Tfa=function(b){if("array"==a.dM(b))for(var e=0;e<b.length;e++)this.ft(b[e]);
else if("function"==a.dM(b.forEach))b.forEach(this.ft,this);else if("function"==a.dM(b.vL))for(b=b.vL(),e=0;e<b.length;e++)this.ft(b[e]);else if("object"==a.dM(b))for(e in b)this.ft(b[e])};xa.range=function(b,e){var c=[];this.bha(function(h){c.push(h)},b,e);return c};xa.bha=function(b,e,c){if(!this.it())for(e=this.Bx(e),c=this.Bx(c);e!=c&&!b.call(void 0,e.key,this);)e=this.oo(e)};xa.forEach=function(b,e){if(!this.it())for(var c=this.min(this.root);c!=this.qb;c=this.oo(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.it())return!1;for(var c=this.min(this.root);c!=this.qb;c=this.oo(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.it())return!1;for(var c=this.min(this.root);c!=this.qb;c=this.oo(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.it())return c;for(var h=this.min(this.root);h!=this.qb;h=this.oo(h))c.push(b.call(e,h.key,h.key,this));return c};xa.filter=function(b,e){var c=[];if(this.it())return c;
for(var h=this.min(this.root);h!=this.qb;h=this.oo(h))b.call(e,h.key,h.key,this)&&c.push(h.key);return c};xa.it=function(){return 0==this.size};d.So=class extends d.ja{constructor(b){super();this.oh=new a.So(b);this.hs=!1;this.hq=new Set;this.iq=new Set}Ic(b){this.hs?this.oh.contains(b)?this.iq.delete(b):this.hq.add(b):this.oh.ft(b)}Nh(b){this.hs?this.oh.contains(b)?this.iq.add(b):this.hq.delete(b):this.oh.remove(b)}Yy(b){return this.hs?this.hq.has(b)?!0:!this.iq.has(b)&&this.oh.contains(b):this.oh.contains(b)}Ed(){this.oh.clear();
this.hq.clear();this.iq.clear()}toArray(){if(this.hs)throw Error("cannot be used in queueing mode");return this.oh.vL()}Tm(){return this.oh.size+this.hq.size-this.iq.size}Mo(){return 0===this.Tm()}Oh(b){b=!!b;if(this.hs!==b&&(this.hs=b,!b)){for(const e of this.iq)this.oh.remove(e);this.iq.clear();for(const e of this.hq)this.oh.ft(e);this.hq.clear()}}ZM(b){this.oh.forEach(b)}*values(){if(!this.Mo()){var b=this.oh;for(let e=b.min(b.root);e!=b.qb;e=b.oo(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.WO=class{constructor(a=d.hardwareConcurrency){this.uea=a;this.lK=[];this.JH=0}Ic(a){return new Promise((b,e)=>{this.lK.push({wi:a,resolve:b,reject:e});this.YR()})}async YR(){if(this.lK.length&&!(this.JH>=this.uea)){this.JH++;var a=this.lK.shift();try{const b=await a.wi();a.resolve(b)}catch(b){a.reject(b)}this.JH--;this.YR()}}}}
{"use strict";const d=self.D;d.r4=class{constructor(a,b,e){this.Nr=a;this.fea=b;this.gea=e||2*b;this.Ss=-1;this.XB=-Infinity;this.FV=()=>this.Faa();this.Mda=this.VI=!1;this.yv=null}z9(){return"undefined"!==typeof d.ZX&&d.ZX.Pka()?this.gea:this.fea}kY(){var a=[];if(-1===this.Ss){this.yv=a;a=d.uy();var b=a-this.XB,e=this.z9();b>=e&&this.Mda?(this.XB=a,this.xS()):this.Ss=self.setTimeout(this.FV,Math.max(e-b,4))}}xS(){this.VI=!0;const a=this.yv;this.yv=null;a?this.Nr(...a):this.Nr();this.VI=!1}rd(){this.VI||
(this.GQ(),this.yv=null,this.XB=d.uy())}Faa(){this.Ss=-1;this.XB=d.uy();this.xS()}GQ(){-1!==this.Ss&&(self.clearTimeout(this.Ss),this.Ss=-1)}j(){this.GQ();this.FV=this.yv=this.Nr=null}}}"use strict";function hc(d,a){if(!d.ST)throw Error("no get base size callback set");return d.ST(a)}self.D.uoa=class{constructor(){this.cea=new Map;this.hV=this.jV=this.ST=null}yz(){if(!this.hV)throw Error("no redraw callback set");this.hV()}};"use strict";
self.D.toa=class{constructor(d,a){this.kh=d;this.Tda=a;this.Sc=0;hc(this.kh,a).then(()=>{this.kh.yz()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.kh.yz()});this.mK=null}j(){if(0>=this.Sc)throw Error("already released");this.Sc--;0===this.Sc&&this.$u()}$u(){if(this.mK){var d=this.kh;if(!d.jV)throw Error("no release result callback set");d.jV(this.mK);this.mK=null}this.kh.cea.delete(this.Tda);this.kh=null}};
{"use strict";const d=self.D;d.wqa="\ufeff";const a=new Set([..."0123456789"]);d.l2=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.lz=function(n){return b.has(n)};d.wja=function(n){return[...n].filter(p=>!d.lz(p)).join("")};d.qF=function(n){for(const p of n)if(!d.lz(p))return!1;return!0};d.w2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.q_=function(n){return[...n].filter(p=>
!d.w2(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.fla=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};d.B4=function(n){let p=n.length;for(;0<p&&d.l2(n.charAt(p-1));)--p;return n.substr(0,p)};d.gka=function(n){let p=d.B4(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;d.i_=function(n){return n.replace(m,h)};d.mja=function(n){n=d.Ri(n,"\\","\\\\");n=d.Ri(n,'"','\\"');n=d.Ri(n,"\t","\\t");n=d.Ri(n,"\r","");return d.Ri(n,"\n","\\n")};d.nja=function(n){n=d.Ri(n,"&","&amp;");n=d.Ri(n,"<","&lt;");n=d.Ri(n,">","&gt;");return d.Ri(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.At=function(n){return n.replace(g,"\\$&")};d.xja=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.Ri=function(n,p,q){return n.replaceAll(p,()=>q)};d.tna=function(n,p,q){return n.replace(new RegExp(d.At(p),"gi"),()=>q)};d.Poa=function(n,p){"string"===typeof p?n.textContent=p:p.tU?n.textContent=p.toString():(n.innerHTML=p.$L(),p instanceof d.Mm&&p.ifa(n))};d.aqa=function(n,p){return n instanceof d.XE||n instanceof d.Mm?n.yd(p):p instanceof d.XE||p instanceof d.Mm?p.yd(n):n===p};d.bqa=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.cqa=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.dqa=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.Npa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.Bja=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.zsa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const k={ffa:!1,vfa:!0,Sfa:!0,nga:!0,TW:!0};d.Cja=function(n,p){p=Object.assign({},
k,p);d.z2.fna("common.time");const q=[],u=self.lang,w=self.ysa;if(p.vfa){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.Sfa&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.nga&&(r=Math.floor(n/60),0<r||q.length||!p.TW)&&(n-=60*r,q.push(w(".minutes",null,r)));p.TW&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.ffa?u(".approx-prefix"):"")+q.join(u(".separator"));d.z2.Xma();return n};d.ara=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.eqa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Kia=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.RW(n);d.RW(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.Yia=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.Zpa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.$pa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.D,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(k,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return k=q[0],q=q[1],n?"</"+k+">":`<${k} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:k}const g=/\n/g;d.Mm=class{constructor(k,n){this.Uh=n&&n.rga?k:d.i_(k);this.UI="";this.tT=!1;this.vw=[];if(n&&(this.tT=!!n.vra,n.links)){if(9<n.links.length)throw Error("too many links");this.vw=n.links}this.XT=this.Uh.includes("[");this.VU=this.tT&&this.Uh.includes("\n");this.tU=!this.XT&&!this.VU&&!this.Uh.includes("&");this.aU=!1;this.Pv=[]}toString(){return this.Uh}valueOf(){return this.Uh}$L(){if(this.tU)return this.Uh;if(!this.UI&&this.Uh){let k=this.Uh;
this.XT&&(h=0,c=this.vw,k=k.replace(b,m),c=null);this.VU&&(k=k.replace(g,"<br>"));this.UI=k}return this.UI}ifa(k){if(this.vw.length)for(let n=0,p=this.vw.length;n<p;++n){const q=this.vw[n];if("function"!==typeof q)continue;const u=k.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}yd(k){return k instanceof d.XE?this.$L()===k.$L():k instanceof d.Mm?this.Uh===k.Uh:this.Uh===k}Xga(){if(this.aU)return this.Pv;const k=this.Uh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(k));){var u=q.index;if(0<u&&"\\"===k.charAt(u-1))continue;var w=q[1],r=q[2];const v=k.substring(p,u);p=u+q[0].length;v&&this.Pv.push({text:v,zd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,xi:u})}p<k.length&&this.Pv.push({text:k.substring(p),zd:n.slice(0)});for(const v of this.Pv)v.text=
this.Raa(v.text);this.aU=!0;return this.Pv}Raa(k){k=d.Ri(k,"\\[","[");return d.Ri(k,"\\\\","\\")}static bQ(k){return k.replace(e,"")}}}
{"use strict";const d=self.D;d.sG=class{constructor(){this.Dn=[]}$R(a,b){let e=0,c=0,h=0,m=0,g=0;for(const k of a)-1===k.width&&(a=b(k.text,k.zd),k.width=a.width,k.height=a.height,k.Cg=a.Cg||0,k.Qf=a.Qf||0,k.Tf=a.Tf||0),e+=k.width,c=Math.max(c,k.height),h=Math.max(h,k.Cg),m=Math.max(m,k.Qf),g=Math.max(g,k.Tf);return{width:e,height:c,Cg:h,Qf:m,Tf:g}}Uz(a,b,e,c,h,m){this.Dn.push({pW:a,width:b,height:e,Cg:c,Qf:h,Tf:m})}sG(a,b,e,c,h){"string"===typeof a&&(a=[{text:a,zd:[]}]);d.F(this.Dn);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var m=a[0];const g=m.text;m=m.zd;if(100>=g.length&&!g.includes("\n")){let {width:k,height:n,Cg:p,Qf:q,Tf:u}=b(g,m);k+=h;p=p||0;q=q||0;u=u||0;if(k<=e){this.Uz([{text:g,zd:m,width:k,height:n,Cg:p,Qf:q,Tf:u}],k,n,p,q,u);return}}}if("word"===c)c=this.Yca(a);else{c=[];for(const g of a)d.eo(c,[...g.text].map(k=>[{text:k,zd:g.zd}]))}this.rda(c,b,e,h)}}Yca(a){const b=[];let e=[],c=!1;for(const m of a){var h=m.text;a=m.zd;for(const g of h)"\n"===g?(0<
e.length&&b.push(e),b.push([{text:"\n",zd:a}]),e=[]):0===e.length?(e.push({text:g,zd:a}),c=d.lz(g)):(h=d.lz(g),h===c?(h=e.ke(-1),h.zd===a?h.text+=g:e.push({text:g,zd:a})):(b.push(e),e=[],e.push({text:g,zd:a}),c=h))}0<e.length&&b.push(e);return b}M7(a){return a.map(b=>({text:b.text,zd:b.zd,width:b.width,height:b.height,Cg:b.Cg,Qf:b.Qf,Tf:b.Tf}))}BQ(a,b){var e=a.length?a.ke(-1):null;let c=0;e&&b[0].zd===e.zd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.Cg=-1,e.Qf=-1,e.Tf=-1,c=1);for(e=b.length;c<e;++c){const h=
b[c];a.push({text:h.text,zd:h.zd,width:-1,height:-1,Cg:-1,Qf:-1,Tf:-1})}}rda(a,b,e,c){let h=[],m=0,g=0,k=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===g&&(p=b(" ",q[0].zd),g=p.height,k=p.Cg||0,n=p.Qf||0,p=p.Tf||0);this.Uz(h,m,g,k,n,p);h=[];p=n=k=g=m=0;continue}a=this.M7(h);this.BQ(a,q);const u=this.$R(a,b),w=u.width;w>=e?(0<h.length&&this.Uz(h,m,g,k,n,p),h=[],d.qF(q[0].text)?p=n=k=g=m=0:(this.BQ(h,q),p=this.$R(h,b),m=p.width,g=p.height,k=p.Cg,n=p.Qf,p=p.Tf)):(h=a,m=w,g=u.height,
k=u.Cg,n=u.Qf,p=u.Tf)}0<h.length&&this.Uz(h,m,g,k,n,p);this.ada(b,c)}ada(a,b){for(const c of this.Dn){const h=c.pW;if(!h.length)continue;let m=h.ke(-1);var e=m.text;const g=e.trimEnd();if(!g)c.width-=m.width,h.pop();else if(g.length<e.length){e=a(g,m.zd).width;const k=m.width-e;m.width=e;m.text=g;c.width-=k}0!==b&&0<h.length&&(m=h.ke(-1),m.width+=b,c.width+=b)}}Ed(){d.F(this.Dn)}s0(){return this.Dn.reduce((a,b)=>Math.max(a,b.width),0)}L0(){return this.Dn.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.D,a=self.Ij,b=a.ID,e=a.Qx,c=a.Gm,h=b.create(),m=b.create(),g=b.create(),k=e.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=e.Rf(0,0,1,1);d.K={i4(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},rk(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.ht(n,n))return!1;k[0]=(J-Z[0])/Z[2]*2-1;k[1]=(M-Z[1])/Z[3]*2-1;k[2]=2*P-1;k[3]=1;e.bM(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];X[0]=k[0]*k[3];X[1]=k[1]*k[3];X[2]=k[2]*k[3];return!0},H6(J,M,P,R,T,Z,X){if(!d.K.rk(J,M,0,R,T,Z,h)||!d.K.rk(J,M,1,R,T,Z,m))return!1;b.Km(m,m,h);b.set(g,0,0,1);J=-P;M=b.io(g,m);P=0;if(0===M){if(0!==
b.io(g,h)+J)return!1}else if(P=-(b.io(h,g)+J)/M,0>P)return!1;b.UL(X,h,m,P);return!0}};function z(J,M,P,R){b.Km(h,P,M);b.Km(m,J,M);b.nL(g,h,m);b.normalize(g,g);R.set(g[0],g[1],g[2],b.io(J,g))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.nX,Na=X.pX;X=X.qX;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.qX=this.pX=this.nX=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.nX=0<J?1:0;this.pX=0<M?1:0;this.qX=0<P?1:0}}d.K.Q6=class{constructor(){this.KU=new H;this.GV=new H;this.mV=new H;this.mT=new H;this.TJ=new H;this.KT=new H}iY(J,M){d.K.rk(0,1,0,J,M,G,p);d.K.rk(1,1,0,J,M,G,q);d.K.rk(0,0,0,J,M,G,u);d.K.rk(1,0,0,J,M,G,w);d.K.rk(0,1,1,J,M,G,r);d.K.rk(1,1,1,J,M,G,v);d.K.rk(0,0,1,J,M,G,y);d.K.rk(1,0,1,J,M,G,A);z(u,p,r,this.KU);z(p,q,v,this.GV);z(q,w,A,this.mV);z(w,u,y,this.mT);z(y,r,v,this.KT);z(w,q,p,this.TJ)}EY(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.KU)&&F(J,M,P,R,T,Z,this.GV)&&F(J,M,P,R,T,Z,this.mV)&&F(J,M,P,R,T,Z,this.mT)&&F(J,M,P,R,T,Z,this.TJ)&&F(J,M,P,R,T,Z,this.KT)}d2(J,M,P){var R=this.TJ;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const d=self.D,a=self.Ij,b=a.ID,e=a.Qx,c=a.Gm,h=c.create(),m=b.Rf(0,0,0),g=b.Rf(0,0,0),k=b.Rf(0,0,0),n=b.Rf(0,1,0);e.Rf(0,0,0,0);new d.Hd;new d.Rect;const p=new d.Hd(0,0,1,0,1,1,0,1);d.K.E4=class{constructor(){this.W=this.Z=0;this.NT=d.wb(45);this.HK=Math.tan(this.NT/2);this.kC=c.create();this.MJ=c.create();this.rp=[];this.JC=new Map;this.wK=this.NC=this.OC=null;this.Yw=new Map;this.ij=null;this.aI=[];this.UU=new Map;this.Iv=this.rv=0;this.qea=this.rea=1;this.GJ=.5;this.ai=0;this.gs=
!0;this.rB=!1}p_(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}JQ(){this.Iv=this.rv=0;this.wK=this.NC=this.OC=null;this.K7()}cz(){this.JQ();this.ij=null}n3(){for(const q of this.rp)q.j();this.JQ()}S(){return this.Z}U(){return this.W}Bq(q,u,w=.5,r=.5){var v=this.NT;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.HK,u*=v,c.Kfa(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}hY(q,u,w){const r=self.devicePixelRatio,v=200*r*this.HK/w;u=u*v/(2*
r);w=w*v/(2*r);c.vga(q,-u,u,-w,w,1,1E4)}pM(q,u,w,r,v=this.U()){v=200*self.devicePixelRatio*this.HK/v;b.set(k,v,-v,1);b.multiply(m,u,k);b.multiply(g,w,k);c.jga(q,m,g,r||n);c.scale(q,q,k)}yt(q,u,w,r,v,y){b.set(m,q,u,w);b.set(g,r,v,0);this.pM(h,m,g,n,y);return h}t7(q){this.rp.push(q);this.JC.set(q.Ba(),q)}lba(q){const u=this.rp.indexOf(q);-1!==u&&this.rp.splice(u,1);this.JC.delete(q.Ba())}K7(){d.F(this.rp);this.JC.clear()}BN(q){return this.JC.get(q)||null}pk(){this.tr(this.OC)}vP(){this.tr(this.wK)}eca(q){this.ij=
q}tX(q,u,w,r){const v=d.K.lG.qO(q,u,w,r);let y=this.Yw.get(v);y||(y=d.B(d.K.lG,this,q,u,w,r),this.Yw.set(v,y));y.FX();return y}bP(q){q.XY();0===q.Sc&&(this.ij===q&&(this.ij=null),this.Yw.delete(q.l0()),q.j())}T9(q){d.F(this.aI);this.UU.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.aI.push([r,v]);this.UU.set(q,{bta:u,aua:r,Dra:v});u++}}t9(q){return this.aI[q]}jr(q){this.rv=q}pu(q){this.Iv=q;this.ij=null}pz(q,u,w,r,v,y){var A=this.GJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=
2*v;this.wz(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}oz(q,u,w,r,v,y){const A=this.GJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.wz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}nz(q,u,w,r,v,y){const A=this.GJ;q+=A;u+=A;w+=A;r+=A;this.wz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}D2(q,u,w,r){const v=.5*this.rea,y=this.qea;2===y?this.o$(q,u,w,r,v):1===y?this.n$(q,u,w,r,v):this.m$(q,u,w,r,v)}o$(q,u,w,r,v){this.pz(q,u,w,u,0,v);this.pz(w,u,w,r,v,0);this.pz(w,r,q,r,0,-v);this.pz(q,r,q,u,-v,0)}n$(q,u,w,
r,v){this.oz(q,u,w,u,0,v);this.oz(w,u,w,r,v,0);this.oz(w,r,q,r,0,-v);this.oz(q,r,q,u,-v,0)}m$(q,u,w,r,v){this.nz(q,u,w,u,0,v);this.nz(w,u,w,r,v,0);this.nz(w,r,q,r,0,-v);this.nz(q,r,q,u,-v,0)}kO(q){this.D2(q.ba,q.Y,q.ma,q.ga)}Dt(){this.Nj();this.ai++}u1(){this.ai++}VF(q){this.gs=!!q}C5(q){this.rB=!!q}xl(){return!1}}}"use strict";
self.D.K.i6=class{constructor(d,a,b){this.Ja=a;this.ua=d;this.HT=b.Ffa||0;this.IT=b.Gfa||0;this.uT=!!b.tfa;this.wea=!!b.pga;this.Es=!!b.xga;this.yda=!!b.efa;this.bI=!!b.jfa;this.dD=!!b.fha;this.NV=!1}j(){this.ua=null}lb(){return this.ua}Ba(){return this.Ja}$q(){return this.wea}};
{"use strict";const d=self.D;d.K.lG=class{constructor(a,b,e,c,h){this.ua=a;this.Sc=0;this.jd=null;this.Sw="";this.Zg=e;this.hb=d.B(d.gb);this.hb.set(c);this.ld=h;"string"===typeof b?this.Sw=b:(this.jd=b,this.Sw=this.jd.Ba())}j(){if(0<this.Sc)throw Error("releasing state group still in use");this.jd=this.ua=null;this.Sw=""}MX(){const a=this.ua;a.tr(this.jd);a.ig(this.Zg);a.cn(this.hb);a.pu(this.ld);a.eca(this)}l0(){return d.K.lG.qO(this.Sw,this.Zg,this.hb,this.ld)}FX(){++this.Sc}XY(){--this.Sc}yl(){this.jd=
null}vF(a){this.jd=a.BN(this.Sw);if(!this.jd)throw Error("failed to restore shader program");}static qO(a,b,e,c){return("string"===typeof a?a:a.Ba())+","+b+","+e.Xa+","+e.$a+","+e.Za+","+e.Ya+","+c}}}
{"use strict";const d=self.D,a=d.B(d.Hd);function b(e,c,h){const m=h.Db,g=h.Eb;return[m+(h.sc-m)*e+(h.kc-m)*c,g+(h.tc-g)*e+(h.lc-g)*c]}d.K.U2=class{constructor(e){this.QJ=e;this.wh=this.uh=this.ld=this.R=this.T=0}Wg(e,c,h,m){this.T=e;this.R=c;this.uh=h;this.wh=m}N(){return this.T}Te(e){this.T!==e&&(this.T=e,this.QJ.tH())}O(){return this.R}Ue(e){this.R!==e&&(this.R=e,this.QJ.tH())}Va(){return this.ld}qe(e){this.ld!==e&&(this.ld=Math.max(e,0),this.QJ.tH())}bG(e){this.uh=e}cG(e){this.wh=e}g$(e,c,h){[this.T,
this.R]=b(e.T,e.R,c);this.ld=e.ld;this.uh=d.Xd(h.ba,h.ma,e.uh);this.wh=d.Xd(h.Y,h.ga,e.wh)}f$(e,c,h){[this.T,this.R]=b(e.T,e.R,c);this.ld=e.ld;[this.uh,this.wh]=b(e.uh,e.wh,h)}sd(){return{x:this.N(),y:this.O(),z:this.Va(),u:this.uh,v:this.wh}}Xc(e){this.Te(e.x);this.Ue(e.y);e.hasOwnProperty("z")&&this.qe(e.z);this.bG(e.u);this.cG(e.v)}};d.K.sO=class{constructor(e,c,h){if(2>e||2>c)throw Error("invalid mesh size");this.Hk=e;this.Wk=c;this.Xb=h||null;this.Kn=[];this.SU=this.RU=0;this.OU=this.NU=1;this.PU=
0;this.gK=!1;h=e-1;const m=c-1;for(let g=0;g<c;++g){const k=[];for(let n=0;n<e;++n){const p=d.B(d.K.U2,this,n,g),q=n/h,u=g/m;p.Wg(q,u,q,u);k.push(p)}this.Kn.push(k)}}j(){d.F(this.Kn)}tH(){this.gK=!0}Ru(){if(this.gK){var e=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const k of this.Kn)for(const n of k){const p=n.N(),q=n.O();e=Math.min(e,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.Va())}this.RU=e;this.SU=c;this.NU=h;this.OU=m;this.PU=g;this.gK=!1}}w0(){this.Ru();return this.RU}x0(){this.Ru();
return this.SU}t0(){this.Ru();return this.NU}u0(){this.Ru();return this.OU}v0(){this.Ru();return this.PU}Lq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Hk||0>c||c>=this.Wk?null:this.Kn[c][e]}qM(e,c,h){const m=h instanceof d.Rect;if(e.Hk!==this.Hk||e.Wk!==this.Wk)throw Error("source mesh wrong size");e=e.Kn;const g=this.Kn;for(let k=0,n=g.length;k<n;++k){const p=e[k],q=g[k];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.g$(r,c,h):v.f$(r,c,h)}}}Ch(e){const c=this.Kn;let h=c[0];
for(let m=1,g=c.length;m<g;++m){const k=c[m];let n=h[0],p=k[0];for(let q=1,u=k.length;q<u;++q){const w=h[q],r=k[q];a.set(n.uh,n.wh,w.uh,w.wh,r.uh,r.wh,p.uh,p.wh);e.wz(n.N(),n.O(),n.Va(),w.N(),w.O(),w.Va(),r.N(),r.O(),r.Va(),p.N(),p.O(),p.Va(),a);n=w;p=r}h=k}}X1(e){e=e.Vd;const c=[],h=this.Hk-1,m=this.Wk-1,g=1/h,k=1/m,n=h-1,p=m-1;let q=e[0],u=e[1],w=d.ia(Math.floor(q*h),0,n),r=d.ia(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.ia(d.Xd(q,v,A),0,1);u=d.ia(d.Xd(u,y,A),0,1);c.push(q,u)};for(let F=
0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=d.ia(Math.floor(q*h),0,n),r=d.ia(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*k,P=(w+1)*g,R=(r+1)*k;if(0!==G&&(A=d.Mx(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.Mx(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.Mx(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<w&&1!==
G&&(A=d.Mx(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.Mx(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.B(d.to,c)}B6(e,c){e=this.Zca(e);this.Qca(e);c.DD(e)}Zca(e){const c=[];e=e.Vd;for(let h=0,m=e.length;h<m;h+=2){const [g,k]=this.fQ(e[h],e[h+1]);c.push(g,k)}return c}fQ(e,c){var h=this.Hk-1,m=this.Wk-1;const g=1/h,k=1/m;h=d.ia(Math.floor(e*h),0,h-1);const n=d.ia(Math.floor(c*m),0,m-1);m=h*g;const p=n*k,q=(h+1)*g,u=(n+1)*k,w=
this.Lq(h,n),r=this.Lq(h+1,n+1),v=d.$fa(e,c,m,p,q,p,q,u);h=this.Lq(h+(v?1:0),n+(v?0:1));const [y,A,G]=d.dha(e,c,m,p,v?m+g:m,v?p:p+k,q,u);return d.cha(y,A,G,w.N(),w.O(),h.N(),h.O(),r.N(),r.O())}Qca(e){const c=[];let h=e[0],m=e[1],g=h-e.ke(-2),k=m-e.ke(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(k)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(k)||v)&&1E-7<Math.abs(w/g-r/k)||
0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;k=r}6<=c.length&&c.length<e.length&&d.Vc(e,c)}sd(){return{cols:this.Hk,rows:this.Wk,points:this.Kn.map(e=>e.map(c=>c.sd()))}}Xc(e){const c=this.Hk,h=this.Wk;if(e.cols!==c||e.rows!==h)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<h;++m){const g=e[m];for(let k=0;k<c;++k)this.Lq(k,m).Xc(g[k])}}}}
{"use strict";const d=self.D,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{XL:n,gt:q,format:u,type:p}}const m={KD:"clamp-to-edge",LD:"clamp-to-edge",Jj:"trilinear",aW:0,NL:"rgba8",zD:!0,Jx:"default",premultiplyAlpha:!0,AW:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},k=new Set;d.K.Sz=class{constructor(n){this.ua=n;this.tb=null;this.W=this.Z=0;this.di=!0;this.ct=this.bt="clamp-to-edge";this.Cd="trilinear";this.RH=0;this.Jn="rgba8";this.am=!1;this.Xp=
"default";this.Sc=0}b8(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.tb)throw Error("already created texture");this.bt=p.KD;this.ct=p.LD;
this.Cd=p.Jj;this.RH=p.aW;this.Jn=p.NL;this.am=!!p.zD&&this.ua.gs;this.Xp=p.Jx;if(!c.has(this.bt)||!c.has(this.ct))throw Error("invalid wrap mode");if(!b.has(this.Cd))throw Error("invalid sampling");if(!a.has(this.Jn))throw Error("invalid pixel format");if(!e.has(this.Xp))throw Error("invalid mipmap quality");this.di=!0;if(n instanceof ArrayBuffer||null===n||p.AW){if(this.Z=p.width,this.W=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.Z*this.W*4)throw Error("ArrayBuffer wrong size");}else this.Z=
n.width,this.W=n.height;if(0>=this.Z||0>=this.W)throw Error("invalid texture data size");if(p.AW){var q=d.Ah(this.Z,this.W);q.getContext("2d").drawImage(n,0,0,this.Z,this.W);n=q}var u=d.dl(this.Z)&&d.dl(this.W);q=this.ua.lC;if(this.Z>q||this.W>q)throw Error("texture data exceeds maximum texture size");q=this.ua.X;var w=this.ua.kd;this.tb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.tb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.Jn,q);if(this.ua.ep()||u||!this.WG())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.am?Math.floor(Math.log2(Math.max(this.Z,this.W))+1):1,p.XL,this.Z,this.W),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.Z,this.W,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.gt,this.Z,this.W,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.gt,this.Z,this.W,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.gt,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.Z,this.W));n instanceof ImageData&&(u=d.Ah(this.Z,this.W),u.getContext("2d").putImageData(n,0,0),n=u);u=d.Ah(d.HW(this.Z),d.HW(this.W));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.Cd;w.drawImage(n,0,0,this.Z,this.W,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.gt,p.format,p.type,u)}null!==n&&this.NS(q);q.bindTexture(q.TEXTURE_2D,null);this.ua.jH();this.Sc=1;k.add(this)}O7(n,p,q){q=Object.assign({},m,q);if(this.tb)throw Error("already created texture");this.bt=q.KD;this.ct=q.LD;this.Cd=q.Jj;this.Jn=q.NL;this.am=!!q.zD&&this.ua.gs;this.Xp=q.Jx;if(!c.has(this.bt)||!c.has(this.ct))throw Error("invalid wrap mode");if(!b.has(this.Cd))throw Error("invalid sampling");if(!a.has(this.Jn))throw Error("invalid pixel format");if(!e.has(this.Xp))throw Error("invalid mipmap quality");
this.di=!1;this.Z=Math.floor(n);this.W=Math.floor(p);n=d.dl(this.Z)&&d.dl(this.W);p=this.ua.lC;if(0>=this.Z||0>=this.W)throw Error("invalid texture size");if(this.Z>p||this.W>p)throw Error("texture exceeds maximum texture size");if(!this.ua.ep()&&this.WG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ua.X;p=this.ua.kd;this.tb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.tb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.Jn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.XL:q.gt,this.Z,this.W,0,q.format,q.type,null);this.NS(n);n.bindTexture(n.TEXTURE_2D,null);this.ua.jH();this.Sc=1;k.add(this)}SG(n){if("default"===this.Xp)return this.di?n.NICEST:n.FASTEST;if("low"===this.Xp)return n.FASTEST;if("high"===this.Xp)return n.NICEST;throw Error("invalid mipmap quality");}WG(){return"clamp-to-edge"!==this.bt||"clamp-to-edge"!==this.ct}BR(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}NS(n){var p=d.dl(this.Z)&&d.dl(this.W);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.BR(n,this.bt));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.BR(n,this.ct));"nearest"===this.Cd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.am=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ua.ep())&&this.am?(n.hint(n.GENERATE_MIPMAP_HINT,
this.SG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Cd||this.ua.rB?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.am=!1));(p=this.ua.nv)&&0<this.RH&&"nearest"!==this.Cd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.RH,this.ua.OJ))}YS(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.tb||0>=this.Sc)throw Error("texture not created");if(this.di)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ua.kd;
const r=this.ua.X;r.bindTexture(r.TEXTURE_2D,this.tb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.Jn,r);w=2<=w?p.XL:p.gt;try{if(this.Z===q&&this.W===u){const v=d.dl(this.Z)&&d.dl(this.W);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ua.ep())&&this.am&&(r.hint(r.GENERATE_MIPMAP_HINT,this.SG(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Z=q;this.W=u;const v=d.dl(this.Z)&&d.dl(this.W);if(!this.ua.ep()&&this.WG()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ua.ep())&&this.am&&(r.hint(r.GENERATE_MIPMAP_HINT,this.SG(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.ua.jH()}FG(){if(0<this.Sc)throw Error("texture still has references");if(!this.tb)throw Error("already deleted texture");k.delete(this);this.ua.X.deleteTexture(this.tb);this.tb=null}lb(){return this.ua}u6(){if(0>=
this.Sc)throw Error("no more references");this.Sc--}S(){return this.Z}U(){return this.W}AE(){let n=this.Z*this.W;switch(this.Jn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.am&&(n+=Math.floor(n/3));return n}static yl(){k.clear()}static $ea(){return k.values()}}}
{"use strict";const d=self.Ij.Gm,a=new Set(["nearest","bilinear","trilinear"]),b={Jj:"trilinear",alpha:!0,depth:!1,DL:!0,vW:!0,oga:0},e=new Set;self.D.K.rQ=class{constructor(c){this.ua=c;this.Rk=this.tb=this.Hp=this.gh=null;this.W=this.Z=0;this.GB=!0;this.Cd="trilinear";this.Lr=!0;this.cd=!1;this.gw=!0;this.jm=0;this.Pk=d.create()}N7(c,h,m){m=Object.assign({},b,m);const g=this.ua.kd;if(this.tb||this.Rk)throw Error("already created render target");this.Cd=m.Jj;this.Lr=!!m.alpha;this.cd=!!m.depth;this.gw=
!!m.DL;this.GB=!!m.vW;this.jm=m.oga;if(!a.has(this.Cd))throw Error("invalid sampling");if(0<this.jm&&(2>g||this.gw))throw Error("invalid use of multisampling");2>g&&(this.gw=!0);this.Z=c;this.W=h;if(0>=this.Z||0>=this.W)throw Error("invalid render target size");this.FQ();c=this.ua.X;this.gh=c.createFramebuffer();this.cd&&(this.Hp=c.createFramebuffer());this.gw?(this.tb=this.ua.FM(this.Z,this.W,{Jj:this.Cd,NL:this.Lr?"rgba8":"rgb8",zD:!1}),h=this.tb.tb,c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.cd&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Hp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.Rk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Rk),h=this.Lr?c.RGBA8:c.RGB8,0<this.jm&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.jm>m&&(this.jm=m)):this.jm=0),0===this.jm?c.renderbufferStorage(c.RENDERBUFFER,h,this.Z,this.W):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.jm,h,this.Z,this.W),c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Rk),this.cd&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Hp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Rk)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.ua.eh;this.cd&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),this.ua.zv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}tS(c,h){if(this.Z!==c||this.W!==h)this.Z=c,this.W=h,this.FQ(),c=this.ua.X,c.bindFramebuffer(c.FRAMEBUFFER,this.gh),this.tb?this.tb.YS(new ImageData(this.Z,this.W)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Rk),c.renderbufferStorage(c.RENDERBUFFER,this.Lr?c.RGBA8:c.RGB8,this.Z,this.W),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.ua.eh,this.cd&&h&&(this.ua.zv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}FG(){if(!this.tb&&!this.Rk)throw Error("already deleted render target");e.delete(this);var c=this.ua.X;this.tb?(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.cd&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Hp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ua.Mj(this.tb),this.tb=null):this.Rk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.gh),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.cd&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Hp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Rk),this.Rk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ua.kd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.gh);
this.cd&&c.deleteFramebuffer(this.Hp);c=this.ua.Bc;c.Cm=null;this.gh=c.Gj=null}FQ(){this.ua.Bq(this.Pk,this.Z/this.W)}lb(){return this.ua}ne(){return this.tb}mF(){return"nearest"!==this.Cd}S(){return this.Z}U(){return this.W}f2(c){c=Object.assign({},b,c);return"nearest"!==c.Jj!==this.mF()||!!c.alpha!==this.Lr||!!c.depth!==this.cd||2<=this.ua.kd&&!!c.DL!==this.gw?!1:"number"===typeof c.width||"number"===typeof c.height?!this.GB&&this.S()===c.width&&this.U()===c.height:this.GB}AE(){return this.tb?this.tb.AE():
this.Z*this.W*(this.Lr?4:3)}static yl(){e.clear()}}}
{"use strict";const d=self.D;d.K.Fu=class extends d.K.i6{static async BY(a,b,e,c){const h=a.X,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,b);h.compileShader(m);b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,e);h.compileShader(b);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,b);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const k=a.cK;k?await a.oda(()=>h.getProgramParameter(g,k.COMPLETION_STATUS_KHR)):
await d.rG(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(b,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(b),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.q_(h.getProgramInfoLog(g)||"").trim())&&!d.qF(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);h.deleteShader(m);h.deleteShader(b);return g}static async Ra(a,b,e,c){e=await d.K.Fu.BY(a,b.src,e,c);return new d.K.Fu(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const h=a.X;var m=a.Bc;a.Nj();h.useProgram(b);this.X=h;this.jd=b;this.HB="<default-device-transform>"===c;c=h.getAttribLocation(b,"aPos");const g=h.getAttribLocation(b,"aTex");this.JJ=h.getAttribLocation(b,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,a.hD),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,a.VC),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.JJ&&(h.bindBuffer(h.ARRAY_BUFFER,a.wC),h.vertexAttribPointer(this.JJ,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.JJ));h.bindBuffer(h.ARRAY_BUFFER,null);this.OK=new d.K.jc(this,"matP","mat4");this.NK=new d.K.jc(this,"matMV","mat4");this.sq=new d.K.jc(this,"color",
"vec4");this.Uea=new d.K.jc(this,"samplerFront","sampler");this.RK=new d.K.jc(this,"pointTexStart","vec2");this.QK=new d.K.jc(this,"pointTexEnd","vec2");this.UK=new d.K.jc(this,"zElevation","float");this.SK=new d.K.jc(this,"tileSize","vec2");this.TK=new d.K.jc(this,"tileSpacing","vec2");this.MK=new d.K.jc(this,"color2_","vec4");this.PK=new d.K.jc(this,"outlineThickness","float");this.Xs=new d.K.jc(this,"samplerBack","sampler");this.Tea=new d.K.jc(this,"samplerDepth","sampler");this.Un=new d.K.jc(this,
"destStart","vec2");this.Tn=new d.K.jc(this,"destEnd","vec2");this.Bj=new d.K.jc(this,"srcStart","vec2");this.xm=new d.K.jc(this,"srcEnd","vec2");this.zm=new d.K.jc(this,"srcOriginStart","vec2");this.ym=new d.K.jc(this,"srcOriginEnd","vec2");this.vh=new d.K.jc(this,"pixelSize","vec2");this.$n=new d.K.jc(this,"seconds","float");this.Vn=new d.K.jc(this,"devicePixelRatio","float");this.Xn=new d.K.jc(this,"layerScale","float");this.Wn=new d.K.jc(this,"layerAngle","float");this.Zn=new d.K.jc(this,"layoutStart",
"vec2");this.Yn=new d.K.jc(this,"layoutEnd","vec2");this.YT=!!(this.vh.$||this.$n.$||this.Xs.$||this.Un.$||this.Tn.$||this.Bj.$||this.xm.$||this.zm.$||this.ym.$||this.Vn.$||this.Xn.$||this.Wn.$||this.Zn.$||this.Yn.$);a=e.parameters||[];this.tq=[];this.NV=this.vh.$||this.Bj.$||this.xm.$||this.zm.$||this.ym.$;this.QI=this.RI=!1;this.sq.QN();this.MK.QN();this.Uea.$E(0);this.Xs.$E(1);this.Tea.$E(2);this.RK.Jg(0,0);this.QK.Jg(1,1);this.UK.Io(0);this.SK.Jg(0,0);this.TK.Jg(0,0);this.Un.Jg(0,0);this.Tn.Jg(1,
1);this.Bj.Jg(0,0);this.xm.Jg(0,0);this.zm.Jg(0,0);this.ym.Jg(0,0);this.vh.Jg(0,0);this.Vn.Io(1);this.Xn.Io(1);this.Wn.Io(0);this.$n.Io(0);this.Zn.Jg(0,0);this.Yn.Jg(0,0);this.PK.Io(1);for(const k of a)a=k[2],b=new d.K.jc(this,k[0],a),"color"===a?b.v1():b.Io(0),this.tq.push(b);this.HB?this.cT(m.xx):(this.Pz(m.xx,!0),this.Oz(m.oD,!0));m=m.vi;h.useProgram(m?m.jd:null)}j(){this.X.deleteProgram(this.jd);this.jd=null;this.ua.lba(this);this.X=null;super.j()}dg(){return this.jd}My(a){return this.tq[a].ck()}NX(a){for(let b=
0,e=a.length;b<e;++b)if(!this.tq[b].q2(a[b]))return!1;return!0}n5(a){for(let b=0,e=a.length;b<e;++b)this.tq[b].h5(a[b])}OX(a,b,e,c,h,m,g,k,n,p){return this.Xs.$||this.vh.$&&!this.vh.wl(h,m)||this.Un.$&&!this.Un.wl(a.ba,a.Y)||this.Tn.$&&!this.Tn.wl(a.ma,a.ga)||this.Vn.$&&!this.Vn.kz(g)||this.Xn.$&&!this.Xn.kz(k)||this.Wn.$&&!this.Wn.kz(n)||this.Bj.$&&!this.Bj.wl(b.ba,b.Y)||this.xm.$&&!this.xm.wl(b.ma,b.ga)||this.zm.$&&!this.zm.wl(e.ba,e.Y)||this.ym.$&&!this.ym.wl(e.ma,e.ga)||this.Zn.$&&!this.Zn.wl(c.ba,
c.Y)||this.Yn.$&&!this.Yn.wl(c.Y,c.ga)||this.$n.$&&!this.$n.kz(p)?!1:!0}J5(a,b,e,c,h,m,g,k,n,p){this.Xs.$||(this.vh.$&&this.vh.Cl(h,m),this.Un.$&&this.Un.Cl(a.ba,a.Y),this.Tn.$&&this.Tn.Cl(a.ma,a.ga),this.Vn.$&&this.Vn.Dz(g),this.Xn.$&&this.Xn.Dz(k),this.Wn.$&&this.Wn.Dz(n),this.Bj.$&&this.Bj.Cl(b.ba,b.Y),this.xm.$&&this.xm.Cl(b.ma,b.ga),this.zm.$&&this.zm.Cl(e.ba,e.Y),this.ym.$&&this.ym.Cl(e.ma,e.ga),this.Zn.$&&this.Zn.Cl(c.ba,c.Y),this.Yn.$&&this.Yn.Cl(c.Y,c.ga),this.$n.$&&this.$n.Dz(p))}Pz(a,b){this.RI&&
!b||this.HB||(this.OK.$&&this.OK.Qz(a),this.RI=!0)}I5(){this.RI=!1}Oz(a,b){this.QI&&!b||this.HB||(this.NK.$&&this.NK.Qz(a),this.QI=!0)}H5(){this.QI=!1}cT(a){if(!this.HB)throw Error("not device transform shader");this.OK.Qz(a);a=this.ua;const b=a.S()/2,e=a.U()/2;a=a.yt(b,e,100*self.devicePixelRatio,b,e);this.NK.Qz(a)}K6(a){this.sq.$&&this.sq.Nz(a[0],a[1],a[2],a[3])}static zy(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,a=self.Ij.Gm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.K.jc=class{constructor(e,c,h){if(!b.has(h))throw Error("invalid uniform type");this.Xb=e;this.X=this.Xb.X;this.Ja=c;this.Aa=h;this.gJ="color"===this.Aa;this.gi=this.X.getUniformLocation(this.Xb.dg(),c);this.$=!!this.gi;e=b.get(h);this.Wb=new Float32Array(e);this.tj=new Float32Array(e)}j(){this.gi=this.X=this.Xb=null}ck(){return this.Aa}Io(e){this.$&&
(this.Wb[0]=e,this.tj.set(this.Wb),this.X.uniform1f(this.gi,e))}$E(e){this.$&&(this.Wb[0]=e,this.tj.set(this.Wb),this.X.uniform1i(this.gi,e))}Jg(e,c){this.$&&(this.Wb[0]=e,this.Wb[1]=c,this.tj.set(this.Wb),this.X.uniform2f(this.gi,e,c))}v1(){this.$&&(this.Wb[0]=0,this.Wb[1]=0,this.Wb[2]=0,this.tj.set(this.Wb),this.X.uniform3f(this.gi,0,0,0))}QN(){this.$&&(this.Wb[0]=1,this.Wb[1]=1,this.Wb[2]=1,this.Wb[3]=1,this.tj.set(this.Wb),this.X.uniform4f(this.gi,1,1,1,1))}gp(e){e=Math.fround(e);const c=this.Wb;
c[0]!==e&&(c[0]=e,this.X.uniform1f(this.gi,e))}We(e,c){e=Math.fround(e);c=Math.fround(c);const h=this.Wb;if(h[0]!==e||h[1]!==c)h[0]=e,h[1]=c,this.X.uniform2f(this.gi,e,c)}I6(e,c,h){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);const m=this.Wb;if(m[0]!==e||m[1]!==c||m[2]!==h)m[0]=e,m[1]=c,m[2]=h,this.X.uniform3f(this.gi,e,c,h)}Nz(e,c,h,m){e=Math.fround(e);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Wb;if(g[0]!==e||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=e,g[1]=c,g[2]=h,g[3]=m,this.X.uniform4f(this.gi,
e,c,h,m)}Qz(e){const c=this.Wb;a.Hj(c,e)||(d.eha(c,e),this.X.uniformMatrix4fv(this.gi,!1,e))}q2(e){const c=this.tj;return this.gJ?c[0]===Math.fround(e.Xa)&&c[1]===Math.fround(e.$a)&&c[2]===Math.fround(e.Za):c[0]===Math.fround(e)}h5(e){const c=this.tj;this.gJ?(c[0]=e.Xa,c[1]=e.$a,c[2]=e.Za):c[0]=e}kz(e){return this.tj[0]===Math.fround(e)}wl(e,c){const h=this.tj;return h[0]===Math.fround(e)&&h[1]===Math.fround(c)}Dz(e){this.tj[0]=e}Cl(e,c){const h=this.tj;h[0]=e;h[1]=c}}}
{"use strict";const d=self.D,a=self.Ij,b=a.Qx,e=a.Gm;d.K.YX=class{constructor(c){this.mo=c;this.oD=e.create();this.xx=e.create();this.Gj=this.Cm=null;this.wW=!1;this.nD=b.Rf(1,1,1,1);this.vi=null;this.OL=new d.Rect;this.clearColor=d.B(d.gb,0,0,0,0)}};d.K.V6=class{constructor(c){const h=new ArrayBuffer(96);this.Aa=0;this.Bc=c;this.X=c.mo.X;this.Yl=this.Fe=0;this.hf=null;this.Jf=new Float32Array(h,0,16);this.vp=new Float32Array(h,64,4);this.yV=new Float32Array(h,80,4);this.HC=[]}J1(c){this.Aa=1;this.Fe=
c;this.Yl=6}kZ(){const c=this.X;c.drawElements(c.TRIANGLES,this.Yl,c.UNSIGNED_SHORT,this.Fe)}S1(c){this.Aa=2;this.hf=c}xZ(){const c=this.X,h=this.hf;c.bindTexture(c.TEXTURE_2D,h?h.tb:null)}aF(c){this.Aa=3;c.yh(this.vp,0)}mZ(){const c=this.vp,h=this.Bc;b.ra(h.nD,c);h.vi.K6(c)}qZ(){const c=this.vp,h=this.Bc.vi;h.MK.$&&h.MK.Nz(c[0],c[1],c[2],c[3])}K1(c,h){this.Aa=4;this.Fe=c;this.Yl=h}lZ(){this.X.blendFunc(this.Fe,this.Yl)}T1(c,h){this.Aa=5;const m=this.vp;m[0]=0;m[1]=0;m[2]=c;m[3]=h}zZ(){const c=this.vp;
this.X.viewport(c[0],c[1],c[2],c[3])}Q1(c){this.Aa=6;e.ra(this.Jf,c)}vZ(){const c=this.Bc,h=c.mo.rp,m=c.vi,g=this.Jf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Pz(g,!0):p.I5()}e.ra(c.xx,g)}N1(c){this.Aa=7;e.ra(this.Jf,c)}rZ(){const c=this.Bc,h=c.mo.rp,m=c.vi,g=this.Jf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Oz(g,!0):p.H5()}e.ra(c.oD,g)}R1(c){this.Aa=8;this.hf=c}wZ(){const c=this.X,h=this.hf,m=this.Bc;h?(m.Cm=h.gh,m.Gj=h.Hp,m.wW&&m.Gj?c.bindFramebuffer(c.FRAMEBUFFER,m.Gj):c.bindFramebuffer(c.FRAMEBUFFER,
m.Cm)):(m.Cm=null,m.Gj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}z1(c){this.Aa=9;c.yh(this.Jf,0)}A1(){this.Aa=9;const c=this.Jf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}dZ(){const c=this.X;var h=this.Jf;const m=this.Bc.clearColor,g=h[0],k=h[1],n=h[2];h=h[3];m.qD(g,k,n,h)||(c.clearColor(g,k,n,h),m.no(g,k,n,h));c.clear(c.COLOR_BUFFER_BIT)}sZ(){const c=this.Jf;this.Bc.OL.set(c[0],c[1],c[2],c[3])}jZ(){const c=this.X,h=this.Bc,m=h.mo.NC;c.useProgram(m.jd);m.Pz(h.xx,!1);m.Oz(h.oD,!1);var g=h.OL;m.RK.$&&m.RK.We(g.ba,
g.Y);m.QK.$&&m.QK.We(g.ma,g.ga);g=this.Jf[0];m.UK.$&&m.UK.gp(g);m.sq.$&&(g=h.nD,m.sq.Nz(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Fe/4,this.Yl);c.useProgram(h.vi.jd)}O1(c){this.Aa=11;this.hf=c}tZ(){var c=this.X;const h=this.Bc,m=this.hf;h.vi=m;c.useProgram(m.jd);m.Pz(h.xx,!1);m.Oz(h.oD,!1);m.sq.$&&(c=h.nD,m.sq.Nz(c[0],c[1],c[2],c[3]))}P1(){this.Aa=12}uZ(){const c=this.Bc.vi;c.YT&&this.H8(c);c.tq.length&&this.I8(c)}H8(c){const h=this.X,m=this.Jf,g=this.vp,k=this.yV;if(c.Xs.$){const n=this.Bc.mo,
p=this.hf;n.Cn!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.tb:null),n.Cn=p,h.activeTexture(h.TEXTURE0))}c.vh.$&&c.vh.We(m[0],m[1]);c.Un.$&&c.Un.We(m[2],m[3]);c.Tn.$&&c.Tn.We(m[4],m[5]);c.Vn.$&&c.Vn.gp(this.Yl);c.Xn.$&&c.Xn.gp(m[6]);c.Wn.$&&c.Wn.gp(m[7]);c.Bj.$&&c.Bj.We(m[12],m[13]);c.xm.$&&c.xm.We(m[14],m[15]);c.zm.$&&c.zm.We(k[0],k[1]);c.ym.$&&c.ym.We(k[2],k[3]);c.Zn.$&&c.Zn.We(g[0],g[1]);c.Yn.$&&c.Yn.We(g[2],g[3]);c.$n.$&&c.$n.gp(this.Fe)}I8(c){c=c.tq;const h=this.HC;for(let m=
0,g=c.length;m<g;++m){const k=c[m],n=h[m];k.gJ?k.I6(n.Xa,n.$a,n.Za):k.gp(n)}}F1(c){this.Aa=13;this.hf=c}iZ(){const c=this.X,h=this.hf,m=this.Bc.Cm;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}w1(c,h){this.Aa=16;var m=this.Jf;const g=this.Bc.mo;m[0]=c.S();m[1]=c.U();m[2]=h?h.S():g.S();m[3]=h?h.U():g.U();m[4]=c.mF()?1:0;m[5]=!0;m=this.HC;d.F(m);m.push(c.gh);m.push(h?h.gh:null)}bZ(){var c=this.Jf,h=this.HC;
const m=this.X;var g=c[0],k=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,k,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(k,p),n=Math.max(k-p,0),k=Math.max(p-k,0),m.blitFramebuffer(0,n,h,g+n,0,k,h,g+k,m.COLOR_BUFFER_BIT,m.NEAREST))}V1(c){this.Aa=17;this.hf=c}AZ(){this.hf.TD();this.hf=null}E1(c){this.Aa=18;this.hf=c}hZ(){this.hf.lE();this.hf=null}pZ(){const c=
this.Bc.vi,h=this.Jf;c.vh.$&&c.vh.We(h[0],h[1]);c.PK.$&&c.PK.gp(h[2])}yZ(){const c=this.Bc.vi,h=this.Jf;c.Bj.$&&c.Bj.We(h[0],h[1]);c.vh.$&&c.vh.We(h[4],h[5]);c.SK.$&&c.SK.We(h[6],h[7]);c.TK.$&&c.TK.We(h[8],h[9])}y1(c){this.Aa=21;this.Fe=c?1:0}cZ(){const c=this.X,h=0!==this.Fe;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}L1(c){this.Aa=22;this.Fe=c?1:0}nZ(){const c=this.X;0===this.Fe?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}M1(c){this.Aa=
23;this.Fe=c?1:0}oZ(){const c=this.X,h=this.Bc,m=h.mo,g=0!==this.Fe;h.wW=g;c.activeTexture(c.TEXTURE2);g?(h.Gj&&c.bindFramebuffer(c.FRAMEBUFFER,h.Gj),c.bindTexture(c.TEXTURE_2D,m.eh)):(c.bindTexture(c.TEXTURE_2D,null),h.Gj&&c.bindFramebuffer(c.FRAMEBUFFER,h.Cm));c.activeTexture(c.TEXTURE0)}D1(){this.Aa=24}gZ(){const c=this.X;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}C1(){this.Aa=25}fZ(){const c=
this.X;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}B1(){this.Aa=26}eZ(){const c=this.X;c.disable(c.STENCIL_TEST)}ta(){switch(this.Aa){case 1:this.kZ();break;case 2:this.xZ();break;case 3:this.mZ();break;case 4:this.lZ();break;case 5:this.zZ();break;case 6:this.vZ();break;case 7:this.rZ();break;case 8:this.wZ();break;case 9:this.dZ();break;case 10:this.jZ();break;case 11:this.tZ();break;case 12:this.uZ();break;case 13:this.iZ();break;case 14:this.sZ();break;
case 15:this.yZ();break;case 16:this.bZ();break;case 17:this.AZ();break;case 18:this.hZ();break;case 19:this.pZ();break;case 20:this.qZ();break;case 21:this.cZ();break;case 22:this.nZ();break;case 23:this.oZ();break;case 24:this.gZ();break;case 25:this.fZ();break;case 26:this.eZ()}}}}
{"use strict";const d=self.D,a={timeout:60},b=new d.gb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;d.u_&&d.u_.addEventListener("fontload",p=>{p=p.font.Ba();for(const q of m)(q.ci||d.jo(q.jB,p))&&q.xk()});function g(p,q,u,w,r,v){q?"Gecko"===d.Ob.Yx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.Ob.Yx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let k=!1,n=!1;d.K.BF=class{constructor(p,q){q=Object.assign({},a,q);this.ua=
p;this.jB="Arial";this.kB=16;this.lB=1;this.Wp=0;this.Df=this.Cf=!1;this.TA="black";this.ci=!1;this.KL=null;this.PH=new Set;this.Af="left";this.lf="top";this.wd="";this.uv=null;this.co=d.B(d.sG);this.bL="word";this.tJ=this.WC=!1;this.bw=!0;this.yp=-1;this.W=this.Z=this.oI=this.Ur=this.es=0;this.ti=1;this.jI=!1;this.Aw=this.im=this.he=this.oq=null;this.CU=this.DU=-1;this.$B=this.EU=this.xJ="";this.yJ=this.zJ=1;this.QU=(u,w)=>this.aS(u,w);this.tb=null;this.ax=this.cx=0;this.sg=new d.Rect;this.Ow=1;
this.VJ=!1;this.IK=new d.r1(()=>{this.Qi();this.MS(8,8)},q.timeout);this.AD=null;this.tx=!1;m.add(this)}j(){this.KL=null;this.PH.clear();this.QU=this.Aw=this.im=this.he=this.oq=this.uv=null;this.IK.j();this.AD=null;this.Qi();this.co.Ed();this.ua=this.co=null;this.tx=!0;m.delete(this)}op(){this.jI=!0}xk(){this.op();this.co.Ed();this.WC=!0}JP(){this.bw=!1}Kg(){return this.bw}g5(p){p=!!p;this.ci!==p&&(p=(this.ci=p)?"alphabetic":"top",this.he&&(this.he.textBaseline=p),this.im&&(this.im.textBaseline=p),
this.xk())}SF(p){p||(p="serif");this.jB!==p&&(this.jB=p,this.xk())}Gz(p){.1>p&&(p=.1);this.kB!==p&&(this.kB=p,this.xk())}y5(p){this.lB!==p&&(this.lB=p,this.xk())}NP(p){this.Wp!==p&&(this.Wp=p,this.op())}uP(p){p=!!p;this.Cf!==p&&(this.Cf=p,this.xk())}LP(p){p=!!p;this.Df!==p&&(this.Df=p,this.xk())}RF(p){p=Math.floor(p);this.yp!==p&&(this.yp=p,this.op())}Zi(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Er(p,q){return!!this.Zi(p,q)}nR(p,q){let u=[];(this.Cf||this.Er(q,
"b"))&&u.push("bold");(this.Df||this.Er(q,"i"))&&u.push("italic");var w=this.Zi(q,"size");w=(w?parseFloat(w.xi):this.kB)*this.lB;p?u.push(w+"pt"):u.push(w*this.Ow*this.ti*self.devicePixelRatio+"pt");p=this.jB;(q=this.Zi(q,"font"))&&q.xi&&(p=q.xi,this.KL&&!this.PH.has(p)&&(this.KL(p),this.PH.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}cn(p){p instanceof d.gb&&(p=p.Lfa());this.TA!==p&&(this.TA=p,this.op())}wP(p,q,u){b.pt(p,q,u);this.cn(b)}FP(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.Af!==p&&(this.Af=p,this.op())}$P(p){if(!c.has(p))throw Error("invalid vertical alignment");this.lf!==p&&(this.lf=p,this.op())}f6(p){if(!h.has(p))throw Error("invalid word wrap mode");this.bL!==p&&(this.bL=p,this.xk())}zu(p){this.wd!==p&&(this.wd=p,this.xk())}td(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Ur===p&&this.oI===q&&this.ti===u)){1===this.ti!==(1===u)&&(this.VJ=!0);var w=this.Ur,r=this.ti;this.Ur=p;this.oI=q;this.ti=u;p=self.devicePixelRatio;this.Z=this.Ur*this.ti*p;this.W=
this.oI*this.ti*p;p=Math.max(this.Z,this.W);q=Math.min(this.ua.lC,2048);u=1;p>q&&(u=q/p,this.Z=Math.min(this.Z*u,q),this.W=Math.min(this.W*u,q));this.Ow=u;0<this.cx&&0<this.ax&&this.ti===r&&this.sg.set(0,0,this.Z/this.cx,this.W/this.ax);this.Ur!==w?this.xk():this.op()}}S(){return this.Z}U(){return this.W}I0(){this.dH();return this.co.s0()}H0(){this.dH();return this.co.L0()+this.co.Dn.length*(this.Wp+4)-this.Wp}ne(){this.IK.rd();this.R$();return this.tb}R$(){this.tb&&!this.jI&&!this.WC||this.tJ||0>=
this.Z||0>=this.W||(this.jI=!1,this.tJ=!0,this.bw?d.el(()=>this.WQ()):this.WQ())}WQ(){this.tx||(this.MS(Math.ceil(this.Z),Math.ceil(this.W)),this.dH(),this.Y8(),this.jda(),this.IK.rd(),this.tJ=!1)}MS(p,q){this.oq||(this.oq=d.Ah(16,16));let u=!1;if(this.DU!==p||this.CU!==q)this.DU=p,this.CU=q,this.oq.width=p,this.oq.height=q,u=!0;this.he||(this.he=this.oq.getContext("2d"),u=!0);u?(this.he.textBaseline=this.ci?"alphabetic":"top",this.he.font=this.xJ,this.he.fillStyle=this.$B,this.he.strokeStyle=this.$B,
this.he.globalAlpha=this.zJ,this.he.lineWidth=this.yJ):this.he.clearRect(0,0,p,q)}TR(){this.im||(this.im=d.Ah(16,16).getContext("2d"),this.Aw=d.Ah(16,16).getContext("2d"),this.im.textBaseline=this.ci?"alphabetic":"top",this.Aw.textBaseline="top")}zca(p){this.EU!==p&&(this.EU=p,this.im.font=p,this.Aw.font=p)}VS(){if(!k){k=!0;this.TR();const p=this.im.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}dH(){this.WC&&(this.TR(),!this.ci||
this.uv&&this.uv.toString()===this.wd||(this.uv=new d.Mm(this.wd,{rga:!0})),this.co.sG(this.ci?this.uv.Xga():this.wd,this.QU,this.Ur,this.bL,0),this.WC=!1)}aS(p,q){this.zca(this.nR(!0,q));q=this.Zi(q,"size");q=(q?parseFloat(q.xi):this.kB)*this.lB;const u=this.im.measureText(p);let w=0;this.ci&&this.VS()&&(w=u.fontBoundingBoxAscent-this.Aw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Cg:u.fontBoundingBoxAscent||0,Qf:u.fontBoundingBoxDescent||0,Tf:w}}hca(p){this.xJ!==p&&(this.xJ=
p,this.he.font=p)}mA(p){this.$B!==p&&(this.$B=p,this.he.fillStyle=p,this.he.strokeStyle=p)}gca(p){this.zJ!==p&&(this.zJ=p,this.he.globalAlpha=p)}HS(p){this.yJ!==p&&(this.yJ=p,this.he.lineWidth=p)}Y8(){this.es=0;const p=this.Ow*this.ti*self.devicePixelRatio,q=(4+this.Wp)*p;var u=0;const w=this.co.Dn;if(0!==w.length){var r=this.ci&&this.VS(),v=w[0].height*p;"center"===this.lf?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.W/2-u/2,0),r&&(v=w[0].Tf*p)):"bottom"===this.lf&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.Wp*p,u=this.W-u-(r?w.ke(-1).Qf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.ci){if(u+=0===y?v:G,0<y&&u>this.W-4*p)break}else if(0<y&&u>=this.W-G)break;0<=z&&this.X8(r,u,p);this.ci||(u+=G);u+=q}}}X8(p,q,u){let w=0;"center"===this.Af?w=(this.Z-p.width*u)/2:"right"===this.Af&&(w=this.Z-p.width*u);for(const r of p.pW)this.W8(r,w,q,u,p.height),w+=r.width*u}W8(p,q,u,w,r){const v=this.he;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.Wp)*w,F=p.zd,H=p.text;if(-1!==this.yp){if(this.es>=this.yp)return;this.es+H.length>this.yp&&(H=H.substr(0,this.yp-this.es),r=this.aS(H,F).width*w);this.es+=H.length}var J=this.Zi(F,"background"),M=this.Er(F,"u");p=this.Er(F,"s");if((!d.qF(H)||J||M||p)&&!this.Er(F,"hide")){var P=this.Zi(F,"offsetx");q+=P?parseFloat(P.xi)*w:0;P=this.Zi(F,"offsety");u+=P?parseFloat(P.xi)*w:0;J&&(this.mA(J.xi),v.fillRect(q,u-A,r,A+z));P=this.Zi(F,"color");this.mA(P?P.xi:this.TA);z=this.Zi(F,"opacity");this.gca(z?
parseFloat(z.xi)/100:1);z=(z=this.Zi(F,"linethickness"))?parseFloat(z.xi):1;(J=this.Er(F,"stroke"))&&this.HS(.5*G*z*this.Ow*this.ti*self.devicePixelRatio);this.hca(this.nR(!1,F));g(v,J,H,q,u,r);!J&&(this.HS(.5*G*z*this.Ow*this.ti*self.devicePixelRatio),F=this.Zi(F,"outline"))&&(this.mA(F.xi),g(v,!0,H,q,u,r));this.mA(P?P.xi:this.TA);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}jda(){this.ua.Ko()||(this.cx=Math.ceil(this.Z),
this.ax=Math.ceil(this.W),this.sg.set(0,0,this.Z/this.cx,this.W/this.ax),this.VJ&&(this.Qi(),this.VJ=!1),this.tb||(this.tb=this.ua.FM(this.cx,this.ax,{zD:1===this.ti,Jx:"high"})),this.ua.N6(this.oq,this.tb),this.AD&&this.AD())}bk(){return this.sg}Qi(){this.tb&&(this.ua.Ko()||this.ua.Mj(this.tb),this.tb=null)}static yl(){for(const p of m)p.Qi()}}}
{"use strict";const d=self.D;class a{constructor(b){this.X=b.X;this.kd=b.kd;this.Ld=b.Ld;this.ki=null;this.Tv=this.Lb=!1;this.EC=0;this.ki=1===this.kd?this.Ld.createQueryEXT():this.X.createQuery()}j(){this.RQ();this.Ld=this.X=null;this.Tv=!1}RQ(){this.ki&&(1===this.kd?this.Ld.deleteQueryEXT(this.ki):this.X.deleteQuery(this.ki),this.ki=null)}TD(){if(this.Lb)throw Error("query already active");1===this.kd?this.Ld.beginQueryEXT(this.Ld.TIME_ELAPSED_EXT,this.ki):this.X.beginQuery(this.Ld.TIME_ELAPSED_EXT,
this.ki);this.Lb=!0}lE(){if(!this.Lb)throw Error("query not active");1===this.kd?this.Ld.endQueryEXT(this.Ld.TIME_ELAPSED_EXT):this.X.endQuery(this.Ld.TIME_ELAPSED_EXT);this.Lb=!1}aE(){if(this.ki&&!this.Tv&&!this.Lb){var b=1===this.kd?this.Ld.getQueryObjectEXT(this.ki,this.Ld.QUERY_RESULT_AVAILABLE_EXT):this.X.getQueryParameter(this.ki,this.X.QUERY_RESULT_AVAILABLE);var e=this.X.getParameter(this.Ld.GPU_DISJOINT_EXT);b&&!e&&(this.EC=1===this.kd?this.Ld.getQueryObjectEXT(this.ki,this.Ld.QUERY_RESULT_EXT):
this.X.getQueryParameter(this.ki,this.X.QUERY_RESULT),this.EC/=1E9,this.Tv=!0);(b||e)&&this.RQ()}}$y(){return this.Tv}Sy(){if(!this.Tv)throw Error("no result available");return this.EC}}d.K.X6=class{constructor(b){this.ua=b;this.ai=b.ai;this.Lb=!1;this.Hn=null;this.zn=!1;this.Hs=null;this.gq=[]}j(){for(const b of this.gq)b instanceof a&&b.j();d.F(this.gq);this.ua=this.Hs=this.Hn=null}TD(){if(this.Lb)throw Error("query already active");const b=this.ua.EV;0<b.length?(this.zn=!0,this.Hn=b.ke(-1),this.Hn.aR(),
this.Hn.gq.push(this)):(this.zn=!1,this.Hn=null);this.Lb=!0;b.push(this);this.SS()}lE(){if(!this.Lb)throw Error("query not active");if(this.ua.EV.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.aR();this.Hn&&(this.Hn.SS(),this.Hn=null)}SS(){this.Hs=d.B(a,this.ua);this.gq.push(this.Hs);this.Hs.TD()}aR(){this.Hs.lE();this.Hs=null}aE(){for(const b of this.gq)b.aE()}$y(){return this.gq.every(b=>b.$y())}Sy(){return this.gq.reduce((b,e)=>b+e.Sy(),0)}}}
{"use strict";const d=self.D;d.K.qQ=class{constructor(a,b=1E3){this.ua=a;this.vea=b;this.Ck=[];this.ua.s7(this)}j(){this.Ed();this.ua.kba(this);this.ua=null}Ed(){for(const a of this.Ck)a.j();d.F(this.Ck)}RD(){const a=new d.K.X6(this.ua);this.Ck.push(a);this.Ck.length>this.vea&&this.Ck.shift().j();return a}rY(a){for(const b of this.Ck){if(b.ai>=a)break;if(b.zn)break;b.aE()}}mN(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Ck){if(c.ai>=b)break;if(!(c.ai<a))if(c.$y())e+=c.Sy();else return NaN}return e}LM(a){for(let b=
0,e=this.Ck.length;b<e;++b){const c=this.Ck[b];if(c.ai<a)c.j();else{0<b&&this.Ck.splice(0,b);break}}}}}
{"use strict";const d=self.D,a=self.Ij,b=a.Qx,e=a.Gm,c={powerPreference:"default",oW:!0,alpha:!1,EL:!1,depth:!1,jL:!1,EW:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new d.Hd(0,0,1,0,1,1,0,1),g=e.create(),k=e.create(),n=new d.Hd,p=new d.Rect;let q=null;d.Ex&&(self.zra=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Ara=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.lfa()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.K.W6=class extends d.K.E4{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.EL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.EW&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.X=G;this.iT=G.getContextAttributes();y.EL&&!this.iT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.kd=z;this.yg=b.create();this.vn=!1;this.WH=e.create();this.Bm=!!y.depth;this.zv=!(!y.depth||!y.jL);this.Op=this.Bm;this.hJ=!1;this.eh=null;this.fJ=!0;this.vT=this.wT=0;this.wC=this.iU=this.VC=this.hD=null;this.ox=
new Float32Array(24E3);this.jU=new Uint16Array(12E3);this.nq=new Float32Array(16E3);this.cV=new Float32Array(32E3);this.FU=this.xC=this.Ge=this.si=0;this.kq=this.Up=null;this.tv=[];this.rc=this.nn=0;this.$d=null;this.Bc=d.B(d.K.YX,this);this.rw=d.B(d.gb,1,1,1,1);this.Cn=this.gm=null;this.uJ=this.wJ=0;this.oea=new d.Rect;this.lC=-1;this.PJ=0;this.Ys="(unavailable)";this.kJ=!1;this.Jv=this.nv=this.cK=null;this.OJ=0;this.lea=!!y.oW;this.Ld=null;this.AA=new Set;this.EV=[];this.p_(this.jU)}xl(){return!0}async cz(){super.cz();
var v=this.X;this.rw.no(1,1,1,1);this.Cn=this.gm=null;this.xC=this.si=0;this.FU=23988;d.F(this.tv);this.rc=this.nn=0;this.$d=this.Up=null;this.oea.set(0,0,1,1);var y=this.Bc;y.vi=null;y.Cm=null;y.Gj=null;b.set(y.nD,1,1,1,1);y.clearColor.no(0,0,0,0);y.OL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.wJ=v.ONE;this.uJ=v.ONE_MINUS_SRC_ALPHA;this.U9(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Bm?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Op=this.Bm;this.hJ=!1;this.wC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.wC);v.bufferData(v.ARRAY_BUFFER,this.cV.byteLength,v.DYNAMIC_DRAW);this.hD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.hD);v.bufferData(v.ARRAY_BUFFER,this.ox.byteLength,v.DYNAMIC_DRAW);this.VC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.VC);v.bufferData(v.ARRAY_BUFFER,this.nq.byteLength,v.DYNAMIC_DRAW);
this.iU=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.iU);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.jU,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.lC=v.getParameter(v.MAX_TEXTURE_SIZE);this.PJ=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.PJ&&(this.PJ=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Ys=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.cK=v.getExtension("KHR_parallel_shader_compile");
d.Ex&&(q=v.getExtension("WEBGL_lose_context"));if(this.lea)if(1===this.kd){if("Chromium"!==d.Ob.Yx||81<=d.Ob.VD||"undefined"!==typeof document)this.Ld=v.getExtension("EXT_disjoint_timer_query")}else this.Ld=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.OJ=(this.nv=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.nv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.kd&&this.Bm&&this.zv&&(this.Jv=v.getExtension("WEBGL_depth_texture"),
!this.Jv))throw Error("no depth texture support");v=d.K.Fu;y=v.zy(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.zy(!0),"<tilemap>"]].map(A=>this.fE({src:A[0]},A[1],A[2])));this.OC=v[0];this.kq=v[1];this.NC=v[2];this.wK=v[3];this.pk()}async fE(v,y,A){v=await d.K.Fu.Ra(this,v,y,A);this.t7(v);return v}K4(){this.Up=null}td(v,y,A){if(this.Z!==v||this.W!==y||A){this.Nj();A=this.X;var G=this.Bc;this.Z=v;this.W=y;this.PS(v,y);this.Bq(this.WH,v/y);this.$o(this.WH);this.kq&&(A.useProgram(this.kq.dg()),this.kq.cT(this.kC),this.Up=this.kq,this.Bc.vi=this.kq);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Cn=this.gm=null;this.Bm&&this.fJ&&this.rH(this.Z,this.W);this.$d&&this.$d.tS(this.Z,this.W);A.bindFramebuffer(A.FRAMEBUFFER,null);this.$d=null;G.Cm=null;G.Gj=null}}rH(v,y){const A=this.X;this.eh&&this.wT===v&&this.vT===y||(this.zv?(this.eh&&A.deleteTexture(this.eh),this.eh=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.eh),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.kd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Jv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Jv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.eh&&A.deleteRenderbuffer(this.eh),this.eh=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.eh),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.kd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.wT=v,this.vT=y)}x5(v,y){this.Bm&&(this.fJ=!1,this.rH(v,y))}f5(){this.Bm&&(this.fJ=!0,this.rH(this.Z,this.W))}PS(v,y){const A=this.yg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Kc().T1(v,y),b.set(A,0,0,v,y),this.rc=0}$o(v){e.Hj(this.kC,v)||(this.Kc().Q1(v),e.ra(this.kC,v),this.rc=0,this.vn=!0)}zP(){let v,y;var A=this.$d;null===A?(v=this.WH,y=this.S(),A=this.U()):
(v=A.Pk,y=A.S(),A=A.U());this.$o(v);this.PS(y,A)}nr(v){e.Hj(this.MJ,v)||(this.Kc().N1(v),e.ra(this.MJ,v),this.rc=0,this.vn=!0)}I4(){this.vn=!1}Kc(){const v=this.tv;this.nn===v.length&&v.push(new d.K.V6(this.Bc));return v[this.nn++]}Nj(){0===this.nn||this.Ko()||(this.sda(),this.b9(),this.rc=this.xC=this.Ge=this.si=this.nn=0)}sda(){const v=this.X;0<this.xC&&(v.bindBuffer(v.ARRAY_BUFFER,this.wC),v.bufferSubData(v.ARRAY_BUFFER,0,this.cV.subarray(0,this.xC)));0<this.si&&(v.bindBuffer(v.ARRAY_BUFFER,this.hD),
v.bufferSubData(v.ARRAY_BUFFER,0,this.ox.subarray(0,this.si)),v.bindBuffer(v.ARRAY_BUFFER,this.VC),v.bufferSubData(v.ARRAY_BUFFER,0,this.nq.subarray(0,this.Ge)))}b9(){const v=this.tv;for(let y=0,A=this.nn;y<A;++y)v[y].ta()}le(){return this.rw.Ya}xf(v,y,A,G){const z=this.rw;z.qD(v,y,A,G)||(z.no(v,y,A,G),this.Kc().aF(z),this.rc=0,this.ij=null)}Si(v){const y=this.rw;y.Ya!==v&&(y.nt(v),this.Kc().aF(y),this.rc=0,this.ij=null)}cn(v){const y=this.rw;y.yd(v)||(y.set(v),this.Kc().aF(y),this.rc=0,this.ij=null)}lu(){this.xf(1,
1,1,1)}jg(v){v!==this.gm&&(this.Kc().S1(v),this.gm=v,this.rc=0)}jH(){this.gm=null}ig(v){v=this.t9(v);this.qH(v[0],v[1])}qH(v,y){if(v!==this.wJ||y!==this.uJ)this.Kc().K1(v,y),this.wJ=v,this.uJ=y,this.rc=0,this.ij=null}tP(){this.qH(this.X.ONE,this.X.ONE_MINUS_SRC_ALPHA)}QF(){this.qH(this.X.ONE,this.X.ZERO)}Rect(v){this.aP(v.ba,v.Y,v.ma,v.ga)}aP(v,y,A,G){this.n4(v,y,A,y,A,G,v,G)}Ku(){let v=this.si;v>=this.FU&&(this.Nj(),v=0);1===this.rc?this.tv[this.nn-1].Yl+=6:(this.Kc().J1(v),this.rc=1)}CH(v){v.jha(this.ox,
this.si,this.rv+this.Iv);this.si+=12}Hd(v){this.Ku();this.CH(v);m.yh(this.nq,this.Ge);this.Ge+=8}n4(v,y,A,G,z,F,H,J){this.Ku();const M=this.ox;let P=this.si;const R=this.rv+this.Iv;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.si=P;m.yh(this.nq,this.Ge);this.Ge+=8}dr(v,y){this.Ku();this.CH(v);y.iha(this.nq,this.Ge);this.Ge+=8}o4(v,y){this.Ku();this.CH(v);y.yh(this.nq,this.Ge);this.Ge+=8}wz(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.Ku();const X=
this.ox;let ba=this.si;const Y=this.rv+this.Iv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.si=ba;Z.yh(this.nq,this.Ge);this.Ge+=8}w_(v,y){e.ra(g,this.kC);e.ra(k,this.MJ);this.zP();const [A,G]=this.Ry(this.$d);var z=this.yt(0,0,100*self.devicePixelRatio,0,0,G);this.nr(z);if("crop"===v&&this.$d&&y){v=this.Z/2;z=this.W/2;const J=y.S();y=y.U();var F=this.$d.S(),H=this.$d.U();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.Kj(p);p.set(0,P,F,M+P);p.Em(J,y);this.dr(n,p)}else v=A/2,z=G/2,this.aP(-v,z,v,-z);this.$o(g);this.nr(k)}tr(v){this.Up!==v&&(this.Kc().O1(v),this.Up=v,this.rc=0,this.ij=null)}UP(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Up;var X=Z.YT;const ba=!!T.length;if(X&&!Z.OX(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.NX(T)){var Y=this.Kc();Y.P1();X&&(Z.J5(y,A,G,z,F,H,J,M,P,R),X=Y.Jf,X[0]=F,X[1]=H,y.yh(X,2),X[6]=M,X[7]=P,A.yh(X,12),y=Y.vp,z.yh(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.yh(Y.yV,0),Y.Fe=R,Y.Yl=J,Y.hf=Z.Xs.$?v?v.ne():null:null);ba&&(Z.n5(T),d.Vc(Y.HC,T));this.rc=0}}so(){this.Kc().A1();this.rc=0}Ed(v){this.Kc().z1(v);this.rc=0}Bu(){}Dt(){super.Dt();this.X.flush()}sY(){this.Bm&&this.$d&&this.$d.cd&&(this.Kc().y1(this.Op),this.rc=0)}Og(v){v=!!v;this.Op!==v&&this.Bm&&(this.Op=v,this.Kc().L1(v),this.rc=0)}qu(v){v=!!v;if(this.zv&&this.hJ!==v){if(v&&this.Op)throw Error("depth still enabled");this.hJ=v;this.Kc().M1(v);this.rc=0}}qY(){for(const v of this.AA)v.rY(this.ai)}Ko(){return!this.X||
this.X.isContextLost()||this.kJ}yl(){super.n3();d.K.Sz.yl();d.K.rQ.yl();d.K.BF.yl();for(const v of this.AA)v.Ed();this.Jv=this.nv=this.cK=this.Ld=null;this.OJ=0;this.Ys="(unavailable)";this.eh=this.kq=this.Up=null;for(const v of this.Yw.values())v.yl()}async vF(){this.kJ=!0;await this.cz();this.kJ=!1;for(const v of this.Yw.values())v.vF(this);this.td(this.Z,this.W,!0)}hy(v,y){if(this.Ko())throw Error("context lost");this.Nj();const A=d.B(d.K.Sz,this);A.b8(v,y);return A}iy(v,y){if(this.Ko())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.KD&&"clamp-to-edge"!==y.KD||y.LD&&"clamp-to-edge"!==y.LD;if(!d.ic.ImageBitmapOptions||!this.ep()&&A)return d.ic.ImageBitmap?createImageBitmap(v).then(G=>d.el(()=>this.hy(G,y))):v instanceof Blob?d.cY(v).then(G=>this.iy(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.el(()=>this.hy(v,y))):d.el(()=>this.hy(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
d.el(()=>this.hy(G,y)))}FM(v,y,A){this.Nj();const G=d.B(d.K.Sz,this);G.O7(v,y,A);return G}N6(v,y){this.Nj();y.YS(v,void 0)}Mj(v){v&&(v.u6(),0<v.Sc||(this.Nj(),v===this.gm&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.gm=null),v===this.Cn&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.Cn=null),v.FG()))}OY(v){let y=this.Z,A=this.W,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.Nj();const z=d.B(d.K.rQ,this);z.N7(y,A,Object.assign({vW:G},v));this.$d=null;this.Bc.Cm=null;this.Bc.Gj=null;return z}Qg(v,y=!0){v!==this.$d&&(v&&v.GB&&v.tS(this.Z,this.W),this.Kc().R1(v),this.$d=v,this.rc=0,y&&this.zP())}pl(){return this.$d}Ry(v){return v?[v.S(),v.U()]:[this.Z,this.W]}CM(v){2>this.kd||this.$d&&0<this.$d.jm?(this.QF(),this.lu(),this.qy(v,"stretch")):(this.Kc().w1(v,this.$d),this.rc=0)}qy(v,y="stretch"){v=v.ne();if(!v)throw Error("not a texture-backed render target");
this.jg(v);this.w_(y,v)}Tq(v){2>this.kd||(this.Kc().F1(v.gh),this.rc=0)}$Y(v){this.Qg(null);this.Nj();const y=v.ne();y===this.gm&&(this.X.bindTexture(this.X.TEXTURE_2D,null),this.gm=null);y===this.Cn&&(this.X.activeTexture(this.X.TEXTURE1),this.X.bindTexture(this.X.TEXTURE_2D,null),this.X.activeTexture(this.X.TEXTURE0),this.Cn=null);v.FG()}BM(){this.Og(!0);this.Kc().D1();this.rc=0}AM(){this.Og(!1);this.Kc().C1();this.rc=0}zM(){this.Og(!0);this.Kc().B1();this.rc=0}kG(v){this.qk()&&(this.Kc().V1(v),
this.rc=0)}kE(v){this.qk()&&(this.Kc().E1(v),this.rc=0)}oda(v){const y=new Promise(A=>u.add({resolve:A,lfa:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}g2(){return!!this.iT.desynchronized}P_(){let v=0;for(const y of d.K.Sz.$ea())v+=y.AE();return v}ep(){return 2<=this.kd}qk(){return!!this.Ld}s7(v){this.AA.add(v)}kba(v){this.AA.delete(v)}U9(v){this.T9([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={qW:null,rW:null,QW:null,getTime:null,PW:null};self.D.K.f_=class{constructor(a){a=Object.assign({},d,a);this.pT=a.qW;this.Nda=a.rW;this.Qda=a.QW;this.Oda=a.getTime;this.Pda=a.PW}gN(a){return this.pT?this.pT(a):[a.S(),a.U()]}pl(a){return this.Nda(a)}v4(a,b){this.Qda(a,b)}Ea(){return this.Oda()}yz(a){this.Pda(a)}}}
{"use strict";const d=self.D,a=self.Ij.Gm,b=d.B(d.Rect),e=d.B(d.Rect),c=d.B(d.Rect),h=d.B(d.Rect),m=a.create(),g=a.create(),k={pD:null,sW:null,uD:null,zL:!1},n={et:null,sD:!1,qL:!1,AL:!1,zW:!1,xW:!1,HD:!1},p={lD:null,ura:null,fo:0,devicePixelRatio:1,Fx:1,xD:0,jt:null,Ax:null,mW:null,fW:0,gW:0,jX:!1};d.K.Je=class{constructor(q,u){u=Object.assign({},k,u);this.kh=q;this.gI=u.pD;this.Bv=u.sW;this.qT=u.uD;this.PA=null;this.IC=[];this.Rw=[];this.mq=[];this.Zg=0;this.Zs=this.Av=this.xT=this.vn=this.DB=this.eJ=
!1;this.Yp=0;this.pm=[null,null,null];this.oU=!!u.zL;this.dd=this.vd=this.xv=this.wv=0;this.tn=null;this.uw=d.B(d.Rect);this.Ul=d.B(d.Rect);this.om=d.B(d.Rect);this.Gs=d.B(d.Rect);this.Ln=d.B(d.Rect);this.BJ=this.bs=1;this.ec=this.AJ=0;this.ZA=null;this.mI=this.lI=0;this.VK=!1;this.Pk=a.create();this.Cw=a.create()}j(){d.F(this.mq);d.F(this.IC);d.F(this.Rw);this.qT=this.Bv=this.gI=this.tn=null}WD(q,u){u=Object.assign({},n,u);d.F(this.mq);this.xv=this.wv=0;this.DB=this.eJ=!1;this.Yp=0;this.Zs=!!u.HD;
d.Vc(this.IC,q);if(0!==q.length){if(u.et){if(u.et.length!==q.length)throw Error("incorrect indexMap length");d.Vc(this.Rw,u.et)}else{d.F(this.Rw);for(let v=0,y=q.length;v<y;++v)this.Rw.push(v)}for(var w of q)this.wv+=w.HT,this.xv+=w.IT,w.yda&&(this.eJ=!0),w.dD&&(this.DB=!0);!(w=1!==q.length||q[0].bI||q[0].uT)&&(w=!u.HD)&&(w=q[0],w=0!==w.HT||0!==w.IT);if(w||u.sD||q[0].$q()||u.qL||u.AL||!this.Zs&&q[0].dD){this.Av=!1;w=this.Oca(q[0],u);u=this.Nca(q.ke(-1),u);var r=0;w&&(this.Yp=1,this.mq.push(d.B(d.K.Je.Tg.f4,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Yp=Math.max(this.Yp,q),this.mq.push(d.B(d.K.Je.Tg.dY,this,r,q,v)),r=q):(this.Yp=1,this.mq.push(d.B(d.K.Je.Tg.t_,this,-1,1,v)),r=1);u&&this.mq.push(d.B(d.K.Je.Tg.c4,this,r,0))}else this.Av=!0}}Oca(q,u){return u.sD||u.AL||!this.Zs&&q.dD||q.$q()||q.bI&&(u.xW||q.lb().xl()&&u.zW)||0!==this.wv||0!==this.xv}Nca(q,u){return u.qL||q.bI||q.uT}Wo(q,u,w){w=Object.assign({},p,w);this.ZA=u;this.tn=w.lD;this.Zg=w.fo;this.bs=
w.devicePixelRatio;this.BJ=w.Fx;this.AJ=w.xD;this.ec=this.kh.Ea();this.vn=!1;q.I4();this.eJ&&this.Waa();if(this.Av)this.nba(q,w);else{var [r,v]=this.kh.gN(q);this.ica(q,r,v);this.G7(w);q.lu();q.jr(0);q.pu(0);this.PA=w.mW;this.lI=w.fW||0;this.mI=w.gW||0;this.VK=!!w.jX;this.daa(q);this.pm[0]=u;this.pm[1]=1<=this.Yp?this.uR():null;this.pm[2]=2===this.Yp?this.uR():null;for(const y of this.mq)y.mu(q,this.vR(y.Oea),this.vR(y.yT));this.pm[1]&&this.oS(this.pm[1]);this.pm[2]&&this.oS(this.pm[2]);this.pm.fill(null);
this.aaa(q);this.PA=this.tn=this.ZA=null}}ica(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.vd===u&&this.dd===w||this.EQ(q,u,w,0,0,this.Pk,this.Cw);this.vd=u;this.dd=w}EQ(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.Bq(y,u/w);q=q.yt(r,v,100*self.devicePixelRatio,r,v,w);a.ra(A,q)}G7(q){this.uw.ra(q.jt);q.Ax?this.Ul.ra(q.Ax):this.Ul.set(0,0,this.vd,this.dd);this.om.ra(this.Ul);this.om.Em(this.vd,this.dd);q=q.Fx*q.devicePixelRatio;this.Ul.wL(this.wv*q,this.xv*q);this.Ln.ra(this.Ul);this.Ln.Em(this.vd,
this.dd);this.Ul.ia(0,0,this.vd,this.dd);this.Gs.ra(this.Ul);this.Gs.Em(this.vd,this.dd)}daa(q){this.xT=q.Op;this.Zs&&(q.Og(!1),this.DB&&q.qu(!0))}$$(q){q.lu();this.Zs||(q.Og(!1),this.DB&&q.qu(!0))}aaa(q){q.qu(!1);q.Og(this.xT);this.vn=q.vn}HQ(){this.Ln.ia(0,0,1,1)}vR(q){return 0>q?null:this.pm[q]}uR(){return this.kh.pl(this)}oS(q){this.kh.v4(q,this)}I9(q){return this.IC[q]}IG(q){this.PA?this.PA(this,q,()=>this.gI(q,this)):this.gI(q,this);this.Av||this.$$(q)}k$(q){if(this.Zs)return!0;if(0!==this.lI||
0!==this.mI)return!1;const [u,w]=q.Ry(q.pl());return u!==this.vd||w!==this.dd?!1:!0}GS(q,u){let w=this.Pk,r=this.Cw;if(u&&!this.k$(q)){w=m;r=g;const [v,y]=q.Ry(q.pl());this.EQ(q,v,y,this.lI,this.mI,w,r)}q.$o(w);q.nr(r)}Waa(){this.kh.yz(this)}AR(q){return this.qT(this.Rw[q])}Dca(q,u){let w=this.Ln,r=this.Gs,v=this.om;q.xl()&&(e.ra(w),e.ko(),w=e,c.ra(r),c.ko(),r=c,h.ra(v),h.ko(),v=h);this.VQ(q,u,r,v,w,1/this.vd,1/this.dd)}jca(q,u){let w=this.Gs,r=this.om,v=1/this.vd,y=1/this.dd;if(this.Bv){let {bX:G,
cX:z,aX:F}=this.Bv(this.tn);G||(b.set(0,0,0,0),G=b);z||(z=this.vd);F||(F=this.dd);r=w=G;v=1/z;y=1/F}else q.xl()&&(c.ra(w),c.ko(),w=c,h.ra(r),h.ko(),r=h);let A=this.Ln;q.xl()&&(A=e,A.ra(this.Ln),A.ko());this.VQ(q,u,w,r,A,v,y)}VQ(q,u,w,r,v,y,A){u=this.AR(u);q.UP(this.ZA,v,w,r,this.uw,y,A,this.bs,this.BJ,this.AJ,this.ec,u)}nba(q,u){var w=this.IC[0];const r=q.Op,v=w.dD;v&&(q.Og(!1),q.qu(!0),this.Ln.set(0,0,1,1),this.om.set(0,0,1,1));q.tr(w);q.ig(this.Zg);q.Qg(this.ZA);let y;this.om.set(0,0,1,1);if(w.NV&&
this.Bv){const {bX:A,cX:G,aX:z}=this.Bv(this.tn);A&&this.om.ra(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.kh.gN(q);w=1/A;y=1/G}u.jt?this.uw.ra(u.jt):this.uw.set(0,0,0,0);u=this.AR(0);q.UP(null,this.Ln,this.om,this.om,this.uw,w,y,this.bs,this.BJ,this.AJ,this.ec,u);q.jr(0);this.IG(q);v&&(q.qu(!1),q.Og(r))}}}"use strict";self.D.K.Je.Tg=class{constructor(d,a,b,e=-1){this.Xh=d;this.Oea=a;this.yT=b;this.Qa=e}Fi(){return this.Xh}Ia(){return this.Qa}dg(){return this.Fi().I9(this.Ia())}mu(){}};
{"use strict";const d=self.D;d.K.Je.Tg.f4=class extends d.K.Je.Tg{constructor(a,b,e,c){super(a,b,e,c)}mu(a,b,e){b=this.Fi();a.tP();a.pk();a.Qg(e,b.VK);a.so();b.IG(a);b.HQ()}}}{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Hd);d.K.Je.Tg.c4=class extends d.K.Je.Tg{constructor(e,c,h,m){super(e,c,h,m)}mu(e,c,h){const m=this.Fi();e.pk();e.Qg(h);m.GS(e,!0);e.ig(m.Zg);e.jg(c.ne());b.Kj(m.Ul);a.ra(m.Gs);a.ko();e.dr(b,a);m.oU&&e.Tq(c)}}}
{"use strict";const d=self.D;d.K.Je.Tg.t_=class extends d.K.Je.Tg{constructor(a,b,e,c){super(a,b,e,c)}mu(a,b,e){b=this.Fi();a.Qg(e,b.VK);a.so();a.QF();a.tr(this.dg());b.jca(a,this.Ia());b.IG(a);b.HQ()}}}
{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Hd);d.K.Je.Tg.dY=class extends d.K.Je.Tg{constructor(e,c,h,m){super(e,c,h,m)}mu(e,c,h){const m=this.Fi();e.Qg(h);(h=0===this.yT)?e.ig(m.Zg):(e.so(),e.QF());e.tr(this.dg());m.Dca(e,this.Ia());e.jg(c.ne());m.GS(e,h);b.Kj(m.Ul);a.ra(m.Gs);a.ko();e.dr(b,a);m.oU&&e.Tq(c)}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.l1=class{constructor(e){d=e;Object.defineProperties(this,{Ofa:{value:{},writable:!1},storage:{value:new self.o1(d),writable:!1},vsa:{value:d.we,writable:!1}});d.je.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.je.addEventListener("keyup",c=>a.delete(c.key));d.Fb().addEventListener("window-blur",()=>a.clear());d.we&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}W9(e){Object.defineProperties(this.Ofa,e)}addEventListener(e,c){d.je.addEventListener(e,c)}removeEventListener(e,c){d.je.removeEventListener(e,c)}get nW(){return d.By()}random(){return d.Bl()}get yD(){return d.Tb().Wv}get keyboard(){const e=d.Dv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get FW(){const e=d.Dv.FW;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get aM(){const e=d.Dv.aM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Qo("runtime","alert",{message:e+(d.we?" [via Web Worker]":"")})}}}"use strict";self.g1=class{constructor(){}};{"use strict";const d=self.zh;self.o1=class{constructor(a){this.Zw=a.F9()}getItem(a){d.Od(a);return this.Zw.getItem(a)}setItem(a,b){d.Od(a);return this.Zw.setItem(a,b)}removeItem(a){d.Od(a);return this.Zw.removeItem(a)}clear(){return this.Zw.clear()}keys(){return this.Zw.keys()}}}
{"use strict";const d=self.zh,a=new WeakMap;self.ZE=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ba(),writable:!1}});b.I().RR(this,b)}addEventListener(b,e){d.Od(b);d.kk(e);a.get(this).je.addEventListener(b,e)}removeEventListener(b,e){d.Od(b);d.kk(e);a.get(this).je.removeEventListener(b,e)}*uW(){for(const b of a.get(this).ka())yield b.Eh()}mL(b){d.hg(void 0);d.hg(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.I();b=c.Tb().aa(b);if(!b)throw Error("invalid layer");e=c.dE(e,b,void 0,void 0,void 0);c=c.na();c.He(!0);e.vA();c.He(!1);return e.Eh()}}}
{"use strict";const d=self.zh,a=new WeakMap;self.k1=class{constructor(b){a.set(this,b);const e=[],c=b.Pa,h=c.Gg().length;for(let m=0;m<h;++m)e.push(new self.YE(c,m));Object.defineProperties(this,{name:{value:b.Ba(),writable:!1},index:{value:b.Ia(),writable:!1}})}addEventListener(b,e){d.Od(b);d.kk(e);a.get(this).je.addEventListener(b,e)}removeEventListener(b,e){d.Od(b);d.kk(e);a.get(this).je.removeEventListener(b,e)}get width(){return a.get(this).S()}set width(b){a.get(this).Se(b)}get height(){return a.get(this).U()}set height(b){a.get(this).Pe(b)}set scale(b){d.jk(b);
a.get(this).WF(b)}get scale(){return a.get(this).Dd}set angle(b){d.jk(b);a.get(this).Ad(b)}get angle(){return a.get(this).xa()}set scrollX(b){d.hg(b);a.get(this).Ti(b)}get scrollX(){return a.get(this).ag()}set scrollY(b){d.hg(b);a.get(this).Ui(b)}get scrollY(){return a.get(this).bg()}scrollTo(b,e){d.hg(b);d.hg(e);const c=a.get(this);c.Ti(b);c.Ui(e)}set MW(b){d.Od(b);const e=a.get(this);if("perspective"===b)e.TP();else if("orthographic"===b)e.QP();else throw Error("invalid projection");}get MW(){return a.get(this).Ef?
"orthographic":"perspective"}}}
{"use strict";const d=self.D,a=self.zh,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),h=d.B(d.gb);self.j1=class{constructor(m){b.set(this,m);const g=[],k=m.Pa,n=k.Gg().length;for(let p=0;p<n;++p)g.push(new self.YE(k,p));Object.defineProperties(this,{name:{value:m.Ba(),writable:!1},index:{value:m.Ia(),
writable:!1},yD:{value:m.hc().Wv,writable:!1}})}get isVisible(){return b.get(this).Wc()}set isVisible(m){b.get(this).Rg(m)}get opacity(){return b.get(this).le()}set opacity(m){m=d.ia(+m,0,1);isNaN(m)||b.get(this).Si(m)}set scale(m){a.jk(m);b.get(this).RP(m)}get scale(){return b.get(this).Dd}set angle(m){a.jk(m);b.get(this).Ad(m)}get angle(){return b.get(this).te}set Sx(m){a.jk(m);b.get(this).qe(m)}get Sx(){return b.get(this).Va()}set fo(m){a.Od(m);m=e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).ig(m)}get fo(){return c.get(b.get(this).Oj())}set backgroundColor(m){a.EF(m);if(3>m.length)throw Error("expected 3 elements");h.pt(m[0],m[1],m[2]);m=b.get(this);const g=m.Pl;g.Fm(h)||(g.Fj(h),m.I().ea())}get backgroundColor(){const m=b.get(this).Pl;return[m.Xa,m.$a,m.Za]}set scrollX(m){a.hg(m);const g=b.get(this);g.uu(!0);g.Ti(m)}get scrollX(){return b.get(this).ag()}set scrollY(m){a.hg(m);const g=b.get(this);g.uu(!0);g.Ui(m)}get scrollY(){return b.get(this).bg()}scrollTo(m,g){a.hg(m);
a.hg(g);const k=b.get(this);k.uu(!0);k.Ti(m);k.Ui(g)}}}
{"use strict";const d=self.D,a=self.zh,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=d.B(d.Event.Fb);e.set(m,g);return g}let h=null;self.$t=class{constructor(){b.set(this,h);const m={Sf:{value:h.I().oj,writable:!1},JL:{value:h.J().Xv,writable:!1},uid:{value:h.Gc,writable:!1}};h.x9(m);h.s9(m);Object.defineProperties(this,m);h.I().RR(this,h)}static Wg(m){h=m}static Cr(){return h}$u(){const m=e.get(this);m&&(m.j(),e.delete(this));b.delete(this)}addEventListener(m,g,k){a.Od(m);
a.kk(g);c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){a.Od(m);a.kk(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.D,a=self.zh,b=self.$t,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.B(d.gb);self.az=class m extends b{constructor(){super();var g=b.Cr();e.set(this,g);const k=[];var n=g.A();if(g=n.pg){n=n.J().Pa.Gg().length;for(let p=0;p<n;++p)k.push(new self.YE(g,p))}}get yD(){return e.get(this).A().hc().Wv}get DW(){return e.get(this).A().aa().bea}get x(){return e.get(this).A().N()}set x(g){g=
+g;const k=e.get(this).A();isNaN(g)||k.N()===g||(k.Te(g),k.Ta())}get y(){return e.get(this).A().O()}set y(g){g=+g;const k=e.get(this).A();isNaN(g)||k.O()===g||(k.Ue(g),k.Ta())}get Sx(){return e.get(this).A().Va()}set Sx(g){g=+g;const k=e.get(this),n=k.A();isNaN(g)||n.Va()===g||(n.qe(g),k.I().ea())}get width(){return e.get(this).A().S()}set width(g){g=+g;const k=e.get(this).A();isNaN(g)||k.S()===g||(k.Se(g),k.Ta())}get height(){return e.get(this).A().U()}set height(g){g=+g;const k=e.get(this).A();
isNaN(g)||k.U()===g||(k.Pe(g),k.Ta())}get angle(){return e.get(this).A().xa()}set angle(g){g=d.Md(+g);const k=e.get(this).A();isNaN(g)||k.xa()===g||(k.Ad(g),k.Ta())}uL(){e.get(this).A().od().Wga()}get isVisible(){return e.get(this).A().Wc()}set isVisible(g){g=!!g;const k=e.get(this),n=k.A();n.Wc()!==g&&(n.Rg(g),k.I().ea())}get opacity(){return e.get(this).A().le()}set opacity(g){g=d.ia(+g,0,1);const k=e.get(this),n=k.A();isNaN(g)||n.le()===g||(n.Si(g),k.I().ea())}set fo(g){a.Od(g);g=c.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const k=e.get(this);k.A().ig(g);k.I().ea()}get fo(){return h.get(e.get(this).A().Oj())}get zIndex(){return e.get(this).A().Jh()}Pf(g,k){a.hg(g);a.hg(k);return e.get(this).A().Eq(+g,+k)}getParent(){const g=e.get(this).Ha();return g?g.Eh():null}*Kx(){for(const g of e.get(this).Kx())yield g.Eh()}*children(){for(const g of e.get(this).children())yield g.Eh()}*al(){for(const g of e.get(this).al())yield g.Eh()}removeChild(g){a.FF(g,m);const k=e.get(this);g=e.get(g);
k.ik(g)}}}{"use strict";const d=new WeakMap;self.Xja=class extends self.az{constructor(){super();d.set(this,self.$t.Cr())}focus(){d.get(this).oa.YM()}blur(){d.get(this).oa.nM()}}}
{"use strict";const d=self.D,a=self.zh,b=new WeakMap,e=new WeakMap;function c(m){let g=e.get(m);if(g)return g;g=d.B(d.Event.Fb);e.set(m,g);return g}let h=null;self.ON=class{constructor(){b.set(this,h);const m={Sf:{value:h.I().oj,writable:!1},behavior:{value:h.il().d0(),writable:!1}};Object.defineProperties(this,m)}static Wg(m){h=m}static Cr(){return h}get instance(){return b.get(this).fa.Eh()}$u(){const m=e.get(this);m&&(m.j(),e.delete(this));b.delete(this)}addEventListener(m,g,k){a.Od(m);a.kk(g);
c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){a.Od(m);a.kk(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.h1=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Sf:{value:a.I().oj,writable:!1}})}}}
{"use strict";const d=self.D,a=self.zh,b=new WeakMap;self.YE=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Gg()[this.index].Ba()}getParameter(e){a.jk(e);e=Math.floor(+e);const c=b.get(this).jl(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.gb?[e.Xa,e.$a,e.Za]:e}}}
{"use strict";const d=self.D,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.SX=class extends d.ja{constructor(e,c){super();var h=c.exportType;this.g=e;this.gC=new Map;this.zs=new Map;this.tea=new Map;this.EB="cordova"===h;this.xU=!!c.isiOSCordova;this.ew=!!c.isFileProtocol;this.Qea=c.supportedAudioFormats||{};this.zda=
new Map;this.dU=this.MT="";this.XA="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.LH=[];this.VH=new Map;this.aL=[];this.eC=[];this.ZT=!1;this.ZB=this.UH=this.jx=0;this.SI=!1;this.sea=d.B(d.r4,()=>this.fR(),50);this.kK=new d.WO(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(e,h);(h=c.projectData)&&(e["data.json"]=h);for(const [m,g]of Object.entries(e))this.gC.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.tea.set(m,g);new self.g1(this)}j(){this.gC.clear();for(const e of this.zs.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.zs.clear();for(const e of this.LH)e.j();d.F(this.LH);this.VH.clear();d.F(this.eC);this.g=null}I(){return this.g}nca(e){this.MT=e}sca(e){this.dU=e}UG(e){return this.gC.has(e.toLowerCase())}bA(e){return this.gC.get(e.toLowerCase())||null}rN(e){if(!this.UG(e))return e;e=e.toLowerCase();var c=this.zs.get(e);c||(c=this.bA(e),c=URL.createObjectURL(c),
this.zs.set(e,c));return c}hl(e,c){c=c||this.XA;const h=this.bA(e);if(h)return Promise.resolve(h);if(d.pF(e)){const m=e.toLowerCase();return this.EB&&this.ew?this.EM(m):"local"===c?this.kK.Ic(()=>d.hl(m)):d.hl(m)}return d.hl(e)}Bt(e){const c=this.bA(e);if(c)return d.bY(c);if(d.pF(e)){const h=e.toLowerCase();return this.EB&&this.ew?this.DM(h):"local"===this.XA?this.kK.Ic(()=>d.Bt(h)):d.Bt(h)}return d.Bt(e)}Ct(e){const c=this.bA(e);if(c)return d.mM(c);if(d.pF(e)){const h=e.toLowerCase();return this.EB&&
this.ew?this.IY(h):"local"===this.XA?this.kK.Ic(()=>d.Ct(h)):d.Ct(h)}return d.Ct(e)}async WM(e){e=await this.Ct(e);return JSON.parse(e)}wG(e,c){return this.g.Qo("runtime","cordova-fetch-local-file",{filename:e,as:c})}IY(e){return this.wG(e,"text")}async EM(e){const c=await this.wG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.ke(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async HY(e){e=e.toLowerCase();var c=this.zs.get(e);if(c)return c;c=await this.EM(e);c=URL.createObjectURL(c);
this.zs.set(e,c);return c}DM(e){return this.wG(e,"buffer")}LE(e,c=""){if(d.cF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.UG(e)?Promise.resolve(this.rN(e)):this.EB&&this.ew?this.HY(c+e):Promise.resolve(c+e.toLowerCase())}qz(e){if(e.Hx&&!a.has(e.Hx))throw Error("invalid load policy");let c=this.VH.get(e.url);if(c)return c;c=d.B(d.PN,this,{url:e.url,size:e.size||0,Hx:e.Hx||this.XA});this.LH.push(c);this.VH.set(c.Vk,c);this.ZT||(this.jx+=c.Tm(),
this.eC.push(c.lO().then(()=>this.xQ(c.Tm()))));return c}async oQ(){try{await Promise.all(this.eC),this.ZB=1}catch(e){console.error("Error loading: ",e),this.SI=!0,this.fR()}}D5(){this.ZT=!0}xQ(e){this.UH+=e;this.sea.kY()}fR(){const e=d.B(d.Event,"loadingprogress");this.ZB=d.ia(this.UH/this.jx,0,1);e.progress=this.ZB;this.g.Fb().dispatchEvent(e)}Kca(e){d.Vc(this.aL,e);this.aL.length&&this.eC.push(this.L$())}L$(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,h,m]of this.aL)this.jx+=
m,e.push(this.K$(c,h).then(()=>this.xQ(m)));return Promise.all(e)}async K$(e,c){try{const h=await this.LE(c,this.MT),m=new FontFace(e,`url('${h}')`);this.g.we?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${e}': `,h)}}c2(){return!!this.Qea["audio/webm; codecs=opus"]}$ba(e){for(const [c,h,m]of e)this.zda.set(c,{fileName:c,Mra:h.map(g=>({type:g[0],Ira:g[1],Zra:c+g[1],fileSize:g[2]})),wsa:m})}async pO(e){e=await this.LE(e);return await this.g.Qo("runtime",
"add-stylesheet",{url:e})}}}
{"use strict";const d=self.D;d.RX=class extends d.ja{constructor(a,b){super();this.ud=a;this.g=a.I();this.Vk=b.url;this.Ls=b.size;this.HJ=b.Hx;this.vv=null;this.nJ=!1;this.En=null}j(){this.vv=this.g=this.ud=this.En=null}Tm(){return this.Ls}lO(){return"local"===this.HJ||this.vv?(this.nJ=!0,Promise.resolve()):this.En?this.En:this.En=this.ud.hl(this.Vk,this.HJ).then(a=>{this.nJ=!0;this.En=null;return this.vv=a}).catch(a=>console.error("Error loading resource: ",a))}nF(){return this.nJ}F_(){return this.vv?Promise.resolve(this.vv):
this.En?this.En:this.ud.hl(this.Vk,this.HJ)}}}
{"use strict";const d=self.D,a=new d.WO,b=new Set;d.PN=class extends d.RX{constructor(e,c){super(e,c);this.Xk=this.pq=null;this.Sc=0;this.fU=this.hU=-1;b.add(this)}j(){this.Qi();if(0!==this.Sc)throw Error("released image asset which still has texture references");this.pq=null;b.delete(this);super.j()}static br(){for(const e of b)e.pq=null,e.Xk=null,e.Sc=0}cu(e,c){c=c||{};this.Sc++;if(this.Xk)return Promise.resolve(this.Xk);if(this.pq)return this.pq;c.aW=this.g.P.DV;return this.pq=this.F_().then(h=>
a.Ic(()=>e.iy(h,c).then(m=>{this.pq=null;if(0===this.Sc)return e.Mj(m),null;this.Xk=m;this.hU=m.S();this.fU=m.U();return this.Xk}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}Qi(){if(0>=this.Sc)throw Error("texture released too many times");this.Sc--;0===this.Sc&&this.Xk&&(this.Xk.lb().Mj(this.Xk),this.Xk=null)}ne(){return this.Xk}S(){return this.hU}U(){return this.fU}}}
{"use strict";const d=self.D;function a(b,e){return b.A().$k-e.A().$k}d.C4=class extends d.ja{constructor(b,e,c){super();this.T=e;this.R=c;this.H=[];this.iw=!0;this.vj=new Set;this.aw=!1}j(){d.F(this.H);this.vj.clear()}rd(){d.F(this.H);this.iw=!0;this.vj.clear();this.aw=!1}l5(){this.iw=!1}Mo(){if(!this.H.length)return!0;if(this.H.length>this.vj.size)return!1;this.OG();return!0}bF(b){this.vj.has(b)?(this.vj.delete(b),0===this.vj.size&&(this.aw=!1)):(this.H.push(b),this.iw=1===this.H.length)}Nh(b){this.vj.add(b);
this.aw=!0;50<=this.vj.size&&this.OG()}OG(){this.aw&&(this.H.length===this.vj.size?this.rd():(d.Bg(this.H,this.vj),this.vj.clear(),this.aw=!1))}a9(){this.iw||(this.H.sort(a),this.iw=!0)}iE(b){this.OG();this.a9();this.H.length&&b.push(this.H)}}}
{"use strict";const d=self.D;d.D4=class extends d.ja{constructor(a,b){super();this.iI=a;this.hI=b;this.fj=d.B(d.gu)}j(){this.fj.j();this.fj=null}Om(a,b,e){let c=this.fj.ca(a,b);return c?c:e?(c=d.B(d.C4,this,a,b),this.fj.Set(a,b,c),c):null}Xi(a){return Math.floor(a/this.iI)}Yi(a){return Math.floor(a/this.hI)}Fl(a,b,e){if(b)for(let c=b.ba,h=b.ma;c<=h;++c)for(let m=b.Y,g=b.ga;m<=g;++m){if(e&&e.Pf(c,m))continue;const k=this.Om(c,m,!1);k&&(k.Nh(a),k.Mo()&&this.fj.uo(c,m))}if(e)for(let c=e.ba,h=e.ma;c<=
h;++c)for(let m=e.Y,g=e.ga;m<=g;++m)b&&b.Pf(c,m)||this.Om(c,m,!0).bF(a)}xz(a,b){let e=this.Xi(a.ba);const c=this.Yi(a.Y),h=this.Xi(a.ma);for(a=this.Yi(a.ga);e<=h;++e)for(let m=c;m<=a;++m){const g=this.Om(e,m,!1);g&&g.iE(b)}}P2(a){let b=a.ba;const e=a.Y,c=a.ma;for(a=a.ga;b<=c;++b)for(let h=e;h<=a;++h){const m=this.Om(b,h,!1);m&&m.l5()}}}}
{"use strict";const d=self.D,a=new d.Rect,b=new d.Hd,e=[];new d.Rect;new d.Rect;const c=self.Ij,h=c.ID,m=c.Qx,g=c.Gm;g.create();const k=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=d.B(d.Eu);d.B(d.Rect);function r(z,F){return z.A().$k-F.A().$k}function v(z,F){return z.A().Va()-F.A().Va()}const y=[],A=[],G=[];d.jO=class extends d.ja{constructor(z,F,H){super();this.jh=z;this.g=z.I();this.$U=F;this.Ja=H[0];this.Qa=-1;this.kb=H[2];this.kw=!!H[3];this.Pl=d.B(d.gb);this.Pl.Im(H[4].map(M=>
M/255));this.Mk=!!H[5];this.ee=H[6];this.fe=H[7];this.hb=d.B(d.gb,1,1,1,H[8]);this.yC=d.B(d.gb);this.iJ=H[9];this.Jea=H[17];this.JV=H[18];this.Wea=H[10];this.yj=H[11];this.Zg=H[12];this.Ze=null;this.Dd=1;this.ld=H[16];this.ni=this.mi=this.te=0;this.Xl=!1;this.yg=d.B(d.Rect);this.RV=d.B(d.Rect);this.ao=d.B(d.Rect);this.Pk=g.create();this.rJ=!0;this.Cw=g.create();this.oJ=!0;this.QV=d.B(d.K.Q6);this.WB=!0;this.AV=[];this.kU=H[14];this.Jk=[];this.VA=[];this.lU=new Map;this.H=[];this.sp=this.cL=!1;const J=
this.g.P;this.Pa=d.B(d.fl,this,H[15]);this.Xh=d.B(d.K.Je,J.wI,{pD:(M,P)=>{P=P.tn;const R=P.pl();M.cn(P.KE());M.qy(R);M.Tq(R);J.To(R)},uD:M=>this.Pa.jl(M)});this.rx=this.km=!0;this.Is=null;this.vJ=[];this.PB=!1;this.pea=d.B(d.Rect,0,0,-1,-1);this.Sda=d.B(d.Rect,0,0,-1,-1);this.bea=new self.j1(this);this.eT();this.hp()&&(this.Is=d.B(d.D4,this.g.nh,this.g.mh));this.Pn=H[19].map(M=>d.B(d.jO,this.jh,this,M))}Wg(){for(const z of this.kU){const F=this.g.sf(z[1]);this.jh.vQ(F);F.Zr||F.yP(z);this.Jk.push(z);
this.lU.set(z[2],z)}d.Vc(this.AV,this.Jk);this.kU=null}j(){this.g=this.jh=null}g0(z){return this.lU.get(z)}LY(z){const F=this.jh.Qp;let H=0;const J=this.Jk;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.sf(M[1]);let Z=!0;if(!T.VE()||F)M=this.g.Di(M,this,!0),z.push(M),T.gg()&&(Z=!1,this.VA.push(M.Gc));Z&&(J[H]=J[P],++H)}d.mf(J,H);this.g.Yd();this.Sg()}Vg(z,F){const H=z.A();if(H.aa()!==this)throw Error("instance added to wrong layer");this.H.push(z);0!==H.Va()&&(this.sp=!0);F&&this.hp()&&
z.A().Ta();this.Sg()}N$(z){this.H.includes(z)||(this.H.push(z),0!==z.A().Va()&&(this.sp=!0),this.Sg())}Qaa(z){const F=z.A();if(F.aa()!==this)throw Error("instance added to wrong layer");this.H.unshift(z);0!==F.Va()&&(this.sp=!0);this.Sg()}np(z,F){const H=this.H.indexOf(z);0>H||(F&&this.hp()&&z.A().qS(),this.H.splice(H,1),this.Sg(),this.WR())}FS(){this.sp=!0}WR(){0===this.H.length&&(this.sp=!1)}xH(z){if(z){z=new Set;for(var F of this.H){var H=F.A().$k;0<=H&&z.add(H)}F=-1;for(const J of this.H)if(H=
J.A(),!(0<=H.$k)){for(++F;z.has(F);)++F;H.sA(F)}}this.H.sort(r)}Z8(){for(const z of this.H)z.J().gg()||this.g.Nm(z);this.g.Yd();d.F(this.H);this.sp=!1;this.Sg()}ju(z,F,H,J,M){const P=this.g.na(),R=this.g.$c,T=z.ab,Z=[];for(const Y of this.Jk){var X=Y[0];if(F.Pf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.VM(X))continue}else continue;X=this;var ba=this.g.Na();this.hc()!==ba&&((X=ba.pN(this.Ba()))||(X=ba.Hy(this.Ia())));ba=this.g.Di(Y,X,!1,void 0,void 0,!1,M);X.gG(ba);X=ba.A();X.rz(H,J);X.Ta();P.He(!0);
ba.vA();P.He(!1);Z.push(ba)}}return Z}hc(){return this.jh}Ba(){return this.Ja}sH(z){this.Qa=z}Ia(){return this.Qa}I(){return this.g}Qj(){return this.g.Qj()}Fi(){this.Tu();return this.Xh}Tu(){const z=this.Sq();if(this.km||z!==this.rx){var F=this.Pa.lg;this.Xh.WD(F.map(H=>H.dg()),{et:F.map(H=>H.Ia()),sD:!z,HD:!0});this.km=!1;this.rx=z}}Qh(){this.Pa.Qh();this.km=!0}hp(){return this.Wea&&!this.JV}O5(){this.PB=!1}Wc(){for(const z of this.Iga())if(!z.kw)return!1;return!0}Rg(z){z=!!z;this.kw!==z&&(this.kw=
z,this.g.ea())}uu(z){z=!!z;if(this.Xl!==z){if(this.Xl=z)z=this.hc(),this.mi=z.ag(),this.ni=z.bg();this.wk();this.g.ea()}}Ti(z){var F=this.hc();const H=F.yN();F=F.zN();z>F&&(z=F);z<H&&(z=H);this.mi!==z&&(this.mi=z,this.Xl&&(this.wk(),this.g.ea()))}Ui(z){var F=this.hc();const H=F.AN();F=F.xN();z>F&&(z=F);z<H&&(z=H);this.ni!==z&&(this.ni=z,this.Xl&&(this.wk(),this.g.ea()))}ag(){return this.Xl?this.mi:this.hc().ag()}bg(){return this.Xl?this.ni:this.hc().bg()}TG(){const z=this.hc();return[z.OE(),z.PE()]}JN(z,
F){var H=this.RV;if(0===z)F.ra(H);else{let R=H.lt(),T=H.mt();var J=this.$M(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.TG();if(.5!==X||.5!==ba){const Y=this.Jt();var M=this.g,P=100/Y;J=(X-.5)*M.Ag/P;M=(ba-.5)*M.zg/P;P=this.xa();0!==P&&(w.set(J,M),w.rotate(P),J=w.T,M=w.R);z=d.xt(Y,0,z);R+=d.Xd(J,0,z);T+=d.Xd(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}le(){return this.hb.Ya}Si(z){z=d.ia(z,0,1);this.hb.Ya!==z&&(this.hb.nt(z),this.eT(),this.g.ea())}eT(){this.yC.ra(this.hb);this.yC.PL()}KE(){return this.yC}Sq(){return this.hb.qD(1,
1,1,1)}P5(z){this.yj!==z&&(this.yj=z,this.wk(),this.g.ea())}L5(z,F){if(this.ee!==z||this.fe!==F)if(this.ee=z,this.fe=F,this.wk(),this.g.ea(),1!==this.ee||1!==this.fe)for(const H of this.H)H.J().pH(!0)}qe(z){this.ld!==z&&(this.ld=z,this.g.ea())}Va(){return this.ld}Ad(z){z=d.Md(z);this.te!==z&&(this.te=z,this.wk(),this.g.ea())}xa(){return d.Md(this.jh.xa()+this.te)}Z0(){return 0<this.H.length}PG(){return this.CF()&&this.JV?(d.Vc(G,this.H),G.sort((z,F)=>this.Rca(z,F)),G):this.H}CQ(z){d.eo(z,this.PG());
for(const F of this.Pn)F.Wc()&&0<F.le()&&F.CQ(z)}Rca(z,F){var H=this.hc().oT,J=H[0],M=H[1];H=H[2];var P=z.A();const R=F.A();F=P.N()-J;z=P.O()-M;P=P.Va()-H;J=R.N()-J;M=R.O()-M;H=R.Va()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}a6(z){z=!!z;this.Mk!==z&&(this.Mk=z,this.g.ea())}z5(z){z=!!z;this.iJ!==z&&(this.iJ=z,this.g.ea())}cP(){return!this.I().Am||!this.Jea}CF(){return!this.cP()}Rq(){return this.CF()&&this.hc().hea}OF(){if(!this.Rq())return!1;for(const z of this.Pn)if(!z.OF())return!1;return!0}ig(z){this.Zg!==
z&&(this.Zg=z,this.g.ea())}Oj(){return this.Zg}U0(){for(const z of this.Pn)if(z.Kz())return!0;return!1}*UW(){for(const z of this.Pn)yield*z.UW();yield this}*wga(){let z=this.$U;for(;z;)yield z,z=z.$U}*Iga(){yield this;yield*this.wga()}v2(z){return this===z||this.ee===z.ee&&this.fe===z.fe&&this.Dd===z.Dd&&this.yj===z.yj&&this.te===z.te&&this.ag()===z.ag()&&this.bg()===z.bg()}dba(z){0!==z.size&&0<d.Bg(this.H,z)&&(this.WR(),this.Sg())}Sg(){this.PB=this.cL=!1}jv(){if(!this.cL){this.H.sort(v);if(this.hp())for(let z=
0,F=this.H.length;z<F;++z){const H=this.H[z].A();H.sA(z);this.Is.P2(H.Lw)}else for(let z=0,F=this.H.length;z<F;++z)this.H[z].A().sA(z);this.cL=!0}}V2(z,F,H){var J=z.A();F=F.A();if(J.aa()!==this||F.aa()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Jh();F=F.Jh();if(J===F+(H?1:-1))return!1;d.hfa(this.H,J);J<F&&F--;H&&F++;F===this.H.length?this.H.push(z):this.H.splice(F,0,z);this.Sg();return!0}V$(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=
z[J],Z=F[M];T.A().$k<Z.A().$k?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}U$(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.V$(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}T$(z){for(;1<z.length;)z=this.U$(z);return z[0]}H9(){this.jv();d.F(e);this.Is.xz(this.yg,e);return e.length?1===e.length?e[0]:this.T$(e):[]}Kz(){return this.Wc()&&0<this.le()&&this.$Q()}$Q(){if(this.Z0()||!this.Mk)return!0;for(const z of this.Pn)if(z.$Q())return!0;
return!1}Du(){return this.iJ||!this.Sq()||0!==this.Oj()||this.Pa.Yt()}PF(){if(this.Du())return!0;for(const z of this.Pn)if(z.PF())return!0;return!1}pl(){return this.Ze}$M(z){if(this.jh.Ef)return 1;{const F=this.Jt();return F/(F-z)}}Jt(){return 100/this.Ki()}wk(){this.WB=this.oJ=!0}cA(z){this.oJ&&(this.E7(z,this.Cw),this.oJ=!1);return this.Cw}q9(){var z=this.g,F=this.hc(),H=z.Sm(),J=z.pC,M=z.qC;J=(this.ag()-J)*this.ee+J;var P=(this.bg()-M)*this.fe+M;z.cm&&(J=Math.round(J),P=Math.round(P));M=(J+0)*
H;J=(P+0)*H;F=F.Ef?100:this.Jt();const [R,T]=this.TG();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.Ag*H/Z;z=(T-.5)*z.zg*H/Z;H=this.xa();0!==H&&(w.set(P,z),w.rotate(H),P=w.T,z=w.R);M+=P;J+=z}return[M,J,F]}E7(z,F){const H=this.g;var J=this.hc();const M=H.Sm();if(this.Rq()){h.ra(p,J.oT);h.ra(q,J.Kda);h.ra(u,J.Lda);J=H.pC;const P=H.qC,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.ee+J;p[1]=(p[1]-P)*this.fe+P;p[2]*=Math.max(this.ee,this.fe);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;h.set(k,M,M,1);h.multiply(p,
p,k);h.multiply(q,q,k)}else{const [P,R,T]=this.q9();h.set(p,P,R,T);h.set(q,P,R,T-100);J=this.xa();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.pM(F,p,q,u,H.P.Ei());1!==M&&(h.set(k,M,M,1),g.scale(F,F,k))}Eca(){this.WB=this.rJ=!0}dA(z){this.rJ&&(this.F7(z),this.rJ=!1);return this.Pk}F7(z){const F=this.g.P,[H,J]=this.TG();this.jh.Ef?z.hY(this.Pk,F.Sj(),F.Ei()):.5===H&&.5===J?g.ra(this.Pk,F.YA):z.Bq(this.Pk,F.Sj()/F.Ei(),H,J)}qA(z){z.$o(this.dA(z));let F;F=this.cA(z);z.nr(F)}g4(z){this.qA(z);
z.jr(this.Va())}Ch(z,F,H){var J=this.g.P;const M=this.Du();var P=null;let R=null;if(this.g.iF()&&z.xl()){const T=J.qN(this);T&&(R=T.RD(),z.kG(R))}M?(P={Jj:this.g.Cd},"low"===J.bi&&(P.width=J.Sj(),P.height=J.Ei()),this.Ze=P=this.g.Gt(P),z.Qg(P),this.Mk&&z.so()):(this.Ze=F,z.Qg(F));this.Mk||z.Ed(this.Pl);this.jh.YQ(z,this.Ze,this.Pn,M&&this.Mk);this.qA(z);z.jr(this.Va());z.Og(this.CF());this.Ki()>Number.EPSILON&&(this.jv(),J=this.hp()&&0===this.Va()&&!this.sp,this.Rq()?this.O8(z):J?this.P8(z):this.XQ(z,
this.PG()));z.jr(0);z.pu(0);M&&(z.Og(!1),this.Q8(z,P,F,H));R&&z.kE(R);this.Ze=null}XQ(z,F){const H=this.yg,J=this.Ze,M=this.hc().Ef,P=this.hc().NN();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.A();ba.Wc()&&ba.dO(H,P,M)&&this.Il(X,ba,z,J)}}O8(z){const F=this.Ze,H=this.Dr(),J=this.PG();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.A();if(!P.Wc()||!P.Vq(H)){++T;continue}(!M.er()||0<P.cd)&&A.push(M);var R=M.A().oe();y.push(M);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.A();if(Y.Wc()&&Y.Vq(H)){if(Y.oe()!==R)break;ba.er()?(0<Y.cd&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].tO()){this.L8(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.A(),P.nA(!0),this.Il(M,P,z,F),P.nA(!1)}else{this.Il(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.A(),R.aa().Il(P,R,z,F))}T=X;d.F(y);d.F(A)}}L8(z,F){const H=this.Ze;z.BM();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.A();M.lA(!0);this.JG(J,M,z)}z.AM();for(let P=0,R=F.length;P<R;++P)J=F[P],
M=J.A(),this.Il(J,M,z,H),M.lA(!1);z.zM()}P8(z){var F=this.Is;const H=this.Sda,J=this.pea,M=this.yg;H.set(F.Xi(M.ba),F.Yi(M.Y),F.Xi(M.ma),F.Yi(M.ga));this.PB&&H.yd(J)?F=this.vJ:(F=this.H9(),this.PB=!0,J.ra(H));this.XQ(z,F);F!==this.vJ&&d.Vc(this.vJ,F)}Il(z,F,H,J){F.Yt()?this.N8(z,F,H,J):this.JG(z,F,H)}JG(z,F,H){F=F.lq;H.ij!==F&&F.MX();z.Ch(H)}N8(z,F,H,J){this.M8(z,F,H,J)&&this.qA(H)}M8(z,F,H,J){const M=F.pg.Fi();M.Wo(H,J,{lD:z,fo:F.Oj(),devicePixelRatio:this.g.Nt(),Fx:this.g.Ot()*this.Ki(),xD:this.xa(),
jt:F.od(),Ax:M.Av?null:this.d$(F),mW:null,fW:null,gW:null,jX:null});H.jr(this.Va());return M.vn}Q8(z,F,H,J){const M=this.g;0===this.Pa.lg.length?(z.Qg(H),z.pk(),J&&0===this.Zg&&this.Sq()?z.CM(F):(z.ig(this.Zg),z.cn(this.yC),z.qy(F)),z.Tq(F),M.To(F)):this.Fi().Wo(z,H,{lD:this,fo:this.Oj(),devicePixelRatio:M.Nt(),Fx:M.Ot()*this.Ki(),xD:this.xa(),jt:this.yg,Ax:null,zL:!0})}RP(z){this.Dd!==z&&(this.Dd=z,this.jh.Xx(),this.wk(),this.g.ea())}Sm(){return this.Ki()*this.g.Sm()}Rj(){return this.Ki()*this.g.Rj()}Ki(){return(this.Dd*
this.jh.Dd-1)*this.yj+1}qG(){var z=this.g.pC,F=this.g.qC,H=(this.ag()-z)*this.ee+z,J=(this.bg()-F)*this.fe+F;z=this.Ki();F=this.g.Ag/z;z=this.g.zg/z;H-=F/2;let M=J-z/2;this.g.cm&&(H=Math.round(H),M=Math.round(M));J=this.RV;J.set(H,M,H+F,M+z);F=this.xa();0!==F&&(a.ra(J),a.offset(-J.lt(),-J.mt()),b.Lga(a,F),b.uL(a),a.offset(J.lt(),J.mt()),J.ra(a));F=this.ld;this.JN(F,this.yg);this.Rq()?this.jY(F,this.ao):this.ao.ra(this.yg)}jY(z,F){var H=this.g.P,J=H.Oc;H=H.Cc;const [M,P]=this.Uf(0,0,z),[R,T]=this.Uf(J,
0,z),[Z,X]=this.Uf(J,H,z),[ba,Y]=this.Uf(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}Uf(z,F,H=0){return this.I7(z,F,H,this.Rj())}I7(z,F,H,J){const M=this.g;var P=M.lb();const R=this.Ki();m.set(n,0,0,M.Ag/R,M.zg/R);z/=J;F=n[3]-F/J;J=this.dA(P);P=this.cA(P);return d.K.H6(z,F,H,P,J,n,k)?[k[0],k[1]]:[NaN,NaN]}nY(z,F){const H=this.Dd,
J=this.yj,M=this.ee,P=this.fe,R=this.te;this.fe=this.ee=this.yj=this.Dd=1;this.te=0;this.wk();z=this.Uf(z,F);this.Dd=H;this.yj=J;this.ee=M;this.fe=P;this.te=R;this.wk();return z}Po(z,F){return this.PR(z,F,0,this.Rj())}gk(z,F,H=0){return this.PR(z,F,H,this.Sm()*this.Qj())}PR(z,F,H,J){var M=this.g,P=M.lb();const R=this.Ki();m.set(n,0,0,M.Ag/R,M.zg/R);M=this.dA(P);P=this.cA(P);return d.K.i4(z,F,H,P,M,n,k)?[k[0]*J,(n[3]-k[1])*J]:[NaN,NaN]}d$(z){var F=z.od(),H=z.oe();z=z.cd;const J=H+z,M=F.ba,P=F.Y,R=
F.ma;F=F.ga;if(this.Rq()){if(this.kn(M,P,H)||this.kn(R,P,H)||this.kn(R,F,H)||this.kn(M,F,H)||0<z&&(this.kn(M,P,J)||this.kn(R,P,J)||this.kn(R,F,J)||this.kn(M,F,J)))return null}else if(J>=this.Jt())return null;let [T,Z]=this.gk(M,P,H),[X,ba]=this.gk(R,F,H);if(0!==this.xa()||0<z){const [Y,va]=this.gk(R,P,H),[ta,ya]=this.gk(M,F,H);if(0<z){const [Na,Sa]=this.gk(M,P,J),[Ta,Ua]=this.gk(R,P,J),[Wa,eb]=this.gk(R,F,J),[fb,Pa]=this.gk(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);
T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}Dr(){this.WB&&(this.nda(),this.WB=!1);return this.QV}nda(){var z=this.g.lb();const F=this.dA(z);z=this.cA(z);this.QV.iY(z,F)}kn(z,F,H){return this.Dr().d2(z,F,H)}la(){return{s:this.Dd,a:this.te,vl:this.yg.ba,vt:this.yg.Y,vr:this.yg.ma,vb:this.yg.ga,v:this.kw,bc:this.Pl.toJSON(),t:this.Mk,sx:this.mi,
sy:this.ni,hosp:this.Xl,px:this.ee,py:this.fe,c:this.hb.toJSON(),sr:this.yj,fx:this.Pa.sd(),cg:this.VA}}qa(z){this.Dd=z.s;this.te=z.a;this.yg.set(z.vl,z.vt,z.vr,z.vb);this.kw=!!z.v;this.Pl.Im(z.bc);this.Mk=!!z.t;z.hasOwnProperty("sx")&&(this.mi=z.sx);z.hasOwnProperty("sy")&&(this.ni=z.sy);z.hasOwnProperty("hosp")&&(this.Xl=!!z.hosp);this.ee=z.px;this.fe=z.py;this.hb.Im(z.c);this.yj=z.sr;d.Vc(this.VA,z.cg);d.Vc(this.Jk,this.AV);const F=new Set(this.VA);let H=0;for(let J=0,M=this.Jk.length;J<M;++J)F.has(this.Jk[J][2])||
(this.Jk[H]=this.Jk[J],++H);d.mf(this.Jk,H);this.Pa.Xc(z.fx);this.km=!0;this.xH(!1);this.Sg()}gG(z){if(!this.H.includes(z))if(z.vf()){var F=[...z.al()];F.push(z);F.sort((J,M)=>{J=J.A().Nq();M=M.A().Nq();return J-M});for(var H of F)if(H.Zb())for(const J of H.Jd)F.includes(J)||(z=[...J.al()],z.push(J),z.sort((M,P)=>{M=M.A().Nq();P=P.A().Nq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Vg(J,!0)}else if(this.Vg(z,!0),z.Zb())for(F of z.Jd)if(H=[...F.al()],H.push(F),H.sort((J,
M)=>{J=J.A().Nq();M=M.A().Nq();return J-M}),H&&H.length)for(const J of H)this.Vg(J,!0)}}}
{"use strict";const d=self.D,a=self.Eg;d.B(d.Rect);d.B(d.Rect);const b=d.B(d.Rect),e=d.B(d.gb),c=self.Ij.ID,h=[],m=[],g=[],k=[];let n=null;function p(q,u){n!==q&&(q.g4(u),n=q)}d.B2=class extends d.ja{constructor(q,u,w){super();this.eb=q;this.g=q.I();this.Ja=w[0];this.Fea=w[1];this.Eea=w[2];this.Z=w[1];this.W=w[2];this.VB=!!w[3];this.Ef=!!w[4];this.fD=w[5];this.gD=w[6];this.GT=w[7];this.ed=null;this.kb=w[8];this.Qa=u;this.ni=this.mi=0;this.Dd=1;this.te=0;this.os=new Set;this.th=new Set;this.bx=new Set;
this.Tr=[];this.XI=[];this.hea=!1;this.oT=c.create();this.Kda=c.create();this.Lda=c.create();this.FC=[];this.$b=[];this.IU=new Map;this.JU=new Map;const r=this.g.P;this.Pa=d.B(d.fl,this,w[11]);this.Xh=d.B(d.K.Je,r.wI,{pD:(v,y)=>{y=y.tn.pl();v.lu();v.qy(y);v.Tq(y);r.To(y)},uD:v=>this.Pa.jl(v)});this.km=!0;this.TV=!1;this.Ze=null;this.$p={};this.Qp=!0;this.Wv=new self.k1(this);this.je=d.B(d.Event.Fb);for(const v of w[9])this.FC.push(d.B(d.jO,this,null,v));this.$b=[...this.Zea()];for(let v=0,y=this.$b.length;v<
y;++v)q=this.$b[v],q.sH(v),q.Wg(),this.IU.set(q.Ba().toLowerCase(),q),this.JU.set(q.kb,q);for(const v of w[10]){w=this.g.sf(v[1]);if(!w)throw Error("missing nonworld object class");w.Zr||w.yP(v);this.XI.push(v);this.vQ(w)}}j(){for(const q of this.$b)q.j();d.F(this.$b);this.bx.clear();this.g=this.eb=this.ed=null}I(){return this.g}Ba(){return this.Ja}Ia(){return this.Qa}Fi(){this.Tu();return this.Xh}Tu(){const q="low"===this.g.P.bi;if(this.km||this.TV!==q){var u=this.Pa.lg;this.Xh.WD(u.map(w=>w.dg()),
{et:u.map(w=>w.Ia()),qL:q,HD:!0});this.km=!1;this.TV=q}}Qh(){this.Pa.Qh();this.km=!0}sN(){let q=this.$b[0].Ki();for(let u=1,w=this.$b.length;u<w;++u){const r=this.$b[u];if(0!==r.ee||0!==r.fe)q=Math.min(q,r.Ki())}return q}yR(){return.5*this.g.Ag/this.sN()}zR(){return.5*this.g.zg/this.sN()}yN(){return this.VB?-Infinity:this.yR()}zN(){return this.VB?Infinity:this.S()-this.yR()}AN(){return this.VB?-Infinity:this.zR()}xN(){return this.VB?Infinity:this.U()-this.zR()}Ti(q){const u=this.yN(),w=this.zN();
q>w&&(q=w);q<u&&(q=u);this.mi!==q&&(this.mi=q,this.vk(),this.g.ea())}ag(){return this.mi}Ui(q){const u=this.AN(),w=this.xN();q>w&&(q=w);q<u&&(q=u);this.ni!==q&&(this.ni=q,this.vk(),this.g.ea())}bg(){return this.ni}Xx(){this.Ti(this.ag());this.Ui(this.bg());for(const q of this.$b)q.Xl&&(q.Ti(q.ag()),q.Ui(q.bg()))}d6(q,u){if(this.fD!==q||this.gD!==u)this.fD=q,this.gD=u,this.m2()&&(this.Ir(),this.vk(),this.g.ea())}OE(){return this.Ef?.5:this.fD}PE(){return this.Ef?.5:this.gD}NN(){const q=this.OE(),u=
this.PE();return 0>q||1<q||0>u||1<u}TP(){this.Ef&&(this.Ef=!1,this.Ir(),this.vk(),this.g.ea())}QP(){this.Ef||(this.Ef=!0,this.Ir(),this.vk(),this.g.ea())}m2(){return!this.Ef}WF(q){this.Dd!==q&&(this.Dd=q,this.vk(),this.Xx(),this.g.ea())}Ad(q){q=d.Md(q);this.te!==q&&(this.te=q,this.vk(),this.g.ea())}xa(){return this.te}S(){return this.Z}Se(q){!isFinite(q)||1>q||(this.Z=q)}U(){return this.W}Pe(q){!isFinite(q)||1>q||(this.W=q)}*Zea(){for(const q of this.FC)yield*q.UW()}aa(q){return"number"===typeof q?
this.Hy(q):this.pN(q.toString())}Hy(q){q=d.ia(Math.floor(q),0,this.$b.length-1);return this.$b[q]}pN(q){return this.IU.get(q.toLowerCase())||null}Iy(q){return this.JU.get(q)||null}Ir(){for(const q of this.$b)q.Eca()}vk(){for(const q of this.$b)q.wk()}q0(){let q=this.FC.filter(u=>u.Kz())[0];for(;q;){if(!q.Mk)return e.Fj(q.Pl),e.nt(1),e;if(q.Du())return e.no(0,0,0,0),e;q=q.Pn.filter(u=>u.Kz())[0]}e.no(0,0,0,0);return e}pR(){return[...this.os]}vQ(q){if(q.Zb())for(const u of q.bh.nm)this.os.add(u);else this.os.add(q)}N9(){return[...this.th]}XG(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.GY(this.th,q.th),q.th.clear());q=[];for(const w of this.os)this.th.has(w)||(q.push(w.Zq(u)),this.th.add(w));return Promise.all(q)}async rO(q){if(q.ab)throw Error("cannot load textures for family");var u=this.g.lb();!u||u.Ko()||this.th.has(q)||(this.th.add(q),u=q.Zq(u),this.r7(u),await u,q.sz(),this.g.ea())}r7(q){this.bx.add(q);q.then(()=>this.bx.delete(q)).catch(()=>this.bx.delete(q))}S6(){return Promise.all([...this.bx])}T2(q){if(q.ab||0<q.H.length)throw Error("cannot unload textures");
this.g.lb()&&this.th.has(q)&&(this.th.delete(q),q.Uo())}cda(q,u){if(q!==this&&u)for(const w of this.th)w.gg()||q.os.has(w)||(w.Uo(),this.th.delete(w))}Yu(){this.th.clear()}async TS(q){const u=this.g,w=this.eb,r=u.na();this.GT&&(this.ed=r.jN(this.GT),this.ed.AH());w.KS(this);this.Z=this.Fea;this.W=this.Eea;this.mi=u.nh/2;this.ni=u.mh/2;this.Xx();this.W$(q);this.V7();this.Qp||this.X7();this.LQ(this.Tr);this.W7();w.vY();u.Yd();const v=this.g.tda;await Promise.all(v);d.F(v);if(!u.Lk){for(const y of this.Tr)y.h6();
for(const y of this.Tr)y.WS()}d.F(this.Tr);await Promise.all([...this.os].map(y=>y.xF(this.g.lb())));q&&(u.Fb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.vo(new d.Event("beforeprojectstart")));await this.vo(new d.Event("beforelayoutstart"));u.Lk||await u.Nc(d.C.Ka.G.JO,null,null);await this.vo(new d.Event("afterlayoutstart"));q&&(u.Fb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.vo(new d.Event("afterprojectstart")));r.Bba(w);await this.S6();this.Ir();this.vk();
this.Qp=!1}W$(q){for(const w of this.g.$c)if(!w.ab&&w.Ff)for(const r of w.ka()){const v=r.A();var u=v.aa();u=d.ia(u.Ia(),0,this.$b.length-1);u=this.$b[u];v.bv(u);u.N$(r)}if(!q)for(const w of this.$b)w.xH(!1)}V7(){for(const q of this.$b)q.LY(this.Tr),q.qG()}X7(){let q=!1;for(const [w,r]of Object.entries(this.$p)){const v=this.g.Ly(parseInt(w,10));if(v&&!v.ab&&v.VE()){for(const y of r){var u=null;if(v.Ff&&(u=this.Iy(y.w.l),!u))continue;u=this.g.Di(v,u,!1,0,0,!0);u.Xc(y);q=!0;this.Tr.push(u)}d.F(r)}}for(const w of this.$b)w.xH(!0),
w.Sg();q&&(this.g.Yd(),this.g.lS())}LQ(q){for(const w of q){if(!w.Zb())continue;const r=w.A(),v=w.Bo();for(const y of w.J().bh.nm)if(y!==w.J()){var u=y.ka();u.length>v?w.Ar(u[v]):(u=r?this.g.Di(y,r.aa(),!0,r.N(),r.O(),!0):this.g.Di(y,null,!0,0,0,!0),this.g.Yd(),y.wA(),w.Ar(u),q.push(u))}}}W7(){for(const q of this.XI)this.g.sf(q[1]).Zb()||this.g.Di(q,null,!0)}T7(){const q=[],u=this.XI;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.sf(y[1]);A.gg()?A.Zb()&&A.bh.V0()||q.push(this.g.Di(y,
null,!0)):(u[w]=y,++w)}d.mf(u,w);this.g.Yd();this.LQ(q)}ju(q,u,w,r,v,y){if(w)return w.ju(q,u,r,v,y);w=[];for(const A of this.$b)w.push(A.ju(q,u,r,v,y));return w.flat()}async Vca(){const q=this.eb;this.g.Lk||await this.g.Nc(d.C.Ka.G.u3,null,null);q.KP(!0);this.g.na().by();this.Qp||this.Mba();for(const u of this.$b)u.Z8();for(const u of this.g.$c)if(!(u.gg()||u.Ff||u.Cb().An||u.ab)){for(const w of u.ka())this.g.Nm(w);this.g.Yd()}q.KP(!1);q.Tb()===this&&q.KS(null)}Jba(q){const u=q.J().kb.toString();
this.$p.hasOwnProperty(u)||(this.$p[u]=[]);this.$p[u].push(q.sd())}Mba(){for(const q of this.$b){q.jv();for(const u of q.H){const w=u.J();!w.gg()&&w.VE()&&this.Jba(u)}}}L4(){this.$p={};this.Qp=!0}pl(){return this.Ze}Du(){const q=this.g,u=q.lb().xl();return"low"===q.P.bi||u&&q.cD||"low-latency"===q.Sr||this.Pa.Yt()||u&&q.Am}Ch(q){const u=this.g.P,w=this.Du();if(w){"low-latency"!==this.g.Sr&&(q.Qg(null),q.so());const r={Jj:this.g.Cd,DL:this.g.cD||this.Pa.Yt()};"low"===u.bi&&(r.width=u.Sj(),r.height=
u.Ei());this.Ze=this.g.Gt(r)}else this.Ze=null;q.Qg(this.Ze);q.Ed(this.q0());this.g.Am&&q.sY();for(const r of this.$b)r.qG();this.YQ(q,this.Ze,this.FC,!0);w&&(q.Og(!1),this.S8(q,this.Ze));this.Ze=null}YQ(q,u,w,r){w=w.filter(v=>v.Kz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.OF()&&!A.PF()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.OF()&&!z.PF())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].U0()){this.J8(q,u,h);v+=h.length;d.F(h);continue}d.F(h)}A.Ch(q,u,r&&0===v);++v}}S8(q,
u){const w=this.g;0===this.Pa.lg.length?(q.Qg(null),q.pk(),q.CM(u),q.Tq(u),w.To(u)):(b.set(0,0,w.Ag,w.zg),this.Fi().Wo(q,null,{lD:this,fo:3,devicePixelRatio:this.g.Nt(),Fx:this.g.Ot()*this.Dd,xD:this.xa(),jt:b,Ax:null,zL:!0}))}J8(q,u,w){w[0].Mk||(e.Fj(w[0].Pl),e.nt(1),q.Ed(e));var r=this.g.P;q.Og(!0);for(var v of w)v.jv(),v.CQ(m);v=w[0];w=null;this.g.iF()&&q.xl()&&(r=r.qN(v))&&(w=r.RD(),q.kG(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.A(),A=y.aa();if(y.Wc()&&y.Vq(A.Dr())){(!v.er()||0<y.cd)&&k.push(v);
var G=v.A().oe();g.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.A();if(J.Wc()&&J.Vq(J.aa().Dr())){if(J.oe()!==G)break;H.er()?(0<J.cd&&k.push(H),g.push(H)):k.push(H)}}if(1!==g.length||g[0].tO()){this.K8(q,u,g);for(let H=0,J=k.length;H<J;++H)v=k[H],y=v.A(),A=y.aa(),y.nA(!0),p(A,q),A.Il(v,y,q,u),y.nA(!1)}else{p(A,q);A.Il(v,y,q,u);for(let H=0,J=k.length;H<J;++H)y=k[H],y!==v&&(A=y.A(),G=A.aa(),p(G,q),G.Il(y,A,q,u))}z=r;d.F(g);d.F(k)}else++z}w&&q.kE(w);d.F(m);n=null}K8(q,u,w){q.BM();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.A(),y=v.aa();v.lA(!0);p(y,q);y.JG(r,v,q)}q.AM();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.A(),y=v.aa(),p(y,q),y.Il(r,v,q,u),v.lA(!1);q.zM()}la(){const q={sx:this.ag(),sy:this.bg(),s:this.Dd,a:this.xa(),w:this.S(),h:this.U(),ortho:this.Ef,vpX:this.OE(),vpY:this.PE(),fv:this.Qp,persist:this.$p,fx:this.Pa.sd(),layers:{}};for(const u of this.$b)q.layers[u.kb.toString()]=u.la();return q}qa(q){this.mi=q.sx;this.ni=q.sy;this.Dd=q.s;this.te=q.a;this.Z=q.w;this.W=q.h;this.Ef=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.fD=q.vpX);q.hasOwnProperty("vpY")&&(this.gD=q.vpY);this.Qp=!!q.fv;this.$p=q.persist;this.Pa.Xc(q.fx);this.km=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Iy(parseInt(u,10)))&&q.qa(w);this.Ir();this.vk()}Bh(q){q.yD=this.Wv;var u=this.g;(u=u.zb&&!u.na().hz())&&a.jG();this.je.dispatchEvent(q);u&&a.QD()}vo(q){q.yD=this.Wv;return this.je.pL(q)}}}
{"use strict";const d=self.D;d.C2=class extends d.ja{constructor(a){super();this.g=a;this.cj=[];this.EJ=new Map;this.FJ=new Map;this.zw=null;this.pK=[];this.iB=null;this.JB=0;this.Hw=null}j(){this.Hw=this.iB=this.zw=this.g=null;d.F(this.cj);this.EJ.clear();this.FJ.clear();d.F(this.pK)}Ra(a){a=d.B(d.B2,this,this.cj.length,a);this.cj.push(a);this.EJ.set(a.Ba().toLowerCase(),a);this.FJ.set(a.kb,a)}I(){return this.g}w5(a){this.iB=a}Z_(){if(this.iB)return this.iB;if(this.cj.length)return this.cj[0];throw Error("no first layout");
}Kq(a){return this.EJ.get(a.toLowerCase())||null}IE(a){return this.FJ.get(a)||null}r0(a){a=d.ia(Math.floor(a),0,this.cj.length-1);return this.cj[a]}hc(a){return"number"===typeof a?this.r0(a):this.Kq(a.toString())}KS(a){this.zw=a}Tb(){return this.zw}*Ox(){this.zw&&(yield this.zw);this.pK.length&&(yield*this.pK)}KP(a){if(a)this.JB++;else{if(0>=this.JB)throw Error("already unset");this.JB--}}aO(){return 0<this.JB}ay(a){this.Hw=a}vY(){this.Hw=null}Wq(){return!!this.Hw}Zo(){const a=this.Tb();a&&a.Ir()}Yo(){const a=
this.Tb();a&&a.vk()}}}
{"use strict";const d=self.D;d.y6=class extends d.ja{constructor(a){super();this.g=a;this.hx=d.B(d.Ug);this.Gea=null;this.Qn=[];this.ix=new Map;this.mm=new Map;this.Rn=new Map;this.qh=[];this.Be=[];this.hi=[];this.jw=this.Qr=this.Ip=!1;this.wm=()=>this.Eaa();this.vm=()=>this.gH();this.XH=()=>this.Wu();this.DJ=()=>this.Y$();this.aJ=b=>this.dS(b.instance);this.KH=()=>this.Vu();this.Kv=[];this.Tc=0}j(){this.z4();this.KH=this.aJ=this.DJ=this.XH=this.vm=this.wm=null;for(const a of this.Qn)a.yf(),a.j();
d.F(this.Qn);this.Qn=null;this.hx.j();this.hx=null;d.F(this.qh);this.qh=null;d.F(this.Be);this.Be=null;d.F(this.hi);this.hi=null;this.ix.clear();this.ix=null;this.mm.clear();this.mm=null;this.Rn.clear();this.Rn=null;d.F(this.Kv);this.g=this.Kv=null}GX(){const a=this.g.Fb();a.addEventListener("pretick",this.wm);a.addEventListener("tick2",this.vm);a.addEventListener("beforelayoutchange",this.XH);a.addEventListener("layoutchange",this.DJ);a.addEventListener("instancedestroy",this.aJ);a.addEventListener("afterload",
this.KH)}z4(){const a=this.g.Fb();a.removeEventListener("pretick",this.wm);a.removeEventListener("tick2",this.vm);a.removeEventListener("beforelayoutchange",this.XH);a.removeEventListener("layoutchange",this.DJ);a.removeEventListener("instancedestroy",this.aJ);a.removeEventListener("afterload",this.KH)}Ra(a){this.hx.Ic(a);a=d.fp.KY(a,this);this.Ic(a);this.S5(a);this.Rn.set(a.Ba(),0)}cE(a){a=a.EN();var b=this.hx.ca(a);b=d.fp.cE(`${a}:${this.Rn.get(a)}`,b,this);this.GR(a);this.Ic(b);return b}GR(a){this.Rn.set(a,
this.Rn.get(a)+1)}dca(){for(const a of this.Qn)a.rs||this.GR(a.EN())}L7(){for(const a of this.Rn.keys())this.Rn.set(a,0)}Ic(a){this.Qn.push(a);this.ix.set(a.Ba().toLowerCase(),a)}Nh(a){a.Az();a.rs||(d.bl(this.Qn,a),d.bl(this.qh,a),d.bl(this.Be,a),d.bl(this.hi,a),this.ix.delete(a.Ba().toLowerCase()),this.A4(a),a.ph||a.j())}wa(a){this.g.wa(a,this.Gea,null)}I(){return this.g}WP(a,b){this.mm.has(a)||this.mm.set(a,new Set);this.mm.get(a).add(b)}S5(a){for(const b of a.tN())this.WP(b,a)}A4(a){for(const [b,
e]of this.mm.entries())e.has(a)&&(e.delete(a),0===e.size&&this.mm.delete(b))}K0(a){if(this.mm.has(a))return this.mm.get(a)}Uy(a){return this.ix.get(a.toLowerCase())||null}y4(a){d.bl(this.Be,a);this.Su()}rP(a){this.Be.includes(a)?(a.rr(!0),a.ur(!1),a.Iz(!1)):(a.rr(!1),a.ur(!0),a.Iz(!1),this.qh.includes(a)||this.qh.push(a));this.UR()}jy(a){a.rr(!1);a.ur(!1);a.GF();d.bl(this.qh,a);this.Su()}wM(a){a.rr(!1);a.ur(!1);a.Iz(!0);this.hi.push(a);d.bl(this.Be,a)}xM(a){a.rr(!1);a.ur(!1);a.Iz(!1);a.mk(1);d.bl(this.Be,
a)}CY(a){this.wM(a);a.GF()}Eaa(){if(!this.I().Lk&&this.Ip&&!this.Qr){for(this.jw=!0;this.qh.length;){var a=this.qh.pop();a.Zc();0!==a.Tc&&(this.Tc=1);this.Be.push(a)}a=this.g.Lv;var b=this.g.Mv,e=this.g.ie;for(let c=this.Be.length-1;0<=c;c--)this.Be[c].Ve(a,e,b);this.jw=!1;0!==this.Tc&&this.I().ea()}}gH(){if(!this.I().Lk&&this.Ip&&!this.Qr){var a;for(let b=0,e=this.hi.length;b<e;b++){const c=this.hi[b];a||(a=new Set);c.Az();this.VR(c);a.add(c)}if(a){d.Bg(this.hi,a);this.Tc=0;for(let b=0,e=this.Be.length;b<
e;b++)if(0!==this.Be[b].Tc){this.Tc=1;break}}this.Su()}}VR(a){a.ph||a.MN()&&a.mg&&a.yn&&a.XM()}UR(){this.Ip||(this.Ip=!0)}Su(){this.hi.length||this.Be.length||this.qh.length||this.jw||(this.Ip=!1)}Wu(){for(this.Qr=!0;this.qh.length;)this.jy(this.qh.pop());const a=new Set;for(const b of this.Be)b.Wu()&&(b.Az(),a.add(b));d.Bg(this.Be,a);a.clear();for(const b of this.hi)b.Wu()&&(b.Az(),a.add(b));d.Bg(this.hi,a);this.Su();for(const b of this.Qn)b.Lj()}Y$(){this.Qr=!1}dS(a){var b=a.J();if(b=this.K0(b))if(this.g.Lk)this.Kv.push(a);
else for(const e of b)e.rs||(e.ph?this.Nh(e):e.MN()||(this.VR(e),this.Nh(e)))}Vu(){for(const a of this.Kv)this.dS(a);d.F(this.Kv)}la(){return{timelinesJson:this.Rba(),scheduledTimelinesJson:this.Pba(),playingTimelinesJson:this.Nba(),markedForRemovalTimelinesJson:this.Lba(),hasRuntimeListeners:this.Ip,changingLayout:this.Qr,isTickingTimelines:this.jw}}qa(a){a&&(this.L7(),this.H$(a.timelinesJson),this.E$(a.scheduledTimelinesJson),this.C$(a.playingTimelinesJson),this.B$(a.markedForRemovalTimelinesJson),
this.Ip=!a.hasRuntimeListeners,this.Qr=!!a.changingLayout,this.jw=!!a.isTickingTimelines,this.dca(),this.UR(),this.Su())}Rba(){return this.Qn.map(a=>a.la())}H$(a){for(const b of a){a=this.Uy(b.name);if(!a){a=this.K9(b);if(!a)continue;a=this.Uy(a);a=this.cE(a)}a.qa(b);a.d1()||this.Nh(a)}}K9(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Pba(){return this.oH(this.qh)}E$(a){this.$G(a,this.qh)}Nba(){return this.oH(this.Be)}C$(a){this.$G(a,this.Be)}Lba(){return this.oH(this.hi)}B$(a){this.$G(a,
this.hi)}l$(a,b){for(const e of b)if(e===a.Ba())return!0;return!1}oH(a){return a.map(b=>b.Ba())}$G(a,b){var e=new Set;for(const c of b)this.l$(c,a)||e.add(c);d.Bg(b,e);e=c=>h=>h.Ba()===c;for(const c of a)(a=this.Uy(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.D;d.fp=class extends d.ja{constructor(a,b,e){super();this.g=e.I();this.Ib=e;this.Wd=b;this.Ja=a;this.ob=[];this.HV=0;this.Mr=null;this.kT=0;this.IM();this.vC=this.Jw=null;this.dc=0;this.fd=1;this.Ud=0;this.Qd=1;this.yn=this.dm=this.OB=!1;this.mg=!0;this.jC=this.ph=!1;this.Rr=-1;this.cf=this.Fp=this.rs=this.wB=!1;this.YB=NaN;this.rh=[""];this.BV="";this.GK=!1;this.sB=this.Tc=0}static KY(a,b){const e=b.hx.ca(a[0]);a=d.B(d.fp,a[0],e,b);a.G5();return a}static cE(a,b,e){return d.B(d.fp,
a,b,e)}j(){if(!this.ph){this.Ib.jy(this);this.Ib.CY(this);for(const a of this.ob)a.j();d.F(this.ob);this.Wd=this.Ib=this.g=this.ob=null;this.ph=!0;this.vC=this.Jw=null}}IM(){for(const a of this.Wd.Wt().dX())this.HV=this.ob.push(d.pG.Ra(this,a))}I(){return this.g}St(a,b,e){if(this.sB){var c;for(let m=0;m<this.ob.length;m++){var h=this.ob[m];a===h.Da()&&(h=h.$f(e))&&b.constructor===h.Kb().constructor&&(c||(c=[]),c.push(h))}return c}}d1(){return!!this.ob.length}Jz(a){this.Ja=a}Ba(){return this.Ja}EN(){return this.Wd.Ba()}eg(){return this.Wd.eg()}Tt(){return this.Wd.Tt()}Ii(){return this.Wd.Ii()}tf(){return this.Wd.tf()}lk(a){for(const b of this.ob)b.lk(a)}Jy(){return this.Wd.Jy()}Ny(){return this.Wd.Ny()}Ih(){return this.Wd.Ih()}mk(a){this.fd=
a}ek(){return this.IsPlaying()?0<this.fd:!0}uN(){this.Jw||(this.Jw=new Promise(a=>{this.vC=a}))}GF(){this.Jw&&(this.vC(),this.vC=this.Jw=null)}VP(a){this.rh=d.fp.J9(a);this.GK=!0}MO(){d.C.Mc.G.bp(this);this.Ib.wa(d.C.Mc.G.nma);this.Ib.wa(d.C.Mc.G.oma);this.Ib.wa(d.C.Mc.G.pma);this.Ib.wa(d.C.Mc.G.dma);d.C.Mc.G.bp(null)}uF(){this.Rr=this.g.Sk}XM(){this.Fp||(this.Fp=!0,d.C.Mc.G.bp(this),this.Ib.wa(d.C.Mc.G.kma),this.Ib.wa(d.C.Mc.G.lma),this.Ib.wa(d.C.Mc.G.mma),this.Ib.wa(d.C.Mc.G.cma),d.C.Mc.G.bp(null))}rr(a){this.OB=
a}VN(){return this.Rr===this.g.Sk}IsPlaying(a=!1){return this.VN()||this.dm&&!a?!0:this.OB}Gr(){return this.IsPlaying(!0)}ur(a){this.dm=a}xP(a){this.mg=a;a=this.Ea();if(0>=a||a>=this.eg())this.mg=!0}Iz(a){this.jC=a}TF(a){this.wB=a}G5(){this.rs=!0}Ea(){return this.dc}xr(a){const b=this.Ea();this.xc(a);this.xP(!1);this.mg||this.TF(!0);if(this.Gr()||this.dm||!this.yn)this.Gr()||this.dm||this.yn?this.Gr()?this.yf():this.dm&&(this.Ib.jy(this),this.HP()):this.HP();this.gv();this.VG(a,!0,b);this.wH();this.Tc&&
this.I().ea();this.gS()}xc(a){this.dc=0>a?0:a>=this.eg()?this.eg():a}gS(){d.C.Mc&&this.constructor===d.fp&&(d.C.Mc.G.bp(this),this.Ib.wa(d.C.Mc.G.hma),this.Ib.wa(d.C.Mc.G.ima),this.Ib.wa(d.C.Mc.G.jma),d.C.Mc.G.bp(null))}Play(a=!1){return this.ph||this.dm?!1:this.Gr()&&this.VN()?this.Vba():this.Gr()||!this.mg&&!a&&!this.wB?!1:this.Wba()}Vba(){this.TF(!1);this.Ib.y4(this);this.Ib.rP(this);this.uN();return!0}Wba(){this.TF(!1);this.Ib.rP(this);this.uN();return!0}yf(a=!1){this.ph||(this.xP(a),this.Ib.wM(this),
this.mg&&this.GF())}rd(a=!0,b=!1){if(!this.ph)if(!this.Gr()&&this.dm)this.Ib.jy(this);else if(!this.mg){this.yf(!0);this.ek()?this.xc(0):this.xc(this.eg());var e=this.Ea();this.gv();b?this.e$(e):this.VG(e,!1);a&&this.gS();this.wH();this.Tc&&a&&this.I().ea()}}lP(){this.rd(!1,!0)}e$(a){this.VG(a,!1,NaN,!1,!0)}Wu(){if(this.ph)return!0;if(this.e1())return!1;this.Ib.xM(this);this.lP();return!0}HP(){this.Zc(!0)}Zc(a){if(!this.jC){if(a){this.cf=this.yn=!0;this.gv();for(const b of this.ob)b.Zc()}else if(this.rr(!0),
this.ur(!1),this.MO(),this.mg){this.Rr=-1;this.Ud=0;this.Qd=1;this.Fp=this.mg=!1;this.cf=this.yn=!0;this.ek()?this.xc(0):this.xc(this.eg());this.gv();for(const b of this.ob)b.Zc()}else{this.cf=!0;this.gv();for(const b of this.ob)b.Qe()}this.wH()}}gv(){this.sB=0;for(const a of this.ob)a.zn&&(this.sB=1)}wH(){this.Tc=0;for(const a of this.ob)a.rA(),0===this.Tc&&1===a.Tc&&(this.Tc=1),this.Mr||1!==a.Gn||(this.Mr||(this.Mr=[]),this.kT=this.Mr.push(a))}Ve(a,b){if(0!==a||0!==this.YB){this.YB=a;var e=this.dc;
b=e+a*b*this.fd;a=this.Wd.Ts;this.dc=0>b?0:b>=a?a:b;var c=!1;b=this.Jy();var h=this.Ny();b||h?b&&!h?0<this.fd?this.dc>=a&&this.xc(0):0>=this.dc&&this.xc(a):!b&&h?0<this.fd?this.dc>=a&&(this.xc(a),this.mk(-1*this.fd),1===this.Ud?this.Qd<this.Ih()?(this.Qd++,this.Ud=0):c=!0:0===this.Ud&&(this.Ud=1)):0>=this.dc&&(this.xc(0),this.mk(-1*this.fd),1===this.Ud?this.Qd<this.Ih()?(this.Qd++,this.Ud=0):c=!0:0===this.Ud&&(this.Ud=1)):b&&h&&(0<this.fd?this.dc>=a&&(this.xc(a),this.mk(-1*this.fd)):0>=this.dc&&(this.xc(0),
this.mk(-1*this.fd))):0<this.fd?this.dc>=a&&(this.Qd<this.Ih()?(this.Qd++,this.xc(0)):(this.xc(a),c=!0)):0>=this.dc&&(this.Qd<this.Ih()?(this.Qd++,this.xc(a)):(this.xc(0),c=!0));b=this.HV;if(c){for(c=0;c<b;c++)this.ob[c].CP();this.yf(!0);this.uF()}else{h=this.kT;for(c=0;c<h;c++)this.Mr[c].qo();if(1===this.sB)for(c=0;c<b;c++){const m=this.ob[c],g=m.uf(),k=e-g;0>this.dc-g&&0<k?(this.dc=0>g?0:g>=a?a:g,m.Fa(g,!0,!1,!1,this.cf,!1)):m.Fa(this.dc,!0,!1,!1,this.cf,!1)}else for(c=0;c<b;c++)this.ob[c].Fa(this.dc,
!0,!1,!1,this.cf,!1);for(c=0;c<h;c++)this.Mr[c].po();this.cf&&(this.cf=!1)}}}VG(a,b=!1,e=NaN,c=!1,h=!1){for(var m of this.ob)m.qo();for(const g of this.ob){m=a;if("number"===typeof e){const k=this.Ea()-g.uf(),n=e-g.uf();0>k&&0<n&&(m=g.uf(),this.xc(m))}g.Fa(m,!1,b,!0,this.cf,h)}for(const g of this.ob)g.po();this.cf&&c&&(this.cf=!1)}Az(){if(!this.ph)for(const a of this.ob)a.El()}Lj(){for(const a of this.ob)a.Lj()}wY(){for(const a of this.ob)a.uY()}T5(a,b){if(b)for(const e of this.ob)if(e.Ni()){if(a){if(e.Tj()!==
a)continue}else if(e.Y0())continue;e.E5(b);this.Ib.WP(b.J(),this);break}}MN(){return this.ob.some(a=>a.Ni()?a.ZD():!0)}e1(){return this.ob.some(a=>a.Ni()?a.ZD()?(a=a.J())?a.gg():!1:!1:!1)}$f(a){for(const b of this.ob)for(const e of b.bb)if(e.za.gd===a)return e}FN(a){for(const b of this.ob)if(a===b.Da())return b;return null}tN(){const a=[];for(const b of this.ob)a.push(b.J());return a.filter(b=>b)}la(){return{tracksJson:this.Tba(),name:this.Ja,playheadTime:this.Ea(),playbackRate:this.fd,pingPongState:this.Ud,
currentRepeatCount:this.Qd,isPlaying:this.OB,isScheduled:this.dm,initialStateSet:this.yn,finishedTriggers:this.Fp,complete:this.mg,released:this.ph,markedForRemoval:this.jC,completedTick:this.Rr,implicitPause:this.wB,isTemplate:this.rs,tags:this.rh.join(" "),stringTags:this.BV,tagsChanged:this.GK,firstTick:this.cf}}qa(a){a&&(this.I$(a.tracksJson),this.Ja=a.name,this.dc=a.playheadTime,this.fd=a.playbackRate,this.Ud=a.pingPongState,this.Qd=a.currentRepeatCount,this.OB=!!a.isPlaying,this.dm=!!a.isScheduled,
this.yn=!!a.initialStateSet,this.Fp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.mg=!!a.complete,this.ph=!!a.released,this.jC=!!a.markedForRemoval,this.Rr=a.completedTick,this.wB=!!a.implicitPause,this.rs=!!a.isTemplate,this.rh=a.tags.split(" "),this.BV=a.stringTags,this.GK=!!a.tagsChanged,this.cf=!!a.firstTick)}Tba(){return this.ob.map(a=>a.la())}I$(a){a.forEach((b,e)=>{this.ob[e].qa(b)});this.ob.filter(b=>b.ZD())}static J9(a){if(d.Jo(a))return a.slice(0);if(d.Oi(a))return a.split(" ")}}}
{"use strict";const d=self.D;d.pG=class extends d.ja{constructor(a,b){super();this.pi=a;this.Nb=b;this.jf=b.Wt();this.lm=this.Zl=NaN;this.Wa=this.oc=null;this.zn=0<b.uf();this.Bp=this.qs=!1;this.uj=null;this.pc=this.Nb.Uj().pc;this.bb=[];this.HM();this.Gn=this.Tc=this.Yk=0}static Ra(a,b){return d.B(d.pG,a,b)}j(){this.pc=null;for(const a of this.bb)a.j();d.F(this.bb);this.uj=this.Nb=this.Wa=this.oc=this.pi=this.bb=null}HM(){for(const a of this.Nb.me().OW())this.bb.push(d.cb.Ra(this,a))}El(){for(const a of this.bb)a.El()}Lj(){for(const a of this.bb)a.Lj();
this.Wa=this.oc=null}Bb(){return this.pi}I(){return this.pi.I()}p0(){return this.pc?this.pc:this.pc=this.Nb.Uj().pc}$f(a){for(let b=0;b<this.bb.length;b++){const e=this.bb[b];if(e.za.gd===a)return e}}eu(){this.oc||this.Da()}Wm(){return this.oc?!this.oc.au():!1}ZD(){if(!this.Ni())return!1;const a=this.I().Hi(this.Pt());return a?!a.au():!1}J(){if(this.Ni()){var a=this.JE();if(-1!==a)return this.I().sf(a)}}uY(){this.oc=null;this.Zl=-1;this.Wa=null;this.lm=-1}Y0(){return!!this.oc}Da(){return this.oc&&
this.Wm()?this.oc:this.oc=this.I().Hi(this.Pt())}E5(a){if(this.oc!==a){this.Lj();this.oc=a;this.lm=a.J().Ia();this.Zl=a.Gc;this.Wa=a.A();for(const m of this.Bga()){const g=m.Qga;switch(m.Aga.Zd()){case "instance-variable":var b=a.J(),e=b.i0(m.name),c=b.oN(e);b=b.Qt(e);c===m.name&&b===m.type&&g.M6(e);break;case "behavior":var h=m.fL;e=this.J();c=a.J();b=g.Hg(c);h&&b&&(h=h.Ba(),e.It(h),c.It(h),g.J6(b.kb))}}}}*Bga(){for(const e of this.bb){var a=e.Kb(),b=this.J();const c={Aga:e,Qga:a};switch(e.Zd()){case "world-instance":c.rta=
e.za.gd;break;case "instance-variable":a=a.Jq();c.name=b.oN(a);c.type=b.Qt(a);break;case "effect":b=a.zE(b.Pa);c.Fra=b;break;case "behavior":b=a.Hg(b);c.fL=b;break;case "plugin":c.pta=b.Cb()}yield c}}A(){if(this.Wa&&this.Wm())return this.Wa;const a=this.Da();a&&(this.Wa=a.A());return this.Wa}Pt(){return this.Zl?this.Zl:this.Nb.Pt()}Ii(){return this.Nb.Ii()}tf(){return this.Nb.tf()}Tj(){return this.Nb.Tj()}uf(){return this.Nb.uf()}ml(){return this.Nb.ml()}lk(a){for(const b of this.p0())b.lk(a);for(const b of this.bb)b.lk(a)}ll(){return this.Nb.ll()}Dl(a){this.Nb.Dl(a)}JE(){return isNaN(this.lm)?
this.Nb.JE():this.lm}Wj(){const a=this.Da();return a&&a.oa.No()?a.oa.Wj():this.Nb.Wj()}Vj(){const a=this.Da();return a&&a.oa.No()?a.oa.Vj():this.Nb.Vj()}ck(){return this.Nb.ck()}Ba(){return this.Nb.Ba()}Ni(){return 0===this.ck()}Zc(){this.eu();if(this.Wm()||!this.Ni()){var a=this.Bb().ek()?0:this.ml();for(const b of this.bb)b.Zc(a),0===this.Yk&&1===b.Yk&&(this.Yk=1),0===this.Tc&&1===b.Tc&&(this.Tc=1);this.Gn=0;this.bb.some(b=>b.Gn)&&(this.Gn=1);this.uj=this.rR(a);this.Bp=this.qs=!1;this.Fa(a)}}Qe(){this.eu();
if(this.Wm()||!this.Ni()){this.pi.ek();var a=this.pi.Ea()-this.uf();this.uj=this.rR(a);for(const b of this.bb)b.Qe(a)}}CP(){if(!(this.Bb().mg||(this.eu(),!this.Wm()&&this.Ni()||this.zn))){const a=this.pi.Ea();a>=this.uf()+this.ml()?this.Fa(this.ml(),!0,!1,!0):0>=a&&this.Fa(0,!0,!1,!0)}}rA(){for(let a=0,b=this.bb.length;a<b;a++){const e=this.bb[a];e.rA();0===this.Yk&&1===e.Yk&&(this.Yk=1);0===this.Tc&&1===e.Tc&&(this.Tc=1)}}qo(){const a=this.bb.length;for(let b=0;b<a;b++)this.bb[b].qo()}Fa(a,b=!1,
e=!1,c=!1,h=!1,m=!1){this.oc||this.Da();const g=0===this.Nb.Aa;if(!((!this.oc||this.oc.au())&&g||m&&g&&this.J().gg()||(a-=this.uf(),0>a))){this.R2(a,b);this.S2(a,b,h);for(let k=0,n=this.bb.length;k<n;k++)this.bb[k].Fa(a,e,c);this.Q2(a,b);0!==this.Yk&&(this.Wa||(this.Wa=this.oc.A()),this.Wa&&this.Wa.Ta())}}po(){const a=this.bb.length;for(let b=0;b<a;b++)this.bb[b].po()}R2(a,b){if(b&&this.zn&&!this.qs){if(this.Bb().ek()){if(0>a)return;for(const e of this.bb)e.Fa(0,!1,!0)}else{if(a>this.ml())return;
for(const e of this.bb)e.Fa(this.ml(),!1,!0)}for(const e of this.bb)e.Zc();this.qs=!0}}Q2(a,b){if(b&&this.zn&&!this.Bp)if(this.Bb().ek()){if(a>=this.ml()){for(const e of this.bb)e.Fa(this.ml(),!1,!0);this.Bp=!0}}else if(0>=a){for(const e of this.bb)e.Fa(0,!1,!0);this.Bp=!0}}S2(a,b,e){if(!e&&b&&d.C.Mc){b=this.Bb();e=this.uj.ff;var c=this.uj.Ea(),h=e?e.Ea():b.eg();if(a<=c||a>=h)this.uj=this.jf.kN(a,this.Nb),b.ek()?e&&this.wF(this.uj):this.uj.ff&&this.wF(this.uj)}}rR(a){const b=this.jf.m0(a,this.Nb);
return b?b:this.jf.kN(a,this.Nb)}wF(a){const b=this.Bb();d.C.Mc.G.bp(b);d.C.Mc.G.b6(a);a=b.Ib;a.wa(d.C.Mc.G.bma);a.wa(d.C.Mc.G.wF);d.C.Mc.G.bp(null);d.C.Mc.G.b6(null)}CX(){return this.Nb.Uj().xX()}ZY(a){this.Nb.Uj().YY(a)}ny(a){for(const b of this.bb)b.ny(a)}Xo(){for(const a of this.bb)a.Xo()}Bi(){this.eu();if(this.Wm()||!this.Ni())for(const a of this.bb)a.Bi()}Ci(){this.eu();if(this.Wm()||!this.Ni()){var a=!1;for(const b of this.bb){const e=b.Ci();!a&&e&&(a=!0)}a&&(a=this.CX(),a.xr(this.Bb().Ea()),
a.lk("noease"),a.Dl(!0),a.VP(""))}}la(){var a=this.Da();a=a?a.Gc:this.Pt();return{propertyTracksJson:this.Oba(),lastKeyframeDataItemJson:this.Kba(),initialStateOfNestedSet:this.qs,endStateOfNestedSet:this.Bp,instanceUid:a}}qa(a){a&&(this.D$(a.propertyTracksJson),this.A$(a.lastKeyframeDataItemJson),this.x$(a.instanceUid),this.qs=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.qs=a.initialStateOfNestedSet),this.Bp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Bp=a.endStateOfNestedSet))}Kba(){return this.Nb.Uj().o0(this.uj)}Oba(){return this.bb.map(a=>
a.la())}D$(a){a.forEach((b,e)=>{this.bb[e].qa(b)})}x$(a){if(d.Um(a)&&(a=this.I().Hi(a))){var b=this.Bb();b.wY();b.T5(this.Nb.Tj(),a)}}A$(a){this.uj=this.Nb.Uj().n0(a)}}}
{"use strict";const d=self.D;d.cb=class extends d.ja{constructor(a,b){super();this.ub=a;this.za=b;this.qc=b.me();this.Gn=this.Tc=this.Yk=0;this.Ee=this.Kb();this.Sb=this.za.Hh().Sb;this.kv=this.Rc=null}static Ra(a,b){return d.B(d.cb,a,b)}j(){this.ub=null;this.Ee&&(this.Ee.j(),this.Ee=null);this.qc=this.za=this.Sb=null}RE(){return!!this.kv}d5(a){this.kv=a}me(){return this.qc}Bb(){return this.ub.Bb()}I(){return this.ub.I()}Da(){return this.ub.Da()}Kb(){if(this.Ee)return this.Ee;let a;switch(this.za.Zd()){case "behavior":a=
new d.cb.$X(this);break;case "effect":a=new d.cb.g_(this);this.Tc=1;break;case "instance-variable":a=new d.cb.Z1(this);break;case "plugin":a=new d.cb.a4(this);this.Tc=1;break;case "world-instance":a=new d.cb.Ro(this);this.Yk=this.Tc=1;break;case "value":a=new d.cb.P6(this);break;case "audio":a=new d.cb.TX(this)}return this.Ee=a}Zd(){return this.za.Zd()}Py(){return this.za.ck()}Rt(){return this.me().Dy(this.za).ck()}ll(){return this.za.ll()}Dl(a){this.za.Dl(a)}Ii(){return this.za.Ii()}tf(){return this.za.tf()}lk(a){for(const b of this.Oy())b.lk(a)}YD(){return this.za.YD()}Oy(){return this.Sb?
this.Sb:this.Sb=this.za.Hh().Sb}El(){this.Kb().El()}Lj(){this.Kb().Lj()}Ke(){return this.Kb().Ke()}Zc(a){this.Kb().Zc();this.Rc=this.sR(a);this.rA()}Qe(a){this.Kb().Qe();this.Rc=this.sR(a)}rA(){var a=this.ub;this.Gn=0;if(a.Ni()){var b=this.Bb();a=a.Da();const e=this.Kb(),c=this.za.gd;e.hk()?(b=b.St(a,e,c))&&b.length&&(this.Gn=1):this.Gn=0}}sR(a){const b=this.Bb(),e=this.qc.D0(a,this.za);return e?e:b.ek()?this.qc.Gi(a,this.za):this.qc.lN(a,this.za)}qo(){this.Ee.qo()}Fa(a,b=!1,e=!1){let c;if(b)var h=
this.qc.Gi(a,this.za);else{if(this.Rc){var m=this.Bb();const g=this.Rc.ff;h=this.Rc.Ea();m=g?g.Ea():m.eg();if(a<=h||a>=m)this.Rc=this.qc.Gi(a,this.za)}else this.Rc=this.qc.Gi(a,this.za);h=this.Rc}h&&(c=h.ff);this.Ee.Fa(a,h,c,b,e)}Zf(a){if(this.Rc){var b=this.Bb();const c=this.Rc.ff;var e=this.Rc.Ea();b=c?c.Ea():b.eg();if(a<=e||a>=b)this.Rc=this.qc.Gi(a,this.za)}else this.Rc=this.qc.Gi(a,this.za);e=this.Rc;return this.Ee.Zf(a,e,e.ff)}po(){this.Ee.po()}static DN(a,b){return b.qc.Gi(a,b.za)}jM(){const a=
this.za.Hh().hM();this.Rc=null;return a}ny(a){this.Rc=null;this.za.Hh().NM(a)}Xo(){this.Kb().Xo()}Bi(){if(this.Kb().Bi()){const a=this.qc.Dy(this.za),b=this.Kb().Ke();a.sP(b)}}Ci(){const a=this.Kb().Ci();a&&this.EX();this.Kb().fy();return a}EX(){const a=this.Bb().Ea(),b=this.Kb(),e=d.cb.DN(a,this),c=this.jM();c.XP(e.ck());c.xr(a);c.lk(e.Pm());c.Dl(!0);c.Re(b.IN());c.sP(b.Ke())}la(){return{sourceAdapterJson:this.Kb().la()}}qa(a){a&&this.Kb().qa(a.sourceAdapterJson)}}}
{"use strict";const d=self.D.cb;d.Ro=class{constructor(a){this.M=a;this.Lf=null;this.Gh()}j(){this.Lf&&(this.Lf.j(),this.Lf=null);this.M=null}hk(){return this.Lf.hk()}$f(){return this.M}El(){this.Lf&&this.Lf.El()}Lj(){this.Lf&&this.Lf.Lj()}Gh(){return this.Lf?this.Lf:this.Lf=this.Y7()}Jq(){}Ia(){return this.Jq()}Vt(){}Zc(){this.Gh().Zc()}Qe(){this.Gh().Qe()}qo(){this.Lf.zq()}Fa(a,b,e,c,h){let m;switch(this.M.Rt()){case "numeric":m=d.fu.Fa(a,b,e,this.M);break;case "angle":m=d.Ux.Fa(a,b,e,this.M);break;
case "boolean":m=d.Wx.Fa(a,b,e,this.M);break;case "color":m=d.gy.Fa(a,b,e,this.M);break;case "text":m=d.Mz.Fa(a,b,e,this.M)}this.Lf.ro(a,m,b,e,c,h)}Zf(a,b,e){switch(this.M.Rt()){case "numeric":return d.fu.Fa(a,b,e,this.M);case "angle":return d.Ux.Fa(a,b,e,this.M);case "boolean":return d.Wx.Fa(a,b,e,this.M);case "color":return d.gy.Fa(a,b,e,this.M);case "text":return d.Mz.Fa(a,b,e,this.M)}}po(){this.Lf.yq()}Xo(){var a=this.Gh();a.li=a.Ke()}fy(){this.Gh().fy()}Ke(){return this.Gh().Ke()}Bi(){return this.Gh().Bi()}Ci(){return this.Gh().Ci()}IN(){const a=
this.M,b=a.ub.Bb().Ea(),e=d.DN(b,a),c=e.ff;switch(a.Rt()){case "numeric":return d.fu.Fa(b,e,c,a);case "angle":return d.Ux.Fa(b,e,c,a);case "boolean":return d.Wx.Fa(b,e,c,a);case "color":return d.gy.Fa(b,e,c,a);case "text":return d.Mz.Fa(b,e,c,a)}}Y7(){const a=this.M;switch(a.YD()?a.Rt():""){case "combo":case "boolean":case "text":case "string":return new d.wf.uO(this);case "numeric":case "number":case "angle":return"combo"===this.M.Py()?new d.wf.uO(this):new d.wf.vO(this);case "color":case "offsetColor":return new d.wf.zY(this);
default:return new d.wf.vO(this)}}la(){return{propertyAdapterJson:this.Gh().la()}}qa(a){a&&this.Gh().qa(a.propertyAdapterJson)}}}
{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b);this.mx=NaN}Jq(){return this.M.za.vg[0]}Ia(){return this.mx?this.mx:super.Ia()}Vt(){return this.M.ub.Da()}M6(b){this.M.za.vg[0]!==b&&(this.mx=b)}Fa(b,e,c,h,m){this.Gh().XD(e.Ac())&&super.Fa(b,e,c,h,m)}Zf(b,e,c){if(this.Gh().XD(e.Ac()))return super.Zf(b,e,c)}la(){return Object.assign(super.la(),{index:this.mx})}qa(b){b&&(super.qa(b),this.mx=b.index)}}d.cb.Z1=a}
{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b);this.kb=NaN}Jq(){return this.M.za.vg[1]}Vt(){var b=this.M.za,e=this.kb?this.kb:b.vg[0];b=this.M.ub.Da();e=b.cN(e);return b.ad[e].oa}Hg(b){return b.wy(this.M.za.vg[2])}J6(b){this.M.za.vg[0]!==b&&(this.kb=b)}Fa(b,e,c,h,m){const g=this.M.ub.Da();this.Hg(g.J())&&super.Fa(b,e,c,h,m)}Zf(b,e,c){const h=this.M.ub.Da();if(this.Hg(h.J()))return super.Zf(b,e,c)}la(){return Object.assign(super.la(),{sid:this.kb})}qa(b){b&&(super.qa(b),
this.kb=b.sid)}}d.cb.$X=a}{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b)}Jq(){return this.M.za.vg[1]}Vt(){const b=this.M.ub.A().pg,e=this.zE(b.Pa).Ia();return b.bu(e)?b.jl(e):null}zE(b){return b.kl(this.M.za.vg[0])}Fa(b,e,c,h,m){this.NR()&&super.Fa(b,e,c,h,m)}Zf(b,e,c){if(this.NR())return super.Zf(b,e,c)}NR(){const b=this.M.ub.A().pg,e=this.zE(b.Pa);if(e)return b.bu(e.Ia())}}d.cb.g_=a}
{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b)}Jq(){return this.M.za.vg[0]}Vt(){return this.M.ub.Da().oa}Fa(b,e,c,h,m){var g=this.M.ub;const k=g.J().Cb();g=g.Da().J().Cb();k===g&&super.Fa(b,e,c,h,m)}Zf(b,e,c){var h=this.M.ub;const m=h.J().Cb();h=h.Da().J().Cb();if(m===h)return super.Zf(b,e,c)}}d.cb.a4=a}
{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b);this.Hc=0;this.xB=!1}hk(){return!1}Zc(){const b=this.M.me();let e=this.M.za;e=b.Dy(e);this.Hc=e.wc()}Qe(){}Ac(){this.xB||this.M.Fa(0);return this.Hc}Fa(b,e,c){this.Hc=d.cb.fu.Fa(b,e,c,this.M);this.xB=!0}Xo(){}fy(){}Ke(){return this.Hc}Bi(){return!1}Ci(){return!1}la(){return{value:this.Hc,init:this.xB}}qa(b){b&&(this.Hc=b.value,this.xB=b.hasOwnProperty("init")?b.init:!0)}}d.cb.P6=a}
{"use strict";const d=self.D;class a extends d.cb.Ro{constructor(b){super(b);this.Bk=!1;this.ks=this.Ub=this.De=null;this.pi=this.M.Bb();this.ub=this.M.ub;this.Ww=this.M.za.vg;this.HI=this.Ww[0];this.CK=this.Ww[1];this.Th=this.Ww[3]?this.Ww[3]:Math.random().toString(36).slice(2);this.qx=this.Zp=this.In=NaN;this.Yg=null;this.MR()}j(){super.j();this.Yg=this.HI=this.Ww=this.ub=this.pi=this.ks=this.Ub=this.De=null}MR(){if(self.D.C.Audio){var b=this.M.I().Ky("audio");b&&(this.De=b.Li().oa);this.Ub=self.D.C.Audio.fb;
this.ks=self.D.C.Audio.jb}}XR(){if(!this.Yg){var b=this.M.ub.$f("audioSource");b&&(this.Yg=b.Kb())}}D9(){const b=this.M.ub.$f("volume");return b?b.Kb().Zp:this.Zp}El(){super.El();this.Bk=!1;this.De&&(this.ks&&(this.In=this.ks.Tma.call(this.De,this.Th),this.Zp=this.ks.Iqa.call(this.De,this.Th)),this.Ub&&this.Ub.yf.call(this.De,this.Th))}cp(b){this.qx=b}Zc(){super.Zc();this.In=NaN;this.Bk=!1}Qe(){super.Qe();const b=this.M.Bb().Ea();this.In=b-this.CK;switch(this.M.za.gd){case "volume":this.Zp=this.M.Zf(b)}this.Bk=
!1}Fa(b,e,c,h,m){if(this.De)switch(this.M.za.gd){case "audioSource":if(!this.pi.ek())break;if(h){this.Ub&&this.Ub.yf.call(this.De,this.Th);break}if(b<this.CK){this.Bk=!1;break}e=this.ks.Sma.call(this.De,this.Th);this.pi.fd!==e&&this.Ub.mk.call(this.De,this.Th);if(this.Bk)break;this.Bk=!0;if(isNaN(this.In)){const g=self.performance.now(),k=b-this.CK;this.De.vz("get-suspended").then(n=>{if("suspended"===n)this.Bk=!1;else if(n=k+(self.performance.now()-g)/1E3,this.Ub){let p=this.qx;isNaN(p)?(this.cp(0),
p=0):this.cp(p);this.Ub.Play.call(this.De,this.HI,0,p,this.Th,n)}})}else{const g=this.In;this.In=NaN;const k=this.D9();this.Zp=NaN;this.De.vz("get-suspended").then(n=>{"suspended"===n?this.Bk=!1:this.Ub&&(this.cp(k),this.Ub.Play.call(this.De,this.HI,0,k,this.Th,g))})}break;case "volume":this.XR(),super.Fa(b,e,c,h,m)}}Zf(b,e,c){if(this.De)switch(this.M.za.gd){case "volume":return this.XR(),super.Zf(b,e,c)}}KN(){return this.Yg?this.Yg.qx:0}g6(b,e){this.Yg&&this.Yg.cp(this.KN()+e);this.Ub&&this.Yg&&
this.Ub.cp.call(this.De,this.Yg.Th)}sX(b,e){this.Yg&&this.Yg.cp(e);this.Ub&&this.Yg&&this.Ub.cp.call(this.De,this.Yg.Th)}la(){return{audioPlaybackStarted:this.Bk,audioTag:this.Th,pauseTime:this.In,pauseVolume:this.Zp,volume:this.qx}}qa(b){b&&(this.Bk=b.audioPlaybackStarted,this.Th=b.audioTag,this.In=b.pauseTime,this.Zp=b.pauseVolume,this.qx=b.volume,this.MR())}}d.cb.TX=a}"use strict";function ic(d,a,b){return d.M.Bb().ek()?a():b()}function jc(d,a,b){return"relative"===d.M.tf()?a():b()}
function kc(d){if(d.Qs)return d.Qs;d.Qs=d.Ee.Vt();return d.Qs}function lc(d,a=!1){const b=[];for(const e of d){d=e.ub.uf();for(const c of e.Oy())a&&0===c.Ea()?b.push({time:d+c.Ea(),value:c.Sh}):a||b.push({time:d+c.Ea(),value:c.Sh})}return b.sort((e,c)=>e.time-c.time)}function mc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.D.cb.wf=class{constructor(d){this.Ee=d;this.M=d.$f();this.Wa=this.M.ub.A();this.gd=this.M.za.gd;this.ls=!1;this.Qs=this.li=null}j(){this.Qs=this.li=this.Wa=this.M=this.Ee=null}hk(){return!1}El(){}Lj(){this.Qs=this.li=this.Wa=null}Kb(){return this.Ee}$f(){return this.M}A(){return this.Wa?this.Wa:this.Wa=this.M.ub.A()}Zc(){}Qe(){}fy(){this.li=null}Ke(){}Bi(){}Ci(){}XD(d){return typeof this.Jl()===typeof d}zq(){}ro(){}yq(){}kp(){return ic(this,()=>{const d=this.M.za;return this.M.me().Dy(d)},()=>
{const d=this.M.za;return this.M.me().Co(d)}).Sh}Wz(){const d=this.M.Bb().Ea()-this.M.ub.uf();return ic(this,()=>{const a=this.M.za;return this.M.me().Gi(d,a)},()=>{const a=this.M.za,b=this.M.me(),e=b.lN(d,a);return e?e:b.Co(a)}).Sh}Zz(){}Xe(){return this.Ee.Ia()}la(){return{firstAbsoluteUpdate:this.ls,saveState:this.li}}qa(d){d&&(this.ls=d.firstAbsoluteUpdate,this.li=d.saveState)}};
{"use strict";const d=self.D,a=new Map,b=[0,0,0];class e extends d.cb.wf{constructor(c){super(c)}Zc(){}Qe(){}Ke(){const c=this.M.Zd(),h=kc(this),m=this.Xe();switch(c){case "behavior":return this.uA(h.zc(m));case "effect":return this.uA(h[m]);case "plugin":return this.uA(h.zc(m));case "world-instance":return this.uA(this.Jl())}}Bi(){const c=this.kp();return!this.KQ(c,this.Jl())}Ci(){return d.pe(this.li)?!1:!this.KQ(this.li,this.Jl())}KQ(c,h){return c.Fm(h)}kp(){const c=super.kp();return this.$z(c)}Wz(){const c=
super.Wz();return this.$z(c)}Zz(){}uA(c){return d.Vm(c,d.gb)?c.toArray().slice(0,3):c.slice(0,3)}$z(c){return d.Vm(c,d.gb)?c:new d.gb(c[0],c[1],c[2],1)}XD(){return!0}hk(){return!0}zq(){var c=this.M.Bb(),h=this.M.Da();const m=this.M.Kb();(c=c.St(h,m,this.gd))&&1<c.length&&(a.has(h)||a.set(h,new Map),h=a.get(h),c=this.M.Zd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.gd)||h.set(this.gd,{kX:!1,color:new d.gb(0,0,0,1)}))}CR(c,h,m){c=a.get(c).get(h).get(m);c.kX=!0;return c.color}ro(c,h){var m=this.M.Bb(),
g=this.M.ub;c=this.M.Da();var k=this.M.Kb();const n=this.M.Zd();if((k=m.St(c,k,this.gd))&&1<k.length){if(k=lc(k,!0),m=m.Ea(),m=mc(m,k))k=m.time-g.uf(),0===k?this.CR(c,n,this.gd).XV(h[0],h[1],h[2]):0>k||(m=h[0],g=h[1],h=h[2],k=this.M.Fa(k,!1,!0),m=d.gb.gE(m,k[0]),g=d.gb.gE(g,k[1]),h=d.gb.gE(h,k[2]),this.CR(c,n,this.gd).XV(m,g,h))}else this.yk(h[0],h[1],h[2])}yq(){const c=this.M.Da();if(a.has(c)){var h=a.get(c),m=this.M.Zd();if(h.has(m)){var g=h.get(m);if(g.has(this.gd)){var k=g.get(this.gd),n=k.color;
k.kX&&this.yk(n.Xa,n.$a,n.Za);0===g.size&&h.delete(m);0===h.size&&a.delete(c)}}}}Jl(){const c=this.M.Zd(),h=kc(this),m=this.Xe();switch(c){case "behavior":return this.$z(h.zc(m));case "effect":return h[m].clone();case "plugin":return this.$z(h.zc(m));case "world-instance":return this.A().hb.clone()}}yk(c,h,m){const g=this.M.Zd(),k=kc(this),n=this.Xe();switch(g){case "behavior":b[0]=c;b[1]=h;b[2]=m;k.Pg(n,b);break;case "effect":k[n].pt(c,h,m);break;case "plugin":b[0]=c;b[1]=h;b[2]=m;k.Pg(n,b);break;
case "world-instance":this.A().c6(c,h,m)}}la(){}qa(){}}d.cb.wf.zY=e}
{"use strict";const d=self.D,a=d.cb;class b extends d.cb.wf{constructor(e){super(e)}Zc(){}Qe(){}Ke(){return this.Jl()}Bi(){return this.kp()!==this.Ke()}Ci(){return d.pe(this.li)?!1:this.li!==this.Ke()}hk(){return!1}ro(e,c){const h=this.M,m=h.ub,g=h.Zd();var k=h.Bb();const n=m.Da(),p=h.Kb();(k=k.St(n,p,this.gd))&&1<k.length&&(k=lc(k),e=mc(e+m.uf(),k))&&(c=e.value);switch(h.Rt()){case "numeric":if(!a.fu.Gl(this.Xe(),kc(this),c,g))return;break;case "angle":if(!a.Ux.Gl(this.Xe(),kc(this),c,g))return;
break;case "boolean":if(!a.Wx.Gl(this.Xe(),kc(this),c,g))return;break;case "color":if(!a.gy.Gl(this.Xe(),kc(this),c,g))return;break;case "text":if(!a.Mz.Gl(this.Xe(),kc(this),c,g))return}this.yk(c)}Jl(){const e=this.M.Zd(),c=kc(this),h=this.Xe();switch(e){case "behavior":return c.zc(h);case "effect":return c[h];case "instance-variable":return c.Me(h);case "plugin":return c.zc(h)}}yk(e){const c=this.M.Zd(),h=kc(this),m=this.Xe();switch(c){case "behavior":h.Pg(m,e);break;case "effect":h[m]=e;break;
case "instance-variable":h.gn(m,e);break;case "plugin":h.Pg(m,e)}}}d.cb.wf.uO=b}
{"use strict";const d=self.D,a=new Map,b=(c,h,m,g,k)=>a.set(c,{Nga:h,Xea:m,Nfa:g,round:k});b("offsetX",(c,h)=>c.g3(h),(c,h)=>c.Te(h),c=>c.N(),!0);b("offsetY",(c,h)=>c.h3(h),(c,h)=>c.Ue(h),c=>c.O(),!0);b("offsetWidth",(c,h)=>c.xO(h),(c,h)=>c.Se(h),c=>c.S(),!0);b("offsetHeight",(c,h)=>c.wO(h),(c,h)=>c.Pe(h),c=>c.U(),!0);b("offsetAngle",(c,h)=>c.b3(h),(c,h)=>c.Ad(h),c=>c.xa(),!1);b("offsetOpacity",(c,h,m,g)=>{m=c.le()+h;0===g.Pc?(1<m?g.Pc+=m-1:0>m&&(g.Pc+=m),c.d3(h)):(c=c.le()+h,0<h&&0<g.Pc?1<c&&(g.Pc+=
c-1):0<h&&0>g.Pc?(g.Pc+=h,0<g.Pc&&(g.Pc=0)):0>h&&0<g.Pc?(g.Pc+=h,0>g.Pc&&(g.Pc=0)):0>h&&0>g.Pc&&0>c&&(g.Pc+=c))},(c,h)=>{c.Si(h)},c=>c.le(),!1);b("offsetOriginX",(c,h)=>c.e3(h),(c,h)=>c.pr(h),c=>c.nl(),!1);b("offsetOriginY",(c,h)=>c.f3(h),(c,h)=>c.qr(h),c=>c.ol(),!1);b("offsetZElevation",(c,h)=>c.i3(h),(c,h)=>c.qe(h),c=>c.Va(),!0);b("offsetScaleX",(c,h,m)=>{const g=0>c.S()?-1:1;c.xO(m.Wj()*g*h)},(c,h,m)=>{c.Se(m.Wj()*h)},(c,h)=>{const m=0>c.S()?-1:1;if(c.Fo()){var g=c.Ha(),k=h.Bb().FN(g.Da());k?g=
g.S()/k.Wj():(k=g.Da().oa,g=k.No()?g.S()/k.Wj():1);return c.S()*m/(h.Wj()*g)}return c.S()*m/h.Wj()},!1);b("offsetScaleY",(c,h,m)=>{const g=0>c.U()?-1:1;c.wO(m.Vj()*g*h)},(c,h,m)=>{c.Pe(m.Vj()*h)},(c,h)=>{const m=0>c.U()?-1:1;if(c.Eo()){var g=c.Ha(),k=h.Bb().FN(g.Da());k?g=g.U()/k.Vj():(k=g.Da().oa,g=k.No()?g.U()/k.Vj():1);return c.U()*m/(h.Vj()*g)}return c.U()*m/h.Vj()},!1);class e extends d.cb.wf{constructor(c){super(c);this.Pc=this.Wb=0;this.tV=this.vV=this.uV=this.bJ=this.dJ=this.cJ=null;this.oK=
!1;this.Sn=d.Vm(this.M.Bb(),d.E6)?new d.cb.wf.a3(this):new d.cb.wf.Z2(this);const h=this.M.za.gd;switch(this.M.Zd()){case "world-instance":c=a.get(h);this.cJ=c.Nfa;this.dJ=c.Nga;this.bJ=c.Xea;this.oK=c.round;break;case "audio":this.uV=c.KN,this.vV=c.g6,this.tV=c.sX,this.oK=!0}}j(){this.bJ=this.dJ=this.cJ=this.Sn=null;super.j()}hk(){return this.Sn.hk()}MP(c){this.Wb=c}Zc(){const c=this.Sn.Zc();"number"===typeof c&&(this.Wb=c);this.Pc=0}Qe(){const c=this.Sn.Qe();"number"===typeof c&&(this.Wb=c)}Ke(){return this.Jl()}Bi(){return this.kp()!==
this.Ke()}Ci(){return d.pe(this.li)?!1:this.li!==this.Ke()}zq(){this.Sn.zq()}ro(c,h,m,g,k,n,p){return this.Sn.ro(c,h,m,g,k,n,p)}yq(){this.Sn.yq()}Jl(){const c=kc(this),h=this.Xe(),m=this.A(),g=this.M.ub;switch(this.M.Zd()){case "behavior":return c.zc(h);case "effect":return c[h];case "instance-variable":return c.Me(h);case "plugin":return c.zc(h);case "world-instance":return this.cJ(m,g);case "audio":return this.uV.call(this.Kb(),m,g)}}yk(c){const h=kc(this),m=this.Xe(),g=this.A(),k=this.M.ub;switch(this.M.Zd()){case "behavior":h.tF(m,
c);break;case "effect":h[m]+=c;break;case "instance-variable":h.F5(m,c);break;case "plugin":h.tF(m,c);break;case "world-instance":this.dJ(g,c,k,this);break;case "audio":this.vV.call(this.Kb(),g,c,k,this)}}QS(c){const h=kc(this),m=this.Xe(),g=this.A(),k=this.M.ub;switch(this.M.Zd()){case "behavior":h.Pg(m,c);break;case "effect":h[m]=c;break;case "instance-variable":h.gn(m,c);break;case "plugin":h.Pg(m,c);break;case "world-instance":this.bJ(g,c,k);break;case "audio":this.tV.call(this.Kb(),g,c,k)}}Hr(c,
h,m,g,k,n){this.Sn.Hr(c,h,m,g,k,n)}Hl(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.Jl();this.yk((0===c?this.oK?Math.round(g):g:d.toFixed(g,c))-g,h,m)}la(){return Object.assign(super.la(),{v:this.Wb,a:this.Pc})}qa(c){c&&(super.qa(c),this.Wb=c.v,this.Pc=c.a)}}d.cb.wf.vO=e}
{"use strict";class d{constructor(b){this.WK=!1;this.Hc=0;this.bb=b;for(let e=0,c=this.bb.length;e<c;e++)this.bb[e].d5(this)}ZP(){this.WK=!0}Re(b){this.Hc=b}Ac(){return this.Hc}rd(){this.WK=!1;this.Hc=0}}class a{constructor(b){this.xe=b}j(){this.xe=null}Zc(){const b=this.xe;this.xe.$f();return jc(b,()=>ic(b,()=>0,()=>b.Kb().IN()),()=>{})}Qe(){}hk(){switch(this.xe.$f().tf()){case "relative":return!1;case "absolute":return!0}}zq(){var b=this.xe.$f(),e=b.za.gd;switch(b.tf()){case "absolute":if(b.RE())b.kv.rd();
else{const c=b.Bb(),h=b.Da();b=b.Kb();(e=c.St(h,b,e))&&1<e.length&&new d(e)}}}ro(b,e,c,h,m,g){var k=this.xe,n=this.xe.$f();switch(n.tf()){case "relative":n=k.Wb;k.yk(e-n,c,h);g&&this.Hr(b,c,h,m,n,e);k.MP(e);break;case "absolute":if(c=n.Bb(),b=n.ub,n.Da(),n.Kb(),n.RE()){if(k=n.kv,h=lc(k.bb,!0),c=c.Ea(),c=mc(c,h))b=c.time-b.uf(),0===b?(k.ZP(),k.Re(k.Ac()+e)):0>b||(n=n.Zf(b),k.ZP(),k.Re(k.Ac()+(e-n)))}else k.QS(e)}}yq(){const b=this.xe;var e=this.xe.$f();switch(e.tf()){case "absolute":e.RE()&&(e=e.kv,
e.WK&&b.QS(e.Ac()))}}Hr(b,e,c,h,m,g){const k=this.xe;h||(e&&b===e.Ea()?k.Hl(e.wc(),e,c):c&&b===c.Ea()?k.Hl(c.wc(),e,c):0===g-m&&k.Hl(e.wc(),e,c))}}self.D.cb.wf.Z2=a}
{"use strict";class d{constructor(a){this.xe=a}j(){this.xe=null}Zc(){const a=this.xe;a.ls=!0;return this.Zz(a.kp())}Qe(){const a=this.xe;if(a.kp()!==a.Wz())return a.ls=!0,this.Zz(a.Wz())}hk(){return!1}zq(){}ro(a,b,e,c,h,m){const g=this.xe,k=g.Wb;switch(g.$f().tf()){case "relative":g.yk(b-k,e,c);m&&this.Hr(a,e,c,h,k,b);break;case "absolute":g.ls?(g.ls=!1,g.yk(k,e,c)):(g.yk(b-k,e,c),m&&this.Hr(a,e,c,h,k,b))}g.MP(b)}yq(){}Zz(a){return a-this.xe.Ke()}Hr(a,b,e,c,h,m){const g=this.xe;c?b&&a===b.Ea()?g.Hl(b.wc(),
b,e):e&&a===e.Ea()?g.Hl(e.wc(),b,e):e||g.Hl(b.wc(),b,e):b&&a===b.Ea()?g.Hl(b.wc(),b,e):e&&a===e.Ea()?g.Hl(e.wc(),b,e):0===m-h&&g.Hl(b.wc(),b,e)}}self.D.cb.wf.a3=d}
{"use strict";const d=self.D,a=self.zt;d.cb.fu=class{constructor(){}static Gl(b,e,c,h){let m;switch(h){case "behavior":m=e.zc(b);break;case "effect":m=e[b];break;case "instance-variable":m=e.Me(b);break;case "plugin":m=e.zc(b)}return m===c?!1:!0}static Fa(b,e,c,h){if(!c)return c=h.za,c=h.me().Co(c),c.wc();var m=h.Ii();"default"===m&&(m="continuous");"combo"===h.Py()&&(m="discrete");if("discrete"===m)return e.wc();if("continuous"===m||"step"===m){"step"===m&&(m=h.Bb().Tt(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var g=e.Ea();const k=c.Ea();m=e.wc();const n=c.wc();if(m===n)return m;b=d.normalize(b,g,k);const p=e.Pm();e=e.pE("cubic-bezier");c=c.pE("cubic-bezier");e&&e.Xw&&c&&c.cB?(g=k-g,g=a.Do(p)(g*b,0,1,g),g=a.Do("cubicbezier")(g,m,m+e.AK,n+c.zI,n)):g=a.Do(p)((k-g)*b,m,n-m,k-g);return"integer"===h.Py()?Math.floor(g):g}}}}
{"use strict";const d=self.D;d.cb.Ux=class{constructor(){}static Gl(a,b,e,c){let h;switch(c){case "behavior":h=b.zc(a);break;case "effect":h=b[a];break;case "instance-variable":h=b.Me(a);break;case "plugin":h=b.zc(a)}return h===e?!1:!0}static Fa(a,b,e,c){if(!e)return b=c.za,b=c.me().Co(b),b.wc();var h=c.Ii();"default"===h&&(h="continuous");"combo"===c.Py()&&(h="discrete");if("discrete"===h)return b.wc();if("continuous"===h||"step"===h){"step"===h&&(c=c.Bb().Tt(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Ea(),g=e.Ea();c=b.wc();e=e.wc();if(h=b.pE("angle")){const k=h.nK;if(c===e&&0===k)return c;a=d.normalize(a,m,g);b=self.zt.Do(b.Pm())(a,0,1,1);switch(h.rI){case "closest":return d.dL(c,e,b,k);case "clockwise":return d.dfa(c,e,b,k);case "anti-clockwise":return d.cfa(c,e,b,k)}}else{if(c===e)return c;a=d.normalize(a,m,g);b=self.zt.Do(b.Pm());return d.dL(c,e,b(a,0,1,1))}}}}}"use strict";
self.D.cb.Wx=class{constructor(){}static Gl(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Me(d);break;case "plugin":c=a.zc(d)}return!!c===!!b?!1:!0}static Fa(d,a,b,e){return b?a.wc()?1:0:(d=e.za,d=e.me().Co(d),d.wc()?1:0)}};
{"use strict";const d=self.D,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.cb.gy=class{constructor(){}static Gl(c,h,m,g){let k;switch(g){case "behavior":k=h.zc(c);break;case "effect":k=h[c];break;case "instance-variable":k=h.Me(c);break;case "plugin":k=h.zc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.JW(m),a[0]=Math.floor(255*e.Xa),a[1]=Math.floor(255*e.$a),a[2]=Math.floor(255*e.Za));Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(e.JW(k),b[0]=Math.floor(255*e.Xa),b[1]=Math.floor(255*e.$a),b[2]=Math.floor(255*
e.Za));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Fa(c,h,m,g){if(!m)return h=g.za,h=g.me().Co(h),h=h.wc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;var k=g.Ii();"default"===k&&(k="continuous");if("discrete"===k)return h=h.wc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;if("continuous"===k||"step"===k){"step"===k&&(g=g.Bb().Tt(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.Ea();k=m.Ea();var n=h.wc(),p=m.wc();const q=d.normalize(c,g,k);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.zt.Do(h.Pm());g=k-g;
k=g*q;a[0]=c===u?c:h(k,c,u-c,g);a[1]=m===w?m:h(k,m,w-m,g);a[2]=n===p?n:h(k,n,p-n,g);return a}}}}"use strict";self.D.cb.Mz=class{constructor(){}static Gl(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Me(d);break;case "plugin":c=a.zc(d)}return c===b?!1:!0}static Fa(d,a,b,e){return b?a.wc():(d=e.za,d=e.me().Co(d),d.wc())}};
{"use strict";const d=self.D;d.Ug=class{constructor(){this.gx=new Map}j(){for(const a of this.gx.values())a.j();this.gx.clear();this.gx=null}Ic(a){a=new d.x6(a);this.gx.set(a.Ba(),a)}ca(a){return this.gx.get(a)}static Gu(a,b,e,c){if(b)for(const h of b)d.Ug.MQ("create",h,a,e,c)}static Qu(a,b,e,c){a.length?b.forEach((h,m)=>{a[m].qa(h)}):b.forEach(h=>{d.Ug.MQ("load",h,a,e,c)})}static MQ(a,b,e,c,h){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}else if("object"===
typeof c)switch(c=c.map.get(b[c.NW]),a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}switch(a){case "load":m.qa(b);e.push(m);break;case "create":"function"!==typeof m.ll||m.ll()?e.push(m):m.j()}}}}
{"use strict";const d=self.D;d.x6=class{constructor(a){this.Ja="";this.Ts=NaN;this.TC=0;this.tg=this.qg="default";this.uC=this.hC=!1;this.Js=1;this.jf=null;a&&(this.Ja=a[0],this.Ts=a[1],this.TC=a[2],this.qg=a[3],this.tg=a[4],this.hC=!!a[6],this.uC=!!a[7],this.Js=a[8],this.jf=new d.eQ(a[5],this))}j(){this.jf.j();this.jf=null}Wt(){this.jf||(this.jf=new d.eQ(null,this));return this.jf}Ba(){return this.Ja}Jz(a){this.Ja=a}eg(){return this.Ts}Tt(){return this.TC}Ii(){return this.qg}tf(){return this.tg}Jy(){return this.hC}Ny(){return this.uC}Ih(){return this.Js}la(){return{trackDataJson:this.jf.la(),
name:this.Ja,totalTime:this.Ts,step:this.TC,interpolationMode:this.qg,resultMode:this.tg,loop:this.hC,pingPong:this.uC,repeatCount:this.Js}}qa(a){a&&(this.Wt().qa(a.trackDataJson),this.Ja=a.name,this.Ts=a.totalTime,this.TC=a.step,this.qg=a.interpolationMode,this.tg=a.resultMode,this.hC=a.loop,this.uC=a.pingPong,this.Js=a.repeatCount)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.jf=e;this.mn=this.AB=null;this.lm=this.Zl=NaN;this.tg=this.qg="default";this.fh=!1;this.qc=this.ei=null;this.df="";this.As=null;this.BK=0;this.fC=this.jf.Wd.eg();this.Aa=0;this.Ja="";b&&(b[0]&&(this.AB=b[0],this.Zl=b[0][2],this.lm=b[0][1]),this.qg=b[1],this.tg=b[2],this.fh=!!b[3],b[6]&&(this.df=b[6]),b[7]&&(this.As=b[7],this.BK=b[7][0],this.fC=b[7][1]),b[8]&&(this.mn=b[8]),b[8]&&(this.mn=b[8]),b[9]&&(this.Aa=b[9]),b[10]&&(this.Ja=b[10]),this.ei=
new d.iO(b[4],this),this.qc=new d.YO(b[5],this))}j(){this.jf=this.AB=null;this.ei&&(this.ei.j(),this.ei=null);this.qc&&(this.qc.j(),this.qc=null);this.As=null}Wt(){return this.jf}Uj(){this.ei||(this.ei=new d.iO(null,this));return this.ei}me(){this.qc||(this.qc=new d.YO(null,this));return this.qc}JE(){return this.lm}Pt(){return this.Zl}Ii(){return this.qg}tf(){return this.tg}ll(){return this.fh}Dl(b){this.fh=!!b}Tj(){return this.df}uf(){return this.BK}ml(){return this.fC}Wj(){return this.mn[0]}Vj(){this.mn||
(this.mn=[]);return this.mn[1]}ck(){return this.Aa}Ba(){return this.Ja}la(){return{keyframeDataJson:this.ei.la(),propertyTrackDataJson:this.qc.la(),instanceData:this.AB,additionalInstanceData:this.mn,instanceUid:this.Zl,objectClassIndex:this.lm,interpolationMode:this.qg,resultMode:this.tg,enabled:this.fh,id:this.df,nestedData:this.As,type:this.Aa,name:this.Ja}}qa(b){b&&(this.AB=b.instanceData,this.Zl=b.instanceUid,this.lm=b.objectClassIndex,this.qg=b.interpolationMode,this.tg=b.resultMode,this.fh=
b.enabled,this.df=b.id,this.Aa=b.type?b.type:0,this.Ja=b.name?b.name:"",this.fC=this.jf.Wd.eg(),b.nestedData&&(this.As=b.nestedData,this.BK=this.As[0],this.fC=this.As[1]),b.additionalInstanceData&&(this.mn=b.additionalInstanceData),this.Uj().qa(b.keyframeDataJson),this.me().qa(b.propertyTrackDataJson))}}d.eQ=class{constructor(b,e){this.Wd=e;this.qq=[];d.Ug.Gu(this.qq,b,a,this)}j(){this.Wd=null;for(const b of this.qq)b.j();d.F(this.qq);this.qq=null}m0(b,e){e=e.Uj().pc;const c=e.length;for(let h=0;h<
c;h++){const m=e[h];if(m.Ea()===b)return m}}kN(b,e){e=e.Uj().pc;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.Ea()<=b)return h}}*dX(){for(const b of this.qq)yield b}la(){return{trackDataItemsJson:this.qq.map(b=>b.la())}}qa(b){b&&d.Ug.Qu(this.qq,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.qc=e;this.LC="";this.Aa=this.gd=this.vg=null;this.NJ=this.RJ=NaN;this.tg=this.qg="default";this.fh=!1;this.xj=null;this.OA=!0;b&&(this.LC=b[0][0],this.vg=b[0].slice(1),this.gd=b[1],this.Aa=b[2],this.RJ=b[3],this.NJ=b[4],this.qg=b[5],this.tg=b[6],this.fh=!!b[7],this.xj=new d.XO(b[8],this),this.OA=b[9])}j(){this.xj.j();this.vg=this.qc=this.xj=null}me(){return this.qc}Hh(){this.xj||(this.xj=new d.XO(null,this));return this.xj}Zd(){return this.LC}ck(){return this.Aa}XP(b){this.Aa=
b}Ii(){return this.qg}tf(){return this.tg}ll(){return this.fh}Dl(b){this.fh=!!b}YD(){return!!this.OA}la(){return{propertyKeyframeDataJson:this.xj.la(),sourceAdapterId:this.LC,sourceAdapterArguments:this.vg,property:this.gd,type:this.Aa,min:this.RJ,max:this.NJ,interpolationMode:this.qg,resultMode:this.tg,enabled:this.fh,canHavePropertyKeyframes:this.OA}}qa(b){b&&(this.LC=b.sourceAdapterId,this.vg=b.sourceAdapterArguments,this.gd=b.property,this.Aa=b.type,this.RJ=b.min,this.NJ=b.max,this.qg=b.interpolationMode,
this.tg=b.resultMode,this.fh=b.enabled,this.OA=b.canHavePropertyKeyframes,this.Hh().qa(b.propertyKeyframeDataJson))}}d.YO=class{constructor(b,e){this.Nb=e;this.eq=[];d.Ug.Gu(this.eq,b,a,this)}j(){this.Nb=null;for(const b of this.eq)b.j();d.F(this.eq);this.eq=null}Dy(b){return b.Hh().Sb[0]}Co(b){return b.Hh().Sb.ke(-1)}D0(b,e){e=e.Hh().Sb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.Ea()===b)return m}}lN(b,e){e=e.Hh().Sb;const c=e.length;for(let h=0;h<c;h++){const m=e[h];if(m.Ea()>=b)return m}}Gi(b,
e){e=e.Hh().Sb;for(let c=e.length-1;0<=c;c--){const h=e[c];if(h.Ea()<=b)return h}}*OW(){for(const b of this.eq)yield b}la(){return{propertyTrackDataItemsJson:this.eq.map(b=>b.la())}}qa(b){b&&d.Ug.Qu(this.eq,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.ei=e;this.ec=-1;this.jj="noease";this.kj=!1;this.yw=this.rh=null;b&&(this.ec=b[0],this.jj=b[1],this.kj=!!b[2],this.rh=(b=b[3])?b.split(" "):[],this.yw=new Set(this.rh.map(c=>c.toLowerCase())),this.ff=null)}j(){this.ei=null;d.F(this.rh);this.rh=null;this.yw.clear();this.yw=null}Uj(){return this.ei}tu(b){this.ff=b}Ea(){return this.ec}xr(b){this.ec=b;this.ei.Ou()}Pm(){return this.jj}lk(b){this.jj=b}ll(){return this.kj}Dl(b){this.kj=!!b}VP(b){this.rh=
b?b.split(" "):[];this.yw=new Set(this.rh.map(e=>e.toLowerCase()))}la(){return{time:this.ec,ease:this.jj,enable:this.kj,tags:this.rh}}qa(b){b&&(this.ec=b.time,this.jj=b.ease,this.kj=b.enable,this.rh=b.tags,this.yw=new Set(this.rh.map(e=>e.toLowerCase())))}}d.iO=class{constructor(b,e){this.Nb=e;this.pc=[];d.Ug.Gu(this.pc,b,a,this);this.Ou()}j(){this.Nb=null;for(const b of this.pc)b.j();d.F(this.pc);this.pc=null}Ou(){this.pc.sort((b,e)=>b.Ea()-e.Ea());for(let b=0;b<this.pc.length;b++)this.pc[b].tu(this.pc[b+
1])}xX(){const b=new a(null,this);this.pc.push(b);this.Ou();return b}YY(b){for(const e of this.pc){if(!b(e))continue;const c=this.pc.indexOf(e);-1!==c&&(e.j(),this.pc.splice(c,1))}this.m6();this.Ou()}m6(){this.pc.sort((b,e)=>b.Ea()-e.Ea())}o0(b){return this.pc.indexOf(b)}n0(b){return this.pc[b]}la(){return{keyframeDataItemsJson:this.pc.map(b=>b.la())}}qa(b){b&&(d.Ug.Qu(this.pc,b.keyframeDataItemsJson,a,this),this.Ou())}}}
{"use strict";const d=self.D;class a{constructor(b,e){this.xj=e;this.Sh=this.Hc=null;this.Aa="";this.ec=NaN;this.jj="noease";this.kj=!1;this.bj=null;this.Ml=void 0;b&&(this.Hc=b[0][0],this.Sh=b[0][1],this.Aa=b[0][2],this.ec=b[1],this.jj=b[2],this.kj=!!b[3],this.bj=null,b[4]&&(this.bj=new d.IX(b[4],this)),this.ff=null)}j(){this.xj=null;this.bj&&(this.bj.j(),this.bj=null)}tu(b){this.ff=b}Ac(){return this.Hc}Re(b){"color"===this.Aa&&d.Um(b)?(this.Hc[0]=d.ME(b),this.Hc[1]=d.GE(b),this.Hc[2]=d.rE(b)):
this.Hc=b}sP(b){"color"===this.Aa&&d.Um(b)?(this.Sh[0]=d.ME(b),this.Sh[1]=d.GE(b),this.Sh[2]=d.rE(b)):this.Sh=b}wc(){const b=this.xj.za.tf();if("relative"===b)return this.Ac();if("absolute"===b)return this.Sh}ck(){return this.Aa}XP(b){this.Aa=b}Ea(){return this.ec}xr(b){this.ec=b;this.xj.Pu()}Pm(){return this.jj}lk(b){this.jj=b}ll(){return this.kj}Dl(b){this.kj=!!b}pE(b){if(this.bj){if(this.Ml||null===this.Ml)return this.Ml;var e=this.bj.qp;if(!e)return this.Ml=null;var c=e.length;for(let h=0;h<c;h++){const m=
e[h];if(m.Tj()===b)return this.Ml=m}return this.Ml=null}}la(){const b=this.bj;return{addonDataJson:b?b.la():b,value:this.Hc,aValue:this.Sh,type:this.Aa,time:this.ec,ease:this.jj,enable:this.kj}}qa(b){b&&(b.addonDataJson&&this.bj.cra(b.addonDataJson),this.Hc=b.value,this.Sh=b.aValue,this.Aa=b.type,this.ec=b.time,this.jj=b.ease,this.kj=b.enable)}}d.XO=class{constructor(b,e){this.za=e;this.Sb=[];d.Ug.Gu(this.Sb,b,a,this);this.Pu()}j(){this.za=null;for(const b of this.Sb)b.j();d.F(this.Sb);this.Sb=null}Pu(){this.Sb.sort((b,
e)=>b.Ea()-e.Ea());for(let b=0;b<this.Sb.length;b++)this.Sb[b].tu(this.Sb[b+1])}hM(){const b=new a(null,this);this.Sb.push(b);this.Pu();return b}NM(b){for(const e of this.Sb){if(!b(e))continue;const c=this.Sb.indexOf(e);-1!==c&&(e.j(),this.Sb.splice(c,1))}this.n6();this.Pu()}n6(){this.Sb.sort((b,e)=>b.Ea()-e.Ea())}la(){return{propertyKeyframeDataItemsJson:this.Sb.map(b=>b.la())}}qa(b){b&&(d.Ug.Qu(this.Sb,b.propertyKeyframeDataItemsJson,a,this),this.Pu())}}}
{"use strict";const d=self.D;class a{constructor(c,h){this.bj=h;this.df=c[0];this.Tl=c[1]}j(){this.Tl=this.bj=null}Tj(){return this.df}la(){return{id:this.df,data:this.Tl}}qa(c){c&&(this.df=c.id,this.Tl=c.data)}}class b extends a{constructor(c,h){super(c,h);this.AK=this.Tl[0];this.Xw=!!this.Tl[1];this.zI=this.Tl[2];this.cB=!!this.Tl[3]}j(){super.j()}la(){return Object.assign(super.la(),{startAnchor:this.AK,startEnable:!!this.Xw,endAnchor:this.zI,endEnable:!!this.cB})}qa(c){c&&(super.qa(c),this.AK=
c.startAnchor,this.Xw=!!c.startEnable,this.zI=c.endAnchor,this.cB=!!c.endEnable)}}class e extends a{constructor(c,h){super(c,h);this.rI=this.Tl[0];this.nK=this.Tl[1]}j(){super.j()}la(){return Object.assign(super.la(),{direction:this.rI,revolutions:this.nK})}qa(c){c&&(super.qa(c),this.rI=c.direction,this.nK=c.revolutions)}}d.IX=class{constructor(c){this.qp=[];d.Ug.Gu(this.qp,c,{NW:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}j(){for(const c of this.qp)c.j();d.F(this.qp);this.qp=null}la(){return{addonDataItemsJson:this.qp.map(c=>
c.la())}}qa(c){c&&d.Ug.Qu(this.qp,c.addonDataItemsJson,{NW:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.D;let a=0;d.E6=class extends d.fp{constructor(b,e){super(`tween-${a++}`,b,e);this.df="";this.zT=!1;this.YI="start-value";this.ub=this.XU=this.WU=this.oc=null}IM(){for(const b of this.Wd.Wt().dX())this.ob.push(d.jQ.Ra(this,b));this.ub=this.ob[0]}$f(){return this.ub.bb[0]}Da(){var b=this.ob;if(b&&b.length&&(this.ub=b=b[0])){var e=b.Da();return b.Wm()?e:void 0}}Tj(){return this.df}MO(){if(this.XU)for(const b of this.XU)b(this);if(!this.mg)for(const b of this.ob)b.Ci()}uF(){this.Rr=
this.g.Sk}XM(){if(!this.Fp&&(this.Fp=!0,this.WU))for(const b of this.WU)b(this)}xr(b){this.QQ();super.xr(b)}Zc(b){if(!this.yn&&"current-state"===this.YI)for(const e of this.ob)e.Bi();super.Zc(b)}yf(b=!1){super.yf(b);if(!this.mg)for(const e of this.ob)e.Xo()}rd(b=!0,e=!1){this.QQ();super.rd(b,e)}QQ(){for(const b of this.ob){const e=c=>{c=c.Ea();const h=this.eg();return 0!==c&&c!==h};b.ZY(e);b.ny(e)}}Wu(){if(this.ph)return!0;const b=this.Da();if(b&&b.J().gg())return!1;this.Ib.xM(this);this.lP();return!0}Ve(b,
e,c){this.oc||(this.oc=this.Da());if(this.oc&&!this.oc.au()&&(e=this.oc.ie,-1!==e&&(b=c*e),0!==b||0!==this.YB)){this.YB=b;c=this.dc+b*this.fd;b=this.Wd.Ts;this.dc=0>c?0:c>=b?b:c;c=!1;e=this.Jy();var h=this.Ny();e||h?e&&!h?0<this.fd?this.dc>=b&&this.xc(0):0>=this.dc&&this.xc(b):!e&&h?0<this.fd?this.dc>=b&&(this.xc(b),this.mk(-1*this.fd),1===this.Ud?this.Qd<this.Ih()?(this.Qd++,this.Ud=0):c=!0:0===this.Ud&&(this.Ud=1)):0>=this.dc&&(this.xc(0),this.mk(-1*this.fd),1===this.Ud?this.Qd<this.Ih()?(this.Qd++,
this.Ud=0):c=!0:0===this.Ud&&(this.Ud=1)):e&&h&&(0<this.fd?this.dc>=b&&(this.xc(b),this.mk(-1*this.fd)):0>=this.dc&&(this.xc(0),this.mk(-1*this.fd))):0<this.fd?this.dc>=b&&(this.Qd<this.Ih()?(this.Qd++,this.xc(0)):(this.xc(b),c=!0)):0>=this.dc&&(this.Qd<this.Ih()?(this.Qd++,this.xc(b)):(this.xc(0),c=!0));c?(this.ub.CP(),this.yf(!0),this.uF()):(this.ub.Fa(this.dc,!0,!1,!1,this.cf,!1),this.cf&&(this.cf=!1))}}la(){const b=super.la();return Object.assign(b,{tweenDataItemJson:this.Wd.la(),id:this.df,destroyInstanceOnComplete:this.zT,
initialValueMode:this.YI})}qa(b){b&&(this.Wd.qa(b.tweenDataItemJson),super.qa(b),this.df=b.id,this.zT=b.destroyInstanceOnComplete,this.YI=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.D;d.jQ=class extends d.pG{constructor(a,b){super(a,b);this.rK=this.Ov=null}static Ra(a,b){return d.B(d.jQ,a,b)}DQ(){1===this.bb.length?this.Ov=this.bb[0]:(this.Ov=this.bb[0],this.rK=this.bb[1])}HM(){for(const a of this.Nb.me().OW())this.bb.push(d.iQ.Ra(this,a));this.DQ()}qo(){}Fa(a,b,e=!1,c=!1,h,m=!1){this.oc||this.Da();if(this.oc){if(this.oc.au()||m&&this.J().gg())return!1;this.rK?(this.Ov.Fa(a,e,c),this.rK.Fa(a,e,c)):this.Ov.Fa(a,e,c);0!==this.Ov.Yk&&(this.Wa||(this.Wa=
this.oc.A()),this.Wa&&this.Wa.Ta())}}po(){}qa(a){super.qa(a);this.DQ()}}}
{"use strict";const d=self.D;d.iQ=class extends d.cb{constructor(a,b){super(a,b);this.sv=!1}static Ra(a,b){return d.B(d.iQ,a,b)}Fa(a,b=!1,e=!1){if(this.sv){var c=this.Sb[0];var h=this.Sb[1]}else{if(b)c=this.qc.Gi(a,this.za);else{if(this.Rc){h=this.Bb();const m=this.Rc.ff;c=this.Rc.Ea();h=m?m.Ea():h.eg();if(a<=c||a>=h)this.Rc=this.qc.Gi(a,this.za)}else this.Rc=this.qc.Gi(a,this.za);c=this.Rc}h=c.ff}this.Ee.Fa(a,c,h,b,e)}jM(){const a=this.za.Hh().hM();this.Rc=null;this.sv=2>=this.Oy().length;return a}ny(a){this.Rc=
null;this.za.Hh().NM(a);this.sv=2>=this.Oy().length}la(){return{sourceAdapterJson:this.Kb().la(),basic:this.sv}}qa(a){a&&(this.Kb().qa(a.sourceAdapterJson),this.sv=a.basic)}}}
{"use strict";const d=self.D,a=self.zt;d.gQ=class extends d.ja{constructor(b){super();this.Ja=b[0];this.wg=[];for(var e of b[1])b=d.hQ.Ra(this,e),this.wg.push(b);for(e=0;e<this.wg.length;e++)this.wg[e].tu(this.wg[e+1]);this.Kw=new Map;this.IV=new Map;this.Paa();a.wX(this.Ja,(c,h,m,g)=>this.Fa(c,h,m,g))}static Ra(b){return d.B(d.gQ,b)}j(){for(const b of this.wg)b.j();d.F(this.wg);this.wg=null;this.Kw.clear();this.Kw=null;this.IV.clear();this.IV=null}a0(b){for(let e=this.wg.length-1;0<=e;e--){const c=
this.wg[e];if(c.xg<b)return c}}$_(b){for(let e=this.wg.length-1;0<=e;e--){const c=this.wg[e];if(c.xg<=b)return c}}Fa(b,e,c,h){var m=b/h;b=this.$_(m);h=b.ff;h||(b=this.a0(m),h=b.ff);m=d.lga(m,b.xg,h.xg,h.xg-b.xg);const g=b.xg,k=b.nx,n=b.xg+b.zV,p=b.nx+b.Pea,q=h.xg+h.FT,u=h.nx+h.Yda,w=h.xg;h=h.nx;h=a.Do("spline")(m,g,k,n,p,q,u,w,h,this.Kw.get(b));h+=b.nx;return(1-h)*e+h*(e+c)}Paa(){this.Kw.clear();for(let e=0;e<this.wg.length-1;e++){var b=this.wg[e];if(!b.Xw)continue;const c=this.wg[e+1];this.Kw.set(b,
a.E_(b.xg,b.xg+b.zV,c.xg+c.FT,c.xg))}}}}{"use strict";const d=self.D;d.hQ=class extends d.ja{constructor(a,b){super();this.xg=b[0];this.nx=b[1];this.zV=b[2];this.Pea=b[3];this.FT=b[4];this.Yda=b[5];this.Xw=b[6];this.cB=b[7];this.ff=null}j(){}static Ra(a,b){return d.B(d.hQ,a,b)}tu(a){this.ff=a}}}{"use strict";const d=self.D;d.C6=class extends d.ja{constructor(a){super();this.g=a;this.YC=[]}j(){for(const a of this.YC)a.j();d.F(this.YC);this.YC=null}Ra(a){this.YC.push(d.gQ.Ra(a))}}}
{"use strict";const d=self.D;d.l6=class extends d.ja{constructor(a){super();this.L=a;this.nb=[];this.nb.push(d.B(d.fG,this));this.Qa=0;this.hj=this.nb[0]}j(){for(const a of this.nb)a.j();d.F(this.nb);this.L=this.hj=null}J(){return this.L}V(){return this.hj}Ed(){this.V().Ed()}k4(){var a=this.nb,b=++this.Qa;b===a.length?(b=d.B(d.fG,this),a.push(b),this.hj=b):(a=a[b],a.rd(),this.hj=a)}l4(){const a=this.nb,b=++this.Qa;b===a.length&&a.push(d.B(d.fG,this));const e=a[b];e.FY(a[b-1]);this.hj=e}Oa(){this.hj=
this.nb[--this.Qa]}Vo(a){const b=this.nb;for(let e=0,c=b.length;e<c;++e)b[e].Vo(a)}}}
{"use strict";const d=self.D;d.fG=class extends d.ja{constructor(a){super();this.nb=a;this.L=this.nb.J();this.Rd=this.L.I().qd();this.Yb=!0;this.H=[];this.cc=[]}j(){this.cy();this.Rd=this.L=this.nb=null}cy(){d.F(this.H);d.F(this.cc)}J(){return this.L}TE(){return this.Yb?!!this.L.H.length:!!this.H.length}ka(){return this.Yb?this.L.ka():this.H}S0(){return!!this.cc.length}CE(){const a=this.ka();return a.length?a:this.cc}rd(){this.Yb=!0;d.F(this.cc)}Ed(){this.Yb=!0}FY(a){a.Yb?this.rd():(this.Yb=!1,d.Vc(this.H,
a.H),d.F(this.cc))}mp(a){this.H.push(a)}Kl(a){this.cc.push(a)}re(a){this.Yb=!!a}nk(a){this.Yb=!1;d.F(this.H);this.H.push(a)}nu(a){this.Yb=!1;d.Vc(this.H,a)}wu(a){this.Yb=!1;d.F(this.H);for(const b of a)this.H.push(b)}gM(a,b){for(const e of b)a.has(e)||this.cc.push(e)}A6(a){for(const b of a)this.H.push(b);d.Bg(this.cc,a)}$m(a){a&&(this.Rd.rf().Jb().Td?(this.Yb&&(d.F(this.H),d.Vc(this.cc,a.J().ka()),this.Yb=!1),a=this.cc.indexOf(a),-1!==a&&(this.H.push(this.cc[a]),this.cc.splice(a,1))):this.nk(a))}Vo(a){d.Bg(this.H,
a);d.Bg(this.cc,a)}}}
{"use strict";const d=self.D;d.m_=class extends d.ja{constructor(a){super();this.ya=a;this.g=this.ya.I();this.nb=[];this.nb.push(d.B(d.UM,this,null));this.Qa=0;this.eB=[]}j(){for(const a of this.nb)a.j();d.F(this.nb);d.F(this.eB);this.g=this.ya=null}na(){return this.ya}I(){return this.g}rf(){return this.nb[this.Qa]}Sa(a){var b=this.nb;const e=++this.Qa;if(e===b.length)return a=d.B(d.UM,this,a),b.push(a),a;b=b[e];b.rd(a);return b}Oa(){--this.Qa}m4(a){this.eB.push(a)}b4(){this.eB.pop()}L_(){const a=this.eB;
return 0===a.length?null:a.ke(-1)}}}
{"use strict";const d=self.D;d.UM=class extends d.ja{constructor(a,b){super();this.nb=a;this.g=this.nb.I();this.Fv=b;this.kg=this.Rl=0;this.yI=this.Tp=!1;this.DI=null;this.LI=this.RT=0}j(){this.rd(null);this.g=this.nb=null}rd(a){this.Fv=a;this.kg=this.Rl=0;this.yI=this.Tp=!1}kH(a,b){this.Fv=a;this.Rl=0;this.kg=b}mP(){this.kg=this.Rl=0}Jb(){return this.Fv}Ng(a){this.Fv=a}dn(a){this.Rl=a}Bz(a){this.kg=a}hn(a){this.Tp=!!a}lr(a){this.yI=!!a}v5(a){this.DI=a}x1(a,b){this.RT=a;this.LI=b}Hz(a){this.LI=a}fk(){const a=
this.Fv;return a.SB?!0:this.Rl<a.ac.length-1?!!a.Fd().length:!1}}}{"use strict";const d=self.D;d.L2=class extends d.ja{constructor(a){super();this.ya=a;this.g=this.ya.I();this.nb=[];this.Qa=-1;this.hj=null;this.yB=[]}j(){d.F(this.nb);this.g=this.ya=null}tca(a){this.yB=a;a=this.yB.slice(0);this.nb.push(a);this.Qa=0;this.hj=a}na(){return this.ya}I(){return this.g}Iq(){return this.hj}Sa(){const a=++this.Qa,b=this.nb;a===b.length?b.push(this.yB.slice(0)):d.Vc(b[a],this.yB);this.hj=b[a]}Oa(){this.hj=this.nb[--this.Qa]}}}
{"use strict";const d=self.D;d.N2=class extends d.ja{constructor(a){super();this.ya=a;this.g=this.ya.I();this.nb=[];this.Qa=-1}j(){d.F(this.nb);this.g=this.ya=null}na(){return this.ya}I(){return this.g}cO(){return 0<=this.Qa}Iq(){return this.nb[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.nb.length){var a=d.B(d.M2,this);this.nb.push(a);return a}a=this.nb[this.Qa];a.rd();return a}Oa(){--this.Qa}r_(a){const b=this.nb;for(let e=this.Qa;0<=e;--e){const c=b[e];if(c.Ba()===a)return c}return null}}}
{"use strict";const d=self.D;d.M2=class extends d.ja{constructor(a){super();this.If=a;this.Ja="";this.Qa=0;this.yc=!1}rd(){this.Ja="";this.Qa=0;this.yc=!1}Jz(a){this.Ja=a}Ba(){return this.Ja}Lc(a){this.Qa=a}Ia(){return this.Qa}yf(){this.yc=!0}}}{"use strict";const d=self.D;d.PX=class extends d.ja{constructor(){super();this.nb=[];this.Qa=-1}j(){d.F(this.nb)}Iq(){return this.nb[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.nb.length){const a=[];this.nb.push(a);return a}return this.nb[this.Qa]}Oa(){--this.Qa}}}
{"use strict";const d=self.D;function a(b,e){return b.Ia()-e.Ia()}d.l_=class extends d.ja{constructor(b){super();this.g=b;this.lv=[];this.sK=new Map;this.OH=[];this.VT=new Map;this.dI=new Map;this.kI=new Map;this.yA=new Map;this.gT=new Map;this.BI=new Map;this.Cea=0;this.NH=[];this.wda=[];this.LU=[];this.JI=new Map;this.Rd=d.B(d.m_,this);this.Bd=d.B(d.L2,this);this.If=d.B(d.N2,this);this.LK=[];this.BC=[];this.AC=[];this.cI=this.Wl=this.tm=0;this.ug=[];this.FA=[];self.c3_callFunction=(e,c)=>this.eA(e,
c)}j(){this.by();this.Rd.j();this.Rd=null;this.Bd.j();this.Bd=null;d.F(this.BC);d.F(this.AC);this.g=null;d.F(this.lv);this.sK.clear()}Ra(b){b=d.B(d.k_,this,b);this.lv.push(b);this.sK.set(b.Ba().toLowerCase(),b)}v7(b){this.LK.push(b)}Qb(){for(const b of this.JI.values())b.Qb(!1);for(const b of this.lv)b.Qb();for(const b of this.lv)b.AH();for(const b of this.LK)b.Qb(!1);d.F(this.LK);this.Bd.tca(this.LU)}I(){return this.g}jN(b){return this.sK.get(b.toLowerCase())||null}bba(b){this.OH.push(b);this.VT.set(b.UT,
b)}Zaa(b){this.dI.set(b.kb,b)}Yaa(b){this.kI.set(b.kb,b)}Xaa(b){this.yA.set(b.kb,b)}aba(b){this.JI.set(b.oB.toLowerCase(),b)}$aa(b){this.BI.set(b.kb,b);b.gg()?this.NH.push(b):this.wda.push(b)}Xz(b){2<=b.length&&b.sort(a);let e=this.gT.get(b.length);e||(e=[],this.gT.set(b.length,e));for(let h=0,m=e.length;h<m;++h){const g=e[h];a:{for(let k=0,n=b.length;k<n;++k)if(b[k]!==g[k]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}C9(b){this.LU.push(b.mb);return this.Cea++}qd(){return this.Rd}qf(){return this.qd().rf()}Jb(){return this.qf().Jb()}Xf(){const b=
this.qf();return b.Jb().eN(b.Rl)}Kt(){const b=this.qf();return b.Jb().aN(b.kg)}A_(b){const e=[];for(b=b.Oq();b;)d.eo(e,b.hR()),b=b.Oq();return e}tR(b){const e={};for(const c of this.A_(b))e[c.Ji()]=c.xR();return Object.create(Object.prototype,e)}BE(b){return this.BI.get(b)||null}Q_(b){return this.dI.get(b)||null}y_(b){return this.yA.get(b)||null}Fy(b){return this.JI.get(b.toLowerCase())||null}G4(){for(const b of this.NH)b.M4()}iN(b){return this.VT.get(b.toLowerCase())||null}R_(b){return(b=this.dI.get(b))&&
b.rj?b:null}H4(){for(const b of this.OH)b.J4()}sS(){for(const b of this.lv)b.qba()}R4(b){this.sS();this.tm++;for(const e of b.Ox())if(b=e.ed)this.g.iu(e),b.ta(),this.g.hu();this.tm--}async TY(b){this.sS();this.tm++;for(const e of this.s8(b))await this.g.Fq(e);this.tm--}*s8(b){for(const e of b.Ox())if(b=e.ed)this.g.iu(e),yield*b.pb(),this.g.hu()}hv(b,e,c,h){let m=!1;if(!b.Tb())return this.zF(e,c,h);this.Wl++;for(const g of b.Ox())if(b=g.ed){this.g.iu(g);for(const k of b.WA){const n=k.hv(e,c,h);m=m||
n}b=b.hv(e,c,h);m=m||b;this.g.hu()}this.Wl--;return m}*Iu(b,e,c,h){let m=!1;if(!b.Tb())return this.zF(e,c,h);this.Wl++;for(const g of b.Ox())if(b=g.ed){this.g.iu(g);for(const k of b.WA){const n=yield*k.Iu(e,c,h);m=m||n}b=yield*b.Iu(e,c,h);m=m||b;this.g.hu()}this.Wl--;return m}zF(b,e,c){this.BC.push([b,e,c]);return!1}p4(b,e,c){let h=null;const m=new Promise(g=>h=g);this.AC.push([b,e,c,h]);return m}*Aba(){if(this.g.Zt())throw Error("should not be in breakpoint");const b=this.g.eb;for(;this.AC.length;){const [e,
c,h,m]=this.AC.shift(),g=yield*this.Iu(b,e,c,h);m(g)}}async oP(){for(const b of this.Aba())await this.g.Fq(b)}lF(){return 0<this.Wl}Mu(){return++this.Wl}Ju(){--this.Wl}p2(){return 0<this.tm}hz(){return this.p2()||this.lF()}Bba(b){for(const [e,c,h]of this.BC)this.hv(b,e,c,h);d.F(this.BC)}He(b){b?this.cI++:this.cI--}bO(){return 0<this.cI}Cq(b){for(let e=0,c=b.length;e<c;++e)b[e].Nn.Ed()}Lg(b){for(let e=0,c=b.length;e<c;++e)b[e].Nn.k4()}Oe(b){for(let e=0,c=b.length;e<c;++e)b[e].Nn.l4()}Pb(b){for(let e=
0,c=b.length;e<c;++e)b[e].Nn.Oa()}PD(){const b=d.B(d.NF,this);this.ug.push(b);return b}T4(){if(this.ug.length){var b=this.qf(),e=!1;this.tm++;for(let c=0,h=this.ug.length;c<h;++c){const m=this.ug[c];m.RS()&&m.sba(b);m.Tw&&(e=!0)}e&&this.dR();this.tm--}}async VY(){if(this.ug.length){var b=this.qf(),e=!1;this.tm++;for(let c=0,h=this.ug.length;c<h;++c){const m=this.ug[c];m.RS()&&await m.m8(b);m.Tw&&(e=!0)}e&&this.dR();this.tm--}}dR(){const b=d.gfa(this.ug,e=>e.Tw);for(const e of b)e.j()}by(){for(const b of this.ug)b.j();
d.F(this.ug)}x4(b){for(const e of this.ug)e.Vo(b)}MD(b){this.FA.push(b)}ey(){d.F(this.FA)}C0(){const b=Promise.all(this.FA);this.FA=[];return b}la(){return{groups:this.Iba(),cnds:this.Hba(),acts:this.Gba(),vars:this.Uba(),waits:this.Qba()}}qa(b){this.w$(b.groups);this.q$(b.cnds);this.p$(b.acts);this.J$(b.vars);this.F$(b.waits)}Iba(){const b={};for(const e of this.OH)b[e.kb.toString()]=e.Uq();return b}w$(b){for(const [e,c]of Object.entries(b))(b=this.R_(parseInt(e,10)))&&b.mr(c)}Hba(){const b={};for(const [e,
c]of this.kI){const h=c.la();h&&(b[e.toString()]=h)}return b}q$(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.kI)h.qa(e.get(c)||null)}Gba(){const b={};for(const [e,c]of this.yA){const h=c.la();h&&(b[e.toString()]=h)}return b}p$(b){const e=new Map;for(const [c,h]of Object.entries(b))e.set(parseInt(c,10),h);for(const [c,h]of this.yA)h.qa(e.get(c)||null)}Uba(){const b={};for(const [e,c]of this.BI)c.yb||!c.gg()&&!c.di||(b[e.toString()]=c.Ac());return b}J$(b){for(const [e,
c]of Object.entries(b))(b=this.BE(parseInt(e,10)))&&b.Re(c)}Qba(){return this.ug.filter(b=>!b.n2()).map(b=>b.la())}F$(b){this.by();for(const e of b)(b=d.NF.R7(this,e))&&this.ug.push(b)}nE(b){for(;b;)if(b=b.Oq(),b instanceof d.Ft)return b;return null}eA(b,e){Array.isArray(e)||(e=[]);b=this.Fy(b.toLowerCase());if(!b)return null;if(!b.Kh())return b.Mt();var c=b.hh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].mb);while(e.length<c.length)}c=b.Le();return c.HF(c.Gd(),b.qm,b.Mt(),...e)}}}
{"use strict";const d=self.D;d.k_=class extends d.ja{constructor(a,b){super();this.ya=a;this.g=a.I();this.Ja=b[0];this.dB=[];this.aD=new Map;this.LT=new Map;this.Zda=new Map;this.Uv=!1;this.oV=[];this.WA=[];this.hT=new Set;for(const e of b[1])this.NQ(e,null,this.dB);this.wj=this.g.zb?{type:"sheet",name:this.Ja,Px:0,children:[]}:null}j(){this.g=this.ya=null}NQ(a,b,e){switch(a[0]){case 0:case 3:this.P7(a,b,e);break;case 1:this.Q7(a,b,e);break;case 2:this.U7(a,b,e);break;case 4:this.S7(a,b);break;case 5:this.Z7(a,
b,e);break;default:throw Error("invalid event type");}}P7(a,b,e){a=d.gl.Ra(this,b,a);if(a.Td){e.push(a);e=a.ac;for(let c=0,h=e.length;c<h;++c)e[c].Oo()&&this.IR(a,c)}else a.Oo()?this.IR(a,0):e.push(a)}S7(a,b){a=d.Ft.Ra(this,b,a);this.ya.aba(a)}Q7(a,b,e){a=d.ty.Ra(this,b,a);e.push(a)}U7(a,b,e){a=d.TM.Ra(this,b,a);e.push(a)}Z7(a,b,e){a=d.ry.Ra(this,b,a);e.push(a)}IR(a,b){a.Td||this.ya.v7(a);var e=a.eN(b),c=e.La,h=e.J();if(e.rU){var m=this.LT.get(h);m||(m=new Map,this.LT.set(h,m));e=e.V_().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(e);c||(c=[],h.set(e,c));c.push([a,b])}else m=this.aD.get(h),m||(m={GL:new Map,wx:new Map},this.aD.set(h,m)),(h=e.Hg())?(e=m.wx.get(h),e||(e=new Map,m.wx.set(h,e))):e=m.GL,m=e.get(c),m||(m=[],e.set(c,m)),m.push([a,b])}Qb(){const a=this.dB;for(let b=0,e=a.length;b<e;++b)a[b].Qb(b<e-1&&a[b+1]instanceof d.gl&&a[b+1].gz())}u7(a){this.oV.push(a)}AH(){d.F(this.WA);this.uQ(this);this.hT.clear()}uQ(a){const b=a.WA,e=a.hT;for(const c of this.oV){const h=c.Zv;c.Lb&&
a!==h&&!e.has(h)&&(e.add(h),h.uQ(a),b.push(h))}}na(){return this.ya}I(){return this.g}Ba(){return this.Ja}mS(a,b){this.Zda.set(b,a)}qba(){this.Uv=!1}ta(){if(!this.Uv){var a=this.g,b=a.dF(),e=b?performance.now():0;this.Uv=!0;var c=this.na(),h=c.qf();for(const m of this.dB)m.ta(h),c.Cq(m.Fd()),c.ey(),a.Yd();h.rd(null);b&&(this.wj.Px+=performance.now()-e)}}*pb(){if(!this.Uv){this.Uv=!0;var a=this.g,b=this.na(),e=b.qf();for(const c of this.dB)yield*c.pb(e),b.Cq(c.Fd()),b.ey(),a.Yd();e.rd(null)}}hv(a,
b,e){if(b){const c=b.J();this.yH(a,b,c,e);for(const h of c.Zh)this.yH(a,b,h,e)}else return this.yH(a,b,null,null)}yH(a,b,e,c){e=this.aD.get(e);if(!e)return!1;c=c?e.wx.get(c):e.GL;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [h,m]of c)c=this.cR(b,h,m),a=a||c;return a}*Iu(a,b,e){if(b){const c=b.J();yield*this.EG(a,b,c,e);for(const h of c.Zh)yield*this.EG(a,b,h,e)}else return yield*this.EG(a,b,null,null)}*EG(a,b,e,c){e=this.aD.get(e);if(!e)return!1;c=c?e.wx.get(c):e.GL;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [h,m]of c)c=h.Ie()?this.cR(b,h,m):yield*this.g8(b,h,m),a=a||c;return a}cR(a,b,e){const c=this.g,h=this.ya,m=h.Jb(),g=h.qd(),k=h.Wl;let n=!1;m&&h.Lg(m.Gd());h.Lg(b.Gd());const p=1<k;p&&h.Bd.Sa();const q=g.Sa(b);a&&(b.ac[e].J().V().nk(a),a.Zb()&&a.Vi());a=!0;if(b.Ha()){const u=b.rq;for(let w=0,r=u.length;w<r;++w)if(!u[w].nP(q)){a=!1;break}}a&&(c.ul(),b.Td?b.S4(q,e):b.ta(q),n=q.Tp);g.Oa();p&&h.Bd.Oa();h.Pb(b.Gd());m&&h.Pb(m.Gd());m||1!==k||(h.ey(),h.bO()||c.Yd());return n}*g8(a,
b,e){const c=this.g,h=this.ya,m=h.Jb(),g=h.qd(),k=h.Wl;let n=!1;m&&h.Lg(m.Gd());h.Lg(b.Gd());const p=1<k;p&&h.Bd.Sa();const q=g.Sa(b);a&&(b.ac[e].J().V().nk(a),a.Zb()&&a.Vi());a=!0;if(b.Ha()){const u=b.rq;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].KM(q))){a=!1;break}}a&&(c.ul(),b.Td?yield*b.UY(q,e):yield*b.pb(q),n=q.Tp);g.Oa();p&&h.Bd.Oa();h.Pb(b.Gd());m&&h.Pb(m.Gd());m||1!==k||(h.ey(),h.bO()||c.Yd());return n}}}
{"use strict";const d=self.D,a=[];function b(){return!0}function*e(){return!0}d.gl=class extends d.ja{constructor(c,h,m){super();this.ed=c;this.g=c.I();this.Fc=h;this.ge=null;this.Rd=this.g.na().qd();this.gf=[];this.Ns=[];this.Rv=this.UB=this.SB=this.$T=!1;this.Td=!!m[2];this.IB=!1;this.rq=null;this.ac=[];this.Ub=[];this.oi=[];this.aj=b;this.jp=e;this.lJ=this.rj=!1;this.UT="";this.KB=!1;this.wj=this.UA=null;this.kb=m[4];this.cs=m[5];this.ed.mS(this,this.cs);this.Ua=this.g.zb?{md:m[3][0],BL:m[3][1],
dW:!1,hL:!1,iL:!1,eW:!1}:null;this.na().Zaa(this);3===m[0]&&this.X9(m[1]);c=0;for(var g of m[6])h=d.yM.Ra(this,g,c++),this.ac.push(h),this.zQ(h.J());c=0;for(const k of m[7])g=d.Tx.Ra(this,k,c++),this.Ub.push(g);if(9===m.length){m=m[8];for(const k of m)this.ed.NQ(k,this,this.oi)}this.ac.length&&(this.IB=null===this.ac[0].J()&&this.ac[0].La===d.C.Ka.G.SM);0===this.ac.length&&(this.ac=a);0===this.Ub.length&&(this.Ub=a);0===this.oi.length&&(this.oi=a)}static Ra(c,h,m){return d.B(d.gl,c,h,m)}X9(c){this.rj=
!0;this.KB=this.lJ=!!c[0];this.UT=c[1].toLowerCase();this.UA=[];this.na().bba(this);this.g.zb&&(this.wj={type:"group",name:c[1],Px:0,children:[]})}m7(c){this.UA.push(c)}tQ(c,h){for(const m of c.bh.nm)h.includes(m)||h.push(m)}AQ(c,h){if(c)if(h.includes(c)||h.push(c),c.ab)for(const m of c.Ep)m.Zb()&&this.tQ(m,h);else c.Zb()&&this.tQ(c,h)}zQ(c){this.AQ(c,this.gf)}q7(c){this.AQ(c,this.Ns)}e5(){this.gf=this.g.$c}Qb(c){this.Rv=!!c;this.R9();this.S9();for(const m of this.ac)m.Qb();if(0<this.Ub.length){c=
!1;for(var h of this.Ub)h.Qb(),h.a1()&&(c=!0);c?(this.aj=this.uba,this.jp=this.o8):(this.aj=this.tba,this.jp=this.n8)}h=this.oi;for(let m=0,g=h.length;m<g;++m)h[m].Qb(m<g-1&&h[m+1]instanceof d.gl&&h[m+1].gz());this.Ua&&this.eda();this.wj&&this.E9().wj.children.push(this.wj)}E9(){let c=this.Ha();for(;c;){if(c.rj)return c;c=c.Ha()}return this.ed}eda(){const c=this.Ua;c.dW=this.ac.every(h=>h.Ie());c.hL=this.Ub.every(h=>h.Ie());c.iL=this.oi.every(h=>h.Ie());c.eW=c.dW&&c.hL&&c.iL}R9(){if(this.rj){var c=
this.Ha();for(this.UB=!0;c;){if(!c.rj){this.UB=!1;break}c=c.Ha()}}}Q9(){var c=this.g.$c;if(this.gf===c)this.Ns=c;else{this.Ns=d.lL(this.gf);for(c=this.Ha();c;){for(var h of c.gf)this.q7(h);c=c.Ha()}h=this.na();this.gf=h.Xz(this.gf);this.Ns=h.Xz(this.Ns)}}S9(){if(this.T0()){this.rq=[];for(var c=this.Ha();c;)this.rq.push(c),c=c.Ha();this.rq.reverse()}}xu(){this.SB=!0;this.Fc&&this.Fc.xu()}Fd(){return this.gf}Gd(){this.$T||(this.$T=!0,this.Q9());return this.Ns}c1(c){return this.gf.includes(c)}na(){return this.ed.na()}I(){return this.g}Ha(){return this.Fc}Fca(c){this.ge=
c}Oq(){return this.ge||this.Fc}fF(){return this.Ua&&this.Ua.BL}Lo(){return this.fF()&&this.Ua.md}gz(){return this.IB}Uq(){return this.KB}J4(){this.mr(this.lJ)}mr(c){c=!!c;if(!this.rj)throw Error("not a group");if(this.KB!==c){this.KB=c;for(const h of this.UA)h.kQ();this.UA.length&&(c=this.g.Na().ed)&&c.AH()}}Oo(){return this.ac.length&&this.ac[0].Oo()}i2(){return this.ge&&this.ge instanceof d.Ft}T0(){return this.i2()||this.ac.some(c=>c.Oo())}eN(c){c=Math.floor(c);if(0>c||c>=this.ac.length)throw new RangeError("invalid condition index");
return this.ac[c]}h2(c){let h=c.Ia();if(0===h)return!0;for(--h;0<=h;--h)if(this.ac[h].J()===c.J())return!1;return!0}aN(c){c=Math.floor(c);if(0>c||c>=this.Ub.length)throw new RangeError("invalid action index");return this.Ub[c]}P9(c){c=Math.floor(c);return 0<=c&&c<this.Ub.length}hR(){return this.oi.filter(c=>c instanceof d.ty)}nP(c){c.Ng(this);let h=!1;const m=this.ac;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.dn(g);if(n.MB)throw Error("trigger cannot be used as sub-event to a loop");if(n.ta())h=
!0;else if(!this.Td)return!1}return this.Td?h:!0}S4(c,h){c.Ng(this);this.ac[h].ta()&&(this.aj(c,0)&&this.Ll(),c.hn(!0))}*KM(c){c.Ng(this);let h=!1;const m=this.ac;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.dn(g);if(n.MB)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ie()?n.ta():yield*n.pb())h=!0;else if(!this.Td)return!1}return this.Td?h:!0}*UY(c,h){c.Ng(this);h=this.ac[h];if(h.Ie()?h.ta():yield*h.pb())(this.ky()?this.aj(c,0):yield*this.jp(c,0))&&(this.ly()?this.Ll():yield*this.Hu()),
c.hn(!0)}ta(c){c.Ng(this);this.IB||c.lr(!1);this.Td?this.zba(c):this.jA(c)}*pb(c){if(this.Lo()||this.g.uc())yield this;c.Ng(this);this.IB||c.lr(!1);this.Td?yield*this.z8(c):yield*this.BG(c)}zba(c){const h=this.ac;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.Oo()||(c.dn(k),g=g.ta(),m=m||g)}c.hn(m);m&&(this.aj(c,0)&&this.Ll(),this.Rv&&c.lr(!0))}*z8(c){const h=this.ac;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.Oo()||(c.dn(k),g=g.Ie()?g.ta():yield*g.pb(),m=m||g)}c.hn(m);
m&&((this.ky()?this.aj(c,0):yield*this.jp(c,0))&&(this.ly()?this.Ll():yield*this.Hu()),this.Rv&&c.lr(!0))}jA(c){const h=this.ac;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.dn(m);if(!k.ta()){c.hn(!1);return}}c.hn(!0);this.aj(c,0)&&this.Ll();c.Tp&&this.Rv&&c.lr(!0)}*BG(c){const h=this.ac;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.dn(m);if(k.Ie()?!k.ta():!(yield*k.pb())){c.hn(!1);return}}c.hn(!0);(this.ky()?this.aj(c,0):yield*this.jp(c,0))&&(this.ly()?this.Ll():yield*this.Hu());c.Tp&&this.Rv&&
c.lr(!0)}tba(c,h){const m=this.Ub;for(let g=h,k=m.length;g<k;++g)h=m[g],c.Bz(g),h.ta();return!0}*n8(c,h){const m=this.Ub;for(let g=h,k=m.length;g<k;++g)h=m[g],c.Bz(g),h.Ie()?h.ta():yield*h.pb();return!0}uba(c,h){const m=this.na(),g=this.Ub;for(let k=h,n=g.length;k<n;++k){h=g[k];c.Bz(k);const p=h.ta();if(h.rM()&&!0===p)return!1;h.Kg()&&p instanceof Promise&&m.MD(p)}return!0}*o8(c,h){const m=this.na(),g=this.Ub;for(let k=h,n=g.length;k<n;++k){h=g[k];c.Bz(k);let p;p=h.Ie()?h.ta():yield*h.pb();if(h.rM()&&
!0===p)return!1;h.Kg()&&p instanceof Promise&&m.MD(p)}return!0}rba(c){this.aj(c,c.kg)&&this.Ll()}*l8(c){if(yield*this.jp(c,c.kg))yield*this.Hu()}Ll(){if(this.oi.length){var c=this.rj&&this.g.dF(),h=c?performance.now():0,m=this.Rd,g=m.Sa(this);this.SB?this.Eba(g):this.Dba(g);m.Oa();c&&(this.wj.Px+=performance.now()-h)}}Eba(c){const h=this.rj,m=this.UB,g=this.na(),k=this.oi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.Fd(),r=!m||!h&&n<q;r&&g.Oe(w);u.ta(c);r?g.Pb(w):g.Cq(w)}}Dba(c){const h=
this.oi;for(let m=0,g=h.length;m<g;++m)h[m].ta(c)}*Hu(){if(this.oi.length){var c=this.Rd,h=c.Sa(this);this.SB?yield*this.C8(h):yield*this.B8(h);c.Oa()}}*C8(c){const h=this.rj,m=this.UB,g=this.na(),k=this.oi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.Fd(),r=!m||!h&&n<q;r&&g.Oe(w);yield*u.pb(c);r?g.Pb(w):g.Cq(w)}}*B8(c){const h=this.oi;for(let m=0,g=h.length;m<g;++m)yield*h[m].pb(c)}Mg(c,h){this.g.ul();h.mP();const m=this.ac;if(!this.Td)for(let g=c.Rl+1,k=m.length;g<k;++g)if(c=m[g],h.dn(g),
!c.ta())return!1;this.aj(h,0)&&this.Ll();return!0}*Fg(c,h){this.g.ul();h.mP();const m=this.ac;if(!this.Td)for(let g=c.Rl+1,k=m.length;g<k;++g)if(c=m[g],h.dn(g),c.Ie()?!c.ta():!(yield*c.pb()))return!1;(this.ky()?this.aj(h,0):yield*this.jp(h,0))&&(this.ly()?this.Ll():yield*this.Hu());return!0}Ie(){return!this.Lo()&&!this.g.uc()&&this.Ua.eW}ky(){return!this.g.uc()&&this.Ua.hL}ly(){return!this.g.uc()&&this.Ua.iL}uG(c){if(this.Ha()){const h=this.rq;for(let m=0,g=h.length;m<g;++m)if(!h[m].nP(c))return!1}return!0}*OQ(c){if(this.Ha()){const h=
this.rq;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].KM(c)))return!1}return!0}bR(c,h,m){0<h.length?m?(h=h.map(g=>g.ca(0)),c.Bd.Sa(),this.ge.su(h)):this.ge.j_(h):m&&c.Bd.Sa()}P4(c,h){let m,g;const k=0<c.length;var n=this.g;const p=this.Rd,q=n.na(),u=1<q.Mu();this.bR(q,h,u);k&&q.Lg(c);h=p.Sa(this);this.uG(h)&&(n.ul(),h.Ng(this),(n=this.ge.Kg())&&([g,m]=this.ge.iG()),this.jA(h),n&&this.ge.du(g));p.Oa();u&&q.Bd.Oa();k&&q.Pb(c);q.Ju();return m}*RY(c,h){let m,g;if(this.Lo()||this.g.uc())yield this;const k=
0<c.length;var n=this.g;const p=this.Rd,q=n.na(),u=1<q.Mu();this.bR(q,h,u);k&&q.Lg(c);h=p.Sa(this);if(yield*this.OQ(h))n.ul(),h.Ng(this),(n=this.ge.Kg())&&([g,m]=this.ge.iG()),yield*this.BG(h),n&&this.ge.du(g);p.Oa();u&&q.Bd.Oa();k&&q.Pb(c);q.Ju();return m}Q4(c){const h=this.Gd(),m=0<h.length,g=this.g,k=this.Rd,n=g.na(),p=1<n.Mu();p&&n.Bd.Sa();this.ge.su(c);m&&n.Lg(h);c=k.Sa(this);this.uG(c)&&(g.ul(),c.Ng(this),this.jA(c));k.Oa();p&&n.Bd.Oa();m&&n.Pb(h);n.Ju()}*SY(c){if(this.Lo()||this.g.uc())yield this;
const h=this.Gd(),m=0<h.length,g=this.g,k=this.Rd,n=g.na(),p=1<n.Mu();p&&n.Bd.Sa();this.ge.su(c);m&&n.Lg(h);c=k.Sa(this);if(yield*this.OQ(c))g.ul(),c.Ng(this),yield*this.BG(c);k.Oa();p&&n.Bd.Oa();m&&n.Pb(h);n.Ju()}HF(c,h,m,...g){let k,n;const p=0<c.length,q=this.g,u=this.Rd,w=q.na(),r=1<w.Mu();r&&w.Bd.Sa();0<g.length&&this.ge.su(g);p&&w.Lg(c);g=u.Sa(this);g.x1(h,m);u.m4(g);q.Ez(!1);this.uG(g)&&(q.ul(),g.Ng(this),(h=this.ge.Kg())&&([n,k]=this.ge.iG()),this.jA(g),h&&this.ge.du(n));q.Ez(!0);u.Oa();u.b4();
r&&w.Bd.Oa();p&&w.Pb(c);w.Ju();return k||g.LI}}}
{"use strict";const d=self.D,a=[];let b=!1;d.ry=class extends d.ja{constructor(e,c,h){super();const m=e.I(),g=e.na();this.ed=e;this.ya=g;this.g=e.I();this.Fc=c;this.La=m.Fh(h[1]);this.cs=h[2];this.ed.mS(this,this.cs);this.Ua=m.zb?{md:h[3][0],BL:h[3][1]}:null}static Ra(e,c,h){return d.B(d.ry,e,c,h)}Qb(){const e=this.La,c=this.g.na().tR(this);this.La=e.bind(null,this.g.oj,c)}Ha(){return this.Fc}Oq(){return this.Fc}fF(){return this.Ua&&this.Ua.BL}Lo(){return this.fF()&&this.Ua.md}gz(){return!1}Fd(){return a}Gd(){return this.Fc?
this.Fc.Gd():a}ta(e){e.Ng(this);this.ya.MD(this.Fba())}async Fba(){try{await this.La()}catch(e){console.error(`Unhandled exception running script %c${this.ed.Ba()}, event ${this.cs}:`,"font-size: 1.2em; font-weight: bold;",e),self.Eg&&self.Eg.vca(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*pb(e){e.Ng(this);if(this.Lo()||this.g.uc())yield this;
this.ta(e)}Ie(){return!this.Lo()&&!this.g.uc()}static O0(){return b}static B5(){b=!0}}}
{"use strict";const d=self.D;d.Ft=class extends d.ja{constructor(a,b,e){super();this.ed=a;this.g=a.I();this.Fc=b;const c=e[1];this.oB=c[0];this.qm=c[1];this.hh=c[2].map(h=>d.ty.Ra(a,this,h));this.Qc=c[3];this.ZI=[];this.bw=c[4];this.yea=0;this.Ev=-1;this.pv=new Map;this.ae=d.gl.Ra(a,b,e);this.ae.Fca(this)}static Ra(a,b,e){return d.B(d.Ft,a,b,e)}Qb(){for(const a of this.hh)a.Qb();this.ae.Qb(!1)}hR(){return this.hh}cba(a){this.ZI.push(a)}j_(a){const b=this.hh;for(let e=0,c=b.length;e<c;++e)b[e].Re(a[e].ca(0))}su(a){const b=
this.hh;for(let e=0,c=b.length;e<c;++e)b[e].Re(a[e])}pY(){return this.hh.map(a=>a.Ac())}Ha(){return this.Fc}Oq(){return this.Fc}Kh(){return this.Qc}Mt(){switch(this.qm){case 0:return null;case 2:return"";default:return 0}}Le(){return this.ae}Kg(){return this.bw}iG(){const a=this.yea++;this.Ev=a;let b;const e=new Promise(c=>b=c);this.pv.set(a,{resolve:b,ML:0});return[a,e]}du(a){const b=this.pv.get(a);0===b.ML&&(b.resolve(),this.pv.delete(a));this.Ev=-1}W3(){this.pv.get(this.Ev).ML++;return this.Ev}O4(a){this.Ev=
a;this.pv.get(a).ML--}}}
{"use strict";const d=self.D,a=[];d.ty=class extends d.ja{constructor(b,e,c){super();const h=b.na();this.ed=b;this.ya=h;this.g=b.I();this.Fc=e;this.Bd=h.Bd;this.Ja=c[1];this.Aa=c[2];this.mb=c[3];this.di=!!c[4];this.yb=!!c[5];this.jea=e instanceof d.Ft;this.kb=c[6];this.pw=this.g.Ji(c[8]);this.Mea=m=>this.Re(m);this.Kea=()=>this.Ac();this.bU=!this.Fc||this.di||this.yb;this.Hc=this.mb;this.KJ=-1;this.UN()&&(this.Hc=this.Hc?1:0);!this.oF()||this.di||this.yb||(this.KJ=h.C9(this));h.$aa(this)}static Ra(b,
e,c){return d.B(d.ty,b,e,c)}Qb(){if(this.oF()&&!this.di&&!this.yb&&!this.jea){const b=this.ya.nE(this);b&&b.cba(this)}}Ba(){return this.Ja}Ji(){return this.pw}Ha(){return this.Fc}Oq(){return this.Ha()}gg(){return!this.Ha()}oF(){return!this.gg()}Ym(){return 0===this.Aa}Oi(){return 1===this.Aa}UN(){return 2===this.Aa}gz(){return!1}Fd(){return a}ta(){!this.oF()||this.di||this.yb||this.Re(this.mb)}Ie(){return!0}*pb(b){this.ta(b)}Re(b){this.Ym()?"number"!==typeof b&&(b=parseFloat(b)):this.Oi()?"string"!==
typeof b&&(b=b.toString()):this.UN()&&(b=b?1:0);this.bU?this.Hc=b:this.Bd.Iq()[this.KJ]=b}Ac(){return this.bU?this.Hc:this.Bd.Iq()[this.KJ]}M4(){this.Hc=this.mb}xR(){return{configurable:!1,enumerable:!0,get:this.Kea,set:this.Mea}}}}
{"use strict";const d=self.D,a=[];d.TM=class extends d.ja{constructor(b,e,c){super();const h=b.na();this.ed=b;this.ya=h;this.g=b.I();this.Fc=e;this.Zv=null;this.dea=c[1];this.Lb=!0}static Ra(b,e,c){return d.B(d.TM,b,e,c)}Qb(){this.Zv=this.ya.jN(this.dea);this.ed.u7(this);let b=this.Ha();for(;b;)b instanceof d.gl&&b.rj&&b.m7(this),b=b.Ha();this.kQ();this.g.zb&&this.ed.wj.children.push(this.Zv.wj)}Ha(){return this.Fc}Fd(){return a}ta(){const b=!!this.Ha(),e=this.g.$c;b&&this.ya.Lg(e);this.Zv.ta();b&&
this.ya.Pb(e)}*pb(){const b=!!this.Ha(),e=this.g.$c;b&&this.ya.Lg(e);yield*this.Zv.pb();b&&this.ya.Pb(e)}Ie(){return!1}kQ(){let b=this.Ha();for(;b;){if(b instanceof d.gl&&b.rj&&!b.Uq()){this.Lb=!1;return}b=b.Ha()}this.Lb=!0}}}
{"use strict";const d=self.D;d.wo=class extends d.ja{constructor(k){super();this.Xb=k;this.g=k.I()}Qb(){}static MY(k,n){return d.B([m,c,h,g,a,b][n[0]],k,n)}};class a extends d.wo{constructor(k,n){super(k);this.Kd=this.g.Ut();this.La=this.g.Fh(n[1]);this.La!==d.C.Ka.jb.random&&this.La!==d.C.Ka.jb.nfa||this.Xb.dG()}Nd(){return this.Kd.sk(this.La,this.Kd)}}class b extends d.wo{constructor(k,n){super(k);this.ms=null;this.oB=n[1];this.Xb.dG()}Qb(){const k=this.g.na();this.ms=k.Fy(this.oB);this.oB=null;
const n=this.ms.Le();this.Sl=[...new Set([...this.Xb.Le().Gd(),...n.Gd()])];this.Sl=k.Xz(this.Sl)}Nd(){const k=this.ms;if(k.Kh())return d.gl.prototype.HF.bind(k.Le(),this.Sl,k.qm,k.Mt());{const n=k.Mt();return()=>n}}}function e(k,n){if(k>=n)return k%n;0>k&&(k<=-n&&(k%=n),0>k&&(k+=n));return k}class c extends d.wo{constructor(k,n){super(k);this.L=this.g.sf(n[1]);this.La=this.g.Fh(n[2]);this.Mw=!!n[3];this.Rd=this.g.na().qd();this.Xb.cH(this.L)}Nd(){return this.L.Cb().sk(this.La,this.L.Li().oa)}Wf(){const k=
this.L,n=k.V().CE();var p=n.length;if(0===p)return this.Mw?"":0;p=e(this.Xb.Ms,p);this.Rd.rf().v5(k);return this.La.apply(n[p].oa,[])}}class h extends d.wo{constructor(k,n){super(k);this.L=this.g.sf(n[1]);this.OV=n[3];this.Mw=!!n[2];this.Xb.cH(this.L)}nf(){const k=this.L.V().CE();var n=k.length;if(0===n)return this.Mw?"":0;n=e(this.Xb.Ms,n);return k[n].qR(this.OV)}Hq(){var k=this.L,n=k.V().CE(),p=n.length;if(0===p)return this.Mw?"":0;p=e(this.Xb.Ms,p);n=n[p];k=n.J().DE(k.$h);return n.qR(this.OV+k)}}
class m extends d.wo{constructor(k,n){super(k);this.L=this.g.sf(n[1]);this.bd=this.L.wy(n[2]);this.ej=this.L.It(n[2]);this.La=this.g.Fh(n[3]);this.Mw=!!n[4];this.Rd=this.g.na().qd();this.Xb.cH(this.L)}}class g extends d.wo{constructor(k,n){super(k);this.Fk=null;this.AI=n[1]}Qb(){this.Fk=this.g.na().BE(this.AI)}}}
{"use strict";const d=self.D;d.Ne=class extends d.ja{constructor(A,G,z){super();this.Xb=A;this.Qa=z;this.Aa=G;this.ca=null;this.yb=this.kf=!1}static Ra(A,G,z){const F=G[0];return d.B([b,e,p,h,g,c,k,b,h,h,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Qb(){}dG(){this.kf=!0}cH(A){this.kf||!A||A.Cb().An||(this.kf=!0)}Ia(){return this.Qa}I(){return this.Xb.I()}Le(){return this.Xb.Le()}};function a(A){A=self.eY[A];if(!A)throw Error("invalid expression number");return A}class b extends d.Ne{constructor(A,G,z,F){super(A,
G,z);this.Ms=0;A=F[1];this.CI=A[0];this.Bs=[];this.fB=null;for(let H=1,J=A.length;H<J;++H)this.Bs.push(d.wo.MY(this,A[H]));this.Bs.length?this.ca=this.T_:(this.ca=a(this.CI),this.yb=!0)}Ga(A){if(0>A||A>=this.Bs.length)throw new RangeError("invalid numbered node");return this.Bs[A]}Qb(){for(var A of this.Bs)A.Qb();A=a(this.CI);this.fB=this.Bs.length?A(this):A}T_(A){this.Ms=A;return this.fB()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.ca=this.G0;14===G&&(this.Le().e5(),this.Xb instanceof
d.Tx&&this.Le().xu())}G0(A){this.Ms=A;A=this.fB();return"string"===typeof A?A:""}w9(){return a(this.CI)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.ca=this.aa;this.yb=!1}aa(A){this.Ms=A;A=this.fB();return this.I().Na().aa(A)}}class h extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.Rda=F[1];this.ca=this.K_;this.yb=!0}K_(){return this.Rda}}class m extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.Dda=F[1];this.ca=this.G_;this.yb=!0}G_(){return this.Dda}}class g extends d.Ne{constructor(A,
G,z,F){super(A,G,z);this.L=this.I().sf(F[1]);this.ca=this.J;A=this.Le();A.zQ(this.L);this.Xb instanceof d.Tx?A.xu():A.Ha()&&A.Ha().xu();this.yb=!0}J(){return this.L}}class k extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.jh=this.I().eb.Kq(F[1]);this.ca=this.hc;this.yb=!0}hc(){return this.jh}}class n extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.pi=this.I().Ib.Uy(F[1]);this.ca=this.Bb;this.yb=!0}Bb(){return this.pi}}class p extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.$da=F[1];this.ca=
this.W_;this.yb=!0}W_(){return this.$da}}class q extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.mU=F[1];(A=this.Xb.J())&&A.ab?(this.ca=this.U_,this.dG()):(this.ca=this.h0,this.yb=!0)}h0(){return this.mU}U_(A){A=A||0;const G=this.Xb.J();var z=G.V();const F=z.ka();if(F.length)A=F[A%F.length].J();else if(z.S0())z=z.cc,A=z[A%z.length].J();else if(0<G.H.length)z=G.ka(),A=z[A%z.length].J();else return 0;return this.mU+A.DE(G.$h)}}class u extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.AI=F[1];
this.Fk=null;this.ca=this.S_;this.yb=!0}Qb(){this.Fk=this.I().na().BE(this.AI)}S_(){return this.Fk}}class w extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.PT=F[1];this.ms=null;this.ca=this.b0;this.yb=!0}Qb(){this.ms=this.I().na().Fy(this.PT);this.PT=null}b0(){return this.ms}}class r extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.FK=[];this.PV=[];this.yb=!0;for(let H=1,J=F.length;H<J;++H)A=d.Ne.Ra(this.Xb,F[H],0),this.FK.push(A),this.PV.push(0),A.yb||(this.yb=!1);this.ca=this.M0}Qb(){for(const A of this.FK)A.Qb()}M0(){const A=
this.FK,G=this.PV;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ca(0);return G}}class v extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.Wda=F[1];this.ca=this.Pm;this.yb=!0}Pm(){return this.Wda}}class y extends d.Ne{constructor(A,G,z,F){super(A,G,z);this.Jda=F[1];this.ca=this.J0;this.yb=!0}J0(){return this.Jda}}}
{"use strict";const d=self.D;function a(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].ca(0)}const b=[],e=function(){};d.yM=class extends d.ja{constructor(c,h,m){super();this.ae=c;this.g=c.I();this.Qa=m;this.La=this.g.Fh(h[1]);this.sJ=0<h[3];this.rU=2===h[3];this.MB=!!h[4];this.sj=!!h[5];this.di=!!h[6];this.kb=h[7];this.sU=this.ae.Td;this.bd=this.L=null;this.ej=-1;this.Kd=null;this.pb=this.ta=e;this.Ma=[];this.Ab=[];this.Nl=!1;this.ri=this.Hb=null;this.Ua=this.g.zb?{md:h[8][0],Of:h[8][1]}:null;-1===
h[0]?this.Kd=this.g.Ut():(this.L=this.g.sf(h[0]),h[2]&&(this.bd=this.L.wy(h[2]),this.ej=this.L.It(h[2])),this.ae.Ha()&&this.ae.Ha().xu());if(10===h.length){c=h[9];for(let g of c)this.Ma.push(d.Ne.Ra(this,g,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=b);this.ae.na().Yaa(this)}static Ra(c,h,m){return d.B(d.yM,c,h,m)}Qb(){for(const c of this.Ma)c.Qb(),c.kf&&(this.Nl=!0);this.rU?(this.ta=this.vba,this.pb=this.t8):this.Kd?(this.vH(),this.pb=this.DG):this.L.Cb().An?(this.uH(),
this.pb=this.CG):this.di?(this.ta=this.Cba,this.pb=this.A8):(this.ta=this.yS,this.pb=this.u8)}vH(){this.dv(this.Kd,this.Kd,this.nH)}uH(){const c=this.L.Cb(),h=this.L.Li().oa;this.dv(c,h,this.mH)}dv(c,h,m){const g=this.La,k=this.sj,n=this.Ma;if(0===n.length){const p=c.sk(g,h);this.ta=k?function(){return d.xor(p(),k)}:p}else if(1===n.length){const p=n[0];if(!k&&p.yb)this.ta=c.jR(g,h,p.ca(0));else{const q=c.sk(g,h);this.ta=function(){return d.xor(q(p.ca(0)),k)}}}else if(2===n.length){const p=n[0],q=
n[1];if(!k&&p.yb&&q.yb)this.ta=c.kR(g,h,p.ca(0),q.ca(0));else{const u=c.sk(g,h);this.ta=function(){return d.xor(u(p.ca(0),q.ca(0)),k)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!k&&p.yb&&q.yb&&u.yb)this.ta=c.lR(g,h,p.ca(0),q.ca(0),u.ca(0));else{const w=c.sk(g,h);this.ta=function(){return d.xor(w(p.ca(0),q.ca(0),u.ca(0)),k)}}}else this.ta=m}J(){return this.L}Hg(){return this.bd}Le(){return this.ae}I(){return this.g}Ia(){return this.Qa}fN(){return this.Ia()}Oo(){return this.sJ}Ie(){return!this.Ua.md&&
!this.g.uc()&&!this.Ua.Of}Zj(){this.Hb||(this.Hb=new Map);return this.Hb}Xt(){this.ri||(this.ri=new Map);return this.ri}nH(){const c=this.Ab;a(this.Ma,c);return d.xor(this.La.apply(this.Kd,c),this.sj)}*DG(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.Kd,c);d.Xm(c)&&(c=yield*c);return d.xor(c,this.sj)}return this.ta()}mH(){const c=this.Ab;a(this.Ma,c);const h=this.L.Li().oa;return d.xor(this.La.apply(h,c),this.sj)}*CG(){if(this.Ua.md||this.g.uc())yield this;
if(this.Ua.Of){var c=this.Ab;a(this.Ma,c);const h=this.L.Li().oa;c=this.La.apply(h,c);d.Xm(c)&&(c=yield*c);return d.xor(c,this.sj)}return this.ta()}vba(){return!0}*t8(){if(this.Ua.md||this.g.uc())yield this;return!0}Cba(){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.bd||this.L,c);this.L.fc();return c}*A8(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.bd||this.L,c);d.Xm(c)&&(c=yield*c);this.L.fc();return c}return this.ta()}yS(){const c=this.Ma,
h=this.Ab,m=this.L.V();for(let g=0,k=c.length;g<k;++g){const n=c[g];n.kf||(h[g]=n.ca(0))}return m.Yb?this.wba(m):this.xba(m)}*u8(){if(this.Ua.md||this.g.uc())yield this;return this.yS()}MG(c){const h=this.Ma,m=this.Ab;for(let g=0,k=h.length;g<k;++g){const n=h[g];n.kf&&(m[g]=n.ca(c))}}wba(c){const h=this.L,m=h.ab,g=h.$h,k=this.ej,n=0<=k,p=h.ka(),q=this.Nl,u=this.Ab,w=this.La,r=this.sj,v=this.sU&&!this.sJ;c.cy();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.MG(A);var y=void 0;n?(y=m?z.J().zo(g):
0,y=w.apply(z.ad[k+y].oa,u)):y=w.apply(z.oa,u);d.xor(y,r)?c.mp(z):v&&c.Kl(z)}h.Et(!0);c.re(!1);h.fc();return c.TE()}xba(c){const h=this.L;var m=h.ab;const g=h.$h,k=h.Zb(),n=this.ej,p=0<=n,q=this.Nl,u=this.Ab,w=this.La,r=this.sj,v=this.sU&&!this.sJ,y=c.H,A=c.cc,G=v&&!this.ae.h2(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.MG(M);var J=void 0;p?(J=m?R.J().zo(g):0,J=w.apply(R.ad[n+J].oa,u)):J=w.apply(R.oa,u);d.xor(J,r)?(H=!0,G?(y.push(R),k&&R.Uaa()):(z[F]=R,k&&R.Hca(F),
++F)):G?(z[F]=R,k&&R.Gca(F),++F):v&&(A.push(R),k&&R.Taa())}d.mf(z,F);k&&h.bda(G,F);m=H;G&&!H&&(H=this.Maa(y));h.Et(m||v);return v?H:c.TE()}Maa(c){var h=this.L;const m=h.ab;h=h.$h;const g=this.Nl,k=this.ej,n=0<=k,p=this.Ab,q=this.La,u=this.sj;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.MG(r);if(n){const y=m?w.J().zo(h):0;w=q.apply(w.ad[k+y].oa,p)}else w=q.apply(w.oa,p);if(d.xor(w,u))return!0}return!1}ku(c,h){return this.Ma[c].ca(h)}V_(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].w9()}la(){if(!this.Hb||!this.Hb.size)return null;const c={};for(const [h,m]of this.Hb.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(k=>[k[0].Gc,k[1].Gc,k[2]]));c[h]=g}return{ex:c}}qa(c){this.Hb&&(this.Hb.clear(),this.Hb=null);if(c){var h=this.g,m=c.ex;if(m){c=this.Zj();c.clear();for(const [g,k]of Object.entries(m))m=k,"collmemory"===g&&(m=d.B(d.gu,k.map(n=>[h.Hi(n[0]),h.Hi(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const d=self.D;function a(h,m){for(let g=0,k=h.length;g<k;++g)m[g]=h[g].ca(0)}const b=[],e=function(){},c=function*(){};d.Tx=class extends d.ja{constructor(h,m,g){super();this.ae=h;this.g=h=h.I();this.Qa=g;this.kb=4<=m.length?m[3]:-1;this.xA=5<=m.length?m[4]:0;this.bd=this.L=this.La=null;this.ej=-1;this.Kd=null;this.NA="";this.Sl=this.MA=null;this.pb=this.ta=e;this.Ma=[];this.Ab=[];this.Nl=!1;this.ri=this.Hb=null;const k=(g=-3===m[0])?m[2]:m[5];this.Ua=h.zb||g?{md:k[0],Of:k[1],index:k[2]}:
null;-1===m[0]?(this.Kd=h.Ut(),this.La=h.Fh(m[1])):-2===m[0]?this.NA=m[1]:g?(this.La=h.Fh(m[1]),this.ta=this.IF,this.pb=this.WY,this.xA=1):(this.La=h.Fh(m[1]),this.L=h.sf(m[0]),m[2]&&(this.bd=this.L.wy(m[2]),this.ej=this.L.It(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ma.push(d.Ne.Ra(this,n,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=b);this.ae.na().Xaa(this)}static Ra(h,m,g){return d.B(d.Tx,h,m,g)}Qb(){for(var h of this.Ma)h.Qb(),h.kf&&(this.Nl=!0);if(this.Kd)this.vH(),
this.pb=this.DG;else if(this.NA)this.bca(),this.NA="";else if(this.ta===this.IF){h=this.La;const m=this.g.na().tR(this.ae);this.La=h.bind(null,this.g.oj,m)}else this.bd?this.Kg()?(this.ta=this.wS,this.pb=this.q8):(this.ta=this.vS,this.pb=this.p8):this.L.Cb().An?(this.uH(),this.pb=this.CG):this.Kg()?(this.ta=this.AS,this.pb=this.w8):this.Ma.length?this.Ma.every(m=>m.kf)?(this.ta=this.zS,this.pb=this.v8):this.Nl?(this.ta=this.CS,this.pb=this.y8):this.Ma.every(m=>m.yb)?(a(this.Ma,this.Ab),this.ta=this.lH,
this.pb=this.PQ):(this.ta=this.BS,this.pb=this.x8):(this.ta=this.lH,this.pb=this.PQ)}vH(){this.dv(this.Kd,this.Kd,this.nH)}uH(){const h=this.L.Cb(),m=this.L.Li().oa;this.dv(h,m,this.mH)}bca(){const h=this.ae.na(),m=h.Fy(this.NA);m.Kh()?(this.MA=m.Le(),this.Sl=[...new Set([...this.ae.Gd(),...this.MA.Gd()])],this.Sl=h.Xz(this.Sl),this.ta=d.gl.prototype.P4.bind(this.MA,this.Sl,this.Ma),this.pb=this.r8):(this.ta=e,this.pb=c)}dv(h,m,g){const k=this.La,n=this.Ma;if(0===n.length)this.ta=h.sk(k,m);else if(1===
n.length){const p=n[0];if(p.yb)this.ta=h.jR(k,m,p.ca(0));else{const q=h.sk(k,m);this.ta=function(){return q(p.ca(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.yb&&q.yb)this.ta=h.kR(k,m,p.ca(0),q.ca(0));else{const u=h.sk(k,m);this.ta=function(){return u(p.ca(0),q.ca(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.yb&&q.yb&&u.yb)this.ta=h.lR(k,m,p.ca(0),q.ca(0),u.ca(0));else{const w=h.sk(k,m);this.ta=function(){return w(p.ca(0),q.ca(0),u.ca(0))}}}else this.ta=g}Kg(){return 1===this.xA}rM(){return 2===
this.xA}a1(){return 0!==this.xA}J(){return this.L}Le(){return this.ae}I(){return this.g}Ia(){return this.Qa}fN(){return this.Ua.index}Ie(){return!this.Ua.md&&!this.g.uc()&&!this.Ua.Of}Zj(){this.Hb||(this.Hb=new Map);return this.Hb}Xt(){this.ri||(this.ri=new Map);return this.ri}nH(){const h=this.Ab;a(this.Ma,h);return this.La.apply(this.Kd,h)}*DG(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){const h=this.Ab;a(this.Ma,h);return yield*this.La.apply(this.Kd,h)}return this.ta()}*r8(){if(this.Ua.md||
this.g.uc())yield this;return yield*this.MA.RY(this.Sl,this.Ma)}mH(){const h=this.Ab;a(this.Ma,h);return this.La.apply(this.L.Li().oa,h)}*CG(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){const h=this.Ab;a(this.Ma,h);return yield*this.La.apply(this.L.Li().oa,h)}return this.ta()}lH(){const h=this.Ab,m=this.L.V().ka();for(let g=0,k=m.length;g<k;++g)this.La.apply(m[g].oa,h)}*PQ(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){const h=this.Ab,m=this.L.V().ka();for(let g=0,k=m.length;g<k;++g)yield*this.La.apply(m[g].oa,
h)}else this.lH()}BS(){const h=this.Ab;a(this.Ma,h);const m=this.L.V().ka();for(let g=0,k=m.length;g<k;++g)this.La.apply(m[g].oa,h)}*x8(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){const h=this.Ab;a(this.Ma,h);const m=this.L.V().ka();for(let g=0,k=m.length;g<k;++g)yield*this.La.apply(m[g].oa,h)}else this.BS()}zS(){const h=this.Ma,m=this.Ab,g=this.La,k=this.L.V().ka();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ca(n);g.apply(q.oa,m)}}*v8(){if(this.Ua.md||
this.g.uc())yield this;if(this.Ua.Of){const h=this.Ma,m=this.Ab,g=this.La,k=this.L.V().ka();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ca(n);yield*g.apply(q.oa,m)}}else this.zS()}CS(){const h=this.Ma,m=this.Ab,g=this.La,k=this.L.V().ka();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.kf||(m[p]=n.ca(0))}for(let p=0,q=k.length;p<q;++p){n=k[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.kf&&(m[u]=r.ca(p))}g.apply(n.oa,m)}}*y8(){if(this.Ua.md||this.g.uc())yield this;
if(this.Ua.Of){const m=this.Ma,g=this.Ab,k=this.La,n=this.L.V().ka();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.kf||(g[p]=h.ca(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.kf&&(g[u]=r.ca(p))}yield*k.apply(h.oa,g)}}else this.CS()}vS(){var h=this.L;const m=h.ab,g=h.$h,k=this.Ma,n=this.Nl,p=this.Ab,q=this.La,u=this.ej;h=h.V().ka();for(let v=0,y=k.length;v<y;++v){var w=k[v];w.kf||(p[v]=w.ca(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=k.length;A<
G;++A){var r=k[A];r.kf&&(p[A]=r.ca(v))}r=m?w.J().zo(g):0;q.apply(w.ad[u+r].oa,p)}}*p8(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){var h=this.L;const k=h.ab,n=h.$h,p=this.Ma,q=this.Nl,u=this.Ab,w=this.La,r=this.ej;h=h.V().ka();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.kf||(u[v]=m.ca(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.kf&&(u[A]=g.ca(v))}g=k?m.J().zo(n):0;yield*w.apply(m.ad[r+g].oa,u)}}else this.vS()}AS(){const h=this.Ma,m=this.Ab,
g=this.La,k=this.L.V().ka(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ca(p);n.push(g.apply(u.oa,m))}return Promise.all(n)}*w8(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){const h=this.Ma,m=this.Ab,g=this.La,k=this.L.V().ka(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ca(p);n.push(yield*g.apply(u.oa,m))}return Promise.all(n)}return this.AS()}wS(){var h=this.L;const m=h.ab,g=h.$h,k=this.Ma,n=this.Ab,
p=this.La,q=this.ej;h=h.V().ka();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ca(w);const y=m?v.J().zo(g):0;u.push(p.apply(v.ad[q+y].oa,n))}return Promise.all(u)}*q8(){if(this.Ua.md||this.g.uc())yield this;if(this.Ua.Of){var h=this.L;const m=h.ab,g=h.$h,k=this.Ma,n=this.Ab,p=this.La,q=this.ej;h=h.V().ka();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ca(w);const y=m?v.J().zo(g):0;u.push(yield*p.apply(v.ad[q+
y].oa,n))}return Promise.all(u)}return this.wS()}async IF(){try{await this.La()}catch(h){console.error(`Unhandled exception running script %c${this.ae.ed.Ba()}, event ${this.ae.cs}, action ${this.fN()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.Eg&&self.Eg.vca(this),d.ry.O0()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.ry.B5())}}*WY(){if(this.Ua.md||
this.g.uc())yield this;return this.IF()}la(){return this.Hb&&this.Hb.size?{ex:d.oG(this.Hb)}:null}qa(h){this.Hb&&(this.Hb.clear(),this.Hb=null);h&&(h=h.ex)&&(this.Hb=d.oE(h))}}}
{"use strict";const d=self.D,a=new d.gb;function b(L,O){return d.compare(this.A().N(),L,O)}function e(L,O){return d.compare(this.A().O(),L,O)}function c(){const L=this.A(),O=L.aa();return O.Rq()?L.Vq(O.Dr()):L.dO(O.yg,L.hc().NN(),L.hc().Ef)}function h(){var L=this.A();const O=L.hc();L=L.od();return 0>L.ma||0>L.ga||L.ba>O.S()||L.Y>O.U()}function m(L,O,U){const aa=this.V(),ha=aa.ka();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=d.kW(ja.N(),ja.O(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=d.kW(ja.N(),ja.O(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.$m(ua);return!0}function g(L){const O=this.A();O.N()!==L&&(O.Te(L),O.Ta())}function k(L){const O=this.A();O.O()!==L&&(O.Ue(L),O.Ta())}function n(L,O){const U=this.A();U.mE(L,O)||(U.Ph(L,O),U.Ta())}function p(L,O){if(L&&(L=L.y0(this.fa))){var [U,aa]=L.Rm(O);O=this.A();if(O.N()!==U||O.O()!==aa)O.Ph(U,aa),O.Ta()}}function q(L){if(0!==L){var O=this.A();O.rz(O.wE()*L,O.NE()*L);O.Ta()}}function u(L,O){if(0!==
O){var U=this.A();L=d.wb(L);U.rz(Math.cos(L)*O,Math.sin(L)*O);U.Ta()}}function w(){return this.A().N()}function r(){return this.A().O()}function v(){return this.g.By(this.fa)}function y(L,O){return d.compare(this.A().S(),L,O)}function A(L,O){return d.compare(this.A().U(),L,O)}function G(L){const O=this.A();O.S()!==L&&(O.Se(L),O.Ta())}function z(L){const O=this.A();O.U()!==L&&(O.Pe(L),O.Ta())}function F(L,O){const U=this.A();if(U.S()!==L||U.U()!==O)U.td(L,O),U.Ta()}function H(){return this.A().S()}
function J(){return this.A().U()}function M(){return this.A().od().ba}function P(){return this.A().od().Y}function R(){return this.A().od().ma}function T(){return this.A().od().ga}function Z(L,O){return d.dt(this.A().xa(),d.wb(O))<=d.wb(L)}function X(L){return d.Nf(this.A().xa(),d.wb(L))}function ba(L,O){L=d.wb(L);O=d.wb(O);const U=this.A().xa();return d.Nf(O,L)?d.Nf(U,L)&&!d.Nf(U,O):!(!d.Nf(U,L)&&d.Nf(U,O))}function Y(L){const O=this.A();L=d.Md(d.wb(L));isNaN(L)||O.xa()===L||(O.Ad(L),O.Ta())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.A();O.Ad(O.xa()+d.wb(L));O.Ta()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.A();O.Ad(O.xa()-d.wb(L));O.Ta()}}function ya(L,O){const U=this.A(),aa=U.xa();L=d.eL(aa,d.wb(O),d.wb(L));isNaN(L)||aa===L||(U.Ad(L),U.Ta())}function Na(L,O,U){const aa=this.A(),ha=aa.xa();O-=aa.N();U-=aa.O();L=d.eL(ha,Math.atan2(U,O),d.wb(L));isNaN(L)||ha===L||(aa.Ad(L),aa.Ta())}function Sa(L,O){const U=this.A(),aa=U.xa();L-=U.N();O-=U.O();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Ad(O),U.Ta())}function Ta(){return d.Dg(this.A().xa())}
function Ua(L,O){return d.compare(d.SW(100*this.A().le()),L,O)}function Wa(){return this.A().Wc()}function eb(L){const O=this.A();L=2===L?!O.Wc():0!==L;O.Wc()!==L&&(O.Rg(L),this.g.ea())}function fb(L){L=d.ia(L/100,0,1);const O=this.A();O.le()!==L&&(O.Si(L),this.g.ea())}function Pa(L){a.ot(L);L=this.A();L.hb.Fm(a)||(L.YP(a),this.g.ea())}function Va(){const L=this.A().hb;return d.uz(L.Xa,L.$a,L.Za,L.Ya)}function ib(){return d.SW(100*this.A().le())}function Ya(L){return L?this.A().aa()===L:!1}function vb(L){const O=
this.V(),U=O.ka();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.aa().Ia(),Ga=ka.aa().Ia();if(0===L){if(wa>Ga||wa===Ga&&ua.Jh()>ka.Jh())aa=ja}else if(wa<Ga||wa===Ga&&ua.Jh()<ka.Jh())aa=ja}O.$m(aa);return!0}function wb(L,O,U){const aa=this.A();L=0===L?aa.Va():aa.oe();return d.compare(L,O,U)}function jb(){this.A().i7()}function xb(){this.A().g7()}function yb(L){L&&this.A().h7(L)}function zb(L,O){L=0===L;O&&(O=O.EE(this.Da()))&&this.A().f7(O,
L)}function Ab(L){const O=this.A();O.Va()!==L&&(O.qe(L),this.g.ea())}function Bb(){return this.A().aa().Ia()}function Cb(){return this.A().aa().Ba()}function Db(){return this.A().Jh()}function kb(){return this.A().Va()}function Eb(){return this.A().oe()}function Fb(L,O){if(O=this.J().Pa.kl(O)){O=O.Ia();L=1===L;var U=this.A().pg;U.bu(O)!==L&&(U.AP(O,L),U.Qh(),this.g.ea())}}function Gb(L,O,U){var aa=this.J().Pa.kl(L);if(aa){L=aa.Ia();var ha=this.A().pg,fa=ha.jl(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.dg().My(O);if("color"===aa){a.ot(U);O=fa[O];if(a.Fm(O))return;O.Fj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.bu(L)&&this.g.ea()}}}const lb=d.B(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Gc<U.Gc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Gc<U.Gc?L.uo(O,U):L.uo(U,O)}function qa(L,O,U){return O.Gc<U.Gc?L.ca(O,U):L.ca(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Da();const ha=0!==U||0!==aa,fa=L.A(),ja=L.I(),ua=ja.gj;var ka=ja.Xf();
const wa=ka.Le().Td;var Ga=ka.J();ka=ka.sj;const Ia=O.V();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Yb?(lb.ra(fa.od()),lb.offset(U,aa),ua.vE(fa.aa(),O,lb,mb),O=mb):wa?ja.XN()&&!Ia.cc.length&&Ia.H.length?O=Ia.H:(O=Ia.cc,ob=!0):O=Ia.H;ha&&(db=fa.N(),Ha=fa.O(),fa.rz(U,aa),fa.Ta());for(const da of O)if(ua.mG(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Ph(db,Ha),fa.Ta());d.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.I().Jb().Td;O=Za.V();const U=O.H,aa=O.cc;O.Yb?(O.wu(Qa),L&&(d.F(aa),
O.gM(Qa,Za.ka()))):L?ob?O.A6(Qa):(O.gM(Qa,U),O.wu(Qa)):O.wu(Qa);Za.fc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ve)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.gj,aa=O.na(),ha=aa.qd();var fa=aa.Xf();const ja=fa.J();var ua=fa.Zj(),ka=fa.Xt();fa=ha.rf();const wa=O.Sk,Ga=wa-1,Ia=fa.Jb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.B(d.gu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Fb().addEventListener("instancedestroy",
Ra=>{Ha.MM(Ra.instance)}));O=L.V();ua=ja.V().ka();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Yb?(U.vE(Ea.A().aa(),L,Ea.A().od(),Xa),ka=Xa,U.kM(Ea,L,ka)):ka=O.ka();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.mG(Ea,La)||U.tM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Fd(),aa.Oe(ma),na=ja.V(),da=L.V(),na.re(!1),da.re(!1),ja===L?(da=na.H,d.F(da),da.push(Ea),da.push(La),ja.fc()):(na=na.H,da=da.H,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.fc(),L.fc()),Ia.Mg(fa,db),aa.Pb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Oa();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.gj,aa=O.na(),ha=aa.qd();var fa=aa.Xf();const ja=fa.J();var ua=fa.Zj(),ka=fa.Xt();fa=ha.rf();const wa=O.Sk,Ga=wa-1,Ia=fa.Jb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.B(d.gu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Fb().addEventListener("instancedestroy",Ra=>
{Ha.MM(Ra.instance)}));O=L.V();ua=ja.V().ka();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Yb?(U.vE(Ea.A().aa(),L,Ea.A().od(),Xa),ka=Xa,U.kM(Ea,L,ka)):ka=O.ka();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.mG(Ea,La)||U.tM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Fd(),aa.Oe(ma),na=ja.V(),da=L.V(),na.re(!1),da.re(!1),ja===L?(da=na.H,d.F(da),da.push(Ea),da.push(La),ja.fc()):(na=na.H,da=da.H,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.fc(),L.fc()),yield*Ia.Fg(fa,db),aa.Pb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Oa();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.A().dk()}function rb(){return this.A().vf()}function sb(L,O){const U=this.V().ka();if(0===U.length)return!1;const aa=L.V();var ha=aa.ka();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Kx())wa.Aq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ha(),null===ja)continue}else ja=ja.Vy();ja.Aq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.wu(fa);L.fc();return!0}function tb(L,O){const U=this.V().ka();if(0===U.length)return!1;const aa=L.V();var ha=aa.ka();if(aa.Yb){var fa=[...this.g.xL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.vf()&&ka.Aq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.al())2===O&&wa.vf()||wa.Aq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.wu(fa);L.fc();return!0}function ub(L,O){const U=this.V().ka();if(0===U.length)return!1;const aa=L.V();var ha=aa.ka();if(aa.Yb){var fa=[...this.g.xL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].uE(O);null!==ka&&ka.Aq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.nu(fa);L.fc();return!0}function gb(L,O){return d.compare(this.fa.yy(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.fa,wa=this.g.Kt().J();for(const Ga of L.ZV(ka,wa)){if(!Ga.Cb().CV)break;ka.Lm(Ga,{tt:O,ut:U,xq:aa,wq:ha,qt:fa,wt:ja,yx:ua})}}function l(L){const O=this.fa,U=this.g.Kt().J();for(const aa of L.ZV(O,U))O.ik(aa)}function t(){this.fa.dk()&&this.fa.Ha().ik(this.fa)}function x(){return this.fa.yy()}function B(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.A();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.zz(),U.Ta()):U.eE(L,O)}function C(L,O,U,aa,ha,fa,ja,
ua){const ka=this.A();ka.OP(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Sx:fa,iX:ja,lX:ua})&&ka.Ta()}function E(){const L=this.A();return L.fg()?L.ak().Hk:0}function I(){const L=this.A();return L.fg()?L.ak().Wk:0}function K(L){const O=this.A();L=2===L?!O.Wc():0!==L;O.Wc()!==L&&O.Rg(L)}function N(L,O){this.u5(L,O)}function Q(L,O){this.t5(L,""+O)}function S(L){this.w4(L)}function W(){this.YM()}function V(){this.nM()}function ea(){return this.xI}function ia(L){this.oA(0!==L)}function ca(){return this.Qc}
function oa(L,O,U){return d.compare(this.Da().Me(L),O,U)}function la(L){return!!this.Da().Me(L)}function ra(L,O){const U=this.V(),aa=U.ka();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Me(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Me(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.$m(fa);return!0}function sa(L){if(this.g.Xf().sj){{const aa=this.V();if(aa.Yb){aa.re(!1);aa.cy();var O=this.ka();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Gc===L?aa.Kl(U):aa.mp(U)}this.fc();
L=!!aa.H.length}else{O=aa.H;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Gc===L?aa.Kl(ja):++U}d.mf(O,U);this.fc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.I().Hi(O);if(!O)return!1;const U=L.V();if(!U.Yb&&!U.H.includes(O))return!1;if(L.ab){if(O.J().UD(L))return U.$m(O),L.fc(),!0}else if(O.J()===L)return U.$m(O),L.fc(),!0;return!1}function za(){this.g.Nm(this.fa)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Da().gn(L,O)}function Fa(L,
O){const U=this.Da(),aa=U.Me(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.gn(L,aa+O)}function Ja(L,O){const U=this.Da(),aa=U.Me(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.gn(L,aa-O))}function Ka(L,O){this.Da().gn(L,O?1:0)}function Da(L){const O=this.Da();O.gn(L,0===O.Me(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Da();
L.fA("state");L.Xc(O,"state")}function Ib(){return JSON.stringify(this.Da().sd("state"))}function nc(){return this.Da().J().Ba()}function oc(){const L=this.g.qf().DI;let O=L.H.length;for(const U of this.g.xL(L))++O;return O}function pc(){return this.g.qf().DI.V().ka().length}function qc(){return this.fa.Bo()}function rc(){return this.fa.Gc}d.vX=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.G,da=O.fb,na=O.jb;L[3]&&(ma.Nia=
b,ma.Oia=e,ma.Wka=c,ma.$ka=h,ma.Ema=m,da.Te=g,da.Ue=k,da.Apa=n,da.Bpa=p,da.Pla=q,da.Ola=u,na.Tz=w,na.sQ=r,na.nW=v);aa&&(ma.Mia=y,ma.Aia=A,da.Se=G,da.Pe=z,da.td=F,na.Y6=H,na.f1=J,na.VX=M,na.XX=P,na.WX=R,na.UX=T);ha&&(ma.JX=Z,ma.e2=X,ma.SN=ba,da.Ad=Y,da.moa=va,da.noa=ta,da.ooa=ya,da.poa=Na,da.Dpa=Sa,na.Iha=Ta);fa&&(ma.Wc=Wa,ma.Dia=Ua,da.Rg=eb,da.Si=fb,da.Loa=Pa,na.Opacity=ib,na.tia=Va);ja&&(ma.Rka=Ya,ma.Mma=vb,ma.Pia=wb,da.Sla=jb,da.Qla=xb,da.Rla=yb,da.$qa=zb,da.qe=Ab,na.tla=Bb,na.A2=Cb,na.Zqa=Db,na.Yqa=
kb,na.pqa=Eb);ua&&(da.Noa=Fb,da.s5=Gb);Ia&&(ma.dk=Rb,ma.vf=rb,ma.Kma=sb,ma.Dma=tb,ma.Ima=ub,ma.yia=gb,da.Lm=f,da.ik=l,da.pna=t,na.kia=x);db&&(da.spa=B,da.OP=C,na.Kla=E,na.Lla=I);ka&&(ma.Wc=Wa,da.Rg=K,da.Joa=N,da.Ooa=Q,da.ona=S);wa&&(ma.Bka=ea,da.Roa=W,da.Hoa=V);Ga&&(ma.Kh=ca,da.BP=ia);Ha&&(ma.ema=Nb,ma.ala=Pb,ma.bla=Qb,O.s_=Mb);U||(ma.vM=oa,ma.TN=la,ma.Fma=ra,ma.Cma=sa,da.IP=Ca,da.Dha=Fa,da.gqa=Ja,da.j5=Ka,da.lqa=Da,ma.BO=Aa,ma.m3=Ba,da.OM=za,da.rF||(da.rF=Hb),na.QX||(na.QX=Ib),na.Xia=oc,na.Nma=pc,
na.Yja=qc,na.vqa=rc,na.$la=nc)}}
{"use strict";const d=self.D;d.NF=class extends d.ja{constructor(a){super();this.ya=a;this.Aa="";this.ec=-1;this.Uw="";this.RB=!1;this.lj=null;this.kg=0;this.gf=[];this.jq=new Map;this.Ql=null;this.ov=-1;this.KI=this.hh=null;this.Tw=!1}j(){this.Aa="";this.ec=-1;this.Uw="";this.KI=this.hh=this.Ql=this.lj=null;this.ov=-1;d.F(this.gf);for(const a of this.jq.values())a.j();this.jq.clear()}Wg(){var a=this.ya,b=a.I().$c;const e=a.qf();this.lj=e.Jb();this.kg=e.kg+1;if(a=a.nE(this.lj))this.Ql=a,this.hh=a.pY(),
this.KI=a.ZI.map(c=>c.Ac()),a.Kg()&&(this.ov=a.W3());for(const c of b)if(b=c.V(),!b.Yb||this.lj.c1(c))this.gf.push(c),this.jq.set(c,d.B(d.aQ,b))}W1(a){this.Aa="timer";this.Wg();this.ec=this.ya.I().Ao()+a}U1(a){this.Aa="signal";this.Wg();this.Uw=a.toLowerCase()}I1(a){this.Aa="promise";this.Wg();a.then(()=>this.YF()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.YF()})}t2(){return"timer"===this.Aa}r2(){return"signal"===this.Aa}n2(){return"promise"===
this.Aa}YF(){this.RB=!0}RS(){return this.t2()?this.ec<=this.ya.I().Ao():this.RB}uS(a){a.kH(this.lj,this.kg);for(const [b,e]of this.jq.entries())e.kH(b.V());if(a=this.Ql)a.su(this.hh),a.ZI.map((b,e)=>b.Re(this.KI[e])),a.Kg()&&a.O4(this.ov)}sba(a){this.uS(a);this.lj.rba(a);this.Ql&&this.Ql.Kg()&&this.Ql.du(this.ov);this.ya.Cq(this.gf);this.Tw=!0}async m8(a){this.uS(a);for(const b of this.lj.l8(a))await this.ya.I().Fq(b);this.Ql&&this.Ql.Kg()&&this.Ql.du(this.ov);this.ya.Cq(this.gf);this.Tw=!0}Vo(a){for(const b of this.jq.values())b.Vo(a)}la(){const a=
{},b={t:this.ec,st:this.Uw,s:this.RB,ev:this.lj.kb,sm:this.gf.map(e=>e.kb),sols:a};this.lj.P9(this.kg)&&(b.act=this.lj.aN(this.kg).kb);for(const [e,c]of this.jq)a[e.kb.toString()]=c.la();return b}static R7(a,b){const e=a.I();var c=a.Q_(b.ev);if(!c)return null;let h=0;if(b.hasOwnProperty("act")){var m=a.y_(b.act);if(!m)return null;h=m.Ia()}m=d.B(d.NF,a);m.ec=b.t;m.Aa=-1===m.ec?"signal":"timer";m.Uw=b.st;m.RB=b.s;m.lj=c;m.kg=h;for(var g of b.sm)(c=e.Ly(g))&&m.gf.push(c);for(const [k,n]of Object.entries(b.sols))if(b=
e.Ly(parseInt(k,10)))g=d.B(d.aQ,null),g.qa(a,n),m.jq.set(b,g);return m}}}{"use strict";const d=self.D;d.aQ=class extends d.ja{constructor(a){super();this.L=null;this.QB=!0;this.H=[];a&&(this.L=a.J(),this.QB=a.Yb,d.Vc(this.H,a.H))}j(){this.L=null;d.F(this.H)}kH(a){a.re(this.QB);d.Vc(a.H,this.H)}Vo(a){d.Bg(this.H,a)}la(){return{sa:this.QB,insts:this.H.map(a=>a.Gc)}}qa(a,b){a=a.I();this.QB=!!b.sa;d.F(this.H);for(const e of b.insts)(b=a.Hi(e))&&this.H.push(b)}}}
{"use strict";const d=self.D;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.bn=class extends d.ja{constructor(b){super();this.g=b.Sf;this.An=!!b.yW;this.Ff=!!b.bga;this.nea=!!b.aga;this.xea=!!b.qga;this.aea=!!b.Rfa;this.CV=!!b.Sga;this.Rea=!!b.Rga;this.pV=null;this.nT=new Map;this.Eda=new Map;this.Fda=new Map;this.Gda=new Map}j(){this.g=null}I(){return this.g}Yc(){}Yq(){return this.nea}$q(){return this.xea}UE(){return this.aea}sk(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.nT.get(b);if(c)return c;c=b.bind(e);this.nT.set(b,c);return c}jR(b,e,c){if(!e)throw Error("missing 'this' binding");const h=a(this.Eda,b);let m=h.get(c);if(m)return m;m=b.bind(e,c);h.set(c,m);return m}kR(b,e,c,h){if(!e)throw Error("missing 'this' binding");var m=a(this.Fda,b);m=a(m,c);let g=m.get(h);if(g)return g;g=b.bind(e,c,h);m.set(h,g);return g}lR(b,e,c,h,m){if(!e)throw Error("missing 'this' binding");var g=a(this.Gda,b);g=a(g,c);g=a(g,h);let k=g.get(m);if(k)return k;k=b.bind(e,c,h,
m);g.set(m,k);return k}Ica(b){if(!this.An)throw Error("must be single-global plugin");this.pV=b}Li(){if(!this.An)throw Error("must be single-global plugin");return this.pV.Li()}}}
{"use strict";const d=self.D;d.soa=class extends d.bn{constructor(a,b){super(a);this.wn=b;this.Aea=0;this.$I=new Map;this.fM("elem-focused",e=>e.jaa());this.fM("elem-blurred",e=>{e&&e.iaa()})}j(){super.j()}o7(a){const b=this.Aea++;this.$I.set(b,a);return b}iba(a){this.$I.delete(a)}fM(a,b){this.g.Ai(this.wn,a,e=>{const c=this.$I.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.D;d.hr=class extends d.ja{constructor(a){super();this.L=a;this.g=a.I();this.ji=a.Cb()}j(){this.ji=this.g=this.L=null}J(){return this.L}I(){return this.g}Cb(){return this.ji}Yf(){return this.L.Yf()}Et(){}Zq(){}Uo(){}sz(){}xF(){}$j(){return null}}}
{"use strict";const d=self.D;d.gr=class extends d.ja{constructor(a,b){super();this.fa=a;this.wn=b;this.g=a.I();this.L=this.fa.J();this.Uc=this.L.Uc;this.vm=this.wm=null;this.fm=this.em=!1;this.Id=null;this.tx=!1}j(){this.tx=!0;this.Jr();this.tA();this.vm=this.wm=null;this.Id&&(this.Id.j(),this.Id=null);this.Uc=this.L=this.g=this.fa=null}Rz(){return this.tx}Da(){return this.fa}I(){return this.g}J(){return this.L}Cb(){return this.Uc.Cb()}Pq(){return this.fa.Eh()}wa(a){return this.g.wa(a,this.fa,null)}Nc(a){return this.g.Nc(a,
this.fa,null)}ND(a,b){this.g.Ai(this.wn,a,b)}eM(a){for(const [b,e]of a)this.ND(b,e)}Mh(a,b){this.g.Al(this.wn,a,b)}vz(a,b){return this.g.Qo(this.wn,a,b)}uk(a,b){this.g.we?this.Mh(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.wn,handler:a,data:b,responseId:null})}Ve(){}Cu(){}zk(){this.em||(this.wm||(this.wm=()=>this.Ve()),this.g.Fb().addEventListener("tick",this.wm),this.em=!0)}Jr(){this.em&&(this.g.Fb().removeEventListener("tick",this.wm),this.em=!1)}US(){this.fm||
(this.vm||(this.vm=()=>this.Cu()),this.g.Fb().addEventListener("tick2",this.vm),this.fm=!0)}tA(){this.fm&&(this.g.Fb().removeEventListener("tick2",this.vm),this.fm=!1)}sd(){return null}Xc(){}zc(){}Pg(){}tF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.Pg(a,e+b)}}$j(){return null}hE(a,b,e){const c=this.Pq();a=d.B(d.Event,a,b);a.instance=c;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.D;d.MF=class extends d.gr{constructor(a,b){super(a,b);this.Wa=a.A();this.iD=this.$s=null}j(){if(this.$s){const a=this.g.Fb();a.removeEventListener("webglcontextlost",this.$s);a.removeEventListener("webglcontextrestored",this.iD);this.iD=this.$s=null}this.Wa=null;super.j()}P0(){if(!this.$s){this.$s=()=>this.br();this.iD=()=>this.TO();var a=this.g.Fb();a.addEventListener("webglcontextlost",this.$s);a.addEventListener("webglcontextrestored",this.iD)}}br(){}TO(){}A(){return this.Wa}No(){return!1}Wj(){if(!this.No())throw Error("original size not known");
const a=this.Dh();if(a)return a.S()}Vj(){if(!this.No())throw Error("original size not known");const a=this.Dh();if(a)return a.U()}Dh(){return null}xE(){var a=this.Dh();return a&&(a=a.ne())?[a.S(),a.U()]:[100,100]}yE(){const a=this.Dh();return a?a.bk():null}eF(){const a=this.Dh();return a?a.Rp:!1}Rm(){const a=this.fa.A();return[a.N(),a.O()]}er(){return!0}}}
{"use strict";const d=self.D,a=d.B(d.Rect);d.roa=class extends d.MF{constructor(b,e){super(b,e);this.bB=this.Cb().o7(this);this.qU=!0;this.Ada=this.xI=!1;this.us=d.B(d.Rect,0,0,-1,-1);b=this.g.P;this.HU=b.Ej;this.GU=b.Dj;this.zk()}j(){this.Cb().iba(this.bB);this.cr("destroy");this.bB=-1;super.j()}cr(b,e){e||(e={});e.elementId=this.bB;this.Mh(b,e)}kS(b){b||(b={});b.elementId=this.bB;this.uk("focus",b)}Fz(b){b=!!b;this.qU!==b&&(this.qU=b,this.cr("set-visible",{isVisible:b}))}Ve(){this.hda()}Pca(){const b=
this.g.P.Ey();return"Android"===d.Ob.Lh&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}hda(){var b=this.A();const e=b.aa();var c=b.N(),h=b.O();let [m,g]=e.Po(c,h),[k,n]=e.Po(c+b.S(),h+b.U());c=this.g.P;h=c.Oc;const p=c.Cc;if(b.Wc()&&e.Wc()){if(!this.Pca()){if(0>=k||0>=n||m>=h||g>=p){this.Fz(!1);return}1>m&&(m=1);1>g&&(g=1);k>=h&&(k=h-1);n>=p&&(n=p-1)}a.set(m,g,k,n);b=c.Ej;h=c.Dj;a.yd(this.us)&&this.HU===b&&this.GU===h?this.Fz(!0):(this.us.ra(a),this.HU=b,this.GU=h,this.Fz(!0),b=null,this.Ada&&
(b=e.Rj()-.2),this.cr("update-position",{left:Math.round(this.us.ba)+c.xo(),top:Math.round(this.us.Y)+c.yo(),width:Math.round(this.us.width()),height:Math.round(this.us.height()),fontSize:b}))}else this.Fz(!1)}YM(){this.kS({focus:!0})}nM(){this.kS({focus:!1})}jaa(){this.xI=!0}iaa(){this.xI=!1}u5(b,e){this.cr("set-css-style",{prop:d.gY(b),val:e})}t5(b,e){this.cr("set-attribute",{name:b,val:e})}w4(b){this.cr("remove-attribute",{name:b})}}}
{"use strict";const d=self.D,a=self.h1;d.JF=class extends d.ja{constructor(b){super();this.g=b.Sf;this.SJ=d.B(d.SD);this.mC=d.B(d.SD);this.Vv=null;this.Lea=b.Pta||null}j(){this.mC.j();this.SJ.j();this.g=null}I(){return this.g}Yc(){}p7(b){this.SJ.Ic(b)}tN(){return this.SJ.qE()}Vg(b){this.mC.Ic(b)}np(b){this.mC.uo(b)}ka(){return this.mC.qE()}d0(){if(null===this.Vv){const b=this.Lea;if(b){if(this.Vv=new b(this),!(this.Vv instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Vv=new a(this)}return this.Vv}}}{"use strict";const d=self.D;d.LF=class extends d.ja{constructor(a){super();this.g=a.I();this.bd=a;this.L=a.J();this.dj=a.il();this.dj.p7(this.L)}j(){this.dj=this.L=this.bd=this.g=null}Hg(){return this.bd}J(){return this.L}I(){return this.g}il(){return this.dj}}}
{"use strict";const d=self.D;d.KF=class extends d.ja{constructor(a,b){super();this.JA=a;this.wn=b;this.fa=a.fa;this.g=a.I();this.bd=a.Hg();this.Uc=this.bd.Uc;this.uU=this.fm=this.em=!1;this.Id=null}j(){this.Jr();this.tA();this.Uca();this.Id&&(this.Id.j(),this.Id=null);this.Uc=this.bd=this.g=this.fa=this.JA=null}il(){return this.bd.il()}J(){return this.fa.J()}A(){return this.fa.A()}I(){return this.g}Hg(){return this.bd}Pq(){return this.JA.Pq()}wa(a){return this.g.wa(a,this.fa,this.bd)}Nc(a){return this.g.Nc(a,
this.fa,this.bd)}Ve(){}Cu(){}zk(){this.em||(this.g.j7(this),this.em=!0)}Jr(){this.em&&(this.g.fba(this),this.em=!1)}US(){this.fm||(this.g.k7(this),this.fm=!0)}tA(){this.fm&&(this.g.gba(this),this.fm=!1)}Uca(){this.uU&&(this.g.eba(this),this.uU=!1)}ND(a,b){this.g.Ai(this.wn,a,b)}sd(){return null}Xc(){}zc(){}Pg(){}tF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.Pg(a,e+b)}}$j(){return null}hE(a,b,e){const c=this.Pq();a=d.B(d.Event,a,b);a.kra=c;a.instance=
c.instance;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.D;d.C={};d.rb={};d.Z3=class extends d.ja{constructor(a){super();this.g=a;this.xda=[];this.bV=new Map;this.Kd=null;this.uda=[];this.ZH=new Map;this.AU=this.sV=null}NY(a){const b=this.g.Fh(a[0]);if(!b)throw Error("missing plugin");d.vX(a,b);a=d.B(b,{Sf:this.g,yW:a[1],bga:a[2],aga:a[5],Rfa:a[8],qga:a[9],Sga:a[13],Rga:a[14]});a.Yc();this.xda.push(a);this.bV.set(b,a)}PY(){this.Kd=d.B(d.C.Ka,{Sf:this.g,yW:!0});this.Kd.Yc()}JY(a){a=this.g.Fh(a[1]);if(!a)throw Error("missing behavior");
const b=d.B(a,{Sf:this.g});b.Yc();this.uda.push(b);this.ZH.set(a,b);!this.sV&&d.rb.Pga&&b instanceof d.rb.Pga?this.sV=b:!this.AU&&d.rb.dga&&b instanceof d.rb.dga&&(this.AU=b)}A0(a){return this.bV.get(a)||null}W0(a){return this.ZH.has(a)}C_(a){return this.ZH.get(a)||null}Ut(){return this.Kd}}}
{"use strict";const d=self.D,a=new Set;d.bz=class extends d.ja{constructor(){super();this.Vk="";this.W=this.Z=this.Gw=this.Fw=this.Ls=0;this.Sv=this.Rp=!1;this.Bf=null;this.um="";this.sg=d.B(d.Rect);this.fq=d.B(d.Hd);a.add(this)}j(){this.Qi();this.Bf=null;a.delete(this)}static br(){for(const b of a)b.um="",b.sg.set(0,0,0,0),b.fq.Kj(b.sg)}nO(b){this.Vk=b[0];this.Ls=b[1];this.Fw=b[2];this.Gw=b[3];this.Z=b[4];this.W=b[5];this.Rp=b[6];this.Sv=!0}H2(b,e){if(this.Bf)throw Error("already loaded asset");
this.Vk=e;const c={};d.cF(e)&&(c.Hx="remote");this.mO(b,c);return this.Bf.lO()}F4(b){if(b===this)throw Error("cannot replace with self");this.Qi();this.Vk=b.Vk;this.Ls=b.Ls;this.Fw=b.Fw;this.Gw=b.Gw;this.Z=b.Z;this.W=b.W;this.Rp=b.Rp;this.Sv=b.Sv;this.Bf=b.Bf;this.um=b.um;this.sg=b.sg;this.fq=b.fq}Tm(){return this.Ls}S(){return this.Z}U(){return this.W}mO(b,e){if(this.Bf)throw Error("already got asset");e=Object.assign({},e,{url:this.Vk,size:this.Tm()});this.Bf=b.qz(e)}nF(){return this.Bf&&this.Bf.nF()}async cu(b,
e){if(!this.Bf)throw Error("no asset");if(this.um)throw Error("already loaded texture");this.um="loading";b=await this.Bf.cu(b,e);if(!b)return this.um="",null;this.um="loaded";this.Sv||(this.Z=b.S(),this.W=b.U(),this.Sv=!0);this.sg.set(this.Fw,this.Gw,this.Fw+(this.Rp?this.W:this.Z),this.Gw+(this.Rp?this.Z:this.W));this.sg.Em(b.S(),b.U());this.fq.Kj(this.sg);this.Rp&&this.fq.Fga();return b}Qi(){this.um&&(this.Bf&&this.Bf.Qi(),this.um="",this.sg.set(0,0,0,0),this.fq.Kj(this.sg))}ne(){return this.Bf?
this.Bf.ne():null}bk(){return this.sg}Ty(){return this.fq}}}
{"use strict";const d=self.D;d.LX=class extends d.ja{constructor(a){super();this.Ja=a[0];this.Nea=a[1];this.MB=!!a[2];this.Js=a[3];this.lV=a[4];this.mea=!!a[5];this.kb=a[6];this.Sd=a[7].map(b=>d.B(d.KX,b))}j(){for(const a of this.Sd)a.j();d.F(this.Sd)}E2(a){for(const b of this.Sd)b.Yf().mO(a)}F2(a,b){return Promise.all(this.Sd.map(e=>e.Yf().cu(a,b)))}s4(){for(const a of this.Sd)a.Yf().Qi()}Ba(){return this.Ja}Qm(a){a=Math.floor(a);if(0>a||a>=this.Sd.length)throw new RangeError("invalid frame");return this.Sd[a]}ql(){return this.Nea}Ih(){return this.Js}}}
{"use strict";const d=self.D;d.KX=class extends d.ja{constructor(a){super();this.og=d.B(d.bz);this.og.nO(a);this.ET=a[7];this.ZU=d.B(d.Eu,a[8],a[9]);this.vB=a[10].map(b=>d.B(d.s1,this,b));this.gU=new Map;for(const b of this.vB)this.gU.set(b.Ba().toLowerCase(),b);this.up=null;a=a[11];6<=a.length&&(this.up=d.B(d.to,a))}j(){this.up&&(this.up.j(),this.up=null);this.og.j();this.og=null}Yf(){return this.og}nl(){return this.ZU.T}ol(){return this.ZU.R}f0(a){return this.gU.get(a.toLowerCase())||null}e0(a){a=
Math.floor(a);return 0>a||a>=this.vB.length?null:this.vB[a]}HE(){return this.vB.length}}}{"use strict";const d=self.D;d.s1=class extends d.ja{constructor(a,b){super();this.Ja=b[0];this.hK=d.B(d.Eu,b[1],b[2])}j(){}Ba(){return this.Ja}N(){return this.hK.T}O(){return this.hK.R}}}
{"use strict";const d=self.D,a=self.Eg,b=self.ZE;d.sF=class extends d.ja{constructor(e,c,h){super();const m=e.Fh(h[1]);this.g=e;this.ji=e.bq.A0(m);this.Uc=null;this.zB=m.Instance;this.Qa=c;this.kb=h[11];this.Ja=h[0];this.pw=this.g.Ji(h[14]);this.kea=!!h[9];this.ab=!!h[2];this.pJ=!!h[10];this.pj=h[3].map(g=>({YW:g[0],type:g[1],name:g[2],cga:e.Ji(g[3])}));this.Cda=h[4];this.Xda=h[5];this.Ff=this.ji.Ff;this.Pa=null;this.SA=d.B(d.o6,e.nh,e.mh);this.SH=!0;this.TH=!1;this.GI=this.Ep=null;this.$h=-1;this.FI=
this.gB=this.hB=this.EI=this.Zh=null;this.jJ=!1;this.bh=null;this.lT=h[8].map(g=>d.lM.Ra(this,g));this.KA=[];this.$H=new Map;this.YH=new Map;this.LV=new Set;this.Nn=d.B(d.l6,this);this.DA=this.CA=this.Pd=this.og=this.bh=this.Zr=null;this.Rs=0;this.Hb=new Map;this.ri=new Map;this.H=[];this.WI=!0;this.ji.UE()&&(this.Pa=d.B(d.fl,this,h[12]));h[6]&&(this.og=d.B(d.bz),this.og.nO(h[6]));if(h[7]){this.Pd=h[7].map(g=>d.B(d.LX,g));this.CA=new Map;this.DA=new Map;for(const g of this.Pd)this.CA.set(g.Ba().toLowerCase(),
g),this.DA.set(g.kb,g)}this.ab?(this.Ep=[],this.GI=new Set,this.$h=this.g.B9()):(this.Zh=[],this.EI=new Set,this.hB=[],this.gB=[],this.FI=[]);this.Uc=d.B(m.Wi,this,h[15]);this.nU=this.Xv=null;this.je=d.B(d.Event.Fb);if(c=this.Uc.$j()){if(this.Xv=new c(this),!(this.Xv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Xv=new b(this);this.g.eD&&!this.ab&&!this.pJ&&this.Ff||this.Yc();this.ji.An&&(this.ji.Ica(this),this.a8(h))}static Ra(e,c,h){return d.B(d.sF,
e,c,h)}j(){this.og&&(this.og.j(),this.og=null);if(this.Pd){for(const e of this.Pd)e.j();d.F(this.Pd);this.CA.clear();this.DA.clear()}this.Nn.j();this.Nn=null;this.Hb.clear();this.ri.clear();this.g=this.bh=null}u$(e){for(let c=1,h=e.length;c<h;++c){const m=this.g.sf(e[c]);this.Ep.push(m);this.GI.add(m);m.Zh.push(this);m.EI.add(this)}}cca(e){this.jJ=!0;this.bh=e}Zb(){return this.jJ}Z$(){var e=0;if(!this.ab)for(var c of this.Zh)for(var h of c.lT){const k=h.Ba().toLowerCase();this.$H.set(k,h);this.YH.set(k,
e);this.KA.push(h);++e}for(var m of this.lT)c=m.Ba().toLowerCase(),this.$H.set(c,m),this.YH.set(c,e),this.KA.push(m),++e;for(var g of this.KA)this.LV.add(g.il().constructor);if(!this.ab&&this.Zh.length){e=this.g.JT;d.rD(this.hB,e,0);d.rD(this.gB,e,0);d.rD(this.FI,e,0);e=[];c=g=m=0;for(const k of this.Zh)if(h=k.$h,this.hB[h]=m,m+=k.pj.length,this.gB[h]=g,g+=k.Cda,this.FI[h]=c,c+=k.Xda,(h=k.Pa)&&this.Pa)for(const n of h.Gg())e.push(n.xY(this.Pa));this.Pa&&this.Pa.h4(e)}}a8(e){const c=this.g.A9(),h=
d.B(d.Instance,{Sf:this.g,JL:this,uid:c});h.Vz(e[16],[]);this.g.M$(c,h);this.H.push(h)}Yc(){this.ab||this.Uc.Yc()}$0(){return 0<this.Rs}Zq(e){if(this.ab)return Promise.resolve();this.Rs++;return 1===this.Rs?this.Uc.Zq(e)||Promise.resolve():Promise.resolve()}Uo(){if(!this.ab){this.Rs--;if(0>this.Rs)throw Error("released textures too many times");0===this.Rs&&this.Uc.Uo()}}sz(){if(this.ab)throw Error("not applicable to family");this.Uc.sz()}xF(e){return this.ab?Promise.resolve():this.Uc.xF(e)}I(){return this.g}Cb(){return this.ji}Ba(){return this.Ja}Ji(){return this.pw}Ia(){return this.Qa}gg(){return this.kea}lQ(e){return e&&
this.LV.has(e)}k0(){return this.pj.map(e=>e.YW)}j0(e){return this.pj.findIndex(c=>c.YW===e)}i0(e){return this.pj.findIndex(c=>c.name===e)}r9(){return this.pj.map(e=>e.cga)}Qt(e){e=Math.floor(e);if(0>e||e>=this.pj.length)throw new RangeError("invalid instance variable index");return this.pj[e].type}oN(e){e=Math.floor(e);if(0>e||e>=this.pj.length)throw new RangeError("invalid instance variable index");return this.pj[e].name}wy(e){return this.$H.get(e.toLowerCase())||null}It(e){e=this.YH.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}UE(){return this.ji.UE()}mQ(){return this.Pa&&this.Pa.R0()}V(){return this.Nn.V()}Yf(){return this.og}yP(e){this.Zr=e}UD(e){return this.EI.has(e)}VM(e){return this.GI.has(e)}zo(e){return this.gB[e]}DE(e){return this.hB[e]}bN(e){if(!this.Pd)throw Error("no animations");return this.CA.get(e.toLowerCase())||null}B_(e){if(!this.Pd)throw Error("no animations");return this.DA.get(e)||null}Y_(){if(!this.Pd)throw Error("no animations");return this.Pd[0].Qm(0)}M_(){if(this.Pd){const e=
this.Y_().Yf();return[e.S(),e.U()]}return this.og?[this.og.S(),this.og.U()]:[100,100]}Li(){if(!this.ji.An)throw Error("not a single-global plugin");return this.H[0]}ka(){return this.H}*uW(){yield*this.H}*Vfa(){yield*this.H;for(const e of this.g.$l)e.J()===this&&(yield e)}Vg(e){this.H.push(e)}av(){this.WI=!0}wA(){if(this.WI&&!this.ab){var e=this.H,c=0;for(let h=e.length;c<h;++c)e[c].IS(c);e=this.g.$l;for(const h of e)h.J()===this&&h.IS(c++);this.WI=!1}}nN(e){var c=this.H;if(e<c.length)return c[e];
e-=c.length;c=this.g.$l;for(const h of c)if(h.J()===this){if(0===e)return h;--e}return null}EE(e){if(e&&e.Zb()&&e.J()!==this)for(const c of e.Jd)if(c.J()===this)return c;e=this.V().ka();return e.length?e[0]:null}y0(e){const c=this.V().ka();return 0<c.length?c[e.Bo()%c.length]:null}*ZV(e,c){const h=this.V().ka();var m=h.length;const g=c.V(),k=c.V().ka(),n=k.length;var p=e.Bo();if(c.ab||!g.Yb)p=k.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Et(e){this.Uc.Et(e)}fc(){if(this.jJ&&
!this.ab){this.wA();var e=this.V(),c=e.H,h=e.Yb,m=this.g.qf();m=m&&m.Jb()&&m.Jb().Td;for(const n of this.bh.nm)if(n!==this){n.wA();var g=n.V();g.re(h);if(!h){var k=g.H;d.F(k);for(const p of c)k.push(n.nN(p.Bo()));if(m){k=e.cc;g=g.cc;d.F(g);for(const p of k)g.push(n.nN(p.Bo()))}}}}}bda(e,c){for(const h of this.bh.nm){const m=h.V();e?d.mf(m.cc,c):d.mf(m.H,c)}}ES(){this.SH=!0}pH(e){this.TH=!!e}ZS(){if(this.SH&&this.Ff){for(const e of this.H)e.A().bT();for(const e of this.g.$l)e.J()===this&&e.A().bT();
this.SH=!1}}Zj(){this.Hb||(this.Hb=new Map);return this.Hb}Xt(){this.ri||(this.ri=new Map);return this.ri}LN(){return this.lQ(d.rb.Wla)}VE(){return this.lQ(d.rb.yma)}la(){const e={instances:this.H.map(c=>c.sd())};this.Hb&&this.Hb.size&&(e.ex=d.oG(this.Hb));return e}qa(e){this.Hb&&(this.Hb.clear(),this.Hb=null);var c=e.ex;c&&(this.Hb=d.oE(c));c=this.H;e=e.instances;for(let h=0,m=Math.min(c.length,e.length);h<m;++h)c[h].Xc(e[h]);for(let h=e.length,m=c.length;h<m;++h)this.g.Nm(c[h]);for(let h=c.length,
m=e.length;h<m;++h){c=e[h];let g=null;if(this.Ff&&(g=this.g.Tb().Iy(c.w.l),!g))continue;this.g.Di(this.Zr||this,g,!1,0,0,!0).Xc(c)}this.av()}Bh(e){var c=this.g;(c=c.zb&&!c.na().hz())&&a.jG();this.je.dispatchEvent(e);c&&a.QD()}}}{"use strict";const d=self.D;d.DY=class extends d.ja{constructor(a,b){super();this.g=a;this.nm=b;for(const e of this.nm)e.cca(this)}j(){this.g=null}I(){return this.g}V0(){return this.nm.some(a=>a.Ff)}}}
{"use strict";const d=self.D,a=self.Eg,b=self.$t,e=[];let c=0;const h=new WeakMap,m=new WeakMap;d.Instance=class extends d.ja{constructor(g){super();this.g=g.Sf;this.de=g.JL;this.ue=this.oa=this.Wa=null;this.eU=0;this.Gc=g.uid;this.gV=c++;this.Ca=0;this.ad=this.ef=e;var k=this.de.KA;0<k.length&&(this.ad=k.map((n,p)=>d.B(d.Vx,{Sf:this.g,fL:n,instance:this,index:p})));this.Jd=this.de.Zb()?[]:null;this.ie=-1;this.Vb=null;k=this.Cb();k.$q()&&(this.Ca|=4);if(k.Ff)if(this.Wa=d.B(d.d7,this,g.DW),g.mX)this.Wa.Ig(g.mX);
else{this.Wa.H1();const [n,p]=this.de.M_();this.Wa.td(n,p);this.J().mQ()&&this.Wa.pg.G2()}g.tW?this.y$(g.tW):this.s$()}j(){this.ue&&(this.ue.$u(),this.ue=null);if(0<this.ad.length){for(var g of this.ad)g.j();d.F(this.ad)}this.oa.j();this.oa=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.Jd&&d.F(this.Jd);this.Vb&&(this.Vb.j(),this.Vb=null);this.de=this.g=null;0<this.ef.length&&d.F(this.ef);this.Wa&&(this.Wa.j(),this.Wa=null)}y$(g){0<g.length&&(this.ef=
[],d.Vc(this.ef,g))}s$(){const g=this.de.pj.length;if(0!==g){this.ef=[];var k=[0,0,""];for(let n=0;n<g;++n)this.ef.push(k[this.de.Qt(n)])}}Vz(g,k){if(this.oa)throw Error("already got sdk instance");for(let n=0,p=this.ad.length;n<p;++n)this.ad[n].Vz(k?k[n]:null);this.oa=d.B(this.de.zB,this,g);if(!(this.oa instanceof d.gr))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.ad.length;n<p;++n);this.de.nU&&this.JR()}A(){return this.Wa}I(){return this.g}z_(){const g=this.ie;return-1===
g?this.I().ie:g}aG(g){g=+g;if(0>g||!isFinite(g))g=0;this.ie=g}N4(){this.ie=-1}Fb(){this.Vb||(this.Vb=d.B(d.Event.Fb));return this.Vb}Ch(g){this.oa.Ch(g)}Yc(g){this.oa.Yc(g)}rca(){this.Ca|=2}tl(){return 0!==(this.Ca&2)}aH(){this.Ca|=1}au(){return 0!==(this.Ca&1)}$q(){return 0!==(this.Ca&4)}tO(){return 0!==(this.Ca&32)}ru(g,k){g<<=16;this.Ca=k?this.Ca|g:this.Ca&~g}FE(g){return 0!==(this.Ca&g<<16)}Dh(){return this.oa.Dh()}xE(){return this.oa.xE()}yE(){return this.oa.yE()}eF(){return this.oa.eF()}Rm(g){return this.oa.Rm(g)}J(){return this.de}er(){return this.oa.er()}Aq(g){return g.ab?
g.VM(this.J()):this.J()===g}nQ(){if(!this.Cb().CV)throw Error("object does not support scene graph");}dk(){return null!==this.Ha()}Ha(){var g=this.A();return g?(g=g.Ha())?g.Da():null:null}Vy(){var g=this.A();return g?(g=g.Vy())?g.Da():null:null}*Kx(){const g=this.A();if(g)for(const k of g.Kx())yield k.Da()}vf(){const g=this.A();return g?g.vf():!1}pf(){const g=this.A();return g?g.pf().map(k=>k.Da()):[]}*children(){const g=this.A();if(g)for(const k of g.children())yield k.Da()}*al(){const g=this.A();
if(g)for(const k of g.al())yield k.Da()}yy(){const g=this.A();return g?g.yy():0}uE(g){const k=this.A();return k?(g=k.uE(g))?g.Da():null:null}Lm(g,k){this.nQ();g.nQ();this.A().Lm(g.A(),k||{})}ik(g){const k=this.A();k&&k.ik(g.A())}Ay(){const g=this.A();return g?g.Ay():!1}h6(){var g=this.A();if(g&&(g=g.wN()))for(const k of g)if(g=this.g.Hi(k[2])){const n=k[3];this.Lm(g,{tt:!!(n>>0&1),ut:!!(n>>1&1),xq:!!(n>>2&1),wq:!!(n>>3&1),qt:!!(n>>4&1),yx:!!(n>>5&1),wt:!!(n>>6&1)})}}Zb(){return null!==this.Jd}Ar(g){this.Jd.push(g)}b1(g){return!!this.CN(g)}CN(g){const k=
this.Jd;if(null===k||0===k.length)return!1;for(const n of k)if(n.J()===g)return n;return null}Vi(){for(const g of this.Jd)g.J().V().nk(g)}Uaa(){for(const g of this.Jd)g.J().V().mp(g)}Hca(g){for(const k of this.Jd)k.J().V().H[g]=k}Taa(){for(const g of this.Jd)g.J().V().Kl(g)}Gca(g){for(const k of this.Jd)k.J().V().cc[g]=k}Cb(){return this.de.Cb()}IS(g){this.eU=g}Bo(){this.de.wA();return this.eU}D_(g){if(!g)return null;for(const k of this.ad)if(k.il()instanceof g)return k;return null}tE(g){return g?
(g=this.D_(g))?g.oa:null:null}cN(g){const k=this.ad;for(let n=0,p=k.length;n<p;++n)if(k[n].Hg().kb===g)return n;return-1}Me(g){g|=0;const k=this.ef;if(0>g||g>=k.length)throw new RangeError("invalid instance variable");return k[g]}qR(g){return this.ef[g]}y9(g){const k=this.ef[g];return 0===this.de.Qt(g)?!!k:k}gn(g,k){g|=0;const n=this.ef;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.de.Qt(g)){case 0:n[g]=k?1:0;break;case 1:n[g]="number"===typeof k?k:parseFloat(k);
break;case 2:n[g]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}F5(g,k){if(0!==k){g|=0;var n=this.ef;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof k?n[g]+k:n[g]+parseFloat(k);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}Zj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}Xt(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,g);return g}DR(g){const k=this.J();if(k.je.SE(g))return!0;for(const n of k.Zh)if(n.je.SE(g))return!0;return this.g.je.SE(g)?!0:!1}vA(){const g=new Set;g.add(this);const k=this.A();if(k&&k.vf())for(const n of this.al())if(g.add(n),n.Zb())for(const p of n.Jd)g.add(p);if(this.Zb())for(const n of this.Jd)g.add(n);for(const n of g.values())n.WS()}WS(){if(this.DR("instancecreate")){const g=
this.J(),k=new d.Event("instancecreate");k.instance=this.Eh();g.Bh(k);for(const n of g.Zh)n.Bh(k);this.g.Bh(k)}this.g.wa(this.Cb().constructor.G.BO,this,null)}$ca(){this.g.wa(this.Cb().constructor.G.m3,this,null)}i9(g){if(this.ue){var k=new d.Event("destroy");k.Zfa=g;this.Bh(k)}if(this.DR("instancedestroy")){k=this.J();var n=new d.Event("instancedestroy");n.instance=this.Eh();n.Zfa=g;k.Bh(n);for(const p of k.Zh)p.Bh(n);this.g.Bh(n)}}sd(g="full"){const k={};"full"===g?k.uid=this.Gc:k.c3=!0;if("visual-state"!==
g){var n=h.get(this);n&&n.size&&(k.ex=d.oG(n));-1!==this.ie&&(k.mts=this.ie);if(0<this.de.pj.length){n={};var p=this.de.k0();for(let q=0,u=this.ef.length;q<u;++q)n[p[q].toString()]=this.ef[q];k.ivs=n}if(this.ad.length){n={};for(const q of this.ad)(p=q.sd())&&(n[q.Hg().kb.toString()]=p);k.behs=n}}this.Wa&&(k.w=this.Wa.la(g));(g=this.oa.sd())&&(k.data=g);return k}fA(g="full"){this.Wa&&this.Wa.fA(g)}Xc(g,k="full"){if("full"===k)this.Gc=g.uid;else if(!g.c3)return;if("visual-state"!==k){var n=h.get(this);
n&&(n.clear(),h.delete(this));if(n=g.ex)n=d.oE(n),h.set(this,n);this.ie=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=this.de.j0(parseInt(u,10)),!(0>n||n>=this.ef.length)){var p=w;null===p&&(p=NaN);this.ef[n]=p}}if(this.Cb().Ff){n=g.w;var q=n.l;this.Wa.aa().kb!==q&&(p=this.Wa.aa(),(q=p.hc().Iy(q))?(this.Wa.bv(q),p.np(this,!0),q.Vg(this,!0),q.Sg(),this.Wa.Ta()):"full"===k&&this.g.Nm(this));this.Wa.qa(n,k)}if("visual-state"!==k&&(k=g.behs))for(const [u,w]of Object.entries(k))k=
this.cN(parseInt(u,10)),0>k||k>=this.ad.length||this.ad[k].Xc(w);(g=g.data)&&this.oa.Xc(g)}Eh(){return this.ue||this.JR()}JR(){var g=this.Wa?self.az:b;const k=this.oa.$j(),n=this.de.nU,p=n||k||g;b.Wg(this);this.ue=new p;b.Wg(null);if(k&&!(this.ue instanceof g))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${g.name}'`);if(n&&(g=k||g,!(this.ue instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);
return this.ue}x9(g){if(0!==this.ef.length){var k={},n=this.de.r9();for(let p=0,q=n.length;p<q;++p)k[n[p]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.y9.bind(this,p),set:d.Instance.prototype.gn.bind(this,p)};k=Object.create(Object.prototype,k);g.ssa={value:k,writable:!1}}}s9(g){var k=this.ad;if(0!==k.length){var n={};for(const p of k)n[p.Hg().Ji()]={value:p.Pq(),writable:!1};k=Object.create(Object.prototype,n);g.wx={value:k,writable:!1}}}Bh(g){g.instance=this.Eh();var k=this.g;(k=k.zb&&
!k.na().hz())&&a.jG();this.Eh().dispatchEvent(g);k&&a.QD()}}}
{"use strict";const d=self.D;d.W4=class extends d.ja{constructor(a){super();this.Xb=a;this.Fc=null;this.QA=[];this.QC=a.S();this.PC=a.U();this.EK=this.DK=1;this.rC=0}j(){this.Fc=null;d.F(this.QA)}SP(a){this.rC=(this.Fc=a)?a.xa():0}Ha(){return this.Fc}vf(){return 0<this.QA.length}pf(){return this.QA}Q5(a){this.DK=a}R5(a){this.EK=a}Xj(){return this.Xb.Fo()?this.Fc.S()/this.Fc.Mb.QC:1}Yj(){return this.Xb.Eo()?this.Fc.U()/this.Fc.Mb.PC:1}la(){return{sw:this.QC,sh:this.PC,sx:this.DK,sy:this.EK,psa:this.rC,
c:this.QA.map(a=>{let b="";a.Go()&&(b+="x");a.Ho()&&(b+="y");a.Fo()&&(b+="w");a.Eo()&&(b+="h");a.Wy()&&(b+="a");a.Xy()&&(b+="z");a.Ay()&&(b+="d");return{uid:a.Da().Gc,f:b}})}}qa(a){this.QC=a.sw;this.PC=a.sh;this.DK=a.sx;this.EK=a.sy;this.rC=a.psa}Vu(a){const b=this.Xb,e=b.I();for(const c of a.c){a=e.Hi(c.uid).A();const h=c.f,m={};m.tt=h.includes("x");m.ut=h.includes("y");m.xq=h.includes("w");m.wq=h.includes("h");m.qt=h.includes("a");m.wt=h.includes("z");m.yx=h.includes("d");b.Lm(a,m)}}}}
{"use strict";const d=self.D,a=d.B(d.Rect),b=d.B(d.Hd),e=d.B(d.Event,"bboxchange",!1),c=d.B(d.gb,0,0,0,0),h=d.B(d.to),m=d.B(d.gb,1,1,1,1),g=d.B(d.Rect,0,0,-1,-1),k=d.B(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.d7=class extends d.ja{constructor(r,v){super();this.fa=r;this.L=r.J();this.g=r.I();this.Nk=v;this.$k=-1;this.Ca=196635;this.L.Cb().Yq()&&(this.Ca|=128);this.Ds=this.Cs=this.nI=this.tK=this.Ya=this.cd=this.ih=this.xh=this.ld=this.R=
this.T=NaN;this.eI=d.B(d.Rect);this.fI=d.B(d.Hd);this.RA=k;this.Lw=g;this.zj=this.Us=this.MC=null;this.wp=this.hb=m;this.pg=this.lq=null;this.fa.J().mQ()&&(this.pg=d.B(d.Y1,this.fa,this));this.ii=this.Mb=null}aH(){this.Ca|=256}j(){this.lq&&(this.g.lb().bP(this.lq),this.lq=null);this.MC=null;this.Us&&(this.Us.LW.j(),this.Us=null);this.zj&&(this.zj.clear(),this.zj=null);this.zz();this.dk()&&this.Ha().ik(this);if(this.vf()){const r=[...this.pf()];for(const v of r)this.ik(v)}this.iA();this.Nk=this.g=
this.L=this.fa=null}Ig(r){q=!1;this.Ph(r[0],r[1]);this.qe(r[2]);this.td(r[3],r[4]);this.cd=0;this.Yq()?this.Ad(r[6]):this.Ya=0;c.Im(r[7]);this.kA(c);this.pr(r[8]);this.qr(r[9]);this.ig(r[10]);this.pg&&this.pg.t$(r[12]);r[14]&&u.set(this,{mfa:r[14][1],kha:r[14][2]});if(r[15]){var v=r[15];this.eE(v[0],v[1]);r=this.ak();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Lq(z,y);J.Te(H[0]);J.Ue(H[1]);J.qe(H[2]);J.bG(H[3]);J.cG(H[4])}}}q=!0;this.Kr()}H1(){this.tK=
this.Ya=this.cd=this.ih=this.xh=this.ld=this.R=this.T=0;this.nI=1;this.Ds=this.Cs=0;this.Kr()}I(){return this.g}J(){return this.L}Da(){return this.fa}Lu(){return this.Wy()?this.Ha().xa()-this.Mb.rC:0}Te(r){r=+r;if(this.Go()){const v=this.Mb;r-=this.N();const y=-this.Lu();0===y?this.T+=r/v.Xj():(this.T+=Math.cos(y)*r/v.Xj(),this.Ho()&&(this.R+=Math.sin(y)*r/v.Yj()))}else this.T=r}g3(r){r=+r;this.Go()?this.Te(this.N()+r):this.T+=r}N(){if(this.Go()){let r=this.T;const v=this.Mb,y=this.Ha(),A=this.Lu();
0===A?r*=v.Xj():(r=r*v.Xj()*Math.cos(A),this.Ho()&&(r-=this.R*v.Yj()*Math.sin(A)));return y.N()+r}return this.T}Ue(r){r=+r;if(this.Ho()){const v=this.Mb;r-=this.O();const y=-this.Lu();0===y?this.R+=r/v.Yj():(this.Go()&&(this.T-=Math.sin(y)*r/v.Xj()),this.R+=Math.cos(y)*r/v.Yj())}else this.R=r}h3(r){r=+r;this.Ho()?this.Ue(this.O()+r):this.R+=r}O(){if(this.Ho()){let r=this.R;const v=this.Mb,y=this.Ha(),A=this.Lu();0===A?r*=v.Yj():(r=r*v.Yj()*Math.cos(A),this.Go()&&(r+=this.T*v.Xj()*Math.sin(A)));return y.O()+
r}return this.R}Ph(r,v){r=+r;v=+v;if(this.GN()){const A=this.Go(),G=this.Ho(),z=this.Mb,F=r-this.N(),H=v-this.O();var y=-this.Lu();if(0===y)this.T=A?this.T+F/z.Xj():r,this.R=G?this.R+H/z.Yj():v;else{const J=Math.sin(y);y=Math.cos(y);this.T=A?G?this.T+(y*F-J*H)/z.Xj():this.T+y*F/z.Xj():r;this.R=G?A?this.R+(J*F+y*H)/z.Yj():this.R+y*H/z.Yj():v}}else this.T=r,this.R=v}rz(r,v){r=+r;v=+v;this.GN()?this.Ph(this.N()+r,this.O()+v):(this.T+=r,this.R+=v)}mE(r,v){return this.N()===r&&this.O()===v}qe(r){r=+r;
this.Xy()&&(r-=this.Ha().Va());this.ld!==r&&(this.ld=r,this.fT(),r=this.aa(),0!==this.ld&&r.FS(),r.Sg())}fT(){this.Kr();if(this.vf()){const r=this.pf();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.Xy()&&A.fT()}}}i3(r){this.qe(this.Va()+r)}Va(){return this.Xy()?this.Ha().Va()+this.ld:this.ld}oe(){return this.aa().Va()+this.Va()}Se(r){r=+r;if(this.Fo()){const v=this.S();this.xh=0===v?1E-6:r/v*this.xh}else this.xh=r}xO(r){r=+r;this.Fo()?this.Se(this.S()+r):this.xh+=r}S(){return this.Fo()?this.Ha().S()*
this.xh:this.xh}Pe(r){r=+r;if(this.Eo()){const v=this.U();this.ih=0===v?1E-6:r/v*this.ih}else this.ih=r}wO(r){r=+r;this.Eo()?this.Pe(this.U()+r):this.ih+=r}U(){return this.Eo()?this.Ha().U()*this.ih:this.ih}td(r,v){r=+r;v=+v;if(this.Fo()){const y=this.S();this.xh=0===y?1E-6:r/y*this.xh}else this.xh=r;this.Eo()?(r=this.U(),this.ih=0===r?1E-6:v/r*this.ih):this.ih=v}E0(){if(this.dk()){const r=this.Mb;return Math.min(r.Xj(),r.Yj())}return 1}Yq(){return 0!==(this.Ca&128)}Ad(r){r=+r;this.Yq()&&(this.Wy()&&
(r-=this.Ha().xa()),r=d.Md(r),this.Ya!==r&&(this.Ya=r,this.bH()))}b3(r){r=+r;0!==r&&this.Yq()&&(this.Ya=d.Md(this.Ya+r),this.bH())}bH(){this.Ca|=262144;if(this.vf()){const r=this.pf();for(let v=0,y=r.length;v<y;v++)r[v].bH()}}xa(){return this.Wy()?d.Md(this.Ha().xa()+this.Ya):this.Ya}ZR(){const r=this.Ca;if(0!==(r&262144)){var v=this.xa();this.tK=Math.sin(v);this.nI=Math.cos(v);this.Ca=r&-262145}}NE(){this.ZR();return this.tK}wE(){this.ZR();return this.nI}pr(r){this.Cs=+r}e3(r){this.Cs+=+r}nl(){return this.Cs}qr(r){this.Ds=
+r}f3(r){this.Ds+=+r}ol(){return this.Ds}kA(r){this.hb.yd(r)||(this.hb===m?(this.hb=d.B(d.gb,r),this.wp=d.B(d.gb,r),this.wp.PL()):r.qD(1,1,1,1)?this.wp=this.hb=m:(this.hb.set(r),this.wp.set(r),this.wp.PL()),this.Kr())}Si(r){r=d.ia(+r,0,1);this.hb.vq!==r&&(c.Fj(this.hb),c.vq=r,this.kA(c))}d3(r){this.Si(this.le()+r)}le(){return this.hb.vq}YP(r){this.hb.Fm(r)||(c.Fj(r),c.vq=this.hb.vq,this.kA(c))}c6(r,v,y){c.pt(r,v,y);this.YP(c)}KE(){return this.wp}Ay(){return 0!==(this.Ca&512)}o5(r){this.Ye(512,r)}Go(){return 0!==
(this.Ca&1024)}X5(r){this.Ye(1024,r)}Ho(){return 0!==(this.Ca&2048)}GN(){return 0!==(this.Ca&3072)}Y5(r){this.Ye(2048,r)}Fo(){return 0!==(this.Ca&4096)}W5(r){this.Ye(4096,r)}Eo(){return 0!==(this.Ca&8192)}V5(r){this.Ye(8192,r)}Wy(){return 0!==(this.Ca&16384)}U5(r){this.Ye(16384,r)}Xy(){return 0!==(this.Ca&32768)}Z5(r){this.Ye(32768,r)}IQ(){this.Ca&=-65025}Lm(r,v){if(r!==this&&!r.dk()&&!this.FR(r)&&!this.ER(r)){var y=r.N(),A=r.O(),G=r.S(),z=r.U(),F=r.xa(),H=r.Va();r.LS(this);r.X5(v.tt);r.Y5(v.ut);
r.W5(v.xq);r.V5(v.wq);r.U5(v.qt);r.Z5(v.wt);r.o5(v.yx);v.tt&&(r.T=y-this.N(),v.xq&&(r.T/=this.S()/this.Mb.QC));v.ut&&(r.R=A-this.O(),v.wq&&(r.R/=this.U()/this.Mb.PC));v.xq&&(r.xh=G/this.S(),r.Mb.Q5(r.xh));v.wq&&(r.ih=z/this.U(),r.Mb.R5(r.ih));v.qt&&(r.Ya=F-this.xa());v.wt&&(r.ld=H-this.Va());this.l7(r);this.Ta()}}ik(r){if(r.Ha()===this){var v=r.N(),y=r.O(),A=r.S(),G=r.U(),z=r.xa(),F=r.Va();r.LS(null);r.IQ();r.Ph(v,y);r.td(A,G);r.Ad(z);r.qe(F);this.hba(r);this.Ta()}}pba(){for(var r of this.children())this.ik(r);
(r=this.Ha())&&r.ik(this);this.IQ()}dk(){return null!==this.Ha()}Ha(){const r=this.Mb;return null!==r?r.Ha():null}Vy(){let r=this;for(;r.dk();)r=r.Ha();return r}*Kx(){let r=this.Ha();for(;r;)yield r,r=r.Ha()}X0(r){return this.pf().includes(r)}vf(){const r=this.Mb;return null!==r?r.vf():!1}pf(){const r=this.Mb;return null!==r?r.pf():p}children(){return this.pf()}*al(){for(const r of this.children())yield r,yield*r.al()}yy(){return this.pf().length}uE(r){const v=this.pf();r=Math.floor(+r);return 0>
r||r>=v.length?null:v[r]}zG(r){this.Mb||(this.Mb=d.B(d.W4,this));r&&this.Mb.SP(r)}iA(){this.Mb&&(this.Mb.j(),this.Mb=null)}LS(r){r?(r.zG(null),this.zG(r)):(this.Mb&&this.Mb.SP(null),this.vf()||this.iA())}ER(r){if(!this.dk())return!1;const v=this.Ha();return v===r?!0:v.ER(r)}FR(r){if(this.X0(r))return!0;for(const v of this.pf())if(v.FR(r))return!0;return!1}l7(r){this.Mb.pf().push(r)}hba(r){const v=this.Mb.pf(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.dk()||this.iA();r.vf()||r.iA()}wN(){const r=
u.get(this);return r?r.mfa:null}F0(){const r=u.get(this);return r?r.kha:NaN}Nq(){return w.get(this)||NaN}XF(r){w.set(this,r)}Kr(){if(q){var r=this.g.lb();this.lq&&r.bP(this.lq);this.lq=r.tX(0!==(this.Ca&524288)?r.NC||"<point>":r.OC||"<default>",this.Oj(),this.wp,this.Va())}}Sq(){return this.hb===m}ig(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Oj()!==r&&(this.Ca=this.Ca&-2080374785|r<<26,this.Kr())}Oj(){return(this.Ca&2080374784)>>26}bv(r){this.Nk=r;0!==this.Va()&&this.Nk.FS()}aa(){return this.Nk}hc(){return this.aa().hc()}sA(r){this.$k=
r|0}Jh(){this.Nk.jv();return this.$k}Ye(r,v){this.Ca=v?this.Ca|r:this.Ca&~r}Wc(){return 0!==(this.Ca&1)}Rg(r){this.Ye(1,r)}Mi(){return 0!==(this.Ca&8)}ou(r){r=!!r;this.Mi()!==r&&(this.Ye(8,r),r?this.Ta():this.pS())}ZF(r,v){this.Ye(32,r);this.zj&&this.zj.clear();if(v.trim()){this.zj||(this.zj=new Set);for(const y of v.split(" "))y&&this.zj.add(y.toLowerCase())}else this.zj=null}Ta(){this.Ca|=65554;this.L.ES();this.g.ea();this.Nk.hp()&&(this.Zx(this.eI,this.fI,!0),this.Ca&=-3,this.ida());0!==(this.Ca&
4)&&this.fa.Fb().dispatchEvent(e);if(null!==this.Mb){const r=this.Mb.pf();for(let v=0,y=r.length;v<y;++v)r[v].Ta()}}Zx(r,v,y){const A=this.N(),G=this.O(),z=this.S(),F=this.U(),H=this.xa();r.yi(A-this.Cs*z,G-this.Ds*F,z,F);y&&this.fg()&&this.c9(r);0===H?v.Kj(r):(r.offset(-A,-G),v.VW(r,this.NE(),this.wE()),v.offset(A,G),v.uL(r));r.normalize()}aT(){const r=this.Ca;0!==(r&2)&&(this.Zx(this.eI,this.fI,!0),this.Ca=r&-3)}od(){this.aT();return this.eI}Pj(){this.aT();return this.fI}VO(r){var v=this.N(),y=
this.O();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.ra(r);b.offset(v,y);return b}i5(r){this.Ye(4,r)}RN(){return 0!==(this.Ca&4)}dO(r,v,y){return v&&0!==this.cd?this.Vq(this.aa().Dr()):0===this.Va()||y?r.wD(this.od()):this.j$()}j$(){const r=this.aa(),v=this.oe();if(v>=r.Jt())return!1;r.JN(v,a);return a.wD(this.od())}Vq(r){var v=this.od();const y=v.ba,A=v.ma,G=v.Y;v=v.ga;const z=this.oe();return r.EY(y,G,z,A,v,z+this.cd)}lA(r){this.Ye(1048576,r)}nA(r){this.Ye(2097152,r)}$F(r){this.MC=
r;this.GG();this.fg()&&(this.ii.FL=null)}Zy(){return null!==this.MC||this.fg()}rl(){return this.u9(this.S(),this.U(),this.xa(),this.NE(),this.wE())}u9(r,v,y,A,G){let z=this.Us;null===z&&(this.Us=z={LW:d.B(d.to),width:NaN,height:NaN,angle:NaN});const F=z.LW;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.MC;if(this.fg()){const J=this.nl(),M=this.ol(),P=this.ak();let R=this.ii.FL;R||(H?(h.ra(H),h.offset(J,M)):h.Kga(),R=P.X1(h),this.ii.FL=R);P.B6(R,F);F.offset(-J,-M);F.cM(r,v,A,G)}else H?
(F.ra(H),F.cM(r,v,A,G)):F.WL(this.Pj(),-this.N(),-this.O());z.width=r;z.height=v;z.angle=y;return F}GG(){this.M5();const r=this.Us;null!==r&&(r.width=NaN)}eE(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Da().Cb().Rea)throw Error("object does not support mesh");this.zz();this.ii={YL:d.B(d.K.sO,r,v),eX:d.B(d.K.sO,r,v),FL:null}}fg(){return null!==this.ii}ak(){if(!this.fg())throw Error("no mesh");return this.ii.YL}HN(){if(!this.fg())throw Error("no mesh");return this.ii.eX}UF(r){this.Ye(65536,r)}fO(){return 0!==
(this.Ca&65536)}M5(){this.Ye(131072,!0)}c9(r){const v=this.ii.YL,y=Math.min(v.w0(),0),A=Math.min(v.x0(),0),G=Math.max(v.t0(),1),z=Math.max(v.u0(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.uga((G-1)*F);r.tga((z-1)*H);this.cd=v.v0()}zz(){this.ii&&(this.ii.YL.j(),this.ii.eX.j(),this.ii=null,this.GG())}OP(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Sx;let H="number"===typeof y.iX?
y.iX:A?0:-1;y="number"===typeof y.lX?y.lX:A?0:-1;if(!this.fg())return!1;const J=this.ak(),M=J.Lq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.Va()!==F&&(M.qe(F),P=!0);A&&(G+=r/(J.Hk-1),z+=v/(J.Wk-1));-1!==H||A?(A&&(H+=r/(J.Hk-1)),H=d.ia(H,0,1)):H=M.uh;-1!==y||A?(A&&(y+=v/(J.Wk-1)),y=d.ia(y,0,1)):y=M.wh;if(M.N()===G&&M.O()===z&&M.uh===H&&M.wh===y)return P;M.Te(G);M.Ue(z);M.bG(H);M.cG(y);this.GG();return!0}tl(){return this.fa.tl()}Eq(r,v){return this.od().Pf(r,v)&&this.Pj().Pf(r,v)?this.tl()?
void 0:this.Zy()?this.rl().Pf(r-this.N(),v-this.O()):!0:!1}h$(){return 0!==(this.Ca&16)}bT(){if(this.h$()&&this.Mi()&&0===(this.Ca&256)){var r=this.od(),v=this.L.SA,y=this.RA;a.set(v.Xi(r.ba),v.Yi(r.Y),v.Xi(r.ma),v.Yi(r.ga));y.yd(a)||(r=this.fa,y===k?(v.Fl(r,null,a),this.RA=d.B(d.Rect,a)):(v.Fl(r,y,a),y.ra(a)),this.Ca&=-17)}}pS(){const r=this.RA;r!==k&&(this.L.SA.Fl(this.fa,r,null),this.RA=k)}ida(){const r=this.aa();if(r.hp()&&0===(this.Ca&256)){var v=r.Is,y=this.od(),A=this.Lw;a.set(v.Xi(y.ba),v.Yi(y.Y),
v.Xi(y.ma),v.Yi(y.ga));A.yd(a)||(y=this.fa,A===g?(v.Fl(y,null,a),this.Lw=d.B(d.Rect,a)):(v.Fl(y,A,a),A.ra(a)),r.O5())}}qS(){const r=this.Lw;r!==g&&(this.aa().Is.Fl(this.fa,r,null),this.Lw=g)}i7(){const r=this.fa,v=this.Nk,y=v.H;y.length&&y.ke(-1)===r||(v.np(r,!1),v.Vg(r,!1),this.g.ea())}g7(){const r=this.fa,v=this.Nk,y=v.H;y.length&&y[0]===r||(v.np(r,!1),v.Qaa(r),this.g.ea())}h7(r){const v=this.fa,y=this.Nk;if(y.hc()!==r.hc())throw Error("layer from different layout");r!==y&&(y.np(v,!0),this.bv(r),
r.Vg(v,!0),this.g.ea())}f7(r,v){const y=this.fa;let A=!1;const G=this.Nk;if(r.Gc!==y.Gc){var z=r.A();if(!z)throw Error("expected world instance");z=z.aa();G.Ia()!==z.Ia()&&(G.np(y,!0),this.bv(z),z.Vg(y,!0),A=!0);r=z.V2(y,r,!!v);(A||r)&&this.g.ea()}}qca(r){this.Ye(64,r)}Yt(){return 0!==(this.Ca&64)}la(r){const v={x:this.N(),y:this.O(),w:this.S(),h:this.U(),l:this.aa().kb,zi:this.Jh()};0!==this.Va()&&(v.ze=this.Va());0!==this.xa()&&(v.a=this.xa());this.Sq()||(v.c=this.hb.toJSON());.5!==this.nl()&&(v.oX=
this.nl());.5!==this.ol()&&(v.oY=this.ol());0!==this.Oj()&&(v.bm=this.Oj());this.Wc()||(v.v=this.Wc());this.Mi()||(v.ce=this.Mi());this.RN()&&(v.be=this.RN());this.pg&&(v.fx=this.pg.la());const y=0!==(this.Ca&32);y&&(v.sfi=y);this.zj&&(v.sft=[...this.zj].join(" "));this.Mb&&"visual-state"!==r&&(v.sgi=this.Mb.la());this.fg()&&(v.mesh=this.ak().sd());return v}fA(r){"visual-state"!==r&&this.pba()}qa(r,v){q=!1;this.Te(r.x);this.Ue(r.y);this.Se(r.w);this.Pe(r.h);this.sA(r.zi);this.qe(r.hasOwnProperty("ze")?
r.ze:0);this.Ad(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.Im(r.c):r.hasOwnProperty("o")?(c.Fj(this.hb),c.vq=r.o):c.no(1,1,1,1);this.kA(c);this.pr(r.hasOwnProperty("oX")?r.oX:.5);this.qr(r.hasOwnProperty("oY")?r.oY:.5);this.ig(r.hasOwnProperty("bm")?r.bm:0);this.Rg(r.hasOwnProperty("v")?r.v:!0);this.ou(r.hasOwnProperty("ce")?r.ce:!0);this.i5(r.hasOwnProperty("be")?r.be:!1);this.ZF(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.pg&&r.hasOwnProperty("fx")&&this.pg.qa(r.fx);
if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.zG(null);const y=this.Mb,A=r.sgi;y.qa(A);const G=this.I().Fb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Ca&256)&&y.Vu(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.eE(r.cols,r.rows),this.ak().Xc(r)):this.zz();this.Ta();q=!0;this.Kr()}}}
{"use strict";const d=self.D;d.lM=class extends d.ja{constructor(a,b){super();const e=a.I(),c=e.bq,h=e.Fh(b[1]);c.W0(h)||c.JY(b);this.g=e;this.L=a;this.dj=c.C_(h);this.Uc=null;this.zB=h.Instance;this.kb=b[2];this.Ja=b[0];this.pw=this.g.Ji(b[3]);this.Uc=d.B(h.Wi,this);this.Yc()}static Ra(a,b){return d.B(d.lM,a,b)}j(){this.dj=this.g=null;this.Uc.j();this.zB=this.Uc=null}Yc(){this.Uc.Yc()}I(){return this.g}J(){return this.L}il(){return this.dj}Ba(){return this.Ja}Ji(){return this.pw}}}
{"use strict";const d=self.D,a=self.ON;d.Vx=class extends d.ja{constructor(b){super();this.g=b.Sf;this.bd=b.fL;this.dj=this.bd.il();this.fa=b.instance;this.Qa=b.index;this.ue=this.oa=null;this.dj.Vg(this.fa)}j(){this.ue&&(this.ue.$u(),this.ue=null);this.dj.np(this.fa);this.oa.j();this.fa=this.dj=this.bd=this.g=this.ue=this.oa=null}Vz(b){if(this.oa)throw Error("already got sdk instance");this.oa=d.B(this.bd.zB,this,b);this.Y9()}I(){return this.g}Hg(){return this.bd}il(){return this.dj}Xe(){return this.Qa}sd(){return this.oa.sd()}Xc(b){return this.oa.Xc(b)}static hG(b,
e){var c=b.fa,h=e.fa;const m=c.J().Ia(),g=h.J().Ia();if(m!==g)return m-g;c=c.gV;h=h.gV;return c!==h?c-h:b.JA.Xe()-e.JA.Xe()}Y9(){const b=this.oa.$j(),e=b||a;a.Wg(this);this.ue=new e;a.Wg(null);if(b&&!(this.ue instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Pq(){return this.ue}}}
{"use strict";const d=self.D;d.fl=class extends d.ja{constructor(a,b){super();this.Xb=a;this.Xg=[];this.lg=[];this.aB=new Map;this.Yh=[];this.Es=!0;for(const e of b)a=d.B(d.RM,this,e,this.Xg.length),this.Xg.push(a),this.aB.set(a.Ba().toLowerCase(),a),3<=e.length&&this.Yh.push(this.YG(e[2]));this.I().n7(this)}j(){d.F(this.Xg);d.F(this.lg);this.aB.clear();d.F(this.Yh);this.Xb=null}h4(a){if(a.length){this.Xg=a.concat(this.Xg);for(const b of a)this.aB.set(b.Ba().toLowerCase(),b);for(let b=0,e=this.Xg.length;b<
e;++b)this.Xg[b].sH(b)}}YG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=d.B(d.gb);h.Im(c);a[b]=h}}return a}I(){return this.Xb.I()}Qh(){d.F(this.lg);let a=!0;for(const b of this.Xg)b.Lb&&(this.lg.push(b),b.dg().Es||(a=!1));this.Es=a}Gg(){return this.Xg}R0(){return 0<this.Xg.length}kl(a){return this.aB.get(a.toLowerCase())||null}hN(a){a=Math.floor(+a);if(0>a||a>=this.Xg.length)throw new RangeError("invalid effect type index");return this.Xg[a]}bu(a){return this.hN(a).Lb}AP(a,
b){this.hN(a).Cz(b)}Yt(){return 0<this.lg.length}jl(a){return this.Yh[a]}static U4(a){return a&&a instanceof d.gb?{t:"color",v:a.toJSON()}:a}static J2(a){if("object"===typeof a){if("color"===a.t){const b=d.B(d.gb);b.Im(a.v);return b}throw Error("invalid effect parameter type");}return a}static qP(a){return a.map(d.fl.U4)}static oO(a){return a.map(d.fl.J2)}sd(){return this.Xg.map(a=>({name:a.Ba(),active:a.Lb,params:d.fl.qP(this.Yh[a.Ia()])}))}Xc(a){for(const b of a)if(a=this.kl(b.name))a.Cz(b.active),
this.Yh[a.Ia()]=d.fl.oO(b.params);this.Qh()}}}
{"use strict";const d=self.D;d.RM=class extends d.ja{constructor(a,b,e){super();this.Pa=a;this.df=b[0];this.Ja=b[1];this.Qa=e;this.jd=null;this.Lb=!0}j(){this.jd=this.Pa=null}xY(a){a=d.B(d.RM,a,[this.df,this.Ja],-1);a.jd=this.jd;a.Lb=this.Lb;return a}HR(a){a=a.BN(this.df);if(!a)throw Error("failed to find shader program '"+this.df+"'");this.jd=a}Ba(){return this.Ja}sH(a){this.Qa=a}Ia(){return this.Qa}I(){return this.Pa.I()}Cz(a){this.Lb=!!a}dg(){return this.jd}N_(){const a=[];for(let b=0,e=this.jd.tq.length;b<
e;++b){const c=this.jd.My(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.B(d.gb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.D;d.Y1=class extends d.ja{constructor(a,b){super();this.fa=a;this.WV=b;this.Pa=a.J().Pa;this.rx=this.WJ=!0;this.VV=this.UV=this.SV=!1;this.Xh=d.B(d.K.Je,a.I().P.wI,{pD:(e,c)=>{c=c.tn;const h=c.A();e.cn(h.KE());e.pu(h.oe());c.Ch(e);e.pu(0)},sW:e=>{const c=e.yE(),[h,m]=e.xE();return{bX:c,cX:h,aX:m}},uD:e=>this.jl(e)});this.pp=[];this.lg=[];this.Es=!0;this.Yh=[];for(const e of this.Pa.Gg())this.pp.push(!0);this.Qh()}j(){this.Xh.j();this.Xh=null;d.F(this.pp);d.F(this.lg);d.F(this.Yh);
this.Pa=this.fa=null}t$(a){for(const b of a)this.Yh.push(this.YG(b))}YG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const h=d.B(d.gb);h.Im(c);a[b]=h}}return a}G2(){for(const a of this.Pa.Gg())this.Yh.push(a.N_())}Fi(){this.Tu();return this.Xh}I(){return this.fa.I()}Qh(){d.F(this.lg);const a=this.WV,b=this.Pa.Gg(),e=this.lg,c=this.pp;let h=!0;for(let m=0,g=b.length;m<g;++m)if(c[m]){const k=b[m];e.push(k);k.dg().Es||(h=!1)}this.Es=h;a.qca(!!e.length);this.WJ=!0}Tu(){const a=
this.fa;var b=this.WV;const e=b.Sq(),c=0<b.cd;b=0!==b.xa()||0>b.S()||0>b.U();const h=a.eF();if(this.WJ||e!==this.rx||c!==this.SV||b!==this.UV||h!==this.VV)this.Xh.WD(this.lg.map(m=>m.dg()),{et:this.lg.map(m=>m.Ia()),sD:!e||a.$q(),AL:c,zW:h,xW:b}),this.WJ=!1,this.rx=e,this.SV=c,this.UV=b,this.VV=h}jl(a){return this.Yh[a]}bu(a){return this.pp[a]}AP(a,b){this.pp[a]=!!b}Gg(){return this.Pa.Gg()}la(){return this.Pa.Gg().map(a=>({name:a.Ba(),active:this.pp[a.Ia()],params:d.fl.qP(this.Yh[a.Ia()])}))}qa(a){for(const b of a)if(a=
this.Pa.kl(b.name))this.pp[a.Ia()]=b.active,this.Yh[a.Ia()]=d.fl.oO(b.params);this.Qh()}}}
{"use strict";const d=self.D,a=[],b=d.B(d.to),e=d.B(d.to),c=d.B(d.Hd);d.B(d.Rect);d.B(d.Rect);let h=null,m=null,g=null;d.yY=class extends d.ja{constructor(k){super();this.g=k;this.DC=[]}j(){this.g=null}kM(k,n,p){for(const [q,u]of this.DC){let w;if(k===q)w=u;else if(k===u)w=q;else continue;w.Aq(n)&&(p.includes(w)||p.push(w))}}tM(k,n){if(!this.DC.length)return!1;for(const [p,q]of this.DC)if(k===p&&n===q||k===q&&n===p)return!0;return!1}uM(){d.F(this.DC)}mG(k,n){if(!k||!n||k===n)return!1;k=k.A();n=n.A();
if(!k.Mi()||!n.Mi())return!1;const p=k.aa(),q=n.aa();return p.v2(q)?this.Xca(k,n):this.Wca(k,n)}Xca(k,n){if(!k.od().wD(n.od())||!k.Pj().yL(n.Pj())||k.tl()&&n.tl())return!1;if(k.tl())return this.nG(k,n);if(n.tl())return this.nG(n,k);if(!k.Zy()&&!n.Zy())return!0;const p=k.rl(),q=n.rl();return p.Dx(q,n.N()-k.N(),n.O()-k.O())}Wca(k,n){var p=k.tl(),q=n.tl();if(p&&!q)return this.cQ(k,n);if(q&&!p)return this.cQ(n,k);if(q||p)return!1;q=k.aa();p=n.aa();b.ra(k.rl());e.ra(n.rl());var u=b.Vd;for(let w=0,r=u.length;w<
r;w+=2){const v=w+1,y=u[v],[A,G]=q.Po(u[w]+k.N(),y+k.O());u[w]=A;u[v]=G}k=e.Vd;for(let w=0,r=k.length;w<r;w+=2){q=w+1;u=k[q];const [v,y]=p.Po(k[w]+n.N(),u+n.O());k[w]=v;k[q]=y}b.VL();e.VL();return b.Dx(e,0,0)}cQ(k,n){var p=k.aa(),q=n.aa();h||(h=d.B(d.to));m||(m=d.B(d.Rect));g||(g=d.B(d.Hd));var u=n.N(),w=n.O();const [r,v]=q.Po(u,w),[y,A]=p.Uf(r,v);p=y-u;w=A-w;m.ra(n.od());m.offset(p,w);if(!k.od().wD(m))return!1;g.ra(n.Pj());g.offset(p,w);if(!k.Pj().yL(g))return!1;h.ra(n.rl());q=h.Vd;for(let G=0,z=
q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.VL();return this.nG(k,n,y,A,h,m,g)}nG(k,n,p,q,u,w,r){w=void 0!==w?w:n.od();const v=k.N(),y=k.O();var A=k.Da().oa;p=void 0!==p?p:n.N();q=void 0!==q?q:n.O();k=n.Zy();r=void 0!==r?r:n.Pj();A.Gja(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.Jja();if(w.Wfa(A,v,y)&&(c.Kj(A),c.offset(v,y),c.yL(r)))if(k){var z=void 0!==u?u:n.rl();if(G=G.B0()){if(G.Dx(z,p-(v+A.ba),q-(y+A.Y)))return d.F(a),!0}else if(b.WL(c,0,0),b.Dx(z,p,q))return d.F(a),!0}else if(z=G.B0()){if(b.WL(r,
0,0),z.Dx(b,-(v+A.ba),-(y+A.Y)))return d.F(a),!0}else return d.F(a),!0}d.F(a);return!1}Lz(k,n,p){const q=k.V();var u=this.g.Jb();if(!u)throw Error("cannot call outside event");u=u.Td;if(q.Yb){q.re(!1);d.F(q.H);for(var w of k.ka()){var r=w.A(),v=r.aa();const [y,A]=v.Uf(n,p,r.oe());r.Eq(y,A)?q.mp(w):u&&q.Kl(w)}}else{r=!1;u?this.g.XN()&&!q.cc.length&&q.H.length?w=q.H:(w=q.cc,r=!0):w=q.H;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.A(),F=z.aa(),[H,J]=F.Uf(n,p,z.oe());z.Eq(H,J)?r?q.mp(G):w[v++]=
G:r?w[v++]=G:u&&q.Kl(G)}w.length=v}k.fc();return q.TE()}vE(k,n,p,q){k=k?1!==k.ee||1!==k.fe:!1;if(n.ab)for(const u of n.Ep)k||u.TH?d.eo(q,u.ka()):(u.ZS(),u.SA.xz(p,q));else k||n.TH?d.eo(q,n.ka()):(n.ZS(),n.SA.xz(p,q))}}}
{"use strict";const d=self.D;d.o6=class extends d.ja{constructor(a,b){super();this.iI=a;this.hI=b;this.fj=d.B(d.gu)}j(){this.fj.j();this.fj=null}Om(a,b,e){let c=this.fj.ca(a,b);return c?c:e?(c=d.B(d.N0,this,a,b),this.fj.Set(a,b,c),c):null}Xi(a){a=Math.floor(a/this.iI);return isFinite(a)?a:0}Yi(a){a=Math.floor(a/this.hI);return isFinite(a)?a:0}Fl(a,b,e){if(b)for(let c=b.ba,h=b.ma;c<=h;++c)for(let m=b.Y,g=b.ga;m<=g;++m){if(e&&e.Pf(c,m))continue;const k=this.Om(c,m,!1);k&&(k.Nh(a),k.Mo()&&this.fj.uo(c,
m))}if(e)for(let c=e.ba,h=e.ma;c<=h;++c)for(let m=e.Y,g=e.ga;m<=g;++m)b&&b.Pf(c,m)||this.Om(c,m,!0).bF(a)}xz(a,b){let e=this.Xi(a.ba);const c=this.Yi(a.Y),h=this.Xi(a.ma);a=this.Yi(a.ga);if(isFinite(h)&&isFinite(a))for(;e<=h;++e)for(let m=c;m<=a;++m){const g=this.Om(e,m,!1);g&&g.iE(b)}}}}
{"use strict";const d=self.D;d.N0=class extends d.ja{constructor(a,b,e){super();this.T=b;this.R=e;this.H=d.B(d.SD)}j(){this.H.j();this.H=null}Mo(){return this.H.Mo()}bF(a){this.H.Ic(a)}Nh(a){this.H.uo(a)}iE(a){d.eo(a,this.H.qE())}}}{"use strict";const d=self.D;d.jna=class{constructor(){this.rect=new d.Rect;this.zx=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.zx=0;return this}}}
{"use strict";const d=self.D,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Ij.Gm,c=e.create(),h=d.B(d.Hd),m=d.B(d.Rect);d.$D=class extends d.ja{constructor(g){super();this.g=g;this.Dk=null;this.wU=!1;this.Cj=this.ib=null;this.OI="high-performance";this.sn=this.rn=this.$g=this.ah=this.Cc=this.Oc=this.Dj=this.Ej=0;this.gs=!0;this.dd=this.vd=this.DV=0;this.DT=this.OT="letterbox-scale";this.Vda=this.Uda=0;this.YA=e.create();
this.bi=this.$K="high";this.Pp=!1;this.qv=[];this.bD=new Set;this.GC=self.C3_Shaders;this.wI=d.B(d.K.f_,{qW:()=>[this.Sj(),this.Ei()],rW:()=>this.O_(),QW:k=>this.t4(k),getTime:()=>this.I().Ao(),PW:()=>this.I().ea()});this.ng=this.xn=0;this.ns=NaN;this.qB=null;this.CJ=new Map;this.Qv=NaN;this.jD=new Map;this.KC="";this.uK=1;this.qV=d.B(d.Rect);this.vK="";this.rV=this.Vw=null;this.xw=0;this.Ce=-1;this.Fn=0;this.IJ=k=>this.Fn=k.progress;this.Kf=null;this.Mf={Ix:null,Lx:null,Rx:null};this.yK=this.xV=
this.zK=0;this.Aj="fade-in";this.xK=null;this.wV=new Promise(k=>this.xK=k)}oca(g){this.OI=g}Lca(g){this.wU=!!g}async Ah(g){this.Dk=g.canvas;this.g.Ai("runtime","window-resize",p=>this.Zu(p));this.g.Ai("runtime","fullscreenchange",p=>this.kaa(p));this.g.Ai("runtime","fullscreenerror",p=>this.laa(p));this.Dk.addEventListener("webglcontextlost",p=>this.Yu(p));this.Dk.addEventListener("webglcontextrestored",()=>this.hH());this.Pp=!!g.isFullscreen;var k=navigator.gpu&&this.wU;let n=!1;if(k)try{await this.LR(!0)}catch(p){this.Cj=
null}if(!this.lb())try{await this.KR(!0)}catch(p){this.ib=null}this.lb()||(n=!0);if(!this.lb()&&k)try{await this.LR(!1)}catch(p){this.Cj=null}if(!this.lb())try{await this.KR(!1)}catch(p){this.ib=null}k=this.lb();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.C5(n);this.td(g.windowInnerWidth,g.windowInnerHeight,!0);this.Cj?await this.b$():this.ib&&await this.a$();k.VF(this.gs);k.qk()&&(this.ns=0);for(const p of this.g.MH){for(const q of p.Gg())q.HR(k);p.Qh()}}async LR(g){g=
{powerPreference:this.OI,depth:this.g.Am,failIfMajorPerformanceCaveat:g,pra:this.g.cD,jL:this.g.XK};this.Cj=d.B(d.K.Oqa);await this.Cj.Ra(this.Dk,g)}async KR(g){g={powerPreference:this.OI,oW:!0,depth:this.g.Am,jL:this.g.XK,failIfMajorPerformanceCaveat:g};"Android"===d.Ob.Lh&&"Chromium"===d.Ob.Yx&&75>d.Ob.VD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.EW=1);"standard"===this.g.Sr?g.alpha=
!0:(g.alpha=!1,g.EL=!0);this.ib=d.B(d.K.W6,this.Dk,g);await this.ib.cz()}async b$(){if(this.GC){const g=[];for(const [k,n]of Object.entries(this.GC))n.src=n.hha,g.push(this.Cj.fE(n,d.K.Pqa.zy(),k));await Promise.all(g)}}async a$(){if(this.GC){const g=[];for(const [k,n]of Object.entries(this.GC))n.src=n.Pfa,g.push(this.ib.fE(n,d.K.Fu.zy(),k));await Promise.all(g);this.ib.K4();this.ib.pk()}this.ib.qk()&&(this.qB=d.B(d.K.qQ,this.ib))}j(){this.Dk=this.ib=this.g=null}Zu(g){const k=this.g,n=g.devicePixelRatio;
k.we&&(self.devicePixelRatio=n);k.fca(n);this.Pp=!!g.isFullscreen;this.td(g.innerWidth,g.innerHeight);k.ea();k.zb&&(k.Zt()||self.Eg.uka())&&k.Wo()}kaa(g){this.Pp=!!g.isFullscreen;this.td(g.innerWidth,g.innerHeight,!0);this.g.ea()}laa(g){this.Pp=!!g.isFullscreen;this.td(g.innerWidth,g.innerHeight,!0);this.g.ea()}td(g,k,n=!1){g=Math.floor(g);k=Math.floor(k);if(0>=g||0>=k)throw Error("invalid size");if(this.Ej!==g||this.Dj!==k||n){this.Ej=g;this.Dj=k;n=this.Lt();"letterbox-scale"===n?this.D7(g,k):"letterbox-integer-scale"===
n?this.C7(g,k):"off"===n?this.A7(g,k):this.B7(g,k);this.gda(n);this.Dk.width=this.ah;this.Dk.height=this.$g;this.g.Al("canvas","update-size",{marginLeft:this.rn,marginTop:this.sn,styleWidth:this.Oc,styleHeight:this.Cc});g=this.lb();g.td(this.ah,this.$g,!0);for(var p of this.qv)g.$Y(p);d.F(this.qv);g.Bq(this.YA,this.Sj()/this.Ei());p=this.g.eb;p.Zo();p.Yo()}}D7(g,k){const n=this.g.Qj(),p=this.g.nh,q=this.g.mh,u=p/q;g/k>u?(this.Oc=Math.round(k*u),this.Cc=k,this.rn=Math.floor((g-this.Oc)/2),this.sn=
0):(this.Oc=g,this.Cc=Math.round(g/u),this.rn=0,this.sn=Math.floor((k-this.Cc)/2));this.ah=Math.round(this.Oc*n);this.$g=Math.round(this.Cc*n);this.g.Au(p,q)}C7(g,k){const n=this.g.Qj();1!==n&&(g+=1,k+=1);const p=this.g.nh,q=this.g.mh;var u=p/q;u=g/k>u?k*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.ah=Math.round(p*u);this.$g=Math.round(q*u);this.Oc=this.ah/n;this.Cc=this.$g/n;this.rn=Math.max(Math.floor((g-this.Oc)/2),0);this.sn=Math.max(Math.floor((k-this.Cc)/2),0);this.g.Au(p,
q)}B7(g,k){const n=this.g.Qj();this.Oc=g;this.Cc=k;this.ah=Math.round(this.Oc*n);this.$g=Math.round(this.Cc*n);this.sn=this.rn=0;g=this.Rj();this.g.Au(this.Oc/g,this.Cc/g)}A7(g,k){const n=this.g.Qj();this.Oc=this.g.Ag;this.Cc=this.g.zg;this.ah=Math.round(this.Oc*n);this.$g=Math.round(this.Cc*n);this.Pp?(this.rn=Math.floor((g-this.Oc)/2),this.sn=Math.floor((k-this.Cc)/2)):this.sn=this.rn=0;this.g.Au(this.g.Ag,this.g.zg)}gda(g){if("high"===this.$K)this.vd=this.ah,this.dd=this.$g,this.bi="high";else{let n;
if("off"===this.Lt()){var k=this.g.Ag;n=this.g.zg}else k=this.g.nh,n=this.g.mh;this.ah<k&&this.$g<n?(this.vd=this.ah,this.dd=this.$g,this.bi="high"):(this.vd=k,this.dd=n,this.bi="low","scale-inner"===g?(g=k/n,k=this.Ej/this.Dj,k<g?this.vd=this.dd*k:k>g&&(this.dd=this.vd/k)):"scale-outer"===g&&(g=k/n,k=this.Ej/this.Dj,k>g?this.vd=this.dd*k:k<g&&(this.dd=this.vd/k)))}}I(){return this.g}A5(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.OT=g;g=this.g.eb;g.Zo();g.Yo()}Ey(){return this.OT}q5(g){if(!a.has(g))throw Error("invalid fullscreen mode");
this.DT=g;g=this.g.eb;g.Zo();g.Yo()}Lt(){return this.Pp?this.DT:this.Ey()}DP(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.$K=g;this.g.eb.Zo()}static gR(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Sj(){return this.vd}Ei(){return this.dd}VF(g){this.gs=!!g}Jca(g){this.DV=g}o2(){return this.lb().Ko()}Yu(g){console.log("[Construct 3] WebGL context lost");
g.preventDefault();this.qv=[];this.bD.clear();this.ib.yl();this.g.Yu()}async hH(){await this.ib.vF();await this.bra();for(const g of this.g.MH)for(const k of g.Gg())k.HR(this.ib);await this.g.hH();console.log("[Construct 3] WebGL context restored")}sl(){return this.ib}Qq(){return this.Cj}lb(){return this.Cj||this.ib}Sm(){return"low"===this.bi?1/this.g.Qj():this.Rj()}Rj(){const g=this.Lt();if("off"===g||"crop"===g)return 1;const k=this.g.nh,n=this.g.mh,p=k/n,q=this.ah/this.$g;return"scale-inner"!==
g&&q>p||"scale-inner"===g&&q<p?this.Cc/n:this.Oc/k}Ot(){return"low"===this.bi?1:this.Rj()}Nt(){return"low"===this.bi?1:this.g.Qj()}p5(g,k,n){k=k||this.vd;n=n||this.dd;const p=k/2+this.Uda,q=n/2+this.Vda;{let u=this.YA;if(k!==this.vd||n!==this.dd)g.Bq(c,k/n),u=c;g.$o(u)}k=g.yt(p,q,100*this.g.Qj(),p,q,n||this.dd);g.nr(k)}m5(g){var k=this.Oc/2;const n=this.Cc/2;g.$o(this.YA);k=g.yt(k,n,100,k,n);g.nr(k)}xo(){return this.rn}yo(){return this.sn}Gt(g){g.depth=this.g.Am;const k=this.qv,n=k.findIndex(q=>q.f2(g));
let p;-1!==n?(p=k[n],k.splice(n,1)):p=this.lb().OY(g);this.bD.add(p);return p}To(g){if(!this.bD.has(g))throw Error("render target not in use");this.bD.delete(g);this.qv.push(g)}O_(){const g={Jj:this.g.Cd};"low"===this.bi&&(g.width=this.Sj(),g.height=this.Ei());return this.Gt(g)}t4(g){this.To(g)}*kD(){for(const g of this.g.eb.Ox())for(const k of g.$b){const n=this.CJ.get(k);n&&(yield n)}}qN(g){if(!this.lb().qk())return null;let k=this.CJ.get(g);k||(k={name:g.Ba(),ZL:d.B(d.K.qQ,this.ib),mD:0,BW:0},
this.CJ.set(g,k));return k.ZL}dda(){const g=this.lb();if(g.qk()&&0===this.ng){this.ng=g.ai;this.Qv=NaN;for(const k of this.kD())k.mD=NaN}}kda(){this.ib&&this.ib.qk()&&this.lda();this.Cj&&this.Cj.qk()&&this.mda()}lda(){if(isNaN(this.Qv)&&(this.Qv=this.qB.mN(this.xn,this.ng),!isNaN(this.Qv))){if(this.g.zb)for(const g of this.kD())if(g.mD=g.ZL.mN(this.xn,this.ng),isNaN(g.mD))return;this.qB.LM(this.ng);this.ns=Math.min(this.Qv,1);if(this.g.zb){for(const g of this.kD())g.ZL.LM(this.ng),g.BW=Math.min(g.mD,
1);self.Eg.L6(this.ns,[...this.kD()])}this.xn=this.ng;this.ng=0}}mda(){if(0!==this.ng){for(var g=this.xn;g<this.ng;++g){var k=this.jD.get(g);if(k&&!k.$y())return}k=this.g.Tb();g=d.O2(k.$b.length+1);for(var n=this.xn;n<this.ng;++n){var p=this.jD.get(n);if(p){p=p.Sy();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.ns=d.ia(g[0],0,1);if(this.g.zb){n=[];k=k.$b;for(let q=0,u=Math.min(k.length,g.length-1);q<
u;++q)n.push({name:k[q].Ba(),BW:d.ia(g[q+1],0,1)});self.Eg.L6(this.ns,n)}for(g=this.xn;g<this.ng;++g)this.jD.delete(g);this.xn=this.ng;this.ng=0}}w7(g){this.jD.set(this.Cj.ai,g)}Gy(){return this.ns}eG(g,k,n,p,q,u){this.KC=g;this.uK=k;this.qV.yi(n,p,q,u);return this.Vw?this.Vw:this.Vw=new Promise(w=>{this.rV=w})}Q$(){if(this.KC){var g=this.Dk,k=this.qV,n=d.ia(Math.floor(k.ba),0,g.width),p=d.ia(Math.floor(k.Y),0,g.height),q=k.width();q=0===q?g.width-n:d.ia(Math.floor(q),0,g.width-n);k=k.height();k=
0===k?g.height-p:d.ia(Math.floor(k),0,g.height-p);(0!==n||0!==p||q!==g.width||k!==g.height)&&0<q&&0<k&&(g=d.Ah(q,k),g.getContext("2d").drawImage(this.Dk,n,p,q,k,0,0,q,k));d.$x(g,this.KC,this.uK).then(u=>{this.vK=URL.createObjectURL(u);this.Vw=null;this.rV(this.vK)});this.KC="";this.uK=1}}G1(g){this.ib&&(2===g?(this.Kf=d.B(d.K.BF,this.lb()),this.Kf.JP(),this.Kf.SF("Arial"),this.Kf.Gz(16),this.Kf.FP("center"),this.Kf.$P("center"),this.Kf.td(300,200)):0===g?(g=this.g.ys)&&g.cu(this.ib).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
k)):4===g&&(this.G$().then(k=>{"done"===this.Aj?this.ib.Mj(k):this.Mf.Ix=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.QR("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.Aj?this.ib.Mj(k):this.Mf.Lx=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.QR("splash-images/splash-website-512.png").then(k=>{"done"===this.Aj?this.ib.Mj(k):this.Mf.Rx=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async G$(){var g=(new URL("splash-images/splash-logo.svg",
this.g.sE())).toString();g=await d.hl(g);g=await this.g.q4(g);return await this.ib.iy(g,{Jx:"high"})}async QR(g){g=(new URL(g,this.g.sE())).toString();g=await d.hl(g);return await this.ib.iy(g,{Jx:"high"})}WE(){this.g.Al("runtime","hide-cordova-splash")}q6(){this.xw=Date.now();this.g.Fb().addEventListener("loadingprogress",this.IJ);this.Ce=requestAnimationFrame(()=>this.ZQ());3!==this.g.xs&&this.WE()}async h_(){if(this.ib){this.Fn=1;var g=this.g.xs;4===g&&await this.wV;this.wV=this.xK=null;-1!==this.Ce&&
(cancelAnimationFrame(this.Ce),this.Ce=-1);this.g.Fb().removeEventListener("loadingprogress",this.IJ);this.IJ=null;this.Kf&&(this.Kf.j(),this.Kf=null);this.g.u4();this.ib.Bu();this.Mf.Ix&&(this.ib.Mj(this.Mf.Ix),this.Mf.Ix=null);this.Mf.Lx&&(this.ib.Mj(this.Mf.Lx),this.Mf.Lx=null);this.Mf.Rx&&(this.ib.Mj(this.Mf.Rx),this.Mf.Rx=null);this.ib.so();this.ib.Dt();this.Aj="done";this.xn=this.ib.ai;3===g&&this.WE()}}ZQ(){if(-1!==this.Ce){var g=this.ib;if(g){g.Bu();this.Ce=-1;var k=this.g.ud.SI,n=this.g.xs;
3!==n&&(this.m5(g),g.so(),g.lu(),g.pk(),g.jg(null));if(0===n)this.U8(k);else if(1===n)this.Yz(k,120,0);else if(2===n)this.T8(k);else if(3!==n)if(4===n)this.V8(k);else throw Error("invalid loader style");g.Dt();this.Ce=requestAnimationFrame(()=>this.ZQ())}}}T8(g){g?this.Kf.wP(1,0,0):this.Kf.wP(.6,.6,.6);this.Kf.zu(Math.round(100*this.Fn)+"%");g=this.Oc/2;const k=this.Cc/2;h.XW(g-150,k-100,g+150,k+100);this.ib.jg(this.Kf.ne());this.ib.dr(h,this.Kf.bk())}Yz(g,k,n){const p=this.ib;p.vP();g?p.xf(1,0,0,
1):p.xf(.118,.565,1,1);g=this.Oc/2;const q=this.Cc/2,u=k/2;m.yi(g-u,q-4+n,Math.floor(k*this.Fn),8);p.Rect(m);m.yi(g-u,q-4+n,k,8);m.offset(-.5,-.5);m.wL(.5,.5);p.xf(0,0,0,1);p.kO(m);m.wL(1,1);p.xf(1,1,1,1);p.kO(m)}U8(g){var k=this.g.ys;if(k)if(k=k.ne()){var n=k.S(),p=k.U(),q=this.Oc/2,u=this.Cc/2,w=n/2;p/=2;h.XW(q-w,u-p,q+w,u+p);this.ib.jg(k);this.ib.Hd(h);this.Yz(g,n,p+16)}else this.Yz(g,120,0);else this.Yz(g,120,0)}V8(g){const k=this.ib,n=this.Mf.Ix,p=this.Mf.Lx,q=this.Mf.Rx,u=Date.now();0===this.zK&&
(this.xw=u);const w=this.g.Xq()||this.g.iea&&!this.g.WN(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.Aj?y=Math.min((u-this.xw)/300,1):"fade-out"===this.Aj&&(y=Math.max(1-(u-this.yK)/300,0));k.vP();k.xf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Oc,this.Cc);k.Rect(m);const A=Math.ceil(this.Oc),G=Math.ceil(this.Cc);let z;256<this.Cc?(k.xf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.yi(0,.8*G-z/2,A,z),k.Rect(m),g?k.xf(y,0,0,y):k.xf(.161*y,.953*y,.816*y,y),g=A*this.Fn,m.yi(.5*A-g/2,.8*G-z/2,g,z),k.Rect(m),
k.xf(y,y,y,y),k.pk(),p&&(g=1.5*d.ia(.22*G,105,.6*A),z=g/8,m.yi(.5*A-g/2,.2*G-z/2,g,z),k.jg(p),k.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.yi(.5*A-g/2,.485*G-z/2,g,z),k.jg(n),k.Rect(m)),q&&(g=1.5*d.ia(.22*G,105,.6*A),z=g/8,m.yi(.5*A-g/2,.868*G-z/2,g,z),k.jg(q),k.Rect(m))):(k.xf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.yi(0,.85*G-z/2,A,z),k.Rect(m),g?k.xf(y,0,0,y):k.xf(.161*y,.953*y,.816*y,y),g=A*this.Fn,m.yi(.5*A-g/2,.85*G-z/2,g,z),k.Rect(m),k.xf(y,y,y,y),k.pk(),n&&(z=g=.55*G,m.yi(.5*A-g/2,.45*
G-z/2,g,z),k.jg(n),k.Rect(m)));this.zK++;"fade-in"===this.Aj&&300<=u-this.xw&&2<=this.zK&&(this.Aj="wait",this.xV=u);"wait"===this.Aj&&u-this.xV>=v&&1<=this.Fn&&(this.Aj="fade-out",this.yK=u);("fade-out"===this.Aj&&u-this.yK>=300+r||w&&1<=this.Fn&&500>u-this.xw)&&this.xK()}}}
{"use strict";const d=self.D,a=self.Eg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.pP=class extends d.ja{constructor(c){c=Object.assign({},b,c);super();this.Bw=c.messagePort;this.Bda=c.baseUrl;this.we=!!c.isInWorker;e=c.ife;this.bf=c.exportType;this.xU=!!c.isiOSCordova;this.iea=!!c.isFBInstantAvailable;this.Dea=c.opusWasmScriptUrl;this.YU=c.opusWasmBinaryUrl;this.ve=this.Ida=this.zb=!("preview"!==this.bf||!c.isDebug);this.qI=
0;this.zA=[];this.tda=[];this.jK=this.fV=this.zC="";this.mh=this.nh=0;this.bs=self.devicePixelRatio;this.xs=this.zg=this.Ag=this.qC=this.pC=0;this.eD=!1;this.Kk=!0;this.XK=this.cD=!1;this.ys=null;this.ud=d.B(d.SX,this,c);this.eb=d.B(d.C2,this);this.ya=d.B(d.l_,this);this.bq=d.B(d.Z3,this);this.gj=d.B(d.yY,this);this.Ib=d.B(d.y6,this);this.JK=d.B(d.C6,this);this.$c=[];this.XJ=new Map;this.YJ=new Map;this.JT=0;this.vda=[];this.MH=[];this.Gv=[];this.$l=[];this.BB=new Map;this.tB=!1;this.Ew=this.ZJ=0;
this.Lp=new Map;this.Mp=new Set;this.CB=new Set;this.nC=[];this.zU=[];this.P=null;this.Am=!1;this.II="vsync";this.Sr="standard";this.Cd="trilinear";this.cm=!1;this.UJ=!0;this.qJ=this.aV=!1;this.Sea={IW:h=>{this.rm=this.Ce=-1;this.Ve(h)},Vga:h=>{this.rm=-1;this.Ve(h,!1,"skip-render")},Ega:()=>{this.Ce=-1;this.Wo()}};this.rm=this.Ce=-1;this.js=this.Sk=0;this.cU=this.LB=this.uB=!1;this.mJ=!0;this.Ps=0;this.Iea=()=>Math.random();this.Lv=this.Mv=this.aC=this.On=0;this.ie=1;this.TU=30;this.MI=d.B(d.mz);
this.NI=d.B(d.mz);this.ZK=d.B(d.mz);this.nB=-1;this.iC=this.hm=this.mB=this.Gp=0;this.Lk=!1;this.ww=this.Nw="";this.ws=null;this.Vp="";this.qK=this.iK=null;this.Vb=d.B(d.Event.Fb);this.uI=new Map;this.dK=new Map;this.zea=0;this.vU=this.AT=this.BT=!1;this.YK=[];this.Dp={pretick:d.B(d.Event,"pretick",!1),tick:d.B(d.Event,"tick",!1),tick2:d.B(d.Event,"tick2",!1),instancedestroy:d.B(d.Event,"instancedestroy",!1),beforelayoutchange:d.B(d.Event,"beforelayoutchange",!1),layoutchange:d.B(d.Event,"layoutchange",
!1)};this.Dp.instancedestroy.instance=null;this.je=d.B(d.Event.Fb);this.MV=null;this.pn=d.B(d.So,d.Vx.hG);this.tp=d.B(d.So,d.Vx.hG);this.qn=d.B(d.So,d.Vx.hG);this.mw=d.B(d.x2,this,c.jobScheduler);c.canvas&&(this.P=d.B(d.$D,this));this.Bw.onmessage=h=>this._OnMessageFromDOM(h.data);this.Ai("runtime","visibilitychange",h=>this.Gaa(h));this.Ai("runtime","opus-decode",h=>this.pda(h.arrayBuffer));this.Ai("runtime","get-remote-preview-status-info",()=>this.G9());this.Ai("runtime","js-invoke-function",h=>
this.eA(h));this.Ai("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Vb.addEventListener("window-blur",h=>this.Kaa(h));this.Vb.addEventListener("window-focus",()=>this.Laa());this.Ib.GX();this.oj=null;this.eea=new WeakMap;this.Dv={keyboard:null,FW:null,aM:null}}static Ra(c){return d.B(d.pP,c)}j(){d.F(this.$c);this.XJ.clear();this.YJ.clear();this.eb.j();this.eb=null;this.ya.j();this.ya=null;this.bq.j();this.bq=null;this.ud.j();this.ud=null;this.gj.j();this.gj=null;this.Ib.j();this.Ib=
null;this.JK.j();this.JK=null;this.P&&(this.P.j(),this.P=null);this.Vb.j();this.Vb=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.bS(c);else if("result"===h)this.Aaa(c);else throw Error(`unknown message '${h}'`);}bS(c){if(this.vU){var h=c.component,m=c.handler,g=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new d.Event(m),c.data=g,this.Vb.Bfa(c)),k)){c=new d.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=
u;this.Bh(c)}if(c=this.uI.get(h))if(c=c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.hA(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.hA(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.hA(p,!1,""+q)}):this.hA(p,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.YK.push(c)}hA(c,
h,m){this.Bw.postMessage({type:"result",responseId:c,isOk:h,result:m})}Aaa(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.dK.get(h);m?g.resolve(c):g.reject(c);this.dK.delete(h)}Ai(c,h,m){let g=this.uI.get(c);g||(g=new Map,this.uI.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}Al(c,h,m){this.Bw.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}Qo(c,h,m){const g=this.zea++,k=new Promise((n,p)=>{this.dK.set(g,{resolve:n,
reject:p})});this.Bw.postMessage({type:"event",component:c,handler:h,data:m,responseId:g});return k}e4(){if(!this.zb)throw Error("not in debug mode");this.Al("runtime","post-to-debugger",{type:"reload"})}async Ig(c){this.zb?await a.Ig(this):self.Eg&&self.Eg.hka(this);var [h]=await Promise.all([this.ud.WM("data.json"),this.P$(),this.mw.Ig()]);this.r$(h);await this.c$(c);this.Xq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.sl()?(h=this.sl(),console.info(`[C3 runtime] Hosted in ${this.we?
"worker":"DOM"}, rendering with WebGL ${h.kd} [${h.Ys}] (${h.g2()?"desynchronized":"standard"} compositing)`)):this.Qq()&&console.info(`[C3 runtime] Hosted in ${this.we?"worker":"DOM"}, rendering with experimental WebGPU`);this.lb().rB&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.vU=!0;for(const m of this.YK)this.bS(m);d.F(this.YK);this.P&&this.P.q6();for(const m of c.runOnStartupFunctions)this.zA.push(this.yba(m));
await Promise.all([this.ud.oQ(),...this.zA]);d.F(this.zA);if(this.ud.SI)this.P&&this.P.WE();else return this.P&&await this.P.h_(),await this.Vb.pL(new d.Event("beforeruntimestart")),await this.Bu(),this.Bw.postMessage({type:"runtime-ready"}),this}async yba(c){try{await c(this.oj)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}r$(c){c=c.project;this.zC=c[0];this.fV=c[16];this.jK=c[31];const h=c[39]||"loading-logo.png";this.cm=!!c[9];this.nh=this.Ag=c[10];this.mh=this.zg=
c[11];this.pC=this.nh/2;this.qC=this.mh/2;this.Sr=c[36];this.II=c[37];"low-latency"===this.Sr&&this.b2()&&77>=d.Ob.VD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Sr="standard");this.Am=!!c[40];this.Cd=c[14];this.cD=c[15];this.XK=c[17];this.eD=!!c[18];this.xs=c[19];this.Ew=c[21];this.aV=c[22];const m=this.ud;m.$ba(c[7]);m.nca(c[32]);m.sca(c[28]);
m.Kca(c[29]);if(0===this.xs){let q="";this.Xq()?m.UG(h)&&(q=m.rN(h)):q=m.dU+h;q&&(this.ys=m.qz({url:q}))}this.P&&(this.P.A5(d.$D.gR(c[12])),this.P.DP(c[23]?"high":"low"),this.P.VF(0!==c[24]),this.P.oca(c[34]),this.P.Jca(c[41]),this.P.Lca(c[13]));this.bq.PY();this.nC=self.oM();for(var g of c[2])this.bq.NY(g);this.nC=self.oM();this.z$();for(var k of c[3])g=d.sF.Ra(this,this.$c.length,k),this.$c.push(g),this.XJ.set(g.Ba().toLowerCase(),g),this.YJ.set(g.kb,g);for(const q of c[4])this.$c[q[0]].u$(q);for(var n of c[27])k=
n.map(q=>this.$c[q]),this.vda.push(d.B(d.DY,this,k));for(const q of this.$c)q.Z$();for(const q of c[5])this.eb.Ra(q);(n=c[1])&&(n=this.eb.Kq(n))&&this.eb.w5(n);for(var p of c[33])this.Ib.Ra(p);for(const q of c[35])this.JK.Ra(q);this.Z9();for(const q of c[6])this.ya.Ra(q);this.ya.Qb();this.V9();d.F(this.nC);this.Yd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Al("runtime","set-target-orientation",{targetOrientation:p})}iM(c){this.zA.push(c)}B9(){return this.JT++}n7(c){this.MH.push(c)}async c$(c){this.P&&
(await this.P.Ah(c),this.P.G1(this.xs))}async P$(){if(!this.ud.c2()){var c=null;try{c=this.xU&&this.ud.ew?await this.ud.DM(this.YU):await this.ud.Bt(this.YU)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.AX(c):this.zX();await this.BX([this.Dea])}}async pda(c){return await this.OD("OpusDecode",{arrayBuffer:c},[c])}async Bu(){this.uB=!0;this.On=Date.now();if(this.eD){for(var c of this.$c)c.ab||c.pJ||!c.Ff||c.Yc();this.ud.oQ().then(()=>
{this.Kk=!1;this.fS()})}else this.Kk=!1;this.ud.D5();this.zb&&a.qoa(e);for(const h of this.eb.cj)h.T7();c=this.eb.Z_();await c.XG(null,this.lb());await c.TS(!0);this.Gp=performance.now();this.eD||this.fS();(await this.Qo("runtime","before-start-ticking")).isSuspended?this.Ps++:this.Ve()}fS(){this.wa(d.C.Ka.G.x3,null,null);this.Al("runtime","register-sw")}Fh(c){c=Math.floor(c);const h=this.nC;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}z$(){for(const c of self.fY){const h=
d.first(Object.keys(c));this.zU.push(h)}}Ji(c){c=Math.floor(c);const h=this.zU;if(0>c||c>=h.length)throw Error("invalid prop reference");return h[c]}sE(){return this.Bda}na(){return this.ya}qd(){return this.ya.qd()}qf(){return this.ya.qf()}Jb(){return this.ya.Jb()}Xf(){return this.ya.Xf()}XN(){return 0===this.qf().Rl}Kt(){return this.ya.Kt()}Ut(){return this.bq.Ut()}sf(c){c=Math.floor(c);if(0>c||c>=this.$c.length)throw new RangeError("invalid index");return this.$c[c]}Ky(c){return this.XJ.get(c.toLowerCase())||
null}Ly(c){return this.YJ.get(c)||null}*Yea(){for(const c of this.$c)c.ab||(yield*c.uW())}Fb(){return this.Vb}Bh(c){c.Sf=this.oj;const h=this.zb&&!this.ya.hz();h&&a.jG();this.je.dispatchEvent(c);h&&a.QD()}vo(c){c.Sf=this.oj;return this.je.pL(c)}K5(c,h){if(this.nh!==c||this.mh!==h)this.nh=c,this.mh=h,c=this.eb,c.Zo(),c.Yo()}Au(c,h){if(this.Ag!==c||this.zg!==h)this.Ag=c,this.zg=h,c=this.eb,c.Zo(),c.Yo()}fca(c){this.bs=c}Qj(){return this.bs}Sj(){return this.P?this.P.Sj():this.Ag}Ei(){return this.P?this.P.Ei():
this.zg}Sm(){return this.P?this.P.Sm():1}Rj(){return this.P?this.P.Rj():1}Ot(){return this.P?this.P.Ot():1}Nt(){return this.P?this.P.Nt():1}xo(){return this.P?this.P.xo():0}yo(){return this.P?this.P.yo():0}I_(){return this.P?this.P.Oc:0}H_(){return this.P?this.P.Cc:0}Ey(){return this.P?this.P.Ey():"off"}Gt(c){return this.P?this.P.Gt(c):null}To(c){this.P&&this.P.To(c)}Gy(){return this.P?this.P.Gy():NaN}mF(){return"nearest"!==this.Cd}u4(){this.ys&&(this.ys.j(),this.ys=null)}Tb(){return this.eb.Tb()}qz(c){return this.ud.qz(c)}dE(c,
h,m,g,k){return this.Di(c,h,!1,m,g,!1,k,void 0,k)}Di(c,h,m,g,k,n,p,q,u){var w=null;let r=null;c instanceof d.sF?(r=c,r.ab&&(w=r.Ep,r=w[Math.floor(this.Bl()*w.length)]),w=r.Zr):(w=c,r=this.sf(w[1]));c=r.Cb().Ff;if(this.Kk&&c&&!r.pJ)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.Lp.has(w[2])?w[2]:this.Ew++;const A=w?w[0]:null,G=d.B(d.Instance,{Sf:this,JL:r,DW:h,mX:A,tW:w?w[3]:null,uid:y});this.Lp.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof g&&"undefined"!==typeof k&&(y.Te(g),y.Ue(k)),
r.ES());h&&(u||h.Vg(G,!0),1===h.ee&&1===h.fe||r.pH(!0),h.hc().rO(r));this.ZJ++;let z=!0;q&&(q=q.J(),q.Zb()&&r.Zb()&&r.bh===q.bh&&(z=!1));if(r.Zb()&&!m&&!n&&z){for(var F of r.bh.nm)F!==r&&(q=this.Di(F,v,!1,y?y.N():g,y?y.O():k,!0,!1,void 0,u),G.Ar(q));for(var H of G.Jd){H.Ar(G);for(const J of G.Jd)H!==J&&H.Ar(J)}}c&&!m&&p&&this.xG(G,A,y,h,g,k,u);if(r.Zb()&&!m&&!n&&p)for(const J of G.Jd)if(m=J.A())F=J.Cb(),H=J.J().Zr[0],F.Ff?this.xG(J,H,m,h,m.N(),m.O(),u):this.xG(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===
typeof g&&(g=A[0]),"undefined"===typeof k&&(k=A[1]),h=y.Vy(),g=g-y.N()+h.N(),k=k-y.O()+h.O(),h.Ph(g,k));r.av();k=w?d.lL(w[5]):null;w=w?w[4].map(J=>d.lL(J)):null;c&&A&&A[13]&&G.rca();G.Vz(k,w);this.$l.push(G);this.tB=!0;this.zb&&a.ika(G);return G}xG(c,h,m,g,k,n,p){var q=m.F0(),u=m.wN();c.A().XF(q);if(u){"undefined"===typeof k&&(k=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.eb.IE(A[0]).aa(w).g0(r);w=this.sf(r[1]);
var y=c.b1(w);const z=q.has(w);y&&!z&&v?(v=c.CN(w),y=k+r[0][0]-m,r=n+r[0][1]-h,v.A().Ph(y,r),v.A().XF(G),c.Lm(v,{tt:!!(u>>0&1),ut:!!(u>>1&1),xq:!!(u>>2&1),wq:!!(u>>3&1),qt:!!(u>>4&1),yx:!!(u>>5&1),wt:!!(u>>6&1)}),q.add(w)):(w=this.Di(r,g,!1,k+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.A().XF(G),c.Lm(w,{tt:!!(u>>0&1),ut:!!(u>>1&1),xq:!!(u>>2&1),wq:!!(u>>3&1),qt:!!(u>>4&1),yx:!!(u>>5&1),wt:!!(u>>6&1)}))}}}Nm(c){if(!this.Mp.has(c)){var h=c.J(),m=this.BB.get(h);if(m){if(m.has(c))return;m.add(c)}else m=new Set,
m.add(c),this.BB.set(h,m);this.zb&&a.jka(c);c.aH();this.tB=!0;if(c.Zb())for(const g of c.Jd)this.Nm(g);for(const g of c.children())g.Ay()&&this.Nm(g);this.eb.aO()||this.Lk||(h=this.na(),h.He(!0),c.$ca(),h.He(!1));c.i9(this.eb.aO())}}Yd(){this.tB&&(this.k9(),this.l9(),this.tB=!1,this.ea())}k9(){for(const c of this.$l){const h=c.J();h.Vg(c);for(const m of h.Zh)m.Vg(c),m.av()}d.F(this.$l)}l9(){this.Vb.kr(!0);for(const [c,h]of this.BB.entries())this.m9(c,h),h.clear();this.BB.clear();this.Vb.kr(!1)}m9(c,
h){for(const g of h){var m=this.Dp.instancedestroy;m.instance=g;this.Vb.dispatchEvent(m);this.Lp.delete(g.Gc);if(m=g.A())m.pS(),m.qS(),m.aH();this.Mp.add(g);this.ZJ--}d.Bg(c.ka(),h);c.av();this.CB.add(c);0===c.ka().length&&c.pH(!1);for(const g of c.Zh)d.Bg(g.ka(),h),g.av(),this.CB.add(g);if(c.Cb().Ff){c=new Set([...h].map(g=>g.A().aa()));for(const g of c)g.dba(h)}}*xL(c){for(const h of this.$l)c.ab?h.J().UD(c)&&(yield h):h.J()===c&&(yield h)}A9(){return this.Ew++}M$(c,h){this.Lp.set(c,h)}Yu(){this.Vb.dispatchEvent(d.B(d.Event,
"webglcontextlost"));this.yu(!0);for(var c of this.$c)!c.ab&&c.$0()&&c.Uo();(c=this.Tb())&&c.Yu();d.bz.br();d.PN.br()}async hH(){await this.Tb().XG(null,this.sl());this.Vb.dispatchEvent(d.B(d.Event,"webglcontextrestored"));this.yu(!1);this.ea()}Gaa(c){this.yu(c.hidden)}Kaa(c){this.Xq()&&this.aV&&!d.Ob.iz&&!c.data.parentHasFocus&&(this.yu(!0),this.qJ=!0)}Laa(){this.qJ&&(this.yu(!1),this.qJ=!1)}rS(){const c=this.Sea;"vsync"===this.II?-1===this.Ce&&(this.Ce=self.requestAnimationFrame(c.IW)):"unlimited-tick"===
this.II?(-1===this.rm&&(this.rm=d.DF(c.Vga)),-1===this.Ce&&(this.Ce=self.requestAnimationFrame(c.Ega))):-1===this.rm&&(this.rm=d.DF(c.IW))}H7(){-1!==this.Ce&&(self.cancelAnimationFrame(this.Ce),this.Ce=-1);-1!==this.rm&&(d.mY(this.rm),this.rm=-1)}Zm(){return 0<this.Ps}yu(c){var h=this.Zm();this.Ps+=c?1:-1;0>this.Ps&&(this.Ps=0);c=this.Zm();!h&&c?(console.log("[Construct 3] Suspending"),this.H7(),this.Vb.dispatchEvent(d.B(d.Event,"suspend")),this.wa(d.C.Ka.G.M3,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),
this.Gp=this.aC=h=performance.now(),this.hm=this.iC=this.mB=this.nB=0,this.Vb.dispatchEvent(d.B(d.Event,"resume")),this.wa(d.C.Ka.G.J3,null,null),this.Zt()||this.Ve(h))}j7(c){this.pn.Ic(c)}k7(c){this.qn.Ic(c)}fba(c){this.pn.Nh(c)}eba(c){this.tp.Nh(c)}gba(c){this.qn.Nh(c)}y7(){this.pn.Oh(!0);for(const c of this.pn)c.Ve();this.pn.Oh(!1)}x7(){this.tp.Oh(!0);for(const c of this.tp);this.tp.Oh(!1)}z7(){this.qn.Oh(!0);for(const c of this.qn)c.Cu();this.qn.Oh(!1)}*d8(){this.pn.Oh(!0);for(const c of this.pn){const h=
c.Ve();d.Xm(h)&&(yield*h)}this.pn.Oh(!1)}*c8(){this.tp.Oh(!0);for(const c of this.tp)d.Xm(void 0)&&(yield*void 0);this.tp.Oh(!1)}*e8(){this.qn.Oh(!0);for(const c of this.qn){const h=c.Cu();d.Xm(h)&&(yield*h)}this.qn.Oh(!1)}async Ve(c,h,m){this.cU=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.uB&&(!this.Zm()||h||g)&&(h=performance.now(),this.LB=!0,this.S$(c||0),c=this.s6(),this.ve&&await c,c=this.Vb.Cfa(this.Dp.pretick),c instanceof Promise&&await c,c=this.r6(),this.ve&&
await c,this.X$()&&await this.O9(),this.eb.Wq()&&await this.O$(),c=this.t6(),this.ve&&await c,m&&this.Wo(),this.Zm()||g||this.rS(),this.Sk++,this.js++,this.LB=!1,this.hm+=performance.now()-h)}async s6(){const c=this.ya,h=this.zb;this.Yd();c.He(!0);this.iu(this.Tb());h&&a.zr();this.ve?await c.VY():c.T4();h&&a.yX();this.hu();c.He(!1);this.Yd();c.He(!0)}async r6(){const c=this.zb,h=this.ve,m=this.Vb,g=this.Dp,k=this.MV;c&&a.zr();h?await this.my(this.d8()):this.y7();h?await this.my(this.c8()):this.x7();
c&&a.uX();c&&a.zr();h?await this.JM(g.tick):m.dispatchEvent(g.tick);c&&a.DX();this.ya.He(!1);this.Bh(k.tick)}async t6(){const c=this.ya,h=this.Vb,m=this.Dp,g=this.zb,k=this.ve;g&&a.zr();k?await c.TY(this.eb):c.R4(this.eb);g&&a.yX();this.gj.uM();this.nS();this.mJ=!1;c.He(!0);g&&a.zr();k?await this.my(this.e8()):this.z7();g&&a.uX();g&&a.zr();k?await this.JM(m.tick2):h.dispatchEvent(m.tick2);g&&a.DX();c.He(!1);k&&await c.oP()}nS(){if(0!==this.Mp.size){var c=this.Vb;c.kr(!0);for(const h of this.CB)h.Nn.Vo(this.Mp);
this.CB.clear();this.ya.x4(this.Mp);for(const h of this.Mp)h.j();this.Mp.clear();c.kr(!1)}}async O$(){const c=this.eb;let h=0;for(;c.Wq()&&10>h++;)await this.TQ(c.Hw)}S$(c){let h=0;0!==this.aC&&(h=Math.max(c-this.aC,0)/1E3,.5<h&&(h=0),this.Mv=Math.min(h,1/this.TU));this.aC=c;this.Lv=this.Mv*this.ie;this.MI.Ic(this.Lv);this.NI.Ic(h*this.ie);this.ZK.Ic(this.Mv);this.P&&this.P.kda();1E3<=c-this.Gp&&(this.Gp+=1E3,1E3<=c-this.Gp&&(this.Gp=c),this.mB=this.nB,this.nB=0,this.iC=Math.min(this.hm/1E3,1),this.hm=
0,this.P&&this.P.dda(),this.zb&&a.Bqa());this.nB++}async TQ(c){const h=this.Vb,m=this.eb.Tb();await m.Vca();m.cda(c,this.lb());m===c&&this.ya.by();this.gj.uM();this.nS();h.dispatchEvent(this.Dp.beforelayoutchange);d.el.EP(!0);await c.XG(m,this.lb());d.el.EP(!1);await c.TS(!1);h.dispatchEvent(this.Dp.layoutchange);this.ea();this.mJ=!0;this.Yd()}ea(){this.UJ=!0}sl(){return this.P?this.P.sl():null}Qq(){return this.P?this.P.Qq():null}lb(){return this.P?this.P.lb():null}Wo(){const c=this.P;if(c&&!c.o2()){var h=
this.lb(),m=h.qk(),g=m&&h.xl();m=m&&!1;g&&h.qY();if(this.UJ){var k=this.eb.Tb();h.Bu();var n=this.zb;n&&a.zr();this.UJ=!1;var p=null;g&&(p=c.qB.RD(),h.kG(p));g=null;m&&(g=h.Spa(2*(1+k.$b.length)),h.e7(0));this.Am&&"low"===c.bi?h.x5(c.Sj(),c.Ei()):h.f5();this.mba(this.lb(),k);p&&h.kE(p);m&&(h.e7(1),this.P.w7(g));h.Dt();n&&(a.Cha(),a.Dqa());c&&c.Q$()}else h.u1()}}mba(c,h){c.pk();c.tP();c.xf(1,1,1,1);c.Qg(null);c.jg(null);c.Og(this.Am);h.Ch(c)}wa(c,h,m){if(!this.uB)return!1;var g=!this.LB&&!this.ya.lF();
let k=0;g&&(k=performance.now());const n=this.zb;n&&this.Ez(!1);c=this.ya.hv(this.eb,c,h,m);g&&(g=performance.now()-k,this.hm+=g,n&&a.Fha(g));n&&this.Ez(!0);return c}async Nc(c,h,m){if(!this.ve)return this.wa(c,h,m);if(!this.uB)return!1;if(this.Zt())return this.ya.p4(c,h,m);if(!this.Tb())return this.ya.zF(c,h,m);const g=performance.now();c=this.ya.Iu(this.eb,c,h,m);for(h=c.next();!h.done;)await this.Fq(h.value),h=c.next();this.Zm()||this.ya.lF()||(await this.ya.oP(),this.cU&&!this.LB&&this.rS());
this.hm+=performance.now()-g;return h.value}iu(c){this.Gv.push(c)}hu(){if(!this.Gv.length)throw Error("layout stack empty");this.Gv.pop()}Na(){return this.Gv.length?this.Gv.ke(-1):this.Tb()}By(c){return c&&-1!==c.ie?this.Mv*c.ie:this.Lv}aG(c){if(isNaN(c)||0>c)c=0;this.ie=c}PP(c){this.TU=d.ia(c,1,120)}Ao(){return this.MI.ca()}c0(){return this.NI.ca()}QE(){return this.ZK.ca()}ul(){++this.js}Hi(c){if(this.Lk)throw Error("cannot call while loading state - wait until afterload event");return this.Lp.get(c)||
null}lS(){this.Lp.clear();for(const c of this.$c)if(!c.ab)for(const h of c.ka())this.Lp.set(h.Gc,h)}Xq(){return"preview"===this.bf}WN(){return"cordova"===this.bf}b2(){return"Android"===d.Ob.Lh&&("cordova"===this.bf||"playable-ad"===this.bf||"instant-games"===this.bf)}N5(c){c=!!c;this.cm!==c&&(this.cm=c,this.eb.Yo(),this.ea())}V4(c){this.Nw=c}I2(c){this.ww=c}rF(c){this.ws=c}X$(){return!(!this.Nw&&!this.ww&&null===this.ws)}async O9(){this.Nw&&(this.Yd(),await this.G8(this.Nw),this.vG());this.ww&&(await this.F8(this.ww),
this.vG(),this.zb&&a.Upa());if(null!==this.ws){this.Yd();try{await this.UQ(this.ws),this.Vp=this.ws,await this.Nc(d.C.Ka.G.KO,null),this.Vp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Nc(d.C.Ka.G.LO,null)}this.vG()}}vG(){this.ww=this.Nw="";this.ws=null}F9(){this.iK||(this.iK=localforage.mL({name:"c3-localstorage-"+this.jK,description:this.zC}));return this.iK}wR(){this.qK||(this.qK=localforage.mL({name:"c3-savegames-"+this.jK,description:this.zC}));
return this.qK}async G8(c){const h=await this.Sba();try{await this.wR().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.Vp=h,await this.Nc(d.C.Ka.G.K3,null),this.Vp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Nc(d.C.Ka.G.L3,null)}}async F8(c){try{const h=await this.wR().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+h.length+" chars)");await this.UQ(h);this.Vp=
h;await this.Nc(d.C.Ka.G.KO,null);this.Vp=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.Nc(d.C.Ka.G.LO,null)}}async Sba(){const c={c3save:!0,version:1,rt:{time:this.Ao(),timeRaw:this.c0(),walltime:this.QE(),timescale:this.ie,tickcount:this.Sk,execcount:this.js,next_uid:this.Ew,running_layout:this.Tb().kb,start_time_offset:Date.now()-this.On},types:{},layouts:{},events:this.ya.la(),timelines:this.Ib.la(),user_script_data:null};for(var h of this.$c)h.ab||
h.LN()||(c.types[h.kb.toString()]=h.la());for(const m of this.eb.cj)c.layouts[m.kb.toString()]=m.la();h=this.AG("save");h.saveData=null;await this.vo(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async UQ(c){var h=this.eb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Vb.dispatchEvent(d.B(d.Event,"beforeload"));for(var m of this.Yea())m.fA();
this.Lk=!0;m=c.rt;this.MI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.NI.Set(m.timeRaw);this.ZK.Set(m.walltime);this.ie=m.timescale;this.Sk=m.tickcount;this.js=m.execcount;this.On=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Tb().kb)if(g=h.IE(g))await this.TQ(g);else return;for(const [k,n]of Object.entries(c.types))g=this.Ly(parseInt(k,10)),!g||g.ab||g.LN()||g.qa(n);this.Yd();this.lS();this.Lk=!1;this.Ew=m.next_uid;for(const [k,n]of Object.entries(c.layouts))(m=h.IE(parseInt(k,
10)))&&m.qa(n);this.ya.qa(c.events);for(const k of this.$c)if(!k.ab&&k.Zb())for(const n of k.ka()){m=n.Bo();for(const p of k.bh.nm)if(p!==k){g=p.ka();if(0>m||m>=g.length)throw Error("missing sibling instance");n.Ar(g[m])}}this.Ib.qa(c.timelines);h.Zo();h.Yo();this.Vb.dispatchEvent(d.B(d.Event,"afterload"));h=this.AG("load");h.saveData=c.user_script_data;await this.vo(h);this.ea()}async BX(c){c=(await Promise.all(c.map(h=>this.ud.hl(h)))).map(h=>URL.createObjectURL(h));this.mw.t1(c)}zX(){this.mw.b5()}AX(c){this.mw.c5(c)}OD(c,
h,m){return this.mw.OD(c,h,m)}ez(c,h){this.Al("runtime","invoke-download",{url:c,filename:h})}async q4(c){var h=h||2048;var m=m||2048;return this.we?(await this.Qo("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,h,m)}fr(){this.BT||(this.BT=!0,this.Al("runtime","enable-device-orientation"))}an(){this.AT||(this.AT=!0,this.Al("runtime","enable-device-motion"))}Bl(){return this.Iea()}G9(){const c=
this.sl();return{fps:this.mB,cpu:this.iC,gpu:this.Gy(),layout:this.Tb()?this.Tb().Ba():"",renderer:c?c.Ys:"<unavailable>"}}Zt(){return this.zb?a.Zt():!1}Fq(c){return this.ve?a.Fq(c):Promise.resolve()}uc(){return this.ve?a.aia():!1}Ez(c){c?this.qI--:this.qI++;this.fda()}fda(){this.ve=this.zb&&this.Ida&&0===this.qI}dF(){return this.zb&&a.dF()}iF(){return this.zb&&this.lb().qk()&&a.iF()}async my(c){if(c)for(const h of c)await this.Fq(h)}JM(c){return this.my(this.Vb.Dfa(c))}eA(c){return this.ya.eA(c.name,
c.params)}AG(c){c=d.B(d.Event,c,!1);c.Sf=this.oj;return c}Z9(){var c={};for(const h of this.$c)c[h.Ji()]={value:h.Xv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.oj=new self.l1(this,c);this.MV={tick:this.AG("tick")}}V9(){const c={};for(const h of this.na().NH)c[h.Ji()]=h.xR();this.oj.W9(c)}RR(c,h){this.eea.set(c,h)}};self.C3_CreateRuntime=d.pP.Ra;self.C3_InitRuntime=(c,h)=>c.Ig(h)}
{"use strict";const d=self.D;d.x2=class extends d.ja{constructor(a,b){super();this.g=a;this.Sp=new Map;this.Bea=0;this.$v=b.inputPort;b.outputPort.onmessage=e=>this.eS(e);this.MU=b.maxNumWorkers;this.ow=1;this.WT=this.cw=!1}async Ig(){}t1(a){this.$v.postMessage({type:"_import_scripts",scripts:a})}b5(){this.$v.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}c5(a){this.$v.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}OD(a,b,e){e||(e=[]);const c=this.Bea++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((h,m)=>{this.Sp.set(c,{resolve:h,progress:void 0,reject:m,kL:!1})});this.$v.postMessage(a,e);this.SR();return b}eS(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.saa(e,a.result);break;case "progress":this.raa(e,a.progress);break;case "error":this.qaa(e,a.error);break;case "ready":this.taa();break;default:throw Error(`unknown message from worker '${b}'`);}}saa(a,b){const e=this.Sp.get(a);if(!e)throw Error("invalid job ID");
e.kL||e.resolve(b);this.Sp.delete(a)}raa(a,b){a=this.Sp.get(a);if(!a)throw Error("invalid job ID");!a.kL&&a.progress&&a.progress(b)}qaa(a,b){const e=this.Sp.get(a);if(!e)throw Error("invalid job ID");e.kL||e.reject(b);this.Sp.delete(a)}taa(){this.cw&&(this.cw=!1,this.ow++,this.ow<this.MU?this.SR():this.$v.postMessage({type:"_no_more_workers"}))}async SR(){if(!(this.ow>=this.MU||this.cw||this.WT||this.Sp.size<=this.ow))try{this.cw=!0,(await this.g.Qo("runtime","create-job-worker")).outputPort.onmessage=
a=>this.eS(a)}catch(a){this.WT=!0,this.cw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.ow} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.hsladjust={Pfa:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",hha:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n[[block]] struct ShaderParams {\nhuerotate : f32;\nsatadjust : f32;\nlumadjust : f32;\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n[[stage(fragment)]]\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",
jfa:!1,fha:!1,Ffa:0,Gfa:0,tfa:!1,pga:!1,xga:!0,efa:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]};
{"use strict";const d=self.D;let a=null,b="",e="",c=[],h="",m="",g="";const k=d.B(d.PX);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.C.Ka=class extends d.bn{constructor(p){super(p);this.If=this.g.na().If;this.Rd=this.g.na().qd();this.Yv=this.Jp=0;this.QT=new Map}j(){super.j()}ea(){this.g.ea()}wa(p){this.g.wa(p,null,null)}Qy(p,q){a&&p===b&&q===e||(a=new RegExp(p,q),b=p,e=q);a.lastIndex=0;return a}vN(p,q,u){if(p===h&&q===
m&&u===g)return c;const w=this.Qy(q,u);c=p.match(w);h=p;m=q;g=u;return c}async ZG(p,q){if(q.length){this.Jp+=q.length;var u=[];for(const w of q)u.push(p.rO(w));await d.j4(u,()=>{this.Yv++});this.Yv++;this.Yv===this.Jp&&(this.g.wa(d.C.Ka.G.s3,null,null),this.Jp=this.Yv=0)}}XS(p,q){for(const u of q)0===u.H.length&&p.T2(u)}oR(){return k}oba(p){var q=this.g.na();const u=q.qd(),w=u.rf(),r=w.Jb(),v=r.Fd();var y=w.fk();const A=u.Sa(r),G=q.If,z=G.Sa();if(y)for(y=0;y<p&&!z.yc;++y)q.Oe(v),z.Lc(y),r.Mg(w,A),
q.Pb(v);else for(q=0;q<p&&!z.yc;++q)z.Lc(q),r.Mg(w,A);u.Oa();G.Oa();return!1}*k8(p){var q=this.g.na();const u=q.qd(),w=u.rf(),r=w.Jb(),v=r.Fd();var y=w.fk();const A=u.Sa(r),G=q.If,z=G.Sa();if(y)for(y=0;y<p&&!z.yc;++y)q.Oe(v),z.Lc(y),yield*r.Fg(w,A),q.Pb(v);else for(q=0;q<p&&!z.yc;++q)z.Lc(q),yield*r.Fg(w,A);u.Oa();G.Oa();return!1}qda(){var p=this.g.na();const q=p.qd(),u=q.rf(),w=u.Jb(),r=w.Fd();var v=u.fk();const y=q.Sa(w),A=p.If,G=A.Sa();if(v)for(v=0;!G.yc;++v)p.Oe(r),G.Lc(v),w.Mg(u,y)||G.yf(),p.Pb(r);
else for(p=0;!G.yc;++p)G.Lc(p),w.Mg(u,y)||G.yf();q.Oa();A.Oa();return!1}*D8(){var p=this.g.na();const q=p.qd(),u=q.rf(),w=u.Jb(),r=w.Fd();var v=u.fk();const y=q.Sa(w),A=p.If,G=A.Sa();if(v)for(v=0;!G.yc;++v)p.Oe(r),G.Lc(v),(yield*w.Fg(u,y))||G.yf(),p.Pb(r);else for(p=0;!G.yc;++p)G.Lc(p),(yield*w.Fg(u,y))||G.yf();q.Oa();A.Oa();return!1}n9(p,q,u){var w=this.g.na();const r=w.qd(),v=r.rf(),y=v.Jb(),A=y.Fd(),G=v.fk(),z=r.Sa(y),F=w.If,H=F.Sa();H.Jz(p);if(u<q)if(G)for(p=q;p>=u&&!H.yc;--p)w.Oe(A),H.Lc(p),
y.Mg(v,z),w.Pb(A);else for(w=q;w>=u&&!H.yc;--w)H.Lc(w),y.Mg(v,z);else if(G)for(p=q;p<=u&&!H.yc;++p)w.Oe(A),H.Lc(p),y.Mg(v,z),w.Pb(A);else for(w=q;w<=u&&!H.yc;++w)H.Lc(w),y.Mg(v,z);r.Oa();F.Oa();return!1}*h8(p,q,u){var w=this.g.na();const r=w.qd(),v=r.rf(),y=v.Jb(),A=y.Fd(),G=v.fk(),z=r.Sa(y),F=w.If,H=F.Sa();H.Jz(p);if(u<q)if(G)for(p=q;p>=u&&!H.yc;--p)w.Oe(A),H.Lc(p),yield*y.Fg(v,z),w.Pb(A);else for(w=q;w>=u&&!H.yc;--w)H.Lc(w),yield*y.Fg(v,z);else if(G)for(p=q;p<=u&&!H.yc;++p)w.Oe(A),H.Lc(p),yield*y.Fg(v,
z),w.Pb(A);else for(w=q;w<=u&&!H.yc;++w)H.Lc(w),yield*y.Fg(v,z);r.Oa();F.Oa();return!1}o9(p){var q=this.g.na();const u=q.qd(),w=u.rf(),r=w.Jb(),v=r.Fd();var y=w.fk();const A=u.Sa(r),G=q.If,z=G.Sa(),F=p.Zb(),H=p.V(),J=k.Sa();d.Vc(J,H.ka());if(y)for(let M=0,P=J.length;M<P&&!z.yc;++M)q.Oe(v),y=J[M],p.V().nk(y),F&&y.Vi(),z.Lc(M),r.Mg(w,A),q.Pb(v);else{H.re(!1);p=H.H;d.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.yc;++M)q=J[M],p[0]=q,F&&q.Vi(),z.Lc(M),r.Mg(w,A)}u.Oa();G.Oa();d.F(J);k.Oa();return!1}*i8(p){var q=
this.g.na();const u=q.qd(),w=u.rf(),r=w.Jb(),v=r.Fd();var y=w.fk();const A=u.Sa(r),G=q.If,z=G.Sa(),F=p.Zb(),H=p.V(),J=k.Sa();d.Vc(J,H.ka());if(y)for(let M=0,P=J.length;M<P&&!z.yc;++M)q.Oe(v),y=J[M],p.V().nk(y),F&&y.Vi(),z.Lc(M),yield*r.Fg(w,A),q.Pb(v);else{H.re(!1);p=H.H;d.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.yc;++M)q=J[M],p[0]=q,F&&q.Vi(),z.Lc(M),yield*r.Fg(w,A)}u.Oa();G.Oa();d.F(J);k.Oa();return!1}p9(p,q){var u=this.g.na();const w=u.qd(),r=u.Xf(),v=w.rf(),y=v.Jb(),A=y.Fd(),G=v.fk(),
z=w.Sa(y),F=u.If,H=F.Sa(),J=p.Zb(),M=p.V(),P=k.Sa();d.F(P);const R=M.ka();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.ku(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.yc;++T)u.Oe(A),q=P[T][0],p.V().nk(q),J&&q.Vi(),H.Lc(T),y.Mg(v,z),u.Pb(A);else{M.re(!1);p=M.H;d.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.yc;++T)u=P[T][0],p[0]=u,J&&u.Vi(),H.Lc(T),y.Mg(v,z)}w.Oa();F.Oa();d.F(P);k.Oa();return!1}*j8(p,q){var u=this.g.na();const w=u.qd(),r=u.Xf(),v=w.rf(),y=v.Jb(),A=y.Fd(),
G=v.fk(),z=w.Sa(y),F=u.If,H=F.Sa(),J=p.Zb(),M=p.V(),P=k.Sa();d.F(P);const R=M.ka();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.ku(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.yc;++T)u.Oe(A),q=P[T][0],p.V().nk(q),J&&q.Vi(),H.Lc(T),yield*y.Fg(v,z),u.Pb(A);else{M.re(!1);p=M.H;d.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.yc;++T)u=P[T][0],p[0]=u,J&&u.Vi(),H.Lc(T),yield*y.Fg(v,z)}w.Oa();F.Oa();d.F(P);k.Oa();return!1}aA(p,q){let u=this.QT.get(p);if(u)return u;if(!q)return null;
u={ho:null,GD:new Map};this.QT.set(p,u);return u}E8(p,q,u,w,r){q.Le().Q4(u);w&&p.Pb(r)}*f8(p,q,u,w,r){yield*q.Le().SY(u);w&&p.Pb(r)}}}{"use strict";const d=self.D;d.C.Ka.Wi=class extends d.ja{constructor(a){super();this.L=a;this.g=a.I();this.ji=a.Cb()}Yc(){}j(){this.ji=this.g=this.L=null}}}{"use strict";const d=self.D;d.C.Ka.Instance=class extends d.ja{constructor(a){super();this.fa=a;this.L=this.fa.J();this.Uc=this.L.Uc;this.g=this.fa.I()}j(){this.g=this.Uc=this.L=this.fa=null}}}
{"use strict";const d=self.D,a=[];d.C.Ka.G={qja(){return!0},JO(){return!0},u3(){return!0},M3(){return!0},J3(){return!0},Zm(){return this.g.Zm()},SM(){const b=this.g.qf();return b.yI?!1:!b.Tp},D6(){const b=this.g.Xf().Zj();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Sk;b.set("TriggerOnce_lastTick",c);return this.g.mJ||e!==c-1},pja(b){const e=this.g.Xf().Zj(),c=e.get("Every_lastTime")||0,h=this.g.Ao();e.has("Every_seconds")||e.set("Every_seconds",
b);const m=e.get("Every_seconds");if(h>=c+m)return e.set("Every_lastTime",c+m),h>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",h),e.set("Every_seconds",b),!0;h<c-.1&&e.set("Every_lastTime",h);return!1},Uq(b){return(b=this.g.na().iN(b))&&b.Uq()},Xq(){return this.g.Xq()},iz(){return d.Ob.iz},x3(){return!0},AO(){return!0},kja(){return!0},K3(){return!0},L3(){return!0},KO(){return!0},LO(){return!0},ama(b){return!!this.g.Hi(b)},Vka(b){switch(b){case 0:return"browser"===d.Ob.bE;case 1:return"iOS"===
d.Ob.Lh;case 2:return"Android"===d.Ob.Lh;case 8:return"cordova"===d.Ob.bE;case 9:return"scirra-arcade"===this.g.bf;case 10:return"nwjs"===d.Ob.bE;case 13:return"windows-uwp"===this.g.bf;default:return!1}},lna(b,e,c){return this.Qy(e,c).test(b)},AY(b,e,c){return d.compare(b,e,c)},wia(b,e,c){return b>=e&&b<=c},Jia(b,e,c){return d.compare(b.Ac(),e,c)},xia(b){return!!b.Ac()},Hia(b,e){const c=this.g.Ao();return 0===b?(b=this.g.Xf().Zj(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Nka(b){return isNaN(b)},JX(b,e,c){return d.dt(d.wb(b),d.wb(c))<=d.wb(e)},e2(b,e){return d.Nf(d.wb(b),d.wb(e))},SN(b,e,c){b=d.wb(b);e=d.wb(e);c=d.wb(c);return d.Nf(c,e)?d.Nf(b,e)&&!d.Nf(b,c):!(!d.Nf(b,e)&&d.Nf(b,c))},hla(b,e){return"number"===typeof b?0===e:1===e},oja(b){return!!b},Ama(b,e,c,h){if(!b)return!1;const m=this.oR(),g=m.Sa(),k=b.V();d.Vc(g,k.ka());k.Yb&&d.F(k.cc);const n=this.g.Xf();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;e=n.ku(1,q);h=n.ku(3,
q);d.compare(e,c,h)?++p:k.Kl(w)}d.mf(g,p);k.nu(g);e=!!g.length;d.F(g);m.Oa();b.fc();return e},Bma(b,e){if(!b)return!1;const c=this.oR(),h=c.Sa(),m=b.V();d.Vc(h,m.ka());m.Yb&&d.F(m.cc);const g=this.g.Xf();let k=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[k]=q;(e=g.ku(1,n))?++k:m.Kl(q)}d.mf(h,k);m.nu(h);e=!!h.length;d.F(h);c.Oa();b.fc();return e},Hma(b,e){if(!b)return!1;const c=b.V(),h=c.ka();e=Math.floor(e);if(e>=h.length)return!1;c.$m(h[e]);b.fc();return!0},Lma(b){if(!b)return!1;const e=b.V(),
c=e.ka(),h=Math.floor(this.g.Bl()*c.length);if(h>=c.length)return!1;e.$m(c[h]);b.fc();return!0},X3(b){if(!b||!b.H.length)return!1;b.V().re(!0);b.fc();return!0},Jma(b,e,c){if(!b)return!1;const h=b.V();var m=h.ka();const g=this.g.Jb().Td,k=this.g.Xf().sj;h.Yb?(d.Vc(a,m),h.cy(),h.re(!1)):g?(d.Vc(a,h.cc),d.F(h.cc)):(d.Vc(a,h.H),d.F(h.H));for(let n=0,p=a.length;n<p;++n)m=a[n],d.xor(m.A().Eq(e,c),k)?h.mp(m):h.Kl(m);b.fc();return d.xor(!!h.H.length,k)},Gma(b){if(!b)return!1;var e=b.ab;let c=null;const h=
this.g.$l;for(let m=h.length-1;0<=m;--m){const g=h[m];if(e){if(g.J().UD(b)){c=g;break}}else if(g.J()===b){c=g;break}}c||(e=b.ka(),e.length&&(c=e.ke(-1)));if(!c)return!1;b.V().$m(c);b.fc();return!0},sna(b){return this.g.ve?this.k8(b):this.oba(b)},Qqa(){return this.g.ve?this.D8():this.qda()},v_(b,e,c){return this.g.ve?this.h8(b,e,c):this.n9(b,e,c)},ZM(b){return this.g.ve?this.i8(b):this.o9(b)},Aja(b,e,c){return this.g.ve?this.j8(b,c):this.p9(b,c)},ula(b){return b?b.Wc():!1},sla(b){return b?!b.H.length:
!1},rla(b,e,c){return b?d.compare(100*b.le(),e,c):!1},s3(){return!0},Ika(){return 0<this.Jp}}}
{"use strict";const d=self.D;function a(g,k){const n=g[0]-k[0];return 0!==n?n:g[1]-k[1]}function b(g,k){return g[1]-k[1]}const e=[],c=[],h=d.B(d.Rect),m=d.B(d.gb);d.C.Ka.fb={e6(g,k){g.Re(k)},HX(g,k){g.Ym()&&"number"!==typeof k&&(k=parseFloat(k));g.Re(g.Ac()+k)},hqa(g,k){g.Ym()&&g.Re(g.Ac()-k)},Ioa(g,k){g.Re(!!k)},mqa(g){g.Re(!g.Ac())},hoa(){this.g.na().G4()},GM(g,k,n,p,q){g&&k&&(n=this.g.dE(g,k,n,p,q))&&(q&&k.gG(n),k=this.g.na(),k.He(!0),n.vA(),k.He(!1),g.V().nk(n),n.Zb()&&n.Vi())},Zia(g,k,n,p,q){g&&
k&&(g=this.g.Ky(g))&&d.C.Ka.fb.GM.call(this,g,k,n,p,q)},ju(g,k,n,p,q,u,w,r,v,y){if(g){var A=this.g.Na();if(u&&(A=this.g.eb.Kq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.aa(w),!u)return;h.set(k,n,p,q);k=A.ju(g,h,u,r,v,y);g.V().nu(k);g.fc()}},Wpa(){const g=this.If;g.cO()&&g.Iq().yf()},mr(g,k){(g=this.g.na().iN(g))&&(0===k?g.mr(!1):1===k?g.mr(!0):g.mr(!g.Uq()))},Cpa(g){this.g.aG(g)},vpa(g,k){0>k&&(k=0);if(g){g=g.V().ka();for(const n of g)n.aG(k)}},loa(g){if(g){g=g.V().ka();for(const k of g)k.N4()}},
rG(g){if(!(0>g))return this.g.na().PD().W1(g),!0},Kqa(g){this.g.na().PD().U1(g);return!0},Jqa(){const g=this.g.na();g.PD().I1(g.C0());return!0},Ipa(g){g=g.toLowerCase();for(const k of this.g.na().ug)k.r2()&&k.Uw===g&&k.YF()},async eG(g,k,n,p,q,u){const w=this.g.P;w&&(this.ea(),await w.eG(0===g?"image/png":"image/jpeg",k/100,n,p,q,u),await this.g.Nc(d.C.Ka.G.AO,null))},k5(g,k){if(!(0>=g||0>=k)){this.g.Au(g,k);var n=this.g.Na();n.Xx();for(const p of n.$b)p.qG();if(n=this.g.P)"off"!==n.Lt()&&this.g.K5(g,
k),n.td(n.Ej,n.Dj,!0),this.g.ea()}},Uoa(g){const k=this.g.P;k&&"off"!==k.Lt()&&(k.DP(0!==g?"high":"low"),k.td(k.Ej,k.Dj,!0))},Xo(g){this.g.V4(g)},zla(g){this.g.I2(g)},Ala(g){this.g.rF(g)},Woa(){},ioa(){for(const g of this.g.eb.cj)g.L4()},zpa(g){this.g.N5(0!==g)},PP(g){this.g.PP(g)},Opa(g,k){if(g){var n=g.V().ka(),p=this.g.Na(),q=g.ab;g=g.$h;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.A();if(!v)continue;let y;y=q?u.Me(k+u.J().DE(g)):u.Me(k);e.push([v.aa().Ia(),v.Jh()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);k=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.Hy(e[w][0]),g=e[w][1],u=q.H,u[g]!==n&&(u[g]=n,n.A().bv(q),q.Sg(),k=!0);k&&this.g.ea();d.F(e);d.F(c)}}},Nja(g){if(!this.g.Kk){var k=this.g.eb;k.Wq()||k.ay(g)}},Oja(g){if(!this.g.Kk){var k=this.g.eb;k.Wq()||(g=k.Kq(g))&&k.ay(g)}},Vla(g){if(!this.g.Kk){var k=this.g.eb;if(!k.Wq()){var n=k.cj,p=n.indexOf(k.Tb());g&&0===p||(g||p!==n.length-1)&&k.ay(n[p+(g?-1:1)])}}},joa(){if(!this.g.Kk){var g=this.g.eb;g.Wq()||(g.ay(g.Tb()),this.g.na().H4())}},
jpa(g,k){g&&g.Rg(k)},dpa(g,k){g&&g.Si(k/100)},fpa(g,k){g&&g.RP(k)},gpa(g,k){g&&g.P5(k)},Yoa(g,k){g&&g.Ad(d.wb(+k))},hpa(g,k,n){g&&(g.uu(!0),g.Ti(k),g.Ui(n))},koa(g){g&&g.uu(!1)},epa(g,k,n){g&&g.L5(k/100,n/100)},kpa(g,k){g&&g.qe(+k)},Zoa(g,k){g&&(m.ot(k),m.ia(),g=g.Pl,g.Fm(m)||(g.Fj(m),this.ea()))},ipa(g,k){g&&g.a6(k)},$oa(g,k){g&&g.ig(k)},apa(g,k,n){g&&(n=g.Pa.kl(n))&&(k=1===k,n.Lb!==k&&(n.Cz(k),g.Qh(),this.g.ea()))},bpa(g,k,n,p){if(g&&(g=g.Pa,k=g.kl(k))&&(g=g.jl(k.Ia()),n=Math.floor(n),!(0>n||n>=
g.length))){var q=k.dg().My(n);if("color"===q){m.ot(p);n=g[n];if(m.Fm(n))return;n.Fj(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}k.Lb&&this.g.ea()}},cpa(g,k){g&&g.z5(k)},ppa(g){this.g.Na().WF(+g)},lpa(g){this.g.Na().Ad(d.wb(+g))},mpa(g,k){const n=this.g.Na();if(k=n.Pa.kl(k))g=1===g,k.Lb!==g&&(k.Cz(g),n.Qh(),this.g.ea())},npa(g,k,n){var p=this.g.Na().Pa;if(g=p.kl(g))if(p=p.jl(g.Ia()),k=Math.floor(k),!(0>k||k>=p.length)){var q=g.dg().My(k);if("color"===q){m.ot(n);k=p[k];if(m.Fm(k))return;
k.Fj(m)}else{"percent"===q&&(n/=100);if(p[k]===n)return;p[k]=n}g.Lb&&this.g.ea()}},qpa(g,k){this.g.Na().d6(g/100,k/100)},opa(g){const k=this.g.Na();0===g?k.TP():k.QP()},Z4(g){this.g.Na().Ti(g)},a5(g){this.g.Na().Ui(g)},Aoa(g,k){const n=this.g.Na();n.Ti(g);n.Ui(k)},Boa(g){if(g&&(g=g.EE())&&(g=g.A())){var k=this.g.Na();k.Ti(g.N());k.Ui(g.O())}},async K2(g){const k=this.g.Tb();k&&g&&!this.g.Kk&&await this.ZG(k,g.ab?g.Ep:[g])},async yla(g){await d.C.Ka.fb.K2.call(this,this.g.Ky(g))},G6(g){const k=this.g.Tb();
k&&g&&this.XS(k,g.ab?g.Ep:[g])},xqa(g){d.C.Ka.fb.G6.call(this,this.g.Ky(g))},yqa(){const g=this.g.Tb();if(g){var k=g.N9();this.XS(g,k)}},async wla(g){const k=this.g.Tb();g&&k&&!this.g.Kk&&await this.ZG(k,g.pR())},async xla(g){const k=this.g.Tb();(g=this.g.eb.Kq(g))&&k&&!this.g.Kk&&await this.ZG(k,g.pR())},Hz(g){const k=this.Rd.L_();if(k)switch(k.RT){case 1:"number"===typeof g&&k.Hz(g);break;case 2:"string"===typeof g&&k.Hz(g);break;case 3:k.Hz(g)}},Gla(g,k,n){var p=this.aA(g.toLowerCase(),!0);const q=
p.GD,u=k.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${k}' already in map; overwriting entry`);(p=d.first(q.values())||p.ho)&&0!==p.qm!==(0!==n.qm)?console.error(`[Construct 3] Function map '${g}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Hla(g,k){const n=this.aA(g.toLowerCase(),!0);n.ho&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=d.first(n.GD.values())||
n.ho;p&&0!==p.qm!==(0!==k.qm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.ho=k},dia(g,k,n){n=Math.floor(n);var p=this.aA(g.toLowerCase(),!1);if(p){var q=p.GD.get(k.toLowerCase());if(!q)if(p.ho)q=p.ho,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${k}'; call ignored (consider setting a default)`);return}if(q.Kh())if(0!==q.qm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${k}' has a return type so cannot be called`);
else{g=this.g;k=g.na();var u=k.Jb();p=u.Gd();var w=0<p.length;w&&k.Lg(p);var r=[];if(u=k.nE(u)){u=u.hh;for(let v=n,y=u.length;v<y;++v)r.push(u[v].Ac())}n=q.hh;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].mb);return g.ve?this.f8(k,q,r,w,p):this.E8(k,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.C.Ka.jb={usa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Kra:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Jm(a){return a.toString()},kt(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Bl()*a:this.g.Bl()*(b-a)+a},nfa(...a){return a[Math.floor(this.g.Bl()*a.length)]},ota(){return Math.PI},rsa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Nta(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.wb(a))},cos(a){return Math.cos(d.wb(a))},tan(a){return Math.tan(d.wb(a))},asin(a){return d.Dg(Math.asin(a))},acos(a){return d.Dg(Math.acos(a))},atan(a){return d.Dg(Math.atan(a))},exp(a){return Math.exp(a)},iga(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b<h&&(b=h)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let h=a[e];"number"===typeof h&&b>h&&(b=h)}return b},ia(a,b,e){return d.ia(a,b,e)},zx(a,b,e,c){return d.Dm(a,b,e,c)},angle(a,b,e,c){return d.Dg(d.vx(a,b,e,c))},Xd(a,b,e){return d.Xd(a,b,e)},xt(a,b,e){return d.xt(a,b,e)},BD(a,b,e,c){return d.BD(a,b,e,c)},iW(a,b,e,c,h){return d.iW(a,
b,e,c,h)},hW(a,b,e){return d.hW(a,b,e)},fra(a,b){return d.Dg(d.dt(d.wb(a),d.wb(b)))},gra(a,b,e){return d.Dg(d.dL(d.wb(a),d.wb(b),e))},hra(a,b,e){return d.Dg(d.eL(d.wb(a),d.wb(b),d.wb(e)))},Zta(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},hua(a,b){return(a|0)^1<<(b|0)},isa(a,b){return(a|0)&1<<(b|0)?1:0},Zsa(){return"\n"},nua(a){return"string"===typeof a?a.toUpperCase():""},Ssa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Yga(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Zga(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.At(b),"i")):-1},Jra(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(d.At(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.At(b),"gi"),e):"string"===typeof a?a:""},yta(a,b,e){b=this.Qy(b,e);return a?a.search(b):-1},xta(a,b,e,c){b=this.Qy(b,e);return a?a.replace(b,c):""},wta(a,b,e){return(a=this.vN(a.toString(),b,e))?a.length:0},vta(a,b,e,c){c=Math.floor(c);a=this.vN(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},Bua(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},pua(a){return encodeURIComponent(a)},oua(a){return decodeURIComponent(a)},nW(){return this.g.Lv},fua(){return this.g.ie},yua(){return(Date.now()-this.g.On)/1E3},lua(){return Date.now()},time(){return this.g.Ao()},eua(){return this.g.Sk},dta(){return this.g.ZJ},Nra(){return this.g.mB},wra(){return this.g.iC},jsa(){return this.g.Gy()},Aua(){return this.g.P.ah},zua(){return this.g.P.$g},ita(){return this.g.nh},hta(){return this.g.mh},
gta(){return this.g.nh},fta(){return this.g.mh},Qta(){return this.g.Na().ag()},Rta(){return this.g.Na().bg()},Osa(){return this.g.Na().Ba()},Psa(){return this.g.Na().Dd},Nsa(){return d.Dg(this.g.Na().xa())},fga(){return this.g.Na().S()},ega(){return this.g.Na().U()},uua(a){return(a=this.g.Na().aa(a))?a.ao.ba:0},wua(a){return(a=this.g.Na().aa(a))?a.ao.Y:0},vua(a){return(a=this.g.Na().aa(a))?a.ao.ma:0},sua(a){return(a=this.g.Na().aa(a))?a.ao.ga:0},xua(a){return(a=this.g.Na().aa(a))?a.ao.width():0},
tua(a){return(a=this.g.Na().aa(a))?a.ao.height():0},qra(a,b,e){return(a=this.g.Na().aa(a))?a.Uf(b,e)[0]:0},rra(a,b,e){return(a=this.g.Na().aa(a))?a.Uf(b,e)[1]:0},Ksa(a,b,e){return(a=this.g.Na().aa(a))?a.Po(b,e)[0]:0},Lsa(a,b,e){return(a=this.g.Na().aa(a))?a.Po(b,e)[1]:0},Gsa(a){return(a=this.g.Na().aa(a))?a.Dd:0},Bsa(a){return(a=this.g.Na().aa(a))?d.Dg(a.te):0},Dsa(a){return(a=this.g.Na().aa(a))?100*a.le():0},Hsa(a){return(a=this.g.Na().aa(a))?a.yj:0},Isa(a){return(a=this.g.Na().aa(a))?a.ag():0},
Jsa(a){return(a=this.g.Na().aa(a))?a.bg():0},Esa(a){return(a=this.g.Na().aa(a))?100*a.ee:0},Fsa(a){return(a=this.g.Na().aa(a))?100*a.fe:0},Msa(a){return(a=this.g.Na().aa(a))?a.Va():0},Csa(a){return(a=this.g.Na().aa(a))?a.Ia():-1},kfa(){const a=this.g.P;return a?a.vK:""},kga(a){const b=this.If;return b.cO()?a?(a=b.r_(a))?a.Ia():0:b.Iq().Ia():0},Ota(){return this.g.Vp},ora(a,b,...e){var c=this.aA(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var h=c.GD.get(b.toLowerCase());if(!h)if(c.ho)h=c.ho;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=h.qm;const m=h.Mt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Kh())return m;a=this.g.na();b=a.Jb().Gd();const g=0<b.length;g&&a.Lg(b);const k=h.hh;for(let n=
e.length,p=k.length;n<p;++n)e.push(k[n].mb);h=h.Le();e=h.HF(h.Gd(),c,m,...e);g&&a.Pb(b);return e},Rsa(){return this.g.ud.ZB},osa(){return 0===this.Jp?1:this.Yv/this.Jp},mo(){return this.g.Qq()?"webgpu":"webgl"},Bta(){return this.g.Qq()?"<unavailable>":this.g.sl().Ys},qsa(){let a=this.g.lb().P_();return Math.round(100*a/1048576)/100},Cta(a,b,e){return d.U3(a,b,e)},Fta(a,b,e){return d.UO(a/100,b/100,e/100)},Dta(a,b,e,c){return d.uz(a/100,b/100,e/100,c/100)},Gta(a,b,e){return d.UO(a/255,b/255,e/255)},
Eta(a,b,e,c){return d.uz(a/255,b/255,e/255,c/255)},yga(){return this.g.zC},zga(){return this.g.fV},yra(){return this.g.Jb().ed.Ba()},xra(){return this.g.Jb().cs}}}{"use strict";const d=self.D;d.C.sb=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.D;d.C.sb.Wi=class extends d.hr{constructor(a){super(a);this.Pd=a.Pd}j(){d.F(this.Pd);super.j()}Yc(){for(const a of this.Pd)a.E2(this.g)}Zq(a){const b={Jj:this.g.Cd};return Promise.all(this.Pd.map(e=>e.F2(a,b)))}Uo(){for(const a of this.Pd)a.s4()}sz(){this.$S()}$S(){for(const a of this.L.Vfa())a.oa.zH()}Et(a){d.C.sb.s_(this,a)}}}
{"use strict";const d=self.D,a=self.zh,b=d.B(d.Rect),e=d.B(d.Hd),c=d.B(d.Eu);d.C.sb.Instance=class extends d.MF{constructor(m,g){super(m);let k=!0,n="",p=0,q=!0;g&&(k=!!g[0],n=g[1],p=g[2],q=g[3]);this.Rb=this.L.bN(n)||this.L.Pd[0];this.xb=d.ia(p,0,this.Rb.Sd.length-1);this.$e=this.Rb.Qm(this.xb);g=this.$e.Yf();this.Wr=g.ne();this.pI=g.bk();this.Hv=g.Ty();this.P0();m.ru(2,!0);m.ru(1,0<=this.Rb.ql());this.Ek=Math.abs(this.Rb.ql());this.Vr=this.Rb.lV;this.BA=d.B(d.mz);this.Ak=this.nj=0;this.QH="";this.Cv=
-1;this.Pr="";this.rT=0;m=this.A();this.Hda=m.Pj();m.Rg(k);m.ou(q);m.pr(this.$e.nl());m.qr(this.$e.ol());m.$F(this.$e.up);m.Ta();1===this.L.Pd.length&&1===this.L.Pd[0].Sd.length||0===this.Ek||this.zk()}j(){this.BA=this.Wr=this.$e=this.Rb=null;super.j()}Dh(){return this.$e.Yf()}No(){return!0}br(){this.Wr=null}TO(){this.zH()}Ch(m){var g=this.Wr;null!==g&&(m.jg(g),g=this.A(),g.fg()?this.KG(g,m):this.LG(g,m))}LG(m,g){let k=this.Hda;this.g.cm&&(k=m.VO(k));g.o4(k,this.Hv)}KG(m,g){const k=m.HN();if(m.fO()){m.Zx(b,
e,!1);let n=e;this.g.cm&&(n=m.VO(n));k.qM(m.ak(),n,this.Hv);m.UF(!1)}k.Ch(g)}Ht(){return this.BA.ca()}fz(){return this.fa.FE(2)}ir(m){this.fa.ru(2,m)}jz(){return this.fa.FE(1)}vu(m){this.fa.ru(1,m)}kF(){return this.fa.FE(4)}GP(m){this.fa.ru(4,m)}Ve(){this.Pr&&this.SQ();0<=this.Cv&&this.HG();const m=this.Ek;if(this.fz()&&0!==m){this.BA.Ic(this.g.By(this.fa));var g=this.Ht(),k=this.$e,n=k.ET/m;if(!(g<this.nj+n)){var p=this.Rb,q=this.Vr,u=p.Sd.length,w=p.Ih(),r=p.MB,v=p.mea;this.jz()?this.xb++:this.xb--;
this.nj+=n;this.xb>=u&&(v?(this.vu(!1),this.xb=u-2):r?this.xb=q:(this.Ak++,this.Ak>=w?this.NG(!1):this.xb=q));0>this.xb&&(v?(this.xb=1,this.vu(!0),r||(this.Ak++,this.Ak>=w&&this.NG(!0))):r?this.xb=q:(this.Ak++,this.Ak>=w?this.NG(!0):this.xb=q));this.xb=d.ia(this.xb,0,u-1);n=p.Qm(this.xb);g>this.nj+n.ET/m&&(this.nj=g);this.gA(k,n)}}else this.Jr()}NG(m){this.xb=m?0:this.Rb.Sd.length-1;this.ir(!1);this.QH=this.Rb.Ba();this.GP(!0);this.hE("animationend",!1,{animationName:this.QH});this.wa(d.C.sb.G.k3);
this.wa(d.C.sb.G.j3);this.GP(!1);this.Ak=0}gA(m,g){if(m!==g){var k=this.A(),n=m.Yf();m=g.Yf();var p=n.S();n=n.U();var q=m.S(),u=m.U();p!==q&&k.Se(k.S()*(q/p));n!==u&&k.Pe(k.U()*(u/n));k.pr(g.nl());k.qr(g.ol());k.$F(g.up);k.Ta();this.$e=g;this.Wr=m.ne();this.pI=m.bk();this.Hv=m.Ty();g=this.Da().ad;for(let w=0,r=g.length;w<r;++w);this.hE("framechange",!1,{animationName:this.Rb.Ba(),$V:this.xb});this.wa(d.C.sb.G.o3);this.g.ea()}}Sca(m){this.ir(!0);this.nj=this.Ht();1===m&&0!==this.xb&&(this.Cv=0,this.kF()||
this.HG());this.zk()}Xba(m,g){this.Pr=m;this.rT=g;this.zk();this.kF()||this.SQ()}mR(){return this.Pr?this.Pr:this.Rb.Ba()}DS(m){isFinite(m)&&(this.Cv=m,this.kF()||this.HG())}Zba(m){this.Ek=Math.abs(m);this.vu(0<=m);0<this.Ek&&this.zk()}iR(){return this.jz()?this.Ek:-this.Ek}Yba(m){this.Vr=m=d.ia(Math.floor(m),0,this.Rb.Sd.length-1)}SQ(){const m=this.$e;var g=this.L.bN(this.Pr);this.Pr="";!g||g===this.Rb&&this.fz()||(this.Rb=g,this.vu(0<=g.ql()),this.Ek=Math.abs(g.ql()),this.Vr=g.lV,this.xb=d.ia(this.xb,
0,this.Rb.Sd.length-1),1===this.rT&&(this.xb=0),this.ir(!0),this.nj=this.Ht(),g=this.Rb.Qm(this.xb),this.gA(m,g))}HG(){const m=this.$e;var g=this.xb;this.xb=d.ia(Math.floor(this.Cv),0,this.Rb.Sd.length-1);this.Cv=-1;g!==this.xb&&(g=this.Rb.Qm(this.xb),this.gA(m,g),this.nj=this.Ht())}zH(){const m=this.$e.Yf();this.Wr=m.ne();this.pI=m.bk();this.Hv=m.Ty();this.A().UF(!0)}ne(){return this.Wr}bk(){return this.pI}Ty(){return this.Hv}HE(){return this.$e.HE()}Rm(m){const g=this.$e,k=this.A();if("string"===
typeof m)m=g.f0(m);else if("number"===typeof m)m=g.e0(m-1);else throw new TypeError("expected string or number");if(!m)return[k.N(),k.O()];c.ra(m.hK);if(k.fg()){const [n,p]=k.ak().fQ(c.T,c.R);c.set(n,p)}c.offset(-g.nl(),-g.ol());c.scale(k.S(),k.U());c.rotate(k.xa());c.offset(k.N(),k.O());return[c.T,c.R]}J_(){return this.A().rl().KW()}dN(m){m=Math.floor(m);const g=this.A();var k=g.rl();const n=k.KW();m===n&&(m=0);if(0>m||m>=n)return[0,0];k=k.Vd;return[k[2*m]+g.N(),k[2*m+1]+g.O()]}sd(){const m={a:this.Rb.kb};
0!==this.nj&&(m.fs=this.nj);var g=this.Ht();0!==g&&(m.at=g);0!==this.xb&&(m.f=this.xb);0!==this.Ek&&(m.cas=this.Ek);1!==this.Ak&&(m.ar=this.Ak);0!==this.Vr&&(m.rt=this.Vr);this.fz()||(m.ap=this.fz());this.jz()||(m.af=this.jz());g=this.A();g.Mi()&&(m.ce=g.Mi());return m}Xc(m){var g=this.J().B_(m.a);g&&(this.Rb=g);this.nj=m.hasOwnProperty("fs")?m.fs:0;this.BA.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.xb=d.ia(g,0,this.Rb.Sd.length-1);this.Ek=m.hasOwnProperty("cas")?m.cas:
0;this.Ak=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.Vr=d.ia(g,0,this.Rb.Sd.length-1);this.ir(m.hasOwnProperty("ap")?!!m.ap:!0);this.vu(m.hasOwnProperty("af")?!!m.af:!0);this.$e=g=this.Rb.Qm(this.xb);this.zH();const k=this.A();k.pr(g.nl());k.qr(g.ol());k.$F(g.up);k.ou(!!m.ce)}zc(m){const g=this.A();switch(m){case 3:return g.Mi();case 2:return d.ia(this.xb,0,this.Rb.Sd.length-1)}}Pg(m,g){var k=this.A();switch(m){case 3:k.ou(!!g);break;case 2:this.ir(!1);m=this.Rb.Sd.length-
1;k=g=d.ia(g,0,m);g=this.Rb.Qm(this.xb);const n=this.Rb.Qm(k);this.gA(g,n);this.xb=d.ia(k,0,m)}}$j(){return self.n1}};const h=new WeakMap;self.n1=class extends self.az{constructor(){super();h.set(this,self.$t.Cr().oa)}get animationName(){return h.get(this).mR()}set $V(m){a.jk(m);h.get(this).DS(m)}get $V(){return h.get(this).xb}get imageWidth(){return h.get(this).Dh().S()}get imageHeight(){return h.get(this).Dh().U()}}}
{"use strict";const d=self.D;d.C.sb.G={mka(a){return d.jo(this.mR(),a)},zia(a,b){return d.compare(this.xb,a,b)},via(a,b){return d.compare(this.iR(),a,b)},j3(a){return d.jo(this.QH,a)},k3(){return!0},o3(){return!0},Lka(){return 0>this.A().S()},Aka(){return 0>this.A().U()},SO(){return!0},O3(){return!0},Mi(){return this.A().Mi()}}}
{"use strict";const d=self.D;d.C.sb.fb={p6(a,b,e,c){if(a&&b){var [h,m]=this.Rm(e);if(e=this.g.dE(a,b,h,m,c)){c&&b.gG(e);a.Cb().Yq()&&(b=e.A(),b.Ad(this.A().xa()),b.Ta());b=this.g.na();b.He(!0);e.vA();b.He(!1);c=this.g.Kt().Zj();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.js)b=!0,c.set("Spawn_LastExec",this.g.js);if(a!==this.J()&&(a=a.V(),a.re(!1),a=a.H,b&&d.F(a),a.push(e),e.Zb()))for(const g of e.Jd)e=g.J().V(),b?e.nk(g):(e.re(!1),e.mp(g))}}},Vpa(){this.ir(!1)},Rpa(a){this.Sca(a)},
Coa(a,b){this.Xba(a,b)},Doa(a){this.DS(a)},Foa(a){this.Zba(a)},Eoa(a){this.Yba(a)},tpa(a){const b=this.A(),e=b.S();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Se(a),b.Ta())},Qoa(a){const b=this.A(),e=b.U();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Pe(a),b.Ta())},WF(a){const b=this.$e.Yf(),e=this.A();var c=0>e.S()?-1:1;const h=0>e.U()?-1:1;c*=b.S()*a;a=b.U()*a*h;if(e.S()!==c||e.U()!==a)e.td(c,a),e.Ta()},async Bla(a,b){const e=this.$e.Yf(),c=this.A(),h=this.g;if(e.Vk===a)0===b&&(c.td(e.S(),e.U()),c.Ta()),this.wa(d.C.sb.G.SO);
else{var m=d.B(d.bz);try{await m.H2(h,a);if(!m.nF())throw Error("image failed to load");await m.cu(h.lb(),{Jj:this.g.Cd})}catch(g){console.error("Load image from URL failed: ",g);this.wa(d.C.sb.G.O3);return}e.F4(m);this.Uc.$S();this.Rz()||0!==b||(c.td(e.S(),e.U()),c.Ta());h.ea();this.Rz()||await this.Nc(d.C.sb.G.SO)}},Koa(a){this.A().ou(a)},ZF(a,b){this.A().ZF(0===a,b)},r5(a){this.A().ig(a);this.g.ea()}}}"use strict";
self.D.C.sb.jb={Lha(){return this.xb},Mha(){return this.Rb.Sd.length},Nha(){return this.Rb.Ba()},Oha(){return this.iR()},rma(){return this.Rb.ql()},dka(d){return this.Rm(d)[0]},eka(d){return this.Rm(d)[1]},cka(){return this.HE()},fka(){return this.Dh().S()},bka(){return this.Dh().U()},Vma(d){return this.dN(d)[0]},Wma(d){return this.dN(d)[1]},Uma(){return this.J_()}};{"use strict";const d=self.D;d.C.Text=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.D;d.C.Text.Wi=class extends d.hr{constructor(a){super(a)}j(){super.j()}Yc(){}Zq(){}Uo(){}}}
{"use strict";const d=self.D,a=self.zh,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],h=new d.Rect,m=new d.Hd;new d.gb;d.C.Text.Instance=class extends d.MF{constructor(n,p){super(n);this.wd="";this.Vl=!0;this.mj="Arial";this.Qk=12;this.fi=0;this.Df=this.Cf=!1;this.hb=d.B(d.gb);this.lf=this.Af=0;this.Zk=!0;this.Uk=this.Ws=-1;this.lx=0;this.hd=d.B(d.K.BF,this.g.lb(),{timeout:5});this.hd.AD=()=>this.g.ea();this.hd.JP();p&&(this.wd=p[0],this.Vl=!!p[1],this.mj=p[2],this.Qk=p[3],this.fi=
p[4],this.Cf=!!p[5],this.Df=!!p[6],this.Af=p[8],this.lf=p[9],this.Zk=0===p[10],n=p[7],this.hb.pt(n[0],n[1],n[2]),this.A().Rg(p[11]));this.se()}j(){this.jn();this.hd.j();this.hd=null;super.j()}se(){const n=this.hd;n.zu(this.wd);n.g5(this.Vl);n.SF(this.mj);n.NP(this.fi);n.uP(this.Cf);n.LP(this.Df);n.cn(this.hb);n.FP(e[this.Af]);n.$P(c[this.lf]);n.f6(this.Zk?"word":"character")}BH(){const n=this.A();this.hd.Gz(this.Qk);this.hd.y5(n.E0());var p=n.aa();p=p.Sm()*p.$M(n.oe());this.hd.td(n.S(),n.U(),p)}Ch(n){var p=
this.A();this.BH();const q=this.hd.ne();if(q){var u=p.aa();if(0===p.xa()&&0===u.xa()&&0===p.oe()&&!p.fg()&&u.cP()){p=p.Pj();const [w,r]=u.gk(p.Db,p.Eb),[v,y]=u.gk(p.mc,p.nc);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.Kj(h);const [G,z]=n.Ry(n.pl());this.g.P.p5(n,G,z);n.jg(q);n.dr(m,this.hd.bk());u.qA(n)}else n.jg(q),p.fg()?this.KG(p,n):this.LG(p,n)}}LG(n,p){n=n.Pj();this.g.cm&&(n=this.jS(n));p.dr(n,this.hd.bk())}KG(n,p){const q=n.HN();if(n.fO()){n.Zx(h,m,!1);let u=m;
this.g.cm&&(u=this.jS(u));q.qM(n.ak(),u,this.hd.bk());n.UF(!1)}q.Ch(p)}jS(n){const p=n.Db-Math.round(n.Db),q=n.Eb-Math.round(n.Eb);if(0===p&&0===q)return n;m.ra(n);m.offset(-p,-q);return m}sd(){const n={t:this.wd,c:this.hb.toJSON(),fn:this.mj,ps:this.Qk};this.Vl&&(n.bbc=this.Vl);0!==this.Af&&(n.ha=this.Af);0!==this.lf&&(n.va=this.lf);this.Zk||(n.wr=this.Zk);0!==this.fi&&(n.lho=this.fi);this.Cf&&(n.b=this.Cf);this.Df&&(n.i=this.Df);-1!==this.Uk&&(n.tw={st:this.Ws,en:this.Uk,l:this.lx});return n}Xc(n){this.jn();
this.wd=n.t;this.hb.Im(n.c);this.mj=n.fn;this.Qk=n.ps;this.Vl=n.hasOwnProperty("bbc")?n.bbc:!1;this.Af=n.hasOwnProperty("ha")?n.ha:0;this.lf=n.hasOwnProperty("va")?n.va:0;this.Zk=n.hasOwnProperty("wr")?n.wr:!0;this.fi=n.hasOwnProperty("lho")?n.lho:0;this.Cf=n.hasOwnProperty("b")?n.b:!1;this.Df=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Ws=n.st,this.Uk=n.en,this.lx=n.l);this.se();-1!==this.Uk&&this.zk()}zc(n){switch(n){case 0:return this.wd;case 1:return this.Vl;case 2:return this.mj;
case 3:return this.Qk;case 4:return this.fi;case 5:return this.Cf;case 6:return this.Df;case 7:return b[0]=this.hb.Xa,b[1]=this.hb.$a,b[2]=this.hb.Za,b;case 8:return this.Af;case 9:return this.lf;case 10:return this.Zk?1:0}}Pg(n,p){switch(n){case 0:if(this.wd===p)break;this.wd=p;this.se();break;case 1:if(this.Vl===!!p)break;this.Vl=!!p;this.se();break;case 2:if(this.mj===p)break;this.mj=p;this.se();break;case 3:if(this.Qk===p)break;this.Qk=p;this.se();break;case 4:if(this.fi===p)break;this.fi=p;this.se();
break;case 5:if(this.Cf===!!p)break;this.Cf=!!p;this.se();break;case 6:if(this.Df===!!p)break;this.Df=!!p;this.se();break;case 7:n=this.hb;if(n.Xa===p[0]&&n.$a===p[1]&&n.Za===p[2])break;this.hb.pt(p[0],p[1],p[2]);this.se();break;case 8:if(this.Af===p)break;this.Af=p;this.se();break;case 9:if(this.lf===p)break;this.lf=p;this.se();break;case 10:this.Zk!==(0===p)&&(this.Zk=0===p,this.se())}}pA(n){this.wd!==n&&(this.wd=n,this.hd.zu(n),this.g.ea())}Tca(n,p){this.pA(n);this.Ws=this.g.QE();this.Uk=this.Ws+
p/this.Da().z_();this.lx=d.Mm.bQ(n).length;this.hd.RF(0);this.zk()}jn(){this.Uk=this.Ws=-1;this.lx=0;this.hd.RF(-1);this.Jr()}d9(){-1!==this.Uk&&(this.jn(),this.wa(d.C.Text.G.RO),this.g.ea())}lca(n){this.mj!==n&&(this.mj=n,this.hd.SF(n),this.g.ea())}aca(n){n=!!n;this.Cf!==n&&(this.Cf=n,this.hd.uP(n),this.g.ea())}uca(n){n=!!n;this.Df!==n&&(this.Df=n,this.hd.LP(n),this.g.ea())}mca(n){this.Qk!==n&&(this.Qk=n,this.g.ea())}kca(n){this.hb.Fm(n)||(this.hb.Fj(n),this.hd.cn(this.hb),this.g.ea())}JS(n){this.fi!==
n&&(this.fi=n,this.se(),this.g.ea())}pca(n){this.Af!==n&&(this.Af=n,this.se(),this.g.ea())}OS(n){this.lf!==n&&(this.lf=n,this.se(),this.g.ea())}Mca(n){n=!!n;this.Zk!==n&&(this.Zk=n,this.se(),this.g.ea())}M9(){this.BH();return this.hd.I0()}L9(){this.BH();return this.hd.H0()}Ve(){var n=this.g.QE();n>=this.Uk?(this.jn(),this.wa(d.C.Text.G.RO),this.g.ea()):(n=d.Dga(this.Ws,this.Uk,n,this.lx),n=Math.floor(n),n!==this.hd.yp&&(this.hd.RF(n),this.g.ea()))}$j(){return self.p1}};const g=new WeakMap,k=new Map([["top",
0],["center",1],["bottom",2]]);self.p1=class extends self.az{constructor(){super();g.set(this,self.$t.Cr().oa)}get text(){return g.get(this).wd}set text(n){a.Od(n);const p=g.get(this);p.jn();p.pA(n)}set lineHeight(n){a.jk(n);g.get(this).JS(n)}get lineHeight(){return g.get(this).fi}set verticalAlign(n){a.Od(n);n=k.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).OS(n)}get verticalAlign(){return c[g.get(this).lf]}}}
{"use strict";const d=self.D;d.C.Text.G={Gia(a,b){return b?this.wd===a:d.jo(this.wd,a)},ela(){return-1!==this.Uk},RO(){return!0}}}
{"use strict";const d=self.D,a=d.B(d.gb);d.C.Text.fb={zu(b){this.jn();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.pA(b.toString())},Pha(b){this.jn();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.pA(this.wd+b)},uqa(b,e){this.jn();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Tca(b.toString(),e)},Toa(b,e){let c=!1,h=!1;switch(e){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(b!==this.mj||c!==this.Cf||h!==this.Df)this.lca(b),this.aca(c),
this.uca(h)},Gz(b){this.mca(b)},Soa(b){a.ot(b);a.ia();this.kca(a)},Gpa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},r5(b){this.A().ig(b);this.g.ea()},tqa(){this.d9()},NP(b){this.JS(b)},Voa(b){this.pca(b)},Epa(b){this.OS(b)},Hpa(b){this.Mca(0===b)}}}{"use strict";const d=self.D;d.C.Text.jb={Text(){return this.wd},Rma(){return this.Vl?d.Mm.bQ(this.wd):this.wd},tja(){return this.mj},n_(){return this.Qk},v6(){return this.M9()},jqa(){return this.L9()},vla(){return this.fi}}}
{"use strict";const d=self.D;d.C.Touch=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.D,a=self.zh;d.C.Touch.Wi=class extends d.hr{constructor(e){super(e)}j(){super.j()}Yc(){}$j(){return self.q1}};let b=null;self.q1=class extends self.ZE{constructor(e){super(e);b=e;e.I().Dv.aM=this}requestPermission(e){a.Od(e);const c=b.Li().oa;if("orientation"===e)return c.iH(0);if("motion"===e)return c.iH(1);throw Error("invalid type");}}}
{"use strict";const d=self.D;d.C.Touch.Instance=class extends d.gr{constructor(a,b){super(a,"touch");this.xd=new Map;this.NB=this.KV=!1;this.pB=this.Wh=this.Vh=this.KK=this.ZC=this.Vs=this.FH=this.EH=this.DH=this.IH=this.HH=this.GH=this.bK=this.aK=this.$J=this.oC=0;this.sC=[];b&&(this.KV=b[0]);this.ND("permission-result",e=>this.zaa(e));a=this.I().Fb();this.Id=new d.Dq(d.vc.nd(a,"pointerdown",e=>this.eH(e.data)),d.vc.nd(a,"pointermove",e=>this.fH(e.data)),d.vc.nd(a,"pointerup",e=>this.Xu(e.data,!1)),
d.vc.nd(a,"pointercancel",e=>this.Xu(e.data,!0)),d.vc.nd(a,"deviceorientation",e=>this.faa(e.data)),d.vc.nd(a,"deviceorientationabsolute",e=>this.gaa(e.data)),d.vc.nd(a,"devicemotion",e=>this.eaa(e.data)),d.vc.nd(a,"tick2",()=>this.gH()))}j(){this.xd.clear();super.j()}eH(a){if("mouse"===a.pointerType)if(this.KV)this.NB=!0;else return;const b=a.pointerId;if(!this.xd.has(b)){var e=a.pageX-this.g.xo();a=a.pageY-this.g.yo();var c=performance.now(),h=this.xd.size;this.Vs=h;this.ZC=b;var m=d.B(d.C.Touch.z6);
m.Ig(c,e,a,b,h);this.xd.set(b,m);this.wa(d.C.Touch.G.A3);this.wa(d.C.Touch.G.QO);this.Vh=e;this.Wh=a;this.wa(d.C.Touch.G.N3)}}fH(a){if("mouse"!==a.pointerType||this.NB){var b=this.xd.get(a.pointerId);if(b){var e=performance.now();2>e-b.Ea()||b.Fl(e,a.pageX-this.g.xo(),a.pageY-this.g.yo(),a.width,a.height,a.pressure)}}}Xu(a,b){if("mouse"===a.pointerType)if(this.NB)this.NB=!1;else return;const e=performance.now();a=a.pointerId;const c=this.xd.get(a);c&&(this.Vs=c.Fe,this.ZC=c.Tj(),this.wa(d.C.Touch.G.z3),
this.wa(d.C.Touch.G.PO),b||(b=c.k6(e),"single-tap"===b?(this.wa(d.C.Touch.G.NO),this.Vh=c.N(),this.Wh=c.O(),this.wa(d.C.Touch.G.OO)):"double-tap"===b&&(this.wa(d.C.Touch.G.CO),this.Vh=c.N(),this.Wh=c.O(),this.wa(d.C.Touch.G.DO))),c.j(),this.xd.delete(a))}iH(a){this.uk("request-permission",{type:a});return new Promise((b,e)=>{this.sC.push({type:a,resolve:b,reject:e})})}zaa(a){const b=a.result,e=a.type;this.KK=e;a=this.sC.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.sC=
this.sC.filter(c=>c.type!==e);b?(this.wa(d.C.Touch.G.H3),0===e?this.g.fr():this.g.an()):this.wa(d.C.Touch.G.G3)}faa(a){"number"===typeof a.webkitCompassHeading?this.oC=a.webkitCompassHeading:a.absolute&&(this.oC=a.alpha);this.$J=a.alpha;this.aK=a.beta;this.bK=a.gamma}gaa(a){this.oC=a.alpha}eaa(a){const b=a.acceleration;b&&(this.GH=b.x,this.HH=b.y,this.IH=b.z);if(a=a.accelerationIncludingGravity)this.DH=a.x,this.EH=a.y,this.FH=a.z}gH(){const a=performance.now();let b=0;for(const e of this.xd.values())e.Ea()<=
a-50&&e.wca(a),e.j6(a)&&(this.Vs=e.Fe,this.ZC=e.Tj(),this.pB=b,this.wa(d.C.Touch.G.q3),this.Vh=e.N(),this.Wh=e.O(),this.wa(d.C.Touch.G.r3),this.pB=0),++b}$i(a){a=Math.floor(a);for(const b of this.xd.values()){if(0===a)return b;--a}return null}Nu(a,b){return 0<=a&&0<=b&&a<this.g.I_()&&b<this.g.H_()}}}
{"use strict";const d=self.D,a=[];d.C.Touch.G={QO(){return!0},PO(){return!0},j2(){return 0<this.xd.size},N3(b){return b&&this.Nu(this.Vh,this.Wh)?this.g.gj.Lz(b,this.Vh,this.Wh):!1},u2(b){if(!b)return!1;const e=b.V();var c=e.ka();for(const h of c){c=h.A();const m=c.aa();for(const g of this.xd.values()){if(!this.Nu(g.N(),g.O()))continue;const [k,n]=m.Uf(g.N(),g.O(),c.oe());if(c.Eq(k,n)){a.push(h);break}}}return a.length?(e.nu(a),b.fc(),d.F(a),!0):!1},Iia(b,e,c){return(b=this.$i(b))?d.compare(b.ql(),
e,c):!1},qma(){return!0},Nla(){return!0},Eia(b,e,c){this.g.fr();return d.compare(0===b?this.$J:1===b?this.aK:this.bK,e,c)},uia(b,e,c){this.g.an();return d.compare(0===b?this.DH:1===b?this.EH:2===b?this.FH:3===b?this.GH:4===b?this.HH:this.IH,e,c)},A3(b){b=Math.floor(b);return b===this.Vs},z3(b){b=Math.floor(b);return b===this.Vs},Uja(b){b=Math.floor(b);return this.xd.size>=b+1},q3(){return!0},NO(){return!0},CO(){return!0},r3(b){return b&&this.Nu(this.Vh,this.Wh)?this.g.gj.Lz(b,this.Vh,this.Wh):!1},
OO(b){return b&&this.Nu(this.Vh,this.Wh)?this.g.gj.Lz(b,this.Vh,this.Wh):!1},DO(b){return b&&this.Nu(this.Vh,this.Wh)?this.g.gj.Lz(b,this.Vh,this.Wh):!1},H3(b){return this.KK===b},G3(b){return this.KK===b}}}"use strict";self.D.C.Touch.fb={wna(d){this.iH(d)}};
{"use strict";const d=self.D;d.C.Touch.jb={qqa(){return this.xd.size},Tz(a){const b=this.$i(this.pB);return b?b.Mq(this.g.Na(),a,!0):0},sQ(a){const b=this.$i(this.pB);return b?b.Mq(this.g.Na(),a,!1):0},Uqa(a,b){return(a=this.$i(a))?a.Mq(this.g.Na(),b,!0):0},Wqa(a,b){return(a=this.$i(a))?a.Mq(this.g.Na(),b,!1):0},Vqa(a,b){return(a=this.xd.get(a))?a.Mq(this.g.Na(),b,!0):0},Xqa(a,b){return(a=this.xd.get(a))?a.Mq(this.g.Na(),b,!1):0},nha(){const a=this.$i(0);return a?a.N():0},qha(){const a=this.$i(0);
return a?a.O():0},oha(a){return(a=this.$i(a))?a.N():0},rha(a){return(a=this.$i(a))?a.O():0},pha(a){return(a=this.xd.get(a))?a.N():0},sha(a){return(a=this.xd.get(a))?a.O():0},Ppa(a){return(a=this.$i(a))?a.ql():0},Qpa(a){return(a=this.xd.get(a))?a.ql():0},Jha(a){return(a=this.$i(a))?d.Dg(a.xa()):0},Kha(a){return(a=this.xd.get(a))?d.Dg(a.xa()):0},Qia(){this.g.fr();return this.oC},Hha(){this.g.fr();return this.$J},Xha(){this.g.fr();return this.aK},Eja(){this.g.fr();return this.bK},uha(){this.g.an();return this.DH},
wha(){this.g.an();return this.EH},yha(){this.g.an();return this.FH},tha(){this.g.an();return this.GH},vha(){this.g.an();return this.HH},xha(){this.g.an();return this.IH},rqa(){return this.Vs},dQ(){return this.ZC},Sqa(a){return(a=this.xd.get(a))?a.S():0},Wja(a){return(a=this.xd.get(a))?a.U():0},ana(a){return(a=this.xd.get(a))?a.eV:0}}}
{"use strict";const d=self.D;let a=-1E3,b=-1E3,e=-1E4;d.C.Touch.z6=class extends d.ja{constructor(){super();this.eV=this.W=this.Z=this.dC=this.cC=this.R=this.T=this.SC=this.RC=this.bC=this.ec=this.On=this.Fe=this.dV=0;this.TB=this.TI=!1}j(){}Ig(c,h,m,g,k){this.dV=g;this.Fe=k;this.On=this.bC=this.ec=c;this.RC=h;this.SC=m;this.T=h;this.R=m;this.cC=h;this.dC=m}Fl(c,h,m,g,k,n){this.bC=this.ec;this.ec=c;this.cC=this.T;this.dC=this.R;this.T=h;this.R=m;this.Z=g;this.W=k;this.eV=n;!this.TB&&15<=d.Dm(this.RC,
this.SC,this.T,this.R)&&(this.TB=!0)}Tj(){return this.dV}Ea(){return this.ec}wca(c){this.bC=c}N(){return this.T}O(){return this.R}ql(){const c=d.Dm(this.T,this.R,this.cC,this.dC),h=(this.ec-this.bC)/1E3;return 0<h?c/h:0}xa(){return d.vx(this.cC,this.dC,this.T,this.R)}S(){return this.Z}U(){return this.W}j6(c){return this.TI?!1:500<=c-this.On&&!this.TB&&15>d.Dm(this.RC,this.SC,this.T,this.R)?this.TI=!0:!1}k6(c){if(this.TI)return"";if(333>=c-this.On&&!this.TB&&15>d.Dm(this.RC,this.SC,this.T,this.R)){if(666>=
c-e&&25>d.Dm(a,b,this.T,this.R))return b=a=-1E3,e=-1E4,"double-tap";a=this.T;b=this.R;e=c;return"single-tap"}return""}Mq(c,h,m){return"undefined"===typeof h?c.Hy(0).nY(this.T,this.R)[m?0:1]:(c=c.aa(h))?c.Uf(this.T,this.R)[m?0:1]:0}}}{"use strict";const d=self.D;d.C.Keyboard=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.D;d.C.Keyboard.Wi=class extends d.hr{constructor(a){super(a)}j(){super.j()}Yc(){}$j(){return self.i1}};self.i1=class extends self.ZE{constructor(a){super(a);a.I().Dv.keyboard=this}}}
{"use strict";const d=self.D;d.C.Keyboard.Instance=class extends d.gr{constructor(a){super(a);this.qw=new Set;this.ss=new Set;this.Tk=0;this.kx=this.$C="";a=this.I().Fb();this.Id=new d.Dq(d.vc.nd(a,"keydown",b=>this.uaa(b.data)),d.vc.nd(a,"keyup",b=>this.vaa(b.data)),d.vc.nd(a,"window-blur",()=>this.iS()),d.vc.nd(a,"keyboard-blur",()=>this.iS()))}j(){super.j()}uaa(a){const b=a.which,e=a.code||b.toString();a=a.key;this.qw.has(e)||(this.qw.add(e),this.ss.add(b),this.$C=e,this.Tk=b,this.kx=a,this.wa(d.C.Keyboard.G.yO),
this.wa(d.C.Keyboard.G.GO),this.wa(d.C.Keyboard.G.v3),this.wa(d.C.Keyboard.G.t3))}vaa(a){const b=a.which,e=a.code||b.toString();a=a.key;this.qw.delete(e);this.ss.delete(b);this.$C=e;this.Tk=b;this.kx=a;this.wa(d.C.Keyboard.G.zO);this.wa(d.C.Keyboard.G.IO);this.wa(d.C.Keyboard.G.w3);this.wa(d.C.Keyboard.G.HO)}iS(){for(const a of this.ss)this.ss.delete(a),this.Tk=a,this.wa(d.C.Keyboard.G.zO),this.wa(d.C.Keyboard.G.IO),this.wa(d.C.Keyboard.G.HO);this.qw.clear()}sd(){return{tk:this.Tk,tkk:this.kx}}Xc(a){this.Tk=
a.tk;a.hasOwnProperty("tkk")&&(this.kx=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.C.Keyboard.G={Fka(a){return this.ss.has(a)},GO(a){return this.Tk===a},yO(){return!0},zO(){return!0},IO(a){return this.Tk===a},Eka(a){a=Math.floor(a);return this.ss.has(a)},t3(a){return this.Tk===a},HO(a){return this.Tk===a},v3(a){return this.$C===d[a]},w3(a){return this.$C===d[a]},Gka(a){return this.qw.has(d[a])}}}"use strict";
self.D.C.Keyboard.fb={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.D.C.Keyboard.jb={qla(){return this.Tk},Ypa(a){return d(a)},F6(){return this.kx}}}{"use strict";const d=self.D;d.C.Jc=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.D;d.C.Jc.Wi=class extends d.hr{constructor(a){super(a)}j(){super.j()}Yc(){}}}
{"use strict";const d=self.D;d.C.Jc.Instance=class extends d.gr{constructor(a){super(a,"browser");this.Ik="";this.fw=!1;this.CT=this.iV="";this.pU=!1;this.ux=this.uq=this.Pw=this.Qw=0;this.hw=!1;this.eM([["online-state",b=>this.yaa(b)],["backbutton",()=>this.caa()],["sw-message",b=>this.Caa(b)],["hashchange",b=>this.maa(b)]]);a=this.I().Fb();this.Id=new d.Dq(d.vc.nd(a,"afterfirstlayoutstart",()=>this.baa()),d.vc.nd(a,"window-resize",()=>this.Zu()),d.vc.nd(a,"suspend",()=>this.Daa()),d.vc.nd(a,"resume",
()=>this.Baa()));this.g.iM(this.vz("get-initial-state",{exportType:this.g.bf}).then(b=>{this.Ik=b.location;this.fw=b.isOnline;this.iV=b.referrer;this.CT=b.title;this.pU=b.isCookieEnabled;this.Qw=b.screenWidth;this.Pw=b.screenHeight;this.uq=b.windowOuterWidth;this.ux=b.windowOuterHeight;this.hw=b.isScirraArcade}))}j(){super.j()}baa(){this.Mh("ready-for-sw-messages")}async yaa(a){a=!!a.isOnline;this.fw!==a&&((this.fw=a)?await this.Nc(d.C.Jc.G.D3):await this.Nc(d.C.Jc.G.B3))}async Zu(){await this.Nc(d.C.Jc.G.I3)}Daa(){this.wa(d.C.Jc.G.E3)}Baa(){this.wa(d.C.Jc.G.F3)}async caa(){await this.Nc(d.C.Jc.G.l3)}Caa(a){a=
a.type;"downloading-update"===a?this.wa(d.C.Jc.G.P3):"update-ready"===a||"update-pending"===a?this.wa(d.C.Jc.G.Q3):"offline-ready"===a&&this.wa(d.C.Jc.G.C3)}maa(a){this.Ik=a.location;this.wa(d.C.Jc.G.p3)}}}"use strict";
self.D.C.Jc.G={Zka(){return this.fw},D3(){return!0},B3(){return!0},I3(){return!0},Wia(){return this.pU},Cka(){return this.g.P.Pp},l3(){return!0},dla(d){return(this.g.P.Ej<=this.g.P.Dj?0:1)===d},P3(){return!0},Q3(){return!0},C3(){return!0},p3(){return!0},sma(){return!this.g.Zm()},E3(){return!0},F3(){return!0},Tja(){return!1},yka(){return!1},fma(){return!1},gma(){return!1},Kka(){return!1},qka(){return!0},iqa(){return!0}};
{"use strict";const d=self.D,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.Jc.fb={Gha(b){this.Mh("alert",{message:b.toString()})},ria(){this.hw||(this.g.zb?self.Eg.sia():this.Mh("close"))},yja(){this.Mh("set-focus",{isFocus:!0})},$ha(){this.Mh("set-focus",{isFocus:!1})},Kja(){this.hw||this.Mh("navigate",{type:"back"})},Lja(){this.hw||this.Mh("navigate",{type:"forward"})},Mja(){},nna(){this.hw||(this.g.zb?this.g.e4():this.Mh("navigate",
{type:"reload"}))},Pja(b,e){this.uk("navigate",{type:"url",url:b,target:e,exportType:this.g.bf})},Qja(b,e){this.uk("navigate",{type:"new-window",url:b,tag:e,exportType:this.g.bf})},una(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.$D.gR(b);this.g.P.q5(b);this.uk("request-fullscreen",{navUI:e})},eia(){this.uk("exit-fullscreen")},Hqa(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.uk("vibrate",{pattern:b})},async ez(b,e){b&&e&&(b=await this.g.ud.LE(b),this.g.ez(b,e))},
kka(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.g.ez(b,c))},Via(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},Tia(b){console.group(b)},Uia(){console.groupEnd()},sja(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},Dla(b){b=Math.floor(b);0>b||b>=a.length||this.uk("lock-orientation",{orientation:a[b]})},zqa(){this.uk("unlock-orientation")},pO(b){this.g.ud.pO(b)},Xoa(b){this.Mh("set-hash",{hash:b})}}}"use strict";
self.D.C.Jc.jb={URL(){return this.g.we?this.Ik:location.toString()},ena(){return this.g.we?(new URL(this.Ik)).protocol:location.protocol},BZ(){return this.g.we?(new URL(this.Ik)).hostname:location.hostname},Yma(){return this.g.we?(new URL(this.Ik)).port:location.port},uma(){return this.g.we?(new URL(this.Ik)).pathname:location.pathname},Vja(){return this.g.we?(new URL(this.Ik)).hash:location.hash},yF(){return this.g.we?(new URL(this.Ik)).search:location.search},gna(d){const a=this.g.we?(new URL(this.Ik)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},kna(){return this.iV},kqa(){return this.CT},pla(){return navigator.language},Ob(){return navigator.platform},Eqa(){return navigator.userAgent},rja(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},W2(){return navigator.appName},Gqa(){return navigator.appVersion},cna(){return navigator.product},
Fqa(){return navigator.vendor},Vha(){return 1},Wha(){return Infinity},Uha(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},aZ(){return self.devicePixelRatio},Y4(){return this.Qw},X4(){return this.Pw},a7(){return this.g.P.Ej},Z6(){return this.g.P.Dj},c7(){return this.uq},b7(){return this.uq}};{"use strict";const d=self.D;d.C.Pi=class extends d.bn{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.D;d.C.Pi.Wi=class extends d.hr{constructor(a){super(a)}j(){super.j()}Yc(){}}}
{"use strict";const d=self.D;d.C.Pi.Instance=class extends d.gr{constructor(a){super(a,"platform-info");this.ux=this.uq=this.Pw=this.Qw=0;this.Ks=[0,0,0,0];this.lw=this.UC=!1;this.eM([["window-resize",b=>this.Zu(b)],["wake-lock-acquired",()=>this.Haa()],["wake-lock-error",()=>this.Iaa()],["wake-lock-released",()=>this.Jaa()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.xaa());this.g.iM(this.vz("get-initial-state").then(b=>{this.Qw=b.screenWidth;this.Pw=b.screenHeight;
this.uq=b.windowOuterWidth;this.ux=b.windowOuterHeight;this.Ks=b.safeAreaInset;this.UC=b.supportsWakeLock}))}j(){super.j()}Zu(a){this.uq=a.windowOuterWidth;this.ux=a.windowOuterHeight;this.Ks=a.safeAreaInset}async xaa(){await this.Nc(d.C.Pi.G.y3)}async Haa(){this.lw=!0;await this.Nc(d.C.Pi.G.R3)}async Iaa(){this.lw=!1;await this.Nc(d.C.Pi.G.S3)}async Jaa(){this.lw=!1;await this.Nc(d.C.Pi.G.T3)}}}
{"use strict";const d=self.D;d.C.Pi.G={Uka(){return d.Ob.iz},Xka(){return"Windows"===d.Ob.Lh},Tka(){return"Mac OS X"===d.Ob.Lh},Ska(){return"Linux"===d.Ob.Lh},Qka(){return"Chrome OS"===d.Ob.Lh},Oka(){return"Android"===d.Ob.Lh},Yka(){return"iOS"===d.Ob.Lh},kla(){const a=this.g.bf;return"html5"===a||"scirra-arcade"===a||"preview"===a||"instant-games"===a},ska(){return this.g.WN()},Mka(){return"nwjs"===this.g.bf},lla(){return"windows-uwp"===this.g.bf},mla(){return"windows-webview2"===this.g.bf},Jka(){return"macos-wkwebview"===
this.g.bf},y3(){return!0},R3(){return!0},S3(){return!0},T3(){return!0},ila(){return this.lw},jla(){return this.UC}}}"use strict";self.D.C.Pi.fb={yna(){this.UC&&this.uk("request-wake-lock")},mna(){this.UC&&(this.lw=!1,this.Mh("release-wake-lock"))}};"use strict";
self.D.C.Pi.jb={qna(){let d;d=this.g.Qq()?"webgpu":"webgl"+this.g.sl().kd;this.g.lb().rB&&(d+="-software");return d},rna(){return this.g.sl().Ys},aZ(){return self.devicePixelRatio},Y4(){return this.Qw},X4(){return this.Pw},a7(){return this.g.P.Ej},Z6(){return this.g.P.Dj},c7(){return this.uq},b7(){return this.ux},hia(){return this.g.P.Oc},gia(){return this.g.P.Cc},jia(){return this.g.P.ah},iia(){return this.g.P.$g},fja(){return navigator.connection?navigator.connection.downlink||0:0},gja(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},Ria(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},Sia(){return navigator.connection?navigator.connection.rtt||0:0},Sja(){return navigator.hardwareConcurrency||0},dja(){return navigator.deviceMemory||0},yoa(){return this.Ks[0]},xoa(){return this.Ks[1]},voa(){return this.Ks[2]},woa(){return this.Ks[3]}};
{"use strict";const d=self.D;d.rb.zl=class extends d.JF{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.D;d.rb.zl.Wi=class extends d.LF{constructor(a){super(a)}j(){super.j()}Yc(){}}}
{"use strict";const d=self.D;d.rb.zl.Instance=class extends d.KF{constructor(a,b){super(a);this.Ok=null;this.tC=-1;this.lh="";this.cq=new Set;this.Bn=this.$A=this.un=this.Xr=this.Yr=this.Ap=this.zp=this.Iw=this.aq=this.Ae=0;this.$r=!1;b&&(this.$r=b[0]);a=this.g.Fb();this.Id=new d.Dq(d.vc.nd(a,"instancedestroy",e=>this.paa(e.instance)),d.vc.nd(a,"afterload",()=>this.Vu()))}j(){this.Ok=null;super.j()}cv(a){a?(this.Ok=a,this.US()):(this.Ok=null,this.tA())}ln(a,b,e){if(a&&(a=a.EE(this.fa)))if(this.lh=
b,this.cv(a),b=this.fa.A(),a=a.A(),"properties"===this.lh){const c=this.cq;c.clear();for(const h of e)c.add(h);this.zp=b.N()-a.N();this.Ap=b.O()-a.O();this.un=b.xa()-a.xa();this.Bn=b.xa();this.$A=b.Va()-a.Va();c.has("x")&&c.has("y")&&(this.aq=d.vx(a.N(),a.O(),b.N(),b.O())-a.xa(),this.Ae=d.Dm(a.N(),a.O(),b.N(),b.O()));c.has("width-abs")?this.Yr=b.S()-a.S():c.has("width-scale")&&(this.Yr=b.S()/a.S());c.has("height-abs")?this.Xr=b.U()-a.U():c.has("height-scale")&&(this.Xr=b.U()/a.U())}else this.Ae=d.Dm(a.N(),
a.O(),b.N(),b.O())}sd(){const a=this.cq,b=this.lh,e={uid:this.Ok?this.Ok.Gc:-1,m:b,d:this.$r};if("rope"===b||"bar"===b)e.pd=this.Ae;else if("properties"===b){e.ps=[...this.cq];a.has("imagepoint")?e.ip=this.Iw:a.has("x")&&a.has("y")?(e.pa=this.aq,e.pd=this.Ae):(a.has("x")&&(e.dx=this.zp),a.has("y")&&(e.dy=this.Ap));a.has("angle")&&(e.da=this.un,e.lka=this.Bn);if(a.has("width-abs")||a.has("width-scale"))e.dw=this.Yr;if(a.has("height-abs")||a.has("height-scale"))e.dh=this.Xr;a.has("z")&&(e.dz=this.$A)}return e}Xc(a){const b=
a.m,e=this.cq;e.clear();this.tC=a.uid;if("number"===typeof b)this.v$(a);else if(this.lh=b,a.hasOwnProperty("d")&&(this.$r=!!a.d),"rope"===b||"bar"===b)this.Ae=a.pd;else if("properties"===b){for(const c of a.ps)e.add(c);e.has("imagepoint")?this.Iw=a.ip:e.has("x")&&e.has("y")?(this.aq=a.pa,this.Ae=a.pd):(e.has("x")&&(this.zp=a.dx),e.has("y")&&(this.Ap=a.dy));e.has("angle")&&(this.un=a.da,this.Bn=a.lka||0);if(e.has("width-abs")||e.has("width-scale"))this.Yr=a.dw;if(e.has("height-abs")||e.has("height-scale"))this.Xr=
a.dh;e.has("z")&&(this.$A=a.dz)}}v$(a){const b=this.cq,e=a.msa,c=a.tsa,h=a.pa,m=a.pd;switch(a.m){case 0:this.lh="properties";b.add("x").add("y").add("angle");this.aq=h;this.Ae=m;this.un=e-c;this.Bn=a.lka;break;case 1:this.lh="properties";b.add("x").add("y");this.aq=h;this.Ae=m;break;case 2:this.lh="properties";b.add("angle");this.un=e-c;this.Bn=a.lka;break;case 3:this.lh="rope";this.Ae=a.pd;break;case 4:this.lh="bar",this.Ae=a.pd}}Vu(){-1===this.tC?this.cv(null):(this.cv(this.g.Hi(this.tC)),this.tC=
-1)}paa(a){this.Ok===a&&(this.cv(null),this.$r&&this.g.Nm(this.fa))}Cu(){var a=this.Ok;if(a){var b=a.A(),e=this.fa.A(),c=this.lh,h=!1;if("rope"===c||"bar"===c){if(a=d.Dm(e.N(),e.O(),b.N(),b.O()),a>this.Ae||"bar"===c&&a<this.Ae)h=d.vx(b.N(),b.O(),e.N(),e.O()),e.Ph(b.N()+Math.cos(h)*this.Ae,b.O()+Math.sin(h)*this.Ae),h=!0}else{c=this.cq;if(c.has("imagepoint")){const [m,g]=a.Rm(this.Iw);e.mE(m,g)||(e.Ph(m,g),h=!0)}else if(c.has("x")&&c.has("y")){a=b.N()+Math.cos(b.xa()+this.aq)*this.Ae;const m=b.O()+
Math.sin(b.xa()+this.aq)*this.Ae;e.mE(a,m)||(e.Ph(a,m),h=!0)}else a=b.N()+this.zp,c.has("x")&&a!==e.N()&&(e.Te(a),h=!0),a=b.O()+this.Ap,c.has("y")&&a!==e.O()&&(e.Ue(a),h=!0);c.has("angle")&&(this.Bn!==e.xa()&&(this.un=d.Md(this.un+(e.xa()-this.Bn))),a=d.Md(b.xa()+this.un),a!==e.xa()&&(e.Ad(a),h=!0),this.Bn=e.xa());c.has("width-abs")&&(a=b.S()+this.Yr,a!==e.S()&&(e.Se(a),h=!0));c.has("width-scale")&&(a=b.S()*this.Yr,a!==e.S()&&(e.Se(a),h=!0));c.has("height-abs")&&(a=b.U()+this.Xr,a!==e.U()&&(e.Pe(a),
h=!0));c.has("height-scale")&&(a=b.U()*this.Xr,a!==e.U()&&(e.Pe(a),h=!0));c.has("z")&&(a=b.Va()+this.$A,a!==e.Va()&&(e.qe(a),this.g.ea()))}h&&e.Ta()}}}}"use strict";self.D.rb.zl.G={cla(){return!!this.Ok},Tqa(){return this.$r}};"use strict";
self.D.rb.zl.fb={Oma(d,a){this.ln(d,0===a?"rope":"bar")},Y3(d,a,b,e,c,h,m){const g=[];a&&g.push("x");b&&g.push("y");e&&g.push("angle");m&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===h?g.push("height-abs"):2===h&&g.push("height-scale");0!==g.length&&this.ln(d,"properties",g)},Pma(d,a,b,e,c,h){const m=["imagepoint"];b&&m.push("angle");h&&m.push("z");1===e?m.push("width-abs"):2===e&&m.push("width-scale");1===c?m.push("height-abs"):2===c&&m.push("height-scale");this.Iw=a;this.ln(d,
"properties",m)},ypa(d){if("rope"===this.lh||"bar"===this.lh)this.Ae=Math.max(d,0)},Moa(d){this.$r=d},Aqa(){this.cv(null);this.lh="";this.cq.clear();this.Iw=""},zl(d,a){switch(a){case 0:this.ln(d,"properties",["x","y","angle"]);break;case 1:this.ln(d,"properties",["x","y"]);break;case 2:this.ln(d,"properties",["angle"]);break;case 3:this.ln(d,"rope");break;case 4:this.ln(d,"bar")}}};"use strict";self.D.rb.zl.jb={Qma(){return this.Ok?this.Ok.Gc:-1}};
{"use strict";const d=self.D;d.rb.Vf=class extends d.JF{constructor(a){super(a);a=this.g.Fb();this.Id=new d.Dq(d.vc.nd(a,"pointerdown",b=>this.eH(b.data)),d.vc.nd(a,"pointermove",b=>this.fH(b.data)),d.vc.nd(a,"pointerup",b=>this.Xu(b.data,!1)),d.vc.nd(a,"pointercancel",b=>this.Xu(b.data,!0)))}j(){this.Id.j();this.Id=null;super.j()}eH(a){"mouse"===a.pointerType&&0!==a.button||this.naa(a.pointerId.toString(),a.pageX-this.g.xo(),a.pageY-this.g.yo())}fH(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.cS(a.pointerId.toString()):
this.oaa(a.pointerId.toString(),a.pageX-this.g.xo(),a.pageY-this.g.yo())}Xu(a){"mouse"===a.pointerType&&0!==a.button||this.cS(a.pointerId.toString())}async naa(a,b,e){var c=this.ka();let h=null,m=null,g=0,k=0;for(const n of c){c=n.tE(d.rb.Vf);if(!c.Kh()||c.qj)continue;const p=n.A(),q=p.aa(),[u,w]=q.Uf(b,e,p.oe());if(!p.Eq(u,w))continue;if(!h){h=n;m=c;g=u;k=w;continue}const r=h.A();if(q.Ia()>r.aa().Ia()||q.Ia()===r.aa().Ia()&&p.Jh()>r.Jh())h=n,m=c,g=u,k=w}h&&await m.haa(a,g,k)}oaa(a,b,e){var c=this.ka();
for(const h of c){c=h.tE(d.rb.Vf);if(!c.Kh()||!c.qj||c.qj&&c.vI!==a)continue;const m=h.A(),g=m.aa(),[k,n]=g.Uf(b,e,m.oe());c.waa(k,n)}}async cS(a){var b=this.ka();for(const e of b)b=e.tE(d.rb.Vf),b.qj&&b.vI===a&&await b.hS()}}}{"use strict";const d=self.D;d.rb.Vf.Wi=class extends d.LF{constructor(a){super(a)}j(){super.j()}Yc(){}}}
{"use strict";const d=self.D;d.rb.Vf.Instance=class extends d.KF{constructor(a,b){super(a);this.qj=!1;this.Ap=this.zp=0;this.vI="<none>";this.Ol=0;this.Qc=!0;b&&(this.Ol=b[0],this.Qc=b[1])}j(){super.j()}sd(){return{a:this.Ol,e:this.Qc}}Xc(a){this.Ol=a.a;this.Qc=a.e;this.qj=!1}Kh(){return this.Qc}YN(){return this.qj}async haa(a,b,e){const c=this.A();this.zp=b-c.N();this.Ap=e-c.O();this.qj=!0;this.vI=a;await this.Nc(d.rb.Vf.G.EO)}waa(a,b){const e=this.A();a-=this.zp;b-=this.Ap;if(0===this.Ol){if(e.N()!==
a||e.O()!==b)e.Ph(a,b),e.Ta()}else 1===this.Ol?e.N()!==a&&(e.Te(a),e.Ta()):2===this.Ol&&e.O()!==b&&(e.Ue(b),e.Ta())}async hS(){this.qj=!1;await this.Nc(d.rb.Vf.G.FO)}zc(a){switch(a){case 0:return this.Ol;case 1:return this.Qc}}Pg(a,b){switch(a){case 0:this.Ol=b;break;case 1:this.Qc=!!b}}}}"use strict";self.D.rb.Vf.G={YN(){return this.qj},EO(){return!0},FO(){return!0},Kh(){return this.Qc}};"use strict";self.D.rb.Vf.fb={BP(d){this.Qc=!!d;this.Qc||(this.qj=!1)},Goa(d){this.Ol=d},jja(){this.qj&&this.hS()}};
"use strict";self.D.rb.Vf.jb={};{"use strict";const d=self.D;d.rb.yr=class extends d.JF{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.D;d.rb.yr.Wi=class extends d.LF{constructor(a){super(a)}j(){super.j()}Yc(){}}}
{"use strict";const d=self.D,a=self.ON,b=2*Math.PI,e=Math.PI/2,c=3*Math.PI/2,h=[0,1,8,3,4,2,5,6,9,7];d.rb.yr.Instance=class extends d.KF{constructor(g,k){super(g);this.Ec=this.ye=this.bo=this.rg=this.Dc=0;this.Qc=!0;this.CC=this.ts=this.Gf=this.Kp=this.mb=this.LJ=this.eK=this.fK=this.GA=this.jT=this.HA=0;k&&(this.rg=h[k[0]],this.bo=k[1],this.fK=this.g.Bl()*k[3],this.HA=k[2],this.ye=k[2],this.ye+=this.fK,this.jT=k[4],0!==this.ye&&(this.eK=this.g.Bl()*k[5],this.Dc=k[4]/this.ye*b,this.Dc+=this.eK/this.ye*
b),this.LJ=this.g.Bl()*k[7],this.GA=k[6],this.Ec=k[6],this.Ec+=this.LJ,this.Qc=!!k[8]);5===this.rg&&(this.Ec=d.wb(this.Ec));this.Ig();this.Qc&&this.zk()}j(){super.j()}sd(){return{i:this.Dc,e:this.Qc,mv:this.rg,w:this.bo,p:this.ye,mag:this.Ec,iv:this.mb,iv2:this.Kp,r:this.CC,lkv:this.Gf,lkv2:this.ts}}Xc(g){this.Dc=g.i;this.oA(g.e);this.rg=g.mv;this.bo=g.w;this.ye=g.p;this.Ec=g.mag;this.mb=g.iv;this.Kp=g.iv2;this.CC=g.r;this.Gf=g.lkv;this.ts=g.lkv2}Ig(){const g=this.fa.A();switch(this.rg){case 0:this.mb=
g.N();break;case 1:this.mb=g.O();break;case 2:this.mb=g.S();this.CC=g.U()/g.S();break;case 3:this.mb=g.S();break;case 4:this.mb=g.U();break;case 5:this.mb=g.xa();break;case 6:this.mb=g.le();break;case 7:this.mb=0;break;case 8:this.mb=g.N();this.Kp=g.O();break;case 9:this.mb=g.Va()}this.Gf=this.mb;this.ts=this.Kp}Rh(g){g%=b;switch(this.bo){case 0:return Math.sin(g);case 1:return g<=e?g/e:g<=c?1-2*(g-e)/Math.PI:(g-c)/e-1;case 2:return 2*g/b-1;case 3:return-2*g/b+1;case 4:return g<Math.PI?-1:1}return 0}Ve(){const g=
this.g.By(this.fa);this.Qc&&0!==g&&(this.Dc=0===this.ye?0:(this.Dc+g/this.ye*b)%b,this.dT())}dT(){const g=this.fa.A();switch(this.rg){case 0:g.N()!==this.Gf&&(this.mb+=g.N()-this.Gf);g.Te(this.mb+this.Rh(this.Dc)*this.Ec);this.Gf=g.N();break;case 1:g.O()!==this.Gf&&(this.mb+=g.O()-this.Gf);g.Ue(this.mb+this.Rh(this.Dc)*this.Ec);this.Gf=g.O();break;case 2:g.Se(this.mb+this.Rh(this.Dc)*this.Ec);g.Pe(g.S()*this.CC);break;case 3:g.Se(this.mb+this.Rh(this.Dc)*this.Ec);break;case 4:g.Pe(this.mb+this.Rh(this.Dc)*
this.Ec);break;case 5:g.xa()!==this.Gf&&(this.mb=d.Md(this.mb+(g.xa()-this.Gf)));g.Ad(this.mb+this.Rh(this.Dc)*this.Ec);this.Gf=g.xa();break;case 6:g.Si(this.mb+this.Rh(this.Dc)*this.Ec/100);break;case 8:g.N()!==this.Gf&&(this.mb+=g.N()-this.Gf);g.O()!==this.ts&&(this.Kp+=g.O()-this.ts);g.Te(this.mb+Math.cos(g.xa())*this.Rh(this.Dc)*this.Ec);g.Ue(this.Kp+Math.sin(g.xa())*this.Rh(this.Dc)*this.Ec);this.Gf=g.N();this.ts=g.O();break;case 9:g.qe(this.mb+this.Rh(this.Dc)*this.Ec)}g.Ta()}Bca(g){this.ye=
g}xca(g){this.Ec=g}yca(g){5===this.rg&&(g=d.wb(g));this.xca(g)}QG(){let g=this.Ec;5===this.rg&&(g=d.Dg(g));return g}Aca(g){5===this.rg&&5!==g&&(this.Ec=d.Dg(this.Ec));this.rg=g;this.Ig()}Cca(g){this.Dc=d.ia(g,0,2*Math.PI);this.dT()}oA(g){(this.Qc=!!g)?this.zk():this.Jr()}zc(g){switch(g){case 0:return this.rg;case 1:return this.bo;case 2:return this.HA;case 6:return this.GA;case 8:return this.Qc}}Pg(g,k){switch(g){case 0:this.rg=h[k];this.Ig();break;case 1:this.bo=k;break;case 2:this.HA=k;this.ye=
this.HA+this.fK;this.Qc||(0!==this.ye?(this.Dc=this.jT/this.ye*b,this.Dc+=this.eK/this.ye*b):this.Dc=0);break;case 6:this.GA=k;this.Ec=this.GA+this.LJ;5===this.rg&&(this.Ec=d.wb(this.Ec));break;case 8:this.Qc=!!k}}$j(){return self.m1}};const m=new WeakMap;self.m1=class extends a{constructor(){super();m.set(this,a.Cr().oa)}get value(){const g=m.get(this);return g.Rh(g.Dc)*g.Ec}set isEnabled(g){m.get(this).oA(!!g)}get isEnabled(){return m.get(this).Qc}}}
{"use strict";const d=self.D;d.rb.yr.G={Kh(){return this.Qc},Cia(a){return this.rg===a},Fia(a,b){return d.compare(this.ye,a,b)},Bia(a,b){return d.compare(this.QG(),a,b)},Lia(a){return this.bo===a}}}"use strict";self.D.rb.yr.fb={BP(d){this.oA(0!==d)},wpa(d){this.Bca(d)},rpa(d){this.yca(d)},upa(d){this.Aca(d)},Fpa(d){this.bo=d},xpa(d){const a=2*Math.PI;this.Cca(d*a%a)},Cqa(){this.Ig()}};"use strict";
self.D.rb.yr.jb={$ia(){return this.Dc/(2*Math.PI)},wma(){return this.ye},Fla(){return this.QG()},O6(){return this.Rh(this.Dc)*this.QG()}};
{const d=self.D;self.oM=function(){return[d.C.sb,d.C.Text,d.C.Touch,d.rb.zl,d.rb.Vf,d.rb.yr,d.C.Keyboard,d.C.Jc,d.C.Pi,d.C.Touch.G.j2,d.C.sb.G.vM,d.C.Touch.jb.dQ,d.C.sb.fb.s5,d.C.sb.G.SN,d.C.sb.fb.Pe,d.C.sb.fb.Ue,d.C.sb.jb.XX,d.C.sb.jb.UX,d.C.Text.G.vM,d.C.Text.fb.Gz,d.C.Touch.G.OO,d.C.Touch.G.DO,d.C.Ka.fb.HX,d.C.Ka.fb.GM,d.C.sb.jb.Tz,d.C.sb.jb.sQ,d.C.sb.fb.IP,d.C.sb.fb.Se,d.C.sb.jb.Y6,d.C.Text.fb.IP,d.rb.zl.fb.Y3,d.C.Ka.fb.rG,d.C.sb.fb.j5,d.C.sb.fb.Si,d.C.Text.fb.OM,d.C.sb.fb.OM,d.C.Ka.fb.e6,d.C.Ka.fb.k5,
d.C.Ka.fb.Z4,d.C.Text.fb.Rg,d.C.Ka.fb.eG,d.C.Ka.fb.a5,d.C.Ka.G.AO,d.C.Jc.fb.ez,d.C.Ka.jb.kfa,d.C.Ka.jb.fga,d.C.Ka.jb.ega,d.rb.Vf.G.YN,d.rb.Vf.G.FO,d.C.sb.jb.f1,d.rb.Vf.G.EO,d.C.Ka.G.X3,d.C.sb.fb.Rg,d.C.Touch.G.NO,d.C.Touch.G.CO,d.C.Touch.G.u2,d.C.Ka.G.SM,d.C.Keyboard.G.yO,d.C.Ka.G.AY,d.C.Ka.jb.kt,d.C.Keyboard.jb.F6,d.C.Text.fb.zu,d.C.Text.jb.Text,d.C.Keyboard.G.GO,d.C.Ka.jb.left,d.C.Ka.G.JO,d.C.Jc.jb.BZ,d.C.Ka.jb.yga,d.C.Ka.jb.zga,d.C.sb.fb.Te,d.C.Text.jb.Tz,d.C.Text.jb.v6,d.C.Ka.G.ZM,d.C.sb.fb.p6,
d.C.sb.jb.A2,d.C.Text.fb.td,d.C.sb.G.TN,d.C.Touch.G.QO,d.C.Touch.G.PO,d.C.sb.jb.VX,d.C.sb.jb.WX,d.C.Touch.jb.Tz,d.C.Ka.G.Uq,d.C.Ka.G.v_,d.C.Ka.jb.Zga,d.C.Ka.jb.Yga,d.C.Ka.jb.kga,d.C.Text.G.BO,d.C.Text.jb.n_,d.C.Text.G.TN,d.C.Ka.G.D6]};self.fY=[{oia:0},{W2:0},{Mpa:0},{Jla:0},{Mla:0},{Tg:0},{$ma:0},{Zma:0},{O6:0},{zja:0},{dQ:0},{zha:0},{bja:0},{Kpa:0},{Lpa:0},{Touch:0},{index:0},{zl:0},{ola:0},{Sha:0},{ksa:0},{ija:0},{Jpa:0},{Rja:0},{eta:0},{Aha:0},{Bha:0},{lia:0},{oqa:0},{Tha:0},{cja:0},{Keyboard:0},
{Jc:0},{Ela:0},{dna:0},{nia:0},{type:0},{mia:0},{zoa:0},{Pi:0},{cia:0},{nqa:0},{pia:0},{Asa:0},{iua:0},{mra:0},{dua:0}]}
{const d=self.D;function a(b,e){return"string"===typeof b||"string"===typeof e?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof e?(Math.round(1E10*e)/1E10).toString():e):b&&e?1:0}self.eY=[b=>{const e=b.Ga(0).Nd();return()=>e()},()=>"Saturation",()=>"AdjustHSL2",()=>1,b=>{const e=b.Ga(0);return()=>e.nf()},()=>"Hue",()=>0,()=>"ULen",b=>{const e=b.Ga(0);return()=>e.Wf()},()=>"LLen",()=>179,()=>181,()=>"Thickness",b=>{const e=b.Ga(0);return()=>d.ia(Math.round(e.nf()/16*
12),6,12)},b=>{const e=b.Ga(0).Fk;return()=>e.Ac()},()=>100,()=>"top",()=>"bottom",b=>{const e=b.Ga(0).Fk,c=b.Ga(1).Fk;return()=>e.Ac()-c.Ac()},()=>.1,()=>75,b=>{const e=b.Ga(0).Fk,c=b.Ga(1).Fk;return()=>(e.Ac()+c.Ac())/2},()=>-1,()=>"chromosome.png",()=>360,b=>{const e=b.Ga(0).Nd();return()=>e()/2},b=>{const e=b.Ga(0),c=b.Ga(1),h=b.Ga(2);return()=>d.ia(4*Math.round(e.Wf()/4),36+c.Wf()/2,328-h.Wf()/2)},()=>50,()=>25,b=>{const e=b.Ga(0).Nd(),c=b.Ga(1).Nd();return()=>e(c())},()=>2,b=>{const e=b.Ga(0),
c=b.Ga(1).Nd();return()=>e.Wf()+c()},b=>{const e=b.Ga(0).Nd(),c=b.Ga(1),h=b.Ga(2).Nd(),m=b.Ga(3);return()=>e(c.Wf(),h(m.Wf())-1)},()=>"milesloh.github.io",b=>{const e=b.Ga(0).Nd(),c=b.Ga(1).Nd();return()=>e()+" - "+c()+" - (C) Mr. Miles Loh"},b=>{const e=b.Ga(0).Nd(),c=b.Ga(1).Nd();return()=>e()+" - "+c()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},b=>{const e=b.Ga(0),c=b.Ga(1);return()=>e.Wf()+c.Wf()/2},b=>{const e=b.Ga(0),c=b.Ga(1),h=b.Ga(2),m=b.Ga(3);return()=>d.xt(e.nf(),
c.nf(),h.nf())*m.Wf()},b=>{const e=b.Ga(0),c=b.Ga(1),h=b.Ga(2);return()=>a(e.nf(),c.nf())+h.nf()},b=>{const e=b.Ga(0),c=b.Ga(1),h=b.Ga(2);return()=>a(e.nf(),Math.floor(c.nf()))+h.nf()},b=>{const e=b.Ga(0),c=b.Ga(1),h=b.Ga(2),m=b.Ga(3),g=b.Ga(4).Nd(),k=b.Ga(5),n=b.Ga(6),p=b.Ga(7),q=b.Ga(8);return()=>Math.round(d.Xd(e.nf(),c.nf(),d.xt(h.Wf(),m.Wf(),d.ia(g(),k.Wf(),n.Wf())))/p.nf())*q.nf()},()=>"ToggleButton",()=>"",b=>{const e=b.Ga(0).Nd(),c=b.Ga(1);return()=>e(c.Hq(),";")-1},b=>{const e=b.Ga(0).Nd(),
c=b.Ga(1),h=b.Ga(2).Nd();return()=>e(c.Hq(),h(),";")},b=>{const e=b.Ga(0).Nd(),c=b.Ga(1),h=b.Ga(2).Fk,m=b.Ga(3).Nd(),g=b.Ga(4);return()=>e(c.Hq(),(h.Ac()+1)%m(g.Hq(),";"),";")},()=>"Button",b=>{const e=b.Ga(0);return()=>Math.floor(.875*e.Hq())},b=>{const e=b.Ga(0);return()=>e.Hq()}]};
