// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function a(f,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2];r=r[3];f[0]=x*E+C*I;f[1]=A*E+k*I;f[2]=x*L+C*r;f[3]=A*L+k*r;return f}function b(f,k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];f[2]=k[2]-r[2];f[3]=k[3]-r[3];return f}function e(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=r[0],O=r[1],S=r[2],T=r[3],X=r[4];r=r[5];f[0]=x*L+C*O;f[1]=A*L+E*O;f[2]=x*S+C*T;f[3]=A*S+E*T;f[4]=x*X+C*r+I;f[5]=A*X+E*r+k;return f}function c(f,k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];f[2]=k[2]-
r[2];f[3]=k[3]-r[3];f[4]=k[4]-r[4];f[5]=k[5]-r[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function n(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=r[0],X=r[1],W=r[2],fa=r[3],da=r[4],aa=r[5],ua=r[6],pa=r[7];r=r[8];f[0]=T*x+X*E+W*O;f[1]=T*A+X*I+W*S;f[2]=T*C+X*L+W*k;f[3]=fa*x+da*E+aa*O;f[4]=fa*A+da*I+aa*S;f[5]=fa*C+da*L+aa*k;f[6]=ua*x+pa*E+r*O;f[7]=ua*A+pa*I+r*S;f[8]=ua*C+pa*L+
r*k;return f}function h(f,k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];f[2]=k[2]-r[2];f[3]=k[3]-r[3];f[4]=k[4]-r[4];f[5]=k[5]-r[5];f[6]=k[6]-r[6];f[7]=k[7]-r[7];f[8]=k[8]-r[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function m(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=k[8],X=k[9],W=k[10],fa=k[11],da=k[12],aa=k[13],ua=k[14];k=k[15];var pa=r[0],sa=r[1],ta=r[2],ra=r[3];f[0]=
pa*x+sa*I+ta*T+ra*da;f[1]=pa*A+sa*L+ta*X+ra*aa;f[2]=pa*C+sa*O+ta*W+ra*ua;f[3]=pa*E+sa*S+ta*fa+ra*k;pa=r[4];sa=r[5];ta=r[6];ra=r[7];f[4]=pa*x+sa*I+ta*T+ra*da;f[5]=pa*A+sa*L+ta*X+ra*aa;f[6]=pa*C+sa*O+ta*W+ra*ua;f[7]=pa*E+sa*S+ta*fa+ra*k;pa=r[8];sa=r[9];ta=r[10];ra=r[11];f[8]=pa*x+sa*I+ta*T+ra*da;f[9]=pa*A+sa*L+ta*X+ra*aa;f[10]=pa*C+sa*O+ta*W+ra*ua;f[11]=pa*E+sa*S+ta*fa+ra*k;pa=r[12];sa=r[13];ta=r[14];ra=r[15];f[12]=pa*x+sa*I+ta*T+ra*da;f[13]=pa*A+sa*L+ta*X+ra*aa;f[14]=pa*C+sa*O+ta*W+ra*ua;f[15]=pa*
E+sa*S+ta*fa+ra*k;return f}function p(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=x+x,L=A+A,O=C+C;k=x*I;var S=x*L;x*=O;var T=A*L;A*=O;C*=O;I*=E;L*=E;E*=O;f[0]=1-(T+C);f[1]=S+E;f[2]=x-L;f[3]=0;f[4]=S-E;f[5]=1-(k+C);f[6]=A+I;f[7]=0;f[8]=x+L;f[9]=A-I;f[10]=1-(k+T);f[11]=0;f[12]=r[0];f[13]=r[1];f[14]=r[2];f[15]=1;return f}function u(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function q(f,k){var r=k[4],x=k[5],A=k[6],C=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(r,x,A);f[2]=Math.hypot(C,
E,I);return f}function v(f,k){var r=new qa(3);q(r,k);var x=1/r[0],A=1/r[1],C=1/r[2],E=k[0]*x;r=k[1]*A;var I=k[2]*C,L=k[4]*x,O=k[5]*A,S=k[6]*C;x*=k[8];A*=k[9];k=k[10]*C;C=E+O+k;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(S-A)/E,f[1]=(x-I)/E,f[2]=(r-L)/E):E>O&&E>k?(E=2*Math.sqrt(1+E-O-k),f[3]=(S-A)/E,f[0]=.25*E,f[1]=(r+L)/E,f[2]=(x+I)/E):O>k?(E=2*Math.sqrt(1+O-E-k),f[3]=(x-I)/E,f[0]=(r+L)/E,f[1]=.25*E,f[2]=(S+A)/E):(E=2*Math.sqrt(1+k-E-O),f[3]=(r-L)/E,f[0]=(x+I)/E,f[1]=(S+A)/E,f[2]=.25*E);return f}function t(f,
k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];f[2]=k[2]-r[2];f[3]=k[3]-r[3];f[4]=k[4]-r[4];f[5]=k[5]-r[5];f[6]=k[6]-r[6];f[7]=k[7]-r[7];f[8]=k[8]-r[8];f[9]=k[9]-r[9];f[10]=k[10]-r[10];f[11]=k[11]-r[11];f[12]=k[12]-r[12];f[13]=k[13]-r[13];f[14]=k[14]-r[14];f[15]=k[15]-r[15];return f}function w(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function y(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,r){var x=new qa(3);x[0]=f;x[1]=k;x[2]=r;return x}function F(f,k,r){f[0]=k[0]-r[0];f[1]=
k[1]-r[1];f[2]=k[2]-r[2];return f}function G(f,k,r){f[0]=k[0]*r[0];f[1]=k[1]*r[1];f[2]=k[2]*r[2];return f}function Q(f,k,r){f[0]=k[0]/r[0];f[1]=k[1]/r[1];f[2]=k[2]/r[2];return f}function D(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function H(f,k){var r=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return r*r+x*x+f*f}function J(f){var k=f[0],r=f[1];f=f[2];return k*k+r*r+f*f}function M(f,k){var r=k[0],x=k[1],A=k[2];r=r*r+x*x+A*A;0<r&&(r=1/Math.sqrt(r));f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;return f}function P(f,
k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function R(f,k,r){var x=k[0],A=k[1];k=k[2];var C=r[0],E=r[1];r=r[2];f[0]=A*r-k*E;f[1]=k*C-x*r;f[2]=x*E-A*C;return f}function V(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Z(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function ca(f,k,r,x){var A=new qa(4);A[0]=f;A[1]=k;A[2]=r;A[3]=x;return A}function Y(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ha(f,k,r,x,A){f[0]=k;f[1]=r;f[2]=
x;f[3]=A;return f}function ka(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];return f}function za(f,k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];f[2]=k[2]-r[2];f[3]=k[3]-r[3];return f}function Oa(f,k,r){f[0]=k[0]*r[0];f[1]=k[1]*r[1];f[2]=k[2]*r[2];f[3]=k[3]*r[3];return f}function ab(f,k,r){f[0]=k[0]/r[0];f[1]=k[1]/r[1];f[2]=k[2]/r[2];f[3]=k[3]/r[3];return f}function Ua(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;return f}function bb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],
k[2]-f[2],k[3]-f[3])}function mb(f,k){var r=k[0]-f[0],x=k[1]-f[1],A=k[2]-f[2];f=k[3]-f[3];return r*r+x*x+A*A+f*f}function Va(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Pa(f){var k=f[0],r=f[1],x=f[2];f=f[3];return k*k+r*r+x*x+f*f}function fb(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*r+x*x+A*A+k*k;0<C&&(C=1/Math.sqrt(C));f[0]=r*C;f[1]=x*C;f[2]=A*C;f[3]=k*C;return f}function cb(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function ub(f,k,r,x){var A=k[0],C=k[1],E=k[2];k=k[3];f[0]=A+
x*(r[0]-A);f[1]=C+x*(r[1]-C);f[2]=E+x*(r[2]-E);f[3]=k+x*(r[3]-k);return f}function vb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function wb(f,k){var r=f[0],x=f[1],A=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}function gb(){var f=new qa(4);qa!=Float32Array&&
(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,r){r*=.5;var x=Math.sin(r);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(r);return f}function yb(f,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2];r=r[3];f[0]=x*r+k*E+A*L-C*I;f[1]=A*r+k*I+C*E-x*L;f[2]=C*r+k*L+x*I-A*E;f[3]=k*r-x*E-A*I-C*L;return f}function zb(f,k,r){r*=.5;var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);f[0]=x*r+k*E;f[1]=A*r+C*E;f[2]=C*r-A*E;f[3]=k*r-x*E;return f}function Ab(f,k,r){r*=.5;var x=
k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);f[0]=x*r-C*E;f[1]=A*r+k*E;f[2]=C*r+x*E;f[3]=k*r-A*E;return f}function Bb(f,k,r){r*=.5;var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);f[0]=x*r+A*E;f[1]=A*r-x*E;f[2]=C*r+k*E;f[3]=k*r-C*E;return f}function Cb(f,k){var r=k[0],x=k[1],A=k[2],C=Math.sqrt(r*r+x*x+A*A);k=Math.exp(k[3]);var E=0<C?k*Math.sin(C)/C:0;f[0]=r*E;f[1]=x*E;f[2]=A*E;f[3]=k*Math.cos(C);return f}function Db(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=Math.sqrt(r*
r+x*x+A*A);C=0<C?Math.atan2(C,k)/C:0;f[0]=r*C;f[1]=x*C;f[2]=A*C;f[3]=.5*Math.log(r*r+x*x+A*A+k*k);return f}function hb(f,k,r,x){var A=k[0],C=k[1],E=k[2];k=k[3];var I=r[0],L=r[1],O=r[2];r=r[3];var S=A*I+C*L+E*O+k*r;0>S&&(S=-S,I=-I,L=-L,O=-O,r=-r);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-x)*T)/X;x=Math.sin(x*T)/X}else S=1-x;f[0]=S*A+x*I;f[1]=S*C+x*L;f[2]=S*E+x*O;f[3]=S*k+x*r;return f}function Eb(f,k){var r=k[0]+k[4]+k[8];if(0<r)r=Math.sqrt(r+1),f[3]=.5*r,r=.5/r,f[0]=(k[5]-k[7])*
r,f[1]=(k[6]-k[2])*r,f[2]=(k[1]-k[3])*r;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var A=(x+1)%3,C=(x+2)%3;r=Math.sqrt(k[3*x+x]-k[3*A+A]-k[3*C+C]+1);f[x]=.5*r;r=.5/r;f[3]=(k[3*A+C]-k[3*C+A])*r;f[A]=(k[3*A+x]+k[3*x+A])*r;f[C]=(k[3*C+x]+k[3*x+C])*r}return f}function Fb(f,k,r){var x=.5*r[0],A=.5*r[1];r=.5*r[2];var C=k[0],E=k[1],I=k[2];k=k[3];f[0]=C;f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+A*I-r*E;f[5]=A*k+r*C-x*I;f[6]=r*k+x*E-A*C;f[7]=-x*C-A*E-r*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];
f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function Hb(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=r[4],L=r[5],O=r[6],S=r[7],T=k[4],X=k[5],W=k[6];k=k[7];var fa=r[0],da=r[1],aa=r[2];r=r[3];f[0]=x*r+E*fa+A*aa-C*da;f[1]=A*r+E*da+C*fa-x*aa;f[2]=C*r+E*aa+x*da-A*fa;f[3]=E*r-x*fa-A*da-C*aa;f[4]=x*S+E*I+A*O-C*L+T*r+k*fa+X*aa-W*da;f[5]=A*S+E*L+C*I-x*O+X*r+k*da+W*fa-T*aa;f[6]=C*S+E*O+x*L-A*I+W*r+k*aa+T*da-X*fa;f[7]=E*S-x*I-A*L-C*O+k*r-T*fa-X*da-W*aa;return f}function ib(){var f=new qa(2);qa!=Float32Array&&
(f[0]=0,f[1]=0);return f}function Sa(f,k,r){f[0]=k[0]-r[0];f[1]=k[1]-r[1];return f}function jb(f,k,r){f[0]=k[0]*r[0];f[1]=k[1]*r[1];return f}function kb(f,k,r){f[0]=k[0]/r[0];f[1]=k[1]/r[1];return f}function Wa(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function lb(f,k){var r=k[0]-f[0];f=k[1]-f[1];return r*r+f*f}function Ma(f){return Math.hypot(f[0],f[1])}function nb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Mba(){return qa},Fga:Ka,Xma:function(f){qa=f},gna:function(f){return f*Ib},Nc:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];
k[2]=f[2];k[3]=f[3];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},rv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},cf:function(f,k,r,x){var A=new qa(4);A[0]=f;A[1]=k;A[2]=r;A[3]=x;return A},set:function(f,k,r,x,A){f[0]=k;f[1]=r;f[2]=x;f[3]=A;return f},KS:function(f,k){if(f===k){var r=k[1];f[1]=k[2];f[2]=r}else f[0]=k[0],f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},yr:function(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*k-A*x;if(!C)return null;C=1/C;f[0]=k*C;f[1]=-x*
C;f[2]=-A*C;f[3]=r*C;return f},VR:function(f,k){var r=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=r;return f},pI:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=Math.sin(r);r=Math.cos(r);f[0]=x*r+C*E;f[1]=A*r+k*E;f[2]=x*-E+C*r;f[3]=A*-E+k*r;return f},scale:function(f,k,r){var x=k[1],A=k[2],C=k[3],E=r[0];r=r[1];f[0]=k[0]*E;f[1]=x*E;f[2]=A*r;f[3]=C*r;return f},NA:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=r;f[2]=-r;f[3]=k;
return f},sI:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},sl:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},rI:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Sea:function(f,k,r,x){f[2]=x[2]/x[0];r[0]=x[0];r[1]=x[1];r[3]=x[3]-f[2]*r[1];return[f,k,r]},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];return f},tl:b,Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},Nc:function(f,k){var r=f[0],x=f[1],A=f[2];f=
f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},EI:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;return f},FI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;f[3]=k[3]+r[3]*x;return f},Rm:a,sub:b}),Qb=Object.freeze({__proto__:null,create:function(){var f=
new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},rv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},cf:function(f,k,r,x,A,C){var E=new qa(6);E[0]=f;E[1]=k;E[2]=r;E[3]=x;E[4]=A;E[5]=C;return E},set:function(f,k,r,x,A,C,E){f[0]=k;f[1]=r;f[2]=x;f[3]=A;f[4]=C;f[5]=
E;return f},yr:function(f,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4];k=k[5];var I=r*C-x*A;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-A*I;f[3]=r*I;f[4]=(A*k-C*E)*I;f[5]=(x*E-r*k)*I;return f},pI:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=Math.sin(r);r=Math.cos(r);f[0]=x*r+C*L;f[1]=A*r+E*L;f[2]=x*-L+C*r;f[3]=A*-L+E*r;f[4]=I;f[5]=k;return f},scale:function(f,k,r){var x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=r[0];r=r[1];
f[0]=k[0]*L;f[1]=x*L;f[2]=A*r;f[3]=C*r;f[4]=E;f[5]=I;return f},translate:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var L=r[0];r=r[1];f[0]=x;f[1]=A;f[2]=C;f[3]=E;f[4]=x*L+C*r+I;f[5]=A*L+E*r+k;return f},NA:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=r;f[2]=-r;f[3]=k;f[4]=0;f[5]=0;return f},sI:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},tI:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},sl:function(f){return"mat2d("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},rI:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];f[4]=k[4]+r[4];f[5]=k[5]+r[5];return f},tl:c,EI:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;f[4]=k[4]*r;f[5]=k[5]*r;return f},FI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;f[3]=k[3]+r[3]*x;f[4]=k[4]+r[4]*x;f[5]=k[5]+r[5]*x;return f},Ni:function(f,k){return f[0]===
k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},Nc:function(f,k){var r=f[0],x=f[1],A=f[2],C=f[3],E=f[4];f=f[5];var I=k[0],L=k[1],O=k[2],S=k[3],T=k[4];k=k[5];return Math.abs(r-I)<=1E-6*Math.max(1,Math.abs(r),Math.abs(I))&&Math.abs(x-L)<=1E-6*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(E-T)<=1E-6*Math.max(1,Math.abs(E),Math.abs(T))&&Math.abs(f-k)<=1E-6*Math.max(1,
Math.abs(f),Math.abs(k))},Rm:e,sub:c}),Rb=Object.freeze({__proto__:null,create:g,qaa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},cf:function(f,k,r,x,A,C,E,I,L){var O=new qa(9);O[0]=
f;O[1]=k;O[2]=r;O[3]=x;O[4]=A;O[5]=C;O[6]=E;O[7]=I;O[8]=L;return O},set:function(f,k,r,x,A,C,E,I,L,O){f[0]=k;f[1]=r;f[2]=x;f[3]=A;f[4]=C;f[5]=E;f[6]=I;f[7]=L;f[8]=O;return f},rv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},KS:function(f,k){if(f===k){var r=k[1],x=k[2],A=k[5];f[1]=k[3];f[2]=k[6];f[3]=r;f[5]=k[7];f[6]=x;f[7]=A}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},yr:function(f,k){var r=k[0],x=
k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7];k=k[8];var S=k*E-I*O,T=-k*C+I*L,X=O*C-E*L,W=r*S+x*T+A*X;if(!W)return null;W=1/W;f[0]=S*W;f[1]=(-k*x+A*O)*W;f[2]=(I*x-A*E)*W;f[3]=T*W;f[4]=(k*r-A*L)*W;f[5]=(-I*r+A*C)*W;f[6]=X*W;f[7]=(-O*r+x*L)*W;f[8]=(E*r-x*C)*W;return f},VR:function(f,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7];k=k[8];f[0]=E*k-I*O;f[1]=A*O-x*k;f[2]=x*I-A*E;f[3]=I*L-C*k;f[4]=r*k-A*L;f[5]=A*C-r*I;f[6]=C*O-E*L;f[7]=x*L-r*O;f[8]=r*E-x*C;return f},pI:function(f){var k=
f[3],r=f[4],x=f[5],A=f[6],C=f[7],E=f[8];return f[0]*(E*r-x*C)+f[1]*(-E*k+x*A)+f[2]*(C*k-r*A)},multiply:n,translate:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=r[0];r=r[1];f[0]=x;f[1]=A;f[2]=C;f[3]=E;f[4]=I;f[5]=L;f[6]=T*x+r*E+O;f[7]=T*A+r*I+S;f[8]=T*C+r*L+k;return f},rotate:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7];k=k[8];var T=Math.sin(r);r=Math.cos(r);f[0]=r*x+T*E;f[1]=r*A+T*I;f[2]=r*C+T*L;f[3]=r*E-T*x;f[4]=r*I-T*A;f[5]=
r*L-T*C;f[6]=O;f[7]=S;f[8]=k;return f},scale:function(f,k,r){var x=r[0];r=r[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=r*k[3];f[4]=r*k[4];f[5]=r*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},tI:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},NA:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=r;f[2]=0;f[3]=-r;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},sI:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},
Uka:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},raa:function(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r+r,E=x+x,I=A+A;r*=C;var L=x*C;x*=E;var O=A*C,S=A*E;A*=I;C*=k;E*=k;k*=I;f[0]=1-x-A;f[3]=L-k;f[6]=O+E;f[1]=L+k;f[4]=1-r-A;f[7]=S-C;f[2]=O-E;f[5]=S+C;f[8]=1-r-x;return f},dma:function(f,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];var ua=r*I-x*E,pa=r*L-A*
E,sa=r*O-C*E,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*k-W*fa;var Ga=T*aa-X*da;T=T*k-W*da;X=X*k-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;f[0]=(I*X-L*T+O*Ga)*W;f[1]=(L*S-E*X-O*Fa)*W;f[2]=(E*T-I*S+O*Ea)*W;f[3]=(A*T-x*X-C*Ga)*W;f[4]=(r*X-A*S+C*Fa)*W;f[5]=(x*S-r*T-C*Ea)*W;f[6]=(da*Da-aa*ra+k*ta)*W;f[7]=(aa*sa-fa*Da-k*pa)*W;f[8]=(fa*ra-da*sa+k*ua)*W;return f},yS:function(f,k,r){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/r;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},sl:function(f){return"mat3("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},rI:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];f[4]=k[4]+r[4];f[5]=k[5]+r[5];f[6]=k[6]+r[6];f[7]=k[7]+r[7];f[8]=k[8]+r[8];return f},tl:h,EI:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;f[4]=k[4]*r;f[5]=k[5]*r;f[6]=k[6]*r;f[7]=k[7]*r;f[8]=k[8]*r;return f},FI:function(f,k,r,x){f[0]=
k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;f[3]=k[3]+r[3]*x;f[4]=k[4]+r[4]*x;f[5]=k[5]+r[5]*x;f[6]=k[6]+r[6]*x;f[7]=k[7]+r[7]*x;f[8]=k[8]+r[8]*x;return f},Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},Nc:function(f,k){var r=f[0],x=f[1],A=f[2],C=f[3],E=f[4],I=f[5],L=f[6],O=f[7];f=f[8];var S=k[0],T=k[1],X=k[2],W=k[3],fa=k[4],da=k[5],aa=k[6],ua=k[7];k=k[8];return Math.abs(r-S)<=1E-6*Math.max(1,Math.abs(r),
Math.abs(S))&&Math.abs(x-T)<=1E-6*Math.max(1,Math.abs(x),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-fa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(fa))&&Math.abs(I-da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ua)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ua))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Rm:n,sub:h}),Sb=Object.freeze({__proto__:null,
create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=
k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},cf:function(f,k,r,x,A,C,E,I,L,O,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=f;aa[1]=k;aa[2]=r;aa[3]=x;aa[4]=A;aa[5]=C;aa[6]=E;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(f,k,r,x,A,C,E,I,L,O,S,T,X,W,fa,da,aa){f[0]=k;f[1]=r;f[2]=x;f[3]=A;f[4]=C;f[5]=E;f[6]=I;f[7]=L;f[8]=O;f[9]=S;f[10]=T;f[11]=X;f[12]=W;f[13]=fa;f[14]=da;f[15]=aa;return f},rv:l,KS:function(f,
k){if(f===k){var r=k[1],x=k[2],A=k[3],C=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=r;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=C;f[11]=k[14];f[12]=A;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},yr:function(f,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];var ua=
r*I-x*E,pa=r*L-A*E,sa=r*O-C*E,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*k-W*fa,Ia=T*aa-X*da,Qa=T*k-W*da,Ra=X*k-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;f[0]=(I*Ra-L*Qa+O*Ia)*Aa;f[1]=(A*Qa-x*Ra-C*Ia)*Aa;f[2]=(da*Da-aa*ra+k*ta)*Aa;f[3]=(X*ra-T*Da-W*ta)*Aa;f[4]=(L*Ga-E*Ra-O*Fa)*Aa;f[5]=(r*Ra-A*Ga+C*Fa)*Aa;f[6]=(aa*sa-fa*Da-k*pa)*Aa;f[7]=(S*Da-X*sa+W*pa)*Aa;f[8]=(E*Qa-I*Ga+O*Ea)*Aa;f[9]=(x*Ga-r*Qa-C*Ea)*Aa;f[10]=(fa*ra-da*sa+k*ua)*Aa;f[11]=(T*sa-S*ra-
W*ua)*Aa;f[12]=(I*Fa-E*Ia-L*Ea)*Aa;f[13]=(r*Ia-x*Fa+A*Ea)*Aa;f[14]=(da*pa-fa*ta-aa*ua)*Aa;f[15]=(S*ta-T*pa+X*ua)*Aa;return f},VR:function(f,k){var r=k[0],x=k[1],A=k[2],C=k[3],E=k[4],I=k[5],L=k[6],O=k[7],S=k[8],T=k[9],X=k[10],W=k[11],fa=k[12],da=k[13],aa=k[14];k=k[15];f[0]=I*(X*k-W*aa)-T*(L*k-O*aa)+da*(L*W-O*X);f[1]=-(x*(X*k-W*aa)-T*(A*k-C*aa)+da*(A*W-C*X));f[2]=x*(L*k-O*aa)-I*(A*k-C*aa)+da*(A*O-C*L);f[3]=-(x*(L*W-O*X)-I*(A*W-C*X)+T*(A*O-C*L));f[4]=-(E*(X*k-W*aa)-S*(L*k-O*aa)+fa*(L*W-O*X));f[5]=r*
(X*k-W*aa)-S*(A*k-C*aa)+fa*(A*W-C*X);f[6]=-(r*(L*k-O*aa)-E*(A*k-C*aa)+fa*(A*O-C*L));f[7]=r*(L*W-O*X)-E*(A*W-C*X)+S*(A*O-C*L);f[8]=E*(T*k-W*da)-S*(I*k-O*da)+fa*(I*W-O*T);f[9]=-(r*(T*k-W*da)-S*(x*k-C*da)+fa*(x*W-C*T));f[10]=r*(I*k-O*da)-E*(x*k-C*da)+fa*(x*O-C*I);f[11]=-(r*(I*W-O*T)-E*(x*W-C*T)+S*(x*O-C*I));f[12]=-(E*(T*aa-X*da)-S*(I*aa-L*da)+fa*(I*X-L*T));f[13]=r*(T*aa-X*da)-S*(x*aa-A*da)+fa*(x*X-A*T);f[14]=-(r*(I*aa-L*da)-E*(x*aa-A*da)+fa*(x*L-A*I));f[15]=r*(I*X-L*T)-E*(x*X-A*T)+S*(x*L-A*I);return f},
pI:function(f){var k=f[0],r=f[1],x=f[2],A=f[3],C=f[4],E=f[5],I=f[6],L=f[7],O=f[8],S=f[9],T=f[10],X=f[11],W=f[12],fa=f[13],da=f[14];f=f[15];return(k*E-r*C)*(T*f-X*da)-(k*I-x*C)*(S*f-X*fa)+(k*L-A*C)*(S*da-T*fa)+(r*I-x*E)*(O*f-X*W)-(r*L-A*E)*(O*da-T*W)+(x*L-A*I)*(O*fa-S*W)},multiply:m,translate:function(f,k,r){var x=r[0],A=r[1];r=r[2];if(k===f)f[12]=k[0]*x+k[4]*A+k[8]*r+k[12],f[13]=k[1]*x+k[5]*A+k[9]*r+k[13],f[14]=k[2]*x+k[6]*A+k[10]*r+k[14],f[15]=k[3]*x+k[7]*A+k[11]*r+k[15];else{var C=k[0];var E=k[1];
var I=k[2];var L=k[3];var O=k[4];var S=k[5];var T=k[6];var X=k[7];var W=k[8];var fa=k[9];var da=k[10];var aa=k[11];f[0]=C;f[1]=E;f[2]=I;f[3]=L;f[4]=O;f[5]=S;f[6]=T;f[7]=X;f[8]=W;f[9]=fa;f[10]=da;f[11]=aa;f[12]=C*x+O*A+W*r+k[12];f[13]=E*x+S*A+fa*r+k[13];f[14]=I*x+T*A+da*r+k[14];f[15]=L*x+X*A+aa*r+k[15]}return f},scale:function(f,k,r){var x=r[0],A=r[1];r=r[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*A;f[5]=k[5]*A;f[6]=k[6]*A;f[7]=k[7]*A;f[8]=k[8]*r;f[9]=k[9]*r;f[10]=k[10]*r;f[11]=k[11]*
r;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},rotate:function(f,k,r,x){var A=x[0],C=x[1];x=x[2];var E=Math.hypot(A,C,x);if(1E-6>E)return null;E=1/E;A*=E;C*=E;x*=E;var I=Math.sin(r);var L=Math.cos(r);var O=1-L;r=k[0];E=k[1];var S=k[2];var T=k[3];var X=k[4];var W=k[5];var fa=k[6];var da=k[7];var aa=k[8];var ua=k[9];var pa=k[10];var sa=k[11];var ta=A*A*O+L;var ra=C*A*O+x*I;var Da=x*A*O-C*I;var Ea=A*C*O-x*I;var Fa=C*C*O+L;var Ga=x*C*O+A*I;var Ia=A*x*O+C*I;A=C*x*O-A*I;C=x*x*O+L;f[0]=r*ta+
X*ra+aa*Da;f[1]=E*ta+W*ra+ua*Da;f[2]=S*ta+fa*ra+pa*Da;f[3]=T*ta+da*ra+sa*Da;f[4]=r*Ea+X*Fa+aa*Ga;f[5]=E*Ea+W*Fa+ua*Ga;f[6]=S*Ea+fa*Fa+pa*Ga;f[7]=T*Ea+da*Fa+sa*Ga;f[8]=r*Ia+X*A+aa*C;f[9]=E*Ia+W*A+ua*C;f[10]=S*Ia+fa*A+pa*C;f[11]=T*Ia+da*A+sa*C;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},TI:function(f,k,r){var x=Math.sin(r);r=Math.cos(r);var A=k[4],C=k[5],E=k[6],I=k[7],L=k[8],O=k[9],S=k[10],T=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],
f[15]=k[15]);f[4]=A*r+L*x;f[5]=C*r+O*x;f[6]=E*r+S*x;f[7]=I*r+T*x;f[8]=L*r-A*x;f[9]=O*r-C*x;f[10]=S*r-E*x;f[11]=T*r-I*x;return f},UI:function(f,k,r){var x=Math.sin(r);r=Math.cos(r);var A=k[0],C=k[1],E=k[2],I=k[3],L=k[8],O=k[9],S=k[10],T=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=A*r-L*x;f[1]=C*r-O*x;f[2]=E*r-S*x;f[3]=I*r-T*x;f[8]=A*x+L*r;f[9]=C*x+O*r;f[10]=E*x+S*r;f[11]=I*x+T*r;return f},VI:function(f,k,r){var x=Math.sin(r);r=Math.cos(r);
var A=k[0],C=k[1],E=k[2],I=k[3],L=k[4],O=k[5],S=k[6],T=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=A*r+L*x;f[1]=C*r+O*x;f[2]=E*r+S*x;f[3]=I*r+T*x;f[4]=L*r-A*x;f[5]=O*r-C*x;f[6]=S*r-E*x;f[7]=T*r-I*x;return f},tI:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},sI:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;
f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},NA:function(f,k,r){var x=r[0],A=r[1];r=r[2];var C=Math.hypot(x,A,r);if(1E-6>C)return null;C=1/C;x*=C;A*=C;r*=C;C=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=A*x*E+r*C;f[2]=r*x*E-A*C;f[3]=0;f[4]=x*A*E-r*C;f[5]=A*A*E+k;f[6]=r*A*E+x*C;f[7]=0;f[8]=x*r*E+A*C;f[9]=A*r*E-x*C;f[10]=r*r*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},$ka:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=
0;f[4]=0;f[5]=k;f[6]=r;f[7]=0;f[8]=0;f[9]=-r;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},ala:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-r;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=r;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},bla:function(f,k){var r=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=r;f[2]=0;f[3]=0;f[4]=-r;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},saa:p,Wka:function(f,k){var r=new qa(3),
x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=x*x+A*A+C*C+E*E;0<T?(r[0]=2*(I*E+S*x+L*C-O*A)/T,r[1]=2*(L*E+S*A+O*x-I*C)/T,r[2]=2*(O*E+S*C+I*A-L*x)/T):(r[0]=2*(I*E+S*x+L*C-O*A),r[1]=2*(L*E+S*A+O*x-I*C),r[2]=2*(O*E+S*C+I*A-L*x));p(f,k,r);return f},vaa:u,mla:q,lla:v,Xka:function(f,k,r,x){var A=k[0],C=k[1],E=k[2],I=k[3],L=A+A,O=C+C,S=E+E;k=A*L;var T=A*O;A*=S;var X=C*O;C*=S;E*=S;L*=I;O*=I;I*=S;S=x[0];var W=x[1];x=x[2];f[0]=(1-(X+E))*S;f[1]=(T+I)*S;f[2]=(A-O)*S;f[3]=0;f[4]=(T-I)*W;f[5]=(1-
(k+E))*W;f[6]=(C+L)*W;f[7]=0;f[8]=(A+O)*x;f[9]=(C-L)*x;f[10]=(1-(k+X))*x;f[11]=0;f[12]=r[0];f[13]=r[1];f[14]=r[2];f[15]=1;return f},Yka:function(f,k,r,x,A){var C=k[0],E=k[1],I=k[2],L=k[3],O=C+C,S=E+E,T=I+I;k=C*O;var X=C*S,W=C*T;C=E*S;E*=T;var fa=I*T;I=L*O;S*=L;var da=L*T,aa=x[0],ua=x[1];T=x[2];x=A[0];L=A[1];A=A[2];O=(1-(C+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(k+fa))*ua;ua*=E+I;W=(W+S)*T;E=(E-I)*T;k=(1-(k+C))*T;f[0]=O;f[1]=pa;f[2]=aa;f[3]=0;f[4]=X;f[5]=fa;f[6]=ua;f[7]=0;f[8]=W;f[9]=E;
f[10]=k;f[11]=0;f[12]=r[0]+x-(O*x+X*L+W*A);f[13]=r[1]+L-(pa*x+fa*L+E*A);f[14]=r[2]+A-(aa*x+ua*L+k*A);f[15]=1;return f},raa:function(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r+r,E=x+x,I=A+A;r*=C;var L=x*C;x*=E;var O=A*C,S=A*E;A*=I;C*=k;E*=k;k*=I;f[0]=1-x-A;f[1]=L+k;f[2]=O-E;f[3]=0;f[4]=L-k;f[5]=1-r-A;f[6]=S+C;f[7]=0;f[8]=O+E;f[9]=S-C;f[10]=1-r-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},taa:function(f,k,r,x,A,C,E){var I=1/(r-k),L=1/(A-x),O=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=
2*C*L;f[6]=0;f[7]=0;f[8]=(r+k)*I;f[9]=(A+x)*L;f[10]=(E+C)*O;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*O;f[15]=0;return f},perspective:function(f,k,r,x,A){k=1/Math.tan(k/2);f[0]=k/r;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=A&&Infinity!==A?(r=1/(x-A),f[10]=(A+x)*r,f[14]=2*A*x*r):(f[10]=-1,f[14]=-2*x);return f},kma:function(f,k,r,x){var A=Math.tan(k.nna*Math.PI/180),C=Math.tan(k.Hka*Math.PI/180),E=Math.tan(k.Rla*Math.PI/180);k=Math.tan(k.Hma*Math.PI/
180);var I=2/(E+k),L=2/(A+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=L;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(A-C)*L*.5;f[10]=x/(r-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*r/(r-x);f[15]=0;return f},cba:function(f,k,r,x,A,C,E){var I=1/(k-r),L=1/(x-A),O=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*L;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*O;f[11]=0;f[12]=(k+r)*I;f[13]=(A+x)*L;f[14]=(E+C)*O;f[15]=1;return f},Taa:function(f,k,r,x){var A=k[0],C=k[1];k=k[2];var E=x[0];var I=x[1];var L=x[2];var O=r[0];x=
r[1];var S=r[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(k-S))return l(f);r=A-O;x=C-x;O=k-S;var T=1/Math.hypot(r,x,O);r*=T;x*=T;O*=T;S=I*O-L*x;L=L*r-E*O;E=E*x-I*r;(T=Math.hypot(S,L,E))?(T=1/T,S*=T,L*=T,E*=T):E=L=S=0;I=x*E-O*L;var X=O*S-r*E;var W=r*L-x*S;(T=Math.hypot(I,X,W))?(T=1/T,I*=T,X*=T,W*=T):W=X=I=0;f[0]=S;f[1]=I;f[2]=r;f[3]=0;f[4]=L;f[5]=X;f[6]=x;f[7]=0;f[8]=E;f[9]=W;f[10]=O;f[11]=0;f[12]=-(S*A+L*C+E*k);f[13]=-(I*A+X*C+W*k);f[14]=-(r*A+x*C+O*k);f[15]=1;return f},dna:function(f,
k,r,x){var A=k[0],C=k[1];k=k[2];var E=x[0],I=x[1],L=x[2];x=A-r[0];var O=C-r[1];r=k-r[2];var S=x*x+O*O+r*r;0<S&&(S=1/Math.sqrt(S),x*=S,O*=S,r*=S);var T=I*r-L*O;L=L*x-E*r;E=E*O-I*x;S=T*T+L*L+E*E;0<S&&(S=1/Math.sqrt(S),T*=S,L*=S,E*=S);f[0]=T;f[1]=L;f[2]=E;f[3]=0;f[4]=O*E-r*L;f[5]=r*T-x*E;f[6]=x*L-O*T;f[7]=0;f[8]=x;f[9]=O;f[10]=r;f[11]=0;f[12]=A;f[13]=C;f[14]=k;f[15]=1;return f},sl:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+
", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},rI:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];f[4]=k[4]+r[4];f[5]=k[5]+r[5];f[6]=k[6]+r[6];f[7]=k[7]+r[7];f[8]=k[8]+r[8];f[9]=k[9]+r[9];f[10]=k[10]+r[10];f[11]=k[11]+r[11];f[12]=k[12]+r[12];f[13]=k[13]+r[13];f[14]=k[14]+r[14];f[15]=k[15]+r[15];return f},tl:t,EI:function(f,k,
r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;f[4]=k[4]*r;f[5]=k[5]*r;f[6]=k[6]*r;f[7]=k[7]*r;f[8]=k[8]*r;f[9]=k[9]*r;f[10]=k[10]*r;f[11]=k[11]*r;f[12]=k[12]*r;f[13]=k[13]*r;f[14]=k[14]*r;f[15]=k[15]*r;return f},FI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;f[3]=k[3]+r[3]*x;f[4]=k[4]+r[4]*x;f[5]=k[5]+r[5]*x;f[6]=k[6]+r[6]*x;f[7]=k[7]+r[7]*x;f[8]=k[8]+r[8]*x;f[9]=k[9]+r[9]*x;f[10]=k[10]+r[10]*x;f[11]=k[11]+r[11]*x;f[12]=k[12]+r[12]*x;f[13]=k[13]+r[13]*x;f[14]=k[14]+r[14]*
x;f[15]=k[15]+r[15]*x;return f},Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},Nc:function(f,k){var r=f[0],x=f[1],A=f[2],C=f[3],E=f[4],I=f[5],L=f[6],O=f[7],S=f[8],T=f[9],X=f[10],W=f[11],fa=f[12],da=f[13],aa=f[14];f=f[15];var ua=k[0],pa=k[1],sa=k[2],ta=k[3],ra=k[4],Da=k[5],Ea=k[6],Fa=k[7],Ga=k[8],Ia=k[9],
Qa=k[10],Ra=k[11],Aa=k[12],Jb=k[13],Kb=k[14];k=k[15];return Math.abs(r-ua)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ua))&&Math.abs(x-pa)<=1E-6*Math.max(1,Math.abs(x),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(C-ta)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ta))&&Math.abs(E-ra)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ra))&&Math.abs(I-Da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Da))&&Math.abs(L-Ea)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(O-Fa)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},
Rm:m,sub:t}),ob=function(){var f=w();return function(k,r,x,A,C,E){r||(r=3);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();ob=Object.freeze({__proto__:null,create:w,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:y,cf:z,ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,r,x){f[0]=k;f[1]=r;f[2]=x;return f},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=
k[1]+r[1];f[2]=k[2]+r[2];return f},tl:F,multiply:G,ll:Q,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,r){f[0]=Math.min(k[0],r[0]);f[1]=Math.min(k[1],r[1]);f[2]=Math.min(k[2],r[2]);return f},max:function(f,k,r){f[0]=Math.max(k[0],r[0]);f[1]=Math.max(k[1],r[1]);f[2]=Math.max(k[2],r[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=
Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;return f},WI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;return f},ov:D,IS:H,ZA:J,tS:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:M,Nm:P,oI:R,Hd:function(f,k,r,x){var A=k[0],C=k[1];k=k[2];f[0]=A+x*(r[0]-A);f[1]=C+x*(r[1]-C);f[2]=k+x*(r[2]-k);return f},rla:function(f,k,r,x,A,C){var E=
C*C,I=E*(2*C-3)+1,L=E*(C-2)+C,O=E*(C-1);C=E*(3-2*C);f[0]=k[0]*I+r[0]*L+x[0]*O+A[0]*C;f[1]=k[1]*I+r[1]*L+x[1]*O+A[1]*C;f[2]=k[2]*I+r[2]*L+x[2]*O+A[2]*C;return f},qka:function(f,k,r,x,A,C){var E=1-C,I=E*E,L=C*C,O=I*E;I*=3*C;E*=3*L;C*=L;f[0]=k[0]*O+r[0]*I+x[0]*E+A[0]*C;f[1]=k[1]*O+r[1]*I+x[1]*E+A[1]*C;f[2]=k[2]*O+r[2]*I+x[2]*E+A[2]*C;return f},random:function(f,k){k=k||1;var r=2*Ka()*Math.PI,x=2*Ka()-1,A=Math.sqrt(1-x*x)*k;f[0]=Math.cos(r)*A;f[1]=Math.sin(r)*A;f[2]=x*k;return f},eJ:function(f,k,r){var x=
k[0],A=k[1];k=k[2];var C=r[3]*x+r[7]*A+r[11]*k+r[15];C=C||1;f[0]=(r[0]*x+r[4]*A+r[8]*k+r[12])/C;f[1]=(r[1]*x+r[5]*A+r[9]*k+r[13])/C;f[2]=(r[2]*x+r[6]*A+r[10]*k+r[14])/C;return f},Cba:function(f,k,r){var x=k[0],A=k[1];k=k[2];f[0]=x*r[0]+A*r[3]+k*r[6];f[1]=x*r[1]+A*r[4]+k*r[7];f[2]=x*r[2]+A*r[5]+k*r[8];return f},Dba:function(f,k,r){var x=r[0],A=r[1],C=r[2],E=k[0],I=k[1];k=k[2];var L=A*k-C*I,O=C*E-x*k,S=x*I-A*E;r=2*r[3];f[0]=E+L*r+2*(A*S-C*O);f[1]=I+O*r+2*(C*L-x*S);f[2]=k+S*r+2*(x*O-A*L);return f},TI:function(f,
k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=k[2]-r[2];C[0]=A[0];C[1]=A[1]*Math.cos(x)-A[2]*Math.sin(x);C[2]=A[1]*Math.sin(x)+A[2]*Math.cos(x);f[0]=C[0]+r[0];f[1]=C[1]+r[1];f[2]=C[2]+r[2];return f},UI:function(f,k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=k[2]-r[2];C[0]=A[2]*Math.sin(x)+A[0]*Math.cos(x);C[1]=A[1];C[2]=A[2]*Math.cos(x)-A[0]*Math.sin(x);f[0]=C[0]+r[0];f[1]=C[1]+r[1];f[2]=C[2]+r[2];return f},VI:function(f,k,r,x){var A=[],C=[];A[0]=k[0]-r[0];A[1]=k[1]-r[1];A[2]=
k[2]-r[2];C[0]=A[0]*Math.cos(x)-A[1]*Math.sin(x);C[1]=A[0]*Math.sin(x)+A[1]*Math.cos(x);C[2]=A[2];f[0]=C[0]+r[0];f[1]=C[1]+r[1];f[2]=C[2]+r[2];return f},angle:function(f,k){var r=f[0],x=f[1],A=f[2],C=k[0],E=k[1],I=k[2];f=(r=Math.sqrt(r*r+x*x+A*A)*Math.sqrt(C*C+E*E+I*I))&&P(f,k)/r;return Math.acos(Math.min(Math.max(f,-1),1))},TS:function(f){f[0]=0;f[1]=0;f[2]=0;return f},sl:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},Nc:function(f,
k){var r=f[0],x=f[1];f=f[2];var A=k[0],C=k[1];k=k[2];return Math.abs(r-A)<=1E-6*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,Rm:G,fS:Q,dS:D,HS:H,uv:y,YA:J,forEach:ob});var pb=function(){var f=V();return function(k,r,x,A,C,E){r||(r=4);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=
f[3];return k}}();pb=Object.freeze({__proto__:null,create:V,clone:Z,cf:ca,ta:Y,set:ha,add:ka,tl:za,multiply:Oa,ll:ab,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,r){f[0]=Math.min(k[0],r[0]);f[1]=Math.min(k[1],r[1]);f[2]=Math.min(k[2],r[2]);f[3]=Math.min(k[3],r[3]);return f},max:function(f,k,r){f[0]=
Math.max(k[0],r[0]);f[1]=Math.max(k[1],r[1]);f[2]=Math.max(k[2],r[2]);f[3]=Math.max(k[3],r[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Ua,WI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;f[2]=k[2]+r[2]*x;f[3]=k[3]+r[3]*x;return f},ov:bb,IS:mb,length:Va,ZA:Pa,tS:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},
normalize:fb,Nm:cb,oI:function(f,k,r,x){var A=r[0]*x[1]-r[1]*x[0],C=r[0]*x[2]-r[2]*x[0],E=r[0]*x[3]-r[3]*x[0],I=r[1]*x[2]-r[2]*x[1],L=r[1]*x[3]-r[3]*x[1];r=r[2]*x[3]-r[3]*x[2];x=k[0];var O=k[1],S=k[2];k=k[3];f[0]=O*r-S*L+k*I;f[1]=-(x*r)+S*E-k*C;f[2]=x*L-O*E+k*A;f[3]=-(x*I)+O*C-S*A;return f},Hd:ub,random:function(f,k){k=k||1;do{var r=2*Ka()-1;var x=2*Ka()-1;var A=r*r+x*x}while(1<=A);do{var C=2*Ka()-1;var E=2*Ka()-1;var I=C*C+E*E}while(1<=I);A=Math.sqrt((1-A)/I);f[0]=k*r;f[1]=k*x;f[2]=k*C*A;f[3]=k*
E*A;return f},eJ:function(f,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];f[0]=r[0]*x+r[4]*A+r[8]*C+r[12]*k;f[1]=r[1]*x+r[5]*A+r[9]*C+r[13]*k;f[2]=r[2]*x+r[6]*A+r[10]*C+r[14]*k;f[3]=r[3]*x+r[7]*A+r[11]*C+r[15]*k;return f},Dba:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=r[0],I=r[1],L=r[2];r=r[3];var O=r*x+I*C-L*A,S=r*A+L*x-E*C,T=r*C+E*A-I*x;x=-E*x-I*A-L*C;f[0]=O*r+x*-E+S*-L-T*-I;f[1]=S*r+x*-I+T*-E-O*-L;f[2]=T*r+x*-L+O*-I-S*-E;f[3]=k[3];return f},TS:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},sl:function(f){return"vec4("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Ni:vb,Nc:wb,sub:za,Rm:Oa,fS:ab,dS:bb,HS:mb,uv:Va,YA:Pa,forEach:pb});var qb=function(){var f=w(),k=z(1,0,0),r=z(0,1,0);return function(x,A,C){var E=P(A,C);if(-.999999>E)return R(f,k,A),1E-6>y(f)&&R(f,r,A),M(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;R(f,A,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return fb(x,x)}}(),rb=function(){var f=gb(),k=gb();return function(r,x,A,C,E,I){hb(f,x,E,I);hb(k,A,C,I);hb(r,f,k,2*I*(1-I));return r}}(),
db=function(){var f=g();return function(k,r,x,A){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=A[0];f[4]=A[1];f[7]=A[2];f[2]=-r[0];f[5]=-r[1];f[8]=-r[2];return fb(k,Eb(k,f))}}();qb=Object.freeze({__proto__:null,create:gb,rv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Vma:xb,ila:function(f,k){var r=2*Math.acos(k[3]),x=Math.sin(r/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return r},gla:function(f,k){f=cb(f,k);return Math.acos(2*f*f-1)},multiply:yb,TI:zb,UI:Ab,VI:Bb,rka:function(f,
k){var r=k[0],x=k[1];k=k[2];f[0]=r;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-r*r-x*x-k*k));return f},exp:Cb,Saa:Db,pow:function(f,k,r){Db(f,k);Ua(f,f,r);Cb(f,f);return f},$ma:hb,random:function(f){var k=Ka(),r=Ka(),x=Ka(),A=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=A*Math.sin(2*Math.PI*r);f[1]=A*Math.cos(2*Math.PI*r);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},yr:function(f,k){var r=k[0],x=k[1],A=k[2];k=k[3];var C=r*r+x*x+A*A+k*k;C=C?1/C:0;f[0]=-r*C;f[1]=-x*C;f[2]=-A*C;f[3]=k*C;return f},
eaa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},Vka:Eb,Tka:function(f,k,r,x){var A=.5*Math.PI/180;k*=A;r*=A;x*=A;A=Math.sin(k);k=Math.cos(k);var C=Math.sin(r);r=Math.cos(r);var E=Math.sin(x);x=Math.cos(x);f[0]=A*r*x-k*C*E;f[1]=k*C*x+A*r*E;f[2]=k*r*E-A*C*x;f[3]=k*r*x+A*C*E;return f},sl:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},clone:Z,cf:ca,ta:Y,set:ha,add:ka,Rm:yb,scale:Ua,Nm:cb,Hd:ub,length:Va,uv:Va,ZA:Pa,YA:Pa,normalize:fb,Ni:vb,Nc:wb,Lma:qb,ana:rb,
Uma:db});rb=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},cf:function(f,k,r,x,A,C,E,I){var L=new qa(8);L[0]=f;L[1]=k;L[2]=r;L[3]=x;L[4]=A;L[5]=C;L[6]=E;L[7]=I;return L},Zka:function(f,k,r,x,A,C,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=r;I[3]=x;A*=.5;C*=.5;E*=.5;I[4]=A*x+C*r-E*
k;I[5]=C*x+E*f-A*r;I[6]=E*x+A*k-C*f;I[7]=-A*f-C*k-E*r;return I},saa:Fb,tI:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},NA:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},qaa:function(f,k){var r=gb();v(r,k);var x=new qa(3);u(x,k);Fb(f,r,x);return f},ta:Gb,rv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,r,x,A,C,E,I,L){f[0]=k;f[1]=r;f[2]=x;f[3]=A;f[4]=C;f[5]=
E;f[6]=I;f[7]=L;return f},kla:Y,jla:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Yma:Y,Wma:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},vaa:function(f,k){var r=k[4],x=k[5],A=k[6],C=k[7],E=-k[0],I=-k[1],L=-k[2];k=k[3];f[0]=2*(r*k+C*E+x*L-A*I);f[1]=2*(x*k+C*I+A*E-r*L);f[2]=2*(A*k+C*L+r*I-x*E);return f},translate:function(f,k,r){var x=k[0],A=k[1],C=k[2],E=k[3],I=.5*r[0],L=.5*r[1];r=.5*r[2];var O=k[4],S=k[5],T=k[6];k=k[7];f[0]=x;f[1]=A;f[2]=C;f[3]=E;f[4]=E*I+A*r-
C*L+O;f[5]=E*L+C*I-x*r+S;f[6]=E*r+x*L-A*I+T;f[7]=-x*I-A*L-C*r+k;return f},TI:function(f,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-I*x-L*A-O*C;zb(f,k,r);x=f[0];A=f[1];C=f[2];E=f[3];f[4]=T*E+I*x+X*C-W*A;f[5]=X*E+I*A+W*x-T*C;f[6]=W*E+I*C+T*A-X*x;f[7]=I*E-T*x-X*A-W*C;return f},UI:function(f,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-
I*x-L*A-O*C;Ab(f,k,r);x=f[0];A=f[1];C=f[2];E=f[3];f[4]=T*E+I*x+X*C-W*A;f[5]=X*E+I*A+W*x-T*C;f[6]=W*E+I*C+T*A-X*x;f[7]=I*E-T*x-X*A-W*C;return f},VI:function(f,k,r){var x=-k[0],A=-k[1],C=-k[2],E=k[3],I=k[4],L=k[5],O=k[6],S=k[7],T=I*E+S*x+L*C-O*A,X=L*E+S*A+O*x-I*C,W=O*E+S*C+I*A-L*x;I=S*E-I*x-L*A-O*C;Bb(f,k,r);x=f[0];A=f[1];C=f[2];E=f[3];f[4]=T*E+I*x+X*C-W*A;f[5]=X*E+I*A+W*x-T*C;f[6]=W*E+I*C+T*A-X*x;f[7]=I*E-T*x-X*A-W*C;return f},Jma:function(f,k,r){var x=r[0],A=r[1],C=r[2];r=r[3];var E=k[0],I=k[1],L=
k[2],O=k[3];f[0]=E*r+O*x+I*C-L*A;f[1]=I*r+O*A+L*x-E*C;f[2]=L*r+O*C+E*A-I*x;f[3]=O*r-E*x-I*A-L*C;E=k[4];I=k[5];L=k[6];O=k[7];f[4]=E*r+O*x+I*C-L*A;f[5]=I*r+O*A+L*x-E*C;f[6]=L*r+O*C+E*A-I*x;f[7]=O*r-E*x-I*A-L*C;return f},Kma:function(f,k,r){var x=k[0],A=k[1],C=k[2];k=k[3];var E=r[0],I=r[1],L=r[2],O=r[3];f[0]=x*O+k*E+A*L-C*I;f[1]=A*O+k*I+C*E-x*L;f[2]=C*O+k*L+x*I-A*E;f[3]=k*O-x*E-A*I-C*L;E=r[4];I=r[5];L=r[6];O=r[7];f[4]=x*O+k*E+A*L-C*I;f[5]=A*O+k*I+C*E-x*L;f[6]=C*O+k*L+x*I-A*E;f[7]=k*O-x*E-A*I-C*L;return f},
Ima:function(f,k,r,x){if(1E-6>Math.abs(x))return Gb(f,k);var A=Math.hypot(r[0],r[1],r[2]);x*=.5;var C=Math.sin(x),E=C*r[0]/A,I=C*r[1]/A;r=C*r[2]/A;x=Math.cos(x);A=k[0];C=k[1];var L=k[2],O=k[3];f[0]=A*x+O*E+C*r-L*I;f[1]=C*x+O*I+L*E-A*r;f[2]=L*x+O*r+A*I-C*E;f[3]=O*x-A*E-C*I-L*r;A=k[4];C=k[5];L=k[6];k=k[7];f[4]=A*x+k*E+C*r-L*I;f[5]=C*x+k*I+L*E-A*r;f[6]=L*x+k*r+A*I-C*E;f[7]=k*x-A*E-C*I-L*r;return f},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];f[2]=k[2]+r[2];f[3]=k[3]+r[3];f[4]=k[4]+r[4];f[5]=k[5]+
r[5];f[6]=k[6]+r[6];f[7]=k[7]+r[7];return f},multiply:Hb,Rm:Hb,scale:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;f[2]=k[2]*r;f[3]=k[3]*r;f[4]=k[4]*r;f[5]=k[5]*r;f[6]=k[6]*r;f[7]=k[7]*r;return f},Nm:cb,Hd:function(f,k,r,x){var A=1-x;0>cb(k,r)&&(x=-x);f[0]=k[0]*A+r[0]*x;f[1]=k[1]*A+r[1]*x;f[2]=k[2]*A+r[2]*x;f[3]=k[3]*A+r[3]*x;f[4]=k[4]*A+r[4]*x;f[5]=k[5]*A+r[5]*x;f[6]=k[6]*A+r[6]*x;f[7]=k[7]*A+r[7]*x;return f},yr:function(f,k){var r=Pa(k);f[0]=-k[0]/r;f[1]=-k[1]/r;f[2]=-k[2]/r;f[3]=k[3]/r;f[4]=-k[4]/r;
f[5]=-k[5]/r;f[6]=-k[6]/r;f[7]=k[7]/r;return f},eaa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Va,uv:Va,ZA:Pa,YA:Pa,normalize:function(f,k){var r=Pa(k);if(0<r){r=Math.sqrt(r);var x=k[0]/r,A=k[1]/r,C=k[2]/r,E=k[3]/r,I=k[4],L=k[5],O=k[6];k=k[7];var S=x*I+A*L+C*O+E*k;f[0]=x;f[1]=A;f[2]=C;f[3]=E;f[4]=(I-x*S)/r;f[5]=(L-A*S)/r;f[6]=(O-C*S)/r;f[7]=(k-E*S)/r}return f},sl:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+
", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},Nc:function(f,k){var r=f[0],x=f[1],A=f[2],C=f[3],E=f[4],I=f[5],L=f[6];f=f[7];var O=k[0],S=k[1],T=k[2],X=k[3],W=k[4],fa=k[5],da=k[6];k=k[7];return Math.abs(r-O)<=1E-6*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(E-W)<=1E-6*Math.max(1,Math.abs(E),Math.abs(W))&&Math.abs(I-fa)<=1E-6*Math.max(1,Math.abs(I),Math.abs(fa))&&Math.abs(L-da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(da))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});db=function(){var f=ib();return function(k,r,x,A,C,E){r||(r=2);x||(x=0);for(A=A?Math.min(A*r+x,k.length):k.length;x<A;x+=r)f[0]=k[x],f[1]=k[x+1],C(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},cf:function(f,k){var r=new qa(2);r[0]=f;r[1]=k;return r},ta:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,r){f[0]=k;f[1]=r;return f},add:function(f,k,r){f[0]=k[0]+r[0];f[1]=k[1]+r[1];return f},tl:Sa,multiply:jb,ll:kb,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,r){f[0]=Math.min(k[0],r[0]);f[1]=
Math.min(k[1],r[1]);return f},max:function(f,k,r){f[0]=Math.max(k[0],r[0]);f[1]=Math.max(k[1],r[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,r){f[0]=k[0]*r;f[1]=k[1]*r;return f},WI:function(f,k,r,x){f[0]=k[0]+r[0]*x;f[1]=k[1]+r[1]*x;return f},ov:Wa,IS:lb,length:Ma,ZA:nb,tS:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var r=k[0],x=k[1];r=r*r+x*x;0<r&&(r=1/Math.sqrt(r));
f[0]=k[0]*r;f[1]=k[1]*r;return f},Nm:function(f,k){return f[0]*k[0]+f[1]*k[1]},oI:function(f,k,r){k=k[0]*r[1]-k[1]*r[0];f[0]=f[1]=0;f[2]=k;return f},Hd:function(f,k,r,x){var A=k[0];k=k[1];f[0]=A+x*(r[0]-A);f[1]=k+x*(r[1]-k);return f},random:function(f,k){k=k||1;var r=2*Ka()*Math.PI;f[0]=Math.cos(r)*k;f[1]=Math.sin(r)*k;return f},kna:function(f,k,r){var x=k[0];k=k[1];f[0]=r[0]*x+r[2]*k;f[1]=r[1]*x+r[3]*k;return f},lna:function(f,k,r){var x=k[0];k=k[1];f[0]=r[0]*x+r[2]*k+r[4];f[1]=r[1]*x+r[3]*k+r[5];
return f},Cba:function(f,k,r){var x=k[0];k=k[1];f[0]=r[0]*x+r[3]*k+r[6];f[1]=r[1]*x+r[4]*k+r[7];return f},eJ:function(f,k,r){var x=k[0];k=k[1];f[0]=r[0]*x+r[4]*k+r[12];f[1]=r[1]*x+r[5]*k+r[13];return f},rotate:function(f,k,r,x){var A=k[0]-r[0];k=k[1]-r[1];var C=Math.sin(x);x=Math.cos(x);f[0]=A*x-k*C+r[0];f[1]=A*C+k*x+r[1];return f},angle:function(f,k){var r=f[0];f=f[1];var x=k[0];k=k[1];var A=Math.sqrt(r*r+f*f)*Math.sqrt(x*x+k*k);return Math.acos(Math.min(Math.max(A&&(r*x+f*k)/A,-1),1))},TS:function(f){f[0]=
0;f[1]=0;return f},sl:function(f){return"vec2("+f[0]+", "+f[1]+")"},Ni:function(f,k){return f[0]===k[0]&&f[1]===k[1]},Nc:function(f,k){var r=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(r-x)<=1E-6*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},uv:Ma,sub:Sa,Rm:jb,fS:kb,dS:Wa,HS:lb,YA:nb,forEach:db});d.Sj=Ob;d.Wla=Pb;d.Xla=Qb;d.Yla=Rb;d.Qm=Sb;d.sma=qb;d.tma=rb;d.sna=db;d.cB=ob;d.Hv=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.jka?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.Sj={}));
{"use strict";function d(t,w,y,z){var F=w[0]-t[0];w=w[1]-t[1];var G=z[0]-y[0],Q=z[1]-y[1];if(0===G*w-Q*F)return!1;z=(F*(y[1]-t[1])+w*(t[0]-y[0]))/(G*w-Q*F);t=(G*(t[1]-y[1])+Q*(y[0]-t[0]))/(Q*F-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,w,y){return(w[0]-t[0])*(y[1]-t[1])-(y[0]-t[0])*(w[1]-t[1])}function b(t,w,y){return 0<a(t,w,y)}function e(t,w,y){return 0<=a(t,w,y)}function c(t,w,y){return 0>=a(t,w,y)}var Ya=[],Za=[];function g(t,w){var y=w[0]-t[0];t=w[1]-t[1];return y*y+t*t}function n(t,w){var y=
t.length;return t[0>w?w%y+y:w%y]}function h(t,w,y,z){for(;y<z;y++)t.push(w[y])}function l(t,w){var y=n(t,w-1),z=n(t,w);t=n(t,w+1);return 0>a(y,z,t)}var $a=[],sb=[];function m(t,w,y,z){z=z||[];z.length=0;if(w<y)for(var F=w;F<=y;F++)z.push(t[F]);else{for(F=0;F<=y;F++)z.push(t[F]);for(F=w;F<t.length;F++)z.push(t[F])}return z}function p(t){for(var w=[],y,z,F=[],G=Number.MAX_VALUE,Q=0;Q<t.length;++Q)if(l(t,Q))for(var D=0;D<t.length;++D){a:{z=t;var H=Q,J=D;if(e(n(z,H+1),n(z,H),n(z,J))&&c(n(z,H-1),n(z,H),
n(z,J)))y=!1;else{y=g(n(z,H),n(z,J));for(var M=0;M!==z.length;++M)if((M+1)%z.length!==H&&M!==H&&e(n(z,H),n(z,J),n(z,M+1))&&c(n(z,H),n(z,J),n(z,M))){$a[0]=n(z,H);$a[1]=n(z,J);sb[0]=n(z,M);sb[1]=n(z,M+1);var P=[0,0];var R=$a[1][1]-$a[0][1];var V=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+V*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*V;0>=Math.abs(ka-0)||(P[0]=(Y*Z-V*ha)/ka,P[1]=(R*ha-ca*Z)/ka);ka=P;if(g(n(z,H),ka)<y){y=!1;break a}}y=!0}}if(y){y=p(m(t,
Q,D,F));z=p(m(t,D,Q,F));for(H=0;H<z.length;H++)y.push(z[H]);y.length<G&&(w=y,G=y.length,w.push([n(t,Q),n(t,D)]))}}return w}function u(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var y=0;y<w.length;y++)for(var z=w[y],F=0;F<t.length;F++){var G=u(t[F],z);if(G){t.splice(F,1);t.push(G[0],G[1]);break}}return t}z=w;y=t.indexOf(z[0]);F=t.indexOf(z[1]);return-1!==y&&-1!==F?[m(t,y,F),m(t,F,y)]:!1}function q(t,w,y,
z,F){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var Q=z[1]-y[1];z=y[0]-z[0];y=Q*y[0]+z*y[1];var D=G*z-Q*w;return Math.abs(D-0)<=(F||0)?[0,0]:[(z*t-w*y)/D,(G*y-Q*t)/D]}function v(t,w,y,z,F,G,Q){G=G||100;Q=Q||0;F=F||25;w="undefined"!==typeof w?w:[];y=y||[];z=z||[];var D=[0,0],H=[0,0],J=[0,0],M,P=0,R=0,V=0,Z=[],ca=[];if(3>t.length)return w;Q++;if(Q>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){y.push(t[Y]);var ha=M=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(b(n(t,Y-1),n(t,Y),n(t,ka))&&c(n(t,Y-1),n(t,Y),n(t,ka-1))){J=q(n(t,Y-1),n(t,Y),n(t,ka),n(t,ka-1));var za=n(t,Y+1);var Oa=n(t,Y);0>a(za,Oa,J)&&(za=g(t[Y],J),za<M&&(M=za,H=J,R=ka))}b(n(t,Y+1),n(t,Y),n(t,ka+1))&&c(n(t,Y+1),n(t,Y),n(t,ka))&&(J=q(n(t,Y+1),n(t,Y),n(t,ka),n(t,ka+1)),b(n(t,Y-1),n(t,Y),J)&&(za=g(t[Y],J),za<ha&&(ha=za,D=J,P=ka)))}if(R===(P+1)%t.length)J[0]=(H[0]+D[0])/2,J[1]=(H[1]+D[1])/2,z.push(J),Y<P?(h(Z,t,Y,P+1),Z.push(J),ca.push(J),0!==R&&h(ca,t,R,t.length),h(ca,
t,0,Y+1)):(0!==Y&&h(Z,t,Y,t.length),h(Z,t,0,P+1),Z.push(J),ca.push(J),h(ca,t,R,Y+1));else{R>P&&(P+=t.length);D=Number.MAX_VALUE;if(P<R)return w;for(ka=R;ka<=P;++ka)if(e(n(t,Y-1),n(t,Y),n(t,ka))&&c(n(t,Y+1),n(t,Y),n(t,ka))){za=g(n(t,Y),n(t,ka));if(R=za<D)a:{R=t;H=Y;J=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==J&&(ha+1)%R.length!==H&&(ha+1)%R.length!==J&&d(n(R,H),n(R,J),n(R,ha),n(R,ha+1))){R=!1;break a}R=!0}R&&(D=za,V=ka%t.length)}Y<V?(h(Z,t,Y,V+1),0!==V&&h(ca,t,V,t.length),h(ca,t,0,Y+1)):(0!==
Y&&h(Z,t,Y,t.length),h(Z,t,0,V+1),h(ca,t,V,Y+1))}Z.length<ca.length?(v(Z,w,y,z,F,G,Q),v(ca,w,y,z,F,G,Q)):(v(ca,w,y,z,F,G,Q),v(Z,w,y,z,F,G,Q));return w}w.push(t);return w}self.nma={Fka:function(t){var w=p(t);return 0<w.length?u(t,w):[t]},uma:v,zla:function(t){var w;for(w=0;w<t.length-1;w++)for(var y=0;y<w-1;y++)if(d(t[w],t[w+1],t[y],t[y+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},zma:function(t,w){for(var y=0,z=t.length-1;3<t.length&&0<=z;--z){var F=
n(t,z-1);var G=n(t,z),Q=n(t,z+1),D=w;D?(Ya[0]=G[0]-F[0],Ya[1]=G[1]-F[1],Za[0]=Q[0]-G[0],Za[1]=Q[1]-G[1],F=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<D):F=0===a(F,G,Q);F&&(t.splice(z%t.length,1),y++)}return y},Ama:function(t,w){for(var y=t.length-1;1<=y;--y)for(var z=t[y],F=y-1;0<=F;--F){var G=z,Q=t[F],D=w;Math.abs(G[0]-Q[0])<=(D||0)&&Math.abs(G[1]-Q[1])<=(D||0)&&t.splice(y,1)}},Vla:function(t){for(var w=0,y=1;y<t.length;++y)if(t[y][1]<
t[w][1]||t[y][1]===t[w][1]&&t[y][0]>t[w][0])w=y;if(b(n(t,w-1),n(t,w),n(t,w+1)))return!1;w=[];y=t.length;for(var z=0;z!==y;z++)w.push(t.pop());for(z=0;z!==y;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.zr=!1;d.zI=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.vh={}}
{"use strict";const d=self.B;d.LL=class{constructor(a){this.w$=a;this.Fa=new Map;this.H6()}H6(){var a=this.w$;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.I6(b)}I6(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Fa.set(e,a)}else this.Fa.set(a,null)}Lw(a){return this.Fa.has(a)}Y(a){a=this.Fa.get(a);return"undefined"===typeof a?null:a}};d.ML=new d.LL(location.search);d.ffa=
new d.LL(location.hash);d.ML.Y("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={Raa:/linux|openbsd|freebsd|netbsd/i.test(a),baa:/CrOS/.test(a),dB:/trident|iemobile|msie|tizen/i.test(a),fla:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),YR:/bb10/i.test(a),paa:/edge\//i.test(a),MS:/trident/i.test(a),webkit:/webkit/i.test(a),nba:/safari\//i.test(a),aaa:/chrome\//i.test(a),caa:/chromium\//i.test(a),faa:/crosswalk|xwalk/i.test(a),ema:/nwjs/i.test(a),R$:/amazonwebappplatform/i.test(a),Iba:/wv\)/.test(a),S$:/android/i.test(a),
$aa:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Mb=/OPR\/[0-9.]+/.exec(a),Nb=/tizen\s+[0-9.]+/i.exec(a),Tb=/iphone\s+os\s+[0-9_]+/i.exec(a),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Vb=/windows\s+phone\s+[0-9.]+/i.exec(a),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Xb=/chrome\/[0-9.]+/i.exec(a),Yb=/chromium\/[0-9.]+/i.exec(a),Zb=/nwjs\/[0-9.]+/i.exec(a),$b=/firefox\/[0-9.]+/i.exec(a),ac=/msie\s+[0-9.]+/i.exec(a),bc=/edge\/[0-9.]+/i.exec(a),
cc=/edg\/[0-9.]+/i.exec(a),dc=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",g="(unknown)",n="(unknown)",h="(unknown)",l="browser",m=!1,p=!1,u=new Map;function q(t,w,y){!0===w?(y(),u.set(t,!0)):w&&w.length&&(y(w[0]),u.set(t,!0))}q("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});q("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});q("isLinux",b.Raa,()=>{e="Linux"});q("isChromeOS",b.baa,()=>{e="Chrome OS"});q("isAndroid",!b.dB&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});q("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});q("isIPhone",!b.dB&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});q("isIPad",!b.dB&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});q("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});q("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});q("isBlackberry",b.YR,()=>{e="Blackberry";c="10";g="stock";h="webkit"});q("isChrome",!b.paa&&!b.opera&&Xb,t=>{g="Chrome";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isOpera",Mb,t=>{g="Opera";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isChromium",Yb,t=>{h=g="Chromium";(t=t.split("/")[1])&&(n=t)});q("isFirefox",$b,t=>{g="Firefox";h="Gecko";(t=t.split("/")[1])&&(n=t)});q("isInternetExplorer",ac,
t=>{g="Internet Explorer";h="Trident";(t=t.split(" ")[1])&&(n=t)});q("isTrident","Internet Explorer"!==g&&b.MS,()=>{h="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(g="Internet Explorer",(t=t[0].split(":")[1])&&(n=t))});q("isEdge",bc,t=>{h=g="Edge";(t=t.split("/")[1])&&(n=t)});q("isEdgeChromium",cc,t=>{g="Edge";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isSafari",b.nba&&!b.$aa&&!b.aaa&&!b.caa&&!b.ela&&!b.YR,()=>{g="Safari";h="WebKit";var t=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(n=t);w&&w.length&&(g="Chrome for iOS",(w=w[0].split("/")[1])&&(n=w));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(n=y))});q("isSilk",dc,t=>{g="Silk";(t=t.split("/")[1])&&(n=t)});q("isCrosswalk",b.faa,()=>l="crosswalk");q("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");q("isNWJS",Zb,t=>{l="nwjs";g="NW.js";h="Chromium";(t=t.split("/")[1])&&(n=t)});q("isAmazonWebApp",b.R$,()=>l="webapp");
q("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");q("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");q("isAndroidWebview","Chrome"===g&&"browser"===l&&b.Iba,()=>l="webview");q("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");q("isAndroidFallback","(unknown)"===e&&!b.dB&&b.S$,()=>e="Android");q("isTridentFallback",
"(unknown)"===e&&b.MS,()=>h="Trident");q("isWebkitFallback","(unknown)"===e&&b.webkit,()=>h="WebKit");q("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>m=!0);p="nwjs"===l;const v="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(e="iOS",c=n,p=m=!1);d.Qc={Cp:e,Dfa:c,oB:g,Ica:n,pB:parseFloat(n),Nv:h,vB:l,wea:m,KC:!m,xea:p,sea:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),pea:"Mac OS X"===e||"iOS"===e,Dea:v,Eea:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(v){return new Promise((t,w)=>{v.onsuccess=()=>t(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((t,w)=>{v.oncomplete=()=>t();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function g(v,t){return h(v,t)}function n(v,t){return h(v,t,!0)}async function h(v,t,w=!1,
y=!0){const z=await l(v);try{const F=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(F)}catch(F){if(y&&"InvalidStateError"===F.name)return d.delete(v),h(v,t,w,!1);throw F;}}function l(v){p(v);let t=d.get(v);t instanceof Promise||(t=m(v),d.set(v,t),t.catch(()=>d.delete(v)));return t}async function m(v){p(v);const t=indexedDB.open(v,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${v}`,
y)}});return e(t)}function p(v){if("string"!==typeof v)throw new TypeError("expected string");}function u(v,t){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const z=[];w.onsuccess=F=>{if(F=F.target.result){switch(t){case "entries":z.push([F.key,F.value]);break;case "keys":z.push(F.key);break;case "values":z.push(F.value)}F.continue()}else y(z)}})}class q{constructor(v){p(v);this.name=v}async ready(){await l(this.name)}set(v,t){p(v);return n(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(t,
v);y=e(y);w=c(w);await Promise.all([w,y])})}get(v){p(v);return g(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(v);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(v){p(v);return n(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(v);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return n(this.name,async v=>{var t=v.objectStore("keyvaluepairs").clear();t=e(t);v=c(v);await Promise.all([v,t])})}keys(){return g(this.name,async v=>{if(b){var t=v.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=u(v,"keys");v=c(v);[,v]=await Promise.all([v,t]);return v})}values(){return g(this.name,async v=>{if(a){var t=v.objectStore("keyvaluepairs").getAll();t=e(t)}else t=u(v,"values");v=c(v);[,v]=await Promise.all([v,t]);return v})}entries(){return g(this.name,async v=>{var t=u(v,"entries");v=c(v);[,t]=await Promise.all([v,t]);return t})}}self.dZ=q}"use strict";
{const d=self.dZ,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function n(l){return"object"===typeof l?new Promise(m=>{const {port1:p,port2:u}=new MessageChannel;u.onmessage=q=>m(q.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.fa=l;b.set(this,new Map)}nt(l){if(!e)for(const m of a)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async bQ(l){l=
b.get(this).get(l);l=await n(l);return"undefined"===typeof l?null:l}async wR(l,m){m=await n(m);b.get(this).set(l,m)}rR(l){b.get(this).delete(l)}FP(){b.get(this).clear()}HQ(){return Array.from(b.get(this).keys())}async getItem(l,m){g(m);if(e)return await this.bQ(l);let p;try{p=await this.fa.get(l)}catch(u){this.nt(u);if(e)return await this.bQ(l);console.error(`Error reading '${l}' from storage, returning null: `,u);return null}return"undefined"===typeof p?null:p}async setItem(l,m,p){g(p);"undefined"===
typeof m&&(m=null);if(e)await this.wR(l,m);else try{await this.fa.set(l,m)}catch(u){if(this.nt(u),e)await this.wR(l,m);else throw u;}}async removeItem(l,m){g(m);if(e)this.rR(l);else try{await this.fa.delete(l)}catch(p){this.nt(p),e?this.rR(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(e)this.FP();else try{await this.fa.clear()}catch(m){this.nt(m),e?this.FP():console.error("Error clearing storage: ",m)}}async keys(l){g(l);if(e)return this.HQ();l=[];try{l=await this.fa.keys()}catch(m){this.nt(m);
if(e)return this.HQ();console.error("Error getting storage keys: ",m)}return l}ready(l){g(l);return e?Promise.resolve(!0):this.fa.ready()}nI(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.B;d.Ob={};d.Ob.Pja=(()=>{try{if("Safari"===d.Qc.oB||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Ob.pda="undefined"!==typeof HTMLDialogElement;d.Ob.Nga=!!self.requestIdleCallback;d.Ob.ImageBitmap=!!self.createImageBitmap;d.Ob.ImageBitmapOptions=!1;if(d.Ob.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Ob.ImageBitmapOptions=!0}).catch(()=>{d.Ob.ImageBitmapOptions=!1})}catch(a){d.Ob.ImageBitmapOptions=!1}d.Ob.Pca=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Qc.oB);d.Ob.ega=!(!navigator.permissions||!navigator.permissions.query);d.Ob.KL="undefined"!==typeof Proxy;d.Ob.qda="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Ob.Pv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Ob.Eda="function"===typeof fetch;d.Ob.gga=!!(self.isSecureContext&&"Opera"!==d.Qc.oB&&navigator.storage&&navigator.storage.persist);d.Ob.dja=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.Qc.Cp)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.Ob.Mda=ec;d.Ob.dea="undefined"!==typeof self.ImageDecoder;d.Ob.vfa=!!self.showOpenFilePicker;
d.Ob.wfa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Vr(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Yd||(Array.prototype.Yd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Yd||(String.prototype.Yd=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.iw())}}
{"use strict";const d=self.B,a=self.vh;d.Il=function(e){return"number"===typeof e};d.Fl=function(e){return d.Il(e)&&isFinite(e)};d.sf=function(e){if(!d.Il(e))throw new TypeError("expected number");};d.VL=function(){};d.iha=function(e,c,g){if(!d.Il(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};d.Vga=function(...e){for(let c of e);};d.qk=function(e){if(!d.Fl(e))throw new TypeError("expected finite number");};d.SL=function(){};d.Sga=function(...e){for(let c of e);};d.Kh=function(e){return"string"===
typeof e};d.Ld=function(e){if(!d.Kh(e))throw new TypeError("expected string");};d.XL=function(){};d.Xga=function(...e){for(let c of e);};d.dL=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.vha=function(e){if(!d.dL(e))throw new TypeError("expected simple object");};d.sha=function(e){if(!d.Kd(e)&&!d.dL(e))throw new TypeError("expected simple object");};d.cL=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.QL=function(e){if(!d.cL(e))throw new TypeError("expected object");
};d.WL=function(){};d.Wga=function(...e){for(let c of e);};d.BC=function(e){return d.Gl(e,Blob)&&"string"===typeof e.name};d.gha=function(e){if(!d.BC(e))throw new TypeError("expected file");};d.qha=function(){};d.tn=function(e){return Array.isArray(e)};d.bD=function(e){if(!d.tn(e))throw new TypeError("expected array");};d.RL=function(){};d.Rga=function(...e){for(let c of e);};d.DY=function(e){return d.tn(e)?e.length?d.tn(e[0])?!0:!1:!0:!1};d.Qga=function(e){if(!d.DY(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.tn(c))throw new TypeError("expected 2d array");};d.jha=function(){};d.CC=function(e){return"function"===typeof e};d.hj=function(e,c){if(!d.CC(e))throw new TypeError("expected function");if(!d.Kd(c)&&e!==c)throw new TypeError("expected same function reference");};d.TL=function(){};d.Tga=function(...e){for(let c of e);};d.Zga=function(e,...c){if(!d.CC(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.Kd(g)&&
e===g)return;throw new TypeError("expected same function reference");};d.kha=function(...e){if(!d.Kd(e))for(let c of e);};d.Gl=function(e,c){return e instanceof c};d.aL=function(e,...c){for(let g of c)if(d.Gl(e,g))return!0;return!1};d.cD=function(e,c){if(!d.Gl(e,c))throw new TypeError("unexpected type");};d.UL=function(){};d.Uga=function(e,...c){for(let g of c);};d.$ga=function(e,...c){if(!d.aL(e,...c))throw new TypeError("unexpected type");};d.aha=function(e,...c){if(!d.Kd(e)&&!d.aL(e,...c))throw new TypeError("unexpected type");
};d.qea=function(e,c){for(let g of e)if(!d.Gl(g,c))return!1;return!0};d.rea=function(e){for(let c of e)if(!d.Fl(c))return!1;return!0};d.bha=function(e){for(let c of e);};d.lha=function(e){if(!d.Kd(e))for(let c of e);};d.cha=function(e){for(let c of e);};d.mha=function(e){if(!d.Kd(e))for(let c of e);};d.tea=function(e,c){return d.Kd(e)||!d.Kh(e.nodeName)?!1:!c||d.Om(e.nodeName,c)};d.dha=function(e,c){if(d.Kd(e)||!d.Kh(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Om(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.nha=function(){};d.EC=function(e,c){return d.Kd(e)||!d.Kh(e.tagName)?!1:!c||d.Om(e.tagName,c)};d.hha=function(e,c){if(d.Kd(e)||!d.Kh(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.Om(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.rha=function(){};d.VK=function(e){return d.EC(e,"img")||d.EC(e,"canvas")||d.EC(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.eha=function(e){if(!d.VK(e))throw new TypeError("expected drawable");
};d.oha=function(){};d.WK=function(e){return e instanceof ImageData?!0:d.VK(e)};d.fha=function(e){if(!d.WK(e))throw new TypeError("expected drawable or image data");};d.pha=function(e){if(!d.Kd(e)&&!d.WK(e))throw new TypeError("expected drawable or image data");};d.YY=function(e){return"string"===typeof e||e instanceof d.uC||e instanceof d.wl};d.wha=function(e){if(!d.YY(e))throw new TypeError("expected string-like");};d.tha=function(){};d.Yga=function(...e){for(let c of e);};d.uha=function(){throw Error("must be overridden");
};d.Bfa=function(){throw Error("not yet implemented");};d.vea=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};d.Kd=function(e){return"undefined"===typeof e||null===e};d.sca=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};d.tca=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.Qea=function(e){return d.Gl(e,b)};d.xha=function(){};
d.Oja=function(e){d.f2(e,b)};d.Nja=function(e,...c){if(!d.e2(e,...c))throw new TypeError("unexpected type");};d.e2=function(e,...c){for(const g of c)if(d.YM(e,g))return!0;return!1};d.f2=function(e,c){if(!d.YM(e,c))throw new TypeError("unexpected type");};d.YM=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.sf=d.sf;a.VL=d.VL;a.qk=d.qk;a.SL=d.SL;a.Ld=d.Ld;a.XL=d.XL;a.QL=d.QL;a.WL=d.WL;a.bD=d.bD;a.RL=d.RL;a.hj=d.hj;a.TL=d.TL;a.cD=d.cD;a.UL=d.UL;a.Kd=
d.Kd}
{"use strict";const d=self.B,a=new Map;d.Gga=function(u,...q){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...q);a.set(u,-1)}))};d.iw=function(){return Error().stack};d.nda=function(){debugger};d.wka=function(u,q){return u&&u instanceof q?u:null};d.Rj=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Il(u)?"<number>":d.Kh(u)?"<string>":d.tn(u)?"<array>":"symbol"===typeof u?"<"+
u.toString()+">":d.CC(u)?u.name&&"Function"!==u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.OA=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,q){if(!isFinite(Math.abs(u-q)))throw Error("Invalid parameters");if(u>q)for(--u;u>=q;u--)yield u;else for(;u<q;u++)yield u};let b=new Map,e=new Map,c=new WeakMap,g=new WeakMap;d.mp={};const n=
new Set(["then","splice"]);function h(u){console.warn("[Defence] "+u+" @",d.iw())}d.mp.get=function(u,q){q in u||"symbol"===typeof q||n.has(q)||h(`Accessed missing property '${q}' from defended object '${d.Rj(u)}', returning undefined`);g.has(u)&&"symbol"!==typeof q&&!n.has(q)&&h(`Accessed property '${q}' on a released object '${d.Rj(u)}'\nObject was originally released at: ${g.get(u)})\nCall stack at access: `);return u[q]};d.mp.set=function(u,q,v){q in u||b.has(u)||h(`Set non-existent property '${q}' to '${v}' on defended object '${d.Rj(u)}'`);
{var t=d.OA(u[q]);let w=d.OA(v);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||b.has(u)||h(`Set '${d.OA(u[q])}' property '${q}' to type '${d.OA(v)}' on defended object '${d.Rj(u)}'`);g.has(u)&&h(`Set property '${q}' on a released object '${d.Rj(u)}'\nObject was originally released at: ${g.get(u)})\nCall stack at access: `);u[q]=v;return!0};d.mp.deleteProperty=function(u,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${d.Rj(u)}'`);};d.mp.defineProperty=
function(u,q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${d.Rj(u)}'`);};d.mp.Jka=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.Rj(u)}'`);};let l=-1;function m(){l=-1;if(0<b.size||0<e.size){let u=[...new Set([...b.keys()].map(q=>d.Rj(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);b.clear();
e.clear()}}d.ca=class{constructor(){if(d.zI&&d.Ob.KL){var u=new.target;u=Object.create(u.prototype);var q=new Proxy(u,d.mp);b.set(u,q);e.set(q,u);c.set(q,u);-1===l&&(l=requestAnimationFrame(m));return q}}};d.haa=function(u){if(d.zI&&d.Ob.KL&&u instanceof d.ca){if(!e.has(u))return u;let q=e.get(u);e.delete(u);b.delete(q);return u}return d.zr?Object.seal(u):u};d.A=function(u,...q){let v;try{v=new u(...q)}catch(y){throw e.clear(),b.clear(),y;}if(d.zI){q=v;var t=new Set;for(w in q)t.add(w);var w=t;if(q=
p.get(u)){t=[];for(let y of q.values())w.has(y)?w.delete(y):t.push(y);d.Km(t,[...w]);t.length&&console.warn(`[Defence] '${d.Rj(u)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else p.set(u,w)}return d.haa(v)};d.m=function(u){(u=c.get(u))&&g.set(u,d.iw())};d.xx=function(){let u=c.get(void 0);return u?!!g.get(u):!1};let p=new Map;d.dga=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(g,n,h){g=Math.floor(g);n=Math.floor(n);h=Math.floor(h);return g<n?(g=h-(n-g)%(h-n),g===h?0:g):n+(g-n)%(h-n)};d.Uaa=function(g,n,h,l){return(g-n)*(l-0)/(h-n)};d.normalize=function(g,n,h){return(g-n)/(h-n)};d.ea=function(g,n,h){return g<n?n:g>h?h:g};d.Zd=function(g){g%=a;0>g&&(g+=a);return g};d.qb=function(g){return g*b};d.th=function(g){return g*e};d.tr=function(g,n,h,l){return Math.hypot(h-g,l-n)};d.eS=function(g,
n,h,l){g=h-g;n=l-n;return g*g+n*n};d.hI=function(g,n,h,l){return Math.atan2(l-n,h-g)};d.pr=function(g,n){if(g===n)return 0;g=Math.sin(g)*Math.sin(n)+Math.cos(g)*Math.cos(n);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.gI=function(g,n,h){let l=Math.sin(g),m=Math.cos(g),p=Math.sin(n),u=Math.cos(n);return Math.acos(l*p+m*u)>h?0<m*p-l*u?d.Zd(g+h):d.Zd(g-h):d.Zd(n)};d.Ye=function(g,n){return 0>=Math.cos(g)*Math.sin(n)-Math.sin(g)*Math.cos(n)};d.fI=function(g,n,h,l=0){let m=d.pr(g,n);l*=a;return d.Ye(n,
g)?d.Zd(g+(m+l)*h):d.Zd(g-(m+l)*h)};d.U$=function(g,n,h,l=0){const m=d.pr(g,n);l*=a;return d.Ye(n,g)?d.Zd(g+(m+l)*h):d.Zd((a-m+l)*h)};d.T$=function(g,n,h,l=0){const m=d.pr(g,n);l*=a;return d.Ye(n,g)?d.Zd((-a+m-l)*h):d.Zd(g-(m+l)*h)};d.Hd=function(g,n,h){return g+h*(n-g)};d.bB=function(g,n,h){return g===n?0:(h-g)/(n-g)};d.iba=function(g,n,h,l){return d.Hd(0,l,d.bB(g,n,h))};d.VA=function(g,n,h,l){return d.Hd(d.Hd(g,n,l),d.Hd(n,h,l),l)};d.cS=function(g,n,h,l,m){return d.Hd(d.VA(g,n,h,m),d.VA(n,h,l,m),
m)};d.bS=function(g,n,h){return(g+n+(g-n)*Math.cos(h*Math.PI))/2};d.Tj=function(g){return 0<g&&0===(g-1&g)};d.GI=function(g){--g;for(let n=1;32>n;n<<=1)g|=g>>n;return g+1};d.Mma=function(g,n){return Math.round(g*n)/n};d.Qka=function(g,n){return Math.floor(g*n)/n};d.BS=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,n){g=g.toFixed(n);for(n=g.length-1;0<=n&&"0"===g.charAt(n);--n);0<=n&&"."===g.charAt(n)&&--n;return 0>n?g:g.substr(0,n+1)};d.l_=function(g,n,h){return d.ea(g,0,255)|d.ea(n,
0,255)<<8|d.ea(h,0,255)<<16};d.bx=function(g,n,h,l){g=d.ea(Math.floor(1024*g),-8192,8191);n=d.ea(Math.floor(1024*n),-8192,8191);h=d.ea(Math.floor(1024*h),-8192,8191);l=d.ea(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>n&&(n+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*n+1024*h+l)};d.EL=function(g,n,h){return d.bx(g,n,h,1)};d.iC=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.$B=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.NB=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.VV=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.yaa=function(g,n){g=Math.floor(g);for(n=Math.floor(n);0!==n;){let h=n;n=g%n;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.hla=function(g,n){g=Math.floor(g);n=Math.floor(n);if(g===n)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(n-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(n-l))return[h[1],h[0]]}h=d.yaa(g,n);return[g/h,n/h]};d.Tma=function(g,n,h,l,m,p,u,q){var v=Math.min(g,h),t=Math.max(m,u);if(Math.max(g,h)<Math.min(m,u)||v>t)return!1;v=Math.min(n,l);t=Math.max(p,q);if(Math.max(n,l)<Math.min(p,q)||v>t)return!1;v=m-g+u-h;t=p-n+q-l;g=h-g;n=l-n;m=u-m;p=q-p;q=Math.abs(n*m-p*g);return Math.abs(m*t-p*v)>q?!1:Math.abs(g*t-n*v)<=q};d.ql=function(g,n,h,l,m,p,u,q,v,t,w,y){const z=Math.max(v,w);if(p<
Math.min(v,w)||m>z)return!1;m=Math.max(t,y);if(q<Math.min(t,y)||u>m)return!1;u=v-g+w-h;q=t-n+y-l;g=h-g;n=l-n;v=w-v;t=y-t;y=Math.abs(n*v-t*g);return Math.abs(v*q-t*u)>y?!1:Math.abs(g*q-n*u)<=y};d.WA=function(g,n,h,l,m){const p=Math.min(g,h),u=Math.max(g,h),q=Math.min(n,l),v=Math.max(n,l),t=m.ob,w=m.pb,y=m.Vb,z=m.Wb,F=m.Rb,G=m.Sb,Q=m.Pb;m=m.Qb;return d.ql(g,n,h,l,p,u,q,v,t,w,y,z)||d.ql(g,n,h,l,p,u,q,v,y,z,F,G)||d.ql(g,n,h,l,p,u,q,v,F,G,Q,m)||d.ql(g,n,h,l,p,u,q,v,Q,m,t,w)};d.Sma=function(g,n,h,l,m){const p=
Math.min(g,h),u=Math.max(g,h),q=Math.min(n,l),v=Math.max(n,l);let t=0;for(let w=m.length-4;t<=w;t+=2)if(d.ql(g,n,h,l,p,u,q,v,m[t],m[t+1],m[t+2],m[t+3]))return!0;return d.ql(g,n,h,l,p,u,q,v,m[t],m[t+1],m[0],m[1])};d.hba=function(g,n,h,l,m,p,u,q){h-=g;p=q-p;const v=h*p-(l-n)*(u-m);if(0===v)return 2;l=((n-l)*(u-g)+h*(q-n))/v;return 0<l&&1.000001>l?(p*(u-g)+(m-u)*(q-n))/v:2};d.Av=function(g,n,h,l,m,p,u,q,v){const t=(u-m)*v;v*=q-p;return d.hba(g,n,h,l,m-t,p-v,u+t,q+v)};d.Iaa=function(g,n,h,l,m,p,u,q){m-=
h;p-=l;u-=h;q-=l;g-=h;h=n-l;n=m*m+p*p;l=m*u+p*q;m=m*g+p*h;p=u*u+q*q;u=u*g+q*h;q=1/(n*p-l*l);p=(p*m-l*u)*q;m=(n*u-l*m)*q;return 0<=p&&0<=m&&1>=p+m};d.Gba=function(g,n,h,l,m,p,u,q){m-=h;p-=l;u-=h;q-=l;g-=h;const v=n-l;n=m*m+p*p;l=m*u+p*q;h=u*u+q*q;m=g*m+v*p;p=g*u+v*q;u=n*h-l*l;q=(h*m-l*p)/u;m=(n*p-l*m)/u;return[1-q-m,q,m]};d.Fba=function(g,n,h,l,m,p,u,q,v){return[g*l+n*p+h*q,g*m+n*u+h*v]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Oda=function(){return b};d.OB=function(){if(!a)return"";const l=a.location;return d.bX(l.origin+l.pathname)+b};d.bX=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};d.Rda=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};d.uW=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};d.qw=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};d.zZ=function(l){return l.replace(/\\/g,"/")};d.zea=function(l,m){return m===(l?d.uW(l).slice(1):"")};d.Fda=function(l,m){let p,u;d.BC(l)&&(p=d.qw(l.name));d.Kh(l)&&(p=
d.qw(l));d.BC(m)&&(u=d.qw(m.name));d.Kh(m)&&(u=d.qw(m));return p===u};d.cga=function(l){l=d.zZ(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let u="",q=l,v="";0<p&&(u=l.slice(0,p),q=l.slice(p));l=q;p=q.lastIndexOf(".");0<p&&(v=q.slice(p),l=q.slice(0,-v.length));return{dir:u,pka:q,name:l,root:m,ext:v,cla:m+u+q}};d.LD=function(l,m){return new Promise(p=>{self.setTimeout(p,
l,m)})};d.cna=function(l){try{l()}catch(m){d.zr&&console.warn("Swallowed exception: ",m)}};d.cma=function(){};d.Om=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};d.Kka=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};d.Hba=function(l,m){var p=0;l[p++]=m[0];l[p++]=m[1];l[p++]=m[2];l[p++]=m[3];l[p++]=m[4];l[p++]=m[5];l[p++]=m[6];l[p++]=m[7];l[p++]=m[8];l[p++]=m[9];
l[p++]=m[10];l[p++]=m[11];l[p++]=m[12];l[p++]=m[13];l[p++]=m[14];l[p]=m[15]};d.Ce=function(l,m){l.length=m};d.D=function(l){l&&0!==l.length&&d.Ce(l,0)};d.daa=function(l){if(l){for(let m=0;m<l.length;m++)d.Ce(l[m],0);d.Ce(l,0)}};d.MA=function(l,m,p){m|=0;var u=l.length;if(!(m<=u))for(;u<m;++u)l.push(p)};d.AS=function(l){var m=4;const p=l.length;m<p?d.Ce(l,m):m>p&&d.MA(l,m,"0")};d.vc=function(l,m){d.D(l);d.Km(l,m)};d.Km=function(l,m){if(1E4>m.length)l.push(...m);else for(let p=0,u=m.length;p<u;++p)l.push(m[p])};
d.X$=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var p=l.length-1;m<p;++m)l[m]=l[m+1];d.Ce(l,p)}};d.Zo=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};d.oka=function(l,m){let p=l.length;if(m.length!==p)return!1;for(let u=0;u<p;++u)if(l[u]!==m[u])return!1;return!0};d.W$=function(l,m){let p=[],u=0;for(let q=0,v=l.length;q<v;++q){let t=l[q];m(t)?p.push(t):(l[u]=t,++u)}d.Ce(l,u);return p};d.qg=function(l,m){const p=l.length;let u=0;for(let q=0,v=l.length;q<v;++q){let t=l[q];m.has(t)||
(l[u++]=t)}d.Ce(l,u);return p-u};d.Faa=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};d.rna=function(l,m){if(!d.Faa(l,m))throw new RangeError("array index out of bounds");};d.mI=function(l){return l.slice()};d.iaa=function(l,m){let p=[];for(let u of l)if(d.cL(u)){l=m(u);if(!l)throw Error("missing clone");if(l.constructor!==u.constructor)throw Error("object is not a clone");p.push(l)}else d.tn(u)?p.push(d.iaa(u,m)):p.push(u);return p};d.xka=function(l){let m=[];for(let p of l)m.push(p.slice());
return m};d.Zla=function(l,m){return new Set([...l,...m])};d.$la=function(l,m){for(const p of m)l.add(p);return l};d.first=function(l){for(let m of l)return m;return null};d.xor=function(l,m){return!l!==!m};d.compare=function(l,m,p){switch(m){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.qla=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};d.w_=function(l,m){return l.length?new Promise((p,
u)=>{const q=[];let v=0,t=!1;for(let w=0,y=l.length;w<y;++w)q.push(void 0),l[w].then(z=>{t||(q[w]=z,++v,v===l.length?p(q):m(v,l.length))}).catch(z=>{t=!0;u(z)})}):Promise.resolve([])};let e=[];d.bca=function(l){e.push(l)};d.Qda=function(){let l=0;for(let m of e){let p=m();l+=p}return Math.floor(l)};let c=1;const g=new Map,n=new MessageChannel;n.port2.onmessage=function(l){l=l.data;const m=g.get(l);g.delete(l);m&&m(performance.now())};d.aD=function(l){const m=c++;g.set(m,l);n.port1.postMessage(m);
return m};d.IT=function(l){g.delete(l)};d.s_=d.aD;d.c2=function(){return new Promise(l=>d.s_(l))};const h=new Set;d.Pga=function(l){const m=self.requestAnimationFrame(async p=>{await d.c2();h.has(m)&&(h.delete(m),l(p))});h.add(m);return m};d.Mca=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.B;d.yC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.LC=function(a){return!d.yC(a)};d.I1=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.gw=function(a){return fetch(a,void 0).then(b=>{d.I1(b);return b})};d.Yr=function(a){return d.gw(a).then(b=>b.text())};d.UJ=function(a){return d.gw(a).then(b=>b.json())};d.Xj=function(a){return d.gw(a).then(b=>b.blob())};d.Xr=function(a){return d.gw(a).then(b=>
b.arrayBuffer())};d.OV=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>e(g);c.src=a})};d.zT=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.nJ=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.Gca=function(a){return d.nJ(a).then(b=>
JSON.parse(b))};d.AT=async function(a){a=URL.createObjectURL(a);try{const b=await d.OV(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.tg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.Pv=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ea(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.Uj(()=>d.wJ(a,b,e))};d.wJ=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ea(e,0,1);return d.pU(a.toDataURL(b,e))};d.pU=function(a){a=d.m_(a);return d.yT(a.data,a.Vaa)};d.m_=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{Vaa:a,data:e}};d.yT=function(a,b){var e=a.length;let c=e>>2,g=new Uint8Array(e),n=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)n[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};d.LJ=function(a){const b=d.tg(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.Pv(b,void 0,void 0)};d.cea=
function(a,b,e){const c=d.tg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.wJ(c,b,e)};d.UX=function(a){if(d.Ob.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.LJ(b));if(d.Ob.ImageBitmap)return createImageBitmap(a).then(b=>d.LJ(b));{const b=d.tg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Pv(b,void 0,void 0)}};d.eU=function(a,b){a.clear();for(const e of b)a.add(e)};d.ifa=function(a){const b=Object.create(null);for(const [e,
c]of a.entries())b[e]=c;return b};d.Efa=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.JD=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,n]of Object.entries(b))c[g]=e(n);return c}}return b};d.KB=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>
c(g)));if("map"===e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [n,h]of Object.entries(e))g[n]=c(h);return g}}return e};d.DT=function(e){let c="",g=!1;for(const n of e)"-"===n?g=!0:g?(c+=n.toUpperCase(),g=!1):c+=n;return c};d.Hl=function(e){return"object"===typeof e&&"function"===typeof e.next};d.rZ=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const d=self.B;d.Wa=class{constructor(a,b,e,c){this.Qa=this.Ra=this.Sa=this.Pa=0;a instanceof d.Wa?this.set(a):this.Um(a||0,b||0,e||0,c||0)}Ir(a,b,e){this.Pa=+a;this.Sa=+b;this.Ra=+e;this.ea()}Um(a,b,e,c){this.Pa=+a;this.Sa=+b;this.Ra=+e;this.Qa=+c;this.ea()}set(a){this.Pa=a.Pa;this.Sa=a.Sa;this.Ra=a.Ra;this.Qa=a.Qa;return this}ta(a){return this.set(a)}add(a){this.Pa+=a.Pa;this.Sa+=a.Sa;this.Ra+=a.Ra;this.Qa+=a.Qa;this.ea()}UR(a,b,e){this.Pa+=+a;this.Sa+=+b;this.Ra+=+e;this.Qa+=0;this.ea()}Qj(a){this.Pa=
a.Pa;this.Sa=a.Sa;this.Ra=a.Ra}ES(a){this.Pa=d.ea(+a,0,1)}rba(a){this.Sa=d.ea(+a,0,1)}oba(a){this.Ra=d.ea(+a,0,1)}Ev(a){this.Qa=d.ea(+a,0,1)}clone(){return d.A(d.Wa,this.Pa,this.Sa,this.Ra,this.Qa)}toArray(){return[this.Pa,this.Sa,this.Ra,this.Qa]}rg(a,b){a[b++]=this.Pa;a[b++]=this.Sa;a[b++]=this.Ra;a[b]=this.Qa}Nc(a){return this.Pa===a.Pa&&this.Sa===a.Sa&&this.Ra===a.Ra&&this.Qa===a.Qa}nl(a){return this.Pa===a.Pa&&this.Sa===a.Sa&&this.Ra===a.Ra}pv(a,b,e,c){return this.Pa===a&&this.Sa===b&&this.Ra===
e&&this.Qa===c}multiply(a){this.Pa*=a.Pa;this.Sa*=a.Sa;this.Ra*=a.Ra;this.Qa*=a.Qa}QI(){this.Pa*=this.Qa;this.Sa*=this.Qa;this.Ra*=this.Qa}ea(){this.Pa=d.ea(this.Pa,0,1);this.Sa=d.ea(this.Sa,0,1);this.Ra=d.ea(this.Ra,0,1);this.Qa=d.ea(this.Qa,0,1);return this}Hr(a){this.Pa=d.iC(a);this.Sa=d.$B(a);this.Ra=d.NB(a);this.Qa=d.VV(a)}uaa(){return`rgb(${100*(d.Fl(void 0)?NaN:this.Pa)}%, ${100*(d.Fl(void 0)?NaN:this.Sa)}%, ${100*(d.Fl(void 0)?NaN:this.Ra)}%)`}vS(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.ES(a);isFinite(e)&&this.rba(e);isFinite(b)&&this.oba(b);this.Ev(1)}}}toJSON(){return[this.Pa,this.Sa,this.Ra,this.Qa]}rl(a){!Array.isArray(a)||3>a.length||(this.Pa=a[0],this.Sa=a[1],this.Ra=a[2],this.Qa=4<=a.length?a[3]:1)}set r(a){this.ES(a)}get r(){return this.Pa}set Yo(a){this.Ev(a)}get Yo(){return this.Qa}static DB(a,b){return d.ea(Math.max(a,
b)-Math.min(a,b),0,1)}};d.Wa.Uja=Object.freeze(d.A(d.Wa,1,1,1,1));d.Wa.Fca=Object.freeze(d.A(d.Wa,0,0,0,1));d.Wa.Bja=Object.freeze(d.A(d.Wa,0,0,0,0))}
{"use strict";const d=self.B;d.Ys=class{constructor(a,b){this.J=this.N=0;a instanceof d.Ys?this.ta(a):this.set(a||0,b||0)}set(a,b){this.N=+a;this.J=+b}ta(a){this.N=a.N;this.J=a.J}Nc(a){return this.N===a.N&&this.J===a.J}toArray(){return[this.N,this.J]}rg(a,b){a[b++]=this.N;a[b]=this.J}offset(a,b){this.N+=+a;this.J+=+b}scale(a,b){this.N*=a;this.J*=b}ll(a,b){this.N/=a;this.J/=b}round(){this.N=Math.round(this.N);this.J=Math.round(this.J)}floor(){this.N=Math.floor(this.N);this.J=Math.floor(this.J)}ceil(){this.N=
Math.ceil(this.N);this.J=Math.ceil(this.J)}angle(){return d.hI(0,0,this.N,this.J)}Qaa(){return this.N*this.N+this.J*this.J}length(){return Math.sqrt(this.Qaa())}lba(a,b){const e=this.N*b-this.J*a;this.J=this.J*b+this.N*a;this.N=e}rotate(a){0!==a&&this.lba(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.N+=Math.cos(a)*b,this.J+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.N/=a,this.J/=a)}ea(a,b){this.N=d.ea(this.N,a,b);this.J=d.ea(this.J,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,e,c){this.V=this.$=this.K=this.M=0;a instanceof d.Rect?this.ta(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.M=+a;this.K=+b;this.$=+e;this.V=+c}rh(a,b,e,c){a=+a;b=+b;this.M=a;this.K=b;this.$=a+ +e;this.V=b+ +c}ta(a){this.M=+a.M;this.K=+a.K;this.$=+a.$;this.V=+a.V}clone(){return new d.Rect(this.M,this.K,this.$,this.V)}Nc(a){return this.M===a.M&&this.K===a.K&&this.$===a.$&&this.V===a.V}toArray(){return[this.M,this.K,this.$,this.V]}zba(){new DOMRect(this.M,
this.K,this.width(),this.height())}rg(a,b){a[b++]=this.M;a[b++]=this.K;a[b++]=this.$;a[b]=this.V}Jba(a,b){a[b++]=this.M;a[b++]=this.K;a[b++]=this.$;a[b++]=this.K;a[b++]=this.$;a[b++]=this.V;a[b++]=this.M;a[b]=this.V}width(){return this.$-this.M}height(){return this.V-this.K}Er(){return(this.M+this.$)/2}Fr(){return(this.K+this.V)/2}offset(a,b){a=+a;b=+b;this.M+=a;this.K+=b;this.$+=a;this.V+=b}offsetLeft(a){this.M+=+a}offsetTop(a){this.K+=+a}bba(a){this.$+=+a}aba(a){this.V+=+a}PA(a,b){a=+a;b=+b;this.M-=
a;this.K-=b;this.$+=a;this.V+=b}multiply(a,b){this.M*=a;this.K*=b;this.$*=a;this.V*=b}ll(a,b){this.M/=a;this.K/=b;this.$/=a;this.V/=b}xba(){const a=this.M;this.M=this.$;this.$=a}cp(){const a=this.K;this.K=this.V;this.V=a}ZI(a){const b=this.K;this.K=+a-this.V;this.V=+a-b}round(){this.M=Math.round(this.M);this.K=Math.round(this.K);this.$=Math.round(this.$);this.V=Math.round(this.V)}mba(){this.M=Math.floor(this.M);this.K=Math.floor(this.K);this.$=Math.ceil(this.$);this.V=Math.ceil(this.V)}floor(){this.M=
Math.floor(this.M);this.K=Math.floor(this.K);this.$=Math.floor(this.$);this.V=Math.floor(this.V)}ceil(){this.M=Math.ceil(this.M);this.K=Math.ceil(this.K);this.$=Math.ceil(this.$);this.V=Math.ceil(this.V)}ea(a,b,e,c){this.M<a&&(this.M=+a);this.K<b&&(this.K=+b);this.$>e&&(this.$=+e);this.V>c&&(this.V=+c)}aS(){0>this.M&&(this.M=0);1<this.K&&(this.K=1);1<this.$&&(this.$=1);0>this.V&&(this.V=0)}normalize(){this.M>this.$&&this.xba();this.K>this.V&&this.cp()}QA(a){return!(a.$<this.M||a.V<this.K||a.M>this.$||
a.K>this.V)}Eaa(a,b,e){return!(a.$+b<this.M||a.V+e<this.K||a.M+b>this.$||a.K+e>this.V)}$e(a,b){return a>=this.M&&a<=this.$&&b>=this.K&&b<=this.V}}}
{"use strict";const d=self.B;d.md=class{constructor(a,b,e,c,g,n,h,l){this.Qb=this.Pb=this.Sb=this.Rb=this.Wb=this.Vb=this.pb=this.ob=0;a instanceof d.md?this.ta(a):this.set(a||0,b||0,e||0,c||0,g||0,n||0,h||0,l||0)}set(a,b,e,c,g,n,h,l){this.ob=+a;this.pb=+b;this.Vb=+e;this.Wb=+c;this.Rb=+g;this.Sb=+n;this.Pb=+h;this.Qb=+l}FS(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}ta(a){this.ob=a.ob;this.pb=a.pb;this.Vb=a.Vb;this.Wb=a.Wb;this.Rb=a.Rb;this.Sb=a.Sb;this.Pb=a.Pb;this.Qb=a.Qb}Nc(a){return this.ob===a.ob&&this.pb===
a.pb&&this.Vb===a.Vb&&this.Wb===a.Wb&&this.Rb===a.Rb&&this.Sb===a.Sb&&this.Pb===a.Pb&&this.Qb===a.Qb}toArray(){return[this.ob,this.pb,this.Vb,this.Wb,this.Rb,this.Sb,this.Pb,this.Qb]}rg(a,b){a[b++]=this.ob;a[b++]=this.pb;a[b++]=this.Vb;a[b++]=this.Wb;a[b++]=this.Rb;a[b++]=this.Sb;a[b++]=this.Pb;a[b]=this.Qb}Kba(a,b,e){a[b++]=this.ob;a[b++]=this.pb;a[b++]=e;a[b++]=this.Vb;a[b++]=this.Wb;a[b++]=e;a[b++]=this.Rb;a[b++]=this.Sb;a[b++]=e;a[b++]=this.Pb;a[b++]=this.Qb;a[b]=e}offset(a,b){a=+a;b=+b;this.ob+=
a;this.pb+=b;this.Vb+=a;this.Wb+=b;this.Rb+=a;this.Sb+=b;this.Pb+=a;this.Qb+=b}round(){this.ob=Math.round(this.ob);this.pb=Math.round(this.pb);this.Vb=Math.round(this.Vb);this.Wb=Math.round(this.Wb);this.Rb=Math.round(this.Rb);this.Sb=Math.round(this.Sb);this.Pb=Math.round(this.Pb);this.Qb=Math.round(this.Qb)}floor(){this.ob=Math.floor(this.ob);this.pb=Math.floor(this.pb);this.Vb=Math.floor(this.Vb);this.Wb=Math.floor(this.Wb);this.Rb=Math.floor(this.Rb);this.Sb=Math.floor(this.Sb);this.Pb=Math.floor(this.Pb);
this.Qb=Math.floor(this.Qb)}ceil(){this.ob=Math.ceil(this.ob);this.pb=Math.ceil(this.pb);this.Vb=Math.ceil(this.Vb);this.Wb=Math.ceil(this.Wb);this.Rb=Math.ceil(this.Rb);this.Sb=Math.ceil(this.Sb);this.Pb=Math.ceil(this.Pb);this.Qb=Math.ceil(this.Qb)}qh(a){this.ob=a.M;this.pb=a.K;this.Vb=a.$;this.Wb=a.K;this.Rb=a.$;this.Sb=a.V;this.Pb=a.M;this.Qb=a.V}qba(a,b){0===b?this.qh(a):this.DS(a,Math.sin(b),Math.cos(b))}DS(a,b,e){const c=a.M*b,g=a.K*b,n=a.$*b;b*=a.V;const h=a.M*e,l=a.K*e,m=a.$*e;a=a.V*e;this.ob=
h-g;this.pb=l+c;this.Vb=m-g;this.Wb=l+n;this.Rb=m-b;this.Sb=a+n;this.Pb=h-b;this.Qb=a+c}uI(a){a.set(Math.min(this.ob,this.Vb,this.Rb,this.Pb),Math.min(this.pb,this.Wb,this.Sb,this.Qb),Math.max(this.ob,this.Vb,this.Rb,this.Pb),Math.max(this.pb,this.Wb,this.Sb,this.Qb))}$e(a,b){var e=this.Vb-this.ob,c=this.Wb-this.pb;const g=this.Rb-this.ob,n=this.Sb-this.pb;a-=this.ob;b-=this.pb;var h=e*e+c*c;let l=e*g+c*n;c=e*a+c*b;const m=g*g+n*n,p=g*a+n*b;let u=1/(h*m-l*l);e=(m*c-l*p)*u;h=(h*p-l*c)*u;if(0<=e&&0<
h&&1>e+h)return!0;e=this.Pb-this.ob;c=this.Qb-this.pb;h=e*e+c*c;l=e*g+c*n;c=e*a+c*b;u=1/(h*m-l*l);e=(m*c-l*p)*u;h=(h*p-l*c)*u;return 0<=e&&0<h&&1>e+h}Er(){return(this.ob+this.Vb+this.Rb+this.Pb)/4}Fr(){return(this.pb+this.Wb+this.Sb+this.Qb)/4}xI(a){var b=a.Er(),e=a.Fr();if(this.$e(b,e))return!0;b=this.Er();e=this.Fr();if(a.$e(b,e))return!0;b=this.ob;e=this.pb;const c=this.Vb,g=this.Wb,n=this.Rb,h=this.Sb,l=this.Pb,m=this.Qb;return d.WA(b,e,c,g,a)||d.WA(c,g,n,h,a)||d.WA(n,h,l,m,a)||d.WA(l,m,b,e,a)}kba(){const a=
this.ob,b=this.pb;this.ob=this.Vb;this.pb=this.Wb;this.Vb=this.Rb;this.Wb=this.Sb;this.Rb=this.Pb;this.Sb=this.Qb;this.Pb=a;this.Qb=b}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.A(d.md);d.Xm=class extends d.ca{constructor(e,c=!0){super();e||(e=a);this.td=Float64Array.from(e);this.ny=new d.Rect;this.uo=!0;this.ag=c}m(){}wS(){return this.td.length/2}XA(e){this.td.length===e.length?this.td.set(e):this.td=Float64Array.from(e);this.uo=!0}pba(){this.XA(a)}ta(e){this.XA(e.td)}XI(){this.uo=!0}I$(){if(this.uo){var e=this.td,c=e[0],g=e[1],n=c,h=g;for(let l=0,m=e.length;l<m;l+=2){const p=e[l],u=e[l+1];p<c&&(c=p);p>n&&(n=p);u<g&&(g=
u);u>h&&(h=u)}this.ny.set(c,g,n,h);this.uo=!1}}qh(e){let c=this.td;8!==c.length&&(this.td=c=new Float64Array(8));c[0]=e.M-NaN;c[1]=e.K-NaN;c[2]=e.$-NaN;c[3]=e.K-NaN;c[4]=e.$-NaN;c[5]=e.V-NaN;c[6]=e.M-NaN;c[7]=e.V-NaN;this.ny.ta(e);this.ny.offset(NaN,NaN);this.uo=!1}YI(e,c,g){b.ta(e);b.offset(c,g);this.XA(b.toArray());this.uo=!0}transform(e,c,g){let n=0,h=1;0!==g&&(n=Math.sin(g),h=Math.cos(g));this.fJ(e,c,n,h)}fJ(e,c,g,n){const h=this.td;for(let l=0,m=h.length;l<m;l+=2){const p=l+1,u=h[l]*e,q=h[p]*
c;h[l]=u*n-q*g;h[p]=q*n+u*g}this.uo=!0}offset(e,c){const g=this.td;for(let n=0,h=g.length;n<h;n+=2)g[n]+=e,g[n+1]+=c}$e(e,c){const g=this.td;if(e===g[0]&&c===g[1])return!0;this.I$();var n=this.ny;const h=n.M-110,l=n.K-101,m=n.$+131;n=n.V+120;let p,u,q,v,t,w,y,z;h<e?(p=h,q=e):(p=e,q=h);l<c?(u=l,v=c):(u=c,v=l);m<e?(t=m,y=e):(t=e,y=m);n<c?(w=n,z=c):(w=c,z=n);let F=0,G=0;for(let D=0,H=g.length;D<H;D+=2){var Q=(D+2)%H;const J=g[D],M=g[D+1],P=g[Q];Q=g[Q+1];d.ql(h,l,e,c,p,q,u,v,J,M,P,Q)&&++F;d.ql(m,n,e,
c,t,y,w,z,J,M,P,Q)&&++G}return 1===F%2||1===G%2}sv(e,c,g){const n=e.td,h=this.td;if(this.$e(n[0]+c,n[1]+g)||e.$e(h[0]-c,h[1]-g))return!0;for(let m=0,p=h.length;m<p;m+=2){var l=(m+2)%p;e=h[m];const u=h[m+1],q=h[l];l=h[l+1];let v,t,w,y;e<q?(v=e,w=q):(v=q,w=e);u<l?(t=u,y=l):(t=l,y=u);for(let z=0,F=n.length;z<F;z+=2){const G=(z+2)%F;if(d.ql(e,u,q,l,v,w,t,y,n[z]+c,n[z+1]+g,n[G]+c,n[G+1]+g))return!0}}return!1}Jh(){return this.ag}}}
{"use strict";const d=self.B;d.Fs=class extends d.ca{constructor(a){super();this.zj=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}m(){this.Ic();this.zj=null}Ic(){const a=this.zj;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.zj;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,e)}Y(a,b){return(a=this.zj.get(a))?a.get(b):a}Lw(a){return(a=this.zj.get(a))?a.has(void 0):!1}Ym(a,b){const e=this.zj,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}KJ(a){const b=this.zj,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}Cl(){let a=0;for(const b of this.zj.values())a+=b.size;return a}*values(){for(const a of this.zj.values())yield*a.values()}*entries(){for(const [a,b]of this.zj.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.B;d.lB=class extends d.ca{constructor(){super();this.tm=new Set;this.ly=[];this.zu=!1}m(){this.Ic()}Ic(){this.tm.clear();d.D(this.ly);this.zu=!1}wc(a){this.tm.has(a)||(this.tm.add(a),this.zu||this.ly.push(a))}Lw(a){return this.tm.has(a)}Ym(a){this.tm.delete(a)&&(this.zu=!0)}Cl(){return this.tm.size}wn(){return 0===this.tm.size}MB(){this.zu&&(this.Q6(),this.zu=!1);return this.ly}Q6(){const a=this.ly;d.D(a);for(const b of this.tm)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Ur=class n{constructor(){}static PY(h){this.TD();return[...a.keys()].includes(h)}static E4(h){const l=g.get(h);if(l)return d.get(l);if(n.PY(h))return d.get(h);if(c.has(h))return c.get(h)}static ln(h){this.TD();const l=n.E4(h);return l?l:e.get(h)}static TD(){0===d.size&&(this.rb("default",()=>{}),this.rb("noease",this.yZ),this.rb("easeinsine",this.uV),this.rb("easeoutsine",
this.DV),this.rb("easeinoutsine",this.qV),this.rb("easeinelastic",this.fV),this.rb("easeoutelastic",this.yV),this.rb("easeinoutelastic",this.lV),this.rb("easeinback",this.cV),this.rb("easeoutback",this.vV),this.rb("easeinoutback",this.hV),this.rb("easeinbounce",this.MJ),this.rb("easeoutbounce",this.GB),this.rb("easeinoutbounce",this.iV),this.rb("easeincubic",this.eV),this.rb("easeoutcubic",this.xV),this.rb("easeinoutcubic",this.kV),this.rb("easeinquad",this.rV),this.rb("easeoutquad",this.AV),this.rb("easeinoutquad",
this.nV),this.rb("easeinquart",this.sV),this.rb("easeoutquart",this.BV),this.rb("easeinoutquart",this.oV),this.rb("easeinquint",this.tV),this.rb("easeoutquint",this.CV),this.rb("easeinoutquint",this.pV),this.rb("easeincirc",this.dV),this.rb("easeoutcirc",this.wV),this.rb("easeinoutcirc",this.jV),this.rb("easeinexpo",this.gV),this.rb("easeoutexpo",this.zV),this.rb("easeinoutexpo",this.mV),this.gN("cubicbezier",this.bV),this.gN("spline",this.EV))}static rb(h,l){n.OD(h,l,"predefined")}static gN(h,l){n.OD(h,
l,"private")}static XS(h,l){this.TD();n.OD(h,l,"custom",void 0)}static OD(h,l,m,p){switch(m){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):e.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static yZ(h,l,m,p){return m*h/p+l}static rV(h,l,m,p){return m*(h/=p)*h+l}static AV(h,l,m,p){return-m*(h/=p)*(h-2)+l}static nV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h+l:-m/2*(--h*(h-2)-1)+l}static eV(h,
l,m,p){return m*(h/=p)*h*h+l}static xV(h,l,m,p){return m*((h=h/p-1)*h*h+1)+l}static kV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h+l:m/2*((h-=2)*h*h+2)+l}static sV(h,l,m,p){return m*(h/=p)*h*h*h+l}static BV(h,l,m,p){return-m*((h=h/p-1)*h*h*h-1)+l}static oV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h+l:-m/2*((h-=2)*h*h*h-2)+l}static tV(h,l,m,p){return m*(h/=p)*h*h*h*h+l}static CV(h,l,m,p){return m*((h=h/p-1)*h*h*h*h+1)+l}static pV(h,l,m,p){return 1>(h/=p/2)?m/2*h*h*h*h*h+l:m/2*((h-=2)*h*h*h*h+2)+l}static uV(h,
l,m,p){return-m*Math.cos(h/p*(Math.PI/2))+m+l}static DV(h,l,m,p){return m*Math.sin(h/p*(Math.PI/2))+l}static qV(h,l,m,p){return-m/2*(Math.cos(Math.PI*h/p)-1)+l}static gV(h,l,m,p){return 0===h?l:m*Math.pow(2,10*(h/p-1))+l}static zV(h,l,m,p){return h===p?l+m:m*(-Math.pow(2,-10*h/p)+1)+l}static mV(h,l,m,p){return 0===h?l:h===p?l+m:1>(h/=p/2)?m/2*Math.pow(2,10*(h-1))+l:m/2*(-Math.pow(2,-10*--h)+2)+l}static dV(h,l,m,p){return-m*(Math.sqrt(1-(h/=p)*h)-1)+l}static wV(h,l,m,p){return m*Math.sqrt(1-(h=h/p-
1)*h)+l}static jV(h,l,m,p){return 1>(h/=p/2)?-m/2*(Math.sqrt(1-h*h)-1)+l:m/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static fV(h,l,m,p){let u=0,q=m;if(0===h)return l;if(1===(h/=p))return l+m;u||(u=.3*p);q<Math.abs(m)?(q=m,m=u/4):m=u/(2*Math.PI)*Math.asin(m/q);return-(q*Math.pow(2,10*--h)*Math.sin(2*(h*p-m)*Math.PI/u))+l}static yV(h,l,m,p){let u,q=0,v=m;if(0===h)return l;if(1===(h/=p))return l+m;q||(q=.3*p);v<Math.abs(m)?(v=m,u=q/4):u=q/(2*Math.PI)*Math.asin(m/v);return v*Math.pow(2,-10*h)*Math.sin(2*(h*p-u)*
Math.PI/q)+m+l}static lV(h,l,m,p){let u,q=0,v=m;if(0===h)return l;if(2===(h/=p/2))return l+m;q||(q=.3*p*1.5);v<Math.abs(m)?(v=m,u=q/4):u=q/(2*Math.PI)*Math.asin(m/v);return 1>h?-.5*v*Math.pow(2,10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)+l:v*Math.pow(2,-10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)*.5+m+l}static cV(h,l,m,p,u){void 0===u&&(u=1.70158);return m*(h/=p)*h*((u+1)*h-u)+l}static vV(h,l,m,p,u){void 0===u&&(u=1.70158);return m*((h=h/p-1)*h*((u+1)*h+u)+1)+l}static hV(h,l,m,p,u){void 0===u&&(u=1.70158);return 1>
(h/=p/2)?m/2*h*h*(((u*=1.525)+1)*h-u)+l:m/2*((h-=2)*h*(((u*=1.525)+1)*h+u)+2)+l}static MJ(h,l,m,p){return m-n.GB(p-h,0,m,p)+l}static GB(h,l,m,p){return(h/=p)<1/2.75?7.5625*m*h*h+l:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+l:m*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static iV(h,l,m,p){return h<p/2?.5*n.MJ(2*h,0,m,p)+l:.5*n.GB(2*h-p,0,m,p)+.5*m+l}static bV(h,l,m,p,u){return l+3*h*(m-l)+3*h**2*(l+p-2*m)+h**3*(u-l+3*m-3*p)}static EV(h,l,m,p,u,q,v,t,w,y){if(p===
u&&q===v)return h;if(1==h)h=1;else{for(var z=0,F=1,G=y[F];10!=F&&G<=h;)F++,G=y[F],z+=.1;F--;G=y[F];y=z+(h-G)/(y[F+1]-G)*.1;t=t-3*q+3*p-l;q=3*q-6*p+3*l;l=3*(p-l);p=3*t*y*y+2*q*y+l;if(0!==p)if(.02<=p)for(z=0;4>z;++z)y-=(((t*y+q)*y+l)*y-h)/(3*t*y*y+2*q*y+l);else{p=z;z+=.1;F=0;let Q;do y=p+(z-p)/2,G=((t*y+q)*y+l)*y-h,0<G?z=y:p=y,G=1E-7<Math.abs(G),Q=10>++F;while(G&&Q)}h=y}return(((w-3*v+3*u-m)*h+(3*v-6*u+3*m))*h+3*(u-m))*h}static bW(h,l,m,p){const u=[];p=p-3*m+3*l-h;m=3*m-6*l+3*h;h=3*(l-h);for(let q=
0;11>q;++q)l=.1*q,u.push(((p*l+m)*l+h)*l);return u}}}{"use strict";const d=self.B;d.Dga=class{constructor(){this.EQ=[]}m(){this.Ic();this.EQ=null}Ic(){d.daa(this.EQ)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Gaa=this.RI=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Gaa)throw Error(`cannot stop async event '${this.type}' propagation`);this.RI=!0}};
{"use strict";const d=self.B;d.Event.uX=class extends d.ca{constructor(a){super();this.ra=a;this.Me=[];this.kq=new Set;this.Te=[];this.Jq=new Set;this.St=0;this.Vq=[]}m(){0<this.St||(d.D(this.Me),this.kq.clear(),d.D(this.Te),this.Jq.clear(),d.D(this.Vq),d.m(this))}eN(a,b){this.hO()?this.Vq.push({JI:"add",oh:a,capture:b}):b?this.kq.has(a)||(this.Me.push(a),this.kq.add(a)):this.Jq.has(a)||(this.Te.push(a),this.Jq.add(a))}e7(a,b){this.hO()?this.Vq.push({JI:"remove",oh:a,capture:b}):b?this.kq.has(a)&&
(this.kq.delete(a),d.Zo(this.Me,a)):this.Jq.has(a)&&(this.Jq.delete(a),d.Zo(this.Te,a))}r5(){return!this.Me.length&&!this.Te.length}hO(){return 0<this.St}N6(){const a=new Set,b=new Set;for(const e of this.Vq)if("add"===e.JI)this.eN(e.oh,e.capture),e.capture?b.delete(e.oh):a.delete(e.oh);else if("remove"===e.JI)e.capture?(this.kq.delete(e.oh),b.add(e.oh)):(this.Jq.delete(e.oh),a.add(e.oh));else throw Error("invalid op");d.qg(this.Te,a);d.qg(this.Me,b);d.D(this.Vq)}q4(a){this.cq();let b=!1;for(let e=
0,c=this.Me.length;e<c;++e)if(this.Me[e](a),a.RI){b=!0;break}if(!b)for(let e=0,c=this.Te.length;e<c&&(this.Te[e](a),!a.RI);++e);this.aq();return!a.defaultPrevented}s4(a){this.cq();for(let b=0,e=this.Me.length;b<e;++b)this.Me[b](a);for(let b=0,e=this.Te.length;b<e;++b)this.Te[b](a);this.aq();return!0}cq(){this.St++}aq(){this.St--;0===this.St&&0<this.Vq.length&&this.N6()}Op(a){a?this.cq():this.aq()}GN(a){const b=[];this.cq();for(let c=0,g=this.Me.length;c<g;++c){var e=this.Me[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,g=this.Te.length;c<g;++c)e=this.Te[c](a),e instanceof Promise&&b.push(e);this.aq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async n4(a){return await this.GN(a)}async o4(a){this.cq();for(let e=0,c=this.Me.length;e<c;++e){var b=this.Me[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Te.length;e<c;++e)b=this.Te[e](a),b instanceof Promise&&await b;this.aq();return!a.defaultPrevented}*p4(a){this.cq();for(let e=0,c=this.Me.length;e<c;++e){var b=
this.Me[e](a);d.Hl(b)&&(yield*b)}for(let e=0,c=this.Te.length;e<c;++e)b=this.Te[e](a),d.Hl(b)&&(yield*b);this.aq()}}}
{"use strict";const d=self.B;d.Event.Ib=class extends d.ca{constructor(){super();this.jo=new Map;this.EF=!1}m(){if(this.EF)throw Error("already released");this.OT();this.EF=!0;d.m(this)}xx(){return this.EF}OT(){for(let a of this.jo.values())a.m();this.jo.clear()}Qn(a,b){let e=this.jo.get(a);return e?e:b?(e=d.A(d.Event.uX,a),this.jo.set(a,e),e):null}pC(a){return this.jo.has(a)}addEventListener(a,b,e){this.Qn(a,!0).eN(b,!!e)}removeEventListener(a,b,e){let c=this.Qn(a,!1);c&&(c.e7(b,!!e),c.r5()&&this.jo.delete(a))}dispatchEvent(a){const b=
this.Qn(a.type,!1);return b?a.cancelable?b.q4(a):b.s4(a):!0}async qI(a){const b=this.Qn(a.type,!1);return b?await b.n4(a):!0}naa(a){const b=this.Qn(a.type,!1);return b?b.GN(a):!0}async maa(a){const b=this.Qn(a.type,!1);b&&await b.o4(a)}oaa(a){const b=this.Qn(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.p4(a)}Op(a){for(const b of this.jo.values())b.Op(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function g(m){e=a&&0===c?requestIdleCallback(n,{timeout:35}):setTimeout(n,0<c?1:m)}function n(m){e=-1;if(b.length){var p=performance.now(),u=0;do{h(b.shift());var q=performance.now();++u;var v=(q-p)/u*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof m?v<m.timeRemaining():12>q-p+v));-1===e&&b.length&&g(Math.max(16-(q-p),4))}}function h(m){let p;try{p=m.oh()}catch(u){m.reject(u);return}m.resolve(p)}let l=d.ML.Lw("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Uj=function(m){let p=null;d.zr&&(p=d.iw());return new Promise((u,q)=>{b.push({oh:m,resolve:u,reject:q,stack:p});l?h(b.pop()):-1===e&&g(16)})};d.Uj.oM=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.fw=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,g=new Set;function n(){c=e=-1;let h=Date.now();for(let l of g)if(l.R2(h)){let m=l.co;if(-1===c||m<c)c=m}else g.delete(l);-1!==c&&(e=self.setTimeout(n,Math.max(c-h+100,1E3)))}d.TX=class{constructor(h,l){this.jq=h;this.uA=1E3*l;this.co=0;this.yb=!1}$c(){let h=d.fw();this.co=h+this.uA;this.yb||(g.add(this),this.yb=!0);-1===e?(c=this.co,e=self.setTimeout(n,this.uA+
100)):this.co<c&&c>h+1E3&&(self.clearTimeout(e),c=this.co,e=self.setTimeout(n,this.uA+100))}R2(h){return h>=this.co?this.jq()?(this.co=h+this.uA,!0):this.yb=!1:!0}HT(){this.yb&&(g.delete(this),this.yb=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}m(){this.HT();this.jq=null}}}
{"use strict";const d=self.B;d.ae=class a{constructor(b){this.wq=!1;this.FF=b}cw(){this.wq||(this.wq=!0,this.FF&&(this.FF(),this.FF=null))}m(){this.cw()}static m(b){return new a(()=>b.m())}static wg(b,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const n=new d.uB;for(let h of e)b.addEventListener(h,c,g),n.wc(d.A(d.ae,()=>b.removeEventListener(h,c,g)));return n}b.addEventListener(e,
c,g);return d.A(d.ae,()=>b.removeEventListener(e,c,g))}};d.lja=class extends d.ae{};d.uB=class extends d.ae{constructor(...a){super();this.Qd=new Set;for(let b of a)this.wc(b)}wc(...a){if(this.wq)throw Error("already disposed");for(let b of a)this.Qd.add(b)}Eg(a){if(this.wq)throw Error("already disposed");this.Qd.delete(a)}cw(){if(this.wq)throw Error("already disposed");this.wq=!0;for(let a of this.Qd)a.cw();this.Qd.clear();this.Qd=null}m(){this.cw()}}}
{"use strict";const d=self.B;d.Bs=class extends d.ca{constructor(){super();this.br=this.Su=this.J=this.ry=0}wc(a){this.J=+a-this.ry;this.Su=this.br+this.J;this.ry=this.Su-this.br-this.J;this.br=this.Su}Y(){return this.br}$c(){this.br=this.Su=this.J=this.ry=0}Set(a){this.Su=this.J=this.ry=0;this.br=+a}m(){}}}
{"use strict";const d=self.B,a={WC:function(b){this.LS=b;this.left=this.right=this.LS.hb;this.parent=null;this.color=!1;this.key=null},Gn:function(b){this.size=0;this.hb=new a.WC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=this.hb;this.compare=b||this.jaa}};ya=a.Gn.prototype;ya.jaa=function(b,e){return b<e?-1:e<b?1:0};ya.clone=function(){var b=new a.Gn(this.compare);b.Baa(this);return b};ya.clear=function(){this.size=0;this.hb=new a.WC(this);this.hb.color=!1;this.root=this.hb;this.root.parent=
this.hb};ya.tv=function(b){var e=b.right;b.right=e.left;e.left!=this.hb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};ya.Cv=function(b){var e=b.left;b.left=e.right;e.right!=this.hb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.hb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};ya.ur=function(b){if(this.contains(b))this.qv(b).key=b;else{var e=new a.WC(this);e.key=
b;b=this.hb;for(var c=this.root;c!=this.hb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.hb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.hb;e.right=this.hb;e.color=!0;this.Caa(e);this.size++}};ya.Caa=function(b){for(;b!=this.hb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.tv(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.Cv(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Cv(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.hb&&this.tv(b.parent.parent));this.root.color=!1};ya.laa=function(b){var e=b.left==this.hb||b.right==this.hb?b:this.Vm(b);var c=e.left!=this.hb?e.left:e.right;c.parent=e.parent;e.parent==
this.hb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.kaa(c);this.size--};ya.kaa=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.tv(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Cv(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.tv(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.Cv(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.tv(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.Cv(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.qv(b);if(b!=this.hb){var e=b.key;this.laa(b);return e}return null};ya.min=function(b){for(;b.left!=this.hb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.hb;)b=b.right;return b};ya.Vm=function(b){if(b.right!=this.hb)return this.min(b.right);for(var e=b.parent;e!=this.hb&&b==e.right;)b=e,e=e.parent;return e};ya.qv=function(b){for(var e=this.root;e!=this.hb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};ya.contains=function(b){return null!=this.qv(b).key};ya.vI=function(){var b=[];this.forEach(function(e){b.push(e)});return b};ya.Baa=function(b){if("array"==a.gJ(b))for(var e=0;e<b.length;e++)this.ur(b[e]);
else if("function"==a.gJ(b.forEach))b.forEach(this.ur,this);else if("function"==a.gJ(b.vI))for(b=b.vI(),e=0;e<b.length;e++)this.ur(b[e]);else if("object"==a.gJ(b))for(e in b)this.ur(b[e])};ya.range=function(b,e){var c=[];this.Eba(function(g){c.push(g)},b,e);return c};ya.Eba=function(b,e,c){if(!this.Ar())for(e=this.qv(e),c=this.qv(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Vm(e)};ya.forEach=function(b,e){if(!this.Ar())for(var c=this.min(this.root);c!=this.hb;c=this.Vm(c))b.call(e,c.key,c.key,this)};
ya.some=function(b,e){if(this.Ar())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Vm(c))if(b.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(b,e){if(this.Ar())return!1;for(var c=this.min(this.root);c!=this.hb;c=this.Vm(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(b,e){var c=[];if(this.Ar())return c;for(var g=this.min(this.root);g!=this.hb;g=this.Vm(g))c.push(b.call(e,g.key,g.key,this));return c};ya.filter=function(b,e){var c=[];if(this.Ar())return c;
for(var g=this.min(this.root);g!=this.hb;g=this.Vm(g))b.call(e,g.key,g.key,this)&&c.push(g.key);return c};ya.Ar=function(){return 0==this.size};d.Gn=class extends d.ca{constructor(b){super();this.hg=new a.Gn(b);this.zq=!1;this.Lo=new Set;this.Mo=new Set}wc(b){this.zq?this.hg.contains(b)?this.Mo.delete(b):this.Lo.add(b):this.hg.ur(b)}Eg(b){this.zq?this.hg.contains(b)?this.Mo.add(b):this.Lo.delete(b):this.hg.remove(b)}Lw(b){return this.zq?this.Lo.has(b)?!0:!this.Mo.has(b)&&this.hg.contains(b):this.hg.contains(b)}Ic(){this.hg.clear();
this.Lo.clear();this.Mo.clear()}toArray(){if(this.zq)throw Error("cannot be used in queueing mode");return this.hg.vI()}Cl(){return this.hg.size+this.Lo.size-this.Mo.size}wn(){return 0===this.Cl()}Gg(b){b=!!b;if(this.zq!==b&&(this.zq=b,!b)){for(const e of this.Mo)this.hg.remove(e);this.Mo.clear();for(const e of this.Lo)this.hg.ur(e);this.Lo.clear()}}XJ(b){this.hg.forEach(b)}*values(){if(!this.wn()){var b=this.hg;for(let e=b.min(b.root);e!=b.hb;e=b.Vm(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.HL=class{constructor(a=d.hardwareConcurrency){this.i$=a;this.rH=[];this.YE=0}wc(a){return new Promise((b,e)=>{this.rH.push({oh:a,resolve:b,reject:e});this.rO()})}async rO(){if(this.rH.length&&!(this.YE>=this.i$)){this.YE++;var a=this.rH.shift();try{const b=await a.oh();a.resolve(b)}catch(b){a.reject(b)}this.YE--;this.rO()}}}}
{"use strict";const d=self.B;d.E_=class{constructor(a,b,e){this.jq=a;this.T9=b;this.U9=e||2*b;this.gr=-1;this.Cz=-Infinity;this.LR=()=>this.B6();this.B9=this.fG=!1;this.Jt=null}J4(){return"undefined"!==typeof d.wT&&d.wT.Iea()?this.U9:this.T9}qB(...a){if(-1===this.gr){this.Jt=a;a=d.fw();var b=a-this.Cz,e=this.J4();b>=e&&this.B9?(this.Cz=a,this.QO()):this.gr=self.setTimeout(this.LR,Math.max(e-b,4))}}QO(){this.fG=!0;const a=this.Jt;this.Jt=null;a?this.jq(...a):this.jq();this.fG=!1}$c(){this.fG||(this.lN(),
this.Jt=null,this.Cz=d.fw())}B6(){this.gr=-1;this.Cz=d.fw();this.QO()}lN(){-1!==this.gr&&(self.clearTimeout(this.gr),this.gr=-1)}m(){this.lN();this.LR=this.Jt=this.jq=null}}}"use strict";function gc(d,a){if(!d.aQ)throw Error("no get base size callback set");return d.aQ(a)}function hc(d){if(!d.pR)throw Error("no redraw callback set");d.pR()}self.B.Mha=class{constructor(){this.Q9=new Map;this.pR=this.qR=this.aQ=null}};"use strict";
self.B.Lha=class{constructor(d,a){this.Oq=d;this.E9=a;this.sc=0;gc(this.Oq,a).then(()=>{hc(this.Oq)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);hc(this.Oq)});this.sH=null}m(){if(0>=this.sc)throw Error("already released");this.sc--;0===this.sc&&this.qt()}qt(){if(this.sH){var d=this.Oq;if(!d.qR)throw Error("no release result callback set");d.qR(this.sH);this.sH=null}this.Oq.Q9.delete(this.E9);this.Oq=null}};
{"use strict";const d=self.B;d.Fja="\ufeff";const a=new Set([..."0123456789"]);d.QY=function(m){return a.has(m)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Vw=function(m){return b.has(m)};d.Gda=function(m){return[...m].filter(p=>!d.Vw(p)).join("")};d.NC=function(m){for(const p of m)if(!d.Vw(p))return!1;return!0};d.bZ=function(m){return 1===m.length&&32>m.charCodeAt(0)};d.QV=function(m){return[...m].filter(p=>
!d.bZ(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.Pea=function(m){m=m.trim();if(!m.length)return!1;let p=m.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let u of m)if(!e.has(u))return!1;return!0};d.O_=function(m){let p=m.length;for(;0<p&&d.QY(m.charAt(p-1));)--p;return m.substr(0,p)};d.jea=function(m){let p=d.O_(m);m=(m=m.substr(p.length))?(parseInt(m,10)+1).toString():"2";return p+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(m){return c.get(m)}
const n=/[&<>"']/g;d.IV=function(m){return m.replace(n,g)};d.wda=function(m){m=d.Nh(m,"\\","\\\\");m=d.Nh(m,'"','\\"');m=d.Nh(m,"\t","\\t");m=d.Nh(m,"\r","");return d.Nh(m,"\n","\\n")};d.xda=function(m){m=d.Nh(m,"&","&amp;");m=d.Nh(m,"<","&lt;");m=d.Nh(m,">","&gt;");return d.Nh(m,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Vr=function(m){return m.replace(h,"\\$&")};d.Hda=function(m,p,u=!1){if(!p)return[];u||(m=m.toLowerCase(),p=p.toLowerCase());u=p.length;var q=0;let v=[];for(;-1<(q=m.indexOf(p,
q));)v.push(q),q+=u;return v};d.Nh=function(m,p,u){return m.replaceAll(p,()=>u)};d.Mga=function(m,p,u){return m.replace(new RegExp(d.Vr(p),"gi"),()=>u)};d.fia=function(m,p){"string"===typeof p?m.textContent=p:p.zQ?m.textContent=p.toString():(m.innerHTML=p.cJ(),p instanceof d.wl&&p.Y$(m))};d.gja=function(m,p){return m instanceof d.uC||m instanceof d.wl?m.Nc(p):p instanceof d.uC||p instanceof d.wl?p.Nc(m):m===p};d.hja=function(m,...p){let u=m;for(let q=0,v=p.length;q<v;++q){const t=`{${q}}`;if(!m.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
u=u.replace(t,p[q].toString())}return u};d.ija=function(m,...p){let u=m,q=-1,v=-1;for(let t=0,w=p.length;t<w;++t){const y=`{${t}}`;m.includes(y)?(v=t,u=u.replace(y,p[t].toString())):-1===q&&(q=t)}if(0<=q&&0<=v&&q<v)throw Error(`missing placeholder '${q}' in string substitution`);return u};d.jja=function(m,p){for(let [u,q]of Object.entries(p))m=m.replaceAll(u,q.toString());return m};d.Ria=function(m,p){m=m.toLowerCase();p=p.toLowerCase();return m>p?1:m<p?-1:0};d.Kda=function(m,p){p="common."+(p?"dataRates":
"dataSizes")+".";const u=self.Bla;if(1024>m)return u(p+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),u(p+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return u(p+"terabytes",m)};const l={V$:!1,gaa:!0,Aaa:!0,Waa:!0,CS:!0};d.Lda=function(m,p){p=Object.assign({},
l,p);d.eZ.Ega("common.time");const u=[],q=self.lang,v=self.Ala;if(p.gaa){var t=Math.floor(m/86400);0<t&&(m-=86400*t,u.push(v(".days",null,t)))}p.Aaa&&(t=Math.floor(m/3600),0<t||u.length)&&(m-=3600*t,u.push(v(".hours",null,t)));p.Waa&&(t=Math.floor(m/60),0<t||u.length||!p.CS)&&(m-=60*t,u.push(v(".minutes",null,t)));p.CS&&u.push(v(".seconds",null,Math.floor(m%60)));m=(p.V$?q(".approx-prefix"):"")+u.join(q(".separator"));d.eZ.zga();return m};d.eka=function(m,p){let u=0>m?"-":"";m=Math.abs(m);m=m.toString();
p-=m.length;for(let q=0;q<p;++q)u+="0";return u+m};d.kja=function(m){return m.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.eda=function(m,p){m=m.split(".").map(u=>u.trim());p=p.split(".").map(u=>u.trim());d.AS(m);d.AS(p);m=m.map(u=>parseInt(u,10));p=p.map(u=>parseInt(u,10));for(let u=0;4>u;++u){const q=m[u]-p[u];if(0!==q)return 0>q?-1:1}return 0};d.lda=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,m=>{const p=Math.floor(16*Math.random());return("x"===m?p:p&3|8).toString(16)})};
d.eja=function(m,p){if(m.length!==p.length)throw Error("strings must be same length");let u=0;for(let q=0,v=m.length;q<v;++q)m.charAt(q)!==p.charAt(q)&&++u;return u};d.fja=function(m,p){if(0===m.length)return p.length;if(0===p.length)return m.length;let u,q,v,t;if(m.length>p.length){var w=m;m=p;p=w}t=Array(m.length+1);for(w=0;w<=m.length;w++)t[w]=w;for(w=1;w<=p.length;w++){q=w;for(u=1;u<=m.length;u++)v=p[w-1]===m[u-1]?t[u-1]:Math.min(t[u-1]+1,Math.min(q+1,t[u]+1)),t[u-1]=q,q=v;t[m.length]=q}return t[m.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,g=0;function n(l,m,p){var u=a.get(p);if(u){if("string"===typeof u){if("a"!==u||m)return"<"+m+u+">";m=parseInt(p.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");u=c[m];if("string"===typeof u)return`<a href="${c[m]}">`;if("function"===typeof u)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(u))return l=u[0],u=u[1],m?"</"+l+">":`<${l} class="${u}">`}else return"class"===p?m?"</span>":
`<span class="bbclass${g++}">`:l}const h=/\n/g;d.wl=class{constructor(l,m){this.Ng=m&&m.Zaa?l:d.IV(l);this.eG="";this.GP=!1;this.su=[];if(m&&(this.GP=!!m.yka,m.links)){if(9<m.links.length)throw Error("too many links");this.su=m.links}this.fQ=this.Ng.includes("[");this.dR=this.GP&&this.Ng.includes("\n");this.zQ=!this.fQ&&!this.dR&&!this.Ng.includes("&");this.jQ=!1;this.Tt=[]}toString(){return this.Ng}valueOf(){return this.Ng}cJ(){if(this.zQ)return this.Ng;if(!this.eG&&this.Ng){let l=this.Ng;this.fQ&&
(g=0,c=this.su,l=l.replace(b,n),c=null);this.dR&&(l=l.replace(h,"<br>"));this.eG=l}return this.eG}Y$(l){if(this.su.length)for(let m=0,p=this.su.length;m<p;++m){const u=this.su[m];if("function"!==typeof u)continue;const q=l.querySelector(".bblink"+m);if(!q)throw Error("unable to attach BBString link handler");q.onclick=u}}Nc(l){return l instanceof d.uC?this.cJ()===l.cJ():l instanceof d.wl?this.Ng===l.Ng:this.Ng===l}Aba(){if(this.jQ)return this.Tt;const l=this.Ng,m=[];let p=e.lastIndex=0;for(var u;null!==
(u=e.exec(l));){var q=u.index;if(0<q&&"\\"===l.charAt(q-1))continue;var v=u[1],t=u[2];const w=l.substring(p,q);p=q+u[0].length;w&&this.Tt.push({text:w,Oc:m.slice(0)});if(t)if(v)for(t=t.toLowerCase(),u=m.length-1;0<=u;--u){if(m[u].tag===t){m.splice(u,1);break}}else u=t,q=null,v=t.indexOf("="),-1!==v?(u=t.substring(0,v).toLowerCase(),q=t.substring(v+1)):u=u.toLowerCase(),m.push({tag:u,ph:q})}p<l.length&&this.Tt.push({text:l.substring(p),Oc:m.slice(0)});for(const w of this.Tt)w.text=this.M6(w.text);
this.jQ=!0;return this.Tt}M6(l){l=d.Nh(l,"\\[","[");return d.Nh(l,"\\\\","\\")}static LM(l){return l.replace(e,"")}}}
{"use strict";const d=self.B;d.ND=class{constructor(){this.lm=[]}tO(a,b){let e=0,c=0,g=0,n=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.Oc),l.width=a.width,l.height=a.height,l.Hf=a.Hf||0,l.bf=a.bf||0,l.df=a.df||0),e+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.Hf),n=Math.max(n,l.bf),h=Math.max(h,l.df);return{width:e,height:c,Hf:g,bf:n,df:h}}zx(a,b,e,c,g,n){this.lm.push({iS:a,width:b,height:e,Hf:c,bf:g,df:n})}ND(a,b,e,c,g){"string"===typeof a&&(a=[{text:a,Oc:[]}]);d.D(this.lm);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var n=a[0];const h=n.text;n=n.Oc;if(100>=h.length&&!h.includes("\n")){let {width:l,height:m,Hf:p,bf:u,df:q}=b(h,n);l+=g;p=p||0;u=u||0;q=q||0;if(l<=e){this.zx([{text:h,Oc:n,width:l,height:m,Hf:p,bf:u,df:q}],l,m,p,u,q);return}}}if("word"===c)c=this.M8(a);else{c=[];for(const h of a)d.Km(c,[...h.text].map(l=>[{text:l,Oc:h.Oc}]))}this.h9(c,b,e,g)}}M8(a){const b=[];let e=[],c=!1;for(const n of a){var g=n.text;a=n.Oc;for(const h of g)"\n"===h?(0<e.length&&
b.push(e),b.push([{text:"\n",Oc:a}]),e=[]):0===e.length?(e.push({text:h,Oc:a}),c=d.Vw(h)):(g=d.Vw(h),g===c?(g=e.Yd(-1),g.Oc===a?g.text+=h:e.push({text:h,Oc:a})):(b.push(e),e=[],e.push({text:h,Oc:a}),c=g))}0<e.length&&b.push(e);return b}U2(a){return a.map(b=>({text:b.text,Oc:b.Oc,width:b.width,height:b.height,Hf:b.Hf,bf:b.bf,df:b.df}))}jN(a,b){var e=a.length?a.Yd(-1):null;let c=0;e&&b[0].Oc===e.Oc&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.Hf=-1,e.bf=-1,e.df=-1,c=1);for(e=b.length;c<e;++c){const g=
b[c];a.push({text:g.text,Oc:g.Oc,width:-1,height:-1,Hf:-1,bf:-1,df:-1})}}h9(a,b,e,c){let g=[],n=0,h=0,l=0,m=0;var p=0;for(const u of a){if(1===u.length&&"\n"===u[0].text){0===h&&(p=b(" ",u[0].Oc),h=p.height,l=p.Hf||0,m=p.bf||0,p=p.df||0);this.zx(g,n,h,l,m,p);g=[];p=m=l=h=n=0;continue}a=this.U2(g);this.jN(a,u);const q=this.tO(a,b),v=q.width;v>=e?(0<g.length&&this.zx(g,n,h,l,m,p),g=[],d.NC(u[0].text)?p=m=l=h=n=0:(this.jN(g,u),p=this.tO(g,b),n=p.width,h=p.height,l=p.Hf,m=p.bf,p=p.df)):(g=a,n=v,h=q.height,
l=q.Hf,m=q.bf,p=q.df)}0<g.length&&this.zx(g,n,h,l,m,p);this.P8(b,c)}P8(a,b){for(const c of this.lm){const g=c.iS;if(!g.length)continue;let n=g.Yd(-1);var e=n.text;const h=e.trimEnd();if(!h)c.width-=n.width,g.pop();else if(h.length<e.length){e=a(h,n.Oc).width;const l=n.width-e;n.width=e;n.text=h;c.width-=l}0!==b&&0<g.length&&(n=g.Yd(-1),n.width+=b,c.width+=b)}}Ic(){d.D(this.lm)}UW(){return this.lm.reduce((a,b)=>Math.max(a,b.width),0)}mX(){return this.lm.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.B,a=self.Sj,b=a.cB,e=a.Hv,c=a.Qm,g=b.create(),n=b.create(),h=b.create(),l=e.create(),m=c.create(),p=b.create(),u=b.create(),q=b.create(),v=b.create(),t=b.create(),w=b.create(),y=b.create(),z=b.create(),F=e.cf(0,0,1,1);d.U={v_(H,J,M,P,R,V,Z){const ca=P[0]*H+P[4]*J+P[8]*M+P[12],Y=P[1]*H+P[5]*J+P[9]*M+P[13],ha=P[2]*H+P[6]*J+P[10]*M+P[14];P=P[3]*H+P[7]*J+P[11]*M+P[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*P;J=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*P;M=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*P;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*P;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*V[2]+V[0];Z[1]=(J*R*.5+.5)*V[3]+V[1];Z[2]=.5*(1+M*R);return!0},mj(H,J,M,P,R,V,Z){c.multiply(m,R,P);if(null===c.yr(m,m))return!1;l[0]=(H-V[0])/V[2]*2-1;l[1]=(J-V[1])/V[3]*2-1;l[2]=2*M-1;l[3]=1;e.eJ(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},S1(H,J,M,P,R,V,Z){if(!d.U.mj(H,J,0,P,R,V,g)||!d.U.mj(H,J,1,P,R,V,n))return!1;b.tl(n,n,g);b.set(h,0,0,1);H=-M;J=b.Nm(h,n);M=0;if(0===J){if(0!==
b.Nm(h,g)+H)return!1}else if(M=-(b.Nm(g,h)+H)/J,0>M)return!1;b.WI(Z,g,n,M);return!0}};function G(H,J,M,P){b.tl(g,M,J);b.tl(n,H,J);b.oI(h,g,n);b.normalize(h,h);P.set(h[0],h[1],h[2],b.Nm(H,h))}function Q(H,J,M,P,R,V,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.QS,Oa=Z.RS;Z=Z.SS;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*P*ab+Y*J*Oa+Y*R*Ua+ha*M*Z+ha*V*bb>=ka?!0:ca*P*za+ca*H*ab+Y*R*Oa+Y*J*Ua+ha*V*Z+ha*M*bb>ka}class D{constructor(){this.SS=this.RS=this.QS=this.w=this.z=this.y=this.x=NaN}set(H,J,M,P){this.x=
H;this.y=J;this.z=M;this.w=P;this.QS=0<H?1:0;this.RS=0<J?1:0;this.SS=0<M?1:0}}d.U.a2=class{constructor(){this.RQ=new D;this.MR=new D;this.tR=new D;this.BP=new D;this.cR=new D;this.VP=new D}FT(H,J){d.U.mj(0,1,0,H,J,F,p);d.U.mj(1,1,0,H,J,F,u);d.U.mj(0,0,0,H,J,F,q);d.U.mj(1,0,0,H,J,F,v);d.U.mj(0,1,1,H,J,F,t);d.U.mj(1,1,1,H,J,F,w);d.U.mj(0,0,1,H,J,F,y);d.U.mj(1,0,1,H,J,F,z);G(q,p,t,this.RQ);G(p,u,w,this.MR);G(u,v,z,this.tR);G(v,q,y,this.BP);G(y,t,w,this.VP);G(v,u,p,this.cR)}cU(H,J,M,P,R,V){return Q(H,
J,M,P,R,V,this.RQ)&&Q(H,J,M,P,R,V,this.MR)&&Q(H,J,M,P,R,V,this.tR)&&Q(H,J,M,P,R,V,this.BP)&&Q(H,J,M,P,R,V,this.cR)&&Q(H,J,M,P,R,V,this.VP)}}}
{"use strict";const d=self.B,a=self.Sj,b=a.cB,e=a.Hv,c=a.Qm,g=c.create(),n=b.cf(0,0,0),h=b.cf(0,0,0),l=b.cf(0,0,0),m=b.cf(0,1,0);e.cf(0,0,0,0);new d.md;new d.Rect;const p=new d.md(0,0,1,0,1,1,0,1);d.U.R_=class{constructor(){this.O=this.S=0;this.N9=d.qb(45);this.LH=Math.tan(this.N9/2);this.Oz=c.create();this.UG=c.create();this.Wn=[];this.hA=new Map;this.BH=this.lA=this.mA=null;this.Qu=new Map;this.ii=null;this.pF=[];this.bR=new Map;this.Pt=this.Ft=0;this.e$=this.f$=1;this.OG=.5;this.Vg=0;this.yq=!0;
this.cG=!1}PV(u){let q=0,v=u.length,t=0;for(;q<v;)u[q++]=t,u[q++]=t+1,u[q++]=t+2,u[q++]=t,u[q++]=t+2,u[q++]=t+3,t+=4}nN(){this.Pt=this.Ft=0;this.BH=this.lA=this.mA=null;this.S2()}Qw(){this.nN();this.ii=null}PZ(){for(const u of this.Wn)u.m();this.nN()}ba(){return this.S}aa(){return this.O}Sr(u,q,v=.5,t=.5){v=1-v;const w=1*this.LH;q*=w;c.taa(u,(2*v-2)*q,2*v*q,(2*t-2)*w,2*t*w,1,1E4)}ET(u,q,v){const t=self.devicePixelRatio,w=200*t*this.LH/v;q=q*w/(2*t);v=v*w/(2*t);c.cba(u,-q,q,-v,v,1,1E4)}rJ(u,q,v,t,
w=this.jC()){w=200*self.devicePixelRatio*this.LH/w;b.set(l,w,-w,1);b.multiply(n,q,l);b.multiply(h,v,l);c.Taa(u,n,h,t||m);c.scale(u,u,l)}Rr(u,q,v,t,w,y){b.set(n,u,q,v);b.set(h,t,w,0);this.rJ(g,n,h,m,y);return g}z2(u){this.Wn.push(u);this.hA.set(u.wa(),u)}g7(u){const q=this.Wn.indexOf(u);-1!==q&&this.Wn.splice(q,1);this.hA.delete(u.wa())}S2(){d.D(this.Wn);this.hA.clear()}CK(u){return this.hA.get(u)||null}Sh(){this.Tl(this.mA)}gM(){this.Tl(this.BH)}Z7(u){this.ii=u}US(u,q,v,t){const w=d.U.GD.lL(u,q,v,
t);let y=this.Qu.get(w);y||(y=d.A(d.U.GD,this,u,q,v,t),this.Qu.set(w,y));y.hT();return y}OL(u){u.xU();0===u.sc&&(this.ii===u&&(this.ii=null),this.Qu.delete(u.NW()),u.m())}b5(u){d.D(this.pF);this.bR.clear();for(const q of u){u=q[0];const v=q[1],t=q[2];this.pF.push([v,t]);this.bR.set(u,{bna:v,Gka:t})}}C4(u){return this.pF[u]}Ks(u){this.Ft=u}Pl(u){this.Pt=u;this.ii=null}Yw(u,q,v,t,w,y){var z=this.OG;u=u+z-y;q=q+z-w;v=v+z+y;t=t+z+w;z=2*y;const F=2*w;this.cx(u+w,q-y,0,v+w,t-y,0,v-w-z,t+y-F,0,u-w+z,q+y+
F,0,p)}Xw(u,q,v,t,w,y){const z=this.OG;u=u+z-y;q=q+z-w;v=v+z+y;t=t+z+w;this.cx(u+w,q-y,0,v+w,t-y,0,v-w,t+y,0,u-w,q+y,0,p)}Ww(u,q,v,t,w,y){const z=this.OG;u+=z;q+=z;v+=z;t+=z;this.cx(u+w,q-y,0,v+w,t-y,0,v-w,t+y,0,u-w,q+y,0,p)}gZ(u,q,v,t){const w=.5*this.f$,y=this.e$;2===y?this.x5(u,q,v,t,w):1===y?this.w5(u,q,v,t,w):this.v5(u,q,v,t,w)}x5(u,q,v,t,w){this.Yw(u,q,v,q,0,w);this.Yw(v,q,v,t,w,0);this.Yw(v,t,u,t,0,-w);this.Yw(u,t,u,q,-w,0)}w5(u,q,v,t,w){this.Xw(u,q,v,q,0,w);this.Xw(v,q,v,t,w,0);this.Xw(v,
t,u,t,0,-w);this.Xw(u,t,u,q,-w,0)}v5(u,q,v,t,w){this.Ww(u,q,v,q,0,w);this.Ww(v,q,v,t,w,0);this.Ww(v,t,u,t,0,-w);this.Ww(u,t,u,q,-w,0)}gL(u){this.gZ(u.M,u.K,u.$,u.V)}Zr(){this.zh();this.Vg++}XX(){this.Vg++}qD(u){this.yq=!!u}N0(u){this.cG=!!u}As(){return!1}}}
{"use strict";const d=self.B;d.U.GD=class{constructor(a,b,e,c,g){this.qa=a;this.sc=0;this.bb=null;this.Ku="";this.am=e;this.Ya=d.A(d.Wa);this.Ya.set(c);this.Gc=g;"string"===typeof b?this.Ku=b:(this.bb=b,this.Ku=this.bb.wa())}m(){if(0<this.sc)throw Error("releasing state group still in use");this.bb=this.qa=null;this.Ku=""}oT(){const a=this.qa;a.Tl(this.bb);a.tf(this.am);a.Nl(this.Ya);a.Pl(this.Gc);a.Z7(this)}NW(){return d.U.GD.lL(this.Ku,this.am,this.Ya,this.Gc)}hT(){++this.sc}xU(){--this.sc}pk(){this.bb=
null}TC(a){this.bb=a.CK(this.Ku);if(!this.bb)throw Error("failed to restore shader program");}static lL(a,b,e,c){return("string"===typeof a?a:a.wa())+","+b+","+e.Pa+","+e.Sa+","+e.Ra+","+e.Qa+","+c}}}
{"use strict";const d=self.B,a=d.A(d.md);function b(e,c,g){const n=g.ob,h=g.pb;return[n+(g.Vb-n)*e+(g.Pb-n)*c,h+(g.Wb-h)*e+(g.Qb-h)*c]}d.U.wZ=class{constructor(e){this.YG=e;this.pg=this.ng=this.Gc=this.J=this.N=0}Yh(e,c,g,n){this.N=e;this.J=c;this.ng=g;this.pg=n}ia(){return this.N}Ig(e){this.N!==e&&(this.N=e,this.YG.IE())}ja(){return this.J}Jg(e){this.J!==e&&(this.J=e,this.YG.IE())}Va(){return this.Gc}Ke(e){this.Gc!==e&&(this.Gc=Math.max(e,0),this.YG.IE())}xD(e){this.ng=e}yD(e){this.pg=e}n5(e,c,g){[this.N,
this.J]=b(e.N,e.J,c);this.Gc=e.Gc;this.ng=d.Hd(g.M,g.$,e.ng);this.pg=d.Hd(g.K,g.V,e.pg)}m5(e,c,g){[this.N,this.J]=b(e.N,e.J,c);this.Gc=e.Gc;[this.ng,this.pg]=b(e.ng,e.pg,g)}nd(){return{x:this.ia(),y:this.ja(),z:this.Va(),u:this.ng,v:this.pg}}Zc(e){this.Ig(e.x);this.Jg(e.y);e.hasOwnProperty("z")&&this.Ke(e.z);this.xD(e.u);this.yD(e.v)}};d.U.oL=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.Aj=e;this.Lj=c;this.Mb=g||null;this.rm=[];this.ZQ=this.YQ=0;this.VQ=this.UQ=1;this.WQ=
0;this.mH=!1;g=e-1;const n=c-1;for(let h=0;h<c;++h){const l=[];for(let m=0;m<e;++m){const p=d.A(d.U.wZ,this,m,h),u=m/g,q=h/n;p.Yh(u,q,u,q);l.push(p)}this.rm.push(l)}}m(){d.D(this.rm)}IE(){this.mH=!0}lt(){if(this.mH){var e=Infinity,c=Infinity,g=-Infinity,n=-Infinity,h=0;for(const l of this.rm)for(const m of l){const p=m.ia(),u=m.ja();e=Math.min(e,p);c=Math.min(c,u);g=Math.max(g,p);n=Math.max(n,u);h=Math.max(h,m.Va())}this.YQ=e;this.ZQ=c;this.UQ=g;this.VQ=n;this.WQ=h;this.mH=!1}}YW(){this.lt();return this.YQ}ZW(){this.lt();
return this.ZQ}VW(){this.lt();return this.UQ}WW(){this.lt();return this.VQ}XW(){this.lt();return this.WQ}rp(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Aj||0>c||c>=this.Lj?null:this.rm[c][e]}sJ(e,c,g){const n=g instanceof d.Rect;if(e.Aj!==this.Aj||e.Lj!==this.Lj)throw Error("source mesh wrong size");e=e.rm;const h=this.rm;for(let l=0,m=h.length;l<m;++l){const p=e[l],u=h[l];for(let q=0,v=u.length;q<v;++q){const t=p[q],w=u[q];n?w.n5(t,c,g):w.m5(t,c,g)}}}gf(e){const c=this.rm;let g=c[0];
for(let n=1,h=c.length;n<h;++n){const l=c[n];let m=g[0],p=l[0];for(let u=1,q=l.length;u<q;++u){const v=g[u],t=l[u];a.set(m.ng,m.pg,v.ng,v.pg,t.ng,t.pg,p.ng,p.pg);e.cx(m.ia(),m.ja(),m.Va(),v.ia(),v.ja(),v.Va(),t.ia(),t.ja(),t.Va(),p.ia(),p.ja(),p.Va(),a);m=v;p=t}g=l}}AY(e){e=e.td;const c=[],g=this.Aj-1,n=this.Lj-1,h=1/g,l=1/n,m=g-1,p=n-1;let u=e[0],q=e[1],v=d.ea(Math.floor(u*g),0,m),t=d.ea(Math.floor(q*n),0,p),w=0,y=0,z=0;var F=-1;const G=()=>{u=d.ea(d.Hd(u,w,z),0,1);q=d.ea(d.Hd(q,y,z),0,1);c.push(u,
q)};for(let Q=0,D=e.length;Q<D;Q+=2)for(u=e[Q],q=e[Q+1],c.push(u,q),v=d.ea(Math.floor(u*g),0,m),t=d.ea(Math.floor(q*n),0,p),F=(Q+2)%D,w=e[F],y=e[F+1],F=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*h,J=t*l,M=(v+1)*h,P=(t+1)*l;if(0!==F&&(z=d.Av(u,q,w,y,H,J,M,P,-.001),0<=z&&.99999999>=z)){G();F=0;continue}if(0<t&&2!==F&&(z=d.Av(u,q,w,y,H,J,M,J,.001),0<=z&&.99999999>=z)){G();t--;F=4;continue}if(v<m&&3!==F&&(z=d.Av(u,q,w,y,M,J,M,P,.001),0<=z&&.99999999>=z)){G();v++;F=1;continue}if(0<
v&&1!==F&&(z=d.Av(u,q,w,y,H,J,H,P,.001),0<=z&&.99999999>=z)){G();v--;F=3;continue}if(t<p&&4!==F&&(z=d.Av(u,q,w,y,H,P,M,P,.001),0<=z&&.99999999>=z)){G();t++;F=2;continue}break}return d.A(d.Xm,c)}N1(e,c){e=this.N8(e);this.E8(e);c.XA(e)}N8(e){const c=[];e=e.td;for(let g=0,n=e.length;g<n;g+=2){const [h,l]=this.QM(e[g],e[g+1]);c.push(h,l)}return c}QM(e,c){var g=this.Aj-1,n=this.Lj-1;const h=1/g,l=1/n;g=d.ea(Math.floor(e*g),0,g-1);const m=d.ea(Math.floor(c*n),0,n-1);n=g*h;const p=m*l,u=(g+1)*h,q=(m+1)*
l,v=this.rp(g,m),t=this.rp(g+1,m+1),w=d.Iaa(e,c,n,p,u,p,u,q);g=this.rp(g+(w?1:0),m+(w?0:1));const [y,z,F]=d.Gba(e,c,n,p,w?n+h:n,w?p:p+l,u,q);return d.Fba(y,z,F,v.ia(),v.ja(),g.ia(),g.ja(),t.ia(),t.ja())}E8(e){const c=[];let g=e[0],n=e[1],h=g-e.Yd(-2),l=n-e.Yd(-1);for(let p=0,u=e.length;p<u;p+=2){var m=(p+2)%u;const q=e[m];m=e[m+1];const v=q-g,t=m-n,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(v)===Math.sign(h);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(h)&&Math.sign(t)===Math.sign(l)||w)&&1E-7<Math.abs(v/
h-t/l)||0==v&&0===t)&&c.push(g,n);g=q;n=m;h=v;l=t}6<=c.length&&c.length<e.length&&d.vc(e,c)}nd(){return{cols:this.Aj,rows:this.Lj,points:this.rm.map(e=>e.map(c=>c.nd()))}}Zc(e){const c=this.Aj,g=this.Lj;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let n=0;n<g;++n){const h=e[n];for(let l=0;l<c;++l)this.rp(l,n).Zc(h[l])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(m,p){let u,q;switch(m){case "rgba8":m=p.RGBA8;q=u=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":m=p.RGB8;q=u=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":m=p.RGBA4;q=u=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=p.RGB5_A1;q=u=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=p.RGB565;q=u=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{$I:m,xr:u,format:q,type:p}}const n={eB:"clamp-to-edge",fB:"clamp-to-edge",Oi:"trilinear",XR:0,LI:"rgba8",RA:!0,xv:"default",premultiplyAlpha:!0,oS:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.U.yx=class{constructor(m){this.qa=m;this.ib=null;this.O=this.S=0;this.Xg=!0;this.nr=this.mr="clamp-to-edge";this.Vc="trilinear";this.fF=0;this.pm="rgba8";this.Mk=!1;this.Eo=
"default";this.sc=0}k3(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");p=Object.assign({},n,p);if(this.ib)throw Error("already created texture");this.mr=p.eB;this.nr=p.fB;
this.Vc=p.Oi;this.fF=p.XR;this.pm=p.LI;this.Mk=!!p.RA&&this.qa.yq;this.Eo=p.xv;if(!c.has(this.mr)||!c.has(this.nr))throw Error("invalid wrap mode");if(!b.has(this.Vc))throw Error("invalid sampling");if(!a.has(this.pm))throw Error("invalid pixel format");if(!e.has(this.Eo))throw Error("invalid mipmap quality");this.Xg=!0;if(m instanceof ArrayBuffer||null===m||p.oS){if(this.S=p.width,this.O=p.height,m instanceof ArrayBuffer&&m.byteLength!==this.S*this.O*4)throw Error("ArrayBuffer wrong size");}else this.S=
m.width,this.O=m.height;if(0>=this.S||0>=this.O)throw Error("invalid texture data size");if(p.oS){var u=d.tg(this.S,this.O);u.getContext("2d").drawImage(m,0,0,this.S,this.O);m=u}var q=d.Tj(this.S)&&d.Tj(this.O);u=this.qa.Pz;if(this.S>u||this.O>u)throw Error("texture data exceeds maximum texture size");u=this.qa.P;var v=this.qa.gd;this.ib=u.createTexture();u.bindTexture(u.TEXTURE_2D,this.ib);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.pm,u);if(this.qa.Ln()||q||!this.mE())2<=v?(u.texStorage2D(u.TEXTURE_2D,this.Mk?Math.floor(Math.log2(Math.max(this.S,this.O))+1):1,p.$I,this.S,this.O),m instanceof ArrayBuffer?u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.S,this.O,p.format,p.type,new Uint8Array(m)):null!==m&&u.texSubImage2D(u.TEXTURE_2D,0,0,0,p.format,p.type,m)):m instanceof ArrayBuffer?u.texImage2D(u.TEXTURE_2D,0,p.xr,this.S,this.O,0,p.format,p.type,new Uint8Array(m)):null===m?u.texImage2D(u.TEXTURE_2D,0,p.xr,this.S,this.O,0,p.format,
p.type,null):u.texImage2D(u.TEXTURE_2D,0,p.xr,p.format,p.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.S,this.O));m instanceof ImageData&&(q=d.tg(this.S,this.O),q.getContext("2d").putImageData(m,0,0),m=q);q=d.tg(d.GI(this.S),d.GI(this.O));v=q.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.Vc;v.drawImage(m,0,0,this.S,this.O,0,0,q.width,q.height);
u.texImage2D(u.TEXTURE_2D,0,p.xr,p.format,p.type,q)}null!==m&&this.eP(u);u.bindTexture(u.TEXTURE_2D,null);this.qa.AE();this.sc=1;l.add(this)}W2(m,p,u){u=Object.assign({},n,u);if(this.ib)throw Error("already created texture");this.mr=u.eB;this.nr=u.fB;this.Vc=u.Oi;this.pm=u.LI;this.Mk=!!u.RA&&this.qa.yq;this.Eo=u.xv;if(!c.has(this.mr)||!c.has(this.nr))throw Error("invalid wrap mode");if(!b.has(this.Vc))throw Error("invalid sampling");if(!a.has(this.pm))throw Error("invalid pixel format");if(!e.has(this.Eo))throw Error("invalid mipmap quality");
this.Xg=!1;this.S=Math.floor(m);this.O=Math.floor(p);m=d.Tj(this.S)&&d.Tj(this.O);p=this.qa.Pz;if(0>=this.S||0>=this.O)throw Error("invalid texture size");if(this.S>p||this.O>p)throw Error("texture exceeds maximum texture size");if(!this.qa.Ln()&&this.mE()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.qa.P;p=this.qa.gd;this.ib=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.ib);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);u=g(this.pm,m);m.texImage2D(m.TEXTURE_2D,0,2<=p?u.$I:u.xr,this.S,this.O,0,u.format,u.type,null);this.eP(m);m.bindTexture(m.TEXTURE_2D,null);this.qa.AE();this.sc=1;l.add(this)}jE(m){if("default"===this.Eo)return this.Xg?m.NICEST:m.FASTEST;if("low"===this.Eo)return m.FASTEST;if("high"===this.Eo)return m.NICEST;throw Error("invalid mipmap quality");}mE(){return"clamp-to-edge"!==this.mr||"clamp-to-edge"!==this.nr}WN(m,p){if("clamp-to-edge"===p)return m.CLAMP_TO_EDGE;if("repeat"===p)return m.REPEAT;
if("mirror-repeat"===p)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}eP(m){var p=d.Tj(this.S)&&d.Tj(this.O);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.WN(m,this.mr));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.WN(m,this.nr));"nearest"===this.Vc?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.Mk=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(p||this.qa.Ln())&&this.Mk?(m.hint(m.GENERATE_MIPMAP_HINT,
this.jE(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.Vc||this.qa.cG?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.Mk=!1));(p=this.qa.Bt)&&0<this.fF&&"nearest"!==this.Vc&&m.texParameterf(m.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.fF,this.qa.WG))}oP(m,p){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.ib||0>=this.sc)throw Error("texture not created");if(this.Xg)throw Error("cannot update static texture");p=Object.assign({},h,p);const u=m.width||m.videoWidth,q=m.height||m.videoHeight;var v=this.qa.gd;
const t=this.qa.P;t.bindTexture(t.TEXTURE_2D,this.ib);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.pm,t);v=2<=v?p.$I:p.xr;try{if(this.S===u&&this.O===q){const w=d.Tj(this.S)&&d.Tj(this.O);t.texSubImage2D(t.TEXTURE_2D,0,0,0,p.format,p.type,m);(w||this.qa.Ln())&&this.Mk&&(t.hint(t.GENERATE_MIPMAP_HINT,this.jE(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.S=u;this.O=q;const w=d.Tj(this.S)&&d.Tj(this.O);if(!this.qa.Ln()&&this.mE()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,v,p.format,p.type,m);(w||this.qa.Ln())&&this.Mk&&(t.hint(t.GENERATE_MIPMAP_HINT,this.jE(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.qa.AE()}$D(){if(0<this.sc)throw Error("texture still has references");if(!this.ib)throw Error("already deleted texture");l.delete(this);this.qa.P.deleteTexture(this.ib);this.ib=null}jb(){return this.qa}H1(){if(0>=
this.sc)throw Error("no more references");this.sc--}ba(){return this.S}aa(){return this.O}UB(){let m=this.S*this.O;switch(this.pm){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.Mk&&(m+=Math.floor(m/3));return m}static pk(){l.clear()}static Q$(){return l.values()}}}
{"use strict";const d=self.B,a=self.Sj.Qm,b=new Set(["nearest","bilinear","trilinear"]),e={Oi:"trilinear",alpha:!0,depth:!1,AI:!0,mS:!0,Xaa:0},c=new Set;d.U.MD=class{constructor(g){this.qa=g;this.$k=this.ib=this.oi=null;this.O=this.S=0;this.hu=!0;this.Vc="trilinear";this.iq=!0;this.qe=!1;this.ju=!0;this.Uk=0;this.Ho=a.create()}V2(g,n,h){h=Object.assign({},e,h);const l=this.qa.gd;if(this.ib||this.$k)throw Error("already created render target");this.Vc=h.Oi;this.iq=!!h.alpha;this.qe=!!h.depth;this.ju=
!!h.AI;this.hu=!!h.mS;this.Uk=h.Xaa;if(!b.has(this.Vc))throw Error("invalid sampling");if(0<this.Uk&&(2>l||this.ju))throw Error("invalid use of multisampling");2>l&&(this.ju=!0);this.S=g;this.O=n;if(0>=this.S||0>=this.O)throw Error("invalid render target size");this.kN();g=this.qa.P;this.oi=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,this.oi);this.ju?(this.ib=this.qa.GJ(this.S,this.O,{Oi:this.Vc,LI:this.iq?"rgba8":"rgb8",RA:!1}),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,
this.ib.ib,0)):(this.$k=g.createRenderbuffer(),g.bindRenderbuffer(g.RENDERBUFFER,this.$k),n=this.iq?g.RGBA8:g.RGB8,0<this.Uk&&((h=g.getInternalformatParameter(g.RENDERBUFFER,n,g.SAMPLES))&&h[0]?(h=h[0],this.Uk>h&&(this.Uk=h)):this.Uk=0),0===this.Uk?g.renderbufferStorage(g.RENDERBUFFER,n,this.S,this.O):g.renderbufferStorageMultisample(g.RENDERBUFFER,this.Uk,n,this.S,this.O),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.RENDERBUFFER,this.$k),g.bindRenderbuffer(g.RENDERBUFFER,null));
n=this.qa.eo;this.qe&&n&&g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,n);g.bindFramebuffer(g.FRAMEBUFFER,null);c.add(this)}MO(g,n){if(this.S!==g||this.O!==n)this.S=g,this.O=n,this.kN(),g=this.qa.P,g.bindFramebuffer(g.FRAMEBUFFER,this.oi),this.ib?this.ib.oP(new ImageData(this.S,this.O)):(g.bindRenderbuffer(g.RENDERBUFFER,this.$k),g.renderbufferStorage(g.RENDERBUFFER,this.iq?g.RGBA8:g.RGB8,this.S,this.O),g.bindRenderbuffer(g.RENDERBUFFER,null)),n=this.qa.eo,this.qe&&
n&&g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,n),g.bindFramebuffer(g.FRAMEBUFFER,null)}$D(){if(!this.ib&&!this.$k)throw Error("already deleted render target");c.delete(this);const g=this.qa.P;g.bindFramebuffer(g.FRAMEBUFFER,this.oi);this.ib?(g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,null,0),this.qa.Qi(this.ib),this.ib=null):this.$k&&(g.framebufferRenderbuffer(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.RENDERBUFFER,null),g.deleteRenderbuffer(this.$k),
this.$k=null);g.bindFramebuffer(g.FRAMEBUFFER,null);2<=this.qa.gd&&(g.bindFramebuffer(g.READ_FRAMEBUFFER,null),g.bindFramebuffer(g.DRAW_FRAMEBUFFER,null));g.deleteFramebuffer(this.oi);this.oi=this.qa.ec.Lm=null}kN(){this.qa.Sr(this.Ho,this.S/this.O)}jb(){return this.qa}Jd(){return this.ib}HC(){return"nearest"!==this.Vc}ba(){return this.S}aa(){return this.O}JY(g){g=Object.assign({},e,g);return"nearest"!==g.Oi!==this.HC()||!!g.alpha!==this.iq||!!g.depth!==this.qe||2<=this.qa.gd&&!!g.AI!==this.ju?!1:
"number"===typeof g.width||"number"===typeof g.height?!this.hu&&this.ba()===g.width&&this.aa()===g.height:this.hu}UB(){return this.ib?this.ib.UB():this.S*this.O*(this.iq?4:3)}static async qU(g,n){g=await g.F_(n);return await d.UX(g)}static pk(){c.clear()}}}
{"use strict";const d=self.B;d.U.Zs=class{static async $T(a,b,e,c){const g=a.P,n=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(n,b);g.compileShader(n);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,e);g.compileShader(b);const h=g.createProgram();g.attachShader(h,n);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.kH;l?await a.e9(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):await d.LD(5);
if(!g.getShaderParameter(n,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(n),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(n),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.QV(g.getProgramInfoLog(h)||"").trim())&&!d.NC(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(n);g.deleteShader(b);return h}static async Ma(a,b,e,c){e=await d.U.Zs.$T(a,b.src,e,c);return new d.U.Zs(a,e,b,c)}constructor(a,b,e,c){const g=a.P;var n=a.ec;a.zh();g.useProgram(b);this.P=g;this.qa=a;this.Da=c;this.bb=b;this.jz="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.SG=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.EA),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.sA),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.SG&&(g.bindBuffer(g.ARRAY_BUFFER,a.Xz),g.vertexAttribPointer(this.SG,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.SG));g.bindBuffer(g.ARRAY_BUFFER,null);this.SH=new d.U.dc(this,"matP","mat4");this.RH=new d.U.dc(this,"matMV","mat4");this.Wo=new d.U.dc(this,"color",
"vec4");this.H$=new d.U.dc(this,"samplerFront","sampler");this.VH=new d.U.dc(this,"pointTexStart","vec2");this.UH=new d.U.dc(this,"pointTexEnd","vec2");this.YH=new d.U.dc(this,"zElevation","float");this.WH=new d.U.dc(this,"tileSize","vec2");this.XH=new d.U.dc(this,"tileSpacing","vec2");this.QH=new d.U.dc(this,"color2_","vec4");this.TH=new d.U.dc(this,"outlineThickness","float");this.kr=new d.U.dc(this,"samplerBack","sampler");this.gl=new d.U.dc(this,"destStart","vec2");this.fl=new d.U.dc(this,"destEnd",
"vec2");this.Ki=new d.U.dc(this,"srcStart","vec2");this.hl=new d.U.dc(this,"srcEnd","vec2");this.jl=new d.U.dc(this,"srcOriginStart","vec2");this.il=new d.U.dc(this,"srcOriginEnd","vec2");this.og=new d.U.dc(this,"pixelSize","vec2");this.Em=new d.U.dc(this,"seconds","float");this.Bm=new d.U.dc(this,"layerScale","float");this.Am=new d.U.dc(this,"layerAngle","float");this.Dm=new d.U.dc(this,"layoutStart","vec2");this.Cm=new d.U.dc(this,"layoutEnd","vec2");this.gQ=!!(this.og.X||this.Em.X||this.kr.X||
this.gl.X||this.fl.X||this.Ki.X||this.hl.X||this.jl.X||this.il.X||this.Bm.X||this.Am.X||this.Dm.X||this.Cm.X);this.SP=e.Lka||0;this.TP=e.Mka||0;this.zF=!!e.Aka;this.k$=!!e.ama;this.Uq=!!e.oma;this.hy=!!e.nka;a=e.parameters||[];this.Xo=[];this.cv=this.gl.X||this.fl.X;this.K$=this.og.X||this.Ki.X||this.hl.X||this.jl.X||this.il.X;this.m$=this.zF||this.cv||0!==this.SP||0!==this.TP;this.$F=this.aG=!1;this.Wo.QK();this.QH.QK();this.H$.PK(0);this.kr.PK(1);this.VH.Of(0,0);this.UH.Of(1,1);this.YH.wp(0);this.WH.Of(0,
0);this.XH.Of(0,0);this.gl.Of(0,0);this.fl.Of(1,1);this.Ki.Of(0,0);this.hl.Of(0,0);this.jl.Of(0,0);this.il.Of(0,0);this.og.Of(0,0);this.Bm.wp(1);this.Am.wp(0);this.Em.wp(0);this.Dm.Of(0,0);this.Cm.Of(0,0);this.TH.wp(1);for(const l of a)a=l[2],b=new d.U.dc(this,l[0],a),"color"===a?b.YX():b.wp(0),this.Xo.push(b);this.jz?this.tP(n.mv):(this.vx(n.mv,!0),this.ux(n.KA,!0));n=n.mh;g.useProgram(n?n.bb:null)}m(){this.P.deleteProgram(this.bb);this.bb=null;this.qa.g7(this);this.qa=this.P=null}wa(){return this.Da}Jl(){return this.k$}Aw(a){return this.Xo[a].cj()}pT(a){for(let b=
0,e=a.length;b<e;++b)if(!this.Xo[b].WY(a[b]))return!1;return!0}x0(a){for(let b=0,e=a.length;b<e;++b)this.Xo[b].s0(a[b])}qT(a,b,e,c,g,n,h,l,m){return this.kr.X||this.og.X&&!this.og.mk(g,n)||this.gl.X&&!this.gl.mk(a.M,a.K)||this.fl.X&&!this.fl.mk(a.$,a.V)||this.Bm.X&&!this.Bm.MC(h)||this.Am.X&&!this.Am.MC(l)||this.Ki.X&&!this.Ki.mk(b.M,b.K)||this.hl.X&&!this.hl.mk(b.$,b.V)||this.jl.X&&!this.jl.mk(e.M,e.K)||this.il.X&&!this.il.mk(e.$,e.V)||this.Dm.X&&!this.Dm.mk(c.M,c.K)||this.Cm.X&&!this.Cm.mk(c.K,
c.V)||this.Em.X&&!this.Em.MC(m)?!1:!0}W0(a,b,e,c,g,n,h,l,m){this.kr.X||(this.og.X&&this.og.rk(g,n),this.gl.X&&this.gl.rk(a.M,a.K),this.fl.X&&this.fl.rk(a.$,a.V),this.Bm.X&&this.Bm.jD(h),this.Am.X&&this.Am.jD(l),this.Ki.X&&this.Ki.rk(b.M,b.K),this.hl.X&&this.hl.rk(b.$,b.V),this.jl.X&&this.jl.rk(e.M,e.K),this.il.X&&this.il.rk(e.$,e.V),this.Dm.X&&this.Dm.rk(c.M,c.K),this.Cm.X&&this.Cm.rk(c.K,c.V),this.Em.X&&this.Em.jD(m))}vx(a,b){this.aG&&!b||this.jz||(this.SH.X&&this.SH.wx(a),this.aG=!0)}V0(){this.aG=
!1}ux(a,b){this.$F&&!b||this.jz||(this.RH.X&&this.RH.wx(a),this.$F=!0)}U0(){this.$F=!1}tP(a){if(!this.jz)throw Error("not device transform shader");this.SH.wx(a);a=this.qa;const b=a.ba()/2,e=a.aa()/2;a=a.Rr(b,e,100*self.devicePixelRatio,b,e);this.RH.wx(a)}V1(a){this.Wo.X&&this.Wo.tx(a[0],a[1],a[2],a[3])}static ow(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.Sj.Qm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.U.dc=class{constructor(e,c,g){if(!b.has(g))throw Error("invalid uniform type");this.Mb=e;this.P=this.Mb.P;this.Da=c;this.ra=g;this.qG="color"===this.ra;this.Zg=this.P.getUniformLocation(this.Mb.bb,c);this.X=!!this.Zg;e=b.get(g);this.Fb=new Float32Array(e);this.Bi=new Float32Array(e)}m(){this.Zg=this.P=this.Mb=null}cj(){return this.ra}wp(e){this.X&&
(this.Fb[0]=e,this.Bi.set(this.Fb),this.P.uniform1f(this.Zg,e))}PK(e){this.X&&(this.Fb[0]=e,this.Bi.set(this.Fb),this.P.uniform1i(this.Zg,e))}Of(e,c){this.X&&(this.Fb[0]=e,this.Fb[1]=c,this.Bi.set(this.Fb),this.P.uniform2f(this.Zg,e,c))}YX(){this.X&&(this.Fb[0]=0,this.Fb[1]=0,this.Fb[2]=0,this.Bi.set(this.Fb),this.P.uniform3f(this.Zg,0,0,0))}QK(){this.X&&(this.Fb[0]=1,this.Fb[1]=1,this.Fb[2]=1,this.Fb[3]=1,this.Bi.set(this.Fb),this.P.uniform4f(this.Zg,1,1,1,1))}Yp(e){e=Math.fround(e);const c=this.Fb;
c[0]!==e&&(c[0]=e,this.P.uniform1f(this.Zg,e))}ne(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Fb;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.P.uniform2f(this.Zg,e,c)}T1(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const n=this.Fb;if(n[0]!==e||n[1]!==c||n[2]!==g)n[0]=e,n[1]=c,n[2]=g,this.P.uniform3f(this.Zg,e,c,g)}tx(e,c,g,n){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);n=Math.fround(n);const h=this.Fb;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==n)h[0]=e,h[1]=c,h[2]=g,h[3]=n,this.P.uniform4f(this.Zg,
e,c,g,n)}wx(e){const c=this.Fb;a.Ni(c,e)||(d.Hba(c,e),this.P.uniformMatrix4fv(this.Zg,!1,e))}WY(e){const c=this.Bi;return this.qG?c[0]===Math.fround(e.Pa)&&c[1]===Math.fround(e.Sa)&&c[2]===Math.fround(e.Ra):c[0]===Math.fround(e)}s0(e){const c=this.Bi;this.qG?(c[0]=e.Pa,c[1]=e.Sa,c[2]=e.Ra):c[0]=e}MC(e){return this.Bi[0]===Math.fround(e)}mk(e,c){const g=this.Bi;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}jD(e){this.Bi[0]=e}rk(e,c){const g=this.Bi;g[0]=e;g[1]=c}}}
{"use strict";const d=self.B,a=self.Sj,b=a.Hv,e=a.Qm;d.U.vT=class{constructor(c){this.Be=c;this.KA=e.create();this.mv=e.create();this.Lm=null;this.JA=b.cf(1,1,1,1);this.mh=null;this.MI=new d.Rect;this.clearColor=d.A(d.Wa,0,0,0,0)}};d.U.g2=class{constructor(c){const g=new ArrayBuffer(96);this.ra=0;this.ec=c;this.P=c.Be.P;this.qo=this.kg=0;this.ue=null;this.Td=new Float32Array(g,0,16);this.ao=new Float32Array(g,64,4);this.ER=new Float32Array(g,80,4);this.gA=[]}mY(c){this.ra=1;this.kg=c;this.qo=6}MU(){const c=
this.P;c.drawElements(c.TRIANGLES,this.qo,c.UNSIGNED_SHORT,this.kg)}vY(c){this.ra=2;this.ue=c}YU(){const c=this.P,g=this.ue;c.bindTexture(c.TEXTURE_2D,g?g.ib:null)}wC(c){this.ra=3;c.rg(this.ao,0)}OU(){const c=this.ao,g=this.ec;b.ta(g.JA,c);g.mh.V1(c)}RU(){const c=this.ao,g=this.ec.mh;g.QH.X&&g.QH.tx(c[0],c[1],c[2],c[3])}nY(c,g){this.ra=4;this.kg=c;this.qo=g}NU(){this.P.blendFunc(this.kg,this.qo)}wY(c,g){this.ra=5;const n=this.ao;n[0]=0;n[1]=0;n[2]=c;n[3]=g}$U(){const c=this.ao;this.P.viewport(c[0],
c[1],c[2],c[3])}tY(c){this.ra=6;e.ta(this.Td,c)}WU(){const c=this.ec,g=c.Be.Wn,n=c.mh,h=this.Td;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.vx(h,!0):p.V0()}e.ta(c.mv,h)}qY(c){this.ra=7;e.ta(this.Td,c)}SU(){const c=this.ec,g=c.Be.Wn,n=c.mh,h=this.Td;for(let l=0,m=g.length;l<m;++l){const p=g[l];p===n?p.ux(h,!0):p.U0()}e.ta(c.KA,h)}uY(c){this.ra=8;this.ue=c}XU(){const c=this.P;var g=this.ue;const n=this.ec;g?(g=g.oi,n.Lm=g,c.bindFramebuffer(c.FRAMEBUFFER,g)):(n.Lm=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}cY(c){this.ra=9;c.rg(this.Td,0)}dY(){this.ra=9;const c=this.Td;c[0]=0;c[1]=0;c[2]=0;c[3]=0}FU(){const c=this.P;var g=this.Td,n=this.ec;const h=n.clearColor;(n=n.Be.xo&&d.zr)&&c.disable(c.SCISSOR_TEST);const l=g[0],m=g[1],p=g[2];g=g[3];h.pv(l,m,p,g)||(c.clearColor(l,m,p,g),h.Um(l,m,p,g));c.clear(c.COLOR_BUFFER_BIT);n&&c.enable(c.SCISSOR_TEST)}bY(c,g,n,h){this.ra=10;const l=this.Td;l[0]=c;l[1]=g;l[2]=n;l[3]=h;l[4]=0;l[5]=0;l[6]=0;l[7]=0}EU(){const c=this.P;var g=this.Td,n=this.ec;const h=n.Be;
n=n.clearColor;h.xo||c.enable(c.SCISSOR_TEST);c.scissor(g[0],g[1],g[2],g[3]);const l=g[4],m=g[5],p=g[6];g=g[7];n.pv(l,m,p,g)||(c.clearColor(l,m,p,g),n.Um(l,m,p,g));c.clear(c.COLOR_BUFFER_BIT);h.xo?c.scissor(0,0,h.jv,h.hv):c.disable(c.SCISSOR_TEST)}TU(){const c=this.Td;this.ec.MI.set(c[0],c[1],c[2],c[3])}LU(){const c=this.P,g=this.ec,n=g.Be.lA;c.useProgram(n.bb);n.vx(g.mv,!1);n.ux(g.KA,!1);var h=g.MI;n.VH.X&&n.VH.ne(h.M,h.K);n.UH.X&&n.UH.ne(h.$,h.V);h=this.Td[0];n.YH.X&&n.YH.Yp(h);n.Wo.X&&(h=g.JA,
n.Wo.tx(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.kg/4,this.qo);c.useProgram(g.mh.bb)}rY(c){this.ra=12;this.ue=c}UU(){var c=this.P;const g=this.ec,n=this.ue;g.mh=n;c.useProgram(n.bb);n.vx(g.mv,!1);n.ux(g.KA,!1);n.Wo.X&&(c=g.JA,n.Wo.tx(c[0],c[1],c[2],c[3]))}sY(){this.ra=13}VU(){const c=this.ec.mh;c.gQ&&this.Q3(c);c.Xo.length&&this.R3(c)}Q3(c){const g=this.P,n=this.Td,h=this.ao,l=this.ER;if(c.kr.X){const m=this.ec.Be,p=this.ue;m.km!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,
p?p.ib:null),m.km=p,g.activeTexture(g.TEXTURE0))}c.og.X&&c.og.ne(n[0],n[1]);c.gl.X&&c.gl.ne(n[2],n[3]);c.fl.X&&c.fl.ne(n[4],n[5]);c.Bm.X&&c.Bm.Yp(n[6]);c.Am.X&&c.Am.Yp(n[7]);c.Ki.X&&c.Ki.ne(n[12],n[13]);c.hl.X&&c.hl.ne(n[14],n[15]);c.jl.X&&c.jl.ne(l[0],l[1]);c.il.X&&c.il.ne(l[2],l[3]);c.Dm.X&&c.Dm.ne(h[0],h[1]);c.Cm.X&&c.Cm.ne(h[2],h[3]);c.Em.X&&c.Em.Yp(this.kg)}R3(c){c=c.Xo;const g=this.gA;for(let n=0,h=c.length;n<h;++n){const l=c[n],m=g[n];l.qG?l.T1(m.Pa,m.Sa,m.Ra):l.Yp(m)}}iY(c){this.ra=14;this.ue=
c}KU(){const c=this.P,g=this.ue,n=this.ec.Lm;g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==n&&c.bindFramebuffer(c.FRAMEBUFFER,n)}ZX(c,g){this.ra=17;var n=this.Td;const h=this.ec.Be;n[0]=c.ba();n[1]=c.aa();n[2]=g?g.ba():h.ba();n[3]=g?g.aa():h.aa();n[4]=c.HC()?1:0;n[5]=!0;n=this.gA;d.D(n);n.push(c.oi);n.push(g?g.oi:null)}CU(){var c=this.Td,g=this.gA;const n=this.P;var h=c[0],l=c[1],m=c[2];const p=c[3],u=0!==c[4];c=0!==c[5];const q=g[1];n.bindFramebuffer(n.READ_FRAMEBUFFER,
g[0]);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,q);c?n.blitFramebuffer(0,0,h,l,0,0,m,p,n.COLOR_BUFFER_BIT,u?n.LINEAR:n.NEAREST):(g=Math.min(h,m),h=Math.min(l,p),m=Math.max(l-p,0),l=Math.max(p-l,0),n.blitFramebuffer(0,m,g,h+m,0,l,g,h+l,n.COLOR_BUFFER_BIT,n.NEAREST))}yY(c){this.ra=18;this.ue=c}aV(){this.ue.mB();this.ue=null}hY(c){this.ra=19;this.ue=c}JU(){this.ue.IB();this.ue=null}QU(){const c=this.ec.mh,g=this.Td;c.og.X&&c.og.ne(g[0],g[1]);c.TH.X&&c.TH.Yp(g[2])}ZU(){const c=this.ec.mh,g=this.Td;c.Ki.X&&
c.Ki.ne(g[0],g[1]);c.og.X&&c.og.ne(g[4],g[5]);c.WH.X&&c.WH.ne(g[6],g[7]);c.XH.X&&c.XH.ne(g[8],g[9])}aY(){this.ra=22}DU(){const c=this.P;c.clear(c.DEPTH_BUFFER_BIT)}pY(c){this.ra=23;this.kg=c?1:0}PU(){const c=this.P;0===this.kg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}gY(){this.ra=24}IU(){const c=this.P;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}fY(){this.ra=
25}HU(){const c=this.P;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}eY(){this.ra=26}GU(){const c=this.P;c.disable(c.STENCIL_TEST)}na(){switch(this.ra){case 1:this.MU();break;case 2:this.YU();break;case 3:this.OU();break;case 4:this.NU();break;case 5:this.$U();break;case 6:this.WU();break;case 7:this.SU();break;case 8:this.XU();break;case 9:this.FU();break;case 10:this.EU();break;case 11:this.LU();break;case 12:this.UU();break;case 13:this.VU();break;case 14:this.KU();
break;case 15:this.TU();break;case 16:this.ZU();break;case 17:this.CU();break;case 18:this.aV();break;case 19:this.JU();break;case 20:this.QU();break;case 21:this.RU();break;case 22:this.DU();break;case 23:this.PU();break;case 24:this.IU();break;case 25:this.HU();break;case 26:this.GU()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.Wa(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),n=new Set;d.TV&&d.TV.addEventListener("fontload",p=>{p=p.font.wa();for(const u of n)(u.Wg||d.Om(u.Qy,p))&&u.rj()});function h(p,u,q,v,t,w){u?"Gecko"===d.Qc.Nv?p.strokeText(q,v,t,w):p.strokeText(q,v,t):"Gecko"===d.Qc.Nv?p.fillText(q,v,t,w):p.fillText(q,v,t)}let l=!1,m=!1;d.U.ZC=class{constructor(p,u){u=Object.assign({},a,u);this.qa=
p;this.Qy="Arial";this.Ry=16;this.Sy=1;this.Do=0;this.Qe=this.Pe=!1;this.yy="black";this.Wg=!1;this.II=null;this.eF=new Set;this.Ne="left";this.Ae="top";this.Kc="";this.Ht=null;this.Jm=d.A(d.ND);this.dI="word";this.DG=this.tA=!1;this.fu=!0;this.ho=-1;this.O=this.S=this.AF=this.qq=this.xq=0;this.lh=1;this.wF=!1;this.xu=this.Tk=this.Fd=this.Ro=null;this.IQ=this.JQ=-1;this.Ez=this.LQ=this.HG="";this.IG=this.JG=1;this.XQ=(q,v)=>this.uO(q,v);this.ib=null;this.Tu=this.Vu=0;this.Cf=new d.Rect;this.Ju=1;
this.bH=!1;this.MH=new d.TX(()=>{this.Mh();this.dP(8,8)},u.timeout);this.SA=null;this.kv=!1;n.add(this)}m(){this.II=null;this.eF.clear();this.XQ=this.xu=this.Tk=this.Fd=this.Ro=this.Ht=null;this.MH.m();this.SA=null;this.Mh();this.Jm.Ic();this.qa=this.Jm=null;this.kv=!0;n.delete(this)}Tn(){this.wF=!0}rj(){this.Tn();this.Jm.Ic();this.tA=!0}sM(){this.fu=!1}Pf(){return this.fu}r0(p){p=!!p;this.Wg!==p&&(p=(this.Wg=p)?"alphabetic":"top",this.Fd&&(this.Fd.textBaseline=p),this.Tk&&(this.Tk.textBaseline=p),
this.rj())}mD(p){p||(p="serif");this.Qy!==p&&(this.Qy=p,this.rj())}mx(p){.1>p&&(p=.1);this.Ry!==p&&(this.Ry=p,this.rj())}J0(p){this.Sy!==p&&(this.Sy=p,this.rj())}wM(p){this.Do!==p&&(this.Do=p,this.Tn())}fM(p){p=!!p;this.Pe!==p&&(this.Pe=p,this.rj())}uM(p){p=!!p;this.Qe!==p&&(this.Qe=p,this.rj())}lD(p){p=Math.floor(p);this.ho!==p&&(this.ho=p,this.Tn())}Wh(p,u){for(let q=p.length-1;0<=q;--q){const v=p[q];if(v.tag===u)return v}return null}bq(p,u){return!!this.Wh(p,u)}ON(p,u){let q=[];(this.Pe||this.bq(u,
"b"))&&q.push("bold");(this.Qe||this.bq(u,"i"))&&q.push("italic");var v=this.Wh(u,"size");v=(v?parseFloat(v.ph):this.Ry)*this.Sy;p?q.push(v+"pt"):q.push(v*this.Ju*this.lh*self.devicePixelRatio+"pt");p=this.Qy;(u=this.Wh(u,"font"))&&u.ph&&(p=u.ph,this.II&&!this.eF.has(p)&&(this.II(p),this.eF.add(p)));p&&q.push('"'+p+'"');return q.join(" ")}Nl(p){p instanceof d.Wa&&(p=p.uaa());this.yy!==p&&(this.yy=p,this.Tn())}hM(p,u,q){b.Ir(p,u,q);this.Nl(b)}pM(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.Ne!==p&&(this.Ne=p,this.Tn())}HM(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ae!==p&&(this.Ae=p,this.Tn())}t1(p){if(!g.has(p))throw Error("invalid word wrap mode");this.dI!==p&&(this.dI=p,this.rj())}Vs(p){this.Kc!==p&&(this.Kc=p,this.rj())}Sc(p,u,q){"undefined"===typeof q&&(q=1);if(!(0>=p||0>=p||this.qq===p&&this.AF===u&&this.lh===q)){1===this.lh!==(1===q)&&(this.bH=!0);var v=this.qq,t=this.lh;this.qq=p;this.AF=u;this.lh=q;p=self.devicePixelRatio;this.S=this.qq*this.lh*p;this.O=
this.AF*this.lh*p;p=Math.max(this.S,this.O);u=Math.min(this.qa.Pz,2048);q=1;p>u&&(q=u/p,this.S=Math.min(this.S*q,u),this.O=Math.min(this.O*q,u));this.Ju=q;0<this.Vu&&0<this.Tu&&this.lh===t&&this.Cf.set(0,0,this.S/this.Vu,this.O/this.Tu);this.qq!==v?this.rj():this.Tn()}}ba(){return this.S}aa(){return this.O}jX(){this.tE();return this.Jm.UW()}iX(){this.tE();return this.Jm.mX()+this.Jm.lm.length*(this.Do+4)-this.Do}Jd(){this.MH.$c();this.a6();return this.ib}a6(){this.ib&&!this.wF&&!this.tA||this.DG||
0>=this.S||0>=this.O||(this.wF=!1,this.DG=!0,this.fu?d.Uj(()=>this.AN()):this.AN())}AN(){this.kv||(this.dP(Math.ceil(this.S),Math.ceil(this.O)),this.tE(),this.h4(),this.Z8(),this.MH.$c(),this.DG=!1)}dP(p,u){this.Ro||(this.Ro=d.tg(16,16));let q=!1;if(this.JQ!==p||this.IQ!==u)this.JQ=p,this.IQ=u,this.Ro.width=p,this.Ro.height=u,q=!0;this.Fd||(this.Fd=this.Ro.getContext("2d"),q=!0);q?(this.Fd.textBaseline=this.Wg?"alphabetic":"top",this.Fd.font=this.HG,this.Fd.fillStyle=this.Ez,this.Fd.strokeStyle=this.Ez,
this.Fd.globalAlpha=this.JG,this.Fd.lineWidth=this.IG):this.Fd.clearRect(0,0,p,u)}nO(){this.Tk||(this.Tk=d.tg(16,16).getContext("2d"),this.xu=d.tg(16,16).getContext("2d"),this.Tk.textBaseline=this.Wg?"alphabetic":"top",this.xu.textBaseline="top")}r8(p){this.LQ!==p&&(this.LQ=p,this.Tk.font=p,this.xu.font=p)}lP(){if(!l){l=!0;this.nO();const p=this.Tk.measureText("test");m="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return m}tE(){this.tA&&(this.nO(),!this.Wg||
this.Ht&&this.Ht.toString()===this.Kc||(this.Ht=new d.wl(this.Kc,{Zaa:!0})),this.Jm.ND(this.Wg?this.Ht.Aba():this.Kc,this.XQ,this.qq,this.dI,0),this.tA=!1)}uO(p,u){this.r8(this.ON(!0,u));u=this.Wh(u,"size");u=(u?parseFloat(u.ph):this.Ry)*this.Sy;const q=this.Tk.measureText(p);let v=0;this.Wg&&this.lP()&&(v=q.fontBoundingBoxAscent-this.xu.measureText(p).fontBoundingBoxAscent);return{width:q.width,height:4/3*u,Hf:q.fontBoundingBoxAscent||0,bf:q.fontBoundingBoxDescent||0,df:v}}c8(p){this.HG!==p&&(this.HG=
p,this.Fd.font=p)}Xx(p){this.Ez!==p&&(this.Ez=p,this.Fd.fillStyle=p,this.Fd.strokeStyle=p)}b8(p){this.JG!==p&&(this.JG=p,this.Fd.globalAlpha=p)}ZO(p){this.IG!==p&&(this.IG=p,this.Fd.lineWidth=p)}h4(){this.xq=0;const p=this.Ju*this.lh*self.devicePixelRatio,u=(4+this.Do)*p;var q=0;const v=this.Jm.lm;if(0!==v.length){var t=this.Wg&&this.lP(),w=v[0].height*p;"center"===this.Ae?(q=v.reduce((y,z)=>y+z.height*p+u,0)-u,q=Math.max(this.O/2-q/2,0),t&&(w=v[0].df*p)):"bottom"===this.Ae&&(q=v.reduce((y,z)=>y+
z.height*p+u,0)-this.Do*p,q=this.O-q-(t?v.Yd(-1).bf*p:0)-2);for(let y=0,z=v.length;y<z;++y){t=v[y];const F=t.height*p,G=q;if(this.Wg){if(q+=0===y?w:F,0<y&&q>this.O-4*p)break}else if(0<y&&q>=this.O-F)break;0<=G&&this.g4(t,q,p);this.Wg||(q+=F);q+=u}}}g4(p,u,q){let v=0;"center"===this.Ne?v=(this.S-p.width*q)/2:"right"===this.Ne&&(v=this.S-p.width*q);for(const t of p.iS)this.f4(t,v,u,q,p.height),v+=t.width*q}f4(p,u,q,v,t){const w=this.Fd;var y=t/16;t=p.width*v;const z=p.height*v,F=p.height/16;var G=(4+
this.Do)*v,Q=p.Oc,D=p.text;if(-1!==this.ho){if(this.xq>=this.ho)return;this.xq+D.length>this.ho&&(D=D.substr(0,this.ho-this.xq),t=this.uO(D,Q).width*v);this.xq+=D.length}var H=this.Wh(Q,"background"),J=this.bq(Q,"u");p=this.bq(Q,"s");if((!d.NC(D)||H||J||p)&&!this.bq(Q,"hide")){var M=this.Wh(Q,"offsetx");u+=M?parseFloat(M.ph)*v:0;M=this.Wh(Q,"offsety");q+=M?parseFloat(M.ph)*v:0;H&&(this.Xx(H.ph),w.fillRect(u,q-z,t,z+G));M=this.Wh(Q,"color");this.Xx(M?M.ph:this.yy);G=this.Wh(Q,"opacity");this.b8(G?
parseFloat(G.ph)/100:1);G=(G=this.Wh(Q,"linethickness"))?parseFloat(G.ph):1;(H=this.bq(Q,"stroke"))&&this.ZO(.5*F*G*this.Ju*this.lh*self.devicePixelRatio);this.c8(this.ON(!1,Q));h(w,H,D,u,q,t);!H&&(this.ZO(.5*F*G*this.Ju*this.lh*self.devicePixelRatio),Q=this.Wh(Q,"outline"))&&(this.Xx(Q.ph),h(w,!0,D,u,q,t));this.Xx(M?M.ph:this.yy);J&&(Q=u,D=q+v*y,J=t,y=v*y*G,H?w.strokeRect(Q,D,J,y):w.fillRect(Q,D,J,y));p&&(v*=F,w.fillRect(u,q-z/4+v/2-v*G/2,t,v*G))}}Z8(){this.qa.un()||(this.Vu=Math.ceil(this.S),this.Tu=
Math.ceil(this.O),this.Cf.set(0,0,this.S/this.Vu,this.O/this.Tu),this.bH&&(this.Mh(),this.bH=!1),this.ib||(this.ib=this.qa.GJ(this.Vu,this.Tu,{RA:1===this.lh,xv:"high"})),this.qa.Y1(this.Ro,this.ib),this.SA&&this.SA())}bj(){return this.Cf}Mh(){this.ib&&(this.qa.un()||this.qa.Qi(this.ib),this.ib=null)}static pk(){for(const p of n)p.Mh()}}}
{"use strict";const d=self.B;class a{constructor(b){this.P=b.P;this.gd=b.gd;this.fd=b.fd;this.bh=null;this.Xt=this.yb=!1;this.dA=0;this.bh=1===this.gd?this.fd.createQueryEXT():this.P.createQuery()}m(){this.wN();this.fd=this.P=null;this.Xt=!1}wN(){this.bh&&(1===this.gd?this.fd.deleteQueryEXT(this.bh):this.P.deleteQuery(this.bh),this.bh=null)}mB(){if(this.yb)throw Error("query already active");1===this.gd?this.fd.beginQueryEXT(this.fd.TIME_ELAPSED_EXT,this.bh):this.P.beginQuery(this.fd.TIME_ELAPSED_EXT,
this.bh);this.yb=!0}IB(){if(!this.yb)throw Error("query not active");1===this.gd?this.fd.endQueryEXT(this.fd.TIME_ELAPSED_EXT):this.P.endQuery(this.fd.TIME_ELAPSED_EXT);this.yb=!1}sB(){if(this.bh&&!this.Xt&&!this.yb){var b=1===this.gd?this.fd.getQueryObjectEXT(this.bh,this.fd.QUERY_RESULT_AVAILABLE_EXT):this.P.getQueryParameter(this.bh,this.P.QUERY_RESULT_AVAILABLE);var e=this.P.getParameter(this.fd.GPU_DISJOINT_EXT);b&&!e&&(this.dA=1===this.gd?this.fd.getQueryObjectEXT(this.bh,this.fd.QUERY_RESULT_EXT):
this.P.getQueryParameter(this.bh,this.P.QUERY_RESULT),this.dA/=1E9,this.Xt=!0);(b||e)&&this.wN()}}Nw(){return this.Xt}Cw(){if(!this.Xt)throw Error("no result available");return this.dA}}d.U.i2=class{constructor(b){this.qa=b;this.Vg=b.Vg;this.yb=!1;this.om=null;this.wo=!1;this.Wq=null;this.Ko=[]}m(){for(const b of this.Ko)b instanceof a&&b.m();d.D(this.Ko);this.qa=this.Wq=this.om=null}mB(){if(this.yb)throw Error("query already active");const b=this.qa.KR;0<b.length?(this.wo=!0,this.om=b.Yd(-1),this.om.DN(),
this.om.Ko.push(this)):(this.wo=!1,this.om=null);this.yb=!0;b.push(this);this.jP()}IB(){if(!this.yb)throw Error("query not active");if(this.qa.KR.pop()!==this)throw Error("can only end most nested query");this.yb=!1;this.DN();this.om&&(this.om.jP(),this.om=null)}jP(){this.Wq=d.A(a,this.qa);this.Ko.push(this.Wq);this.Wq.mB()}DN(){this.Wq.IB();this.Wq=null}sB(){for(const b of this.Ko)b.sB()}Nw(){return this.Ko.every(b=>b.Nw())}Cw(){return this.Ko.reduce((b,e)=>b+e.Cw(),0)}}}
{"use strict";const d=self.B;d.U.ZM=class{constructor(a,b=1E3){this.qa=a;this.j$=b;this.uj=[];this.qa.y2(this)}m(){this.Ic();this.qa.f7(this);this.qa=null}Ic(){for(const a of this.uj)a.m();d.D(this.uj)}kB(){const a=new d.U.i2(this.qa);this.uj.push(a);this.uj.length>this.j$&&this.uj.shift().m();return a}MT(a){for(const b of this.uj){if(b.Vg>=a)break;if(b.wo)break;b.sB()}}kK(a,b){if(b<=a)return NaN;let e=0;for(const c of this.uj){if(c.Vg>=b)break;if(!(c.Vg<a))if(c.Nw())e+=c.Cw();else return NaN}return e}JJ(a){for(let b=
0,e=this.uj.length;b<e;++b){const c=this.uj[b];if(c.Vg<a)c.m();else{0<b&&this.uj.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.Sj,b=a.Hv,e=a.Qm,c={powerPreference:"default",hS:!0,alpha:!1,BI:!1,depth:!1,rS:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),n=new d.md(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),m=new d.md,p=new d.Rect;let u=null;d.zr&&(self.Dka=function(){u?u.loseContext():console.warn("WEBGL_lose_context not supported")},self.Eka=function(){u?u.restoreContext():console.warn("WEBGL_lose_context not supported")});const q=new Set;let v=
-1;function t(){v=-1;for(const w of q)w.Z$()&&(w.resolve(),q.delete(w));0<q.size&&(v=self.requestAnimationFrame(t))}d.U.h2=class extends d.U.R_{constructor(w,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const z={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.BI&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let F=null,G=0;2<=y.rS&&(F=w.getContext("webgl2",
z),G=2);F||(F=w.getContext("webgl",z),G=1);if(!F)throw Error("failed to initialise WebGL context");this.P=F;this.zP=F.getContextAttributes();y.BI&&!this.zP.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");F.getParameter(F.VERSION);this.gd=G;this.Xe=b.create();this.kF=e.create();this.rG=this.Fm=!!y.depth;this.eo=null;this.pG=!0;this.HP=this.IP=0;this.Xz=this.rQ=this.sA=this.EA=null;this.gv=new Float32Array(24E3);this.sQ=new Uint16Array(12E3);this.Qo=
new Float32Array(16E3);this.kR=new Float32Array(32E3);this.MQ=this.Yz=this.Wd=this.kh=0;this.vm=this.Bo=null;this.Gt=[];this.Ub=this.Zl=0;this.bd=null;this.ec=d.A(d.U.vT,this);this.ru=d.A(d.Wa,1,1,1,1);this.km=this.Rk=null;this.EG=this.GG=0;this.xo=!1;this.hv=this.jv=-1;this.c$=new d.Rect;this.Pz=-1;this.XG=0;this.av="(unavailable)";this.uG=!1;this.Bt=this.kH=null;this.WG=0;this.Z9=!!y.hS;this.fd=null;this.gy=new Set;this.KR=[];this.PV(this.sQ)}As(){return!0}async Qw(){super.Qw();var w=this.P;this.ru.Um(1,
1,1,1);this.km=this.Rk=null;this.Yz=this.kh=0;this.MQ=23988;d.D(this.Gt);this.Ub=this.Zl=0;this.bd=this.Bo=null;this.c$.set(0,0,1,1);var y=this.ec;y.mh=null;y.Lm=null;b.set(y.JA,1,1,1,1);y.clearColor.Um(0,0,0,0);y.MI.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.GG=w.ONE;this.EG=w.ONE_MINUS_SRC_ALPHA;this.c5(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Fm?(w.enable(w.DEPTH_TEST),w.depthMask(!0),
w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.rG=this.Fm;this.Xz=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.Xz);w.bufferData(w.ARRAY_BUFFER,this.kR.byteLength,w.DYNAMIC_DRAW);this.EA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.EA);w.bufferData(w.ARRAY_BUFFER,this.gv.byteLength,w.DYNAMIC_DRAW);this.sA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.sA);w.bufferData(w.ARRAY_BUFFER,this.Qo.byteLength,w.DYNAMIC_DRAW);this.rQ=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.rQ);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.sQ,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.Pz=w.getParameter(w.MAX_TEXTURE_SIZE);this.XG=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.XG&&(this.XG=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.av=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.kH=w.getExtension("KHR_parallel_shader_compile");d.zr&&(u=w.getExtension("WEBGL_lose_context"));if(this.Z9)if(1===
this.gd){if("Chromium"!==d.Qc.Nv||81<=d.Qc.pB||"undefined"!==typeof document)this.fd=w.getExtension("EXT_disjoint_timer_query")}else this.fd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.WG=(this.Bt=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Bt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.U.Zs;y=w.ow(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.ow(!0),"<tilemap>"]].map(z=>this.AB({src:z[0]},z[1],z[2])));this.mA=w[0];this.vm=w[1];this.lA=w[2];this.BH=w[3];this.Sh()}async AB(w,y,z){w=await d.U.Zs.Ma(this,w,y,z);this.z2(w);return w}X_(){this.Bo=null}Sc(w,y,z){if(this.S!==w||this.O!==y||z){this.zh();z=this.P;var F=this.ec;this.S=w;this.O=y;w=this.xK();y=this.jC();this.gP(w,y);this.Sr(this.kF,w/y);this.Vp(this.kF);this.vm&&(z.useProgram(this.vm.bb),this.vm.tP(this.Oz),this.Bo=this.vm,this.ec.mh=this.vm);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.km=this.Rk=null;this.Fm&&this.pG&&this.HE(this.S,this.O);this.bd&&this.bd.MO(this.S,this.O);z.bindFramebuffer(z.FRAMEBUFFER,null);this.bd=null;F.Lm=null}}HE(w,y){const z=this.P;if(this.eo){if(this.IP===w&&this.HP===y)return;z.deleteRenderbuffer(this.eo)}this.eo=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.eo);z.renderbufferStorage(z.RENDERBUFFER,2<=this.gd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,y);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.IP=w;this.HP=y}H0(w,y){this.Fm&&(this.pG=!1,this.HE(w,y))}q0(){this.Fm&&(this.pG=!0,this.HE(this.S,this.O))}xK(){return this.xo?this.jv:this.ba()}jC(){return this.xo?this.hv:this.aa()}gP(w,y){const z=this.Xe;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==y)this.lc().wY(w,y),b.set(z,0,0,w,y),this.Ub=0}Vp(w){e.Ni(this.Oz,w)||(this.lc().tY(w),e.ta(this.Oz,w),this.Ub=0)}lM(){let w,y;var z=this.bd;null===z||z.hu&&this.xo?(w=this.kF,y=this.xK(),z=this.jC()):(w=z.Ho,y=z.ba(),z=z.aa());this.Vp(w);this.gP(y,
z)}Rp(w){e.Ni(this.UG,w)||(this.lc().qY(w),e.ta(this.UG,w),this.Ub=0)}lc(){const w=this.Gt;this.Zl===w.length&&w.push(new d.U.g2(this.ec));return w[this.Zl++]}zh(){0===this.Zl||this.un()||(this.i9(),this.k4(),this.Ub=this.Yz=this.Wd=this.kh=this.Zl=0)}i9(){const w=this.P;0<this.Yz&&(w.bindBuffer(w.ARRAY_BUFFER,this.Xz),w.bufferSubData(w.ARRAY_BUFFER,0,this.kR.subarray(0,this.Yz)));0<this.kh&&(w.bindBuffer(w.ARRAY_BUFFER,this.EA),w.bufferSubData(w.ARRAY_BUFFER,0,this.gv.subarray(0,this.kh)),w.bindBuffer(w.ARRAY_BUFFER,
this.sA),w.bufferSubData(w.ARRAY_BUFFER,0,this.Qo.subarray(0,this.Wd)))}k4(){const w=this.Gt;for(let y=0,z=this.Zl;y<z;++y)w[y].na()}He(){return this.ru.Qa}Je(w,y,z,F){const G=this.ru;G.pv(w,y,z,F)||(G.Um(w,y,z,F),this.lc().wC(G),this.Ub=0,this.ii=null)}jj(w){const y=this.ru;y.Qa!==w&&(y.Ev(w),this.lc().wC(y),this.Ub=0,this.ii=null)}Nl(w){const y=this.ru;y.Nc(w)||(y.set(w),this.lc().wC(y),this.Ub=0,this.ii=null)}Ip(){this.Je(1,1,1,1)}vf(w){w!==this.Rk&&(this.lc().vY(w),this.Rk=w,this.Ub=0)}AE(){this.Rk=
null}tf(w){w=this.C4(w);this.GE(w[0],w[1])}GE(w,y){if(w!==this.GG||y!==this.EG)this.lc().nY(w,y),this.GG=w,this.EG=y,this.Ub=0,this.ii=null}iD(){this.GE(this.P.ONE,this.P.ONE_MINUS_SRC_ALPHA)}jM(){this.GE(this.P.ONE,this.P.ZERO)}Rect(w){this.NL(w.M,w.K,w.$,w.V)}NL(w,y,z,F){this.A_(w,y,z,y,z,F,w,F)}et(){let w=this.kh;w>=this.MQ&&(this.zh(),w=0);1===this.Ub?this.Gt[this.Zl-1].qo+=6:(this.lc().mY(w),this.Ub=1)}RE(w){w.Kba(this.gv,this.kh,this.Ft+this.Pt);this.kh+=12}md(w){this.et();this.RE(w);n.rg(this.Qo,
this.Wd);this.Wd+=8}A_(w,y,z,F,G,Q,D,H){this.et();const J=this.gv;let M=this.kh;const P=this.Ft+this.Pt;J[M++]=w;J[M++]=y;J[M++]=P;J[M++]=z;J[M++]=F;J[M++]=P;J[M++]=G;J[M++]=Q;J[M++]=P;J[M++]=D;J[M++]=H;J[M++]=P;this.kh=M;n.rg(this.Qo,this.Wd);this.Wd+=8}Fn(w,y){this.et();this.RE(w);y.Jba(this.Qo,this.Wd);this.Wd+=8}B_(w,y){this.et();this.RE(w);y.rg(this.Qo,this.Wd);this.Wd+=8}cx(w,y,z,F,G,Q,D,H,J,M,P,R,V){this.et();const Z=this.gv;let ca=this.kh;const Y=this.Ft+this.Pt;Z[ca++]=w;Z[ca++]=y;Z[ca++]=
Y+z;Z[ca++]=F;Z[ca++]=G;Z[ca++]=Y+Q;Z[ca++]=D;Z[ca++]=H;Z[ca++]=Y+J;Z[ca++]=M;Z[ca++]=P;Z[ca++]=Y+R;this.kh=ca;V.rg(this.Qo,this.Wd);this.Wd+=8}UV(w,y){e.ta(h,this.Oz);e.ta(l,this.UG);this.lM();if(this.xo){w=this.Rr(0,0,100*self.devicePixelRatio,0,0);this.Rp(w);w=this.jv/2;var z=this.hv/2;p.set(-w,z,-w+this.jv,z-this.hv);m.qh(p);p.set(0,0,this.jv/this.S,this.hv/this.O);this.Fn(m,p)}else{const [Q,D]=this.wK(this.bd);z=this.Rr(0,0,100*self.devicePixelRatio,0,0,D);this.Rp(z);if("crop"===w&&this.bd&&
y){w=this.S/2;z=this.O/2;const H=y.ba();y=y.aa();var F=this.bd.ba(),G=this.bd.aa();F=Math.min(F,H);const J=Math.min(G,y),M=Math.max(y-G,0);G=Math.max(G-y,0);p.set(-w,z-G,-w+F,z-J-G);m.qh(p);p.set(0,M,F,J+M);p.ll(H,y);this.Fn(m,p)}else w=Q/2,z=D/2,this.NL(-w,z,w,-z)}this.Vp(h);this.Rp(l)}Tl(w){this.Bo!==w&&(this.lc().rY(w),this.Bo=w,this.Ub=0,this.ii=null)}z0(){this.Tl(this.vm)}Up(w,y,z,F,G,Q,D,H,J,M,P){const R=this.Bo;var V=R.gQ;const Z=!!P.length;if(V&&!R.qT(y,z,F,G,Q,D,H,J,M)||Z&&!R.pT(P)){var ca=
this.lc();ca.sY();V&&(R.W0(y,z,F,G,Q,D,H,J,M),V=ca.Td,V[0]=Q,V[1]=D,y.rg(V,2),V[6]=H,V[7]=J,z.rg(V,12),y=ca.ao,G.rg(y,0),G=y[1],y[1]=y[3],y[3]=G,F.rg(ca.ER,0),ca.kg=M,ca.ue=R.kr.X?w?w.Jd():null:null);Z&&(R.x0(P),d.vc(ca.gA,P));this.Ub=0}}Uv(){this.lc().dY();this.Ub=0}Ic(w){this.lc().cY(w);this.Ub=0}tB(w){this.RT(w.M,w.K,w.width(),w.height())}RT(w,y,z,F){0>z||0>F||(this.lc().bY(w,y,z,F),this.Ub=0)}Xs(){}Zr(){super.Zr();this.P.flush()}NT(){this.Fm&&this.bd&&this.bd.qe&&(this.lc().aY(),this.Ub=0)}Ql(w){w=
!!w;this.rG!==w&&this.Fm&&(this.rG=w,this.lc().pY(w),this.Ub=0)}LT(){for(const w of this.gy)w.MT(this.Vg)}un(){return!this.P||this.P.isContextLost()||this.uG}pk(){super.PZ();d.U.yx.pk();d.U.MD.pk();d.U.ZC.pk();for(const w of this.gy)w.Ic();this.Bt=this.kH=this.fd=null;this.WG=0;this.av="(unavailable)";this.eo=this.vm=this.Bo=null;for(const w of this.Qu.values())w.pk()}async TC(){this.uG=!0;await this.Qw();this.uG=!1;for(const w of this.Qu.values())w.TC(this);this.Sc(this.S,this.O,!0)}Xv(w,y){if(this.un())throw Error("context lost");
this.zh();const z=d.A(d.U.yx,this);z.k3(w,y);return z}Yv(w,y){if(this.un())return Promise.reject("context lost");y=Object.assign({},y);const z=y.eB&&"clamp-to-edge"!==y.eB||y.fB&&"clamp-to-edge"!==y.fB;if(!d.Ob.ImageBitmapOptions||!this.Ln()&&z)return d.Ob.ImageBitmap?createImageBitmap(w).then(F=>d.Uj(()=>this.Xv(F,y))):w instanceof Blob?d.AT(w).then(F=>this.Yv(F,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.Uj(()=>this.Xv(w,
y))):d.Uj(()=>this.Xv(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(F=>d.Uj(()=>this.Xv(F,y)))}GJ(w,y,z){this.zh();const F=d.A(d.U.yx,this);F.W2(w,y,z);return F}Y1(w,y){this.zh();y.oP(w,void 0)}Qi(w){w&&(w.H1(),0<w.sc||(this.zh(),w===this.Rk&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.Rk=null),w===this.km&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.km=null),w.$D()))}nU(w){let y=
this.S,z=this.O,F=!0;w&&("number"===typeof w.width&&(y=w.width,F=!1),"number"===typeof w.height&&(z=w.height,F=!1));if(0>=y||0>=z)throw Error("invalid size");this.zh();const G=d.A(d.U.MD,this);G.V2(y,z,Object.assign({mS:F},w));this.bd=null;this.ec.Lm=null;return G}ke(w){w!==this.bd&&(w&&w.hu&&w.MO(this.S,this.O),this.lc().uY(w),this.bd=w,this.Ub=0,this.lM())}os(){return this.bd}wK(w){return w?[w.ba(),w.aa()]:[this.S,this.O]}wB(w){2>this.gd||this.bd&&0<this.bd.Uk?(this.jM(),this.Ip(),this.Tr(w,"stretch")):
(this.lc().ZX(w,this.bd),this.Ub=0)}Tr(w,y="stretch"){w=w.Jd();if(!w)throw Error("not a texture-backed render target");this.vf(w);this.UV(y,w)}sn(w){2>this.gd||(this.lc().iY(w.oi),this.Ub=0)}BU(w){this.ke(null);this.zh();const y=w.Jd();y===this.Rk&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.Rk=null);y===this.km&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.km=null);w.$D()}async F_(w){this.zh();const y=this.bd;if(w){var z=
w.ba();var F=w.aa();w=w.oi}else z=this.ba(),F=this.aa(),w=null;const G=this.P;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,F);G.readPixels(0,0,z,F,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.bd=null;this.ec.Lm=null;this.ke(y)})();return w}DJ(){this.Ql(!0);this.lc().gY();this.Ub=0}CJ(){this.Ql(!1);this.lc().fY();this.Ub=0}BJ(){this.Ql(!0);this.lc().eY();this.Ub=0}FD(w){this.lj()&&(this.lc().yY(w),this.Ub=0)}HB(w){this.lj()&&(this.lc().hY(w),
this.Ub=0)}e9(w){const y=new Promise(z=>q.add({resolve:z,Z$:w}));-1===v&&(v=self.requestAnimationFrame(t));return y}MY(){return!!this.zP.desynchronized}mW(){let w=0;for(const y of d.U.yx.Q$())w+=y.UB();return w}Ln(){return 2<=this.gd}lj(){return!!this.fd}y2(w){this.gy.add(w)}f7(w){this.gy.delete(w)}c5(w){this.b5([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,
w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.OX=class{constructor(e){d=e;Object.defineProperties(this,{xaa:{value:{},writable:!1},storage:{value:new self.QX(d),writable:!1},xla:{value:d.Lk,writable:!1}});d.Gd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Gd.addEventListener("keyup",c=>a.delete(c.key));d.Ib().addEventListener("window-blur",()=>a.clear());d.Lk&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}e5(e){Object.defineProperties(this.xaa,e)}addEventListener(e,c){d.Gd.addEventListener(e,c)}removeEventListener(e,c){d.Gd.removeEventListener(e,c)}get gS(){return d.ks()}random(){return d.Fp()}get If(){return d.wb().$t}get keyboard(){const e=d.zy.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get sS(){const e=d.zy.sS;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get dJ(){const e=d.zy.dJ;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Gs("alert",{message:e+(d.Lk?" [via Web Worker]":"")})}}}"use strict";self.JX=class{constructor(){}};{"use strict";const d=self.vh;self.QX=class{constructor(a){this.Ru=a.O4()}getItem(a){d.Ld(a);return this.Ru.getItem(a)}setItem(a,b){d.Ld(a);return this.Ru.setItem(a,b)}removeItem(a){d.Ld(a);return this.Ru.removeItem(a)}clear(){return this.Ru.clear()}keys(){return this.Ru.keys()}}}
{"use strict";const d=self.vh,a=new WeakMap;self.NK=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.H().lO(this,b)}addEventListener(b,e){d.Ld(b);d.hj(e);a.get(this).Gd.addEventListener(b,e)}removeEventListener(b,e){d.Ld(b);d.hj(e);a.get(this).Gd.removeEventListener(b,e)}*lS(){for(const b of a.get(this).da())yield b.zg()}nI(b){d.sf(void 0);d.sf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.H();b=c.wb().T(b);if(!b)throw Error("invalid layer");e=c.yB(e,b,void 0,void 0,void 0);c=c.ga();c.$d(!0);e.cy();c.$d(!1);return e.zg()}}}
{"use strict";const d=self.vh,a=new WeakMap;self.NX=class{constructor(b){a.set(this,b);const e=[],c=b.Ka,g=c.Kf().length;for(let n=0;n<g;++n)e.push(new self.vC(c,n));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.ya(),writable:!1}})}addEventListener(b,e){d.Ld(b);d.hj(e);a.get(this).Gd.addEventListener(b,e)}removeEventListener(b,e){d.Ld(b);d.hj(e);a.get(this).Gd.removeEventListener(b,e)}get width(){return a.get(this).ba()}set width(b){a.get(this).Th(b)}get height(){return a.get(this).aa()}set height(b){a.get(this).Oh(b)}set scale(b){d.qk(b);
a.get(this).rD(b)}get scale(){return a.get(this).Ec}set angle(b){d.qk(b);a.get(this).od(b)}get angle(){return a.get(this).Ga()}set scrollX(b){d.sf(b);a.get(this).Ph(b)}get scrollX(){return a.get(this).mf()}set scrollY(b){d.sf(b);a.get(this).Qh(b)}get scrollY(){return a.get(this).nf()}scrollTo(b,e){d.sf(b);d.sf(e);const c=a.get(this);c.Ph(b);c.Qh(e)}set yS(b){d.Ld(b);const e=a.get(this);if("perspective"===b)e.CM();else if("orthographic"===b)e.zM();else throw Error("invalid projection");}get yS(){return a.get(this).Re?
"orthographic":"perspective"}}}
{"use strict";const d=self.B,a=self.vh,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.A(d.Wa);self.MX=class{constructor(c){b.set(this,c);const g=[],n=c.Ka,h=n.Kf().length;for(let l=0;l<h;++l)g.push(new self.vC(n,l));Object.defineProperties(this,{name:{value:c.wa(),writable:!1},index:{value:c.ya(),
writable:!1},If:{value:c.Yb().$t,writable:!1}})}get isVisible(){return b.get(this).yc()}set isVisible(c){b.get(this).Hg(c)}get opacity(){return b.get(this).He()}set opacity(c){c=d.ea(+c,0,1);isNaN(c)||b.get(this).jj(c)}set scale(c){a.qk(c);b.get(this).AM(c)}get scale(){return b.get(this).Ec}set angle(c){a.qk(c);b.get(this).od(c)}get angle(){return b.get(this).Pd}set Jv(c){a.qk(c);b.get(this).Ke(c)}get Jv(){return b.get(this).Va()}set backgroundColor(c){a.bD(c);if(3>c.length)throw Error("expected 3 elements");
e.Ir(c[0],c[1],c[2]);c=b.get(this);const g=c.Ck;g.nl(e)||(g.Qj(e),c.H().Z())}get backgroundColor(){const c=b.get(this).Ck;return[c.Pa,c.Sa,c.Ra]}set scrollX(c){a.sf(c);const g=b.get(this);g.Os(!0);g.Ph(c)}get scrollX(){return b.get(this).mf()}set scrollY(c){a.sf(c);const g=b.get(this);g.Os(!0);g.Qh(c)}get scrollY(){return b.get(this).nf()}scrollTo(c,g){a.sf(c);a.sf(g);const n=b.get(this);n.Os(!0);n.Ph(c);n.Qh(g)}}}
{"use strict";const d=self.B,a=self.vh,b=new WeakMap,e=new WeakMap;function c(n){let h=e.get(n);if(h)return h;h=d.A(d.Event.Ib);e.set(n,h);return h}let g=null;self.xs=class{constructor(){b.set(this,g);const n={jc:{value:g.H().ti,writable:!1},HI:{value:g.G().au,writable:!1},uid:{value:g.Fc,writable:!1}};g.G4(n);g.B4(n);Object.defineProperties(this,n);g.H().lO(this,g)}static Yh(n){g=n}static ft(){return g}qt(){const n=e.get(this);n&&(n.m(),e.delete(this));b.delete(this)}addEventListener(n,h,l){a.Ld(n);
a.hj(h);c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.Ld(n);a.hj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}
{"use strict";const d=self.B,a=self.vh,b=self.xs,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.Wa);self.Ow=class c extends b{constructor(){super();var g=b.ft();e.set(this,g);const n=[];var h=g.j();if(g=h.Sd){h=h.G().Ka.Kf().length;for(let l=0;l<h;++l)n.push(new self.vC(g,l))}}get If(){return e.get(this).j().Yb().$t}get vd(){return e.get(this).j().T().P9}get x(){return e.get(this).j().ia()}set x(g){g=
+g;const n=e.get(this).j();isNaN(g)||n.ia()===g||(n.Ig(g),n.Oa())}get y(){return e.get(this).j().ja()}set y(g){g=+g;const n=e.get(this).j();isNaN(g)||n.ja()===g||(n.Jg(g),n.Oa())}get Jv(){return e.get(this).j().Va()}set Jv(g){g=+g;const n=e.get(this),h=n.j();isNaN(g)||h.Va()===g||(h.Ke(g),n.H().Z())}get width(){return e.get(this).j().ba()}set width(g){g=+g;const n=e.get(this).j();isNaN(g)||n.ba()===g||(n.Th(g),n.Oa())}get height(){return e.get(this).j().aa()}set height(g){g=+g;const n=e.get(this).j();
isNaN(g)||n.aa()===g||(n.Oh(g),n.Oa())}get angle(){return e.get(this).j().Ga()}set angle(g){g=d.Zd(+g);const n=e.get(this).j();isNaN(g)||n.Ga()===g||(n.od(g),n.Oa())}uI(){e.get(this).j().xc().zba()}get isVisible(){return e.get(this).j().yc()}set isVisible(g){g=!!g;const n=e.get(this),h=n.j();h.yc()!==g&&(h.Hg(g),n.H().Z())}get opacity(){return e.get(this).j().He()}set opacity(g){g=d.ea(+g,0,1);const n=e.get(this),h=n.j();isNaN(g)||h.He()===g||(h.jj(g),n.H().Z())}get zIndex(){return e.get(this).j().Bg()}$e(g,
n){a.sf(g);a.sf(n);return e.get(this).j().kp(+g,+n)}getParent(){const g=e.get(this).xa();return g?g.zg():null}*yv(){for(const g of e.get(this).yv())yield g.zg()}*children(){for(const g of e.get(this).children())yield g.zg()}*Pj(){for(const g of e.get(this).Pj())yield g.zg()}removeChild(g){a.cD(g,c);const n=e.get(this);g=e.get(g);n.gj(g)}}}{"use strict";const d=new WeakMap;self.Zda=class extends self.Ow{constructor(){super();d.set(this,self.xs.ft())}focus(){d.get(this).ma.WJ()}blur(){d.get(this).ma.oJ()}}}
{"use strict";const d=self.B,a=self.vh,b=new WeakMap,e=new WeakMap;function c(n){let h=e.get(n);if(h)return h;h=d.A(d.Event.Ib);e.set(n,h);return h}let g=null;self.LX=class{constructor(){b.set(this,g);const n={jc:{value:g.H().ti,writable:!1},behavior:{value:g.Yj().FW(),writable:!1}};Object.defineProperties(this,n)}static Yh(n){g=n}static ft(){return g}get instance(){return b.get(this).fa.zg()}qt(){const n=e.get(this);n&&(n.m(),e.delete(this));b.delete(this)}addEventListener(n,h,l){a.Ld(n);a.hj(h);
c(this).addEventListener(n,h,l)}removeEventListener(n,h,l){a.Ld(n);a.hj(h);c(this).removeEventListener(n,h,l)}dispatchEvent(n){c(this).dispatchEvent(n)}}}{"use strict";const d=new WeakMap;self.KX=class{constructor(a){d.set(this,a);Object.defineProperties(this,{jc:{value:a.H().ti,writable:!1}})}}}
{"use strict";const d=self.B,a=self.vh,b=new WeakMap;self.vC=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Kf()[this.index].wa()}getParameter(e){a.qk(e);e=Math.floor(+e);const c=b.get(this).Mf(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.Wa?[e.Pa,e.Sa,e.Ra]:e}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.uT=class extends d.ca{constructor(e,c){super();var g=c.exportType;this.g=e;this.Lz=new Map;this.Nq=new Map;this.h$=new Map;this.iz="cordova"===g;this.DQ=!!c.isiOSCordova;this.iu=!!c.isFileProtocol;this.E$=c.supportedAudioFormats||{};this.o9=
new Map;this.mQ=this.WP="";this.Cy="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.aF=[];this.jF=new Map;this.cI=[];this.Jz=[];this.hQ=!1;this.Dz=this.iF=this.Zu=0;this.bG=!1;this.g$=d.A(d.E_,()=>this.HN(),50);this.qH=new d.HL(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [n,h]of Object.entries(e))this.Lz.set(n.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [n,
h]of Object.entries(c))this.h$.set(n,h);new self.JX(this)}m(){this.Lz.clear();for(const e of this.Nq.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Nq.clear();for(const e of this.aF)e.m();d.D(this.aF);this.jF.clear();d.D(this.Jz);this.g=null}H(){return this.g}g8(e){this.WP=e}l8(e){this.mQ=e}lE(e){return this.Lz.has(e.toLowerCase())}Kx(e){return this.Lz.get(e.toLowerCase())||null}qK(e){if(!this.lE(e))return e;e=e.toLowerCase();var c=this.Nq.get(e);c||(c=this.Kx(e),c=URL.createObjectURL(c),
this.Nq.set(e,c));return c}Xj(e,c){c=c||this.Cy;const g=this.Kx(e);if(g)return Promise.resolve(g);if(d.LC(e)){const n=e.toLowerCase();return this.iz&&this.iu?this.FJ(n):"local"===c?this.qH.wc(()=>d.Xj(n)):d.Xj(n)}return d.Xj(e)}Xr(e){const c=this.Kx(e);if(c)return d.zT(c);if(d.LC(e)){const g=e.toLowerCase();return this.iz&&this.iu?this.EJ(g):"local"===this.Cy?this.qH.wc(()=>d.Xr(g)):d.Xr(g)}return d.Xr(e)}Yr(e){const c=this.Kx(e);if(c)return d.nJ(c);if(d.LC(e)){const g=e.toLowerCase();return this.iz&&
this.iu?this.gU(g):"local"===this.Cy?this.qH.wc(()=>d.Yr(g)):d.Yr(g)}return d.Yr(e)}async UJ(e){e=await this.Yr(e);return JSON.parse(e)}RD(e,c){return this.g.Gs("cordova-fetch-local-file",{filename:e,as:c})}gU(e){return this.RD(e,"text")}async FJ(e){const c=await this.RD(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Yd(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async fU(e){e=e.toLowerCase();var c=this.Nq.get(e);if(c)return c;c=await this.FJ(e);c=URL.createObjectURL(c);this.Nq.set(e,
c);return c}EJ(e){return this.RD(e,"buffer")}eX(e,c=""){if(d.yC(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.lE(e)?Promise.resolve(this.qK(e)):this.iz&&this.iu?this.fU(c+e):Promise.resolve(c+e.toLowerCase())}Zw(e){if(e.vv&&!a.has(e.vv))throw Error("invalid load policy");let c=this.jF.get(e.url);if(c)return c;c=d.A(d.OK,this,{url:e.url,size:e.size||0,vv:e.vv||this.Cy});this.aF.push(c);this.jF.set(c.Kj,c);this.hQ||(this.Zu+=c.Cl(),this.Jz.push(c.hL().then(()=>
this.fN(c.Cl()))));return c}async XM(){try{await Promise.all(this.Jz),this.Dz=1}catch(e){console.error("Error loading: ",e),this.bG=!0,this.HN()}}O0(){this.hQ=!0}fN(e){this.iF+=e;this.g$.qB()}HN(){const e=d.A(d.Event,"loadingprogress");this.Dz=d.ea(this.iF/this.Zu,0,1);e.progress=this.Dz;this.g.Ib().dispatchEvent(e)}z8(e){d.vc(this.cI,e);this.cI.length&&this.Jz.push(this.S5())}S5(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,g,n]of this.cI)this.Zu+=n,e.push(this.R5(c,
g).then(()=>this.fN(n)));return Promise.all(e)}async R5(e,c){try{const g=await this.eX(c,this.WP),n=new FontFace(e,`url('${g}')`);this.g.Lk?self.fonts.add(n):document.fonts.add(n);await n.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}FY(){return!!this.E$["audio/webm; codecs=opus"]}U7(e){for(const [c,g,n]of e)this.o9.set(c,{fileName:c,Rka:g.map(h=>({type:h[0],Nka:h[1],dla:c+h[1],fileSize:h[2]})),yla:n})}}}
{"use strict";const d=self.B;d.tT=class extends d.ca{constructor(a,b){super();this.ad=a;this.g=a.H();this.Kj=b.url;this.Zq=b.size;this.PG=b.vv;this.It=null;this.xG=!1;this.mm=null}m(){this.It=this.g=this.ad=this.mm=null}Cl(){return this.Zq}hL(){return"local"===this.PG||this.It?(this.xG=!0,Promise.resolve()):this.mm?this.mm:this.mm=this.ad.Xj(this.Kj,this.PG).then(a=>{this.xG=!0;this.mm=null;return this.It=a}).catch(a=>console.error("Error loading resource: ",a))}IC(){return this.xG}cW(){return this.It?
Promise.resolve(this.It):this.mm?this.mm:this.ad.Xj(this.Kj,this.PG)}}}
{"use strict";const d=self.B,a=new d.HL,b=new Set;d.OK=class extends d.tT{constructor(e,c){super(e,c);this.Mj=this.So=null;this.sc=0;this.oQ=this.qQ=-1;b.add(this)}m(){this.Mh();if(0!==this.sc)throw Error("released image asset which still has texture references");this.So=null;b.delete(this);super.m()}static Dp(){for(const e of b)e.So=null,e.Mj=null,e.sc=0}Cs(e,c){c=c||{};this.sc++;if(this.Mj)return Promise.resolve(this.Mj);if(this.So)return this.So;c.XR=this.g.W.JR;return this.So=this.cW().then(g=>
a.wc(()=>e.Yv(g,c).then(n=>{this.So=null;if(0===this.sc)return e.Qi(n),null;this.Mj=n;this.qQ=n.ba();this.oQ=n.aa();return this.Mj}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Mh(){if(0>=this.sc)throw Error("texture released too many times");this.sc--;0===this.sc&&this.Mj&&(this.Mj.jb().Qi(this.Mj),this.Mj=null)}Jd(){return this.Mj}ba(){return this.qQ}aa(){return this.oQ}}}
{"use strict";const d=self.B;function a(b,e){return b.j().Oj-e.j().Oj}d.P_=class extends d.ca{constructor(b,e,c){super();this.N=e;this.J=c;this.F=[];this.ku=!0;this.Di=new Set;this.eu=!1}m(){d.D(this.F);this.Di.clear()}$c(){d.D(this.F);this.ku=!0;this.Di.clear();this.eu=!1}v0(){this.ku=!1}wn(){if(!this.F.length)return!0;if(this.F.length>this.Di.size)return!1;this.hE();return!0}xC(b){this.Di.has(b)?(this.Di.delete(b),0===this.Di.size&&(this.eu=!1)):(this.F.push(b),this.ku=1===this.F.length)}Eg(b){this.Di.add(b);
this.eu=!0;50<=this.Di.size&&this.hE()}hE(){this.eu&&(this.F.length===this.Di.size?this.$c():(d.qg(this.F,this.Di),this.Di.clear(),this.eu=!1))}j4(){this.ku||(this.F.sort(a),this.ku=!0)}EB(b){this.hE();this.j4();this.F.length&&b.push(this.F)}}}
{"use strict";const d=self.B;d.Q_=class extends d.ca{constructor(a,b){super();this.vF=a;this.uF=b;this.ei=d.A(d.Fs)}m(){this.ei.m();this.ei=null}xl(a,b,e){let c=this.ei.Y(a,b);return c?c:e?(c=d.A(d.P_,this,a,b),this.ei.Set(a,b,c),c):null}Uh(a){return Math.floor(a/this.vF)}Vh(a){return Math.floor(a/this.uF)}uk(a,b,e){if(b)for(let c=b.M,g=b.$;c<=g;++c)for(let n=b.K,h=b.V;n<=h;++n){if(e&&e.$e(c,n))continue;const l=this.xl(c,n,!1);l&&(l.Eg(a),l.wn()&&this.ei.Ym(c,n))}if(e)for(let c=e.M,g=e.$;c<=g;++c)for(let n=
e.K,h=e.V;n<=h;++n)b&&b.$e(c,n)||this.xl(c,n,!0).xC(a)}dx(a,b){let e=this.Uh(a.M);const c=this.Vh(a.K),g=this.Uh(a.$);for(a=this.Vh(a.V);e<=g;++e)for(let n=c;n<=a;++n){const h=this.xl(e,n,!1);h&&h.EB(b)}}sZ(a){let b=a.M;const e=a.K,c=a.$;for(a=a.V;b<=c;++b)for(let g=e;g<=a;++g){const n=this.xl(b,g,!1);n&&n.v0()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.md,e=[],c=new d.Rect,g=new d.Rect,n=self.Sj,h=n.cB,l=n.Hv,m=n.Qm;m.create();const p=h.create(),u=l.create(),q=h.create(),v=h.create(),t=h.create(),w=d.A(d.Ys);function y(D,H){return D.j().Oj-H.j().Oj}function z(D,H){return D.j().Va()-H.j().Va()}const F=[],G=[],Q=[];d.OC=class extends d.ca{constructor(D,H,J){super();this.Ci=D;this.g=D.H();this.Da=J[0];this.Na=H;this.$a=J[2];this.Bz=!!J[3];this.Ck=d.A(d.Wa);this.Ck.rl(J[4].map(M=>M/255));this.jm=!!J[5];
this.Cd=J[6];this.Dd=J[7];this.Ya=d.A(d.Wa,1,1,1,J[8]);this.Zz=d.A(d.Wa);this.sG=J[9];this.y$=J[17];this.NR=J[18];this.J$=J[10];this.Gi=J[11];this.am=J[12];this.wj=null;this.Ec=1;this.Gc=J[16];this.gh=this.fh=this.Pd=0;this.Ik=!1;this.Xe=d.A(d.Rect);this.TR=d.A(d.Rect);this.Gm=d.A(d.Rect);this.Ho=m.create();this.BG=!0;this.aR=m.create();this.yG=!0;this.SR=d.A(d.U.a2);this.Az=!0;this.GR=[];this.Bj=[];this.By=[];this.tQ=new Map;this.F=[];this.Xn=this.eI=!1;this.Ka=d.A(d.Vj,this,J[15]);this.Xq=null;
this.FG=[];this.rz=!1;this.d$=d.A(d.Rect,0,0,-1,-1);this.D9=d.A(d.Rect,0,0,-1,-1);this.P9=new self.MX(this);this.uP();this.Nn()&&(this.Xq=d.A(d.Q_,this.g.gg,this.g.fg));for(const M of J[14])D=this.g.Ge(M[1]),this.Ci.dN(D),D.uq||D.kM(M),this.Bj.push(M),this.tQ.set(M[2],M);d.vc(this.GR,this.Bj)}static Ma(D,H,J){return d.A(d.OC,D,H,J)}m(){this.g=this.Ci=null}IW(D){return this.tQ.get(D)}jU(D){const H=this.Ci.vo;let J=0;const M=this.Bj;for(let R=0,V=M.length;R<V;++R){var P=M[R];const Z=this.g.Ge(P[1]);
let ca=!0;if(!Z.sC()||H)P=this.g.yh(P,this,!0),D.push(P),Z.Qf()&&(ca=!1,this.By.push(P.Fc));ca&&(M[J]=M[R],++J)}d.Ce(M,J);this.g.wd();this.Vf()}Xf(D,H){const J=D.j();if(J.T()!==this)throw Error("instance added to wrong layer");this.F.push(D);0!==J.Va()&&(this.Xn=!0);H&&this.Nn()&&D.j().Oa();this.Vf()}W5(D){this.F.includes(D)||(this.F.push(D),0!==D.j().Va()&&(this.Xn=!0),this.Vf())}L6(D){const H=D.j();if(H.T()!==this)throw Error("instance added to wrong layer");this.F.unshift(D);0!==H.Va()&&(this.Xn=
!0);this.Vf()}Sn(D,H){const J=this.F.indexOf(D);0>J||(H&&this.Nn()&&D.j().JO(),this.F.splice(J,1),this.Vf(),this.qO())}YO(){this.Xn=!0}qO(){0===this.F.length&&(this.Xn=!1)}LE(D){if(D){D=new Set;for(var H of this.F){var J=H.j().Oj;0<=J&&D.add(J)}H=-1;for(const M of this.F)if(J=M.j(),!(0<=J.Oj)){for(++H;D.has(H);)++H;J.ay(H)}}this.F.sort(y)}i4(){for(const D of this.F)D.G().Qf()||this.g.Zm(D);this.g.wd();d.D(this.F);this.Xn=!1;this.Vf()}Hs(D,H,J,M,P){const R=this.g.ga(),V=this.g.zc,Z=D.Ta,ca=[];for(const ka of this.Bj){var Y=
ka[0];if(H.$e(Y[0],Y[1])){Y=V[ka[1]];if(Y!==D)if(Z){if(!D.TJ(Y))continue}else continue;Y=this;var ha=this.g.Ha();this.Yb()!==ha&&((Y=ha.oK(this.wa()))||(Y=ha.xw(this.ya())));ha=this.g.yh(ka,Y,!1,void 0,void 0,!1,P);Y.BD(ha);Y=ha.j();Y.$w(J,M);Y.Oa();R.$d(!0);ha.cy();R.$d(!1);ca.push(ha)}}return ca}Yb(){return this.Ci}wa(){return this.Da}ya(){return this.Na}H(){return this.g}Zj(){return this.g.Zj()}Nn(){return this.J$&&!this.NR}b1(){this.rz=!1}yc(){return this.Bz}Hg(D){D=!!D;this.Bz!==D&&(this.Bz=
D,this.g.Z())}Os(D){D=!!D;if(this.Ik!==D){if(this.Ik=D)D=this.Yb(),this.fh=D.mf(),this.gh=D.nf();this.qj();this.g.Z()}}Ph(D){var H=this.Yb();const J=H.zK();H=H.AK();D>H&&(D=H);D<J&&(D=J);this.fh!==D&&(this.fh=D,this.Ik&&(this.qj(),this.g.Z()))}Qh(D){var H=this.Yb();const J=H.BK();H=H.yK();D>H&&(D=H);D<J&&(D=J);this.gh!==D&&(this.gh=D,this.Ik&&(this.qj(),this.g.Z()))}mf(){return this.Ik?this.fh:this.Yb().mf()}nf(){return this.Ik?this.gh:this.Yb().nf()}kE(){const D=this.Yb();return[D.mC(),D.nC()]}JK(D,
H){var J=this.TR;if(0===D)H.ta(J);else{let V=J.Er(),Z=J.Fr();var M=this.YJ(D);const ca=J.width()/M;J=J.height()/M;const [Y,ha]=this.kE();if(.5!==Y||.5!==ha){const ka=this.jw();var P=this.g,R=100/ka;M=(Y-.5)*P.Gf/R;P=(ha-.5)*P.Ff/R;R=this.Ga();0!==R&&(w.set(M,P),w.rotate(R),M=w.N,P=w.J);D=d.bB(ka,0,D);V+=d.Hd(M,0,D);Z+=d.Hd(P,0,D)}H.set(V-ca/2,Z-J/2,V+ca/2,Z+J/2)}}He(){return this.Ya.Qa}jj(D){D=d.ea(D,0,1);this.Ya.Qa!==D&&(this.Ya.Ev(D),this.uP(),this.g.Z())}uP(){this.Zz.ta(this.Ya);this.Zz.QI()}fC(){return this.Zz}Dl(){return this.Ya.pv(1,
1,1,1)}d1(D){this.Gi!==D&&(this.Gi=D,this.qj(),this.g.Z())}Y0(D,H){if(this.Cd!==D||this.Dd!==H)if(this.Cd=D,this.Dd=H,this.qj(),this.g.Z(),1!==this.Cd||1!==this.Dd)for(const J of this.F)J.G().FE(!0)}Ke(D){this.Gc!==D&&(this.Gc=D,this.g.Z())}Va(){return this.Gc}od(D){D=d.Zd(D);this.Pd!==D&&(this.Pd=D,this.qj(),this.g.Z())}Ga(){return d.Zd(this.Ci.Ga()+this.Pd)}CX(){return 0<this.F.length}iE(){return this.$C()&&this.NR?(d.vc(Q,this.F),Q.sort((D,H)=>this.F8(D,H)),Q):this.F}F8(D,H){var J=this.Yb().DP,
M=J[0],P=J[1];J=J[2];var R=D.j();const V=H.j();H=R.ia()-M;D=R.ja()-P;R=R.Va()-J;M=V.ia()-M;P=V.ja()-P;J=V.Va()-J;return M*M+P*P+J*J-(H*H+D*D+R*R)}o1(D){D=!!D;this.jm!==D&&(this.jm=D,this.g.Z())}K0(D){D=!!D;this.sG!==D&&(this.sG=D,this.g.Z())}PL(){return!this.H().kl||!this.y$}$C(){return!this.PL()}vp(){return this.$C()&&this.Yb().V9}tf(D){this.am!==D&&(this.am=D,this.g.Z())}Ah(){return this.am}aZ(D){return this===D||this.Cd===D.Cd&&this.Dd===D.Dd&&this.Ec===D.Ec&&this.Gi===D.Gi&&this.Pd===D.Pd&&this.mf()===
D.mf()&&this.nf()===D.nf()}Y6(D){0!==D.size&&0<d.qg(this.F,D)&&(this.qO(),this.Vf())}Vf(){this.rz=this.eI=!1}zt(){if(!this.eI){this.F.sort(z);if(this.Nn())for(let D=0,H=this.F.length;D<H;++D){const J=this.F[D].j();J.ay(D);this.Xq.sZ(J.Hu)}else for(let D=0,H=this.F.length;D<H;++D)this.F[D].j().ay(D);this.eI=!0}}xZ(D,H,J){var M=D.j();H=H.j();if(M.T()!==this||H.T()!==this)throw Error("can't arrange Z order unless both objects on this layer");M=M.Bg();H=H.Bg();if(M===H+(J?1:-1))return!1;d.X$(this.F,M);
M<H&&H--;J&&H++;H===this.F.length?this.F.push(D):this.F.splice(H,0,D);this.Vf();return!0}e6(D,H){const J=[];let M=0,P=0,R=D.length,V=H.length;for(;M<R&&P<V;){const Z=D[M],ca=H[P];Z.j().Oj<ca.j().Oj?(J.push(Z),++M):(J.push(ca),++P)}for(;M<R;++M)J.push(D[M]);for(;P<V;++P)J.push(H[P]);return J}d6(D){const H=[],J=D.length;for(let M=0;M<J-1;M+=2)H.push(this.e6(D[M],D[M+1]));1===J%2&&H.push(D[J-1]);return H}c6(D){for(;1<D.length;)D=this.d6(D);return D[0]}Q4(){this.zt();d.D(e);this.Xq.dx(this.Xe,e);return e.length?
1===e.length?e[0]:this.c6(e):[]}t5(){return!this.Zp()&&!this.jm}IM(){return this.yc()&&0<this.He()&&(this.CX()||!this.jm)}Zp(){return this.sG||!this.Dl()||0!==this.Ah()||this.Ka.vs()}os(){return this.wj}N2(D){if(0===D.length)return!0;if(2<=D.length)return!1;D=D[0].bb;return!D.Jl()&&!D.cv&&!D.zF&&this.Dl()}YJ(D){if(this.Ci.Re)return 1;{const H=this.jw();return H/(H-D)}}jw(){return 100/this.Ui()}qj(){this.Az=this.yG=!0}Lx(D){this.yG&&(this.K2(D,this.aR),this.yG=!1);return this.aR}K2(D,H){const J=this.g;
var M=this.Yb();const P=J.gk();var R=J.iH,V=J.jH,Z=(this.mf()-R)*this.Cd+R,ca=(this.nf()-V)*this.Dd+V;this.g.Nk&&(Z=Math.round(Z),ca=Math.round(ca));if(this.vp())h.ta(q,M.DP),h.ta(v,M.z9),h.ta(t,M.A9),M=v[0]-q[0],ca=v[1]-q[1],Z=v[2]-q[2],q[0]=(q[0]-R)*this.Cd+R,q[1]=(q[1]-V)*this.Dd+V,q[2]*=Math.max(this.Cd,this.Dd),v[0]=q[0]+M,v[1]=q[1]+ca,v[2]=q[2]+Z,h.set(p,P,P,1),h.multiply(q,q,p),h.multiply(v,v,p);else{R=(Z+0)*P;V=(ca+0)*P;M=M.Re?100:this.jw();ca=this.Ga();const [ha,ka]=this.kE();if(.5!==ha||
.5!==ka){var Y=100/M;Z=(ha-.5)*J.Gf*P/Y;Y=(ka-.5)*J.Ff*P/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.N,Y=w.J);R+=Z;V+=Y}h.set(q,R,V,M);h.set(v,R,V,M-100);0===ca?h.set(t,0,1,0):h.set(t,Math.sin(ca),Math.cos(ca),0)}D.rJ(H,q,v,t,J.W.kf());1!==P&&(h.set(p,P,P,1),m.scale(H,H,p))}s8(){this.Az=this.BG=!0}Mx(D){this.BG&&(this.L2(D),this.BG=!1);return this.Ho}L2(D){const H=this.g.W,[J,M]=this.kE();this.Ci.Re?D.ET(this.Ho,H.Lf(),H.kf()):.5===J&&.5===M?m.ta(this.Ho,H.Dy):D.Sr(this.Ho,H.Lf()/H.kf(),J,M)}$x(D){D.Vp(this.Mx(D));
let H;H=this.Lx(D);D.Rp(H)}t_(D){this.$x(D);D.Ks(this.Va())}gf(D,H,J){var M=this.g.W;const P=this.Zp();var R=null;let V=null;if(this.g.DC()&&D.As()){const Z=M.pK(this);Z&&(V=Z.kB(),D.FD(V))}P?(R={Oi:this.g.Vc},"low"===M.ri&&(R.width=M.Lf(),R.height=M.kf()),R=this.g.cs(R),D.ke(R),this.jm?D.Uv():D.Ic(this.Ck)):(D.ke(H),this.jm||J||D.Ic(this.Ck));this.wj=R||H;this.$x(D);D.Ks(this.Va());D.Ql(this.$C());this.Ui()>Number.EPSILON&&(this.zt(),M=this.Nn()&&0===this.Va()&&!this.Xn,this.vp()?this.Y3(D):M?this.Z3(D):
this.BN(D,this.iE()));D.Ks(0);D.Pl(0);P&&(D.Ql(!1),this.a4(D,R,H,J));V&&D.HB(V);this.wj=null}BN(D,H){const J=this.Xe,M=this.wj,P=this.Yb().Re,R=this.Yb().MK();let V=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===V)continue;V=Y;const ha=Y.j();ha.yc()&&ha.$K(J,R,P)&&this.xk(Y,ha,D,M)}}Y3(D){const H=this.wj,J=this.ht(),M=this.iE();for(let Z=0,ca=M.length;Z<ca;){var P=M[Z],R=P.j();if(!R.yc()||!R.xp(J)){++Z;continue}(!P.Gp()||0<R.qe)&&G.push(P);var V=P.j().xd();F.push(P);let Y=Z+1;for(;Y<ca;++Y){const ha=
M[Y],ka=ha.j();if(ka.yc()&&ka.xp(J)){if(ka.xd()!==V)break;ha.Gp()?(0<ka.qe&&G.push(ha),F.push(ha)):G.push(ha)}}if(1!==F.length||F[0].pL()){this.U3(D,F);for(let ha=0,ka=G.length;ha<ka;++ha)P=G[ha],R=P.j(),R.Yx(!0),this.xk(P,R,D,H),R.Yx(!1)}else{this.xk(P,R,D,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==P&&(V=R.j(),V.T().xk(R,V,D,H))}Z=Y;d.D(F);d.D(G)}}U3(D,H){const J=this.wj;D.DJ();for(let R=0,V=H.length;R<V;++R){var M=H[R],P=M.j();P.Wx(!0);this.cE(M,P,D)}D.CJ();for(let R=0,V=H.length;R<V;++R)M=
H[R],P=M.j(),this.xk(M,P,D,J),P.Wx(!1);D.BJ()}Z3(D){var H=this.Xq;const J=this.D9,M=this.d$,P=this.Xe;J.set(H.Uh(P.M),H.Vh(P.K),H.Uh(P.$),H.Vh(P.V));this.rz&&J.Nc(M)?H=this.FG:(H=this.Q4(),this.rz=!0,M.ta(J));this.BN(D,H);H!==this.FG&&d.vc(this.FG,H)}xk(D,H,J,M){H.vs()?this.W3(D,H,J,M):this.cE(D,H,J)}cE(D,H,J){H=H.Po;J.ii!==H&&H.oT();D.gf(J)}W3(D,H,J,M){this.V3(D,H,J,M)&&this.$x(J)}V3(D,H,J,M){const P=H.Sd.$h;if(1===P.length){const R=P[0],V=R.bb;if(!V.m$&&H.Dl()&&!D.Jl())return this.X3(D,H,R,V,J),
!1}D=d.YC(J,this.g,D,M,P,null);J.Ks(this.Va());return D}X3(D,H,J,M,P){P.Tl(M);P.tf(H.Ah());M.hy&&this.g.Z();let R=0,V=0;if(M.K$){const [Z,ca]=D.lw();R=1/Z;V=1/ca;(M=D.mw())?g.ta(M):g.set(0,0,0,0)}J=H.Sd.Mf(J.ya());P.Pl(H.Va());P.Up(null,c,g,g,H.xc(),R,V,this.Ec,this.Ga(),this.g.yg(),J);D.gf(P)}a4(D,H,J,M){const P=this.Ka.$h,R=this.g;if(this.N2(P)){D.ke(J);if(1===P.length){var V=P[0];J=V.bb;D.Tl(J);g.set(0,0,1,1);V=this.Ka.Mf(V.ya());D.Up(null,c,g,g,this.Xe,1/R.Lf(),1/R.kf(),this.Ui(),this.Ga(),R.yg(),
V);J.hy&&R.Z()}else D.Sh();M&&0===this.am&&this.Dl()&&0===P.length?D.wB(H):(D.tf(this.am),D.Nl(this.Zz),D.Tr(H));D.sn(H);R.Ll(H)}else d.YC(D,R,this,J,P)}AM(D){this.Ec!==D&&(this.Ec=D,this.Ci.Mv(),this.qj(),this.g.Z())}gk(){return this.Ui()*this.g.gk()}$j(){return this.Ui()*this.g.$j()}Ui(){return(this.Ec*this.Ci.Ec-1)*this.Gi+1}KD(){var D=this.g.iH,H=this.g.jH,J=(this.mf()-D)*this.Cd+D,M=(this.nf()-H)*this.Dd+H;D=this.Ui();H=this.g.Gf/D;D=this.g.Ff/D;J-=H/2;let P=M-D/2;this.g.Nk&&(J=Math.round(J),
P=Math.round(P));M=this.TR;M.set(J,P,J+H,P+D);H=this.Ga();0!==H&&(a.ta(M),a.offset(-M.Er(),-M.Fr()),b.qba(a,H),b.uI(a),a.offset(M.Er(),M.Fr()),M.ta(a));H=this.Gc;this.JK(H,this.Xe);this.vp()?this.GT(H,this.Gm):this.Gm.ta(this.Xe)}GT(D,H){var J=this.g.W,M=J.Cc;J=J.oc;const [P,R]=this.ff(0,0,D),[V,Z]=this.ff(M,0,D),[ca,Y]=this.ff(M,J,D),[ha,ka]=this.ff(0,J,D);D=Math.min(P,V,ca,ha);M=Math.min(R,Z,Y,ka);J=Math.max(P,V,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(D)||(D=-Infinity);isFinite(M)||(M=-Infinity);
isFinite(J)||(J=Infinity);isFinite(za)||(za=Infinity);H.set(D,M,J,za)}ff(D,H,J=0){return this.Q2(D,H,J,this.$j())}Q2(D,H,J,M){const P=this.g;var R=P.jb();const V=this.Ui();l.set(u,0,0,P.Gf/V,P.Ff/V);D/=M;H=u[3]-H/M;M=this.Mx(R);R=this.Lx(R);return d.U.S1(D,H,J,R,M,u,p)?[p[0],p[1]]:[NaN,NaN]}JT(D,H){const J=this.Ec,M=this.Gi,P=this.Cd,R=this.Dd,V=this.Pd;this.Dd=this.Cd=this.Gi=this.Ec=1;this.Pd=0;this.qj();D=this.ff(D,H);this.Ec=J;this.Gi=M;this.Cd=P;this.Dd=R;this.Pd=V;this.qj();return D}Bn(D,H){return this.iO(D,
H,0,this.$j())}fj(D,H,J=0){return this.iO(D,H,J,this.gk()*this.Zj())}iO(D,H,J,M){var P=this.g,R=P.jb();const V=this.Ui();l.set(u,0,0,P.Gf/V,P.Ff/V);P=this.Mx(R);R=this.Lx(R);return d.U.v_(D,H,J,R,P,u,p)?[p[0]*M,(u[3]-p[1])*M]:[NaN,NaN]}ht(){this.Az&&(this.d9(),this.Az=!1);return this.SR}d9(){var D=this.g.jb();const H=this.Mx(D);D=this.Lx(D);this.SR.FT(D,H)}ka(){return{s:this.Ec,a:this.Pd,vl:this.Xe.M,vt:this.Xe.K,vr:this.Xe.$,vb:this.Xe.V,v:this.yc(),bc:this.Ck.toJSON(),t:this.jm,sx:this.fh,sy:this.gh,
hosp:this.Ik,px:this.Cd,py:this.Dd,c:this.Ya.toJSON(),sr:this.Gi,fx:this.Ka.nd(),cg:this.By}}pa(D){this.Ec=D.s;this.Pd=D.a;this.Xe.set(D.vl,D.vt,D.vr,D.vb);this.Bz=!!D.v;this.Ck.rl(D.bc);this.jm=!!D.t;D.hasOwnProperty("sx")&&(this.fh=D.sx);D.hasOwnProperty("sy")&&(this.gh=D.sy);D.hasOwnProperty("hosp")&&(this.Ik=!!D.hosp);this.Cd=D.px;this.Dd=D.py;this.Ya.rl(D.c);this.Gi=D.sr;d.vc(this.By,D.cg);d.vc(this.Bj,this.GR);const H=new Set(this.By);let J=0;for(let M=0,P=this.Bj.length;M<P;++M)H.has(this.Bj[M][2])||
(this.Bj[J]=this.Bj[M],++J);d.Ce(this.Bj,J);this.Ka.Zc(D.fx);this.LE(!1);this.Vf()}BD(D){D.j();if(!this.F.includes(D))if(D.Ie()){var H=[...D.Pj()];H.push(D);H.sort((M,P)=>{M=M.j().No;P=P.j().No;return M-P});for(var J of H)if(J.Jb())for(const M of J.dd)H.includes(M)||(D=[...M.Pj()],D.push(M),D.sort((P,R)=>{P=P.j().No;R=R.j().No;return P-R}),D&&D.length&&H.splice(H.length,0,...D));for(const M of H)this.Xf(M,!0)}else if(this.Xf(D,!0),D.Jb())for(H of D.dd)if(J=[...H.Pj()],J.push(H),J.sort((M,P)=>{M=M.j().No;
P=P.j().No;return M-P}),J&&J.length)for(const M of J)this.Xf(M,!0)}}}
{"use strict";const d=self.B,a=self.sg,b=d.A(d.Rect),e=d.A(d.Rect),c=d.A(d.Rect),g=d.A(d.Wa),n=self.Sj.cB,h=[],l=[],m=[],p=[],u=[];let q=null;function v(t,w){q!==t&&(t.t_(w),q=t)}d.fL=class extends d.ca{constructor(t,w,y){super();this.Ua=t;this.g=t.H();this.Da=y[0];this.u$=y[1];this.t$=y[2];this.S=y[1];this.O=y[2];this.zz=!!y[3];this.Re=!!y[4];this.CA=y[5];this.DA=y[6];this.RP=y[7];this.fc=null;this.$a=y[8];this.Na=w;this.gh=this.fh=0;this.Ec=1;this.Pd=0;this.Eq=new Set;this.mg=new Set;this.Uu=new Set;
this.pq=[];this.hG=[];this.V9=!1;this.DP=n.create();this.z9=n.create();this.A9=n.create();this.Lb=[];this.PQ=new Map;this.QQ=new Map;this.Ka=d.A(d.Vj,this,y[11]);this.wj=null;this.Fo={};this.vo=!0;this.$t=new self.NX(this);this.Gd=d.A(d.Event.Ib);for(const z of y[9])t=d.OC.Ma(this,this.Lb.length,z),this.Lb.push(t),this.PQ.set(t.wa().toLowerCase(),t),this.QQ.set(t.$a,t);for(const z of y[10]){y=this.g.Ge(z[1]);if(!y)throw Error("missing nonworld object class");y.uq||y.kM(z);this.hG.push(z);this.dN(y)}}m(){for(const t of this.Lb)t.m();
d.D(this.Lb);this.Uu.clear();this.g=this.Ua=this.fc=null}H(){return this.g}wa(){return this.Da}ya(){return this.Na}rK(){let t=this.Lb[0].Ui();for(let w=1,y=this.Lb.length;w<y;++w){const z=this.Lb[w];if(0!==z.Cd||0!==z.Dd)t=Math.min(t,z.Ui())}return t}UN(){return.5*this.g.Gf/this.rK()}VN(){return.5*this.g.Ff/this.rK()}zK(){return this.zz?-Infinity:this.UN()}AK(){return this.zz?Infinity:this.ba()-this.UN()}BK(){return this.zz?-Infinity:this.VN()}yK(){return this.zz?Infinity:this.aa()-this.VN()}Ph(t){const w=
this.zK(),y=this.AK();t>y&&(t=y);t<w&&(t=w);this.fh!==t&&(this.fh=t,this.pj(),this.g.Z())}mf(){return this.fh}Qh(t){const w=this.BK(),y=this.yK();t>y&&(t=y);t<w&&(t=w);this.gh!==t&&(this.gh=t,this.pj(),this.g.Z())}nf(){return this.gh}Mv(){this.Ph(this.mf());this.Qh(this.nf());for(const t of this.Lb)t.Ik&&(t.Ph(t.mf()),t.Qh(t.nf()))}r1(t,w){if(this.CA!==t||this.DA!==w)this.CA=t,this.DA=w,this.SY()&&(this.gq(),this.pj(),this.g.Z())}mC(){return this.Re?.5:this.CA}nC(){return this.Re?.5:this.DA}MK(){const t=
this.mC(),w=this.nC();return 0>t||1<t||0>w||1<w}CM(){this.Re&&(this.Re=!1,this.gq(),this.pj(),this.g.Z())}zM(){this.Re||(this.Re=!0,this.gq(),this.pj(),this.g.Z())}SY(){return!this.Re}rD(t){this.Ec!==t&&(this.Ec=t,this.pj(),this.Mv(),this.g.Z())}od(t){t=d.Zd(t);this.Pd!==t&&(this.Pd=t,this.pj(),this.g.Z())}Ga(){return this.Pd}ba(){return this.S}Th(t){!isFinite(t)||1>t||(this.S=t)}aa(){return this.O}Oh(t){!isFinite(t)||1>t||(this.O=t)}T(t){return"number"===typeof t?this.xw(t):this.oK(t.toString())}xw(t){t=
d.ea(Math.floor(t),0,this.Lb.length-1);return this.Lb[t]}oK(t){return this.PQ.get(t.toLowerCase())||null}yw(t){return this.QQ.get(t)||null}gq(){for(const t of this.Lb)t.s8()}pj(){for(const t of this.Lb)t.qj()}SW(){for(const t of this.Lb)if(t.IM()&&t.t5())return g.Qj(t.Ck),g.Ev(1),g;g.Um(0,0,0,0);return g}QN(){return[...this.Eq]}dN(t){if(t.Jb())for(const w of t.$f.Xk)this.Eq.add(w);else this.Eq.add(t)}V4(){return[...this.mg]}nE(t,w){if(t===this||!w)return Promise.resolve();t&&(d.eU(this.mg,t.mg),t.mg.clear());
t=[];for(const y of this.Eq)this.mg.has(y)||(t.push(y.Ap(w)),this.mg.add(y));return Promise.all(t)}async mL(t){if(t.Ta)throw Error("cannot load textures for family");var w=this.g.jb();!w||w.un()||this.mg.has(t)||(this.mg.add(t),w=t.Ap(w),this.x2(w),await w,t.ax(),this.g.Z())}x2(t){this.Uu.add(t);t.then(()=>this.Uu.delete(t)).catch(()=>this.Uu.delete(t))}d2(){return Promise.all([...this.Uu])}vZ(t){if(t.Ta||0<t.F.length)throw Error("cannot unload textures");this.g.jb()&&this.mg.has(t)&&(this.mg.delete(t),
t.Hn())}S8(t,w){if(t!==this&&w)for(const y of this.mg)y.Qf()||t.Eq.has(y)||(y.Hn(),this.mg.delete(y))}pt(){this.mg.clear()}async kP(t){const w=this.g,y=this.Ua,z=w.ga();this.RP&&(this.fc=z.gK(this.RP),this.fc.PE());y.bP(this);this.S=this.u$;this.O=this.t$;this.fh=w.gg/2;this.gh=w.fg/2;this.Mv();this.f6(t);this.e3();this.vo||this.g3();this.pN(this.pq);this.f3();y.QT();w.wd();const F=this.g.j9;await Promise.all(F);d.D(F);if(!w.Ej){for(const G of this.pq)G.u1();for(const G of this.pq)G.mP()}d.D(this.pq);
await Promise.all([...this.Eq].map(G=>G.UC(this.g.jb())));t&&(w.Ib().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.$m(new d.Event("beforeprojectstart")));await this.$m(new d.Event("beforelayoutstart"));w.Ej||await w.me(d.C.ab.L.wL,null,null);await this.$m(new d.Event("afterlayoutstart"));t&&(w.Ib().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.$m(new d.Event("afterprojectstart")));z.v7(y);await this.d2();this.gq();this.pj();this.vo=!1}f6(t){for(const y of this.g.zc)if(!y.Ta&&
y.Se)for(const z of y.da()){const F=z.j();var w=F.T();w=d.ea(w.ya(),0,this.Lb.length-1);w=this.Lb[w];F.ut(w);w.W5(z)}if(!t)for(const y of this.Lb)y.LE(!1)}e3(){for(const t of this.Lb)t.jU(this.pq),t.KD()}g3(){let t=!1;for(const [y,z]of Object.entries(this.Fo)){const F=this.g.zw(parseInt(y,10));if(F&&!F.Ta&&F.sC()){for(const G of z){var w=null;if(F.Se&&(w=this.yw(G.w.l),!w))continue;w=this.g.yh(F,w,!1,0,0,!0);w.Zc(G);t=!0;this.pq.push(w)}d.D(z)}}for(const y of this.Lb)y.LE(!0),y.Vf();t&&(this.g.wd(),
this.g.FO())}pN(t){for(const y of t){if(!y.Jb())continue;const z=y.j(),F=y.hn();for(const G of y.G().$f.Xk)if(G!==y.G()){var w=G.da();w.length>F?y.$p(w[F]):(w=z?this.g.yh(G,z.T(),!0,z.ia(),z.ja(),!0):this.g.yh(G,null,!0,0,0,!0),this.g.wd(),G.dy(),y.$p(w),t.push(w))}}}f3(){for(const t of this.hG)this.g.Ge(t[1]).Jb()||this.g.yh(t,null,!0)}b3(){const t=[],w=this.hG;let y=0;for(let z=0,F=w.length;z<F;++z){const G=w[z],Q=this.g.Ge(G[1]);Q.Qf()?Q.Jb()&&Q.$f.yX()||t.push(this.g.yh(G,null,!0)):(w[y]=G,++y)}d.Ce(w,
y);this.g.wd();this.pN(t)}Hs(t,w,y,z,F,G){if(y)return y.Hs(t,w,z,F,G);y=[];for(const Q of this.Lb)y.push(Q.Hs(t,w,z,F,G));return y.flat()}async J8(){const t=this.Ua;this.g.Ej||await this.g.me(d.C.ab.L.XZ,null,null);t.tM(!0);this.g.ga().Rv();this.vo||this.F7();for(const w of this.Lb)w.i4();for(const w of this.g.zc)if(!(w.Qf()||w.Se||w.xb().im||w.Ta)){for(const y of w.da())this.g.Zm(y);this.g.wd()}t.tM(!1);t.wb()===this&&t.bP(null)}D7(t){const w=t.G().$a.toString();this.Fo.hasOwnProperty(w)||(this.Fo[w]=
[]);this.Fo[w].push(t.nd())}F7(){for(const t of this.Lb){t.zt();for(const w of t.F){const y=w.G();!y.Qf()&&y.sC()&&this.D7(w)}}}Y_(){this.Fo={};this.vo=!0}os(){return this.wj}Zp(){return"low"===this.g.W.ri||this.g.ZH||"low-latency"===this.g.oq||this.Ka.vs()||this.g.jb().As()&&this.g.kl}O2(t){return 0===t.length?!0:2<=t.length?!1:!t[0].bb.Jl()}gf(t){var w=this.g.W;const y=this.Zp();var z=null;y?("low-latency"!==this.g.oq&&(t.ke(null),t.Uv()),z={Oi:this.g.Vc,AI:this.g.ZH||this.Ka.vs()},"low"===w.ri&&
(z.width=w.Lf(),z.height=w.kf()),z=this.g.cs(z),t.ke(z)):t.ke(null);t.Ic(this.SW());this.g.kl&&t.NT();this.wj=z;for(var F of this.Lb)F.KD(),F.IM()&&h.push(F);for(let G=0,Q=h.length;G<Q;){w=h[G];if(w.vp()&&!w.Zp()){l.push(w);for(F=G+1;F<Q;++F){const D=h[F];if(D.vp()&&!D.Zp())l.push(h[F]);else break}if(2<=l.length){this.S3(t,z,l);G+=l.length;d.D(l);continue}d.D(l)}w.gf(t,z,0===G);++G}d.D(h);y&&(t.Ql(!1),this.b4(t,z));this.wj=null}b4(t,w){const y=this.Ka.$h,z=this.g;if(this.O2(y)){t.ke(null);if(1===
y.length){var F=y[0];const G=F.bb;t.Tl(G);e.set(0,0,1,1);c.set(0,0,z.Gf,z.Ff);F=this.Ka.Mf(F.ya());t.Up(null,b,e,e,c,1/z.Lf(),1/z.kf(),this.Ec,this.Ga(),z.yg(),F);G.hy&&z.Z()}else t.Sh();0===y.length?t.wB(w):(t.iD(),t.Ip(),t.Tr(w));t.sn(w);z.Ll(w)}else d.YC(t,z,this,null,y)}S3(t,w,y){var z=this.g.W;t.Ql(!0);for(var F of y)F.zt(),d.Km(m,F.iE());F=y[0];y=null;this.g.DC()&&t.As()&&(z=z.pK(F))&&(y=z.kB(),t.FD(y));for(let H=0,J=m.length;H<J;){F=m[H];var G=F.j(),Q=G.T();if(G.yc()&&G.xp(Q.ht())){(!F.Gp()||
0<G.qe)&&u.push(F);var D=F.j().xd();p.push(F);for(z=H+1;z<J;++z){const M=m[z],P=M.j();if(P.yc()&&P.xp(P.T().ht())){if(P.xd()!==D)break;M.Gp()?(0<P.qe&&u.push(M),p.push(M)):u.push(M)}}if(1!==p.length||p[0].pL()){this.T3(t,w,p);for(let M=0,P=u.length;M<P;++M)F=u[M],G=F.j(),Q=G.T(),G.Yx(!0),v(Q,t),Q.xk(F,G,t,w),G.Yx(!1)}else{v(Q,t);Q.xk(F,G,t,w);for(let M=0,P=u.length;M<P;++M)G=u[M],G!==F&&(Q=G.j(),D=Q.T(),v(D,t),D.xk(G,Q,t,w))}H=z;d.D(p);d.D(u)}else++H}y&&t.HB(y);d.D(m);q=null}T3(t,w,y){t.DJ();for(let Q=
0,D=y.length;Q<D;++Q){var z=y[Q],F=z.j(),G=F.T();F.Wx(!0);v(G,t);G.cE(z,F,t)}t.CJ();for(let Q=0,D=y.length;Q<D;++Q)z=y[Q],F=z.j(),G=F.T(),v(G,t),G.xk(z,F,t,w),F.Wx(!1);t.BJ()}ka(){const t={sx:this.mf(),sy:this.nf(),s:this.Ec,a:this.Ga(),w:this.ba(),h:this.aa(),ortho:this.Re,vpX:this.mC(),vpY:this.nC(),fv:this.vo,persist:this.Fo,fx:this.Ka.nd(),layers:{}};for(const w of this.Lb)t.layers[w.$a.toString()]=w.ka();return t}pa(t){this.fh=t.sx;this.gh=t.sy;this.Ec=t.s;this.Pd=t.a;this.S=t.w;this.O=t.h;this.Re=
!!t.ortho;t.hasOwnProperty("vpX")&&(this.CA=t.vpX);t.hasOwnProperty("vpY")&&(this.DA=t.vpY);this.vo=!!t.fv;this.Fo=t.persist;this.Ka.Zc(t.fx);for(const [w,y]of Object.entries(t.layers))(t=this.yw(parseInt(w,10)))&&t.pa(y);this.gq();this.pj()}ug(t){t.If=this.$t;var w=this.g;(w=w.nb&&!w.ga().Tw())&&a.ED();this.Gd.dispatchEvent(t);w&&a.jB()}$m(t){t.If=this.$t;return this.Gd.qI(t)}}}
{"use strict";const d=self.B;d.fZ=class extends d.ca{constructor(a){super();this.g=a;this.bi=[];this.MG=new Map;this.NG=new Map;this.wu=null;this.uH=[];this.Py=null;this.lz=0;this.Du=null}m(){this.Du=this.Py=this.wu=this.g=null;d.D(this.bi);this.MG.clear();this.NG.clear();d.D(this.uH)}Ma(a){a=d.A(d.fL,this,this.bi.length,a);this.bi.push(a);this.MG.set(a.wa().toLowerCase(),a);this.NG.set(a.$a,a)}H(){return this.g}G0(a){this.Py=a}yW(){if(this.Py)return this.Py;if(this.bi.length)return this.bi[0];throw Error("no first layout");
}pp(a){return this.MG.get(a.toLowerCase())||null}cC(a){return this.NG.get(a)||null}TW(a){a=d.ea(Math.floor(a),0,this.bi.length-1);return this.bi[a]}Yb(a){return"number"===typeof a?this.TW(a):this.pp(a.toString())}bP(a){this.wu=a}wb(){return this.wu}*Dv(){this.wu&&(yield this.wu);this.uH.length&&(yield*this.uH)}tM(a){if(a)this.lz++;else{if(0>=this.lz)throw Error("already unset");this.lz--}}XK(){return 0<this.lz}Qv(a){this.Du=a}QT(){this.Du=null}yp(){return!!this.Du}Lp(){const a=this.wb();a&&a.gq()}Kp(){const a=
this.wb();a&&a.pj()}}}
{"use strict";const d=self.B;class a{constructor(){this.jc=this.Be=null;this.Jr=this.Kr=this.nh=this.ml=0;this.Dr=new d.Rect;this.ol=new d.Rect;this.Sm=new d.Rect;this.Bv=new d.Rect;this.Gr=new d.Rect;this.clearRect=new d.Rect;this.$A=new d.Rect;this.jS=[null,null];this.Pm=0;this.$o=1;this.Br=this.Cr=this.rr=this.qr=0;this.pl=this.ef=this.ud=this.vd=this.If=null;this.LA=this.NI=this.UA=!1;this.TA=null}Ic(){this.TA=this.pl=this.ef=this.ud=this.vd=this.If=this.jc=this.Be=null}w1(h){h=h.bb;if(h.Jl())return!0;
if(this.ud)return h.cv&&(0!==this.ef.Ga()||0>this.ef.ba()||0>this.ef.aa())||0!==this.qr||0!==this.rr||!this.ef.Dl()||this.ud.Jl();if(this.vd)return!this.vd.Dl()}v1(h){h=h.bb;return h.cv||h.zF||this.If&&"low"===this.jc.W.ri}op(h){if(0!==h&&1!==h)throw Error("invalid effect target");const l=this.jS;if(!l[h]){var m=this.jc;const p=m.W;m={Oi:m.Vc};"low"===p.ri&&(m.width=p.Lf(),m.height=p.kf());l[h]=p.cs(m)}return l[h]}H_(){const h=this.jS,l=this.jc.W;h[0]&&(l.Ll(h[0]),h[0]=null);h[1]&&(l.Ll(h[1]),h[1]=
null)}}const b=[];let e=0;const c=new d.md;let g=!1;async function n(h,l,m){l=await d.U.MD.qU(l,m);l=URL.createObjectURL(l);console.log("[FX] "+h+" "+(m?"":" [to display]")+": ",l)}d.YC=function(h,l,m,p,u,q){e===b.length&&b.push(new a);var v=b[e++];v.Be=h;v.jc=l;if(m instanceof d.Instance)v.ud=m,v.ef=v.ud.j();else if(m instanceof d.OC)v.vd=m;else if(m instanceof d.fL)v.If=m;else throw Error("invalid effects object");m=l.W;v.pl=p;v.ml=m.Lf();v.nh=m.kf();v.Kr=v.ml;v.Jr=v.nh;v.Pm=0;v.$o=1;v.qr=0;v.rr=
0;v.Gr.set(0,0,v.ml,v.nh);v.clearRect.set(0,0,v.ml,v.nh);v.LA=!1;v.TA=q;v.ud?(p=v.ef,v.Cr=p.T().gk(),v.Br=p.T().Ga(),v.Dr.ta(p.xc())):v.vd?(p=v.vd,v.Cr=p.gk(),v.Br=p.Ga(),v.Dr.ta(p.Xe)):(p=v.If,v.Cr=p.Ec,v.Br=p.Ga(),v.Dr.set(0,0,v.ml,v.nh));if(v.ud){{for(let H=0,J=u.length;H<J;++H)p=u[H].bb,v.qr+=p.SP,v.rr+=p.TP;var t=v.ef;p=t.T();m=p.Ga();q=t.xc();var w=t.xd();t=t.qe;let [F,G]=p.fj(q.M,q.K,w),[Q,D]=p.fj(q.$,q.V,w);if(0!==m||0<t){const [H,J]=p.fj(q.$,q.K,w),[M,P]=p.fj(q.M,q.V,w);if(0<t){m=w+t;const [R,
V]=p.fj(q.M,q.K,m),[Z,ca]=p.fj(q.$,q.K,m),[Y,ha]=p.fj(q.$,q.V,m),[ka,za]=p.fj(q.M,q.V,m);p=Math.min(F,Q,H,M,R,Z,Y,ka);Q=Math.max(F,Q,H,M,R,Z,Y,ka);F=p;p=Math.min(G,D,J,P,V,ca,ha,za);D=Math.max(G,D,J,P,V,ca,ha,za);G=p}else p=Math.min(F,Q,H,M),Q=Math.max(F,Q,H,M),F=p,p=Math.min(G,D,J,P),D=Math.max(G,D,J,P),G=p}p=v.Gr;q=v.Bv;m=v.Sm;w=v.clearRect;t=v.ol;p.set(F,G,Q,D);p.ZI(v.nh);q.ta(p);q.ll(v.Kr,v.Jr);q.cp();p.PA(v.qr,v.rr);m.ta(p);m.ll(v.Kr,v.Jr);m.cp();w.ta(p);w.mba();w.PA(v.qr+1,v.rr+1);p.ea(0,0,
v.ml,v.nh);w.ea(0,0,v.ml,v.nh);t.ta(p);t.ll(v.Kr,v.Jr);t.cp()}}else v.ol.set(0,0,v.ml/v.Kr,v.nh/v.Jr),v.Sm.ta(v.ol),v.Bv.ta(v.ol),v.ol.cp(),v.Sm.cp(),v.Bv.cp();h.iD();h.Ip();h.Ks(0);h.Pl(0);v.UA=v.w1(u[0]);v.UA&&(p=v.Be,p.Sh(),q=v.op(v.Pm),p.ke(q),(m=v.TA)&&m.OI&&m.OI(),p.tB(v.clearRect),v.ud?(p.Nl(v.ef.fC()),p.Pl(v.ef.xd()),v.ud.gf(p),p.Pl(0)):(m=(v.vd||v.If).os(),v.vd?p.Nl(v.vd.fC()):p.Ip(),p.Tr(m),p.sn(m),v.jc.W.Ll(m)),v.Sm.aS(),v.Pm=1,v.$o=0,g&&n("Pre-draw",p,q));h.Ip();p=u.length-1;v.NI=v.v1(u[p]);
for(let F=0,G=u.length;F<G;++F){m=u[F];q=m.bb;h.Tl(q);q.hy&&l.Z();if(0!==F||v.UA){h.jM();var y=void 0,z=void 0;q=v;y=m;z=F===p&&!v.NI;m=F;w=q.Be;t=q.jc;0===m&&q.UA&&q.ud&&q.Gr.ZI(q.nh);z?(q.ud?w.tf(q.ef.Ah()):q.vd&&w.tf(q.vd.Ah()),z=q.pl,w.ke(z)):(z=q.op(q.Pm),w.ke(z),w.tB(q.clearRect));y=q.ud?q.ef.Sd.Mf(y.ya()):(q.vd||q.If).Ka.Mf(y.ya());w.Up(q.pl,q.Sm,q.ol,q.Bv,q.Dr,1/q.Kr,1/q.Jr,q.Cr,q.Br,t.yg(),y);y=q.op(q.$o);w.vf(y.Jd());t.W.kD(w);q.LA=!0;c.qh(q.Gr);w.Fn(c,q.ol);q.ud||w.sn(y);g&&n("Bounce "+
m,w,z)}else{q=v;z=m;m=q.Be;w=q.jc;t=q.op(q.Pm);m.ke(t);(y=q.TA)&&y.OI&&y.OI();m.tB(q.clearRect);if(q.ud){const [Q,D]=q.ud.lw();(y=q.ud.mw())?q.$A.ta(y):q.$A.set(0,0,0,0);z=q.ef.Sd.Mf(z.ya());m.Up(q.pl,q.Sm,q.$A,q.$A,q.Dr,1/Q,1/D,q.Cr,q.Br,w.yg(),z);m.Pl(q.ef.xd());q.ud.gf(m);m.Pl(0);q.Sm.aS();q.Gr.ZI(q.nh)}else z=(q.vd||q.If).Ka.Mf(z.ya()),m.Up(q.pl,q.Sm,q.ol,q.Bv,q.Dr,1/q.ml,1/q.nh,q.Cr,q.Br,w.yg(),z),q=(q.vd||q.If).os(),g&&n("Layer target",m,q),m.Tr(q),m.sn(q),w.W.Ll(q);g&&n("First bounce",m,t)}0===
v.Pm?(v.Pm=1,v.$o=0):(v.Pm=0,v.$o=1)}v.NI&&(h=v.Be,v.If?(h.Sh(),h.ke(v.pl),l=v.op(v.$o),h.wB(l),h.sn(l)):(l=v.jc.W,"low"===l.ri?(h.Sh(),l.kD(h,l.Lf(),l.kf()),v.LA=!0):h.z0(),v.ud?h.tf(v.ef.Ah()):v.vd&&h.tf(v.vd.Ah()),h.ke(v.pl),l=v.op(v.$o),h.vf(l.Jd()),c.qh(v.Gr),h.Fn(c,v.ol),v.ud||h.sn(l),g&&n("Post-draw",h,v.pl)));h=v.LA;v.H_();v.Ic();e--;g=!1;return h}}
{"use strict";const d=self.B;d.K1=class extends d.ca{constructor(a){super();this.g=a;this.Xu=d.A(d.Wf);this.v$=null;this.ym=[];this.Yu=new Map;this.Wk=new Map;this.zm=new Map;this.ig=[];this.Bf=[];this.mu=this.mq=this.oo=!1;this.el=()=>this.A6();this.fr=()=>this.xE();this.lF=()=>this.Px();this.LG=()=>this.h6();this.lG=b=>this.xO(b.instance);this.$E=()=>this.uE();this.Qt=[]}m(){this.M_();this.$E=this.lG=this.LG=this.lF=this.fr=this.el=null;for(const a of this.ym)a.Kg(),a.m();d.D(this.ym);this.ym=null;
this.Xu.m();this.Xu=null;d.D(this.ig);this.ig=null;d.D(this.Bf);this.Bf=null;this.Yu.clear();this.Yu=null;this.Wk.clear();this.Wk=null;this.zm.clear();this.zm=null;d.D(this.Qt);this.g=this.Qt=null}iT(){const a=this.g.Ib();a.addEventListener("pretick",this.el);a.addEventListener("tick2",this.fr);a.addEventListener("beforelayoutchange",this.lF);a.addEventListener("layoutchange",this.LG);a.addEventListener("instancedestroy",this.lG);a.addEventListener("afterload",this.$E)}M_(){const a=this.g.Ib();a.removeEventListener("pretick",
this.el);a.removeEventListener("tick2",this.fr);a.removeEventListener("beforelayoutchange",this.lF);a.removeEventListener("layoutchange",this.LG);a.removeEventListener("instancedestroy",this.lG);a.removeEventListener("afterload",this.$E)}Ma(a){this.Xu.wc(a);a=d.yd.iU(a,this);this.wc(a);this.g1(a);this.zm.set(a.wa(),0)}xB(a){a=a.FK();var b=this.Xu.Y(a);b=d.yd.xB(`${a}:${this.zm.get(a)}`,b,this);this.bO(a);this.wc(b);return b}bO(a){this.zm.set(a,this.zm.get(a)+1)}Y7(){for(const a of this.ym)a.Hq||this.bO(a.FK())}T2(){for(const a of this.zm.keys())this.zm.set(a,
0)}wc(a){this.ym.push(a);this.Yu.set(a.wa().toLowerCase(),a)}Eg(a){a.Hq||(d.Zo(this.ym,a),d.Zo(this.ig,a),d.Zo(this.Bf,a),this.Yu.delete(a.wa().toLowerCase()),this.N_(a),a.dh||a.m())}Ia(a){this.g.Ia(a,this.v$,null)}H(){return this.g}EM(a,b){this.Wk.has(a)||this.Wk.set(a,new Set);this.Wk.get(a).add(b)}g1(a){for(const b of a.sK())this.EM(b,a)}N_(a){for(const [b,e]of this.Wk.entries())e.has(a)&&(e.delete(a),0===e.size&&this.Wk.delete(b))}lX(a){if(this.Wk.has(a))return this.Wk.get(a)}Fw(a){return this.Yu.get(a.toLowerCase())||
null}L_(a){d.Zo(this.Bf,a);this.mt()}dM(a){this.Bf.includes(a)?(a.Ps(!0),a.Rs(!1),a.oD(!1)):(a.Ps(!1),a.Rs(!0),a.oD(!1),this.ig.includes(a)||this.ig.push(a));this.oO()}Zv(a){a.Ps(!1);a.Rs(!1);a.dD();d.Zo(this.ig,a);this.mt()}Wv(a){a.Ps(!1);a.Rs(!1);a.oD(!0)}aU(a){this.Wv(a);a.dD()}A6(){if(!this.H().Ej&&this.oo&&!this.mq){var a=!1;for(this.mu=!0;this.ig.length;){var b=this.ig.pop();b.Rc();this.Bf.push(b)}b=this.g.ks();var e=this.g.Xd;for(const c of this.Bf){if(c.Pq)continue;const g=c.le(b,e);!a&&g&&
(a=!0)}this.mu=!1;a&&this.H().Z()}}xE(){if(!this.H().Ej&&this.oo&&!this.mq){var a;for(const b of this.Bf)b.Pq&&(a||(a=new Set),this.pO(b),a.add(b));a&&d.qg(this.Bf,a);this.mt()}}pO(a){a.dh||a.LK()&&a.xf&&a.hm&&a.VJ()}oO(){this.oo||(this.oo=!0)}mt(){this.Bf.length||this.ig.length||this.mu||(this.oo=!1)}Px(){for(this.mq=!0;this.ig.length;)this.Zv(this.ig.pop());const a=new Set;for(const b of this.Bf)b.Px()&&a.add(b);d.qg(this.Bf,a);this.mt();for(const b of this.ym)b.Pi()}h6(){this.mq=!1}xO(a){var b=
a.G();if(b=this.lX(b))if(this.g.Ej)this.Qt.push(a);else for(const e of b)e.Hq||(e.dh?this.Eg(e):e.LK()||(this.pO(e),this.Eg(e)))}uE(){for(const a of this.Qt)this.xO(a);d.D(this.Qt)}ka(){return{timelinesJson:this.K7(),scheduledTimelinesJson:this.I7(),playingTimelinesJson:this.G7(),hasRuntimeListeners:this.oo,changingLayout:this.mq,isTickingTimelines:this.mu}}pa(a){a&&(this.T2(),this.O5(a.timelinesJson),this.L5(a.scheduledTimelinesJson),this.J5(a.playingTimelinesJson),this.oo=!a.hasRuntimeListeners,
this.mq=!!a.changingLayout,this.mu=!!a.isTickingTimelines,this.Y7(),this.oO(),this.mt())}K7(){return this.ym.map(a=>a.ka())}O5(a){for(const b of a){a=this.Fw(b.name);if(!a){a=this.S4(b);if(!a)continue;a=this.Fw(a);a=this.xB(a)}a.pa(b);a.HX()||this.Eg(a)}}S4(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}I7(){return this.WO(this.ig)}L5(a){this.kO(a,this.ig)}G7(){return this.WO(this.Bf)}J5(a){this.kO(a,this.Bf)}u5(a,b){for(const e of b)if(e===a.wa())return!0;return!1}WO(a){return a.map(b=>b.wa())}kO(a,
b){var e=new Set;for(const c of b)this.u5(c,a)||e.add(c);d.qg(b,e);e=c=>g=>g.wa()===c;for(const c of a)(a=this.Fw(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.B;d.yd=class extends d.ca{constructor(a,b,e){super();this.g=e.H();this.tb=e;this.ve=b;this.Da=a;this.Cb=[];for(const c of this.ve.Hw().Bba())this.Cb.push(d.PM.Ma(this,c));this.Wz=this.Eu=null;this.qm=d.A(d.Bs);this.qm.Set(0);this.Yk=1;this.Fi=0;this.hi=1;this.hm=this.Pk=this.qz=!1;this.xf=!0;this.Pq=this.dh=!1;this.nq=-1;this.fm=this.mo=this.Hq=this.bz=!1;this.KQ=NaN;this.lg=[""];this.HR="";this.KH=!1}static iU(a,b){const e=b.Xu.Y(a[0]);a=d.A(d.yd,a[0],e,b);a.S0();return a}static xB(a,
b,e){return d.A(d.yd,a,b,e)}static get b2(){return 1}static get nk(){return d.GI(1)}m(){if(!this.dh){this.tb.Zv(this);this.tb.aU(this);for(const a of this.Cb)a.m();d.D(this.Cb);this.Cb=null;this.qm.m();this.ve=this.tb=this.g=this.qm=null;this.dh=!0;this.Wz=this.Eu=null}}H(){return this.g}kC(a,b,e){const c=[];for(const g of this.Cb){if(a!==g.za())continue;const n=g.fk(e);n&&b.constructor===n.Pc().constructor&&c.push(n)}return c}HX(){return!!this.Cb.length}ox(a){this.Da=a}wa(){return this.Da}FK(){return this.ve.wa()}kd(){return this.ve.kd()}qs(){return this.ve.qs()}Dh(){return this.ve.Dh()}Hh(){return this.ve.Hh()}ij(a){for(const b of this.Cb)b.ij(a)}qp(){return this.ve.qp()}sp(){return this.ve.sp()}Al(){return this.ve.Al()}qx(a){this.Yk=
a}Cg(){return this.IsPlaying()?0<this.Yk:!0}tK(){this.Eu||(this.Eu=new Promise(a=>{this.Wz=a}))}dD(){this.Eu&&(this.Wz(),this.Wz=this.Eu=null)}DM(a){this.lg=d.yd.R4(a);this.KH=!0}zL(){d.C.nc.L.Kn(this);this.tb.Ia(d.C.nc.L.Rfa);this.tb.Ia(d.C.nc.L.Sfa);this.tb.Ia(d.C.nc.L.Tfa);this.tb.Ia(d.C.nc.L.Jfa);d.C.nc.L.Kn(null)}tL(){this.nq=this.g.Ij}VJ(){this.mo||(this.mo=!0,d.C.nc.L.Kn(this),this.tb.Ia(d.C.nc.L.Ofa),this.tb.Ia(d.C.nc.L.Pfa),this.tb.Ia(d.C.nc.L.Qfa),this.tb.Ia(d.C.nc.L.Ifa),d.C.nc.L.Kn(null))}Ps(a){this.qz=
a}TK(){return this.nq===this.g.Ij}IsPlaying(a=!1){return this.TK()||this.Pk&&!a?!0:this.qz}eq(){return this.IsPlaying(!0)}Rs(a){this.Pk=a}iM(a){this.xf=a;a=this.Aa();if(0>=a||a>=this.kd())this.xf=!0}oD(a){this.Pq=a}nD(a){this.bz=a}S0(){this.Hq=!0}Aa(){return this.qm.Y()}Wp(a){const b=this.Aa();this.Nd(a);this.iM(!1);this.xf||this.nD(!0);if(this.eq()||this.Pk||!this.hm)this.eq()||this.Pk||this.hm?this.eq()?this.Kg():this.Pk&&(this.tb.Zv(this),this.rM()):this.rM();this.Nx(a,!1,!0,!0,b)&&this.H().Z();
this.AO()}Nd(a){0>a?this.qm.Set(0):a>=this.kd()?this.qm.Set(this.kd()):this.qm.Set(a)}AO(){d.C.nc&&this.constructor===d.yd&&(d.C.nc.L.Kn(this),this.tb.Ia(d.C.nc.L.Lfa),this.tb.Ia(d.C.nc.L.Mfa),this.tb.Ia(d.C.nc.L.Nfa),d.C.nc.L.Kn(null))}Play(a=!1){return this.dh||this.Pk?!1:this.eq()&&this.TK()?this.O7():this.eq()||!this.xf&&!a&&!this.bz?!1:this.P7()}O7(){this.nD(!1);this.tb.L_(this);this.tb.dM(this);this.tK();return!0}P7(){this.nD(!1);this.tb.dM(this);this.tK();return!0}Kg(a=!1){this.dh||(this.iM(a),
this.tb.Wv(this),this.xf&&this.dD())}$c(a=!0,b=!1){if(!this.dh)if(!this.eq()&&this.Pk)this.tb.Zv(this);else if(!this.xf){this.Kg(!0);this.Cg()?this.Nd(0):this.Nd(this.kd());var e=this.Aa();b=b?this.l5(e):this.Nx(e,!1,!1,!0);a&&this.AO();b&&a&&this.H().Z()}}YL(){this.$c(!1,!0)}l5(a){this.Nx(a,!1,!1,!0,NaN,!1,!0)}Px(){if(this.dh)return!0;if(this.IX())return!1;this.tb.Wv(this);this.YL();return!0}rM(){this.Rc(!0)}Rc(a){if(!this.Pq)if(a){this.fm=this.hm=!0;for(const b of this.Cb)b.Rc()}else if(this.Ps(!0),
this.Rs(!1),this.zL(),this.xf){this.nq=-1;this.Fi=0;this.hi=1;this.mo=this.xf=!1;this.fm=this.hm=!0;this.Cg()?this.Nd(0):this.Nd(this.kd());for(const b of this.Cb)b.Rc()}else{this.fm=!0;for(const b of this.Cb)b.uf()}}le(a,b){if(0!==a||0!==this.KQ){this.KQ=a;var e=this.Aa();this.Nd(e+a*b*this.Yk);var c;this.qp()||this.sp()?this.qp()&&!this.sp()?c=this.T5():!this.qp()&&this.sp()?c=this.J6():this.qp()&&this.sp()&&(c=this.U5()):c=this.D8();if(c){for(const g of this.Cb)g.E0();this.Kg(!0);this.tL();return!0}return this.Nx(this.Aa(),
!0,!1,!1,e,!0)}}Nx(a,b=!1,e=!1,c=!1,g=NaN,n=!1,h=!1){let l=!1;for(var m of this.Cb)m.Qr();for(const p of this.Cb){m=a;if("number"===typeof g){const u=this.Aa()-p.pf(),q=g-p.pf();0>u&&0<q&&(m=p.pf(),this.Nd(m))}m=p.gb(m,b,e,c,this.fm,h);!l&&m&&(l=!0)}for(const p of this.Cb)p.Pr();this.fm&&n&&(this.fm=!1);return l}D8(){if(this.Cg()){if(this.Aa()>=this.kd())if(this.hi<this.Al())this.hi++,this.Nd(0);else return this.Nd(this.kd()),!0}else if(0>=this.Aa())if(this.hi<this.Al())this.hi++,this.Nd(this.kd());
else return this.Nd(0),!0;return!1}T5(){this.Cg()?this.Aa()>=this.kd()&&this.Nd(0):0>=this.Aa()&&this.Nd(this.kd());return!1}J6(){if(this.Cg()){if(this.Aa()>=this.kd())if(this.Nd(this.kd()),this.qx(-1*this.Yk),1===this.Fi)if(this.hi<this.Al())this.hi++,this.Fi=0;else return!0;else 0===this.Fi&&(this.Fi=1)}else if(0>=this.Aa())if(this.Nd(0),this.qx(-1*this.Yk),1===this.Fi)if(this.hi<this.Al())this.hi++,this.Fi=0;else return!0;else 0===this.Fi&&(this.Fi=1);return!1}U5(){this.Cg()?this.Aa()>=this.kd()&&
(this.Nd(this.kd()),this.qx(-1*this.Yk)):0>=this.Aa()&&(this.Nd(0),this.qx(-1*this.Yk));return!1}Pi(){for(const a of this.Cb)a.Pi()}ST(){for(const a of this.Cb)a.PT()}h1(a,b){if(b)for(const e of this.Cb)if(e.Dg()){if(a){if(e.Si()!==a)continue}else if(e.BX())continue;e.P0(b);this.tb.EM(b.G(),this);break}}LK(){return this.Cb.some(a=>a.Dg()?a.rB():!0)}IX(){return this.Cb.some(a=>a.Dg()?a.rB()?(a=a.G())?a.Qf():!1:!1:!1)}fk(a){for(const b of this.Cb)for(const e of b.ic)if(e.La.cd===a)return e}GK(a){for(const b of this.Cb)if(a===
b.za())return b;return null}sK(){const a=[];for(const b of this.Cb)a.push(b.G());return a.filter(b=>b)}ka(){return{tracksJson:this.M7(),name:this.Da,playheadTime:this.Aa(),playbackRate:this.Yk,pingPongState:this.Fi,currentRepeatCount:this.hi,isPlaying:this.qz,isScheduled:this.Pk,initialStateSet:this.hm,finishedTriggers:this.mo,complete:this.xf,released:this.dh,markedForRemoval:this.Pq,completedTick:this.nq,implicitPause:this.bz,isTemplate:this.Hq,tags:this.lg.join(" "),stringTags:this.HR,tagsChanged:this.KH,
firstTick:this.fm}}pa(a){a&&(this.P5(a.tracksJson),this.Da=a.name,this.qm.Set(a.playheadTime),this.Yk=a.playbackRate,this.Fi=a.pingPongState,this.hi=a.currentRepeatCount,this.qz=!!a.isPlaying,this.Pk=!!a.isScheduled,this.hm=!!a.initialStateSet,this.mo=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.xf=!!a.complete,this.dh=!!a.released,this.Pq=!!a.markedForRemoval,this.nq=a.completedTick,this.bz=!!a.implicitPause,this.Hq=!!a.isTemplate,this.lg=a.tags.split(" "),this.HR=a.stringTags,
this.KH=!!a.tagsChanged,this.fm=!!a.firstTick)}M7(){return this.Cb.map(a=>a.ka())}P5(a){a.forEach((b,e)=>{this.Cb[e].pa(b)});this.Cb.filter(b=>b.rB())}static R4(a){if(d.tn(a))return a.slice(0);if(d.Kh(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.PM=class extends d.ca{constructor(a,b){super();this.xm=a;this.Hb=b;this.we=b.Hw();this.Vk=this.Jk=NaN;this.eb=this.eg=null;this.wo=0<b.pf();this.io=this.Fq=!1;this.Ao=null;this.qc=this.Hb.Fh().qc;this.ic=[];for(const e of this.Hb.ge().fba())this.ic.push(d.Xa.Ma(this,e))}static Ma(a,b){return d.A(d.PM,a,b)}m(){this.qc=null;for(const a of this.ic)a.m();d.D(this.ic);this.Ao=this.Hb=this.eb=this.eg=this.xm=this.ic=null}Pi(){for(const a of this.ic)a.Pi();this.eb=this.eg=
null}Zb(){return this.xm}H(){return this.xm.H()}RW(){return this.qc?this.qc:this.qc=this.Hb.Fh().qc}fk(a){for(const b of this.ic)if(b.La.cd===a)return b}Bp(){this.eg||this.za()}lk(){return this.eg?!this.eg.UK():!1}rB(){if(!this.Dg())return!1;const a=this.H().Ti(this.ls());return a?!a.UK():!1}G(){if(this.Dg()){var a=this.eC();if(-1!==a)return this.H().Ge(a)}}PT(){this.eg=null;this.Jk=-1;this.eb=null;this.Vk=-1}BX(){return!!this.eg}za(){return this.eg&&this.lk()?this.eg:this.eg=this.H().Ti(this.ls())}P0(a){if(this.eg!==
a){this.Pi();this.eg=a;this.Vk=a.G().ya();this.Jk=a.Fc;this.eb=a.j();for(const n of this.gba()){const h=n.uba;switch(n.eba.jd()){case "instance-variable":var b=a.G(),e=b.KW(n.name),c=b.mK(e);b=b.ms(e);c===n.name&&b===n.type&&h.X1(e);break;case "behavior":var g=n.iI;e=this.G();c=a.G();b=h.xg(c);g&&b&&(g=g.wa(),e.es(g),c.es(g),h.U1(b.$a))}}}}*gba(){for(const e of this.ic){var a=e.Pc(),b=this.G();const c={eba:e,uba:a};switch(e.jd()){case "world-instance":c.rma=e.La.cd;break;case "instance-variable":a=
a.np();c.name=b.mK(a);c.type=b.ms(a);break;case "effect":b=a.TB(b.Ka);c.Ika=b;break;case "behavior":b=a.xg(b);c.iI=b;break;case "plugin":c.mma=b.xb()}yield c}}j(){if(this.eb&&this.lk())return this.eb;const a=this.za();a&&(this.eb=a.j());return this.eb}ls(){return this.Jk?this.Jk:this.Hb.ls()}Dh(){return this.Hb.Dh()}Hh(){return this.Hb.Hh()}Si(){return this.Hb.Si()}pf(){return this.Hb.pf()}ck(){return this.Hb.ck()}ij(a){for(const b of this.RW())b.ij(a);for(const b of this.ic)b.ij(a)}bk(){return this.Hb.bk()}sk(a){this.Hb.sk(a)}eC(){return isNaN(this.Vk)?
this.Hb.eC():this.Vk}Wi(){const a=this.za();return a&&a.ma.xn()?a.ma.Wi():this.Hb.Wi()}Vi(){const a=this.za();return a&&a.ma.xn()?a.ma.Vi():this.Hb.Vi()}cj(){return this.Hb.cj()}wa(){return this.Hb.wa()}Dg(){return 0===this.cj()}Rc(){this.Bp();if(this.lk()||!this.Dg()){for(var a of this.ic)a.Rc();a=this.Zb().Cg()?0:this.ck();this.Ao=this.bC(a);this.io=this.Fq=!1;this.gb(a)}}uf(){this.Bp();if(this.lk()||!this.Dg()){this.xm.Cg();var a=this.xm.Aa()-this.pf();this.Ao=this.bC(a);for(const b of this.ic)b.uf()}}E0(){if(!(this.Zb().xf||
(this.Bp(),!this.lk()&&this.Dg()||this.wo))){const a=this.xm.Aa();a>=this.pf()+this.ck()?this.gb(this.ck(),!0,!1,!0):0>=a&&this.gb(0,!0,!1,!0)}}Qr(){for(const a of this.ic)a.Qr()}gb(a,b=!1,e=!1,c=!1,g=!1,n=!1){this.Bp();if(!this.lk()&&this.Dg()||n&&this.Dg()&&this.G().Qf())return!1;a-=this.pf();if(0>a)return!1;this.uZ(a,b);this.nL(a,b,g);g=n=!1;for(const h of this.ic){const l=h.gb(a,e,!1,c);n||0===(l&d.yd.b2)||(n=!0);g||0===(l&d.yd.nk)||(g=!0)}this.tZ(a,b);n&&(a=this.j())&&a.Oa();return g}Pr(){for(const a of this.ic)a.Pr()}uZ(a,
b){if(b&&this.wo&&!this.Fq){if(this.Zb().Cg()){if(0>a)return;for(const e of this.ic)e.gb(0,!1,!1,!0)}else{if(a>this.ck())return;for(const e of this.ic)e.gb(this.ck(),!1,!1,!0)}for(const e of this.ic)e.Rc();this.Fq=!0}}tZ(a,b){if(b&&this.wo&&!this.io)if(this.Zb().Cg()){if(a>=this.ck()){for(const e of this.ic)e.gb(this.ck(),!1,!1,!0);this.io=!0}}else if(0>=a){for(const e of this.ic)e.gb(0,!1,!1,!0);this.io=!0}}nL(a,b,e){!e&&b&&(a=this.bC(a),a!==this.Ao&&this.vL(a),this.Ao=a)}bC(a){const b=this.Zb();
let e=this.we.OW(a,this.Hb);return e?e:b.Cg()?this.we.xW(a,this.Hb):this.we.wW(a,this.Hb)}vL(a){if(d.C.nc&&this.Zb().constructor===d.yd){var b=this.Zb();d.C.nc.L.Kn(b);d.C.nc.L.p1(a);a=b.tb;a.Ia(d.C.nc.L.Hfa);a.Ia(d.C.nc.L.vL);d.C.nc.L.Kn(null);d.C.nc.L.p1(null)}}dT(){return this.Hb.Fh().YS()}zU(a){this.Hb.Fh().yU(a)}CB(a){for(const b of this.ic)b.CB(a)}Jn(){for(const a of this.ic)a.Jn()}wh(){this.Bp();if(this.lk()||!this.Dg())for(const a of this.ic)a.wh()}xh(){this.Bp();if(this.lk()||!this.Dg()){var a=
!1;for(const b of this.ic){const e=b.xh();!a&&e&&(a=!0)}a&&(a=this.dT(),a.Wp(this.Zb().Aa()),a.ij("noease"),a.sk(!0),a.DM(""))}}ka(){var a=this.za();a=a?a.Fc:this.ls();return{propertyTracksJson:this.H7(),lastKeyframeDataItemJson:this.E7(),initialStateOfNestedSet:this.Fq,endStateOfNestedSet:this.io,instanceUid:a}}pa(a){a&&(this.K5(a.propertyTracksJson),this.I5(a.lastKeyframeDataItemJson),this.F5(a.instanceUid),this.Fq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Fq=a.initialStateOfNestedSet),
this.io=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.io=a.endStateOfNestedSet))}E7(){return this.Hb.Fh().QW(this.Ao)}H7(){return this.ic.map(a=>a.ka())}K5(a){a.forEach((b,e)=>{this.ic[e].pa(b)})}F5(a){if(d.Fl(a)&&(a=this.H().Ti(a))){var b=this.Zb();b.ST();b.h1(this.Hb.Si(),a)}}I5(a){this.Ao=this.Hb.Fh().PW(a)}}}
{"use strict";const d=self.B;d.Xa=class extends d.ca{constructor(a,b){super();this.Mc=a;this.La=b;this.Uc=b.ge();this.Ii=this.Pc();this.rc=this.La.Gh().rc}static Ma(a,b){return d.A(d.Xa,a,b)}m(){this.Mc=null;this.Ii&&(this.Ii.m(),this.Ii=null);this.Uc=this.La=this.rc=null}ge(){return this.Uc}Zb(){return this.Mc.Zb()}H(){return this.Mc.H()}za(){return this.Mc.za()}Pc(){if(this.Ii)return this.Ii;let a;switch(this.La.jd()){case "behavior":a=new d.Xa.xT(this);break;case "effect":a=new d.Xa.FV(this);break;
case "instance-variable":a=new d.Xa.CY(this);break;case "plugin":a=new d.Xa.q_(this);break;case "world-instance":a=new d.Xa.k2(this);break;case "value":a=new d.Xa.Z1(this)}return this.Ii=a}jd(){return this.La.jd()}ns(){return this.La.cj()}hC(){return this.ge().rw(this.La).cj()}bk(){return this.La.bk()}sk(a){this.La.sk(a)}Dh(){return this.La.Dh()}Hh(){return this.La.Hh()}ij(a){for(const b of this.uK())b.ij(a)}uK(){return this.rc?this.rc:this.rc=this.La.Gh().rc}Pi(){this.Pc().Pi()}de(){return this.Pc().de()}Rc(){this.Pc().Rc()}uf(){this.Pc().uf()}Qr(){this.Pc().Qr()}gb(a,
b=!1,e=!1,c=!1){var g=this.La;let n=this.Uc.gC(a,g);n?g=this.Uc.jK(a,g):(n=this.Uc.YB(a,g),g=this.Uc.XB(a,g));return this.Pc().gb(a,n,g,b,e,c)}Pr(){this.Pc().Pr()}static EK(a,b){const e=b.La;b=b.Uc;let c=b.gC(a,e);c||(c=b.YB(a,e));return c}static lW(a,b){const e=b.La;b=b.Uc;return b.gC(a,e)?b.jK(a,e):b.XB(a,e)}fT(){return this.La.Gh().ZS()}CB(a){this.La.Gh().AU(a)}Jn(){this.Pc().Jn()}wh(){if(this.Pc().wh()){const a=this.Uc.rw(this.La),b=this.Pc().de();a.eM(b)}}xh(){const a=this.Pc().xh();a&&this.gT();
this.Pc().Vv();return a}gT(){const a=this.Zb().Aa(),b=this.Pc(),e=d.Xa.EK(a,this),c=this.fT();c.FM(e.cj());c.Wp(a);c.ij(e.yl());c.sk(!0);c.Uf(b.Kw());c.eM(b.de())}ka(){return{sourceAdapterJson:this.Pc().ka()}}pa(a){a&&this.Pc().pa(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Xa;d.Lh=class{constructor(a){this.la=a;this.Zk=null}m(){this.Zk&&(this.Zk.m(),this.Zk=null);this.la=null}fk(){return this.la}Pi(){this.Zk&&this.Zk.Pi()}Nf(){return this.Zk?this.Zk:this.Zk=this.h3()}np(){}ya(){return this.np()}ss(){}Rc(){this.Nf().Rc()}uf(){this.Nf().uf()}Qr(){this.Nf().hp()}gb(a,b,e,c,g,n){const h=d.Lh.nK(this.la)(a,b,e,this.la);return g?h:this.Nf().Wm(a,h,b,e,c,n)}Pr(){this.Nf().gp()}Jn(){var a=this.Nf();a.eh=a.de()}Vv(){this.Nf().Vv()}de(){return this.Nf().de()}wh(){return this.Nf().wh()}xh(){return this.Nf().xh()}Kw(){return d.Lh.Kw(this.la)}h3(){const a=
this.la.ns();switch(this.la.hC()){case "combo":case "boolean":case "text":case "string":return new d.rf.qL(this);case "numeric":case "number":case "angle":return"combo"===a?new d.rf.qL(this):new d.rf.AZ(this);case "color":case "offsetColor":return new d.rf.VT(this)}}ka(){return{propertyAdapterJson:this.Nf().ka()}}pa(a){a&&this.Nf().pa(a.propertyAdapterJson)}static Kw(a){const b=a.Mc.Zb().Aa(),e=d.EK(b,a),c=d.lW(b,a);return d.Lh.nK(a)(b,e,c,a)}static he(){let a=(void 0).Hh();"combo"===(void 0).ns()&&
(a="absolute");switch(a){case "relative":return NaN}}static nK(a){switch(a.hC()){case "numeric":return d.QC.gb;case "angle":return d.lJ.gb;case "boolean":return d.pJ.gb;case "color":return d.zJ.gb;case "text":return d.NM.gb}}static qX(a){switch(a.hC()){case "numeric":return d.QC.vk;case "angle":return d.lJ.vk;case "boolean":return d.pJ.vk;case "color":return d.zJ.vk;case "text":return d.NM.vk}}}}{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b)}}d.Xa.k2=a}
{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b);this.bv=NaN}np(){return this.la.La.jg[0]}ya(){return this.bv?this.bv:super.ya()}ss(){return this.la.Mc.za()}X1(b){this.la.La.jg[0]!==b&&(this.bv=b)}gb(b,e,c,g,n,h){if(this.Nf().uJ(e.he()))return super.gb(b,e,c,g,n,h)}ka(){return Object.assign(super.ka(),{index:this.bv})}pa(b){b&&(super.pa(b),this.bv=b.index)}}d.Xa.CY=a}
{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b);this.$a=NaN}np(){return this.la.La.jg[1]}ss(){var b=this.la.La,e=this.$a?this.$a:b.jg[0];b=this.la.Mc.za();e=b.aK(e);return b.Ac[e].ma}xg(b){return b.hw(this.la.La.jg[2])}U1(b){this.la.La.jg[0]!==b&&(this.$a=b)}gb(b,e,c,g,n,h){const l=this.la.Mc.za();if(this.xg(l.G()))return super.gb(b,e,c,g,n,h)}ka(){return Object.assign(super.ka(),{sid:this.$a})}pa(b){b&&(super.pa(b),this.$a=b.sid)}}d.Xa.xT=a}
{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b)}np(){return this.la.La.jg[1]}ss(){const b=this.la.Mc.j().Sd,e=this.TB(b.Ka).ya();return b.ys(e)?b.Mf(e):null}TB(b){return b.ak(this.la.La.jg[0])}gb(b,e,c,g,n,h){if(this.q5())return super.gb(b,e,c,g,n,h)}q5(){const b=this.la.Mc.j().Sd,e=this.TB(b.Ka);if(e)return b.ys(e.ya())}}d.Xa.FV=a}
{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b)}np(){return this.la.La.jg[0]}ss(){return this.la.Mc.za().ma}gb(b,e,c,g,n,h){var l=this.la.Mc;const m=l.G().xb();l=l.za().G().xb();if(m===l)return super.gb(b,e,c,g,n,h)}}d.Xa.q_=a}
{"use strict";const d=self.B;class a extends d.Xa.Lh{constructor(b){super(b);this.Wc=0;this.cz=!1}Rc(){const b=this.la.ge();let e=this.la.La;e=b.rw(e);this.Wc=e.$b()}uf(){}he(){this.cz||this.la.gb(0);return this.Wc}gb(b,e,c){const g=d.Xa.QC.gb;this.Wc=g(b,e,c,this.la);this.cz=!0}Jn(){}Vv(){}de(){return this.Wc}wh(){return!1}xh(){return!1}ka(){return{value:this.Wc,init:this.cz}}pa(b){b&&(this.Wc=b.value,this.cz=b.hasOwnProperty("init")?b.init:!0)}}d.Xa.Z1=a}"use strict";
function ic(d,a,b){return d.la.Zb().Cg()?a():b()}function jc(d,a,b){return"relative"===d.la.Hh()?a():b()}function kc(d,a,b){d.Bq?(d.Bq=!1,a()):b()}function lc(d){if(d.dr)return d.dr;d.dr=d.Ii.ss();return d.dr}function mc(d,a,b,e,c,g){switch(d.la.jd()){case "behavior":return a();case "effect":return b();case "instance-variable":return e();case "plugin":return c();case "world-instance":return g()}}
function nc(d,a=!1){const b=[];for(const e of d){d=e.Mc.pf();for(const c of e.uK())a&&0===c.Aa()?b.push({time:d+c.Aa(),value:c.Mg}):a||b.push({time:d+c.Aa(),value:c.Mg})}return b.sort((e,c)=>e.time-c.time)}function oc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Xa.rf=class{constructor(d){this.Ii=d;this.la=d.fk();this.eb=this.la.Mc.j();this.cd=this.la.La.cd;this.Bq=!1;this.dr=this.eh=null}m(){this.dr=this.eh=this.eb=this.la=this.Ii=null}Pi(){this.dr=this.eh=this.eb=null}fk(){return this.la}j(){return this.eb?this.eb:this.eb=this.la.Mc.j()}Rc(){}uf(){}Vv(){this.eh=null}de(){}wh(){}xh(){}uJ(d){return typeof this.yk()===typeof d}hp(){}Wm(){}gp(){}Pn(){return ic(this,()=>{const d=this.la.La;return this.la.ge().rw(d)},()=>{const d=this.la.La;return this.la.ge().kn(d)}).Mg}Bx(){const d=
this.la.Zb().Aa()-this.la.Mc.pf();return ic(this,()=>{const a=this.la.La;return this.la.ge().YB(d,a)},()=>{const a=this.la.La,b=this.la.ge(),e=b.XB(d,a);return e?e:b.kn(a)}).Mg}Hx(){}Lg(){return this.Ii.ya()}ka(){return{firstAbsoluteUpdate:this.Bq,saveState:this.eh}}pa(d){d&&(this.Bq=d.firstAbsoluteUpdate,this.eh=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class e extends d.Xa.rf{constructor(c){super(c)}Rc(){}uf(){}de(){const c=this.la.jd(),g=lc(this),n=this.Lg();switch(c){case "behavior":return this.by(g.kc(n));case "effect":return this.by(g[n]);case "plugin":return this.by(g.kc(n));case "world-instance":return this.by(this.yk())}}wh(){const c=this.Pn();return!this.oN(c,this.yk())}xh(){return d.Kd(this.eh)?!1:!this.oN(this.eh,this.yk())}oN(c,g){return c.nl(g)}Pn(){const c=super.Pn();return this.Ix(c)}Bx(){const c=
super.Bx();return this.Ix(c)}Hx(){}by(c){return d.Gl(c,d.Wa)?c.toArray().slice(0,3):c.slice(0,3)}Ix(c){return d.Gl(c,d.Wa)?c:new d.Wa(c[0],c[1],c[2],1)}uJ(){return!0}hp(){var c=this.la.za();a.has(c)||a.set(c,new Map);c=a.get(c);const g=this.la.jd();c.has(g)||c.set(g,new Map);c=c.get(g);c.has(this.cd)||c.set(this.cd,{Gv:!1,color:new d.Wa(0,0,0,1)})}YN(c,g,n){c=a.get(c).get(g).get(n);c.Gv=!0;return c.color}Wm(c,g){var n=this.la.Zb(),h=this.la.Mc;c=this.la.za();var l=this.la.Pc();const m=this.la.jd();
l=n.kC(c,l,this.cd);if(1<l.length){if(l=nc(l,!0),n=n.Aa(),n=oc(n,l))if(l=n.time-h.pf(),0===l)this.YN(c,m,this.cd).UR(g[0],g[1],g[2]);else{if(0>l)return;n=g[0];h=g[1];g=g[2];l=this.la.gb(l,!1,!0);n=d.Wa.DB(n,l[0]);h=d.Wa.DB(h,l[1]);g=d.Wa.DB(g,l[2]);this.YN(c,m,this.cd).UR(n,h,g)}}else this.sj(g[0],g[1],g[2]);return d.yd.nk}gp(){const c=this.la.za();if(a.has(c)){var g=a.get(c),n=this.la.jd();if(g.has(n)){var h=g.get(n);if(h.has(this.cd)){var l=h.get(this.cd),m=l.color;l.Gv&&this.sj(m.Pa,m.Sa,m.Ra);
0===h.size&&g.delete(n);0===g.size&&a.delete(c)}}}}yk(){const c=this.la.jd(),g=lc(this),n=this.Lg();switch(c){case "behavior":return this.Ix(g.kc(n));case "effect":return g[n].clone();case "plugin":return this.Ix(g.kc(n));case "world-instance":return this.j().Ya.clone()}}sj(c,g,n){const h=this.la.jd(),l=lc(this),m=this.Lg();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=n;l.Fg(m,b);break;case "effect":l[m].Ir(c,g,n);break;case "plugin":b[0]=c;b[1]=g;b[2]=n;l.Fg(m,b);break;case "world-instance":this.j().q1(c,
g,n)}}ka(){}pa(){}}d.Xa.rf.VT=e}
{"use strict";const d=self.B;class a extends d.Xa.rf{constructor(b){super(b)}Rc(){}uf(){}de(){return this.yk()}wh(){return this.Pn()!==this.de()}xh(){return d.Kd(this.eh)?!1:this.eh!==this.de()}Wm(b,e){const c=d.Xa.Lh.qX(this.la);var g=this.la;const n=g.Mc,h=g.jd();var l=g.Zb();const m=n.za();g=g.Pc();l=l.kC(m,g,this.cd);1<l.length&&(l=nc(l),b=oc(b+n.pf(),l))&&(e=b.value);if(c(this.Lg(),lc(this),e,h))switch(this.sj(e),h){case "plugin":return d.yd.nk}}yk(){const b=this.la.jd(),e=lc(this),c=this.Lg();
switch(b){case "behavior":return e.kc(c);case "effect":return e[c];case "instance-variable":return e.fe(c);case "plugin":return e.kc(c)}}sj(b){const e=this.la.jd(),c=lc(this),g=this.Lg();switch(e){case "behavior":c.Fg(g,b);break;case "effect":c[g]=b;break;case "instance-variable":c.Rl(g,b);break;case "plugin":c.Fg(g,b)}}}d.Xa.rf.qL=a}
{"use strict";const d=self.B,a=new Map,b=(c,g,n,h,l)=>a.set(c,{sba:g,N$:n,waa:h,round:l});b("offsetX",(c,g)=>c.HZ(g),(c,g)=>c.Ig(g),c=>c.ia(),!0);b("offsetY",(c,g)=>c.IZ(g),(c,g)=>c.Jg(g),c=>c.ja(),!0);b("offsetWidth",(c,g)=>c.sL(g),(c,g)=>c.Th(g),c=>c.ba(),!0);b("offsetHeight",(c,g)=>c.rL(g),(c,g)=>c.Oh(g),c=>c.aa(),!0);b("offsetAngle",(c,g)=>c.DZ(g),(c,g)=>c.od(g),c=>c.Ga(),!1);b("offsetOpacity",(c,g,n,h)=>{n=c.He()+g;0===h.pc?(1<n?h.pc+=n-1:0>n&&(h.pc+=n),c.EZ(g)):(c=c.He()+g,0<g&&0<h.pc?1<c&&
(h.pc+=c-1):0<g&&0>h.pc?(h.pc+=g,0<h.pc&&(h.pc=0)):0>g&&0<h.pc?(h.pc+=g,0>h.pc&&(h.pc=0)):0>g&&0>h.pc&&0>c&&(h.pc+=c))},(c,g)=>{c.jj(g)},c=>c.He(),!1);b("offsetOriginX",(c,g)=>c.FZ(g),(c,g)=>c.Sp(g),c=>c.dk(),!1);b("offsetOriginY",(c,g)=>c.GZ(g),(c,g)=>c.Tp(g),c=>c.ek(),!1);b("offsetZElevation",(c,g)=>c.JZ(g),(c,g)=>c.Ke(g),c=>c.Va(),!0);b("offsetScaleX",(c,g,n)=>{const h=0>c.ba()?-1:1;c.sL(n.Wi()*h*g)},(c,g,n)=>{c.Th(n.Wi()*g)},(c,g)=>{const n=0>c.ba()?-1:1;if(c.nn()){var h=c.xa(),l=g.Zb().GK(h.za());
l?h=h.ba()/l.Wi():(l=h.za().ma,h=l.xn()?h.ba()/l.Wi():1);return c.ba()*n/(g.Wi()*h)}return c.ba()*n/g.Wi()},!1);b("offsetScaleY",(c,g,n)=>{const h=0>c.aa()?-1:1;c.rL(n.Vi()*h*g)},(c,g,n)=>{c.Oh(n.Vi()*g)},(c,g)=>{const n=0>c.aa()?-1:1;if(c.mn()){var h=c.xa(),l=g.Zb().GK(h.za());l?h=h.aa()/l.Vi():(l=h.za().ma,h=l.xn()?h.aa()/l.Vi():1);return c.aa()*n/(g.Vi()*h)}return c.aa()*n/g.Vi()},!1);class e extends d.Xa.rf{constructor(c){super(c);this.pc=this.Fb=0;this.mG=this.oG=this.nG=null;this.uR=!1;this.Vo=
d.Gl(this.la.Zb(),d.Q1)?new d.Xa.rf.CZ(this):new d.Xa.rf.BZ(this);c=this.la.La.cd;"world-instance"===this.la.jd()&&(c=a.get(c),this.nG=c.waa,this.oG=c.sba,this.mG=c.N$,this.uR=c.round)}m(){this.mG=this.oG=this.nG=this.Vo=null;super.m()}vM(c){this.Fb=c}Rc(){const c=this.Vo.Rc();"number"===typeof c&&(this.Fb=c);this.pc=0}uf(){const c=this.Vo.uf();"number"===typeof c&&(this.Fb=c)}de(){return this.yk()}wh(){return this.Pn()!==this.de()}xh(){return d.Kd(this.eh)?!1:this.eh!==this.de()}hp(){this.Vo.hp()}Wm(c,
g,n,h,l,m,p){return this.Vo.Wm(c,g,n,h,l,m,p)}gp(){this.Vo.gp()}yk(){const c=lc(this),g=this.Lg(),n=this.la.Mc,h=this.j();return mc(this,()=>c.kc(g),()=>c[g],()=>c.fe(g),()=>c.kc(g),()=>this.nG(h,n))}sj(c){const g=lc(this),n=this.Lg(),h=this.la.Mc,l=this.j();mc(this,()=>g.SC(n,c),()=>g[n]+=c,()=>g.R0(n,c),()=>g.SC(n,c),()=>this.oG(l,c,h,this))}hP(c){const g=lc(this),n=this.Lg(),h=this.la.Mc,l=this.j();mc(this,()=>g.Fg(n,c),()=>g[n]=c,()=>g.Rl(n,c),()=>g.Fg(n,c),()=>this.mG(l,c,h))}fq(c,g,n,h,l,m){this.Vo.fq(c,
g,n,h,l,m)}wk(c,g,n){c=(c.toString().split(".")[1]||"").length;const h=this.yk();this.sj((0===c?this.uR?Math.round(h):h:d.toFixed(h,c))-h,g,n)}ka(){return Object.assign(super.ka(),{v:this.Fb,a:this.pc})}pa(c){c&&(super.pa(c),this.Fb=c.v,this.pc=c.a)}}d.Xa.rf.AZ=e}
{"use strict";const d=self.B,a=new Map;class b{constructor(e){this.Ud=e}m(){this.Ud=null}Rc(){const e=this.Ud,c=this.Ud.fk();return jc(e,()=>ic(e,()=>0,()=>d.Xa.Lh.Kw(c)),()=>{})}uf(){}hp(){const e=this.Ud,c=this.Ud.fk(),g=c.La.cd;jc(e,()=>{},()=>{var n=c.za();a.has(n)||a.set(n,new Map);n=a.get(n);const h=c.jd();n.has(h)||n.set(h,new Map);n=n.get(h);n.has(g)||n.set(g,{Gv:!1,value:0})})}XN(e,c,g){e=a.get(e).get(c).get(g);e.Gv=!0;return e}Wm(e,c,g,n,h,l){const m=this.Ud,p=this.Ud.fk(),u=p.La.cd;jc(m,
()=>{const q=m.Fb;m.sj(c-q,g,n);l&&this.fq(e,g,n,h,q,c);m.vM(c)},()=>{var q=p.Zb(),v=p.Mc;const t=p.za();var w=p.Pc();const y=p.jd();w=q.kC(t,w,u);if(1<w.length){if(w=nc(w,!0),q=q.Aa(),q=oc(q,w))v=q.time-v.pf(),0===v?this.XN(t,y,u).value+=c:0>v||(v=p.gb(v,!1,!0),this.XN(t,y,u).value+=c-v)}else m.hP(c)});return mc(m,()=>{},()=>d.yd.nk,()=>{},()=>d.yd.nk,()=>d.yd.nk)}gp(){const e=this.Ud,c=this.Ud.fk(),g=c.La.cd;jc(e,()=>{},()=>{const n=c.za();if(a.has(n)){var h=a.get(n),l=c.jd();if(h.has(l)){var m=
h.get(l);if(m.has(g)){var p=m.get(g),u=p.value;p.Gv&&e.hP(u);m.delete(g);0===m.size&&h.delete(l);0===h.size&&a.delete(n)}}}})}fq(e,c,g,n,h,l){const m=this.Ud;n||(c&&e===c.Aa()?m.wk(c.$b(),c,g):g&&e===g.Aa()?m.wk(g.$b(),c,g):0===l-h&&m.wk(c.$b(),c,g))}}d.Xa.rf.BZ=b}
{"use strict";const d=self.B;class a{constructor(b){this.Ud=b}m(){this.Ud=null}Rc(){const b=this.Ud;b.Bq=!0;return this.Hx(b.Pn())}uf(){const b=this.Ud;if(b.Pn()!==b.Bx())return b.Bq=!0,this.Hx(b.Bx())}hp(){}Wm(b,e,c,g,n,h){const l=this.Ud,m=l.Fb;jc(l,()=>{l.sj(e-m,c,g);h&&this.fq(b,c,g,n,m,e)},()=>{kc(l,()=>{l.sj(m,c,g)},()=>{l.sj(e-m,c,g);h&&this.fq(b,c,g,n,m,e)})});l.vM(e);return mc(l,()=>{},()=>d.yd.nk,()=>{},()=>d.yd.nk,()=>d.yd.nk)}gp(){}Hx(b){return b-this.Ud.de()}fq(b,e,c,g,n,h){const l=this.Ud;
g?e&&b===e.Aa()?l.wk(e.$b(),e,c):c&&b===c.Aa()?l.wk(c.$b(),e,c):c||l.wk(e.$b(),e,c):e&&b===e.Aa()?l.wk(e.$b(),e,c):c&&b===c.Aa()?l.wk(c.$b(),e,c):0===h-n&&l.wk(e.$b(),e,c)}}d.Xa.rf.CZ=a}
{"use strict";const d=self.B,a=self.Ur;d.Xa.QC=class{constructor(){}static vk(b,e,c,g){let n;switch(g){case "behavior":n=e.kc(b);break;case "effect":n=e[b];break;case "instance-variable":n=e.fe(b);break;case "plugin":n=e.kc(b)}return n===c?!1:!0}static gb(b,e,c,g){if(!c)return c=g.La,c=g.ge().kn(c),c.$b();var n=g.Dh();"default"===n&&(n="continuous");"combo"===g.ns()&&(n="discrete");if("discrete"===n)return e.$b();if("continuous"===n||"step"===n){"step"===n&&(n=g.Zb().qs(),0!==n&&(n=1/n,b=Math.floor(b*
n)/n));var h=e.Aa();const l=c.Aa();n=e.$b();const m=c.$b();if(n===m)return n;b=d.normalize(b,h,l);const p=e.yl();e=e.LB("cubic-bezier");c=c.LB("cubic-bezier");e&&e.Pu&&c&&c.Iy?(h=l-h,h=a.ln(p)(h*b,0,1,h),h=a.ln("cubicbezier")(h,n,n+e.FH,m+c.KF,m)):h=a.ln(p)((l-h)*b,n,m-n,l-h);return"integer"===g.ns()?Math.floor(h):h}}}}
{"use strict";const d=self.B;d.Xa.lJ=class{constructor(){}static vk(a,b,e,c){let g;switch(c){case "behavior":g=b.kc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.fe(a);break;case "plugin":g=b.kc(a)}return g===e?!1:!0}static gb(a,b,e,c){if(!e)return b=c.La,b=c.ge().kn(b),b.$b();var g=c.Dh();"default"===g&&(g="continuous");"combo"===c.ns()&&(g="discrete");if("discrete"===g)return b.$b();if("continuous"===g||"step"===g){"step"===g&&(c=c.Zb().qs(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const n=b.Aa(),h=e.Aa();c=b.$b();e=e.$b();if(g=b.LB("angle")){const l=g.tH;if(c===e&&0===l)return c;a=d.normalize(a,n,h);b=self.Ur.ln(b.yl())(a,0,1,1);switch(g.DF){case "closest":return d.fI(c,e,b,l);case "clockwise":return d.U$(c,e,b,l);case "anti-clockwise":return d.T$(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,n,h);b=self.Ur.ln(b.yl());return d.fI(c,e,b(a,0,1,1))}}}}}"use strict";
self.B.Xa.pJ=class{constructor(){}static vk(d,a,b,e){let c;switch(e){case "behavior":c=a.kc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.fe(d);break;case "plugin":c=a.kc(d)}return!!c===!!b?!1:!0}static gb(d,a,b,e){return b?a.$b()?1:0:(d=e.La,d=e.ge().kn(d),d.$b()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.Xa.zJ=class{constructor(){}static vk(c,g,n,h){let l;switch(h){case "behavior":l=g.kc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.fe(c);break;case "plugin":l=g.kc(c)}Array.isArray(n)?(a[0]=n[0],a[1]=n[1],a[2]=n[2]):(e.vS(n),a[0]=Math.floor(255*e.Pa),a[1]=Math.floor(255*e.Sa),a[2]=Math.floor(255*e.Ra));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.vS(l),b[0]=Math.floor(255*e.Pa),b[1]=Math.floor(255*e.Sa),b[2]=Math.floor(255*
e.Ra));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static gb(c,g,n,h){if(!n)return g=h.La,g=h.ge().kn(g),g=g.$b(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.Dh();"default"===l&&(l="continuous");if("discrete"===l)return g=g.$b(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.Zb().qs(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Aa();l=n.Aa();var m=g.$b(),p=n.$b();const u=d.normalize(c,h,l);c=m[0];n=m[1];m=m[2];const q=p[0],v=p[1];p=p[2];g=self.Ur.ln(g.yl());h=l-h;
l=h*u;a[0]=c===q?c:g(l,c,q-c,h);a[1]=n===v?n:g(l,n,v-n,h);a[2]=m===p?m:g(l,m,p-m,h);return a}}}}"use strict";self.B.Xa.NM=class{constructor(){}static vk(d,a,b,e){let c;switch(e){case "behavior":c=a.kc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.fe(d);break;case "plugin":c=a.kc(d)}return c===b?!1:!0}static gb(d,a,b,e){return b?a.$b():(d=e.La,d=e.ge().kn(d),d.$b())}};
{"use strict";const d=self.B;d.Wf=class{constructor(){this.Wu=new Map}m(){for(const a of this.Wu.values())a.m();this.Wu.clear();this.Wu=null}wc(a){a=new d.J1(a);this.Wu.set(a.wa(),a)}Y(a){return this.Wu.get(a)}static $s(a,b,e,c){if(b)for(const g of b)d.Wf.qN("create",g,a,e,c)}static kt(a,b,e,c){a.length?b.forEach((g,n)=>{a[n].pa(g)}):b.forEach(g=>{d.Wf.qN("load",g,a,e,c)})}static qN(a,b,e,c,g){let n;if("function"===typeof c)switch(a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.zS]),a){case "load":n=new c(null,g);break;case "create":n=new c(b,g)}switch(a){case "load":n.pa(b);e.push(n);break;case "create":"function"!==typeof n.bk||n.bk()?e.push(n):n.m()}}}}
{"use strict";const d=self.B;d.J1=class{constructor(a){this.Da="";this.vA=NaN;this.rA=0;this.Df=this.Af="default";this.Vz=this.Mz=!1;this.Yq=1;this.we=null;a&&(this.Da=a[0],this.vA=a[1],this.rA=a[2],this.Af=a[3],this.Df=a[4],this.Mz=!!a[6],this.Vz=!!a[7],this.Yq=a[8],this.we=new d.OM(a[5],this))}m(){this.we.m();this.we=null}Hw(){this.we||(this.we=new d.OM(null,this));return this.we}wa(){return this.Da}ox(a){this.Da=a}kd(){return this.vA}qs(){return this.rA}Dh(){return this.Af}Hh(){return this.Df}qp(){return this.Mz}sp(){return this.Vz}Al(){return this.Yq}ka(){return{trackDataJson:this.we.ka(),
name:this.Da,totalTime:this.vA,step:this.rA,interpolationMode:this.Af,resultMode:this.Df,loop:this.Mz,pingPong:this.Vz,repeatCount:this.Yq}}pa(a){a&&(this.Hw().pa(a.trackDataJson),this.Da=a.name,this.vA=a.totalTime,this.rA=a.step,this.Af=a.interpolationMode,this.Df=a.resultMode,this.Mz=a.loop,this.Vz=a.pingPong,this.Yq=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.we=e;this.Yl=this.fz=null;this.Vk=this.Jk=NaN;this.Df=this.Af="default";this.ag=!1;this.Uc=this.Ai=null;this.re="";this.Qq=null;this.GH=0;this.Kz=this.we.ve.kd();this.ra=0;this.Da="";b&&(b[0]&&(this.fz=b[0],this.Jk=b[0][2],this.Vk=b[0][1]),this.Af=b[1],this.Df=b[2],this.ag=!!b[3],b[6]&&(this.re=b[6]),b[7]&&(this.Qq=b[7],this.GH=b[7][0],this.Kz=b[7][1]),b[8]&&(this.Yl=b[8]),b[8]&&(this.Yl=b[8]),b[9]&&(this.ra=b[9]),b[10]&&(this.Da=b[10]),this.Ai=
new d.eL(b[4],this),this.Uc=new d.JL(b[5],this))}m(){this.we=this.fz=null;this.Ai&&(this.Ai.m(),this.Ai=null);this.Uc&&(this.Uc.m(),this.Uc=null);this.Qq=null}Hw(){return this.we}Fh(){this.Ai||(this.Ai=new d.eL(null,this));return this.Ai}ge(){this.Uc||(this.Uc=new d.JL(null,this));return this.Uc}eC(){return this.Vk}ls(){return this.Jk}Dh(){return this.Af}Hh(){return this.Df}bk(){return this.ag}sk(b){this.ag=!!b}Si(){return this.re}pf(){return this.GH}ck(){return this.Kz}Wi(){return this.Yl[0]}Vi(){this.Yl||
(this.Yl=[]);return this.Yl[1]}cj(){return this.ra}wa(){return this.Da}ka(){return{keyframeDataJson:this.Ai.ka(),propertyTrackDataJson:this.Uc.ka(),instanceData:this.fz,additionalInstanceData:this.Yl,instanceUid:this.Jk,objectClassIndex:this.Vk,interpolationMode:this.Af,resultMode:this.Df,enabled:this.ag,id:this.re,nestedData:this.Qq,type:this.ra,name:this.Da}}pa(b){b&&(this.fz=b.instanceData,this.Jk=b.instanceUid,this.Vk=b.objectClassIndex,this.Af=b.interpolationMode,this.Df=b.resultMode,this.ag=
b.enabled,this.re=b.id,this.ra=b.type?b.type:0,this.ra=b.name?b.name:"",this.Kz=this.we.ve.kd(),b.nestedData&&(this.Qq=b.nestedData,this.GH=this.Qq[0],this.Kz=this.Qq[1]),b.additionalInstanceData&&(this.Yl=b.additionalInstanceData),this.Fh().pa(b.keyframeDataJson),this.ge().pa(b.propertyTrackDataJson))}}d.OM=class{constructor(b,e){this.ve=e;this.To=[];this.qu=new Map;d.Wf.$s(this.To,b,a,this)}m(){this.ve=null;for(const b of this.To)b.m();d.D(this.To);this.To=null;this.qu.clear();this.qu=null}OW(b,
e){const c=this.qu.get(e);if(c&&c.has(b))return c.get(b);for(const g of e.Fh().pS())if(g.Aa()===b)return c||this.qu.set(e,new Map),this.qu.get(e).set(b,g),g}wW(b,e){for(const c of e.Fh().pS())if(c.Aa()>=b)return c}xW(b,e){for(const c of e.Fh().Naa())if(c.Aa()<=b)return c}*Bba(){for(const b of this.To)yield b}ka(){return{trackDataItemsJson:this.To.map(b=>b.ka())}}pa(b){b&&d.Wf.kt(this.To,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Uc=e;this.jA="";this.ra=this.cd=this.jg=null;this.VG=this.ZG=NaN;this.Df=this.Af="default";this.ag=!1;this.Gj=null;b&&(this.jA=b[0][0],this.jg=b[0].slice(1),this.cd=b[1],this.ra=b[2],this.ZG=b[3],this.VG=b[4],this.Af=b[5],this.Df=b[6],this.ag=!!b[7],this.Gj=new d.IL(b[8],this))}m(){this.Gj.m();this.jg=this.Uc=this.Gj=null}ge(){return this.Uc}Gh(){this.Gj||(this.Gj=new d.IL(null,this));return this.Gj}jd(){return this.jA}cj(){return this.ra}FM(b){this.ra=
b}Dh(){return this.Af}Hh(){return this.Df}bk(){return this.ag}sk(b){this.ag=!!b}ka(){return{propertyKeyframeDataJson:this.Gj.ka(),sourceAdapterId:this.jA,sourceAdapterArguments:this.jg,property:this.cd,type:this.ra,min:this.ZG,max:this.VG,interpolationMode:this.Af,resultMode:this.Df,enabled:this.ag}}pa(b){b&&(this.jA=b.sourceAdapterId,this.jg=b.sourceAdapterArguments,this.cd=b.property,this.ra=b.type,this.ZG=b.min,this.VG=b.max,this.Af=b.interpolationMode,this.Df=b.resultMode,this.ag=b.enabled,this.Gh().pa(b.propertyKeyframeDataJson))}}
d.JL=class{constructor(b,e){this.Hb=e;this.Io=[];this.Gu=new Map;d.Wf.$s(this.Io,b,a,this)}m(){this.Hb=null;for(const b of this.Io)b.m();d.D(this.Io);this.Io=null;this.Gu.clear();this.Gu=null}rw(b){return b.Gh().rc[0]}kn(b){return b.Gh().rc.Yd(-1)}gC(b,e){const c=this.Gu.get(e);if(c&&c.has(b))return c.get(b);const g=e.Gh();for(const n of g.SI())if(n.Aa()===b)return c||this.Gu.set(e,new Map),this.Gu.get(e).set(b,n),n}jK(b,e){e=e.Gh();for(const c of e.SI())if(c.Aa()>b)return c}XB(b,e){e=e.Gh();for(const c of e.SI())if(c.Aa()>=
b)return c}YB(b,e){e=e.Gh();for(const c of e.dba())if(c.Aa()<=b)return c}*fba(){for(const b of this.Io)yield b}ka(){return{propertyTrackDataItemsJson:this.Io.map(b=>b.ka())}}pa(b){b&&d.Wf.kt(this.Io,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Ai=e;this.uc=-1;this.ki="noease";this.li=!1;this.vu=this.lg=null;b&&(this.uc=b[0],this.ki=b[1],this.li=!!b[2],this.lg=(b=b[3])?b.split(" "):[],this.vu=new Set(this.lg.map(c=>c.toLowerCase())))}m(){this.Ai=null;d.D(this.lg);this.lg=null;this.vu.clear();this.vu=null}Fh(){return this.Ai}Aa(){return this.uc}Wp(b){this.uc=b}yl(){return this.ki}ij(b){this.ki=b}bk(){return this.li}sk(b){this.li=!!b}DM(b){this.lg=b?b.split(" "):[];this.vu=new Set(this.lg.map(e=>
e.toLowerCase()))}ka(){return{time:this.uc,ease:this.ki,enable:this.li,tags:this.lg}}pa(b){b&&(this.uc=b.time,this.ki=b.ease,this.li=b.enable,this.lg=b.tags,this.vu=new Set(this.lg.map(e=>e.toLowerCase())))}}d.eL=class{constructor(b,e){this.Hb=e;this.qc=[];d.Wf.$s(this.qc,b,a,this)}m(){this.Hb=null;for(const b of this.qc)b.m();d.D(this.qc);this.qc=null}YS(){const b=new a(null,this);this.qc.push(b);return b}yU(b){for(const e of this.qc){if(!b(e))continue;const c=this.qc.indexOf(e);-1!==c&&(e.m(),this.qc.splice(c,
1))}this.A1()}A1(){this.qc.sort((b,e)=>b.Aa()-e.Aa())}QW(b){return this.qc.indexOf(b)}PW(b){return this.qc[b]}*pS(){for(const b of this.qc)yield b}*Naa(){for(let b=this.qc.length-1;0<=b;b--)yield this.qc[b]}ka(){return{keyframeDataItemsJson:this.qc.map(b=>b.ka())}}pa(b){b&&d.Wf.kt(this.qc,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Gj=e;this.Mg=this.Wc=null;this.ra="";this.uc=NaN;this.ki="noease";this.li=!1;this.ai=null;b&&(this.Wc=b[0][0],this.Mg=b[0][1],this.ra=b[0][2],this.uc=b[1],this.ki=b[2],this.li=!!b[3],this.ai=null,b[4]&&(this.ai=new d.kT(b[4],this)))}m(){this.Gj=null;this.ai&&(this.ai.m(),this.ai=null)}he(){return this.Wc}Uf(b){"color"===this.ra&&d.Fl(b)?(this.Wc[0]=d.iC(b),this.Wc[1]=d.$B(b),this.Wc[2]=d.NB(b)):this.Wc=b}eM(b){"color"===this.ra&&d.Fl(b)?(this.Mg[0]=
d.iC(b),this.Mg[1]=d.$B(b),this.Mg[2]=d.NB(b)):this.Mg=b}$b(){const b=this.Gj.La.Hh();if("relative"===b)return this.he();if("absolute"===b)return this.Mg}cj(){return this.ra}FM(b){this.ra=b}Aa(){return this.uc}Wp(b){this.uc=b}yl(){return this.ki}ij(b){this.ki=b}bk(){return this.li}sk(b){this.li=!!b}LB(b){if(this.ai)for(const e of this.ai.O$())if(e.Si()===b)return e}ka(){const b=this.ai;return{addonDataJson:b?b.ka():b,value:this.Wc,aValue:this.Mg,type:this.ra,time:this.uc,ease:this.ki,enable:this.li}}pa(b){b&&
(b.addonDataJson&&this.ai.ika(b.addonDataJson),this.Wc=b.value,this.Mg=b.aValue,this.ra=b.type,this.uc=b.time,this.ki=b.ease,this.li=b.enable)}}d.IL=class{constructor(b,e){this.La=e;this.rc=[];d.Wf.$s(this.rc,b,a,this)}m(){this.La=null;for(const b of this.rc)b.m();d.D(this.rc);this.rc=null}ZS(){const b=new a(null,this);this.rc.push(b);return b}AU(b){for(const e of this.rc){if(!b(e))continue;const c=this.rc.indexOf(e);-1!==c&&(e.m(),this.rc.splice(c,1))}this.B1()}B1(){this.rc.sort((b,e)=>b.Aa()-e.Aa())}*SI(){for(const b of this.rc)yield b}*dba(){for(let b=
this.rc.length-1;0<=b;b--)yield this.rc[b]}ka(){return{propertyKeyframeDataItemsJson:this.rc.map(b=>b.ka())}}pa(b){b&&d.Wf.kt(this.rc,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(c,g){this.ai=g;this.re=c[0];this.Gk=c[1]}m(){this.Gk=this.ai=null}Si(){return this.re}ka(){return{id:this.re,data:this.Gk}}pa(c){c&&(this.re=c.id,this.Gk=c.data)}}class b extends a{constructor(c,g){super(c,g);this.FH=this.Gk[0];this.Pu=!!this.Gk[1];this.KF=this.Gk[2];this.Iy=!!this.Gk[3]}m(){super.m()}ka(){return Object.assign(super.ka(),{startAnchor:this.FH,startEnable:!!this.Pu,endAnchor:this.KF,endEnable:!!this.Iy})}pa(c){c&&(super.pa(c),this.FH=
c.startAnchor,this.Pu=!!c.startEnable,this.KF=c.endAnchor,this.Iy=!!c.endEnable)}}class e extends a{constructor(c,g){super(c,g);this.DF=this.Gk[0];this.tH=this.Gk[1]}m(){super.m()}ka(){return Object.assign(super.ka(),{direction:this.DF,revolutions:this.tH})}pa(c){c&&(super.pa(c),this.DF=c.direction,this.tH=c.revolutions)}}d.kT=class{constructor(c){this.Vn=[];d.Wf.$s(this.Vn,c,{zS:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}m(){for(const c of this.Vn)c.m();d.D(this.Vn);this.Vn=null}*O$(){for(const c of this.Vn)yield c}ka(){return{addonDataItemsJson:this.Vn.map(c=>
c.ka())}}pa(c){c&&d.Wf.kt(this.Vn,c.addonDataItemsJson,{zS:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.B;let a=0;d.Q1=class extends d.yd{constructor(b,e){super(`tween-${a++}`,b,e);this.re="";this.JP=!1;this.iG="start-value";this.fR=this.eR=null}za(){var b=this.Cb;if(b&&b.length&&(b=b[0])){var e=b.za();return b.lk()?e:null}}Si(){return this.re}zL(){if(this.fR)for(const b of this.fR)b(this);if(!this.xf)for(const b of this.Cb)b.xh()}tL(){this.nq=this.g.Ij}VJ(){if(!this.mo&&(this.mo=!0,this.eR))for(const b of this.eR)b(this)}Wp(b){this.vN();super.Wp(b)}Rc(b){if(!this.hm&&"current-state"===
this.iG)for(const e of this.Cb)e.wh();super.Rc(b)}Kg(b=!1){super.Kg(b);if(!this.xf)for(const e of this.Cb)e.Jn()}$c(b=!0,e=!1){this.vN();super.$c(b,e)}vN(){for(const b of this.Cb){const e=c=>{c=c.Aa();const g=this.kd();return 0!==c&&c!==g};b.zU(e);b.CB(e)}}Px(){if(this.dh)return!0;const b=this.za();if(b&&b.G().Qf())return!1;this.tb.Wv(this);this.YL();return!0}nL(){}le(){const b=this.za();super.le(this.H().ks(b),1)}ka(){const b=super.ka();return Object.assign(b,{tweenDataItemJson:this.ve.ka(),id:this.re,
destroyInstanceOnComplete:this.JP,initialValueMode:this.iG})}pa(b){b&&(this.ve.pa(b.tweenDataItemJson),super.pa(b),this.re=b.id,this.JP=b.destroyInstanceOnComplete,this.iG=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B,a=self.Ur;d.RM=class extends d.ca{constructor(b){super();this.Da=b[0];this.ih=[];for(const e of b[1])b=d.SM.Ma(this,e),this.ih.push(b);this.Fu=new Map;this.wA=new Map;this.K6();a.XS(this.Da,(e,c,g,n)=>this.gb(e,c,g,n))}static Ma(b){return d.A(d.RM,b)}m(){for(const b of this.ih)b.m();d.D(this.ih);this.ih=null;this.Fu.clear();this.Fu=null;this.wA.clear();this.wA=null}nX(b){const e=this.wA.get(b);if(e)return e;for(const c of this.ih)if(c.xe===b)return this.wA.set(b,c),c}AW(b){for(const e of this.ih)if(e.xe>
b)return e}zW(b){for(const e of this.ih)if(e.xe>=b)return e}BW(b){for(let e=this.ih.length-1;0<=e;e--){const c=this.ih[e];if(c.xe<=b)return c}}gb(b,e,c,g){var n=b/g;(b=this.nX(n))?g=this.AW(n):(b=this.BW(n),g=this.zW(n));n=d.Uaa(n,b.xe,g.xe,g.xe-b.xe);const h=b.xe,l=b.dv,m=b.xe+b.FR,p=b.dv+b.D$,u=g.xe+g.QP,q=g.dv+g.K9,v=g.xe;g=g.dv;g=a.ln("spline")(n,h,l,m,p,u,q,v,g,this.Fu.get(b));g+=b.dv;return(1-g)*e+g*(e+c)}K6(){this.Fu.clear();for(let e=0;e<this.ih.length-1;e++){var b=this.ih[e];if(!b.Pu)continue;
const c=this.ih[e+1];this.Fu.set(b,a.bW(b.xe,b.xe+b.FR,c.xe+c.QP,c.xe))}}}}{"use strict";const d=self.B;d.SM=class extends d.ca{constructor(a,b){super();this.xe=b[0];this.dv=b[1];this.FR=b[2];this.D$=b[3];this.QP=b[4];this.K9=b[5];this.Pu=b[6];this.Iy=b[7]}m(){}static Ma(a,b){return d.A(d.SM,a,b)}}}{"use strict";const d=self.B;d.O1=class extends d.ca{constructor(a){super();this.g=a;this.xA=[]}m(){for(const a of this.xA)a.m();d.D(this.xA);this.xA=null}Ma(a){this.xA.push(d.RM.Ma(a))}}}
{"use strict";const d=self.B;d.z1=class extends d.ca{constructor(a){super();this.I=a;this.cb=[];this.cb.push(d.A(d.AD,this));this.Na=0;this.gi=this.cb[0]}m(){for(const a of this.cb)a.m();d.D(this.cb);this.I=this.gi=null}G(){return this.I}R(){return this.gi}Ic(){this.R().Ic()}x_(){var a=this.cb,b=++this.Na;b===a.length?(b=d.A(d.AD,this),a.push(b),this.gi=b):(a=a[b],a.$c(),this.gi=a)}y_(){const a=this.cb,b=++this.Na;b===a.length&&a.push(d.A(d.AD,this));const e=a[b];e.dU(a[b-1]);this.gi=e}Ba(){this.gi=
this.cb[--this.Na]}In(a){const b=this.cb;for(let e=0,c=b.length;e<c;++e)b[e].In(a)}}}
{"use strict";const d=self.B;d.AD=class extends d.ca{constructor(a){super();this.cb=a;this.I=this.cb.G();this.qd=this.I.H().Jc();this.Gb=!0;this.F=[];this.Tb=[]}m(){this.Sv();this.qd=this.I=this.cb=null}Sv(){d.D(this.F);d.D(this.Tb)}G(){return this.I}qC(){return this.Gb?!!this.I.F.length:!!this.F.length}da(){return this.Gb?this.I.da():this.F}wX(){return!!this.Tb.length}hK(){const a=this.da();return a.length?a:this.Tb}$c(){this.Gb=!0;d.D(this.Tb)}Ic(){this.Gb=!0}dU(a){a.Gb?this.$c():(this.Gb=!1,d.vc(this.F,
a.F),d.D(this.Tb))}Rn(a){this.F.push(a)}Wl(a){this.Tb.push(a)}Md(a){this.Gb=!!a}kj(a){this.Gb=!1;d.D(this.F);this.F.push(a)}Js(a){this.Gb=!1;d.vc(this.F,a)}Ss(a){this.Gb=!1;d.D(this.F);for(const b of a)this.F.push(b)}jJ(a,b){for(const e of b)a.has(e)||this.Tb.push(e)}M1(a){for(const b of a)this.F.push(b);d.qg(this.Tb,a)}Kl(a){a&&(this.qd.Fe().ub().sd?(this.Gb&&(d.D(this.F),d.vc(this.Tb,a.G().da()),this.Gb=!1),a=this.Tb.indexOf(a),-1!==a&&(this.F.push(this.Tb[a]),this.Tb.splice(a,1))):this.kj(a))}In(a){d.qg(this.F,
a);d.qg(this.Tb,a)}}}
{"use strict";const d=self.B;d.MV=class extends d.ca{constructor(a){super();this.oa=a;this.g=this.oa.H();this.cb=[];this.cb.push(d.A(d.QJ,this,null));this.Na=0;this.Ky=[]}m(){for(const a of this.cb)a.m();d.D(this.cb);d.D(this.Ky);this.g=this.oa=null}ga(){return this.oa}H(){return this.g}Fe(){return this.cb[this.Na]}Ca(a){var b=this.cb;const e=++this.Na;if(e===b.length)return a=d.A(d.QJ,this,a),b.push(a),a;b=b[e];b.$c(a);return b}Ba(){--this.Na}z_(a){this.Ky.push(a)}r_(){this.Ky.pop()}iW(){const a=this.Ky;
return 0===a.length?null:a.Yd(-1)}}}
{"use strict";const d=self.B;d.QJ=class extends d.ca{constructor(a,b){super();this.cb=a;this.g=this.cb.H();this.Mt=b;this.wf=this.Ek=0;this.JF=this.zo=!1;this.OF=null;this.WF=this.$P=0}m(){this.$c(null);this.g=this.cb=null}$c(a){this.Mt=a;this.wf=this.Ek=0;this.JF=this.zo=!1}BE(a,b){this.Mt=a;this.Ek=0;this.wf=b}ZL(){this.wf=this.Ek=0}ub(){return this.Mt}Tf(a){this.Mt=a}Ol(a){this.Ek=a}jx(a){this.wf=a}Sl(a){this.zo=!!a}Pp(a){this.JF=!!a}F0(a){this.OF=a}$X(a,b){this.$P=a;this.WF=b}nx(a){this.WF=a}ej(){const a=
this.Mt;return a.wz?!0:this.Ek<a.Kb.length-1?!!a.Xc().length:!1}}}{"use strict";const d=self.B;d.oZ=class extends d.ca{constructor(a){super();this.oa=a;this.g=this.oa.H();this.cb=[];this.Na=-1;this.gi=null;this.dz=[]}m(){d.D(this.cb);this.g=this.oa=null}n8(a){this.dz=a;a=this.dz.slice(0);this.cb.push(a);this.Na=0;this.gi=a}ga(){return this.oa}H(){return this.g}Bh(){return this.gi}Ca(){const a=++this.Na,b=this.cb;a===b.length?b.push(this.dz.slice(0)):d.vc(b[a],this.dz);this.gi=b[a]}Ba(){this.gi=this.cb[--this.Na]}}}
{"use strict";const d=self.B;d.qZ=class extends d.ca{constructor(a){super();this.oa=a;this.g=this.oa.H();this.cb=[];this.Na=-1}m(){d.D(this.cb);this.g=this.oa=null}ga(){return this.oa}H(){return this.g}ZK(){return 0<=this.Na}Bh(){return this.cb[this.Na]}Ca(){++this.Na;if(this.Na===this.cb.length){var a=d.A(d.pZ,this);this.cb.push(a);return a}a=this.cb[this.Na];a.$c();return a}Ba(){--this.Na}RV(a){const b=this.cb;for(let e=this.Na;0<=e;--e){const c=b[e];if(c.wa()===a)return c}return null}}}
{"use strict";const d=self.B;d.pZ=class extends d.ca{constructor(a){super();this.Ue=a;this.Da="";this.Na=0;this.ac=!1}$c(){this.Da="";this.Na=0;this.ac=!1}ox(a){this.Da=a}wa(){return this.Da}mc(a){this.Na=a}ya(){return this.Na}Kg(){this.ac=!0}}}{"use strict";const d=self.B;d.rT=class extends d.ca{constructor(){super();this.cb=[];this.Na=-1}m(){d.D(this.cb)}Bh(){return this.cb[this.Na]}Ca(){++this.Na;if(this.Na===this.cb.length){const a=[];this.cb.push(a);return a}return this.cb[this.Na]}Ba(){--this.Na}}}
{"use strict";const d=self.B;function a(b,e){return b.ya()-e.ya()}d.LV=class extends d.ca{constructor(b){super();this.g=b;this.At=[];this.xH=new Map;this.dF=[];this.dQ=new Map;this.rF=new Map;this.xF=new Map;this.fy=new Map;this.wP=new Map;this.MF=new Map;this.r$=0;this.cF=[];this.m9=[];this.SQ=[];this.UF=new Map;this.qd=d.A(d.MV,this);this.Tc=d.A(d.oZ,this);this.Ue=d.A(d.qZ,this);this.PH=[];this.bA=[];this.aA=[];this.qF=this.bg=this.cl=0;this.Ef=[];this.my=[];self.c3_callFunction=(e,c)=>this.Ox(e,
c)}m(){this.Rv();this.qd.m();this.qd=null;this.Tc.m();this.Tc=null;d.D(this.bA);d.D(this.aA);this.g=null;d.D(this.At);this.xH.clear()}Ma(b){b=d.A(d.KV,this,b);this.At.push(b);this.xH.set(b.wa().toLowerCase(),b)}B2(b){this.PH.push(b)}Bb(){for(const b of this.UF.values())b.Bb(!1);for(const b of this.At)b.Bb();for(const b of this.At)b.PE();for(const b of this.PH)b.Bb(!1);d.D(this.PH);this.Tc.n8(this.SQ)}H(){return this.g}gK(b){return this.xH.get(b.toLowerCase())||null}W6(b){this.dF.push(b);this.dQ.set(b.cQ,
b)}T6(b){this.rF.set(b.$a,b)}S6(b){this.xF.set(b.$a,b)}R6(b){this.fy.set(b.$a,b)}V6(b){this.UF.set(b.Wy.toLowerCase(),b)}U6(b){this.MF.set(b.$a,b);b.Qf()?this.cF.push(b):this.m9.push(b)}Dx(b){2<=b.length&&b.sort(a);let e=this.wP.get(b.length);e||(e=[],this.wP.set(b.length,e));for(let g=0,n=e.length;g<n;++g){const h=e[g];a:{for(let l=0,m=b.length;l<m;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(b);return b}M4(b){this.SQ.push(b.ro);return this.r$++}Jc(){return this.qd}Ee(){return this.Jc().Fe()}ub(){return this.Ee().ub()}jf(){const b=
this.Ee();return b.ub().cK(b.Ek)}gs(){const b=this.Ee();return b.ub().ZJ(b.wf)}YV(b){const e=[];for(b=b.up();b;)d.Km(e,b.IN()),b=b.up();return e}RN(b){const e={};for(const c of this.YV(b))e[c.Eh()]=c.TN();return Object.create(Object.prototype,e)}VB(b){return this.MF.get(b)||null}nW(b){return this.rF.get(b)||null}WV(b){return this.fy.get(b)||null}vw(b){return this.UF.get(b.toLowerCase())||null}T_(){for(const b of this.cF)b.Z_()}fK(b){return this.dQ.get(b.toLowerCase())||null}oW(b){return(b=this.rF.get(b))&&
b.xi?b:null}U_(){for(const b of this.dF)b.W_()}LO(){for(const b of this.At)b.k7()}e0(b){this.LO();this.cl++;for(const e of b.Dv())if(b=e.fc)this.g.En(e),b.na(),this.g.Cn();this.cl--}async tU(b){this.LO();this.cl++;for(const e of this.B3(b))await this.g.lp(e);this.cl--}*B3(b){for(const e of b.Dv())if(b=e.fc)this.g.En(e),yield*b.fb(),this.g.Cn()}yt(b,e,c,g){let n=!1;if(!b.wb())return this.VC(e,c,g);this.bg++;for(const h of b.Dv())if(b=h.fc){this.g.En(h);for(const l of b.tq){const m=l.yt(e,c,g);n=n||
m}b=b.yt(e,c,g);n=n||b;this.g.Cn()}this.bg--;return n}*ct(b,e,c,g){let n=!1;if(!b.wb())return this.VC(e,c,g);this.bg++;for(const h of b.Dv())if(b=h.fc){this.g.En(h);for(const l of b.tq){const m=yield*l.ct(e,c,g);n=n||m}b=yield*b.ct(e,c,g);n=n||b;this.g.Cn()}this.bg--;return n}VC(b,e,c){this.bA.push([b,e,c]);return!1}C_(b,e,c){let g=null;const n=new Promise(h=>g=h);this.aA.push([b,e,c,g]);return n}*u7(){if(this.g.ws())throw Error("should not be in breakpoint");const b=this.g.Ua;for(;this.aA.length;){const [e,
c,g,n]=this.aA.shift(),h=yield*this.ct(b,e,c,g);n(h)}}async aM(){for(const b of this.u7())await this.g.lp(b)}Gx(b,e,c,g){let n=!1;var h=b.wb();if(b=h.fc){this.bg++;this.g.En(h);h=b.tq;for(let l=0,m=h.length;l<m;++l){const p=h[l].Gx(e,c,g);n=n||p}e=b.Gx(e,c,g);n=n||e;this.g.Cn();this.bg--;return n}}*Cx(b,e,c,g){let n=!1;var h=b.wb();if(b=h.fc){this.bg++;this.g.En(h);h=b.tq;for(let l=0,m=h.length;l<m;++l){const p=yield*h[l].Cx(e,c,g);n=n||p}e=yield*b.Cx(e,c,g);n=n||e;this.g.Cn();this.bg--;return n}}GC(){return 0<
this.bg}it(){return++this.bg}dt(){--this.bg}VY(){return 0<this.cl}Tw(){return this.VY()||this.GC()}v7(b){for(const [e,c,g]of this.bA)this.yt(b,e,c,g);d.D(this.bA)}$d(b){b?this.qF++:this.qF--}YK(){return 0<this.qF}jp(b){for(let e=0,c=b.length;e<c;++e)b[e].um.Ic()}Rf(b){for(let e=0,c=b.length;e<c;++e)b[e].um.x_()}je(b){for(let e=0,c=b.length;e<c;++e)b[e].um.y_()}Ab(b){for(let e=0,c=b.length;e<c;++e)b[e].um.Ba()}iB(){const b=d.A(d.hD,this);this.Ef.push(b);return b}g0(){if(this.Ef.length){var b=this.Ee(),
e=!1;this.cl++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.iP()&&n.m7(b);n.Lu&&(e=!0)}e&&this.FN();this.cl--}}async vU(){if(this.Ef.length){var b=this.Ee(),e=!1;this.cl++;for(let c=0,g=this.Ef.length;c<g;++c){const n=this.Ef[c];n.iP()&&await n.v3(b);n.Lu&&(e=!0)}e&&this.FN();this.cl--}}FN(){const b=d.W$(this.Ef,e=>e.Lu);for(const e of b)e.m()}Rv(){for(const b of this.Ef)b.m();d.D(this.Ef)}K_(b){for(const e of this.Ef)e.In(b)}gB(b){this.my.push(b)}Tv(){d.D(this.my)}fX(){const b=Promise.all(this.my);
this.my=[];return b}ka(){return{groups:this.C7(),cnds:this.B7(),acts:this.A7(),vars:this.N7(),waits:this.J7()}}pa(b){this.E5(b.groups);this.z5(b.cnds);this.y5(b.acts);this.Q5(b.vars);this.M5(b.waits)}C7(){const b={};for(const e of this.dF)b[e.$a.toString()]=e.zs();return b}E5(b){for(const [e,c]of Object.entries(b))(b=this.oW(parseInt(e,10)))&&b.Qp(c)}B7(){const b={};for(const [e,c]of this.xF){const g=c.ka();g&&(b[e.toString()]=g)}return b}z5(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,
10),g);for(const [c,g]of this.xF)g.pa(e.get(c)||null)}A7(){const b={};for(const [e,c]of this.fy){const g=c.ka();g&&(b[e.toString()]=g)}return b}y5(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.fy)g.pa(e.get(c)||null)}N7(){const b={};for(const [e,c]of this.MF)c.kb||!c.Qf()&&!c.Xg||(b[e.toString()]=c.he());return b}Q5(b){for(const [e,c]of Object.entries(b))(b=this.VB(parseInt(e,10)))&&b.Uf(c)}J7(){return this.Ef.filter(b=>!b.TY()).map(b=>b.ka())}M5(b){this.Rv();
for(const e of b)(b=d.hD.Z2(this,e))&&this.Ef.push(b)}JB(b){for(;b;)if(b=b.up(),b instanceof d.bs)return b;return null}Ox(b,e){Array.isArray(e)||(e=[]);b=this.vw(b.toLowerCase());if(!b)return null;if(!b.Jh())return b.js();var c=b.dg;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].ro);while(e.length<c.length)}c=b.ee();return c.eD(c.Yc(),b.al,b.js(),...e)}}}
{"use strict";const d=self.B;d.KV=class extends d.ca{constructor(a,b){super();this.oa=a;this.g=a.H();this.Da=b[0];this.Jy=[];this.zA=new Map;this.Oy=new Map;this.L9=new Map;this.Yt=!1;this.xR=[];this.tq=[];this.xP=new Set;for(const e of b[1])this.rN(e,null,this.Jy);this.Ei=this.g.nb?{type:"sheet",name:this.Da,Fv:0,children:[]}:null}m(){this.g=this.oa=null}rN(a,b,e){switch(a[0]){case 0:case 3:this.X2(a,b,e);break;case 1:this.Y2(a,b,e);break;case 2:this.d3(a,b,e);break;case 4:this.a3(a,b);break;case 5:this.i3(a,
b,e);break;default:throw Error("invalid event type");}}X2(a,b,e){a=d.Wj.Ma(this,b,a);if(a.sd){e.push(a);e=a.Kb;for(let c=0,g=e.length;c<g;++c)e[c].An()&&this.dO(a,c)}else a.An()?this.dO(a,0):e.push(a)}a3(a,b){a=d.bs.Ma(this,b,a);this.oa.V6(a)}Y2(a,b,e){a=d.ew.Ma(this,b,a);e.push(a)}d3(a,b,e){a=d.PJ.Ma(this,b,a);e.push(a)}i3(a,b,e){a=d.dw.Ma(this,b,a);e.push(a)}dO(a,b){a.sd||this.oa.B2(a);var e=a.cK(b),c=e.Ea,g=e.G();if(e.xQ){var n=this.Oy.get(g);n||(n=new Map,this.Oy.set(g,n));e=e.sW().toLowerCase();
g=n.get(c);g||(g=new Map,n.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([a,b])}else n=this.zA.get(g),n||(n={DI:new Map,lv:new Map},this.zA.set(g,n)),(g=e.xg())?(e=n.lv.get(g),e||(e=new Map,n.lv.set(g,e))):e=n.DI,n=e.get(c),n||(n=[],e.set(c,n)),n.push([a,b])}Bb(){const a=this.Jy;for(let b=0,e=a.length;b<e;++b)a[b].Bb(b<e-1&&a[b+1]instanceof d.Wj&&a[b+1].Sw())}A2(a){this.xR.push(a)}PE(){d.D(this.tq);this.cN(this);this.xP.clear()}cN(a){const b=a.tq,e=a.xP;for(const c of this.xR){const g=c.cu;c.yb&&
a!==g&&!e.has(g)&&(e.add(g),g.cN(a),b.push(g))}}ga(){return this.oa}H(){return this.g}wa(){return this.Da}GO(a,b){this.L9.set(b,a)}k7(){this.Yt=!1}na(){if(!this.Yt){var a=this.g,b=a.zC(),e=b?performance.now():0;this.Yt=!0;var c=this.ga(),g=c.Ee();for(const n of this.Jy)n.na(g),c.jp(n.Xc()),c.Tv(),a.wd();g.$c(null);b&&(this.Ei.Fv+=performance.now()-e)}}*fb(){if(!this.Yt){this.Yt=!0;var a=this.g,b=this.ga(),e=b.Ee();for(const c of this.Jy)yield*c.fb(e),b.jp(c.Xc()),b.Tv(),a.wd();e.$c(null)}}yt(a,b,
e){if(b){const c=b.G();this.NE(a,b,c,e);for(const g of c.Tg)this.NE(a,b,g,e)}else return this.NE(a,b,null,null)}NE(a,b,e,c){e=this.zA.get(e);if(!e)return!1;c=c?e.lv.get(c):e.DI;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,n]of c)c=this.Fx(b,g,n),a=a||c;return a}*ct(a,b,e){if(b){const c=b.G();yield*this.ZD(a,b,c,e);for(const g of c.Tg)yield*this.ZD(a,b,g,e)}else return yield*this.ZD(a,b,null,null)}*ZD(a,b,e,c){e=this.zA.get(e);if(!e)return!1;c=c?e.lv.get(c):e.DI;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,n]of c)c=g.Id()?this.Fx(b,g,n):yield*this.tN(b,g,n),a=a||c;return a}Gx(a,b,e){b=b.G();b=this.Oy.get(b);if(!b)return!1;a=b.get(a);if(!a)return!1;e=a.get(e);if(!e)return!1;a=!1;for(let c=0,g=e.length;c<g;++c)b=e[c],b=this.Fx(null,b[0],b[1]),a=a||b;return a}*Cx(a,b,e){b=b.G();b=this.Oy.get(b);if(!b)return!1;a=b.get(a);if(!a)return!1;e=a.get(e);if(!e)return!1;a=!1;for(let g=0,n=e.length;g<n;++g){var c=e[g];b=c[0];c=c[1];b=b.Id()?this.Fx(null,b,c):yield*this.tN(null,b,
c);a=a||b}return a}Fx(a,b,e){const c=this.g,g=this.oa,n=g.ub(),h=g.Jc(),l=g.bg;let m=!1;n&&g.Rf(n.Yc());g.Rf(b.Yc());const p=1<l;p&&g.Tc.Ca();const u=h.Ca(b);a&&(b.Kb[e].G().R().kj(a),a.Jb()&&a.Rh());a=!0;if(b.xa()){const q=b.Uo;for(let v=0,t=q.length;v<t;++v)if(!q[v].$L(u)){a=!1;break}}a&&(c.kk(),b.sd?b.f0(u,e):b.na(u),m=u.zo);h.Ba();p&&g.Tc.Ba();g.Ab(b.Yc());n&&g.Ab(n.Yc());n||1!==l||(g.Tv(),g.YK()||c.wd());return m}*tN(a,b,e){const c=this.g,g=this.oa,n=g.ub(),h=g.Jc(),l=g.bg;let m=!1;n&&g.Rf(n.Yc());
g.Rf(b.Yc());const p=1<l;p&&g.Tc.Ca();const u=h.Ca(b);a&&(b.Kb[e].G().R().kj(a),a.Jb()&&a.Rh());a=!0;if(b.xa()){const q=b.Uo;for(let v=0,t=q.length;v<t;++v)if(!(yield*q[v].IJ(u))){a=!1;break}}a&&(c.kk(),b.sd?yield*b.uU(u,e):yield*b.fb(u),m=u.zo);h.Ba();p&&g.Tc.Ba();g.Ab(b.Yc());n&&g.Ab(n.Yc());n||1!==l||(g.Tv(),g.YK()||c.wd());return m}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*e(){return!0}d.Wj=class extends d.ca{constructor(c,g,n){super();this.fc=c;this.g=c.H();this.hc=g;this.Ed=null;this.qd=this.g.ga().Jc();this.te=[];this.$q=[];this.Vt=this.yz=this.wz=this.iQ=!1;this.sd=!!n[2];this.kz=!1;this.Uo=null;this.Kb=[];this.Yf=[];this.hh=[];this.Zh=b;this.On=e;this.vG=this.xi=!1;this.cQ="";this.mz=!1;this.Ei=this.Ay=null;this.$a=n[4];this.vq=n[5];this.fc.GO(this,this.vq);this.Ja=this.g.nb?{Hc:n[3][0],yI:n[3][1],
ZR:!1,jI:!1,kI:!1,$R:!1}:null;this.ga().T6(this);3===n[0]&&this.f5(n[1]);c=0;for(var h of n[6])g=d.AJ.Ma(this,h,c++),this.Kb.push(g),this.hN(g.G());c=0;for(const l of n[7])h=d.Kv.Ma(this,l,c++),this.Yf.push(h);if(9===n.length){n=n[8];for(const l of n)this.fc.rN(l,this,this.hh)}this.Kb.length&&(this.kz=null===this.Kb[0].G()&&this.Kb[0].Ea===d.C.ab.L.OJ);0===this.Kb.length&&(this.Kb=a);0===this.Yf.length&&(this.Yf=a);0===this.hh.length&&(this.hh=a)}static Ma(c,g,n){return d.A(d.Wj,c,g,n)}f5(c){this.xi=
!0;this.mz=this.vG=!!c[0];this.cQ=c[1].toLowerCase();this.Ay=[];this.ga().W6(this);this.g.nb&&(this.Ei={type:"group",name:c[1],Fv:0,children:[]})}s2(c){this.Ay.push(c)}bN(c,g){for(const n of c.$f.Xk)g.includes(n)||g.push(n)}iN(c,g){if(c)if(g.includes(c)||g.push(c),c.Ta)for(const n of c.lo)n.Jb()&&this.bN(n,g);else c.Jb()&&this.bN(c,g)}hN(c){this.iN(c,this.te)}w2(c){this.iN(c,this.$q)}p0(){this.te=this.g.zc}Bb(c){this.Vt=!!c;this.Z4();this.a5();for(const n of this.Kb)n.Bb();if(0<this.Yf.length){c=
!1;for(var g of this.Yf)g.Bb(),g.EX()&&(c=!0);c?(this.Zh=this.o7,this.On=this.x3):(this.Zh=this.n7,this.On=this.w3)}g=this.hh;for(let n=0,h=g.length;n<h;++n)g[n].Bb(n<h-1&&g[n+1]instanceof d.Wj&&g[n+1].Sw());this.Ja&&this.U8();this.Ei&&this.N4().Ei.children.push(this.Ei)}N4(){let c=this.xa();for(;c;){if(c.xi)return c;c=c.xa()}return this.fc}U8(){const c=this.Ja;c.ZR=this.Kb.every(g=>g.Id());c.jI=this.Yf.every(g=>g.Id());c.kI=this.hh.every(g=>g.Id());c.$R=c.ZR&&c.jI&&c.kI}Z4(){if(this.xi){var c=this.xa();
for(this.yz=!0;c;){if(!c.xi){this.yz=!1;break}c=c.xa()}}}Y4(){var c=this.g.zc;if(this.te===c)this.$q=c;else{this.$q=d.mI(this.te);for(c=this.xa();c;){for(var g of c.te)this.w2(g);c=c.xa()}g=this.ga();this.te=g.Dx(this.te);this.$q=g.Dx(this.$q)}}a5(){if(this.xX()){this.Uo=[];for(var c=this.xa();c;)this.Uo.push(c),c=c.xa();this.Uo.reverse()}}Ts(){this.wz=!0;this.hc&&this.hc.Ts()}Xc(){return this.te}Yc(){this.iQ||(this.iQ=!0,this.Y4());return this.$q}GX(c){return this.te.includes(c)}ga(){return this.fc.ga()}H(){return this.g}xa(){return this.hc}t8(c){this.Ed=
c}up(){return this.Ed||this.hc}AC(){return this.Ja&&this.Ja.yI}vn(){return this.AC()&&this.Ja.Hc}Sw(){return this.kz}zs(){return this.mz}W_(){this.Qp(this.vG)}Qp(c){c=!!c;if(!this.xi)throw Error("not a group");if(this.mz!==c){this.mz=c;for(const g of this.Ay)g.TM();this.Ay.length&&(c=this.g.Ha().fc)&&c.PE()}}An(){return this.Kb.length&&this.Kb[0].An()}OY(){return this.Ed&&this.Ed instanceof d.bs}xX(){return this.OY()||this.Kb.some(c=>c.An())}cK(c){c=Math.floor(c);if(0>c||c>=this.Kb.length)throw new RangeError("invalid condition index");
return this.Kb[c]}NY(c){let g=c.ya();if(0===g)return!0;for(--g;0<=g;--g)if(this.Kb[g].G()===c.G())return!1;return!0}ZJ(c){c=Math.floor(c);if(0>c||c>=this.Yf.length)throw new RangeError("invalid action index");return this.Yf[c]}X4(c){c=Math.floor(c);return 0<=c&&c<this.Yf.length}IN(){return this.hh.filter(c=>c instanceof d.ew)}$L(c){c.Tf(this);let g=!1;const n=this.Kb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.Ol(h);if(m.oz)throw Error("trigger cannot be used as sub-event to a loop");if(m.na())g=
!0;else if(!this.sd)return!1}return this.sd?g:!0}f0(c,g){c.Tf(this);this.Kb[g].na()&&(this.Zh(c,0)&&this.zk(),c.Sl(!0))}*IJ(c){c.Tf(this);let g=!1;const n=this.Kb;for(let h=0,l=n.length;h<l;++h){const m=n[h];c.Ol(h);if(m.oz)throw Error("trigger cannot be used as sub-event to a loop");if(m.Id()?m.na():yield*m.fb())g=!0;else if(!this.sd)return!1}return this.sd?g:!0}*uU(c,g){c.Tf(this);g=this.Kb[g];if(g.Id()?g.na():yield*g.fb())(this.$v()?this.Zh(c,0):yield*this.On(c,0))&&(this.aw()?this.zk():yield*this.bt()),
c.Sl(!0)}na(c){c.Tf(this);this.kz||c.Pp(!1);this.sd?this.t7(c):this.Ux(c)}*fb(c){if(this.vn()||this.g.Xb())yield this;c.Tf(this);this.kz||c.Pp(!1);this.sd?yield*this.I3(c):yield*this.WD(c)}t7(c){const g=this.Kb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.An()||(c.Ol(l),h=h.na(),n=n||h)}c.Sl(n);n&&(this.Zh(c,0)&&this.zk(),this.Vt&&c.Pp(!0))}*I3(c){const g=this.Kb;let n=0===g.length;for(let l=0,m=g.length;l<m;++l){var h=g[l];h.An()||(c.Ol(l),h=h.Id()?h.na():yield*h.fb(),n=n||h)}c.Sl(n);
n&&((this.$v()?this.Zh(c,0):yield*this.On(c,0))&&(this.aw()?this.zk():yield*this.bt()),this.Vt&&c.Pp(!0))}Ux(c){const g=this.Kb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.Ol(n);if(!l.na()){c.Sl(!1);return}}c.Sl(!0);this.Zh(c,0)&&this.zk();c.zo&&this.Vt&&c.Pp(!0)}*WD(c){const g=this.Kb;for(let n=0,h=g.length;n<h;++n){const l=g[n];c.Ol(n);if(l.Id()?!l.na():!(yield*l.fb())){c.Sl(!1);return}}c.Sl(!0);(this.$v()?this.Zh(c,0):yield*this.On(c,0))&&(this.aw()?this.zk():yield*this.bt());c.zo&&this.Vt&&
c.Pp(!0)}n7(c,g){const n=this.Yf;for(let h=g,l=n.length;h<l;++h)g=n[h],c.jx(h),g.na();return!0}*w3(c,g){const n=this.Yf;for(let h=g,l=n.length;h<l;++h)g=n[h],c.jx(h),g.Id()?g.na():yield*g.fb();return!0}o7(c,g){const n=this.ga(),h=this.Yf;for(let l=g,m=h.length;l<m;++l){g=h[l];c.jx(l);const p=g.na();if(g.tJ()&&!0===p)return!1;g.Pf()&&p instanceof Promise&&n.gB(p)}return!0}*x3(c,g){const n=this.ga(),h=this.Yf;for(let l=g,m=h.length;l<m;++l){g=h[l];c.jx(l);let p;p=g.Id()?g.na():yield*g.fb();if(g.tJ()&&
!0===p)return!1;g.Pf()&&p instanceof Promise&&n.gB(p)}return!0}l7(c){this.Zh(c,c.wf)&&this.zk()}*u3(c){if(yield*this.On(c,c.wf))yield*this.bt()}zk(){if(this.hh.length){var c=this.xi&&this.g.zC(),g=c?performance.now():0,n=this.qd,h=n.Ca(this);this.wz?this.y7(h):this.x7(h);n.Ba();c&&(this.Ei.Fv+=performance.now()-g)}}y7(c){const g=this.xi,n=this.yz,h=this.ga(),l=this.hh;for(let m=0,p=l.length,u=p-1;m<p;++m){const q=l[m],v=q.Xc(),t=!n||!g&&m<u;t&&h.je(v);q.na(c);t?h.Ab(v):h.jp(v)}}x7(c){const g=this.hh;
for(let n=0,h=g.length;n<h;++n)g[n].na(c)}*bt(){if(this.hh.length){var c=this.qd,g=c.Ca(this);this.wz?yield*this.L3(g):yield*this.K3(g);c.Ba()}}*L3(c){const g=this.xi,n=this.yz,h=this.ga(),l=this.hh;for(let m=0,p=l.length,u=p-1;m<p;++m){const q=l[m],v=q.Xc(),t=!n||!g&&m<u;t&&h.je(v);yield*q.fb(c);t?h.Ab(v):h.jp(v)}}*K3(c){const g=this.hh;for(let n=0,h=g.length;n<h;++n)yield*g[n].fb(c)}Sf(c,g){this.g.kk();g.ZL();const n=this.Kb;if(!this.sd)for(let h=c.Ek+1,l=n.length;h<l;++h)if(c=n[h],g.Ol(h),!c.na())return!1;
this.Zh(g,0)&&this.zk();return!0}*Jf(c,g){this.g.kk();g.ZL();const n=this.Kb;if(!this.sd)for(let h=c.Ek+1,l=n.length;h<l;++h)if(c=n[h],g.Ol(h),c.Id()?!c.na():!(yield*c.fb()))return!1;(this.$v()?this.Zh(g,0):yield*this.On(g,0))&&(this.aw()?this.zk():yield*this.bt());return!0}Id(){return!this.vn()&&!this.g.Xb()&&this.Ja.$R}$v(){return!this.g.Xb()&&this.Ja.jI}aw(){return!this.g.Xb()&&this.Ja.kI}PD(c){if(this.xa()){const g=this.Uo;for(let n=0,h=g.length;n<h;++n)if(!g[n].$L(c))return!1}return!0}*sN(c){if(this.xa()){const g=
this.Uo;for(let n=0,h=g.length;n<h;++n)if(!(yield*g[n].IJ(c)))return!1}return!0}EN(c,g,n){0<g.length?n?(g=g.map(h=>h.Y(0)),c.Tc.Ca(),this.Ed.Ns(g)):this.Ed.JV(g):n&&c.Tc.Ca()}c0(c,g){let n,h;const l=0<c.length;var m=this.g;const p=this.qd,u=m.ga(),q=1<u.it();this.EN(u,g,q);l&&u.Rf(c);g=p.Ca(this);this.PD(g)&&(m.kk(),g.Tf(this),(m=this.Ed.Pf())&&([h,n]=this.Ed.DD()),this.Ux(g),m&&this.Ed.Ds(h));p.Ba();q&&u.Tc.Ba();l&&u.Ab(c);u.dt();return n}*rU(c,g){let n,h;if(this.vn()||this.g.Xb())yield this;const l=
0<c.length;var m=this.g;const p=this.qd,u=m.ga(),q=1<u.it();this.EN(u,g,q);l&&u.Rf(c);g=p.Ca(this);if(yield*this.sN(g))m.kk(),g.Tf(this),(m=this.Ed.Pf())&&([h,n]=this.Ed.DD()),yield*this.WD(g),m&&this.Ed.Ds(h);p.Ba();q&&u.Tc.Ba();l&&u.Ab(c);u.dt();return n}d0(c){const g=this.Yc(),n=0<g.length,h=this.g,l=this.qd,m=h.ga(),p=1<m.it();p&&m.Tc.Ca();this.Ed.Ns(c);n&&m.Rf(g);c=l.Ca(this);this.PD(c)&&(h.kk(),c.Tf(this),this.Ux(c));l.Ba();p&&m.Tc.Ba();n&&m.Ab(g);m.dt()}*sU(c){if(this.vn()||this.g.Xb())yield this;
const g=this.Yc(),n=0<g.length,h=this.g,l=this.qd,m=h.ga(),p=1<m.it();p&&m.Tc.Ca();this.Ed.Ns(c);n&&m.Rf(g);c=l.Ca(this);if(yield*this.sN(c))h.kk(),c.Tf(this),yield*this.WD(c);l.Ba();p&&m.Tc.Ba();n&&m.Ab(g);m.dt()}eD(c,g,n,...h){let l,m;const p=0<c.length,u=this.g,q=this.qd,v=u.ga(),t=1<v.it();t&&v.Tc.Ca();0<h.length&&this.Ed.Ns(h);p&&v.Rf(c);h=q.Ca(this);h.$X(g,n);q.z_(h);u.Np(!1);this.PD(h)&&(u.kk(),h.Tf(this),(g=this.Ed.Pf())&&([m,l]=this.Ed.DD()),this.Ux(h),g&&this.Ed.Ds(m));u.Np(!0);q.Ba();q.r_();
t&&v.Tc.Ba();p&&v.Ab(c);v.dt();return l||h.WF}}}
{"use strict";const d=self.B,a=[];let b=!1;d.dw=class extends d.ca{constructor(e,c,g){super();const n=e.H(),h=e.ga();this.fc=e;this.oa=h;this.g=e.H();this.hc=c;this.Ea=n.Ag(g[1]);this.vq=g[2];this.fc.GO(this,this.vq);this.Ja=n.nb?{Hc:g[3][0],yI:g[3][1]}:null}static Ma(e,c,g){return d.A(d.dw,e,c,g)}Bb(){const e=this.Ea,c=this.g.ga().RN(this);this.Ea=e.bind(null,this.g.ti,c)}xa(){return this.hc}up(){return this.hc}AC(){return this.Ja&&this.Ja.yI}vn(){return this.AC()&&this.Ja.Hc}Sw(){return!1}Xc(){return a}Yc(){return this.hc?
this.hc.Yc():a}na(e){e.Tf(this);this.oa.gB(this.z7())}async z7(){try{await this.Ea()}catch(e){console.error(`Unhandled exception running script %c${this.fc.wa()}, event ${this.vq}:`,"font-size: 1.2em; font-weight: bold;",e),self.sg&&self.sg.p8(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*fb(e){e.Tf(this);if(this.vn()||this.g.Xb())yield this;
this.na(e)}Id(){return!this.vn()&&!this.g.Xb()}static sX(){return b}static M0(){b=!0}}}
{"use strict";const d=self.B;d.bs=class extends d.ca{constructor(a,b,e){super();this.fc=a;this.g=a.H();this.hc=b;const c=e[1];this.Wy=c[0];this.al=c[1];this.dg=c[2].map(g=>d.ew.Ma(a,this,g));this.wi=c[3];this.jG=[];this.fu=c[4];this.n$=0;this.Lt=-1;this.Dt=new Map;this.zd=d.Wj.Ma(a,b,e);this.zd.t8(this)}static Ma(a,b,e){return d.A(d.bs,a,b,e)}Bb(){for(const a of this.dg)a.Bb();this.zd.Bb(!1)}IN(){return this.dg}X6(a){this.jG.push(a)}JV(a){const b=this.dg;for(let e=0,c=b.length;e<c;++e)b[e].Uf(a[e].Y(0))}Ns(a){const b=
this.dg;for(let e=0,c=b.length;e<c;++e)b[e].Uf(a[e])}KT(){return this.dg.map(a=>a.he())}xa(){return this.hc}up(){return this.hc}Jh(){return this.wi}js(){switch(this.al){case 0:return null;case 2:return"";default:return 0}}ee(){return this.zd}Pf(){return this.fu}DD(){const a=this.n$++;this.Lt=a;let b;const e=new Promise(c=>b=c);this.Dt.set(a,{resolve:b,KI:0});return[a,e]}Ds(a){const b=this.Dt.get(a);0===b.KI&&(b.resolve(),this.Dt.delete(a));this.Lt=-1}n_(){this.Dt.get(this.Lt).KI++;return this.Lt}b0(a){this.Lt=
a;this.Dt.get(a).KI--}}}
{"use strict";const d=self.B,a=[];d.ew=class extends d.ca{constructor(b,e,c){super();const g=b.ga();this.fc=b;this.oa=g;this.g=b.H();this.hc=e;this.Tc=g.Tc;this.Da=c[1];this.ra=c[2];this.ro=c[3];this.Xg=!!c[4];this.kb=!!c[5];this.X9=e instanceof d.bs;this.$a=c[6];this.pu=this.g.Eh(c[8]);this.B$=n=>this.Uf(n);this.z$=()=>this.he();this.kQ=!this.hc||this.Xg||this.kb;this.Wc=this.ro;this.TG=-1;this.SK()&&(this.Wc=this.Wc?1:0);!this.JC()||this.Xg||this.kb||(this.TG=g.M4(this));g.U6(this)}static Ma(b,
e,c){return d.A(d.ew,b,e,c)}Bb(){if(this.JC()&&!this.Xg&&!this.kb&&!this.X9){const b=this.oa.JB(this);b&&b.X6(this)}}wa(){return this.Da}Eh(){return this.pu}xa(){return this.hc}up(){return this.xa()}Qf(){return!this.xa()}JC(){return!this.Qf()}Il(){return 0===this.ra}Kh(){return 1===this.ra}SK(){return 2===this.ra}Sw(){return!1}Xc(){return a}na(){!this.JC()||this.Xg||this.kb||this.Uf(this.ro)}Id(){return!0}*fb(b){this.na(b)}Uf(b){this.Il()?"number"!==typeof b&&(b=parseFloat(b)):this.Kh()?"string"!==
typeof b&&(b=b.toString()):this.SK()&&(b=b?1:0);this.kQ?this.Wc=b:this.Tc.Bh()[this.TG]=b}he(){return this.kQ?this.Wc:this.Tc.Bh()[this.TG]}Z_(){this.Wc=this.ro}TN(){return{configurable:!1,enumerable:!0,get:this.z$,set:this.B$}}}}
{"use strict";const d=self.B,a=[];d.PJ=class extends d.ca{constructor(b,e,c){super();const g=b.ga();this.fc=b;this.oa=g;this.g=b.H();this.hc=e;this.cu=null;this.R9=c[1];this.yb=!0}static Ma(b,e,c){return d.A(d.PJ,b,e,c)}Bb(){this.cu=this.oa.gK(this.R9);this.fc.A2(this);let b=this.xa();for(;b;)b instanceof d.Wj&&b.xi&&b.s2(this),b=b.xa();this.TM();this.g.nb&&this.fc.Ei.children.push(this.cu.Ei)}xa(){return this.hc}Xc(){return a}na(){const b=!!this.xa(),e=this.g.zc;b&&this.oa.Rf(e);this.cu.na();b&&
this.oa.Ab(e)}*fb(){const b=!!this.xa(),e=this.g.zc;b&&this.oa.Rf(e);yield*this.cu.fb();b&&this.oa.Ab(e)}Id(){return!1}TM(){let b=this.xa();for(;b;){if(b instanceof d.Wj&&b.xi&&!b.zs()){this.yb=!1;return}b=b.xa()}this.yb=!0}}}
{"use strict";const d=self.B;d.an=class extends d.ca{constructor(l){super();this.Mb=l;this.g=l.H()}Bb(){}static kU(l,m){return d.A([n,c,g,h,a,b][m[0]],l,m)}};class a extends d.an{constructor(l,m){super(l);this.ed=this.g.rs();this.Ea=this.g.Ag(m[1]);this.Ea!==d.C.ab.hf.random&&this.Ea!==d.C.ab.hf.$$||this.Mb.zD()}bn(){return this.ed.nj(this.Ea,this.ed)}}class b extends d.an{constructor(l,m){super(l);this.Cq=null;this.Wy=m[1];this.Mb.zD()}Bb(){const l=this.g.ga();this.Cq=l.vw(this.Wy);this.Wy=null;
const m=this.Cq.ee();this.Fk=[...new Set([...this.Mb.ee().Yc(),...m.Yc()])];this.Fk=l.Dx(this.Fk)}bn(){const l=this.Cq;if(l.Jh())return d.Wj.prototype.eD.bind(l.ee(),this.Fk,l.al,l.js());{const m=l.js();return()=>m}}}function e(l,m){if(l>=m)return l%m;0>l&&(l<=-m&&(l%=m),0>l&&(l+=m));return l}class c extends d.an{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.Ea=this.g.Ag(m[2]);this.eA=!!m[3];this.qd=this.g.ga().Jc();this.Mb.sE(this.I)}bn(){return this.I.xb().nj(this.Ea,this.I.$i().ma)}SJ(){const l=
this.I,m=l.R().hK();var p=m.length;if(0===p)return this.eA?"":0;p=e(this.Mb.Ou,p);this.qd.Fe().F0(l);return this.Ea.apply(m[p].ma,[])}}class g extends d.an{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.L$=m[3];this.eA=!!m[2];this.Mb.sE(this.I)}RJ(){var l=this.I,m=l.R().hK(),p=m.length;if(0===p)return this.eA?"":0;p=e(this.Mb.Ou,p);m=m[p];l=m.G().WB(l.Ug);return m.I4(this.L$+l)}}class n extends d.an{constructor(l,m){super(l);this.I=this.g.Ge(m[1]);this.Bc=this.I.hw(m[2]);this.di=this.I.es(m[2]);
this.Ea=this.g.Ag(m[3]);this.eA=!!m[4];this.qd=this.g.ga().Jc();this.Mb.sE(this.I)}}class h extends d.an{constructor(l,m){super(l);this.Rt=null;this.LF=m[1]}Bb(){this.Rt=this.g.ga().VB(this.LF)}}}
{"use strict";const d=self.B;d.ie=class extends d.ca{constructor(z,F,G){super();this.Mb=z;this.Na=G;this.ra=F;this.Y=null;this.kb=this.ye=!1}static Ma(z,F,G){const Q=F[0];return d.A([b,e,p,g,h,c,l,b,g,g,u,q,p,t,e,m,n,v,w,y][Q],z,Q,G,F)}Bb(){}zD(){this.ye=!0}sE(z){this.ye||!z||z.xb().im||(this.ye=!0)}ya(){return this.Na}H(){return this.Mb.H()}ee(){return this.Mb.ee()}};function a(z){z=self.BT[z];if(!z)throw Error("invalid expression number");return z}class b extends d.ie{constructor(z,F,G,Q){super(z,
F,G);this.Ou=0;z=Q[1];this.NF=z[0];this.Rq=[];this.Ly=null;for(let D=1,H=z.length;D<H;++D)this.Rq.push(d.an.kU(this,z[D]));this.Rq.length?this.Y=this.qW:(this.Y=a(this.NF),this.kb=!0)}oj(z){if(0>z||z>=this.Rq.length)throw new RangeError("invalid numbered node");return this.Rq[z]}Bb(){for(var z of this.Rq)z.Bb();z=a(this.NF);this.Ly=this.Rq.length?z(this):z}qW(z){this.Ou=z;return this.Ly()}}class e extends b{constructor(z,F,G,Q){super(z,F,G,Q);this.Y=this.hX;14===F&&(this.ee().p0(),this.Mb instanceof
d.Kv&&this.ee().Ts())}hX(z){this.Ou=z;z=this.Ly();return"string"===typeof z?z:""}F4(){return a(this.NF)()}}class c extends b{constructor(z,F,G,Q){super(z,F,G,Q);this.Y=this.T;this.kb=!1}T(z){this.Ou=z;z=this.Ly();return this.H().Ha().T(z)}}class g extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.C9=Q[1];this.Y=this.hW;this.kb=!0}hW(){return this.C9}}class n extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.s9=Q[1];this.Y=this.dW;this.kb=!0}dW(){return this.s9}}class h extends d.ie{constructor(z,
F,G,Q){super(z,F,G);this.I=this.H().Ge(Q[1]);this.Y=this.G;z=this.ee();z.hN(this.I);this.Mb instanceof d.Kv?z.Ts():z.xa()&&z.xa().Ts();this.kb=!0}G(){return this.I}}class l extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.Ci=this.H().Ua.pp(Q[1]);this.Y=this.Yb;this.kb=!0}Yb(){return this.Ci}}class m extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.xm=this.H().tb.Fw(Q[1]);this.Y=this.Zb;this.kb=!0}Zb(){return this.xm}}class p extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.M9=Q[1];this.Y=
this.tW;this.kb=!0}tW(){return this.M9}}class u extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.uQ=Q[1];(z=this.Mb.G())&&z.Ta?(this.Y=this.rW,this.zD()):(this.Y=this.JW,this.kb=!0)}JW(){return this.uQ}rW(z){z=z||0;const F=this.Mb.G();var G=F.R();const Q=G.da();if(Q.length)z=Q[z%Q.length].G();else if(G.wX())G=G.Tb,z=G[z%G.length].G();else if(0<F.F.length)G=F.da(),z=G[z%G.length].G();else return 0;return this.uQ+z.WB(F.Ug)}}class q extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.LF=Q[1];this.Rt=
null;this.Y=this.pW;this.kb=!0}Bb(){this.Rt=this.H().ga().VB(this.LF)}pW(){return this.Rt}}class v extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.YP=Q[1];this.Cq=null;this.Y=this.DW;this.kb=!0}Bb(){this.Cq=this.H().ga().vw(this.YP);this.YP=null}DW(){return this.Cq}}class t extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.JH=[];this.RR=[];this.kb=!0;for(let D=1,H=Q.length;D<H;++D)z=d.ie.Ma(this.Mb,Q[D],0),this.JH.push(z),this.RR.push(0),z.kb||(this.kb=!1);this.Y=this.pX}Bb(){for(const z of this.JH)z.Bb()}pX(){const z=
this.JH,F=this.RR;for(let G=0,Q=z.length;G<Q;++G)F[G]=z[G].Y(0);return F}}class w extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.I9=Q[1];this.Y=this.yl;this.kb=!0}yl(){return this.I9}}class y extends d.ie{constructor(z,F,G,Q){super(z,F,G);this.y9=Q[1];this.Y=this.kX;this.kb=!0}kX(){return this.y9}}}
{"use strict";const d=self.B;function a(c,g){for(let n=0,h=c.length;n<h;++n)g[n]=c[n].Y(0)}const b=[],e=function(){};d.AJ=class extends d.ca{constructor(c,g,n){super();this.zd=c;this.g=c.H();this.Na=n;this.Ea=this.g.Ag(g[1]);this.CG=0<g[3];this.xQ=2===g[3];this.oz=!!g[4];this.yi=!!g[5];this.Xg=!!g[6];this.$a=g[7];this.yQ=this.zd.sd;this.Bc=this.I=null;this.di=-1;this.ed=null;this.fb=this.na=e;this.Fa=[];this.lb=[];this.Ak=!1;this.jh=this.sb=null;this.Ja=this.g.nb?{Hc:g[8][0],Ze:g[8][1]}:null;-1===
g[0]?this.ed=this.g.rs():(this.I=this.g.Ge(g[0]),g[2]&&(this.Bc=this.I.hw(g[2]),this.di=this.I.es(g[2])),this.zd.xa()&&this.zd.xa().Ts());if(10===g.length){c=g[9];for(let h of c)this.Fa.push(d.ie.Ma(this,h,this.Fa.length)),this.lb.push(0)}0===this.Fa.length&&(this.lb=this.Fa=b);this.zd.ga().S6(this)}static Ma(c,g,n){return d.A(d.AJ,c,g,n)}Bb(){for(const c of this.Fa)c.Bb(),c.ye&&(this.Ak=!0);this.xQ?(this.na=this.p7,this.fb=this.C3):this.ed?(this.KE(),this.fb=this.YD):this.I.xb().im?(this.JE(),this.fb=
this.XD):this.Xg?(this.na=this.w7,this.fb=this.J3):(this.na=this.RO,this.fb=this.D3)}KE(){this.wt(this.ed,this.ed,this.EE)}JE(){const c=this.I.xb(),g=this.I.$i().ma;this.wt(c,g,this.DE)}wt(c,g,n){const h=this.Ea,l=this.yi,m=this.Fa;if(0===m.length){const p=c.nj(h,g);this.na=l?function(){return d.xor(p(),l)}:p}else if(1===m.length){const p=m[0];if(!l&&p.kb)this.na=c.KN(h,g,p.Y(0));else{const u=c.nj(h,g);this.na=function(){return d.xor(u(p.Y(0)),l)}}}else if(2===m.length){const p=m[0],u=m[1];if(!l&&
p.kb&&u.kb)this.na=c.LN(h,g,p.Y(0),u.Y(0));else{const q=c.nj(h,g);this.na=function(){return d.xor(q(p.Y(0),u.Y(0)),l)}}}else if(3===m.length){const p=m[0],u=m[1],q=m[2];if(!l&&p.kb&&u.kb&&q.kb)this.na=c.MN(h,g,p.Y(0),u.Y(0),q.Y(0));else{const v=c.nj(h,g);this.na=function(){return d.xor(v(p.Y(0),u.Y(0),q.Y(0)),l)}}}else this.na=n}G(){return this.I}xg(){return this.Bc}ee(){return this.zd}H(){return this.g}ya(){return this.Na}dK(){return this.ya()}An(){return this.CG}Id(){return!this.Ja.Hc&&!this.g.Xb()&&
!this.Ja.Ze}Zi(){this.sb||(this.sb=new Map);return this.sb}ts(){this.jh||(this.jh=new Map);return this.jh}EE(){const c=this.lb;a(this.Fa,c);return d.xor(this.Ea.apply(this.ed,c),this.yi)}*YD(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){var c=this.lb;a(this.Fa,c);c=this.Ea.apply(this.ed,c);d.Hl(c)&&(c=yield*c);return d.xor(c,this.yi)}return this.na()}DE(){const c=this.lb;a(this.Fa,c);const g=this.I.$i().ma;return d.xor(this.Ea.apply(g,c),this.yi)}*XD(){if(this.Ja.Hc||this.g.Xb())yield this;
if(this.Ja.Ze){var c=this.lb;a(this.Fa,c);const g=this.I.$i().ma;c=this.Ea.apply(g,c);d.Hl(c)&&(c=yield*c);return d.xor(c,this.yi)}return this.na()}p7(){return!0}*C3(){if(this.Ja.Hc||this.g.Xb())yield this;return!0}w7(){var c=this.lb;a(this.Fa,c);c=this.Ea.apply(this.Bc||this.I,c);this.I.Nb();return c}*J3(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){var c=this.lb;a(this.Fa,c);c=this.Ea.apply(this.Bc||this.I,c);d.Hl(c)&&(c=yield*c);this.I.Nb();return c}return this.na()}RO(){const c=this.Fa,
g=this.lb,n=this.I.R();for(let h=0,l=c.length;h<l;++h){const m=c[h];m.ye||(g[h]=m.Y(0))}return n.Gb?this.q7(n):this.r7(n)}*D3(){if(this.Ja.Hc||this.g.Xb())yield this;return this.RO()}fE(c){const g=this.Fa,n=this.lb;for(let h=0,l=g.length;h<l;++h){const m=g[h];m.ye&&(n[h]=m.Y(c))}}q7(c){const g=this.I,n=g.Ta,h=g.Ug,l=this.di,m=0<=l,p=g.da(),u=this.Ak,q=this.lb,v=this.Ea,t=this.yi,w=this.yQ&&!this.CG;c.Sv();for(let z=0,F=p.length;z<F;++z){const G=p[z];u&&this.fE(z);var y=void 0;m?(y=n?G.G().gn(h):0,
y=v.apply(G.Ac[l+y].ma,q)):y=v.apply(G.ma,q);d.xor(y,t)?c.Rn(G):w&&c.Wl(G)}g.$r(!0);c.Md(!1);g.Nb();return c.qC()}r7(c){const g=this.I;var n=g.Ta;const h=g.Ug,l=g.Jb(),m=this.di,p=0<=m,u=this.Ak,q=this.lb,v=this.Ea,t=this.yi,w=this.yQ&&!this.CG,y=c.F,z=c.Tb,F=w&&!this.zd.NY(this),G=F?z:y;let Q=0,D=!1;for(let J=0,M=G.length;J<M;++J){const P=G[J];u&&this.fE(J);var H=void 0;p?(H=n?P.G().gn(h):0,H=v.apply(P.Ac[m+H].ma,q)):H=v.apply(P.ma,q);d.xor(H,t)?(D=!0,F?(y.push(P),l&&P.P6()):(G[Q]=P,l&&P.v8(Q),++Q)):
F?(G[Q]=P,l&&P.u8(Q),++Q):w&&(z.push(P),l&&P.O6())}d.Ce(G,Q);l&&g.Q8(F,Q);n=D;F&&!D&&(D=this.G6(y));g.$r(n||w);return w?D:c.qC()}G6(c){var g=this.I;const n=g.Ta;g=g.Ug;const h=this.Ak,l=this.di,m=0<=l,p=this.lb,u=this.Ea,q=this.yi;for(let t=0,w=c.length;t<w;++t){var v=c[t];h&&this.fE(t);if(m){const y=n?v.G().gn(g):0;v=u.apply(v.Ac[l+y].ma,p)}else v=u.apply(v.ma,p);if(d.xor(v,q))return!0}return!1}Is(c,g){return this.Fa[c].Y(g)}sW(){const c=this.Fa;if(!c.length)throw Error("no parameters");return c[0].F4()}ka(){if(!this.sb||
!this.sb.size)return null;const c={};for(const [g,n]of this.sb.entries()){let h=n;"collmemory"===g&&(h=[...n.entries()].map(l=>[l[0].Fc,l[1].Fc,l[2]]));c[g]=h}return{ex:c}}pa(c){this.sb&&(this.sb.clear(),this.sb=null);if(c){var g=this.g,n=c.ex;if(n){c=this.Zi();c.clear();for(const [h,l]of Object.entries(n))n=l,"collmemory"===h&&(n=d.A(d.Fs,l.map(m=>[g.Ti(m[0]),g.Ti(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(h,n)}}}}}
{"use strict";const d=self.B;function a(g,n){for(let h=0,l=g.length;h<l;++h)n[h]=g[h].Y(0)}const b=[],e=function(){},c=function*(){};d.Kv=class extends d.ca{constructor(g,n,h){super();this.zd=g;this.g=g=g.H();this.Na=h;this.$a=4<=n.length?n[3]:-1;this.ey=5<=n.length?n[4]:0;this.Bc=this.I=this.Ea=null;this.di=-1;this.ed=null;this.uy="";this.Fk=this.ty=null;this.fb=this.na=e;this.Fa=[];this.lb=[];this.Ak=!1;this.jh=this.sb=null;const l=(h=-3===n[0])?n[2]:n[5];this.Ja=g.nb||h?{Hc:l[0],Ze:l[1],index:l[2]}:
null;-1===n[0]?(this.ed=g.rs(),this.Ea=g.Ag(n[1])):-2===n[0]?this.uy=n[1]:h?(this.Ea=g.Ag(n[1]),this.na=this.fD,this.fb=this.wU,this.ey=1):(this.Ea=g.Ag(n[1]),this.I=g.Ge(n[0]),n[2]&&(this.Bc=this.I.hw(n[2]),this.di=this.I.es(n[2])));if(7===n.length){n=n[6];for(const m of n)this.Fa.push(d.ie.Ma(this,m,this.Fa.length)),this.lb.push(0)}0===this.Fa.length&&(this.lb=this.Fa=b);this.zd.ga().R6(this)}static Ma(g,n,h){return d.A(d.Kv,g,n,h)}Bb(){for(var g of this.Fa)g.Bb(),g.ye&&(this.Ak=!0);if(this.ed)this.KE(),
this.fb=this.YD;else if(this.uy)this.W7(),this.uy="";else if(this.na===this.fD){g=this.Ea;const n=this.g.ga().RN(this.zd);this.Ea=g.bind(null,this.g.ti,n)}else this.Bc?this.Pf()?(this.na=this.PO,this.fb=this.z3):(this.na=this.OO,this.fb=this.y3):this.I.xb().im?(this.JE(),this.fb=this.XD):this.Pf()?(this.na=this.TO,this.fb=this.F3):this.Fa.length?this.Fa.every(n=>n.ye)?(this.na=this.SO,this.fb=this.E3):this.Ak?(this.na=this.VO,this.fb=this.H3):this.Fa.every(n=>n.kb)?(a(this.Fa,this.lb),this.na=this.CE,
this.fb=this.uN):(this.na=this.UO,this.fb=this.G3):(this.na=this.CE,this.fb=this.uN)}KE(){this.wt(this.ed,this.ed,this.EE)}JE(){const g=this.I.xb(),n=this.I.$i().ma;this.wt(g,n,this.DE)}W7(){const g=this.zd.ga(),n=g.vw(this.uy);n.Jh()?(this.ty=n.ee(),this.Fk=[...new Set([...this.zd.Yc(),...this.ty.Yc()])],this.Fk=g.Dx(this.Fk),this.na=d.Wj.prototype.c0.bind(this.ty,this.Fk,this.Fa),this.fb=this.A3):(this.na=e,this.fb=c)}wt(g,n,h){const l=this.Ea,m=this.Fa;if(0===m.length)this.na=g.nj(l,n);else if(1===
m.length){const p=m[0];if(p.kb)this.na=g.KN(l,n,p.Y(0));else{const u=g.nj(l,n);this.na=function(){return u(p.Y(0))}}}else if(2===m.length){const p=m[0],u=m[1];if(p.kb&&u.kb)this.na=g.LN(l,n,p.Y(0),u.Y(0));else{const q=g.nj(l,n);this.na=function(){return q(p.Y(0),u.Y(0))}}}else if(3===m.length){const p=m[0],u=m[1],q=m[2];if(p.kb&&u.kb&&q.kb)this.na=g.MN(l,n,p.Y(0),u.Y(0),q.Y(0));else{const v=g.nj(l,n);this.na=function(){return v(p.Y(0),u.Y(0),q.Y(0))}}}else this.na=h}Pf(){return 1===this.ey}tJ(){return 2===
this.ey}EX(){return 0!==this.ey}G(){return this.I}ee(){return this.zd}H(){return this.g}ya(){return this.Na}dK(){return this.Ja.index}Id(){return!this.Ja.Hc&&!this.g.Xb()&&!this.Ja.Ze}Zi(){this.sb||(this.sb=new Map);return this.sb}ts(){this.jh||(this.jh=new Map);return this.jh}EE(){const g=this.lb;a(this.Fa,g);return this.Ea.apply(this.ed,g)}*YD(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Fa,g);return yield*this.Ea.apply(this.ed,g)}return this.na()}*A3(){if(this.Ja.Hc||
this.g.Xb())yield this;return yield*this.ty.rU(this.Fk,this.Fa)}DE(){const g=this.lb;a(this.Fa,g);return this.Ea.apply(this.I.$i().ma,g)}*XD(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Fa,g);return yield*this.Ea.apply(this.I.$i().ma,g)}return this.na()}CE(){const g=this.lb,n=this.I.R().da();for(let h=0,l=n.length;h<l;++h)this.Ea.apply(n[h].ma,g)}*uN(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){const g=this.lb,n=this.I.R().da();for(let h=0,l=n.length;h<l;++h)yield*this.Ea.apply(n[h].ma,
g)}else this.CE()}UO(){const g=this.lb;a(this.Fa,g);const n=this.I.R().da();for(let h=0,l=n.length;h<l;++h)this.Ea.apply(n[h].ma,g)}*G3(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){const g=this.lb;a(this.Fa,g);const n=this.I.R().da();for(let h=0,l=n.length;h<l;++h)yield*this.Ea.apply(n[h].ma,g)}else this.UO()}SO(){const g=this.Fa,n=this.lb,h=this.Ea,l=this.I.R().da();for(let m=0,p=l.length;m<p;++m){const u=l[m];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].Y(m);h.apply(u.ma,n)}}*E3(){if(this.Ja.Hc||
this.g.Xb())yield this;if(this.Ja.Ze){const g=this.Fa,n=this.lb,h=this.Ea,l=this.I.R().da();for(let m=0,p=l.length;m<p;++m){const u=l[m];for(let q=0,v=g.length;q<v;++q)n[q]=g[q].Y(m);yield*h.apply(u.ma,n)}}else this.SO()}VO(){const g=this.Fa,n=this.lb,h=this.Ea,l=this.I.R().da();for(let p=0,u=g.length;p<u;++p){var m=g[p];m.ye||(n[p]=m.Y(0))}for(let p=0,u=l.length;p<u;++p){m=l[p];for(let q=0,v=g.length;q<v;++q){const t=g[q];t.ye&&(n[q]=t.Y(p))}h.apply(m.ma,n)}}*H3(){if(this.Ja.Hc||this.g.Xb())yield this;
if(this.Ja.Ze){const n=this.Fa,h=this.lb,l=this.Ea,m=this.I.R().da();for(let p=0,u=n.length;p<u;++p){var g=n[p];g.ye||(h[p]=g.Y(0))}for(let p=0,u=m.length;p<u;++p){g=m[p];for(let q=0,v=n.length;q<v;++q){const t=n[q];t.ye&&(h[q]=t.Y(p))}yield*l.apply(g.ma,h)}}else this.VO()}OO(){var g=this.I;const n=g.Ta,h=g.Ug,l=this.Fa,m=this.Ak,p=this.lb,u=this.Ea,q=this.di;g=g.R().da();for(let w=0,y=l.length;w<y;++w){var v=l[w];v.ye||(p[w]=v.Y(0))}for(let w=0,y=g.length;w<y;++w){v=g[w];if(m)for(let z=0,F=l.length;z<
F;++z){var t=l[z];t.ye&&(p[z]=t.Y(w))}t=n?v.G().gn(h):0;u.apply(v.Ac[q+t].ma,p)}}*y3(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){var g=this.I;const l=g.Ta,m=g.Ug,p=this.Fa,u=this.Ak,q=this.lb,v=this.Ea,t=this.di;g=g.R().da();for(let w=0,y=p.length;w<y;++w){var n=p[w];n.ye||(q[w]=n.Y(0))}for(let w=0,y=g.length;w<y;++w){n=g[w];if(u)for(let z=0,F=p.length;z<F;++z){var h=p[z];h.ye&&(q[z]=h.Y(w))}h=l?n.G().gn(m):0;yield*v.apply(n.Ac[t+h].ma,q)}}else this.OO()}TO(){const g=this.Fa,n=this.lb,
h=this.Ea,l=this.I.R().da(),m=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,t=g.length;v<t;++v)n[v]=g[v].Y(p);m.push(h.apply(q.ma,n))}return Promise.all(m)}*F3(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){const g=this.Fa,n=this.lb,h=this.Ea,l=this.I.R().da(),m=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,t=g.length;v<t;++v)n[v]=g[v].Y(p);m.push(yield*h.apply(q.ma,n))}return Promise.all(m)}return this.TO()}PO(){var g=this.I;const n=g.Ta,h=g.Ug,l=this.Fa,m=this.lb,
p=this.Ea,u=this.di;g=g.R().da();const q=[];for(let v=0,t=g.length;v<t;++v){const w=g[v];for(let z=0,F=l.length;z<F;++z)m[z]=l[z].Y(v);const y=n?w.G().gn(h):0;q.push(p.apply(w.Ac[u+y].ma,m))}return Promise.all(q)}*z3(){if(this.Ja.Hc||this.g.Xb())yield this;if(this.Ja.Ze){var g=this.I;const n=g.Ta,h=g.Ug,l=this.Fa,m=this.lb,p=this.Ea,u=this.di;g=g.R().da();const q=[];for(let v=0,t=g.length;v<t;++v){const w=g[v];for(let z=0,F=l.length;z<F;++z)m[z]=l[z].Y(v);const y=n?w.G().gn(h):0;q.push(yield*p.apply(w.Ac[u+
y].ma,m))}return Promise.all(q)}return this.PO()}async fD(){try{await this.Ea()}catch(g){console.error(`Unhandled exception running script %c${this.zd.fc.wa()}, event ${this.zd.vq}, action ${this.dK()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.sg&&self.sg.p8(this),d.dw.sX()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.dw.M0())}}*wU(){if(this.Ja.Hc||
this.g.Xb())yield this;return this.fD()}ka(){return this.sb&&this.sb.size?{ex:d.JD(this.sb)}:null}pa(g){this.sb&&(this.sb.clear(),this.sb=null);g&&(g=g.ex)&&(this.sb=d.KB(g))}}}
{"use strict";const d=self.B,a=new d.Wa;function b(K,N){return d.compare(this.j().ia(),K,N)}function e(K,N){return d.compare(this.j().ja(),K,N)}function c(){const K=this.j(),N=K.T();return N.vp()?K.xp(N.ht()):K.$K(N.Xe,K.Yb().MK(),K.Yb().Re)}function g(){var K=this.j();const N=K.Yb();K=K.xc();return 0>K.$||0>K.V||K.M>N.ba()||K.K>N.aa()}function n(K,N,U){const ba=this.R(),ia=ba.da();if(!ia.length)return!1;let ja=ia[0];var la=ja.j();let va=ja,na=d.eS(la.ia(),la.ja(),N,U);for(let wa=1,xa=ia.length;wa<
xa;++wa)if(ja=ia[wa],la=ja.j(),la=d.eS(la.ia(),la.ja(),N,U),0===K&&la<na||1===K&&la>na)na=la,va=ja;ba.Kl(va);return!0}function h(K){const N=this.j();N.ia()!==K&&(N.Ig(K),N.Oa())}function l(K){const N=this.j();N.ja()!==K&&(N.Jg(K),N.Oa())}function m(K,N){const U=this.j();U.HV(K,N)||(U.tk(K,N),U.Oa())}function p(K,N){if(K&&(K=K.aX(this.fa))){var [U,ba]=K.jn(N);N=this.j();if(N.ia()!==U||N.ja()!==ba)N.tk(U,ba),N.Oa()}}function u(K){if(0!==K){var N=this.j();N.$w(N.SB()*K,N.lC()*K);N.Oa()}}function q(K,
N){if(0!==N){var U=this.j();K=d.qb(K);U.$w(Math.cos(K)*N,Math.sin(K)*N);U.Oa()}}function v(){return this.j().ia()}function t(){return this.j().ja()}function w(){return this.g.ks(this.fa)}function y(K,N){return d.compare(this.j().ba(),K,N)}function z(K,N){return d.compare(this.j().aa(),K,N)}function F(K){const N=this.j();N.ba()!==K&&(N.Th(K),N.Oa())}function G(K){const N=this.j();N.aa()!==K&&(N.Oh(K),N.Oa())}function Q(K,N){const U=this.j();if(U.ba()!==K||U.aa()!==N)U.Sc(K,N),U.Oa()}function D(){return this.j().ba()}
function H(){return this.j().aa()}function J(){return this.j().xc().M}function M(){return this.j().xc().K}function P(){return this.j().xc().$}function R(){return this.j().xc().V}function V(K,N){return d.pr(this.j().Ga(),d.qb(N))<=d.qb(K)}function Z(K){return d.Ye(this.j().Ga(),d.qb(K))}function ca(K,N){K=d.qb(K);N=d.qb(N);const U=this.j().Ga();return d.Ye(N,K)?d.Ye(U,K)&&!d.Ye(U,N):!(!d.Ye(U,K)&&d.Ye(U,N))}function Y(K){const N=this.j();K=d.Zd(d.qb(K));isNaN(K)||N.Ga()===K||(N.od(K),N.Oa())}function ha(K){if(!isNaN(K)&&
0!==K){var N=this.j();N.od(N.Ga()+d.qb(K));N.Oa()}}function ka(K){if(!isNaN(K)&&0!==K){var N=this.j();N.od(N.Ga()-d.qb(K));N.Oa()}}function za(K,N){const U=this.j(),ba=U.Ga();K=d.gI(ba,d.qb(N),d.qb(K));isNaN(K)||ba===K||(U.od(K),U.Oa())}function Oa(K,N,U){const ba=this.j(),ia=ba.Ga();N-=ba.ia();U-=ba.ja();K=d.gI(ia,Math.atan2(U,N),d.qb(K));isNaN(K)||ia===K||(ba.od(K),ba.Oa())}function ab(K,N){const U=this.j(),ba=U.Ga();K-=U.ia();N-=U.ja();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.od(N),U.Oa())}function Ua(){return d.th(this.j().Ga())}
function bb(K,N){return d.compare(d.BS(100*this.j().He()),K,N)}function mb(){return this.j().yc()}function Va(K){const N=this.j();K=2===K?!N.yc():0!==K;N.yc()!==K&&(N.Hg(K),this.g.Z())}function Pa(K){K=d.ea(K/100,0,1);const N=this.j();N.He()!==K&&(N.jj(K),this.g.Z())}function fb(K){a.Hr(K);K=this.j();K.Ya.nl(a)||(K.GM(a),this.g.Z())}function cb(){const K=this.j().Ya;return d.bx(K.Pa,K.Sa,K.Ra,K.Qa)}function ub(){return d.BS(100*this.j().He())}function vb(K){return K?this.j().T()===K:!1}function wb(K){const N=
this.R(),U=N.da();if(!U.length)return!1;let ba=U[0];for(let ia=1,ja=U.length;ia<ja;++ia){const la=U[ia],va=la.j(),na=ba.j(),wa=va.T().ya(),xa=na.T().ya();if(0===K){if(wa>xa||wa===xa&&va.Bg()>na.Bg())ba=la}else if(wa<xa||wa===xa&&va.Bg()<na.Bg())ba=la}N.Kl(ba);return!0}function gb(K,N,U){const ba=this.j();K=0===K?ba.Va():ba.xd();return d.compare(K,N,U)}function xb(){this.j().p2()}function yb(){this.j().n2()}function zb(K){K&&this.j().o2(K)}function Ab(K,N){K=0===K;N&&(N=N.iK(this.za()))&&this.j().m2(N,
K)}function Bb(K){const N=this.j();N.Va()!==K&&(N.Ke(K),this.g.Z())}function Cb(){return this.j().T().ya()}function Db(){return this.j().T().wa()}function hb(){return this.j().Bg()}function Eb(){return this.j().Va()}function Fb(){return this.j().xd()}function Gb(K,N){if(N=this.G().Ka.ak(N)){N=N.ya();K=1===K;var U=this.j().Sd;U.ys(N)!==K&&(U.mM(N,K),U.Ul(),this.g.Z())}}function Hb(K,N,U){var ba=this.G().Ka.ak(K);if(ba){K=ba.ya();var ia=this.j().Sd,ja=ia.Mf(K);N=Math.floor(N);if(!(0>N||N>=ja.length)){ba=
ba.bb.Aw(N);if("color"===ba){a.Hr(U);N=ja[N];if(a.nl(N))return;N.Qj(a)}else{"percent"===ba&&(U/=100);if(ja[N]===U)return;ja[N]=U}ia.ys(K)&&this.g.Z()}}}const ib=d.A(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(K,N,U,ba){N.Fc<U.Fc?K.Set(N,U,ba):K.Set(U,N,ba)}function qa(K,N,U){N.Fc<U.Fc?K.Ym(N,U):K.Ym(U,N)}function Ka(K,N,U){return N.Fc<U.Fc?K.Y(N,U):K.Y(U,N)}function Ib(K,N,U,ba){if(!N)return!1;K=K.za();const ia=0!==U||0!==ba,ja=K.j(),la=K.H(),va=la.fi;var na=la.jf();const wa=
na.ee().sd;var xa=na.G();na=na.yi;const Ha=N.R();xa=xa!==N;Wa=N;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Gb?(ib.ta(ja.xc()),ib.offset(U,ba),va.RB(ja.T(),N,ib,jb),N=jb):wa?la.LY()&&!Ha.Tb.length&&Ha.F.length?N=Ha.F:(N=Ha.Tb,lb=!0):N=Ha.F;ia&&(La=ja.ia(),Ca=ja.ja(),ja.$w(U,ba),ja.Oa());for(const ea of N)if(va.HD(K,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.tk(La,Ca),ja.Oa());d.D(jb);return ma}function Ob(K,N){if(kb){if(N){{K=K.H().ub().sd;N=Wa.R();const U=N.F,ba=N.Tb;N.Gb?(N.Ss(Ma),K&&(d.D(ba),N.jJ(Ma,
Wa.da()))):K?lb?N.M1(Ma):(N.jJ(Ma,U),N.Ss(Ma)):N.Ss(Ma);Wa.Nb()}}Ma.clear();Wa=null;kb=!1}}function Pb(K){if(this.g.Ad)return Qb.call(this,K);if(!K)return!1;var N=this.g;const U=N.fi,ba=N.ga(),ia=ba.Jc();var ja=ba.jf();const la=ja.G();var va=ja.Zi(),na=ja.ts();ja=ia.Fe();const wa=N.Ij,xa=wa-1,Ha=ja.ub(),La=ia.Ca(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.A(d.Fs),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),N.Ib().addEventListener("instancedestroy",
Na=>{Ca.KJ(Na.instance)}));N=K.R();va=la.R().da();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];N.Gb?(U.RB(Ba.j().T(),K,Ba.j().xc(),Sa),na=Sa,U.kJ(Ba,K,na)):na=N.da();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(U.HD(Ba,Ja)||U.xJ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Xc(),ba.je(ma),oa=la.R(),ea=K.R(),oa.Md(!1),ea.Md(!1),la===K?(ea=oa.F,d.D(ea),ea.push(Ba),ea.push(Ja),la.Nb()):(oa=oa.F,ea=ea.F,d.D(oa),d.D(ea),
oa.push(Ba),ea.push(Ja),la.Nb(),K.Nb()),Ha.Sf(ja,La),ba.Ab(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Ba();return!1}function*Qb(K){if(!K)return!1;var N=this.g;const U=N.fi,ba=N.ga(),ia=ba.Jc(),ja=ia.Fe(),la=N.Ij,va=la-1,na=ja.ub(),wa=ia.Ca(na);var xa=ba.jf();const Ha=xa.G();var La=xa.Zi();xa=xa.ts();let Ca=La.get("collmemory");Ca||(Ca=d.A(d.Fs),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),N.Ib().addEventListener("instancedestroy",Na=>{Ca.KJ(Na.instance)}));
N=K.R();La=Ha.R().da();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];N.Gb?(U.RB(Ba.j().T(),K,Ba.j().xc(),Sa),xa=Sa,U.kJ(Ba,K,xa)):xa=N.da();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(U.HD(Ba,Ja)||U.xJ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Xc(),ba.je(ma),oa=Ha.R(),ea=K.R(),oa.Md(!1),ea.Md(!1),Ha===K?(ea=oa.F,d.D(ea),ea.push(Ba),ea.push(Ja),Ha.Nb()):(oa=oa.F,ea=ea.F,d.D(oa),d.D(ea),oa.push(Ba),ea.push(Ja),
Ha.Nb(),K.Nb()),yield*na.Jf(ja,wa),ba.Ab(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Ba();return!1}function Rb(K){return Ib(this,K,0,0)}function Sb(K,N,U){return Ib(this,K,N,U)}function ob(){return this.j().dj()}function pb(){return this.j().Ie()}function qb(K,N){const U=this.R().da();if(0===U.length)return!1;const ba=K.R();var ia=ba.da();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=U.length;va<na;++va){var la=U[va];if(1===N)for(const wa of la.yv())wa.ip(K)&&ia.has(wa)&&ja.add(wa);
else{if(0===N){if(la=la.xa(),null===la)continue}else la=la.Gw();la.ip(K)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.Ss(ja);K.Nb();return!0}function rb(K,N){const U=this.R().da();if(0===U.length)return!1;const ba=K.R();var ia=ba.da();if(ba.Gb){var ja=[...this.g.wI(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=U.length;la<va;++la){const na=U[la];2===N&&!na.Ie()&&na.ip(K)&&ia.has(na)&&ja.add(na);for(const wa of 0===N?na.children():na.Pj())2===
N&&wa.Ie()||wa.ip(K)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.Ss(ja);K.Nb();return!0}function db(K,N){const U=this.R().da();if(0===U.length)return!1;const ba=K.R();var ia=ba.da();if(ba.Gb){var ja=[...this.g.wI(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=U.length;la<va;++la){const na=U[la].QB(N);null!==na&&na.ip(K)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Js(ja);K.Nb();return!0}function f(K,N){return d.compare(this.fa.kw(),
K,N)}function k(K,N,U,ba,ia,ja,la,va){const na=this.fa,wa=this.g.gs().G();for(const xa of K.WR(na,wa)){if(!xa.xb().IR)break;na.ul(xa,{Mr:N,Nr:U,fp:ba,ep:ia,Lr:ja,Or:la,nv:va})}}function r(K){const N=this.fa,U=this.g.gs().G();for(const ba of K.WR(N,U))N.gj(ba)}function x(){this.fa.dj()&&this.fa.xa().gj(this.fa)}function A(){return this.fa.kw()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.j();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.gx(),U.Oa()):U.zB(K,N)}function E(K,N,U,ba,ia,ja,la,
va){const na=this.j();na.xM(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ia,Jv:ja,NS:la,OS:va})&&na.Oa()}function I(){const K=this.j();return K.qf()?K.aj().Aj:0}function L(){const K=this.j();return K.qf()?K.aj().Lj:0}function O(K){const N=this.j();K=2===K?!N.yc():0!==K;N.yc()!==K&&N.Hg(K)}function S(K,N){this.C0(K,N)}function T(K,N){this.B0(K,""+N)}function X(K){this.J_(K)}function W(){this.WJ()}function fa(){this.oJ()}function da(){return this.IF}function aa(K){this.hka(0!==K)}function ua(){return this.fka()}
function pa(K,N,U){return d.compare(this.za().fe(K),N,U)}function sa(K){return!!this.za().fe(K)}function ta(K,N){const U=this.R(),ba=U.da();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.fe(N);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.fe(N);if(0===K&&wa<la||1===K&&wa>la)la=wa,ja=ia}U.Kl(ja);return!0}function ra(K){if(this.g.jf().yi){{const ba=this.R();if(ba.Gb){ba.Md(!1);ba.Sv();var N=this.da();for(let ia=0,ja=N.length;ia<ja;++ia){var U=N[ia];U.Fc===K?ba.Wl(U):ba.Rn(U)}this.Nb();
K=!!ba.F.length}else{N=ba.F;U=0;for(let ia=0,ja=N.length;ia<ja;++ia){const la=N[ia];N[U]=la;la.Fc===K?ba.Wl(la):++U}d.Ce(N,U);this.Nb();K=!!N.length}}}else K=Da(this,K);return K}function Da(K,N){N=K.H().Ti(N);if(!N)return!1;const U=K.R();if(!U.Gb&&!U.F.includes(N))return!1;if(K.Ta){if(N.G().nB(K))return U.Kl(N),K.Nb(),!0}else if(N.G()===K)return U.Kl(N),K.Nb(),!0;return!1}function Ea(){this.g.Zm(this.fa)}function Fa(){return!0}function Ga(){return!0}function Ia(K,N){this.za().Rl(K,N)}function Qa(K,
N){const U=this.za(),ba=U.fe(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Rl(K,ba+N)}function Ra(K,N){const U=this.za(),ba=U.fe(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Rl(K,ba-N))}function Aa(K,N){this.za().Rl(K,N?1:0)}function Jb(K){const N=this.za();N.Rl(K,0===N.fe(K)?1:0)}function Kb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.za();
K.Qx("state");K.Zc(N,"state")}function pc(){return JSON.stringify(this.za().nd("state"))}function qc(){return this.za().G().wa()}function rc(){const K=this.g.Ee().OF;let N=K.F.length;for(const U of this.g.wI(K))++N;return N}function sc(){return this.g.Ee().OF.R().da().length}function tc(){return this.fa.hn()}function uc(){return this.fa.Fc}d.WS=function(K,N){const U=K[1],ba=K[4],ia=K[5],ja=K[6],la=K[7],va=K[8],na=K[10],wa=K[11],xa=K[12],Ha=K[13],La=K[14],Ca=K[15],ma=N.L,ea=N.cc,oa=N.hf;K[3]&&(ma.YT=
b,ma.ZT=e,ma.Lea=c,ma.Mea=g,ma.lga=n,ea.Ig=h,ea.Jg=l,ea.a1=m,ea.Jia=p,ea.nfa=u,ea.mfa=q,oa.$M=v,oa.aN=t,oa.gS=w);ba&&(ma.fda=y,ma.Xca=z,ea.Th=F,ea.Oh=G,ea.Sc=Q,oa.Vja=D,oa.Xda=H,oa.Bca=J,oa.Dca=M,oa.Cca=P,oa.Aca=R);ia&&(ma.lT=V,ma.IY=Z,ma.GY=ca,ea.od=Y,ea.Dha=ha,ea.Eha=ka,ea.Fha=za,ea.Gha=Oa,ea.Lia=ab,oa.gca=Ua);ja&&(ma.yc=mb,ma.Zca=bb,ea.Hg=Va,ea.jj=Pa,ea.bia=fb,oa.Opacity=ub,oa.Qca=cb);la&&(ma.Jea=vb,ma.tga=wb,ma.gda=gb,ea.qfa=xb,ea.ofa=yb,ea.pfa=zb,ea.dka=Ab,ea.Ke=Bb,oa.Xea=Cb,oa.Wea=Db,oa.cka=
hb,oa.bka=Eb,oa.xja=Fb);va&&(ea.cia=Gb,ea.dia=Hb);Ha&&(ma.dj=ob,ma.Ie=pb,ma.rga=qb,ma.kga=rb,ma.pga=db,ma.Vca=f,ea.ul=k,ea.gj=r,ea.Kga=x,oa.Oca=A);La&&(ea.Fia=C,ea.xM=E,oa.jfa=I,oa.kfa=L);na&&(ma.yc=mb,ea.Hg=O,ea.Zha=S,ea.eia=T,ea.Jga=X);wa&&(ma.Bea=da,ea.hia=W,ea.Xha=fa);xa&&(ma.Jh=ua,ea.D0=aa);Ca&&(ma.Kfa=Pb,ma.RY=Rb,ma.Nea=Sb,N.SV=Ob);U||(ma.Yca=pa,ma.HY=sa,ma.mga=ta,ma.o_=ra,ea.Q0=Ia,ea.aca=Qa,ea.mja=Ra,ea.u0=Aa,ea.tja=Jb,ma.NZ=Fa,ma.OZ=Ga,ea.oda=Ea,ea.PC||(ea.PC=Kb),oa.sT||(oa.sT=pc),oa.kda=
rc,oa.uga=sc,oa.$da=tc,oa.Eja=uc,oa.Ffa=qc)}}
{"use strict";const d=self.B;d.hD=class extends d.ca{constructor(a){super();this.oa=a;this.ra="";this.uc=-1;this.Mu="";this.vz=!1;this.mi=null;this.wf=0;this.te=[];this.Oo=new Map;this.Dk=null;this.Ct=-1;this.VF=this.dg=null;this.Lu=!1}m(){this.ra="";this.uc=-1;this.Mu="";this.VF=this.dg=this.Dk=this.mi=null;this.Ct=-1;d.D(this.te);for(const a of this.Oo.values())a.m();this.Oo.clear()}Yh(){var a=this.oa,b=a.H().zc;const e=a.Ee();this.mi=e.ub();this.wf=e.wf+1;if(a=a.JB(this.mi))this.Dk=a,this.dg=a.KT(),
this.VF=a.jG.map(c=>c.he()),a.Pf()&&(this.Ct=a.n_());for(const c of b)if(b=c.R(),!b.Gb||this.mi.GX(c))this.te.push(c),this.Oo.set(c,d.A(d.KM,b))}zY(a){this.ra="timer";this.Yh();this.uc=this.oa.H().yg()+a}xY(a){this.ra="signal";this.Yh();this.Mu=a.toLowerCase()}lY(a){this.ra="promise";this.Yh();a.then(()=>this.tD()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.tD()})}ZY(){return"timer"===this.ra}XY(){return"signal"===this.ra}TY(){return"promise"===
this.ra}tD(){this.vz=!0}iP(){return this.ZY()?this.uc<=this.oa.H().yg():this.vz}NO(a){a.BE(this.mi,this.wf);for(const [b,e]of this.Oo.entries())e.BE(b.R());if(a=this.Dk)a.Ns(this.dg),a.jG.map((b,e)=>b.Uf(this.VF[e])),a.Pf()&&a.b0(this.Ct)}m7(a){this.NO(a);this.mi.l7(a);this.Dk&&this.Dk.Pf()&&this.Dk.Ds(this.Ct);this.oa.jp(this.te);this.Lu=!0}async v3(a){this.NO(a);for(const b of this.mi.u3(a))await this.oa.H().lp(b);this.Dk&&this.Dk.Pf()&&this.Dk.Ds(this.Ct);this.oa.jp(this.te);this.Lu=!0}In(a){for(const b of this.Oo.values())b.In(a)}ka(){const a=
{},b={t:this.uc,st:this.Mu,s:this.vz,ev:this.mi.$a,sm:this.te.map(e=>e.$a),sols:a};this.mi.X4(this.wf)&&(b.act=this.mi.ZJ(this.wf).$a);for(const [e,c]of this.Oo)a[e.$a.toString()]=c.ka();return b}static Z2(a,b){const e=a.H();var c=a.nW(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var n=a.WV(b.act);if(!n)return null;g=n.ya()}n=d.A(d.hD,a);n.uc=b.t;n.ra=-1===n.uc?"signal":"timer";n.Mu=b.st;n.vz=b.s;n.mi=c;n.wf=g;for(var h of b.sm)(c=e.zw(h))&&n.te.push(c);for(const [l,m]of Object.entries(b.sols))if(b=
e.zw(parseInt(l,10)))h=d.A(d.KM,null),h.pa(a,m),n.Oo.set(b,h);return n}}}{"use strict";const d=self.B;d.KM=class extends d.ca{constructor(a){super();this.I=null;this.uz=!0;this.F=[];a&&(this.I=a.G(),this.uz=a.Gb,d.vc(this.F,a.F))}m(){this.I=null;d.D(this.F)}BE(a){a.Md(this.uz);d.vc(a.F,this.F)}In(a){d.qg(this.F,a)}ka(){return{sa:this.uz,insts:this.F.map(a=>a.Fc)}}pa(a,b){a=a.H();this.uz=!!b.sa;d.D(this.F);for(const e of b.insts)(b=a.Ti(e))&&this.F.push(b)}}}
{"use strict";const d=self.B;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Jp=class extends d.ca{constructor(b){super();this.g=b.jc;this.im=!!b.nS;this.Se=!!b.Kaa;this.b$=!!b.Jaa;this.l$=!!b.Yaa;this.O9=!!b.zaa;this.IR=!!b.wba;this.F$=!!b.vba;this.yR=null;this.CP=new Map;this.t9=new Map;this.u9=new Map;this.v9=new Map}m(){this.g=null}H(){return this.g}ld(){}zp(){return this.b$}Jl(){return this.l$}rC(){return this.O9}nj(b,e){if(!e)throw Error("missing 'this' binding");let c=this.CP.get(b);
if(c)return c;c=b.bind(e);this.CP.set(b,c);return c}KN(b,e,c){if(!e)throw Error("missing 'this' binding");const g=a(this.t9,b);let n=g.get(c);if(n)return n;n=b.bind(e,c);g.set(c,n);return n}LN(b,e,c,g){if(!e)throw Error("missing 'this' binding");var n=a(this.u9,b);n=a(n,c);let h=n.get(g);if(h)return h;h=b.bind(e,c,g);n.set(g,h);return h}MN(b,e,c,g,n){if(!e)throw Error("missing 'this' binding");var h=a(this.v9,b);h=a(h,c);h=a(h,g);let l=h.get(n);if(l)return l;l=b.bind(e,c,g,n);h.set(n,l);return l}w8(b){if(!this.im)throw Error("must be single-global plugin");
this.yR=b}$i(){if(!this.im)throw Error("must be single-global plugin");return this.yR.$i()}}}{"use strict";const d=self.B;d.Kha=class extends d.Jp{constructor(a,b){super(a);this.fo=b;this.p$=0;this.kG=new Map;this.iJ("elem-focused",e=>e.o6());this.iJ("elem-blurred",e=>{e&&e.n6()})}m(){super.m()}u2(a){const b=this.p$++;this.kG.set(b,a);return b}d7(a){this.kG.delete(a)}iJ(a,b){this.g.uh(this.fo,a,e=>{const c=this.kG.get(e.elementId);b(c,e)})}}}
{"use strict";const d=self.B;d.ix=class extends d.ca{constructor(a){super();this.I=a;this.g=a.H();this.ah=a.xb()}m(){this.ah=this.g=this.I=null}G(){return this.I}H(){return this.g}xb(){return this.ah}lf(){return this.I.lf()}$r(){}Ap(){}Hn(){}ax(){}UC(){}Bl(){return null}}}
{"use strict";const d=self.B;d.hx=class extends d.ca{constructor(a,b){super();this.fa=a;this.fo=b;this.g=a.H();this.I=this.fa.G();this.tc=this.I.tc;this.fr=this.el=null;this.lu=this.Qk=!1;this.Qd=null;this.kv=!1}m(){this.kv=!0;this.xt();this.ME();this.fr=this.el=null;this.Qd&&(this.Qd.m(),this.Qd=null);this.tc=this.I=this.g=this.fa=null}xx(){return this.kv}za(){return this.fa}H(){return this.g}G(){return this.I}xb(){return this.tc.xb()}Dw(){return this.fa.zg()}Ia(a){return this.g.Ia(a,this.fa,null)}me(a){return this.g.me(a,
this.fa,null)}Wr(a,b){return this.g.Wr(a,this.fa,b)}BB(a,b){return this.g.BB(a,this.fa,b)}hJ(a,b){this.g.uh(this.fo,a,b)}GL(a,b){this.g.Dn(this.fo,a,b)}EO(a,b){this.g.Lk?this.GL(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.fo,handler:a,data:b,responseId:null})}le(){}Xl(){this.Qk||(this.el||(this.el=()=>this.le()),this.g.Ib().addEventListener("tick",this.el),this.Qk=!0)}xt(){this.Qk&&(this.g.Ib().removeEventListener("tick",this.el),this.Qk=!1)}ME(){this.lu&&(this.g.Ib().removeEventListener("tick2",
this.fr),this.lu=!1)}nd(){return null}Zc(){}kc(){}Fg(){}SC(a,b){if(0!==b){var e=this.kc(a);if("number"!==typeof e)throw Error("expected number");this.Fg(a,e+b)}}Bl(){return null}}}
{"use strict";const d=self.B;d.gD=class extends d.hx{constructor(a,b){super(a,b);this.eb=a.j();this.FA=this.lr=null}m(){if(this.lr){const a=this.g.Ib();a.removeEventListener("webglcontextlost",this.lr);a.removeEventListener("webglcontextrestored",this.FA);this.FA=this.lr=null}this.eb=null;super.m()}tX(){if(!this.lr){this.lr=()=>this.Dp();this.FA=()=>this.DL();var a=this.g.Ib();a.addEventListener("webglcontextlost",this.lr);a.addEventListener("webglcontextrestored",this.FA)}}Dp(){}DL(){}j(){return this.eb}xn(){return!1}Wi(){if(!this.xn())throw Error("original size not known");
const a=this.Ch();if(a)return a.ba()}Vi(){if(!this.xn())throw Error("original size not known");const a=this.Ch();if(a)return a.aa()}Ch(){return null}lw(){var a=this.Ch();return a&&(a=a.Jd())?[a.ba(),a.aa()]:[100,100]}mw(){const a=this.Ch();return a?a.bj():null}jn(){const a=this.fa.j();return[a.ia(),a.ja()]}Gp(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Rect);d.Jha=class extends d.gD{constructor(b,e){super(b,e);this.Hy=this.xb().u2(this);this.wQ=!0;this.p9=this.IF=!1;this.Iq=d.A(d.Rect,0,0,-1,-1);b=this.g.W;this.OQ=b.Im;this.NQ=b.Hm;this.Xl()}m(){this.xb().d7(this.Hy);this.Ep("destroy");this.Hy=-1;super.m()}Ep(b,e){e||(e={});e.elementId=this.Hy;this.GL(b,e)}DO(b){b||(b={});b.elementId=this.Hy;this.EO("focus",b)}lx(b){b=!!b;this.wQ!==b&&(this.wQ=b,this.Ep("set-visible",{isVisible:b}))}le(){this.X8()}C8(){const b=
this.g.W.uw();return"Android"===d.Qc.Cp&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}X8(){var b=this.j();const e=b.T();var c=b.ia(),g=b.ja();let [n,h]=e.Bn(c,g),[l,m]=e.Bn(c+b.ba(),g+b.aa());c=this.g.W;g=c.Cc;const p=c.oc;if(b.yc()&&e.yc()){if(!this.C8()){if(0>=l||0>=m||n>=g||h>=p){this.lx(!1);return}1>n&&(n=1);1>h&&(h=1);l>=g&&(l=g-1);m>=p&&(m=p-1)}a.set(n,h,l,m);b=c.Im;g=c.Hm;a.Nc(this.Iq)&&this.OQ===b&&this.NQ===g?this.lx(!0):(this.Iq.ta(a),this.OQ=b,this.NQ=g,this.lx(!0),b=null,this.p9&&
(b=e.$j()-.2),this.Ep("update-position",{left:Math.round(this.Iq.M)+c.cn(),top:Math.round(this.Iq.K)+c.dn(),width:Math.round(this.Iq.width()),height:Math.round(this.Iq.height()),fontSize:b}))}else this.lx(!1)}WJ(){this.DO({focus:!0})}oJ(){this.DO({focus:!1})}o6(){this.IF=!0}n6(){this.IF=!1}C0(b,e){this.Ep("set-css-style",{prop:d.DT(b),val:e})}B0(b,e){this.Ep("set-attribute",{name:b,val:e})}J_(b){this.Ep("remove-attribute",{name:b})}}}
{"use strict";const d=self.B,a=self.KX;d.h0=class extends d.ca{constructor(b){super();this.g=b.jc;this.$G=d.A(d.lB);this.Qz=d.A(d.lB);this.Zt=null;this.A$=b.Pma||null}m(){this.Qz.m();this.$G.m();this.g=null}H(){return this.g}ld(){}v2(b){this.$G.wc(b)}sK(){return this.$G.MB()}Xf(b){this.Qz.wc(b)}Sn(b){this.Qz.Ym(b)}da(){return this.Qz.MB()}FW(){if(null===this.Zt){const b=this.A$;if(b){if(this.Zt=new b(this),!(this.Zt instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Zt=new a(this)}return this.Zt}}}{"use strict";const d=self.B;d.j0=class extends d.ca{constructor(a){super();this.g=a.H();this.Bc=a;this.I=a.G();this.ci=a.Yj();this.ci.v2(this.I)}m(){this.ci=this.I=this.Bc=this.g=null}xg(){return this.Bc}G(){return this.I}H(){return this.g}Yj(){return this.ci}}}
{"use strict";const d=self.B;d.i0=class extends d.ca{constructor(a,b){super();this.oy=a;this.fo=b;this.fa=a.fa;this.g=a.H();this.Bc=a.xg();this.tc=this.Bc.tc;this.AQ=this.lu=this.Qk=!1;this.Qd=null}m(){this.xt();this.ME();this.I8();this.Qd&&(this.Qd.m(),this.Qd=null);this.tc=this.Bc=this.g=this.fa=this.oy=null}Yj(){return this.Bc.Yj()}G(){return this.fa.G()}j(){return this.fa.j()}H(){return this.g}xg(){return this.Bc}Dw(){return this.oy.Dw()}Ia(a){return this.g.Ia(a,this.fa,this.Bc)}me(a){return this.g.me(a,
this.fa,this.Bc)}le(){}Xl(){this.Qk||(this.g.q2(this),this.Qk=!0)}xt(){this.Qk&&(this.g.a7(this),this.Qk=!1)}ME(){this.lu&&(this.g.b7(this),this.lu=!1)}I8(){this.AQ&&(this.g.Z6(this),this.AQ=!1)}hJ(a,b){this.g.uh(this.fo,a,b)}nd(){return null}Zc(){}kc(){}Fg(){}SC(a,b){if(0!==b){var e=this.kc(a);if("number"!==typeof e)throw Error("expected number");this.Fg(a,e+b)}}Bl(){return null}}}
{"use strict";const d=self.B;d.C={};d.hd={};d.p_=class extends d.ca{constructor(a){super();this.g=a;this.n9=[];this.jR=new Map;this.ed=null;this.k9=[];this.nF=new Map;this.GQ=this.BR=null}mU(a){const b=this.g.Ag(a[0]);if(!b)throw Error("missing plugin");d.WS(a,b);a=d.A(b,{jc:this.g,nS:a[1],Kaa:a[2],Jaa:a[5],zaa:a[8],Yaa:a[9],wba:a[13],vba:a[14]});a.ld();this.n9.push(a);this.jR.set(b,a)}oU(){this.ed=d.A(d.C.ab,{jc:this.g,nS:!0});this.ed.ld()}hU(a){a=this.g.Ag(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{jc:this.g});b.ld();this.k9.push(b);this.nF.set(a,b);!this.BR&&d.hd.tba&&b instanceof d.hd.tba?this.BR=b:!this.GQ&&d.hd.Maa&&b instanceof d.hd.Maa&&(this.GQ=b)}cX(a){return this.jR.get(a)||null}zX(a){return this.nF.has(a)}$V(a){return this.nF.get(a)||null}rs(){return this.ed}}}
{"use strict";const d=self.B,a=new Set;d.Pw=class extends d.ca{constructor(){super();this.Kj="";this.O=this.S=this.Cu=this.Bu=this.Zq=0;this.Wt=this.sz=!1;this.Oe=null;this.dl="";this.Cf=d.A(d.Rect);this.Jo=d.A(d.md);a.add(this)}m(){this.Mh();this.Oe=null;a.delete(this)}static Dp(){for(const b of a)b.dl="",b.Cf.set(0,0,0,0),b.Jo.qh(b.Cf)}jL(b){this.Kj=b[0];this.Zq=b[1];this.Bu=b[2];this.Cu=b[3];this.S=b[4];this.O=b[5];this.sz=b[6];this.Wt=!0}kZ(b,e){if(this.Oe)throw Error("already loaded asset");
this.Kj=e;const c={};d.yC(e)&&(c.vv="remote");this.iL(b,c);return this.Oe.hL()}S_(b){if(b===this)throw Error("cannot replace with self");this.Mh();this.Kj=b.Kj;this.Zq=b.Zq;this.Bu=b.Bu;this.Cu=b.Cu;this.S=b.S;this.O=b.O;this.Wt=b.Wt;this.Oe=b.Oe;this.dl=b.dl;this.Cf=b.Cf;this.Jo=b.Jo}Cl(){return this.Zq}ba(){return this.S}aa(){return this.O}iL(b,e){if(this.Oe)throw Error("already got asset");e=Object.assign({},e,{url:this.Kj,size:this.Cl()});this.Oe=b.Zw(e)}IC(){return this.Oe&&this.Oe.IC()}async Cs(b,
e){if(!this.Oe)throw Error("no asset");if(this.dl)throw Error("already loaded texture");this.dl="loading";b=await this.Oe.Cs(b,e);if(!b)return this.dl="",null;this.dl="loaded";this.Wt||(this.S=b.ba(),this.O=b.aa(),this.Wt=!0);this.Cf.set(this.Bu,this.Cu,this.Bu+(this.sz?this.O:this.S),this.Cu+(this.sz?this.S:this.O));this.Cf.ll(b.ba(),b.aa());this.Jo.qh(this.Cf);this.sz&&this.Jo.kba();return b}Mh(){this.dl&&(this.Oe&&this.Oe.Mh(),this.dl="",this.Cf.set(0,0,0,0),this.Jo.qh(this.Cf))}Jd(){return this.Oe?
this.Oe.Jd():null}bj(){return this.Cf}Ew(){return this.Jo}}}
{"use strict";const d=self.B;d.nT=class extends d.ca{constructor(a){super();this.Da=a[0];this.C$=a[1];this.oz=!!a[2];this.Yq=a[3];this.sR=a[4];this.a$=!!a[5];this.$a=a[6];this.rd=a[7].map(b=>d.A(d.mT,b))}m(){for(const a of this.rd)a.m();d.D(this.rd)}hZ(a){for(const b of this.rd)b.lf().iL(a)}iZ(a,b){return Promise.all(this.rd.map(e=>e.lf().Cs(a,b)))}G_(){for(const a of this.rd)a.lf().Mh()}wa(){return this.Da}zl(a){a=Math.floor(a);if(0>a||a>=this.rd.length)throw new RangeError("invalid frame");return this.rd[a]}hk(){return this.C$}Al(){return this.Yq}}}
{"use strict";const d=self.B;d.mT=class extends d.ca{constructor(a){super();this.zf=d.A(d.Pw);this.zf.jL(a);this.NP=a[7];this.hR=d.A(d.Ys,a[8],a[9]);this.az=a[10].map(b=>d.A(d.VX,this,b));this.pQ=new Map;for(const b of this.az)this.pQ.set(b.wa().toLowerCase(),b);this.$n=null;a=a[11];6<=a.length&&(this.$n=d.A(d.Xm,a))}m(){this.$n&&(this.$n.m(),this.$n=null);this.zf.m();this.zf=null}lf(){return this.zf}dk(){return this.hR.N}ek(){return this.hR.J}HW(a){return this.pQ.get(a.toLowerCase())||null}GW(a){a=
Math.floor(a);return 0>a||a>=this.az.length?null:this.az[a]}aC(){return this.az.length}}}{"use strict";const d=self.B;d.VX=class extends d.ca{constructor(a,b){super();this.Da=b[0];this.nH=d.A(d.Ys,b[1],b[2])}m(){}wa(){return this.Da}ia(){return this.nH.N}ja(){return this.nH.J}}}
{"use strict";const d=self.B,a=self.sg,b=self.NK;d.RC=class extends d.ca{constructor(e,c,g){super();const n=e.Ag(g[1]);this.g=e;this.ah=e.Go.cX(n);this.tc=null;this.ez=n.Instance;this.Na=c;this.$a=g[11];this.Da=g[0];this.pu=this.g.Eh(g[14]);this.Y9=!!g[9];this.Ta=!!g[2];this.zG=!!g[10];this.vi=g[3].map(h=>({GS:h[0],type:h[1],name:h[2],Laa:e.Eh(h[3])}));this.r9=g[4];this.J9=g[5];this.Se=this.ah.Se;this.Ka=null;this.xy=d.A(d.C1,e.gg,e.fg);this.gF=!0;this.hF=!1;this.RF=this.lo=null;this.Ug=-1;this.QF=
this.My=this.Ny=this.PF=this.Tg=null;this.tG=!1;this.$f=null;this.AP=g[8].map(h=>d.mJ.Ma(this,h));this.qy=[];this.oF=new Map;this.mF=new Map;this.PR=new Set;this.um=d.A(d.z1,this);this.ky=this.jy=this.pd=this.zf=this.$f=this.uq=null;this.er=0;this.sb=new Map;this.jh=new Map;this.F=[];this.gG=!0;this.ah.rC()&&(this.Ka=d.A(d.Vj,this,g[12]));g[6]&&(this.zf=d.A(d.Pw),this.zf.jL(g[6]));if(g[7]){this.pd=g[7].map(h=>d.A(d.nT,h));this.jy=new Map;this.ky=new Map;for(const h of this.pd)this.jy.set(h.wa().toLowerCase(),
h),this.ky.set(h.$a,h)}this.Ta?(this.lo=[],this.RF=new Set,this.Ug=this.g.L4()):(this.Tg=[],this.PF=new Set,this.Ny=[],this.My=[],this.QF=[]);this.tc=d.A(n.Mn,this,g[15]);this.vQ=this.au=null;this.Gd=d.A(d.Event.Ib);if(c=this.tc.Bl()){if(this.au=new c(this),!(this.au instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.au=new b(this);this.g.BA&&!this.Ta&&!this.zG&&this.Se||this.ld();this.ah.im&&(this.ah.w8(this),this.j3(g))}static Ma(e,c,g){return d.A(d.RC,
e,c,g)}m(){this.zf&&(this.zf.m(),this.zf=null);if(this.pd){for(const e of this.pd)e.m();d.D(this.pd);this.jy.clear();this.ky.clear()}this.um.m();this.um=null;this.sb.clear();this.jh.clear();this.g=this.$f=null}D5(e){for(let c=1,g=e.length;c<g;++c){const n=this.g.Ge(e[c]);this.lo.push(n);this.RF.add(n);n.Tg.push(this);n.PF.add(this)}}X7(e){this.tG=!0;this.$f=e}Jb(){return this.tG}i6(){var e=0;if(!this.Ta)for(var c of this.Tg)for(var g of c.AP){const l=g.wa().toLowerCase();this.oF.set(l,g);this.mF.set(l,
e);this.qy.push(g);++e}for(var n of this.AP)c=n.wa().toLowerCase(),this.oF.set(c,n),this.mF.set(c,e),this.qy.push(n),++e;for(var h of this.qy)this.PR.add(h.Yj().constructor);if(!this.Ta&&this.Tg.length){e=this.g.UP;d.MA(this.Ny,e,0);d.MA(this.My,e,0);d.MA(this.QF,e,0);e=[];c=h=n=0;for(const l of this.Tg)if(g=l.Ug,this.Ny[g]=n,n+=l.vi.length,this.My[g]=h,h+=l.r9,this.QF[g]=c,c+=l.J9,(g=l.Ka)&&this.Ka)for(const m of g.Kf())e.push(m.TT(this.Ka));this.Ka&&this.Ka.u_(e)}}j3(e){const c=this.g.K4(),g=d.A(d.Instance,
{jc:this.g,HI:this,uid:c});g.Ax(e[16],[]);this.g.V5(c,g);this.F.push(g)}ld(){this.Ta||this.tc.ld()}DX(){return 0<this.er}Ap(e){if(this.Ta)return Promise.resolve();this.er++;return 1===this.er?this.tc.Ap(e)||Promise.resolve():Promise.resolve()}Hn(){if(!this.Ta){this.er--;if(0>this.er)throw Error("released textures too many times");0===this.er&&this.tc.Hn()}}ax(){if(this.Ta)throw Error("not applicable to family");this.tc.ax()}UC(e){return this.Ta?Promise.resolve():this.tc.UC(e)}H(){return this.g}xb(){return this.ah}wa(){return this.Da}Eh(){return this.pu}ya(){return this.Na}Qf(){return this.Y9}UM(e){return e&&
this.PR.has(e)}MW(){return this.vi.map(e=>e.GS)}LW(e){return this.vi.findIndex(c=>c.GS===e)}KW(e){return this.vi.findIndex(c=>c.name===e)}A4(){return this.vi.map(e=>e.Laa)}ms(e){e=Math.floor(e);if(0>e||e>=this.vi.length)throw new RangeError("invalid instance variable index");return this.vi[e].type}mK(e){e=Math.floor(e);if(0>e||e>=this.vi.length)throw new RangeError("invalid instance variable index");return this.vi[e].name}hw(e){return this.oF.get(e.toLowerCase())||null}es(e){e=this.mF.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}rC(){return this.ah.rC()}VM(){return this.Ka&&this.Ka.vX()}R(){return this.um.R()}lf(){return this.zf}kM(e){this.uq=e}nB(e){return this.PF.has(e)}TJ(e){return this.RF.has(e)}gn(e){return this.My[e]}WB(e){return this.Ny[e]}$J(e){if(!this.pd)throw Error("no animations");return this.jy.get(e.toLowerCase())||null}ZV(e){if(!this.pd)throw Error("no animations");return this.ky.get(e)||null}vW(){if(!this.pd)throw Error("no animations");return this.pd[0].zl(0)}jW(){if(this.pd){const e=
this.vW().lf();return[e.ba(),e.aa()]}return this.zf?[this.zf.ba(),this.zf.aa()]:[100,100]}$i(){if(!this.ah.im)throw Error("not a single-global plugin");return this.F[0]}da(){return this.F}*lS(){yield*this.F}*Daa(){yield*this.F;for(const e of this.g.Kk)e.G()===this&&(yield e)}Xf(e){this.F.push(e)}tt(){this.gG=!0}dy(){if(this.gG&&!this.Ta){var e=this.F,c=0;for(let g=e.length;c<g;++c)e[c].$O(c);e=this.g.Kk;for(const g of e)g.G()===this&&g.$O(c++);this.gG=!1}}lK(e){var c=this.F;if(e<c.length)return c[e];
e-=c.length;c=this.g.Kk;for(const g of c)if(g.G()===this){if(0===e)return g;--e}return null}iK(e){if(e&&e.Jb()&&e.G()!==this)for(const c of e.dd)if(c.G()===this)return c;e=this.R().da();return e.length?e[0]:null}aX(e){const c=this.R().da();return 0<c.length?c[e.hn()%c.length]:null}*WR(e,c){const g=this.R().da();var n=g.length;const h=c.R(),l=c.R().da(),m=l.length;var p=e.hn();if(c.Ta||!h.Gb)p=l.indexOf(e);e=Math.ceil(n/m);n%=m;0===n||p<n?(p*=e,n=e):(p=n*e+(p-n)*(e-1),n=e-1);for(let u=p,q=p+n;u<q;++u)yield g[u]}$r(e){this.tc.$r(e)}Nb(){if(this.tG&&
!this.Ta){this.dy();var e=this.R(),c=e.F,g=e.Gb,n=this.g.Ee();n=n&&n.ub()&&n.ub().sd;for(const m of this.$f.Xk)if(m!==this){m.dy();var h=m.R();h.Md(g);if(!g){var l=h.F;d.D(l);for(const p of c)l.push(m.lK(p.hn()));if(n){l=e.Tb;h=h.Tb;d.D(h);for(const p of l)h.push(m.lK(p.hn()))}}}}}Q8(e,c){for(const g of this.$f.Xk){const n=g.R();e?d.Ce(n.Tb,c):d.Ce(n.F,c)}}XO(){this.gF=!0}FE(e){this.hF=!!e}pP(){if(this.gF&&this.Se){for(const e of this.F)e.j().sP();for(const e of this.g.Kk)e.G()===this&&e.j().sP();
this.gF=!1}}Zi(){this.sb||(this.sb=new Map);return this.sb}ts(){this.jh||(this.jh=new Map);return this.jh}KK(){return this.UM(d.hd.yfa)}sC(){return this.UM(d.hd.fga)}ka(){const e={instances:this.F.map(c=>c.nd())};this.sb&&this.sb.size&&(e.ex=d.JD(this.sb));return e}pa(e){this.sb&&(this.sb.clear(),this.sb=null);var c=e.ex;c&&(this.sb=d.KB(c));c=this.F;e=e.instances;for(let g=0,n=Math.min(c.length,e.length);g<n;++g)c[g].Zc(e[g]);for(let g=e.length,n=c.length;g<n;++g)this.g.Zm(c[g]);for(let g=c.length,
n=e.length;g<n;++g){c=e[g];let h=null;if(this.Se&&(h=this.g.wb().yw(c.w.l),!h))continue;this.g.yh(this.uq||this,h,!1,0,0,!0).Zc(c)}this.tt()}ug(e){var c=this.g;(c=c.nb&&!c.ga().Tw())&&a.ED();this.Gd.dispatchEvent(e);c&&a.jB()}}}{"use strict";const d=self.B;d.bU=class extends d.ca{constructor(a,b){super();this.g=a;this.Xk=b;for(const e of this.Xk)e.X7(this)}m(){this.g=null}H(){return this.g}yX(){return this.Xk.some(a=>a.Se)}}}
{"use strict";const d=self.B,a=self.sg,b=self.xs,e=[];let c=0;const g=new WeakMap,n=new WeakMap;d.Instance=class extends d.ca{constructor(h){super();this.g=h.jc;this.Bd=h.HI;this.Rd=this.ma=this.eb=null;this.nQ=0;this.Fc=h.uid;this.oR=c++;this.ua=0;this.Ac=this.se=e;var l=this.Bd.qy;0<l.length&&(this.Ac=l.map((m,p)=>d.A(d.Lv,{jc:this.g,iI:m,instance:this,index:p})));this.dd=this.Bd.Jb()?[]:null;this.Xd=-1;this.Eb=null;l=this.xb();l.Jl()&&(this.ua|=4);if(l.Se)if(this.eb=d.A(d.j2,this,h.vd),h.PS)this.eb.El(h.PS);
else{this.eb.kY();const [m,p]=this.Bd.jW();this.eb.Sc(m,p);this.G().VM()&&this.eb.Sd.jZ()}h.kS?this.G5(h.kS):this.B5()}m(){this.Rd&&(this.Rd.qt(),this.Rd=null);if(0<this.Ac.length){for(var h of this.Ac)h.m();d.D(this.Ac)}this.ma.m();this.ma=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=n.get(this))h.clear(),n.delete(this);this.dd&&d.D(this.dd);this.Eb&&(this.Eb.m(),this.Eb=null);this.Bd=this.g=null;0<this.se.length&&d.D(this.se);this.eb&&(this.eb.m(),this.eb=null)}G5(h){0<h.length&&(this.se=
[],d.vc(this.se,h))}B5(){const h=this.Bd.vi.length;if(0!==h){this.se=[];var l=[0,0,""];for(let m=0;m<h;++m)this.se.push(l[this.Bd.ms(m)])}}Ax(h,l){if(this.ma)throw Error("already got sdk instance");for(let m=0,p=this.Ac.length;m<p;++m)this.Ac[m].Ax(l?l[m]:null);this.ma=d.A(this.Bd.ez,this,h);if(!(this.ma instanceof d.hx))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,p=this.Ac.length;m<p;++m);this.Bd.vQ&&this.eO()}j(){return this.eb}H(){return this.g}XV(){const h=this.Xd;return-1===
h?this.H().Xd:h}wD(h){h=+h;if(0>h||!isFinite(h))h=0;this.Xd=h}a0(){this.Xd=-1}Ib(){this.Eb||(this.Eb=d.A(d.Event.Ib));return this.Eb}gf(h){this.ma.gf(h)}ld(h){this.ma.ld(h)}k8(){this.ua|=2}jk(){return 0!==(this.ua&2)}qE(){this.ua|=1}UK(){return 0!==(this.ua&1)}Jl(){return 0!==(this.ua&4)}pL(){return 0!==(this.ua&32)}Ms(h,l){h<<=16;this.ua=l?this.ua|h:this.ua&~h}ZB(h){return 0!==(this.ua&h<<16)}Ch(){return this.ma.Ch()}lw(){return this.ma.lw()}mw(){return this.ma.mw()}jn(h){return this.ma.jn(h)}G(){return this.Bd}Gp(){return this.ma.Gp()}ip(h){return h.Ta?
h.TJ(this.G()):this.G()===h}WM(){if(!this.xb().IR)throw Error("object does not support scene graph");}dj(){return null!==this.xa()}xa(){var h=this.j();return h?(h=h.xa())?h.za():null:null}Gw(){var h=this.j();return h?(h=h.Gw())?h.za():null:null}*yv(){const h=this.j();if(h)for(const l of h.yv())yield l.za()}Ie(){const h=this.j();return h?h.Ie():!1}De(){const h=this.j();return h?h.De().map(l=>l.za()):[]}*children(){const h=this.j();if(h)for(const l of h.children())yield l.za()}*Pj(){const h=this.j();
if(h)for(const l of h.Pj())yield l.za()}kw(){const h=this.j();return h?h.kw():0}QB(h){const l=this.j();return l?(h=l.QB(h))?h.za():null:null}ul(h,l){this.WM();h.WM();this.j().ul(h.j(),l||{})}gj(h){const l=this.j();l&&l.gj(h.j())}pw(){const h=this.j();return h?h.pw():!1}u1(){var h=this.j();if(h&&(h=h.wH))for(const l of h)if(h=this.g.Ti(l[2])){const m=l[3];this.ul(h,{Mr:!!(m>>0&1),Nr:!!(m>>1&1),fp:!!(m>>2&1),ep:!!(m>>3&1),Lr:!!(m>>4&1),nv:!!(m>>5&1),Or:!!(m>>6&1)})}}Jb(){return null!==this.dd}$p(h){this.dd.push(h)}FX(h){return!!this.DK(h)}DK(h){const l=
this.dd;if(null===l||0===l.length)return!1;for(const m of l)if(m.G()===h)return m;return null}Rh(){for(const h of this.dd)h.G().R().kj(h)}P6(){for(const h of this.dd)h.G().R().Rn(h)}v8(h){for(const l of this.dd)l.G().R().F[h]=l}O6(){for(const h of this.dd)h.G().R().Wl(h)}u8(h){for(const l of this.dd)l.G().R().Tb[h]=l}xb(){return this.Bd.xb()}$O(h){this.nQ=h}hn(){this.Bd.dy();return this.nQ}aW(h){if(!h)return null;for(const l of this.Ac)if(l.Yj()instanceof h)return l;return null}PB(h){return h?(h=
this.aW(h))?h.ma:null:null}aK(h){const l=this.Ac;for(let m=0,p=l.length;m<p;++m)if(l[m].xg().$a===h)return m;return-1}fe(h){h|=0;const l=this.se;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}I4(h){return this.se[h]}H4(h){const l=this.se[h];return 0===this.Bd.ms(h)?!!l:l}Rl(h,l){h|=0;const m=this.se;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");switch(this.Bd.ms(h)){case 0:m[h]=l?1:0;break;case 1:m[h]="number"===typeof l?l:parseFloat(l);break;
case 2:m[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}R0(h,l){if(0!==l){h|=0;var m=this.se;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");var p=m[h];if("number"===typeof p)m[h]="number"===typeof l?m[h]+l:m[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}Zi(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}ts(){let h=n.get(this);if(h)return h;h=new Map;n.set(this,h);return h}ZN(h){const l=this.G();if(l.Gd.pC(h))return!0;for(const m of l.Tg)if(m.Gd.pC(h))return!0;return this.g.Gd.pC(h)?!0:!1}cy(){const h=new Set;h.add(this);const l=this.j();if(l&&l.Ie())for(const m of this.Pj())if(h.add(m),m.Jb())for(const p of m.dd)h.add(p);if(this.Jb())for(const m of this.dd)h.add(m);for(const m of h.values())m.mP()}mP(){if(this.ZN("instancecreate")){const h=
this.G(),l=new d.Event("instancecreate");l.instance=this.zg();h.ug(l);for(const m of h.Tg)m.ug(l);this.g.ug(l)}this.g.Ia(this.xb().constructor.L.NZ,this,null)}O8(){this.g.Ia(this.xb().constructor.L.OZ,this,null)}r4(h){if(this.Rd){var l=new d.Event("destroy");l.Haa=h;this.ug(l)}if(this.ZN("instancedestroy")){l=this.G();var m=new d.Event("instancedestroy");m.instance=this.zg();m.Haa=h;l.ug(m);for(const p of l.Tg)p.ug(m);this.g.ug(m)}}nd(h="full"){const l={};"full"===h?l.uid=this.Fc:l.c3=!0;if("visual-state"!==
h){var m=g.get(this);m&&m.size&&(l.ex=d.JD(m));-1!==this.Xd&&(l.mts=this.Xd);if(0<this.Bd.vi.length){m={};var p=this.Bd.MW();for(let u=0,q=this.se.length;u<q;++u)m[p[u].toString()]=this.se[u];l.ivs=m}if(this.Ac.length){m={};for(const u of this.Ac)(p=u.nd())&&(m[u.xg().$a.toString()]=p);l.behs=m}}this.eb&&(l.w=this.eb.ka(h));(h=this.ma.nd())&&(l.data=h);return l}Qx(h="full"){this.eb&&this.eb.Qx(h)}Zc(h,l="full"){if("full"===l)this.Fc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var m=g.get(this);
m&&(m.clear(),g.delete(this));if(m=h.ex)m=d.KB(m),g.set(this,m);this.Xd=h.hasOwnProperty("mts")?h.mts:-1;if(m=h.ivs)for(const [q,v]of Object.entries(m))if(m=this.Bd.LW(parseInt(q,10)),!(0>m||m>=this.se.length)){var p=v;null===p&&(p=NaN);this.se[m]=p}}if(this.xb().Se){m=h.w;var u=m.l;this.eb.T().$a!==u&&(p=this.eb.T(),(u=p.Yb().yw(u))?(this.eb.ut(u),p.Sn(this,!0),u.Xf(this,!0),u.Vf(),this.eb.Oa()):"full"===l&&this.g.Zm(this));this.eb.pa(m,l)}if("visual-state"!==l&&(l=h.behs))for(const [q,v]of Object.entries(l))l=
this.aK(parseInt(q,10)),0>l||l>=this.Ac.length||this.Ac[l].Zc(v);(h=h.data)&&this.ma.Zc(h)}zg(){return this.Rd||this.eO()}eO(){var h=this.eb?self.Ow:b;const l=this.ma.Bl(),m=this.Bd.vQ,p=m||l||h;b.Yh(this);this.Rd=new p;b.Yh(null);if(l&&!(this.Rd instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(m&&(h=l||h,!(this.Rd instanceof h)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${h.name}'`);
return this.Rd}G4(h){if(0!==this.se.length){var l={},m=this.Bd.A4();for(let p=0,u=m.length;p<u;++p)l[m[p]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.H4.bind(this,p),set:d.Instance.prototype.Rl.bind(this,p)};l=Object.create(Object.prototype,l);h.vla={value:l,writable:!1}}}B4(h){var l=this.Ac;if(0!==l.length){var m={};for(const p of l)m[p.xg().Eh()]={value:p.Dw(),writable:!1};l=Object.create(Object.prototype,m);h.lv={value:l,writable:!1}}}ug(h){h.instance=this.zg();var l=this.g;(l=l.nb&&
!l.ga().Tw())&&a.ED();this.zg().dispatchEvent(h);l&&a.jB()}}}
{"use strict";const d=self.B;d.m0=class extends d.ca{constructor(a){super();this.Mb=a;this.hc=null;this.vy=[];this.oA=a.ba();this.nA=a.aa();this.IH=this.HH=1;this.Tz=0}m(){this.hc=null;d.D(this.vy)}BM(a){this.Tz=(this.hc=a)?a.Ga():0}xa(){return this.hc}Ie(){return 0<this.vy.length}De(){return this.vy}e1(a){this.HH=a}f1(a){this.IH=a}Xi(){return this.Mb.nn()?this.hc.ba()/this.hc.zb.oA:1}Yi(){return this.Mb.mn()?this.hc.aa()/this.hc.zb.nA:1}ka(){return{sw:this.oA,sh:this.nA,sx:this.HH,sy:this.IH,psa:this.Tz,
c:this.vy.map(a=>{let b="";a.pn()&&(b+="x");a.qn()&&(b+="y");a.nn()&&(b+="w");a.mn()&&(b+="h");a.Iw()&&(b+="a");a.Jw()&&(b+="z");a.pw()&&(b+="d");return{uid:a.za().Fc,f:b}})}}pa(a){this.oA=a.sw;this.nA=a.sh;this.HH=a.sx;this.IH=a.sy;this.Tz=a.psa}uE(a){const b=this.Mb,e=b.H();for(const c of a.c){a=e.Ti(c.uid).j();const g=c.f,n={};n.Mr=g.includes("x");n.Nr=g.includes("y");n.fp=g.includes("w");n.ep=g.includes("h");n.Lr=g.includes("a");n.Or=g.includes("z");n.nv=g.includes("d");b.ul(a,n)}}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.md),e=d.A(d.Event,"bboxchange",!1),c=d.A(d.Wa,0,0,0,0),g=d.A(d.Xm),n=d.A(d.Wa,1,1,1,1),h=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),m=new Set(["absolute","relative"]),p=[];let u=!0;d.j2=class extends d.ca{constructor(q,v){super();this.fa=q;this.I=q.G();this.g=q.H();this.Fj=v;this.Oj=-1;this.ua=196635;this.I.xb().zp()&&(this.ua|=128);this.Tq=this.Sq=this.yF=this.yH=this.Qa=this.qe=this.si=this.Li=this.Gc=this.J=this.N=NaN;this.sF=d.A(d.Rect);this.tF=
d.A(d.md);this.wy=l;this.Hu=h;this.Hi=this.hr=this.kA=null;this.bo=this.Ya=n;this.Sd=this.Po=null;this.fa.G().VM()&&(this.Sd=d.A(d.BY,this.fa,this));this.wH=this.zb=null;this.No=this.vR=NaN;this.$g=null}qE(){this.ua|=256}m(){this.Po&&(this.g.jb().OL(this.Po),this.Po=null);this.kA=null;this.hr&&(this.hr.xS.m(),this.hr=null);this.Hi&&(this.Hi.clear(),this.Hi=null);this.gx();this.dj()&&this.xa().gj(this);if(this.Ie()){const q=[...this.De()];for(const v of q)this.gj(v)}this.Tx();this.Fj=this.g=this.I=
this.fa=null}El(q){u=!1;this.tk(q[0],q[1]);this.Ke(q[2]);this.Sc(q[3],q[4]);this.qe=0;this.zp()?this.od(q[6]):this.Qa=0;c.rl(q[7]);this.Vx(c);this.Sp(q[8]);this.Tp(q[9]);this.tf(q[10]);this.Sd&&this.Sd.C5(q[12]);q[14]&&(this.wH=q[14][1],this.vR=q[14][2]);if(q[15]){var v=q[15];this.zB(v[0],v[1]);q=this.aj();v=v[2];for(let t=0,w=v.length;t<w;++t){const y=v[t];for(let z=0,F=y.length;z<F;++z){const G=y[z],Q=q.rp(z,t);Q.Ig(G[0]);Q.Jg(G[1]);Q.Ke(G[2]);Q.xD(G[3]);Q.yD(G[4])}}}u=!0;this.hq()}kY(){this.yH=
this.Qa=this.qe=this.si=this.Li=this.Gc=this.J=this.N=0;this.yF=1;this.Tq=this.Sq=0;this.hq()}H(){return this.g}G(){return this.I}za(){return this.fa}gt(){return this.Iw()?this.xa().Ga()-this.zb.Tz:0}Ig(q){q=+q;if(this.pn()){const v=this.zb;q-=this.ia();const t=-this.gt();0===t?this.N+=q/v.Xi():(this.N+=Math.cos(t)*q/v.Xi(),this.qn()&&(this.J+=Math.sin(t)*q/v.Yi()))}else this.N=q}HZ(q){q=+q;this.pn()?this.Ig(this.ia()+q):this.N+=q}ia(){if(this.pn()){let q=this.N;const v=this.zb,t=this.xa(),w=this.gt();
0===w?q*=v.Xi():(q=q*v.Xi()*Math.cos(w),this.qn()&&(q-=this.J*v.Yi()*Math.sin(w)));return t.ia()+q}return this.N}Jg(q){q=+q;if(this.qn()){const v=this.zb;q-=this.ja();const t=-this.gt();0===t?this.J+=q/v.Yi():(this.pn()&&(this.N-=Math.sin(t)*q/v.Xi()),this.J+=Math.cos(t)*q/v.Yi())}else this.J=q}IZ(q){q=+q;this.qn()?this.Jg(this.ja()+q):this.J+=q}ja(){if(this.qn()){let q=this.J;const v=this.zb,t=this.xa(),w=this.gt();0===w?q*=v.Yi():(q=q*v.Yi()*Math.cos(w),this.pn()&&(q+=this.N*v.Xi()*Math.sin(w)));
return t.ja()+q}return this.J}tk(q,v){q=+q;v=+v;if(this.HK()){const w=this.pn(),y=this.qn(),z=this.zb,F=q-this.ia(),G=v-this.ja();var t=-this.gt();if(0===t)this.N=w?this.N+F/z.Xi():q,this.J=y?this.J+G/z.Yi():v;else{const Q=Math.sin(t);t=Math.cos(t);this.N=w?y?this.N+(t*F-Q*G)/z.Xi():this.N+t*F/z.Xi():q;this.J=y?w?this.J+(Q*F+t*G)/z.Yi():this.J+t*G/z.Yi():v}}else this.N=q,this.J=v}$w(q,v){q=+q;v=+v;this.HK()?this.tk(this.ia()+q,this.ja()+v):(this.N+=q,this.J+=v)}HV(q,v){return this.ia()===q&&this.ja()===
v}Ke(q){q=+q;this.Jw()&&(q-=this.xa().Va());this.Gc!==q&&(this.Gc=q,this.vP(),q=this.T(),0!==this.Gc&&q.YO(),q.Vf())}vP(){this.hq();if(this.Ie()){const q=this.De();for(let v=0,t=q.length;v<t;v++){const w=q[v];w.Jw()&&w.vP()}}}JZ(q){this.Ke(this.Va()+q)}Va(){return this.Jw()?this.xa().Va()+this.Gc:this.Gc}xd(){return this.T().Va()+this.Va()}Th(q){q=+q;this.Li=this.nn()?this.Li*(q/this.ba()):q}sL(q){q=+q;this.nn()?this.Th(this.ba()+q):this.Li+=q}ba(){return this.nn()?this.xa().ba()*this.Li:this.Li}Oh(q){q=
+q;this.si=this.mn()?this.si*(q/this.aa()):q}rL(q){q=+q;this.mn()?this.Oh(this.aa()+q):this.si+=q}aa(){return this.mn()?this.xa().aa()*this.si:this.si}Sc(q,v){q=+q;v=+v;this.Li=this.nn()?this.Li*(q/this.ba()):q;this.si=this.mn()?this.si*(v/this.aa()):v}gX(){if(this.dj()){const q=this.zb;return Math.min(q.Xi(),q.Yi())}return 1}zp(){return 0!==(this.ua&128)}od(q){q=+q;this.zp()&&(this.Iw()&&(q-=this.xa().Ga()),q=d.Zd(q),this.Qa!==q&&(this.Qa=q,this.rE()))}DZ(q){q=+q;0!==q&&this.zp()&&(this.Qa=d.Zd(this.Qa+
q),this.rE())}rE(){this.ua|=262144;if(this.Ie()){const q=this.De();for(let v=0,t=q.length;v<t;v++)q[v].rE()}}Ga(){return this.Iw()?d.Zd(this.xa().Ga()+this.Qa):this.Qa}sO(){const q=this.ua;if(0!==(q&262144)){var v=this.Ga();this.yH=Math.sin(v);this.yF=Math.cos(v);this.ua=q&-262145}}lC(){this.sO();return this.yH}SB(){this.sO();return this.yF}Sp(q){this.Sq=+q}FZ(q){this.Sq+=+q}dk(){return this.Sq}Tp(q){this.Tq=+q}GZ(q){this.Tq+=+q}ek(){return this.Tq}Vx(q){this.Ya.Nc(q)||(this.Ya===n?(this.Ya=d.A(d.Wa,
q),this.bo=d.A(d.Wa,q),this.bo.QI()):q.pv(1,1,1,1)?this.bo=this.Ya=n:(this.Ya.set(q),this.bo.set(q),this.bo.QI()),this.hq())}jj(q){q=d.ea(+q,0,1);this.Ya.Yo!==q&&(c.Qj(this.Ya),c.Yo=q,this.Vx(c))}EZ(q){this.jj(this.He()+q)}He(){return this.Ya.Yo}GM(q){this.Ya.nl(q)||(c.Qj(q),c.Yo=this.Ya.Yo,this.Vx(c))}q1(q,v,t){c.Ir(q,v,t);this.GM(c)}fC(){return this.bo}pw(){return 0!==(this.ua&512)}y0(q){this.oe(512,q)}pn(){return 0!==(this.ua&1024)}l1(q){this.oe(1024,q)}qn(){return 0!==(this.ua&2048)}HK(){return 0!==
(this.ua&3072)}m1(q){this.oe(2048,q)}nn(){return 0!==(this.ua&4096)}k1(q){this.oe(4096,q)}mn(){return 0!==(this.ua&8192)}j1(q){this.oe(8192,q)}Iw(){return 0!==(this.ua&16384)}i1(q){this.oe(16384,q)}Jw(){return 0!==(this.ua&32768)}n1(q){this.oe(32768,q)}mN(){this.ua&=-65025}ul(q,v){if(q!==this&&!q.dj()&&!this.aO(q)&&!this.$N(q)){var t=q.ia(),w=q.ja(),y=q.ba(),z=q.aa(),F=q.Ga(),G=q.Va();q.cP(this);q.l1(v.Mr);q.m1(v.Nr);q.k1(v.fp);q.j1(v.ep);q.i1(v.Lr);q.n1(v.Or);q.y0(v.nv);v.Mr&&(q.N=t-this.ia(),v.fp&&
(q.N/=this.ba()/this.zb.oA));v.Nr&&(q.J=w-this.ja(),v.ep&&(q.J/=this.aa()/this.zb.nA));v.fp&&(q.Li=y/this.ba(),q.zb.e1(q.Li));v.ep&&(q.si=z/this.aa(),q.zb.f1(q.si));v.Lr&&(q.Qa=F-this.Ga());v.Or&&(q.Gc=G-this.Va());this.r2(q);this.Oa()}}gj(q){if(q.xa()===this){var v=q.ia(),t=q.ja(),w=q.ba(),y=q.aa(),z=q.Ga(),F=q.Va();q.cP(null);q.mN();q.tk(v,t);q.Sc(w,y);q.od(z);q.Ke(F);this.c7(q);this.Oa()}}j7(){for(var q of this.children())this.gj(q);(q=this.xa())&&q.gj(this);this.mN()}dj(){return null!==this.xa()}xa(){const q=
this.zb;return null!==q?q.xa():null}Gw(){let q=this;for(;q.dj();)q=q.xa();return q}*yv(){let q=this.xa();for(;q;)yield q,q=q.xa()}AX(q){return this.De().includes(q)}Ie(){const q=this.zb;return null!==q?q.Ie():!1}De(){const q=this.zb;return null!==q?q.De():p}children(){return this.De()}*Pj(){for(const q of this.children())yield q,yield*q.Pj()}kw(){return this.De().length}QB(q){const v=this.De();q=Math.floor(+q);return 0>q||q>=v.length?null:v[q]}UD(q){this.zb||(this.zb=d.A(d.m0,this));q&&this.zb.BM(q)}Tx(){this.zb&&
(this.zb.m(),this.zb=null)}cP(q){q?(q.UD(null),this.UD(q)):(this.zb&&this.zb.BM(null),this.Ie()||this.Tx())}$N(q){if(!this.dj())return!1;const v=this.xa();return v===q?!0:v.$N(q)}aO(q){if(this.AX(q))return!0;for(const v of this.De())if(v.aO(q))return!0;return!1}r2(q){this.zb.De().push(q)}c7(q){const v=this.zb.De(),t=v.indexOf(q);-1!==t&&v.splice(t,1);0!==v.length||this.dj()||this.Tx();q.Ie()||q.Tx()}sD(q){this.No=q}hq(){if(u){var q=this.g.jb();this.Po&&q.OL(this.Po);this.Po=q.US(0!==(this.ua&524288)?
q.lA||"<point>":q.mA||"<default>",this.Ah(),this.bo,this.Va())}}Dl(){return this.Ya===n}tf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.Ah()!==q&&(this.ua=this.ua&-2080374785|q<<26,this.hq())}Ah(){return(this.ua&2080374784)>>26}ut(q){this.Fj=q;0!==this.Va()&&this.Fj.YO()}T(){return this.Fj}Yb(){return this.T().Yb()}ay(q){this.Oj=q|0}Bg(){this.Fj.zt();return this.Oj}oe(q,v){this.ua=v?this.ua|q:this.ua&~q}yc(){return 0!==(this.ua&1)}Hg(q){this.oe(1,q)}Ih(){return 0!==(this.ua&
8)}Ls(q){q=!!q;this.Ih()!==q&&(this.oe(8,q),q?this.Oa():this.IO())}uD(q,v){this.oe(32,q);this.Hi&&this.Hi.clear();if(v.trim()){this.Hi||(this.Hi=new Set);for(const t of v.split(" "))t&&this.Hi.add(t.toLowerCase())}else this.Hi=null}Oa(){this.ua|=65554;this.I.XO();this.g.Z();this.Fj.Nn()&&(this.Ov(this.sF,this.tF,!0),this.ua&=-3,this.Y8());0!==(this.ua&4)&&this.fa.Ib().dispatchEvent(e);if(null!==this.zb){const q=this.zb.De();for(let v=0,t=q.length;v<t;++v)q[v].Oa()}}Ov(q,v,t){const w=this.ia(),y=this.ja(),
z=this.ba(),F=this.aa(),G=this.Ga();q.rh(w-this.Sq*z,y-this.Tq*F,z,F);t&&this.qf()&&this.l4(q);0===G?v.qh(q):(q.offset(-w,-y),v.DS(q,this.lC(),this.SB()),v.offset(w,y),v.uI(q));q.normalize()}rP(){const q=this.ua;0!==(q&2)&&(this.Ov(this.sF,this.tF,!0),this.ua=q&-3)}xc(){this.rP();return this.sF}Ri(){this.rP();return this.tF}FL(q){var v=this.ia(),t=this.ja();v=Math.round(v)-v;t=Math.round(t)-t;if(0===v&&0===t)return q;b.ta(q);b.offset(v,t);return b}t0(q){this.oe(4,q)}RK(){return 0!==(this.ua&4)}$K(q,
v,t){return v&&0!==this.qe?this.xp(this.T().ht()):0===this.Va()||t?q.QA(this.xc()):this.s5()}s5(){const q=this.T(),v=this.xd();if(v>=q.jw())return!1;q.JK(v,a);return a.QA(this.xc())}xp(q){var v=this.xc();const t=v.M,w=v.$,y=v.K;v=v.V;const z=this.xd();return q.cU(t,y,z,w,v,z+this.qe)}Wx(q){this.oe(1048576,q)}Yx(q){this.oe(2097152,q)}vD(q){this.kA=q;this.aE();this.qf()&&(this.$g.CI=null)}Mw(){return null!==this.kA||this.qf()}ik(){return this.D4(this.ba(),this.aa(),this.Ga(),this.lC(),this.SB())}D4(q,
v,t,w,y){let z=this.hr;null===z&&(this.hr=z={xS:d.A(d.Xm),width:NaN,height:NaN,angle:NaN});const F=z.xS;if(z.width===q&&z.height===v&&z.angle===t)return F;const G=this.kA;if(this.qf()){const Q=this.dk(),D=this.ek(),H=this.aj();let J=this.$g.CI;J||(G?(g.ta(G),g.offset(Q,D)):g.pba(),J=H.AY(g),this.$g.CI=J);H.N1(J,F);F.offset(-Q,-D);F.fJ(q,v,w,y)}else G?(F.ta(G),F.fJ(q,v,w,y)):F.YI(this.Ri(),-this.ia(),-this.ja());z.width=q;z.height=v;z.angle=t;return F}aE(){this.Z0();const q=this.hr;null!==q&&(q.width=
NaN)}zB(q,v){q=Math.floor(q);v=Math.floor(v);if(!this.za().xb().F$)throw Error("object does not support mesh");this.gx();this.$g={aJ:d.A(d.U.oL,q,v),JS:d.A(d.U.oL,q,v),CI:null}}qf(){return null!==this.$g}aj(){if(!this.qf())throw Error("no mesh");return this.$g.aJ}IK(){if(!this.qf())throw Error("no mesh");return this.$g.JS}pD(q){this.oe(65536,q)}bL(){return 0!==(this.ua&65536)}Z0(){this.oe(131072,!0)}l4(q){const v=this.$g.aJ,t=Math.min(v.YW(),0),w=Math.min(v.ZW(),0),y=Math.max(v.VW(),1),z=Math.max(v.WW(),
1),F=q.width(),G=q.height();q.offsetLeft(t*F);q.offsetTop(w*G);q.bba((y-1)*F);q.aba((z-1)*G);this.qe=v.XW()}gx(){this.$g&&(this.$g.aJ.m(),this.$g.JS.m(),this.$g=null,this.aE())}xM(q,v,t){q=Math.floor(q);v=Math.floor(v);var w=t.mode||"absolute";if(!m.has(w))throw Error("invalid mode");w="relative"===w;let y=t.x,z=t.y;const F=t.Jv;let G="number"===typeof t.NS?t.NS:w?0:-1;t="number"===typeof t.OS?t.OS:w?0:-1;if(!this.qf())return!1;const Q=this.aj(),D=Q.rp(q,v);if(null===D)return!1;let H=!1;"number"===
typeof F&&D.Va()!==F&&(D.Ke(F),H=!0);w&&(y+=q/(Q.Aj-1),z+=v/(Q.Lj-1));-1!==G||w?(w&&(G+=q/(Q.Aj-1)),G=d.ea(G,0,1)):G=D.ng;-1!==t||w?(w&&(t+=v/(Q.Lj-1)),t=d.ea(t,0,1)):t=D.pg;if(D.ia()===y&&D.ja()===z&&D.ng===G&&D.pg===t)return H;D.Ig(y);D.Jg(z);D.xD(G);D.yD(t);this.aE();return!0}jk(){return this.fa.jk()}kp(q,v){return this.xc().$e(q,v)&&this.Ri().$e(q,v)?this.jk()?void 0:this.Mw()?this.ik().$e(q-this.ia(),v-this.ja()):!0:!1}p5(){return 0!==(this.ua&16)}sP(){if(this.p5()&&this.Ih()&&0===(this.ua&256)){var q=
this.xc(),v=this.I.xy,t=this.wy;a.set(v.Uh(q.M),v.Vh(q.K),v.Uh(q.$),v.Vh(q.V));t.Nc(a)||(q=this.fa,t===l?(v.uk(q,null,a),this.wy=d.A(d.Rect,a)):(v.uk(q,t,a),t.ta(a)),this.ua&=-17)}}IO(){const q=this.wy;q!==l&&(this.I.xy.uk(this.fa,q,null),this.wy=l)}Y8(){const q=this.T();if(q.Nn()&&0===(this.ua&256)){var v=q.Xq,t=this.xc(),w=this.Hu;a.set(v.Uh(t.M),v.Vh(t.K),v.Uh(t.$),v.Vh(t.V));w.Nc(a)||(t=this.fa,w===h?(v.uk(t,null,a),this.Hu=d.A(d.Rect,a)):(v.uk(t,w,a),w.ta(a)),q.b1())}}JO(){const q=this.Hu;q!==
h&&(this.T().Xq.uk(this.fa,q,null),this.Hu=h)}p2(){const q=this.fa,v=this.Fj,t=v.F;t.length&&t.Yd(-1)===q||(v.Sn(q,!1),v.Xf(q,!1),this.g.Z())}n2(){const q=this.fa,v=this.Fj,t=v.F;t.length&&t[0]===q||(v.Sn(q,!1),v.L6(q),this.g.Z())}o2(q){const v=this.fa,t=this.Fj;if(t.Yb()!==q.Yb())throw Error("layer from different layout");q!==t&&(t.Sn(v,!0),this.ut(q),q.Xf(v,!0),this.g.Z())}m2(q,v){const t=this.fa;let w=!1;const y=this.Fj;if(q.Fc!==t.Fc){var z=q.j();if(!z)throw Error("expected world instance");z=
z.T();y.ya()!==z.ya()&&(y.Sn(t,!0),this.ut(z),z.Xf(t,!0),w=!0);q=z.xZ(t,q,!!v);(w||q)&&this.g.Z()}}j8(q){this.oe(64,q)}vs(){return 0!==(this.ua&64)}ka(q){const v={x:this.ia(),y:this.ja(),w:this.ba(),h:this.aa(),l:this.T().$a,zi:this.Bg()};0!==this.Va()&&(v.ze=this.Va());0!==this.Ga()&&(v.a=this.Ga());this.Dl()||(v.c=this.Ya.toJSON());.5!==this.dk()&&(v.oX=this.dk());.5!==this.ek()&&(v.oY=this.ek());0!==this.Ah()&&(v.bm=this.Ah());this.yc()||(v.v=this.yc());this.Ih()||(v.ce=this.Ih());this.RK()&&(v.be=
this.RK());this.Sd&&(v.fx=this.Sd.ka());const t=0!==(this.ua&32);t&&(v.sfi=t);this.Hi&&(v.sft=[...this.Hi].join(" "));this.zb&&"visual-state"!==q&&(v.sgi=this.zb.ka());this.qf()&&(v.mesh=this.aj().nd());return v}Qx(q){"visual-state"!==q&&this.j7()}pa(q,v){u=!1;this.Ig(q.x);this.Jg(q.y);this.Th(q.w);this.Oh(q.h);this.ay(q.zi);this.Ke(q.hasOwnProperty("ze")?q.ze:0);this.od(q.hasOwnProperty("a")?q.a:0);q.hasOwnProperty("c")?c.rl(q.c):q.hasOwnProperty("o")?(c.Qj(this.Ya),c.Yo=q.o):c.Um(1,1,1,1);this.Vx(c);
this.Sp(q.hasOwnProperty("oX")?q.oX:.5);this.Tp(q.hasOwnProperty("oY")?q.oY:.5);this.tf(q.hasOwnProperty("bm")?q.bm:0);this.Hg(q.hasOwnProperty("v")?q.v:!0);this.Ls(q.hasOwnProperty("ce")?q.ce:!0);this.t0(q.hasOwnProperty("be")?q.be:!1);this.uD(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.Sd&&q.hasOwnProperty("fx")&&this.Sd.pa(q.fx);if(q.hasOwnProperty("sgi")&&"visual-state"!==v){this.UD(null);const t=this.zb,w=q.sgi;t.pa(w);const y=this.H().Ib(),z=()=>{y.removeEventListener("afterload",
z);0===(this.ua&256)&&t.uE(w)};y.addEventListener("afterload",z)}q.hasOwnProperty("mesh")?(q=q.mesh,this.zB(q.cols,q.rows),this.aj().Zc(q)):this.gx();this.Oa();u=!0;this.hq()}}}
{"use strict";const d=self.B;d.mJ=class extends d.ca{constructor(a,b){super();const e=a.H(),c=e.Go,g=e.Ag(b[1]);c.zX(g)||c.hU(b);this.g=e;this.I=a;this.ci=c.$V(g);this.tc=null;this.ez=g.Instance;this.$a=b[2];this.Da=b[0];this.pu=this.g.Eh(b[3]);this.tc=d.A(g.Mn,this);this.ld()}static Ma(a,b){return d.A(d.mJ,a,b)}m(){this.ci=this.g=null;this.tc.m();this.ez=this.tc=null}ld(){this.tc.ld()}H(){return this.g}G(){return this.I}Yj(){return this.ci}wa(){return this.Da}Eh(){return this.pu}}}
{"use strict";const d=self.B,a=self.LX;d.Lv=class extends d.ca{constructor(b){super();this.g=b.jc;this.Bc=b.iI;this.ci=this.Bc.Yj();this.fa=b.instance;this.Na=b.index;this.Rd=this.ma=null;this.ci.Xf(this.fa)}m(){this.Rd&&(this.Rd.qt(),this.Rd=null);this.ci.Sn(this.fa);this.ma.m();this.fa=this.ci=this.Bc=this.g=this.Rd=this.ma=null}Ax(b){if(this.ma)throw Error("already got sdk instance");this.ma=d.A(this.Bc.ez,this,b);this.g5()}H(){return this.g}xg(){return this.Bc}Yj(){return this.ci}Lg(){return this.Na}nd(){return this.ma.nd()}Zc(b){return this.ma.Zc(b)}static CD(b,
e){var c=b.fa,g=e.fa;const n=c.G().ya(),h=g.G().ya();if(n!==h)return n-h;c=c.oR;g=g.oR;return c!==g?c-g:b.oy.Lg()-e.oy.Lg()}g5(){const b=this.ma.Bl(),e=b||a;a.Yh(this);this.Rd=new e;a.Yh(null);if(b&&!(this.Rd instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}Dw(){return this.Rd}}}
{"use strict";const d=self.B;d.Vj=class extends d.ca{constructor(a,b){super();this.Mb=a;this.Zf=[];this.$h=[];this.Gy=new Map;this.Sg=[];this.Uq=!0;for(const e of b)a=d.A(d.NJ,this,e,this.Zf.length),this.Zf.push(a),this.Gy.set(a.wa().toLowerCase(),a),3<=e.length&&this.Sg.push(this.oE(e[2]));this.H().t2(this)}m(){d.D(this.Zf);d.D(this.$h);this.Gy.clear();d.D(this.Sg);this.Mb=null}u_(a){if(a.length){this.Zf=a.concat(this.Zf);for(const b of a)this.Gy.set(b.wa().toLowerCase(),b);for(let b=0,e=this.Zf.length;b<
e;++b)this.Zf[b].m8(b)}}oE(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.Wa);g.rl(c);a[b]=g}}return a}H(){return this.Mb.H()}Ul(){d.D(this.$h);let a=!0;for(const b of this.Zf)b.yb&&(this.$h.push(b),b.bb.Uq||(a=!1));this.Uq=a}Kf(){return this.Zf}vX(){return 0<this.Zf.length}ak(a){return this.Gy.get(a.toLowerCase())||null}eK(a){a=Math.floor(+a);if(0>a||a>=this.Zf.length)throw new RangeError("invalid effect type index");return this.Zf[a]}ys(a){return this.eK(a).yb}mM(a,
b){this.eK(a).kx(b)}vs(){return 0<this.$h.length}Mf(a){return this.Sg[a]}static k0(a){return a&&a instanceof d.Wa?{t:"color",v:a.toJSON()}:a}static mZ(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.Wa);b.rl(a.v);return b}throw Error("invalid effect parameter type");}return a}static cM(a){return a.map(d.Vj.k0)}static kL(a){return a.map(d.Vj.mZ)}nd(){return this.Zf.map(a=>({name:a.wa(),active:a.yb,params:d.Vj.cM(this.Sg[a.ya()])}))}Zc(a){for(const b of a)if(a=this.ak(b.name))a.kx(b.active),
this.Sg[a.ya()]=d.Vj.kL(b.params);this.Ul()}}}
{"use strict";const d=self.B;d.NJ=class extends d.ca{constructor(a,b,e){super();this.Ka=a;this.re=b[0];this.Da=b[1];this.Na=e;this.bb=null;this.yb=!0}m(){this.bb=this.Ka=null}TT(a){a=d.A(d.NJ,a,[this.re,this.Da],-1);a.bb=this.bb;a.yb=this.yb;return a}cO(a){a=a.CK(this.re);if(!a)throw Error("failed to find shader program '"+this.re+"'");this.bb=a}wa(){return this.Da}m8(a){this.Na=a}ya(){return this.Na}H(){return this.Ka.H()}kx(a){this.yb=!!a}kW(){const a=[];for(let b=0,e=this.bb.Xo.length;b<e;++b){const c=
this.bb.Aw(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.Wa,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.BY=class extends d.ca{constructor(a,b){super();this.fa=a;this.M$=b;this.Ka=a.G().Ka;this.Un=[];this.$h=[];this.Uq=!0;this.Sg=[];for(const e of this.Ka.Kf())this.Un.push(!0);this.Ul()}m(){d.D(this.Un);d.D(this.$h);d.D(this.Sg);this.Ka=this.fa=null}C5(a){for(const b of a)this.Sg.push(this.oE(b))}oE(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.Wa);g.rl(c);a[b]=g}}return a}jZ(){for(const a of this.Ka.Kf())this.Sg.push(a.kW())}H(){return this.fa.H()}Ul(){d.D(this.$h);
const a=this.Ka.Kf(),b=this.$h,e=this.Un;let c=!0;for(let g=0,n=a.length;g<n;++g)if(e[g]){const h=a[g];b.push(h);h.bb.Uq||(c=!1)}this.Uq=c;this.M$.j8(!!b.length)}Mf(a){return this.Sg[a]}ys(a){return this.Un[a]}mM(a,b){this.Un[a]=!!b}Kf(){return this.Ka.Kf()}ka(){return this.Ka.Kf().map(a=>({name:a.wa(),active:this.Un[a.ya()],params:d.Vj.cM(this.Sg[a.ya()])}))}pa(a){for(const b of a)if(a=this.Ka.ak(b.name))this.Un[a.ya()]=b.active,this.Sg[a.ya()]=d.Vj.kL(b.params);this.Ul()}}}
{"use strict";const d=self.B,a=[],b=d.A(d.Xm),e=d.A(d.Xm),c=d.A(d.md);d.A(d.Rect);d.A(d.Rect);let g=null,n=null,h=null;d.UT=class extends d.ca{constructor(l){super();this.g=l;this.cA=[]}m(){this.g=null}kJ(l,m,p){for(const [u,q]of this.cA){let v;if(l===u)v=q;else if(l===q)v=u;else continue;v.ip(m)&&(p.includes(v)||p.push(v))}}xJ(l,m){if(!this.cA.length)return!1;for(const [p,u]of this.cA)if(l===p&&m===u||l===u&&m===p)return!0;return!1}yJ(){d.D(this.cA)}HD(l,m){if(!l||!m||l===m)return!1;l=l.j();m=m.j();
if(!l.Ih()||!m.Ih())return!1;const p=l.T(),u=m.T();return p.aZ(u)?this.L8(l,m):this.K8(l,m)}L8(l,m){if(!l.xc().QA(m.xc())||!l.Ri().xI(m.Ri())||l.jk()&&m.jk())return!1;if(l.jk())return this.ID(l,m);if(m.jk())return this.ID(m,l);if(!l.Mw()&&!m.Mw())return!0;const p=l.ik(),u=m.ik();return p.sv(u,m.ia()-l.ia(),m.ja()-l.ja())}K8(l,m){var p=l.jk(),u=m.jk();if(p&&!u)return this.MM(l,m);if(u&&!p)return this.MM(m,l);if(u||p)return!1;u=l.T();p=m.T();b.ta(l.ik());e.ta(m.ik());var q=b.td;for(let v=0,t=q.length;v<
t;v+=2){const w=v+1,y=q[w],[z,F]=u.Bn(q[v]+l.ia(),y+l.ja());q[v]=z;q[w]=F}l=e.td;for(let v=0,t=l.length;v<t;v+=2){u=v+1;q=l[u];const [w,y]=p.Bn(l[v]+m.ia(),q+m.ja());l[v]=w;l[u]=y}b.XI();e.XI();return b.sv(e,0,0)}MM(l,m){var p=l.T(),u=m.T();g||(g=d.A(d.Xm));n||(n=d.A(d.Rect));h||(h=d.A(d.md));var q=m.ia(),v=m.ja();const [t,w]=u.Bn(q,v),[y,z]=p.ff(t,w);p=y-q;v=z-v;n.ta(m.xc());n.offset(p,v);if(!l.xc().QA(n))return!1;h.ta(m.Ri());h.offset(p,v);if(!l.Ri().xI(h))return!1;g.ta(m.ik());u=g.td;for(let F=
0,G=u.length;F<G;F+=2)q=F+1,u[F]+=p,u[q]+=v;g.XI();return this.ID(l,m,y,z,g,n,h)}ID(l,m,p,u,q,v,t){v=void 0!==v?v:m.xc();const w=l.ia(),y=l.ja();var z=l.za().ma;p=void 0!==p?p:m.ia();u=void 0!==u?u:m.ja();l=m.Mw();t=void 0!==t?t:m.Ri();z.Pda(v,a);for(let Q=0,D=a.length;Q<D;++Q){var F=a[Q];z=F.Sda();if(v.Eaa(z,w,y)&&(c.qh(z),c.offset(w,y),c.xI(t)))if(l){var G=void 0!==q?q:m.ik();if(F=F.dX()){if(F.sv(G,p-(w+z.M),u-(y+z.K)))return d.D(a),!0}else if(b.YI(c,0,0),b.sv(G,p,u))return d.D(a),!0}else if(G=
F.dX()){if(b.YI(t,0,0),G.sv(b,-(w+z.M),-(y+z.K)))return d.D(a),!0}else return d.D(a),!0}d.D(a);return!1}rx(l,m,p){const u=l.R();var q=this.g.ub();if(!q)throw Error("cannot call outside event");q=q.sd;if(u.Gb){u.Md(!1);d.D(u.F);for(var v of l.da()){var t=v.j(),w=t.T();const [y,z]=w.ff(m,p,t.xd());t.kp(y,z)?u.Rn(v):q&&u.Wl(v)}}else{v=q?u.Tb:u.F;t=0;for(let y=0,z=v.length;y<z;++y){w=v[y];const F=w.j(),G=F.T(),[Q,D]=G.ff(m,p,F.xd());F.kp(Q,D)?q?u.Rn(w):v[t++]=w:q&&(v[t++]=w)}v.length=t}l.Nb();return u.qC()}RB(l,
m,p,u){l=l?1!==l.Cd||1!==l.Dd:!1;if(m.Ta)for(const q of m.lo)l||q.hF?d.Km(u,q.da()):(q.pP(),q.xy.dx(p,u));else l||m.hF?d.Km(u,m.da()):(m.pP(),m.xy.dx(p,u))}}}
{"use strict";const d=self.B;d.C1=class extends d.ca{constructor(a,b){super();this.vF=a;this.uF=b;this.ei=d.A(d.Fs)}m(){this.ei.m();this.ei=null}xl(a,b,e){let c=this.ei.Y(a,b);return c?c:e?(c=d.A(d.rX,this,a,b),this.ei.Set(a,b,c),c):null}Uh(a){a=Math.floor(a/this.vF);return isFinite(a)?a:0}Vh(a){a=Math.floor(a/this.uF);return isFinite(a)?a:0}uk(a,b,e){if(b)for(let c=b.M,g=b.$;c<=g;++c)for(let n=b.K,h=b.V;n<=h;++n){if(e&&e.$e(c,n))continue;const l=this.xl(c,n,!1);l&&(l.Eg(a),l.wn()&&this.ei.Ym(c,n))}if(e)for(let c=
e.M,g=e.$;c<=g;++c)for(let n=e.K,h=e.V;n<=h;++n)b&&b.$e(c,n)||this.xl(c,n,!0).xC(a)}dx(a,b){let e=this.Uh(a.M);const c=this.Vh(a.K),g=this.Uh(a.$);a=this.Vh(a.V);if(isFinite(g)&&isFinite(a))for(;e<=g;++e)for(let n=c;n<=a;++n){const h=this.xl(e,n,!1);h&&h.EB(b)}}}}{"use strict";const d=self.B;d.rX=class extends d.ca{constructor(a,b,e){super();this.N=b;this.J=e;this.F=d.A(d.lB)}m(){this.F.m();this.F=null}wn(){return this.F.wn()}xC(a){this.F.wc(a)}Eg(a){this.F.Ym(a)}EB(a){d.Km(a,this.F.MB())}}}
{"use strict";const d=self.B;d.Hga=class{constructor(){this.rect=new d.Rect;this.ov=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.ov=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.Sj.Qm,c=e.create(),g=d.A(d.md),n=d.A(d.Rect);d.vJ=class extends d.ca{constructor(h){super();this.g=h;this.vj=null;this.CQ=!1;this.Mi=this.Za=null;this.ZF="high-performance";this.dm=this.cm=this.Og=this.Pg=this.oc=this.Cc=this.Hm=this.Im=0;this.yq=!0;this.ji=this.yj=this.JR=0;this.H9=this.XP="letterbox-scale";this.G9=this.F9=0;this.Dy=e.create();
this.ri=this.bI="high";this.Gq=!1;this.Et=[];this.AA=new Set;this.fA=self.C3_Shaders;this.yf=this.gm=0;this.Dq=NaN;this.Yy=null;this.KG=new Map;this.Ut=NaN;this.GA=new Map;this.iA="";this.zH=1;this.zR=d.A(d.Rect);this.AH="";this.AR=this.Nu=null;this.uu=0;this.Vd=-1;this.nm=0;this.QG=l=>this.nm=l.progress;this.Ve=null;this.We={wv:null,zv:null,Iv:null};this.DH=this.DR=this.EH=0;this.Ji="fade-in";this.CH=null;this.CR=new Promise(l=>this.CH=l)}h8(h){this.ZF=h}A8(h){this.CQ=!!h}async tg(h){this.vj=h.canvas;
this.g.uh("runtime","window-resize",p=>this.F6(p));this.g.uh("runtime","fullscreenchange",p=>this.p6(p));this.g.uh("runtime","fullscreenerror",p=>this.q6(p));this.vj.addEventListener("webglcontextlost",p=>this.pt(p));this.vj.addEventListener("webglcontextrestored",()=>this.yE());this.Gq=!!h.isFullscreen;var l=navigator.gpu&&this.CQ;let m=!1;if(l)try{await this.gO(!0)}catch(p){this.Mi=null}if(!this.jb())try{await this.fO(!0)}catch(p){this.Za=null}this.jb()||(m=!0);if(!this.jb()&&l)try{await this.gO(!1)}catch(p){this.Mi=
null}if(!this.jb())try{await this.fO(!1)}catch(p){this.Za=null}l=this.jb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.N0(m);this.Sc(h.windowInnerWidth,h.windowInnerHeight,!0);this.Mi?await this.j5():this.Za&&await this.i5();l.qD(this.yq);l.lj()&&(this.Dq=0);h=!1;for(const p of this.g.bF){for(const u of p.Kf())u.cO(l),u.bb.cv&&(h=!0);p.Ul()}this.g.y8(h)}async gO(h){h={powerPreference:this.ZF,depth:this.g.kl,failIfMajorPerformanceCaveat:h};this.Mi=d.A(d.U.Qja);
await this.Mi.Ma(this.vj,h)}async fO(h){h={powerPreference:this.ZF,hS:!0,depth:this.g.kl,failIfMajorPerformanceCaveat:h};"Android"===d.Qc.Cp&&"Chromium"===d.Qc.Nv&&75>d.Qc.pB&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.rS=1);"standard"===this.g.oq?h.alpha=!0:(h.alpha=!1,h.BI=!0);this.Za=d.A(d.U.h2,this.vj,h);await this.Za.Qw()}async j5(){if(this.fA){const h=[];for(const [l,m]of Object.entries(this.fA))h.push(this.Mi.AB(l,
m.Ana,d.U.Rja.ow()));await Promise.all(h)}}async i5(){if(this.fA){const h=[];for(const [l,m]of Object.entries(this.fA))m.src=m.ola,h.push(this.Za.AB(m,d.U.Zs.ow(),l));await Promise.all(h);this.Za.X_();this.Za.Sh()}this.Za.lj()&&(this.Yy=d.A(d.U.ZM,this.Za))}m(){this.vj=this.Za=this.g=null}F6(h){const l=this.g,m=h.devicePixelRatio;l.Lk&&(self.devicePixelRatio=m);l.a8(m);this.Gq=!!h.isFullscreen;this.Sc(h.innerWidth,h.innerHeight);l.Z();l.nb&&(l.ws()||self.sg.uea())&&l.XC()}p6(h){this.Gq=!!h.isFullscreen;
this.Sc(h.innerWidth,h.innerHeight,!0);this.g.Z()}q6(h){this.Gq=!!h.isFullscreen;this.Sc(h.innerWidth,h.innerHeight,!0);this.g.Z()}Sc(h,l,m=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Im!==h||this.Hm!==l||m){this.Im=h;this.Hm=l;m=this.hs();"letterbox-scale"===m?this.J2(h,l):"letterbox-integer-scale"===m?this.I2(h,l):"off"===m?this.G2(h,l):this.H2(h,l);this.W8(m);this.vj.width=this.Pg;this.vj.height=this.Og;this.g.Dn("canvas","update-size",{marginLeft:this.cm,
marginTop:this.dm,styleWidth:this.Cc,styleHeight:this.oc});h=this.jb();h.Sc(this.Pg,this.Og,!0);for(var p of this.Et)h.BU(p);d.D(this.Et);h.Sr(this.Dy,this.Lf()/this.kf());p=this.g.Ua;p.Lp();p.Kp()}}J2(h,l){const m=this.g.Zj(),p=this.g.gg,u=this.g.fg,q=p/u;h/l>q?(this.Cc=Math.round(l*q),this.oc=l,this.cm=Math.floor((h-this.Cc)/2),this.dm=0):(this.Cc=h,this.oc=Math.round(h/q),this.cm=0,this.dm=Math.floor((l-this.oc)/2));this.Pg=Math.round(this.Cc*m);this.Og=Math.round(this.oc*m);this.g.Ws(p,u)}I2(h,
l){const m=this.g.Zj();1!==m&&(h+=1,l+=1);const p=this.g.gg,u=this.g.fg;var q=p/u;q=h/l>q?l*q*m/p:h/q*m/u;1<q?q=Math.floor(q):1>q&&(q=1/Math.ceil(1/q));this.Pg=Math.round(p*q);this.Og=Math.round(u*q);this.Cc=this.Pg/m;this.oc=this.Og/m;this.cm=Math.max(Math.floor((h-this.Cc)/2),0);this.dm=Math.max(Math.floor((l-this.oc)/2),0);this.g.Ws(p,u)}H2(h,l){const m=this.g.Zj();this.Cc=h;this.oc=l;this.Pg=Math.round(this.Cc*m);this.Og=Math.round(this.oc*m);this.dm=this.cm=0;h=this.$j();this.g.Ws(this.Cc/h,
this.oc/h)}G2(h,l){const m=this.g.Zj();this.Cc=this.g.Gf;this.oc=this.g.Ff;this.Pg=Math.round(this.Cc*m);this.Og=Math.round(this.oc*m);this.Gq?(this.cm=Math.floor((h-this.Cc)/2),this.dm=Math.floor((l-this.oc)/2)):this.dm=this.cm=0;this.g.Ws(this.g.Gf,this.g.Ff)}W8(h){if("high"===this.bI)this.yj=this.Pg,this.ji=this.Og,this.ri="high";else{let m;if("off"===this.hs()){var l=this.g.Gf;m=this.g.Ff}else l=this.g.gg,m=this.g.fg;this.Pg<l&&this.Og<m?(this.yj=this.Pg,this.ji=this.Og,this.ri="high"):(this.yj=
l,this.ji=m,this.ri="low","scale-inner"===h?(h=l/m,l=this.Im/this.Hm,l<h?this.yj=this.ji*l:l>h&&(this.ji=this.yj/l)):"scale-outer"===h&&(h=l/m,l=this.Im/this.Hm,l>h?this.yj=this.ji*l:l<h&&(this.ji=this.yj/l)))}}L0(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.XP=h;h=this.g.Ua;h.Lp();h.Kp()}uw(){return this.XP}hs(){return this.Gq?this.H9:this.uw()}nM(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.bI=h;this.g.Ua.Lp()}static z4(h){switch(h){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Lf(){return this.yj}kf(){return this.ji}qD(h){this.yq=!!h}x8(h){this.JR=h}UY(){return this.jb().un()}pt(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.Et=[];this.AA.clear();this.Za.pk();this.g.pt()}async yE(){await this.Za.TC();await this.gka();for(const h of this.g.bF)for(const l of h.Kf())l.cO(this.Za);
await this.g.yE();console.log("[Construct 3] WebGL context restored")}rn(){return this.Za}us(){return this.Mi}jb(){return this.Mi||this.Za}gk(){return"low"===this.ri?1/this.g.Zj():this.$j()}$j(){const h=this.hs();if("off"===h||"crop"===h)return 1;const l=this.g.gg,m=this.g.fg,p=l/m,u=this.Pg/this.Og;return"scale-inner"!==h&&u>p||"scale-inner"===h&&u<p?this.oc/m:this.Cc/l}kD(h,l,m){l=l||this.yj;m=m||this.ji;const p=l/2+this.F9,u=m/2+this.G9;{let q=this.Dy;if(l!==this.yj||m!==this.ji)h.Sr(c,l/m),q=
c;h.Vp(q)}l=h.Rr(p,u,100*this.g.Zj(),p,u,m||this.ji);h.Rp(l)}w0(h){var l=this.Cc/2;const m=this.oc/2;h.Vp(this.Dy);l=h.Rr(l,m,100,l,m);h.Rp(l)}cn(){return this.cm}dn(){return this.dm}cs(h){h.depth=this.g.kl;const l=this.Et,m=l.findIndex(u=>u.JY(h));let p;-1!==m?(p=l[m],l.splice(m,1)):p=this.jb().nU(h);this.AA.add(p);return p}Ll(h){if(!this.AA.has(h))throw Error("render target not in use");this.AA.delete(h);this.Et.push(h)}*HA(){for(const h of this.g.Ua.Dv())for(const l of h.Lb){const m=this.KG.get(l);
m&&(yield m)}}pK(h){if(!this.jb().lj())return null;let l=this.KG.get(h);l||(l={name:h.wa(),bJ:d.A(d.U.ZM,this.Za),IA:0,qS:0},this.KG.set(h,l));return l.bJ}T8(){const h=this.jb();if(h.lj()&&0===this.yf){this.yf=h.Vg;this.Ut=NaN;for(const l of this.HA())l.IA=NaN}}a9(){this.Za&&this.Za.lj()&&this.b9();this.Mi&&this.Mi.lj()&&this.c9()}b9(){if(isNaN(this.Ut)&&(this.Ut=this.Yy.kK(this.gm,this.yf),!isNaN(this.Ut))){if(this.g.nb)for(const h of this.HA())if(h.IA=h.bJ.kK(this.gm,this.yf),isNaN(h.IA))return;
this.Yy.JJ(this.yf);this.Dq=Math.min(this.Ut,1);if(this.g.nb){for(const h of this.HA())h.bJ.JJ(this.yf),h.qS=Math.min(h.IA,1);self.sg.W1(this.Dq,[...this.HA()])}this.gm=this.yf;this.yf=0}}c9(){if(0!==this.yf){for(var h=this.gm;h<this.yf;++h){var l=this.GA.get(h);if(l&&!l.Nw())return}l=this.g.wb();h=d.rZ(l.Lb.length+1);for(var m=this.gm;m<this.yf;++m){var p=this.GA.get(m);if(p){p=p.Cw();for(let u=0,q=Math.min(h.length,p.length/2);u<q;++u){const v=p[2*u],t=p[2*u+1];h[u]=0===Number(v)||0===Number(t)?
NaN:h[u]+Number(t-v)/1E9}}}this.Dq=d.ea(h[0],0,1);if(this.g.nb){m=[];l=l.Lb;for(let u=0,q=Math.min(l.length,h.length-1);u<q;++u)m.push({name:l[u].wa(),qS:d.ea(h[u+1],0,1)});self.sg.W1(this.Dq,m)}for(h=this.gm;h<this.yf;++h)this.GA.delete(h);this.gm=this.yf;this.yf=0}}C2(h){this.GA.set(this.Mi.Vg,h)}ww(){return this.Dq}JM(h,l,m,p,u,q){this.iA=h;this.zH=l;this.zR.rh(m,p,u,q);return this.Nu?this.Nu:this.Nu=new Promise(v=>{this.AR=v})}Z5(){if(this.iA){var h=this.vj,l=this.zR,m=d.ea(Math.floor(l.M),0,
h.width),p=d.ea(Math.floor(l.K),0,h.height),u=l.width();u=0===u?h.width-m:d.ea(Math.floor(u),0,h.width-m);l=l.height();l=0===l?h.height-p:d.ea(Math.floor(l),0,h.height-p);(0!==m||0!==p||u!==h.width||l!==h.height)&&0<u&&0<l&&(h=d.tg(u,l),h.getContext("2d").drawImage(this.vj,m,p,u,l,0,0,u,l));d.Pv(h,this.iA,this.zH).then(q=>{this.AH=URL.createObjectURL(q);this.Nu=null;this.AR(this.AH)});this.iA="";this.zH=1}}jY(h){this.Za&&(2===h?(this.Ve=d.A(d.U.ZC,this.jb()),this.Ve.sM(),this.Ve.mD("Arial"),this.Ve.mx(16),
this.Ve.pM("center"),this.Ve.HM("center"),this.Ve.Sc(300,200)):0===h?(h=this.g.Mq)&&h.Cs(this.Za).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.N5().then(l=>{"done"===this.Ji?this.Za.Qi(l):this.We.wv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.jO("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Ji?this.Za.Qi(l):this.We.zv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.jO("splash-images/splash-website-512.png").then(l=>
{"done"===this.Ji?this.Za.Qi(l):this.We.Iv=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async N5(){var h=(new URL("splash-images/splash-logo.svg",this.g.OB())).toString();h=await d.Xj(h);h=await this.g.D_(h);return await this.Za.Yv(h,{xv:"high"})}async jO(h){h=(new URL(h,this.g.OB())).toString();h=await d.Xj(h);return await this.Za.Yv(h,{xv:"high"})}tC(){this.g.Dn("runtime","hide-cordova-splash")}D1(){this.uu=Date.now();this.g.Ib().addEventListener("loadingprogress",this.QG);this.Vd=
requestAnimationFrame(()=>this.CN());3!==this.g.Lq&&this.tC()}async GV(){if(this.Za){this.nm=1;var h=this.g.Lq;4===h&&await this.CR;this.CR=this.CH=null;-1!==this.Vd&&(cancelAnimationFrame(this.Vd),this.Vd=-1);this.g.Ib().removeEventListener("loadingprogress",this.QG);this.QG=null;this.Ve&&(this.Ve.m(),this.Ve=null);this.g.I_();this.Za.Xs();this.We.wv&&(this.Za.Qi(this.We.wv),this.We.wv=null);this.We.zv&&(this.Za.Qi(this.We.zv),this.We.zv=null);this.We.Iv&&(this.Za.Qi(this.We.Iv),this.We.Iv=null);
this.Za.Uv();this.Za.Zr();this.Ji="done";this.gm=this.Za.Vg;3===h&&this.tC()}}CN(){if(-1!==this.Vd){var h=this.Za;if(h){h.Xs();this.Vd=-1;var l=this.g.ad.bG,m=this.g.Lq;3!==m&&(this.w0(h),h.Uv(),h.Ip(),h.Sh(),h.vf(null));if(0===m)this.d4(l);else if(1===m)this.Ex(l,120,0);else if(2===m)this.c4(l);else if(3!==m)if(4===m)this.e4(l);else throw Error("invalid loader style");h.Zr();this.Vd=requestAnimationFrame(()=>this.CN())}}}c4(h){h?this.Ve.hM(1,0,0):this.Ve.hM(.6,.6,.6);this.Ve.Vs(Math.round(100*this.nm)+
"%");h=this.Cc/2;const l=this.oc/2;g.FS(h-150,l-100,h+150,l+100);this.Za.vf(this.Ve.Jd());this.Za.Fn(g,this.Ve.bj())}Ex(h,l,m){const p=this.Za;p.gM();h?p.Je(1,0,0,1):p.Je(.118,.565,1,1);h=this.Cc/2;const u=this.oc/2,q=l/2;n.rh(h-q,u-4+m,Math.floor(l*this.nm),8);p.Rect(n);n.rh(h-q,u-4+m,l,8);n.offset(-.5,-.5);n.PA(.5,.5);p.Je(0,0,0,1);p.gL(n);n.PA(1,1);p.Je(1,1,1,1);p.gL(n)}d4(h){var l=this.g.Mq;if(l)if(l=l.Jd()){var m=l.ba(),p=l.aa(),u=this.Cc/2,q=this.oc/2,v=m/2;p/=2;g.FS(u-v,q-p,u+v,q+p);this.Za.vf(l);
this.Za.md(g);this.Ex(h,m,p+16)}else this.Ex(h,120,0);else this.Ex(h,120,0)}e4(h){const l=this.Za,m=this.We.wv,p=this.We.zv,u=this.We.Iv,q=Date.now();0===this.EH&&(this.uu=q);const v=this.g.yn()||this.g.W9&&!this.g.KY(),t=v?0:200,w=v?0:3E3;let y=1;"fade-in"===this.Ji?y=Math.min((q-this.uu)/300,1):"fade-out"===this.Ji&&(y=Math.max(1-(q-this.DH)/300,0));l.gM();l.Je(.231*y,.251*y,.271*y,y);n.set(0,0,this.Cc,this.oc);l.Rect(n);const z=Math.ceil(this.Cc),F=Math.ceil(this.oc);let G;256<this.oc?(l.Je(.302*
y,.334*y,.365*y,y),G=Math.max(.005*F,2),n.rh(0,.8*F-G/2,z,G),l.Rect(n),h?l.Je(y,0,0,y):l.Je(.161*y,.953*y,.816*y,y),h=z*this.nm,n.rh(.5*z-h/2,.8*F-G/2,h,G),l.Rect(n),l.Je(y,y,y,y),l.Sh(),p&&(h=1.5*d.ea(.22*F,105,.6*z),G=h/8,n.rh(.5*z-h/2,.2*F-G/2,h,G),l.vf(p),l.Rect(n)),m&&(G=h=Math.min(.395*F,.95*z),n.rh(.5*z-h/2,.485*F-G/2,h,G),l.vf(m),l.Rect(n)),u&&(h=1.5*d.ea(.22*F,105,.6*z),G=h/8,n.rh(.5*z-h/2,.868*F-G/2,h,G),l.vf(u),l.Rect(n))):(l.Je(.302*y,.334*y,.365*y,y),G=Math.max(.005*F,2),n.rh(0,.85*F-
G/2,z,G),l.Rect(n),h?l.Je(y,0,0,y):l.Je(.161*y,.953*y,.816*y,y),h=z*this.nm,n.rh(.5*z-h/2,.85*F-G/2,h,G),l.Rect(n),l.Je(y,y,y,y),l.Sh(),m&&(G=h=.55*F,n.rh(.5*z-h/2,.45*F-G/2,h,G),l.vf(m),l.Rect(n)));this.EH++;"fade-in"===this.Ji&&300<=q-this.uu&&2<=this.EH&&(this.Ji="wait",this.DR=q);"wait"===this.Ji&&q-this.DR>=w&&1<=this.nm&&(this.Ji="fade-out",this.DH=q);("fade-out"===this.Ji&&q-this.DH>=300+t||v&&1<=this.nm&&500>q-this.uu)&&this.CH()}}}
{"use strict";const d=self.B,a=self.sg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.bM=class extends d.ca{constructor(c){c=Object.assign({},b,c);super();this.yu=c.messagePort;this.q9=c.baseUrl;this.Lk=!!c.isInWorker;e=c.ife;this.em=c.exportType;this.DQ=!!c.isiOSCordova;this.W9=!!c.isFBInstantAvailable;this.s$=c.opusWasmScriptUrl;this.gR=c.opusWasmBinaryUrl;this.Ad=this.x9=this.nb=!("preview"!==this.em||!c.isDebug);this.CF=
0;this.ZE=[];this.j9=[];this.pH=this.nR=this.$z="";this.fg=this.gg=0;this.KP=self.devicePixelRatio;this.Lq=this.Ff=this.Gf=this.jH=this.iH=0;this.BA=!1;this.Dj=!0;this.ZH=!1;this.Mq=null;this.ad=d.A(d.uT,this,c);this.Ua=d.A(d.fZ,this);this.oa=d.A(d.LV,this);this.Go=d.A(d.p_,this);this.fi=d.A(d.UT,this);this.tb=d.A(d.K1,this);this.NH=d.A(d.O1,this);this.zc=[];this.cH=new Map;this.dH=new Map;this.UP=0;this.l9=[];this.bF=[];this.Nt=[];this.Kk=[];this.gz=new Map;this.Zy=!1;this.Au=this.eH=0;this.so=new Map;
this.to=new Set;this.hz=new Set;this.Rz=[];this.FQ=[];this.W=null;this.kl=!1;this.SF="vsync";this.oq="standard";this.Vc="trilinear";this.Nk=!1;this.aH=!0;this.AG=this.iR=!1;this.G$={uS:g=>{this.bl=this.Vd=-1;this.le(g)},yba:g=>{this.bl=-1;this.le(g,!1,"skip-render")},jba:()=>{this.Vd=-1;this.XC()}};this.bl=this.Vd=-1;this.Aq=this.Ij=0;this.lQ=this.nz=this.$y=!1;this.wG=!0;this.cr=0;this.x$=()=>Math.random();this.Ey=this.Fy=this.Fz=this.wm=0;this.Xd=1;this.$Q=30;this.XF=d.A(d.Bs);this.YF=d.A(d.Bs);
this.aI=d.A(d.Bs);this.Uy=-1;this.Nz=this.Sk=this.Ty=this.no=0;this.Ej=!1;this.tu=this.Iu="";this.Kq=null;this.Co="";this.vH=this.oH=null;this.Eb=d.A(d.Event.Ib);this.GF=new Map;this.lH=new Map;this.o$=0;this.BQ=this.LP=this.MP=!1;this.$H=[];this.ko={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};this.ko.instancedestroy.instance=
null;this.Gd=d.A(d.Event.Ib);this.QR=null;this.$l=d.A(d.Gn,d.Lv.CD);this.Yn=d.A(d.Gn,d.Lv.CD);this.Zn=d.A(d.Gn,d.Lv.CD);this.nu=d.A(d.cZ,this,c.jobScheduler);c.canvas&&(this.W=d.A(d.vJ,this));this.yu.onmessage=g=>this._OnMessageFromDOM(g.data);this.uh("runtime","visibilitychange",g=>this.C6(g));this.uh("runtime","opus-decode",g=>this.f9(g.arrayBuffer));this.uh("runtime","get-remote-preview-status-info",()=>this.P4());this.uh("runtime","js-invoke-function",g=>this.Ox(g));this.uh("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Eb.addEventListener("window-blur",g=>this.D6(g));this.Eb.addEventListener("window-focus",()=>this.E6());this.tb.iT();this.ti=null;this.S9=new WeakMap;this.zy={keyboard:null,sS:null,dJ:null}}static Ma(c){return d.A(d.bM,c)}m(){d.D(this.zc);this.cH.clear();this.dH.clear();this.Ua.m();this.Ua=null;this.oa.m();this.oa=null;this.Go.m();this.Go=null;this.ad.m();this.ad=null;this.fi.m();this.fi=null;this.tb.m();this.tb=null;this.NH.m();this.NH=null;this.W&&(this.W.m(),this.W=
null);this.Eb.m();this.Eb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.vO(c);else if("result"===g)this.z6(c);else throw Error(`unknown message '${g}'`);}vO(c){if(this.BQ){var g=c.component,n=c.handler,h=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(m&&(c=new d.Event(n),c.data=h,this.Eb.maa(c)),l)){c=new d.Event(n,!0);for(const [u,q]of Object.entries(h))c[u]=q;this.ug(c)}if(c=this.GF.get(g))if(c=
c.get(n)){m=null;try{m=c(h)}catch(u){console.error(`Exception in '${g}' handler '${n}':`,u);null!==p&&this.Sx(p,!1,""+u);return}null!==p&&(m&&m.then?m.then(u=>this.Sx(p,!0,u)).catch(u=>{console.error(`Rejection from '${g}' handler '${n}':`,u);this.Sx(p,!1,""+u)}):this.Sx(p,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${n}' for component '${g}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.$H.push(c)}Sx(c,g,n){this.yu.postMessage({type:"result",
responseId:c,isOk:g,result:n})}z6(c){const g=c.responseId,n=c.isOk;c=c.result;const h=this.lH.get(g);n?h.resolve(c):h.reject(c);this.lH.delete(g)}uh(c,g,n){let h=this.GF.get(c);h||(h=new Map,this.GF.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,n)}Dn(c,g,n){this.yu.postMessage({type:"event",component:c,handler:g,data:n,responseId:null})}Gs(c,g){const n=this.o$++,h=new Promise((l,m)=>{this.lH.set(n,{resolve:l,reject:m})});this.yu.postMessage({type:"event",
component:"runtime",handler:c,data:g,responseId:n});return h}async El(c){this.nb?await a.El(this):self.sg&&self.sg.lea(this);var [g]=await Promise.all([this.ad.UJ("data.json"),this.Y5(),this.nu.El()]);this.A5(g);await this.k5(c);this.yn()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.rn()?(g=this.rn(),console.info(`[C3 runtime] Hosted in ${this.Lk?"worker":"DOM"}, rendering with WebGL ${g.gd} [${g.av}] (${g.MY()?"desynchronized":"standard"} compositing)`)):
this.us()&&console.info(`[C3 runtime] Hosted in ${this.Lk?"worker":"DOM"}, rendering with experimental WebGPU`);this.jb().cG&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.BQ=!0;for(const n of this.$H)this.vO(n);d.D(this.$H);this.W&&this.W.D1();for(const n of c.runOnStartupFunctions)this.ZE.push(this.s7(n));await Promise.all([this.ad.XM(),...this.ZE]);d.D(this.ZE);if(this.ad.bG)this.W&&
this.W.tC();else return this.W&&await this.W.GV(),await this.Eb.qI(new d.Event("beforeruntimestart")),await this.Xs(),this.yu.postMessage({type:"runtime-ready"}),this}async s7(c){try{await c(this.ti)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}A5(c){c=c.project;this.$z=c[0];this.nR=c[16];this.pH=c[31];const g=c[39]||"loading-logo.png";this.Nk=!!c[9];this.gg=this.Gf=c[10];this.fg=this.Ff=c[11];this.iH=this.gg/2;this.jH=this.fg/2;this.oq=c[36];this.SF=c[37];"low-latency"===
this.oq&&this.EY()&&77>=d.Qc.pB&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.oq="standard");this.kl=!!c[40];this.Vc=c[14];this.BA=!!c[18];this.Lq=c[19];this.Au=c[21];this.iR=c[22];const n=this.ad;n.U7(c[7]);n.g8(c[32]);n.l8(c[28]);n.z8(c[29]);if(0===this.Lq){let u="";this.yn()?n.lE(g)&&(u=n.qK(g)):u=n.mQ+g;u&&(this.Mq=n.Zw({url:u}))}this.W&&
(this.W.L0(d.vJ.z4(c[12])),this.W.nM(c[23]?"high":"low"),this.W.qD(0!==c[24]),this.W.h8(c[34]),this.W.x8(c[41]),this.W.A8(c[13]));this.Go.oU();this.Rz=self.qJ();for(var h of c[2])this.Go.mU(h);this.Rz=self.qJ();this.H5();for(var l of c[3])h=d.RC.Ma(this,this.zc.length,l),this.zc.push(h),this.cH.set(h.wa().toLowerCase(),h),this.dH.set(h.$a,h);for(const u of c[4])this.zc[u[0]].D5(u);for(var m of c[27])l=m.map(u=>this.zc[u]),this.l9.push(d.A(d.bU,this,l));for(const u of this.zc)u.i6();for(const u of c[5])this.Ua.Ma(u);
(m=c[1])&&(m=this.Ua.pp(m))&&this.Ua.G0(m);for(var p of c[33])this.tb.Ma(p);for(const u of c[35])this.NH.Ma(u);this.h5();for(const u of c[6])this.oa.Ma(u);this.oa.Bb();this.d5();d.D(this.Rz);this.wd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Dn("runtime","set-target-orientation",{targetOrientation:p})}L4(){return this.UP++}t2(c){this.bF.push(c)}async k5(c){this.W&&(await this.W.tg(c),this.W.jY(this.Lq))}async Y5(){if(!this.ad.FY()){var c=null;try{c=this.DQ&&this.ad.iu?await this.ad.EJ(this.gR):
await this.ad.Xr(this.gR)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.bT(c):this.aT();await this.cT([this.s$])}}async f9(c){return await this.hB("OpusDecode",{arrayBuffer:c},[c])}async Xs(){this.$y=!0;this.wm=Date.now();if(this.BA){for(var c of this.zc)c.Ta||c.zG||!c.Se||c.ld();this.ad.XM().then(()=>{this.Dj=!1;this.zO()})}else this.Dj=!1;this.ad.O0();this.nb&&a.Hha(e);for(const g of this.Ua.bi)g.b3();c=this.Ua.yW();await c.nE(null,
this.jb());await c.kP(!0);this.no=performance.now();this.BA||this.zO();(await this.Gs("before-start-ticking")).isSuspended?this.cr++:this.le()}zO(){this.Ia(d.C.ab.L.YZ,null,null);this.Dn("runtime","register-sw")}Ag(c){c=Math.floor(c);const g=this.Rz;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}H5(){for(const c of self.CT){const g=d.first(Object.keys(c));this.FQ.push(g)}}Eh(c){c=Math.floor(c);const g=this.FQ;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}OB(){return this.q9}ga(){return this.oa}Jc(){return this.oa.Jc()}Ee(){return this.oa.Ee()}ub(){return this.oa.ub()}jf(){return this.oa.jf()}LY(){return 0===
this.Ee().Ek}gs(){return this.oa.gs()}rs(){return this.Go.rs()}Ge(c){c=Math.floor(c);if(0>c||c>=this.zc.length)throw new RangeError("invalid index");return this.zc[c]}dC(c){return this.cH.get(c.toLowerCase())||null}zw(c){return this.dH.get(c)||null}*P$(){for(const c of this.zc)c.Ta||(yield*c.lS())}Ib(){return this.Eb}ug(c){c.jc=this.ti;const g=this.nb&&!this.oa.Tw();g&&a.ED();this.Gd.dispatchEvent(c);g&&a.jB()}$m(c){c.jc=this.ti;return this.Gd.qI(c)}X0(c,g){if(this.gg!==c||this.fg!==g)this.gg=c,this.fg=
g,c=this.Ua,c.Lp(),c.Kp()}Ws(c,g){if(this.Gf!==c||this.Ff!==g)this.Gf=c,this.Ff=g,c=this.Ua,c.Lp(),c.Kp()}a8(c){this.KP=c}Zj(){return this.KP}Lf(){return this.W?this.W.Lf():this.Gf}kf(){return this.W?this.W.kf():this.Ff}gk(){return this.W?this.W.gk():1}$j(){return this.W?this.W.$j():1}cn(){return this.W?this.W.cn():0}dn(){return this.W?this.W.dn():0}fW(){return this.W?this.W.Cc:0}eW(){return this.W?this.W.oc:0}uw(){return this.W?this.W.uw():"off"}cs(c){return this.W?this.W.cs(c):null}Ll(c){this.W&&
this.W.Ll(c)}y8(c){this.ZH=!!c}ww(){return this.W?this.W.ww():NaN}HC(){return"nearest"!==this.Vc}I_(){this.Mq&&(this.Mq.m(),this.Mq=null)}wb(){return this.Ua.wb()}Zw(c){return this.ad.Zw(c)}yB(c,g,n,h,l){return this.yh(c,g,!1,n,h,!1,l,void 0,l)}yh(c,g,n,h,l,m,p,u,q){var v=null;let t=null;c instanceof d.RC?(t=c,t.Ta&&(v=t.lo,t=v[Math.floor(this.Fp()*v.length)]),v=t.uq):(v=c,t=this.Ge(v[1]));c=t.xb().Se;if(this.Dj&&c&&!t.zG)return null;const w=g;c||(g=null);var y=n&&!m&&v&&!this.so.has(v[2])?v[2]:this.Au++;
const z=v?v[0]:null,F=d.A(d.Instance,{jc:this,HI:t,vd:g,PS:z,kS:v?v[3]:null,uid:y});this.so.set(y,F);y=null;c&&(y=F.j(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Ig(h),y.Jg(l)),t.XO());g&&(q||g.Xf(F,!0),1===g.Cd&&1===g.Dd||t.FE(!0),g.Yb().mL(t));this.eH++;let G=!0;u&&(u=u.G(),u.Jb()&&t.Jb()&&t.$f===u.$f&&(G=!1));if(t.Jb()&&!n&&!m&&G){for(var Q of t.$f.Xk)Q!==t&&(u=this.yh(Q,w,!1,y?y.ia():h,y?y.ja():l,!0,!1,void 0,q),F.$p(u));for(var D of F.dd){D.$p(F);for(const H of F.dd)D!==H&&D.$p(H)}}c&&
!n&&p&&this.SD(F,z,y,g,h,l,q);if(t.Jb()&&!n&&!m&&p)for(const H of F.dd)if(n=H.j())Q=H.xb(),D=H.G().uq[0],Q.Se?this.SD(H,D,n,g,n.ia(),n.ja(),q):this.SD(H,D,n,g,void 0,void 0,q);!m&&p&&("undefined"===typeof h&&(h=z[0]),"undefined"===typeof l&&(l=z[1]),g=y.Gw(),h=h-y.ia()+g.ia(),l=l-y.ja()+g.ja(),g.tk(h,l));t.tt();l=v?d.mI(v[5]):null;v=v?v[4].map(H=>d.mI(H)):null;c&&z&&z[13]&&F.k8();F.Ax(l,v);this.Kk.push(F);this.Zy=!0;this.nb&&a.mea(F);return F}SD(c,g,n,h,l,m,p){var u=n.vR,q=n.wH;c.j().sD(u);if(q){"undefined"===
typeof l&&(l=g[0]);"undefined"===typeof m&&(m=g[1]);u=new Set;n=g[0];g=g[1];for(const z of q){var v=z[1],t=z[2];q=z[3];var w=!!z[4];const F=z[5];t=this.Ua.cC(z[0]).T(v).IW(t);v=this.Ge(t[1]);var y=c.FX(v);const G=u.has(v);y&&!G&&w?(w=c.DK(v),y=l+t[0][0]-n,t=m+t[0][1]-g,w.j().tk(y,t),w.j().sD(F),c.ul(w,{Mr:!!(q>>0&1),Nr:!!(q>>1&1),fp:!!(q>>2&1),ep:!!(q>>3&1),Lr:!!(q>>4&1),nv:!!(q>>5&1),Or:!!(q>>6&1)}),u.add(v)):(v=this.yh(t,h,!1,l+t[0][0]-n,m+t[0][1]-g,!1,!0,c,p),v.j().sD(F),c.ul(v,{Mr:!!(q>>0&1),
Nr:!!(q>>1&1),fp:!!(q>>2&1),ep:!!(q>>3&1),Lr:!!(q>>4&1),nv:!!(q>>5&1),Or:!!(q>>6&1)}))}}}Zm(c){if(!this.to.has(c)){var g=c.G(),n=this.gz.get(g);if(n){if(n.has(c))return;n.add(c)}else n=new Set,n.add(c),this.gz.set(g,n);this.nb&&a.nea(c);c.qE();this.Zy=!0;if(c.Jb())for(const h of c.dd)this.Zm(h);for(const h of c.children())h.pw()&&this.Zm(h);this.Ua.XK()||this.Ej||(g=this.ga(),g.$d(!0),c.O8(),g.$d(!1));c.r4(this.Ua.XK())}}wd(){this.Zy&&(this.t4(),this.u4(),this.Zy=!1,this.Z())}t4(){for(const c of this.Kk){const g=
c.G();g.Xf(c);for(const n of g.Tg)n.Xf(c),n.tt()}d.D(this.Kk)}u4(){this.Eb.Op(!0);for(const [c,g]of this.gz.entries())this.v4(c,g),g.clear();this.gz.clear();this.Eb.Op(!1)}v4(c,g){for(const h of g){var n=this.ko.instancedestroy;n.instance=h;this.Eb.dispatchEvent(n);this.so.delete(h.Fc);if(n=h.j())n.IO(),n.JO(),n.qE();this.to.add(h);this.eH--}d.qg(c.da(),g);c.tt();this.hz.add(c);0===c.da().length&&c.FE(!1);for(const h of c.Tg)d.qg(h.da(),g),h.tt(),this.hz.add(h);if(c.xb().Se){c=new Set([...g].map(h=>
h.j().T()));for(const h of c)h.Y6(g)}}*wI(c){for(const g of this.Kk)c.Ta?g.G().nB(c)&&(yield g):g.G()===c&&(yield g)}K4(){return this.Au++}V5(c,g){this.so.set(c,g)}pt(){this.Eb.dispatchEvent(d.A(d.Event,"webglcontextlost"));this.Us(!0);for(var c of this.zc)!c.Ta&&c.DX()&&c.Hn();(c=this.wb())&&c.pt();d.Pw.Dp();d.OK.Dp()}async yE(){await this.wb().nE(null,this.rn());this.Eb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.Us(!1);this.Z()}C6(c){this.Us(c.hidden)}D6(c){this.yn()&&this.iR&&!d.Qc.KC&&
!c.data.parentHasFocus&&(this.Us(!0),this.AG=!0)}E6(){this.AG&&(this.Us(!1),this.AG=!1)}KO(){const c=this.G$;"vsync"===this.SF?-1===this.Vd&&(this.Vd=self.requestAnimationFrame(c.uS)):"unlimited-tick"===this.SF?(-1===this.bl&&(this.bl=d.aD(c.yba)),-1===this.Vd&&(this.Vd=self.requestAnimationFrame(c.jba))):-1===this.bl&&(this.bl=d.aD(c.uS))}P2(){-1!==this.Vd&&(self.cancelAnimationFrame(this.Vd),this.Vd=-1);-1!==this.bl&&(d.IT(this.bl),this.bl=-1)}zn(){return 0<this.cr}Us(c){var g=this.zn();this.cr+=
c?1:-1;0>this.cr&&(this.cr=0);c=this.zn();!g&&c?(console.log("[Construct 3] Suspending"),this.P2(),this.Eb.dispatchEvent(d.A(d.Event,"suspend")),this.Ia(d.C.ab.L.f_,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),this.no=this.Fz=g=performance.now(),this.Sk=this.Nz=this.Ty=this.Uy=0,this.Eb.dispatchEvent(d.A(d.Event,"resume")),this.Ia(d.C.ab.L.c_,null,null),this.ws()||this.le(g))}q2(c){this.$l.wc(c)}a7(c){this.$l.Eg(c)}Z6(c){this.Yn.Eg(c)}b7(c){this.Zn.Eg(c)}E2(){this.$l.Gg(!0);for(const c of this.$l)c.le();
this.$l.Gg(!1)}D2(){this.Yn.Gg(!0);for(const c of this.Yn);this.Yn.Gg(!1)}F2(){this.Zn.Gg(!0);for(const c of this.Zn);this.Zn.Gg(!1)}*m3(){this.$l.Gg(!0);for(const c of this.$l){const g=c.le();d.Hl(g)&&(yield*g)}this.$l.Gg(!1)}*l3(){this.Yn.Gg(!0);for(const c of this.Yn)d.Hl(void 0)&&(yield*void 0);this.Yn.Gg(!1)}*n3(){this.Zn.Gg(!0);for(const c of this.Zn)d.Hl(void 0)&&(yield*void 0);this.Zn.Gg(!1)}async le(c,g,n){this.lQ=!0;const h="background-wake"===n;n="background-wake"!==n&&"skip-render"!==
n;this.$y&&(!this.zn()||g||h)&&(g=performance.now(),this.nz=!0,this.b6(c||0),c=this.F1(),this.Ad&&await c,c=this.Eb.naa(this.ko.pretick),c instanceof Promise&&await c,c=this.E1(),this.Ad&&await c,this.g6()&&await this.W4(),this.Ua.yp()&&await this.X5(),c=this.G1(),this.Ad&&await c,n&&this.XC(),this.zn()||h||this.KO(),this.Ij++,this.Aq++,this.nz=!1,this.Sk+=performance.now()-g)}async F1(){const c=this.oa,g=this.nb;this.wd();c.$d(!0);this.En(this.wb());g&&a.Xp();this.Ad?await c.vU():c.g0();g&&a.$S();
this.Cn();c.$d(!1);this.wd();c.$d(!0)}async E1(){const c=this.nb,g=this.Ad,n=this.Eb,h=this.ko,l=this.QR;c&&a.Xp();g?await this.bw(this.m3()):this.E2();g?await this.bw(this.l3()):this.D2();c&&a.VS();c&&a.Xp();g?await this.HJ(h.tick):n.dispatchEvent(h.tick);c&&a.eT();this.oa.$d(!1);this.ug(l.tick)}async G1(){const c=this.oa,g=this.Eb,n=this.ko,h=this.nb,l=this.Ad;h&&a.Xp();l?await c.tU(this.Ua):c.e0(this.Ua);h&&a.$S();this.fi.yJ();this.HO();this.wG=!1;c.$d(!0);h&&a.Xp();l?await this.bw(this.n3()):
this.F2();h&&a.VS();h&&a.Xp();l?await this.HJ(n.tick2):g.dispatchEvent(n.tick2);h&&a.eT();c.$d(!1);l&&await c.aM()}HO(){if(0!==this.to.size){var c=this.Eb;c.Op(!0);for(const g of this.hz)g.um.In(this.to);this.hz.clear();this.oa.K_(this.to);for(const g of this.to)g.m();this.to.clear();c.Op(!1)}}async X5(){const c=this.Ua;let g=0;for(;c.yp()&&10>g++;)await this.yN(c.Du)}b6(c){let g=0;0!==this.Fz&&(g=Math.max(c-this.Fz,0)/1E3,.5<g&&(g=0),this.Fy=Math.min(g,1/this.$Q));this.Fz=c;this.Ey=this.Fy*this.Xd;
this.XF.wc(this.Ey);this.YF.wc(g*this.Xd);this.aI.wc(this.Fy);this.W&&this.W.a9();1E3<=c-this.no&&(this.no+=1E3,1E3<=c-this.no&&(this.no=c),this.Ty=this.Uy,this.Uy=0,this.Nz=Math.min(this.Sk/1E3,1),this.Sk=0,this.W&&this.W.T8(),this.nb&&a.Ija());this.Uy++}async yN(c){const g=this.Eb,n=this.Ua.wb();await n.J8();n.S8(c,this.jb());n===c&&this.oa.Rv();this.fi.yJ();this.HO();g.dispatchEvent(this.ko.beforelayoutchange);d.Uj.oM(!0);await c.nE(n,this.jb());d.Uj.oM(!1);await c.kP(!1);g.dispatchEvent(this.ko.layoutchange);
this.Z();this.wG=!0;this.wd()}Z(){this.aH=!0}rn(){return this.W?this.W.rn():null}us(){return this.W?this.W.us():null}jb(){return this.W?this.W.jb():null}XC(){const c=this.W;if(c&&!c.UY()){var g=this.jb(),n=g.lj(),h=n&&g.As();n=n&&!1;h&&g.LT();if(this.aH){var l=this.Ua.wb();g.Xs();var m=this.nb;m&&a.Xp();this.aH=!1;var p=null;h&&(p=c.Yy.kB(),g.FD(p));h=null;n&&(h=g.$ia(2*(1+l.Lb.length)),g.l2(0));this.kl&&"low"===c.ri?g.H0(c.Lf(),c.kf()):g.q0();this.h7(this.jb(),l);p&&g.HB(p);n&&(g.l2(1),this.W.C2(h));
g.Zr();m&&(a.$ba(),a.Jja());c&&c.Z5()}else g.XX()}}h7(c,g){c.Sh();c.iD();c.Je(1,1,1,1);c.ke(null);c.vf(null);c.Ql(this.kl);g.gf(c)}Ia(c,g,n){if(!this.$y)return!1;var h=!this.nz&&!this.oa.GC();let l=0;h&&(l=performance.now());const m=this.nb;m&&this.Np(!1);c=this.oa.yt(this.Ua,c,g,n);h&&(h=performance.now()-l,this.Sk+=h,m&&a.cca(h));m&&this.Np(!0);return c}async me(c,g,n){if(!this.Ad)return this.Ia(c,g,n);if(!this.$y)return!1;if(this.ws())return this.oa.C_(c,g,n);if(!this.wb())return this.oa.VC(c,
g,n);const h=performance.now();c=this.oa.ct(this.Ua,c,g,n);for(g=c.next();!g.done;)await this.lp(g.value),g=c.next();this.zn()||this.oa.GC()||(await this.oa.aM(),this.lQ&&!this.nz&&this.KO());this.Sk+=performance.now()-h;return g.value}Wr(c,g,n){const h=this.nb;h&&this.Np(!1);c=this.oa.Gx(this.Ua,c,g,n);h&&this.Np(!0);return c}BB(c,g,n){return this.oa.Cx(this.Ua,c,g,n)}En(c){this.Nt.push(c)}Cn(){if(!this.Nt.length)throw Error("layout stack empty");this.Nt.pop()}Ha(){return this.Nt.length?this.Nt.Yd(-1):
this.wb()}ks(c){return c&&-1!==c.Xd?this.Fy*c.Xd:this.Ey}wD(c){if(isNaN(c)||0>c)c=0;this.Xd=c}yM(c){this.$Q=d.ea(c,1,120)}yg(){return this.XF.Y()}EW(){return this.YF.Y()}oC(){return this.aI.Y()}kk(){++this.Aq}Ti(c){if(this.Ej)throw Error("cannot call while loading state - wait until afterload event");return this.so.get(c)||null}FO(){this.so.clear();for(const c of this.zc)if(!c.Ta)for(const g of c.da())this.so.set(g.Fc,g)}yn(){return"preview"===this.em}KY(){return"cordova"===this.em}EY(){return"Android"===
d.Qc.Cp&&("cordova"===this.em||"playable-ad"===this.em||"instant-games"===this.em)}$0(c){c=!!c;this.Nk!==c&&(this.Nk=c,this.Ua.Kp(),this.Z())}l0(c){this.Iu=c}lZ(c){this.tu=c}PC(c){this.Kq=c}g6(){return!(!this.Iu&&!this.tu&&null===this.Kq)}async W4(){this.Iu&&(this.wd(),await this.P3(this.Iu),this.QD());this.tu&&(await this.O3(this.tu),this.QD(),this.nb&&a.aja());if(null!==this.Kq){this.wd();try{await this.zN(this.Kq),this.Co=this.Kq,await this.me(d.C.ab.L.xL,null),this.Co=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",
c),await this.me(d.C.ab.L.yL,null)}this.QD()}}QD(){this.tu=this.Iu="";this.Kq=null}O4(){this.oH||(this.oH=localforage.nI({name:"c3-localstorage-"+this.pH,description:this.$z}));return this.oH}SN(){this.vH||(this.vH=localforage.nI({name:"c3-savegames-"+this.pH,description:this.$z}));return this.vH}async P3(c){const g=await this.L7();try{await this.SN().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Co=g,await this.me(d.C.ab.L.d_,null),this.Co=""}catch(n){console.error("[Construct 3] Failed to save state to storage: ",
n),await this.me(d.C.ab.L.e_,null)}}async O3(c){try{const g=await this.SN().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.zN(g);this.Co=g;await this.me(d.C.ab.L.xL,null);this.Co=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.me(d.C.ab.L.yL,null)}}async L7(){const c={c3save:!0,version:1,rt:{time:this.yg(),timeRaw:this.EW(),walltime:this.oC(),timescale:this.Xd,tickcount:this.Ij,
execcount:this.Aq,next_uid:this.Au,running_layout:this.wb().$a,start_time_offset:Date.now()-this.wm},types:{},layouts:{},events:this.oa.ka(),timelines:this.tb.ka(),user_script_data:null};for(var g of this.zc)g.Ta||g.KK()||(c.types[g.$a.toString()]=g.ka());for(const n of this.Ua.bi)c.layouts[n.$a.toString()]=n.ka();g=this.VD("save");g.saveData=null;await this.$m(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async zN(c){var g=this.Ua;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Eb.dispatchEvent(d.A(d.Event,"beforeload"));for(var n of this.P$())n.Qx();this.Ej=!0;n=c.rt;this.XF.Set(n.time);n.hasOwnProperty("timeRaw")&&this.YF.Set(n.timeRaw);this.aI.Set(n.walltime);this.Xd=n.timescale;this.Ij=n.tickcount;this.Aq=n.execcount;this.wm=Date.now()-n.start_time_offset;var h=n.running_layout;if(h!==this.wb().$a)if(h=g.cC(h))await this.yN(h);else return;for(const [l,
m]of Object.entries(c.types))h=this.zw(parseInt(l,10)),!h||h.Ta||h.KK()||h.pa(m);this.wd();this.FO();this.Ej=!1;this.Au=n.next_uid;for(const [l,m]of Object.entries(c.layouts))(n=g.cC(parseInt(l,10)))&&n.pa(m);this.oa.pa(c.events);for(const l of this.zc)if(!l.Ta&&l.Jb())for(const m of l.da()){n=m.hn();for(const p of l.$f.Xk)if(p!==l){h=p.da();if(0>n||n>=h.length)throw Error("missing sibling instance");m.$p(h[n])}}this.tb.pa(c.timelines);g.Lp();g.Kp();this.Eb.dispatchEvent(d.A(d.Event,"afterload"));
g=this.VD("load");g.saveData=c.user_script_data;await this.$m(g);this.Z()}async cT(c){c=(await Promise.all(c.map(g=>this.ad.Xj(g)))).map(g=>URL.createObjectURL(g));this.nu.WX(c)}aT(){this.nu.n0()}bT(c){this.nu.o0(c)}hB(c,g,n){return this.nu.hB(c,g,n)}async D_(c){var g=g||2048;var n=n||2048;return this.Lk?(await this.Gs("raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:n,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,n)}Hp(){this.MP||
(this.MP=!0,this.Dn("runtime","enable-device-orientation"))}Ml(){this.LP||(this.LP=!0,this.Dn("runtime","enable-device-motion"))}Fp(){return this.x$()}P4(){const c=this.rn();return{fps:this.Ty,cpu:this.Nz,gpu:this.ww(),layout:this.wb()?this.wb().wa():"",renderer:c?c.av:"<unavailable>"}}ws(){return this.nb?a.ws():!1}lp(c){return this.Ad?a.lp(c):Promise.resolve()}Xb(){return this.Ad?a.Hca():!1}Np(c){c?this.CF--:this.CF++;this.V8()}V8(){this.Ad=this.nb&&this.x9&&0===this.CF}zC(){return this.nb&&a.zC()}DC(){return this.nb&&
this.jb().lj()&&a.DC()}async bw(c){if(c)for(const g of c)await this.lp(g)}HJ(c){return this.bw(this.Eb.oaa(c))}Ox(c){return this.oa.Ox(c.name,c.params)}VD(c){c=d.A(d.Event,c,!1);c.jc=this.ti;return c}h5(){var c={};for(const g of this.zc)c[g.Eh()]={value:g.au,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.ti=new self.OX(this,c);this.QR={tick:this.VD("tick")}}d5(){const c={};for(const g of this.ga().cF)c[g.Eh()]=g.TN();this.ti.e5(c)}lO(c,g){this.S9.set(c,g)}};self.C3_CreateRuntime=
d.bM.Ma;self.C3_InitRuntime=(c,g)=>c.El(g)}
{"use strict";const d=self.B;d.cZ=class extends d.ca{constructor(a,b){super();this.g=a;this.yo=new Map;this.q$=0;this.du=b.inputPort;b.outputPort.onmessage=e=>this.yO(e);this.TQ=b.maxNumWorkers;this.ou=1;this.eQ=this.gu=!1}async El(){}WX(a){this.du.postMessage({type:"_import_scripts",scripts:a})}n0(){this.du.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}o0(a){this.du.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}hB(a,b,e){e||(e=[]);const c=this.q$++;a=
{type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((g,n)=>{this.yo.set(c,{resolve:g,progress:void 0,reject:n,lI:!1})});this.du.postMessage(a,e);this.mO();return b}yO(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.v6(e,a.result);break;case "progress":this.u6(e,a.progress);break;case "error":this.t6(e,a.error);break;case "ready":this.w6();break;default:throw Error(`unknown message from worker '${b}'`);}}v6(a,b){const e=this.yo.get(a);if(!e)throw Error("invalid job ID");
e.lI||e.resolve(b);this.yo.delete(a)}u6(a,b){a=this.yo.get(a);if(!a)throw Error("invalid job ID");!a.lI&&a.progress&&a.progress(b)}t6(a,b){const e=this.yo.get(a);if(!e)throw Error("invalid job ID");e.lI||e.reject(b);this.yo.delete(a)}w6(){this.gu&&(this.gu=!1,this.ou++,this.ou<this.TQ?this.mO():this.du.postMessage({type:"_no_more_workers"}))}async mO(){if(!(this.ou>=this.TQ||this.gu||this.eQ||this.yo.size<=this.ou))try{this.gu=!0,(await this.g.Gs("create-job-worker")).outputPort.onmessage=a=>this.yO(a)}catch(a){this.eQ=
!0,this.gu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.ou} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let a=null,b="",e="",c=[],g="",n="",h="";const l=d.A(d.rT);function m(p,u){p=p[1];u=u[1];if("number"===typeof p&&"number"===typeof u)return p-u;p=""+p;u=""+u;return p<u?-1:p>u?1:0}d.C.ab=class extends d.Jp{constructor(p){super(p);this.Ue=this.g.ga().Ue;this.qd=this.g.ga().Jc();this.bu=this.po=0;this.ZP=new Map}m(){super.m()}Z(){this.g.Z()}Ia(p){this.g.Ia(p,null,null)}Bw(p,u){a&&p===b&&u===e||(a=new RegExp(p,u),b=p,e=u);a.lastIndex=0;return a}vK(p,u,q){if(p===g&&u===n&&
q===h)return c;const v=this.Bw(u,q);c=p.match(v);g=p;n=u;h=q;return c}async pE(p,u){if(u.length){this.po+=u.length;var q=[];for(const v of u)q.push(p.mL(v));await d.w_(q,()=>{this.bu++});this.bu++;this.bu===this.po&&(this.g.Ia(d.C.ab.L.WZ,null,null),this.po=this.bu=0)}}nP(p,u){for(const q of u)0===q.F.length&&p.vZ(q)}PN(){return l}i7(p){var u=this.g.ga();const q=u.Jc(),v=q.Fe(),t=v.ub(),w=t.Xc();var y=v.ej();const z=q.Ca(t),F=u.Ue,G=F.Ca();if(y)for(y=0;y<p&&!G.ac;++y)u.je(w),G.mc(y),t.Sf(v,z),u.Ab(w);
else for(u=0;u<p&&!G.ac;++u)G.mc(u),t.Sf(v,z);q.Ba();F.Ba();return!1}*t3(p){var u=this.g.ga();const q=u.Jc(),v=q.Fe(),t=v.ub(),w=t.Xc();var y=v.ej();const z=q.Ca(t),F=u.Ue,G=F.Ca();if(y)for(y=0;y<p&&!G.ac;++y)u.je(w),G.mc(y),yield*t.Jf(v,z),u.Ab(w);else for(u=0;u<p&&!G.ac;++u)G.mc(u),yield*t.Jf(v,z);q.Ba();F.Ba();return!1}g9(){var p=this.g.ga();const u=p.Jc(),q=u.Fe(),v=q.ub(),t=v.Xc();var w=q.ej();const y=u.Ca(v),z=p.Ue,F=z.Ca();if(w)for(w=0;!F.ac;++w)p.je(t),F.mc(w),v.Sf(q,y)||F.Kg(),p.Ab(t);else for(p=
0;!F.ac;++p)F.mc(p),v.Sf(q,y)||F.Kg();u.Ba();z.Ba();return!1}*M3(){var p=this.g.ga();const u=p.Jc(),q=u.Fe(),v=q.ub(),t=v.Xc();var w=q.ej();const y=u.Ca(v),z=p.Ue,F=z.Ca();if(w)for(w=0;!F.ac;++w)p.je(t),F.mc(w),(yield*v.Jf(q,y))||F.Kg(),p.Ab(t);else for(p=0;!F.ac;++p)F.mc(p),(yield*v.Jf(q,y))||F.Kg();u.Ba();z.Ba();return!1}w4(p,u,q){var v=this.g.ga();const t=v.Jc(),w=t.Fe(),y=w.ub(),z=y.Xc(),F=w.ej(),G=t.Ca(y),Q=v.Ue,D=Q.Ca();D.ox(p);if(q<u)if(F)for(p=u;p>=q&&!D.ac;--p)v.je(z),D.mc(p),y.Sf(w,G),v.Ab(z);
else for(v=u;v>=q&&!D.ac;--v)D.mc(v),y.Sf(w,G);else if(F)for(p=u;p<=q&&!D.ac;++p)v.je(z),D.mc(p),y.Sf(w,G),v.Ab(z);else for(v=u;v<=q&&!D.ac;++v)D.mc(v),y.Sf(w,G);t.Ba();Q.Ba();return!1}*q3(p,u,q){var v=this.g.ga();const t=v.Jc(),w=t.Fe(),y=w.ub(),z=y.Xc(),F=w.ej(),G=t.Ca(y),Q=v.Ue,D=Q.Ca();D.ox(p);if(q<u)if(F)for(p=u;p>=q&&!D.ac;--p)v.je(z),D.mc(p),yield*y.Jf(w,G),v.Ab(z);else for(v=u;v>=q&&!D.ac;--v)D.mc(v),yield*y.Jf(w,G);else if(F)for(p=u;p<=q&&!D.ac;++p)v.je(z),D.mc(p),yield*y.Jf(w,G),v.Ab(z);
else for(v=u;v<=q&&!D.ac;++v)D.mc(v),yield*y.Jf(w,G);t.Ba();Q.Ba();return!1}x4(p){var u=this.g.ga();const q=u.Jc(),v=q.Fe(),t=v.ub(),w=t.Xc();var y=v.ej();const z=q.Ca(t),F=u.Ue,G=F.Ca(),Q=p.Jb(),D=p.R(),H=l.Ca();d.vc(H,D.da());if(y)for(let J=0,M=H.length;J<M&&!G.ac;++J)u.je(w),y=H[J],p.R().kj(y),Q&&y.Rh(),G.mc(J),t.Sf(v,z),u.Ab(w);else{D.Md(!1);p=D.F;d.D(p);p.push(null);for(let J=0,M=H.length;J<M&&!G.ac;++J)u=H[J],p[0]=u,Q&&u.Rh(),G.mc(J),t.Sf(v,z)}q.Ba();F.Ba();d.D(H);l.Ba();return!1}*r3(p){var u=
this.g.ga();const q=u.Jc(),v=q.Fe(),t=v.ub(),w=t.Xc();var y=v.ej();const z=q.Ca(t),F=u.Ue,G=F.Ca(),Q=p.Jb(),D=p.R(),H=l.Ca();d.vc(H,D.da());if(y)for(let J=0,M=H.length;J<M&&!G.ac;++J)u.je(w),y=H[J],p.R().kj(y),Q&&y.Rh(),G.mc(J),yield*t.Jf(v,z),u.Ab(w);else{D.Md(!1);p=D.F;d.D(p);p.push(null);for(let J=0,M=H.length;J<M&&!G.ac;++J)u=H[J],p[0]=u,Q&&u.Rh(),G.mc(J),yield*t.Jf(v,z)}q.Ba();F.Ba();d.D(H);l.Ba();return!1}y4(p,u){var q=this.g.ga();const v=q.Jc(),t=q.jf(),w=v.Fe(),y=w.ub(),z=y.Xc(),F=w.ej(),
G=v.Ca(y),Q=q.Ue,D=Q.Ca(),H=p.Jb(),J=p.R(),M=l.Ca();d.D(M);const P=J.da();for(let R=0,V=P.length;R<V;++R)M.push([P[R],t.Is(1,R)]);M.sort(m);1===u&&M.reverse();if(F)for(let R=0,V=M.length;R<V&&!D.ac;++R)q.je(z),u=M[R][0],p.R().kj(u),H&&u.Rh(),D.mc(R),y.Sf(w,G),q.Ab(z);else{J.Md(!1);p=J.F;d.D(p);p.push(null);for(let R=0,V=M.length;R<V&&!D.ac;++R)q=M[R][0],p[0]=q,H&&q.Rh(),D.mc(R),y.Sf(w,G)}v.Ba();Q.Ba();d.D(M);l.Ba();return!1}*s3(p,u){var q=this.g.ga();const v=q.Jc(),t=q.jf(),w=v.Fe(),y=w.ub(),z=y.Xc(),
F=w.ej(),G=v.Ca(y),Q=q.Ue,D=Q.Ca(),H=p.Jb(),J=p.R(),M=l.Ca();d.D(M);const P=J.da();for(let R=0,V=P.length;R<V;++R)M.push([P[R],t.Is(1,R)]);M.sort(m);1===u&&M.reverse();if(F)for(let R=0,V=M.length;R<V&&!D.ac;++R)q.je(z),u=M[R][0],p.R().kj(u),H&&u.Rh(),D.mc(R),yield*y.Jf(w,G),q.Ab(z);else{J.Md(!1);p=J.F;d.D(p);p.push(null);for(let R=0,V=M.length;R<V&&!D.ac;++R)q=M[R][0],p[0]=q,H&&q.Rh(),D.mc(R),yield*y.Jf(w,G)}v.Ba();Q.Ba();d.D(M);l.Ba();return!1}Jx(p,u){let q=this.ZP.get(p);if(q)return q;if(!u)return null;
q={Mm:null,aB:new Map};this.ZP.set(p,q);return q}N3(p,u,q,v,t){u.ee().d0(q);v&&p.Ab(t)}*p3(p,u,q,v,t){yield*u.ee().sU(q);v&&p.Ab(t)}}}{"use strict";const d=self.B;d.C.ab.Mn=class extends d.ca{constructor(a){super();this.I=a;this.g=a.H();this.ah=a.xb()}ld(){}m(){this.ah=this.g=this.I=null}}}{"use strict";const d=self.B;d.C.ab.Instance=class extends d.ca{constructor(a){super();this.fa=a;this.I=this.fa.G();this.tc=this.I.tc;this.g=this.fa.H()}m(){this.g=this.tc=this.I=this.fa=null}}}
{"use strict";const d=self.B,a=[];d.C.ab.L={Cda(){return!0},wL(){return!0},XZ(){return!0},f_(){return!0},c_(){return!0},zn(){return this.g.zn()},OJ(){const b=this.g.Ee();return b.JF?!1:!b.zo},P1(){const b=this.g.jf().Zi();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Ij;b.set("TriggerOnce_lastTick",c);return this.g.wG||e!==c-1},Bda(b){const e=this.g.jf().Zi(),c=e.get("Every_lastTime")||0,g=this.g.yg();e.has("Every_seconds")||e.set("Every_seconds",
b);const n=e.get("Every_seconds");if(g>=c+n)return e.set("Every_lastTime",c+n),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",b),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},zs(b){return(b=this.g.ga().fK(b))&&b.zs()},yn(){return this.g.yn()},KC(){return d.Qc.KC},YZ(){return!0},MZ(){return!0},vda(){return!0},d_(){return!0},e_(){return!0},xL(){return!0},yL(){return!0},Gfa(b){return!!this.g.Ti(b)},Kea(b){switch(b){case 0:return"browser"===d.Qc.vB;case 1:return"iOS"===
d.Qc.Cp;case 2:return"Android"===d.Qc.Cp;case 8:return"cordova"===d.Qc.vB;case 9:return"scirra-arcade"===this.g.em;case 10:return"nwjs"===d.Qc.vB;case 13:return"windows-uwp"===this.g.em;default:return!1}},Iga(b,e,c){return this.Bw(e,c).test(b)},WT(b,e,c){return d.compare(b,e,c)},Tca(b,e,c){return b>=e&&b<=c},XT(b,e,c){return d.compare(b.he(),e,c)},Uca(b){return!!b.he()},cda(b,e){const c=this.g.yg();return 0===b?(b=this.g.jf().Zi(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Hea(b){return isNaN(b)},lT(b,e,c){return d.pr(d.qb(b),d.qb(c))<=d.qb(e)},IY(b,e){return d.Ye(d.qb(b),d.qb(e))},GY(b,e,c){b=d.qb(b);e=d.qb(e);c=d.qb(c);return d.Ye(c,e)?d.Ye(b,e)&&!d.Ye(b,c):!(!d.Ye(b,e)&&d.Ye(b,c))},Rea(b,e){return"number"===typeof b?0===e:1===e},Ada(b){return!!b},iga(b,e,c,g){if(!b)return!1;const n=this.PN(),h=n.Ca(),l=b.R();d.vc(h,l.da());l.Gb&&d.D(l.Tb);const m=this.g.jf();let p=0;for(let u=0,q=h.length;u<q;++u){const v=h[u];h[p]=v;e=m.Is(1,u);g=m.Is(3,
u);d.compare(e,c,g)?++p:l.Wl(v)}d.Ce(h,p);l.Js(h);e=!!h.length;d.D(h);n.Ba();b.Nb();return e},jga(b,e){if(!b)return!1;const c=this.PN(),g=c.Ca(),n=b.R();d.vc(g,n.da());n.Gb&&d.D(n.Tb);const h=this.g.jf();let l=0;for(let m=0,p=g.length;m<p;++m){const u=g[m];g[l]=u;(e=h.Is(1,m))?++l:n.Wl(u)}d.Ce(g,l);n.Js(g);e=!!g.length;d.D(g);c.Ba();b.Nb();return e},oga(b,e){if(!b)return!1;const c=b.R(),g=c.da();e=Math.floor(e);if(e>=g.length)return!1;c.Kl(g[e]);b.Nb();return!0},sga(b){if(!b)return!1;const e=b.R(),
c=e.da(),g=Math.floor(this.g.Fp()*c.length);if(g>=c.length)return!1;e.Kl(c[g]);b.Nb();return!0},hga(b){if(!b||!b.F.length)return!1;b.R().Md(!0);b.Nb();return!0},qga(b,e,c){if(!b)return!1;const g=b.R();var n=g.da();const h=this.g.ub().sd,l=this.g.jf().yi;g.Gb?(d.vc(a,n),g.Sv(),g.Md(!1)):h?(d.vc(a,g.Tb),d.D(g.Tb)):(d.vc(a,g.F),d.D(g.F));for(let m=0,p=a.length;m<p;++m)n=a[m],d.xor(n.j().kp(e,c),l)?g.Rn(n):g.Wl(n);b.Nb();return d.xor(!!g.F.length,l)},nga(b){if(!b)return!1;var e=b.Ta;let c=null;const g=
this.g.Kk;for(let n=g.length-1;0<=n;--n){const h=g[n];if(e){if(h.G().nB(b)){c=h;break}}else if(h.G()===b){c=h;break}}c||(e=b.da(),e.length&&(c=e.Yd(-1)));if(!c)return!1;b.R().Kl(c);b.Nb();return!0},Lga(b){return this.g.Ad?this.t3(b):this.i7(b)},Tja(){return this.g.Ad?this.M3():this.g9()},Ida(b,e,c){return this.g.Ad?this.q3(b,e,c):this.w4(b,e,c)},XJ(b){return this.g.Ad?this.r3(b):this.x4(b)},Jda(b,e,c){return this.g.Ad?this.s3(b,c):this.y4(b,c)},Yea(b){return b?b.yc():!1},Vea(b){return b?!b.F.length:
!1},Uea(b,e,c){return b?d.compare(100*b.He(),e,c):!1},WZ(){return!0},Fea(){return 0<this.po}}}
{"use strict";const d=self.B;function a(h,l){const m=h[0]-l[0];return 0!==m?m:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const e=[],c=[],g=d.A(d.Rect),n=d.A(d.Wa);d.C.ab.cc={Nia(h,l){h.Uf(l)},jT(h,l){h.Il()&&"number"!==typeof l&&(l=parseFloat(l));h.Uf(h.he()+l)},nja(h,l){h.Il()&&h.Uf(h.he()-l)},Yha(h,l){h.Uf(!!l)},uja(h){h.Uf(!h.he())},V_(){this.g.ga().T_()},lU(h,l,m,p,u){h&&l&&(m=this.g.yB(h,l,m,p,u))&&(u&&l.BD(m),l=this.g.ga(),l.$d(!0),m.cy(),l.$d(!1),h.R().kj(m),m.Jb()&&m.Rh())},mda(h,l,m,p,u){h&&
l&&(h=this.g.dC(h))&&d.C.ab.cc.lU.call(this,h,l,m,p,u)},Hs(h,l,m,p,u,q,v,t,w,y){if(h){var z=this.g.Ha();if(q&&(z=this.g.Ua.pp(q),!z))return;q=null;if("number"!==typeof v||0<=v)if(q=z.T(v),!q)return;g.set(l,m,p,u);l=z.Hs(h,g,q,t,w,y);h.R().Js(l);h.Nb()}},cja(){const h=this.Ue;h.ZK()&&h.Bh().Kg()},Qp(h,l){(h=this.g.ga().fK(h))&&(0===l?h.Qp(!1):1===l?h.Qp(!0):h.Qp(!h.zs()))},Kia(h){this.g.wD(h)},Hia(h,l){0>l&&(l=0);if(h){h=h.R().da();for(const m of h)m.wD(l)}},Bha(h){if(h){h=h.R().da();for(const l of h)l.a0()}},
LD(h){if(!(0>h))return this.g.ga().iB().zY(h),!0},Mja(h){this.g.ga().iB().xY(h);return!0},Lja(){const h=this.g.ga();h.iB().lY(h.fX());return!0},Pia(h){h=h.toLowerCase();for(const l of this.g.ga().Ef)l.XY()&&l.Mu===h&&l.tD()},async JM(h,l,m,p,u,q){const v=this.g.W;v&&(this.Z(),await v.JM(0===h?"image/png":"image/jpeg",l/100,m,p,u,q),await this.g.me(d.C.ab.L.MZ,null))},$ha(h,l){if(!(0>=h||0>=l)){this.g.Ws(h,l);var m=this.g.Ha();m.Mv();for(const p of m.Lb)p.KD();if(m=this.g.W)"off"!==m.hs()&&this.g.X0(h,
l),m.Sc(m.Im,m.Hm,!0),this.g.Z()}},jia(h){const l=this.g.W;l&&"off"!==l.hs()&&(l.nM(0!==h?"high":"low"),l.Sc(l.Im,l.Hm,!0))},Jn(h){this.g.l0(h)},cfa(h){this.g.lZ(h)},dfa(h){this.g.PC(h)},lia(){},zha(){for(const h of this.g.Ua.bi)h.Y_()},Iia(h){this.g.$0(0!==h)},yM(h){this.g.yM(h)},Sia(h,l){if(h){var m=h.R().da(),p=this.g.Ha(),u=h.Ta;h=h.Ug;for(let v=0,t=m.length;v<t;++v){var q=m[v];const w=q.j();if(!w)continue;let y;y=u?q.fe(l+q.G().WB(h)):q.fe(l);e.push([w.T().ya(),w.Bg()]);c.push([q,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let v=0,t=e.length;v<t;++v)m=c[v][0],u=p.xw(e[v][0]),h=e[v][1],q=u.F,q[h]!==m&&(q[h]=m,m.j().ut(u),u.Vf(),l=!0);l&&this.g.Z();d.D(e);d.D(c)}}},Tda(h){if(!this.g.Dj){var l=this.g.Ua;l.yp()||l.Qv(h)}},Uda(h){if(!this.g.Dj){var l=this.g.Ua;l.yp()||(h=l.pp(h))&&l.Qv(h)}},xfa(h){if(!this.g.Dj){var l=this.g.Ua;if(!l.yp()){var m=l.bi,p=m.indexOf(l.wb());h&&0===p||(h||p!==m.length-1)&&l.Qv(m[p+(h?-1:1)])}}},$_(){if(!this.g.Dj){var h=this.g.Ua;h.yp()||(h.Qv(h.wb()),this.g.ga().U_())}},T0(h,
l){h&&h.Hg(l)},sia(h,l){h&&h.jj(l/100)},uia(h,l){h&&h.AM(l)},via(h,l){h&&h.d1(l)},mia(h,l){h&&h.od(d.qb(+l))},wia(h,l,m){h&&(h.Os(!0),h.Ph(l),h.Qh(m))},Aha(h){h&&h.Os(!1)},tia(h,l,m){h&&h.Y0(l/100,m/100)},yia(h,l){h&&h.Ke(+l)},nia(h,l){h&&(n.Hr(l),n.ea(),h=h.Ck,h.nl(n)||(h.Qj(n),this.Z()))},xia(h,l){h&&h.o1(l)},oia(h,l){h&&h.tf(l)},pia(h,l,m){h&&(h=h.Ka,m=h.ak(m))&&(l=1===l,m.yb!==l&&(m.kx(l),h.Ul(),this.g.Z()))},qia(h,l,m,p){if(h&&(h=h.Ka,l=h.ak(l))&&(h=h.Mf(l.ya()),m=Math.floor(m),!(0>m||m>=h.length))){var u=
l.bb.Aw(m);if("color"===u){n.Hr(p);m=h[m];if(n.nl(m))return;m.Qj(n)}else{"percent"===u&&(p/=100);if(h[m]===p)return;h[m]=p}l.yb&&this.g.Z()}},ria(h,l){h&&h.K0(l)},Dia(h){this.g.Ha().rD(+h)},zia(h){this.g.Ha().od(d.qb(+h))},Aia(h,l){const m=this.g.Ha().Ka;if(l=m.ak(l))h=1===h,l.yb!==h&&(l.kx(h),m.Ul(),this.g.Z())},Bia(h,l,m){var p=this.g.Ha().Ka;if(h=p.ak(h))if(p=p.Mf(h.ya()),l=Math.floor(l),!(0>l||l>=p.length)){var u=h.bb.Aw(l);if("color"===u){n.Hr(m);l=p[l];if(n.nl(l))return;l.Qj(n)}else{"percent"===
u&&(m/=100);if(p[l]===m)return;p[l]=m}h.yb&&this.g.Z()}},Eia(h,l){this.g.Ha().r1(h/100,l/100)},Cia(h){const l=this.g.Ha();0===h?l.CM():l.zM()},Qha(h){this.g.Ha().Ph(h)},Rha(h){this.g.Ha().Qh(h)},Oha(h,l){const m=this.g.Ha();m.Ph(h);m.Qh(l)},Pha(h){if(h&&(h=h.iK())&&(h=h.j())){var l=this.g.Ha();l.Ph(h.ia());l.Qh(h.ja())}},async nZ(h){const l=this.g.wb();l&&h&&!this.g.Dj&&await this.pE(l,h.Ta?h.lo:[h])},async bfa(h){await d.C.ab.cc.nZ.call(this,this.g.dC(h))},Gja(h){const l=this.g.wb();l&&h&&this.nP(l,
h.Ta?h.lo:[h])},R1(h){d.C.ab.cc.R1.call(this,this.g.dC(h))},Hja(){const h=this.g.wb();if(h){var l=h.V4();this.nP(h,l)}},async $ea(h){const l=this.g.wb();h&&l&&!this.g.Dj&&await this.pE(l,h.QN())},async afa(h){const l=this.g.wb();(h=this.g.Ua.pp(h))&&l&&!this.g.Dj&&await this.pE(l,h.QN())},nx(h){const l=this.qd.iW();if(l)switch(l.$P){case 1:"number"===typeof h&&l.nx(h);break;case 2:"string"===typeof h&&l.nx(h);break;case 3:l.nx(h)}},gfa(h,l,m){var p=this.Jx(h.toLowerCase(),!0);const u=p.aB,q=l.toLowerCase();
u.has(q)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(u.values())||p.Mm)&&0!==p.al!==(0!==m.al)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):u.set(q,m)},hfa(h,l){const m=this.Jx(h.toLowerCase(),!0);m.Mm&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=d.first(m.aB.values())||m.Mm;p&&
0!==p.al!==(0!==l.al)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):m.Mm=l},Lca(h,l,m){m=Math.floor(m);var p=this.Jx(h.toLowerCase(),!1);if(p){var u=p.aB.get(l.toLowerCase());if(!u)if(p.Mm)u=p.Mm,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(u.Jh())if(0!==u.al)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);
else{h=this.g;l=h.ga();var q=l.ub();p=q.Yc();var v=0<p.length;v&&l.Rf(p);var t=[];if(q=l.JB(q)){q=q.dg;for(let w=m,y=q.length;w<y;++w)t.push(q[w].he())}m=u.dg;for(let w=t.length,y=m.length;w<y;++w)t.push(m[w].ro);return h.Ad?this.p3(l,u,t,v,p):this.N3(l,u,t,v,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.C.ab.hf={wla:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Pka:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},sl(a){return a.toString()},uv(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Fp()*a:this.g.Fp()*(b-a)+a},$$(...a){return a[Math.floor(this.g.Fp()*a.length)]},lma(){return Math.PI},ula(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Nma(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.qb(a))},cos(a){return Math.cos(d.qb(a))},tan(a){return Math.tan(d.qb(a))},asin(a){return d.th(Math.asin(a))},acos(a){return d.th(Math.acos(a))},atan(a){return d.th(Math.atan(a))},exp(a){return Math.exp(a)},Saa(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b>g&&(b=g)}return b},ea(a,b,e){return d.ea(a,b,e)},ov(a,b,e,c){return d.tr(a,b,e,c)},angle(a,b,e,c){return d.th(d.hI(a,b,e,c))},Hd(a,b,e){return d.Hd(a,b,e)},bB(a,b,e){return d.bB(a,b,e)},VA(a,b,e,c){return d.VA(a,b,e,c)},cS(a,b,e,c,g){return d.cS(a,
b,e,c,g)},bS(a,b,e){return d.bS(a,b,e)},kka(a,b){return d.th(d.pr(d.qb(a),d.qb(b)))},lka(a,b,e){return d.th(d.fI(d.qb(a),d.qb(b),e))},mka(a,b,e){return d.th(d.gI(d.qb(a),d.qb(b),d.qb(e)))},Zma(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},hna(a,b){return(a|0)^1<<(b|0)},nla(a,b){return(a|0)&1<<(b|0)?1:0},bma(){return"\n"},ona(a){return"string"===typeof a?a.toUpperCase():""},Ula(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},ina(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},jna(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Vr(b),"i")):-1},Oka(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.Vr(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.Vr(b),"gi"),e):"string"===typeof a?a:""},yma(a,b,e){b=this.Bw(b,e);return a?a.search(b):-1},xma(a,b,e,c){b=this.Bw(b,e);return a?a.replace(b,c):""},wma(a,b,e){return(a=this.vK(a.toString(),b,e))?a.length:0},vma(a,b,e,c){c=Math.floor(c);a=this.vK(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},Dna(a,b){let e=0>a?"-":"";0>a&&(a=-a);e+="0".repeat(Math.max(b-
a.toString().length,0));return e+a.toString()},qna(a){return encodeURIComponent(a)},pna(a){return decodeURIComponent(a)},gS(){return this.g.Ey},fna(){return this.g.Xd},zna(){return(Date.now()-this.g.wm)/1E3},mna(){return Date.now()},time(){return this.g.yg()},ena(){return this.g.Ij},fma(){return this.g.eH},Ska(){return this.g.Ty},zka(){return this.g.Nz},pla(){return this.g.ww()},Cna(){return this.g.W.Pg},Bna(){return this.g.W.Og},jma(){return this.g.gg},ima(){return this.g.fg},hma(){return this.g.gg},
gma(){return this.g.fg},Qma(){return this.g.Ha().mf()},Rma(){return this.g.Ha().nf()},Pla(){return this.g.Ha().wa()},Qla(){return this.g.Ha().Ec},Ola(){return d.th(this.g.Ha().Ga())},Paa(){return this.g.Ha().ba()},Oaa(){return this.g.Ha().aa()},vna(a){return(a=this.g.Ha().T(a))?a.Gm.M:0},xna(a){return(a=this.g.Ha().T(a))?a.Gm.K:0},wna(a){return(a=this.g.Ha().T(a))?a.Gm.$:0},tna(a){return(a=this.g.Ha().T(a))?a.Gm.V:0},yna(a){return(a=this.g.Ha().T(a))?a.Gm.width():0},una(a){return(a=this.g.Ha().T(a))?
a.Gm.height():0},uka(a,b,e){return(a=this.g.Ha().T(a))?a.ff(b,e)[0]:0},vka(a,b,e){return(a=this.g.Ha().T(a))?a.ff(b,e)[1]:0},Lla(a,b,e){return(a=this.g.Ha().T(a))?a.Bn(b,e)[0]:0},Mla(a,b,e){return(a=this.g.Ha().T(a))?a.Bn(b,e)[1]:0},Hla(a){return(a=this.g.Ha().T(a))?a.Ec:0},Cla(a){return(a=this.g.Ha().T(a))?d.th(a.Pd):0},Ela(a){return(a=this.g.Ha().T(a))?100*a.He():0},Ila(a){return(a=this.g.Ha().T(a))?a.Gi:0},Jla(a){return(a=this.g.Ha().T(a))?a.mf():0},Kla(a){return(a=this.g.Ha().T(a))?a.nf():0},
Fla(a){return(a=this.g.Ha().T(a))?100*a.Cd:0},Gla(a){return(a=this.g.Ha().T(a))?100*a.Dd:0},Nla(a){return(a=this.g.Ha().T(a))?a.Va():0},Dla(a){return(a=this.g.Ha().T(a))?a.ya():-1},tka(){const a=this.g.W;return a?a.AH:""},Tla(a){const b=this.Ue;return b.ZK()?a?(a=b.RV(a))?a.ya():0:b.Bh().ya():0},Oma(){return this.g.Co},ska(a,b,...e){var c=this.Jx(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var g=c.aB.get(b.toLowerCase());
if(!g)if(c.Mm)g=c.Mm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.al;const n=g.js();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.Jh())return n;a=this.g.ga();b=a.ub().Yc();const h=0<b.length;h&&a.Rf(b);const l=g.dg;for(let m=e.length,p=l.length;m<p;++m)e.push(l[m].ro);
g=g.ee();e=g.eD(g.Yc(),c,n,...e);h&&a.Ab(b);return e},Sla(){return this.g.ad.Dz},sla(){return 0===this.po?1:this.bu/this.po},Be(){return this.g.us()?"webgpu":"webgl"},Bma(){return this.g.us()?"<unavailable>":this.g.rn().av},tla(){let a=this.g.jb().mW();return Math.round(100*a/1048576)/100},Cma(a,b,e){return d.l_(a,b,e)},Fma(a,b,e){return d.EL(a/100,b/100,e/100)},Dma(a,b,e,c){return d.bx(a/100,b/100,e/100,c/100)},Gma(a,b,e){return d.EL(a/255,b/255,e/255)},Ema(a,b,e,c){return d.bx(a/255,b/255,e/255,
c/255)},pma(){return this.g.$z},qma(){return this.g.nR},Cka(){return this.g.ub().fc.wa()},Bka(){return this.g.ub().vq}}}{"use strict";const d=self.B;d.C.Text=class extends d.Jp{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.B;d.C.Text.Mn=class extends d.ix{constructor(a){super(a)}m(){super.m()}ld(){}Ap(){}Hn(){}}}
{"use strict";const d=self.B,a=self.vh,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,n=new d.md;new d.Wa;d.C.Text.Instance=class extends d.gD{constructor(m,p){super(m);this.Kc="";this.Hk=!0;this.ni="Arial";this.Hj=12;this.Yg=0;this.Qe=this.Pe=!1;this.Ya=d.A(d.Wa);this.Ae=this.Ne=0;this.Nj=!0;this.Jj=this.jr=-1;this.$u=0;this.Dc=d.A(d.U.ZC,this.g.jb(),{timeout:5});this.Dc.SA=()=>this.g.Z();this.Dc.sM();p&&(this.Kc=p[0],this.Hk=!!p[1],this.ni=p[2],this.Hj=p[3],this.Yg=
p[4],this.Pe=!!p[5],this.Qe=!!p[6],this.Ne=p[8],this.Ae=p[9],this.Nj=0===p[10],m=p[7],this.Ya.Ir(m[0],m[1],m[2]),this.j().Hg(p[11]));this.Od()}m(){this.Vl();this.Dc.m();this.Dc=null;super.m()}Od(){const m=this.Dc;m.Vs(this.Kc);m.r0(this.Hk);m.mD(this.ni);m.wM(this.Yg);m.fM(this.Pe);m.uM(this.Qe);m.Nl(this.Ya);m.pM(e[this.Ne]);m.HM(c[this.Ae]);m.t1(this.Nj?"word":"character")}QE(){const m=this.j();this.Dc.mx(this.Hj);this.Dc.J0(m.gX());var p=m.T();p=p.gk()*p.YJ(m.xd());this.Dc.Sc(m.ba(),m.aa(),p)}gf(m){var p=
this.j();this.QE();const u=this.Dc.Jd();if(u){var q=p.T();if(0===p.Ga()&&0===q.Ga()&&0===p.xd()&&!p.qf()&&q.PL()){p=p.Ri();const [v,t]=q.fj(p.ob,p.pb),[w,y]=q.fj(p.Rb,p.Sb);p=v-Math.round(v);const z=t-Math.round(t);g.set(v,t,w,y);g.offset(-p,-z);n.qh(g);const [F,G]=m.wK(m.os());this.g.W.kD(m,F,G);m.vf(u);m.Fn(n,this.Dc.bj());q.$x(m)}else m.vf(u),p.qf()?this.dE(p,m):this.eE(p,m)}}eE(m,p){m=m.Ri();this.g.Nk&&(m=this.CO(m));p.Fn(m,this.Dc.bj())}dE(m,p){const u=m.IK();if(m.bL()){m.Ov(g,n,!1);let q=n;
this.g.Nk&&(q=this.CO(q));u.sJ(m.aj(),q,this.Dc.bj());m.pD(!1)}u.gf(p)}CO(m){const p=m.ob-Math.round(m.ob),u=m.pb-Math.round(m.pb);if(0===p&&0===u)return m;n.ta(m);n.offset(-p,-u);return n}nd(){const m={t:this.Kc,c:this.Ya.toJSON(),fn:this.ni,ps:this.Hj};this.Hk&&(m.bbc=this.Hk);0!==this.Ne&&(m.ha=this.Ne);0!==this.Ae&&(m.va=this.Ae);this.Nj||(m.wr=this.Nj);0!==this.Yg&&(m.lho=this.Yg);this.Pe&&(m.b=this.Pe);this.Qe&&(m.i=this.Qe);-1!==this.Jj&&(m.tw={st:this.jr,en:this.Jj,l:this.$u});return m}Zc(m){this.Vl();
this.Kc=m.t;this.Ya.rl(m.c);this.ni=m.fn;this.Hj=m.ps;this.Hk=m.hasOwnProperty("bbc")?m.bbc:!1;this.Ne=m.hasOwnProperty("ha")?m.ha:0;this.Ae=m.hasOwnProperty("va")?m.va:0;this.Nj=m.hasOwnProperty("wr")?m.wr:!0;this.Yg=m.hasOwnProperty("lho")?m.lho:0;this.Pe=m.hasOwnProperty("b")?m.b:!1;this.Qe=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.jr=m.st,this.Jj=m.en,this.$u=m.l);this.Od();-1!==this.Jj&&this.Xl()}kc(m){switch(m){case 0:return this.Kc;case 1:return this.Hk;case 2:return this.ni;
case 3:return this.Hj;case 4:return this.Yg;case 5:return this.Pe;case 6:return this.Qe;case 7:return b[0]=this.Ya.Pa,b[1]=this.Ya.Sa,b[2]=this.Ya.Ra,b;case 8:return this.Ne;case 9:return this.Ae;case 10:return this.Nj?1:0}}Fg(m,p){switch(m){case 0:if(this.Kc===p)break;this.Kc=p;this.Od();break;case 1:if(this.Hk===!!p)break;this.Hk=!!p;this.Od();break;case 2:if(this.ni===p)break;this.ni=p;this.Od();break;case 3:if(this.Hj===p)break;this.Hj=p;this.Od();break;case 4:if(this.Yg===p)break;this.Yg=p;this.Od();
break;case 5:if(this.Pe===!!p)break;this.Pe=!!p;this.Od();break;case 6:if(this.Qe===!!p)break;this.Qe=!!p;this.Od();break;case 7:m=this.Ya;if(m.Pa===p[0]&&m.Sa===p[1]&&m.Ra===p[2])break;this.Ya.Ir(p[0],p[1],p[2]);this.Od();break;case 8:if(this.Ne===p)break;this.Ne=p;this.Od();break;case 9:if(this.Ae===p)break;this.Ae=p;this.Od();break;case 10:this.Nj!==(0===p)&&(this.Nj=0===p,this.Od())}}Zx(m){this.Kc!==m&&(this.Kc=m,this.Dc.Vs(m),this.g.Z())}H8(m,p){this.Zx(m);this.jr=this.g.oC();this.Jj=this.jr+
p/this.za().XV();this.$u=d.wl.LM(m).length;this.Dc.lD(0);this.Xl()}Vl(){this.Jj=this.jr=-1;this.$u=0;this.Dc.lD(-1);this.xt()}m4(){-1!==this.Jj&&(this.Vl(),this.Ia(d.C.Text.L.BL),this.g.Z())}e8(m){this.ni!==m&&(this.ni=m,this.Dc.mD(m),this.g.Z())}V7(m){m=!!m;this.Pe!==m&&(this.Pe=m,this.Dc.fM(m),this.g.Z())}o8(m){m=!!m;this.Qe!==m&&(this.Qe=m,this.Dc.uM(m),this.g.Z())}f8(m){this.Hj!==m&&(this.Hj=m,this.g.Z())}d8(m){this.Ya.nl(m)||(this.Ya.Qj(m),this.Dc.Nl(this.Ya),this.g.Z())}aP(m){this.Yg!==m&&(this.Yg=
m,this.Od(),this.g.Z())}i8(m){this.Ne!==m&&(this.Ne=m,this.Od(),this.g.Z())}fP(m){this.Ae!==m&&(this.Ae=m,this.Od(),this.g.Z())}B8(m){m=!!m;this.Nj!==m&&(this.Nj=m,this.Od(),this.g.Z())}U4(){this.QE();return this.Dc.jX()}T4(){this.QE();return this.Dc.iX()}le(){var m=this.g.oC();m>=this.Jj?(this.Vl(),this.Ia(d.C.Text.L.BL),this.g.Z()):(m=d.iba(this.jr,this.Jj,m,this.$u),m=Math.floor(m),m!==this.Dc.ho&&(this.Dc.lD(m),this.g.Z()))}Bl(){return self.RX}};const h=new WeakMap,l=new Map([["top",0],["center",
1],["bottom",2]]);self.RX=class extends self.Ow{constructor(){super();h.set(this,self.xs.ft().ma)}get text(){return h.get(this).Kc}set text(m){a.Ld(m);const p=h.get(this);p.Vl();p.Zx(m)}set lineHeight(m){a.qk(m);h.get(this).aP(m)}get lineHeight(){return h.get(this).Yg}set verticalAlign(m){a.Ld(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");h.get(this).fP(m)}get verticalAlign(){return c[h.get(this).Ae]}}}
{"use strict";const d=self.B;d.C.Text.L={bda(a,b){return b?this.Kc===a:d.Om(this.Kc,a)},Oea(){return-1!==this.Jj},BL(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Wa);d.C.Text.cc={Vs(b){this.Vl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Zx(b.toString())},pca(b){this.Vl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Zx(this.Kc+b)},Dja(b,e){this.Vl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.H8(b.toString(),e)},iia(b,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.ni||c!==this.Pe||g!==this.Qe)this.e8(b),this.V7(c),
this.o8(g)},mx(b){this.f8(b)},I0(b){a.Hr(b);a.ea();this.d8(a)},s1(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},A0(b){this.j().tf(b);this.g.Z()},Cja(){this.m4()},wM(b){this.aP(b)},kia(b){this.i8(b)},Mia(b){this.fP(b)},Oia(b){this.B8(0===b)}}}{"use strict";const d=self.B;d.C.Text.hf={Text(){return this.Kc},vga(){return this.Hk?d.wl.LM(this.Kc):this.Kc},Dda(){return this.ni},NV(){return this.Hj},sja(){return this.U4()},rja(){return this.T4()},Zea(){return this.Yg}}}
{"use strict";const d=self.B;d.C.Le=class extends d.Jp{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.B;d.C.Le.Mn=class extends d.ix{constructor(a){super(a);this.pd=a.pd}m(){d.D(this.pd);super.m()}ld(){for(const a of this.pd)a.hZ(this.g)}Ap(a){const b={Oi:this.g.Vc};return Promise.all(this.pd.map(e=>e.iZ(a,b)))}Hn(){for(const a of this.pd)a.G_()}ax(){this.qP()}qP(){for(const a of this.I.Daa())a.ma.OE()}$r(a){d.C.Le.SV(this,a)}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.md),e=d.A(d.Ys);d.C.Le.Instance=class extends d.gD{constructor(g,n){super(g);let h=!0,l="",m=0,p=!0;n&&(h=!!n[0],l=n[1],m=n[2],p=n[3]);this.Db=this.I.$J(l)||this.I.pd[0];this.mb=d.ea(m,0,this.Db.rd.length-1);this.pe=this.Db.zl(this.mb);n=this.pe.lf();this.sq=n.Jd();this.BF=n.bj();this.Ot=n.Ew();this.tX();g.Ms(2,!0);g.Ms(1,0<=this.Db.hk());this.xj=Math.abs(this.Db.hk());this.rq=this.Db.sR;this.iy=d.A(d.Bs);this.tj=this.pi=0;this.yP="";this.Kt=-1;this.lq=
"";this.EP=0;g=this.j();this.w9=g.Ri();g.Hg(h);g.Ls(p);g.Sp(this.pe.dk());g.Tp(this.pe.ek());g.vD(this.pe.$n);g.Oa();1===this.I.pd.length&&1===this.I.pd[0].rd.length||0===this.xj||this.Xl()}m(){this.iy=this.sq=this.pe=this.Db=null;super.m()}Ch(){return this.pe.lf()}xn(){return!0}Dp(){this.sq=null}DL(){this.OE()}gf(g){var n=this.sq;null!==n&&(g.vf(n),n=this.j(),n.qf()?this.dE(n,g):this.eE(n,g))}eE(g,n){let h=this.w9;this.g.Nk&&(h=g.FL(h));n.B_(h,this.Ot)}dE(g,n){const h=g.IK();if(g.bL()){g.Ov(a,b,
!1);let l=b;this.g.Nk&&(l=g.FL(l));h.sJ(g.aj(),l,this.Ot);g.pD(!1)}h.gf(n)}ds(){return this.iy.Y()}Rw(){return this.fa.ZB(2)}Mp(g){this.fa.Ms(2,g)}Uw(){return this.fa.ZB(1)}Qs(g){this.fa.Ms(1,g)}FC(){return this.fa.ZB(4)}qM(g){this.fa.Ms(4,g)}le(){this.lq&&this.xN();0<=this.Kt&&this.bE();const g=this.xj;if(this.Rw()&&0!==g){this.iy.wc(this.g.ks(this.fa));var n=this.ds(),h=this.pe,l=h.NP/g;if(!(n<this.pi+l)){var m=this.Db,p=this.rq,u=m.rd.length,q=m.Al(),v=m.oz,t=m.a$;this.Uw()?this.mb++:this.mb--;
this.pi+=l;this.mb>=u&&(t?(this.Qs(!1),this.mb=u-2):v?this.mb=p:(this.tj++,this.tj>=q?this.gE(!1):this.mb=p));0>this.mb&&(t?(this.mb=1,this.Qs(!0),v||(this.tj++,this.tj>=q&&this.gE(!0))):v?this.mb=p:(this.tj++,this.tj>=q?this.gE(!0):this.mb=p));this.mb=d.ea(this.mb,0,u-1);l=m.zl(this.mb);n>this.pi+l.NP/g&&(this.pi=n);this.Rx(h,l)}}else this.xt()}gE(g){this.mb=g?0:this.Db.rd.length-1;this.Mp(!1);this.yP=this.Db.wa();this.qM(!0);this.Ia(d.C.Le.L.LZ);this.Ia(d.C.Le.L.KZ);this.qM(!1);this.tj=0}Rx(g,n){if(g!==
n){var h=this.j(),l=g.lf();g=n.lf();var m=l.ba();l=l.aa();var p=g.ba(),u=g.aa();m!==p&&h.Th(h.ba()*(p/m));l!==u&&h.Oh(h.aa()*(u/l));h.Sp(n.dk());h.Tp(n.ek());h.vD(n.$n);h.Oa();this.pe=n;this.sq=g.Jd();this.BF=g.bj();this.Ot=g.Ew();n=this.za().Ac;for(let q=0,v=n.length;q<v;++q);this.Ia(d.C.Le.L.TZ);this.g.Z()}}G8(g){this.Mp(!0);this.pi=this.ds();1===g&&0!==this.mb&&(this.Kt=0,this.FC()||this.bE());this.Xl()}Q7(g,n){this.lq=g;this.EP=n;this.Xl();this.FC()||this.xN()}NN(){return this.lq?this.lq:this.Db.wa()}R7(g){isFinite(g)&&
(this.Kt=g,this.FC()||this.bE())}T7(g){this.xj=Math.abs(g);this.Qs(0<=g);0<this.xj&&this.Xl()}JN(){return this.Uw()?this.xj:-this.xj}S7(g){this.rq=g=d.ea(Math.floor(g),0,this.Db.rd.length-1)}xN(){const g=this.pe;var n=this.I.$J(this.lq);this.lq="";!n||n===this.Db&&this.Rw()||(this.Db=n,this.Qs(0<=n.hk()),this.xj=Math.abs(n.hk()),this.rq=n.sR,this.mb=d.ea(this.mb,0,this.Db.rd.length-1),1===this.EP&&(this.mb=0),this.Mp(!0),this.pi=this.ds(),n=this.Db.zl(this.mb),this.Rx(g,n))}bE(){const g=this.pe;var n=
this.mb;this.mb=d.ea(Math.floor(this.Kt),0,this.Db.rd.length-1);this.Kt=-1;n!==this.mb&&(n=this.Db.zl(this.mb),this.Rx(g,n),this.pi=this.ds())}OE(){const g=this.pe.lf();this.sq=g.Jd();this.BF=g.bj();this.Ot=g.Ew();this.j().pD(!0)}Jd(){return this.sq}bj(){return this.BF}Ew(){return this.Ot}aC(){return this.pe.aC()}jn(g){const n=this.pe,h=this.j();if("string"===typeof g)g=n.HW(g);else if("number"===typeof g)g=n.GW(g-1);else throw new TypeError("expected string or number");if(!g)return[h.ia(),h.ja()];
e.ta(g.nH);if(h.qf()){const [l,m]=h.aj().QM(e.N,e.J);e.set(l,m)}e.offset(-n.dk(),-n.ek());e.scale(h.ba(),h.aa());e.rotate(h.Ga());e.offset(h.ia(),h.ja());return[e.N,e.J]}gW(){return this.j().ik().wS()}bK(g){g=Math.floor(g);const n=this.j();var h=n.ik();const l=h.wS();g===l&&(g=0);if(0>g||g>=l)return[0,0];h=h.td;return[h[2*g]+n.ia(),h[2*g+1]+n.ja()]}nd(){const g={a:this.Db.$a};0!==this.pi&&(g.fs=this.pi);var n=this.ds();0!==n&&(g.at=n);0!==this.mb&&(g.f=this.mb);0!==this.xj&&(g.cas=this.xj);1!==this.tj&&
(g.ar=this.tj);0!==this.rq&&(g.rt=this.rq);this.Rw()||(g.ap=this.Rw());this.Uw()||(g.af=this.Uw());n=this.j();n.Ih()&&(g.ce=n.Ih());return g}Zc(g){var n=this.G().ZV(g.a);n&&(this.Db=n);this.pi=g.hasOwnProperty("fs")?g.fs:0;this.iy.Set(g.hasOwnProperty("at")?g.at:0);n=g.hasOwnProperty("f")?g.f:0;this.mb=d.ea(n,0,this.Db.rd.length-1);this.xj=g.hasOwnProperty("cas")?g.cas:0;this.tj=g.hasOwnProperty("ar")?g.ar:1;n=g.hasOwnProperty("rt")?g.rt:0;this.rq=d.ea(n,0,this.Db.rd.length-1);this.Mp(g.hasOwnProperty("ap")?
!!g.ap:!0);this.Qs(g.hasOwnProperty("af")?!!g.af:!0);this.pe=n=this.Db.zl(this.mb);this.OE();const h=this.j();h.Sp(n.dk());h.Tp(n.ek());h.vD(n.$n);h.Ls(!!g.ce)}kc(g){const n=this.j();switch(g){case 3:return n.Ih();case 2:return d.ea(this.mb,0,this.Db.rd.length-1)}}Fg(g,n){var h=this.j();switch(g){case 3:h.Ls(!!n);break;case 2:this.Mp(!1);g=this.Db.rd.length-1;h=n=d.ea(n,0,g);n=this.Db.zl(this.mb);const l=this.Db.zl(h);this.Rx(n,l);this.mb=d.ea(h,0,g)}}Bl(){return self.PX}};const c=new WeakMap;self.PX=
class extends self.Ow{constructor(){super();c.set(this,self.xs.ft().ma)}get animationName(){return c.get(this).NN()}get imageWidth(){return c.get(this).Ch().ba()}get imageHeight(){return c.get(this).Ch().aa()}}}
{"use strict";const d=self.B;d.C.Le.L={oea(a){return d.Om(this.NN(),a)},Wca(a,b){return d.compare(this.mb,a,b)},Sca(a,b){return d.compare(this.JN(),a,b)},KZ(a){return d.Om(this.yP,a)},LZ(){return!0},TZ(){return!0},Gea(){return 0>this.j().ba()},Aea(){return 0>this.j().aa()},CL(){return!0},k_(){return!0},Ih(){return this.j().Ih()}}}
{"use strict";const d=self.B;d.C.Le.cc={Wia(a,b,e,c){if(a&&b){var [g,n]=this.jn(e);if(e=this.g.yB(a,b,g,n,c)){c&&b.BD(e);a.xb().zp()&&(b=e.j(),b.od(this.j().Ga()),b.Oa());b=this.g.ga();b.$d(!0);e.cy();b.$d(!1);c=this.g.gs().Zi();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Aq)b=!0,c.set("Spawn_LastExec",this.g.Aq);if(a!==this.G()&&(a=a.R(),a.Md(!1),a=a.F,b&&d.D(a),a.push(e),e.Jb()))for(const h of e.dd)e=h.G().R(),b?e.kj(h):(e.Md(!1),e.Rn(h))}}},bja(){this.Mp(!1)},Zia(a){this.G8(a)},
Sha(a,b){this.Q7(a,b)},Tha(a){this.R7(a)},Vha(a){this.T7(a)},Uha(a){this.S7(a)},Gia(a){const b=this.j(),e=b.ba();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Th(a),b.Oa())},gia(a){const b=this.j(),e=b.aa();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Oh(a),b.Oa())},rD(a){const b=this.pe.lf(),e=this.j();var c=0>e.ba()?-1:1;const g=0>e.aa()?-1:1;c*=b.ba()*a;a=b.aa()*a*g;if(e.ba()!==c||e.aa()!==a)e.Sc(c,a),e.Oa()},async efa(a,b){const e=this.pe.lf(),c=this.j(),g=this.g;if(e.Kj===a)0===b&&(c.Sc(e.ba(),e.aa()),c.Oa()),
this.Ia(d.C.Le.L.CL);else{var n=d.A(d.Pw);try{await n.kZ(g,a);if(!n.IC())throw Error("image failed to load");await n.Cs(g.jb(),{Oi:this.g.Vc})}catch(h){console.error("Load image from URL failed: ",h);this.Ia(d.C.Le.L.k_);return}e.S_(n);this.tc.qP();this.xx()||0!==b||(c.Sc(e.ba(),e.aa()),c.Oa());g.Z();this.xx()||await this.me(d.C.Le.L.CL)}},aia(a){this.j().Ls(a)},uD(a,b){this.j().uD(0===a,b)},A0(a){this.j().tf(a);this.g.Z()}}}"use strict";
self.B.C.Le.hf={jca(){return this.mb},kca(){return this.Db.rd.length},lca(){return this.Db.wa()},mca(){return this.JN()},Vfa(){return this.Db.hk()},gea(d){return this.jn(d)[0]},hea(d){return this.jn(d)[1]},fea(){return this.aC()},iea(){return this.Ch().ba()},eea(){return this.Ch().aa()},xga(d){return this.bK(d)[0]},yga(d){return this.bK(d)[1]},wga(){return this.gW()}};{"use strict";const d=self.B;d.C.Touch=class extends d.Jp{constructor(a){super(a)}m(){super.m()}}}
{"use strict";const d=self.B,a=self.vh;d.C.Touch.Mn=class extends d.ix{constructor(e){super(e)}m(){super.m()}ld(){}Bl(){return self.SX}};let b=null;self.SX=class extends self.NK{constructor(e){super(e);b=e;e.H().zy.dJ=this}requestPermission(e){a.Ld(e);const c=b.$i().ma;if("orientation"===e)return c.zE(0);if("motion"===e)return c.zE(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.C.Touch.Instance=class extends d.hx{constructor(a,b){super(a,"touch");this.Lc=new Map;this.pz=this.OR=!1;this.Xy=this.Rg=this.Qg=this.OH=this.yA=this.ir=this.UE=this.TE=this.SE=this.XE=this.WE=this.VE=this.hH=this.gH=this.fH=this.Sz=0;this.Uz=[];b&&(this.OR=b[0]);this.hJ("permission-result",e=>this.y6(e));a=this.H().Ib();this.Qd=new d.uB(d.ae.wg(a,"pointerdown",e=>this.vE(e.data)),d.ae.wg(a,"pointermove",e=>this.wE(e.data)),d.ae.wg(a,"pointerup",e=>this.ot(e.data,!1)),
d.ae.wg(a,"pointercancel",e=>this.ot(e.data,!0)),d.ae.wg(a,"deviceorientation",e=>this.k6(e.data)),d.ae.wg(a,"deviceorientationabsolute",e=>this.l6(e.data)),d.ae.wg(a,"devicemotion",e=>this.j6(e.data)),d.ae.wg(a,"tick2",()=>this.xE()))}m(){this.Lc.clear();super.m()}vE(a){if("mouse"===a.pointerType)if(this.OR)this.pz=!0;else return;const b=a.pointerId;if(!this.Lc.has(b)){var e=a.pageX-this.g.cn();a=a.pageY-this.g.dn();var c=performance.now(),g=this.Lc.size;this.ir=g;this.yA=b;var n=d.A(d.C.Touch.L1);
n.El(c,e,a,b,g);this.Lc.set(b,n);this.Ia(d.C.Touch.L.$Z);this.Ia(d.C.Touch.L.j_);this.Qg=e;this.Rg=a;this.Ia(d.C.Touch.L.i_)}}wE(a){if("mouse"!==a.pointerType||this.pz){var b=this.Lc.get(a.pointerId);if(b){var e=performance.now();2>e-b.Aa()||b.uk(e,a.pageX-this.g.cn(),a.pageY-this.g.dn(),a.width,a.height,a.pressure)}}}ot(a,b){if("mouse"===a.pointerType)if(this.pz)this.pz=!1;else return;const e=performance.now();a=a.pointerId;const c=this.Lc.get(a);c&&(this.ir=c.kg,this.yA=c.Si(),this.Ia(d.C.Touch.L.ZZ),
this.Ia(d.C.Touch.L.h_),b||(b=c.y1(e),"single-tap"===b?(this.Ia(d.C.Touch.L.g_),this.Qg=c.ia(),this.Rg=c.ja(),this.Ia(d.C.Touch.L.AL)):"double-tap"===b&&(this.Ia(d.C.Touch.L.QZ),this.Qg=c.ia(),this.Rg=c.ja(),this.Ia(d.C.Touch.L.RZ))),c.m(),this.Lc.delete(a))}zE(a){this.EO("request-permission",{type:a});return new Promise((b,e)=>{this.Uz.push({type:a,resolve:b,reject:e})})}y6(a){const b=a.result,e=a.type;this.OH=e;a=this.Uz.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.Uz=
this.Uz.filter(c=>c.type!==e);b?(this.Ia(d.C.Touch.L.b_),0===e?this.g.Hp():this.g.Ml()):this.Ia(d.C.Touch.L.a_)}k6(a){"number"===typeof a.webkitCompassHeading?this.Sz=a.webkitCompassHeading:a.absolute&&(this.Sz=a.alpha);this.fH=a.alpha;this.gH=a.beta;this.hH=a.gamma}l6(a){this.Sz=a.alpha}j6(a){const b=a.acceleration;b&&(this.VE=b.x,this.WE=b.y,this.XE=b.z);if(a=a.accelerationIncludingGravity)this.SE=a.x,this.TE=a.y,this.UE=a.z}xE(){const a=performance.now();let b=0;for(const e of this.Lc.values())e.Aa()<=
a-50&&e.q8(a),e.x1(a)&&(this.ir=e.kg,this.yA=e.Si(),this.Xy=b,this.Ia(d.C.Touch.L.UZ),this.Qg=e.ia(),this.Rg=e.ja(),this.Ia(d.C.Touch.L.VZ),this.Xy=0),++b}Xh(a){a=Math.floor(a);for(const b of this.Lc.values()){if(0===a)return b;--a}return null}jt(a,b){return 0<=a&&0<=b&&a<this.g.fW()&&b<this.g.eW()}}}
{"use strict";const d=self.B,a=[];d.C.Touch.L={j_(){return!0},h_(){return!0},Cea(){return 0<this.Lc.size},i_(b){return b&&this.jt(this.Qg,this.Rg)?this.g.fi.rx(b,this.Qg,this.Rg):!1},$Y(b){if(!b)return!1;const e=b.R();var c=e.da();for(const g of c){c=g.j();const n=c.T();for(const h of this.Lc.values()){if(!this.jt(h.ia(),h.ja()))continue;const [l,m]=n.ff(h.ia(),h.ja(),c.xd());if(c.kp(l,m)){a.push(g);break}}}return a.length?(e.Js(a),b.Nb(),d.D(a),!0):!1},dda(b,e,c){return(b=this.Xh(b))?d.compare(b.hk(),
e,c):!1},Ufa(){return!0},lfa(){return!0},$ca(b,e,c){this.g.Hp();return d.compare(0===b?this.fH:1===b?this.gH:this.hH,e,c)},Rca(b,e,c){this.g.Ml();return d.compare(0===b?this.SE:1===b?this.TE:2===b?this.UE:3===b?this.VE:4===b?this.WE:this.XE,e,c)},$Z(b){b=Math.floor(b);return b===this.ir},ZZ(b){b=Math.floor(b);return b===this.ir},Wda(b){b=Math.floor(b);return this.Lc.size>=b+1},UZ(){return!0},g_(){return!0},QZ(){return!0},VZ(b){return b&&this.jt(this.Qg,this.Rg)?this.g.fi.rx(b,this.Qg,this.Rg):!1},
AL(b){return b&&this.jt(this.Qg,this.Rg)?this.g.fi.rx(b,this.Qg,this.Rg):!1},RZ(b){return b&&this.jt(this.Qg,this.Rg)?this.g.fi.rx(b,this.Qg,this.Rg):!1},b_(b){return this.OH===b},a_(b){return this.OH===b}}}"use strict";self.B.C.Touch.cc={Oga(d){this.zE(d)}};
{"use strict";const d=self.B;d.C.Touch.hf={yja(){return this.Lc.size},$M(a){const b=this.Xh(this.Xy);return b?b.tp(this.g.Ha(),a,!0):0},aN(a){const b=this.Xh(this.Xy);return b?b.tp(this.g.Ha(),a,!1):0},Yja(a,b){return(a=this.Xh(a))?a.tp(this.g.Ha(),b,!0):0},$ja(a,b){return(a=this.Xh(a))?a.tp(this.g.Ha(),b,!1):0},Zja(a,b){return(a=this.Lc.get(a))?a.tp(this.g.Ha(),b,!0):0},aka(a,b){return(a=this.Lc.get(a))?a.tp(this.g.Ha(),b,!1):0},Nba(){const a=this.Xh(0);return a?a.ia():0},Qba(){const a=this.Xh(0);
return a?a.ja():0},Oba(a){return(a=this.Xh(a))?a.ia():0},Rba(a){return(a=this.Xh(a))?a.ja():0},Pba(a){return(a=this.Lc.get(a))?a.ia():0},Sba(a){return(a=this.Lc.get(a))?a.ja():0},Xia(a){return(a=this.Xh(a))?a.hk():0},Yia(a){return(a=this.Lc.get(a))?a.hk():0},hca(a){return(a=this.Xh(a))?d.th(a.Ga()):0},ica(a){return(a=this.Lc.get(a))?d.th(a.Ga()):0},ida(){this.g.Hp();return this.Sz},fca(){this.g.Hp();return this.fH},Eca(){this.g.Hp();return this.gH},Nda(){this.g.Hp();return this.hH},Uba(){this.g.Ml();
return this.SE},Wba(){this.g.Ml();return this.TE},Yba(){this.g.Ml();return this.UE},Tba(){this.g.Ml();return this.VE},Vba(){this.g.Ml();return this.WE},Xba(){this.g.Ml();return this.XE},Aja(){return this.ir},zja(){return this.yA},Wja(a){return(a=this.Lc.get(a))?a.ba():0},Yda(a){return(a=this.Lc.get(a))?a.aa():0},Aga(a){return(a=this.Lc.get(a))?a.mR:0}}}
{"use strict";const d=self.B;let a=-1E3,b=-1E3,e=-1E4;d.C.Touch.L1=class extends d.ca{constructor(){super();this.mR=this.O=this.S=this.Iz=this.Hz=this.J=this.N=this.qA=this.pA=this.Gz=this.uc=this.wm=this.kg=this.lR=0;this.xz=this.dG=!1}m(){}El(c,g,n,h,l){this.lR=h;this.kg=l;this.wm=this.Gz=this.uc=c;this.pA=g;this.qA=n;this.N=g;this.J=n;this.Hz=g;this.Iz=n}uk(c,g,n,h,l,m){this.Gz=this.uc;this.uc=c;this.Hz=this.N;this.Iz=this.J;this.N=g;this.J=n;this.S=h;this.O=l;this.mR=m;!this.xz&&15<=d.tr(this.pA,
this.qA,this.N,this.J)&&(this.xz=!0)}Si(){return this.lR}Aa(){return this.uc}q8(c){this.Gz=c}ia(){return this.N}ja(){return this.J}hk(){const c=d.tr(this.N,this.J,this.Hz,this.Iz),g=(this.uc-this.Gz)/1E3;return 0<g?c/g:0}Ga(){return d.hI(this.Hz,this.Iz,this.N,this.J)}ba(){return this.S}aa(){return this.O}x1(c){return this.dG?!1:500<=c-this.wm&&!this.xz&&15>d.tr(this.pA,this.qA,this.N,this.J)?this.dG=!0:!1}y1(c){if(this.dG)return"";if(333>=c-this.wm&&!this.xz&&15>d.tr(this.pA,this.qA,this.N,this.J)){if(666>=
c-e&&25>d.tr(a,b,this.N,this.J))return b=a=-1E3,e=-1E4,"double-tap";a=this.N;b=this.J;e=c;return"single-tap"}return""}tp(c,g,n){return"undefined"===typeof g?c.xw(0).JT(this.N,this.J)[n?0:1]:(c=c.T(g))?c.ff(this.N,this.J)[n?0:1]:0}}}{"use strict";const d=self.B;d.C.Function=class extends d.Jp{constructor(a){super(a)}m(){super.m()}}}{"use strict";const d=self.B;d.C.Function.Mn=class extends d.ix{constructor(a){super(a)}m(){super.m()}ld(){}}}
{"use strict";const d=self.B;class a{constructor(){this.name="";this.Tm=0;this.bp=[]}}d.C.Function.Instance=class extends d.hx{constructor(b){super(b);this.Ok=this.g.yn();this.Vy=-1;this.TF=[];b=(e,c)=>this.o5(e,c);self.c2_callFunction=b;self.c3_callFunction=b}m(){super.m()}Ca(){const b=this.TF,e=++this.Vy;e===b.length&&b.push(new a);return b[e]}Ba(){--this.Vy}Bh(){const b=this.Vy;return 0>b?null:this.TF[b]}$W(){const b=this.TF;return b.length?b[Math.min(this.Vy+1,b.length-1)]:null}M2(b,e){const c=
this.Ca();c.name=b.toLowerCase();c.Tm=0;d.vc(c.bp,e);e=this.Wr(d.C.Function.L.Es,c.name);this.Ok&&!e&&console.warn(`[Construct 3] Function object: called function '${b}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Ba()}*o3(b,e){const c=this.Ca();c.name=b.toLowerCase();c.Tm=0;d.vc(c.bp,e);e=yield*this.BB(d.C.Function.L.Es,c.name);this.Ok&&!e&&console.warn(`[Construct 3] Function object: called function '${b}' but no event was triggered. Is the function call spelt incorrectly or no longer used?`);
this.Ba()}o5(b,e){const c=this.Ca();c.name=b.toLowerCase();c.Tm=0;c.bp=(e||[]).map(g=>"number"===typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0);this.Wr(d.C.Function.L.Es,c.name);this.Ba();return c.Tm}}}
{"use strict";const d=self.B;d.C.Function.L={Es(){return!0},ada(a,b,e){const c=this.Bh();if(!c)return this.Ok&&console.warn("[Construct 3] Function object: used 'Compare parameter' condition when not in a function call"),!1;const g=c.bp;a=Math.floor(a);let n=0;0>a||a>=g.length?this.Ok&&console.warn(`[Construct 3] Function object: in function '${c.name}', compared parameter out of bounds (accessed index ${a} of ${g.length})`):n=g[a];return d.compare(n,b,e)}}}"use strict";
self.B.C.Function.cc={CallFunction(d,a){if(this.g.Ad)return this.o3(d,a);this.M2(d,a)},c1(d){const a=this.Bh();a?a.Tm=d:this.Ok&&console.warn("[Construct 3] Function object: used 'Set return value' when not in a function call")},Kca(){}};
{"use strict";const d=self.B;d.C.Function.hf={Cha(){const a=this.$W();return a?a.Tm:0},bga(){const a=this.Bh();if(a)return a.bp.length;this.Ok&&console.warn("[Construct 3] Function object: used 'ParamCount' expression when not in a function call");return 0},aga(a){a=Math.floor(a);const b=this.Bh();if(b){const e=b.bp;if(0<=a&&a<e.length)return e[a];this.Ok&&console.warn(`[Construct 3] Function object: in function '${b.name}', accessed parameter out of bounds (accessed index ${a} of ${e.length})`);
return 0}this.Ok&&console.warn("[Construct 3] Function object: used 'Param' expression when not in a function call");return 0},qB(a,...b){const e=this.Ca();e.name=a.toLowerCase();e.Tm=0;e.bp=b;b=this.Wr(d.C.Function.L.Es,e.name);this.Ok&&!b&&console.warn(`[Construct 3] Function object: expression Function.Call("${a}" ...) was used, but no event was triggered. Is the function call spelt incorrectly or no longer used?`);this.Ba();return e.Tm}}}
{"use strict";const d=self.B;d.hd.vg=class extends d.h0{constructor(a){super(a);a=this.g.Ib();this.Qd=new d.uB(d.ae.wg(a,"pointerdown",b=>this.vE(b.data)),d.ae.wg(a,"pointermove",b=>this.wE(b.data)),d.ae.wg(a,"pointerup",b=>this.ot(b.data,!1)),d.ae.wg(a,"pointercancel",b=>this.ot(b.data,!0)))}m(){this.Qd.m();this.Qd=null;super.m()}vE(a){"mouse"===a.pointerType&&0!==a.button||this.r6(a.pointerId.toString(),a.pageX-this.g.cn(),a.pageY-this.g.dn())}wE(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.wO(a.pointerId.toString()):
this.s6(a.pointerId.toString(),a.pageX-this.g.cn(),a.pageY-this.g.dn())}ot(a){"mouse"===a.pointerType&&0!==a.button||this.wO(a.pointerId.toString())}async r6(a,b,e){var c=this.da();let g=null,n=null,h=0,l=0;for(const m of c){c=m.PB(d.hd.vg);if(!c.Jh()||c.Cj)continue;const p=m.j(),u=p.T(),[q,v]=u.ff(b,e,p.xd());if(!p.kp(q,v))continue;if(!g){g=m;n=c;h=q;l=v;continue}const t=g.j();if(u.ya()>t.T().ya()||u.ya()===t.T().ya()&&p.Bg()>t.Bg())g=m,n=c,h=q,l=v}g&&await n.m6(a,h,l)}s6(a,b,e){var c=this.da();
for(const g of c){c=g.PB(d.hd.vg);if(!c.Jh()||!c.Cj||c.Cj&&c.HF!==a)continue;const n=g.j(),h=n.T(),[l,m]=h.ff(b,e,n.xd());c.x6(l,m)}}async wO(a){var b=this.da();for(const e of b)b=e.PB(d.hd.vg),b.Cj&&b.HF===a&&await b.BO()}}}{"use strict";const d=self.B;d.hd.vg.Mn=class extends d.j0{constructor(a){super(a)}m(){super.m()}ld(){}}}
{"use strict";const d=self.B;d.hd.vg.Instance=class extends d.i0{constructor(a,b){super(a);this.Cj=!1;this.PP=this.OP=0;this.HF="<none>";this.Bk=0;this.wi=!0;b&&(this.Bk=b[0],this.wi=b[1])}m(){super.m()}nd(){return{a:this.Bk,e:this.wi}}Zc(a){this.Bk=a.a;this.wi=a.e;this.Cj=!1}Jh(){return this.wi}async m6(a,b,e){const c=this.j();this.OP=b-c.ia();this.PP=e-c.ja();this.Cj=!0;this.HF=a;await this.me(d.hd.vg.L.SZ)}x6(a,b){const e=this.j();a-=this.OP;b-=this.PP;if(0===this.Bk){if(e.ia()!==a||e.ja()!==b)e.tk(a,
b),e.Oa()}else 1===this.Bk?e.ia()!==a&&(e.Ig(a),e.Oa()):2===this.Bk&&e.ja()!==b&&(e.Jg(b),e.Oa())}async BO(){this.Cj=!1;await this.me(d.hd.vg.L.uL)}kc(a){switch(a){case 0:return this.Bk;case 1:return this.wi}}Fg(a,b){switch(a){case 0:this.Bk=b;break;case 1:this.wi=!!b}}}}"use strict";self.B.hd.vg.L={yea(){return this.Cj},SZ(){return!0},uL(){return!0},Jh(){return this.wi}};"use strict";self.B.hd.vg.cc={D0(d){this.wi=!!d;this.wi||(this.Cj=!1)},Wha(d){this.Bk=d},sda(){this.Cj&&this.BO()}};"use strict";
self.B.hd.vg.hf={};
{const d=self.B;self.qJ=function(){return[d.C.Text,d.C.Le,d.C.Touch,d.C.Function,d.hd.vg,d.C.Function.L.Es,d.C.ab.L.WT,d.C.Function.hf.qB,d.C.ab.L.XJ,d.C.Text.cc.u0,d.C.ab.cc.jT,d.C.Le.L.o_,d.C.Le.L.RY,d.C.Text.L.HY,d.C.ab.L.OJ,d.C.Text.cc.I0,d.C.Text.cc.Vs,d.C.ab.cc.T0,d.C.Text.cc.Hg,d.C.ab.cc.LD,d.C.Touch.L.AL,d.C.Function.cc.CallFunction,d.C.ab.cc.V_,d.C.ab.cc.$_,d.C.ab.L.XT,d.C.Function.cc.c1,d.hd.vg.L.uL,d.C.Text.L.YT,d.C.ab.hf.Paa,d.C.Text.cc.a1,d.C.Text.hf.$M,d.C.Text.hf.aN,d.C.Text.L.ZT,d.C.ab.hf.Oaa,
d.C.ab.L.wL,d.C.Text.cc.s1,d.C.Text.cc.Q0,d.C.Text.hf.NV,d.C.Touch.L.$Y,d.C.Text.cc.mx,d.C.ab.L.P1,d.C.Text.cc.jj]};self.CT=[{oja:0},{pja:0},{Vda:0},{jda:0},{sfa:0},{tfa:0},{Xja:0},{Tea:0},{Afa:0},{Uia:0},{Iha:0},{wca:0},{zda:0},{oca:0},{zca:0},{eca:0},{dca:0},{yca:0},{yda:0},{vca:0},{nca:0},{Touch:0},{Function:0},{Zfa:0},{Lba:0},{aea:0},{bea:0},{$fa:0},{xca:0},{kea:0},{Via:0},{Wfa:0},{Zba:0},{Nca:0},{qja:0},{ufa:0},{tda:0},{Kja:0},{Qia:0},{hda:0},{zfa:0},{Tia:0},{uda:0},{Sja:0},{Xfa:0},{Bga:0},{Yfa:0},
{Cga:0},{rca:0},{qca:0},{yha:0},{Text:0},{rda:0},{rfa:0},{uca:0},{Jca:0},{wja:0},{Nha:0},{vja:0},{Cfa:0}]}
{const d=self.B;self.BT=[()=>"Check",a=>{const b=a.oj(0).bn();return()=>b("AllMoved")},()=>"Yes",()=>1,a=>{const b=a.oj(0);return()=>b.RJ()},()=>32767,a=>{const b=a.oj(0).Rt;return()=>b.he()},()=>"Great Job",()=>0,()=>"Alert",()=>"Oh No",()=>"You didn't even move all of the labels!",()=>3,()=>16744192,()=>"AllMoved",()=>"No",a=>{const b=a.oj(0).bn();return()=>b()},a=>{const b=a.oj(0),e=a.oj(1).bn(),c=a.oj(2).bn(),g=a.oj(3).bn();return()=>d.ea(Math.round(b.SJ()/e())*c(),0,g())},a=>{const b=a.oj(0);
return()=>b.SJ()},()=>"weblysleek_uilight",()=>"stylesheet.css",a=>{const b=a.oj(0);return()=>Math.floor(.9*b.RJ())},()=>100,()=>50]};
