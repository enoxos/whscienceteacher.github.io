// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function a(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=C*E+k*I;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function b(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function d(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],P=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*P+D*S;f[3]=C*P+E*S;f[4]=x*W+D*t+I;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function h(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*I+V*P;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*I+ca*P;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*I+t*P;f[8]=oa*D+la*K+
t*k;return f}function g(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*P+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*P+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*P+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*P+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var P=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=P+E;f[2]=x-K;f[3]=0;f[4]=P-E;f[5]=1-(k+D);f[6]=C+I;f[7]=0;f[8]=x+K;f[9]=C-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,P=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(P-C)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(P-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(P+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(P+C)/E,f[2]=.25*E);return f}function r(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function Q(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*I;f[1]=C*t+k*I+D*E-x*K;f[2]=D*t+k*K+x*I-C*E;f[3]=k*t-x*E-C*I-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var P=C*I+D*K+E*N+k*t;0>P&&(P=-P,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-P){var S=Math.acos(P);var W=Math.sin(S);P=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else P=1-x;f[0]=P*C+x*
I;f[1]=P*D+x*K;f[2]=P*E+x*N;f[3]=P*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+C*I-t*E;f[5]=C*k+t*D-x*I;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],P=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*P+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*P+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*P+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;f[7]=E*P-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get ufa(){return qa},Kka:Ma,tfa:"zyx",Ara:function(f){qa=f},Jra:function(f){return f*Mb},hd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},zw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Cf:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},LV:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},ts:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},EU:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},mK:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},rC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},qK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},$l:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},pK:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Via:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},am:b,lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},hd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},FK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},GK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Bn:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},zw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Cf:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},ts:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-C*I;f[3]=t*I;f[4]=(C*k-D*E)*I;f[5]=(x*E-t*k)*I;return f},mK:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=C*K+E*t+k;return f},rC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},qK:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},rK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},$l:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},pK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},am:c,FK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
GK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},hd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],P=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-P)<=1E-6*Math.max(1,Math.abs(D),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Bn:d,sub:c}),Qb=Object.freeze({__proto__:null,create:h,$da:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},na:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Cf:function(f,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,C,D,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},zw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},LV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},ts:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var P=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*P+x*S+C*W;if(!V)return null;V=1/V;f[0]=P*V;f[1]=(-k*x+C*N)*V;f[2]=(I*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-I*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},EU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=C*N-x*k;f[2]=x*I-C*E;f[3]=I*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},mK:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:m,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*I+P;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=P;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},rK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},rC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},qK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},rpa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},aea:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=P-D;f[2]=N-E;f[5]=P+D;f[8]=1-t-x;return f},Cqa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea;P=P*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*P-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*P-E*W-N*Ba)*V;f[2]=(E*S-I*P+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*P+D*Ba)*V;f[5]=(x*P-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},pV:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},$l:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},pK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},am:g,FK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},GK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},hd:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var P=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-P)<=1E-6*Math.max(1,Math.abs(t),Math.abs(P))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Bn:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Cf:function(f,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=P;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,I,K,N,P,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=P;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},zw:l,LV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},ts:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(P*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-P*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(P*sa-S*la+W*oa)*Da;return f},EU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=P*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-P*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=P*sa-S*la+W*oa;return f},mK:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],P=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*P,oa=I*W-N*P,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(P*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var P=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=P;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+P*C+ea*t+k[13];f[14]=I*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var P=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=P*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=P*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=P*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},QK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+P*x;f[7]=I*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=P*t-E*x;f[11]=S*t-I*x;return f},RK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-P*x;f[3]=I*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+P*t;f[11]=I*x+S*t;return f},SK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],P=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+P*x;f[3]=I*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=P*t-E*x;f[7]=S*t-I*x;return f},rK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},qK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},rC:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},xpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},ypa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},zpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},bea:p,tpa:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],P=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+P*x+K*D-N*C)/S,t[1]=2*(K*E+P*C+N*x-I*D)/S,t[2]=2*(N*E+P*D+I*C-K*x)/S):(t[0]=2*(I*E+P*x+K*D-N*C),t[1]=2*(K*E+P*C+N*x-I*D),t[2]=2*(N*E+P*D+I*C-K*x));p(f,k,t);return f},eea:q,Kpa:u,Jpa:w,cpa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],P=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(P,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;P*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(P-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(P+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(P-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(P+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},upa:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,P=E+E;k=C*K;var S=C*N;C*=P;var W=D*N;D*=P;E*=P;K*=I;N*=I;I*=P;P=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*P;
f[1]=(S+I)*P;f[2]=(C-N)*P;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},vpa:function(f,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,P=E+E,S=I+I;k=D*N;var W=D*P,V=D*S;D=E*P;E*=S;var ea=I*S;I=K*N;P*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-P;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+P)*S;E=(E-I)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},aea:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,P=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=P+D;f[7]=0;f[8]=N+E;f[9]=P-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},cea:function(f,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},Nqa:r,perspective:r,Oqa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},Mqa:function(f,k,t,x){var C=Math.tan(k.Qra*Math.PI/180),D=Math.tan(k.epa*Math.PI/
180),E=Math.tan(k.qqa*Math.PI/180);k=Math.tan(k.kra*Math.PI/180);var I=2/(E+k),K=2/(C+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},Kqa:v,Kea:v,Lqa:function(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},zea:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var P=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-P))return l(f);t=C-N;x=D-x;N=k-P;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;P=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(P,K,E))?(S=1/S,P*=S,K*=S,E*=S):E=K=P=0;I=x*E-N*K;var W=N*P-t*E;var V=t*K-x*P;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=P;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(P*C+K*D+E*k);f[13]=
-(I*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},Gra:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var P=x*x+N*N+t*t;0<P&&(P=1/Math.sqrt(P),x*=P,N*=P,t*=P);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;P=S*S+K*K+E*E;0<P&&(P=1/Math.sqrt(P),S*=P,K*=P,E*=P);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},$l:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},pK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},am:y,FK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},GK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},hd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],P=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(P-Ca)<=1E-6*Math.max(1,Math.abs(P),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Bn:n,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Cf:z,na:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},am:F,multiply:H,Vl:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},TK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},ww:M,FV:Q,FC:R,kV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,yn:Z,lK:X,ae:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},$ea:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},Ppa:function(f,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return f},Koa:function(f,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},aL:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},jfa:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},kfa:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,P=x*I-C*E;t=2*t[3];f[0]=E+K*t+2*(C*P-D*N);f[1]=I+N*t+2*(D*K-x*P);f[2]=k+P*t+2*(x*N-C*K);return f},QK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},RK:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},SK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},WV:function(f){f[0]=0;f[1]=0;f[2]=0;return f},$l:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},hd:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
Bn:H,SU:J,QU:M,EV:Q,Ew:G,EC:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Cf:va,na:ta,set:ya,add:Na,am:Sa,multiply:Ta,Vl:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,TK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},ww:eb,FV:fb,length:Pa,FC:Va,kV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,yn:Ya,lK:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],P=k[2];k=k[3];f[0]=N*t-P*K+k*I;f[1]=-(x*t)+
P*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*I)+N*D-P*C;return f},ae:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},aL:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},kfa:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,P=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;f[0]=N*t+x*-E+P*-K-S*-I;f[1]=P*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-P*-E;f[3]=k[3];return f},WV:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},$l:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},lj:wb,hd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,Bn:Ta,SU:Ua,QU:eb,EV:fb,Ew:Pa,EC:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,I){kb(f,x,E,I);kb(k,C,D,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=h();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,zw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},yra:xb,Gpa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Epa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,QK:zb,RK:Ab,SK:Bb,Moa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,yea:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},$ea:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},ts:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Mda:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},spa:Eb,qpa:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),P=Math.cos(x);switch(C){case "xyz":f[0]=D*K*P+E*I*N;f[1]=E*I*P-D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P-D*I*N;break;case "xzy":f[0]=D*K*P-E*I*N;f[1]=E*
I*P-D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P+D*I*N;break;case "yxz":f[0]=D*K*P+E*I*N;f[1]=E*I*P-D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P+D*I*N;break;case "yzx":f[0]=D*K*P+E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P-D*I*N;break;case "zxy":f[0]=D*K*P-E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N+D*I*P;f[3]=E*K*P-D*I*N;break;case "zyx":f[0]=D*K*P-E*I*N;f[1]=E*I*P+D*K*N;f[2]=E*K*N-D*I*P;f[3]=E*K*P+D*I*N;break;default:throw Error("Unknown angle order "+C);}return f},$l:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Cf:va,na:ta,set:ya,add:Na,Bn:yb,scale:Wa,yn:Ya,ae:vb,length:Pa,Ew:Pa,FC:Va,EC:Va,normalize:ib,lj:wb,hd:function(f,k){return.999999<=Math.abs(Ya(f,k))},ora:tb,Dra:ub,xra:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Cf:function(f,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},wpa:function(f,k,t,x,C,D,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*f-C*t;I[6]=E*x+C*k-D*f;I[7]=-C*f-D*k-E*t;return I},bea:Fb,rK:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},rC:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},$da:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},na:Gb,zw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},Ipa:ta,Hpa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Bra:ta,zra:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},eea:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*I);f[1]=2*(x*k+D*I+C*E-t*K);f[2]=2*(C*k+
D*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],P=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*I+C*t-D*K+N;f[5]=E*K+D*I-x*t+P;f[6]=E*t+x*K-C*I+S;f[7]=-x*I-C*K-D*t+k;return f},QK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+
I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},RK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},SK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*D-N*C,W=K*E+P*C+N*x-I*D,V=N*E+P*D+I*C-K*x;I=P*E-I*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},mra:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*D-K*C;f[1]=I*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-I*x;f[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*D-K*C;f[5]=I*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-I*x;f[7]=N*t-E*x-I*C-K*D;return f},nra:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*I;f[1]=C*N+k*I+D*E-x*K;f[2]=D*N+k*K+x*I-C*E;f[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*I;f[5]=C*N+k*I+D*E-x*K;f[6]=D*N+k*K+x*I-C*E;f[7]=k*N-x*E-C*I-D*K;return f},lra:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-C*t;f[2]=K*x+N*t+C*I-D*E;f[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*I;f[5]=D*x+k*I+K*E-C*t;f[6]=K*x+k*t+C*I-D*E;f[7]=k*x-C*E-D*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,Bn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},yn:Ya,ae:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},ts:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Mda:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Ew:Pa,FC:Va,EC:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var P=x*I+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(I-x*P)/t;f[5]=(K-C*P)/t;f[6]=(N-D*P)/t;f[7]=(k-E*P)/t}return f},$l:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},hd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],P=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Cf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},na:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},am:mb,multiply:nb,Vl:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},TK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},ww:ob,FV:Qa,length:pb,
FC:qb,kV:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},yn:function(f,k){return f[0]*k[0]+f[1]*k[1]},lK:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},ae:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Nra:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Ora:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},jfa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},aL:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},WV:function(f){f[0]=0;f[1]=0;return f},$l:function(f){return"vec2("+f[0]+", "+f[1]+")"},lj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},hd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Ew:pb,sub:mb,Bn:nb,SU:Za,
QU:ob,EV:Qa,EC:qb,forEach:gb});e.mj=Nb;e.uqa=Ob;e.vqa=Pb;e.wqa=Qb;e.Xl=Rb;e.Uqa=tb;e.Vqa=ub;e.Wra=gb;e.JC=rb;e.Ow=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Coa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.mj={}));
{"use strict";function e(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function d(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var Q=0;Q!==A.length;++Q)if((Q+1)%A.length!==J&&Q!==J&&d(m(A,J),m(A,M),m(A,Q+1))&&c(m(A,J),m(A,M),m(A,Q))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,Q);Jb[1]=m(A,Q+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],Q,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=Q=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=h(r[Y],M),ya<Q&&(Q=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(d(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Rqa={bpa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Wqa:w,Xpa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(e(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(e(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},ara:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},bra:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},tqa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Bw=!1;e.zK=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.$g={}}
{"use strict";const e=self.B;e.NN=class{constructor(a){this.dda=a;this.Ga=new Map;this.k$()}k$(){var a=this.dda;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.l$(b)}l$(a){if(a)if(a.includes("=")){var b=a.indexOf("="),d=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ga.set(d,a)}else this.Ga.set(a,null)}Vx(a){return this.Ga.has(a)}Y(a){a=this.Ga.get(a);return"undefined"===typeof a?null:a}};e.zE=new e.NN(location.search);e.ija=
new e.NN(location.hash);e.zE.Y("mode")}
{"use strict";const e=self.B,a=navigator.userAgent;let b={xea:/linux|openbsd|freebsd|netbsd/i.test(a),Jda:/CrOS/.test(a),KC:/trident|iemobile|msie|tizen/i.test(a),Dpa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),JU:/bb10/i.test(a),Xda:/edge\//i.test(a),NV:/trident/i.test(a),webkit:/webkit/i.test(a),Uea:/safari\//i.test(a),Ida:/chrome\//i.test(a),Kda:/chromium\//i.test(a),Nda:/crosswalk|xwalk/i.test(a),Eqa:/nwjs/i.test(a),xda:/amazonwebappplatform/i.test(a),pfa:/wv\)/.test(a),yda:/android/i.test(a),
Hea:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let d="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.xea,()=>{d="Linux"});u("isChromeOS",b.Jda,()=>{d="Chrome OS"});u("isAndroid",!b.KC&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.KC&&Ub,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.KC&&Vb,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.JU,()=>{d="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!b.Xda&&!b.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&b.NV,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.Uea&&!b.Hea&&!b.Ida&&!b.Kda&&!b.Cpa&&!b.JU,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.Nda,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.xda,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===h&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===l&&b.pfa,()=>l="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!b.KC&&b.yda,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&b.NV,()=>g="Trident");u("isWebkitFallback","(unknown)"===d&&b.webkit,()=>g="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(d="iOS",c=m,p=n=!1);e.Kc={oq:d,Fja:c,oc:h,mga:m,WC:parseFloat(m),Ww:g,dD:l,uia:n,nE:!n,via:p,qia:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),lia:"Mac OS X"===d||"iOS"===d,Cia:w,Dia:"Linux"===d}}"use strict";
{const e=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(w),g(w,r,v,!1);throw G;}}function l(w){p(w);let r=e.get(w);r instanceof Promise||(r=n(w),e.set(w,r),r.catch(()=>e.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return d(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=d(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=d(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=d(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=d(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=d(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.l1=u}"use strict";
{const e=self.l1,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function h(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.ia=l;b.set(this,new Map)}ku(l){if(!d)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);d=!0;break}}async yS(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async WT(l,n){n=await m(n);b.get(this).set(l,n)}RT(l){b.get(this).delete(l)}ZR(){b.get(this).clear()}gT(){return Array.from(b.get(this).keys())}async getItem(l,n){h(n);if(d)return await this.yS(l);let p;try{p=await this.ia.get(l)}catch(q){this.ku(q);if(d)return await this.yS(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){h(p);"undefined"===
typeof n&&(n=null);if(d)await this.WT(l,n);else try{await this.ia.set(l,n)}catch(q){if(this.ku(q),d)await this.WT(l,n);else throw q;}}async removeItem(l,n){h(n);if(d)this.RT(l);else try{await this.ia.delete(l)}catch(p){this.ku(p),d?this.RT(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){h(l);if(d)this.ZR();else try{await this.ia.clear()}catch(n){this.ku(n),d?this.ZR():console.error("Error clearing storage: ",n)}}async keys(l){h(l);if(d)return this.gT();l=[];try{l=await this.ia.keys()}catch(n){this.ku(n);
if(d)return this.gT();console.error("Error getting storage keys: ",n)}return l}ready(l){h(l);return d?Promise.resolve(!0):this.ia.ready()}kK(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new e("localforage"))}
{"use strict";const e=self.B;e.tb={};e.tb.doa=(()=>{try{if("Safari"===e.Kc.oc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();e.tb.fha="undefined"!==typeof HTMLDialogElement;e.tb.Wka=!!self.requestIdleCallback;e.tb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Kc.oc;e.tb.ImageBitmapOptions=!1;e.tb.Zx=!1;if(e.tb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{e.tb.ImageBitmapOptions=!0}).catch(()=>{e.tb.ImageBitmapOptions=!1})}catch(a){e.tb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{e.tb.Zx=10===a.width&&10===a.height}).catch(()=>{e.tb.Zx=!1})}catch(a){e.tb.Zx=!1}}e.tb.xga=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Kc.oc);e.tb.eka=!(!navigator.permissions||!navigator.permissions.query);e.tb.MN="undefined"!==typeof Proxy;
e.tb.hha="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.tb.Yw="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.tb.uha="function"===typeof fetch;e.tb.gka=!!(self.isSecureContext&&"Opera"!==e.Kc.oc&&navigator.storage&&navigator.storage.persist);e.tb.rna=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Kc.oq)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.tb.Dha=fc;e.tb.aia="undefined"!==typeof self.ImageDecoder;e.tb.eoa=!!self.VideoEncoder;e.tb.Aja=!!self.showOpenFilePicker;e.tb.Bja=!(!navigator.fonts||!navigator.fonts.query);e.tb.Una=!!navigator.userActivation}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(e.Is(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,d){return b.reduce((c,h)=>{0<d&&Array.isArray(h)?Array.prototype.push.apply(c,a(h,d-1)):c.push(h);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.$d||(Array.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.$d||(String.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+e.ux())}}
{"use strict";const e=self.B,a=self.$g;e.pm=function(d){return"number"===typeof d};e.Mf=function(d){return e.pm(d)&&isFinite(d)};e.Of=function(d){if(!e.pm(d))throw new TypeError("expected number");};e.XN=function(){};e.rla=function(d,c,h){if(!e.pm(d)||isNaN(d)||c>d||h<d)throw new RangeError("number outside of range");};e.dla=function(...d){for(let c of d);};e.Qj=function(d){if(!e.Mf(d))throw new TypeError("expected finite number");};e.UN=function(){};e.ala=function(...d){for(let c of d);};e.li=function(d){return"string"===
typeof d};e.yd=function(d){if(!e.li(d))throw new TypeError("expected string");};e.ZN=function(){};e.fla=function(...d){for(let c of d);};e.dN=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.Ela=function(d){if(!e.dN(d))throw new TypeError("expected simple object");};e.Bla=function(d){if(!e.ee(d)&&!e.dN(d))throw new TypeError("expected simple object");};e.cN=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.SN=function(d){if(!e.cN(d))throw new TypeError("expected object");
};e.YN=function(){};e.ela=function(...d){for(let c of d);};e.eE=function(d){return e.mm(d,Blob)&&"string"===typeof d.name};e.pla=function(d){if(!e.eE(d))throw new TypeError("expected file");};e.zla=function(){};e.ao=function(d){return Array.isArray(d)};e.FE=function(d){if(!e.ao(d))throw new TypeError("expected array");};e.TN=function(){};e.$ka=function(...d){for(let c of d);};e.M0=function(d){return e.ao(d)?d.length?e.ao(d[0])?!0:!1:!0:!1};e.Zka=function(d){if(!e.M0(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.ao(c))throw new TypeError("expected 2d array");};e.sla=function(){};e.fE=function(d){return"function"===typeof d};e.Rj=function(d,c){if(!e.fE(d))throw new TypeError("expected function");if(!e.ee(c)&&d!==c)throw new TypeError("expected same function reference");};e.VN=function(){};e.bla=function(...d){for(let c of d);};e.hla=function(d,...c){if(!e.fE(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!e.ee(h)&&
d===h)return;throw new TypeError("expected same function reference");};e.tla=function(...d){if(!e.ee(d))for(let c of d);};e.mm=function(d,c){return d instanceof c};e.aN=function(d,...c){for(let h of c)if(e.mm(d,h))return!0;return!1};e.GE=function(d,c){if(!e.mm(d,c))throw new TypeError("unexpected type");};e.WN=function(){};e.cla=function(d,...c){for(let h of c);};e.ila=function(d,...c){if(!e.aN(d,...c))throw new TypeError("unexpected type");};e.jla=function(d,...c){if(!e.ee(d)&&!e.aN(d,...c))throw new TypeError("unexpected type");
};e.mia=function(d,c){for(let h of d)if(!e.mm(h,c))return!1;return!0};e.nia=function(d){for(let c of d)if(!e.Mf(c))return!1;return!0};e.kla=function(d){for(let c of d);};e.ula=function(d){if(!e.ee(d))for(let c of d);};e.lla=function(d){for(let c of d);};e.vla=function(d){if(!e.ee(d))for(let c of d);};e.ria=function(d,c){return e.ee(d)||!e.li(d.nodeName)?!1:!c||e.zn(d.nodeName,c)};e.mla=function(d,c){if(e.ee(d)||!e.li(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.zn(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.wla=function(){};e.hE=function(d,c){return e.ee(d)||!e.li(d.tagName)?!1:!c||e.zn(d.tagName,c)};e.qla=function(d,c){if(e.ee(d)||!e.li(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.zn(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.Ala=function(){};e.VM=function(d){return e.hE(d,"img")||e.hE(d,"canvas")||e.hE(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.nla=function(d){if(!e.VM(d))throw new TypeError("expected drawable");
};e.xla=function(){};e.WM=function(d){return d instanceof ImageData?!0:e.VM(d)};e.ola=function(d){if(!e.WM(d))throw new TypeError("expected drawable or image data");};e.yla=function(d){if(!e.ee(d)&&!e.WM(d))throw new TypeError("expected drawable or image data");};e.f1=function(d){return"string"===typeof d||d instanceof e.WD||d instanceof e.dm};e.Fla=function(d){if(!e.f1(d))throw new TypeError("expected string-like");};e.Cla=function(){};e.gla=function(...d){for(let c of d);};e.Dla=function(){throw Error("must be overridden");
};e.Eja=function(){throw Error("not yet implemented");};e.tia=function(d,...c){if("undefined"===typeof d)return!1;for(let h of c){if("undefined"===typeof d[h])return!1;d=d[h]}return!0};e.ee=function(d){return"undefined"===typeof d||null===d};e.Vfa=function(d){let c=d[0].constructor;for(let h of d)if(h.constructor!==c)return!1;return c};e.Wfa=function(d,c){for(let h of d)if(!(h instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);e.Tia=function(d){return e.mm(d,b)};e.Gla=function(){};
e.coa=function(d){e.B5(d,b)};e.boa=function(d,...c){if(!e.A5(d,...c))throw new TypeError("unexpected type");};e.A5=function(d,...c){for(const h of c)if(e.dP(d,h))return!0;return!1};e.B5=function(d,c){if(!e.dP(d,c))throw new TypeError("unexpected type");};e.dP=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};a.Of=e.Of;a.XN=e.XN;a.Qj=e.Qj;a.UN=e.UN;a.yd=e.yd;a.ZN=e.ZN;a.SN=e.SN;a.YN=e.YN;a.FE=e.FE;a.TN=e.TN;a.Rj=e.Rj;a.VN=e.VN;a.GE=e.GE;a.WN=e.WN;a.ee=
e.ee}
{"use strict";const e=self.B,a=new Map;e.Lka=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;e.nna=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,IU:0,eK:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.IU.toPrecision(3)} :: calls => ${this.eK}`}})};e.lha=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.IU=u.total/u.eK;u.eK++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.ux=function(){return Error().stack};e.dha=function(){debugger};e.Soa=function(u,w){return u&&u instanceof w?u:null};e.Fk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.pm(u)?"<number>":e.li(u)?"<string>":e.ao(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.fE(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.tC=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let d=new Map,c=new Map,h=new WeakMap,m=new WeakMap;e.Up={};const g=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",e.ux())}e.Up.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||l(`Accessed missing property '${w}' from defended object '${e.Fk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&l(`Accessed property '${w}' on a released object '${e.Fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};e.Up.set=function(u,w,r){w in u||d.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${e.Fk(u)}'`);{var v=e.tC(u[w]);
let y=e.tC(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||d.has(u)||l(`Set '${e.tC(u[w])}' property '${w}' to type '${e.tC(r)}' on defended object '${e.Fk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${e.Fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};e.Up.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${e.Fk(u)}'`);};e.Up.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${e.Fk(u)}'`);};e.Up.gpa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.Fk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(w=>e.Fk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.ea=class{constructor(){if(e.zK&&e.tb.MN){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,e.Up);d.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};e.Pda=function(u){if(e.zK&&e.tb.MN&&u instanceof e.ea){if(!c.has(u))return u;let w=c.get(u);c.delete(u);d.delete(w);return u}return e.Bw?Object.seal(u):u};e.j=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),d.clear(),A;}if(e.zK){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);e.vn(v,[...y]);v.length&&console.warn(`[Defence] '${e.Fk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return e.Pda(r)};e.A=function(u){(u=h.get(u))&&m.set(u,e.ux())};e.Oy=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;e.dka=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const e=self.B,a=2*Math.PI,b=Math.PI/180,d=180/Math.PI;e.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};e.Bea=function(h,m,g,l){return(h-m)*(l-0)/(g-m)};e.normalize=function(h,m,g){return(h-m)/(g-m)};e.da=function(h,m,g){return h<m?m:h>g?g:h};e.se=function(h){h%=a;0>h&&(h+=a);return h};e.xb=function(h){return h*b};e.Wh=function(h){return h*d};e.Lp=function(h,m,g,l){return Math.hypot(g-h,l-m)};e.RU=function(h,
m,g,l){h=g-h;m=l-m;return h*h+m*m};e.cK=function(h,m,g,l){return Math.atan2(l-m,g-h)};e.os=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};e.bK=function(h,m,g){let l=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>g?0<n*p-l*q?e.se(h+g):e.se(h-g):e.se(m)};e.yf=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};e.aK=function(h,m,g,l=0){let n=e.os(h,m);l*=a;return e.yf(m,
h)?e.se(h+(n+l)*g):e.se(h-(n+l)*g)};e.Ada=function(h,m,g,l=0){const n=e.os(h,m);l*=a;return e.yf(m,h)?e.se(h+(n+l)*g):e.se((a-n+l)*g)};e.zda=function(h,m,g,l=0){const n=e.os(h,m);l*=a;return e.yf(m,h)?e.se((-a+n-l)*g):e.se(h-(n+l)*g)};e.ae=function(h,m,g){return h+g*(m-h)};e.HC=function(h,m,g){return h===m?0:(g-h)/(m-h)};e.Qea=function(h,m,g,l){return e.ae(0,l,e.HC(h,m,g))};e.BC=function(h,m,g,l){return e.ae(e.ae(h,m,l),e.ae(m,g,l),l)};e.PU=function(h,m,g,l,n){return e.ae(e.BC(h,m,g,n),e.BC(m,g,l,
n),n)};e.OU=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};e.Uh=function(h){return 0<h&&0===(h-1&h)};e.zC=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};e.pra=function(h,m){return Math.round(h*m)/m};e.npa=function(h,m){return Math.floor(h*m)/m};e.vV=function(h){return Math.round(1E6*h)/1E6};e.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};e.B2=function(h,m,g){return e.da(h,0,255)|e.da(m,
0,255)<<8|e.da(g,0,255)<<16};e.oy=function(h,m,g,l){h=e.da(Math.floor(1024*h),-8192,8191);m=e.da(Math.floor(1024*m),-8192,8191);g=e.da(Math.floor(1024*g),-8192,8191);l=e.da(Math.floor(1023*l),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+l)};e.HN=function(h,m,g){return e.oy(h,m,g,1)};e.KD=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};e.ED=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};e.tD=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};e.fZ=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};e.hea=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Fpa=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let l=
h/g[0]*g[1];if(1>Math.abs(m-l))return g.slice(0);l=h/g[1]*g[0];if(1>Math.abs(m-l))return[g[1],g[0]]}g=e.hea(h,m);return[h/g,m/g]};e.wra=function(h,m,g,l,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-l;h=g-h;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};e.Yl=function(h,m,g,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-l;h=g-h;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};e.CC=function(h,m,g,l,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l),r=n.ub,v=n.wb,y=n.mc,A=n.nc,G=n.hc,z=n.ic,F=n.ec;n=n.fc;return e.Yl(h,m,g,l,p,q,u,w,r,v,y,A)||e.Yl(h,m,g,l,p,q,u,w,y,A,G,z)||e.Yl(h,m,g,l,p,q,u,w,G,z,F,n)||e.Yl(h,m,g,l,p,q,u,w,F,n,r,v)};e.vra=function(h,m,g,l,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(e.Yl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.Yl(h,m,g,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};e.Pea=function(h,m,g,l,n,p,q,u){g-=h;p=u-p;const w=g*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-h)+g*(u-m))/w;return 0<l&&1.000001>l?(p*(q-h)+(n-q)*(u-m))/w:2};e.Kw=function(h,m,g,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return e.Pea(h,m,g,l,n-r,p-w,q+r,u+w)};e.rea=function(h,m,g,l,n,p,q,u){n-=
g;p-=l;q-=g;u-=l;h-=g;g=m-l;m=n*n+p*p;l=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};e.nfa=function(h,m,g,l,n,p,q,u){n-=g;p-=l;q-=g;u-=l;h-=g;const w=m-l;m=n*n+p*p;l=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-l*l;u=(g*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};e.mfa=function(h,m,g,l,n,p,q,u,w){return[h*l+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const e=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}e.Hha=function(){return b};e.uD=function(){if(!a)return"";const l=a.location;return e.h_(l.origin+l.pathname)+b};e.h_=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};e.Lha=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};e.FZ=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};e.Ax=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};e.K1=function(l){return l.replace(/\\/g,"/")};e.xia=function(l,n){return n===(l?e.FZ(l).slice(1):"")};e.vha=function(l,n){let p,q;e.eE(l)&&(p=e.Ax(l.name));e.li(l)&&(p=
e.Ax(l));e.eE(n)&&(q=e.Ax(n.name));e.li(n)&&(q=e.Ax(n));return p===q};e.bka=function(l){l=e.K1(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,Ioa:u,name:l,root:n,ext:w,Apa:n+q+u}};e.pF=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};e.Fra=function(l){try{l()}catch(n){e.Bw&&console.warn("Swallowed exception: ",n)}};e.Bqa=function(){};e.zn=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};e.hpa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};e.ofa=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};e.Ve=function(l,n){l.length=n};e.D=function(l){l&&0!==l.length&&e.Ve(l,0)};e.Lda=function(l){if(l){for(let n=0;n<l.length;n++)e.Ve(l[n],0);e.Ve(l,0)}};e.pC=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};e.uV=function(l){var n=4;const p=l.length;n<p?e.Ve(l,n):n>p&&e.pC(l,n,"0")};e.Hc=function(l,n){e.D(l);e.vn(l,n)};e.vn=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
e.Dda=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];e.Ve(l,p)}};e.Ek=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};e.Hoa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};e.Cda=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}e.Ve(l,q);return p};e.gg=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}e.Ve(l,q);return p-q};e.oea=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};e.Vra=function(l,n){if(!e.oea(l,n))throw new RangeError("array index out of bounds");};e.jK=function(l){return l.slice()};e.Qda=function(l,n){let p=[];for(let q of l)if(e.cN(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else e.ao(q)?p.push(e.Qda(q,n)):p.push(q);return p};e.Toa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};e.xqa=function(l,n){return new Set([...l,...n])};e.yqa=function(l,n){for(const p of n)l.add(p);return l};e.first=function(l){for(let n of l)return n;return null};e.xor=function(l,n){return!l!==!n};e.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};e.Opa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};e.R2=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let d=[];e.Kfa=function(l){d.push(l)};e.Jha=function(){let l=0;for(let n of d){let p=n();l+=p}return Math.floor(l)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=h.get(l);h.delete(l);n&&n(performance.now())};e.EE=function(l){const n=c++;h.set(n,l);m.port1.postMessage(n);
return n};e.RW=function(l){h.delete(l)};e.L2=e.EE;e.y5=function(){return new Promise(l=>e.L2(l))};const g=new Set;e.Yka=function(l){const n=self.requestAnimationFrame(async p=>{await e.y5();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};e.vga=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const e=self.B;e.bE=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.oE=function(a){return!e.bE(a)};e.f5=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};e.rx=function(a){return fetch(a,void 0).then(b=>{e.f5(b);return b})};e.Ks=function(a){return e.rx(a).then(b=>b.text())};e.TL=function(a){return e.rx(a).then(b=>b.json())};e.Ik=function(a){return e.rx(a).then(b=>b.blob())};e.Js=function(a){return e.rx(a).then(b=>
b.arrayBuffer())};e.XY=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=h=>d(h);c.src=a})};e.GW=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};e.jL=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};e.jga=function(a){return e.jL(a).then(b=>
JSON.parse(b))};e.HW=async function(a){a=URL.createObjectURL(a);try{const b=await e.XY(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};e.bh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};e.Yw=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.da(d,0,1);return a.toBlob?new Promise(c=>a.toBlob(c,b,d)):a.convertToBlob?
a.convertToBlob({type:b,quality:d}):e.Gn(()=>e.pL(a,b,d))};e.pL=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.da(d,0,1);return e.wX(a.toDataURL(b,d))};e.wX=function(a){a=e.C2(a);return e.FW(a.data,a.Cea)};e.C2=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var d=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=b[2];d="base64"===b[1]||"base64"===c?atob(d):
decodeURIComponent(d);return{Cea:a,data:d}};e.FW=function(a,b){var d=a.length;let c=d>>2,h=new Uint8Array(d),m=new Uint32Array(h.buffer,0,c),g,l;for(l=g=0;g<c;++g)m[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(d&=3;d--;)h[l]=a.charCodeAt(l),++l;return b?new Blob([h],{type:b}):new Blob([h])};e.LL=function(a,b,d){const c=e.bh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return e.Yw(c,b,d)};e.$ha=function(a,b,d){const c=e.bh(a.width,a.height);c.getContext("2d").putImageData(a,
0,0);return e.pL(c,b,d)};e.Zha=function(a,b,d){if(e.tb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>e.LL(c,b,d));if(e.tb.ImageBitmap)return createImageBitmap(a).then(c=>e.LL(c,b,d));{const c=e.bh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.Yw(c,b,d)}};e.lX=function(a,b){a.clear();for(const d of b)a.add(d)};e.nja=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=c;return b};e.Gja=function(a,b){b.clear();for(const [d,
c]of Object.entries(a))b.set(d,c)};e.mF=function d(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>d(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(b))c[h]=d(m);return c}}return b};e.qD=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(h=>c(h)));if("map"===d._c3type_)return new Map(d.data.map(h=>[h[0],c(h[1])]));
{const h=Object.create(null);for(const [m,g]of Object.entries(d))h[m]=c(g);return h}}return d};e.LW=function(d){let c="",h=!1;for(const m of d)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};e.om=function(d){return"object"===typeof d&&"function"===typeof d.next};e.B1=function(d){const c=[];for(let h=0;h<d;++h)c.push(0);return c}}
{"use strict";const e=self.B;e.$a=class{constructor(a,b,d,c){this.Ta=this.Ua=this.Va=this.Sa=0;a instanceof e.$a?this.set(a):this.Dn(a||0,b||0,d||0,c||0)}As(a,b,d){this.Sa=+a;this.Va=+b;this.Ua=+d;this.da()}Dn(a,b,d,c){this.Sa=+a;this.Va=+b;this.Ua=+d;this.Ta=+c;this.da()}set(a){this.Sa=a.Sa;this.Va=a.Va;this.Ua=a.Ua;this.Ta=a.Ta;return this}na(a){return this.set(a)}add(a){this.Sa+=a.Sa;this.Va+=a.Va;this.Ua+=a.Ua;this.Ta+=a.Ta;this.da()}DU(a,b,d){this.Sa+=+a;this.Va+=+b;this.Ua+=+d;this.Ta+=0;this.da()}jj(a){this.Sa=
a.Sa;this.Va=a.Va;this.Ua=a.Ua}BV(a){this.Sa=e.da(+a,0,1)}Yea(a){this.Va=e.da(+a,0,1)}Vea(a){this.Ua=e.da(+a,0,1)}ys(a){this.Ta=e.da(+a,0,1)}clone(){return e.j(e.$a,this.Sa,this.Va,this.Ua,this.Ta)}toArray(){return[this.Sa,this.Va,this.Ua,this.Ta]}Zg(a,b){a[b++]=this.Sa;a[b++]=this.Va;a[b++]=this.Ua;a[b]=this.Ta}hd(a){return this.Sa===a.Sa&&this.Va===a.Va&&this.Ua===a.Ua&&this.Ta===a.Ta}Wl(a){return this.Sa===a.Sa&&this.Va===a.Va&&this.Ua===a.Ua}oC(a,b,d,c){return this.Sa===a&&this.Va===b&&this.Ua===
d&&this.Ta===c}multiply(a){this.Sa*=a.Sa;this.Va*=a.Va;this.Ua*=a.Ua;this.Ta*=a.Ta}OK(){this.Sa*=this.Ta;this.Va*=this.Ta;this.Ua*=this.Ta}da(){this.Sa=e.da(this.Sa,0,1);this.Va=e.da(this.Va,0,1);this.Ua=e.da(this.Ua,0,1);this.Ta=e.da(this.Ta,0,1);return this}zs(a){this.Sa=e.KD(a);this.Va=e.ED(a);this.Ua=e.tD(a);this.Ta=e.fZ(a)}dea(){return`rgb(${100*(e.Mf(void 0)?NaN:this.Sa)}%, ${100*(e.Mf(void 0)?NaN:this.Va)}%, ${100*(e.Mf(void 0)?NaN:this.Ua)}%)`}mV(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var d=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.BV(a);isFinite(d)&&this.Yea(d);isFinite(b)&&this.Vea(b);this.ys(1)}}}toJSON(){return[this.Sa,this.Va,this.Ua,this.Ta]}Zl(a){!Array.isArray(a)||3>a.length||(this.Sa=a[0],this.Va=a[1],this.Ua=a[2],this.Ta=4<=a.length?a[3]:1)}set r(a){this.BV(a)}get r(){return this.Sa}set Kp(a){this.ys(a)}get Kp(){return this.Ta}static jD(a,b){return e.da(Math.max(a,
b)-Math.min(a,b),0,1)}};e.$a.ioa=Object.freeze(e.j(e.$a,1,1,1,1));e.$a.hga=Object.freeze(e.j(e.$a,0,0,0,1));e.$a.Lna=Object.freeze(e.j(e.$a,0,0,0,0))}
{"use strict";const e=self.B;e.Ut=class{constructor(a,b){this.N=this.P=0;a instanceof e.Ut?this.na(a):this.set(a||0,b||0)}set(a,b){this.P=+a;this.N=+b}na(a){this.P=a.P;this.N=a.N}hd(a){return this.P===a.P&&this.N===a.N}toArray(){return[this.P,this.N]}Zg(a,b){a[b++]=this.P;a[b]=this.N}offset(a,b){this.P+=+a;this.N+=+b}scale(a,b){this.P*=a;this.N*=b}Vl(a,b){this.P/=a;this.N/=b}round(){this.P=Math.round(this.P);this.N=Math.round(this.N)}floor(){this.P=Math.floor(this.P);this.N=Math.floor(this.N)}ceil(){this.P=
Math.ceil(this.P);this.N=Math.ceil(this.N)}angle(){return e.cK(0,0,this.P,this.N)}wea(){return this.P*this.P+this.N*this.N}length(){return Math.sqrt(this.wea())}Tea(a,b){const d=this.P*b-this.N*a;this.N=this.N*b+this.P*a;this.P=d}rotate(a){0!==a&&this.Tea(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.P+=Math.cos(a)*b,this.N+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.P/=a,this.N/=a)}da(a,b){this.P=e.da(this.P,a,b);this.N=e.da(this.N,a,b)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(a,b,d,c){this.Z=this.ca=this.O=this.V=0;a instanceof e.Rect?this.na(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.V=+a;this.O=+b;this.ca=+d;this.Z=+c}Yg(a,b,d,c){a=+a;b=+b;this.V=a;this.O=b;this.ca=a+ +d;this.Z=b+ +c}na(a){this.V=+a.V;this.O=+a.O;this.ca=+a.ca;this.Z=+a.Z}clone(){return new e.Rect(this.V,this.O,this.ca,this.Z)}hd(a){return this.V===a.V&&this.O===a.O&&this.ca===a.ca&&this.Z===a.Z}Yda(a,b,d,c){return this.V===a&&this.O===b&&
this.width()===d&&this.height()===c}toArray(){return[this.V,this.O,this.ca,this.Z]}hfa(){new DOMRect(this.V,this.O,this.width(),this.height())}Zg(a,b){a[b++]=this.V;a[b++]=this.O;a[b++]=this.ca;a[b]=this.Z}qfa(a,b){a[b++]=this.V;a[b++]=this.O;a[b++]=this.ca;a[b++]=this.O;a[b++]=this.ca;a[b++]=this.Z;a[b++]=this.V;a[b]=this.Z}width(){return this.ca-this.V}height(){return this.Z-this.O}ws(){return(this.V+this.ca)/2}xs(){return(this.O+this.Z)/2}offset(a,b){a=+a;b=+b;this.V+=a;this.O+=b;this.ca+=a;this.Z+=
b}offsetLeft(a){this.V+=+a}offsetTop(a){this.O+=+a}Jea(a){this.ca+=+a}Iea(a){this.Z+=+a}uC(a,b){a=+a;b=+b;this.V-=a;this.O-=b;this.ca+=a;this.Z+=b}multiply(a,b){this.V*=a;this.O*=b;this.ca*=a;this.Z*=b}Vl(a,b){this.V/=a;this.O/=b;this.ca/=a;this.Z/=b}An(){this.O=1-this.O;this.Z=1-this.Z}efa(){const a=this.V;this.V=this.ca;this.ca=a}ffa(){const a=this.O;this.O=this.Z;this.Z=a}round(){this.V=Math.round(this.V);this.O=Math.round(this.O);this.ca=Math.round(this.ca);this.Z=Math.round(this.Z)}wV(){this.V=
Math.floor(this.V);this.O=Math.floor(this.O);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}floor(){this.V=Math.floor(this.V);this.O=Math.floor(this.O);this.ca=Math.floor(this.ca);this.Z=Math.floor(this.Z)}ceil(){this.V=Math.ceil(this.V);this.O=Math.ceil(this.O);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}da(a,b,d,c){this.V<a&&(this.V=+a);this.O<b&&(this.O=+b);this.ca>d&&(this.ca=+d);this.Z>c&&(this.Z=+c)}normalize(){this.V>this.ca&&this.efa();this.O>this.Z&&this.ffa()}vC(a){return!(a.ca<
this.V||a.Z<this.O||a.V>this.ca||a.O>this.Z)}nea(a,b,d){return!(a.ca+b<this.V||a.Z+d<this.O||a.V+b>this.ca||a.O+d>this.Z)}Af(a,b){return a>=this.V&&a<=this.ca&&b>=this.O&&b<=this.Z}}}
{"use strict";const e=self.B;e.rd=class{constructor(a,b,d,c,h,m,g,l){this.fc=this.ec=this.ic=this.hc=this.nc=this.mc=this.wb=this.ub=0;a instanceof e.rd?this.na(a):this.set(a||0,b||0,d||0,c||0,h||0,m||0,g||0,l||0)}set(a,b,d,c,h,m,g,l){this.ub=+a;this.wb=+b;this.mc=+d;this.nc=+c;this.hc=+h;this.ic=+m;this.ec=+g;this.fc=+l}CV(a,b,d,c){this.set(a,b,d,b,d,c,a,c)}na(a){this.ub=a.ub;this.wb=a.wb;this.mc=a.mc;this.nc=a.nc;this.hc=a.hc;this.ic=a.ic;this.ec=a.ec;this.fc=a.fc}hd(a){return this.ub===a.ub&&this.wb===
a.wb&&this.mc===a.mc&&this.nc===a.nc&&this.hc===a.hc&&this.ic===a.ic&&this.ec===a.ec&&this.fc===a.fc}toArray(){return[this.ub,this.wb,this.mc,this.nc,this.hc,this.ic,this.ec,this.fc]}Zg(a,b){a[b++]=this.ub;a[b++]=this.wb;a[b++]=this.mc;a[b++]=this.nc;a[b++]=this.hc;a[b++]=this.ic;a[b++]=this.ec;a[b]=this.fc}rfa(a,b,d){a[b++]=this.ub;a[b++]=this.wb;a[b++]=d;a[b++]=this.mc;a[b++]=this.nc;a[b++]=d;a[b++]=this.hc;a[b++]=this.ic;a[b++]=d;a[b++]=this.ec;a[b++]=this.fc;a[b]=d}offset(a,b){a=+a;b=+b;this.ub+=
a;this.wb+=b;this.mc+=a;this.nc+=b;this.hc+=a;this.ic+=b;this.ec+=a;this.fc+=b}round(){this.ub=Math.round(this.ub);this.wb=Math.round(this.wb);this.mc=Math.round(this.mc);this.nc=Math.round(this.nc);this.hc=Math.round(this.hc);this.ic=Math.round(this.ic);this.ec=Math.round(this.ec);this.fc=Math.round(this.fc)}floor(){this.ub=Math.floor(this.ub);this.wb=Math.floor(this.wb);this.mc=Math.floor(this.mc);this.nc=Math.floor(this.nc);this.hc=Math.floor(this.hc);this.ic=Math.floor(this.ic);this.ec=Math.floor(this.ec);
this.fc=Math.floor(this.fc)}ceil(){this.ub=Math.ceil(this.ub);this.wb=Math.ceil(this.wb);this.mc=Math.ceil(this.mc);this.nc=Math.ceil(this.nc);this.hc=Math.ceil(this.hc);this.ic=Math.ceil(this.ic);this.ec=Math.ceil(this.ec);this.fc=Math.ceil(this.fc)}oj(a){this.ub=a.V;this.wb=a.O;this.mc=a.ca;this.nc=a.O;this.hc=a.ca;this.ic=a.Z;this.ec=a.V;this.fc=a.Z}Xea(a,b){0===b?this.oj(a):this.AV(a,Math.sin(b),Math.cos(b))}AV(a,b,d){const c=a.V*b,h=a.O*b,m=a.ca*b;b*=a.Z;const g=a.V*d,l=a.O*d,n=a.ca*d;a=a.Z*
d;this.ub=g-h;this.wb=l+c;this.mc=n-h;this.nc=l+m;this.hc=n-b;this.ic=a+m;this.ec=g-b;this.fc=a+c}sK(a){a.set(Math.min(this.ub,this.mc,this.hc,this.ec),Math.min(this.wb,this.nc,this.ic,this.fc),Math.max(this.ub,this.mc,this.hc,this.ec),Math.max(this.wb,this.nc,this.ic,this.fc))}Af(a,b){var d=this.mc-this.ub,c=this.nc-this.wb;const h=this.hc-this.ub,m=this.ic-this.wb;a-=this.ub;b-=this.wb;var g=d*d+c*c;let l=d*h+c*m;c=d*a+c*b;const n=h*h+m*m,p=h*a+m*b;let q=1/(g*n-l*l);d=(n*c-l*p)*q;g=(g*p-l*c)*q;
if(0<=d&&0<g&&1>d+g)return!0;d=this.ec-this.ub;c=this.fc-this.wb;g=d*d+c*c;l=d*h+c*m;c=d*a+c*b;q=1/(g*n-l*l);d=(n*c-l*p)*q;g=(g*p-l*c)*q;return 0<=d&&0<g&&1>d+g}ws(){return(this.ub+this.mc+this.hc+this.ec)/4}xs(){return(this.wb+this.nc+this.ic+this.fc)/4}vK(a){var b=a.ws(),d=a.xs();if(this.Af(b,d))return!0;b=this.ws();d=this.xs();if(a.Af(b,d))return!0;b=this.ub;d=this.wb;const c=this.mc,h=this.nc,m=this.hc,g=this.ic,l=this.ec,n=this.fc;return e.CC(b,d,c,h,a)||e.CC(c,h,m,g,a)||e.CC(m,g,l,n,a)||e.CC(l,
n,b,d,a)}Sea(){const a=this.ub,b=this.wb;this.ub=this.mc;this.wb=this.nc;this.mc=this.hc;this.nc=this.ic;this.hc=this.ec;this.ic=this.fc;this.ec=a;this.fc=b}}}
{"use strict";const e=self.B,a=[0,0,1,0,1,1,0,1],b=e.j(e.rd);e.Ln=class extends e.ea{constructor(d,c=!0){super();d||(d=a);this.Fd=Float64Array.from(d);this.Dz=new e.Rect;this.fp=!0;this.Hg=c}A(){}nV(){return this.Fd.length/2}DC(d){this.Fd.length===d.length?this.Fd.set(d):this.Fd=Float64Array.from(d);this.fp=!0}Wea(){this.DC(a)}na(d){this.DC(d.Fd)}UK(){this.fp=!0}rda(){if(this.fp){var d=this.Fd,c=d[0],h=d[1],m=c,g=h;for(let l=0,n=d.length;l<n;l+=2){const p=d[l],q=d[l+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.Dz.set(c,h,m,g);this.fp=!1}}oj(d){let c=this.Fd;8!==c.length&&(this.Fd=c=new Float64Array(8));c[0]=d.V-NaN;c[1]=d.O-NaN;c[2]=d.ca-NaN;c[3]=d.O-NaN;c[4]=d.ca-NaN;c[5]=d.Z-NaN;c[6]=d.V-NaN;c[7]=d.Z-NaN;this.Dz.na(d);this.Dz.offset(NaN,NaN);this.fp=!1}VK(d,c,h){b.na(d);b.offset(c,h);this.DC(b.toArray());this.fp=!0}transform(d,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.bL(d,c,m,g)}bL(d,c,h,m){const g=this.Fd;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*d,u=
g[p]*c;g[l]=q*m-u*h;g[p]=u*m+q*h}this.fp=!0}offset(d,c){const h=this.Fd;for(let m=0,g=h.length;m<g;m+=2)h[m]+=d,h[m+1]+=c}Af(d,c){const h=this.Fd;if(d===h[0]&&c===h[1])return!0;this.rda();var m=this.Dz;const g=m.V-110,l=m.O-101,n=m.ca+131;m=m.Z+120;let p,q,u,w,r,v,y,A;g<d?(p=g,u=d):(p=d,u=g);l<c?(q=l,w=c):(q=c,w=l);n<d?(r=n,y=d):(r=d,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],Q=h[H+1],R=h[F];F=h[F+1];e.Yl(g,l,d,c,p,u,q,w,M,Q,R,F)&&++G;e.Yl(n,
m,d,c,r,y,v,A,M,Q,R,F)&&++z}return 1===G%2||1===z%2}Aw(d,c,h){const m=d.Fd,g=this.Fd;if(this.Af(m[0]+c,m[1]+h)||d.Af(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;d=g[n];const q=g[n+1],u=g[l];l=g[l+1];let w,r,v,y;d<u?(w=d,v=u):(w=u,v=d);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.Yl(d,q,u,l,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}fo(){return this.Hg}}}
{"use strict";const e=self.B;e.xt=class extends e.ea{constructor(a){super();this.hk=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}A(){this.od();this.hk=null}od(){const a=this.hk;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.hk;let h=c.get(a);h||(h=new Map,c.set(a,h));h.set(b,d)}Y(a,b){return(a=this.hk.get(a))?a.get(b):a}Vx(a){return(a=this.hk.get(a))?a.has(void 0):!1}Mn(a,b){const d=this.hk,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}JL(a){const b=this.hk,d=b.get(a);
d&&(d.clear(),b.delete(a));for(const [c,h]of b.entries())h.delete(a)&&0===h.size&&b.delete(c)}km(){let a=0;for(const b of this.hk.values())a+=b.size;return a}*values(){for(const a of this.hk.values())yield*a.values()}*entries(){for(const [a,b]of this.hk.entries())for(const [d,c]of b.entries())yield[a,d,c]}}}
{"use strict";const e=self.B;e.TC=class extends e.ea{constructor(){super();this.$m=new Set;this.Az=[];this.Gv=!1}A(){this.od()}od(){this.$m.clear();e.D(this.Az);this.Gv=!1}Ic(a){this.$m.has(a)||(this.$m.add(a),this.Gv||this.Az.push(a))}Vx(a){return this.$m.has(a)}Mn(a){this.$m.delete(a)&&(this.Gv=!0)}km(){return this.$m.size}eo(){return 0===this.$m.size}sD(){this.Gv&&(this.s$(),this.Gv=!1);return this.Az}s$(){const a=this.Az;e.D(a);for(const b of this.$m)a.push(b)}}}
{"use strict";const e=new Map,a=new Map,b=new Map,d=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.Hs=class m{constructor(){}static Y0(g){this.xF();return[...a.keys()].includes(g)}static Y7(g){const l=h.get(g);if(l)return e.get(l);if(m.Y0(g))return e.get(g);if(c.has(g))return c.get(g)}static Un(g){this.xF();const l=m.Y7(g);return l?l:d.get(g)}static xF(){0===e.size&&(this.zb("default",()=>{}),this.zb("noease",this.J1),this.zb("easeinsine",this.CY),this.zb("easeoutsine",
this.LY),this.zb("easeinoutsine",this.yY),this.zb("easeinelastic",this.mY),this.zb("easeoutelastic",this.GY),this.zb("easeinoutelastic",this.tY),this.zb("easeinback",this.jY),this.zb("easeoutback",this.DY),this.zb("easeinoutback",this.pY),this.zb("easeinbounce",this.ML),this.zb("easeoutbounce",this.mD),this.zb("easeinoutbounce",this.qY),this.zb("easeincubic",this.lY),this.zb("easeoutcubic",this.FY),this.zb("easeinoutcubic",this.sY),this.zb("easeinquad",this.zY),this.zb("easeoutquad",this.IY),this.zb("easeinoutquad",
this.vY),this.zb("easeinquart",this.AY),this.zb("easeoutquart",this.JY),this.zb("easeinoutquart",this.wY),this.zb("easeinquint",this.BY),this.zb("easeoutquint",this.KY),this.zb("easeinoutquint",this.xY),this.zb("easeincirc",this.kY),this.zb("easeoutcirc",this.EY),this.zb("easeinoutcirc",this.rY),this.zb("easeinexpo",this.nY),this.zb("easeoutexpo",this.HY),this.zb("easeinoutexpo",this.uY),this.lP("cubicbezier",this.iY),this.lP("spline",this.MY))}static zb(g,l){m.rF(g,l,"predefined")}static lP(g,l){m.rF(g,
l,"private")}static aW(g,l){this.xF();m.rF(g,l,"custom",void 0)}static rF(g,l,n,p){switch(n){case "predefined":e.set(g,l);a.set(g,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(g,l)):d.set(g,l);break;case "private":e.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static J1(g,l,n,p){return n*g/p+l}static zY(g,l,n,p){return n*(g/=p)*g+l}static IY(g,l,n,p){return-n*(g/=p)*(g-2)+l}static vY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static lY(g,
l,n,p){return n*(g/=p)*g*g+l}static FY(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static sY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static AY(g,l,n,p){return n*(g/=p)*g*g*g+l}static JY(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static wY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static BY(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static KY(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static xY(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static CY(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static LY(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static yY(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static nY(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static HY(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static uY(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static kY(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static EY(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static rY(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static mY(g,l,n,p){let q=0,u=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static GY(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(1===(g/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+l}static tY(g,l,n,p){let q,u=0,w=n;if(0===g)return l;if(2===(g/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+l}static jY(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static DY(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static pY(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static ML(g,l,n,p){return n-m.mD(p-g,0,n,p)+l}static mD(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static qY(g,l,n,p){return g<p/2?.5*m.ML(2*g,0,n,p)+l:.5*m.mD(2*g-p,0,n,p)+.5*n+l}static iY(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static MY(g,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-g)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static lZ(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const e=self.B;e.Dka=class{constructor(){this.dT=[]}A(){this.od();this.dT=null}od(){e.Lda(this.dT)}}}"use strict";
self.B.Event=class{constructor(e,a){this.type=e;this.cancelable=!!a;this.pea=this.PK=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.pea)throw Error(`cannot stop async event '${this.type}' propagation`);this.PK=!0}};
{"use strict";const e=self.B;e.Event.B_=class extends e.ea{constructor(a){super();this.ua=a;this.kf=[];this.Zq=new Set;this.tf=[];this.Er=new Set;this.Tu=0;this.Or=[]}A(){0<this.Tu||(e.D(this.kf),this.Zq.clear(),e.D(this.tf),this.Er.clear(),e.D(this.Or),e.A(this))}jP(a,b){this.zQ()?this.Or.push({JK:"add",Th:a,capture:b}):b?this.Zq.has(a)||(this.kf.push(a),this.Zq.add(a)):this.Er.has(a)||(this.tf.push(a),this.Er.add(a))}H$(a,b){this.zQ()?this.Or.push({JK:"remove",Th:a,capture:b}):b?this.Zq.has(a)&&
(this.Zq.delete(a),e.Ek(this.kf,a)):this.Er.has(a)&&(this.Er.delete(a),e.Ek(this.tf,a))}N8(){return!this.kf.length&&!this.tf.length}zQ(){return 0<this.Tu}p$(){const a=new Set,b=new Set;for(const d of this.Or)if("add"===d.JK)this.jP(d.Th,d.capture),d.capture?b.delete(d.Th):a.delete(d.Th);else if("remove"===d.JK)d.capture?(this.Zq.delete(d.Th),b.add(d.Th)):(this.Er.delete(d.Th),a.add(d.Th));else throw Error("invalid op");e.gg(this.tf,a);e.gg(this.kf,b);e.D(this.Or)}K7(a){this.Pq();let b=!1;for(let d=
0,c=this.kf.length;d<c;++d)if(this.kf[d](a),a.PK){b=!0;break}if(!b)for(let d=0,c=this.tf.length;d<c&&(this.tf[d](a),!a.PK);++d);this.Lq();return!a.defaultPrevented}M7(a){this.Pq();for(let b=0,d=this.kf.length;b<d;++b)this.kf[b](a);for(let b=0,d=this.tf.length;b<d;++b)this.tf[b](a);this.Lq();return!0}Pq(){this.Tu++}Lq(){this.Tu--;0===this.Tu&&0<this.Or.length&&this.p$()}yq(a){a?this.Pq():this.Lq()}RP(a){const b=[];this.Pq();for(let c=0,h=this.kf.length;c<h;++c){var d=this.kf[c](a);d instanceof Promise&&
b.push(d)}for(let c=0,h=this.tf.length;c<h;++c)d=this.tf[c](a),d instanceof Promise&&b.push(d);this.Lq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async H7(a){return await this.RP(a)}async I7(a){this.Pq();for(let d=0,c=this.kf.length;d<c;++d){var b=this.kf[d](a);b instanceof Promise&&await b}for(let d=0,c=this.tf.length;d<c;++d)b=this.tf[d](a),b instanceof Promise&&await b;this.Lq();return!a.defaultPrevented}*J7(a){this.Pq();for(let d=0,c=this.kf.length;d<c;++d){var b=
this.kf[d](a);e.om(b)&&(yield*b)}for(let d=0,c=this.tf.length;d<c;++d)b=this.tf[d](a),e.om(b)&&(yield*b);this.Lq()}}}
{"use strict";const e=self.B;e.Event.Sb=class extends e.ea{constructor(){super();this.To=new Map;this.qH=!1}A(){if(this.qH)throw Error("already released");this.XW();this.qH=!0;e.A(this)}Oy(){return this.qH}XW(){for(let a of this.To.values())a.A();this.To.clear()}Do(a,b){let d=this.To.get(a);return d?d:b?(d=e.j(e.Event.B_,a),this.To.set(a,d),d):null}RD(a){return this.To.has(a)}addEventListener(a,b,d){this.Do(a,!0).jP(b,!!d)}removeEventListener(a,b,d){let c=this.Do(a,!1);c&&(c.H$(b,!!d),c.N8()&&this.To.delete(a))}dispatchEvent(a){const b=
this.Do(a.type,!1);return b?a.cancelable?b.K7(a):b.M7(a):!0}async nK(a){const b=this.Do(a.type,!1);return b?await b.H7(a):!0}Vda(a){const b=this.Do(a.type,!1);return b?b.RP(a):!0}async Uda(a){const b=this.Do(a.type,!1);b&&await b.I7(a)}Wda(a){const b=this.Do(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.J7(a)}yq(a){for(const b of this.To.values())b.yq(a)}}}
{"use strict";const e=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],d=-1,c=0;function h(n){d=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(b.length){var p=performance.now(),q=0;do{g(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===d&&b.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.Th()}catch(q){n.reject(q);return}n.resolve(p)}let l=e.zE.Vx("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.Gn=function(n){let p=null;e.Bw&&(p=e.ux());return new Promise((q,u)=>{b.push({Th:n,resolve:q,reject:u,stack:p});l?g(b.pop()):-1===d&&h(16)})};e.Gn.sO=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let a=-1;function b(){a=-1}e.qx=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let d=-1,c=-1,h=new Set;function m(){c=d=-1;let g=Date.now();for(let l of h)if(l.l6(g)){let n=l.Qo;if(-1===c||n<c)c=n}else h.delete(l);-1!==c&&(d=self.setTimeout(m,Math.max(c-g+100,1E3)))}e.d0=class{constructor(g,l){this.Yq=g;this.VB=1E3*l;this.Qo=0;this.Fb=!1}bd(){let g=e.qx();this.Qo=g+this.VB;this.Fb||(h.add(this),this.Fb=!0);-1===d?(c=this.Qo,d=self.setTimeout(m,this.VB+
100)):this.Qo<c&&c>g+1E3&&(self.clearTimeout(d),c=this.Qo,d=self.setTimeout(m,this.VB+100))}l6(g){return g>=this.Qo?this.Yq()?(this.Qo=g+this.VB,!0):this.Fb=!1:!0}QW(){this.Fb&&(h.delete(this),this.Fb=!1,0===h.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}A(){this.QW();this.Yq=null}}}
{"use strict";const e=self.B;e.ve=class a{constructor(b){this.kr=!1;this.rH=b}lx(){this.kr||(this.kr=!0,this.rH&&(this.rH(),this.rH=null))}A(){this.lx()}static A(b){return new a(()=>b.A())}static fh(b,d,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.cD;for(let g of d)b.addEventListener(g,c,h),m.Ic(e.j(e.ve,()=>b.removeEventListener(g,c,h)));return m}b.addEventListener(d,
c,h);return e.j(e.ve,()=>b.removeEventListener(d,c,h))}};e.zna=class extends e.ve{};e.cD=class extends e.ve{constructor(...a){super();this.lf=new Set;for(let b of a)this.Ic(b)}Ic(...a){if(this.kr)throw Error("already disposed");for(let b of a)this.lf.add(b)}jh(a){if(this.kr)throw Error("already disposed");this.lf.delete(a)}lx(){if(this.kr)throw Error("already disposed");this.kr=!0;for(let a of this.lf)a.lx();this.lf.clear();this.lf=null}A(){this.lx()}}}
{"use strict";const e=self.B;e.hy=class extends e.ea{constructor(){super();this.Vr=this.$v=this.N=this.Gz=0}Ic(a){this.N=+a-this.Gz;this.$v=this.Vr+this.N;this.Gz=this.$v-this.Vr-this.N;this.Vr=this.$v}Y(){return this.Vr}bd(){this.Vr=this.$v=this.N=this.Gz=0}Set(a){this.$v=this.N=this.Gz=0;this.Vr=+a}A(){}}}
{"use strict";const e=self.B,a={BE:function(b){this.MV=b;this.left=this.right=this.MV.kb;this.parent=null;this.color=!1;this.key=null},mo:function(b){this.size=0;this.kb=new a.BE(this);this.kb.color=!1;this.root=this.kb;this.root.parent=this.kb;this.compare=b||this.Rda}};xa=a.mo.prototype;xa.Rda=function(b,d){return b<d?-1:d<b?1:0};xa.clone=function(){var b=new a.mo(this.compare);b.kea(this);return b};xa.clear=function(){this.size=0;this.kb=new a.BE(this);this.kb.color=!1;this.root=this.kb;this.root.parent=
this.kb};xa.Dw=function(b){var d=b.right;b.right=d.left;d.left!=this.kb&&(d.left.parent=b);d.parent=b.parent;b.parent==this.kb?this.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d};xa.Lw=function(b){var d=b.left;b.left=d.right;d.right!=this.kb&&(d.right.parent=b);d.parent=b.parent;b.parent==this.kb?this.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d};xa.rs=function(b){if(this.contains(b))this.yw(b).key=b;else{var d=new a.BE(this);d.key=
b;b=this.kb;for(var c=this.root;c!=this.kb;)b=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=b;b==this.kb?this.root=d:0>this.compare(d.key,b.key)?b.left=d:b.right=d;d.left=this.kb;d.right=this.kb;d.color=!0;this.lea(d);this.size++}};xa.lea=function(b){for(;b!=this.kb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var d=b.parent.parent.right;1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Dw(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.kb&&this.Lw(b.parent.parent))}else d=b.parent.parent.left,1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Lw(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.kb&&this.Dw(b.parent.parent));this.root.color=!1};xa.Tda=function(b){var d=b.left==this.kb||b.right==this.kb?b:this.En(b);var c=d.left!=this.kb?d.left:d.right;c.parent=d.parent;d.parent==
this.kb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);0==d.color&&this.Sda(c);this.size--};xa.Sda=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var d=b.parent.right;1==d.color&&(d.color=!1,b.parent.color=!0,this.Dw(b.parent),d=b.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.Lw(d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,this.Dw(b.parent),
b=this.root)}else d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,this.Lw(b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Dw(d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,this.Lw(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.yw(b);if(b!=this.kb){var d=b.key;this.Tda(b);return d}return null};xa.min=function(b){for(;b.left!=this.kb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.kb;)b=b.right;return b};xa.En=function(b){if(b.right!=this.kb)return this.min(b.right);for(var d=b.parent;d!=this.kb&&b==d.right;)b=d,d=d.parent;return d};xa.yw=function(b){for(var d=this.root;d!=this.kb&&0!=this.compare(d.key,b);)d=0>this.compare(b,d.key)?d.left:d.right;return d};xa.contains=function(b){return null!=this.yw(b).key};xa.tK=function(){var b=[];this.forEach(function(d){b.push(d)});return b};xa.kea=function(b){if("array"==a.cL(b))for(var d=0;d<b.length;d++)this.rs(b[d]);
else if("function"==a.cL(b.forEach))b.forEach(this.rs,this);else if("function"==a.cL(b.tK))for(b=b.tK(),d=0;d<b.length;d++)this.rs(b[d]);else if("object"==a.cL(b))for(d in b)this.rs(b[d])};xa.range=function(b,d){var c=[];this.lfa(function(h){c.push(h)},b,d);return c};xa.lfa=function(b,d,c){if(!this.us())for(d=this.yw(d),c=this.yw(c);d!=c&&!b.call(void 0,d.key,this);)d=this.En(d)};xa.forEach=function(b,d){if(!this.us())for(var c=this.min(this.root);c!=this.kb;c=this.En(c))b.call(d,c.key,c.key,this)};
xa.some=function(b,d){if(this.us())return!1;for(var c=this.min(this.root);c!=this.kb;c=this.En(c))if(b.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(b,d){if(this.us())return!1;for(var c=this.min(this.root);c!=this.kb;c=this.En(c))if(!b.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(b,d){var c=[];if(this.us())return c;for(var h=this.min(this.root);h!=this.kb;h=this.En(h))c.push(b.call(d,h.key,h.key,this));return c};xa.filter=function(b,d){var c=[];if(this.us())return c;
for(var h=this.min(this.root);h!=this.kb;h=this.En(h))b.call(d,h.key,h.key,this)&&c.push(h.key);return c};xa.us=function(){return 0==this.size};e.mo=class extends e.ea{constructor(b){super();this.Pg=new a.mo(b);this.pr=!1;this.xp=new Set;this.yp=new Set}Ic(b){this.pr?this.Pg.contains(b)?this.yp.delete(b):this.xp.add(b):this.Pg.rs(b)}jh(b){this.pr?this.Pg.contains(b)?this.yp.add(b):this.xp.delete(b):this.Pg.remove(b)}Vx(b){return this.pr?this.xp.has(b)?!0:!this.yp.has(b)&&this.Pg.contains(b):this.Pg.contains(b)}od(){this.Pg.clear();
this.xp.clear();this.yp.clear()}toArray(){if(this.pr)throw Error("cannot be used in queueing mode");return this.Pg.tK()}km(){return this.Pg.size+this.xp.size-this.yp.size}eo(){return 0===this.km()}kh(b){b=!!b;if(this.pr!==b&&(this.pr=b,!b)){for(const d of this.yp)this.Pg.remove(d);this.yp.clear();for(const d of this.xp)this.Pg.rs(d);this.xp.clear()}}WL(b){this.Pg.forEach(b)}*values(){if(!this.eo()){var b=this.Pg;for(let d=b.min(b.root);d!=b.kb;d=b.En(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.JN=class{constructor(a=e.hardwareConcurrency){this.Rca=a;this.gJ=[];this.HG=0}Ic(a){return new Promise((b,d)=>{this.gJ.push({Th:a,resolve:b,reject:d});this.JQ()})}async JQ(){if(this.gJ.length&&!(this.HG>=this.Rca)){this.HG++;var a=this.gJ.shift();try{const b=await a.Th();a.resolve(b)}catch(b){a.reject(b)}this.HG--;this.JQ()}}}}
{"use strict";const e=self.B;e.Z2=class{constructor(a,b,d){this.Yq=a;this.Bca=b;this.Cca=d||2*b;this.$r=-1;this.UA=-Infinity;this.nU=()=>this.f$();this.gca=this.SH=!1;this.Gu=null}d8(){return"undefined"!==typeof e.DW&&e.DW.Iia()?this.Cca:this.Bca}PW(){var a=[];if(-1===this.$r){this.Gu=a;a=e.qx();var b=a-this.UA,d=this.d8();b>=d&&this.gca?(this.UA=a,this.gR()):this.$r=self.setTimeout(this.nU,Math.max(d-b,4))}}gR(){this.SH=!0;const a=this.Gu;this.Gu=null;a?this.Yq(...a):this.Yq();this.SH=!1}bd(){this.SH||
(this.sP(),this.Gu=null,this.UA=e.qx())}f$(){this.$r=-1;this.UA=e.qx();this.gR()}sP(){-1!==this.$r&&(self.clearTimeout(this.$r),this.$r=-1)}A(){this.sP();this.nU=this.Gu=this.Yq=null}}}"use strict";function hc(e,a){if(!e.xS)throw Error("no get base size callback set");return e.xS(a)}self.B.Xla=class{constructor(){this.yca=new Map;this.OT=this.QT=this.xS=null}ty(){if(!this.OT)throw Error("no redraw callback set");this.OT()}};"use strict";
self.B.Wla=class{constructor(e,a){this.Mg=e;this.nca=a;this.Ec=0;hc(this.Mg,a).then(()=>{this.Mg.ty()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Mg.ty()});this.hJ=null}A(){if(0>=this.Ec)throw Error("already released");this.Ec--;0===this.Ec&&this.nu()}nu(){if(this.hJ){var e=this.Mg;if(!e.QT)throw Error("no release result callback set");e.QT(this.hJ);this.hJ=null}this.Mg.yca.delete(this.nca);this.Mg=null}};
{"use strict";const e=self.B;e.Ona="\ufeff";const a=new Set([..."0123456789"]);e.Z0=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.qE=function(n){return b.has(n)};e.wha=function(n){return[...n].filter(p=>!e.qE(p)).join("")};e.pE=function(n){for(const p of n)if(!e.qE(p))return!1;return!0};e.j1=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.ZY=function(n){return[...n].filter(p=>
!e.j1(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.Sia=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.l3=function(n){let p=n.length;for(;0<p&&e.Z0(n.charAt(p-1));)--p;return n.substr(0,p)};e.gia=function(n){let p=e.l3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;e.RY=function(n){return n.replace(m,h)};e.mha=function(n){n=e.pi(n,"\\","\\\\");n=e.pi(n,'"','\\"');n=e.pi(n,"\t","\\t");n=e.pi(n,"\r","");return e.pi(n,"\n","\\n")};e.nha=function(n){n=e.pi(n,"&","&amp;");n=e.pi(n,"<","&lt;");n=e.pi(n,">","&gt;");return e.pi(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Is=function(n){return n.replace(g,"\\$&")};e.xha=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};e.pi=function(n,p,q){return n.replaceAll(p,()=>q)};e.Tka=function(n,p,q){return n.replace(new RegExp(e.Is(p),"gi"),()=>q)};e.qma=function(n,p){"string"===typeof p?n.textContent=p:p.ZS?n.textContent=p.toString():(n.innerHTML=p.ZK(),p instanceof e.dm&&p.Eda(n))};e.una=function(n,p){return n instanceof e.WD||n instanceof e.dm?n.hd(p):p instanceof e.WD||p instanceof e.dm?p.hd(n):n===p};e.vna=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};e.wna=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.xna=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.fna=function(n,p){return n>p?1:n<p?-1:0};e.gna=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?
-1:0};e.Bha=function(n,p){p="common."+(p?"dataRates":"dataSizes")+".";const q=self.Zpa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Bda:!1,
Oda:!0,jea:!0,Dea:!0,xV:!0};e.Cha=function(n,p){p=Object.assign({},l,p);e.m1.Ika("common.time");const q=[],u=self.lang,w=self.Ypa;if(p.Oda){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.jea&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Dea&&(r=Math.floor(n/60),0<r||q.length||!p.xV)&&(n-=60*r,q.push(w(".minutes",null,r)));p.xV&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Bda?u(".approx-prefix"):"")+q.join(u(".separator"));e.m1.Aka();
return n};e.xoa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.yna=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.Oga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.uV(n);e.uV(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.$ga=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};e.sna=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.tna=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?
r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const e=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:l}const g=/\n/g;e.dm=class{constructor(l,n){this.qh=n&&n.Gea?l:e.RY(l);this.RH="";this.$R=!1;this.yv=[];if(n&&(this.$R=!!n.Voa,n.links)){if(9<n.links.length)throw Error("too many links");this.yv=n.links}this.CS=this.qh.includes("[");this.BT=this.$R&&this.qh.includes("\n");this.ZS=!this.CS&&!this.BT&&!this.qh.includes("&");this.GS=!1;this.Vu=[]}toString(){return this.qh}valueOf(){return this.qh}ZK(){if(this.ZS)return this.qh;if(!this.RH&&this.qh){let l=this.qh;
this.CS&&(h=0,c=this.yv,l=l.replace(b,m),c=null);this.BT&&(l=l.replace(g,"<br>"));this.RH=l}return this.RH}Eda(l){if(this.yv.length)for(let n=0,p=this.yv.length;n<p;++n){const q=this.yv[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}hd(l){return l instanceof e.WD?this.ZK()===l.ZK():l instanceof e.dm?this.qh===l.qh:this.qh===l}ifa(){if(this.GS)return this.Vu;const l=this.qh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.Vu.push({text:v,jd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,Vh:u})}p<l.length&&this.Vu.push({text:l.substring(p),jd:n.slice(0)});for(const v of this.Vu)v.text=
this.o$(v.text);this.GS=!0;return this.Vu}o$(l){l=e.pi(l,"\\[","[");return e.pi(l,"\\\\","\\")}static QO(l){return l.replace(d,"")}}}
{"use strict";const e=self.B;function a(d){return"\u00a0"===d||"\u202f"===d?!1:e.qE(d)}const b=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;e.qF=class{constructor(){this.Rm=[]}LQ(d,c){let h=0,m=0,g=0,l=0,n=0;for(const p of d)-1===p.width&&(d=c(p.text,p.jd),p.width=d.width,p.height=d.height,p.hg=d.hg||0,p.Bf=d.Bf||0,p.Ef=d.Ef||0),h+=p.width,m=Math.max(m,p.height),g=Math.max(g,p.hg),l=Math.max(l,p.Bf),n=Math.max(n,
p.Ef);return{width:h,height:m,hg:g,Bf:l,Ef:n}}Sy(d,c,h,m,g,l){this.Rm.push({WU:d,width:c,height:h,hg:m,Bf:g,Ef:l})}qF(d,c,h,m,g){"string"===typeof d&&(d=[{text:d,jd:[]}]);e.D(this.Rm);if(!(!d.length||1===d.length&&!d[0].text.length||2>h)){if(1===d.length){var l=d[0];const n=l.text;l=l.jd;if(100>=n.length&&!n.includes("\n")){let {width:p,height:q,hg:u,Bf:w,Ef:r}=c(n,l);p+=g;u=u||0;w=w||0;r=r||0;if(p<=h){this.Sy([{text:n,jd:l,width:p,height:q,hg:u,Bf:w,Ef:r}],p,q,u,w,r);return}}}if("word"===m)m=this.sba(d);
else{m=[];for(const n of d)e.vn(m,[...n.text].map(p=>[{text:p,jd:n.jd}]))}this.Mba(m,c,h,g)}}sba(d){const c=[];let h=[],m=!1;for(const l of d){var g=l.text;d=l.jd;for(const n of g)"\n"===n?(0<h.length&&c.push(h),c.push([{text:"\n",jd:d}]),h=[]):0===h.length?(h.push({text:n,jd:d}),m=a(n)):(g=a(n),g===m?(g=h.$d(-1),g.jd===d?g.text+=n:h.push({text:n,jd:d})):(c.push(h),h=[],h.push({text:n,jd:d}),m=g))}0<h.length&&c.push(h);return c}o6(d){return d.map(c=>({text:c.text,jd:c.jd,width:c.width,height:c.height,
hg:c.hg,Bf:c.Bf,Ef:c.Ef}))}oP(d,c){var h=d.length?d.$d(-1):null;let m=0;h&&c[0].jd===h.jd&&(h.text+=c[0].text,h.width=-1,h.height=-1,h.hg=-1,h.Bf=-1,h.Ef=-1,m=1);for(h=c.length;m<h;++m){const g=c[m];d.push({text:g.text,jd:g.jd,width:-1,height:-1,hg:-1,Bf:-1,Ef:-1})}}Mba(d,c,h,m){let g=[],l=0,n=0,p=0,q=0;var u=0;for(const w of d){if(1===w.length&&"\n"===w[0].text){0===n&&(u=c(" ",w[0].jd),n=u.height,p=u.hg||0,q=u.Bf||0,u=u.Ef||0);this.Sy(g,l,n,p,q,u);g=[];u=q=p=n=l=0;continue}d=this.o6(g);this.oP(d,
w);const r=this.LQ(d,c),v=r.width;v>=h?(0<g.length&&this.Sy(g,l,n,p,q,u),g=[],e.pE(w[0].text)?u=q=p=n=l=0:(this.oP(g,w),u=this.LQ(g,c),l=u.width,n=u.height,p=u.hg,q=u.Bf,u=u.Ef)):(g=d,l=v,n=r.height,p=r.hg,q=r.Bf,u=r.Ef)}0<g.length&&this.Sy(g,l,n,p,q,u);this.vba(c,m)}vba(d,c){for(const m of this.Rm){const g=m.WU;if(!g.length)continue;let l=g.$d(-1);var h=l.text;const n=h.replace(b,"");if(!n)m.width-=l.width,g.pop();else if(n.length<h.length){h=d(n,l.jd).width;const p=l.width-h;l.width=h;l.text=n;
m.width-=p}0!==c&&0<g.length&&(l=g.$d(-1),l.width+=c,m.width+=c)}}od(){e.D(this.Rm)}a_(){return this.Rm.reduce((d,c)=>Math.max(d,c.width),0)}u_(){return this.Rm.reduce((d,c)=>d+c.height,0)}}}
{"use strict";const e=self.B,a=self.mj,b=a.JC,d=a.Ow,c=a.Xl,h=b.create(),m=b.create(),g=b.create(),l=d.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=d.Cf(0,0,1,1);e.I={Q2(J,M,Q,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*Q+R[12],Y=R[1]*J+R[5]*M+R[9]*Q+R[13],va=R[2]*J+R[6]*M+R[10]*Q+R[14];R=R[3]*J+R[7]*M+R[11]*Q+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;Q=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+Q*T);return!0},Xj(J,M,Q,R,T,Z,X){c.multiply(n,T,R);if(null===c.ts(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*Q-1;l[3]=1;d.aL(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},p5(J,M,Q,R,T,Z,X){if(!e.I.Xj(J,M,0,R,T,Z,h)||!e.I.Xj(J,M,1,R,T,Z,m))return!1;b.am(m,m,h);b.set(g,0,0,1);J=-Q;M=b.yn(g,m);Q=0;if(0===M){if(0!==
b.yn(g,h)+J)return!1}else if(Q=-(b.yn(h,g)+J)/M,0>Q)return!1;b.TK(X,h,m,Q);return!0}};function z(J,M,Q,R){b.am(h,Q,M);b.am(m,J,M);b.lK(g,h,m);b.normalize(g,g);R.set(g[0],g[1],g[2],b.yn(J,g))}function F(J,M,Q,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.TV,Na=X.UV;X=X.VV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*Q*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*Q*Ua>ta}class H{constructor(){this.VV=this.UV=this.TV=this.w=this.z=this.y=this.x=NaN}set(J,M,Q,R){this.x=
J;this.y=M;this.z=Q;this.w=R;this.TV=0<J?1:0;this.UV=0<M?1:0;this.VV=0<Q?1:0}}e.I.x5=class{constructor(){this.qT=new H;this.oU=new H;this.TT=new H;this.TR=new H;this.QI=new H;this.pS=new H}NW(J,M){e.I.Xj(0,1,0,J,M,G,p);e.I.Xj(1,1,0,J,M,G,q);e.I.Xj(0,0,0,J,M,G,u);e.I.Xj(1,0,0,J,M,G,w);e.I.Xj(0,1,1,J,M,G,r);e.I.Xj(1,1,1,J,M,G,v);e.I.Xj(0,0,1,J,M,G,y);e.I.Xj(1,0,1,J,M,G,A);z(u,p,r,this.qT);z(p,q,v,this.oU);z(q,w,A,this.TT);z(w,u,y,this.TR);z(y,r,v,this.pS);z(w,q,p,this.QI)}jX(J,M,Q,R,T,Z){return F(J,
M,Q,R,T,Z,this.qT)&&F(J,M,Q,R,T,Z,this.oU)&&F(J,M,Q,R,T,Z,this.TT)&&F(J,M,Q,R,T,Z,this.TR)&&F(J,M,Q,R,T,Z,this.QI)&&F(J,M,Q,R,T,Z,this.pS)}Q0(J,M,Q){var R=this.QI;return!(R.x*J+R.y*M+R.z*Q>=R.w)}}}
{"use strict";const e=self.B,a=self.mj,b=a.JC,d=a.Ow,c=a.Xl,h=c.create(),m=b.Cf(0,0,0),g=b.Cf(0,0,0),l=b.Cf(0,0,0),n=b.Cf(0,1,0);d.Cf(0,0,0,0);new e.rd;new e.Rect;const p=new e.rd(0,0,1,0,1,1,0,1);e.I.o3=class{constructor(){this.R=this.U=0;this.ur=e.xb(45);this.aw=Math.tan(this.ur/2);this.jB=c.create();this.II=c.create();this.ns=!1;this.Jo=[];this.IB=new Map;this.sJ=this.MB=this.NB=null;this.Yv=new Map;this.Qi=null;this.ZG=[];this.AT=new Map;this.Pu=this.Bu=0;this.Nca=this.Oca=1;this.DI=.5;this.yh=
0;this.nr=!0;this.PH=!1}YY(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}vP(){this.Pu=this.Bu=0;this.sJ=this.MB=this.NB=null;this.m6()}ay(){this.vP();this.Qi=null}a2(){for(const q of this.Jo)q.A();this.vP()}$(){return this.U}X(){return this.R}Gf(q){return this.eN()?100:q/(2*this.aw)}RE(q){this.ur=q;this.aw=Math.tan(this.ur/2)}O4(){this.ns=!1}P4(){this.ns=!0}eN(){return!this.ns}In(q,u,w=.5,r=.5){var v=this.ur;.5===w&&.5===r?c.perspective(q,v,
u,1,1E4):(w=1-w,v=1*this.aw,u*=v,c.cea(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}MW(q,u,w){const r=self.devicePixelRatio,v=2*this.Gf(w)*r*this.aw/w;u=u*v/(2*r);w=w*v/(2*r);c.Kea(q,-u,u,-w,w,1,1E4)}mL(q,u,w,r,v,y=1){let A=1;this.eN()&&(A=200*this.aw/v);b.set(l,A,-A,1);b.multiply(m,u,l);b.multiply(g,w,l);c.zea(q,m,g,r||n);l[2]=y;c.scale(q,q,l)}Fs(q,u,w,r,v,y){b.set(m,q,u,w);b.set(g,r,v,0);this.mL(h,m,g,n,y,void 0);return h}V5(q){this.Jo.push(q);this.IB.set(q.wa(),q)}J$(q){const u=this.Jo.indexOf(q);
-1!==u&&this.Jo.splice(u,1);this.IB.delete(q.wa())}m6(){e.D(this.Jo);this.IB.clear()}AM(q){return this.IB.get(q)||null}Vj(){this.Fq(this.NB)}jO(){this.Fq(this.sJ)}Caa(q){this.Qi=q}YV(q,u,w,r){const v=e.I.jF.nN(q,u,w,r);let y=this.Yv.get(v);y||(y=e.j(e.I.jF,this,q,u,w,r),this.Yv.set(v,y));y.lW();return y}PN(q){q.DX();0===q.Ec&&(this.Qi===q&&(this.Qi=null),this.Yv.delete(q.UZ()),q.A())}x8(q){e.D(this.ZG);this.AT.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.ZG.push([r,v]);this.AT.set(q,
{Dqa:u,Era:r,dpa:v});u++}}W7(q){return this.ZG[q]}xq(q){this.Bu=q}Gt(q){this.Pu=q;this.Qi=null}ky(q,u,w,r,v,y){var A=this.DI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.qy(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}jy(q,u,w,r,v,y){const A=this.DI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.qy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}iy(q,u,w,r,v,y){const A=this.DI;q+=A;u+=A;w+=A;r+=A;this.qy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}q1(q,u,w,r){const v=.5*this.Oca,y=this.Nca;2===y?
this.U8(q,u,w,r,v):1===y?this.T8(q,u,w,r,v):this.S8(q,u,w,r,v)}U8(q,u,w,r,v){this.ky(q,u,w,u,0,v);this.ky(w,u,w,r,v,0);this.ky(w,r,q,r,0,-v);this.ky(q,r,q,u,-v,0)}T8(q,u,w,r,v){this.jy(q,u,w,u,0,v);this.jy(w,u,w,r,v,0);this.jy(w,r,q,r,0,-v);this.jy(q,r,q,u,-v,0)}S8(q,u,w,r,v){this.iy(q,u,w,u,0,v);this.iy(w,u,w,r,v,0);this.iy(w,r,q,r,0,-v);this.iy(q,r,q,u,-v,0)}hN(q){this.q1(q.V,q.O,q.ca,q.Z)}Vp(){this.rj();this.yh++}g0(){this.yh++}UE(q){this.nr=!!q}f4(q){this.PH=!!q}mi(){return!1}}}"use strict";
self.B.I.S4=class{constructor(e,a,b){this.Da=a;this.la=e;this.mS=b.ipa||0;this.nS=b.jpa||0;this.aS=!!b.Xoa;this.Tca=!!b.zqa;this.Nr=!!b.Sqa;this.Tba=!!b.Goa;this.$G=!!b.Loa;this.bC=!!b.Ura;this.aC=!1}A(){this.la=null}eb(){return this.la}wa(){return this.Da}nq(){return this.Tca}};
{"use strict";const e=self.B;e.I.jF=class{constructor(a,b,d,c,h){this.la=a;this.Ec=0;this.Uc=null;this.Rv="";this.Cg=d;this.bb=e.j(e.$a);this.bb.set(c);this.Xc=h;"string"===typeof b?this.Rv=b:(this.Uc=b,this.Rv=this.Uc.wa())}A(){if(0<this.Ec)throw Error("releasing state group still in use");this.Uc=this.la=null;this.Rv=""}tW(){const a=this.la;a.Fq(this.Uc);a.Pf(this.Cg);a.um(this.bb);a.Gt(this.Xc);a.Caa(this)}UZ(){return e.I.jF.nN(this.Rv,this.Cg,this.bb,this.Xc)}lW(){++this.Ec}DX(){--this.Ec}Wk(){this.Uc=
null}vE(a){this.Uc=a.AM(this.Rv);if(!this.Uc)throw Error("failed to restore shader program");}static nN(a,b,d,c){return("string"===typeof a?a:a.wa())+","+b+","+d.Sa+","+d.Va+","+d.Ua+","+d.Ta+","+c}}}
{"use strict";const e=self.B,a=e.j(e.rd);function b(d,c,h){const m=h.ub,g=h.wb;return[m+(h.mc-m)*d+(h.ec-m)*c,g+(h.nc-g)*d+(h.fc-g)*c]}e.I.H1=class{constructor(d){this.MI=d;this.Wg=this.Ug=this.Xc=this.N=this.P=0}zg(d,c,h,m){this.P=d;this.N=c;this.Ug=h;this.Wg=m}oa(){return this.P}lh(d){this.P!==d&&(this.P=d,this.MI.qG())}pa(){return this.N}Ci(d){this.N!==d&&(this.N=d,this.MI.qG())}ab(){return this.Xc}gf(d){this.Xc!==d&&(this.Xc=Math.max(d,0),this.MI.qG())}aF(d){this.Ug=d}bF(d){this.Wg=d}L8(d,c,h){[this.P,
this.N]=b(d.P,d.N,c);this.Xc=d.Xc;this.Ug=e.ae(h.V,h.ca,d.Ug);this.Wg=e.ae(h.O,h.Z,d.Wg)}K8(d,c,h){[this.P,this.N]=b(d.P,d.N,c);this.Xc=d.Xc;[this.Ug,this.Wg]=b(d.Ug,d.Wg,h)}Nd(){return{x:this.oa(),y:this.pa(),z:this.ab(),u:this.Ug,v:this.Wg}}xd(d){this.lh(d.x);this.Ci(d.y);d.hasOwnProperty("z")&&this.gf(d.z);this.aF(d.u);this.bF(d.v)}};e.I.pN=class{constructor(d,c,h){if(2>d||2>c)throw Error("invalid mesh size");this.ik=d;this.wk=c;this.Yb=h||null;this.Ym=[];this.yT=this.xT=0;this.uT=this.tT=1;this.vT=
0;this.bJ=!1;h=d-1;const m=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<d;++n){const p=e.j(e.I.H1,this,n,g),q=n/h,u=g/m;p.zg(q,u,q,u);l.push(p)}this.Ym.push(l)}}A(){e.D(this.Ym)}qG(){this.bJ=!0}hu(){if(this.bJ){var d=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const l of this.Ym)for(const n of l){const p=n.oa(),q=n.pa();d=Math.min(d,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.ab())}this.xT=d;this.yT=c;this.tT=h;this.uT=m;this.vT=g;this.bJ=!1}}e_(){this.hu();return this.xT}f_(){this.hu();
return this.yT}b_(){this.hu();return this.tT}c_(){this.hu();return this.uT}d_(){this.hu();return this.vT}Zp(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.ik||0>c||c>=this.wk?null:this.Ym[c][d]}nL(d,c,h){const m=h instanceof e.Rect;if(d.ik!==this.ik||d.wk!==this.wk)throw Error("source mesh wrong size");d=d.Ym;const g=this.Ym;for(let l=0,n=g.length;l<n;++l){const p=d[l],q=g[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.L8(r,c,h):v.K8(r,c,h)}}}eh(d){const c=this.Ym;let h=c[0];
for(let m=1,g=c.length;m<g;++m){const l=c[m];let n=h[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=h[q],r=l[q];a.set(n.Ug,n.Wg,w.Ug,w.Wg,r.Ug,r.Wg,p.Ug,p.Wg);d.qy(n.oa(),n.pa(),n.ab(),w.oa(),w.pa(),w.ab(),r.oa(),r.pa(),r.ab(),p.oa(),p.pa(),p.ab(),a);n=w;p=r}h=l}}J0(d){d=d.Fd;const c=[],h=this.ik-1,m=this.wk-1,g=1/h,l=1/m,n=h-1,p=m-1;let q=d[0],u=d[1],w=e.da(Math.floor(q*h),0,n),r=e.da(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=e.da(e.ae(q,v,A),0,1);u=e.da(e.ae(u,y,A),0,1);c.push(q,
u)};for(let F=0,H=d.length;F<H;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),w=e.da(Math.floor(q*h),0,n),r=e.da(Math.floor(u*m),0,p),G=(F+2)%H,v=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*l,Q=(w+1)*g,R=(r+1)*l;if(0!==G&&(A=e.Kw(q,u,v,y,J,M,Q,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=e.Kw(q,u,v,y,J,M,Q,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=e.Kw(q,u,v,y,Q,M,Q,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<
w&&1!==G&&(A=e.Kw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=e.Kw(q,u,v,y,J,R,Q,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return e.j(e.Ln,c)}k5(d,c){d=this.tba(d);this.kba(d);c.DC(d)}tba(d){const c=[];d=d.Fd;for(let h=0,m=d.length;h<m;h+=2){const [g,l]=this.TO(d[h],d[h+1]);c.push(g,l)}return c}TO(d,c){var h=this.ik-1,m=this.wk-1;const g=1/h,l=1/m;h=e.da(Math.floor(d*h),0,h-1);const n=e.da(Math.floor(c*m),0,m-1);m=h*g;const p=n*l,q=(h+1)*g,u=(n+
1)*l,w=this.Zp(h,n),r=this.Zp(h+1,n+1),v=e.rea(d,c,m,p,q,p,q,u);h=this.Zp(h+(v?1:0),n+(v?0:1));const [y,A,G]=e.nfa(d,c,m,p,v?m+g:m,v?p:p+l,q,u);return e.mfa(y,A,G,w.oa(),w.pa(),h.oa(),h.pa(),r.oa(),r.pa())}kba(d){const c=[];let h=d[0],m=d[1],g=h-d.$d(-2),l=m-d.$d(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(l)||v)&&1E-7<Math.abs(w/
g-r/l)||0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;l=r}6<=c.length&&c.length<d.length&&e.Hc(d,c)}Nd(){return{cols:this.ik,rows:this.wk,points:this.Ym.map(d=>d.map(c=>c.Nd()))}}xd(d){const c=this.ik,h=this.wk;if(d.cols!==c||d.rows!==h)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<h;++m){const g=d[m];for(let l=0;l<c;++l)this.Zp(l,m).xd(g[l])}}}}
{"use strict";const e=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{WK:n,ss:q,format:u,type:p}}const m={LC:"clamp-to-edge",MC:"clamp-to-edge",nj:"trilinear",HU:0,MK:"rgba8",yC:!0,Hw:"default",premultiplyAlpha:!0,fV:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;e.I.Py=class{constructor(n){this.la=n;this.lb=null;this.R=this.U=0;this.Ch=!0;this.ms=this.ls="clamp-to-edge";this.md="trilinear";this.PG=0;this.Xm="rgba8";this.wl=!1;this.pp=
"default";this.Ec=0}D6(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.lb)throw Error("already created texture");this.ls=p.LC;this.ms=p.MC;
this.md=p.nj;this.PG=p.HU;this.Xm=p.MK;this.wl=!!p.yC&&this.la.nr;this.pp=p.Hw;if(!c.has(this.ls)||!c.has(this.ms))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.Xm))throw Error("invalid pixel format");if(!d.has(this.pp))throw Error("invalid mipmap quality");this.Ch=!0;if(n instanceof ArrayBuffer||null===n||p.fV){if(this.U=p.width,this.R=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.U*this.R*4)throw Error("ArrayBuffer wrong size");}else this.U=
n.width,this.R=n.height;if(0>=this.U||0>=this.R)throw Error("invalid texture data size");if(p.fV){var q=e.bh(this.U,this.R);q.getContext("2d").drawImage(n,0,0,this.U,this.R);n=q}var u=e.Uh(this.U)&&e.Uh(this.R);q=this.la.kB;if(this.U>q||this.R>q)throw Error("texture data exceeds maximum texture size");q=this.la.S;var w=this.la.Wc;this.lb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.lb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.Xm,q);if(this.la.xo()||u||!this.TF())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.wl?Math.floor(Math.log2(Math.max(this.U,this.R))+1):1,p.WK,this.U,this.R),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.U,this.R,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.ss,this.U,this.R,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.ss,this.U,this.R,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.ss,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.U,this.R));n instanceof ImageData&&(u=e.bh(this.U,this.R),u.getContext("2d").putImageData(n,0,0),n=u);u=e.bh(e.zC(this.U),e.zC(this.R));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.md;w.drawImage(n,0,0,this.U,this.R,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.ss,p.format,p.type,u)}null!==n&&this.wR(q);q.bindTexture(q.TEXTURE_2D,null);this.la.gG();this.Ec=1;l.add(this)}q6(n,p,q){q=Object.assign({},m,q);if(this.lb)throw Error("already created texture");this.ls=q.LC;this.ms=q.MC;this.md=q.nj;this.Xm=q.MK;this.wl=!!q.yC&&this.la.nr;this.pp=q.Hw;if(!c.has(this.ls)||!c.has(this.ms))throw Error("invalid wrap mode");if(!b.has(this.md))throw Error("invalid sampling");if(!a.has(this.Xm))throw Error("invalid pixel format");if(!d.has(this.pp))throw Error("invalid mipmap quality");
this.Ch=!1;this.U=Math.floor(n);this.R=Math.floor(p);n=e.Uh(this.U)&&e.Uh(this.R);p=this.la.kB;if(0>=this.U||0>=this.R)throw Error("invalid texture size");if(this.U>p||this.R>p)throw Error("texture exceeds maximum texture size");if(!this.la.xo()&&this.TF()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.la.S;p=this.la.Wc;this.lb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.lb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.Xm,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.WK:q.ss,this.U,this.R,0,q.format,q.type,null);this.wR(n);n.bindTexture(n.TEXTURE_2D,null);this.la.gG();this.Ec=1;l.add(this)}PF(n){if("default"===this.pp)return this.Ch?n.NICEST:n.FASTEST;if("low"===this.pp)return n.FASTEST;if("high"===this.pp)return n.NICEST;throw Error("invalid mipmap quality");}TF(){return"clamp-to-edge"!==this.ls||"clamp-to-edge"!==this.ms}mQ(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}wR(n){var p=e.Uh(this.U)&&e.Uh(this.R);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.mQ(n,this.ls));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.mQ(n,this.ms));"nearest"===this.md?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.wl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.la.xo())&&this.wl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.PF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.md||this.la.PH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.wl=!1));(p=this.la.xu)&&0<this.PG&&"nearest"!==this.md&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.PG,this.la.KI))}GR(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.lb||0>=this.Ec)throw Error("texture not created");if(this.Ch)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.la.Wc;
const r=this.la.S;r.bindTexture(r.TEXTURE_2D,this.lb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.Xm,r);w=2<=w?p.WK:p.ss;try{if(this.U===q&&this.R===u){const v=e.Uh(this.U)&&e.Uh(this.R);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.la.xo())&&this.wl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.PF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.U=q;this.R=u;const v=e.Uh(this.U)&&e.Uh(this.R);if(!this.la.xo()&&this.TF()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.la.xo())&&this.wl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.PF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.la.gG()}EF(){if(0<this.Ec)throw Error("texture still has references");if(!this.lb)throw Error("already deleted texture");l.delete(this);this.la.S.deleteTexture(this.lb);this.lb=null}eb(){return this.la}d5(){if(0>=
this.Ec)throw Error("no more references");this.Ec--}$(){return this.U}X(){return this.R}AD(){let n=this.U*this.R;switch(this.Xm){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.wl&&(n+=Math.floor(n/3));return n}static Wk(){l.clear()}static wda(){return l.values()}}}
{"use strict";const e=self.mj.Xl,a=new Set(["nearest","bilinear","trilinear"]),b={nj:"trilinear",alpha:!0,depth:!1,AK:!0,bV:!0,Eea:0},d=new Set;self.B.I.fP=class{constructor(c){this.la=c;this.sk=this.lb=this.Yo=this.Ig=null;this.R=this.U=0;this.CA=!0;this.md="trilinear";this.Uq=!0;this.Pc=!1;this.pv=!0;this.Dl=0;this.qk=e.create();this.jT=0}p6(c,h,m){m=Object.assign({},b,m);const g=this.la.Wc;if(this.lb||this.sk)throw Error("already created render target");this.md=m.nj;this.Uq=!!m.alpha;this.Pc=!!m.depth;
this.pv=!!m.AK;this.CA=!!m.bV;this.Dl=m.Eea;if(!a.has(this.md))throw Error("invalid sampling");if(0<this.Dl&&(2>g||this.pv))throw Error("invalid use of multisampling");2>g&&(this.pv=!0);this.U=c;this.R=h;if(0>=this.U||0>=this.R)throw Error("invalid render target size");this.sF();c=this.la.S;this.Ig=c.createFramebuffer();this.Pc&&(this.Yo=c.createFramebuffer());this.pv?(this.lb=this.la.BL(this.U,this.R,{nj:this.md,MK:this.Uq?"rgba8":"rgb8",yC:!1}),h=this.lb.lb,c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),
c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.sk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.sk),h=this.Uq?c.RGBA8:c.RGB8,0<this.Dl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.Dl>m&&(this.Dl=m)):this.Dl=0),0===this.Dl?c.renderbufferStorage(c.RENDERBUFFER,h,this.U,this.R):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Dl,h,this.U,this.R),c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.sk),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.sk)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.la.Gg;this.Pc&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),this.la.Hu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}cR(c,h){if(this.U!==c||this.R!==h)this.U=c,this.R=h,this.sF(),c=this.la.S,c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),this.lb?this.lb.GR(new ImageData(this.U,this.R)):(c.bindRenderbuffer(c.RENDERBUFFER,this.sk),c.renderbufferStorage(c.RENDERBUFFER,this.Uq?c.RGBA8:c.RGB8,this.U,this.R),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.la.Gg,this.Pc&&h&&(this.la.Hu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}EF(){if(!this.lb&&!this.sk)throw Error("already deleted render target");d.delete(this);var c=this.la.S;this.lb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.la.qj(this.lb),this.lb=null):this.sk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ig),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Pc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Yo),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.sk),this.sk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.la.Wc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Ig);
this.Pc&&c.deleteFramebuffer(this.Yo);c=this.la.uc;c.Ul=null;this.Ig=c.kj=null}sF(){this.la.In(this.qk,this.U/this.R);this.jT=this.la.ur}eb(){return this.la}Ld(){return this.lb}k_(){this.la.ur!==this.jT&&this.sF();return this.qk}kE(){return"nearest"!==this.md}$(){return this.U}X(){return this.R}T0(c){c=Object.assign({},b,c);return"nearest"!==c.nj!==this.kE()||!!c.alpha!==this.Uq||!!c.depth!==this.Pc||2<=this.la.Wc&&!!c.AK!==this.pv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.CA&&
this.$()===c.width&&this.X()===c.height:this.CA}AD(){return this.lb?this.lb.AD():this.U*this.R*(this.Uq?4:3)}static Wk(){d.clear()}}}
{"use strict";const e=self.B;e.I.Vt=class extends e.I.S4{static async gX(a,b,d,c){const h=a.S,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,b);h.compileShader(m);b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,d);h.compileShader(b);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,b);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const l=a.$I;l?await a.Jba(()=>h.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):
await e.pF(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(b,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(b),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(b),h.deleteProgram(g),Error("Error linking shader program: "+
c);(a=e.ZY(h.getProgramInfoLog(g)||"").trim())&&!e.pE(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);h.deleteShader(m);h.deleteShader(b);return g}static async La(a,b,d,c){d=await e.I.Vt.gX(a,b.src,d,c);return new e.I.Vt(a,d,b,c)}constructor(a,b,d,c){super(a,c,d);const h=a.S;var m=a.uc;a.rj();h.useProgram(b);this.S=h;this.Uc=b;this.DA="<default-device-transform>"===c;c=h.getAttribLocation(b,"aPos");const g=h.getAttribLocation(b,"aTex");this.GI=h.getAttribLocation(b,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,a.fC),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,a.TB),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.GI&&(h.bindBuffer(h.ARRAY_BUFFER,a.uB),h.vertexAttribPointer(this.GI,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.GI));h.bindBuffer(h.ARRAY_BUFFER,null);this.JJ=new e.I.dc(this,"matP","mat4");this.IJ=new e.I.dc(this,"matMV","mat4");this.Ip=new e.I.dc(this,"color",
"vec4");this.qda=new e.I.dc(this,"samplerFront","sampler");this.MJ=new e.I.dc(this,"pointTexStart","vec2");this.LJ=new e.I.dc(this,"pointTexEnd","vec2");this.PJ=new e.I.dc(this,"zElevation","float");this.NJ=new e.I.dc(this,"tileSize","vec2");this.OJ=new e.I.dc(this,"tileSpacing","vec2");this.HJ=new e.I.dc(this,"color2_","vec4");this.KJ=new e.I.dc(this,"outlineThickness","float");this.js=new e.I.dc(this,"samplerBack","sampler");this.pda=new e.I.dc(this,"samplerDepth","sampler");this.kn=new e.I.dc(this,
"destStart","vec2");this.jn=new e.I.dc(this,"destEnd","vec2");this.hj=new e.I.dc(this,"srcStart","vec2");this.Pl=new e.I.dc(this,"srcEnd","vec2");this.Rl=new e.I.dc(this,"srcOriginStart","vec2");this.Ql=new e.I.dc(this,"srcOriginEnd","vec2");this.Vg=new e.I.dc(this,"pixelSize","vec2");this.rn=new e.I.dc(this,"seconds","float");this.ln=new e.I.dc(this,"devicePixelRatio","float");this.nn=new e.I.dc(this,"layerScale","float");this.mn=new e.I.dc(this,"layerAngle","float");this.qn=new e.I.dc(this,"layoutStart",
"vec2");this.pn=new e.I.dc(this,"layoutEnd","vec2");this.DS=!!(this.Vg.W||this.rn.W||this.js.W||this.kn.W||this.jn.W||this.hj.W||this.Pl.W||this.Rl.W||this.Ql.W||this.ln.W||this.nn.W||this.mn.W||this.qn.W||this.pn.W);a=d.parameters||[];this.Jp=[];this.aC=this.Vg.W||this.hj.W||this.Pl.W||this.Rl.W||this.Ql.W;this.MH=this.NH=!1;this.Ip.PM();this.HJ.PM();this.qda.YD(0);this.js.YD(1);this.pda.YD(2);this.MJ.pg(0,0);this.LJ.pg(1,1);this.PJ.$n(0);this.NJ.pg(0,0);this.OJ.pg(0,0);this.kn.pg(0,0);this.jn.pg(1,
1);this.hj.pg(0,0);this.Pl.pg(0,0);this.Rl.pg(0,0);this.Ql.pg(0,0);this.Vg.pg(0,0);this.ln.$n(1);this.nn.$n(1);this.mn.$n(0);this.rn.$n(0);this.qn.pg(0,0);this.pn.pg(0,0);this.KJ.$n(1);for(const l of a)a=l[2],b=new e.I.dc(this,l[0],a),"color"===a?b.h0():b.$n(0),this.Jp.push(b);this.DA?this.LR(m.uw):(this.My(m.uw,!0),this.Ly(m.mC,!0));m=m.Sh;h.useProgram(m?m.Uc:null)}A(){this.S.deleteProgram(this.Uc);this.Uc=null;this.la.J$(this);this.S=null;super.A()}Kf(){return this.Uc}Kx(a){return this.Jp[a].Ij()}uW(a){for(let b=
0,d=a.length;b<d;++b)if(!this.Jp[b].d1(a[b]))return!1;return!0}S3(a){for(let b=0,d=a.length;b<d;++b)this.Jp[b].O3(a[b])}vW(a,b,d,c,h,m,g,l,n,p){return this.js.W||this.Vg.W&&!this.Vg.Vk(h,m)||this.kn.W&&!this.kn.Vk(a.V,a.O)||this.jn.W&&!this.jn.Vk(a.ca,a.Z)||this.ln.W&&!this.ln.gy(g)||this.nn.W&&!this.nn.gy(l)||this.mn.W&&!this.mn.gy(n)||this.hj.W&&!this.hj.Vk(b.V,b.O)||this.Pl.W&&!this.Pl.Vk(b.ca,b.Z)||this.Rl.W&&!this.Rl.Vk(d.V,d.O)||this.Ql.W&&!this.Ql.Vk(d.ca,d.Z)||this.qn.W&&!this.qn.Vk(c.V,c.O)||
this.pn.W&&!this.pn.Vk(c.O,c.Z)||this.rn.W&&!this.rn.gy(p)?!1:!0}p4(a,b,d,c,h,m,g,l,n,p){this.js.W||(this.Vg.W&&this.Vg.Xk(h,m),this.kn.W&&this.kn.Xk(a.V,a.O),this.jn.W&&this.jn.Xk(a.ca,a.Z),this.ln.W&&this.ln.Ay(g),this.nn.W&&this.nn.Ay(l),this.mn.W&&this.mn.Ay(n),this.hj.W&&this.hj.Xk(b.V,b.O),this.Pl.W&&this.Pl.Xk(b.ca,b.Z),this.Rl.W&&this.Rl.Xk(d.V,d.O),this.Ql.W&&this.Ql.Xk(d.ca,d.Z),this.qn.W&&this.qn.Xk(c.V,c.O),this.pn.W&&this.pn.Xk(c.O,c.Z),this.rn.W&&this.rn.Ay(p))}My(a,b){this.NH&&!b||
this.DA||(this.JJ.W&&this.JJ.Ny(a),this.NH=!0)}o4(){this.NH=!1}Ly(a,b){this.MH&&!b||this.DA||(this.IJ.W&&this.IJ.Ny(a),this.MH=!0)}n4(){this.MH=!1}LR(a){if(!this.DA)throw Error("not device transform shader");this.JJ.Ny(a);a=this.la;const b=a.$()/2,d=a.X()/2;a=a.Fs(b,d,a.Gf(a.X()),b,d,a.X());this.IJ.Ny(a)}s5(a){this.Ip.W&&this.Ip.Ky(a[0],a[1],a[2],a[3])}static yx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,a=self.mj.Xl,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.I.dc=class{constructor(d,c,h){if(!b.has(h))throw Error("invalid uniform type");this.Yb=d;this.S=this.Yb.S;this.Da=c;this.ua=h;this.eI="color"===this.ua;this.Fh=this.S.getUniformLocation(this.Yb.Kf(),c);this.W=!!this.Fh;d=b.get(h);this.Gb=new Float32Array(d);this.aj=new Float32Array(d)}A(){this.Fh=this.S=this.Yb=null}Ij(){return this.ua}$n(d){this.W&&
(this.Gb[0]=d,this.aj.set(this.Gb),this.S.uniform1f(this.Fh,d))}YD(d){this.W&&(this.Gb[0]=d,this.aj.set(this.Gb),this.S.uniform1i(this.Fh,d))}pg(d,c){this.W&&(this.Gb[0]=d,this.Gb[1]=c,this.aj.set(this.Gb),this.S.uniform2f(this.Fh,d,c))}h0(){this.W&&(this.Gb[0]=0,this.Gb[1]=0,this.Gb[2]=0,this.aj.set(this.Gb),this.S.uniform3f(this.Fh,0,0,0))}PM(){this.W&&(this.Gb[0]=1,this.Gb[1]=1,this.Gb[2]=1,this.Gb[3]=1,this.aj.set(this.Gb),this.S.uniform4f(this.Fh,1,1,1,1))}zo(d){d=Math.fround(d);const c=this.Gb;
c[0]!==d&&(c[0]=d,this.S.uniform1f(this.Fh,d))}Ge(d,c){d=Math.fround(d);c=Math.fround(c);const h=this.Gb;if(h[0]!==d||h[1]!==c)h[0]=d,h[1]=c,this.S.uniform2f(this.Fh,d,c)}q5(d,c,h){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);const m=this.Gb;if(m[0]!==d||m[1]!==c||m[2]!==h)m[0]=d,m[1]=c,m[2]=h,this.S.uniform3f(this.Fh,d,c,h)}Ky(d,c,h,m){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Gb;if(g[0]!==d||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=d,g[1]=c,g[2]=h,g[3]=m,this.S.uniform4f(this.Fh,
d,c,h,m)}Ny(d){const c=this.Gb;a.lj(c,d)||(e.ofa(c,d),this.S.uniformMatrix4fv(this.Fh,!1,d))}d1(d){const c=this.aj;return this.eI?c[0]===Math.fround(d.Sa)&&c[1]===Math.fround(d.Va)&&c[2]===Math.fround(d.Ua):c[0]===Math.fround(d)}O3(d){const c=this.aj;this.eI?(c[0]=d.Sa,c[1]=d.Va,c[2]=d.Ua):c[0]=d}gy(d){return this.aj[0]===Math.fround(d)}Vk(d,c){const h=this.aj;return h[0]===Math.fround(d)&&h[1]===Math.fround(c)}Ay(d){this.aj[0]=d}Xk(d,c){const h=this.aj;h[0]=d;h[1]=c}}}
{"use strict";const e=self.B,a=self.mj,b=a.Ow,d=a.Xl;e.I.BW=class{constructor(c){this.Cn=c;this.mC=d.create();this.uw=d.create();this.kj=this.Ul=null;this.cV=!1;this.lC=b.Cf(1,1,1,1);this.Sh=null;this.NK=new e.Rect;this.clearColor=e.j(e.$a,0,0,0,0)}};e.I.C5=class{constructor(c){const h=new ArrayBuffer(96);this.ua=0;this.uc=c;this.S=c.Cn.S;this.sl=this.Gd=0;this.Qe=null;this.me=new Float32Array(h,0,16);this.Oo=new Float32Array(h,64,4);this.gU=new Float32Array(h,80,4);this.GB=[]}v0(c){this.ua=1;this.Gd=
c;this.sl=6}RX(){const c=this.S;c.drawElements(c.TRIANGLES,this.sl,c.UNSIGNED_SHORT,this.Gd)}E0(c){this.ua=2;this.Qe=c}eY(){const c=this.S,h=this.Qe;c.bindTexture(c.TEXTURE_2D,h?h.lb:null)}ZD(c){this.ua=3;c.Zg(this.Oo,0)}TX(){const c=this.Oo,h=this.uc;b.na(h.lC,c);h.Sh.s5(c)}XX(){const c=this.Oo,h=this.uc.Sh;h.HJ.W&&h.HJ.Ky(c[0],c[1],c[2],c[3])}w0(c,h){this.ua=4;this.Gd=c;this.sl=h}SX(){this.S.blendFunc(this.Gd,this.sl)}F0(c,h){this.ua=5;const m=this.Oo;m[0]=0;m[1]=0;m[2]=c;m[3]=h}gY(){const c=this.Oo;
this.S.viewport(c[0],c[1],c[2],c[3])}C0(c){this.ua=6;d.na(this.me,c)}bY(){const c=this.uc,h=c.Cn.Jo,m=c.Sh,g=this.me;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.My(g,!0):p.o4()}d.na(c.uw,g)}z0(c){this.ua=7;d.na(this.me,c)}YX(){const c=this.uc,h=c.Cn.Jo,m=c.Sh,g=this.me;for(let l=0,n=h.length;l<n;++l){const p=h[l];p===m?p.Ly(g,!0):p.n4()}d.na(c.mC,g)}D0(c){this.ua=8;this.Qe=c}cY(){const c=this.S,h=this.Qe,m=this.uc;h?(m.Ul=h.Ig,m.kj=h.Yo,m.cV&&m.kj?c.bindFramebuffer(c.FRAMEBUFFER,m.kj):c.bindFramebuffer(c.FRAMEBUFFER,
m.Ul)):(m.Ul=null,m.kj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}l0(c){this.ua=9;c.Zg(this.me,0)}m0(){this.ua=9;const c=this.me;c[0]=0;c[1]=0;c[2]=0;c[3]=0}KX(){const c=this.S;var h=this.me;const m=this.uc.clearColor,g=h[0],l=h[1],n=h[2];h=h[3];m.oC(g,l,n,h)||(c.clearColor(g,l,n,h),m.Dn(g,l,n,h));c.clear(c.COLOR_BUFFER_BIT)}ZX(){const c=this.me;this.uc.NK.set(c[0],c[1],c[2],c[3])}QX(){const c=this.S,h=this.uc,m=h.Cn.MB;c.useProgram(m.Uc);m.My(h.uw,!1);m.Ly(h.mC,!1);var g=h.NK;m.MJ.W&&m.MJ.Ge(g.V,
g.O);m.LJ.W&&m.LJ.Ge(g.ca,g.Z);g=this.me[0];m.PJ.W&&m.PJ.zo(g);m.Ip.W&&(g=h.lC,m.Ip.Ky(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Gd/4,this.sl);c.useProgram(h.Sh.Uc)}A0(c){this.ua=11;this.Qe=c}$X(){var c=this.S;const h=this.uc,m=this.Qe;h.Sh=m;c.useProgram(m.Uc);m.My(h.uw,!1);m.Ly(h.mC,!1);m.Ip.W&&(c=h.lC,m.Ip.Ky(c[0],c[1],c[2],c[3]))}B0(){this.ua=12}aY(){const c=this.uc.Sh;c.DS&&this.j7(c);c.Jp.length&&this.k7(c)}j7(c){const h=this.S,m=this.me,g=this.Oo,l=this.gU;if(c.js.W){const n=this.uc.Cn,
p=this.Qe;n.Qm!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.lb:null),n.Qm=p,h.activeTexture(h.TEXTURE0))}c.Vg.W&&c.Vg.Ge(m[0],m[1]);c.kn.W&&c.kn.Ge(m[2],m[3]);c.jn.W&&c.jn.Ge(m[4],m[5]);c.ln.W&&c.ln.zo(this.sl);c.nn.W&&c.nn.zo(m[6]);c.mn.W&&c.mn.zo(m[7]);c.hj.W&&c.hj.Ge(m[12],m[13]);c.Pl.W&&c.Pl.Ge(m[14],m[15]);c.Rl.W&&c.Rl.Ge(l[0],l[1]);c.Ql.W&&c.Ql.Ge(l[2],l[3]);c.qn.W&&c.qn.Ge(g[0],g[1]);c.pn.W&&c.pn.Ge(g[2],g[3]);c.rn.W&&c.rn.zo(this.Gd)}k7(c){c=c.Jp;const h=this.GB;for(let m=
0,g=c.length;m<g;++m){const l=c[m],n=h[m];l.eI?l.q5(n.Sa,n.Va,n.Ua):l.zo(n)}}r0(c){this.ua=13;this.Qe=c}PX(){const c=this.S,h=this.Qe,m=this.uc.Ul;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}i0(c,h){this.ua=16;var m=this.me;const g=this.uc.Cn;m[0]=c.$();m[1]=c.X();m[2]=h?h.$():g.$();m[3]=h?h.X():g.X();m[4]=c.kE()?1:0;m[5]=!0;m=this.GB;e.D(m);m.push(c.Ig);m.push(h?h.Ig:null)}IX(){var c=this.me,h=this.GB;
const m=this.S;var g=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,h,g+n,0,l,h,g+l,m.COLOR_BUFFER_BIT,m.NEAREST))}H0(c){this.ua=17;this.Qe=c}hY(){this.Qe.UC();this.Qe=null}q0(c){this.ua=18;this.Qe=c}OX(){this.Qe.oD();this.Qe=null}WX(){const c=
this.uc.Sh,h=this.me;c.Vg.W&&c.Vg.Ge(h[0],h[1]);c.KJ.W&&c.KJ.zo(h[2])}fY(){const c=this.uc.Sh,h=this.me;c.hj.W&&c.hj.Ge(h[0],h[1]);c.Vg.W&&c.Vg.Ge(h[4],h[5]);c.NJ.W&&c.NJ.Ge(h[6],h[7]);c.OJ.W&&c.OJ.Ge(h[8],h[9])}k0(c){this.ua=21;this.Gd=c?1:0}JX(){const c=this.S,h=0!==this.Gd;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}x0(c){this.ua=22;this.Gd=c?1:0}UX(){const c=this.S;0===this.Gd?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}y0(c){this.ua=
23;this.Gd=c?1:0}VX(){const c=this.S,h=this.uc,m=h.Cn,g=0!==this.Gd;h.cV=g;c.activeTexture(c.TEXTURE2);g?(h.kj&&c.bindFramebuffer(c.FRAMEBUFFER,h.kj),c.bindTexture(c.TEXTURE_2D,m.Gg)):(c.bindTexture(c.TEXTURE_2D,null),h.kj&&c.bindFramebuffer(c.FRAMEBUFFER,h.Ul));c.activeTexture(c.TEXTURE0)}p0(){this.ua=24}NX(){const c=this.S;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}o0(){this.ua=25}MX(){const c=
this.S;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}n0(){this.ua=26}LX(){const c=this.S;c.disable(c.STENCIL_TEST)}QM(c,h,m,g,l){this.ua=27;this.Gd=c?1:0;c=this.me;c[0]=h;c[1]=m;c[2]=g;c[3]=l}dY(){const c=this.S,h=this.me;1===this.Gd?(c.enable(c.SCISSOR_TEST),c.scissor(h[0],h[1],h[2],h[3])):c.disable(c.SCISSOR_TEST)}qa(){switch(this.ua){case 1:this.RX();break;case 2:this.eY();break;case 3:this.TX();break;case 4:this.SX();break;case 5:this.gY();break;case 6:this.bY();
break;case 7:this.YX();break;case 8:this.cY();break;case 9:this.KX();break;case 10:this.QX();break;case 11:this.$X();break;case 12:this.aY();break;case 13:this.PX();break;case 14:this.ZX();break;case 15:this.fY();break;case 16:this.IX();break;case 17:this.hY();break;case 18:this.OX();break;case 19:this.WX();break;case 20:this.XX();break;case 21:this.JX();break;case 22:this.UX();break;case 23:this.VX();break;case 24:this.NX();break;case 25:this.MX();break;case 26:this.LX();break;case 27:this.dY()}}}}
{"use strict";const e=self.B,a={timeout:60},b=new e.$a(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;e.cZ&&e.cZ.addEventListener("fontload",p=>{p=p.font.wa();for(const q of m)(q.Ah||e.zn(q.fA,p))&&q.ak()});function g(p,q,u,w,r,v){q?"Gecko"===e.Kc.Ww?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===e.Kc.Ww?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;e.I.CE=class{constructor(p,q){q=Object.assign({},a,q);this.la=
p;this.fA="Arial";this.gA=16;this.hA=1;this.op=0;this.qf=this.pf=!1;this.Oz="black";this.Ah=!1;this.IK=null;this.NG=new Set;this.mf="left";this.Te="top";this.fd="";this.Eu=null;this.un=e.j(e.qF);this.YJ="word";this.rI=this.UB=!1;this.kv=!0;this.Ro=-1;this.R=this.U=this.mH=this.fr=this.lr=0;this.Rh=1;this.hH=!1;this.Dv=this.Cl=this.Xd=this.Ep=null;this.hT=this.iT=-1;this.YA=this.kT=this.vI="";this.wI=this.xI=1;this.wT=(u,w)=>this.MQ(u,w);this.lb=null;this.bw=this.dw=0;this.Yf=new e.Rect;this.Pv=1;
this.SI=!1;this.DJ=new e.d0(()=>{this.oi();this.vR(8,8)},q.timeout);this.AC=null;this.qw=!1;m.add(this)}A(){this.IK=null;this.NG.clear();this.wT=this.Dv=this.Cl=this.Xd=this.Ep=this.Eu=null;this.DJ.A();this.AC=null;this.oi();this.un.od();this.la=this.un=null;this.qw=!0;m.delete(this)}Go(){this.hH=!0}ak(){this.Go();this.un.od();this.UB=!0}wO(){this.kv=!1}qg(){return this.kv}N3(p){p=!!p;this.Ah!==p&&(p=(this.Ah=p)?"alphabetic":"top",this.Xd&&(this.Xd.textBaseline=p),this.Cl&&(this.Cl.textBaseline=p),
this.ak())}QE(p){p||(p="serif");this.fA!==p&&(this.fA=p,this.ak())}Dy(p){.1>p&&(p=.1);this.gA!==p&&(this.gA=p,this.ak())}c4(p){this.hA!==p&&(this.hA=p,this.ak())}AO(p){this.op!==p&&(this.op=p,this.Go())}iO(p){p=!!p;this.pf!==p&&(this.pf=p,this.ak())}yO(p){p=!!p;this.qf!==p&&(this.qf=p,this.ak())}PE(p){p=Math.floor(p);this.Ro!==p&&(this.Ro=p,this.Go())}Fi(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Oq(p,q){return!!this.Fi(p,q)}$P(p,q){let u=[];(this.pf||this.Oq(q,
"b"))&&u.push("bold");(this.qf||this.Oq(q,"i"))&&u.push("italic");var w=this.Fi(q,"size");w=(w?parseFloat(w.Vh):this.gA)*this.hA;p?u.push(w+"pt"):u.push(w*this.Pv*this.Rh*self.devicePixelRatio+"pt");p=this.fA;(q=this.Fi(q,"font"))&&q.Vh&&(p=q.Vh,this.IK&&!this.NG.has(p)&&(this.IK(p),this.NG.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}um(p){p instanceof e.$a&&(p=p.dea());this.Oz!==p&&(this.Oz=p,this.Go())}kO(p,q,u){b.As(p,q,u);this.um(b)}tO(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.mf!==p&&(this.mf=p,this.Go())}NO(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Te!==p&&(this.Te=p,this.Go())}N4(p){if(!h.has(p))throw Error("invalid word wrap mode");this.YJ!==p&&(this.YJ=p,this.ak())}Qt(p){this.fd!==p&&(this.fd=p,this.ak())}cd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.fr===p&&this.mH===q&&this.Rh===u)){1===this.Rh!==(1===u)&&(this.SI=!0);var w=this.fr,r=this.Rh;this.fr=p;this.mH=q;this.Rh=u;p=self.devicePixelRatio;this.U=this.fr*this.Rh*p;this.R=
this.mH*this.Rh*p;p=Math.max(this.U,this.R);q=Math.min(this.la.kB,4096);u=1;p>q&&(u=q/p,this.U=Math.min(this.U*u,q),this.R=Math.min(this.R*u,q));this.Pv=u;0<this.dw&&0<this.bw&&this.Rh===r&&this.Yf.set(0,0,this.U/this.dw,this.R/this.bw);this.fr!==w?this.ak():this.Go()}}$(){return this.U}X(){return this.R}r_(){this.aG();return this.un.a_()}q_(){this.aG();return this.un.u_()+this.un.Rm.length*(this.op+4)-this.op}Ld(){this.DJ.bd();this.w9();return this.lb}w9(){this.lb&&!this.hH&&!this.UB||this.rI||0>=
this.U||0>=this.R||(this.hH=!1,this.rI=!0,this.kv?e.Gn(()=>this.IP()):this.IP())}IP(){this.qw||(this.vR(Math.ceil(this.U),Math.ceil(this.R)),this.aG(),this.z7(),this.Eba(),this.DJ.bd(),this.rI=!1)}vR(p,q){this.Ep||(this.Ep=e.bh(16,16));let u=!1;if(this.iT!==p||this.hT!==q)this.iT=p,this.hT=q,this.Ep.width=p,this.Ep.height=q,u=!0;this.Xd||(this.Xd=this.Ep.getContext("2d"),u=!0);u?(this.Xd.textBaseline=this.Ah?"alphabetic":"top",this.Xd.font=this.vI,this.Xd.fillStyle=this.YA,this.Xd.strokeStyle=this.YA,
this.Xd.globalAlpha=this.xI,this.Xd.lineWidth=this.wI):this.Xd.clearRect(0,0,p,q)}EQ(){this.Cl||(this.Cl=e.bh(16,16).getContext("2d"),this.Dv=e.bh(16,16).getContext("2d"),this.Cl.textBaseline=this.Ah?"alphabetic":"top",this.Dv.textBaseline="top")}Waa(p){this.kT!==p&&(this.kT=p,this.Cl.font=p,this.Dv.font=p)}DR(){if(!l){l=!0;this.EQ();const p=this.Cl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}aG(){this.UB&&(this.EQ(),!this.Ah||
this.Eu&&this.Eu.toString()===this.fd||(this.Eu=new e.dm(this.fd,{Gea:!0})),this.un.qF(this.Ah?this.Eu.ifa():this.fd,this.wT,this.fr,this.YJ,0),this.UB=!1)}MQ(p,q){this.Waa(this.$P(!0,q));q=this.Fi(q,"size");q=(q?parseFloat(q.Vh):this.gA)*this.hA;const u=this.Cl.measureText(p);let w=0;this.Ah&&this.DR()&&(w=u.fontBoundingBoxAscent-this.Dv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,hg:u.fontBoundingBoxAscent||0,Bf:u.fontBoundingBoxDescent||0,Ef:w}}Faa(p){this.vI!==p&&(this.vI=
p,this.Xd.font=p)}jz(p){this.YA!==p&&(this.YA=p,this.Xd.fillStyle=p,this.Xd.strokeStyle=p)}Eaa(p){this.xI!==p&&(this.xI=p,this.Xd.globalAlpha=p)}qR(p){this.wI!==p&&(this.wI=p,this.Xd.lineWidth=p)}z7(){this.lr=0;const p=this.Pv*this.Rh*self.devicePixelRatio,q=(4+this.op)*p;var u=0;const w=this.un.Rm;if(0!==w.length){var r=this.Ah&&this.DR(),v=w[0].height*p;"center"===this.Te?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.R/2-u/2,0),r&&(v=w[0].Ef*p)):"bottom"===this.Te&&(u=w.reduce((y,A)=>y+
A.height*p+q,0)-this.op*p,u=this.R-u-(r?w.$d(-1).Bf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Ah){if(u+=0===y?v:G,0<y&&u>this.R-4*p)break}else if(0<y&&u>=this.R-G)break;0<=z&&this.y7(r,u,p);this.Ah||(u+=G);u+=q}}}y7(p,q,u){let w=0;"center"===this.mf?w=(this.U-p.width*u)/2:"right"===this.mf&&(w=this.U-p.width*u);for(const r of p.WU)this.x7(r,w,q,u,p.height),w+=r.width*u}x7(p,q,u,w,r){const v=this.Xd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=(4+
this.op)*w,F=p.jd,H=p.text;if(-1!==this.Ro){if(this.lr>=this.Ro)return;this.lr+H.length>this.Ro&&(H=H.substr(0,this.Ro-this.lr),r=this.MQ(H,F).width*w);this.lr+=H.length}var J=this.Fi(F,"background"),M=this.Oq(F,"u");p=this.Oq(F,"s");if((!e.pE(H)||J||M||p)&&!this.Oq(F,"hide")){var Q=this.Fi(F,"offsetx");q+=Q?parseFloat(Q.Vh)*w:0;Q=this.Fi(F,"offsety");u+=Q?parseFloat(Q.Vh)*w:0;J&&(this.jz(J.Vh),v.fillRect(q,u-A,r,A+z));Q=this.Fi(F,"color");this.jz(Q?Q.Vh:this.Oz);z=this.Fi(F,"opacity");this.Eaa(z?
parseFloat(z.Vh)/100:1);z=(z=this.Fi(F,"linethickness"))?parseFloat(z.Vh):1;(J=this.Oq(F,"stroke"))&&this.qR(.5*G*z*this.Pv*this.Rh*self.devicePixelRatio);this.Faa(this.$P(!1,F));g(v,J,H,q,u,r);!J&&(this.qR(.5*G*z*this.Pv*this.Rh*self.devicePixelRatio),F=this.Fi(F,"outline"))&&(this.jz(F.Vh),g(v,!0,H,q,u,r));this.jz(Q?Q.Vh:this.Oz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Eba(){this.la.bo()||(this.dw=Math.ceil(this.U),
this.bw=Math.ceil(this.R),this.Yf.set(0,0,this.U/this.dw,this.R/this.bw),this.SI&&(this.oi(),this.SI=!1),this.lb||(this.lb=this.la.BL(this.dw,this.bw,{yC:1===this.Rh,Hw:"high"})),this.la.v5(this.Ep,this.lb),this.AC&&this.AC())}hi(){return this.Yf}oi(){this.lb&&(this.la.bo()||this.la.qj(this.lb),this.lb=null)}static Wk(){for(const p of m)p.oi()}}}
{"use strict";const e=self.B;class a{constructor(b){this.S=b.S;this.Wc=b.Wc;this.vd=b.vd;this.Jh=null;this.Zu=this.Fb=!1;this.BB=0;this.Jh=1===this.Wc?this.vd.createQueryEXT():this.S.createQuery()}A(){this.DP();this.vd=this.S=null;this.Zu=!1}DP(){this.Jh&&(1===this.Wc?this.vd.deleteQueryEXT(this.Jh):this.S.deleteQuery(this.Jh),this.Jh=null)}UC(){if(this.Fb)throw Error("query already active");1===this.Wc?this.vd.beginQueryEXT(this.vd.TIME_ELAPSED_EXT,this.Jh):this.S.beginQuery(this.vd.TIME_ELAPSED_EXT,
this.Jh);this.Fb=!0}oD(){if(!this.Fb)throw Error("query not active");1===this.Wc?this.vd.endQueryEXT(this.vd.TIME_ELAPSED_EXT):this.S.endQuery(this.vd.TIME_ELAPSED_EXT);this.Fb=!1}bD(){if(this.Jh&&!this.Zu&&!this.Fb){var b=1===this.Wc?this.vd.getQueryObjectEXT(this.Jh,this.vd.QUERY_RESULT_AVAILABLE_EXT):this.S.getQueryParameter(this.Jh,this.S.QUERY_RESULT_AVAILABLE);var d=this.S.getParameter(this.vd.GPU_DISJOINT_EXT);b&&!d&&(this.BB=1===this.Wc?this.vd.getQueryObjectEXT(this.Jh,this.vd.QUERY_RESULT_EXT):
this.S.getQueryParameter(this.Jh,this.S.QUERY_RESULT),this.BB/=1E9,this.Zu=!0);(b||d)&&this.DP()}}Xx(){return this.Zu}Px(){if(!this.Zu)throw Error("no result available");return this.BB}}e.I.E5=class{constructor(b){this.la=b;this.yh=b.yh;this.Fb=!1;this.Vm=null;this.Om=!1;this.Qr=null;this.wp=[]}A(){for(const b of this.wp)b instanceof a&&b.A();e.D(this.wp);this.la=this.Qr=this.Vm=null}UC(){if(this.Fb)throw Error("query already active");const b=this.la.mU;0<b.length?(this.Om=!0,this.Vm=b.$d(-1),this.Vm.NP(),
this.Vm.wp.push(this)):(this.Om=!1,this.Vm=null);this.Fb=!0;b.push(this);this.BR()}oD(){if(!this.Fb)throw Error("query not active");if(this.la.mU.pop()!==this)throw Error("can only end most nested query");this.Fb=!1;this.NP();this.Vm&&(this.Vm.BR(),this.Vm=null)}BR(){this.Qr=e.j(a,this.la);this.wp.push(this.Qr);this.Qr.UC()}NP(){this.Qr.oD();this.Qr=null}bD(){for(const b of this.wp)b.bD()}Xx(){return this.wp.every(b=>b.Xx())}Px(){return this.wp.reduce((b,d)=>b+d.Px(),0)}}}
{"use strict";const e=self.B;e.I.eP=class{constructor(a,b=1E3){this.la=a;this.Sca=b;this.ek=[];this.la.U5(this)}A(){this.od();this.la.I$(this);this.la=null}od(){for(const a of this.ek)a.A();e.D(this.ek)}SC(){const a=new e.I.E5(this.la);this.ek.push(a);this.ek.length>this.Sca&&this.ek.shift().A();return a}VW(a){for(const b of this.ek){if(b.yh>=a)break;if(b.Om)break;b.bD()}}lM(a,b){if(b<=a)return NaN;let d=0;for(const c of this.ek){if(c.yh>=b)break;if(!(c.yh<a))if(c.Xx())d+=c.Px();else return NaN}return d}IL(a){for(let b=
0,d=this.ek.length;b<d;++b){const c=this.ek[b];if(c.yh<a)c.A();else{0<b&&this.ek.splice(0,b);break}}}}}
{"use strict";const e=self.B,a=self.mj,b=a.Ow,d=a.Xl,c={powerPreference:"default",VU:!0,alpha:!1,CK:!1,depth:!1,hK:!1,iV:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new e.rd(0,0,1,0,1,1,0,1),g=d.create(),l=d.create(),n=new e.rd,p=new e.Rect;let q=null;e.Bw&&(self.$oa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.apa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Fda()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}e.I.D5=class extends e.I.o3{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.CK&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.iV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.S=G;this.QR=G.getContextAttributes();y.CK&&!this.QR.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Wc=z;this.eg=b.create();this.Jm=!1;this.Cz=d.create();this.Tl=!!y.depth;this.Hu=!(!y.depth||!y.hK);this.gp=this.Tl;this.fI=!1;this.Gg=null;this.dI=!0;this.bS=this.cS=0;this.uB=this.OS=this.TB=this.fC=null;this.mw=
new Float32Array(24E3);this.PS=new Uint16Array(12E3);this.Dp=new Float32Array(16E3);this.JT=new Float32Array(32E3);this.lT=this.vB=this.re=this.Qh=0;this.Ap=this.mp=null;this.Du=[];this.Rb=this.Dm=0;this.Qd=null;this.uc=e.j(e.I.BW,this);this.wv=e.j(e.$a,1,1,1,1);this.Qm=this.Al=null;this.sI=this.uI=0;this.Lca=new e.Rect;this.XA=e.j(e.Rect,0,0,-1,-1);this.kB=-1;this.LI=0;this.jw="(unavailable)";this.iI=!1;this.Qu=this.xu=this.$I=null;this.KI=0;this.Ica=!!y.VU;this.vd=null;this.wz=new Set;this.mU=[];
this.YY(this.PS)}mi(){return!0}async ay(){super.ay();var v=this.S;this.wv.Dn(1,1,1,1);this.Qm=this.Al=null;this.vB=this.Qh=0;this.lT=23988;e.D(this.Du);this.Rb=this.Dm=0;this.Qd=this.mp=null;this.Lca.set(0,0,1,1);var y=this.uc;y.Sh=null;y.Ul=null;y.kj=null;b.set(y.lC,1,1,1,1);y.clearColor.Dn(0,0,0,0);y.NK.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.uI=v.ONE;this.sI=v.ONE_MINUS_SRC_ALPHA;this.y8(v);v.disable(v.CULL_FACE);
v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Tl?(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.gp=this.Tl;this.fI=!1;this.uB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.uB);v.bufferData(v.ARRAY_BUFFER,this.JT.byteLength,v.DYNAMIC_DRAW);this.fC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.fC);v.bufferData(v.ARRAY_BUFFER,this.mw.byteLength,v.DYNAMIC_DRAW);this.TB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.TB);v.bufferData(v.ARRAY_BUFFER,
this.Dp.byteLength,v.DYNAMIC_DRAW);this.OS=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.OS);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.PS,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.kB=v.getParameter(v.MAX_TEXTURE_SIZE);this.LI=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.LI&&(this.LI=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.jw=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.$I=v.getExtension("KHR_parallel_shader_compile");
e.Bw&&(q=v.getExtension("WEBGL_lose_context"));if(this.Ica)if(1===this.Wc){if("Chromium"!==e.Kc.Ww||81<=e.Kc.WC||"undefined"!==typeof document)this.vd=v.getExtension("EXT_disjoint_timer_query")}else this.vd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.KI=(this.xu=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.xu.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Wc&&this.Tl&&this.Hu&&(this.Qu=v.getExtension("WEBGL_depth_texture"),
!this.Qu))throw Error("no depth texture support");2>this.Wc&&v.getExtension("EXT_frag_depth");v=e.I.Vt;y=v.yx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.yx(!0),"<tilemap>"]].map(A=>this.hD({src:A[0]},A[1],A[2])));this.NB=v[0];this.Ap=v[1];this.MB=v[2];this.sJ=v[3];this.Vj()}async hD(v,y,A){v=await e.I.Vt.La(this,v,y,A);this.V5(v);return v}u3(){this.mp=null}cd(v,y,A){if(this.U!==v||this.R!==y||A){this.rj();A=this.S;var G=this.uc;this.U=v;this.R=y;this.yR(v,y);this.In(this.Cz,v/y);this.uo(this.Cz);this.Ap&&(A.useProgram(this.Ap.Kf()),this.Ap.LR(this.jB),this.mp=this.Ap,this.uc.Sh=this.Ap);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Qm=this.Al=null;this.Tl&&this.dI&&this.oG(this.U,this.R);this.Qd&&this.Qd.cR(this.U,this.R);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Qd=null;G.Ul=null;G.kj=null}}oG(v,y){const A=this.S;this.Gg&&this.cS===v&&this.bS===y||(this.Hu?(this.Gg&&A.deleteTexture(this.Gg),this.Gg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Gg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Wc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Qu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Qu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Gg&&A.deleteRenderbuffer(this.Gg),this.Gg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Gg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Wc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.cS=v,this.bS=y)}b4(v,y){this.Tl&&(this.dI=!1,this.oG(v,y))}M3(){this.Tl&&(this.dI=!0,this.oG(this.U,this.R))}yR(v,y){const A=this.eg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.rc().F0(v,y),b.set(A,0,0,v,y),this.Rb=0}RE(v){super.RE(v);this.In(this.Cz,this.U/this.R)}uo(v){d.lj(this.jB,v)||(this.rc().C0(v),d.na(this.jB,v),this.Rb=0,this.Jm=!0)}nO(){let v,y;var A=this.Qd;
null===A?(v=this.Cz,y=this.$(),A=this.X()):(v=A.k_(),y=A.$(),A=A.X());this.uo(v);this.yR(y,A)}Bq(v){d.lj(this.II,v)||(this.rc().z0(v),d.na(this.II,v),this.Rb=0,this.Jm=!0)}s3(){this.Jm=!1}rc(){const v=this.Du;this.Dm===v.length&&v.push(new e.I.C5(this.uc));return v[this.Dm++]}rj(){0===this.Dm||this.bo()||(this.Nba(),this.C7(),this.Rb=this.vB=this.re=this.Qh=this.Dm=0)}Nba(){const v=this.S;0<this.vB&&(v.bindBuffer(v.ARRAY_BUFFER,this.uB),v.bufferSubData(v.ARRAY_BUFFER,0,this.JT.subarray(0,this.vB)));
0<this.Qh&&(v.bindBuffer(v.ARRAY_BUFFER,this.fC),v.bufferSubData(v.ARRAY_BUFFER,0,this.mw.subarray(0,this.Qh)),v.bindBuffer(v.ARRAY_BUFFER,this.TB),v.bufferSubData(v.ARRAY_BUFFER,0,this.Dp.subarray(0,this.re)))}C7(){const v=this.Du;for(let y=0,A=this.Dm;y<A;++y)v[y].qa()}Id(){return this.wv.Ta}ff(v,y,A,G){const z=this.wv;z.oC(v,y,A,G)||(z.Dn(v,y,A,G),this.rc().ZD(z),this.Rb=0,this.Qi=null)}si(v){const y=this.wv;y.Ta!==v&&(y.ys(v),this.rc().ZD(y),this.Rb=0,this.Qi=null)}um(v){const y=this.wv;y.hd(v)||
(y.set(v),this.rc().ZD(y),this.Rb=0,this.Qi=null)}Ct(){this.ff(1,1,1,1)}Qf(v){v!==this.Al&&(this.rc().E0(v),this.Al=v,this.Rb=0)}gG(){this.Al=null}Pf(v){v=this.W7(v);this.nG(v[0],v[1])}nG(v,y){if(v!==this.uI||y!==this.sI)this.rc().w0(v,y),this.uI=v,this.sI=y,this.Rb=0,this.Qi=null}hO(){this.nG(this.S.ONE,this.S.ONE_MINUS_SRC_ALPHA)}OE(){this.nG(this.S.ONE,this.S.ZERO)}Rect(v){this.ON(v.V,v.O,v.ca,v.Z)}ON(v,y,A,G){this.V2(v,y,A,y,A,G,v,G)}$t(){let v=this.Qh;v>=this.lT&&(this.rj(),v=0);1===this.Rb?
this.Du[this.Dm-1].sl+=6:(this.rc().v0(v),this.Rb=1)}AG(v){v.rfa(this.mw,this.Qh,this.Bu+this.Pu);this.Qh+=12}rd(v){this.$t();this.AG(v);m.Zg(this.Dp,this.re);this.re+=8}V2(v,y,A,G,z,F,H,J){this.$t();const M=this.mw;let Q=this.Qh;const R=this.Bu+this.Pu;M[Q++]=v;M[Q++]=y;M[Q++]=R;M[Q++]=A;M[Q++]=G;M[Q++]=R;M[Q++]=z;M[Q++]=F;M[Q++]=R;M[Q++]=H;M[Q++]=J;M[Q++]=R;this.Qh=Q;m.Zg(this.Dp,this.re);this.re+=8}rq(v,y){this.$t();this.AG(v);y.qfa(this.Dp,this.re);this.re+=8}W2(v,y){this.$t();this.AG(v);y.Zg(this.Dp,
this.re);this.re+=8}qy(v,y,A,G,z,F,H,J,M,Q,R,T,Z){this.$t();const X=this.mw;let ba=this.Qh;const Y=this.Bu+this.Pu;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=Q;X[ba++]=R;X[ba++]=Y+T;this.Qh=ba;Z.Zg(this.Dp,this.re);this.re+=8}eZ(v,y){d.na(g,this.jB);d.na(l,this.II);this.nO();const [A,G]=this.bt(this.Qd);var z=this.Fs(0,0,this.Gf(G),0,0,G);this.Bq(z);if("crop"===v&&this.Qd&&y){v=this.U/2;z=this.R/2;const J=y.$();y=y.X();var F=this.Qd.$(),
H=this.Qd.X();F=Math.min(F,J);const M=Math.min(H,y),Q=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.oj(p);p.set(0,Q,F,M+Q);p.Vl(J,y);this.rq(n,p)}else v=A/2,z=G/2,this.ON(-v,z,v,-z);this.uo(g);this.Bq(l)}Fq(v){this.mp!==v&&(this.rc().A0(v),this.mp=v,this.Rb=0,this.Qi=null)}HO(v,y,A,G,z,F,H,J,M,Q,R,T){const Z=this.mp;var X=Z.DS;const ba=!!T.length;if(X&&!Z.vW(y,A,G,z,F,H,J,M,Q,R)||ba&&!Z.uW(T)){var Y=this.rc();Y.B0();X&&(Z.p4(y,A,G,z,F,H,J,M,Q,R),X=Y.me,X[0]=F,X[1]=H,y.Zg(X,2),X[6]=
M,X[7]=Q,A.Zg(X,12),y=Y.Oo,z.Zg(y,0),z=y[1],y[1]=y[3],y[3]=z,G.Zg(Y.gU,0),Y.Gd=R,Y.sl=J,Y.Qe=Z.js.W?v?v.Ld():null:null);ba&&(Z.S3(T),e.Hc(Y.GB,T));this.Rb=0}}Kn(){this.rc().m0();this.Rb=0}od(v){this.rc().l0(v);this.Rb=0}St(){}Vp(){super.Vp();this.S.flush()}WW(){this.Tl&&this.Qd&&this.Qd.Pc&&(this.rc().k0(this.gp),this.Rb=0)}ug(v){v=!!v;this.gp!==v&&this.Tl&&(this.gp=v,this.rc().x0(v),this.Rb=0)}Ht(v){v=!!v;if(this.Hu&&this.fI!==v){if(v&&this.gp)throw Error("depth still enabled");this.fI=v;this.rc().y0(v);
this.Rb=0}}x4(v,y,A,G,z=0){v=Math.floor(v);y=Math.floor(y);A=Math.floor(A);G=Math.floor(G);this.XA.Yda(v,y,A,G)||(this.XA.Yg(v,y,A,G),y=(z||this.bt(this.Ej())[1])-y-G,this.rc().QM(!0,v,y,A,G),this.Rb=0)}QN(){-1!==this.XA.ca&&(this.XA.set(0,0,-1,-1),this.rc().QM(!1,0,0,0,0),this.Rb=0)}UW(){for(const v of this.wz)v.VW(this.yh)}bo(){return!this.S||this.S.isContextLost()||this.iI}Wk(){super.a2();e.I.Py.Wk();e.I.fP.Wk();e.I.CE.Wk();for(const v of this.wz)v.od();this.Qu=this.xu=this.$I=this.vd=null;this.KI=
0;this.jw="(unavailable)";this.Gg=this.Ap=this.mp=null;for(const v of this.Yv.values())v.Wk()}async vE(){this.iI=!0;await this.ay();this.iI=!1;for(const v of this.Yv.values())v.vE(this);this.cd(this.U,this.R,!0)}EL(v,y){if(this.bo())throw Error("context lost");this.rj();const A=e.j(e.I.Py,this);A.D6(v,y);return A}async iD(v,y){if(this.bo())throw Error("context lost");y=Object.assign({},y);if(e.tb.ImageBitmapOptions){let A=await createImageBitmap(v,{premultiplyAlpha:"premultiply"});const G=y.LC&&"clamp-to-edge"!==
y.LC||y.MC&&"clamp-to-edge"!==y.MC,z=e.Uh(A.width)&&e.Uh(A.height);this.xo()||z||!G?y.premultiplyAlpha=!1:e.tb.Zx?(A=await createImageBitmap(v,{premultiplyAlpha:"premultiply",resizeWidth:e.zC(A.width),resizeHeight:e.zC(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(v,{premultiplyAlpha:"none"});return await e.Gn(()=>this.EL(A,y))}if(v instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");v=await e.HW(v)}return await e.Gn(()=>this.EL(v,
y))}BL(v,y,A){this.rj();const G=e.j(e.I.Py,this);G.q6(v,y,A);return G}v5(v,y){this.rj();y.GR(v,void 0)}qj(v){v&&(v.d5(),0<v.Ec||(this.rj(),v===this.Al&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Al=null),v===this.Qm&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.Qm=null),v.EF()))}uX(v){let y=this.U,A=this.R,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||
0>=A)throw Error("invalid size");this.rj();const z=e.j(e.I.fP,this);z.p6(y,A,Object.assign({bV:G},v));this.Qd=null;this.uc.Ul=null;this.uc.kj=null;return z}vg(v,y=!0){v!==this.Qd&&(v&&v.CA&&v.cR(this.U,this.R),this.rc().D0(v),this.Qd=v,this.Rb=0,y&&this.nO())}Ej(){return this.Qd}bt(v){return v?[v.$(),v.X()]:[this.U,this.R]}yL(v){2>this.Wc||this.Qd&&0<this.Qd.Dl?(this.OE(),this.Ct(),this.mx(v,"stretch")):(this.rc().i0(v,this.Qd),this.Rb=0)}mx(v,y="stretch"){v=v.Ld();if(!v)throw Error("not a texture-backed render target");
this.Qf(v);this.eZ(y,v)}hq(v){2>this.Wc||(this.rc().r0(v.Ig),this.Rb=0)}GX(v){this.vg(null);this.rj();const y=v.Ld();y===this.Al&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Al=null);y===this.Qm&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.Qm=null);v.EF()}xL(){this.ug(!0);this.rc().p0();this.Rb=0}wL(){this.ug(!1);this.rc().o0();this.Rb=0}vL(){this.ug(!0);this.rc().n0();this.Rb=0}iF(v){this.Wj()&&(this.rc().H0(v),
this.Rb=0)}nD(v){this.Wj()&&(this.rc().q0(v),this.Rb=0)}Jba(v){const y=new Promise(A=>u.add({resolve:A,Fda:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}V0(){return!!this.QR.desynchronized}wZ(){let v=0;for(const y of e.I.Py.wda())v+=y.AD();return v}xo(){return 2<=this.Wc}Wj(){return!!this.vd}U5(v){this.wz.add(v)}I$(v){this.wz.delete(v)}y8(v){this.x8([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const e={XU:null,YU:null,tV:null,getTime:null,sV:null};self.B.I.NY=class{constructor(a){a=Object.assign({},e,a);this.WR=a.XU;this.hca=a.YU;this.kca=a.tV;this.ica=a.getTime;this.jca=a.sV}dM(a){return this.WR?this.WR(a):[a.$(),a.X()]}Ej(a){return this.hca(a)}e3(a,b){this.kca(a,b)}xa(){return this.ica()}ty(a){this.jca(a)}}}
{"use strict";const e=self.B,a=self.mj.Xl,b=e.j(e.Rect),d=e.j(e.Rect),c=e.j(e.Rect),h=e.j(e.Rect),m=a.create(),g=a.create(),l={nC:null,ZU:null,sC:null,wK:!1},n={qs:null,qC:!1,oK:!1,xK:!1,BK:!1,dV:!1,IC:!1},p={jC:null,Uoa:null,wn:0,devicePixelRatio:1,Cw:1,wC:0,vs:null,xw:null,TU:null,MU:0,NU:0,PV:!1};e.I.we=class{constructor(q,u){u=Object.assign({},l,u);this.Mg=q;this.eH=u.nC;this.Ju=u.ZU;this.XR=u.sC;this.Kz=null;this.HB=[];this.Qv=[];this.Cp=[];this.Cg=0;this.sn=this.Iu=this.dS=this.Jm=this.AA=this.cI=
!1;this.qp=0;this.Jl=[null,null,null];this.US=!!u.wK;this.Cc=this.Qc=this.Xq=this.Wq=0;this.Hm=null;this.xv=e.j(e.Rect);this.gk=e.j(e.Rect);this.Il=e.j(e.Rect);this.Pr=e.j(e.Rect);this.Zm=e.j(e.Rect);this.cB=this.Im=1;this.Zb=this.yI=0;this.Vz=null;this.kH=this.jH=0;this.QJ=!1;this.qk=a.create();this.Fv=a.create()}A(){e.D(this.Cp);e.D(this.HB);e.D(this.Qv);this.XR=this.Ju=this.eH=this.Hm=null}XC(q,u){u=Object.assign({},n,u);e.D(this.Cp);this.Xq=this.Wq=0;this.AA=this.cI=!1;this.qp=0;this.sn=!!u.IC;
e.Hc(this.HB,q);if(0!==q.length){if(u.qs){if(u.qs.length!==q.length)throw Error("incorrect indexMap length");e.Hc(this.Qv,u.qs)}else{e.D(this.Qv);for(let v=0,y=q.length;v<y;++v)this.Qv.push(v)}for(var w of q)this.Wq+=w.mS,this.Xq+=w.nS,w.Tba&&(this.cI=!0),w.bC&&(this.AA=!0);w=q[0];if(1!==q.length||w.$G||w.aS||!u.IC&&(0!==w.mS||0!==w.nS)||u.qC||w.nq()||u.oK||u.xK||!this.sn&&w.bC||w.eb().mi()&&w.aC&&u.BK){this.Iu=!1;w=this.iba(w,u);u=this.hba(q.$d(-1),u);var r=0;w&&(this.qp=1,this.Cp.push(e.j(e.I.we.mh.N2,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.qp=Math.max(this.qp,q),this.Cp.push(e.j(e.I.we.mh.IW,this,r,q,v)),r=q):(this.qp=1,this.Cp.push(e.j(e.I.we.mh.bZ,this,-1,1,v)),r=1);u&&this.Cp.push(e.j(e.I.we.mh.K2,this,r,0))}else this.Iu=!0}}iba(q,u){const w=q.eb().mi()&&u.BK;return u.qC||u.xK||!this.sn&&q.bC||q.nq()||q.$G&&(u.dV||w)||w&&q.aC||0!==this.Wq||0!==this.Xq}hba(q,u){return u.oK||q.$G||q.aS}qo(q,u,w){w=Object.assign({},p,w);this.Vz=u;this.Hm=w.jC;
this.Cg=w.wn;this.Im=w.devicePixelRatio;this.cB=w.Cw;this.yI=w.wC;this.Zb=this.Mg.xa();this.Jm=!1;q.s3();this.cI&&this.t$();if(this.Iu)this.L$(q,w);else{var [r,v]=this.Mg.dM(q);this.Gaa(q,r,v);this.i6(w);q.Ct();q.xq(0);q.Gt(0);this.Kz=w.TU;this.jH=w.MU||0;this.kH=w.NU||0;this.QJ=!!w.PV;this.J9(q);this.Jl[0]=u;this.Jl[1]=1<=this.qp?this.fQ():null;this.Jl[2]=2===this.qp?this.fQ():null;for(const y of this.Cp)y.Dt(q,this.gQ(y.kda),this.gQ(y.eS));this.Jl[1]&&this.YQ(this.Jl[1]);this.Jl[2]&&this.YQ(this.Jl[2]);
this.Jl.fill(null);this.G9(q);this.Kz=this.Hm=this.Vz=null}}Gaa(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.Qc===u&&this.Cc===w||this.rP(q,u,w,0,0,this.qk,this.Fv);this.Qc=u;this.Cc=w}rP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.In(y,u/w);q=q.Fs(r,v,q.Gf(w),r,v,w);a.na(A,q)}i6(q){this.xv.na(q.vs);q.xw?this.gk.na(q.xw):this.gk.set(0,0,this.Qc,this.Cc);this.Il.na(this.gk);this.Il.Vl(this.Qc,this.Cc);q=q.Cw*q.devicePixelRatio;this.gk.uC(this.Wq*q,this.Xq*q);this.Zm.na(this.gk);this.Zm.Vl(this.Qc,
this.Cc);this.gk.da(0,0,this.Qc,this.Cc);this.Pr.na(this.gk);this.Pr.Vl(this.Qc,this.Cc)}J9(q){this.dS=q.gp;if(this.sn)q.ug(!1),this.AA&&q.Ht(!0);else{b.na(this.gk);if(q.mi()){const u=this.cB*this.Im;b.uC(Math.max(this.Wq,1)*u,Math.max(this.Xq,1)*u);b.wV();b.da(0,0,this.Qc,this.Cc)}else b.wV();q.x4(b.V,b.O,b.width(),b.height(),this.Cc)}}F9(q){q.Ct();this.sn||(q.ug(!1),this.AA&&q.Ht(!0))}G9(q){q.Ht(!1);q.ug(this.dS);this.sn||q.QN();this.Jm=q.Jm}tP(){this.Zm.da(0,0,1,1)}gQ(q){return 0>q?null:this.Jl[q]}fQ(){return this.Mg.Ej(this)}YQ(q){this.Mg.e3(q,
this)}m8(q){return this.HB[q]}HF(q){this.Kz?this.Kz(this,q,()=>this.eH(q,this)):this.eH(q,this);this.Iu||this.F9(q)}P8(q){if(this.sn)return!0;if(0!==this.jH||0!==this.kH)return!1;const [u,w]=q.bt(q.Ej());return u!==this.Qc||w!==this.Cc?!1:!0}pR(q,u){let w=this.qk,r=this.Fv;if(u&&!this.P8(q)){w=m;r=g;const [v,y]=q.bt(q.Ej());this.rP(q,v,y,this.jH,this.kH,w,r);this.sn||q.QN()}q.uo(w);q.Bq(r)}t$(){this.Mg.ty(this)}lQ(q){return this.XR(this.Qv[q])}Xaa(q,u){let w=this.Zm,r=this.Pr,v=this.Il;q.mi()&&(d.na(w),
d.An(),w=d,c.na(r),c.An(),r=c,h.na(v),h.An(),v=h);this.HP(q,u,r,v,w,1/this.Qc,1/this.Cc)}Iaa(q,u){let w=this.Pr,r=this.Il,v=1/this.Qc,y=1/this.Cc;if(this.Ju){let {HV:G,IV:z,GV:F}=this.Ju(this.Hm);G||(b.set(0,0,0,0),G=b);z||(z=this.Qc);F||(F=this.Cc);r=w=G;v=1/z;y=1/F}else q.mi()&&(c.na(w),c.An(),w=c,h.na(r),h.An(),r=h);let A=this.Zm;q.mi()&&(A=d,A.na(this.Zm),A.An());this.HP(q,u,w,r,A,v,y)}HP(q,u,w,r,v,y,A){u=this.lQ(u);q.HO(this.Vz,v,w,r,this.xv,y,A,this.Im,this.cB,this.yI,this.Zb,u)}L$(q,u){var w=
this.HB[0];const r=q.gp,v=w.bC;v&&(q.ug(!1),q.Ht(!0),this.Zm.set(0,0,1,1),this.Il.set(0,0,1,1));q.Fq(w);q.Pf(this.Cg);q.vg(this.Vz);let y;this.Il.set(0,0,1,1);if(w.aC&&this.Ju){const {HV:A,IV:G,GV:z}=this.Ju(this.Hm);A&&this.Il.na(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Mg.dM(q);w=1/A;y=1/G}u.vs?this.xv.na(u.vs):this.xv.set(0,0,0,0);u=this.lQ(0);q.HO(null,this.Zm,this.Il,this.Il,this.xv,w,y,this.Im,this.cB,this.yI,this.Zb,u);q.xq(0);this.HF(q);v&&(q.Ht(!1),q.ug(r))}}}"use strict";
self.B.I.we.mh=class{constructor(e,a,b,d=-1){this.uh=e;this.kda=a;this.eS=b;this.Ka=d}bi(){return this.uh}Ea(){return this.Ka}Kf(){return this.bi().m8(this.Ea())}Dt(){}};{"use strict";const e=self.B;e.I.we.mh.N2=class extends e.I.we.mh{constructor(a,b,d,c){super(a,b,d,c)}Dt(a,b,d){b=this.bi();a.hO();a.Vj();a.vg(d,b.QJ);a.Kn();b.HF(a);b.tP()}}}
{"use strict";const e=self.B,a=e.j(e.Rect),b=e.j(e.rd);e.I.we.mh.K2=class extends e.I.we.mh{constructor(d,c,h,m){super(d,c,h,m)}Dt(d,c,h){const m=this.bi();d.Vj();d.vg(h);m.pR(d,!0);d.Pf(m.Cg);d.Qf(c.Ld());b.oj(m.gk);a.na(m.Pr);a.An();d.rq(b,a);m.US&&d.hq(c)}}}{"use strict";const e=self.B;e.I.we.mh.bZ=class extends e.I.we.mh{constructor(a,b,d,c){super(a,b,d,c)}Dt(a,b,d){b=this.bi();a.vg(d,b.QJ);a.Kn();a.OE();a.Fq(this.Kf());b.Iaa(a,this.Ea());b.HF(a);b.tP()}}}
{"use strict";const e=self.B,a=e.j(e.Rect),b=e.j(e.rd);e.I.we.mh.IW=class extends e.I.we.mh{constructor(d,c,h,m){super(d,c,h,m)}Dt(d,c,h){const m=this.bi();d.vg(h);(h=0===this.eS)?d.Pf(m.Cg):(d.Kn(),d.OE());d.Fq(this.Kf());m.Xaa(d,this.Ea());d.Qf(c.Ld());m.pR(d,h);b.oj(m.gk);a.na(m.Pr);a.An();d.rq(b,a);m.US&&d.hq(c)}}}
{"use strict";let e=null;const a=new Set;let b=!1;self.Z_=class{constructor(d){e=d;Object.defineProperties(this,{gea:{value:{},writable:!1},storage:{value:new self.a0(e),writable:!1},Vpa:{value:e.le,writable:!1}});e.Zd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});e.Zd.addEventListener("keyup",c=>a.delete(c.key));e.Sb().addEventListener("window-blur",()=>a.clear());e.le&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}B8(d){Object.defineProperties(this.gea,d)}addEventListener(d,c){e.Zd.addEventListener(d,c)}removeEventListener(d,c){e.Zd.removeEventListener(d,c)}get UU(){return e.yD()}random(){return e.sq()}get xC(){return e.Nb().bv}get keyboard(){const d=e.Pz.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get jV(){const d=e.Pz.jV;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get $K(){const d=e.Pz.$K;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.ko("runtime","alert",{message:d+(e.le?" [via Web Worker]":"")})}}}"use strict";self.U_=class{constructor(){}};{"use strict";const e=self.$g;self.a0=class{constructor(a){this.Zv=a.j8()}getItem(a){e.yd(a);return this.Zv.getItem(a)}setItem(a,b){e.yd(a);return this.Zv.setItem(a,b)}removeItem(a){e.yd(a);return this.Zv.removeItem(a)}clear(){return this.Zv.clear()}keys(){return this.Zv.keys()}}}
{"use strict";const e=self.$g,a=new WeakMap;self.NM=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.wa(),writable:!1}});b.G().CQ(this,b)}addEventListener(b,d){e.yd(b);e.Rj(d);a.get(this).Zd.addEventListener(b,d)}removeEventListener(b,d){e.yd(b);e.Rj(d);a.get(this).Zd.removeEventListener(b,d)}*aV(){for(const b of a.get(this).ja())yield b.hh()}kK(b){e.Of(void 0);e.Of(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var d=
a.get(this);const c=d.G();b=c.Nb().ba(b);if(!b)throw Error("invalid layer");d=c.fD(d,b,void 0,void 0,void 0);b=c.ga();b.te(!0);d.qz();b.te(!1);b.pt()||c.wd();return d.hh()}}}
{"use strict";const e=self.$g,a=new WeakMap;self.Y_=class{constructor(b){a.set(this,b);const d=[],c=b.Ja,h=c.kg().length;for(let m=0;m<h;++m)d.push(new self.XD(c,m));Object.defineProperties(this,{name:{value:b.wa(),writable:!1},index:{value:b.Ea(),writable:!1}})}addEventListener(b,d){e.yd(b);e.Rj(d);a.get(this).Zd.addEventListener(b,d)}removeEventListener(b,d){e.yd(b);e.Rj(d);a.get(this).Zd.removeEventListener(b,d)}get width(){return a.get(this).$()}set width(b){a.get(this).Bi(b)}get height(){return a.get(this).X()}set height(b){a.get(this).ri(b)}set scale(b){e.Qj(b);
a.get(this).VE(b)}get scale(){return a.get(this).nd}set angle(b){e.Qj(b);a.get(this).zd(b)}get angle(){return a.get(this).Ma()}set scrollX(b){e.Of(b);a.get(this).wi(b)}get scrollX(){return a.get(this).If()}set scrollY(b){e.Of(b);a.get(this).xi(b)}get scrollY(){return a.get(this).Jf()}scrollTo(b,d){e.Of(b);e.Of(d);const c=a.get(this);c.wi(b);c.xi(d)}*$J(){for(const b of a.get(this).$J())yield b.rA}set pV(b){e.yd(b);const d=a.get(this);if("perspective"===b)d.GO();else if("orthographic"===b)d.DO();else throw Error("invalid projection");
}get pV(){return a.get(this).rf?"orthographic":"perspective"}}}
{"use strict";const e=self.B,a=self.$g,b=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),h=e.j(e.$a);self.X_=class{constructor(m){b.set(this,m);const g=[],l=m.Ja,n=l.kg().length;for(let p=0;p<n;++p)g.push(new self.XD(l,p));Object.defineProperties(this,{name:{value:m.wa(),writable:!1},index:{value:m.Ea(),
writable:!1},xC:{value:m.cc().bv,writable:!1}})}*KK(){for(const m of b.get(this).KK())yield m.rA}get isVisible(){return b.get(this).Cr}set isVisible(m){b.get(this).Ai(m)}get opacity(){return b.get(this).Id()}set opacity(m){m=e.da(+m,0,1);isNaN(m)||b.get(this).si(m)}set scale(m){a.Qj(m);b.get(this).EO(m)}get scale(){return b.get(this).nd}set angle(m){a.Qj(m);b.get(this).zd(m)}get angle(){return b.get(this).he}set Qw(m){a.Qj(m);b.get(this).gf(m)}get Qw(){return b.get(this).ab()}set wn(m){a.yd(m);m=
d.get(m);if("number"!==typeof m)throw Error("invalid blend mode");b.get(this).Pf(m)}get wn(){return c.get(b.get(this).sj())}set backgroundColor(m){a.FE(m);if(3>m.length)throw Error("expected 3 elements");h.As(m[0],m[1],m[2]);m=b.get(this);const g=m.kl;g.Wl(h)||(g.jj(h),m.G().aa())}get backgroundColor(){const m=b.get(this).kl;return[m.Sa,m.Va,m.Ua]}set scrollX(m){a.Of(m);const g=b.get(this);g.Lt(!0);g.wi(m)}get scrollX(){return b.get(this).If()}set scrollY(m){a.Of(m);const g=b.get(this);g.Lt(!0);g.xi(m)}get scrollY(){return b.get(this).Jf()}scrollTo(m,
g){a.Of(m);a.Of(g);const l=b.get(this);l.Lt(!0);l.wi(m);l.xi(g)}}}
{"use strict";const e=self.B,a=self.$g,b=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.j(e.Event.Sb);d.set(m,g);return g}let h=null;self.lt=class{constructor(){b.set(this,h);const m={Df:{value:h.G().Xi,writable:!1},HK:{value:h.H().cv,writable:!1},uid:{value:h.Vc,writable:!1}};h.a8(m);h.V7(m);Object.defineProperties(this,m);h.G().CQ(this,h)}static zg(m){h=m}static au(){return h}nu(){const m=d.get(this);m&&(m.A(),d.delete(this));b.delete(this)}addEventListener(m,g,l){a.yd(m);
a.Rj(g);c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.yd(m);a.Rj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.B,a=self.$g,b=self.lt,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.j(e.$a);self.Yx=class m extends b{constructor(){super();var g=b.au();d.set(this,g);const l=[];var n=g.m();if(g=n.Wf){n=n.H().Ja.kg().length;for(let p=0;p<n;++p)l.push(new self.XD(g,p))}}get xC(){return d.get(this).m().cc().bv}get hV(){return d.get(this).m().ba().rA}get x(){return d.get(this).m().oa()}set x(g){g=
+g;const l=d.get(this).m();isNaN(g)||l.oa()===g||(l.lh(g),l.Ya())}get y(){return d.get(this).m().pa()}set y(g){g=+g;const l=d.get(this).m();isNaN(g)||l.pa()===g||(l.Ci(g),l.Ya())}get Qw(){return d.get(this).m().ab()}set Qw(g){g=+g;const l=d.get(this),n=l.m();isNaN(g)||n.ab()===g||(n.gf(g),l.G().aa())}get width(){return d.get(this).m().$()}set width(g){g=+g;const l=d.get(this).m();isNaN(g)||l.$()===g||(l.Bi(g),l.Ya())}get height(){return d.get(this).m().X()}set height(g){g=+g;const l=d.get(this).m();
isNaN(g)||l.X()===g||(l.ri(g),l.Ya())}get angle(){return d.get(this).m().Ma()}set angle(g){g=e.se(+g);const l=d.get(this).m();isNaN(g)||l.Ma()===g||(l.zd(g),l.Ya())}sK(){d.get(this).m().Zc().hfa()}get isVisible(){return d.get(this).m().ad()}set isVisible(g){g=!!g;const l=d.get(this),n=l.m();n.ad()!==g&&(n.Ai(g),l.G().aa())}get opacity(){return d.get(this).m().Id()}set opacity(g){g=e.da(+g,0,1);const l=d.get(this),n=l.m();isNaN(g)||n.Id()===g||(n.si(g),l.G().aa())}set wn(g){a.yd(g);g=c.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const l=d.get(this);l.m().Pf(g);l.G().aa()}get wn(){return h.get(d.get(this).m().sj())}get zIndex(){return d.get(this).m().Jj()}Af(g,l){a.Of(g);a.Of(l);return d.get(this).m().Gs(+g,+l)}getParent(){const g=d.get(this).Ba();return g?g.hh():null}*Iw(){for(const g of d.get(this).Iw())yield g.hh()}*children(){for(const g of d.get(this).children())yield g.hh()}*Dk(){for(const g of d.get(this).Dk())yield g.hh()}removeChild(g){a.GE(g,m);const l=d.get(this);g=d.get(g);
l.Pj(g)}}}{"use strict";const e=new WeakMap;self.Xha=class extends self.Yx{constructor(){super();e.set(this,self.lt.au())}focus(){e.get(this).ma.VL()}blur(){e.get(this).ma.kL()}}}
{"use strict";const e=self.B,a=self.$g,b=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.j(e.Event.Sb);d.set(m,g);return g}let h=null;self.W_=class{constructor(){b.set(this,h);const m={Df:{value:h.G().Xi,writable:!1},behavior:{value:h.fm().MZ(),writable:!1}};Object.defineProperties(this,m)}static zg(m){h=m}static au(){return h}get instance(){return b.get(this).ia.hh()}nu(){const m=d.get(this);m&&(m.A(),d.delete(this));b.delete(this)}addEventListener(m,g,l){a.yd(m);a.Rj(g);
c(this).addEventListener(m,g,l)}removeEventListener(m,g,l){a.yd(m);a.Rj(g);c(this).removeEventListener(m,g,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.V_=class{constructor(a){e.set(this,a);Object.defineProperties(this,{Df:{value:a.G().Xi,writable:!1}})}}}
{"use strict";const e=self.B,a=self.$g,b=new WeakMap;self.XD=class{constructor(d,c){b.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).kg()[this.index].wa()}getParameter(d){a.Qj(d);d=Math.floor(+d);const c=b.get(this).Kk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.$a?[d.Sa,d.Va,d.Ua]:d}}}
{"use strict";const e=new WeakMap;self.S_=class{constructor(a){e.set(this,a);Object.defineProperties(this,{name:{value:a.wa(),writable:!1},speed:{value:a.Hj(),writable:!1},dra:{value:a.og(),writable:!1}})}*frames(){for(const a of e.get(this).sd)yield a.xca}}}{"use strict";const e=new WeakMap;self.MM=class{constructor(a){e.set(this,a)}get width(){return e.get(this).$()}get height(){return e.get(this).X()}}}
{"use strict";const e=new WeakMap;self.T_=class extends self.MM{constructor(a){super(a.Ze());e.set(this,a);Object.defineProperties(this,{duration:{value:a.Wz,writable:!1}})}}}
{"use strict";const e=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.zW=class extends e.ea{constructor(d,c){super();var h=c.exportType;this.g=d;this.fB=new Map;this.Ir=new Map;this.Qca=new Map;this.BA="cordova"===h;this.cT=!!c.isiOSCordova;this.nv=!!c.isFileProtocol;this.mda=c.supportedAudioFormats||{};this.Uba=
new Map;this.JS=this.sS="";this.Tz="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.JG=[];this.UG=new Map;this.WJ=[];this.dB=[];this.ES=!1;this.WA=this.TG=this.hw=0;this.OH=!1;this.Pca=e.j(e.Z2,()=>this.SP(),50);this.fJ=new e.JN(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(d,h);(h=c.projectData)&&(d["data.json"]=h);for(const [m,g]of Object.entries(d))this.fB.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.Qca.set(m,g);new self.U_(this)}A(){this.fB.clear();for(const d of this.Ir.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.Ir.clear();for(const d of this.JG)d.A();e.D(this.JG);this.UG.clear();e.D(this.dB);this.g=null}G(){return this.g}Maa(d){this.sS=d}Raa(d){this.JS=d}RF(d){return this.fB.has(d.toLowerCase())}Zy(d){return this.fB.get(d.toLowerCase())||null}qM(d){if(!this.RF(d))return d;d=d.toLowerCase();var c=this.Ir.get(d);c||(c=this.Zy(d),c=URL.createObjectURL(c),
this.Ir.set(d,c));return c}Ik(d,c){c=c||this.Tz;const h=this.Zy(d);if(h)return Promise.resolve(h);if(e.oE(d)){const m=d.toLowerCase();return this.BA&&this.nv?this.AL(m):"local"===c?this.fJ.Ic(()=>e.Ik(m)):e.Ik(m)}return e.Ik(d)}Js(d){const c=this.Zy(d);if(c)return e.GW(c);if(e.oE(d)){const h=d.toLowerCase();return this.BA&&this.nv?this.zL(h):"local"===this.Tz?this.fJ.Ic(()=>e.Js(h)):e.Js(h)}return e.Js(d)}Ks(d){const c=this.Zy(d);if(c)return e.jL(c);if(e.oE(d)){const h=d.toLowerCase();return this.BA&&
this.nv?this.nX(h):"local"===this.Tz?this.fJ.Ic(()=>e.Ks(h)):e.Ks(h)}return e.Ks(d)}async TL(d){d=await this.Ks(d);return JSON.parse(d)}vF(d,c){return this.g.ko("runtime","cordova-fetch-local-file",{filename:d,as:c})}nX(d){return this.vF(d,"text")}async AL(d){const c=await this.vF(d,"buffer");d?(d=d.split("."),d=2>d.length?"":b.get(d.$d(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async mX(d){d=d.toLowerCase();var c=this.Ir.get(d);if(c)return c;c=await this.AL(d);c=URL.createObjectURL(c);
this.Ir.set(d,c);return c}zL(d){return this.vF(d,"buffer")}JD(d,c=""){if(e.bE(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.RF(d)?Promise.resolve(this.qM(d)):this.BA&&this.nv?this.mX(c+d):Promise.resolve(c+d.toLowerCase())}ly(d){if(d.Fw&&!a.has(d.Fw))throw Error("invalid load policy");let c=this.UG.get(d.url);if(c)return c;c=e.j(e.OM,this,{url:d.url,size:d.size||0,Fw:d.Fw||this.Tz});this.JG.push(c);this.UG.set(c.vk,c);this.ES||(this.hw+=c.km(),
this.dB.push(c.iN().then(()=>this.kP(c.km()))));return c}async cP(){try{await Promise.all(this.dB),this.WA=1}catch(d){console.error("Error loading: ",d),this.OH=!0,this.SP()}}g4(){this.ES=!0}kP(d){this.TG+=d;this.Pca.PW()}SP(){const d=e.j(e.Event,"loadingprogress");this.WA=e.da(this.TG/this.hw,0,1);d.progress=this.WA;this.g.Sb().dispatchEvent(d)}dba(d){e.Hc(this.WJ,d);this.WJ.length&&this.dB.push(this.q9())}q9(){if("undefined"===typeof FontFace)return Promise.resolve();const d=[];for(const [c,h,m]of this.WJ)this.hw+=
m,d.push(this.p9(c,h).then(()=>this.kP(m)));return Promise.all(d)}async p9(d,c){try{const h=await this.JD(c,this.sS),m=new FontFace(d,`url('${h}')`);this.g.le?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${d}': `,h)}}P0(){return!!this.mda["audio/webm; codecs=opus"]}xaa(d){for(const [c,h,m]of d)this.Uba.set(c,{fileName:c,opa:h.map(g=>({type:g[0],kpa:g[1],Bpa:c+g[1],fileSize:g[2]})),Wpa:m})}async mN(d){d=await this.JD(d);return await this.g.ko("runtime",
"add-stylesheet",{url:d})}}}
{"use strict";const e=self.B;e.yW=class extends e.ea{constructor(a,b){super();this.dd=a;this.g=a.G();this.vk=b.url;this.Tr=b.size;this.EI=b.Fw;this.Fu=null;this.lI=!1;this.Sm=null}A(){this.Fu=this.g=this.dd=this.Sm=null}km(){return this.Tr}iN(){return"local"===this.EI||this.Fu?(this.lI=!0,Promise.resolve()):this.Sm?this.Sm:this.Sm=this.dd.Ik(this.vk,this.EI).then(a=>{this.lI=!0;this.Sm=null;return this.Fu=a}).catch(a=>console.error("Error loading resource: ",a))}lE(){return this.lI}mZ(){return this.Fu?Promise.resolve(this.Fu):
this.Sm?this.Sm:this.dd.Ik(this.vk,this.EI)}}}
{"use strict";const e=self.B,a=new e.JN,b=new Set;e.OM=class extends e.yW{constructor(d,c){super(d,c);this.xk=this.Fp=null;this.Ec=0;this.LS=this.NS=-1;b.add(this)}A(){this.oi();if(0!==this.Ec)throw Error("released image asset which still has texture references");this.Fp=null;b.delete(this);super.A()}static pq(){for(const d of b)d.Fp=null,d.xk=null,d.Ec=0}qt(d,c){c=c||{};this.Ec++;if(this.xk)return Promise.resolve(this.xk);if(this.Fp)return this.Fp;c.HU=this.g.M.lU;return this.Fp=this.mZ().then(h=>
a.Ic(()=>d.iD(h,c).then(m=>{this.Fp=null;if(0===this.Ec)return d.qj(m),null;this.xk=m;this.NS=m.$();this.LS=m.X();return this.xk}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}oi(){if(0>=this.Ec)throw Error("texture released too many times");this.Ec--;0===this.Ec&&this.xk&&(this.xk.eb().qj(this.xk),this.xk=null)}Ld(){return this.xk}$(){return this.NS}X(){return this.LS}}}
{"use strict";const e=self.B;function a(b,d){return b.m().Ck-d.m().Ck}e.m3=class extends e.ea{constructor(b,d,c){super();this.P=d;this.N=c;this.F=[];this.qv=!0;this.bj=new Set;this.jv=!1}A(){e.D(this.F);this.bj.clear()}bd(){e.D(this.F);this.qv=!0;this.bj.clear();this.jv=!1}Q3(){this.qv=!1}eo(){if(!this.F.length)return!0;if(this.F.length>this.bj.size)return!1;this.NF();return!0}$D(b){this.bj.has(b)?(this.bj.delete(b),0===this.bj.size&&(this.jv=!1)):(this.F.push(b),this.qv=1===this.F.length)}jh(b){this.bj.add(b);
this.jv=!0;50<=this.bj.size&&this.NF()}NF(){this.jv&&(this.F.length===this.bj.size?this.bd():(e.gg(this.F,this.bj),this.bj.clear(),this.jv=!1))}B7(){this.qv||(this.F.sort(a),this.qv=!0)}lD(b){this.NF();this.B7();this.F.length&&b.push(this.F)}}}
{"use strict";const e=self.B;e.n3=class extends e.ea{constructor(a,b){super();this.gH=a;this.fH=b;this.Ni=e.j(e.xt)}A(){this.Ni.A();this.Ni=null}gm(a,b,d){let c=this.Ni.Y(a,b);return c?c:d?(c=e.j(e.m3,this,a,b),this.Ni.Set(a,b,c),c):null}Di(a){return Math.floor(a/this.gH)}Ei(a){return Math.floor(a/this.fH)}$k(a,b,d){if(b)for(let c=b.V,h=b.ca;c<=h;++c)for(let m=b.O,g=b.Z;m<=g;++m){if(d&&d.Af(c,m))continue;const l=this.gm(c,m,!1);l&&(l.jh(a),l.eo()&&this.Ni.Mn(c,m))}if(d)for(let c=d.V,h=d.ca;c<=h;++c)for(let m=
d.O,g=d.Z;m<=g;++m)b&&b.Af(c,m)||this.gm(c,m,!0).$D(a)}ry(a,b){let d=this.Di(a.V);const c=this.Ei(a.O),h=this.Di(a.ca);for(a=this.Ei(a.Z);d<=h;++d)for(let m=c;m<=a;++m){const g=this.gm(d,m,!1);g&&g.lD(b)}}C1(a){let b=a.V;const d=a.O,c=a.ca;for(a=a.Z;b<=c;++b)for(let h=d;h<=a;++h){const m=this.gm(b,h,!1);m&&m.Q3()}}}}
{"use strict";const e=self.B,a=new e.Rect,b=new e.rd,d=[];new e.Rect;new e.Rect;const c=self.mj,h=c.JC,m=c.Ow,g=c.Xl;g.create();const l=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=e.j(e.Ut);e.j(e.Rect);function r(z,F){return z.m().Ck-F.m().Ck}function v(z,F){return z.m().ab()-F.m().ab()}const y=[],A=[],G=[];e.gN=class extends e.ea{constructor(z,F,H){super();this.Lg=z;this.g=z.G();this.GT=F;this.Da=H[0];this.Ka=-1;this.fb=H[2];this.Cr=!!H[3];this.IA=!!H[13];this.kl=e.j(e.$a);this.kl.Zl(H[4].map(M=>
M/255));this.mk=!!H[5];this.Td=H[6];this.Ud=H[7];this.bb=e.j(e.$a,1,1,1,H[8]);this.wB=e.j(e.$a);this.gI=H[9];this.fda=H[17];this.rU=H[18];this.sda=H[10];this.ej=H[11];this.Cg=H[12];this.Je=null;this.nd=1;this.Xc=H[16];this.Mh=this.Lh=this.he=0;this.rl=!1;this.eg=e.j(e.Rect);this.xU=e.j(e.Rect);this.tn=e.j(e.Rect);this.qk=g.create();this.pI=!0;this.Fv=g.create();this.mI=!0;this.wU=e.j(e.I.x5);this.TA=!0;this.iU=[];this.QS=H[14];this.kk=[];this.Rz=[];this.RS=new Map;this.F=[];this.Ko=this.ZJ=!1;const J=
this.g.M;this.Ja=e.j(e.Gk,this,H[15]);this.uh=e.j(e.I.we,J.tH,{nC:(M,Q)=>{Q=Q.Hm;const R=Q.Ej();M.um(Q.ID());M.mx(R);M.hq(R);J.no(R)},sC:M=>this.Ja.Kk(M)});this.pw=this.El=!0;this.Rr=null;this.tI=[];this.MA=!1;this.Mca=e.j(e.Rect,0,0,-1,-1);this.mca=e.j(e.Rect,0,0,-1,-1);this.rA=null;this.MR();this.Ao()&&(this.Rr=e.j(e.n3,this.g.Og,this.g.Ng));this.cn=H[19].map(M=>e.j(e.gN,this.Lg,this,M))}zg(){for(const z of this.QS){const F=this.g.$e(z[1]);this.Lg.iP(F);F.ir||F.mO(z);this.kk.push(z);this.RS.set(z[2],
z)}e.Hc(this.iU,this.kk);this.QS=null;this.rA=new self.X_(this)}A(){this.g=this.Lg=null}PZ(z){return this.RS.get(z)}rX(z){const F=this.Lg.ip;let H=0;const J=this.kk;for(let Q=0,R=J.length;Q<R;++Q){var M=J[Q];const T=this.g.$e(M[1]);let Z=!0;if(!T.UD()||F)M=this.g.$h(M,this,!0),z.push(M),T.Nf()&&(Z=!1,this.Rz.push(M.Vc));Z&&(J[H]=J[Q],++H)}e.Ve(J,H);this.g.wd();this.wg()}yg(z,F){const H=z.m();if(H.ba()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==H.ab()&&(this.Ko=!0);F&&this.Ao()&&
z.m().Ya();this.wg()}s9(z){this.F.includes(z)||(this.F.push(z),0!==z.m().ab()&&(this.Ko=!0),this.wg())}n$(z){const F=z.m();if(F.ba()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==F.ab()&&(this.Ko=!0);this.wg()}Fo(z,F){const H=this.F.indexOf(z);0>H||(F&&this.Ao()&&z.m().$Q(),this.F.splice(H,1),this.wg(),this.HQ())}oR(){this.Ko=!0}HQ(){0===this.F.length&&(this.Ko=!1)}uG(z){if(z){z=new Set;for(var F of this.F){var H=F.m().Ck;0<=H&&z.add(H)}F=-1;for(const J of this.F)if(H=
J.m(),!(0<=H.Ck)){for(++F;z.has(F);)++F;H.oz(F)}}this.F.sort(r)}A7(){for(const z of this.F)z.H().Nf()||this.g.Nn(z);this.g.wd();e.D(this.F);this.Ko=!1;this.wg()}At(z,F,H,J,M){const Q=this.g.ga(),R=this.g.Mc,T=z.Wa,Z=[];for(const Y of this.kk){var X=Y[0];if(F.Af(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.SL(X))continue}else continue;X=this;var ba=this.g.Ha();this.cc()!==ba&&((X=ba.oM(this.wa()))||(X=ba.Fx(this.Ea())));ba=this.g.$h(Y,X,!1,void 0,void 0,!1,M);X.eF(ba);X=ba.m();X.my(H,J);X.Ya();Q.te(!0);
ba.qz();Q.te(!1);Z.push(ba)}}return Z}cc(){return this.Lg}wa(){return this.Da}pG(z){this.Ka=z}Ea(){return this.Ka}G(){return this.g}Jk(){return this.g.Jk()}bi(){this.ju();return this.uh}ju(){const z=this.gq();if(this.El||z!==this.pw){var F=this.Ja.Sf;this.uh.XC(F.map(H=>H.Kf()),{qs:F.map(H=>H.Ea()),qC:!z,IC:!0});this.El=!1;this.pw=z}}nh(){this.Ja.nh();this.El=!0}Ao(){return this.sda&&!this.rU}v4(){this.MA=!1}ad(){for(const z of this.zV())if(!z.Cr)return!1;return!0}Ai(z){z=!!z;this.Cr!==z&&(this.Cr=
z,this.g.aa())}k4(z){this.IA=!!z}fy(){for(const z of this.zV())if(!z.IA)return!1;return!0}Lt(z){z=!!z;if(this.rl!==z){if(this.rl=z)z=this.cc(),this.Lh=z.If(),this.Mh=z.Jf();this.$j();this.g.aa()}}wi(z){var F=this.cc();const H=F.xM();F=F.yM();z>F&&(z=F);z<H&&(z=H);this.Lh!==z&&(this.Lh=z,this.rl&&(this.$j(),this.g.aa()))}xi(z){var F=this.cc();const H=F.zM();F=F.wM();z>F&&(z=F);z<H&&(z=H);this.Mh!==z&&(this.Mh=z,this.rl&&(this.$j(),this.g.aa()))}If(){return this.rl?this.Lh:this.cc().If()}Jf(){return this.rl?
this.Mh:this.cc().Jf()}QF(){const z=this.cc();return[z.ND(),z.OD()]}Gf(){return this.g.Gf()}HM(z,F){var H=this.xU;if(0===z)F.na(H);else{let R=H.ws(),T=H.xs();var J=this.XL(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.QF();if(.5!==X||.5!==ba){const Y=this.Qs();var M=this.g,Q=this.Gf()/Y;J=(X-.5)*M.fg/Q;M=(ba-.5)*M.Ue/Q;Q=this.Ma();0!==Q&&(w.set(J,M),w.rotate(Q),J=w.P,M=w.N);z=e.HC(Y,0,z);R+=e.ae(J,0,z);T+=e.ae(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Id(){return this.bb.Ta}si(z){z=e.da(z,
0,1);this.bb.Ta!==z&&(this.bb.ys(z),this.MR(),this.g.aa())}MR(){this.wB.na(this.bb);this.wB.OK()}ID(){return this.wB}gq(){return this.bb.oC(1,1,1,1)}w4(z){this.ej!==z&&(this.ej=z,this.$j(),this.g.aa())}r4(z,F){if(this.Td!==z||this.Ud!==F)if(this.Td=z,this.Ud=F,this.$j(),this.g.aa(),1!==this.Td||1!==this.Ud)for(const H of this.F)H.H().mG(!0)}gf(z){this.Xc!==z&&(this.Xc=z,this.g.aa())}ab(){return this.Xc}zd(z){z=e.se(z);this.he!==z&&(this.he=z,this.$j(),this.g.aa())}Ma(){return e.se(this.Lg.Ma()+this.he)}K_(){return 0<
this.F.length}OF(){return this.DE()&&this.rU?(e.Hc(G,this.F),G.sort((z,F)=>this.lba(z,F)),G):this.F}pP(z){e.vn(z,this.OF());for(const F of this.cn)F.ad()&&0<F.Id()&&F.pP(z)}lba(z,F){var H=this.cc().VR,J=H[0],M=H[1];H=H[2];var Q=z.m();const R=F.m();F=Q.oa()-J;z=Q.pa()-M;Q=Q.ab()-H;J=R.oa()-J;M=R.pa()-M;H=R.ab()-H;return J*J+M*M+H*H-(F*F+z*z+Q*Q)}I4(z){z=!!z;this.mk!==z&&(this.mk=z,this.g.aa())}d4(z){z=!!z;this.gI!==z&&(this.gI=z,this.g.aa())}RN(){return!this.G().Sl||!this.fda}DE(){return!this.RN()}fq(){return this.DE()&&
this.cc().Dca}ME(){if(!this.fq())return!1;for(const z of this.cn)if(!z.ME())return!1;return!0}Pf(z){this.Cg!==z&&(this.Cg=z,this.g.aa())}sj(){return this.Cg}F_(){for(const z of this.cn)if(z.Hy())return!0;return!1}*yV(){for(const z of this.cn)yield*z.yV();yield this}*KK(){let z=this.GT;for(;z;)yield z,z=z.GT}*zV(){yield this;yield*this.KK()}i1(z){return this===z||this.Td===z.Td&&this.Ud===z.Ud&&this.nd===z.nd&&this.ej===z.ej&&this.he===z.he&&this.If()===z.If()&&this.Jf()===z.Jf()}B$(z){0!==z.size&&
0<e.gg(this.F,z)&&(this.HQ(),this.wg())}wg(){this.MA=this.ZJ=!1}uu(){if(!this.ZJ){this.F.sort(v);if(this.Ao())for(let z=0,F=this.F.length;z<F;++z){const H=this.F[z].m();H.oz(z);this.Rr.C1(H.Nv)}else for(let z=0,F=this.F.length;z<F;++z)this.F[z].m().oz(z);this.ZJ=!0}}I1(z,F,H){var J=z.m();F=F.m();if(J.ba()!==this||F.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Jj();F=F.Jj();if(J===F+(H?1:-1))return!1;e.Dda(this.F,J);J<F&&F--;H&&F++;F===this.F.length?this.F.push(z):
this.F.splice(F,0,z);this.wg();return!0}A9(z,F){const H=[];let J=0,M=0,Q=z.length,R=F.length;for(;J<Q&&M<R;){const T=z[J],Z=F[M];T.m().Ck<Z.m().Ck?(H.push(T),++J):(H.push(Z),++M)}for(;J<Q;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}z9(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.A9(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}y9(z){for(;1<z.length;)z=this.z9(z);return z[0]}l8(){this.uu();e.D(d);this.Rr.ry(this.eg,d);return d.length?1===d.length?d[0]:this.y9(d):[]}Hy(){return this.ad()&&
0<this.Id()&&this.MP()}MP(){if(this.K_()||!this.mk)return!0;for(const z of this.cn)if(z.MP())return!0;return!1}Tt(){return this.gI||!this.gq()||0!==this.sj()||this.Ja.jt()}NE(){if(this.Tt())return!0;for(const z of this.cn)if(z.NE())return!0;return!1}Ej(){return this.Je}XL(z){if(this.Lg.rf)return 1;{const F=this.Qs();return F/(F-z)}}Qs(){return this.Gf()/this.fi()}$j(){this.TA=this.mI=!0}$y(z){this.mI&&(this.g6(z,this.Fv),this.mI=!1);return this.Fv}T7(){var z=this.g,F=this.cc(),H=z.oB,J=z.pB;H=(this.If()-
H)*this.Td+H;var M=(this.Jf()-J)*this.Ud+J;z.xl&&(H=Math.round(H),M=Math.round(M));J=H+0;H=M+0;F=F.rf?this.Gf():this.Qs();const [Q,R]=this.QF();if(.5!==Q||.5!==R){var T=this.Gf()/F;M=(Q-.5)*z.fg/T;z=(R-.5)*z.Ue/T;T=this.Ma();0!==T&&(w.set(M,z),w.rotate(T),M=w.P,z=w.N);J+=M;H+=z}return[J,H,F]}g6(z,F){const H=this.g;var J=this.cc();if(this.fq()){h.na(p,J.VR);h.na(q,J.eca);h.na(u,J.fca);J=H.oB;const M=H.pB,Q=q[0]-p[0],R=q[1]-p[1],T=q[2]-p[2];p[0]=(p[0]-J)*this.Td+J;p[1]=(p[1]-M)*this.Ud+M;p[2]*=Math.max(this.Td,
this.Ud);q[0]=p[0]+Q;q[1]=p[1]+R;q[2]=p[2]+T}else{const [M,Q,R]=this.T7();h.set(p,M,Q,R);h.set(q,M,Q,R-100);J=this.Ma();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.mL(F,p,q,u,H.Ue)}Yaa(){this.TA=this.pI=!0}az(z){this.pI&&(this.h6(z),this.pI=!1);return this.qk}h6(z){const F=this.g.M,[H,J]=this.QF();this.Lg.rf?z.MW(this.qk,F.wj(),F.vj()):.5===H&&.5===J?g.na(this.qk,F.Uz):z.In(this.qk,F.wj()/F.vj(),H,J)}mz(z){z.uo(this.az(z));let F;F=this.$y(z);z.Bq(F)}O2(z){this.mz(z);z.xq(this.ab())}eh(z,
F,H){var J=this.g.M;const M=this.Tt();var Q=null;let R=null;if(this.g.gE()&&z.mi()){const T=J.pM(this);T&&(R=T.SC(),z.iF(R))}M?(Q={nj:this.g.md},"low"===J.zh&&(Q.width=J.wj(),Q.height=J.vj()),this.Je=Q=this.g.Ns(Q),z.vg(Q),this.mk&&z.Kn()):(this.Je=F,z.vg(F));this.mk||z.od(this.kl);this.Lg.KP(z,this.Je,this.cn,M&&this.mk);this.mz(z);z.xq(this.ab());z.ug(this.DE());this.fi()>Number.EPSILON&&(this.uu(),J=this.Ao()&&0===this.ab()&&!this.Ko,this.fq()?this.q7(z):J?this.r7(z):this.JP(z,this.OF()));z.xq(0);
z.Gt(0);M&&(z.ug(!1),this.s7(z,Q,F,H));R&&z.nD(R);this.Je=null}JP(z,F){const H=this.eg,J=this.Je,M=this.cc().rf,Q=this.cc().LM();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.ad()&&ba.$M(H,Q,M)&&this.cl(X,ba,z,J)}}q7(z){const F=this.Je,H=this.Nq(),J=this.OF();for(let T=0,Z=J.length;T<Z;){var M=J[T],Q=M.m();if(!Q.ad()||!Q.iq(H)){++T;continue}(!M.tq()||0<Q.Pc)&&A.push(M);var R=M.m().cf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.ad()&&
Y.iq(H)){if(Y.cf()!==R)break;ba.tq()?(0<Y.Pc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].qN()){this.n7(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],Q=M.m(),Q.kz(!0),this.cl(M,Q,z,F),Q.kz(!1)}else{this.cl(M,Q,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)Q=A[ba],Q!==M&&(R=Q.m(),R.ba().cl(Q,R,z,F))}T=X;e.D(y);e.D(A)}}n7(z,F){const H=this.Je;z.xL();for(let Q=0,R=F.length;Q<R;++Q){var J=F[Q],M=J.m();M.iz(!0);this.IF(J,M,z)}z.wL();for(let Q=0,R=F.length;Q<R;++Q)J=F[Q],M=J.m(),this.cl(J,M,z,H),
M.iz(!1);z.vL()}r7(z){var F=this.Rr;const H=this.mca,J=this.Mca,M=this.eg;H.set(F.Di(M.V),F.Ei(M.O),F.Di(M.ca),F.Ei(M.Z));this.MA&&H.hd(J)?F=this.tI:(F=this.l8(),this.MA=!0,J.na(H));this.JP(z,F);F!==this.tI&&e.Hc(this.tI,F)}cl(z,F,H,J){F.jt()?this.p7(z,F,H,J):this.IF(z,F,H)}IF(z,F,H){F=F.Bp;H.Qi!==F&&F.tW();z.eh(H)}p7(z,F,H,J){this.o7(z,F,H,J)&&this.mz(H)}o7(z,F,H,J){const M=F.Wf.bi();M.qo(H,J,{jC:z,wn:F.sj(),devicePixelRatio:this.g.Ws(),Cw:this.g.Xs()*this.fi(),wC:this.Ma(),vs:F.Zc(),xw:M.Iu?null:
this.I8(F),TU:null,MU:null,NU:null,PV:null});H.xq(this.ab());return M.Jm}s7(z,F,H,J){const M=this.g;0===this.Ja.Sf.length?(z.vg(H),z.Vj(),J&&0===this.Cg&&this.gq()?z.yL(F):(z.Pf(this.Cg),z.um(this.wB),z.mx(F)),z.hq(F),M.no(F)):this.bi().qo(z,H,{jC:this,wn:this.sj(),devicePixelRatio:M.Ws(),Cw:M.Xs()*this.fi(),wC:this.Ma(),vs:this.eg,xw:null,wK:!0})}EO(z){this.nd!==z&&(this.nd=z,this.Lg.Vw(),this.$j(),this.g.aa())}aq(){return this.fi()*this.g.aq()}uj(){return this.fi()*this.g.uj()}fi(){return(this.nd*
this.Lg.nd-1)*this.ej+1}oF(){var z=this.g.oB,F=this.g.pB,H=(this.If()-z)*this.Td+z,J=(this.Jf()-F)*this.Ud+F;z=this.fi();F=this.g.fg/z;z=this.g.Ue/z;H-=F/2;let M=J-z/2;this.g.xl&&(H=Math.round(H),M=Math.round(M));J=this.xU;J.set(H,M,H+F,M+z);F=this.Ma();0!==F&&(a.na(J),a.offset(-J.ws(),-J.xs()),b.Xea(a,F),b.sK(a),a.offset(J.ws(),J.xs()),J.na(a));F=this.Xc;this.HM(F,this.eg);this.fq()?this.OW(F,this.tn):this.tn.na(this.eg)}OW(z,F){var H=this.g.M,J=H.Oc;H=H.Bc;const [M,Q]=this.ah(0,0,z),[R,T]=this.ah(J,
0,z),[Z,X]=this.ah(J,H,z),[ba,Y]=this.ah(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(Q,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(Q,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}ah(z,F,H=0){return this.k6(z,F,H,this.uj())}k6(z,F,H,J){const M=this.g;var Q=M.eb();const R=this.fi();m.set(n,0,0,M.fg/R,M.Ue/R);z/=J;F=n[3]-F/J;J=this.az(Q);Q=this.$y(Q);return e.I.p5(z,F,H,Q,J,n,l)?[l[0],l[1]]:[NaN,NaN]}SW(z,F){const H=this.nd,
J=this.ej,M=this.Td,Q=this.Ud,R=this.he;this.Ud=this.Td=this.ej=this.nd=1;this.he=0;this.$j();z=this.ah(z,F);this.nd=H;this.ej=J;this.Td=M;this.Ud=Q;this.he=R;this.$j();return z}jo(z,F){return this.AQ(z,F,0,this.uj())}Mj(z,F,H=0){return this.AQ(z,F,H,this.aq()*this.Jk())}AQ(z,F,H,J){var M=this.g,Q=M.eb();const R=this.fi();m.set(n,0,0,M.fg/R,M.Ue/R);M=this.az(Q);Q=this.$y(Q);return e.I.Q2(z,F,H,Q,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}I8(z){var F=z.Zc(),H=z.cf();z=z.Pc;const J=H+z,M=F.V,Q=F.O,R=F.ca;
F=F.Z;if(this.fq()){if(this.Am(M,Q,H)||this.Am(R,Q,H)||this.Am(R,F,H)||this.Am(M,F,H)||0<z&&(this.Am(M,Q,J)||this.Am(R,Q,J)||this.Am(R,F,J)||this.Am(M,F,J)))return null}else if(J>=this.Qs())return null;let [T,Z]=this.Mj(M,Q,H),[X,ba]=this.Mj(R,F,H);if(0!==this.Ma()||0<z){const [Y,va]=this.Mj(R,Q,H),[ta,ya]=this.Mj(M,F,H);if(0<z){const [Na,Sa]=this.Mj(M,Q,J),[Ta,Ua]=this.Mj(R,Q,J),[Wa,eb]=this.Mj(R,F,J),[fb,Pa]=this.Mj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=
Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}Nq(){this.TA&&(this.Iba(),this.TA=!1);return this.wU}Iba(){var z=this.g.eb();const F=this.az(z);z=this.$y(z);this.wU.NW(z,F)}Am(z,F,H){return this.Nq().Q0(z,F,H)}fa(){return{s:this.nd,a:this.he,vl:this.eg.V,vt:this.eg.O,vr:this.eg.ca,vb:this.eg.Z,v:this.Cr,i:this.IA,bc:this.kl.toJSON(),t:this.mk,sx:this.Lh,
sy:this.Mh,hosp:this.rl,px:this.Td,py:this.Ud,c:this.bb.toJSON(),sr:this.ej,fx:this.Ja.Nd(),cg:this.Rz}}ka(z){this.nd=z.s;this.he=z.a;this.eg.set(z.vl,z.vt,z.vr,z.vb);this.Cr=!!z.v;this.IA=z.hasOwnProperty("i")?z.i:!0;this.kl.Zl(z.bc);this.mk=!!z.t;z.hasOwnProperty("sx")&&(this.Lh=z.sx);z.hasOwnProperty("sy")&&(this.Mh=z.sy);z.hasOwnProperty("hosp")&&(this.rl=!!z.hosp);this.Td=z.px;this.Ud=z.py;this.bb.Zl(z.c);this.ej=z.sr;e.Hc(this.Rz,z.cg);e.Hc(this.kk,this.iU);const F=new Set(this.Rz);let H=0;
for(let J=0,M=this.kk.length;J<M;++J)F.has(this.kk[J][2])||(this.kk[H]=this.kk[J],++H);e.Ve(this.kk,H);this.Ja.xd(z.fx);this.El=!0;this.uG(!1);this.wg()}eF(z){if(!this.F.includes(z))if(z.df()){var F=[...z.Dk()];F.push(z);F.sort((J,M)=>{J=J.m().bq();M=M.m().bq();return J-M});for(var H of F)if(H.Tb())for(const J of H.td)F.includes(J)||(z=[...J.Dk()],z.push(J),z.sort((M,Q)=>{M=M.m().bq();Q=Q.m().bq();return M-Q}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.yg(J,!0)}else if(this.yg(z,
!0),z.Tb())for(F of z.td)if(H=[...F.Dk()],H.push(F),H.sort((J,M)=>{J=J.m().bq();M=M.m().bq();return J-M}),H&&H.length)for(const J of H)this.yg(J,!0)}}}
{"use strict";const e=self.B,a=self.ig;e.j(e.Rect);e.j(e.Rect);const b=e.j(e.Rect),d=e.j(e.$a),c=self.mj.JC,h=[],m=[],g=[],l=[];let n=null;function p(q,u){n!==q&&(q.O2(u),n=q)}e.o1=class extends e.ea{constructor(q,u,w){super();this.Za=q;this.g=q.G();this.Da=w[0];this.bda=w[1];this.ada=w[2];this.U=w[1];this.R=w[2];this.SA=!!w[3];this.rf=!!w[4];this.dC=w[5];this.eC=w[6];this.lS=w[7];this.Rc=null;this.fb=w[8];this.Ka=u;this.Mh=this.Lh=0;this.nd=1;this.he=0;this.zr=new Set;this.Tg=new Set;this.cw=new Set;
this.er=[];this.VH=[];this.Dca=!1;this.VR=c.create();this.eca=c.create();this.fca=c.create();this.DB=[];this.Vb=[];this.oT=new Map;this.pT=new Map;const r=this.g.M;this.Ja=e.j(e.Gk,this,w[11]);this.uh=e.j(e.I.we,r.tH,{nC:(v,y)=>{y=y.Hm.Ej();v.Ct();v.mx(y);v.hq(y);r.no(y)},sC:v=>this.Ja.Kk(v)});this.El=!0;this.zU=!1;this.Je=null;this.sp={};this.ip=!0;this.bv=new self.Y_(this);this.Zd=e.j(e.Event.Sb);for(const v of w[9])this.DB.push(e.j(e.gN,this,null,v));this.Vb=[...this.$J()];for(let v=0,y=this.Vb.length;v<
y;++v)q=this.Vb[v],q.pG(v),q.zg(),this.oT.set(q.wa().toLowerCase(),q),this.pT.set(q.fb,q);for(const v of w[10]){w=this.g.$e(v[1]);if(!w)throw Error("missing nonworld object class");w.ir||w.mO(v);this.VH.push(v);this.iP(w)}}A(){for(const q of this.Vb)q.A();e.D(this.Vb);this.cw.clear();this.g=this.Za=this.Rc=null}G(){return this.g}wa(){return this.Da}Ea(){return this.Ka}bi(){this.ju();return this.uh}ju(){const q="low"===this.g.M.zh;if(this.El||this.zU!==q){var u=this.Ja.Sf;this.uh.XC(u.map(w=>w.Kf()),
{qs:u.map(w=>w.Ea()),oK:q,IC:!0});this.El=!1;this.zU=q}}nh(){this.Ja.nh();this.El=!0}rM(){let q=this.Vb[0].fi();for(let u=1,w=this.Vb.length;u<w;++u){const r=this.Vb[u];if(0!==r.Td||0!==r.Ud)q=Math.min(q,r.fi())}return q}jQ(){return.5*this.g.fg/this.rM()}kQ(){return.5*this.g.Ue/this.rM()}xM(){return this.SA?-Infinity:this.jQ()}yM(){return this.SA?Infinity:this.$()-this.jQ()}zM(){return this.SA?-Infinity:this.kQ()}wM(){return this.SA?Infinity:this.X()-this.kQ()}wi(q){const u=this.xM(),w=this.yM();
q>w&&(q=w);q<u&&(q=u);this.Lh!==q&&(this.Lh=q,this.Zj(),this.g.aa())}If(){return this.Lh}xi(q){const u=this.zM(),w=this.wM();q>w&&(q=w);q<u&&(q=u);this.Mh!==q&&(this.Mh=q,this.Zj(),this.g.aa())}Jf(){return this.Mh}Vw(){this.wi(this.If());this.xi(this.Jf());for(const q of this.Vb)q.rl&&(q.wi(q.If()),q.xi(q.Jf()))}L4(q,u){if(this.dC!==q||this.eC!==u)this.dC=q,this.eC=u,this.$0()&&(this.Sq(),this.Zj(),this.g.aa())}ND(){return this.rf?.5:this.dC}OD(){return this.rf?.5:this.eC}LM(){const q=this.ND(),u=
this.OD();return 0>q||1<q||0>u||1<u}GO(){this.rf&&(this.rf=!1,this.Sq(),this.Zj(),this.g.aa())}DO(){this.rf||(this.rf=!0,this.Sq(),this.Zj(),this.g.aa())}$0(){return!this.rf}VE(q){this.nd!==q&&(this.nd=q,this.Zj(),this.Vw(),this.g.aa())}zd(q){q=e.se(q);this.he!==q&&(this.he=q,this.Zj(),this.g.aa())}Ma(){return this.he}$(){return this.U}Bi(q){!isFinite(q)||1>q||(this.U=q)}X(){return this.R}ri(q){!isFinite(q)||1>q||(this.R=q)}*$J(){for(const q of this.DB)yield*q.yV()}ba(q){return"number"===typeof q?
this.Fx(q):this.oM(q.toString())}Fx(q){q=e.da(Math.floor(q),0,this.Vb.length-1);return this.Vb[q]}oM(q){return this.oT.get(q.toLowerCase())||null}Gx(q){return this.pT.get(q)||null}Sq(){for(const q of this.Vb)q.Yaa()}Zj(){for(const q of this.Vb)q.$j()}ZZ(){let q=this.DB.filter(u=>u.Hy())[0];for(;q;){if(!q.mk)return d.jj(q.kl),d.ys(1),d;if(q.Tt())return d.Dn(0,0,0,0),d;q=q.cn.filter(u=>u.Hy())[0]}d.Dn(0,0,0,0);return d}bQ(){return[...this.zr]}iP(q){if(q.Tb())for(const u of q.Fg.Hl)this.zr.add(u);else this.zr.add(q)}r8(){return[...this.Tg]}UF(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.lX(this.Tg,q.Tg),q.Tg.clear());q=[];for(const w of this.zr)this.Tg.has(w)||(q.push(w.mq(u)),this.Tg.add(w));return Promise.all(q)}async oN(q){if(q.Wa)throw Error("cannot load textures for family");var u=this.g.eb();!u||u.bo()||this.Tg.has(q)||(this.Tg.add(q),u=q.mq(u),this.T5(u),await u,q.ny(),this.g.aa())}T5(q){this.cw.add(q);q.then(()=>this.cw.delete(q)).catch(()=>this.cw.delete(q))}z5(){return Promise.all([...this.cw])}G1(q){if(q.Wa||0<q.F.length)throw Error("cannot unload textures");
this.g.eb()&&this.Tg.has(q)&&(this.Tg.delete(q),q.oo())}xba(q,u){if(q!==this&&u)for(const w of this.Tg)w.Nf()||q.zr.has(w)||(w.oo(),this.Tg.delete(w))}mu(){this.Tg.clear()}async CR(q){const u=this.g,w=this.Za,r=u.ga();this.lS&&(this.Rc=r.gM(this.lS),this.Rc.yG());w.tR(this);this.U=this.bda;this.R=this.ada;this.Lh=u.Og/2;this.Mh=u.Ng/2;this.Vw();this.B9(q);this.x6();this.ip||this.z6();this.xP(this.er);this.y6();w.ZW();u.wd();const v=this.g.Oba;await Promise.all(v);e.D(v);if(!u.Bh){for(const y of this.er)y.R4();
for(const y of this.er)y.ER()}e.D(this.er);await Promise.all([...this.zr].map(y=>y.yE(this.g.eb())));q&&(u.Sb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.On(new e.Event("beforeprojectstart")));await this.On(new e.Event("beforelayoutstart"));u.Bh||await u.Od(e.C.Qa.L.vN,null,null);await this.On(new e.Event("afterlayoutstart"));q&&(u.Sb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.On(new e.Event("afterprojectstart")));r.Z$(w);await this.z5();this.Sq();this.Zj();this.ip=
!1}B9(q){for(const w of this.g.Mc)if(!w.Wa&&w.sf)for(const r of w.ja()){const v=r.m();var u=v.ba();u=e.da(u.Ea(),0,this.Vb.length-1);u=this.Vb[u];v.pu(u);u.s9(r)}if(!q)for(const w of this.Vb)w.uG(!1)}x6(){for(const q of this.Vb)q.rX(this.er),q.oF()}z6(){let q=!1;for(const [w,r]of Object.entries(this.sp)){const v=this.g.Jx(parseInt(w,10));if(v&&!v.Wa&&v.UD()){for(const y of r){var u=null;if(v.sf&&(u=this.Gx(y.w.l),!u))continue;u=this.g.$h(v,u,!1,0,0,!0);u.xd(y);q=!0;this.er.push(u)}e.D(r)}}for(const w of this.Vb)w.uG(!0),
w.wg();q&&(this.g.wd(),this.g.VQ())}xP(q){for(const w of q){if(!w.Tb())continue;const r=w.m(),v=w.Rn();for(const y of w.H().Fg.Hl)if(y!==w.H()){var u=y.ja();u.length>v?w.Kq(u[v]):(u=r?this.g.$h(y,r.ba(),!0,r.oa(),r.pa(),!0):this.g.$h(y,null,!0,0,0,!0),this.g.wd(),y.rz(),w.Kq(u),q.push(u))}}}y6(){for(const q of this.VH)this.g.$e(q[1]).Tb()||this.g.$h(q,null,!0)}v6(){const q=[],u=this.VH;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.$e(y[1]);A.Nf()?A.Tb()&&A.Fg.G_()||q.push(this.g.$h(y,
null,!0)):(u[w]=y,++w)}e.Ve(u,w);this.g.wd();this.xP(q)}At(q,u,w,r,v,y){if(w)return w.At(q,u,r,v,y);w=[];for(const A of this.Vb)w.push(A.At(q,u,r,v,y));return w.flat()}async pba(){const q=this.Za;this.g.Bh||await this.g.Od(e.C.Qa.L.i2,null,null);q.xO(!0);this.g.ga().$w();this.ip||this.jaa();for(const u of this.Vb)u.A7();for(const u of this.g.Mc)if(!(u.Nf()||u.sf||u.rb().Pm||u.Wa)){for(const w of u.ja())this.g.Nn(w);this.g.wd()}q.xO(!1);q.Nb()===this&&q.tR(null)}gaa(q){const u=q.H().fb.toString();
this.sp.hasOwnProperty(u)||(this.sp[u]=[]);this.sp[u].push(q.Nd())}jaa(){for(const q of this.Vb){q.uu();for(const u of q.F){const w=u.H();!w.Nf()&&w.UD()&&this.gaa(u)}}}v3(){this.sp={};this.ip=!0}Ej(){return this.Je}Tt(){const q=this.g,u=q.eb().mi();return"low"===q.M.zh||u&&q.$B||"low-latency"===q.dr||this.Ja.jt()||u&&q.Sl}eh(q){const u=this.g.M,w=this.Tt();if(w){"low-latency"!==this.g.dr&&(q.vg(null),q.Kn());const r={nj:this.g.md,AK:this.g.$B||this.Ja.jt()};"low"===u.zh&&(r.width=u.wj(),r.height=
u.vj());this.Je=this.g.Ns(r)}else this.Je=null;q.vg(this.Je);q.od(this.ZZ());this.g.Sl&&q.WW();for(const r of this.Vb)r.oF();this.KP(q,this.Je,this.DB,!0);w&&(q.ug(!1),this.t7(q,this.Je));this.Je=null}KP(q,u,w,r){w=w.filter(v=>v.Hy());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.ME()&&!A.NE()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.ME()&&!z.NE())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].F_()){this.l7(q,u,h);v+=h.length;e.D(h);continue}e.D(h)}A.eh(q,u,r&&0===v);++v}}t7(q,
u){const w=this.g;0===this.Ja.Sf.length?(q.vg(null),q.Vj(),q.yL(u),q.hq(u),w.no(u)):(b.set(0,0,w.fg,w.Ue),this.bi().qo(q,null,{jC:this,wn:3,devicePixelRatio:this.g.Ws(),Cw:this.g.Xs()*this.nd,wC:this.Ma(),vs:b,xw:null,wK:!0}))}l7(q,u,w){w[0].mk||(d.jj(w[0].kl),d.ys(1),q.od(d));var r=this.g.M;q.ug(!0);for(var v of w)v.uu(),v.pP(m);v=w[0];w=null;this.g.gE()&&q.mi()&&(r=r.pM(v))&&(w=r.SC(),q.iF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.ba();if(y.ad()&&y.iq(A.Nq())){(!v.tq()||0<y.Pc)&&l.push(v);
var G=v.m().cf();g.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.m();if(J.ad()&&J.iq(J.ba().Nq())){if(J.cf()!==G)break;H.tq()?(0<J.Pc&&l.push(H),g.push(H)):l.push(H)}}if(1!==g.length||g[0].qN()){this.m7(q,u,g);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.ba(),y.kz(!0),p(A,q),A.cl(v,y,q,u),y.kz(!1)}else{p(A,q);A.cl(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.ba(),p(G,q),G.cl(y,A,q,u))}z=r;e.D(g);e.D(l)}else++z}w&&q.nD(w);e.D(m);n=null}m7(q,u,w){q.xL();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.m(),y=v.ba();v.iz(!0);p(y,q);y.IF(r,v,q)}q.wL();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.m(),y=v.ba(),p(y,q),y.cl(r,v,q,u),v.iz(!1);q.vL()}fa(){const q={sx:this.If(),sy:this.Jf(),s:this.nd,a:this.Ma(),w:this.$(),h:this.X(),ortho:this.rf,vpX:this.ND(),vpY:this.OD(),fv:this.ip,persist:this.sp,fx:this.Ja.Nd(),layers:{}};for(const u of this.Vb)q.layers[u.fb.toString()]=u.fa();return q}ka(q){this.Lh=q.sx;this.Mh=q.sy;this.nd=q.s;this.he=q.a;this.U=q.w;this.R=q.h;this.rf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.dC=q.vpX);q.hasOwnProperty("vpY")&&(this.eC=q.vpY);this.ip=!!q.fv;this.sp=q.persist;this.Ja.xd(q.fx);this.El=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Gx(parseInt(u,10)))&&q.ka(w);this.Sq();this.Zj()}dh(q){q.xC=this.bv;var u=this.g;(u=u.pb&&!u.ga().pt())&&a.hF();this.Zd.dispatchEvent(q);u&&a.RC()}On(q){q.xC=this.bv;return this.Zd.nK(q)}}}
{"use strict";const e=self.B;e.p1=class extends e.ea{constructor(a){super();this.g=a;this.Ji=[];this.BI=new Map;this.CI=new Map;this.Cv=null;this.lJ=[];this.eA=null;this.FA=0;this.Kv=null}A(){this.Kv=this.eA=this.Cv=this.g=null;e.D(this.Ji);this.BI.clear();this.CI.clear();e.D(this.lJ)}La(a){a=e.j(e.o1,this,this.Ji.length,a);this.Ji.push(a);this.BI.set(a.wa().toLowerCase(),a);this.CI.set(a.fb,a)}G(){return this.g}a4(a){this.eA=a}HZ(){if(this.eA)return this.eA;if(this.Ji.length)return this.Ji[0];throw Error("no first layout");
}Yp(a){return this.BI.get(a.toLowerCase())||null}GD(a){return this.CI.get(a)||null}$Z(a){a=e.da(Math.floor(a),0,this.Ji.length-1);return this.Ji[a]}cc(a){return"number"===typeof a?this.$Z(a):this.Yp(a.toString())}tR(a){this.Cv=a}Nb(){return this.Cv}*Mw(){this.Cv&&(yield this.Cv);this.lJ.length&&(yield*this.lJ)}xO(a){if(a)this.FA++;else{if(0>=this.FA)throw Error("already unset");this.FA--}}XM(){return 0<this.FA}Zw(a){this.Kv=a}ZW(){this.Kv=null}jq(){return!!this.Kv}to(){const a=this.Nb();a&&a.Sq()}so(){const a=
this.Nb();a&&a.Zj()}}}
{"use strict";const e=self.B;e.h5=class extends e.ea{constructor(a){super();this.g=a;this.fw=e.j(e.xg);this.cda=null;this.dn=[];this.gw=new Map;this.Gl=new Map;this.gn=new Map;this.Rg=[];this.Vd=[];this.Gh=[];this.sv=this.br=this.Zo=!1;this.Ol=()=>this.e$();this.Zr=()=>this.cG();this.VG=()=>this.lu();this.AI=()=>this.D9();this.ZH=b=>this.OQ(b.instance);this.IG=()=>this.bG();this.Ru=[];this.Fc=0}A(){this.j3();this.IG=this.ZH=this.AI=this.VG=this.Zr=this.Ol=null;for(const a of this.dn)a.hf(),a.A();
e.D(this.dn);this.dn=null;this.fw.A();this.fw=null;e.D(this.Rg);this.Rg=null;e.D(this.Vd);this.Vd=null;e.D(this.Gh);this.Gh=null;this.gw.clear();this.gw=null;this.Gl.clear();this.Gl=null;this.gn.clear();this.gn=null;e.D(this.Ru);this.g=this.Ru=null}mW(){const a=this.g.Sb();a.addEventListener("pretick",this.Ol);a.addEventListener("tick2",this.Zr);a.addEventListener("beforelayoutchange",this.VG);a.addEventListener("layoutchange",this.AI);a.addEventListener("instancedestroy",this.ZH);a.addEventListener("afterload",
this.IG)}j3(){const a=this.g.Sb();a.removeEventListener("pretick",this.Ol);a.removeEventListener("tick2",this.Zr);a.removeEventListener("beforelayoutchange",this.VG);a.removeEventListener("layoutchange",this.AI);a.removeEventListener("instancedestroy",this.ZH);a.removeEventListener("afterload",this.IG)}La(a){this.fw.Ic(a);a=e.yo.qX(a,this);this.Ic(a);this.A4(a);this.gn.set(a.wa(),0)}eD(a){a=a.DM();var b=this.fw.Y(a);b=e.yo.eD(`${a}:${this.gn.get(a)}`,b,this);this.rQ(a);this.Ic(b);return b}rQ(a){this.gn.set(a,
this.gn.get(a)+1)}Baa(){for(const a of this.dn)a.Br||this.rQ(a.DM())}n6(){for(const a of this.gn.keys())this.gn.set(a,0)}Ic(a){this.dn.push(a);this.gw.set(a.wa().toLowerCase(),a)}jh(a){a.vy();a.Br||(e.Ek(this.dn,a),e.Ek(this.Rg,a),e.Ek(this.Vd,a),e.Ek(this.Gh,a),this.gw.delete(a.wa().toLowerCase()),this.k3(a),a.Qg||a.A())}Ca(a){this.g.Ca(a,this.cda,null)}G(){return this.g}JO(a,b){this.Gl.has(a)||this.Gl.set(a,new Set);this.Gl.get(a).add(b)}A4(a){for(const b of a.sM())this.JO(b,a)}k3(a){for(const [b,
d]of this.Gl.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Gl.delete(b))}t_(a){if(this.Gl.has(a))return this.Gl.get(a)}Rx(a){return this.gw.get(a.toLowerCase())||null}i3(a){e.Ek(this.Vd,a);this.iu()}fO(a){this.Vd.includes(a)?(a.Eq(!0),a.Gq(!1),a.Fy(!1)):(a.Eq(!1),a.Gq(!0),a.Fy(!1),this.Rg.includes(a)||this.Rg.push(a));this.FQ()}gx(a){a.Eq(!1);a.Gq(!1);a.HE();e.Ek(this.Rg,a);this.iu()}sL(a){a.Eq(!1);a.Gq(!1);this.Vd.includes(a)&&(a.Fy(!0),this.Gh.push(a),e.Ek(this.Vd,a))}tL(a){a.Eq(!1);a.Gq(!1);
a.Fy(!1);a.Tj(1);e.Ek(this.Vd,a)}hX(a){this.sL(a);a.HE()}e$(){if(!this.G().Bh&&this.Zo&&!this.br){for(this.sv=!0;this.Rg.length;){var a=this.Rg.pop();a.Lc();0!==a.Fc&&(this.Fc=1);this.Vd.push(a)}a=this.g.Su;var b=this.g.mr,d=this.g.Yd;for(let c=this.Vd.length-1;0<=c;c--)this.Vd[c].jf(a,d,b);this.sv=!1;0!==this.Fc&&this.G().aa()}}cG(){if(!this.G().Bh&&this.Zo&&!this.br){var a;for(let b=0,d=this.Gh.length;b<d;b++){const c=this.Gh[b];a||(a=new Set);c.vy();this.GQ(c);a.add(c)}if(a){e.gg(this.Gh,a);this.Fc=
0;for(let b=0,d=this.Vd.length;b<d;b++)if(0!==this.Vd[b].Fc){this.Fc=1;break}}this.iu()}}GQ(a){a.Qg||a.KM()&&a.Tf&&a.Nm&&a.UL()}FQ(){this.Zo||(this.Zo=!0)}iu(){this.Gh.length||this.Vd.length||this.Rg.length||this.sv||(this.Zo=!1)}lu(){for(this.br=!0;this.Rg.length;)this.gx(this.Rg.pop());const a=new Set;for(const b of this.Vd)b.lu()&&(b.vy(),a.add(b));e.gg(this.Vd,a);a.clear();for(const b of this.Gh)b.lu()&&(b.vy(),a.add(b));e.gg(this.Gh,a);this.iu();for(const b of this.dn)b.pj()}D9(){this.br=!1}OQ(a){var b=
a.H();if(b=this.t_(b))if(this.g.Bh)this.Ru.push(a);else for(const d of b)d.Br||(d.Qg?this.jh(d):d.KM()||(this.GQ(d),this.jh(d)))}bG(){for(const a of this.Ru)this.OQ(a);e.D(this.Ru)}fa(){return{timelinesJson:this.oaa(),scheduledTimelinesJson:this.maa(),playingTimelinesJson:this.kaa(),markedForRemovalTimelinesJson:this.iaa(),hasRuntimeListeners:this.Zo,changingLayout:this.br,isTickingTimelines:this.sv}}ka(a){a&&(this.n6(),this.m9(a.timelinesJson),this.j9(a.scheduledTimelinesJson),this.h9(a.playingTimelinesJson),
this.g9(a.markedForRemovalTimelinesJson),this.Zo=!a.hasRuntimeListeners,this.br=!!a.changingLayout,this.sv=!!a.isTickingTimelines,this.Baa(),this.FQ(),this.iu())}oaa(){return this.dn.map(a=>a.fa())}m9(a){for(const b of a){a=this.Rx(b.name);if(!a){a=this.o8(b);if(!a)continue;a=this.Rx(a);a=this.eD(a)}a.ka(b);a.P_()||this.jh(a)}}o8(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}maa(){return this.lG(this.Rg)}j9(a){this.XF(a,this.Rg)}kaa(){return this.lG(this.Vd)}h9(a){this.XF(a,this.Vd)}iaa(){return this.lG(this.Gh)}g9(a){this.XF(a,
this.Gh)}Q8(a,b){if(!b)return!1;for(const d of b)if(d===a.wa())return!0;return!1}lG(a){return a.map(b=>b.wa())}XF(a,b){var d=new Set;for(const c of b)this.Q8(c,a)||d.add(c);e.gg(b,d);if(a){d=c=>h=>h.wa()===c;for(const c of a)(a=this.Rx(c))&&(b.find(d(c))||b.push(a))}}}}
{"use strict";const e=self.B;e.yo=class extends e.ea{constructor(a,b,d){super();this.g=d.G();this.Cb=d;this.Hd=b;this.Da=a;this.gb=[];this.pU=0;this.Vq=null;this.RR=0;this.FL();this.tB=this.Lv=null;this.Mb=0;this.Sc=1;this.Ed=0;this.Bd=1;this.Nm=this.yl=this.LA=!1;this.Tf=!0;this.iB=this.Qg=!1;this.cr=-1;this.Le=this.Wo=this.Br=this.tA=!1;this.VA=NaN;this.Sg=[""];this.jU="";this.CJ=!1;this.oA=this.Fc=0}static qX(a,b){const d=b.fw.Y(a[0]);a=e.j(e.yo,a[0],d,b);a.l4();return a}static eD(a,b,d){return e.j(e.yo,
a,b,d)}A(){if(!this.Qg){this.Cb.gx(this);this.Cb.hX(this);for(const a of this.gb)a.A();e.D(this.gb);this.Hd=this.Cb=this.g=this.gb=null;this.Qg=!0;this.tB=this.Lv=null}}FL(){for(const a of this.Hd.gt().JV())this.pU=this.gb.push(e.nF.La(this,a))}G(){return this.g}ct(a,b,d){if(this.oA){var c;for(let m=0;m<this.gb.length;m++){var h=this.gb[m];a===h.za()&&(h=h.Hf(d))&&b.constructor===h.sb().constructor&&(c||(c=[]),c.push(h))}return c}}P_(){return!!this.gb.length}Gy(a){this.Da=a}wa(){return this.Da}DM(){return this.Hd.wa()}kd(){return this.Hd.kd()}dt(){return this.Hd.dt()}di(){return this.Hd.di()}de(){return this.Hd.de()}Sj(a){for(const b of this.gb)b.Sj(a)}Hx(){return this.Hd.Hx()}Lx(){return this.Hd.Lx()}og(){return this.Hd.og()}Tj(a){this.Sc=
a}ji(){return this.IsPlaying()?0<this.Sc:!0}tM(){this.Lv||(this.Lv=new Promise(a=>{this.tB=a}))}HE(){this.Lv&&(this.tB(),this.tB=this.Lv=null)}IO(a){this.Sg=e.yo.n8(a);this.CJ=!0}yN(){e.C.Ac.L.vo(this);this.Cb.Ca(e.C.Ac.L.Vja);this.Cb.Ca(e.C.Ac.L.Wja);this.Cb.Ca(e.C.Ac.L.Xja);this.Cb.Ca(e.C.Ac.L.Lja);e.C.Ac.L.vo(null)}uE(){this.cr=this.g.tk}UL(){this.Wo||(this.Wo=!0,e.C.Ac.L.vo(this),this.Cb.Ca(e.C.Ac.L.Sja),this.Cb.Ca(e.C.Ac.L.Tja),this.Cb.Ca(e.C.Ac.L.Uja),this.Cb.Ca(e.C.Ac.L.Kja),e.C.Ac.L.vo(null))}Eq(a){this.LA=
a}TM(){return this.cr===this.g.tk}IsPlaying(a=!1){return this.TM()||this.yl&&!a?!0:this.LA}Qq(){return this.IsPlaying(!0)}Gq(a){this.yl=a}lO(a){this.Tf=a;a=this.xa();if(0>=a||a>=this.kd())this.Tf=!0}Fy(a){this.iB=a}SE(a){this.tA=a}l4(){this.Br=!0}xa(){return this.Mb}Hq(a){const b=this.xa();this.Pd(a);this.lO(!1);this.Tf||this.SE(!0);if(this.Qq()||this.yl||!this.Nm)this.Qq()||this.yl||this.Nm?this.Qq()?this.hf():this.yl&&(this.Cb.gx(this),this.vO()):this.vO();this.ru();this.SF(this.xa(),!0,b);this.tG();
this.Fc&&this.G().aa();this.SQ()}Pd(a){e.Mf(a)||(a=this.kd());this.Mb=0>a?0:a>=this.kd()?this.kd():a}hl(a){e.Mf(a)||(a=this.kd());this.Mb=0>a?0:a>=this.kd()?this.kd():a;for(const b of this.gb)b.vi()}SQ(){e.C.Ac&&this.constructor===e.yo&&(e.C.Ac.L.vo(this),this.Cb.Ca(e.C.Ac.L.Pja),this.Cb.Ca(e.C.Ac.L.Qja),this.Cb.Ca(e.C.Ac.L.Rja),e.C.Ac.L.vo(null))}Play(a=!1){return this.Qg||this.yl?!1:this.Qq()&&this.TM()?this.saa():this.Qq()||!this.Tf&&!a&&!this.tA?!1:this.taa()}saa(){this.SE(!1);this.Cb.i3(this);
this.Cb.fO(this);this.tM();return!0}taa(){this.SE(!1);this.Cb.fO(this);this.tM();return!0}hf(a=!1){this.Qg||(this.lO(a),this.Cb.sL(this),this.Tf&&this.HE())}bd(a=!0,b=!1){if(!this.Qg)if(!this.Qq()&&this.yl)this.Cb.gx(this);else if(!this.Tf){this.hf(!0);this.ji()?this.Pd(0):this.Pd(this.kd());var d=this.xa();this.ru();b?this.J8(d):this.SF(d,!1);a&&this.SQ();this.tG();this.Fc&&a&&this.G().aa()}}$N(){this.bd(!1,!0)}J8(a){this.SF(a,!1,NaN,!1,!0)}lu(){if(this.Qg)return!0;if(!this.G().Bh&&this.Q_())return!1;
this.Cb.tL(this);this.G().Bh||this.$N();return!0}vO(){this.Lc(!0)}Lc(a){if(!this.iB){if(a){this.Le=this.Nm=!0;this.ru();for(const b of this.gb)b.Lc()}else if(this.Eq(!0),this.Gq(!1),this.yN(),this.Tf){this.cr=-1;this.Ed=0;this.Bd=1;this.Wo=this.Tf=!1;this.Le=this.Nm=!0;this.ji()?this.Pd(0):this.Pd(this.kd());this.ru();for(const b of this.gb)b.Lc()}else{this.Le=!0;this.ru();for(const b of this.gb)b.Ee()}this.tG()}}ru(){this.oA=0;for(const a of this.gb)a.Om&&(this.oA=1)}tG(){this.Fc=0;for(const a of this.gb)a.nz(),
0===this.Fc&&1===a.Fc&&(this.Fc=1),this.Vq||1!==a.Um||(this.Vq||(this.Vq=[]),this.RR=this.Vq.push(a))}jf(a,b){if(0!==a||0!==this.VA){this.VA=a;var d=this.Mb;b=d+a*b*this.Sc;a=this.Hd.ds;this.Mb=0>b?0:b>=a?a:b;var c=!1;b=!1;var h=this.Hx(),m=this.Lx();h||m?h&&!m?0<this.Sc?this.Mb>=a&&(this.hl(0),b=!0):0>=this.Mb&&(this.hl(a),b=!0):!h&&m?0<this.Sc?this.Mb>=a&&(this.Pd(a),this.Tj(-1*this.Sc),b=!0,1===this.Ed?this.Bd<this.og()?(this.Bd++,this.Ed=0):c=!0:0===this.Ed&&(this.Ed=1)):0>=this.Mb&&(this.Pd(0),
this.Tj(-1*this.Sc),b=!0,1===this.Ed?this.Bd<this.og()?(this.Bd++,this.Ed=0):c=!0:0===this.Ed&&(this.Ed=1)):h&&m&&(0<this.Sc?this.Mb>=a&&(this.Pd(a),this.Tj(-1*this.Sc),b=!0):0>=this.Mb&&(this.Pd(0),this.Tj(-1*this.Sc),b=!0)):0<this.Sc?this.Mb>=a&&(this.Bd<this.og()?(this.Bd++,this.hl(0),b=!0):(this.Pd(a),c=!0)):0>=this.Mb&&(this.Bd<this.og()?(this.Bd++,this.hl(a),b=!0):(this.Pd(0),c=!0));h=this.pU;if(c){for(c=0;c<h;c++)this.gb[c].pO();this.hf(!0);this.uE()}else{m=this.RR;for(c=0;c<m;c++)this.Vq[c].Hn();
if(1===this.oA)for(c=0;c<h;c++){const g=this.gb[c],l=g.bf(),n=d-l;0>this.Mb-l&&0<n?(this.Mb=0>l?0:l>=a?a:l,g.Aa(l,!0,!1,b,this.Le,!1)):g.Aa(this.Mb,!0,!1,b,this.Le,!1)}else for(c=0;c<h;c++)this.gb[c].Aa(this.Mb,!0,!1,b,this.Le,!1);for(c=0;c<m;c++)this.Vq[c].Fn();this.Le&&(this.Le=!1)}}}SF(a,b=!1,d=NaN,c=!1,h=!1){for(var m of this.gb)m.Hn();for(const g of this.gb){m=a;if("number"===typeof d&&!isNaN(d)){const l=this.xa()-g.bf(),n=d-g.bf();0>l&&0<n&&(m=g.bf(),this.Pd(m))}g.Aa(m,!1,b,!0,this.Le,h)}for(const g of this.gb)g.Fn();
this.Le&&c&&(this.Le=!1)}vy(){if(!this.Qg)for(const a of this.gb)a.Zk()}pj(){for(const a of this.gb)a.pj()}$W(){for(const a of this.gb)a.YW()}B4(a,b){if(b)for(const d of this.gb)if(d.ki()){if(a){if(d.xj()!==a)continue}else if(d.J_())continue;d.h4(b);this.Cb.JO(b.H(),this);break}}KM(){return this.gb.some(a=>a.ki()?a.$C():!0)}Q_(){return this.gb.some(a=>a.ki()?a.$C()?(a=a.H())?a.Nf():!1:!1:!1)}Hf(a){for(const b of this.gb)for(const d of b.Ra)if(d.ra.Tc===a)return d}EM(a){for(const b of this.gb)if(a===
b.za())return b;return null}sM(){const a=[];for(const b of this.gb)a.push(b.H());return a.filter(b=>b)}fa(){return{tracksJson:this.qaa(),name:this.Da,playheadTime:this.xa(),playbackRate:this.Sc,pingPongState:this.Ed,currentRepeatCount:this.Bd,isPlaying:this.LA,isScheduled:this.yl,initialStateSet:this.Nm,finishedTriggers:this.Wo,complete:this.Tf,released:this.Qg,markedForRemoval:this.iB,completedTick:this.cr,implicitPause:this.tA,isTemplate:this.Br,tags:this.Sg.join(" "),stringTags:this.jU,tagsChanged:this.CJ,
firstTick:this.Le}}ka(a){a&&(this.n9(a.tracksJson),this.Da=a.name,this.Mb=a.playheadTime,this.Sc=a.playbackRate,this.Ed=a.pingPongState,this.Bd=a.currentRepeatCount,this.LA=!!a.isPlaying,this.yl=!!a.isScheduled,this.Nm=!!a.initialStateSet,this.Wo=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Tf=!!a.complete,this.Qg=!!a.released,this.iB=!!a.markedForRemoval,this.cr=a.completedTick,this.tA=!!a.implicitPause,this.Br=!!a.isTemplate,this.Sg=a.tags.split(" "),this.jU=a.stringTags,this.CJ=
!!a.tagsChanged,this.Le=!!a.firstTick)}qaa(){return this.gb.map(a=>a.fa())}n9(a){a.forEach((b,d)=>{this.gb[d].ka(b)});this.gb.filter(b=>b.$C())}static n8(a){if(e.ao(a))return a.slice(0);if(e.li(a))return a.split(" ")}}}
{"use strict";const e=self.B;e.nF=class extends e.ea{constructor(a,b){super();this.Oh=a;this.Jb=b;this.Re=b.gt();this.Fl=this.tl=NaN;this.Pa=this.jc=null;this.Om=0<b.bf();this.So=this.Ar=!1;this.nk=null;this.kc=this.Jb.zj().kc;this.Ra=[];this.DL();this.Um=this.Fc=this.Ak=0}static La(a,b){return e.j(e.nF,a,b)}A(){this.kc=null;for(const a of this.Ra)a.A();e.D(this.Ra);this.nk=this.Jb=this.Pa=this.jc=this.Oh=this.Ra=null}DL(){for(const a of this.Jb.Jd().rV())this.Ra.push(e.Xa.La(this,a))}Zk(){for(const a of this.Ra)a.Zk()}pj(){for(const a of this.Ra)a.pj();
this.Pa=this.jc=null}mb(){return this.Oh}G(){return this.Oh.G()}YZ(){return this.kc?this.kc:this.kc=this.Jb.zj().kc}Hf(a){for(let b=0;b<this.Ra.length;b++){const d=this.Ra[b];if(d.ra.Tc===a)return d}}ut(){this.jc||this.za()}nm(){return this.jc?!this.jc.mt():!1}$C(){if(!this.ki())return!1;const a=this.G().yj(this.Ys());return a?!a.mt():!1}H(){if(this.ki()){var a=this.HD();if(-1!==a)return this.G().$e(a)}}YW(){this.jc=null;this.tl=-1;this.Pa=null;this.Fl=-1}J_(){return!!this.jc}za(){return this.jc&&
this.nm()?this.jc:this.jc=this.G().yj(this.Ys())}h4(a){if(this.jc!==a){this.pj();this.jc=a;this.Fl=a.H().Ea();this.tl=a.Vc;this.Pa=a.m();for(const m of this.Oea()){const g=m.bfa;switch(m.Nea.Kd()){case "instance-variable":var b=a.H(),d=b.RZ(m.name),c=b.nM(d);b=b.Zs(d);c===m.name&&b===m.type&&g.u5(d);break;case "behavior":var h=m.dK;d=this.H();c=a.H();b=g.lg(c);h&&b&&(h=h.wa(),d.Ps(h),c.Ps(h),g.r5(b.fb))}}}}*Oea(){for(const d of this.Ra){var a=d.sb(),b=this.H();const c={Nea:d,bfa:a};switch(d.Kd()){case "world-instance":c.Tqa=
d.ra.Tc;break;case "instance-variable":a=a.Xp();c.name=b.nM(a);c.type=b.Zs(a);break;case "effect":b=a.zD(b.Ja);c.fpa=b;break;case "behavior":b=a.lg(b);c.dK=b;break;case "plugin":c.Qqa=b.rb()}yield c}}m(){if(this.Pa&&this.nm())return this.Pa;const a=this.za();a&&(this.Pa=a.m());return this.Pa}Ys(){return this.tl?this.tl:this.Jb.Ys()}di(){return this.Jb.di()}de(){return this.Jb.de()}xj(){return this.Jb.xj()}bf(){return this.Jb.bf()}Ok(){return this.Jb.Ok()}Sj(a){for(const b of this.YZ())b.Sj(a);for(const b of this.Ra)b.Sj(a)}Mk(){return this.Jb.Mk()}Yk(a){this.Jb.Yk(a)}HD(){return isNaN(this.Fl)?
this.Jb.HD():this.Fl}Bj(){const a=this.za();return a&&a.ma.ho()?a.ma.Bj():this.Jb.Bj()}Aj(){const a=this.za();return a&&a.ma.ho()?a.ma.Aj():this.Jb.Aj()}Ij(){return this.Jb.Ij()}wa(){return this.Jb.wa()}ki(){return 0===this.Ij()}vi(){for(const a of this.Ra)a.vi()}Lc(){this.ut();if(this.nm()||!this.ki()){var a=this.mb().ji()?0:this.Ok();for(const b of this.Ra)b.Lc(a),0===this.Ak&&1===b.Ak&&(this.Ak=1),0===this.Fc&&1===b.Fc&&(this.Fc=1);this.Um=0;this.Ra.some(b=>b.Um)&&(this.Um=1);this.nk=this.cQ(a);
this.So=this.Ar=!1;this.Aa(a)}}Ee(){this.ut();if(this.nm()||!this.ki()){this.Oh.ji();var a=this.Oh.xa()-this.bf();this.nk=this.cQ(a);for(const b of this.Ra)b.Ee(a)}}pO(){if(!(this.mb().Tf||(this.ut(),!this.nm()&&this.ki()||this.Om))){const a=this.Oh.xa();a>=this.bf()+this.Ok()?this.Aa(this.Ok(),!0,!1,!0):0>=a&&this.Aa(0,!0,!1,!0)}}nz(){for(let a=0,b=this.Ra.length;a<b;a++){const d=this.Ra[a];d.nz();0===this.Ak&&1===d.Ak&&(this.Ak=1);0===this.Fc&&1===d.Fc&&(this.Fc=1)}}Hn(){const a=this.Ra.length;
for(let b=0;b<a;b++)this.Ra[b].Hn()}Aa(a,b=!1,d=!1,c=!1,h=!1,m=!1){this.jc||this.za();const g=0===this.Jb.ua;if(!((!this.jc||this.jc.mt())&&g||m&&g&&this.H().Nf()||(a-=this.bf(),0>a))){this.E1(a,b);this.F1(a,b,h);for(let l=0,n=this.Ra.length;l<n;l++)this.Ra[l].Aa(a,d,c);this.D1(a,b);0!==this.Ak&&(this.Pa||(this.Pa=this.jc.m()),this.Pa&&this.Pa.Ya())}}Fn(){const a=this.Ra.length;for(let b=0;b<a;b++)this.Ra[b].Fn()}E1(a,b){if(b&&this.Om&&!this.Ar){if(this.mb().ji()){if(0>a)return;for(const d of this.Ra)d.Aa(0,
!1,!0)}else{if(a>this.Ok())return;for(const d of this.Ra)d.Aa(this.Ok(),!1,!0)}for(const d of this.Ra)d.Lc();this.Ar=!0}}D1(a,b){if(b&&this.Om&&!this.So)if(this.mb().ji()){if(a>=this.Ok()){for(const d of this.Ra)d.Aa(this.Ok(),!1,!0);this.So=!0}}else if(0>=a){for(const d of this.Ra)d.Aa(0,!1,!0);this.So=!0}}F1(a,b,d){if(!d&&b&&e.C.Ac){b=this.mb();d=this.nk.Oe;var c=this.nk.xa(),h=d?d.xa():b.kd();if(a<=c||a>=h)this.nk=this.Re.iM(a,this.Jb),b.ji()?d&&this.wE(this.nk):(a=this.nk.Oe)&&this.wE(a)}}cQ(a){const b=
this.Re.VZ(a,this.Jb);return b?b:this.Re.iM(a,this.Jb)}wE(a){const b=this.mb();e.C.Ac.L.vo(b);e.C.Ac.L.J4(a);a=b.Cb;a.Ca(e.C.Ac.L.Jja);a.Ca(e.C.Ac.L.wE);e.C.Ac.L.vo(null);e.C.Ac.L.J4(null)}hW(){return this.Jb.zj().cW()}FX(a){this.Jb.zj().EX(a)}kx(a){for(const b of this.Ra)b.kx(a)}ro(){for(const a of this.Ra)a.ro()}Yh(){this.ut();if(this.nm()||!this.ki())for(const a of this.Ra)a.Yh()}Zh(){this.ut();if(this.nm()||!this.ki()){var a=!1;for(const b of this.Ra){const d=b.Zh();!a&&d&&(a=!0)}a&&(a=this.hW(),
a.Hq(this.mb().xa()),a.Sj("noease"),a.Yk(!0),a.IO(""))}}fa(){var a=this.za();a=a?a.Vc:this.Ys();return{propertyTracksJson:this.laa(),lastKeyframeDataItemJson:this.haa(),initialStateOfNestedSet:this.Ar,endStateOfNestedSet:this.So,instanceUid:a}}ka(a){a&&(this.i9(a.propertyTracksJson),this.f9(a.lastKeyframeDataItemJson),this.c9(a.instanceUid),this.Ar=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Ar=a.initialStateOfNestedSet),this.So=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.So=a.endStateOfNestedSet))}haa(){return this.Jb.zj().XZ(this.nk)}laa(){return this.Ra.map(a=>
a.fa())}i9(a){a.forEach((b,d)=>{this.Ra[d].ka(b)})}c9(a){if(e.Mf(a)&&(a=this.G().yj(a))){var b=this.mb();b.$W();b.B4(this.Jb.xj(),a)}}f9(a){this.nk=this.Jb.zj().WZ(a)}}}
{"use strict";const e=self.B;e.Xa=class extends e.ea{constructor(a,b){super();this.jb=a;this.ra=b;this.lc=b.Jd();this.Um=this.Fc=this.Ak=0;this.qe=this.sb();this.Hb=this.ra.ng().Hb;this.vu=this.Dc=null}static La(a,b){return e.j(e.Xa,a,b)}A(){this.jb=null;this.qe&&(this.qe.A(),this.qe=null);this.lc=this.ra=this.Hb=null}QD(){return!!this.vu}J3(a){this.vu=a}Jd(){return this.lc}mb(){return this.jb.mb()}G(){return this.jb.G()}za(){return this.jb.za()}sb(){if(this.qe)return this.qe;let a;switch(this.ra.Kd()){case "behavior":a=
new e.Xa.EW(this);break;case "effect":a=new e.Xa.OY(this);this.Fc=1;break;case "instance-variable":a=new e.Xa.L0(this);break;case "plugin":a=new e.Xa.I2(this);this.Fc=1;break;case "world-instance":a=new e.Xa.lo(this);this.Ak=this.Fc=1;break;case "value":a=new e.Xa.w5(this);break;case "audio":a=new e.Xa.AW(this)}return this.qe=a}Kd(){return this.ra.Kd()}Nx(){return this.ra.Ij()}$s(){return this.Jd().Bx(this.ra).Ij()}Mk(){return this.ra.Mk()}Yk(a){this.ra.Yk(a)}di(){return this.ra.di()}de(){return this.ra.de()}Sj(a){for(const b of this.Mx())b.Sj(a)}ZC(){return this.ra.ZC()}Mx(){return this.Hb?
this.Hb:this.Hb=this.ra.ng().Hb}Zk(){this.sb().Zk()}pj(){this.sb().pj()}xe(){return this.sb().xe()}vi(){this.sb().vi()}Lc(a){this.sb().Lc();this.Dc=this.dQ(a);this.nz()}Ee(a){this.sb().Ee();this.Dc=this.dQ(a)}nz(){var a=this.jb;this.Um=0;if(a.ki()){var b=this.mb();a=a.za();const d=this.sb(),c=this.ra.Tc;d.Nj()?(b=b.ct(a,d,c))&&b.length&&(this.Um=1):this.Um=0}}dQ(a){const b=this.mb(),d=this.lc.m_(a,this.ra);return d?d:b.ji()?this.lc.ci(a,this.ra):this.lc.kM(a,this.ra)}Hn(){this.qe.Hn()}Aa(a,b=!1,d=
!1){let c;if(b)var h=this.lc.ci(a,this.ra);else{if(this.Dc){var m=this.mb();const g=this.Dc.Oe;h=this.Dc.xa();m=g?g.xa():m.kd();if(a<=h||a>=m)this.Dc=this.lc.ci(a,this.ra)}else this.Dc=this.lc.ci(a,this.ra);h=this.Dc}h&&(c=h.Oe);this.qe.Aa(a,h,c,b,d)}Be(a){if(this.Dc){var b=this.mb();const c=this.Dc.Oe;var d=this.Dc.xa();b=c?c.xa():b.kd();if(a<=d||a>=b)this.Dc=this.lc.ci(a,this.ra)}else this.Dc=this.lc.ci(a,this.ra);d=this.Dc;return this.qe.Be(a,d,d.Oe)}Fn(){this.qe.Fn()}static CM(a,b){return b.lc.ci(a,
b.ra)}gL(){const a=this.ra.ng().fL();this.Dc=null;return a}kx(a){this.Dc=null;this.ra.ng().KL(a)}ro(){this.sb().ro()}Yh(){if(this.sb().Yh()){const a=this.lc.Bx(this.ra),b=this.sb().xe();a.gO(b)}}Zh(){const a=this.sb().Zh();a&&this.kW();this.sb().cx();return a}kW(){const a=this.mb().xa(),b=this.sb(),d=e.Xa.CM(a,this),c=this.gL();c.KO(d.Ij());c.Hq(a);c.Sj(d.hm());c.Yk(!0);c.Fe(b.MD());c.gO(b.xe())}fa(){return{sourceAdapterJson:this.sb().fa()}}ka(a){a&&this.sb().ka(a.sourceAdapterJson)}}}
{"use strict";const e=self.B.Xa;e.lo=class{constructor(a){this.J=a;this.wf=null;this.mg()}A(){this.wf&&(this.wf.A(),this.wf=null);this.J=null}Nj(){return this.wf.Nj()}Hf(){return this.J}Zk(){this.wf&&this.wf.Zk()}pj(){this.wf&&this.wf.pj()}mg(){return this.wf?this.wf:this.wf=this.A6()}Xp(){}Ea(){return this.Xp()}ft(){}vi(){this.mg().vi()}Lc(){this.mg().Lc()}Ee(){this.mg().Ee()}Hn(){this.wf.Pp()}Aa(a,b,d,c,h){let m;switch(this.J.$s()){case "numeric":m=e.wt.Aa(a,b,d,this.J);break;case "angle":m=e.Sw.Aa(a,
b,d,this.J);break;case "boolean":m=e.Uw.Aa(a,b,d,this.J);break;case "color":m=e.dx.Aa(a,b,d,this.J);break;case "text":m=e.Jy.Aa(a,b,d,this.J)}this.wf.Jn(a,m,b,d,c,h)}Be(a,b,d){switch(this.J.$s()){case "numeric":return e.wt.Aa(a,b,d,this.J);case "angle":return e.Sw.Aa(a,b,d,this.J);case "boolean":return e.Uw.Aa(a,b,d,this.J);case "color":return e.dx.Aa(a,b,d,this.J);case "text":return e.Jy.Aa(a,b,d,this.J)}}Fn(){this.wf.Op()}ro(){var a=this.mg();a.Kh=a.xe()}cx(){this.mg().cx()}xe(){return this.mg().xe()}Yh(){return this.mg().Yh()}Zh(){return this.mg().Zh()}MD(){const a=
this.J,b=a.jb.mb().xa(),d=e.CM(b,a),c=d.Oe;switch(a.$s()){case "numeric":return e.wt.Aa(b,d,c,a);case "angle":return e.Sw.Aa(b,d,c,a);case "boolean":return e.Uw.Aa(b,d,c,a);case "color":return e.dx.Aa(b,d,c,a);case "text":return e.Jy.Aa(b,d,c,a)}}A6(){const a=this.J;switch(a.ZC()?a.$s():""){case "combo":case "boolean":case "text":case "string":return new e.ef.rN(this);case "numeric":case "number":case "angle":return"combo"===this.J.Nx()?new e.ef.rN(this):new e.ef.sN(this);case "color":case "offsetColor":return new e.ef.cX(this);
default:return new e.ef.sN(this)}}fa(){return{propertyAdapterJson:this.mg().fa()}}ka(a){a&&this.mg().ka(a.propertyAdapterJson)}}}
{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b);this.kw=NaN}Xp(){return this.J.ra.ag[0]}Ea(){return this.kw?this.kw:super.Ea()}ft(){return this.J.jb.za()}u5(b){this.J.ra.ag[0]!==b&&(this.kw=b)}Aa(b,d,c,h,m){this.mg().YC(d.yb())&&super.Aa(b,d,c,h,m)}Be(b,d,c){if(this.mg().YC(d.yb()))return super.Be(b,d,c)}fa(){return Object.assign(super.fa(),{index:this.kw})}ka(b){b&&(super.ka(b),this.kw=b.index)}}e.Xa.L0=a}
{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b);this.fb=NaN}Xp(){return this.J.ra.ag[1]}ft(){var b=this.J.ra,d=this.fb?this.fb:b.ag[0];b=this.J.jb.za();d=b.$L(d);return b.ed[d].ma}lg(b){return b.tx(this.J.ra.ag[2])}r5(b){this.J.ra.ag[0]!==b&&(this.fb=b)}Aa(b,d,c,h,m){const g=this.J.jb.za();this.lg(g.H())&&super.Aa(b,d,c,h,m)}Be(b,d,c){const h=this.J.jb.za();if(this.lg(h.H()))return super.Be(b,d,c)}fa(){return Object.assign(super.fa(),{sid:this.fb})}ka(b){b&&(super.ka(b),
this.fb=b.sid)}}e.Xa.EW=a}{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b)}Xp(){return this.J.ra.ag[1]}ft(){const b=this.J.jb.m().Wf,d=this.zD(b.Ja).Ea();return b.nt(d)?b.Kk(d):null}zD(b){return b.Lk(this.J.ra.ag[0])}Aa(b,d,c,h,m){this.yQ()&&super.Aa(b,d,c,h,m)}Be(b,d,c){if(this.yQ())return super.Be(b,d,c)}yQ(){const b=this.J.jb.m().Wf,d=this.zD(b.Ja);if(d)return b.nt(d.Ea())}}e.Xa.OY=a}
{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b)}Xp(){return this.J.ra.ag[0]}ft(){return this.J.jb.za().ma}Aa(b,d,c,h,m){var g=this.J.jb;const l=g.H().rb();g=g.za().H().rb();l===g&&super.Aa(b,d,c,h,m)}Be(b,d,c){var h=this.J.jb;const m=h.H().rb();h=h.za().H().rb();if(m===h)return super.Be(b,d,c)}}e.Xa.I2=a}
{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b);this.yc=0;this.uA=!1}Nj(){return!1}Lc(){const b=this.J.Jd();let d=this.J.ra;d=b.Bx(d);this.yc=d.qc()}Ee(){}yb(){this.uA||this.J.Aa(0);return this.yc}Aa(b,d,c){this.yc=e.Xa.wt.Aa(b,d,c,this.J);this.uA=!0}ro(){}cx(){}xe(){return this.yc}Yh(){return!1}Zh(){return!1}fa(){return{value:this.yc,init:this.uA}}ka(b){b&&(this.yc=b.value,this.uA=b.hasOwnProperty("init")?b.init:!0)}}e.Xa.w5=a}
{"use strict";const e=self.B;class a extends e.Xa.lo{constructor(b){super(b);this.dk=!1;this.rr=this.Ob=this.pe=null;this.Oh=this.J.mb();this.jb=this.J.jb;this.Wv=this.J.ra.ag;this.FH=this.Wv[0];this.yJ=this.Wv[1];this.ph=this.Wv[3]?this.Wv[3]:Math.random().toString(36).slice(2);this.ow=this.rp=this.Wm=NaN;this.Bg=null;this.xQ()}A(){super.A();this.Bg=this.FH=this.Wv=this.jb=this.Oh=this.rr=this.Ob=this.pe=null}xQ(){if(self.B.C.Audio){var b=this.J.G().Ix("audio");b&&(this.pe=b.gi().ma);this.Ob=self.B.C.Audio.tc;
this.rr=self.B.C.Audio.ac}}IQ(){if(!this.Bg){var b=this.J.jb.Hf("audioSource");b&&(this.Bg=b.sb())}}h8(){const b=this.J.jb.Hf("volume");return b?b.sb().rp:this.rp}Zk(){super.Zk();this.dk=!1;this.pe&&(this.rr&&(this.Wm=this.rr.wka.call(this.pe,this.ph),this.rp=this.rr.Zna.call(this.pe,this.ph)),this.Ob&&this.Ob.hf.call(this.pe,this.ph))}wo(b){this.ow=b}Lc(){super.Lc();this.Wm=NaN;this.dk=!1}Ee(){super.Ee();const b=this.J.mb().xa();this.Wm=b-this.yJ;switch(this.J.ra.Tc){case "volume":this.rp=this.J.Be(b)}this.dk=
!1}Aa(b,d,c,h,m){if(this.pe)switch(this.J.ra.Tc){case "audioSource":if(!this.Oh.ji())break;if(h){this.Ob&&this.Ob.hf.call(this.pe,this.ph);break}if(b<this.yJ){this.dk=!1;break}d=this.rr.vka.call(this.pe,this.ph);this.Oh.Sc!==d&&this.Ob.Tj.call(this.pe,this.ph);if(this.dk)break;this.dk=!0;if(isNaN(this.Wm)){const g=self.performance.now(),l=b-this.yJ;this.pe.xE("get-suspended").then(n=>{if("suspended"===n)this.dk=!1;else if(n=l+(self.performance.now()-g)/1E3,this.Ob){let p=this.ow;isNaN(p)?(this.wo(0),
p=0):this.wo(p);this.Ob.Play.call(this.pe,this.FH,0,p,this.ph,n)}})}else{const g=this.Wm;this.Wm=NaN;const l=this.h8();this.rp=NaN;this.pe.xE("get-suspended").then(n=>{"suspended"===n?this.dk=!1:this.Ob&&(this.wo(l),this.Ob.Play.call(this.pe,this.FH,0,l,this.ph,g))})}break;case "volume":this.IQ(),super.Aa(b,d,c,h,m)}}Be(b,d,c){if(this.pe)switch(this.J.ra.Tc){case "volume":return this.IQ(),super.Be(b,d,c)}}IM(){return this.Bg?this.Bg.ow:0}Q4(b,d){this.Bg&&this.Bg.wo(this.IM()+d);this.Ob&&this.Bg&&
this.Ob.wo.call(this.pe,this.Bg.ph)}XV(b,d){this.Bg&&this.Bg.wo(d);this.Ob&&this.Bg&&this.Ob.wo.call(this.pe,this.Bg.ph)}fa(){return{audioPlaybackStarted:this.dk,audioTag:this.ph,pauseTime:this.Wm,pauseVolume:this.rp,volume:this.ow}}ka(b){b&&(this.dk=b.audioPlaybackStarted,this.ph=b.audioTag,this.Wm=b.pauseTime,this.rp=b.pauseVolume,this.ow=b.volume,this.xQ())}}e.Xa.AW=a}"use strict";function ic(e,a,b){return e.J.mb().ji()?a():b()}function jc(e,a,b){return"relative"===e.J.de()?a():b()}
function kc(e){if(e.Xr)return e.Xr;e.Xr=e.qe.ft();return e.Xr}function lc(e,a=!1){const b=[];for(const d of e){e=d.jb.bf();for(const c of d.Mx())a&&0===c.xa()?b.push({time:e+c.xa(),value:c.oh}):a||b.push({time:e+c.xa(),value:c.oh})}return b.sort((d,c)=>d.time-c.time)}function mc(e,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=e)return a[b];return null}
self.B.Xa.ef=class{constructor(e){this.qe=e;this.J=e.Hf();this.Pa=this.J.jb.m();this.Tc=this.J.ra.Tc;this.tr=!1;this.Xr=this.Kh=null}A(){this.Xr=this.Kh=this.Pa=this.J=this.qe=null}Nj(){return!1}Zk(){}pj(){this.Xr=this.Kh=this.Pa=null}sb(){return this.qe}Hf(){return this.J}m(){return this.Pa?this.Pa:this.Pa=this.J.jb.m()}vi(){}Lc(){}Ee(){}cx(){this.Kh=null}xe(){}Yh(){}Zh(){}YC(e){return typeof this.dl()===typeof e}Pp(){}Jn(){}Op(){}Co(){return ic(this,()=>{const e=this.J.ra;return this.J.Jd().Bx(e)},
()=>{const e=this.J.ra;return this.J.Jd().Tn(e)}).oh}Uy(){const e=this.J.mb().xa()-this.J.jb.bf();return ic(this,()=>{const a=this.J.ra;return this.J.Jd().ci(e,a)},()=>{const a=this.J.ra,b=this.J.Jd(),d=b.kM(e,a);return d?d:b.Tn(a)}).oh}Xy(){}He(){return this.qe.Ea()}fa(){return{firstAbsoluteUpdate:this.tr,saveState:this.Kh}}ka(e){e&&(this.tr=e.firstAbsoluteUpdate,this.Kh=e.saveState)}};
{"use strict";const e=self.B,a=new Map,b=[0,0,0];class d extends e.Xa.ef{constructor(c){super(c)}vi(){}Lc(){}Ee(){}xe(){const c=this.J.Kd(),h=kc(this),m=this.He();switch(c){case "behavior":return this.pz(h.Jc(m));case "effect":return this.pz(h[m]);case "plugin":return this.pz(h.Jc(m));case "world-instance":return this.pz(this.dl())}}Yh(){const c=this.Co();return!this.wP(c,this.dl())}Zh(){return e.ee(this.Kh)?!1:!this.wP(this.Kh,this.dl())}wP(c,h){c=this.Mq(c);h=this.Mq(h);return c.Wl(h)}Co(){const c=
super.Co();return this.Mq(c)}Uy(){const c=super.Uy();return this.Mq(c)}Xy(){}pz(c){return e.mm(c,e.$a)?c.toArray().slice(0,3):c.slice(0,3)}Mq(c){return e.mm(c,e.$a)?c:new e.$a(c[0],c[1],c[2],1)}YC(){return!0}Nj(){return!0}Pp(){var c=this.J.mb(),h=this.J.za();const m=this.J.sb();(c=c.ct(h,m,this.Tc))&&1<c.length&&(a.has(h)||a.set(h,new Map),h=a.get(h),c=this.J.Kd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.Tc)||h.set(this.Tc,{QV:!1,color:new e.$a(0,0,0,1)}))}nQ(c,h,m){c=a.get(c).get(h).get(m);
c.QV=!0;return c.color}Jn(c,h){var m=this.J.mb(),g=this.J.jb;c=this.J.za();var l=this.J.sb();const n=this.J.Kd();if((l=m.ct(c,l,this.Tc))&&1<l.length){if(l=lc(l,!0),m=m.xa(),m=mc(m,l))l=m.time-g.bf(),0===l?this.nQ(c,n,this.Tc).DU(h[0],h[1],h[2]):0>l||(m=h[0],g=h[1],h=h[2],l=this.J.Aa(l,!1,!0),m=e.$a.jD(m,l[0]),g=e.$a.jD(g,l[1]),h=e.$a.jD(h,l[2]),this.nQ(c,n,this.Tc).DU(m,g,h))}else this.bk(h[0],h[1],h[2])}Op(){const c=this.J.za();if(a.has(c)){var h=a.get(c),m=this.J.Kd();if(h.has(m)){var g=h.get(m);
if(g.has(this.Tc)){var l=g.get(this.Tc),n=l.color;l.QV&&this.bk(n.Sa,n.Va,n.Ua);0===g.size&&h.delete(m);0===h.size&&a.delete(c)}}}}dl(){const c=this.J.Kd(),h=kc(this),m=this.He();switch(c){case "behavior":return this.Mq(h.Jc(m));case "effect":return h[m].clone();case "plugin":return this.Mq(h.Jc(m));case "world-instance":return this.m().bb.clone()}}bk(c,h,m){const g=this.J.Kd(),l=kc(this),n=this.He();switch(g){case "behavior":b[0]=c;b[1]=h;b[2]=m;l.ti(n,b);break;case "effect":l[n].As(c,h,m);break;
case "plugin":b[0]=c;b[1]=h;b[2]=m;l.ti(n,b);break;case "world-instance":this.m().K4(c,h,m)}}fa(){}ka(){}}e.Xa.ef.cX=d}
{"use strict";const e=self.B,a=e.Xa;class b extends e.Xa.ef{constructor(d){super(d)}vi(){}Lc(){}Ee(){}xe(){return this.dl()}Yh(){return this.Co()!==this.xe()}Zh(){return e.ee(this.Kh)?!1:this.Kh!==this.xe()}Nj(){return!1}Jn(d,c){const h=this.J,m=h.jb,g=h.Kd();var l=h.mb();const n=m.za(),p=h.sb();(l=l.ct(n,p,this.Tc))&&1<l.length&&(l=lc(l),d=mc(d+m.bf(),l))&&(c=d.value);switch(h.$s()){case "numeric":if(!a.wt.al(this.He(),kc(this),c,g))return;break;case "angle":if(!a.Sw.al(this.He(),kc(this),c,g))return;
break;case "boolean":if(!a.Uw.al(this.He(),kc(this),c,g))return;break;case "color":if(!a.dx.al(this.He(),kc(this),c,g))return;break;case "text":if(!a.Jy.al(this.He(),kc(this),c,g))return}this.bk(c)}dl(){const d=this.J.Kd(),c=kc(this),h=this.He();switch(d){case "behavior":return c.Jc(h);case "effect":return c[h];case "instance-variable":return c.Ae(h);case "plugin":return c.Jc(h)}}bk(d){const c=this.J.Kd(),h=kc(this),m=this.He();switch(c){case "behavior":h.ti(m,d);break;case "effect":h[m]=d;break;
case "instance-variable":h.wm(m,d);break;case "plugin":h.ti(m,d)}}}e.Xa.ef.rN=b}
{"use strict";const e=self.B,a=new Map,b=(c,h,m,g,l,n=!1,p=null,q=null)=>{a.set(c,{Zea:h,uda:m,fea:g,round:l,Zda:n,init:p,reset:q})};b("offsetX",(c,h)=>c.R1(h),(c,h)=>c.lh(h),c=>c.oa(),!0);b("offsetY",(c,h)=>c.S1(h),(c,h)=>c.Ci(h),c=>c.pa(),!0);b("offsetWidth",(c,h)=>c.uN(h),(c,h)=>c.Bi(h),c=>c.$(),!0);b("offsetHeight",(c,h)=>c.tN(h),(c,h)=>c.ri(h),c=>c.X(),!0);b("offsetAngle",(c,h)=>c.N1(h),(c,h)=>c.zd(h),c=>c.Ma(),!1);b("offsetOpacity",(c,h,m,g)=>{m=c.Id()+h;0===g.vc?(1<m?g.vc+=m-1:0>m&&(g.vc+=
m),c.O1(h)):(c=c.Id()+h,0<h&&0<g.vc?1<c&&(g.vc+=c-1):0<h&&0>g.vc?(g.vc+=h,0<g.vc&&(g.vc=0)):0>h&&0<g.vc?(g.vc+=h,0>g.vc&&(g.vc=0)):0>h&&0>g.vc&&0>c&&(g.vc+=c))},(c,h)=>{c.si(h)},c=>c.Id(),!1,!0,c=>{c.vc=0;switch(c.J.de()){case "relative":{c.J.Jd();const l=c.J.ra.ng().Hb;var h=c.m().Id(),m=h;for(var g of l)m=g.xa(),m=c.J.Be(m),m=h+m,m=e.da(m,0,1);c.cs=h-m;c.cs=Math.round(100*(c.cs+Number.EPSILON))/100;m=h;for(h=l.length-1;0<=h;h--)g=l[h].xa(),g=c.J.Be(g),m-=g,m=e.da(m,0,1);c.bs=m;c.bs=Math.round(100*
(c.bs+Number.EPSILON))/100}}},c=>{switch(c.J.de()){case "relative":{c.vc=0;const h=c.m();let m=h.Id();m=Math.round(100*(m+Number.EPSILON))/100;c.J.mb().ji()?(h.si(m+c.cs),c.Gb=0):(h.si(m-c.bs),c.Gb=c.sb().MD())}}});b("offsetOriginX",(c,h)=>c.P1(h),(c,h)=>c.Cq(h),c=>c.Pk(),!1);b("offsetOriginY",(c,h)=>c.Q1(h),(c,h)=>c.Dq(h),c=>c.Qk(),!1);b("offsetZElevation",(c,h)=>c.T1(h),(c,h)=>c.gf(h),c=>c.ab(),!0);b("offsetScaleX",(c,h,m)=>{const g=0>c.$()?-1:1;c.uN(m.Bj()*g*h)},(c,h,m)=>{c.Bi(m.Bj()*h)},(c,h)=>
{const m=0>c.$()?-1:1;if(c.Wn()){var g=c.Ba(),l=h.mb().EM(g.za());l?g=g.$()/l.Bj():(l=g.za().ma,g=l.ho()?g.$()/l.Bj():1);return c.$()*m/(h.Bj()*g)}return c.$()*m/h.Bj()},!1);b("offsetScaleY",(c,h,m)=>{const g=0>c.X()?-1:1;c.tN(m.Aj()*g*h)},(c,h,m)=>{c.ri(m.Aj()*h)},(c,h)=>{const m=0>c.X()?-1:1;if(c.Vn()){var g=c.Ba(),l=h.mb().EM(g.za());l?g=g.X()/l.Aj():(l=g.za().ma,g=l.ho()?g.X()/l.Aj():1);return c.X()*m/(h.Aj()*g)}return c.X()*m/h.Aj()},!1);class d extends e.Xa.ef{constructor(c){super(c);this.bs=
this.cs=this.vc=this.Gb=0;this.bU=this.dU=this.cU=this.UH=this.iJ=this.$H=this.bI=this.aI=null;this.BH=this.kJ=!1;this.hn=e.mm(this.J.mb(),e.n5)?new e.Xa.ef.M1(this):new e.Xa.ef.L1(this);const h=this.J.ra.Tc;switch(this.J.Kd()){case "world-instance":c=a.get(h);this.aI=c.fea;this.bI=c.Zea;this.$H=c.uda;this.kJ=c.round;this.BH=c.Zda;this.UH=c.init;this.iJ=c.reset;break;case "audio":this.cU=c.IM,this.dU=c.Q4,this.bU=c.XV,this.kJ=!0,this.BH=!1}}A(){this.$H=this.bI=this.aI=this.hn=null;super.A()}Nj(){return this.hn.Nj()}zO(c){this.Gb=
c}vi(){this.iJ&&this.iJ(this)}Lc(){const c=this.hn.Lc();"number"===typeof c&&(this.Gb=c);this.UH&&this.UH(this)}Ee(){const c=this.hn.Ee();"number"===typeof c&&(this.Gb=c)}xe(){return this.dl()}Yh(){return this.Co()!==this.xe()}Zh(){return e.ee(this.Kh)?!1:this.Kh!==this.xe()}Pp(){this.hn.Pp()}Jn(c,h,m,g,l,n,p){return this.hn.Jn(c,h,m,g,l,n,p)}Op(){this.hn.Op()}dl(){const c=kc(this),h=this.He(),m=this.m(),g=this.J.jb;switch(this.J.Kd()){case "behavior":return c.Jc(h);case "effect":return c[h];case "instance-variable":return c.Ae(h);
case "plugin":return c.Jc(h);case "world-instance":return this.aI(m,g);case "audio":return this.cU.call(this.sb(),m,g)}}bk(c){const h=kc(this),m=this.He(),g=this.m(),l=this.J.jb;switch(this.J.Kd()){case "behavior":h.tE(m,c);break;case "effect":h[m]+=c;break;case "instance-variable":h.j4(m,c);break;case "plugin":h.tE(m,c);break;case "world-instance":this.bI(g,c,l,this);break;case "audio":this.dU.call(this.sb(),g,c,l,this)}}zR(c){const h=kc(this),m=this.He(),g=this.m(),l=this.J.jb;switch(this.J.Kd()){case "behavior":h.ti(m,
c);break;case "effect":h[m]=c;break;case "instance-variable":h.wm(m,c);break;case "plugin":h.ti(m,c);break;case "world-instance":this.$H(g,c,l);break;case "audio":this.bU.call(this.sb(),g,c,l)}}Rq(c,h,m,g,l,n){this.hn.Rq(c,h,m,g,l,n)}bl(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.dl();this.bk((0===c?this.kJ?Math.round(g):this.BH?Math.round(100*(g+Number.EPSILON))/100:g:e.toFixed(g,c))-g,h,m)}fa(){return Object.assign(super.fa(),{v:this.Gb,a:this.vc,fod:this.cs,bod:this.bs})}ka(c){c&&
(super.ka(c),this.Gb=c.v,this.vc=c.a,this.cs=e.Mf(c.fod)?c.fod:0,this.bs=e.Mf(c.bod)?c.bod:0)}}e.Xa.ef.sN=d}
{"use strict";class e{constructor(b){this.RJ=!1;this.yc=0;this.Ra=b;for(let d=0,c=this.Ra.length;d<c;d++)this.Ra[d].J3(this)}MO(){this.RJ=!0}Fe(b){this.yc=b}yb(){return this.yc}bd(){this.RJ=!1;this.yc=0}}class a{constructor(b){this.ne=b}A(){this.ne=null}Lc(){const b=this.ne;this.ne.Hf();return jc(b,()=>ic(b,()=>0,()=>b.sb().MD()),()=>{})}Ee(){}Nj(){switch(this.ne.Hf().de()){case "relative":return!1;case "absolute":return!0}}Pp(){var b=this.ne.Hf(),d=b.ra.Tc;switch(b.de()){case "absolute":if(b.QD())b.vu.bd();
else{const c=b.mb(),h=b.za();b=b.sb();(d=c.ct(h,b,d))&&1<d.length&&new e(d)}}}Jn(b,d,c,h,m,g){var l=this.ne,n=this.ne.Hf();switch(n.de()){case "relative":n=l.Gb;l.bk(d-n,c,h);g&&this.Rq(b,c,h,m,n,d);l.zO(d);break;case "absolute":if(c=n.mb(),b=n.jb,n.za(),n.sb(),n.QD()){if(l=n.vu,h=lc(l.Ra,!0),c=c.xa(),c=mc(c,h))b=c.time-b.bf(),0===b?(l.MO(),l.Fe(l.yb()+d)):0>b||(n=n.Be(b),l.MO(),l.Fe(l.yb()+(d-n)))}else l.zR(d)}}Op(){const b=this.ne;var d=this.ne.Hf();switch(d.de()){case "absolute":d.QD()&&(d=d.vu,
d.RJ&&b.zR(d.yb()))}}Rq(b,d,c,h,m,g){const l=this.ne;h||(d&&b===d.xa()?l.bl(d.qc(),d,c):c&&b===c.xa()?l.bl(c.qc(),d,c):0===g-m&&l.bl(d.qc(),d,c))}}self.B.Xa.ef.L1=a}
{"use strict";class e{constructor(a){this.ne=a}A(){this.ne=null}Lc(){const a=this.ne;a.tr=!0;return this.Xy(a.Co())}Ee(){const a=this.ne;if(a.Co()!==a.Uy())return a.tr=!0,this.Xy(a.Uy())}Nj(){return!1}Pp(){}Jn(a,b,d,c,h,m){const g=this.ne,l=g.Gb;switch(g.Hf().de()){case "relative":g.bk(b-l,d,c);m&&this.Rq(a,d,c,h,l,b);break;case "absolute":g.tr?(g.tr=!1,g.bk(l,d,c)):(g.bk(b-l,d,c),m&&this.Rq(a,d,c,h,l,b))}g.zO(b)}Op(){}Xy(a){return a-this.ne.xe()}Rq(a,b,d,c,h,m){const g=this.ne;c?b&&a===b.xa()?g.bl(b.qc(),
b,d):d&&a===d.xa()?g.bl(d.qc(),b,d):d||g.bl(b.qc(),b,d):b&&a===b.xa()?g.bl(b.qc(),b,d):d&&a===d.xa()?g.bl(d.qc(),b,d):0===m-h&&g.bl(b.qc(),b,d)}}self.B.Xa.ef.M1=e}
{"use strict";const e=self.B,a=self.Hs;e.Xa.wt=class{constructor(){}static al(b,d,c,h){let m;switch(h){case "behavior":m=d.Jc(b);break;case "effect":m=d[b];break;case "instance-variable":m=d.Ae(b);break;case "plugin":m=d.Jc(b)}return m===c?!1:!0}static Aa(b,d,c,h){if(!c)return c=h.ra,c=h.Jd().Tn(c),c.qc();var m=h.di();"default"===m&&(m="continuous");"combo"===h.Nx()&&(m="discrete");if("discrete"===m)return d.qc();if("continuous"===m||"step"===m){"step"===m&&(m=h.mb().dt(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var g=d.xa();const l=c.xa();m=d.qc();const n=c.qc();if(m===n)return m;b=e.normalize(b,g,l);const p=d.hm();d=d.rD("cubic-bezier");c=c.rD("cubic-bezier");d&&d.Xv&&c&&c.Zz?(g=l-g,g=a.Un(p)(g*b,0,1,g),g=a.Un("cubicbezier")(g,m,m+d.wJ,n+c.wH,n)):g=a.Un(p)((l-g)*b,m,n-m,l-g);return"integer"===h.Nx()?Math.floor(g):g}}}}
{"use strict";const e=self.B;e.Xa.Sw=class{constructor(){}static al(a,b,d,c){let h;switch(c){case "behavior":h=b.Jc(a);break;case "effect":h=b[a];break;case "instance-variable":h=b.Ae(a);break;case "plugin":h=b.Jc(a)}return h===d?!1:!0}static Aa(a,b,d,c){if(!d)return b=c.ra,b=c.Jd().Tn(b),b.qc();var h=c.di();"default"===h&&(h="continuous");"combo"===c.Nx()&&(h="discrete");if("discrete"===h)return b.qc();if("continuous"===h||"step"===h){"step"===h&&(c=c.mb().dt(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.xa(),g=d.xa();c=b.qc();d=d.qc();if(h=b.rD("angle")){const l=h.jJ;if(c===d&&0===l)return c;a=e.normalize(a,m,g);b=self.Hs.Un(b.hm())(a,0,1,1);switch(h.pH){case "closest":return e.aK(c,d,b,l);case "clockwise":return e.Ada(c,d,b,l);case "anti-clockwise":return e.zda(c,d,b,l)}}else{if(c===d)return c;a=e.normalize(a,m,g);b=self.Hs.Un(b.hm());return e.aK(c,d,b(a,0,1,1))}}}}}"use strict";
self.B.Xa.Uw=class{constructor(){}static al(e,a,b,d){let c;switch(d){case "behavior":c=a.Jc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.Ae(e);break;case "plugin":c=a.Jc(e)}return!!c===!!b?!1:!0}static Aa(e,a,b,d){return b?a.qc()?1:0:(e=d.ra,e=d.Jd().Tn(e),e.qc()?1:0)}};
{"use strict";const e=self.B,a=[0,0,0],b=[0,0,0],d=[0,0,0];e.Xa.dx=class{constructor(){}static al(c,h,m,g){let l;switch(g){case "behavior":l=h.Jc(c);break;case "effect":l=h[c];break;case "instance-variable":l=h.Ae(c);break;case "plugin":l=h.Jc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(d.mV(m),a[0]=Math.floor(255*d.Sa),a[1]=Math.floor(255*d.Va),a[2]=Math.floor(255*d.Ua));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(d.mV(l),b[0]=Math.floor(255*d.Sa),b[1]=Math.floor(255*d.Va),b[2]=Math.floor(255*
d.Ua));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Aa(c,h,m,g){if(!m)return h=g.ra,h=g.Jd().Tn(h),h=h.qc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;var l=g.di();"default"===l&&(l="continuous");if("discrete"===l)return h=h.qc(),a[0]=h[0],a[1]=h[1],a[2]=h[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.mb().dt(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.xa();l=m.xa();var n=h.qc(),p=m.qc();const q=e.normalize(c,g,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.Hs.Un(h.hm());g=l-g;
l=g*q;a[0]=c===u?c:h(l,c,u-c,g);a[1]=m===w?m:h(l,m,w-m,g);a[2]=n===p?n:h(l,n,p-n,g);return a}}}}"use strict";self.B.Xa.Jy=class{constructor(){}static al(e,a,b,d){let c;switch(d){case "behavior":c=a.Jc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.Ae(e);break;case "plugin":c=a.Jc(e)}return c===b?!1:!0}static Aa(e,a,b,d){return b?a.qc():(e=d.ra,e=d.Jd().Tn(e),e.qc())}};
{"use strict";const e=self.B;e.xg=class{constructor(){this.ew=new Map}A(){for(const a of this.ew.values())a.A();this.ew.clear();this.ew=null}Ic(a){a=new e.g5(a);this.ew.set(a.wa(),a)}Y(a){return this.ew.get(a)}static Wt(a,b,d,c){if(b)for(const h of b)e.xg.yP("create",h,a,d,c)}static gu(a,b,d,c){a.length?b.forEach((h,m)=>{a[m].ka(h)}):b.forEach(h=>{e.xg.yP("load",h,a,d,c)})}static yP(a,b,d,c,h){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}else if("object"===
typeof c)switch(c=c.map.get(b[c.qV]),a){case "load":m=new c(null,h);break;case "create":m=new c(b,h)}switch(a){case "load":m.ka(b);d.push(m);break;case "create":"function"!==typeof m.Mk||m.Mk()?d.push(m):m.A()}}}}
{"use strict";const e=self.B;e.g5=class{constructor(a){this.Da="";this.ds=NaN;this.SB=0;this.Zf=this.Xf="default";this.sB=this.gB=!1;this.Sr=1;this.Re=null;a&&(this.Da=a[0],this.ds=a[1],this.SB=a[2],this.Xf=a[3],this.Zf=a[4],this.gB=!!a[6],this.sB=!!a[7],this.Sr=a[8],this.Re=new e.SO(a[5],this))}A(){this.Re.A();this.Re=null}gt(){this.Re||(this.Re=new e.SO(null,this));return this.Re}wa(){return this.Da}Gy(a){this.Da=a}kd(){return this.ds}dt(){return this.SB}di(){return this.Xf}de(){return this.Zf}Hx(){return this.gB}Lx(){return this.sB}og(){return this.Sr}fa(){return{trackDataJson:this.Re.fa(),
name:this.Da,totalTime:this.ds,step:this.SB,interpolationMode:this.Xf,resultMode:this.Zf,loop:this.gB,pingPong:this.sB,repeatCount:this.Sr}}ka(a){a&&(this.gt().ka(a.trackDataJson),this.Da=a.name,this.ds=a.totalTime,this.SB=a.step,this.Xf=a.interpolationMode,this.Zf=a.resultMode,this.gB=a.loop,this.sB=a.pingPong,this.Sr=a.repeatCount)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.Re=d;this.Cm=this.xA=null;this.Fl=this.tl=NaN;this.Zf=this.Xf="default";this.Hg=!1;this.lc=this.Dh=null;this.Me="";this.Jr=null;this.xJ=0;this.eB=this.Re.Hd.kd();this.ua=0;this.Da="";b&&(b[0]&&(this.xA=b[0],this.tl=b[0][2],this.Fl=b[0][1]),this.Xf=b[1],this.Zf=b[2],this.Hg=!!b[3],b[6]&&(this.Me=b[6]),b[7]&&(this.Jr=b[7],this.xJ=b[7][0],this.eB=b[7][1]),b[8]&&(this.Cm=b[8]),b[8]&&(this.Cm=b[8]),b[9]&&(this.ua=b[9]),b[10]&&(this.Da=b[10]),this.Dh=
new e.fN(b[4],this),this.lc=new e.LN(b[5],this))}A(){this.Re=this.xA=null;this.Dh&&(this.Dh.A(),this.Dh=null);this.lc&&(this.lc.A(),this.lc=null);this.Jr=null}gt(){return this.Re}zj(){this.Dh||(this.Dh=new e.fN(null,this));return this.Dh}Jd(){this.lc||(this.lc=new e.LN(null,this));return this.lc}HD(){return this.Fl}Ys(){return this.tl}di(){return this.Xf}de(){return this.Zf}Mk(){return this.Hg}Yk(b){this.Hg=!!b}xj(){return this.Me}bf(){return this.xJ}Ok(){return this.eB}Bj(){return this.Cm[0]}Aj(){this.Cm||
(this.Cm=[]);return this.Cm[1]}Ij(){return this.ua}wa(){return this.Da}fa(){return{keyframeDataJson:this.Dh.fa(),propertyTrackDataJson:this.lc.fa(),instanceData:this.xA,additionalInstanceData:this.Cm,instanceUid:this.tl,objectClassIndex:this.Fl,interpolationMode:this.Xf,resultMode:this.Zf,enabled:this.Hg,id:this.Me,nestedData:this.Jr,type:this.ua,name:this.Da}}ka(b){b&&(this.xA=b.instanceData,this.tl=b.instanceUid,this.Fl=b.objectClassIndex,this.Xf=b.interpolationMode,this.Zf=b.resultMode,this.Hg=
b.enabled,this.Me=b.id,this.ua=b.type?b.type:0,this.Da=b.name?b.name:"",this.eB=this.Re.Hd.kd(),b.nestedData&&(this.Jr=b.nestedData,this.xJ=this.Jr[0],this.eB=this.Jr[1]),b.additionalInstanceData&&(this.Cm=b.additionalInstanceData),this.zj().ka(b.keyframeDataJson),this.Jd().ka(b.propertyTrackDataJson))}}e.SO=class{constructor(b,d){this.Hd=d;this.Gp=[];e.xg.Wt(this.Gp,b,a,this)}A(){this.Hd=null;for(const b of this.Gp)b.A();e.D(this.Gp);this.Gp=null}VZ(b,d){d=d.zj().kc;const c=d.length;for(let h=0;h<
c;h++){const m=d[h];if(m.xa()===b)return m}}iM(b,d){d=d.zj().kc;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.xa()<=b)return h}}*JV(){for(const b of this.Gp)yield b}fa(){return{trackDataItemsJson:this.Gp.map(b=>b.fa())}}ka(b){b&&e.xg.gu(this.Gp,b.trackDataItemsJson,a,this)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.lc=d;this.KB="";this.ua=this.Tc=this.ag=null;this.JI=this.NI=NaN;this.Zf=this.Xf="default";this.Hg=!1;this.dj=null;this.Jz=!0;b&&(this.KB=b[0][0],this.ag=b[0].slice(1),this.Tc=b[1],this.ua=b[2],this.NI=b[3],this.JI=b[4],this.Xf=b[5],this.Zf=b[6],this.Hg=!!b[7],this.dj=new e.KN(b[8],this),this.Jz=b[9])}A(){this.dj.A();this.ag=this.lc=this.dj=null}Jd(){return this.lc}ng(){this.dj||(this.dj=new e.KN(null,this));return this.dj}Kd(){return this.KB}Ij(){return this.ua}KO(b){this.ua=
b}di(){return this.Xf}de(){return this.Zf}Mk(){return this.Hg}Yk(b){this.Hg=!!b}ZC(){return!!this.Jz}fa(){return{propertyKeyframeDataJson:this.dj.fa(),sourceAdapterId:this.KB,sourceAdapterArguments:this.ag,property:this.Tc,type:this.ua,min:this.NI,max:this.JI,interpolationMode:this.Xf,resultMode:this.Zf,enabled:this.Hg,canHavePropertyKeyframes:this.Jz}}ka(b){b&&(this.KB=b.sourceAdapterId,this.ag=b.sourceAdapterArguments,this.Tc=b.property,this.ua=b.type,this.NI=b.min,this.JI=b.max,this.Xf=b.interpolationMode,
this.Zf=b.resultMode,this.Hg=b.enabled,this.Jz=b.canHavePropertyKeyframes,this.ng().ka(b.propertyKeyframeDataJson))}}e.LN=class{constructor(b,d){this.Jb=d;this.up=[];e.xg.Wt(this.up,b,a,this)}A(){this.Jb=null;for(const b of this.up)b.A();e.D(this.up);this.up=null}Bx(b){return b.ng().Hb[0]}Tn(b){return b.ng().Hb.$d(-1)}m_(b,d){d=d.ng().Hb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.xa()===b)return m}}kM(b,d){d=d.ng().Hb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.xa()>=b)return m}}ci(b,
d){d=d.ng().Hb;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.xa()<=b)return h}}*rV(){for(const b of this.up)yield b}fa(){return{propertyTrackDataItemsJson:this.up.map(b=>b.fa())}}ka(b){b&&e.xg.gu(this.up,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.Dh=d;this.Zb=-1;this.Ri="noease";this.Si=!1;this.Bv=this.Sg=null;b&&(this.Zb=b[0],this.Ri=b[1],this.Si=!!b[2],this.Sg=(b=b[3])?b.split(" "):[],this.Bv=new Set(this.Sg.map(c=>c.toLowerCase())),this.Oe=null)}A(){this.Dh=null;e.D(this.Sg);this.Sg=null;this.Bv.clear();this.Bv=null}zj(){return this.Dh}Kt(b){this.Oe=b}xa(){return this.Zb}Hq(b){this.Zb=b;this.Dh.eu()}hm(){return this.Ri}Sj(b){this.Ri=b}Mk(){return this.Si}Yk(b){this.Si=!!b}IO(b){this.Sg=
b?b.split(" "):[];this.Bv=new Set(this.Sg.map(d=>d.toLowerCase()))}fa(){return{time:this.Zb,ease:this.Ri,enable:this.Si,tags:this.Sg}}ka(b){b&&(this.Zb=b.time,this.Ri=b.ease,this.Si=b.enable,this.Sg=b.tags,this.Bv=new Set(this.Sg.map(d=>d.toLowerCase())))}}e.fN=class{constructor(b,d){this.Jb=d;this.kc=[];e.xg.Wt(this.kc,b,a,this);this.eu()}A(){this.Jb=null;for(const b of this.kc)b.A();e.D(this.kc);this.kc=null}eu(){this.kc.sort((b,d)=>b.xa()-d.xa());for(let b=0;b<this.kc.length;b++)this.kc[b].Kt(this.kc[b+
1])}cW(){const b=new a(null,this);this.kc.push(b);this.eu();return b}EX(b){for(const d of this.kc){if(!b(d))continue;const c=this.kc.indexOf(d);-1!==c&&(d.A(),this.kc.splice(c,1))}this.W4();this.eu()}W4(){this.kc.sort((b,d)=>b.xa()-d.xa())}XZ(b){return this.kc.indexOf(b)}WZ(b){return this.kc[b]}fa(){return{keyframeDataItemsJson:this.kc.map(b=>b.fa())}}ka(b){b&&(e.xg.gu(this.kc,b.keyframeDataItemsJson,a,this),this.eu())}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.dj=d;this.oh=this.yc=null;this.ua="";this.Zb=NaN;this.Ri="noease";this.Si=!1;this.Ii=null;this.il=void 0;b&&(this.yc=b[0][0],this.oh=b[0][1],this.ua=b[0][2],this.Zb=b[1],this.Ri=b[2],this.Si=!!b[3],this.Ii=null,b[4]&&(this.Ii=new e.oW(b[4],this)),this.Oe=null)}A(){this.dj=null;this.Ii&&(this.Ii.A(),this.Ii=null)}Kt(b){this.Oe=b}yb(){return this.yc}Fe(b){"color"===this.ua&&e.Mf(b)?(this.yc[0]=e.KD(b),this.yc[1]=e.ED(b),this.yc[2]=e.tD(b)):
this.yc=b}gO(b){"color"===this.ua&&e.Mf(b)?(this.oh[0]=e.KD(b),this.oh[1]=e.ED(b),this.oh[2]=e.tD(b)):this.oh=b}qc(){const b=this.dj.ra.de();if("relative"===b)return this.yb();if("absolute"===b)return this.oh}Ij(){return this.ua}KO(b){this.ua=b}xa(){return this.Zb}Hq(b){this.Zb=b;this.dj.fu()}hm(){return this.Ri}Sj(b){this.Ri=b}Mk(){return this.Si}Yk(b){this.Si=!!b}rD(b){if(this.Ii){if(this.il||null===this.il)return this.il;var d=this.Ii.Io;if(!d)return this.il=null;var c=d.length;for(let h=0;h<c;h++){const m=
d[h];if(m.xj()===b)return this.il=m}return this.il=null}}fa(){const b=this.Ii;return{addonDataJson:b?b.fa():b,value:this.yc,aValue:this.oh,type:this.ua,time:this.Zb,ease:this.Ri,enable:this.Si}}ka(b){b&&(b.addonDataJson&&this.Ii.Boa(b.addonDataJson),this.yc=b.value,this.oh=b.aValue,this.ua=b.type,this.Zb=b.time,this.Ri=b.ease,this.Si=b.enable)}}e.KN=class{constructor(b,d){this.ra=d;this.Hb=[];e.xg.Wt(this.Hb,b,a,this);this.fu()}A(){this.ra=null;for(const b of this.Hb)b.A();e.D(this.Hb);this.Hb=null}fu(){this.Hb.sort((b,
d)=>b.xa()-d.xa());for(let b=0;b<this.Hb.length;b++)this.Hb[b].Kt(this.Hb[b+1])}fL(){const b=new a(null,this);this.Hb.push(b);this.fu();return b}KL(b){for(const d of this.Hb){if(!b(d))continue;const c=this.Hb.indexOf(d);-1!==c&&(d.A(),this.Hb.splice(c,1))}this.X4();this.fu()}X4(){this.Hb.sort((b,d)=>b.xa()-d.xa())}fa(){return{propertyKeyframeDataItemsJson:this.Hb.map(b=>b.fa())}}ka(b){b&&(e.xg.gu(this.Hb,b.propertyKeyframeDataItemsJson,a,this),this.fu())}}}
{"use strict";const e=self.B;class a{constructor(c,h){this.Ii=h;this.Me=c[0];this.ol=c[1]}A(){this.ol=this.Ii=null}xj(){return this.Me}fa(){return{id:this.Me,data:this.ol}}ka(c){c&&(this.Me=c.id,this.ol=c.data)}}class b extends a{constructor(c,h){super(c,h);this.wJ=this.ol[0];this.Xv=!!this.ol[1];this.wH=this.ol[2];this.Zz=!!this.ol[3]}A(){super.A()}fa(){return Object.assign(super.fa(),{startAnchor:this.wJ,startEnable:!!this.Xv,endAnchor:this.wH,endEnable:!!this.Zz})}ka(c){c&&(super.ka(c),this.wJ=
c.startAnchor,this.Xv=!!c.startEnable,this.wH=c.endAnchor,this.Zz=!!c.endEnable)}}class d extends a{constructor(c,h){super(c,h);this.pH=this.ol[0];this.jJ=this.ol[1]}A(){super.A()}fa(){return Object.assign(super.fa(),{direction:this.pH,revolutions:this.jJ})}ka(c){c&&(super.ka(c),this.pH=c.direction,this.jJ=c.revolutions)}}e.oW=class{constructor(c){this.Io=[];e.xg.Wt(this.Io,c,{qV:0,map:new Map([["cubic-bezier",b],["angle",d]])},this)}A(){for(const c of this.Io)c.A();e.D(this.Io);this.Io=null}fa(){return{addonDataItemsJson:this.Io.map(c=>
c.fa())}}ka(c){c&&e.xg.gu(this.Io,c.addonDataItemsJson,{qV:"id",map:new Map([["cubic-bezier",b],["angle",d]])},this)}}}
{"use strict";const e=self.B;let a=0;e.n5=class extends e.yo{constructor(b,d){super(`tween-${a++}`,b,d);this.Me="";this.fS=!1;this.WH="start-value";this.jb=this.DT=this.CT=this.jc=null}FL(){for(const b of this.Hd.gt().JV())this.gb.push(e.XO.La(this,b));this.jb=this.gb[0]}Hf(){return this.jb.Ra[0]}za(){var b=this.gb;if(b&&b.length&&(this.jb=b=b[0])){var d=b.za();return b.nm()?d:void 0}}xj(){return this.Me}yN(){if(this.DT)for(const b of this.DT)b(this);if(!this.Tf)for(const b of this.gb)b.Zh()}uE(){this.cr=
this.g.tk}UL(){if(!this.Wo&&(this.Wo=!0,this.CT))for(const b of this.CT)b(this)}Hq(b){this.CP();super.Hq(b)}hl(b){e.Mf(b)||(b=this.kd());this.Mb=0>b?0:b>=this.kd()?this.kd():b;this.jb.vi()}Lc(b){if(!this.Nm&&"current-state"===this.WH)for(const d of this.gb)d.Yh();super.Lc(b)}hf(b=!1){super.hf(b);if(!this.Tf)for(const d of this.gb)d.ro()}bd(b=!0,d=!1){this.CP();super.bd(b,d)}CP(){for(const b of this.gb){const d=c=>{c=c.xa();const h=this.kd();return 0!==c&&c!==h};b.FX(d);b.kx(d)}}lu(){if(this.Qg)return!0;
const b=this.za();if(b&&b.H().Nf())return!1;this.Cb.tL(this);this.$N();return!0}jf(b,d,c){this.jc||(this.jc=this.za());if(this.jc&&!this.jc.mt()&&(d=this.jc.Yd,-1!==d&&(b=c*d),0!==b||0!==this.VA)){this.VA=b;c=this.Mb+b*this.Sc;b=this.Hd.ds;this.Mb=0>c?0:c>=b?b:c;d=c=!1;var h=this.Hx(),m=this.Lx();h||m?h&&!m?0<this.Sc?this.Mb>=b&&(this.hl(0),d=!0):0>=this.Mb&&(this.hl(b),d=!0):!h&&m?0<this.Sc?this.Mb>=b&&(this.Pd(b),this.Tj(-1*this.Sc),d=!0,1===this.Ed?this.Bd<this.og()?(this.Bd++,this.Ed=0):c=!0:
0===this.Ed&&(this.Ed=1)):0>=this.Mb&&(this.Pd(0),this.Tj(-1*this.Sc),d=!0,1===this.Ed?this.Bd<this.og()?(this.Bd++,this.Ed=0):c=!0:0===this.Ed&&(this.Ed=1)):h&&m&&(0<this.Sc?this.Mb>=b&&(this.Pd(b),this.Tj(-1*this.Sc),d=!0):0>=this.Mb&&(this.Pd(0),this.Tj(-1*this.Sc),d=!0)):0<this.Sc?this.Mb>=b&&(this.Bd<this.og()?(this.Bd++,this.hl(0),d=!0):(this.Pd(b),c=!0)):0>=this.Mb&&(this.Bd<this.og()?(this.Bd++,this.hl(b),d=!0):(this.Pd(0),c=!0));c?(this.jb.pO(),this.hf(!0),this.uE()):(this.jb.Aa(this.Mb,
!0,!1,d,this.Le,!1),this.Le&&(this.Le=!1))}}fa(){const b=super.fa();return Object.assign(b,{tweenDataItemJson:this.Hd.fa(),id:this.Me,destroyInstanceOnComplete:this.fS,initialValueMode:this.WH})}ka(b){b&&(this.Hd.ka(b.tweenDataItemJson),super.ka(b),this.Me=b.id,this.fS=b.destroyInstanceOnComplete,this.WH=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const e=self.B;e.XO=class extends e.nF{constructor(a,b){super(a,b);this.nJ=this.Uu=null}static La(a,b){return e.j(e.XO,a,b)}qP(){1===this.Ra.length?this.Uu=this.Ra[0]:(this.Uu=this.Ra[0],this.nJ=this.Ra[1])}DL(){for(const a of this.Jb.Jd().rV())this.Ra.push(e.WO.La(this,a));this.qP()}Hn(){}Aa(a,b,d=!1,c=!1,h,m=!1){this.jc||this.za();if(this.jc){if(this.jc.mt()||m&&this.H().Nf())return!1;this.nJ?(this.Uu.Aa(a,d,c),this.nJ.Aa(a,d,c)):this.Uu.Aa(a,d,c);0!==this.Uu.Ak&&(this.Pa||(this.Pa=
this.jc.m()),this.Pa&&this.Pa.Ya())}}Fn(){}ka(a){super.ka(a);this.qP()}}}
{"use strict";const e=self.B;e.WO=class extends e.Xa{constructor(a,b){super(a,b);this.Cu=!1}static La(a,b){return e.j(e.WO,a,b)}Aa(a,b=!1,d=!1){if(this.Cu){var c=this.Hb[0];var h=this.Hb[1]}else{if(b)c=this.lc.ci(a,this.ra);else{if(this.Dc){h=this.mb();const m=this.Dc.Oe;c=this.Dc.xa();h=m?m.xa():h.kd();if(a<=c||a>=h)this.Dc=this.lc.ci(a,this.ra)}else this.Dc=this.lc.ci(a,this.ra);c=this.Dc}h=c.Oe}this.qe.Aa(a,c,h,b,d)}gL(){const a=this.ra.ng().fL();this.Dc=null;this.Cu=2>=this.Mx().length;return a}kx(a){this.Dc=
null;this.ra.ng().KL(a);this.Cu=2>=this.Mx().length}fa(){return{sourceAdapterJson:this.sb().fa(),basic:this.Cu}}ka(a){a&&(this.sb().ka(a.sourceAdapterJson),this.Cu=a.basic)}}}
{"use strict";const e=self.B,a=self.Hs;e.UO=class extends e.ea{constructor(b){super();this.Da=b[0];this.bg=[];for(var d of b[1])b=e.VO.La(this,d),this.bg.push(b);for(d=0;d<this.bg.length;d++)this.bg[d].Kt(this.bg[d+1]);this.Mv=new Map;this.qU=new Map;this.m$();a.aW(this.Da,(c,h,m,g)=>this.Aa(c,h,m,g))}static La(b){return e.j(e.UO,b)}A(){for(const b of this.bg)b.A();e.D(this.bg);this.bg=null;this.Mv.clear();this.Mv=null;this.qU.clear();this.qU=null}JZ(b){for(let d=this.bg.length-1;0<=d;d--){const c=
this.bg[d];if(c.dg<b)return c}}IZ(b){for(let d=this.bg.length-1;0<=d;d--){const c=this.bg[d];if(c.dg<=b)return c}}Aa(b,d,c,h){var m=b/h;b=this.IZ(m);h=b.Oe;h||(b=this.JZ(m),h=b.Oe);m=e.Bea(m,b.dg,h.dg,h.dg-b.dg);const g=b.dg,l=b.lw,n=b.dg+b.hU,p=b.lw+b.lda,q=h.dg+h.kS,u=h.lw+h.sca,w=h.dg;h=h.lw;h=a.Un("spline")(m,g,l,n,p,q,u,w,h,this.Mv.get(b));h+=b.lw;return(1-h)*d+h*(d+c)}m$(){this.Mv.clear();for(let d=0;d<this.bg.length-1;d++){var b=this.bg[d];if(!b.Xv)continue;const c=this.bg[d+1];this.Mv.set(b,
a.lZ(b.dg,b.dg+b.hU,c.dg+c.kS,c.dg))}}}}{"use strict";const e=self.B;e.VO=class extends e.ea{constructor(a,b){super();this.dg=b[0];this.lw=b[1];this.hU=b[2];this.lda=b[3];this.kS=b[4];this.sca=b[5];this.Xv=b[6];this.Zz=b[7];this.Oe=null}A(){}static La(a,b){return e.j(e.VO,a,b)}Kt(a){this.Oe=a}}}{"use strict";const e=self.B;e.l5=class extends e.ea{constructor(a){super();this.g=a;this.WB=[]}A(){for(const a of this.WB)a.A();e.D(this.WB);this.WB=null}La(a){this.WB.push(e.UO.La(a))}}}
{"use strict";const e=self.B;e.V4=class extends e.ea{constructor(a){super();this.K=a;this.hb=[];this.hb.push(e.j(e.dF,this));this.Ka=0;this.Pi=this.hb[0]}A(){for(const a of this.hb)a.A();e.D(this.hb);this.K=this.Pi=null}H(){return this.K}T(){return this.Pi}od(){this.T().od()}S2(){var a=this.hb,b=++this.Ka;b===a.length?(b=e.j(e.dF,this),a.push(b),this.Pi=b):(a=a[b],a.bd(),this.Pi=a)}T2(){const a=this.hb,b=++this.Ka;b===a.length&&a.push(e.j(e.dF,this));const d=a[b];d.kX(a[b-1]);this.Pi=d}Ia(){this.Pi=
this.hb[--this.Ka]}po(a){const b=this.hb;for(let d=0,c=b.length;d<c;++d)b[d].po(a)}}}
{"use strict";const e=self.B;e.dF=class extends e.ea{constructor(a){super();this.hb=a;this.K=this.hb.H();this.Cd=this.K.G().$c();this.Qb=!0;this.F=[];this.Xb=[]}A(){this.ax();this.Cd=this.K=this.hb=null}ax(){e.D(this.F);e.D(this.Xb)}H(){return this.K}SD(){return this.Qb?!!this.K.F.length:!!this.F.length}ja(){return this.Qb?this.K.ja():this.F}D_(){return!!this.Xb.length}hM(){const a=this.ja();return a.length?a:this.Xb}bd(){this.Qb=!0;e.D(this.Xb)}od(){this.Qb=!0}kX(a){a.Qb?this.bd():(this.Qb=!1,e.Hc(this.F,
a.F),e.D(this.Xb))}Eo(a){this.F.push(a)}fl(a){this.Xb.push(a)}fe(a){this.Qb=!!a}Uj(a){this.Qb=!1;e.D(this.F);this.F.push(a)}Et(a){this.Qb=!1;e.Hc(this.F,a)}Nt(a){this.Qb=!1;e.D(this.F);for(const b of a)this.F.push(b)}eL(a,b){for(const d of b)a.has(d)||this.Xb.push(d)}j5(a){for(const b of a)this.F.push(b);e.gg(this.Xb,a)}rm(a){a&&(this.Cd.Ye().Db().Dd?(this.Qb&&(e.D(this.F),e.Hc(this.Xb,a.H().ja()),this.Qb=!1),a=this.Xb.indexOf(a),-1!==a&&(this.F.push(this.Xb[a]),this.Xb.splice(a,1))):this.Uj(a))}po(a){e.gg(this.F,
a);e.gg(this.Xb,a)}}}
{"use strict";const e=self.B;e.VY=class extends e.ea{constructor(a){super();this.ta=a;this.g=this.ta.G();this.hb=[];this.hb.push(e.j(e.QL,this,null));this.Ka=0;this.aA=[]}A(){for(const a of this.hb)a.A();e.D(this.hb);e.D(this.aA);this.g=this.ta=null}ga(){return this.ta}G(){return this.g}Ye(){return this.hb[this.Ka]}Na(a){var b=this.hb;const d=++this.Ka;if(d===b.length)return a=e.j(e.QL,this,a),b.push(a),a;b=b[d];b.bd(a);return b}Ia(){--this.Ka}U2(a){this.aA.push(a)}J2(){this.aA.pop()}sZ(){const a=this.aA;
return 0===a.length?null:a.$d(-1)}}}
{"use strict";const e=self.B;e.QL=class extends e.ea{constructor(a,b){super();this.hb=a;this.g=this.hb.G();this.Mu=b;this.Rf=this.ml=0;this.vH=this.lp=!1;this.AH=null;this.IH=this.wS=0}A(){this.bd(null);this.g=this.hb=null}bd(a){this.Mu=a;this.Rf=this.ml=0;this.vH=this.lp=!1}hG(a,b){this.Mu=a;this.ml=0;this.Rf=b}aO(){this.Rf=this.ml=0}Db(){return this.Mu}tg(a){this.Mu=a}vm(a){this.ml=a}yy(a){this.Rf=a}xm(a){this.lp=!!a}zq(a){this.vH=!!a}Z3(a){this.AH=a}j0(a,b){this.wS=a;this.IH=b}Ey(a){this.IH=a}Lj(){const a=
this.Mu;return a.PA?!0:this.ml<a.Wb.length-1?!!a.pd().length:!1}}}{"use strict";const e=self.B;e.y1=class extends e.ea{constructor(a){super();this.ta=a;this.g=this.ta.G();this.hb=[];this.Ka=-1;this.Pi=null;this.vA=[]}A(){e.D(this.hb);this.g=this.ta=null}Saa(a){this.vA=a;a=this.vA.slice(0);this.hb.push(a);this.Ka=0;this.Pi=a}ga(){return this.ta}G(){return this.g}Wp(){return this.Pi}Na(){const a=++this.Ka,b=this.hb;a===b.length?b.push(this.vA.slice(0)):e.Hc(b[a],this.vA);this.Pi=b[a]}Ia(){this.Pi=this.hb[--this.Ka]}}}
{"use strict";const e=self.B;e.A1=class extends e.ea{constructor(a){super();this.ta=a;this.g=this.ta.G();this.hb=[];this.Ka=-1}A(){e.D(this.hb);this.g=this.ta=null}ga(){return this.ta}G(){return this.g}ZM(){return 0<=this.Ka}Wp(){return this.hb[this.Ka]}Na(){++this.Ka;if(this.Ka===this.hb.length){var a=e.j(e.z1,this);this.hb.push(a);return a}a=this.hb[this.Ka];a.bd();return a}Ia(){--this.Ka}$Y(a){const b=this.hb;for(let d=this.Ka;0<=d;--d){const c=b[d];if(c.wa()===a)return c}return null}}}
{"use strict";const e=self.B;e.z1=class extends e.ea{constructor(a){super();this.uf=a;this.Da="";this.Ka=0;this.sc=!1}bd(){this.Da="";this.Ka=0;this.sc=!1}Gy(a){this.Da=a}wa(){return this.Da}zc(a){this.Ka=a}Ea(){return this.Ka}hf(){this.sc=!0}}}{"use strict";const e=self.B;e.wW=class extends e.ea{constructor(){super();this.hb=[];this.Ka=-1}A(){e.D(this.hb)}Wp(){return this.hb[this.Ka]}Na(){++this.Ka;if(this.Ka===this.hb.length){const a=[];this.hb.push(a);return a}return this.hb[this.Ka]}Ia(){--this.Ka}}}
{"use strict";const e=self.B;function a(b,d){return b.Ea()-d.Ea()}e.UY=class extends e.ea{constructor(b){super();this.g=b;this.wu=[];this.oJ=new Map;this.MG=[];this.AS=new Map;this.bH=new Map;this.iH=new Map;this.uz=new Map;this.OR=new Map;this.yH=new Map;this.Zca=0;this.LG=[];this.Rba=[];this.rT=[];this.GH=new Map;this.Cd=e.j(e.VY,this);this.ld=e.j(e.y1,this);this.uf=e.j(e.A1,this);this.GJ=[];this.zB=[];this.yB=[];this.aH=this.ql=this.Ml=0;this.$f=[];this.Bz=[];self.c3_callFunction=(d,c)=>this.bz(d,
c)}A(){this.$w();this.Cd.A();this.Cd=null;this.ld.A();this.ld=null;e.D(this.zB);e.D(this.yB);this.g=null;e.D(this.wu);this.oJ.clear()}La(b){b=e.j(e.TY,this,b);this.wu.push(b);this.oJ.set(b.wa().toLowerCase(),b)}X5(b){this.GJ.push(b)}Lb(){for(const b of this.GH.values())b.Lb(!1);for(const b of this.wu)b.Lb();for(const b of this.wu)b.yG();for(const b of this.GJ)b.Lb(!1);e.D(this.GJ);this.ld.Saa(this.rT)}G(){return this.g}gM(b){return this.oJ.get(b.toLowerCase())||null}z$(b){this.MG.push(b);this.AS.set(b.zS,
b)}w$(b){this.bH.set(b.fb,b)}v$(b){this.iH.set(b.fb,b)}u$(b){this.uz.set(b.fb,b)}y$(b){this.GH.set(b.lA.toLowerCase(),b)}x$(b){this.yH.set(b.fb,b);b.Nf()?this.LG.push(b):this.Rba.push(b)}Vy(b){2<=b.length&&b.sort(a);let d=this.OR.get(b.length);d||(d=[],this.OR.set(b.length,d));for(let h=0,m=d.length;h<m;++h){const g=d[h];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}d.push(b);return b}g8(b){this.rT.push(b.bp);return this.Zca++}$c(){return this.Cd}Xe(){return this.$c().Ye()}Db(){return this.Xe().Db()}Ff(){const b=
this.Xe();return b.Db().bM(b.ml)}Ts(){const b=this.Xe();return b.Db().YL(b.Rf)}iZ(b){const d=[];for(b=b.cq();b;)e.vn(d,b.UP()),b=b.cq();return d}eQ(b){const d={};for(const c of this.iZ(b))d[c.ei()]=c.iQ();return Object.create(Object.prototype,d)}BD(b){return this.yH.get(b)||null}xZ(b){return this.bH.get(b)||null}gZ(b){return this.uz.get(b)||null}Dx(b){return this.GH.get(b.toLowerCase())||null}q3(){for(const b of this.LG)b.w3()}fM(b){return this.AS.get(b.toLowerCase())||null}yZ(b){return(b=this.bH.get(b))&&
b.Zi?b:null}r3(){for(const b of this.MG)b.t3()}bR(){for(const b of this.wu)b.O$()}B3(b){this.bR();this.Ml++;for(const d of b.Mw())if(b=d.Rc)this.g.zt(d),b.qa(),this.g.yt();this.Ml--}async zX(b){this.bR();this.Ml++;for(const d of this.U6(b))await this.g.Tp(d);this.Ml--}*U6(b){for(const d of b.Mw())if(b=d.Rc)this.g.zt(d),yield*b.ib(),this.g.yt()}tu(b,d,c,h){let m=!1;if(!b.Nb())return this.AE(d,c,h);this.ql++;for(const g of b.Mw())if(b=g.Rc){this.g.zt(g);for(const l of b.Sz){const n=l.tu(d,c,h);m=m||
n}b=b.tu(d,c,h);m=m||b;this.g.yt()}this.ql--;return m}*Yt(b,d,c,h){let m=!1;if(!b.Nb())return this.AE(d,c,h);this.ql++;for(const g of b.Mw())if(b=g.Rc){this.g.zt(g);for(const l of b.Sz){const n=yield*l.Yt(d,c,h);m=m||n}b=yield*b.Yt(d,c,h);m=m||b;this.g.yt()}this.ql--;return m}AE(b,d,c){this.zB.push([b,d,c]);return!1}X2(b,d,c){let h=null;const m=new Promise(g=>h=g);this.yB.push([b,d,c,h]);return m}*Y$(){if(this.g.kt())throw Error("should not be in breakpoint");const b=this.g.Za;for(;this.yB.length;){const [d,
c,h,m]=this.yB.shift(),g=yield*this.Yt(b,d,c,h);m(g)}}async cO(){for(const b of this.Y$())await this.g.Tp(b)}jE(){return 0<this.ql}cu(){return++this.ql}Zt(){--this.ql}c1(){return 0<this.Ml}pt(){return this.c1()||this.jE()}Z$(b){for(const [d,c,h]of this.zB)this.tu(b,d,c,h);e.D(this.zB)}te(b){b?this.aH++:this.aH--}YM(){return 0<this.aH}Sp(b){for(let d=0,c=b.length;d<c;++d)b[d].an.od()}rg(b){for(let d=0,c=b.length;d<c;++d)b[d].an.S2()}De(b){for(let d=0,c=b.length;d<c;++d)b[d].an.T2()}Kb(b){for(let d=
0,c=b.length;d<c;++d)b[d].an.Ia()}QC(){const b=e.j(e.LE,this);this.$f.push(b);return b}D3(){if(this.$f.length){var b=this.Xe(),d=!1;this.Ml++;for(let c=0,h=this.$f.length;c<h;++c){const m=this.$f[c];m.AR()&&m.Q$(b);m.Sv&&(d=!0)}d&&this.QP();this.Ml--}}async BX(){if(this.$f.length){var b=this.Xe(),d=!1;this.Ml++;for(let c=0,h=this.$f.length;c<h;++c){const m=this.$f[c];m.AR()&&await m.O6(b);m.Sv&&(d=!0)}d&&this.QP();this.Ml--}}QP(){const b=e.Cda(this.$f,d=>d.Sv);for(const d of b)d.A()}$w(){for(const b of this.$f)b.A();
e.D(this.$f)}h3(b){for(const d of this.$f)d.po(b)}NC(b){this.Bz.push(b)}bx(){e.D(this.Bz)}l_(){const b=Promise.all(this.Bz);this.Bz=[];return b}fa(){return{groups:this.faa(),cnds:this.eaa(),acts:this.daa(),vars:this.raa(),waits:this.naa()}}ka(b){this.b9(b.groups);this.W8(b.cnds);this.V8(b.acts);this.o9(b.vars);this.k9(b.waits)}faa(){const b={};for(const d of this.MG)b[d.fb.toString()]=d.ot();return b}b9(b){for(const [d,c]of Object.entries(b))(b=this.yZ(parseInt(d,10)))&&b.Aq(c)}eaa(){const b={};for(const [d,
c]of this.iH){const h=c.fa();h&&(b[d.toString()]=h)}return b}W8(b){const d=new Map;for(const [c,h]of Object.entries(b))d.set(parseInt(c,10),h);for(const [c,h]of this.iH)h.ka(d.get(c)||null)}daa(){const b={};for(const [d,c]of this.uz){const h=c.fa();h&&(b[d.toString()]=h)}return b}V8(b){const d=new Map;for(const [c,h]of Object.entries(b))d.set(parseInt(c,10),h);for(const [c,h]of this.uz)h.ka(d.get(c)||null)}raa(){const b={};for(const [d,c]of this.yH)c.ob||!c.Nf()&&!c.Ch||(b[d.toString()]=c.yb());return b}o9(b){for(const [d,
c]of Object.entries(b))(b=this.BD(parseInt(d,10)))&&b.Fe(c)}naa(){return this.$f.filter(b=>!b.a1()).map(b=>b.fa())}k9(b){this.$w();for(const d of b)(b=e.LE.t6(this,d))&&this.$f.push(b)}pD(b){for(;b;)if(b=b.cq(),b instanceof e.Ms)return b;return null}bz(b,d){Array.isArray(d)||(d=[]);b=this.Dx(b.toLowerCase());if(!b)return null;if(!b.fo())return b.Vs();var c=b.Jg;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].bp);while(d.length<c.length)}c=b.ye();return c.IE(c.qd(),b.Kl,b.Vs(),...d)}}}
{"use strict";const e=self.B;e.TY=class extends e.ea{constructor(a,b){super();this.ta=a;this.g=a.G();this.Da=b[0];this.$z=[];this.YB=new Map;this.qS=new Map;this.tca=new Map;this.$u=!1;this.XT=[];this.Sz=[];this.PR=new Set;for(const d of b[1])this.zP(d,null,this.$z);this.cj=this.g.pb?{type:"sheet",name:this.Da,Nw:0,children:[]}:null}A(){this.g=this.ta=null}zP(a,b,d){switch(a[0]){case 0:case 3:this.r6(a,b,d);break;case 1:this.s6(a,b,d);break;case 2:this.w6(a,b,d);break;case 4:this.u6(a,b);break;case 5:this.B6(a,
b,d);break;default:throw Error("invalid event type");}}r6(a,b,d){a=e.Hk.La(this,b,a);if(a.Dd){d.push(a);d=a.Wb;for(let c=0,h=d.length;c<h;++c)d[c].io()&&this.tQ(a,c)}else a.io()?this.tQ(a,0):d.push(a)}u6(a,b){a=e.Ms.La(this,b,a);this.ta.y$(a)}s6(a,b,d){a=e.ox.La(this,b,a);d.push(a)}w6(a,b,d){a=e.PL.La(this,b,a);d.push(a)}B6(a,b,d){a=e.nx.La(this,b,a);d.push(a)}tQ(a,b){a.Dd||this.ta.X5(a);var d=a.bM(b),c=d.Fa,h=d.H();if(d.XS){var m=this.qS.get(h);m||(m=new Map,this.qS.set(h,m));d=d.DZ().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(d);c||(c=[],h.set(d,c));c.push([a,b])}else m=this.YB.get(h),m||(m={EK:new Map,rw:new Map},this.YB.set(h,m)),(h=d.lg())?(d=m.rw.get(h),d||(d=new Map,m.rw.set(h,d))):d=m.EK,m=d.get(c),m||(m=[],d.set(c,m)),m.push([a,b])}Lb(){const a=this.$z;for(let b=0,d=a.length;b<d;++b)a[b].Lb(b<d-1&&a[b+1]instanceof e.Hk&&a[b+1].dy())}W5(a){this.XT.push(a)}yG(){e.D(this.Sz);this.hP(this);this.PR.clear()}hP(a){const b=a.Sz,d=a.PR;for(const c of this.XT){const h=c.gv;c.Fb&&
a!==h&&!d.has(h)&&(d.add(h),h.hP(a),b.push(h))}}ga(){return this.ta}G(){return this.g}wa(){return this.Da}WQ(a,b){this.tca.set(b,a)}O$(){this.$u=!1}qa(){if(!this.$u){var a=this.g,b=a.cE(),d=b?performance.now():0;this.$u=!0;var c=this.ga(),h=c.Xe();for(const m of this.$z)m.qa(h),c.Sp(m.pd()),c.bx(),a.wd();h.bd(null);b&&(this.cj.Nw+=performance.now()-d)}}*ib(){if(!this.$u){this.$u=!0;var a=this.g,b=this.ga(),d=b.Xe();for(const c of this.$z)yield*c.ib(d),b.Sp(c.pd()),b.bx(),a.wd();d.bd(null)}}tu(a,b,
d){if(b){const c=b.H();this.wG(a,b,c,d);for(const h of c.wh)this.wG(a,b,h,d)}else return this.wG(a,b,null,null)}wG(a,b,d,c){d=this.YB.get(d);if(!d)return!1;c=c?d.rw.get(c):d.EK;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [h,m]of c)c=this.PP(b,h,m),a=a||c;return a}*Yt(a,b,d){if(b){const c=b.H();yield*this.DF(a,b,c,d);for(const h of c.wh)yield*this.DF(a,b,h,d)}else return yield*this.DF(a,b,null,null)}*DF(a,b,d,c){d=this.YB.get(d);if(!d)return!1;c=c?d.rw.get(c):d.EK;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [h,m]of c)c=h.ue()?this.PP(b,h,m):yield*this.I6(b,h,m),a=a||c;return a}PP(a,b,d){const c=this.g,h=this.ta,m=h.Db(),g=h.$c(),l=h.ql;let n=!1;m&&h.rg(m.qd());h.rg(b.qd());const p=1<l;p&&h.ld.Na();const q=g.Na(b);a&&(b.Wb[d].H().T().Uj(a),a.Tb()&&a.yi());a=!0;if(b.Ba()){const u=b.Hp;for(let w=0,r=u.length;w<r;++w)if(!u[w].bO(q)){a=!1;break}}a&&(c.Tk(),b.Dd?b.C3(q,d):b.qa(q),n=q.lp);g.Ia();p&&h.ld.Ia();h.Kb(b.qd());m&&h.Kb(m.qd());m||1!==l||(h.bx(),h.YM()||c.wd());return n}*I6(a,
b,d){const c=this.g,h=this.ta,m=h.Db(),g=h.$c(),l=h.ql;let n=!1;m&&h.rg(m.qd());h.rg(b.qd());const p=1<l;p&&h.ld.Na();const q=g.Na(b);a&&(b.Wb[d].H().T().Uj(a),a.Tb()&&a.yi());a=!0;if(b.Ba()){const u=b.Hp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].HL(q))){a=!1;break}}a&&(c.Tk(),b.Dd?yield*b.AX(q,d):yield*b.ib(q),n=q.lp);g.Ia();p&&h.ld.Ia();h.Kb(b.qd());m&&h.Kb(m.qd());m||1!==l||(h.bx(),h.YM()||c.wd());return n}}}
{"use strict";const e=self.B,a=[];function b(){return!0}function*d(){return!0}e.Hk=class extends e.ea{constructor(c,h,m){super();this.Rc=c;this.g=c.G();this.wc=h;this.Wd=null;this.Cd=this.g.ga().$c();this.Pe=[];this.Ur=[];this.Xu=this.RA=this.PA=this.FS=!1;this.Dd=!!m[2];this.EA=!1;this.Hp=null;this.Wb=[];this.Ob=[];this.Nh=[];this.Hi=b;this.Bo=d;this.jI=this.Zi=!1;this.zS="";this.GA=!1;this.cj=this.Qz=null;this.fb=m[4];this.jr=m[5];this.Rc.WQ(this,this.jr);this.Oa=this.g.pb?{Yc:m[3][0],yK:m[3][1],
KU:!1,fK:!1,gK:!1,LU:!1}:null;this.ga().w$(this);3===m[0]&&this.C8(m[1]);c=0;for(var g of m[6])h=e.uL.La(this,g,c++),this.Wb.push(h),this.mP(h.H());c=0;for(const l of m[7])g=e.Rw.La(this,l,c++),this.Ob.push(g);if(9===m.length){m=m[8];for(const l of m)this.Rc.zP(l,this,this.Nh)}this.Wb.length&&(this.EA=null===this.Wb[0].H()&&this.Wb[0].Fa===e.C.Qa.L.OL);0===this.Wb.length&&(this.Wb=a);0===this.Ob.length&&(this.Ob=a);0===this.Nh.length&&(this.Nh=a)}static La(c,h,m){return e.j(e.Hk,c,h,m)}C8(c){this.Zi=
!0;this.GA=this.jI=!!c[0];this.zS=c[1].toLowerCase();this.Qz=[];this.ga().z$(this);this.g.pb&&(this.cj={type:"group",name:c[1],Nw:0,children:[]})}O5(c){this.Qz.push(c)}gP(c,h){for(const m of c.Fg.Hl)h.includes(m)||h.push(m)}nP(c,h){if(c)if(h.includes(c)||h.push(c),c.Wa)for(const m of c.Vo)m.Tb()&&this.gP(m,h);else c.Tb()&&this.gP(c,h)}mP(c){this.nP(c,this.Pe)}S5(c){this.nP(c,this.Ur)}K3(){this.Pe=this.g.Mc}Lb(c){this.Xu=!!c;this.v8();this.w8();for(const m of this.Wb)m.Lb();if(0<this.Ob.length){c=
!1;for(var h of this.Ob)h.Lb(),h.M_()&&(c=!0);c?(this.Hi=this.S$,this.Bo=this.Q6):(this.Hi=this.R$,this.Bo=this.P6)}h=this.Nh;for(let m=0,g=h.length;m<g;++m)h[m].Lb(m<g-1&&h[m+1]instanceof e.Hk&&h[m+1].dy());this.Oa&&this.zba();this.cj&&this.i8().cj.children.push(this.cj)}i8(){let c=this.Ba();for(;c;){if(c.Zi)return c;c=c.Ba()}return this.Rc}zba(){const c=this.Oa;c.KU=this.Wb.every(h=>h.ue());c.fK=this.Ob.every(h=>h.ue());c.gK=this.Nh.every(h=>h.ue());c.LU=c.KU&&c.fK&&c.gK}v8(){if(this.Zi){var c=
this.Ba();for(this.RA=!0;c;){if(!c.Zi){this.RA=!1;break}c=c.Ba()}}}u8(){var c=this.g.Mc;if(this.Pe===c)this.Ur=c;else{this.Ur=e.jK(this.Pe);for(c=this.Ba();c;){for(var h of c.Pe)this.S5(h);c=c.Ba()}h=this.ga();this.Pe=h.Vy(this.Pe);this.Ur=h.Vy(this.Ur)}}w8(){if(this.E_()){this.Hp=[];for(var c=this.Ba();c;)this.Hp.push(c),c=c.Ba();this.Hp.reverse()}}Ot(){this.PA=!0;this.wc&&this.wc.Ot()}pd(){return this.Pe}qd(){this.FS||(this.FS=!0,this.u8());return this.Ur}O_(c){return this.Pe.includes(c)}ga(){return this.Rc.ga()}G(){return this.g}Ba(){return this.wc}Zaa(c){this.Wd=
c}cq(){return this.Wd||this.wc}dE(){return this.Oa&&this.Oa.yK}co(){return this.dE()&&this.Oa.Yc}dy(){return this.EA}ot(){return this.GA}t3(){this.Aq(this.jI)}Aq(c){c=!!c;if(!this.Zi)throw Error("not a group");if(this.GA!==c){this.GA=c;for(const h of this.Qz)h.ZO();this.Qz.length&&(c=this.g.Ha().Rc)&&c.yG()}}io(){return this.Wb.length&&this.Wb[0].io()}X0(){return this.Wd&&this.Wd instanceof e.Ms}E_(){return this.X0()||this.Wb.some(c=>c.io())}bM(c){c=Math.floor(c);if(0>c||c>=this.Wb.length)throw new RangeError("invalid condition index");
return this.Wb[c]}W0(c){let h=c.Ea();if(0===h)return!0;for(--h;0<=h;--h)if(this.Wb[h].H()===c.H())return!1;return!0}YL(c){c=Math.floor(c);if(0>c||c>=this.Ob.length)throw new RangeError("invalid action index");return this.Ob[c]}t8(c){c=Math.floor(c);return 0<=c&&c<this.Ob.length}UP(){return this.Nh.filter(c=>c instanceof e.ox)}bO(c){c.tg(this);let h=!1;const m=this.Wb;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.vm(g);if(n.JA)throw Error("trigger cannot be used as sub-event to a loop");if(n.qa())h=
!0;else if(!this.Dd)return!1}return this.Dd?h:!0}C3(c,h){c.tg(this);this.Wb[h].qa()&&(this.Hi(c,0)&&this.gl(),c.xm(!0))}*HL(c){c.tg(this);let h=!1;const m=this.Wb;for(let g=0,l=m.length;g<l;++g){const n=m[g];c.vm(g);if(n.JA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ue()?n.qa():yield*n.ib())h=!0;else if(!this.Dd)return!1}return this.Dd?h:!0}*AX(c,h){c.tg(this);h=this.Wb[h];if(h.ue()?h.qa():yield*h.ib())(this.hx()?this.Hi(c,0):yield*this.Bo(c,0))&&(this.ix()?this.gl():yield*this.Xt()),
c.xm(!0)}qa(c){c.tg(this);this.EA||c.zq(!1);this.Dd?this.X$(c):this.gz(c)}*ib(c){if(this.co()||this.g.pc())yield this;c.tg(this);this.EA||c.zq(!1);this.Dd?yield*this.b7(c):yield*this.AF(c)}X$(c){const h=this.Wb;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.io()||(c.vm(l),g=g.qa(),m=m||g)}c.xm(m);m&&(this.Hi(c,0)&&this.gl(),this.Xu&&c.zq(!0))}*b7(c){const h=this.Wb;let m=0===h.length;for(let l=0,n=h.length;l<n;++l){var g=h[l];g.io()||(c.vm(l),g=g.ue()?g.qa():yield*g.ib(),m=m||g)}c.xm(m);
m&&((this.hx()?this.Hi(c,0):yield*this.Bo(c,0))&&(this.ix()?this.gl():yield*this.Xt()),this.Xu&&c.zq(!0))}gz(c){const h=this.Wb;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.vm(m);if(!l.qa()){c.xm(!1);return}}c.xm(!0);this.Hi(c,0)&&this.gl();c.lp&&this.Xu&&c.zq(!0)}*AF(c){const h=this.Wb;for(let m=0,g=h.length;m<g;++m){const l=h[m];c.vm(m);if(l.ue()?!l.qa():!(yield*l.ib())){c.xm(!1);return}}c.xm(!0);(this.hx()?this.Hi(c,0):yield*this.Bo(c,0))&&(this.ix()?this.gl():yield*this.Xt());c.lp&&this.Xu&&
c.zq(!0)}R$(c,h){const m=this.Ob;for(let g=h,l=m.length;g<l;++g)h=m[g],c.yy(g),h.qa();return!0}*P6(c,h){const m=this.Ob;for(let g=h,l=m.length;g<l;++g)h=m[g],c.yy(g),h.ue()?h.qa():yield*h.ib();return!0}S$(c,h){const m=this.ga(),g=this.Ob;for(let l=h,n=g.length;l<n;++l){h=g[l];c.yy(l);const p=h.qa();if(h.oL()&&!0===p)return!1;h.qg()&&p instanceof Promise&&m.NC(p)}return!0}*Q6(c,h){const m=this.ga(),g=this.Ob;for(let l=h,n=g.length;l<n;++l){h=g[l];c.yy(l);let p;p=h.ue()?h.qa():yield*h.ib();if(h.oL()&&
!0===p)return!1;h.qg()&&p instanceof Promise&&m.NC(p)}return!0}P$(c){this.Hi(c,c.Rf)&&this.gl()}*N6(c){if(yield*this.Bo(c,c.Rf))yield*this.Xt()}gl(){if(this.Nh.length){var c=this.Zi&&this.g.cE(),h=c?performance.now():0,m=this.Cd,g=m.Na(this);this.PA?this.baa(g):this.aaa(g);m.Ia();c&&(this.cj.Nw+=performance.now()-h)}}baa(c){const h=this.Zi,m=this.RA,g=this.ga(),l=this.Nh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.pd(),r=!m||!h&&n<q;r&&g.De(w);u.qa(c);r?g.Kb(w):g.Sp(w)}}aaa(c){const h=
this.Nh;for(let m=0,g=h.length;m<g;++m)h[m].qa(c)}*Xt(){if(this.Nh.length){var c=this.Cd,h=c.Na(this);this.PA?yield*this.e7(h):yield*this.d7(h);c.Ia()}}*e7(c){const h=this.Zi,m=this.RA,g=this.ga(),l=this.Nh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.pd(),r=!m||!h&&n<q;r&&g.De(w);yield*u.ib(c);r?g.Kb(w):g.Sp(w)}}*d7(c){const h=this.Nh;for(let m=0,g=h.length;m<g;++m)yield*h[m].ib(c)}sg(c,h){this.g.Tk();h.aO();const m=this.Wb;if(!this.Dd)for(let g=c.ml+1,l=m.length;g<l;++g)if(c=m[g],h.vm(g),
!c.qa())return!1;this.Hi(h,0)&&this.gl();return!0}*jg(c,h){this.g.Tk();h.aO();const m=this.Wb;if(!this.Dd)for(let g=c.ml+1,l=m.length;g<l;++g)if(c=m[g],h.vm(g),c.ue()?!c.qa():!(yield*c.ib()))return!1;(this.hx()?this.Hi(h,0):yield*this.Bo(h,0))&&(this.ix()?this.gl():yield*this.Xt());return!0}ue(){return!this.co()&&!this.g.pc()&&this.Oa.LU}hx(){return!this.g.pc()&&this.Oa.fK}ix(){return!this.g.pc()&&this.Oa.gK}tF(c){if(this.Ba()){const h=this.Hp;for(let m=0,g=h.length;m<g;++m)if(!h[m].bO(c))return!1}return!0}*AP(c){if(this.Ba()){const h=
this.Hp;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].HL(c)))return!1}return!0}OP(c,h,m){0<h.length?m?(h=h.map(g=>g.Y(0)),c.ld.Na(),this.Wd.Jt(h)):this.Wd.SY(h):m&&c.ld.Na()}z3(c,h){let m,g;const l=0<c.length;var n=this.g;const p=this.Cd,q=n.ga(),u=1<q.cu();this.OP(q,h,u);l&&q.rg(c);h=p.Na(this);this.tF(h)&&(n.Tk(),h.tg(this),(n=this.Wd.qg())&&([g,m]=this.Wd.gF()),this.gz(h),n&&this.Wd.tt(g));p.Ia();u&&q.ld.Ia();l&&q.Kb(c);q.Zt();return m}*xX(c,h){let m,g;if(this.co()||this.g.pc())yield this;const l=
0<c.length;var n=this.g;const p=this.Cd,q=n.ga(),u=1<q.cu();this.OP(q,h,u);l&&q.rg(c);h=p.Na(this);if(yield*this.AP(h))n.Tk(),h.tg(this),(n=this.Wd.qg())&&([g,m]=this.Wd.gF()),yield*this.AF(h),n&&this.Wd.tt(g);p.Ia();u&&q.ld.Ia();l&&q.Kb(c);q.Zt();return m}A3(c){const h=this.qd(),m=0<h.length,g=this.g,l=this.Cd,n=g.ga(),p=1<n.cu();p&&n.ld.Na();this.Wd.Jt(c);m&&n.rg(h);c=l.Na(this);this.tF(c)&&(g.Tk(),c.tg(this),this.gz(c));l.Ia();p&&n.ld.Ia();m&&n.Kb(h);n.Zt()}*yX(c){if(this.co()||this.g.pc())yield this;
const h=this.qd(),m=0<h.length,g=this.g,l=this.Cd,n=g.ga(),p=1<n.cu();p&&n.ld.Na();this.Wd.Jt(c);m&&n.rg(h);c=l.Na(this);if(yield*this.AP(c))g.Tk(),c.tg(this),yield*this.AF(c);l.Ia();p&&n.ld.Ia();m&&n.Kb(h);n.Zt()}IE(c,h,m,...g){let l,n;const p=0<c.length,q=this.g,u=this.Cd,w=q.ga(),r=1<w.cu();r&&w.ld.Na();0<g.length&&this.Wd.Jt(g);p&&w.rg(c);g=u.Na(this);g.j0(h,m);u.U2(g);q.By(!1);this.tF(g)&&(q.Tk(),g.tg(this),(h=this.Wd.qg())&&([n,l]=this.Wd.gF()),this.gz(g),h&&this.Wd.tt(n));q.By(!0);u.Ia();u.J2();
r&&w.ld.Ia();p&&w.Kb(c);w.Zt();return l||g.IH}}}
{"use strict";const e=self.B,a=[];let b=!1;e.nx=class extends e.ea{constructor(d,c,h){super();const m=d.G(),g=d.ga();this.Rc=d;this.ta=g;this.g=d.G();this.wc=c;this.Fa=m.ih(h[1]);this.jr=h[2];this.Rc.WQ(this,this.jr);this.Oa=m.pb?{Yc:h[3][0],yK:h[3][1]}:null}static La(d,c,h){return e.j(e.nx,d,c,h)}Lb(){const d=this.Fa,c=this.g.ga().eQ(this);this.Fa=d.bind(null,this.g.Xi,c)}Ba(){return this.wc}cq(){return this.wc}dE(){return this.Oa&&this.Oa.yK}co(){return this.dE()&&this.Oa.Yc}dy(){return!1}pd(){return a}qd(){return this.wc?
this.wc.qd():a}qa(d){d.tg(this);this.ta.NC(this.caa())}async caa(){try{await this.Fa()}catch(d){console.error(`Unhandled exception running script %c${this.Rc.wa()}, event ${this.jr}:`,"font-size: 1.2em; font-weight: bold;",d),self.ig&&self.ig.Uaa(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*ib(d){d.tg(this);if(this.co()||this.g.pc())yield this;
this.qa(d)}ue(){return!this.co()&&!this.g.pc()}static z_(){return b}static e4(){b=!0}}}
{"use strict";const e=self.B;e.Ms=class extends e.ea{constructor(a,b,d){super();this.Rc=a;this.g=a.G();this.wc=b;const c=d[1];this.lA=c[0];this.Kl=c[1];this.Jg=c[2].map(h=>e.ox.La(a,this,h));this.Eca=c[3];this.XH=[];this.kv=c[4];this.Vca=0;this.Lu=-1;this.zu=new Map;this.Rd=e.Hk.La(a,b,d);this.Rd.Zaa(this)}static La(a,b,d){return e.j(e.Ms,a,b,d)}Lb(){for(const a of this.Jg)a.Lb();this.Rd.Lb(!1)}UP(){return this.Jg}A$(a){this.XH.push(a)}SY(a){const b=this.Jg;for(let d=0,c=b.length;d<c;++d)b[d].Fe(a[d].Y(0))}Jt(a){const b=
this.Jg;for(let d=0,c=b.length;d<c;++d)b[d].Fe(a[d])}TW(){return this.Jg.map(a=>a.yb())}Ba(){return this.wc}cq(){return this.wc}fo(){return this.Eca}Vs(){switch(this.Kl){case 0:return null;case 2:return"";default:return 0}}ye(){return this.Rd}qg(){return this.kv}gF(){const a=this.Vca++;this.Lu=a;let b;const d=new Promise(c=>b=c);this.zu.set(a,{resolve:b,LK:0});return[a,d]}tt(a){const b=this.zu.get(a);0===b.LK&&(b.resolve(),this.zu.delete(a));this.Lu=-1}D2(){this.zu.get(this.Lu).LK++;return this.Lu}y3(a){this.Lu=
a;this.zu.get(a).LK--}}}
{"use strict";const e=self.B,a=[];e.ox=class extends e.ea{constructor(b,d,c){super();const h=b.ga();this.Rc=b;this.ta=h;this.g=b.G();this.wc=d;this.ld=h.ld;this.Da=c[1];this.ua=c[2];this.bp=c[3];this.Ch=!!c[4];this.ob=!!c[5];this.Gca=d instanceof e.Ms;this.fb=c[6];this.vv=this.g.ei(c[8]);this.ida=m=>this.Fe(m);this.gda=()=>this.yb();this.HS=!this.wc||this.Ch||this.ob;this.yc=this.bp;this.HI=-1;this.SM()&&(this.yc=this.yc?1:0);!this.mE()||this.Ch||this.ob||(this.HI=h.g8(this));h.x$(this)}static La(b,
d,c){return e.j(e.ox,b,d,c)}Lb(){if(this.mE()&&!this.Ch&&!this.ob&&!this.Gca){const b=this.ta.pD(this);b&&b.A$(this)}}wa(){return this.Da}ei(){return this.vv}Ba(){return this.wc}cq(){return this.Ba()}Nf(){return!this.Ba()}mE(){return!this.Nf()}pm(){return 0===this.ua}li(){return 1===this.ua}SM(){return 2===this.ua}dy(){return!1}pd(){return a}qa(){!this.mE()||this.Ch||this.ob||this.Fe(this.bp)}ue(){return!0}*ib(b){this.qa(b)}Fe(b){this.pm()?"number"!==typeof b&&(b=parseFloat(b)):this.li()?"string"!==
typeof b&&(b=b.toString()):this.SM()&&(b=b?1:0);this.HS?this.yc=b:this.ld.Wp()[this.HI]=b}yb(){return this.HS?this.yc:this.ld.Wp()[this.HI]}w3(){this.yc=this.bp}iQ(){return{configurable:!1,enumerable:!0,get:this.gda,set:this.ida}}}}
{"use strict";const e=self.B,a=[];e.PL=class extends e.ea{constructor(b,d,c){super();const h=b.ga();this.Rc=b;this.ta=h;this.g=b.G();this.wc=d;this.gv=null;this.zca=c[1];this.Fb=!0}static La(b,d,c){return e.j(e.PL,b,d,c)}Lb(){this.gv=this.ta.gM(this.zca);this.Rc.W5(this);let b=this.Ba();for(;b;)b instanceof e.Hk&&b.Zi&&b.O5(this),b=b.Ba();this.ZO();this.g.pb&&this.Rc.cj.children.push(this.gv.cj)}Ba(){return this.wc}pd(){return a}qa(){const b=!!this.Ba(),d=this.g.Mc;b&&this.ta.rg(d);this.gv.qa();b&&
this.ta.Kb(d)}*ib(){const b=!!this.Ba(),d=this.g.Mc;b&&this.ta.rg(d);yield*this.gv.ib();b&&this.ta.Kb(d)}ue(){return!1}ZO(){let b=this.Ba();for(;b;){if(b instanceof e.Hk&&b.Zi&&!b.ot()){this.Fb=!1;return}b=b.Ba()}this.Fb=!0}}}
{"use strict";const e=self.B;e.Pn=class extends e.ea{constructor(l){super();this.Yb=l;this.g=l.G()}Lb(){}static sX(l,n){return e.j([m,c,h,g,a,b][n[0]],l,n)}};class a extends e.Pn{constructor(l,n){super(l);this.ud=this.g.et();this.Fa=this.g.ih(n[1]);this.Fa!==e.C.Qa.ac.random&&this.Fa!==e.C.Qa.ac.Hda||this.Yb.cF()}ai(){return this.ud.Yj(this.Fa,this.ud)}}class b extends e.Pn{constructor(l,n){super(l);this.xr=null;this.lA=n[1];this.Yb.cF()}Lb(){const l=this.g.ga();this.xr=l.Dx(this.lA);this.lA=null;
const n=this.xr.ye();this.nl=[...new Set([...this.Yb.ye().qd(),...n.qd()])];this.nl=l.Vy(this.nl)}ai(){const l=this.xr;if(l.fo())return e.Hk.prototype.IE.bind(l.ye(),this.nl,l.Kl,l.Vs());{const n=l.Vs();return()=>n}}}function d(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends e.Pn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.Fa=this.g.ih(n[2]);this.CB=!!n[3];this.Cd=this.g.ga().$c();this.Yb.$F(this.K)}ai(){return this.K.rb().Yj(this.Fa,this.K.gi().ma)}em(){const l=
this.K,n=l.T().hM();var p=n.length;if(0===p)return this.CB?"":0;p=d(this.Yb.Vv,p);this.Cd.Ye().Z3(l);return this.Fa.apply(n[p].ma,[])}}class h extends e.Pn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.tda=n[3];this.CB=!!n[2];this.Yb.$F(this.K)}RL(){var l=this.K,n=l.T().hM(),p=n.length;if(0===p)return this.CB?"":0;p=d(this.Yb.Vv,p);n=n[p];l=n.H().CD(l.xh);return n.c8(this.tda+l)}}class m extends e.Pn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.Nc=this.K.tx(n[2]);this.Li=this.K.Ps(n[2]);
this.Fa=this.g.ih(n[3]);this.CB=!!n[4];this.Cd=this.g.ga().$c();this.Yb.$F(this.K)}}class g extends e.Pn{constructor(l,n){super(l);this.ie=null;this.xH=n[1]}Lb(){this.ie=this.g.ga().BD(this.xH)}}}
{"use strict";const e=self.B;e.Ce=class extends e.ea{constructor(A,G,z){super();this.Yb=A;this.Ka=z;this.ua=G;this.Y=null;this.ob=this.Se=!1}static La(A,G,z){const F=G[0];return e.j([b,d,p,h,g,c,l,b,h,h,q,u,p,r,d,n,m,w,v,y][F],A,F,z,G)}Lb(){}cF(){this.Se=!0}$F(A){this.Se||!A||A.rb().Pm||(this.Se=!0)}Ea(){return this.Ka}G(){return this.Yb.G()}ye(){return this.Yb.ye()}};function a(A){A=self.JW[A];if(!A)throw Error("invalid expression number");return A}class b extends e.Ce{constructor(A,G,z,F){super(A,
G,z);this.Vv=0;A=F[1];this.zH=A[0];this.Kr=[];this.bA=null;for(let H=1,J=A.length;H<J;++H)this.Kr.push(e.Pn.sX(this,A[H]));this.Kr.length?this.Y=this.BZ:(this.Y=a(this.zH),this.ob=!0)}Ab(A){if(0>A||A>=this.Kr.length)throw new RangeError("invalid numbered node");return this.Kr[A]}Lb(){for(var A of this.Kr)A.Lb();A=a(this.zH);this.bA=this.Kr.length?A(this):A}BZ(A){this.Vv=A;return this.bA()}}class d extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.p_;14===G&&(this.ye().K3(),this.Yb instanceof
e.Rw&&this.ye().Ot())}p_(A){this.Vv=A;A=this.bA();return"string"===typeof A?A:""}Z7(){return a(this.zH)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.ba;this.ob=!1}ba(A){this.Vv=A;A=this.bA();return this.G().Ha().ba(A)}}class h extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.lca=F[1];this.Y=this.rZ;this.ob=!0}rZ(){return this.lca}}class m extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Yba=F[1];this.Y=this.nZ;this.ob=!0}nZ(){return this.Yba}}class g extends e.Ce{constructor(A,
G,z,F){super(A,G,z);this.K=this.G().$e(F[1]);this.Y=this.H;A=this.ye();A.mP(this.K);this.Yb instanceof e.Rw?A.Ot():A.Ba()&&A.Ba().Ot();this.ob=!0}H(){return this.K}}class l extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Lg=this.G().Za.Yp(F[1]);this.Y=this.cc;this.ob=!0}cc(){return this.Lg}}class n extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Oh=this.G().Cb.Rx(F[1]);this.Y=this.mb;this.ob=!0}mb(){return this.Oh}}class p extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.uca=F[1];this.Y=
this.EZ;this.ob=!0}EZ(){return this.uca}}class q extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.SS=F[1];(A=this.Yb.H())&&A.Wa?(this.Y=this.CZ,this.cF()):(this.Y=this.QZ,this.ob=!0)}QZ(){return this.SS}CZ(A){A=A||0;const G=this.Yb.H();var z=G.T();const F=z.ja();if(F.length)A=F[A%F.length].H();else if(z.D_())z=z.Xb,A=z[A%z.length].H();else if(0<G.F.length)z=G.ja(),A=z[A%z.length].H();else return 0;return this.SS+A.CD(G.xh)}}class u extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.xH=F[1];this.ie=
null;this.Y=this.zZ;this.ob=!0}Lb(){this.ie=this.G().ga().BD(this.xH)}zZ(){return this.ie}}class w extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.uS=F[1];this.xr=null;this.Y=this.KZ;this.ob=!0}Lb(){this.xr=this.G().ga().Dx(this.uS);this.uS=null}KZ(){return this.xr}}class r extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.BJ=[];this.vU=[];this.ob=!0;for(let H=1,J=F.length;H<J;++H)A=e.Ce.La(this.Yb,F[H],0),this.BJ.push(A),this.vU.push(0),A.ob||(this.ob=!1);this.Y=this.v_}Lb(){for(const A of this.BJ)A.Lb()}v_(){const A=
this.BJ,G=this.vU;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class v extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.qca=F[1];this.Y=this.hm;this.ob=!0}hm(){return this.qca}}class y extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.dca=F[1];this.Y=this.s_;this.ob=!0}s_(){return this.dca}}}
{"use strict";const e=self.B;function a(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].Y(0)}const b=[],d=function(){};e.uL=class extends e.ea{constructor(c,h,m){super();this.Rd=c;this.g=c.G();this.Ka=m;this.Fa=this.g.ih(h[1]);this.qI=0<h[3];this.XS=2===h[3];this.JA=!!h[4];this.$i=!!h[5];this.Ch=!!h[6];this.fb=h[7];this.YS=this.Rd.Dd;this.Nc=this.K=null;this.Li=-1;this.ud=null;this.ib=this.qa=d;this.Ga=[];this.qb=[];this.jl=!1;this.Ph=this.Bb=null;this.Oa=this.g.pb?{Yc:h[8][0],zf:h[8][1]}:null;-1===
h[0]?this.ud=this.g.et():(this.K=this.g.$e(h[0]),h[2]&&(this.Nc=this.K.tx(h[2]),this.Li=this.K.Ps(h[2])),this.Rd.Ba()&&this.Rd.Ba().Ot());if(10===h.length){c=h[9];for(let g of c)this.Ga.push(e.Ce.La(this,g,this.Ga.length)),this.qb.push(0)}0===this.Ga.length&&(this.qb=this.Ga=b);this.Rd.ga().v$(this)}static La(c,h,m){return e.j(e.uL,c,h,m)}Lb(){for(const c of this.Ga)c.Lb(),c.Se&&(this.jl=!0);this.XS?(this.qa=this.T$,this.ib=this.V6):this.ud?(this.sG(),this.ib=this.CF):this.K.rb().Pm?(this.rG(),this.ib=
this.BF):this.Ch?(this.qa=this.$$,this.ib=this.c7):(this.qa=this.hR,this.ib=this.W6)}sG(){this.qu(this.ud,this.ud,this.kG)}rG(){const c=this.K.rb(),h=this.K.gi().ma;this.qu(c,h,this.jG)}qu(c,h,m){const g=this.Fa,l=this.$i,n=this.Ga;if(0===n.length){const p=c.Yj(g,h);this.qa=l?function(){return e.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.ob)this.qa=c.WP(g,h,p.Y(0));else{const q=c.Yj(g,h);this.qa=function(){return e.xor(q(p.Y(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.ob&&q.ob)this.qa=c.XP(g,h,p.Y(0),q.Y(0));else{const u=c.Yj(g,h);this.qa=function(){return e.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.ob&&q.ob&&u.ob)this.qa=c.YP(g,h,p.Y(0),q.Y(0),u.Y(0));else{const w=c.Yj(g,h);this.qa=function(){return e.xor(w(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.qa=m}H(){return this.K}lg(){return this.Nc}ye(){return this.Rd}G(){return this.g}Ea(){return this.Ka}cM(){return this.Ea()}io(){return this.qI}ue(){return!this.Oa.Yc&&!this.g.pc()&&
!this.Oa.zf}Fj(){this.Bb||(this.Bb=new Map);return this.Bb}ht(){this.Ph||(this.Ph=new Map);return this.Ph}kG(){const c=this.qb;a(this.Ga,c);return e.xor(this.Fa.apply(this.ud,c),this.$i)}*CF(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){var c=this.qb;a(this.Ga,c);c=this.Fa.apply(this.ud,c);e.om(c)&&(c=yield*c);return e.xor(c,this.$i)}return this.qa()}jG(){const c=this.qb;a(this.Ga,c);const h=this.K.gi().ma;return e.xor(this.Fa.apply(h,c),this.$i)}*BF(){if(this.Oa.Yc||this.g.pc())yield this;
if(this.Oa.zf){var c=this.qb;a(this.Ga,c);const h=this.K.gi().ma;c=this.Fa.apply(h,c);e.om(c)&&(c=yield*c);return e.xor(c,this.$i)}return this.qa()}T$(){return!0}*V6(){if(this.Oa.Yc||this.g.pc())yield this;return!0}$$(){var c=this.qb;a(this.Ga,c);c=this.Fa.apply(this.Nc||this.K,c);this.K.$b();return c}*c7(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){var c=this.qb;a(this.Ga,c);c=this.Fa.apply(this.Nc||this.K,c);e.om(c)&&(c=yield*c);this.K.$b();return c}return this.qa()}hR(){const c=this.Ga,
h=this.qb,m=this.K.T();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Se||(h[g]=n.Y(0))}return m.Qb?this.U$(m):this.V$(m)}*W6(){if(this.Oa.Yc||this.g.pc())yield this;return this.hR()}LF(c){const h=this.Ga,m=this.qb;for(let g=0,l=h.length;g<l;++g){const n=h[g];n.Se&&(m[g]=n.Y(c))}}U$(c){const h=this.K,m=h.Wa,g=h.xh,l=this.Li,n=0<=l,p=h.ja(),q=this.jl,u=this.qb,w=this.Fa,r=this.$i,v=this.YS&&!this.qI;c.ax();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.LF(A);var y=void 0;n?(y=m?z.H().Qn(g):0,
y=w.apply(z.ed[l+y].ma,u)):y=w.apply(z.ma,u);e.xor(y,r)?c.Eo(z):v&&c.fl(z)}h.Ls(!0);c.fe(!1);h.$b();return c.SD()}V$(c){const h=this.K;var m=h.Wa;const g=h.xh,l=h.Tb(),n=this.Li,p=0<=n,q=this.jl,u=this.qb,w=this.Fa,r=this.$i,v=this.YS&&!this.qI,y=c.F,A=c.Xb,G=v&&!this.Rd.W0(this),z=G?A:y;let F=0,H=!1;for(let M=0,Q=z.length;M<Q;++M){const R=z[M];q&&this.LF(M);var J=void 0;p?(J=m?R.H().Qn(g):0,J=w.apply(R.ed[n+J].ma,u)):J=w.apply(R.ma,u);e.xor(J,r)?(H=!0,G?(y.push(R),l&&R.r$()):(z[F]=R,l&&R.aba(F),
++F)):G?(z[F]=R,l&&R.$aa(F),++F):v&&(A.push(R),l&&R.q$())}e.Ve(z,F);l&&h.wba(G,F);m=H;G&&!H&&(H=this.j$(y));h.Ls(m||v);return v?H:c.SD()}j$(c){var h=this.K;const m=h.Wa;h=h.xh;const g=this.jl,l=this.Li,n=0<=l,p=this.qb,q=this.Fa,u=this.$i;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.LF(r);if(n){const y=m?w.H().Qn(h):0;w=q.apply(w.ed[l+y].ma,p)}else w=q.apply(w.ma,p);if(e.xor(w,u))return!0}return!1}Bt(c,h){return this.Ga[c].Y(h)}DZ(){const c=this.Ga;if(!c.length)throw Error("no parameters");
return c[0].Z7()}fa(){if(!this.Bb||!this.Bb.size)return null;const c={};for(const [h,m]of this.Bb.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(l=>[l[0].Vc,l[1].Vc,l[2]]));c[h]=g}return{ex:c}}ka(c){this.Bb&&(this.Bb.clear(),this.Bb=null);if(c){var h=this.g,m=c.ex;if(m){c=this.Fj();c.clear();for(const [g,l]of Object.entries(m))m=l,"collmemory"===g&&(m=e.j(e.xt,l.map(n=>[h.yj(n[0]),h.yj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const e=self.B;function a(h,m){for(let g=0,l=h.length;g<l;++g)m[g]=h[g].Y(0)}const b=[],d=function(){},c=function*(){};e.Rw=class extends e.ea{constructor(h,m,g){super();this.Rd=h;this.g=h=h.G();this.Ka=g;this.fb=4<=m.length?m[3]:-1;this.sz=5<=m.length?m[4]:0;this.Nc=this.K=this.Fa=null;this.Li=-1;this.ud=null;this.Iz="";this.nl=this.Hz=null;this.ib=this.qa=d;this.Ga=[];this.qb=[];this.jl=!1;this.Ph=this.Bb=null;const l=(g=-3===m[0])?m[2]:m[5];this.Oa=h.pb||g?{Yc:l[0],zf:l[1],index:l[2]}:
null;-1===m[0]?(this.ud=h.et(),this.Fa=h.ih(m[1])):-2===m[0]?this.Iz=m[1]:g?(this.Fa=h.ih(m[1]),this.qa=this.JE,this.ib=this.CX,this.sz=1):(this.Fa=h.ih(m[1]),this.K=h.$e(m[0]),m[2]&&(this.Nc=this.K.tx(m[2]),this.Li=this.K.Ps(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ga.push(e.Ce.La(this,n,this.Ga.length)),this.qb.push(0)}0===this.Ga.length&&(this.qb=this.Ga=b);this.Rd.ga().u$(this)}static La(h,m,g){return e.j(e.Rw,h,m,g)}Lb(){for(var h of this.Ga)h.Lb(),h.Se&&(this.jl=!0);if(this.ud)this.sG(),
this.ib=this.CF;else if(this.Iz)this.zaa(),this.Iz="";else if(this.qa===this.JE){h=this.Fa;const m=this.g.ga().eQ(this.Rd);this.Fa=h.bind(null,this.g.Xi,m)}else this.Nc?this.qg()?(this.qa=this.fR,this.ib=this.S6):(this.qa=this.eR,this.ib=this.R6):this.K.rb().Pm?(this.rG(),this.ib=this.BF):this.qg()?(this.qa=this.jR,this.ib=this.Y6):this.Ga.length?this.Ga.every(m=>m.Se)?(this.qa=this.iR,this.ib=this.X6):this.jl?(this.qa=this.lR,this.ib=this.a7):this.Ga.every(m=>m.ob)?(a(this.Ga,this.qb),this.qa=this.iG,
this.ib=this.BP):(this.qa=this.kR,this.ib=this.Z6):(this.qa=this.iG,this.ib=this.BP)}sG(){this.qu(this.ud,this.ud,this.kG)}rG(){const h=this.K.rb(),m=this.K.gi().ma;this.qu(h,m,this.jG)}zaa(){const h=this.Rd.ga(),m=h.Dx(this.Iz);m.fo()?(this.Hz=m.ye(),this.nl=[...new Set([...this.Rd.qd(),...this.Hz.qd()])],this.nl=h.Vy(this.nl),this.qa=e.Hk.prototype.z3.bind(this.Hz,this.nl,this.Ga),this.ib=this.T6):(this.qa=d,this.ib=c)}qu(h,m,g){const l=this.Fa,n=this.Ga;if(0===n.length)this.qa=h.Yj(l,m);else if(1===
n.length){const p=n[0];if(p.ob)this.qa=h.WP(l,m,p.Y(0));else{const q=h.Yj(l,m);this.qa=function(){return q(p.Y(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.ob&&q.ob)this.qa=h.XP(l,m,p.Y(0),q.Y(0));else{const u=h.Yj(l,m);this.qa=function(){return u(p.Y(0),q.Y(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.ob&&q.ob&&u.ob)this.qa=h.YP(l,m,p.Y(0),q.Y(0),u.Y(0));else{const w=h.Yj(l,m);this.qa=function(){return w(p.Y(0),q.Y(0),u.Y(0))}}}else this.qa=g}qg(){return 1===this.sz}oL(){return 2===
this.sz}M_(){return 0!==this.sz}H(){return this.K}ye(){return this.Rd}G(){return this.g}Ea(){return this.Ka}cM(){return this.Oa.index}ue(){return!this.Oa.Yc&&!this.g.pc()&&!this.Oa.zf}Fj(){this.Bb||(this.Bb=new Map);return this.Bb}ht(){this.Ph||(this.Ph=new Map);return this.Ph}kG(){const h=this.qb;a(this.Ga,h);return this.Fa.apply(this.ud,h)}*CF(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){const h=this.qb;a(this.Ga,h);return yield*this.Fa.apply(this.ud,h)}return this.qa()}*T6(){if(this.Oa.Yc||
this.g.pc())yield this;return yield*this.Hz.xX(this.nl,this.Ga)}jG(){const h=this.qb;a(this.Ga,h);return this.Fa.apply(this.K.gi().ma,h)}*BF(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){const h=this.qb;a(this.Ga,h);return yield*this.Fa.apply(this.K.gi().ma,h)}return this.qa()}iG(){const h=this.qb,m=this.K.T().ja();for(let g=0,l=m.length;g<l;++g)this.Fa.apply(m[g].ma,h)}*BP(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){const h=this.qb,m=this.K.T().ja();for(let g=0,l=m.length;g<l;++g)yield*this.Fa.apply(m[g].ma,
h)}else this.iG()}kR(){const h=this.qb;a(this.Ga,h);const m=this.K.T().ja();for(let g=0,l=m.length;g<l;++g)this.Fa.apply(m[g].ma,h)}*Z6(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){const h=this.qb;a(this.Ga,h);const m=this.K.T().ja();for(let g=0,l=m.length;g<l;++g)yield*this.Fa.apply(m[g].ma,h)}else this.kR()}iR(){const h=this.Ga,m=this.qb,g=this.Fa,l=this.K.T().ja();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].Y(n);g.apply(q.ma,m)}}*X6(){if(this.Oa.Yc||
this.g.pc())yield this;if(this.Oa.zf){const h=this.Ga,m=this.qb,g=this.Fa,l=this.K.T().ja();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].Y(n);yield*g.apply(q.ma,m)}}else this.iR()}lR(){const h=this.Ga,m=this.qb,g=this.Fa,l=this.K.T().ja();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.Se||(m[p]=n.Y(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.Se&&(m[u]=r.Y(p))}g.apply(n.ma,m)}}*a7(){if(this.Oa.Yc||this.g.pc())yield this;
if(this.Oa.zf){const m=this.Ga,g=this.qb,l=this.Fa,n=this.K.T().ja();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.Se||(g[p]=h.Y(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Se&&(g[u]=r.Y(p))}yield*l.apply(h.ma,g)}}else this.lR()}eR(){var h=this.K;const m=h.Wa,g=h.xh,l=this.Ga,n=this.jl,p=this.qb,q=this.Fa,u=this.Li;h=h.T().ja();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Se||(p[v]=w.Y(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Se&&(p[A]=r.Y(v))}r=m?w.H().Qn(g):0;q.apply(w.ed[u+r].ma,p)}}*R6(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){var h=this.K;const l=h.Wa,n=h.xh,p=this.Ga,q=this.jl,u=this.qb,w=this.Fa,r=this.Li;h=h.T().ja();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Se||(u[v]=m.Y(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.Se&&(u[A]=g.Y(v))}g=l?m.H().Qn(n):0;yield*w.apply(m.ed[r+g].ma,u)}}else this.eR()}jR(){const h=this.Ga,m=this.qb,
g=this.Fa,l=this.K.T().ja(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].Y(p);n.push(g.apply(u.ma,m))}return Promise.all(n)}*Y6(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){const h=this.Ga,m=this.qb,g=this.Fa,l=this.K.T().ja(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].Y(p);n.push(yield*g.apply(u.ma,m))}return Promise.all(n)}return this.jR()}fR(){var h=this.K;const m=h.Wa,g=h.xh,l=this.Ga,n=this.qb,
p=this.Fa,q=this.Li;h=h.T().ja();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Qn(g):0;u.push(p.apply(v.ed[q+y].ma,n))}return Promise.all(u)}*S6(){if(this.Oa.Yc||this.g.pc())yield this;if(this.Oa.zf){var h=this.K;const m=h.Wa,g=h.xh,l=this.Ga,n=this.qb,p=this.Fa,q=this.Li;h=h.T().ja();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Qn(g):0;u.push(yield*p.apply(v.ed[q+
y].ma,n))}return Promise.all(u)}return this.fR()}async JE(){try{await this.Fa()}catch(h){console.error(`Unhandled exception running script %c${this.Rd.Rc.wa()}, event ${this.Rd.jr}, action ${this.cM()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.ig&&self.ig.Uaa(this),e.nx.z_()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.nx.e4())}}*CX(){if(this.Oa.Yc||
this.g.pc())yield this;return this.JE()}fa(){return this.Bb&&this.Bb.size?{ex:e.mF(this.Bb)}:null}ka(h){this.Bb&&(this.Bb.clear(),this.Bb=null);h&&(h=h.ex)&&(this.Bb=e.qD(h))}}}
{"use strict";const e=self.B,a=new e.$a;function b(L,O){return e.compare(this.m().oa(),L,O)}function d(L,O){return e.compare(this.m().pa(),L,O)}function c(){const L=this.m(),O=L.ba();return O.fq()?L.iq(O.Nq()):L.$M(O.eg,L.cc().LM(),L.cc().rf)}function h(){var L=this.m();const O=L.cc();L=L.Zc();return 0>L.ca||0>L.Z||L.V>O.$()||L.O>O.X()}function m(L,O,U){const aa=this.T(),ha=aa.ja();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=e.RU(ja.oa(),ja.pa(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=e.RU(ja.oa(),ja.pa(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.rm(ua);return!0}function g(L){const O=this.m();O.oa()!==L&&(O.lh(L),O.Ya())}function l(L){const O=this.m();O.pa()!==L&&(O.Ci(L),O.Ya())}function n(L,O){const U=this.m();U.QY(L,O)||(U.ym(L,O),U.Ya())}function p(L,O){if(L&&(L=L.g_(this.ia))){var [U,aa]=L.Sn(O);O=this.m();if(O.oa()!==U||O.pa()!==aa)O.ym(U,aa),O.Ya()}}function q(L){if(0!==L){var O=this.m();O.my(O.xD()*L,O.LD()*L);O.Ya()}}function u(L,
O){if(0!==O){var U=this.m();L=e.xb(L);U.my(Math.cos(L)*O,Math.sin(L)*O);U.Ya()}}function w(){return this.m().oa()}function r(){return this.m().pa()}function v(){return this.g.yD(this.ia)}function y(L,O){return e.compare(this.m().$(),L,O)}function A(L,O){return e.compare(this.m().X(),L,O)}function G(L){const O=this.m();O.$()!==L&&(O.Bi(L),O.Ya())}function z(L){const O=this.m();O.X()!==L&&(O.ri(L),O.Ya())}function F(L,O){const U=this.m();if(U.$()!==L||U.X()!==O)U.cd(L,O),U.Ya()}function H(){return this.m().$()}
function J(){return this.m().X()}function M(){return this.m().Zc().V}function Q(){return this.m().Zc().O}function R(){return this.m().Zc().ca}function T(){return this.m().Zc().Z}function Z(L,O){return e.os(this.m().Ma(),e.xb(O))<=e.xb(L)}function X(L){return e.yf(this.m().Ma(),e.xb(L))}function ba(L,O){L=e.xb(L);O=e.xb(O);const U=this.m().Ma();return e.yf(O,L)?e.yf(U,L)&&!e.yf(U,O):!(!e.yf(U,L)&&e.yf(U,O))}function Y(L){const O=this.m();L=e.se(e.xb(L));isNaN(L)||O.Ma()===L||(O.zd(L),O.Ya())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.zd(O.Ma()+e.xb(L));O.Ya()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.zd(O.Ma()-e.xb(L));O.Ya()}}function ya(L,O){const U=this.m(),aa=U.Ma();L=e.bK(aa,e.xb(O),e.xb(L));isNaN(L)||aa===L||(U.zd(L),U.Ya())}function Na(L,O,U){const aa=this.m(),ha=aa.Ma();O-=aa.oa();U-=aa.pa();L=e.bK(ha,Math.atan2(U,O),e.xb(L));isNaN(L)||ha===L||(aa.zd(L),aa.Ya())}function Sa(L,O){const U=this.m(),aa=U.Ma();L-=U.oa();O-=U.pa();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.zd(O),U.Ya())}function Ta(){return e.Wh(this.m().Ma())}
function Ua(L,O){return e.compare(e.vV(100*this.m().Id()),L,O)}function Wa(){return this.m().ad()}function eb(L){const O=this.m();L=2===L?!O.ad():0!==L;O.ad()!==L&&(O.Ai(L),this.g.aa())}function fb(L){L=e.da(L/100,0,1);const O=this.m();O.Id()!==L&&(O.si(L),this.g.aa())}function Pa(L){a.zs(L);L=this.m();L.bb.Wl(a)||(L.LO(a),this.g.aa())}function Va(){const L=this.m().bb;return e.oy(L.Sa,L.Va,L.Ua,L.Ta)}function ib(){return e.vV(100*this.m().Id())}function Ya(L){return L?this.m().ba()===L:!1}function vb(L){const O=
this.T(),U=O.ja();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.ba().Ea(),Ga=ka.ba().Ea();if(0===L){if(wa>Ga||wa===Ga&&ua.Jj()>ka.Jj())aa=ja}else if(wa<Ga||wa===Ga&&ua.Jj()<ka.Jj())aa=ja}O.rm(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.ab():aa.cf();return e.compare(L,O,U)}function jb(){this.m().L5()}function xb(){this.m().J5()}function yb(L){L&&this.m().K5(L)}function zb(L,O){L=0===L;O&&(O=O.jM(this.za()))&&this.m().I5(O,
L)}function Ab(L){const O=this.m();O.ab()!==L&&(O.gf(L),this.g.aa())}function Bb(){return this.m().ba().Ea()}function Cb(){return this.m().ba().wa()}function Db(){return this.m().Jj()}function kb(){return this.m().ab()}function Eb(){return this.m().cf()}function Fb(L,O){if(O=this.H().Ja.Lk(O)){O=O.Ea();L=1===L;var U=this.m().Wf;U.nt(O)!==L&&(U.oO(O,L),U.nh(),this.g.aa())}}function Gb(L,O,U){var aa=this.H().Ja.Lk(L);if(aa){L=aa.Ea();var ha=this.m().Wf,fa=ha.Kk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Kf().Kx(O);if("color"===aa){a.zs(U);O=fa[O];if(a.Wl(O))return;O.jj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.nt(L)&&this.g.aa()}}}const lb=e.j(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.Vc<U.Vc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.Vc<U.Vc?L.Mn(O,U):L.Mn(U,O)}function qa(L,O,U){return O.Vc<U.Vc?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.za();const ha=0!==U||0!==aa,fa=L.m(),ja=L.G(),ua=ja.Oi;var ka=ja.Ff();
const wa=ka.ye().Dd;var Ga=ka.H();ka=ka.$i;const Ia=O.T();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Qb?(lb.na(fa.Zc()),lb.offset(U,aa),ua.wD(fa.ba(),O,lb,mb),O=mb):wa?ja.UM()&&!Ia.Xb.length&&Ia.F.length?O=Ia.F:(O=Ia.Xb,ob=!0):O=Ia.F;ha&&(db=fa.oa(),Ha=fa.pa(),fa.my(U,aa),fa.Ya());for(const da of O)if(ua.kF(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.ym(db,Ha),fa.Ya());e.D(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Db().Dd;O=Za.T();const U=O.F,aa=O.Xb;O.Qb?(O.Nt(Qa),L&&(e.D(aa),
O.eL(Qa,Za.ja()))):L?ob?O.j5(Qa):(O.eL(Qa,U),O.Nt(Qa)):O.Nt(Qa);Za.$b()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ke)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Oi,aa=O.ga(),ha=aa.$c();var fa=aa.Ff();const ja=fa.H();var ua=fa.Fj(),ka=fa.ht();fa=ha.Ye();const wa=O.tk,Ga=wa-1,Ia=fa.Db(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.j(e.xt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Sb().addEventListener("instancedestroy",
Ra=>{Ha.JL(Ra.instance)}));O=L.T();ua=ja.T().ja();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Qb?(U.wD(Ea.m().ba(),L,Ea.m().Zc(),Xa),ka=Xa,U.hL(Ea,L,ka)):ka=O.ja();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.kF(Ea,La)||U.qL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.pd(),aa.De(ma),na=ja.T(),da=L.T(),na.fe(!1),da.fe(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.$b()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.$b(),L.$b()),Ia.sg(fa,db),aa.Kb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ia();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Oi,aa=O.ga(),ha=aa.$c();var fa=aa.Ff();const ja=fa.H();var ua=fa.Fj(),ka=fa.ht();fa=ha.Ye();const wa=O.tk,Ga=wa-1,Ia=fa.Db(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.j(e.xt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Sb().addEventListener("instancedestroy",Ra=>
{Ha.JL(Ra.instance)}));O=L.T();ua=ja.T().ja();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Qb?(U.wD(Ea.m().ba(),L,Ea.m().Zc(),Xa),ka=Xa,U.hL(Ea,L,ka)):ka=O.ja();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.kF(Ea,La)||U.qL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.pd(),aa.De(ma),na=ja.T(),da=L.T(),na.fe(!1),da.fe(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.$b()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.$b(),L.$b()),yield*Ia.jg(fa,db),aa.Kb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ia();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().Kj()}function rb(){return this.m().df()}function sb(L,O){const U=this.T().ja();if(0===U.length)return!1;const aa=L.T();var ha=aa.ja();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Iw())wa.Rp(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.Sx();ja.Rp(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Nt(fa);L.$b();return!0}function tb(L,O){const U=this.T().ja();if(0===U.length)return!1;const aa=L.T();var ha=aa.ja();if(aa.Qb){var fa=[...this.g.uK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.df()&&ka.Rp(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Dk())2===O&&wa.df()||wa.Rp(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Nt(fa);L.$b();return!0}function ub(L,O){const U=this.T().ja();if(0===U.length)return!1;const aa=L.T();var ha=aa.ja();if(aa.Qb){var fa=[...this.g.uK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].vD(O);null!==ka&&ka.Rp(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Et(fa);L.$b();return!0}function gb(L,O){return e.compare(this.ia.vx(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.ia,wa=this.g.Ts().H();for(const Ga of L.FU(ka,wa)){if(!Ga.rb().kU)break;ka.cm(Ga,{Cs:O,Ds:U,Np:aa,Mp:ha,Bs:fa,Es:ja,vw:ua})}}function k(L){const O=this.ia,U=this.g.Ts().H();for(const aa of L.FU(O,U))O.Pj(aa)}function t(){this.ia.Kj()&&this.ia.Ba().Pj(this.ia)}function x(){return this.ia.vx()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.uy(),U.Ya()):U.gD(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.m();ka.BO(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Qw:fa,OV:ja,RV:ua})&&ka.Ya()}function E(){const L=this.m();return L.Lf()?L.Gj().ik:0}function I(){const L=this.m();return L.Lf()?L.Gj().wk:0}function K(L){const O=this.m();L=2===L?!O.ad():0!==L;O.ad()!==L&&O.Ai(L)}function N(L,O){this.Y3(L,O)}function P(L,O){this.X3(L,""+O)}function S(L){this.g3(L)}function W(){this.VL()}function V(){this.kL()}function ea(){return this.uH}function ia(L){this.Aoa(0!==L)}function ca(){return this.yoa()}
function oa(L,O,U){return e.compare(this.za().Ae(L),O,U)}function la(L){return!!this.za().Ae(L)}function ra(L,O){const U=this.T(),aa=U.ja();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Ae(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Ae(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.rm(fa);return!0}function sa(L){if(this.g.Ff().$i){{const aa=this.T();if(aa.Qb){aa.fe(!1);aa.ax();var O=this.ja();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.Vc===L?aa.fl(U):aa.Eo(U)}this.$b();
L=!!aa.F.length}else{O=aa.F;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.Vc===L?aa.fl(ja):++U}e.Ve(O,U);this.$b();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().yj(O);if(!O)return!1;const U=L.T();if(!U.Qb&&!U.F.includes(O))return!1;if(L.Wa){if(O.H().VC(L))return U.rm(O),L.$b(),!0}else if(O.H()===L)return U.rm(O),L.$b(),!0;return!1}function za(){this.g.Nn(this.ia)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.za().wm(L,O)}function Fa(L,
O){const U=this.za(),aa=U.Ae(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.wm(L,aa+O)}function Ja(L,O){const U=this.za(),aa=U.Ae(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.wm(L,aa-O))}function Ka(L,O){this.za().wm(L,O?1:0)}function Da(L){const O=this.za();O.wm(L,0===O.Ae(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.za();
L.cz("state");L.xd(O,"state")}function Ib(){return JSON.stringify(this.za().Nd("state"))}function nc(){return this.za().H().wa()}function oc(){const L=this.g.Xe().AH;let O=L.F.length;for(const U of this.g.uK(L))++O;return O}function pc(){return this.g.Xe().AH.T().ja().length}function qc(){return this.ia.Rn()}function rc(){return this.ia.Vc}e.$V=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.L,da=O.tc,na=O.ac;L[3]&&(ma.Qga=
b,ma.Rga=d,ma.Lia=c,ma.Nia=h,ma.F2=m,da.lh=g,da.Ci=l,da.u4=n,da.Yma=p,da.vja=q,da.uja=u,na.Qy=w,na.Ry=r,na.UU=v);aa&&(ma.Pga=y,ma.Iga=A,da.Bi=G,da.ri=z,da.cd=F,na.F5=H,na.R_=J,na.Yfa=M,na.$fa=Q,na.Zfa=R,na.Xfa=T);ha&&(ma.pW=Z,ma.S0=X,ma.R0=ba,da.zd=Y,da.Mla=va,da.Nla=ta,da.Ola=ya,da.Pla=Na,da.$ma=Sa,na.Ofa=Ta);fa&&(ma.ad=Wa,ma.Jga=Ua,da.Ai=eb,da.si=fb,da.mma=Pa,na.Opacity=ib,na.Bga=Va);ja&&(ma.Jia=Ya,ma.ska=vb,ma.Sga=wb,da.yja=jb,da.wja=xb,da.xja=yb,da.woa=zb,da.gf=Ab,na.aja=Bb,na.$ia=Cb,na.voa=Db,
na.uoa=kb,na.Hna=Eb);ua&&(da.nma=Fb,da.oma=Gb);Ia&&(ma.Kj=Rb,ma.df=rb,ma.qka=sb,ma.kka=tb,ma.oka=ub,ma.Gga=gb,da.cm=f,da.Pj=k,da.Rka=t,na.wga=x);db&&(da.Uma=C,da.BO=D,na.rja=E,na.sja=I);ka&&(ma.ad=Wa,da.Ai=K,da.jma=N,da.pma=P,da.Qka=S);wa&&(ma.zia=ea,da.tma=W,da.gma=V);Ga&&(ma.fo=ca,da.rma=ia);Ha&&(ma.Mja=Nb,ma.Oia=Pb,ma.Pia=Qb,O.aZ=Mb);U||(ma.eX=oa,ma.oia=la,ma.lka=ra,ma.E2=sa,da.i4=Ca,da.Jfa=Fa,da.Ana=Ja,da.hma=Ka,da.Fna=Da,ma.Y1=Aa,ma.Z1=Ba,da.HX=za,da.rE||(da.rE=Hb),na.xW||(na.xW=Ib),na.Yga=oc,
na.G2=pc,na.Yha=qc,na.YO=rc,na.Hja=nc)}}
{"use strict";const e=self.B;e.LE=class extends e.ea{constructor(a){super();this.ta=a;this.ua="";this.Zb=-1;this.Tv="";this.OA=!1;this.Ti=null;this.Rf=0;this.Pe=[];this.zp=new Map;this.ll=null;this.yu=-1;this.HH=this.Jg=null;this.Sv=!1}A(){this.ua="";this.Zb=-1;this.Tv="";this.HH=this.Jg=this.ll=this.Ti=null;this.yu=-1;e.D(this.Pe);for(const a of this.zp.values())a.A();this.zp.clear()}zg(){var a=this.ta,b=a.G().Mc;const d=a.Xe();this.Ti=d.Db();this.Rf=d.Rf+1;if(a=a.pD(this.Ti))this.ll=a,this.Jg=a.TW(),
this.HH=a.XH.map(c=>c.yb()),a.qg()&&(this.yu=a.D2());for(const c of b)if(b=c.T(),!b.Qb||this.Ti.O_(c))this.Pe.push(c),this.zp.set(c,e.j(e.PO,b))}I0(a){this.ua="timer";this.zg();this.Zb=this.ta.G().Nk()+a}G0(a){this.ua="signal";this.zg();this.Tv=a.toLowerCase()}u0(a){this.ua="promise";this.zg();a.then(()=>this.XE()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.XE()})}g1(){return"timer"===this.ua}e1(){return"signal"===this.ua}a1(){return"promise"===
this.ua}XE(){this.OA=!0}AR(){return this.g1()?this.Zb<=this.ta.G().Nk():this.OA}dR(a){a.hG(this.Ti,this.Rf);for(const [b,d]of this.zp.entries())d.hG(b.T());if(a=this.ll)a.Jt(this.Jg),a.XH.map((b,d)=>b.Fe(this.HH[d])),a.qg()&&a.y3(this.yu)}Q$(a){this.dR(a);this.Ti.P$(a);this.ll&&this.ll.qg()&&this.ll.tt(this.yu);this.ta.Sp(this.Pe);this.Sv=!0}async O6(a){this.dR(a);for(const b of this.Ti.N6(a))await this.ta.G().Tp(b);this.ll&&this.ll.qg()&&this.ll.tt(this.yu);this.ta.Sp(this.Pe);this.Sv=!0}po(a){for(const b of this.zp.values())b.po(a)}fa(){const a=
{},b={t:this.Zb,st:this.Tv,s:this.OA,ev:this.Ti.fb,sm:this.Pe.map(d=>d.fb),sols:a};this.Ti.t8(this.Rf)&&(b.act=this.Ti.YL(this.Rf).fb);for(const [d,c]of this.zp)a[d.fb.toString()]=c.fa();return b}static t6(a,b){const d=a.G();var c=a.xZ(b.ev);if(!c)return null;let h=0;if(b.hasOwnProperty("act")){var m=a.gZ(b.act);if(!m)return null;h=m.Ea()}m=e.j(e.LE,a);m.Zb=b.t;m.ua=-1===m.Zb?"signal":"timer";m.Tv=b.st;m.OA=b.s;m.Ti=c;m.Rf=h;for(var g of b.sm)(c=d.Jx(g))&&m.Pe.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
d.Jx(parseInt(l,10)))g=e.j(e.PO,null),g.ka(a,n),m.zp.set(b,g);return m}}}{"use strict";const e=self.B;e.PO=class extends e.ea{constructor(a){super();this.K=null;this.NA=!0;this.F=[];a&&(this.K=a.H(),this.NA=a.Qb,e.Hc(this.F,a.F))}A(){this.K=null;e.D(this.F)}hG(a){a.fe(this.NA);e.Hc(a.F,this.F)}po(a){e.gg(this.F,a)}fa(){return{sa:this.NA,insts:this.F.map(a=>a.Vc)}}ka(a,b){a=a.G();this.NA=!!b.sa;e.D(this.F);for(const d of b.insts)(b=a.yj(d))&&this.F.push(b)}}}
{"use strict";const e=self.B;function a(b,d){let c=b.get(d);c||(c=new Map,b.set(d,c));return c}e.vq=class extends e.ea{constructor(b){super();this.g=b.Df;this.Pm=!!b.eV;this.sf=!!b.tea;this.Kca=!!b.sea;this.Uca=!!b.Fea;this.vca=!!b.iea;this.kU=!!b.dfa;this.nda=!!b.cfa;this.YT=null;this.UR=new Map;this.Zba=new Map;this.$ba=new Map;this.aca=new Map}A(){this.g=null}G(){return this.g}Md(){}lq(){return this.Kca}nq(){return this.Uca}TD(){return this.vca}Yj(b,d){if(!d)throw Error("missing 'this' binding");
let c=this.UR.get(b);if(c)return c;c=b.bind(d);this.UR.set(b,c);return c}WP(b,d,c){if(!d)throw Error("missing 'this' binding");const h=a(this.Zba,b);let m=h.get(c);if(m)return m;m=b.bind(d,c);h.set(c,m);return m}XP(b,d,c,h){if(!d)throw Error("missing 'this' binding");var m=a(this.$ba,b);m=a(m,c);let g=m.get(h);if(g)return g;g=b.bind(d,c,h);m.set(h,g);return g}YP(b,d,c,h,m){if(!d)throw Error("missing 'this' binding");var g=a(this.aca,b);g=a(g,c);g=a(g,h);let l=g.get(m);if(l)return l;l=b.bind(d,c,h,
m);g.set(m,l);return l}bba(b){if(!this.Pm)throw Error("must be single-global plugin");this.YT=b}gi(){if(!this.Pm)throw Error("must be single-global plugin");return this.YT.gi()}}}
{"use strict";const e=self.B;e.Vla=class extends e.vq{constructor(a,b){super(a);this.Km=b;this.Xca=0;this.YH=new Map;this.dL("elem-focused",d=>d.O9());this.dL("elem-blurred",d=>{d&&d.N9()})}A(){super.A()}Q5(a){const b=this.Xca++;this.YH.set(b,a);return b}G$(a){this.YH.delete(a)}dL(a,b){this.g.Xh(this.Km,a,d=>{const c=this.YH.get(d.elementId);b(c,d)})}}}{"use strict";const e=self.B;e.xy=class extends e.ea{constructor(a){super();this.K=a;this.g=a.G();this.Ih=a.rb()}A(){this.Ih=this.g=this.K=null}H(){return this.K}G(){return this.g}rb(){return this.Ih}Ze(){return this.K.Ze()}Ls(){}mq(){}oo(){}ny(){}yE(){}jm(){return null}}}
{"use strict";const e=self.B;e.wy=class extends e.ea{constructor(a,b){super();this.ia=a;this.Km=b;this.g=a.G();this.K=this.ia.H();this.Gc=this.K.Gc;this.Zr=this.Ol=null;this.rv=this.zl=!1;this.lf=null;this.qw=!1}A(){this.qw=!0;this.su();this.vG();this.Zr=this.Ol=null;this.lf&&(this.lf.A(),this.lf=null);this.Gc=this.K=this.g=this.ia=null}Oy(){return this.qw}za(){return this.ia}G(){return this.g}H(){return this.K}rb(){return this.Gc.rb()}eq(){return this.ia.hh()}Ca(a){return this.g.Ca(a,this.ia,null)}Od(a){return this.g.Od(a,
this.ia,null)}OC(a,b){this.g.Xh(this.Km,a,b)}bW(a){for(const [b,d]of a)this.OC(b,d)}ni(a,b){this.g.Oj(this.Km,a,b)}xE(a,b){return this.g.ko(this.Km,a,b)}el(a,b){this.g.le?this.ni(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Km,handler:a,data:b,responseId:null})}jf(){}Bm(){this.zl||(this.Ol||(this.Ol=()=>this.jf()),this.g.Sb().addEventListener("tick",this.Ol),this.zl=!0)}su(){this.zl&&(this.g.Sb().removeEventListener("tick",this.Ol),this.zl=!1)}vG(){this.rv&&(this.g.Sb().removeEventListener("tick2",
this.Zr),this.rv=!1)}Nd(){return null}xd(){}Jc(){}ti(){}tE(a,b){if(0!==b){var d=this.Jc(a);if("number"!==typeof d)throw Error("expected number");this.ti(a,d+b)}}jm(){return null}kD(a,b,d){const c=this.eq();a=e.j(e.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.B;e.KE=class extends e.wy{constructor(a,b){super(a,b);this.Pa=a.m();this.gC=this.ks=null}A(){if(this.ks){const a=this.g.Sb();a.removeEventListener("webglcontextlost",this.ks);a.removeEventListener("webglcontextrestored",this.gC);this.gC=this.ks=null}this.Pa=null;super.A()}A_(){if(!this.ks){this.ks=()=>this.pq();this.gC=()=>this.GN();var a=this.g.Sb();a.addEventListener("webglcontextlost",this.ks);a.addEventListener("webglcontextrestored",this.gC)}}pq(){}GN(){}m(){return this.Pa}ho(){return!1}Bj(){if(!this.ho())throw Error("original size not known");
const a=this.gh();if(a)return a.$()}Aj(){if(!this.ho())throw Error("original size not known");const a=this.gh();if(a)return a.X()}gh(){return null}wx(){var a=this.gh();return a&&(a=a.Ld())?[a.$(),a.X()]:[100,100]}xx(){const a=this.gh();return a?a.hi():null}cy(){const a=this.gh();return a?a.jp:!1}Sn(){const a=this.ia.m();return[a.oa(),a.pa()]}tq(){return!0}}}
{"use strict";const e=self.B,a=e.j(e.Rect);e.Ula=class extends e.KE{constructor(b,d){super(b,d);this.Yz=this.rb().Q5(this);this.WS=!0;this.Vba=this.uH=!1;this.Dr=e.j(e.Rect,0,0,-1,-1);b=this.g.M;this.nT=b.zk;this.mT=b.yk;this.Bm()}A(){this.rb().G$(this.Yz);this.qq("destroy");this.Yz=-1;super.A()}qq(b,d){d||(d={});d.elementId=this.Yz;this.ni(b,d)}UQ(b){b||(b={});b.elementId=this.Yz;this.el("focus",b)}Cy(b){b=!!b;this.WS!==b&&(this.WS=b,this.qq("set-visible",{isVisible:b}))}jf(){this.Cba()}jba(){const b=
this.g.M.Cx();return"Android"===e.Kc.oq&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Cba(){var b=this.m();const d=b.ba();var c=b.oa(),h=b.pa();let [m,g]=d.jo(c,h),[l,n]=d.jo(c+b.$(),h+b.X());c=this.g.M;h=c.Oc;const p=c.Bc;if(b.ad()&&d.ad()){if(!this.jba()){if(0>=l||0>=n||m>=h||g>=p){this.Cy(!1);return}1>m&&(m=1);1>g&&(g=1);l>=h&&(l=h-1);n>=p&&(n=p-1)}a.set(m,g,l,n);b=c.zk;h=c.yk;a.hd(this.Dr)&&this.nT===b&&this.mT===h?this.Cy(!0):(this.Dr.na(a),this.nT=b,this.mT=h,this.Cy(!0),b=null,this.Vba&&
(b=d.uj()-.2),this.qq("update-position",{left:Math.round(this.Dr.V)+c.Rs(),top:Math.round(this.Dr.O)+c.Ss(),width:Math.round(this.Dr.width()),height:Math.round(this.Dr.height()),fontSize:b}))}else this.Cy(!1)}VL(){this.UQ({focus:!0})}kL(){this.UQ({focus:!1})}O9(){this.uH=!0}N9(){this.uH=!1}Y3(b,d){this.qq("set-css-style",{prop:e.LW(b),val:d})}X3(b,d){this.qq("set-attribute",{name:b,val:d})}g3(b){this.qq("remove-attribute",{name:b})}}}
{"use strict";const e=self.B,a=self.V_;e.Rla=class extends e.ea{constructor(b){super();this.g=b.Df;this.OI=e.j(e.TC);this.lB=e.j(e.TC);this.av=null;this.hda=b.sra||null}A(){this.lB.A();this.OI.A();this.g=null}G(){return this.g}Md(){}R5(b){this.OI.Ic(b)}sM(){return this.OI.sD()}yg(b){this.lB.Ic(b)}Fo(b){this.lB.Mn(b)}ja(){return this.lB.sD()}MZ(){if(null===this.av){const b=this.hda;if(b){if(this.av=new b(this),!(this.av instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.av=new a(this)}return this.av}}}{"use strict";const e=self.B;e.Tla=class extends e.ea{constructor(a){super();this.g=a.G();this.Nc=a;this.K=a.H();this.Ki=a.fm();this.Ki.R5(this.K)}A(){this.Ki=this.K=this.Nc=this.g=null}lg(){return this.Nc}H(){return this.K}G(){return this.g}fm(){return this.Ki}}}
{"use strict";const e=self.B;e.Sla=class extends e.ea{constructor(a,b){super();this.Ez=a;this.Km=b;this.ia=a.ia;this.g=a.G();this.Nc=a.lg();this.Gc=this.Nc.Gc;this.$S=this.rv=this.zl=!1;this.lf=null}A(){this.su();this.vG();this.oba();this.lf&&(this.lf.A(),this.lf=null);this.Gc=this.Nc=this.g=this.ia=this.Ez=null}fm(){return this.Nc.fm()}H(){return this.ia.H()}m(){return this.ia.m()}G(){return this.g}lg(){return this.Nc}eq(){return this.Ez.eq()}Ca(a){return this.g.Ca(a,this.ia,this.Nc)}Od(a){return this.g.Od(a,
this.ia,this.Nc)}jf(){}Bm(){this.zl||(this.g.M5(this),this.zl=!0)}su(){this.zl&&(this.g.D$(this),this.zl=!1)}vG(){this.rv&&(this.g.E$(this),this.rv=!1)}oba(){this.$S&&(this.g.C$(this),this.$S=!1)}OC(a,b){this.g.Xh(this.Km,a,b)}Nd(){return null}xd(){}Jc(){}ti(){}tE(a,b){if(0!==b){var d=this.Jc(a);if("number"!==typeof d)throw Error("expected number");this.ti(a,d+b)}}jm(){return null}kD(a,b,d){const c=this.eq();a=e.j(e.Event,a,b);a.Joa=c;a.instance=c.instance;d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.B;e.C={};e.Qp={};e.H2=class extends e.ea{constructor(a){super();this.g=a;this.Sba=[];this.IT=new Map;this.ud=null;this.Pba=[];this.XG=new Map;this.fT=this.aU=null}tX(a){const b=this.g.ih(a[0]);if(!b)throw Error("missing plugin");e.$V(a,b);a=e.j(b,{Df:this.g,eV:a[1],tea:a[2],sea:a[5],iea:a[8],Fea:a[9],dfa:a[13],cfa:a[14]});a.Md();this.Sba.push(a);this.IT.set(b,a)}vX(){this.ud=e.j(e.C.Qa,{Df:this.g,eV:!0});this.ud.Md()}pX(a){a=this.g.ih(a[1]);if(!a)throw Error("missing behavior");
const b=e.j(a,{Df:this.g});b.Md();this.Pba.push(b);this.XG.set(a,b);!this.aU&&e.Qp.afa&&b instanceof e.Qp.afa?this.aU=b:!this.fT&&e.Qp.vea&&b instanceof e.Qp.vea&&(this.fT=b)}i_(a){return this.IT.get(a)||null}H_(a){return this.XG.has(a)}kZ(a){return this.XG.get(a)||null}et(){return this.ud}}}
{"use strict";const e=self.B,a=new Set;e.$x=class extends e.ea{constructor(){super();this.vk="";this.R=this.U=this.Jv=this.Iv=this.Tr=0;this.Yu=this.jp=!1;this.nf=null;this.Nl="";this.Yf=e.j(e.Rect);this.vp=e.j(e.rd);new self.MM(this);a.add(this)}A(){this.oi();this.nf=null;a.delete(this)}static pq(){for(const b of a)b.Nl="",b.Yf.set(0,0,0,0),b.vp.oj(b.Yf)}kN(b){this.vk=b[0];this.Tr=b[1];this.Iv=b[2];this.Jv=b[3];this.U=b[4];this.R=b[5];this.jp=b[6];this.Yu=!0}u1(b,d){if(this.nf)throw Error("already loaded asset");
this.vk=d;const c={};e.bE(d)&&(c.Fw="remote");this.jN(b,c);return this.nf.iN()}p3(b){if(b===this)throw Error("cannot replace with self");this.oi();this.vk=b.vk;this.Tr=b.Tr;this.Iv=b.Iv;this.Jv=b.Jv;this.U=b.U;this.R=b.R;this.jp=b.jp;this.Yu=b.Yu;this.nf=b.nf;this.Nl=b.Nl;this.Yf=b.Yf;this.vp=b.vp}km(){return this.Tr}$(){return this.U}X(){return this.R}jN(b,d){if(this.nf)throw Error("already got asset");d=Object.assign({},d,{url:this.vk,size:this.km()});this.nf=b.ly(d)}lE(){return this.nf&&this.nf.lE()}async qt(b,
d){if(!this.nf)throw Error("no asset");if(this.Nl)throw Error("already loaded texture");this.Nl="loading";b=await this.nf.qt(b,d);if(!b)return this.Nl="",null;this.Nl="loaded";this.Yu||(this.U=b.$(),this.R=b.X(),this.Yu=!0);this.Yf.set(this.Iv,this.Jv,this.Iv+(this.jp?this.R:this.U),this.Jv+(this.jp?this.U:this.R));this.Yf.Vl(b.$(),b.X());this.vp.oj(this.Yf);this.jp&&this.vp.Sea();return b}oi(){this.Nl&&(this.nf&&this.nf.oi(),this.Nl="",this.Yf.set(0,0,0,0),this.vp.oj(this.Yf))}Ld(){return this.nf?
this.nf.Ld():null}hi(){return this.Yf}Qx(){return this.vp}}}
{"use strict";const e=self.B;e.rW=class extends e.ea{constructor(a){super();this.Da=a[0];this.jda=a[1];this.JA=!!a[2];this.Sr=a[3];this.ST=a[4];this.Jca=!!a[5];this.fb=a[6];this.sd=a[7].map(b=>e.j(e.qW,b));this.wca=new self.S_(this)}A(){for(const a of this.sd)a.A();e.D(this.sd)}r1(a){for(const b of this.sd)b.Ze().jN(a)}s1(a,b){return Promise.all(this.sd.map(d=>d.Ze().qt(a,b)))}a3(){for(const a of this.sd)a.Ze().oi()}wa(){return this.Da}im(a){a=Math.floor(a);if(0>a||a>=this.sd.length)throw new RangeError("invalid frame");
return this.sd[a]}Hj(){return this.jda}og(){return this.Sr}}}
{"use strict";const e=self.B;e.qW=class extends e.ea{constructor(a){super();this.Vf=e.j(e.$x);this.Vf.kN(a);this.Wz=a[7];this.FT=e.j(e.Ut,a[8],a[9]);this.sA=a[10].map(b=>e.j(e.e0,this,b));this.MS=new Map;for(const b of this.sA)this.MS.set(b.wa().toLowerCase(),b);this.No=null;a=a[11];6<=a.length&&(this.No=e.j(e.Ln,a));this.xca=new self.T_(this)}A(){this.No&&(this.No.A(),this.No=null);this.Vf.A();this.Vf=null}Ze(){return this.Vf}Pk(){return this.FT.P}Qk(){return this.FT.N}OZ(a){return this.MS.get(a.toLowerCase())||null}NZ(a){a=
Math.floor(a);return 0>a||a>=this.sA.length?null:this.sA[a]}FD(){return this.sA.length}}}{"use strict";const e=self.B;e.e0=class extends e.ea{constructor(a,b){super();this.Da=b[0];this.cJ=e.j(e.Ut,b[1],b[2])}A(){}wa(){return this.Da}oa(){return this.cJ.P}pa(){return this.cJ.N}}}
{"use strict";const e=self.B,a=self.ig,b=self.NM;e.sE=class extends e.ea{constructor(d,c,h){super();const m=d.ih(h[1]);this.g=d;this.Ih=d.tp.i_(m);this.Gc=null;this.wA=m.Instance;this.Ka=c;this.fb=h[11];this.Da=h[0];this.vv=this.g.ei(h[14]);this.Hca=!!h[9];this.Wa=!!h[2];this.nI=!!h[10];this.Yi=h[3].map(g=>({DV:g[0],type:g[1],name:g[2],uea:d.ei(g[3])}));this.Xba=h[4];this.rca=h[5];this.sf=this.Ih.sf;this.Ja=null;this.Nz=e.j(e.Y4,d.Og,d.Ng);this.QG=!0;this.SG=!1;this.EH=this.Vo=null;this.xh=-1;this.DH=
this.cA=this.dA=this.CH=this.wh=null;this.hI=!1;this.Fg=null;this.SR=h[8].map(g=>e.iL.La(this,g));this.Fz=[];this.YG=new Map;this.WG=new Map;this.tU=new Set;this.an=e.j(e.V4,this);this.zz=this.yz=this.Ad=this.Vf=this.Fg=this.ir=null;this.Yr=0;this.Bb=new Map;this.Ph=new Map;this.F=[];this.TH=!0;this.Ih.TD()&&(this.Ja=e.j(e.Gk,this,h[12]));h[6]&&(this.Vf=e.j(e.$x),this.Vf.kN(h[6]));if(h[7]){this.Ad=h[7].map(g=>e.j(e.rW,g));this.yz=new Map;this.zz=new Map;for(const g of this.Ad)this.yz.set(g.wa().toLowerCase(),
g),this.zz.set(g.fb,g)}this.Wa?(this.Vo=[],this.EH=new Set,this.xh=this.g.f8()):(this.wh=[],this.CH=new Set,this.dA=[],this.cA=[],this.DH=[]);this.Gc=e.j(m.Jq,this,h[15]);this.TS=this.cv=null;this.Zd=e.j(e.Event.Sb);if(c=this.Gc.jm()){if(this.cv=new c(this),!(this.cv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.cv=new b(this);this.g.cC&&!this.Wa&&!this.nI&&this.sf||this.Md();this.Ih.Pm&&(this.Ih.bba(this),this.C6(h))}static La(d,c,h){return e.j(e.sE,
d,c,h)}A(){this.Vf&&(this.Vf.A(),this.Vf=null);if(this.Ad){for(const d of this.Ad)d.A();e.D(this.Ad);this.yz.clear();this.zz.clear()}this.an.A();this.an=null;this.Bb.clear();this.Ph.clear();this.g=this.Fg=null}a9(d){for(let c=1,h=d.length;c<h;++c){const m=this.g.$e(d[c]);this.Vo.push(m);this.EH.add(m);m.wh.push(this);m.CH.add(this)}}Aaa(d){this.hI=!0;this.Fg=d}Tb(){return this.hI}E9(){var d=0;if(!this.Wa)for(var c of this.wh)for(var h of c.SR){const l=h.wa().toLowerCase();this.YG.set(l,h);this.WG.set(l,
d);this.Fz.push(h);++d}for(var m of this.SR)c=m.wa().toLowerCase(),this.YG.set(c,m),this.WG.set(c,d),this.Fz.push(m),++d;for(var g of this.Fz)this.tU.add(g.fm().constructor);if(!this.Wa&&this.wh.length){d=this.g.oS;e.pC(this.dA,d,0);e.pC(this.cA,d,0);e.pC(this.DH,d,0);d=[];c=g=m=0;for(const l of this.wh)if(h=l.xh,this.dA[h]=m,m+=l.Yi.length,this.cA[h]=g,g+=l.Xba,this.DH[h]=c,c+=l.rca,(h=l.Ja)&&this.Ja)for(const n of h.kg())d.push(n.aX(this.Ja));this.Ja&&this.Ja.P2(d)}}C6(d){const c=this.g.e8(),h=
e.j(e.Instance,{Df:this.g,HK:this,uid:c});h.Ty(d[16],[]);this.g.r9(c,h);this.F.push(h)}Md(){this.Wa||this.Gc.Md()}L_(){return 0<this.Yr}mq(d){if(this.Wa)return Promise.resolve();this.Yr++;return 1===this.Yr?this.Gc.mq(d)||Promise.resolve():Promise.resolve()}oo(){if(!this.Wa){this.Yr--;if(0>this.Yr)throw Error("released textures too many times");0===this.Yr&&this.Gc.oo()}}ny(){if(this.Wa)throw Error("not applicable to family");this.Gc.ny()}yE(d){return this.Wa?Promise.resolve():this.Gc.yE(d)}G(){return this.g}rb(){return this.Ih}wa(){return this.Da}ei(){return this.vv}Ea(){return this.Ka}Nf(){return this.Hca}$O(d){return d&&
this.tU.has(d)}TZ(){return this.Yi.map(d=>d.DV)}SZ(d){return this.Yi.findIndex(c=>c.DV===d)}RZ(d){return this.Yi.findIndex(c=>c.name===d)}U7(){return this.Yi.map(d=>d.uea)}Zs(d){d=Math.floor(d);if(0>d||d>=this.Yi.length)throw new RangeError("invalid instance variable index");return this.Yi[d].type}nM(d){d=Math.floor(d);if(0>d||d>=this.Yi.length)throw new RangeError("invalid instance variable index");return this.Yi[d].name}tx(d){return this.YG.get(d.toLowerCase())||null}Ps(d){d=this.WG.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}TD(){return this.Ih.TD()}aP(){return this.Ja&&this.Ja.C_()}T(){return this.an.T()}Ze(){return this.Vf}mO(d){this.ir=d}VC(d){return this.CH.has(d)}SL(d){return this.EH.has(d)}Qn(d){return this.cA[d]}CD(d){return this.dA[d]}ZL(d){if(!this.Ad)throw Error("no animations");return this.yz.get(d.toLowerCase())||null}jZ(d){if(!this.Ad)throw Error("no animations");return this.zz.get(d)||null}GZ(){if(!this.Ad)throw Error("no animations");return this.Ad[0].im(0)}tZ(){if(this.Ad){const d=
this.GZ().Ze();return[d.$(),d.X()]}return this.Vf?[this.Vf.$(),this.Vf.X()]:[100,100]}gi(){if(!this.Ih.Pm)throw Error("not a single-global plugin");return this.F[0]}ja(){return this.F}*aV(){yield*this.F}*mea(){yield*this.F;for(const d of this.g.ul)d.H()===this&&(yield d)}yg(d){this.F.push(d)}ou(){this.TH=!0}rz(){if(this.TH&&!this.Wa){var d=this.F,c=0;for(let h=d.length;c<h;++c)d[c].rR(c);d=this.g.ul;for(const h of d)h.H()===this&&h.rR(c++);this.TH=!1}}mM(d){var c=this.F;if(d<c.length)return c[d];
d-=c.length;c=this.g.ul;for(const h of c)if(h.H()===this){if(0===d)return h;--d}return null}jM(d){if(d&&d.Tb()&&d.H()!==this)for(const c of d.td)if(c.H()===this)return c;d=this.T().ja();return d.length?d[0]:null}g_(d){const c=this.T().ja();return 0<c.length?c[d.Rn()%c.length]:null}*FU(d,c){const h=this.T().ja();var m=h.length;const g=c.T(),l=c.T().ja(),n=l.length;var p=d.Rn();if(c.Wa||!g.Qb)p=l.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Ls(d){this.Gc.Ls(d)}$b(){if(this.hI&&
!this.Wa){this.rz();var d=this.T(),c=d.F,h=d.Qb,m=this.g.Xe();m=m&&m.Db()&&m.Db().Dd;for(const n of this.Fg.Hl)if(n!==this){n.rz();var g=n.T();g.fe(h);if(!h){var l=g.F;e.D(l);for(const p of c)l.push(n.mM(p.Rn()));if(m){l=d.Xb;g=g.Xb;e.D(g);for(const p of l)g.push(n.mM(p.Rn()))}}}}}wba(d,c){for(const h of this.Fg.Hl){const m=h.T();d?e.Ve(m.Xb,c):e.Ve(m.F,c)}}nR(){this.QG=!0}mG(d){this.SG=!!d}HR(){if(this.QG&&this.sf){for(const d of this.F)d.m().KR();for(const d of this.g.ul)d.H()===this&&d.m().KR();
this.QG=!1}}Fj(){this.Bb||(this.Bb=new Map);return this.Bb}ht(){this.Ph||(this.Ph=new Map);return this.Ph}JM(){return this.$O(e.Qp.Dja)}UD(){return this.$O(e.Qp.fka)}fa(){const d={instances:this.F.map(c=>c.Nd())};this.Bb&&this.Bb.size&&(d.ex=e.mF(this.Bb));return d}ka(d){this.Bb&&(this.Bb.clear(),this.Bb=null);var c=d.ex;c&&(this.Bb=e.qD(c));c=this.F;d=d.instances;for(let h=0,m=Math.min(c.length,d.length);h<m;++h)c[h].xd(d[h]);for(let h=d.length,m=c.length;h<m;++h)this.g.Nn(c[h]);for(let h=c.length,
m=d.length;h<m;++h){c=d[h];let g=null;if(this.sf&&(g=this.g.Nb().Gx(c.w.l),!g))continue;this.g.$h(this.ir||this,g,!1,0,0,!0).xd(c)}this.ou()}dh(d){var c=this.g;(c=c.pb&&!c.ga().pt())&&a.hF();this.Zd.dispatchEvent(d);c&&a.RC()}}}{"use strict";const e=self.B;e.iX=class extends e.ea{constructor(a,b){super();this.g=a;this.Hl=b;for(const d of this.Hl)d.Aaa(this)}A(){this.g=null}G(){return this.g}G_(){return this.Hl.some(a=>a.sf)}}}
{"use strict";const e=self.B,a=self.ig,b=self.lt,d=[];let c=0;const h=new WeakMap,m=new WeakMap;e.Instance=class extends e.ea{constructor(g){super();this.g=g.Df;this.Sd=g.HK;this.je=this.ma=this.Pa=null;this.KS=0;this.Vc=g.uid;this.NT=c++;this.ya=0;this.ed=this.Ne=d;var l=this.Sd.Fz;0<l.length&&(this.ed=l.map((n,p)=>e.j(e.Tw,{Df:this.g,dK:n,instance:this,index:p})));this.td=this.Sd.Tb()?[]:null;this.Yd=-1;this.Pb=null;l=this.rb();l.nq()&&(this.ya|=4);if(l.sf)if(this.Pa=e.j(e.G5,this,g.hV),g.SV)this.Pa.Uk(g.SV);
else{this.Pa.t0();const [n,p]=this.Sd.tZ();this.Pa.cd(n,p);this.H().aP()&&this.Pa.Wf.t1()}g.$U?this.d9(g.$U):this.Y8()}A(){this.je&&(this.je.nu(),this.je=null);if(0<this.ed.length){for(var g of this.ed)g.A();e.D(this.ed)}this.ma.A();this.ma=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.td&&e.D(this.td);this.Pb&&(this.Pb.A(),this.Pb=null);this.Sd=this.g=null;0<this.Ne.length&&e.D(this.Ne);this.Pa&&(this.Pa.A(),this.Pa=null)}d9(g){0<g.length&&(this.Ne=
[],e.Hc(this.Ne,g))}Y8(){const g=this.Sd.Yi.length;if(0!==g){this.Ne=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Ne.push(l[this.Sd.Zs(n)])}}Ty(g,l){if(this.ma)throw Error("already got sdk instance");for(let n=0,p=this.ed.length;n<p;++n)this.ed[n].Ty(l?l[n]:null);this.ma=e.j(this.Sd.wA,this,g);if(!(this.ma instanceof e.wy))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.ed.length;n<p;++n);this.Sd.TS&&this.uQ()}m(){return this.Pa}G(){return this.g}hZ(){const g=this.Yd;return-1===
g?this.G().Yd:g}$E(g){g=+g;if(0>g||!isFinite(g))g=0;this.Yd=g}x3(){this.Yd=-1}Sb(){this.Pb||(this.Pb=e.j(e.Event.Sb));return this.Pb}eh(g){this.ma.eh(g)}Md(g){this.ma.Md(g)}Qaa(){this.ya|=2}Sk(){return 0!==(this.ya&2)}YF(){this.ya|=1}mt(){return 0!==(this.ya&1)}nq(){return 0!==(this.ya&4)}qN(){return 0!==(this.ya&32)}It(g,l){g<<=16;this.ya=l?this.ya|g:this.ya&~g}DD(g){return 0!==(this.ya&g<<16)}gh(){return this.ma.gh()}wx(){return this.ma.wx()}xx(){return this.ma.xx()}cy(){return this.ma.cy()}Sn(g){return this.ma.Sn(g)}H(){return this.Sd}tq(){return this.ma.tq()}Rp(g){return g.Wa?
g.SL(this.H()):this.H()===g}bP(){if(!this.rb().kU)throw Error("object does not support scene graph");}Kj(){return null!==this.Ba()}Ba(){var g=this.m();return g?(g=g.Ba())?g.za():null:null}Sx(){var g=this.m();return g?(g=g.Sx())?g.za():null:null}*Iw(){const g=this.m();if(g)for(const l of g.Iw())yield l.za()}df(){const g=this.m();return g?g.df():!1}We(){const g=this.m();return g?g.We().map(l=>l.za()):[]}*children(){const g=this.m();if(g)for(const l of g.children())yield l.za()}*Dk(){const g=this.m();
if(g)for(const l of g.Dk())yield l.za()}vx(){const g=this.m();return g?g.vx():0}vD(g){const l=this.m();return l?(g=l.vD(g))?g.za():null:null}cm(g,l){this.bP();g.bP();this.m().cm(g.m(),l||{})}Pj(g){const l=this.m();l&&l.Pj(g.m())}zx(){const g=this.m();return g?g.zx():!1}R4(){var g=this.m();if(g&&(g=g.vM()))for(const l of g)if(g=this.g.yj(l[2])){const n=l[3];this.cm(g,{Cs:!!(n>>0&1),Ds:!!(n>>1&1),Np:!!(n>>2&1),Mp:!!(n>>3&1),Bs:!!(n>>4&1),vw:!!(n>>5&1),Es:!!(n>>6&1)})}}Tb(){return null!==this.td}Kq(g){this.td.push(g)}N_(g){return!!this.BM(g)}BM(g){const l=
this.td;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===g)return n;return null}yi(){for(const g of this.td)g.H().T().Uj(g)}r$(){for(const g of this.td)g.H().T().Eo(g)}aba(g){for(const l of this.td)l.H().T().F[g]=l}q$(){for(const g of this.td)g.H().T().fl(g)}$aa(g){for(const l of this.td)l.H().T().Xb[g]=l}rb(){return this.Sd.rb()}rR(g){this.KS=g}Rn(){this.Sd.rz();return this.KS}$L(g){const l=this.ed;for(let n=0,p=l.length;n<p;++n)if(l[n].lg().fb===g)return n;return-1}Ae(g){g|=0;const l=
this.Ne;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}c8(g){return this.Ne[g]}b8(g){const l=this.Ne[g];return 0===this.Sd.Zs(g)?!!l:l}wm(g,l){g|=0;const n=this.Ne;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Sd.Zs(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}j4(g,l){if(0!==l){g|=0;
var n=this.Ne;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Fj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}ht(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,
g);return g}oQ(g){const l=this.H();if(l.Zd.RD(g))return!0;for(const n of l.wh)if(n.Zd.RD(g))return!0;return this.g.Zd.RD(g)?!0:!1}qz(){const g=new Set;g.add(this);const l=this.m();if(l&&l.df())for(const n of this.Dk())if(g.add(n),n.Tb())for(const p of n.td)g.add(p);if(this.Tb())for(const n of this.td)g.add(n);for(const n of g.values())n.ER()}ER(){if(this.oQ("instancecreate")){const g=this.H(),l=new e.Event("instancecreate");l.instance=this.hh();g.dh(l);for(const n of g.wh)n.dh(l);this.g.dh(l)}this.g.Ca(this.rb().constructor.L.Y1,
this,null)}uba(){this.g.Ca(this.rb().constructor.L.Z1,this,null)}L7(g){if(this.je){var l=new e.Event("destroy");l.qea=g;this.dh(l)}if(this.oQ("instancedestroy")){l=this.H();var n=new e.Event("instancedestroy");n.instance=this.hh();n.qea=g;l.dh(n);for(const p of l.wh)p.dh(n);this.g.dh(n)}}Nd(g="full"){const l={};"full"===g?l.uid=this.Vc:l.c3=!0;if("visual-state"!==g){var n=h.get(this);n&&n.size&&(l.ex=e.mF(n));-1!==this.Yd&&(l.mts=this.Yd);if(0<this.Sd.Yi.length){n={};var p=this.Sd.TZ();for(let q=
0,u=this.Ne.length;q<u;++q)n[p[q].toString()]=this.Ne[q];l.ivs=n}if(this.ed.length){n={};for(const q of this.ed)(p=q.Nd())&&(n[q.lg().fb.toString()]=p);l.behs=n}}this.Pa&&(l.w=this.Pa.fa(g));(g=this.ma.Nd())&&(l.data=g);return l}cz(g="full"){this.Pa&&this.Pa.cz(g)}xd(g,l="full"){if("full"===l)this.Vc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=h.get(this);n&&(n.clear(),h.delete(this));if(n=g.ex)n=e.qD(n),h.set(this,n);this.Yd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=
this.Sd.SZ(parseInt(u,10)),!(0>n||n>=this.Ne.length)){var p=w;null===p&&(p=NaN);this.Ne[n]=p}}if(this.rb().sf){n=g.w;var q=n.l;this.Pa.ba().fb!==q&&(p=this.Pa.ba(),(q=p.cc().Gx(q))?(this.Pa.pu(q),p.Fo(this,!0),q.yg(this,!0),q.wg(),this.Pa.Ya()):"full"===l&&this.g.Nn(this));this.Pa.ka(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [u,w]of Object.entries(l))l=this.$L(parseInt(u,10)),0>l||l>=this.ed.length||this.ed[l].xd(w);(g=g.data)&&this.ma.xd(g)}hh(){return this.je||this.uQ()}uQ(){var g=this.Pa?
self.Yx:b;const l=this.ma.jm(),n=this.Sd.TS,p=n||l||g;b.zg(this);this.je=new p;b.zg(null);if(l&&!(this.je instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.je instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.je}a8(g){if(0!==this.Ne.length){var l={},n=this.Sd.U7();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:e.Instance.prototype.b8.bind(this,p),set:e.Instance.prototype.wm.bind(this,p)};l=Object.create(Object.prototype,l);g.Tpa={value:l,writable:!1}}}V7(g){var l=this.ed;if(0!==l.length){var n={};for(const p of l)n[p.lg().ei()]={value:p.eq(),writable:!1};l=Object.create(Object.prototype,n);g.rw={value:l,writable:!1}}}dh(g){g.instance=this.hh();var l=this.g;(l=l.pb&&!l.ga().pt())&&a.hF();this.hh().dispatchEvent(g);l&&a.RC()}}}
{"use strict";const e=self.B;e.G3=class extends e.ea{constructor(a){super();this.Yb=a;this.wc=null;this.Lz=[];this.PB=a.$();this.OB=a.X();this.AJ=this.zJ=1;this.qB=0}A(){this.wc=null;e.D(this.Lz)}FO(a){this.qB=(this.wc=a)?a.Ma():0}Ba(){return this.wc}df(){return 0<this.Lz.length}We(){return this.Lz}y4(a){this.zJ=a}z4(a){this.AJ=a}Cj(){return this.Yb.Wn()?this.wc.$()/this.wc.Ib.PB:1}Dj(){return this.Yb.Vn()?this.wc.X()/this.wc.Ib.OB:1}fa(){return{sw:this.PB,sh:this.OB,sx:this.zJ,sy:this.AJ,psa:this.qB,
c:this.Lz.map(a=>{let b="";a.Xn()&&(b+="x");a.Yn()&&(b+="y");a.Wn()&&(b+="w");a.Vn()&&(b+="h");a.Tx()&&(b+="a");a.Ux()&&(b+="z");a.zx()&&(b+="d");return{uid:a.za().Vc,f:b}})}}ka(a){this.PB=a.sw;this.OB=a.sh;this.zJ=a.sx;this.AJ=a.sy;this.qB=a.psa}bG(a){const b=this.Yb,d=b.G();for(const c of a.c){a=d.yj(c.uid).m();const h=c.f,m={};m.Cs=h.includes("x");m.Ds=h.includes("y");m.Np=h.includes("w");m.Mp=h.includes("h");m.Bs=h.includes("a");m.Es=h.includes("z");m.vw=h.includes("d");b.cm(a,m)}}}}
{"use strict";const e=self.B,a=e.j(e.Rect),b=e.j(e.rd),d=e.j(e.Event,"bboxchange",!1),c=e.j(e.$a,0,0,0,0),h=e.j(e.Ln),m=e.j(e.$a,1,1,1,1),g=e.j(e.Rect,0,0,-1,-1),l=e.j(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;e.G5=class extends e.ea{constructor(r,v){super();this.ia=r;this.K=r.H();this.g=r.G();this.pk=v;this.Ck=-1;this.ya=196635;this.K.rb().lq()&&(this.ya|=128);this.Mr=this.Lr=this.lH=this.pJ=this.Ta=this.Pc=this.Kg=this.Xg=this.Xc=this.N=
this.P=NaN;this.cH=e.j(e.Rect);this.dH=e.j(e.rd);this.Mz=l;this.Nv=g;this.fj=this.es=this.LB=null;this.Po=this.bb=m;this.Wf=this.Bp=null;this.ia.H().aP()&&(this.Wf=e.j(e.K0,this.ia,this));this.Hh=this.Ib=null}YF(){this.ya|=256}A(){this.Bp&&(this.g.eb().PN(this.Bp),this.Bp=null);this.LB=null;this.es&&(this.es.oV.A(),this.es=null);this.fj&&(this.fj.clear(),this.fj=null);this.uy();this.Kj()&&this.Ba().Pj(this);if(this.df()){const r=[...this.We()];for(const v of r)this.Pj(v)}this.fz();this.pk=this.g=
this.K=this.ia=null}Uk(r){q=!1;this.ym(r[0],r[1]);this.gf(r[2]);this.cd(r[3],r[4]);this.Pc=0;this.lq()?this.zd(r[6]):this.Ta=0;c.Zl(r[7]);this.hz(c);this.Cq(r[8]);this.Dq(r[9]);this.Pf(r[10]);this.Wf&&this.Wf.Z8(r[12]);r[14]&&u.set(this,{Gda:r[14][1],sfa:r[14][2]});if(r[15]){var v=r[15];this.gD(v[0],v[1]);r=this.Gj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.Zp(z,y);J.lh(H[0]);J.Ci(H[1]);J.gf(H[2]);J.aF(H[3]);J.bF(H[4])}}}q=!0;this.Tq()}t0(){this.pJ=
this.Ta=this.Pc=this.Kg=this.Xg=this.Xc=this.N=this.P=0;this.lH=1;this.Mr=this.Lr=0;this.Tq()}G(){return this.g}H(){return this.K}za(){return this.ia}bu(){return this.Tx()?this.Ba().Ma()-this.Ib.qB:0}lh(r){r=+r;if(this.Xn()){const v=this.Ib;r-=this.oa();const y=-this.bu();0===y?this.P+=r/v.Cj():(this.P+=Math.cos(y)*r/v.Cj(),this.Yn()&&(this.N+=Math.sin(y)*r/v.Dj()))}else this.P=r}R1(r){r=+r;this.Xn()?this.lh(this.oa()+r):this.P+=r}oa(){if(this.Xn()){let r=this.P;const v=this.Ib,y=this.Ba(),A=this.bu();
0===A?r*=v.Cj():(r=r*v.Cj()*Math.cos(A),this.Yn()&&(r-=this.N*v.Dj()*Math.sin(A)));return y.oa()+r}return this.P}Ci(r){r=+r;if(this.Yn()){const v=this.Ib;r-=this.pa();const y=-this.bu();0===y?this.N+=r/v.Dj():(this.Xn()&&(this.P-=Math.sin(y)*r/v.Cj()),this.N+=Math.cos(y)*r/v.Dj())}else this.N=r}S1(r){r=+r;this.Yn()?this.Ci(this.pa()+r):this.N+=r}pa(){if(this.Yn()){let r=this.N;const v=this.Ib,y=this.Ba(),A=this.bu();0===A?r*=v.Dj():(r=r*v.Dj()*Math.cos(A),this.Xn()&&(r+=this.P*v.Cj()*Math.sin(A)));
return y.pa()+r}return this.N}ym(r,v){r=+r;v=+v;if(this.FM()){const A=this.Xn(),G=this.Yn(),z=this.Ib,F=r-this.oa(),H=v-this.pa();var y=-this.bu();if(0===y)this.P=A?this.P+F/z.Cj():r,this.N=G?this.N+H/z.Dj():v;else{const J=Math.sin(y);y=Math.cos(y);this.P=A?G?this.P+(y*F-J*H)/z.Cj():this.P+y*F/z.Cj():r;this.N=G?A?this.N+(J*F+y*H)/z.Dj():this.N+y*H/z.Dj():v}}else this.P=r,this.N=v}my(r,v){r=+r;v=+v;this.FM()?this.ym(this.oa()+r,this.pa()+v):(this.P+=r,this.N+=v)}QY(r,v){return this.oa()===r&&this.pa()===
v}gf(r){r=+r;this.Ux()&&(r-=this.Ba().ab());this.Xc!==r&&(this.Xc=r,this.NR(),r=this.ba(),0!==this.Xc&&r.oR(),r.wg())}NR(){this.Tq();if(this.df()){const r=this.We();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.Ux()&&A.NR()}}}T1(r){this.gf(this.ab()+r)}ab(){return this.Ux()?this.Ba().ab()+this.Xc:this.Xc}cf(){return this.ba().ab()+this.ab()}Bi(r){r=+r;if(this.Wn()){const v=this.$();this.Xg=0===v?1E-6:r/v*this.Xg}else this.Xg=r}uN(r){r=+r;this.Wn()?this.Bi(this.$()+r):this.Xg+=r}$(){return this.Wn()?
this.Ba().$()*this.Xg:this.Xg}ri(r){r=+r;if(this.Vn()){const v=this.X();this.Kg=0===v?1E-6:r/v*this.Kg}else this.Kg=r}tN(r){r=+r;this.Vn()?this.ri(this.X()+r):this.Kg+=r}X(){return this.Vn()?this.Ba().X()*this.Kg:this.Kg}cd(r,v){r=+r;v=+v;if(this.Wn()){const y=this.$();this.Xg=0===y?1E-6:r/y*this.Xg}else this.Xg=r;this.Vn()?(r=this.X(),this.Kg=0===r?1E-6:v/r*this.Kg):this.Kg=v}n_(){if(this.Kj()){const r=this.Ib;return Math.min(r.Cj(),r.Dj())}return 1}lq(){return 0!==(this.ya&128)}zd(r){r=+r;this.lq()&&
(this.Tx()&&(r-=this.Ba().Ma()),r=e.se(r),this.Ta!==r&&(this.Ta=r,this.ZF()))}N1(r){r=+r;0!==r&&this.lq()&&(this.Ta=e.se(this.Ta+r),this.ZF())}ZF(){this.ya|=262144;if(this.df()){const r=this.We();for(let v=0,y=r.length;v<y;v++)r[v].ZF()}}Ma(){return this.Tx()?e.se(this.Ba().Ma()+this.Ta):this.Ta}KQ(){const r=this.ya;if(0!==(r&262144)){var v=this.Ma();this.pJ=Math.sin(v);this.lH=Math.cos(v);this.ya=r&-262145}}LD(){this.KQ();return this.pJ}xD(){this.KQ();return this.lH}Cq(r){this.Lr=+r}P1(r){this.Lr+=
+r}Pk(){return this.Lr}Dq(r){this.Mr=+r}Q1(r){this.Mr+=+r}Qk(){return this.Mr}hz(r){this.bb.hd(r)||(this.bb===m?(this.bb=e.j(e.$a,r),this.Po=e.j(e.$a,r),this.Po.OK()):r.oC(1,1,1,1)?this.Po=this.bb=m:(this.bb.set(r),this.Po.set(r),this.Po.OK()),this.Tq())}si(r){r=e.da(+r,0,1);this.bb.Kp!==r&&(c.jj(this.bb),c.Kp=r,this.hz(c))}O1(r){this.si(this.Id()+r)}Id(){return this.bb.Kp}LO(r){this.bb.Wl(r)||(c.jj(r),c.Kp=this.bb.Kp,this.hz(c))}K4(r,v,y){c.As(r,v,y);this.LO(c)}ID(){return this.Po}zx(){return 0!==
(this.ya&512)}T3(r){this.Ie(512,r)}Xn(){return 0!==(this.ya&1024)}F4(r){this.Ie(1024,r)}Yn(){return 0!==(this.ya&2048)}FM(){return 0!==(this.ya&3072)}G4(r){this.Ie(2048,r)}Wn(){return 0!==(this.ya&4096)}E4(r){this.Ie(4096,r)}Vn(){return 0!==(this.ya&8192)}D4(r){this.Ie(8192,r)}Tx(){return 0!==(this.ya&16384)}C4(r){this.Ie(16384,r)}Ux(){return 0!==(this.ya&32768)}H4(r){this.Ie(32768,r)}uP(){this.ya&=-65025}cm(r,v){if(r!==this&&!r.Kj()&&!this.qQ(r)&&!this.pQ(r)){var y=r.oa(),A=r.pa(),G=r.$(),z=r.X(),
F=r.Ma(),H=r.ab();r.uR(this);r.F4(v.Cs);r.G4(v.Ds);r.E4(v.Np);r.D4(v.Mp);r.C4(v.Bs);r.H4(v.Es);r.T3(v.vw);v.Cs&&(r.P=y-this.oa(),v.Np&&(r.P/=this.$()/this.Ib.PB));v.Ds&&(r.N=A-this.pa(),v.Mp&&(r.N/=this.X()/this.Ib.OB));v.Np&&(r.Xg=G/this.$(),r.Ib.y4(r.Xg));v.Mp&&(r.Kg=z/this.X(),r.Ib.z4(r.Kg));v.Bs&&(r.Ta=F-this.Ma());v.Es&&(r.Xc=H-this.ab());this.N5(r);this.Ya()}}Pj(r){if(r.Ba()===this){var v=r.oa(),y=r.pa(),A=r.$(),G=r.X(),z=r.Ma(),F=r.ab();r.uR(null);r.uP();r.ym(v,y);r.cd(A,G);r.zd(z);r.gf(F);
this.F$(r);this.Ya()}}N$(){for(var r of this.children())this.Pj(r);(r=this.Ba())&&r.Pj(this);this.uP()}Kj(){return null!==this.Ba()}Ba(){const r=this.Ib;return null!==r?r.Ba():null}Sx(){let r=this;for(;r.Kj();)r=r.Ba();return r}*Iw(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}I_(r){return this.We().includes(r)}df(){const r=this.Ib;return null!==r?r.df():!1}We(){const r=this.Ib;return null!==r?r.We():p}children(){return this.We()}*Dk(){for(const r of this.children())yield r,yield*r.Dk()}vx(){return this.We().length}vD(r){const v=
this.We();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}yF(r){this.Ib||(this.Ib=e.j(e.G3,this));r&&this.Ib.FO(r)}fz(){this.Ib&&(this.Ib.A(),this.Ib=null)}uR(r){r?(r.yF(null),this.yF(r)):(this.Ib&&this.Ib.FO(null),this.df()||this.fz())}pQ(r){if(!this.Kj())return!1;const v=this.Ba();return v===r?!0:v.pQ(r)}qQ(r){if(this.I_(r))return!0;for(const v of this.We())if(v.qQ(r))return!0;return!1}N5(r){this.Ib.We().push(r)}F$(r){const v=this.Ib.We(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Kj()||
this.fz();r.df()||r.fz()}vM(){const r=u.get(this);return r?r.Gda:null}o_(){const r=u.get(this);return r?r.sfa:NaN}bq(){const r=w.get(this);return e.Mf(r)?r:NaN}WE(r){w.set(this,r)}Tq(){if(q){var r=this.g.eb();this.Bp&&r.PN(this.Bp);this.Bp=r.YV(0!==(this.ya&524288)?r.MB||"<point>":r.NB||"<default>",this.sj(),this.Po,this.ab())}}gq(){return this.bb===m}Pf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.sj()!==r&&(this.ya=this.ya&-2080374785|r<<26,this.Tq())}sj(){return(this.ya&
2080374784)>>26}pu(r){this.pk=r;0!==this.ab()&&this.pk.oR()}ba(){return this.pk}cc(){return this.ba().cc()}oz(r){this.Ck=r|0}Jj(){this.pk.uu();return this.Ck}Ie(r,v){this.ya=v?this.ya|r:this.ya&~r}ad(){return 0!==(this.ya&1)}Ai(r){this.Ie(1,r)}ii(){return 0!==(this.ya&8)}Ft(r){r=!!r;this.ii()!==r&&(this.Ie(8,r),r?this.Ya():this.ZQ())}YE(r,v){this.Ie(32,r);this.fj&&this.fj.clear();if(v.trim()){this.fj||(this.fj=new Set);for(const y of v.split(" "))y&&this.fj.add(y.toLowerCase())}else this.fj=null}Ya(){this.ya|=
65554;this.K.nR();this.g.aa();this.pk.Ao()&&(this.Xw(this.cH,this.dH,!0),this.ya&=-3,this.Dba());0!==(this.ya&4)&&this.ia.Sb().dispatchEvent(d);if(null!==this.Ib){const r=this.Ib.We();for(let v=0,y=r.length;v<y;++v)r[v].Ya()}}Xw(r,v,y){const A=this.oa(),G=this.pa(),z=this.$(),F=this.X(),H=this.Ma();r.Yg(A-this.Lr*z,G-this.Mr*F,z,F);y&&this.Lf()&&this.D7(r);0===H?v.oj(r):(r.offset(-A,-G),v.AV(r,this.LD(),this.xD()),v.offset(A,G),v.sK(r));r.normalize()}JR(){const r=this.ya;0!==(r&2)&&(this.Xw(this.cH,
this.dH,!0),this.ya=r&-3)}Zc(){this.JR();return this.cH}tj(){this.JR();return this.dH}IN(r){var v=this.oa(),y=this.pa();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.na(r);b.offset(v,y);return b}P3(r){this.Ie(4,r)}RM(){return 0!==(this.ya&4)}$M(r,v,y){return v&&0!==this.Pc?this.iq(this.ba().Nq()):0===this.ab()||y?r.vC(this.Zc()):this.O8()}O8(){const r=this.ba(),v=this.cf();if(v>=r.Qs())return!1;r.HM(v,a);return a.vC(this.Zc())}iq(r){var v=this.Zc();const y=v.V,A=v.ca,G=v.O;v=v.Z;
const z=this.cf();return r.jX(y,G,z,A,v,z+this.Pc)}iz(r){this.Ie(1048576,r)}kz(r){this.Ie(2097152,r)}ZE(r){this.LB=r;this.FF();this.Lf()&&(this.Hh.DK=null)}Wx(){return null!==this.LB||this.Lf()}Rk(){return this.X7(this.$(),this.X(),this.Ma(),this.LD(),this.xD())}X7(r,v,y,A,G){let z=this.es;null===z&&(this.es=z={oV:e.j(e.Ln),width:NaN,height:NaN,angle:NaN});const F=z.oV;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.LB;if(this.Lf()){const J=this.Pk(),M=this.Qk(),Q=this.Gj();let R=
this.Hh.DK;R||(H?(h.na(H),h.offset(J,M)):h.Wea(),R=Q.J0(h),this.Hh.DK=R);Q.k5(R,F);F.offset(-J,-M);F.bL(r,v,A,G)}else H?(F.na(H),F.bL(r,v,A,G)):F.VK(this.tj(),-this.oa(),-this.pa());z.width=r;z.height=v;z.angle=y;return F}FF(){this.s4();const r=this.es;null!==r&&(r.width=NaN)}gD(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.za().rb().nda)throw Error("object does not support mesh");this.uy();this.Hh={XK:e.j(e.I.pN,r,v),KV:e.j(e.I.pN,r,v),DK:null}}Lf(){return null!==this.Hh}Gj(){if(!this.Lf())throw Error("no mesh");
return this.Hh.XK}GM(){if(!this.Lf())throw Error("no mesh");return this.Hh.KV}TE(r){this.Ie(65536,r)}bN(){return 0!==(this.ya&65536)}s4(){this.Ie(131072,!0)}D7(r){const v=this.Hh.XK,y=Math.min(v.e_(),0),A=Math.min(v.f_(),0),G=Math.max(v.b_(),1),z=Math.max(v.c_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Jea((G-1)*F);r.Iea((z-1)*H);this.Pc=v.d_()}uy(){this.Hh&&(this.Hh.XK.A(),this.Hh.KV.A(),this.Hh=null,this.FF())}BO(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";
if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Qw;let H="number"===typeof y.OV?y.OV:A?0:-1;y="number"===typeof y.RV?y.RV:A?0:-1;if(!this.Lf())return!1;const J=this.Gj(),M=J.Zp(r,v);if(null===M)return!1;let Q=!1;"number"===typeof F&&M.ab()!==F&&(M.gf(F),Q=!0);A&&(G+=r/(J.ik-1),z+=v/(J.wk-1));-1!==H||A?(A&&(H+=r/(J.ik-1)),H=e.da(H,0,1)):H=M.Ug;-1!==y||A?(A&&(y+=v/(J.wk-1)),y=e.da(y,0,1)):y=M.Wg;if(M.oa()===G&&M.pa()===z&&M.Ug===H&&M.Wg===y)return Q;M.lh(G);M.Ci(z);
M.aF(H);M.bF(y);this.FF();return!0}Sk(){return this.ia.Sk()}Gs(r,v){return this.Zc().Af(r,v)&&this.tj().Af(r,v)?this.Sk()?void 0:this.Wx()?this.Rk().Af(r-this.oa(),v-this.pa()):!0:!1}M8(){return 0!==(this.ya&16)}KR(){if(this.M8()&&this.ii()&&0===(this.ya&256)){var r=this.Zc(),v=this.K.Nz,y=this.Mz;a.set(v.Di(r.V),v.Ei(r.O),v.Di(r.ca),v.Ei(r.Z));y.hd(a)||(r=this.ia,y===l?(v.$k(r,null,a),this.Mz=e.j(e.Rect,a)):(v.$k(r,y,a),y.na(a)),this.ya&=-17)}}ZQ(){const r=this.Mz;r!==l&&(this.K.Nz.$k(this.ia,r,
null),this.Mz=l)}Dba(){const r=this.ba();if(r.Ao()&&0===(this.ya&256)){var v=r.Rr,y=this.Zc(),A=this.Nv;a.set(v.Di(y.V),v.Ei(y.O),v.Di(y.ca),v.Ei(y.Z));A.hd(a)||(y=this.ia,A===g?(v.$k(y,null,a),this.Nv=e.j(e.Rect,a)):(v.$k(y,A,a),A.na(a)),r.v4())}}$Q(){const r=this.Nv;r!==g&&(this.ba().Rr.$k(this.ia,r,null),this.Nv=g)}L5(){const r=this.ia,v=this.pk,y=v.F;y.length&&y.$d(-1)===r||(v.Fo(r,!1),v.yg(r,!1),this.g.aa())}J5(){const r=this.ia,v=this.pk,y=v.F;y.length&&y[0]===r||(v.Fo(r,!1),v.n$(r),this.g.aa())}K5(r){const v=
this.ia,y=this.pk;if(y.cc()!==r.cc())throw Error("layer from different layout");r!==y&&(y.Fo(v,!0),this.pu(r),r.yg(v,!0),this.g.aa())}I5(r,v){const y=this.ia;let A=!1;const G=this.pk;if(r.Vc!==y.Vc){var z=r.m();if(!z)throw Error("expected world instance");z=z.ba();G.Ea()!==z.Ea()&&(G.Fo(y,!0),this.pu(z),z.yg(y,!0),A=!0);r=z.I1(y,r,!!v);(A||r)&&this.g.aa()}}Paa(r){this.Ie(64,r)}jt(){return 0!==(this.ya&64)}fa(r){const v={x:this.oa(),y:this.pa(),w:this.$(),h:this.X(),l:this.ba().fb,zi:this.Jj()};0!==
this.ab()&&(v.ze=this.ab());0!==this.Ma()&&(v.a=this.Ma());this.gq()||(v.c=this.bb.toJSON());.5!==this.Pk()&&(v.oX=this.Pk());.5!==this.Qk()&&(v.oY=this.Qk());0!==this.sj()&&(v.bm=this.sj());this.ad()||(v.v=this.ad());this.ii()||(v.ce=this.ii());this.RM()&&(v.be=this.RM());this.Wf&&(v.fx=this.Wf.fa());const y=0!==(this.ya&32);y&&(v.sfi=y);this.fj&&(v.sft=[...this.fj].join(" "));this.Ib&&"visual-state"!==r&&(v.sgi=this.Ib.fa());this.Lf()&&(v.mesh=this.Gj().Nd());return v}cz(r){"visual-state"!==r&&
this.N$()}ka(r,v){q=!1;this.lh(r.x);this.Ci(r.y);this.Bi(r.w);this.ri(r.h);this.oz(r.zi);this.gf(r.hasOwnProperty("ze")?r.ze:0);this.zd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.Zl(r.c):r.hasOwnProperty("o")?(c.jj(this.bb),c.Kp=r.o):c.Dn(1,1,1,1);this.hz(c);this.Cq(r.hasOwnProperty("oX")?r.oX:.5);this.Dq(r.hasOwnProperty("oY")?r.oY:.5);this.Pf(r.hasOwnProperty("bm")?r.bm:0);this.Ai(r.hasOwnProperty("v")?r.v:!0);this.Ft(r.hasOwnProperty("ce")?r.ce:!0);this.P3(r.hasOwnProperty("be")?r.be:
!1);this.YE(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Wf&&r.hasOwnProperty("fx")&&this.Wf.ka(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.yF(null);const y=this.Ib,A=r.sgi;y.ka(A);const G=this.G().Sb(),z=()=>{G.removeEventListener("afterload",z);0===(this.ya&256)&&y.bG(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.gD(r.cols,r.rows),this.Gj().xd(r)):this.uy();this.Ya();q=!0;this.Tq()}}}
{"use strict";const e=self.B;e.iL=class extends e.ea{constructor(a,b){super();const d=a.G(),c=d.tp,h=d.ih(b[1]);c.H_(h)||c.pX(b);this.g=d;this.K=a;this.Ki=c.kZ(h);this.Gc=null;this.wA=h.Instance;this.fb=b[2];this.Da=b[0];this.vv=this.g.ei(b[3]);this.Gc=e.j(h.Jq,this);this.Md()}static La(a,b){return e.j(e.iL,a,b)}A(){this.Ki=this.g=null;this.Gc.A();this.wA=this.Gc=null}Md(){this.Gc.Md()}G(){return this.g}H(){return this.K}fm(){return this.Ki}wa(){return this.Da}ei(){return this.vv}}}
{"use strict";const e=self.B,a=self.W_;e.Tw=class extends e.ea{constructor(b){super();this.g=b.Df;this.Nc=b.dK;this.Ki=this.Nc.fm();this.ia=b.instance;this.Ka=b.index;this.je=this.ma=null;this.Ki.yg(this.ia)}A(){this.je&&(this.je.nu(),this.je=null);this.Ki.Fo(this.ia);this.ma.A();this.ia=this.Ki=this.Nc=this.g=this.je=this.ma=null}Ty(b){if(this.ma)throw Error("already got sdk instance");this.ma=e.j(this.Nc.wA,this,b);this.D8()}G(){return this.g}lg(){return this.Nc}fm(){return this.Ki}He(){return this.Ka}Nd(){return this.ma.Nd()}xd(b){return this.ma.xd(b)}static fF(b,
d){var c=b.ia,h=d.ia;const m=c.H().Ea(),g=h.H().Ea();if(m!==g)return m-g;c=c.NT;h=h.NT;return c!==h?c-h:b.Ez.He()-d.Ez.He()}D8(){const b=this.ma.jm(),d=b||a;a.zg(this);this.je=new d;a.zg(null);if(b&&!(this.je instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}eq(){return this.je}}}
{"use strict";const e=self.B;e.Gk=class extends e.ea{constructor(a,b){super();this.Yb=a;this.Ag=[];this.Sf=[];this.Xz=new Map;this.vh=[];this.Nr=!0;for(const d of b)a=e.j(e.NL,this,d,this.Ag.length),this.Ag.push(a),this.Xz.set(a.wa().toLowerCase(),a),3<=d.length&&this.vh.push(this.VF(d[2]));this.G().P5(this)}A(){e.D(this.Ag);e.D(this.Sf);this.Xz.clear();e.D(this.vh);this.Yb=null}P2(a){if(a.length){this.Ag=a.concat(this.Ag);for(const b of a)this.Xz.set(b.wa().toLowerCase(),b);for(let b=0,d=this.Ag.length;b<
d;++b)this.Ag[b].pG(b)}}VF(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const h=e.j(e.$a);h.Zl(c);a[b]=h}}return a}G(){return this.Yb.G()}nh(){e.D(this.Sf);let a=!0;for(const b of this.Ag)b.Fb&&(this.Sf.push(b),b.Kf().Nr||(a=!1));this.Nr=a}kg(){return this.Ag}C_(){return 0<this.Ag.length}Lk(a){return this.Xz.get(a.toLowerCase())||null}eM(a){a=Math.floor(+a);if(0>a||a>=this.Ag.length)throw new RangeError("invalid effect type index");return this.Ag[a]}nt(a){return this.eM(a).Fb}oO(a,
b){this.eM(a).zy(b)}jt(){return 0<this.Sf.length}Kk(a){return this.vh[a]}static E3(a){return a&&a instanceof e.$a?{t:"color",v:a.toJSON()}:a}static w1(a){if("object"===typeof a){if("color"===a.t){const b=e.j(e.$a);b.Zl(a.v);return b}throw Error("invalid effect parameter type");}return a}static eO(a){return a.map(e.Gk.E3)}static lN(a){return a.map(e.Gk.w1)}Nd(){return this.Ag.map(a=>({name:a.wa(),active:a.Fb,params:e.Gk.eO(this.vh[a.Ea()])}))}xd(a){for(const b of a)if(a=this.Lk(b.name))a.zy(b.active),
this.vh[a.Ea()]=e.Gk.lN(b.params);this.nh()}}}
{"use strict";const e=self.B;e.NL=class extends e.ea{constructor(a,b,d){super();this.Ja=a;this.Me=b[0];this.Da=b[1];this.Ka=d;this.Uc=null;this.Fb=!0}A(){this.Uc=this.Ja=null}aX(a){a=e.j(e.NL,a,[this.Me,this.Da],-1);a.Uc=this.Uc;a.Fb=this.Fb;return a}sQ(a){a=a.AM(this.Me);if(!a)throw Error("failed to find shader program '"+this.Me+"'");this.Uc=a}wa(){return this.Da}pG(a){this.Ka=a}Ea(){return this.Ka}G(){return this.Ja.G()}zy(a){this.Fb=!!a}Kf(){return this.Uc}uZ(){const a=[];for(let b=0,d=this.Uc.Jp.length;b<
d;++b){const c=this.Uc.Kx(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(e.j(e.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const e=self.B;e.K0=class extends e.ea{constructor(a,b){super();this.ia=a;this.CU=b;this.Ja=a.H().Ja;this.pw=this.TI=!0;this.BU=this.AU=this.yU=!1;this.uh=e.j(e.I.we,a.G().M.tH,{nC:(d,c)=>{c=c.Hm;const h=c.m();d.um(h.ID());d.Gt(h.cf());c.eh(d);d.Gt(0)},ZU:d=>{const c=d.xx(),[h,m]=d.wx();return{HV:c,IV:h,GV:m}},sC:d=>this.Kk(d)});this.Ho=[];this.Sf=[];this.Nr=!0;this.vh=[];for(const d of this.Ja.kg())this.Ho.push(!0);this.nh()}A(){this.uh.A();this.uh=null;e.D(this.Ho);e.D(this.Sf);e.D(this.vh);
this.Ja=this.ia=null}Z8(a){for(const b of a)this.vh.push(this.VF(b))}VF(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const h=e.j(e.$a);h.Zl(c);a[b]=h}}return a}t1(){for(const a of this.Ja.kg())this.vh.push(a.uZ())}bi(){this.ju();return this.uh}G(){return this.ia.G()}nh(){e.D(this.Sf);const a=this.CU,b=this.Ja.kg(),d=this.Sf,c=this.Ho;let h=!0;for(let m=0,g=b.length;m<g;++m)if(c[m]){const l=b[m];d.push(l);l.Kf().Nr||(h=!1)}this.Nr=h;a.Paa(!!d.length);this.TI=!0}ju(){const a=
this.ia;var b=this.CU;const d=b.gq(),c=0<b.Pc;b=0!==b.Ma()||0>b.$()||0>b.X();const h=a.cy();if(this.TI||d!==this.pw||c!==this.yU||b!==this.AU||h!==this.BU)this.uh.XC(this.Sf.map(m=>m.Kf()),{qs:this.Sf.map(m=>m.Ea()),qC:!d||a.nq(),xK:c,BK:h,dV:b}),this.TI=!1,this.pw=d,this.yU=c,this.AU=b,this.BU=h}Kk(a){return this.vh[a]}nt(a){return this.Ho[a]}oO(a,b){this.Ho[a]=!!b}kg(){return this.Ja.kg()}fa(){return this.Ja.kg().map(a=>({name:a.wa(),active:this.Ho[a.Ea()],params:e.Gk.eO(this.vh[a.Ea()])}))}ka(a){for(const b of a)if(a=
this.Ja.Lk(b.name))this.Ho[a.Ea()]=b.active,this.vh[a.Ea()]=e.Gk.lN(b.params);this.nh()}}}
{"use strict";const e=self.B,a=[],b=e.j(e.Ln),d=e.j(e.Ln),c=e.j(e.rd);e.j(e.Rect);e.j(e.Rect);let h=null,m=null,g=null;e.bX=class extends e.ea{constructor(l){super();this.g=l;this.AB=[]}A(){this.g=null}hL(l,n,p){for(const [q,u]of this.AB){let w;if(l===q)w=u;else if(l===u)w=q;else continue;w.Rp(n)&&(p.includes(w)||p.push(w))}}qL(l,n){if(!this.AB.length)return!1;for(const [p,q]of this.AB)if(l===p&&n===q||l===q&&n===p)return!0;return!1}rL(){e.D(this.AB)}kF(l,n){if(!l||!n||l===n)return!1;l=l.m();n=n.m();
if(!l.ii()||!n.ii())return!1;const p=l.ba(),q=n.ba();return p.i1(q)?this.rba(l,n):this.qba(l,n)}rba(l,n){if(!l.Zc().vC(n.Zc())||!l.tj().vK(n.tj())||l.Sk()&&n.Sk())return!1;if(l.Sk())return this.lF(l,n);if(n.Sk())return this.lF(n,l);if(!l.Wx()&&!n.Wx())return!0;const p=l.Rk(),q=n.Rk();return p.Aw(q,n.oa()-l.oa(),n.pa()-l.pa())}qba(l,n){var p=l.Sk(),q=n.Sk();if(p&&!q)return this.RO(l,n);if(q&&!p)return this.RO(n,l);if(q||p)return!1;q=l.ba();p=n.ba();b.na(l.Rk());d.na(n.Rk());var u=b.Fd;for(let w=0,
r=u.length;w<r;w+=2){const v=w+1,y=u[v],[A,G]=q.jo(u[w]+l.oa(),y+l.pa());u[w]=A;u[v]=G}l=d.Fd;for(let w=0,r=l.length;w<r;w+=2){q=w+1;u=l[q];const [v,y]=p.jo(l[w]+n.oa(),u+n.pa());l[w]=v;l[q]=y}b.UK();d.UK();return b.Aw(d,0,0)}RO(l,n){var p=l.ba(),q=n.ba();h||(h=e.j(e.Ln));m||(m=e.j(e.Rect));g||(g=e.j(e.rd));var u=n.oa(),w=n.pa();const [r,v]=q.jo(u,w),[y,A]=p.ah(r,v);p=y-u;w=A-w;m.na(n.Zc());m.offset(p,w);if(!l.Zc().vC(m))return!1;g.na(n.tj());g.offset(p,w);if(!l.tj().vK(g))return!1;h.na(n.Rk());q=
h.Fd;for(let G=0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.UK();return this.lF(l,n,y,A,h,m,g)}lF(l,n,p,q,u,w,r){w=void 0!==w?w:n.Zc();const v=l.oa(),y=l.pa();var A=l.za().ma;p=void 0!==p?p:n.oa();q=void 0!==q?q:n.pa();l=n.Wx();r=void 0!==r?r:n.tj();A.Iha(w,a);for(let F=0,H=a.length;F<H;++F){var G=a[F];A=G.Nha();if(w.nea(A,v,y)&&(c.oj(A),c.offset(v,y),c.vK(r)))if(l){var z=void 0!==u?u:n.Rk();if(G=G.j_()){if(G.Aw(z,p-(v+A.V),q-(y+A.O)))return e.D(a),!0}else if(b.VK(c,0,0),b.Aw(z,p,q))return e.D(a),
!0}else if(z=G.j_()){if(b.VK(r,0,0),z.Aw(b,-(v+A.V),-(y+A.O)))return e.D(a),!0}else return e.D(a),!0}e.D(a);return!1}Iy(l,n,p){const q=l.T();var u=this.g.Db();if(!u)throw Error("cannot call outside event");u=u.Dd;if(q.Qb){q.fe(!1);e.D(q.F);for(var w of l.ja()){var r=w.m(),v=r.ba();const [y,A]=v.ah(n,p,r.cf());v.fy()&&r.Gs(y,A)?q.Eo(w):u&&q.fl(w)}}else{r=!1;u?this.g.UM()&&!q.Xb.length&&q.F.length?w=q.F:(w=q.Xb,r=!0):w=q.F;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.m(),F=z.ba(),[H,J]=F.ah(n,
p,z.cf());F.fy()&&z.Gs(H,J)?r?q.Eo(G):w[v++]=G:r?w[v++]=G:u&&q.fl(G)}w.length=v}l.$b();return q.SD()}wD(l,n,p,q){l=l?1!==l.Td||1!==l.Ud:!1;if(n.Wa)for(const u of n.Vo)l||u.SG?e.vn(q,u.ja()):(u.HR(),u.Nz.ry(p,q));else l||n.SG?e.vn(q,n.ja()):(n.HR(),n.Nz.ry(p,q))}}}
{"use strict";const e=self.B;e.Y4=class extends e.ea{constructor(a,b){super();this.gH=a;this.fH=b;this.Ni=e.j(e.xt)}A(){this.Ni.A();this.Ni=null}gm(a,b,d){let c=this.Ni.Y(a,b);return c?c:d?(c=e.j(e.y_,this,a,b),this.Ni.Set(a,b,c),c):null}Di(a){a=Math.floor(a/this.gH);return isFinite(a)?a:0}Ei(a){a=Math.floor(a/this.fH);return isFinite(a)?a:0}$k(a,b,d){if(b)for(let c=b.V,h=b.ca;c<=h;++c)for(let m=b.O,g=b.Z;m<=g;++m){if(d&&d.Af(c,m))continue;const l=this.gm(c,m,!1);l&&(l.jh(a),l.eo()&&this.Ni.Mn(c,
m))}if(d)for(let c=d.V,h=d.ca;c<=h;++c)for(let m=d.O,g=d.Z;m<=g;++m)b&&b.Af(c,m)||this.gm(c,m,!0).$D(a)}ry(a,b){let d=this.Di(a.V);const c=this.Ei(a.O),h=this.Di(a.ca);a=this.Ei(a.Z);if(isFinite(h)&&isFinite(a))for(;d<=h;++d)for(let m=c;m<=a;++m){const g=this.gm(d,m,!1);g&&g.lD(b)}}}}
{"use strict";const e=self.B;e.y_=class extends e.ea{constructor(a,b,d){super();this.P=b;this.N=d;this.F=e.j(e.TC)}A(){this.F.A();this.F=null}eo(){return this.F.eo()}$D(a){this.F.Ic(a)}jh(a){this.F.Mn(a)}lD(a){e.vn(a,this.F.sD())}}}{"use strict";const e=self.B;e.Mka=class{constructor(){this.rect=new e.Rect;this.ww=0}Set(a,b,d,c){this.rect.set(a,b,d,c);this.rect.normalize();this.ww=0;return this}}}
{"use strict";const e=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),d=self.mj.Xl,c=d.create(),h=e.j(e.rd),m=e.j(e.Rect);e.aD=class extends e.ea{constructor(g){super();this.g=g;this.Mi=null;this.bT=!1;this.ij=this.cb=null;this.LH="high-performance";this.Gm=this.Fm=this.Dg=this.Eg=this.Bc=this.Oc=this.yk=this.zk=0;this.ns="normalized";this.rS=0;this.nr=!0;this.Cc=this.Qc=this.lU=0;this.jS=this.tS="letterbox-scale";this.pca=
this.oca=0;this.Uz=d.create();this.zh=this.VJ="high";this.hp=!1;this.Au=[];this.ZB=new Set;this.EB=self.C3_Shaders;this.tH=e.j(e.I.NY,{XU:()=>[this.wj(),this.vj()],YU:()=>this.vZ(),tV:l=>this.b3(l),getTime:()=>this.G().Nk(),sV:()=>this.G().aa()});this.Uf=this.Mm=0;this.yr=NaN;this.nA=null;this.zI=new Map;this.Wu=NaN;this.hC=new Map;this.JB="";this.qJ=1;this.ZT=e.j(e.Rect);this.rJ="";this.$T=this.Uv=null;this.Av=0;this.oe=-1;this.Tm=0;this.FI=l=>this.Tm=l.progress;this.vf=null;this.xf={Gw:null,Jw:null,
Pw:null};this.uJ=this.fU=this.vJ=0;this.gj="fade-in";this.tJ=null;this.eU=new Promise(l=>this.tJ=l)}Naa(g){this.LH=g}eba(g){this.bT=!!g}gba(g){this.ns=g}Haa(g){this.rS=g}async bh(g){this.Mi=g.canvas;this.g.Xh("runtime","window-resize",p=>this.eG(p));this.g.Xh("runtime","fullscreenchange",p=>this.P9(p));this.g.Xh("runtime","fullscreenerror",p=>this.Q9(p));this.Mi.addEventListener("webglcontextlost",p=>this.mu(p));this.Mi.addEventListener("webglcontextrestored",()=>this.dG());this.hp=!!g.isFullscreen;
var l=navigator.gpu&&this.bT;let n=!1;if(l)try{await this.wQ(!0)}catch(p){this.ij=null}if(!this.eb())try{await this.vQ(!0)}catch(p){this.cb=null}this.eb()||(n=!0);if(!this.eb()&&l)try{await this.wQ(!1)}catch(p){this.ij=null}if(!this.eb())try{await this.vQ(!1)}catch(p){this.cb=null}l=this.eb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.f4(n);"normalized"===this.ns?l.O4():(l.P4(),l.RE(this.rS));this.cd(g.windowInnerWidth,g.windowInnerHeight,!0);this.ij?
await this.G8():this.cb&&await this.F8();l.UE(this.nr);l.Wj()&&(this.yr=0);for(const p of this.g.KG){for(const q of p.kg())q.sQ(l);p.nh()}}async wQ(g){g={powerPreference:this.LH,depth:this.g.Sl,failIfMajorPerformanceCaveat:g,Ooa:this.g.$B,hK:this.g.SJ};this.ij=e.j(e.I.foa);await this.ij.La(this.Mi,g)}async vQ(g){g={powerPreference:this.LH,VU:!0,depth:this.g.Sl,hK:this.g.SJ,failIfMajorPerformanceCaveat:g};"Android"===e.Kc.oq&&"Chromium"===e.Kc.Ww&&75>e.Kc.WC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
g.iV=1);"standard"===this.g.dr?g.alpha=!0:(g.alpha=!1,g.CK=!0);this.cb=e.j(e.I.D5,this.Mi,g);await this.cb.ay()}async G8(){if(this.EB){const g=[];for(const [l,n]of Object.entries(this.EB))n.src=n.dsa,g.push(this.ij.hD(n,e.I.goa.yx(),l));await Promise.all(g)}}async F8(){if(this.EB){const g=[];for(const [l,n]of Object.entries(this.EB))n.src=n.Mpa,g.push(this.cb.hD(n,e.I.Vt.yx(),l));await Promise.all(g);this.cb.u3();this.cb.Vj()}this.cb.Wj()&&(this.nA=e.j(e.I.eP,this.cb))}A(){this.Mi=this.cb=this.g=
null}eG(g){const l=this.g;if(!l.lm()){var n=g.devicePixelRatio;l.le&&(self.devicePixelRatio=n);l.Daa(n);this.hp=!!g.isFullscreen;this.cd(g.innerWidth,g.innerHeight);l.aa();l.pb&&(l.kt()||self.ig.sia())&&l.qo()}}P9(g){this.hp=!!g.isFullscreen;this.cd(g.innerWidth,g.innerHeight,!0);this.g.aa()}Q9(g){this.hp=!!g.isFullscreen;this.cd(g.innerWidth,g.innerHeight,!0);this.g.aa()}cd(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.zk!==g||this.yk!==l||n){this.zk=
g;this.yk=l;n=this.Us();"letterbox-scale"===n?this.f6(g,l):"letterbox-integer-scale"===n?this.e6(g,l):"off"===n?this.c6(g,l):this.d6(g,l);this.Bba(n);this.Mi.width=this.Eg;this.Mi.height=this.Dg;this.g.Oj("canvas","update-size",{marginLeft:this.Fm,marginTop:this.Gm,styleWidth:this.Oc,styleHeight:this.Bc});g=this.eb();g.cd(this.Eg,this.Dg,!0);for(var p of this.Au)g.GX(p);e.D(this.Au);g.In(this.Uz,this.wj()/this.vj());p=this.g.Za;p.to();p.so()}}f6(g,l){const n=this.g.Jk(),p=this.g.Og,q=this.g.Ng,u=
p/q;g/l>u?(this.Oc=Math.round(l*u),this.Bc=l,this.Fm=Math.floor((g-this.Oc)/2),this.Gm=0):(this.Oc=g,this.Bc=Math.round(g/u),this.Fm=0,this.Gm=Math.floor((l-this.Bc)/2));this.Eg=Math.round(this.Oc*n);this.Dg=Math.round(this.Bc*n);this.g.Rt(p,q)}e6(g,l){const n=this.g.Jk();1!==n&&(g+=1,l+=1);const p=this.g.Og,q=this.g.Ng;var u=p/q;u=g/l>u?l*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Eg=Math.round(p*u);this.Dg=Math.round(q*u);this.Oc=this.Eg/n;this.Bc=this.Dg/n;this.Fm=Math.max(Math.floor((g-
this.Oc)/2),0);this.Gm=Math.max(Math.floor((l-this.Bc)/2),0);this.g.Rt(p,q)}d6(g,l){const n=this.g.Jk();this.Oc=g;this.Bc=l;this.Eg=Math.round(this.Oc*n);this.Dg=Math.round(this.Bc*n);this.Gm=this.Fm=0;g=this.uj();this.g.Rt(this.Oc/g,this.Bc/g)}c6(g,l){const n=this.g.Jk();this.Oc=this.g.fg;this.Bc=this.g.Ue;this.Eg=Math.round(this.Oc*n);this.Dg=Math.round(this.Bc*n);this.hp?(this.Fm=Math.floor((g-this.Oc)/2),this.Gm=Math.floor((l-this.Bc)/2)):this.Gm=this.Fm=0;this.g.Rt(this.g.fg,this.g.Ue)}Bba(g){if("high"===
this.VJ)this.Qc=this.Eg,this.Cc=this.Dg,this.zh="high";else{let n;if("off"===this.Us()){var l=this.g.fg;n=this.g.Ue}else l=this.g.Og,n=this.g.Ng;this.Eg<l||this.Dg<n?(this.Qc=this.Eg,this.Cc=this.Dg,this.zh="high"):(this.Qc=l,this.Cc=n,this.zh="low","scale-inner"===g?(g=l/n,l=this.zk/this.yk,l<g?this.Qc=this.Cc*l:l>g&&(this.Cc=this.Qc/l)):"scale-outer"===g&&(g=l/n,l=this.zk/this.yk,l>g?this.Qc=this.Cc*l:l<g&&(this.Cc=this.Qc/l)))}}G(){return this.g}qO(g){if(!a.has(g))throw Error("invalid fullscreen mode");
this.tS=g;g=this.g.Za;g.to();g.so()}Cx(){return this.tS}V3(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.jS=g;g=this.g.Za;g.to();g.so()}Us(){return this.hp?this.jS:this.Cx()}rO(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.VJ=g;this.g.Za.to()}static TP(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}wj(){return this.Qc}vj(){return this.Cc}UE(g){this.nr=!!g}cba(g){this.lU=g}b1(){return this.eb().bo()}mu(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Au=[];this.ZB.clear();this.cb.Wk();this.g.mu()}async dG(){await this.cb.vE();await this.zoa();for(const g of this.g.KG)for(const l of g.kg())l.sQ(this.cb);await this.g.dG();console.log("[Construct 3] WebGL context restored")}Zn(){return this.cb}it(){return this.ij}eb(){return this.ij||this.cb}aq(){return"low"===this.zh?
1/this.g.Jk():this.uj()}uj(){const g=this.Us();if("off"===g||"crop"===g)return 1;const l=this.g.Og,n=this.g.Ng,p=l/n,q=this.Eg/this.Dg;return"scale-inner"!==g&&q>p||"scale-inner"===g&&q<p?this.Bc/n:this.Oc/l}Xs(){return"low"===this.zh?1:this.uj()}Ws(){return"low"===this.zh?1:this.g.Jk()}U3(g,l,n){l=l||this.Qc;n=n||this.Cc;const p=l/2+this.oca,q=n/2+this.pca;{let u=this.Uz;if(l!==this.Qc||n!==this.Cc)g.In(c,l/n),u=c;g.uo(u)}l=g.Fs(p,q,g.Gf(n),p,q,n);g.Bq(l)}R3(g){var l=this.Bc;const n=this.Oc/2,p=
l/2;g.uo(this.Uz);l=g.Fs(n,p,g.Gf(l),n,p,l);g.Bq(l)}Rs(){return this.Fm}Ss(){return this.Gm}Ns(g){g.depth=this.g.Sl;const l=this.Au,n=l.findIndex(q=>q.T0(g));let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.eb().uX(g);this.ZB.add(p);return p}no(g){if(!this.ZB.has(g))throw Error("render target not in use");this.ZB.delete(g);this.Au.push(g)}vZ(){const g={nj:this.g.md};"low"===this.zh&&(g.width=this.wj(),g.height=this.vj());return this.Ns(g)}b3(g){this.no(g)}*iC(){for(const g of this.g.Za.Mw())for(const l of g.Vb){const n=
this.zI.get(l);n&&(yield n)}}pM(g){if(!this.eb().Wj())return null;let l=this.zI.get(g);l||(l={name:g.wa(),YK:e.j(e.I.eP,this.cb),kC:0,gV:0},this.zI.set(g,l));return l.YK}yba(){const g=this.eb();if(g.Wj()&&0===this.Uf){this.Uf=g.yh;this.Wu=NaN;for(const l of this.iC())l.kC=NaN}}Fba(){this.cb&&this.cb.Wj()&&this.Gba();this.ij&&this.ij.Wj()&&this.Hba()}Gba(){if(isNaN(this.Wu)&&(this.Wu=this.nA.lM(this.Mm,this.Uf),!isNaN(this.Wu))){if(this.g.pb)for(const g of this.iC())if(g.kC=g.YK.lM(this.Mm,this.Uf),
isNaN(g.kC))return;this.nA.IL(this.Uf);this.yr=Math.min(this.Wu,1);if(this.g.pb){for(const g of this.iC())g.YK.IL(this.Uf),g.gV=Math.min(g.kC,1);self.ig.t5(this.yr,[...this.iC()])}this.Mm=this.Uf;this.Uf=0}}Hba(){if(0!==this.Uf){for(var g=this.Mm;g<this.Uf;++g){var l=this.hC.get(g);if(l&&!l.Xx())return}l=this.g.Nb();g=e.B1(l.Vb.length+1);for(var n=this.Mm;n<this.Uf;++n){var p=this.hC.get(n);if(p){p=p.Px();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||
0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.yr=e.da(g[0],0,1);if(this.g.pb){n=[];l=l.Vb;for(let q=0,u=Math.min(l.length,g.length-1);q<u;++q)n.push({name:l[q].wa(),gV:e.da(g[q+1],0,1)});self.ig.t5(this.yr,n)}for(g=this.Mm;g<this.Uf;++g)this.hC.delete(g);this.Mm=this.Uf;this.Uf=0}}Y5(g){this.hC.set(this.ij.yh,g)}Ex(){return this.yr}OO(g,l,n,p,q,u){this.JB=g;this.qJ=l;this.ZT.Yg(n,p,q,u);return this.Uv?this.Uv:this.Uv=new Promise(w=>{this.$T=w})}v9(){if(this.JB){var g=this.Mi,l=this.ZT,n=e.da(Math.floor(l.V),
0,g.width),p=e.da(Math.floor(l.O),0,g.height),q=l.width();q=0===q?g.width-n:e.da(Math.floor(q),0,g.width-n);l=l.height();l=0===l?g.height-p:e.da(Math.floor(l),0,g.height-p);(0!==n||0!==p||q!==g.width||l!==g.height)&&0<q&&0<l&&(g=e.bh(q,l),g.getContext("2d").drawImage(this.Mi,n,p,q,l,0,0,q,l));e.Yw(g,this.JB,this.qJ).then(u=>{this.rJ=URL.createObjectURL(u);this.Uv=null;this.$T(this.rJ)});this.JB="";this.qJ=1}}s0(g){this.cb&&(2===g?(this.vf=e.j(e.I.CE,this.eb()),this.vf.wO(),this.vf.QE("Arial"),this.vf.Dy(16),
this.vf.tO("center"),this.vf.NO("center"),this.vf.cd(300,200)):0===g?(g=this.g.Hr)&&g.qt(this.cb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.l9().then(l=>{"done"===this.gj?this.cb.qj(l):this.xf.Gw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.BQ("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.gj?this.cb.qj(l):this.xf.Jw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.BQ("splash-images/splash-website-512.png").then(l=>
{"done"===this.gj?this.cb.qj(l):this.xf.Pw=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async l9(){var g=(new URL("splash-images/splash-logo.svg",this.g.uD())).toString();g=await e.Ik(g);g=await this.g.Y2(g);return await this.cb.iD(g,{Hw:"high"})}async BQ(g){g=(new URL(g,this.g.uD())).toString();g=await e.Ik(g);return await this.cb.iD(g,{Hw:"high"})}VD(){this.g.Oj("runtime","hide-cordova-splash")}Z4(){this.Av=Date.now();this.g.Sb().addEventListener("loadingprogress",this.FI);this.oe=
requestAnimationFrame(()=>this.LP());3!==this.g.Gr&&this.VD()}async PY(){if(this.cb){this.Tm=1;var g=this.g.Gr;4===g&&await this.eU;this.eU=this.tJ=null;-1!==this.oe&&(cancelAnimationFrame(this.oe),this.oe=-1);this.g.Sb().removeEventListener("loadingprogress",this.FI);this.FI=null;this.vf&&(this.vf.A(),this.vf=null);this.g.d3();this.cb.St();this.xf.Gw&&(this.cb.qj(this.xf.Gw),this.xf.Gw=null);this.xf.Jw&&(this.cb.qj(this.xf.Jw),this.xf.Jw=null);this.xf.Pw&&(this.cb.qj(this.xf.Pw),this.xf.Pw=null);
this.cb.Kn();this.cb.Vp();this.gj="done";this.Mm=this.cb.yh;3===g&&this.VD()}}LP(){if(-1!==this.oe){var g=this.cb;if(g){g.St();this.oe=-1;var l=this.g.dd.OH,n=this.g.Gr;3!==n&&(this.R3(g),g.Kn(),g.Ct(),g.Vj(),g.Qf(null));if(0===n)this.v7(l);else if(1===n)this.Wy(l,120,0);else if(2===n)this.u7(l);else if(3!==n)if(4===n)this.w7(l);else throw Error("invalid loader style");g.Vp();this.oe=requestAnimationFrame(()=>this.LP())}}}u7(g){g?this.vf.kO(1,0,0):this.vf.kO(.6,.6,.6);this.vf.Qt(Math.round(100*this.Tm)+
"%");g=this.Oc/2;const l=this.Bc/2;h.CV(g-150,l-100,g+150,l+100);this.cb.Qf(this.vf.Ld());this.cb.rq(h,this.vf.hi())}Wy(g,l,n){const p=this.cb;p.jO();g?p.ff(1,0,0,1):p.ff(.118,.565,1,1);g=this.Oc/2;const q=this.Bc/2,u=l/2;m.Yg(g-u,q-4+n,Math.floor(l*this.Tm),8);p.Rect(m);m.Yg(g-u,q-4+n,l,8);m.offset(-.5,-.5);m.uC(.5,.5);p.ff(0,0,0,1);p.hN(m);m.uC(1,1);p.ff(1,1,1,1);p.hN(m)}v7(g){var l=this.g.Hr;if(l)if(l=l.Ld()){var n=l.$(),p=l.X(),q=this.Oc/2,u=this.Bc/2,w=n/2;p/=2;h.CV(q-w,u-p,q+w,u+p);this.cb.Qf(l);
this.cb.rd(h);this.Wy(g,n,p+16)}else this.Wy(g,120,0);else this.Wy(g,120,0)}w7(g){const l=this.cb,n=this.xf.Gw,p=this.xf.Jw,q=this.xf.Pw,u=Date.now();0===this.vJ&&(this.Av=u);const w=this.g.kq()||this.g.Fca&&!this.g.U0(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.gj?y=Math.min((u-this.Av)/300,1):"fade-out"===this.gj&&(y=Math.max(1-(u-this.uJ)/300,0));l.jO();l.ff(.231*y,.251*y,.271*y,y);m.set(0,0,this.Oc,this.Bc);l.Rect(m);const A=Math.ceil(this.Oc),G=Math.ceil(this.Bc);let z;256<this.Bc?(l.ff(.302*
y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Yg(0,.8*G-z/2,A,z),l.Rect(m),g?l.ff(y,0,0,y):l.ff(.161*y,.953*y,.816*y,y),g=A*this.Tm,m.Yg(.5*A-g/2,.8*G-z/2,g,z),l.Rect(m),l.ff(y,y,y,y),l.Vj(),p&&(g=1.5*e.da(.22*G,105,.6*A),z=g/8,m.Yg(.5*A-g/2,.2*G-z/2,g,z),l.Qf(p),l.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.Yg(.5*A-g/2,.485*G-z/2,g,z),l.Qf(n),l.Rect(m)),q&&(g=1.5*e.da(.22*G,105,.6*A),z=g/8,m.Yg(.5*A-g/2,.868*G-z/2,g,z),l.Qf(q),l.Rect(m))):(l.ff(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Yg(0,.85*G-
z/2,A,z),l.Rect(m),g?l.ff(y,0,0,y):l.ff(.161*y,.953*y,.816*y,y),g=A*this.Tm,m.Yg(.5*A-g/2,.85*G-z/2,g,z),l.Rect(m),l.ff(y,y,y,y),l.Vj(),n&&(z=g=.55*G,m.Yg(.5*A-g/2,.45*G-z/2,g,z),l.Qf(n),l.Rect(m)));this.vJ++;"fade-in"===this.gj&&300<=u-this.Av&&2<=this.vJ&&(this.gj="wait",this.fU=u);"wait"===this.gj&&u-this.fU>=v&&1<=this.Tm&&(this.gj="fade-out",this.uJ=u);("fade-out"===this.gj&&u-this.uJ>=300+r||w&&1<=this.Tm&&500>u-this.Av)&&this.tJ()}}}
{"use strict";const e=self.B,a=self.ig,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.dO=class extends e.ea{constructor(c){c=Object.assign({},b,c);super();this.Ev=c.messagePort;this.Wba=c.baseUrl;this.le=!!c.isInWorker;d=c.ife;this.Ui=c.exportType;this.cT=!!c.isiOSCordova;this.Fca=!!c.isFBInstantAvailable;this.$ca=c.opusWasmScriptUrl;this.ET=c.opusWasmBinaryUrl;this.ke=this.cca=this.pb=!("preview"!==this.Ui||!c.isDebug);this.oH=
0;this.vz=[];this.Oba=[];this.eJ=this.MT=this.xB="";this.Ng=this.Og=0;this.Im=self.devicePixelRatio;this.Gr=this.Ue=this.fg=this.pB=this.oB=0;this.cC=!1;this.lk=!0;this.SJ=this.$B=!1;this.Hr=null;this.dd=e.j(e.zW,this,c);this.Za=e.j(e.p1,this);this.ta=e.j(e.UY,this);this.tp=e.j(e.H2,this);this.Oi=e.j(e.bX,this);this.Cb=e.j(e.h5,this);this.EJ=e.j(e.l5,this);this.Mc=[];this.UI=new Map;this.VI=new Map;this.oS=0;this.Qba=[];this.KG=[];this.Nu=[];this.ul=[];this.yA=new Map;this.pA=!1;this.Hv=this.WI=0;
this.cp=new Map;this.ep=new Set;this.zA=new Set;this.mB=[];this.eT=[];this.M=null;this.Sl=!1;this.kA="vsync";this.dr="standard";this.md="trilinear";this.xl=!1;this.RI=!0;this.oI=this.HT=!1;this.Lm=null;this.oda={lV:h=>{this.Ll=this.oe=-1;this.jf(h)},gfa:h=>{this.Ll=-1;this.jf(h,!1,"skip-render")},Rea:()=>{this.oe=-1;this.qo()}};this.Ll=this.oe=-1;this.qr=this.tk=0;this.IS=this.HA=this.qA=!1;this.kI=!0;this.Wr=0;this.eda=()=>Math.random();this.Su=this.mr=this.ZA=this.bn=0;this.Yd=1;this.zT=30;this.JH=
e.j(e.hy);this.KH=e.j(e.hy);this.UJ=e.j(e.hy);this.jA=-1;this.hB=this.Bl=this.iA=this.Xo=0;this.Bh=!1;this.zv=this.Ov="";this.Fr=null;this.np="";this.mJ=this.dJ=null;this.Pb=e.j(e.Event.Sb);this.sH=new Map;this.aJ=new Map;this.Wca=0;this.aT=this.gS=this.hS=!1;this.TJ=[];this.Uo={pretick:e.j(e.Event,"pretick",!1),tick:e.j(e.Event,"tick",!1),tick2:e.j(e.Event,"tick2",!1),instancedestroy:e.j(e.Event,"instancedestroy",!1),beforelayoutchange:e.j(e.Event,"beforelayoutchange",!1),layoutchange:e.j(e.Event,
"layoutchange",!1)};this.Uo.instancedestroy.instance=null;this.Zd=e.j(e.Event.Sb);this.uU=null;this.Em=e.j(e.mo,e.Tw.fF);this.Lo=e.j(e.mo,e.Tw.fF);this.Mo=e.j(e.mo,e.Tw.fF);this.tv=e.j(e.k1,this,c.jobScheduler);c.canvas&&(this.M=e.j(e.aD,this));this.Ev.onmessage=h=>this._OnMessageFromDOM(h.data);this.Xh("runtime","visibilitychange",h=>this.g$(h));this.Xh("runtime","opus-decode",h=>this.Kba(h.arrayBuffer));this.Xh("runtime","get-remote-preview-status-info",()=>this.k8());this.Xh("runtime","js-invoke-function",
h=>this.bz(h));this.Xh("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Pb.addEventListener("window-blur",h=>this.h$(h));this.Pb.addEventListener("window-focus",()=>this.i$());this.Cb.mW();this.Xi=null;this.Aca=new WeakMap;this.Pz={keyboard:null,jV:null,$K:null}}static La(c){return e.j(e.dO,c)}A(){e.D(this.Mc);this.UI.clear();this.VI.clear();this.Za.A();this.Za=null;this.ta.A();this.ta=null;this.tp.A();this.tp=null;this.dd.A();this.dd=null;this.Oi.A();this.Oi=null;this.Cb.A();this.Cb=
null;this.EJ.A();this.EJ=null;this.M&&(this.M.A(),this.M=null);this.Pb.A();this.Pb=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.NQ(c);else if("result"===h)this.a$(c);else throw Error(`unknown message '${h}'`);}NQ(c){if(this.aT){var h=c.component,m=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new e.Event(m),c.data=g,this.Pb.Uda(c)),l)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=
u;this.dh(c)}if(c=this.sH.get(h))if(c=c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.ez(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.ez(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.ez(p,!1,""+q)}):this.ez(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.TJ.push(c)}ez(c,
h,m){this.Ev.postMessage({type:"result",responseId:c,isOk:h,result:m})}a$(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.aJ.get(h);m?g.resolve(c):g.reject(c);this.aJ.delete(h)}Xh(c,h,m){let g=this.sH.get(c);g||(g=new Map,this.sH.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}Oj(c,h,m){this.Ev.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}ko(c,h,m){const g=this.Wca++,l=new Promise((n,p)=>{this.aJ.set(g,{resolve:n,
reject:p})});this.Ev.postMessage({type:"event",component:c,handler:h,data:m,responseId:g});return l}M2(){if(!this.pb)throw Error("not in debug mode");this.Oj("runtime","post-to-debugger",{type:"reload"})}async Uk(c){this.pb?await a.Uk(this):self.ig&&self.ig.hia(this);var [h]=await Promise.all([this.dd.TL("data.json"),this.u9(),this.tv.Uk()]);this.X8(h);await this.H8(c);this.kq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Zn()?(h=this.Zn(),console.info(`[C3 runtime] Hosted in ${this.le?
"worker":"DOM"}, rendering with WebGL ${h.Wc} [${h.jw}] (${h.V0()?"desynchronized":"standard"} compositing)`)):this.it()&&console.info(`[C3 runtime] Hosted in ${this.le?"worker":"DOM"}, rendering with experimental WebGPU`);this.eb().PH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.aT=!0;for(const m of this.TJ)this.NQ(m);e.D(this.TJ);this.M&&this.M.Z4();for(const m of c.runOnStartupFunctions)this.vz.push(this.W$(m));
await Promise.all([this.dd.cP(),...this.vz]);e.D(this.vz);if(this.dd.OH)this.M&&this.M.VD();else return this.M&&await this.M.PY(),await this.Pb.nK(new e.Event("beforeruntimestart")),await this.St(),this.Ev.postMessage({type:"runtime-ready"}),this}async W$(c){try{await c(this.Xi)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}X8(c){c=c.project;this.xB=c[0];this.MT=c[16];this.eJ=c[31];const h=c[39]||"loading-logo.png";this.xl=!!c[9];this.Og=this.fg=c[10];this.Ng=this.Ue=
c[11];this.oB=this.Og/2;this.pB=this.Ng/2;this.dr=c[36];this.kA=c[37];"low-latency"===this.dr&&this.N0()&&77>=e.Kc.WC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.dr="standard");this.Sl=!!c[40];this.md=c[14];this.$B=c[15];this.SJ=c[17];this.cC=!!c[18];this.Gr=c[19];this.Hv=c[21];this.HT=c[22];const m=this.dd;m.xaa(c[7]);m.Maa(c[32]);m.Raa(c[28]);
m.dba(c[29]);if(0===this.Gr){let u="";this.kq()?m.RF(h)&&(u=m.qM(h)):u=m.JS+h;u&&(this.Hr=m.ly({url:u}))}this.M&&(this.M.qO(e.aD.TP(c[12])),this.M.rO(c[23]?"high":"low"),this.M.UE(0!==c[24]),this.M.Naa(c[34]),this.M.cba(c[41]),this.M.eba(c[13]),this.M.gba(c[30]),this.M.Haa(c[26]));this.tp.vX();this.mB=self.lL();for(var g of c[2])this.tp.tX(g);this.mB=self.lL();this.e9();for(var l of c[3])g=e.sE.La(this,this.Mc.length,l),this.Mc.push(g),this.UI.set(g.wa().toLowerCase(),g),this.VI.set(g.fb,g);for(const u of c[4])this.Mc[u[0]].a9(u);
for(var n of c[27])l=n.map(u=>this.Mc[u]),this.Qba.push(e.j(e.iX,this,l));for(const u of this.Mc)u.E9();for(const u of c[5])this.Za.La(u);(n=c[1])&&(n=this.Za.Yp(n))&&this.Za.a4(n);for(var p of c[33])this.Cb.La(p);for(var q of c[35])this.EJ.La(q);this.E8();for(const u of c[6])this.ta.La(u);this.ta.Lb();this.A8();e.D(this.mB);this.wd();p="any";q=c[20];1===q?p="portrait":2===q&&(p="landscape");this.Oj("runtime","set-target-orientation",{targetOrientation:p});if(c=c[42])this.Lm=new self.sga(this,c),
this.kA="unlimited-frame",this.M.qO("off"),this.Im=1,self.devicePixelRatio=1,this.Oj("runtime","set-exporting-to-video",{message:this.Lm.Kha(0)})}lm(){return null!==this.Lm}AZ(){return this.Lm.Mha()}z8(){return this.Lm.Uk({width:this.M.Eg,height:this.M.Dg})}E7(){return this.Lm.Ifa(this.M.Mi,this.Nk())}F7(){this.Lm.Vp()}iW(c){this.vz.push(c)}f8(){return this.oS++}P5(c){this.KG.push(c)}async H8(c){this.M&&(await this.M.bh(c),this.M.s0(this.Gr))}async u9(){if(!this.dd.P0()){var c=null;try{c=this.cT&&
this.dd.nv?await this.dd.zL(this.ET):await this.dd.Js(this.ET)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.fW(c):this.eW();await this.gW([this.$ca])}}async Kba(c){return await this.PC("OpusDecode",{arrayBuffer:c},[c])}async St(){this.qA=!0;this.bn=Date.now();if(this.cC){for(var c of this.Mc)c.Wa||c.nI||!c.sf||c.Md();this.dd.cP().then(()=>{this.lk=!1;this.QQ()})}else this.lk=!1;this.dd.g4();this.pb&&a.Qla(d);for(const h of this.Za.Ji)h.v6();
this.lm()&&await this.z8();c=this.Za.HZ();await c.UF(null,this.eb());await c.CR(!0);this.Xo=performance.now();this.cC||this.QQ();(await this.ko("runtime","before-start-ticking")).isSuspended&&!this.lm()?this.Wr++:this.jf()}QQ(){this.Ca(e.C.Qa.L.j2,null,null);this.Oj("runtime","register-sw")}ih(c){c=Math.floor(c);const h=this.mB;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}e9(){for(const c of self.KW){const h=e.first(Object.keys(c));this.eT.push(h)}}ei(c){c=Math.floor(c);
const h=this.eT;if(0>c||c>=h.length)throw Error("invalid prop reference");return h[c]}uD(){return this.Wba}ga(){return this.ta}$c(){return this.ta.$c()}Xe(){return this.ta.Xe()}Db(){return this.ta.Db()}Ff(){return this.ta.Ff()}UM(){return 0===this.Xe().ml}Ts(){return this.ta.Ts()}et(){return this.tp.et()}$e(c){c=Math.floor(c);if(0>c||c>=this.Mc.length)throw new RangeError("invalid index");return this.Mc[c]}Ix(c){return this.UI.get(c.toLowerCase())||null}Jx(c){return this.VI.get(c)||null}*vda(){for(const c of this.Mc)c.Wa||
(yield*c.aV())}Sb(){return this.Pb}dh(c){c.Df=this.Xi;const h=this.pb&&!this.ta.pt();h&&a.hF();this.Zd.dispatchEvent(c);h&&a.RC()}On(c){c.Df=this.Xi;return this.Zd.nK(c)}q4(c,h){if(this.Og!==c||this.Ng!==h)this.Og=c,this.Ng=h,c=this.Za,c.to(),c.so()}Rt(c,h){if(this.fg!==c||this.Ue!==h)this.fg=c,this.Ue=h,c=this.Za,c.to(),c.so()}Daa(c){this.lm()||(this.Im=c)}Jk(){return this.Im}wj(){return this.M?this.M.wj():this.fg}vj(){return this.M?this.M.vj():this.Ue}aq(){return this.M?this.M.aq():1}uj(){return this.M?
this.M.uj():1}Xs(){return this.M?this.M.Xs():1}Ws(){return this.M?this.M.Ws():1}Rs(){return this.M?this.M.Rs():0}Ss(){return this.M?this.M.Ss():0}pZ(){return this.M?this.M.Oc:0}oZ(){return this.M?this.M.Bc:0}Cx(){return this.M?this.M.Cx():"off"}Ns(c){return this.M?this.M.Ns(c):null}no(c){this.M&&this.M.no(c)}Ex(){return this.M?this.M.Ex():NaN}kE(){return"nearest"!==this.md}d3(){this.Hr&&(this.Hr.A(),this.Hr=null)}Nb(){return this.Za.Nb()}ly(c){return this.dd.ly(c)}fD(c,h,m,g,l){return this.$h(c,h,
!1,m,g,!1,l,void 0,l)}$h(c,h,m,g,l,n,p,q,u){var w=null;let r=null;c instanceof e.sE?(r=c,r.Wa&&(w=r.Vo,r=w[Math.floor(this.sq()*w.length)]),w=r.ir):(w=c,r=this.$e(w[1]));c=r.rb().sf;if(this.lk&&c&&!r.nI)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.cp.has(w[2])?w[2]:this.Hv++;const A=w?w[0]:null,G=e.j(e.Instance,{Df:this,HK:r,hV:h,SV:A,$U:w?w[3]:null,uid:y});this.cp.set(y,G);y=null;c&&(y=G.m(),"undefined"!==typeof g&&"undefined"!==typeof l&&(y.lh(g),y.Ci(l)),r.nR());h&&(u||h.yg(G,!0),1===
h.Td&&1===h.Ud||r.mG(!0),h.cc().oN(r));this.WI++;let z=!0;q&&(q=q.H(),q.Tb()&&r.Tb()&&r.Fg===q.Fg&&(z=!1));if(r.Tb()&&!m&&!n&&z){for(var F of r.Fg.Hl)F!==r&&(q=this.$h(F,v,!1,y?y.oa():g,y?y.pa():l,!0,!1,void 0,u),G.Kq(q));for(var H of G.td){H.Kq(G);for(const J of G.td)H!==J&&H.Kq(J)}}c&&!m&&p&&this.wF(G,A,y,h,g,l,u);if(r.Tb()&&!m&&!n&&p)for(const J of G.td)if(m=J.m())F=J.rb(),H=J.H().ir[0],F.sf?this.wF(J,H,m,h,m.oa(),m.pa(),u):this.wF(J,H,m,h,void 0,void 0,u);!n&&p&&("undefined"===typeof g&&(g=A[0]),
"undefined"===typeof l&&(l=A[1]),h=y.Sx(),g=g-y.oa()+h.oa(),l=l-y.pa()+h.pa(),h.ym(g,l));r.ou();l=w?e.jK(w[5]):null;w=w?w[4].map(J=>e.jK(J)):null;c&&A&&A[13]&&G.Qaa();G.Ty(l,w);this.ul.push(G);this.pA=!0;this.pb&&a.iia(G);return G}wF(c,h,m,g,l,n,p){var q=m.o_(),u=m.vM();c.m().WE(q);if(u){"undefined"===typeof l&&(l=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.Za.GD(A[0]).ba(w).PZ(r);w=this.$e(r[1]);var y=
c.N_(w);const z=q.has(w);y&&!z&&v?(v=c.BM(w),y=l+r[0][0]-m,r=n+r[0][1]-h,v.m().ym(y,r),v.m().WE(G),c.cm(v,{Cs:!!(u>>0&1),Ds:!!(u>>1&1),Np:!!(u>>2&1),Mp:!!(u>>3&1),Bs:!!(u>>4&1),vw:!!(u>>5&1),Es:!!(u>>6&1)}),q.add(w)):(w=this.$h(r,g,!1,l+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.m().WE(G),c.cm(w,{Cs:!!(u>>0&1),Ds:!!(u>>1&1),Np:!!(u>>2&1),Mp:!!(u>>3&1),Bs:!!(u>>4&1),vw:!!(u>>5&1),Es:!!(u>>6&1)}))}}}Nn(c){if(!this.ep.has(c)){var h=c.H(),m=this.yA.get(h);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),
this.yA.set(h,m);this.pb&&a.jia(c);c.YF();this.pA=!0;if(c.Tb())for(const g of c.td)this.Nn(g);for(const g of c.children())g.zx()&&this.Nn(g);this.Za.XM()||this.Bh||(h=this.ga(),h.te(!0),c.uba(),h.te(!1));c.L7(this.Za.XM())}}wd(){this.pA&&(this.N7(),this.O7(),this.pA=!1,this.aa())}N7(){for(const c of this.ul){const h=c.H();h.yg(c);for(const m of h.wh)m.yg(c),m.ou()}e.D(this.ul)}O7(){this.Pb.yq(!0);for(const [c,h]of this.yA.entries())this.P7(c,h),h.clear();this.yA.clear();this.Pb.yq(!1)}P7(c,h){for(const g of h){var m=
this.Uo.instancedestroy;m.instance=g;this.Pb.dispatchEvent(m);this.cp.delete(g.Vc);if(m=g.m())m.ZQ(),m.$Q(),m.YF();this.ep.add(g);this.WI--}e.gg(c.ja(),h);c.ou();this.zA.add(c);0===c.ja().length&&c.mG(!1);for(const g of c.wh)e.gg(g.ja(),h),g.ou(),this.zA.add(g);if(c.rb().sf){c=new Set([...h].map(g=>g.m().ba()));for(const g of c)g.B$(h)}}*uK(c){for(const h of this.ul)c.Wa?h.H().VC(c)&&(yield h):h.H()===c&&(yield h)}e8(){return this.Hv++}r9(c,h){this.cp.set(c,h)}mu(){this.Pb.dispatchEvent(e.j(e.Event,
"webglcontextlost"));this.Pt(!0);for(var c of this.Mc)!c.Wa&&c.L_()&&c.oo();(c=this.Nb())&&c.mu();e.$x.pq();e.OM.pq()}async dG(){await this.Nb().UF(null,this.Zn());this.Pb.dispatchEvent(e.j(e.Event,"webglcontextrestored"));this.Pt(!1);this.aa()}g$(c){this.Pt(c.hidden)}h$(c){this.kq()&&this.HT&&!e.Kc.nE&&!c.data.parentHasFocus&&(this.Pt(!0),this.oI=!0)}i$(){this.oI&&(this.Pt(!1),this.oI=!1)}aR(){const c=this.oda;"vsync"===this.kA?-1===this.oe&&(this.oe=self.requestAnimationFrame(c.lV)):"unlimited-tick"===
this.kA?(-1===this.Ll&&(this.Ll=e.EE(c.gfa)),-1===this.oe&&(this.oe=self.requestAnimationFrame(c.Rea))):-1===this.Ll&&(this.Ll=e.EE(c.lV))}j6(){-1!==this.oe&&(self.cancelAnimationFrame(this.oe),this.oe=-1);-1!==this.Ll&&(e.RW(this.Ll),this.Ll=-1)}qm(){return 0<this.Wr}Pt(c){if(!this.lm()){var h=this.qm();this.Wr+=c?1:-1;0>this.Wr&&(this.Wr=0);c=this.qm();!h&&c?(console.log("[Construct 3] Suspending"),this.j6(),this.Pb.dispatchEvent(e.j(e.Event,"suspend")),this.Ca(e.C.Qa.L.x2,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),
this.Xo=this.ZA=h=performance.now(),this.Bl=this.hB=this.iA=this.jA=0,this.Pb.dispatchEvent(e.j(e.Event,"resume")),this.Ca(e.C.Qa.L.u2,null,null),this.kt()||this.jf(h))}}M5(c){this.Em.Ic(c)}D$(c){this.Em.jh(c)}C$(c){this.Lo.jh(c)}E$(c){this.Mo.jh(c)}a6(){this.Em.kh(!0);for(const c of this.Em)c.jf();this.Em.kh(!1)}Z5(){this.Lo.kh(!0);for(const c of this.Lo);this.Lo.kh(!1)}b6(){this.Mo.kh(!0);for(const c of this.Mo);this.Mo.kh(!1)}*F6(){this.Em.kh(!0);for(const c of this.Em){const h=c.jf();e.om(h)&&
(yield*h)}this.Em.kh(!1)}*E6(){this.Lo.kh(!0);for(const c of this.Lo)e.om(void 0)&&(yield*void 0);this.Lo.kh(!1)}*G6(){this.Mo.kh(!0);for(const c of this.Mo)e.om(void 0)&&(yield*void 0);this.Mo.kh(!1)}async jf(c,h,m){this.IS=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;if(this.qA&&(!this.qm()||h||g)){h=performance.now();this.HA=!0;this.x9(c||0);c=this.b5();this.ke&&await c;c=this.Pb.Vda(this.Uo.pretick);c instanceof Promise&&await c;c=this.a5();this.ke&&await c;this.C9()&&
await this.s8();this.Za.jq()&&await this.t9();c=this.c5();this.ke&&await c;m&&this.qo();if(this.lm()&&(await this.E7(),this.Nk()>=this.Lm.Wz)){this.F7();return}this.qm()||g||this.aR();this.tk++;this.qr++;this.HA=!1;this.Bl+=performance.now()-h}}async b5(){const c=this.ta,h=this.pb;this.wd();c.te(!0);this.zt(this.Nb());h&&a.Iq();this.ke?await c.BX():c.D3();h&&a.dW();this.yt();c.te(!1);this.wd();c.te(!0)}async a5(){const c=this.pb,h=this.ke,m=this.Pb,g=this.Uo,l=this.uU;c&&a.Iq();h?await this.jx(this.F6()):
this.a6();h?await this.jx(this.E6()):this.Z5();c&&a.ZV();c&&a.Iq();h?await this.GL(g.tick):m.dispatchEvent(g.tick);c&&a.jW();this.ta.te(!1);this.dh(l.tick)}async c5(){const c=this.ta,h=this.Pb,m=this.Uo,g=this.pb,l=this.ke;g&&a.Iq();l?await c.zX(this.Za):c.B3(this.Za);g&&a.dW();this.Oi.rL();this.XQ();this.kI=!1;c.te(!0);g&&a.Iq();l?await this.jx(this.G6()):this.b6();g&&a.ZV();g&&a.Iq();l?await this.GL(m.tick2):h.dispatchEvent(m.tick2);g&&a.jW();c.te(!1);l&&await c.cO()}XQ(){if(0!==this.ep.size){var c=
this.Pb;c.yq(!0);for(const h of this.zA)h.an.po(this.ep);this.zA.clear();this.ta.h3(this.ep);for(const h of this.ep)h.A();this.ep.clear();c.yq(!1)}}async t9(){const c=this.Za;let h=0;for(;c.jq()&&10>h++;)await this.FP(c.Kv)}x9(c){let h=0;this.lm()?this.mr=h=1/this.AZ():0!==this.ZA&&(h=Math.max(c-this.ZA,0)/1E3,.5<h&&(h=0),this.mr=Math.min(h,1/this.zT));this.ZA=c;this.Su=this.mr*this.Yd;this.JH.Ic(this.Su);this.KH.Ic(h*this.Yd);this.UJ.Ic(this.mr);this.M&&this.M.Fba();1E3<=c-this.Xo&&(this.Xo+=1E3,
1E3<=c-this.Xo&&(this.Xo=c),this.iA=this.jA,this.jA=0,this.hB=Math.min(this.Bl/1E3,1),this.Bl=0,this.M&&this.M.yba(),this.pb&&a.Sna());this.jA++}async FP(c){const h=this.Pb,m=this.Za.Nb();await m.pba();m.xba(c,this.eb());m===c&&this.ta.$w();this.Oi.rL();this.XQ();h.dispatchEvent(this.Uo.beforelayoutchange);e.Gn.sO(!0);await c.UF(m,this.eb());e.Gn.sO(!1);await c.CR(!1);h.dispatchEvent(this.Uo.layoutchange);this.aa();this.kI=!0;this.wd()}aa(){this.RI=!0}Zn(){return this.M?this.M.Zn():null}it(){return this.M?
this.M.it():null}eb(){return this.M?this.M.eb():null}qo(){const c=this.M;if(c&&!c.b1()){var h=this.eb(),m=h.Wj(),g=m&&h.mi();m=m&&!1;g&&h.UW();if(this.RI||this.lm()){var l=this.Za.Nb();h.St();var n=this.pb;n&&a.Iq();this.RI=!1;var p=null;g&&(p=c.nA.SC(),h.iF(p));g=null;m&&(g=h.mna(2*(1+l.Vb.length)),h.H5(0));this.Sl&&"low"===c.zh?h.b4(c.wj(),c.vj()):h.M3();this.K$(this.eb(),l);p&&h.nD(p);m&&(h.H5(1),this.M.Y5(g));h.Vp();n&&(a.Hfa(),a.Tna());c&&c.v9()}else h.g0()}}K$(c,h){c.Vj();c.hO();c.ff(1,1,1,
1);c.vg(null);c.Qf(null);c.ug(this.Sl);h.eh(c)}Ca(c,h,m){if(!this.qA)return!1;var g=!this.HA&&!this.ta.jE();let l=0;g&&(l=performance.now());const n=this.pb;n&&this.By(!1);c=this.ta.tu(this.Za,c,h,m);g&&(g=performance.now()-l,this.Bl+=g,n&&a.Lfa(g));n&&this.By(!0);return c}async Od(c,h,m){if(!this.ke)return this.Ca(c,h,m);if(!this.qA)return!1;if(this.kt())return this.ta.X2(c,h,m);if(!this.Nb())return this.ta.AE(c,h,m);const g=performance.now();c=this.ta.Yt(this.Za,c,h,m);for(h=c.next();!h.done;)await this.Tp(h.value),
h=c.next();this.qm()||this.ta.jE()||(await this.ta.cO(),this.IS&&!this.HA&&this.aR());this.Bl+=performance.now()-g;return h.value}zt(c){this.Nu.push(c)}yt(){if(!this.Nu.length)throw Error("layout stack empty");this.Nu.pop()}Ha(){return this.Nu.length?this.Nu.$d(-1):this.Nb()}yD(c){return c&&-1!==c.Yd?this.mr*c.Yd:this.Su}$E(c){if(isNaN(c)||0>c)c=0;this.Yd=c}CO(c){this.zT=e.da(c,1,120)}Nk(){return this.JH.Y()}LZ(){return this.KH.Y()}PD(){return this.UJ.Y()}Tk(){++this.qr}yj(c){if(this.Bh)throw Error("cannot call while loading state - wait until afterload event");
return this.cp.get(c)||null}VQ(){this.cp.clear();for(const c of this.Mc)if(!c.Wa)for(const h of c.ja())this.cp.set(h.Vc,h)}kq(){return"preview"===this.Ui}U0(){return"cordova"===this.Ui}N0(){return"Android"===e.Kc.oq&&("cordova"===this.Ui||"playable-ad"===this.Ui||"instant-games"===this.Ui)}Gf(){return this.eb().Gf(this.Ue)}t4(c){c=!!c;this.xl!==c&&(this.xl=c,this.Za.so(),this.aa())}F3(c){this.Ov=c}v1(c){this.zv=c}rE(c){this.Fr=c}C9(){return!(!this.Ov&&!this.zv&&null===this.Fr)}async s8(){this.Ov&&
(this.wd(),await this.i7(this.Ov),this.uF());this.zv&&(await this.h7(this.zv),this.uF(),this.pb&&a.ona());if(null!==this.Fr){this.wd();try{await this.GP(this.Fr),this.np=this.Fr,await this.Od(e.C.Qa.L.wN,null),this.np=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Od(e.C.Qa.L.xN,null)}this.uF()}}uF(){this.zv=this.Ov="";this.Fr=null}j8(){this.dJ||(this.dJ=localforage.kK({name:"c3-localstorage-"+this.eJ,description:this.xB}));return this.dJ}hQ(){this.mJ||
(this.mJ=localforage.kK({name:"c3-savegames-"+this.eJ,description:this.xB}));return this.mJ}async i7(c){const h=await this.paa();try{await this.hQ().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.np=h,await this.Od(e.C.Qa.L.v2,null),this.np=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Od(e.C.Qa.L.w2,null)}}async h7(c){try{const h=await this.hQ().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
h.length+" chars)");await this.GP(h);this.np=h;await this.Od(e.C.Qa.L.wN,null);this.np=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.Od(e.C.Qa.L.xN,null)}}async paa(){const c={c3save:!0,version:1,rt:{time:this.Nk(),timeRaw:this.LZ(),walltime:this.PD(),timescale:this.Yd,tickcount:this.tk,execcount:this.qr,next_uid:this.Hv,running_layout:this.Nb().fb,start_time_offset:Date.now()-this.bn},types:{},layouts:{},events:this.ta.fa(),timelines:this.Cb.fa(),user_script_data:null};
for(var h of this.Mc)h.Wa||h.JM()||(c.types[h.fb.toString()]=h.fa());for(const m of this.Za.Ji)c.layouts[m.fb.toString()]=m.fa();h=this.zF("save");h.saveData=null;await this.On(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async GP(c){var h=this.Za;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Pb.dispatchEvent(e.j(e.Event,"beforeload"));
for(var m of this.vda())m.cz();this.Bh=!0;m=c.rt;this.JH.Set(m.time);m.hasOwnProperty("timeRaw")&&this.KH.Set(m.timeRaw);this.UJ.Set(m.walltime);this.Yd=m.timescale;this.tk=m.tickcount;this.qr=m.execcount;this.bn=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Nb().fb)if(g=h.GD(g))await this.FP(g);else return;for(const [l,n]of Object.entries(c.types))g=this.Jx(parseInt(l,10)),!g||g.Wa||g.JM()||g.ka(n);this.wd();this.VQ();this.Bh=!1;this.Hv=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=
h.GD(parseInt(l,10)))&&m.ka(n);this.ta.ka(c.events);for(const l of this.Mc)if(!l.Wa&&l.Tb())for(const n of l.ja()){m=n.Rn();for(const p of l.Fg.Hl)if(p!==l){g=p.ja();if(0>m||m>=g.length)throw Error("missing sibling instance");n.Kq(g[m])}}this.Cb.ka(c.timelines);h.to();h.so();this.Pb.dispatchEvent(e.j(e.Event,"afterload"));h=this.zF("load");h.saveData=c.user_script_data;await this.On(h);this.aa()}async gW(c){c=(await Promise.all(c.map(h=>this.dd.Ik(h)))).map(h=>URL.createObjectURL(h));this.tv.f0(c)}eW(){this.tv.H3()}fW(c){this.tv.I3(c)}PC(c,
h,m){return this.tv.PC(c,h,m)}aE(c,h){this.Oj("runtime","invoke-download",{url:c,filename:h})}async Y2(c){var h=h||2048;var m=m||2048;return this.le?(await this.ko("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,h,m)}uq(){this.hS||(this.hS=!0,this.Oj("runtime","enable-device-orientation"))}tm(){this.gS||(this.gS=!0,this.Oj("runtime","enable-device-motion"))}sq(){return this.eda()}k8(){const c=
this.Zn();return{fps:this.iA,cpu:this.hB,gpu:this.Ex(),layout:this.Nb()?this.Nb().wa():"",renderer:c?c.jw:"<unavailable>"}}kt(){return this.pb?a.kt():!1}Tp(c){return this.ke?a.Tp(c):Promise.resolve()}pc(){return this.ke?a.lga():!1}By(c){c?this.oH--:this.oH++;this.Aba()}Aba(){this.ke=this.pb&&this.cca&&0===this.oH}cE(){return this.pb&&a.cE()}gE(){return this.pb&&this.eb().Wj()&&a.gE()}async jx(c){if(c)for(const h of c)await this.Tp(h)}GL(c){return this.jx(this.Pb.Wda(c))}bz(c){return this.ta.bz(c.name,
c.params)}zF(c){c=e.j(e.Event,c,!1);c.Df=this.Xi;return c}E8(){var c={};for(const h of this.Mc)c[h.ei()]={value:h.cv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Xi=new self.Z_(this,c);this.uU={tick:this.zF("tick")}}A8(){const c={};for(const h of this.ga().LG)c[h.ei()]=h.iQ();this.Xi.B8(c)}CQ(c,h){this.Aca.set(c,h)}};self.C3_CreateRuntime=e.dO.La;self.C3_InitRuntime=(c,h)=>c.Uk(h)}
{"use strict";const e=self.B;e.k1=class extends e.ea{constructor(a,b){super();this.g=a;this.kp=new Map;this.Yca=0;this.hv=b.inputPort;b.outputPort.onmessage=d=>this.PQ(d);this.sT=b.maxNumWorkers;this.uv=1;this.BS=this.mv=!1}async Uk(){}f0(a){this.hv.postMessage({type:"_import_scripts",scripts:a})}H3(){this.hv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}I3(a){this.hv.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}PC(a,b,d){d||(d=[]);const c=this.Yca++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:d};b=new Promise((h,m)=>{this.kp.set(c,{resolve:h,progress:void 0,reject:m,iK:!1})});this.hv.postMessage(a,d);this.DQ();return b}PQ(a){a=a.data;const b=a.type,d=a.jobId;switch(b){case "result":this.U9(d,a.result);break;case "progress":this.T9(d,a.progress);break;case "error":this.S9(d,a.error);break;case "ready":this.V9();break;default:throw Error(`unknown message from worker '${b}'`);}}U9(a,b){const d=this.kp.get(a);if(!d)throw Error("invalid job ID");
d.iK||d.resolve(b);this.kp.delete(a)}T9(a,b){a=this.kp.get(a);if(!a)throw Error("invalid job ID");!a.iK&&a.progress&&a.progress(b)}S9(a,b){const d=this.kp.get(a);if(!d)throw Error("invalid job ID");d.iK||d.reject(b);this.kp.delete(a)}V9(){this.mv&&(this.mv=!1,this.uv++,this.uv<this.sT?this.DQ():this.hv.postMessage({type:"_no_more_workers"}))}async DQ(){if(!(this.uv>=this.sT||this.mv||this.BS||this.kp.size<=this.uv))try{this.mv=!0,(await this.g.ko("runtime","create-job-worker")).outputPort.onmessage=
a=>this.PQ(a)}catch(a){this.BS=!0,this.mv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.uv} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const e=self.B;let a=null,b="",d="",c=[],h="",m="",g="";const l=e.j(e.wW);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.C.Qa=class extends e.vq{constructor(p){super(p);this.uf=this.g.ga().uf;this.Cd=this.g.ga().$c();this.dv=this.$o=0;this.vS=new Map}A(){super.A()}aa(){this.g.aa()}Ca(p){this.g.Ca(p,null,null)}Ox(p,q){a&&p===b&&q===d||(a=new RegExp(p,q),b=p,d=q);a.lastIndex=0;return a}uM(p,q,u){if(p===h&&q===
m&&u===g)return c;const w=this.Ox(q,u);c=p.match(w);h=p;m=q;g=u;return c}async WF(p,q){if(q.length){this.$o+=q.length;var u=[];for(const w of q)u.push(p.oN(w));await e.R2(u,()=>{this.dv++});this.dv++;this.dv===this.$o&&(this.g.Ca(e.C.Qa.L.h2,null,null),this.$o=this.dv=0)}}FR(p,q){for(const u of q)0===u.F.length&&p.G1(u)}aQ(){return l}M$(p){var q=this.g.ga();const u=q.$c(),w=u.Ye(),r=w.Db(),v=r.pd();var y=w.Lj();const A=u.Na(r),G=q.uf,z=G.Na();if(y)for(y=0;y<p&&!z.sc;++y)q.De(v),z.zc(y),r.sg(w,A),
q.Kb(v);else for(q=0;q<p&&!z.sc;++q)z.zc(q),r.sg(w,A);u.Ia();G.Ia();return!1}*M6(p){var q=this.g.ga();const u=q.$c(),w=u.Ye(),r=w.Db(),v=r.pd();var y=w.Lj();const A=u.Na(r),G=q.uf,z=G.Na();if(y)for(y=0;y<p&&!z.sc;++y)q.De(v),z.zc(y),yield*r.jg(w,A),q.Kb(v);else for(q=0;q<p&&!z.sc;++q)z.zc(q),yield*r.jg(w,A);u.Ia();G.Ia();return!1}Lba(){var p=this.g.ga();const q=p.$c(),u=q.Ye(),w=u.Db(),r=w.pd();var v=u.Lj();const y=q.Na(w),A=p.uf,G=A.Na();if(v)for(v=0;!G.sc;++v)p.De(r),G.zc(v),w.sg(u,y)||G.hf(),p.Kb(r);
else for(p=0;!G.sc;++p)G.zc(p),w.sg(u,y)||G.hf();q.Ia();A.Ia();return!1}*f7(){var p=this.g.ga();const q=p.$c(),u=q.Ye(),w=u.Db(),r=w.pd();var v=u.Lj();const y=q.Na(w),A=p.uf,G=A.Na();if(v)for(v=0;!G.sc;++v)p.De(r),G.zc(v),(yield*w.jg(u,y))||G.hf(),p.Kb(r);else for(p=0;!G.sc;++p)G.zc(p),(yield*w.jg(u,y))||G.hf();q.Ia();A.Ia();return!1}Q7(p,q,u){var w=this.g.ga();const r=w.$c(),v=r.Ye(),y=v.Db(),A=y.pd(),G=v.Lj(),z=r.Na(y),F=w.uf,H=F.Na();H.Gy(p);if(u<q)if(G)for(p=q;p>=u&&!H.sc;--p)w.De(A),H.zc(p),
y.sg(v,z),w.Kb(A);else for(w=q;w>=u&&!H.sc;--w)H.zc(w),y.sg(v,z);else if(G)for(p=q;p<=u&&!H.sc;++p)w.De(A),H.zc(p),y.sg(v,z),w.Kb(A);else for(w=q;w<=u&&!H.sc;++w)H.zc(w),y.sg(v,z);r.Ia();F.Ia();return!1}*J6(p,q,u){var w=this.g.ga();const r=w.$c(),v=r.Ye(),y=v.Db(),A=y.pd(),G=v.Lj(),z=r.Na(y),F=w.uf,H=F.Na();H.Gy(p);if(u<q)if(G)for(p=q;p>=u&&!H.sc;--p)w.De(A),H.zc(p),yield*y.jg(v,z),w.Kb(A);else for(w=q;w>=u&&!H.sc;--w)H.zc(w),yield*y.jg(v,z);else if(G)for(p=q;p<=u&&!H.sc;++p)w.De(A),H.zc(p),yield*y.jg(v,
z),w.Kb(A);else for(w=q;w<=u&&!H.sc;++w)H.zc(w),yield*y.jg(v,z);r.Ia();F.Ia();return!1}R7(p){var q=this.g.ga();const u=q.$c(),w=u.Ye(),r=w.Db(),v=r.pd();var y=w.Lj();const A=u.Na(r),G=q.uf,z=G.Na(),F=p.Tb(),H=p.T(),J=l.Na();e.Hc(J,H.ja());if(y)for(let M=0,Q=J.length;M<Q&&!z.sc;++M)q.De(v),y=J[M],p.T().Uj(y),F&&y.yi(),z.zc(M),r.sg(w,A),q.Kb(v);else{H.fe(!1);p=H.F;e.D(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.sc;++M)q=J[M],p[0]=q,F&&q.yi(),z.zc(M),r.sg(w,A)}u.Ia();G.Ia();e.D(J);l.Ia();return!1}*K6(p){var q=
this.g.ga();const u=q.$c(),w=u.Ye(),r=w.Db(),v=r.pd();var y=w.Lj();const A=u.Na(r),G=q.uf,z=G.Na(),F=p.Tb(),H=p.T(),J=l.Na();e.Hc(J,H.ja());if(y)for(let M=0,Q=J.length;M<Q&&!z.sc;++M)q.De(v),y=J[M],p.T().Uj(y),F&&y.yi(),z.zc(M),yield*r.jg(w,A),q.Kb(v);else{H.fe(!1);p=H.F;e.D(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.sc;++M)q=J[M],p[0]=q,F&&q.yi(),z.zc(M),yield*r.jg(w,A)}u.Ia();G.Ia();e.D(J);l.Ia();return!1}S7(p,q){var u=this.g.ga();const w=u.$c(),r=u.Ff(),v=w.Ye(),y=v.Db(),A=y.pd(),G=v.Lj(),
z=w.Na(y),F=u.uf,H=F.Na(),J=p.Tb(),M=p.T(),Q=l.Na();e.D(Q);const R=M.ja();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.Bt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.sc;++T)u.De(A),q=Q[T][0],p.T().Uj(q),J&&q.yi(),H.zc(T),y.sg(v,z),u.Kb(A);else{M.fe(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.sc;++T)u=Q[T][0],p[0]=u,J&&u.yi(),H.zc(T),y.sg(v,z)}w.Ia();F.Ia();e.D(Q);l.Ia();return!1}*L6(p,q){var u=this.g.ga();const w=u.$c(),r=u.Ff(),v=w.Ye(),y=v.Db(),A=y.pd(),
G=v.Lj(),z=w.Na(y),F=u.uf,H=F.Na(),J=p.Tb(),M=p.T(),Q=l.Na();e.D(Q);const R=M.ja();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],r.Bt(1,T)]);Q.sort(n);1===q&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.sc;++T)u.De(A),q=Q[T][0],p.T().Uj(q),J&&q.yi(),H.zc(T),yield*y.jg(v,z),u.Kb(A);else{M.fe(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.sc;++T)u=Q[T][0],p[0]=u,J&&u.yi(),H.zc(T),yield*y.jg(v,z)}w.Ia();F.Ia();e.D(Q);l.Ia();return!1}Yy(p,q){let u=this.vS.get(p);if(u)return u;if(!q)return null;
u={xn:null,GC:new Map};this.vS.set(p,u);return u}g7(p,q,u,w,r){q.ye().A3(u);w&&p.Kb(r)}*H6(p,q,u,w,r){yield*q.ye().yX(u);w&&p.Kb(r)}}}{"use strict";const e=self.B;e.C.Qa.Jq=class extends e.ea{constructor(a){super();this.K=a;this.g=a.G();this.Ih=a.rb()}Md(){}A(){this.Ih=this.g=this.K=null}}}{"use strict";const e=self.B;e.C.Qa.Instance=class extends e.ea{constructor(a){super();this.ia=a;this.K=this.ia.H();this.Gc=this.K.Gc;this.g=this.ia.G()}A(){this.g=this.Gc=this.K=this.ia=null}}}
{"use strict";const e=self.B,a=[];e.C.Qa.L={qha(){return!0},vN(){return!0},i2(){return!0},x2(){return!0},u2(){return!0},qm(){return this.g.qm()},OL(){const b=this.g.Xe();return b.vH?!1:!b.lp},m5(){const b=this.g.Ff().Fj();let d=b.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.tk;b.set("TriggerOnce_lastTick",c);return this.g.kI||d!==c-1},pha(b){const d=this.g.Ff().Fj(),c=d.get("Every_lastTime")||0,h=this.g.Nk();d.has("Every_seconds")||d.set("Every_seconds",
b);const m=d.get("Every_seconds");if(h>=c+m)return d.set("Every_lastTime",c+m),h>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",h),d.set("Every_seconds",b),!0;h<c-.1&&d.set("Every_lastTime",h);return!1},ot(b){return(b=this.g.ga().fM(b))&&b.ot()},kq(){return this.g.kq()},nE(){return e.Kc.nE},j2(){return!0},X1(){return!0},kha(){return!0},v2(){return!0},w2(){return!0},wN(){return!0},xN(){return!0},Ija(b){return!!this.g.yj(b)},Kia(b){switch(b){case 0:return"browser"===e.Kc.dD;case 1:return"iOS"===
e.Kc.oq;case 2:return"Android"===e.Kc.oq;case 8:return"cordova"===e.Kc.dD;case 9:return"scirra-arcade"===this.g.Ui;case 10:return"nwjs"===e.Kc.dD;case 13:return"windows-uwp"===this.g.Ui;default:return!1}},Pka(b,d,c){return this.Ox(d,c).test(b)},dX(b,d,c){return e.compare(b,d,c)},Ega(b,d,c){return b>=d&&b<=c},fX(b,d,c){return e.compare(b.yb(),d,c)},Fga(b){return!!b.yb()},Mga(b,d){const c=this.g.Nk();return 0===b?(b=this.g.Ff().Fj(),!b.get("CompareTime_executed")&&c>=d?(b.set("CompareTime_executed",
!0),!0):!1):e.compare(c,b,d)},Hia(b){return isNaN(b)},pW(b,d,c){return e.os(e.xb(b),e.xb(c))<=e.xb(d)},S0(b,d){return e.yf(e.xb(b),e.xb(d))},R0(b,d,c){b=e.xb(b);d=e.xb(d);c=e.xb(c);return e.yf(c,d)?e.yf(b,d)&&!e.yf(b,c):!(!e.yf(b,d)&&e.yf(b,c))},Uia(b,d){return"number"===typeof b?0===d:1===d},oha(b){return!!b},ika(b,d,c,h){if(!b)return!1;const m=this.aQ(),g=m.Na(),l=b.T();e.Hc(g,l.ja());l.Qb&&e.D(l.Xb);const n=this.g.Ff();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;d=n.Bt(1,q);h=n.Bt(3,
q);e.compare(d,c,h)?++p:l.fl(w)}e.Ve(g,p);l.Et(g);d=!!g.length;e.D(g);m.Ia();b.$b();return d},jka(b,d){if(!b)return!1;const c=this.aQ(),h=c.Na(),m=b.T();e.Hc(h,m.ja());m.Qb&&e.D(m.Xb);const g=this.g.Ff();let l=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[l]=q;(d=g.Bt(1,n))?++l:m.fl(q)}e.Ve(h,l);m.Et(h);d=!!h.length;e.D(h);c.Ia();b.$b();return d},nka(b,d){if(!b)return!1;const c=b.T(),h=c.ja();d=Math.floor(d);if(d>=h.length)return!1;c.rm(h[d]);b.$b();return!0},rka(b){if(!b)return!1;const d=b.T(),
c=d.ja(),h=Math.floor(this.g.sq()*c.length);if(h>=c.length)return!1;d.rm(c[h]);b.$b();return!0},hka(b){if(!b||!b.F.length)return!1;b.T().fe(!0);b.$b();return!0},pka(b,d,c){if(!b)return!1;const h=b.T();var m=h.ja();const g=this.g.Db().Dd,l=this.g.Ff().$i;h.Qb?(e.Hc(a,m),h.ax(),h.fe(!1)):g?(e.Hc(a,h.Xb),e.D(h.Xb)):(e.Hc(a,h.F),e.D(h.F));for(let n=0,p=a.length;n<p;++n)m=a[n],e.xor(m.m().Gs(d,c),l)?h.Eo(m):h.fl(m);b.$b();return e.xor(!!h.F.length,l)},mka(b){if(!b)return!1;var d=b.Wa;let c=null;const h=
this.g.ul;for(let m=h.length-1;0<=m;--m){const g=h[m];if(d){if(g.H().VC(b)){c=g;break}}else if(g.H()===b){c=g;break}}c||(d=b.ja(),d.length&&(c=d.$d(-1)));if(!c)return!1;b.T().rm(c);b.$b();return!0},Ska(b){return this.g.ke?this.M6(b):this.M$(b)},hoa(){return this.g.ke?this.f7():this.Lba()},dZ(b,d,c){return this.g.ke?this.J6(b,d,c):this.Q7(b,d,c)},WL(b){return this.g.ke?this.K6(b):this.R7(b)},Aha(b,d,c){return this.g.ke?this.L6(b,c):this.S7(b,c)},n1(b){return b?b.ad():!1},Zia(b){return b?b.fy():!1},
Yia(b){return b?!b.F.length:!1},Xia(b,d,c){return b?e.compare(100*b.Id(),d,c):!1},h2(){return!0},Eia(){return 0<this.$o}}}
{"use strict";const e=self.B;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const d=[],c=[],h=e.j(e.Rect),m=e.j(e.$a);e.C.Qa.tc={M4(g,l){g.Fe(l)},nW(g,l){g.pm()&&"number"!==typeof l&&(l=parseFloat(l));g.Fe(g.yb()+l)},Bna(g,l){g.pm()&&g.Fe(g.yb()-l)},ima(g,l){g.Fe(!!l)},Gna(g){g.Fe(!g.yb())},Hla(){this.g.ga().q3()},CL(g,l,n,p,q){g&&l&&(n=this.g.fD(g,l,n,p,q))&&(q&&l.eF(n),l=this.g.ga(),l.te(!0),n.qz(),l.te(!1),g.T().Uj(n),n.Tb()&&n.yi())},aha(g,l,n,p,q){g&&
l&&(g=this.g.Ix(g))&&e.C.Qa.tc.CL.call(this,g,l,n,p,q)},At(g,l,n,p,q,u,w,r,v,y){if(g){var A=this.g.Ha();if(u&&(A=this.g.Za.Yp(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ba(w),!u)return;h.set(l,n,p,q);l=A.At(g,h,u,r,v,y);g.T().Et(l);g.$b()}},qna(){const g=this.uf;g.ZM()&&g.Wp().hf()},Aq(g,l){(g=this.g.ga().fM(g))&&(0===l?g.Aq(!1):1===l?g.Aq(!0):g.Aq(!g.ot()))},Zma(g){this.g.$E(g)},Wma(g,l){0>l&&(l=0);if(g){g=g.T().ja();for(const n of g)n.$E(l)}},Lla(g){if(g){g=g.T().ja();for(const l of g)l.x3()}},
pF(g){if(!(0>g))return this.g.ga().QC().I0(g),!0},aoa(g){this.g.ga().QC().G0(g);return!0},$na(){const g=this.g.ga();g.QC().u0(g.l_());return!0},ena(g){g=g.toLowerCase();for(const l of this.g.ga().$f)l.e1()&&l.Tv===g&&l.XE()},async OO(g,l,n,p,q,u){const w=this.g.M;w&&(this.aa(),await w.OO(0===g?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.Od(e.C.Qa.L.X1,null))},kma(g,l){if(!(0>=g||0>=l)){this.g.Rt(g,l);var n=this.g.Ha();n.Vw();for(const p of n.Vb)p.oF();if(n=this.g.M)"off"!==n.Us()&&this.g.q4(g,
l),n.cd(n.zk,n.yk,!0),this.g.aa()}},wma(g){const l=this.g.M;l&&"off"!==l.Us()&&(l.rO(0!==g?"high":"low"),l.cd(l.zk,l.yk,!0))},ro(g){this.g.F3(g)},fja(g){this.g.v1(g)},gja(g){this.g.rE(g)},yma(){},Ila(){for(const g of this.g.Za.Ji)g.v3()},Xma(g){this.g.t4(0!==g)},CO(g){this.g.CO(g)},hna(g,l){if(g){var n=g.T().ja(),p=this.g.Ha(),q=g.Wa;g=g.xh;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=q?u.Ae(l+u.H().CD(g)):u.Ae(l);d.push([v.ba().Ea(),v.Jj()]);c.push([u,y])}if(d.length){d.sort(a);
c.sort(b);l=!1;for(let w=0,r=d.length;w<r;++w)n=c[w][0],q=p.Fx(d[w][0]),g=d[w][1],u=q.F,u[g]!==n&&(u[g]=n,n.m().pu(q),q.wg(),l=!0);l&&this.g.aa();e.D(d);e.D(c)}}},w_(g){if(!this.g.lk){var l=this.g.Za;l.jq()||l.Zw(g)}},x_(g){if(!this.g.lk){var l=this.g.Za;l.jq()||(g=l.Yp(g))&&l.Zw(g)}},Cja(g){if(!this.g.lk){var l=this.g.Za;if(!l.jq()){var n=l.Ji,p=n.indexOf(l.Nb());g&&0===p||(g||p!==n.length-1)&&l.Zw(n[p+(g?-1:1)])}}},Jla(){if(!this.g.lk){var g=this.g.Za;g.jq()||(g.Zw(g.Nb()),this.g.ga().r3())}},m4(g,
l){g&&g.Ai(l)},Gma(g,l){g&&g.k4(l)},Hma(g,l){g&&g.si(l/100)},Jma(g,l){g&&g.EO(l)},Kma(g,l){g&&g.w4(l)},Ama(g,l){g&&g.zd(e.xb(+l))},Lma(g,l,n){g&&(g.Lt(!0),g.wi(l),g.xi(n))},Kla(g){g&&g.Lt(!1)},Ima(g,l,n){g&&g.r4(l/100,n/100)},Nma(g,l){g&&g.gf(+l)},Bma(g,l){g&&(m.zs(l),m.da(),g=g.kl,g.Wl(m)||(g.jj(m),this.aa()))},Mma(g,l){g&&g.I4(l)},Cma(g,l){g&&g.Pf(l)},Dma(g,l,n){g&&(n=g.Ja.Lk(n))&&(l=1===l,n.Fb!==l&&(n.zy(l),g.nh(),this.g.aa()))},Ema(g,l,n,p){if(g&&(g=g.Ja,l=g.Lk(l))&&(g=g.Kk(l.Ea()),n=Math.floor(n),
!(0>n||n>=g.length))){var q=l.Kf().Kx(n);if("color"===q){m.zs(p);n=g[n];if(m.Wl(n))return;n.jj(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.Fb&&this.g.aa()}},Fma(g,l){g&&g.d4(l)},Sma(g){this.g.Ha().VE(+g)},Oma(g){this.g.Ha().zd(e.xb(+g))},Pma(g,l){const n=this.g.Ha();if(l=n.Ja.Lk(l))g=1===g,l.Fb!==g&&(l.zy(g),n.nh(),this.g.aa())},Qma(g,l,n){var p=this.g.Ha().Ja;if(g=p.Lk(g))if(p=p.Kk(g.Ea()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.Kf().Kx(l);if("color"===q){m.zs(n);l=p[l];if(m.Wl(l))return;
l.jj(m)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}g.Fb&&this.g.aa()}},Tma(g,l){this.g.Ha().L4(g/100,l/100)},Rma(g){const l=this.g.Ha();0===g?l.GO():l.DO()},bma(g){this.g.Ha().wi(g)},cma(g){this.g.Ha().xi(g)},$la(g,l){const n=this.g.Ha();n.wi(g);n.xi(l)},ama(g){if(g&&(g=g.jM())&&(g=g.m())){var l=this.g.Ha();l.wi(g.oa());l.xi(g.pa())}},async x1(g){const l=this.g.Nb();l&&g&&!this.g.lk&&await this.WF(l,g.Wa?g.Vo:[g])},async eja(g){await e.C.Qa.tc.x1.call(this,this.g.Ix(g))},o5(g){const l=
this.g.Nb();l&&g&&this.FR(l,g.Wa?g.Vo:[g])},Pna(g){e.C.Qa.tc.o5.call(this,this.g.Ix(g))},Qna(){const g=this.g.Nb();if(g){var l=g.r8();this.FR(g,l)}},async cja(g){const l=this.g.Nb();g&&l&&!this.g.lk&&await this.WF(l,g.bQ())},async dja(g){const l=this.g.Nb();(g=this.g.Za.Yp(g))&&l&&!this.g.lk&&await this.WF(l,g.bQ())},Ey(g){const l=this.Cd.sZ();if(l)switch(l.wS){case 1:"number"===typeof g&&l.Ey(g);break;case 2:"string"===typeof g&&l.Ey(g);break;case 3:l.Ey(g)}},lja(g,l,n){var p=this.Yy(g.toLowerCase(),
!0);const q=p.GC,u=l.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(p=e.first(q.values())||p.xn)&&0!==p.Kl!==(0!==n.Kl)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},mja(g,l){const n=this.Yy(g.toLowerCase(),!0);n.xn&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=
e.first(n.GC.values())||n.xn;p&&0!==p.Kl!==(0!==l.Kl)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.xn=l},tga(g,l,n){n=Math.floor(n);var p=this.Yy(g.toLowerCase(),!1);if(p){var q=p.GC.get(l.toLowerCase());if(!q)if(p.xn)q=p.xn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.fo())if(0!==
q.Kl)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);else{g=this.g;l=g.ga();var u=l.Db();p=u.qd();var w=0<p.length;w&&l.rg(p);var r=[];if(u=l.pD(u)){u=u.Jg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].yb())}n=q.Jg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].bp);return g.ke?this.H6(l,q,r,w,p):this.g7(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.C.Qa.ac={Upa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},mpa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},$l(a){return a.toString()},Ew(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.sq()*a:this.g.sq()*(b-a)+a},Hda(...a){return a[Math.floor(this.g.sq()*a.length)]},Pqa(){return Math.PI},Spa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},qra(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(e.xb(a))},cos(a){return Math.cos(e.xb(a))},tan(a){return Math.tan(e.xb(a))},asin(a){return e.Wh(Math.asin(a))},acos(a){return e.Wh(Math.acos(a))},atan(a){return e.Wh(Math.atan(a))},exp(a){return Math.exp(a)},yea(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let h=a[d];"number"===typeof h&&b<h&&(b=h)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let h=a[d];"number"===typeof h&&b>h&&(b=h)}return b},da(a,b,d){return e.da(a,b,d)},ww(a,b,d,c){return e.Lp(a,b,d,c)},angle(a,b,d,c){return e.Wh(e.cK(a,b,d,c))},ae(a,b,d){return e.ae(a,b,d)},HC(a,b,d){return e.HC(a,b,d)},BC(a,b,d,c){return e.BC(a,b,d,c)},PU(a,b,d,c,h){return e.PU(a,
b,d,c,h)},OU(a,b,d){return e.OU(a,b,d)},Doa(a,b){return e.Wh(e.os(e.xb(a),e.xb(b)))},Eoa(a,b,d){return e.Wh(e.aK(e.xb(a),e.xb(b),d))},Foa(a,b,d){return e.Wh(e.bK(e.xb(a),e.xb(b),e.xb(d)))},Cra(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},Kra(a,b){return(a|0)^1<<(b|0)},Lpa(a,b){return(a|0)&1<<(b|0)?1:0},Aqa(){return"\n"},Rra(a){return"string"===typeof a?a.toUpperCase():""},Aea(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==
typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Lra(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Mra(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(e.Is(b),"i")):-1},lpa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(e.Is(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(e.Is(b),"gi"),d):"string"===typeof a?a:""},$qa(a,b,d){b=this.Ox(b,d);return a?a.search(b):-1},Zqa(a,b,d,c){b=this.Ox(b,d);return a?a.replace(b,c):""},Yqa(a,b,d){return(a=this.uM(a.toString(),b,d))?a.length:0},Xqa(a,b,d,c){c=Math.floor(c);a=this.uM(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},gsa(a,b){let d=0>a?"-":"";0>a&&(a=-a);
d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},Tra(a){return encodeURIComponent(a)},Sra(a){return decodeURIComponent(a)},UU(){return this.g.Su},Ira(){return this.g.Yd},csa(){return(Date.now()-this.g.bn)/1E3},Pra(){return Date.now()},time(){return this.g.Nk()},Hra(){return this.g.tk},Fqa(){return this.g.WI},ppa(){return this.g.iA},Woa(){return this.g.hB},Npa(){return this.g.Ex()},fsa(){return this.g.M.Eg},esa(){return this.g.M.Dg},Jqa(){return this.g.Og},Iqa(){return this.g.Ng},
Hqa(){return this.g.Og},Gqa(){return this.g.Ng},tra(){return this.g.Ha().If()},ura(){return this.g.Ha().Jf()},nqa(){return this.g.Ha().wa()},oqa(){return this.g.Ha().nd},lqa(){return e.Wh(this.g.Ha().Ma())},pqa(){return this.g.Ha().$()},mqa(){return this.g.Ha().X()},Zra(a){return(a=this.g.Ha().ba(a))?a.tn.V:0},asa(a){return(a=this.g.Ha().ba(a))?a.tn.O:0},$ra(a){return(a=this.g.Ha().ba(a))?a.tn.ca:0},Xra(a){return(a=this.g.Ha().ba(a))?a.tn.Z:0},bsa(a){return(a=this.g.Ha().ba(a))?a.tn.width():0},Yra(a){return(a=
this.g.Ha().ba(a))?a.tn.height():0},Qoa(a,b,d){return(a=this.g.Ha().ba(a))?a.ah(b,d)[0]:0},Roa(a,b,d){return(a=this.g.Ha().ba(a))?a.ah(b,d)[1]:0},iqa(a,b,d){return(a=this.g.Ha().ba(a))?a.jo(b,d)[0]:0},jqa(a,b,d){return(a=this.g.Ha().ba(a))?a.jo(b,d)[1]:0},eqa(a){return(a=this.g.Ha().ba(a))?a.nd:0},$pa(a){return(a=this.g.Ha().ba(a))?e.Wh(a.he):0},bqa(a){return(a=this.g.Ha().ba(a))?100*a.Id():0},fqa(a){return(a=this.g.Ha().ba(a))?a.ej:0},gqa(a){return(a=this.g.Ha().ba(a))?a.If():0},hqa(a){return(a=
this.g.Ha().ba(a))?a.Jf():0},cqa(a){return(a=this.g.Ha().ba(a))?100*a.Td:0},dqa(a){return(a=this.g.Ha().ba(a))?100*a.Ud:0},kqa(a){return(a=this.g.Ha().ba(a))?a.ab():0},aqa(a){return(a=this.g.Ha().ba(a))?a.Ea():-1},Poa(){const a=this.g.M;return a?a.rJ:""},sqa(a){const b=this.uf;return b.ZM()?a?(a=b.$Y(a))?a.Ea():0:b.Wp().Ea():0},rra(){return this.g.np},Noa(a,b,...d){var c=this.Yy(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var h=c.GC.get(b.toLowerCase());if(!h)if(c.xn)h=c.xn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=h.Kl;const m=h.Vs();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.fo())return m;a=this.g.ga();b=a.Db().qd();const g=0<b.length;g&&a.rg(b);const l=h.Jg;for(let n=
d.length,p=l.length;n<p;++n)d.push(l[n].bp);h=h.ye();d=h.IE(h.qd(),c,m,...d);g&&a.Kb(b);return d},rqa(){return this.g.dd.WA},Qpa(){return 0===this.$o?1:this.dv/this.$o},Cn(){return this.g.it()?"webgpu":"webgl"},cra(){return this.g.it()?"<unavailable>":this.g.Zn().jw},Rpa(){let a=this.g.eb().wZ();return Math.round(100*a/1048576)/100},fra(a,b,d){return e.B2(a,b,d)},ira(a,b,d){return e.HN(a/100,b/100,d/100)},gra(a,b,d,c){return e.oy(a/100,b/100,d/100,c/100)},jra(a,b,d){return e.HN(a/255,b/255,d/255)},
hra(a,b,d,c){return e.oy(a/255,b/255,d/255,c/255)},Lea(){return this.g.xB},Mea(){return this.g.MT},Zoa(){return this.g.Db().Rc.wa()},Yoa(){return this.g.Db().jr}}}{"use strict";const e=self.B;e.C.Ub=class extends e.vq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const e=self.B;e.C.Ub.Jq=class extends e.xy{constructor(a){super(a);this.Ad=a.Ad}A(){e.D(this.Ad);super.A()}Md(){for(const a of this.Ad)a.r1(this.g)}mq(a){const b={nj:this.g.md};return Promise.all(this.Ad.map(d=>d.s1(a,b)))}oo(){for(const a of this.Ad)a.a3()}ny(){this.IR()}IR(){for(const a of this.K.mea())a.ma.xG()}Ls(a){e.C.Ub.aZ(this,a)}}}
{"use strict";const e=self.B,a=self.$g,b=e.j(e.Rect),d=e.j(e.rd),c=e.j(e.Ut);e.C.Ub.Instance=class extends e.KE{constructor(m,g){super(m);let l=!0,n="",p=0,q=!0;g&&(l=!!g[0],n=g[1],p=g[2],q=g[3]);this.Eb=this.K.ZL(n)||this.K.Ad[0];this.nb=e.da(p,0,this.Eb.sd.length-1);this.Ke=this.Eb.im(this.nb);g=this.Ke.Ze();this.hr=g.Ld();this.nH=g.hi();this.Ou=g.Qx();this.A_();m.It(2,!0);m.It(1,0<=this.Eb.Hj());this.fk=Math.abs(this.Eb.Hj());this.gr=this.Eb.ST;this.xz=e.j(e.hy);this.ck=this.Wi=0;this.OG="";this.Ku=
-1;this.$q="";this.YR=0;m=this.m();this.bca=m.tj();m.Ai(l);m.Ft(q);m.Cq(this.Ke.Pk());m.Dq(this.Ke.Qk());m.ZE(this.Ke.No);m.Ya();1===this.K.Ad.length&&1===this.K.Ad[0].sd.length||0===this.fk||this.Bm()}A(){this.xz=this.hr=this.Ke=this.Eb=null;super.A()}gh(){return this.Ke.Ze()}ho(){return!0}pq(){this.hr=null}GN(){this.xG()}eh(m){var g=this.hr;null!==g&&(m.Qf(g),g=this.m(),g.Lf()?this.JF(g,m):this.KF(g,m))}KF(m,g){let l=this.bca;this.g.xl&&(l=m.IN(l));g.W2(l,this.Ou)}JF(m,g){const l=m.GM();if(m.bN()){m.Xw(b,
d,!1);let n=d;this.g.xl&&(n=m.IN(n));l.nL(m.Gj(),n,this.Ou);m.TE(!1)}l.eh(g)}Os(){return this.xz.Y()}by(){return this.ia.DD(2)}wq(m){this.ia.It(2,m)}ey(){return this.ia.DD(1)}Mt(m){this.ia.It(1,m)}iE(){return this.ia.DD(4)}uO(m){this.ia.It(4,m)}jf(){this.$q&&this.EP();0<=this.Ku&&this.GF();const m=this.fk;if(this.by()&&0!==m){this.xz.Ic(this.g.yD(this.ia));var g=this.Os(),l=this.Ke,n=l.Wz/m;if(!(g<this.Wi+n)){var p=this.Eb,q=this.gr,u=p.sd.length,w=p.og(),r=p.JA,v=p.Jca;this.ey()?this.nb++:this.nb--;
this.Wi+=n;this.nb>=u&&(v?(this.Mt(!1),this.nb=u-2):r?this.nb=q:(this.ck++,this.ck>=w?this.MF(!1):this.nb=q));0>this.nb&&(v?(this.nb=1,this.Mt(!0),r||(this.ck++,this.ck>=w&&this.MF(!0))):r?this.nb=q:(this.ck++,this.ck>=w?this.MF(!0):this.nb=q));this.nb=e.da(this.nb,0,u-1);n=p.im(this.nb);g>this.Wi+n.Wz/m&&(this.Wi=g);this.dz(l,n)}}else this.su()}MF(m){this.nb=m?0:this.Eb.sd.length-1;this.wq(!1);this.OG=this.Eb.wa();this.uO(!0);this.kD("animationend",!1,{animationName:this.OG});this.Ca(e.C.Ub.L.V1);
this.Ca(e.C.Ub.L.U1);this.uO(!1);this.ck=0}dz(m,g){if(m!==g){var l=this.m(),n=m.Ze();m=g.Ze();var p=n.$();n=n.X();var q=m.$(),u=m.X();p!==q&&l.Bi(l.$()*(q/p));n!==u&&l.ri(l.X()*(u/n));l.Cq(g.Pk());l.Dq(g.Qk());l.ZE(g.No);l.Ya();this.Ke=g;this.hr=m.Ld();this.nH=m.hi();this.Ou=m.Qx();g=this.za().ed;for(let w=0,r=g.length;w<r;++w);this.kD("framechange",!1,{animationName:this.Eb.wa(),GU:this.nb});this.Ca(e.C.Ub.L.d2);this.g.aa()}}mba(m){this.wq(!0);this.Wi=this.Os();1===m&&0!==this.nb&&(this.Ku=0,this.iE()||
this.GF());this.Bm()}uaa(m,g){this.$q=m;this.YR=g;this.Bm();this.iE()||this.EP()}ZP(){return this.$q?this.$q:this.Eb.wa()}mR(m){isFinite(m)&&(this.Ku=m,this.iE()||this.GF())}waa(m){this.fk=Math.abs(m);this.Mt(0<=m);0<this.fk&&this.Bm()}VP(){return this.ey()?this.fk:-this.fk}vaa(m){this.gr=m=e.da(Math.floor(m),0,this.Eb.sd.length-1)}EP(){const m=this.Ke;var g=this.K.ZL(this.$q);this.$q="";!g||g===this.Eb&&this.by()||(this.Eb=g,this.Mt(0<=g.Hj()),this.fk=Math.abs(g.Hj()),this.gr=g.ST,this.nb=e.da(this.nb,
0,this.Eb.sd.length-1),1===this.YR&&(this.nb=0),this.wq(!0),this.Wi=this.Os(),g=this.Eb.im(this.nb),this.dz(m,g))}GF(){const m=this.Ke;var g=this.nb;this.nb=e.da(Math.floor(this.Ku),0,this.Eb.sd.length-1);this.Ku=-1;g!==this.nb&&(g=this.Eb.im(this.nb),this.dz(m,g),this.Wi=this.Os())}xG(){const m=this.Ke.Ze();this.hr=m.Ld();this.nH=m.hi();this.Ou=m.Qx();this.m().TE(!0)}Ld(){return this.hr}hi(){return this.nH}Qx(){return this.Ou}FD(){return this.Ke.FD()}Sn(m){const g=this.Ke,l=this.m();if("string"===
typeof m)m=g.OZ(m);else if("number"===typeof m)m=g.NZ(m-1);else throw new TypeError("expected string or number");if(!m)return[l.oa(),l.pa()];c.na(m.cJ);if(l.Lf()){const [n,p]=l.Gj().TO(c.P,c.N);c.set(n,p)}c.offset(-g.Pk(),-g.Qk());c.scale(l.$(),l.X());c.rotate(l.Ma());c.offset(l.oa(),l.pa());return[c.P,c.N]}qZ(){return this.m().Rk().nV()}aM(m){m=Math.floor(m);const g=this.m();var l=g.Rk();const n=l.nV();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Fd;return[l[2*m]+g.oa(),l[2*m+1]+g.pa()]}Nd(){const m=
{a:this.Eb.fb};0!==this.Wi&&(m.fs=this.Wi);var g=this.Os();0!==g&&(m.at=g);0!==this.nb&&(m.f=this.nb);0!==this.fk&&(m.cas=this.fk);1!==this.ck&&(m.ar=this.ck);0!==this.gr&&(m.rt=this.gr);this.by()||(m.ap=this.by());this.ey()||(m.af=this.ey());g=this.m();g.ii()&&(m.ce=g.ii());return m}xd(m){var g=this.H().jZ(m.a);g&&(this.Eb=g);this.Wi=m.hasOwnProperty("fs")?m.fs:0;this.xz.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.nb=e.da(g,0,this.Eb.sd.length-1);this.fk=m.hasOwnProperty("cas")?
m.cas:0;this.ck=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.gr=e.da(g,0,this.Eb.sd.length-1);this.wq(m.hasOwnProperty("ap")?!!m.ap:!0);this.Mt(m.hasOwnProperty("af")?!!m.af:!0);this.Ke=g=this.Eb.im(this.nb);this.xG();const l=this.m();l.Cq(g.Pk());l.Dq(g.Qk());l.ZE(g.No);l.Ft(!!m.ce)}Jc(m){const g=this.m();switch(m){case 3:return g.ii();case 2:return e.da(this.nb,0,this.Eb.sd.length-1)}}ti(m,g){var l=this.m();switch(m){case 3:l.Ft(!!g);break;case 2:this.wq(!1);m=this.Eb.sd.length-
1;l=g=e.da(g,0,m);g=this.Eb.im(this.nb);const n=this.Eb.im(l);this.dz(g,n);this.nb=e.da(l,0,m)}}jm(){return self.$_}};const h=new WeakMap;self.$_=class extends self.Yx{constructor(){super();h.set(this,self.lt.au().ma)}get animation(){return h.get(this).Eb.wca}get animationName(){return h.get(this).ZP()}set GU(m){a.Qj(m);h.get(this).mR(m)}get GU(){return h.get(this).nb}get imageWidth(){return h.get(this).gh().$()}get imageHeight(){return h.get(this).gh().X()}}}
{"use strict";const e=self.B;e.C.Ub.L={O0(a){return e.zn(this.ZP(),a)},Hga(a,b){return e.compare(this.nb,a,b)},Dga(a,b){return e.compare(this.VP(),a,b)},U1(a){return e.zn(this.OG,a)},V1(){return!0},d2(){return!0},Gia(){return 0>this.m().$()},yia(){return 0>this.m().X()},DN(){return!0},A2(){return!0},ii(){return this.m().ii()}}}
{"use strict";const e=self.B;e.C.Ub.tc={ina(a,b,d,c){if(a&&b){var [h,m]=this.Sn(d);if(d=this.g.fD(a,b,h,m,c)){c&&b.eF(d);a.rb().lq()&&(b=d.m(),b.zd(this.m().Ma()),b.Ya());b=this.g.ga();b.te(!0);d.qz();b.te(!1);c=this.g.Ts().Fj();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.qr)b=!0,c.set("Spawn_LastExec",this.g.qr);if(a!==this.H()&&(a=a.T(),a.fe(!1),a=a.F,b&&e.D(a),a.push(d),d.Tb()))for(const g of d.td)d=g.H().T(),b?d.Uj(g):(d.fe(!1),d.Eo(g))}}},pna(){this.wq(!1)},lna(a){this.mba(a)},
L3(a,b){this.uaa(a,b)},dma(a){this.mR(a)},fma(a){this.waa(a)},ema(a){this.vaa(a)},Vma(a){const b=this.m(),d=b.$();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.Bi(a),b.Ya())},sma(a){const b=this.m(),d=b.X();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.ri(a),b.Ya())},VE(a){const b=this.Ke.Ze(),d=this.m();var c=0>d.$()?-1:1;const h=0>d.X()?-1:1;c*=b.$()*a;a=b.X()*a*h;if(d.$()!==c||d.X()!==a)d.cd(c,a),d.Ya()},async hja(a,b){const d=this.Ke.Ze(),c=this.m(),h=this.g;if(d.vk===a)0===b&&(c.cd(d.$(),d.X()),c.Ya()),this.Ca(e.C.Ub.L.DN);
else{var m=e.j(e.$x);try{await m.u1(h,a);if(!m.lE())throw Error("image failed to load");await m.qt(h.eb(),{nj:this.g.md})}catch(g){console.error("Load image from URL failed: ",g);this.Ca(e.C.Ub.L.A2);return}d.p3(m);this.Gc.IR();this.Oy()||0!==b||(c.cd(d.$(),d.X()),c.Ya());h.aa();this.Oy()||await this.Od(e.C.Ub.L.DN)}},lma(a){this.m().Ft(a)},YE(a,b){this.m().YE(0===a,b)},W3(a){this.m().Pf(a);this.g.aa()}}}"use strict";
self.B.C.Ub.ac={Rfa(){return this.nb},Sfa(){return this.Eb.sd.length},sW(){return this.Eb.wa()},Tfa(){return this.VP()},Zja(){return this.Eb.Hj()},dia(e){return this.Sn(e)[0]},eia(e){return this.Sn(e)[1]},cia(){return this.FD()},fia(){return this.gh().$()},bia(){return this.gh().X()},yka(e){return this.aM(e)[0]},zka(e){return this.aM(e)[1]},xka(){return this.qZ()}};{"use strict";const e=self.B;e.C.Touch=class extends e.vq{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const e=self.B,a=self.$g;e.C.Touch.Jq=class extends e.xy{constructor(d){super(d)}A(){super.A()}Md(){}jm(){return self.c0}};let b=null;self.c0=class extends self.NM{constructor(d){super(d);b=d;d.G().Pz.$K=this}requestPermission(d){a.yd(d);const c=b.gi().ma;if("orientation"===d)return c.fG(0);if("motion"===d)return c.fG(1);throw Error("invalid type");}}}
{"use strict";const e=self.B;e.C.Touch.Instance=class extends e.wy{constructor(a,b){super(a,"touch");this.gd=new Map;this.KA=this.sU=!1;this.mA=this.th=this.rh=this.FJ=this.XB=this.gs=this.DG=this.CG=this.BG=this.GG=this.FG=this.EG=this.ZI=this.YI=this.XI=this.nB=0;this.rB=[];b&&(this.sU=b[0]);this.OC("permission-result",d=>this.X9(d));a=this.G().Sb();this.lf=new e.cD(e.ve.fh(a,"pointerdown",d=>this.Y9(d.data)),e.ve.fh(a,"pointermove",d=>this.Z9(d.data)),e.ve.fh(a,"pointerup",d=>this.RQ(d.data,!1)),
e.ve.fh(a,"pointercancel",d=>this.RQ(d.data,!0)),e.ve.fh(a,"deviceorientation",d=>this.L9(d.data)),e.ve.fh(a,"deviceorientationabsolute",d=>this.M9(d.data)),e.ve.fh(a,"devicemotion",d=>this.K9(d.data)),e.ve.fh(a,"tick2",()=>this.cG()))}A(){this.gd.clear();super.A()}Y9(a){if("mouse"===a.pointerType)if(this.sU)this.KA=!0;else return;const b=a.pointerId;if(!this.gd.has(b)){var d=a.pageX-this.g.Rs();a=a.pageY-this.g.Ss();var c=performance.now(),h=this.gd.size;this.gs=h;this.XB=b;var m=e.j(e.C.Touch.i5);
m.Uk(c,d,a,b,h);this.gd.set(b,m);this.Ca(e.C.Touch.L.l2);this.Ca(e.C.Touch.L.z2);this.rh=d;this.th=a;this.Ca(e.C.Touch.L.BN)}}Z9(a){if("mouse"!==a.pointerType||this.KA){var b=this.gd.get(a.pointerId);if(b){var d=performance.now();2>d-b.xa()||b.$k(d,a.pageX-this.g.Rs(),a.pageY-this.g.Ss(),a.width,a.height,a.pressure)}}}RQ(a,b){if("mouse"===a.pointerType)if(this.KA)this.KA=!1;else return;const d=performance.now();a=a.pointerId;const c=this.gd.get(a);c&&(this.gs=c.Gd,this.XB=c.xj(),this.Ca(e.C.Touch.L.k2),
this.Ca(e.C.Touch.L.y2),b||(b=c.U4(d),"single-tap"===b?(this.Ca(e.C.Touch.L.zN),this.rh=c.oa(),this.th=c.pa(),this.Ca(e.C.Touch.L.AN)):"double-tap"===b&&(this.Ca(e.C.Touch.L.b2),this.rh=c.oa(),this.th=c.pa(),this.Ca(e.C.Touch.L.c2))),c.A(),this.gd.delete(a))}fG(a){this.el("request-permission",{type:a});return new Promise((b,d)=>{this.rB.push({type:a,resolve:b,reject:d})})}X9(a){const b=a.result,d=a.type;this.FJ=d;a=this.rB.filter(c=>c.type===d);for(const c of a)c.resolve(b?"granted":"denied");this.rB=
this.rB.filter(c=>c.type!==d);b?(this.Ca(e.C.Touch.L.s2),0===d?this.g.uq():this.g.tm()):this.Ca(e.C.Touch.L.r2)}L9(a){"number"===typeof a.webkitCompassHeading?this.nB=a.webkitCompassHeading:a.absolute&&(this.nB=a.alpha);this.XI=a.alpha;this.YI=a.beta;this.ZI=a.gamma}M9(a){this.nB=a.alpha}K9(a){const b=a.acceleration;b&&(this.EG=b.x,this.FG=b.y,this.GG=b.z);if(a=a.accelerationIncludingGravity)this.BG=a.x,this.CG=a.y,this.DG=a.z}cG(){const a=performance.now();let b=0;for(const d of this.gd.values())d.xa()<=
a-50&&d.Vaa(a),d.T4(a)&&(this.gs=d.Gd,this.XB=d.xj(),this.mA=b,this.Ca(e.C.Touch.L.f2),this.rh=d.oa(),this.th=d.pa(),this.Ca(e.C.Touch.L.g2),this.mA=0),++b}Gi(a){a=Math.floor(a);for(const b of this.gd.values()){if(0===a)return b;--a}return null}du(a,b){return 0<=a&&0<=b&&a<this.g.pZ()&&b<this.g.oZ()}}}
{"use strict";const e=self.B,a=[];e.C.Touch.L={z2(){return!0},y2(){return!0},Bia(){return 0<this.gd.size},BN(b){return b&&this.du(this.rh,this.th)?this.g.Oi.Iy(b,this.rh,this.th):!1},h1(b){if(!b)return!1;const d=b.T();var c=d.ja();for(const h of c){c=h.m();const m=c.ba();for(const g of this.gd.values()){if(!this.du(g.oa(),g.pa()))continue;const [l,n]=m.ah(g.oa(),g.pa(),c.cf());if(m.fy()&&c.Gs(l,n)){a.push(h);break}}}return a.length?(d.Et(a),b.$b(),e.D(a),!0):!1},Nga(b,d,c){return(b=this.Gi(b))?e.compare(b.Hj(),
d,c):!1},Yja(){return!0},tja(){return!0},Kga(b,d,c){this.g.uq();return e.compare(0===b?this.XI:1===b?this.YI:this.ZI,d,c)},Cga(b,d,c){this.g.tm();return e.compare(0===b?this.BG:1===b?this.CG:2===b?this.DG:3===b?this.EG:4===b?this.FG:this.GG,d,c)},l2(b){b=Math.floor(b);return b===this.gs},k2(b){b=Math.floor(b);return b===this.gs},Uha(b){b=Math.floor(b);return this.gd.size>=b+1},f2(){return!0},zN(){return!0},b2(){return!0},g2(b){return b&&this.du(this.rh,this.th)?this.g.Oi.Iy(b,this.rh,this.th):!1},
AN(b){return b&&this.du(this.rh,this.th)?this.g.Oi.Iy(b,this.rh,this.th):!1},c2(b){return b&&this.du(this.rh,this.th)?this.g.Oi.Iy(b,this.rh,this.th):!1},s2(b){return this.FJ===b},r2(b){return this.FJ===b}}}"use strict";self.B.C.Touch.tc={Xka(e){this.fG(e)}};
{"use strict";const e=self.B;e.C.Touch.ac={Ina(){return this.gd.size},Qy(a){const b=this.Gi(this.mA);return b?b.$p(this.g.Ha(),a,!0):0},Ry(a){const b=this.Gi(this.mA);return b?b.$p(this.g.Ha(),a,!1):0},poa(a,b){return(a=this.Gi(a))?a.$p(this.g.Ha(),b,!0):0},roa(a,b){return(a=this.Gi(a))?a.$p(this.g.Ha(),b,!1):0},qoa(a,b){return(a=this.gd.get(a))?a.$p(this.g.Ha(),b,!0):0},soa(a,b){return(a=this.gd.get(a))?a.$p(this.g.Ha(),b,!1):0},vfa(){const a=this.Gi(0);return a?a.oa():0},yfa(){const a=this.Gi(0);
return a?a.pa():0},wfa(a){return(a=this.Gi(a))?a.oa():0},zfa(a){return(a=this.Gi(a))?a.pa():0},xfa(a){return(a=this.gd.get(a))?a.oa():0},Afa(a){return(a=this.gd.get(a))?a.pa():0},jna(a){return(a=this.Gi(a))?a.Hj():0},kna(a){return(a=this.gd.get(a))?a.Hj():0},Pfa(a){return(a=this.Gi(a))?e.Wh(a.Ma()):0},Qfa(a){return(a=this.gd.get(a))?e.Wh(a.Ma()):0},Tga(){this.g.uq();return this.nB},Nfa(){this.g.uq();return this.XI},gga(){this.g.uq();return this.YI},Eha(){this.g.uq();return this.ZI},Cfa(){this.g.tm();
return this.BG},Efa(){this.g.tm();return this.CG},Gfa(){this.g.tm();return this.DG},Bfa(){this.g.tm();return this.EG},Dfa(){this.g.tm();return this.FG},Ffa(){this.g.tm();return this.GG},Kna(){return this.gs},Jna(){return this.XB},koa(a){return(a=this.gd.get(a))?a.$():0},Wha(a){return(a=this.gd.get(a))?a.X():0},Cka(a){return(a=this.gd.get(a))?a.LT:0}}}
{"use strict";const e=self.B;let a=-1E3,b=-1E3,d=-1E4;e.C.Touch.i5=class extends e.ea{constructor(){super();this.LT=this.R=this.U=this.bB=this.aB=this.N=this.P=this.RB=this.QB=this.$A=this.Zb=this.bn=this.Gd=this.KT=0;this.QA=this.QH=!1}A(){}Uk(c,h,m,g,l){this.KT=g;this.Gd=l;this.bn=this.$A=this.Zb=c;this.QB=h;this.RB=m;this.P=h;this.N=m;this.aB=h;this.bB=m}$k(c,h,m,g,l,n){this.$A=this.Zb;this.Zb=c;this.aB=this.P;this.bB=this.N;this.P=h;this.N=m;this.U=g;this.R=l;this.LT=n;!this.QA&&15<=e.Lp(this.QB,
this.RB,this.P,this.N)&&(this.QA=!0)}xj(){return this.KT}xa(){return this.Zb}Vaa(c){this.$A=c}oa(){return this.P}pa(){return this.N}Hj(){const c=e.Lp(this.P,this.N,this.aB,this.bB),h=(this.Zb-this.$A)/1E3;return 0<h?c/h:0}Ma(){return e.cK(this.aB,this.bB,this.P,this.N)}$(){return this.U}X(){return this.R}T4(c){return this.QH?!1:500<=c-this.bn&&!this.QA&&15>e.Lp(this.QB,this.RB,this.P,this.N)?this.QH=!0:!1}U4(c){if(this.QH)return"";if(333>=c-this.bn&&!this.QA&&15>e.Lp(this.QB,this.RB,this.P,this.N)){if(666>=
c-d&&25>e.Lp(a,b,this.P,this.N))return b=a=-1E3,d=-1E4,"double-tap";a=this.P;b=this.N;d=c;return"single-tap"}return""}$p(c,h,m){return"undefined"===typeof h?c.Fx(0).SW(this.P,this.N)[m?0:1]:(c=c.ba(h))?c.ah(this.P,this.N)[m?0:1]:0}}}{"use strict";const e=self.B;e.C.Text=class extends e.vq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const e=self.B;e.C.Text.Jq=class extends e.xy{constructor(a){super(a)}A(){super.A()}Md(){}mq(){}oo(){}}}
{"use strict";const e=self.B,a=self.$g,b=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],h=new e.Rect,m=new e.rd;new e.$a;e.C.Text.Instance=class extends e.KE{constructor(n,p){super(n);this.fd="";this.pl=!0;this.Vi="Arial";this.rk=12;this.Eh=0;this.qf=this.pf=!1;this.bb=e.j(e.$a);this.Te=this.mf=0;this.Bk=!0;this.uk=this.hs=-1;this.iw=0;this.xc=e.j(e.I.CE,this.g.eb(),{timeout:5});this.xc.AC=()=>this.g.aa();this.xc.wO();p&&(this.fd=p[0],this.pl=!!p[1],this.Vi=p[2],this.rk=p[3],this.Eh=
p[4],this.pf=!!p[5],this.qf=!!p[6],this.mf=p[8],this.Te=p[9],this.Bk=0===p[10],n=p[7],this.bb.As(n[0],n[1],n[2]),this.m().Ai(p[11]));this.ge()}A(){this.zm();this.xc.A();this.xc=null;super.A()}ge(){const n=this.xc;n.Qt(this.fd);n.N3(this.pl);n.QE(this.Vi);n.AO(this.Eh);n.iO(this.pf);n.yO(this.qf);n.um(this.bb);n.tO(d[this.mf]);n.NO(c[this.Te]);n.N4(this.Bk?"word":"character")}zG(){const n=this.m();this.xc.Dy(this.rk);this.xc.c4(n.n_());var p=n.ba();p=p.aq()*p.XL(n.cf());this.xc.cd(n.$(),n.X(),p)}eh(n){var p=
this.m();this.zG();const q=this.xc.Ld();if(q){var u=p.ba();if(0===p.Ma()&&0===u.Ma()&&0===p.cf()&&!p.Lf()&&u.RN()){p=p.tj();const [w,r]=u.Mj(p.ub,p.wb),[v,y]=u.Mj(p.hc,p.ic);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.oj(h);const [G,z]=n.bt(n.Ej());this.g.M.U3(n,G,z);n.Qf(q);n.rq(m,this.xc.hi());u.mz(n)}else n.Qf(q),p.Lf()?this.JF(p,n):this.KF(p,n)}}KF(n,p){n=n.tj();this.g.xl&&(n=this.TQ(n));p.rq(n,this.xc.hi())}JF(n,p){const q=n.GM();if(n.bN()){n.Xw(h,m,!1);let u=m;
this.g.xl&&(u=this.TQ(u));q.nL(n.Gj(),u,this.xc.hi());n.TE(!1)}q.eh(p)}TQ(n){const p=n.ub-Math.round(n.ub),q=n.wb-Math.round(n.wb);if(0===p&&0===q)return n;m.na(n);m.offset(-p,-q);return m}wx(){const n=this.xc.Ld();return n?[n.$(),n.X()]:[100,100]}xx(){return this.xc.hi()}cy(){return!1}Nd(){const n={t:this.fd,c:this.bb.toJSON(),fn:this.Vi,ps:this.rk};this.pl&&(n.bbc=this.pl);0!==this.mf&&(n.ha=this.mf);0!==this.Te&&(n.va=this.Te);this.Bk||(n.wr=this.Bk);0!==this.Eh&&(n.lho=this.Eh);this.pf&&(n.b=
this.pf);this.qf&&(n.i=this.qf);-1!==this.uk&&(n.tw={st:this.hs,en:this.uk,l:this.iw});return n}xd(n){this.zm();this.fd=n.t;this.bb.Zl(n.c);this.Vi=n.fn;this.rk=n.ps;this.pl=n.hasOwnProperty("bbc")?n.bbc:!1;this.mf=n.hasOwnProperty("ha")?n.ha:0;this.Te=n.hasOwnProperty("va")?n.va:0;this.Bk=n.hasOwnProperty("wr")?n.wr:!0;this.Eh=n.hasOwnProperty("lho")?n.lho:0;this.pf=n.hasOwnProperty("b")?n.b:!1;this.qf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.hs=n.st,this.uk=n.en,this.iw=
n.l);this.ge();-1!==this.uk&&this.Bm()}Jc(n){switch(n){case 0:return this.fd;case 1:return this.pl;case 2:return this.Vi;case 3:return this.rk;case 4:return this.Eh;case 5:return this.pf;case 6:return this.qf;case 7:return b[0]=this.bb.Sa,b[1]=this.bb.Va,b[2]=this.bb.Ua,b;case 8:return this.mf;case 9:return this.Te;case 10:return this.Bk?1:0}}ti(n,p){switch(n){case 0:if(this.fd===p)break;this.fd=p;this.ge();break;case 1:if(this.pl===!!p)break;this.pl=!!p;this.ge();break;case 2:if(this.Vi===p)break;
this.Vi=p;this.ge();break;case 3:if(this.rk===p)break;this.rk=p;this.ge();break;case 4:if(this.Eh===p)break;this.Eh=p;this.ge();break;case 5:if(this.pf===!!p)break;this.pf=!!p;this.ge();break;case 6:if(this.qf===!!p)break;this.qf=!!p;this.ge();break;case 7:n=this.bb;if(n.Sa===p[0]&&n.Va===p[1]&&n.Ua===p[2])break;this.bb.As(p[0],p[1],p[2]);this.ge();break;case 8:if(this.mf===p)break;this.mf=p;this.ge();break;case 9:if(this.Te===p)break;this.Te=p;this.ge();break;case 10:this.Bk!==(0===p)&&(this.Bk=
0===p,this.ge())}}lz(n){this.fd!==n&&(this.fd=n,this.xc.Qt(n),this.g.aa())}nba(n,p){this.lz(n);this.hs=this.g.PD();this.uk=this.hs+p/this.za().hZ();this.iw=e.dm.QO(n).length;this.xc.PE(0);this.Bm()}zm(){this.uk=this.hs=-1;this.iw=0;this.xc.PE(-1);this.su()}G7(){-1!==this.uk&&(this.zm(),this.Ca(e.C.Text.L.CN),this.g.aa())}Kaa(n){this.Vi!==n&&(this.Vi=n,this.xc.QE(n),this.g.aa())}yaa(n){n=!!n;this.pf!==n&&(this.pf=n,this.xc.iO(n),this.g.aa())}Taa(n){n=!!n;this.qf!==n&&(this.qf=n,this.xc.yO(n),this.g.aa())}Laa(n){this.rk!==
n&&(this.rk=n,this.g.aa())}Jaa(n){this.bb.Wl(n)||(this.bb.jj(n),this.xc.um(this.bb),this.g.aa())}sR(n){this.Eh!==n&&(this.Eh=n,this.ge(),this.g.aa())}Oaa(n){this.mf!==n&&(this.mf=n,this.ge(),this.g.aa())}xR(n){this.Te!==n&&(this.Te=n,this.ge(),this.g.aa())}fba(n){n=!!n;this.Bk!==n&&(this.Bk=n,this.ge(),this.g.aa())}q8(){this.zG();return this.xc.r_()}p8(){this.zG();return this.xc.q_()}jf(){var n=this.g.PD();n>=this.uk?(this.zm(),this.Ca(e.C.Text.L.CN),this.g.aa()):(n=e.Qea(this.hs,this.uk,n,this.iw),
n=Math.floor(n),n!==this.xc.Ro&&(this.xc.PE(n),this.g.aa()))}jm(){return self.b0}};const g=new WeakMap,l=new Map([["top",0],["center",1],["bottom",2]]);self.b0=class extends self.Yx{constructor(){super();g.set(this,self.lt.au().ma)}get text(){return g.get(this).fd}set text(n){a.yd(n);const p=g.get(this);p.zm();p.lz(n)}set lineHeight(n){a.Qj(n);g.get(this).sR(n)}get lineHeight(){return g.get(this).Eh}set verticalAlign(n){a.yd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).xR(n)}get verticalAlign(){return c[g.get(this).Te]}}}
{"use strict";const e=self.B;e.C.Text.L={Lga(a,b){return b?this.fd===a:e.zn(this.fd,a)},Ria(){return-1!==this.uk},CN(){return!0}}}
{"use strict";const e=self.B,a=e.j(e.$a);e.C.Text.tc={Qt(b){this.zm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.lz(b.toString())},Ufa(b){this.zm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.lz(this.fd+b)},Nna(b,d){this.zm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.nba(b.toString(),d)},vma(b,d){let c=!1,h=!1;switch(d){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(b!==this.Vi||c!==this.pf||h!==this.qf)this.Kaa(b),this.yaa(c),
this.Taa(h)},Dy(b){this.Laa(b)},uma(b){a.zs(b);a.da();this.Jaa(a)},bna(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},W3(b){this.m().Pf(b);this.g.aa()},Mna(){this.G7()},AO(b){this.sR(b)},xma(b){this.Oaa(b)},ana(b){this.xR(b)},cna(b){this.fba(0===b)}}}{"use strict";const e=self.B;e.C.Text.ac={Text(){return this.fd},uka(){return this.pl?e.dm.QO(this.fd):this.fd},tha(){return this.Vi},WY(){return this.rk},e5(){return this.q8()},Dna(){return this.p8()},bja(){return this.Eh}}}
{"use strict";const e=self.B;e.C.oc=class extends e.vq{constructor(a){super(a)}A(){super.A()}}}{"use strict";const e=self.B;e.C.oc.Jq=class extends e.xy{constructor(a){super(a)}A(){super.A()}Md(){}}}
{"use strict";const e=self.B;e.C.oc.Instance=class extends e.wy{constructor(a){super(a,"browser");this.jk="";this.ov=!1;this.iS=this.PT="";this.VS=!1;this.XJ=this.UT=this.VT=0;this.lv=!1;this.bW([["online-state",b=>this.W9(b)],["backbutton",()=>this.I9()],["sw-message",b=>this.c$(b)],["hashchange",b=>this.R9(b)]]);a=this.G().Sb();this.lf=new e.cD(e.ve.fh(a,"afterfirstlayoutstart",()=>this.H9()),e.ve.fh(a,"window-resize",()=>this.eG()),e.ve.fh(a,"suspend",()=>this.d$()),e.ve.fh(a,"resume",()=>this.b$()));
this.g.iW(this.xE("get-initial-state",{exportType:this.g.Ui}).then(b=>{this.jk=b.location;this.ov=b.isOnline;this.PT=b.referrer;this.iS=b.title;this.VS=b.isCookieEnabled;this.VT=b.screenWidth;this.UT=b.screenHeight;this.XJ=b.windowOuterWidth;this.lv=b.isConstructArcade}))}A(){super.A()}H9(){this.ni("ready-for-sw-messages")}async W9(a){a=!!a.isOnline;this.ov!==a&&((this.ov=a)?await this.Od(e.C.oc.L.o2):await this.Od(e.C.oc.L.m2))}async eG(){await this.Od(e.C.oc.L.t2)}d$(){this.Ca(e.C.oc.L.p2)}b$(){this.Ca(e.C.oc.L.q2)}async I9(){await this.Od(e.C.oc.L.W1)}c$(a){a=
a.type;"downloading-update"===a?this.Ca(e.C.oc.L.EN):"update-ready"===a||"update-pending"===a?this.Ca(e.C.oc.L.FN):"offline-ready"===a&&this.Ca(e.C.oc.L.n2)}R9(a){this.jk=a.location;this.Ca(e.C.oc.L.e2)}}}"use strict";
self.B.C.oc.L={Mia(){return this.ov},o2(){return!0},m2(){return!0},t2(){return!0},Xga(){return this.VS},Aia(){return this.g.M.hp},W1(){return!0},Qia(e){return(this.g.M.zk<=this.g.M.yk?0:1)===e},EN(){return!0},FN(){return!0},n2(){return!0},e2(){return!0},aka(){return!this.g.qm()},p2(){return!0},q2(){return!0},Tha(){return!1},wia(){return!1},Nja(){return!1},Oja(){return!1},Fia(){return!1},pia(){return!0},Cna(){return!0}};
{"use strict";const e=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.C.oc.tc={Mfa(b){this.ni("alert",{message:b.toString()})},yga(){this.lv||(this.g.pb?self.ig.zga():this.ni("close"))},zha(){this.ni("set-focus",{isFocus:!0})},kga(){this.ni("set-focus",{isFocus:!1})},Oha(){this.lv||this.ni("navigate",{type:"back"})},Pha(){this.lv||this.ni("navigate",{type:"forward"})},Qha(){},f3(){this.lv||(this.g.pb?this.g.M2():this.ni("navigate",
{type:"reload"}))},Rha(b,d){this.el("navigate",{type:"url",url:b,target:d,exportType:this.g.Ui})},Sha(b,d){this.el("navigate",{type:"new-window",url:b,tag:d,exportType:this.g.Ui})},Vka(b,d){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=e.aD.TP(b);this.g.M.V3(b);this.el("request-fullscreen",{navUI:d})},uga(){this.el("exit-fullscreen")},Yna(b){b=b.split(",");for(let d=0,c=b.length;d<c;++d)b[d]=parseInt(b[d],10);this.el("vibrate",{pattern:b})},async aE(b,d){b&&d&&(b=await this.g.dd.JD(b),this.g.aE(b,d))},
kia(b,d,c){c&&(b=`data:${d},${encodeURIComponent(b)}`,this.g.aE(b,c))},Wga(b,d){d=d.toString();0===b?console.log(d):1===b?console.warn(d):2===b&&console.error(d)},Uga(b){console.group(b)},Vga(){console.groupEnd()},sha(b){try{eval(b)}catch(d){console.error("Error executing JavaScript: ",d)}},jja(b){b=Math.floor(b);0>b||b>=a.length||this.el("lock-orientation",{orientation:a[b]})},Rna(){this.el("unlock-orientation")},mN(b){this.g.dd.mN(b)},zma(b){this.ni("set-hash",{hash:b})}}}"use strict";
self.B.C.oc.ac={URL(){return this.g.le?this.jk:location.toString()},Gka(){return this.g.le?(new URL(this.jk)).protocol:location.protocol},gha(){return this.g.le?(new URL(this.jk)).hostname:location.hostname},Bka(){return this.g.le?(new URL(this.jk)).port:location.port},cka(){return this.g.le?(new URL(this.jk)).pathname:location.pathname},Vha(){return this.g.le?(new URL(this.jk)).hash:location.hash},zE(){return this.g.le?(new URL(this.jk)).search:location.search},Jka(e){const a=this.g.le?(new URL(this.jk)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(a))?decodeURIComponent(e[1].replace(/\+/g," ")):""},Oka(){return this.PT},Ena(){return this.iS},Wia(){return navigator.language},Kc(){return navigator.platform},Vna(){return navigator.userAgent},rha(e){let a=0;try{a=eval(e)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},zja(){return navigator.appName},Xna(){return navigator.appVersion},Eka(){return navigator.product},
Wna(){return navigator.vendor},ega(){return 1},fga(){return Infinity},dga(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},eha(){return self.devicePixelRatio},Zla(){return this.VT},Yla(){return this.UT},moa(){return this.g.M.zk},loa(){return this.g.M.yk},ooa(){return this.XJ},noa(){return this.XJ}};
{const e=self.B;self.lL=function(){return[e.C.Ub,e.C.Touch,e.C.Text,e.C.oc,e.C.Ub.L.F2,e.C.Qa.tc.CL,e.C.Qa.ac.random,e.C.Ub.ac.Qy,e.C.Ub.ac.F5,e.C.Ub.ac.Ry,e.C.Ub.ac.R_,e.C.Ub.tc.L3,e.C.Ub.tc.cd,e.C.Ub.L.E2,e.C.Ub.tc.u4,e.C.Ub.tc.HX,e.C.Qa.tc.M4,e.C.Qa.L.dX,e.C.Qa.L.dZ,e.C.Qa.L.vN,e.C.Touch.L.zN,e.C.Touch.L.h1,e.C.Qa.L.n1,e.C.Qa.L.fX,e.C.Touch.ac.Qy,e.C.Touch.ac.Ry,e.C.Qa.tc.nW,e.C.Text.tc.Qt,e.C.Qa.tc.m4,e.C.Qa.L.WL,e.C.Ub.ac.YO,e.C.Ub.ac.sW,e.C.Touch.L.AN,e.C.Qa.tc.w_,e.C.Ub.L.O0,e.C.Ub.ac.G2,e.C.Qa.L.OL,
e.C.Qa.tc.x_,e.C.Text.ac.Qy,e.C.Text.ac.Ry,e.C.Qa.ac.Lea,e.C.Qa.ac.Mea,e.C.Qa.tc.pF,e.C.Ub.tc.lh,e.C.Text.ac.e5,e.C.Qa.ac.find,e.C.Qa.ac.Aea,e.C.oc.ac.URL,e.C.oc.L.EN,e.C.oc.L.FN,e.C.oc.tc.f3,e.C.Touch.L.BN,e.C.Qa.L.m5,e.C.Text.L.eX,e.C.Text.tc.i4,e.C.Text.ac.WY,e.C.Text.tc.Dy]};self.KW=[{oja:0},{nga:0},{Touch:0},{tka:0},{$ja:0},{Uka:0},{Zga:0},{oga:0},{Nka:0},{toa:0},{joa:0},{Hka:0},{aga:0},{pja:0},{bga:0},{Fha:0},{cga:0},{cha:0},{bha:0},{yha:0},{qja:0},{dna:0},{iga:0},{Fka:0},{kja:0},{oc:0},{rga:0},
{iha:0},{jha:0},{Gha:0},{pga:0},{qga:0},{Animation:0},{YO:0},{Aga:0}]}
{const e=self.B;function a(b,d){return"string"===typeof b||"string"===typeof d?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):b&&d?1:0}self.JW=[()=>0,()=>"BugLayer",b=>{const d=b.Ab(0).ai(),c=b.Ab(1),h=b.Ab(2),m=b.Ab(3);return()=>d(c.em(),h.em()+m.em())},b=>{const d=b.Ab(0).ie;return()=>d.yb()},()=>6,()=>1,()=>4,()=>"",()=>"Red",()=>"Purple",()=>"Yellow",()=>"White",()=>3,()=>12,b=>{const d=b.Ab(0).ie,c=b.Ab(1).ie;return()=>
Math.round(d.yb()*(c.yb()/2))},()=>"CountLayer",b=>{const d=b.Ab(0).ai();return()=>d()},b=>{const d=b.Ab(0).ai(),c=b.Ab(1).ai(),h=b.Ab(2),m=b.Ab(3);return()=>e.Lp(d(),c(),h.em(),m.em())},()=>40,b=>{const d=b.Ab(0).ie;return()=>a("Eaten: ",d.yb())},()=>"FinishedLayer",b=>{const d=b.Ab(0).ie;return()=>a("Generation: ",d.yb())},b=>{const d=b.Ab(0);return()=>d.em()},b=>{const d=b.Ab(0).ie;return()=>a("Purple Count: ",d.yb())},b=>{const d=b.Ab(0).ie,c=b.Ab(1).ie,h=b.Ab(2).ie,m=b.Ab(3).ie,g=b.Ab(4).ie;
return()=>a(a("Yellow Count: ",d.yb())+"      Total: ",c.yb()+h.yb()+m.yb()+g.yb())},b=>{const d=b.Ab(0).ie;return()=>a("White Count: ",d.yb())},b=>{const d=b.Ab(0).ie;return()=>a("Red Count: ",d.yb())},b=>{const d=b.Ab(0).ai(),c=b.Ab(1).ai();return()=>d()+" - "+c()+" - (C) Wild Haired Science Teacher - Find More at whscience.org"},b=>{const d=b.Ab(0),c=b.Ab(1);return()=>d.em()+c.em()/2},b=>{const d=b.Ab(0).ai(),c=b.Ab(1).ai(),h=b.Ab(2).ai();return()=>d(c(h()),"three")},()=>-1,b=>{const d=b.Ab(0);
return()=>e.da(Math.floor(.9*d.RL()),1,1E4)},b=>{const d=b.Ab(0);return()=>d.RL()}]};
