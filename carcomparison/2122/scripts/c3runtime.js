// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function b(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+C*I;f[1]=B*E+l*I;f[2]=x*K+C*t;f[3]=B*K+l*t;return f}function a(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function d(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+C*N;f[1]=B*K+E*N;f[2]=x*Q+C*S;f[3]=B*Q+E*S;f[4]=x*W+C*t+I;f[5]=B*W+E*t+l;return f}function c(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-
t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];return f}function h(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*Q;f[2]=S*C+W*K+V*l;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*Q;f[5]=ea*C+ia*K+ca*l;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*Q;f[8]=oa*C+la*K+
t*l;return f}function g(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];return f}function k(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=l[8],W=l[9],V=l[10],ea=l[11],ia=l[12],ca=l[13],oa=l[14];l=l[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*C+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*l;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*C+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*l;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*C+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*l;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*C+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*l;return f}function p(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=x+x,K=B+B,N=C+C;l=x*I;var Q=x*K;x*=N;var S=B*K;B*=N;C*=N;I*=E;K*=E;E*=N;f[0]=1-(S+C);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(l+C);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(l+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,l){f[0]=l[12];f[1]=l[13];f[2]=l[14];return f}function u(f,l){var t=l[4],x=l[5],B=l[6],C=l[8],E=l[9],I=l[10];f[0]=Math.hypot(l[0],l[1],l[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(C,
E,I);return f}function w(f,l){var t=new qa(3);u(t,l);var x=1/t[0],B=1/t[1],C=1/t[2],E=l[0]*x;t=l[1]*B;var I=l[2]*C,K=l[4]*x,N=l[5]*B,Q=l[6]*C;x*=l[8];B*=l[9];l=l[10]*C;C=E+N+l;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(Q-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>l?(E=2*Math.sqrt(1+E-N-l),f[3]=(Q-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>l?(E=2*Math.sqrt(1+N-E-l),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+B)/E):(E=2*Math.sqrt(1+l-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+B)/E,f[2]=.25*E);return f}function r(f,
l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,l,t,x,B,C,E){var I=1/(l-t),K=1/(x-B),N=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=(E+C)*N;f[15]=1;return f}function y(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];
f[3]=l[3]-t[3];f[4]=l[4]-t[4];f[5]=l[5]-t[5];f[6]=l[6]-t[6];f[7]=l[7]-t[7];f[8]=l[8]-t[8];f[9]=l[9]-t[9];f[10]=l[10]-t[10];f[11]=l[11]-t[11];f[12]=l[12]-t[12];f[13]=l[13]-t[13];f[14]=l[14]-t[14];f[15]=l[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,l,t){var x=new qa(3);x[0]=f;x[1]=l;x[2]=t;return x}function F(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];return f}function H(f,l,t){f[0]=
l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];return f}function J(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];return f}function M(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2])}function P(f,l){var t=l[0]-f[0],x=l[1]-f[1];f=l[2]-f[2];return t*t+x*x+f*f}function R(f){var l=f[0],t=f[1];f=f[2];return l*l+t*t+f*f}function T(f,l){var t=l[0],x=l[1],B=l[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f}function Z(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]}function X(f,
l,t){var x=l[0],B=l[1];l=l[2];var C=t[0],E=t[1];t=t[2];f[0]=B*t-l*E;f[1]=l*C-x*t;f[2]=x*E-B*C;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l}function va(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B}function ta(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f}function ya(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,l,t){f[0]=l[0]+t[0];
f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];return f}function Sa(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];f[2]=l[2]-t[2];f[3]=l[3]-t[3];return f}function Ta(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];f[2]=l[2]*t[2];f[3]=l[3]*t[3];return f}function Ua(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];f[2]=l[2]/t[2];f[3]=l[3]/t[3];return f}function Wa(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f}function eb(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1],l[2]-f[2],l[3]-f[3])}function fb(f,l){var t=l[0]-f[0],
x=l[1]-f[1],B=l[2]-f[2];f=l[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var l=f[0],t=f[1],x=f[2];f=f[3];return l*l+t*t+x*x+f*f}function ib(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t*t+x*x+B*B+l*l;0<C&&(C=1/Math.sqrt(C));f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=l*C;return f}function Ya(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]*l[3]}function vb(f,l,t,x){var B=l[0],C=l[1],E=l[2];l=l[3];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-C);f[2]=E+x*(t[2]-E);f[3]=l+
x*(t[3]-l);return f}function wb(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,l,t){t*=.5;var x=Math.sin(t);f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=Math.cos(t);return f}function yb(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+l*E+B*K-C*I;f[1]=B*t+l*I+C*E-x*K;f[2]=C*t+l*K+x*I-B*E;f[3]=l*t-x*E-B*I-C*K;return f}function zb(f,l,t){t*=.5;var x=l[0],B=
l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+l*E;f[1]=B*t+C*E;f[2]=C*t-B*E;f[3]=l*t-x*E;return f}function Ab(f,l,t){t*=.5;var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-C*E;f[1]=B*t+l*E;f[2]=C*t+x*E;f[3]=l*t-B*E;return f}function Bb(f,l,t){t*=.5;var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=C*t+l*E;f[3]=l*t-C*E;return f}function Cb(f,l){var t=l[0],x=l[1],B=l[2],C=Math.sqrt(t*t+x*x+B*B);l=Math.exp(l[3]);var E=
0<C?l*Math.sin(C)/C:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=l*Math.cos(C);return f}function Db(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=Math.sqrt(t*t+x*x+B*B);C=0<C?Math.atan2(C,l)/C:0;f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=.5*Math.log(t*t+x*x+B*B+l*l);return f}function kb(f,l,t,x){var B=l[0],C=l[1],E=l[2];l=l[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=B*I+C*K+E*N+l*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*B+x*
I;f[1]=Q*C+x*K;f[2]=Q*E+x*N;f[3]=Q*l+x*t;return f}function Eb(f,l){var t=l[0]+l[4]+l[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(l[5]-l[7])*t,f[1]=(l[6]-l[2])*t,f[2]=(l[1]-l[3])*t;else{var x=0;l[4]>l[0]&&(x=1);l[8]>l[3*x+x]&&(x=2);var B=(x+1)%3,C=(x+2)%3;t=Math.sqrt(l[3*x+x]-l[3*B+B]-l[3*C+C]+1);f[x]=.5*t;t=.5/t;f[3]=(l[3*B+C]-l[3*C+B])*t;f[B]=(l[3*B+x]+l[3*x+B])*t;f[C]=(l[3*C+x]+l[3*x+C])*t}return f}function Fb(f,l,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var C=l[0],E=l[1],I=l[2];l=l[3];f[0]=C;
f[1]=E;f[2]=I;f[3]=l;f[4]=x*l+B*I-t*E;f[5]=B*l+t*C-x*I;f[6]=t*l+x*E-B*C;f[7]=-x*C-B*E-t*I;return f}function Gb(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];return f}function lb(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=l[4],W=l[5],V=l[6];l=l[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-C*ia;f[1]=B*t+E*ia+C*ea-x*ca;f[2]=C*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-C*ca;f[4]=x*Q+E*I+B*N-C*K+S*t+l*ea+W*ca-V*ia;f[5]=B*Q+E*K+C*I-x*
N+W*t+l*ia+V*ea-S*ca;f[6]=C*Q+E*N+x*K-B*I+V*t+l*ca+S*ia-W*ea;f[7]=E*Q-x*I-B*K-C*N+l*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,l,t){f[0]=l[0]-t[0];f[1]=l[1]-t[1];return f}function nb(f,l,t){f[0]=l[0]*t[0];f[1]=l[1]*t[1];return f}function Za(f,l,t){f[0]=l[0]/t[0];f[1]=l[1]/t[1];return f}function ob(f,l){return Math.hypot(l[0]-f[0],l[1]-f[1])}function Qa(f,l){var t=l[0]-f[0];f=l[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var l=f[0];f=f[1];return l*l+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Cfa(){return qa},Yka:Ma,Bfa:"zyx",jsa:function(f){qa=f},Asa:function(f){return f*Mb},sd:function(f,l){return Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(4);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];return l},ta:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];return f},Fw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Hf:function(f,l,t,x){var B=new qa(4);B[0]=f;B[1]=l;B[2]=t;B[3]=x;return B},set:function(f,l,t,x,B){f[0]=l;f[1]=t;f[2]=x;f[3]=B;return f},PV:function(f,l){if(f===l){var t=l[1];f[1]=l[2];f[2]=t}else f[0]=l[0],
f[1]=l[2],f[2]=l[1],f[3]=l[3];return f},xs:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t*l-B*x;if(!C)return null;C=1/C;f[0]=l*C;f[1]=-x*C;f[2]=-B*C;f[3]=t*C;return f},JU:function(f,l){var t=l[0];f[0]=l[3];f[1]=-l[1];f[2]=-l[2];f[3]=t;return f},mK:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=B*t+l*E;f[2]=x*-E+C*t;f[3]=B*-E+l*t;return f},scale:function(f,l,t){var x=l[1],B=l[2],C=l[3],
E=t[0];t=t[1];f[0]=l[0]*E;f[1]=x*E;f[2]=B*t;f[3]=C*t;return f},qC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;return f},sK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=l[1];return f},km:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},rK:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},gja:function(f,l,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,l,t]},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+
t[3];return f},lm:a,qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]},sd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var C=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},HK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;return f},IK:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},Kn:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var l=new qa(6);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];return l},ta:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];return f},Fw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Hf:function(f,
l,t,x,B,C){var E=new qa(6);E[0]=f;E[1]=l;E[2]=t;E[3]=x;E[4]=B;E[5]=C;return E},set:function(f,l,t,x,B,C,E){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;return f},xs:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4];l=l[5];var I=t*C-x*B;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*l-C*E)*I;f[5]=(x*E-t*l)*I;return f},mK:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+C*K;f[1]=B*t+E*K;f[2]=x*-K+C*t;f[3]=B*-K+E*t;f[4]=I;f[5]=l;return f},scale:function(f,l,t){var x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=t[0];t=t[1];f[0]=l[0]*K;f[1]=x*K;f[2]=B*t;f[3]=C*t;f[4]=E;f[5]=I;return f},translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4];l=l[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=x*K+C*t+I;f[5]=B*K+E*t+l;return f},qC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=-t;f[3]=l;f[4]=0;f[5]=0;return f},sK:function(f,l){f[0]=l[0];f[1]=
0;f[2]=0;f[3]=l[1];f[4]=0;f[5]=0;return f},tK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=l[0];f[5]=l[1];return f},km:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},rK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];return f},lm:c,HK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;return f},
IK:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;return f},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4];f=f[5];var I=l[0],K=l[1],N=l[2],Q=l[3],S=l[4];l=l[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(C-Q)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Kn:d,sub:c}),Qb=Object.freeze({__proto__:null,create:h,aea:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[4];f[4]=l[5];f[5]=l[6];f[6]=l[8];f[7]=l[9];f[8]=l[10];return f},clone:function(f){var l=new qa(9);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=f[8];return l},ta:function(f,
l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},Hf:function(f,l,t,x,B,C,E,I,K){var N=new qa(9);N[0]=f;N[1]=l;N[2]=t;N[3]=x;N[4]=B;N[5]=C;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,l,t,x,B,C,E,I,K,N){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Fw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},PV:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[5];f[1]=l[3];f[2]=l[6];f[3]=t;f[5]=
l[7];f[6]=x;f[7]=B}else f[0]=l[0],f[1]=l[3],f[2]=l[6],f[3]=l[1],f[4]=l[4],f[5]=l[7],f[6]=l[2],f[7]=l[5],f[8]=l[8];return f},xs:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=l[8];var Q=l*E-I*N,S=-l*C+I*K,W=N*C-E*K,V=t*Q+x*S+B*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-l*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(l*t-B*K)*V;f[5]=(-I*t+B*C)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*C)*V;return f},JU:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7];l=
l[8];f[0]=E*l-I*N;f[1]=B*N-x*l;f[2]=x*I-B*E;f[3]=I*K-C*l;f[4]=t*l-B*K;f[5]=B*C-t*I;f[6]=C*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*C;return f},mK:function(f){var l=f[3],t=f[4],x=f[5],B=f[6],C=f[7],E=f[8];return f[0]*(E*t-x*C)+f[1]*(-E*l+x*B)+f[2]*(C*l-t*B)},multiply:m,translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+Q;f[8]=S*C+t*K+l;return f},rotate:function(f,l,t){var x=l[0],B=
l[1],C=l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7];l=l[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*C+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*C;f[6]=N;f[7]=Q;f[8]=l;return f},scale:function(f,l,t){var x=t[0];t=t[1];f[0]=x*l[0];f[1]=x*l[1];f[2]=x*l[2];f[3]=t*l[3];f[4]=t*l[4];f[5]=t*l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];return f},tK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=l[0];f[7]=l[1];f[8]=1;return f},qC:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=
t;f[2]=0;f[3]=-t;f[4]=l;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},sK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=l[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Xpa:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=0;f[3]=l[2];f[4]=l[3];f[5]=0;f[6]=l[4];f[7]=l[5];f[8]=1;return f},bea:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=l;E*=l;l*=I;f[0]=1-x-B;f[3]=K-l;f[6]=N+E;f[1]=K+l;f[4]=1-t-B;f[7]=Q-C;f[2]=N-E;f[5]=Q+C;f[8]=1-t-x;return f},jra:function(f,
l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*l-V*ea;var Ca=S*ca-W*ia;S=S*l-V*ia;W=W*l-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(B*S-x*W-C*Ca)*V;f[4]=(t*W-B*Q+C*Ba)*V;f[5]=(x*Q-t*S-C*Aa)*V;f[6]=(ia*za-ca*pa+l*sa)*V;f[7]=(ca*ra-
ea*za-l*la)*V;f[8]=(ea*pa-ia*ra+l*oa)*V;return f},vV:function(f,l,t){f[0]=2/l;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},km:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},rK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];
return f},lm:g,HK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;return f},IK:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;return f},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]},sd:function(f,l){var t=f[0],
x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=l[0],S=l[1],W=l[2],V=l[3],ea=l[4],ia=l[5],ca=l[6],oa=l[7];l=l[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Kn:m,sub:g}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var l=new qa(16);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=
f[8];l[9]=f[9];l[10]=f[10];l[11]=f[11];l[12]=f[12];l[13]=f[13];l[14]=f[14];l[15]=f[15];return l},ta:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=l[6];f[7]=l[7];f[8]=l[8];f[9]=l[9];f[10]=l[10];f[11]=l[11];f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=l[15];return f},Hf:function(f,l,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=l;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=C;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,l,t,x,B,C,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Fw:k,PV:function(f,l){if(f===l){var t=l[1],x=l[2],B=l[3],C=l[6],E=l[7],I=l[11];f[1]=l[4];f[2]=l[8];f[3]=l[12];f[4]=t;f[6]=l[9];f[7]=l[13];f[8]=x;f[9]=C;f[11]=l[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=l[0],f[1]=l[4],f[2]=l[8],f[3]=l[12],f[4]=l[1],f[5]=l[5],f[6]=l[9],f[7]=l[13],f[8]=l[2],f[9]=l[6],f[10]=l[10],f[11]=l[14],
f[12]=l[3],f[13]=l[7],f[14]=l[11],f[15]=l[15];return f},xs:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-C*Fa)*Da;f[2]=(ia*za-ca*pa+l*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+C*Ba)*Da;f[6]=(ca*ra-ea*za-l*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-C*Aa)*Da;f[10]=(ea*pa-ia*ra+l*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},JU:function(f,l){var t=l[0],x=l[1],B=l[2],C=l[3],E=l[4],I=l[5],K=l[6],N=l[7],Q=l[8],S=l[9],W=l[10],V=l[11],ea=l[12],ia=l[13],ca=l[14];l=l[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*l-V*ea,Fa=S*ca-W*ia,Ja=S*l-V*ia,Ka=W*l-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-C*Fa;f[2]=ia*za-ca*pa+l*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+C*Ba;f[6]=ca*ra-ea*za-l*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-C*Aa;f[10]=ea*pa-ia*ra+l*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},mK:function(f){var l=f[0],t=f[1],x=f[2],
B=f[4],C=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=l*C-t*B,ea=l*E-x*B,ia=t*E-x*C,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(l*la-t*oa+x*ca)-f[3]*(B*la-C*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,l,t){var x=t[0],B=t[1];t=t[2];if(l===f)f[12]=l[0]*x+l[4]*B+l[8]*t+l[12],f[13]=l[1]*x+l[5]*B+l[9]*t+l[13],f[14]=l[2]*x+l[6]*B+l[10]*t+l[14],f[15]=l[3]*x+l[7]*B+l[11]*t+l[15];else{var C=l[0];var E=l[1];var I=l[2];var K=l[3];var N=l[4];var Q=l[5];
var S=l[6];var W=l[7];var V=l[8];var ea=l[9];var ia=l[10];var ca=l[11];f[0]=C;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=C*x+N*B+V*t+l[12];f[13]=E*x+Q*B+ea*t+l[13];f[14]=I*x+S*B+ia*t+l[14];f[15]=K*x+W*B+ca*t+l[15]}return f},scale:function(f,l,t){var x=t[0],B=t[1];t=t[2];f[0]=l[0]*x;f[1]=l[1]*x;f[2]=l[2]*x;f[3]=l[3]*x;f[4]=l[4]*B;f[5]=l[5]*B;f[6]=l[6]*B;f[7]=l[7]*B;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12];f[13]=l[13];f[14]=l[14];f[15]=
l[15];return f},rotate:function(f,l,t,x){var B=x[0],C=x[1];x=x[2];var E=Math.hypot(B,C,x);if(1E-6>E)return null;E=1/E;B*=E;C*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=l[0];E=l[1];var Q=l[2];var S=l[3];var W=l[4];var V=l[5];var ea=l[6];var ia=l[7];var ca=l[8];var oa=l[9];var la=l[10];var ra=l[11];var sa=B*B*N+K;var pa=C*B*N+x*I;var za=x*B*N-C*I;var Aa=B*C*N-x*I;var Ba=C*C*N+K;var Ca=x*C*N+B*I;var Fa=B*x*N+C*I;B=C*x*N-B*I;C=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*C;f[9]=E*Fa+V*B+oa*C;f[10]=Q*Fa+ea*B+la*C;f[11]=S*Fa+ia*B+ra*C;l!==f&&(f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);return f},RK:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[4],C=l[5],E=l[6],I=l[7],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[4]=B*t+K*x;f[5]=C*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-C*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},SK:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],C=l[1],E=l[2],I=l[3],K=l[8],N=l[9],Q=l[10],S=l[11];l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t-K*x;f[1]=C*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=C*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},TK:function(f,l,t){var x=Math.sin(t);t=Math.cos(t);var B=l[0],C=l[1],E=l[2],I=l[3],K=l[4],
N=l[5],Q=l[6],S=l[7];l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]);f[0]=B*t+K*x;f[1]=C*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-C*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},tK:function(f,l){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=l[0];f[13]=l[1];f[14]=l[2];f[15]=1;return f},sK:function(f,l){f[0]=l[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=l[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},qC:function(f,l,t){var x=t[0],B=t[1];t=t[2];var C=Math.hypot(x,B,t);if(1E-6>C)return null;C=1/C;x*=C;B*=C;t*=C;C=Math.sin(l);l=Math.cos(l);var E=1-l;f[0]=x*x*E+l;f[1]=B*x*E+t*C;f[2]=t*x*E-B*C;f[3]=0;f[4]=x*B*E-t*C;f[5]=B*B*E+l;f[6]=t*B*E+x*C;f[7]=0;f[8]=x*t*E+B*C;f[9]=B*t*E-x*C;f[10]=t*t*E+l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},cqa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dqa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=l;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},eqa:function(f,l){var t=Math.sin(l);l=Math.cos(l);f[0]=l;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},cea:p,Zpa:function(f,l){var t=new qa(3),x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],
N=l[6],Q=l[7],S=x*x+B*B+C*C+E*E;0<S?(t[0]=2*(I*E+Q*x+K*C-N*B)/S,t[1]=2*(K*E+Q*B+N*x-I*C)/S,t[2]=2*(N*E+Q*C+I*B-K*x)/S):(t[0]=2*(I*E+Q*x+K*C-N*B),t[1]=2*(K*E+Q*B+N*x-I*C),t[2]=2*(N*E+Q*C+I*B-K*x));p(f,l,t);return f},fea:q,pqa:u,oqa:w,Jpa:function(f,l,t,x){l[0]=x[12];l[1]=x[13];l[2]=x[14];var B=x[0],C=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];l=x[9];x=x[10];t[0]=Math.hypot(B,C,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,l,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;C*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;l*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-l)/x,f[1]=(Q-E)/x,f[2]=(C-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-l)/x,f[0]=.25*x,f[1]=(C+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(C+I)/x,f[1]=.25*x,f[2]=(N+l)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(C-I)/x,f[0]=(Q+E)/x,f[1]=(N+l)/x,f[2]=.25*x);return f},$pa:function(f,l,t,x){var B=l[0],C=l[1],E=l[2],I=l[3],K=B+B,N=C+C,Q=E+E;l=B*K;var S=B*N;B*=Q;var W=C*N;C*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(B-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(l+E))*V;f[6]=(C+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(C-K)*x;f[10]=(1-(l+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},aqa:function(f,l,t,x,B){var C=l[0],E=l[1],I=l[2],K=l[3],N=C+C,Q=E+E,S=I+I;l=C*N;var W=C*Q,V=C*S;C=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(C+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(l+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;l=(1-(l+C))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=l;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+l*B);f[15]=1;return f},bea:function(f,l){var t=l[0],x=l[1],B=l[2];l=l[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,Q=B*E;B*=I;C*=l;E*=l;l*=I;f[0]=1-x-B;f[1]=K+l;f[2]=N-E;f[3]=0;f[4]=K-l;f[5]=1-t-B;f[6]=Q+C;f[7]=0;f[8]=N+E;f[9]=Q-C;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dea:function(f,l,t,x,B,C,E){var I=1/(t-l),K=1/(B-
x),N=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*K;f[6]=0;f[7]=0;f[8]=(t+l)*I;f[9]=(B+x)*K;f[10]=(E+C)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*N;f[15]=0;return f},vra:r,perspective:r,wra:function(f,l,t,x,B){l=1/Math.tan(l/2);f[0]=l/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=l;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},ura:function(f,l,t,x){var B=Math.tan(l.Fsa*Math.PI/180),C=Math.tan(l.Lpa*Math.PI/
180),E=Math.tan(l.Vqa*Math.PI/180);l=Math.tan(l.Rra*Math.PI/180);var I=2/(E+l),K=2/(B+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-l)*I*.5);f[9]=(B-C)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},sra:v,Nea:v,tra:function(f,l,t,x,B,C,E){var I=1/(l-t),K=1/(x-B);E=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(l+t)*I;f[13]=(B+x)*K;f[14]=C*E;f[15]=1;return f},Cea:function(f,l,t,x){var B=
l[0],C=l[1];l=l[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(l-Q))return k(f);t=B-N;x=C-x;N=l-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*B+K*C+E*l);f[13]=
-(I*B+W*C+V*l);f[14]=-(t*B+x*C+N*l);f[15]=1;return f},rsa:function(f,l,t,x){var B=l[0],C=l[1];l=l[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=C-t[1];t=l-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=C;f[14]=l;f[15]=1;return f},km:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},rK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];f[8]=l[8]+t[8];f[9]=l[9]+t[9];f[10]=l[10]+t[10];f[11]=l[11]+t[11];f[12]=l[12]+t[12];f[13]=l[13]+t[13];
f[14]=l[14]+t[14];f[15]=l[15]+t[15];return f},lm:y,HK:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;f[8]=l[8]*t;f[9]=l[9]*t;f[10]=l[10]*t;f[11]=l[11]*t;f[12]=l[12]*t;f[13]=l[13]*t;f[14]=l[14]*t;f[15]=l[15]*t;return f},IK:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;f[4]=l[4]+t[4]*x;f[5]=l[5]+t[5]*x;f[6]=l[6]+t[6]*x;f[7]=l[7]+t[7]*x;f[8]=l[8]+t[8]*x;f[9]=l[9]+t[9]*x;f[10]=l[10]+t[10]*x;f[11]=
l[11]+t[11]*x;f[12]=l[12]+t[12]*x;f[13]=l[13]+t[13]*x;f[14]=l[14]+t[14]*x;f[15]=l[15]+t[15]*x;return f},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=l[0],
la=l[1],ra=l[2],sa=l[3],pa=l[4],za=l[5],Aa=l[6],Ba=l[7],Ca=l[8],Fa=l[9],Ja=l[10],Ka=l[11],Da=l[12],Hb=l[13],Ib=l[14];l=l[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},Kn:n,sub:y}),rb=function(){var f=A();return function(l,t,x,B,C,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],C(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2];return l}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var l=new qa(3);l[0]=f[0];l[1]=f[1];l[2]=f[2];return l},length:G,Hf:z,ta:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];return f},set:function(f,l,
t,x){f[0]=l;f[1]=t;f[2]=x;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];return f},lm:F,multiply:H,fm:J,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],
t[2]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;return f},UK:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;return f},Cw:M,JV:P,CC:R,pV:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];return f},normalize:T,Hn:Z,lK:X,gd:function(f,l,t,x){var B=l[0],C=l[1];l=l[2];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-
C);f[2]=l+x*(t[2]-l);return f},efa:function(f,l,t,x){var B=Math.acos(Math.min(Math.max(Z(l,t),-1),1)),C=Math.sin(B),E=Math.sin((1-x)*B)/C;x=Math.sin(x*B)/C;f[0]=E*l[0]+x*t[0];f[1]=E*l[1]+x*t[1];f[2]=E*l[2]+x*t[2];return f},uqa:function(f,l,t,x,B,C){var E=C*C,I=E*(2*C-3)+1,K=E*(C-2)+C,N=E*(C-1);C=E*(3-2*C);f[0]=l[0]*I+t[0]*K+x[0]*N+B[0]*C;f[1]=l[1]*I+t[1]*K+x[1]*N+B[1]*C;f[2]=l[2]*I+t[2]*K+x[2]*N+B[2]*C;return f},mpa:function(f,l,t,x,B,C){var E=1-C,I=E*E,K=C*C,N=I*E;I*=3*C;E*=3*K;C*=K;f[0]=l[0]*N+
t[0]*I+x[0]*E+B[0]*C;f[1]=l[1]*N+t[1]*I+x[1]*E+B[1]*C;f[2]=l[2]*N+t[2]*I+x[2]*E+B[2]*C;return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*l;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*l;return f},bL:function(f,l,t){var x=l[0],B=l[1];l=l[2];var C=t[3]*x+t[7]*B+t[11]*l+t[15];C=C||1;f[0]=(t[0]*x+t[4]*B+t[8]*l+t[12])/C;f[1]=(t[1]*x+t[5]*B+t[9]*l+t[13])/C;f[2]=(t[2]*x+t[6]*B+t[10]*l+t[14])/C;return f},qfa:function(f,l,t){var x=l[0],B=l[1];l=l[2];f[0]=x*t[0]+B*t[3]+
l*t[6];f[1]=x*t[1]+B*t[4]+l*t[7];f[2]=x*t[2]+B*t[5]+l*t[8];return f},rfa:function(f,l,t){var x=t[0],B=t[1],C=t[2],E=l[0],I=l[1];l=l[2];var K=B*l-C*I,N=C*E-x*l,Q=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*Q-C*N);f[1]=I+N*t+2*(C*K-x*Q);f[2]=l+Q*t+2*(x*N-B*K);return f},RK:function(f,l,t,x){var B=[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);C[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},SK:function(f,l,t,x){var B=
[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);C[1]=B[1];C[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},TK:function(f,l,t,x){var B=[],C=[];B[0]=l[0]-t[0];B[1]=l[1]-t[1];B[2]=l[2]-t[2];C[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);C[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);C[2]=B[2];f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},angle:function(f,l){var t=f[0],x=f[1],B=f[2],C=l[0],E=l[1],I=l[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(C*C+E*E+I*I)))&&Z(f,l)/t;return Math.acos(Math.min(Math.max(f,-1),1))},$V:function(f){f[0]=0;f[1]=0;f[2]=0;return f},km:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]},sd:function(f,l){var t=f[0],x=f[1];f=f[2];var B=l[0],C=l[1];l=l[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:F,
Kn:H,XU:J,oK:M,IV:P,As:G,BC:R,forEach:rb});var sb=function(){var f=ba();return function(l,t,x,B,C,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],f[2]=l[x+2],f[3]=l[x+3],C(f,f,E),l[x]=f[0],l[x+1]=f[1],l[x+2]=f[2],l[x+3]=f[3];return l}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Hf:va,ta,set:ya,add:Na,lm:Sa,multiply:Ta,fm:Ua,ceil:function(f,l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);f[2]=Math.ceil(l[2]);f[3]=Math.ceil(l[3]);return f},floor:function(f,
l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);f[2]=Math.floor(l[2]);f[3]=Math.floor(l[3]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);f[2]=Math.min(l[2],t[2]);f[3]=Math.min(l[3],t[3]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);f[2]=Math.max(l[2],t[2]);f[3]=Math.max(l[3],t[3]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);f[2]=Math.round(l[2]);f[3]=Math.round(l[3]);return f},scale:Wa,UK:function(f,
l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;f[2]=l[2]+t[2]*x;f[3]=l[3]+t[3]*x;return f},Cw:eb,JV:fb,length:Pa,CC:Va,pV:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=-l[3];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];f[2]=1/l[2];f[3]=1/l[3];return f},normalize:ib,Hn:Ya,lK:function(f,l,t,x){var B=t[0]*x[1]-t[1]*x[0],C=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=l[0];var N=l[1],Q=l[2];l=l[3];f[0]=N*t-Q*K+l*I;f[1]=-(x*t)+
Q*E-l*C;f[2]=x*K-N*E+l*B;f[3]=-(x*I)+N*C-Q*B;return f},gd:vb,random:function(f,l){l=l||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var C=2*Ma()-1;var E=2*Ma()-1;var I=C*C+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=l*t;f[1]=l*x;f[2]=l*C*B;f[3]=l*E*B;return f},bL:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];f[0]=t[0]*x+t[4]*B+t[8]*C+t[12]*l;f[1]=t[1]*x+t[5]*B+t[9]*C+t[13]*l;f[2]=t[2]*x+t[6]*B+t[10]*C+t[14]*l;f[3]=t[3]*x+t[7]*B+t[11]*C+t[15]*l;return f},rfa:function(f,l,t){var x=
l[0],B=l[1],C=l[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*C-K*B,Q=t*B+K*x-E*C,S=t*C+E*B-I*x;x=-E*x-I*B-K*C;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=l[3];return f},$V:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},km:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},qj:wb,sd:function(f,l){var t=f[0],x=f[1],B=f[2];f=f[3];var C=l[0],E=l[1],I=l[2];l=l[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},sub:Sa,Kn:Ta,XU:Ua,oK:eb,IV:fb,As:Pa,BC:Va,forEach:sb});var tb=function(){var f=A(),l=z(1,0,0),t=z(0,1,0);return function(x,B,C){var E=Z(B,C);if(-.999999>E)return X(f,l,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),l=
jb();return function(t,x,B,C,E,I){kb(f,x,E,I);kb(l,B,C,I);kb(t,f,l,2*I*(1-I));return t}}(),gb=function(){var f=h();return function(l,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(l,Eb(l,f))}}();tb=Object.freeze({__proto__:null,create:jb,Fw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},hsa:xb,lqa:function(f,l){var t=2*Math.acos(l[3]),x=Math.sin(t/2);1E-6<x?(f[0]=l[0]/x,f[1]=l[1]/x,f[2]=l[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},jqa:function(f,
l){f=Ya(f,l);return Math.acos(2*f*f-1)},multiply:yb,RK:zb,SK:Ab,TK:Bb,opa:function(f,l){var t=l[0],x=l[1];l=l[2];f[0]=t;f[1]=x;f[2]=l;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-l*l));return f},exp:Cb,Bea:Db,pow:function(f,l,t){Db(f,l);Wa(f,f,t);Cb(f,f);return f},efa:kb,random:function(f){var l=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-l);l=Math.sqrt(l);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=l*Math.sin(2*Math.PI*x);f[3]=l*Math.cos(2*Math.PI*x);return f},xs:function(f,l){var t=l[0],x=l[1],B=l[2];
l=l[3];var C=t*t+x*x+B*B+l*l;C=C?1/C:0;f[0]=-t*C;f[1]=-x*C;f[2]=-B*C;f[3]=l*C;return f},Oda:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];return f},Ypa:Eb,Wpa:function(f,l,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",C=Math.PI/360;l*=C;x*=C;t*=C;C=Math.sin(l);var E=Math.cos(l),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(B){case "xyz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "xzy":f[0]=C*K*Q-E*I*N;f[1]=E*
I*Q-C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yxz":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q-C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;case "yzx":f[0]=C*K*Q+E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zxy":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N+C*I*Q;f[3]=E*K*Q-C*I*N;break;case "zyx":f[0]=C*K*Q-E*I*N;f[1]=E*I*Q+C*K*N;f[2]=E*K*N-C*I*Q;f[3]=E*K*Q+C*I*N;break;default:throw Error("Unknown angle order "+B);}return f},km:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Hf:va,ta,set:ya,add:Na,Kn:yb,scale:Wa,Hn:Ya,gd:vb,length:Pa,As:Pa,CC:Va,BC:Va,normalize:ib,qj:wb,sd:function(f,l){return.999999<=Math.abs(Ya(f,l))},Vra:tb,nsa:ub,gsa:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var l=new qa(8);l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];return l},Hf:function(f,l,t,x,B,C,E,I){var K=
new qa(8);K[0]=f;K[1]=l;K[2]=t;K[3]=x;K[4]=B;K[5]=C;K[6]=E;K[7]=I;return K},bqa:function(f,l,t,x,B,C,E){var I=new qa(8);I[0]=f;I[1]=l;I[2]=t;I[3]=x;B*=.5;C*=.5;E*=.5;I[4]=B*x+C*t-E*l;I[5]=C*x+E*f-B*t;I[6]=E*x+B*l-C*f;I[7]=-B*f-C*l-E*t;return I},cea:Fb,tK:function(f,l){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*l[0];f[5]=.5*l[1];f[6]=.5*l[2];f[7]=0;return f},qC:function(f,l){f[0]=l[0];f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},aea:function(f,l){var t=jb();w(t,l);var x=new qa(3);q(x,
l);Fb(f,t,x);return f},ta:Gb,Fw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,l,t,x,B,C,E,I,K){f[0]=l;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;return f},nqa:ta,mqa:function(f,l){f[0]=l[4];f[1]=l[5];f[2]=l[6];f[3]=l[7];return f},ksa:ta,isa:function(f,l){f[4]=l[0];f[5]=l[1];f[6]=l[2];f[7]=l[3];return f},fea:function(f,l){var t=l[4],x=l[5],B=l[6],C=l[7],E=-l[0],I=-l[1],K=-l[2];l=l[3];f[0]=2*(t*l+C*E+x*K-B*I);f[1]=2*(x*l+C*I+B*E-t*K);f[2]=2*(B*l+
C*K+t*I-x*E);return f},translate:function(f,l,t){var x=l[0],B=l[1],C=l[2],E=l[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=l[4],Q=l[5],S=l[6];l=l[7];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=E*I+B*t-C*K+N;f[5]=E*K+C*I-x*t+Q;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-C*t+l;return f},RK:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;zb(f,l,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+
I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},SK:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Ab(f,l,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},TK:function(f,l,t){var x=-l[0],B=-l[1],C=-l[2],E=l[3],I=l[4],K=l[5],N=l[6],Q=l[7],S=I*E+Q*x+K*C-N*B,W=K*E+Q*B+N*x-I*C,V=N*E+Q*C+I*B-K*x;I=Q*E-I*x-K*B-N*C;Bb(f,l,t);x=f[0];B=
f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},Tra:function(f,l,t){var x=t[0],B=t[1],C=t[2];t=t[3];var E=l[0],I=l[1],K=l[2],N=l[3];f[0]=E*t+N*x+I*C-K*B;f[1]=I*t+N*B+K*x-E*C;f[2]=K*t+N*C+E*B-I*x;f[3]=N*t-E*x-I*B-K*C;E=l[4];I=l[5];K=l[6];N=l[7];f[4]=E*t+N*x+I*C-K*B;f[5]=I*t+N*B+K*x-E*C;f[6]=K*t+N*C+E*B-I*x;f[7]=N*t-E*x-I*B-K*C;return f},Ura:function(f,l,t){var x=l[0],B=l[1],C=l[2];l=l[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+l*E+B*
K-C*I;f[1]=B*N+l*I+C*E-x*K;f[2]=C*N+l*K+x*I-B*E;f[3]=l*N-x*E-B*I-C*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+l*E+B*K-C*I;f[5]=B*N+l*I+C*E-x*K;f[6]=C*N+l*K+x*I-B*E;f[7]=l*N-x*E-B*I-C*K;return f},Sra:function(f,l,t,x){if(1E-6>Math.abs(x))return Gb(f,l);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var C=Math.sin(x),E=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;x=Math.cos(x);B=l[0];C=l[1];var K=l[2],N=l[3];f[0]=B*x+N*E+C*t-K*I;f[1]=C*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-C*E;f[3]=N*x-B*E-C*I-K*t;B=l[4];C=l[5];K=l[6];l=l[7];f[4]=
B*x+l*E+C*t-K*I;f[5]=C*x+l*I+K*E-B*t;f[6]=K*x+l*t+B*I-C*E;f[7]=l*x-B*E-C*I-K*t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];f[2]=l[2]+t[2];f[3]=l[3]+t[3];f[4]=l[4]+t[4];f[5]=l[5]+t[5];f[6]=l[6]+t[6];f[7]=l[7]+t[7];return f},multiply:lb,Kn:lb,scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;f[2]=l[2]*t;f[3]=l[3]*t;f[4]=l[4]*t;f[5]=l[5]*t;f[6]=l[6]*t;f[7]=l[7]*t;return f},Hn:Ya,gd:function(f,l,t,x){var B=1-x;0>Ya(l,t)&&(x=-x);f[0]=l[0]*B+t[0]*x;f[1]=l[1]*B+t[1]*x;f[2]=l[2]*B+t[2]*x;f[3]=
l[3]*B+t[3]*x;f[4]=l[4]*B+t[4]*x;f[5]=l[5]*B+t[5]*x;f[6]=l[6]*B+t[6]*x;f[7]=l[7]*B+t[7]*x;return f},xs:function(f,l){var t=Va(l);f[0]=-l[0]/t;f[1]=-l[1]/t;f[2]=-l[2]/t;f[3]=l[3]/t;f[4]=-l[4]/t;f[5]=-l[5]/t;f[6]=-l[6]/t;f[7]=l[7]/t;return f},Oda:function(f,l){f[0]=-l[0];f[1]=-l[1];f[2]=-l[2];f[3]=l[3];f[4]=-l[4];f[5]=-l[5];f[6]=-l[6];f[7]=l[7];return f},length:Pa,As:Pa,CC:Va,BC:Va,normalize:function(f,l){var t=Va(l);if(0<t){t=Math.sqrt(t);var x=l[0]/t,B=l[1]/t,C=l[2]/t,E=l[3]/t,I=l[4],K=l[5],N=l[6];
l=l[7];var Q=x*I+B*K+C*N+E*l;f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-B*Q)/t;f[6]=(N-C*Q)/t;f[7]=(l-E*Q)/t}return f},km:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]},sd:function(f,l){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=l[0],Q=l[1],S=l[2],W=l[3],V=l[4],ea=l[5],ia=l[6];l=l[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))}});gb=function(){var f=Xa();return function(l,
t,x,B,C,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,l.length):l.length;x<B;x+=t)f[0]=l[x],f[1]=l[x+1],C(f,f,E),l[x]=f[0],l[x+1]=f[1];return l}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var l=new qa(2);l[0]=f[0];l[1]=f[1];return l},Hf:function(f,l){var t=new qa(2);t[0]=f;t[1]=l;return t},ta:function(f,l){f[0]=l[0];f[1]=l[1];return f},set:function(f,l,t){f[0]=l;f[1]=t;return f},add:function(f,l,t){f[0]=l[0]+t[0];f[1]=l[1]+t[1];return f},lm:mb,multiply:nb,fm:Za,ceil:function(f,
l){f[0]=Math.ceil(l[0]);f[1]=Math.ceil(l[1]);return f},floor:function(f,l){f[0]=Math.floor(l[0]);f[1]=Math.floor(l[1]);return f},min:function(f,l,t){f[0]=Math.min(l[0],t[0]);f[1]=Math.min(l[1],t[1]);return f},max:function(f,l,t){f[0]=Math.max(l[0],t[0]);f[1]=Math.max(l[1],t[1]);return f},round:function(f,l){f[0]=Math.round(l[0]);f[1]=Math.round(l[1]);return f},scale:function(f,l,t){f[0]=l[0]*t;f[1]=l[1]*t;return f},UK:function(f,l,t,x){f[0]=l[0]+t[0]*x;f[1]=l[1]+t[1]*x;return f},Cw:ob,JV:Qa,length:pb,
CC:qb,pV:function(f,l){f[0]=-l[0];f[1]=-l[1];return f},inverse:function(f,l){f[0]=1/l[0];f[1]=1/l[1];return f},normalize:function(f,l){var t=l[0],x=l[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=l[0]*t;f[1]=l[1]*t;return f},Hn:function(f,l){return f[0]*l[0]+f[1]*l[1]},lK:function(f,l,t){l=l[0]*t[1]-l[1]*t[0];f[0]=f[1]=0;f[2]=l;return f},gd:function(f,l,t,x){var B=l[0];l=l[1];f[0]=B+x*(t[0]-B);f[1]=l+x*(t[1]-l);return f},random:function(f,l){l=l||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*l;f[1]=Math.sin(t)*
l;return f},Csa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l;f[1]=t[1]*x+t[3]*l;return f},Dsa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[2]*l+t[4];f[1]=t[1]*x+t[3]*l+t[5];return f},qfa:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[3]*l+t[6];f[1]=t[1]*x+t[4]*l+t[7];return f},bL:function(f,l,t){var x=l[0];l=l[1];f[0]=t[0]*x+t[4]*l+t[12];f[1]=t[1]*x+t[5]*l+t[13];return f},rotate:function(f,l,t,x){var B=l[0]-t[0];l=l[1]-t[1];var C=Math.sin(x);x=Math.cos(x);f[0]=B*x-l*C+t[0];f[1]=B*C+l*
x+t[1];return f},angle:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];var B=Math.sqrt((t*t+f*f)*(x*x+l*l));return Math.acos(Math.min(Math.max(B&&(t*x+f*l)/B,-1),1))},$V:function(f){f[0]=0;f[1]=0;return f},km:function(f){return"vec2("+f[0]+", "+f[1]+")"},qj:function(f,l){return f[0]===l[0]&&f[1]===l[1]},sd:function(f,l){var t=f[0];f=f[1];var x=l[0];l=l[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-l)<=1E-6*Math.max(1,Math.abs(f),Math.abs(l))},As:pb,sub:mb,Kn:nb,XU:Za,
oK:ob,IV:Qa,BC:qb,forEach:gb});e.rj=Nb;e.$qa=Ob;e.ara=Pb;e.bra=Qb;e.hm=Rb;e.Cra=tb;e.Dra=ub;e.Msa=gb;e.FC=rb;e.Tw=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.epa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.rj={}));
{"use strict";function e(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function b(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function a(r,v,y){return 0<b(r,v,y)}function d(r,v,y){return 0<=b(r,v,y)}function c(r,v,y){return 0>=b(r,v,y)}var ab=[],bb=[];function h(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function g(r,v,y,A){for(;y<A;y++)r.push(v[y])}function k(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>b(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(k(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=h(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(h(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(k(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(a(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>b(ya,Na,M)&&(ya=h(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}a(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),a(m(r,Y-1),m(r,Y),M)&&(ya=h(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(g(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&g(ba,r,T,r.length),g(ba,
r,0,Y+1)):(0!==Y&&g(X,r,Y,r.length),g(X,r,0,R+1),X.push(M),ba.push(M),g(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(d(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=h(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(g(X,r,Y,Z+1),0!==Z&&g(ba,r,Z,r.length),g(ba,r,0,Y+1)):(0!==
Y&&g(X,r,Y,r.length),g(X,r,0,Z+1),g(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.zra={Ipa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Era:w,Bqa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(e(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(e(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},Jra:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===b(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},Kra:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Zqa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(a(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const e=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Hw=!1;e.CK=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.kh={}}
{"use strict";const e=self.D;e.LN=class{constructor(b){this.gda=b;this.Ma=new Map;this.m$()}m$(){var b=this.gda;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.n$(a)}n$(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ma.set(d,b)}else this.Ma.set(b,null)}by(b){return this.Ma.has(b)}ba(b){b=this.Ma.get(b);return"undefined"===typeof b?null:b}};e.wE=new e.LN(location.search);
e.wja=new e.LN(location.hash);e.wE.ba("mode")}
{"use strict";const e=self.D,b=navigator.userAgent;let a={Aea:/linux|openbsd|freebsd|netbsd/i.test(b),Lda:/CrOS/.test(b),GC:/trident|iemobile|msie|tizen/i.test(b),iqa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),OU:/bb10/i.test(b),Zda:/edge\//i.test(b),RV:/trident/i.test(b),webkit:/webkit/i.test(b),Yea:/safari\//i.test(b),Kda:/chrome\//i.test(b),Mda:/chromium\//i.test(b),Pda:/crosswalk|xwalk/i.test(b),lra:/nwjs/i.test(b),Ada:/amazonwebappplatform/i.test(b),wfa:/wv\)/.test(b),Bda:/android/i.test(b),
Kea:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",h="(unknown)",m="(unknown)",g="(unknown)",k="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",a.Aea,()=>{d="Linux"});u("isChromeOS",a.Lda,()=>{d="Chrome OS"});u("isAndroid",!a.GC&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!a.GC&&Ub,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!a.GC&&Vb,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",a.OU,()=>{d="Blackberry";c="10";h="stock";g="webkit"});u("isChrome",!a.Zda&&!a.opera&&Yb,r=>{h="Chrome";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{h="Opera";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{g=h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{h="Firefox";g="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{h="Internet Explorer";g="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==h&&a.RV,()=>{g="Trident";var r=/rv:[0-9.]+/i.exec(b);r&&r.length&&(h="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{g=h="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{h="Edge";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",a.Yea&&!a.Kea&&!a.Kda&&!a.Mda&&!a.hqa&&!a.OU,()=>{h="Safari";g="WebKit";var r=/version\/[0-9.]+/i.exec(b),v=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(h="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(h="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{h="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",a.Pda,()=>k="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");u("isNWJS",$b,r=>{k="nwjs";h="NW.js";g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",a.Ada,()=>k="webapp");
u("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");u("isFalseSafari","Safari"===h&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>h="stock");u("isAndroidWebview","Chrome"===h&&"browser"===k&&a.wfa,()=>k="webview");u("isFirefoxOS","Firefox"===h&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!a.GC&&a.Bda,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&a.RV,()=>g="Trident");u("isWebkitFallback","(unknown)"===d&&a.webkit,()=>g="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===k,()=>n=!0);p="nwjs"===k;const w="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(d="iOS",c=m,p=n=!1);e.Rc={vq:d,Uja:c,Dc:h,mga:m,SC:parseFloat(m),ax:g,$C:k,Gia:n,kE:!n,Hia:p,Cia:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),yia:"Mac OS X"===d||"iOS"===d,Oia:w,Pia:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function h(w,r){return g(w,r)}function m(w,r){return g(w,r,!0)}async function g(w,r,v=!1,
y=!0){const A=await k(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(w),g(w,r,v,!1);throw G;}}function k(w){p(w);let r=e.get(w);r instanceof Promise||(r=n(w),e.set(w,r),r.catch(()=>e.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return d(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await k(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=d(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return h(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=d(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=d(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=d(r);w=c(w);await Promise.all([w,r])})}keys(){return h(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return h(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAll();r=d(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return h(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.p1=u}"use strict";
{const e=self.p1,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function h(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(k){return"object"===typeof k?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(k)}):Promise.resolve(k)}class g{constructor(k){this.la=k;a.set(this,new Map)}nu(k){if(!d)for(const n of b)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);d=!0;break}}async CS(k){k=
a.get(this).get(k);k=await m(k);return"undefined"===typeof k?null:k}async ZT(k,n){n=await m(n);a.get(this).set(k,n)}UT(k){a.get(this).delete(k)}bS(){a.get(this).clear()}kT(){return Array.from(a.get(this).keys())}async getItem(k,n){h(n);if(d)return await this.CS(k);let p;try{p=await this.la.get(k)}catch(q){this.nu(q);if(d)return await this.CS(k);console.error(`Error reading '${k}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(k,n,p){h(p);"undefined"===
typeof n&&(n=null);if(d)await this.ZT(k,n);else try{await this.la.set(k,n)}catch(q){if(this.nu(q),d)await this.ZT(k,n);else throw q;}}async removeItem(k,n){h(n);if(d)this.UT(k);else try{await this.la.delete(k)}catch(p){this.nu(p),d?this.UT(k):console.error(`Error removing '${k}' from storage: `,p)}}async clear(k){h(k);if(d)this.bS();else try{await this.la.clear()}catch(n){this.nu(n),d?this.bS():console.error("Error clearing storage: ",n)}}async keys(k){h(k);if(d)return this.kT();k=[];try{k=await this.la.keys()}catch(n){this.nu(n);
if(d)return this.kT();console.error("Error getting storage keys: ",n)}return k}ready(k){h(k);return d?Promise.resolve(!0):this.la.ready()}kK(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new e(k);return new g(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new e("localforage"))}
{"use strict";const e=self.D;e.ic={};e.ic.zoa=(()=>{try{if("Safari"===e.Rc.Dc||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.ic.mha="undefined"!==typeof HTMLDialogElement;e.ic.ila=!!self.requestIdleCallback;e.ic.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Rc.Dc;e.ic.ImageBitmapOptions=!1;if(e.ic.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(b=>{e.ic.ImageBitmapOptions=10===b.width&&10===b.height?!0:!1}).catch(()=>{e.ic.ImageBitmapOptions=!1})}catch(b){e.ic.ImageBitmapOptions=!1}e.ic.xga=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Rc.Dc);e.ic.tka=!(!navigator.permissions||!navigator.permissions.query);e.ic.KN="undefined"!==typeof Proxy;e.ic.nha="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.ic.cx="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.ic.yha="function"===typeof fetch;e.ic.vka=!!(self.isSecureContext&&"Opera"!==e.Rc.Dc&&navigator.storage&&navigator.storage.persist);e.ic.Ena=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Rc.vq)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.ic.Hha=fc;e.ic.oia=
"undefined"!==typeof self.ImageDecoder;e.ic.Kja=!!self.showOpenFilePicker;e.ic.Lja=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.D;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.Ns(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,h)=>{0<d&&Array.isArray(h)?Array.prototype.push.apply(c,b(h,d-1)):c.push(h);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.de||(Array.prototype.de=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.de||(String.prototype.de=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.D;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.Bx())}}
{"use strict";const e=self.D,b=self.kh;e.Am=function(d){return"number"===typeof d};e.wm=function(d){return e.Am(d)&&isFinite(d)};e.Vf=function(d){if(!e.Am(d))throw new TypeError("expected number");};e.UN=function(){};e.Ela=function(d,c,h){if(!e.Am(d)||isNaN(d)||c>d||h<d)throw new RangeError("number outside of range");};e.qla=function(...d){for(let c of d);};e.Uj=function(d){if(!e.wm(d))throw new TypeError("expected finite number");};e.RN=function(){};e.nla=function(...d){for(let c of d);};e.Ai=function(d){return"string"===
typeof d};e.Gd=function(d){if(!e.Ai(d))throw new TypeError("expected string");};e.WN=function(){};e.sla=function(...d){for(let c of d);};e.eN=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.Rla=function(d){if(!e.eN(d))throw new TypeError("expected simple object");};e.Ola=function(d){if(!e.ie(d)&&!e.eN(d))throw new TypeError("expected simple object");};e.dN=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.PN=function(d){if(!e.dN(d))throw new TypeError("expected object");
};e.VN=function(){};e.rla=function(...d){for(let c of d);};e.bE=function(d){return e.xm(d,Blob)&&"string"===typeof d.name};e.Cla=function(d){if(!e.bE(d))throw new TypeError("expected file");};e.Mla=function(){};e.lo=function(d){return Array.isArray(d)};e.CE=function(d){if(!e.lo(d))throw new TypeError("expected array");};e.QN=function(){};e.mla=function(...d){for(let c of d);};e.Q0=function(d){return e.lo(d)?d.length?e.lo(d[0])?!0:!1:!0:!1};e.lla=function(d){if(!e.Q0(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.lo(c))throw new TypeError("expected 2d array");};e.Fla=function(){};e.cE=function(d){return"function"===typeof d};e.Vj=function(d,c){if(!e.cE(d))throw new TypeError("expected function");if(!e.ie(c)&&d!==c)throw new TypeError("expected same function reference");};e.SN=function(){};e.ola=function(...d){for(let c of d);};e.ula=function(d,...c){if(!e.cE(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let h of c)if(!e.ie(h)&&
d===h)return;throw new TypeError("expected same function reference");};e.Gla=function(...d){if(!e.ie(d))for(let c of d);};e.xm=function(d,c){return d instanceof c};e.bN=function(d,...c){for(let h of c)if(e.xm(d,h))return!0;return!1};e.DE=function(d,c){if(!e.xm(d,c))throw new TypeError("unexpected type");};e.TN=function(){};e.pla=function(d,...c){for(let h of c);};e.vla=function(d,...c){if(!e.bN(d,...c))throw new TypeError("unexpected type");};e.wla=function(d,...c){if(!e.ie(d)&&!e.bN(d,...c))throw new TypeError("unexpected type");
};e.zia=function(d,c){for(let h of d)if(!e.xm(h,c))return!1;return!0};e.Aia=function(d){for(let c of d)if(!e.wm(c))return!1;return!0};e.xla=function(d){for(let c of d);};e.Hla=function(d){if(!e.ie(d))for(let c of d);};e.yla=function(d){for(let c of d);};e.Ila=function(d){if(!e.ie(d))for(let c of d);};e.Dia=function(d,c){return e.ie(d)||!e.Ai(d.nodeName)?!1:!c||e.In(d.nodeName,c)};e.zla=function(d,c){if(e.ie(d)||!e.Ai(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.In(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.Jla=function(){};e.eE=function(d,c){return e.ie(d)||!e.Ai(d.tagName)?!1:!c||e.In(d.tagName,c)};e.Dla=function(d,c){if(e.ie(d)||!e.Ai(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.In(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.Nla=function(){};e.WM=function(d){return e.eE(d,"img")||e.eE(d,"canvas")||e.eE(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.Ala=function(d){if(!e.WM(d))throw new TypeError("expected drawable");
};e.Kla=function(){};e.XM=function(d){return d instanceof ImageData?!0:e.WM(d)};e.Bla=function(d){if(!e.XM(d))throw new TypeError("expected drawable or image data");};e.Lla=function(d){if(!e.ie(d)&&!e.XM(d))throw new TypeError("expected drawable or image data");};e.j1=function(d){return"string"===typeof d||d instanceof e.SD||d instanceof e.nm};e.Sla=function(d){if(!e.j1(d))throw new TypeError("expected string-like");};e.Pla=function(){};e.tla=function(...d){for(let c of d);};e.Qla=function(){throw Error("must be overridden");
};e.Tja=function(){throw Error("not yet implemented");};e.Fia=function(d,...c){if("undefined"===typeof d)return!1;for(let h of c){if("undefined"===typeof d[h])return!1;d=d[h]}return!0};e.ie=function(d){return"undefined"===typeof d||null===d};e.bga=function(d){let c=d[0].constructor;for(let h of d)if(h.constructor!==c)return!1;return c};e.cga=function(d,c){for(let h of d)if(!(h instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.eja=function(d){return e.xm(d,a)};e.Tla=function(){};
e.yoa=function(d){e.G5(d,a)};e.xoa=function(d,...c){if(!e.F5(d,...c))throw new TypeError("unexpected type");};e.F5=function(d,...c){for(const h of c)if(e.cP(d,h))return!0;return!1};e.G5=function(d,c){if(!e.cP(d,c))throw new TypeError("unexpected type");};e.cP=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.Vf=e.Vf;b.UN=e.UN;b.Uj=e.Uj;b.RN=e.RN;b.Gd=e.Gd;b.WN=e.WN;b.PN=e.PN;b.VN=e.VN;b.CE=e.CE;b.QN=e.QN;b.Vj=e.Vj;b.SN=e.SN;b.DE=e.DE;b.TN=e.TN;b.ie=
e.ie}
{"use strict";const e=self.D,b=new Map;e.Zka=function(u,...w){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);b.set(u,-1)}))};let a;e.Ana=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,NU:0,eK:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.NU.toPrecision(3)} :: calls => ${this.eK}`}})};e.pha=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=w.duration;u.total+=u.current;u.NU=u.total/u.eK;u.eK++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Bx=function(){return Error().stack};e.kha=function(){debugger};e.upa=function(u,w){return u&&u instanceof w?u:null};e.Kk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.Am(u)?"<number>":e.Ai(u)?"<string>":e.lo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.cE(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.sC=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let d=new Map,c=new Map,h=new WeakMap,m=new WeakMap;e.aq={};const g=new Set(["then","splice"]);function k(u){console.warn("[Defence] "+
u+" @",e.Bx())}e.aq.get=function(u,w){w in u||"symbol"===typeof w||g.has(w)||k(`Accessed missing property '${w}' from defended object '${e.Kk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!g.has(w)&&k(`Accessed property '${w}' on a released object '${e.Kk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};e.aq.set=function(u,w,r){w in u||d.has(u)||k(`Set non-existent property '${w}' to '${r}' on defended object '${e.Kk(u)}'`);{var v=e.sC(u[w]);
let y=e.sC(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||d.has(u)||k(`Set '${e.sC(u[w])}' property '${w}' to type '${e.sC(r)}' on defended object '${e.Kk(u)}'`);m.has(u)&&k(`Set property '${w}' on a released object '${e.Kk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};e.aq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${e.Kk(u)}'`);};e.aq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${e.Kk(u)}'`);};e.aq.Npa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.Kk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(w=>e.Kk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.ka=class{constructor(){if(e.CK&&e.ic.KN){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,e.aq);d.set(u,w);c.set(w,u);h.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};e.Rda=function(u){if(e.CK&&e.ic.KN&&u instanceof e.ka){if(!c.has(u))return u;let w=c.get(u);c.delete(u);d.delete(w);return u}return e.Hw?Object.seal(u):u};e.m=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),d.clear(),A;}if(e.CK){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);e.En(v,[...y]);v.length&&console.warn(`[Defence] '${e.Kk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return e.Rda(r)};e.B=function(u){(u=h.get(u))&&m.set(u,e.Bx())};e.Ty=function(){let u=h.get(void 0);return u?!!m.get(u):!1};let q=new Map;e.rka=class{constructor(u){this.Ja="";u&&this.start(u)}start(u){this.Ja=u;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(u){this.end();this.Ja=u;performance.mark(this.Ja+"-Start")}}}
{"use strict";const e=self.D,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(h,m,g){h=Math.floor(h);m=Math.floor(m);g=Math.floor(g);return h<m?(h=g-(m-h)%(g-m),h===g?0:h):m+(h-m)%(g-m)};e.Eea=function(h,m,g,k){return(h-m)*(k-0)/(g-m)};e.normalize=function(h,m,g){return(h-m)/(g-m)};e.ja=function(h,m,g){return h<m?m:h>g?g:h};e.ee=function(h){h%=b;0>h&&(h+=b);return h};e.nb=function(h){return h*a};e.ug=function(h){return h*d};e.ts=function(h,m,g,k){return Math.hypot(g-h,k-m)};e.WU=function(h,
m,g,k){h=g-h;m=k-m;return h*h+m*m};e.cK=function(h,m,g,k){return Math.atan2(k-m,g-h)};e.ss=function(h,m){if(h===m)return 0;h=Math.sin(h)*Math.sin(m)+Math.cos(h)*Math.cos(m);return 1<=h?0:-1>=h?Math.PI:Math.acos(h)};e.bK=function(h,m,g){let k=Math.sin(h),n=Math.cos(h),p=Math.sin(m),q=Math.cos(m);return Math.acos(k*p+n*q)>g?0<n*p-k*q?e.ee(h+g):e.ee(h-g):e.ee(m)};e.Df=function(h,m){return 0>=Math.cos(h)*Math.sin(m)-Math.sin(h)*Math.cos(m)};e.aK=function(h,m,g,k=0){let n=e.ss(h,m);k*=b;return e.Df(m,
h)?e.ee(h+(n+k)*g):e.ee(h-(n+k)*g)};e.Dda=function(h,m,g,k=0){const n=e.ss(h,m);k*=b;return e.Df(m,h)?e.ee(h+(n+k)*g):e.ee((b-n+k)*g)};e.Cda=function(h,m,g,k=0){const n=e.ss(h,m);k*=b;return e.Df(m,h)?e.ee((-b+n-k)*g):e.ee(h-(n+k)*g)};e.gd=function(h,m,g){return h+g*(m-h)};e.On=function(h,m,g){return h===m?0:(g-h)/(m-h)};e.Uea=function(h,m,g,k){return e.gd(0,k,e.On(h,m,g))};e.yC=function(h,m,g,k){return e.gd(e.gd(h,m,k),e.gd(m,g,k),k)};e.VU=function(h,m,g,k,n){return e.gd(e.yC(h,m,g,n),e.yC(m,g,k,
n),n)};e.UU=function(h,m,g){return(h+m+(h-m)*Math.cos(g*Math.PI))/2};e.Lk=function(h){return 0<h&&0===(h-1&h)};e.qV=function(h){--h;for(let m=1;32>m;m<<=1)h|=h>>m;return h+1};e.Wra=function(h,m){return Math.round(h*m)/m};e.Tpa=function(h,m){return Math.floor(h*m)/m};e.BV=function(h){return Math.round(1E6*h)/1E6};e.toFixed=function(h,m){h=h.toFixed(m);for(m=h.length-1;0<=m&&"0"===h.charAt(m);--m);0<=m&&"."===h.charAt(m)&&--m;return 0>m?h:h.substr(0,m+1)};e.J2=function(h,m,g){return e.ja(h,0,255)|e.ja(m,
0,255)<<8|e.ja(g,0,255)<<16};e.wy=function(h,m,g,k){h=e.ja(Math.floor(1024*h),-8192,8191);m=e.ja(Math.floor(1024*m),-8192,8191);g=e.ja(Math.floor(1024*g),-8192,8191);k=e.ja(Math.floor(1023*k),0,1023);0>h&&(h+=16384);0>m&&(m+=16384);0>g&&(g+=16384);return-(274877906944*h+16777216*m+1024*g+k)};e.FN=function(h,m,g){return e.wy(h,m,g,1)};e.HD=function(h){if(0<=h)return(h&255)/255;h=Math.floor(-h/274877906944);8191<h&&(h-=16384);return h/1024};e.BD=function(h){if(0<=h)return((h&65280)>>8)/255;h=Math.floor(-h%
274877906944/16777216);8191<h&&(h-=16384);return h/1024};e.oD=function(h){if(0<=h)return((h&16711680)>>16)/255;h=Math.floor(-h%16777216/1024);8191<h&&(h-=16384);return h/1024};e.nZ=function(h){return 0===h&&0>1/h?0:0<=h?1:Math.floor(-h%1024)/1023};e.iea=function(h,m){h=Math.floor(h);for(m=Math.floor(m);0!==m;){let g=m;m=h%m;h=g}return h};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.kqa=function(h,m){h=Math.floor(h);m=Math.floor(m);if(h===m)return[1,1];for(var g of c){let k=
h/g[0]*g[1];if(1>Math.abs(m-k))return g.slice(0);k=h/g[1]*g[0];if(1>Math.abs(m-k))return[g[1],g[0]]}g=e.iea(h,m);return[h/g,m/g]};e.fsa=function(h,m,g,k,n,p,q,u){var w=Math.min(h,g),r=Math.max(n,q);if(Math.max(h,g)<Math.min(n,q)||w>r)return!1;w=Math.min(m,k);r=Math.max(p,u);if(Math.max(m,k)<Math.min(p,u)||w>r)return!1;w=n-h+q-g;r=p-m+u-k;h=g-h;m=k-m;n=q-n;p=u-p;u=Math.abs(m*n-p*h);return Math.abs(n*r-p*w)>u?!1:Math.abs(h*r-m*w)<=u};e.im=function(h,m,g,k,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-h+v-g;u=r-m+y-k;h=g-h;m=k-m;w=v-w;r=y-r;y=Math.abs(m*w-r*h);return Math.abs(w*u-r*q)>y?!1:Math.abs(h*u-m*q)<=y};e.zC=function(h,m,g,k,n){const p=Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k),r=n.Db,v=n.Eb,y=n.sc,A=n.tc,G=n.mc,z=n.nc,F=n.kc;n=n.lc;return e.im(h,m,g,k,p,q,u,w,r,v,y,A)||e.im(h,m,g,k,p,q,u,w,y,A,G,z)||e.im(h,m,g,k,p,q,u,w,G,z,F,n)||e.im(h,m,g,k,p,q,u,w,F,n,r,v)};e.esa=function(h,m,g,k,n){const p=
Math.min(h,g),q=Math.max(h,g),u=Math.min(m,k),w=Math.max(m,k);let r=0;for(let v=n.length-4;r<=v;r+=2)if(e.im(h,m,g,k,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.im(h,m,g,k,p,q,u,w,n[r],n[r+1],n[0],n[1])};e.Tea=function(h,m,g,k,n,p,q,u){g-=h;p=u-p;const w=g*p-(k-m)*(q-n);if(0===w)return 2;k=((m-k)*(q-h)+g*(u-m))/w;return 0<k&&1.000001>k?(p*(q-h)+(n-q)*(u-m))/w:2};e.Pw=function(h,m,g,k,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return e.Tea(h,m,g,k,n-r,p-w,q+r,u+w)};e.tea=function(h,m,g,k,n,p,q,u){n-=
g;p-=k;q-=g;u-=k;h-=g;g=m-k;m=n*n+p*p;k=n*q+p*u;n=n*h+p*g;p=q*q+u*u;q=q*h+u*g;u=1/(m*p-k*k);p=(p*n-k*q)*u;n=(m*q-k*n)*u;return 0<=p&&0<=n&&1>=p+n};e.ufa=function(h,m,g,k,n,p,q,u){n-=g;p-=k;q-=g;u-=k;h-=g;const w=m-k;m=n*n+p*p;k=n*q+p*u;g=q*q+u*u;n=h*n+w*p;p=h*q+w*u;q=m*g-k*k;u=(g*n-k*p)/q;n=(m*p-k*n)/q;return[1-u-n,u,n]};e.tfa=function(h,m,g,k,n,p,q,u,w){return[h*k+m*p+g*u,h*n+m*q+g*w]}}
{"use strict";const e=self.D;let b=null,a="";if("undefined"!==typeof document){b=document;const k=document.querySelector("base");if(a=k&&k.hasAttribute("href")?k.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.Kha=function(){return a};e.pD=function(){if(!b)return"";const k=b.location;return e.o_(k.origin+k.pathname)+a};e.o_=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};e.Nha=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};e.MZ=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};e.Gx=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};e.R1=function(k){return k.replace(/\\/g,"/")};e.Jia=function(k,n){return n===(k?e.MZ(k).slice(1):"")};e.Aha=function(k,n){let p,q;e.bE(k)&&(p=e.Gx(k.name));e.Ai(k)&&(p=
e.Gx(k));e.bE(n)&&(q=e.Gx(n.name));e.Ai(n)&&(q=e.Gx(n));return p===q};e.pka=function(k){k=e.R1(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var p=k.lastIndexOf("/")+1;let q="",u=k,w="";0<p&&(q=k.slice(0,p),u=k.slice(p));k=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),k=u.slice(0,-w.length));return{dir:q,kpa:u,name:k,root:n,ext:w,fqa:n+q+u}};e.lF=function(k,n){return new Promise(p=>{self.setTimeout(p,
k,n)})};e.qsa=function(k){try{k()}catch(n){e.Hw&&console.warn("Swallowed exception: ",n)}};e.ira=function(){};e.In=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};e.Opa=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};e.vfa=function(k,n){var p=0;k[p++]=n[0];k[p++]=n[1];k[p++]=n[2];k[p++]=n[3];k[p++]=n[4];k[p++]=n[5];k[p++]=n[6];k[p++]=n[7];k[p++]=n[8];k[p++]=n[9];
k[p++]=n[10];k[p++]=n[11];k[p++]=n[12];k[p++]=n[13];k[p++]=n[14];k[p]=n[15]};e.Ze=function(k,n){k.length=n};e.F=function(k){k&&0!==k.length&&e.Ze(k,0)};e.Nda=function(k){if(k){for(let n=0;n<k.length;n++)e.Ze(k[n],0);e.Ze(k,0)}};e.oC=function(k,n,p){n|=0;var q=k.length;if(!(n<=q))for(;q<n;++q)k.push(p)};e.AV=function(k){var n=4;const p=k.length;n<p?e.Ze(k,n):n>p&&e.oC(k,n,"0")};e.Oc=function(k,n){e.F(k);e.En(k,n)};e.En=function(k,n){if(1E4>n.length)k.push(...n);else for(let p=0,q=n.length;p<q;++p)k.push(n[p])};
e.Gda=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var p=k.length-1;n<p;++n)k[n]=k[n+1];e.Ze(k,p)}};e.Jk=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};e.jpa=function(k,n){let p=k.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(k[q]!==n[q])return!1;return!0};e.Fda=function(k,n){let p=[],q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n(r)?p.push(r):(k[q]=r,++q)}e.Ze(k,q);return p};e.sg=function(k,n){const p=k.length;let q=0;for(let u=0,w=k.length;u<w;++u){let r=k[u];n.has(r)||
(k[q++]=r)}e.Ze(k,q);return p-q};e.qea=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};e.Ksa=function(k,n){if(!e.qea(k,n))throw new RangeError("array index out of bounds");};e.jK=function(k){return k.slice()};e.Sda=function(k,n){let p=[];for(let q of k)if(e.dN(q)){k=n(q);if(!k)throw Error("missing clone");if(k.constructor!==q.constructor)throw Error("object is not a clone");p.push(k)}else e.lo(q)?p.push(e.Sda(q,n)):p.push(q);return p};e.vpa=function(k){let n=[];for(let p of k)n.push(p.slice());
return n};e.cra=function(k,n){return new Set([...k,...n])};e.dra=function(k,n){for(const p of n)k.add(p);return k};e.first=function(k){for(let n of k)return n;return null};e.xor=function(k,n){return!k!==!n};e.compare=function(k,n,p){switch(n){case 0:return k===p;case 1:return k!==p;case 2:return k<p;case 3:return k<=p;case 4:return k>p;case 5:return k>=p;default:return!1}};e.tqa=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};e.Z2=function(k,n){return k.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=k.length;v<y;++v)u.push(void 0),k[v].then(A=>{r||(u[v]=A,++w,w===k.length?p(u):n(w,k.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let d=[];e.Rfa=function(k){d.push(k)};e.Mha=function(){let k=0;for(let n of d){let p=n();k+=p}return Math.floor(k)};let c=1;const h=new Map,m=new MessageChannel;m.port2.onmessage=function(k){k=k.data;const n=h.get(k);h.delete(k);n&&n(performance.now())};e.BE=function(k){const n=c++;h.set(n,k);m.port1.postMessage(n);
return n};e.$W=function(k){h.delete(k)};e.T2=e.BE;e.D5=function(){return new Promise(k=>e.T2(k))};const g=new Set;e.kla=function(k){const n=self.requestAnimationFrame(async p=>{await e.D5();g.has(n)&&(g.delete(n),k(p))});g.add(n);return n};e.rga=function(k){g.has(k)&&(self.cancelAnimationFrame(k),g.delete(k))}}
{"use strict";const e=self.D;e.YD=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.lE=function(b){return!e.YD(b)};e.j5=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.zx=function(b){return fetch(b,void 0).then(a=>{e.j5(a);return a})};e.Ps=function(b){return e.zx(b).then(a=>a.text())};e.UL=function(b){return e.zx(b).then(a=>a.json())};e.Pk=function(b){return e.zx(b).then(a=>a.blob())};e.Os=function(b){return e.zx(b).then(a=>
a.arrayBuffer())};e.eZ=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=h=>d(h);c.src=b})};e.PW=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.kL=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.jga=function(b){return e.kL(b).then(a=>
JSON.parse(a))};e.QW=async function(b){b=URL.createObjectURL(b);try{const a=await e.eZ(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};e.mh=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.cx=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ja(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.Mk(()=>e.qL(b,a,d))};e.qL=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ja(d,0,1);return e.FX(b.toDataURL(a,d))};e.FX=function(b){b=e.K2(b);return e.OW(b.data,b.Fea)};e.K2=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Fea:b,data:d}};e.OW=function(b,a){var d=b.length;let c=d>>2,h=new Uint8Array(d),m=new Uint32Array(h.buffer,0,c),g,k;for(k=g=0;g<c;++g)m[g]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;for(d&=3;d--;)h[k]=b.charCodeAt(k),++k;return a?new Blob([h],{type:a}):new Blob([h])};e.NL=function(b,a,d){const c=e.mh(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return e.cx(c,a,d)};e.nia=function(b,
a,d){const c=e.mh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.qL(c,a,d)};e.mia=function(b,a,d){if(e.ic.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>e.NL(c,a,d));if(e.ic.ImageBitmap)return createImageBitmap(b).then(c=>e.NL(c,a,d));{const c=e.mh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.cx(c,a,d)}};e.vX=function(b,a){b.clear();for(const d of a)b.add(d)};e.Cja=function(b){const a=Object.create(null);for(const [d,c]of b.entries())a[d]=
c;return a};e.Vja=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.iF=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [h,m]of Object.entries(a))c[h]=d(m);return c}}return a};e.lD=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(h=>c(h)));if("map"===
d._c3type_)return new Map(d.data.map(h=>[h[0],c(h[1])]));{const h=Object.create(null);for(const [m,g]of Object.entries(d))h[m]=c(g);return h}}return d};e.UW=function(d){let c="",h=!1;for(const m of d)"-"===m?h=!0:h?(c+=m.toUpperCase(),h=!1):c+=m;return c};e.zm=function(d){return"object"===typeof d&&"function"===typeof d.next};e.G1=function(d){const c=[];for(let h=0;h<d;++h)c.push(0);return c}}
{"use strict";const e=self.D;e.eb=class{constructor(b,a,d,c){this.Za=this.$a=this.ab=this.Va=0;b instanceof e.eb?this.set(b):this.Mn(b||0,a||0,d||0,c||0)}Fs(b,a,d){this.Va=+b;this.ab=+a;this.$a=+d;this.ja()}Mn(b,a,d,c){this.Va=+b;this.ab=+a;this.$a=+d;this.Za=+c;this.ja()}set(b){this.Va=b.Va;this.ab=b.ab;this.$a=b.$a;this.Za=b.Za;return this}ta(b){return this.set(b)}add(b){this.Va+=b.Va;this.ab+=b.ab;this.$a+=b.$a;this.Za+=b.Za;this.ja()}IU(b,a,d){this.Va+=+b;this.ab+=+a;this.$a+=+d;this.Za+=0;this.ja()}oj(b){this.Va=
b.Va;this.ab=b.ab;this.$a=b.$a}FV(b){this.Va=e.ja(+b,0,1)}cfa(b){this.ab=e.ja(+b,0,1)}$ea(b){this.$a=e.ja(+b,0,1)}Ds(b){this.Za=e.ja(+b,0,1)}clone(){return e.m(e.eb,this.Va,this.ab,this.$a,this.Za)}toArray(){return[this.Va,this.ab,this.$a,this.Za]}jh(b,a){b[a++]=this.Va;b[a++]=this.ab;b[a++]=this.$a;b[a]=this.Za}sd(b){return this.Va===b.Va&&this.ab===b.ab&&this.$a===b.$a&&this.Za===b.Za}gm(b){return this.Va===b.Va&&this.ab===b.ab&&this.$a===b.$a}nC(b,a,d,c){return this.Va===b&&this.ab===a&&this.$a===
d&&this.Za===c}multiply(b){this.Va*=b.Va;this.ab*=b.ab;this.$a*=b.$a;this.Za*=b.Za}PK(){this.Va*=this.Za;this.ab*=this.Za;this.$a*=this.Za}ja(){this.Va=e.ja(this.Va,0,1);this.ab=e.ja(this.ab,0,1);this.$a=e.ja(this.$a,0,1);this.Za=e.ja(this.Za,0,1);return this}Es(b){this.Va=e.HD(b);this.ab=e.BD(b);this.$a=e.oD(b);this.Za=e.nZ(b)}eea(){return`rgb(${100*(e.wm(void 0)?NaN:this.Va)}%, ${100*(e.wm(void 0)?NaN:this.ab)}%, ${100*(e.wm(void 0)?NaN:this.$a)}%)`}sV(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var d=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.FV(b);isFinite(d)&&this.cfa(d);isFinite(a)&&this.$ea(a);this.Ds(1)}}}toJSON(){return[this.Va,this.ab,this.$a,this.Za]}jm(b){!Array.isArray(b)||3>b.length||(this.Va=b[0],this.ab=b[1],this.$a=b[2],this.Za=4<=b.length?b[3]:1)}set r(b){this.FV(b)}get r(){return this.Va}set Dn(b){this.Ds(b)}get Dn(){return this.Za}static eD(b,a){return e.ja(Math.max(b,
a)-Math.min(b,a),0,1)}};e.eb.Doa=Object.freeze(e.m(e.eb,1,1,1,1));e.eb.iga=Object.freeze(e.m(e.eb,0,0,0,1));e.eb.coa=Object.freeze(e.m(e.eb,0,0,0,0))}
{"use strict";const e=self.D;e.Xt=class{constructor(b,a){this.O=this.S=0;b instanceof e.Xt?this.ta(b):this.set(b||0,a||0)}set(b,a){this.S=+b;this.O=+a}ta(b){this.S=b.S;this.O=b.O}sd(b){return this.S===b.S&&this.O===b.O}toArray(){return[this.S,this.O]}jh(b,a){b[a++]=this.S;b[a]=this.O}offset(b,a){this.S+=+b;this.O+=+a}scale(b,a){this.S*=b;this.O*=a}fm(b,a){this.S/=b;this.O/=a}round(){this.S=Math.round(this.S);this.O=Math.round(this.O)}floor(){this.S=Math.floor(this.S);this.O=Math.floor(this.O)}ceil(){this.S=
Math.ceil(this.S);this.O=Math.ceil(this.O)}angle(){return e.cK(0,0,this.S,this.O)}zea(){return this.S*this.S+this.O*this.O}length(){return Math.sqrt(this.zea())}Xea(b,a){const d=this.S*a-this.O*b;this.O=this.O*a+this.S*b;this.S=d}rotate(b){0!==b&&this.Xea(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.S+=Math.cos(b)*a,this.O+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.S/=b,this.O/=b)}ja(b,a){this.S=e.ja(this.S,b,a);this.O=e.ja(this.O,b,a)}}}
{"use strict";const e=self.D;e.Rect=class{constructor(b,a,d,c){this.fa=this.na=this.W=this.aa=0;b instanceof e.Rect?this.ta(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.aa=+b;this.W=+a;this.na=+d;this.fa=+c}ji(b,a,d,c){b=+b;a=+a;this.aa=b;this.W=a;this.na=b+ +d;this.fa=a+ +c}ta(b){this.aa=+b.aa;this.W=+b.W;this.na=+b.na;this.fa=+b.fa}clone(){return new e.Rect(this.aa,this.W,this.na,this.fa)}sd(b){return this.aa===b.aa&&this.W===b.W&&this.na===b.na&&this.fa===b.fa}toArray(){return[this.aa,this.W,
this.na,this.fa]}mfa(){new DOMRect(this.aa,this.W,this.width(),this.height())}jh(b,a){b[a++]=this.aa;b[a++]=this.W;b[a++]=this.na;b[a]=this.fa}xfa(b,a){b[a++]=this.aa;b[a++]=this.W;b[a++]=this.na;b[a++]=this.W;b[a++]=this.na;b[a++]=this.fa;b[a++]=this.aa;b[a]=this.fa}width(){return this.na-this.aa}height(){return this.fa-this.W}Bs(){return(this.aa+this.na)/2}Cs(){return(this.W+this.fa)/2}offset(b,a){b=+b;a=+a;this.aa+=b;this.W+=a;this.na+=b;this.fa+=a}offsetLeft(b){this.aa+=+b}offsetTop(b){this.W+=
+b}Mea(b){this.na+=+b}Lea(b){this.fa+=+b}wK(b,a){b=+b;a=+a;this.aa-=b;this.W-=a;this.na+=b;this.fa+=a}multiply(b,a){this.aa*=b;this.W*=a;this.na*=b;this.fa*=a}fm(b,a){this.aa/=b;this.W/=a;this.na/=b;this.fa/=a}Jn(){this.W=1-this.W;this.fa=1-this.fa}jfa(){const b=this.aa;this.aa=this.na;this.na=b}kfa(){const b=this.W;this.W=this.fa;this.fa=b}round(){this.aa=Math.round(this.aa);this.W=Math.round(this.W);this.na=Math.round(this.na);this.fa=Math.round(this.fa)}floor(){this.aa=Math.floor(this.aa);this.W=
Math.floor(this.W);this.na=Math.floor(this.na);this.fa=Math.floor(this.fa)}ceil(){this.aa=Math.ceil(this.aa);this.W=Math.ceil(this.W);this.na=Math.ceil(this.na);this.fa=Math.ceil(this.fa)}ja(b,a,d,c){this.aa<b&&(this.aa=+b);this.W<a&&(this.W=+a);this.na>d&&(this.na=+d);this.fa>c&&(this.fa=+c)}normalize(){this.aa>this.na&&this.jfa();this.W>this.fa&&this.kfa()}tC(b){return!(b.na<this.aa||b.fa<this.W||b.aa>this.na||b.W>this.fa)}pea(b,a,d){return!(b.na+a<this.aa||b.fa+d<this.W||b.aa+a>this.na||b.W+d>
this.fa)}Ff(b,a){return b>=this.aa&&b<=this.na&&a>=this.W&&a<=this.fa}}}
{"use strict";const e=self.D;e.Bd=class{constructor(b,a,d,c,h,m,g,k){this.lc=this.kc=this.nc=this.mc=this.tc=this.sc=this.Eb=this.Db=0;b instanceof e.Bd?this.ta(b):this.set(b||0,a||0,d||0,c||0,h||0,m||0,g||0,k||0)}set(b,a,d,c,h,m,g,k){this.Db=+b;this.Eb=+a;this.sc=+d;this.tc=+c;this.mc=+h;this.nc=+m;this.kc=+g;this.lc=+k}GV(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}ta(b){this.Db=b.Db;this.Eb=b.Eb;this.sc=b.sc;this.tc=b.tc;this.mc=b.mc;this.nc=b.nc;this.kc=b.kc;this.lc=b.lc}sd(b){return this.Db===b.Db&&this.Eb===
b.Eb&&this.sc===b.sc&&this.tc===b.tc&&this.mc===b.mc&&this.nc===b.nc&&this.kc===b.kc&&this.lc===b.lc}toArray(){return[this.Db,this.Eb,this.sc,this.tc,this.mc,this.nc,this.kc,this.lc]}jh(b,a){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=this.sc;b[a++]=this.tc;b[a++]=this.mc;b[a++]=this.nc;b[a++]=this.kc;b[a]=this.lc}yfa(b,a,d){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=d;b[a++]=this.sc;b[a++]=this.tc;b[a++]=d;b[a++]=this.mc;b[a++]=this.nc;b[a++]=d;b[a++]=this.kc;b[a++]=this.lc;b[a]=d}offset(b,a){b=+b;a=+a;this.Db+=
b;this.Eb+=a;this.sc+=b;this.tc+=a;this.mc+=b;this.nc+=a;this.kc+=b;this.lc+=a}round(){this.Db=Math.round(this.Db);this.Eb=Math.round(this.Eb);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc);this.mc=Math.round(this.mc);this.nc=Math.round(this.nc);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc)}floor(){this.Db=Math.floor(this.Db);this.Eb=Math.floor(this.Eb);this.sc=Math.floor(this.sc);this.tc=Math.floor(this.tc);this.mc=Math.floor(this.mc);this.nc=Math.floor(this.nc);this.kc=Math.floor(this.kc);
this.lc=Math.floor(this.lc)}ceil(){this.Db=Math.ceil(this.Db);this.Eb=Math.ceil(this.Eb);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc);this.mc=Math.ceil(this.mc);this.nc=Math.ceil(this.nc);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc)}tj(b){this.Db=b.aa;this.Eb=b.W;this.sc=b.na;this.tc=b.W;this.mc=b.na;this.nc=b.fa;this.kc=b.aa;this.lc=b.fa}bfa(b,a){0===a?this.tj(b):this.EV(b,Math.sin(a),Math.cos(a))}EV(b,a,d){const c=b.aa*a,h=b.W*a,m=b.na*a;a*=b.fa;const g=b.aa*d,k=b.W*d,n=b.na*d;
b=b.fa*d;this.Db=g-h;this.Eb=k+c;this.sc=n-h;this.tc=k+m;this.mc=n-a;this.nc=b+m;this.kc=g-a;this.lc=b+c}uK(b){b.set(Math.min(this.Db,this.sc,this.mc,this.kc),Math.min(this.Eb,this.tc,this.nc,this.lc),Math.max(this.Db,this.sc,this.mc,this.kc),Math.max(this.Eb,this.tc,this.nc,this.lc))}Ff(b,a){var d=this.sc-this.Db,c=this.tc-this.Eb;const h=this.mc-this.Db,m=this.nc-this.Eb;b-=this.Db;a-=this.Eb;var g=d*d+c*c;let k=d*h+c*m;c=d*b+c*a;const n=h*h+m*m,p=h*b+m*a;let q=1/(g*n-k*k);d=(n*c-k*p)*q;g=(g*p-
k*c)*q;if(0<=d&&0<g&&1>d+g)return!0;d=this.kc-this.Db;c=this.lc-this.Eb;g=d*d+c*c;k=d*h+c*m;c=d*b+c*a;q=1/(g*n-k*k);d=(n*c-k*p)*q;g=(g*p-k*c)*q;return 0<=d&&0<g&&1>d+g}Bs(){return(this.Db+this.sc+this.mc+this.kc)/4}Cs(){return(this.Eb+this.tc+this.nc+this.lc)/4}yK(b){var a=b.Bs(),d=b.Cs();if(this.Ff(a,d))return!0;a=this.Bs();d=this.Cs();if(b.Ff(a,d))return!0;a=this.Db;d=this.Eb;const c=this.sc,h=this.tc,m=this.mc,g=this.nc,k=this.kc,n=this.lc;return e.zC(a,d,c,h,b)||e.zC(c,h,m,g,b)||e.zC(m,g,k,n,
b)||e.zC(k,n,a,d,b)}Wea(){const b=this.Db,a=this.Eb;this.Db=this.sc;this.Eb=this.tc;this.sc=this.mc;this.tc=this.nc;this.mc=this.kc;this.nc=this.lc;this.kc=b;this.lc=a}}}
{"use strict";const e=self.D,b=[0,0,1,0,1,1,0,1],a=e.m(e.Bd);e.Tn=class extends e.ka{constructor(d,c=!0){super();d||(d=b);this.Od=Float64Array.from(d);this.Jz=new e.Rect;this.op=!0;this.Sg=c}B(){}tV(){return this.Od.length/2}AC(d){this.Od.length===d.length?this.Od.set(d):this.Od=Float64Array.from(d);this.op=!0}afa(){this.AC(b)}ta(d){this.AC(d.Od)}VK(){this.op=!0}uda(){if(this.op){var d=this.Od,c=d[0],h=d[1],m=c,g=h;for(let k=0,n=d.length;k<n;k+=2){const p=d[k],q=d[k+1];p<c&&(c=p);p>m&&(m=p);q<h&&
(h=q);q>g&&(g=q)}this.Jz.set(c,h,m,g);this.op=!1}}tj(d){let c=this.Od;8!==c.length&&(this.Od=c=new Float64Array(8));c[0]=d.aa-NaN;c[1]=d.W-NaN;c[2]=d.na-NaN;c[3]=d.W-NaN;c[4]=d.na-NaN;c[5]=d.fa-NaN;c[6]=d.aa-NaN;c[7]=d.fa-NaN;this.Jz.ta(d);this.Jz.offset(NaN,NaN);this.op=!1}WK(d,c,h){a.ta(d);a.offset(c,h);this.AC(a.toArray());this.op=!0}transform(d,c,h){let m=0,g=1;0!==h&&(m=Math.sin(h),g=Math.cos(h));this.cL(d,c,m,g)}cL(d,c,h,m){const g=this.Od;for(let k=0,n=g.length;k<n;k+=2){const p=k+1,q=g[k]*
d,u=g[p]*c;g[k]=q*m-u*h;g[p]=u*m+q*h}this.op=!0}offset(d,c){const h=this.Od;for(let m=0,g=h.length;m<g;m+=2)h[m]+=d,h[m+1]+=c}Ff(d,c){const h=this.Od;if(d===h[0]&&c===h[1])return!0;this.uda();var m=this.Jz;const g=m.aa-110,k=m.W-101,n=m.na+131;m=m.fa+120;let p,q,u,w,r,v,y,A;g<d?(p=g,u=d):(p=d,u=g);k<c?(q=k,w=c):(q=c,w=k);n<d?(r=n,y=d):(r=d,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=h.length;H<J;H+=2){var F=(H+2)%J;const M=h[H],P=h[H+1],R=h[F];F=h[F+1];e.im(g,k,d,c,p,u,q,w,M,P,R,F)&&++G;
e.im(n,m,d,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Gw(d,c,h){const m=d.Od,g=this.Od;if(this.Ff(m[0]+c,m[1]+h)||d.Ff(g[0]-c,g[1]-h))return!0;for(let n=0,p=g.length;n<p;n+=2){var k=(n+2)%p;d=g[n];const q=g[n+1],u=g[k];k=g[k+1];let w,r,v,y;d<u?(w=d,v=u):(w=u,v=d);q<k?(r=q,y=k):(r=k,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.im(d,q,u,k,w,v,r,y,m[A]+c,m[A+1]+h,m[z]+c,m[z+1]+h))return!0}}return!1}vm(){return this.Sg}}}
{"use strict";const e=self.D;e.At=class extends e.ka{constructor(b){super();this.mk=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}B(){this.xd();this.mk=null}xd(){const b=this.mk;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.mk;let h=c.get(b);h||(h=new Map,c.set(b,h));h.set(a,d)}ba(b,a){return(b=this.mk.get(b))?b.get(a):b}by(b){return(b=this.mk.get(b))?b.has(void 0):!1}Un(b,a){const d=this.mk,c=d.get(b);c&&c.delete(a)&&0===c.size&&d.delete(b)}KL(b){const a=this.mk,d=a.get(b);
d&&(d.clear(),a.delete(b));for(const [c,h]of a.entries())h.delete(b)&&0===h.size&&a.delete(c)}um(){let b=0;for(const a of this.mk.values())b+=a.size;return b}*values(){for(const b of this.mk.values())yield*b.values()}*entries(){for(const [b,a]of this.mk.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.D;e.PC=class extends e.ka{constructor(){super();this.kn=new Set;this.Fz=[];this.Nv=!1}B(){this.xd()}xd(){this.kn.clear();e.F(this.Fz);this.Nv=!1}Pc(b){this.kn.has(b)||(this.kn.add(b),this.Nv||this.Fz.push(b))}by(b){return this.kn.has(b)}Un(b){this.kn.delete(b)&&(this.Nv=!0)}um(){return this.kn.size}oo(){return 0===this.kn.size}nD(){this.Nv&&(this.u$(),this.Nv=!1);return this.Fz}u$(){const b=this.Fz;e.F(b);for(const a of this.kn)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,h=new Map;h.set("linear","noease");h.set("default","noease");self.Ms=class m{constructor(){}static b1(g){this.tF();return[...b.keys()].includes(g)}static c8(g){const k=h.get(g);if(k)return e.get(k);if(m.b1(g))return e.get(g);if(c.has(g))return c.get(g)}static co(g){this.tF();const k=m.c8(g);return k?k:d.get(g)}static tF(){0===e.size&&(this.Gb("default",()=>{}),this.Gb("noease",this.Q1),this.Gb("easeinsine",this.KY),this.Gb("easeoutsine",
this.TY),this.Gb("easeinoutsine",this.GY),this.Gb("easeinelastic",this.vY),this.Gb("easeoutelastic",this.OY),this.Gb("easeinoutelastic",this.BY),this.Gb("easeinback",this.sY),this.Gb("easeoutback",this.LY),this.Gb("easeinoutback",this.xY),this.Gb("easeinbounce",this.OL),this.Gb("easeoutbounce",this.hD),this.Gb("easeinoutbounce",this.yY),this.Gb("easeincubic",this.uY),this.Gb("easeoutcubic",this.NY),this.Gb("easeinoutcubic",this.AY),this.Gb("easeinquad",this.HY),this.Gb("easeoutquad",this.QY),this.Gb("easeinoutquad",
this.DY),this.Gb("easeinquart",this.IY),this.Gb("easeoutquart",this.RY),this.Gb("easeinoutquart",this.EY),this.Gb("easeinquint",this.JY),this.Gb("easeoutquint",this.SY),this.Gb("easeinoutquint",this.FY),this.Gb("easeincirc",this.tY),this.Gb("easeoutcirc",this.MY),this.Gb("easeinoutcirc",this.zY),this.Gb("easeinexpo",this.wY),this.Gb("easeoutexpo",this.PY),this.Gb("easeinoutexpo",this.CY),this.kP("cubicbezier",this.rY),this.kP("spline",this.UY))}static Gb(g,k){m.oF(g,k,"predefined")}static kP(g,k){m.oF(g,
k,"private")}static eW(g,k){this.tF();m.oF(g,k,"custom",void 0)}static oF(g,k,n,p){switch(n){case "predefined":e.set(g,k);b.set(g,k);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(g,k)):d.set(g,k);break;case "private":e.set(g,k);c.set(g,k);break;default:throw Error("unexpected ease mode");}}static Q1(g,k,n,p){return n*g/p+k}static HY(g,k,n,p){return n*(g/=p)*g+k}static QY(g,k,n,p){return-n*(g/=p)*(g-2)+k}static DY(g,k,n,p){return 1>(g/=p/2)?n/2*g*g+k:-n/2*(--g*(g-2)-1)+k}static uY(g,
k,n,p){return n*(g/=p)*g*g+k}static NY(g,k,n,p){return n*((g=g/p-1)*g*g+1)+k}static AY(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g+k:n/2*((g-=2)*g*g+2)+k}static IY(g,k,n,p){return n*(g/=p)*g*g*g+k}static RY(g,k,n,p){return-n*((g=g/p-1)*g*g*g-1)+k}static EY(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+k:-n/2*((g-=2)*g*g*g-2)+k}static JY(g,k,n,p){return n*(g/=p)*g*g*g*g+k}static SY(g,k,n,p){return n*((g=g/p-1)*g*g*g*g+1)+k}static FY(g,k,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+k:n/2*((g-=2)*g*g*g*g+2)+k}static KY(g,
k,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+k}static TY(g,k,n,p){return n*Math.sin(g/p*(Math.PI/2))+k}static GY(g,k,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+k}static wY(g,k,n,p){return 0===g?k:n*Math.pow(2,10*(g/p-1))+k}static PY(g,k,n,p){return g===p?k+n:n*(-Math.pow(2,-10*g/p)+1)+k}static CY(g,k,n,p){return 0===g?k:g===p?k+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+k:n/2*(-Math.pow(2,-10*--g)+2)+k}static tY(g,k,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+k}static MY(g,k,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+k}static zY(g,k,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+k:n/2*(Math.sqrt(1-(g-=2)*g)+1)+k}static vY(g,k,n,p){let q=0,u=n;if(0===g)return k;if(1===(g/=p))return k+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+k}static OY(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(1===(g/=p))return k+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/u)+n+k}static BY(g,k,n,p){let q,u=0,w=n;if(0===g)return k;if(2===(g/=p/2))return k+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)+k:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/u)*.5+n+k}static sY(g,k,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+k}static LY(g,k,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+k}static xY(g,k,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+k:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+k}static OL(g,k,n,p){return n-m.hD(p-g,0,n,p)+k}static hD(g,k,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+k:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+k:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+k:n*(7.5625*(g-=2.625/2.75)*g+.984375)+k}static yY(g,k,n,p){return g<p/2?.5*m.OL(2*g,0,n,p)+k:.5*m.hD(2*g-p,0,n,p)+.5*n+k}static rY(g,k,n,p,q){return k+3*g*(n-k)+3*g**2*(k+p-2*n)+g**3*(q-k+3*n-3*p)}static UY(g,k,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return g;if(1==g)g=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=g;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(g-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-k;u=3*u-6*p+3*k;k=3*(p-k);p=3*r*y*y+2*u*y+k;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+k)*y-g)/(3*r*y*y+2*u*y+k);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+k)*y-g,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}g=y}return(((v-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static tZ(g,k,n,p){const q=[];p=p-3*n+3*k-g;n=3*n-6*k+3*g;g=3*(k-g);for(let u=
0;11>u;++u)k=.1*u,q.push(((p*k+n)*k+g)*k);return q}}}{"use strict";const e=self.D;e.Ska=class{constructor(){this.hT=[]}B(){this.xd();this.hT=null}xd(){e.Nda(this.hT)}}}"use strict";
self.D.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.rea=this.QK=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.rea)throw Error(`cannot stop async event '${this.type}' propagation`);this.QK=!0}};
{"use strict";const e=self.D;e.Event.G_=class extends e.ka{constructor(b){super();this.za=b;this.nf=[];this.er=new Set;this.xf=[];this.Ir=new Set;this.Yu=0;this.Sr=[]}B(){0<this.Yu||(e.F(this.nf),this.er.clear(),e.F(this.xf),this.Ir.clear(),e.F(this.Sr),e.B(this))}iP(b,a){this.AQ()?this.Sr.push({LK:"add",hi:b,capture:a}):a?this.er.has(b)||(this.nf.push(b),this.er.add(b)):this.Ir.has(b)||(this.xf.push(b),this.Ir.add(b))}J$(b,a){this.AQ()?this.Sr.push({LK:"remove",hi:b,capture:a}):a?this.er.has(b)&&
(this.er.delete(b),e.Jk(this.nf,b)):this.Ir.has(b)&&(this.Ir.delete(b),e.Jk(this.xf,b))}P8(){return!this.nf.length&&!this.xf.length}AQ(){return 0<this.Yu}r$(){const b=new Set,a=new Set;for(const d of this.Sr)if("add"===d.LK)this.iP(d.hi,d.capture),d.capture?a.delete(d.hi):b.delete(d.hi);else if("remove"===d.LK)d.capture?(this.er.delete(d.hi),a.add(d.hi)):(this.Ir.delete(d.hi),b.add(d.hi));else throw Error("invalid op");e.sg(this.xf,b);e.sg(this.nf,a);e.F(this.Sr)}O7(b){this.Vq();let a=!1;for(let d=
0,c=this.nf.length;d<c;++d)if(this.nf[d](b),b.QK){a=!0;break}if(!a)for(let d=0,c=this.xf.length;d<c&&(this.xf[d](b),!b.QK);++d);this.Rq();return!b.defaultPrevented}Q7(b){this.Vq();for(let a=0,d=this.nf.length;a<d;++a)this.nf[a](b);for(let a=0,d=this.xf.length;a<d;++a)this.xf[a](b);this.Rq();return!0}Vq(){this.Yu++}Rq(){this.Yu--;0===this.Yu&&0<this.Sr.length&&this.r$()}Eq(b){b?this.Vq():this.Rq()}RP(b){const a=[];this.Vq();for(let c=0,h=this.nf.length;c<h;++c){var d=this.nf[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,h=this.xf.length;c<h;++c)d=this.xf[c](b),d instanceof Promise&&a.push(d);this.Rq();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async L7(b){return await this.RP(b)}async M7(b){this.Vq();for(let d=0,c=this.nf.length;d<c;++d){var a=this.nf[d](b);a instanceof Promise&&await a}for(let d=0,c=this.xf.length;d<c;++d)a=this.xf[d](b),a instanceof Promise&&await a;this.Rq();return!b.defaultPrevented}*N7(b){this.Vq();for(let d=0,c=this.nf.length;d<c;++d){var a=
this.nf[d](b);e.zm(a)&&(yield*a)}for(let d=0,c=this.xf.length;d<c;++d)a=this.xf[d](b),e.zm(a)&&(yield*a);this.Rq()}}}
{"use strict";const e=self.D;e.Event.Yb=class extends e.ka{constructor(){super();this.cp=new Map;this.oH=!1}B(){if(this.oH)throw Error("already released");this.fX();this.oH=!0;e.B(this)}Ty(){return this.oH}fX(){for(let b of this.cp.values())b.B();this.cp.clear()}Mo(b,a){let d=this.cp.get(b);return d?d:a?(d=e.m(e.Event.G_,b),this.cp.set(b,d),d):null}ND(b){return this.cp.has(b)}addEventListener(b,a,d){this.Mo(b,!0).iP(a,!!d)}removeEventListener(b,a,d){let c=this.Mo(b,!1);c&&(c.J$(a,!!d),c.P8()&&this.cp.delete(b))}dispatchEvent(b){const a=
this.Mo(b.type,!1);return a?b.cancelable?a.O7(b):a.Q7(b):!0}async nK(b){const a=this.Mo(b.type,!1);return a?await a.L7(b):!0}Xda(b){const a=this.Mo(b.type,!1);return a?a.RP(b):!0}async Wda(b){const a=this.Mo(b.type,!1);a&&await a.M7(b)}Yda(b){const a=this.Mo(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.N7(b)}Eq(b){for(const a of this.cp.values())a.Eq(b)}}}
{"use strict";const e=self.D,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function h(n){d=b&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(a.length){var p=performance.now(),q=0;do{g(a.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===d&&a.length&&h(Math.max(16-(u-p),4))}}function g(n){let p;try{p=n.hi()}catch(q){n.reject(q);return}n.resolve(p)}let k=e.wE.by("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.Mk=function(n){let p=null;e.Hw&&(p=e.Bx());return new Promise((q,u)=>{a.push({hi:n,resolve:q,reject:u,stack:p});k?g(a.pop()):-1===d&&h(16)})};e.Mk.qO=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.D;let b=-1;function a(){b=-1}e.yx=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,h=new Set;function m(){c=d=-1;let g=Date.now();for(let k of h)if(k.r6(g)){let n=k.Zo;if(-1===c||n<c)c=n}else h.delete(k);-1!==c&&(d=self.setTimeout(m,Math.max(c-g+100,1E3)))}e.g0=class{constructor(g,k){this.dr=g;this.VB=1E3*k;this.Zo=0;this.Lb=!1}kd(){let g=e.yx();this.Zo=g+this.VB;this.Lb||(h.add(this),this.Lb=!0);-1===d?(c=this.Zo,d=self.setTimeout(m,this.VB+
100)):this.Zo<c&&c>g+1E3&&(self.clearTimeout(d),c=this.Zo,d=self.setTimeout(m,this.VB+100))}r6(g){return g>=this.Zo?this.dr()?(this.Zo=g+this.VB,!0):this.Lb=!1:!0}ZW(){this.Lb&&(h.delete(this),this.Lb=!1,0===h.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}B(){this.ZW();this.dr=null}}}
{"use strict";const e=self.D;e.Ae=class b{constructor(a){this.rr=!1;this.pH=a}ux(){this.rr||(this.rr=!0,this.pH&&(this.pH(),this.pH=null))}B(){this.ux()}static B(a){return new b(()=>a.B())}static ph(a,d,c){if("undefined"===typeof h||null===h)var h=!1;else if("boolean"!==typeof h&&"object"!==typeof h)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.ZC;for(let g of d)a.addEventListener(g,c,h),m.Pc(e.m(e.Ae,()=>a.removeEventListener(g,c,h)));return m}a.addEventListener(d,
c,h);return e.m(e.Ae,()=>a.removeEventListener(d,c,h))}};e.Mna=class extends e.Ae{};e.ZC=class extends e.Ae{constructor(...b){super();this.pf=new Set;for(let a of b)this.Pc(a)}Pc(...b){if(this.rr)throw Error("already disposed");for(let a of b)this.pf.add(a)}xh(b){if(this.rr)throw Error("already disposed");this.pf.delete(b)}ux(){if(this.rr)throw Error("already disposed");this.rr=!0;for(let b of this.pf)b.ux();this.pf.clear();this.pf=null}B(){this.ux()}}}
{"use strict";const e=self.D;e.ny=class extends e.ka{constructor(){super();this.$r=this.gw=this.O=this.Mz=0}Pc(b){this.O=+b-this.Mz;this.gw=this.$r+this.O;this.Mz=this.gw-this.$r-this.O;this.$r=this.gw}ba(){return this.$r}kd(){this.$r=this.gw=this.O=this.Mz=0}Set(b){this.gw=this.O=this.Mz=0;this.$r=+b}B(){}}}
{"use strict";const e=self.D,b={yE:function(a){this.QV=a;this.left=this.right=this.QV.tb;this.parent=null;this.color=!1;this.key=null},uo:function(a){this.size=0;this.tb=new b.yE(this);this.tb.color=!1;this.root=this.tb;this.root.parent=this.tb;this.compare=a||this.Tda}};xa=b.uo.prototype;xa.Tda=function(a,d){return a<d?-1:d<a?1:0};xa.clone=function(){var a=new b.uo(this.compare);a.lea(this);return a};xa.clear=function(){this.size=0;this.tb=new b.yE(this);this.tb.color=!1;this.root=this.tb;this.root.parent=
this.tb};xa.Jw=function(a){var d=a.right;a.right=d.left;d.left!=this.tb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.tb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};xa.Qw=function(a){var d=a.left;a.left=d.right;d.right!=this.tb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.tb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};xa.vs=function(a){if(this.contains(a))this.Ew(a).key=a;else{var d=new b.yE(this);d.key=
a;a=this.tb;for(var c=this.root;c!=this.tb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.tb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.tb;d.right=this.tb;d.color=!0;this.mea(d);this.size++}};xa.mea=function(a){for(;a!=this.tb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Jw(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.Qw(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Qw(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.Jw(a.parent.parent));this.root.color=!1};xa.Vda=function(a){var d=a.left==this.tb||a.right==this.tb?a:this.Nn(a);var c=d.left!=this.tb?d.left:d.right;c.parent=d.parent;d.parent==
this.tb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.Uda(c);this.size--};xa.Uda=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.Jw(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.Qw(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.Jw(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.Qw(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Jw(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.Qw(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Ew(a);if(a!=this.tb){var d=a.key;this.Vda(a);return d}return null};xa.min=function(a){for(;a.left!=this.tb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.tb;)a=a.right;return a};xa.Nn=function(a){if(a.right!=this.tb)return this.min(a.right);for(var d=a.parent;d!=this.tb&&a==d.right;)a=d,d=d.parent;return d};xa.Ew=function(a){for(var d=this.root;d!=this.tb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};xa.contains=function(a){return null!=this.Ew(a).key};xa.vK=function(){var a=[];this.forEach(function(d){a.push(d)});return a};xa.lea=function(a){if("array"==b.dL(a))for(var d=0;d<a.length;d++)this.vs(a[d]);
else if("function"==b.dL(a.forEach))a.forEach(this.vs,this);else if("function"==b.dL(a.vK))for(a=a.vK(),d=0;d<a.length;d++)this.vs(a[d]);else if("object"==b.dL(a))for(d in a)this.vs(a[d])};xa.range=function(a,d){var c=[];this.sfa(function(h){c.push(h)},a,d);return c};xa.sfa=function(a,d,c){if(!this.ys())for(d=this.Ew(d),c=this.Ew(c);d!=c&&!a.call(void 0,d.key,this);)d=this.Nn(d)};xa.forEach=function(a,d){if(!this.ys())for(var c=this.min(this.root);c!=this.tb;c=this.Nn(c))a.call(d,c.key,c.key,this)};
xa.some=function(a,d){if(this.ys())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.Nn(c))if(a.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(a,d){if(this.ys())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.Nn(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(a,d){var c=[];if(this.ys())return c;for(var h=this.min(this.root);h!=this.tb;h=this.Nn(h))c.push(a.call(d,h.key,h.key,this));return c};xa.filter=function(a,d){var c=[];if(this.ys())return c;
for(var h=this.min(this.root);h!=this.tb;h=this.Nn(h))a.call(d,h.key,h.key,this)&&c.push(h.key);return c};xa.ys=function(){return 0==this.size};e.uo=class extends e.ka{constructor(a){super();this.$g=new b.uo(a);this.xr=!1;this.Gp=new Set;this.Hp=new Set}Pc(a){this.xr?this.$g.contains(a)?this.Hp.delete(a):this.Gp.add(a):this.$g.vs(a)}xh(a){this.xr?this.$g.contains(a)?this.Hp.add(a):this.Gp.delete(a):this.$g.remove(a)}by(a){return this.xr?this.Gp.has(a)?!0:!this.Hp.has(a)&&this.$g.contains(a):this.$g.contains(a)}xd(){this.$g.clear();
this.Gp.clear();this.Hp.clear()}toArray(){if(this.xr)throw Error("cannot be used in queueing mode");return this.$g.vK()}um(){return this.$g.size+this.Gp.size-this.Hp.size}oo(){return 0===this.um()}zh(a){a=!!a;if(this.xr!==a&&(this.xr=a,!a)){for(const d of this.Hp)this.$g.remove(d);this.Hp.clear();for(const d of this.Gp)this.$g.vs(d);this.Gp.clear()}}XL(a){this.$g.forEach(a)}*values(){if(!this.oo()){var a=this.$g;for(let d=a.min(a.root);d!=a.tb;d=a.Nn(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.D;e.HN=class{constructor(b=e.hardwareConcurrency){this.Uca=b;this.hJ=[];this.EG=0}Pc(b){return new Promise((a,d)=>{this.hJ.push({hi:b,resolve:a,reject:d});this.KQ()})}async KQ(){if(this.hJ.length&&!(this.EG>=this.Uca)){this.EG++;var b=this.hJ.shift();try{const a=await b.hi();b.resolve(a)}catch(a){b.reject(a)}this.EG--;this.KQ()}}}}
{"use strict";const e=self.D;e.i3=class{constructor(b,a,d){this.dr=b;this.Fca=a;this.Gca=d||2*a;this.gs=-1;this.WA=-Infinity;this.qU=()=>this.h$();this.lca=this.QH=!1;this.Ku=null}g8(){return"undefined"!==typeof e.MW&&e.MW.Uia()?this.Gca:this.Fca}YW(){var b=[];if(-1===this.gs){this.Ku=b;b=e.yx();var a=b-this.WA,d=this.g8();a>=d&&this.lca?(this.WA=b,this.hR()):this.gs=self.setTimeout(this.qU,Math.max(d-a,4))}}hR(){this.QH=!0;const b=this.Ku;this.Ku=null;b?this.dr(...b):this.dr();this.QH=!1}kd(){this.QH||
(this.sP(),this.Ku=null,this.WA=e.yx())}h$(){this.gs=-1;this.WA=e.yx();this.hR()}sP(){-1!==this.gs&&(self.clearTimeout(this.gs),this.gs=-1)}B(){this.sP();this.qU=this.Ku=this.dr=null}}}"use strict";function hc(e,b){if(!e.BS)throw Error("no get base size callback set");return e.BS(b)}self.D.gma=class{constructor(){this.Cca=new Map;this.RT=this.TT=this.BS=null}zy(){if(!this.RT)throw Error("no redraw callback set");this.RT()}};"use strict";
self.D.fma=class{constructor(e,b){this.Xg=e;this.sca=b;this.Lc=0;hc(this.Xg,b).then(()=>{this.Xg.zy()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.Xg.zy()});this.iJ=null}B(){if(0>=this.Lc)throw Error("already released");this.Lc--;0===this.Lc&&this.qu()}qu(){if(this.iJ){var e=this.Xg;if(!e.TT)throw Error("no release result callback set");e.TT(this.iJ);this.iJ=null}this.Xg.Cca.delete(this.sca);this.Xg=null}};
{"use strict";const e=self.D;e.goa="\ufeff";const b=new Set([..."0123456789"]);e.c1=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.my=function(n){return a.has(n)};e.Bha=function(n){return[...n].filter(p=>!e.my(p)).join("")};e.mE=function(n){for(const p of n)if(!e.my(p))return!1;return!0};e.n1=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.gZ=function(n){return[...n].filter(p=>
!e.n1(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.dja=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.s3=function(n){let p=n.length;for(;0<p&&e.c1(n.charAt(p-1));)--p;return n.substr(0,p)};e.uia=function(n){let p=e.s3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function h(n){return c.get(n)}
const m=/[&<>"']/g;e.ZY=function(n){return n.replace(m,h)};e.qha=function(n){n=e.Di(n,"\\","\\\\");n=e.Di(n,'"','\\"');n=e.Di(n,"\t","\\t");n=e.Di(n,"\r","");return e.Di(n,"\n","\\n")};e.rha=function(n){n=e.Di(n,"&","&amp;");n=e.Di(n,"<","&lt;");n=e.Di(n,">","&gt;");return e.Di(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Ns=function(n){return n.replace(g,"\\$&")};e.Cha=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};e.Di=function(n,p,q){return n.replaceAll(p,()=>q)};e.gla=function(n,p,q){return n.replace(new RegExp(e.Ns(p),"gi"),()=>q)};e.zma=function(n,p){"string"===typeof p?n.textContent=p:p.cT?n.textContent=p.toString():(n.innerHTML=p.$K(),p instanceof e.nm&&p.Hda(n))};e.Hna=function(n,p){return n instanceof e.SD||n instanceof e.nm?n.sd(p):p instanceof e.SD||p instanceof e.nm?p.sd(n):n===p};e.Ina=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};e.Jna=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.Kna=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.tna=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.Fha=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Dqa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const k={Eda:!1,Qda:!0,kea:!0,Gea:!0,CV:!0};e.Gha=function(n,p){p=Object.assign({},
k,p);e.q1.Wka("common.time");const q=[],u=self.lang,w=self.Cqa;if(p.Qda){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.kea&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Gea&&(r=Math.floor(n/60),0<r||q.length||!p.CV)&&(n-=60*r,q.push(w(".minutes",null,r)));p.CV&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Eda?u(".approx-prefix"):"")+q.join(u(".separator"));e.q1.Pka();return n};e.bpa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.Lna=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.Uga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.AV(n);e.AV(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.eha=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.Fna=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.Gna=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const e=self.D,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,h=0;function m(k,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return k=q[0],q=q[1],n?"</"+k+">":`<${k} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${h++}">`:k}const g=/\n/g;e.nm=class{constructor(k,n){this.Fh=n&&n.Jea?k:e.ZY(k);this.PH="";this.cS=!1;this.Fv=[];if(n&&(this.cS=!!n.ypa,n.links)){if(9<n.links.length)throw Error("too many links");this.Fv=n.links}this.GS=this.Fh.includes("[");this.ET=this.cS&&this.Fh.includes("\n");this.cT=!this.GS&&!this.ET&&!this.Fh.includes("&");this.KS=!1;this.$u=[]}toString(){return this.Fh}valueOf(){return this.Fh}$K(){if(this.cT)return this.Fh;if(!this.PH&&this.Fh){let k=this.Fh;
this.GS&&(h=0,c=this.Fv,k=k.replace(a,m),c=null);this.ET&&(k=k.replace(g,"<br>"));this.PH=k}return this.PH}Hda(k){if(this.Fv.length)for(let n=0,p=this.Fv.length;n<p;++n){const q=this.Fv[n];if("function"!==typeof q)continue;const u=k.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}sd(k){return k instanceof e.SD?this.$K()===k.$K():k instanceof e.nm?this.Fh===k.Fh:this.Fh===k}nfa(){if(this.KS)return this.$u;const k=this.Fh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(k));){var u=q.index;if(0<u&&"\\"===k.charAt(u-1))continue;var w=q[1],r=q[2];const v=k.substring(p,u);p=u+q[0].length;v&&this.$u.push({text:v,td:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,ii:u})}p<k.length&&this.$u.push({text:k.substring(p),td:n.slice(0)});for(const v of this.$u)v.text=
this.q$(v.text);this.KS=!0;return this.$u}q$(k){k=e.Di(k,"\\[","[");return e.Di(k,"\\\\","\\")}static PO(k){return k.replace(d,"")}}}
{"use strict";const e=self.D;e.mF=class{constructor(){this.Zm=[]}MQ(b,a){let d=0,c=0,h=0,m=0,g=0;for(const k of b)-1===k.width&&(b=a(k.text,k.td),k.width=b.width,k.height=b.height,k.tg=b.tg||0,k.Gf=b.Gf||0,k.Jf=b.Jf||0),d+=k.width,c=Math.max(c,k.height),h=Math.max(h,k.tg),m=Math.max(m,k.Gf),g=Math.max(g,k.Jf);return{width:d,height:c,tg:h,Gf:m,Jf:g}}Vy(b,a,d,c,h,m){this.Zm.push({$U:b,width:a,height:d,tg:c,Gf:h,Jf:m})}mF(b,a,d,c,h){"string"===typeof b&&(b=[{text:b,td:[]}]);e.F(this.Zm);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var m=b[0];const g=m.text;m=m.td;if(100>=g.length&&!g.includes("\n")){let {width:k,height:n,tg:p,Gf:q,Jf:u}=a(g,m);k+=h;p=p||0;q=q||0;u=u||0;if(k<=d){this.Vy([{text:g,td:m,width:k,height:n,tg:p,Gf:q,Jf:u}],k,n,p,q,u);return}}}if("word"===c)c=this.xba(b);else{c=[];for(const g of b)e.En(c,[...g.text].map(k=>[{text:k,td:g.td}]))}this.Rba(c,a,d,h)}}xba(b){const a=[];let d=[],c=!1;for(const m of b){var h=m.text;b=m.td;for(const g of h)"\n"===g?(0<
d.length&&a.push(d),a.push([{text:"\n",td:b}]),d=[]):0===d.length?(d.push({text:g,td:b}),c=e.my(g)):(h=e.my(g),h===c?(h=d.de(-1),h.td===b?h.text+=g:d.push({text:g,td:b})):(a.push(d),d=[],d.push({text:g,td:b}),c=h))}0<d.length&&a.push(d);return a}u6(b){return b.map(a=>({text:a.text,td:a.td,width:a.width,height:a.height,tg:a.tg,Gf:a.Gf,Jf:a.Jf}))}nP(b,a){var d=b.length?b.de(-1):null;let c=0;d&&a[0].td===d.td&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.tg=-1,d.Gf=-1,d.Jf=-1,c=1);for(d=a.length;c<d;++c){const h=
a[c];b.push({text:h.text,td:h.td,width:-1,height:-1,tg:-1,Gf:-1,Jf:-1})}}Rba(b,a,d,c){let h=[],m=0,g=0,k=0,n=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===g&&(p=a(" ",q[0].td),g=p.height,k=p.tg||0,n=p.Gf||0,p=p.Jf||0);this.Vy(h,m,g,k,n,p);h=[];p=n=k=g=m=0;continue}b=this.u6(h);this.nP(b,q);const u=this.MQ(b,a),w=u.width;w>=d?(0<h.length&&this.Vy(h,m,g,k,n,p),h=[],e.mE(q[0].text)?p=n=k=g=m=0:(this.nP(h,q),p=this.MQ(h,a),m=p.width,g=p.height,k=p.tg,n=p.Gf,p=p.Jf)):(h=b,m=w,g=u.height,
k=u.tg,n=u.Gf,p=u.Jf)}0<h.length&&this.Vy(h,m,g,k,n,p);this.Aba(a,c)}Aba(b,a){for(const c of this.Zm){const h=c.$U;if(!h.length)continue;let m=h.de(-1);var d=m.text;const g=d.trimEnd();if(!g)c.width-=m.width,h.pop();else if(g.length<d.length){d=b(g,m.td).width;const k=m.width-d;m.width=d;m.text=g;c.width-=k}0!==a&&0<h.length&&(m=h.de(-1),m.width+=a,c.width+=a)}}xd(){e.F(this.Zm)}h_(){return this.Zm.reduce((b,a)=>Math.max(b,a.width),0)}A_(){return this.Zm.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.D,b=self.rj,a=b.FC,d=b.Tw,c=b.hm,h=a.create(),m=a.create(),g=a.create(),k=d.create(),n=c.create(),p=a.create(),q=a.create(),u=a.create(),w=a.create(),r=a.create(),v=a.create(),y=a.create(),A=a.create(),G=d.Hf(0,0,1,1);e.J={Y2(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},ak(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.xs(n,n))return!1;k[0]=(J-Z[0])/Z[2]*2-1;k[1]=(M-Z[1])/Z[3]*2-1;k[2]=2*P-1;k[3]=1;d.bL(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];X[0]=k[0]*k[3];X[1]=k[1]*k[3];X[2]=k[2]*k[3];return!0},u5(J,M,P,R,T,Z,X){if(!e.J.ak(J,M,0,R,T,Z,h)||!e.J.ak(J,M,1,R,T,Z,m))return!1;a.lm(m,m,h);a.set(g,0,0,1);J=-P;M=a.Hn(g,m);P=0;if(0===M){if(0!==
a.Hn(g,h)+J)return!1}else if(P=-(a.Hn(h,g)+J)/M,0>P)return!1;a.UK(X,h,m,P);return!0}};function z(J,M,P,R){a.lm(h,P,M);a.lm(m,J,M);a.lK(g,h,m);a.normalize(g,g);R.set(g[0],g[1],g[2],a.Hn(J,g))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.XV,Na=X.YV;X=X.ZV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.ZV=this.YV=this.XV=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.XV=0<J?1:0;this.YV=0<M?1:0;this.ZV=0<P?1:0}}e.J.C5=class{constructor(){this.tT=new H;this.rU=new H;this.WT=new H;this.WR=new H;this.OI=new H;this.tS=new H}WW(J,M){e.J.ak(0,1,0,J,M,G,p);e.J.ak(1,1,0,J,M,G,q);e.J.ak(0,0,0,J,M,G,u);e.J.ak(1,0,0,J,M,G,w);e.J.ak(0,1,1,J,M,G,r);e.J.ak(1,1,1,J,M,G,v);e.J.ak(0,0,1,J,M,G,y);e.J.ak(1,0,1,J,M,G,A);z(u,p,r,this.tT);z(p,q,v,this.rU);z(q,w,A,this.WT);z(w,u,y,this.WR);z(y,r,v,this.tS);z(w,q,p,this.OI)}tX(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.tT)&&F(J,M,P,R,T,Z,this.rU)&&F(J,M,P,R,T,Z,this.WT)&&F(J,M,P,R,T,Z,this.WR)&&F(J,M,P,R,T,Z,this.OI)&&F(J,M,P,R,T,Z,this.tS)}U0(J,M,P){var R=this.OI;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.D,b=self.rj,a=b.FC,d=b.Tw,c=b.hm,h=c.create(),m=a.Hf(0,0,0),g=a.Hf(0,0,0),k=a.Hf(0,0,0),n=a.Hf(0,1,0);d.Hf(0,0,0,0);new e.Bd;new e.Rect;const p=new e.Bd(0,0,1,0,1,1,0,1);e.J.v3=class{constructor(){this.U=this.X=0;this.wS=e.nb(45);this.DJ=Math.tan(this.wS/2);this.jB=c.create();this.HI=c.create();this.So=[];this.IB=new Map;this.sJ=this.MB=this.NB=null;this.ew=new Map;this.Ui=null;this.XG=[];this.DT=new Map;this.Tu=this.Du=0;this.Qca=this.Rca=1;this.BI=.5;this.Oh=0;this.ur=
!0;this.NH=!1}fZ(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}vP(){this.Tu=this.Du=0;this.sJ=this.MB=this.NB=null;this.s6()}gy(){this.vP();this.Ui=null}g2(){for(const q of this.So)q.B();this.vP()}$(){return this.X}ca(){return this.U}Yp(q,u,w=.5,r=.5){var v=this.wS;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.DJ,u*=v,c.dea(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}VW(q,u,w){const r=self.devicePixelRatio,v=200*r*this.DJ/w;u=u*v/
(2*r);w=w*v/(2*r);c.Nea(q,-u,u,-w,w,1,1E4)}nL(q,u,w,r,v=this.ca()){v=200*self.devicePixelRatio*this.DJ/v;a.set(k,v,-v,1);a.multiply(m,u,k);a.multiply(g,w,k);c.Cea(q,m,g,r||n);c.scale(q,q,k)}Ks(q,u,w,r,v,y){a.set(m,q,u,w);a.set(g,r,v,0);this.nL(h,m,g,n,y);return h}b6(q){this.So.push(q);this.IB.set(q.Aa(),q)}L$(q){const u=this.So.indexOf(q);-1!==u&&this.So.splice(u,1);this.IB.delete(q.Aa())}s6(){e.F(this.So);this.IB.clear()}AM(q){return this.IB.get(q)||null}Zj(){this.Lq(this.NB)}hO(){this.Lq(this.sJ)}Eaa(q){this.Ui=
q}bW(q,u,w,r){const v=e.J.fF.nN(q,u,w,r);let y=this.ew.get(v);y||(y=e.m(e.J.fF,this,q,u,w,r),this.ew.set(v,y));y.qW();return y}NN(q){q.MX();0===q.Lc&&(this.Ui===q&&(this.Ui=null),this.ew.delete(q.a_()),q.B())}A8(q){e.F(this.XG);this.DT.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.XG.push([r,v]);this.DT.set(q,{kra:u,osa:r,Kpa:v});u++}}a8(q){return this.XG[q]}Dq(q){this.Du=q}Jt(q){this.Tu=q;this.Ui=null}ry(q,u,w,r,v,y){var A=this.BI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=
2*v;this.xy(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}qy(q,u,w,r,v,y){const A=this.BI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.xy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}oy(q,u,w,r,v,y){const A=this.BI;q+=A;u+=A;w+=A;r+=A;this.xy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}u1(q,u,w,r){const v=.5*this.Rca,y=this.Qca;2===y?this.W8(q,u,w,r,v):1===y?this.V8(q,u,w,r,v):this.U8(q,u,w,r,v)}W8(q,u,w,r,v){this.ry(q,u,w,u,0,v);this.ry(w,u,w,r,v,0);this.ry(w,r,q,r,0,-v);this.ry(q,r,q,u,-v,0)}V8(q,u,w,
r,v){this.qy(q,u,w,u,0,v);this.qy(w,u,w,r,v,0);this.qy(w,r,q,r,0,-v);this.qy(q,r,q,u,-v,0)}U8(q,u,w,r,v){this.oy(q,u,w,u,0,v);this.oy(w,u,w,r,v,0);this.oy(w,r,q,r,0,-v);this.oy(q,r,q,u,-v,0)}hN(q){this.u1(q.aa,q.W,q.na,q.fa)}Qs(){this.wj();this.Oh++}j0(){this.Oh++}QE(q){this.ur=!!q}q4(q){this.NH=!!q}cl(){return!1}}}"use strict";
self.D.J.W4=class{constructor(e,b,a){this.Ja=b;this.wa=e;this.qS=a.Ppa||0;this.rS=a.Qpa||0;this.dS=!!a.Apa;this.Wca=!!a.gra;this.Rr=!!a.Ara;this.Yba=!!a.ipa;this.YG=!!a.npa;this.aC=!!a.Jsa;this.yU=!1}B(){this.wa=null}sb(){return this.wa}Aa(){return this.Ja}uq(){return this.Wca}};
{"use strict";const e=self.D;e.J.fF=class{constructor(b,a,d,c,h){this.wa=b;this.Lc=0;this.cd=null;this.Zv="";this.Pg=d;this.kb=e.m(e.eb);this.kb.set(c);this.ed=h;"string"===typeof a?this.Zv=a:(this.cd=a,this.Zv=this.cd.Aa())}B(){if(0<this.Lc)throw Error("releasing state group still in use");this.cd=this.wa=null;this.Zv=""}yW(){const b=this.wa;b.Lq(this.cd);b.Wf(this.Pg);b.Fm(this.kb);b.Jt(this.ed);b.Eaa(this)}a_(){return e.J.fF.nN(this.Zv,this.Pg,this.kb,this.ed)}qW(){++this.Lc}MX(){--this.Lc}dl(){this.cd=
null}rE(b){this.cd=b.AM(this.Zv);if(!this.cd)throw Error("failed to restore shader program");}static nN(b,a,d,c){return("string"===typeof b?b:b.Aa())+","+a+","+d.Va+","+d.ab+","+d.$a+","+d.Za+","+c}}}
{"use strict";const e=self.D,b=e.m(e.Bd);function a(d,c,h){const m=h.Db,g=h.Eb;return[m+(h.sc-m)*d+(h.kc-m)*c,g+(h.tc-g)*d+(h.lc-g)*c]}e.J.M1=class{constructor(d){this.LI=d;this.hh=this.fh=this.ed=this.O=this.S=0}Mg(d,c,h,m){this.S=d;this.O=c;this.fh=h;this.hh=m}ga(){return this.S}Zf(d){this.S!==d&&(this.S=d,this.LI.nG())}ia(){return this.O}Ig(d){this.O!==d&&(this.O=d,this.LI.nG())}fb(){return this.ed}Je(d){this.ed!==d&&(this.ed=Math.max(d,0),this.LI.nG())}XE(d){this.fh=d}YE(d){this.hh=d}N8(d,c,h){[this.S,
this.O]=a(d.S,d.O,c);this.ed=d.ed;this.fh=e.gd(h.aa,h.na,d.fh);this.hh=e.gd(h.W,h.fa,d.hh)}M8(d,c,h){[this.S,this.O]=a(d.S,d.O,c);this.ed=d.ed;[this.fh,this.hh]=a(d.fh,d.hh,h)}Hd(){return{x:this.ga(),y:this.ia(),z:this.fb(),u:this.fh,v:this.hh}}Ad(d){this.Zf(d.x);this.Ig(d.y);d.hasOwnProperty("z")&&this.Je(d.z);this.XE(d.u);this.YE(d.v)}};e.J.pN=class{constructor(d,c,h){if(2>d||2>c)throw Error("invalid mesh size");this.nk=d;this.Bk=c;this.Wb=h||null;this.hn=[];this.BT=this.AT=0;this.xT=this.wT=1;
this.yT=0;this.cJ=!1;h=d-1;const m=c-1;for(let g=0;g<c;++g){const k=[];for(let n=0;n<d;++n){const p=e.m(e.J.M1,this,n,g),q=n/h,u=g/m;p.Mg(q,u,q,u);k.push(p)}this.hn.push(k)}}B(){e.F(this.hn)}nG(){this.cJ=!0}ku(){if(this.cJ){var d=Infinity,c=Infinity,h=-Infinity,m=-Infinity,g=0;for(const k of this.hn)for(const n of k){const p=n.ga(),q=n.ia();d=Math.min(d,p);c=Math.min(c,q);h=Math.max(h,p);m=Math.max(m,q);g=Math.max(g,n.fb())}this.AT=d;this.BT=c;this.wT=h;this.xT=m;this.yT=g;this.cJ=!1}}l_(){this.ku();
return this.AT}m_(){this.ku();return this.BT}i_(){this.ku();return this.wT}j_(){this.ku();return this.xT}k_(){this.ku();return this.yT}gq(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.nk||0>c||c>=this.Bk?null:this.hn[c][d]}oL(d,c,h){const m=h instanceof e.Rect;if(d.nk!==this.nk||d.Bk!==this.Bk)throw Error("source mesh wrong size");d=d.hn;const g=this.hn;for(let k=0,n=g.length;k<n;++k){const p=d[k],q=g[k];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.N8(r,c,h):v.M8(r,c,h)}}}oh(d){const c=
this.hn;let h=c[0];for(let m=1,g=c.length;m<g;++m){const k=c[m];let n=h[0],p=k[0];for(let q=1,u=k.length;q<u;++q){const w=h[q],r=k[q];b.set(n.fh,n.hh,w.fh,w.hh,r.fh,r.hh,p.fh,p.hh);d.xy(n.ga(),n.ia(),n.fb(),w.ga(),w.ia(),w.fb(),r.ga(),r.ia(),r.fb(),p.ga(),p.ia(),p.fb(),b);n=w;p=r}h=k}}M0(d){d=d.Od;const c=[],h=this.nk-1,m=this.Bk-1,g=1/h,k=1/m,n=h-1,p=m-1;let q=d[0],u=d[1],w=e.ja(Math.floor(q*h),0,n),r=e.ja(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=e.ja(e.gd(q,v,A),0,1);u=e.ja(e.gd(u,
y,A),0,1);c.push(q,u)};for(let F=0,H=d.length;F<H;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),w=e.ja(Math.floor(q*h),0,n),r=e.ja(Math.floor(u*m),0,p),G=(F+2)%H,v=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=r*k,P=(w+1)*g,R=(r+1)*k;if(0!==G&&(A=e.Pw(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=e.Pw(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=e.Pw(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();
w++;G=1;continue}if(0<w&&1!==G&&(A=e.Pw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=e.Pw(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return e.m(e.Tn,c)}p5(d,c){d=this.yba(d);this.pba(d);c.AC(d)}yba(d){const c=[];d=d.Od;for(let h=0,m=d.length;h<m;h+=2){const [g,k]=this.SO(d[h],d[h+1]);c.push(g,k)}return c}SO(d,c){var h=this.nk-1,m=this.Bk-1;const g=1/h,k=1/m;h=e.ja(Math.floor(d*h),0,h-1);const n=e.ja(Math.floor(c*m),0,m-1);m=h*g;const p=
n*k,q=(h+1)*g,u=(n+1)*k,w=this.gq(h,n),r=this.gq(h+1,n+1),v=e.tea(d,c,m,p,q,p,q,u);h=this.gq(h+(v?1:0),n+(v?0:1));const [y,A,G]=e.ufa(d,c,m,p,v?m+g:m,v?p:p+k,q,u);return e.tfa(y,A,G,w.ga(),w.ia(),h.ga(),h.ia(),r.ga(),r.ia())}pba(d){const c=[];let h=d[0],m=d[1],g=h-d.de(-2),k=m-d.de(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const w=u-h,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(k)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(r)===Math.sign(k)||
v)&&1E-7<Math.abs(w/g-r/k)||0==w&&0===r)&&c.push(h,m);h=u;m=n;g=w;k=r}6<=c.length&&c.length<d.length&&e.Oc(d,c)}Hd(){return{cols:this.nk,rows:this.Bk,points:this.hn.map(d=>d.map(c=>c.Hd()))}}Ad(d){const c=this.nk,h=this.Bk;if(d.cols!==c||d.rows!==h)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<h;++m){const g=d[m];for(let k=0;k<c;++k)this.gq(k,m).Ad(g[k])}}}}
{"use strict";const e=self.D,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function h(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{XK:n,ws:q,format:u,type:p}}const m={HC:"clamp-to-edge",IC:"clamp-to-edge",sj:"trilinear",MU:0,NK:"rgba8",wC:!0,Mw:"default",premultiplyAlpha:!0,kV:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},k=new Set;e.J.Uy=class{constructor(n){this.wa=n;this.ub=null;this.U=this.X=0;this.Rh=!0;this.rs=this.qs="clamp-to-edge";this.vd="trilinear";this.MG=0;this.gn="rgba8";this.Gl=!1;this.yp=
"default";this.Lc=0}J6(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.ub)throw Error("already created texture");this.qs=p.HC;this.rs=p.IC;
this.vd=p.sj;this.MG=p.MU;this.gn=p.NK;this.Gl=!!p.wC&&this.wa.ur;this.yp=p.Mw;if(!c.has(this.qs)||!c.has(this.rs))throw Error("invalid wrap mode");if(!a.has(this.vd))throw Error("invalid sampling");if(!b.has(this.gn))throw Error("invalid pixel format");if(!d.has(this.yp))throw Error("invalid mipmap quality");this.Rh=!0;if(n instanceof ArrayBuffer||null===n||p.kV){if(this.X=p.width,this.U=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.X*this.U*4)throw Error("ArrayBuffer wrong size");}else this.X=
n.width,this.U=n.height;if(0>=this.X||0>=this.U)throw Error("invalid texture data size");if(p.kV){var q=e.mh(this.X,this.U);q.getContext("2d").drawImage(n,0,0,this.X,this.U);n=q}var u=e.Lk(this.X)&&e.Lk(this.U);q=this.wa.kB;if(this.X>q||this.U>q)throw Error("texture data exceeds maximum texture size");q=this.wa.V;var w=this.wa.rd;this.ub=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.ub);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=h(this.gn,q);if(this.wa.Fo()||u||!this.QF())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Gl?Math.floor(Math.log2(Math.max(this.X,this.U))+1):1,p.XK,this.X,this.U),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.X,this.U,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.ws,this.X,this.U,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.ws,this.X,this.U,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.ws,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.X,this.U));n instanceof ImageData&&(u=e.mh(this.X,this.U),u.getContext("2d").putImageData(n,0,0),n=u);u=e.mh(e.qV(this.X),e.qV(this.U));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.vd;w.drawImage(n,0,0,this.X,this.U,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.ws,p.format,p.type,u)}null!==n&&this.xR(q);q.bindTexture(q.TEXTURE_2D,null);this.wa.dG();this.Lc=1;k.add(this)}w6(n,p,q){q=Object.assign({},m,q);if(this.ub)throw Error("already created texture");this.qs=q.HC;this.rs=q.IC;this.vd=q.sj;this.gn=q.NK;this.Gl=!!q.wC&&this.wa.ur;this.yp=q.Mw;if(!c.has(this.qs)||!c.has(this.rs))throw Error("invalid wrap mode");if(!a.has(this.vd))throw Error("invalid sampling");if(!b.has(this.gn))throw Error("invalid pixel format");if(!d.has(this.yp))throw Error("invalid mipmap quality");
this.Rh=!1;this.X=Math.floor(n);this.U=Math.floor(p);n=e.Lk(this.X)&&e.Lk(this.U);p=this.wa.kB;if(0>=this.X||0>=this.U)throw Error("invalid texture size");if(this.X>p||this.U>p)throw Error("texture exceeds maximum texture size");if(!this.wa.Fo()&&this.QF()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.wa.V;p=this.wa.rd;this.ub=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.ub);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=h(this.gn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.XK:q.ws,this.X,this.U,0,q.format,q.type,null);this.xR(n);n.bindTexture(n.TEXTURE_2D,null);this.wa.dG();this.Lc=1;k.add(this)}MF(n){if("default"===this.yp)return this.Rh?n.NICEST:n.FASTEST;if("low"===this.yp)return n.FASTEST;if("high"===this.yp)return n.NICEST;throw Error("invalid mipmap quality");}QF(){return"clamp-to-edge"!==this.qs||"clamp-to-edge"!==this.rs}nQ(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}xR(n){var p=e.Lk(this.X)&&e.Lk(this.U);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.nQ(n,this.qs));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.nQ(n,this.rs));"nearest"===this.vd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Gl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.wa.Fo())&&this.Gl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.MF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.vd||this.wa.NH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Gl=!1));(p=this.wa.zu)&&0<this.MG&&"nearest"!==this.vd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.MG,this.wa.JI))}HR(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.ub||0>=this.Lc)throw Error("texture not created");if(this.Rh)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.wa.rd;
const r=this.wa.V;r.bindTexture(r.TEXTURE_2D,this.ub);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=h(this.gn,r);w=2<=w?p.XK:p.ws;try{if(this.X===q&&this.U===u){const v=e.Lk(this.X)&&e.Lk(this.U);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.wa.Fo())&&this.Gl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.MF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.X=q;this.U=u;const v=e.Lk(this.X)&&e.Lk(this.U);if(!this.wa.Fo()&&this.QF()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.wa.Fo())&&this.Gl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.MF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.wa.dG()}AF(){if(0<this.Lc)throw Error("texture still has references");if(!this.ub)throw Error("already deleted texture");k.delete(this);this.wa.V.deleteTexture(this.ub);this.ub=null}sb(){return this.wa}h5(){if(0>=
this.Lc)throw Error("no more references");this.Lc--}$(){return this.X}ca(){return this.U}wD(){let n=this.X*this.U;switch(this.gn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Gl&&(n+=Math.floor(n/3));return n}static dl(){k.clear()}static zda(){return k.values()}}}
{"use strict";const e=self.rj.hm,b=new Set(["nearest","bilinear","trilinear"]),a={sj:"trilinear",alpha:!0,depth:!1,DK:!0,fV:!0,Hea:0},d=new Set;self.D.J.eP=class{constructor(c){this.wa=c;this.xk=this.ub=this.ip=this.Tg=null;this.U=this.X=0;this.FA=!0;this.vd="trilinear";this.br=!0;this.Xc=!1;this.uv=!0;this.Nl=0;this.vk=e.create()}v6(c,h,m){m=Object.assign({},a,m);const g=this.wa.rd;if(this.ub||this.xk)throw Error("already created render target");this.vd=m.sj;this.br=!!m.alpha;this.Xc=!!m.depth;this.uv=
!!m.DK;this.FA=!!m.fV;this.Nl=m.Hea;if(!b.has(this.vd))throw Error("invalid sampling");if(0<this.Nl&&(2>g||this.uv))throw Error("invalid use of multisampling");2>g&&(this.uv=!0);this.X=c;this.U=h;if(0>=this.X||0>=this.U)throw Error("invalid render target size");this.rP();c=this.wa.V;this.Tg=c.createFramebuffer();this.Xc&&(this.ip=c.createFramebuffer());this.uv?(this.ub=this.wa.DL(this.X,this.U,{sj:this.vd,NK:this.br?"rgba8":"rgb8",wC:!1}),h=this.ub.ub,c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ip),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h,0))):(this.xk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.xk),h=this.br?c.RGBA8:c.RGB8,0<this.Nl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,h,c.SAMPLES))&&m[0]?(m=m[0],this.Nl>m&&(this.Nl=m)):this.Nl=0),0===this.Nl?c.renderbufferStorage(c.RENDERBUFFER,h,this.X,this.U):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Nl,h,this.X,this.U),c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.xk),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ip),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.xk)),c.bindRenderbuffer(c.RENDERBUFFER,null));h=this.wa.Rg;this.Xc&&h&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),this.wa.Lu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}dR(c,h){if(this.X!==c||this.U!==h)this.X=c,this.U=h,this.rP(),c=this.wa.V,c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),this.ub?this.ub.HR(new ImageData(this.X,this.U)):(c.bindRenderbuffer(c.RENDERBUFFER,this.xk),c.renderbufferStorage(c.RENDERBUFFER,this.br?c.RGBA8:c.RGB8,this.X,this.U),c.bindRenderbuffer(c.RENDERBUFFER,null)),h=this.wa.Rg,this.Xc&&h&&(this.wa.Lu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,h,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,h)),c.bindFramebuffer(c.FRAMEBUFFER,null)}AF(){if(!this.ub&&!this.xk)throw Error("already deleted render target");d.delete(this);var c=this.wa.V;this.ub?(c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ip),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.wa.vj(this.ub),this.ub=null):this.xk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Tg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.ip),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.xk),this.xk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.wa.rd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Tg);
this.Xc&&c.deleteFramebuffer(this.ip);c=this.wa.yc;c.em=null;this.Tg=c.pj=null}rP(){this.wa.Yp(this.vk,this.X/this.U)}sb(){return this.wa}he(){return this.ub}hE(){return"nearest"!==this.vd}$(){return this.X}ca(){return this.U}X0(c){c=Object.assign({},a,c);return"nearest"!==c.sj!==this.hE()||!!c.alpha!==this.br||!!c.depth!==this.Xc||2<=this.wa.rd&&!!c.DK!==this.uv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.FA&&this.$()===c.width&&this.ca()===c.height:this.FA}wD(){return this.ub?
this.ub.wD():this.X*this.U*(this.br?4:3)}static dl(){d.clear()}}}
{"use strict";const e=self.D;e.J.Yt=class extends e.J.W4{static async qX(b,a,d,c){const h=b.V,m=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(m,a);h.compileShader(m);a=h.createShader(h.VERTEX_SHADER);h.shaderSource(a,d);h.compileShader(a);const g=h.createProgram();h.attachShader(g,m);h.attachShader(g,a);h.bindAttribLocation(g,0,"aPos");h.bindAttribLocation(g,1,"aTex");h.bindAttribLocation(g,2,"aPoints");h.linkProgram(g);const k=b.ZI;k?await b.Oba(()=>h.getProgramParameter(g,k.COMPLETION_STATUS_KHR)):
await e.lF(5);if(!h.getShaderParameter(m,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(m),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!h.getShaderParameter(a,h.COMPILE_STATUS))throw c=h.getShaderInfoLog(a),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!h.getProgramParameter(g,h.LINK_STATUS))throw c=h.getProgramInfoLog(g),h.deleteShader(m),h.deleteShader(a),h.deleteProgram(g),Error("Error linking shader program: "+
c);(b=e.gZ(h.getProgramInfoLog(g)||"").trim())&&!e.mE(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);h.deleteShader(m);h.deleteShader(a);return g}static async Ra(b,a,d,c){d=await e.J.Yt.qX(b,a.src,d,c);return new e.J.Yt(b,d,a,c)}constructor(b,a,d,c){super(b,c,d);const h=b.V;var m=b.yc;b.wj();h.useProgram(a);this.V=h;this.cd=a;this.GA="<default-device-transform>"===c;c=h.getAttribLocation(a,"aPos");const g=h.getAttribLocation(a,"aTex");this.EI=h.getAttribLocation(a,"aPoints");
-1!==c&&(h.bindBuffer(h.ARRAY_BUFFER,b.eC),h.vertexAttribPointer(c,3,h.FLOAT,!1,0,0),h.enableVertexAttribArray(c));-1!==g&&(h.bindBuffer(h.ARRAY_BUFFER,b.TB),h.vertexAttribPointer(g,2,h.FLOAT,!1,0,0),h.enableVertexAttribArray(g));-1!==this.EI&&(h.bindBuffer(h.ARRAY_BUFFER,b.uB),h.vertexAttribPointer(this.EI,4,h.FLOAT,!1,0,0),h.enableVertexAttribArray(this.EI));h.bindBuffer(h.ARRAY_BUFFER,null);this.KJ=new e.J.jc(this,"matP","mat4");this.JJ=new e.J.jc(this,"matMV","mat4");this.Rp=new e.J.jc(this,"color",
"vec4");this.tda=new e.J.jc(this,"samplerFront","sampler");this.NJ=new e.J.jc(this,"pointTexStart","vec2");this.MJ=new e.J.jc(this,"pointTexEnd","vec2");this.QJ=new e.J.jc(this,"zElevation","float");this.OJ=new e.J.jc(this,"tileSize","vec2");this.PJ=new e.J.jc(this,"tileSpacing","vec2");this.IJ=new e.J.jc(this,"color2_","vec4");this.LJ=new e.J.jc(this,"outlineThickness","float");this.ms=new e.J.jc(this,"samplerBack","sampler");this.sda=new e.J.jc(this,"samplerDepth","sampler");this.tn=new e.J.jc(this,
"destStart","vec2");this.sn=new e.J.jc(this,"destEnd","vec2");this.mj=new e.J.jc(this,"srcStart","vec2");this.Zl=new e.J.jc(this,"srcEnd","vec2");this.am=new e.J.jc(this,"srcOriginStart","vec2");this.$l=new e.J.jc(this,"srcOriginEnd","vec2");this.gh=new e.J.jc(this,"pixelSize","vec2");this.zn=new e.J.jc(this,"seconds","float");this.un=new e.J.jc(this,"devicePixelRatio","float");this.wn=new e.J.jc(this,"layerScale","float");this.vn=new e.J.jc(this,"layerAngle","float");this.yn=new e.J.jc(this,"layoutStart",
"vec2");this.xn=new e.J.jc(this,"layoutEnd","vec2");this.HS=!!(this.gh.Y||this.zn.Y||this.ms.Y||this.tn.Y||this.sn.Y||this.mj.Y||this.Zl.Y||this.am.Y||this.$l.Y||this.un.Y||this.wn.Y||this.vn.Y||this.yn.Y||this.xn.Y);b=d.parameters||[];this.Sp=[];this.yU=this.gh.Y||this.mj.Y||this.Zl.Y||this.am.Y||this.$l.Y;this.KH=this.LH=!1;this.Rp.QM();this.IJ.QM();this.tda.UD(0);this.ms.UD(1);this.sda.UD(2);this.NJ.Ag(0,0);this.MJ.Ag(1,1);this.QJ.ko(0);this.OJ.Ag(0,0);this.PJ.Ag(0,0);this.tn.Ag(0,0);this.sn.Ag(1,
1);this.mj.Ag(0,0);this.Zl.Ag(0,0);this.am.Ag(0,0);this.$l.Ag(0,0);this.gh.Ag(0,0);this.un.ko(1);this.wn.ko(1);this.vn.ko(0);this.zn.ko(0);this.yn.Ag(0,0);this.xn.Ag(0,0);this.LJ.ko(1);for(const k of b)b=k[2],a=new e.J.jc(this,k[0],b),"color"===b?a.k0():a.ko(0),this.Sp.push(a);this.GA?this.MR(m.Aw):(this.Ry(m.Aw,!0),this.Qy(m.lC,!0));m=m.gi;h.useProgram(m?m.cd:null)}B(){this.V.deleteProgram(this.cd);this.cd=null;this.wa.L$(this);this.V=null;super.B()}Rf(){return this.cd}Qx(b){return this.Sp[b].Mj()}zW(b){for(let a=
0,d=b.length;a<d;++a)if(!this.Sp[a].h1(b[a]))return!1;return!0}c4(b){for(let a=0,d=b.length;a<d;++a)this.Sp[a].Y3(b[a])}AW(b,a,d,c,h,m,g,k,n,p){return this.ms.Y||this.gh.Y&&!this.gh.bl(h,m)||this.tn.Y&&!this.tn.bl(b.aa,b.W)||this.sn.Y&&!this.sn.bl(b.na,b.fa)||this.un.Y&&!this.un.ly(g)||this.wn.Y&&!this.wn.ly(k)||this.vn.Y&&!this.vn.ly(n)||this.mj.Y&&!this.mj.bl(a.aa,a.W)||this.Zl.Y&&!this.Zl.bl(a.na,a.fa)||this.am.Y&&!this.am.bl(d.aa,d.W)||this.$l.Y&&!this.$l.bl(d.na,d.fa)||this.yn.Y&&!this.yn.bl(c.aa,
c.W)||this.xn.Y&&!this.xn.bl(c.W,c.fa)||this.zn.Y&&!this.zn.ly(p)?!1:!0}x4(b,a,d,c,h,m,g,k,n,p){this.ms.Y||(this.gh.Y&&this.gh.gl(h,m),this.tn.Y&&this.tn.gl(b.aa,b.W),this.sn.Y&&this.sn.gl(b.na,b.fa),this.un.Y&&this.un.Gy(g),this.wn.Y&&this.wn.Gy(k),this.vn.Y&&this.vn.Gy(n),this.mj.Y&&this.mj.gl(a.aa,a.W),this.Zl.Y&&this.Zl.gl(a.na,a.fa),this.am.Y&&this.am.gl(d.aa,d.W),this.$l.Y&&this.$l.gl(d.na,d.fa),this.yn.Y&&this.yn.gl(c.aa,c.W),this.xn.Y&&this.xn.gl(c.W,c.fa),this.zn.Y&&this.zn.Gy(p))}Ry(b,a){this.LH&&
!a||this.GA||(this.KJ.Y&&this.KJ.Sy(b),this.LH=!0)}w4(){this.LH=!1}Qy(b,a){this.KH&&!a||this.GA||(this.JJ.Y&&this.JJ.Sy(b),this.KH=!0)}v4(){this.KH=!1}MR(b){if(!this.GA)throw Error("not device transform shader");this.KJ.Sy(b);b=this.wa;const a=b.$()/2,d=b.ca()/2;b=b.Ks(a,d,100*self.devicePixelRatio,a,d);this.JJ.Sy(b)}x5(b){this.Rp.Y&&this.Rp.Py(b[0],b[1],b[2],b[3])}static Dx(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.D,b=self.rj.hm,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.J.jc=class{constructor(d,c,h){if(!a.has(h))throw Error("invalid uniform type");this.Wb=d;this.V=this.Wb.V;this.Ja=c;this.za=h;this.bI="color"===this.za;this.Uh=this.V.getUniformLocation(this.Wb.Rf(),c);this.Y=!!this.Uh;d=a.get(h);this.Vb=new Float32Array(d);this.ej=new Float32Array(d)}B(){this.Uh=this.V=this.Wb=null}Mj(){return this.za}ko(d){this.Y&&
(this.Vb[0]=d,this.ej.set(this.Vb),this.V.uniform1f(this.Uh,d))}UD(d){this.Y&&(this.Vb[0]=d,this.ej.set(this.Vb),this.V.uniform1i(this.Uh,d))}Ag(d,c){this.Y&&(this.Vb[0]=d,this.Vb[1]=c,this.ej.set(this.Vb),this.V.uniform2f(this.Uh,d,c))}k0(){this.Y&&(this.Vb[0]=0,this.Vb[1]=0,this.Vb[2]=0,this.ej.set(this.Vb),this.V.uniform3f(this.Uh,0,0,0))}QM(){this.Y&&(this.Vb[0]=1,this.Vb[1]=1,this.Vb[2]=1,this.Vb[3]=1,this.ej.set(this.Vb),this.V.uniform4f(this.Uh,1,1,1,1))}Io(d){d=Math.fround(d);const c=this.Vb;
c[0]!==d&&(c[0]=d,this.V.uniform1f(this.Uh,d))}Le(d,c){d=Math.fround(d);c=Math.fround(c);const h=this.Vb;if(h[0]!==d||h[1]!==c)h[0]=d,h[1]=c,this.V.uniform2f(this.Uh,d,c)}v5(d,c,h){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);const m=this.Vb;if(m[0]!==d||m[1]!==c||m[2]!==h)m[0]=d,m[1]=c,m[2]=h,this.V.uniform3f(this.Uh,d,c,h)}Py(d,c,h,m){d=Math.fround(d);c=Math.fround(c);h=Math.fround(h);m=Math.fround(m);const g=this.Vb;if(g[0]!==d||g[1]!==c||g[2]!==h||g[3]!==m)g[0]=d,g[1]=c,g[2]=h,g[3]=m,this.V.uniform4f(this.Uh,
d,c,h,m)}Sy(d){const c=this.Vb;b.qj(c,d)||(e.vfa(c,d),this.V.uniformMatrix4fv(this.Uh,!1,d))}h1(d){const c=this.ej;return this.bI?c[0]===Math.fround(d.Va)&&c[1]===Math.fround(d.ab)&&c[2]===Math.fround(d.$a):c[0]===Math.fround(d)}Y3(d){const c=this.ej;this.bI?(c[0]=d.Va,c[1]=d.ab,c[2]=d.$a):c[0]=d}ly(d){return this.ej[0]===Math.fround(d)}bl(d,c){const h=this.ej;return h[0]===Math.fround(d)&&h[1]===Math.fround(c)}Gy(d){this.ej[0]=d}gl(d,c){const h=this.ej;h[0]=d;h[1]=c}}}
{"use strict";const e=self.D,b=self.rj,a=b.Tw,d=b.hm;e.J.LW=class{constructor(c){this.Ln=c;this.lC=d.create();this.Aw=d.create();this.pj=this.em=null;this.gV=!1;this.kC=a.Hf(1,1,1,1);this.gi=null;this.OK=new e.Rect;this.clearColor=e.m(e.eb,0,0,0,0)}};e.J.H5=class{constructor(c){const h=new ArrayBuffer(96);this.za=0;this.yc=c;this.V=c.Ln.V;this.Dl=this.ve=0;this.Ve=null;this.zf=new Float32Array(h,0,16);this.Xo=new Float32Array(h,64,4);this.jU=new Float32Array(h,80,4);this.GB=[]}y0(c){this.za=1;this.ve=
c;this.Dl=6}ZX(){const c=this.V;c.drawElements(c.TRIANGLES,this.Dl,c.UNSIGNED_SHORT,this.ve)}H0(c){this.za=2;this.Ve=c}lY(){const c=this.V,h=this.Ve;c.bindTexture(c.TEXTURE_2D,h?h.ub:null)}VD(c){this.za=3;c.jh(this.Xo,0)}aY(){const c=this.Xo,h=this.yc;a.ta(h.kC,c);h.gi.x5(c)}eY(){const c=this.Xo,h=this.yc.gi;h.IJ.Y&&h.IJ.Py(c[0],c[1],c[2],c[3])}z0(c,h){this.za=4;this.ve=c;this.Dl=h}$X(){this.V.blendFunc(this.ve,this.Dl)}I0(c,h){this.za=5;const m=this.Xo;m[0]=0;m[1]=0;m[2]=c;m[3]=h}nY(){const c=this.Xo;
this.V.viewport(c[0],c[1],c[2],c[3])}F0(c){this.za=6;d.ta(this.zf,c)}jY(){const c=this.yc,h=c.Ln.So,m=c.gi,g=this.zf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Ry(g,!0):p.w4()}d.ta(c.Aw,g)}C0(c){this.za=7;d.ta(this.zf,c)}fY(){const c=this.yc,h=c.Ln.So,m=c.gi,g=this.zf;for(let k=0,n=h.length;k<n;++k){const p=h[k];p===m?p.Qy(g,!0):p.v4()}d.ta(c.lC,g)}G0(c){this.za=8;this.Ve=c}kY(){const c=this.V,h=this.Ve,m=this.yc;h?(m.em=h.Tg,m.pj=h.ip,m.gV&&m.pj?c.bindFramebuffer(c.FRAMEBUFFER,m.pj):c.bindFramebuffer(c.FRAMEBUFFER,
m.em)):(m.em=null,m.pj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}o0(c){this.za=9;c.jh(this.zf,0)}p0(){this.za=9;const c=this.zf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}SX(){const c=this.V;var h=this.zf;const m=this.yc.clearColor,g=h[0],k=h[1],n=h[2];h=h[3];m.nC(g,k,n,h)||(c.clearColor(g,k,n,h),m.Mn(g,k,n,h));c.clear(c.COLOR_BUFFER_BIT)}gY(){const c=this.zf;this.yc.OK.set(c[0],c[1],c[2],c[3])}YX(){const c=this.V,h=this.yc,m=h.Ln.MB;c.useProgram(m.cd);m.Ry(h.Aw,!1);m.Qy(h.lC,!1);var g=h.OK;m.NJ.Y&&m.NJ.Le(g.aa,
g.W);m.MJ.Y&&m.MJ.Le(g.na,g.fa);g=this.zf[0];m.QJ.Y&&m.QJ.Io(g);m.Rp.Y&&(g=h.kC,m.Rp.Py(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.ve/4,this.Dl);c.useProgram(h.gi.cd)}D0(c){this.za=11;this.Ve=c}hY(){var c=this.V;const h=this.yc,m=this.Ve;h.gi=m;c.useProgram(m.cd);m.Ry(h.Aw,!1);m.Qy(h.lC,!1);m.Rp.Y&&(c=h.kC,m.Rp.Py(c[0],c[1],c[2],c[3]))}E0(){this.za=12}iY(){const c=this.yc.gi;c.HS&&this.p7(c);c.Sp.length&&this.q7(c)}p7(c){const h=this.V,m=this.zf,g=this.Xo,k=this.jU;if(c.ms.Y){const n=this.yc.Ln,
p=this.Ve;n.Ym!==p&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,p?p.ub:null),n.Ym=p,h.activeTexture(h.TEXTURE0))}c.gh.Y&&c.gh.Le(m[0],m[1]);c.tn.Y&&c.tn.Le(m[2],m[3]);c.sn.Y&&c.sn.Le(m[4],m[5]);c.un.Y&&c.un.Io(this.Dl);c.wn.Y&&c.wn.Io(m[6]);c.vn.Y&&c.vn.Io(m[7]);c.mj.Y&&c.mj.Le(m[12],m[13]);c.Zl.Y&&c.Zl.Le(m[14],m[15]);c.am.Y&&c.am.Le(k[0],k[1]);c.$l.Y&&c.$l.Le(k[2],k[3]);c.yn.Y&&c.yn.Le(g[0],g[1]);c.xn.Y&&c.xn.Le(g[2],g[3]);c.zn.Y&&c.zn.Io(this.ve)}q7(c){c=c.Sp;const h=this.GB;for(let m=
0,g=c.length;m<g;++m){const k=c[m],n=h[m];k.bI?k.v5(n.Va,n.ab,n.$a):k.Io(n)}}u0(c){this.za=13;this.Ve=c}XX(){const c=this.V,h=this.Ve,m=this.yc.em;h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,h);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);h!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}l0(c,h){this.za=16;var m=this.zf;const g=this.yc.Ln;m[0]=c.$();m[1]=c.ca();m[2]=h?h.$():g.$();m[3]=h?h.ca():g.ca();m[4]=c.hE()?1:0;m[5]=!0;m=this.GB;e.F(m);m.push(c.Tg);m.push(h?h.Tg:null)}QX(){var c=this.zf,h=
this.GB;const m=this.V;var g=c[0],k=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=h[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,h[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,g,k,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(h=Math.min(g,n),g=Math.min(k,p),n=Math.max(k-p,0),k=Math.max(p-k,0),m.blitFramebuffer(0,n,h,g+n,0,k,h,g+k,m.COLOR_BUFFER_BIT,m.NEAREST))}K0(c){this.za=17;this.Ve=c}pY(){this.Ve.QC();this.Ve=null}t0(c){this.za=18;this.Ve=c}WX(){this.Ve.jD();this.Ve=
null}dY(){const c=this.yc.gi,h=this.zf;c.gh.Y&&c.gh.Le(h[0],h[1]);c.LJ.Y&&c.LJ.Io(h[2])}mY(){const c=this.yc.gi,h=this.zf;c.mj.Y&&c.mj.Le(h[0],h[1]);c.gh.Y&&c.gh.Le(h[4],h[5]);c.OJ.Y&&c.OJ.Le(h[6],h[7]);c.PJ.Y&&c.PJ.Le(h[8],h[9])}n0(c){this.za=21;this.ve=c?1:0}RX(){const c=this.V,h=0!==this.ve;h||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);h||c.depthMask(!1)}A0(c){this.za=22;this.ve=c?1:0}bY(){const c=this.V;0===this.ve?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}B0(c){this.za=
23;this.ve=c?1:0}cY(){const c=this.V,h=this.yc,m=h.Ln,g=0!==this.ve;h.gV=g;c.activeTexture(c.TEXTURE2);g?(h.pj&&c.bindFramebuffer(c.FRAMEBUFFER,h.pj),c.bindTexture(c.TEXTURE_2D,m.Rg)):(c.bindTexture(c.TEXTURE_2D,null),h.pj&&c.bindFramebuffer(c.FRAMEBUFFER,h.em));c.activeTexture(c.TEXTURE0)}s0(){this.za=24}VX(){const c=this.V;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}r0(){this.za=25}UX(){const c=
this.V;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}q0(){this.za=26}TX(){const c=this.V;c.disable(c.STENCIL_TEST)}ua(){switch(this.za){case 1:this.ZX();break;case 2:this.lY();break;case 3:this.aY();break;case 4:this.$X();break;case 5:this.nY();break;case 6:this.jY();break;case 7:this.fY();break;case 8:this.kY();break;case 9:this.SX();break;case 10:this.YX();break;case 11:this.hY();break;case 12:this.iY();break;case 13:this.XX();break;case 14:this.gY();break;
case 15:this.mY();break;case 16:this.QX();break;case 17:this.pY();break;case 18:this.WX();break;case 19:this.dY();break;case 20:this.eY();break;case 21:this.RX();break;case 22:this.bY();break;case 23:this.cY();break;case 24:this.VX();break;case 25:this.UX();break;case 26:this.TX()}}}}
{"use strict";const e=self.D,b={timeout:60},a=new e.eb(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),h=new Set(["word","character"]),m=new Set;e.kZ&&e.kZ.addEventListener("fontload",p=>{p=p.font.Aa();for(const q of m)(q.Qh||e.In(q.kA,p))&&q.ek()});function g(p,q,u,w,r,v){q?"Gecko"===e.Rc.ax?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===e.Rc.ax?p.fillText(u,w,r,v):p.fillText(u,w,r)}let k=!1,n=!1;e.J.zE=class{constructor(p,q){q=Object.assign({},b,q);this.wa=
p;this.kA="Arial";this.lA=16;this.mA=1;this.xp=0;this.tf=this.sf=!1;this.Uz="black";this.Qh=!1;this.KK=null;this.KG=new Set;this.qf="left";this.Ye="top";this.pd="";this.Gu=null;this.Cn=e.m(e.mF);this.ZJ="word";this.oI=this.UB=!1;this.qv=!0;this.$o=-1;this.U=this.X=this.kH=this.kr=this.tr=0;this.fi=1;this.fH=!1;this.Kv=this.Ml=this.Zd=this.Np=null;this.lT=this.mT=-1;this.ZA=this.nT=this.sI="";this.tI=this.uI=1;this.zT=(u,w)=>this.NQ(u,w);this.ub=null;this.hw=this.jw=0;this.jg=new e.Rect;this.Xv=1;
this.RI=!1;this.EJ=new e.g0(()=>{this.Ci();this.wR(8,8)},q.timeout);this.xC=null;this.yw=!1;m.add(this)}B(){this.KK=null;this.KG.clear();this.zT=this.Kv=this.Ml=this.Zd=this.Np=this.Gu=null;this.EJ.B();this.xC=null;this.Ci();this.Cn.xd();this.wa=this.Cn=null;this.yw=!0;m.delete(this)}Po(){this.fH=!0}ek(){this.Po();this.Cn.xd();this.UB=!0}vO(){this.qv=!1}Bg(){return this.qv}X3(p){p=!!p;this.Qh!==p&&(p=(this.Qh=p)?"alphabetic":"top",this.Zd&&(this.Zd.textBaseline=p),this.Ml&&(this.Ml.textBaseline=p),
this.ek())}NE(p){p||(p="serif");this.kA!==p&&(this.kA=p,this.ek())}Jy(p){.1>p&&(p=.1);this.lA!==p&&(this.lA=p,this.ek())}m4(p){this.mA!==p&&(this.mA=p,this.ek())}zO(p){this.xp!==p&&(this.xp=p,this.Po())}fO(p){p=!!p;this.sf!==p&&(this.sf=p,this.ek())}xO(p){p=!!p;this.tf!==p&&(this.tf=p,this.ek())}ME(p){p=Math.floor(p);this.$o!==p&&(this.$o=p,this.Po())}Ki(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}Uq(p,q){return!!this.Ki(p,q)}$P(p,q){let u=[];(this.sf||this.Uq(q,
"b"))&&u.push("bold");(this.tf||this.Uq(q,"i"))&&u.push("italic");var w=this.Ki(q,"size");w=(w?parseFloat(w.ii):this.lA)*this.mA;p?u.push(w+"pt"):u.push(w*this.Xv*this.fi*self.devicePixelRatio+"pt");p=this.kA;(q=this.Ki(q,"font"))&&q.ii&&(p=q.ii,this.KK&&!this.KG.has(p)&&(this.KK(p),this.KG.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Fm(p){p instanceof e.eb&&(p=p.eea());this.Uz!==p&&(this.Uz=p,this.Po())}iO(p,q,u){a.Fs(p,q,u);this.Fm(a)}rO(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.qf!==p&&(this.qf=p,this.Po())}MO(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ye!==p&&(this.Ye=p,this.Po())}T4(p){if(!h.has(p))throw Error("invalid word wrap mode");this.ZJ!==p&&(this.ZJ=p,this.ek())}Ut(p){this.pd!==p&&(this.pd=p,this.ek())}Tc(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.kr===p&&this.kH===q&&this.fi===u)){1===this.fi!==(1===u)&&(this.RI=!0);var w=this.kr,r=this.fi;this.kr=p;this.kH=q;this.fi=u;p=self.devicePixelRatio;this.X=this.kr*this.fi*p;this.U=
this.kH*this.fi*p;p=Math.max(this.X,this.U);q=Math.min(this.wa.kB,2048);u=1;p>q&&(u=q/p,this.X=Math.min(this.X*u,q),this.U=Math.min(this.U*u,q));this.Xv=u;0<this.jw&&0<this.hw&&this.fi===r&&this.jg.set(0,0,this.X/this.jw,this.U/this.hw);this.kr!==w?this.ek():this.Po()}}$(){return this.X}ca(){return this.U}x_(){this.YF();return this.Cn.h_()}w_(){this.YF();return this.Cn.A_()+this.Cn.Zm.length*(this.xp+4)-this.xp}he(){this.EJ.kd();this.y9();return this.ub}y9(){this.ub&&!this.fH&&!this.UB||this.oI||
0>=this.X||0>=this.U||(this.fH=!1,this.oI=!0,this.qv?e.Mk(()=>this.IP()):this.IP())}IP(){this.yw||(this.wR(Math.ceil(this.X),Math.ceil(this.U)),this.YF(),this.F7(),this.Jba(),this.EJ.kd(),this.oI=!1)}wR(p,q){this.Np||(this.Np=e.mh(16,16));let u=!1;if(this.mT!==p||this.lT!==q)this.mT=p,this.lT=q,this.Np.width=p,this.Np.height=q,u=!0;this.Zd||(this.Zd=this.Np.getContext("2d"),u=!0);u?(this.Zd.textBaseline=this.Qh?"alphabetic":"top",this.Zd.font=this.sI,this.Zd.fillStyle=this.ZA,this.Zd.strokeStyle=
this.ZA,this.Zd.globalAlpha=this.uI,this.Zd.lineWidth=this.tI):this.Zd.clearRect(0,0,p,q)}FQ(){this.Ml||(this.Ml=e.mh(16,16).getContext("2d"),this.Kv=e.mh(16,16).getContext("2d"),this.Ml.textBaseline=this.Qh?"alphabetic":"top",this.Kv.textBaseline="top")}Zaa(p){this.nT!==p&&(this.nT=p,this.Ml.font=p,this.Kv.font=p)}ER(){if(!k){k=!0;this.FQ();const p=this.Ml.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}YF(){this.UB&&(this.FQ(),
!this.Qh||this.Gu&&this.Gu.toString()===this.pd||(this.Gu=new e.nm(this.pd,{Jea:!0})),this.Cn.mF(this.Qh?this.Gu.nfa():this.pd,this.zT,this.kr,this.ZJ,0),this.UB=!1)}NQ(p,q){this.Zaa(this.$P(!0,q));q=this.Ki(q,"size");q=(q?parseFloat(q.ii):this.lA)*this.mA;const u=this.Ml.measureText(p);let w=0;this.Qh&&this.ER()&&(w=u.fontBoundingBoxAscent-this.Kv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,tg:u.fontBoundingBoxAscent||0,Gf:u.fontBoundingBoxDescent||0,Jf:w}}Haa(p){this.sI!==
p&&(this.sI=p,this.Zd.font=p)}nz(p){this.ZA!==p&&(this.ZA=p,this.Zd.fillStyle=p,this.Zd.strokeStyle=p)}Gaa(p){this.uI!==p&&(this.uI=p,this.Zd.globalAlpha=p)}rR(p){this.tI!==p&&(this.tI=p,this.Zd.lineWidth=p)}F7(){this.tr=0;const p=this.Xv*this.fi*self.devicePixelRatio,q=(4+this.xp)*p;var u=0;const w=this.Cn.Zm;if(0!==w.length){var r=this.Qh&&this.ER(),v=w[0].height*p;"center"===this.Ye?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.U/2-u/2,0),r&&(v=w[0].Jf*p)):"bottom"===this.Ye&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.xp*p,u=this.U-u-(r?w.de(-1).Gf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Qh){if(u+=0===y?v:G,0<y&&u>this.U-4*p)break}else if(0<y&&u>=this.U-G)break;0<=z&&this.E7(r,u,p);this.Qh||(u+=G);u+=q}}}E7(p,q,u){let w=0;"center"===this.qf?w=(this.X-p.width*u)/2:"right"===this.qf&&(w=this.X-p.width*u);for(const r of p.$U)this.D7(r,w,q,u,p.height),w+=r.width*u}D7(p,q,u,w,r){const v=this.Zd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.xp)*w,F=p.td,H=p.text;if(-1!==this.$o){if(this.tr>=this.$o)return;this.tr+H.length>this.$o&&(H=H.substr(0,this.$o-this.tr),r=this.NQ(H,F).width*w);this.tr+=H.length}var J=this.Ki(F,"background"),M=this.Uq(F,"u");p=this.Uq(F,"s");if((!e.mE(H)||J||M||p)&&!this.Uq(F,"hide")){var P=this.Ki(F,"offsetx");q+=P?parseFloat(P.ii)*w:0;P=this.Ki(F,"offsety");u+=P?parseFloat(P.ii)*w:0;J&&(this.nz(J.ii),v.fillRect(q,u-A,r,A+z));P=this.Ki(F,"color");this.nz(P?P.ii:this.Uz);z=this.Ki(F,"opacity");this.Gaa(z?
parseFloat(z.ii)/100:1);z=(z=this.Ki(F,"linethickness"))?parseFloat(z.ii):1;(J=this.Uq(F,"stroke"))&&this.rR(.5*G*z*this.Xv*this.fi*self.devicePixelRatio);this.Haa(this.$P(!1,F));g(v,J,H,q,u,r);!J&&(this.rR(.5*G*z*this.Xv*this.fi*self.devicePixelRatio),F=this.Ki(F,"outline"))&&(this.nz(F.ii),g(v,!0,H,q,u,r));this.nz(P?P.ii:this.Uz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Jba(){this.wa.mo()||(this.jw=Math.ceil(this.X),
this.hw=Math.ceil(this.U),this.jg.set(0,0,this.X/this.jw,this.U/this.hw),this.RI&&(this.Ci(),this.RI=!1),this.ub||(this.ub=this.wa.DL(this.jw,this.hw,{wC:1===this.fi,Mw:"high"})),this.wa.A5(this.Np,this.ub),this.xC&&this.xC())}Lj(){return this.jg}Ci(){this.ub&&(this.wa.mo()||this.wa.vj(this.ub),this.ub=null)}static dl(){for(const p of m)p.Ci()}}}
{"use strict";const e=self.D;class b{constructor(a){this.V=a.V;this.rd=a.rd;this.Ed=a.Ed;this.Yh=null;this.dv=this.Lb=!1;this.CB=0;this.Yh=1===this.rd?this.Ed.createQueryEXT():this.V.createQuery()}B(){this.DP();this.Ed=this.V=null;this.dv=!1}DP(){this.Yh&&(1===this.rd?this.Ed.deleteQueryEXT(this.Yh):this.V.deleteQuery(this.Yh),this.Yh=null)}QC(){if(this.Lb)throw Error("query already active");1===this.rd?this.Ed.beginQueryEXT(this.Ed.TIME_ELAPSED_EXT,this.Yh):this.V.beginQuery(this.Ed.TIME_ELAPSED_EXT,
this.Yh);this.Lb=!0}jD(){if(!this.Lb)throw Error("query not active");1===this.rd?this.Ed.endQueryEXT(this.Ed.TIME_ELAPSED_EXT):this.V.endQuery(this.Ed.TIME_ELAPSED_EXT);this.Lb=!1}YC(){if(this.Yh&&!this.dv&&!this.Lb){var a=1===this.rd?this.Ed.getQueryObjectEXT(this.Yh,this.Ed.QUERY_RESULT_AVAILABLE_EXT):this.V.getQueryParameter(this.Yh,this.V.QUERY_RESULT_AVAILABLE);var d=this.V.getParameter(this.Ed.GPU_DISJOINT_EXT);a&&!d&&(this.CB=1===this.rd?this.Ed.getQueryObjectEXT(this.Yh,this.Ed.QUERY_RESULT_EXT):
this.V.getQueryParameter(this.Yh,this.V.QUERY_RESULT),this.CB/=1E9,this.dv=!0);(a||d)&&this.DP()}}dy(){return this.dv}Wx(){if(!this.dv)throw Error("no result available");return this.CB}}e.J.J5=class{constructor(a){this.wa=a;this.Oh=a.Oh;this.Lb=!1;this.cn=null;this.Wm=!1;this.Ur=null;this.Fp=[]}B(){for(const a of this.Fp)a instanceof b&&a.B();e.F(this.Fp);this.wa=this.Ur=this.cn=null}QC(){if(this.Lb)throw Error("query already active");const a=this.wa.pU;0<a.length?(this.Wm=!0,this.cn=a.de(-1),this.cn.NP(),
this.cn.Fp.push(this)):(this.Wm=!1,this.cn=null);this.Lb=!0;a.push(this);this.CR()}jD(){if(!this.Lb)throw Error("query not active");if(this.wa.pU.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.NP();this.cn&&(this.cn.CR(),this.cn=null)}CR(){this.Ur=e.m(b,this.wa);this.Fp.push(this.Ur);this.Ur.QC()}NP(){this.Ur.jD();this.Ur=null}YC(){for(const a of this.Fp)a.YC()}dy(){return this.Fp.every(a=>a.dy())}Wx(){return this.Fp.reduce((a,d)=>a+d.Wx(),0)}}}
{"use strict";const e=self.D;e.J.dP=class{constructor(b,a=1E3){this.wa=b;this.Vca=a;this.jk=[];this.wa.a6(this)}B(){this.xd();this.wa.K$(this);this.wa=null}xd(){for(const b of this.jk)b.B();e.F(this.jk)}OC(){const b=new e.J.J5(this.wa);this.jk.push(b);this.jk.length>this.Vca&&this.jk.shift().B();return b}dX(b){for(const a of this.jk){if(a.Oh>=b)break;if(a.Wm)break;a.YC()}}lM(b,a){if(a<=b)return NaN;let d=0;for(const c of this.jk){if(c.Oh>=a)break;if(!(c.Oh<b))if(c.dy())d+=c.Wx();else return NaN}return d}JL(b){for(let a=
0,d=this.jk.length;a<d;++a){const c=this.jk[a];if(c.Oh<b)c.B();else{0<a&&this.jk.splice(0,a);break}}}}}
{"use strict";const e=self.D,b=self.rj,a=b.Tw,d=b.hm,c={powerPreference:"default",ZU:!0,alpha:!1,EK:!1,depth:!1,hK:!1,nV:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),m=new e.Bd(0,0,1,0,1,1,0,1),g=d.create(),k=d.create(),n=new e.Bd,p=new e.Rect;let q=null;e.Hw&&(self.Gpa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Hpa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Ida()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}e.J.I5=class extends e.J.v3{constructor(v,y){super();y=Object.assign({},c,y);if(!h.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.EK&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.nV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.V=G;this.SR=G.getContextAttributes();y.EK&&!this.SR.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.rd=z;this.pg=a.create();this.Sm=!1;this.SG=d.create();this.dm=!!y.depth;this.Lu=!(!y.depth||!y.hK);this.pp=this.dm;this.cI=!1;this.Rg=null;this.aI=!0;this.eS=this.fS=0;this.uB=this.SS=this.TB=this.eC=null;this.vw=
new Float32Array(24E3);this.TS=new Uint16Array(12E3);this.Mp=new Float32Array(16E3);this.MT=new Float32Array(32E3);this.oT=this.vB=this.we=this.ei=0;this.Jp=this.vp=null;this.Fu=[];this.rc=this.Nm=0;this.Td=null;this.yc=e.m(e.J.LW,this);this.Dv=e.m(e.eb,1,1,1,1);this.Ym=this.Kl=null;this.pI=this.rI=0;this.Oca=new e.Rect;this.kB=-1;this.KI=0;this.qw="(unavailable)";this.fI=!1;this.Uu=this.zu=this.ZI=null;this.JI=0;this.Lca=!!y.ZU;this.Ed=null;this.Bz=new Set;this.pU=[];this.fZ(this.TS)}cl(){return!0}async gy(){super.gy();
var v=this.V;this.Dv.Mn(1,1,1,1);this.Ym=this.Kl=null;this.vB=this.ei=0;this.oT=23988;e.F(this.Fu);this.rc=this.Nm=0;this.Td=this.vp=null;this.Oca.set(0,0,1,1);var y=this.yc;y.gi=null;y.em=null;y.pj=null;a.set(y.kC,1,1,1,1);y.clearColor.Mn(0,0,0,0);y.OK.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.rI=v.ONE;this.pI=v.ONE_MINUS_SRC_ALPHA;this.B8(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.dm?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.pp=this.dm;this.cI=!1;this.uB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.uB);v.bufferData(v.ARRAY_BUFFER,this.MT.byteLength,v.DYNAMIC_DRAW);this.eC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.eC);v.bufferData(v.ARRAY_BUFFER,this.vw.byteLength,v.DYNAMIC_DRAW);this.TB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.TB);v.bufferData(v.ARRAY_BUFFER,this.Mp.byteLength,v.DYNAMIC_DRAW);
this.SS=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.SS);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.TS,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.kB=v.getParameter(v.MAX_TEXTURE_SIZE);this.KI=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.KI&&(this.KI=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.qw=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.ZI=v.getExtension("KHR_parallel_shader_compile");
e.Hw&&(q=v.getExtension("WEBGL_lose_context"));if(this.Lca)if(1===this.rd){if("Chromium"!==e.Rc.ax||81<=e.Rc.SC||"undefined"!==typeof document)this.Ed=v.getExtension("EXT_disjoint_timer_query")}else this.Ed=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.JI=(this.zu=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.zu.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.rd&&this.dm&&this.Lu&&(this.Uu=v.getExtension("WEBGL_depth_texture"),
!this.Uu))throw Error("no depth texture support");v=e.J.Yt;y=v.Dx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Dx(!0),"<tilemap>"]].map(A=>this.dD({src:A[0]},A[1],A[2])));this.NB=v[0];this.Jp=v[1];this.MB=v[2];this.sJ=v[3];this.Zj()}async dD(v,y,A){v=await e.J.Yt.Ra(this,v,y,A);this.b6(v);return v}B3(){this.vp=null}Tc(v,y,A){if(this.X!==v||this.U!==y||A){this.wj();A=this.V;var G=this.yc;this.X=v;this.U=y;this.zR(v,y);this.Yp(this.SG,v/y);this.Bo(this.SG);this.Jp&&(A.useProgram(this.Jp.Rf()),this.Jp.MR(this.jB),this.vp=this.Jp,this.yc.gi=this.Jp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Ym=this.Kl=null;this.dm&&this.aI&&this.lG(this.X,this.U);this.Td&&this.Td.dR(this.X,this.U);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Td=null;G.em=null;G.pj=null}}lG(v,y){const A=this.V;this.Rg&&this.fS===v&&this.eS===y||(this.Lu?(this.Rg&&A.deleteTexture(this.Rg),this.Rg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Rg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.rd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Uu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Uu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Rg&&A.deleteRenderbuffer(this.Rg),this.Rg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Rg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.rd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.fS=v,this.eS=y)}l4(v,y){this.dm&&(this.aI=!1,this.lG(v,y))}W3(){this.dm&&(this.aI=!0,this.lG(this.X,this.U))}zR(v,y){const A=this.pg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Fc().I0(v,y),a.set(A,0,0,v,y),this.rc=0}Bo(v){d.qj(this.jB,v)||(this.Fc().F0(v),d.ta(this.jB,v),this.rc=0,this.Sm=!0)}lO(){let v,y;var A=this.Td;null===A?(v=this.SG,y=this.$(),A=this.ca()):
(v=A.vk,y=A.$(),A=A.ca());this.Bo(v);this.zR(y,A)}Hq(v){d.qj(this.HI,v)||(this.Fc().C0(v),d.ta(this.HI,v),this.rc=0,this.Sm=!0)}z3(){this.Sm=!1}Fc(){const v=this.Fu;this.Nm===v.length&&v.push(new e.J.H5(this.yc));return v[this.Nm++]}wj(){0===this.Nm||this.mo()||(this.Sba(),this.I7(),this.rc=this.vB=this.we=this.ei=this.Nm=0)}Sba(){const v=this.V;0<this.vB&&(v.bindBuffer(v.ARRAY_BUFFER,this.uB),v.bufferSubData(v.ARRAY_BUFFER,0,this.MT.subarray(0,this.vB)));0<this.ei&&(v.bindBuffer(v.ARRAY_BUFFER,this.eC),
v.bufferSubData(v.ARRAY_BUFFER,0,this.vw.subarray(0,this.ei)),v.bindBuffer(v.ARRAY_BUFFER,this.TB),v.bufferSubData(v.ARRAY_BUFFER,0,this.Mp.subarray(0,this.we)))}I7(){const v=this.Fu;for(let y=0,A=this.Nm;y<A;++y)v[y].ua()}fe(){return this.Dv.Za}kf(v,y,A,G){const z=this.Dv;z.nC(v,y,A,G)||(z.Mn(v,y,A,G),this.Fc().VD(z),this.rc=0,this.Ui=null)}Ei(v){const y=this.Dv;y.Za!==v&&(y.Ds(v),this.Fc().VD(y),this.rc=0,this.Ui=null)}Fm(v){const y=this.Dv;y.sd(v)||(y.set(v),this.Fc().VD(y),this.rc=0,this.Ui=null)}Ft(){this.kf(1,
1,1,1)}Yf(v){v!==this.Kl&&(this.Fc().H0(v),this.Kl=v,this.rc=0)}dG(){this.Kl=null}Wf(v){v=this.a8(v);this.kG(v[0],v[1])}kG(v,y){if(v!==this.rI||y!==this.pI)this.Fc().z0(v,y),this.rI=v,this.pI=y,this.rc=0,this.Ui=null}eO(){this.kG(this.V.ONE,this.V.ONE_MINUS_SRC_ALPHA)}LE(){this.kG(this.V.ONE,this.V.ZERO)}Rect(v){this.MN(v.aa,v.W,v.na,v.fa)}MN(v,y,A,G){this.e3(v,y,A,y,A,G,v,G)}du(){let v=this.ei;v>=this.oT&&(this.wj(),v=0);1===this.rc?this.Fu[this.Nm-1].Dl+=6:(this.Fc().y0(v),this.rc=1)}xG(v){v.yfa(this.vw,
this.ei,this.Du+this.Tu);this.ei+=12}Bd(v){this.du();this.xG(v);m.jh(this.Mp,this.we);this.we+=8}e3(v,y,A,G,z,F,H,J){this.du();const M=this.vw;let P=this.ei;const R=this.Du+this.Tu;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.ei=P;m.jh(this.Mp,this.we);this.we+=8}yq(v,y){this.du();this.xG(v);y.xfa(this.Mp,this.we);this.we+=8}f3(v,y){this.du();this.xG(v);y.jh(this.Mp,this.we);this.we+=8}xy(v,y,A,G,z,F,H,J,M,P,R,T,Z){this.du();const X=
this.vw;let ba=this.ei;const Y=this.Du+this.Tu;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.ei=ba;Z.jh(this.Mp,this.we);this.we+=8}mZ(v,y){d.ta(g,this.jB);d.ta(k,this.HI);this.lO();const [A,G]=this.Vx(this.Td);var z=this.Ks(0,0,100*self.devicePixelRatio,0,0,G);this.Hq(z);if("crop"===v&&this.Td&&y){v=this.X/2;z=this.U/2;const J=y.$();y=y.ca();var F=this.Td.$(),H=this.Td.ca();F=Math.min(F,J);const M=Math.min(H,y),
P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.tj(p);p.set(0,P,F,M+P);p.fm(J,y);this.yq(n,p)}else v=A/2,z=G/2,this.MN(-v,z,v,-z);this.Bo(g);this.Hq(k)}Lq(v){this.vp!==v&&(this.Fc().D0(v),this.vp=v,this.rc=0,this.Ui=null)}GO(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.vp;var X=Z.HS;const ba=!!T.length;if(X&&!Z.AW(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.zW(T)){var Y=this.Fc();Y.E0();X&&(Z.x4(y,A,G,z,F,H,J,M,P,R),X=Y.zf,X[0]=F,X[1]=H,y.jh(X,2),X[6]=M,X[7]=P,A.jh(X,12),y=Y.Xo,z.jh(y,0),z=y[1],y[1]=y[3],
y[3]=z,G.jh(Y.jU,0),Y.ve=R,Y.Dl=J,Y.Ve=Z.ms.Y?v?v.he():null:null);ba&&(Z.c4(T),e.Oc(Y.GB,T));this.rc=0}}Sn(){this.Fc().p0();this.rc=0}xd(v){this.Fc().o0(v);this.rc=0}Oq(){}Qs(){super.Qs();this.V.flush()}eX(){this.dm&&this.Td&&this.Td.Xc&&(this.Fc().n0(this.pp),this.rc=0)}Fg(v){v=!!v;this.pp!==v&&this.dm&&(this.pp=v,this.Fc().A0(v),this.rc=0)}Kt(v){v=!!v;if(this.Lu&&this.cI!==v){if(v&&this.pp)throw Error("depth still enabled");this.cI=v;this.Fc().B0(v);this.rc=0}}cX(){for(const v of this.Bz)v.dX(this.Oh)}mo(){return!this.V||
this.V.isContextLost()||this.fI}dl(){super.g2();e.J.Uy.dl();e.J.eP.dl();e.J.zE.dl();for(const v of this.Bz)v.xd();this.Uu=this.zu=this.ZI=this.Ed=null;this.JI=0;this.qw="(unavailable)";this.Rg=this.Jp=this.vp=null;for(const v of this.ew.values())v.dl()}async rE(){this.fI=!0;await this.gy();this.fI=!1;for(const v of this.ew.values())v.rE(this);this.Tc(this.X,this.U,!0)}lx(v,y){if(this.mo())throw Error("context lost");this.wj();const A=e.m(e.J.Uy,this);A.J6(v,y);return A}mx(v,y){if(this.mo())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.HC&&"clamp-to-edge"!==y.HC||y.IC&&"clamp-to-edge"!==y.IC;if(!e.ic.ImageBitmapOptions||!this.Fo()&&A)return e.ic.ImageBitmap?createImageBitmap(v).then(G=>e.Mk(()=>this.lx(G,y))):v instanceof Blob?e.QW(v).then(G=>this.mx(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>e.Mk(()=>this.lx(v,y))):e.Mk(()=>this.lx(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>
e.Mk(()=>this.lx(G,y)))}DL(v,y,A){this.wj();const G=e.m(e.J.Uy,this);G.w6(v,y,A);return G}A5(v,y){this.wj();y.HR(v,void 0)}vj(v){v&&(v.h5(),0<v.Lc||(this.wj(),v===this.Kl&&(this.V.bindTexture(this.V.TEXTURE_2D,null),this.Kl=null),v===this.Ym&&(this.V.activeTexture(this.V.TEXTURE1),this.V.bindTexture(this.V.TEXTURE_2D,null),this.V.activeTexture(this.V.TEXTURE0),this.Ym=null),v.AF()))}DX(v){let y=this.X,A=this.U,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.wj();const z=e.m(e.J.eP,this);z.v6(y,A,Object.assign({fV:G},v));this.Td=null;this.yc.em=null;this.yc.pj=null;return z}Gg(v,y=!0){v!==this.Td&&(v&&v.FA&&v.dR(this.X,this.U),this.Fc().G0(v),this.Td=v,this.rc=0,y&&this.lO())}Wk(){return this.Td}Vx(v){return v?[v.$(),v.ca()]:[this.X,this.U]}AL(v){2>this.rd||this.Td&&0<this.Td.Nl?(this.LE(),this.Ft(),this.vx(v,"stretch")):(this.Fc().l0(v,this.Td),this.rc=0)}vx(v,y="stretch"){v=v.he();if(!v)throw Error("not a texture-backed render target");
this.Yf(v);this.mZ(y,v)}nq(v){2>this.rd||(this.Fc().u0(v.Tg),this.rc=0)}PX(v){this.Gg(null);this.wj();const y=v.he();y===this.Kl&&(this.V.bindTexture(this.V.TEXTURE_2D,null),this.Kl=null);y===this.Ym&&(this.V.activeTexture(this.V.TEXTURE1),this.V.bindTexture(this.V.TEXTURE_2D,null),this.V.activeTexture(this.V.TEXTURE0),this.Ym=null);v.AF()}zL(){this.Fg(!0);this.Fc().s0();this.rc=0}yL(){this.Fg(!1);this.Fc().r0();this.rc=0}xL(){this.Fg(!0);this.Fc().q0();this.rc=0}eF(v){this.$j()&&(this.Fc().K0(v),
this.rc=0)}iD(v){this.$j()&&(this.Fc().t0(v),this.rc=0)}Oba(v){const y=new Promise(A=>u.add({resolve:A,Ida:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}Z0(){return!!this.SR.desynchronized}EZ(){let v=0;for(const y of e.J.Uy.zda())v+=y.wD();return v}Fo(){return 2<=this.rd}$j(){return!!this.Ed}a6(v){this.Bz.add(v)}K$(v){this.Bz.delete(v)}B8(v){this.A8([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const e={aV:null,bV:null,zV:null,getTime:null,yV:null};self.D.J.VY=class{constructor(b){b=Object.assign({},e,b);this.ZR=b.aV;this.mca=b.bV;this.pca=b.zV;this.nca=b.getTime;this.oca=b.yV}eM(b){return this.ZR?this.ZR(b):[b.$(),b.ca()]}Wk(b){return this.mca(b)}m3(b,a){this.pca(b,a)}Ea(){return this.nca()}zy(b){this.oca(b)}}}
{"use strict";const e=self.D,b=self.rj.hm,a=e.m(e.Rect),d=e.m(e.Rect),c=e.m(e.Rect),h=e.m(e.Rect),m=b.create(),g=b.create(),k={mC:null,cV:null,rC:null,zK:!1},n={us:null,pC:!1,qK:!1,AK:!1,jV:!1,hV:!1,EC:!1},p={iC:null,xpa:null,Fn:0,devicePixelRatio:1,Iw:1,uC:0,zs:null,Dw:null,YU:null,SU:0,TU:0,TV:!1};e.J.Be=class{constructor(q,u){u=Object.assign({},k,u);this.Xg=q;this.cH=u.mC;this.Nu=u.cV;this.$R=u.rC;this.Qz=null;this.HB=[];this.Yv=[];this.Lp=[];this.Pg=0;this.ns=this.Mu=this.gS=this.Sm=this.DA=this.$H=
!1;this.zp=0;this.Tl=[null,null,null];this.YS=!!u.zK;this.Yc=this.od=this.Ju=this.Iu=0;this.Rm=null;this.Ev=e.m(e.Rect);this.zl=e.m(e.Rect);this.Sl=e.m(e.Rect);this.Tr=e.m(e.Rect);this.jn=e.m(e.Rect);this.wI=this.pr=1;this.ec=this.vI=0;this.aA=null;this.iH=this.hH=0;this.RJ=!1;this.vk=b.create();this.Mv=b.create()}B(){e.F(this.Lp);e.F(this.HB);e.F(this.Yv);this.$R=this.Nu=this.cH=this.Rm=null}TC(q,u){u=Object.assign({},n,u);e.F(this.Lp);this.Ju=this.Iu=0;this.DA=this.$H=!1;this.zp=0;this.ns=!!u.EC;
e.Oc(this.HB,q);if(0!==q.length){if(u.us){if(u.us.length!==q.length)throw Error("incorrect indexMap length");e.Oc(this.Yv,u.us)}else{e.F(this.Yv);for(let v=0,y=q.length;v<y;++v)this.Yv.push(v)}for(var w of q)this.Iu+=w.qS,this.Ju+=w.rS,w.Yba&&(this.$H=!0),w.aC&&(this.DA=!0);!(w=1!==q.length||q[0].YG||q[0].dS)&&(w=!u.EC)&&(w=q[0],w=0!==w.qS||0!==w.rS);if(w||u.pC||q[0].uq()||u.qK||u.AK||!this.ns&&q[0].aC){this.Mu=!1;w=this.nba(q[0],u);u=this.mba(q.de(-1),u);var r=0;w&&(this.zp=1,this.Lp.push(e.m(e.J.Be.Ah.V2,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.zp=Math.max(this.zp,q),this.Lp.push(e.m(e.J.Be.Ah.RW,this,r,q,v)),r=q):(this.zp=1,this.Lp.push(e.m(e.J.Be.Ah.jZ,this,-1,1,v)),r=1);u&&this.Lp.push(e.m(e.J.Be.Ah.S2,this,r,0))}else this.Mu=!0}}nba(q,u){return u.pC||u.AK||!this.ns&&q.aC||q.uq()||q.YG&&(u.hV||q.sb().cl()&&u.jV)||0!==this.Iu||0!==this.Ju}mba(q,u){return u.qK||q.YG||q.dS}yo(q,u,w){w=Object.assign({},p,w);this.aA=u;this.Rm=w.iC;this.Pg=w.Fn;this.pr=
w.devicePixelRatio;this.wI=w.Iw;this.vI=w.uC;this.ec=this.Xg.Ea();this.Sm=!1;q.z3();this.$H&&this.v$();if(this.Mu)this.N$(q,w);else{var [r,v]=this.Xg.eM(q);this.Iaa(q,r,v);this.o6(w);q.Ft();q.Dq(0);q.Jt(0);this.Qz=w.YU;this.hH=w.SU||0;this.iH=w.TU||0;this.RJ=!!w.TV;this.L9(q);this.Tl[0]=u;this.Tl[1]=1<=this.zp?this.gQ():null;this.Tl[2]=2===this.zp?this.gQ():null;for(const y of this.Lp)y.Gt(q,this.hQ(y.nda),this.hQ(y.hS));this.Tl[1]&&this.ZQ(this.Tl[1]);this.Tl[2]&&this.ZQ(this.Tl[2]);this.Tl.fill(null);
this.I9(q);this.Qz=this.Rm=this.aA=null}}Iaa(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.od===u&&this.Yc===w||this.qP(q,u,w,0,0,this.vk,this.Mv);this.od=u;this.Yc=w}qP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.Yp(y,u/w);q=q.Ks(r,v,100*self.devicePixelRatio,r,v,w);b.ta(A,q)}o6(q){this.Ev.ta(q.zs);q.Dw?this.zl.ta(q.Dw):this.zl.set(0,0,this.od,this.Yc);this.Sl.ta(this.zl);this.Sl.fm(this.od,this.Yc);q=q.Iw*q.devicePixelRatio;this.zl.wK(this.Iu*q,this.Ju*q);this.jn.ta(this.zl);this.jn.fm(this.od,
this.Yc);this.zl.ja(0,0,this.od,this.Yc);this.Tr.ta(this.zl);this.Tr.fm(this.od,this.Yc)}L9(q){this.gS=q.pp;this.ns&&(q.Fg(!1),this.DA&&q.Kt(!0))}H9(q){q.Ft();this.ns||(q.Fg(!1),this.DA&&q.Kt(!0))}I9(q){q.Kt(!1);q.Fg(this.gS);this.Sm=q.Sm}tP(){this.jn.ja(0,0,1,1)}hQ(q){return 0>q?null:this.Tl[q]}gQ(){return this.Xg.Wk(this)}ZQ(q){this.Xg.m3(q,this)}p8(q){return this.HB[q]}DF(q){this.Qz?this.Qz(this,q,()=>this.cH(q,this)):this.cH(q,this);this.Mu||this.H9(q)}S8(q){if(this.ns)return!0;if(0!==this.hH||
0!==this.iH)return!1;const [u,w]=q.Vx(q.Wk());return u!==this.od||w!==this.Yc?!1:!0}qR(q,u){let w=this.vk,r=this.Mv;if(u&&!this.S8(q)){w=m;r=g;const [v,y]=q.Vx(q.Wk());this.qP(q,v,y,this.hH,this.iH,w,r)}q.Bo(w);q.Hq(r)}v$(){this.Xg.zy(this)}mQ(q){return this.$R(this.Yv[q])}cba(q,u){let w=this.jn,r=this.Tr,v=this.Sl;q.cl()&&(d.ta(w),d.Jn(),w=d,c.ta(r),c.Jn(),r=c,h.ta(v),h.Jn(),v=h);this.HP(q,u,r,v,w,1/this.od,1/this.Yc)}Jaa(q,u){let w=this.Tr,r=this.Sl,v=1/this.od,y=1/this.Yc;if(this.Nu){let {LV:G,
MV:z,KV:F}=this.Nu(this.Rm);G||(a.set(0,0,0,0),G=a);z||(z=this.od);F||(F=this.Yc);r=w=G;v=1/z;y=1/F}else q.cl()&&(c.ta(w),c.Jn(),w=c,h.ta(r),h.Jn(),r=h);let A=this.jn;q.cl()&&(A=d,A.ta(this.jn),A.Jn());this.HP(q,u,w,r,A,v,y)}HP(q,u,w,r,v,y,A){u=this.mQ(u);q.GO(this.aA,v,w,r,this.Ev,y,A,this.pr,this.wI,this.vI,this.ec,u)}N$(q,u){var w=this.HB[0];const r=q.pp,v=w.aC;v&&(q.Fg(!1),q.Kt(!0),this.jn.set(0,0,1,1),this.Sl.set(0,0,1,1));q.Lq(w);q.Wf(this.Pg);q.Gg(this.aA);let y;this.Sl.set(0,0,1,1);if(w.yU&&
this.Nu){const {LV:A,MV:G,KV:z}=this.Nu(this.Rm);A&&this.Sl.ta(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Xg.eM(q);w=1/A;y=1/G}u.zs?this.Ev.ta(u.zs):this.Ev.set(0,0,0,0);u=this.mQ(0);q.GO(null,this.jn,this.Sl,this.Sl,this.Ev,w,y,this.pr,this.wI,this.vI,this.ec,u);q.Dq(0);this.DF(q);v&&(q.Kt(!1),q.Fg(r))}}}"use strict";self.D.J.Be.Ah=class{constructor(e,b,a,d=-1){this.Kh=e;this.nda=b;this.hS=a;this.Qa=d}pi(){return this.Kh}Ka(){return this.Qa}Rf(){return this.pi().p8(this.Ka())}Gt(){}};
{"use strict";const e=self.D;e.J.Be.Ah.V2=class extends e.J.Be.Ah{constructor(b,a,d,c){super(b,a,d,c)}Gt(b,a,d){a=this.pi();b.eO();b.Zj();b.Gg(d,a.RJ);b.Sn();a.DF(b);a.tP()}}}{"use strict";const e=self.D,b=e.m(e.Rect),a=e.m(e.Bd);e.J.Be.Ah.S2=class extends e.J.Be.Ah{constructor(d,c,h,m){super(d,c,h,m)}Gt(d,c,h){const m=this.pi();d.Zj();d.Gg(h);m.qR(d,!0);d.Wf(m.Pg);d.Yf(c.he());a.tj(m.zl);b.ta(m.Tr);b.Jn();d.yq(a,b);m.YS&&d.nq(c)}}}
{"use strict";const e=self.D;e.J.Be.Ah.jZ=class extends e.J.Be.Ah{constructor(b,a,d,c){super(b,a,d,c)}Gt(b,a,d){a=this.pi();b.Gg(d,a.RJ);b.Sn();b.LE();b.Lq(this.Rf());a.Jaa(b,this.Ka());a.DF(b);a.tP()}}}
{"use strict";const e=self.D,b=e.m(e.Rect),a=e.m(e.Bd);e.J.Be.Ah.RW=class extends e.J.Be.Ah{constructor(d,c,h,m){super(d,c,h,m)}Gt(d,c,h){const m=this.pi();d.Gg(h);(h=0===this.hS)?d.Wf(m.Pg):(d.Sn(),d.LE());d.Lq(this.Rf());m.cba(d,this.Ka());d.Yf(c.he());m.qR(d,h);a.tj(m.zl);b.ta(m.Tr);b.Jn();d.yq(a,b);m.YS&&d.nq(c)}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.a0=class{constructor(d){e=d;Object.defineProperties(this,{hea:{value:{},writable:!1},storage:{value:new self.d0(e),writable:!1},zqa:{value:e.oe,writable:!1}});e.ae.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.ae.addEventListener("keyup",c=>b.delete(c.key));e.Yb().addEventListener("window-blur",()=>b.clear());e.oe&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}D8(d){Object.defineProperties(this.hea,d)}addEventListener(d,c){e.ae.addEventListener(d,c)}removeEventListener(d,c){e.ae.removeEventListener(d,c)}get pK(){return e.Fx()}random(){return e.fl()}get vC(){return e.Sb().jv}get keyboard(){const d=e.Vz.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get oV(){const d=e.Vz.oV;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get aL(){const d=e.Vz.aL;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.so("runtime","alert",{message:d+(e.oe?" [via Web Worker]":"")})}}}"use strict";self.X_=class{constructor(){}};{"use strict";const e=self.kh;self.d0=class{constructor(b){this.fw=b.m8()}getItem(b){e.Gd(b);return this.fw.getItem(b)}setItem(b,a){e.Gd(b);return this.fw.setItem(b,a)}removeItem(b){e.Gd(b);return this.fw.removeItem(b)}clear(){return this.fw.clear()}keys(){return this.fw.keys()}}}
{"use strict";const e=self.kh,b=new WeakMap;self.OM=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Aa(),writable:!1}});a.I().DQ(this,a)}addEventListener(a,d){e.Gd(a);e.Vj(d);b.get(this).ae.addEventListener(a,d)}removeEventListener(a,d){e.Gd(a);e.Vj(d);b.get(this).ae.removeEventListener(a,d)}*eV(){for(const a of b.get(this).pa())yield a.rh()}kK(a){e.Vf(void 0);e.Vf(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.I();a=c.Sb().ea(a);if(!a)throw Error("invalid layer");d=c.bD(d,a,void 0,void 0,void 0);c=c.oa();c.xe(!0);d.wz();c.xe(!1);return d.rh()}}}
{"use strict";const e=self.kh,b=new WeakMap;self.$_=class{constructor(a){b.set(this,a);const d=[],c=a.Pa,h=c.xg().length;for(let m=0;m<h;++m)d.push(new self.TD(c,m));Object.defineProperties(this,{name:{value:a.Aa(),writable:!1},index:{value:a.Ka(),writable:!1}})}addEventListener(a,d){e.Gd(a);e.Vj(d);b.get(this).ae.addEventListener(a,d)}removeEventListener(a,d){e.Gd(a);e.Vj(d);b.get(this).ae.removeEventListener(a,d)}get width(){return b.get(this).$()}set width(a){b.get(this).lf(a)}get height(){return b.get(this).ca()}set height(a){b.get(this).Xf(a)}set scale(a){e.Uj(a);
b.get(this).RE(a)}get scale(){return b.get(this).wd}set angle(a){e.Uj(a);b.get(this).ld(a)}get angle(){return b.get(this).Ia()}set scrollX(a){e.Vf(a);b.get(this).Fi(a)}get scrollX(){return b.get(this).Pf()}set scrollY(a){e.Vf(a);b.get(this).Gi(a)}get scrollY(){return b.get(this).Qf()}scrollTo(a,d){e.Vf(a);e.Vf(d);const c=b.get(this);c.Fi(a);c.Gi(d)}set vV(a){e.Gd(a);const d=b.get(this);if("perspective"===a)d.FO();else if("orthographic"===a)d.CO();else throw Error("invalid projection");}get vV(){return b.get(this).uf?
"orthographic":"perspective"}}}
{"use strict";const e=self.D,b=self.kh,a=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),h=e.m(e.eb);self.Z_=class{constructor(m){a.set(this,m);const g=[],k=m.Pa,n=k.xg().length;for(let p=0;p<n;++p)g.push(new self.TD(k,p));Object.defineProperties(this,{name:{value:m.Aa(),writable:!1},index:{value:m.Ka(),
writable:!1},vC:{value:m.hc().jv,writable:!1}})}get isVisible(){return a.get(this).Qc()}set isVisible(m){a.get(this).Hg(m)}get opacity(){return a.get(this).fe()}set opacity(m){m=e.ja(+m,0,1);isNaN(m)||a.get(this).Ei(m)}set scale(m){b.Uj(m);a.get(this).DO(m)}get scale(){return a.get(this).wd}set angle(m){b.Uj(m);a.get(this).ld(m)}get angle(){return a.get(this).le}set Vw(m){b.Uj(m);a.get(this).Je(m)}get Vw(){return a.get(this).fb()}set Fn(m){b.Gd(m);m=d.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
a.get(this).Wf(m)}get Fn(){return c.get(a.get(this).xj())}set backgroundColor(m){b.CE(m);if(3>m.length)throw Error("expected 3 elements");h.Fs(m[0],m[1],m[2]);m=a.get(this);const g=m.tl;g.gm(h)||(g.oj(h),m.I().da())}get backgroundColor(){const m=a.get(this).tl;return[m.Va,m.ab,m.$a]}set scrollX(m){b.Vf(m);const g=a.get(this);g.Pt(!0);g.Fi(m)}get scrollX(){return a.get(this).Pf()}set scrollY(m){b.Vf(m);const g=a.get(this);g.Pt(!0);g.Gi(m)}get scrollY(){return a.get(this).Qf()}scrollTo(m,g){b.Vf(m);
b.Vf(g);const k=a.get(this);k.Pt(!0);k.Fi(m);k.Gi(g)}}}
{"use strict";const e=self.D,b=self.kh,a=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.m(e.Event.Yb);d.set(m,g);return g}let h=null;self.qt=class{constructor(){a.set(this,h);const m={If:{value:h.I().aj,writable:!1},JK:{value:h.H().kv,writable:!1},uid:{value:h.dd,writable:!1}};h.e8(m);h.Z7(m);Object.defineProperties(this,m);h.I().DQ(this,h)}static Mg(m){h=m}static Sq(){return h}qu(){const m=d.get(this);m&&(m.B(),d.delete(this));a.delete(this)}addEventListener(m,g,k){b.Gd(m);
b.Vj(g);c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){b.Gd(m);b.Vj(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.D,b=self.kh,a=self.qt,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),h=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.m(e.eb);self.ey=class m extends a{constructor(){super();var g=a.Sq();d.set(this,g);const k=[];var n=g.A();if(g=n.fg){n=n.H().Pa.xg().length;for(let p=0;p<n;++p)k.push(new self.TD(g,p))}}get vC(){return d.get(this).A().hc().jv}get mV(){return d.get(this).A().ea().Bca}get x(){return d.get(this).A().ga()}set x(g){g=
+g;const k=d.get(this).A();isNaN(g)||k.ga()===g||(k.Zf(g),k.Ya())}get y(){return d.get(this).A().ia()}set y(g){g=+g;const k=d.get(this).A();isNaN(g)||k.ia()===g||(k.Ig(g),k.Ya())}get Vw(){return d.get(this).A().fb()}set Vw(g){g=+g;const k=d.get(this),n=k.A();isNaN(g)||n.fb()===g||(n.Je(g),k.I().da())}get width(){return d.get(this).A().$()}set width(g){g=+g;const k=d.get(this).A();isNaN(g)||k.$()===g||(k.lf(g),k.Ya())}get height(){return d.get(this).A().ca()}set height(g){g=+g;const k=d.get(this).A();
isNaN(g)||k.ca()===g||(k.Xf(g),k.Ya())}get angle(){return d.get(this).A().Ia()}set angle(g){g=e.ee(+g);const k=d.get(this).A();isNaN(g)||k.Ia()===g||(k.ld(g),k.Ya())}uK(){d.get(this).A().hd().mfa()}get isVisible(){return d.get(this).A().Qc()}set isVisible(g){g=!!g;const k=d.get(this),n=k.A();n.Qc()!==g&&(n.Hg(g),k.I().da())}get opacity(){return d.get(this).A().fe()}set opacity(g){g=e.ja(+g,0,1);const k=d.get(this),n=k.A();isNaN(g)||n.fe()===g||(n.Ei(g),k.I().da())}set Fn(g){b.Gd(g);g=c.get(g);if("number"!==
typeof g)throw Error("invalid blend mode");const k=d.get(this);k.A().Wf(g);k.I().da()}get Fn(){return h.get(d.get(this).A().xj())}get zIndex(){return d.get(this).A().Nj()}Ff(g,k){b.Vf(g);b.Vf(k);return d.get(this).A().Ls(+g,+k)}getParent(){const g=d.get(this).Ga();return g?g.rh():null}*Nw(){for(const g of d.get(this).Nw())yield g.rh()}*children(){for(const g of d.get(this).children())yield g.rh()}*Ik(){for(const g of d.get(this).Ik())yield g.rh()}removeChild(g){b.DE(g,m);const k=d.get(this);g=d.get(g);
k.Tj(g)}}}{"use strict";const e=new WeakMap;self.kia=class extends self.ey{constructor(){super();e.set(this,self.qt.Sq())}focus(){e.get(this).qa.WL()}blur(){e.get(this).qa.lL()}}}
{"use strict";const e=self.D,b=self.kh,a=new WeakMap,d=new WeakMap;function c(m){let g=d.get(m);if(g)return g;g=e.m(e.Event.Yb);d.set(m,g);return g}let h=null;self.NM=class{constructor(){a.set(this,h);const m={If:{value:h.I().aj,writable:!1},behavior:{value:h.om().TZ(),writable:!1}};Object.defineProperties(this,m)}static Mg(m){h=m}static Sq(){return h}get instance(){return a.get(this).la.rh()}qu(){const m=d.get(this);m&&(m.B(),d.delete(this));a.delete(this)}addEventListener(m,g,k){b.Gd(m);b.Vj(g);
c(this).addEventListener(m,g,k)}removeEventListener(m,g,k){b.Gd(m);b.Vj(g);c(this).removeEventListener(m,g,k)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.Y_=class{constructor(b){e.set(this,b);Object.defineProperties(this,{If:{value:b.I().aj,writable:!1}})}}}
{"use strict";const e=self.D,b=self.kh,a=new WeakMap;self.TD=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).xg()[this.index].Aa()}getParameter(d){b.Uj(d);d=Math.floor(+d);const c=a.get(this).Qk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.eb?[d.Va,d.ab,d.$a]:d}}}
{"use strict";const e=self.D,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.FW=class extends e.ka{constructor(d,c){super();var h=c.exportType;this.g=d;this.fB=new Map;this.Mr=new Map;this.Tca=new Map;this.EA="cordova"===h;this.gT=!!c.isiOSCordova;this.sv=!!c.isFileProtocol;this.pda=c.supportedAudioFormats||{};this.Zba=
new Map;this.NS=this.vS="";this.Zz="html5"===h||"scirra-arcade"===h||"instant-games"===h?"remote":"local";this.GG=[];this.QG=new Map;this.XJ=[];this.dB=[];this.IS=!1;this.YA=this.PG=this.ow=0;this.MH=!1;this.Sca=e.m(e.i3,()=>this.SP(),50);this.gJ=new e.HN(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(h=c.previewProjectFileBlobs)&&Object.assign(d,h);(h=c.projectData)&&(d["data.json"]=h);for(const [m,g]of Object.entries(d))this.fB.set(m.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [m,
g]of Object.entries(c))this.Tca.set(m,g);new self.X_(this)}B(){this.fB.clear();for(const d of this.Mr.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.Mr.clear();for(const d of this.GG)d.B();e.F(this.GG);this.QG.clear();e.F(this.dB);this.g=null}I(){return this.g}Naa(d){this.vS=d}Saa(d){this.NS=d}OF(d){return this.fB.has(d.toLowerCase())}cz(d){return this.fB.get(d.toLowerCase())||null}qM(d){if(!this.OF(d))return d;d=d.toLowerCase();var c=this.Mr.get(d);c||(c=this.cz(d),c=URL.createObjectURL(c),
this.Mr.set(d,c));return c}Pk(d,c){c=c||this.Zz;const h=this.cz(d);if(h)return Promise.resolve(h);if(e.lE(d)){const m=d.toLowerCase();return this.EA&&this.sv?this.CL(m):"local"===c?this.gJ.Pc(()=>e.Pk(m)):e.Pk(m)}return e.Pk(d)}Os(d){const c=this.cz(d);if(c)return e.PW(c);if(e.lE(d)){const h=d.toLowerCase();return this.EA&&this.sv?this.BL(h):"local"===this.Zz?this.gJ.Pc(()=>e.Os(h)):e.Os(h)}return e.Os(d)}Ps(d){const c=this.cz(d);if(c)return e.kL(c);if(e.lE(d)){const h=d.toLowerCase();return this.EA&&
this.sv?this.xX(h):"local"===this.Zz?this.gJ.Pc(()=>e.Ps(h)):e.Ps(h)}return e.Ps(d)}async UL(d){d=await this.Ps(d);return JSON.parse(d)}rF(d,c){return this.g.so("runtime","cordova-fetch-local-file",{filename:d,as:c})}xX(d){return this.rF(d,"text")}async CL(d){const c=await this.rF(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.de(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async wX(d){d=d.toLowerCase();var c=this.Mr.get(d);if(c)return c;c=await this.CL(d);c=URL.createObjectURL(c);
this.Mr.set(d,c);return c}BL(d){return this.rF(d,"buffer")}GD(d,c=""){if(e.YD(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.OF(d)?Promise.resolve(this.qM(d)):this.EA&&this.sv?this.wX(c+d):Promise.resolve(c+d.toLowerCase())}ty(d){if(d.Kw&&!b.has(d.Kw))throw Error("invalid load policy");let c=this.QG.get(d.url);if(c)return c;c=e.m(e.PM,this,{url:d.url,size:d.size||0,Kw:d.Kw||this.Zz});this.GG.push(c);this.QG.set(c.Ak,c);this.IS||(this.ow+=c.um(),
this.dB.push(c.iN().then(()=>this.jP(c.um()))));return c}async bP(){try{await Promise.all(this.dB),this.YA=1}catch(d){console.error("Error loading: ",d),this.MH=!0,this.SP()}}r4(){this.IS=!0}jP(d){this.PG+=d;this.Sca.YW()}SP(){const d=e.m(e.Event,"loadingprogress");this.YA=e.ja(this.PG/this.ow,0,1);d.progress=this.YA;this.g.Yb().dispatchEvent(d)}jba(d){e.Oc(this.XJ,d);this.XJ.length&&this.dB.push(this.s9())}s9(){if("undefined"===typeof FontFace)return Promise.resolve();const d=[];for(const [c,h,m]of this.XJ)this.ow+=
m,d.push(this.r9(c,h).then(()=>this.jP(m)));return Promise.all(d)}async r9(d,c){try{const h=await this.GD(c,this.vS),m=new FontFace(d,`url('${h}')`);this.g.oe?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(h){console.warn(`[C3 runtime] Failed to load web font '${d}': `,h)}}T0(){return!!this.pda["audio/webm; codecs=opus"]}zaa(d){for(const [c,h,m]of d)this.Zba.set(c,{fileName:c,Upa:h.map(g=>({type:g[0],Rpa:g[1],gqa:c+g[1],fileSize:g[2]})),Aqa:m})}async mN(d){d=await this.GD(d);return await this.g.so("runtime",
"add-stylesheet",{url:d})}}}
{"use strict";const e=self.D;e.EW=class extends e.ka{constructor(b,a){super();this.md=b;this.g=b.I();this.Ak=a.url;this.Xr=a.size;this.CI=a.Kw;this.Hu=null;this.iI=!1;this.$m=null}B(){this.Hu=this.g=this.md=this.$m=null}um(){return this.Xr}iN(){return"local"===this.CI||this.Hu?(this.iI=!0,Promise.resolve()):this.$m?this.$m:this.$m=this.md.Pk(this.Ak,this.CI).then(b=>{this.iI=!0;this.$m=null;return this.Hu=b}).catch(b=>console.error("Error loading resource: ",b))}iE(){return this.iI}uZ(){return this.Hu?Promise.resolve(this.Hu):
this.$m?this.$m:this.md.Pk(this.Ak,this.CI)}}}
{"use strict";const e=self.D,b=new e.HN,a=new Set;e.PM=class extends e.EW{constructor(d,c){super(d,c);this.Ck=this.Op=null;this.Lc=0;this.PS=this.RS=-1;a.add(this)}B(){this.Ci();if(0!==this.Lc)throw Error("released image asset which still has texture references");this.Op=null;a.delete(this);super.B()}static wq(){for(const d of a)d.Op=null,d.Ck=null,d.Lc=0}wt(d,c){c=c||{};this.Lc++;if(this.Ck)return Promise.resolve(this.Ck);if(this.Op)return this.Op;c.MU=this.g.R.oU;return this.Op=this.uZ().then(h=>
b.Pc(()=>d.mx(h,c).then(m=>{this.Op=null;if(0===this.Lc)return d.vj(m),null;this.Ck=m;this.RS=m.$();this.PS=m.ca();return this.Ck}))).catch(h=>{console.error("Failed to load texture: ",h);throw h;})}Ci(){if(0>=this.Lc)throw Error("texture released too many times");this.Lc--;0===this.Lc&&this.Ck&&(this.Ck.sb().vj(this.Ck),this.Ck=null)}he(){return this.Ck}$(){return this.RS}ca(){return this.PS}}}
{"use strict";const e=self.D;function b(a,d){return a.A().Hk-d.A().Hk}e.t3=class extends e.ka{constructor(a,d,c){super();this.S=d;this.O=c;this.G=[];this.wv=!0;this.gj=new Set;this.pv=!1}B(){e.F(this.G);this.gj.clear()}kd(){e.F(this.G);this.wv=!0;this.gj.clear();this.pv=!1}a4(){this.wv=!1}oo(){if(!this.G.length)return!0;if(this.G.length>this.gj.size)return!1;this.JF();return!0}WD(a){this.gj.has(a)?(this.gj.delete(a),0===this.gj.size&&(this.pv=!1)):(this.G.push(a),this.wv=1===this.G.length)}xh(a){this.gj.add(a);
this.pv=!0;50<=this.gj.size&&this.JF()}JF(){this.pv&&(this.G.length===this.gj.size?this.kd():(e.sg(this.G,this.gj),this.gj.clear(),this.pv=!1))}H7(){this.wv||(this.G.sort(b),this.wv=!0)}gD(a){this.JF();this.H7();this.G.length&&a.push(this.G)}}}
{"use strict";const e=self.D;e.u3=class extends e.ka{constructor(b,a){super();this.eH=b;this.dH=a;this.Ri=e.m(e.At)}B(){this.Ri.B();this.Ri=null}pm(b,a,d){let c=this.Ri.ba(b,a);return c?c:d?(c=e.m(e.t3,this,b,a),this.Ri.Set(b,a,c),c):null}Ii(b){return Math.floor(b/this.eH)}Ji(b){return Math.floor(b/this.dH)}jl(b,a,d){if(a)for(let c=a.aa,h=a.na;c<=h;++c)for(let m=a.W,g=a.fa;m<=g;++m){if(d&&d.Ff(c,m))continue;const k=this.pm(c,m,!1);k&&(k.xh(b),k.oo()&&this.Ri.Un(c,m))}if(d)for(let c=d.aa,h=d.na;c<=
h;++c)for(let m=d.W,g=d.fa;m<=g;++m)a&&a.Ff(c,m)||this.pm(c,m,!0).WD(b)}yy(b,a){let d=this.Ii(b.aa);const c=this.Ji(b.W),h=this.Ii(b.na);for(b=this.Ji(b.fa);d<=h;++d)for(let m=c;m<=b;++m){const g=this.pm(d,m,!1);g&&g.gD(a)}}H1(b){let a=b.aa;const d=b.W,c=b.na;for(b=b.fa;a<=c;++a)for(let h=d;h<=b;++h){const m=this.pm(a,h,!1);m&&m.a4()}}}}
{"use strict";const e=self.D,b=new e.Rect,a=new e.Bd,d=[];new e.Rect;new e.Rect;const c=self.rj,h=c.FC,m=c.Tw,g=c.hm;g.create();const k=h.create(),n=m.create(),p=h.create(),q=h.create(),u=h.create(),w=e.m(e.Xt);e.m(e.Rect);function r(z,F){return z.A().Hk-F.A().Hk}function v(z,F){return z.A().fb()-F.A().fb()}const y=[],A=[],G=[];e.gN=class extends e.ka{constructor(z,F,H){super();this.Wg=z;this.g=z.I();this.JT=F;this.Ja=H[0];this.Qa=-1;this.mb=H[2];this.zv=!!H[3];this.tl=e.m(e.eb);this.tl.jm(H[4].map(M=>
M/255));this.tk=!!H[5];this.Wd=H[6];this.Xd=H[7];this.kb=e.m(e.eb,1,1,1,H[8]);this.wB=e.m(e.eb);this.dI=H[9];this.ida=H[17];this.uU=H[18];this.vda=H[10];this.jj=H[11];this.Pg=H[12];this.Oe=null;this.wd=1;this.ed=H[16];this.ai=this.$h=this.le=0;this.Cl=!1;this.pg=e.m(e.Rect);this.CU=e.m(e.Rect);this.An=e.m(e.Rect);this.vk=g.create();this.mI=!0;this.Mv=g.create();this.jI=!0;this.BU=e.m(e.J.C5);this.VA=!0;this.lU=[];this.US=H[14];this.qk=[];this.Xz=[];this.VS=new Map;this.G=[];this.To=this.$J=!1;const J=
this.g.R;this.Pa=e.m(e.Nk,this,H[15]);this.Kh=e.m(e.J.Be,J.rH,{mC:(M,P)=>{P=P.Rm;const R=P.Wk();M.Fm(P.FD());M.vx(R);M.nq(R);J.vo(R)},rC:M=>this.Pa.Qk(M)});this.xw=this.Ol=!0;this.Vr=null;this.qI=[];this.OA=!1;this.Pca=e.m(e.Rect,0,0,-1,-1);this.rca=e.m(e.Rect,0,0,-1,-1);this.Bca=new self.Z_(this);this.OR();this.Jo()&&(this.Vr=e.m(e.u3,this.g.Zg,this.g.Yg));this.nn=H[19].map(M=>e.m(e.gN,this.Wg,this,M))}Mg(){for(const z of this.US){const F=this.g.df(z[1]);this.Wg.hP(F);F.nr||F.kO(z);this.qk.push(z);
this.VS.set(z[2],z)}e.Oc(this.lU,this.qk);this.US=null}B(){this.g=this.Wg=null}WZ(z){return this.VS.get(z)}AX(z){const F=this.Wg.rp;let H=0;const J=this.qk;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.df(M[1]);let Z=!0;if(!T.QD()||F)M=this.g.ni(M,this,!0),z.push(M),T.Uf()&&(Z=!1,this.Xz.push(M.dd));Z&&(J[H]=J[P],++H)}e.Ze(J,H);this.g.Qd();this.Jg()}Lg(z,F){const H=z.A();if(H.ea()!==this)throw Error("instance added to wrong layer");this.G.push(z);0!==H.fb()&&(this.To=!0);F&&this.Jo()&&
z.A().Ya();this.Jg()}u9(z){this.G.includes(z)||(this.G.push(z),0!==z.A().fb()&&(this.To=!0),this.Jg())}p$(z){const F=z.A();if(F.ea()!==this)throw Error("instance added to wrong layer");this.G.unshift(z);0!==F.fb()&&(this.To=!0);this.Jg()}Oo(z,F){const H=this.G.indexOf(z);0>H||(F&&this.Jo()&&z.A().aR(),this.G.splice(H,1),this.Jg(),this.IQ())}pR(){this.To=!0}IQ(){0===this.G.length&&(this.To=!1)}rG(z){if(z){z=new Set;for(var F of this.G){var H=F.A().Hk;0<=H&&z.add(H)}F=-1;for(const J of this.G)if(H=
J.A(),!(0<=H.Hk)){for(++F;z.has(F);)++F;H.uz(F)}}this.G.sort(r)}G7(){for(const z of this.G)z.H().Uf()||this.g.Vn(z);this.g.Qd();e.F(this.G);this.To=!1;this.Jg()}Dt(z,F,H,J,M){const P=this.g.oa(),R=this.g.Uc,T=z.bb,Z=[];for(const Y of this.qk){var X=Y[0];if(F.Ff(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.TL(X))continue}else continue;X=this;var ba=this.g.Na();this.hc()!==ba&&((X=ba.oM(this.Aa()))||(X=ba.Lx(this.Ka())));ba=this.g.ni(Y,X,!1,void 0,void 0,!1,M);X.aF(ba);X=ba.A();X.uy(H,J);X.Ya();P.xe(!0);
ba.wz();P.xe(!1);Z.push(ba)}}return Z}hc(){return this.Wg}Aa(){return this.Ja}mG(z){this.Qa=z}Ka(){return this.Qa}I(){return this.g}zj(){return this.g.zj()}pi(){this.mu();return this.Kh}mu(){const z=this.mq();if(this.Ol||z!==this.xw){var F=this.Pa.ag;this.Kh.TC(F.map(H=>H.Rf()),{us:F.map(H=>H.Ka()),pC:!z,EC:!0});this.Ol=!1;this.xw=z}}Bh(){this.Pa.Bh();this.Ol=!0}Jo(){return this.vda&&!this.uU}C4(){this.OA=!1}Qc(){for(const z of this.Zea())if(!z.zv)return!1;return!0}Hg(z){z=!!z;this.zv!==z&&(this.zv=
z,this.g.da())}Pt(z){z=!!z;if(this.Cl!==z){if(this.Cl=z)z=this.hc(),this.$h=z.Pf(),this.ai=z.Qf();this.dk();this.g.da()}}Fi(z){var F=this.hc();const H=F.xM();F=F.yM();z>F&&(z=F);z<H&&(z=H);this.$h!==z&&(this.$h=z,this.Cl&&(this.dk(),this.g.da()))}Gi(z){var F=this.hc();const H=F.zM();F=F.wM();z>F&&(z=F);z<H&&(z=H);this.ai!==z&&(this.ai=z,this.Cl&&(this.dk(),this.g.da()))}Pf(){return this.Cl?this.$h:this.hc().Pf()}Qf(){return this.Cl?this.ai:this.hc().Qf()}NF(){const z=this.hc();return[z.JD(),z.KD()]}IM(z,
F){var H=this.CU;if(0===z)F.ta(H);else{let R=H.Bs(),T=H.Cs();var J=this.YL(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.NF();if(.5!==X||.5!==ba){const Y=this.Ws();var M=this.g,P=100/Y;J=(X-.5)*M.rg/P;M=(ba-.5)*M.qg/P;P=this.Ia();0!==P&&(w.set(J,M),w.rotate(P),J=w.S,M=w.O);z=e.On(Y,0,z);R+=e.gd(J,0,z);T+=e.gd(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}fe(){return this.kb.Za}Ei(z){z=e.ja(z,0,1);this.kb.Za!==z&&(this.kb.Ds(z),this.OR(),this.g.da())}OR(){this.wB.ta(this.kb);this.wB.PK()}FD(){return this.wB}mq(){return this.kb.nC(1,
1,1,1)}D4(z){this.jj!==z&&(this.jj=z,this.dk(),this.g.da())}z4(z,F){if(this.Wd!==z||this.Xd!==F)if(this.Wd=z,this.Xd=F,this.dk(),this.g.da(),1!==this.Wd||1!==this.Xd)for(const H of this.G)H.H().jG(!0)}Je(z){this.ed!==z&&(this.ed=z,this.g.da())}fb(){return this.ed}ld(z){z=e.ee(z);this.le!==z&&(this.le=z,this.dk(),this.g.da())}Ia(){return e.ee(this.Wg.Ia()+this.le)}P_(){return 0<this.G.length}KF(){return this.AE()&&this.uU?(e.Oc(G,this.G),G.sort((z,F)=>this.qba(z,F)),G):this.G}oP(z){e.En(z,this.KF());
for(const F of this.nn)F.Qc()&&0<F.fe()&&F.oP(z)}qba(z,F){var H=this.hc().YR,J=H[0],M=H[1];H=H[2];var P=z.A();const R=F.A();F=P.ga()-J;z=P.ia()-M;P=P.fb()-H;J=R.ga()-J;M=R.ia()-M;H=R.fb()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}O4(z){z=!!z;this.tk!==z&&(this.tk=z,this.g.da())}n4(z){z=!!z;this.dI!==z&&(this.dI=z,this.g.da())}ON(){return!this.I().cm||!this.ida}AE(){return!this.ON()}lq(){return this.AE()&&this.hc().Hca}JE(){if(!this.lq())return!1;for(const z of this.nn)if(!z.JE())return!1;return!0}Wf(z){this.Pg!==
z&&(this.Pg=z,this.g.da())}xj(){return this.Pg}K_(){for(const z of this.nn)if(z.My())return!0;return!1}*DV(){for(const z of this.nn)yield*z.DV();yield this}*Oea(){let z=this.JT;for(;z;)yield z,z=z.JT}*Zea(){yield this;yield*this.Oea()}m1(z){return this===z||this.Wd===z.Wd&&this.Xd===z.Xd&&this.wd===z.wd&&this.jj===z.jj&&this.le===z.le&&this.Pf()===z.Pf()&&this.Qf()===z.Qf()}D$(z){0!==z.size&&0<e.sg(this.G,z)&&(this.IQ(),this.Jg())}Jg(){this.OA=this.$J=!1}wu(){if(!this.$J){this.G.sort(v);if(this.Jo())for(let z=
0,F=this.G.length;z<F;++z){const H=this.G[z].A();H.uz(z);this.Vr.H1(H.Uv)}else for(let z=0,F=this.G.length;z<F;++z)this.G[z].A().uz(z);this.$J=!0}}N1(z,F,H){var J=z.A();F=F.A();if(J.ea()!==this||F.ea()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Nj();F=F.Nj();if(J===F+(H?1:-1))return!1;e.Gda(this.G,J);J<F&&F--;H&&F++;F===this.G.length?this.G.push(z):this.G.splice(F,0,z);this.Jg();return!0}C9(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=
z[J],Z=F[M];T.A().Hk<Z.A().Hk?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}B9(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.C9(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}A9(z){for(;1<z.length;)z=this.B9(z);return z[0]}o8(){this.wu();e.F(d);this.Vr.yy(this.pg,d);return d.length?1===d.length?d[0]:this.A9(d):[]}My(){return this.Qc()&&0<this.fe()&&this.MP()}MP(){if(this.P_()||!this.tk)return!0;for(const z of this.nn)if(z.MP())return!0;
return!1}Wt(){return this.dI||!this.mq()||0!==this.xj()||this.Pa.ot()}KE(){if(this.Wt())return!0;for(const z of this.nn)if(z.KE())return!0;return!1}Wk(){return this.Oe}YL(z){if(this.Wg.uf)return 1;{const F=this.Ws();return F/(F-z)}}Ws(){return 100/this.vi()}dk(){this.VA=this.jI=!0}dz(z){this.jI&&(this.m6(z,this.Mv),this.jI=!1);return this.Mv}X7(){var z=this.g,F=this.hc(),H=z.tm(),J=z.oB,M=z.pB;J=(this.Pf()-J)*this.Wd+J;var P=(this.Qf()-M)*this.Xd+M;z.Hl&&(J=Math.round(J),P=Math.round(P));M=(J+0)*
H;J=(P+0)*H;F=F.uf?100:this.Ws();const [R,T]=this.NF();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.rg*H/Z;z=(T-.5)*z.qg*H/Z;H=this.Ia();0!==H&&(w.set(P,z),w.rotate(H),P=w.S,z=w.O);M+=P;J+=z}return[M,J,F]}m6(z,F){const H=this.g;var J=this.hc();const M=H.tm();if(this.lq()){h.ta(p,J.YR);h.ta(q,J.jca);h.ta(u,J.kca);J=H.oB;const P=H.pB,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.Wd+J;p[1]=(p[1]-P)*this.Xd+P;p[2]*=Math.max(this.Wd,this.Xd);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;h.set(k,M,M,1);h.multiply(p,
p,k);h.multiply(q,q,k)}else{const [P,R,T]=this.X7();h.set(p,P,R,T);h.set(q,P,R,T-100);J=this.Ia();0===J?h.set(u,0,1,0):h.set(u,Math.sin(J),Math.cos(J),0)}z.nL(F,p,q,u,H.R.oi());1!==M&&(h.set(k,M,M,1),g.scale(F,F,k))}dba(){this.VA=this.mI=!0}ez(z){this.mI&&(this.n6(z),this.mI=!1);return this.vk}n6(z){const F=this.g.R,[H,J]=this.NF();this.Wg.uf?z.VW(this.vk,F.Bj(),F.oi()):.5===H&&.5===J?g.ta(this.vk,F.$z):z.Yp(this.vk,F.Bj()/F.oi(),H,J)}rz(z){z.Bo(this.ez(z));let F;F=this.dz(z);z.Hq(F)}W2(z){this.rz(z);
z.Dq(this.fb())}oh(z,F,H){var J=this.g.R;const M=this.Wt();var P=null;let R=null;if(this.g.dE()&&z.cl()){const T=J.pM(this);T&&(R=T.OC(),z.eF(R))}M?(P={sj:this.g.vd},"low"===J.Ph&&(P.width=J.Bj(),P.height=J.oi()),this.Oe=P=this.g.Ts(P),z.Gg(P),this.tk&&z.Sn()):(this.Oe=F,z.Gg(F));this.tk||z.xd(this.tl);this.Wg.KP(z,this.Oe,this.nn,M&&this.tk);this.rz(z);z.Dq(this.fb());z.Fg(this.AE());this.vi()>Number.EPSILON&&(this.wu(),J=this.Jo()&&0===this.fb()&&!this.To,this.lq()?this.w7(z):J?this.x7(z):this.JP(z,
this.KF()));z.Dq(0);z.Jt(0);M&&(z.Fg(!1),this.y7(z,P,F,H));R&&z.iD(R);this.Oe=null}JP(z,F){const H=this.pg,J=this.Oe,M=this.hc().uf,P=this.hc().MM();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.A();ba.Qc()&&ba.aN(H,P,M)&&this.ml(X,ba,z,J)}}w7(z){const F=this.Oe,H=this.Tq(),J=this.KF();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.A();if(!P.Qc()||!P.pq(H)){++T;continue}(!M.zq()||0<P.Xc)&&A.push(M);var R=M.A().gf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.A();if(Y.Qc()&&Y.pq(H)){if(Y.gf()!==R)break;ba.zq()?(0<Y.Xc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].qN()){this.t7(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.A(),P.oz(!0),this.ml(M,P,z,F),P.oz(!1)}else{this.ml(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.A(),R.ea().ml(P,R,z,F))}T=X;e.F(y);e.F(A)}}t7(z,F){const H=this.Oe;z.zL();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.A();M.mz(!0);this.EF(J,M,z)}z.yL();for(let P=0,R=F.length;P<R;++P)J=F[P],
M=J.A(),this.ml(J,M,z,H),M.mz(!1);z.xL()}x7(z){var F=this.Vr;const H=this.rca,J=this.Pca,M=this.pg;H.set(F.Ii(M.aa),F.Ji(M.W),F.Ii(M.na),F.Ji(M.fa));this.OA&&H.sd(J)?F=this.qI:(F=this.o8(),this.OA=!0,J.ta(H));this.JP(z,F);F!==this.qI&&e.Oc(this.qI,F)}ml(z,F,H,J){F.ot()?this.v7(z,F,H,J):this.EF(z,F,H)}EF(z,F,H){F=F.Kp;H.Ui!==F&&F.yW();z.oh(H)}v7(z,F,H,J){this.u7(z,F,H,J)&&this.rz(H)}u7(z,F,H,J){const M=F.fg.pi();M.yo(H,J,{iC:z,Fn:F.xj(),devicePixelRatio:this.g.ct(),Iw:this.g.dt()*this.vi(),uC:this.Ia(),
zs:F.hd(),Dw:M.Mu?null:this.K8(F),YU:null,SU:null,TU:null,TV:null});H.Dq(this.fb());return M.Sm}y7(z,F,H,J){const M=this.g;0===this.Pa.ag.length?(z.Gg(H),z.Zj(),J&&0===this.Pg&&this.mq()?z.AL(F):(z.Wf(this.Pg),z.Fm(this.wB),z.vx(F)),z.nq(F),M.vo(F)):this.pi().yo(z,H,{iC:this,Fn:this.xj(),devicePixelRatio:M.ct(),Iw:M.dt()*this.vi(),uC:this.Ia(),zs:this.pg,Dw:null,zK:!0})}DO(z){this.wd!==z&&(this.wd=z,this.Wg.$w(),this.dk(),this.g.da())}tm(){return this.vi()*this.g.tm()}Aj(){return this.vi()*this.g.Aj()}vi(){return(this.wd*
this.Wg.wd-1)*this.jj+1}kF(){var z=this.g.oB,F=this.g.pB,H=(this.Pf()-z)*this.Wd+z,J=(this.Qf()-F)*this.Xd+F;z=this.vi();F=this.g.rg/z;z=this.g.qg/z;H-=F/2;let M=J-z/2;this.g.Hl&&(H=Math.round(H),M=Math.round(M));J=this.CU;J.set(H,M,H+F,M+z);F=this.Ia();0!==F&&(b.ta(J),b.offset(-J.Bs(),-J.Cs()),a.bfa(b,F),a.uK(b),b.offset(J.Bs(),J.Cs()),J.ta(b));F=this.ed;this.IM(F,this.pg);this.lq()?this.XW(F,this.An):this.An.ta(this.pg)}XW(z,F){var H=this.g.R,J=H.Wc;H=H.Ic;const [M,P]=this.lh(0,0,z),[R,T]=this.lh(J,
0,z),[Z,X]=this.lh(J,H,z),[ba,Y]=this.lh(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}lh(z,F,H=0){return this.q6(z,F,H,this.Aj())}q6(z,F,H,J){const M=this.g;var P=M.sb();const R=this.vi();m.set(n,0,0,M.rg/R,M.qg/R);z/=J;F=n[3]-F/J;J=this.ez(P);P=this.dz(P);return e.J.u5(z,F,H,P,J,n,k)?[k[0],k[1]]:[NaN,NaN]}aX(z,F){const H=this.wd,
J=this.jj,M=this.Wd,P=this.Xd,R=this.le;this.Xd=this.Wd=this.jj=this.wd=1;this.le=0;this.dk();z=this.lh(z,F);this.wd=H;this.jj=J;this.Wd=M;this.Xd=P;this.le=R;this.dk();return z}ro(z,F){return this.BQ(z,F,0,this.Aj())}Rj(z,F,H=0){return this.BQ(z,F,H,this.tm()*this.zj())}BQ(z,F,H,J){var M=this.g,P=M.sb();const R=this.vi();m.set(n,0,0,M.rg/R,M.qg/R);M=this.ez(P);P=this.dz(P);return e.J.Y2(z,F,H,P,M,n,k)?[k[0]*J,(n[3]-k[1])*J]:[NaN,NaN]}K8(z){var F=z.hd(),H=z.gf();z=z.Xc;const J=H+z,M=F.aa,P=F.W,R=
F.na;F=F.fa;if(this.lq()){if(this.Lm(M,P,H)||this.Lm(R,P,H)||this.Lm(R,F,H)||this.Lm(M,F,H)||0<z&&(this.Lm(M,P,J)||this.Lm(R,P,J)||this.Lm(R,F,J)||this.Lm(M,F,J)))return null}else if(J>=this.Ws())return null;let [T,Z]=this.Rj(M,P,H),[X,ba]=this.Rj(R,F,H);if(0!==this.Ia()||0<z){const [Y,va]=this.Rj(R,P,H),[ta,ya]=this.Rj(M,F,H);if(0<z){const [Na,Sa]=this.Rj(M,P,J),[Ta,Ua]=this.Rj(R,P,J),[Wa,eb]=this.Rj(R,F,J),[fb,Pa]=this.Rj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);
T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}b.set(T,Z,X,ba);return b}Tq(){this.VA&&(this.Nba(),this.VA=!1);return this.BU}Nba(){var z=this.g.sb();const F=this.ez(z);z=this.dz(z);this.BU.WW(z,F)}Lm(z,F,H){return this.Tq().U0(z,F,H)}ma(){return{s:this.wd,a:this.le,vl:this.pg.aa,vt:this.pg.W,vr:this.pg.na,vb:this.pg.fa,v:this.zv,bc:this.tl.toJSON(),t:this.tk,sx:this.$h,
sy:this.ai,hosp:this.Cl,px:this.Wd,py:this.Xd,c:this.kb.toJSON(),sr:this.jj,fx:this.Pa.Hd(),cg:this.Xz}}ra(z){this.wd=z.s;this.le=z.a;this.pg.set(z.vl,z.vt,z.vr,z.vb);this.zv=!!z.v;this.tl.jm(z.bc);this.tk=!!z.t;z.hasOwnProperty("sx")&&(this.$h=z.sx);z.hasOwnProperty("sy")&&(this.ai=z.sy);z.hasOwnProperty("hosp")&&(this.Cl=!!z.hosp);this.Wd=z.px;this.Xd=z.py;this.kb.jm(z.c);this.jj=z.sr;e.Oc(this.Xz,z.cg);e.Oc(this.qk,this.lU);const F=new Set(this.Xz);let H=0;for(let J=0,M=this.qk.length;J<M;++J)F.has(this.qk[J][2])||
(this.qk[H]=this.qk[J],++H);e.Ze(this.qk,H);this.Pa.Ad(z.fx);this.Ol=!0;this.rG(!1);this.Jg()}aF(z){if(!this.G.includes(z))if(z.hf()){var F=[...z.Ik()];F.push(z);F.sort((J,M)=>{J=J.A().iq();M=M.A().iq();return J-M});for(var H of F)if(H.Zb())for(const J of H.Cd)F.includes(J)||(z=[...J.Ik()],z.push(J),z.sort((M,P)=>{M=M.A().iq();P=P.A().iq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Lg(J,!0)}else if(this.Lg(z,!0),z.Zb())for(F of z.Cd)if(H=[...F.Ik()],H.push(F),H.sort((J,
M)=>{J=J.A().iq();M=M.A().iq();return J-M}),H&&H.length)for(const J of H)this.Lg(J,!0)}}}
{"use strict";const e=self.D,b=self.vg;e.m(e.Rect);e.m(e.Rect);const a=e.m(e.Rect),d=e.m(e.eb),c=self.rj.FC,h=[],m=[],g=[],k=[];let n=null;function p(q,u){n!==q&&(q.W2(u),n=q)}e.s1=class extends e.ka{constructor(q,u,w){super();this.ib=q;this.g=q.I();this.Ja=w[0];this.eda=w[1];this.dda=w[2];this.X=w[1];this.U=w[2];this.UA=!!w[3];this.uf=!!w[4];this.cC=w[5];this.dC=w[6];this.pS=w[7];this.Zc=null;this.mb=w[8];this.Qa=u;this.ai=this.$h=0;this.wd=1;this.le=0;this.Dr=new Set;this.eh=new Set;this.iw=new Set;
this.jr=[];this.SH=[];this.Hca=!1;this.YR=c.create();this.jca=c.create();this.kca=c.create();this.DB=[];this.$b=[];this.rT=new Map;this.sT=new Map;const r=this.g.R;this.Pa=e.m(e.Nk,this,w[11]);this.Kh=e.m(e.J.Be,r.rH,{mC:(v,y)=>{y=y.Rm.Wk();v.Ft();v.vx(y);v.nq(y);r.vo(y)},rC:v=>this.Pa.Qk(v)});this.Ol=!0;this.EU=!1;this.Oe=null;this.Bp={};this.rp=!0;this.jv=new self.$_(this);this.ae=e.m(e.Event.Yb);for(const v of w[9])this.DB.push(e.m(e.gN,this,null,v));this.$b=[...this.yda()];for(let v=0,y=this.$b.length;v<
y;++v)q=this.$b[v],q.mG(v),q.Mg(),this.rT.set(q.Aa().toLowerCase(),q),this.sT.set(q.mb,q);for(const v of w[10]){w=this.g.df(v[1]);if(!w)throw Error("missing nonworld object class");w.nr||w.kO(v);this.SH.push(v);this.hP(w)}}B(){for(const q of this.$b)q.B();e.F(this.$b);this.iw.clear();this.g=this.ib=this.Zc=null}I(){return this.g}Aa(){return this.Ja}Ka(){return this.Qa}pi(){this.mu();return this.Kh}mu(){const q="low"===this.g.R.Ph;if(this.Ol||this.EU!==q){var u=this.Pa.ag;this.Kh.TC(u.map(w=>w.Rf()),
{us:u.map(w=>w.Ka()),qK:q,EC:!0});this.Ol=!1;this.EU=q}}Bh(){this.Pa.Bh();this.Ol=!0}rM(){let q=this.$b[0].vi();for(let u=1,w=this.$b.length;u<w;++u){const r=this.$b[u];if(0!==r.Wd||0!==r.Xd)q=Math.min(q,r.vi())}return q}kQ(){return.5*this.g.rg/this.rM()}lQ(){return.5*this.g.qg/this.rM()}xM(){return this.UA?-Infinity:this.kQ()}yM(){return this.UA?Infinity:this.$()-this.kQ()}zM(){return this.UA?-Infinity:this.lQ()}wM(){return this.UA?Infinity:this.ca()-this.lQ()}Fi(q){const u=this.xM(),w=this.yM();
q>w&&(q=w);q<u&&(q=u);this.$h!==q&&(this.$h=q,this.ck(),this.g.da())}Pf(){return this.$h}Gi(q){const u=this.zM(),w=this.wM();q>w&&(q=w);q<u&&(q=u);this.ai!==q&&(this.ai=q,this.ck(),this.g.da())}Qf(){return this.ai}$w(){this.Fi(this.Pf());this.Gi(this.Qf());for(const q of this.$b)q.Cl&&(q.Fi(q.Pf()),q.Gi(q.Qf()))}R4(q,u){if(this.cC!==q||this.dC!==u)this.cC=q,this.dC=u,this.d1()&&(this.Yq(),this.ck(),this.g.da())}JD(){return this.uf?.5:this.cC}KD(){return this.uf?.5:this.dC}MM(){const q=this.JD(),u=
this.KD();return 0>q||1<q||0>u||1<u}FO(){this.uf&&(this.uf=!1,this.Yq(),this.ck(),this.g.da())}CO(){this.uf||(this.uf=!0,this.Yq(),this.ck(),this.g.da())}d1(){return!this.uf}RE(q){this.wd!==q&&(this.wd=q,this.ck(),this.$w(),this.g.da())}ld(q){q=e.ee(q);this.le!==q&&(this.le=q,this.ck(),this.g.da())}Ia(){return this.le}$(){return this.X}lf(q){!isFinite(q)||1>q||(this.X=q)}ca(){return this.U}Xf(q){!isFinite(q)||1>q||(this.U=q)}*yda(){for(const q of this.DB)yield*q.DV()}ea(q){return"number"===typeof q?
this.Lx(q):this.oM(q.toString())}Lx(q){q=e.ja(Math.floor(q),0,this.$b.length-1);return this.$b[q]}oM(q){return this.rT.get(q.toLowerCase())||null}Mx(q){return this.sT.get(q)||null}Yq(){for(const q of this.$b)q.dba()}ck(){for(const q of this.$b)q.dk()}f_(){let q=this.DB.filter(u=>u.My())[0];for(;q;){if(!q.tk)return d.oj(q.tl),d.Ds(1),d;if(q.Wt())return d.Mn(0,0,0,0),d;q=q.nn.filter(u=>u.My())[0]}d.Mn(0,0,0,0);return d}bQ(){return[...this.Dr]}hP(q){if(q.Zb())for(const u of q.Qg.Rl)this.Dr.add(u);else this.Dr.add(q)}u8(){return[...this.eh]}RF(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.vX(this.eh,q.eh),q.eh.clear());q=[];for(const w of this.Dr)this.eh.has(w)||(q.push(w.tq(u)),this.eh.add(w));return Promise.all(q)}async oN(q){if(q.bb)throw Error("cannot load textures for family");var u=this.g.sb();!u||u.mo()||this.eh.has(q)||(this.eh.add(q),u=q.tq(u),this.Z5(u),await u,q.vy(),this.g.da())}Z5(q){this.iw.add(q);q.then(()=>this.iw.delete(q)).catch(()=>this.iw.delete(q))}E5(){return Promise.all([...this.iw])}L1(q){if(q.bb||0<q.G.length)throw Error("cannot unload textures");
this.g.sb()&&this.eh.has(q)&&(this.eh.delete(q),q.wo())}Cba(q,u){if(q!==this&&u)for(const w of this.eh)w.Uf()||q.Dr.has(w)||(w.wo(),this.eh.delete(w))}pu(){this.eh.clear()}async DR(q){const u=this.g,w=this.ib,r=u.oa();this.pS&&(this.Zc=r.hM(this.pS),this.Zc.vG());w.uR(this);this.X=this.eda;this.U=this.dda;this.$h=u.Zg/2;this.ai=u.Yg/2;this.$w();this.D9(q);this.D6();this.rp||this.F6();this.xP(this.jr);this.E6();w.hX();u.Qd();const v=this.g.Tba;await Promise.all(v);e.F(v);if(!u.sk){for(const y of this.jr)y.V4();
for(const y of this.jr)y.FR()}e.F(this.jr);await Promise.all([...this.Dr].map(y=>y.vE(this.g.sb())));q&&(u.Yb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.Wn(new e.Event("beforeprojectstart")));await this.Wn(new e.Event("beforelayoutstart"));u.sk||await u.Sd(e.C.Ba.L.xN,null,null);await this.Wn(new e.Event("afterlayoutstart"));q&&(u.Yb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.Wn(new e.Event("afterprojectstart")));r.aaa(w);await this.E5();this.Yq();this.ck();
this.rp=!1}D9(q){for(const w of this.g.Uc)if(!w.bb&&w.vf)for(const r of w.pa()){const v=r.A();var u=v.ea();u=e.ja(u.Ka(),0,this.$b.length-1);u=this.$b[u];v.su(u);u.u9(r)}if(!q)for(const w of this.$b)w.rG(!1)}D6(){for(const q of this.$b)q.AX(this.jr),q.kF()}F6(){let q=!1;for(const [w,r]of Object.entries(this.Bp)){const v=this.g.Px(parseInt(w,10));if(v&&!v.bb&&v.QD()){for(const y of r){var u=null;if(v.vf&&(u=this.Mx(y.w.l),!u))continue;u=this.g.ni(v,u,!1,0,0,!0);u.Ad(y);q=!0;this.jr.push(u)}e.F(r)}}for(const w of this.$b)w.rG(!0),
w.Jg();q&&(this.g.Qd(),this.g.WQ())}xP(q){for(const w of q){if(!w.Zb())continue;const r=w.A(),v=w.$n();for(const y of w.H().Qg.Rl)if(y!==w.H()){var u=y.pa();u.length>v?w.Qq(u[v]):(u=r?this.g.ni(y,r.ea(),!0,r.ga(),r.ia(),!0):this.g.ni(y,null,!0,0,0,!0),this.g.Qd(),y.xz(),w.Qq(u),q.push(u))}}}E6(){for(const q of this.SH)this.g.df(q[1]).Zb()||this.g.ni(q,null,!0)}B6(){const q=[],u=this.SH;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.df(y[1]);A.Uf()?A.Zb()&&A.Qg.L_()||q.push(this.g.ni(y,
null,!0)):(u[w]=y,++w)}e.Ze(u,w);this.g.Qd();this.xP(q)}Dt(q,u,w,r,v,y){if(w)return w.Dt(q,u,r,v,y);w=[];for(const A of this.$b)w.push(A.Dt(q,u,r,v,y));return w.flat()}async uba(){const q=this.ib;this.g.sk||await this.g.Sd(e.C.Ba.L.n2,null,null);q.wO(!0);this.g.oa().gx();this.rp||this.laa();for(const u of this.$b)u.G7();for(const u of this.g.Uc)if(!(u.Uf()||u.vf||u.Cb().Xm||u.bb)){for(const w of u.pa())this.g.Vn(w);this.g.Qd()}q.wO(!1);q.Sb()===this&&q.uR(null)}iaa(q){const u=q.H().mb.toString();
this.Bp.hasOwnProperty(u)||(this.Bp[u]=[]);this.Bp[u].push(q.Hd())}laa(){for(const q of this.$b){q.wu();for(const u of q.G){const w=u.H();!w.Uf()&&w.QD()&&this.iaa(u)}}}C3(){this.Bp={};this.rp=!0}Wk(){return this.Oe}Wt(){const q=this.g,u=q.sb().cl();return"low"===q.R.Ph||u&&q.$B||"low-latency"===q.ir||this.Pa.ot()||u&&q.cm}oh(q){const u=this.g.R,w=this.Wt();if(w){"low-latency"!==this.g.ir&&(q.Gg(null),q.Sn());const r={sj:this.g.vd,DK:this.g.$B||this.Pa.ot()};"low"===u.Ph&&(r.width=u.Bj(),r.height=
u.oi());this.Oe=this.g.Ts(r)}else this.Oe=null;q.Gg(this.Oe);q.xd(this.f_());this.g.cm&&q.eX();for(const r of this.$b)r.kF();this.KP(q,this.Oe,this.DB,!0);w&&(q.Fg(!1),this.z7(q,this.Oe));this.Oe=null}KP(q,u,w,r){w=w.filter(v=>v.My());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.JE()&&!A.KE()){h.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.JE()&&!z.KE())h.push(w[G]);else break}if(2<=h.length||1===h.length&&h[0].K_()){this.r7(q,u,h);v+=h.length;e.F(h);continue}e.F(h)}A.oh(q,u,r&&0===v);++v}}z7(q,
u){const w=this.g;0===this.Pa.ag.length?(q.Gg(null),q.Zj(),q.AL(u),q.nq(u),w.vo(u)):(a.set(0,0,w.rg,w.qg),this.pi().yo(q,null,{iC:this,Fn:3,devicePixelRatio:this.g.ct(),Iw:this.g.dt()*this.wd,uC:this.Ia(),zs:a,Dw:null,zK:!0}))}r7(q,u,w){w[0].tk||(d.oj(w[0].tl),d.Ds(1),q.xd(d));var r=this.g.R;q.Fg(!0);for(var v of w)v.wu(),v.oP(m);v=w[0];w=null;this.g.dE()&&q.cl()&&(r=r.pM(v))&&(w=r.OC(),q.eF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.A(),A=y.ea();if(y.Qc()&&y.pq(A.Tq())){(!v.zq()||0<y.Xc)&&k.push(v);
var G=v.A().gf();g.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.A();if(J.Qc()&&J.pq(J.ea().Tq())){if(J.gf()!==G)break;H.zq()?(0<J.Xc&&k.push(H),g.push(H)):k.push(H)}}if(1!==g.length||g[0].qN()){this.s7(q,u,g);for(let H=0,J=k.length;H<J;++H)v=k[H],y=v.A(),A=y.ea(),y.oz(!0),p(A,q),A.ml(v,y,q,u),y.oz(!1)}else{p(A,q);A.ml(v,y,q,u);for(let H=0,J=k.length;H<J;++H)y=k[H],y!==v&&(A=y.A(),G=A.ea(),p(G,q),G.ml(y,A,q,u))}z=r;e.F(g);e.F(k)}else++z}w&&q.iD(w);e.F(m);n=null}s7(q,u,w){q.zL();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.A(),y=v.ea();v.mz(!0);p(y,q);y.EF(r,v,q)}q.yL();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.A(),y=v.ea(),p(y,q),y.ml(r,v,q,u),v.mz(!1);q.xL()}ma(){const q={sx:this.Pf(),sy:this.Qf(),s:this.wd,a:this.Ia(),w:this.$(),h:this.ca(),ortho:this.uf,vpX:this.JD(),vpY:this.KD(),fv:this.rp,persist:this.Bp,fx:this.Pa.Hd(),layers:{}};for(const u of this.$b)q.layers[u.mb.toString()]=u.ma();return q}ra(q){this.$h=q.sx;this.ai=q.sy;this.wd=q.s;this.le=q.a;this.X=q.w;this.U=q.h;this.uf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.cC=q.vpX);q.hasOwnProperty("vpY")&&(this.dC=q.vpY);this.rp=!!q.fv;this.Bp=q.persist;this.Pa.Ad(q.fx);this.Ol=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Mx(parseInt(u,10)))&&q.ra(w);this.Yq();this.ck()}nh(q){q.vC=this.jv;var u=this.g;(u=u.zb&&!u.oa().jy())&&b.dF();this.ae.dispatchEvent(q);u&&b.NC()}Wn(q){q.vC=this.jv;return this.ae.nK(q)}}}
{"use strict";const e=self.D;e.t1=class extends e.ka{constructor(b){super();this.g=b;this.Oi=[];this.zI=new Map;this.AI=new Map;this.Jv=null;this.lJ=[];this.jA=null;this.IA=0;this.Rv=null}B(){this.Rv=this.jA=this.Jv=this.g=null;e.F(this.Oi);this.zI.clear();this.AI.clear();e.F(this.lJ)}Ra(b){b=e.m(e.s1,this,this.Oi.length,b);this.Oi.push(b);this.zI.set(b.Aa().toLowerCase(),b);this.AI.set(b.mb,b)}I(){return this.g}k4(b){this.jA=b}OZ(){if(this.jA)return this.jA;if(this.Oi.length)return this.Oi[0];throw Error("no first layout");
}fq(b){return this.zI.get(b.toLowerCase())||null}DD(b){return this.AI.get(b)||null}g_(b){b=e.ja(Math.floor(b),0,this.Oi.length-1);return this.Oi[b]}hc(b){return"number"===typeof b?this.g_(b):this.fq(b.toString())}uR(b){this.Jv=b}Sb(){return this.Jv}*Rw(){this.Jv&&(yield this.Jv);this.lJ.length&&(yield*this.lJ)}wO(b){if(b)this.IA++;else{if(0>=this.IA)throw Error("already unset");this.IA--}}YM(){return 0<this.IA}dx(b){this.Rv=b}hX(){this.Rv=null}qq(){return!!this.Rv}Ao(){const b=this.Sb();b&&b.Yq()}zo(){const b=
this.Sb();b&&b.ck()}}}
{"use strict";const e=self.D;e.l5=class extends e.ka{constructor(b){super();this.g=b;this.lw=e.m(e.Kg);this.fda=null;this.pn=[];this.mw=new Map;this.Ql=new Map;this.qn=new Map;this.bh=[];this.re=[];this.Vh=[];this.yv=this.gr=this.jp=!1;this.Yl=()=>this.g$();this.es=()=>this.$F();this.TG=()=>this.ou();this.yI=()=>this.F9();this.WH=a=>this.PQ(a.instance);this.FG=()=>this.ZF();this.Vu=[];this.Mc=0}B(){this.q3();this.FG=this.WH=this.yI=this.TG=this.es=this.Yl=null;for(const b of this.pn)b.mf(),b.B();
e.F(this.pn);this.pn=null;this.lw.B();this.lw=null;e.F(this.bh);this.bh=null;e.F(this.re);this.re=null;e.F(this.Vh);this.Vh=null;this.mw.clear();this.mw=null;this.Ql.clear();this.Ql=null;this.qn.clear();this.qn=null;e.F(this.Vu);this.g=this.Vu=null}rW(){const b=this.g.Yb();b.addEventListener("pretick",this.Yl);b.addEventListener("tick2",this.es);b.addEventListener("beforelayoutchange",this.TG);b.addEventListener("layoutchange",this.yI);b.addEventListener("instancedestroy",this.WH);b.addEventListener("afterload",
this.FG)}q3(){const b=this.g.Yb();b.removeEventListener("pretick",this.Yl);b.removeEventListener("tick2",this.es);b.removeEventListener("beforelayoutchange",this.TG);b.removeEventListener("layoutchange",this.yI);b.removeEventListener("instancedestroy",this.WH);b.removeEventListener("afterload",this.FG)}Ra(b){this.lw.Pc(b);b=e.Go.zX(b,this);this.Pc(b);this.G4(b);this.qn.set(b.Aa(),0)}aD(b){b=b.DM();var a=this.lw.ba(b);a=e.Go.aD(`${b}:${this.qn.get(b)}`,a,this);this.sQ(b);this.Pc(a);return a}sQ(b){this.qn.set(b,
this.qn.get(b)+1)}Daa(){for(const b of this.pn)b.Fr||this.sQ(b.DM())}t6(){for(const b of this.qn.keys())this.qn.set(b,0)}Pc(b){this.pn.push(b);this.mw.set(b.Aa().toLowerCase(),b)}xh(b){b.By();b.Fr||(e.Jk(this.pn,b),e.Jk(this.bh,b),e.Jk(this.re,b),e.Jk(this.Vh,b),this.mw.delete(b.Aa().toLowerCase()),this.r3(b),b.ah||b.B())}Ha(b){this.g.Ha(b,this.fda,null)}I(){return this.g}IO(b,a){this.Ql.has(b)||this.Ql.set(b,new Set);this.Ql.get(b).add(a)}G4(b){for(const a of b.sM())this.IO(a,b)}r3(b){for(const [a,
d]of this.Ql.entries())d.has(b)&&(d.delete(b),0===d.size&&this.Ql.delete(a))}z_(b){if(this.Ql.has(b))return this.Ql.get(b)}Yx(b){return this.mw.get(b.toLowerCase())||null}p3(b){e.Jk(this.re,b);this.lu()}cO(b){this.re.includes(b)?(b.Kq(!0),b.Mq(!1),b.Ky(!1)):(b.Kq(!1),b.Mq(!0),b.Ky(!1),this.bh.includes(b)||this.bh.push(b));this.GQ()}nx(b){b.Kq(!1);b.Mq(!1);b.EE();e.Jk(this.bh,b);this.lu()}uL(b){b.Kq(!1);b.Mq(!1);b.Ky(!0);this.Vh.push(b);e.Jk(this.re,b)}vL(b){b.Kq(!1);b.Mq(!1);b.Ky(!1);b.Xj(1);e.Jk(this.re,
b)}rX(b){this.uL(b);b.EE()}g$(){if(!this.I().sk&&this.jp&&!this.gr){for(this.yv=!0;this.bh.length;){var b=this.bh.pop();b.Sc();0!==b.Mc&&(this.Mc=1);this.re.push(b)}b=this.g.Wu;var a=this.g.Xu,d=this.g.$d;for(let c=this.re.length-1;0<=c;c--)this.re[c].Ke(b,d,a);this.yv=!1;0!==this.Mc&&this.I().da()}}$F(){if(!this.I().sk&&this.jp&&!this.gr){var b;for(let a=0,d=this.Vh.length;a<d;a++){const c=this.Vh[a];b||(b=new Set);c.By();this.HQ(c);b.add(c)}if(b){e.sg(this.Vh,b);this.Mc=0;for(let a=0,d=this.re.length;a<
d;a++)if(0!==this.re[a].Mc){this.Mc=1;break}}this.lu()}}HQ(b){b.ah||b.LM()&&b.bg&&b.Vm&&b.VL()}GQ(){this.jp||(this.jp=!0)}lu(){this.Vh.length||this.re.length||this.bh.length||this.yv||(this.jp=!1)}ou(){for(this.gr=!0;this.bh.length;)this.nx(this.bh.pop());const b=new Set;for(const a of this.re)a.ou()&&(a.By(),b.add(a));e.sg(this.re,b);b.clear();for(const a of this.Vh)a.ou()&&(a.By(),b.add(a));e.sg(this.Vh,b);this.lu();for(const a of this.pn)a.uj()}F9(){this.gr=!1}PQ(b){var a=b.H();if(a=this.z_(a))if(this.g.sk)this.Vu.push(b);
else for(const d of a)d.Fr||(d.ah?this.xh(d):d.LM()||(this.HQ(d),this.xh(d)))}ZF(){for(const b of this.Vu)this.PQ(b);e.F(this.Vu)}ma(){return{timelinesJson:this.qaa(),scheduledTimelinesJson:this.oaa(),playingTimelinesJson:this.maa(),markedForRemovalTimelinesJson:this.kaa(),hasRuntimeListeners:this.jp,changingLayout:this.gr,isTickingTimelines:this.yv}}ra(b){b&&(this.t6(),this.o9(b.timelinesJson),this.l9(b.scheduledTimelinesJson),this.j9(b.playingTimelinesJson),this.i9(b.markedForRemovalTimelinesJson),
this.jp=!b.hasRuntimeListeners,this.gr=!!b.changingLayout,this.yv=!!b.isTickingTimelines,this.Daa(),this.GQ(),this.lu())}qaa(){return this.pn.map(b=>b.ma())}o9(b){for(const a of b){b=this.Yx(a.name);if(!b){b=this.r8(a);if(!b)continue;b=this.Yx(b);b=this.aD(b)}b.ra(a);b.U_()||this.xh(b)}}r8(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}oaa(){return this.iG(this.bh)}l9(b){this.UF(b,this.bh)}maa(){return this.iG(this.re)}j9(b){this.UF(b,this.re)}kaa(){return this.iG(this.Vh)}i9(b){this.UF(b,
this.Vh)}T8(b,a){for(const d of a)if(d===b.Aa())return!0;return!1}iG(b){return b.map(a=>a.Aa())}UF(b,a){var d=new Set;for(const c of a)this.T8(c,b)||d.add(c);e.sg(a,d);d=c=>h=>h.Aa()===c;for(const c of b)(b=this.Yx(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.D;e.Go=class extends e.ka{constructor(b,a,d){super();this.g=d.I();this.Ib=d;this.Pd=a;this.Ja=b;this.qb=[];this.sU=0;this.cr=null;this.UR=0;this.GL();this.tB=this.Sv=null;this.dc=0;this.$c=1;this.Nd=0;this.Jd=1;this.Vm=this.Il=this.NA=!1;this.bg=!0;this.iB=this.ah=!1;this.hr=-1;this.Qe=this.gp=this.Fr=this.wA=!1;this.XA=NaN;this.dh=[""];this.mU="";this.CJ=!1;this.sA=this.Mc=0}static zX(b,a){const d=a.lw.ba(b[0]);b=e.m(e.Go,b[0],d,a);b.u4();return b}static aD(b,a,d){return e.m(e.Go,
b,a,d)}B(){if(!this.ah){this.Ib.nx(this);this.Ib.rX(this);for(const b of this.qb)b.B();e.F(this.qb);this.Pd=this.Ib=this.g=this.qb=null;this.ah=!0;this.tB=this.Sv=null}}GL(){for(const b of this.Pd.lt().NV())this.sU=this.qb.push(e.jF.Ra(this,b))}I(){return this.g}ht(b,a,d){if(this.sA){var c;for(let m=0;m<this.qb.length;m++){var h=this.qb[m];b===h.Da()&&(h=h.Of(d))&&a.constructor===h.Kb().constructor&&(c||(c=[]),c.push(h))}return c}}U_(){return!!this.qb.length}Ly(b){this.Ja=b}Aa(){return this.Ja}DM(){return this.Pd.Aa()}Sf(){return this.Pd.Sf()}it(){return this.Pd.it()}si(){return this.Pd.si()}ef(){return this.Pd.ef()}Wj(b){for(const a of this.qb)a.Wj(b)}Nx(){return this.Pd.Nx()}Rx(){return this.Pd.Rx()}wh(){return this.Pd.wh()}Xj(b){this.$c=
b}Pj(){return this.IsPlaying()?0<this.$c:!0}tM(){this.Sv||(this.Sv=new Promise(b=>{this.tB=b}))}EE(){this.Sv&&(this.tB(),this.tB=this.Sv=null)}HO(b){this.dh=e.Go.q8(b);this.CJ=!0}zN(){e.C.Hc.L.Co(this);this.Ib.Ha(e.C.Hc.L.jka);this.Ib.Ha(e.C.Hc.L.kka);this.Ib.Ha(e.C.Hc.L.lka);this.Ib.Ha(e.C.Hc.L.$ja);e.C.Hc.L.Co(null)}qE(){this.hr=this.g.yk}VL(){this.gp||(this.gp=!0,e.C.Hc.L.Co(this),this.Ib.Ha(e.C.Hc.L.gka),this.Ib.Ha(e.C.Hc.L.hka),this.Ib.Ha(e.C.Hc.L.ika),this.Ib.Ha(e.C.Hc.L.Zja),e.C.Hc.L.Co(null))}Kq(b){this.NA=
b}UM(){return this.hr===this.g.yk}IsPlaying(b=!1){return this.UM()||this.Il&&!b?!0:this.NA}Wq(){return this.IsPlaying(!0)}Mq(b){this.Il=b}jO(b){this.bg=b;b=this.Ea();if(0>=b||b>=this.Sf())this.bg=!0}Ky(b){this.iB=b}OE(b){this.wA=b}u4(){this.Fr=!0}Ea(){return this.dc}Nq(b){const a=this.Ea();this.wc(b);this.jO(!1);this.bg||this.OE(!0);if(this.Wq()||this.Il||!this.Vm)this.Wq()||this.Il||this.Vm?this.Wq()?this.mf():this.Il&&(this.Ib.nx(this),this.tO()):this.tO();this.uu();this.PF(b,!0,a);this.qG();this.Mc&&
this.I().da();this.TQ()}wc(b){this.dc=0>b?0:b>=this.Sf()?this.Sf():b}TQ(){e.C.Hc&&this.constructor===e.Go&&(e.C.Hc.L.Co(this),this.Ib.Ha(e.C.Hc.L.dka),this.Ib.Ha(e.C.Hc.L.eka),this.Ib.Ha(e.C.Hc.L.fka),e.C.Hc.L.Co(null))}Play(b=!1){return this.ah||this.Il?!1:this.Wq()&&this.UM()?this.uaa():this.Wq()||!this.bg&&!b&&!this.wA?!1:this.vaa()}uaa(){this.OE(!1);this.Ib.p3(this);this.Ib.cO(this);this.tM();return!0}vaa(){this.OE(!1);this.Ib.cO(this);this.tM();return!0}mf(b=!1){this.ah||(this.jO(b),this.Ib.uL(this),
this.bg&&this.EE())}kd(b=!0,a=!1){if(!this.ah)if(!this.Wq()&&this.Il)this.Ib.nx(this);else if(!this.bg){this.mf(!0);this.Pj()?this.wc(0):this.wc(this.Sf());var d=this.Ea();this.uu();a?this.L8(d):this.PF(d,!1);b&&this.TQ();this.qG();this.Mc&&b&&this.I().da()}}XN(){this.kd(!1,!0)}L8(b){this.PF(b,!1,NaN,!1,!0)}ou(){if(this.ah)return!0;if(this.V_())return!1;this.Ib.vL(this);this.XN();return!0}tO(){this.Sc(!0)}Sc(b){if(!this.iB){if(b){this.Qe=this.Vm=!0;this.uu();for(const a of this.qb)a.Sc()}else if(this.Kq(!0),
this.Mq(!1),this.zN(),this.bg){this.hr=-1;this.Nd=0;this.Jd=1;this.gp=this.bg=!1;this.Qe=this.Vm=!0;this.Pj()?this.wc(0):this.wc(this.Sf());this.uu();for(const a of this.qb)a.Sc()}else{this.Qe=!0;this.uu();for(const a of this.qb)a.He()}this.qG()}}uu(){this.sA=0;for(const b of this.qb)b.Wm&&(this.sA=1)}qG(){this.Mc=0;for(const b of this.qb)b.sz(),0===this.Mc&&1===b.Mc&&(this.Mc=1),this.cr||1!==b.bn||(this.cr||(this.cr=[]),this.UR=this.cr.push(b))}Ke(b,a){if(0!==b||0!==this.XA){this.XA=b;var d=this.dc;
a=d+b*a*this.$c;b=this.Pd.hs;this.dc=0>a?0:a>=b?b:a;var c=!1;a=this.Nx();var h=this.Rx();a||h?a&&!h?0<this.$c?this.dc>=b&&this.wc(0):0>=this.dc&&this.wc(b):!a&&h?0<this.$c?this.dc>=b&&(this.wc(b),this.Xj(-1*this.$c),1===this.Nd?this.Jd<this.wh()?(this.Jd++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):0>=this.dc&&(this.wc(0),this.Xj(-1*this.$c),1===this.Nd?this.Jd<this.wh()?(this.Jd++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):a&&h&&(0<this.$c?this.dc>=b&&(this.wc(b),this.Xj(-1*this.$c)):0>=this.dc&&(this.wc(0),
this.Xj(-1*this.$c))):0<this.$c?this.dc>=b&&(this.Jd<this.wh()?(this.Jd++,this.wc(0)):(this.wc(b),c=!0)):0>=this.dc&&(this.Jd<this.wh()?(this.Jd++,this.wc(b)):(this.wc(0),c=!0));a=this.sU;if(c){for(c=0;c<a;c++)this.qb[c].oO();this.mf(!0);this.qE()}else{h=this.UR;for(c=0;c<h;c++)this.cr[c].Qn();if(1===this.sA)for(c=0;c<a;c++){const m=this.qb[c],g=m.ff(),k=d-g;0>this.dc-g&&0<k?(this.dc=0>g?0:g>=b?b:g,m.Fa(g,!0,!1,!1,this.Qe,!1)):m.Fa(this.dc,!0,!1,!1,this.Qe,!1)}else for(c=0;c<a;c++)this.qb[c].Fa(this.dc,
!0,!1,!1,this.Qe,!1);for(c=0;c<h;c++)this.cr[c].Pn();this.Qe&&(this.Qe=!1)}}}PF(b,a=!1,d=NaN,c=!1,h=!1){for(var m of this.qb)m.Qn();for(const g of this.qb){m=b;if("number"===typeof d){const k=this.Ea()-g.ff(),n=d-g.ff();0>k&&0<n&&(m=g.ff(),this.wc(m))}g.Fa(m,!1,a,!0,this.Qe,h)}for(const g of this.qb)g.Pn();this.Qe&&c&&(this.Qe=!1)}By(){if(!this.ah)for(const b of this.qb)b.il()}uj(){for(const b of this.qb)b.uj()}iX(){for(const b of this.qb)b.gX()}H4(b,a){if(a)for(const d of this.qb)if(d.yi()){if(b){if(d.Cj()!==
b)continue}else if(d.O_())continue;d.s4(a);this.Ib.IO(a.H(),this);break}}LM(){return this.qb.some(b=>b.yi()?b.WC():!0)}V_(){return this.qb.some(b=>b.yi()?b.WC()?(b=b.H())?b.Uf():!1:!1:!1)}Of(b){for(const a of this.qb)for(const d of a.cb)if(d.ya.ad===b)return d}EM(b){for(const a of this.qb)if(b===a.Da())return a;return null}sM(){const b=[];for(const a of this.qb)b.push(a.H());return b.filter(a=>a)}ma(){return{tracksJson:this.saa(),name:this.Ja,playheadTime:this.Ea(),playbackRate:this.$c,pingPongState:this.Nd,
currentRepeatCount:this.Jd,isPlaying:this.NA,isScheduled:this.Il,initialStateSet:this.Vm,finishedTriggers:this.gp,complete:this.bg,released:this.ah,markedForRemoval:this.iB,completedTick:this.hr,implicitPause:this.wA,isTemplate:this.Fr,tags:this.dh.join(" "),stringTags:this.mU,tagsChanged:this.CJ,firstTick:this.Qe}}ra(b){b&&(this.p9(b.tracksJson),this.Ja=b.name,this.dc=b.playheadTime,this.$c=b.playbackRate,this.Nd=b.pingPongState,this.Jd=b.currentRepeatCount,this.NA=!!b.isPlaying,this.Il=!!b.isScheduled,
this.Vm=!!b.initialStateSet,this.gp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.bg=!!b.complete,this.ah=!!b.released,this.iB=!!b.markedForRemoval,this.hr=b.completedTick,this.wA=!!b.implicitPause,this.Fr=!!b.isTemplate,this.dh=b.tags.split(" "),this.mU=b.stringTags,this.CJ=!!b.tagsChanged,this.Qe=!!b.firstTick)}saa(){return this.qb.map(b=>b.ma())}p9(b){b.forEach((a,d)=>{this.qb[d].ra(a)});this.qb.filter(a=>a.WC())}static q8(b){if(e.lo(b))return b.slice(0);if(e.Ai(b))return b.split(" ")}}}
{"use strict";const e=self.D;e.jF=class extends e.ka{constructor(b,a){super();this.ci=b;this.Nb=a;this.We=a.lt();this.Pl=this.El=NaN;this.Ua=this.oc=null;this.Wm=0<a.ff();this.bp=this.Er=!1;this.fj=null;this.pc=this.Nb.Ej().pc;this.cb=[];this.FL();this.bn=this.Mc=this.Fk=0}static Ra(b,a){return e.m(e.jF,b,a)}B(){this.pc=null;for(const b of this.cb)b.B();e.F(this.cb);this.fj=this.Nb=this.Ua=this.oc=this.ci=this.cb=null}FL(){for(const b of this.Nb.ge().xV())this.cb.push(e.gb.Ra(this,b))}il(){for(const b of this.cb)b.il()}uj(){for(const b of this.cb)b.uj();
this.Ua=this.oc=null}Bb(){return this.ci}I(){return this.ci.I()}e_(){return this.pc?this.pc:this.pc=this.Nb.Ej().pc}Of(b){for(let a=0;a<this.cb.length;a++){const d=this.cb[a];if(d.ya.ad===b)return d}}yt(){this.oc||this.Da()}ym(){return this.oc?!this.oc.tt():!1}WC(){if(!this.yi())return!1;const b=this.I().Dj(this.et());return b?!b.tt():!1}H(){if(this.yi()){var b=this.ED();if(-1!==b)return this.I().df(b)}}gX(){this.oc=null;this.El=-1;this.Ua=null;this.Pl=-1}O_(){return!!this.oc}Da(){return this.oc&&
this.ym()?this.oc:this.oc=this.I().Dj(this.et())}s4(b){if(this.oc!==b){this.uj();this.oc=b;this.Pl=b.H().Ka();this.El=b.dd;this.Ua=b.A();for(const m of this.Sea()){const g=m.gfa;switch(m.Rea.Rd()){case "instance-variable":var a=b.H(),d=a.YZ(m.name),c=a.nM(d);a=a.ft(d);c===m.name&&a===m.type&&g.z5(d);break;case "behavior":var h=m.dK;d=this.H();c=b.H();a=g.yg(c);h&&a&&(h=h.Aa(),d.Vs(h),c.Vs(h),g.w5(a.mb))}}}}*Sea(){for(const d of this.cb){var b=d.Kb(),a=this.H();const c={Rea:d,gfa:b};switch(d.Rd()){case "world-instance":c.Bra=
d.ya.ad;break;case "instance-variable":b=b.eq();c.name=a.nM(b);c.type=a.ft(b);break;case "effect":a=b.vD(a.Pa);c.Mpa=a;break;case "behavior":a=b.yg(a);c.dK=a;break;case "plugin":c.yra=a.Cb()}yield c}}A(){if(this.Ua&&this.ym())return this.Ua;const b=this.Da();b&&(this.Ua=b.A());return this.Ua}et(){return this.El?this.El:this.Nb.et()}si(){return this.Nb.si()}ef(){return this.Nb.ef()}Cj(){return this.Nb.Cj()}ff(){return this.Nb.ff()}Tk(){return this.Nb.Tk()}Wj(b){for(const a of this.e_())a.Wj(b);for(const a of this.cb)a.Wj(b)}Sk(){return this.Nb.Sk()}hl(b){this.Nb.hl(b)}ED(){return isNaN(this.Pl)?
this.Nb.ED():this.Pl}Gj(){const b=this.Da();return b&&b.qa.po()?b.qa.Gj():this.Nb.Gj()}Fj(){const b=this.Da();return b&&b.qa.po()?b.qa.Fj():this.Nb.Fj()}Mj(){return this.Nb.Mj()}Aa(){return this.Nb.Aa()}yi(){return 0===this.Mj()}Sc(){this.yt();if(this.ym()||!this.yi()){var b=this.Bb().Pj()?0:this.Tk();for(const a of this.cb)a.Sc(b),0===this.Fk&&1===a.Fk&&(this.Fk=1),0===this.Mc&&1===a.Mc&&(this.Mc=1);this.bn=0;this.cb.some(a=>a.bn)&&(this.bn=1);this.fj=this.dQ(b);this.bp=this.Er=!1;this.Fa(b)}}He(){this.yt();
if(this.ym()||!this.yi()){this.ci.Pj();var b=this.ci.Ea()-this.ff();this.fj=this.dQ(b);for(const a of this.cb)a.He(b)}}oO(){if(!(this.Bb().bg||(this.yt(),!this.ym()&&this.yi()||this.Wm))){const b=this.ci.Ea();b>=this.ff()+this.Tk()?this.Fa(this.Tk(),!0,!1,!0):0>=b&&this.Fa(0,!0,!1,!0)}}sz(){for(let b=0,a=this.cb.length;b<a;b++){const d=this.cb[b];d.sz();0===this.Fk&&1===d.Fk&&(this.Fk=1);0===this.Mc&&1===d.Mc&&(this.Mc=1)}}Qn(){const b=this.cb.length;for(let a=0;a<b;a++)this.cb[a].Qn()}Fa(b,a=!1,
d=!1,c=!1,h=!1,m=!1){this.oc||this.Da();const g=0===this.Nb.za;if(!((!this.oc||this.oc.tt())&&g||m&&g&&this.H().Uf()||(b-=this.ff(),0>b))){this.J1(b,a);this.K1(b,a,h);for(let k=0,n=this.cb.length;k<n;k++)this.cb[k].Fa(b,d,c);this.I1(b,a);0!==this.Fk&&(this.Ua||(this.Ua=this.oc.A()),this.Ua&&this.Ua.Ya())}}Pn(){const b=this.cb.length;for(let a=0;a<b;a++)this.cb[a].Pn()}J1(b,a){if(a&&this.Wm&&!this.Er){if(this.Bb().Pj()){if(0>b)return;for(const d of this.cb)d.Fa(0,!1,!0)}else{if(b>this.Tk())return;
for(const d of this.cb)d.Fa(this.Tk(),!1,!0)}for(const d of this.cb)d.Sc();this.Er=!0}}I1(b,a){if(a&&this.Wm&&!this.bp)if(this.Bb().Pj()){if(b>=this.Tk()){for(const d of this.cb)d.Fa(this.Tk(),!1,!0);this.bp=!0}}else if(0>=b){for(const d of this.cb)d.Fa(0,!1,!0);this.bp=!0}}K1(b,a,d){if(!d&&a&&e.C.Hc){a=this.Bb();d=this.fj.Te;var c=this.fj.Ea(),h=d?d.Ea():a.Sf();if(b<=c||b>=h)this.fj=this.We.iM(b,this.Nb),a.Pj()?d&&this.sE(this.fj):this.fj.Te&&this.sE(this.fj)}}dQ(b){const a=this.We.b_(b,this.Nb);
return a?a:this.We.iM(b,this.Nb)}sE(b){const a=this.Bb();e.C.Hc.L.Co(a);e.C.Hc.L.P4(b);b=a.Ib;b.Ha(e.C.Hc.L.Yja);b.Ha(e.C.Hc.L.sE);e.C.Hc.L.Co(null);e.C.Hc.L.P4(null)}mW(){return this.Nb.Ej().gW()}OX(b){this.Nb.Ej().NX(b)}tx(b){for(const a of this.cb)a.tx(b)}Em(){for(const b of this.cb)b.Em()}li(){this.yt();if(this.ym()||!this.yi())for(const b of this.cb)b.li()}mi(){this.yt();if(this.ym()||!this.yi()){var b=!1;for(const a of this.cb){const d=a.mi();!b&&d&&(b=!0)}b&&(b=this.mW(),b.Nq(this.Bb().Ea()),
b.Wj("noease"),b.hl(!0),b.HO(""))}}ma(){var b=this.Da();b=b?b.dd:this.et();return{propertyTracksJson:this.naa(),lastKeyframeDataItemJson:this.jaa(),initialStateOfNestedSet:this.Er,endStateOfNestedSet:this.bp,instanceUid:b}}ra(b){b&&(this.k9(b.propertyTracksJson),this.h9(b.lastKeyframeDataItemJson),this.e9(b.instanceUid),this.Er=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Er=b.initialStateOfNestedSet),this.bp=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.bp=b.endStateOfNestedSet))}jaa(){return this.Nb.Ej().d_(this.fj)}naa(){return this.cb.map(b=>
b.ma())}k9(b){b.forEach((a,d)=>{this.cb[d].ra(a)})}e9(b){if(e.wm(b)&&(b=this.I().Dj(b))){var a=this.Bb();a.iX();a.H4(this.Nb.Cj(),b)}}h9(b){this.fj=this.Nb.Ej().c_(b)}}}
{"use strict";const e=self.D;e.gb=class extends e.ka{constructor(b,a){super();this.wb=b;this.ya=a;this.qc=a.ge();this.bn=this.Mc=this.Fk=0;this.ue=this.Kb();this.Rb=this.ya.vh().Rb;this.xu=this.Kc=null}static Ra(b,a){return e.m(e.gb,b,a)}B(){this.wb=null;this.ue&&(this.ue.B(),this.ue=null);this.qc=this.ya=this.Rb=null}MD(){return!!this.xu}T3(b){this.xu=b}ge(){return this.qc}Bb(){return this.wb.Bb()}I(){return this.wb.I()}Da(){return this.wb.Da()}Kb(){if(this.ue)return this.ue;let b;switch(this.ya.Rd()){case "behavior":b=
new e.gb.NW(this);break;case "effect":b=new e.gb.WY(this);this.Mc=1;break;case "instance-variable":b=new e.gb.O0(this);break;case "plugin":b=new e.gb.Q2(this);this.Mc=1;break;case "world-instance":b=new e.gb.to(this);this.Fk=this.Mc=1;break;case "value":b=new e.gb.B5(this);break;case "audio":b=new e.gb.GW(this)}return this.ue=b}Rd(){return this.ya.Rd()}Tx(){return this.ya.Mj()}gt(){return this.ge().Hx(this.ya).Mj()}Sk(){return this.ya.Sk()}hl(b){this.ya.hl(b)}si(){return this.ya.si()}ef(){return this.ya.ef()}Wj(b){for(const a of this.Sx())a.Wj(b)}VC(){return this.ya.VC()}Sx(){return this.Rb?
this.Rb:this.Rb=this.ya.vh().Rb}il(){this.Kb().il()}uj(){this.Kb().uj()}Ce(){return this.Kb().Ce()}Sc(b){this.Kb().Sc();this.Kc=this.eQ(b);this.sz()}He(b){this.Kb().He();this.Kc=this.eQ(b)}sz(){var b=this.wb;this.bn=0;if(b.yi()){var a=this.Bb();b=b.Da();const d=this.Kb(),c=this.ya.ad;d.Sj()?(a=a.ht(b,d,c))&&a.length&&(this.bn=1):this.bn=0}}eQ(b){const a=this.Bb(),d=this.qc.s_(b,this.ya);return d?d:a.Pj()?this.qc.ri(b,this.ya):this.qc.kM(b,this.ya)}Qn(){this.ue.Qn()}Fa(b,a=!1,d=!1){let c;if(a)var h=
this.qc.ri(b,this.ya);else{if(this.Kc){var m=this.Bb();const g=this.Kc.Te;h=this.Kc.Ea();m=g?g.Ea():m.Sf();if(b<=h||b>=m)this.Kc=this.qc.ri(b,this.ya)}else this.Kc=this.qc.ri(b,this.ya);h=this.Kc}h&&(c=h.Te);this.ue.Fa(b,h,c,a,d)}Nf(b){if(this.Kc){var a=this.Bb();const c=this.Kc.Te;var d=this.Kc.Ea();a=c?c.Ea():a.Sf();if(b<=d||b>=a)this.Kc=this.qc.ri(b,this.ya)}else this.Kc=this.qc.ri(b,this.ya);d=this.Kc;return this.ue.Nf(b,d,d.Te)}Pn(){this.ue.Pn()}static CM(b,a){return a.qc.ri(b,a.ya)}hL(){const b=
this.ya.vh().gL();this.Kc=null;return b}tx(b){this.Kc=null;this.ya.vh().LL(b)}Em(){this.Kb().Em()}li(){if(this.Kb().li()){const b=this.qc.Hx(this.ya),a=this.Kb().Ce();b.dO(a)}}mi(){const b=this.Kb().mi();b&&this.pW();this.Kb().jx();return b}pW(){const b=this.Bb().Ea(),a=this.Kb(),d=e.gb.CM(b,this),c=this.hL();c.JO(d.Mj());c.Nq(b);c.Wj(d.qm());c.hl(!0);c.Ie(a.HM());c.dO(a.Ce())}ma(){return{sourceAdapterJson:this.Kb().ma()}}ra(b){b&&this.Kb().ra(b.sourceAdapterJson)}}}
{"use strict";const e=self.D.gb;e.to=class{constructor(b){this.N=b;this.Bf=null;this.uh()}B(){this.Bf&&(this.Bf.B(),this.Bf=null);this.N=null}Sj(){return this.Bf.Sj()}Of(){return this.N}il(){this.Bf&&this.Bf.il()}uj(){this.Bf&&this.Bf.uj()}uh(){return this.Bf?this.Bf:this.Bf=this.G6()}eq(){}Ka(){return this.eq()}kt(){}Sc(){this.uh().Sc()}He(){this.uh().He()}Qn(){this.Bf.Wp()}Fa(b,a,d,c,h){let m;switch(this.N.gt()){case "numeric":m=e.zt.Fa(b,a,d,this.N);break;case "angle":m=e.Xw.Fa(b,a,d,this.N);break;
case "boolean":m=e.Zw.Fa(b,a,d,this.N);break;case "color":m=e.kx.Fa(b,a,d,this.N);break;case "text":m=e.Oy.Fa(b,a,d,this.N)}this.Bf.Rn(b,m,a,d,c,h)}Nf(b,a,d){switch(this.N.gt()){case "numeric":return e.zt.Fa(b,a,d,this.N);case "angle":return e.Xw.Fa(b,a,d,this.N);case "boolean":return e.Zw.Fa(b,a,d,this.N);case "color":return e.kx.Fa(b,a,d,this.N);case "text":return e.Oy.Fa(b,a,d,this.N)}}Pn(){this.Bf.Vp()}Em(){var b=this.uh();b.Zh=b.Ce()}jx(){this.uh().jx()}Ce(){return this.uh().Ce()}li(){return this.uh().li()}mi(){return this.uh().mi()}HM(){const b=
this.N,a=b.wb.Bb().Ea(),d=e.CM(a,b),c=d.Te;switch(b.gt()){case "numeric":return e.zt.Fa(a,d,c,b);case "angle":return e.Xw.Fa(a,d,c,b);case "boolean":return e.Zw.Fa(a,d,c,b);case "color":return e.kx.Fa(a,d,c,b);case "text":return e.Oy.Fa(a,d,c,b)}}G6(){const b=this.N;switch(b.VC()?b.gt():""){case "combo":case "boolean":case "text":case "string":return new e.jf.rN(this);case "numeric":case "number":case "angle":return"combo"===this.N.Tx()?new e.jf.rN(this):new e.jf.sN(this);case "color":case "offsetColor":return new e.jf.lX(this);
default:return new e.jf.sN(this)}}ma(){return{propertyAdapterJson:this.uh().ma()}}ra(b){b&&this.uh().ra(b.propertyAdapterJson)}}}
{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a);this.rw=NaN}eq(){return this.N.ya.mg[0]}Ka(){return this.rw?this.rw:super.Ka()}kt(){return this.N.wb.Da()}z5(a){this.N.ya.mg[0]!==a&&(this.rw=a)}Fa(a,d,c,h,m){this.uh().UC(d.M())&&super.Fa(a,d,c,h,m)}Nf(a,d,c){if(this.uh().UC(d.M()))return super.Nf(a,d,c)}ma(){return Object.assign(super.ma(),{index:this.rw})}ra(a){a&&(super.ra(a),this.rw=a.index)}}e.gb.O0=b}
{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a);this.mb=NaN}eq(){return this.N.ya.mg[1]}kt(){var a=this.N.ya,d=this.mb?this.mb:a.mg[0];a=this.N.wb.Da();d=a.aM(d);return a.nd[d].qa}yg(a){return a.Ax(this.N.ya.mg[2])}w5(a){this.N.ya.mg[0]!==a&&(this.mb=a)}Fa(a,d,c,h,m){const g=this.N.wb.Da();this.yg(g.H())&&super.Fa(a,d,c,h,m)}Nf(a,d,c){const h=this.N.wb.Da();if(this.yg(h.H()))return super.Nf(a,d,c)}ma(){return Object.assign(super.ma(),{sid:this.mb})}ra(a){a&&(super.ra(a),
this.mb=a.sid)}}e.gb.NW=b}{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a)}eq(){return this.N.ya.mg[1]}kt(){const a=this.N.wb.A().fg,d=this.vD(a.Pa).Ka();return a.ut(d)?a.Qk(d):null}vD(a){return a.Rk(this.N.ya.mg[0])}Fa(a,d,c,h,m){this.zQ()&&super.Fa(a,d,c,h,m)}Nf(a,d,c){if(this.zQ())return super.Nf(a,d,c)}zQ(){const a=this.N.wb.A().fg,d=this.vD(a.Pa);if(d)return a.ut(d.Ka())}}e.gb.WY=b}
{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a)}eq(){return this.N.ya.mg[0]}kt(){return this.N.wb.Da().qa}Fa(a,d,c,h,m){var g=this.N.wb;const k=g.H().Cb();g=g.Da().H().Cb();k===g&&super.Fa(a,d,c,h,m)}Nf(a,d,c){var h=this.N.wb;const m=h.H().Cb();h=h.Da().H().Cb();if(m===h)return super.Nf(a,d,c)}}e.gb.Q2=b}
{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a);this.Cc=0;this.xA=!1}Sj(){return!1}Sc(){const a=this.N.ge();let d=this.N.ya;d=a.Hx(d);this.Cc=d.vc()}He(){}M(){this.xA||this.N.Fa(0);return this.Cc}Fa(a,d,c){this.Cc=e.gb.zt.Fa(a,d,c,this.N);this.xA=!0}Em(){}jx(){}Ce(){return this.Cc}li(){return!1}mi(){return!1}ma(){return{value:this.Cc,init:this.xA}}ra(a){a&&(this.Cc=a.value,this.xA=a.hasOwnProperty("init")?a.init:!0)}}e.gb.B5=b}
{"use strict";const e=self.D;class b extends e.gb.to{constructor(a){super(a);this.ik=!1;this.zr=this.Tb=this.te=null;this.ci=this.N.Bb();this.wb=this.N.wb;this.cw=this.N.ya.mg;this.CH=this.cw[0];this.yJ=this.cw[1];this.Eh=this.cw[3]?this.cw[3]:Math.random().toString(36).slice(2);this.ww=this.Ap=this.dn=NaN;this.Og=null;this.yQ()}B(){super.B();this.Og=this.CH=this.cw=this.wb=this.ci=this.zr=this.Tb=this.te=null}yQ(){if(self.D.C.Audio){var a=this.N.I().Ox("audio");a&&(this.te=a.wi().qa);this.Tb=self.D.C.Audio.Wa;
this.zr=self.D.C.Audio.Xa}}JQ(){if(!this.Og){var a=this.N.wb.Of("audioSource");a&&(this.Og=a.Kb())}}k8(){const a=this.N.wb.Of("volume");return a?a.Kb().Ap:this.Ap}il(){super.il();this.ik=!1;this.te&&(this.zr&&(this.dn=this.zr.Kka.call(this.te,this.Eh),this.Ap=this.zr.uoa.call(this.te,this.Eh)),this.Tb&&this.Tb.mf.call(this.te,this.Eh))}Do(a){this.ww=a}Sc(){super.Sc();this.dn=NaN;this.ik=!1}He(){super.He();const a=this.N.Bb().Ea();this.dn=a-this.yJ;switch(this.N.ya.ad){case "volume":this.Ap=this.N.Nf(a)}this.ik=
!1}Fa(a,d,c,h,m){if(this.te)switch(this.N.ya.ad){case "audioSource":if(!this.ci.Pj())break;if(h){this.Tb&&this.Tb.mf.call(this.te,this.Eh);break}if(a<this.yJ){this.ik=!1;break}d=this.zr.Jka.call(this.te,this.Eh);this.ci.$c!==d&&this.Tb.Xj.call(this.te,this.Eh);if(this.ik)break;this.ik=!0;if(isNaN(this.dn)){const g=self.performance.now(),k=a-this.yJ;this.te.uE("get-suspended").then(n=>{if("suspended"===n)this.ik=!1;else if(n=k+(self.performance.now()-g)/1E3,this.Tb){let p=this.ww;isNaN(p)?(this.Do(0),
p=0):this.Do(p);this.Tb.Play.call(this.te,this.CH,0,p,this.Eh,n)}})}else{const g=this.dn;this.dn=NaN;const k=this.k8();this.Ap=NaN;this.te.uE("get-suspended").then(n=>{"suspended"===n?this.ik=!1:this.Tb&&(this.Do(k),this.Tb.Play.call(this.te,this.CH,0,k,this.Eh,g))})}break;case "volume":this.JQ(),super.Fa(a,d,c,h,m)}}Nf(a,d,c){if(this.te)switch(this.N.ya.ad){case "volume":return this.JQ(),super.Nf(a,d,c)}}JM(){return this.Og?this.Og.ww:0}U4(a,d){this.Og&&this.Og.Do(this.JM()+d);this.Tb&&this.Og&&
this.Tb.Do.call(this.te,this.Og.Eh)}aW(a,d){this.Og&&this.Og.Do(d);this.Tb&&this.Og&&this.Tb.Do.call(this.te,this.Og.Eh)}ma(){return{audioPlaybackStarted:this.ik,audioTag:this.Eh,pauseTime:this.dn,pauseVolume:this.Ap,volume:this.ww}}ra(a){a&&(this.ik=a.audioPlaybackStarted,this.Eh=a.audioTag,this.dn=a.pauseTime,this.Ap=a.pauseVolume,this.ww=a.volume,this.yQ())}}e.gb.GW=b}"use strict";function ic(e,b,a){return e.N.Bb().Pj()?b():a()}function jc(e,b,a){return"relative"===e.N.ef()?b():a()}
function kc(e){if(e.cs)return e.cs;e.cs=e.ue.kt();return e.cs}function lc(e,b=!1){const a=[];for(const d of e){e=d.wb.ff();for(const c of d.Sx())b&&0===c.Ea()?a.push({time:e+c.Ea(),value:c.Dh}):b||a.push({time:e+c.Ea(),value:c.Dh})}return a.sort((d,c)=>d.time-c.time)}function mc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.D.gb.jf=class{constructor(e){this.ue=e;this.N=e.Of();this.Ua=this.N.wb.A();this.ad=this.N.ya.ad;this.Ar=!1;this.cs=this.Zh=null}B(){this.cs=this.Zh=this.Ua=this.N=this.ue=null}Sj(){return!1}il(){}uj(){this.cs=this.Zh=this.Ua=null}Kb(){return this.ue}Of(){return this.N}A(){return this.Ua?this.Ua:this.Ua=this.N.wb.A()}Sc(){}He(){}jx(){this.Zh=null}Ce(){}li(){}mi(){}UC(e){return typeof this.nl()===typeof e}Wp(){}Rn(){}Vp(){}Lo(){return ic(this,()=>{const e=this.N.ya;return this.N.ge().Hx(e)},()=>
{const e=this.N.ya;return this.N.ge().bo(e)}).Dh}Xy(){const e=this.N.Bb().Ea()-this.N.wb.ff();return ic(this,()=>{const b=this.N.ya;return this.N.ge().ri(e,b)},()=>{const b=this.N.ya,a=this.N.ge(),d=a.kM(e,b);return d?d:a.bo(b)}).Dh}$y(){}Me(){return this.ue.Ka()}ma(){return{firstAbsoluteUpdate:this.Ar,saveState:this.Zh}}ra(e){e&&(this.Ar=e.firstAbsoluteUpdate,this.Zh=e.saveState)}};
{"use strict";const e=self.D,b=new Map,a=[0,0,0];class d extends e.gb.jf{constructor(c){super(c)}Sc(){}He(){}Ce(){const c=this.N.Rd(),h=kc(this),m=this.Me();switch(c){case "behavior":return this.vz(h.Ec(m));case "effect":return this.vz(h[m]);case "plugin":return this.vz(h.Ec(m));case "world-instance":return this.vz(this.nl())}}li(){const c=this.Lo();return!this.wP(c,this.nl())}mi(){return e.ie(this.Zh)?!1:!this.wP(this.Zh,this.nl())}wP(c,h){return c.gm(h)}Lo(){const c=super.Lo();return this.az(c)}Xy(){const c=
super.Xy();return this.az(c)}$y(){}vz(c){return e.xm(c,e.eb)?c.toArray().slice(0,3):c.slice(0,3)}az(c){return e.xm(c,e.eb)?c:new e.eb(c[0],c[1],c[2],1)}UC(){return!0}Sj(){return!0}Wp(){var c=this.N.Bb(),h=this.N.Da();const m=this.N.Kb();(c=c.ht(h,m,this.ad))&&1<c.length&&(b.has(h)||b.set(h,new Map),h=b.get(h),c=this.N.Rd(),h.has(c)||h.set(c,new Map),h=h.get(c),h.has(this.ad)||h.set(this.ad,{UV:!1,color:new e.eb(0,0,0,1)}))}oQ(c,h,m){c=b.get(c).get(h).get(m);c.UV=!0;return c.color}Rn(c,h){var m=this.N.Bb(),
g=this.N.wb;c=this.N.Da();var k=this.N.Kb();const n=this.N.Rd();if((k=m.ht(c,k,this.ad))&&1<k.length){if(k=lc(k,!0),m=m.Ea(),m=mc(m,k))k=m.time-g.ff(),0===k?this.oQ(c,n,this.ad).IU(h[0],h[1],h[2]):0>k||(m=h[0],g=h[1],h=h[2],k=this.N.Fa(k,!1,!0),m=e.eb.eD(m,k[0]),g=e.eb.eD(g,k[1]),h=e.eb.eD(h,k[2]),this.oQ(c,n,this.ad).IU(m,g,h))}else this.fk(h[0],h[1],h[2])}Vp(){const c=this.N.Da();if(b.has(c)){var h=b.get(c),m=this.N.Rd();if(h.has(m)){var g=h.get(m);if(g.has(this.ad)){var k=g.get(this.ad),n=k.color;
k.UV&&this.fk(n.Va,n.ab,n.$a);0===g.size&&h.delete(m);0===h.size&&b.delete(c)}}}}nl(){const c=this.N.Rd(),h=kc(this),m=this.Me();switch(c){case "behavior":return this.az(h.Ec(m));case "effect":return h[m].clone();case "plugin":return this.az(h.Ec(m));case "world-instance":return this.A().kb.clone()}}fk(c,h,m){const g=this.N.Rd(),k=kc(this),n=this.Me();switch(g){case "behavior":a[0]=c;a[1]=h;a[2]=m;k.yh(n,a);break;case "effect":k[n].Fs(c,h,m);break;case "plugin":a[0]=c;a[1]=h;a[2]=m;k.yh(n,a);break;
case "world-instance":this.A().Q4(c,h,m)}}ma(){}ra(){}}e.gb.jf.lX=d}
{"use strict";const e=self.D,b=e.gb;class a extends e.gb.jf{constructor(d){super(d)}Sc(){}He(){}Ce(){return this.nl()}li(){return this.Lo()!==this.Ce()}mi(){return e.ie(this.Zh)?!1:this.Zh!==this.Ce()}Sj(){return!1}Rn(d,c){const h=this.N,m=h.wb,g=h.Rd();var k=h.Bb();const n=m.Da(),p=h.Kb();(k=k.ht(n,p,this.ad))&&1<k.length&&(k=lc(k),d=mc(d+m.ff(),k))&&(c=d.value);switch(h.gt()){case "numeric":if(!b.zt.kl(this.Me(),kc(this),c,g))return;break;case "angle":if(!b.Xw.kl(this.Me(),kc(this),c,g))return;
break;case "boolean":if(!b.Zw.kl(this.Me(),kc(this),c,g))return;break;case "color":if(!b.kx.kl(this.Me(),kc(this),c,g))return;break;case "text":if(!b.Oy.kl(this.Me(),kc(this),c,g))return}this.fk(c)}nl(){const d=this.N.Rd(),c=kc(this),h=this.Me();switch(d){case "behavior":return c.Ec(h);case "effect":return c[h];case "instance-variable":return c.Ee(h);case "plugin":return c.Ec(h)}}fk(d){const c=this.N.Rd(),h=kc(this),m=this.Me();switch(c){case "behavior":h.yh(m,d);break;case "effect":h[m]=d;break;
case "instance-variable":h.Hm(m,d);break;case "plugin":h.yh(m,d)}}}e.gb.jf.rN=a}
{"use strict";const e=self.D,b=new Map,a=(c,h,m,g,k)=>b.set(c,{dfa:h,wda:m,gea:g,round:k});a("offsetX",(c,h)=>c.Y1(h),(c,h)=>c.Zf(h),c=>c.ga(),!0);a("offsetY",(c,h)=>c.Z1(h),(c,h)=>c.Ig(h),c=>c.ia(),!0);a("offsetWidth",(c,h)=>c.uN(h),(c,h)=>c.lf(h),c=>c.$(),!0);a("offsetHeight",(c,h)=>c.tN(h),(c,h)=>c.Xf(h),c=>c.ca(),!0);a("offsetAngle",(c,h)=>c.U1(h),(c,h)=>c.ld(h),c=>c.Ia(),!1);a("offsetOpacity",(c,h,m,g)=>{m=c.fe()+h;0===g.Jc?(1<m?g.Jc+=m-1:0>m&&(g.Jc+=m),c.V1(h)):(c=c.fe()+h,0<h&&0<g.Jc?1<c&&
(g.Jc+=c-1):0<h&&0>g.Jc?(g.Jc+=h,0<g.Jc&&(g.Jc=0)):0>h&&0<g.Jc?(g.Jc+=h,0>g.Jc&&(g.Jc=0)):0>h&&0>g.Jc&&0>c&&(g.Jc+=c))},(c,h)=>{c.Ei(h)},c=>c.fe(),!1);a("offsetOriginX",(c,h)=>c.W1(h),(c,h)=>c.Iq(h),c=>c.Uk(),!1);a("offsetOriginY",(c,h)=>c.X1(h),(c,h)=>c.Jq(h),c=>c.Vk(),!1);a("offsetZElevation",(c,h)=>c.a2(h),(c,h)=>c.Je(h),c=>c.fb(),!0);a("offsetScaleX",(c,h,m)=>{const g=0>c.$()?-1:1;c.uN(m.Gj()*g*h)},(c,h,m)=>{c.lf(m.Gj()*h)},(c,h)=>{const m=0>c.$()?-1:1;if(c.fo()){var g=c.Ga(),k=h.Bb().EM(g.Da());
k?g=g.$()/k.Gj():(k=g.Da().qa,g=k.po()?g.$()/k.Gj():1);return c.$()*m/(h.Gj()*g)}return c.$()*m/h.Gj()},!1);a("offsetScaleY",(c,h,m)=>{const g=0>c.ca()?-1:1;c.tN(m.Fj()*g*h)},(c,h,m)=>{c.Xf(m.Fj()*h)},(c,h)=>{const m=0>c.ca()?-1:1;if(c.eo()){var g=c.Ga(),k=h.Bb().EM(g.Da());k?g=g.ca()/k.Fj():(k=g.Da().qa,g=k.po()?g.ca()/k.Fj():1);return c.ca()*m/(h.Fj()*g)}return c.ca()*m/h.Fj()},!1);class d extends e.gb.jf{constructor(c){super(c);this.Jc=this.Vb=0;this.eU=this.gU=this.fU=this.XH=this.ZH=this.YH=
null;this.kJ=!1;this.rn=e.xm(this.N.Bb(),e.s5)?new e.gb.jf.T1(this):new e.gb.jf.S1(this);const h=this.N.ya.ad;switch(this.N.Rd()){case "world-instance":c=b.get(h);this.YH=c.gea;this.ZH=c.dfa;this.XH=c.wda;this.kJ=c.round;break;case "audio":this.fU=c.JM,this.gU=c.U4,this.eU=c.aW,this.kJ=!0}}B(){this.XH=this.ZH=this.YH=this.rn=null;super.B()}Sj(){return this.rn.Sj()}yO(c){this.Vb=c}Sc(){const c=this.rn.Sc();"number"===typeof c&&(this.Vb=c);this.Jc=0}He(){const c=this.rn.He();"number"===typeof c&&(this.Vb=
c)}Ce(){return this.nl()}li(){return this.Lo()!==this.Ce()}mi(){return e.ie(this.Zh)?!1:this.Zh!==this.Ce()}Wp(){this.rn.Wp()}Rn(c,h,m,g,k,n,p){return this.rn.Rn(c,h,m,g,k,n,p)}Vp(){this.rn.Vp()}nl(){const c=kc(this),h=this.Me(),m=this.A(),g=this.N.wb;switch(this.N.Rd()){case "behavior":return c.Ec(h);case "effect":return c[h];case "instance-variable":return c.Ee(h);case "plugin":return c.Ec(h);case "world-instance":return this.YH(m,g);case "audio":return this.fU.call(this.Kb(),m,g)}}fk(c){const h=
kc(this),m=this.Me(),g=this.A(),k=this.N.wb;switch(this.N.Rd()){case "behavior":h.pE(m,c);break;case "effect":h[m]+=c;break;case "instance-variable":h.t4(m,c);break;case "plugin":h.pE(m,c);break;case "world-instance":this.ZH(g,c,k,this);break;case "audio":this.gU.call(this.Kb(),g,c,k,this)}}AR(c){const h=kc(this),m=this.Me(),g=this.A(),k=this.N.wb;switch(this.N.Rd()){case "behavior":h.yh(m,c);break;case "effect":h[m]=c;break;case "instance-variable":h.Hm(m,c);break;case "plugin":h.yh(m,c);break;case "world-instance":this.XH(g,
c,k);break;case "audio":this.eU.call(this.Kb(),g,c,k)}}Xq(c,h,m,g,k,n){this.rn.Xq(c,h,m,g,k,n)}ll(c,h,m){c=(c.toString().split(".")[1]||"").length;const g=this.nl();this.fk((0===c?this.kJ?Math.round(g):g:e.toFixed(g,c))-g,h,m)}ma(){return Object.assign(super.ma(),{v:this.Vb,a:this.Jc})}ra(c){c&&(super.ra(c),this.Vb=c.v,this.Jc=c.a)}}e.gb.jf.sN=d}
{"use strict";class e{constructor(a){this.SJ=!1;this.Cc=0;this.cb=a;for(let d=0,c=this.cb.length;d<c;d++)this.cb[d].T3(this)}LO(){this.SJ=!0}Ie(a){this.Cc=a}M(){return this.Cc}kd(){this.SJ=!1;this.Cc=0}}class b{constructor(a){this.pe=a}B(){this.pe=null}Sc(){const a=this.pe;this.pe.Of();return jc(a,()=>ic(a,()=>0,()=>a.Kb().HM()),()=>{})}He(){}Sj(){switch(this.pe.Of().ef()){case "relative":return!1;case "absolute":return!0}}Wp(){var a=this.pe.Of(),d=a.ya.ad;switch(a.ef()){case "absolute":if(a.MD())a.xu.kd();
else{const c=a.Bb(),h=a.Da();a=a.Kb();(d=c.ht(h,a,d))&&1<d.length&&new e(d)}}}Rn(a,d,c,h,m,g){var k=this.pe,n=this.pe.Of();switch(n.ef()){case "relative":n=k.Vb;k.fk(d-n,c,h);g&&this.Xq(a,c,h,m,n,d);k.yO(d);break;case "absolute":if(c=n.Bb(),a=n.wb,n.Da(),n.Kb(),n.MD()){if(k=n.xu,h=lc(k.cb,!0),c=c.Ea(),c=mc(c,h))a=c.time-a.ff(),0===a?(k.LO(),k.Ie(k.M()+d)):0>a||(n=n.Nf(a),k.LO(),k.Ie(k.M()+(d-n)))}else k.AR(d)}}Vp(){const a=this.pe;var d=this.pe.Of();switch(d.ef()){case "absolute":d.MD()&&(d=d.xu,
d.SJ&&a.AR(d.M()))}}Xq(a,d,c,h,m,g){const k=this.pe;h||(d&&a===d.Ea()?k.ll(d.vc(),d,c):c&&a===c.Ea()?k.ll(c.vc(),d,c):0===g-m&&k.ll(d.vc(),d,c))}}self.D.gb.jf.S1=b}
{"use strict";class e{constructor(b){this.pe=b}B(){this.pe=null}Sc(){const b=this.pe;b.Ar=!0;return this.$y(b.Lo())}He(){const b=this.pe;if(b.Lo()!==b.Xy())return b.Ar=!0,this.$y(b.Xy())}Sj(){return!1}Wp(){}Rn(b,a,d,c,h,m){const g=this.pe,k=g.Vb;switch(g.Of().ef()){case "relative":g.fk(a-k,d,c);m&&this.Xq(b,d,c,h,k,a);break;case "absolute":g.Ar?(g.Ar=!1,g.fk(k,d,c)):(g.fk(a-k,d,c),m&&this.Xq(b,d,c,h,k,a))}g.yO(a)}Vp(){}$y(b){return b-this.pe.Ce()}Xq(b,a,d,c,h,m){const g=this.pe;c?a&&b===a.Ea()?g.ll(a.vc(),
a,d):d&&b===d.Ea()?g.ll(d.vc(),a,d):d||g.ll(a.vc(),a,d):a&&b===a.Ea()?g.ll(a.vc(),a,d):d&&b===d.Ea()?g.ll(d.vc(),a,d):0===m-h&&g.ll(a.vc(),a,d)}}self.D.gb.jf.T1=e}
{"use strict";const e=self.D,b=self.Ms;e.gb.zt=class{constructor(){}static kl(a,d,c,h){let m;switch(h){case "behavior":m=d.Ec(a);break;case "effect":m=d[a];break;case "instance-variable":m=d.Ee(a);break;case "plugin":m=d.Ec(a)}return m===c?!1:!0}static Fa(a,d,c,h){if(!c)return c=h.ya,c=h.ge().bo(c),c.vc();var m=h.si();"default"===m&&(m="continuous");"combo"===h.Tx()&&(m="discrete");if("discrete"===m)return d.vc();if("continuous"===m||"step"===m){"step"===m&&(m=h.Bb().it(),0!==m&&(m=1/m,a=Math.floor(a*
m)/m));var g=d.Ea();const k=c.Ea();m=d.vc();const n=c.vc();if(m===n)return m;a=e.normalize(a,g,k);const p=d.qm();d=d.mD("cubic-bezier");c=c.mD("cubic-bezier");d&&d.dw&&c&&c.dA?(g=k-g,g=b.co(p)(g*a,0,1,g),g=b.co("cubicbezier")(g,m,m+d.wJ,n+c.uH,n)):g=b.co(p)((k-g)*a,m,n-m,k-g);return"integer"===h.Tx()?Math.floor(g):g}}}}
{"use strict";const e=self.D;e.gb.Xw=class{constructor(){}static kl(b,a,d,c){let h;switch(c){case "behavior":h=a.Ec(b);break;case "effect":h=a[b];break;case "instance-variable":h=a.Ee(b);break;case "plugin":h=a.Ec(b)}return h===d?!1:!0}static Fa(b,a,d,c){if(!d)return a=c.ya,a=c.ge().bo(a),a.vc();var h=c.si();"default"===h&&(h="continuous");"combo"===c.Tx()&&(h="discrete");if("discrete"===h)return a.vc();if("continuous"===h||"step"===h){"step"===h&&(c=c.Bb().it(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const m=a.Ea(),g=d.Ea();c=a.vc();d=d.vc();if(h=a.mD("angle")){const k=h.jJ;if(c===d&&0===k)return c;b=e.normalize(b,m,g);a=self.Ms.co(a.qm())(b,0,1,1);switch(h.nH){case "closest":return e.aK(c,d,a,k);case "clockwise":return e.Dda(c,d,a,k);case "anti-clockwise":return e.Cda(c,d,a,k)}}else{if(c===d)return c;b=e.normalize(b,m,g);a=self.Ms.co(a.qm());return e.aK(c,d,a(b,0,1,1))}}}}}"use strict";
self.D.gb.Zw=class{constructor(){}static kl(e,b,a,d){let c;switch(d){case "behavior":c=b.Ec(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ee(e);break;case "plugin":c=b.Ec(e)}return!!c===!!a?!1:!0}static Fa(e,b,a,d){return a?b.vc()?1:0:(e=d.ya,e=d.ge().bo(e),e.vc()?1:0)}};
{"use strict";const e=self.D,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.gb.kx=class{constructor(){}static kl(c,h,m,g){let k;switch(g){case "behavior":k=h.Ec(c);break;case "effect":k=h[c];break;case "instance-variable":k=h.Ee(c);break;case "plugin":k=h.Ec(c)}Array.isArray(m)?(b[0]=m[0],b[1]=m[1],b[2]=m[2]):(d.sV(m),b[0]=Math.floor(255*d.Va),b[1]=Math.floor(255*d.ab),b[2]=Math.floor(255*d.$a));Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(d.sV(k),a[0]=Math.floor(255*d.Va),a[1]=Math.floor(255*d.ab),a[2]=Math.floor(255*
d.$a));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static Fa(c,h,m,g){if(!m)return h=g.ya,h=g.ge().bo(h),h=h.vc(),b[0]=h[0],b[1]=h[1],b[2]=h[2],b;var k=g.si();"default"===k&&(k="continuous");if("discrete"===k)return h=h.vc(),b[0]=h[0],b[1]=h[1],b[2]=h[2],b;if("continuous"===k||"step"===k){"step"===k&&(g=g.Bb().it(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=h.Ea();k=m.Ea();var n=h.vc(),p=m.vc();const q=e.normalize(c,g,k);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];h=self.Ms.co(h.qm());g=k-g;
k=g*q;b[0]=c===u?c:h(k,c,u-c,g);b[1]=m===w?m:h(k,m,w-m,g);b[2]=n===p?n:h(k,n,p-n,g);return b}}}}"use strict";self.D.gb.Oy=class{constructor(){}static kl(e,b,a,d){let c;switch(d){case "behavior":c=b.Ec(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ee(e);break;case "plugin":c=b.Ec(e)}return c===a?!1:!0}static Fa(e,b,a,d){return a?b.vc():(e=d.ya,e=d.ge().bo(e),e.vc())}};
{"use strict";const e=self.D;e.Kg=class{constructor(){this.kw=new Map}B(){for(const b of this.kw.values())b.B();this.kw.clear();this.kw=null}Pc(b){b=new e.k5(b);this.kw.set(b.Aa(),b)}ba(b){return this.kw.get(b)}static $t(b,a,d,c){if(a)for(const h of a)e.Kg.yP("create",h,b,d,c)}static ju(b,a,d,c){b.length?a.forEach((h,m)=>{b[m].ra(h)}):a.forEach(h=>{e.Kg.yP("load",h,b,d,c)})}static yP(b,a,d,c,h){let m;if("function"===typeof c)switch(b){case "load":m=new c(null,h);break;case "create":m=new c(a,h)}else if("object"===
typeof c)switch(c=c.map.get(a[c.wV]),b){case "load":m=new c(null,h);break;case "create":m=new c(a,h)}switch(b){case "load":m.ra(a);d.push(m);break;case "create":"function"!==typeof m.Sk||m.Sk()?d.push(m):m.B()}}}}
{"use strict";const e=self.D;e.k5=class{constructor(b){this.Ja="";this.hs=NaN;this.SB=0;this.kg=this.gg="default";this.sB=this.gB=!1;this.Wr=1;this.We=null;b&&(this.Ja=b[0],this.hs=b[1],this.SB=b[2],this.gg=b[3],this.kg=b[4],this.gB=!!b[6],this.sB=!!b[7],this.Wr=b[8],this.We=new e.RO(b[5],this))}B(){this.We.B();this.We=null}lt(){this.We||(this.We=new e.RO(null,this));return this.We}Aa(){return this.Ja}Ly(b){this.Ja=b}Sf(){return this.hs}it(){return this.SB}si(){return this.gg}ef(){return this.kg}Nx(){return this.gB}Rx(){return this.sB}wh(){return this.Wr}ma(){return{trackDataJson:this.We.ma(),
name:this.Ja,totalTime:this.hs,step:this.SB,interpolationMode:this.gg,resultMode:this.kg,loop:this.gB,pingPong:this.sB,repeatCount:this.Wr}}ra(b){b&&(this.lt().ra(b.trackDataJson),this.Ja=b.name,this.hs=b.totalTime,this.SB=b.step,this.gg=b.interpolationMode,this.kg=b.resultMode,this.gB=b.loop,this.sB=b.pingPong,this.Wr=b.repeatCount)}}}
{"use strict";const e=self.D;class b{constructor(a,d){this.We=d;this.Mm=this.AA=null;this.Pl=this.El=NaN;this.kg=this.gg="default";this.Sg=!1;this.qc=this.Sh=null;this.Re="";this.Nr=null;this.xJ=0;this.eB=this.We.Pd.Sf();this.za=0;this.Ja="";a&&(a[0]&&(this.AA=a[0],this.El=a[0][2],this.Pl=a[0][1]),this.gg=a[1],this.kg=a[2],this.Sg=!!a[3],a[6]&&(this.Re=a[6]),a[7]&&(this.Nr=a[7],this.xJ=a[7][0],this.eB=a[7][1]),a[8]&&(this.Mm=a[8]),a[8]&&(this.Mm=a[8]),a[9]&&(this.za=a[9]),a[10]&&(this.Ja=a[10]),this.Sh=
new e.fN(a[4],this),this.qc=new e.JN(a[5],this))}B(){this.We=this.AA=null;this.Sh&&(this.Sh.B(),this.Sh=null);this.qc&&(this.qc.B(),this.qc=null);this.Nr=null}lt(){return this.We}Ej(){this.Sh||(this.Sh=new e.fN(null,this));return this.Sh}ge(){this.qc||(this.qc=new e.JN(null,this));return this.qc}ED(){return this.Pl}et(){return this.El}si(){return this.gg}ef(){return this.kg}Sk(){return this.Sg}hl(a){this.Sg=!!a}Cj(){return this.Re}ff(){return this.xJ}Tk(){return this.eB}Gj(){return this.Mm[0]}Fj(){this.Mm||
(this.Mm=[]);return this.Mm[1]}Mj(){return this.za}Aa(){return this.Ja}ma(){return{keyframeDataJson:this.Sh.ma(),propertyTrackDataJson:this.qc.ma(),instanceData:this.AA,additionalInstanceData:this.Mm,instanceUid:this.El,objectClassIndex:this.Pl,interpolationMode:this.gg,resultMode:this.kg,enabled:this.Sg,id:this.Re,nestedData:this.Nr,type:this.za,name:this.Ja}}ra(a){a&&(this.AA=a.instanceData,this.El=a.instanceUid,this.Pl=a.objectClassIndex,this.gg=a.interpolationMode,this.kg=a.resultMode,this.Sg=
a.enabled,this.Re=a.id,this.za=a.type?a.type:0,this.Ja=a.name?a.name:"",this.eB=this.We.Pd.Sf(),a.nestedData&&(this.Nr=a.nestedData,this.xJ=this.Nr[0],this.eB=this.Nr[1]),a.additionalInstanceData&&(this.Mm=a.additionalInstanceData),this.Ej().ra(a.keyframeDataJson),this.ge().ra(a.propertyTrackDataJson))}}e.RO=class{constructor(a,d){this.Pd=d;this.Pp=[];e.Kg.$t(this.Pp,a,b,this)}B(){this.Pd=null;for(const a of this.Pp)a.B();e.F(this.Pp);this.Pp=null}b_(a,d){d=d.Ej().pc;const c=d.length;for(let h=0;h<
c;h++){const m=d[h];if(m.Ea()===a)return m}}iM(a,d){d=d.Ej().pc;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.Ea()<=a)return h}}*NV(){for(const a of this.Pp)yield a}ma(){return{trackDataItemsJson:this.Pp.map(a=>a.ma())}}ra(a){a&&e.Kg.ju(this.Pp,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.D;class b{constructor(a,d){this.qc=d;this.KB="";this.za=this.ad=this.mg=null;this.II=this.MI=NaN;this.kg=this.gg="default";this.Sg=!1;this.ij=null;this.Pz=!0;a&&(this.KB=a[0][0],this.mg=a[0].slice(1),this.ad=a[1],this.za=a[2],this.MI=a[3],this.II=a[4],this.gg=a[5],this.kg=a[6],this.Sg=!!a[7],this.ij=new e.IN(a[8],this),this.Pz=a[9])}B(){this.ij.B();this.mg=this.qc=this.ij=null}ge(){return this.qc}vh(){this.ij||(this.ij=new e.IN(null,this));return this.ij}Rd(){return this.KB}Mj(){return this.za}JO(a){this.za=
a}si(){return this.gg}ef(){return this.kg}Sk(){return this.Sg}hl(a){this.Sg=!!a}VC(){return!!this.Pz}ma(){return{propertyKeyframeDataJson:this.ij.ma(),sourceAdapterId:this.KB,sourceAdapterArguments:this.mg,property:this.ad,type:this.za,min:this.MI,max:this.II,interpolationMode:this.gg,resultMode:this.kg,enabled:this.Sg,canHavePropertyKeyframes:this.Pz}}ra(a){a&&(this.KB=a.sourceAdapterId,this.mg=a.sourceAdapterArguments,this.ad=a.property,this.za=a.type,this.MI=a.min,this.II=a.max,this.gg=a.interpolationMode,
this.kg=a.resultMode,this.Sg=a.enabled,this.Pz=a.canHavePropertyKeyframes,this.vh().ra(a.propertyKeyframeDataJson))}}e.JN=class{constructor(a,d){this.Nb=d;this.Dp=[];e.Kg.$t(this.Dp,a,b,this)}B(){this.Nb=null;for(const a of this.Dp)a.B();e.F(this.Dp);this.Dp=null}Hx(a){return a.vh().Rb[0]}bo(a){return a.vh().Rb.de(-1)}s_(a,d){d=d.vh().Rb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.Ea()===a)return m}}kM(a,d){d=d.vh().Rb;const c=d.length;for(let h=0;h<c;h++){const m=d[h];if(m.Ea()>=a)return m}}ri(a,
d){d=d.vh().Rb;for(let c=d.length-1;0<=c;c--){const h=d[c];if(h.Ea()<=a)return h}}*xV(){for(const a of this.Dp)yield a}ma(){return{propertyTrackDataItemsJson:this.Dp.map(a=>a.ma())}}ra(a){a&&e.Kg.ju(this.Dp,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.D;class b{constructor(a,d){this.Sh=d;this.ec=-1;this.Vi="noease";this.Wi=!1;this.Iv=this.dh=null;a&&(this.ec=a[0],this.Vi=a[1],this.Wi=!!a[2],this.dh=(a=a[3])?a.split(" "):[],this.Iv=new Set(this.dh.map(c=>c.toLowerCase())),this.Te=null)}B(){this.Sh=null;e.F(this.dh);this.dh=null;this.Iv.clear();this.Iv=null}Ej(){return this.Sh}Ot(a){this.Te=a}Ea(){return this.ec}Nq(a){this.ec=a;this.Sh.hu()}qm(){return this.Vi}Wj(a){this.Vi=a}Sk(){return this.Wi}hl(a){this.Wi=!!a}HO(a){this.dh=
a?a.split(" "):[];this.Iv=new Set(this.dh.map(d=>d.toLowerCase()))}ma(){return{time:this.ec,ease:this.Vi,enable:this.Wi,tags:this.dh}}ra(a){a&&(this.ec=a.time,this.Vi=a.ease,this.Wi=a.enable,this.dh=a.tags,this.Iv=new Set(this.dh.map(d=>d.toLowerCase())))}}e.fN=class{constructor(a,d){this.Nb=d;this.pc=[];e.Kg.$t(this.pc,a,b,this);this.hu()}B(){this.Nb=null;for(const a of this.pc)a.B();e.F(this.pc);this.pc=null}hu(){this.pc.sort((a,d)=>a.Ea()-d.Ea());for(let a=0;a<this.pc.length;a++)this.pc[a].Ot(this.pc[a+
1])}gW(){const a=new b(null,this);this.pc.push(a);this.hu();return a}NX(a){for(const d of this.pc){if(!a(d))continue;const c=this.pc.indexOf(d);-1!==c&&(d.B(),this.pc.splice(c,1))}this.a5();this.hu()}a5(){this.pc.sort((a,d)=>a.Ea()-d.Ea())}d_(a){return this.pc.indexOf(a)}c_(a){return this.pc[a]}ma(){return{keyframeDataItemsJson:this.pc.map(a=>a.ma())}}ra(a){a&&(e.Kg.ju(this.pc,a.keyframeDataItemsJson,b,this),this.hu())}}}
{"use strict";const e=self.D;class b{constructor(a,d){this.ij=d;this.Dh=this.Cc=null;this.za="";this.ec=NaN;this.Vi="noease";this.Wi=!1;this.Ni=null;this.rl=void 0;a&&(this.Cc=a[0][0],this.Dh=a[0][1],this.za=a[0][2],this.ec=a[1],this.Vi=a[2],this.Wi=!!a[3],this.Ni=null,a[4]&&(this.Ni=new e.tW(a[4],this)),this.Te=null)}B(){this.ij=null;this.Ni&&(this.Ni.B(),this.Ni=null)}Ot(a){this.Te=a}M(){return this.Cc}Ie(a){"color"===this.za&&e.wm(a)?(this.Cc[0]=e.HD(a),this.Cc[1]=e.BD(a),this.Cc[2]=e.oD(a)):this.Cc=
a}dO(a){"color"===this.za&&e.wm(a)?(this.Dh[0]=e.HD(a),this.Dh[1]=e.BD(a),this.Dh[2]=e.oD(a)):this.Dh=a}vc(){const a=this.ij.ya.ef();if("relative"===a)return this.M();if("absolute"===a)return this.Dh}Mj(){return this.za}JO(a){this.za=a}Ea(){return this.ec}Nq(a){this.ec=a;this.ij.iu()}qm(){return this.Vi}Wj(a){this.Vi=a}Sk(){return this.Wi}hl(a){this.Wi=!!a}mD(a){if(this.Ni){if(this.rl||null===this.rl)return this.rl;var d=this.Ni.Ro;if(!d)return this.rl=null;var c=d.length;for(let h=0;h<c;h++){const m=
d[h];if(m.Cj()===a)return this.rl=m}return this.rl=null}}ma(){const a=this.Ni;return{addonDataJson:a?a.ma():a,value:this.Cc,aValue:this.Dh,type:this.za,time:this.ec,ease:this.Vi,enable:this.Wi}}ra(a){a&&(a.addonDataJson&&this.Ni.dpa(a.addonDataJson),this.Cc=a.value,this.Dh=a.aValue,this.za=a.type,this.ec=a.time,this.Vi=a.ease,this.Wi=a.enable)}}e.IN=class{constructor(a,d){this.ya=d;this.Rb=[];e.Kg.$t(this.Rb,a,b,this);this.iu()}B(){this.ya=null;for(const a of this.Rb)a.B();e.F(this.Rb);this.Rb=null}iu(){this.Rb.sort((a,
d)=>a.Ea()-d.Ea());for(let a=0;a<this.Rb.length;a++)this.Rb[a].Ot(this.Rb[a+1])}gL(){const a=new b(null,this);this.Rb.push(a);this.iu();return a}LL(a){for(const d of this.Rb){if(!a(d))continue;const c=this.Rb.indexOf(d);-1!==c&&(d.B(),this.Rb.splice(c,1))}this.b5();this.iu()}b5(){this.Rb.sort((a,d)=>a.Ea()-d.Ea())}ma(){return{propertyKeyframeDataItemsJson:this.Rb.map(a=>a.ma())}}ra(a){a&&(e.Kg.ju(this.Rb,a.propertyKeyframeDataItemsJson,b,this),this.iu())}}}
{"use strict";const e=self.D;class b{constructor(c,h){this.Ni=h;this.Re=c[0];this.yl=c[1]}B(){this.yl=this.Ni=null}Cj(){return this.Re}ma(){return{id:this.Re,data:this.yl}}ra(c){c&&(this.Re=c.id,this.yl=c.data)}}class a extends b{constructor(c,h){super(c,h);this.wJ=this.yl[0];this.dw=!!this.yl[1];this.uH=this.yl[2];this.dA=!!this.yl[3]}B(){super.B()}ma(){return Object.assign(super.ma(),{startAnchor:this.wJ,startEnable:!!this.dw,endAnchor:this.uH,endEnable:!!this.dA})}ra(c){c&&(super.ra(c),this.wJ=
c.startAnchor,this.dw=!!c.startEnable,this.uH=c.endAnchor,this.dA=!!c.endEnable)}}class d extends b{constructor(c,h){super(c,h);this.nH=this.yl[0];this.jJ=this.yl[1]}B(){super.B()}ma(){return Object.assign(super.ma(),{direction:this.nH,revolutions:this.jJ})}ra(c){c&&(super.ra(c),this.nH=c.direction,this.jJ=c.revolutions)}}e.tW=class{constructor(c){this.Ro=[];e.Kg.$t(this.Ro,c,{wV:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}B(){for(const c of this.Ro)c.B();e.F(this.Ro);this.Ro=null}ma(){return{addonDataItemsJson:this.Ro.map(c=>
c.ma())}}ra(c){c&&e.Kg.ju(this.Ro,c.addonDataItemsJson,{wV:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.D;let b=0;e.s5=class extends e.Go{constructor(a,d){super(`tween-${b++}`,a,d);this.Re="";this.iS=!1;this.TH="start-value";this.wb=this.GT=this.FT=this.oc=null}GL(){for(const a of this.Pd.lt().NV())this.qb.push(e.WO.Ra(this,a));this.wb=this.qb[0]}Of(){return this.wb.cb[0]}Da(){var a=this.qb;if(a&&a.length&&(this.wb=a=a[0])){var d=a.Da();return a.ym()?d:void 0}}Cj(){return this.Re}zN(){if(this.GT)for(const a of this.GT)a(this);if(!this.bg)for(const a of this.qb)a.mi()}qE(){this.hr=
this.g.yk}VL(){if(!this.gp&&(this.gp=!0,this.FT))for(const a of this.FT)a(this)}Nq(a){this.CP();super.Nq(a)}Sc(a){if(!this.Vm&&"current-state"===this.TH)for(const d of this.qb)d.li();super.Sc(a)}mf(a=!1){super.mf(a);if(!this.bg)for(const d of this.qb)d.Em()}kd(a=!0,d=!1){this.CP();super.kd(a,d)}CP(){for(const a of this.qb){const d=c=>{c=c.Ea();const h=this.Sf();return 0!==c&&c!==h};a.OX(d);a.tx(d)}}ou(){if(this.ah)return!0;const a=this.Da();if(a&&a.H().Uf())return!1;this.Ib.vL(this);this.XN();return!0}Ke(a,
d,c){this.oc||(this.oc=this.Da());if(this.oc&&!this.oc.tt()&&(d=this.oc.$d,-1!==d&&(a=c*d),0!==a||0!==this.XA)){this.XA=a;c=this.dc+a*this.$c;a=this.Pd.hs;this.dc=0>c?0:c>=a?a:c;c=!1;d=this.Nx();var h=this.Rx();d||h?d&&!h?0<this.$c?this.dc>=a&&this.wc(0):0>=this.dc&&this.wc(a):!d&&h?0<this.$c?this.dc>=a&&(this.wc(a),this.Xj(-1*this.$c),1===this.Nd?this.Jd<this.wh()?(this.Jd++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):0>=this.dc&&(this.wc(0),this.Xj(-1*this.$c),1===this.Nd?this.Jd<this.wh()?(this.Jd++,
this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):d&&h&&(0<this.$c?this.dc>=a&&(this.wc(a),this.Xj(-1*this.$c)):0>=this.dc&&(this.wc(0),this.Xj(-1*this.$c))):0<this.$c?this.dc>=a&&(this.Jd<this.wh()?(this.Jd++,this.wc(0)):(this.wc(a),c=!0)):0>=this.dc&&(this.Jd<this.wh()?(this.Jd++,this.wc(a)):(this.wc(0),c=!0));c?(this.wb.oO(),this.mf(!0),this.qE()):(this.wb.Fa(this.dc,!0,!1,!1,this.Qe,!1),this.Qe&&(this.Qe=!1))}}ma(){const a=super.ma();return Object.assign(a,{tweenDataItemJson:this.Pd.ma(),id:this.Re,destroyInstanceOnComplete:this.iS,
initialValueMode:this.TH})}ra(a){a&&(this.Pd.ra(a.tweenDataItemJson),super.ra(a),this.Re=a.id,this.iS=a.destroyInstanceOnComplete,this.TH=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const e=self.D;e.WO=class extends e.jF{constructor(b,a){super(b,a);this.nJ=this.Zu=null}static Ra(b,a){return e.m(e.WO,b,a)}pP(){1===this.cb.length?this.Zu=this.cb[0]:(this.Zu=this.cb[0],this.nJ=this.cb[1])}FL(){for(const b of this.Nb.ge().xV())this.cb.push(e.VO.Ra(this,b));this.pP()}Qn(){}Fa(b,a,d=!1,c=!1,h,m=!1){this.oc||this.Da();if(this.oc){if(this.oc.tt()||m&&this.H().Uf())return!1;this.nJ?(this.Zu.Fa(b,d,c),this.nJ.Fa(b,d,c)):this.Zu.Fa(b,d,c);0!==this.Zu.Fk&&(this.Ua||(this.Ua=
this.oc.A()),this.Ua&&this.Ua.Ya())}}Pn(){}ra(b){super.ra(b);this.pP()}}}
{"use strict";const e=self.D;e.VO=class extends e.gb{constructor(b,a){super(b,a);this.Eu=!1}static Ra(b,a){return e.m(e.VO,b,a)}Fa(b,a=!1,d=!1){if(this.Eu){var c=this.Rb[0];var h=this.Rb[1]}else{if(a)c=this.qc.ri(b,this.ya);else{if(this.Kc){h=this.Bb();const m=this.Kc.Te;c=this.Kc.Ea();h=m?m.Ea():h.Sf();if(b<=c||b>=h)this.Kc=this.qc.ri(b,this.ya)}else this.Kc=this.qc.ri(b,this.ya);c=this.Kc}h=c.Te}this.ue.Fa(b,c,h,a,d)}hL(){const b=this.ya.vh().gL();this.Kc=null;this.Eu=2>=this.Sx().length;return b}tx(b){this.Kc=
null;this.ya.vh().LL(b);this.Eu=2>=this.Sx().length}ma(){return{sourceAdapterJson:this.Kb().ma(),basic:this.Eu}}ra(b){b&&(this.Kb().ra(b.sourceAdapterJson),this.Eu=b.basic)}}}
{"use strict";const e=self.D,b=self.Ms;e.TO=class extends e.ka{constructor(a){super();this.Ja=a[0];this.ng=[];for(var d of a[1])a=e.UO.Ra(this,d),this.ng.push(a);for(d=0;d<this.ng.length;d++)this.ng[d].Ot(this.ng[d+1]);this.Tv=new Map;this.tU=new Map;this.o$();b.eW(this.Ja,(c,h,m,g)=>this.Fa(c,h,m,g))}static Ra(a){return e.m(e.TO,a)}B(){for(const a of this.ng)a.B();e.F(this.ng);this.ng=null;this.Tv.clear();this.Tv=null;this.tU.clear();this.tU=null}QZ(a){for(let d=this.ng.length-1;0<=d;d--){const c=
this.ng[d];if(c.og<a)return c}}PZ(a){for(let d=this.ng.length-1;0<=d;d--){const c=this.ng[d];if(c.og<=a)return c}}Fa(a,d,c,h){var m=a/h;a=this.PZ(m);h=a.Te;h||(a=this.QZ(m),h=a.Te);m=e.Eea(m,a.og,h.og,h.og-a.og);const g=a.og,k=a.uw,n=a.og+a.kU,p=a.uw+a.oda,q=h.og+h.oS,u=h.uw+h.xca,w=h.og;h=h.uw;h=b.co("spline")(m,g,k,n,p,q,u,w,h,this.Tv.get(a));h+=a.uw;return(1-h)*d+h*(d+c)}o$(){this.Tv.clear();for(let d=0;d<this.ng.length-1;d++){var a=this.ng[d];if(!a.dw)continue;const c=this.ng[d+1];this.Tv.set(a,
b.tZ(a.og,a.og+a.kU,c.og+c.oS,c.og))}}}}{"use strict";const e=self.D;e.UO=class extends e.ka{constructor(b,a){super();this.og=a[0];this.uw=a[1];this.kU=a[2];this.oda=a[3];this.oS=a[4];this.xca=a[5];this.dw=a[6];this.dA=a[7];this.Te=null}B(){}static Ra(b,a){return e.m(e.UO,b,a)}Ot(b){this.Te=b}}}{"use strict";const e=self.D;e.q5=class extends e.ka{constructor(b){super();this.g=b;this.WB=[]}B(){for(const b of this.WB)b.B();e.F(this.WB);this.WB=null}Ra(b){this.WB.push(e.TO.Ra(b))}}}
{"use strict";const e=self.D;e.Z4=class extends e.ka{constructor(b){super();this.K=b;this.pb=[];this.pb.push(e.m(e.$E,this));this.Qa=0;this.Ti=this.pb[0]}B(){for(const b of this.pb)b.B();e.F(this.pb);this.K=this.Ti=null}H(){return this.K}T(){return this.Ti}xd(){this.T().xd()}a3(){var b=this.pb,a=++this.Qa;a===b.length?(a=e.m(e.$E,this),b.push(a),this.Ti=a):(b=b[a],b.kd(),this.Ti=b)}b3(){const b=this.pb,a=++this.Qa;a===b.length&&b.push(e.m(e.$E,this));const d=b[a];d.uX(b[a-1]);this.Ti=d}Oa(){this.Ti=
this.pb[--this.Qa]}xo(b){const a=this.pb;for(let d=0,c=a.length;d<c;++d)a[d].xo(b)}}}
{"use strict";const e=self.D;e.$E=class extends e.ka{constructor(b){super();this.pb=b;this.K=this.pb.H();this.Kd=this.K.I().jd();this.Xb=!0;this.G=[];this.cc=[]}B(){this.hx();this.Kd=this.K=this.pb=null}hx(){e.F(this.G);e.F(this.cc)}H(){return this.K}OD(){return this.Xb?!!this.K.G.length:!!this.G.length}pa(){return this.Xb?this.K.pa():this.G}I_(){return!!this.cc.length}yD(){const b=this.pa();return b.length?b:this.cc}kd(){this.Xb=!0;e.F(this.cc)}xd(){this.Xb=!0}uX(b){b.Xb?this.kd():(this.Xb=!1,e.Oc(this.G,
b.G),e.F(this.cc))}No(b){this.G.push(b)}pl(b){this.cc.push(b)}je(b){this.Xb=!!b}Yj(b){this.Xb=!1;e.F(this.G);this.G.push(b)}Ht(b){this.Xb=!1;e.Oc(this.G,b)}Rt(b){this.Xb=!1;e.F(this.G);for(const a of b)this.G.push(a)}fL(b,a){for(const d of a)b.has(d)||this.cc.push(d)}o5(b){for(const a of b)this.G.push(a);e.sg(this.cc,b)}Cm(b){b&&(this.Kd.cf().Jb().Md?(this.Xb&&(e.F(this.G),e.Oc(this.cc,b.H().pa()),this.Xb=!1),b=this.cc.indexOf(b),-1!==b&&(this.G.push(this.cc[b]),this.cc.splice(b,1))):this.Yj(b))}xo(b){e.sg(this.G,
b);e.sg(this.cc,b)}}}
{"use strict";const e=self.D;e.cZ=class extends e.ka{constructor(b){super();this.xa=b;this.g=this.xa.I();this.pb=[];this.pb.push(e.m(e.SL,this,null));this.Qa=0;this.fA=[]}B(){for(const b of this.pb)b.B();e.F(this.pb);e.F(this.fA);this.g=this.xa=null}oa(){return this.xa}I(){return this.g}cf(){return this.pb[this.Qa]}Sa(b){var a=this.pb;const d=++this.Qa;if(d===a.length)return b=e.m(e.SL,this,b),a.push(b),b;a=a[d];a.kd(b);return a}Oa(){--this.Qa}d3(b){this.fA.push(b)}R2(){this.fA.pop()}AZ(){const b=this.fA;
return 0===b.length?null:b.de(-1)}}}
{"use strict";const e=self.D;e.SL=class extends e.ka{constructor(b,a){super();this.pb=b;this.g=this.pb.I();this.Qu=a;this.$f=this.wl=0;this.tH=this.up=!1;this.yH=null;this.GH=this.AS=0}B(){this.kd(null);this.g=this.pb=null}kd(b){this.Qu=b;this.$f=this.wl=0;this.tH=this.up=!1}eG(b,a){this.Qu=b;this.wl=0;this.$f=a}YN(){this.$f=this.wl=0}Jb(){return this.Qu}Eg(b){this.Qu=b}Gm(b){this.wl=b}Ey(b){this.$f=b}Im(b){this.up=!!b}Fq(b){this.tH=!!b}j4(b){this.yH=b}m0(b,a){this.AS=b;this.GH=a}Nt(b){this.GH=b}Qj(){const b=
this.Qu;return b.RA?!0:this.wl<b.ac.length-1?!!b.yd().length:!1}}}{"use strict";const e=self.D;e.D1=class extends e.ka{constructor(b){super();this.xa=b;this.g=this.xa.I();this.pb=[];this.Qa=-1;this.Ti=null;this.yA=[]}B(){e.F(this.pb);this.g=this.xa=null}Taa(b){this.yA=b;b=this.yA.slice(0);this.pb.push(b);this.Qa=0;this.Ti=b}oa(){return this.xa}I(){return this.g}cq(){return this.Ti}Sa(){const b=++this.Qa,a=this.pb;b===a.length?a.push(this.yA.slice(0)):e.Oc(a[b],this.yA);this.Ti=a[b]}Oa(){this.Ti=this.pb[--this.Qa]}}}
{"use strict";const e=self.D;e.F1=class extends e.ka{constructor(b){super();this.xa=b;this.g=this.xa.I();this.pb=[];this.Qa=-1}B(){e.F(this.pb);this.g=this.xa=null}oa(){return this.xa}I(){return this.g}$M(){return 0<=this.Qa}cq(){return this.pb[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.pb.length){var b=e.m(e.E1,this);this.pb.push(b);return b}b=this.pb[this.Qa];b.kd();return b}Oa(){--this.Qa}hZ(b){const a=this.pb;for(let d=this.Qa;0<=d;--d){const c=a[d];if(c.Aa()===b)return c}return null}}}
{"use strict";const e=self.D;e.E1=class extends e.ka{constructor(b){super();this.yf=b;this.Ja="";this.Qa=0;this.xc=!1}kd(){this.Ja="";this.Qa=0;this.xc=!1}Ly(b){this.Ja=b}Aa(){return this.Ja}Gc(b){this.Qa=b}Ka(){return this.Qa}mf(){this.xc=!0}}}{"use strict";const e=self.D;e.BW=class extends e.ka{constructor(){super();this.pb=[];this.Qa=-1}B(){e.F(this.pb)}cq(){return this.pb[this.Qa]}Sa(){++this.Qa;if(this.Qa===this.pb.length){const b=[];this.pb.push(b);return b}return this.pb[this.Qa]}Oa(){--this.Qa}}}
{"use strict";const e=self.D;function b(a,d){return a.Ka()-d.Ka()}e.bZ=class extends e.ka{constructor(a){super();this.g=a;this.yu=[];this.oJ=new Map;this.JG=[];this.ES=new Map;this.$G=new Map;this.gH=new Map;this.zz=new Map;this.QR=new Map;this.wH=new Map;this.bda=0;this.IG=[];this.Wba=[];this.uT=[];this.EH=new Map;this.Kd=e.m(e.cZ,this);this.ud=e.m(e.D1,this);this.yf=e.m(e.F1,this);this.HJ=[];this.zB=[];this.yB=[];this.ZG=this.Bl=this.Wl=0;this.lg=[];this.Gz=[];self.c3_callFunction=(d,c)=>this.fz(d,
c)}B(){this.gx();this.Kd.B();this.Kd=null;this.ud.B();this.ud=null;e.F(this.zB);e.F(this.yB);this.g=null;e.F(this.yu);this.oJ.clear()}Ra(a){a=e.m(e.aZ,this,a);this.yu.push(a);this.oJ.set(a.Aa().toLowerCase(),a)}d6(a){this.HJ.push(a)}Pb(){for(const a of this.EH.values())a.Pb(!1);for(const a of this.yu)a.Pb();for(const a of this.yu)a.vG();for(const a of this.HJ)a.Pb(!1);e.F(this.HJ);this.ud.Taa(this.uT)}I(){return this.g}hM(a){return this.oJ.get(a.toLowerCase())||null}B$(a){this.JG.push(a);this.ES.set(a.DS,
a)}y$(a){this.$G.set(a.mb,a)}x$(a){this.gH.set(a.mb,a)}w$(a){this.zz.set(a.mb,a)}A$(a){this.EH.set(a.pA.toLowerCase(),a)}z$(a){this.wH.set(a.mb,a);a.Uf()?this.IG.push(a):this.Wba.push(a)}Yy(a){2<=a.length&&a.sort(b);let d=this.QR.get(a.length);d||(d=[],this.QR.set(a.length,d));for(let h=0,m=d.length;h<m;++h){const g=d[h];a:{for(let k=0,n=a.length;k<n;++k)if(a[k]!==g[k]){var c=!1;break a}c=!0}if(c)return g}d.push(a);return a}j8(a){this.uT.push(a.ob);return this.bda++}jd(){return this.Kd}bf(){return this.jd().cf()}Jb(){return this.bf().Jb()}Lf(){const a=
this.bf();return a.Jb().cM(a.wl)}Zs(){const a=this.bf();return a.Jb().ZL(a.$f)}qZ(a){const d=[];for(a=a.jq();a;)e.En(d,a.UP()),a=a.jq();return d}fQ(a){const d={};for(const c of this.qZ(a))d[c.ti()]=c.jQ();return Object.create(Object.prototype,d)}xD(a){return this.wH.get(a)||null}FZ(a){return this.$G.get(a)||null}oZ(a){return this.zz.get(a)||null}Jx(a){return this.EH.get(a.toLowerCase())||null}x3(){for(const a of this.IG)a.D3()}gM(a){return this.ES.get(a.toLowerCase())||null}GZ(a){return(a=this.$G.get(a))&&
a.cj?a:null}y3(){for(const a of this.JG)a.A3()}cR(){for(const a of this.yu)a.Q$()}I3(a){this.cR();this.Wl++;for(const d of a.Rw())if(a=d.Zc)this.g.Ct(d),a.ua(),this.g.Bt();this.Wl--}async IX(a){this.cR();this.Wl++;for(const d of this.a7(a))await this.g.$p(d);this.Wl--}*a7(a){for(const d of a.Rw())if(a=d.Zc)this.g.Ct(d),yield*a.rb(),this.g.Bt()}vu(a,d,c,h){let m=!1;if(!a.Sb())return this.xE(d,c,h);this.Bl++;for(const g of a.Rw())if(a=g.Zc){this.g.Ct(g);for(const k of a.Yz){const n=k.vu(d,c,h);m=m||
n}a=a.vu(d,c,h);m=m||a;this.g.Bt()}this.Bl--;return m}*bu(a,d,c,h){let m=!1;if(!a.Sb())return this.xE(d,c,h);this.Bl++;for(const g of a.Rw())if(a=g.Zc){this.g.Ct(g);for(const k of a.Yz){const n=yield*k.bu(d,c,h);m=m||n}a=yield*a.bu(d,c,h);m=m||a;this.g.Bt()}this.Bl--;return m}xE(a,d,c){this.zB.push([a,d,c]);return!1}g3(a,d,c){let h=null;const m=new Promise(g=>h=g);this.yB.push([a,d,c,h]);return m}*$$(){if(this.g.pt())throw Error("should not be in breakpoint");const a=this.g.ib;for(;this.yB.length;){const [d,
c,h,m]=this.yB.shift(),g=yield*this.bu(a,d,c,h);m(g)}}async $N(){for(const a of this.$$())await this.g.$p(a)}gE(){return 0<this.Bl}fu(){return++this.Bl}cu(){--this.Bl}g1(){return 0<this.Wl}jy(){return this.g1()||this.gE()}aaa(a){for(const [d,c,h]of this.zB)this.vu(a,d,c,h);e.F(this.zB)}xe(a){a?this.ZG++:this.ZG--}ZM(){return 0<this.ZG}Zp(a){for(let d=0,c=a.length;d<c;++d)a[d].ln.xd()}Cg(a){for(let d=0,c=a.length;d<c;++d)a[d].ln.a3()}Ge(a){for(let d=0,c=a.length;d<c;++d)a[d].ln.b3()}Ob(a){for(let d=
0,c=a.length;d<c;++d)a[d].ln.Oa()}MC(){const a=e.m(e.IE,this);this.lg.push(a);return a}K3(){if(this.lg.length){var a=this.bf(),d=!1;this.Wl++;for(let c=0,h=this.lg.length;c<h;++c){const m=this.lg[c];m.BR()&&m.S$(a);m.$v&&(d=!0)}d&&this.QP();this.Wl--}}async KX(){if(this.lg.length){var a=this.bf(),d=!1;this.Wl++;for(let c=0,h=this.lg.length;c<h;++c){const m=this.lg[c];m.BR()&&await m.U6(a);m.$v&&(d=!0)}d&&this.QP();this.Wl--}}QP(){const a=e.Fda(this.lg,d=>d.$v);for(const d of a)d.B()}gx(){for(const a of this.lg)a.B();
e.F(this.lg)}o3(a){for(const d of this.lg)d.xo(a)}JC(a){this.Gz.push(a)}ix(){e.F(this.Gz)}r_(){const a=Promise.all(this.Gz);this.Gz=[];return a}ma(){return{groups:this.haa(),cnds:this.gaa(),acts:this.faa(),vars:this.taa(),waits:this.paa()}}ra(a){this.d9(a.groups);this.Y8(a.cnds);this.X8(a.acts);this.q9(a.vars);this.m9(a.waits)}haa(){const a={};for(const d of this.JG)a[d.mb.toString()]=d.oq();return a}d9(a){for(const [d,c]of Object.entries(a))(a=this.GZ(parseInt(d,10)))&&a.Gq(c)}gaa(){const a={};for(const [d,
c]of this.gH){const h=c.ma();h&&(a[d.toString()]=h)}return a}Y8(a){const d=new Map;for(const [c,h]of Object.entries(a))d.set(parseInt(c,10),h);for(const [c,h]of this.gH)h.ra(d.get(c)||null)}faa(){const a={};for(const [d,c]of this.zz){const h=c.ma();h&&(a[d.toString()]=h)}return a}X8(a){const d=new Map;for(const [c,h]of Object.entries(a))d.set(parseInt(c,10),h);for(const [c,h]of this.zz)h.ra(d.get(c)||null)}taa(){const a={};for(const [d,c]of this.wH)c.yb||!c.Uf()&&!c.Rh||(a[d.toString()]=c.M());return a}q9(a){for(const [d,
c]of Object.entries(a))(a=this.xD(parseInt(d,10)))&&a.Ie(c)}paa(){return this.lg.filter(a=>!a.e1()).map(a=>a.ma())}m9(a){this.gx();for(const d of a)(a=e.IE.z6(this,d))&&this.lg.push(a)}kD(a){for(;a;)if(a=a.jq(),a instanceof e.Ss)return a;return null}fz(a,d){Array.isArray(d)||(d=[]);a=this.Jx(a.toLowerCase());if(!a)return null;if(!a.vm())return a.bt();var c=a.Ug;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].ob);while(d.length<c.length)}c=a.De();return c.FE(c.zd(),a.Ul,a.bt(),...d)}}}
{"use strict";const e=self.D;e.aZ=class extends e.ka{constructor(b,a){super();this.xa=b;this.g=b.I();this.Ja=a[0];this.eA=[];this.YB=new Map;this.uS=new Map;this.yca=new Map;this.gv=!1;this.$T=[];this.Yz=[];this.RR=new Set;for(const d of a[1])this.zP(d,null,this.eA);this.hj=this.g.zb?{type:"sheet",name:this.Ja,Sw:0,children:[]}:null}B(){this.g=this.xa=null}zP(b,a,d){switch(b[0]){case 0:case 3:this.x6(b,a,d);break;case 1:this.y6(b,a,d);break;case 2:this.C6(b,a,d);break;case 4:this.A6(b,a);break;case 5:this.H6(b,
a,d);break;default:throw Error("invalid event type");}}x6(b,a,d){b=e.Ok.Ra(this,a,b);if(b.Md){d.push(b);d=b.ac;for(let c=0,h=d.length;c<h;++c)d[c].qo()&&this.uQ(b,c)}else b.qo()?this.uQ(b,0):d.push(b)}A6(b,a){b=e.Ss.Ra(this,a,b);this.xa.A$(b)}y6(b,a,d){b=e.xx.Ra(this,a,b);d.push(b)}C6(b,a,d){b=e.RL.Ra(this,a,b);d.push(b)}H6(b,a,d){b=e.wx.Ra(this,a,b);d.push(b)}uQ(b,a){b.Md||this.xa.d6(b);var d=b.cM(a),c=d.La,h=d.H();if(d.aT){var m=this.uS.get(h);m||(m=new Map,this.uS.set(h,m));d=d.KZ().toLowerCase();
h=m.get(c);h||(h=new Map,m.set(c,h));c=h.get(d);c||(c=[],h.set(d,c));c.push([b,a])}else m=this.YB.get(h),m||(m={GK:new Map,zw:new Map},this.YB.set(h,m)),(h=d.yg())?(d=m.zw.get(h),d||(d=new Map,m.zw.set(h,d))):d=m.GK,m=d.get(c),m||(m=[],d.set(c,m)),m.push([b,a])}Pb(){const b=this.eA;for(let a=0,d=b.length;a<d;++a)b[a].Pb(a<d-1&&b[a+1]instanceof e.Ok&&b[a+1].iy())}c6(b){this.$T.push(b)}vG(){e.F(this.Yz);this.gP(this);this.RR.clear()}gP(b){const a=b.Yz,d=b.RR;for(const c of this.$T){const h=c.nv;c.Lb&&
b!==h&&!d.has(h)&&(d.add(h),h.gP(b),a.push(h))}}oa(){return this.xa}I(){return this.g}Aa(){return this.Ja}XQ(b,a){this.yca.set(a,b)}Q$(){this.gv=!1}ua(){if(!this.gv){var b=this.g,a=b.ZD(),d=a?performance.now():0;this.gv=!0;var c=this.oa(),h=c.bf();for(const m of this.eA)m.ua(h),c.Zp(m.yd()),c.ix(),b.Qd();h.kd(null);a&&(this.hj.Sw+=performance.now()-d)}}*rb(){if(!this.gv){this.gv=!0;var b=this.g,a=this.oa(),d=a.bf();for(const c of this.eA)yield*c.rb(d),a.Zp(c.yd()),a.ix(),b.Qd();d.kd(null)}}vu(b,a,
d){if(a){const c=a.H();this.tG(b,a,c,d);for(const h of c.Mh)this.tG(b,a,h,d)}else return this.tG(b,a,null,null)}tG(b,a,d,c){d=this.YB.get(d);if(!d)return!1;c=c?d.zw.get(c):d.GK;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [h,m]of c)c=this.PP(a,h,m),b=b||c;return b}*bu(b,a,d){if(a){const c=a.H();yield*this.zF(b,a,c,d);for(const h of c.Mh)yield*this.zF(b,a,h,d)}else return yield*this.zF(b,a,null,null)}*zF(b,a,d,c){d=this.YB.get(d);if(!d)return!1;c=c?d.zw.get(c):d.GK;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [h,m]of c)c=h.ye()?this.PP(a,h,m):yield*this.O6(a,h,m),b=b||c;return b}PP(b,a,d){const c=this.g,h=this.xa,m=h.Jb(),g=h.jd(),k=h.Bl;let n=!1;m&&h.Cg(m.zd());h.Cg(a.zd());const p=1<k;p&&h.ud.Sa();const q=g.Sa(a);b&&(a.ac[d].H().T().Yj(b),b.Zb()&&b.Hi());b=!0;if(a.Ga()){const u=a.Qp;for(let w=0,r=u.length;w<r;++w)if(!u[w].ZN(q)){b=!1;break}}b&&(c.al(),a.Md?a.J3(q,d):a.ua(q),n=q.up);g.Oa();p&&h.ud.Oa();h.Ob(a.zd());m&&h.Ob(m.zd());m||1!==k||(h.ix(),h.ZM()||c.Qd());return n}*O6(b,
a,d){const c=this.g,h=this.xa,m=h.Jb(),g=h.jd(),k=h.Bl;let n=!1;m&&h.Cg(m.zd());h.Cg(a.zd());const p=1<k;p&&h.ud.Sa();const q=g.Sa(a);b&&(a.ac[d].H().T().Yj(b),b.Zb()&&b.Hi());b=!0;if(a.Ga()){const u=a.Qp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].IL(q))){b=!1;break}}b&&(c.al(),a.Md?yield*a.JX(q,d):yield*a.rb(q),n=q.up);g.Oa();p&&h.ud.Oa();h.Ob(a.zd());m&&h.Ob(m.zd());m||1!==k||(h.ix(),h.ZM()||c.Qd());return n}}}
{"use strict";const e=self.D,b=[];function a(){return!0}function*d(){return!0}e.Ok=class extends e.ka{constructor(c,h,m){super();this.Zc=c;this.g=c.I();this.Bc=h;this.Yd=null;this.Kd=this.g.oa().jd();this.Ue=[];this.Zr=[];this.bv=this.TA=this.RA=this.JS=!1;this.Md=!!m[2];this.HA=!1;this.Qp=null;this.ac=[];this.Tb=[];this.bi=[];this.Mi=a;this.Ko=d;this.gI=this.cj=!1;this.DS="";this.JA=!1;this.hj=this.Wz=null;this.mb=m[4];this.qr=m[5];this.Zc.XQ(this,this.qr);this.Ta=this.g.zb?{fd:m[3][0],BK:m[3][1],
PU:!1,fK:!1,gK:!1,QU:!1}:null;this.oa().y$(this);3===m[0]&&this.E8(m[1]);c=0;for(var g of m[6])h=e.wL.Ra(this,g,c++),this.ac.push(h),this.lP(h.H());c=0;for(const k of m[7])g=e.Ww.Ra(this,k,c++),this.Tb.push(g);if(9===m.length){m=m[8];for(const k of m)this.Zc.zP(k,this,this.bi)}this.ac.length&&(this.HA=null===this.ac[0].H()&&this.ac[0].La===e.C.Ba.L.QL);0===this.ac.length&&(this.ac=b);0===this.Tb.length&&(this.Tb=b);0===this.bi.length&&(this.bi=b)}static Ra(c,h,m){return e.m(e.Ok,c,h,m)}E8(c){this.cj=
!0;this.JA=this.gI=!!c[0];this.DS=c[1].toLowerCase();this.Wz=[];this.oa().B$(this);this.g.zb&&(this.hj={type:"group",name:c[1],Sw:0,children:[]})}U5(c){this.Wz.push(c)}fP(c,h){for(const m of c.Qg.Rl)h.includes(m)||h.push(m)}mP(c,h){if(c)if(h.includes(c)||h.push(c),c.bb)for(const m of c.fp)m.Zb()&&this.fP(m,h);else c.Zb()&&this.fP(c,h)}lP(c){this.mP(c,this.Ue)}Y5(c){this.mP(c,this.Zr)}U3(){this.Ue=this.g.Uc}Pb(c){this.bv=!!c;this.y8();this.z8();for(const m of this.ac)m.Pb();if(0<this.Tb.length){c=
!1;for(var h of this.Tb)h.Pb(),h.R_()&&(c=!0);c?(this.Mi=this.U$,this.Ko=this.W6):(this.Mi=this.T$,this.Ko=this.V6)}h=this.bi;for(let m=0,g=h.length;m<g;++m)h[m].Pb(m<g-1&&h[m+1]instanceof e.Ok&&h[m+1].iy());this.Ta&&this.Eba();this.hj&&this.l8().hj.children.push(this.hj)}l8(){let c=this.Ga();for(;c;){if(c.cj)return c;c=c.Ga()}return this.Zc}Eba(){const c=this.Ta;c.PU=this.ac.every(h=>h.ye());c.fK=this.Tb.every(h=>h.ye());c.gK=this.bi.every(h=>h.ye());c.QU=c.PU&&c.fK&&c.gK}y8(){if(this.cj){var c=
this.Ga();for(this.TA=!0;c;){if(!c.cj){this.TA=!1;break}c=c.Ga()}}}x8(){var c=this.g.Uc;if(this.Ue===c)this.Zr=c;else{this.Zr=e.jK(this.Ue);for(c=this.Ga();c;){for(var h of c.Ue)this.Y5(h);c=c.Ga()}h=this.oa();this.Ue=h.Yy(this.Ue);this.Zr=h.Yy(this.Zr)}}z8(){if(this.J_()){this.Qp=[];for(var c=this.Ga();c;)this.Qp.push(c),c=c.Ga();this.Qp.reverse()}}St(){this.RA=!0;this.Bc&&this.Bc.St()}yd(){return this.Ue}zd(){this.JS||(this.JS=!0,this.x8());return this.Zr}T_(c){return this.Ue.includes(c)}oa(){return this.Zc.oa()}I(){return this.g}Ga(){return this.Bc}eba(c){this.Yd=
c}jq(){return this.Yd||this.Bc}aE(){return this.Ta&&this.Ta.BK}no(){return this.aE()&&this.Ta.fd}iy(){return this.HA}oq(){return this.JA}A3(){this.Gq(this.gI)}Gq(c){c=!!c;if(!this.cj)throw Error("not a group");if(this.JA!==c){this.JA=c;for(const h of this.Wz)h.YO();this.Wz.length&&(c=this.g.Na().Zc)&&c.vG()}}qo(){return this.ac.length&&this.ac[0].qo()}a1(){return this.Yd&&this.Yd instanceof e.Ss}J_(){return this.a1()||this.ac.some(c=>c.qo())}cM(c){c=Math.floor(c);if(0>c||c>=this.ac.length)throw new RangeError("invalid condition index");
return this.ac[c]}$0(c){let h=c.Ka();if(0===h)return!0;for(--h;0<=h;--h)if(this.ac[h].H()===c.H())return!1;return!0}ZL(c){c=Math.floor(c);if(0>c||c>=this.Tb.length)throw new RangeError("invalid action index");return this.Tb[c]}w8(c){c=Math.floor(c);return 0<=c&&c<this.Tb.length}UP(){return this.bi.filter(c=>c instanceof e.xx)}ZN(c){c.Eg(this);let h=!1;const m=this.ac;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.Gm(g);if(n.LA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ua())h=
!0;else if(!this.Md)return!1}return this.Md?h:!0}J3(c,h){c.Eg(this);this.ac[h].ua()&&(this.Mi(c,0)&&this.ql(),c.Im(!0))}*IL(c){c.Eg(this);let h=!1;const m=this.ac;for(let g=0,k=m.length;g<k;++g){const n=m[g];c.Gm(g);if(n.LA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ye()?n.ua():yield*n.rb())h=!0;else if(!this.Md)return!1}return this.Md?h:!0}*JX(c,h){c.Eg(this);h=this.ac[h];if(h.ye()?h.ua():yield*h.rb())(this.ox()?this.Mi(c,0):yield*this.Ko(c,0))&&(this.qx()?this.ql():yield*this.au()),
c.Im(!0)}ua(c){c.Eg(this);this.HA||c.Fq(!1);this.Md?this.Z$(c):this.kz(c)}*rb(c){if(this.no()||this.g.uc())yield this;c.Eg(this);this.HA||c.Fq(!1);this.Md?yield*this.h7(c):yield*this.wF(c)}Z$(c){const h=this.ac;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.qo()||(c.Gm(k),g=g.ua(),m=m||g)}c.Im(m);m&&(this.Mi(c,0)&&this.ql(),this.bv&&c.Fq(!0))}*h7(c){const h=this.ac;let m=0===h.length;for(let k=0,n=h.length;k<n;++k){var g=h[k];g.qo()||(c.Gm(k),g=g.ye()?g.ua():yield*g.rb(),m=m||g)}c.Im(m);
m&&((this.ox()?this.Mi(c,0):yield*this.Ko(c,0))&&(this.qx()?this.ql():yield*this.au()),this.bv&&c.Fq(!0))}kz(c){const h=this.ac;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.Gm(m);if(!k.ua()){c.Im(!1);return}}c.Im(!0);this.Mi(c,0)&&this.ql();c.up&&this.bv&&c.Fq(!0)}*wF(c){const h=this.ac;for(let m=0,g=h.length;m<g;++m){const k=h[m];c.Gm(m);if(k.ye()?!k.ua():!(yield*k.rb())){c.Im(!1);return}}c.Im(!0);(this.ox()?this.Mi(c,0):yield*this.Ko(c,0))&&(this.qx()?this.ql():yield*this.au());c.up&&this.bv&&
c.Fq(!0)}T$(c,h){const m=this.Tb;for(let g=h,k=m.length;g<k;++g)h=m[g],c.Ey(g),h.ua();return!0}*V6(c,h){const m=this.Tb;for(let g=h,k=m.length;g<k;++g)h=m[g],c.Ey(g),h.ye()?h.ua():yield*h.rb();return!0}U$(c,h){const m=this.oa(),g=this.Tb;for(let k=h,n=g.length;k<n;++k){h=g[k];c.Ey(k);const p=h.ua();if(h.pL()&&!0===p)return!1;h.Bg()&&p instanceof Promise&&m.JC(p)}return!0}*W6(c,h){const m=this.oa(),g=this.Tb;for(let k=h,n=g.length;k<n;++k){h=g[k];c.Ey(k);let p;p=h.ye()?h.ua():yield*h.rb();if(h.pL()&&
!0===p)return!1;h.Bg()&&p instanceof Promise&&m.JC(p)}return!0}R$(c){this.Mi(c,c.$f)&&this.ql()}*T6(c){if(yield*this.Ko(c,c.$f))yield*this.au()}ql(){if(this.bi.length){var c=this.cj&&this.g.ZD(),h=c?performance.now():0,m=this.Kd,g=m.Sa(this);this.RA?this.daa(g):this.caa(g);m.Oa();c&&(this.hj.Sw+=performance.now()-h)}}daa(c){const h=this.cj,m=this.TA,g=this.oa(),k=this.bi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.yd(),r=!m||!h&&n<q;r&&g.Ge(w);u.ua(c);r?g.Ob(w):g.Zp(w)}}caa(c){const h=
this.bi;for(let m=0,g=h.length;m<g;++m)h[m].ua(c)}*au(){if(this.bi.length){var c=this.Kd,h=c.Sa(this);this.RA?yield*this.k7(h):yield*this.j7(h);c.Oa()}}*k7(c){const h=this.cj,m=this.TA,g=this.oa(),k=this.bi;for(let n=0,p=k.length,q=p-1;n<p;++n){const u=k[n],w=u.yd(),r=!m||!h&&n<q;r&&g.Ge(w);yield*u.rb(c);r?g.Ob(w):g.Zp(w)}}*j7(c){const h=this.bi;for(let m=0,g=h.length;m<g;++m)yield*h[m].rb(c)}Dg(c,h){this.g.al();h.YN();const m=this.ac;if(!this.Md)for(let g=c.wl+1,k=m.length;g<k;++g)if(c=m[g],h.Gm(g),
!c.ua())return!1;this.Mi(h,0)&&this.ql();return!0}*wg(c,h){this.g.al();h.YN();const m=this.ac;if(!this.Md)for(let g=c.wl+1,k=m.length;g<k;++g)if(c=m[g],h.Gm(g),c.ye()?!c.ua():!(yield*c.rb()))return!1;(this.ox()?this.Mi(h,0):yield*this.Ko(h,0))&&(this.qx()?this.ql():yield*this.au());return!0}ye(){return!this.no()&&!this.g.uc()&&this.Ta.QU}ox(){return!this.g.uc()&&this.Ta.fK}qx(){return!this.g.uc()&&this.Ta.gK}pF(c){if(this.Ga()){const h=this.Qp;for(let m=0,g=h.length;m<g;++m)if(!h[m].ZN(c))return!1}return!0}*AP(c){if(this.Ga()){const h=
this.Qp;for(let m=0,g=h.length;m<g;++m)if(!(yield*h[m].IL(c)))return!1}return!0}OP(c,h,m){0<h.length?m?(h=h.map(g=>g.ba(0)),c.ud.Sa(),this.Yd.Mt(h)):this.Yd.$Y(h):m&&c.ud.Sa()}G3(c,h){let m,g;const k=0<c.length;var n=this.g;const p=this.Kd,q=n.oa(),u=1<q.fu();this.OP(q,h,u);k&&q.Cg(c);h=p.Sa(this);this.pF(h)&&(n.al(),h.Eg(this),(n=this.Yd.Bg())&&([g,m]=this.Yd.cF()),this.kz(h),n&&this.Yd.xt(g));p.Oa();u&&q.ud.Oa();k&&q.Ob(c);q.cu();return m}*GX(c,h){let m,g;if(this.no()||this.g.uc())yield this;const k=
0<c.length;var n=this.g;const p=this.Kd,q=n.oa(),u=1<q.fu();this.OP(q,h,u);k&&q.Cg(c);h=p.Sa(this);if(yield*this.AP(h))n.al(),h.Eg(this),(n=this.Yd.Bg())&&([g,m]=this.Yd.cF()),yield*this.wF(h),n&&this.Yd.xt(g);p.Oa();u&&q.ud.Oa();k&&q.Ob(c);q.cu();return m}H3(c){const h=this.zd(),m=0<h.length,g=this.g,k=this.Kd,n=g.oa(),p=1<n.fu();p&&n.ud.Sa();this.Yd.Mt(c);m&&n.Cg(h);c=k.Sa(this);this.pF(c)&&(g.al(),c.Eg(this),this.kz(c));k.Oa();p&&n.ud.Oa();m&&n.Ob(h);n.cu()}*HX(c){if(this.no()||this.g.uc())yield this;
const h=this.zd(),m=0<h.length,g=this.g,k=this.Kd,n=g.oa(),p=1<n.fu();p&&n.ud.Sa();this.Yd.Mt(c);m&&n.Cg(h);c=k.Sa(this);if(yield*this.AP(c))g.al(),c.Eg(this),yield*this.wF(c);k.Oa();p&&n.ud.Oa();m&&n.Ob(h);n.cu()}FE(c,h,m,...g){let k,n;const p=0<c.length,q=this.g,u=this.Kd,w=q.oa(),r=1<w.fu();r&&w.ud.Sa();0<g.length&&this.Yd.Mt(g);p&&w.Cg(c);g=u.Sa(this);g.m0(h,m);u.d3(g);q.Hy(!1);this.pF(g)&&(q.al(),g.Eg(this),(h=this.Yd.Bg())&&([n,k]=this.Yd.cF()),this.kz(g),h&&this.Yd.xt(n));q.Hy(!0);u.Oa();u.R2();
r&&w.ud.Oa();p&&w.Ob(c);w.cu();return k||g.GH}}}
{"use strict";const e=self.D,b=[];let a=!1;e.wx=class extends e.ka{constructor(d,c,h){super();const m=d.I(),g=d.oa();this.Zc=d;this.xa=g;this.g=d.I();this.Bc=c;this.La=m.th(h[1]);this.qr=h[2];this.Zc.XQ(this,this.qr);this.Ta=m.zb?{fd:h[3][0],BK:h[3][1]}:null}static Ra(d,c,h){return e.m(e.wx,d,c,h)}Pb(){const d=this.La,c=this.g.oa().fQ(this);this.La=d.bind(null,this.g.aj,c)}Ga(){return this.Bc}jq(){return this.Bc}aE(){return this.Ta&&this.Ta.BK}no(){return this.aE()&&this.Ta.fd}iy(){return!1}yd(){return b}zd(){return this.Bc?
this.Bc.zd():b}ua(d){d.Eg(this);this.xa.JC(this.eaa())}async eaa(){try{await this.La()}catch(d){console.error(`Unhandled exception running script %c${this.Zc.Aa()}, event ${this.qr}:`,"font-size: 1.2em; font-weight: bold;",d),self.vg&&self.vg.Vaa(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*rb(d){d.Eg(this);if(this.no()||this.g.uc())yield this;
this.ua(d)}ye(){return!this.no()&&!this.g.uc()}static E_(){return a}static p4(){a=!0}}}
{"use strict";const e=self.D;e.Ss=class extends e.ka{constructor(b,a,d){super();this.Zc=b;this.g=b.I();this.Bc=a;const c=d[1];this.pA=c[0];this.Ul=c[1];this.Ug=c[2].map(h=>e.xx.Ra(b,this,h));this.hg=c[3];this.UH=[];this.qv=c[4];this.Yca=0;this.Pu=-1;this.Bu=new Map;this.Ud=e.Ok.Ra(b,a,d);this.Ud.eba(this)}static Ra(b,a,d){return e.m(e.Ss,b,a,d)}Pb(){for(const b of this.Ug)b.Pb();this.Ud.Pb(!1)}UP(){return this.Ug}C$(b){this.UH.push(b)}$Y(b){const a=this.Ug;for(let d=0,c=a.length;d<c;++d)a[d].Ie(b[d].ba(0))}Mt(b){const a=
this.Ug;for(let d=0,c=a.length;d<c;++d)a[d].Ie(b[d])}bX(){return this.Ug.map(b=>b.M())}Ga(){return this.Bc}jq(){return this.Bc}vm(){return this.hg}bt(){switch(this.Ul){case 0:return null;case 2:return"";default:return 0}}De(){return this.Ud}Bg(){return this.qv}cF(){const b=this.Yca++;this.Pu=b;let a;const d=new Promise(c=>a=c);this.Bu.set(b,{resolve:a,MK:0});return[b,d]}xt(b){const a=this.Bu.get(b);0===a.MK&&(a.resolve(),this.Bu.delete(b));this.Pu=-1}L2(){this.Bu.get(this.Pu).MK++;return this.Pu}F3(b){this.Pu=
b;this.Bu.get(b).MK--}}}
{"use strict";const e=self.D,b=[];e.xx=class extends e.ka{constructor(a,d,c){super();const h=a.oa();this.Zc=a;this.xa=h;this.g=a.I();this.Bc=d;this.ud=h.ud;this.Ja=c[1];this.za=c[2];this.ob=c[3];this.Rh=!!c[4];this.yb=!!c[5];this.Jca=d instanceof e.Ss;this.mb=c[6];this.Cv=this.g.ti(c[8]);this.lda=m=>this.Ie(m);this.jda=()=>this.M();this.LS=!this.Bc||this.Rh||this.yb;this.Cc=this.ob;this.FI=-1;this.TM()&&(this.Cc=this.Cc?1:0);!this.jE()||this.Rh||this.yb||(this.FI=h.j8(this));h.z$(this)}static Ra(a,
d,c){return e.m(e.xx,a,d,c)}Pb(){if(this.jE()&&!this.Rh&&!this.yb&&!this.Jca){const a=this.xa.kD(this);a&&a.C$(this)}}Aa(){return this.Ja}ti(){return this.Cv}Ga(){return this.Bc}jq(){return this.Ga()}Uf(){return!this.Ga()}jE(){return!this.Uf()}Am(){return 0===this.za}Ai(){return 1===this.za}TM(){return 2===this.za}iy(){return!1}yd(){return b}ua(){!this.jE()||this.Rh||this.yb||this.Ie(this.ob)}ye(){return!0}*rb(a){this.ua(a)}Ie(a){this.Am()?"number"!==typeof a&&(a=parseFloat(a)):this.Ai()?"string"!==
typeof a&&(a=a.toString()):this.TM()&&(a=a?1:0);this.LS?this.Cc=a:this.ud.cq()[this.FI]=a}M(){return this.LS?this.Cc:this.ud.cq()[this.FI]}D3(){this.Cc=this.ob}jQ(){return{configurable:!1,enumerable:!0,get:this.jda,set:this.lda}}}}
{"use strict";const e=self.D,b=[];e.RL=class extends e.ka{constructor(a,d,c){super();const h=a.oa();this.Zc=a;this.xa=h;this.g=a.I();this.Bc=d;this.nv=null;this.Dca=c[1];this.Lb=!0}static Ra(a,d,c){return e.m(e.RL,a,d,c)}Pb(){this.nv=this.xa.hM(this.Dca);this.Zc.c6(this);let a=this.Ga();for(;a;)a instanceof e.Ok&&a.cj&&a.U5(this),a=a.Ga();this.YO();this.g.zb&&this.Zc.hj.children.push(this.nv.hj)}Ga(){return this.Bc}yd(){return b}ua(){const a=!!this.Ga(),d=this.g.Uc;a&&this.xa.Cg(d);this.nv.ua();a&&
this.xa.Ob(d)}*rb(){const a=!!this.Ga(),d=this.g.Uc;a&&this.xa.Cg(d);yield*this.nv.rb();a&&this.xa.Ob(d)}ye(){return!1}YO(){let a=this.Ga();for(;a;){if(a instanceof e.Ok&&a.cj&&!a.oq()){this.Lb=!1;return}a=a.Ga()}this.Lb=!0}}}
{"use strict";const e=self.D;e.Xn=class extends e.ka{constructor(k){super();this.Wb=k;this.g=k.I()}Pb(){}static BX(k,n){return e.m([m,c,h,g,b,a][n[0]],k,n)}};class b extends e.Xn{constructor(k,n){super(k);this.Dd=this.g.jt();this.La=this.g.th(n[1]);this.La!==e.C.Ba.Xa.random&&this.La!==e.C.Ba.Xa.RU||this.Wb.ZE()}P(){return this.Dd.bk(this.La,this.Dd)}}class a extends e.Xn{constructor(k,n){super(k);this.Br=null;this.pA=n[1];this.Wb.ZE()}Pb(){const k=this.g.oa();this.Br=k.Jx(this.pA);this.pA=null;const n=
this.Br.De();this.xl=[...new Set([...this.Wb.De().zd(),...n.zd()])];this.xl=k.Yy(this.xl)}P(){const k=this.Br;if(k.vm())return e.Ok.prototype.FE.bind(k.De(),this.xl,k.Ul,k.bt());{const n=k.bt();return()=>n}}}function d(k,n){if(k>=n)return k%n;0>k&&(k<=-n&&(k%=n),0>k&&(k+=n));return k}class c extends e.Xn{constructor(k,n){super(k);this.K=this.g.df(n[1]);this.La=this.g.th(n[2]);this.Vv=!!n[3];this.Kd=this.g.oa().jd();this.Wb.XF(this.K)}P(){return this.K.Cb().bk(this.La,this.K.wi().qa)}Fb(){const k=
this.K,n=k.T().yD();var p=n.length;if(0===p)return this.Vv?"":0;p=d(this.Wb.Yr,p);this.Kd.cf().j4(k);return this.La.apply(n[p].qa,[])}}class h extends e.Xn{constructor(k,n){super(k);this.K=this.g.df(n[1]);this.zU=n[3];this.Vv=!!n[2];this.Wb.XF(this.K)}jb(){const k=this.K.T().yD();var n=k.length;if(0===n)return this.Vv?"":0;n=d(this.Wb.Yr,n);return k[n].cQ(this.zU)}bq(){var k=this.K,n=k.T().yD(),p=n.length;if(0===p)return this.Vv?"":0;p=d(this.Wb.Yr,p);n=n[p];k=n.H().zD(k.Nh);return n.cQ(this.zU+k)}}
class m extends e.Xn{constructor(k,n){super(k);this.K=this.g.df(n[1]);this.Vc=this.K.Ax(n[2]);this.Qi=this.K.Vs(n[2]);this.La=this.g.th(n[3]);this.Vv=!!n[4];this.Kd=this.g.oa().jd();this.Wb.XF(this.K)}}class g extends e.Xn{constructor(k,n){super(k);this.Z=null;this.vH=n[1]}Pb(){this.Z=this.g.oa().xD(this.vH)}}}
{"use strict";const e=self.D;e.Fe=class extends e.ka{constructor(A,G,z){super();this.Wb=A;this.Qa=z;this.za=G;this.ba=null;this.yb=this.Xe=!1}static Ra(A,G,z){const F=G[0];return e.m([a,d,p,h,g,c,k,a,h,h,q,u,p,r,d,n,m,w,v,y][F],A,F,z,G)}Pb(){}ZE(){this.Xe=!0}XF(A){this.Xe||!A||A.Cb().Xm||(this.Xe=!0)}Ka(){return this.Qa}I(){return this.Wb.I()}De(){return this.Wb.De()}};function b(A){A=self.SW[A];if(!A)throw Error("invalid expression number");return A}class a extends e.Fe{constructor(A,G,z,F){super(A,
G,z);this.Yr=0;A=F[1];this.xH=A[0];this.Or=[];this.gA=null;for(let H=1,J=A.length;H<J;++H)this.Or.push(e.Xn.BX(this,A[H]));this.Or.length?this.ba=this.IZ:(this.ba=b(this.xH),this.yb=!0)}j(A){if(0>A||A>=this.Or.length)throw new RangeError("invalid numbered node");return this.Or[A]}Pb(){for(var A of this.Or)A.Pb();A=b(this.xH);this.gA=this.Or.length?A(this):A}IZ(A){this.Yr=A;return this.gA()}}class d extends a{constructor(A,G,z,F){super(A,G,z,F);this.ba=this.v_;14===G&&(this.De().U3(),this.Wb instanceof
e.Ww&&this.De().St())}v_(A){this.Yr=A;A=this.gA();return"string"===typeof A?A:""}d8(){return b(this.xH)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.ba=this.ea;this.yb=!1}ea(A){this.Yr=A;A=this.gA();return this.I().Na().ea(A)}}class h extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.qca=F[1];this.ba=this.zZ;this.yb=!0}zZ(){return this.qca}}class m extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.cca=F[1];this.ba=this.vZ;this.yb=!0}vZ(){return this.cca}}class g extends e.Fe{constructor(A,
G,z,F){super(A,G,z);this.K=this.I().df(F[1]);this.ba=this.H;A=this.De();A.lP(this.K);this.Wb instanceof e.Ww?A.St():A.Ga()&&A.Ga().St();this.yb=!0}H(){return this.K}}class k extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.Wg=this.I().ib.fq(F[1]);this.ba=this.hc;this.yb=!0}hc(){return this.Wg}}class n extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.ci=this.I().Ib.Yx(F[1]);this.ba=this.Bb;this.yb=!0}Bb(){return this.ci}}class p extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.zca=F[1];this.ba=
this.LZ;this.yb=!0}LZ(){return this.zca}}class q extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.WS=F[1];(A=this.Wb.H())&&A.bb?(this.ba=this.JZ,this.ZE()):(this.ba=this.XZ,this.yb=!0)}XZ(){return this.WS}JZ(A){A=A||0;const G=this.Wb.H();var z=G.T();const F=z.pa();if(F.length)A=F[A%F.length].H();else if(z.I_())z=z.cc,A=z[A%z.length].H();else if(0<G.G.length)z=G.pa(),A=z[A%z.length].H();else return 0;return this.WS+A.zD(G.Nh)}}class u extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.vH=F[1];
this.Z=null;this.ba=this.HZ;this.yb=!0}Pb(){this.Z=this.I().oa().xD(this.vH)}HZ(){return this.Z}}class w extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.yS=F[1];this.Br=null;this.ba=this.RZ;this.yb=!0}Pb(){this.Br=this.I().oa().Jx(this.yS);this.yS=null}RZ(){return this.Br}}class r extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.BJ=[];this.AU=[];this.yb=!0;for(let H=1,J=F.length;H<J;++H)A=e.Fe.Ra(this.Wb,F[H],0),this.BJ.push(A),this.AU.push(0),A.yb||(this.yb=!1);this.ba=this.B_}Pb(){for(const A of this.BJ)A.Pb()}B_(){const A=
this.BJ,G=this.AU;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ba(0);return G}}class v extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.vca=F[1];this.ba=this.qm;this.yb=!0}qm(){return this.vca}}class y extends e.Fe{constructor(A,G,z,F){super(A,G,z);this.ica=F[1];this.ba=this.y_;this.yb=!0}y_(){return this.ica}}}
{"use strict";const e=self.D;function b(c,h){for(let m=0,g=c.length;m<g;++m)h[m]=c[m].ba(0)}const a=[],d=function(){};e.wL=class extends e.ka{constructor(c,h,m){super();this.Ud=c;this.g=c.I();this.Qa=m;this.La=this.g.th(h[1]);this.nI=0<h[3];this.aT=2===h[3];this.LA=!!h[4];this.dj=!!h[5];this.Rh=!!h[6];this.mb=h[7];this.bT=this.Ud.Md;this.Vc=this.K=null;this.Qi=-1;this.Dd=null;this.rb=this.ua=d;this.Ma=[];this.Ab=[];this.sl=!1;this.di=this.Hb=null;this.Ta=this.g.zb?{fd:h[8][0],Ef:h[8][1]}:null;-1===
h[0]?this.Dd=this.g.jt():(this.K=this.g.df(h[0]),h[2]&&(this.Vc=this.K.Ax(h[2]),this.Qi=this.K.Vs(h[2])),this.Ud.Ga()&&this.Ud.Ga().St());if(10===h.length){c=h[9];for(let g of c)this.Ma.push(e.Fe.Ra(this,g,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=a);this.Ud.oa().x$(this)}static Ra(c,h,m){return e.m(e.wL,c,h,m)}Pb(){for(const c of this.Ma)c.Pb(),c.Xe&&(this.sl=!0);this.aT?(this.ua=this.V$,this.rb=this.b7):this.Dd?(this.pG(),this.rb=this.yF):this.K.Cb().Xm?(this.oG(),this.rb=
this.xF):this.Rh?(this.ua=this.baa,this.rb=this.i7):(this.ua=this.iR,this.rb=this.c7)}pG(){this.tu(this.Dd,this.Dd,this.hG)}oG(){const c=this.K.Cb(),h=this.K.wi().qa;this.tu(c,h,this.gG)}tu(c,h,m){const g=this.La,k=this.dj,n=this.Ma;if(0===n.length){const p=c.bk(g,h);this.ua=k?function(){return e.xor(p(),k)}:p}else if(1===n.length){const p=n[0];if(!k&&p.yb)this.ua=c.WP(g,h,p.ba(0));else{const q=c.bk(g,h);this.ua=function(){return e.xor(q(p.ba(0)),k)}}}else if(2===n.length){const p=n[0],q=n[1];if(!k&&
p.yb&&q.yb)this.ua=c.XP(g,h,p.ba(0),q.ba(0));else{const u=c.bk(g,h);this.ua=function(){return e.xor(u(p.ba(0),q.ba(0)),k)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!k&&p.yb&&q.yb&&u.yb)this.ua=c.YP(g,h,p.ba(0),q.ba(0),u.ba(0));else{const w=c.bk(g,h);this.ua=function(){return e.xor(w(p.ba(0),q.ba(0),u.ba(0)),k)}}}else this.ua=m}H(){return this.K}yg(){return this.Vc}De(){return this.Ud}I(){return this.g}Ka(){return this.Qa}dM(){return this.Ka()}qo(){return this.nI}ye(){return!this.Ta.fd&&
!this.g.uc()&&!this.Ta.Ef}Jj(){this.Hb||(this.Hb=new Map);return this.Hb}mt(){this.di||(this.di=new Map);return this.di}hG(){const c=this.Ab;b(this.Ma,c);return e.xor(this.La.apply(this.Dd,c),this.dj)}*yF(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Dd,c);e.zm(c)&&(c=yield*c);return e.xor(c,this.dj)}return this.ua()}gG(){const c=this.Ab;b(this.Ma,c);const h=this.K.wi().qa;return e.xor(this.La.apply(h,c),this.dj)}*xF(){if(this.Ta.fd||this.g.uc())yield this;
if(this.Ta.Ef){var c=this.Ab;b(this.Ma,c);const h=this.K.wi().qa;c=this.La.apply(h,c);e.zm(c)&&(c=yield*c);return e.xor(c,this.dj)}return this.ua()}V$(){return!0}*b7(){if(this.Ta.fd||this.g.uc())yield this;return!0}baa(){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Vc||this.K,c);this.K.fc();return c}*i7(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){var c=this.Ab;b(this.Ma,c);c=this.La.apply(this.Vc||this.K,c);e.zm(c)&&(c=yield*c);this.K.fc();return c}return this.ua()}iR(){const c=this.Ma,
h=this.Ab,m=this.K.T();for(let g=0,k=c.length;g<k;++g){const n=c[g];n.Xe||(h[g]=n.ba(0))}return m.Xb?this.W$(m):this.X$(m)}*c7(){if(this.Ta.fd||this.g.uc())yield this;return this.iR()}HF(c){const h=this.Ma,m=this.Ab;for(let g=0,k=h.length;g<k;++g){const n=h[g];n.Xe&&(m[g]=n.ba(c))}}W$(c){const h=this.K,m=h.bb,g=h.Nh,k=this.Qi,n=0<=k,p=h.pa(),q=this.sl,u=this.Ab,w=this.La,r=this.dj,v=this.bT&&!this.nI;c.hx();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.HF(A);var y=void 0;n?(y=m?z.H().Yn(g):
0,y=w.apply(z.nd[k+y].qa,u)):y=w.apply(z.qa,u);e.xor(y,r)?c.No(z):v&&c.pl(z)}h.Rs(!0);c.je(!1);h.fc();return c.OD()}X$(c){const h=this.K;var m=h.bb;const g=h.Nh,k=h.Zb(),n=this.Qi,p=0<=n,q=this.sl,u=this.Ab,w=this.La,r=this.dj,v=this.bT&&!this.nI,y=c.G,A=c.cc,G=v&&!this.Ud.$0(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.HF(M);var J=void 0;p?(J=m?R.H().Yn(g):0,J=w.apply(R.nd[n+J].qa,u)):J=w.apply(R.qa,u);e.xor(J,r)?(H=!0,G?(y.push(R),k&&R.t$()):(z[F]=R,k&&R.gba(F),
++F)):G?(z[F]=R,k&&R.fba(F),++F):v&&(A.push(R),k&&R.s$())}e.Ze(z,F);k&&h.Bba(G,F);m=H;G&&!H&&(H=this.l$(y));h.Rs(m||v);return v?H:c.OD()}l$(c){var h=this.K;const m=h.bb;h=h.Nh;const g=this.sl,k=this.Qi,n=0<=k,p=this.Ab,q=this.La,u=this.dj;for(let r=0,v=c.length;r<v;++r){var w=c[r];g&&this.HF(r);if(n){const y=m?w.H().Yn(h):0;w=q.apply(w.nd[k+y].qa,p)}else w=q.apply(w.qa,p);if(e.xor(w,u))return!0}return!1}Et(c,h){return this.Ma[c].ba(h)}KZ(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].d8()}ma(){if(!this.Hb||!this.Hb.size)return null;const c={};for(const [h,m]of this.Hb.entries()){let g=m;"collmemory"===h&&(g=[...m.entries()].map(k=>[k[0].dd,k[1].dd,k[2]]));c[h]=g}return{ex:c}}ra(c){this.Hb&&(this.Hb.clear(),this.Hb=null);if(c){var h=this.g,m=c.ex;if(m){c=this.Jj();c.clear();for(const [g,k]of Object.entries(m))m=k,"collmemory"===g&&(m=e.m(e.At,k.map(n=>[h.Dj(n[0]),h.Dj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,m)}}}}}
{"use strict";const e=self.D;function b(h,m){for(let g=0,k=h.length;g<k;++g)m[g]=h[g].ba(0)}const a=[],d=function(){},c=function*(){};e.Ww=class extends e.ka{constructor(h,m,g){super();this.Ud=h;this.g=h=h.I();this.Qa=g;this.mb=4<=m.length?m[3]:-1;this.yz=5<=m.length?m[4]:0;this.Vc=this.K=this.La=null;this.Qi=-1;this.Dd=null;this.Oz="";this.xl=this.Nz=null;this.rb=this.ua=d;this.Ma=[];this.Ab=[];this.sl=!1;this.di=this.Hb=null;const k=(g=-3===m[0])?m[2]:m[5];this.Ta=h.zb||g?{fd:k[0],Ef:k[1],index:k[2]}:
null;-1===m[0]?(this.Dd=h.jt(),this.La=h.th(m[1])):-2===m[0]?this.Oz=m[1]:g?(this.La=h.th(m[1]),this.ua=this.GE,this.rb=this.LX,this.yz=1):(this.La=h.th(m[1]),this.K=h.df(m[0]),m[2]&&(this.Vc=this.K.Ax(m[2]),this.Qi=this.K.Vs(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ma.push(e.Fe.Ra(this,n,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=a);this.Ud.oa().w$(this)}static Ra(h,m,g){return e.m(e.Ww,h,m,g)}Pb(){for(var h of this.Ma)h.Pb(),h.Xe&&(this.sl=!0);if(this.Dd)this.pG(),
this.rb=this.yF;else if(this.Oz)this.Baa(),this.Oz="";else if(this.ua===this.GE){h=this.La;const m=this.g.oa().fQ(this.Ud);this.La=h.bind(null,this.g.aj,m)}else this.Vc?this.Bg()?(this.ua=this.gR,this.rb=this.Y6):(this.ua=this.fR,this.rb=this.X6):this.K.Cb().Xm?(this.oG(),this.rb=this.xF):this.Bg()?(this.ua=this.kR,this.rb=this.e7):this.Ma.length?this.Ma.every(m=>m.Xe)?(this.ua=this.jR,this.rb=this.d7):this.sl?(this.ua=this.mR,this.rb=this.g7):this.Ma.every(m=>m.yb)?(b(this.Ma,this.Ab),this.ua=this.fG,
this.rb=this.BP):(this.ua=this.lR,this.rb=this.f7):(this.ua=this.fG,this.rb=this.BP)}pG(){this.tu(this.Dd,this.Dd,this.hG)}oG(){const h=this.K.Cb(),m=this.K.wi().qa;this.tu(h,m,this.gG)}Baa(){const h=this.Ud.oa(),m=h.Jx(this.Oz);m.vm()?(this.Nz=m.De(),this.xl=[...new Set([...this.Ud.zd(),...this.Nz.zd()])],this.xl=h.Yy(this.xl),this.ua=e.Ok.prototype.G3.bind(this.Nz,this.xl,this.Ma),this.rb=this.Z6):(this.ua=d,this.rb=c)}tu(h,m,g){const k=this.La,n=this.Ma;if(0===n.length)this.ua=h.bk(k,m);else if(1===
n.length){const p=n[0];if(p.yb)this.ua=h.WP(k,m,p.ba(0));else{const q=h.bk(k,m);this.ua=function(){return q(p.ba(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.yb&&q.yb)this.ua=h.XP(k,m,p.ba(0),q.ba(0));else{const u=h.bk(k,m);this.ua=function(){return u(p.ba(0),q.ba(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.yb&&q.yb&&u.yb)this.ua=h.YP(k,m,p.ba(0),q.ba(0),u.ba(0));else{const w=h.bk(k,m);this.ua=function(){return w(p.ba(0),q.ba(0),u.ba(0))}}}else this.ua=g}Bg(){return 1===this.yz}pL(){return 2===
this.yz}R_(){return 0!==this.yz}H(){return this.K}De(){return this.Ud}I(){return this.g}Ka(){return this.Qa}dM(){return this.Ta.index}ye(){return!this.Ta.fd&&!this.g.uc()&&!this.Ta.Ef}Jj(){this.Hb||(this.Hb=new Map);return this.Hb}mt(){this.di||(this.di=new Map);return this.di}hG(){const h=this.Ab;b(this.Ma,h);return this.La.apply(this.Dd,h)}*yF(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ab;b(this.Ma,h);return yield*this.La.apply(this.Dd,h)}return this.ua()}*Z6(){if(this.Ta.fd||
this.g.uc())yield this;return yield*this.Nz.GX(this.xl,this.Ma)}gG(){const h=this.Ab;b(this.Ma,h);return this.La.apply(this.K.wi().qa,h)}*xF(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ab;b(this.Ma,h);return yield*this.La.apply(this.K.wi().qa,h)}return this.ua()}fG(){const h=this.Ab,m=this.K.T().pa();for(let g=0,k=m.length;g<k;++g)this.La.apply(m[g].qa,h)}*BP(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ab,m=this.K.T().pa();for(let g=0,k=m.length;g<k;++g)yield*this.La.apply(m[g].qa,
h)}else this.fG()}lR(){const h=this.Ab;b(this.Ma,h);const m=this.K.T().pa();for(let g=0,k=m.length;g<k;++g)this.La.apply(m[g].qa,h)}*f7(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ab;b(this.Ma,h);const m=this.K.T().pa();for(let g=0,k=m.length;g<k;++g)yield*this.La.apply(m[g].qa,h)}else this.lR()}jR(){const h=this.Ma,m=this.Ab,g=this.La,k=this.K.T().pa();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ba(n);g.apply(q.qa,m)}}*d7(){if(this.Ta.fd||
this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ma,m=this.Ab,g=this.La,k=this.K.T().pa();for(let n=0,p=k.length;n<p;++n){const q=k[n];for(let u=0,w=h.length;u<w;++u)m[u]=h[u].ba(n);yield*g.apply(q.qa,m)}}else this.jR()}mR(){const h=this.Ma,m=this.Ab,g=this.La,k=this.K.T().pa();for(let p=0,q=h.length;p<q;++p){var n=h[p];n.Xe||(m[p]=n.ba(0))}for(let p=0,q=k.length;p<q;++p){n=k[p];for(let u=0,w=h.length;u<w;++u){const r=h[u];r.Xe&&(m[u]=r.ba(p))}g.apply(n.qa,m)}}*g7(){if(this.Ta.fd||this.g.uc())yield this;
if(this.Ta.Ef){const m=this.Ma,g=this.Ab,k=this.La,n=this.K.T().pa();for(let p=0,q=m.length;p<q;++p){var h=m[p];h.Xe||(g[p]=h.ba(0))}for(let p=0,q=n.length;p<q;++p){h=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Xe&&(g[u]=r.ba(p))}yield*k.apply(h.qa,g)}}else this.mR()}fR(){var h=this.K;const m=h.bb,g=h.Nh,k=this.Ma,n=this.sl,p=this.Ab,q=this.La,u=this.Qi;h=h.T().pa();for(let v=0,y=k.length;v<y;++v){var w=k[v];w.Xe||(p[v]=w.ba(0))}for(let v=0,y=h.length;v<y;++v){w=h[v];if(n)for(let A=0,G=k.length;A<
G;++A){var r=k[A];r.Xe&&(p[A]=r.ba(v))}r=m?w.H().Yn(g):0;q.apply(w.nd[u+r].qa,p)}}*X6(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){var h=this.K;const k=h.bb,n=h.Nh,p=this.Ma,q=this.sl,u=this.Ab,w=this.La,r=this.Qi;h=h.T().pa();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Xe||(u[v]=m.ba(0))}for(let v=0,y=h.length;v<y;++v){m=h[v];if(q)for(let A=0,G=p.length;A<G;++A){var g=p[A];g.Xe&&(u[A]=g.ba(v))}g=k?m.H().Yn(n):0;yield*w.apply(m.nd[r+g].qa,u)}}else this.fR()}kR(){const h=this.Ma,m=this.Ab,
g=this.La,k=this.K.T().pa(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ba(p);n.push(g.apply(u.qa,m))}return Promise.all(n)}*e7(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){const h=this.Ma,m=this.Ab,g=this.La,k=this.K.T().pa(),n=[];for(let p=0,q=k.length;p<q;++p){const u=k[p];for(let w=0,r=h.length;w<r;++w)m[w]=h[w].ba(p);n.push(yield*g.apply(u.qa,m))}return Promise.all(n)}return this.kR()}gR(){var h=this.K;const m=h.bb,g=h.Nh,k=this.Ma,n=this.Ab,
p=this.La,q=this.Qi;h=h.T().pa();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ba(w);const y=m?v.H().Yn(g):0;u.push(p.apply(v.nd[q+y].qa,n))}return Promise.all(u)}*Y6(){if(this.Ta.fd||this.g.uc())yield this;if(this.Ta.Ef){var h=this.K;const m=h.bb,g=h.Nh,k=this.Ma,n=this.Ab,p=this.La,q=this.Qi;h=h.T().pa();const u=[];for(let w=0,r=h.length;w<r;++w){const v=h[w];for(let A=0,G=k.length;A<G;++A)n[A]=k[A].ba(w);const y=m?v.H().Yn(g):0;u.push(yield*p.apply(v.nd[q+
y].qa,n))}return Promise.all(u)}return this.gR()}async GE(){try{await this.La()}catch(h){console.error(`Unhandled exception running script %c${this.Ud.Zc.Aa()}, event ${this.Ud.qr}, action ${this.dM()+1}:`,"font-size: 1.2em; font-weight: bold;",h),self.vg&&self.vg.Vaa(this),e.wx.E_()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.wx.p4())}}*LX(){if(this.Ta.fd||
this.g.uc())yield this;return this.GE()}ma(){return this.Hb&&this.Hb.size?{ex:e.iF(this.Hb)}:null}ra(h){this.Hb&&(this.Hb.clear(),this.Hb=null);h&&(h=h.ex)&&(this.Hb=e.lD(h))}}}
{"use strict";const e=self.D,b=new e.eb;function a(L,O){return e.compare(this.A().ga(),L,O)}function d(L,O){return e.compare(this.A().ia(),L,O)}function c(){const L=this.A(),O=L.ea();return O.lq()?L.pq(O.Tq()):L.aN(O.pg,L.hc().MM(),L.hc().uf)}function h(){var L=this.A();const O=L.hc();L=L.hd();return 0>L.na||0>L.fa||L.aa>O.$()||L.W>O.ca()}function m(L,O,U){const aa=this.T(),ha=aa.pa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=e.WU(ja.ga(),ja.ia(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=e.WU(ja.ga(),ja.ia(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Cm(ua);return!0}function g(L){const O=this.A();O.ga()!==L&&(O.Zf(L),O.Ya())}function k(L){const O=this.A();O.ia()!==L&&(O.Ig(L),O.Ya())}function n(L,O){const U=this.A();U.YY(L,O)||(U.Jm(L,O),U.Ya())}function p(L,O){if(L&&(L=L.n_(this.la))){var [U,aa]=L.ao(O);O=this.A();if(O.ga()!==U||O.ia()!==aa)O.Jm(U,aa),O.Ya()}}function q(L){if(0!==L){var O=this.A();O.uy(O.sD()*L,O.ID()*L);O.Ya()}}function u(L,
O){if(0!==O){var U=this.A();L=e.nb(L);U.uy(Math.cos(L)*O,Math.sin(L)*O);U.Ya()}}function w(){return this.A().ga()}function r(){return this.A().ia()}function v(){return this.g.Fx(this.la)}function y(L,O){return e.compare(this.A().$(),L,O)}function A(L,O){return e.compare(this.A().ca(),L,O)}function G(L){const O=this.A();O.$()!==L&&(O.lf(L),O.Ya())}function z(L){const O=this.A();O.ca()!==L&&(O.Xf(L),O.Ya())}function F(L,O){const U=this.A();if(U.$()!==L||U.ca()!==O)U.Tc(L,O),U.Ya()}function H(){return this.A().$()}
function J(){return this.A().ca()}function M(){return this.A().hd().aa}function P(){return this.A().hd().W}function R(){return this.A().hd().na}function T(){return this.A().hd().fa}function Z(L,O){return e.ss(this.A().Ia(),e.nb(O))<=e.nb(L)}function X(L){return e.Df(this.A().Ia(),e.nb(L))}function ba(L,O){L=e.nb(L);O=e.nb(O);const U=this.A().Ia();return e.Df(O,L)?e.Df(U,L)&&!e.Df(U,O):!(!e.Df(U,L)&&e.Df(U,O))}function Y(L){const O=this.A();L=e.ee(e.nb(L));isNaN(L)||O.Ia()===L||(O.ld(L),O.Ya())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.A();O.ld(O.Ia()+e.nb(L));O.Ya()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.A();O.ld(O.Ia()-e.nb(L));O.Ya()}}function ya(L,O){const U=this.A(),aa=U.Ia();L=e.bK(aa,e.nb(O),e.nb(L));isNaN(L)||aa===L||(U.ld(L),U.Ya())}function Na(L,O,U){const aa=this.A(),ha=aa.Ia();O-=aa.ga();U-=aa.ia();L=e.bK(ha,Math.atan2(U,O),e.nb(L));isNaN(L)||ha===L||(aa.ld(L),aa.Ya())}function Sa(L,O){const U=this.A(),aa=U.Ia();L-=U.ga();O-=U.ia();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.ld(O),U.Ya())}function Ta(){return e.ug(this.A().Ia())}
function Ua(L,O){return e.compare(e.BV(100*this.A().fe()),L,O)}function Wa(){return this.A().Qc()}function eb(L){const O=this.A();L=2===L?!O.Qc():0!==L;O.Qc()!==L&&(O.Hg(L),this.g.da())}function fb(L){L=e.ja(L/100,0,1);const O=this.A();O.fe()!==L&&(O.Ei(L),this.g.da())}function Pa(L){b.Es(L);L=this.A();L.kb.gm(b)||(L.KO(b),this.g.da())}function Va(){const L=this.A().kb;return e.wy(L.Va,L.ab,L.$a,L.Za)}function ib(){return e.BV(100*this.A().fe())}function Ya(L){return L?this.A().ea()===L:!1}function vb(L){const O=
this.T(),U=O.pa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.ea().Ka(),Ga=ka.ea().Ka();if(0===L){if(wa>Ga||wa===Ga&&ua.Nj()>ka.Nj())aa=ja}else if(wa<Ga||wa===Ga&&ua.Nj()<ka.Nj())aa=ja}O.Cm(aa);return!0}function wb(L,O,U){const aa=this.A();L=0===L?aa.fb():aa.gf();return e.compare(L,O,U)}function jb(){this.A().R5()}function xb(){this.A().P5()}function yb(L){L&&this.A().Q5(L)}function zb(L,O){L=0===L;O&&(O=O.jM(this.Da()))&&this.A().O5(O,
L)}function Ab(L){const O=this.A();O.fb()!==L&&(O.Je(L),this.g.da())}function Bb(){return this.A().ea().Ka()}function Cb(){return this.A().ea().Aa()}function Db(){return this.A().Nj()}function kb(){return this.A().fb()}function Eb(){return this.A().gf()}function Fb(L,O){if(O=this.H().Pa.Rk(O)){O=O.Ka();L=1===L;var U=this.A().fg;U.ut(O)!==L&&(U.mO(O,L),U.Bh(),this.g.da())}}function Gb(L,O,U){var aa=this.H().Pa.Rk(L);if(aa){L=aa.Ka();var ha=this.A().fg,fa=ha.Qk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Rf().Qx(O);if("color"===aa){b.Es(U);O=fa[O];if(b.gm(O))return;O.oj(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.ut(L)&&this.g.da()}}}const lb=e.m(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.dd<U.dd?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.dd<U.dd?L.Un(O,U):L.Un(U,O)}function qa(L,O,U){return O.dd<U.dd?L.ba(O,U):L.ba(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Da();const ha=0!==U||0!==aa,fa=L.A(),ja=L.I(),ua=ja.Si;var ka=ja.Lf();
const wa=ka.De().Md;var Ga=ka.H();ka=ka.dj;const Ia=O.T();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Xb?(lb.ta(fa.hd()),lb.offset(U,aa),ua.rD(fa.ea(),O,lb,mb),O=mb):wa?ja.VM()&&!Ia.cc.length&&Ia.G.length?O=Ia.G:(O=Ia.cc,ob=!0):O=Ia.G;ha&&(db=fa.ga(),Ha=fa.ia(),fa.uy(U,aa),fa.Ya());for(const da of O)if(ua.gF(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Jm(db,Ha),fa.Ya());e.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.I().Jb().Md;O=Za.T();const U=O.G,aa=O.cc;O.Xb?(O.Rt(Qa),L&&(e.F(aa),
O.fL(Qa,Za.pa()))):L?ob?O.o5(Qa):(O.fL(Qa,U),O.Rt(Qa)):O.Rt(Qa);Za.fc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ne)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Si,aa=O.oa(),ha=aa.jd();var fa=aa.Lf();const ja=fa.H();var ua=fa.Jj(),ka=fa.mt();fa=ha.cf();const wa=O.yk,Ga=wa-1,Ia=fa.Jb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.At),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Yb().addEventListener("instancedestroy",
Ra=>{Ha.KL(Ra.instance)}));O=L.T();ua=ja.T().pa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Xb?(U.rD(Ea.A().ea(),L,Ea.A().hd(),Xa),ka=Xa,U.iL(Ea,L,ka)):ka=O.pa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.gF(Ea,La)||U.rL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.yd(),aa.Ge(ma),na=ja.T(),da=L.T(),na.je(!1),da.je(!1),ja===L?(da=na.G,e.F(da),da.push(Ea),da.push(La),ja.fc()):(na=na.G,da=da.G,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.fc(),L.fc()),Ia.Dg(fa,db),aa.Ob(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Oa();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Si,aa=O.oa(),ha=aa.jd();var fa=aa.Lf();const ja=fa.H();var ua=fa.Jj(),ka=fa.mt();fa=ha.cf();const wa=O.yk,Ga=wa-1,Ia=fa.Jb(),db=ha.Sa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.At),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Yb().addEventListener("instancedestroy",Ra=>
{Ha.KL(Ra.instance)}));O=L.T();ua=ja.T().pa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Xb?(U.rD(Ea.A().ea(),L,Ea.A().hd(),Xa),ka=Xa,U.iL(Ea,L,ka)):ka=O.pa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.gF(Ea,La)||U.rL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.yd(),aa.Ge(ma),na=ja.T(),da=L.T(),na.je(!1),da.je(!1),ja===L?(da=na.G,e.F(da),da.push(Ea),da.push(La),ja.fc()):(na=na.G,da=da.G,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.fc(),L.fc()),yield*Ia.wg(fa,db),aa.Ob(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Oa();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.A().Oj()}function rb(){return this.A().hf()}function sb(L,O){const U=this.T().pa();if(0===U.length)return!1;const aa=L.T();var ha=aa.pa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Nw())wa.Xp(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ga(),null===ja)continue}else ja=ja.Zx();ja.Xp(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Rt(fa);L.fc();return!0}function tb(L,O){const U=this.T().pa();if(0===U.length)return!1;const aa=L.T();var ha=aa.pa();if(aa.Xb){var fa=[...this.g.xK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.hf()&&ka.Xp(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Ik())2===O&&wa.hf()||wa.Xp(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Rt(fa);L.fc();return!0}function ub(L,O){const U=this.T().pa();if(0===U.length)return!1;const aa=L.T();var ha=aa.pa();if(aa.Xb){var fa=[...this.g.xK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].qD(O);null!==ka&&ka.Xp(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Ht(fa);L.fc();return!0}function gb(L,O){return e.compare(this.la.Cx(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.la,wa=this.g.Zs().H();for(const Ga of L.KU(ka,wa)){if(!Ga.Cb().nU)break;ka.mm(Ga,{Hs:O,Is:U,Up:aa,Tp:ha,Gs:fa,Js:ja,Bw:ua})}}function l(L){const O=this.la,U=this.g.Zs().H();for(const aa of L.KU(O,U))O.Tj(aa)}function t(){this.la.Oj()&&this.la.Ga().Tj(this.la)}function x(){return this.la.Cx()}function B(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.A();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Ay(),U.Ya()):U.cD(L,O)}function C(L,O,U,aa,ha,fa,ja,
ua){const ka=this.A();ka.AO(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Vw:fa,SV:ja,VV:ua})&&ka.Ya()}function E(){const L=this.A();return L.Tf()?L.Kj().nk:0}function I(){const L=this.A();return L.Tf()?L.Kj().Bk:0}function K(L){const O=this.A();L=2===L?!O.Qc():0!==L;O.Qc()!==L&&O.Hg(L)}function N(L,O){this.i4(L,O)}function Q(L,O){this.h4(L,""+O)}function S(L){this.n3(L)}function W(){this.WL()}function V(){this.lL()}function ea(){return this.sH}function ia(L){this.pz(0!==L)}function ca(){return this.hg}
function oa(L,O,U){return e.compare(this.Da().Ee(L),O,U)}function la(L){return!!this.Da().Ee(L)}function ra(L,O){const U=this.T(),aa=U.pa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Ee(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Ee(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Cm(fa);return!0}function sa(L){if(this.g.Lf().dj){{const aa=this.T();if(aa.Xb){aa.je(!1);aa.hx();var O=this.pa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.dd===L?aa.pl(U):aa.No(U)}this.fc();
L=!!aa.G.length}else{O=aa.G;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.dd===L?aa.pl(ja):++U}e.Ze(O,U);this.fc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.I().Dj(O);if(!O)return!1;const U=L.T();if(!U.Xb&&!U.G.includes(O))return!1;if(L.bb){if(O.H().RC(L))return U.Cm(O),L.fc(),!0}else if(O.H()===L)return U.Cm(O),L.fc(),!0;return!1}function za(){this.g.Vn(this.la)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Da().Hm(L,O)}function Fa(L,
O){const U=this.Da(),aa=U.Ee(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Hm(L,aa+O)}function Ja(L,O){const U=this.Da(),aa=U.Ee(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Hm(L,aa-O))}function Ka(L,O){this.Da().Hm(L,O?1:0)}function Da(L){const O=this.Da();O.Hm(L,0===O.Ee(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Da();
L.gz("state");L.Ad(O,"state")}function Ib(){return JSON.stringify(this.Da().Hd("state"))}function nc(){return this.Da().H().Aa()}function oc(){const L=this.g.bf().yH;let O=L.G.length;for(const U of this.g.xK(L))++O;return O}function pc(){return this.g.bf().yH.T().pa().length}function qc(){return this.la.$n()}function rc(){return this.la.dd}e.dW=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.L,da=O.Wa,na=O.Xa;L[3]&&(ma.pX=
a,ma.Xga=d,ma.Xia=c,ma.Zia=h,ma.O2=m,da.Zf=g,da.Ig=k,da.jna=n,da.kna=p,da.Hja=q,da.Gja=u,na.Zt=w,na.nF=r,na.pK=v);aa&&(ma.Wga=y,ma.Lga=A,da.lf=G,da.Xf=z,da.Tc=F,na.K5=H,na.W_=J,na.IW=M,na.KW=P,na.JW=R,na.HW=T);ha&&(ma.uW=Z,ma.W0=X,ma.V0=ba,da.ld=Y,da.Zla=va,da.$la=ta,da.ama=ya,da.bma=Na,da.mna=Sa,na.Vfa=Ta);fa&&(ma.Qc=Wa,ma.Oga=Ua,da.Hg=eb,da.Ei=fb,da.vma=Pa,na.Opacity=ib,na.Dga=Va);ja&&(ma.Via=Ya,ma.Gka=vb,ma.Yga=wb,da.Jja=jb,da.O1=xb,da.Ija=yb,da.N5=zb,da.Je=Ab,na.nja=Bb,na.r1=Cb,na.apa=Db,na.$oa=
kb,na.Zna=Eb);ua&&(da.wma=Fb,da.xma=Gb);Ia&&(ma.Oj=Rb,ma.hf=rb,ma.Eka=sb,ma.yka=tb,ma.Cka=ub,ma.Jga=gb,da.mm=f,da.Tj=l,da.ela=t,na.uga=x);db&&(da.cna=B,da.AO=C,na.Dja=E,na.Eja=I);ka&&(ma.Qc=Wa,da.Hg=K,da.sma=N,da.yma=Q,da.dla=S);wa&&(ma.Lia=ea,da.Bma=W,da.qma=V);Ga&&(ma.vm=ca,da.nO=ia);Ha&&(ma.aka=Nb,ma.$ia=Pb,ma.aja=Qb,O.iZ=Mb);U||(ma.tL=oa,ma.SM=la,ma.zka=ra,ma.N2=sa,da.uO=Ca,da.iW=Fa,da.Nna=Ja,da.gO=Ka,da.Una=Da,ma.vN=Aa,ma.f2=Ba,da.ML=za,da.nE||(da.nE=Hb),na.DW||(na.DW=Ib),na.dha=oc,na.Hka=pc,
na.lia=qc,na.XO=rc,na.Wja=nc)}}
{"use strict";const e=self.D;e.IE=class extends e.ka{constructor(b){super();this.xa=b;this.za="";this.ec=-1;this.aw="";this.QA=!1;this.Xi=null;this.$f=0;this.Ue=[];this.Ip=new Map;this.ul=null;this.Au=-1;this.FH=this.Ug=null;this.$v=!1}B(){this.za="";this.ec=-1;this.aw="";this.FH=this.Ug=this.ul=this.Xi=null;this.Au=-1;e.F(this.Ue);for(const b of this.Ip.values())b.B();this.Ip.clear()}Mg(){var b=this.xa,a=b.I().Uc;const d=b.bf();this.Xi=d.Jb();this.$f=d.$f+1;if(b=b.kD(this.Xi))this.ul=b,this.Ug=b.bX(),
this.FH=b.UH.map(c=>c.M()),b.Bg()&&(this.Au=b.L2());for(const c of a)if(a=c.T(),!a.Xb||this.Xi.T_(c))this.Ue.push(c),this.Ip.set(c,e.m(e.OO,a))}L0(b){this.za="timer";this.Mg();this.ec=this.xa.I().Zn()+b}J0(b){this.za="signal";this.Mg();this.aw=b.toLowerCase()}x0(b){this.za="promise";this.Mg();b.then(()=>this.TE()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.TE()})}k1(){return"timer"===this.za}i1(){return"signal"===this.za}e1(){return"promise"===
this.za}TE(){this.QA=!0}BR(){return this.k1()?this.ec<=this.xa.I().Zn():this.QA}eR(b){b.eG(this.Xi,this.$f);for(const [a,d]of this.Ip.entries())d.eG(a.T());if(b=this.ul)b.Mt(this.Ug),b.UH.map((a,d)=>a.Ie(this.FH[d])),b.Bg()&&b.F3(this.Au)}S$(b){this.eR(b);this.Xi.R$(b);this.ul&&this.ul.Bg()&&this.ul.xt(this.Au);this.xa.Zp(this.Ue);this.$v=!0}async U6(b){this.eR(b);for(const a of this.Xi.T6(b))await this.xa.I().$p(a);this.ul&&this.ul.Bg()&&this.ul.xt(this.Au);this.xa.Zp(this.Ue);this.$v=!0}xo(b){for(const a of this.Ip.values())a.xo(b)}ma(){const b=
{},a={t:this.ec,st:this.aw,s:this.QA,ev:this.Xi.mb,sm:this.Ue.map(d=>d.mb),sols:b};this.Xi.w8(this.$f)&&(a.act=this.Xi.ZL(this.$f).mb);for(const [d,c]of this.Ip)b[d.mb.toString()]=c.ma();return a}static z6(b,a){const d=b.I();var c=b.FZ(a.ev);if(!c)return null;let h=0;if(a.hasOwnProperty("act")){var m=b.oZ(a.act);if(!m)return null;h=m.Ka()}m=e.m(e.IE,b);m.ec=a.t;m.za=-1===m.ec?"signal":"timer";m.aw=a.st;m.QA=a.s;m.Xi=c;m.$f=h;for(var g of a.sm)(c=d.Px(g))&&m.Ue.push(c);for(const [k,n]of Object.entries(a.sols))if(a=
d.Px(parseInt(k,10)))g=e.m(e.OO,null),g.ra(b,n),m.Ip.set(a,g);return m}}}{"use strict";const e=self.D;e.OO=class extends e.ka{constructor(b){super();this.K=null;this.PA=!0;this.G=[];b&&(this.K=b.H(),this.PA=b.Xb,e.Oc(this.G,b.G))}B(){this.K=null;e.F(this.G)}eG(b){b.je(this.PA);e.Oc(b.G,this.G)}xo(b){e.sg(this.G,b)}ma(){return{sa:this.PA,insts:this.G.map(b=>b.dd)}}ra(b,a){b=b.I();this.PA=!!a.sa;e.F(this.G);for(const d of a.insts)(a=b.Dj(d))&&this.G.push(a)}}}
{"use strict";const e=self.D;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.Bq=class extends e.ka{constructor(a){super();this.g=a.If;this.Xm=!!a.iV;this.vf=!!a.vea;this.Nca=!!a.uea;this.Xca=!!a.Iea;this.Aca=!!a.jea;this.nU=!!a.ifa;this.qda=!!a.hfa;this.aU=null;this.XR=new Map;this.dca=new Map;this.eca=new Map;this.fca=new Map}B(){this.g=null}I(){return this.g}Fd(){}sq(){return this.Nca}uq(){return this.Xca}PD(){return this.Aca}bk(a,d){if(!d)throw Error("missing 'this' binding");
let c=this.XR.get(a);if(c)return c;c=a.bind(d);this.XR.set(a,c);return c}WP(a,d,c){if(!d)throw Error("missing 'this' binding");const h=b(this.dca,a);let m=h.get(c);if(m)return m;m=a.bind(d,c);h.set(c,m);return m}XP(a,d,c,h){if(!d)throw Error("missing 'this' binding");var m=b(this.eca,a);m=b(m,c);let g=m.get(h);if(g)return g;g=a.bind(d,c,h);m.set(h,g);return g}YP(a,d,c,h,m){if(!d)throw Error("missing 'this' binding");var g=b(this.fca,a);g=b(g,c);g=b(g,h);let k=g.get(m);if(k)return k;k=a.bind(d,c,h,
m);g.set(m,k);return k}hba(a){if(!this.Xm)throw Error("must be single-global plugin");this.aU=a}wi(){if(!this.Xm)throw Error("must be single-global plugin");return this.aU.wi()}}}
{"use strict";const e=self.D;e.ema=class extends e.Bq{constructor(b,a){super(b);this.Tm=a;this.$ca=0;this.VH=new Map;this.eL("elem-focused",d=>d.Q9());this.eL("elem-blurred",d=>{d&&d.P9()})}B(){super.B()}W5(b){const a=this.$ca++;this.VH.set(a,b);return a}I$(b){this.VH.delete(b)}eL(b,a){this.g.ki(this.Tm,b,d=>{const c=this.VH.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.D;e.Dy=class extends e.ka{constructor(b){super();this.K=b;this.g=b.I();this.Xh=b.Cb()}B(){this.Xh=this.g=this.K=null}H(){return this.K}I(){return this.g}Cb(){return this.Xh}Mf(){return this.K.Mf()}Rs(){}tq(){}wo(){}vy(){}vE(){}Xk(){return null}}}
{"use strict";const e=self.D;e.Cy=class extends e.ka{constructor(b,a){super();this.la=b;this.Tm=a;this.g=b.I();this.K=this.la.H();this.Nc=this.K.Nc;this.es=this.Yl=null;this.xv=this.Jl=!1;this.pf=null;this.yw=!1}B(){this.yw=!0;this.Zq();this.sG();this.es=this.Yl=null;this.pf&&(this.pf.B(),this.pf=null);this.Nc=this.K=this.g=this.la=null}Ty(){return this.yw}Da(){return this.la}I(){return this.g}H(){return this.K}Cb(){return this.Nc.Cb()}kq(){return this.la.rh()}Ha(b){return this.g.Ha(b,this.la,null)}Sd(b){return this.g.Sd(b,
this.la,null)}KC(b,a){this.g.ki(this.Tm,b,a)}fW(b){for(const [a,d]of b)this.KC(a,d)}Bi(b,a){this.g.el(this.Tm,b,a)}uE(b,a){return this.g.so(this.Tm,b,a)}ol(b,a){this.g.oe?this.Bi(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Tm,handler:b,data:a,responseId:null})}Ke(){}gk(){this.Jl||(this.Yl||(this.Yl=()=>this.Ke()),this.g.Yb().addEventListener("tick",this.Yl),this.Jl=!0)}Zq(){this.Jl&&(this.g.Yb().removeEventListener("tick",this.Yl),this.Jl=!1)}sG(){this.xv&&(this.g.Yb().removeEventListener("tick2",
this.es),this.xv=!1)}Hd(){return null}Ad(){}Ec(){}yh(){}pE(b,a){if(0!==a){var d=this.Ec(b);if("number"!==typeof d)throw Error("expected number");this.yh(b,d+a)}}Xk(){return null}fD(b,a,d){const c=this.kq();b=e.m(e.Event,b,a);b.instance=c;d&&Object.assign(b,d);c.dispatchEvent(b)}}}
{"use strict";const e=self.D;e.HE=class extends e.Cy{constructor(b,a){super(b,a);this.Ua=b.A();this.fC=this.os=null}B(){if(this.os){const b=this.g.Yb();b.removeEventListener("webglcontextlost",this.os);b.removeEventListener("webglcontextrestored",this.fC);this.fC=this.os=null}this.Ua=null;super.B()}F_(){if(!this.os){this.os=()=>this.wq();this.fC=()=>this.EN();var b=this.g.Yb();b.addEventListener("webglcontextlost",this.os);b.addEventListener("webglcontextrestored",this.fC)}}wq(){}EN(){}A(){return this.Ua}po(){return!1}Gj(){if(!this.po())throw Error("original size not known");
const b=this.qh();if(b)return b.$()}Fj(){if(!this.po())throw Error("original size not known");const b=this.qh();if(b)return b.ca()}qh(){return null}tD(){var b=this.qh();return b&&(b=b.he())?[b.$(),b.ca()]:[100,100]}uD(){const b=this.qh();return b?b.Lj():null}$D(){const b=this.qh();return b?b.sp:!1}ao(){const b=this.la.A();return[b.ga(),b.ia()]}zq(){return!0}}}
{"use strict";const e=self.D,b=e.m(e.Rect);e.dma=class extends e.HE{constructor(a,d){super(a,d);this.cA=this.Cb().W5(this);this.$S=!0;this.$ba=this.sH=!1;this.Hr=e.m(e.Rect,0,0,-1,-1);a=this.g.R;this.qT=a.Ek;this.pT=a.Dk;this.gk()}B(){this.Cb().I$(this.cA);this.xq("destroy");this.cA=-1;super.B()}xq(a,d){d||(d={});d.elementId=this.cA;this.Bi(a,d)}VQ(a){a||(a={});a.elementId=this.cA;this.ol("focus",a)}Iy(a){a=!!a;this.$S!==a&&(this.$S=a,this.xq("set-visible",{isVisible:a}))}Ke(){this.Hba()}oba(){const a=
this.g.R.Ix();return"Android"===e.Rc.vq&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Hba(){var a=this.A();const d=a.ea();var c=a.ga(),h=a.ia();let [m,g]=d.ro(c,h),[k,n]=d.ro(c+a.$(),h+a.ca());c=this.g.R;h=c.Wc;const p=c.Ic;if(a.Qc()&&d.Qc()){if(!this.oba()){if(0>=k||0>=n||m>=h||g>=p){this.Iy(!1);return}1>m&&(m=1);1>g&&(g=1);k>=h&&(k=h-1);n>=p&&(n=p-1)}b.set(m,g,k,n);a=c.Ek;h=c.Dk;b.sd(this.Hr)&&this.qT===a&&this.pT===h?this.Iy(!0):(this.Hr.ta(b),this.qT=a,this.pT=h,this.Iy(!0),a=null,this.$ba&&
(a=d.Aj()-.2),this.xq("update-position",{left:Math.round(this.Hr.aa)+c.Xs(),top:Math.round(this.Hr.W)+c.Ys(),width:Math.round(this.Hr.width()),height:Math.round(this.Hr.height()),fontSize:a}))}else this.Iy(!1)}WL(){this.VQ({focus:!0})}lL(){this.VQ({focus:!1})}Q9(){this.sH=!0}P9(){this.sH=!1}i4(a,d){this.xq("set-css-style",{prop:e.UW(a),val:d})}h4(a,d){this.xq("set-attribute",{name:a,val:d})}n3(a){this.xq("remove-attribute",{name:a})}}}
{"use strict";const e=self.D,b=self.Y_;e.L3=class extends e.ka{constructor(a){super();this.g=a.If;this.NI=e.m(e.PC);this.lB=e.m(e.PC);this.hv=null;this.kda=a.bsa||null}B(){this.lB.B();this.NI.B();this.g=null}I(){return this.g}Fd(){}X5(a){this.NI.Pc(a)}sM(){return this.NI.nD()}Lg(a){this.lB.Pc(a)}Oo(a){this.lB.Un(a)}pa(){return this.lB.nD()}TZ(){if(null===this.hv){const a=this.kda;if(a){if(this.hv=new a(this),!(this.hv instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.hv=new b(this)}return this.hv}}}{"use strict";const e=self.D;e.N3=class extends e.ka{constructor(b){super();this.g=b.I();this.Vc=b;this.K=b.H();this.Pi=b.om();this.Pi.X5(this.K)}B(){this.Pi=this.K=this.Vc=this.g=null}yg(){return this.Vc}H(){return this.K}I(){return this.g}om(){return this.Pi}}}
{"use strict";const e=self.D;e.M3=class extends e.ka{constructor(b,a){super();this.Kz=b;this.Tm=a;this.la=b.la;this.g=b.I();this.Vc=b.yg();this.Nc=this.Vc.Nc;this.dT=this.xv=this.Jl=!1;this.pf=null}B(){this.Zq();this.sG();this.tba();this.pf&&(this.pf.B(),this.pf=null);this.Nc=this.Vc=this.g=this.la=this.Kz=null}om(){return this.Vc.om()}H(){return this.la.H()}A(){return this.la.A()}I(){return this.g}yg(){return this.Vc}kq(){return this.Kz.kq()}Ha(b){return this.g.Ha(b,this.la,this.Vc)}Sd(b){return this.g.Sd(b,
this.la,this.Vc)}Ke(){}gk(){this.Jl||(this.g.S5(this),this.Jl=!0)}Zq(){this.Jl&&(this.g.F$(this),this.Jl=!1)}sG(){this.xv&&(this.g.G$(this),this.xv=!1)}tba(){this.dT&&(this.g.E$(this),this.dT=!1)}KC(b,a){this.g.ki(this.Tm,b,a)}Hd(){return null}Ad(){}Ec(){}yh(){}pE(b,a){if(0!==a){var d=this.Ec(b);if("number"!==typeof d)throw Error("expected number");this.yh(b,d+a)}}Xk(){return null}fD(b,a,d){const c=this.kq();b=e.m(e.Event,b,a);b.lpa=c;b.instance=c.instance;d&&Object.assign(b,d);c.dispatchEvent(b)}}}
{"use strict";const e=self.D;e.C={};e.Kf={};e.P2=class extends e.ka{constructor(b){super();this.g=b;this.Xba=[];this.LT=new Map;this.Dd=null;this.Uba=[];this.VG=new Map;this.jT=this.dU=null}CX(b){const a=this.g.th(b[0]);if(!a)throw Error("missing plugin");e.dW(b,a);b=e.m(a,{If:this.g,iV:b[1],vea:b[2],uea:b[5],jea:b[8],Iea:b[9],ifa:b[13],hfa:b[14]});b.Fd();this.Xba.push(b);this.LT.set(a,b)}EX(){this.Dd=e.m(e.C.Ba,{If:this.g,iV:!0});this.Dd.Fd()}yX(b){b=this.g.th(b[1]);if(!b)throw Error("missing behavior");
const a=e.m(b,{If:this.g});a.Fd();this.Uba.push(a);this.VG.set(b,a);!this.dU&&e.Kf.ffa&&a instanceof e.Kf.ffa?this.dU=a:!this.jT&&e.Kf.xea&&a instanceof e.Kf.xea&&(this.jT=a)}p_(b){return this.LT.get(b)||null}M_(b){return this.VG.has(b)}sZ(b){return this.VG.get(b)||null}jt(){return this.Dd}}}
{"use strict";const e=self.D,b=new Set;e.fy=class extends e.ka{constructor(){super();this.Ak="";this.U=this.X=this.Qv=this.Pv=this.Xr=0;this.cv=this.sp=!1;this.rf=null;this.Xl="";this.jg=e.m(e.Rect);this.Ep=e.m(e.Bd);b.add(this)}B(){this.Ci();this.rf=null;b.delete(this)}static wq(){for(const a of b)a.Xl="",a.jg.set(0,0,0,0),a.Ep.tj(a.jg)}kN(a){this.Ak=a[0];this.Xr=a[1];this.Pv=a[2];this.Qv=a[3];this.X=a[4];this.U=a[5];this.sp=a[6];this.cv=!0}y1(a,d){if(this.rf)throw Error("already loaded asset");
this.Ak=d;const c={};e.YD(d)&&(c.Kw="remote");this.jN(a,c);return this.rf.iN()}w3(a){if(a===this)throw Error("cannot replace with self");this.Ci();this.Ak=a.Ak;this.Xr=a.Xr;this.Pv=a.Pv;this.Qv=a.Qv;this.X=a.X;this.U=a.U;this.sp=a.sp;this.cv=a.cv;this.rf=a.rf;this.Xl=a.Xl;this.jg=a.jg;this.Ep=a.Ep}um(){return this.Xr}$(){return this.X}ca(){return this.U}jN(a,d){if(this.rf)throw Error("already got asset");d=Object.assign({},d,{url:this.Ak,size:this.um()});this.rf=a.ty(d)}iE(){return this.rf&&this.rf.iE()}async wt(a,
d){if(!this.rf)throw Error("no asset");if(this.Xl)throw Error("already loaded texture");this.Xl="loading";a=await this.rf.wt(a,d);if(!a)return this.Xl="",null;this.Xl="loaded";this.cv||(this.X=a.$(),this.U=a.ca(),this.cv=!0);this.jg.set(this.Pv,this.Qv,this.Pv+(this.sp?this.U:this.X),this.Qv+(this.sp?this.X:this.U));this.jg.fm(a.$(),a.ca());this.Ep.tj(this.jg);this.sp&&this.Ep.Wea();return a}Ci(){this.Xl&&(this.rf&&this.rf.Ci(),this.Xl="",this.jg.set(0,0,0,0),this.Ep.tj(this.jg))}he(){return this.rf?
this.rf.he():null}Lj(){return this.jg}Xx(){return this.Ep}}}
{"use strict";const e=self.D;e.wW=class extends e.ka{constructor(b){super();this.Ja=b[0];this.mda=b[1];this.LA=!!b[2];this.Wr=b[3];this.VT=b[4];this.Mca=!!b[5];this.mb=b[6];this.Ld=b[7].map(a=>e.m(e.vW,a))}B(){for(const b of this.Ld)b.B();e.F(this.Ld)}v1(b){for(const a of this.Ld)a.Mf().jN(b)}w1(b,a){return Promise.all(this.Ld.map(d=>d.Mf().wt(b,a)))}j3(){for(const b of this.Ld)b.Mf().Ci()}Aa(){return this.Ja}rm(b){b=Math.floor(b);if(0>b||b>=this.Ld.length)throw new RangeError("invalid frame");return this.Ld[b]}Yk(){return this.mda}wh(){return this.Wr}}}
{"use strict";const e=self.D;e.vW=class extends e.ka{constructor(b){super();this.eg=e.m(e.fy);this.eg.kN(b);this.nS=b[7];this.IT=e.m(e.Xt,b[8],b[9]);this.vA=b[10].map(a=>e.m(e.h0,this,a));this.QS=new Map;for(const a of this.vA)this.QS.set(a.Aa().toLowerCase(),a);this.Wo=null;b=b[11];6<=b.length&&(this.Wo=e.m(e.Tn,b))}B(){this.Wo&&(this.Wo.B(),this.Wo=null);this.eg.B();this.eg=null}Mf(){return this.eg}Uk(){return this.IT.S}Vk(){return this.IT.O}VZ(b){return this.QS.get(b.toLowerCase())||null}UZ(b){b=
Math.floor(b);return 0>b||b>=this.vA.length?null:this.vA[b]}CD(){return this.vA.length}}}{"use strict";const e=self.D;e.h0=class extends e.ka{constructor(b,a){super();this.Ja=a[0];this.dJ=e.m(e.Xt,a[1],a[2])}B(){}Aa(){return this.Ja}ga(){return this.dJ.S}ia(){return this.dJ.O}}}
{"use strict";const e=self.D,b=self.vg,a=self.OM;e.oE=class extends e.ka{constructor(d,c,h){super();const m=d.th(h[1]);this.g=d;this.Xh=d.Cp.p_(m);this.Nc=null;this.zA=m.Instance;this.Qa=c;this.mb=h[11];this.Ja=h[0];this.Cv=this.g.ti(h[14]);this.Kca=!!h[9];this.bb=!!h[2];this.kI=!!h[10];this.bj=h[3].map(g=>({HV:g[0],type:g[1],name:g[2],wea:d.ti(g[3])}));this.bca=h[4];this.wca=h[5];this.vf=this.Xh.vf;this.Pa=null;this.Tz=e.m(e.c5,d.Zg,d.Yg);this.NG=!0;this.OG=!1;this.BH=this.fp=null;this.Nh=-1;this.AH=
this.hA=this.iA=this.zH=this.Mh=null;this.eI=!1;this.Qg=null;this.VR=h[8].map(g=>e.jL.Ra(this,g));this.Lz=[];this.WG=new Map;this.UG=new Map;this.wU=new Set;this.ln=e.m(e.Z4,this);this.Ez=this.Dz=this.Id=this.eg=this.Qg=this.nr=null;this.ds=0;this.Hb=new Map;this.di=new Map;this.G=[];this.RH=!0;this.Xh.PD()&&(this.Pa=e.m(e.Nk,this,h[12]));h[6]&&(this.eg=e.m(e.fy),this.eg.kN(h[6]));if(h[7]){this.Id=h[7].map(g=>e.m(e.wW,g));this.Dz=new Map;this.Ez=new Map;for(const g of this.Id)this.Dz.set(g.Aa().toLowerCase(),
g),this.Ez.set(g.mb,g)}this.bb?(this.fp=[],this.BH=new Set,this.Nh=this.g.i8()):(this.Mh=[],this.zH=new Set,this.iA=[],this.hA=[],this.AH=[]);this.Nc=e.m(m.Ho,this,h[15]);this.XS=this.kv=null;this.ae=e.m(e.Event.Yb);if(c=this.Nc.Xk()){if(this.kv=new c(this),!(this.kv instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.kv=new a(this);this.g.bC&&!this.bb&&!this.kI&&this.vf||this.Fd();this.Xh.Xm&&(this.Xh.hba(this),this.I6(h))}static Ra(d,c,h){return e.m(e.oE,
d,c,h)}B(){this.eg&&(this.eg.B(),this.eg=null);if(this.Id){for(const d of this.Id)d.B();e.F(this.Id);this.Dz.clear();this.Ez.clear()}this.ln.B();this.ln=null;this.Hb.clear();this.di.clear();this.g=this.Qg=null}c9(d){for(let c=1,h=d.length;c<h;++c){const m=this.g.df(d[c]);this.fp.push(m);this.BH.add(m);m.Mh.push(this);m.zH.add(this)}}Caa(d){this.eI=!0;this.Qg=d}Zb(){return this.eI}G9(){var d=0;if(!this.bb)for(var c of this.Mh)for(var h of c.VR){const k=h.Aa().toLowerCase();this.WG.set(k,h);this.UG.set(k,
d);this.Lz.push(h);++d}for(var m of this.VR)c=m.Aa().toLowerCase(),this.WG.set(c,m),this.UG.set(c,d),this.Lz.push(m),++d;for(var g of this.Lz)this.wU.add(g.om().constructor);if(!this.bb&&this.Mh.length){d=this.g.sS;e.oC(this.iA,d,0);e.oC(this.hA,d,0);e.oC(this.AH,d,0);d=[];c=g=m=0;for(const k of this.Mh)if(h=k.Nh,this.iA[h]=m,m+=k.bj.length,this.hA[h]=g,g+=k.bca,this.AH[h]=c,c+=k.wca,(h=k.Pa)&&this.Pa)for(const n of h.xg())d.push(n.jX(this.Pa));this.Pa&&this.Pa.X2(d)}}I6(d){const c=this.g.h8(),h=
e.m(e.Instance,{If:this.g,JK:this,uid:c});h.Wy(d[16],[]);this.g.t9(c,h);this.G.push(h)}Fd(){this.bb||this.Nc.Fd()}Q_(){return 0<this.ds}tq(d){if(this.bb)return Promise.resolve();this.ds++;return 1===this.ds?this.Nc.tq(d)||Promise.resolve():Promise.resolve()}wo(){if(!this.bb){this.ds--;if(0>this.ds)throw Error("released textures too many times");0===this.ds&&this.Nc.wo()}}vy(){if(this.bb)throw Error("not applicable to family");this.Nc.vy()}vE(d){return this.bb?Promise.resolve():this.Nc.vE(d)}I(){return this.g}Cb(){return this.Xh}Aa(){return this.Ja}ti(){return this.Cv}Ka(){return this.Qa}Uf(){return this.Kca}ZO(d){return d&&
this.wU.has(d)}$Z(){return this.bj.map(d=>d.HV)}ZZ(d){return this.bj.findIndex(c=>c.HV===d)}YZ(d){return this.bj.findIndex(c=>c.name===d)}Y7(){return this.bj.map(d=>d.wea)}ft(d){d=Math.floor(d);if(0>d||d>=this.bj.length)throw new RangeError("invalid instance variable index");return this.bj[d].type}nM(d){d=Math.floor(d);if(0>d||d>=this.bj.length)throw new RangeError("invalid instance variable index");return this.bj[d].name}Ax(d){return this.WG.get(d.toLowerCase())||null}Vs(d){d=this.UG.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}PD(){return this.Xh.PD()}$O(){return this.Pa&&this.Pa.H_()}T(){return this.ln.T()}Mf(){return this.eg}kO(d){this.nr=d}RC(d){return this.zH.has(d)}TL(d){return this.BH.has(d)}Yn(d){return this.hA[d]}zD(d){return this.iA[d]}$L(d){if(!this.Id)throw Error("no animations");return this.Dz.get(d.toLowerCase())||null}rZ(d){if(!this.Id)throw Error("no animations");return this.Ez.get(d)||null}NZ(){if(!this.Id)throw Error("no animations");return this.Id[0].rm(0)}BZ(){if(this.Id){const d=
this.NZ().Mf();return[d.$(),d.ca()]}return this.eg?[this.eg.$(),this.eg.ca()]:[100,100]}wi(){if(!this.Xh.Xm)throw Error("not a single-global plugin");return this.G[0]}pa(){return this.G}*eV(){yield*this.G}*nea(){yield*this.G;for(const d of this.g.Fl)d.H()===this&&(yield d)}Lg(d){this.G.push(d)}ru(){this.RH=!0}xz(){if(this.RH&&!this.bb){var d=this.G,c=0;for(let h=d.length;c<h;++c)d[c].sR(c);d=this.g.Fl;for(const h of d)h.H()===this&&h.sR(c++);this.RH=!1}}mM(d){var c=this.G;if(d<c.length)return c[d];
d-=c.length;c=this.g.Fl;for(const h of c)if(h.H()===this){if(0===d)return h;--d}return null}jM(d){if(d&&d.Zb()&&d.H()!==this)for(const c of d.Cd)if(c.H()===this)return c;d=this.T().pa();return d.length?d[0]:null}n_(d){const c=this.T().pa();return 0<c.length?c[d.$n()%c.length]:null}*KU(d,c){const h=this.T().pa();var m=h.length;const g=c.T(),k=c.T().pa(),n=k.length;var p=d.$n();if(c.bb||!g.Xb)p=k.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield h[q]}Rs(d){this.Nc.Rs(d)}fc(){if(this.eI&&
!this.bb){this.xz();var d=this.T(),c=d.G,h=d.Xb,m=this.g.bf();m=m&&m.Jb()&&m.Jb().Md;for(const n of this.Qg.Rl)if(n!==this){n.xz();var g=n.T();g.je(h);if(!h){var k=g.G;e.F(k);for(const p of c)k.push(n.mM(p.$n()));if(m){k=d.cc;g=g.cc;e.F(g);for(const p of k)g.push(n.mM(p.$n()))}}}}}Bba(d,c){for(const h of this.Qg.Rl){const m=h.T();d?e.Ze(m.cc,c):e.Ze(m.G,c)}}oR(){this.NG=!0}jG(d){this.OG=!!d}IR(){if(this.NG&&this.vf){for(const d of this.G)d.A().LR();for(const d of this.g.Fl)d.H()===this&&d.A().LR();
this.NG=!1}}Jj(){this.Hb||(this.Hb=new Map);return this.Hb}mt(){this.di||(this.di=new Map);return this.di}KM(){return this.ZO(e.Kf.Sja)}QD(){return this.ZO(e.Kf.uka)}ma(){const d={instances:this.G.map(c=>c.Hd())};this.Hb&&this.Hb.size&&(d.ex=e.iF(this.Hb));return d}ra(d){this.Hb&&(this.Hb.clear(),this.Hb=null);var c=d.ex;c&&(this.Hb=e.lD(c));c=this.G;d=d.instances;for(let h=0,m=Math.min(c.length,d.length);h<m;++h)c[h].Ad(d[h]);for(let h=d.length,m=c.length;h<m;++h)this.g.Vn(c[h]);for(let h=c.length,
m=d.length;h<m;++h){c=d[h];let g=null;if(this.vf&&(g=this.g.Sb().Mx(c.w.l),!g))continue;this.g.ni(this.nr||this,g,!1,0,0,!0).Ad(c)}this.ru()}nh(d){var c=this.g;(c=c.zb&&!c.oa().jy())&&b.dF();this.ae.dispatchEvent(d);c&&b.NC()}}}{"use strict";const e=self.D;e.sX=class extends e.ka{constructor(b,a){super();this.g=b;this.Rl=a;for(const d of this.Rl)d.Caa(this)}B(){this.g=null}I(){return this.g}L_(){return this.Rl.some(b=>b.vf)}}}
{"use strict";const e=self.D,b=self.vg,a=self.qt,d=[];let c=0;const h=new WeakMap,m=new WeakMap;e.Instance=class extends e.ka{constructor(g){super();this.g=g.If;this.Vd=g.JK;this.me=this.qa=this.Ua=null;this.OS=0;this.dd=g.uid;this.QT=c++;this.Ca=0;this.nd=this.Se=d;var k=this.Vd.Lz;0<k.length&&(this.nd=k.map((n,p)=>e.m(e.Yw,{If:this.g,dK:n,instance:this,index:p})));this.Cd=this.Vd.Zb()?[]:null;this.$d=-1;this.Ub=null;k=this.Cb();k.uq()&&(this.Ca|=4);if(k.vf)if(this.Ua=e.m(e.L5,this,g.mV),g.WV)this.Ua.zg(g.WV);
else{this.Ua.w0();const [n,p]=this.Vd.BZ();this.Ua.Tc(n,p);this.H().$O()&&this.Ua.fg.x1()}g.dV?this.f9(g.dV):this.a9()}B(){this.me&&(this.me.qu(),this.me=null);if(0<this.nd.length){for(var g of this.nd)g.B();e.F(this.nd)}this.qa.B();this.qa=null;if(g=h.get(this))g.clear(),h.delete(this);if(g=m.get(this))g.clear(),m.delete(this);this.Cd&&e.F(this.Cd);this.Ub&&(this.Ub.B(),this.Ub=null);this.Vd=this.g=null;0<this.Se.length&&e.F(this.Se);this.Ua&&(this.Ua.B(),this.Ua=null)}f9(g){0<g.length&&(this.Se=
[],e.Oc(this.Se,g))}a9(){const g=this.Vd.bj.length;if(0!==g){this.Se=[];var k=[0,0,""];for(let n=0;n<g;++n)this.Se.push(k[this.Vd.ft(n)])}}Wy(g,k){if(this.qa)throw Error("already got sdk instance");for(let n=0,p=this.nd.length;n<p;++n)this.nd[n].Wy(k?k[n]:null);this.qa=e.m(this.Vd.zA,this,g);if(!(this.qa instanceof e.Cy))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.nd.length;n<p;++n);this.Vd.XS&&this.vQ()}A(){return this.Ua}I(){return this.g}pZ(){const g=this.$d;return-1===
g?this.I().$d:g}WE(g){g=+g;if(0>g||!isFinite(g))g=0;this.$d=g}E3(){this.$d=-1}Yb(){this.Ub||(this.Ub=e.m(e.Event.Yb));return this.Ub}oh(g){this.qa.oh(g)}Fd(g){this.qa.Fd(g)}Raa(){this.Ca|=2}$k(){return 0!==(this.Ca&2)}VF(){this.Ca|=1}tt(){return 0!==(this.Ca&1)}uq(){return 0!==(this.Ca&4)}qN(){return 0!==(this.Ca&32)}Lt(g,k){g<<=16;this.Ca=k?this.Ca|g:this.Ca&~g}AD(g){return 0!==(this.Ca&g<<16)}qh(){return this.qa.qh()}tD(){return this.qa.tD()}uD(){return this.qa.uD()}$D(){return this.qa.$D()}ao(g){return this.qa.ao(g)}H(){return this.Vd}zq(){return this.qa.zq()}Xp(g){return g.bb?
g.TL(this.H()):this.H()===g}aP(){if(!this.Cb().nU)throw Error("object does not support scene graph");}Oj(){return null!==this.Ga()}Ga(){var g=this.A();return g?(g=g.Ga())?g.Da():null:null}Zx(){var g=this.A();return g?(g=g.Zx())?g.Da():null:null}*Nw(){const g=this.A();if(g)for(const k of g.Nw())yield k.Da()}hf(){const g=this.A();return g?g.hf():!1}$e(){const g=this.A();return g?g.$e().map(k=>k.Da()):[]}*children(){const g=this.A();if(g)for(const k of g.children())yield k.Da()}*Ik(){const g=this.A();
if(g)for(const k of g.Ik())yield k.Da()}Cx(){const g=this.A();return g?g.Cx():0}qD(g){const k=this.A();return k?(g=k.qD(g))?g.Da():null:null}mm(g,k){this.aP();g.aP();this.A().mm(g.A(),k||{})}Tj(g){const k=this.A();k&&k.Tj(g.A())}Ex(){const g=this.A();return g?g.Ex():!1}V4(){var g=this.A();if(g&&(g=g.vM()))for(const k of g)if(g=this.g.Dj(k[2])){const n=k[3];this.mm(g,{Hs:!!(n>>0&1),Is:!!(n>>1&1),Up:!!(n>>2&1),Tp:!!(n>>3&1),Gs:!!(n>>4&1),Bw:!!(n>>5&1),Js:!!(n>>6&1)})}}Zb(){return null!==this.Cd}Qq(g){this.Cd.push(g)}S_(g){return!!this.BM(g)}BM(g){const k=
this.Cd;if(null===k||0===k.length)return!1;for(const n of k)if(n.H()===g)return n;return null}Hi(){for(const g of this.Cd)g.H().T().Yj(g)}t$(){for(const g of this.Cd)g.H().T().No(g)}gba(g){for(const k of this.Cd)k.H().T().G[g]=k}s$(){for(const g of this.Cd)g.H().T().pl(g)}fba(g){for(const k of this.Cd)k.H().T().cc[g]=k}Cb(){return this.Vd.Cb()}sR(g){this.OS=g}$n(){this.Vd.xz();return this.OS}aM(g){const k=this.nd;for(let n=0,p=k.length;n<p;++n)if(k[n].yg().mb===g)return n;return-1}Ee(g){g|=0;const k=
this.Se;if(0>g||g>=k.length)throw new RangeError("invalid instance variable");return k[g]}cQ(g){return this.Se[g]}f8(g){const k=this.Se[g];return 0===this.Vd.ft(g)?!!k:k}Hm(g,k){g|=0;const n=this.Se;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Vd.ft(g)){case 0:n[g]=k?1:0;break;case 1:n[g]="number"===typeof k?k:parseFloat(k);break;case 2:n[g]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}t4(g,k){if(0!==k){g|=0;
var n=this.Se;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof k?n[g]+k:n[g]+parseFloat(k);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Jj(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}mt(){let g=m.get(this);if(g)return g;g=new Map;m.set(this,
g);return g}pQ(g){const k=this.H();if(k.ae.ND(g))return!0;for(const n of k.Mh)if(n.ae.ND(g))return!0;return this.g.ae.ND(g)?!0:!1}wz(){const g=new Set;g.add(this);const k=this.A();if(k&&k.hf())for(const n of this.Ik())if(g.add(n),n.Zb())for(const p of n.Cd)g.add(p);if(this.Zb())for(const n of this.Cd)g.add(n);for(const n of g.values())n.FR()}FR(){if(this.pQ("instancecreate")){const g=this.H(),k=new e.Event("instancecreate");k.instance=this.rh();g.nh(k);for(const n of g.Mh)n.nh(k);this.g.nh(k)}this.g.Ha(this.Cb().constructor.L.vN,
this,null)}zba(){this.g.Ha(this.Cb().constructor.L.f2,this,null)}P7(g){if(this.me){var k=new e.Event("destroy");k.sea=g;this.nh(k)}if(this.pQ("instancedestroy")){k=this.H();var n=new e.Event("instancedestroy");n.instance=this.rh();n.sea=g;k.nh(n);for(const p of k.Mh)p.nh(n);this.g.nh(n)}}Hd(g="full"){const k={};"full"===g?k.uid=this.dd:k.c3=!0;if("visual-state"!==g){var n=h.get(this);n&&n.size&&(k.ex=e.iF(n));-1!==this.$d&&(k.mts=this.$d);if(0<this.Vd.bj.length){n={};var p=this.Vd.$Z();for(let q=
0,u=this.Se.length;q<u;++q)n[p[q].toString()]=this.Se[q];k.ivs=n}if(this.nd.length){n={};for(const q of this.nd)(p=q.Hd())&&(n[q.yg().mb.toString()]=p);k.behs=n}}this.Ua&&(k.w=this.Ua.ma(g));(g=this.qa.Hd())&&(k.data=g);return k}gz(g="full"){this.Ua&&this.Ua.gz(g)}Ad(g,k="full"){if("full"===k)this.dd=g.uid;else if(!g.c3)return;if("visual-state"!==k){var n=h.get(this);n&&(n.clear(),h.delete(this));if(n=g.ex)n=e.lD(n),h.set(this,n);this.$d=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [u,w]of Object.entries(n))if(n=
this.Vd.ZZ(parseInt(u,10)),!(0>n||n>=this.Se.length)){var p=w;null===p&&(p=NaN);this.Se[n]=p}}if(this.Cb().vf){n=g.w;var q=n.l;this.Ua.ea().mb!==q&&(p=this.Ua.ea(),(q=p.hc().Mx(q))?(this.Ua.su(q),p.Oo(this,!0),q.Lg(this,!0),q.Jg(),this.Ua.Ya()):"full"===k&&this.g.Vn(this));this.Ua.ra(n,k)}if("visual-state"!==k&&(k=g.behs))for(const [u,w]of Object.entries(k))k=this.aM(parseInt(u,10)),0>k||k>=this.nd.length||this.nd[k].Ad(w);(g=g.data)&&this.qa.Ad(g)}rh(){return this.me||this.vQ()}vQ(){var g=this.Ua?
self.ey:a;const k=this.qa.Xk(),n=this.Vd.XS,p=n||k||g;a.Mg(this);this.me=new p;a.Mg(null);if(k&&!(this.me instanceof g))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${g.name}'`);if(n&&(g=k||g,!(this.me instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.me}e8(g){if(0!==this.Se.length){var k={},n=this.Vd.Y7();for(let p=0,q=n.length;p<q;++p)k[n[p]]={configurable:!1,enumerable:!0,
get:e.Instance.prototype.f8.bind(this,p),set:e.Instance.prototype.Hm.bind(this,p)};k=Object.create(Object.prototype,k);g.yqa={value:k,writable:!1}}}Z7(g){var k=this.nd;if(0!==k.length){var n={};for(const p of k)n[p.yg().ti()]={value:p.kq(),writable:!1};k=Object.create(Object.prototype,n);g.zw={value:k,writable:!1}}}nh(g){g.instance=this.rh();var k=this.g;(k=k.zb&&!k.oa().jy())&&b.dF();this.rh().dispatchEvent(g);k&&b.NC()}}}
{"use strict";const e=self.D;e.Q3=class extends e.ka{constructor(b){super();this.Wb=b;this.Bc=null;this.Rz=[];this.PB=b.$();this.OB=b.ca();this.AJ=this.zJ=1;this.qB=0}B(){this.Bc=null;e.F(this.Rz)}EO(b){this.qB=(this.Bc=b)?b.Ia():0}Ga(){return this.Bc}hf(){return 0<this.Rz.length}$e(){return this.Rz}E4(b){this.zJ=b}F4(b){this.AJ=b}Hj(){return this.Wb.fo()?this.Bc.$()/this.Bc.Mb.PB:1}Ij(){return this.Wb.eo()?this.Bc.ca()/this.Bc.Mb.OB:1}ma(){return{sw:this.PB,sh:this.OB,sx:this.zJ,sy:this.AJ,psa:this.qB,
c:this.Rz.map(b=>{let a="";b.ho()&&(a+="x");b.io()&&(a+="y");b.fo()&&(a+="w");b.eo()&&(a+="h");b.$x()&&(a+="a");b.ay()&&(a+="z");b.Ex()&&(a+="d");return{uid:b.Da().dd,f:a}})}}ra(b){this.PB=b.sw;this.OB=b.sh;this.zJ=b.sx;this.AJ=b.sy;this.qB=b.psa}ZF(b){const a=this.Wb,d=a.I();for(const c of b.c){b=d.Dj(c.uid).A();const h=c.f,m={};m.Hs=h.includes("x");m.Is=h.includes("y");m.Up=h.includes("w");m.Tp=h.includes("h");m.Gs=h.includes("a");m.Js=h.includes("z");m.Bw=h.includes("d");a.mm(b,m)}}}}
{"use strict";const e=self.D,b=e.m(e.Rect),a=e.m(e.Bd),d=e.m(e.Event,"bboxchange",!1),c=e.m(e.eb,0,0,0,0),h=e.m(e.Tn),m=e.m(e.eb,1,1,1,1),g=e.m(e.Rect,0,0,-1,-1),k=e.m(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;e.L5=class extends e.ka{constructor(r,v){super();this.la=r;this.K=r.H();this.g=r.I();this.uk=v;this.Hk=-1;this.Ca=196635;this.K.Cb().sq()&&(this.Ca|=128);this.Qr=this.Pr=this.jH=this.pJ=this.Za=this.Xc=this.Vg=this.ih=this.ed=this.O=
this.S=NaN;this.aH=e.m(e.Rect);this.bH=e.m(e.Bd);this.Sz=k;this.Uv=g;this.kj=this.js=this.LB=null;this.Yo=this.kb=m;this.fg=this.Kp=null;this.la.H().$O()&&(this.fg=e.m(e.N0,this.la,this));this.Wh=this.Mb=null}VF(){this.Ca|=256}B(){this.Kp&&(this.g.sb().NN(this.Kp),this.Kp=null);this.LB=null;this.js&&(this.js.uV.B(),this.js=null);this.kj&&(this.kj.clear(),this.kj=null);this.Ay();this.Oj()&&this.Ga().Tj(this);if(this.hf()){const r=[...this.$e()];for(const v of r)this.Tj(v)}this.jz();this.uk=this.g=
this.K=this.la=null}zg(r){q=!1;this.Jm(r[0],r[1]);this.Je(r[2]);this.Tc(r[3],r[4]);this.Xc=0;this.sq()?this.ld(r[6]):this.Za=0;c.jm(r[7]);this.lz(c);this.Iq(r[8]);this.Jq(r[9]);this.Wf(r[10]);this.fg&&this.fg.b9(r[12]);r[14]&&u.set(this,{Jda:r[14][1],zfa:r[14][2]});if(r[15]){var v=r[15];this.cD(v[0],v[1]);r=this.Kj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.gq(z,y);J.Zf(H[0]);J.Ig(H[1]);J.Je(H[2]);J.XE(H[3]);J.YE(H[4])}}}q=!0;this.$q()}w0(){this.pJ=
this.Za=this.Xc=this.Vg=this.ih=this.ed=this.O=this.S=0;this.jH=1;this.Qr=this.Pr=0;this.$q()}I(){return this.g}H(){return this.K}Da(){return this.la}eu(){return this.$x()?this.Ga().Ia()-this.Mb.qB:0}Zf(r){r=+r;if(this.ho()){const v=this.Mb;r-=this.ga();const y=-this.eu();0===y?this.S+=r/v.Hj():(this.S+=Math.cos(y)*r/v.Hj(),this.io()&&(this.O+=Math.sin(y)*r/v.Ij()))}else this.S=r}Y1(r){r=+r;this.ho()?this.Zf(this.ga()+r):this.S+=r}ga(){if(this.ho()){let r=this.S;const v=this.Mb,y=this.Ga(),A=this.eu();
0===A?r*=v.Hj():(r=r*v.Hj()*Math.cos(A),this.io()&&(r-=this.O*v.Ij()*Math.sin(A)));return y.ga()+r}return this.S}Ig(r){r=+r;if(this.io()){const v=this.Mb;r-=this.ia();const y=-this.eu();0===y?this.O+=r/v.Ij():(this.ho()&&(this.S-=Math.sin(y)*r/v.Hj()),this.O+=Math.cos(y)*r/v.Ij())}else this.O=r}Z1(r){r=+r;this.io()?this.Ig(this.ia()+r):this.O+=r}ia(){if(this.io()){let r=this.O;const v=this.Mb,y=this.Ga(),A=this.eu();0===A?r*=v.Ij():(r=r*v.Ij()*Math.cos(A),this.ho()&&(r+=this.S*v.Hj()*Math.sin(A)));
return y.ia()+r}return this.O}Jm(r,v){r=+r;v=+v;if(this.FM()){const A=this.ho(),G=this.io(),z=this.Mb,F=r-this.ga(),H=v-this.ia();var y=-this.eu();if(0===y)this.S=A?this.S+F/z.Hj():r,this.O=G?this.O+H/z.Ij():v;else{const J=Math.sin(y);y=Math.cos(y);this.S=A?G?this.S+(y*F-J*H)/z.Hj():this.S+y*F/z.Hj():r;this.O=G?A?this.O+(J*F+y*H)/z.Ij():this.O+y*H/z.Ij():v}}else this.S=r,this.O=v}uy(r,v){r=+r;v=+v;this.FM()?this.Jm(this.ga()+r,this.ia()+v):(this.S+=r,this.O+=v)}YY(r,v){return this.ga()===r&&this.ia()===
v}Je(r){r=+r;this.ay()&&(r-=this.Ga().fb());this.ed!==r&&(this.ed=r,this.PR(),r=this.ea(),0!==this.ed&&r.pR(),r.Jg())}PR(){this.$q();if(this.hf()){const r=this.$e();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.ay()&&A.PR()}}}a2(r){this.Je(this.fb()+r)}fb(){return this.ay()?this.Ga().fb()+this.ed:this.ed}gf(){return this.ea().fb()+this.fb()}lf(r){r=+r;if(this.fo()){const v=this.$();this.ih=0===v?1E-6:r/v*this.ih}else this.ih=r}uN(r){r=+r;this.fo()?this.lf(this.$()+r):this.ih+=r}$(){return this.fo()?
this.Ga().$()*this.ih:this.ih}Xf(r){r=+r;if(this.eo()){const v=this.ca();this.Vg=0===v?1E-6:r/v*this.Vg}else this.Vg=r}tN(r){r=+r;this.eo()?this.Xf(this.ca()+r):this.Vg+=r}ca(){return this.eo()?this.Ga().ca()*this.Vg:this.Vg}Tc(r,v){r=+r;v=+v;if(this.fo()){const y=this.$();this.ih=0===y?1E-6:r/y*this.ih}else this.ih=r;this.eo()?(r=this.ca(),this.Vg=0===r?1E-6:v/r*this.Vg):this.Vg=v}t_(){if(this.Oj()){const r=this.Mb;return Math.min(r.Hj(),r.Ij())}return 1}sq(){return 0!==(this.Ca&128)}ld(r){r=+r;
this.sq()&&(this.$x()&&(r-=this.Ga().Ia()),r=e.ee(r),this.Za!==r&&(this.Za=r,this.WF()))}U1(r){r=+r;0!==r&&this.sq()&&(this.Za=e.ee(this.Za+r),this.WF())}WF(){this.Ca|=262144;if(this.hf()){const r=this.$e();for(let v=0,y=r.length;v<y;v++)r[v].WF()}}Ia(){return this.$x()?e.ee(this.Ga().Ia()+this.Za):this.Za}LQ(){const r=this.Ca;if(0!==(r&262144)){var v=this.Ia();this.pJ=Math.sin(v);this.jH=Math.cos(v);this.Ca=r&-262145}}ID(){this.LQ();return this.pJ}sD(){this.LQ();return this.jH}Iq(r){this.Pr=+r}W1(r){this.Pr+=
+r}Uk(){return this.Pr}Jq(r){this.Qr=+r}X1(r){this.Qr+=+r}Vk(){return this.Qr}lz(r){this.kb.sd(r)||(this.kb===m?(this.kb=e.m(e.eb,r),this.Yo=e.m(e.eb,r),this.Yo.PK()):r.nC(1,1,1,1)?this.Yo=this.kb=m:(this.kb.set(r),this.Yo.set(r),this.Yo.PK()),this.$q())}Ei(r){r=e.ja(+r,0,1);this.kb.Dn!==r&&(c.oj(this.kb),c.Dn=r,this.lz(c))}V1(r){this.Ei(this.fe()+r)}fe(){return this.kb.Dn}KO(r){this.kb.gm(r)||(c.oj(r),c.Dn=this.kb.Dn,this.lz(c))}Q4(r,v,y){c.Fs(r,v,y);this.KO(c)}FD(){return this.Yo}Ex(){return 0!==
(this.Ca&512)}d4(r){this.Ne(512,r)}ho(){return 0!==(this.Ca&1024)}L4(r){this.Ne(1024,r)}io(){return 0!==(this.Ca&2048)}FM(){return 0!==(this.Ca&3072)}M4(r){this.Ne(2048,r)}fo(){return 0!==(this.Ca&4096)}K4(r){this.Ne(4096,r)}eo(){return 0!==(this.Ca&8192)}J4(r){this.Ne(8192,r)}$x(){return 0!==(this.Ca&16384)}I4(r){this.Ne(16384,r)}ay(){return 0!==(this.Ca&32768)}N4(r){this.Ne(32768,r)}uP(){this.Ca&=-65025}mm(r,v){if(r!==this&&!r.Oj()&&!this.rQ(r)&&!this.qQ(r)){var y=r.ga(),A=r.ia(),G=r.$(),z=r.ca(),
F=r.Ia(),H=r.fb();r.vR(this);r.L4(v.Hs);r.M4(v.Is);r.K4(v.Up);r.J4(v.Tp);r.I4(v.Gs);r.N4(v.Js);r.d4(v.Bw);v.Hs&&(r.S=y-this.ga(),v.Up&&(r.S/=this.$()/this.Mb.PB));v.Is&&(r.O=A-this.ia(),v.Tp&&(r.O/=this.ca()/this.Mb.OB));v.Up&&(r.ih=G/this.$(),r.Mb.E4(r.ih));v.Tp&&(r.Vg=z/this.ca(),r.Mb.F4(r.Vg));v.Gs&&(r.Za=F-this.Ia());v.Js&&(r.ed=H-this.fb());this.T5(r);this.Ya()}}Tj(r){if(r.Ga()===this){var v=r.ga(),y=r.ia(),A=r.$(),G=r.ca(),z=r.Ia(),F=r.fb();r.vR(null);r.uP();r.Jm(v,y);r.Tc(A,G);r.ld(z);r.Je(F);
this.H$(r);this.Ya()}}P$(){for(var r of this.children())this.Tj(r);(r=this.Ga())&&r.Tj(this);this.uP()}Oj(){return null!==this.Ga()}Ga(){const r=this.Mb;return null!==r?r.Ga():null}Zx(){let r=this;for(;r.Oj();)r=r.Ga();return r}*Nw(){let r=this.Ga();for(;r;)yield r,r=r.Ga()}N_(r){return this.$e().includes(r)}hf(){const r=this.Mb;return null!==r?r.hf():!1}$e(){const r=this.Mb;return null!==r?r.$e():p}children(){return this.$e()}*Ik(){for(const r of this.children())yield r,yield*r.Ik()}Cx(){return this.$e().length}qD(r){const v=
this.$e();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}uF(r){this.Mb||(this.Mb=e.m(e.Q3,this));r&&this.Mb.EO(r)}jz(){this.Mb&&(this.Mb.B(),this.Mb=null)}vR(r){r?(r.uF(null),this.uF(r)):(this.Mb&&this.Mb.EO(null),this.hf()||this.jz())}qQ(r){if(!this.Oj())return!1;const v=this.Ga();return v===r?!0:v.qQ(r)}rQ(r){if(this.N_(r))return!0;for(const v of this.$e())if(v.rQ(r))return!0;return!1}T5(r){this.Mb.$e().push(r)}H$(r){const v=this.Mb.$e(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Oj()||
this.jz();r.hf()||r.jz()}vM(){const r=u.get(this);return r?r.Jda:null}u_(){const r=u.get(this);return r?r.zfa:NaN}iq(){return w.get(this)||NaN}SE(r){w.set(this,r)}$q(){if(q){var r=this.g.sb();this.Kp&&r.NN(this.Kp);this.Kp=r.bW(0!==(this.Ca&524288)?r.MB||"<point>":r.NB||"<default>",this.xj(),this.Yo,this.fb())}}mq(){return this.kb===m}Wf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.xj()!==r&&(this.Ca=this.Ca&-2080374785|r<<26,this.$q())}xj(){return(this.Ca&2080374784)>>26}su(r){this.uk=
r;0!==this.fb()&&this.uk.pR()}ea(){return this.uk}hc(){return this.ea().hc()}uz(r){this.Hk=r|0}Nj(){this.uk.wu();return this.Hk}Ne(r,v){this.Ca=v?this.Ca|r:this.Ca&~r}Qc(){return 0!==(this.Ca&1)}Hg(r){this.Ne(1,r)}xi(){return 0!==(this.Ca&8)}It(r){r=!!r;this.xi()!==r&&(this.Ne(8,r),r?this.Ya():this.$Q())}UE(r,v){this.Ne(32,r);this.kj&&this.kj.clear();if(v.trim()){this.kj||(this.kj=new Set);for(const y of v.split(" "))y&&this.kj.add(y.toLowerCase())}else this.kj=null}Ya(){this.Ca|=65554;this.K.oR();
this.g.da();this.uk.Jo()&&(this.bx(this.aH,this.bH,!0),this.Ca&=-3,this.Iba());0!==(this.Ca&4)&&this.la.Yb().dispatchEvent(d);if(null!==this.Mb){const r=this.Mb.$e();for(let v=0,y=r.length;v<y;++v)r[v].Ya()}}bx(r,v,y){const A=this.ga(),G=this.ia(),z=this.$(),F=this.ca(),H=this.Ia();r.ji(A-this.Pr*z,G-this.Qr*F,z,F);y&&this.Tf()&&this.J7(r);0===H?v.tj(r):(r.offset(-A,-G),v.EV(r,this.ID(),this.sD()),v.offset(A,G),v.uK(r));r.normalize()}KR(){const r=this.Ca;0!==(r&2)&&(this.bx(this.aH,this.bH,!0),this.Ca=
r&-3)}hd(){this.KR();return this.aH}yj(){this.KR();return this.bH}GN(r){var v=this.ga(),y=this.ia();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;a.ta(r);a.offset(v,y);return a}Z3(r){this.Ne(4,r)}RM(){return 0!==(this.Ca&4)}aN(r,v,y){return v&&0!==this.Xc?this.pq(this.ea().Tq()):0===this.fb()||y?r.tC(this.hd()):this.Q8()}Q8(){const r=this.ea(),v=this.gf();if(v>=r.Ws())return!1;r.IM(v,b);return b.tC(this.hd())}pq(r){var v=this.hd();const y=v.aa,A=v.na,G=v.W;v=v.fa;const z=this.gf();
return r.tX(y,G,z,A,v,z+this.Xc)}mz(r){this.Ne(1048576,r)}oz(r){this.Ne(2097152,r)}VE(r){this.LB=r;this.BF();this.Tf()&&(this.Wh.FK=null)}cy(){return null!==this.LB||this.Tf()}Zk(){return this.b8(this.$(),this.ca(),this.Ia(),this.ID(),this.sD())}b8(r,v,y,A,G){let z=this.js;null===z&&(this.js=z={uV:e.m(e.Tn),width:NaN,height:NaN,angle:NaN});const F=z.uV;if(z.width===r&&z.height===v&&z.angle===y)return F;const H=this.LB;if(this.Tf()){const J=this.Uk(),M=this.Vk(),P=this.Kj();let R=this.Wh.FK;R||(H?
(h.ta(H),h.offset(J,M)):h.afa(),R=P.M0(h),this.Wh.FK=R);P.p5(R,F);F.offset(-J,-M);F.cL(r,v,A,G)}else H?(F.ta(H),F.cL(r,v,A,G)):F.WK(this.yj(),-this.ga(),-this.ia());z.width=r;z.height=v;z.angle=y;return F}BF(){this.A4();const r=this.js;null!==r&&(r.width=NaN)}cD(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Da().Cb().qda)throw Error("object does not support mesh");this.Ay();this.Wh={YK:e.m(e.J.pN,r,v),OV:e.m(e.J.pN,r,v),FK:null}}Tf(){return null!==this.Wh}Kj(){if(!this.Tf())throw Error("no mesh");
return this.Wh.YK}GM(){if(!this.Tf())throw Error("no mesh");return this.Wh.OV}PE(r){this.Ne(65536,r)}cN(){return 0!==(this.Ca&65536)}A4(){this.Ne(131072,!0)}J7(r){const v=this.Wh.YK,y=Math.min(v.l_(),0),A=Math.min(v.m_(),0),G=Math.max(v.i_(),1),z=Math.max(v.j_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Mea((G-1)*F);r.Lea((z-1)*H);this.Xc=v.k_()}Ay(){this.Wh&&(this.Wh.YK.B(),this.Wh.OV.B(),this.Wh=null,this.BF())}AO(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";
if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Vw;let H="number"===typeof y.SV?y.SV:A?0:-1;y="number"===typeof y.VV?y.VV:A?0:-1;if(!this.Tf())return!1;const J=this.Kj(),M=J.gq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.fb()!==F&&(M.Je(F),P=!0);A&&(G+=r/(J.nk-1),z+=v/(J.Bk-1));-1!==H||A?(A&&(H+=r/(J.nk-1)),H=e.ja(H,0,1)):H=M.fh;-1!==y||A?(A&&(y+=v/(J.Bk-1)),y=e.ja(y,0,1)):y=M.hh;if(M.ga()===G&&M.ia()===z&&M.fh===H&&M.hh===y)return P;M.Zf(G);M.Ig(z);
M.XE(H);M.YE(y);this.BF();return!0}$k(){return this.la.$k()}Ls(r,v){return this.hd().Ff(r,v)&&this.yj().Ff(r,v)?this.$k()?void 0:this.cy()?this.Zk().Ff(r-this.ga(),v-this.ia()):!0:!1}O8(){return 0!==(this.Ca&16)}LR(){if(this.O8()&&this.xi()&&0===(this.Ca&256)){var r=this.hd(),v=this.K.Tz,y=this.Sz;b.set(v.Ii(r.aa),v.Ji(r.W),v.Ii(r.na),v.Ji(r.fa));y.sd(b)||(r=this.la,y===k?(v.jl(r,null,b),this.Sz=e.m(e.Rect,b)):(v.jl(r,y,b),y.ta(b)),this.Ca&=-17)}}$Q(){const r=this.Sz;r!==k&&(this.K.Tz.jl(this.la,
r,null),this.Sz=k)}Iba(){const r=this.ea();if(r.Jo()&&0===(this.Ca&256)){var v=r.Vr,y=this.hd(),A=this.Uv;b.set(v.Ii(y.aa),v.Ji(y.W),v.Ii(y.na),v.Ji(y.fa));A.sd(b)||(y=this.la,A===g?(v.jl(y,null,b),this.Uv=e.m(e.Rect,b)):(v.jl(y,A,b),A.ta(b)),r.C4())}}aR(){const r=this.Uv;r!==g&&(this.ea().Vr.jl(this.la,r,null),this.Uv=g)}R5(){const r=this.la,v=this.uk,y=v.G;y.length&&y.de(-1)===r||(v.Oo(r,!1),v.Lg(r,!1),this.g.da())}P5(){const r=this.la,v=this.uk,y=v.G;y.length&&y[0]===r||(v.Oo(r,!1),v.p$(r),this.g.da())}Q5(r){const v=
this.la,y=this.uk;if(y.hc()!==r.hc())throw Error("layer from different layout");r!==y&&(y.Oo(v,!0),this.su(r),r.Lg(v,!0),this.g.da())}O5(r,v){const y=this.la;let A=!1;const G=this.uk;if(r.dd!==y.dd){var z=r.A();if(!z)throw Error("expected world instance");z=z.ea();G.Ka()!==z.Ka()&&(G.Oo(y,!0),this.su(z),z.Lg(y,!0),A=!0);r=z.N1(y,r,!!v);(A||r)&&this.g.da()}}Qaa(r){this.Ne(64,r)}ot(){return 0!==(this.Ca&64)}ma(r){const v={x:this.ga(),y:this.ia(),w:this.$(),h:this.ca(),l:this.ea().mb,zi:this.Nj()};0!==
this.fb()&&(v.ze=this.fb());0!==this.Ia()&&(v.a=this.Ia());this.mq()||(v.c=this.kb.toJSON());.5!==this.Uk()&&(v.oX=this.Uk());.5!==this.Vk()&&(v.oY=this.Vk());0!==this.xj()&&(v.bm=this.xj());this.Qc()||(v.v=this.Qc());this.xi()||(v.ce=this.xi());this.RM()&&(v.be=this.RM());this.fg&&(v.fx=this.fg.ma());const y=0!==(this.Ca&32);y&&(v.sfi=y);this.kj&&(v.sft=[...this.kj].join(" "));this.Mb&&"visual-state"!==r&&(v.sgi=this.Mb.ma());this.Tf()&&(v.mesh=this.Kj().Hd());return v}gz(r){"visual-state"!==r&&
this.P$()}ra(r,v){q=!1;this.Zf(r.x);this.Ig(r.y);this.lf(r.w);this.Xf(r.h);this.uz(r.zi);this.Je(r.hasOwnProperty("ze")?r.ze:0);this.ld(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.jm(r.c):r.hasOwnProperty("o")?(c.oj(this.kb),c.Dn=r.o):c.Mn(1,1,1,1);this.lz(c);this.Iq(r.hasOwnProperty("oX")?r.oX:.5);this.Jq(r.hasOwnProperty("oY")?r.oY:.5);this.Wf(r.hasOwnProperty("bm")?r.bm:0);this.Hg(r.hasOwnProperty("v")?r.v:!0);this.It(r.hasOwnProperty("ce")?r.ce:!0);this.Z3(r.hasOwnProperty("be")?r.be:
!1);this.UE(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.fg&&r.hasOwnProperty("fx")&&this.fg.ra(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.uF(null);const y=this.Mb,A=r.sgi;y.ra(A);const G=this.I().Yb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Ca&256)&&y.ZF(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.cD(r.cols,r.rows),this.Kj().Ad(r)):this.Ay();this.Ya();q=!0;this.$q()}}}
{"use strict";const e=self.D;e.jL=class extends e.ka{constructor(b,a){super();const d=b.I(),c=d.Cp,h=d.th(a[1]);c.M_(h)||c.yX(a);this.g=d;this.K=b;this.Pi=c.sZ(h);this.Nc=null;this.zA=h.Instance;this.mb=a[2];this.Ja=a[0];this.Cv=this.g.ti(a[3]);this.Nc=e.m(h.Ho,this);this.Fd()}static Ra(b,a){return e.m(e.jL,b,a)}B(){this.Pi=this.g=null;this.Nc.B();this.zA=this.Nc=null}Fd(){this.Nc.Fd()}I(){return this.g}H(){return this.K}om(){return this.Pi}Aa(){return this.Ja}ti(){return this.Cv}}}
{"use strict";const e=self.D,b=self.NM;e.Yw=class extends e.ka{constructor(a){super();this.g=a.If;this.Vc=a.dK;this.Pi=this.Vc.om();this.la=a.instance;this.Qa=a.index;this.me=this.qa=null;this.Pi.Lg(this.la)}B(){this.me&&(this.me.qu(),this.me=null);this.Pi.Oo(this.la);this.qa.B();this.la=this.Pi=this.Vc=this.g=this.me=this.qa=null}Wy(a){if(this.qa)throw Error("already got sdk instance");this.qa=e.m(this.Vc.zA,this,a);this.F8()}I(){return this.g}yg(){return this.Vc}om(){return this.Pi}Me(){return this.Qa}Hd(){return this.qa.Hd()}Ad(a){return this.qa.Ad(a)}static bF(a,
d){var c=a.la,h=d.la;const m=c.H().Ka(),g=h.H().Ka();if(m!==g)return m-g;c=c.QT;h=h.QT;return c!==h?c-h:a.Kz.Me()-d.Kz.Me()}F8(){const a=this.qa.Xk(),d=a||b;b.Mg(this);this.me=new d;b.Mg(null);if(a&&!(this.me instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}kq(){return this.me}}}
{"use strict";const e=self.D;e.Nk=class extends e.ka{constructor(b,a){super();this.Wb=b;this.Ng=[];this.ag=[];this.bA=new Map;this.Lh=[];this.Rr=!0;for(const d of a)b=e.m(e.PL,this,d,this.Ng.length),this.Ng.push(b),this.bA.set(b.Aa().toLowerCase(),b),3<=d.length&&this.Lh.push(this.SF(d[2]));this.I().V5(this)}B(){e.F(this.Ng);e.F(this.ag);this.bA.clear();e.F(this.Lh);this.Wb=null}X2(b){if(b.length){this.Ng=b.concat(this.Ng);for(const a of b)this.bA.set(a.Aa().toLowerCase(),a);for(let a=0,d=this.Ng.length;a<
d;++a)this.Ng[a].mG(a)}}SF(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const h=e.m(e.eb);h.jm(c);b[a]=h}}return b}I(){return this.Wb.I()}Bh(){e.F(this.ag);let b=!0;for(const a of this.Ng)a.Lb&&(this.ag.push(a),a.Rf().Rr||(b=!1));this.Rr=b}xg(){return this.Ng}H_(){return 0<this.Ng.length}Rk(b){return this.bA.get(b.toLowerCase())||null}fM(b){b=Math.floor(+b);if(0>b||b>=this.Ng.length)throw new RangeError("invalid effect type index");return this.Ng[b]}ut(b){return this.fM(b).Lb}mO(b,
a){this.fM(b).Fy(a)}ot(){return 0<this.ag.length}Qk(b){return this.Lh[b]}static O3(b){return b&&b instanceof e.eb?{t:"color",v:b.toJSON()}:b}static A1(b){if("object"===typeof b){if("color"===b.t){const a=e.m(e.eb);a.jm(b.v);return a}throw Error("invalid effect parameter type");}return b}static bO(b){return b.map(e.Nk.O3)}static lN(b){return b.map(e.Nk.A1)}Hd(){return this.Ng.map(b=>({name:b.Aa(),active:b.Lb,params:e.Nk.bO(this.Lh[b.Ka()])}))}Ad(b){for(const a of b)if(b=this.Rk(a.name))b.Fy(a.active),
this.Lh[b.Ka()]=e.Nk.lN(a.params);this.Bh()}}}
{"use strict";const e=self.D;e.PL=class extends e.ka{constructor(b,a,d){super();this.Pa=b;this.Re=a[0];this.Ja=a[1];this.Qa=d;this.cd=null;this.Lb=!0}B(){this.cd=this.Pa=null}jX(b){b=e.m(e.PL,b,[this.Re,this.Ja],-1);b.cd=this.cd;b.Lb=this.Lb;return b}tQ(b){b=b.AM(this.Re);if(!b)throw Error("failed to find shader program '"+this.Re+"'");this.cd=b}Aa(){return this.Ja}mG(b){this.Qa=b}Ka(){return this.Qa}I(){return this.Pa.I()}Fy(b){this.Lb=!!b}Rf(){return this.cd}CZ(){const b=[];for(let a=0,d=this.cd.Sp.length;a<
d;++a){const c=this.cd.Qx(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.m(e.eb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.D;e.N0=class extends e.ka{constructor(b,a){super();this.la=b;this.HU=a;this.Pa=b.H().Pa;this.xw=this.SI=!0;this.GU=this.FU=this.DU=!1;this.Kh=e.m(e.J.Be,b.I().R.rH,{mC:(d,c)=>{c=c.Rm;const h=c.A();d.Fm(h.FD());d.Jt(h.gf());c.oh(d);d.Jt(0)},cV:d=>{const c=d.uD(),[h,m]=d.tD();return{LV:c,MV:h,KV:m}},rC:d=>this.Qk(d)});this.Qo=[];this.ag=[];this.Rr=!0;this.Lh=[];for(const d of this.Pa.xg())this.Qo.push(!0);this.Bh()}B(){this.Kh.B();this.Kh=null;e.F(this.Qo);e.F(this.ag);e.F(this.Lh);
this.Pa=this.la=null}b9(b){for(const a of b)this.Lh.push(this.SF(a))}SF(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const h=e.m(e.eb);h.jm(c);b[a]=h}}return b}x1(){for(const b of this.Pa.xg())this.Lh.push(b.CZ())}pi(){this.mu();return this.Kh}I(){return this.la.I()}Bh(){e.F(this.ag);const b=this.HU,a=this.Pa.xg(),d=this.ag,c=this.Qo;let h=!0;for(let m=0,g=a.length;m<g;++m)if(c[m]){const k=a[m];d.push(k);k.Rf().Rr||(h=!1)}this.Rr=h;b.Qaa(!!d.length);this.SI=!0}mu(){const b=
this.la;var a=this.HU;const d=a.mq(),c=0<a.Xc;a=0!==a.Ia()||0>a.$()||0>a.ca();const h=b.$D();if(this.SI||d!==this.xw||c!==this.DU||a!==this.FU||h!==this.GU)this.Kh.TC(this.ag.map(m=>m.Rf()),{us:this.ag.map(m=>m.Ka()),pC:!d||b.uq(),AK:c,jV:h,hV:a}),this.SI=!1,this.xw=d,this.DU=c,this.FU=a,this.GU=h}Qk(b){return this.Lh[b]}ut(b){return this.Qo[b]}mO(b,a){this.Qo[b]=!!a}xg(){return this.Pa.xg()}ma(){return this.Pa.xg().map(b=>({name:b.Aa(),active:this.Qo[b.Ka()],params:e.Nk.bO(this.Lh[b.Ka()])}))}ra(b){for(const a of b)if(b=
this.Pa.Rk(a.name))this.Qo[b.Ka()]=a.active,this.Lh[b.Ka()]=e.Nk.lN(a.params);this.Bh()}}}
{"use strict";const e=self.D,b=[],a=e.m(e.Tn),d=e.m(e.Tn),c=e.m(e.Bd);e.m(e.Rect);e.m(e.Rect);let h=null,m=null,g=null;e.kX=class extends e.ka{constructor(k){super();this.g=k;this.BB=[]}B(){this.g=null}iL(k,n,p){for(const [q,u]of this.BB){let w;if(k===q)w=u;else if(k===u)w=q;else continue;w.Xp(n)&&(p.includes(w)||p.push(w))}}rL(k,n){if(!this.BB.length)return!1;for(const [p,q]of this.BB)if(k===p&&n===q||k===q&&n===p)return!0;return!1}sL(){e.F(this.BB)}gF(k,n){if(!k||!n||k===n)return!1;k=k.A();n=n.A();
if(!k.xi()||!n.xi())return!1;const p=k.ea(),q=n.ea();return p.m1(q)?this.wba(k,n):this.vba(k,n)}wba(k,n){if(!k.hd().tC(n.hd())||!k.yj().yK(n.yj())||k.$k()&&n.$k())return!1;if(k.$k())return this.hF(k,n);if(n.$k())return this.hF(n,k);if(!k.cy()&&!n.cy())return!0;const p=k.Zk(),q=n.Zk();return p.Gw(q,n.ga()-k.ga(),n.ia()-k.ia())}vba(k,n){var p=k.$k(),q=n.$k();if(p&&!q)return this.QO(k,n);if(q&&!p)return this.QO(n,k);if(q||p)return!1;q=k.ea();p=n.ea();a.ta(k.Zk());d.ta(n.Zk());var u=a.Od;for(let w=0,
r=u.length;w<r;w+=2){const v=w+1,y=u[v],[A,G]=q.ro(u[w]+k.ga(),y+k.ia());u[w]=A;u[v]=G}k=d.Od;for(let w=0,r=k.length;w<r;w+=2){q=w+1;u=k[q];const [v,y]=p.ro(k[w]+n.ga(),u+n.ia());k[w]=v;k[q]=y}a.VK();d.VK();return a.Gw(d,0,0)}QO(k,n){var p=k.ea(),q=n.ea();h||(h=e.m(e.Tn));m||(m=e.m(e.Rect));g||(g=e.m(e.Bd));var u=n.ga(),w=n.ia();const [r,v]=q.ro(u,w),[y,A]=p.lh(r,v);p=y-u;w=A-w;m.ta(n.hd());m.offset(p,w);if(!k.hd().tC(m))return!1;g.ta(n.yj());g.offset(p,w);if(!k.yj().yK(g))return!1;h.ta(n.Zk());q=
h.Od;for(let G=0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=w;h.VK();return this.hF(k,n,y,A,h,m,g)}hF(k,n,p,q,u,w,r){w=void 0!==w?w:n.hd();const v=k.ga(),y=k.ia();var A=k.Da().qa;p=void 0!==p?p:n.ga();q=void 0!==q?q:n.ia();k=n.cy();r=void 0!==r?r:n.yj();A.Lha(w,b);for(let F=0,H=b.length;F<H;++F){var G=b[F];A=G.Oha();if(w.pea(A,v,y)&&(c.tj(A),c.offset(v,y),c.yK(r)))if(k){var z=void 0!==u?u:n.Zk();if(G=G.q_()){if(G.Gw(z,p-(v+A.aa),q-(y+A.W)))return e.F(b),!0}else if(a.WK(c,0,0),a.Gw(z,p,q))return e.F(b),
!0}else if(z=G.q_()){if(a.WK(r,0,0),z.Gw(a,-(v+A.aa),-(y+A.W)))return e.F(b),!0}else return e.F(b),!0}e.F(b);return!1}Ny(k,n,p){const q=k.T();var u=this.g.Jb();if(!u)throw Error("cannot call outside event");u=u.Md;if(q.Xb){q.je(!1);e.F(q.G);for(var w of k.pa()){var r=w.A(),v=r.ea();const [y,A]=v.lh(n,p,r.gf());r.Ls(y,A)?q.No(w):u&&q.pl(w)}}else{r=!1;u?this.g.VM()&&!q.cc.length&&q.G.length?w=q.G:(w=q.cc,r=!0):w=q.G;v=0;for(let y=0,A=w.length;y<A;++y){const G=w[y],z=G.A(),F=z.ea(),[H,J]=F.lh(n,p,z.gf());
z.Ls(H,J)?r?q.No(G):w[v++]=G:r?w[v++]=G:u&&q.pl(G)}w.length=v}k.fc();return q.OD()}rD(k,n,p,q){k=k?1!==k.Wd||1!==k.Xd:!1;if(n.bb)for(const u of n.fp)k||u.OG?e.En(q,u.pa()):(u.IR(),u.Tz.yy(p,q));else k||n.OG?e.En(q,n.pa()):(n.IR(),n.Tz.yy(p,q))}}}
{"use strict";const e=self.D;e.c5=class extends e.ka{constructor(b,a){super();this.eH=b;this.dH=a;this.Ri=e.m(e.At)}B(){this.Ri.B();this.Ri=null}pm(b,a,d){let c=this.Ri.ba(b,a);return c?c:d?(c=e.m(e.D_,this,b,a),this.Ri.Set(b,a,c),c):null}Ii(b){b=Math.floor(b/this.eH);return isFinite(b)?b:0}Ji(b){b=Math.floor(b/this.dH);return isFinite(b)?b:0}jl(b,a,d){if(a)for(let c=a.aa,h=a.na;c<=h;++c)for(let m=a.W,g=a.fa;m<=g;++m){if(d&&d.Ff(c,m))continue;const k=this.pm(c,m,!1);k&&(k.xh(b),k.oo()&&this.Ri.Un(c,
m))}if(d)for(let c=d.aa,h=d.na;c<=h;++c)for(let m=d.W,g=d.fa;m<=g;++m)a&&a.Ff(c,m)||this.pm(c,m,!0).WD(b)}yy(b,a){let d=this.Ii(b.aa);const c=this.Ji(b.W),h=this.Ii(b.na);b=this.Ji(b.fa);if(isFinite(h)&&isFinite(b))for(;d<=h;++d)for(let m=c;m<=b;++m){const g=this.pm(d,m,!1);g&&g.gD(a)}}}}
{"use strict";const e=self.D;e.D_=class extends e.ka{constructor(b,a,d){super();this.S=a;this.O=d;this.G=e.m(e.PC)}B(){this.G.B();this.G=null}oo(){return this.G.oo()}WD(b){this.G.Pc(b)}xh(b){this.G.Un(b)}gD(b){e.En(b,this.G.nD())}}}{"use strict";const e=self.D;e.$ka=class{constructor(){this.rect=new e.Rect;this.Cw=0}Set(b,a,d,c){this.rect.set(b,a,d,c);this.rect.normalize();this.Cw=0;return this}}}
{"use strict";const e=self.D,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.rj.hm,c=d.create(),h=e.m(e.Bd),m=e.m(e.Rect);e.XC=class extends e.ka{constructor(g){super();this.g=g;this.kk=null;this.fT=!1;this.nj=this.lb=null;this.JH="high-performance";this.Qm=this.Pm=this.Gh=this.Hh=this.Ic=this.Wc=this.Dk=this.Ek=0;this.ur=!0;this.Yc=this.od=this.oU=0;this.mS=this.xS="letterbox-scale";this.uca=this.tca=0;this.$z=d.create();
this.Ph=this.WJ="high";this.qp=!1;this.Cu=[];this.ZB=new Set;this.EB=self.C3_Shaders;this.rH=e.m(e.J.VY,{aV:()=>[this.Bj(),this.oi()],bV:()=>this.DZ(),zV:k=>this.k3(k),getTime:()=>this.I().Zn(),yV:()=>this.I().da()});this.dg=this.Um=0;this.Cr=NaN;this.rA=null;this.xI=new Map;this.av=NaN;this.gC=new Map;this.JB="";this.qJ=1;this.bU=e.m(e.Rect);this.rJ="";this.cU=this.bw=null;this.Hv=0;this.se=-1;this.an=0;this.DI=k=>this.an=k.progress;this.Af=null;this.Cf={Lw:null,Ow:null,Uw:null};this.uJ=this.iU=
this.vJ=0;this.lj="fade-in";this.tJ=null;this.hU=new Promise(k=>this.tJ=k)}Oaa(g){this.JH=g}kba(g){this.fT=!!g}async mh(g){this.kk=g.canvas;this.g.ki("runtime","window-resize",p=>this.bG(p));this.g.ki("runtime","fullscreenchange",p=>this.R9(p));this.g.ki("runtime","fullscreenerror",p=>this.S9(p));this.kk.addEventListener("webglcontextlost",p=>this.pu(p));this.kk.addEventListener("webglcontextrestored",()=>this.aG());this.qp=!!g.isFullscreen;var k=navigator.gpu&&this.fT;let n=!1;if(k)try{await this.xQ(!0)}catch(p){this.nj=
null}if(!this.sb())try{await this.wQ(!0)}catch(p){this.lb=null}this.sb()||(n=!0);if(!this.sb()&&k)try{await this.xQ(!1)}catch(p){this.nj=null}if(!this.sb())try{await this.wQ(!1)}catch(p){this.lb=null}k=this.sb();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.q4(n);this.Tc(g.windowInnerWidth,g.windowInnerHeight,!0);this.nj?await this.I8():this.lb&&await this.H8();k.QE(this.ur);k.$j()&&(this.Cr=0);for(const p of this.g.HG){for(const q of p.xg())q.tQ(k);p.Bh()}}async xQ(g){g=
{powerPreference:this.JH,depth:this.g.cm,failIfMajorPerformanceCaveat:g,qpa:this.g.$B,hK:this.g.TJ};this.nj=e.m(e.J.Aoa);await this.nj.Ra(this.kk,g)}async wQ(g){g={powerPreference:this.JH,ZU:!0,depth:this.g.cm,hK:this.g.TJ,failIfMajorPerformanceCaveat:g};"Android"===e.Rc.vq&&"Chromium"===e.Rc.ax&&75>e.Rc.SC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.nV=1);"standard"===this.g.ir?g.alpha=
!0:(g.alpha=!1,g.EK=!0);this.lb=e.m(e.J.I5,this.kk,g);await this.lb.gy()}async I8(){if(this.EB){const g=[];for(const [k,n]of Object.entries(this.EB))n.src=n.Usa,g.push(this.nj.dD(n,e.J.Boa.Dx(),k));await Promise.all(g)}}async H8(){if(this.EB){const g=[];for(const [k,n]of Object.entries(this.EB))n.src=n.rqa,g.push(this.lb.dD(n,e.J.Yt.Dx(),k));await Promise.all(g);this.lb.B3();this.lb.Zj()}this.lb.$j()&&(this.rA=e.m(e.J.dP,this.lb))}B(){this.kk=this.lb=this.g=null}bG(g){const k=this.g,n=g.devicePixelRatio;
k.oe&&(self.devicePixelRatio=n);k.Faa(n);this.qp=!!g.isFullscreen;this.Tc(g.innerWidth,g.innerHeight);k.da();k.zb&&(k.pt()||self.vg.Eia())&&k.yo()}R9(g){this.qp=!!g.isFullscreen;this.Tc(g.innerWidth,g.innerHeight,!0);this.g.da()}S9(g){this.qp=!!g.isFullscreen;this.Tc(g.innerWidth,g.innerHeight,!0);this.g.da()}Tc(g,k,n=!1){g=Math.floor(g);k=Math.floor(k);if(0>=g||0>=k)throw Error("invalid size");if(this.Ek!==g||this.Dk!==k||n){this.Ek=g;this.Dk=k;n=this.$s();"letterbox-scale"===n?this.l6(g,k):"letterbox-integer-scale"===
n?this.k6(g,k):"off"===n?this.i6(g,k):this.j6(g,k);this.Gba(n);this.kk.width=this.Hh;this.kk.height=this.Gh;this.g.el("canvas","update-size",{marginLeft:this.Pm,marginTop:this.Qm,styleWidth:this.Wc,styleHeight:this.Ic});g=this.sb();g.Tc(this.Hh,this.Gh,!0);for(var p of this.Cu)g.PX(p);e.F(this.Cu);g.Yp(this.$z,this.Bj()/this.oi());p=this.g.ib;p.Ao();p.zo()}}l6(g,k){const n=this.g.zj(),p=this.g.Zg,q=this.g.Yg,u=p/q;g/k>u?(this.Wc=Math.round(k*u),this.Ic=k,this.Pm=Math.floor((g-this.Wc)/2),this.Qm=
0):(this.Wc=g,this.Ic=Math.round(g/u),this.Pm=0,this.Qm=Math.floor((k-this.Ic)/2));this.Hh=Math.round(this.Wc*n);this.Gh=Math.round(this.Ic*n);this.g.Vt(p,q)}k6(g,k){const n=this.g.zj();1!==n&&(g+=1,k+=1);const p=this.g.Zg,q=this.g.Yg;var u=p/q;u=g/k>u?k*u*n/p:g/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Hh=Math.round(p*u);this.Gh=Math.round(q*u);this.Wc=this.Hh/n;this.Ic=this.Gh/n;this.Pm=Math.max(Math.floor((g-this.Wc)/2),0);this.Qm=Math.max(Math.floor((k-this.Ic)/2),0);this.g.Vt(p,
q)}j6(g,k){const n=this.g.zj();this.Wc=g;this.Ic=k;this.Hh=Math.round(this.Wc*n);this.Gh=Math.round(this.Ic*n);this.Qm=this.Pm=0;g=this.Aj();this.g.Vt(this.Wc/g,this.Ic/g)}i6(g,k){const n=this.g.zj();this.Wc=this.g.rg;this.Ic=this.g.qg;this.Hh=Math.round(this.Wc*n);this.Gh=Math.round(this.Ic*n);this.qp?(this.Pm=Math.floor((g-this.Wc)/2),this.Qm=Math.floor((k-this.Ic)/2)):this.Qm=this.Pm=0;this.g.Vt(this.g.rg,this.g.qg)}Gba(g){if("high"===this.WJ)this.od=this.Hh,this.Yc=this.Gh,this.Ph="high";else{let n;
if("off"===this.$s()){var k=this.g.rg;n=this.g.qg}else k=this.g.Zg,n=this.g.Yg;this.Hh<k&&this.Gh<n?(this.od=this.Hh,this.Yc=this.Gh,this.Ph="high"):(this.od=k,this.Yc=n,this.Ph="low","scale-inner"===g?(g=k/n,k=this.Ek/this.Dk,k<g?this.od=this.Yc*k:k>g&&(this.Yc=this.od/k)):"scale-outer"===g&&(g=k/n,k=this.Ek/this.Dk,k>g?this.od=this.Yc*k:k<g&&(this.Yc=this.od/k)))}}I(){return this.g}o4(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.xS=g;g=this.g.ib;g.Ao();g.zo()}Ix(){return this.xS}f4(g){if(!b.has(g))throw Error("invalid fullscreen mode");
this.mS=g;g=this.g.ib;g.Ao();g.zo()}$s(){return this.qp?this.mS:this.Ix()}pO(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");this.WJ=g;this.g.ib.Ao()}static TP(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Bj(){return this.od}oi(){return this.Yc}QE(g){this.ur=!!g}iba(g){this.oU=g}f1(){return this.sb().mo()}pu(g){console.log("[Construct 3] WebGL context lost");
g.preventDefault();this.Cu=[];this.ZB.clear();this.lb.dl();this.g.pu()}async aG(){await this.lb.rE();await this.cpa();for(const g of this.g.HG)for(const k of g.xg())k.tQ(this.lb);await this.g.aG();console.log("[Construct 3] WebGL context restored")}jo(){return this.lb}nt(){return this.nj}sb(){return this.nj||this.lb}tm(){return"low"===this.Ph?1/this.g.zj():this.Aj()}Aj(){const g=this.$s();if("off"===g||"crop"===g)return 1;const k=this.g.Zg,n=this.g.Yg,p=k/n,q=this.Hh/this.Gh;return"scale-inner"!==
g&&q>p||"scale-inner"===g&&q<p?this.Ic/n:this.Wc/k}dt(){return"low"===this.Ph?1:this.Aj()}ct(){return"low"===this.Ph?1:this.g.zj()}e4(g,k,n){k=k||this.od;n=n||this.Yc;const p=k/2+this.tca,q=n/2+this.uca;{let u=this.$z;if(k!==this.od||n!==this.Yc)g.Yp(c,k/n),u=c;g.Bo(u)}k=g.Ks(p,q,100*this.g.zj(),p,q,n||this.Yc);g.Hq(k)}b4(g){var k=this.Wc/2;const n=this.Ic/2;g.Bo(this.$z);k=g.Ks(k,n,100,k,n);g.Hq(k)}Xs(){return this.Pm}Ys(){return this.Qm}Ts(g){g.depth=this.g.cm;const k=this.Cu,n=k.findIndex(q=>q.X0(g));
let p;-1!==n?(p=k[n],k.splice(n,1)):p=this.sb().DX(g);this.ZB.add(p);return p}vo(g){if(!this.ZB.has(g))throw Error("render target not in use");this.ZB.delete(g);this.Cu.push(g)}DZ(){const g={sj:this.g.vd};"low"===this.Ph&&(g.width=this.Bj(),g.height=this.oi());return this.Ts(g)}k3(g){this.vo(g)}*hC(){for(const g of this.g.ib.Rw())for(const k of g.$b){const n=this.xI.get(k);n&&(yield n)}}pM(g){if(!this.sb().$j())return null;let k=this.xI.get(g);k||(k={name:g.Aa(),ZK:e.m(e.J.dP,this.lb),jC:0,lV:0},
this.xI.set(g,k));return k.ZK}Dba(){const g=this.sb();if(g.$j()&&0===this.dg){this.dg=g.Oh;this.av=NaN;for(const k of this.hC())k.jC=NaN}}Kba(){this.lb&&this.lb.$j()&&this.Lba();this.nj&&this.nj.$j()&&this.Mba()}Lba(){if(isNaN(this.av)&&(this.av=this.rA.lM(this.Um,this.dg),!isNaN(this.av))){if(this.g.zb)for(const g of this.hC())if(g.jC=g.ZK.lM(this.Um,this.dg),isNaN(g.jC))return;this.rA.JL(this.dg);this.Cr=Math.min(this.av,1);if(this.g.zb){for(const g of this.hC())g.ZK.JL(this.dg),g.lV=Math.min(g.jC,
1);self.vg.y5(this.Cr,[...this.hC()])}this.Um=this.dg;this.dg=0}}Mba(){if(0!==this.dg){for(var g=this.Um;g<this.dg;++g){var k=this.gC.get(g);if(k&&!k.dy())return}k=this.g.Sb();g=e.G1(k.$b.length+1);for(var n=this.Um;n<this.dg;++n){var p=this.gC.get(n);if(p){p=p.Wx();for(let q=0,u=Math.min(g.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];g[q]=0===Number(w)||0===Number(r)?NaN:g[q]+Number(r-w)/1E9}}}this.Cr=e.ja(g[0],0,1);if(this.g.zb){n=[];k=k.$b;for(let q=0,u=Math.min(k.length,g.length-1);q<
u;++q)n.push({name:k[q].Aa(),lV:e.ja(g[q+1],0,1)});self.vg.y5(this.Cr,n)}for(g=this.Um;g<this.dg;++g)this.gC.delete(g);this.Um=this.dg;this.dg=0}}e6(g){this.gC.set(this.nj.Oh,g)}Kx(){return this.Cr}NO(g,k,n,p,q,u){this.JB=g;this.qJ=k;this.bU.ji(n,p,q,u);return this.bw?this.bw:this.bw=new Promise(w=>{this.cU=w})}x9(){if(this.JB){var g=this.kk,k=this.bU,n=e.ja(Math.floor(k.aa),0,g.width),p=e.ja(Math.floor(k.W),0,g.height),q=k.width();q=0===q?g.width-n:e.ja(Math.floor(q),0,g.width-n);k=k.height();k=
0===k?g.height-p:e.ja(Math.floor(k),0,g.height-p);(0!==n||0!==p||q!==g.width||k!==g.height)&&0<q&&0<k&&(g=e.mh(q,k),g.getContext("2d").drawImage(this.kk,n,p,q,k,0,0,q,k));e.cx(g,this.JB,this.qJ).then(u=>{this.rJ=URL.createObjectURL(u);this.bw=null;this.cU(this.rJ)});this.JB="";this.qJ=1}}v0(g){this.lb&&(2===g?(this.Af=e.m(e.J.zE,this.sb()),this.Af.vO(),this.Af.NE("Arial"),this.Af.Jy(16),this.Af.rO("center"),this.Af.MO("center"),this.Af.Tc(300,200)):0===g?(g=this.g.Lr)&&g.wt(this.lb).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
k)):4===g&&(this.n9().then(k=>{"done"===this.lj?this.lb.vj(k):this.Cf.Lw=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.CQ("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.lj?this.lb.vj(k):this.Cf.Ow=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.CQ("splash-images/splash-website-512.png").then(k=>{"done"===this.lj?this.lb.vj(k):this.Cf.Uw=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async n9(){var g=(new URL("splash-images/splash-logo.svg",
this.g.pD())).toString();g=await e.Pk(g);g=await this.g.h3(g);return await this.lb.mx(g,{Mw:"high"})}async CQ(g){g=(new URL(g,this.g.pD())).toString();g=await e.Pk(g);return await this.lb.mx(g,{Mw:"high"})}RD(){this.g.el("runtime","hide-cordova-splash")}d5(){this.Hv=Date.now();this.g.Yb().addEventListener("loadingprogress",this.DI);this.se=requestAnimationFrame(()=>this.LP());3!==this.g.Kr&&this.RD()}async XY(){if(this.lb){this.an=1;var g=this.g.Kr;4===g&&await this.hU;this.hU=this.tJ=null;-1!==this.se&&
(cancelAnimationFrame(this.se),this.se=-1);this.g.Yb().removeEventListener("loadingprogress",this.DI);this.DI=null;this.Af&&(this.Af.B(),this.Af=null);this.g.l3();this.lb.Oq();this.Cf.Lw&&(this.lb.vj(this.Cf.Lw),this.Cf.Lw=null);this.Cf.Ow&&(this.lb.vj(this.Cf.Ow),this.Cf.Ow=null);this.Cf.Uw&&(this.lb.vj(this.Cf.Uw),this.Cf.Uw=null);this.lb.Sn();this.lb.Qs();this.lj="done";this.Um=this.lb.Oh;3===g&&this.RD()}}LP(){if(-1!==this.se){var g=this.lb;if(g){g.Oq();this.se=-1;var k=this.g.md.MH,n=this.g.Kr;
3!==n&&(this.b4(g),g.Sn(),g.Ft(),g.Zj(),g.Yf(null));if(0===n)this.B7(k);else if(1===n)this.Zy(k,120,0);else if(2===n)this.A7(k);else if(3!==n)if(4===n)this.C7(k);else throw Error("invalid loader style");g.Qs();this.se=requestAnimationFrame(()=>this.LP())}}}A7(g){g?this.Af.iO(1,0,0):this.Af.iO(.6,.6,.6);this.Af.Ut(Math.round(100*this.an)+"%");g=this.Wc/2;const k=this.Ic/2;h.GV(g-150,k-100,g+150,k+100);this.lb.Yf(this.Af.he());this.lb.yq(h,this.Af.Lj())}Zy(g,k,n){const p=this.lb;p.hO();g?p.kf(1,0,0,
1):p.kf(.118,.565,1,1);g=this.Wc/2;const q=this.Ic/2,u=k/2;m.ji(g-u,q-4+n,Math.floor(k*this.an),8);p.Rect(m);m.ji(g-u,q-4+n,k,8);m.offset(-.5,-.5);m.wK(.5,.5);p.kf(0,0,0,1);p.hN(m);m.wK(1,1);p.kf(1,1,1,1);p.hN(m)}B7(g){var k=this.g.Lr;if(k)if(k=k.he()){var n=k.$(),p=k.ca(),q=this.Wc/2,u=this.Ic/2,w=n/2;p/=2;h.GV(q-w,u-p,q+w,u+p);this.lb.Yf(k);this.lb.Bd(h);this.Zy(g,n,p+16)}else this.Zy(g,120,0);else this.Zy(g,120,0)}C7(g){const k=this.lb,n=this.Cf.Lw,p=this.Cf.Ow,q=this.Cf.Uw,u=Date.now();0===this.vJ&&
(this.Hv=u);const w=this.g.rq()||this.g.Ica&&!this.g.Y0(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.lj?y=Math.min((u-this.Hv)/300,1):"fade-out"===this.lj&&(y=Math.max(1-(u-this.uJ)/300,0));k.hO();k.kf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Wc,this.Ic);k.Rect(m);const A=Math.ceil(this.Wc),G=Math.ceil(this.Ic);let z;256<this.Ic?(k.kf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ji(0,.8*G-z/2,A,z),k.Rect(m),g?k.kf(y,0,0,y):k.kf(.161*y,.953*y,.816*y,y),g=A*this.an,m.ji(.5*A-g/2,.8*G-z/2,g,z),k.Rect(m),
k.kf(y,y,y,y),k.Zj(),p&&(g=1.5*e.ja(.22*G,105,.6*A),z=g/8,m.ji(.5*A-g/2,.2*G-z/2,g,z),k.Yf(p),k.Rect(m)),n&&(z=g=Math.min(.395*G,.95*A),m.ji(.5*A-g/2,.485*G-z/2,g,z),k.Yf(n),k.Rect(m)),q&&(g=1.5*e.ja(.22*G,105,.6*A),z=g/8,m.ji(.5*A-g/2,.868*G-z/2,g,z),k.Yf(q),k.Rect(m))):(k.kf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.ji(0,.85*G-z/2,A,z),k.Rect(m),g?k.kf(y,0,0,y):k.kf(.161*y,.953*y,.816*y,y),g=A*this.an,m.ji(.5*A-g/2,.85*G-z/2,g,z),k.Rect(m),k.kf(y,y,y,y),k.Zj(),n&&(z=g=.55*G,m.ji(.5*A-g/2,.45*
G-z/2,g,z),k.Yf(n),k.Rect(m)));this.vJ++;"fade-in"===this.lj&&300<=u-this.Hv&&2<=this.vJ&&(this.lj="wait",this.iU=u);"wait"===this.lj&&u-this.iU>=v&&1<=this.an&&(this.lj="fade-out",this.uJ=u);("fade-out"===this.lj&&u-this.uJ>=300+r||w&&1<=this.an&&500>u-this.Hv)&&this.tJ()}}}
{"use strict";const e=self.D,b=self.vg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.aO=class extends e.ka{constructor(c){c=Object.assign({},a,c);super();this.Lv=c.messagePort;this.aca=c.baseUrl;this.oe=!!c.isInWorker;d=c.ife;this.Yi=c.exportType;this.gT=!!c.isiOSCordova;this.Ica=!!c.isFBInstantAvailable;this.cda=c.opusWasmScriptUrl;this.HT=c.opusWasmBinaryUrl;this.ne=this.hca=this.zb=!("preview"!==this.Yi||!c.isDebug);this.mH=
0;this.Az=[];this.Tba=[];this.fJ=this.PT=this.xB="";this.Yg=this.Zg=0;this.pr=self.devicePixelRatio;this.Kr=this.qg=this.rg=this.pB=this.oB=0;this.bC=!1;this.rk=!0;this.TJ=this.$B=!1;this.Lr=null;this.md=e.m(e.FW,this,c);this.ib=e.m(e.t1,this);this.xa=e.m(e.bZ,this);this.Cp=e.m(e.P2,this);this.Si=e.m(e.kX,this);this.Ib=e.m(e.l5,this);this.FJ=e.m(e.q5,this);this.Uc=[];this.TI=new Map;this.UI=new Map;this.sS=0;this.Vba=[];this.HG=[];this.Ru=[];this.Fl=[];this.BA=new Map;this.tA=!1;this.Ov=this.VI=0;
this.mp=new Map;this.np=new Set;this.CA=new Set;this.mB=[];this.iT=[];this.R=null;this.cm=!1;this.DH="vsync";this.ir="standard";this.vd="trilinear";this.Hl=!1;this.QI=!0;this.lI=this.KT=!1;this.rda={rV:h=>{this.Vl=this.se=-1;this.Ke(h)},lfa:h=>{this.Vl=-1;this.Ke(h,!1,"skip-render")},Vea:()=>{this.se=-1;this.yo()}};this.Vl=this.se=-1;this.yr=this.yk=0;this.MS=this.KA=this.uA=!1;this.hI=!0;this.bs=0;this.hda=()=>Math.random();this.Wu=this.Xu=this.$A=this.mn=0;this.$d=1;this.CT=30;this.HH=e.m(e.ny);
this.IH=e.m(e.ny);this.VJ=e.m(e.ny);this.oA=-1;this.hB=this.Ll=this.nA=this.hp=0;this.sk=!1;this.Gv=this.Wv="";this.Jr=null;this.wp="";this.mJ=this.eJ=null;this.Ub=e.m(e.Event.Yb);this.qH=new Map;this.$I=new Map;this.Zca=0;this.eT=this.jS=this.kS=!1;this.UJ=[];this.ep={pretick:e.m(e.Event,"pretick",!1),tick:e.m(e.Event,"tick",!1),tick2:e.m(e.Event,"tick2",!1),instancedestroy:e.m(e.Event,"instancedestroy",!1),beforelayoutchange:e.m(e.Event,"beforelayoutchange",!1),layoutchange:e.m(e.Event,"layoutchange",
!1)};this.ep.instancedestroy.instance=null;this.ae=e.m(e.Event.Yb);this.xU=null;this.Om=e.m(e.uo,e.Yw.bF);this.Uo=e.m(e.uo,e.Yw.bF);this.Vo=e.m(e.uo,e.Yw.bF);this.Av=e.m(e.o1,this,c.jobScheduler);c.canvas&&(this.R=e.m(e.XC,this));this.Lv.onmessage=h=>this._OnMessageFromDOM(h.data);this.ki("runtime","visibilitychange",h=>this.i$(h));this.ki("runtime","opus-decode",h=>this.Pba(h.arrayBuffer));this.ki("runtime","get-remote-preview-status-info",()=>this.n8());this.ki("runtime","js-invoke-function",h=>
this.fz(h));this.ki("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Ub.addEventListener("window-blur",h=>this.j$(h));this.Ub.addEventListener("window-focus",()=>this.k$());this.Ib.rW();this.aj=null;this.Eca=new WeakMap;this.Vz={keyboard:null,oV:null,aL:null}}static Ra(c){return e.m(e.aO,c)}B(){e.F(this.Uc);this.TI.clear();this.UI.clear();this.ib.B();this.ib=null;this.xa.B();this.xa=null;this.Cp.B();this.Cp=null;this.md.B();this.md=null;this.Si.B();this.Si=null;this.Ib.B();this.Ib=
null;this.FJ.B();this.FJ=null;this.R&&(this.R.B(),this.R=null);this.Ub.B();this.Ub=null}["_OnMessageFromDOM"](c){const h=c.type;if("event"===h)this.OQ(c);else if("result"===h)this.c$(c);else throw Error(`unknown message '${h}'`);}OQ(c){if(this.eT){var h=c.component,m=c.handler,g=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===h&&(n&&(c=new e.Event(m),c.data=g,this.Ub.Wda(c)),k)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(g))c[q]=
u;this.nh(c)}if(c=this.qH.get(h))if(c=c.get(m)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${h}' handler '${m}':`,q);null!==p&&this.iz(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.iz(p,!0,q)).catch(q=>{console.error(`Rejection from '${h}' handler '${m}':`,q);this.iz(p,!1,""+q)}):this.iz(p,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${m}' for component '${h}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${h}'`)}else this.UJ.push(c)}iz(c,
h,m){this.Lv.postMessage({type:"result",responseId:c,isOk:h,result:m})}c$(c){const h=c.responseId,m=c.isOk;c=c.result;const g=this.$I.get(h);m?g.resolve(c):g.reject(c);this.$I.delete(h)}ki(c,h,m){let g=this.qH.get(c);g||(g=new Map,this.qH.set(c,g));if(g.has(h))throw Error(`[Runtime] Component '${c}' already has handler '${h}'`);g.set(h,m)}el(c,h,m){this.Lv.postMessage({type:"event",component:c,handler:h,data:m,responseId:null})}so(c,h,m){const g=this.Zca++,k=new Promise((n,p)=>{this.$I.set(g,{resolve:n,
reject:p})});this.Lv.postMessage({type:"event",component:c,handler:h,data:m,responseId:g});return k}U2(){if(!this.zb)throw Error("not in debug mode");this.el("runtime","post-to-debugger",{type:"reload"})}async zg(c){this.zb?await b.zg(this):self.vg&&self.vg.via(this);var [h]=await Promise.all([this.md.UL("data.json"),this.w9(),this.Av.zg()]);this.Z8(h);await this.J8(c);this.rq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.jo()?(h=this.jo(),console.info(`[C3 runtime] Hosted in ${this.oe?
"worker":"DOM"}, rendering with WebGL ${h.rd} [${h.qw}] (${h.Z0()?"desynchronized":"standard"} compositing)`)):this.nt()&&console.info(`[C3 runtime] Hosted in ${this.oe?"worker":"DOM"}, rendering with experimental WebGPU`);this.sb().NH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.eT=!0;for(const m of this.UJ)this.OQ(m);e.F(this.UJ);this.R&&this.R.d5();for(const m of c.runOnStartupFunctions)this.Az.push(this.Y$(m));
await Promise.all([this.md.bP(),...this.Az]);e.F(this.Az);if(this.md.MH)this.R&&this.R.RD();else return this.R&&await this.R.XY(),await this.Ub.nK(new e.Event("beforeruntimestart")),await this.Oq(),this.Lv.postMessage({type:"runtime-ready"}),this}async Y$(c){try{await c(this.aj)}catch(h){console.error("[C3 runtime] Error in runOnStartup function: ",h)}}Z8(c){c=c.project;this.xB=c[0];this.PT=c[16];this.fJ=c[31];const h=c[39]||"loading-logo.png";this.Hl=!!c[9];this.Zg=this.rg=c[10];this.Yg=this.qg=
c[11];this.oB=this.Zg/2;this.pB=this.Yg/2;this.ir=c[36];this.DH=c[37];"low-latency"===this.ir&&this.R0()&&77>=e.Rc.SC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.ir="standard");this.cm=!!c[40];this.vd=c[14];this.$B=c[15];this.TJ=c[17];this.bC=!!c[18];this.Kr=c[19];this.Ov=c[21];this.KT=c[22];const m=this.md;m.zaa(c[7]);m.Naa(c[32]);m.Saa(c[28]);
m.jba(c[29]);if(0===this.Kr){let q="";this.rq()?m.OF(h)&&(q=m.qM(h)):q=m.NS+h;q&&(this.Lr=m.ty({url:q}))}this.R&&(this.R.o4(e.XC.TP(c[12])),this.R.pO(c[23]?"high":"low"),this.R.QE(0!==c[24]),this.R.Oaa(c[34]),this.R.iba(c[41]),this.R.kba(c[13]));this.Cp.EX();this.mB=self.mL();for(var g of c[2])this.Cp.CX(g);this.mB=self.mL();this.g9();for(var k of c[3])g=e.oE.Ra(this,this.Uc.length,k),this.Uc.push(g),this.TI.set(g.Aa().toLowerCase(),g),this.UI.set(g.mb,g);for(const q of c[4])this.Uc[q[0]].c9(q);for(var n of c[27])k=
n.map(q=>this.Uc[q]),this.Vba.push(e.m(e.sX,this,k));for(const q of this.Uc)q.G9();for(const q of c[5])this.ib.Ra(q);(n=c[1])&&(n=this.ib.fq(n))&&this.ib.k4(n);for(var p of c[33])this.Ib.Ra(p);for(const q of c[35])this.FJ.Ra(q);this.G8();for(const q of c[6])this.xa.Ra(q);this.xa.Pb();this.C8();e.F(this.mB);this.Qd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.el("runtime","set-target-orientation",{targetOrientation:p})}nW(c){this.Az.push(c)}i8(){return this.sS++}V5(c){this.HG.push(c)}async J8(c){this.R&&
(await this.R.mh(c),this.R.v0(this.Kr))}async w9(){if(!this.md.T0()){var c=null;try{c=this.gT&&this.md.sv?await this.md.BL(this.HT):await this.md.Os(this.HT)}catch(h){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",h);return}c?this.kW(c):this.jW();await this.lW([this.cda])}}async Pba(c){return await this.LC("OpusDecode",{arrayBuffer:c},[c])}async Oq(){this.uA=!0;this.mn=Date.now();if(this.bC){for(var c of this.Uc)c.bb||c.kI||!c.vf||c.Fd();this.md.bP().then(()=>
{this.rk=!1;this.RQ()})}else this.rk=!1;this.md.r4();this.zb&&b.cma(d);for(const h of this.ib.Oi)h.B6();c=this.ib.OZ();await c.RF(null,this.sb());await c.DR(!0);this.hp=performance.now();this.bC||this.RQ();(await this.so("runtime","before-start-ticking")).isSuspended?this.bs++:this.Ke()}RQ(){this.Ha(e.C.Ba.L.o2,null,null);this.el("runtime","register-sw")}th(c){c=Math.floor(c);const h=this.mB;if(0>c||c>=h.length)throw Error("invalid object reference");return h[c]}g9(){for(const c of self.TW){const h=
e.first(Object.keys(c));this.iT.push(h)}}ti(c){c=Math.floor(c);const h=this.iT;if(0>c||c>=h.length)throw Error("invalid prop reference");return h[c]}pD(){return this.aca}oa(){return this.xa}jd(){return this.xa.jd()}bf(){return this.xa.bf()}Jb(){return this.xa.Jb()}Lf(){return this.xa.Lf()}VM(){return 0===this.bf().wl}Zs(){return this.xa.Zs()}jt(){return this.Cp.jt()}df(c){c=Math.floor(c);if(0>c||c>=this.Uc.length)throw new RangeError("invalid index");return this.Uc[c]}Ox(c){return this.TI.get(c.toLowerCase())||
null}Px(c){return this.UI.get(c)||null}*xda(){for(const c of this.Uc)c.bb||(yield*c.eV())}Yb(){return this.Ub}nh(c){c.If=this.aj;const h=this.zb&&!this.xa.jy();h&&b.dF();this.ae.dispatchEvent(c);h&&b.NC()}Wn(c){c.If=this.aj;return this.ae.nK(c)}y4(c,h){if(this.Zg!==c||this.Yg!==h)this.Zg=c,this.Yg=h,c=this.ib,c.Ao(),c.zo()}Vt(c,h){if(this.rg!==c||this.qg!==h)this.rg=c,this.qg=h,c=this.ib,c.Ao(),c.zo()}Faa(c){this.pr=c}zj(){return this.pr}Bj(){return this.R?this.R.Bj():this.rg}oi(){return this.R?this.R.oi():
this.qg}tm(){return this.R?this.R.tm():1}Aj(){return this.R?this.R.Aj():1}dt(){return this.R?this.R.dt():1}ct(){return this.R?this.R.ct():1}Xs(){return this.R?this.R.Xs():0}Ys(){return this.R?this.R.Ys():0}xZ(){return this.R?this.R.Wc:0}wZ(){return this.R?this.R.Ic:0}Ix(){return this.R?this.R.Ix():"off"}Ts(c){return this.R?this.R.Ts(c):null}vo(c){this.R&&this.R.vo(c)}Kx(){return this.R?this.R.Kx():NaN}hE(){return"nearest"!==this.vd}l3(){this.Lr&&(this.Lr.B(),this.Lr=null)}Sb(){return this.ib.Sb()}ty(c){return this.md.ty(c)}bD(c,
h,m,g,k){return this.ni(c,h,!1,m,g,!1,k,void 0,k)}ni(c,h,m,g,k,n,p,q,u){var w=null;let r=null;c instanceof e.oE?(r=c,r.bb&&(w=r.fp,r=w[Math.floor(this.fl()*w.length)]),w=r.nr):(w=c,r=this.df(w[1]));c=r.Cb().vf;if(this.rk&&c&&!r.kI)return null;const v=h;c||(h=null);var y=m&&!n&&w&&!this.mp.has(w[2])?w[2]:this.Ov++;const A=w?w[0]:null,G=e.m(e.Instance,{If:this,JK:r,mV:h,WV:A,dV:w?w[3]:null,uid:y});this.mp.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof g&&"undefined"!==typeof k&&(y.Zf(g),y.Ig(k)),
r.oR());h&&(u||h.Lg(G,!0),1===h.Wd&&1===h.Xd||r.jG(!0),h.hc().oN(r));this.VI++;let z=!0;q&&(q=q.H(),q.Zb()&&r.Zb()&&r.Qg===q.Qg&&(z=!1));if(r.Zb()&&!m&&!n&&z){for(var F of r.Qg.Rl)F!==r&&(q=this.ni(F,v,!1,y?y.ga():g,y?y.ia():k,!0,!1,void 0,u),G.Qq(q));for(var H of G.Cd){H.Qq(G);for(const J of G.Cd)H!==J&&H.Qq(J)}}c&&!m&&p&&this.sF(G,A,y,h,g,k,u);if(r.Zb()&&!m&&!n&&p)for(const J of G.Cd)if(m=J.A())F=J.Cb(),H=J.H().nr[0],F.vf?this.sF(J,H,m,h,m.ga(),m.ia(),u):this.sF(J,H,m,h,void 0,void 0,u);!n&&p&&
("undefined"===typeof g&&(g=A[0]),"undefined"===typeof k&&(k=A[1]),h=y.Zx(),g=g-y.ga()+h.ga(),k=k-y.ia()+h.ia(),h.Jm(g,k));r.ru();k=w?e.jK(w[5]):null;w=w?w[4].map(J=>e.jK(J)):null;c&&A&&A[13]&&G.Raa();G.Wy(k,w);this.Fl.push(G);this.tA=!0;this.zb&&b.wia(G);return G}sF(c,h,m,g,k,n,p){var q=m.u_(),u=m.vM();c.A().SE(q);if(u){"undefined"===typeof k&&(k=h[0]);"undefined"===typeof n&&(n=h[1]);q=new Set;m=h[0];h=h[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.ib.DD(A[0]).ea(w).WZ(r);
w=this.df(r[1]);var y=c.S_(w);const z=q.has(w);y&&!z&&v?(v=c.BM(w),y=k+r[0][0]-m,r=n+r[0][1]-h,v.A().Jm(y,r),v.A().SE(G),c.mm(v,{Hs:!!(u>>0&1),Is:!!(u>>1&1),Up:!!(u>>2&1),Tp:!!(u>>3&1),Gs:!!(u>>4&1),Bw:!!(u>>5&1),Js:!!(u>>6&1)}),q.add(w)):(w=this.ni(r,g,!1,k+r[0][0]-m,n+r[0][1]-h,!1,!0,c,p),w.A().SE(G),c.mm(w,{Hs:!!(u>>0&1),Is:!!(u>>1&1),Up:!!(u>>2&1),Tp:!!(u>>3&1),Gs:!!(u>>4&1),Bw:!!(u>>5&1),Js:!!(u>>6&1)}))}}}Vn(c){if(!this.np.has(c)){var h=c.H(),m=this.BA.get(h);if(m){if(m.has(c))return;m.add(c)}else m=
new Set,m.add(c),this.BA.set(h,m);this.zb&&b.xia(c);c.VF();this.tA=!0;if(c.Zb())for(const g of c.Cd)this.Vn(g);for(const g of c.children())g.Ex()&&this.Vn(g);this.ib.YM()||this.sk||(h=this.oa(),h.xe(!0),c.zba(),h.xe(!1));c.P7(this.ib.YM())}}Qd(){this.tA&&(this.R7(),this.S7(),this.tA=!1,this.da())}R7(){for(const c of this.Fl){const h=c.H();h.Lg(c);for(const m of h.Mh)m.Lg(c),m.ru()}e.F(this.Fl)}S7(){this.Ub.Eq(!0);for(const [c,h]of this.BA.entries())this.T7(c,h),h.clear();this.BA.clear();this.Ub.Eq(!1)}T7(c,
h){for(const g of h){var m=this.ep.instancedestroy;m.instance=g;this.Ub.dispatchEvent(m);this.mp.delete(g.dd);if(m=g.A())m.$Q(),m.aR(),m.VF();this.np.add(g);this.VI--}e.sg(c.pa(),h);c.ru();this.CA.add(c);0===c.pa().length&&c.jG(!1);for(const g of c.Mh)e.sg(g.pa(),h),g.ru(),this.CA.add(g);if(c.Cb().vf){c=new Set([...h].map(g=>g.A().ea()));for(const g of c)g.D$(h)}}*xK(c){for(const h of this.Fl)c.bb?h.H().RC(c)&&(yield h):h.H()===c&&(yield h)}h8(){return this.Ov++}t9(c,h){this.mp.set(c,h)}pu(){this.Ub.dispatchEvent(e.m(e.Event,
"webglcontextlost"));this.Tt(!0);for(var c of this.Uc)!c.bb&&c.Q_()&&c.wo();(c=this.Sb())&&c.pu();e.fy.wq();e.PM.wq()}async aG(){await this.Sb().RF(null,this.jo());this.Ub.dispatchEvent(e.m(e.Event,"webglcontextrestored"));this.Tt(!1);this.da()}i$(c){this.Tt(c.hidden)}j$(c){this.rq()&&this.KT&&!e.Rc.kE&&!c.data.parentHasFocus&&(this.Tt(!0),this.lI=!0)}k$(){this.lI&&(this.Tt(!1),this.lI=!1)}bR(){const c=this.rda;"vsync"===this.DH?-1===this.se&&(this.se=self.requestAnimationFrame(c.rV)):"unlimited-tick"===
this.DH?(-1===this.Vl&&(this.Vl=e.BE(c.lfa)),-1===this.se&&(this.se=self.requestAnimationFrame(c.Vea))):-1===this.Vl&&(this.Vl=e.BE(c.rV))}p6(){-1!==this.se&&(self.cancelAnimationFrame(this.se),this.se=-1);-1!==this.Vl&&(e.$W(this.Vl),this.Vl=-1)}Bm(){return 0<this.bs}Tt(c){var h=this.Bm();this.bs+=c?1:-1;0>this.bs&&(this.bs=0);c=this.Bm();!h&&c?(console.log("[Construct 3] Suspending"),this.p6(),this.Ub.dispatchEvent(e.m(e.Event,"suspend")),this.Ha(e.C.Ba.L.C2,null,null)):h&&!c&&(console.log("[Construct 3] Resuming"),
this.hp=this.$A=h=performance.now(),this.Ll=this.hB=this.nA=this.oA=0,this.Ub.dispatchEvent(e.m(e.Event,"resume")),this.Ha(e.C.Ba.L.z2,null,null),this.pt()||this.Ke(h))}S5(c){this.Om.Pc(c)}F$(c){this.Om.xh(c)}E$(c){this.Uo.xh(c)}G$(c){this.Vo.xh(c)}g6(){this.Om.zh(!0);for(const c of this.Om)c.Ke();this.Om.zh(!1)}f6(){this.Uo.zh(!0);for(const c of this.Uo);this.Uo.zh(!1)}h6(){this.Vo.zh(!0);for(const c of this.Vo);this.Vo.zh(!1)}*L6(){this.Om.zh(!0);for(const c of this.Om){const h=c.Ke();e.zm(h)&&
(yield*h)}this.Om.zh(!1)}*K6(){this.Uo.zh(!0);for(const c of this.Uo)e.zm(void 0)&&(yield*void 0);this.Uo.zh(!1)}*M6(){this.Vo.zh(!0);for(const c of this.Vo)e.zm(void 0)&&(yield*void 0);this.Vo.zh(!1)}async Ke(c,h,m){this.MS=!0;const g="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.uA&&(!this.Bm()||h||g)&&(h=performance.now(),this.KA=!0,this.z9(c||0),c=this.f5(),this.ne&&await c,c=this.Ub.Xda(this.ep.pretick),c instanceof Promise&&await c,c=this.e5(),this.ne&&await c,this.E9()&&
await this.v8(),this.ib.qq()&&await this.v9(),c=this.g5(),this.ne&&await c,m&&this.yo(),this.Bm()||g||this.bR(),this.yk++,this.yr++,this.KA=!1,this.Ll+=performance.now()-h)}async f5(){const c=this.xa,h=this.zb;this.Qd();c.xe(!0);this.Ct(this.Sb());h&&b.Pq();this.ne?await c.KX():c.K3();h&&b.hW();this.Bt();c.xe(!1);this.Qd();c.xe(!0)}async e5(){const c=this.zb,h=this.ne,m=this.Ub,g=this.ep,k=this.xU;c&&b.Pq();h?await this.rx(this.L6()):this.g6();h?await this.rx(this.K6()):this.f6();c&&b.cW();c&&b.Pq();
h?await this.HL(g.tick):m.dispatchEvent(g.tick);c&&b.oW();this.xa.xe(!1);this.nh(k.tick)}async g5(){const c=this.xa,h=this.Ub,m=this.ep,g=this.zb,k=this.ne;g&&b.Pq();k?await c.IX(this.ib):c.I3(this.ib);g&&b.hW();this.Si.sL();this.YQ();this.hI=!1;c.xe(!0);g&&b.Pq();k?await this.rx(this.M6()):this.h6();g&&b.cW();g&&b.Pq();k?await this.HL(m.tick2):h.dispatchEvent(m.tick2);g&&b.oW();c.xe(!1);k&&await c.$N()}YQ(){if(0!==this.np.size){var c=this.Ub;c.Eq(!0);for(const h of this.CA)h.ln.xo(this.np);this.CA.clear();
this.xa.o3(this.np);for(const h of this.np)h.B();this.np.clear();c.Eq(!1)}}async v9(){const c=this.ib;let h=0;for(;c.qq()&&10>h++;)await this.FP(c.Rv)}z9(c){let h=0;0!==this.$A&&(h=Math.max(c-this.$A,0)/1E3,.5<h&&(h=0),this.Xu=Math.min(h,1/this.CT));this.$A=c;this.Wu=this.Xu*this.$d;this.HH.Pc(this.Wu);this.IH.Pc(h*this.$d);this.VJ.Pc(this.Xu);this.R&&this.R.Kba();1E3<=c-this.hp&&(this.hp+=1E3,1E3<=c-this.hp&&(this.hp=c),this.nA=this.oA,this.oA=0,this.hB=Math.min(this.Ll/1E3,1),this.Ll=0,this.R&&
this.R.Dba(),this.zb&&b.koa());this.oA++}async FP(c){const h=this.Ub,m=this.ib.Sb();await m.uba();m.Cba(c,this.sb());m===c&&this.xa.gx();this.Si.sL();this.YQ();h.dispatchEvent(this.ep.beforelayoutchange);e.Mk.qO(!0);await c.RF(m,this.sb());e.Mk.qO(!1);await c.DR(!1);h.dispatchEvent(this.ep.layoutchange);this.da();this.hI=!0;this.Qd()}da(){this.QI=!0}jo(){return this.R?this.R.jo():null}nt(){return this.R?this.R.nt():null}sb(){return this.R?this.R.sb():null}yo(){const c=this.R;if(c&&!c.f1()){var h=
this.sb(),m=h.$j(),g=m&&h.cl();m=m&&!1;g&&h.cX();if(this.QI){var k=this.ib.Sb();h.Oq();var n=this.zb;n&&b.Pq();this.QI=!1;var p=null;g&&(p=c.rA.OC(),h.eF(p));g=null;m&&(g=h.zna(2*(1+k.$b.length)),h.M5(0));this.cm&&"low"===c.Ph?h.l4(c.Bj(),c.oi()):h.W3();this.M$(this.sb(),k);p&&h.iD(p);m&&(h.M5(1),this.R.e6(g));h.Qs();n&&(b.Qfa(),b.moa());c&&c.x9()}else h.j0()}}M$(c,h){c.Zj();c.eO();c.kf(1,1,1,1);c.Gg(null);c.Yf(null);c.Fg(this.cm);h.oh(c)}Ha(c,h,m){if(!this.uA)return!1;var g=!this.KA&&!this.xa.gE();
let k=0;g&&(k=performance.now());const n=this.zb;n&&this.Hy(!1);c=this.xa.vu(this.ib,c,h,m);g&&(g=performance.now()-k,this.Ll+=g,n&&b.Sfa(g));n&&this.Hy(!0);return c}async Sd(c,h,m){if(!this.ne)return this.Ha(c,h,m);if(!this.uA)return!1;if(this.pt())return this.xa.g3(c,h,m);if(!this.Sb())return this.xa.xE(c,h,m);const g=performance.now();c=this.xa.bu(this.ib,c,h,m);for(h=c.next();!h.done;)await this.$p(h.value),h=c.next();this.Bm()||this.xa.gE()||(await this.xa.$N(),this.MS&&!this.KA&&this.bR());
this.Ll+=performance.now()-g;return h.value}Ct(c){this.Ru.push(c)}Bt(){if(!this.Ru.length)throw Error("layout stack empty");this.Ru.pop()}Na(){return this.Ru.length?this.Ru.de(-1):this.Sb()}Fx(c){return c&&-1!==c.$d?this.Xu*c.$d:this.Wu}WE(c){if(isNaN(c)||0>c)c=0;this.$d=c}BO(c){this.CT=e.ja(c,1,120)}Zn(){return this.HH.ba()}SZ(){return this.IH.ba()}LD(){return this.VJ.ba()}al(){++this.yr}Dj(c){if(this.sk)throw Error("cannot call while loading state - wait until afterload event");return this.mp.get(c)||
null}WQ(){this.mp.clear();for(const c of this.Uc)if(!c.bb)for(const h of c.pa())this.mp.set(h.dd,h)}rq(){return"preview"===this.Yi}Y0(){return"cordova"===this.Yi}R0(){return"Android"===e.Rc.vq&&("cordova"===this.Yi||"playable-ad"===this.Yi||"instant-games"===this.Yi)}B4(c){c=!!c;this.Hl!==c&&(this.Hl=c,this.ib.zo(),this.da())}P3(c){this.Wv=c}z1(c){this.Gv=c}nE(c){this.Jr=c}E9(){return!(!this.Wv&&!this.Gv&&null===this.Jr)}async v8(){this.Wv&&(this.Qd(),await this.o7(this.Wv),this.qF());this.Gv&&(await this.n7(this.Gv),
this.qF(),this.zb&&b.Bna());if(null!==this.Jr){this.Qd();try{await this.GP(this.Jr),this.wp=this.Jr,await this.Sd(e.C.Ba.L.yN,null),this.wp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Sd(e.C.Ba.L.tE,null)}this.qF()}}qF(){this.Gv=this.Wv="";this.Jr=null}m8(){this.eJ||(this.eJ=localforage.kK({name:"c3-localstorage-"+this.fJ,description:this.xB}));return this.eJ}iQ(){this.mJ||(this.mJ=localforage.kK({name:"c3-savegames-"+this.fJ,description:this.xB}));
return this.mJ}async o7(c){const h=await this.raa();try{await this.iQ().setItem(c,h),console.log("[Construct 3] Saved state to storage ("+h.length+" chars)"),this.wp=h,await this.Sd(e.C.Ba.L.A2,null),this.wp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Sd(e.C.Ba.L.B2,null)}}async n7(c){try{const h=await this.iQ().getItem(c);if(!h)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+h.length+" chars)");await this.GP(h);this.wp=
h;await this.Sd(e.C.Ba.L.yN,null);this.wp=""}catch(h){console.error("[Construct 3] Failed to load state from storage: ",h),await this.Sd(e.C.Ba.L.tE,null)}}async raa(){const c={c3save:!0,version:1,rt:{time:this.Zn(),timeRaw:this.SZ(),walltime:this.LD(),timescale:this.$d,tickcount:this.yk,execcount:this.yr,next_uid:this.Ov,running_layout:this.Sb().mb,start_time_offset:Date.now()-this.mn},types:{},layouts:{},events:this.xa.ma(),timelines:this.Ib.ma(),user_script_data:null};for(var h of this.Uc)h.bb||
h.KM()||(c.types[h.mb.toString()]=h.ma());for(const m of this.ib.Oi)c.layouts[m.mb.toString()]=m.ma();h=this.vF("save");h.saveData=null;await this.Wn(h);c.user_script_data=h.saveData;return JSON.stringify(c)}async GP(c){var h=this.ib;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Ub.dispatchEvent(e.m(e.Event,"beforeload"));for(var m of this.xda())m.gz();
this.sk=!0;m=c.rt;this.HH.Set(m.time);m.hasOwnProperty("timeRaw")&&this.IH.Set(m.timeRaw);this.VJ.Set(m.walltime);this.$d=m.timescale;this.yk=m.tickcount;this.yr=m.execcount;this.mn=Date.now()-m.start_time_offset;var g=m.running_layout;if(g!==this.Sb().mb)if(g=h.DD(g))await this.FP(g);else return;for(const [k,n]of Object.entries(c.types))g=this.Px(parseInt(k,10)),!g||g.bb||g.KM()||g.ra(n);this.Qd();this.WQ();this.sk=!1;this.Ov=m.next_uid;for(const [k,n]of Object.entries(c.layouts))(m=h.DD(parseInt(k,
10)))&&m.ra(n);this.xa.ra(c.events);for(const k of this.Uc)if(!k.bb&&k.Zb())for(const n of k.pa()){m=n.$n();for(const p of k.Qg.Rl)if(p!==k){g=p.pa();if(0>m||m>=g.length)throw Error("missing sibling instance");n.Qq(g[m])}}this.Ib.ra(c.timelines);h.Ao();h.zo();this.Ub.dispatchEvent(e.m(e.Event,"afterload"));h=this.vF("load");h.saveData=c.user_script_data;await this.Wn(h);this.da()}async lW(c){c=(await Promise.all(c.map(h=>this.md.Pk(h)))).map(h=>URL.createObjectURL(h));this.Av.i0(c)}jW(){this.Av.R3()}kW(c){this.Av.S3(c)}LC(c,
h,m){return this.Av.LC(c,h,m)}XD(c,h){this.el("runtime","invoke-download",{url:c,filename:h})}async h3(c){var h=h||2048;var m=m||2048;return this.oe?(await this.so("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:h,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,h,m)}Aq(){this.kS||(this.kS=!0,this.el("runtime","enable-device-orientation"))}Dm(){this.jS||(this.jS=!0,this.el("runtime","enable-device-motion"))}fl(){return this.hda()}n8(){const c=
this.jo();return{fps:this.nA,cpu:this.hB,gpu:this.Kx(),layout:this.Sb()?this.Sb().Aa():"",renderer:c?c.qw:"<unavailable>"}}pt(){return this.zb?b.pt():!1}$p(c){return this.ne?b.$p(c):Promise.resolve()}uc(){return this.ne?b.lga():!1}Hy(c){c?this.mH--:this.mH++;this.Fba()}Fba(){this.ne=this.zb&&this.hca&&0===this.mH}ZD(){return this.zb&&b.ZD()}dE(){return this.zb&&this.sb().$j()&&b.dE()}async rx(c){if(c)for(const h of c)await this.$p(h)}HL(c){return this.rx(this.Ub.Yda(c))}fz(c){return this.xa.fz(c.name,
c.params)}vF(c){c=e.m(e.Event,c,!1);c.If=this.aj;return c}G8(){var c={};for(const h of this.Uc)c[h.ti()]={value:h.kv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.aj=new self.a0(this,c);this.xU={tick:this.vF("tick")}}C8(){const c={};for(const h of this.oa().IG)c[h.ti()]=h.jQ();this.aj.D8(c)}DQ(c,h){this.Eca.set(c,h)}};self.C3_CreateRuntime=e.aO.Ra;self.C3_InitRuntime=(c,h)=>c.zg(h)}
{"use strict";const e=self.D;e.o1=class extends e.ka{constructor(b,a){super();this.g=b;this.tp=new Map;this.ada=0;this.ov=a.inputPort;a.outputPort.onmessage=d=>this.QQ(d);this.vT=a.maxNumWorkers;this.Bv=1;this.FS=this.rv=!1}async zg(){}i0(b){this.ov.postMessage({type:"_import_scripts",scripts:b})}R3(){this.ov.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}S3(b){this.ov.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}LC(b,a,d){d||(d=[]);const c=this.ada++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((h,m)=>{this.tp.set(c,{resolve:h,progress:void 0,reject:m,iK:!1})});this.ov.postMessage(b,d);this.EQ();return a}QQ(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.W9(d,b.result);break;case "progress":this.V9(d,b.progress);break;case "error":this.U9(d,b.error);break;case "ready":this.X9();break;default:throw Error(`unknown message from worker '${a}'`);}}W9(b,a){const d=this.tp.get(b);if(!d)throw Error("invalid job ID");
d.iK||d.resolve(a);this.tp.delete(b)}V9(b,a){b=this.tp.get(b);if(!b)throw Error("invalid job ID");!b.iK&&b.progress&&b.progress(a)}U9(b,a){const d=this.tp.get(b);if(!d)throw Error("invalid job ID");d.iK||d.reject(a);this.tp.delete(b)}X9(){this.rv&&(this.rv=!1,this.Bv++,this.Bv<this.vT?this.EQ():this.ov.postMessage({type:"_no_more_workers"}))}async EQ(){if(!(this.Bv>=this.vT||this.rv||this.FS||this.tp.size<=this.Bv))try{this.rv=!0,(await this.g.so("runtime","create-job-worker")).outputPort.onmessage=
b=>this.QQ(b)}catch(b){this.FS=!0,this.rv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Bv} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const e=self.D;let b=null,a="",d="",c=[],h="",m="",g="";const k=e.m(e.BW);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.C.Ba=class extends e.Bq{constructor(p){super(p);this.yf=this.g.oa().yf;this.Kd=this.g.oa().jd();this.lv=this.kp=0;this.zS=new Map}B(){super.B()}da(){this.g.da()}Ha(p){this.g.Ha(p,null,null)}Ux(p,q){b&&p===a&&q===d||(b=new RegExp(p,q),a=p,d=q);b.lastIndex=0;return b}uM(p,q,u){if(p===h&&q===
m&&u===g)return c;const w=this.Ux(q,u);c=p.match(w);h=p;m=q;g=u;return c}async TF(p,q){if(q.length){this.kp+=q.length;var u=[];for(const w of q)u.push(p.oN(w));await e.Z2(u,()=>{this.lv++});this.lv++;this.lv===this.kp&&(this.g.Ha(e.C.Ba.L.m2,null,null),this.kp=this.lv=0)}}GR(p,q){for(const u of q)0===u.G.length&&p.L1(u)}aQ(){return k}O$(p){var q=this.g.oa();const u=q.jd(),w=u.cf(),r=w.Jb(),v=r.yd();var y=w.Qj();const A=u.Sa(r),G=q.yf,z=G.Sa();if(y)for(y=0;y<p&&!z.xc;++y)q.Ge(v),z.Gc(y),r.Dg(w,A),
q.Ob(v);else for(q=0;q<p&&!z.xc;++q)z.Gc(q),r.Dg(w,A);u.Oa();G.Oa();return!1}*S6(p){var q=this.g.oa();const u=q.jd(),w=u.cf(),r=w.Jb(),v=r.yd();var y=w.Qj();const A=u.Sa(r),G=q.yf,z=G.Sa();if(y)for(y=0;y<p&&!z.xc;++y)q.Ge(v),z.Gc(y),yield*r.wg(w,A),q.Ob(v);else for(q=0;q<p&&!z.xc;++q)z.Gc(q),yield*r.wg(w,A);u.Oa();G.Oa();return!1}Qba(){var p=this.g.oa();const q=p.jd(),u=q.cf(),w=u.Jb(),r=w.yd();var v=u.Qj();const y=q.Sa(w),A=p.yf,G=A.Sa();if(v)for(v=0;!G.xc;++v)p.Ge(r),G.Gc(v),w.Dg(u,y)||G.mf(),p.Ob(r);
else for(p=0;!G.xc;++p)G.Gc(p),w.Dg(u,y)||G.mf();q.Oa();A.Oa();return!1}*l7(){var p=this.g.oa();const q=p.jd(),u=q.cf(),w=u.Jb(),r=w.yd();var v=u.Qj();const y=q.Sa(w),A=p.yf,G=A.Sa();if(v)for(v=0;!G.xc;++v)p.Ge(r),G.Gc(v),(yield*w.wg(u,y))||G.mf(),p.Ob(r);else for(p=0;!G.xc;++p)G.Gc(p),(yield*w.wg(u,y))||G.mf();q.Oa();A.Oa();return!1}U7(p,q,u){var w=this.g.oa();const r=w.jd(),v=r.cf(),y=v.Jb(),A=y.yd(),G=v.Qj(),z=r.Sa(y),F=w.yf,H=F.Sa();H.Ly(p);if(u<q)if(G)for(p=q;p>=u&&!H.xc;--p)w.Ge(A),H.Gc(p),
y.Dg(v,z),w.Ob(A);else for(w=q;w>=u&&!H.xc;--w)H.Gc(w),y.Dg(v,z);else if(G)for(p=q;p<=u&&!H.xc;++p)w.Ge(A),H.Gc(p),y.Dg(v,z),w.Ob(A);else for(w=q;w<=u&&!H.xc;++w)H.Gc(w),y.Dg(v,z);r.Oa();F.Oa();return!1}*P6(p,q,u){var w=this.g.oa();const r=w.jd(),v=r.cf(),y=v.Jb(),A=y.yd(),G=v.Qj(),z=r.Sa(y),F=w.yf,H=F.Sa();H.Ly(p);if(u<q)if(G)for(p=q;p>=u&&!H.xc;--p)w.Ge(A),H.Gc(p),yield*y.wg(v,z),w.Ob(A);else for(w=q;w>=u&&!H.xc;--w)H.Gc(w),yield*y.wg(v,z);else if(G)for(p=q;p<=u&&!H.xc;++p)w.Ge(A),H.Gc(p),yield*y.wg(v,
z),w.Ob(A);else for(w=q;w<=u&&!H.xc;++w)H.Gc(w),yield*y.wg(v,z);r.Oa();F.Oa();return!1}V7(p){var q=this.g.oa();const u=q.jd(),w=u.cf(),r=w.Jb(),v=r.yd();var y=w.Qj();const A=u.Sa(r),G=q.yf,z=G.Sa(),F=p.Zb(),H=p.T(),J=k.Sa();e.Oc(J,H.pa());if(y)for(let M=0,P=J.length;M<P&&!z.xc;++M)q.Ge(v),y=J[M],p.T().Yj(y),F&&y.Hi(),z.Gc(M),r.Dg(w,A),q.Ob(v);else{H.je(!1);p=H.G;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.xc;++M)q=J[M],p[0]=q,F&&q.Hi(),z.Gc(M),r.Dg(w,A)}u.Oa();G.Oa();e.F(J);k.Oa();return!1}*Q6(p){var q=
this.g.oa();const u=q.jd(),w=u.cf(),r=w.Jb(),v=r.yd();var y=w.Qj();const A=u.Sa(r),G=q.yf,z=G.Sa(),F=p.Zb(),H=p.T(),J=k.Sa();e.Oc(J,H.pa());if(y)for(let M=0,P=J.length;M<P&&!z.xc;++M)q.Ge(v),y=J[M],p.T().Yj(y),F&&y.Hi(),z.Gc(M),yield*r.wg(w,A),q.Ob(v);else{H.je(!1);p=H.G;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.xc;++M)q=J[M],p[0]=q,F&&q.Hi(),z.Gc(M),yield*r.wg(w,A)}u.Oa();G.Oa();e.F(J);k.Oa();return!1}W7(p,q){var u=this.g.oa();const w=u.jd(),r=u.Lf(),v=w.cf(),y=v.Jb(),A=y.yd(),G=v.Qj(),
z=w.Sa(y),F=u.yf,H=F.Sa(),J=p.Zb(),M=p.T(),P=k.Sa();e.F(P);const R=M.pa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Et(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u.Ge(A),q=P[T][0],p.T().Yj(q),J&&q.Hi(),H.Gc(T),y.Dg(v,z),u.Ob(A);else{M.je(!1);p=M.G;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u=P[T][0],p[0]=u,J&&u.Hi(),H.Gc(T),y.Dg(v,z)}w.Oa();F.Oa();e.F(P);k.Oa();return!1}*R6(p,q){var u=this.g.oa();const w=u.jd(),r=u.Lf(),v=w.cf(),y=v.Jb(),A=y.yd(),
G=v.Qj(),z=w.Sa(y),F=u.yf,H=F.Sa(),J=p.Zb(),M=p.T(),P=k.Sa();e.F(P);const R=M.pa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Et(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u.Ge(A),q=P[T][0],p.T().Yj(q),J&&q.Hi(),H.Gc(T),yield*y.wg(v,z),u.Ob(A);else{M.je(!1);p=M.G;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u=P[T][0],p[0]=u,J&&u.Hi(),H.Gc(T),yield*y.wg(v,z)}w.Oa();F.Oa();e.F(P);k.Oa();return!1}bz(p,q){let u=this.zS.get(p);if(u)return u;if(!q)return null;
u={Gn:null,DC:new Map};this.zS.set(p,u);return u}m7(p,q,u,w,r){q.De().H3(u);w&&p.Ob(r)}*N6(p,q,u,w,r){yield*q.De().HX(u);w&&p.Ob(r)}}}{"use strict";const e=self.D;e.C.Ba.Ho=class extends e.ka{constructor(b){super();this.K=b;this.g=b.I();this.Xh=b.Cb()}Fd(){}B(){this.Xh=this.g=this.K=null}}}{"use strict";const e=self.D;e.C.Ba.Instance=class extends e.ka{constructor(b){super();this.la=b;this.K=this.la.H();this.Nc=this.K.Nc;this.g=this.la.I()}B(){this.g=this.Nc=this.K=this.la=null}}}
{"use strict";const e=self.D,b=[];e.C.Ba.L={uha(){return!0},xN(){return!0},n2(){return!0},C2(){return!0},z2(){return!0},Bm(){return this.g.Bm()},QL(){const a=this.g.bf();return a.tH?!1:!a.up},r5(){const a=this.g.Lf().Jj();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.yk;a.set("TriggerOnce_lastTick",c);return this.g.hI||d!==c-1},tha(a){const d=this.g.Lf().Jj(),c=d.get("Every_lastTime")||0,h=this.g.Zn();d.has("Every_seconds")||d.set("Every_seconds",
a);const m=d.get("Every_seconds");if(h>=c+m)return d.set("Every_lastTime",c+m),h>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",h),d.set("Every_seconds",a),!0;h<c-.1&&d.set("Every_lastTime",h);return!1},oq(a){return(a=this.g.oa().gM(a))&&a.oq()},rq(){return this.g.rq()},kE(){return e.Rc.kE},o2(){return!0},e2(){return!0},oha(){return!0},A2(){return!0},B2(){return!0},yN(){return!0},tE(){return!0},Xja(a){return!!this.g.Dj(a)},Wia(a){switch(a){case 0:return"browser"===e.Rc.$C;case 1:return"iOS"===
e.Rc.vq;case 2:return"Android"===e.Rc.vq;case 8:return"cordova"===e.Rc.$C;case 9:return"scirra-arcade"===this.g.Yi;case 10:return"nwjs"===e.Rc.$C;case 13:return"windows-uwp"===this.g.Yi;default:return!1}},bla(a,d,c){return this.Ux(d,c).test(a)},mX(a,d,c){return e.compare(a,d,c)},Hga(a,d,c){return a>=d&&a<=c},nX(a,d,c){return e.compare(a.M(),d,c)},Iga(a){return!!a.M()},Sga(a,d){const c=this.g.Zn();return 0===a?(a=this.g.Lf().Jj(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",!0),
!0):!1):e.compare(c,a,d)},Tia(a){return isNaN(a)},uW(a,d,c){return e.ss(e.nb(a),e.nb(c))<=e.nb(d)},W0(a,d){return e.Df(e.nb(a),e.nb(d))},V0(a,d,c){a=e.nb(a);d=e.nb(d);c=e.nb(c);return e.Df(c,d)?e.Df(a,d)&&!e.Df(a,c):!(!e.Df(a,d)&&e.Df(a,c))},fja(a,d){return"number"===typeof a?0===d:1===d},sha(a){return!!a},wka(a,d,c,h){if(!a)return!1;const m=this.aQ(),g=m.Sa(),k=a.T();e.Oc(g,k.pa());k.Xb&&e.F(k.cc);const n=this.g.Lf();let p=0;for(let q=0,u=g.length;q<u;++q){const w=g[q];g[p]=w;d=n.Et(1,q);h=n.Et(3,
q);e.compare(d,c,h)?++p:k.pl(w)}e.Ze(g,p);k.Ht(g);d=!!g.length;e.F(g);m.Oa();a.fc();return d},xka(a,d){if(!a)return!1;const c=this.aQ(),h=c.Sa(),m=a.T();e.Oc(h,m.pa());m.Xb&&e.F(m.cc);const g=this.g.Lf();let k=0;for(let n=0,p=h.length;n<p;++n){const q=h[n];h[k]=q;(d=g.Et(1,n))?++k:m.pl(q)}e.Ze(h,k);m.Ht(h);d=!!h.length;e.F(h);c.Oa();a.fc();return d},Bka(a,d){if(!a)return!1;const c=a.T(),h=c.pa();d=Math.floor(d);if(d>=h.length)return!1;c.Cm(h[d]);a.fc();return!0},Fka(a){if(!a)return!1;const d=a.T(),
c=d.pa(),h=Math.floor(this.g.fl()*c.length);if(h>=c.length)return!1;d.Cm(c[h]);a.fc();return!0},M2(a){if(!a||!a.G.length)return!1;a.T().je(!0);a.fc();return!0},Dka(a,d,c){if(!a)return!1;const h=a.T();var m=h.pa();const g=this.g.Jb().Md,k=this.g.Lf().dj;h.Xb?(e.Oc(b,m),h.hx(),h.je(!1)):g?(e.Oc(b,h.cc),e.F(h.cc)):(e.Oc(b,h.G),e.F(h.G));for(let n=0,p=b.length;n<p;++n)m=b[n],e.xor(m.A().Ls(d,c),k)?h.No(m):h.pl(m);a.fc();return e.xor(!!h.G.length,k)},Aka(a){if(!a)return!1;var d=a.bb;let c=null;const h=
this.g.Fl;for(let m=h.length-1;0<=m;--m){const g=h[m];if(d){if(g.H().RC(a)){c=g;break}}else if(g.H()===a){c=g;break}}c||(d=a.pa(),d.length&&(c=d.de(-1)));if(!c)return!1;a.T().Cm(c);a.fc();return!0},fla(a){return this.g.ne?this.S6(a):this.O$(a)},Coa(){return this.g.ne?this.l7():this.Qba()},lZ(a,d,c){return this.g.ne?this.P6(a,d,c):this.U7(a,d,c)},XL(a){return this.g.ne?this.Q6(a):this.V7(a)},Eha(a,d,c){return this.g.ne?this.R6(a,c):this.W7(a,c)},oja(a){return a?a.Qc():!1},mja(a){return a?!a.G.length:
!1},lja(a,d,c){return a?e.compare(100*a.fe(),d,c):!1},m2(){return!0},Qia(){return 0<this.kp}}}
{"use strict";const e=self.D;function b(g,k){const n=g[0]-k[0];return 0!==n?n:g[1]-k[1]}function a(g,k){return g[1]-k[1]}const d=[],c=[],h=e.m(e.Rect),m=e.m(e.eb);e.C.Ba.Wa={S4(g,k){g.Ie(k)},sW(g,k){g.Am()&&"number"!==typeof k&&(k=parseFloat(k));g.Ie(g.M()+k)},Ona(g,k){g.Am()&&g.Ie(g.M()-k)},rma(g,k){g.Ie(!!k)},Vna(g){g.Ie(!g.M())},Ula(){this.g.oa().x3()},EL(g,k,n,p,q){g&&k&&(n=this.g.bD(g,k,n,p,q))&&(q&&k.aF(n),k=this.g.oa(),k.xe(!0),n.wz(),k.xe(!1),g.T().Yj(n),n.Zb()&&n.Hi())},fha(g,k,n,p,q){g&&
k&&(g=this.g.Ox(g))&&e.C.Ba.Wa.EL.call(this,g,k,n,p,q)},Dt(g,k,n,p,q,u,w,r,v,y){if(g){var A=this.g.Na();if(u&&(A=this.g.ib.fq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ea(w),!u)return;h.set(k,n,p,q);k=A.Dt(g,h,u,r,v,y);g.T().Ht(k);g.fc()}},Dna(){const g=this.yf;g.$M()&&g.cq().mf()},Gq(g,k){(g=this.g.oa().gM(g))&&(0===k?g.Gq(!1):1===k?g.Gq(!0):g.Gq(!g.oq()))},lna(g){this.g.WE(g)},fna(g,k){0>k&&(k=0);if(g){g=g.T().pa();for(const n of g)n.WE(k)}},Yla(g){if(g){g=g.T().pa();for(const k of g)k.E3()}},
lF(g){if(!(0>g))return this.g.oa().MC().L0(g),!0},woa(g){this.g.oa().MC().J0(g);return!0},voa(){const g=this.g.oa();g.MC().x0(g.r_());return!0},rna(g){g=g.toLowerCase();for(const k of this.g.oa().lg)k.i1()&&k.aw===g&&k.TE()},async NO(g,k,n,p,q,u){const w=this.g.R;w&&(this.da(),await w.NO(0===g?"image/png":"image/jpeg",k/100,n,p,q,u),await this.g.Sd(e.C.Ba.L.e2,null))},tma(g,k){if(!(0>=g||0>=k)){this.g.Vt(g,k);var n=this.g.Na();n.$w();for(const p of n.$b)p.kF();if(n=this.g.R)"off"!==n.$s()&&this.g.y4(g,
k),n.Tc(n.Ek,n.Dk,!0),this.g.da()}},Ema(g){const k=this.g.R;k&&"off"!==k.$s()&&(k.pO(0!==g?"high":"low"),k.Tc(k.Ek,k.Dk,!0))},Em(g){this.g.P3(g)},C1(g){this.g.z1(g)},uja(g){this.g.nE(g)},Gma(){},Vla(){for(const g of this.g.ib.Oi)g.C3()},ina(g){this.g.B4(0!==g)},BO(g){this.g.BO(g)},una(g,k){if(g){var n=g.T().pa(),p=this.g.Na(),q=g.bb;g=g.Nh;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.A();if(!v)continue;let y;y=q?u.Ee(k+u.H().zD(g)):u.Ee(k);d.push([v.ea().Ka(),v.Nj()]);c.push([u,y])}if(d.length){d.sort(b);
c.sort(a);k=!1;for(let w=0,r=d.length;w<r;++w)n=c[w][0],q=p.Lx(d[w][0]),g=d[w][1],u=q.G,u[g]!==n&&(u[g]=n,n.A().su(q),q.Jg(),k=!0);k&&this.g.da();e.F(d);e.F(c)}}},C_(g){if(!this.g.rk){var k=this.g.ib;k.qq()||k.dx(g)}},Sha(g){if(!this.g.rk){var k=this.g.ib;k.qq()||(g=k.fq(g))&&k.dx(g)}},Rja(g){if(!this.g.rk){var k=this.g.ib;if(!k.qq()){var n=k.Oi,p=n.indexOf(k.Sb());g&&0===p||(g||p!==n.length-1)&&k.dx(n[p+(g?-1:1)])}}},Wla(){if(!this.g.rk){var g=this.g.ib;g.qq()||(g.dx(g.Sb()),this.g.oa().y3())}},
Uma(g,k){g&&g.Hg(k)},Oma(g,k){g&&g.Ei(k/100)},Qma(g,k){g&&g.DO(k)},Rma(g,k){g&&g.D4(k)},Ima(g,k){g&&g.ld(e.nb(+k))},Sma(g,k,n){g&&(g.Pt(!0),g.Fi(k),g.Gi(n))},Xla(g){g&&g.Pt(!1)},Pma(g,k,n){g&&g.z4(k/100,n/100)},Vma(g,k){g&&g.Je(+k)},Jma(g,k){g&&(m.Es(k),m.ja(),g=g.tl,g.gm(m)||(g.oj(m),this.da()))},Tma(g,k){g&&g.O4(k)},Kma(g,k){g&&g.Wf(k)},Lma(g,k,n){g&&(n=g.Pa.Rk(n))&&(k=1===k,n.Lb!==k&&(n.Fy(k),g.Bh(),this.g.da()))},Mma(g,k,n,p){if(g&&(g=g.Pa,k=g.Rk(k))&&(g=g.Qk(k.Ka()),n=Math.floor(n),!(0>n||n>=
g.length))){var q=k.Rf().Qx(n);if("color"===q){m.Es(p);n=g[n];if(m.gm(n))return;n.oj(m)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}k.Lb&&this.g.da()}},Nma(g,k){g&&g.n4(k)},$ma(g){this.g.Na().RE(+g)},Wma(g){this.g.Na().ld(e.nb(+g))},Xma(g,k){const n=this.g.Na();if(k=n.Pa.Rk(k))g=1===g,k.Lb!==g&&(k.Fy(g),n.Bh(),this.g.da())},Yma(g,k,n){var p=this.g.Na().Pa;if(g=p.Rk(g))if(p=p.Qk(g.Ka()),k=Math.floor(k),!(0>k||k>=p.length)){var q=g.Rf().Qx(k);if("color"===q){m.Es(n);k=p[k];if(m.gm(k))return;
k.oj(m)}else{"percent"===q&&(n/=100);if(p[k]===n)return;p[k]=n}g.Lb&&this.g.da()}},ana(g,k){this.g.Na().R4(g/100,k/100)},Zma(g){const k=this.g.Na();0===g?k.FO():k.CO()},lma(g){this.g.Na().Fi(g)},mma(g){this.g.Na().Gi(g)},jma(g,k){const n=this.g.Na();n.Fi(g);n.Gi(k)},kma(g){if(g&&(g=g.jM())&&(g=g.A())){var k=this.g.Na();k.Fi(g.ga());k.Gi(g.ia())}},async B1(g){const k=this.g.Sb();k&&g&&!this.g.rk&&await this.TF(k,g.bb?g.fp:[g])},async tja(g){await e.C.Ba.Wa.B1.call(this,this.g.Ox(g))},t5(g){const k=
this.g.Sb();k&&g&&this.GR(k,g.bb?g.fp:[g])},hoa(g){e.C.Ba.Wa.t5.call(this,this.g.Ox(g))},ioa(){const g=this.g.Sb();if(g){var k=g.u8();this.GR(g,k)}},async rja(g){const k=this.g.Sb();g&&k&&!this.g.rk&&await this.TF(k,g.bQ())},async sja(g){const k=this.g.Sb();(g=this.g.ib.fq(g))&&k&&!this.g.rk&&await this.TF(k,g.bQ())},Nt(g){const k=this.Kd.AZ();if(k)switch(k.AS){case 1:"number"===typeof g&&k.Nt(g);break;case 2:"string"===typeof g&&k.Nt(g);break;case 3:k.Nt(g)}},Aja(g,k,n){var p=this.bz(g.toLowerCase(),
!0);const q=p.DC,u=k.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${g}' string '${k}' already in map; overwriting entry`);(p=e.first(q.values())||p.Gn)&&0!==p.Ul!==(0!==n.Ul)?console.error(`[Construct 3] Function map '${g}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Bja(g,k){const n=this.bz(g.toLowerCase(),!0);n.Gn&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=
e.first(n.DC.values())||n.Gn;p&&0!==p.Ul!==(0!==k.Ul)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Gn=k},pga(g,k,n){n=Math.floor(n);var p=this.bz(g.toLowerCase(),!1);if(p){var q=p.DC.get(k.toLowerCase());if(!q)if(p.Gn)q=p.Gn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${k}'; call ignored (consider setting a default)`);return}if(q.vm())if(0!==
q.Ul)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${k}' has a return type so cannot be called`);else{g=this.g;k=g.oa();var u=k.Jb();p=u.zd();var w=0<p.length;w&&k.Cg(p);var r=[];if(u=k.kD(u)){u=u.Ug;for(let v=n,y=u.length;v<y;++v)r.push(u[v].M())}n=q.Ug;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].ob);return g.ne?this.N6(k,q,r,w,p):this.m7(k,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const e=self.D;e.C.Ba.Xa={oea:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},$da:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},km(b){return b.toString()},As(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.fl()*b:this.g.fl()*(a-b)+b},RU(...b){return b[Math.floor(this.g.fl()*b.length)]},xra(){return Math.PI},xqa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Xra(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.nb(b))},cos(b){return Math.cos(e.nb(b))},tan(b){return Math.tan(e.nb(b))},asin(b){return e.ug(Math.asin(b))},acos(b){return e.ug(Math.acos(b))},atan(b){return e.ug(Math.atan(b))},exp(b){return Math.exp(b)},Bea(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let h=b[d];"number"===typeof h&&a<h&&(a=h)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let h=b[d];"number"===typeof h&&a>h&&(a=h)}return a},ja(b,a,d){return e.ja(b,a,d)},Cw(b,a,d,c){return e.ts(b,a,d,c)},angle(b,a,d,c){return e.ug(e.cK(b,a,d,c))},gd(b,a,d){return e.gd(b,a,d)},On(b,a,d){return e.On(b,a,d)},yC(b,a,d,c){return e.yC(b,a,d,c)},VU(b,a,d,c,h){return e.VU(b,
a,d,c,h)},UU(b,a,d){return e.UU(b,a,d)},fpa(b,a){return e.ug(e.ss(e.nb(b),e.nb(a)))},gpa(b,a,d){return e.ug(e.aK(e.nb(b),e.nb(a),d))},hpa(b,a,d){return e.ug(e.bK(e.nb(b),e.nb(a),e.nb(d)))},lsa(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},Bsa(b,a){return(b|0)^1<<(a|0)},qqa(b,a){return(b|0)&1<<(a|0)?1:0},hra(){return"\n"},Gsa(b){return"string"===typeof b?b.toUpperCase():""},Yqa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},ofa(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},pfa(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.Ns(a),"i")):-1},Spa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(e.Ns(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.Ns(a),"gi"),d):"string"===typeof b?b:""},Ira(b,a,d){a=this.Ux(a,d);return b?b.search(a):-1},Hra(b,a,d,c){a=this.Ux(a,d);return b?b.replace(a,c):""},Gra(b,a,d){return(b=this.uM(b.toString(),a,d))?b.length:0},Fra(b,a,d,c){c=Math.floor(c);b=this.uM(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},Afa(b,a){let d=0>b?"-":"";0>b&&(b=-b);
d+="0".repeat(Math.max(a-b.toString().length,0));return d+b.toString()},Isa(b){return encodeURIComponent(b)},Hsa(b){return decodeURIComponent(b)},pK(){return this.g.Wu},zsa(){return this.g.$d},Tsa(){return(Date.now()-this.g.mn)/1E3},Esa(){return Date.now()},time(){return this.g.Zn()},ysa(){return this.g.yk},mra(){return this.g.VI},Vpa(){return this.g.nA},zpa(){return this.g.hB},sqa(){return this.g.Kx()},Wsa(){return this.g.R.Hh},Vsa(){return this.g.R.Gh},rra(){return this.g.Zg},qra(){return this.g.Yg},
pra(){return this.g.Zg},ora(){return this.g.Yg},csa(){return this.g.Na().Pf()},dsa(){return this.g.Na().Qf()},Tqa(){return this.g.Na().Aa()},Uqa(){return this.g.Na().wd},Rqa(){return e.ug(this.g.Na().Ia())},yea(){return this.g.Na().$()},Sqa(){return this.g.Na().ca()},Psa(b){return(b=this.g.Na().ea(b))?b.An.aa:0},Rsa(b){return(b=this.g.Na().ea(b))?b.An.W:0},Qsa(b){return(b=this.g.Na().ea(b))?b.An.na:0},Nsa(b){return(b=this.g.Na().ea(b))?b.An.fa:0},Ssa(b){return(b=this.g.Na().ea(b))?b.An.width():0},
Osa(b){return(b=this.g.Na().ea(b))?b.An.height():0},spa(b,a,d){return(b=this.g.Na().ea(b))?b.lh(a,d)[0]:0},tpa(b,a,d){return(b=this.g.Na().ea(b))?b.lh(a,d)[1]:0},Oqa(b,a,d){return(b=this.g.Na().ea(b))?b.ro(a,d)[0]:0},Pqa(b,a,d){return(b=this.g.Na().ea(b))?b.ro(a,d)[1]:0},Kqa(b){return(b=this.g.Na().ea(b))?b.wd:0},Fqa(b){return(b=this.g.Na().ea(b))?e.ug(b.le):0},Hqa(b){return(b=this.g.Na().ea(b))?100*b.fe():0},Lqa(b){return(b=this.g.Na().ea(b))?b.jj:0},Mqa(b){return(b=this.g.Na().ea(b))?b.Pf():0},
Nqa(b){return(b=this.g.Na().ea(b))?b.Qf():0},Iqa(b){return(b=this.g.Na().ea(b))?100*b.Wd:0},Jqa(b){return(b=this.g.Na().ea(b))?100*b.Xd:0},Qqa(b){return(b=this.g.Na().ea(b))?b.fb():0},Gqa(b){return(b=this.g.Na().ea(b))?b.Ka():-1},rpa(){const b=this.g.R;return b?b.rJ:""},Dea(b){const a=this.yf;return a.$M()?b?(b=a.hZ(b))?b.Ka():0:a.cq().Ka():0},asa(){return this.g.wp},ppa(b,a,...d){var c=this.bz(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),
0;var h=c.DC.get(a.toLowerCase());if(!h)if(c.Gn)h=c.Gn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=h.Ul;const m=h.bt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.vm())return m;b=this.g.oa();a=b.Jb().zd();const g=0<a.length;g&&b.Cg(a);const k=h.Ug;for(let n=
d.length,p=k.length;n<p;++n)d.push(k[n].ob);h=h.De();d=h.FE(h.zd(),c,m,...d);g&&b.Ob(a);return d},Xqa(){return this.g.md.YA},vqa(){return 0===this.kp?1:this.lv/this.kp},Ln(){return this.g.nt()?"webgpu":"webgl"},Lra(){return this.g.nt()?"<unavailable>":this.g.jo().qw},wqa(){let b=this.g.sb().EZ();return Math.round(100*b/1048576)/100},Mra(b,a,d){return e.J2(b,a,d)},Pra(b,a,d){return e.FN(b/100,a/100,d/100)},Nra(b,a,d,c){return e.wy(b/100,a/100,d/100,c/100)},Qra(b,a,d){return e.FN(b/255,a/255,d/255)},
Ora(b,a,d,c){return e.wy(b/255,a/255,d/255,c/255)},Pea(){return this.g.xB},Qea(){return this.g.PT},Fpa(){return this.g.Jb().Zc.Aa()},Epa(){return this.g.Jb().qr}}}{"use strict";const e=self.D;e.C.hb=class extends e.Bq{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const e=self.D;e.C.hb.Ho=class extends e.Dy{constructor(b){super(b);this.Id=b.Id}B(){e.F(this.Id);super.B()}Fd(){for(const b of this.Id)b.v1(this.g)}tq(b){const a={sj:this.g.vd};return Promise.all(this.Id.map(d=>d.w1(b,a)))}wo(){for(const b of this.Id)b.j3()}vy(){this.JR()}JR(){for(const b of this.K.nea())b.qa.uG()}Rs(b){e.C.hb.iZ(this,b)}}}
{"use strict";const e=self.D,b=self.kh,a=e.m(e.Rect),d=e.m(e.Bd),c=e.m(e.Xt);e.C.hb.Instance=class extends e.HE{constructor(m,g){super(m);let k=!0,n="",p=0,q=!0;g&&(k=!!g[0],n=g[1],p=g[2],q=g[3]);this.Qb=this.K.$L(n)||this.K.Id[0];this.xb=e.ja(p,0,this.Qb.Ld.length-1);this.Pe=this.Qb.rm(this.xb);g=this.Pe.Mf();this.mr=g.he();this.lH=g.Lj();this.Su=g.Xx();this.F_();m.Lt(2,!0);m.Lt(1,0<=this.Qb.Yk());this.lk=Math.abs(this.Qb.Yk());this.lr=this.Qb.VT;this.Cz=e.m(e.ny);this.hk=this.$i=0;this.LG="";this.Ou=
-1;this.fr="";this.aS=0;m=this.A();this.gca=m.yj();m.Hg(k);m.It(q);m.Iq(this.Pe.Uk());m.Jq(this.Pe.Vk());m.VE(this.Pe.Wo);m.Ya();1===this.K.Id.length&&1===this.K.Id[0].Ld.length||0===this.lk||this.gk()}B(){this.Cz=this.mr=this.Pe=this.Qb=null;super.B()}qh(){return this.Pe.Mf()}po(){return!0}wq(){this.mr=null}EN(){this.uG()}oh(m){var g=this.mr;null!==g&&(m.Yf(g),g=this.A(),g.Tf()?this.FF(g,m):this.GF(g,m))}GF(m,g){let k=this.gca;this.g.Hl&&(k=m.GN(k));g.f3(k,this.Su)}FF(m,g){const k=m.GM();if(m.cN()){m.bx(a,
d,!1);let n=d;this.g.Hl&&(n=m.GN(n));k.oL(m.Kj(),n,this.Su);m.PE(!1)}k.oh(g)}Us(){return this.Cz.ba()}hy(){return this.la.AD(2)}Cq(m){this.la.Lt(2,m)}ky(){return this.la.AD(1)}Qt(m){this.la.Lt(1,m)}fE(){return this.la.AD(4)}sO(m){this.la.Lt(4,m)}Ke(){this.fr&&this.EP();0<=this.Ou&&this.CF();const m=this.lk;if(this.hy()&&0!==m){this.Cz.Pc(this.g.Fx(this.la));var g=this.Us(),k=this.Pe,n=k.nS/m;if(!(g<this.$i+n)){var p=this.Qb,q=this.lr,u=p.Ld.length,w=p.wh(),r=p.LA,v=p.Mca;this.ky()?this.xb++:this.xb--;
this.$i+=n;this.xb>=u&&(v?(this.Qt(!1),this.xb=u-2):r?this.xb=q:(this.hk++,this.hk>=w?this.IF(!1):this.xb=q));0>this.xb&&(v?(this.xb=1,this.Qt(!0),r||(this.hk++,this.hk>=w&&this.IF(!0))):r?this.xb=q:(this.hk++,this.hk>=w?this.IF(!0):this.xb=q));this.xb=e.ja(this.xb,0,u-1);n=p.rm(this.xb);g>this.$i+n.nS/m&&(this.$i=g);this.hz(k,n)}}else this.Zq()}IF(m){this.xb=m?0:this.Qb.Ld.length-1;this.Cq(!1);this.LG=this.Qb.Aa();this.sO(!0);this.fD("animationend",!1,{animationName:this.LG});this.Ha(e.C.hb.L.c2);
this.Ha(e.C.hb.L.b2);this.sO(!1);this.hk=0}hz(m,g){if(m!==g){var k=this.A(),n=m.Mf();m=g.Mf();var p=n.$();n=n.ca();var q=m.$(),u=m.ca();p!==q&&k.lf(k.$()*(q/p));n!==u&&k.Xf(k.ca()*(u/n));k.Iq(g.Uk());k.Jq(g.Vk());k.VE(g.Wo);k.Ya();this.Pe=g;this.mr=m.he();this.lH=m.Lj();this.Su=m.Xx();g=this.Da().nd;for(let w=0,r=g.length;w<r;++w);this.fD("framechange",!1,{animationName:this.Qb.Aa(),LU:this.xb});this.Ha(e.C.hb.L.i2);this.g.da()}}rba(m){this.Cq(!0);this.$i=this.Us();1===m&&0!==this.xb&&(this.Ou=0,
this.fE()||this.CF());this.gk()}waa(m,g){this.fr=m;this.aS=g;this.gk();this.fE()||this.EP()}ZP(){return this.fr?this.fr:this.Qb.Aa()}nR(m){isFinite(m)&&(this.Ou=m,this.fE()||this.CF())}yaa(m){this.lk=Math.abs(m);this.Qt(0<=m);0<this.lk&&this.gk()}VP(){return this.ky()?this.lk:-this.lk}xaa(m){this.lr=m=e.ja(Math.floor(m),0,this.Qb.Ld.length-1)}EP(){const m=this.Pe;var g=this.K.$L(this.fr);this.fr="";!g||g===this.Qb&&this.hy()||(this.Qb=g,this.Qt(0<=g.Yk()),this.lk=Math.abs(g.Yk()),this.lr=g.VT,this.xb=
e.ja(this.xb,0,this.Qb.Ld.length-1),1===this.aS&&(this.xb=0),this.Cq(!0),this.$i=this.Us(),g=this.Qb.rm(this.xb),this.hz(m,g))}CF(){const m=this.Pe;var g=this.xb;this.xb=e.ja(Math.floor(this.Ou),0,this.Qb.Ld.length-1);this.Ou=-1;g!==this.xb&&(g=this.Qb.rm(this.xb),this.hz(m,g),this.$i=this.Us())}uG(){const m=this.Pe.Mf();this.mr=m.he();this.lH=m.Lj();this.Su=m.Xx();this.A().PE(!0)}he(){return this.mr}Lj(){return this.lH}Xx(){return this.Su}CD(){return this.Pe.CD()}ao(m){const g=this.Pe,k=this.A();
if("string"===typeof m)m=g.VZ(m);else if("number"===typeof m)m=g.UZ(m-1);else throw new TypeError("expected string or number");if(!m)return[k.ga(),k.ia()];c.ta(m.dJ);if(k.Tf()){const [n,p]=k.Kj().SO(c.S,c.O);c.set(n,p)}c.offset(-g.Uk(),-g.Vk());c.scale(k.$(),k.ca());c.rotate(k.Ia());c.offset(k.ga(),k.ia());return[c.S,c.O]}yZ(){return this.A().Zk().tV()}bM(m){m=Math.floor(m);const g=this.A();var k=g.Zk();const n=k.tV();m===n&&(m=0);if(0>m||m>=n)return[0,0];k=k.Od;return[k[2*m]+g.ga(),k[2*m+1]+g.ia()]}Hd(){const m=
{a:this.Qb.mb};0!==this.$i&&(m.fs=this.$i);var g=this.Us();0!==g&&(m.at=g);0!==this.xb&&(m.f=this.xb);0!==this.lk&&(m.cas=this.lk);1!==this.hk&&(m.ar=this.hk);0!==this.lr&&(m.rt=this.lr);this.hy()||(m.ap=this.hy());this.ky()||(m.af=this.ky());g=this.A();g.xi()&&(m.ce=g.xi());return m}Ad(m){var g=this.H().rZ(m.a);g&&(this.Qb=g);this.$i=m.hasOwnProperty("fs")?m.fs:0;this.Cz.Set(m.hasOwnProperty("at")?m.at:0);g=m.hasOwnProperty("f")?m.f:0;this.xb=e.ja(g,0,this.Qb.Ld.length-1);this.lk=m.hasOwnProperty("cas")?
m.cas:0;this.hk=m.hasOwnProperty("ar")?m.ar:1;g=m.hasOwnProperty("rt")?m.rt:0;this.lr=e.ja(g,0,this.Qb.Ld.length-1);this.Cq(m.hasOwnProperty("ap")?!!m.ap:!0);this.Qt(m.hasOwnProperty("af")?!!m.af:!0);this.Pe=g=this.Qb.rm(this.xb);this.uG();const k=this.A();k.Iq(g.Uk());k.Jq(g.Vk());k.VE(g.Wo);k.It(!!m.ce)}Ec(m){const g=this.A();switch(m){case 3:return g.xi();case 2:return e.ja(this.xb,0,this.Qb.Ld.length-1)}}yh(m,g){var k=this.A();switch(m){case 3:k.It(!!g);break;case 2:this.Cq(!1);m=this.Qb.Ld.length-
1;k=g=e.ja(g,0,m);g=this.Qb.rm(this.xb);const n=this.Qb.rm(k);this.hz(g,n);this.xb=e.ja(k,0,m)}}Xk(){return self.c0}};const h=new WeakMap;self.c0=class extends self.ey{constructor(){super();h.set(this,self.qt.Sq().qa)}get animationName(){return h.get(this).ZP()}set LU(m){b.Uj(m);h.get(this).nR(m)}get LU(){return h.get(this).xb}get imageWidth(){return h.get(this).qh().$()}get imageHeight(){return h.get(this).qh().ca()}}}
{"use strict";const e=self.D;e.C.hb.L={S0(b){return e.In(this.ZP(),b)},Kga(b,a){return e.compare(this.xb,b,a)},Gga(b,a){return e.compare(this.VP(),b,a)},b2(b){return e.In(this.LG,b)},c2(){return!0},i2(){return!0},Sia(){return 0>this.A().$()},Kia(){return 0>this.A().ca()},DN(){return!0},G2(){return!0},xi(){return this.A().xi()}}}
{"use strict";const e=self.D;e.C.hb.Wa={vna(b,a,d,c){if(b&&a){var [h,m]=this.ao(d);if(d=this.g.bD(b,a,h,m,c)){c&&a.aF(d);b.Cb().sq()&&(a=d.A(),a.ld(this.A().Ia()),a.Ya());a=this.g.oa();a.xe(!0);d.wz();a.xe(!1);c=this.g.Zs().Jj();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.yr)a=!0,c.set("Spawn_LastExec",this.g.yr);if(b!==this.H()&&(b=b.T(),b.je(!1),b=b.G,a&&e.F(b),b.push(d),d.Zb()))for(const g of d.Cd)d=g.H().T(),a?d.Yj(g):(d.je(!1),d.No(g))}}},Cna(){this.Cq(!1)},yna(b){this.rba(b)},
V3(b,a){this.waa(b,a)},nma(b){this.nR(b)},pma(b){this.yaa(b)},oma(b){this.xaa(b)},dna(b){const a=this.A(),d=a.$();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.lf(b),a.Ya())},Ama(b){const a=this.A(),d=a.ca();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.Xf(b),a.Ya())},RE(b){const a=this.Pe.Mf(),d=this.A();var c=0>d.$()?-1:1;const h=0>d.ca()?-1:1;c*=a.$()*b;b=a.ca()*b*h;if(d.$()!==c||d.ca()!==b)d.Tc(c,b),d.Ya()},async vja(b,a){const d=this.Pe.Mf(),c=this.A(),h=this.g;if(d.Ak===b)0===a&&(c.Tc(d.$(),d.ca()),c.Ya()),this.Ha(e.C.hb.L.DN);
else{var m=e.m(e.fy);try{await m.y1(h,b);if(!m.iE())throw Error("image failed to load");await m.wt(h.sb(),{sj:this.g.vd})}catch(g){console.error("Load image from URL failed: ",g);this.Ha(e.C.hb.L.G2);return}d.w3(m);this.Nc.JR();this.Ty()||0!==a||(c.Tc(d.$(),d.ca()),c.Ya());h.da();this.Ty()||await this.Sd(e.C.hb.L.DN)}},uma(b){this.A().It(b)},UE(b,a){this.A().UE(0===b,a)},g4(b){this.A().Wf(b);this.g.da()}}}"use strict";
self.D.C.hb.Xa={Yfa(){return this.xb},Zfa(){return this.Qb.Ld.length},xW(){return this.Qb.Aa()},$fa(){return this.VP()},nka(){return this.Qb.Yk()},ria(e){return this.ao(e)[0]},sia(e){return this.ao(e)[1]},qia(){return this.CD()},tia(){return this.qh().$()},pia(){return this.qh().ca()},Nka(e){return this.bM(e)[0]},Oka(e){return this.bM(e)[1]},Mka(){return this.yZ()}};{"use strict";const e=self.D;e.C.Touch=class extends e.Bq{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const e=self.D,b=self.kh;e.C.Touch.Ho=class extends e.Dy{constructor(d){super(d)}B(){super.B()}Fd(){}Xk(){return self.f0}};let a=null;self.f0=class extends self.OM{constructor(d){super(d);a=d;d.I().Vz.aL=this}requestPermission(d){b.Gd(d);const c=a.wi().qa;if("orientation"===d)return c.cG(0);if("motion"===d)return c.cG(1);throw Error("invalid type");}}}
{"use strict";const e=self.D;e.C.Touch.Instance=class extends e.Cy{constructor(b,a){super(b,"touch");this.qd=new Map;this.MA=this.vU=!1;this.qA=this.Jh=this.Ih=this.GJ=this.XB=this.ks=this.AG=this.zG=this.yG=this.DG=this.CG=this.BG=this.YI=this.XI=this.WI=this.nB=0;this.rB=[];a&&(this.vU=a[0]);this.KC("permission-result",d=>this.Z9(d));b=this.I().Yb();this.pf=new e.ZC(e.Ae.ph(b,"pointerdown",d=>this.a$(d.data)),e.Ae.ph(b,"pointermove",d=>this.b$(d.data)),e.Ae.ph(b,"pointerup",d=>this.SQ(d.data,!1)),
e.Ae.ph(b,"pointercancel",d=>this.SQ(d.data,!0)),e.Ae.ph(b,"deviceorientation",d=>this.N9(d.data)),e.Ae.ph(b,"deviceorientationabsolute",d=>this.O9(d.data)),e.Ae.ph(b,"devicemotion",d=>this.M9(d.data)),e.Ae.ph(b,"tick2",()=>this.$F()))}B(){this.qd.clear();super.B()}a$(b){if("mouse"===b.pointerType)if(this.vU)this.MA=!0;else return;const a=b.pointerId;if(!this.qd.has(a)){var d=b.pageX-this.g.Xs();b=b.pageY-this.g.Ys();var c=performance.now(),h=this.qd.size;this.ks=h;this.XB=a;var m=e.m(e.C.Touch.n5);
m.zg(c,d,b,a,h);this.qd.set(a,m);this.Ha(e.C.Touch.L.q2);this.Ha(e.C.Touch.L.BN);this.Ih=d;this.Jh=b;this.Ha(e.C.Touch.L.F2)}}b$(b){if("mouse"!==b.pointerType||this.MA){var a=this.qd.get(b.pointerId);if(a){var d=performance.now();2>d-a.Ea()||a.jl(d,b.pageX-this.g.Xs(),b.pageY-this.g.Ys(),b.width,b.height,b.pressure)}}}SQ(b,a){if("mouse"===b.pointerType)if(this.MA)this.MA=!1;else return;const d=performance.now();b=b.pointerId;const c=this.qd.get(b);c&&(this.ks=c.ve,this.XB=c.Cj(),this.Ha(e.C.Touch.L.p2),
this.Ha(e.C.Touch.L.E2),a||(a=c.Y4(d),"single-tap"===a?(this.Ha(e.C.Touch.L.D2),this.Ih=c.ga(),this.Jh=c.ia(),this.Ha(e.C.Touch.L.AN)):"double-tap"===a&&(this.Ha(e.C.Touch.L.h2),this.Ih=c.ga(),this.Jh=c.ia(),this.Ha(e.C.Touch.L.wN))),c.B(),this.qd.delete(b))}cG(b){this.ol("request-permission",{type:b});return new Promise((a,d)=>{this.rB.push({type:b,resolve:a,reject:d})})}Z9(b){const a=b.result,d=b.type;this.GJ=d;b=this.rB.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.rB=
this.rB.filter(c=>c.type!==d);a?(this.Ha(e.C.Touch.L.x2),0===d?this.g.Aq():this.g.Dm()):this.Ha(e.C.Touch.L.w2)}N9(b){"number"===typeof b.webkitCompassHeading?this.nB=b.webkitCompassHeading:b.absolute&&(this.nB=b.alpha);this.WI=b.alpha;this.XI=b.beta;this.YI=b.gamma}O9(b){this.nB=b.alpha}M9(b){const a=b.acceleration;a&&(this.BG=a.x,this.CG=a.y,this.DG=a.z);if(b=b.accelerationIncludingGravity)this.yG=b.x,this.zG=b.y,this.AG=b.z}$F(){const b=performance.now();let a=0;for(const d of this.qd.values())d.Ea()<=
b-50&&d.Waa(b),d.X4(b)&&(this.ks=d.ve,this.XB=d.Cj(),this.qA=a,this.Ha(e.C.Touch.L.k2),this.Ih=d.ga(),this.Jh=d.ia(),this.Ha(e.C.Touch.L.l2),this.qA=0),++a}Li(b){b=Math.floor(b);for(const a of this.qd.values()){if(0===b)return a;--b}return null}gu(b,a){return 0<=b&&0<=a&&b<this.g.xZ()&&a<this.g.wZ()}}}
{"use strict";const e=self.D,b=[];e.C.Touch.L={BN(){return!0},E2(){return!0},Nia(){return 0<this.qd.size},F2(a){return a&&this.gu(this.Ih,this.Jh)?this.g.Si.Ny(a,this.Ih,this.Jh):!1},l1(a){if(!a)return!1;const d=a.T();var c=d.pa();for(const h of c){c=h.A();const m=c.ea();for(const g of this.qd.values()){if(!this.gu(g.ga(),g.ia()))continue;const [k,n]=m.lh(g.ga(),g.ia(),c.gf());if(c.Ls(k,n)){b.push(h);break}}}return b.length?(d.Ht(b),a.fc(),e.F(b),!0):!1},Tga(a,d,c){return(a=this.Li(a))?e.compare(a.Yk(),
d,c):!1},mka(){return!0},Fja(){return!0},Pga(a,d,c){this.g.Aq();return e.compare(0===a?this.WI:1===a?this.XI:this.YI,d,c)},Fga(a,d,c){this.g.Dm();return e.compare(0===a?this.yG:1===a?this.zG:2===a?this.AG:3===a?this.BG:4===a?this.CG:this.DG,d,c)},q2(a){a=Math.floor(a);return a===this.ks},p2(a){a=Math.floor(a);return a===this.ks},fia(a){a=Math.floor(a);return this.qd.size>=a+1},k2(){return!0},D2(){return!0},h2(){return!0},l2(a){return a&&this.gu(this.Ih,this.Jh)?this.g.Si.Ny(a,this.Ih,this.Jh):!1},
AN(a){return a&&this.gu(this.Ih,this.Jh)?this.g.Si.Ny(a,this.Ih,this.Jh):!1},wN(a){return a&&this.gu(this.Ih,this.Jh)?this.g.Si.Ny(a,this.Ih,this.Jh):!1},x2(a){return this.GJ===a},w2(a){return this.GJ===a}}}"use strict";self.D.C.Touch.Wa={jla(e){this.cG(e)}};
{"use strict";const e=self.D;e.C.Touch.Xa={$na(){return this.qd.size},Zt(b){const a=this.Li(this.qA);return a?a.hq(this.g.Na(),b,!0):0},nF(b){const a=this.Li(this.qA);return a?a.hq(this.g.Na(),b,!1):0},Koa(b,a){return(b=this.Li(b))?b.hq(this.g.Na(),a,!0):0},Soa(b,a){return(b=this.Li(b))?b.hq(this.g.Na(),a,!1):0},Loa(b,a){return(b=this.qd.get(b))?b.hq(this.g.Na(),a,!0):0},Toa(b,a){return(b=this.qd.get(b))?b.hq(this.g.Na(),a,!1):0},Dfa(){const b=this.Li(0);return b?b.ga():0},Gfa(){const b=this.Li(0);
return b?b.ia():0},Efa(b){return(b=this.Li(b))?b.ga():0},Hfa(b){return(b=this.Li(b))?b.ia():0},Ffa(b){return(b=this.qd.get(b))?b.ga():0},Ifa(b){return(b=this.qd.get(b))?b.ia():0},wna(b){return(b=this.Li(b))?b.Yk():0},xna(b){return(b=this.qd.get(b))?b.Yk():0},Wfa(b){return(b=this.Li(b))?e.ug(b.Ia()):0},Xfa(b){return(b=this.qd.get(b))?e.ug(b.Ia()):0},Zga(){this.g.Aq();return this.nB},Ufa(){this.g.Aq();return this.WI},hga(){this.g.Aq();return this.XI},Jha(){this.g.Aq();return this.YI},Kfa(){this.g.Dm();
return this.yG},Mfa(){this.g.Dm();return this.zG},Ofa(){this.g.Dm();return this.AG},Jfa(){this.g.Dm();return this.BG},Lfa(){this.g.Dm();return this.CG},Nfa(){this.g.Dm();return this.DG},boa(){return this.ks},aoa(){return this.XB},Eoa(b){return(b=this.qd.get(b))?b.$():0},iia(b){return(b=this.qd.get(b))?b.ca():0},Rka(b){return(b=this.qd.get(b))?b.OT:0}}}
{"use strict";const e=self.D;let b=-1E3,a=-1E3,d=-1E4;e.C.Touch.n5=class extends e.ka{constructor(){super();this.OT=this.U=this.X=this.cB=this.bB=this.O=this.S=this.RB=this.QB=this.aB=this.ec=this.mn=this.ve=this.NT=0;this.SA=this.OH=!1}B(){}zg(c,h,m,g,k){this.NT=g;this.ve=k;this.mn=this.aB=this.ec=c;this.QB=h;this.RB=m;this.S=h;this.O=m;this.bB=h;this.cB=m}jl(c,h,m,g,k,n){this.aB=this.ec;this.ec=c;this.bB=this.S;this.cB=this.O;this.S=h;this.O=m;this.X=g;this.U=k;this.OT=n;!this.SA&&15<=e.ts(this.QB,
this.RB,this.S,this.O)&&(this.SA=!0)}Cj(){return this.NT}Ea(){return this.ec}Waa(c){this.aB=c}ga(){return this.S}ia(){return this.O}Yk(){const c=e.ts(this.S,this.O,this.bB,this.cB),h=(this.ec-this.aB)/1E3;return 0<h?c/h:0}Ia(){return e.cK(this.bB,this.cB,this.S,this.O)}$(){return this.X}ca(){return this.U}X4(c){return this.OH?!1:500<=c-this.mn&&!this.SA&&15>e.ts(this.QB,this.RB,this.S,this.O)?this.OH=!0:!1}Y4(c){if(this.OH)return"";if(333>=c-this.mn&&!this.SA&&15>e.ts(this.QB,this.RB,this.S,this.O)){if(666>=
c-d&&25>e.ts(b,a,this.S,this.O))return a=b=-1E3,d=-1E4,"double-tap";b=this.S;a=this.O;d=c;return"single-tap"}return""}hq(c,h,m){return"undefined"===typeof h?c.Lx(0).aX(this.S,this.O)[m?0:1]:(c=c.ea(h))?c.lh(this.S,this.O)[m?0:1]:0}}}{"use strict";const e=self.D;e.C.Dc=class extends e.Bq{constructor(b){super(b)}B(){super.B()}}}{"use strict";const e=self.D;e.C.Dc.Ho=class extends e.Dy{constructor(b){super(b)}B(){super.B()}Fd(){}}}
{"use strict";const e=self.D;e.C.Dc.Instance=class extends e.Cy{constructor(b){super(b,"browser");this.pk="";this.tv=!1;this.lS=this.ST="";this.ZS=!1;this.YJ=this.XT=this.YT=0;this.vv=!1;this.fW([["online-state",a=>this.Y9(a)],["backbutton",()=>this.K9()],["sw-message",a=>this.e$(a)],["hashchange",a=>this.T9(a)]]);b=this.I().Yb();this.pf=new e.ZC(e.Ae.ph(b,"afterfirstlayoutstart",()=>this.J9()),e.Ae.ph(b,"window-resize",()=>this.bG()),e.Ae.ph(b,"suspend",()=>this.f$()),e.Ae.ph(b,"resume",()=>this.d$()));
this.g.nW(this.uE("get-initial-state",{exportType:this.g.Yi}).then(a=>{this.pk=a.location;this.tv=a.isOnline;this.ST=a.referrer;this.lS=a.title;this.ZS=a.isCookieEnabled;this.YT=a.screenWidth;this.XT=a.screenHeight;this.YJ=a.windowOuterWidth;this.vv=a.isScirraArcade}))}B(){super.B()}J9(){this.Bi("ready-for-sw-messages")}async Y9(b){b=!!b.isOnline;this.tv!==b&&((this.tv=b)?await this.Sd(e.C.Dc.L.t2):await this.Sd(e.C.Dc.L.r2))}async bG(){await this.Sd(e.C.Dc.L.y2)}f$(){this.Ha(e.C.Dc.L.u2)}d$(){this.Ha(e.C.Dc.L.v2)}async K9(){await this.Sd(e.C.Dc.L.d2)}e$(b){b=
b.type;"downloading-update"===b?this.Ha(e.C.Dc.L.H2):"update-ready"===b||"update-pending"===b?this.Ha(e.C.Dc.L.I2):"offline-ready"===b&&this.Ha(e.C.Dc.L.s2)}T9(b){this.pk=b.location;this.Ha(e.C.Dc.L.j2)}}}"use strict";
self.D.C.Dc.L={Yia(){return this.tv},t2(){return!0},r2(){return!0},y2(){return!0},cha(){return this.ZS},Mia(){return this.g.R.qp},d2(){return!0},bja(e){return(this.g.R.Ek<=this.g.R.Dk?0:1)===e},H2(){return!0},I2(){return!0},s2(){return!0},j2(){return!0},oka(){return!this.g.Bm()},u2(){return!0},v2(){return!0},eia(){return!1},Iia(){return!1},bka(){return!1},cka(){return!1},Ria(){return!1},Bia(){return!0},Pna(){return!0}};
{"use strict";const e=self.D,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.C.Dc.Wa={Tfa(a){this.Bi("alert",{message:a.toString()})},yga(){this.vv||(this.g.zb?self.vg.zga():this.Bi("close"))},Dha(){this.Bi("set-focus",{isFocus:!0})},kga(){this.Bi("set-focus",{isFocus:!1})},Pha(){this.vv||this.Bi("navigate",{type:"back"})},Qha(){this.vv||this.Bi("navigate",{type:"forward"})},Rha(){},cla(){this.vv||(this.g.zb?this.g.U2():this.Bi("navigate",
{type:"reload"}))},Tha(a,d){this.ol("navigate",{type:"url",url:a,target:d,exportType:this.g.Yi})},Uha(a,d){this.ol("navigate",{type:"new-window",url:a,tag:d,exportType:this.g.Yi})},hla(a,d){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=e.XC.TP(a);this.g.R.f4(a);this.ol("request-fullscreen",{navUI:d})},qga(){this.ol("exit-fullscreen")},toa(a){a=a.split(",");for(let d=0,c=a.length;d<c;++d)a[d]=parseInt(a[d],10);this.ol("vibrate",{pattern:a})},async XD(a,d){a&&d&&(a=await this.g.md.GD(a),this.g.XD(a,d))},
P0(a,d,c){c&&(a=`data:${d},${encodeURIComponent(a)}`,this.g.XD(a,c))},bha(a,d){d=d.toString();0===a?console.log(d):1===a?console.warn(d):2===a&&console.error(d)},$ga(a){console.group(a)},aha(){console.groupEnd()},wha(a){try{eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}},xja(a){a=Math.floor(a);0>a||a>=b.length||this.ol("lock-orientation",{orientation:b[a]})},joa(){this.ol("unlock-orientation")},mN(a){this.g.md.mN(a)},Hma(a){this.Bi("set-hash",{hash:a})}}}"use strict";
self.D.C.Dc.Xa={URL(){return this.g.oe?this.pk:location.toString()},Vka(){return this.g.oe?(new URL(this.pk)).protocol:location.protocol},qY(){return this.g.oe?(new URL(this.pk)).hostname:location.hostname},Qka(){return this.g.oe?(new URL(this.pk)).port:location.port},qka(){return this.g.oe?(new URL(this.pk)).pathname:location.pathname},gia(){return this.g.oe?(new URL(this.pk)).hash:location.hash},wE(){return this.g.oe?(new URL(this.pk)).search:location.search},Xka(e){const b=this.g.oe?(new URL(this.pk)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(b))?decodeURIComponent(e[1].replace(/\+/g," ")):""},ala(){return this.ST},m5(){return this.lS},kja(){return navigator.language},Rc(){return navigator.platform},noa(){return navigator.userAgent},vha(e){let b=0;try{b=eval(e)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},P1(){return navigator.appName},soa(){return navigator.appVersion},Tka(){return navigator.product},
roa(){return navigator.vendor},fga(){return 1},gga(){return Infinity},ega(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},lha(){return self.devicePixelRatio},ima(){return this.YT},hma(){return this.XT},Hoa(){return this.g.R.Ek},Goa(){return this.g.R.Dk},Joa(){return this.YJ},Ioa(){return this.YJ}};{"use strict";const e=self.D;e.C.Text=class extends e.Bq{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const e=self.D;e.C.Text.Ho=class extends e.Dy{constructor(b){super(b)}B(){super.B()}Fd(){}tq(){}wo(){}}}
{"use strict";const e=self.D,b=self.kh,a=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],h=new e.Rect,m=new e.Bd;new e.eb;e.C.Text.Instance=class extends e.HE{constructor(n,p){super(n);this.pd="";this.Al=!0;this.Zi="Arial";this.wk=12;this.Th=0;this.tf=this.sf=!1;this.kb=e.m(e.eb);this.Ye=this.qf=0;this.Gk=!0;this.zk=this.ls=-1;this.pw=0;this.bd=e.m(e.J.zE,this.g.sb(),{timeout:5});this.bd.xC=()=>this.g.da();this.bd.vO();p&&(this.pd=p[0],this.Al=!!p[1],this.Zi=p[2],this.wk=p[3],this.Th=
p[4],this.sf=!!p[5],this.tf=!!p[6],this.qf=p[8],this.Ye=p[9],this.Gk=0===p[10],n=p[7],this.kb.Fs(n[0],n[1],n[2]),this.A().Hg(p[11]));this.ke()}B(){this.Km();this.bd.B();this.bd=null;super.B()}ke(){const n=this.bd;n.Ut(this.pd);n.X3(this.Al);n.NE(this.Zi);n.zO(this.Th);n.fO(this.sf);n.xO(this.tf);n.Fm(this.kb);n.rO(d[this.qf]);n.MO(c[this.Ye]);n.T4(this.Gk?"word":"character")}wG(){const n=this.A();this.bd.Jy(this.wk);this.bd.m4(n.t_());var p=n.ea();p=p.tm()*p.YL(n.gf());this.bd.Tc(n.$(),n.ca(),p)}oh(n){var p=
this.A();this.wG();const q=this.bd.he();if(q){var u=p.ea();if(0===p.Ia()&&0===u.Ia()&&0===p.gf()&&!p.Tf()&&u.ON()){p=p.yj();const [w,r]=u.Rj(p.Db,p.Eb),[v,y]=u.Rj(p.mc,p.nc);p=w-Math.round(w);const A=r-Math.round(r);h.set(w,r,v,y);h.offset(-p,-A);m.tj(h);const [G,z]=n.Vx(n.Wk());this.g.R.e4(n,G,z);n.Yf(q);n.yq(m,this.bd.Lj());u.rz(n)}else n.Yf(q),p.Tf()?this.FF(p,n):this.GF(p,n)}}GF(n,p){n=n.yj();this.g.Hl&&(n=this.UQ(n));p.yq(n,this.bd.Lj())}FF(n,p){const q=n.GM();if(n.cN()){n.bx(h,m,!1);let u=m;
this.g.Hl&&(u=this.UQ(u));q.oL(n.Kj(),u,this.bd.Lj());n.PE(!1)}q.oh(p)}UQ(n){const p=n.Db-Math.round(n.Db),q=n.Eb-Math.round(n.Eb);if(0===p&&0===q)return n;m.ta(n);m.offset(-p,-q);return m}Hd(){const n={t:this.pd,c:this.kb.toJSON(),fn:this.Zi,ps:this.wk};this.Al&&(n.bbc=this.Al);0!==this.qf&&(n.ha=this.qf);0!==this.Ye&&(n.va=this.Ye);this.Gk||(n.wr=this.Gk);0!==this.Th&&(n.lho=this.Th);this.sf&&(n.b=this.sf);this.tf&&(n.i=this.tf);-1!==this.zk&&(n.tw={st:this.ls,en:this.zk,l:this.pw});return n}Ad(n){this.Km();
this.pd=n.t;this.kb.jm(n.c);this.Zi=n.fn;this.wk=n.ps;this.Al=n.hasOwnProperty("bbc")?n.bbc:!1;this.qf=n.hasOwnProperty("ha")?n.ha:0;this.Ye=n.hasOwnProperty("va")?n.va:0;this.Gk=n.hasOwnProperty("wr")?n.wr:!0;this.Th=n.hasOwnProperty("lho")?n.lho:0;this.sf=n.hasOwnProperty("b")?n.b:!1;this.tf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.ls=n.st,this.zk=n.en,this.pw=n.l);this.ke();-1!==this.zk&&this.gk()}Ec(n){switch(n){case 0:return this.pd;case 1:return this.Al;case 2:return this.Zi;
case 3:return this.wk;case 4:return this.Th;case 5:return this.sf;case 6:return this.tf;case 7:return a[0]=this.kb.Va,a[1]=this.kb.ab,a[2]=this.kb.$a,a;case 8:return this.qf;case 9:return this.Ye;case 10:return this.Gk?1:0}}yh(n,p){switch(n){case 0:if(this.pd===p)break;this.pd=p;this.ke();break;case 1:if(this.Al===!!p)break;this.Al=!!p;this.ke();break;case 2:if(this.Zi===p)break;this.Zi=p;this.ke();break;case 3:if(this.wk===p)break;this.wk=p;this.ke();break;case 4:if(this.Th===p)break;this.Th=p;this.ke();
break;case 5:if(this.sf===!!p)break;this.sf=!!p;this.ke();break;case 6:if(this.tf===!!p)break;this.tf=!!p;this.ke();break;case 7:n=this.kb;if(n.Va===p[0]&&n.ab===p[1]&&n.$a===p[2])break;this.kb.Fs(p[0],p[1],p[2]);this.ke();break;case 8:if(this.qf===p)break;this.qf=p;this.ke();break;case 9:if(this.Ye===p)break;this.Ye=p;this.ke();break;case 10:this.Gk!==(0===p)&&(this.Gk=0===p,this.ke())}}qz(n){this.pd!==n&&(this.pd=n,this.bd.Ut(n),this.g.da())}sba(n,p){this.qz(n);this.ls=this.g.LD();this.zk=this.ls+
p/this.Da().pZ();this.pw=e.nm.PO(n).length;this.bd.ME(0);this.gk()}Km(){this.zk=this.ls=-1;this.pw=0;this.bd.ME(-1);this.Zq()}K7(){-1!==this.zk&&(this.Km(),this.Ha(e.C.Text.L.CN),this.g.da())}Laa(n){this.Zi!==n&&(this.Zi=n,this.bd.NE(n),this.g.da())}Aaa(n){n=!!n;this.sf!==n&&(this.sf=n,this.bd.fO(n),this.g.da())}Uaa(n){n=!!n;this.tf!==n&&(this.tf=n,this.bd.xO(n),this.g.da())}Maa(n){this.wk!==n&&(this.wk=n,this.g.da())}Kaa(n){this.kb.gm(n)||(this.kb.oj(n),this.bd.Fm(this.kb),this.g.da())}tR(n){this.Th!==
n&&(this.Th=n,this.ke(),this.g.da())}Paa(n){this.qf!==n&&(this.qf=n,this.ke(),this.g.da())}yR(n){this.Ye!==n&&(this.Ye=n,this.ke(),this.g.da())}lba(n){n=!!n;this.Gk!==n&&(this.Gk=n,this.ke(),this.g.da())}t8(){this.wG();return this.bd.x_()}s8(){this.wG();return this.bd.w_()}Ke(){var n=this.g.LD();n>=this.zk?(this.Km(),this.Ha(e.C.Text.L.CN),this.g.da()):(n=e.Uea(this.ls,this.zk,n,this.pw),n=Math.floor(n),n!==this.bd.$o&&(this.bd.ME(n),this.g.da()))}Xk(){return self.e0}};const g=new WeakMap,k=new Map([["top",
0],["center",1],["bottom",2]]);self.e0=class extends self.ey{constructor(){super();g.set(this,self.qt.Sq().qa)}get text(){return g.get(this).pd}set text(n){b.Gd(n);const p=g.get(this);p.Km();p.qz(n)}set lineHeight(n){b.Uj(n);g.get(this).tR(n)}get lineHeight(){return g.get(this).Th}set verticalAlign(n){b.Gd(n);n=k.get(n);if("undefined"===typeof n)throw Error("invalid mode");g.get(this).yR(n)}get verticalAlign(){return c[g.get(this).Ye]}}}
{"use strict";const e=self.D;e.C.Text.L={Rga(b,a){return a?this.pd===b:e.In(this.pd,b)},cja(){return-1!==this.zk},CN(){return!0}}}
{"use strict";const e=self.D,b=e.m(e.eb);e.C.Text.Wa={Ut(a){this.Km();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.qz(a.toString())},aga(a){this.Km();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.qz(this.pd+a)},foa(a,d){this.Km();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.sba(a.toString(),d)},Dma(a,d){let c=!1,h=!1;switch(d){case 1:c=!0;break;case 2:h=!0;break;case 3:h=c=!0}if(a!==this.Zi||c!==this.sf||h!==this.tf)this.Laa(a),this.Aaa(c),
this.Uaa(h)},Jy(a){this.Maa(a)},Cma(a){b.Es(a);b.ja();this.Kaa(b)},pna(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},g4(a){this.A().Wf(a);this.g.da()},eoa(){this.K7()},zO(a){this.tR(a)},Fma(a){this.Paa(a)},nna(a){this.yR(a)},qna(a){this.lba(0===a)}}}{"use strict";const e=self.D;e.C.Text.Xa={Text(){return this.pd},Ika(){return this.Al?e.nm.PO(this.pd):this.pd},xha(){return this.Zi},dZ(){return this.wk},i5(){return this.t8()},Tna(){return this.s8()},qja(){return this.Th}}}
{"use strict";const e=self.D;e.Kf.Eo=class extends e.L3{constructor(b){super(b)}B(){super.B()}}}{"use strict";const e=self.D;e.Kf.Eo.Ho=class extends e.N3{constructor(b){super(b)}B(){super.B()}Fd(){}}}
{"use strict";const e=self.D,b=self.NM,a=2*Math.PI,d=Math.PI/2,c=3*Math.PI/2,h=[0,1,8,3,4,2,5,6,9,7];e.Kf.Eo.Instance=class extends e.M3{constructor(g,k){super(g);this.Ac=this.qe=this.Bn=this.ig=this.zc=0;this.hg=!0;this.AB=this.Gr=this.wf=this.lp=this.ob=this.GI=this.aJ=this.bJ=this.Hz=this.TR=this.Iz=0;k&&(this.ig=h[k[0]],this.Bn=k[1],this.bJ=this.g.fl()*k[3],this.Iz=k[2],this.qe=k[2],this.qe+=this.bJ,this.TR=k[4],0!==this.qe&&(this.aJ=this.g.fl()*k[5],this.zc=k[4]/this.qe*a,this.zc+=this.aJ/this.qe*
a),this.GI=this.g.fl()*k[7],this.Hz=k[6],this.Ac=k[6],this.Ac+=this.GI,this.hg=!!k[8]);5===this.ig&&(this.Ac=e.nb(this.Ac));this.zg();this.hg&&this.gk()}B(){super.B()}Hd(){return{i:this.zc,e:this.hg,mv:this.ig,w:this.Bn,p:this.qe,mag:this.Ac,iv:this.ob,iv2:this.lp,r:this.AB,lkv:this.wf,lkv2:this.Gr}}Ad(g){this.zc=g.i;this.pz(g.e);this.ig=g.mv;this.Bn=g.w;this.qe=g.p;this.Ac=g.mag;this.ob=g.iv;this.lp=g.iv2;this.AB=g.r;this.wf=g.lkv;this.Gr=g.lkv2}zg(){const g=this.la.A();switch(this.ig){case 0:this.ob=
g.ga();break;case 1:this.ob=g.ia();break;case 2:this.ob=g.$();this.AB=g.ca()/g.$();break;case 3:this.ob=g.$();break;case 4:this.ob=g.ca();break;case 5:this.ob=g.Ia();break;case 6:this.ob=g.fe();break;case 7:this.ob=0;break;case 8:this.ob=g.ga();this.lp=g.ia();break;case 9:this.ob=g.fb()}this.wf=this.ob;this.Gr=this.lp}Ch(g){g%=a;switch(this.Bn){case 0:return Math.sin(g);case 1:return g<=d?g/d:g<=c?1-2*(g-d)/Math.PI:(g-c)/d-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Ke(){const g=
this.g.Fx(this.la);this.hg&&0!==g&&(this.zc=0===this.qe?0:(this.zc+g/this.qe*a)%a,this.NR())}NR(){const g=this.la.A();switch(this.ig){case 0:g.ga()!==this.wf&&(this.ob+=g.ga()-this.wf);g.Zf(this.ob+this.Ch(this.zc)*this.Ac);this.wf=g.ga();break;case 1:g.ia()!==this.wf&&(this.ob+=g.ia()-this.wf);g.Ig(this.ob+this.Ch(this.zc)*this.Ac);this.wf=g.ia();break;case 2:g.lf(this.ob+this.Ch(this.zc)*this.Ac);g.Xf(g.$()*this.AB);break;case 3:g.lf(this.ob+this.Ch(this.zc)*this.Ac);break;case 4:g.Xf(this.ob+this.Ch(this.zc)*
this.Ac);break;case 5:g.Ia()!==this.wf&&(this.ob=e.ee(this.ob+(g.Ia()-this.wf)));g.ld(this.ob+this.Ch(this.zc)*this.Ac);this.wf=g.Ia();break;case 6:g.Ei(this.ob+this.Ch(this.zc)*this.Ac/100);break;case 8:g.ga()!==this.wf&&(this.ob+=g.ga()-this.wf);g.ia()!==this.Gr&&(this.lp+=g.ia()-this.Gr);g.Zf(this.ob+Math.cos(g.Ia())*this.Ch(this.zc)*this.Ac);g.Ig(this.lp+Math.sin(g.Ia())*this.Ch(this.zc)*this.Ac);this.wf=g.ga();this.Gr=g.ia();break;case 9:g.Je(this.ob+this.Ch(this.zc)*this.Ac)}g.Ya()}aba(g){this.qe=
g}Xaa(g){this.Ac=g}Yaa(g){5===this.ig&&(g=e.nb(g));this.Xaa(g)}LF(){let g=this.Ac;5===this.ig&&(g=e.ug(g));return g}$aa(g){5===this.ig&&5!==g&&(this.Ac=e.ug(this.Ac));this.ig=g;this.zg()}bba(g){this.zc=e.ja(g,0,2*Math.PI);this.NR()}pz(g){(this.hg=!!g)?this.gk():this.Zq()}Ec(g){switch(g){case 0:return this.ig;case 1:return this.Bn;case 2:return this.Iz;case 6:return this.Hz;case 8:return this.hg}}yh(g,k){switch(g){case 0:this.ig=h[k];this.zg();break;case 1:this.Bn=k;break;case 2:this.Iz=k;this.qe=
this.Iz+this.bJ;this.hg||(0!==this.qe?(this.zc=this.TR/this.qe*a,this.zc+=this.aJ/this.qe*a):this.zc=0);break;case 6:this.Hz=k;this.Ac=this.Hz+this.GI;5===this.ig&&(this.Ac=e.nb(this.Ac));break;case 8:this.hg=!!k}}Xk(){return self.b0}};const m=new WeakMap;self.b0=class extends b{constructor(){super();m.set(this,b.Sq().qa)}get value(){const g=m.get(this);return g.Ch(g.zc)*g.Ac}set isEnabled(g){m.get(this).pz(!!g)}get isEnabled(){return m.get(this).hg}}}
{"use strict";const e=self.D;e.Kf.Eo.L={vm(){return this.hg},Nga(b){return this.ig===b},Qga(b,a){return e.compare(this.qe,b,a)},Mga(b,a){return e.compare(this.LF(),b,a)},Vga(b){return this.Bn===b}}}"use strict";self.D.Kf.Eo.Wa={nO(e){this.pz(0!==e)},gna(e){this.aba(e)},bna(e){this.Yaa(e)},ena(e){this.$aa(e)},ona(e){this.Bn=e},hna(e){const b=2*Math.PI;this.bba(e*b%b)},loa(){this.zg()}};"use strict";
self.D.Kf.Eo.Xa={gha(){return this.zc/(2*Math.PI)},ska(){return this.qe},zja(){return this.LF()},qoa(){return this.Ch(this.zc)*this.LF()}};
{const e=self.D;self.mL=function(){return[e.C.hb,e.C.Touch,e.C.Dc,e.C.Text,e.Kf.Eo,e.C.Ba.L.XL,e.C.hb.L.SM,e.C.hb.Wa.Zf,e.C.hb.Xa.Zt,e.C.Ba.Xa.pK,e.C.hb.Wa.iW,e.C.hb.L.tL,e.C.hb.Wa.uO,e.C.Ba.L.mX,e.C.Touch.L.AN,e.C.Touch.L.wN,e.C.hb.Wa.ML,e.C.Ba.Wa.S4,e.C.Text.Wa.Ut,e.C.hb.L.S0,e.C.Text.L.SM,e.C.hb.Wa.gO,e.C.Ba.Xa.random,e.C.hb.Xa.K5,e.C.Text.Wa.gO,e.C.Text.Wa.Ei,e.C.hb.L.pX,e.C.Ba.Xa.yea,e.C.Ba.Wa.sW,e.C.Ba.Wa.Nt,e.C.Ba.Wa.EL,e.C.hb.Wa.ld,e.C.hb.Wa.Tc,e.C.Ba.Xa.pfa,e.C.Ba.L.lZ,e.C.Ba.Xa.$da,e.C.Ba.Xa.ofa,
e.C.Ba.Xa.Dea,e.C.Text.Wa.Tc,e.C.Ba.L.xN,e.C.Ba.Xa.oea,e.C.Ba.Xa.right,e.C.Ba.Xa.left,e.C.Ba.Wa.lF,e.C.Ba.Wa.Em,e.C.Ba.Xa.Pea,e.C.Ba.Xa.Qea,e.C.Dc.Xa.qY,e.C.hb.Wa.Hg,e.C.Ba.L.QL,e.C.Text.Xa.Zt,e.C.Text.Xa.i5,e.Kf.Eo.Wa.nO,e.C.Dc.Wa.P0,e.C.Ba.L.nX,e.C.Ba.Xa.As,e.C.Ba.Xa.trim,e.C.hb.Xa.r1,e.C.hb.Xa.IW,e.C.hb.Xa.KW,e.C.hb.Wa.lf,e.C.hb.Wa.Xf,e.C.hb.Xa.HW,e.C.hb.Xa.JW,e.C.Text.Wa.uO,e.C.hb.Xa.W_,e.C.Text.Wa.ld,e.C.Text.Wa.lf,e.C.Text.Wa.Hg,e.C.hb.Wa.V3,e.C.hb.Wa.O1,e.C.hb.Wa.N5,e.C.Touch.L.l1,e.C.hb.L.O2,
e.C.Touch.Xa.Zt,e.C.Touch.Xa.nF,e.C.hb.Xa.xW,e.C.hb.Xa.XO,e.C.Text.L.tL,e.C.hb.L.N2,e.C.Ba.Xa.replace,e.C.Touch.L.BN,e.C.Ba.L.M2,e.C.Text.Wa.ML,e.C.Ba.L.oq,e.C.Text.Xa.Text,e.C.Text.L.vN,e.C.Text.Xa.dZ,e.C.Ba.L.r5,e.C.Text.Wa.Jy,e.C.Ba.Wa.C1,e.C.Ba.L.tE,e.C.Ba.Xa.Afa,e.C.Ba.Xa.RU,e.C.Ba.Wa.C_]};self.TW=[{poa:0},{Dn:0},{ooa:0},{Zra:0},{Qna:0},{Eqa:0},{eb:0},{sga:0},{Touch:0},{Dc:0},{P1:0},{bia:0},{Wha:0},{dia:0},{Zha:0},{Noa:0},{Moa:0},{Voa:0},{Uoa:0},{Ooa:0},{Woa:0},{Xsa:0},{Zsa:0},{Lka:0},{Poa:0},
{Xoa:0},{m5:0},{pja:0},{Xha:0},{Qoa:0},{Yoa:0},{hja:0},{aia:0},{Vha:0},{cia:0},{nra:0},{Pfa:0},{Animation:0},{Oq:0},{vga:0},{Xna:0},{wga:0},{oga:0},{ija:0},{Rna:0},{Sna:0},{dga:0},{sna:0},{Cga:0},{Uka:0},{yja:0},{$ha:0},{Yha:0},{nga:0},{Wna:0},{Lsa:0},{$ra:0},{doa:0},{Bga:0},{force:0},{Aga:0},{tga:0},{fra:0},{msa:0},{xsa:0},{wsa:0},{rows:0},{cols:0},{Zt:0},{nF:0},{width:0},{height:0},{Wqa:0},{Foa:0},{jia:0},{data:0},{Yra:0},{wpa:0},{Ysa:0},{$sa:0},{hha:0},{zha:0},{hia:0},{Bpa:0},{Dpa:0},{Cpa:0},{tsa:0},
{Mja:0},{iha:0},{Yna:0},{jha:0},{Iha:0},{oK:0},{t:0},{XO:0},{usa:0},{vsa:0},{x:0},{Roa:0},{Zoa:0},{Ega:0},{jja:0},{Oja:0},{Nja:0},{Qja:0},{Pja:0},{ssa:0}]}
{const e=self.D;function b(a,d){return"string"===typeof a||"string"===typeof d?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):a&&d?1:0}self.SW=[a=>{const d=a.j(0),c=a.j(1),h=a.j(2).P();return()=>d.Fb()+c.jb()*h()},a=>{const d=a.j(0).P();return()=>d()},a=>{const d=a.j(0),c=a.j(1).Z;return()=>d.jb()-c.M()},a=>{const d=a.j(0);return()=>d.jb()},()=>"Position",a=>{const d=a.j(0);return()=>Math.round(100*d.jb())/100},a=>{const d=
a.j(0).P(),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4);return()=>Math.round(d(c.jb()*(h.jb()/1.5),Math.pow(m.jb()*(g.jb()/1.5),.25))/2)},()=>"",a=>{const d=a.j(0).Z;return()=>d.M()},()=>0,a=>{const d=a.j(0).Z;return()=>b("trials complete: ",d.M())},a=>{const d=a.j(0).P(),c=a.j(1);return()=>d(c.jb(),7)},a=>{const d=a.j(0).Z,c=a.j(1).P(),h=a.j(2).Z;return()=>-1*d.M()+c(h.M())},a=>{const d=a.j(0);return()=>-d.Fb()/2},()=>50,a=>{const d=a.j(0).P(),c=a.j(1);return()=>d()+c.Fb()/2},()=>100,()=>1,a=>{const d=a.j(0).Z,
c=a.j(1).Z,h=a.j(2).P(),m=a.j(3).P();return()=>d.M()+c.M()*Math.sqrt(-2*Math.log(h(1)))*Math.cos(e.nb(360*m(1)))},a=>{const d=a.j(0).Z,c=a.j(1).P(),h=a.j(2).P();return()=>d.M()*Math.sqrt(-2*Math.log(c(1)))*Math.cos(e.nb(360*h(1)))},a=>{const d=a.j(0).Z,c=a.j(1).Z;return()=>d.M()+c.M()},()=>90,a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),";")},a=>{const d=a.j(0).Z;return()=>1/d.M()},a=>{const d=a.j(0).Z;return()=>d.M()-1},a=>{const d=a.j(0).Z,c=a.j(1).Z;return()=>b(d.M()+";",1/c.M())},a=>{const d=
a.j(0).Z,c=a.j(1).Z,h=a.j(2).P(),m=a.j(3).P(),g=a.j(4).Z,k=a.j(5).P();return()=>d.M()+Math.round(c.M()*h(m(g.M(),k()-1,";")))},()=>"row",()=>"col",a=>{const d=a.j(0).Z,c=a.j(1).P(),h=a.j(2).P(),m=a.j(3).Z,g=a.j(4).P();return()=>d.M()*c(h(m.M(),g("col"),";"))},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4).P();return()=>d(c(h.M(),m("row"),"|"),g("col"),";")},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4).Z;return()=>d(c(h.M(),m("col"),";"))*g.M()},a=>{const d=
a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4).Z;return()=>d(c(h.M(),m("row"),";"))*g.M()},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),"|")},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z;return()=>d(c(h.M(),0,"|"),";")},()=>2,a=>{const d=a.j(0).Z;return()=>"Test Code: [background=#FFEE0080]"+d.M()+" "},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z;return()=>100*d(c(h.M(),2))+15E3},()=>216,()=>96,()=>480,a=>{const d=a.j(0).Z,c=a.j(1).Z,h=a.j(2).Z,m=a.j(3).Z;return()=>b(b(b(b("Engine Mass (kg);Acceleration (m/s/s)|300;",
Math.round(d.M()/2400*100)/100)+"|400;",Math.round(c.M()/2500*100)/100)+"|500;",Math.round(h.M()/2600*100)/100)+"|600;",Math.round(m.M()/2700*100)/100)},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z;return()=>180+d(c(h.M(),2))},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).P(),m=a.j(3).P(),g=a.j(4).P(),k=a.j(5).P(),n=a.j(6).P();return()=>"Save"+d()+c(h(),0,".")+"."+m(g(),1,".")+"."+k(n(),2,".")},a=>{const d=a.j(0).P(),c=a.j(1),h=a.j(2).Z;return()=>d(c.jb().toString(),h.M(),";")},a=>{const d=a.j(0).Z,
c=a.j(1).Z;return()=>d.M()+":"+c.M()},()=>"CarData.csv",()=>"Time (s),Position (m)",()=>"milesloh.github.io",a=>{const d=a.j(0).P(),c=a.j(1).P();return()=>d()+" - "+c()+" - (C) Mr. Miles Loh"},a=>{const d=a.j(0).P(),c=a.j(1).P();return()=>d()+" - "+c()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},a=>{const d=a.j(0),c=a.j(1);return()=>d.Fb()+c.Fb()/2+4},a=>{const d=a.j(0).P(),c=a.j(1).Z,h=a.j(2).Z;return()=>d(c.M(),h.M())},()=>"text/csv",a=>{const d=a.j(0).P(),c=a.j(1).P(),h=
a.j(2).Z;return()=>d(c(h.M(),0,":"),";")},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),":")},a=>{const d=a.j(0).Z;return()=>d.M()+"\n"},()=>"perrow",()=>"percol",a=>{const d=a.j(0).Z,c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4).P();return()=>d.M()+","+c(h.M(),m("percol"),g("perrow"))},a=>{const d=a.j(0).Z,c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4).Z;return()=>d.M()+c(h.M(),m(g.M())-1)+"\n"},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M())},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z,
m=a.j(3).Z,g=a.j(4).Z;return()=>d(c(h.M(),m.M(),":"),g.M(),";")},a=>{const d=a.j(0).Z,c=a.j(1).Z,h=a.j(2).Z;return()=>d.M()+c.M()+h.M()},a=>{const d=a.j(0);return()=>d.Fb()},a=>{const d=a.j(0),c=a.j(1);return()=>d.Fb()+c.jb()},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3);return()=>d.Fb()-c.jb()-(h.Fb()+m.jb())},a=>{const d=a.j(0),c=a.j(1);return()=>(d.Fb()+c.Fb())/2},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4),k=a.j(5);return()=>e.gd(d.Fb()+c.jb(),h.Fb()-m.jb(),e.On(g.jb(),k.jb(),0))},
a=>{const d=a.j(0),c=a.j(1);return()=>d.Fb()-2*c.jb()},()=>270,a=>{const d=a.j(0),c=a.j(1);return()=>d.Fb()-c.jb()},a=>{const d=a.j(0),c=a.j(1);return()=>e.gd(d.Fb(),c.Fb(),.75)},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4),k=a.j(5),n=a.j(6).Z;return()=>e.gd(d.Fb()+c.jb(),h.Fb()-m.jb(),e.On(g.jb(),k.jb(),n.M()))},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4),k=a.j(5),n=a.j(6).Z,p=a.j(7),q=a.j(8),u=a.j(9),w=a.j(10);return()=>e.ja(e.gd(d.Fb()-c.jb(),h.Fb()+m.jb(),e.On(g.jb(),k.jb(),
n.M())),p.Fb()+q.jb(),u.Fb()-w.jb())},a=>{const d=a.j(0),c=a.j(1).P();return()=>Math.abs(d.Fb()-c())},a=>{const d=a.j(0),c=a.j(1);return()=>b(b("[background=#ffffff88](",d.jb())+" , ",c.jb())+")[/background]"},a=>{const d=a.j(0);return()=>2*d.jb()},a=>{const d=a.j(0),c=a.j(1);return()=>b(b("( ",d.jb())+" , ",c.jb())+" )"},a=>{const d=a.j(0).P();return()=>d(1)},a=>{const d=a.j(0).Z,c=a.j(1).Z,h=a.j(2).Z,m=a.j(3).Z;return()=>d.M()+c.M()*Math.sqrt(-2*Math.log(h.M()))*Math.cos(e.nb(360*m.M()))},a=>{const d=
a.j(0).P(),c=a.j(1).P(),h=a.j(2).P(),m=a.j(3).P(),g=a.j(4).P(),k=a.j(5).P(),n=a.j(6).P(),p=a.j(7);return()=>d(c(h(m(g(k(n(p.jb(),";","\n"),"bluebullet","[color=#0080FF]\u25cf[/color]"),"orangebullet","[color=#FF8000]\u25cf[/color]"),"greybullet","[color=#808090]\u25cf[/color]"),"yellowbullet","[color=#FFE000]\u25cf[/color]"),"pinkbullet","[color=#FF0080]\u25cf[/color]"),"blackbullet","[color=#000000]\u25cf[/color]")},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4).P();return()=>e.ja(e.On(d.Fb()+
c.jb(),h.Fb()-m.jb(),g()),0,1)},a=>{const d=a.j(0),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4).Z;return()=>e.gd(d.Fb()+c.jb(),h.Fb()-m.jb(),g.M())},a=>{const d=a.j(0).P(),c=a.j(1),h=a.j(2),m=a.j(3),g=a.j(4),k=a.j(5);return()=>e.ja(d(),c.Fb()+h.jb(),m.Fb()-g.jb())-k.Fb()},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),0,":")},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),1,":")},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),2,":")},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),4,":")},
a=>{const d=a.j(0).P(),c=a.j(1),h=a.j(2).Z;return()=>d(c.Fb().toString(),h.M(),";")},a=>{const d=a.j(0).Z,c=a.j(1).Z,h=a.j(2).Z,m=a.j(3).Z;return()=>d.M()+":"+c.M()+":"+h.M()+":"+m.M()},a=>{const d=a.j(0).Z,c=a.j(1).Z;return()=>d.M()+" - "+c.M()},a=>{const d=a.j(0).P(),c=a.j(1).Z;return()=>d(c.M(),";")-1},a=>{const d=a.j(0).P(),c=a.j(1).P(),h=a.j(2).Z,m=a.j(3).P();return()=>d(c(h.M(),m(),";"))},a=>{const d=a.j(0).P(),c=a.j(1).Z,h=a.j(2).P();return()=>d(c.M(),h(),";")},()=>"ToggleButton",a=>{const d=
a.j(0).P(),c=a.j(1);return()=>d(c.bq(),";")-1},a=>{const d=a.j(0).P(),c=a.j(1),h=a.j(2).P();return()=>d(c.bq(),h(),";")},a=>{const d=a.j(0).P(),c=a.j(1),h=a.j(2).Z,m=a.j(3).P(),g=a.j(4);return()=>d(c.bq(),(h.M()+1)%m(g.bq(),";"),";")},()=>"Button",a=>{const d=a.j(0);return()=>Math.floor(.875*d.bq())},a=>{const d=a.j(0);return()=>d.bq()},a=>{const d=a.j(0).P(),c=a.j(1).P();return()=>d(Math.floor(c(1E5)),4)},a=>{const d=a.j(0).P(),c=a.j(1).Z,h=a.j(2).P(),m=a.j(3).P();return()=>b(b(d("A","B","C","D",
"E","F","G","H","J","K","L","M","N","P","Q","R","T","U","V","W","X","Y"),c.M()),h(Math.floor(m(100)),2))}]};
