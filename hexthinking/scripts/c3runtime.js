// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function a(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=C*E+k*I;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function b(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function d(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*Q+D*S;f[3]=C*Q+E*S;f[4]=x*W+D*t+I;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*I+V*Q;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*I+ca*Q;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*I+t*Q;f[8]=oa*D+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+D);f[6]=C+I;f[7]=0;f[8]=x+K;f[9]=C-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-C)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+C)/E,f[2]=.25*E);return f}function r(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*I;f[1]=C*t+k*I+D*E-x*K;f[2]=D*t+k*K+x*I-C*E;f[3]=k*t-x*E-C*I-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=C*I+D*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*C+x*
I;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+C*I-t*E;f[5]=C*k+t*D-x*I;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*Q+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*Q+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Cfa(){return qa},cka:Ma,Bfa:"zyx",Oqa:function(f){qa=f},cra:function(f){return f*Mb},rd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},ua:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Nw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Cf:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},GV:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},Cs:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},zU:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},XJ:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},kC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},aK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},im:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},$J:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},oia:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},jm:b,mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},rd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},pK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},qK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Mn:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ua:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Nw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Cf:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},Cs:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-C*I;f[3]=t*I;f[4]=(C*k-D*E)*I;f[5]=(x*E-t*k)*I;return f},XJ:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=C*K+E*t+k;return f},kC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},aK:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},bK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},im:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},$J:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},jm:c,pK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
qK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},rd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Mn:d,sub:c}),Qb=Object.freeze({__proto__:null,create:g,Xda:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ua:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Cf:function(f,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,C,D,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Nw:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},GV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},Cs:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+C*N)*V;f[2]=(I*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-I*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},zU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=C*N-x*k;f[2]=x*I-C*E;f[3]=I*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},XJ:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:m,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*I+Q;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},bK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},kC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},aK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Foa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},Yda:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},Tpa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},lV:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},im:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},$J:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},jm:h,pK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},qK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},rd:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Mn:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ua:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Cf:function(f,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Nw:l,GV:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},Cs:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},zU:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},XJ:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+Q*C+ea*t+k[13];f[14]=I*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=Q*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},zK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},AK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},BK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},bK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},aK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},kC:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Loa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Moa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Noa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Zda:p,Hoa:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*C-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-I*D),t[2]=2*(N*E+Q*D+I*C-K*x));p(f,k,t);return f},bea:q,Yoa:u,Xoa:w,soa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},Ioa:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(C-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Joa:function(f,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,Q=E+E,S=I+I;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},Yda:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},$da:function(f,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},dqa:r,perspective:r,eqa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},cqa:function(f,k,t,x){var C=Math.tan(k.kra*Math.PI/180),D=Math.tan(k.uoa*Math.PI/
180),E=Math.tan(k.Gpa*Math.PI/180);k=Math.tan(k.yqa*Math.PI/180);var I=2/(E+k),K=2/(C+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},aqa:v,Lea:v,bqa:function(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},zea:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(f);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*C+K*D+E*k);f[13]=
-(I*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},Vqa:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},im:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},$J:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},jm:y,pK:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},qK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},rd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Mn:n,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Cf:z,ua:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},jm:F,multiply:H,dm:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},CK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Kw:M,zV:P,wC:R,fV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,Kn:Z,WJ:X,ae:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},dfa:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},bpa:function(f,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return f},boa:function(f,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},JK:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},pfa:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},qfa:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,Q=x*I-C*E;t=2*t[3];f[0]=E+K*t+2*(C*Q-D*N);f[1]=I+N*t+2*(D*K-x*Q);f[2]=k+Q*t+2*(x*N-C*K);return f},zK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},AK:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},BK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},RV:function(f){f[0]=0;f[1]=0;f[2]=0;return f},im:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},rd:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
Mn:H,MU:J,LU:M,yV:P,Fs:G,vC:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Cf:va,ua:ta,set:ya,add:Na,jm:Sa,multiply:Ta,dm:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,CK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Kw:eb,zV:fb,length:Pa,wC:Va,fV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,Kn:Ya,WJ:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*I;f[1]=-(x*t)+
Q*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*I)+N*D-Q*C;return f},ae:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},JK:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},qfa:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=k[3];return f},RV:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},im:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},mj:wb,rd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,Mn:Ta,MU:Ua,LU:eb,yV:fb,Fs:Pa,vC:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,I){kb(f,x,E,I);kb(k,C,D,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Nw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Mqa:xb,Uoa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Soa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,zK:zb,AK:Ab,BK:Bb,coa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,yea:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},dfa:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},Cs:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Ida:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},Goa:Eb,Eoa:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "xzy":f[0]=D*K*Q-E*I*N;f[1]=E*
I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yxz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yzx":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zxy":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zyx":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+C);}return f},im:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Cf:va,ua:ta,set:ya,add:Na,Mn:yb,scale:Wa,Kn:Ya,ae:vb,length:Pa,Fs:Pa,wC:Va,vC:Va,normalize:ib,mj:wb,rd:function(f,k){return.999999<=Math.abs(Ya(f,k))},Cqa:tb,Rqa:ub,Lqa:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Cf:function(f,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},Koa:function(f,k,t,x,C,D,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*f-C*t;I[6]=E*x+C*k-D*f;I[7]=-C*f-D*k-E*t;return I},Zda:Fb,bK:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},kC:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Xda:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},ua:Gb,Nw:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},Woa:ta,Voa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Pqa:ta,Nqa:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},bea:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*I);f[1]=2*(x*k+D*I+C*E-t*K);f[2]=2*(C*k+
D*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*I+C*t-D*K+N;f[5]=E*K+D*I-x*t+Q;f[6]=E*t+x*K-C*I+S;f[7]=-x*I-C*K-D*t+k;return f},zK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+
I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},AK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},BK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},Aqa:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*D-K*C;f[1]=I*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-I*x;f[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*D-K*C;f[5]=I*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-I*x;f[7]=N*t-E*x-I*C-K*D;return f},Bqa:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*I;f[1]=C*N+k*I+D*E-x*K;f[2]=D*N+k*K+x*I-C*E;f[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*I;f[5]=C*N+k*I+D*E-x*K;f[6]=D*N+k*K+x*I-C*E;f[7]=k*N-x*E-C*I-D*K;return f},zqa:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-C*t;f[2]=K*x+N*t+C*I-D*E;f[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*I;f[5]=D*x+k*I+K*E-C*t;f[6]=K*x+k*t+C*I-D*E;f[7]=k*x-C*E-D*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,Mn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},Kn:Ya,ae:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},Cs:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Ida:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Fs:Pa,wC:Va,vC:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-C*Q)/t;f[6]=(N-D*Q)/t;f[7]=(k-E*Q)/t}return f},im:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},rd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Cf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},ua:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},jm:mb,multiply:nb,dm:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},CK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Kw:ob,zV:Qa,length:pb,
wC:qb,fV:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},Kn:function(f,k){return f[0]*k[0]+f[1]*k[1]},WJ:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},ae:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},hra:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},ira:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},pfa:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},JK:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},RV:function(f){f[0]=0;f[1]=0;return f},im:function(f){return"vec2("+f[0]+", "+f[1]+")"},mj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},rd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Fs:pb,sub:mb,Mn:nb,MU:Za,
LU:ob,yV:Qa,vC:qb,forEach:gb});e.nj=Nb;e.Kpa=Ob;e.Lpa=Pb;e.Mpa=Qb;e.fm=Rb;e.jqa=tb;e.kqa=ub;e.pra=gb;e.AC=rb;e.ax=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Tna?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.nj={}));
{"use strict";function e(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function d(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=g(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=g(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(h(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(M),ba.push(M),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(d(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=g(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.hqa={roa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},lqa:w,lpa:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(e(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(e(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},qqa:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},rqa:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},Jpa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Pw=!1;e.kK=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.qg={}}
{"use strict";const e=self.B;e.tN=class{constructor(a){this.Yca=a;this.Ma=new Map;this.h$()}h$(){var a=this.Yca;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.i$(b)}i$(a){if(a)if(a.includes("=")){var b=a.indexOf("="),d=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ma.set(d,a)}else this.Ma.set(a,null)}iy(a){return this.Ma.has(a)}Y(a){a=this.Ma.get(a);return"undefined"===typeof a?null:a}};e.qE=new e.tN(location.search);e.Dia=
new e.tN(location.hash);e.qE.Y("mode")}
{"use strict";const e=self.B,a=navigator.userAgent;let b={xea:/linux|openbsd|freebsd|netbsd/i.test(a),Fda:/CrOS/.test(a),BC:/trident|iemobile|msie|tizen/i.test(a),Roa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),EU:/bb10/i.test(a),Uda:/edge\//i.test(a),IV:/trident/i.test(a),webkit:/webkit/i.test(a),Xea:/safari\//i.test(a),Eda:/chrome\//i.test(a),Gda:/chromium\//i.test(a),Kda:/crosswalk|xwalk/i.test(a),Vpa:/nwjs/i.test(a),rda:/amazonwebappplatform/i.test(a),wfa:/wv\)/.test(a),sda:/android/i.test(a),
Iea:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let d="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.xea,()=>{d="Linux"});u("isChromeOS",b.Fda,()=>{d="Chrome OS"});u("isAndroid",!b.BC&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.BC&&Ub,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.BC&&Vb,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.EU,()=>{d="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.Uda&&!b.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==g&&b.IV,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.Xea&&!b.Iea&&!b.Eda&&!b.Gda&&!b.Qoa&&!b.EU,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.Kda,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.rda,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&b.wfa,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!b.BC&&b.sda,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&b.IV,()=>h="Trident");u("isWebkitFallback","(unknown)"===d&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(d="iOS",c=m,p=n=!1);e.Qc={Fq:d,bja:c,Dc:g,Zfa:m,MC:parseFloat(m),kx:h,VC:l,Oha:n,eE:!n,Pha:p,Kha:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Fha:"Mac OS X"===d||"iOS"===d,Wha:w,Xha:"Linux"===d}}"use strict";
{const e=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function m(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(w),h(w,r,v,!1);throw G;}}function l(w){p(w);let r=e.get(w);r instanceof Promise||(r=n(w),e.set(w,r),r.catch(()=>e.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return d(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=d(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=d(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=d(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=d(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=d(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.i1=u}"use strict";
{const e=self.i1,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.Z=l;b.set(this,new Map)}tu(l){if(!d)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);d=!0;break}}async yS(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async ST(l,n){n=await m(n);b.get(this).set(l,n)}NT(l){b.get(this).delete(l)}YR(){b.get(this).clear()}fT(){return Array.from(b.get(this).keys())}async getItem(l,n){g(n);if(d)return await this.yS(l);let p;try{p=await this.Z.get(l)}catch(q){this.tu(q);if(d)return await this.yS(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(d)await this.ST(l,n);else try{await this.Z.set(l,n)}catch(q){if(this.tu(q),d)await this.ST(l,n);else throw q;}}async removeItem(l,n){g(n);if(d)this.NT(l);else try{await this.Z.delete(l)}catch(p){this.tu(p),d?this.NT(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(d)this.YR();else try{await this.Z.clear()}catch(n){this.tu(n),d?this.YR():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(d)return this.fT();l=[];try{l=await this.Z.keys()}catch(n){this.tu(n);
if(d)return this.fT();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return d?Promise.resolve(!0):this.Z.ready()}VJ(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}
{"use strict";const e=self.B;e.hc={};e.hc.Bna=(()=>{try{if("Safari"===e.Qc.Dc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();e.hc.Fga="undefined"!==typeof HTMLDialogElement;e.hc.nka=!!self.requestIdleCallback;e.hc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Qc.Dc;e.hc.ImageBitmapOptions=!1;if(e.hc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{e.hc.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{e.hc.ImageBitmapOptions=!1})}catch(a){e.hc.ImageBitmapOptions=!1}e.hc.dga=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Qc.Dc);e.hc.Aja=!(!navigator.permissions||!navigator.permissions.query);e.hc.sN="undefined"!==typeof Proxy;e.hc.Hga="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.hc.mx="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.hc.Vga="function"===typeof fetch;e.hc.Cja=!!(self.isSecureContext&&"Opera"!==e.Qc.Dc&&navigator.storage&&navigator.storage.persist);e.hc.Kma=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Qc.Fq)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.hc.bha=fc;e.hc.tha=
"undefined"!==typeof self.ImageDecoder;e.hc.Wia=!!self.showOpenFilePicker;e.hc.Xia=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(e.Ss(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,d){return b.reduce((c,g)=>{0<d&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,d-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.$d||(Array.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.$d||(String.prototype.$d=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+e.Kx())}}
{"use strict";const e=self.B,a=self.qg;e.Am=function(d){return"number"===typeof d};e.wm=function(d){return e.Am(d)&&isFinite(d)};e.Pf=function(d){if(!e.Am(d))throw new TypeError("expected number");};e.CN=function(){};e.Ika=function(d,c,g){if(!e.Am(d)||isNaN(d)||c>d||g<d)throw new RangeError("number outside of range");};e.uka=function(...d){for(let c of d);};e.Ag=function(d){if(!e.wm(d))throw new TypeError("expected finite number");};e.zN=function(){};e.rka=function(...d){for(let c of d);};e.wi=function(d){return"string"===
typeof d};e.Cd=function(d){if(!e.wi(d))throw new TypeError("expected string");};e.EN=function(){};e.wka=function(...d){for(let c of d);};e.MM=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.Vka=function(d){if(!e.MM(d))throw new TypeError("expected simple object");};e.Ska=function(d){if(!e.ge(d)&&!e.MM(d))throw new TypeError("expected simple object");};e.LM=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.xN=function(d){if(!e.LM(d))throw new TypeError("expected object");
};e.DN=function(){};e.vka=function(...d){for(let c of d);};e.WD=function(d){return e.xm(d,Blob)&&"string"===typeof d.name};e.Gka=function(d){if(!e.WD(d))throw new TypeError("expected file");};e.Qka=function(){};e.lo=function(d){return Array.isArray(d)};e.wE=function(d){if(!e.lo(d))throw new TypeError("expected array");};e.yN=function(){};e.qka=function(...d){for(let c of d);};e.J0=function(d){return e.lo(d)?d.length?e.lo(d[0])?!0:!1:!0:!1};e.pka=function(d){if(!e.J0(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.lo(c))throw new TypeError("expected 2d array");};e.Jka=function(){};e.XD=function(d){return"function"===typeof d};e.Oj=function(d,c){if(!e.XD(d))throw new TypeError("expected function");if(!e.ge(c)&&d!==c)throw new TypeError("expected same function reference");};e.AN=function(){};e.ska=function(...d){for(let c of d);};e.yka=function(d,...c){if(!e.XD(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!e.ge(g)&&
d===g)return;throw new TypeError("expected same function reference");};e.Kka=function(...d){if(!e.ge(d))for(let c of d);};e.xm=function(d,c){return d instanceof c};e.JM=function(d,...c){for(let g of c)if(e.xm(d,g))return!0;return!1};e.xE=function(d,c){if(!e.xm(d,c))throw new TypeError("unexpected type");};e.BN=function(){};e.tka=function(d,...c){for(let g of c);};e.zka=function(d,...c){if(!e.JM(d,...c))throw new TypeError("unexpected type");};e.Aka=function(d,...c){if(!e.ge(d)&&!e.JM(d,...c))throw new TypeError("unexpected type");
};e.Gha=function(d,c){for(let g of d)if(!e.xm(g,c))return!1;return!0};e.Hha=function(d){for(let c of d)if(!e.wm(c))return!1;return!0};e.Bka=function(d){for(let c of d);};e.Lka=function(d){if(!e.ge(d))for(let c of d);};e.Cka=function(d){for(let c of d);};e.Mka=function(d){if(!e.ge(d))for(let c of d);};e.Lha=function(d,c){return e.ge(d)||!e.wi(d.nodeName)?!1:!c||e.Ek(d.nodeName,c)};e.Dka=function(d,c){if(e.ge(d)||!e.wi(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.Ek(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.Nka=function(){};e.ZD=function(d,c){return e.ge(d)||!e.wi(d.tagName)?!1:!c||e.Ek(d.tagName,c)};e.Hka=function(d,c){if(e.ge(d)||!e.wi(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.Ek(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.Rka=function(){};e.DM=function(d){return e.ZD(d,"img")||e.ZD(d,"canvas")||e.ZD(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.Eka=function(d){if(!e.DM(d))throw new TypeError("expected drawable");
};e.Oka=function(){};e.EM=function(d){return d instanceof ImageData?!0:e.DM(d)};e.Fka=function(d){if(!e.EM(d))throw new TypeError("expected drawable or image data");};e.Pka=function(d){if(!e.ge(d)&&!e.EM(d))throw new TypeError("expected drawable or image data");};e.d1=function(d){return"string"===typeof d||d instanceof e.MD||d instanceof e.lm};e.Wka=function(d){if(!e.d1(d))throw new TypeError("expected string-like");};e.Tka=function(){};e.xka=function(...d){for(let c of d);};e.Uka=function(){throw Error("must be overridden");
};e.aja=function(){throw Error("not yet implemented");};e.Nha=function(d,...c){if("undefined"===typeof d)return!1;for(let g of c){if("undefined"===typeof d[g])return!1;d=d[g]}return!0};e.ge=function(d){return"undefined"===typeof d||null===d};e.Ofa=function(d){let c=d[0].constructor;for(let g of d)if(g.constructor!==c)return!1;return c};e.Pfa=function(d,c){for(let g of d)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);e.mia=function(d){return e.xm(d,b)};e.Xka=function(){};
e.Ana=function(d){e.s5(d,b)};e.zna=function(d,...c){if(!e.r5(d,...c))throw new TypeError("unexpected type");};e.r5=function(d,...c){for(const g of c)if(e.MO(d,g))return!0;return!1};e.s5=function(d,c){if(!e.MO(d,c))throw new TypeError("unexpected type");};e.MO=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};a.Pf=e.Pf;a.CN=e.CN;a.Ag=e.Ag;a.zN=e.zN;a.Cd=e.Cd;a.EN=e.EN;a.xN=e.xN;a.DN=e.DN;a.wE=e.wE;a.yN=e.yN;a.Oj=e.Oj;a.AN=e.AN;a.xE=e.xE;a.BN=e.BN;a.ge=
e.ge}
{"use strict";const e=self.B,a=new Map;e.dka=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;e.Gma=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,DU:0,PJ:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.DU.toPrecision(3)} :: calls => ${this.PJ}`}})};e.Mga=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.DU=u.total/u.PJ;u.PJ++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Kx=function(){return Error().stack};e.Cga=function(){debugger};e.ioa=function(u,w){return u&&u instanceof w?u:null};e.Fk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.Am(u)?"<number>":e.wi(u)?"<string>":e.lo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.XD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.mC=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let d=new Map,c=new Map,g=new WeakMap,m=new WeakMap;e.mq={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",e.Kx())}e.mq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||l(`Accessed missing property '${w}' from defended object '${e.Fk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&l(`Accessed property '${w}' on a released object '${e.Fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};e.mq.set=function(u,w,r){w in u||d.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${e.Fk(u)}'`);{var v=e.mC(u[w]);
let y=e.mC(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||d.has(u)||l(`Set '${e.mC(u[w])}' property '${w}' to type '${e.mC(r)}' on defended object '${e.Fk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${e.Fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};e.mq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${e.Fk(u)}'`);};e.mq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${e.Fk(u)}'`);};e.mq.woa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.Fk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(w=>e.Fk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.ja=class{constructor(){if(e.kK&&e.hc.sN){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,e.mq);d.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};e.Mda=function(u){if(e.kK&&e.hc.sN&&u instanceof e.ja){if(!c.has(u))return u;let w=c.get(u);c.delete(u);d.delete(w);return u}return e.Pw?Object.seal(u):u};e.m=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),d.clear(),A;}if(e.kK){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);e.Hn(v,[...y]);v.length&&console.warn(`[Defence] '${e.Fk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return e.Mda(r)};e.A=function(u){(u=g.get(u))&&m.set(u,e.Kx())};e.Yy=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let q=new Map;e.zja=class{constructor(u){this.Ka="";u&&this.start(u)}start(u){this.Ka=u;performance.mark(this.Ka+"-Start")}end(){performance.mark(this.Ka+"-End");performance.measure(this.Ka,
this.Ka+"-Start",this.Ka+"-End")}next(u){this.end();this.Ka=u;performance.mark(this.Ka+"-Start")}}}
{"use strict";const e=self.B,a=2*Math.PI,b=Math.PI/180,d=180/Math.PI;e.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};e.Bea=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};e.normalize=function(g,m,h){return(g-m)/(h-m)};e.ia=function(g,m,h){return g<m?m:g>h?h:g};e.se=function(g){g%=a;0>g&&(g+=a);return g};e.rb=function(g){return g*b};e.hh=function(g){return g*d};e.fC=function(g,m,h,l){return Math.hypot(h-g,l-m)};e.eC=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};e.$B=function(g,m,h,l){return Math.atan2(l-m,h-g)};e.cq=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};e.ZB=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>h?0<n*p-l*q?e.se(g+h):e.se(g-h):e.se(m)};e.yf=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};e.NJ=function(g,m,h,l=0){let n=e.cq(g,m);l*=a;return e.yf(m,
g)?e.se(g+(n+l)*h):e.se(g-(n+l)*h)};e.uda=function(g,m,h,l=0){const n=e.cq(g,m);l*=a;return e.yf(m,g)?e.se(g+(n+l)*h):e.se((a-n+l)*h)};e.tda=function(g,m,h,l=0){const n=e.cq(g,m);l*=a;return e.yf(m,g)?e.se((-a+n-l)*h):e.se(g-(n+l)*h)};e.ae=function(g,m,h){return g+h*(m-g)};e.yC=function(g,m,h){return g===m?0:(h-g)/(m-g)};e.Tea=function(g,m,h,l){return e.ae(0,l,e.yC(g,m,h))};e.sC=function(g,m,h,l){return e.ae(e.ae(g,m,l),e.ae(m,h,l),l)};e.KU=function(g,m,h,l,n){return e.ae(e.sC(g,m,h,n),e.sC(m,h,l,
n),n)};e.JU=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};e.Gk=function(g){return 0<g&&0===(g-1&g)};e.gV=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};e.Dqa=function(g,m){return Math.round(g*m)/m};e.Boa=function(g,m){return Math.floor(g*m)/m};e.rV=function(g){return Math.round(1E6*g)/1E6};e.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};e.v2=function(g,m,h){return e.ia(g,0,255)|e.ia(m,
0,255)<<8|e.ia(h,0,255)<<16};e.Cy=function(g,m,h,l){g=e.ia(Math.floor(1024*g),-8192,8191);m=e.ia(Math.floor(1024*m),-8192,8191);h=e.ia(Math.floor(1024*h),-8192,8191);l=e.ia(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};e.nN=function(g,m,h){return e.Cy(g,m,h,1)};e.BD=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};e.tD=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};e.iD=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};e.fZ=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};e.fea=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Toa=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=e.fea(g,m);return[g/h,m/h]};e.Kqa=function(g,m,h,l,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-m+u-l;g=h-g;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-m*w)<=u};e.gm=function(g,m,h,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-m+y-l;g=h-g;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-m*q)<=y};e.tC=function(g,m,h,l,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l),r=n.Fb,v=n.Gb,y=n.rc,A=n.sc,G=n.lc,z=n.mc,F=n.jc;n=n.kc;return e.gm(g,m,h,l,p,q,u,w,r,v,y,A)||e.gm(g,m,h,l,p,q,u,w,y,A,G,z)||e.gm(g,m,h,l,p,q,u,w,G,z,F,n)||e.gm(g,m,h,l,p,q,u,w,F,n,r,v)};e.Jqa=function(g,m,h,l,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(e.gm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.gm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};e.Sea=function(g,m,h,l,n,p,q,u){h-=g;p=u-p;const w=h*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-g)+h*(u-m))/w;return 0<l&&1.000001>l?(p*(q-g)+(n-q)*(u-m))/w:2};e.Xw=function(g,m,h,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return e.Sea(g,m,h,l,n-r,p-w,q+r,u+w)};e.pea=function(g,m,h,l,n,p,q,u){n-=
h;p-=l;q-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};e.tfa=function(g,m,h,l,n,p,q,u){n-=h;p-=l;q-=h;u-=l;g-=h;const w=m-l;m=n*n+p*p;l=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=m*h-l*l;u=(h*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};e.sfa=function(g,m,h,l,n,p,q,u,w){return[g*l+m*p+h*u,g*n+m*q+h*w]}}
{"use strict";const e=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}e.cha=function(){return b};e.jD=function(){if(!a)return"";const l=a.location;return e.f_(l.origin+l.pathname)+b};e.f_=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};e.fha=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};e.DZ=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};e.Qx=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};e.J1=function(l){return l.replace(/\\/g,"/")};e.Sha=function(l,n){return n===(l?e.DZ(l).slice(1):"")};e.Wga=function(l,n){let p,q;e.WD(l)&&(p=e.Qx(l.name));e.wi(l)&&(p=
e.Qx(l));e.WD(n)&&(q=e.Qx(n.name));e.wi(n)&&(q=e.Qx(n));return p===q};e.wja=function(l){l=e.J1(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,$na:u,name:l,root:n,ext:w,Ooa:n+q+u}};e.hF=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};e.Uqa=function(l){try{l()}catch(n){e.Pw&&console.warn("Swallowed exception: ",n)}};e.Spa=function(){};e.Ek=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};e.xoa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};e.ufa=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};e.We=function(l,n){l.length=n};e.F=function(l){l&&0!==l.length&&e.We(l,0)};e.Hda=function(l){if(l){for(let n=0;n<l.length;n++)e.We(l[n],0);e.We(l,0)}};e.iC=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};e.qV=function(l){var n=4;const p=l.length;n<p?e.We(l,n):n>p&&e.iC(l,n,"0")};e.Nc=function(l,n){e.F(l);e.Hn(l,n)};e.Hn=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
e.yda=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];e.We(l,p)}};e.Dk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};e.Xna=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};e.xda=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}e.We(l,q);return p};e.ng=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}e.We(l,q);return p-q};e.mea=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};e.ora=function(l,n){if(!e.mea(l,n))throw new RangeError("array index out of bounds");};e.UJ=function(l){return l.slice()};e.Nda=function(l,n){let p=[];for(let q of l)if(e.LM(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else e.lo(q)?p.push(e.Nda(q,n)):p.push(q);return p};e.joa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};e.Opa=function(l,n){return new Set([...l,...n])};e.Ppa=function(l,n){for(const p of n)l.add(p);return l};e.first=function(l){for(let n of l)return n;return null};e.xor=function(l,n){return!l!==!n};e.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};e.apa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};e.L2=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let d=[];e.Gfa=function(l){d.push(l)};e.eha=function(){let l=0;for(let n of d){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};e.vE=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};e.OW=function(l){g.delete(l)};e.F2=e.vE;e.p5=function(){return new Promise(l=>e.F2(l))};const h=new Set;e.oka=function(l){const n=self.requestAnimationFrame(async p=>{await e.p5();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};e.bga=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const e=self.B;e.SD=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.fE=function(a){return!e.SD(a)};e.X4=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};e.Hx=function(a){return fetch(a,void 0).then(b=>{e.X4(b);return b})};e.Us=function(a){return e.Hx(a).then(b=>b.text())};e.zL=function(a){return e.Hx(a).then(b=>b.json())};e.Lk=function(a){return e.Hx(a).then(b=>b.blob())};e.Ts=function(a){return e.Hx(a).then(b=>
b.arrayBuffer())};e.WY=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>d(g);c.src=a})};e.DW=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};e.SK=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};e.Wfa=function(a){return e.SK(a).then(b=>
JSON.parse(b))};e.EW=async function(a){a=URL.createObjectURL(a);try{const b=await e.WY(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};e.jh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};e.mx=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.ia(d,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,d)):a.convertToBlob?a.convertToBlob({type:b,quality:d}):e.Hk(()=>e.YK(a,b,d))};e.YK=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=e.ia(d,0,1);return e.vX(a.toDataURL(b,d))};e.vX=function(a){a=e.w2(a);return e.BW(a.data,a.Cea)};e.w2=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var d=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];d="base64"===b[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Cea:a,data:d}};e.BW=function(a,b){var d=a.length;let c=d>>2,g=new Uint8Array(d),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(d&=3;d--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};e.sL=function(a,b,d){const c=e.jh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return e.mx(c,b,d)};e.sha=function(a,
b,d){const c=e.jh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.YK(c,b,d)};e.rha=function(a,b,d){if(e.hc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>e.sL(c,b,d));if(e.hc.ImageBitmap)return createImageBitmap(a).then(c=>e.sL(c,b,d));{const c=e.jh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.mx(c,b,d)}};e.jX=function(a,b){a.clear();for(const d of b)a.add(d)};e.Iia=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=
c;return b};e.cja=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};e.eF=function d(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>d(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(b))c[g]=d(m);return c}}return b};e.fD=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(g=>c(g)));if("map"===
d._c3type_)return new Map(d.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(d))g[m]=c(h);return g}}return d};e.IW=function(d){let c="",g=!1;for(const m of d)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};e.zm=function(d){return"object"===typeof d&&"function"===typeof d.next};e.x1=function(d){const c=[];for(let g=0;g<d;++g)c.push(0);return c}}
{"use strict";const e=self.B;e.fb=class{constructor(a,b,d,c){this.Ya=this.Za=this.$a=this.Va=0;a instanceof e.fb?this.set(a):this.On(a||0,b||0,d||0,c||0)}Ks(a,b,d){this.Va=+a;this.$a=+b;this.Za=+d;this.ia()}On(a,b,d,c){this.Va=+a;this.$a=+b;this.Za=+d;this.Ya=+c;this.ia()}set(a){this.Va=a.Va;this.$a=a.$a;this.Za=a.Za;this.Ya=a.Ya;return this}ua(a){return this.set(a)}add(a){this.Va+=a.Va;this.$a+=a.$a;this.Za+=a.Za;this.Ya+=a.Ya;this.ia()}yU(a,b,d){this.Va+=+a;this.$a+=+b;this.Za+=+d;this.Ya+=0;this.ia()}kj(a){this.Va=
a.Va;this.$a=a.$a;this.Za=a.Za}vV(a){this.Va=e.ia(+a,0,1)}bfa(a){this.$a=e.ia(+a,0,1)}Zea(a){this.Za=e.ia(+a,0,1)}Is(a){this.Ya=e.ia(+a,0,1)}clone(){return e.m(e.fb,this.Va,this.$a,this.Za,this.Ya)}toArray(){return[this.Va,this.$a,this.Za,this.Ya]}ih(a,b){a[b++]=this.Va;a[b++]=this.$a;a[b++]=this.Za;a[b]=this.Ya}rd(a){return this.Va===a.Va&&this.$a===a.$a&&this.Za===a.Za&&this.Ya===a.Ya}em(a){return this.Va===a.Va&&this.$a===a.$a&&this.Za===a.Za}hC(a,b,d,c){return this.Va===a&&this.$a===b&&this.Za===
d&&this.Ya===c}multiply(a){this.Va*=a.Va;this.$a*=a.$a;this.Za*=a.Za;this.Ya*=a.Ya}xK(){this.Va*=this.Ya;this.$a*=this.Ya;this.Za*=this.Ya}ia(){this.Va=e.ia(this.Va,0,1);this.$a=e.ia(this.$a,0,1);this.Za=e.ia(this.Za,0,1);this.Ya=e.ia(this.Ya,0,1);return this}Js(a){this.Va=e.BD(a);this.$a=e.tD(a);this.Za=e.iD(a);this.Ya=e.fZ(a)}aea(){return`rgb(${100*(e.wm(void 0)?NaN:this.Va)}%, ${100*(e.wm(void 0)?NaN:this.$a)}%, ${100*(e.wm(void 0)?NaN:this.Za)}%)`}iV(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var d=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.vV(a);isFinite(d)&&this.bfa(d);isFinite(b)&&this.Zea(b);this.Is(1)}}}toJSON(){return[this.Va,this.$a,this.Za,this.Ya]}hm(a){!Array.isArray(a)||3>a.length||(this.Va=a[0],this.$a=a[1],this.Za=a[2],this.Ya=4<=a.length?a[3]:1)}set r(a){this.vV(a)}get r(){return this.Va}set bq(a){this.Is(a)}get bq(){return this.Ya}static $C(a,b){return e.ia(Math.max(a,
b)-Math.min(a,b),0,1)}};e.fb.Fna=Object.freeze(e.m(e.fb,1,1,1,1));e.fb.Vfa=Object.freeze(e.m(e.fb,0,0,0,1));e.fb.ena=Object.freeze(e.m(e.fb,0,0,0,0))}
{"use strict";const e=self.B;e.du=class{constructor(a,b){this.X=this.ga=0;a instanceof e.du?this.ua(a):this.set(a||0,b||0)}set(a,b){this.ga=+a;this.X=+b}ua(a){this.ga=a.ga;this.X=a.X}rd(a){return this.ga===a.ga&&this.X===a.X}toArray(){return[this.ga,this.X]}ih(a,b){a[b++]=this.ga;a[b]=this.X}offset(a,b){this.ga+=+a;this.X+=+b}scale(a,b){this.ga*=a;this.X*=b}dm(a,b){this.ga/=a;this.X/=b}round(){this.ga=Math.round(this.ga);this.X=Math.round(this.X)}floor(){this.ga=Math.floor(this.ga);this.X=Math.floor(this.X)}ceil(){this.ga=
Math.ceil(this.ga);this.X=Math.ceil(this.X)}angle(){return e.$B(0,0,this.ga,this.X)}wea(){return this.ga*this.ga+this.X*this.X}length(){return Math.sqrt(this.wea())}Wea(a,b){const d=this.ga*b-this.X*a;this.X=this.X*b+this.ga*a;this.ga=d}rotate(a){0!==a&&this.Wea(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.ga+=Math.cos(a)*b,this.X+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ga/=a,this.X/=a)}ia(a,b){this.ga=e.ia(this.ga,a,b);this.X=e.ia(this.X,a,b)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(a,b,d,c){this.da=this.la=this.R=this.W=0;a instanceof e.Rect?this.ua(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.W=+a;this.R=+b;this.la=+d;this.da=+c}fi(a,b,d,c){a=+a;b=+b;this.W=a;this.R=b;this.la=a+ +d;this.da=b+ +c}ua(a){this.W=+a.W;this.R=+a.R;this.la=+a.la;this.da=+a.da}clone(){return new e.Rect(this.W,this.R,this.la,this.da)}rd(a){return this.W===a.W&&this.R===a.R&&this.la===a.la&&this.da===a.da}toArray(){return[this.W,this.R,this.la,
this.da]}lfa(){new DOMRect(this.W,this.R,this.width(),this.height())}ih(a,b){a[b++]=this.W;a[b++]=this.R;a[b++]=this.la;a[b]=this.da}yfa(a,b){a[b++]=this.W;a[b++]=this.R;a[b++]=this.la;a[b++]=this.R;a[b++]=this.la;a[b++]=this.da;a[b++]=this.W;a[b]=this.da}width(){return this.la-this.W}height(){return this.da-this.R}Gs(){return(this.W+this.la)/2}Hs(){return(this.R+this.da)/2}offset(a,b){a=+a;b=+b;this.W+=a;this.R+=b;this.la+=a;this.da+=b}offsetLeft(a){this.W+=+a}offsetTop(a){this.R+=+a}Kea(a){this.la+=
+a}Jea(a){this.da+=+a}eK(a,b){a=+a;b=+b;this.W-=a;this.R-=b;this.la+=a;this.da+=b}multiply(a,b){this.W*=a;this.R*=b;this.la*=a;this.da*=b}dm(a,b){this.W/=a;this.R/=b;this.la/=a;this.da/=b}Ln(){this.R=1-this.R;this.da=1-this.da}ifa(){const a=this.W;this.W=this.la;this.la=a}jfa(){const a=this.R;this.R=this.da;this.da=a}round(){this.W=Math.round(this.W);this.R=Math.round(this.R);this.la=Math.round(this.la);this.da=Math.round(this.da)}floor(){this.W=Math.floor(this.W);this.R=Math.floor(this.R);this.la=
Math.floor(this.la);this.da=Math.floor(this.da)}ceil(){this.W=Math.ceil(this.W);this.R=Math.ceil(this.R);this.la=Math.ceil(this.la);this.da=Math.ceil(this.da)}ia(a,b,d,c){this.W<a&&(this.W=+a);this.R<b&&(this.R=+b);this.la>d&&(this.la=+d);this.da>c&&(this.da=+c)}normalize(){this.W>this.la&&this.ifa();this.R>this.da&&this.jfa()}nC(a){return!(a.la<this.W||a.da<this.R||a.W>this.la||a.R>this.da)}lea(a,b,d){return!(a.la+b<this.W||a.da+d<this.R||a.W+b>this.la||a.R+d>this.da)}Af(a,b){return a>=this.W&&a<=
this.la&&b>=this.R&&b<=this.da}}}
{"use strict";const e=self.B;e.Bd=class{constructor(a,b,d,c,g,m,h,l){this.kc=this.jc=this.mc=this.lc=this.sc=this.rc=this.Gb=this.Fb=0;a instanceof e.Bd?this.ua(a):this.set(a||0,b||0,d||0,c||0,g||0,m||0,h||0,l||0)}set(a,b,d,c,g,m,h,l){this.Fb=+a;this.Gb=+b;this.rc=+d;this.sc=+c;this.lc=+g;this.mc=+m;this.jc=+h;this.kc=+l}wV(a,b,d,c){this.set(a,b,d,b,d,c,a,c)}ua(a){this.Fb=a.Fb;this.Gb=a.Gb;this.rc=a.rc;this.sc=a.sc;this.lc=a.lc;this.mc=a.mc;this.jc=a.jc;this.kc=a.kc}rd(a){return this.Fb===a.Fb&&this.Gb===
a.Gb&&this.rc===a.rc&&this.sc===a.sc&&this.lc===a.lc&&this.mc===a.mc&&this.jc===a.jc&&this.kc===a.kc}toArray(){return[this.Fb,this.Gb,this.rc,this.sc,this.lc,this.mc,this.jc,this.kc]}ih(a,b){a[b++]=this.Fb;a[b++]=this.Gb;a[b++]=this.rc;a[b++]=this.sc;a[b++]=this.lc;a[b++]=this.mc;a[b++]=this.jc;a[b]=this.kc}zfa(a,b,d){a[b++]=this.Fb;a[b++]=this.Gb;a[b++]=d;a[b++]=this.rc;a[b++]=this.sc;a[b++]=d;a[b++]=this.lc;a[b++]=this.mc;a[b++]=d;a[b++]=this.jc;a[b++]=this.kc;a[b]=d}offset(a,b){a=+a;b=+b;this.Fb+=
a;this.Gb+=b;this.rc+=a;this.sc+=b;this.lc+=a;this.mc+=b;this.jc+=a;this.kc+=b}round(){this.Fb=Math.round(this.Fb);this.Gb=Math.round(this.Gb);this.rc=Math.round(this.rc);this.sc=Math.round(this.sc);this.lc=Math.round(this.lc);this.mc=Math.round(this.mc);this.jc=Math.round(this.jc);this.kc=Math.round(this.kc)}floor(){this.Fb=Math.floor(this.Fb);this.Gb=Math.floor(this.Gb);this.rc=Math.floor(this.rc);this.sc=Math.floor(this.sc);this.lc=Math.floor(this.lc);this.mc=Math.floor(this.mc);this.jc=Math.floor(this.jc);
this.kc=Math.floor(this.kc)}ceil(){this.Fb=Math.ceil(this.Fb);this.Gb=Math.ceil(this.Gb);this.rc=Math.ceil(this.rc);this.sc=Math.ceil(this.sc);this.lc=Math.ceil(this.lc);this.mc=Math.ceil(this.mc);this.jc=Math.ceil(this.jc);this.kc=Math.ceil(this.kc)}pj(a){this.Fb=a.W;this.Gb=a.R;this.rc=a.la;this.sc=a.R;this.lc=a.la;this.mc=a.da;this.jc=a.W;this.kc=a.da}afa(a,b){0===b?this.pj(a):this.uV(a,Math.sin(b),Math.cos(b))}uV(a,b,d){const c=a.W*b,g=a.R*b,m=a.la*b;b*=a.da;const h=a.W*d,l=a.R*d,n=a.la*d;a=a.da*
d;this.Fb=h-g;this.Gb=l+c;this.rc=n-g;this.sc=l+m;this.lc=n-b;this.mc=a+m;this.jc=h-b;this.kc=a+c}cK(a){a.set(Math.min(this.Fb,this.rc,this.lc,this.jc),Math.min(this.Gb,this.sc,this.mc,this.kc),Math.max(this.Fb,this.rc,this.lc,this.jc),Math.max(this.Gb,this.sc,this.mc,this.kc))}Af(a,b){var d=this.rc-this.Fb,c=this.sc-this.Gb;const g=this.lc-this.Fb,m=this.mc-this.Gb;a-=this.Fb;b-=this.Gb;var h=d*d+c*c;let l=d*g+c*m;c=d*a+c*b;const n=g*g+m*m,p=g*a+m*b;let q=1/(h*n-l*l);d=(n*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=d&&0<h&&1>d+h)return!0;d=this.jc-this.Fb;c=this.kc-this.Gb;h=d*d+c*c;l=d*g+c*m;c=d*a+c*b;q=1/(h*n-l*l);d=(n*c-l*p)*q;h=(h*p-l*c)*q;return 0<=d&&0<h&&1>d+h}Gs(){return(this.Fb+this.rc+this.lc+this.jc)/4}Hs(){return(this.Gb+this.sc+this.mc+this.kc)/4}gK(a){var b=a.Gs(),d=a.Hs();if(this.Af(b,d))return!0;b=this.Gs();d=this.Hs();if(a.Af(b,d))return!0;b=this.Fb;d=this.Gb;const c=this.rc,g=this.sc,m=this.lc,h=this.mc,l=this.jc,n=this.kc;return e.tC(b,d,c,g,a)||e.tC(c,g,m,h,a)||e.tC(m,h,l,n,a)||e.tC(l,
n,b,d,a)}Vea(){const a=this.Fb,b=this.Gb;this.Fb=this.rc;this.Gb=this.sc;this.rc=this.lc;this.sc=this.mc;this.lc=this.jc;this.mc=this.kc;this.jc=a;this.kc=b}}}
{"use strict";const e=self.B,a=[0,0,1,0,1,1,0,1],b=e.m(e.Bd);e.Un=class extends e.ja{constructor(d,c=!0){super();d||(d=a);this.Ld=Float64Array.from(d);this.Lz=new e.Rect;this.up=!0;this.Pg=c}A(){}jV(){return this.Ld.length/2}uC(d){this.Ld.length===d.length?this.Ld.set(d):this.Ld=Float64Array.from(d);this.up=!0}$ea(){this.uC(a)}ua(d){this.uC(d.Ld)}DK(){this.up=!0}kda(){if(this.up){var d=this.Ld,c=d[0],g=d[1],m=c,h=g;for(let l=0,n=d.length;l<n;l+=2){const p=d[l],q=d[l+1];p<c&&(c=p);p>m&&(m=p);q<g&&
(g=q);q>h&&(h=q)}this.Lz.set(c,g,m,h);this.up=!1}}pj(d){let c=this.Ld;8!==c.length&&(this.Ld=c=new Float64Array(8));c[0]=d.W-NaN;c[1]=d.R-NaN;c[2]=d.la-NaN;c[3]=d.R-NaN;c[4]=d.la-NaN;c[5]=d.da-NaN;c[6]=d.W-NaN;c[7]=d.da-NaN;this.Lz.ua(d);this.Lz.offset(NaN,NaN);this.up=!1}EK(d,c,g){b.ua(d);b.offset(c,g);this.uC(b.toArray());this.up=!0}transform(d,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.KK(d,c,m,h)}KK(d,c,g,m){const h=this.Ld;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,q=h[l]*d,
u=h[p]*c;h[l]=q*m-u*g;h[p]=u*m+q*g}this.up=!0}offset(d,c){const g=this.Ld;for(let m=0,h=g.length;m<h;m+=2)g[m]+=d,g[m+1]+=c}Af(d,c){const g=this.Ld;if(d===g[0]&&c===g[1])return!0;this.kda();var m=this.Lz;const h=m.W-110,l=m.R-101,n=m.la+131;m=m.da+120;let p,q,u,w,r,v,y,A;h<d?(p=h,u=d):(p=d,u=h);l<c?(q=l,w=c):(q=c,w=l);n<d?(r=n,y=d):(r=d,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const M=g[H],P=g[H+1],R=g[F];F=g[F+1];e.gm(h,l,d,c,p,u,q,w,M,P,R,F)&&++G;e.gm(n,
m,d,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}Ow(d,c,g){const m=d.Ld,h=this.Ld;if(this.Af(m[0]+c,m[1]+g)||d.Af(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;d=h[n];const q=h[n+1],u=h[l];l=h[l+1];let w,r,v,y;d<u?(w=d,v=u):(w=u,v=d);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.gm(d,q,u,l,w,v,r,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}yg(){return this.Pg}}}
{"use strict";const e=self.B;e.Ht=class extends e.ja{constructor(a){super();this.dk=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}A(){this.xd();this.dk=null}xd(){const a=this.dk;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.dk;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,d)}Y(a,b){return(a=this.dk.get(a))?a.get(b):a}iy(a){return(a=this.dk.get(a))?a.has(void 0):!1}Vn(a,b){const d=this.dk,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}qL(a){const b=this.dk,d=b.get(a);
d&&(d.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}vm(){let a=0;for(const b of this.dk.values())a+=b.size;return a}*values(){for(const a of this.dk.values())yield*a.values()}*entries(){for(const [a,b]of this.dk.entries())for(const [d,c]of b.entries())yield[a,d,c]}}}
{"use strict";const e=self.B;e.JC=class extends e.ja{constructor(){super();this.rn=new Set;this.Jz=[];this.Vv=!1}A(){this.xd()}xd(){this.rn.clear();e.F(this.Jz);this.Vv=!1}Oc(a){this.rn.has(a)||(this.rn.add(a),this.Vv||this.Jz.push(a))}iy(a){return this.rn.has(a)}Vn(a){this.rn.delete(a)&&(this.Vv=!0)}vm(){return this.rn.size}oo(){return 0===this.rn.size}hD(){this.Vv&&(this.p$(),this.Vv=!1);return this.Jz}p$(){const a=this.Jz;e.F(a);for(const b of this.rn)a.push(b)}}}
{"use strict";const e=new Map,a=new Map,b=new Map,d=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Rs=class m{constructor(){}static V0(h){this.oF();return[...a.keys()].includes(h)}static P7(h){const l=g.get(h);if(l)return e.get(l);if(m.V0(h))return e.get(h);if(c.has(h))return c.get(h)}static co(h){this.oF();const l=m.P7(h);return l?l:d.get(h)}static oF(){0===e.size&&(this.Hb("default",()=>{}),this.Hb("noease",this.I1),this.Hb("easeinsine",this.AY),this.Hb("easeoutsine",
this.JY),this.Hb("easeinoutsine",this.wY),this.Hb("easeinelastic",this.kY),this.Hb("easeoutelastic",this.EY),this.Hb("easeinoutelastic",this.rY),this.Hb("easeinback",this.hY),this.Hb("easeoutback",this.BY),this.Hb("easeinoutback",this.mY),this.Hb("easeinbounce",this.tL),this.Hb("easeoutbounce",this.bD),this.Hb("easeinoutbounce",this.nY),this.Hb("easeincubic",this.jY),this.Hb("easeoutcubic",this.DY),this.Hb("easeinoutcubic",this.qY),this.Hb("easeinquad",this.xY),this.Hb("easeoutquad",this.GY),this.Hb("easeinoutquad",
this.tY),this.Hb("easeinquart",this.yY),this.Hb("easeoutquart",this.HY),this.Hb("easeinoutquart",this.uY),this.Hb("easeinquint",this.zY),this.Hb("easeoutquint",this.IY),this.Hb("easeinoutquint",this.vY),this.Hb("easeincirc",this.iY),this.Hb("easeoutcirc",this.CY),this.Hb("easeinoutcirc",this.pY),this.Hb("easeinexpo",this.lY),this.Hb("easeoutexpo",this.FY),this.Hb("easeinoutexpo",this.sY),this.WO("cubicbezier",this.gY),this.WO("spline",this.KY))}static Hb(h,l){m.jF(h,l,"predefined")}static WO(h,l){m.jF(h,
l,"private")}static WV(h,l){this.oF();m.jF(h,l,"custom",void 0)}static jF(h,l,n,p){switch(n){case "predefined":e.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):d.set(h,l);break;case "private":e.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static I1(h,l,n,p){return n*h/p+l}static xY(h,l,n,p){return n*(h/=p)*h+l}static GY(h,l,n,p){return-n*(h/=p)*(h-2)+l}static tY(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static jY(h,
l,n,p){return n*(h/=p)*h*h+l}static DY(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static qY(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static yY(h,l,n,p){return n*(h/=p)*h*h*h+l}static HY(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static uY(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static zY(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static IY(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static vY(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static AY(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static JY(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static wY(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static lY(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static FY(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static sY(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static iY(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static CY(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static pY(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static kY(h,l,n,p){let q=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+l}static EY(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+l}static rY(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+l}static hY(h,l,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+l}static BY(h,l,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static mY(h,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+l:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static tL(h,l,n,p){return n-m.bD(p-h,0,n,p)+l}static bD(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static nY(h,l,n,p){return h<p/2?.5*m.tL(2*h,0,n,p)+l:.5*m.bD(2*h-p,0,n,p)+.5*n+l}static gY(h,l,n,p,q){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(q-l+3*n-3*p)}static KY(h,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-h)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static mZ(h,l,n,p){const q=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+h)*l);return q}}}{"use strict";const e=self.B;e.Xja=class{constructor(){this.cT=[]}A(){this.xd();this.cT=null}xd(){e.Hda(this.cT)}}}"use strict";
self.B.Event=class{constructor(e,a){this.type=e;this.cancelable=!!a;this.nea=this.yK=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.nea)throw Error(`cannot stop async event '${this.type}' propagation`);this.yK=!0}};
{"use strict";const e=self.B;e.Event.y_=class extends e.ja{constructor(a){super();this.ya=a;this.hf=[];this.lr=new Set;this.qf=[];this.Or=new Set;this.jv=0;this.Yr=[]}A(){0<this.jv||(e.F(this.hf),this.lr.clear(),e.F(this.qf),this.Or.clear(),e.F(this.Yr),e.A(this))}UO(a,b){this.mQ()?this.Yr.push({tK:"add",di:a,capture:b}):b?this.lr.has(a)||(this.hf.push(a),this.lr.add(a)):this.Or.has(a)||(this.qf.push(a),this.Or.add(a))}E$(a,b){this.mQ()?this.Yr.push({tK:"remove",di:a,capture:b}):b?this.lr.has(a)&&
(this.lr.delete(a),e.Dk(this.hf,a)):this.Or.has(a)&&(this.Or.delete(a),e.Dk(this.qf,a))}F8(){return!this.hf.length&&!this.qf.length}mQ(){return 0<this.jv}m$(){const a=new Set,b=new Set;for(const d of this.Yr)if("add"===d.tK)this.UO(d.di,d.capture),d.capture?b.delete(d.di):a.delete(d.di);else if("remove"===d.tK)d.capture?(this.lr.delete(d.di),b.add(d.di)):(this.Or.delete(d.di),a.add(d.di));else throw Error("invalid op");e.ng(this.qf,a);e.ng(this.hf,b);e.F(this.Yr)}B7(a){this.dr();let b=!1;for(let d=
0,c=this.hf.length;d<c;++d)if(this.hf[d](a),a.yK){b=!0;break}if(!b)for(let d=0,c=this.qf.length;d<c&&(this.qf[d](a),!a.yK);++d);this.$q();return!a.defaultPrevented}D7(a){this.dr();for(let b=0,d=this.hf.length;b<d;++b)this.hf[b](a);for(let b=0,d=this.qf.length;b<d;++b)this.qf[b](a);this.$q();return!0}dr(){this.jv++}$q(){this.jv--;0===this.jv&&0<this.Yr.length&&this.m$()}Nq(a){a?this.dr():this.$q()}CP(a){const b=[];this.dr();for(let c=0,g=this.hf.length;c<g;++c){var d=this.hf[c](a);d instanceof Promise&&
b.push(d)}for(let c=0,g=this.qf.length;c<g;++c)d=this.qf[c](a),d instanceof Promise&&b.push(d);this.$q();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async y7(a){return await this.CP(a)}async z7(a){this.dr();for(let d=0,c=this.hf.length;d<c;++d){var b=this.hf[d](a);b instanceof Promise&&await b}for(let d=0,c=this.qf.length;d<c;++d)b=this.qf[d](a),b instanceof Promise&&await b;this.$q();return!a.defaultPrevented}*A7(a){this.dr();for(let d=0,c=this.hf.length;d<c;++d){var b=
this.hf[d](a);e.zm(b)&&(yield*b)}for(let d=0,c=this.qf.length;d<c;++d)b=this.qf[d](a),e.zm(b)&&(yield*b);this.$q()}}}
{"use strict";const e=self.B;e.Event.Wb=class extends e.ja{constructor(){super();this.ip=new Map;this.eH=!1}A(){if(this.eH)throw Error("already released");this.TW();this.eH=!0;e.A(this)}Yy(){return this.eH}TW(){for(let a of this.ip.values())a.A();this.ip.clear()}Oo(a,b){let d=this.ip.get(a);return d?d:b?(d=e.m(e.Event.y_,a),this.ip.set(a,d),d):null}ID(a){return this.ip.has(a)}addEventListener(a,b,d){this.Oo(a,!0).UO(b,!!d)}removeEventListener(a,b,d){let c=this.Oo(a,!1);c&&(c.E$(b,!!d),c.F8()&&this.ip.delete(a))}dispatchEvent(a){const b=
this.Oo(a.type,!1);return b?a.cancelable?b.B7(a):b.D7(a):!0}async YJ(a){const b=this.Oo(a.type,!1);return b?await b.y7(a):!0}Sda(a){const b=this.Oo(a.type,!1);return b?b.CP(a):!0}async Rda(a){const b=this.Oo(a.type,!1);b&&await b.z7(a)}Tda(a){const b=this.Oo(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.A7(a)}Nq(a){for(const b of this.ip.values())b.Nq(a)}}}
{"use strict";const e=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],d=-1,c=0;function g(n){d=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(b.length){var p=performance.now(),q=0;do{h(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===d&&b.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.di()}catch(q){n.reject(q);return}n.resolve(p)}let l=e.qE.iy("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.Hk=function(n){let p=null;e.Pw&&(p=e.Kx());return new Promise((q,u)=>{b.push({di:n,resolve:q,reject:u,stack:p});l?h(b.pop()):-1===d&&g(16)})};e.Hk.$N=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let a=-1;function b(){a=-1}e.Gx=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let d=-1,c=-1,g=new Set;function m(){c=d=-1;let h=Date.now();for(let l of g)if(l.e6(h)){let n=l.ep;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(d=self.setTimeout(m,Math.max(c-h+100,1E3)))}e.a0=class{constructor(h,l){this.kr=h;this.MB=1E3*l;this.ep=0;this.Kb=!1}jd(){let h=e.Gx();this.ep=h+this.MB;this.Kb||(g.add(this),this.Kb=!0);-1===d?(c=this.ep,d=self.setTimeout(m,this.MB+
100)):this.ep<c&&c>h+1E3&&(self.clearTimeout(d),c=this.ep,d=self.setTimeout(m,this.MB+100))}e6(h){return h>=this.ep?this.kr()?(this.ep=h+this.MB,!0):this.Kb=!1:!0}NW(){this.Kb&&(g.delete(this),this.Kb=!1,0===g.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}A(){this.NW();this.kr=null}}}
{"use strict";const e=self.B;e.lh=class a{constructor(b){this.Br=!1;this.fH=b}Cx(){this.Br||(this.Br=!0,this.fH&&(this.fH(),this.fH=null))}A(){this.Cx()}static A(b){return new a(()=>b.A())}static nm(b,d,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.TC;for(let h of d)b.addEventListener(h,c,g),m.Oc(e.m(e.lh,()=>b.removeEventListener(h,c,g)));return m}b.addEventListener(d,
c,g);return e.m(e.lh,()=>b.removeEventListener(d,c,g))}};e.Sma=class extends e.lh{};e.TC=class extends e.lh{constructor(...a){super();this.ie=new Set;for(let b of a)this.Oc(b)}Oc(...a){if(this.Br)throw Error("already disposed");for(let b of a)this.ie.add(b)}vh(a){if(this.Br)throw Error("already disposed");this.ie.delete(a)}Cx(){if(this.Br)throw Error("already disposed");this.Br=!0;for(let a of this.ie)a.Cx();this.ie.clear();this.ie=null}A(){this.Cx()}}}
{"use strict";const e=self.B;e.wy=class extends e.ja{constructor(){super();this.hs=this.pw=this.X=this.Oz=0}Oc(a){this.X=+a-this.Oz;this.pw=this.hs+this.X;this.Oz=this.pw-this.hs-this.X;this.hs=this.pw}Y(){return this.hs}jd(){this.hs=this.pw=this.X=this.Oz=0}Set(a){this.pw=this.X=this.Oz=0;this.hs=+a}A(){}}}
{"use strict";const e=self.B,a={sE:function(b){this.HV=b;this.left=this.right=this.HV.qb;this.parent=null;this.color=!1;this.key=null},vo:function(b){this.size=0;this.qb=new a.sE(this);this.qb.color=!1;this.root=this.qb;this.root.parent=this.qb;this.compare=b||this.Oda}};xa=a.vo.prototype;xa.Oda=function(b,d){return b<d?-1:d<b?1:0};xa.clone=function(){var b=new a.vo(this.compare);b.iea(this);return b};xa.clear=function(){this.size=0;this.qb=new a.sE(this);this.qb.color=!1;this.root=this.qb;this.root.parent=
this.qb};xa.Rw=function(b){var d=b.right;b.right=d.left;d.left!=this.qb&&(d.left.parent=b);d.parent=b.parent;b.parent==this.qb?this.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d};xa.Yw=function(b){var d=b.left;b.left=d.right;d.right!=this.qb&&(d.right.parent=b);d.parent=b.parent;b.parent==this.qb?this.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d};xa.As=function(b){if(this.contains(b))this.Mw(b).key=b;else{var d=new a.sE(this);d.key=
b;b=this.qb;for(var c=this.root;c!=this.qb;)b=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=b;b==this.qb?this.root=d:0>this.compare(d.key,b.key)?b.left=d:b.right=d;d.left=this.qb;d.right=this.qb;d.color=!0;this.jea(d);this.size++}};xa.jea=function(b){for(;b!=this.qb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var d=b.parent.parent.right;1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Rw(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.qb&&this.Yw(b.parent.parent))}else d=b.parent.parent.left,1==d.color?(b.parent.color=!1,d.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Yw(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.qb&&this.Rw(b.parent.parent));this.root.color=!1};xa.Qda=function(b){var d=b.left==this.qb||b.right==this.qb?b:this.Pn(b);var c=d.left!=this.qb?d.left:d.right;c.parent=d.parent;d.parent==
this.qb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);0==d.color&&this.Pda(c);this.size--};xa.Pda=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var d=b.parent.right;1==d.color&&(d.color=!1,b.parent.color=!0,this.Rw(b.parent),d=b.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.Yw(d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,this.Rw(b.parent),
b=this.root)}else d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,this.Yw(b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Rw(d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,this.Yw(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.Mw(b);if(b!=this.qb){var d=b.key;this.Qda(b);return d}return null};xa.min=function(b){for(;b.left!=this.qb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.qb;)b=b.right;return b};xa.Pn=function(b){if(b.right!=this.qb)return this.min(b.right);for(var d=b.parent;d!=this.qb&&b==d.right;)b=d,d=d.parent;return d};xa.Mw=function(b){for(var d=this.root;d!=this.qb&&0!=this.compare(d.key,b);)d=0>this.compare(b,d.key)?d.left:d.right;return d};xa.contains=function(b){return null!=this.Mw(b).key};xa.dK=function(){var b=[];this.forEach(function(d){b.push(d)});return b};xa.iea=function(b){if("array"==a.LK(b))for(var d=0;d<b.length;d++)this.As(b[d]);
else if("function"==a.LK(b.forEach))b.forEach(this.As,this);else if("function"==a.LK(b.dK))for(b=b.dK(),d=0;d<b.length;d++)this.As(b[d]);else if("object"==a.LK(b))for(d in b)this.As(b[d])};xa.range=function(b,d){var c=[];this.rfa(function(g){c.push(g)},b,d);return c};xa.rfa=function(b,d,c){if(!this.Ds())for(d=this.Mw(d),c=this.Mw(c);d!=c&&!b.call(void 0,d.key,this);)d=this.Pn(d)};xa.forEach=function(b,d){if(!this.Ds())for(var c=this.min(this.root);c!=this.qb;c=this.Pn(c))b.call(d,c.key,c.key,this)};
xa.some=function(b,d){if(this.Ds())return!1;for(var c=this.min(this.root);c!=this.qb;c=this.Pn(c))if(b.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(b,d){if(this.Ds())return!1;for(var c=this.min(this.root);c!=this.qb;c=this.Pn(c))if(!b.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(b,d){var c=[];if(this.Ds())return c;for(var g=this.min(this.root);g!=this.qb;g=this.Pn(g))c.push(b.call(d,g.key,g.key,this));return c};xa.filter=function(b,d){var c=[];if(this.Ds())return c;
for(var g=this.min(this.root);g!=this.qb;g=this.Pn(g))b.call(d,g.key,g.key,this)&&c.push(g.key);return c};xa.Ds=function(){return 0==this.size};e.vo=class extends e.ja{constructor(b){super();this.Xg=new a.vo(b);this.Er=!1;this.Np=new Set;this.Op=new Set}Oc(b){this.Er?this.Xg.contains(b)?this.Op.delete(b):this.Np.add(b):this.Xg.As(b)}vh(b){this.Er?this.Xg.contains(b)?this.Op.add(b):this.Np.delete(b):this.Xg.remove(b)}iy(b){return this.Er?this.Np.has(b)?!0:!this.Op.has(b)&&this.Xg.contains(b):this.Xg.contains(b)}xd(){this.Xg.clear();
this.Np.clear();this.Op.clear()}toArray(){if(this.Er)throw Error("cannot be used in queueing mode");return this.Xg.dK()}vm(){return this.Xg.size+this.Np.size-this.Op.size}oo(){return 0===this.vm()}wh(b){b=!!b;if(this.Er!==b&&(this.Er=b,!b)){for(const d of this.Op)this.Xg.remove(d);this.Op.clear();for(const d of this.Np)this.Xg.As(d);this.Np.clear()}}CL(b){this.Xg.forEach(b)}*values(){if(!this.oo()){var b=this.Xg;for(let d=b.min(b.root);d!=b.qb;d=b.Pn(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.pN=class{constructor(a=e.hardwareConcurrency){this.Lca=a;this.UI=[];this.tG=0}Oc(a){return new Promise((b,d)=>{this.UI.push({di:a,resolve:b,reject:d});this.xQ()})}async xQ(){if(this.UI.length&&!(this.tG>=this.Lca)){this.tG++;var a=this.UI.shift();try{const b=await a.di();a.resolve(b)}catch(b){a.reject(b)}this.tG--;this.xQ()}}}}
{"use strict";const e=self.B;e.V2=class{constructor(a,b,d){this.kr=a;this.wca=b;this.xca=d||2*b;this.os=-1;this.TA=-Infinity;this.iU=()=>this.c$();this.cca=this.GH=!1;this.Su=null}U7(){return"undefined"!==typeof e.zW&&e.zW.cia()?this.xca:this.wca}MW(){var a=[];if(-1===this.os){this.Su=a;a=e.Gx();var b=a-this.TA,d=this.U7();b>=d&&this.cca?(this.TA=a,this.YQ()):this.os=self.setTimeout(this.iU,Math.max(d-b,4))}}YQ(){this.GH=!0;const a=this.Su;this.Su=null;a?this.kr(...a):this.kr();this.GH=!1}jd(){this.GH||
(this.dP(),this.Su=null,this.TA=e.Gx())}c$(){this.os=-1;this.TA=e.Gx();this.YQ()}dP(){-1!==this.os&&(self.clearTimeout(this.os),this.os=-1)}A(){this.dP();this.iU=this.Su=this.kr=null}}}"use strict";function hc(e,a){if(!e.xS)throw Error("no get base size callback set");return e.xS(a)}self.B.jla=class{constructor(){this.tca=new Map;this.KT=this.MT=this.xS=null}Fy(){if(!this.KT)throw Error("no redraw callback set");this.KT()}};"use strict";
self.B.ila=class{constructor(e,a){this.Ug=e;this.jca=a;this.Kc=0;hc(this.Ug,a).then(()=>{this.Ug.Fy()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Ug.Fy()});this.VI=null}A(){if(0>=this.Kc)throw Error("already released");this.Kc--;0===this.Kc&&this.xu()}xu(){if(this.VI){var e=this.Ug;if(!e.MT)throw Error("no release result callback set");e.MT(this.VI);this.VI=null}this.Ug.tca.delete(this.jca);this.Ug=null}};
{"use strict";const e=self.B;e.jna="\ufeff";const a=new Set([..."0123456789"]);e.W0=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.vy=function(n){return b.has(n)};e.Xga=function(n){return[...n].filter(p=>!e.vy(p)).join("")};e.hE=function(n){for(const p of n)if(!e.vy(p))return!1;return!0};e.g1=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.YY=function(n){return[...n].filter(p=>
!e.g1(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.lia=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.g3=function(n){let p=n.length;for(;0<p&&e.W0(n.charAt(p-1));)--p;return n.substr(0,p)};e.zha=function(n){let p=e.g3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;e.PY=function(n){return n.replace(m,g)};e.Nga=function(n){n=e.Ai(n,"\\","\\\\");n=e.Ai(n,'"','\\"');n=e.Ai(n,"\t","\\t");n=e.Ai(n,"\r","");return e.Ai(n,"\n","\\n")};e.Oga=function(n){n=e.Ai(n,"&","&amp;");n=e.Ai(n,"<","&lt;");n=e.Ai(n,">","&gt;");return e.Ai(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Ss=function(n){return n.replace(h,"\\$&")};e.Yga=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};e.Ai=function(n,p,q){return n.replaceAll(p,()=>q)};e.lka=function(n,p,q){return n.replace(new RegExp(e.Ss(p),"gi"),()=>q)};e.Ela=function(n,p){"string"===typeof p?n.textContent=p:p.YS?n.textContent=p.toString():(n.innerHTML=p.IK(),p instanceof e.lm&&p.zda(n))};e.Nma=function(n,p){return n instanceof e.MD||n instanceof e.lm?n.rd(p):p instanceof e.MD||p instanceof e.lm?p.rd(n):n===p};e.Oma=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};e.Pma=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.Qma=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.Ama=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.$ga=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.npa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={wda:!1,Lda:!0,hea:!0,Dea:!0,sV:!0};e.aha=function(n,p){p=Object.assign({},
l,p);e.j1.aka("common.time");const q=[],u=self.lang,w=self.mpa;if(p.Lda){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.hea&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Dea&&(r=Math.floor(n/60),0<r||q.length||!p.sV)&&(n-=60*r,q.push(w(".minutes",null,r)));p.sV&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.wda?u(".approx-prefix"):"")+q.join(u(".separator"));e.j1.Vja();return n};e.Pna=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.Rma=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.pga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.qV(n);e.qV(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.zga=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.Lma=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.Mma=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const e=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;e.lm=class{constructor(l,n){this.Dh=n&&n.Hea?l:e.PY(l);this.FH="";this.ZR=!1;this.Nv=[];if(n&&(this.ZR=!!n.loa,n.links)){if(9<n.links.length)throw Error("too many links");this.Nv=n.links}this.CS=this.Dh.includes("[");this.zT=this.ZR&&this.Dh.includes("\n");this.YS=!this.CS&&!this.zT&&!this.Dh.includes("&");this.GS=!1;this.lv=[]}toString(){return this.Dh}valueOf(){return this.Dh}IK(){if(this.YS)return this.Dh;if(!this.FH&&this.Dh){let l=this.Dh;
this.CS&&(g=0,c=this.Nv,l=l.replace(b,m),c=null);this.zT&&(l=l.replace(h,"<br>"));this.FH=l}return this.FH}zda(l){if(this.Nv.length)for(let n=0,p=this.Nv.length;n<p;++n){const q=this.Nv[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}rd(l){return l instanceof e.MD?this.IK()===l.IK():l instanceof e.lm?this.Dh===l.Dh:this.Dh===l}mfa(){if(this.GS)return this.lv;const l=this.Dh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.lv.push({text:v,sd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,ei:u})}p<l.length&&this.lv.push({text:l.substring(p),sd:n.slice(0)});for(const v of this.lv)v.text=
this.l$(v.text);this.GS=!0;return this.lv}l$(l){l=e.Ai(l,"\\[","[");return e.Ai(l,"\\\\","\\")}static zO(l){return l.replace(d,"")}}}
{"use strict";const e=self.B;e.iF=class{constructor(){this.cn=[]}zQ(a,b){let d=0,c=0,g=0,m=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.sd),l.width=a.width,l.height=a.height,l.og=a.og||0,l.Bf=a.Bf||0,l.Ef=a.Ef||0),d+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.og),m=Math.max(m,l.Bf),h=Math.max(h,l.Ef);return{width:d,height:c,og:g,Bf:m,Ef:h}}$y(a,b,d,c,g,m){this.cn.push({QU:a,width:b,height:d,og:c,Bf:g,Ef:m})}iF(a,b,d,c,g){"string"===typeof a&&(a=[{text:a,sd:[]}]);e.F(this.cn);if(!(!a.length||
1===a.length&&!a[0].text.length||2>d)){if(1===a.length){var m=a[0];const h=m.text;m=m.sd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,og:p,Bf:q,Ef:u}=b(h,m);l+=g;p=p||0;q=q||0;u=u||0;if(l<=d){this.$y([{text:h,sd:m,width:l,height:n,og:p,Bf:q,Ef:u}],l,n,p,q,u);return}}}if("word"===c)c=this.qba(a);else{c=[];for(const h of a)e.Hn(c,[...h.text].map(l=>[{text:l,sd:h.sd}]))}this.Jba(c,b,d,g)}}qba(a){const b=[];let d=[],c=!1;for(const m of a){var g=m.text;a=m.sd;for(const h of g)"\n"===h?(0<
d.length&&b.push(d),b.push([{text:"\n",sd:a}]),d=[]):0===d.length?(d.push({text:h,sd:a}),c=e.vy(h)):(g=e.vy(h),g===c?(g=d.$d(-1),g.sd===a?g.text+=h:d.push({text:h,sd:a})):(b.push(d),d=[],d.push({text:h,sd:a}),c=g))}0<d.length&&b.push(d);return b}h6(a){return a.map(b=>({text:b.text,sd:b.sd,width:b.width,height:b.height,og:b.og,Bf:b.Bf,Ef:b.Ef}))}ZO(a,b){var d=a.length?a.$d(-1):null;let c=0;d&&b[0].sd===d.sd&&(d.text+=b[0].text,d.width=-1,d.height=-1,d.og=-1,d.Bf=-1,d.Ef=-1,c=1);for(d=b.length;c<d;++c){const g=
b[c];a.push({text:g.text,sd:g.sd,width:-1,height:-1,og:-1,Bf:-1,Ef:-1})}}Jba(a,b,d,c){let g=[],m=0,h=0,l=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===h&&(p=b(" ",q[0].sd),h=p.height,l=p.og||0,n=p.Bf||0,p=p.Ef||0);this.$y(g,m,h,l,n,p);g=[];p=n=l=h=m=0;continue}a=this.h6(g);this.ZO(a,q);const u=this.zQ(a,b),w=u.width;w>=d?(0<g.length&&this.$y(g,m,h,l,n,p),g=[],e.hE(q[0].text)?p=n=l=h=m=0:(this.ZO(g,q),p=this.zQ(g,b),m=p.width,h=p.height,l=p.og,n=p.Bf,p=p.Ef)):(g=a,m=w,h=u.height,
l=u.og,n=u.Bf,p=u.Ef)}0<g.length&&this.$y(g,m,h,l,n,p);this.tba(b,c)}tba(a,b){for(const c of this.cn){const g=c.QU;if(!g.length)continue;let m=g.$d(-1);var d=m.text;const h=d.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<d.length){d=a(h,m.sd).width;const l=m.width-d;m.width=d;m.text=h;c.width-=l}0!==b&&0<g.length&&(m=g.$d(-1),m.width+=b,c.width+=b)}}xd(){e.F(this.cn)}ZZ(){return this.cn.reduce((a,b)=>Math.max(a,b.width),0)}s_(){return this.cn.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const e=self.B,a=self.nj,b=a.AC,d=a.ax,c=a.fm,g=b.create(),m=b.create(),h=b.create(),l=d.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=d.Cf(0,0,1,1);e.J={K2(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},Uj(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Cs(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;d.JK(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},g5(J,M,P,R,T,Z,X){if(!e.J.Uj(J,M,0,R,T,Z,g)||!e.J.Uj(J,M,1,R,T,Z,m))return!1;b.jm(m,m,g);b.set(h,0,0,1);J=-P;M=b.Kn(h,m);P=0;if(0===M){if(0!==
b.Kn(h,g)+J)return!1}else if(P=-(b.Kn(g,h)+J)/M,0>P)return!1;b.CK(X,g,m,P);return!0}};function z(J,M,P,R){b.jm(g,P,M);b.jm(m,J,M);b.WJ(h,g,m);b.normalize(h,h);R.set(h[0],h[1],h[2],b.Kn(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.OV,Na=X.PV;X=X.QV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.QV=this.PV=this.OV=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.OV=0<J?1:0;this.PV=0<M?1:0;this.QV=0<P?1:0}}e.J.o5=class{constructor(){this.oT=new H;this.jU=new H;this.PT=new H;this.SR=new H;this.FI=new H;this.pS=new H}KW(J,M){e.J.Uj(0,1,0,J,M,G,p);e.J.Uj(1,1,0,J,M,G,q);e.J.Uj(0,0,0,J,M,G,u);e.J.Uj(1,0,0,J,M,G,w);e.J.Uj(0,1,1,J,M,G,r);e.J.Uj(1,1,1,J,M,G,v);e.J.Uj(0,0,1,J,M,G,y);e.J.Uj(1,0,1,J,M,G,A);z(u,p,r,this.oT);z(p,q,v,this.jU);z(q,w,A,this.PT);z(w,u,y,this.SR);z(y,r,v,this.pS);z(w,q,p,this.FI)}hX(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.oT)&&F(J,M,P,R,T,Z,this.jU)&&F(J,M,P,R,T,Z,this.PT)&&F(J,M,P,R,T,Z,this.SR)&&F(J,M,P,R,T,Z,this.FI)&&F(J,M,P,R,T,Z,this.pS)}M0(J,M,P){var R=this.FI;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.B,a=self.nj,b=a.AC,d=a.ax,c=a.fm,g=c.create(),m=b.Cf(0,0,0),h=b.Cf(0,0,0),l=b.Cf(0,0,0),n=b.Cf(0,1,0);d.Cf(0,0,0,0);new e.Bd;new e.Rect;const p=new e.Bd(0,0,1,0,1,1,0,1);e.J.j3=class{constructor(){this.T=this.V=0;this.sS=e.rb(45);this.qJ=Math.tan(this.sS/2);this.dB=c.create();this.yI=c.create();this.Wo=[];this.zB=new Map;this.fJ=this.DB=this.EB=null;this.mw=new Map;this.Qi=null;this.LG=[];this.yT=new Map;this.av=this.Lu=0;this.Hca=this.Ica=1;this.tI=.5;this.Jh=0;this.Dr=
!0;this.EH=!1}XY(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}gP(){this.av=this.Lu=0;this.fJ=this.DB=this.EB=null;this.f6()}ny(){this.gP();this.Qi=null}a2(){for(const q of this.Wo)q.A();this.gP()}fa(){return this.V}ea(){return this.T}jq(q,u,w=.5,r=.5){var v=this.sS;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.qJ,u*=v,c.$da(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}JW(q,u,w){const r=self.devicePixelRatio,v=200*r*this.qJ/w;u=u*v/
(2*r);w=w*v/(2*r);c.Lea(q,-u,u,-w,w,1,1E4)}VK(q,u,w,r,v=this.ea()){v=200*self.devicePixelRatio*this.qJ/v;b.set(l,v,-v,1);b.multiply(m,u,l);b.multiply(h,w,l);c.zea(q,m,h,r||n);c.scale(q,q,l)}Qs(q,u,w,r,v,y){b.set(m,q,u,w);b.set(h,r,v,0);this.VK(g,m,h,n,y);return g}N5(q){this.Wo.push(q);this.zB.set(q.Ca(),q)}G$(q){const u=this.Wo.indexOf(q);-1!==u&&this.Wo.splice(u,1);this.zB.delete(q.Ca())}f6(){e.F(this.Wo);this.zB.clear()}iM(q){return this.zB.get(q)||null}Sj(){this.Uq(this.EB)}SN(){this.Uq(this.fJ)}Baa(q){this.Qi=
q}TV(q,u,w,r){const v=e.J.bF.VM(q,u,w,r);let y=this.mw.get(v);y||(y=e.m(e.J.bF,this,q,u,w,r),this.mw.set(v,y));y.gW();return y}vN(q){q.CX();0===q.Kc&&(this.Qi===q&&(this.Qi=null),this.mw.delete(q.SZ()),q.A())}q8(q){e.F(this.LG);this.yT.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.LG.push([r,v]);this.yT.set(q,{Upa:u,Sqa:r,toa:v});u++}}N7(q){return this.LG[q]}Mq(q){this.Lu=q}Qt(q){this.av=q;this.Qi=null}zy(q,u,w,r,v,y){var A=this.tI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=
2*v;this.Dy(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}yy(q,u,w,r,v,y){const A=this.tI;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.Dy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}xy(q,u,w,r,v,y){const A=this.tI;q+=A;u+=A;w+=A;r+=A;this.Dy(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}m1(q,u,w,r){const v=.5*this.Ica,y=this.Hca;2===y?this.M8(q,u,w,r,v):1===y?this.L8(q,u,w,r,v):this.K8(q,u,w,r,v)}M8(q,u,w,r,v){this.zy(q,u,w,u,0,v);this.zy(w,u,w,r,v,0);this.zy(w,r,q,r,0,-v);this.zy(q,r,q,u,-v,0)}L8(q,u,w,
r,v){this.yy(q,u,w,u,0,v);this.yy(w,u,w,r,v,0);this.yy(w,r,q,r,0,-v);this.yy(q,r,q,u,-v,0)}K8(q,u,w,r,v){this.xy(q,u,w,u,0,v);this.xy(w,u,w,r,v,0);this.xy(w,r,q,r,0,-v);this.xy(q,r,q,u,-v,0)}PM(q){this.m1(q.W,q.R,q.la,q.da)}Vs(){this.sj();this.Jh++}d0(){this.Jh++}ME(q){this.Dr=!!q}g4(q){this.EH=!!q}Zk(){return!1}}}"use strict";
self.B.J.M4=class{constructor(e,a,b){this.Ka=a;this.xa=e;this.mS=b.Vda||0;this.nS=b.Wda||0;this.$R=!!b.Jda;this.Nca=!!b.Fea;this.Xr=!!b.Nea;this.Qba=!!b.vda;this.MG=!!b.Ada;this.RB=!!b.vfa;this.pU=!1}A(){this.xa=null}pb(){return this.xa}Ca(){return this.Ka}Eq(){return this.Nca}};
{"use strict";const e=self.B;e.J.bF=class{constructor(a,b,d,c,g){this.xa=a;this.Kc=0;this.cd=null;this.fw="";this.Mg=d;this.ib=e.m(e.fb);this.ib.set(c);this.ed=g;"string"===typeof b?this.fw=b:(this.cd=b,this.fw=this.cd.Ca())}A(){if(0<this.Kc)throw Error("releasing state group still in use");this.cd=this.xa=null;this.fw=""}oW(){const a=this.xa;a.Uq(this.cd);a.Qf(this.Mg);a.Em(this.ib);a.Qt(this.ed);a.Baa(this)}SZ(){return e.J.bF.VM(this.fw,this.Mg,this.ib,this.ed)}gW(){++this.Kc}CX(){--this.Kc}$k(){this.cd=
null}mE(a){this.cd=a.iM(this.fw);if(!this.cd)throw Error("failed to restore shader program");}static VM(a,b,d,c){return("string"===typeof a?a:a.Ca())+","+b+","+d.Va+","+d.$a+","+d.Za+","+d.Ya+","+c}}}
{"use strict";const e=self.B,a=e.m(e.Bd);function b(d,c,g){const m=g.Fb,h=g.Gb;return[m+(g.rc-m)*d+(g.jc-m)*c,h+(g.sc-h)*d+(g.kc-h)*c]}e.J.D1=class{constructor(d){this.CI=d;this.fh=this.dh=this.ed=this.X=this.ga=0}Jg(d,c,g,m){this.ga=d;this.X=c;this.dh=g;this.fh=m}qa(){return this.ga}Fg(d){this.ga!==d&&(this.ga=d,this.CI.gG())}ra(){return this.X}yh(d){this.X!==d&&(this.X=d,this.CI.gG())}hb(){return this.ed}ff(d){this.ed!==d&&(this.ed=Math.max(d,0),this.CI.gG())}TE(d){this.dh=d}UE(d){this.fh=d}D8(d,
c,g){[this.ga,this.X]=b(d.ga,d.X,c);this.ed=d.ed;this.dh=e.ae(g.W,g.la,d.dh);this.fh=e.ae(g.R,g.da,d.fh)}C8(d,c,g){[this.ga,this.X]=b(d.ga,d.X,c);this.ed=d.ed;[this.dh,this.fh]=b(d.dh,d.fh,g)}td(){return{x:this.qa(),y:this.ra(),z:this.hb(),u:this.dh,v:this.fh}}hd(d){this.Fg(d.x);this.yh(d.y);d.hasOwnProperty("z")&&this.ff(d.z);this.TE(d.u);this.UE(d.v)}};e.J.XM=class{constructor(d,c,g){if(2>d||2>c)throw Error("invalid mesh size");this.ek=d;this.vk=c;this.ac=g||null;this.nn=[];this.wT=this.vT=0;this.sT=
this.rT=1;this.tT=0;this.OI=!1;g=d-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<d;++n){const p=e.m(e.J.D1,this,n,h),q=n/g,u=h/m;p.Jg(q,u,q,u);l.push(p)}this.nn.push(l)}}A(){e.F(this.nn)}gG(){this.OI=!0}qu(){if(this.OI){var d=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.nn)for(const n of l){const p=n.qa(),q=n.ra();d=Math.min(d,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.hb())}this.vT=d;this.wT=c;this.rT=g;this.sT=m;this.tT=h;this.OI=!1}}c_(){this.qu();
return this.vT}d_(){this.qu();return this.wT}$Z(){this.qu();return this.rT}a_(){this.qu();return this.sT}b_(){this.qu();return this.tT}qq(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.ek||0>c||c>=this.vk?null:this.nn[c][d]}WK(d,c,g){const m=g instanceof e.Rect;if(d.ek!==this.ek||d.vk!==this.vk)throw Error("source mesh wrong size");d=d.nn;const h=this.nn;for(let l=0,n=h.length;l<n;++l){const p=d[l],q=h[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.D8(r,c,g):v.C8(r,c,g)}}}tg(d){const c=
this.nn;let g=c[0];for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=g[q],r=l[q];a.set(n.dh,n.fh,w.dh,w.fh,r.dh,r.fh,p.dh,p.fh);d.Dy(n.qa(),n.ra(),n.hb(),w.qa(),w.ra(),w.hb(),r.qa(),r.ra(),r.hb(),p.qa(),p.ra(),p.hb(),a);n=w;p=r}g=l}}G0(d){d=d.Ld;const c=[],g=this.ek-1,m=this.vk-1,h=1/g,l=1/m,n=g-1,p=m-1;let q=d[0],u=d[1],w=e.ia(Math.floor(q*g),0,n),r=e.ia(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=e.ia(e.ae(q,v,A),0,1);u=e.ia(e.ae(u,
y,A),0,1);c.push(q,u)};for(let F=0,H=d.length;F<H;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),w=e.ia(Math.floor(q*g),0,n),r=e.ia(Math.floor(u*m),0,p),G=(F+2)%H,v=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,M=r*l,P=(w+1)*h,R=(r+1)*l;if(0!==G&&(A=e.Xw(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=e.Xw(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=e.Xw(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();
w++;G=1;continue}if(0<w&&1!==G&&(A=e.Xw(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=e.Xw(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return e.m(e.Un,c)}b5(d,c){d=this.rba(d);this.iba(d);c.uC(d)}rba(d){const c=[];d=d.Ld;for(let g=0,m=d.length;g<m;g+=2){const [h,l]=this.CO(d[g],d[g+1]);c.push(h,l)}return c}CO(d,c){var g=this.ek-1,m=this.vk-1;const h=1/g,l=1/m;g=e.ia(Math.floor(d*g),0,g-1);const n=e.ia(Math.floor(c*m),0,m-1);m=g*h;const p=
n*l,q=(g+1)*h,u=(n+1)*l,w=this.qq(g,n),r=this.qq(g+1,n+1),v=e.pea(d,c,m,p,q,p,q,u);g=this.qq(g+(v?1:0),n+(v?0:1));const [y,A,G]=e.tfa(d,c,m,p,v?m+h:m,v?p:p+l,q,u);return e.sfa(y,A,G,w.qa(),w.ra(),g.qa(),g.ra(),r.qa(),r.ra())}iba(d){const c=[];let g=d[0],m=d[1],h=g-d.$d(-2),l=m-d.$d(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const w=u-g,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(l)||
v)&&1E-7<Math.abs(w/h-r/l)||0==w&&0===r)&&c.push(g,m);g=u;m=n;h=w;l=r}6<=c.length&&c.length<d.length&&e.Nc(d,c)}td(){return{cols:this.ek,rows:this.vk,points:this.nn.map(d=>d.map(c=>c.td()))}}hd(d){const c=this.ek,g=this.vk;if(d.cols!==c||d.rows!==g)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<g;++m){const h=d[m];for(let l=0;l<c;++l)this.qq(l,m).hd(h[l])}}}}
{"use strict";const e=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{FK:n,Bs:q,format:u,type:p}}const m={CC:"clamp-to-edge",DC:"clamp-to-edge",oj:"trilinear",CU:0,vK:"rgba8",qC:!0,Uw:"default",premultiplyAlpha:!0,aV:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;e.J.Zy=class{constructor(n){this.xa=n;this.ub=null;this.T=this.V=0;this.Mh=!0;this.ys=this.xs="clamp-to-edge";this.wd="trilinear";this.BG=0;this.ln="rgba8";this.Bl=!1;this.Gp=
"default";this.Kc=0}w6(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.ub)throw Error("already created texture");this.xs=p.CC;this.ys=p.DC;
this.wd=p.oj;this.BG=p.CU;this.ln=p.vK;this.Bl=!!p.qC&&this.xa.Dr;this.Gp=p.Uw;if(!c.has(this.xs)||!c.has(this.ys))throw Error("invalid wrap mode");if(!b.has(this.wd))throw Error("invalid sampling");if(!a.has(this.ln))throw Error("invalid pixel format");if(!d.has(this.Gp))throw Error("invalid mipmap quality");this.Mh=!0;if(n instanceof ArrayBuffer||null===n||p.aV){if(this.V=p.width,this.T=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.V*this.T*4)throw Error("ArrayBuffer wrong size");}else this.V=
n.width,this.T=n.height;if(0>=this.V||0>=this.T)throw Error("invalid texture data size");if(p.aV){var q=e.jh(this.V,this.T);q.getContext("2d").drawImage(n,0,0,this.V,this.T);n=q}var u=e.Gk(this.V)&&e.Gk(this.T);q=this.xa.eB;if(this.V>q||this.T>q)throw Error("texture data exceeds maximum texture size");q=this.xa.P;var w=this.xa.qd;this.ub=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.ub);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.ln,q);if(this.xa.Ho()||u||!this.KF())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Bl?Math.floor(Math.log2(Math.max(this.V,this.T))+1):1,p.FK,this.V,this.T),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.V,this.T,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Bs,this.V,this.T,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Bs,this.V,this.T,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Bs,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.V,this.T));n instanceof ImageData&&(u=e.jh(this.V,this.T),u.getContext("2d").putImageData(n,0,0),n=u);u=e.jh(e.gV(this.V),e.gV(this.T));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.wd;w.drawImage(n,0,0,this.V,this.T,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Bs,p.format,p.type,u)}null!==n&&this.uR(q);q.bindTexture(q.TEXTURE_2D,null);this.xa.WF();this.Kc=1;l.add(this)}j6(n,p,q){q=Object.assign({},m,q);if(this.ub)throw Error("already created texture");this.xs=q.CC;this.ys=q.DC;this.wd=q.oj;this.ln=q.vK;this.Bl=!!q.qC&&this.xa.Dr;this.Gp=q.Uw;if(!c.has(this.xs)||!c.has(this.ys))throw Error("invalid wrap mode");if(!b.has(this.wd))throw Error("invalid sampling");if(!a.has(this.ln))throw Error("invalid pixel format");if(!d.has(this.Gp))throw Error("invalid mipmap quality");
this.Mh=!1;this.V=Math.floor(n);this.T=Math.floor(p);n=e.Gk(this.V)&&e.Gk(this.T);p=this.xa.eB;if(0>=this.V||0>=this.T)throw Error("invalid texture size");if(this.V>p||this.T>p)throw Error("texture exceeds maximum texture size");if(!this.xa.Ho()&&this.KF()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.xa.P;p=this.xa.qd;this.ub=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.ub);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.ln,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.FK:q.Bs,this.V,this.T,0,q.format,q.type,null);this.uR(n);n.bindTexture(n.TEXTURE_2D,null);this.xa.WF();this.Kc=1;l.add(this)}GF(n){if("default"===this.Gp)return this.Mh?n.NICEST:n.FASTEST;if("low"===this.Gp)return n.FASTEST;if("high"===this.Gp)return n.NICEST;throw Error("invalid mipmap quality");}KF(){return"clamp-to-edge"!==this.xs||"clamp-to-edge"!==this.ys}$P(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}uR(n){var p=e.Gk(this.V)&&e.Gk(this.T);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.$P(n,this.xs));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.$P(n,this.ys));"nearest"===this.wd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Bl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.xa.Ho())&&this.Bl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.GF(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.wd||this.xa.EH?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Bl=!1));(p=this.xa.Gu)&&0<this.BG&&"nearest"!==this.wd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.BG,this.xa.AI))}ER(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.ub||0>=this.Kc)throw Error("texture not created");if(this.Mh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.xa.qd;
const r=this.xa.P;r.bindTexture(r.TEXTURE_2D,this.ub);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.ln,r);w=2<=w?p.FK:p.Bs;try{if(this.V===q&&this.T===u){const v=e.Gk(this.V)&&e.Gk(this.T);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.xa.Ho())&&this.Bl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.GF(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.V=q;this.T=u;const v=e.Gk(this.V)&&e.Gk(this.T);if(!this.xa.Ho()&&this.KF()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.xa.Ho())&&this.Bl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.GF(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.xa.WF()}vF(){if(0<this.Kc)throw Error("texture still has references");if(!this.ub)throw Error("already deleted texture");l.delete(this);this.xa.P.deleteTexture(this.ub);this.ub=null}pb(){return this.xa}V4(){if(0>=
this.Kc)throw Error("no more references");this.Kc--}fa(){return this.V}ea(){return this.T}qD(){let n=this.V*this.T;switch(this.ln){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Bl&&(n+=Math.floor(n/3));return n}static $k(){l.clear()}static qda(){return l.values()}}}
{"use strict";const e=self.nj.fm,a=new Set(["nearest","bilinear","trilinear"]),b={oj:"trilinear",alpha:!0,depth:!1,lK:!0,WU:!0,Eea:0},d=new Set;self.B.J.OO=class{constructor(c){this.xa=c;this.rk=this.ub=this.np=this.Qg=null;this.T=this.V=0;this.EA=!0;this.wd="trilinear";this.ir=!0;this.Xc=!1;this.Cv=!0;this.Jl=0;this.pk=e.create()}i6(c,g,m){m=Object.assign({},b,m);const h=this.xa.qd;if(this.ub||this.rk)throw Error("already created render target");this.wd=m.oj;this.ir=!!m.alpha;this.Xc=!!m.depth;this.Cv=
!!m.lK;this.EA=!!m.WU;this.Jl=m.Eea;if(!a.has(this.wd))throw Error("invalid sampling");if(0<this.Jl&&(2>h||this.Cv))throw Error("invalid use of multisampling");2>h&&(this.Cv=!0);this.V=c;this.T=g;if(0>=this.V||0>=this.T)throw Error("invalid render target size");this.cP();c=this.xa.P;this.Qg=c.createFramebuffer();this.Xc&&(this.np=c.createFramebuffer());this.Cv?(this.ub=this.xa.jL(this.V,this.T,{oj:this.wd,vK:this.ir?"rgba8":"rgb8",qC:!1}),g=this.ub.ub,c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.np),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.rk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.rk),g=this.ir?c.RGBA8:c.RGB8,0<this.Jl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.Jl>m&&(this.Jl=m)):this.Jl=0),0===this.Jl?c.renderbufferStorage(c.RENDERBUFFER,g,this.V,this.T):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Jl,g,this.V,this.T),c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.rk),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.np),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.rk)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.xa.Og;this.Xc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),this.xa.Tu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}UQ(c,g){if(this.V!==c||this.T!==g)this.V=c,this.T=g,this.cP(),c=this.xa.P,c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),this.ub?this.ub.ER(new ImageData(this.V,this.T)):(c.bindRenderbuffer(c.RENDERBUFFER,this.rk),c.renderbufferStorage(c.RENDERBUFFER,this.ir?c.RGBA8:c.RGB8,this.V,this.T),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.xa.Og,this.Xc&&g&&(this.xa.Tu?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}vF(){if(!this.ub&&!this.rk)throw Error("already deleted render target");d.delete(this);var c=this.xa.P;this.ub?(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.np),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.xa.rj(this.ub),this.ub=null):this.rk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Qg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Xc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.np),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.rk),this.rk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.xa.qd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Qg);
this.Xc&&c.deleteFramebuffer(this.np);c=this.xa.Ac;c.cm=null;this.Qg=c.lj=null}cP(){this.xa.jq(this.pk,this.V/this.T)}pb(){return this.xa}fe(){return this.ub}bE(){return"nearest"!==this.wd}fa(){return this.V}ea(){return this.T}P0(c){c=Object.assign({},b,c);return"nearest"!==c.oj!==this.bE()||!!c.alpha!==this.ir||!!c.depth!==this.Xc||2<=this.xa.qd&&!!c.lK!==this.Cv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.EA&&this.fa()===c.width&&this.ea()===c.height:this.EA}qD(){return this.ub?
this.ub.qD():this.V*this.T*(this.ir?4:3)}static $k(){d.clear()}}}
{"use strict";const e=self.B;e.J.eu=class extends e.J.M4{static async eX(a,b,d,c){const g=a.P,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,b);g.compileShader(m);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,d);g.compileShader(b);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.MI;l?await a.Gba(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await e.hF(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=e.YY(g.getProgramInfoLog(h)||"").trim())&&!e.hE(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(m);g.deleteShader(b);return h}static async Qa(a,b,d,c){d=await e.J.eu.eX(a,b.src,d,c);return new e.J.eu(a,d,b,c)}constructor(a,b,d,c){super(a,c,d);const g=a.P;var m=a.Ac;a.sj();g.useProgram(b);this.P=g;this.cd=b;this.FA="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.wI=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.VB),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.KB),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.wI&&(g.bindBuffer(g.ARRAY_BUFFER,a.mB),g.vertexAttribPointer(this.wI,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.wI));g.bindBuffer(g.ARRAY_BUFFER,null);this.wJ=new e.J.ic(this,"matP","mat4");this.vJ=new e.J.ic(this,"matMV","mat4");this.$p=new e.J.ic(this,"color",
"vec4");this.jda=new e.J.ic(this,"samplerFront","sampler");this.zJ=new e.J.ic(this,"pointTexStart","vec2");this.yJ=new e.J.ic(this,"pointTexEnd","vec2");this.CJ=new e.J.ic(this,"zElevation","float");this.AJ=new e.J.ic(this,"tileSize","vec2");this.BJ=new e.J.ic(this,"tileSpacing","vec2");this.uJ=new e.J.ic(this,"color2_","vec4");this.xJ=new e.J.ic(this,"outlineThickness","float");this.us=new e.J.ic(this,"samplerBack","sampler");this.ida=new e.J.ic(this,"samplerDepth","sampler");this.yn=new e.J.ic(this,
"destStart","vec2");this.xn=new e.J.ic(this,"destEnd","vec2");this.ij=new e.J.ic(this,"srcStart","vec2");this.Xl=new e.J.ic(this,"srcEnd","vec2");this.Zl=new e.J.ic(this,"srcOriginStart","vec2");this.Yl=new e.J.ic(this,"srcOriginEnd","vec2");this.eh=new e.J.ic(this,"pixelSize","vec2");this.En=new e.J.ic(this,"seconds","float");this.zn=new e.J.ic(this,"devicePixelRatio","float");this.Bn=new e.J.ic(this,"layerScale","float");this.An=new e.J.ic(this,"layerAngle","float");this.Dn=new e.J.ic(this,"layoutStart",
"vec2");this.Cn=new e.J.ic(this,"layoutEnd","vec2");this.DS=!!(this.eh.U||this.En.U||this.us.U||this.yn.U||this.xn.U||this.ij.U||this.Xl.U||this.Zl.U||this.Yl.U||this.zn.U||this.Bn.U||this.An.U||this.Dn.U||this.Cn.U);a=d.parameters||[];this.aq=[];this.pU=this.eh.U||this.ij.U||this.Xl.U||this.Zl.U||this.Yl.U;this.BH=this.CH=!1;this.$p.zM();this.uJ.zM();this.jda.OD(0);this.us.OD(1);this.ida.OD(2);this.zJ.wg(0,0);this.yJ.wg(1,1);this.CJ.ko(0);this.AJ.wg(0,0);this.BJ.wg(0,0);this.yn.wg(0,0);this.xn.wg(1,
1);this.ij.wg(0,0);this.Xl.wg(0,0);this.Zl.wg(0,0);this.Yl.wg(0,0);this.eh.wg(0,0);this.zn.ko(1);this.Bn.ko(1);this.An.ko(0);this.En.ko(0);this.Dn.wg(0,0);this.Cn.wg(0,0);this.xJ.ko(1);for(const l of a)a=l[2],b=new e.J.ic(this,l[0],a),"color"===a?b.e0():b.ko(0),this.aq.push(b);this.FA?this.JR(m.Iw):(this.Wy(m.Iw,!0),this.Vy(m.dC,!0));m=m.ci;g.useProgram(m?m.cd:null)}A(){this.P.deleteProgram(this.cd);this.cd=null;this.xa.G$(this);this.P=null;super.A()}Kf(){return this.cd}Zx(a){return this.aq[a].Hj()}pW(a){for(let b=
0,d=a.length;b<d;++b)if(!this.aq[b].b1(a[b]))return!1;return!0}R3(a){for(let b=0,d=a.length;b<d;++b)this.aq[b].L3(a[b])}qW(a,b,d,c,g,m,h,l,n,p){return this.us.U||this.eh.U&&!this.eh.Yk(g,m)||this.yn.U&&!this.yn.Yk(a.W,a.R)||this.xn.U&&!this.xn.Yk(a.la,a.da)||this.zn.U&&!this.zn.uy(h)||this.Bn.U&&!this.Bn.uy(l)||this.An.U&&!this.An.uy(n)||this.ij.U&&!this.ij.Yk(b.W,b.R)||this.Xl.U&&!this.Xl.Yk(b.la,b.da)||this.Zl.U&&!this.Zl.Yk(d.W,d.R)||this.Yl.U&&!this.Yl.Yk(d.la,d.da)||this.Dn.U&&!this.Dn.Yk(c.W,
c.R)||this.Cn.U&&!this.Cn.Yk(c.R,c.da)||this.En.U&&!this.En.uy(p)?!1:!0}n4(a,b,d,c,g,m,h,l,n,p){this.us.U||(this.eh.U&&this.eh.al(g,m),this.yn.U&&this.yn.al(a.W,a.R),this.xn.U&&this.xn.al(a.la,a.da),this.zn.U&&this.zn.My(h),this.Bn.U&&this.Bn.My(l),this.An.U&&this.An.My(n),this.ij.U&&this.ij.al(b.W,b.R),this.Xl.U&&this.Xl.al(b.la,b.da),this.Zl.U&&this.Zl.al(d.W,d.R),this.Yl.U&&this.Yl.al(d.la,d.da),this.Dn.U&&this.Dn.al(c.W,c.R),this.Cn.U&&this.Cn.al(c.R,c.da),this.En.U&&this.En.My(p))}Wy(a,b){this.CH&&
!b||this.FA||(this.wJ.U&&this.wJ.Xy(a),this.CH=!0)}m4(){this.CH=!1}Vy(a,b){this.BH&&!b||this.FA||(this.vJ.U&&this.vJ.Xy(a),this.BH=!0)}l4(){this.BH=!1}JR(a){if(!this.FA)throw Error("not device transform shader");this.wJ.Xy(a);a=this.xa;const b=a.fa()/2,d=a.ea()/2;a=a.Qs(b,d,100*self.devicePixelRatio,b,d);this.vJ.Xy(a)}j5(a){this.$p.U&&this.$p.Uy(a[0],a[1],a[2],a[3])}static Nx(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,a=self.nj.fm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.J.ic=class{constructor(d,c,g){if(!b.has(g))throw Error("invalid uniform type");this.ac=d;this.P=this.ac.P;this.Ka=c;this.ya=g;this.SH="color"===this.ya;this.Ph=this.P.getUniformLocation(this.ac.Kf(),c);this.U=!!this.Ph;d=b.get(g);this.Vb=new Float32Array(d);this.bj=new Float32Array(d)}A(){this.Ph=this.P=this.ac=null}Hj(){return this.ya}ko(d){this.U&&
(this.Vb[0]=d,this.bj.set(this.Vb),this.P.uniform1f(this.Ph,d))}OD(d){this.U&&(this.Vb[0]=d,this.bj.set(this.Vb),this.P.uniform1i(this.Ph,d))}wg(d,c){this.U&&(this.Vb[0]=d,this.Vb[1]=c,this.bj.set(this.Vb),this.P.uniform2f(this.Ph,d,c))}e0(){this.U&&(this.Vb[0]=0,this.Vb[1]=0,this.Vb[2]=0,this.bj.set(this.Vb),this.P.uniform3f(this.Ph,0,0,0))}zM(){this.U&&(this.Vb[0]=1,this.Vb[1]=1,this.Vb[2]=1,this.Vb[3]=1,this.bj.set(this.Vb),this.P.uniform4f(this.Ph,1,1,1,1))}Ko(d){d=Math.fround(d);const c=this.Vb;
c[0]!==d&&(c[0]=d,this.P.uniform1f(this.Ph,d))}Ie(d,c){d=Math.fround(d);c=Math.fround(c);const g=this.Vb;if(g[0]!==d||g[1]!==c)g[0]=d,g[1]=c,this.P.uniform2f(this.Ph,d,c)}h5(d,c,g){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);const m=this.Vb;if(m[0]!==d||m[1]!==c||m[2]!==g)m[0]=d,m[1]=c,m[2]=g,this.P.uniform3f(this.Ph,d,c,g)}Uy(d,c,g,m){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Vb;if(h[0]!==d||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=d,h[1]=c,h[2]=g,h[3]=m,this.P.uniform4f(this.Ph,
d,c,g,m)}Xy(d){const c=this.Vb;a.mj(c,d)||(e.ufa(c,d),this.P.uniformMatrix4fv(this.Ph,!1,d))}b1(d){const c=this.bj;return this.SH?c[0]===Math.fround(d.Va)&&c[1]===Math.fround(d.$a)&&c[2]===Math.fround(d.Za):c[0]===Math.fround(d)}L3(d){const c=this.bj;this.SH?(c[0]=d.Va,c[1]=d.$a,c[2]=d.Za):c[0]=d}uy(d){return this.bj[0]===Math.fround(d)}Yk(d,c){const g=this.bj;return g[0]===Math.fround(d)&&g[1]===Math.fround(c)}My(d){this.bj[0]=d}al(d,c){const g=this.bj;g[0]=d;g[1]=c}}}
{"use strict";const e=self.B,a=self.nj,b=a.ax,d=a.fm;e.J.yW=class{constructor(c){this.Nn=c;this.dC=d.create();this.Iw=d.create();this.lj=this.cm=null;this.XU=!1;this.cC=b.Cf(1,1,1,1);this.ci=null;this.wK=new e.Rect;this.clearColor=e.m(e.fb,0,0,0,0)}};e.J.t5=class{constructor(c){const g=new ArrayBuffer(96);this.ya=0;this.Ac=c;this.P=c.Nn.P;this.yl=this.$g=0;this.Se=null;this.sf=new Float32Array(g,0,16);this.bp=new Float32Array(g,64,4);this.bU=new Float32Array(g,80,4);this.xB=[]}s0(c){this.ya=1;this.$g=
c;this.yl=6}QX(){const c=this.P;c.drawElements(c.TRIANGLES,this.yl,c.UNSIGNED_SHORT,this.$g)}B0(c){this.ya=2;this.Se=c}cY(){const c=this.P,g=this.Se;c.bindTexture(c.TEXTURE_2D,g?g.ub:null)}PD(c){this.ya=3;c.ih(this.bp,0)}SX(){const c=this.bp,g=this.Ac;b.ua(g.cC,c);g.ci.j5(c)}WX(){const c=this.bp,g=this.Ac.ci;g.uJ.U&&g.uJ.Uy(c[0],c[1],c[2],c[3])}t0(c,g){this.ya=4;this.$g=c;this.yl=g}RX(){this.P.blendFunc(this.$g,this.yl)}C0(c,g){this.ya=5;const m=this.bp;m[0]=0;m[1]=0;m[2]=c;m[3]=g}eY(){const c=this.bp;
this.P.viewport(c[0],c[1],c[2],c[3])}z0(c){this.ya=6;d.ua(this.sf,c)}aY(){const c=this.Ac,g=c.Nn.Wo,m=c.ci,h=this.sf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.Wy(h,!0):p.m4()}d.ua(c.Iw,h)}w0(c){this.ya=7;d.ua(this.sf,c)}XX(){const c=this.Ac,g=c.Nn.Wo,m=c.ci,h=this.sf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.Vy(h,!0):p.l4()}d.ua(c.dC,h)}A0(c){this.ya=8;this.Se=c}bY(){const c=this.P,g=this.Se,m=this.Ac;g?(m.cm=g.Qg,m.lj=g.np,m.XU&&m.lj?c.bindFramebuffer(c.FRAMEBUFFER,m.lj):c.bindFramebuffer(c.FRAMEBUFFER,
m.cm)):(m.cm=null,m.lj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}i0(c){this.ya=9;c.ih(this.sf,0)}j0(){this.ya=9;const c=this.sf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}JX(){const c=this.P;var g=this.sf;const m=this.Ac.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.hC(h,l,n,g)||(c.clearColor(h,l,n,g),m.On(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}YX(){const c=this.sf;this.Ac.wK.set(c[0],c[1],c[2],c[3])}PX(){const c=this.P,g=this.Ac,m=g.Nn.DB;c.useProgram(m.cd);m.Wy(g.Iw,!1);m.Vy(g.dC,!1);var h=g.wK;m.zJ.U&&m.zJ.Ie(h.W,
h.R);m.yJ.U&&m.yJ.Ie(h.la,h.da);h=this.sf[0];m.CJ.U&&m.CJ.Ko(h);m.$p.U&&(h=g.cC,m.$p.Uy(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.$g/4,this.yl);c.useProgram(g.ci.cd)}x0(c){this.ya=11;this.Se=c}ZX(){var c=this.P;const g=this.Ac,m=this.Se;g.ci=m;c.useProgram(m.cd);m.Wy(g.Iw,!1);m.Vy(g.dC,!1);m.$p.U&&(c=g.cC,m.$p.Uy(c[0],c[1],c[2],c[3]))}y0(){this.ya=12}$X(){const c=this.Ac.ci;c.DS&&this.c7(c);c.aq.length&&this.d7(c)}c7(c){const g=this.P,m=this.sf,h=this.bp,l=this.bU;if(c.us.U){const n=this.Ac.Nn,
p=this.Se;n.bn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.ub:null),n.bn=p,g.activeTexture(g.TEXTURE0))}c.eh.U&&c.eh.Ie(m[0],m[1]);c.yn.U&&c.yn.Ie(m[2],m[3]);c.xn.U&&c.xn.Ie(m[4],m[5]);c.zn.U&&c.zn.Ko(this.yl);c.Bn.U&&c.Bn.Ko(m[6]);c.An.U&&c.An.Ko(m[7]);c.ij.U&&c.ij.Ie(m[12],m[13]);c.Xl.U&&c.Xl.Ie(m[14],m[15]);c.Zl.U&&c.Zl.Ie(l[0],l[1]);c.Yl.U&&c.Yl.Ie(l[2],l[3]);c.Dn.U&&c.Dn.Ie(h[0],h[1]);c.Cn.U&&c.Cn.Ie(h[2],h[3]);c.En.U&&c.En.Ko(this.$g)}d7(c){c=c.aq;const g=this.xB;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.SH?l.h5(n.Va,n.$a,n.Za):l.Ko(n)}}o0(c){this.ya=13;this.Se=c}OX(){const c=this.P,g=this.Se,m=this.Ac.cm;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}f0(c,g){this.ya=16;var m=this.sf;const h=this.Ac.Nn;m[0]=c.fa();m[1]=c.ea();m[2]=g?g.fa():h.fa();m[3]=g?g.ea():h.ea();m[4]=c.bE()?1:0;m[5]=!0;m=this.xB;e.F(m);m.push(c.Qg);m.push(g?g.Qg:null)}HX(){var c=this.sf,
g=this.xB;const m=this.P;var h=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}E0(c){this.ya=17;this.Se=c}fY(){this.Se.KC();this.Se=null}n0(c){this.ya=18;this.Se=c}NX(){this.Se.dD();this.Se=
null}VX(){const c=this.Ac.ci,g=this.sf;c.eh.U&&c.eh.Ie(g[0],g[1]);c.xJ.U&&c.xJ.Ko(g[2])}dY(){const c=this.Ac.ci,g=this.sf;c.ij.U&&c.ij.Ie(g[0],g[1]);c.eh.U&&c.eh.Ie(g[4],g[5]);c.AJ.U&&c.AJ.Ie(g[6],g[7]);c.BJ.U&&c.BJ.Ie(g[8],g[9])}h0(c){this.ya=21;this.$g=c?1:0}IX(){const c=this.P,g=0!==this.$g;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}u0(c){this.ya=22;this.$g=c?1:0}TX(){const c=this.P;0===this.$g?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}v0(c){this.ya=
23;this.$g=c?1:0}UX(){const c=this.P,g=this.Ac,m=g.Nn,h=0!==this.$g;g.XU=h;c.activeTexture(c.TEXTURE2);h?(g.lj&&c.bindFramebuffer(c.FRAMEBUFFER,g.lj),c.bindTexture(c.TEXTURE_2D,m.Og)):(c.bindTexture(c.TEXTURE_2D,null),g.lj&&c.bindFramebuffer(c.FRAMEBUFFER,g.cm));c.activeTexture(c.TEXTURE0)}m0(){this.ya=24}MX(){const c=this.P;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}l0(){this.ya=25}LX(){const c=
this.P;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}k0(){this.ya=26}KX(){const c=this.P;c.disable(c.STENCIL_TEST)}wa(){switch(this.ya){case 1:this.QX();break;case 2:this.cY();break;case 3:this.SX();break;case 4:this.RX();break;case 5:this.eY();break;case 6:this.aY();break;case 7:this.XX();break;case 8:this.bY();break;case 9:this.JX();break;case 10:this.PX();break;case 11:this.ZX();break;case 12:this.$X();break;case 13:this.OX();break;case 14:this.YX();break;
case 15:this.dY();break;case 16:this.HX();break;case 17:this.fY();break;case 18:this.NX();break;case 19:this.VX();break;case 20:this.WX();break;case 21:this.IX();break;case 22:this.TX();break;case 23:this.UX();break;case 24:this.MX();break;case 25:this.LX();break;case 26:this.KX()}}}}
{"use strict";const e=self.B,a={timeout:60},b=new e.fb(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;e.bZ&&e.bZ.addEventListener("fontload",p=>{p=p.font.Ca();for(const q of m)(q.Lh||e.Ek(q.kA,p))&&q.Xj()});function h(p,q,u,w,r,v){q?"Gecko"===e.Qc.kx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===e.Qc.kx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;e.J.tE=class{constructor(p,q){q=Object.assign({},a,q);this.xa=
p;this.kA="Arial";this.lA=16;this.mA=1;this.Ep=0;this.mf=this.lf=!1;this.Wz="black";this.Lh=!1;this.sK=null;this.zG=new Set;this.jf="left";this.Ve="top";this.nb="";this.Ou=null;this.Gn=e.m(e.iF);this.LJ="word";this.gI=this.LB=!1;this.yv=!0;this.gp=-1;this.T=this.V=this.aH=this.tr=this.Cr=0;this.bi=1;this.VG=!1;this.Sv=this.Il=this.Xd=this.Wp=null;this.gT=this.hT=-1;this.WA=this.iT=this.kI="";this.lI=this.mI=1;this.uT=(u,w)=>this.AQ(u,w);this.ub=null;this.qw=this.uw=0;this.eg=new e.Rect;this.dw=1;
this.HI=!1;this.rJ=new e.a0(()=>{this.yi();this.tR(8,8)},q.timeout);this.rC=null;this.Gw=!1;m.add(this)}A(){this.sK=null;this.zG.clear();this.uT=this.Sv=this.Il=this.Xd=this.Wp=this.Ou=null;this.rJ.A();this.rC=null;this.yi();this.Gn.xd();this.xa=this.Gn=null;this.Gw=!0;m.delete(this)}So(){this.VG=!0}Xj(){this.So();this.Gn.xd();this.LB=!0}eO(){this.yv=!1}xg(){return this.yv}K3(p){p=!!p;this.Lh!==p&&(p=(this.Lh=p)?"alphabetic":"top",this.Xd&&(this.Xd.textBaseline=p),this.Il&&(this.Il.textBaseline=p),
this.Xj())}JE(p){p||(p="serif");this.kA!==p&&(this.kA=p,this.Xj())}Py(p){.1>p&&(p=.1);this.lA!==p&&(this.lA=p,this.Xj())}c4(p){this.mA!==p&&(this.mA=p,this.Xj())}iO(p){this.Ep!==p&&(this.Ep=p,this.So())}RN(p){p=!!p;this.lf!==p&&(this.lf=p,this.Xj())}gO(p){p=!!p;this.mf!==p&&(this.mf=p,this.Xj())}HE(p){p=Math.floor(p);this.gp!==p&&(this.gp=p,this.So())}Hi(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}cr(p,q){return!!this.Hi(p,q)}LP(p,q){let u=[];(this.lf||this.cr(q,
"b"))&&u.push("bold");(this.mf||this.cr(q,"i"))&&u.push("italic");var w=this.Hi(q,"size");w=(w?parseFloat(w.ei):this.lA)*this.mA;p?u.push(w+"pt"):u.push(w*this.dw*this.bi*self.devicePixelRatio+"pt");p=this.kA;(q=this.Hi(q,"font"))&&q.ei&&(p=q.ei,this.sK&&!this.zG.has(p)&&(this.sK(p),this.zG.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Em(p){p instanceof e.fb&&(p=p.aea());this.Wz!==p&&(this.Wz=p,this.So())}TN(p,q,u){b.Ks(p,q,u);this.Em(b)}aO(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.jf!==p&&(this.jf=p,this.So())}wO(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ve!==p&&(this.Ve=p,this.So())}J4(p){if(!g.has(p))throw Error("invalid word wrap mode");this.LJ!==p&&(this.LJ=p,this.Xj())}Eo(p){this.nb!==p&&(this.nb=p,this.Xj())}ud(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.tr===p&&this.aH===q&&this.bi===u)){1===this.bi!==(1===u)&&(this.HI=!0);var w=this.tr,r=this.bi;this.tr=p;this.aH=q;this.bi=u;p=self.devicePixelRatio;this.V=this.tr*this.bi*p;this.T=
this.aH*this.bi*p;p=Math.max(this.V,this.T);q=Math.min(this.xa.eB,2048);u=1;p>q&&(u=q/p,this.V=Math.min(this.V*u,q),this.T=Math.min(this.T*u,q));this.dw=u;0<this.uw&&0<this.qw&&this.bi===r&&this.eg.set(0,0,this.V/this.uw,this.T/this.qw);this.tr!==w?this.Xj():this.So()}}fa(){return this.V}ea(){return this.T}p_(){this.SF();return this.Gn.ZZ()}o_(){this.SF();return this.Gn.s_()+this.Gn.cn.length*(this.Ep+4)-this.Ep}fe(){this.rJ.jd();this.p9();return this.ub}p9(){this.ub&&!this.VG&&!this.LB||this.gI||
0>=this.V||0>=this.T||(this.VG=!1,this.gI=!0,this.yv?e.Hk(()=>this.tP()):this.tP())}tP(){this.Gw||(this.tR(Math.ceil(this.V),Math.ceil(this.T)),this.SF(),this.s7(),this.Bba(),this.rJ.jd(),this.gI=!1)}tR(p,q){this.Wp||(this.Wp=e.jh(16,16));let u=!1;if(this.hT!==p||this.gT!==q)this.hT=p,this.gT=q,this.Wp.width=p,this.Wp.height=q,u=!0;this.Xd||(this.Xd=this.Wp.getContext("2d"),u=!0);u?(this.Xd.textBaseline=this.Lh?"alphabetic":"top",this.Xd.font=this.kI,this.Xd.fillStyle=this.WA,this.Xd.strokeStyle=
this.WA,this.Xd.globalAlpha=this.mI,this.Xd.lineWidth=this.lI):this.Xd.clearRect(0,0,p,q)}sQ(){this.Il||(this.Il=e.jh(16,16).getContext("2d"),this.Sv=e.jh(16,16).getContext("2d"),this.Il.textBaseline=this.Lh?"alphabetic":"top",this.Sv.textBaseline="top")}Taa(p){this.iT!==p&&(this.iT=p,this.Il.font=p,this.Sv.font=p)}BR(){if(!l){l=!0;this.sQ();const p=this.Il.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}SF(){this.LB&&(this.sQ(),
!this.Lh||this.Ou&&this.Ou.toString()===this.nb||(this.Ou=new e.lm(this.nb,{Hea:!0})),this.Gn.iF(this.Lh?this.Ou.mfa():this.nb,this.uT,this.tr,this.LJ,0),this.LB=!1)}AQ(p,q){this.Taa(this.LP(!0,q));q=this.Hi(q,"size");q=(q?parseFloat(q.ei):this.lA)*this.mA;const u=this.Il.measureText(p);let w=0;this.Lh&&this.BR()&&(w=u.fontBoundingBoxAscent-this.Sv.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,og:u.fontBoundingBoxAscent||0,Bf:u.fontBoundingBoxDescent||0,Ef:w}}Eaa(p){this.kI!==
p&&(this.kI=p,this.Xd.font=p)}uz(p){this.WA!==p&&(this.WA=p,this.Xd.fillStyle=p,this.Xd.strokeStyle=p)}Daa(p){this.mI!==p&&(this.mI=p,this.Xd.globalAlpha=p)}iR(p){this.lI!==p&&(this.lI=p,this.Xd.lineWidth=p)}s7(){this.Cr=0;const p=this.dw*this.bi*self.devicePixelRatio,q=(4+this.Ep)*p;var u=0;const w=this.Gn.cn;if(0!==w.length){var r=this.Lh&&this.BR(),v=w[0].height*p;"center"===this.Ve?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.T/2-u/2,0),r&&(v=w[0].Ef*p)):"bottom"===this.Ve&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.Ep*p,u=this.T-u-(r?w.$d(-1).Bf*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Lh){if(u+=0===y?v:G,0<y&&u>this.T-4*p)break}else if(0<y&&u>=this.T-G)break;0<=z&&this.r7(r,u,p);this.Lh||(u+=G);u+=q}}}r7(p,q,u){let w=0;"center"===this.jf?w=(this.V-p.width*u)/2:"right"===this.jf&&(w=this.V-p.width*u);for(const r of p.QU)this.q7(r,w,q,u,p.height),w+=r.width*u}q7(p,q,u,w,r){const v=this.Xd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.Ep)*w,F=p.sd,H=p.text;if(-1!==this.gp){if(this.Cr>=this.gp)return;this.Cr+H.length>this.gp&&(H=H.substr(0,this.gp-this.Cr),r=this.AQ(H,F).width*w);this.Cr+=H.length}var J=this.Hi(F,"background"),M=this.cr(F,"u");p=this.cr(F,"s");if((!e.hE(H)||J||M||p)&&!this.cr(F,"hide")){var P=this.Hi(F,"offsetx");q+=P?parseFloat(P.ei)*w:0;P=this.Hi(F,"offsety");u+=P?parseFloat(P.ei)*w:0;J&&(this.uz(J.ei),v.fillRect(q,u-A,r,A+z));P=this.Hi(F,"color");this.uz(P?P.ei:this.Wz);z=this.Hi(F,"opacity");this.Daa(z?
parseFloat(z.ei)/100:1);z=(z=this.Hi(F,"linethickness"))?parseFloat(z.ei):1;(J=this.cr(F,"stroke"))&&this.iR(.5*G*z*this.dw*this.bi*self.devicePixelRatio);this.Eaa(this.LP(!1,F));h(v,J,H,q,u,r);!J&&(this.iR(.5*G*z*this.dw*this.bi*self.devicePixelRatio),F=this.Hi(F,"outline"))&&(this.uz(F.ei),h(v,!0,H,q,u,r));this.uz(P?P.ei:this.Wz);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Bba(){this.xa.mo()||(this.uw=Math.ceil(this.V),
this.qw=Math.ceil(this.T),this.eg.set(0,0,this.V/this.uw,this.T/this.qw),this.HI&&(this.yi(),this.HI=!1),this.ub||(this.ub=this.xa.jL(this.uw,this.qw,{qC:1===this.bi,Uw:"high"})),this.xa.m5(this.Wp,this.ub),this.rC&&this.rC())}Gj(){return this.eg}yi(){this.ub&&(this.xa.mo()||this.xa.rj(this.ub),this.ub=null)}static $k(){for(const p of m)p.yi()}}}
{"use strict";const e=self.B;class a{constructor(b){this.P=b.P;this.qd=b.qd;this.Fd=b.Fd;this.Th=null;this.pv=this.Kb=!1;this.tB=0;this.Th=1===this.qd?this.Fd.createQueryEXT():this.P.createQuery()}A(){this.oP();this.Fd=this.P=null;this.pv=!1}oP(){this.Th&&(1===this.qd?this.Fd.deleteQueryEXT(this.Th):this.P.deleteQuery(this.Th),this.Th=null)}KC(){if(this.Kb)throw Error("query already active");1===this.qd?this.Fd.beginQueryEXT(this.Fd.TIME_ELAPSED_EXT,this.Th):this.P.beginQuery(this.Fd.TIME_ELAPSED_EXT,
this.Th);this.Kb=!0}dD(){if(!this.Kb)throw Error("query not active");1===this.qd?this.Fd.endQueryEXT(this.Fd.TIME_ELAPSED_EXT):this.P.endQuery(this.Fd.TIME_ELAPSED_EXT);this.Kb=!1}SC(){if(this.Th&&!this.pv&&!this.Kb){var b=1===this.qd?this.Fd.getQueryObjectEXT(this.Th,this.Fd.QUERY_RESULT_AVAILABLE_EXT):this.P.getQueryParameter(this.Th,this.P.QUERY_RESULT_AVAILABLE);var d=this.P.getParameter(this.Fd.GPU_DISJOINT_EXT);b&&!d&&(this.tB=1===this.qd?this.Fd.getQueryObjectEXT(this.Th,this.Fd.QUERY_RESULT_EXT):
this.P.getQueryParameter(this.Th,this.P.QUERY_RESULT),this.tB/=1E9,this.pv=!0);(b||d)&&this.oP()}}ky(){return this.pv}dy(){if(!this.pv)throw Error("no result available");return this.tB}}e.J.v5=class{constructor(b){this.xa=b;this.Jh=b.Jh;this.Kb=!1;this.jn=null;this.$m=!1;this.$r=null;this.Mp=[]}A(){for(const b of this.Mp)b instanceof a&&b.A();e.F(this.Mp);this.xa=this.$r=this.jn=null}KC(){if(this.Kb)throw Error("query already active");const b=this.xa.hU;0<b.length?(this.$m=!0,this.jn=b.$d(-1),this.jn.yP(),
this.jn.Mp.push(this)):(this.$m=!1,this.jn=null);this.Kb=!0;b.push(this);this.zR()}dD(){if(!this.Kb)throw Error("query not active");if(this.xa.hU.pop()!==this)throw Error("can only end most nested query");this.Kb=!1;this.yP();this.jn&&(this.jn.zR(),this.jn=null)}zR(){this.$r=e.m(a,this.xa);this.Mp.push(this.$r);this.$r.KC()}yP(){this.$r.dD();this.$r=null}SC(){for(const b of this.Mp)b.SC()}ky(){return this.Mp.every(b=>b.ky())}dy(){return this.Mp.reduce((b,d)=>b+d.dy(),0)}}}
{"use strict";const e=self.B;e.J.NO=class{constructor(a,b=1E3){this.xa=a;this.Mca=b;this.ak=[];this.xa.M5(this)}A(){this.xd();this.xa.F$(this);this.xa=null}xd(){for(const a of this.ak)a.A();e.F(this.ak)}IC(){const a=new e.J.v5(this.xa);this.ak.push(a);this.ak.length>this.Mca&&this.ak.shift().A();return a}RW(a){for(const b of this.ak){if(b.Jh>=a)break;if(b.$m)break;b.SC()}}TL(a,b){if(b<=a)return NaN;let d=0;for(const c of this.ak){if(c.Jh>=b)break;if(!(c.Jh<a))if(c.ky())d+=c.dy();else return NaN}return d}pL(a){for(let b=
0,d=this.ak.length;b<d;++b){const c=this.ak[b];if(c.Jh<a)c.A();else{0<b&&this.ak.splice(0,b);break}}}}}
{"use strict";const e=self.B,a=self.nj,b=a.ax,d=a.fm,c={powerPreference:"default",PU:!0,alpha:!1,mK:!1,depth:!1,SJ:!1,dV:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new e.Bd(0,0,1,0,1,1,0,1),h=d.create(),l=d.create(),n=new e.Bd,p=new e.Rect;let q=null;e.Pw&&(self.poa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.qoa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Bda()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}e.J.u5=class extends e.J.j3{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.mK&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.dV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.P=G;this.PR=G.getContextAttributes();y.mK&&!this.PR.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.qd=z;this.kg=b.create();this.Wm=!1;this.GG=d.create();this.am=!!y.depth;this.Tu=!(!y.depth||!y.SJ);this.vp=this.am;this.TH=!1;this.Og=null;this.RH=!0;this.aS=this.bS=0;this.mB=this.OS=this.KB=this.VB=null;this.Dw=
new Float32Array(24E3);this.PS=new Uint16Array(12E3);this.Vp=new Float32Array(16E3);this.HT=new Float32Array(32E3);this.jT=this.nB=this.re=this.ai=0;this.Rp=this.Cp=null;this.Nu=[];this.qc=this.Qm=0;this.Rd=null;this.Ac=e.m(e.J.yW,this);this.Lv=e.m(e.fb,1,1,1,1);this.bn=this.Fl=null;this.hI=this.jI=0;this.Fca=new e.Rect;this.eB=-1;this.BI=0;this.Aw="(unavailable)";this.XH=!1;this.bv=this.Gu=this.MI=null;this.AI=0;this.Cca=!!y.PU;this.Fd=null;this.Fz=new Set;this.hU=[];this.XY(this.PS)}Zk(){return!0}async ny(){super.ny();
var v=this.P;this.Lv.On(1,1,1,1);this.bn=this.Fl=null;this.nB=this.ai=0;this.jT=23988;e.F(this.Nu);this.qc=this.Qm=0;this.Rd=this.Cp=null;this.Fca.set(0,0,1,1);var y=this.Ac;y.ci=null;y.cm=null;y.lj=null;b.set(y.cC,1,1,1,1);y.clearColor.On(0,0,0,0);y.wK.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.jI=v.ONE;this.hI=v.ONE_MINUS_SRC_ALPHA;this.r8(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.am?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.vp=this.am;this.TH=!1;this.mB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.mB);v.bufferData(v.ARRAY_BUFFER,this.HT.byteLength,v.DYNAMIC_DRAW);this.VB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.VB);v.bufferData(v.ARRAY_BUFFER,this.Dw.byteLength,v.DYNAMIC_DRAW);this.KB=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.KB);v.bufferData(v.ARRAY_BUFFER,this.Vp.byteLength,v.DYNAMIC_DRAW);
this.OS=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.OS);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.PS,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.eB=v.getParameter(v.MAX_TEXTURE_SIZE);this.BI=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.BI&&(this.BI=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Aw=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.MI=v.getExtension("KHR_parallel_shader_compile");
e.Pw&&(q=v.getExtension("WEBGL_lose_context"));if(this.Cca)if(1===this.qd){if("Chromium"!==e.Qc.kx||81<=e.Qc.MC||"undefined"!==typeof document)this.Fd=v.getExtension("EXT_disjoint_timer_query")}else this.Fd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.AI=(this.Gu=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Gu.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.qd&&this.am&&this.Tu&&(this.bv=v.getExtension("WEBGL_depth_texture"),
!this.bv))throw Error("no depth texture support");v=e.J.eu;y=v.Nx(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Nx(!0),"<tilemap>"]].map(A=>this.ZC({src:A[0]},A[1],A[2])));this.EB=v[0];this.Rp=v[1];this.DB=v[2];this.fJ=v[3];this.Sj()}async ZC(v,y,A){v=await e.J.eu.Qa(this,v,y,A);this.N5(v);return v}p3(){this.Cp=null}ud(v,y,A){if(this.V!==v||this.T!==y||A){this.sj();A=this.P;var G=this.Ac;this.V=v;this.T=y;this.wR(v,y);this.jq(this.GG,v/y);this.Do(this.GG);this.Rp&&(A.useProgram(this.Rp.Kf()),this.Rp.JR(this.dB),this.Cp=this.Rp,this.Ac.ci=this.Rp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.bn=this.Fl=null;this.am&&this.RH&&this.eG(this.V,this.T);this.Rd&&this.Rd.UQ(this.V,this.T);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Rd=null;G.cm=null;G.lj=null}}eG(v,y){const A=this.P;this.Og&&this.bS===v&&this.aS===y||(this.Tu?(this.Og&&A.deleteTexture(this.Og),this.Og=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Og),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.qd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.bv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.bv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Og&&A.deleteRenderbuffer(this.Og),this.Og=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Og),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.qd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.bS=v,this.aS=y)}b4(v,y){this.am&&(this.RH=!1,this.eG(v,y))}J3(){this.am&&(this.RH=!0,this.eG(this.V,this.T))}wR(v,y){const A=this.kg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Ec().C0(v,y),b.set(A,0,0,v,y),this.qc=0}Do(v){d.mj(this.dB,v)||(this.Ec().z0(v),d.ua(this.dB,v),this.qc=0,this.Wm=!0)}WN(){let v,y;var A=this.Rd;null===A?(v=this.GG,y=this.fa(),A=this.ea()):
(v=A.pk,y=A.fa(),A=A.ea());this.Do(v);this.wR(y,A)}Qq(v){d.mj(this.yI,v)||(this.Ec().w0(v),d.ua(this.yI,v),this.qc=0,this.Wm=!0)}n3(){this.Wm=!1}Ec(){const v=this.Nu;this.Qm===v.length&&v.push(new e.J.t5(this.Ac));return v[this.Qm++]}sj(){0===this.Qm||this.mo()||(this.Kba(),this.v7(),this.qc=this.nB=this.re=this.ai=this.Qm=0)}Kba(){const v=this.P;0<this.nB&&(v.bindBuffer(v.ARRAY_BUFFER,this.mB),v.bufferSubData(v.ARRAY_BUFFER,0,this.HT.subarray(0,this.nB)));0<this.ai&&(v.bindBuffer(v.ARRAY_BUFFER,
this.VB),v.bufferSubData(v.ARRAY_BUFFER,0,this.Dw.subarray(0,this.ai)),v.bindBuffer(v.ARRAY_BUFFER,this.KB),v.bufferSubData(v.ARRAY_BUFFER,0,this.Vp.subarray(0,this.re)))}v7(){const v=this.Nu;for(let y=0,A=this.Qm;y<A;++y)v[y].wa()}Ae(){return this.Lv.Ya}ef(v,y,A,G){const z=this.Lv;z.hC(v,y,A,G)||(z.On(v,y,A,G),this.Ec().PD(z),this.qc=0,this.Qi=null)}cl(v){const y=this.Lv;y.Ya!==v&&(y.Is(v),this.Ec().PD(y),this.qc=0,this.Qi=null)}Em(v){const y=this.Lv;y.rd(v)||(y.set(v),this.Ec().PD(y),this.qc=0,
this.Qi=null)}Mt(){this.ef(1,1,1,1)}Sf(v){v!==this.Fl&&(this.Ec().B0(v),this.Fl=v,this.qc=0)}WF(){this.Fl=null}Qf(v){v=this.N7(v);this.dG(v[0],v[1])}dG(v,y){if(v!==this.jI||y!==this.hI)this.Ec().t0(v,y),this.jI=v,this.hI=y,this.qc=0,this.Qi=null}QN(){this.dG(this.P.ONE,this.P.ONE_MINUS_SRC_ALPHA)}GE(){this.dG(this.P.ONE,this.P.ZERO)}Rect(v){this.uN(v.W,v.R,v.la,v.da)}uN(v,y,A,G){this.R2(v,y,A,y,A,G,v,G)}ju(){let v=this.ai;v>=this.jT&&(this.sj(),v=0);1===this.qc?this.Nu[this.Qm-1].yl+=6:(this.Ec().s0(v),
this.qc=1)}sG(v){v.zfa(this.Dw,this.ai,this.Lu+this.av);this.ai+=12}Bd(v){this.ju();this.sG(v);m.ih(this.Vp,this.re);this.re+=8}R2(v,y,A,G,z,F,H,J){this.ju();const M=this.Dw;let P=this.ai;const R=this.Lu+this.av;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.ai=P;m.ih(this.Vp,this.re);this.re+=8}Iq(v,y){this.ju();this.sG(v);y.yfa(this.Vp,this.re);this.re+=8}S2(v,y){this.ju();this.sG(v);y.ih(this.Vp,this.re);this.re+=8}Dy(v,y,A,G,z,
F,H,J,M,P,R,T,Z){this.ju();const X=this.Dw;let ba=this.ai;const Y=this.Lu+this.av;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.ai=ba;Z.ih(this.Vp,this.re);this.re+=8}eZ(v,y){d.ua(h,this.dB);d.ua(l,this.yI);this.WN();const [A,G]=this.cy(this.Rd);var z=this.Qs(0,0,100*self.devicePixelRatio,0,0,G);this.Qq(z);if("crop"===v&&this.Rd&&y){v=this.V/2;z=this.T/2;const J=y.fa();y=y.ea();var F=this.Rd.fa(),H=this.Rd.ea();
F=Math.min(F,J);const M=Math.min(H,y),P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.pj(p);p.set(0,P,F,M+P);p.dm(J,y);this.Iq(n,p)}else v=A/2,z=G/2,this.uN(-v,z,v,-z);this.Do(h);this.Qq(l)}Uq(v){this.Cp!==v&&(this.Ec().x0(v),this.Cp=v,this.qc=0,this.Qi=null)}qO(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Cp;var X=Z.DS;const ba=!!T.length;if(X&&!Z.qW(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.pW(T)){var Y=this.Ec();Y.y0();X&&(Z.n4(y,A,G,z,F,H,J,M,P,R),X=Y.sf,X[0]=F,X[1]=H,y.ih(X,2),X[6]=M,X[7]=P,A.ih(X,
12),y=Y.bp,z.ih(y,0),z=y[1],y[1]=y[3],y[3]=z,G.ih(Y.bU,0),Y.$g=R,Y.yl=J,Y.Se=Z.us.U?v?v.fe():null:null);ba&&(Z.R3(T),e.Nc(Y.xB,T));this.qc=0}}Tn(){this.Ec().j0();this.qc=0}xd(v){this.Ec().i0(v);this.qc=0}bu(){}Vs(){super.Vs();this.P.flush()}SW(){this.am&&this.Rd&&this.Rd.Xc&&(this.Ec().h0(this.vp),this.qc=0)}Dg(v){v=!!v;this.vp!==v&&this.am&&(this.vp=v,this.Ec().u0(v),this.qc=0)}Rt(v){v=!!v;if(this.Tu&&this.TH!==v){if(v&&this.vp)throw Error("depth still enabled");this.TH=v;this.Ec().v0(v);this.qc=
0}}QW(){for(const v of this.Fz)v.RW(this.Jh)}mo(){return!this.P||this.P.isContextLost()||this.XH}$k(){super.a2();e.J.Zy.$k();e.J.OO.$k();e.J.tE.$k();for(const v of this.Fz)v.xd();this.bv=this.Gu=this.MI=this.Fd=null;this.AI=0;this.Aw="(unavailable)";this.Og=this.Rp=this.Cp=null;for(const v of this.mw.values())v.$k()}async mE(){this.XH=!0;await this.ny();this.XH=!1;for(const v of this.mw.values())v.mE(this);this.ud(this.V,this.T,!0)}vx(v,y){if(this.mo())throw Error("context lost");this.sj();const A=
e.m(e.J.Zy,this);A.w6(v,y);return A}wx(v,y){if(this.mo())return Promise.reject("context lost");y=Object.assign({},y);const A=y.CC&&"clamp-to-edge"!==y.CC||y.DC&&"clamp-to-edge"!==y.DC;if(!e.hc.ImageBitmapOptions||!this.Ho()&&A)return e.hc.ImageBitmap?createImageBitmap(v).then(G=>e.Hk(()=>this.vx(G,y))):v instanceof Blob?e.EW(v).then(G=>this.wx(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>e.Hk(()=>this.vx(v,y))):e.Hk(()=>
this.vx(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>e.Hk(()=>this.vx(G,y)))}jL(v,y,A){this.sj();const G=e.m(e.J.Zy,this);G.j6(v,y,A);return G}m5(v,y){this.sj();y.ER(v,void 0)}rj(v){v&&(v.V4(),0<v.Kc||(this.sj(),v===this.Fl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.Fl=null),v===this.bn&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.bn=null),v.vF()))}tX(v){let y=
this.V,A=this.T,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||0>=A)throw Error("invalid size");this.sj();const z=e.m(e.J.OO,this);z.i6(y,A,Object.assign({WU:G},v));this.Rd=null;this.Ac.cm=null;this.Ac.lj=null;return z}Eg(v,y=!0){v!==this.Rd&&(v&&v.EA&&v.UQ(this.V,this.T),this.Ec().A0(v),this.Rd=v,this.qc=0,y&&this.WN())}Tk(){return this.Rd}cy(v){return v?[v.fa(),v.ea()]:[this.V,this.T]}gL(v){2>this.qd||this.Rd&&0<this.Rd.Jl?(this.GE(),
this.Mt(),this.Dx(v,"stretch")):(this.Ec().f0(v,this.Rd),this.qc=0)}Dx(v,y="stretch"){v=v.fe();if(!v)throw Error("not a texture-backed render target");this.Sf(v);this.eZ(y,v)}yq(v){2>this.qd||(this.Ec().o0(v.Qg),this.qc=0)}FX(v){this.Eg(null);this.sj();const y=v.fe();y===this.Fl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.Fl=null);y===this.bn&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.bn=null);v.vF()}fL(){this.Dg(!0);
this.Ec().m0();this.qc=0}eL(){this.Dg(!1);this.Ec().l0();this.qc=0}dL(){this.Dg(!0);this.Ec().k0();this.qc=0}aF(v){this.Tj()&&(this.Ec().E0(v),this.qc=0)}cD(v){this.Tj()&&(this.Ec().n0(v),this.qc=0)}Gba(v){const y=new Promise(A=>u.add({resolve:A,Bda:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}S0(){return!!this.PR.desynchronized}vZ(){let v=0;for(const y of e.J.Zy.qda())v+=y.qD();return v}Ho(){return 2<=this.qd}Tj(){return!!this.Fd}M5(v){this.Fz.add(v)}F$(v){this.Fz.delete(v)}r8(v){this.q8([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const e={RU:null,SU:null,pV:null,getTime:null,oV:null};self.B.J.LY=class{constructor(a){a=Object.assign({},e,a);this.VR=a.RU;this.dca=a.SU;this.gca=a.pV;this.eca=a.getTime;this.fca=a.oV}KL(a){return this.VR?this.VR(a):[a.fa(),a.ea()]}Tk(a){return this.dca(a)}Z2(a,b){this.gca(a,b)}Ia(){return this.eca()}Fy(a){this.fca(a)}}}
{"use strict";const e=self.B,a=self.nj.fm,b=e.m(e.Rect),d=e.m(e.Rect),c=e.m(e.Rect),g=e.m(e.Rect),m=a.create(),h=a.create(),l={gC:null,TU:null,lC:null,hK:!1},n={zs:null,jC:!1,ZJ:!1,iK:!1,$U:!1,YU:!1,zC:!1},p={aC:null,koa:null,In:0,devicePixelRatio:1,Qw:1,oC:0,Es:null,Lw:null,NU:null,HU:0,IU:0,KV:!1};e.J.ve=class{constructor(q,u){u=Object.assign({},l,u);this.Ug=q;this.SG=u.gC;this.Vu=u.TU;this.WR=u.lC;this.Sz=null;this.yB=[];this.ew=[];this.Up=[];this.Mg=0;this.vs=this.Uu=this.cS=this.Wm=this.CA=this.QH=
!1;this.Hp=0;this.Pl=[null,null,null];this.US=!!u.hK;this.Yc=this.nd=this.Ru=this.Qu=0;this.Vm=null;this.Mv=e.m(e.Rect);this.tl=e.m(e.Rect);this.Ol=e.m(e.Rect);this.Zr=e.m(e.Rect);this.pn=e.m(e.Rect);this.oI=this.zr=1;this.pd=this.nI=0;this.bA=null;this.ZG=this.YG=0;this.DJ=!1;this.pk=a.create();this.Uv=a.create()}A(){e.F(this.Up);e.F(this.yB);e.F(this.ew);this.WR=this.Vu=this.SG=this.Vm=null}NC(q,u){u=Object.assign({},n,u);e.F(this.Up);this.Ru=this.Qu=0;this.CA=this.QH=!1;this.Hp=0;this.vs=!!u.zC;
e.Nc(this.yB,q);if(0!==q.length){if(u.zs){if(u.zs.length!==q.length)throw Error("incorrect indexMap length");e.Nc(this.ew,u.zs)}else{e.F(this.ew);for(let v=0,y=q.length;v<y;++v)this.ew.push(v)}for(var w of q)this.Qu+=w.mS,this.Ru+=w.nS,w.Qba&&(this.QH=!0),w.RB&&(this.CA=!0);!(w=1!==q.length||q[0].MG||q[0].$R)&&(w=!u.zC)&&(w=q[0],w=0!==w.mS||0!==w.nS);if(w||u.jC||q[0].Eq()||u.ZJ||u.iK||!this.vs&&q[0].RB){this.Uu=!1;w=this.gba(q[0],u);u=this.fba(q.$d(-1),u);var r=0;w&&(this.Hp=1,this.Up.push(e.m(e.J.ve.zh.H2,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Hp=Math.max(this.Hp,q),this.Up.push(e.m(e.J.ve.zh.FW,this,r,q,v)),r=q):(this.Hp=1,this.Up.push(e.m(e.J.ve.zh.aZ,this,-1,1,v)),r=1);u&&this.Up.push(e.m(e.J.ve.zh.E2,this,r,0))}else this.Uu=!0}}gba(q,u){return u.jC||u.iK||!this.vs&&q.RB||q.Eq()||q.MG&&(u.YU||q.pb().Zk()&&u.$U)||0!==this.Qu||0!==this.Ru}fba(q,u){return u.ZJ||q.MG||q.$R}zo(q,u,w){w=Object.assign({},p,w);this.bA=u;this.Vm=w.aC;this.Mg=w.In;this.zr=
w.devicePixelRatio;this.oI=w.Qw;this.nI=w.oC;this.pd=this.Ug.Ia();this.Wm=!1;q.n3();this.QH&&this.q$();if(this.Uu)this.I$(q,w);else{var [r,v]=this.Ug.KL(q);this.Faa(q,r,v);this.a6(w);q.Mt();q.Mq(0);q.Qt(0);this.Sz=w.NU;this.YG=w.HU||0;this.ZG=w.IU||0;this.DJ=!!w.KV;this.C9(q);this.Pl[0]=u;this.Pl[1]=1<=this.Hp?this.RP():null;this.Pl[2]=2===this.Hp?this.RP():null;for(const y of this.Up)y.Nt(q,this.SP(y.dda),this.SP(y.dS));this.Pl[1]&&this.PQ(this.Pl[1]);this.Pl[2]&&this.PQ(this.Pl[2]);this.Pl.fill(null);
this.z9(q);this.Sz=this.Vm=this.bA=null}}Faa(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.nd===u&&this.Yc===w||this.bP(q,u,w,0,0,this.pk,this.Uv);this.nd=u;this.Yc=w}bP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.jq(y,u/w);q=q.Qs(r,v,100*self.devicePixelRatio,r,v,w);a.ua(A,q)}a6(q){this.Mv.ua(q.Es);q.Lw?this.tl.ua(q.Lw):this.tl.set(0,0,this.nd,this.Yc);this.Ol.ua(this.tl);this.Ol.dm(this.nd,this.Yc);q=q.Qw*q.devicePixelRatio;this.tl.eK(this.Qu*q,this.Ru*q);this.pn.ua(this.tl);this.pn.dm(this.nd,
this.Yc);this.tl.ia(0,0,this.nd,this.Yc);this.Zr.ua(this.tl);this.Zr.dm(this.nd,this.Yc)}C9(q){this.cS=q.vp;this.vs&&(q.Dg(!1),this.CA&&q.Rt(!0))}y9(q){q.Mt();this.vs||(q.Dg(!1),this.CA&&q.Rt(!0))}z9(q){q.Rt(!1);q.Dg(this.cS);this.Wm=q.Wm}eP(){this.pn.ia(0,0,1,1)}SP(q){return 0>q?null:this.Pl[q]}RP(){return this.Ug.Tk(this)}PQ(q){this.Ug.Z2(q,this)}d8(q){return this.yB[q]}yF(q){this.Sz?this.Sz(this,q,()=>this.SG(q,this)):this.SG(q,this);this.Uu||this.y9(q)}H8(q){if(this.vs)return!0;if(0!==this.YG||
0!==this.ZG)return!1;const [u,w]=q.cy(q.Tk());return u!==this.nd||w!==this.Yc?!1:!0}hR(q,u){let w=this.pk,r=this.Uv;if(u&&!this.H8(q)){w=m;r=h;const [v,y]=q.cy(q.Tk());this.bP(q,v,y,this.YG,this.ZG,w,r)}q.Do(w);q.Qq(r)}q$(){this.Ug.Fy(this)}XP(q){return this.WR(this.ew[q])}Uaa(q,u){let w=this.pn,r=this.Zr,v=this.Ol;q.Zk()&&(d.ua(w),d.Ln(),w=d,c.ua(r),c.Ln(),r=c,g.ua(v),g.Ln(),v=g);this.sP(q,u,r,v,w,1/this.nd,1/this.Yc)}Gaa(q,u){let w=this.Zr,r=this.Ol,v=1/this.nd,y=1/this.Yc;if(this.Vu){let {BV:G,
CV:z,AV:F}=this.Vu(this.Vm);G||(b.set(0,0,0,0),G=b);z||(z=this.nd);F||(F=this.Yc);r=w=G;v=1/z;y=1/F}else q.Zk()&&(c.ua(w),c.Ln(),w=c,g.ua(r),g.Ln(),r=g);let A=this.pn;q.Zk()&&(A=d,A.ua(this.pn),A.Ln());this.sP(q,u,w,r,A,v,y)}sP(q,u,w,r,v,y,A){u=this.XP(u);q.qO(this.bA,v,w,r,this.Mv,y,A,this.zr,this.oI,this.nI,this.pd,u)}I$(q,u){var w=this.yB[0];const r=q.vp,v=w.RB;v&&(q.Dg(!1),q.Rt(!0),this.pn.set(0,0,1,1),this.Ol.set(0,0,1,1));q.Uq(w);q.Qf(this.Mg);q.Eg(this.bA);let y;this.Ol.set(0,0,1,1);if(w.pU&&
this.Vu){const {BV:A,CV:G,AV:z}=this.Vu(this.Vm);A&&this.Ol.ua(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Ug.KL(q);w=1/A;y=1/G}u.Es?this.Mv.ua(u.Es):this.Mv.set(0,0,0,0);u=this.XP(0);q.qO(null,this.pn,this.Ol,this.Ol,this.Mv,w,y,this.zr,this.oI,this.nI,this.pd,u);q.Mq(0);this.yF(q);v&&(q.Rt(!1),q.Dg(r))}}}"use strict";self.B.J.ve.zh=class{constructor(e,a,b,d=-1){this.Gh=e;this.dda=a;this.dS=b;this.Pa=d}li(){return this.Gh}Ha(){return this.Pa}Kf(){return this.li().d8(this.Ha())}Nt(){}};
{"use strict";const e=self.B;e.J.ve.zh.H2=class extends e.J.ve.zh{constructor(a,b,d,c){super(a,b,d,c)}Nt(a,b,d){b=this.li();a.QN();a.Sj();a.Eg(d,b.DJ);a.Tn();b.yF(a);b.eP()}}}{"use strict";const e=self.B,a=e.m(e.Rect),b=e.m(e.Bd);e.J.ve.zh.E2=class extends e.J.ve.zh{constructor(d,c,g,m){super(d,c,g,m)}Nt(d,c,g){const m=this.li();d.Sj();d.Eg(g);m.hR(d,!0);d.Qf(m.Mg);d.Sf(c.fe());b.pj(m.tl);a.ua(m.Zr);a.Ln();d.Iq(b,a);m.US&&d.yq(c)}}}
{"use strict";const e=self.B;e.J.ve.zh.aZ=class extends e.J.ve.zh{constructor(a,b,d,c){super(a,b,d,c)}Nt(a,b,d){b=this.li();a.Eg(d,b.DJ);a.Tn();a.GE();a.Uq(this.Kf());b.Gaa(a,this.Ha());b.yF(a);b.eP()}}}
{"use strict";const e=self.B,a=e.m(e.Rect),b=e.m(e.Bd);e.J.ve.zh.FW=class extends e.J.ve.zh{constructor(d,c,g,m){super(d,c,g,m)}Nt(d,c,g){const m=this.li();d.Eg(g);(g=0===this.dS)?d.Qf(m.Mg):(d.Tn(),d.GE());d.Uq(this.Kf());m.Uaa(d,this.Ha());d.Sf(c.fe());m.hR(d,g);b.pj(m.tl);a.ua(m.Zr);a.Ln();d.Iq(b,a);m.US&&d.yq(c)}}}
{"use strict";let e=null;const a=new Set;let b=!1;self.W_=class{constructor(d){e=d;Object.defineProperties(this,{dea:{value:{},writable:!1},storage:{value:new self.Y_(e),writable:!1},jpa:{value:e.le,writable:!1}});e.Zd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});e.Zd.addEventListener("keyup",c=>a.delete(c.key));e.Wb().addEventListener("window-blur",()=>a.clear());e.le&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}t8(d){Object.defineProperties(this.dea,d)}addEventListener(d,c){e.Zd.addEventListener(d,c)}removeEventListener(d,c){e.Zd.removeEventListener(d,c)}get OU(){return e.Px()}random(){return e.Jq()}get pC(){return e.Sb().sv}get keyboard(){const d=e.XG.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get eV(){const d=e.XG.eV;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get DV(){const d=e.XG.DV;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.to("runtime","alert",{message:d+(e.le?" [via Web Worker]":"")})}}}"use strict";self.P_=class{constructor(){}};{"use strict";const e=self.qg;self.Y_=class{constructor(a){this.ow=a.a8()}getItem(a){e.Cd(a);return this.ow.getItem(a)}setItem(a,b){e.Cd(a);return this.ow.setItem(a,b)}removeItem(a){e.Cd(a);return this.ow.removeItem(a)}clear(){return this.ow.clear()}keys(){return this.ow.keys()}}}
{"use strict";const e=self.qg,a=new WeakMap;self.V_=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ca(),writable:!1}});b.I().qQ(this,b)}addEventListener(b,d){e.Cd(b);e.Oj(d);a.get(this).Zd.addEventListener(b,d)}removeEventListener(b,d){e.Cd(b);e.Oj(d);a.get(this).Zd.removeEventListener(b,d)}*VU(){for(const b of a.get(this).oa())yield b.nh()}VJ(b){e.Pf(void 0);e.Pf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var d=
a.get(this),c=d.I();b=c.Sb().aa(b);if(!b)throw Error("invalid layer");d=c.XC(d,b,void 0,void 0,void 0);c=c.na();c.te(!0);d.Az();c.te(!1);return d.nh()}}}
{"use strict";const e=self.qg,a=new WeakMap;self.T_=class{constructor(b){a.set(this,b);const d=[],c=b.Oa,g=c.ug().length;for(let m=0;m<g;++m)d.push(new self.ND(c,m));Object.defineProperties(this,{name:{value:b.Ca(),writable:!1},index:{value:b.Ha(),writable:!1}})}addEventListener(b,d){e.Cd(b);e.Oj(d);a.get(this).Zd.addEventListener(b,d)}removeEventListener(b,d){e.Cd(b);e.Oj(d);a.get(this).Zd.removeEventListener(b,d)}get width(){return a.get(this).fa()}set width(b){a.get(this).xh(b)}get height(){return a.get(this).ea()}set height(b){a.get(this).Bi(b)}set scale(b){e.Ag(b);
a.get(this).NE(b)}get scale(){return a.get(this).Vd}set angle(b){e.Ag(b);a.get(this).kd(b)}get angle(){return a.get(this).Ta()}set scrollX(b){e.Pf(b);a.get(this).Ci(b)}get scrollX(){return a.get(this).If()}set scrollY(b){e.Pf(b);a.get(this).Di(b)}get scrollY(){return a.get(this).Jf()}scrollTo(b,d){e.Pf(b);e.Pf(d);const c=a.get(this);c.Ci(b);c.Di(d)}set lV(b){e.Cd(b);const d=a.get(this);if("perspective"===b)d.oO();else if("orthographic"===b)d.lO();else throw Error("invalid projection");}get lV(){return a.get(this).nf?
"orthographic":"perspective"}}}
{"use strict";const e=self.B,a=self.qg,b=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),g=e.m(e.fb);self.S_=class{constructor(m){b.set(this,m);const h=[],l=m.Oa,n=l.ug().length;for(let p=0;p<n;++p)h.push(new self.ND(l,p));Object.defineProperties(this,{name:{value:m.Ca(),writable:!1},index:{value:m.Ha(),
writable:!1},pC:{value:m.ec().sv,writable:!1}})}get isVisible(){return b.get(this).zc()}set isVisible(m){b.get(this).Tf(m)}get opacity(){return b.get(this).Ae()}set opacity(m){m=e.ia(+m,0,1);isNaN(m)||b.get(this).cl(m)}set scale(m){a.Ag(m);b.get(this).mO(m)}get scale(){return b.get(this).Vd}set angle(m){a.Ag(m);b.get(this).kd(m)}get angle(){return b.get(this).Yf}set cx(m){a.Ag(m);b.get(this).ff(m)}get cx(){return b.get(this).hb()}set In(m){a.Cd(m);m=d.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).Qf(m)}get In(){return c.get(b.get(this).tj())}set backgroundColor(m){a.wE(m);if(3>m.length)throw Error("expected 3 elements");g.Ks(m[0],m[1],m[2]);m=b.get(this);const h=m.ol;h.em(g)||(h.kj(g),m.I().ba())}get backgroundColor(){const m=b.get(this).ol;return[m.Va,m.$a,m.Za]}set scrollX(m){a.Pf(m);const h=b.get(this);h.Wt(!0);h.Ci(m)}get scrollX(){return b.get(this).If()}set scrollY(m){a.Pf(m);const h=b.get(this);h.Wt(!0);h.Di(m)}get scrollY(){return b.get(this).Jf()}scrollTo(m,h){a.Pf(m);
a.Pf(h);const l=b.get(this);l.Wt(!0);l.Ci(m);l.Di(h)}}}
{"use strict";const e=self.B,a=self.qg,b=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.m(e.Event.Wb);d.set(m,h);return h}let g=null;self.wq=class{constructor(){b.set(this,g);const m={Df:{value:g.I().Yi,writable:!1},rK:{value:g.H().tv,writable:!1},uid:{value:g.dd,writable:!1}};g.R7(m);g.M7(m);Object.defineProperties(this,m);g.I().qQ(this,g)}static Jg(m){g=m}static Po(){return g}xu(){const m=d.get(this);m&&(m.A(),d.delete(this));b.delete(this)}addEventListener(m,h,l){a.Cd(m);
a.Oj(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Cd(m);a.Oj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.B,a=self.qg,b=self.wq,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.m(e.fb);self.ly=class m extends b{constructor(){super();var h=b.Po();d.set(this,h);const l=[];var n=h.j();if(h=n.bg){n=n.H().Oa.ug().length;for(let p=0;p<n;++p)l.push(new self.ND(h,p))}}get pC(){return d.get(this).j().ec().sv}get cV(){return d.get(this).j().aa().sca}get x(){return d.get(this).j().qa()}set x(h){h=
+h;const l=d.get(this).j();isNaN(h)||l.qa()===h||(l.Fg(h),l.Ja())}get y(){return d.get(this).j().ra()}set y(h){h=+h;const l=d.get(this).j();isNaN(h)||l.ra()===h||(l.yh(h),l.Ja())}get cx(){return d.get(this).j().hb()}set cx(h){h=+h;const l=d.get(this),n=l.j();isNaN(h)||n.hb()===h||(n.ff(h),l.I().ba())}get width(){return d.get(this).j().fa()}set width(h){h=+h;const l=d.get(this).j();isNaN(h)||l.fa()===h||(l.xh(h),l.Ja())}get height(){return d.get(this).j().ea()}set height(h){h=+h;const l=d.get(this).j();
isNaN(h)||l.ea()===h||(l.Bi(h),l.Ja())}get angle(){return d.get(this).j().Ta()}set angle(h){h=e.se(+h);const l=d.get(this).j();isNaN(h)||l.Ta()===h||(l.kd(h),l.Ja())}cK(){d.get(this).j().Pc().lfa()}get isVisible(){return d.get(this).j().zc()}set isVisible(h){h=!!h;const l=d.get(this),n=l.j();n.zc()!==h&&(n.Tf(h),l.I().ba())}get opacity(){return d.get(this).j().Ae()}set opacity(h){h=e.ia(+h,0,1);const l=d.get(this),n=l.j();isNaN(h)||n.Ae()===h||(n.cl(h),l.I().ba())}set In(h){a.Cd(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=d.get(this);l.j().Qf(h);l.I().ba()}get In(){return g.get(d.get(this).j().tj())}get zIndex(){return d.get(this).j().th()}Af(h,l){a.Pf(h);a.Pf(l);return d.get(this).j().UC(+h,+l)}getParent(){const h=d.get(this).Fa();return h?h.nh():null}*Vw(){for(const h of d.get(this).Vw())yield h.nh()}*children(){for(const h of d.get(this).children())yield h.nh()}*Ck(){for(const h of d.get(this).Ck())yield h.nh()}removeChild(h){a.xE(h,m);const l=d.get(this);h=d.get(h);
l.Nj(h)}}}{"use strict";const e=new WeakMap;self.R_=class extends self.ly{constructor(){super();e.set(this,self.wq.Po())}focus(){e.get(this).pa.BL()}blur(){e.get(this).pa.TK()}}}
{"use strict";const e=self.B,a=self.qg,b=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.m(e.Event.Wb);d.set(m,h);return h}let g=null;self.xM=class{constructor(){b.set(this,g);const m={Df:{value:g.I().Yi,writable:!1},behavior:{value:g.Mk().KZ(),writable:!1}};Object.defineProperties(this,m)}static Jg(m){g=m}static Po(){return g}get instance(){return b.get(this).Z.nh()}xu(){const m=d.get(this);m&&(m.A(),d.delete(this));b.delete(this)}addEventListener(m,h,l){a.Cd(m);a.Oj(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Cd(m);a.Oj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.Q_=class{constructor(a){e.set(this,a);Object.defineProperties(this,{Df:{value:a.I().Yi,writable:!1}})}}}
{"use strict";const e=self.B,a=self.qg,b=new WeakMap;self.ND=class{constructor(d,c){b.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).ug()[this.index].Ca()}getParameter(d){a.Ag(d);d=Math.floor(+d);const c=b.get(this).Nk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.fb?[d.Va,d.$a,d.Za]:d}}}
{"use strict";const e=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.uW=class extends e.ja{constructor(d,c){super();var g=c.exportType;this.g=d;this.$A=new Map;this.Sr=new Map;this.Kca=new Map;this.DA="cordova"===g;this.bT=!!c.isiOSCordova;this.Av=!!c.isFileProtocol;this.fda=c.supportedAudioFormats||{};this.Rba=
new Map;this.JS=this.rS="";this.$z="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.vG=[];this.FG=new Map;this.JJ=[];this.YA=[];this.ES=!1;this.VA=this.EG=this.yw=0;this.DH=!1;this.Jca=e.m(e.V2,()=>this.DP(),50);this.TI=new e.pN(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(d,g);(g=c.projectData)&&(d["data.json"]=g);for(const [m,h]of Object.entries(d))this.$A.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.Kca.set(m,h);new self.P_(this)}A(){this.$A.clear();for(const d of this.Sr.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.Sr.clear();for(const d of this.vG)d.A();e.F(this.vG);this.FG.clear();e.F(this.YA);this.g=null}I(){return this.g}Kaa(d){this.rS=d}Paa(d){this.JS=d}IF(d){return this.$A.has(d.toLowerCase())}iz(d){return this.$A.get(d.toLowerCase())||null}YL(d){if(!this.IF(d))return d;d=d.toLowerCase();var c=this.Sr.get(d);c||(c=this.iz(d),c=URL.createObjectURL(c),
this.Sr.set(d,c));return c}Lk(d,c){c=c||this.$z;const g=this.iz(d);if(g)return Promise.resolve(g);if(e.fE(d)){const m=d.toLowerCase();return this.DA&&this.Av?this.iL(m):"local"===c?this.TI.Oc(()=>e.Lk(m)):e.Lk(m)}return e.Lk(d)}Ts(d){const c=this.iz(d);if(c)return e.DW(c);if(e.fE(d)){const g=d.toLowerCase();return this.DA&&this.Av?this.hL(g):"local"===this.$z?this.TI.Oc(()=>e.Ts(g)):e.Ts(g)}return e.Ts(d)}Us(d){const c=this.iz(d);if(c)return e.SK(c);if(e.fE(d)){const g=d.toLowerCase();return this.DA&&
this.Av?this.lX(g):"local"===this.$z?this.TI.Oc(()=>e.Us(g)):e.Us(g)}return e.Us(d)}async zL(d){d=await this.Us(d);return JSON.parse(d)}mF(d,c){return this.g.to("runtime","cordova-fetch-local-file",{filename:d,as:c})}lX(d){return this.mF(d,"text")}async iL(d){const c=await this.mF(d,"buffer");d?(d=d.split("."),d=2>d.length?"":b.get(d.$d(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async kX(d){d=d.toLowerCase();var c=this.Sr.get(d);if(c)return c;c=await this.iL(d);c=URL.createObjectURL(c);
this.Sr.set(d,c);return c}hL(d){return this.mF(d,"buffer")}AD(d,c=""){if(e.SD(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.IF(d)?Promise.resolve(this.YL(d)):this.DA&&this.Av?this.kX(c+d):Promise.resolve(c+d.toLowerCase())}Ay(d){if(d.Sw&&!a.has(d.Sw))throw Error("invalid load policy");let c=this.FG.get(d.url);if(c)return c;c=e.m(e.yM,this,{url:d.url,size:d.size||0,Sw:d.Sw||this.$z});this.vG.push(c);this.FG.set(c.uk,c);this.ES||(this.yw+=c.vm(),
this.YA.push(c.QM().then(()=>this.VO(c.vm()))));return c}async LO(){try{await Promise.all(this.YA),this.VA=1}catch(d){console.error("Error loading: ",d),this.DH=!0,this.DP()}}h4(){this.ES=!0}VO(d){this.EG+=d;this.Jca.MW()}DP(){const d=e.m(e.Event,"loadingprogress");this.VA=e.ia(this.EG/this.yw,0,1);d.progress=this.VA;this.g.Wb().dispatchEvent(d)}cba(d){e.Nc(this.JJ,d);this.JJ.length&&this.YA.push(this.j9())}j9(){if("undefined"===typeof FontFace)return Promise.resolve();const d=[];for(const [c,g,m]of this.JJ)this.yw+=
m,d.push(this.i9(c,g).then(()=>this.VO(m)));return Promise.all(d)}async i9(d,c){try{const g=await this.AD(c,this.rS),m=new FontFace(d,`url('${g}')`);this.g.le?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${d}': `,g)}}L0(){return!!this.fda["audio/webm; codecs=opus"]}waa(d){for(const [c,g,m]of d)this.Rba.set(c,{fileName:c,Coa:g.map(h=>({type:h[0],yoa:h[1],Poa:c+h[1],fileSize:h[2]})),kpa:m})}async UM(d){d=await this.AD(d);return await this.g.to("runtime",
"add-stylesheet",{url:d})}}}
{"use strict";const e=self.B;e.tW=class extends e.ja{constructor(a,b){super();this.ld=a;this.g=a.I();this.uk=b.url;this.ds=b.size;this.uI=b.Sw;this.Pu=null;this.$H=!1;this.dn=null}A(){this.Pu=this.g=this.ld=this.dn=null}vm(){return this.ds}QM(){return"local"===this.uI||this.Pu?(this.$H=!0,Promise.resolve()):this.dn?this.dn:this.dn=this.ld.Lk(this.uk,this.uI).then(a=>{this.$H=!0;this.dn=null;return this.Pu=a}).catch(a=>console.error("Error loading resource: ",a))}cE(){return this.$H}nZ(){return this.Pu?Promise.resolve(this.Pu):
this.dn?this.dn:this.ld.Lk(this.uk,this.uI)}}}
{"use strict";const e=self.B,a=new e.pN,b=new Set;e.yM=class extends e.tW{constructor(d,c){super(d,c);this.wk=this.Xp=null;this.Kc=0;this.LS=this.NS=-1;b.add(this)}A(){this.yi();if(0!==this.Kc)throw Error("released image asset which still has texture references");this.Xp=null;b.delete(this);super.A()}static Hq(){for(const d of b)d.Xp=null,d.wk=null,d.Kc=0}Dt(d,c){c=c||{};this.Kc++;if(this.wk)return Promise.resolve(this.wk);if(this.Xp)return this.Xp;c.CU=this.g.O.gU;return this.Xp=this.nZ().then(g=>
a.Oc(()=>d.wx(g,c).then(m=>{this.Xp=null;if(0===this.Kc)return d.rj(m),null;this.wk=m;this.NS=m.fa();this.LS=m.ea();return this.wk}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}yi(){if(0>=this.Kc)throw Error("texture released too many times");this.Kc--;0===this.Kc&&this.wk&&(this.wk.pb().rj(this.wk),this.wk=null)}fe(){return this.wk}fa(){return this.NS}ea(){return this.LS}}}
{"use strict";const e=self.B;function a(b,d){return b.j().Bk-d.j().Bk}e.h3=class extends e.ja{constructor(b,d,c){super();this.ga=d;this.X=c;this.G=[];this.Ev=!0;this.ej=new Set;this.xv=!1}A(){e.F(this.G);this.ej.clear()}jd(){e.F(this.G);this.Ev=!0;this.ej.clear();this.xv=!1}P3(){this.Ev=!1}oo(){if(!this.G.length)return!0;if(this.G.length>this.ej.size)return!1;this.EF();return!0}QD(b){this.ej.has(b)?(this.ej.delete(b),0===this.ej.size&&(this.xv=!1)):(this.G.push(b),this.Ev=1===this.G.length)}vh(b){this.ej.add(b);
this.xv=!0;50<=this.ej.size&&this.EF()}EF(){this.xv&&(this.G.length===this.ej.size?this.jd():(e.ng(this.G,this.ej),this.ej.clear(),this.xv=!1))}u7(){this.Ev||(this.G.sort(a),this.Ev=!0)}aD(b){this.EF();this.u7();this.G.length&&b.push(this.G)}}}
{"use strict";const e=self.B;e.i3=class extends e.ja{constructor(a,b){super();this.UG=a;this.TG=b;this.Oi=e.m(e.Ht)}A(){this.Oi.A();this.Oi=null}om(a,b,d){let c=this.Oi.Y(a,b);return c?c:d?(c=e.m(e.h3,this,a,b),this.Oi.Set(a,b,c),c):null}Fi(a){return Math.floor(a/this.UG)}Gi(a){return Math.floor(a/this.TG)}Jo(a,b,d){if(b)for(let c=b.W,g=b.la;c<=g;++c)for(let m=b.R,h=b.da;m<=h;++m){if(d&&d.Af(c,m))continue;const l=this.om(c,m,!1);l&&(l.vh(a),l.oo()&&this.Oi.Vn(c,m))}if(d)for(let c=d.W,g=d.la;c<=g;++c)for(let m=
d.R,h=d.da;m<=h;++m)b&&b.Af(c,m)||this.om(c,m,!0).QD(a)}Ey(a,b){let d=this.Fi(a.W);const c=this.Gi(a.R),g=this.Fi(a.la);for(a=this.Gi(a.da);d<=g;++d)for(let m=c;m<=a;++m){const h=this.om(d,m,!1);h&&h.aD(b)}}y1(a){let b=a.W;const d=a.R,c=a.la;for(a=a.da;b<=c;++b)for(let g=d;g<=a;++g){const m=this.om(b,g,!1);m&&m.P3()}}}}
{"use strict";const e=self.B,a=new e.Rect,b=new e.Bd,d=[];new e.Rect;new e.Rect;const c=self.nj,g=c.AC,m=c.ax,h=c.fm;h.create();const l=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),w=e.m(e.du);e.m(e.Rect);function r(z,F){return z.j().Bk-F.j().Bk}function v(z,F){return z.j().hb()-F.j().hb()}const y=[],A=[],G=[];e.OM=class extends e.ja{constructor(z,F,H){super();this.Tg=z;this.g=z.I();this.ET=F;this.Ka=H[0];this.Pa=-1;this.lb=H[2];this.Hv=!!H[3];this.ol=e.m(e.fb);this.ol.hm(H[4].map(M=>
M/255));this.lk=!!H[5];this.tf=H[6];this.uf=H[7];this.ib=e.m(e.fb,1,1,1,H[8]);this.oB=e.m(e.fb);this.VH=H[9];this.$ca=H[17];this.mU=H[18];this.lda=H[10];this.qn=H[11];this.Mg=H[12];this.Me=null;this.Vd=1;this.ed=H[16];this.Wh=this.Vh=this.Yf=0;this.xl=!1;this.kg=e.m(e.Rect);this.sU=e.m(e.Rect);this.Fn=e.m(e.Rect);this.pk=h.create();this.eI=!0;this.Uv=h.create();this.aI=!0;this.rU=e.m(e.J.o5);this.SA=!0;this.dU=[];this.QS=H[14];this.gk=[];this.Yz=[];this.RS=new Map;this.G=[];this.Xo=this.MJ=!1;const J=
this.g.O;this.Oa=e.m(e.Jk,this,H[15]);this.Gh=e.m(e.J.ve,J.iH,{gC:(M,P)=>{P=P.Vm;const R=P.Tk();M.Em(P.zD());M.Dx(R);M.yq(R);J.wo(R)},lC:M=>this.Oa.Nk(M)});this.Fw=this.Kl=!0;this.bs=null;this.iI=[];this.MA=!1;this.Gca=e.m(e.Rect,0,0,-1,-1);this.ica=e.m(e.Rect,0,0,-1,-1);this.sca=new self.S_(this);this.LR();this.Lo()&&(this.bs=e.m(e.i3,this.g.Wg,this.g.Vg));this.tn=H[19].map(M=>e.m(e.OM,this.Tg,this,M))}Jg(){for(const z of this.QS){const F=this.g.$e(z[1]);this.Tg.TO(F);F.yr||F.VN(z);this.gk.push(z);
this.RS.set(z[2],z)}e.Nc(this.dU,this.gk);this.QS=null}A(){this.g=this.Tg=null}NZ(z){return this.RS.get(z)}qX(z){const F=this.Tg.yp;let H=0;const J=this.gk;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.$e(M[1]);let Z=!0;if(!T.KD()||F)M=this.g.ji(M,this,!0),z.push(M),T.Of()&&(Z=!1,this.Yz.push(M.dd));Z&&(J[H]=J[P],++H)}e.We(J,H);this.g.Pd();this.Gg()}Ig(z,F){const H=z.j();if(H.aa()!==this)throw Error("instance added to wrong layer");this.G.push(z);0!==H.hb()&&(this.Xo=!0);F&&this.Lo()&&
z.j().Ja();this.Gg()}l9(z){this.G.includes(z)||(this.G.push(z),0!==z.j().hb()&&(this.Xo=!0),this.Gg())}k$(z){const F=z.j();if(F.aa()!==this)throw Error("instance added to wrong layer");this.G.unshift(z);0!==F.hb()&&(this.Xo=!0);this.Gg()}Ro(z,F){const H=this.G.indexOf(z);0>H||(F&&this.Lo()&&z.j().RQ(),this.G.splice(H,1),this.Gg(),this.vQ())}fR(){this.Xo=!0}vQ(){0===this.G.length&&(this.Xo=!1)}lG(z){if(z){z=new Set;for(var F of this.G){var H=F.j().Bk;0<=H&&z.add(H)}F=-1;for(const J of this.G)if(H=
J.j(),!(0<=H.Bk)){for(++F;z.has(F);)++F;H.yz(F)}}this.G.sort(r)}t7(){for(const z of this.G)z.H().Of()||this.g.Wn(z);this.g.Pd();e.F(this.G);this.Xo=!1;this.Gg()}Kt(z,F,H,J,M){const P=this.g.na(),R=this.g.Tc,T=z.ab,Z=[];for(const Y of this.gk){var X=Y[0];if(F.Af(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.yL(X))continue}else continue;X=this;var ba=this.g.Wa();this.ec()!==ba&&((X=ba.WL(this.Ca()))||(X=ba.vD(this.Ha())));ba=this.g.ji(Y,X,!1,void 0,void 0,!1,M);X.XE(ba);X=ba.j();X.Gq(H,J);X.Ja();P.te(!0);
ba.Az();P.te(!1);Z.push(ba)}}return Z}ec(){return this.Tg}Ca(){return this.Ka}fG(z){this.Pa=z}Ha(){return this.Pa}I(){return this.g}vj(){return this.g.vj()}li(){this.su();return this.Gh}su(){const z=this.vq();if(this.Kl||z!==this.Fw){var F=this.Oa.Xf;this.Gh.NC(F.map(H=>H.Kf()),{zs:F.map(H=>H.Ha()),jC:!z,zC:!0});this.Kl=!1;this.Fw=z}}Ah(){this.Oa.Ah();this.Kl=!0}Lo(){return this.lda&&!this.mU}s4(){this.MA=!1}zc(){for(const z of this.Yea())if(!z.Hv)return!1;return!0}Tf(z){z=!!z;this.Hv!==z&&(this.Hv=
z,this.g.ba())}Wt(z){z=!!z;if(this.xl!==z){if(this.xl=z)z=this.ec(),this.Vh=z.If(),this.Wh=z.Jf();this.Lm();this.g.ba()}}Ci(z){var F=this.ec();const H=F.fM();F=F.gM();z>F&&(z=F);z<H&&(z=H);this.Vh!==z&&(this.Vh=z,this.xl&&(this.Lm(),this.g.ba()))}Di(z){var F=this.ec();const H=F.hM();F=F.eM();z>F&&(z=F);z<H&&(z=H);this.Wh!==z&&(this.Wh=z,this.xl&&(this.Lm(),this.g.ba()))}If(){return this.xl?this.Vh:this.ec().If()}Jf(){return this.xl?this.Wh:this.ec().Jf()}HF(){const z=this.ec();return[z.ED(),z.FD()]}qM(z,
F){var H=this.sU;if(0===z)F.ua(H);else{let R=H.Gs(),T=H.Hs();var J=this.DL(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.HF();if(.5!==X||.5!==ba){const Y=this.bt();var M=this.g,P=100/Y;J=(X-.5)*M.mg/P;M=(ba-.5)*M.lg/P;P=this.Ta();0!==P&&(w.set(J,M),w.rotate(P),J=w.ga,M=w.X);z=e.yC(Y,0,z);R+=e.ae(J,0,z);T+=e.ae(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Ae(){return this.ib.Ya}cl(z){z=e.ia(z,0,1);this.ib.Ya!==z&&(this.ib.Is(z),this.LR(),this.g.ba())}LR(){this.oB.ua(this.ib);this.oB.xK()}zD(){return this.oB}vq(){return this.ib.hC(1,
1,1,1)}t4(z){this.qn!==z&&(this.qn=z,this.Lm(),this.g.ba())}p4(z,F){if(this.tf!==z||this.uf!==F)if(this.tf=z,this.uf=F,this.Lm(),this.g.ba(),1!==this.tf||1!==this.uf)for(const H of this.G)H.H().cG(!0)}ff(z){this.ed!==z&&(this.ed=z,this.g.ba())}hb(){return this.ed}kd(z){z=e.se(z);this.Yf!==z&&(this.Yf=z,this.Lm(),this.g.ba())}Ta(){return e.se(this.Tg.Ta()+this.Yf)}H_(){return 0<this.G.length}FF(){return this.uE()&&this.mU?(e.Nc(G,this.G),G.sort((z,F)=>this.jba(z,F)),G):this.G}$O(z){e.Hn(z,this.FF());
for(const F of this.tn)F.zc()&&0<F.Ae()&&F.$O(z)}jba(z,F){var H=this.ec().UR,J=H[0],M=H[1];H=H[2];var P=z.j();const R=F.j();F=P.qa()-J;z=P.ra()-M;P=P.hb()-H;J=R.qa()-J;M=R.ra()-M;H=R.hb()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}E4(z){z=!!z;this.lk!==z&&(this.lk=z,this.g.ba())}d4(z){z=!!z;this.VH!==z&&(this.VH=z,this.g.ba())}wN(){return!this.I().$l||!this.$ca}uE(){return!this.wN()}uq(){return this.uE()&&this.ec().yca}EE(){if(!this.uq())return!1;for(const z of this.tn)if(!z.EE())return!1;return!0}Qf(z){this.Mg!==
z&&(this.Mg=z,this.g.ba())}tj(){return this.Mg}C_(){for(const z of this.tn)if(z.Sy())return!0;return!1}*tV(){for(const z of this.tn)yield*z.tV();yield this}*Mea(){let z=this.ET;for(;z;)yield z,z=z.ET}*Yea(){yield this;yield*this.Mea()}f1(z){return this===z||this.tf===z.tf&&this.uf===z.uf&&this.Vd===z.Vd&&this.qn===z.qn&&this.Yf===z.Yf&&this.If()===z.If()&&this.Jf()===z.Jf()}y$(z){0!==z.size&&0<e.ng(this.G,z)&&(this.vQ(),this.Gg())}Gg(){this.MA=this.MJ=!1}Du(){if(!this.MJ){this.G.sort(v);if(this.Lo())for(let z=
0,F=this.G.length;z<F;++z){const H=this.G[z].j();H.yz(z);this.bs.y1(H.bw)}else for(let z=0,F=this.G.length;z<F;++z)this.G[z].j().yz(z);this.MJ=!0}}F1(z,F,H){var J=z.j();F=F.j();if(J.aa()!==this||F.aa()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.th();F=F.th();if(J===F+(H?1:-1))return!1;e.yda(this.G,J);J<F&&F--;H&&F++;F===this.G.length?this.G.push(z):this.G.splice(F,0,z);this.Gg();return!0}t9(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=
z[J],Z=F[M];T.j().Bk<Z.j().Bk?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}s9(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.t9(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}r9(z){for(;1<z.length;)z=this.s9(z);return z[0]}c8(){this.Du();e.F(d);this.bs.Ey(this.kg,d);return d.length?1===d.length?d[0]:this.r9(d):[]}Sy(){return this.zc()&&0<this.Ae()&&this.xP()}xP(){if(this.H_()||!this.lk)return!0;for(const z of this.tn)if(z.xP())return!0;
return!1}cu(){return this.VH||!this.vq()||0!==this.tj()||this.Oa.yt()}FE(){if(this.cu())return!0;for(const z of this.tn)if(z.FE())return!0;return!1}Tk(){return this.Me}DL(z){if(this.Tg.nf)return 1;{const F=this.bt();return F/(F-z)}}bt(){return 100/this.pi()}Lm(){this.SA=this.aI=!0}jz(z){this.aI&&(this.Y5(z,this.Uv),this.aI=!1);return this.Uv}K7(){var z=this.g,F=this.ec(),H=z.um(),J=z.hB,M=z.iB;J=(this.If()-J)*this.tf+J;var P=(this.Jf()-M)*this.uf+M;z.Cl&&(J=Math.round(J),P=Math.round(P));M=(J+0)*
H;J=(P+0)*H;F=F.nf?100:this.bt();const [R,T]=this.HF();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*z.mg*H/Z;z=(T-.5)*z.lg*H/Z;H=this.Ta();0!==H&&(w.set(P,z),w.rotate(H),P=w.ga,z=w.X);M+=P;J+=z}return[M,J,F]}Y5(z,F){const H=this.g;var J=this.ec();const M=H.um();if(this.uq()){g.ua(p,J.UR);g.ua(q,J.aca);g.ua(u,J.bca);J=H.hB;const P=H.iB,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.tf+J;p[1]=(p[1]-P)*this.uf+P;p[2]*=Math.max(this.tf,this.uf);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,M,M,1);
g.multiply(p,p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.K7();g.set(p,P,R,T);g.set(q,P,R,T-100);J=this.Ta();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.VK(F,p,q,u,H.O.ki());1!==M&&(g.set(l,M,M,1),h.scale(F,F,l))}Vaa(){this.SA=this.eI=!0}kz(z){this.eI&&(this.Z5(z),this.eI=!1);return this.pk}Z5(z){const F=this.g.O,[H,J]=this.HF();this.Tg.nf?z.JW(this.pk,F.xj(),F.ki()):.5===H&&.5===J?h.ua(this.pk,F.aA):z.jq(this.pk,F.xj()/F.ki(),H,J)}wz(z){z.Do(this.kz(z));let F;F=this.jz(z);z.Qq(F)}I2(z){this.wz(z);
z.Mq(this.hb())}tg(z,F,H){var J=this.g.O;const M=this.cu();var P=null;let R=null;if(this.g.YD()&&z.Zk()){const T=J.XL(this);T&&(R=T.IC(),z.aF(R))}M?(P={oj:this.g.wd},"low"===J.Kh&&(P.width=J.xj(),P.height=J.ki()),this.Me=P=this.g.Ys(P),z.Eg(P),this.lk&&z.Tn()):(this.Me=F,z.Eg(F));this.lk||z.xd(this.ol);this.Tg.vP(z,this.Me,this.tn,M&&this.lk);this.wz(z);z.Mq(this.hb());z.Dg(this.uE());this.pi()>Number.EPSILON&&(this.Du(),J=this.Lo()&&0===this.hb()&&!this.Xo,this.uq()?this.j7(z):J?this.k7(z):this.uP(z,
this.FF()));z.Mq(0);z.Qt(0);M&&(z.Dg(!1),this.l7(z,P,F,H));R&&z.cD(R);this.Me=null}uP(z,F){const H=this.kg,J=this.Me,M=this.ec().nf,P=this.ec().vM();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.j();ba.zc()&&ba.IM(H,P,M)&&this.gl(X,ba,z,J)}}j7(z){const F=this.Me,H=this.br(),J=this.FF();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.j();if(!P.zc()||!P.zq(H)){++T;continue}(!M.Kq()||0<P.Xc)&&A.push(M);var R=M.j().Mf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=
J[X],Y=ba.j();if(Y.zc()&&Y.zq(H)){if(Y.Mf()!==R)break;ba.Kq()?(0<Y.Xc&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].YM()){this.g7(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.j(),P.vz(!0),this.gl(M,P,z,F),P.vz(!1)}else{this.gl(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.j(),R.aa().gl(P,R,z,F))}T=X;e.F(y);e.F(A)}}g7(z,F){const H=this.Me;z.fL();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.j();M.sz(!0);this.zF(J,M,z)}z.eL();for(let P=0,R=F.length;P<R;++P)J=F[P],
M=J.j(),this.gl(J,M,z,H),M.sz(!1);z.dL()}k7(z){var F=this.bs;const H=this.ica,J=this.Gca,M=this.kg;H.set(F.Fi(M.W),F.Gi(M.R),F.Fi(M.la),F.Gi(M.da));this.MA&&H.rd(J)?F=this.iI:(F=this.c8(),this.MA=!0,J.ua(H));this.uP(z,F);F!==this.iI&&e.Nc(this.iI,F)}gl(z,F,H,J){F.yt()?this.i7(z,F,H,J):this.zF(z,F,H)}zF(z,F,H){F=F.Tp;H.Qi!==F&&F.oW();z.tg(H)}i7(z,F,H,J){this.h7(z,F,H,J)&&this.wz(H)}h7(z,F,H,J){const M=F.bg.li();M.zo(H,J,{aC:z,In:F.tj(),devicePixelRatio:this.g.ht(),Qw:this.g.it()*this.pi(),oC:this.Ta(),
Es:F.Pc(),Lw:M.Uu?null:this.A8(F),NU:null,HU:null,IU:null,KV:null});H.Mq(this.hb());return M.Wm}l7(z,F,H,J){const M=this.g;0===this.Oa.Xf.length?(z.Eg(H),z.Sj(),J&&0===this.Mg&&this.vq()?z.gL(F):(z.Qf(this.Mg),z.Em(this.oB),z.Dx(F)),z.yq(F),M.wo(F)):this.li().zo(z,H,{aC:this,In:this.tj(),devicePixelRatio:M.ht(),Qw:M.it()*this.pi(),oC:this.Ta(),Es:this.kg,Lw:null,hK:!0})}mO(z){this.Vd!==z&&(this.Vd=z,this.Tg.jx(),this.Lm(),this.g.ba())}um(){return this.pi()*this.g.um()}wj(){return this.pi()*this.g.wj()}pi(){return(this.Vd*
this.Tg.Vd-1)*this.qn+1}gF(){var z=this.g.hB,F=this.g.iB,H=(this.If()-z)*this.tf+z,J=(this.Jf()-F)*this.uf+F;z=this.pi();F=this.g.mg/z;z=this.g.lg/z;H-=F/2;let M=J-z/2;this.g.Cl&&(H=Math.round(H),M=Math.round(M));J=this.sU;J.set(H,M,H+F,M+z);F=this.Ta();0!==F&&(a.ua(J),a.offset(-J.Gs(),-J.Hs()),b.afa(a,F),b.cK(a),a.offset(J.Gs(),J.Hs()),J.ua(a));F=this.ed;this.qM(F,this.kg);this.uq()?this.LW(F,this.Fn):this.Fn.ua(this.kg)}LW(z,F){var H=this.g.O,J=H.md;H=H.Wc;const [M,P]=this.Ik(0,0,z),[R,T]=this.Ik(J,
0,z),[Z,X]=this.Ik(J,H,z),[ba,Y]=this.Ik(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}Ik(z,F,H=0){return this.c6(z,F,H,this.wj())}c6(z,F,H,J){const M=this.g;var P=M.pb();const R=this.pi();m.set(n,0,0,M.mg/R,M.lg/R);z/=J;F=n[3]-F/J;J=this.kz(P);P=this.jz(P);return e.J.g5(z,F,H,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}ro(z,F){return this.oQ(z,
F,0,this.wj())}Lj(z,F,H=0){return this.oQ(z,F,H,this.um()*this.vj())}oQ(z,F,H,J){var M=this.g,P=M.pb();const R=this.pi();m.set(n,0,0,M.mg/R,M.lg/R);M=this.kz(P);P=this.jz(P);return e.J.K2(z,F,H,P,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}A8(z){var F=z.Pc(),H=z.Mf();z=z.Xc;const J=H+z,M=F.W,P=F.R,R=F.la;F=F.da;if(this.uq()){if(this.Km(M,P,H)||this.Km(R,P,H)||this.Km(R,F,H)||this.Km(M,F,H)||0<z&&(this.Km(M,P,J)||this.Km(R,P,J)||this.Km(R,F,J)||this.Km(M,F,J)))return null}else if(J>=this.bt())return null;
let [T,Z]=this.Lj(M,P,H),[X,ba]=this.Lj(R,F,H);if(0!==this.Ta()||0<z){const [Y,va]=this.Lj(R,P,H),[ta,ya]=this.Lj(M,F,H);if(0<z){const [Na,Sa]=this.Lj(M,P,J),[Ta,Ua]=this.Lj(R,P,J),[Wa,eb]=this.Lj(R,F,J),[fb,Pa]=this.Lj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}br(){this.SA&&
(this.Fba(),this.SA=!1);return this.rU}Fba(){var z=this.g.pb();const F=this.kz(z);z=this.jz(z);this.rU.KW(z,F)}Km(z,F,H){return this.br().M0(z,F,H)}ka(){return{s:this.Vd,a:this.Yf,vl:this.kg.W,vt:this.kg.R,vr:this.kg.la,vb:this.kg.da,v:this.Hv,bc:this.ol.toJSON(),t:this.lk,sx:this.Vh,sy:this.Wh,hosp:this.xl,px:this.tf,py:this.uf,c:this.ib.toJSON(),sr:this.qn,fx:this.Oa.td(),cg:this.Yz}}ta(z){this.Vd=z.s;this.Yf=z.a;this.kg.set(z.vl,z.vt,z.vr,z.vb);this.Hv=!!z.v;this.ol.hm(z.bc);this.lk=!!z.t;z.hasOwnProperty("sx")&&
(this.Vh=z.sx);z.hasOwnProperty("sy")&&(this.Wh=z.sy);z.hasOwnProperty("hosp")&&(this.xl=!!z.hosp);this.tf=z.px;this.uf=z.py;this.ib.hm(z.c);this.qn=z.sr;e.Nc(this.Yz,z.cg);e.Nc(this.gk,this.dU);const F=new Set(this.Yz);let H=0;for(let J=0,M=this.gk.length;J<M;++J)F.has(this.gk[J][2])||(this.gk[H]=this.gk[J],++H);e.We(this.gk,H);this.Oa.hd(z.fx);this.Kl=!0;this.lG(!1);this.Gg()}XE(z){if(!this.G.includes(z))if(z.cf()){var F=[...z.Ck()];F.push(z);F.sort((J,M)=>{J=J.j().rq();M=M.j().rq();return J-M});
for(var H of F)if(H.Xb())for(const J of H.Dd)F.includes(J)||(z=[...J.Ck()],z.push(J),z.sort((M,P)=>{M=M.j().rq();P=P.j().rq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Ig(J,!0)}else if(this.Ig(z,!0),z.Xb())for(F of z.Dd)if(H=[...F.Ck()],H.push(F),H.sort((J,M)=>{J=J.j().rq();M=M.j().rq();return J-M}),H&&H.length)for(const J of H)this.Ig(J,!0)}}}
{"use strict";const e=self.B,a=self.pg;e.m(e.Rect);e.m(e.Rect);const b=e.m(e.Rect),d=e.m(e.fb),c=self.nj.AC,g=[],m=[],h=[],l=[];let n=null;function p(q,u){n!==q&&(q.I2(u),n=q)}e.k1=class extends e.ja{constructor(q,u,w){super();this.eb=q;this.g=q.I();this.Ka=w[0];this.Wca=w[1];this.Vca=w[2];this.V=w[1];this.T=w[2];this.RA=!!w[3];this.nf=!!w[4];this.TB=w[5];this.UB=w[6];this.lS=w[7];this.Zc=null;this.lb=w[8];this.Pa=u;this.Wh=this.Vh=0;this.Vd=1;this.Yf=0;this.Kr=new Set;this.bh=new Set;this.rw=new Set;
this.rr=[];this.IH=[];this.yca=!1;this.UR=c.create();this.aca=c.create();this.bca=c.create();this.vB=[];this.Zb=[];this.mT=new Map;this.nT=new Map;const r=this.g.O;this.Oa=e.m(e.Jk,this,w[11]);this.Gh=e.m(e.J.ve,r.iH,{gC:(v,y)=>{y=y.Vm.Tk();v.Mt();v.Dx(y);v.yq(y);r.wo(y)},lC:v=>this.Oa.Nk(v)});this.Kl=!0;this.uU=!1;this.Me=null;this.Jp={};this.yp=!0;this.sv=new self.T_(this);this.Zd=e.m(e.Event.Wb);for(const v of w[9])this.vB.push(e.m(e.OM,this,null,v));this.Zb=[...this.pda()];for(let v=0,y=this.Zb.length;v<
y;++v)q=this.Zb[v],q.fG(v),q.Jg(),this.mT.set(q.Ca().toLowerCase(),q),this.nT.set(q.lb,q);for(const v of w[10]){w=this.g.$e(v[1]);if(!w)throw Error("missing nonworld object class");w.yr||w.VN(v);this.IH.push(v);this.TO(w)}}A(){for(const q of this.Zb)q.A();e.F(this.Zb);this.rw.clear();this.g=this.eb=this.Zc=null}I(){return this.g}Ca(){return this.Ka}Ha(){return this.Pa}li(){this.su();return this.Gh}su(){const q="low"===this.g.O.Kh;if(this.Kl||this.uU!==q){var u=this.Oa.Xf;this.Gh.NC(u.map(w=>w.Kf()),
{zs:u.map(w=>w.Ha()),ZJ:q,zC:!0});this.Kl=!1;this.uU=q}}Ah(){this.Oa.Ah();this.Kl=!0}ZL(){let q=this.Zb[0].pi();for(let u=1,w=this.Zb.length;u<w;++u){const r=this.Zb[u];if(0!==r.tf||0!==r.uf)q=Math.min(q,r.pi())}return q}VP(){return.5*this.g.mg/this.ZL()}WP(){return.5*this.g.lg/this.ZL()}fM(){return this.RA?-Infinity:this.VP()}gM(){return this.RA?Infinity:this.fa()-this.VP()}hM(){return this.RA?-Infinity:this.WP()}eM(){return this.RA?Infinity:this.ea()-this.WP()}Ci(q){const u=this.fM(),w=this.gM();
q>w&&(q=w);q<u&&(q=u);this.Vh!==q&&(this.Vh=q,this.Wj(),this.g.ba())}If(){return this.Vh}Di(q){const u=this.hM(),w=this.eM();q>w&&(q=w);q<u&&(q=u);this.Wh!==q&&(this.Wh=q,this.Wj(),this.g.ba())}Jf(){return this.Wh}jx(){this.Ci(this.If());this.Di(this.Jf());for(const q of this.Zb)q.xl&&(q.Ci(q.If()),q.Di(q.Jf()))}H4(q,u){if(this.TB!==q||this.UB!==u)this.TB=q,this.UB=u,this.Y0()&&(this.gr(),this.Wj(),this.g.ba())}ED(){return this.nf?.5:this.TB}FD(){return this.nf?.5:this.UB}vM(){const q=this.ED(),u=
this.FD();return 0>q||1<q||0>u||1<u}oO(){this.nf&&(this.nf=!1,this.gr(),this.Wj(),this.g.ba())}lO(){this.nf||(this.nf=!0,this.gr(),this.Wj(),this.g.ba())}Y0(){return!this.nf}NE(q){this.Vd!==q&&(this.Vd=q,this.Wj(),this.jx(),this.g.ba())}kd(q){q=e.se(q);this.Yf!==q&&(this.Yf=q,this.Wj(),this.g.ba())}Ta(){return this.Yf}fa(){return this.V}xh(q){!isFinite(q)||1>q||(this.V=q)}ea(){return this.T}Bi(q){!isFinite(q)||1>q||(this.T=q)}*pda(){for(const q of this.vB)yield*q.tV()}aa(q){return"number"===typeof q?
this.vD(q):this.WL(q.toString())}vD(q){q=e.ia(Math.floor(q),0,this.Zb.length-1);return this.Zb[q]}WL(q){return this.mT.get(q.toLowerCase())||null}Vx(q){return this.nT.get(q)||null}gr(){for(const q of this.Zb)q.Vaa()}Wj(){for(const q of this.Zb)q.Lm()}XZ(){let q=this.vB.filter(u=>u.Sy())[0];for(;q;){if(!q.lk)return d.kj(q.ol),d.Is(1),d;if(q.cu())return d.On(0,0,0,0),d;q=q.tn.filter(u=>u.Sy())[0]}d.On(0,0,0,0);return d}NP(){return[...this.Kr]}TO(q){if(q.Xb())for(const u of q.Ng.Nl)this.Kr.add(u);else this.Kr.add(q)}i8(){return[...this.bh]}LF(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.jX(this.bh,q.bh),q.bh.clear());q=[];for(const w of this.Kr)this.bh.has(w)||(q.push(w.Dq(u)),this.bh.add(w));return Promise.all(q)}async WM(q){if(q.ab)throw Error("cannot load textures for family");var u=this.g.pb();!u||u.mo()||this.bh.has(q)||(this.bh.add(q),u=q.Dq(u),this.L5(u),await u,q.By(),this.g.ba())}L5(q){this.rw.add(q);q.then(()=>this.rw.delete(q)).catch(()=>this.rw.delete(q))}q5(){return Promise.all([...this.rw])}C1(q){if(q.ab||0<q.G.length)throw Error("cannot unload textures");
this.g.pb()&&this.bh.has(q)&&(this.bh.delete(q),q.xo())}vba(q,u){if(q!==this&&u)for(const w of this.bh)w.Of()||q.Kr.has(w)||(w.xo(),this.bh.delete(w))}vu(){this.bh.clear()}async AR(q){const u=this.g,w=this.eb,r=u.na();this.lS&&(this.Zc=r.NL(this.lS),this.Zc.qG());w.lR(this);this.V=this.Wca;this.T=this.Vca;this.Vh=u.Wg/2;this.Wh=u.Vg/2;this.jx();this.u9(q);this.q6();this.yp||this.s6();this.iP(this.rr);this.r6();w.VW();u.Pd();const v=this.g.Lba;await Promise.all(v);e.F(v);if(!u.jk){for(const y of this.rr)y.L4();
for(const y of this.rr)y.CR()}e.F(this.rr);await Promise.all([...this.Kr].map(y=>y.pE(this.g.pb())));q&&(u.Wb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.Xn(new e.Event("beforeprojectstart")));await this.Xn(new e.Event("beforelayoutstart"));u.jk||await u.Sc(e.C.Ga.N.fN,null,null);await this.Xn(new e.Event("afterlayoutstart"));q&&(u.Wb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.Xn(new e.Event("afterprojectstart")));r.W$(w);await this.q5();this.gr();this.Wj();this.yp=
!1}u9(q){for(const w of this.g.Tc)if(!w.ab&&w.pf)for(const r of w.oa()){const v=r.j();var u=v.aa();u=e.ia(u.Ha(),0,this.Zb.length-1);u=this.Zb[u];v.zu(u);u.l9(r)}if(!q)for(const w of this.Zb)w.lG(!1)}q6(){for(const q of this.Zb)q.qX(this.rr),q.gF()}s6(){let q=!1;for(const [w,r]of Object.entries(this.Jp)){const v=this.g.Yx(parseInt(w,10));if(v&&!v.ab&&v.KD()){for(const y of r){var u=null;if(v.pf&&(u=this.Vx(y.w.l),!u))continue;u=this.g.ji(v,u,!1,0,0,!0);u.hd(y);q=!0;this.rr.push(u)}e.F(r)}}for(const w of this.Zb)w.lG(!0),
w.Gg();q&&(this.g.Pd(),this.g.MQ())}iP(q){for(const w of q){if(!w.Xb())continue;const r=w.j(),v=w.ao();for(const y of w.H().Ng.Nl)if(y!==w.H()){var u=y.oa();u.length>v?w.Zq(u[v]):(u=r?this.g.ji(y,r.aa(),!0,r.qa(),r.ra(),!0):this.g.ji(y,null,!0,0,0,!0),this.g.Pd(),y.Bz(),w.Zq(u),q.push(u))}}}r6(){for(const q of this.IH)this.g.$e(q[1]).Xb()||this.g.ji(q,null,!0)}o6(){const q=[],u=this.IH;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.$e(y[1]);A.Of()?A.Xb()&&A.Ng.D_()||q.push(this.g.ji(y,
null,!0)):(u[w]=y,++w)}e.We(u,w);this.g.Pd();this.iP(q)}Kt(q,u,w,r,v,y){if(w)return w.Kt(q,u,r,v,y);w=[];for(const A of this.Zb)w.push(A.Kt(q,u,r,v,y));return w.flat()}async nba(){const q=this.eb;this.g.jk||await this.g.Sc(e.C.Ga.N.g2,null,null);q.fO(!0);this.g.na().ox();this.yp||this.gaa();for(const u of this.Zb)u.t7();for(const u of this.g.Tc)if(!(u.Of()||u.pf||u.Db().an||u.ab)){for(const w of u.oa())this.g.Wn(w);this.g.Pd()}q.fO(!1);q.Sb()===this&&q.lR(null)}daa(q){const u=q.H().lb.toString();
this.Jp.hasOwnProperty(u)||(this.Jp[u]=[]);this.Jp[u].push(q.td())}gaa(){for(const q of this.Zb){q.Du();for(const u of q.G){const w=u.H();!w.Of()&&w.KD()&&this.daa(u)}}}q3(){this.Jp={};this.yp=!0}Tk(){return this.Me}cu(){const q=this.g,u=q.pb().Zk();return"low"===q.O.Kh||u&&q.QB||"low-latency"===q.qr||this.Oa.yt()||u&&q.$l}tg(q){const u=this.g.O,w=this.cu();if(w){"low-latency"!==this.g.qr&&(q.Eg(null),q.Tn());const r={oj:this.g.wd,lK:this.g.QB||this.Oa.yt()};"low"===u.Kh&&(r.width=u.xj(),r.height=
u.ki());this.Me=this.g.Ys(r)}else this.Me=null;q.Eg(this.Me);q.xd(this.XZ());this.g.$l&&q.SW();for(const r of this.Zb)r.gF();this.vP(q,this.Me,this.vB,!0);w&&(q.Dg(!1),this.m7(q,this.Me));this.Me=null}vP(q,u,w,r){w=w.filter(v=>v.Sy());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.EE()&&!A.FE()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.EE()&&!z.FE())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].C_()){this.e7(q,u,g);v+=g.length;e.F(g);continue}e.F(g)}A.tg(q,u,r&&0===v);++v}}m7(q,
u){const w=this.g;0===this.Oa.Xf.length?(q.Eg(null),q.Sj(),q.gL(u),q.yq(u),w.wo(u)):(b.set(0,0,w.mg,w.lg),this.li().zo(q,null,{aC:this,In:3,devicePixelRatio:this.g.ht(),Qw:this.g.it()*this.Vd,oC:this.Ta(),Es:b,Lw:null,hK:!0}))}e7(q,u,w){w[0].lk||(d.kj(w[0].ol),d.Is(1),q.xd(d));var r=this.g.O;q.Dg(!0);for(var v of w)v.Du(),v.$O(m);v=w[0];w=null;this.g.YD()&&q.Zk()&&(r=r.XL(v))&&(w=r.IC(),q.aF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.j(),A=y.aa();if(y.zc()&&y.zq(A.br())){(!v.Kq()||0<y.Xc)&&l.push(v);
var G=v.j().Mf();h.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.j();if(J.zc()&&J.zq(J.aa().br())){if(J.Mf()!==G)break;H.Kq()?(0<J.Xc&&l.push(H),h.push(H)):l.push(H)}}if(1!==h.length||h[0].YM()){this.f7(q,u,h);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.j(),A=y.aa(),y.vz(!0),p(A,q),A.gl(v,y,q,u),y.vz(!1)}else{p(A,q);A.gl(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.j(),G=A.aa(),p(G,q),G.gl(y,A,q,u))}z=r;e.F(h);e.F(l)}else++z}w&&q.cD(w);e.F(m);n=null}f7(q,u,w){q.fL();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.j(),y=v.aa();v.sz(!0);p(y,q);y.zF(r,v,q)}q.eL();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.j(),y=v.aa(),p(y,q),y.gl(r,v,q,u),v.sz(!1);q.dL()}ka(){const q={sx:this.If(),sy:this.Jf(),s:this.Vd,a:this.Ta(),w:this.fa(),h:this.ea(),ortho:this.nf,vpX:this.ED(),vpY:this.FD(),fv:this.yp,persist:this.Jp,fx:this.Oa.td(),layers:{}};for(const u of this.Zb)q.layers[u.lb.toString()]=u.ka();return q}ta(q){this.Vh=q.sx;this.Wh=q.sy;this.Vd=q.s;this.Yf=q.a;this.V=q.w;this.T=q.h;this.nf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.TB=q.vpX);q.hasOwnProperty("vpY")&&(this.UB=q.vpY);this.yp=!!q.fv;this.Jp=q.persist;this.Oa.hd(q.fx);this.Kl=!0;for(const [u,w]of Object.entries(q.layers))(q=this.Vx(parseInt(u,10)))&&q.ta(w);this.gr();this.Wj()}kh(q){q.pC=this.sv;var u=this.g;(u=u.zb&&!u.na().ry())&&a.$E();this.Zd.dispatchEvent(q);u&&a.HC()}Xn(q){q.pC=this.sv;return this.Zd.YJ(q)}}}
{"use strict";const e=self.B;e.l1=class extends e.ja{constructor(a){super();this.g=a;this.Li=[];this.rI=new Map;this.sI=new Map;this.Rv=null;this.YI=[];this.jA=null;this.HA=0;this.Zv=null}A(){this.Zv=this.jA=this.Rv=this.g=null;e.F(this.Li);this.rI.clear();this.sI.clear();e.F(this.YI)}Qa(a){a=e.m(e.k1,this,this.Li.length,a);this.Li.push(a);this.rI.set(a.Ca().toLowerCase(),a);this.sI.set(a.lb,a)}I(){return this.g}a4(a){this.jA=a}FZ(){if(this.jA)return this.jA;if(this.Li.length)return this.Li[0];throw Error("no first layout");
}pq(a){return this.rI.get(a.toLowerCase())||null}wD(a){return this.sI.get(a)||null}YZ(a){a=e.ia(Math.floor(a),0,this.Li.length-1);return this.Li[a]}ec(a){return"number"===typeof a?this.YZ(a):this.pq(a.toString())}lR(a){this.Rv=a}Sb(){return this.Rv}*Zw(){this.Rv&&(yield this.Rv);this.YI.length&&(yield*this.YI)}fO(a){if(a)this.HA++;else{if(0>=this.HA)throw Error("already unset");this.HA--}}FM(){return 0<this.HA}nx(a){this.Zv=a}VW(){this.Zv=null}Aq(){return!!this.Zv}Co(){const a=this.Sb();a&&a.gr()}Bo(){const a=
this.Sb();a&&a.Wj()}}}
{"use strict";const e=self.B;e.Z4=class extends e.ja{constructor(a){super();this.g=a;this.ww=e.m(e.Hg);this.Xca=null;this.un=[];this.xw=new Map;this.Ml=new Map;this.vn=new Map;this.Zg=[];this.ne=[];this.Qh=[];this.Gv=this.nr=this.op=!1;this.Vl=()=>this.a$();this.ns=()=>this.b$();this.HG=()=>this.uu();this.qI=()=>this.w9();this.MH=b=>this.EQ(b.instance);this.uG=()=>this.TF();this.cv=[];this.Lc=0}A(){this.e3();this.uG=this.MH=this.qI=this.HG=this.ns=this.Vl=null;for(const a of this.un)a.Ge(),a.A();
e.F(this.un);this.un=null;this.ww.A();this.ww=null;e.F(this.Zg);this.Zg=null;e.F(this.ne);this.ne=null;e.F(this.Qh);this.Qh=null;this.xw.clear();this.xw=null;this.Ml.clear();this.Ml=null;this.vn.clear();this.vn=null;e.F(this.cv);this.g=this.cv=null}hW(){const a=this.g.Wb();a.addEventListener("pretick",this.Vl);a.addEventListener("tick2",this.ns);a.addEventListener("beforelayoutchange",this.HG);a.addEventListener("layoutchange",this.qI);a.addEventListener("instancedestroy",this.MH);a.addEventListener("afterload",
this.uG)}e3(){const a=this.g.Wb();a.removeEventListener("pretick",this.Vl);a.removeEventListener("tick2",this.ns);a.removeEventListener("beforelayoutchange",this.HG);a.removeEventListener("layoutchange",this.qI);a.removeEventListener("instancedestroy",this.MH);a.removeEventListener("afterload",this.uG)}Qa(a){this.ww.Oc(a);a=e.Io.pX(a,this);this.Oc(a);this.w4(a);this.vn.set(a.Ca(),0)}WC(a){a=a.lM();var b=this.ww.Y(a);b=e.Io.WC(`${a}:${this.vn.get(a)}`,b,this);this.eQ(a);this.Oc(b);return b}eQ(a){this.vn.set(a,
this.vn.get(a)+1)}Aaa(){for(const a of this.un)a.Mr||this.eQ(a.lM())}g6(){for(const a of this.vn.keys())this.vn.set(a,0)}Oc(a){this.un.push(a);this.xw.set(a.Ca().toLowerCase(),a)}vh(a){a.Hy();a.Mr||(e.Dk(this.un,a),e.Dk(this.Zg,a),e.Dk(this.ne,a),e.Dk(this.Qh,a),this.xw.delete(a.Ca().toLowerCase()),this.f3(a),a.Yg||a.A())}Xa(a){this.g.Xa(a,this.Xca,null)}I(){return this.g}sO(a,b){this.Ml.has(a)||this.Ml.set(a,new Set);this.Ml.get(a).add(b)}w4(a){for(const b of a.yD())this.sO(b,a)}f3(a){for(const [b,
d]of this.Ml.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Ml.delete(b))}r_(a){if(this.Ml.has(a))return this.Ml.get(a)}tt(a){return this.xw.get(a.toLowerCase())||null}d3(a){e.Dk(this.ne,a);this.ru()}ON(a){this.ne.includes(a)?(a.Tq(!0),a.Vq(!1),a.Qy(!1)):(a.Tq(!1),a.Vq(!0),a.Qy(!1),this.Zg.includes(a)||this.Zg.push(a));this.tQ()}xx(a){a.Tq(!1);a.Vq(!1);a.yE();e.Dk(this.Zg,a);this.ru()}aL(a){a.Tq(!1);a.Vq(!1);a.Qy(!0);this.Qh.push(a);e.Dk(this.ne,a)}bL(a){a.Tq(!1);a.Vq(!1);a.Qy(!1);a.Qj(1);e.Dk(this.ne,
a)}fX(a){this.aL(a);a.yE()}a$(){if(!this.I().jk&&this.op&&!this.nr){for(this.Gv=!0;this.Zg.length;){var a=this.Zg.pop();a.Rc();0!==a.Lc&&(this.Lc=1);this.ne.push(a)}a=this.g.dv;var b=this.g.gv,d=this.g.Yd;for(let c=this.ne.length-1;0<=c;c--)this.ne[c].He(a,d,b);this.Gv=!1;0!==this.Lc&&this.I().ba()}}b$(){if(!this.I().jk&&this.op&&!this.nr){var a;for(let b=0,d=this.Qh.length;b<d;b++){const c=this.Qh[b];a||(a=new Set);c.Hy();this.uQ(c);a.add(c)}if(a){e.ng(this.Qh,a);this.Lc=0;for(let b=0,d=this.ne.length;b<
d;b++)if(0!==this.ne[b].Lc){this.Lc=1;break}}this.ru()}}uQ(a){a.Yg||a.uM()&&a.Zf&&a.Zm&&a.AL()}tQ(){this.op||(this.op=!0)}ru(){this.Qh.length||this.ne.length||this.Zg.length||this.Gv||(this.op=!1)}uu(){for(this.nr=!0;this.Zg.length;)this.xx(this.Zg.pop());const a=new Set;for(const b of this.ne)b.uu()&&(b.Hy(),a.add(b));e.ng(this.ne,a);a.clear();for(const b of this.Qh)b.uu()&&(b.Hy(),a.add(b));e.ng(this.Qh,a);this.ru();for(const b of this.un)b.qj()}w9(){this.nr=!1}EQ(a){var b=a.H();if(b=this.r_(b))if(this.g.jk)this.cv.push(a);
else for(const d of b)d.Mr||(d.Yg?this.vh(d):d.uM()||(this.uQ(d),this.vh(d)))}TF(){for(const a of this.cv)this.EQ(a);e.F(this.cv)}ka(){return{timelinesJson:this.laa(),scheduledTimelinesJson:this.jaa(),playingTimelinesJson:this.haa(),markedForRemovalTimelinesJson:this.faa(),hasRuntimeListeners:this.op,changingLayout:this.nr,isTickingTimelines:this.Gv}}ta(a){a&&(this.g6(),this.f9(a.timelinesJson),this.c9(a.scheduledTimelinesJson),this.a9(a.playingTimelinesJson),this.Z8(a.markedForRemovalTimelinesJson),
this.op=!a.hasRuntimeListeners,this.nr=!!a.changingLayout,this.Gv=!!a.isTickingTimelines,this.Aaa(),this.tQ(),this.ru())}laa(){return this.un.map(a=>a.ka())}f9(a){for(const b of a){a=this.tt(b.name);if(!a){a=this.f8(b);if(!a)continue;a=this.tt(a);a=this.WC(a)}a.ta(b);a.M_()||this.vh(a)}}f8(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}jaa(){return this.aG(this.Zg)}c9(a){this.OF(a,this.Zg)}haa(){return this.aG(this.ne)}a9(a){this.OF(a,this.ne)}faa(){return this.aG(this.Qh)}Z8(a){this.OF(a,
this.Qh)}J8(a,b){for(const d of b)if(d===a.Ca())return!0;return!1}aG(a){return a.map(b=>b.Ca())}OF(a,b){var d=new Set;for(const c of b)this.J8(c,a)||d.add(c);e.ng(b,d);d=c=>g=>g.Ca()===c;for(const c of a)(a=this.tt(c))&&(b.find(d(c))||b.push(a))}}}
{"use strict";const e=self.B;e.Io=class extends e.ja{constructor(a,b,d){super();this.g=d.I();this.Eb=d;this.Md=b;this.Ka=a;this.kb=[];this.kU=0;this.jr=null;this.QR=0;this.mL();this.lB=this.$v=null;this.cc=0;this.$c=1;this.Kd=0;this.Hd=1;this.Zm=this.Dl=this.LA=!1;this.Zf=!0;this.cB=this.Yg=!1;this.pr=-1;this.Oe=this.lp=this.Mr=this.vA=!1;this.UA=NaN;this.ah=[""];this.eU="";this.pJ=!1;this.rA=this.Lc=0}static pX(a,b){const d=b.ww.Y(a[0]);a=e.m(e.Io,a[0],d,b);a.k4();return a}static WC(a,b,d){return e.m(e.Io,
a,b,d)}A(){if(!this.Yg){this.Eb.xx(this);this.Eb.fX(this);for(const a of this.kb)a.A();e.F(this.kb);this.Md=this.Eb=this.g=this.kb=null;this.Yg=!0;this.lB=this.$v=null}}mL(){for(const a of this.Md.ut().EV())this.kU=this.kb.push(e.fF.Qa(this,a))}I(){return this.g}nt(a,b,d){if(this.rA){var c;for(let m=0;m<this.kb.length;m++){var g=this.kb[m];a===g.Da()&&(g=g.Be(d))&&b.constructor===g.Jb().constructor&&(c||(c=[]),c.push(g))}return c}}M_(){return!!this.kb.length}t_(a){for(const b of this.kb)if(e.Ek(b.rm(),
a))return b;return null}Ry(a){this.Ka=a}Ca(){return this.Ka}lM(){return this.Md.Ca()}Lf(){return this.Md.Lf()}ot(){return this.Md.ot()}ni(){return this.Md.ni()}ee(){return this.Md.ee()}Pj(a){for(const b of this.kb)b.Pj(a)}Wx(){return this.Md.Wx()}$x(){return this.Md.$x()}rh(){return this.Md.rh()}Qj(a){this.$c=a}Jj(){return this.IsPlaying()?0<this.$c:!0}aM(){this.$v||(this.$v=new Promise(a=>{this.lB=a}))}yE(){this.$v&&(this.lB(),this.lB=this.$v=null)}rO(a){this.ah=e.Io.e8(a);this.pJ=!0}iN(){e.C.Gc.N.Fo(this);
this.Eb.Xa(e.C.Gc.N.rja);this.Eb.Xa(e.C.Gc.N.sja);this.Eb.Xa(e.C.Gc.N.tja);this.Eb.Xa(e.C.Gc.N.hja);e.C.Gc.N.Fo(null)}lE(){this.pr=this.g.sk}AL(){this.lp||(this.lp=!0,e.C.Gc.N.Fo(this),this.Eb.Xa(e.C.Gc.N.oja),this.Eb.Xa(e.C.Gc.N.pja),this.Eb.Xa(e.C.Gc.N.qja),this.Eb.Xa(e.C.Gc.N.gja),e.C.Gc.N.Fo(null))}Tq(a){this.LA=a}CM(){return this.pr===this.g.sk}IsPlaying(a=!1){return this.CM()||this.Dl&&!a?!0:this.LA}er(){return this.IsPlaying(!0)}Vq(a){this.Dl=a}UN(a){this.Zf=a;a=this.Ia();if(0>=a||a>=this.Lf())this.Zf=
!0}Qy(a){this.cB=a}KE(a){this.vA=a}k4(){this.Mr=!0}Ia(){return this.cc}Wq(a){const b=this.Ia();this.vc(a);this.UN(!1);this.Zf||this.KE(!0);if(this.er()||this.Dl||!this.Zm)this.er()||this.Dl||this.Zm?this.er()?this.Ge():this.Dl&&(this.Eb.xx(this),this.cO()):this.cO();this.Bu();this.JF(a,!0,b);this.kG();this.Lc&&this.I().ba();this.IQ()}vc(a){this.cc=0>a?0:a>=this.Lf()?this.Lf():a}IQ(){e.C.Gc&&this.constructor===e.Io&&(e.C.Gc.N.Fo(this),this.Eb.Xa(e.C.Gc.N.lja),this.Eb.Xa(e.C.Gc.N.mja),this.Eb.Xa(e.C.Gc.N.nja),
e.C.Gc.N.Fo(null))}Play(a=!1){return this.Yg||this.Dl?!1:this.er()&&this.CM()?this.paa():this.er()||!this.Zf&&!a&&!this.vA?!1:this.qaa()}paa(){this.KE(!1);this.Eb.d3(this);this.Eb.ON(this);this.aM();return!0}qaa(){this.KE(!1);this.Eb.ON(this);this.aM();return!0}Ge(a=!1){this.Yg||(this.UN(a),this.Eb.aL(this),this.Zf&&this.yE())}jd(a=!0,b=!1){if(!this.Yg)if(!this.er()&&this.Dl)this.Eb.xx(this);else if(!this.Zf){this.Ge(!0);this.Jj()?this.vc(0):this.vc(this.Lf());var d=this.Ia();this.Bu();b?this.B8(d):
this.JF(d,!1);a&&this.IQ();this.kG();this.Lc&&a&&this.I().ba()}}FN(){this.jd(!1,!0)}B8(a){this.JF(a,!1,NaN,!1,!0)}uu(){if(this.Yg)return!0;if(this.N_())return!1;this.Eb.bL(this);this.FN();return!0}cO(){this.Rc(!0)}Rc(a){if(!this.cB){if(a){this.Oe=this.Zm=!0;this.Bu();for(const b of this.kb)b.Rc()}else if(this.Tq(!0),this.Vq(!1),this.iN(),this.Zf){this.pr=-1;this.Kd=0;this.Hd=1;this.lp=this.Zf=!1;this.Oe=this.Zm=!0;this.Jj()?this.vc(0):this.vc(this.Lf());this.Bu();for(const b of this.kb)b.Rc()}else{this.Oe=
!0;this.Bu();for(const b of this.kb)b.Ee()}this.kG()}}Bu(){this.rA=0;for(const a of this.kb)a.$m&&(this.rA=1)}kG(){this.Lc=0;for(const a of this.kb)a.xz(),0===this.Lc&&1===a.Lc&&(this.Lc=1),this.jr||1!==a.hn||(this.jr||(this.jr=[]),this.QR=this.jr.push(a))}He(a,b){if(0!==a||0!==this.UA){this.UA=a;var d=this.cc;b=d+a*b*this.$c;a=this.Md.qs;this.cc=0>b?0:b>=a?a:b;var c=!1;b=this.Wx();var g=this.$x();b||g?b&&!g?0<this.$c?this.cc>=a&&this.vc(0):0>=this.cc&&this.vc(a):!b&&g?0<this.$c?this.cc>=a&&(this.vc(a),
this.Qj(-1*this.$c),1===this.Kd?this.Hd<this.rh()?(this.Hd++,this.Kd=0):c=!0:0===this.Kd&&(this.Kd=1)):0>=this.cc&&(this.vc(0),this.Qj(-1*this.$c),1===this.Kd?this.Hd<this.rh()?(this.Hd++,this.Kd=0):c=!0:0===this.Kd&&(this.Kd=1)):b&&g&&(0<this.$c?this.cc>=a&&(this.vc(a),this.Qj(-1*this.$c)):0>=this.cc&&(this.vc(0),this.Qj(-1*this.$c))):0<this.$c?this.cc>=a&&(this.Hd<this.rh()?(this.Hd++,this.vc(0)):(this.vc(a),c=!0)):0>=this.cc&&(this.Hd<this.rh()?(this.Hd++,this.vc(a)):(this.vc(0),c=!0));b=this.kU;
if(c){for(c=0;c<b;c++)this.kb[c].YN();this.Ge(!0);this.lE()}else{g=this.QR;for(c=0;c<g;c++)this.jr[c].Rn();if(1===this.rA)for(c=0;c<b;c++){const m=this.kb[c],h=m.bf(),l=d-h;0>this.cc-h&&0<l?(this.cc=0>h?0:h>=a?a:h,m.Ea(h,!0,!1,!1,this.Oe,!1)):m.Ea(this.cc,!0,!1,!1,this.Oe,!1)}else for(c=0;c<b;c++)this.kb[c].Ea(this.cc,!0,!1,!1,this.Oe,!1);for(c=0;c<g;c++)this.jr[c].Qn();this.Oe&&(this.Oe=!1)}}}JF(a,b=!1,d=NaN,c=!1,g=!1){for(var m of this.kb)m.Rn();for(const h of this.kb){m=a;if("number"===typeof d){const l=
this.Ia()-h.bf(),n=d-h.bf();0>l&&0<n&&(m=h.bf(),this.vc(m))}h.Ea(m,!1,b,!0,this.Oe,g)}for(const h of this.kb)h.Qn();this.Oe&&c&&(this.Oe=!1)}Hy(){if(!this.Yg)for(const a of this.kb)a.dl()}qj(){for(const a of this.kb)a.qj()}WW(){for(const a of this.kb)a.UW()}x4(a,b){if(b)for(const d of this.kb)if(d.vi()){if(a){if(d.rm()!==a)continue}else if(d.G_())continue;d.i4(b);this.Eb.sO(b.H(),this);break}}uM(){return this.kb.some(a=>a.vi()?a.QC():!0)}N_(){return this.kb.some(a=>a.vi()?a.QC()?(a=a.H())?a.Of():
!1:!1:!1)}Be(a){for(const b of this.kb)for(const d of b.bb)if(d.Ba.ad===a)return d}mM(a){for(const b of this.kb)if(a===b.Da())return b;return null}yD(){const a=[];for(const b of this.kb)a.push(b.H());return a.filter(b=>b)}ka(){return{tracksJson:this.naa(),name:this.Ka,playheadTime:this.Ia(),playbackRate:this.$c,pingPongState:this.Kd,currentRepeatCount:this.Hd,isPlaying:this.LA,isScheduled:this.Dl,initialStateSet:this.Zm,finishedTriggers:this.lp,complete:this.Zf,released:this.Yg,markedForRemoval:this.cB,
completedTick:this.pr,implicitPause:this.vA,isTemplate:this.Mr,tags:this.ah.join(" "),stringTags:this.eU,tagsChanged:this.pJ,firstTick:this.Oe}}ta(a){a&&(this.g9(a.tracksJson),this.Ka=a.name,this.cc=a.playheadTime,this.$c=a.playbackRate,this.Kd=a.pingPongState,this.Hd=a.currentRepeatCount,this.LA=!!a.isPlaying,this.Dl=!!a.isScheduled,this.Zm=!!a.initialStateSet,this.lp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Zf=!!a.complete,this.Yg=!!a.released,this.cB=!!a.markedForRemoval,
this.pr=a.completedTick,this.vA=!!a.implicitPause,this.Mr=!!a.isTemplate,this.ah=a.tags.split(" "),this.eU=a.stringTags,this.pJ=!!a.tagsChanged,this.Oe=!!a.firstTick)}naa(){return this.kb.map(a=>a.ka())}g9(a){a.forEach((b,d)=>{this.kb[d].ta(b)});this.kb.filter(b=>b.QC())}static e8(a){if(e.lo(a))return a.slice(0);if(e.wi(a))return a.split(" ")}}}
{"use strict";const e=self.B;e.fF=class extends e.ja{constructor(a,b){super();this.Zh=a;this.Mb=b;this.Te=b.ut();this.Ll=this.zl=NaN;this.Ua=this.nc=null;this.$m=0<b.bf();this.hp=this.Lr=!1;this.cj=null;this.oc=this.Mb.zj().oc;this.bb=[];this.lL();this.hn=this.Lc=this.zk=0}static Qa(a,b){return e.m(e.fF,a,b)}A(){this.oc=null;for(const a of this.bb)a.A();e.F(this.bb);this.cj=this.Mb=this.Ua=this.nc=this.Zh=this.bb=null}lL(){for(const a of this.Mb.de().nV())this.bb.push(e.cb.Qa(this,a))}dl(){for(const a of this.bb)a.dl()}qj(){for(const a of this.bb)a.qj();
this.Ua=this.nc=null}Bb(){return this.Zh}I(){return this.Zh.I()}WZ(){return this.oc?this.oc:this.oc=this.Mb.zj().oc}Be(a){for(let b=0;b<this.bb.length;b++){const d=this.bb[b];if(d.Ba.ad===a)return d}}Ft(){this.nc||this.Da()}ym(){return this.nc?!this.nc.At():!1}QC(){if(!this.vi())return!1;const a=this.I().yj(this.jt());return a?!a.At():!1}H(){if(this.vi()){var a=this.xD();if(-1!==a)return this.I().$e(a)}}UW(){this.nc=null;this.zl=-1;this.Ua=null;this.Ll=-1}G_(){return!!this.nc}Da(){return this.nc&&
this.ym()?this.nc:this.nc=this.I().yj(this.jt())}i4(a){if(this.nc!==a){this.qj();this.nc=a;this.Ll=a.H().Ha();this.zl=a.dd;this.Ua=a.j();for(const m of this.Rea()){const h=m.ffa;switch(m.Qea.Qd()){case "instance-variable":var b=a.H(),d=b.PZ(m.name),c=b.VL(d);b=b.kt(d);c===m.name&&b===m.type&&h.l5(d);break;case "behavior":var g=m.OJ;d=this.H();c=a.H();b=h.vg(c);g&&b&&(g=g.Ca(),d.$s(g),c.$s(g),h.i5(b.lb))}}}}*Rea(){for(const d of this.bb){var a=d.Jb(),b=this.H();const c={Qea:d,ffa:a};switch(d.Qd()){case "world-instance":c.iqa=
d.Ba.ad;break;case "instance-variable":a=a.oq();c.name=b.VL(a);c.type=b.kt(a);break;case "effect":b=a.oD(b.Oa);c.voa=b;break;case "behavior":b=a.vg(b);c.OJ=b;break;case "plugin":c.gqa=b.Db()}yield c}}j(){if(this.Ua&&this.ym())return this.Ua;const a=this.Da();a&&(this.Ua=a.j());return this.Ua}jt(){return this.zl?this.zl:this.Mb.jt()}ni(){return this.Mb.ni()}ee(){return this.Mb.ee()}rm(){return this.Mb.rm()}bf(){return this.Mb.bf()}Qk(){return this.Mb.Qk()}Pj(a){for(const b of this.WZ())b.Pj(a);for(const b of this.bb)b.Pj(a)}Pk(){return this.Mb.Pk()}bl(a){this.Mb.bl(a)}xD(){return isNaN(this.Ll)?
this.Mb.xD():this.Ll}Bj(){const a=this.Da();return a&&a.pa.po()?a.pa.Bj():this.Mb.Bj()}Aj(){const a=this.Da();return a&&a.pa.po()?a.pa.Aj():this.Mb.Aj()}Hj(){return this.Mb.Hj()}Ca(){return this.Mb.Ca()}vi(){return 0===this.Hj()}Rc(){this.Ft();if(this.ym()||!this.vi()){var a=this.Bb().Jj()?0:this.Qk();for(const b of this.bb)b.Rc(a),0===this.zk&&1===b.zk&&(this.zk=1),0===this.Lc&&1===b.Lc&&(this.Lc=1);this.hn=0;this.bb.some(b=>b.hn)&&(this.hn=1);this.cj=this.OP(a);this.hp=this.Lr=!1;this.Ea(a)}}Ee(){this.Ft();
if(this.ym()||!this.vi()){this.Zh.Jj();var a=this.Zh.Ia()-this.bf();this.cj=this.OP(a);for(const b of this.bb)b.Ee(a)}}YN(){if(!(this.Bb().Zf||(this.Ft(),!this.ym()&&this.vi()||this.$m))){const a=this.Zh.Ia();a>=this.bf()+this.Qk()?this.Ea(this.Qk(),!0,!1,!0):0>=a&&this.Ea(0,!0,!1,!0)}}xz(){for(let a=0,b=this.bb.length;a<b;a++){const d=this.bb[a];d.xz();0===this.zk&&1===d.zk&&(this.zk=1);0===this.Lc&&1===d.Lc&&(this.Lc=1)}}Rn(){const a=this.bb.length;for(let b=0;b<a;b++)this.bb[b].Rn()}Ea(a,b=!1,
d=!1,c=!1,g=!1,m=!1){this.nc||this.Da();const h=0===this.Mb.ya;if(!((!this.nc||this.nc.At())&&h||m&&h&&this.H().Of()||(a-=this.bf(),0>a))){this.A1(a,b);this.B1(a,b,g);for(let l=0,n=this.bb.length;l<n;l++)this.bb[l].Ea(a,d,c);this.z1(a,b);0!==this.zk&&(this.Ua||(this.Ua=this.nc.j()),this.Ua&&this.Ua.Ja())}}Qn(){const a=this.bb.length;for(let b=0;b<a;b++)this.bb[b].Qn()}A1(a,b){if(b&&this.$m&&!this.Lr){if(this.Bb().Jj()){if(0>a)return;for(const d of this.bb)d.Ea(0,!1,!0)}else{if(a>this.Qk())return;
for(const d of this.bb)d.Ea(this.Qk(),!1,!0)}for(const d of this.bb)d.Rc();this.Lr=!0}}z1(a,b){if(b&&this.$m&&!this.hp)if(this.Bb().Jj()){if(a>=this.Qk()){for(const d of this.bb)d.Ea(this.Qk(),!1,!0);this.hp=!0}}else if(0>=a){for(const d of this.bb)d.Ea(0,!1,!0);this.hp=!0}}B1(a,b,d){if(!d&&b&&e.C.Gc){b=this.Bb();d=this.cj.Qe;var c=this.cj.Ia(),g=d?d.Ia():b.Lf();if(a<=c||a>=g)this.cj=this.Te.QL(a,this.Mb),b.Jj()?d&&this.nE(this.cj):this.cj.Qe&&this.nE(this.cj)}}OP(a){const b=this.Te.TZ(a,this.Mb);
return b?b:this.Te.QL(a,this.Mb)}nE(a){const b=this.Bb();e.C.Gc.N.Fo(b);e.C.Gc.N.F4(a);a=b.Eb;a.Xa(e.C.Gc.N.fja);a.Xa(e.C.Gc.N.nE);e.C.Gc.N.Fo(null);e.C.Gc.N.F4(null)}cW(){return this.Mb.zj().YV()}EX(a){this.Mb.zj().DX(a)}Bx(a){for(const b of this.bb)b.Bx(a)}Ao(){for(const a of this.bb)a.Ao()}hi(){this.Ft();if(this.ym()||!this.vi())for(const a of this.bb)a.hi()}ii(){this.Ft();if(this.ym()||!this.vi()){var a=!1;for(const b of this.bb){const d=b.ii();!a&&d&&(a=!0)}a&&(a=this.cW(),a.Wq(this.Bb().Ia()),
a.Pj("noease"),a.bl(!0),a.rO(""))}}ka(){var a=this.Da();a=a?a.dd:this.jt();return{propertyTracksJson:this.iaa(),lastKeyframeDataItemJson:this.eaa(),initialStateOfNestedSet:this.Lr,endStateOfNestedSet:this.hp,instanceUid:a}}ta(a){a&&(this.b9(a.propertyTracksJson),this.Y8(a.lastKeyframeDataItemJson),this.V8(a.instanceUid),this.Lr=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Lr=a.initialStateOfNestedSet),this.hp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.hp=a.endStateOfNestedSet))}eaa(){return this.Mb.zj().VZ(this.cj)}iaa(){return this.bb.map(a=>
a.ka())}b9(a){a.forEach((b,d)=>{this.bb[d].ta(b)})}V8(a){if(e.wm(a)&&(a=this.I().yj(a))){var b=this.Bb();b.WW();b.x4(this.Mb.rm(),a)}}Y8(a){this.cj=this.Mb.zj().UZ(a)}}}
{"use strict";const e=self.B;e.cb=class extends e.ja{constructor(a,b){super();this.wb=a;this.Ba=b;this.pc=b.de();this.hn=this.Lc=this.zk=0;this.qe=this.Jb();this.Rb=this.Ba.qh().Rb;this.Eu=this.Jc=null}static Qa(a,b){return e.m(e.cb,a,b)}A(){this.wb=null;this.qe&&(this.qe.A(),this.qe=null);this.pc=this.Ba=this.Rb=null}HD(){return!!this.Eu}H3(a){this.Eu=a}de(){return this.pc}Bb(){return this.wb.Bb()}I(){return this.wb.I()}Da(){return this.wb.Da()}Jb(){if(this.qe)return this.qe;let a;switch(this.Ba.Qd()){case "behavior":a=
new e.cb.AW(this);break;case "effect":a=new e.cb.MY(this);this.Lc=1;break;case "instance-variable":a=new e.cb.I0(this);break;case "plugin":a=new e.cb.C2(this);this.Lc=1;break;case "world-instance":a=new e.cb.uo(this);this.zk=this.Lc=1;break;case "value":a=new e.cb.n5(this);break;case "audio":a=new e.cb.vW(this)}return this.qe=a}Qd(){return this.Ba.Qd()}ay(){return this.Ba.Hj()}mt(){return this.de().Rx(this.Ba).Hj()}Pk(){return this.Ba.Pk()}bl(a){this.Ba.bl(a)}ni(){return this.Ba.ni()}ee(){return this.Ba.ee()}Pj(a){for(const b of this.lt())b.Pj(a)}PC(){return this.Ba.PC()}lt(){return this.Rb?
this.Rb:this.Rb=this.Ba.qh().Rb}*bM(){for(const a of this.lt())yield a.fc()}dl(){this.Jb().dl()}qj(){this.Jb().qj()}we(){return this.Jb().we()}Rc(a){this.Jb().Rc();this.Jc=this.PP(a);this.xz()}Ee(a){this.Jb().Ee();this.Jc=this.PP(a)}xz(){var a=this.wb;this.hn=0;if(a.vi()){var b=this.Bb();a=a.Da();const d=this.Jb(),c=this.Ba.ad;d.Mj()?(b=b.nt(a,d,c))&&b.length&&(this.hn=1):this.hn=0}}PP(a){const b=this.Bb(),d=this.pc.j_(a,this.Ba);return d?d:b.Jj()?this.pc.mi(a,this.Ba):this.pc.SL(a,this.Ba)}Rn(){this.qe.Rn()}Ea(a,
b=!1,d=!1){let c;if(b)var g=this.pc.mi(a,this.Ba);else{if(this.Jc){var m=this.Bb();const h=this.Jc.Qe;g=this.Jc.Ia();m=h?h.Ia():m.Lf();if(a<=g||a>=m)this.Jc=this.pc.mi(a,this.Ba)}else this.Jc=this.pc.mi(a,this.Ba);g=this.Jc}g&&(c=g.Qe);this.qe.Ea(a,g,c,b,d)}Hf(a){if(this.Jc){var b=this.Bb();const c=this.Jc.Qe;var d=this.Jc.Ia();b=c?c.Ia():b.Lf();if(a<=d||a>=b)this.Jc=this.pc.mi(a,this.Ba)}else this.Jc=this.pc.mi(a,this.Ba);d=this.Jc;return this.qe.Hf(a,d,d.Qe)}Qn(){this.qe.Qn()}static kM(a,b){return b.pc.mi(a,
b.Ba)}PK(){const a=this.Ba.qh().OK();this.Jc=null;return a}Bx(a){this.Jc=null;this.Ba.qh().rL(a)}Ao(){this.Jb().Ao()}hi(){if(this.Jb().hi()){const a=this.pc.Rx(this.Ba),b=this.Jb().we();a.PN(b)}}ii(){const a=this.Jb().ii();a&&this.fW();this.Jb().tx();return a}fW(){const a=this.Bb().Ia(),b=this.Jb(),d=e.cb.kM(a,this),c=this.PK();c.tO(d.Hj());c.Wq(a);c.Pj(d.pm());c.bl(!0);c.Fe(b.pM());c.PN(b.we())}ka(){return{sourceAdapterJson:this.Jb().ka()}}ta(a){a&&this.Jb().ta(a.sourceAdapterJson)}}}
{"use strict";const e=self.B.cb;e.uo=class{constructor(a){this.L=a;this.wf=null;this.ph()}A(){this.wf&&(this.wf.A(),this.wf=null);this.L=null}Mj(){return this.wf.Mj()}Be(){return this.L}dl(){this.wf&&this.wf.dl()}qj(){this.wf&&this.wf.qj()}ph(){return this.wf?this.wf:this.wf=this.t6()}oq(){}Ha(){return this.oq()}qt(){}Rc(){this.ph().Rc()}Ee(){this.ph().Ee()}Rn(){this.wf.hq()}Ea(a,b,d,c,g){let m;switch(this.L.mt()){case "numeric":m=e.Gt.Ea(a,b,d,this.L);break;case "angle":m=e.gx.Ea(a,b,d,this.L);break;
case "boolean":m=e.ix.Ea(a,b,d,this.L);break;case "color":m=e.ux.Ea(a,b,d,this.L);break;case "text":m=e.Ty.Ea(a,b,d,this.L)}this.wf.Sn(a,m,b,d,c,g)}Hf(a,b,d){switch(this.L.mt()){case "numeric":return e.Gt.Ea(a,b,d,this.L);case "angle":return e.gx.Ea(a,b,d,this.L);case "boolean":return e.ix.Ea(a,b,d,this.L);case "color":return e.ux.Ea(a,b,d,this.L);case "text":return e.Ty.Ea(a,b,d,this.L)}}Qn(){this.wf.gq()}Ao(){var a=this.ph();a.Uh=a.we()}tx(){this.ph().tx()}we(){return this.ph().we()}hi(){return this.ph().hi()}ii(){return this.ph().ii()}pM(){const a=
this.L,b=a.wb.Bb().Ia(),d=e.kM(b,a),c=d.Qe;switch(a.mt()){case "numeric":return e.Gt.Ea(b,d,c,a);case "angle":return e.gx.Ea(b,d,c,a);case "boolean":return e.ix.Ea(b,d,c,a);case "color":return e.ux.Ea(b,d,c,a);case "text":return e.Ty.Ea(b,d,c,a)}}t6(){const a=this.L;switch(a.PC()?a.mt():""){case "combo":case "boolean":case "text":case "string":return new e.df.ZM(this);case "numeric":case "number":case "angle":return"combo"===this.L.ay()?new e.df.ZM(this):new e.df.$M(this);case "color":case "offsetColor":return new e.df.ZW(this);
default:return new e.df.$M(this)}}ka(){return{propertyAdapterJson:this.ph().ka()}}ta(a){a&&this.ph().ta(a.propertyAdapterJson)}}}
{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b);this.Bw=NaN}oq(){return this.L.Ba.hg[0]}Ha(){return this.Bw?this.Bw:super.Ha()}qt(){return this.L.wb.Da()}l5(b){this.L.Ba.hg[0]!==b&&(this.Bw=b)}Ea(b,d,c,g,m){this.ph().OC(d.M())&&super.Ea(b,d,c,g,m)}Hf(b,d,c){if(this.ph().OC(d.M()))return super.Hf(b,d,c)}ka(){return Object.assign(super.ka(),{index:this.Bw})}ta(b){b&&(super.ta(b),this.Bw=b.index)}}e.cb.I0=a}
{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b);this.lb=NaN}oq(){return this.L.Ba.hg[1]}qt(){var b=this.L.Ba,d=this.lb?this.lb:b.hg[0];b=this.L.wb.Da();d=b.GL(d);return b.Uc[d].pa}vg(b){return b.Jx(this.L.Ba.hg[2])}i5(b){this.L.Ba.hg[0]!==b&&(this.lb=b)}Ea(b,d,c,g,m){const h=this.L.wb.Da();this.vg(h.H())&&super.Ea(b,d,c,g,m)}Hf(b,d,c){const g=this.L.wb.Da();if(this.vg(g.H()))return super.Hf(b,d,c)}ka(){return Object.assign(super.ka(),{sid:this.lb})}ta(b){b&&(super.ta(b),
this.lb=b.sid)}}e.cb.AW=a}{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b)}oq(){return this.L.Ba.hg[1]}qt(){const b=this.L.wb.j().bg,d=this.oD(b.Oa).Ha();return b.Bt(d)?b.Nk(d):null}oD(b){return b.Ok(this.L.Ba.hg[0])}Ea(b,d,c,g,m){this.lQ()&&super.Ea(b,d,c,g,m)}Hf(b,d,c){if(this.lQ())return super.Hf(b,d,c)}lQ(){const b=this.L.wb.j().bg,d=this.oD(b.Oa);if(d)return b.Bt(d.Ha())}}e.cb.MY=a}
{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b)}oq(){return this.L.Ba.hg[0]}qt(){return this.L.wb.Da().pa}Ea(b,d,c,g,m){var h=this.L.wb;const l=h.H().Db();h=h.Da().H().Db();l===h&&super.Ea(b,d,c,g,m)}Hf(b,d,c){var g=this.L.wb;const m=g.H().Db();g=g.Da().H().Db();if(m===g)return super.Hf(b,d,c)}}e.cb.C2=a}
{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b);this.Cc=0;this.wA=!1}Mj(){return!1}Rc(){const b=this.L.de();let d=this.L.Ba;d=b.Rx(d);this.Cc=d.fc()}Ee(){}M(){this.wA||this.L.Ea(0);return this.Cc}Ea(b,d,c){this.Cc=e.cb.Gt.Ea(b,d,c,this.L);this.wA=!0}Ao(){}tx(){}we(){return this.Cc}hi(){return!1}ii(){return!1}ka(){return{value:this.Cc,init:this.wA}}ta(b){b&&(this.Cc=b.value,this.wA=b.hasOwnProperty("init")?b.init:!0)}}e.cb.n5=a}
{"use strict";const e=self.B;class a extends e.cb.uo{constructor(b){super(b);this.$j=!1;this.Gr=this.Tb=this.pe=null;this.Zh=this.L.Bb();this.wb=this.L.wb;this.kw=this.L.Ba.hg;this.tH=this.kw[0];this.lJ=this.kw[1];this.Ch=this.kw[3]?this.kw[3]:Math.random().toString(36).slice(2);this.Ew=this.Ip=this.kn=NaN;this.Lg=null;this.kQ()}A(){super.A();this.Lg=this.tH=this.kw=this.wb=this.Zh=this.Gr=this.Tb=this.pe=null}kQ(){if(self.B.C.Audio){var b=this.L.I().Xx("audio");b&&(this.pe=b.Ej().pa);this.Tb=self.B.C.Audio.sb;
this.Gr=self.B.C.Audio.gb}}wQ(){if(!this.Lg){var b=this.L.wb.Be("audioSource");b&&(this.Lg=b.Jb())}}Y7(){const b=this.L.wb.Be("volume");return b?b.Jb().Ip:this.Ip}dl(){super.dl();this.$j=!1;this.pe&&(this.Gr&&(this.kn=this.Gr.Rja.call(this.pe,this.Ch),this.Ip=this.Gr.tna.call(this.pe,this.Ch)),this.Tb&&this.Tb.Ge.call(this.pe,this.Ch))}Go(b){this.Ew=b}Rc(){super.Rc();this.kn=NaN;this.$j=!1}Ee(){super.Ee();const b=this.L.Bb().Ia();this.kn=b-this.lJ;switch(this.L.Ba.ad){case "volume":this.Ip=this.L.Hf(b)}this.$j=
!1}Ea(b,d,c,g,m){if(this.pe)switch(this.L.Ba.ad){case "audioSource":if(!this.Zh.Jj())break;if(g){this.Tb&&this.Tb.Ge.call(this.pe,this.Ch);break}if(b<this.lJ){this.$j=!1;break}d=this.Gr.Qja.call(this.pe,this.Ch);this.Zh.$c!==d&&this.Tb.Qj.call(this.pe,this.Ch);if(this.$j)break;this.$j=!0;if(isNaN(this.kn)){const h=self.performance.now(),l=b-this.lJ;this.pe.oE("get-suspended").then(n=>{if("suspended"===n)this.$j=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Tb){let p=this.Ew;isNaN(p)?(this.Go(0),
p=0):this.Go(p);this.Tb.Play.call(this.pe,this.tH,0,p,this.Ch,n)}})}else{const h=this.kn;this.kn=NaN;const l=this.Y7();this.Ip=NaN;this.pe.oE("get-suspended").then(n=>{"suspended"===n?this.$j=!1:this.Tb&&(this.Go(l),this.Tb.Play.call(this.pe,this.tH,0,l,this.Ch,h))})}break;case "volume":this.wQ(),super.Ea(b,d,c,g,m)}}Hf(b,d,c){if(this.pe)switch(this.L.Ba.ad){case "volume":return this.wQ(),super.Hf(b,d,c)}}rM(){return this.Lg?this.Lg.Ew:0}K4(b,d){this.Lg&&this.Lg.Go(this.rM()+d);this.Tb&&this.Lg&&
this.Tb.Go.call(this.pe,this.Lg.Ch)}SV(b,d){this.Lg&&this.Lg.Go(d);this.Tb&&this.Lg&&this.Tb.Go.call(this.pe,this.Lg.Ch)}ka(){return{audioPlaybackStarted:this.$j,audioTag:this.Ch,pauseTime:this.kn,pauseVolume:this.Ip,volume:this.Ew}}ta(b){b&&(this.$j=b.audioPlaybackStarted,this.Ch=b.audioTag,this.kn=b.pauseTime,this.Ip=b.pauseVolume,this.Ew=b.volume,this.kQ())}}e.cb.vW=a}"use strict";function ic(e,a,b){return e.L.Bb().Jj()?a():b()}function jc(e,a,b){return"relative"===e.L.ee()?a():b()}
function kc(e){if(e.ks)return e.ks;e.ks=e.qe.qt();return e.ks}function lc(e,a=!1){const b=[];for(const d of e){e=d.wb.bf();for(const c of d.lt())a&&0===c.Ia()?b.push({time:e+c.Ia(),value:c.Bh}):a||b.push({time:e+c.Ia(),value:c.Bh})}return b.sort((d,c)=>d.time-c.time)}function mc(e,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=e)return a[b];return null}
self.B.cb.df=class{constructor(e){this.qe=e;this.L=e.Be();this.Ua=this.L.wb.j();this.ad=this.L.Ba.ad;this.Hr=!1;this.ks=this.Uh=null}A(){this.ks=this.Uh=this.Ua=this.L=this.qe=null}Mj(){return!1}dl(){}qj(){this.ks=this.Uh=this.Ua=null}Jb(){return this.qe}Be(){return this.L}j(){return this.Ua?this.Ua:this.Ua=this.L.wb.j()}Rc(){}Ee(){}tx(){this.Uh=null}we(){}hi(){}ii(){}OC(e){return typeof this.hl()===typeof e}hq(){}Sn(){}gq(){}No(){return ic(this,()=>{const e=this.L.Ba;return this.L.de().Rx(e)},()=>
{const e=this.L.Ba;return this.L.de().bo(e)}).Bh}cz(){const e=this.L.Bb().Ia()-this.L.wb.bf();return ic(this,()=>{const a=this.L.Ba;return this.L.de().mi(e,a)},()=>{const a=this.L.Ba,b=this.L.de(),d=b.SL(e,a);return d?d:b.bo(a)}).Bh}fz(){}Je(){return this.qe.Ha()}ka(){return{firstAbsoluteUpdate:this.Hr,saveState:this.Uh}}ta(e){e&&(this.Hr=e.firstAbsoluteUpdate,this.Uh=e.saveState)}};
{"use strict";const e=self.B,a=new Map,b=[0,0,0];class d extends e.cb.df{constructor(c){super(c)}Rc(){}Ee(){}we(){const c=this.L.Qd(),g=kc(this),m=this.Je();switch(c){case "behavior":return this.zz(g.uc(m));case "effect":return this.zz(g[m]);case "plugin":return this.zz(g.uc(m));case "world-instance":return this.zz(this.hl())}}hi(){const c=this.No();return!this.hP(c,this.hl())}ii(){return e.ge(this.Uh)?!1:!this.hP(this.Uh,this.hl())}hP(c,g){return c.em(g)}No(){const c=super.No();return this.gz(c)}cz(){const c=
super.cz();return this.gz(c)}fz(){}zz(c){return e.xm(c,e.fb)?c.toArray().slice(0,3):c.slice(0,3)}gz(c){return e.xm(c,e.fb)?c:new e.fb(c[0],c[1],c[2],1)}OC(){return!0}Mj(){return!0}hq(){var c=this.L.Bb(),g=this.L.Da();const m=this.L.Jb();(c=c.nt(g,m,this.ad))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.L.Qd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.ad)||g.set(this.ad,{LV:!1,color:new e.fb(0,0,0,1)}))}aQ(c,g,m){c=a.get(c).get(g).get(m);c.LV=!0;return c.color}Sn(c,g){var m=this.L.Bb(),
h=this.L.wb;c=this.L.Da();var l=this.L.Jb();const n=this.L.Qd();if((l=m.nt(c,l,this.ad))&&1<l.length){if(l=lc(l,!0),m=m.Ia(),m=mc(m,l))l=m.time-h.bf(),0===l?this.aQ(c,n,this.ad).yU(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.L.Ea(l,!1,!0),m=e.fb.$C(m,l[0]),h=e.fb.$C(h,l[1]),g=e.fb.$C(g,l[2]),this.aQ(c,n,this.ad).yU(m,h,g))}else this.Yj(g[0],g[1],g[2])}gq(){const c=this.L.Da();if(a.has(c)){var g=a.get(c),m=this.L.Qd();if(g.has(m)){var h=g.get(m);if(h.has(this.ad)){var l=h.get(this.ad),n=l.color;
l.LV&&this.Yj(n.Va,n.$a,n.Za);0===h.size&&g.delete(m);0===g.size&&a.delete(c)}}}}hl(){const c=this.L.Qd(),g=kc(this),m=this.Je();switch(c){case "behavior":return this.gz(g.uc(m));case "effect":return g[m].clone();case "plugin":return this.gz(g.uc(m));case "world-instance":return this.j().ib.clone()}}Yj(c,g,m){const h=this.L.Qd(),l=kc(this),n=this.Je();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=m;l.Rf(n,b);break;case "effect":l[n].Ks(c,g,m);break;case "plugin":b[0]=c;b[1]=g;b[2]=m;l.Rf(n,b);break;
case "world-instance":this.j().G4(c,g,m)}}ka(){}ta(){}}e.cb.df.ZW=d}
{"use strict";const e=self.B,a=e.cb;class b extends e.cb.df{constructor(d){super(d)}Rc(){}Ee(){}we(){return this.hl()}hi(){return this.No()!==this.we()}ii(){return e.ge(this.Uh)?!1:this.Uh!==this.we()}Mj(){return!1}Sn(d,c){const g=this.L,m=g.wb,h=g.Qd();var l=g.Bb();const n=m.Da(),p=g.Jb();(l=l.nt(n,p,this.ad))&&1<l.length&&(l=lc(l),d=mc(d+m.bf(),l))&&(c=d.value);switch(g.mt()){case "numeric":if(!a.Gt.el(this.Je(),kc(this),c,h))return;break;case "angle":if(!a.gx.el(this.Je(),kc(this),c,h))return;
break;case "boolean":if(!a.ix.el(this.Je(),kc(this),c,h))return;break;case "color":if(!a.ux.el(this.Je(),kc(this),c,h))return;break;case "text":if(!a.Ty.el(this.Je(),kc(this),c,h))return}this.Yj(c)}hl(){const d=this.L.Qd(),c=kc(this),g=this.Je();switch(d){case "behavior":return c.uc(g);case "effect":return c[g];case "instance-variable":return c.ye(g);case "plugin":return c.uc(g)}}Yj(d){const c=this.L.Qd(),g=kc(this),m=this.Je();switch(c){case "behavior":g.Rf(m,d);break;case "effect":g[m]=d;break;
case "instance-variable":g.Gm(m,d);break;case "plugin":g.Rf(m,d)}}}e.cb.df.ZM=b}
{"use strict";const e=self.B,a=new Map,b=(c,g,m,h,l)=>a.set(c,{cfa:g,nda:m,cea:h,round:l});b("offsetX",(c,g)=>c.Q1(g),(c,g)=>c.Fg(g),c=>c.qa(),!0);b("offsetY",(c,g)=>c.R1(g),(c,g)=>c.yh(g),c=>c.ra(),!0);b("offsetWidth",(c,g)=>c.bN(g),(c,g)=>c.xh(g),c=>c.fa(),!0);b("offsetHeight",(c,g)=>c.aN(g),(c,g)=>c.Bi(g),c=>c.ea(),!0);b("offsetAngle",(c,g)=>c.M1(g),(c,g)=>c.kd(g),c=>c.Ta(),!1);b("offsetOpacity",(c,g,m,h)=>{m=c.Ae()+g;0===h.Hc?(1<m?h.Hc+=m-1:0>m&&(h.Hc+=m),c.N1(g)):(c=c.Ae()+g,0<g&&0<h.Hc?1<c&&
(h.Hc+=c-1):0<g&&0>h.Hc?(h.Hc+=g,0<h.Hc&&(h.Hc=0)):0>g&&0<h.Hc?(h.Hc+=g,0>h.Hc&&(h.Hc=0)):0>g&&0>h.Hc&&0>c&&(h.Hc+=c))},(c,g)=>{c.cl(g)},c=>c.Ae(),!1);b("offsetOriginX",(c,g)=>c.O1(g),(c,g)=>c.Rq(g),c=>c.Rk(),!1);b("offsetOriginY",(c,g)=>c.P1(g),(c,g)=>c.Sq(g),c=>c.Sk(),!1);b("offsetZElevation",(c,g)=>c.S1(g),(c,g)=>c.ff(g),c=>c.hb(),!0);b("offsetScaleX",(c,g,m)=>{const h=0>c.fa()?-1:1;c.bN(m.Bj()*h*g)},(c,g,m)=>{c.xh(m.Bj()*g)},(c,g)=>{const m=0>c.fa()?-1:1;if(c.fo()){var h=c.Fa(),l=g.Bb().mM(h.Da());
l?h=h.fa()/l.Bj():(l=h.Da().pa,h=l.po()?h.fa()/l.Bj():1);return c.fa()*m/(g.Bj()*h)}return c.fa()*m/g.Bj()},!1);b("offsetScaleY",(c,g,m)=>{const h=0>c.ea()?-1:1;c.aN(m.Aj()*h*g)},(c,g,m)=>{c.Bi(m.Aj()*g)},(c,g)=>{const m=0>c.ea()?-1:1;if(c.eo()){var h=c.Fa(),l=g.Bb().mM(h.Da());l?h=h.ea()/l.Aj():(l=h.Da().pa,h=l.po()?h.ea()/l.Aj():1);return c.ea()*m/(g.Aj()*h)}return c.ea()*m/g.Aj()},!1);class d extends e.cb.df{constructor(c){super(c);this.Hc=this.Vb=0;this.XT=this.ZT=this.YT=this.NH=this.PH=this.OH=
null;this.XI=!1;this.wn=e.xm(this.L.Bb(),e.d5)?new e.cb.df.L1(this):new e.cb.df.K1(this);const g=this.L.Ba.ad;switch(this.L.Qd()){case "world-instance":c=a.get(g);this.OH=c.cea;this.PH=c.cfa;this.NH=c.nda;this.XI=c.round;break;case "audio":this.YT=c.rM,this.ZT=c.K4,this.XT=c.SV,this.XI=!0}}A(){this.NH=this.PH=this.OH=this.wn=null;super.A()}Mj(){return this.wn.Mj()}hO(c){this.Vb=c}Rc(){const c=this.wn.Rc();"number"===typeof c&&(this.Vb=c);this.Hc=0}Ee(){const c=this.wn.Ee();"number"===typeof c&&(this.Vb=
c)}we(){return this.hl()}hi(){return this.No()!==this.we()}ii(){return e.ge(this.Uh)?!1:this.Uh!==this.we()}hq(){this.wn.hq()}Sn(c,g,m,h,l,n,p){return this.wn.Sn(c,g,m,h,l,n,p)}gq(){this.wn.gq()}hl(){const c=kc(this),g=this.Je(),m=this.j(),h=this.L.wb;switch(this.L.Qd()){case "behavior":return c.uc(g);case "effect":return c[g];case "instance-variable":return c.ye(g);case "plugin":return c.uc(g);case "world-instance":return this.OH(m,h);case "audio":return this.YT.call(this.Jb(),m,h)}}Yj(c){const g=
kc(this),m=this.Je(),h=this.j(),l=this.L.wb;switch(this.L.Qd()){case "behavior":g.kE(m,c);break;case "effect":g[m]+=c;break;case "instance-variable":g.j4(m,c);break;case "plugin":g.kE(m,c);break;case "world-instance":this.PH(h,c,l,this);break;case "audio":this.ZT.call(this.Jb(),h,c,l,this)}}xR(c){const g=kc(this),m=this.Je(),h=this.j(),l=this.L.wb;switch(this.L.Qd()){case "behavior":g.Rf(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.Gm(m,c);break;case "plugin":g.Rf(m,c);break;case "world-instance":this.NH(h,
c,l);break;case "audio":this.XT.call(this.Jb(),h,c,l)}}fr(c,g,m,h,l,n){this.wn.fr(c,g,m,h,l,n)}fl(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.hl();this.Yj((0===c?this.XI?Math.round(h):h:e.toFixed(h,c))-h,g,m)}ka(){return Object.assign(super.ka(),{v:this.Vb,a:this.Hc})}ta(c){c&&(super.ta(c),this.Vb=c.v,this.Hc=c.a)}}e.cb.df.$M=d}
{"use strict";class e{constructor(b){this.EJ=!1;this.Cc=0;this.bb=b;for(let d=0,c=this.bb.length;d<c;d++)this.bb[d].H3(this)}vO(){this.EJ=!0}Fe(b){this.Cc=b}M(){return this.Cc}jd(){this.EJ=!1;this.Cc=0}}class a{constructor(b){this.me=b}A(){this.me=null}Rc(){const b=this.me;this.me.Be();return jc(b,()=>ic(b,()=>0,()=>b.Jb().pM()),()=>{})}Ee(){}Mj(){switch(this.me.Be().ee()){case "relative":return!1;case "absolute":return!0}}hq(){var b=this.me.Be(),d=b.Ba.ad;switch(b.ee()){case "absolute":if(b.HD())b.Eu.jd();
else{const c=b.Bb(),g=b.Da();b=b.Jb();(d=c.nt(g,b,d))&&1<d.length&&new e(d)}}}Sn(b,d,c,g,m,h){var l=this.me,n=this.me.Be();switch(n.ee()){case "relative":n=l.Vb;l.Yj(d-n,c,g);h&&this.fr(b,c,g,m,n,d);l.hO(d);break;case "absolute":if(c=n.Bb(),b=n.wb,n.Da(),n.Jb(),n.HD()){if(l=n.Eu,g=lc(l.bb,!0),c=c.Ia(),c=mc(c,g))b=c.time-b.bf(),0===b?(l.vO(),l.Fe(l.M()+d)):0>b||(n=n.Hf(b),l.vO(),l.Fe(l.M()+(d-n)))}else l.xR(d)}}gq(){const b=this.me;var d=this.me.Be();switch(d.ee()){case "absolute":d.HD()&&(d=d.Eu,
d.EJ&&b.xR(d.M()))}}fr(b,d,c,g,m,h){const l=this.me;g||(d&&b===d.Ia()?l.fl(d.fc(),d,c):c&&b===c.Ia()?l.fl(c.fc(),d,c):0===h-m&&l.fl(d.fc(),d,c))}}self.B.cb.df.K1=a}
{"use strict";class e{constructor(a){this.me=a}A(){this.me=null}Rc(){const a=this.me;a.Hr=!0;return this.fz(a.No())}Ee(){const a=this.me;if(a.No()!==a.cz())return a.Hr=!0,this.fz(a.cz())}Mj(){return!1}hq(){}Sn(a,b,d,c,g,m){const h=this.me,l=h.Vb;switch(h.Be().ee()){case "relative":h.Yj(b-l,d,c);m&&this.fr(a,d,c,g,l,b);break;case "absolute":h.Hr?(h.Hr=!1,h.Yj(l,d,c)):(h.Yj(b-l,d,c),m&&this.fr(a,d,c,g,l,b))}h.hO(b)}gq(){}fz(a){return a-this.me.we()}fr(a,b,d,c,g,m){const h=this.me;c?b&&a===b.Ia()?h.fl(b.fc(),
b,d):d&&a===d.Ia()?h.fl(d.fc(),b,d):d||h.fl(b.fc(),b,d):b&&a===b.Ia()?h.fl(b.fc(),b,d):d&&a===d.Ia()?h.fl(d.fc(),b,d):0===m-g&&h.fl(b.fc(),b,d)}}self.B.cb.df.L1=e}
{"use strict";const e=self.B,a=self.Rs;e.cb.Gt=class{constructor(){}static el(b,d,c,g){let m;switch(g){case "behavior":m=d.uc(b);break;case "effect":m=d[b];break;case "instance-variable":m=d.ye(b);break;case "plugin":m=d.uc(b)}return m===c?!1:!0}static Ea(b,d,c,g){if(!c)return c=g.Ba,c=g.de().bo(c),c.fc();var m=g.ni();"default"===m&&(m="continuous");"combo"===g.ay()&&(m="discrete");if("discrete"===m)return d.fc();if("continuous"===m||"step"===m){"step"===m&&(m=g.Bb().ot(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var h=d.Ia();const l=c.Ia();m=d.fc();const n=c.fc();if(m===n)return m;b=e.normalize(b,h,l);const p=d.pm();d=d.gD("cubic-bezier");c=c.gD("cubic-bezier");d&&d.lw&&c&&c.dA?(h=l-h,h=a.co(p)(h*b,0,1,h),h=a.co("cubicbezier")(h,m,m+d.jJ,n+c.lH,n)):h=a.co(p)((l-h)*b,m,n-m,l-h);return"integer"===g.ay()?Math.floor(h):h}}}}
{"use strict";const e=self.B;e.cb.gx=class{constructor(){}static el(a,b,d,c){let g;switch(c){case "behavior":g=b.uc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.ye(a);break;case "plugin":g=b.uc(a)}return g===d?!1:!0}static Ea(a,b,d,c){if(!d)return b=c.Ba,b=c.de().bo(b),b.fc();var g=c.ni();"default"===g&&(g="continuous");"combo"===c.ay()&&(g="discrete");if("discrete"===g)return b.fc();if("continuous"===g||"step"===g){"step"===g&&(c=c.Bb().ot(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Ia(),h=d.Ia();c=b.fc();d=d.fc();if(g=b.gD("angle")){const l=g.WI;if(c===d&&0===l)return c;a=e.normalize(a,m,h);b=self.Rs.co(b.pm())(a,0,1,1);switch(g.dH){case "closest":return e.NJ(c,d,b,l);case "clockwise":return e.uda(c,d,b,l);case "anti-clockwise":return e.tda(c,d,b,l)}}else{if(c===d)return c;a=e.normalize(a,m,h);b=self.Rs.co(b.pm());return e.NJ(c,d,b(a,0,1,1))}}}}}"use strict";
self.B.cb.ix=class{constructor(){}static el(e,a,b,d){let c;switch(d){case "behavior":c=a.uc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.ye(e);break;case "plugin":c=a.uc(e)}return!!c===!!b?!1:!0}static Ea(e,a,b,d){return b?a.fc()?1:0:(e=d.Ba,e=d.de().bo(e),e.fc()?1:0)}};
{"use strict";const e=self.B,a=[0,0,0],b=[0,0,0],d=[0,0,0];e.cb.ux=class{constructor(){}static el(c,g,m,h){let l;switch(h){case "behavior":l=g.uc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.ye(c);break;case "plugin":l=g.uc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(d.iV(m),a[0]=Math.floor(255*d.Va),a[1]=Math.floor(255*d.$a),a[2]=Math.floor(255*d.Za));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(d.iV(l),b[0]=Math.floor(255*d.Va),b[1]=Math.floor(255*d.$a),b[2]=Math.floor(255*
d.Za));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Ea(c,g,m,h){if(!m)return g=h.Ba,g=h.de().bo(g),g=g.fc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.ni();"default"===l&&(l="continuous");if("discrete"===l)return g=g.fc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.Bb().ot(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Ia();l=m.Ia();var n=g.fc(),p=m.fc();const q=e.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.Rs.co(g.pm());h=l-h;
l=h*q;a[0]=c===u?c:g(l,c,u-c,h);a[1]=m===w?m:g(l,m,w-m,h);a[2]=n===p?n:g(l,n,p-n,h);return a}}}}"use strict";self.B.cb.Ty=class{constructor(){}static el(e,a,b,d){let c;switch(d){case "behavior":c=a.uc(e);break;case "effect":c=a[e];break;case "instance-variable":c=a.ye(e);break;case "plugin":c=a.uc(e)}return c===b?!1:!0}static Ea(e,a,b,d){return b?a.fc():(e=d.Ba,e=d.de().bo(e),e.fc())}};
{"use strict";const e=self.B;e.Hg=class{constructor(){this.vw=new Map}A(){for(const a of this.vw.values())a.A();this.vw.clear();this.vw=null}Oc(a){a=new e.Y4(a);this.vw.set(a.Ca(),a)}Y(a){return this.vw.get(a)}static fu(a,b,d,c){if(b)for(const g of b)e.Hg.jP("create",g,a,d,c)}static pu(a,b,d,c){a.length?b.forEach((g,m)=>{a[m].ta(g)}):b.forEach(g=>{e.Hg.jP("load",g,a,d,c)})}static jP(a,b,d,c,g){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.mV]),a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}switch(a){case "load":m.ta(b);d.push(m);break;case "create":"function"!==typeof m.Pk||m.Pk()?d.push(m):m.A()}}}}
{"use strict";const e=self.B;e.Y4=class{constructor(a){this.Ka="";this.qs=NaN;this.JB=0;this.fg=this.dg="default";this.kB=this.aB=!1;this.cs=1;this.Te=null;a&&(this.Ka=a[0],this.qs=a[1],this.JB=a[2],this.dg=a[3],this.fg=a[4],this.aB=!!a[6],this.kB=!!a[7],this.cs=a[8],this.Te=new e.BO(a[5],this))}A(){this.Te.A();this.Te=null}ut(){this.Te||(this.Te=new e.BO(null,this));return this.Te}Ca(){return this.Ka}Ry(a){this.Ka=a}Lf(){return this.qs}ot(){return this.JB}ni(){return this.dg}ee(){return this.fg}Wx(){return this.aB}$x(){return this.kB}rh(){return this.cs}ka(){return{trackDataJson:this.Te.ka(),
name:this.Ka,totalTime:this.qs,step:this.JB,interpolationMode:this.dg,resultMode:this.fg,loop:this.aB,pingPong:this.kB,repeatCount:this.cs}}ta(a){a&&(this.ut().ta(a.trackDataJson),this.Ka=a.name,this.qs=a.totalTime,this.JB=a.step,this.dg=a.interpolationMode,this.fg=a.resultMode,this.aB=a.loop,this.kB=a.pingPong,this.cs=a.repeatCount)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.Te=d;this.Pm=this.zA=null;this.Ll=this.zl=NaN;this.fg=this.dg="default";this.Pg=!1;this.pc=this.Nh=null;this.Ic="";this.Tr=null;this.kJ=0;this.ZA=this.Te.Md.Lf();this.ya=0;this.Ka="";b&&(b[0]&&(this.zA=b[0],this.zl=b[0][2],this.Ll=b[0][1]),this.dg=b[1],this.fg=b[2],this.Pg=!!b[3],b[6]&&(this.Ic=b[6]),b[7]&&(this.Tr=b[7],this.kJ=b[7][0],this.ZA=b[7][1]),b[8]&&(this.Pm=b[8]),b[8]&&(this.Pm=b[8]),b[9]&&(this.ya=b[9]),b[10]&&(this.Ka=b[10]),this.Nh=
new e.NM(b[4],this),this.pc=new e.rN(b[5],this))}A(){this.Te=this.zA=null;this.Nh&&(this.Nh.A(),this.Nh=null);this.pc&&(this.pc.A(),this.pc=null);this.Tr=null}ut(){return this.Te}zj(){this.Nh||(this.Nh=new e.NM(null,this));return this.Nh}de(){this.pc||(this.pc=new e.rN(null,this));return this.pc}xD(){return this.Ll}jt(){return this.zl}ni(){return this.dg}ee(){return this.fg}Pk(){return this.Pg}bl(b){this.Pg=!!b}rm(){return this.Ic}bf(){return this.kJ}Qk(){return this.ZA}Bj(){return this.Pm[0]}Aj(){this.Pm||
(this.Pm=[]);return this.Pm[1]}Hj(){return this.ya}Ca(){return this.Ka}ka(){return{keyframeDataJson:this.Nh.ka(),propertyTrackDataJson:this.pc.ka(),instanceData:this.zA,additionalInstanceData:this.Pm,instanceUid:this.zl,objectClassIndex:this.Ll,interpolationMode:this.dg,resultMode:this.fg,enabled:this.Pg,id:this.Ic,nestedData:this.Tr,type:this.ya,name:this.Ka}}ta(b){b&&(this.zA=b.instanceData,this.zl=b.instanceUid,this.Ll=b.objectClassIndex,this.dg=b.interpolationMode,this.fg=b.resultMode,this.Pg=
b.enabled,this.Ic=b.id,this.ya=b.type?b.type:0,this.Ka=b.name?b.name:"",this.ZA=this.Te.Md.Lf(),b.nestedData&&(this.Tr=b.nestedData,this.kJ=this.Tr[0],this.ZA=this.Tr[1]),b.additionalInstanceData&&(this.Pm=b.additionalInstanceData),this.zj().ta(b.keyframeDataJson),this.de().ta(b.propertyTrackDataJson))}}e.BO=class{constructor(b,d){this.Md=d;this.Yp=[];e.Hg.fu(this.Yp,b,a,this)}A(){this.Md=null;for(const b of this.Yp)b.A();e.F(this.Yp);this.Yp=null}TZ(b,d){d=d.zj().oc;const c=d.length;for(let g=0;g<
c;g++){const m=d[g];if(m.Ia()===b)return m}}QL(b,d){d=d.zj().oc;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.Ia()<=b)return g}}*EV(){for(const b of this.Yp)yield b}ka(){return{trackDataItemsJson:this.Yp.map(b=>b.ka())}}ta(b){b&&e.Hg.pu(this.Yp,b.trackDataItemsJson,a,this)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.pc=d;this.BB="";this.ya=this.ad=this.hg=null;this.zI=this.DI=NaN;this.fg=this.dg="default";this.Pg=!1;this.gj=null;this.Rz=!0;b&&(this.BB=b[0][0],this.hg=b[0].slice(1),this.ad=b[1],this.ya=b[2],this.DI=b[3],this.zI=b[4],this.dg=b[5],this.fg=b[6],this.Pg=!!b[7],this.gj=new e.qN(b[8],this),this.Rz=b[9])}A(){this.gj.A();this.hg=this.pc=this.gj=null}de(){return this.pc}qh(){this.gj||(this.gj=new e.qN(null,this));return this.gj}Qd(){return this.BB}Hj(){return this.ya}tO(b){this.ya=
b}ni(){return this.dg}ee(){return this.fg}Pk(){return this.Pg}bl(b){this.Pg=!!b}PC(){return!!this.Rz}ka(){return{propertyKeyframeDataJson:this.gj.ka(),sourceAdapterId:this.BB,sourceAdapterArguments:this.hg,property:this.ad,type:this.ya,min:this.DI,max:this.zI,interpolationMode:this.dg,resultMode:this.fg,enabled:this.Pg,canHavePropertyKeyframes:this.Rz}}ta(b){b&&(this.BB=b.sourceAdapterId,this.hg=b.sourceAdapterArguments,this.ad=b.property,this.ya=b.type,this.DI=b.min,this.zI=b.max,this.dg=b.interpolationMode,
this.fg=b.resultMode,this.Pg=b.enabled,this.Rz=b.canHavePropertyKeyframes,this.qh().ta(b.propertyKeyframeDataJson))}}e.rN=class{constructor(b,d){this.Mb=d;this.Kp=[];e.Hg.fu(this.Kp,b,a,this)}A(){this.Mb=null;for(const b of this.Kp)b.A();e.F(this.Kp);this.Kp=null}Rx(b){return b.qh().Rb[0]}bo(b){return b.qh().Rb.$d(-1)}j_(b,d){d=d.qh().Rb;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.Ia()===b)return m}}SL(b,d){d=d.qh().Rb;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.Ia()>=b)return m}}mi(b,
d){d=d.qh().Rb;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.Ia()<=b)return g}}*nV(){for(const b of this.Kp)yield b}ka(){return{propertyTrackDataItemsJson:this.Kp.map(b=>b.ka())}}ta(b){b&&e.Hg.pu(this.Kp,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.Nh=d;this.pd=-1;this.Ri="noease";this.Si=!1;this.Qv=this.ah=null;b&&(this.pd=b[0],this.Ri=b[1],this.Si=!!b[2],this.ah=(b=b[3])?b.split(" "):[],this.Qv=new Set(this.ah.map(c=>c.toLowerCase())),this.Qe=null)}A(){this.Nh=null;e.F(this.ah);this.ah=null;this.Qv.clear();this.Qv=null}zj(){return this.Nh}Vt(b){this.Qe=b}Ia(){return this.pd}Wq(b){this.pd=b;this.Nh.nu()}pm(){return this.Ri}Pj(b){this.Ri=b}Pk(){return this.Si}bl(b){this.Si=!!b}rO(b){this.ah=
b?b.split(" "):[];this.Qv=new Set(this.ah.map(d=>d.toLowerCase()))}ka(){return{time:this.pd,ease:this.Ri,enable:this.Si,tags:this.ah}}ta(b){b&&(this.pd=b.time,this.Ri=b.ease,this.Si=b.enable,this.ah=b.tags,this.Qv=new Set(this.ah.map(d=>d.toLowerCase())))}}e.NM=class{constructor(b,d){this.Mb=d;this.oc=[];e.Hg.fu(this.oc,b,a,this);this.nu()}A(){this.Mb=null;for(const b of this.oc)b.A();e.F(this.oc);this.oc=null}nu(){this.oc.sort((b,d)=>b.Ia()-d.Ia());for(let b=0;b<this.oc.length;b++)this.oc[b].Vt(this.oc[b+
1])}YV(){const b=new a(null,this);this.oc.push(b);this.nu();return b}DX(b){for(const d of this.oc){if(!b(d))continue;const c=this.oc.indexOf(d);-1!==c&&(d.A(),this.oc.splice(c,1))}this.O4();this.nu()}O4(){this.oc.sort((b,d)=>b.Ia()-d.Ia())}VZ(b){return this.oc.indexOf(b)}UZ(b){return this.oc[b]}ka(){return{keyframeDataItemsJson:this.oc.map(b=>b.ka())}}ta(b){b&&(e.Hg.pu(this.oc,b.keyframeDataItemsJson,a,this),this.nu())}}}
{"use strict";const e=self.B;class a{constructor(b,d){this.gj=d;this.Bh=this.Cc=null;this.ya="";this.pd=NaN;this.Ri="noease";this.Si=!1;this.Ki=null;this.kl=void 0;b&&(this.Cc=b[0][0],this.Bh=b[0][1],this.ya=b[0][2],this.pd=b[1],this.Ri=b[2],this.Si=!!b[3],this.Ki=null,b[4]&&(this.Ki=new e.jW(b[4],this)),this.Qe=null)}A(){this.gj=null;this.Ki&&(this.Ki.A(),this.Ki=null)}Vt(b){this.Qe=b}M(){return this.Cc}Fe(b){"color"===this.ya&&e.wm(b)?(this.Cc[0]=e.BD(b),this.Cc[1]=e.tD(b),this.Cc[2]=e.iD(b)):this.Cc=
b}PN(b){"color"===this.ya&&e.wm(b)?(this.Bh[0]=e.BD(b),this.Bh[1]=e.tD(b),this.Bh[2]=e.iD(b)):this.Bh=b}fc(){const b=this.gj.Ba.ee();if("relative"===b)return this.M();if("absolute"===b)return this.Bh}Hj(){return this.ya}tO(b){this.ya=b}Ia(){return this.pd}Wq(b){this.pd=b;this.gj.ou()}pm(){return this.Ri}Pj(b){this.Ri=b}Pk(){return this.Si}bl(b){this.Si=!!b}gD(b){if(this.Ki){if(this.kl||null===this.kl)return this.kl;var d=this.Ki.Vo;if(!d)return this.kl=null;var c=d.length;for(let g=0;g<c;g++){const m=
d[g];if(m.rm()===b)return this.kl=m}return this.kl=null}}ka(){const b=this.Ki;return{addonDataJson:b?b.ka():b,value:this.Cc,aValue:this.Bh,type:this.ya,time:this.pd,ease:this.Ri,enable:this.Si}}ta(b){b&&(b.addonDataJson&&this.Ki.Sna(b.addonDataJson),this.Cc=b.value,this.Bh=b.aValue,this.ya=b.type,this.pd=b.time,this.Ri=b.ease,this.Si=b.enable)}}e.qN=class{constructor(b,d){this.Ba=d;this.Rb=[];e.Hg.fu(this.Rb,b,a,this);this.ou()}A(){this.Ba=null;for(const b of this.Rb)b.A();e.F(this.Rb);this.Rb=null}ou(){this.Rb.sort((b,
d)=>b.Ia()-d.Ia());for(let b=0;b<this.Rb.length;b++)this.Rb[b].Vt(this.Rb[b+1])}OK(){const b=new a(null,this);this.Rb.push(b);this.ou();return b}rL(b){for(const d of this.Rb){if(!b(d))continue;const c=this.Rb.indexOf(d);-1!==c&&(d.A(),this.Rb.splice(c,1))}this.P4();this.ou()}P4(){this.Rb.sort((b,d)=>b.Ia()-d.Ia())}ka(){return{propertyKeyframeDataItemsJson:this.Rb.map(b=>b.ka())}}ta(b){b&&(e.Hg.pu(this.Rb,b.propertyKeyframeDataItemsJson,a,this),this.ou())}}}
{"use strict";const e=self.B;class a{constructor(c,g){this.Ki=g;this.Ic=c[0];this.sl=c[1]}A(){this.sl=this.Ki=null}rm(){return this.Ic}ka(){return{id:this.Ic,data:this.sl}}ta(c){c&&(this.Ic=c.id,this.sl=c.data)}}class b extends a{constructor(c,g){super(c,g);this.jJ=this.sl[0];this.lw=!!this.sl[1];this.lH=this.sl[2];this.dA=!!this.sl[3]}A(){super.A()}ka(){return Object.assign(super.ka(),{startAnchor:this.jJ,startEnable:!!this.lw,endAnchor:this.lH,endEnable:!!this.dA})}ta(c){c&&(super.ta(c),this.jJ=
c.startAnchor,this.lw=!!c.startEnable,this.lH=c.endAnchor,this.dA=!!c.endEnable)}}class d extends a{constructor(c,g){super(c,g);this.dH=this.sl[0];this.WI=this.sl[1]}A(){super.A()}ka(){return Object.assign(super.ka(),{direction:this.dH,revolutions:this.WI})}ta(c){c&&(super.ta(c),this.dH=c.direction,this.WI=c.revolutions)}}e.jW=class{constructor(c){this.Vo=[];e.Hg.fu(this.Vo,c,{mV:0,map:new Map([["cubic-bezier",b],["angle",d]])},this)}A(){for(const c of this.Vo)c.A();e.F(this.Vo);this.Vo=null}ka(){return{addonDataItemsJson:this.Vo.map(c=>
c.ka())}}ta(c){c&&e.Hg.pu(this.Vo,c.addonDataItemsJson,{mV:"id",map:new Map([["cubic-bezier",b],["angle",d]])},this)}}}
{"use strict";const e=self.B;let a=0;e.d5=class extends e.Io{constructor(b,d){super(`tween-${a++}`,b,d);this.Ic="";this.eS=!1;this.JH="start-value";this.wb=this.BT=this.AT=this.nc=null}mL(){for(const b of this.Md.ut().EV())this.kb.push(e.GO.Qa(this,b));this.wb=this.kb[0]}Be(){return this.wb.bb[0]}Da(){var b=this.kb;if(b&&b.length&&(this.wb=b=b[0])){var d=b.Da();return b.ym()?d:void 0}}rm(){return this.Ic}iN(){if(this.BT)for(const b of this.BT)b(this);if(!this.Zf)for(const b of this.kb)b.ii()}lE(){this.pr=
this.g.sk}AL(){if(!this.lp&&(this.lp=!0,this.AT))for(const b of this.AT)b(this)}Wq(b){this.nP();super.Wq(b)}Rc(b){if(!this.Zm&&"current-state"===this.JH)for(const d of this.kb)d.hi();super.Rc(b)}Ge(b=!1){super.Ge(b);if(!this.Zf)for(const d of this.kb)d.Ao()}jd(b=!0,d=!1){this.nP();super.jd(b,d)}nP(){for(const b of this.kb){const d=c=>{c=c.Ia();const g=this.Lf();return 0!==c&&c!==g};b.EX(d);b.Bx(d)}}uu(){if(this.Yg)return!0;const b=this.Da();if(b&&b.H().Of())return!1;this.Eb.bL(this);this.FN();return!0}He(b,
d,c){this.nc||(this.nc=this.Da());if(this.nc&&!this.nc.At()&&(d=this.nc.Yd,-1!==d&&(b=c*d),0!==b||0!==this.UA)){this.UA=b;c=this.cc+b*this.$c;b=this.Md.qs;this.cc=0>c?0:c>=b?b:c;c=!1;d=this.Wx();var g=this.$x();d||g?d&&!g?0<this.$c?this.cc>=b&&this.vc(0):0>=this.cc&&this.vc(b):!d&&g?0<this.$c?this.cc>=b&&(this.vc(b),this.Qj(-1*this.$c),1===this.Kd?this.Hd<this.rh()?(this.Hd++,this.Kd=0):c=!0:0===this.Kd&&(this.Kd=1)):0>=this.cc&&(this.vc(0),this.Qj(-1*this.$c),1===this.Kd?this.Hd<this.rh()?(this.Hd++,
this.Kd=0):c=!0:0===this.Kd&&(this.Kd=1)):d&&g&&(0<this.$c?this.cc>=b&&(this.vc(b),this.Qj(-1*this.$c)):0>=this.cc&&(this.vc(0),this.Qj(-1*this.$c))):0<this.$c?this.cc>=b&&(this.Hd<this.rh()?(this.Hd++,this.vc(0)):(this.vc(b),c=!0)):0>=this.cc&&(this.Hd<this.rh()?(this.Hd++,this.vc(b)):(this.vc(0),c=!0));c?(this.wb.YN(),this.Ge(!0),this.lE()):(this.wb.Ea(this.cc,!0,!1,!1,this.Oe,!1),this.Oe&&(this.Oe=!1))}}ka(){const b=super.ka();return Object.assign(b,{tweenDataItemJson:this.Md.ka(),id:this.Ic,destroyInstanceOnComplete:this.eS,
initialValueMode:this.JH})}ta(b){b&&(this.Md.ta(b.tweenDataItemJson),super.ta(b),this.Ic=b.id,this.eS=b.destroyInstanceOnComplete,this.JH=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const e=self.B;e.GO=class extends e.fF{constructor(a,b){super(a,b);this.$I=this.kv=null}static Qa(a,b){return e.m(e.GO,a,b)}aP(){1===this.bb.length?this.kv=this.bb[0]:(this.kv=this.bb[0],this.$I=this.bb[1])}lL(){for(const a of this.Mb.de().nV())this.bb.push(e.FO.Qa(this,a));this.aP()}Rn(){}Ea(a,b,d=!1,c=!1,g,m=!1){this.nc||this.Da();if(this.nc){if(this.nc.At()||m&&this.H().Of())return!1;this.$I?(this.kv.Ea(a,d,c),this.$I.Ea(a,d,c)):this.kv.Ea(a,d,c);0!==this.kv.zk&&(this.Ua||(this.Ua=
this.nc.j()),this.Ua&&this.Ua.Ja())}}Qn(){}ta(a){super.ta(a);this.aP()}}}
{"use strict";const e=self.B;e.FO=class extends e.cb{constructor(a,b){super(a,b);this.Mu=!1}static Qa(a,b){return e.m(e.FO,a,b)}Ea(a,b=!1,d=!1){if(this.Mu){var c=this.Rb[0];var g=this.Rb[1]}else{if(b)c=this.pc.mi(a,this.Ba);else{if(this.Jc){g=this.Bb();const m=this.Jc.Qe;c=this.Jc.Ia();g=m?m.Ia():g.Lf();if(a<=c||a>=g)this.Jc=this.pc.mi(a,this.Ba)}else this.Jc=this.pc.mi(a,this.Ba);c=this.Jc}g=c.Qe}this.qe.Ea(a,c,g,b,d)}PK(){const a=this.Ba.qh().OK();this.Jc=null;this.Mu=2>=this.lt().length;return a}Bx(a){this.Jc=
null;this.Ba.qh().rL(a);this.Mu=2>=this.lt().length}ka(){return{sourceAdapterJson:this.Jb().ka(),basic:this.Mu}}ta(a){a&&(this.Jb().ta(a.sourceAdapterJson),this.Mu=a.basic)}}}
{"use strict";const e=self.B,a=self.Rs;e.DO=class extends e.ja{constructor(b){super();this.Ka=b[0];this.ig=[];for(var d of b[1])b=e.EO.Qa(this,d),this.ig.push(b);for(d=0;d<this.ig.length;d++)this.ig[d].Vt(this.ig[d+1]);this.aw=new Map;this.lU=new Map;this.j$();a.WV(this.Ka,(c,g,m,h)=>this.Ea(c,g,m,h))}static Qa(b){return e.m(e.DO,b)}A(){for(const b of this.ig)b.A();e.F(this.ig);this.ig=null;this.aw.clear();this.aw=null;this.lU.clear();this.lU=null}HZ(b){for(let d=this.ig.length-1;0<=d;d--){const c=
this.ig[d];if(c.jg<b)return c}}GZ(b){for(let d=this.ig.length-1;0<=d;d--){const c=this.ig[d];if(c.jg<=b)return c}}Ea(b,d,c,g){var m=b/g;b=this.GZ(m);g=b.Qe;g||(b=this.HZ(m),g=b.Qe);m=e.Bea(m,b.jg,g.jg,g.jg-b.jg);const h=b.jg,l=b.Cw,n=b.jg+b.cU,p=b.Cw+b.eda,q=g.jg+g.kS,u=g.Cw+g.oca,w=g.jg;g=g.Cw;g=a.co("spline")(m,h,l,n,p,q,u,w,g,this.aw.get(b));g+=b.Cw;return(1-g)*d+g*(d+c)}j$(){this.aw.clear();for(let d=0;d<this.ig.length-1;d++){var b=this.ig[d];if(!b.lw)continue;const c=this.ig[d+1];this.aw.set(b,
a.mZ(b.jg,b.jg+b.cU,c.jg+c.kS,c.jg))}}}}{"use strict";const e=self.B;e.EO=class extends e.ja{constructor(a,b){super();this.jg=b[0];this.Cw=b[1];this.cU=b[2];this.eda=b[3];this.kS=b[4];this.oca=b[5];this.lw=b[6];this.dA=b[7];this.Qe=null}A(){}static Qa(a,b){return e.m(e.EO,a,b)}Vt(a){this.Qe=a}}}{"use strict";const e=self.B;e.c5=class extends e.ja{constructor(a){super();this.g=a;this.NB=[]}A(){for(const a of this.NB)a.A();e.F(this.NB);this.NB=null}Qa(a){this.NB.push(e.DO.Qa(a))}}}
{"use strict";const e=self.B;e.N4=class extends e.ja{constructor(a){super();this.K=a;this.mb=[];this.mb.push(e.m(e.WE,this));this.Pa=0;this.Pi=this.mb[0]}A(){for(const a of this.mb)a.A();e.F(this.mb);this.K=this.Pi=null}H(){return this.K}S(){return this.Pi}xd(){this.S().xd()}M2(){var a=this.mb,b=++this.Pa;b===a.length?(b=e.m(e.WE,this),a.push(b),this.Pi=b):(a=a[b],a.jd(),this.Pi=a)}N2(){const a=this.mb,b=++this.Pa;b===a.length&&a.push(e.m(e.WE,this));const d=a[b];d.iX(a[b-1]);this.Pi=d}Na(){this.Pi=
this.mb[--this.Pa]}yo(a){const b=this.mb;for(let d=0,c=b.length;d<c;++d)b[d].yo(a)}}}
{"use strict";const e=self.B;e.WE=class extends e.ja{constructor(a){super();this.mb=a;this.K=this.mb.H();this.Id=this.K.I().gd();this.dc=!0;this.G=[];this.wc=[]}A(){this.qx();this.Id=this.K=this.mb=null}qx(){e.F(this.G);e.F(this.wc)}H(){return this.K}sM(){return this.dc?!!this.K.G.length:!!this.G.length}oa(){return this.dc?this.K.oa():this.G}A_(){return!!this.wc.length}OL(){const a=this.oa();return a.length?a:this.wc}jd(){this.dc=!0;e.F(this.wc)}xd(){this.dc=!0}iX(a){a.dc?this.jd():(this.dc=!1,e.Nc(this.G,
a.G),e.F(this.wc))}wu(a){this.G.push(a)}Qo(a){this.wc.push(a)}Le(a){this.dc=!!a}Rj(a){this.dc=!1;e.F(this.G);this.G.push(a)}Ly(a){this.dc=!1;e.Nc(this.G,a)}Yt(a){this.dc=!1;e.F(this.G);for(const b of a)this.G.push(b)}NK(a,b){for(const d of b)a.has(d)||this.wc.push(d)}a5(a){for(const b of a)this.G.push(b);e.ng(this.wc,a)}Cm(a){a&&(this.Id.Ze().Nb().Td?(this.dc&&(e.F(this.G),e.Nc(this.wc,a.H().oa()),this.dc=!1),a=this.wc.indexOf(a),-1!==a&&(this.G.push(this.wc[a]),this.wc.splice(a,1))):this.Rj(a))}yo(a){e.ng(this.G,
a);e.ng(this.wc,a)}}}
{"use strict";const e=self.B;e.TY=class extends e.ja{constructor(a){super();this.za=a;this.g=this.za.I();this.mb=[];this.mb.push(e.m(e.xL,this,null));this.Pa=0;this.fA=[]}A(){for(const a of this.mb)a.A();e.F(this.mb);e.F(this.fA);this.g=this.za=null}na(){return this.za}I(){return this.g}Ze(){return this.mb[this.Pa]}Ra(a){var b=this.mb;const d=++this.Pa;if(d===b.length)return a=e.m(e.xL,this,a),b.push(a),a;b=b[d];b.jd(a);return b}Na(){--this.Pa}O2(a){this.fA.push(a)}D2(){this.fA.pop()}rZ(){const a=this.fA;
return 0===a.length?null:a.$d(-1)}}}
{"use strict";const e=self.B;e.xL=class extends e.ja{constructor(a,b){super();this.mb=a;this.g=this.mb.I();this.Yu=b;this.Wf=this.ql=0;this.kH=this.Bp=!1;this.pH=null;this.xH=this.wS=0}A(){this.jd(null);this.g=this.mb=null}jd(a){this.Yu=a;this.Wf=this.ql=0;this.kH=this.Bp=!1}XF(a,b){this.Yu=a;this.ql=0;this.Wf=b}GN(){this.Wf=this.ql=0}Nb(){return this.Yu}Cg(a){this.Yu=a}Fm(a){this.ql=a}Jy(a){this.Wf=a}Hm(a){this.Bp=!!a}Oq(a){this.kH=!!a}Z3(a){this.pH=a}g0(a,b){this.wS=a;this.xH=b}Ut(a){this.xH=a}Kj(){const a=
this.Yu;return a.PA?!0:this.ql<a.$b.length-1?!!a.yd().length:!1}}}{"use strict";const e=self.B;e.u1=class extends e.ja{constructor(a){super();this.za=a;this.g=this.za.I();this.mb=[];this.Pa=-1;this.Pi=null;this.xA=[]}A(){e.F(this.mb);this.g=this.za=null}Qaa(a){this.xA=a;a=this.xA.slice(0);this.mb.push(a);this.Pa=0;this.Pi=a}na(){return this.za}I(){return this.g}nq(){return this.Pi}Ra(){const a=++this.Pa,b=this.mb;a===b.length?b.push(this.xA.slice(0)):e.Nc(b[a],this.xA);this.Pi=b[a]}Na(){this.Pi=this.mb[--this.Pa]}}}
{"use strict";const e=self.B;e.w1=class extends e.ja{constructor(a){super();this.za=a;this.g=this.za.I();this.mb=[];this.Pa=-1}A(){e.F(this.mb);this.g=this.za=null}na(){return this.za}I(){return this.g}HM(){return 0<=this.Pa}nq(){return this.mb[this.Pa]}Ra(){++this.Pa;if(this.Pa===this.mb.length){var a=e.m(e.v1,this);this.mb.push(a);return a}a=this.mb[this.Pa];a.jd();return a}Na(){--this.Pa}ZY(a){const b=this.mb;for(let d=this.Pa;0<=d;--d){const c=b[d];if(c.Ca()===a)return c}return null}}}
{"use strict";const e=self.B;e.v1=class extends e.ja{constructor(a){super();this.rf=a;this.Ka="";this.Pa=0;this.xc=!1}jd(){this.Ka="";this.Pa=0;this.xc=!1}Ry(a){this.Ka=a}Ca(){return this.Ka}Fc(a){this.Pa=a}Ha(){return this.Pa}Ge(){this.xc=!0}}}{"use strict";const e=self.B;e.rW=class extends e.ja{constructor(){super();this.mb=[];this.Pa=-1}A(){e.F(this.mb)}nq(){return this.mb[this.Pa]}Ra(){++this.Pa;if(this.Pa===this.mb.length){const a=[];this.mb.push(a);return a}return this.mb[this.Pa]}Na(){--this.Pa}}}
{"use strict";const e=self.B;function a(b,d){return b.Ha()-d.Ha()}e.SY=class extends e.ja{constructor(b){super();this.g=b;this.Fu=[];this.aJ=new Map;this.yG=[];this.AS=new Map;this.OG=new Map;this.WG=new Map;this.Dz=new Map;this.NR=new Map;this.nH=new Map;this.Tca=0;this.xG=[];this.Oba=[];this.pT=[];this.vH=new Map;this.Id=e.m(e.TY,this);this.vd=e.m(e.u1,this);this.rf=e.m(e.w1,this);this.tJ=[];this.rB=[];this.qB=[];this.NG=this.wl=this.Tl=0;this.gg=[];this.Kz=[];self.c3_callFunction=(d,c)=>this.lz(d,
c)}A(){this.ox();this.Id.A();this.Id=null;this.vd.A();this.vd=null;e.F(this.rB);e.F(this.qB);this.g=null;e.F(this.Fu);this.aJ.clear()}Qa(b){b=e.m(e.RY,this,b);this.Fu.push(b);this.aJ.set(b.Ca().toLowerCase(),b)}P5(b){this.tJ.push(b)}Pb(){for(const b of this.vH.values())b.Pb(!1);for(const b of this.Fu)b.Pb();for(const b of this.Fu)b.qG();for(const b of this.tJ)b.Pb(!1);e.F(this.tJ);this.vd.Qaa(this.pT)}I(){return this.g}NL(b){return this.aJ.get(b.toLowerCase())||null}w$(b){this.yG.push(b);this.AS.set(b.zS,
b)}t$(b){this.OG.set(b.lb,b)}s$(b){this.WG.set(b.lb,b)}r$(b){this.Dz.set(b.lb,b)}v$(b){this.vH.set(b.pA.toLowerCase(),b)}u$(b){this.nH.set(b.lb,b);b.Of()?this.xG.push(b):this.Oba.push(b)}dz(b){2<=b.length&&b.sort(a);let d=this.NR.get(b.length);d||(d=[],this.NR.set(b.length,d));for(let g=0,m=d.length;g<m;++g){const h=d[g];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}d.push(b);return b}X7(b){this.pT.push(b.qp);return this.Tca++}gd(){return this.Id}Ye(){return this.gd().Ze()}Nb(){return this.Ye().Nb()}Ff(){const b=
this.Ye();return b.Nb().IL(b.ql)}et(){const b=this.Ye();return b.Nb().EL(b.Wf)}iZ(b){const d=[];for(b=b.sq();b;)e.Hn(d,b.FP()),b=b.sq();return d}QP(b){const d={};for(const c of this.iZ(b))d[c.oi()]=c.UP();return Object.create(Object.prototype,d)}rD(b){return this.nH.get(b)||null}wZ(b){return this.OG.get(b)||null}gZ(b){return this.Dz.get(b)||null}Tx(b){return this.vH.get(b.toLowerCase())||null}l3(){for(const b of this.xG)b.r3()}ML(b){return this.AS.get(b.toLowerCase())||null}xZ(b){return(b=this.OG.get(b))&&
b.$i?b:null}m3(){for(const b of this.yG)b.o3()}TQ(){for(const b of this.Fu)b.L$()}w3(b){this.TQ();this.Tl++;for(const d of b.Zw())if(b=d.Zc)this.g.Jt(d),b.wa(),this.g.It();this.Tl--}async yX(b){this.TQ();this.Tl++;for(const d of this.N6(b))await this.g.lq(d);this.Tl--}*N6(b){for(const d of b.Zw())if(b=d.Zc)this.g.Jt(d),yield*b.ob(),this.g.It()}Cu(b,d,c,g){let m=!1;if(!b.Sb())return this.rE(d,c,g);this.wl++;for(const h of b.Zw())if(b=h.Zc){this.g.Jt(h);for(const l of b.Zz){const n=l.Cu(d,c,g);m=m||
n}b=b.Cu(d,c,g);m=m||b;this.g.It()}this.wl--;return m}*hu(b,d,c,g){let m=!1;if(!b.Sb())return this.rE(d,c,g);this.wl++;for(const h of b.Zw())if(b=h.Zc){this.g.Jt(h);for(const l of b.Zz){const n=yield*l.hu(d,c,g);m=m||n}b=yield*b.hu(d,c,g);m=m||b;this.g.It()}this.wl--;return m}rE(b,d,c){this.rB.push([b,d,c]);return!1}T2(b,d,c){let g=null;const m=new Promise(h=>g=h);this.qB.push([b,d,c,g]);return m}*V$(){if(this.g.zt())throw Error("should not be in breakpoint");const b=this.g.eb;for(;this.qB.length;){const [d,
c,g,m]=this.qB.shift(),h=yield*this.hu(b,d,c,g);m(h)}}async IN(){for(const b of this.V$())await this.g.lq(b)}aE(){return 0<this.wl}lu(){return++this.wl}iu(){--this.wl}a1(){return 0<this.Tl}ry(){return this.a1()||this.aE()}W$(b){for(const [d,c,g]of this.rB)this.Cu(b,d,c,g);e.F(this.rB)}te(b){b?this.NG++:this.NG--}GM(){return 0<this.NG}kq(b){for(let d=0,c=b.length;d<c;++d)b[d].sn.xd()}zg(b){for(let d=0,c=b.length;d<c;++d)b[d].sn.M2()}De(b){for(let d=0,c=b.length;d<c;++d)b[d].sn.N2()}Ob(b){for(let d=
0,c=b.length;d<c;++d)b[d].sn.Na()}GC(){const b=e.m(e.DE,this);this.gg.push(b);return b}y3(){if(this.gg.length){var b=this.Ye(),d=!1;this.Tl++;for(let c=0,g=this.gg.length;c<g;++c){const m=this.gg[c];m.yR()&&m.N$(b);m.gw&&(d=!0)}d&&this.BP();this.Tl--}}async AX(){if(this.gg.length){var b=this.Ye(),d=!1;this.Tl++;for(let c=0,g=this.gg.length;c<g;++c){const m=this.gg[c];m.yR()&&await m.H6(b);m.gw&&(d=!0)}d&&this.BP();this.Tl--}}BP(){const b=e.xda(this.gg,d=>d.gw);for(const d of b)d.A()}ox(){for(const b of this.gg)b.A();
e.F(this.gg)}b3(b){for(const d of this.gg)d.yo(b)}EC(b){this.Kz.push(b)}rx(){e.F(this.Kz)}i_(){const b=Promise.all(this.Kz);this.Kz=[];return b}ka(){return{groups:this.caa(),cnds:this.baa(),acts:this.aaa(),vars:this.oaa(),waits:this.kaa()}}ta(b){this.U8(b.groups);this.O8(b.cnds);this.N8(b.acts);this.h9(b.vars);this.d9(b.waits)}caa(){const b={};for(const d of this.yG)b[d.lb.toString()]=d.Ct();return b}U8(b){for(const [d,c]of Object.entries(b))(b=this.xZ(parseInt(d,10)))&&b.Pq(c)}baa(){const b={};for(const [d,
c]of this.WG){const g=c.ka();g&&(b[d.toString()]=g)}return b}O8(b){const d=new Map;for(const [c,g]of Object.entries(b))d.set(parseInt(c,10),g);for(const [c,g]of this.WG)g.ta(d.get(c)||null)}aaa(){const b={};for(const [d,c]of this.Dz){const g=c.ka();g&&(b[d.toString()]=g)}return b}N8(b){const d=new Map;for(const [c,g]of Object.entries(b))d.set(parseInt(c,10),g);for(const [c,g]of this.Dz)g.ta(d.get(c)||null)}oaa(){const b={};for(const [d,c]of this.nH)c.yb||!c.Of()&&!c.Mh||(b[d.toString()]=c.M());return b}h9(b){for(const [d,
c]of Object.entries(b))(b=this.rD(parseInt(d,10)))&&b.Fe(c)}kaa(){return this.gg.filter(b=>!b.Z0()).map(b=>b.ka())}d9(b){this.ox();for(const d of b)(b=e.DE.m6(this,d))&&this.gg.push(b)}eD(b){for(;b;)if(b=b.sq(),b instanceof e.Xs)return b;return null}lz(b,d){Array.isArray(d)||(d=[]);b=this.Tx(b.toLowerCase());if(!b)return null;if(!b.yg())return b.gt();var c=b.Rg;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].qp);while(d.length<c.length)}c=b.xe();return c.zE(c.zd(),b.Ql,b.gt(),...d)}}}
{"use strict";const e=self.B;e.RY=class extends e.ja{constructor(a,b){super();this.za=a;this.g=a.I();this.Ka=b[0];this.eA=[];this.OB=new Map;this.qS=new Map;this.pca=new Map;this.qv=!1;this.TT=[];this.Zz=[];this.OR=new Set;for(const d of b[1])this.kP(d,null,this.eA);this.fj=this.g.zb?{type:"sheet",name:this.Ka,$w:0,children:[]}:null}A(){this.g=this.za=null}kP(a,b,d){switch(a[0]){case 0:case 3:this.k6(a,b,d);break;case 1:this.l6(a,b,d);break;case 2:this.p6(a,b,d);break;case 4:this.n6(a,b);break;case 5:this.u6(a,
b,d);break;default:throw Error("invalid event type");}}k6(a,b,d){a=e.Kk.Qa(this,b,a);if(a.Td){d.push(a);d=a.$b;for(let c=0,g=d.length;c<g;++c)d[c].qo()&&this.gQ(a,c)}else a.qo()?this.gQ(a,0):d.push(a)}n6(a,b){a=e.Xs.Qa(this,b,a);this.za.v$(a)}l6(a,b,d){a=e.Fx.Qa(this,b,a);d.push(a)}p6(a,b,d){a=e.wL.Qa(this,b,a);d.push(a)}u6(a,b,d){a=e.Ex.Qa(this,b,a);d.push(a)}gQ(a,b){a.Td||this.za.P5(a);var d=a.IL(b),c=d.La,g=d.H();if(d.WS){var m=this.qS.get(g);m||(m=new Map,this.qS.set(g,m));d=d.BZ().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(d);c||(c=[],g.set(d,c));c.push([a,b])}else m=this.OB.get(g),m||(m={oK:new Map,Hw:new Map},this.OB.set(g,m)),(g=d.vg())?(d=m.Hw.get(g),d||(d=new Map,m.Hw.set(g,d))):d=m.oK,m=d.get(c),m||(m=[],d.set(c,m)),m.push([a,b])}Pb(){const a=this.eA;for(let b=0,d=a.length;b<d;++b)a[b].Pb(b<d-1&&a[b+1]instanceof e.Kk&&a[b+1].qy())}O5(a){this.TT.push(a)}qG(){e.F(this.Zz);this.SO(this);this.OR.clear()}SO(a){const b=a.Zz,d=a.OR;for(const c of this.TT){const g=c.vv;c.Kb&&
a!==g&&!d.has(g)&&(d.add(g),g.SO(a),b.push(g))}}na(){return this.za}I(){return this.g}Ca(){return this.Ka}NQ(a,b){this.pca.set(b,a)}L$(){this.qv=!1}wa(){if(!this.qv){var a=this.g,b=a.TD(),d=b?performance.now():0;this.qv=!0;var c=this.na(),g=c.Ye();for(const m of this.eA)m.wa(g),c.kq(m.yd()),c.rx(),a.Pd();g.jd(null);b&&(this.fj.$w+=performance.now()-d)}}*ob(){if(!this.qv){this.qv=!0;var a=this.g,b=this.na(),d=b.Ye();for(const c of this.eA)yield*c.ob(d),b.kq(c.yd()),b.rx(),a.Pd();d.jd(null)}}Cu(a,b,
d){if(b){const c=b.H();this.oG(a,b,c,d);for(const g of c.Ih)this.oG(a,b,g,d)}else return this.oG(a,b,null,null)}oG(a,b,d,c){d=this.OB.get(d);if(!d)return!1;c=c?d.Hw.get(c):d.oK;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,m]of c)c=this.AP(b,g,m),a=a||c;return a}*hu(a,b,d){if(b){const c=b.H();yield*this.uF(a,b,c,d);for(const g of c.Ih)yield*this.uF(a,b,g,d)}else return yield*this.uF(a,b,null,null)}*uF(a,b,d,c){d=this.OB.get(d);if(!d)return!1;c=c?d.Hw.get(c):d.oK;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,m]of c)c=g.ue()?this.AP(b,g,m):yield*this.B6(b,g,m),a=a||c;return a}AP(a,b,d){const c=this.g,g=this.za,m=g.Nb(),h=g.gd(),l=g.wl;let n=!1;m&&g.zg(m.zd());g.zg(b.zd());const p=1<l;p&&g.vd.Ra();const q=h.Ra(b);a&&(b.$b[d].H().S().Rj(a),a.Xb()&&a.Ei());a=!0;if(b.Fa()){const u=b.Zp;for(let w=0,r=u.length;w<r;++w)if(!u[w].HN(q)){a=!1;break}}a&&(c.Xk(),b.Td?b.x3(q,d):b.wa(q),n=q.Bp);h.Na();p&&g.vd.Na();g.Ob(b.zd());m&&g.Ob(m.zd());m||1!==l||(g.rx(),g.GM()||c.Pd());return n}*B6(a,
b,d){const c=this.g,g=this.za,m=g.Nb(),h=g.gd(),l=g.wl;let n=!1;m&&g.zg(m.zd());g.zg(b.zd());const p=1<l;p&&g.vd.Ra();const q=h.Ra(b);a&&(b.$b[d].H().S().Rj(a),a.Xb()&&a.Ei());a=!0;if(b.Fa()){const u=b.Zp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].oL(q))){a=!1;break}}a&&(c.Xk(),b.Td?yield*b.zX(q,d):yield*b.ob(q),n=q.Bp);h.Na();p&&g.vd.Na();g.Ob(b.zd());m&&g.Ob(m.zd());m||1!==l||(g.rx(),g.GM()||c.Pd());return n}}}
{"use strict";const e=self.B,a=[];function b(){return!0}function*d(){return!0}e.Kk=class extends e.ja{constructor(c,g,m){super();this.Zc=c;this.g=c.I();this.Bc=g;this.Wd=null;this.Id=this.g.na().gd();this.Re=[];this.es=[];this.nv=this.QA=this.PA=this.FS=!1;this.Td=!!m[2];this.GA=!1;this.Zp=null;this.$b=[];this.Tb=[];this.Yh=[];this.Ii=b;this.Mo=d;this.YH=this.$i=!1;this.zS="";this.IA=!1;this.fj=this.Xz=null;this.lb=m[4];this.Ar=m[5];this.Zc.NQ(this,this.Ar);this.Sa=this.g.zb?{fd:m[3][0],jK:m[3][1],
FU:!1,QJ:!1,RJ:!1,GU:!1}:null;this.na().t$(this);3===m[0]&&this.u8(m[1]);c=0;for(var h of m[6])g=e.cL.Qa(this,h,c++),this.$b.push(g),this.XO(g.H());c=0;for(const l of m[7])h=e.dx.Qa(this,l,c++),this.Tb.push(h);if(9===m.length){m=m[8];for(const l of m)this.Zc.kP(l,this,this.Yh)}this.$b.length&&(this.GA=null===this.$b[0].H()&&this.$b[0].La===e.C.Ga.N.vL);0===this.$b.length&&(this.$b=a);0===this.Tb.length&&(this.Tb=a);0===this.Yh.length&&(this.Yh=a)}static Qa(c,g,m){return e.m(e.Kk,c,g,m)}u8(c){this.$i=
!0;this.IA=this.YH=!!c[0];this.zS=c[1].toLowerCase();this.Xz=[];this.na().w$(this);this.g.zb&&(this.fj={type:"group",name:c[1],$w:0,children:[]})}G5(c){this.Xz.push(c)}RO(c,g){for(const m of c.Ng.Nl)g.includes(m)||g.push(m)}YO(c,g){if(c)if(g.includes(c)||g.push(c),c.ab)for(const m of c.kp)m.Xb()&&this.RO(m,g);else c.Xb()&&this.RO(c,g)}XO(c){this.YO(c,this.Re)}K5(c){this.YO(c,this.es)}I3(){this.Re=this.g.Tc}Pb(c){this.nv=!!c;this.o8();this.p8();for(const m of this.$b)m.Pb();if(0<this.Tb.length){c=
!1;for(var g of this.Tb)g.Pb(),g.J_()&&(c=!0);c?(this.Ii=this.P$,this.Mo=this.J6):(this.Ii=this.O$,this.Mo=this.I6)}g=this.Yh;for(let m=0,h=g.length;m<h;++m)g[m].Pb(m<h-1&&g[m+1]instanceof e.Kk&&g[m+1].qy());this.Sa&&this.xba();this.fj&&this.Z7().fj.children.push(this.fj)}Z7(){let c=this.Fa();for(;c;){if(c.$i)return c;c=c.Fa()}return this.Zc}xba(){const c=this.Sa;c.FU=this.$b.every(g=>g.ue());c.QJ=this.Tb.every(g=>g.ue());c.RJ=this.Yh.every(g=>g.ue());c.GU=c.FU&&c.QJ&&c.RJ}o8(){if(this.$i){var c=
this.Fa();for(this.QA=!0;c;){if(!c.$i){this.QA=!1;break}c=c.Fa()}}}n8(){var c=this.g.Tc;if(this.Re===c)this.es=c;else{this.es=e.UJ(this.Re);for(c=this.Fa();c;){for(var g of c.Re)this.K5(g);c=c.Fa()}g=this.na();this.Re=g.dz(this.Re);this.es=g.dz(this.es)}}p8(){if(this.B_()){this.Zp=[];for(var c=this.Fa();c;)this.Zp.push(c),c=c.Fa();this.Zp.reverse()}}Zt(){this.PA=!0;this.Bc&&this.Bc.Zt()}yd(){return this.Re}zd(){this.FS||(this.FS=!0,this.n8());return this.es}L_(c){return this.Re.includes(c)}na(){return this.Zc.na()}I(){return this.g}Fa(){return this.Bc}Waa(c){this.Wd=
c}sq(){return this.Wd||this.Bc}VD(){return this.Sa&&this.Sa.jK}no(){return this.VD()&&this.Sa.fd}qy(){return this.GA}Ct(){return this.IA}o3(){this.Pq(this.YH)}Pq(c){c=!!c;if(!this.$i)throw Error("not a group");if(this.IA!==c){this.IA=c;for(const g of this.Xz)g.HO();this.Xz.length&&(c=this.g.Wa().Zc)&&c.qG()}}qo(){return this.$b.length&&this.$b[0].qo()}U0(){return this.Wd&&this.Wd instanceof e.Xs}B_(){return this.U0()||this.$b.some(c=>c.qo())}IL(c){c=Math.floor(c);if(0>c||c>=this.$b.length)throw new RangeError("invalid condition index");
return this.$b[c]}T0(c){let g=c.Ha();if(0===g)return!0;for(--g;0<=g;--g)if(this.$b[g].H()===c.H())return!1;return!0}EL(c){c=Math.floor(c);if(0>c||c>=this.Tb.length)throw new RangeError("invalid action index");return this.Tb[c]}m8(c){c=Math.floor(c);return 0<=c&&c<this.Tb.length}FP(){return this.Yh.filter(c=>c instanceof e.Fx)}HN(c){c.Cg(this);let g=!1;const m=this.$b;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Fm(h);if(n.KA)throw Error("trigger cannot be used as sub-event to a loop");if(n.wa())g=
!0;else if(!this.Td)return!1}return this.Td?g:!0}x3(c,g){c.Cg(this);this.$b[g].wa()&&(this.Ii(c,0)&&this.jl(),c.Hm(!0))}*oL(c){c.Cg(this);let g=!1;const m=this.$b;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Fm(h);if(n.KA)throw Error("trigger cannot be used as sub-event to a loop");if(n.ue()?n.wa():yield*n.ob())g=!0;else if(!this.Td)return!1}return this.Td?g:!0}*zX(c,g){c.Cg(this);g=this.$b[g];if(g.ue()?g.wa():yield*g.ob())(this.yx()?this.Ii(c,0):yield*this.Mo(c,0))&&(this.zx()?this.jl():yield*this.gu()),
c.Hm(!0)}wa(c){c.Cg(this);this.GA||c.Oq(!1);this.Td?this.U$(c):this.qz(c)}*ob(c){if(this.no()||this.g.tc())yield this;c.Cg(this);this.GA||c.Oq(!1);this.Td?yield*this.U6(c):yield*this.rF(c)}U$(c){const g=this.$b;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.qo()||(c.Fm(l),h=h.wa(),m=m||h)}c.Hm(m);m&&(this.Ii(c,0)&&this.jl(),this.nv&&c.Oq(!0))}*U6(c){const g=this.$b;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.qo()||(c.Fm(l),h=h.ue()?h.wa():yield*h.ob(),m=m||h)}c.Hm(m);
m&&((this.yx()?this.Ii(c,0):yield*this.Mo(c,0))&&(this.zx()?this.jl():yield*this.gu()),this.nv&&c.Oq(!0))}qz(c){const g=this.$b;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Fm(m);if(!l.wa()){c.Hm(!1);return}}c.Hm(!0);this.Ii(c,0)&&this.jl();c.Bp&&this.nv&&c.Oq(!0)}*rF(c){const g=this.$b;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Fm(m);if(l.ue()?!l.wa():!(yield*l.ob())){c.Hm(!1);return}}c.Hm(!0);(this.yx()?this.Ii(c,0):yield*this.Mo(c,0))&&(this.zx()?this.jl():yield*this.gu());c.Bp&&this.nv&&
c.Oq(!0)}O$(c,g){const m=this.Tb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Jy(h),g.wa();return!0}*I6(c,g){const m=this.Tb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Jy(h),g.ue()?g.wa():yield*g.ob();return!0}P$(c,g){const m=this.na(),h=this.Tb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Jy(l);const p=g.wa();if(g.XK()&&!0===p)return!1;g.xg()&&p instanceof Promise&&m.EC(p)}return!0}*J6(c,g){const m=this.na(),h=this.Tb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Jy(l);let p;p=g.ue()?g.wa():yield*g.ob();if(g.XK()&&
!0===p)return!1;g.xg()&&p instanceof Promise&&m.EC(p)}return!0}M$(c){this.Ii(c,c.Wf)&&this.jl()}*G6(c){if(yield*this.Mo(c,c.Wf))yield*this.gu()}jl(){if(this.Yh.length){var c=this.$i&&this.g.TD(),g=c?performance.now():0,m=this.Id,h=m.Ra(this);this.PA?this.Z$(h):this.Y$(h);m.Na();c&&(this.fj.$w+=performance.now()-g)}}Z$(c){const g=this.$i,m=this.QA,h=this.na(),l=this.Yh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.yd(),r=!m||!g&&n<q;r&&h.De(w);u.wa(c);r?h.Ob(w):h.kq(w)}}Y$(c){const g=this.Yh;
for(let m=0,h=g.length;m<h;++m)g[m].wa(c)}*gu(){if(this.Yh.length){var c=this.Id,g=c.Ra(this);this.PA?yield*this.X6(g):yield*this.W6(g);c.Na()}}*X6(c){const g=this.$i,m=this.QA,h=this.na(),l=this.Yh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.yd(),r=!m||!g&&n<q;r&&h.De(w);yield*u.ob(c);r?h.Ob(w):h.kq(w)}}*W6(c){const g=this.Yh;for(let m=0,h=g.length;m<h;++m)yield*g[m].ob(c)}Bg(c,g){this.g.Xk();g.GN();const m=this.$b;if(!this.Td)for(let h=c.ql+1,l=m.length;h<l;++h)if(c=m[h],g.Fm(h),!c.wa())return!1;
this.Ii(g,0)&&this.jl();return!0}*rg(c,g){this.g.Xk();g.GN();const m=this.$b;if(!this.Td)for(let h=c.ql+1,l=m.length;h<l;++h)if(c=m[h],g.Fm(h),c.ue()?!c.wa():!(yield*c.ob()))return!1;(this.yx()?this.Ii(g,0):yield*this.Mo(g,0))&&(this.zx()?this.jl():yield*this.gu());return!0}ue(){return!this.no()&&!this.g.tc()&&this.Sa.GU}yx(){return!this.g.tc()&&this.Sa.QJ}zx(){return!this.g.tc()&&this.Sa.RJ}kF(c){if(this.Fa()){const g=this.Zp;for(let m=0,h=g.length;m<h;++m)if(!g[m].HN(c))return!1}return!0}*lP(c){if(this.Fa()){const g=
this.Zp;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].oL(c)))return!1}return!0}zP(c,g,m){0<g.length?m?(g=g.map(h=>h.Y(0)),c.vd.Ra(),this.Wd.Tt(g)):this.Wd.QY(g):m&&c.vd.Ra()}u3(c,g){let m,h;const l=0<c.length;var n=this.g;const p=this.Id,q=n.na(),u=1<q.lu();this.zP(q,g,u);l&&q.zg(c);g=p.Ra(this);this.kF(g)&&(n.Xk(),g.Cg(this),(n=this.Wd.xg())&&([h,m]=this.Wd.ZE()),this.qz(g),n&&this.Wd.Et(h));p.Na();u&&q.vd.Na();l&&q.Ob(c);q.iu();return m}*wX(c,g){let m,h;if(this.no()||this.g.tc())yield this;const l=
0<c.length;var n=this.g;const p=this.Id,q=n.na(),u=1<q.lu();this.zP(q,g,u);l&&q.zg(c);g=p.Ra(this);if(yield*this.lP(g))n.Xk(),g.Cg(this),(n=this.Wd.xg())&&([h,m]=this.Wd.ZE()),yield*this.rF(g),n&&this.Wd.Et(h);p.Na();u&&q.vd.Na();l&&q.Ob(c);q.iu();return m}v3(c){const g=this.zd(),m=0<g.length,h=this.g,l=this.Id,n=h.na(),p=1<n.lu();p&&n.vd.Ra();this.Wd.Tt(c);m&&n.zg(g);c=l.Ra(this);this.kF(c)&&(h.Xk(),c.Cg(this),this.qz(c));l.Na();p&&n.vd.Na();m&&n.Ob(g);n.iu()}*xX(c){if(this.no()||this.g.tc())yield this;
const g=this.zd(),m=0<g.length,h=this.g,l=this.Id,n=h.na(),p=1<n.lu();p&&n.vd.Ra();this.Wd.Tt(c);m&&n.zg(g);c=l.Ra(this);if(yield*this.lP(c))h.Xk(),c.Cg(this),yield*this.rF(c);l.Na();p&&n.vd.Na();m&&n.Ob(g);n.iu()}zE(c,g,m,...h){let l,n;const p=0<c.length,q=this.g,u=this.Id,w=q.na(),r=1<w.lu();r&&w.vd.Ra();0<h.length&&this.Wd.Tt(h);p&&w.zg(c);h=u.Ra(this);h.g0(g,m);u.O2(h);q.Ny(!1);this.kF(h)&&(q.Xk(),h.Cg(this),(g=this.Wd.xg())&&([n,l]=this.Wd.ZE()),this.qz(h),g&&this.Wd.Et(n));q.Ny(!0);u.Na();u.D2();
r&&w.vd.Na();p&&w.Ob(c);w.iu();return l||h.xH}}}
{"use strict";const e=self.B,a=[];let b=!1;e.Ex=class extends e.ja{constructor(d,c,g){super();const m=d.I(),h=d.na();this.Zc=d;this.za=h;this.g=d.I();this.Bc=c;this.La=m.oh(g[1]);this.Ar=g[2];this.Zc.NQ(this,this.Ar);this.Sa=m.zb?{fd:g[3][0],jK:g[3][1]}:null}static Qa(d,c,g){return e.m(e.Ex,d,c,g)}Pb(){const d=this.La,c=this.g.na().QP(this);this.La=d.bind(null,this.g.Yi,c)}Fa(){return this.Bc}sq(){return this.Bc}VD(){return this.Sa&&this.Sa.jK}no(){return this.VD()&&this.Sa.fd}qy(){return!1}yd(){return a}zd(){return this.Bc?
this.Bc.zd():a}wa(d){d.Cg(this);this.za.EC(this.$$())}async $$(){try{await this.La()}catch(d){console.error(`Unhandled exception running script %c${this.Zc.Ca()}, event ${this.Ar}:`,"font-size: 1.2em; font-weight: bold;",d),self.pg&&self.pg.Saa(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*ob(d){d.Cg(this);if(this.no()||this.g.tc())yield this;
this.wa(d)}ue(){return!this.no()&&!this.g.tc()}static w_(){return b}static f4(){b=!0}}}
{"use strict";const e=self.B;e.Xs=class extends e.ja{constructor(a,b,d){super();this.Zc=a;this.g=a.I();this.Bc=b;const c=d[1];this.pA=c[0];this.Ql=c[1];this.Rg=c[2].map(g=>e.Fx.Qa(a,this,g));this.tb=c[3];this.KH=[];this.yv=c[4];this.Pca=0;this.Xu=-1;this.Iu=new Map;this.Sd=e.Kk.Qa(a,b,d);this.Sd.Waa(this)}static Qa(a,b,d){return e.m(e.Xs,a,b,d)}Pb(){for(const a of this.Rg)a.Pb();this.Sd.Pb(!1)}FP(){return this.Rg}x$(a){this.KH.push(a)}QY(a){const b=this.Rg;for(let d=0,c=b.length;d<c;++d)b[d].Fe(a[d].Y(0))}Tt(a){const b=
this.Rg;for(let d=0,c=b.length;d<c;++d)b[d].Fe(a[d])}PW(){return this.Rg.map(a=>a.M())}Fa(){return this.Bc}sq(){return this.Bc}yg(){return this.tb}gt(){switch(this.Ql){case 0:return null;case 2:return"";default:return 0}}xe(){return this.Sd}xg(){return this.yv}ZE(){const a=this.Pca++;this.Xu=a;let b;const d=new Promise(c=>b=c);this.Iu.set(a,{resolve:b,uK:0});return[a,d]}Et(a){const b=this.Iu.get(a);0===b.uK&&(b.resolve(),this.Iu.delete(a));this.Xu=-1}x2(){this.Iu.get(this.Xu).uK++;return this.Xu}t3(a){this.Xu=
a;this.Iu.get(a).uK--}}}
{"use strict";const e=self.B,a=[];e.Fx=class extends e.ja{constructor(b,d,c){super();const g=b.na();this.Zc=b;this.za=g;this.g=b.I();this.Bc=d;this.vd=g.vd;this.Ka=c[1];this.ya=c[2];this.qp=c[3];this.Mh=!!c[4];this.yb=!!c[5];this.Aca=d instanceof e.Xs;this.lb=c[6];this.Kv=this.g.oi(c[8]);this.cda=m=>this.Fe(m);this.ada=()=>this.M();this.HS=!this.Bc||this.Mh||this.yb;this.Cc=this.qp;this.xI=-1;this.BM()&&(this.Cc=this.Cc?1:0);!this.dE()||this.Mh||this.yb||(this.xI=g.X7(this));g.u$(this)}static Qa(b,
d,c){return e.m(e.Fx,b,d,c)}Pb(){if(this.dE()&&!this.Mh&&!this.yb&&!this.Aca){const b=this.za.eD(this);b&&b.x$(this)}}Ca(){return this.Ka}oi(){return this.Kv}Fa(){return this.Bc}sq(){return this.Fa()}Of(){return!this.Fa()}dE(){return!this.Of()}Am(){return 0===this.ya}wi(){return 1===this.ya}BM(){return 2===this.ya}qy(){return!1}yd(){return a}wa(){!this.dE()||this.Mh||this.yb||this.Fe(this.qp)}ue(){return!0}*ob(b){this.wa(b)}Fe(b){this.Am()?"number"!==typeof b&&(b=parseFloat(b)):this.wi()?"string"!==
typeof b&&(b=b.toString()):this.BM()&&(b=b?1:0);this.HS?this.Cc=b:this.vd.nq()[this.xI]=b}M(){return this.HS?this.Cc:this.vd.nq()[this.xI]}r3(){this.Cc=this.qp}UP(){return{configurable:!1,enumerable:!0,get:this.ada,set:this.cda}}}}
{"use strict";const e=self.B,a=[];e.wL=class extends e.ja{constructor(b,d,c){super();const g=b.na();this.Zc=b;this.za=g;this.g=b.I();this.Bc=d;this.vv=null;this.uca=c[1];this.Kb=!0}static Qa(b,d,c){return e.m(e.wL,b,d,c)}Pb(){this.vv=this.za.NL(this.uca);this.Zc.O5(this);let b=this.Fa();for(;b;)b instanceof e.Kk&&b.$i&&b.G5(this),b=b.Fa();this.HO();this.g.zb&&this.Zc.fj.children.push(this.vv.fj)}Fa(){return this.Bc}yd(){return a}wa(){const b=!!this.Fa(),d=this.g.Tc;b&&this.za.zg(d);this.vv.wa();b&&
this.za.Ob(d)}*ob(){const b=!!this.Fa(),d=this.g.Tc;b&&this.za.zg(d);yield*this.vv.ob();b&&this.za.Ob(d)}ue(){return!1}HO(){let b=this.Fa();for(;b;){if(b instanceof e.Kk&&b.$i&&!b.Ct()){this.Kb=!1;return}b=b.Fa()}this.Kb=!0}}}
{"use strict";const e=self.B;e.Yn=class extends e.ja{constructor(l){super();this.ac=l;this.g=l.I()}Pb(){}static rX(l,n){return e.m([m,c,g,h,a,b][n[0]],l,n)}};class a extends e.Yn{constructor(l,n){super(l);this.Ed=this.g.pt();this.La=this.g.oh(n[1]);this.La!==e.C.Ga.gb.random&&this.La!==e.C.Ga.gb.Dda||this.ac.VE()}$(){return this.Ed.Vj(this.La,this.Ed)}}class b extends e.Yn{constructor(l,n){super(l);this.Ir=null;this.pA=n[1];this.ac.VE()}Pb(){const l=this.g.na();this.Ir=l.Tx(this.pA);this.pA=null;
const n=this.Ir.xe();this.rl=[...new Set([...this.ac.xe().zd(),...n.zd()])];this.rl=l.dz(this.rl)}$(){const l=this.Ir;if(l.yg())return e.Kk.prototype.zE.bind(l.xe(),this.rl,l.Ql,l.gt());{const n=l.gt();return()=>n}}}function d(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends e.Yn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.La=this.g.oh(n[2]);this.uB=!!n[3];this.Id=this.g.na().gd();this.ac.RF(this.K)}$(){return this.K.Db().Vj(this.La,this.K.Ej().pa)}Od(){const l=
this.K,n=l.S().OL();var p=n.length;if(0===p)return this.uB?"":0;p=d(this.ac.jw,p);this.Id.Ze().Z3(l);return this.La.apply(n[p].pa,[])}}class g extends e.Yn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.mda=n[3];this.uB=!!n[2];this.ac.RF(this.K)}UY(){const l=this.K.S().OL();var n=l.length;if(0===n)return this.uB?"":0;n=d(this.ac.jw,n);return l[n].T7(this.mda)}}class m extends e.Yn{constructor(l,n){super(l);this.K=this.g.$e(n[1]);this.Vc=this.K.Jx(n[2]);this.Ni=this.K.$s(n[2]);this.La=this.g.oh(n[3]);
this.uB=!!n[4];this.Id=this.g.na().gd();this.ac.RF(this.K)}}class h extends e.Yn{constructor(l,n){super(l);this.ca=null;this.mH=n[1]}Pb(){this.ca=this.g.na().rD(this.mH)}}}
{"use strict";const e=self.B;e.Ce=class extends e.ja{constructor(A,G,z){super();this.ac=A;this.Pa=z;this.ya=G;this.Y=null;this.yb=this.Ue=!1}static Qa(A,G,z){const F=G[0];return e.m([b,d,p,g,h,c,l,b,g,g,q,u,p,r,d,n,m,w,v,y][F],A,F,z,G)}Pb(){}VE(){this.Ue=!0}RF(A){this.Ue||!A||A.Db().an||(this.Ue=!0)}Ha(){return this.Pa}I(){return this.ac.I()}xe(){return this.ac.xe()}};function a(A){A=self.GW[A];if(!A)throw Error("invalid expression number");return A}class b extends e.Ce{constructor(A,G,z,F){super(A,
G,z);this.jw=0;A=F[1];this.oH=A[0];this.Ur=[];this.gA=null;for(let H=1,J=A.length;H<J;++H)this.Ur.push(e.Yn.rX(this,A[H]));this.Ur.length?this.Y=this.zZ:(this.Y=a(this.oH),this.yb=!0)}D(A){if(0>A||A>=this.Ur.length)throw new RangeError("invalid numbered node");return this.Ur[A]}Pb(){for(var A of this.Ur)A.Pb();A=a(this.oH);this.gA=this.Ur.length?A(this):A}zZ(A){this.jw=A;return this.gA()}}class d extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.n_;14===G&&(this.xe().I3(),this.ac instanceof
e.dx&&this.xe().Zt())}n_(A){this.jw=A;A=this.gA();return"string"===typeof A?A:""}Q7(){return a(this.oH)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.aa;this.yb=!1}aa(A){this.jw=A;A=this.gA();return this.I().Wa().aa(A)}}class g extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.hca=F[1];this.Y=this.qZ;this.yb=!0}qZ(){return this.hca}}class m extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Uba=F[1];this.Y=this.oZ;this.yb=!0}oZ(){return this.Uba}}class h extends e.Ce{constructor(A,
G,z,F){super(A,G,z);this.K=this.I().$e(F[1]);this.Y=this.H;A=this.xe();A.XO(this.K);this.ac instanceof e.dx?A.Zt():A.Fa()&&A.Fa().Zt();this.yb=!0}H(){return this.K}}class l extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Tg=this.I().eb.pq(F[1]);this.Y=this.ec;this.yb=!0}ec(){return this.Tg}}class n extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.Zh=this.I().Eb.tt(F[1]);this.Y=this.Bb;this.yb=!0}Bb(){return this.Zh}}class p extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.qca=F[1];this.Y=
this.CZ;this.yb=!0}CZ(){return this.qca}}class q extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.SS=F[1];(A=this.ac.H())&&A.ab?(this.Y=this.AZ,this.VE()):(this.Y=this.OZ,this.yb=!0)}OZ(){return this.SS}AZ(A){A=A||0;const G=this.ac.H();var z=G.S();const F=z.oa();if(F.length)A=F[A%F.length].H();else if(z.A_())z=z.wc,A=z[A%z.length].H();else if(0<G.G.length)z=G.oa(),A=z[A%z.length].H();else return 0;return this.SS+A.PL(G.Wi)}}class u extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.mH=F[1];this.ca=
null;this.Y=this.yZ;this.yb=!0}Pb(){this.ca=this.I().na().rD(this.mH)}yZ(){return this.ca}}class w extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.uS=F[1];this.Ir=null;this.Y=this.IZ;this.yb=!0}Pb(){this.Ir=this.I().na().Tx(this.uS);this.uS=null}IZ(){return this.Ir}}class r extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.oJ=[];this.qU=[];this.yb=!0;for(let H=1,J=F.length;H<J;++H)A=e.Ce.Qa(this.ac,F[H],0),this.oJ.push(A),this.qU.push(0),A.yb||(this.yb=!1);this.Y=this.u_}Pb(){for(const A of this.oJ)A.Pb()}u_(){const A=
this.oJ,G=this.qU;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class v extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.mca=F[1];this.Y=this.pm;this.yb=!0}pm(){return this.mca}}class y extends e.Ce{constructor(A,G,z,F){super(A,G,z);this.$ba=F[1];this.Y=this.q_;this.yb=!0}q_(){return this.$ba}}}
{"use strict";const e=self.B;function a(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].Y(0)}const b=[],d=function(){};e.cL=class extends e.ja{constructor(c,g,m){super();this.Sd=c;this.g=c.I();this.Pa=m;this.La=this.g.oh(g[1]);this.fI=0<g[3];this.WS=2===g[3];this.KA=!!g[4];this.aj=!!g[5];this.Mh=!!g[6];this.lb=g[7];this.XS=this.Sd.Td;this.Vc=this.K=null;this.Ni=-1;this.Ed=null;this.ob=this.wa=d;this.Ma=[];this.Ab=[];this.ll=!1;this.$h=this.Ib=null;this.Sa=this.g.zb?{fd:g[8][0],zf:g[8][1]}:null;-1===
g[0]?this.Ed=this.g.pt():(this.K=this.g.$e(g[0]),g[2]&&(this.Vc=this.K.Jx(g[2]),this.Ni=this.K.$s(g[2])),this.Sd.Fa()&&this.Sd.Fa().Zt());if(10===g.length){c=g[9];for(let h of c)this.Ma.push(e.Ce.Qa(this,h,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=b);this.Sd.na().s$(this)}static Qa(c,g,m){return e.m(e.cL,c,g,m)}Pb(){for(const c of this.Ma)c.Pb(),c.Ue&&(this.ll=!0);this.WS?(this.wa=this.Q$,this.ob=this.O6):this.Ed?(this.jG(),this.ob=this.tF):this.K.Db().an?(this.hG(),this.ob=
this.sF):this.Mh?(this.wa=this.X$,this.ob=this.V6):(this.wa=this.ZQ,this.ob=this.P6)}jG(){this.Au(this.Ed,this.Ed,this.$F)}hG(){const c=this.K.Db(),g=this.K.Ej().pa;this.Au(c,g,this.ZF)}Au(c,g,m){const h=this.La,l=this.aj,n=this.Ma;if(0===n.length){const p=c.Vj(h,g);this.wa=l?function(){return e.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.yb)this.wa=c.HP(h,g,p.Y(0));else{const q=c.Vj(h,g);this.wa=function(){return e.xor(q(p.Y(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.yb&&q.yb)this.wa=c.IP(h,g,p.Y(0),q.Y(0));else{const u=c.Vj(h,g);this.wa=function(){return e.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.yb&&q.yb&&u.yb)this.wa=c.JP(h,g,p.Y(0),q.Y(0),u.Y(0));else{const w=c.Vj(h,g);this.wa=function(){return e.xor(w(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.wa=m}H(){return this.K}vg(){return this.Vc}xe(){return this.Sd}I(){return this.g}Ha(){return this.Pa}JL(){return this.Ha()}qo(){return this.fI}ue(){return!this.Sa.fd&&!this.g.tc()&&
!this.Sa.zf}ri(){this.Ib||(this.Ib=new Map);return this.Ib}wt(){this.$h||(this.$h=new Map);return this.$h}$F(){const c=this.Ab;a(this.Ma,c);return e.xor(this.La.apply(this.Ed,c),this.aj)}*tF(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.Ed,c);e.zm(c)&&(c=yield*c);return e.xor(c,this.aj)}return this.wa()}ZF(){const c=this.Ab;a(this.Ma,c);const g=this.K.Ej().pa;return e.xor(this.La.apply(g,c),this.aj)}*sF(){if(this.Sa.fd||this.g.tc())yield this;
if(this.Sa.zf){var c=this.Ab;a(this.Ma,c);const g=this.K.Ej().pa;c=this.La.apply(g,c);e.zm(c)&&(c=yield*c);return e.xor(c,this.aj)}return this.wa()}Q$(){return!0}*O6(){if(this.Sa.fd||this.g.tc())yield this;return!0}X$(){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.Vc||this.K,c);this.K.yc();return c}*V6(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){var c=this.Ab;a(this.Ma,c);c=this.La.apply(this.Vc||this.K,c);e.zm(c)&&(c=yield*c);this.K.yc();return c}return this.wa()}ZQ(){const c=this.Ma,
g=this.Ab,m=this.K.S();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.Ue||(g[h]=n.Y(0))}return m.dc?this.R$(m):this.S$(m)}*P6(){if(this.Sa.fd||this.g.tc())yield this;return this.ZQ()}CF(c){const g=this.Ma,m=this.Ab;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.Ue&&(m[h]=n.Y(c))}}R$(c){const g=this.K,m=g.ab,h=g.Wi,l=this.Ni,n=0<=l,p=g.oa(),q=this.ll,u=this.Ab,w=this.La,r=this.aj,v=this.XS&&!this.fI;c.qx();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.CF(A);var y=void 0;n?(y=m?z.H().Zn(h):0,
y=w.apply(z.Uc[l+y].pa,u)):y=w.apply(z.pa,u);e.xor(y,r)?c.wu(z):v&&c.Qo(z)}g.Ws(!0);c.Le(!1);g.yc();return c.sM()}S$(c){const g=this.K;var m=g.ab;const h=g.Wi,l=g.Xb(),n=this.Ni,p=0<=n,q=this.ll,u=this.Ab,w=this.La,r=this.aj,v=this.XS&&!this.fI,y=c.G,A=c.wc,G=v&&!this.Sd.T0(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.CF(M);var J=void 0;p?(J=m?R.H().Zn(h):0,J=w.apply(R.Uc[n+J].pa,u)):J=w.apply(R.pa,u);e.xor(J,r)?(H=!0,G?(y.push(R),l&&R.o$()):(z[F]=R,l&&R.Zaa(F),
++F)):G?(z[F]=R,l&&R.Yaa(F),++F):v&&(A.push(R),l&&R.n$())}e.We(z,F);l&&g.uba(G,F);m=H;G&&!H&&(H=this.g$(y));g.Ws(m||v);return v?H:c.sM()}g$(c){var g=this.K;const m=g.ab;g=g.Wi;const h=this.ll,l=this.Ni,n=0<=l,p=this.Ab,q=this.La,u=this.aj;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.CF(r);if(n){const y=m?w.H().Zn(g):0;w=q.apply(w.Uc[l+y].pa,p)}else w=q.apply(w.pa,p);if(e.xor(w,u))return!0}return!1}Lt(c,g){return this.Ma[c].Y(g)}BZ(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].Q7()}ka(){if(!this.Ib||!this.Ib.size)return null;const c={};for(const [g,m]of this.Ib.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].dd,l[1].dd,l[2]]));c[g]=h}return{ex:c}}ta(c){this.Ib&&(this.Ib.clear(),this.Ib=null);if(c){var g=this.g,m=c.ex;if(m){c=this.ri();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=e.m(e.Ht,l.map(n=>[g.yj(n[0]),g.yj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const e=self.B;function a(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].Y(0)}const b=[],d=function(){},c=function*(){};e.dx=class extends e.ja{constructor(g,m,h){super();this.Sd=g;this.g=g=g.I();this.Pa=h;this.lb=4<=m.length?m[3]:-1;this.Cz=5<=m.length?m[4]:0;this.Vc=this.K=this.La=null;this.Ni=-1;this.Ed=null;this.Qz="";this.rl=this.Pz=null;this.ob=this.wa=d;this.Ma=[];this.Ab=[];this.ll=!1;this.$h=this.Ib=null;const l=(h=-3===m[0])?m[2]:m[5];this.Sa=g.zb||h?{fd:l[0],zf:l[1],index:l[2]}:
null;-1===m[0]?(this.Ed=g.pt(),this.La=g.oh(m[1])):-2===m[0]?this.Qz=m[1]:h?(this.La=g.oh(m[1]),this.wa=this.AE,this.ob=this.BX,this.Cz=1):(this.La=g.oh(m[1]),this.K=g.$e(m[0]),m[2]&&(this.Vc=this.K.Jx(m[2]),this.Ni=this.K.$s(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ma.push(e.Ce.Qa(this,n,this.Ma.length)),this.Ab.push(0)}0===this.Ma.length&&(this.Ab=this.Ma=b);this.Sd.na().r$(this)}static Qa(g,m,h){return e.m(e.dx,g,m,h)}Pb(){for(var g of this.Ma)g.Pb(),g.Ue&&(this.ll=!0);if(this.Ed)this.jG(),
this.ob=this.tF;else if(this.Qz)this.yaa(),this.Qz="";else if(this.wa===this.AE){g=this.La;const m=this.g.na().QP(this.Sd);this.La=g.bind(null,this.g.Yi,m)}else this.Vc?this.xg()?(this.wa=this.XQ,this.ob=this.L6):(this.wa=this.WQ,this.ob=this.K6):this.K.Db().an?(this.hG(),this.ob=this.sF):this.xg()?(this.wa=this.aR,this.ob=this.R6):this.Ma.length?this.Ma.every(m=>m.Ue)?(this.wa=this.$Q,this.ob=this.Q6):this.ll?(this.wa=this.cR,this.ob=this.T6):this.Ma.every(m=>m.yb)?(a(this.Ma,this.Ab),this.wa=this.YF,
this.ob=this.mP):(this.wa=this.bR,this.ob=this.S6):(this.wa=this.YF,this.ob=this.mP)}jG(){this.Au(this.Ed,this.Ed,this.$F)}hG(){const g=this.K.Db(),m=this.K.Ej().pa;this.Au(g,m,this.ZF)}yaa(){const g=this.Sd.na(),m=g.Tx(this.Qz);m.yg()?(this.Pz=m.xe(),this.rl=[...new Set([...this.Sd.zd(),...this.Pz.zd()])],this.rl=g.dz(this.rl),this.wa=e.Kk.prototype.u3.bind(this.Pz,this.rl,this.Ma),this.ob=this.M6):(this.wa=d,this.ob=c)}Au(g,m,h){const l=this.La,n=this.Ma;if(0===n.length)this.wa=g.Vj(l,m);else if(1===
n.length){const p=n[0];if(p.yb)this.wa=g.HP(l,m,p.Y(0));else{const q=g.Vj(l,m);this.wa=function(){return q(p.Y(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.yb&&q.yb)this.wa=g.IP(l,m,p.Y(0),q.Y(0));else{const u=g.Vj(l,m);this.wa=function(){return u(p.Y(0),q.Y(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.yb&&q.yb&&u.yb)this.wa=g.JP(l,m,p.Y(0),q.Y(0),u.Y(0));else{const w=g.Vj(l,m);this.wa=function(){return w(p.Y(0),q.Y(0),u.Y(0))}}}else this.wa=h}xg(){return 1===this.Cz}XK(){return 2===
this.Cz}J_(){return 0!==this.Cz}H(){return this.K}xe(){return this.Sd}I(){return this.g}Ha(){return this.Pa}JL(){return this.Sa.index}ue(){return!this.Sa.fd&&!this.g.tc()&&!this.Sa.zf}ri(){this.Ib||(this.Ib=new Map);return this.Ib}wt(){this.$h||(this.$h=new Map);return this.$h}$F(){const g=this.Ab;a(this.Ma,g);return this.La.apply(this.Ed,g)}*tF(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){const g=this.Ab;a(this.Ma,g);return yield*this.La.apply(this.Ed,g)}return this.wa()}*M6(){if(this.Sa.fd||
this.g.tc())yield this;return yield*this.Pz.wX(this.rl,this.Ma)}ZF(){const g=this.Ab;a(this.Ma,g);return this.La.apply(this.K.Ej().pa,g)}*sF(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){const g=this.Ab;a(this.Ma,g);return yield*this.La.apply(this.K.Ej().pa,g)}return this.wa()}YF(){const g=this.Ab,m=this.K.S().oa();for(let h=0,l=m.length;h<l;++h)this.La.apply(m[h].pa,g)}*mP(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){const g=this.Ab,m=this.K.S().oa();for(let h=0,l=m.length;h<l;++h)yield*this.La.apply(m[h].pa,
g)}else this.YF()}bR(){const g=this.Ab;a(this.Ma,g);const m=this.K.S().oa();for(let h=0,l=m.length;h<l;++h)this.La.apply(m[h].pa,g)}*S6(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){const g=this.Ab;a(this.Ma,g);const m=this.K.S().oa();for(let h=0,l=m.length;h<l;++h)yield*this.La.apply(m[h].pa,g)}else this.bR()}$Q(){const g=this.Ma,m=this.Ab,h=this.La,l=this.K.S().oa();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].Y(n);h.apply(q.pa,m)}}*Q6(){if(this.Sa.fd||
this.g.tc())yield this;if(this.Sa.zf){const g=this.Ma,m=this.Ab,h=this.La,l=this.K.S().oa();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].Y(n);yield*h.apply(q.pa,m)}}else this.$Q()}cR(){const g=this.Ma,m=this.Ab,h=this.La,l=this.K.S().oa();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.Ue||(m[p]=n.Y(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.Ue&&(m[u]=r.Y(p))}h.apply(n.pa,m)}}*T6(){if(this.Sa.fd||this.g.tc())yield this;
if(this.Sa.zf){const m=this.Ma,h=this.Ab,l=this.La,n=this.K.S().oa();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.Ue||(h[p]=g.Y(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.Ue&&(h[u]=r.Y(p))}yield*l.apply(g.pa,h)}}else this.cR()}WQ(){var g=this.K;const m=g.ab,h=g.Wi,l=this.Ma,n=this.ll,p=this.Ab,q=this.La,u=this.Ni;g=g.S().oa();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.Ue||(p[v]=w.Y(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.Ue&&(p[A]=r.Y(v))}r=m?w.H().Zn(h):0;q.apply(w.Uc[u+r].pa,p)}}*K6(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){var g=this.K;const l=g.ab,n=g.Wi,p=this.Ma,q=this.ll,u=this.Ab,w=this.La,r=this.Ni;g=g.S().oa();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.Ue||(u[v]=m.Y(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.Ue&&(u[A]=h.Y(v))}h=l?m.H().Zn(n):0;yield*w.apply(m.Uc[r+h].pa,u)}}else this.WQ()}aR(){const g=this.Ma,m=this.Ab,
h=this.La,l=this.K.S().oa(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].Y(p);n.push(h.apply(u.pa,m))}return Promise.all(n)}*R6(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){const g=this.Ma,m=this.Ab,h=this.La,l=this.K.S().oa(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].Y(p);n.push(yield*h.apply(u.pa,m))}return Promise.all(n)}return this.aR()}XQ(){var g=this.K;const m=g.ab,h=g.Wi,l=this.Ma,n=this.Ab,
p=this.La,q=this.Ni;g=g.S().oa();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Zn(h):0;u.push(p.apply(v.Uc[q+y].pa,n))}return Promise.all(u)}*L6(){if(this.Sa.fd||this.g.tc())yield this;if(this.Sa.zf){var g=this.K;const m=g.ab,h=g.Wi,l=this.Ma,n=this.Ab,p=this.La,q=this.Ni;g=g.S().oa();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.H().Zn(h):0;u.push(yield*p.apply(v.Uc[q+
y].pa,n))}return Promise.all(u)}return this.XQ()}async AE(){try{await this.La()}catch(g){console.error(`Unhandled exception running script %c${this.Sd.Zc.Ca()}, event ${this.Sd.Ar}, action ${this.JL()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.pg&&self.pg.Saa(this),e.Ex.w_()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.Ex.f4())}}*BX(){if(this.Sa.fd||
this.g.tc())yield this;return this.AE()}ka(){return this.Ib&&this.Ib.size?{ex:e.eF(this.Ib)}:null}ta(g){this.Ib&&(this.Ib.clear(),this.Ib=null);g&&(g=g.ex)&&(this.Ib=e.fD(g))}}}
{"use strict";const e=self.B,a=new e.fb;function b(L,O){return e.compare(this.j().qa(),L,O)}function d(L,O){return e.compare(this.j().ra(),L,O)}function c(){const L=this.j(),O=L.aa();return O.uq()?L.zq(O.br()):L.IM(O.kg,L.ec().vM(),L.ec().nf)}function g(){var L=this.j();const O=L.ec();L=L.Pc();return 0>L.la||0>L.da||L.W>O.fa()||L.R>O.ea()}function m(L,O,U){const aa=this.S(),ha=aa.oa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.j();let ua=fa,ka=e.eC(ja.qa(),ja.ra(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.j(),ja=e.eC(ja.qa(),ja.ra(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Cm(ua);return!0}function h(L){const O=this.j();O.qa()!==L&&(O.Fg(L),O.Ja())}function l(L){const O=this.j();O.ra()!==L&&(O.yh(L),O.Ja())}function n(L,O){const U=this.j();U.OY(L,O)||(U.Uf(L,O),U.Ja())}function p(L,O){if(L&&(L=L.$L(this.Z))){var [U,aa]=L.tm(O);O=this.j();if(O.qa()!==U||O.ra()!==aa)O.Uf(U,aa),O.Ja()}}function q(L){if(0!==L){var O=this.j();O.Gq(O.lD()*L,O.CD()*L);O.Ja()}}function u(L,
O){if(0!==O){var U=this.j();L=e.rb(L);U.Gq(Math.cos(L)*O,Math.sin(L)*O);U.Ja()}}function w(){return this.j().qa()}function r(){return this.j().ra()}function v(){return this.g.Px(this.Z)}function y(L,O){return e.compare(this.j().fa(),L,O)}function A(L,O){return e.compare(this.j().ea(),L,O)}function G(L){const O=this.j();O.fa()!==L&&(O.xh(L),O.Ja())}function z(L){const O=this.j();O.ea()!==L&&(O.Bi(L),O.Ja())}function F(L,O){const U=this.j();if(U.fa()!==L||U.ea()!==O)U.ud(L,O),U.Ja()}function H(){return this.j().fa()}
function J(){return this.j().ea()}function M(){return this.j().Pc().W}function P(){return this.j().Pc().R}function R(){return this.j().Pc().la}function T(){return this.j().Pc().da}function Z(L,O){return e.cq(this.j().Ta(),e.rb(O))<=e.rb(L)}function X(L){return e.yf(this.j().Ta(),e.rb(L))}function ba(L,O){L=e.rb(L);O=e.rb(O);const U=this.j().Ta();return e.yf(O,L)?e.yf(U,L)&&!e.yf(U,O):!(!e.yf(U,L)&&e.yf(U,O))}function Y(L){const O=this.j();L=e.se(e.rb(L));isNaN(L)||O.Ta()===L||(O.kd(L),O.Ja())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.j();O.kd(O.Ta()+e.rb(L));O.Ja()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.j();O.kd(O.Ta()-e.rb(L));O.Ja()}}function ya(L,O){const U=this.j(),aa=U.Ta();L=e.ZB(aa,e.rb(O),e.rb(L));isNaN(L)||aa===L||(U.kd(L),U.Ja())}function Na(L,O,U){const aa=this.j(),ha=aa.Ta();O-=aa.qa();U-=aa.ra();L=e.ZB(ha,Math.atan2(U,O),e.rb(L));isNaN(L)||ha===L||(aa.kd(L),aa.Ja())}function Sa(L,O){const U=this.j(),aa=U.Ta();L-=U.qa();O-=U.ra();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.kd(O),U.Ja())}function Ta(){return e.hh(this.j().Ta())}
function Ua(L,O){return e.compare(e.rV(100*this.j().Ae()),L,O)}function Wa(){return this.j().zc()}function eb(L){const O=this.j();L=2===L?!O.zc():0!==L;O.zc()!==L&&(O.Tf(L),this.g.ba())}function fb(L){L=e.ia(L/100,0,1);const O=this.j();O.Ae()!==L&&(O.cl(L),this.g.ba())}function Pa(L){a.Js(L);L=this.j();L.ib.em(a)||(L.uO(a),this.g.ba())}function Va(){const L=this.j().ib;return e.Cy(L.Va,L.$a,L.Za,L.Ya)}function ib(){return e.rV(100*this.j().Ae())}function Ya(L){return L?this.j().aa()===L:!1}function vb(L){const O=
this.S(),U=O.oa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.j(),ka=aa.j(),wa=ua.aa().Ha(),Ga=ka.aa().Ha();if(0===L){if(wa>Ga||wa===Ga&&ua.th()>ka.th())aa=ja}else if(wa<Ga||wa===Ga&&ua.th()<ka.th())aa=ja}O.Cm(aa);return!0}function wb(L,O,U){const aa=this.j();L=0===L?aa.hb():aa.Mf();return e.compare(L,O,U)}function jb(){this.j().D5()}function xb(){this.j().B5()}function yb(L){L&&this.j().C5(L)}function zb(L,O){L=0===L;O&&(O=O.RL(this.Da()))&&this.j().A5(O,
L)}function Ab(L){const O=this.j();O.hb()!==L&&(O.ff(L),this.g.ba())}function Bb(){return this.j().aa().Ha()}function Cb(){return this.j().aa().Ca()}function Db(){return this.j().th()}function kb(){return this.j().hb()}function Eb(){return this.j().Mf()}function Fb(L,O){if(O=this.H().Oa.Ok(O)){O=O.Ha();L=1===L;var U=this.j().bg;U.Bt(O)!==L&&(U.XN(O,L),U.Ah(),this.g.ba())}}function Gb(L,O,U){var aa=this.H().Oa.Ok(L);if(aa){L=aa.Ha();var ha=this.j().bg,fa=ha.Nk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Kf().Zx(O);if("color"===aa){a.Js(U);O=fa[O];if(a.em(O))return;O.kj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Bt(L)&&this.g.ba()}}}const lb=e.m(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.dd<U.dd?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.dd<U.dd?L.Vn(O,U):L.Vn(U,O)}function qa(L,O,U){return O.dd<U.dd?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Da();const ha=0!==U||0!==aa,fa=L.j(),ja=L.I(),ua=ja.Um;var ka=ja.Ff();
const wa=ka.xe().Td;var Ga=ka.H();ka=ka.aj;const Ia=O.S();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.dc?(lb.ua(fa.Pc()),lb.offset(U,aa),ua.Mx(fa.aa(),O,lb,mb),O=mb):wa?ja.R0()&&!Ia.wc.length&&Ia.G.length?O=Ia.G:(O=Ia.wc,ob=!0):O=Ia.G;ha&&(db=fa.qa(),Ha=fa.ra(),fa.Gq(U,aa),fa.Ja());for(const da of O)if(ua.Yq(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Uf(db,Ha),fa.Ja());e.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.I().Nb().Td;O=Za.S();const U=O.G,aa=O.wc;O.dc?(O.Yt(Qa),L&&(e.F(aa),
O.NK(Qa,Za.oa()))):L?ob?O.a5(Qa):(O.NK(Qa,U),O.Yt(Qa)):O.Yt(Qa);Za.yc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.ke)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Um,aa=O.na(),ha=aa.gd();var fa=aa.Ff();const ja=fa.H();var ua=fa.ri(),ka=fa.wt();fa=ha.Ze();const wa=O.sk,Ga=wa-1,Ia=fa.Nb(),db=ha.Ra(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.Ht),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Wb().addEventListener("instancedestroy",
Ra=>{Ha.qL(Ra.instance)}));O=L.S();ua=ja.S().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.dc?(U.Mx(Ea.j().aa(),L,Ea.j().Pc(),Xa),ka=Xa,U.QK(Ea,L,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Yq(Ea,La)||U.ZK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.yd(),aa.De(ma),na=ja.S(),da=L.S(),na.Le(!1),da.Le(!1),ja===L?(da=na.G,e.F(da),da.push(Ea),da.push(La),ja.yc()):(na=na.G,da=da.G,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.yc(),L.yc()),Ia.Bg(fa,db),aa.Ob(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Na();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Um,aa=O.na(),ha=aa.gd();var fa=aa.Ff();const ja=fa.H();var ua=fa.ri(),ka=fa.wt();fa=ha.Ze();const wa=O.sk,Ga=wa-1,Ia=fa.Nb(),db=ha.Ra(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.Ht),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Wb().addEventListener("instancedestroy",Ra=>
{Ha.qL(Ra.instance)}));O=L.S();ua=ja.S().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.dc?(U.Mx(Ea.j().aa(),L,Ea.j().Pc(),Xa),ka=Xa,U.QK(Ea,L,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Yq(Ea,La)||U.ZK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.yd(),aa.De(ma),na=ja.S(),da=L.S(),na.Le(!1),da.Le(!1),ja===L?(da=na.G,e.F(da),da.push(Ea),da.push(La),ja.yc()):(na=na.G,da=da.G,e.F(na),e.F(da),
na.push(Ea),da.push(La),ja.yc(),L.yc()),yield*Ia.rg(fa,db),aa.Ob(ma))}else qb(Ha,Ea,La)}e.F(Xa)}ha.Na();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.j().Ij()}function rb(){return this.j().cf()}function sb(L,O){const U=this.S().oa();if(0===U.length)return!1;const aa=L.S();var ha=aa.oa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Vw())wa.iq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Fa(),null===ja)continue}else ja=ja.fy();ja.iq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.Yt(fa);L.yc();return!0}function tb(L,O){const U=this.S().oa();if(0===U.length)return!1;const aa=L.S();var ha=aa.oa();if(aa.dc){var fa=[...this.g.fK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.cf()&&ka.iq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Ck())2===O&&wa.cf()||wa.iq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.Yt(fa);L.yc();return!0}function ub(L,O){const U=this.S().oa();if(0===U.length)return!1;const aa=L.S();var ha=aa.oa();if(aa.dc){var fa=[...this.g.fK(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].kD(O);null!==ka&&ka.iq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Ly(fa);L.yc();return!0}function gb(L,O){return e.compare(this.Z.Lx(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.Z,wa=this.g.et().H();for(const Ga of L.AU(ka,wa)){if(!Ga.Db().fU)break;ka.km(Ga,{Ms:O,Ns:U,fq:aa,eq:ha,Ls:fa,Os:ja,Jw:ua})}}function k(L){const O=this.Z,U=this.g.et().H();for(const aa of L.AU(O,U))O.Nj(aa)}function t(){this.Z.Ij()&&this.Z.Fa().Nj(this.Z)}function x(){return this.Z.Lx()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Gy(),U.Ja()):U.YC(L,O)}function D(L,O,U,aa,ha,fa,ja,ua){const ka=
this.j();ka.jO(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,cx:fa,JV:ja,MV:ua})&&ka.Ja()}function E(){const L=this.j();return L.Nf()?L.Fj().ek:0}function I(){const L=this.j();return L.Nf()?L.Fj().vk:0}function K(L){const O=this.j();L=2===L?!O.zc():0!==L;O.zc()!==L&&O.Tf(L)}function N(L,O){this.Y3(L,O)}function Q(L,O){this.X3(L,""+O)}function S(L){this.a3(L)}function W(){this.BL()}function V(){this.TK()}function ea(){return this.jH}function ia(L){this.To(0!==L)}function ca(){return this.tb}function oa(L,
O,U){return e.compare(this.Da().ye(L),O,U)}function la(L){return!!this.Da().ye(L)}function ra(L,O){const U=this.S(),aa=U.oa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.ye(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.ye(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Cm(fa);return!0}function sa(L){if(this.g.Ff().aj){{const aa=this.S();if(aa.dc){aa.Le(!1);aa.qx();var O=this.oa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.dd===L?aa.Qo(U):aa.wu(U)}this.yc();L=!!aa.G.length}else{O=
aa.G;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.dd===L?aa.Qo(ja):++U}e.We(O,U);this.yc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.I().yj(O);if(!O)return!1;const U=L.S();if(!U.dc&&!U.G.includes(O))return!1;if(L.ab){if(O.H().LC(L))return U.Cm(O),L.yc(),!0}else if(O.H()===L)return U.Cm(O),L.yc(),!0;return!1}function za(){this.g.Wn(this.Z)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Da().Gm(L,O)}function Fa(L,O){const U=this.Da(),aa=
U.ye(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Gm(L,aa+O)}function Ja(L,O){const U=this.Da(),aa=U.ye(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Gm(L,aa-O))}function Ka(L,O){this.Da().Gm(L,O?1:0)}function Da(L){const O=this.Da();O.Gm(L,0===O.ye(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Da();L.mz("state");L.hd(O,"state")}
function Ib(){return JSON.stringify(this.Da().td("state"))}function nc(){return this.Da().H().Ca()}function oc(){const L=this.g.Ye().pH;let O=L.G.length;for(const U of this.g.fK(L))++O;return O}function pc(){return this.g.Ye().pH.S().oa().length}function qc(){return this.Z.ao()}function rc(){return this.Z.dd}e.VV=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.N,da=O.sb,na=O.gb;L[3]&&(ma.rga=b,ma.sga=d,ma.fia=c,ma.hia=g,
ma.A2=m,da.Fg=h,da.yh=l,da.pO=n,da.oma=p,da.Qia=q,da.Pia=u,na.PO=w,na.QO=r,na.OU=v);aa&&(ma.qga=y,ma.lga=A,da.xh=G,da.Bi=z,da.ud=F,na.w5=H,na.wM=J,na.Qfa=M,na.xW=P,na.Rfa=R,na.wW=T);ha&&(ma.kW=Z,ma.O0=X,ma.N0=ba,da.kd=Y,da.cla=va,da.dla=ta,da.fla=ya,da.gla=Na,da.vma=Sa,na.Jfa=Ta);fa&&(ma.zc=Wa,ma.mga=Ua,da.Tf=eb,da.cl=fb,da.Bla=Pa,na.Opacity=ib,na.gga=Va);ja&&(ma.dia=Ya,ma.Nja=vb,ma.tga=wb,da.Tia=jb,da.G1=xb,da.Ria=yb,da.Ona=zb,da.ff=Ab,na.uia=Bb,na.tia=Cb,na.Nna=Db,na.z5=kb,na.dna=Eb);ua&&(da.Cla=
Fb,da.W3=Gb);Ia&&(ma.Ij=Rb,ma.cf=rb,ma.Lja=sb,ma.Fja=tb,ma.Jja=ub,ma.jga=gb,da.km=f,da.Nj=k,da.jka=t,na.cga=x);db&&(da.ima=C,da.jO=D,na.Lia=E,na.Mia=I);ka&&(ma.zc=Wa,da.Tf=K,da.yla=N,da.Dla=Q,da.ika=S);wa&&(ma.Uha=ea,da.Gla=W,da.wla=V);Ga&&(ma.yg=ca,da.IE=ia);Ha&&(ma.ija=Nb,ma.X0=Pb,ma.iia=Qb,O.$Y=Mb);U||(ma.bX=oa,ma.Iha=la,ma.Gja=ra,ma.z2=sa,da.dO=Ca,da.Ffa=Fa,da.Tma=Ja,da.xla=Ka,da.ana=Da,ma.Y1=Aa,ma.Z1=Ba,da.GX=za,da.iE||(da.iE=Hb),na.sW||(na.sW=Ib),na.yga=oc,na.Oja=pc,na.qha=qc,na.e5=rc,na.dja=
nc)}}
{"use strict";const e=self.B;e.DE=class extends e.ja{constructor(a){super();this.za=a;this.ya="";this.pd=-1;this.hw="";this.OA=!1;this.Ti=null;this.Wf=0;this.Re=[];this.Qp=new Map;this.pl=null;this.Hu=-1;this.wH=this.Rg=null;this.gw=!1}A(){this.ya="";this.pd=-1;this.hw="";this.wH=this.Rg=this.pl=this.Ti=null;this.Hu=-1;e.F(this.Re);for(const a of this.Qp.values())a.A();this.Qp.clear()}Jg(){var a=this.za,b=a.I().Tc;const d=a.Ye();this.Ti=d.Nb();this.Wf=d.Wf+1;if(a=a.eD(this.Ti))this.pl=a,this.Rg=a.PW(),
this.wH=a.KH.map(c=>c.M()),a.xg()&&(this.Hu=a.x2());for(const c of b)if(b=c.S(),!b.dc||this.Ti.L_(c))this.Re.push(c),this.Qp.set(c,e.m(e.yO,b))}F0(a){this.ya="timer";this.Jg();this.pd=this.za.I().$n()+a}D0(a){this.ya="signal";this.Jg();this.hw=a.toLowerCase()}r0(a){this.ya="promise";this.Jg();a.then(()=>this.PE()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.PE()})}e1(){return"timer"===this.ya}c1(){return"signal"===this.ya}Z0(){return"promise"===
this.ya}PE(){this.OA=!0}yR(){return this.e1()?this.pd<=this.za.I().$n():this.OA}VQ(a){a.XF(this.Ti,this.Wf);for(const [b,d]of this.Qp.entries())d.XF(b.S());if(a=this.pl)a.Tt(this.Rg),a.KH.map((b,d)=>b.Fe(this.wH[d])),a.xg()&&a.t3(this.Hu)}N$(a){this.VQ(a);this.Ti.M$(a);this.pl&&this.pl.xg()&&this.pl.Et(this.Hu);this.za.kq(this.Re);this.gw=!0}async H6(a){this.VQ(a);for(const b of this.Ti.G6(a))await this.za.I().lq(b);this.pl&&this.pl.xg()&&this.pl.Et(this.Hu);this.za.kq(this.Re);this.gw=!0}yo(a){for(const b of this.Qp.values())b.yo(a)}ka(){const a=
{},b={t:this.pd,st:this.hw,s:this.OA,ev:this.Ti.lb,sm:this.Re.map(d=>d.lb),sols:a};this.Ti.m8(this.Wf)&&(b.act=this.Ti.EL(this.Wf).lb);for(const [d,c]of this.Qp)a[d.lb.toString()]=c.ka();return b}static m6(a,b){const d=a.I();var c=a.wZ(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var m=a.gZ(b.act);if(!m)return null;g=m.Ha()}m=e.m(e.DE,a);m.pd=b.t;m.ya=-1===m.pd?"signal":"timer";m.hw=b.st;m.OA=b.s;m.Ti=c;m.Wf=g;for(var h of b.sm)(c=d.Yx(h))&&m.Re.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
d.Yx(parseInt(l,10)))h=e.m(e.yO,null),h.ta(a,n),m.Qp.set(b,h);return m}}}{"use strict";const e=self.B;e.yO=class extends e.ja{constructor(a){super();this.K=null;this.NA=!0;this.G=[];a&&(this.K=a.H(),this.NA=a.dc,e.Nc(this.G,a.G))}A(){this.K=null;e.F(this.G)}XF(a){a.Le(this.NA);e.Nc(a.G,this.G)}yo(a){e.ng(this.G,a)}ka(){return{sa:this.NA,insts:this.G.map(a=>a.dd)}}ta(a,b){a=a.I();this.NA=!!b.sa;e.F(this.G);for(const d of b.insts)(b=a.yj(d))&&this.G.push(b)}}}
{"use strict";const e=self.B;function a(b,d){let c=b.get(d);c||(c=new Map,b.set(d,c));return c}e.Ot=class extends e.ja{constructor(b){super();this.g=b.Df;this.an=!!b.ZU;this.pf=!!b.sea;this.Eca=!!b.rea;this.Oca=!!b.Gea;this.rca=!!b.gea;this.fU=!!b.hfa;this.gda=!!b.gfa;this.UT=null;this.TR=new Map;this.Vba=new Map;this.Wba=new Map;this.Xba=new Map}A(){this.g=null}I(){return this.g}Ad(){}Cq(){return this.Eca}Eq(){return this.Oca}JD(){return this.rca}Vj(b,d){if(!d)throw Error("missing 'this' binding");
let c=this.TR.get(b);if(c)return c;c=b.bind(d);this.TR.set(b,c);return c}HP(b,d,c){if(!d)throw Error("missing 'this' binding");const g=a(this.Vba,b);let m=g.get(c);if(m)return m;m=b.bind(d,c);g.set(c,m);return m}IP(b,d,c,g){if(!d)throw Error("missing 'this' binding");var m=a(this.Wba,b);m=a(m,c);let h=m.get(g);if(h)return h;h=b.bind(d,c,g);m.set(g,h);return h}JP(b,d,c,g,m){if(!d)throw Error("missing 'this' binding");var h=a(this.Xba,b);h=a(h,c);h=a(h,g);let l=h.get(m);if(l)return l;l=b.bind(d,c,g,
m);h.set(m,l);return l}$aa(b){if(!this.an)throw Error("must be single-global plugin");this.UT=b}Ej(){if(!this.an)throw Error("must be single-global plugin");return this.UT.Ej()}}}
{"use strict";const e=self.B;e.A3=class extends e.Ot{constructor(a,b){super(a);this.Xm=b;this.Rca=0;this.LH=new Map;this.Ps("elem-focused",d=>d.I9());this.Ps("elem-blurred",d=>{d&&d.H9()})}A(){super.A()}I5(a){const b=this.Rca++;this.LH.set(b,a);return b}D$(a){this.LH.delete(a)}Ps(a,b){this.g.gi(this.Xm,a,d=>{const c=this.LH.get(d.elementId);b(c,d)})}}}{"use strict";const e=self.B;e.Iy=class extends e.ja{constructor(a){super();this.K=a;this.g=a.I();this.Sh=a.Db()}A(){this.Sh=this.g=this.K=null}H(){return this.K}I(){return this.g}Db(){return this.Sh}Gf(){return this.K.Gf()}Ws(){}Dq(){}xo(){}By(){}pE(){}Uk(){return null}}}
{"use strict";const e=self.B;e.BE=class extends e.ja{constructor(a,b){super();this.Z=a;this.Xm=b;this.g=a.I();this.K=this.Z.H();this.Mc=this.K.Mc;this.ns=this.Vl=null;this.Fv=this.El=!1;this.ie=null;this.Gw=!1}A(){this.Gw=!0;this.Nm();this.nG();this.ns=this.Vl=null;this.ie&&(this.ie.A(),this.ie=null);this.Mc=this.K=this.g=this.Z=null}Yy(){return this.Gw}Da(){return this.Z}I(){return this.g}H(){return this.K}Db(){return this.Mc.Db()}tq(){return this.Z.nh()}Xa(a){return this.g.Xa(a,this.Z,null)}Sc(a){return this.g.Sc(a,
this.Z,null)}MK(a,b){this.g.gi(this.Xm,a,b)}XV(a){for(const [b,d]of a)this.MK(b,d)}xi(a,b){this.g.so(this.Xm,a,b)}oE(a,b){return this.g.to(this.Xm,a,b)}il(a,b){this.g.le?this.xi(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Xm,handler:a,data:b,responseId:null})}He(){}Ji(){this.El||(this.Vl||(this.Vl=()=>this.He()),this.g.Wb().addEventListener("tick",this.Vl),this.El=!0)}Nm(){this.El&&(this.g.Wb().removeEventListener("tick",this.Vl),this.El=!1)}nG(){this.Fv&&(this.g.Wb().removeEventListener("tick2",
this.ns),this.Fv=!1)}td(){return null}hd(){}uc(){}Rf(){}kE(a,b){if(0!==b){var d=this.uc(a);if("number"!==typeof d)throw Error("expected number");this.Rf(a,d+b)}}Uk(){return null}mm(a,b,d){const c=this.tq();a=e.m(e.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.B;e.CE=class extends e.BE{constructor(a,b){super(a,b);this.Ua=a.j();this.WB=this.ws=null}A(){if(this.ws){const a=this.g.Wb();a.removeEventListener("webglcontextlost",this.ws);a.removeEventListener("webglcontextrestored",this.WB);this.WB=this.ws=null}this.Ua=null;super.A()}x_(){if(!this.ws){this.ws=()=>this.Hq();this.WB=()=>this.mN();var a=this.g.Wb();a.addEventListener("webglcontextlost",this.ws);a.addEventListener("webglcontextrestored",this.WB)}}Hq(){}mN(){}j(){return this.Ua}po(){return!1}Bj(){if(!this.po())throw Error("original size not known");
const a=this.mh();if(a)return a.fa()}Aj(){if(!this.po())throw Error("original size not known");const a=this.mh();if(a)return a.ea()}mh(){return null}mD(){var a=this.mh();return a&&(a=a.fe())?[a.fa(),a.ea()]:[100,100]}nD(){const a=this.mh();return a?a.Gj():null}UD(){const a=this.mh();return a?a.zp:!1}tm(){const a=this.Z.j();return[a.qa(),a.ra()]}Kq(){return!0}}}
{"use strict";const e=self.B,a=e.m(e.Rect);e.z3=class extends e.CE{constructor(b,d){super(b,d);this.hv=this.Db().I5(this);this.UH=!0;this.Ju=this.jH=!1;this.Nr=e.m(e.Rect,0,0,-1,-1);b=this.g.O;this.lT=b.yk;this.kT=b.xk;this.dI=!1;this.Ji()}A(){this.Db().D$(this.hv);this.Dm("destroy");this.hv=-1;super.A()}Dm(b,d){d||(d={});d.elementId=this.hv;this.xi(b,d)}LQ(b){b||(b={});b.elementId=this.hv;this.il("focus",b)}nX(b){b||(b={});const d=this.j().zc();b.elementId=this.hv;b.isVisible=d;Object.assign(b,this.pD());
this.UH=!!b.isVisible;this.il("create",b);this.KR(!0)}Oy(b){b=!!b;this.UH!==b&&(this.UH=b,this.Dm("set-visible",{isVisible:b}))}He(){this.KR(!1)}hba(){const b=this.g.O.Sx();return"Android"===e.Qc.Fq&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}KR(b){var d=this.j();const c=d.aa();var g=d.qa(),m=d.ra();let [h,l]=c.ro(g,m),[n,p]=c.ro(g+d.fa(),m+d.ea());g=this.g.O;m=g.md;const q=g.Wc;if(d.zc()&&c.zc()){if(!this.hba()){if(0>=n||0>=p||h>=m||l>=q){this.Oy(!1);return}1>h&&(h=1);1>l&&(l=1);n>=m&&(n=
m-1);p>=q&&(p=q-1)}a.set(h,l,n,p);d=g.yk;m=g.xk;!b&&a.rd(this.Nr)&&this.lT===d&&this.kT===m?this.Oy(!0):(this.Nr.ua(a),this.lT=d,this.kT=m,this.Oy(!0),b=null,this.Ju&&(b=c.wj()-.2),this.Dm("update-position",{left:Math.round(this.Nr.W)+g.ct(),top:Math.round(this.Nr.R)+g.dt(),width:Math.round(this.Nr.width()),height:Math.round(this.Nr.height()),fontSize:b}))}else this.Oy(!1)}BL(){this.LQ({focus:!0})}TK(){this.LQ({focus:!1})}I9(){this.jH=!0}H9(){this.jH=!1}Y3(b,d){this.Dm("set-css-style",{prop:e.IW(b),
val:d})}X3(b,d){this.Dm("set-attribute",{name:b,val:d})}a3(b){this.Dm("remove-attribute",{name:b})}Vf(){this.dI||(this.dI=!0,Promise.resolve().then(()=>{this.dI=!1;this.Dm("update-state",this.pD())}))}pD(){}}}
{"use strict";const e=self.B,a=self.Q_;e.KN=class extends e.ja{constructor(b){super();this.g=b.Df;this.EI=e.m(e.JC);this.fB=e.m(e.JC);this.rv=null;this.bda=b.Gqa||null}A(){this.fB.A();this.EI.A();this.g=null}I(){return this.g}Ad(){}J5(b){this.EI.Oc(b)}yD(){return this.EI.hD()}Ig(b){this.fB.Oc(b)}Ro(b){this.fB.Vn(b)}oa(){return this.fB.hD()}KZ(){if(null===this.rv){const b=this.bda;if(b){if(this.rv=new b(this),!(this.rv instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.rv=new a(this)}return this.rv}}}{"use strict";const e=self.B;e.MN=class extends e.ja{constructor(a){super();this.g=a.I();this.Vc=a;this.K=a.H();this.Mi=a.Mk();this.Mi.J5(this.K)}A(){this.Mi=this.K=this.Vc=this.g=null}vg(){return this.Vc}H(){return this.K}I(){return this.g}Mk(){return this.Mi}}}
{"use strict";const e=self.B;e.LN=class extends e.ja{constructor(a,b){super();this.Mz=a;this.Xm=b;this.Z=a.Z;this.g=a.I();this.Vc=a.vg();this.Mc=this.Vc.Mc;this.ZS=this.Fv=this.El=!1;this.ie=null}A(){this.Nm();this.nG();this.mba();this.ie&&(this.ie.A(),this.ie=null);this.Mc=this.Vc=this.g=this.Z=this.Mz=null}Mk(){return this.Vc.Mk()}H(){return this.Z.H()}j(){return this.Z.j()}I(){return this.g}vg(){return this.Vc}tq(){return this.Mz.tq()}Xa(a){return this.g.Xa(a,this.Z,this.Vc)}Sc(a){return this.g.Sc(a,
this.Z,this.Vc)}He(){}Ji(){this.El||(this.g.E5(this),this.El=!0)}Nm(){this.El&&(this.g.A$(this),this.El=!1)}nG(){this.Fv&&(this.g.B$(this),this.Fv=!1)}mba(){this.ZS&&(this.g.z$(this),this.ZS=!1)}MK(a,b){this.g.gi(this.Xm,a,b)}td(){return null}hd(){}uc(){}Rf(){}kE(a,b){if(0!==b){var d=this.uc(a);if("number"!==typeof d)throw Error("expected number");this.Rf(a,d+b)}}Uk(){return null}mm(a,b,d){const c=this.tq();a=e.m(e.Event,a,b);a.aoa=c;a.instance=c.instance;d&&Object.assign(a,d);c.dispatchEvent(a)}}}
{"use strict";const e=self.B;e.C={};e.Cb={};e.B2=class extends e.ja{constructor(a){super();this.g=a;this.Pba=[];this.GT=new Map;this.Ed=null;this.Mba=[];this.JG=new Map;this.eT=this.eJ=null}sX(a){const b=this.g.oh(a[0]);if(!b)throw Error("missing plugin");e.VV(a,b);a=e.m(b,{Df:this.g,ZU:a[1],sea:a[2],rea:a[5],gea:a[8],Gea:a[9],hfa:a[13],gfa:a[14]});a.Ad();this.Pba.push(a);this.GT.set(b,a)}uX(){this.Ed=e.m(e.C.Ga,{Df:this.g,ZU:!0});this.Ed.Ad()}mX(a){a=this.g.oh(a[1]);if(!a)throw Error("missing behavior");
const b=e.m(a,{Df:this.g});b.Ad();this.Mba.push(b);this.JG.set(a,b);!this.eJ&&e.Cb.efa&&b instanceof e.Cb.efa?this.eJ=b:!this.eT&&e.Cb.uea&&b instanceof e.Cb.uea&&(this.eT=b)}g_(a){return this.GT.get(a)||null}E_(a){return this.JG.has(a)}kZ(a){return this.JG.get(a)||null}pt(){return this.Ed}DD(){return this.eJ}}}
{"use strict";const e=self.B,a=new Set;e.my=class extends e.ja{constructor(){super();this.uk="";this.T=this.V=this.Yv=this.Xv=this.ds=0;this.ov=this.zp=!1;this.kf=null;this.Ul="";this.eg=e.m(e.Rect);this.Lp=e.m(e.Bd);a.add(this)}A(){this.yi();this.kf=null;a.delete(this)}static Hq(){for(const b of a)b.Ul="",b.eg.set(0,0,0,0),b.Lp.pj(b.eg)}SM(b){this.uk=b[0];this.ds=b[1];this.Xv=b[2];this.Yv=b[3];this.V=b[4];this.T=b[5];this.zp=b[6];this.ov=!0}q1(b,d){if(this.kf)throw Error("already loaded asset");
this.uk=d;const c={};e.SD(d)&&(c.Sw="remote");this.RM(b,c);return this.kf.QM()}k3(b){if(b===this)throw Error("cannot replace with self");this.yi();this.uk=b.uk;this.ds=b.ds;this.Xv=b.Xv;this.Yv=b.Yv;this.V=b.V;this.T=b.T;this.zp=b.zp;this.ov=b.ov;this.kf=b.kf;this.Ul=b.Ul;this.eg=b.eg;this.Lp=b.Lp}vm(){return this.ds}fa(){return this.V}ea(){return this.T}RM(b,d){if(this.kf)throw Error("already got asset");d=Object.assign({},d,{url:this.uk,size:this.vm()});this.kf=b.Ay(d)}cE(){return this.kf&&this.kf.cE()}async Dt(b,
d){if(!this.kf)throw Error("no asset");if(this.Ul)throw Error("already loaded texture");this.Ul="loading";b=await this.kf.Dt(b,d);if(!b)return this.Ul="",null;this.Ul="loaded";this.ov||(this.V=b.fa(),this.T=b.ea(),this.ov=!0);this.eg.set(this.Xv,this.Yv,this.Xv+(this.zp?this.T:this.V),this.Yv+(this.zp?this.V:this.T));this.eg.dm(b.fa(),b.ea());this.Lp.pj(this.eg);this.zp&&this.Lp.Vea();return b}yi(){this.Ul&&(this.kf&&this.kf.yi(),this.Ul="",this.eg.set(0,0,0,0),this.Lp.pj(this.eg))}fe(){return this.kf?
this.kf.fe():null}Gj(){return this.eg}ey(){return this.Lp}}}
{"use strict";const e=self.B;e.mW=class extends e.ja{constructor(a){super();this.Ka=a[0];this.od=a[1];this.KA=!!a[2];this.cs=a[3];this.OT=a[4];this.Dca=!!a[5];this.lb=a[6];this.Jd=a[7].map(b=>e.m(e.lW,b))}A(){for(const a of this.Jd)a.A();e.F(this.Jd)}n1(a){for(const b of this.Jd)b.Gf().RM(a)}o1(a,b){return Promise.all(this.Jd.map(d=>d.Gf().Dt(a,b)))}W2(){for(const a of this.Jd)a.Gf().yi()}Ca(){return this.Ka}qm(a){a=Math.floor(a);if(0>a||a>=this.Jd.length)throw new RangeError("invalid frame");return this.Jd[a]}rh(){return this.cs}}}
{"use strict";const e=self.B;e.lW=class extends e.ja{constructor(a){super();this.ag=e.m(e.my);this.ag.SM(a);this.hS=a[7];this.DT=e.m(e.du,a[8],a[9]);this.uA=a[10].map(b=>e.m(e.b0,this,b));this.MS=new Map;for(const b of this.uA)this.MS.set(b.Ca().toLowerCase(),b);this.$o=null;a=a[11];6<=a.length&&(this.$o=e.m(e.Un,a))}A(){this.$o&&(this.$o.A(),this.$o=null);this.ag.A();this.ag=null}Gf(){return this.ag}Rk(){return this.DT.ga}Sk(){return this.DT.X}MZ(a){return this.MS.get(a.toLowerCase())||null}LZ(a){a=
Math.floor(a);return 0>a||a>=this.uA.length?null:this.uA[a]}uD(){return this.uA.length}}}{"use strict";const e=self.B;e.b0=class extends e.ja{constructor(a,b){super();this.Ka=b[0];this.QI=e.m(e.du,b[1],b[2])}A(){}Ca(){return this.Ka}qa(){return this.QI.ga}ra(){return this.QI.X}}}
{"use strict";const e=self.B,a=self.pg,b=self.V_;e.jE=class extends e.ja{constructor(d,c,g){super();const m=d.oh(g[1]);this.g=d;this.Sh=d.mn.g_(m);this.Mc=null;this.yA=m.Instance;this.Pa=c;this.lb=g[11];this.Ka=g[0];this.Kv=this.g.oi(g[14]);this.Bca=!!g[9];this.ab=!!g[2];this.bI=!!g[10];this.Zi=g[3].map(h=>({xV:h[0],type:h[1],name:h[2],tea:d.oi(h[3])}));this.Tba=g[4];this.nca=g[5];this.pf=this.Sh.pf;this.Oa=null;this.Vz=e.m(e.Q4,d.Wg,d.Vg);this.CG=!0;this.DG=!1;this.sH=this.kp=null;this.Wi=-1;this.rH=
this.hA=this.iA=this.qH=this.Ih=null;this.WH=!1;this.Ng=null;this.RR=g[8].map(h=>e.RK.Qa(this,h));this.Nz=[];this.KG=new Map;this.IG=new Map;this.nU=new Set;this.sn=e.m(e.N4,this);this.Iz=this.Hz=this.Gd=this.ag=this.Ng=this.yr=null;this.ls=0;this.Ib=new Map;this.$h=new Map;this.G=[];this.HH=!0;this.Sh.JD()&&(this.Oa=e.m(e.Jk,this,g[12]));g[6]&&(this.ag=e.m(e.my),this.ag.SM(g[6]));if(g[7]){this.Gd=g[7].map(h=>e.m(e.mW,h));this.Hz=new Map;this.Iz=new Map;for(const h of this.Gd)this.Hz.set(h.Ca().toLowerCase(),
h),this.Iz.set(h.lb,h)}this.ab?(this.kp=[],this.sH=new Set,this.Wi=this.g.W7()):(this.Ih=[],this.qH=new Set,this.iA=[],this.hA=[],this.rH=[]);this.Mc=e.m(m.Im,this,g[15]);this.TS=this.tv=null;this.Zd=e.m(e.Event.Wb);if(c=this.Mc.Uk()){if(this.tv=new c(this),!(this.tv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.tv=new b(this);this.g.SB&&!this.ab&&!this.bI&&this.pf||this.Ad();this.Sh.an&&(this.Sh.$aa(this),this.v6(g))}static Qa(d,c,g){return e.m(e.jE,
d,c,g)}A(){this.ag&&(this.ag.A(),this.ag=null);if(this.Gd){for(const d of this.Gd)d.A();e.F(this.Gd);this.Hz.clear();this.Iz.clear()}this.sn.A();this.sn=null;this.Ib.clear();this.$h.clear();this.g=this.Ng=null}T8(d){for(let c=1,g=d.length;c<g;++c){const m=this.g.$e(d[c]);this.kp.push(m);this.sH.add(m);m.Ih.push(this);m.qH.add(this)}}zaa(d){this.WH=!0;this.Ng=d}Xb(){return this.WH}x9(){var d=0;if(!this.ab)for(var c of this.Ih)for(var g of c.RR){const l=g.Ca().toLowerCase();this.KG.set(l,g);this.IG.set(l,
d);this.Nz.push(g);++d}for(var m of this.RR)c=m.Ca().toLowerCase(),this.KG.set(c,m),this.IG.set(c,d),this.Nz.push(m),++d;for(var h of this.Nz)this.nU.add(h.Mk().constructor);if(!this.ab&&this.Ih.length){d=this.g.oS;e.iC(this.iA,d,0);e.iC(this.hA,d,0);e.iC(this.rH,d,0);d=[];c=h=m=0;for(const l of this.Ih)if(g=l.Wi,this.iA[g]=m,m+=l.Zi.length,this.hA[g]=h,h+=l.Tba,this.rH[g]=c,c+=l.nca,(g=l.Oa)&&this.Oa)for(const n of g.ug())d.push(n.XW(this.Oa));this.Oa&&this.Oa.J2(d)}}v6(d){const c=this.g.V7(),g=
e.m(e.Instance,{Df:this.g,rK:this,uid:c});g.bz(d[16],[]);this.g.k9(c,g);this.G.push(g)}Ad(){this.ab||this.Mc.Ad()}I_(){return 0<this.ls}Dq(d){if(this.ab)return Promise.resolve();this.ls++;return 1===this.ls?this.Mc.Dq(d)||Promise.resolve():Promise.resolve()}xo(){if(!this.ab){this.ls--;if(0>this.ls)throw Error("released textures too many times");0===this.ls&&this.Mc.xo()}}By(){if(this.ab)throw Error("not applicable to family");this.Mc.By()}pE(d){return this.ab?Promise.resolve():this.Mc.pE(d)}I(){return this.g}Db(){return this.Sh}Ca(){return this.Ka}oi(){return this.Kv}Ha(){return this.Pa}Of(){return this.Bca}IO(d){return d&&
this.nU.has(d)}RZ(){return this.Zi.map(d=>d.xV)}QZ(d){return this.Zi.findIndex(c=>c.xV===d)}PZ(d){return this.Zi.findIndex(c=>c.name===d)}L7(){return this.Zi.map(d=>d.tea)}kt(d){d=Math.floor(d);if(0>d||d>=this.Zi.length)throw new RangeError("invalid instance variable index");return this.Zi[d].type}VL(d){d=Math.floor(d);if(0>d||d>=this.Zi.length)throw new RangeError("invalid instance variable index");return this.Zi[d].name}Jx(d){return this.KG.get(d.toLowerCase())||null}$s(d){d=this.IG.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}JD(){return this.Sh.JD()}JO(){return this.Oa&&this.Oa.z_()}S(){return this.sn.S()}Gf(){return this.ag}VN(d){this.yr=d}LC(d){return this.qH.has(d)}yL(d){return this.sH.has(d)}Zn(d){return this.hA[d]}PL(d){return this.iA[d]}FL(d){if(!this.Gd)throw Error("no animations");return this.Hz.get(d.toLowerCase())||null}jZ(d){if(!this.Gd)throw Error("no animations");return this.Iz.get(d)||null}EZ(){if(!this.Gd)throw Error("no animations");return this.Gd[0].qm(0)}sZ(){if(this.Gd){const d=
this.EZ().Gf();return[d.fa(),d.ea()]}return this.ag?[this.ag.fa(),this.ag.ea()]:[100,100]}Ej(){if(!this.Sh.an)throw Error("not a single-global plugin");return this.G[0]}oa(){return this.G}*VU(){yield*this.G}*kea(){yield*this.G;for(const d of this.g.Al)d.H()===this&&(yield d)}Ig(d){this.G.push(d)}yu(){this.HH=!0}Bz(){if(this.HH&&!this.ab){var d=this.G,c=0;for(let g=d.length;c<g;++c)d[c].jR(c);d=this.g.Al;for(const g of d)g.H()===this&&g.jR(c++);this.HH=!1}}UL(d){var c=this.G;if(d<c.length)return c[d];
d-=c.length;c=this.g.Al;for(const g of c)if(g.H()===this){if(0===d)return g;--d}return null}RL(d){if(d&&d.Xb()&&d.H()!==this)for(const c of d.Dd)if(c.H()===this)return c;d=this.S().oa();return d.length?d[0]:null}$L(d){const c=this.S().oa();return 0<c.length?c[d.ao()%c.length]:null}*AU(d,c){const g=this.S().oa();var m=g.length;const h=c.S(),l=c.S().oa(),n=l.length;var p=d.ao();if(c.ab||!h.dc)p=l.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}Ws(d){this.Mc.Ws(d)}yc(){if(this.WH&&
!this.ab){this.Bz();var d=this.S(),c=d.G,g=d.dc,m=this.g.Ye();m=m&&m.Nb()&&m.Nb().Td;for(const n of this.Ng.Nl)if(n!==this){n.Bz();var h=n.S();h.Le(g);if(!g){var l=h.G;e.F(l);for(const p of c)l.push(n.UL(p.ao()));if(m){l=d.wc;h=h.wc;e.F(h);for(const p of l)h.push(n.UL(p.ao()))}}}}}uba(d,c){for(const g of this.Ng.Nl){const m=g.S();d?e.We(m.wc,c):e.We(m.G,c)}}eR(){this.CG=!0}cG(d){this.DG=!!d}FR(){if(this.CG&&this.pf){for(const d of this.G)d.j().IR();for(const d of this.g.Al)d.H()===this&&d.j().IR();
this.CG=!1}}ri(){this.Ib||(this.Ib=new Map);return this.Ib}wt(){this.$h||(this.$h=new Map);return this.$h}tM(){return this.IO(e.Cb.$ia)}KD(){return this.IO(e.Cb.Bja)}ka(){const d={instances:this.G.map(c=>c.td())};this.Ib&&this.Ib.size&&(d.ex=e.eF(this.Ib));return d}ta(d){this.Ib&&(this.Ib.clear(),this.Ib=null);var c=d.ex;c&&(this.Ib=e.fD(c));c=this.G;d=d.instances;for(let g=0,m=Math.min(c.length,d.length);g<m;++g)c[g].hd(d[g]);for(let g=d.length,m=c.length;g<m;++g)this.g.Wn(c[g]);for(let g=c.length,
m=d.length;g<m;++g){c=d[g];let h=null;if(this.pf&&(h=this.g.Sb().Vx(c.w.l),!h))continue;this.g.ji(this.yr||this,h,!1,0,0,!0).hd(c)}this.yu()}kh(d){var c=this.g;(c=c.zb&&!c.na().ry())&&a.$E();this.Zd.dispatchEvent(d);c&&a.HC()}}}{"use strict";const e=self.B;e.gX=class extends e.ja{constructor(a,b){super();this.g=a;this.Nl=b;for(const d of this.Nl)d.zaa(this)}A(){this.g=null}I(){return this.g}D_(){return this.Nl.some(a=>a.pf)}}}
{"use strict";const e=self.B,a=self.pg,b=self.wq,d=[];let c=0;const g=new WeakMap,m=new WeakMap;e.Instance=class extends e.ja{constructor(h){super();this.g=h.Df;this.Ud=h.rK;this.je=this.pa=this.Ua=null;this.KS=0;this.dd=h.uid;this.JT=c++;this.Aa=0;this.Uc=this.Pe=d;var l=this.Ud.Nz;0<l.length&&(this.Uc=l.map((n,p)=>e.m(e.hx,{Df:this.g,OJ:n,instance:this,index:p})));this.Dd=this.Ud.Xb()?[]:null;this.Yd=-1;this.Ub=null;l=this.Db();l.Eq()&&(this.Aa|=4);if(l.pf)if(this.Ua=e.m(e.x5,this,h.cV),h.NV)this.Ua.xq(h.NV);
else{this.Ua.q0();const [n,p]=this.Ud.sZ();this.Ua.ud(n,p);this.H().JO()&&this.Ua.bg.p1()}h.UU?this.W8(h.UU):this.Q8()}A(){this.je&&(this.je.xu(),this.je=null);if(0<this.Uc.length){for(var h of this.Uc)h.A();e.F(this.Uc)}this.pa.A();this.pa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Dd&&e.F(this.Dd);this.Ub&&(this.Ub.A(),this.Ub=null);this.Ud=this.g=null;0<this.Pe.length&&e.F(this.Pe);this.Ua&&(this.Ua.A(),this.Ua=null)}W8(h){0<h.length&&(this.Pe=
[],e.Nc(this.Pe,h))}Q8(){const h=this.Ud.Zi.length;if(0!==h){this.Pe=[];var l=[0,0,""];for(let n=0;n<h;++n)this.Pe.push(l[this.Ud.kt(n)])}}bz(h,l){if(this.pa)throw Error("already got sdk instance");for(let n=0,p=this.Uc.length;n<p;++n)this.Uc[n].bz(l?l[n]:null);this.pa=e.m(this.Ud.yA,this,h);if(!(this.pa instanceof e.BE))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Uc.length;n<p;++n);this.Ud.TS&&this.hQ()}j(){return this.Ua}I(){return this.g}hZ(){const h=this.Yd;return-1===
h?this.I().Yd:h}SE(h){h=+h;if(0>h||!isFinite(h))h=0;this.Yd=h}s3(){this.Yd=-1}Wb(){this.Ub||(this.Ub=e.m(e.Event.Wb));return this.Ub}tg(h){this.pa.tg(h)}Ad(h){this.pa.Ad(h)}Oaa(){this.Aa|=2}Wk(){return 0!==(this.Aa&2)}PF(){this.Aa|=1}At(){return 0!==(this.Aa&1)}Eq(){return 0!==(this.Aa&4)}YM(){return 0!==(this.Aa&32)}I8(){return 0!==(this.Aa&8)}St(h,l){h<<=16;this.Aa=l?this.Aa|h:this.Aa&~h}sD(h){return 0!==(this.Aa&h<<16)}mh(){return this.pa.mh()}mD(){return this.pa.mD()}nD(){return this.pa.nD()}UD(){return this.pa.UD()}tm(h){return this.pa.tm(h)}H(){return this.Ud}Kq(){return this.pa.Kq()}iq(h){return h.ab?
h.yL(this.H()):this.H()===h}KO(){if(!this.Db().fU)throw Error("object does not support scene graph");}Ij(){return null!==this.Fa()}Fa(){var h=this.j();return h?(h=h.Fa())?h.Da():null:null}fy(){var h=this.j();return h?(h=h.fy())?h.Da():null:null}*Vw(){const h=this.j();if(h)for(const l of h.Vw())yield l.Da()}cf(){const h=this.j();return h?h.cf():!1}Xe(){const h=this.j();return h?h.Xe().map(l=>l.Da()):[]}*children(){const h=this.j();if(h)for(const l of h.children())yield l.Da()}*Ck(){const h=this.j();
if(h)for(const l of h.Ck())yield l.Da()}Lx(){const h=this.j();return h?h.Lx():0}kD(h){const l=this.j();return l?(h=l.kD(h))?h.Da():null:null}km(h,l){this.KO();h.KO();this.j().km(h.j(),l||{})}Nj(h){const l=this.j();l&&l.Nj(h.j())}Ox(){const h=this.j();return h?h.Ox():!1}L4(){var h=this.j();if(h&&(h=h.dM()))for(const l of h)if(h=this.g.yj(l[2])){const n=l[3];this.km(h,{Ms:!!(n>>0&1),Ns:!!(n>>1&1),fq:!!(n>>2&1),eq:!!(n>>3&1),Ls:!!(n>>4&1),Jw:!!(n>>5&1),Os:!!(n>>6&1)})}}Xb(){return null!==this.Dd}Zq(h){this.Dd.push(h)}K_(h){return!!this.jM(h)}jM(h){const l=
this.Dd;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===h)return n;return null}Ei(){for(const h of this.Dd)h.H().S().Rj(h)}o$(){for(const h of this.Dd)h.H().S().wu(h)}Zaa(h){for(const l of this.Dd)l.H().S().G[h]=l}n$(){for(const h of this.Dd)h.H().S().Qo(h)}Yaa(h){for(const l of this.Dd)l.H().S().wc[h]=l}Db(){return this.Ud.Db()}jR(h){this.KS=h}ao(){this.Ud.Bz();return this.KS}lZ(h){if(!h)return null;for(const l of this.Uc)if(l.Mk()instanceof h)return l;return null}Ix(h){return h?(h=
this.lZ(h))?h.pa:null:null}GL(h){const l=this.Uc;for(let n=0,p=l.length;n<p;++n)if(l[n].vg().lb===h)return n;return-1}ye(h){h|=0;const l=this.Pe;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}T7(h){return this.Pe[h]}S7(h){const l=this.Pe[h];return 0===this.Ud.kt(h)?!!l:l}Gm(h,l){h|=0;const n=this.Pe;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Ud.kt(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;
case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}j4(h,l){if(0!==l){h|=0;var n=this.Pe;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}ri(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}wt(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,h);return h}bQ(h){const l=this.H();if(l.Zd.ID(h))return!0;for(const n of l.Ih)if(n.Zd.ID(h))return!0;return this.g.Zd.ID(h)?!0:!1}Az(){const h=new Set;h.add(this);const l=this.j();if(l&&l.cf())for(const n of this.Ck())if(h.add(n),n.Xb())for(const p of n.Dd)h.add(p);if(this.Xb())for(const n of this.Dd)h.add(n);for(const n of h.values())n.CR()}CR(){if(this.bQ("instancecreate")){const h=
this.H(),l=new e.Event("instancecreate");l.instance=this.nh();h.kh(l);for(const n of h.Ih)n.kh(l);this.g.kh(l)}this.g.Xa(this.Db().constructor.N.Y1,this,null)}sba(){this.g.Xa(this.Db().constructor.N.Z1,this,null)}C7(h){if(this.je){var l=new e.Event("destroy");l.oea=h;this.kh(l)}if(this.bQ("instancedestroy")){l=this.H();var n=new e.Event("instancedestroy");n.instance=this.nh();n.oea=h;l.kh(n);for(const p of l.Ih)p.kh(n);this.g.kh(n)}}td(h="full"){const l={};"full"===h?l.uid=this.dd:l.c3=!0;if("visual-state"!==
h){var n=g.get(this);n&&n.size&&(l.ex=e.eF(n));-1!==this.Yd&&(l.mts=this.Yd);if(0<this.Ud.Zi.length){n={};var p=this.Ud.RZ();for(let q=0,u=this.Pe.length;q<u;++q)n[p[q].toString()]=this.Pe[q];l.ivs=n}if(this.Uc.length){n={};for(const q of this.Uc)(p=q.td())&&(n[q.vg().lb.toString()]=p);l.behs=n}}this.Ua&&(l.w=this.Ua.ka(h));(h=this.pa.td())&&(l.data=h);return l}mz(h="full"){this.Ua&&this.Ua.mz(h)}hd(h,l="full"){if("full"===l)this.dd=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);
n&&(n.clear(),g.delete(this));if(n=h.ex)n=e.fD(n),g.set(this,n);this.Yd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=this.Ud.QZ(parseInt(u,10)),!(0>n||n>=this.Pe.length)){var p=w;null===p&&(p=NaN);this.Pe[n]=p}}if(this.Db().pf){n=h.w;var q=n.l;this.Ua.aa().lb!==q&&(p=this.Ua.aa(),(q=p.ec().Vx(q))?(this.Ua.zu(q),p.Ro(this,!0),q.Ig(this,!0),q.Gg(),this.Ua.Ja()):"full"===l&&this.g.Wn(this));this.Ua.ta(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,w]of Object.entries(l))l=
this.GL(parseInt(u,10)),0>l||l>=this.Uc.length||this.Uc[l].hd(w);(h=h.data)&&this.pa.hd(h)}nh(){return this.je||this.hQ()}hQ(){var h=this.Ua?self.ly:b;const l=this.pa.Uk(),n=this.Ud.TS,p=n||l||h;b.Jg(this);this.je=new p;b.Jg(null);if(l&&!(this.je instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.je instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);
return this.je}R7(h){if(0!==this.Pe.length){var l={},n=this.Ud.L7();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,get:e.Instance.prototype.S7.bind(this,p),set:e.Instance.prototype.Gm.bind(this,p)};l=Object.create(Object.prototype,l);h.hpa={value:l,writable:!1}}}M7(h){var l=this.Uc;if(0!==l.length){var n={};for(const p of l)n[p.vg().oi()]={value:p.tq(),writable:!1};l=Object.create(Object.prototype,n);h.Hw={value:l,writable:!1}}}kh(h){h.instance=this.nh();var l=this.g;(l=l.zb&&
!l.na().ry())&&a.$E();this.nh().dispatchEvent(h);l&&a.HC()}}}
{"use strict";const e=self.B;e.D3=class extends e.ja{constructor(a){super();this.ac=a;this.Bc=null;this.Tz=[];this.IB=a.fa();this.GB=a.ea();this.nJ=this.mJ=1;this.jB=0}A(){this.Bc=null;e.F(this.Tz)}nO(a){this.jB=(this.Bc=a)?a.Ta():0}Fa(){return this.Bc}cf(){return 0<this.Tz.length}Xe(){return this.Tz}u4(a){this.mJ=a}v4(a){this.nJ=a}Cj(){return this.ac.fo()?this.Bc.fa()/this.Bc.Lb.IB:1}Dj(){return this.ac.eo()?this.Bc.ea()/this.Bc.Lb.GB:1}ka(){return{sw:this.IB,sh:this.GB,sx:this.mJ,sy:this.nJ,psa:this.jB,
c:this.Tz.map(a=>{let b="";a.ho()&&(b+="x");a.io()&&(b+="y");a.fo()&&(b+="w");a.eo()&&(b+="h");a.gy()&&(b+="a");a.hy()&&(b+="z");a.Ox()&&(b+="d");return{uid:a.Da().dd,f:b}})}}ta(a){this.IB=a.sw;this.GB=a.sh;this.mJ=a.sx;this.nJ=a.sy;this.jB=a.psa}TF(a){const b=this.ac,d=b.I();for(const c of a.c){a=d.yj(c.uid).j();const g=c.f,m={};m.Ms=g.includes("x");m.Ns=g.includes("y");m.fq=g.includes("w");m.eq=g.includes("h");m.Ls=g.includes("a");m.Os=g.includes("z");m.Jw=g.includes("d");b.km(a,m)}}}}
{"use strict";const e=self.B,a=e.m(e.Rect),b=e.m(e.Bd),d=e.m(e.Event,"bboxchange",!1),c=e.m(e.fb,0,0,0,0),g=e.m(e.Un),m=e.m(e.fb,1,1,1,1),h=e.m(e.Rect,0,0,-1,-1),l=e.m(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;e.x5=class extends e.ja{constructor(r,v){super();this.Z=r;this.K=r.H();this.g=r.I();this.mk=v;this.Bk=-1;this.Aa=196635;this.K.Db().Cq()&&(this.Aa|=128);this.Wr=this.Vr=this.$G=this.bJ=this.Ya=this.Xc=this.Sg=this.gh=this.ed=this.X=
this.ga=NaN;this.PG=e.m(e.Rect);this.QG=e.m(e.Bd);this.Uz=l;this.bw=h;this.Xh=this.ss=this.CB=null;this.cp=this.ib=m;this.bg=this.Tp=null;this.Z.H().JO()&&(this.bg=e.m(e.H0,this.Z,this));this.Rh=this.Lb=null}PF(){this.Aa|=256}A(){this.Tp&&(this.g.pb().vN(this.Tp),this.Tp=null);this.CB=null;this.ss&&(this.ss.kV.A(),this.ss=null);this.Xh&&(this.Xh.clear(),this.Xh=null);this.Gy();this.Ij()&&this.Fa().Nj(this);if(this.cf()){const r=[...this.Xe()];for(const v of r)this.Nj(v)}this.pz();this.mk=this.g=this.K=
this.Z=null}xq(r){q=!1;this.Uf(r[0],r[1]);this.ff(r[2]);this.ud(r[3],r[4]);this.Xc=0;this.Cq()?this.kd(r[6]):this.Ya=0;c.hm(r[7]);this.rz(c);this.Rq(r[8]);this.Sq(r[9]);this.Qf(r[10]);this.bg&&this.bg.S8(r[12]);r[14]&&u.set(this,{Cda:r[14][1],Afa:r[14][2]});if(r[15]){var v=r[15];this.YC(v[0],v[1]);r=this.Fj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.qq(z,y);J.Fg(H[0]);J.yh(H[1]);J.ff(H[2]);J.TE(H[3]);J.UE(H[4])}}}q=!0;this.hr()}q0(){this.bJ=
this.Ya=this.Xc=this.Sg=this.gh=this.ed=this.X=this.ga=0;this.$G=1;this.Wr=this.Vr=0;this.hr()}I(){return this.g}H(){return this.K}Da(){return this.Z}ku(){return this.gy()?this.Fa().Ta()-this.Lb.jB:0}Fg(r){r=+r;if(this.ho()){const v=this.Lb;r-=this.qa();const y=-this.ku();0===y?this.ga+=r/v.Cj():(this.ga+=Math.cos(y)*r/v.Cj(),this.io()&&(this.X+=Math.sin(y)*r/v.Dj()))}else this.ga=r}Q1(r){r=+r;this.ho()?this.Fg(this.qa()+r):this.ga+=r}qa(){if(this.ho()){let r=this.ga;const v=this.Lb,y=this.Fa(),A=
this.ku();0===A?r*=v.Cj():(r=r*v.Cj()*Math.cos(A),this.io()&&(r-=this.X*v.Dj()*Math.sin(A)));return y.qa()+r}return this.ga}yh(r){r=+r;if(this.io()){const v=this.Lb;r-=this.ra();const y=-this.ku();0===y?this.X+=r/v.Dj():(this.ho()&&(this.ga-=Math.sin(y)*r/v.Cj()),this.X+=Math.cos(y)*r/v.Dj())}else this.X=r}R1(r){r=+r;this.io()?this.yh(this.ra()+r):this.X+=r}ra(){if(this.io()){let r=this.X;const v=this.Lb,y=this.Fa(),A=this.ku();0===A?r*=v.Dj():(r=r*v.Dj()*Math.cos(A),this.ho()&&(r+=this.ga*v.Cj()*
Math.sin(A)));return y.ra()+r}return this.X}Uf(r,v){r=+r;v=+v;if(this.nM()){const A=this.ho(),G=this.io(),z=this.Lb,F=r-this.qa(),H=v-this.ra();var y=-this.ku();if(0===y)this.ga=A?this.ga+F/z.Cj():r,this.X=G?this.X+H/z.Dj():v;else{const J=Math.sin(y);y=Math.cos(y);this.ga=A?G?this.ga+(y*F-J*H)/z.Cj():this.ga+y*F/z.Cj():r;this.X=G?A?this.X+(J*F+y*H)/z.Dj():this.X+y*H/z.Dj():v}}else this.ga=r,this.X=v}Gq(r,v){r=+r;v=+v;this.nM()?this.Uf(this.qa()+r,this.ra()+v):(this.ga+=r,this.X+=v)}OY(r,v){return this.qa()===
r&&this.ra()===v}ff(r){r=+r;this.hy()&&(r-=this.Fa().hb());this.ed!==r&&(this.ed=r,this.MR(),r=this.aa(),0!==this.ed&&r.fR(),r.Gg())}MR(){this.hr();if(this.cf()){const r=this.Xe();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.hy()&&A.MR()}}}S1(r){this.ff(this.hb()+r)}hb(){return this.hy()?this.Fa().hb()+this.ed:this.ed}Mf(){return this.aa().hb()+this.hb()}xh(r){r=+r;if(this.fo()){const v=this.fa();this.gh=0===v?1E-6:r/v*this.gh}else this.gh=r}bN(r){r=+r;this.fo()?this.xh(this.fa()+r):this.gh+=r}fa(){return this.fo()?
this.Fa().fa()*this.gh:this.gh}Bi(r){r=+r;if(this.eo()){const v=this.ea();this.Sg=0===v?1E-6:r/v*this.Sg}else this.Sg=r}aN(r){r=+r;this.eo()?this.Bi(this.ea()+r):this.Sg+=r}ea(){return this.eo()?this.Fa().ea()*this.Sg:this.Sg}ud(r,v){r=+r;v=+v;if(this.fo()){const y=this.fa();this.gh=0===y?1E-6:r/y*this.gh}else this.gh=r;this.eo()?(r=this.ea(),this.Sg=0===r?1E-6:v/r*this.Sg):this.Sg=v}k_(){if(this.Ij()){const r=this.Lb;return Math.min(r.Cj(),r.Dj())}return 1}Cq(){return 0!==(this.Aa&128)}kd(r){r=+r;
this.Cq()&&(this.gy()&&(r-=this.Fa().Ta()),r=e.se(r),this.Ya!==r&&(this.Ya=r,this.QF()))}M1(r){r=+r;0!==r&&this.Cq()&&(this.Ya=e.se(this.Ya+r),this.QF())}QF(){this.Aa|=262144;if(this.cf()){const r=this.Xe();for(let v=0,y=r.length;v<y;v++)r[v].QF()}}Ta(){return this.gy()?e.se(this.Fa().Ta()+this.Ya):this.Ya}yQ(){const r=this.Aa;if(0!==(r&262144)){var v=this.Ta();this.bJ=Math.sin(v);this.$G=Math.cos(v);this.Aa=r&-262145}}CD(){this.yQ();return this.bJ}lD(){this.yQ();return this.$G}Rq(r){this.Vr=+r}O1(r){this.Vr+=
+r}Rk(){return this.Vr}Sq(r){this.Wr=+r}P1(r){this.Wr+=+r}Sk(){return this.Wr}rz(r){this.ib.rd(r)||(this.ib===m?(this.ib=e.m(e.fb,r),this.cp=e.m(e.fb,r),this.cp.xK()):r.hC(1,1,1,1)?this.cp=this.ib=m:(this.ib.set(r),this.cp.set(r),this.cp.xK()),this.hr())}cl(r){r=e.ia(+r,0,1);this.ib.bq!==r&&(c.kj(this.ib),c.bq=r,this.rz(c))}N1(r){this.cl(this.Ae()+r)}Ae(){return this.ib.bq}uO(r){this.ib.em(r)||(c.kj(r),c.bq=this.ib.bq,this.rz(c))}G4(r,v,y){c.Ks(r,v,y);this.uO(c)}zD(){return this.cp}Ox(){return 0!==
(this.Aa&512)}S3(r){this.Ke(512,r)}ho(){return 0!==(this.Aa&1024)}B4(r){this.Ke(1024,r)}io(){return 0!==(this.Aa&2048)}nM(){return 0!==(this.Aa&3072)}C4(r){this.Ke(2048,r)}fo(){return 0!==(this.Aa&4096)}A4(r){this.Ke(4096,r)}eo(){return 0!==(this.Aa&8192)}z4(r){this.Ke(8192,r)}gy(){return 0!==(this.Aa&16384)}y4(r){this.Ke(16384,r)}hy(){return 0!==(this.Aa&32768)}D4(r){this.Ke(32768,r)}fP(){this.Aa&=-65025}km(r,v){if(r!==this&&!r.Ij()&&!this.dQ(r)&&!this.cQ(r)){var y=r.qa(),A=r.ra(),G=r.fa(),z=r.ea(),
F=r.Ta(),H=r.hb();r.oR(this);r.B4(v.Ms);r.C4(v.Ns);r.A4(v.fq);r.z4(v.eq);r.y4(v.Ls);r.D4(v.Os);r.S3(v.Jw);v.Ms&&(r.ga=y-this.qa(),v.fq&&(r.ga/=this.fa()/this.Lb.IB));v.Ns&&(r.X=A-this.ra(),v.eq&&(r.X/=this.ea()/this.Lb.GB));v.fq&&(r.gh=G/this.fa(),r.Lb.u4(r.gh));v.eq&&(r.Sg=z/this.ea(),r.Lb.v4(r.Sg));v.Ls&&(r.Ya=F-this.Ta());v.Os&&(r.ed=H-this.hb());this.F5(r);this.Ja()}}Nj(r){if(r.Fa()===this){var v=r.qa(),y=r.ra(),A=r.fa(),G=r.ea(),z=r.Ta(),F=r.hb();r.oR(null);r.fP();r.Uf(v,y);r.ud(A,G);r.kd(z);
r.ff(F);this.C$(r);this.Ja()}}K$(){for(var r of this.children())this.Nj(r);(r=this.Fa())&&r.Nj(this);this.fP()}Ij(){return null!==this.Fa()}Fa(){const r=this.Lb;return null!==r?r.Fa():null}fy(){let r=this;for(;r.Ij();)r=r.Fa();return r}*Vw(){let r=this.Fa();for(;r;)yield r,r=r.Fa()}F_(r){return this.Xe().includes(r)}cf(){const r=this.Lb;return null!==r?r.cf():!1}Xe(){const r=this.Lb;return null!==r?r.Xe():p}children(){return this.Xe()}*Ck(){for(const r of this.children())yield r,yield*r.Ck()}Lx(){return this.Xe().length}kD(r){const v=
this.Xe();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}pF(r){this.Lb||(this.Lb=e.m(e.D3,this));r&&this.Lb.nO(r)}pz(){this.Lb&&(this.Lb.A(),this.Lb=null)}oR(r){r?(r.pF(null),this.pF(r)):(this.Lb&&this.Lb.nO(null),this.cf()||this.pz())}cQ(r){if(!this.Ij())return!1;const v=this.Fa();return v===r?!0:v.cQ(r)}dQ(r){if(this.F_(r))return!0;for(const v of this.Xe())if(v.dQ(r))return!0;return!1}F5(r){this.Lb.Xe().push(r)}C$(r){const v=this.Lb.Xe(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Ij()||
this.pz();r.cf()||r.pz()}dM(){const r=u.get(this);return r?r.Cda:null}l_(){const r=u.get(this);return r?r.Afa:NaN}rq(){return w.get(this)||NaN}OE(r){w.set(this,r)}hr(){if(q){var r=this.g.pb();this.Tp&&r.vN(this.Tp);this.Tp=r.TV(0!==(this.Aa&524288)?r.DB||"<point>":r.EB||"<default>",this.tj(),this.cp,this.hb())}}vq(){return this.ib===m}Qf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.tj()!==r&&(this.Aa=this.Aa&-2080374785|r<<26,this.hr())}tj(){return(this.Aa&2080374784)>>26}zu(r){this.mk=
r;0!==this.hb()&&this.mk.fR()}aa(){return this.mk}ec(){return this.aa().ec()}yz(r){this.Bk=r|0}th(){this.mk.Du();return this.Bk}Ke(r,v){this.Aa=v?this.Aa|r:this.Aa&~r}zc(){return 0!==(this.Aa&1)}Tf(r){this.Ke(1,r)}si(){return 0!==(this.Aa&8)}Pt(r){r=!!r;this.si()!==r&&(this.Ke(8,r),r?this.Ja():this.QQ())}QE(r,v){this.Ke(32,r);this.Xh&&this.Xh.clear();if(v.trim()){this.Xh||(this.Xh=new Set);for(const y of v.split(" "))y&&this.Xh.add(y.toLowerCase())}else this.Xh=null}gE(r){const v=0!==(this.Aa&32),
y=this.Xh;if(!r||!y)return!v;for(const A of y)if(r.has(A))return v;return!v}Ja(){this.Aa|=65554;this.K.eR();this.g.ba();this.mk.Lo()&&(this.lx(this.PG,this.QG,!0),this.Aa&=-3,this.Aba());0!==(this.Aa&4)&&this.Z.Wb().dispatchEvent(d);if(null!==this.Lb){const r=this.Lb.Xe();for(let v=0,y=r.length;v<y;++v)r[v].Ja()}}lx(r,v,y){const A=this.qa(),G=this.ra(),z=this.fa(),F=this.ea(),H=this.Ta();r.fi(A-this.Vr*z,G-this.Wr*F,z,F);y&&this.Nf()&&this.w7(r);0===H?v.pj(r):(r.offset(-A,-G),v.uV(r,this.CD(),this.lD()),
v.offset(A,G),v.cK(r));r.normalize()}HR(){const r=this.Aa;0!==(r&2)&&(this.lx(this.PG,this.QG,!0),this.Aa=r&-3)}Pc(){this.HR();return this.PG}uj(){this.HR();return this.QG}oN(r){var v=this.qa(),y=this.ra();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.ua(r);b.offset(v,y);return b}M3(r){this.Ke(4,r)}AM(){return 0!==(this.Aa&4)}IM(r,v,y){return v&&0!==this.Xc?this.zq(this.aa().br()):0===this.hb()||y?r.nC(this.Pc()):this.G8()}G8(){const r=this.aa(),v=this.Mf();if(v>=r.bt())return!1;
r.qM(v,a);return a.nC(this.Pc())}zq(r){var v=this.Pc();const y=v.W,A=v.la,G=v.R;v=v.da;const z=this.Mf();return r.hX(y,G,z,A,v,z+this.Xc)}sz(r){this.Ke(1048576,r)}vz(r){this.Ke(2097152,r)}RE(r){this.CB=r;this.wF();this.Nf()&&(this.Rh.nK=null)}jy(){return null!==this.CB||this.Nf()}Vk(){return this.O7(this.fa(),this.ea(),this.Ta(),this.CD(),this.lD())}O7(r,v,y,A,G){let z=this.ss;null===z&&(this.ss=z={kV:e.m(e.Un),width:NaN,height:NaN,angle:NaN});const F=z.kV;if(z.width===r&&z.height===v&&z.angle===
y)return F;const H=this.CB;if(this.Nf()){const J=this.Rk(),M=this.Sk(),P=this.Fj();let R=this.Rh.nK;R||(H?(g.ua(H),g.offset(J,M)):g.$ea(),R=P.G0(g),this.Rh.nK=R);P.b5(R,F);F.offset(-J,-M);F.KK(r,v,A,G)}else H?(F.ua(H),F.KK(r,v,A,G)):F.EK(this.uj(),-this.qa(),-this.ra());z.width=r;z.height=v;z.angle=y;return F}wF(){this.q4();const r=this.ss;null!==r&&(r.width=NaN)}YC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.Da().Db().gda)throw Error("object does not support mesh");this.Gy();this.Rh={GK:e.m(e.J.XM,
r,v),FV:e.m(e.J.XM,r,v),nK:null}}Nf(){return null!==this.Rh}Fj(){if(!this.Nf())throw Error("no mesh");return this.Rh.GK}oM(){if(!this.Nf())throw Error("no mesh");return this.Rh.FV}LE(r){this.Ke(65536,r)}KM(){return 0!==(this.Aa&65536)}q4(){this.Ke(131072,!0)}w7(r){const v=this.Rh.GK,y=Math.min(v.c_(),0),A=Math.min(v.d_(),0),G=Math.max(v.$Z(),1),z=Math.max(v.a_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Kea((G-1)*F);r.Jea((z-1)*H);this.Xc=v.b_()}Gy(){this.Rh&&(this.Rh.GK.A(),
this.Rh.FV.A(),this.Rh=null,this.wF())}jO(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.cx;let H="number"===typeof y.JV?y.JV:A?0:-1;y="number"===typeof y.MV?y.MV:A?0:-1;if(!this.Nf())return!1;const J=this.Fj(),M=J.qq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.hb()!==F&&(M.ff(F),P=!0);A&&(G+=r/(J.ek-1),z+=v/(J.vk-1));-1!==H||A?(A&&(H+=r/(J.ek-1)),H=e.ia(H,0,1)):H=M.dh;-1!==y||A?(A&&
(y+=v/(J.vk-1)),y=e.ia(y,0,1)):y=M.fh;if(M.qa()===G&&M.ra()===z&&M.dh===H&&M.fh===y)return P;M.Fg(G);M.yh(z);M.TE(H);M.UE(y);this.wF();return!0}Wk(){return this.Z.Wk()}UC(r,v){return this.Pc().Af(r,v)&&this.uj().Af(r,v)?this.Wk()?void 0:this.jy()?this.Vk().Af(r-this.qa(),v-this.ra()):!0:!1}E8(){return 0!==(this.Aa&16)}IR(){if(this.E8()&&this.si()&&0===(this.Aa&256)){var r=this.Pc(),v=this.K.Vz,y=this.Uz;a.set(v.Fi(r.W),v.Gi(r.R),v.Fi(r.la),v.Gi(r.da));y.rd(a)||(r=this.Z,y===l?(v.Jo(r,null,a),this.Uz=
e.m(e.Rect,a)):(v.Jo(r,y,a),y.ua(a)),this.Aa&=-17)}}QQ(){const r=this.Uz;r!==l&&(this.K.Vz.Jo(this.Z,r,null),this.Uz=l)}Aba(){const r=this.aa();if(r.Lo()&&0===(this.Aa&256)){var v=r.bs,y=this.Pc(),A=this.bw;a.set(v.Fi(y.W),v.Gi(y.R),v.Fi(y.la),v.Gi(y.da));A.rd(a)||(y=this.Z,A===h?(v.Jo(y,null,a),this.bw=e.m(e.Rect,a)):(v.Jo(y,A,a),A.ua(a)),r.s4())}}RQ(){const r=this.bw;r!==h&&(this.aa().bs.Jo(this.Z,r,null),this.bw=h)}D5(){const r=this.Z,v=this.mk,y=v.G;y.length&&y.$d(-1)===r||(v.Ro(r,!1),v.Ig(r,
!1),this.g.ba())}B5(){const r=this.Z,v=this.mk,y=v.G;y.length&&y[0]===r||(v.Ro(r,!1),v.k$(r),this.g.ba())}C5(r){const v=this.Z,y=this.mk;if(y.ec()!==r.ec())throw Error("layer from different layout");r!==y&&(y.Ro(v,!0),this.zu(r),r.Ig(v,!0),this.g.ba())}A5(r,v){const y=this.Z;let A=!1;const G=this.mk;if(r.dd!==y.dd){var z=r.j();if(!z)throw Error("expected world instance");z=z.aa();G.Ha()!==z.Ha()&&(G.Ro(y,!0),this.zu(z),z.Ig(y,!0),A=!0);r=z.F1(y,r,!!v);(A||r)&&this.g.ba()}}Naa(r){this.Ke(64,r)}yt(){return 0!==
(this.Aa&64)}ka(r){const v={x:this.qa(),y:this.ra(),w:this.fa(),h:this.ea(),l:this.aa().lb,zi:this.th()};0!==this.hb()&&(v.ze=this.hb());0!==this.Ta()&&(v.a=this.Ta());this.vq()||(v.c=this.ib.toJSON());.5!==this.Rk()&&(v.oX=this.Rk());.5!==this.Sk()&&(v.oY=this.Sk());0!==this.tj()&&(v.bm=this.tj());this.zc()||(v.v=this.zc());this.si()||(v.ce=this.si());this.AM()&&(v.be=this.AM());this.bg&&(v.fx=this.bg.ka());const y=0!==(this.Aa&32);y&&(v.sfi=y);this.Xh&&(v.sft=[...this.Xh].join(" "));this.Lb&&"visual-state"!==
r&&(v.sgi=this.Lb.ka());this.Nf()&&(v.mesh=this.Fj().td());return v}mz(r){"visual-state"!==r&&this.K$()}ta(r,v){q=!1;this.Fg(r.x);this.yh(r.y);this.xh(r.w);this.Bi(r.h);this.yz(r.zi);this.ff(r.hasOwnProperty("ze")?r.ze:0);this.kd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.hm(r.c):r.hasOwnProperty("o")?(c.kj(this.ib),c.bq=r.o):c.On(1,1,1,1);this.rz(c);this.Rq(r.hasOwnProperty("oX")?r.oX:.5);this.Sq(r.hasOwnProperty("oY")?r.oY:.5);this.Qf(r.hasOwnProperty("bm")?r.bm:0);this.Tf(r.hasOwnProperty("v")?
r.v:!0);this.Pt(r.hasOwnProperty("ce")?r.ce:!0);this.M3(r.hasOwnProperty("be")?r.be:!1);this.QE(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.bg&&r.hasOwnProperty("fx")&&this.bg.ta(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.pF(null);const y=this.Lb,A=r.sgi;y.ta(A);const G=this.I().Wb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Aa&256)&&y.TF(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.YC(r.cols,r.rows),this.Fj().hd(r)):
this.Gy();this.Ja();q=!0;this.hr()}}}{"use strict";const e=self.B;e.RK=class extends e.ja{constructor(a,b){super();const d=a.I(),c=d.mn,g=d.oh(b[1]);c.E_(g)||c.mX(b);this.g=d;this.K=a;this.Mi=c.kZ(g);this.Mc=null;this.yA=g.Instance;this.lb=b[2];this.Ka=b[0];this.Kv=this.g.oi(b[3]);this.Mc=e.m(g.Im,this);this.Ad()}static Qa(a,b){return e.m(e.RK,a,b)}A(){this.Mi=this.g=null;this.Mc.A();this.yA=this.Mc=null}Ad(){this.Mc.Ad()}I(){return this.g}H(){return this.K}Mk(){return this.Mi}Ca(){return this.Ka}oi(){return this.Kv}}}
{"use strict";const e=self.B,a=self.xM;e.hx=class extends e.ja{constructor(b){super();this.g=b.Df;this.Vc=b.OJ;this.Mi=this.Vc.Mk();this.Z=b.instance;this.Pa=b.index;this.je=this.pa=null;this.Mi.Ig(this.Z)}A(){this.je&&(this.je.xu(),this.je=null);this.Mi.Ro(this.Z);this.pa.A();this.Z=this.Mi=this.Vc=this.g=this.je=this.pa=null}bz(b){if(this.pa)throw Error("already got sdk instance");this.pa=e.m(this.Vc.yA,this,b);this.v8()}I(){return this.g}vg(){return this.Vc}Mk(){return this.Mi}Je(){return this.Pa}td(){return this.pa.td()}hd(b){return this.pa.hd(b)}static YE(b,
d){var c=b.Z,g=d.Z;const m=c.H().Ha(),h=g.H().Ha();if(m!==h)return m-h;c=c.JT;g=g.JT;return c!==g?c-g:b.Mz.Je()-d.Mz.Je()}v8(){const b=this.pa.Uk(),d=b||a;a.Jg(this);this.je=new d;a.Jg(null);if(b&&!(this.je instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}tq(){return this.je}}}
{"use strict";const e=self.B;e.Jk=class extends e.ja{constructor(a,b){super();this.ac=a;this.Kg=[];this.Xf=[];this.cA=new Map;this.Hh=[];this.Xr=!0;for(const d of b)a=e.m(e.uL,this,d,this.Kg.length),this.Kg.push(a),this.cA.set(a.Ca().toLowerCase(),a),3<=d.length&&this.Hh.push(this.MF(d[2]));this.I().H5(this)}A(){e.F(this.Kg);e.F(this.Xf);this.cA.clear();e.F(this.Hh);this.ac=null}J2(a){if(a.length){this.Kg=a.concat(this.Kg);for(const b of a)this.cA.set(b.Ca().toLowerCase(),b);for(let b=0,d=this.Kg.length;b<
d;++b)this.Kg[b].fG(b)}}MF(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const g=e.m(e.fb);g.hm(c);a[b]=g}}return a}I(){return this.ac.I()}Ah(){e.F(this.Xf);let a=!0;for(const b of this.Kg)b.Kb&&(this.Xf.push(b),b.Kf().Xr||(a=!1));this.Xr=a}ug(){return this.Kg}z_(){return 0<this.Kg.length}Ok(a){return this.cA.get(a.toLowerCase())||null}LL(a){a=Math.floor(+a);if(0>a||a>=this.Kg.length)throw new RangeError("invalid effect type index");return this.Kg[a]}Bt(a){return this.LL(a).Kb}XN(a,
b){this.LL(a).Ky(b)}yt(){return 0<this.Xf.length}Nk(a){return this.Hh[a]}static B3(a){return a&&a instanceof e.fb?{t:"color",v:a.toJSON()}:a}static s1(a){if("object"===typeof a){if("color"===a.t){const b=e.m(e.fb);b.hm(a.v);return b}throw Error("invalid effect parameter type");}return a}static NN(a){return a.map(e.Jk.B3)}static TM(a){return a.map(e.Jk.s1)}td(){return this.Kg.map(a=>({name:a.Ca(),active:a.Kb,params:e.Jk.NN(this.Hh[a.Ha()])}))}hd(a){for(const b of a)if(a=this.Ok(b.name))a.Ky(b.active),
this.Hh[a.Ha()]=e.Jk.TM(b.params);this.Ah()}}}
{"use strict";const e=self.B;e.uL=class extends e.ja{constructor(a,b,d){super();this.Oa=a;this.Ic=b[0];this.Ka=b[1];this.Pa=d;this.cd=null;this.Kb=!0}A(){this.cd=this.Oa=null}XW(a){a=e.m(e.uL,a,[this.Ic,this.Ka],-1);a.cd=this.cd;a.Kb=this.Kb;return a}fQ(a){a=a.iM(this.Ic);if(!a)throw Error("failed to find shader program '"+this.Ic+"'");this.cd=a}Ca(){return this.Ka}fG(a){this.Pa=a}Ha(){return this.Pa}I(){return this.Oa.I()}Ky(a){this.Kb=!!a}Kf(){return this.cd}tZ(){const a=[];for(let b=0,d=this.cd.aq.length;b<
d;++b){const c=this.cd.Zx(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(e.m(e.fb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const e=self.B;e.H0=class extends e.ja{constructor(a,b){super();this.Z=a;this.xU=b;this.Oa=a.H().Oa;this.Fw=this.II=!0;this.wU=this.vU=this.tU=!1;this.Gh=e.m(e.J.ve,a.I().O.iH,{gC:(d,c)=>{c=c.Vm;const g=c.j();d.Em(g.zD());d.Qt(g.Mf());c.tg(d);d.Qt(0)},TU:d=>{const c=d.nD(),[g,m]=d.mD();return{BV:c,CV:g,AV:m}},lC:d=>this.Nk(d)});this.Uo=[];this.Xf=[];this.Xr=!0;this.Hh=[];for(const d of this.Oa.ug())this.Uo.push(!0);this.Ah()}A(){this.Gh.A();this.Gh=null;e.F(this.Uo);e.F(this.Xf);e.F(this.Hh);
this.Oa=this.Z=null}S8(a){for(const b of a)this.Hh.push(this.MF(b))}MF(a){a=a.slice(0);for(let b=0,d=a.length;b<d;++b){const c=a[b];if(Array.isArray(c)){const g=e.m(e.fb);g.hm(c);a[b]=g}}return a}p1(){for(const a of this.Oa.ug())this.Hh.push(a.tZ())}li(){this.su();return this.Gh}I(){return this.Z.I()}Ah(){e.F(this.Xf);const a=this.xU,b=this.Oa.ug(),d=this.Xf,c=this.Uo;let g=!0;for(let m=0,h=b.length;m<h;++m)if(c[m]){const l=b[m];d.push(l);l.Kf().Xr||(g=!1)}this.Xr=g;a.Naa(!!d.length);this.II=!0}su(){const a=
this.Z;var b=this.xU;const d=b.vq(),c=0<b.Xc;b=0!==b.Ta()||0>b.fa()||0>b.ea();const g=a.UD();if(this.II||d!==this.Fw||c!==this.tU||b!==this.vU||g!==this.wU)this.Gh.NC(this.Xf.map(m=>m.Kf()),{zs:this.Xf.map(m=>m.Ha()),jC:!d||a.Eq(),iK:c,$U:g,YU:b}),this.II=!1,this.Fw=d,this.tU=c,this.vU=b,this.wU=g}Nk(a){return this.Hh[a]}Bt(a){return this.Uo[a]}XN(a,b){this.Uo[a]=!!b}ug(){return this.Oa.ug()}ka(){return this.Oa.ug().map(a=>({name:a.Ca(),active:this.Uo[a.Ha()],params:e.Jk.NN(this.Hh[a.Ha()])}))}ta(a){for(const b of a)if(a=
this.Oa.Ok(b.name))this.Uo[a.Ha()]=b.active,this.Hh[a.Ha()]=e.Jk.TM(b.params);this.Ah()}}}
{"use strict";const e=self.B,a=[],b=[],d=e.m(e.Un),c=e.m(e.Un),g=e.m(e.Bd);e.m(e.Rect);e.m(e.Rect);let m=null,h=null,l=null;e.YW=class extends e.ja{constructor(n){super();this.g=n;this.sB=[]}A(){this.g=null}QK(n,p,q){for(const [u,w]of this.sB){let r;if(n===u)r=w;else if(n===w)r=u;else continue;r.iq(p)&&(q.includes(r)||q.push(r))}}ZK(n,p){if(!this.sB.length)return!1;for(const [q,u]of this.sB)if(n===q&&p===u||n===u&&p===q)return!0;return!1}$K(){e.F(this.sB)}Yq(n,p){if(!n||!p||n===p)return!1;n=n.j();
p=p.j();if(!n.si()||!p.si())return!1;const q=n.aa(),u=p.aa();return q.f1(u)?this.pba(n,p):this.oba(n,p)}pba(n,p){if(!n.Pc().nC(p.Pc())||!n.uj().gK(p.uj())||n.Wk()&&p.Wk())return!1;if(n.Wk())return this.dF(n,p);if(p.Wk())return this.dF(p,n);if(!n.jy()&&!p.jy())return!0;const q=n.Vk(),u=p.Vk();return q.Ow(u,p.qa()-n.qa(),p.ra()-n.ra())}oba(n,p){var q=n.Wk(),u=p.Wk();if(q&&!u)return this.AO(n,p);if(u&&!q)return this.AO(p,n);if(u||q)return!1;u=n.aa();q=p.aa();d.ua(n.Vk());c.ua(p.Vk());var w=d.Ld;for(let r=
0,v=w.length;r<v;r+=2){const y=r+1,A=w[y],[G,z]=u.ro(w[r]+n.qa(),A+n.ra());w[r]=G;w[y]=z}n=c.Ld;for(let r=0,v=n.length;r<v;r+=2){u=r+1;w=n[u];const [y,A]=q.ro(n[r]+p.qa(),w+p.ra());n[r]=y;n[u]=A}d.DK();c.DK();return d.Ow(c,0,0)}AO(n,p){var q=n.aa(),u=p.aa();m||(m=e.m(e.Un));h||(h=e.m(e.Rect));l||(l=e.m(e.Bd));var w=p.qa(),r=p.ra();const [v,y]=u.ro(w,r),[A,G]=q.Ik(v,y);q=A-w;r=G-r;h.ua(p.Pc());h.offset(q,r);if(!n.Pc().nC(h))return!1;l.ua(p.uj());l.offset(q,r);if(!n.uj().gK(l))return!1;m.ua(p.Vk());
u=m.Ld;for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=q,u[w]+=r;m.DK();return this.dF(n,p,A,G,m,h,l)}dF(n,p,q,u,w,r,v){r=void 0!==r?r:p.Pc();const y=n.qa(),A=n.ra();var G=n.Da().pa;q=void 0!==q?q:p.qa();u=void 0!==u?u:p.ra();n=p.jy();v=void 0!==v?v:p.uj();G.dha(r,b);for(let H=0,J=b.length;H<J;++H){var z=b[H];G=z.gha();if(r.lea(G,y,A)&&(g.pj(G),g.offset(y,A),g.gK(v)))if(n){var F=void 0!==w?w:p.Vk();if(z=z.h_()){if(z.Ow(F,q-(y+G.W),u-(A+G.R)))return e.F(b),!0}else if(d.EK(g,0,0),d.Ow(F,q,u))return e.F(b),
!0}else if(F=z.h_()){if(d.EK(v,0,0),F.Ow(d,-(y+G.W),-(A+G.R)))return e.F(b),!0}else return e.F(b),!0}e.F(b);return!1}Mx(n,p,q,u){n=n?1!==n.tf||1!==n.uf:!1;if(p.ab)for(const w of p.kp)n||w.DG?e.Hn(u,w.oa()):(w.FR(),w.Vz.Ey(q,u));else n||p.DG?e.Hn(u,p.oa()):(p.FR(),p.Vz.Ey(q,u))}e_(n,p,q,u){for(const w of p)this.Mx(n,w,q,u)}m_(n,p,q){const u=this.g.DD();u&&this.e_(n,u.yD(),p,q)}gE(n,p){return n.I8()&&(!p||p.j().gE(n.ri().get("solidTags")))}cF(n){const p=n.j();this.m_(p.aa(),p.Pc(),a);for(const q of a)if(this.gE(q,
n)&&this.Yq(n,q))return e.F(a),q;e.F(a);return null}Q2(n,p,q,u){u=u||50;const w=n.j(),r=w.qa(),v=w.ra();let y=null,A=null;for(let G=0;G<u;++G)if(w.Uf(r+p*G,v+q*G),w.Ja(),!this.Yq(n,y))if(y=this.cF(n))A=y;else if(!y)return A&&this.P2(n,p,q,A),!0;w.Uf(r,v);w.Ja();return!1}P2(n,p,q,u){let w=2,r=!1;var v=!1;const y=n.j();let A=y.qa(),G=y.ra();for(;16>=w;)v=1/w,w*=2,y.Gq(p*v*(r?1:-1),q*v*(r?1:-1)),y.Ja(),this.Yq(n,u)||this.cF(n)?v=r=!0:(v=r=!1,A=y.qa(),G=y.ra());v&&(y.Uf(A,G),y.Ja())}}}
{"use strict";const e=self.B;e.Q4=class extends e.ja{constructor(a,b){super();this.UG=a;this.TG=b;this.Oi=e.m(e.Ht)}A(){this.Oi.A();this.Oi=null}om(a,b,d){let c=this.Oi.Y(a,b);return c?c:d?(c=e.m(e.v_,this,a,b),this.Oi.Set(a,b,c),c):null}Fi(a){a=Math.floor(a/this.UG);return isFinite(a)?a:0}Gi(a){a=Math.floor(a/this.TG);return isFinite(a)?a:0}Jo(a,b,d){if(b)for(let c=b.W,g=b.la;c<=g;++c)for(let m=b.R,h=b.da;m<=h;++m){if(d&&d.Af(c,m))continue;const l=this.om(c,m,!1);l&&(l.vh(a),l.oo()&&this.Oi.Vn(c,
m))}if(d)for(let c=d.W,g=d.la;c<=g;++c)for(let m=d.R,h=d.da;m<=h;++m)b&&b.Af(c,m)||this.om(c,m,!0).QD(a)}Ey(a,b){let d=this.Fi(a.W);const c=this.Gi(a.R),g=this.Fi(a.la);a=this.Gi(a.da);if(isFinite(g)&&isFinite(a))for(;d<=g;++d)for(let m=c;m<=a;++m){const h=this.om(d,m,!1);h&&h.aD(b)}}}}
{"use strict";const e=self.B;e.v_=class extends e.ja{constructor(a,b,d){super();this.ga=b;this.X=d;this.G=e.m(e.JC)}A(){this.G.A();this.G=null}oo(){return this.G.oo()}QD(a){this.G.Oc(a)}vh(a){this.G.Vn(a)}aD(a){e.Hn(a,this.G.hD())}}}{"use strict";const e=self.B;e.eka=class{constructor(){this.rect=new e.Rect;this.Kw=0}Set(a,b,d,c){this.rect.set(a,b,d,c);this.rect.normalize();this.Kw=0;return this}}}
{"use strict";const e=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),d=self.nj.fm,c=d.create(),g=e.m(e.Bd),m=e.m(e.Rect);e.RC=class extends e.ja{constructor(h){super();this.g=h;this.bk=null;this.aT=!1;this.jj=this.jb=null;this.AH="high-performance";this.Tm=this.Sm=this.Eh=this.Fh=this.Wc=this.md=this.xk=this.yk=0;this.Dr=!0;this.Yc=this.nd=this.gU=0;this.gS=this.tS="letterbox-scale";this.lca=this.kca=0;this.aA=d.create();
this.Kh=this.IJ="high";this.xp=!1;this.Ku=[];this.PB=new Set;this.wB=self.C3_Shaders;this.iH=e.m(e.J.LY,{RU:()=>[this.xj(),this.ki()],SU:()=>this.uZ(),pV:l=>this.X2(l),getTime:()=>this.I().$n(),oV:()=>this.I().ba()});this.$f=this.Ym=0;this.Jr=NaN;this.qA=null;this.pI=new Map;this.mv=NaN;this.XB=new Map;this.AB="";this.cJ=1;this.VT=e.m(e.Rect);this.dJ="";this.WT=this.iw=null;this.Pv=0;this.oe=-1;this.gn=0;this.vI=l=>this.gn=l.progress;this.vf=null;this.xf={Tw:null,Ww:null,bx:null};this.hJ=this.aU=
this.iJ=0;this.hj="fade-in";this.gJ=null;this.$T=new Promise(l=>this.gJ=l)}Laa(h){this.AH=h}dba(h){this.aT=!!h}async jh(h){this.bk=h.canvas;this.g.gi("runtime","window-resize",p=>this.VF(p));this.g.gi("runtime","fullscreenchange",p=>this.J9(p));this.g.gi("runtime","fullscreenerror",p=>this.K9(p));this.bk.addEventListener("webglcontextlost",p=>this.vu(p));this.bk.addEventListener("webglcontextrestored",()=>this.UF());this.xp=!!h.isFullscreen;var l=navigator.gpu&&this.aT;let n=!1;if(l)try{await this.jQ(!0)}catch(p){this.jj=
null}if(!this.pb())try{await this.iQ(!0)}catch(p){this.jb=null}this.pb()||(n=!0);if(!this.pb()&&l)try{await this.jQ(!1)}catch(p){this.jj=null}if(!this.pb())try{await this.iQ(!1)}catch(p){this.jb=null}l=this.pb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.g4(n);this.ud(h.windowInnerWidth,h.windowInnerHeight,!0);this.jj?await this.y8():this.jb&&await this.x8();l.ME(this.Dr);l.Tj()&&(this.Jr=0);for(const p of this.g.wG){for(const q of p.ug())q.fQ(l);p.Ah()}}async jQ(h){h=
{powerPreference:this.AH,depth:this.g.$l,failIfMajorPerformanceCaveat:h,eoa:this.g.QB,SJ:this.g.FJ};this.jj=e.m(e.J.Cna);await this.jj.Qa(this.bk,h)}async iQ(h){h={powerPreference:this.AH,PU:!0,depth:this.g.$l,SJ:this.g.FJ,failIfMajorPerformanceCaveat:h};"Android"===e.Qc.Fq&&"Chromium"===e.Qc.kx&&75>e.Qc.MC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.dV=1);"standard"===this.g.qr?h.alpha=
!0:(h.alpha=!1,h.mK=!0);this.jb=e.m(e.J.u5,this.bk,h);await this.jb.ny()}async y8(){if(this.wB){const h=[];for(const [l,n]of Object.entries(this.wB))n.src=n.xfa,h.push(this.jj.ZC(n,e.J.Dna.Nx(),l));await Promise.all(h)}}async x8(){if(this.wB){const h=[];for(const [l,n]of Object.entries(this.wB))n.src=n.eea,h.push(this.jb.ZC(n,e.J.eu.Nx(),l));await Promise.all(h);this.jb.p3();this.jb.Sj()}this.jb.Tj()&&(this.qA=e.m(e.J.NO,this.jb))}A(){this.bk=this.jb=this.g=null}VF(h){const l=this.g,n=h.devicePixelRatio;
l.le&&(self.devicePixelRatio=n);l.Caa(n);this.xp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight);l.ba();l.zb&&(l.zt()||self.pg.Mha())&&l.zo()}J9(h){this.xp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight,!0);this.g.ba()}K9(h){this.xp=!!h.isFullscreen;this.ud(h.innerWidth,h.innerHeight,!0);this.g.ba()}ud(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.yk!==h||this.xk!==l||n){this.yk=h;this.xk=l;n=this.ft();"letterbox-scale"===n?this.X5(h,l):"letterbox-integer-scale"===
n?this.W5(h,l):"off"===n?this.U5(h,l):this.V5(h,l);this.zba(n);this.bk.width=this.Fh;this.bk.height=this.Eh;this.g.so("canvas","update-size",{marginLeft:this.Sm,marginTop:this.Tm,styleWidth:this.md,styleHeight:this.Wc});h=this.pb();h.ud(this.Fh,this.Eh,!0);for(var p of this.Ku)h.FX(p);e.F(this.Ku);h.jq(this.aA,this.xj()/this.ki());p=this.g.eb;p.Co();p.Bo()}}X5(h,l){const n=this.g.vj(),p=this.g.Wg,q=this.g.Vg,u=p/q;h/l>u?(this.md=Math.round(l*u),this.Wc=l,this.Sm=Math.floor((h-this.md)/2),this.Tm=
0):(this.md=h,this.Wc=Math.round(h/u),this.Sm=0,this.Tm=Math.floor((l-this.Wc)/2));this.Fh=Math.round(this.md*n);this.Eh=Math.round(this.Wc*n);this.g.au(p,q)}W5(h,l){const n=this.g.vj();1!==n&&(h+=1,l+=1);const p=this.g.Wg,q=this.g.Vg;var u=p/q;u=h/l>u?l*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Fh=Math.round(p*u);this.Eh=Math.round(q*u);this.md=this.Fh/n;this.Wc=this.Eh/n;this.Sm=Math.max(Math.floor((h-this.md)/2),0);this.Tm=Math.max(Math.floor((l-this.Wc)/2),0);this.g.au(p,
q)}V5(h,l){const n=this.g.vj();this.md=h;this.Wc=l;this.Fh=Math.round(this.md*n);this.Eh=Math.round(this.Wc*n);this.Tm=this.Sm=0;h=this.wj();this.g.au(this.md/h,this.Wc/h)}U5(h,l){const n=this.g.vj();this.md=this.g.mg;this.Wc=this.g.lg;this.Fh=Math.round(this.md*n);this.Eh=Math.round(this.Wc*n);this.xp?(this.Sm=Math.floor((h-this.md)/2),this.Tm=Math.floor((l-this.Wc)/2)):this.Tm=this.Sm=0;this.g.au(this.g.mg,this.g.lg)}zba(h){if("high"===this.IJ)this.nd=this.Fh,this.Yc=this.Eh,this.Kh="high";else{let n;
if("off"===this.ft()){var l=this.g.mg;n=this.g.lg}else l=this.g.Wg,n=this.g.Vg;this.Fh<l&&this.Eh<n?(this.nd=this.Fh,this.Yc=this.Eh,this.Kh="high"):(this.nd=l,this.Yc=n,this.Kh="low","scale-inner"===h?(h=l/n,l=this.yk/this.xk,l<h?this.nd=this.Yc*l:l>h&&(this.Yc=this.nd/l)):"scale-outer"===h&&(h=l/n,l=this.yk/this.xk,l>h?this.nd=this.Yc*l:l<h&&(this.Yc=this.nd/l)))}}I(){return this.g}e4(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.tS=h;h=this.g.eb;h.Co();h.Bo()}Sx(){return this.tS}U3(h){if(!a.has(h))throw Error("invalid fullscreen mode");
this.gS=h;h=this.g.eb;h.Co();h.Bo()}ft(){return this.xp?this.gS:this.Sx()}ZN(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.IJ=h;this.g.eb.Co()}static EP(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}xj(){return this.nd}ki(){return this.Yc}ME(h){this.Dr=!!h}aba(h){this.gU=h}$0(){return this.pb().mo()}vu(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.Ku=[];this.PB.clear();this.jb.$k();this.g.vu()}async UF(){await this.jb.mE();await this.Rna();for(const h of this.g.wG)for(const l of h.ug())l.fQ(this.jb);await this.g.UF();console.log("[Construct 3] WebGL context restored")}jo(){return this.jb}xt(){return this.jj}pb(){return this.jj||this.jb}um(){return"low"===this.Kh?1/this.g.vj():this.wj()}wj(){const h=this.ft();if("off"===h||"crop"===h)return 1;const l=this.g.Wg,n=this.g.Vg,p=l/n,q=this.Fh/this.Eh;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.Wc/n:this.md/l}it(){return"low"===this.Kh?1:this.wj()}ht(){return"low"===this.Kh?1:this.g.vj()}T3(h,l,n){l=l||this.nd;n=n||this.Yc;const p=l/2+this.kca,q=n/2+this.lca;{let u=this.aA;if(l!==this.nd||n!==this.Yc)h.jq(c,l/n),u=c;h.Do(u)}l=h.Qs(p,q,100*this.g.vj(),p,q,n||this.Yc);h.Qq(l)}Q3(h){var l=this.md/2;const n=this.Wc/2;h.Do(this.aA);l=h.Qs(l,n,100,l,n);h.Qq(l)}ct(){return this.Sm}dt(){return this.Tm}Ys(h){h.depth=this.g.$l;const l=this.Ku,n=l.findIndex(q=>q.P0(h));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.pb().tX(h);this.PB.add(p);return p}wo(h){if(!this.PB.has(h))throw Error("render target not in use");this.PB.delete(h);this.Ku.push(h)}uZ(){const h={oj:this.g.wd};"low"===this.Kh&&(h.width=this.xj(),h.height=this.ki());return this.Ys(h)}X2(h){this.wo(h)}*YB(){for(const h of this.g.eb.Zw())for(const l of h.Zb){const n=this.pI.get(l);n&&(yield n)}}XL(h){if(!this.pb().Tj())return null;let l=this.pI.get(h);l||(l={name:h.Ca(),HK:e.m(e.J.NO,this.jb),bC:0,bV:0},
this.pI.set(h,l));return l.HK}wba(){const h=this.pb();if(h.Tj()&&0===this.$f){this.$f=h.Jh;this.mv=NaN;for(const l of this.YB())l.bC=NaN}}Cba(){this.jb&&this.jb.Tj()&&this.Dba();this.jj&&this.jj.Tj()&&this.Eba()}Dba(){if(isNaN(this.mv)&&(this.mv=this.qA.TL(this.Ym,this.$f),!isNaN(this.mv))){if(this.g.zb)for(const h of this.YB())if(h.bC=h.HK.TL(this.Ym,this.$f),isNaN(h.bC))return;this.qA.pL(this.$f);this.Jr=Math.min(this.mv,1);if(this.g.zb){for(const h of this.YB())h.HK.pL(this.$f),h.bV=Math.min(h.bC,
1);self.pg.k5(this.Jr,[...this.YB()])}this.Ym=this.$f;this.$f=0}}Eba(){if(0!==this.$f){for(var h=this.Ym;h<this.$f;++h){var l=this.XB.get(h);if(l&&!l.ky())return}l=this.g.Sb();h=e.x1(l.Zb.length+1);for(var n=this.Ym;n<this.$f;++n){var p=this.XB.get(n);if(p){p=p.dy();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.Jr=e.ia(h[0],0,1);if(this.g.zb){n=[];l=l.Zb;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)n.push({name:l[q].Ca(),bV:e.ia(h[q+1],0,1)});self.pg.k5(this.Jr,n)}for(h=this.Ym;h<this.$f;++h)this.XB.delete(h);this.Ym=this.$f;this.$f=0}}Q5(h){this.XB.set(this.jj.Jh,h)}Ux(){return this.Jr}xO(h,l,n,p,q,u){this.AB=h;this.cJ=l;this.VT.fi(n,p,q,u);return this.iw?this.iw:this.iw=new Promise(w=>{this.WT=w})}o9(){if(this.AB){var h=this.bk,l=this.VT,n=e.ia(Math.floor(l.W),0,h.width),p=e.ia(Math.floor(l.R),0,h.height),q=l.width();q=0===q?h.width-n:e.ia(Math.floor(q),0,h.width-n);l=l.height();l=0===
l?h.height-p:e.ia(Math.floor(l),0,h.height-p);(0!==n||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=e.jh(q,l),h.getContext("2d").drawImage(this.bk,n,p,q,l,0,0,q,l));e.mx(h,this.AB,this.cJ).then(u=>{this.dJ=URL.createObjectURL(u);this.iw=null;this.WT(this.dJ)});this.AB="";this.cJ=1}}p0(h){this.jb&&(2===h?(this.vf=e.m(e.J.tE,this.pb()),this.vf.eO(),this.vf.JE("Arial"),this.vf.Py(16),this.vf.aO("center"),this.vf.wO("center"),this.vf.ud(300,200)):0===h?(h=this.g.Rr)&&h.Dt(this.jb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.e9().then(l=>{"done"===this.hj?this.jb.rj(l):this.xf.Tw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.pQ("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.hj?this.jb.rj(l):this.xf.Ww=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.pQ("splash-images/splash-website-512.png").then(l=>{"done"===this.hj?this.jb.rj(l):this.xf.bx=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async e9(){var h=(new URL("splash-images/splash-logo.svg",
this.g.jD())).toString();h=await e.Lk(h);h=await this.g.U2(h);return await this.jb.wx(h,{Uw:"high"})}async pQ(h){h=(new URL(h,this.g.jD())).toString();h=await e.Lk(h);return await this.jb.wx(h,{Uw:"high"})}LD(){this.g.so("runtime","hide-cordova-splash")}R4(){this.Pv=Date.now();this.g.Wb().addEventListener("loadingprogress",this.vI);this.oe=requestAnimationFrame(()=>this.wP());3!==this.g.Qr&&this.LD()}async NY(){if(this.jb){this.gn=1;var h=this.g.Qr;4===h&&await this.$T;this.$T=this.gJ=null;-1!==this.oe&&
(cancelAnimationFrame(this.oe),this.oe=-1);this.g.Wb().removeEventListener("loadingprogress",this.vI);this.vI=null;this.vf&&(this.vf.A(),this.vf=null);this.g.Y2();this.jb.bu();this.xf.Tw&&(this.jb.rj(this.xf.Tw),this.xf.Tw=null);this.xf.Ww&&(this.jb.rj(this.xf.Ww),this.xf.Ww=null);this.xf.bx&&(this.jb.rj(this.xf.bx),this.xf.bx=null);this.jb.Tn();this.jb.Vs();this.hj="done";this.Ym=this.jb.Jh;3===h&&this.LD()}}wP(){if(-1!==this.oe){var h=this.jb;if(h){h.bu();this.oe=-1;var l=this.g.ld.DH,n=this.g.Qr;
3!==n&&(this.Q3(h),h.Tn(),h.Mt(),h.Sj(),h.Sf(null));if(0===n)this.o7(l);else if(1===n)this.ez(l,120,0);else if(2===n)this.n7(l);else if(3!==n)if(4===n)this.p7(l);else throw Error("invalid loader style");h.Vs();this.oe=requestAnimationFrame(()=>this.wP())}}}n7(h){h?this.vf.TN(1,0,0):this.vf.TN(.6,.6,.6);this.vf.Eo(Math.round(100*this.gn)+"%");h=this.md/2;const l=this.Wc/2;g.wV(h-150,l-100,h+150,l+100);this.jb.Sf(this.vf.fe());this.jb.Iq(g,this.vf.Gj())}ez(h,l,n){const p=this.jb;p.SN();h?p.ef(1,0,0,
1):p.ef(.118,.565,1,1);h=this.md/2;const q=this.Wc/2,u=l/2;m.fi(h-u,q-4+n,Math.floor(l*this.gn),8);p.Rect(m);m.fi(h-u,q-4+n,l,8);m.offset(-.5,-.5);m.eK(.5,.5);p.ef(0,0,0,1);p.PM(m);m.eK(1,1);p.ef(1,1,1,1);p.PM(m)}o7(h){var l=this.g.Rr;if(l)if(l=l.fe()){var n=l.fa(),p=l.ea(),q=this.md/2,u=this.Wc/2,w=n/2;p/=2;g.wV(q-w,u-p,q+w,u+p);this.jb.Sf(l);this.jb.Bd(g);this.ez(h,n,p+16)}else this.ez(h,120,0);else this.ez(h,120,0)}p7(h){const l=this.jb,n=this.xf.Tw,p=this.xf.Ww,q=this.xf.bx,u=Date.now();0===this.iJ&&
(this.Pv=u);const w=this.g.Bq()||this.g.zca&&!this.g.Q0(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.hj?y=Math.min((u-this.Pv)/300,1):"fade-out"===this.hj&&(y=Math.max(1-(u-this.hJ)/300,0));l.SN();l.ef(.231*y,.251*y,.271*y,y);m.set(0,0,this.md,this.Wc);l.Rect(m);const A=Math.ceil(this.md),G=Math.ceil(this.Wc);let z;256<this.Wc?(l.ef(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.fi(0,.8*G-z/2,A,z),l.Rect(m),h?l.ef(y,0,0,y):l.ef(.161*y,.953*y,.816*y,y),h=A*this.gn,m.fi(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),
l.ef(y,y,y,y),l.Sj(),p&&(h=1.5*e.ia(.22*G,105,.6*A),z=h/8,m.fi(.5*A-h/2,.2*G-z/2,h,z),l.Sf(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.fi(.5*A-h/2,.485*G-z/2,h,z),l.Sf(n),l.Rect(m)),q&&(h=1.5*e.ia(.22*G,105,.6*A),z=h/8,m.fi(.5*A-h/2,.868*G-z/2,h,z),l.Sf(q),l.Rect(m))):(l.ef(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.fi(0,.85*G-z/2,A,z),l.Rect(m),h?l.ef(y,0,0,y):l.ef(.161*y,.953*y,.816*y,y),h=A*this.gn,m.fi(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.ef(y,y,y,y),l.Sj(),n&&(z=h=.55*G,m.fi(.5*A-h/2,.45*
G-z/2,h,z),l.Sf(n),l.Rect(m)));this.iJ++;"fade-in"===this.hj&&300<=u-this.Pv&&2<=this.iJ&&(this.hj="wait",this.aU=u);"wait"===this.hj&&u-this.aU>=v&&1<=this.gn&&(this.hj="fade-out",this.hJ=u);("fade-out"===this.hj&&u-this.hJ>=300+r||w&&1<=this.gn&&500>u-this.Pv)&&this.gJ()}}}
{"use strict";const e=self.B,a=self.pg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.JN=class extends e.ja{constructor(c){c=Object.assign({},b,c);super();this.Tv=c.messagePort;this.Sba=c.baseUrl;this.le=!!c.isInWorker;d=c.ife;this.Ui=c.exportType;this.bT=!!c.isiOSCordova;this.zca=!!c.isFBInstantAvailable;this.Uca=c.opusWasmScriptUrl;this.CT=c.opusWasmBinaryUrl;this.ke=this.Zba=this.zb=!("preview"!==this.Ui||!c.isDebug);this.cH=
0;this.Ez=[];this.Lba=[];this.SI=this.IT=this.pB="";this.Vg=this.Wg=0;this.zr=self.devicePixelRatio;this.Qr=this.lg=this.mg=this.iB=this.hB=0;this.SB=!1;this.ik=!0;this.FJ=this.QB=!1;this.Rr=null;this.ld=e.m(e.uW,this,c);this.eb=e.m(e.l1,this);this.za=e.m(e.SY,this);this.mn=e.m(e.B2,this);this.Um=e.m(e.YW,this);this.Eb=e.m(e.Z4,this);this.sJ=e.m(e.c5,this);this.Tc=[];this.JI=new Map;this.KI=new Map;this.oS=0;this.Nba=[];this.wG=[];this.Zu=[];this.Al=[];this.AA=new Map;this.sA=!1;this.Wv=this.LI=0;
this.rp=new Map;this.tp=new Set;this.BA=new Set;this.gB=[];this.dT=[];this.O=null;this.$l=!1;this.uH="vsync";this.qr="standard";this.wd="trilinear";this.Cl=!1;this.GI=!0;this.cI=this.FT=!1;this.hda={hV:g=>{this.Sl=this.oe=-1;this.He(g)},kfa:g=>{this.Sl=-1;this.He(g,!1,"skip-render")},Uea:()=>{this.oe=-1;this.zo()}};this.Sl=this.oe=-1;this.Fr=this.sk=0;this.IS=this.JA=this.tA=!1;this.ZH=!0;this.js=0;this.Zca=()=>Math.random();this.dv=this.gv=this.XA=this.HB=0;this.Yd=1;this.xT=30;this.yH=e.m(e.wy);
this.zH=e.m(e.wy);this.HJ=e.m(e.wy);this.oA=-1;this.bB=this.Gl=this.nA=this.mp=0;this.jk=!1;this.Ov=this.cw="";this.Pr=null;this.Dp="";this.ZI=this.RI=null;this.Ub=e.m(e.Event.Wb);this.gH=new Map;this.NI=new Map;this.Qca=0;this.$S=!1;this.GJ=[];this.jp={pretick:e.m(e.Event,"pretick",!1),tick:e.m(e.Event,"tick",!1),tick2:e.m(e.Event,"tick2",!1),instancedestroy:e.m(e.Event,"instancedestroy",!1),beforelayoutchange:e.m(e.Event,"beforelayoutchange",!1),layoutchange:e.m(e.Event,"layoutchange",!1)};this.jp.instancedestroy.instance=
null;this.Zd=e.m(e.Event.Wb);this.oU=null;this.Rm=e.m(e.vo,e.hx.YE);this.Yo=e.m(e.vo,e.hx.YE);this.Zo=e.m(e.vo,e.hx.YE);this.Iv=e.m(e.h1,this,c.jobScheduler);c.canvas&&(this.O=e.m(e.RC,this));this.Tv.onmessage=g=>this._OnMessageFromDOM(g.data);this.gi("runtime","visibilitychange",g=>this.d$(g));this.gi("runtime","opus-decode",g=>this.Hba(g.arrayBuffer));this.gi("runtime","get-remote-preview-status-info",()=>this.b8());this.gi("runtime","js-invoke-function",g=>this.lz(g));this.gi("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Ub.addEventListener("window-blur",g=>this.e$(g));this.Ub.addEventListener("window-focus",()=>this.f$());this.Eb.hW();this.Yi=null;this.vca=new WeakMap;this.XG={keyboard:null,eV:null,DV:null}}static Qa(c){return e.m(e.JN,c)}A(){e.F(this.Tc);this.JI.clear();this.KI.clear();this.eb.A();this.eb=null;this.za.A();this.za=null;this.mn.A();this.mn=null;this.ld.A();this.ld=null;this.Um.A();this.Um=null;this.Eb.A();this.Eb=null;this.sJ.A();this.sJ=null;this.O&&(this.O.A(),this.O=
null);this.Ub.A();this.Ub=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.CQ(c);else if("result"===g)this.W9(c);else throw Error(`unknown message '${g}'`);}CQ(c){if(this.$S){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new e.Event(m),c.data=h,this.Ub.Rda(c)),l)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=u;this.kh(c)}if(c=this.gH.get(g))if(c=
c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.oz(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.oz(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.oz(p,!1,""+q)}):this.oz(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.GJ.push(c)}oz(c,g,m){this.Tv.postMessage({type:"result",
responseId:c,isOk:g,result:m})}W9(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.NI.get(g);m?h.resolve(c):h.reject(c);this.NI.delete(g)}gi(c,g,m){let h=this.gH.get(c);h||(h=new Map,this.gH.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}so(c,g,m){this.Tv.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}to(c,g,m){const h=this.Qca++,l=new Promise((n,p)=>{this.NI.set(h,{resolve:n,reject:p})});this.Tv.postMessage({type:"event",
component:c,handler:g,data:m,responseId:h});return l}G2(){if(!this.zb)throw Error("not in debug mode");this.so("runtime","post-to-debugger",{type:"reload"})}async xq(c){this.zb?await a.xq(this):self.pg&&self.pg.Aha(this);var [g]=await Promise.all([this.ld.zL("data.json"),this.n9(),this.Iv.xq()]);this.P8(g);await this.z8(c);this.Bq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.jo()?(g=this.jo(),console.info(`[C3 runtime] Hosted in ${this.le?"worker":
"DOM"}, rendering with WebGL ${g.qd} [${g.Aw}] (${g.S0()?"desynchronized":"standard"} compositing)`)):this.xt()&&console.info(`[C3 runtime] Hosted in ${this.le?"worker":"DOM"}, rendering with experimental WebGPU`);this.pb().EH&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.$S=!0;for(const m of this.GJ)this.CQ(m);e.F(this.GJ);this.O&&this.O.R4();for(const m of c.runOnStartupFunctions)this.Ez.push(this.T$(m));
await Promise.all([this.ld.LO(),...this.Ez]);e.F(this.Ez);if(this.ld.DH)this.O&&this.O.LD();else return this.O&&await this.O.NY(),await this.Ub.YJ(new e.Event("beforeruntimestart")),await this.bu(),this.Tv.postMessage({type:"runtime-ready"}),this}async T$(c){try{await c(this.Yi)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}P8(c){c=c.project;this.pB=c[0];this.IT=c[16];this.SI=c[31];const g=c[39]||"loading-logo.png";this.Cl=!!c[9];this.Wg=this.mg=c[10];this.Vg=this.lg=
c[11];this.hB=this.Wg/2;this.iB=this.Vg/2;this.qr=c[36];this.uH=c[37];"low-latency"===this.qr&&this.K0()&&77>=e.Qc.MC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.qr="standard");this.$l=!!c[40];this.wd=c[14];this.QB=c[15];this.FJ=c[17];this.SB=!!c[18];this.Qr=c[19];this.Wv=c[21];this.FT=c[22];const m=this.ld;m.waa(c[7]);m.Kaa(c[32]);m.Paa(c[28]);
m.cba(c[29]);if(0===this.Qr){let q="";this.Bq()?m.IF(g)&&(q=m.YL(g)):q=m.JS+g;q&&(this.Rr=m.Ay({url:q}))}this.O&&(this.O.e4(e.RC.EP(c[12])),this.O.ZN(c[23]?"high":"low"),this.O.ME(0!==c[24]),this.O.Laa(c[34]),this.O.aba(c[41]),this.O.dba(c[13]));this.mn.uX();this.gB=self.UK();for(var h of c[2])this.mn.sX(h);this.gB=self.UK();this.X8();for(var l of c[3])h=e.jE.Qa(this,this.Tc.length,l),this.Tc.push(h),this.JI.set(h.Ca().toLowerCase(),h),this.KI.set(h.lb,h);for(const q of c[4])this.Tc[q[0]].T8(q);for(var n of c[27])l=
n.map(q=>this.Tc[q]),this.Nba.push(e.m(e.gX,this,l));for(const q of this.Tc)q.x9();for(const q of c[5])this.eb.Qa(q);(n=c[1])&&(n=this.eb.pq(n))&&this.eb.a4(n);for(var p of c[33])this.Eb.Qa(p);for(const q of c[35])this.sJ.Qa(q);this.w8();for(const q of c[6])this.za.Qa(q);this.za.Pb();this.s8();e.F(this.gB);this.Pd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.so("runtime","set-target-orientation",{targetOrientation:p})}dW(c){this.Ez.push(c)}W7(){return this.oS++}H5(c){this.wG.push(c)}async z8(c){this.O&&
(await this.O.jh(c),this.O.p0(this.Qr))}async n9(){if(!this.ld.L0()){var c=null;try{c=this.bT&&this.ld.Av?await this.ld.hL(this.CT):await this.ld.Ts(this.CT)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.aW(c):this.$V();await this.bW([this.Uca])}}async Hba(c){return await this.FC("OpusDecode",{arrayBuffer:c},[c])}async bu(){this.tA=!0;this.HB=Date.now();if(this.SB){for(var c of this.Tc)c.ab||c.bI||!c.pf||c.Ad();this.ld.LO().then(()=>
{this.ik=!1;this.GQ()})}else this.ik=!1;this.ld.h4();this.zb&&a.hla(d);for(const g of this.eb.Li)g.o6();c=this.eb.FZ();await c.LF(null,this.pb());await c.AR(!0);this.mp=performance.now();this.SB||this.GQ();(await this.to("runtime","before-start-ticking")).isSuspended?this.js++:this.He()}GQ(){this.Xa(e.C.Ga.N.h2,null,null);this.so("runtime","register-sw")}oh(c){c=Math.floor(c);const g=this.gB;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}X8(){for(const c of self.HW){const g=
e.first(Object.keys(c));this.dT.push(g)}}oi(c){c=Math.floor(c);const g=this.dT;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}jD(){return this.Sba}na(){return this.za}gd(){return this.za.gd()}Ye(){return this.za.Ye()}Nb(){return this.za.Nb()}Ff(){return this.za.Ff()}R0(){return 0===this.Ye().ql}et(){return this.za.et()}pt(){return this.mn.pt()}$e(c){c=Math.floor(c);if(0>c||c>=this.Tc.length)throw new RangeError("invalid index");return this.Tc[c]}Xx(c){return this.JI.get(c.toLowerCase())||
null}Yx(c){return this.KI.get(c)||null}*oda(){for(const c of this.Tc)c.ab||(yield*c.VU())}Wb(){return this.Ub}kh(c){c.Df=this.Yi;const g=this.zb&&!this.za.ry();g&&a.$E();this.Zd.dispatchEvent(c);g&&a.HC()}Xn(c){c.Df=this.Yi;return this.Zd.YJ(c)}o4(c,g){if(this.Wg!==c||this.Vg!==g)this.Wg=c,this.Vg=g,c=this.eb,c.Co(),c.Bo()}au(c,g){if(this.mg!==c||this.lg!==g)this.mg=c,this.lg=g,c=this.eb,c.Co(),c.Bo()}Caa(c){this.zr=c}vj(){return this.zr}xj(){return this.O?this.O.xj():this.mg}ki(){return this.O?this.O.ki():
this.lg}um(){return this.O?this.O.um():1}wj(){return this.O?this.O.wj():1}it(){return this.O?this.O.it():1}ht(){return this.O?this.O.ht():1}ct(){return this.O?this.O.ct():0}dt(){return this.O?this.O.dt():0}Sx(){return this.O?this.O.Sx():"off"}Ys(c){return this.O?this.O.Ys(c):null}wo(c){this.O&&this.O.wo(c)}Ux(){return this.O?this.O.Ux():NaN}bE(){return"nearest"!==this.wd}Y2(){this.Rr&&(this.Rr.A(),this.Rr=null)}Sb(){return this.eb.Sb()}Ay(c){return this.ld.Ay(c)}XC(c,g,m,h,l){return this.ji(c,g,!1,
m,h,!1,l,void 0,l)}ji(c,g,m,h,l,n,p,q,u){var w=null;let r=null;c instanceof e.jE?(r=c,r.ab&&(w=r.kp,r=w[Math.floor(this.Jq()*w.length)]),w=r.yr):(w=c,r=this.$e(w[1]));c=r.Db().pf;if(this.ik&&c&&!r.bI)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.rp.has(w[2])?w[2]:this.Wv++;const A=w?w[0]:null,G=e.m(e.Instance,{Df:this,rK:r,cV:g,NV:A,UU:w?w[3]:null,uid:y});this.rp.set(y,G);y=null;c&&(y=G.j(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Fg(h),y.yh(l)),r.eR());g&&(u||g.Ig(G,!0),1===g.tf&&
1===g.uf||r.cG(!0),g.ec().WM(r));this.LI++;let z=!0;q&&(q=q.H(),q.Xb()&&r.Xb()&&r.Ng===q.Ng&&(z=!1));if(r.Xb()&&!m&&!n&&z){for(var F of r.Ng.Nl)F!==r&&(q=this.ji(F,v,!1,y?y.qa():h,y?y.ra():l,!0,!1,void 0,u),G.Zq(q));for(var H of G.Dd){H.Zq(G);for(const J of G.Dd)H!==J&&H.Zq(J)}}c&&!m&&p&&this.nF(G,A,y,g,h,l,u);if(r.Xb()&&!m&&!n&&p)for(const J of G.Dd)if(m=J.j())F=J.Db(),H=J.H().yr[0],F.pf?this.nF(J,H,m,g,m.qa(),m.ra(),u):this.nF(J,H,m,g,void 0,void 0,u);!n&&p&&("undefined"===typeof h&&(h=A[0]),"undefined"===
typeof l&&(l=A[1]),g=y.fy(),h=h-y.qa()+g.qa(),l=l-y.ra()+g.ra(),g.Uf(h,l));r.yu();l=w?e.UJ(w[5]):null;w=w?w[4].map(J=>e.UJ(J)):null;c&&A&&A[13]&&G.Oaa();G.bz(l,w);this.Al.push(G);this.sA=!0;this.zb&&a.Bha(G);return G}nF(c,g,m,h,l,n,p){var q=m.l_(),u=m.dM();c.j().OE(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.eb.wD(A[0]).aa(w).NZ(r);w=this.$e(r[1]);var y=c.K_(w);const z=
q.has(w);y&&!z&&v?(v=c.jM(w),y=l+r[0][0]-m,r=n+r[0][1]-g,v.j().Uf(y,r),v.j().OE(G),c.km(v,{Ms:!!(u>>0&1),Ns:!!(u>>1&1),fq:!!(u>>2&1),eq:!!(u>>3&1),Ls:!!(u>>4&1),Jw:!!(u>>5&1),Os:!!(u>>6&1)}),q.add(w)):(w=this.ji(r,h,!1,l+r[0][0]-m,n+r[0][1]-g,!1,!0,c,p),w.j().OE(G),c.km(w,{Ms:!!(u>>0&1),Ns:!!(u>>1&1),fq:!!(u>>2&1),eq:!!(u>>3&1),Ls:!!(u>>4&1),Jw:!!(u>>5&1),Os:!!(u>>6&1)}))}}}Wn(c){if(!this.tp.has(c)){var g=c.H(),m=this.AA.get(g);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),this.AA.set(g,
m);this.zb&&a.Cha(c);c.PF();this.sA=!0;if(c.Xb())for(const h of c.Dd)this.Wn(h);for(const h of c.children())h.Ox()&&this.Wn(h);this.eb.FM()||this.jk||(g=this.na(),g.te(!0),c.sba(),g.te(!1));c.C7(this.eb.FM())}}Pd(){this.sA&&(this.E7(),this.F7(),this.sA=!1,this.ba())}E7(){for(const c of this.Al){const g=c.H();g.Ig(c);for(const m of g.Ih)m.Ig(c),m.yu()}e.F(this.Al)}F7(){this.Ub.Nq(!0);for(const [c,g]of this.AA.entries())this.G7(c,g),g.clear();this.AA.clear();this.Ub.Nq(!1)}G7(c,g){for(const h of g){var m=
this.jp.instancedestroy;m.instance=h;this.Ub.dispatchEvent(m);this.rp.delete(h.dd);if(m=h.j())m.QQ(),m.RQ(),m.PF();this.tp.add(h);this.LI--}e.ng(c.oa(),g);c.yu();this.BA.add(c);0===c.oa().length&&c.cG(!1);for(const h of c.Ih)e.ng(h.oa(),g),h.yu(),this.BA.add(h);if(c.Db().pf){c=new Set([...g].map(h=>h.j().aa()));for(const h of c)h.y$(g)}}*fK(c){for(const g of this.Al)c.ab?g.H().LC(c)&&(yield g):g.H()===c&&(yield g)}V7(){return this.Wv++}k9(c,g){this.rp.set(c,g)}vu(){this.Ub.dispatchEvent(e.m(e.Event,
"webglcontextlost"));this.$t(!0);for(var c of this.Tc)!c.ab&&c.I_()&&c.xo();(c=this.Sb())&&c.vu();e.my.Hq();e.yM.Hq()}async UF(){await this.Sb().LF(null,this.jo());this.Ub.dispatchEvent(e.m(e.Event,"webglcontextrestored"));this.$t(!1);this.ba()}d$(c){this.$t(c.hidden)}e$(c){this.Bq()&&this.FT&&!e.Qc.eE&&!c.data.parentHasFocus&&(this.$t(!0),this.cI=!0)}f$(){this.cI&&(this.$t(!1),this.cI=!1)}SQ(){const c=this.hda;"vsync"===this.uH?-1===this.oe&&(this.oe=self.requestAnimationFrame(c.hV)):"unlimited-tick"===
this.uH?(-1===this.Sl&&(this.Sl=e.vE(c.kfa)),-1===this.oe&&(this.oe=self.requestAnimationFrame(c.Uea))):-1===this.Sl&&(this.Sl=e.vE(c.hV))}b6(){-1!==this.oe&&(self.cancelAnimationFrame(this.oe),this.oe=-1);-1!==this.Sl&&(e.OW(this.Sl),this.Sl=-1)}Bm(){return 0<this.js}$t(c){var g=this.Bm();this.js+=c?1:-1;0>this.js&&(this.js=0);c=this.Bm();!g&&c?(console.log("[Construct 3] Suspending"),this.b6(),this.Ub.dispatchEvent(e.m(e.Event,"suspend")),this.Xa(e.C.Ga.N.r2,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.mp=this.XA=g=performance.now(),this.Gl=this.bB=this.nA=this.oA=0,this.Ub.dispatchEvent(e.m(e.Event,"resume")),this.Xa(e.C.Ga.N.o2,null,null),this.zt()||this.He(g))}E5(c){this.Rm.Oc(c)}A$(c){this.Rm.vh(c)}z$(c){this.Yo.vh(c)}B$(c){this.Zo.vh(c)}S5(){this.Rm.wh(!0);for(const c of this.Rm)c.He();this.Rm.wh(!1)}R5(){this.Yo.wh(!0);for(const c of this.Yo);this.Yo.wh(!1)}T5(){this.Zo.wh(!0);for(const c of this.Zo);this.Zo.wh(!1)}*y6(){this.Rm.wh(!0);for(const c of this.Rm){const g=c.He();e.zm(g)&&
(yield*g)}this.Rm.wh(!1)}*x6(){this.Yo.wh(!0);for(const c of this.Yo)e.zm(void 0)&&(yield*void 0);this.Yo.wh(!1)}*z6(){this.Zo.wh(!0);for(const c of this.Zo)e.zm(void 0)&&(yield*void 0);this.Zo.wh(!1)}async He(c,g,m){this.IS=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.tA&&(!this.Bm()||g||h)&&(g=performance.now(),this.JA=!0,this.q9(c||0),c=this.T4(),this.ke&&await c,c=this.Ub.Sda(this.jp.pretick),c instanceof Promise&&await c,c=this.S4(),this.ke&&await c,this.v9()&&
await this.l8(),this.eb.Aq()&&await this.m9(),c=this.U4(),this.ke&&await c,m&&this.zo(),this.Bm()||h||this.SQ(),this.sk++,this.Fr++,this.JA=!1,this.Gl+=performance.now()-g)}async T4(){const c=this.za,g=this.zb;this.Pd();c.te(!0);this.Jt(this.Sb());g&&a.Xq();this.ke?await c.AX():c.y3();g&&a.ZV();this.It();c.te(!1);this.Pd();c.te(!0)}async S4(){const c=this.zb,g=this.ke,m=this.Ub,h=this.jp,l=this.oU;c&&a.Xq();g?await this.Ax(this.y6()):this.S5();g?await this.Ax(this.x6()):this.R5();c&&a.UV();c&&a.Xq();
g?await this.nL(h.tick):m.dispatchEvent(h.tick);c&&a.eW();this.za.te(!1);this.kh(l.tick)}async U4(){const c=this.za,g=this.Ub,m=this.jp,h=this.zb,l=this.ke;h&&a.Xq();l?await c.yX(this.eb):c.w3(this.eb);h&&a.ZV();this.Um.$K();this.OQ();this.ZH=!1;c.te(!0);h&&a.Xq();l?await this.Ax(this.z6()):this.T5();h&&a.UV();h&&a.Xq();l?await this.nL(m.tick2):g.dispatchEvent(m.tick2);h&&a.eW();c.te(!1);l&&await c.IN()}OQ(){if(0!==this.tp.size){var c=this.Ub;c.Nq(!0);for(const g of this.BA)g.sn.yo(this.tp);this.BA.clear();
this.za.b3(this.tp);for(const g of this.tp)g.A();this.tp.clear();c.Nq(!1)}}async m9(){const c=this.eb;let g=0;for(;c.Aq()&&10>g++;)await this.qP(c.Zv)}q9(c){let g=0;0!==this.XA&&(g=Math.max(c-this.XA,0)/1E3,.5<g&&(g=0),this.gv=Math.min(g,1/this.xT));this.XA=c;this.dv=this.gv*this.Yd;this.yH.Oc(this.dv);this.zH.Oc(g*this.Yd);this.HJ.Oc(this.gv);this.O&&this.O.Cba();1E3<=c-this.mp&&(this.mp+=1E3,1E3<=c-this.mp&&(this.mp=c),this.nA=this.oA,this.oA=0,this.bB=Math.min(this.Gl/1E3,1),this.Gl=0,this.O&&
this.O.wba(),this.zb&&a.nna());this.oA++}async qP(c){const g=this.Ub,m=this.eb.Sb();await m.nba();m.vba(c,this.pb());m===c&&this.za.ox();this.Um.$K();this.OQ();g.dispatchEvent(this.jp.beforelayoutchange);e.Hk.$N(!0);await c.LF(m,this.pb());e.Hk.$N(!1);await c.AR(!1);g.dispatchEvent(this.jp.layoutchange);this.ba();this.ZH=!0;this.Pd()}ba(){this.GI=!0}jo(){return this.O?this.O.jo():null}xt(){return this.O?this.O.xt():null}pb(){return this.O?this.O.pb():null}zo(){const c=this.O;if(c&&!c.$0()){var g=
this.pb(),m=g.Tj(),h=m&&g.Zk();m=m&&!1;h&&g.QW();if(this.GI){var l=this.eb.Sb();g.bu();var n=this.zb;n&&a.Xq();this.GI=!1;var p=null;h&&(p=c.qA.IC(),g.aF(p));h=null;m&&(h=g.Fma(2*(1+l.Zb.length)),g.y5(0));this.$l&&"low"===c.Kh?g.b4(c.xj(),c.ki()):g.J3();this.H$(this.pb(),l);p&&g.cD(p);m&&(g.y5(1),this.O.Q5(h));g.Vs();n&&(a.Efa(),a.ona());c&&c.o9()}else g.d0()}}H$(c,g){c.Sj();c.QN();c.ef(1,1,1,1);c.Eg(null);c.Sf(null);c.Dg(this.$l);g.tg(c)}Xa(c,g,m){if(!this.tA)return!1;var h=!this.JA&&!this.za.aE();
let l=0;h&&(l=performance.now());const n=this.zb;n&&this.Ny(!1);c=this.za.Cu(this.eb,c,g,m);h&&(h=performance.now()-l,this.Gl+=h,n&&a.Hfa(h));n&&this.Ny(!0);return c}async Sc(c,g,m){if(!this.ke)return this.Xa(c,g,m);if(!this.tA)return!1;if(this.zt())return this.za.T2(c,g,m);if(!this.Sb())return this.za.rE(c,g,m);const h=performance.now();c=this.za.hu(this.eb,c,g,m);for(g=c.next();!g.done;)await this.lq(g.value),g=c.next();this.Bm()||this.za.aE()||(await this.za.IN(),this.IS&&!this.JA&&this.SQ());
this.Gl+=performance.now()-h;return g.value}Jt(c){this.Zu.push(c)}It(){if(!this.Zu.length)throw Error("layout stack empty");this.Zu.pop()}Wa(){return this.Zu.length?this.Zu.$d(-1):this.Sb()}Px(c){return c&&-1!==c.Yd?this.gv*c.Yd:this.dv}SE(c){if(isNaN(c)||0>c)c=0;this.Yd=c}kO(c){this.xT=e.ia(c,1,120)}$n(){return this.yH.Y()}JZ(){return this.zH.Y()}GD(){return this.HJ.Y()}Xk(){++this.Fr}yj(c){if(this.jk)throw Error("cannot call while loading state - wait until afterload event");return this.rp.get(c)||
null}MQ(){this.rp.clear();for(const c of this.Tc)if(!c.ab)for(const g of c.oa())this.rp.set(g.dd,g)}Bq(){return"preview"===this.Ui}Q0(){return"cordova"===this.Ui}K0(){return"Android"===e.Qc.Fq&&("cordova"===this.Ui||"playable-ad"===this.Ui||"instant-games"===this.Ui)}DD(){return this.mn.DD()}r4(c){c=!!c;this.Cl!==c&&(this.Cl=c,this.eb.Bo(),this.ba())}C3(c){this.cw=c}r1(c){this.Ov=c}iE(c){this.Pr=c}v9(){return!(!this.cw&&!this.Ov&&null===this.Pr)}async l8(){this.cw&&(this.Pd(),await this.b7(this.cw),
this.lF());this.Ov&&(await this.a7(this.Ov),this.lF(),this.zb&&a.Hma());if(null!==this.Pr){this.Pd();try{await this.rP(this.Pr),this.Dp=this.Pr,await this.Sc(e.C.Ga.N.gN,null),this.Dp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Sc(e.C.Ga.N.hN,null)}this.lF()}}lF(){this.Ov=this.cw="";this.Pr=null}a8(){this.RI||(this.RI=localforage.VJ({name:"c3-localstorage-"+this.SI,description:this.pB}));return this.RI}TP(){this.ZI||(this.ZI=localforage.VJ({name:"c3-savegames-"+
this.SI,description:this.pB}));return this.ZI}async b7(c){const g=await this.maa();try{await this.TP().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Dp=g,await this.Sc(e.C.Ga.N.p2,null),this.Dp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Sc(e.C.Ga.N.q2,null)}}async a7(c){try{const g=await this.TP().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");
await this.rP(g);this.Dp=g;await this.Sc(e.C.Ga.N.gN,null);this.Dp=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.Sc(e.C.Ga.N.hN,null)}}async maa(){const c={c3save:!0,version:1,rt:{time:this.$n(),timeRaw:this.JZ(),walltime:this.GD(),timescale:this.Yd,tickcount:this.sk,execcount:this.Fr,next_uid:this.Wv,running_layout:this.Sb().lb,start_time_offset:Date.now()-this.HB},types:{},layouts:{},events:this.za.ka(),timelines:this.Eb.ka(),user_script_data:null};
for(var g of this.Tc)g.ab||g.tM()||(c.types[g.lb.toString()]=g.ka());for(const m of this.eb.Li)c.layouts[m.lb.toString()]=m.ka();g=this.qF("save");g.saveData=null;await this.Xn(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async rP(c){var g=this.eb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Ub.dispatchEvent(e.m(e.Event,"beforeload"));
for(var m of this.oda())m.mz();this.jk=!0;m=c.rt;this.yH.Set(m.time);m.hasOwnProperty("timeRaw")&&this.zH.Set(m.timeRaw);this.HJ.Set(m.walltime);this.Yd=m.timescale;this.sk=m.tickcount;this.Fr=m.execcount;this.HB=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Sb().lb)if(h=g.wD(h))await this.qP(h);else return;for(const [l,n]of Object.entries(c.types))h=this.Yx(parseInt(l,10)),!h||h.ab||h.tM()||h.ta(n);this.Pd();this.MQ();this.jk=!1;this.Wv=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=
g.wD(parseInt(l,10)))&&m.ta(n);this.za.ta(c.events);for(const l of this.Tc)if(!l.ab&&l.Xb())for(const n of l.oa()){m=n.ao();for(const p of l.Ng.Nl)if(p!==l){h=p.oa();if(0>m||m>=h.length)throw Error("missing sibling instance");n.Zq(h[m])}}this.Eb.ta(c.timelines);g.Co();g.Bo();this.Ub.dispatchEvent(e.m(e.Event,"afterload"));g=this.qF("load");g.saveData=c.user_script_data;await this.Xn(g);this.ba()}async bW(c){c=(await Promise.all(c.map(g=>this.ld.Lk(g)))).map(g=>URL.createObjectURL(g));this.Iv.c0(c)}$V(){this.Iv.F3()}aW(c){this.Iv.G3(c)}FC(c,
g,m){return this.Iv.FC(c,g,m)}RD(c,g){this.so("runtime","invoke-download",{url:c,filename:g})}async U2(c){var g=g||2048;var m=m||2048;return this.le?(await this.to("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}Jq(){return this.Zca()}b8(){const c=this.jo();return{fps:this.nA,cpu:this.bB,gpu:this.Ux(),layout:this.Sb()?this.Sb().Ca():"",renderer:c?c.Aw:"<unavailable>"}}zt(){return this.zb?
a.zt():!1}lq(c){return this.ke?a.lq(c):Promise.resolve()}tc(){return this.ke?a.Yfa():!1}Ny(c){c?this.cH--:this.cH++;this.yba()}yba(){this.ke=this.zb&&this.Zba&&0===this.cH}TD(){return this.zb&&a.TD()}YD(){return this.zb&&this.pb().Tj()&&a.YD()}async Ax(c){if(c)for(const g of c)await this.lq(g)}nL(c){return this.Ax(this.Ub.Tda(c))}lz(c){return this.za.lz(c.name,c.params)}qF(c){c=e.m(e.Event,c,!1);c.Df=this.Yi;return c}w8(){var c={};for(const g of this.Tc)c[g.oi()]={value:g.tv,enumerable:!0,writable:!1};
c=Object.create(Object.prototype,c);this.Yi=new self.W_(this,c);this.oU={tick:this.qF("tick")}}s8(){const c={};for(const g of this.na().xG)c[g.oi()]=g.UP();this.Yi.t8(c)}qQ(c,g){this.vca.set(c,g)}};self.C3_CreateRuntime=e.JN.Qa;self.C3_InitRuntime=(c,g)=>c.xq(g)}
{"use strict";const e=self.B;e.h1=class extends e.ja{constructor(a,b){super();this.g=a;this.Ap=new Map;this.Sca=0;this.wv=b.inputPort;b.outputPort.onmessage=d=>this.FQ(d);this.qT=b.maxNumWorkers;this.Jv=1;this.BS=this.zv=!1}async xq(){}c0(a){this.wv.postMessage({type:"_import_scripts",scripts:a})}F3(){this.wv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}G3(a){this.wv.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}FC(a,b,d){d||(d=[]);const c=this.Sca++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:d};b=new Promise((g,m)=>{this.Ap.set(c,{resolve:g,progress:void 0,reject:m,TJ:!1})});this.wv.postMessage(a,d);this.rQ();return b}FQ(a){a=a.data;const b=a.type,d=a.jobId;switch(b){case "result":this.Q9(d,a.result);break;case "progress":this.P9(d,a.progress);break;case "error":this.O9(d,a.error);break;case "ready":this.R9();break;default:throw Error(`unknown message from worker '${b}'`);}}Q9(a,b){const d=this.Ap.get(a);if(!d)throw Error("invalid job ID");
d.TJ||d.resolve(b);this.Ap.delete(a)}P9(a,b){a=this.Ap.get(a);if(!a)throw Error("invalid job ID");!a.TJ&&a.progress&&a.progress(b)}O9(a,b){const d=this.Ap.get(a);if(!d)throw Error("invalid job ID");d.TJ||d.reject(b);this.Ap.delete(a)}R9(){this.zv&&(this.zv=!1,this.Jv++,this.Jv<this.qT?this.rQ():this.wv.postMessage({type:"_no_more_workers"}))}async rQ(){if(!(this.Jv>=this.qT||this.zv||this.BS||this.Ap.size<=this.Jv))try{this.zv=!0,(await this.g.to("runtime","create-job-worker")).outputPort.onmessage=
a=>this.FQ(a)}catch(a){this.BS=!0,this.zv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Jv} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.hsladjust={eea:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",xfa:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n[[block]] struct ShaderParams {\nhuerotate : f32;\nsatadjust : f32;\nlumadjust : f32;\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n[[stage(fragment)]]\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",
Ada:!1,vfa:!1,Vda:0,Wda:0,Jda:!1,Fea:!1,Nea:!0,vda:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]};
{"use strict";const e=self.B;let a=null,b="",d="",c=[],g="",m="",h="";const l=e.m(e.rW);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.C.Ga=class extends e.Ot{constructor(p){super(p);this.rf=this.g.na().rf;this.Id=this.g.na().gd();this.uv=this.pp=0;this.vS=new Map}A(){super.A()}ba(){this.g.ba()}Xa(p){this.g.Xa(p,null,null)}by(p,q){a&&p===b&&q===d||(a=new RegExp(p,q),b=p,d=q);a.lastIndex=0;return a}cM(p,q,u){if(p===g&&q===
m&&u===h)return c;const w=this.by(q,u);c=p.match(w);g=p;m=q;h=u;return c}async NF(p,q){if(q.length){this.pp+=q.length;var u=[];for(const w of q)u.push(p.WM(w));await e.L2(u,()=>{this.uv++});this.uv++;this.uv===this.pp&&(this.g.Xa(e.C.Ga.N.f2,null,null),this.pp=this.uv=0)}}DR(p,q){for(const u of q)0===u.G.length&&p.C1(u)}MP(){return l}J$(p){var q=this.g.na();const u=q.gd(),w=u.Ze(),r=w.Nb(),v=r.yd();var y=w.Kj();const A=u.Ra(r),G=q.rf,z=G.Ra();if(y)for(y=0;y<p&&!z.xc;++y)q.De(v),z.Fc(y),r.Bg(w,A),
q.Ob(v);else for(q=0;q<p&&!z.xc;++q)z.Fc(q),r.Bg(w,A);u.Na();G.Na();return!1}*F6(p){var q=this.g.na();const u=q.gd(),w=u.Ze(),r=w.Nb(),v=r.yd();var y=w.Kj();const A=u.Ra(r),G=q.rf,z=G.Ra();if(y)for(y=0;y<p&&!z.xc;++y)q.De(v),z.Fc(y),yield*r.rg(w,A),q.Ob(v);else for(q=0;q<p&&!z.xc;++q)z.Fc(q),yield*r.rg(w,A);u.Na();G.Na();return!1}Iba(){var p=this.g.na();const q=p.gd(),u=q.Ze(),w=u.Nb(),r=w.yd();var v=u.Kj();const y=q.Ra(w),A=p.rf,G=A.Ra();if(v)for(v=0;!G.xc;++v)p.De(r),G.Fc(v),w.Bg(u,y)||G.Ge(),p.Ob(r);
else for(p=0;!G.xc;++p)G.Fc(p),w.Bg(u,y)||G.Ge();q.Na();A.Na();return!1}*Y6(){var p=this.g.na();const q=p.gd(),u=q.Ze(),w=u.Nb(),r=w.yd();var v=u.Kj();const y=q.Ra(w),A=p.rf,G=A.Ra();if(v)for(v=0;!G.xc;++v)p.De(r),G.Fc(v),(yield*w.rg(u,y))||G.Ge(),p.Ob(r);else for(p=0;!G.xc;++p)G.Fc(p),(yield*w.rg(u,y))||G.Ge();q.Na();A.Na();return!1}H7(p,q,u){var w=this.g.na();const r=w.gd(),v=r.Ze(),y=v.Nb(),A=y.yd(),G=v.Kj(),z=r.Ra(y),F=w.rf,H=F.Ra();H.Ry(p);if(u<q)if(G)for(p=q;p>=u&&!H.xc;--p)w.De(A),H.Fc(p),
y.Bg(v,z),w.Ob(A);else for(w=q;w>=u&&!H.xc;--w)H.Fc(w),y.Bg(v,z);else if(G)for(p=q;p<=u&&!H.xc;++p)w.De(A),H.Fc(p),y.Bg(v,z),w.Ob(A);else for(w=q;w<=u&&!H.xc;++w)H.Fc(w),y.Bg(v,z);r.Na();F.Na();return!1}*C6(p,q,u){var w=this.g.na();const r=w.gd(),v=r.Ze(),y=v.Nb(),A=y.yd(),G=v.Kj(),z=r.Ra(y),F=w.rf,H=F.Ra();H.Ry(p);if(u<q)if(G)for(p=q;p>=u&&!H.xc;--p)w.De(A),H.Fc(p),yield*y.rg(v,z),w.Ob(A);else for(w=q;w>=u&&!H.xc;--w)H.Fc(w),yield*y.rg(v,z);else if(G)for(p=q;p<=u&&!H.xc;++p)w.De(A),H.Fc(p),yield*y.rg(v,
z),w.Ob(A);else for(w=q;w<=u&&!H.xc;++w)H.Fc(w),yield*y.rg(v,z);r.Na();F.Na();return!1}I7(p){var q=this.g.na();const u=q.gd(),w=u.Ze(),r=w.Nb(),v=r.yd();var y=w.Kj();const A=u.Ra(r),G=q.rf,z=G.Ra(),F=p.Xb(),H=p.S(),J=l.Ra();e.Nc(J,H.oa());if(y)for(let M=0,P=J.length;M<P&&!z.xc;++M)q.De(v),y=J[M],p.S().Rj(y),F&&y.Ei(),z.Fc(M),r.Bg(w,A),q.Ob(v);else{H.Le(!1);p=H.G;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.xc;++M)q=J[M],p[0]=q,F&&q.Ei(),z.Fc(M),r.Bg(w,A)}u.Na();G.Na();e.F(J);l.Na();return!1}*D6(p){var q=
this.g.na();const u=q.gd(),w=u.Ze(),r=w.Nb(),v=r.yd();var y=w.Kj();const A=u.Ra(r),G=q.rf,z=G.Ra(),F=p.Xb(),H=p.S(),J=l.Ra();e.Nc(J,H.oa());if(y)for(let M=0,P=J.length;M<P&&!z.xc;++M)q.De(v),y=J[M],p.S().Rj(y),F&&y.Ei(),z.Fc(M),yield*r.rg(w,A),q.Ob(v);else{H.Le(!1);p=H.G;e.F(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.xc;++M)q=J[M],p[0]=q,F&&q.Ei(),z.Fc(M),yield*r.rg(w,A)}u.Na();G.Na();e.F(J);l.Na();return!1}J7(p,q){var u=this.g.na();const w=u.gd(),r=u.Ff(),v=w.Ze(),y=v.Nb(),A=y.yd(),G=v.Kj(),
z=w.Ra(y),F=u.rf,H=F.Ra(),J=p.Xb(),M=p.S(),P=l.Ra();e.F(P);const R=M.oa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Lt(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u.De(A),q=P[T][0],p.S().Rj(q),J&&q.Ei(),H.Fc(T),y.Bg(v,z),u.Ob(A);else{M.Le(!1);p=M.G;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u=P[T][0],p[0]=u,J&&u.Ei(),H.Fc(T),y.Bg(v,z)}w.Na();F.Na();e.F(P);l.Na();return!1}*E6(p,q){var u=this.g.na();const w=u.gd(),r=u.Ff(),v=w.Ze(),y=v.Nb(),A=y.yd(),
G=v.Kj(),z=w.Ra(y),F=u.rf,H=F.Ra(),J=p.Xb(),M=p.S(),P=l.Ra();e.F(P);const R=M.oa();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Lt(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u.De(A),q=P[T][0],p.S().Rj(q),J&&q.Ei(),H.Fc(T),yield*y.rg(v,z),u.Ob(A);else{M.Le(!1);p=M.G;e.F(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.xc;++T)u=P[T][0],p[0]=u,J&&u.Ei(),H.Fc(T),yield*y.rg(v,z)}w.Na();F.Na();e.F(P);l.Na();return!1}hz(p,q){let u=this.vS.get(p);if(u)return u;if(!q)return null;
u={Jn:null,xC:new Map};this.vS.set(p,u);return u}Z6(p,q,u,w,r){q.xe().v3(u);w&&p.Ob(r)}*A6(p,q,u,w,r){yield*q.xe().xX(u);w&&p.Ob(r)}}}{"use strict";const e=self.B;e.C.Ga.Im=class extends e.ja{constructor(a){super();this.K=a;this.g=a.I();this.Sh=a.Db()}Ad(){}A(){this.Sh=this.g=this.K=null}}}{"use strict";const e=self.B;e.C.Ga.Instance=class extends e.ja{constructor(a){super();this.Z=a;this.K=this.Z.H();this.Mc=this.K.Mc;this.g=this.Z.I()}A(){this.g=this.Mc=this.K=this.Z=null}}}
{"use strict";const e=self.B,a=[];e.C.Ga.N={Rga(){return!0},fN(){return!0},g2(){return!0},r2(){return!0},o2(){return!0},Bm(){return this.g.Bm()},vL(){const b=this.g.Ye();return b.kH?!1:!b.Bp},fna(){const b=this.g.Ff().ri();let d=b.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.sk;b.set("TriggerOnce_lastTick",c);return this.g.ZH||d!==c-1},Qga(b){const d=this.g.Ff().ri(),c=d.get("Every_lastTime")||0,g=this.g.$n();d.has("Every_seconds")||d.set("Every_seconds",
b);const m=d.get("Every_seconds");if(g>=c+m)return d.set("Every_lastTime",c+m),g>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",g),d.set("Every_seconds",b),!0;g<c-.1&&d.set("Every_lastTime",g);return!1},Ct(b){return(b=this.g.na().ML(b))&&b.Ct()},Bq(){return this.g.Bq()},eE(){return e.Qc.eE},h2(){return!0},W1(){return!0},Lga(){return!0},p2(){return!0},q2(){return!0},gN(){return!0},hN(){return!0},eja(b){return!!this.g.yj(b)},eia(b){switch(b){case 0:return"browser"===e.Qc.VC;case 1:return"iOS"===
e.Qc.Fq;case 2:return"Android"===e.Qc.Fq;case 8:return"cordova"===e.Qc.VC;case 9:return"scirra-arcade"===this.g.Ui;case 10:return"nwjs"===e.Qc.VC;case 13:return"windows-uwp"===this.g.Ui;default:return!1}},gka(b,d,c){return this.by(d,c).test(b)},$W(b,d,c){return e.compare(b,d,c)},iga(b,d,c){return b>=d&&b<=c},dX(b,d,c){return e.compare(b.M(),d,c)},aX(b){return!!b.M()},oga(b,d){const c=this.g.$n();return 0===b?(b=this.g.Ff().ri(),!b.get("CompareTime_executed")&&c>=d?(b.set("CompareTime_executed",!0),
!0):!1):e.compare(c,b,d)},bia(b){return isNaN(b)},kW(b,d,c){return e.cq(e.rb(b),e.rb(c))<=e.rb(d)},O0(b,d){return e.yf(e.rb(b),e.rb(d))},N0(b,d,c){b=e.rb(b);d=e.rb(d);c=e.rb(c);return e.yf(c,d)?e.yf(b,d)&&!e.yf(b,c):!(!e.yf(b,d)&&e.yf(b,c))},nia(b,d){return"number"===typeof b?0===d:1===d},Pga(b){return!!b},Dja(b,d,c,g){if(!b)return!1;const m=this.MP(),h=m.Ra(),l=b.S();e.Nc(h,l.oa());l.dc&&e.F(l.wc);const n=this.g.Ff();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;d=n.Lt(1,q);g=n.Lt(3,
q);e.compare(d,c,g)?++p:l.Qo(w)}e.We(h,p);l.Ly(h);d=!!h.length;e.F(h);m.Na();b.yc();return d},Eja(b,d){if(!b)return!1;const c=this.MP(),g=c.Ra(),m=b.S();e.Nc(g,m.oa());m.dc&&e.F(m.wc);const h=this.g.Ff();let l=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[l]=q;(d=h.Lt(1,n))?++l:m.Qo(q)}e.We(g,l);m.Ly(g);d=!!g.length;e.F(g);c.Na();b.yc();return d},Ija(b,d){if(!b)return!1;const c=b.S(),g=c.oa();d=Math.floor(d);if(d>=g.length)return!1;c.Cm(g[d]);b.yc();return!0},Mja(b){if(!b)return!1;const d=b.S(),
c=d.oa(),g=Math.floor(this.g.Jq()*c.length);if(g>=c.length)return!1;d.Cm(c[g]);b.yc();return!0},y2(b){if(!b||!b.G.length)return!1;b.S().Le(!0);b.yc();return!0},Kja(b,d,c){if(!b)return!1;const g=b.S();var m=g.oa();const h=this.g.Nb().Td,l=this.g.Ff().aj;g.dc?(e.Nc(a,m),g.qx(),g.Le(!1)):h?(e.Nc(a,g.wc),e.F(g.wc)):(e.Nc(a,g.G),e.F(g.G));for(let n=0,p=a.length;n<p;++n)m=a[n],e.xor(m.j().UC(d,c),l)?g.wu(m):g.Qo(m);b.yc();return e.xor(!!g.G.length,l)},Hja(b){if(!b)return!1;var d=b.ab;let c=null;const g=
this.g.Al;for(let m=g.length-1;0<=m;--m){const h=g[m];if(d){if(h.H().LC(b)){c=h;break}}else if(h.H()===b){c=h;break}}c||(d=b.oa(),d.length&&(c=d.$d(-1)));if(!c)return!1;b.S().Cm(c);b.yc();return!0},kka(b){return this.g.ke?this.F6(b):this.J$(b)},Ena(){return this.g.ke?this.Y6():this.Iba()},cZ(b,d,c){return this.g.ke?this.C6(b,d,c):this.H7(b,d,c)},CL(b){return this.g.ke?this.D6(b):this.I7(b)},dZ(b,d,c){return this.g.ke?this.E6(b,c):this.J7(b,c)},via(b){return b?b.zc():!1},sia(b){return b?!b.G.length:
!1},ria(b,d,c){return b?e.compare(100*b.Ae(),d,c):!1},f2(){return!0},Yha(){return 0<this.pp}}}
{"use strict";const e=self.B;function a(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const d=[],c=[],g=e.m(e.Rect),m=e.m(e.fb);e.C.Ga.sb={I4(h,l){h.Fe(l)},iW(h,l){h.Am()&&"number"!==typeof l&&(l=parseFloat(l));h.Fe(h.M()+l)},Uma(h,l){h.Am()&&h.Fe(h.M()-l)},N3(h,l){h.Fe(!!l)},bna(h){h.Fe(!h.M())},Yka(){this.g.na().l3()},kL(h,l,n,p,q){h&&l&&(n=this.g.XC(h,l,n,p,q))&&(q&&l.XE(n),l=this.g.na(),l.te(!0),n.Az(),l.te(!1),h.S().Rj(n),n.Xb()&&n.Ei())},Aga(h,l,n,p,q){h&&
l&&(h=this.g.Xx(h))&&e.C.Ga.sb.kL.call(this,h,l,n,p,q)},Kt(h,l,n,p,q,u,w,r,v,y){if(h){var A=this.g.Wa();if(u&&(A=this.g.eb.pq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.aa(w),!u)return;g.set(l,n,p,q);l=A.Kt(h,g,u,r,v,y);h.S().Ly(l);h.yc()}},Jma(){const h=this.rf;h.HM()&&h.nq().Ge()},Pq(h,l){(h=this.g.na().ML(h))&&(0===l?h.Pq(!1):1===l?h.Pq(!0):h.Pq(!h.Ct()))},tma(h){this.g.SE(h)},lma(h,l){0>l&&(l=0);if(h){h=h.S().oa();for(const n of h)n.SE(l)}},bla(h){if(h){h=h.S().oa();for(const l of h)l.s3()}},
hF(h){if(!(0>h))return this.g.na().GC().F0(h),!0},vna(h){this.g.na().GC().D0(h);return!0},una(){const h=this.g.na();h.GC().r0(h.i_());return!0},zma(h){h=h.toLowerCase();for(const l of this.g.na().gg)l.c1()&&l.hw===h&&l.PE()},async xO(h,l,n,p,q,u){const w=this.g.O;w&&(this.ba(),await w.xO(0===h?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.Sc(e.C.Ga.N.W1,null))},O3(h,l){if(!(0>=h||0>=l)){this.g.au(h,l);var n=this.g.Wa();n.jx();for(const p of n.Zb)p.gF();if(n=this.g.O)"off"!==n.ft()&&this.g.o4(h,
l),n.ud(n.yk,n.xk,!0),this.g.ba()}},Jla(h){const l=this.g.O;l&&"off"!==l.ft()&&(l.ZN(0!==h?"high":"low"),l.ud(l.yk,l.xk,!0))},Ao(h){this.g.C3(h)},Aia(h){this.g.r1(h)},Bia(h){this.g.iE(h)},Lla(){},Zka(){for(const h of this.g.eb.Li)h.q3()},mma(h){this.g.r4(0!==h)},kO(h){this.g.kO(h)},Bma(h,l){if(h){var n=h.S().oa(),p=this.g.Wa(),q=h.ab;h=h.Wi;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.j();if(!v)continue;let y;y=q?u.ye(l+u.H().PL(h)):u.ye(l);d.push([v.aa().Ha(),v.th()]);c.push([u,y])}if(d.length){d.sort(a);
c.sort(b);l=!1;for(let w=0,r=d.length;w<r;++w)n=c[w][0],q=p.vD(d[w][0]),h=d[w][1],u=q.G,u[h]!==n&&(u[h]=n,n.j().zu(q),q.Gg(),l=!0);l&&this.g.ba();e.F(d);e.F(c)}}},kha(h){if(!this.g.ik){var l=this.g.eb;l.Aq()||l.nx(h)}},lha(h){if(!this.g.ik){var l=this.g.eb;l.Aq()||(h=l.pq(h))&&l.nx(h)}},Zia(h){if(!this.g.ik){var l=this.g.eb;if(!l.Aq()){var n=l.Li,p=n.indexOf(l.Sb());h&&0===p||(h||p!==n.length-1)&&l.nx(n[p+(h?-1:1)])}}},$ka(){if(!this.g.ik){var h=this.g.eb;h.Aq()||(h.nx(h.Sb()),this.g.na().m3())}},
Zla(h,l){h&&h.Tf(l)},Tla(h,l){h&&h.cl(l/100)},Vla(h,l){h&&h.mO(l)},Wla(h,l){h&&h.t4(l)},Nla(h,l){h&&h.kd(e.rb(+l))},Xla(h,l,n){h&&(h.Wt(!0),h.Ci(l),h.Di(n))},ala(h){h&&h.Wt(!1)},Ula(h,l,n){h&&h.p4(l/100,n/100)},$la(h,l){h&&h.ff(+l)},Ola(h,l){h&&(m.Js(l),m.ia(),h=h.ol,h.em(m)||(h.kj(m),this.ba()))},Yla(h,l){h&&h.E4(l)},Pla(h,l){h&&h.Qf(l)},Qla(h,l,n){h&&(n=h.Oa.Ok(n))&&(l=1===l,n.Kb!==l&&(n.Ky(l),h.Ah(),this.g.ba()))},Rla(h,l,n,p){if(h&&(h=h.Oa,l=h.Ok(l))&&(h=h.Nk(l.Ha()),n=Math.floor(n),!(0>n||n>=
h.length))){var q=l.Kf().Zx(n);if("color"===q){m.Js(p);n=h[n];if(m.em(n))return;n.kj(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}l.Kb&&this.g.ba()}},Sla(h,l){h&&h.d4(l)},ema(h){this.g.Wa().NE(+h)},ama(h){this.g.Wa().kd(e.rb(+h))},bma(h,l){const n=this.g.Wa();if(l=n.Oa.Ok(l))h=1===h,l.Kb!==h&&(l.Ky(h),n.Ah(),this.g.ba())},cma(h,l,n){var p=this.g.Wa().Oa;if(h=p.Ok(h))if(p=p.Nk(h.Ha()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Kf().Zx(l);if("color"===q){m.Js(n);l=p[l];if(m.em(l))return;
l.kj(m)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}h.Kb&&this.g.ba()}},fma(h,l){this.g.Wa().H4(h/100,l/100)},dma(h){const l=this.g.Wa();0===h?l.oO():l.lO()},ola(h){this.g.Wa().Ci(h)},pla(h){this.g.Wa().Di(h)},E3(h,l){const n=this.g.Wa();n.Ci(h);n.Di(l)},nla(h){if(h&&(h=h.RL())&&(h=h.j())){var l=this.g.Wa();l.Ci(h.qa());l.Di(h.ra())}},async t1(h){const l=this.g.Sb();l&&h&&!this.g.ik&&await this.NF(l,h.ab?h.kp:[h])},async zia(h){await e.C.Ga.sb.t1.call(this,this.g.Xx(h))},f5(h){const l=
this.g.Sb();l&&h&&this.DR(l,h.ab?h.kp:[h])},kna(h){e.C.Ga.sb.f5.call(this,this.g.Xx(h))},lna(){const h=this.g.Sb();if(h){var l=h.i8();this.DR(h,l)}},async xia(h){const l=this.g.Sb();h&&l&&!this.g.ik&&await this.NF(l,h.NP())},async yia(h){const l=this.g.Sb();(h=this.g.eb.pq(h))&&l&&!this.g.ik&&await this.NF(l,h.NP())},Ut(h){const l=this.Id.rZ();if(l)switch(l.wS){case 1:"number"===typeof h&&l.Ut(h);break;case 2:"string"===typeof h&&l.Ut(h);break;case 3:l.Ut(h)}},Gia(h,l,n){var p=this.hz(h.toLowerCase(),
!0);const q=p.xC,u=l.toLowerCase();q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=e.first(q.values())||p.Jn)&&0!==p.Ql!==(0!==n.Ql)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Hia(h,l){const n=this.hz(h.toLowerCase(),!0);n.Jn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
e.first(n.xC.values())||n.Jn;p&&0!==p.Ql!==(0!==l.Ql)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.Jn=l},$fa(h,l,n){n=Math.floor(n);var p=this.hz(h.toLowerCase(),!1);if(p){var q=p.xC.get(l.toLowerCase());if(!q)if(p.Jn)q=p.Jn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.yg())if(0!==
q.Ql)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.na();var u=l.Nb();p=u.zd();var w=0<p.length;w&&l.zg(p);var r=[];if(u=l.eD(u)){u=u.Rg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].M())}n=q.Rg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].qp);return h.ke?this.A6(l,q,r,w,p):this.Z6(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.C.Ga.gb={ipa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Aoa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},im(a){return a.toString()},Fs(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Jq()*a:this.g.Jq()*(b-a)+a},Dda(...a){return a[Math.floor(this.g.Jq()*a.length)]},fqa(){return Math.PI},gpa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Eqa(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(e.rb(a))},cos(a){return Math.cos(e.rb(a))},tan(a){return Math.tan(e.rb(a))},asin(a){return e.hh(Math.asin(a))},acos(a){return e.hh(Math.acos(a))},atan(a){return e.hh(Math.atan(a))},exp(a){return Math.exp(a)},yea(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let g=a[d];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let g=a[d];"number"===typeof g&&b>g&&(b=g)}return b},ia(a,b,d){return e.ia(a,b,d)},Kw(a,b,d,c){return e.fC(a,b,d,c)},angle(a,b,d,c){return e.hh(e.$B(a,b,d,c))},ae(a,b,d){return e.ae(a,b,d)},yC(a,b,d){return e.yC(a,b,d)},sC(a,b,d,c){return e.sC(a,b,d,c)},KU(a,b,d,c,g){return e.KU(a,
b,d,c,g)},JU(a,b,d){return e.JU(a,b,d)},Una(a,b){return e.hh(e.cq(e.rb(a),e.rb(b)))},Vna(a,b,d){return e.hh(e.NJ(e.rb(a),e.rb(b),d))},Wna(a,b,d){return e.hh(e.ZB(e.rb(a),e.rb(b),e.rb(d)))},Qqa(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},dra(a,b){return(a|0)^1<<(b|0)},Zoa(a,b){return(a|0)&1<<(b|0)?1:0},Rpa(){return"\n"},lra(a){return"string"===typeof a?a.toUpperCase():""},Ipa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==
typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},nfa(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},ofa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(e.Ss(b),"i")):-1},zoa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(e.Ss(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(e.Ss(b),"gi"),d):"string"===typeof a?a:""},pqa(a,b,d){b=this.by(b,d);return a?a.search(b):-1},oqa(a,b,d,c){b=this.by(b,d);return a?a.replace(b,c):""},nqa(a,b,d){return(a=this.cM(a.toString(),b,d))?a.length:0},mqa(a,b,d,c){c=Math.floor(c);a=this.cM(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},Ara(a,b){let d=0>a?"-":"";0>a&&(a=-a);
d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},nra(a){return encodeURIComponent(a)},mra(a){return decodeURIComponent(a)},OU(){return this.g.dv},bra(){return this.g.Yd},wra(){return(Date.now()-this.g.HB)/1E3},jra(){return Date.now()},time(){return this.g.$n()},ara(){return this.g.sk},Wpa(){return this.g.LI},Doa(){return this.g.nA},moa(){return this.g.bB},$oa(){return this.g.Ux()},yra(){return this.g.O.Fh},xra(){return this.g.O.Eh},$pa(){return this.g.Wg},Zpa(){return this.g.Vg},
Ypa(){return this.g.Wg},Xpa(){return this.g.Vg},Hqa(){return this.g.Wa().If()},Iqa(){return this.g.Wa().Jf()},Epa(){return this.g.Wa().Ca()},Fpa(){return this.g.Wa().Vd},Cpa(){return e.hh(this.g.Wa().Ta())},vea(){return this.g.Wa().fa()},Dpa(){return this.g.Wa().ea()},sra(a){return(a=this.g.Wa().aa(a))?a.Fn.W:0},ura(a){return(a=this.g.Wa().aa(a))?a.Fn.R:0},tra(a){return(a=this.g.Wa().aa(a))?a.Fn.la:0},qra(a){return(a=this.g.Wa().aa(a))?a.Fn.da:0},vra(a){return(a=this.g.Wa().aa(a))?a.Fn.width():0},
rra(a){return(a=this.g.Wa().aa(a))?a.Fn.height():0},goa(a,b,d){return(a=this.g.Wa().aa(a))?a.Ik(b,d)[0]:0},hoa(a,b,d){return(a=this.g.Wa().aa(a))?a.Ik(b,d)[1]:0},zpa(a,b,d){return(a=this.g.Wa().aa(a))?a.ro(b,d)[0]:0},Apa(a,b,d){return(a=this.g.Wa().aa(a))?a.ro(b,d)[1]:0},vpa(a){return(a=this.g.Wa().aa(a))?a.Vd:0},qpa(a){return(a=this.g.Wa().aa(a))?e.hh(a.Yf):0},spa(a){return(a=this.g.Wa().aa(a))?100*a.Ae():0},wpa(a){return(a=this.g.Wa().aa(a))?a.qn:0},xpa(a){return(a=this.g.Wa().aa(a))?a.If():0},
ypa(a){return(a=this.g.Wa().aa(a))?a.Jf():0},tpa(a){return(a=this.g.Wa().aa(a))?100*a.tf:0},upa(a){return(a=this.g.Wa().aa(a))?100*a.uf:0},Bpa(a){return(a=this.g.Wa().aa(a))?a.hb():0},rpa(a){return(a=this.g.Wa().aa(a))?a.Ha():-1},foa(){const a=this.g.O;return a?a.dJ:""},Aea(a){const b=this.rf;return b.HM()?a?(a=b.ZY(a))?a.Ha():0:b.nq().Ha():0},Fqa(){return this.g.Dp},doa(a,b,...d){var c=this.hz(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),
0;var g=c.xC.get(b.toLowerCase());if(!g)if(c.Jn)g=c.Jn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.Ql;const m=g.gt();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.yg())return m;a=this.g.na();b=a.Nb().zd();const h=0<b.length;h&&a.zg(b);const l=g.Rg;for(let n=
d.length,p=l.length;n<p;++n)d.push(l[n].qp);g=g.xe();d=g.zE(g.zd(),c,m,...d);h&&a.Ob(b);return d},Hpa(){return this.g.ld.VA},epa(){return 0===this.pp?1:this.uv/this.pp},Nn(){return this.g.xt()?"webgpu":"webgl"},sqa(){return this.g.xt()?"<unavailable>":this.g.jo().Aw},fpa(){let a=this.g.pb().vZ();return Math.round(100*a/1048576)/100},tqa(a,b,d){return e.v2(a,b,d)},wqa(a,b,d){return e.nN(a/100,b/100,d/100)},uqa(a,b,d,c){return e.Cy(a/100,b/100,d/100,c/100)},xqa(a,b,d){return e.nN(a/255,b/255,d/255)},
vqa(a,b,d,c){return e.Cy(a/255,b/255,d/255,c/255)},Oea(){return this.g.pB},Pea(){return this.g.IT},ooa(){return this.g.Nb().Zc.Ca()},noa(){return this.g.Nb().Ar}}}{"use strict";const e=self.B;e.C.Text=class extends e.Ot{constructor(a){super(a)}A(){super.A()}}}{"use strict";const e=self.B;e.C.Text.Im=class extends e.Iy{constructor(a){super(a)}A(){super.A()}Ad(){}Dq(){}xo(){}}}
{"use strict";const e=self.B,a=self.qg,b=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],g=new e.Rect,m=new e.Bd;new e.fb;e.C.Text.Instance=class extends e.CE{constructor(n,p){super(n);this.nb="";this.ul=!0;this.Vi="Arial";this.qk=12;this.Oh=0;this.mf=this.lf=!1;this.ib=e.m(e.fb);this.Ve=this.jf=0;this.Ak=!0;this.tk=this.ts=-1;this.zw=0;this.bd=e.m(e.J.tE,this.g.pb(),{timeout:5});this.bd.rC=()=>this.g.ba();this.bd.eO();p&&(this.nb=p[0],this.ul=!!p[1],this.Vi=p[2],this.qk=p[3],this.Oh=
p[4],this.lf=!!p[5],this.mf=!!p[6],this.jf=p[8],this.Ve=p[9],this.Ak=0===p[10],n=p[7],this.ib.Ks(n[0],n[1],n[2]),this.j().Tf(p[11]));this.he()}A(){this.Jm();this.bd.A();this.bd=null;super.A()}he(){const n=this.bd;n.Eo(this.nb);n.K3(this.ul);n.JE(this.Vi);n.iO(this.Oh);n.RN(this.lf);n.gO(this.mf);n.Em(this.ib);n.aO(d[this.jf]);n.wO(c[this.Ve]);n.J4(this.Ak?"word":"character")}rG(){const n=this.j();this.bd.Py(this.qk);this.bd.c4(n.k_());var p=n.aa();p=p.um()*p.DL(n.Mf());this.bd.ud(n.fa(),n.ea(),p)}tg(n){var p=
this.j();this.rG();const q=this.bd.fe();if(q){var u=p.aa();if(0===p.Ta()&&0===u.Ta()&&0===p.Mf()&&!p.Nf()&&u.wN()){p=p.uj();const [w,r]=u.Lj(p.Fb,p.Gb),[v,y]=u.Lj(p.lc,p.mc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);m.pj(g);const [G,z]=n.cy(n.Tk());this.g.O.T3(n,G,z);n.Sf(q);n.Iq(m,this.bd.Gj());u.wz(n)}else n.Sf(q),p.Nf()?this.AF(p,n):this.BF(p,n)}}BF(n,p){n=n.uj();this.g.Cl&&(n=this.KQ(n));p.Iq(n,this.bd.Gj())}AF(n,p){const q=n.oM();if(n.KM()){n.lx(g,m,!1);let u=m;
this.g.Cl&&(u=this.KQ(u));q.WK(n.Fj(),u,this.bd.Gj());n.LE(!1)}q.tg(p)}KQ(n){const p=n.Fb-Math.round(n.Fb),q=n.Gb-Math.round(n.Gb);if(0===p&&0===q)return n;m.ua(n);m.offset(-p,-q);return m}td(){const n={t:this.nb,c:this.ib.toJSON(),fn:this.Vi,ps:this.qk};this.ul&&(n.bbc=this.ul);0!==this.jf&&(n.ha=this.jf);0!==this.Ve&&(n.va=this.Ve);this.Ak||(n.wr=this.Ak);0!==this.Oh&&(n.lho=this.Oh);this.lf&&(n.b=this.lf);this.mf&&(n.i=this.mf);-1!==this.tk&&(n.tw={st:this.ts,en:this.tk,l:this.zw});return n}hd(n){this.Jm();
this.nb=n.t;this.ib.hm(n.c);this.Vi=n.fn;this.qk=n.ps;this.ul=n.hasOwnProperty("bbc")?n.bbc:!1;this.jf=n.hasOwnProperty("ha")?n.ha:0;this.Ve=n.hasOwnProperty("va")?n.va:0;this.Ak=n.hasOwnProperty("wr")?n.wr:!0;this.Oh=n.hasOwnProperty("lho")?n.lho:0;this.lf=n.hasOwnProperty("b")?n.b:!1;this.mf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.ts=n.st,this.tk=n.en,this.zw=n.l);this.he();-1!==this.tk&&this.Ji()}uc(n){switch(n){case 0:return this.nb;case 1:return this.ul;case 2:return this.Vi;
case 3:return this.qk;case 4:return this.Oh;case 5:return this.lf;case 6:return this.mf;case 7:return b[0]=this.ib.Va,b[1]=this.ib.$a,b[2]=this.ib.Za,b;case 8:return this.jf;case 9:return this.Ve;case 10:return this.Ak?1:0}}Rf(n,p){switch(n){case 0:if(this.nb===p)break;this.nb=p;this.he();break;case 1:if(this.ul===!!p)break;this.ul=!!p;this.he();break;case 2:if(this.Vi===p)break;this.Vi=p;this.he();break;case 3:if(this.qk===p)break;this.qk=p;this.he();break;case 4:if(this.Oh===p)break;this.Oh=p;this.he();
break;case 5:if(this.lf===!!p)break;this.lf=!!p;this.he();break;case 6:if(this.mf===!!p)break;this.mf=!!p;this.he();break;case 7:n=this.ib;if(n.Va===p[0]&&n.$a===p[1]&&n.Za===p[2])break;this.ib.Ks(p[0],p[1],p[2]);this.he();break;case 8:if(this.jf===p)break;this.jf=p;this.he();break;case 9:if(this.Ve===p)break;this.Ve=p;this.he();break;case 10:this.Ak!==(0===p)&&(this.Ak=0===p,this.he())}}Mm(n){this.nb!==n&&(this.nb=n,this.bd.Eo(n),this.g.ba())}lba(n,p){this.Mm(n);this.ts=this.g.GD();this.tk=this.ts+
p/this.Da().hZ();this.zw=e.lm.zO(n).length;this.bd.HE(0);this.Ji()}Jm(){this.tk=this.ts=-1;this.zw=0;this.bd.HE(-1);this.Nm()}x7(){-1!==this.tk&&(this.Jm(),this.Xa(e.C.Text.N.kN),this.g.ba())}Iaa(n){this.Vi!==n&&(this.Vi=n,this.bd.JE(n),this.g.ba())}xaa(n){n=!!n;this.lf!==n&&(this.lf=n,this.bd.RN(n),this.g.ba())}Raa(n){n=!!n;this.mf!==n&&(this.mf=n,this.bd.gO(n),this.g.ba())}Jaa(n){this.qk!==n&&(this.qk=n,this.g.ba())}Haa(n){this.ib.em(n)||(this.ib.kj(n),this.bd.Em(this.ib),this.g.ba())}kR(n){this.Oh!==
n&&(this.Oh=n,this.he(),this.g.ba())}Maa(n){this.jf!==n&&(this.jf=n,this.he(),this.g.ba())}vR(n){this.Ve!==n&&(this.Ve=n,this.he(),this.g.ba())}eba(n){n=!!n;this.Ak!==n&&(this.Ak=n,this.he(),this.g.ba())}h8(){this.rG();return this.bd.p_()}g8(){this.rG();return this.bd.o_()}He(){var n=this.g.GD();n>=this.tk?(this.Jm(),this.Xa(e.C.Text.N.kN),this.g.ba()):(n=e.Tea(this.ts,this.tk,n,this.zw),n=Math.floor(n),n!==this.bd.gp&&(this.bd.HE(n),this.g.ba()))}Uk(){return self.$_}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.$_=class extends self.ly{constructor(){super();h.set(this,self.wq.Po().pa)}get text(){return h.get(this).nb}set text(n){a.Cd(n);const p=h.get(this);p.Jm();p.Mm(n)}set lineHeight(n){a.Ag(n);h.get(this).kR(n)}get lineHeight(){return h.get(this).Oh}set verticalAlign(n){a.Cd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).vR(n)}get verticalAlign(){return c[h.get(this).Ve]}}}
{"use strict";const e=self.B;e.C.Text.N={cX(a,b){return b?this.nb===a:e.Ek(this.nb,a)},kia(){return-1!==this.tk},kN(){return!0}}}
{"use strict";const e=self.B,a=e.m(e.fb);e.C.Text.sb={Eo(b){this.Jm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Mm(b.toString())},nW(b){this.Jm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Mm(this.nb+b)},hna(b,d){this.Jm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.lba(b.toString(),d)},Ila(b,d){let c=!1,g=!1;switch(d){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.Vi||c!==this.lf||g!==this.mf)this.Iaa(b),this.xaa(c),
this.Raa(g)},Py(b){this.Jaa(b)},Hla(b){a.Js(b);a.ia();this.Haa(a)},xma(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},V3(b){this.j().Qf(b);this.g.ba()},gna(){this.x7()},iO(b){this.kR(b)},Kla(b){this.Maa(b)},wma(b){this.vR(b)},yma(b){this.eba(0===b)}}}{"use strict";const e=self.B;e.C.Text.gb={Text(){return this.nb},Pja(){return this.ul?e.lm.zO(this.nb):this.nb},Uga(){return this.Vi},VY(){return this.qk},W4(){return this.h8()},Yma(){return this.g8()},wia(){return this.Oh}}}
{"use strict";const e=self.B;e.C.Yb=class extends e.Ot{constructor(a){super(a)}A(){super.A()}}}{"use strict";const e=self.B;e.C.Yb.Im=class extends e.Iy{constructor(a){super(a);this.Gd=a.Gd}A(){e.F(this.Gd);super.A()}Ad(){for(const a of this.Gd)a.n1(this.g)}Dq(a){const b={oj:this.g.wd};return Promise.all(this.Gd.map(d=>d.o1(a,b)))}xo(){for(const a of this.Gd)a.W2()}By(){this.GR()}GR(){for(const a of this.K.kea())a.pa.pG()}Ws(a){e.C.Yb.$Y(this,a)}}}
{"use strict";const e=self.B,a=self.qg,b=e.m(e.Rect),d=e.m(e.Bd),c=e.m(e.du);e.C.Yb.Instance=class extends e.CE{constructor(m,h){super(m);let l=!0,n="",p=0,q=!0;h&&(l=!!h[0],n=h[1],p=h[2],q=h[3]);this.Qb=this.K.FL(n)||this.K.Gd[0];this.xb=e.ia(p,0,this.Qb.Jd.length-1);this.Ne=this.Qb.qm(this.xb);h=this.Ne.Gf();this.xr=h.fe();this.bH=h.Gj();this.$u=h.ey();this.x_();m.St(2,!0);m.St(1,0<=this.Qb.od);this.ck=Math.abs(this.Qb.od);this.ur=this.Qb.OT;this.Gz=e.m(e.wy);this.Zj=this.Xi=0;this.AG="";this.Wu=
-1;this.mr="";this.XR=0;m=this.j();this.Yba=m.uj();m.Tf(l);m.Pt(q);m.Rq(this.Ne.Rk());m.Sq(this.Ne.Sk());m.RE(this.Ne.$o);m.Ja();1===this.K.Gd.length&&1===this.K.Gd[0].Jd.length||0===this.ck||this.Ji()}A(){this.Gz=this.xr=this.Ne=this.Qb=null;super.A()}mh(){return this.Ne.Gf()}po(){return!0}Hq(){this.xr=null}mN(){this.pG()}tg(m){var h=this.xr;null!==h&&(m.Sf(h),h=this.j(),h.Nf()?this.AF(h,m):this.BF(h,m))}BF(m,h){let l=this.Yba;this.g.Cl&&(l=m.oN(l));h.S2(l,this.$u)}AF(m,h){const l=m.oM();if(m.KM()){m.lx(b,
d,!1);let n=d;this.g.Cl&&(n=m.oN(n));l.WK(m.Fj(),n,this.$u);m.LE(!1)}l.tg(h)}Zs(){return this.Gz.Y()}oy(){return this.Z.sD(2)}Lq(m){this.Z.St(2,m)}ty(){return this.Z.sD(1)}Xt(m){this.Z.St(1,m)}$D(){return this.Z.sD(4)}bO(m){this.Z.St(4,m)}He(){this.mr&&this.pP();0<=this.Wu&&this.xF();const m=this.ck;if(this.oy()&&0!==m){this.Gz.Oc(this.g.Px(this.Z));var h=this.Zs(),l=this.Ne,n=l.hS/m;if(!(h<this.Xi+n)){var p=this.Qb,q=this.ur,u=p.Jd.length,w=p.rh(),r=p.KA,v=p.Dca;this.ty()?this.xb++:this.xb--;this.Xi+=
n;this.xb>=u&&(v?(this.Xt(!1),this.xb=u-2):r?this.xb=q:(this.Zj++,this.Zj>=w?this.DF(!1):this.xb=q));0>this.xb&&(v?(this.xb=1,this.Xt(!0),r||(this.Zj++,this.Zj>=w&&this.DF(!0))):r?this.xb=q:(this.Zj++,this.Zj>=w?this.DF(!0):this.xb=q));this.xb=e.ia(this.xb,0,u-1);n=p.qm(this.xb);h>this.Xi+n.hS/m&&(this.Xi=h);this.nz(l,n)}}else this.Nm()}DF(m){this.xb=m?0:this.Qb.Jd.length-1;this.Lq(!1);this.AG=this.Qb.Ca();this.bO(!0);this.mm("animationend",!1,{animationName:this.AG});this.Xa(e.C.Yb.N.U1);this.Xa(e.C.Yb.N.T1);
this.bO(!1);this.Zj=0}nz(m,h){if(m!==h){var l=this.j(),n=m.Gf();m=h.Gf();var p=n.fa();n=n.ea();var q=m.fa(),u=m.ea();p!==q&&l.xh(l.fa()*(q/p));n!==u&&l.Bi(l.ea()*(u/n));l.Rq(h.Rk());l.Sq(h.Sk());l.RE(h.$o);l.Ja();this.Ne=h;this.xr=m.fe();this.bH=m.Gj();this.$u=m.ey();h=this.Da().Uc;for(let w=0,r=h.length;w<r;++w);this.mm("framechange",!1,{animationName:this.Qb.Ca(),BU:this.xb});this.Xa(e.C.Yb.N.c2);this.g.ba()}}kba(m){this.Lq(!0);this.Xi=this.Zs();1===m&&0!==this.xb&&(this.Wu=0,this.$D()||this.xF());
this.Ji()}taa(m,h){this.mr=m;this.XR=h;this.Ji();this.$D()||this.pP()}KP(){return this.mr?this.mr:this.Qb.Ca()}dR(m){isFinite(m)&&(this.Wu=m,this.$D()||this.xF())}vaa(m){this.ck=Math.abs(m);this.Xt(0<=m);0<this.ck&&this.Ji()}GP(){return this.ty()?this.ck:-this.ck}uaa(m){this.ur=m=e.ia(Math.floor(m),0,this.Qb.Jd.length-1)}pP(){const m=this.Ne;var h=this.K.FL(this.mr);this.mr="";!h||h===this.Qb&&this.oy()||(this.Qb=h,this.Xt(0<=h.od),this.ck=Math.abs(h.od),this.ur=h.OT,this.xb=e.ia(this.xb,0,this.Qb.Jd.length-
1),1===this.XR&&(this.xb=0),this.Lq(!0),this.Xi=this.Zs(),h=this.Qb.qm(this.xb),this.nz(m,h))}xF(){const m=this.Ne;var h=this.xb;this.xb=e.ia(Math.floor(this.Wu),0,this.Qb.Jd.length-1);this.Wu=-1;h!==this.xb&&(h=this.Qb.qm(this.xb),this.nz(m,h),this.Xi=this.Zs())}pG(){const m=this.Ne.Gf();this.xr=m.fe();this.bH=m.Gj();this.$u=m.ey();this.j().LE(!0)}fe(){return this.xr}Gj(){return this.bH}ey(){return this.$u}uD(){return this.Ne.uD()}tm(m){const h=this.Ne,l=this.j();if("string"===typeof m)m=h.MZ(m);
else if("number"===typeof m)m=h.LZ(m-1);else throw new TypeError("expected string or number");if(!m)return[l.qa(),l.ra()];c.ua(m.QI);if(l.Nf()){const [n,p]=l.Fj().CO(c.ga,c.X);c.set(n,p)}c.offset(-h.Rk(),-h.Sk());c.scale(l.fa(),l.ea());c.rotate(l.Ta());c.offset(l.qa(),l.ra());return[c.ga,c.X]}pZ(){return this.j().Vk().jV()}HL(m){m=Math.floor(m);const h=this.j();var l=h.Vk();const n=l.jV();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Ld;return[l[2*m]+h.qa(),l[2*m+1]+h.ra()]}td(){const m={a:this.Qb.lb};
0!==this.Xi&&(m.fs=this.Xi);var h=this.Zs();0!==h&&(m.at=h);0!==this.xb&&(m.f=this.xb);0!==this.ck&&(m.cas=this.ck);1!==this.Zj&&(m.ar=this.Zj);0!==this.ur&&(m.rt=this.ur);this.oy()||(m.ap=this.oy());this.ty()||(m.af=this.ty());h=this.j();h.si()&&(m.ce=h.si());return m}hd(m){var h=this.H().jZ(m.a);h&&(this.Qb=h);this.Xi=m.hasOwnProperty("fs")?m.fs:0;this.Gz.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.xb=e.ia(h,0,this.Qb.Jd.length-1);this.ck=m.hasOwnProperty("cas")?m.cas:
0;this.Zj=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.ur=e.ia(h,0,this.Qb.Jd.length-1);this.Lq(m.hasOwnProperty("ap")?!!m.ap:!0);this.Xt(m.hasOwnProperty("af")?!!m.af:!0);this.Ne=h=this.Qb.qm(this.xb);this.pG();const l=this.j();l.Rq(h.Rk());l.Sq(h.Sk());l.RE(h.$o);l.Pt(!!m.ce)}uc(m){const h=this.j();switch(m){case 3:return h.si();case 2:return e.ia(this.xb,0,this.Qb.Jd.length-1)}}Rf(m,h){var l=this.j();switch(m){case 3:l.Pt(!!h);break;case 2:this.Lq(!1);m=this.Qb.Jd.length-
1;l=h=e.ia(h,0,m);h=this.Qb.qm(this.xb);const n=this.Qb.qm(l);this.nz(h,n);this.xb=e.ia(l,0,m)}}Uk(){return self.X_}};const g=new WeakMap;self.X_=class extends self.ly{constructor(){super();g.set(this,self.wq.Po().pa)}get animationName(){return g.get(this).KP()}set BU(m){a.Ag(m);g.get(this).dR(m)}get BU(){return g.get(this).xb}get imageWidth(){return g.get(this).mh().fa()}get imageHeight(){return g.get(this).mh().ea()}}}
{"use strict";const e=self.B;e.C.Yb.N={Eha(a){return e.Ek(this.KP(),a)},kga(a,b){return e.compare(this.xb,a,b)},hga(a,b){return e.compare(this.GP(),a,b)},T1(a){return e.Ek(this.AG,a)},U1(){return!0},c2(){return!0},$ha(){return 0>this.j().fa()},Tha(){return 0>this.j().ea()},lN(){return!0},s2(){return!0},si(){return this.j().si()}}}
{"use strict";const e=self.B;e.C.Yb.sb={Cma(a,b,d,c){if(a&&b){var [g,m]=this.tm(d);if(d=this.g.XC(a,b,g,m,c)){c&&b.XE(d);a.Db().Cq()&&(b=d.j(),b.kd(this.j().Ta()),b.Ja());b=this.g.na();b.te(!0);d.Az();b.te(!1);c=this.g.et().ri();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Fr)b=!0,c.set("Spawn_LastExec",this.g.Fr);if(a!==this.H()&&(a=a.S(),a.Le(!1),a=a.G,b&&e.F(a),a.push(d),d.Xb()))for(const h of d.Dd)d=h.H().S(),b?d.Rj(h):(d.Le(!1),d.wu(h))}}},Ima(){this.Lq(!1)},Ema(a){this.kba(a)},
rla(a,b){this.taa(a,b)},sla(a){this.dR(a)},ula(a){this.vaa(a)},tla(a){this.uaa(a)},jma(a){const b=this.j(),d=b.fa();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.xh(a),b.Ja())},Fla(a){const b=this.j(),d=b.ea();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.Bi(a),b.Ja())},NE(a){const b=this.Ne.Gf(),d=this.j();var c=0>d.fa()?-1:1;const g=0>d.ea()?-1:1;c*=b.fa()*a;a=b.ea()*a*g;if(d.fa()!==c||d.ea()!==a)d.ud(c,a),d.Ja()},async Cia(a,b){const d=this.Ne.Gf(),c=this.j(),g=this.g;if(d.uk===a)0===b&&(c.ud(d.fa(),d.ea()),c.Ja()),
this.Xa(e.C.Yb.N.lN);else{var m=e.m(e.my);try{await m.q1(g,a);if(!m.cE())throw Error("image failed to load");await m.Dt(g.pb(),{oj:this.g.wd})}catch(h){console.error("Load image from URL failed: ",h);this.Xa(e.C.Yb.N.s2);return}d.k3(m);this.Mc.GR();this.Yy()||0!==b||(c.ud(d.fa(),d.ea()),c.Ja());g.ba();this.Yy()||await this.Sc(e.C.Yb.N.lN)}},zla(a){this.j().Pt(a)},QE(a,b){this.j().QE(0===a,b)},V3(a){this.j().Qf(a);this.g.ba()}}}"use strict";
self.B.C.Yb.gb={Kfa(){return this.xb},Lfa(){return this.Qb.Jd.length},Mfa(){return this.Qb.Ca()},Nfa(){return this.GP()},uja(){return this.Qb.od},wha(e){return this.tm(e)[0]},xha(e){return this.tm(e)[1]},vha(){return this.uD()},yha(){return this.mh().fa()},uha(){return this.mh().ea()},Tja(e){return this.HL(e)[0]},Uja(e){return this.HL(e)[1]},Sja(){return this.pZ()}};
{"use strict";const e=self.B;e.C.gf=class extends e.A3{constructor(a){super(a,"text-input");this.Ps("click",b=>b.E9());this.Ps("dblclick",b=>b.F9());this.Ps("change",(b,d)=>b.D9(d))}A(){super.A()}}}{"use strict";const e=self.B;e.C.gf.Im=class extends e.Iy{constructor(a){super(a)}A(){super.A()}Ad(){}}}
{"use strict";const e=self.B,a=self.qg,b="text password email number tel url textarea search".split(" ");e.C.gf.Instance=class extends e.z3{constructor(c,g){super(c,"text-input");this.Wl=this.nk=this.nb="";this.tb=!0;this.Sp=this.kk=!1;this.ya="text";this.Ju=!0;this.Fp=-1;this.Ic="";g&&(this.nb=g[0],this.nk=g[1],this.Wl=g[2],this.j().Tf(g[3]),this.tb=g[4],this.kk=g[5],this.Sp=g[6],this.ya=b[g[7]],this.Ju=g[8],this.Ic=g[9]);this.nX({type:this.ya,id:this.Ic})}A(){super.A()}pD(){return{text:this.nb,
placeholder:this.nk,title:this.Wl,isEnabled:this.tb,isReadOnly:this.kk,spellCheck:this.Sp,maxLength:this.Fp}}async E9(){this.mm("click",!0);await this.Sc(e.C.gf.N.X1)}async F9(){this.mm("dblclick",!0);await this.Sc(e.C.gf.N.b2)}async D9(c){this.nb=c.text;this.mm("change",!0);await this.Sc(e.C.gf.N.jN)}Mm(c){this.nb!==c&&(this.nb=c,this.Vf())}pR(c){this.nk!==c&&(this.nk=c,this.Vf())}bba(c){this.Wl!==c&&(this.Wl=c,this.Vf())}To(c){c=!!c;this.tb!==c&&(this.tb=c,this.Vf())}qR(c){c=!!c;this.kk!==c&&(this.kk=
c,this.Vf())}mR(c){c=Math.max(+c,-1);this.Fp!==c&&(this.Fp=c,this.Vf())}raa(){Promise.resolve().then(()=>this.Dm("scroll-to-bottom"))}tg(){}td(){return{t:this.nb,p:this.nk,ti:this.Wl,e:this.tb,r:this.kk,sp:this.Sp,ml:this.Fp,type:this.ya,id:this.Ic}}hd(c){this.nb=c.t;this.nk=c.p;this.Wl=c.ti;this.tb=c.e;this.kk=c.r;this.Sp=c.sp;this.Fp=c.hasOwnProperty("ml")?c.ml:-1;this.ya=c.type;this.Ic=c.id;this.Vf()}uc(c){switch(c){case 0:return this.nb;case 1:return this.nk;case 2:return this.Wl;case 4:return this.tb;
case 5:return this.kk;case 6:return this.Sp;case 8:return this.Ju;case 9:return this.Ic}}Rf(c,g){switch(c){case 0:if(this.nb===g)break;this.nb=g;this.Vf();break;case 1:if(this.nk===g)break;this.nk=g;this.Vf();break;case 2:if(this.Wl===g)break;this.Wl=g;this.Vf();break;case 4:if(this.tb===!!g)break;this.tb=!!g;this.Vf();break;case 5:if(this.kk===!!g)break;this.kk=!!g;this.Vf();break;case 6:if(this.Sp===!!g)break;this.Sp=!!g;this.Vf();break;case 8:this.Ju=!!g;break;case 9:this.Ic!==g&&(this.Ic=g,this.Vf())}}Uk(){return self.Z_}};
const d=new WeakMap;self.Z_=class extends self.R_{constructor(){super();d.set(this,self.wq.Po().pa)}set text(c){a.Cd(c);d.get(this).Mm(c)}get text(){return d.get(this).nb}set placeholder(c){a.Cd(c);d.get(this).pR(c)}get placeholder(){return d.get(this).nk}set isEnabled(c){d.get(this).To(c)}get isEnabled(){return d.get(this).tb}set qea(c){d.get(this).qR(c)}get qea(){return d.get(this).kk}set maxLength(c){a.Ag(c);d.get(this).mR(c)}get maxLength(){return d.get(this).Fp}}}
{"use strict";const e=self.B;e.C.gf.N={cX(a,b){return 0===b?e.Ek(this.nb,a):this.nb===a},jN(){return!0},X1(){return!0},b2(){return!0}}}"use strict";self.B.C.gf.sb={Eo(e){this.Mm(e.toString())},nW(e){""!==e&&this.Mm(this.nb+e)},nma(e){this.pR(e)},uma(e){this.bba(e)},pma(e){this.qR(0===e)},mla(){this.raa()},gma(e){this.mR(e)}};"use strict";self.B.C.gf.gb={Text(){return this.nb},Jia(){return this.Fp}};{"use strict";const e=self.B;e.C.Dc=class extends e.Ot{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const e=self.B;e.C.Dc.Im=class extends e.Iy{constructor(a){super(a)}A(){super.A()}Ad(){}}}
{"use strict";const e=self.B;e.C.Dc.Instance=class extends e.BE{constructor(a){super(a,"browser");this.fk="";this.Bv=!1;this.fS=this.LT="";this.VS=!1;this.KJ=this.QT=this.RT=0;this.Dv=!1;this.XV([["online-state",b=>this.T9(b)],["backbutton",()=>this.B9()],["sw-message",b=>this.Y9(b)],["hashchange",b=>this.L9(b)]]);a=this.I().Wb();this.ie=new e.TC(e.lh.nm(a,"afterfirstlayoutstart",()=>this.A9()),e.lh.nm(a,"window-resize",()=>this.VF()),e.lh.nm(a,"suspend",()=>this.Z9()),e.lh.nm(a,"resume",()=>this.X9()));
this.g.dW(this.oE("get-initial-state",{exportType:this.g.Ui}).then(b=>{this.fk=b.location;this.Bv=b.isOnline;this.LT=b.referrer;this.fS=b.title;this.VS=b.isCookieEnabled;this.RT=b.screenWidth;this.QT=b.screenHeight;this.KJ=b.windowOuterWidth;this.Dv=b.isScirraArcade}))}A(){super.A()}A9(){this.xi("ready-for-sw-messages")}async T9(a){a=!!a.isOnline;this.Bv!==a&&((this.Bv=a)?await this.Sc(e.C.Dc.N.k2):await this.Sc(e.C.Dc.N.i2))}async VF(){await this.Sc(e.C.Dc.N.n2)}Z9(){this.Xa(e.C.Dc.N.l2)}X9(){this.Xa(e.C.Dc.N.m2)}async B9(){await this.Sc(e.C.Dc.N.V1)}Y9(a){a=
a.type;"downloading-update"===a?this.Xa(e.C.Dc.N.t2):"update-ready"===a||"update-pending"===a?this.Xa(e.C.Dc.N.u2):"offline-ready"===a&&this.Xa(e.C.Dc.N.j2)}L9(a){this.fk=a.location;this.Xa(e.C.Dc.N.d2)}}}"use strict";
self.B.C.Dc.N={gia(){return this.Bv},k2(){return!0},i2(){return!0},n2(){return!0},xga(){return this.VS},Vha(){return this.g.O.xp},V1(){return!0},jia(e){return(this.g.O.yk<=this.g.O.xk?0:1)===e},t2(){return!0},u2(){return!0},j2(){return!0},d2(){return!0},vja(){return!this.g.Bm()},l2(){return!0},m2(){return!0},oha(){return!1},Qha(){return!1},jja(){return!1},kja(){return!1},Zha(){return!1},Jha(){return!0},Vma(){return!0}};
{"use strict";const e=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.C.Dc.sb={Ifa(b){this.xi("alert",{message:b.toString()})},ega(){this.Dv||(this.g.zb?self.pg.fga():this.xi("close"))},Zga(){this.xi("set-focus",{isFocus:!0})},Xfa(){this.xi("set-focus",{isFocus:!1})},hha(){this.Dv||this.xi("navigate",{type:"back"})},iha(){this.Dv||this.xi("navigate",{type:"forward"})},jha(){},hka(){this.Dv||(this.g.zb?this.g.G2():this.xi("navigate",
{type:"reload"}))},mha(b,d){this.il("navigate",{type:"url",url:b,target:d,exportType:this.g.Ui})},nha(b,d){this.il("navigate",{type:"new-window",url:b,tag:d,exportType:this.g.Ui})},mka(b,d){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=e.RC.EP(b);this.g.O.U3(b);this.il("request-fullscreen",{navUI:d})},aga(){this.il("exit-fullscreen")},sna(b){b=b.split(",");for(let d=0,c=b.length;d<c;++d)b[d]=parseInt(b[d],10);this.il("vibrate",{pattern:b})},async RD(b,d){b&&d&&(b=await this.g.ld.AD(b),this.g.RD(b,d))},
Dha(b,d,c){c&&(b=`data:${d},${encodeURIComponent(b)}`,this.g.RD(b,c))},wga(b,d){d=d.toString();0===b?console.log(d):1===b?console.warn(d):2===b&&console.error(d)},uga(b){console.group(b)},vga(){console.groupEnd()},Tga(b){try{eval(b)}catch(d){console.error("Error executing JavaScript: ",d)}},Eia(b){b=Math.floor(b);0>b||b>=a.length||this.il("lock-orientation",{orientation:a[b]})},mna(){this.il("unlock-orientation")},UM(b){this.g.ld.UM(b)},Mla(b){this.xi("set-hash",{hash:b})}}}"use strict";
self.B.C.Dc.gb={URL(){return this.g.le?this.fk:location.toString()},$ja(){return this.g.le?(new URL(this.fk)).protocol:location.protocol},Gga(){return this.g.le?(new URL(this.fk)).hostname:location.hostname},Wja(){return this.g.le?(new URL(this.fk)).port:location.port},xja(){return this.g.le?(new URL(this.fk)).pathname:location.pathname},O_(){return this.g.le?(new URL(this.fk)).hash:location.hash},qE(){return this.g.le?(new URL(this.fk)).search:location.search},bka(e){const a=this.g.le?(new URL(this.fk)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(a))?decodeURIComponent(e[1].replace(/\+/g," ")):""},fka(){return this.LT},$ma(){return this.fS},qia(){return navigator.language},Qc(){return navigator.platform},pna(){return navigator.userAgent},Sga(e){let a=0;try{a=eval(e)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},Via(){return navigator.appName},rna(){return navigator.appVersion},Yja(){return navigator.product},
qna(){return navigator.vendor},Tfa(){return 1},Ufa(){return Infinity},Sfa(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},Ega(){return self.devicePixelRatio},lla(){return this.RT},kla(){return this.QT},Hna(){return this.g.O.yk},Gna(){return this.g.O.xk},Jna(){return this.KJ},Ina(){return this.KJ}};
{"use strict";const e=self.B;e.Cb.sg=class extends e.KN{constructor(a){super(a);a=this.g.Wb();this.ie=new e.TC(e.lh.nm(a,"pointerdown",b=>this.U9(b.data)),e.lh.nm(a,"pointermove",b=>this.V9(b.data)),e.lh.nm(a,"pointerup",b=>this.HQ(b.data)),e.lh.nm(a,"pointercancel",b=>this.HQ(b.data)))}A(){this.ie.A();this.ie=null;super.A()}U9(a){"mouse"===a.pointerType&&0!==a.button||this.M9(a.pointerId.toString(),a.pageX-this.g.ct(),a.pageY-this.g.dt())}V9(a){0!==(a.lastButtons&1)&&0===(a.buttons&1)?this.DQ(a.pointerId.toString()):
this.N9(a.pointerId.toString(),a.pageX-this.g.ct(),a.pageY-this.g.dt())}HQ(a){"mouse"===a.pointerType&&0!==a.button||this.DQ(a.pointerId.toString())}async M9(a,b,d){var c=this.oa();let g=null,m=null,h=0,l=0;for(const n of c){c=n.Ix(e.Cb.sg);if(!c.yg()||c.hk)continue;const p=n.j(),q=p.aa(),[u,w]=q.Ik(b,d,p.Mf());if(!p.UC(u,w))continue;if(!g){g=n;m=c;h=u;l=w;continue}const r=g.j();if(q.Ha()>r.aa().Ha()||q.Ha()===r.aa().Ha()&&p.th()>r.th())g=n,m=c,h=u,l=w}g&&await m.G9(a,h,l)}N9(a,b,d){var c=this.oa();
for(const g of c){c=g.Ix(e.Cb.sg);if(!c.yg()||!c.hk||c.hk&&c.hH!==a)continue;const m=g.j(),h=m.aa(),[l,n]=h.Ik(b,d,m.Mf());c.S9(l,n)}}async DQ(a){var b=this.oa();for(const d of b)b=d.Ix(e.Cb.sg),b.hk&&b.hH===a&&await b.JQ()}}}{"use strict";const e=self.B;e.Cb.sg.Im=class extends e.MN{constructor(a){super(a)}A(){super.A()}Ad(){}}}
{"use strict";const e=self.B;e.Cb.sg.Instance=class extends e.LN{constructor(a,b){super(a);this.hk=!1;this.jS=this.iS=0;this.hH="<none>";this.nl=0;this.tb=!0;b&&(this.nl=b[0],this.tb=b[1])}A(){super.A()}td(){return{a:this.nl,e:this.tb}}hd(a){this.nl=a.a;this.tb=a.e;this.hk=!1}yg(){return this.tb}async G9(a,b,d){const c=this.j();this.iS=b-c.qa();this.jS=d-c.ra();this.hk=!0;this.hH=a;await this.Sc(e.Cb.sg.N.dN)}S9(a,b){const d=this.j();a-=this.iS;b-=this.jS;if(0===this.nl){if(d.qa()!==a||d.ra()!==b)d.Uf(a,
b),d.Ja()}else 1===this.nl?d.qa()!==a&&(d.Fg(a),d.Ja()):2===this.nl&&d.ra()!==b&&(d.yh(b),d.Ja())}async JQ(){this.hk=!1;await this.Sc(e.Cb.sg.N.eN)}uc(a){switch(a){case 0:return this.nl;case 1:return this.tb}}Rf(a,b){switch(a){case 0:this.nl=b;break;case 1:this.tb=!!b}}}}"use strict";self.B.Cb.sg.N={Rha(){return this.hk},dN(){return!0},eN(){return!0},yg(){return this.tb}};"use strict";self.B.Cb.sg.sb={IE(e){this.tb=!!e;this.tb||(this.hk=!1)},vla(e){this.nl=e},Jga(){this.hk&&this.JQ()}};"use strict";
self.B.Cb.sg.gb={};{"use strict";const e=self.B;e.Cb.uh=class extends e.KN{constructor(a){super(a)}A(){super.A()}}}{"use strict";const e=self.B;e.Cb.uh.Im=class extends e.MN{constructor(a){super(a)}A(){super.A()}Ad(){}}}
{"use strict";const e=self.B,a=self.qg,b=self.xM;e.Cb.uh.Instance=class extends e.LN{constructor(c,g){super(c);this.Hl=200;this.fp=this.Om=600;this.Rl=0;this.Pp=!0;this.gs=!1;this.tb=!0;this.od=0;this.dj=this.j().Ta();this.Nd=[];g&&(this.Hl=g[0],this.Om=g[1],this.fp=g[2],this.Rl=e.rb(g[3]),this.Pp=g[4],this.gs=g[5],this.tb=g[6])}A(){super.A()}td(){return{ms:this.Hl,acc:this.Om,dec:this.fp,rs:this.Rl,sa:this.Pp,sos:this.gs,s:this.od,ma:this.dj,wp:this.Nd.map(c=>({x:c.x,y:c.y})),e:this.tb}}hd(c){this.Hl=
c.ms;this.Om=c.acc;this.fp=c.dec;this.Rl=c.rs;this.Pp=c.sa;this.gs=c.sos;this.od=c.s;this.dj=c.ma;this.Nd=c.wp.map(g=>({x:g.x,y:g.y}));this.To(c.e);this.tb&&0<this.Nd.length&&this.Ji()}az(c,g,m){m&&e.F(this.Nd);this.Nd.push({x:c,y:g});this.tb&&this.Ji()}j8(c){c=Math.floor(c);return 0>c||c>=this.Nd.length?0:this.Nd[c].x}k8(c){c=Math.floor(c);return 0>c||c>=this.Nd.length?0:this.Nd[c].y}mu(){return 0<this.Nd.length}mG(){e.F(this.Nd);this.od=0;this.Nm()}YP(){return 0<this.Nd.length?this.Nd[0].x:0}ZP(){return 0<
this.Nd.length?this.Nd[0].y:0}iG(c){this.mu()&&(this.od=Math.min(c,this.Hl))}nR(c){this.Hl=Math.max(c,0);this.iG(this.od)}nQ(){return 0!==this.Rl}He(){if(this.tb&&this.mu()){var c=this.g.Px(this.Z),g=this.Z.j(),m=g.qa(),h=g.ra(),l=g.Ta(),n=this.od,p=this.Hl,q=this.Om,u=this.fp,w=this.YP(),r=this.ZP(),v=e.$B(m,h,w,r),y=!1;0<u&&1===this.Nd.length&&(y=.5*n*n/u*1.0001,y=e.eC(m,h,w,r)<=y*y)&&(this.od=p=n=Math.sqrt(2*u*e.fC(m,h,w,r)));if(this.nQ()){var A=e.cq(this.dj,v);if(A>Number.EPSILON){const G=A/this.Rl;
A*=e.fC(g.qa(),g.ra(),w,r)/(2*Math.sin(A));p=Math.min(p,e.ia(A/G,0,this.Hl))}}n=Math.min(n*c+.5*(y?-u:q)*c*c,p*c);if(y){if(0<u&&(this.od=Math.max(this.od-u*c,0),0===this.od)){this.BQ(g,w,r);return}}else this.od=0===q?p:Math.min(this.od+q*c,p);e.eC(g.qa(),g.ra(),w,r)<=n*n?this.BQ(g,w,r):(this.dj=this.nQ()?e.ZB(this.dj,v,this.Rl*c):v,g.Gq(Math.cos(this.dj)*n,Math.sin(this.dj)*n),this.Pp&&g.kd(this.dj),g.Ja(),this.d6(m,h,l))}}BQ(c,g,m){c.Uf(g,m);c.Ja();this.Nd.shift();0===this.Nd.length&&(this.od=0,
this.Nm());this.mm("arrived");this.Xa(e.Cb.uh.N.cN)}d6(c,g,m){const h=this.g.Um;if(this.gs&&h.cF(this.Z)){this.mG();const l=this.Z.j(),n=l.qa(),p=l.ra(),q=e.$B(n,p,c,g);h.Q2(this.Z,Math.cos(q),Math.sin(q),Math.max(e.fC(n,p,c,g),1))||(l.Uf(c,g),l.kd(m),l.Ja());this.mm("hitsolid");this.Xa(e.Cb.uh.N.e2)}}Xaa(c){this.Pp=!!c}saa(c){this.dj=c;this.tb&&this.Pp&&!this.mu()&&(c=this.j(),c.kd(this.dj),c.Ja())}bG(c){this.Om=Math.max(c,0)}gR(c){this.fp=Math.max(c,0)}rR(c){this.Rl=Math.max(c,0)}sR(c){this.gs=
!!c}To(c){c=!!c;this.tb!==c&&((this.tb=c)&&this.mu()?this.Ji():this.Nm())}uc(c){switch(c){case 0:return this.Hl;case 1:return this.Om;case 2:return this.fp;case 3:return e.hh(this.Rl);case 4:return this.Pp;case 5:return this.gs;case 6:return this.tb}}Rf(c,g){switch(c){case 0:this.nR(g);break;case 1:this.bG(g);break;case 2:this.gR(g);break;case 3:this.rR(e.rb(g));break;case 4:this.Xaa(g);break;case 5:this.sR(g);break;case 6:this.To(g)}}Uk(){return self.U_}};const d=new WeakMap;self.U_=class extends b{constructor(){super();
d.set(this,b.Po().pa)}stop(){d.get(this).mG()}get speed(){return d.get(this).od}set speed(c){a.Ag(c);d.get(this).iG(c)}get acceleration(){return d.get(this).Om}set acceleration(c){a.Ag(c);d.get(this).bG(c)}get isEnabled(){return d.get(this).tb}set isEnabled(c){d.get(this).To(c)}}}{"use strict";const e=self.B;e.Cb.uh.N={aia(){return this.mu()},nga(a,b){return e.compare(this.od,a,b)},yg(){return this.tb},cN(){return!0},e2(){return!0}}}
{"use strict";const e=self.B;e.Cb.uh.sb={H1(a,b,d){this.az(a,b,0===d)},Sia(a,b,d){if(a&&(a=a.$L(this.Z))&&a.j()){var [c,g]=a.tm(b);this.az(c,g,0===d)}},Nia(a){var b=this.Z.Ix(e.Cb.yja);if(b&&(b=b.Qna(),0!==b.length))for(let d=0,c=b.length;d<c;++d){const g=b[d];this.az(g.x,g.y,0===d&&0===a)}},E1(a,b,d){if(b=b?a.t_(b):e.first(a.kb))if(a=b.Be("offsetX"),b=b.Be("offsetY"),a&&b){var c=[...a.bM()],g=[...b.bM()];if(0!==c.length&&0!==g.length){var m=0,h=0,l=this.Z.j();"relative"===a.ee()&&(m=l.qa());"relative"===
b.ee()&&(h=l.ra());for(let n=0,p=Math.min(c.length,g.length);n<p;++n)this.az(c[n]+m,g[n]+h,0===n&&0===d)}}},Oia(a,b,d){(a=this.g.Eb.tt(a))&&e.Cb.uh.sb.E1.call(this,a,b,d)},Ge(){this.mG()},kma(a){this.saa(e.rb(a))},rma(a){this.iG(a)},hma(a){this.nR(a)},qla(a){this.bG(a)},Ala(a){this.gR(a)},qma(a){this.rR(e.rb(a))},sma(a){this.sR(a)},IE(a){this.To(a)}}}
{"use strict";const e=self.B;e.Cb.uh.gb={Dma(){return this.od},Kia(){return this.Hl},Dfa(){return this.Om},Dga(){return this.fp},Uia(){return e.hh(this.dj)},ela(){return e.hh(this.Rl)},Wma(){return this.YP()},Xma(){return this.ZP()},wna(){return this.Nd.length},xna(a){return this.j8(a)},yna(a){return this.k8(a)}}}
{const e=self.B;self.UK=function(){return[e.C.Text,e.Cb.sg,e.Cb.uh,e.C.Yb,e.C.gf,e.C.Dc,e.C.Ga.N.fN,e.C.Ga.N.$W,e.C.Ga.gb.find,e.C.Dc.gb.URL,e.C.Ga.sb.N3,e.C.Ga.N.dZ,e.C.Yb.gb.PO,e.C.Yb.gb.QO,e.C.Yb.sb.W3,e.C.Ga.sb.I4,e.C.Ga.gb.random,e.C.Ga.N.CL,e.C.Text.sb.dO,e.C.Text.gb.PO,e.C.Text.gb.QO,e.C.Text.sb.Eo,e.C.Text.gb.Text,e.C.Ga.gb.Fs,e.C.Dc.gb.O_,e.C.Ga.gb.mid,e.C.Ga.N.vL,e.C.Ga.N.aX,e.C.Ga.sb.O3,e.C.gf.sb.IE,e.C.gf.sb.Tf,e.C.Ga.sb.E3,e.C.Ga.gb.vea,e.C.gf.sb.Eo,e.C.Ga.gb.Oea,e.C.Ga.gb.Pea,e.C.Ga.sb.hF,
e.C.Yb.sb.Fg,e.C.Text.gb.W4,e.Cb.sg.N.eN,e.C.Text.sb.G1,e.C.Yb.N.X0,e.C.Yb.N.A2,e.C.Ga.N.y2,e.C.Text.N.z2,e.C.Ga.N.dX,e.Cb.uh.sb.H1,e.C.Text.sb.pO,e.C.Yb.sb.dO,e.C.Text.gb.e5,e.Cb.sg.N.dN,e.C.Yb.N.bX,e.Cb.uh.N.cN,e.C.gf.N.jN,e.C.gf.N.yg,e.C.Ga.N.cZ,e.C.Ga.gb.ofa,e.C.gf.gb.Text,e.C.Ga.gb.trim,e.C.Ga.gb.nfa,e.C.Ga.gb.Aea,e.C.Text.sb.GX,e.C.Ga.sb.kL,e.C.Text.sb.xh,e.C.Ga.sb.iW,e.C.Text.gb.w5,e.C.Text.sb.Py,e.C.Text.gb.VY,e.C.Yb.N.zc,e.C.Ga.gb.max,e.C.Yb.gb.wW,e.C.Ga.gb.min,e.C.Yb.gb.xW,e.C.Yb.gb.wM,
e.C.Yb.sb.pO,e.C.Text.gb.wM,e.C.Yb.sb.Tf,e.C.Yb.gb.z5,e.C.Ga.gb.replace,e.C.Ga.sb.Ut]};self.HW=[{cpa:0},{dpa:0},{opa:0},{ppa:0},{Iga:0},{uh:0},{Kna:0},{zra:0},{index:0},{pha:0},{Zja:0},{Fia:0},{Zma:0},{pia:0},{ina:0},{Dc:0},{Lna:0},{Mna:0},{Kga:0},{$qa:0},{Wqa:0},{Yqa:0},{Xqa:0},{fra:0},{gra:0},{Npa:0},{Qpa:0},{Yna:0},{Zna:0},{Zqa:0},{Tqa:0},{Yia:0},{Bga:0},{cna:0}]}
{const e=self.B;self.GW=[a=>{const b=a.D(0).$(),d=a.D(1).$();return()=>b(d(),"/editor/")},()=>-1,a=>{const b=a.D(0),d=a.D(1);return()=>b.Od()+d.Od()},()=>"AdjustHSL",()=>0,a=>{const b=a.D(0).ca;return()=>b.M()},()=>1,()=>25,a=>{const b=a.D(0).ca,d=a.D(1).$();return()=>(b.M()+10+d(10))%100},a=>{const b=a.D(0);return()=>b.Od()},a=>{const b=a.D(0);return()=>"[background=#fff8]"+b.Od()+"[/background]"},a=>{const b=a.D(0).$(),d=a.D(1).$();return()=>b(d())},a=>{const b=a.D(0).$(),d=a.D(1).$(),c=a.D(2).$(),
g=a.D(3).$(),m=a.D(4).$();return()=>b(d(c(),1,g(m())-1))},()=>"Affirmation,Growth,Respect,Learning,Awareness,Rapport,Trust,Environment,Culture,Validation,Listening,Alliance",()=>768,()=>684,a=>{const b=a.D(0).$();return()=>b()/2},()=>342,a=>{const b=a.D(0).$(),d=a.D(1).$();return()=>b()+" - "+d()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},a=>{const b=a.D(0),d=a.D(1);return()=>b.Od()+d.Od()/2},a=>{const b=a.D(0);return()=>b.UY()},()=>"",a=>{const b=a.D(0).$(),d=a.D(1);return()=>
b(d.Od(),",")},a=>{const b=a.D(0).$(),d=a.D(1).$(),c=a.D(2),g=a.D(3).$();return()=>b(d(c.Od(),g(),","))},a=>{const b=a.D(0).$(),d=a.D(1).ca,c=a.D(2).ca;return()=>b(d.M(),c.M(),",")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),",")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>e.ia(b()/Math.ceil(d.M()/2),24,144)},a=>{const b=a.D(0).ca;return()=>b.M()-1},()=>"Words",a=>{const b=a.D(0).$(),d=a.D(1).$(),c=a.D(2).ca,g=a.D(3).ca,m=a.D(4).ca;return()=>b()%Math.floor(d()/c.M())*g.M()+m.M()/2},a=>
{const b=a.D(0).$(),d=a.D(1).$(),c=a.D(2).ca;return()=>606+48*Math.floor(b()/Math.floor(d()/c.M()))},()=>120,a=>{const b=a.D(0);return()=>b.Od()-6},a=>{const b=a.D(0),d=a.D(1),c=a.D(2);return()=>Math.floor((b.Od()-6)/d.Od()*c.Od())},a=>{const b=a.D(0).$(),d=a.D(1).ca,c=a.D(2);return()=>b(d.M(),c.Od())},a=>{const b=a.D(0).ca,d=a.D(1).ca;return()=>b.M()/d.M()},a=>{const b=a.D(0).ca,d=a.D(1).ca;return()=>b.M()-d.M()},a=>{const b=a.D(0);return()=>3*b.Od()},a=>{const b=a.D(0),d=a.D(1).ca;return()=>b.Od()+
(384-d.M())},a=>{const b=a.D(0),d=a.D(1).ca;return()=>b.Od()+(312-d.M())},a=>{const b=a.D(0),d=a.D(1).ca,c=a.D(2);return()=>b.Od()-(d.M()-(606-c.Od()/2))},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>"https://whscience.org/hexthinking/#"+b(d.M())},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"\n","%0d")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M()," ","%20")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"<","%3c")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),">",
"%3e")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"#","%23")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"{","%7b")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"}","%7d")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"|","%7c")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"\\","%5c")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"^","%5e")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"~","%7e")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>
b(d.M(),"[","%5b")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"]","%5d")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"`","%60")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"$","%24")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"&","%26")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"+","%2b")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),",","%2c")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"/","%2f")},a=>{const b=a.D(0).$(),d=a.D(1).ca;
return()=>b(d.M(),":","%3a")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),";","%3b")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"=","%3d")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"?","%3f")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"@","%40")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%0d","\n")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%20"," ")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%3c","<")},a=>{const b=a.D(0).$(),
d=a.D(1).ca;return()=>b(d.M(),"%3e",">")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%23","#")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%7b","{")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%7d","}")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%7c","|")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%5c","\\")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%5e","^")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%7e","~")},a=>
{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%5b","[")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%5d","]")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%60","`")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%24","$")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%26","&")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%2b","+")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%2c",",")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),
"%2f","/")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%3a",":")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%3b",";")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%3d","=")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%3f","?")},a=>{const b=a.D(0).$(),d=a.D(1).ca;return()=>b(d.M(),"%40","@")},a=>{const b=a.D(0).$(),d=a.D(1).ca,c=a.D(2).ca;return()=>b(d.M(),c.M())},a=>{const b=a.D(0).ca,d=a.D(1).ca,c=a.D(2).ca;return()=>b.M()+d.M()+c.M()}]};
