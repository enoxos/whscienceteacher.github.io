// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function a(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+D*I;f[1]=C*E+k*I;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function b(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function e(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*Q+D*S;f[3]=C*Q+E*S;f[4]=x*W+D*t+I;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*I+V*Q;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*I+ca*Q;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*I+t*Q;f[8]=oa*D+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=x+x,K=C+C,N=D+D;k=x*I;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;I*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+D);f[6]=C+I;f[7]=0;f[8]=x+K;f[9]=C-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var I=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-C)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(Q+C)/E,f[2]=.25*E);return f}function r(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*I;f[1]=C*t+k*I+D*E-x*K;f[2]=D*t+k*K+x*I-C*E;f[3]=k*t-x*E-C*I-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var Q=C*I+D*K+E*N+k*t;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*C+x*
I;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],I=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+C*I-t*E;f[5]=C*k+t*D-x*I;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*Q+E*I+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*Q+E*K+D*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-C*I+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*I-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Aga(){return qa},sma:Ma,zga:"zyx",mta:function(f){qa=f},wta:function(f){return f*Mb},od:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},oa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},lx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Ef:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},xW:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},Js:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},rV:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},SK:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:a,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},YC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},WK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},pm:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},VK:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},uka:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},qm:b,tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},od:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},kL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},lL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Rn:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},oa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},lx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Ef:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},Js:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var I=t*D-x*C;if(!I)return null;I=1/I;f[0]=D*I;f[1]=-x*I;f[2]=-C*I;f[3]=t*I;f[4]=(C*k-D*E)*I;f[5]=(x*E-t*k)*I;return f},SK:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+I;f[5]=C*K+E*t+k;return f},YC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},WK:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},XK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},pm:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},VK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},qm:c,kL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
lL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},od:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Rn:e,sub:c}),Qb=Object.freeze({__proto__:null,create:g,afa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},oa:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Ef:function(f,k,t,x,C,D,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,C,D,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},lx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},xW:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},Js:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-I*N,S=-k*D+I*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+C*N)*V;f[2]=(I*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-I*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},rV:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=C*N-x*k;f[2]=x*I-C*E;f[3]=I*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*I;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},SK:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:m,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*I+Q;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*I;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*I-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},XK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},YC:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},WK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},cra:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},bfa:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},osa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-I*Q+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},eW:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},pm:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},VK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},qm:h,kL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},lL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},od:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Rn:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},oa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Ef:function(f,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,I,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},lx:l,xW:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},Js:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},rV:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*I,pa=x*N-D*I,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},SK:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],I=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=I*S-K*Q,oa=I*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+Q*C+ea*t+k[13];f[14]=I*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*I;var za=x*C*N-D*I;var Aa=C*D*N-x*I;var Ba=D*D*N+K;var Ca=x*D*N+C*I;var Fa=C*x*N+D*I;C=D*x*N-C*I;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=Q*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},uL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],I=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=I*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-I*x;return f},vL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=I*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=I*x+S*t;return f},wL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=I*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-I*x;return f},XK:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},WK:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},YC:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},jra:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},kra:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},lra:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},cfa:p,fra:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(I*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-I*D)/S,t[2]=2*(N*E+Q*D+I*C-K*x)/S):(t[0]=2*(I*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-I*D),t[2]=2*(N*E+Q*D+I*C-K*x));p(f,k,t);return f},ffa:q,wra:u,vra:w,Oqa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],I=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;I*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(D-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+I)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-I)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},gra:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],I=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=I;N*=I;I*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+I)*Q;f[2]=(C-N)*Q;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},hra:function(f,k,t,x,C){var D=k[0],E=k[1],I=k[2],K=k[3],N=D+D,Q=E+E,S=I+I;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=I*S;I=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+Q)*S;E=(E-I)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},bfa:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,I=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=I;D*=k;E*=k;k*=I;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dfa:function(f,k,t,x,C,D,E){var I=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},Bsa:r,perspective:r,Csa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},Asa:function(f,k,t,x){var C=Math.tan(k.Bta*Math.PI/180),D=Math.tan(k.Qqa*Math.PI/
180),E=Math.tan(k.csa*Math.PI/180);k=Math.tan(k.Xsa*Math.PI/180);var I=2/(E+k),K=2/(C+D);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},ysa:v,Lfa:v,zsa:function(f,k,t,x,C,D,E){var I=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},Afa:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(f);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;I=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=Q;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*C+K*D+E*k);f[13]=
-(I*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},sta:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},pm:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},VK:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},qm:y,kL:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},lL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},od:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Rn:n,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Ef:z,oa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},qm:F,multiply:H,km:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},xL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},ix:M,rW:P,kD:R,ZV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,On:Z,RK:X,de:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},cga:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},Bra:function(f,k,t,x,C,D){var E=D*D,I=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*I+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*I+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*I+t[2]*K+x[2]*N+C[2]*D;return f},vqa:function(f,k,t,x,C,D){var E=1-D,I=E*E,K=D*D,N=I*E;I*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*I+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*I+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},FL:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},pga:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},qga:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],I=k[1];k=k[2];var K=C*k-D*I,N=D*E-x*k,Q=x*I-C*E;t=2*t[3];f[0]=E+K*t+2*(C*Q-D*N);f[1]=I+N*t+2*(D*K-x*Q);f[2]=k+Q*t+2*(x*N-C*K);return f},uL:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},vL:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},wL:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},JW:function(f){f[0]=0;f[1]=0;f[2]=0;return f},pm:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},od:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
Rn:H,FV:J,DV:M,qW:P,rx:G,jD:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Ef:va,oa:ta,set:ya,add:Na,qm:Sa,multiply:Ta,km:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,xL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},ix:eb,rW:fb,length:Pa,kD:Va,ZV:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,On:Ya,RK:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*I;f[1]=-(x*t)+
Q*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*I)+N*D-Q*C;return f},de:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var I=D*D+E*E}while(1<=I);C=Math.sqrt((1-C)/I);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},FL:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},qga:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-I*x;x=-E*x-I*C-K*D;f[0]=N*t+x*-E+Q*-K-S*-I;f[1]=Q*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-Q*-E;f[3]=k[3];return f},JW:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},pm:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},tj:wb,od:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-I)<=1E-6*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,Rn:Ta,FV:Ua,DV:eb,qW:fb,rx:Pa,jD:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,I){kb(f,x,E,I);kb(k,C,D,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,lx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},kta:xb,sra:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},qra:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,uL:zb,vL:Ab,wL:Bb,xqa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,zfa:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},cga:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},Js:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Nea:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},dra:Eb,bra:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "xzy":f[0]=D*K*Q-E*I*N;f[1]=E*
I*Q-D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yxz":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q-D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;case "yzx":f[0]=D*K*Q+E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zxy":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N+D*I*Q;f[3]=E*K*Q-D*I*N;break;case "zyx":f[0]=D*K*Q-E*I*N;f[1]=E*I*Q+D*K*N;f[2]=E*K*N-D*I*Q;f[3]=E*K*Q+D*I*N;break;default:throw Error("Unknown angle order "+C);}return f},pm:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Ef:va,oa:ta,set:ya,add:Na,Rn:yb,scale:Wa,On:Ya,de:vb,length:Pa,rx:Pa,kD:Va,jD:Va,normalize:ib,tj:wb,od:function(f,k){return.999999<=Math.abs(Ya(f,k))},ata:tb,pta:ub,jta:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Ef:function(f,k,t,x,C,D,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=I;return K},ira:function(f,k,t,x,C,D,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;C*=.5;D*=.5;E*=.5;I[4]=C*x+D*t-E*k;I[5]=D*x+E*f-C*t;I[6]=E*x+C*k-D*f;I[7]=-C*f-D*k-E*t;return I},cfa:Fb,XK:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},YC:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},afa:function(f,k){var t=jb();w(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},oa:Gb,lx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=I;f[7]=K;return f},ura:ta,tra:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},nta:ta,lta:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},ffa:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*I);f[1]=2*(x*k+D*I+C*E-t*K);f[2]=2*(C*k+
D*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*I+C*t-D*K+N;f[5]=E*K+D*I-x*t+Q;f[6]=E*t+x*K-C*I+S;f[7]=-x*I-C*K-D*t+k;return f},uL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+
I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},vL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},wL:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],Q=k[7],S=I*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-I*D,V=N*E+Q*D+I*C-K*x;I=Q*E-I*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+I*x+W*D-V*C;f[5]=W*E+I*C+V*x-S*D;f[6]=V*E+I*D+S*C-W*x;f[7]=I*E-S*x-W*C-V*D;return f},Zsa:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*D-K*C;f[1]=I*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-I*x;f[3]=N*t-E*x-I*C-K*D;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*D-K*C;f[5]=I*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-I*x;f[7]=N*t-E*x-I*C-K*D;return f},$sa:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*I;f[1]=C*N+k*I+D*E-x*K;f[2]=D*N+k*K+x*I-C*E;f[3]=k*N-x*E-C*I-D*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*I;f[5]=C*N+k*I+D*E-x*K;f[6]=D*N+k*K+x*I-C*E;f[7]=k*N-x*E-C*I-D*K;return f},Ysa:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,I=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*I;f[1]=D*x+N*I+K*E-C*t;f[2]=K*x+N*t+C*I-D*E;f[3]=N*x-C*E-D*I-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*I;f[5]=D*x+k*I+K*E-C*t;f[6]=K*x+k*t+C*I-D*E;f[7]=k*x-C*E-D*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,Rn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},On:Ya,de:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},Js:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Nea:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,rx:Pa,kD:Va,jD:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*I+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(I-x*Q)/t;f[5]=(K-C*Q)/t;f[6]=(N-D*Q)/t;f[7]=(k-E*Q)/t}return f},pm:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},od:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Ef:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},oa:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},qm:mb,multiply:nb,km:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},xL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},ix:ob,rW:Qa,length:pb,
kD:qb,ZV:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},On:function(f,k){return f[0]*k[0]+f[1]*k[1]},RK:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},de:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},yta:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},zta:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},pga:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},FL:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},JW:function(f){f[0]=0;f[1]=0;return f},pm:function(f){return"vec2("+f[0]+", "+f[1]+")"},tj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},od:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},rx:pb,sub:mb,Rn:nb,FV:Za,
DV:ob,qW:Qa,jD:qb,forEach:gb});d.uj=Nb;d.gsa=Ob;d.hsa=Pb;d.isa=Qb;d.mm=Rb;d.Isa=tb;d.Jsa=ub;d.Hta=gb;d.oD=rb;d.Cx=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.nqa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.uj={}));
{"use strict";function d(r,v,y,A){var G=v[0]-r[0];v=v[1]-r[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-r[1])+v*(r[0]-y[0]))/(z*v-F*G);r=(z*(r[1]-y[1])+F*(y[0]-r[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=r&&1>=r}function a(r,v,y){return(v[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(v[1]-r[1])}function b(r,v,y){return 0<a(r,v,y)}function e(r,v,y){return 0<=a(r,v,y)}function c(r,v,y){return 0>=a(r,v,y)}var ab=[],bb=[];function g(r,v){var y=v[0]-r[0];r=v[1]-r[1];return y*y+r*r}function m(r,v){var y=
r.length;return r[0>v?v%y+y:v%y]}function h(r,v,y,A){for(;y<A;y++)r.push(v[y])}function l(r,v){var y=m(r,v-1),A=m(r,v);r=m(r,v+1);return 0>a(y,A,r)}var cb=[],Jb=[];function n(r,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(r[G]);else{for(G=0;G<=y;G++)A.push(r[G]);for(G=v;G<r.length;G++)A.push(r[G])}return A}function p(r){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<r.length;++F)if(l(r,F))for(var H=0;H<r.length;++H){a:{A=r;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&e(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
F,H,G));A=p(n(r,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(r,F),m(r,H)]))}}return v}function q(r,v){if(0===v.length)return[r];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){r=[r];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<r.length;G++){var z=q(r[G],A);if(z){r.splice(G,1);r.push(z[0],z[1]);break}}return r}A=v;y=r.indexOf(A[0]);G=r.indexOf(A[1]);return-1!==y&&-1!==G?[n(r,y,G),n(r,G,y)]:!1}function u(r,v,y,
A,G){var z=v[1]-r[1];v=r[0]-v[0];r=z*r[0]+v*r[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*r-v*y)/H,(z*y-F*r)/H]}function w(r,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>r.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<r.length;++ta){if(b(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y-1),m(r,Y),m(r,ta-1))){M=u(m(r,Y-1),m(r,Y),m(r,ta),m(r,ta-1));var ya=m(r,Y+1);var Na=m(r,Y);0>a(ya,Na,M)&&(ya=g(r[Y],M),ya<P&&(P=ya,J=M,T=ta))}b(m(r,Y+1),m(r,Y),m(r,ta+1))&&c(m(r,Y+1),m(r,Y),m(r,ta))&&(M=u(m(r,Y+1),m(r,Y),m(r,ta),m(r,ta+1)),b(m(r,Y-1),m(r,Y),M)&&(ya=g(r[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%r.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(h(X,r,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,r,T,r.length),h(ba,
r,0,Y+1)):(0!==Y&&h(X,r,Y,r.length),h(X,r,0,R+1),X.push(M),ba.push(M),h(ba,r,T,Y+1));else{T>R&&(R+=r.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(r,Y-1),m(r,Y),m(r,ta))&&c(m(r,Y+1),m(r,Y),m(r,ta))){ya=g(m(r,Y),m(r,ta));if(T=ya<H)a:{T=r;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&d(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%r.length)}Y<Z?(h(X,r,Y,Z+1),0!==Z&&h(ba,r,Z,r.length),h(ba,r,0,Y+1)):(0!==
Y&&h(X,r,Y,r.length),h(X,r,0,Z+1),h(ba,r,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(r);return v}self.Fsa={Nqa:function(r){var v=p(r);return 0<v.length?q(r,v):[r]},Ksa:w,Jra:function(r){var v;for(v=0;v<r.length-1;v++)for(var y=0;y<v-1;y++)if(d(r[v],r[v+1],r[y],r[y+1]))return!1;for(v=1;v<r.length-2;v++)if(d(r[0],r[r.length-1],r[v],r[v+1]))return!1;return!0},Psa:function(r,v){for(var y=0,A=r.length-1;3<r.length&&0<=A;--A){var G=
m(r,A-1);var z=m(r,A),F=m(r,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===a(G,z,F);G&&(r.splice(A%r.length,1),y++)}return y},Qsa:function(r,v){for(var y=r.length-1;1<=y;--y)for(var A=r[y],G=y-1;0<=G;--G){var z=A,F=r[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&r.splice(y,1)}},fsa:function(r){for(var v=0,y=1;y<r.length;++y)if(r[y][1]<
r[v][1]||r[y][1]===r[v][1]&&r[y][0]>r[v][0])v=y;if(b(m(r,v-1),m(r,v),m(r,v+1)))return!1;v=[];y=r.length;for(var A=0;A!==y;A++)v.push(r.pop());for(A=0;A!==y;A++)r[A]=v[A];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.nx=!1;d.fL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.qg={}}
{"use strict";const d=self.B;d.uO=class{constructor(a){this.dea=a;this.Ha=new Map;this.maa()}maa(){var a=this.dea;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.naa(b)}naa(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ha.set(e,a)}else this.Ha.set(a,null)}Ly(a){return this.Ha.has(a)}Y(a){a=this.Ha.get(a);return"undefined"===typeof a?null:a}};d.eF=new d.uO(location.search);
d.Kka=new d.uO(location.hash);d.eF.Y("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={yfa:/linux|openbsd|freebsd|netbsd/i.test(a),Kea:/CrOS/.test(a),pD:/trident|iemobile|msie|tizen/i.test(a),pra:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),wV:/bb10/i.test(a),$ea:/edge\//i.test(a),zW:/trident/i.test(a),webkit:/webkit/i.test(a),Wfa:/safari\//i.test(a),Jea:/chrome\//i.test(a),Lea:/chromium\//i.test(a),Oea:/crosswalk|xwalk/i.test(a),rsa:/nwjs/i.test(a),yea:/amazonwebappplatform/i.test(a),vga:/wv\)/.test(a),zea:/android/i.test(a),
Ifa:/nokiabrowser\/[0-9.]+/i.test(a)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Sb=/OPR\/[0-9.]+/.exec(a),Tb=/tizen\s+[0-9.]+/i.exec(a),Ub=/iphone\s+os\s+[0-9_]+/i.exec(a),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Wb=/windows\s+phone\s+[0-9.]+/i.exec(a),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Yb=/chrome\/[0-9.]+/i.exec(a),Zb=/chromium\/[0-9.]+/i.exec(a),$b=/nwjs\/[0-9.]+/i.exec(a),ac=/firefox\/[0-9.]+/i.exec(a),bc=/msie\s+[0-9.]+/i.exec(a),cc=/edge\/[0-9.]+/i.exec(a),
dc=/edg\/[0-9.]+/i.exec(a),ec=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(r,v,y){!0===v?(y(),q.set(r,!0)):v&&v.length&&(y(v[0]),q.set(r,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),r=>{e="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,r=>{e="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isLinux",b.yfa,()=>{e="Linux"});u("isChromeOS",b.Kea,()=>{e="Chrome OS"});u("isAndroid",!b.pD&&Lb,r=>{e="Android";(r=r.split(" ")[1])&&(c=r)});u("isTizen",Tb,r=>{e="Tizen";(r=r.split(" ")[1])&&(c=r)});u("isIPhone",!b.pD&&Ub,r=>{e="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});u("isIPad",!b.pD&&Vb,r=>{e="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});u("isWindowsPhone",Wb,r=>{e="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});u("isWindowsPhoneOS",Xb,r=>{e="Windows Phone";(r=r.split(" ")[3])&&(c=r)});u("isBlackberry",b.wV,()=>{e="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!b.$ea&&!b.opera&&Yb,r=>{g="Chrome";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isOpera",Sb,r=>{g="Opera";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isChromium",Zb,r=>{h=g="Chromium";(r=r.split("/")[1])&&(m=r)});u("isFirefox",ac,r=>{g="Firefox";h="Gecko";(r=r.split("/")[1])&&(m=r)});u("isInternetExplorer",bc,
r=>{g="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(m=r)});u("isTrident","Internet Explorer"!==g&&b.zW,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(a);r&&r.length&&(g="Internet Explorer",(r=r[0].split(":")[1])&&(m=r))});u("isEdge",cc,r=>{h=g="Edge";(r=r.split("/")[1])&&(m=r)});u("isEdgeChromium",dc,r=>{g="Edge";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isSafari",b.Wfa&&!b.Ifa&&!b.Jea&&!b.Lea&&!b.ora&&!b.wV,()=>{g="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
y=/fxios\/[0-9.]+/i.exec(a);r&&r.length&&(r=r[0].split("/")[1])&&(m=r);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,r=>{g="Silk";(r=r.split("/")[1])&&(m=r)});u("isCrosswalk",b.Oea,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,r=>{l="nwjs";g="NW.js";h="Chromium";(r=r.split("/")[1])&&(m=r)});u("isAmazonWebApp",b.yea,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&b.vga,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!b.pD&&b.zea,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&b.zW,()=>h="Trident");u("isWebkitFallback","(unknown)"===e&&b.webkit,()=>h="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);d.Mb={uh:e,jla:c,Pc:g,sha:m,BD:parseFloat(m),Kx:h,ID:l,Eja:n,Uy:!n,Fja:p,zja:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),vja:"Mac OS X"===e||"iOS"===e,Lja:w,Oja:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((r,v)=>{w.onsuccess=()=>r(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((r,v)=>{w.oncomplete=()=>r();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,r){return h(w,r)}function m(w,r){return h(w,r,!0)}async function h(w,r,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return r(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),h(w,r,v,!1);throw G;}}function l(w){p(w);let r=d.get(w);r instanceof Promise||(r=n(w),d.set(w,r),r.catch(()=>d.delete(w)));return r}async function n(w){p(w);const r=indexedDB.open(w,2);r.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(r)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,r){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(r){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,r){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(r,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async r=>{var v=r.objectStore("keyvaluepairs").get(w);v=e(v);r=c(r);[,r]=await Promise.all([r,v]);return r})}delete(w){p(w);return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").delete(w);v=e(v);r=c(r);await Promise.all([r,v])})}clear(){return m(this.name,async w=>{var r=w.objectStore("keyvaluepairs").clear();r=e(r);w=c(w);await Promise.all([w,r])})}keys(){return g(this.name,async w=>{if(b){var r=w.objectStore("keyvaluepairs").getAllKeys();
r=e(r)}else r=q(w,"keys");w=c(w);[,w]=await Promise.all([w,r]);return w})}values(){return g(this.name,async w=>{if(a){var r=w.objectStore("keyvaluepairs").getAll();r=e(r)}else r=q(w,"values");w=c(w);[,w]=await Promise.all([w,r]);return w})}entries(){return g(this.name,async w=>{var r=q(w,"entries");w=c(w);[,r]=await Promise.all([w,r]);return r})}}self.Q1=u}"use strict";
{const d=self.Q1,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.T=l;b.set(this,new Map)}Cu(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async mT(l){l=
b.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async JU(l,n){n=await m(n);b.get(this).set(l,n)}GU(l){b.get(this).delete(l)}MS(){b.get(this).clear()}VT(){return Array.from(b.get(this).keys())}async getItem(l,n){g(n);if(e)return await this.mT(l);let p;try{p=await this.T.get(l)}catch(q){this.Cu(q);if(e)return await this.mT(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(e)await this.JU(l,n);else try{await this.T.set(l,n)}catch(q){if(this.Cu(q),e)await this.JU(l,n);else throw q;}}async removeItem(l,n){g(n);if(e)this.GU(l);else try{await this.T.delete(l)}catch(p){this.Cu(p),e?this.GU(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(e)this.MS();else try{await this.T.clear()}catch(n){this.Cu(n),e?this.MS():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(e)return this.VT();l=[];try{l=await this.T.keys()}catch(n){this.Cu(n);
if(e)return this.VT();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return e?Promise.resolve(!0):this.T.ready()}QK(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.B;d.hc={};d.hc.Ypa=(()=>{try{if("Safari"===d.Mb.Pc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.hc.ria="undefined"!==typeof HTMLDialogElement;d.hc.Gma=!!self.requestIdleCallback;d.hc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Mb.Pc;d.hc.ImageBitmapOptions=!1;if(d.hc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(a=>{d.hc.ImageBitmapOptions=10===a.width&&10===a.height?!0:!1}).catch(()=>{d.hc.ImageBitmapOptions=!1})}catch(a){d.hc.ImageBitmapOptions=!1}d.hc.Dha=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Mb.Pc);d.hc.Lla=!(!navigator.permissions||!navigator.permissions.query);d.hc.sO="undefined"!==typeof Proxy;d.hc.via="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.hc.Mx="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.hc.Fia="function"===typeof fetch;d.hc.Nla=!!(self.isSecureContext&&"Opera"!==d.Mb.Pc&&navigator.storage&&navigator.storage.persist);d.hc.fpa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Mb.uh)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.hc.Nia=fc;d.hc.jja=
"undefined"!==typeof self.ImageDecoder;d.hc.cla=!!self.showOpenFilePicker;d.hc.dla=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Zs(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,a(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.ae||(Array.prototype.ae=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.ae||(String.prototype.ae=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.hy())}}
{"use strict";const d=self.B,a=self.qg;d.Gm=function(e){return"number"===typeof e};d.Cm=function(e){return d.Gm(e)&&isFinite(e)};d.Sf=function(e){if(!d.Gm(e))throw new TypeError("expected number");};d.DO=function(){};d.cna=function(e,c,g){if(!d.Gm(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};d.Pma=function(...e){for(let c of e);};d.xh=function(e){if(!d.Cm(e))throw new TypeError("expected finite number");};d.AO=function(){};d.Mma=function(...e){for(let c of e);};d.Ci=function(e){return"string"===
typeof e};d.Gd=function(e){if(!d.Ci(e))throw new TypeError("expected string");};d.FO=function(){};d.Rma=function(...e){for(let c of e);};d.IN=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.pna=function(e){if(!d.IN(e))throw new TypeError("expected simple object");};d.mna=function(e){if(!d.ge(e)&&!d.IN(e))throw new TypeError("expected simple object");};d.HN=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.yO=function(e){if(!d.HN(e))throw new TypeError("expected object");
};d.EO=function(){};d.Qma=function(...e){for(let c of e);};d.LE=function(e){return d.Dm(e,Blob)&&"string"===typeof e.name};d.ana=function(e){if(!d.LE(e))throw new TypeError("expected file");};d.kna=function(){};d.qo=function(e){return Array.isArray(e)};d.kF=function(e){if(!d.qo(e))throw new TypeError("expected array");};d.zO=function(){};d.Lma=function(...e){for(let c of e);};d.r1=function(e){return d.qo(e)?e.length?d.qo(e[0])?!0:!1:!0:!1};d.Kma=function(e){if(!d.r1(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.qo(c))throw new TypeError("expected 2d array");};d.dna=function(){};d.ME=function(e){return"function"===typeof e};d.Xj=function(e,c){if(!d.ME(e))throw new TypeError("expected function");if(!d.ge(c)&&e!==c)throw new TypeError("expected same function reference");};d.BO=function(){};d.Nma=function(...e){for(let c of e);};d.Tma=function(e,...c){if(!d.ME(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.ge(g)&&
e===g)return;throw new TypeError("expected same function reference");};d.ena=function(...e){if(!d.ge(e))for(let c of e);};d.Dm=function(e,c){return e instanceof c};d.EN=function(e,...c){for(let g of c)if(d.Dm(e,g))return!0;return!1};d.lF=function(e,c){if(!d.Dm(e,c))throw new TypeError("unexpected type");};d.CO=function(){};d.Oma=function(e,...c){for(let g of c);};d.Uma=function(e,...c){if(!d.EN(e,...c))throw new TypeError("unexpected type");};d.Vma=function(e,...c){if(!d.ge(e)&&!d.EN(e,...c))throw new TypeError("unexpected type");
};d.wja=function(e,c){for(let g of e)if(!d.Dm(g,c))return!1;return!0};d.xja=function(e){for(let c of e)if(!d.Cm(c))return!1;return!0};d.Wma=function(e){for(let c of e);};d.fna=function(e){if(!d.ge(e))for(let c of e);};d.Xma=function(e){for(let c of e);};d.gna=function(e){if(!d.ge(e))for(let c of e);};d.Bja=function(e,c){return d.ge(e)||!d.Ci(e.nodeName)?!1:!c||d.Pn(e.nodeName,c)};d.Yma=function(e,c){if(d.ge(e)||!d.Ci(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Pn(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.hna=function(){};d.OE=function(e,c){return d.ge(e)||!d.Ci(e.tagName)?!1:!c||d.Pn(e.tagName,c)};d.bna=function(e,c){if(d.ge(e)||!d.Ci(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.Pn(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.lna=function(){};d.yN=function(e){return d.OE(e,"img")||d.OE(e,"canvas")||d.OE(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.Zma=function(e){if(!d.yN(e))throw new TypeError("expected drawable");
};d.ina=function(){};d.zN=function(e){return e instanceof ImageData?!0:d.yN(e)};d.$ma=function(e){if(!d.zN(e))throw new TypeError("expected drawable or image data");};d.jna=function(e){if(!d.ge(e)&&!d.zN(e))throw new TypeError("expected drawable or image data");};d.K1=function(e){return"string"===typeof e||e instanceof d.AE||e instanceof d.tm};d.qna=function(e){if(!d.K1(e))throw new TypeError("expected string-like");};d.nna=function(){};d.Sma=function(...e){for(let c of e);};d.ona=function(){throw Error("must be overridden");
};d.ila=function(){throw Error("not yet implemented");};d.Dja=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};d.ge=function(e){return"undefined"===typeof e||null===e};d.dha=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};d.eha=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.nka=function(e){return d.Dm(e,b)};d.rna=function(){};
d.Xpa=function(e){d.x6(e,b)};d.Wpa=function(e,...c){if(!d.w6(e,...c))throw new TypeError("unexpected type");};d.w6=function(e,...c){for(const g of c)if(d.JP(e,g))return!0;return!1};d.x6=function(e,c){if(!d.JP(e,c))throw new TypeError("unexpected type");};d.JP=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.Sf=d.Sf;a.DO=d.DO;a.xh=d.xh;a.AO=d.AO;a.Gd=d.Gd;a.FO=d.FO;a.yO=d.yO;a.EO=d.EO;a.kF=d.kF;a.zO=d.zO;a.Xj=d.Xj;a.BO=d.BO;a.lF=d.lF;a.CO=d.CO;a.ge=
d.ge}
{"use strict";const d=self.B,a=new Map;d.tma=function(u,...w){a.has(u)||a.set(u,-1);-1===a.get(u)&&a.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);a.set(u,-1)}))};let b;d.cpa=function(u){performance.mark(u);b||(b=new Map);b.has(u)||b.set(u,{current:0,total:0,vV:0,KK:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.vV.toPrecision(3)} :: calls => ${this.KK}`}})};d.xia=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=b.get(u);u.current=w.duration;u.total+=u.current;u.vV=u.total/u.KK;u.KK++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.hy=function(){return Error().stack};d.nia=function(){debugger};d.Dqa=function(u,w){return u&&u instanceof w?u:null};d.Ok=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Gm(u)?"<number>":d.Ci(u)?"<string>":d.qo(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.ME(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.$C=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,g=new WeakMap,m=new WeakMap;d.iq={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",d.hy())}d.iq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||l(`Accessed missing property '${w}' from defended object '${d.Ok(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&l(`Accessed property '${w}' on a released object '${d.Ok(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.iq.set=function(u,w,r){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${r}' on defended object '${d.Ok(u)}'`);{var v=d.$C(u[w]);
let y=d.$C(r);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${d.$C(u[w])}' property '${w}' to type '${d.$C(r)}' on defended object '${d.Ok(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${d.Ok(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=r;return!0};d.iq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.Ok(u)}'`);};d.iq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.Ok(u)}'`);};d.iq.Sqa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.Ok(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.Ok(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ea=class{constructor(){if(d.fL&&d.hc.sO){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.iq);e.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.Qea=function(u){if(d.fL&&d.hc.sO&&u instanceof d.ea){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.nx?Object.seal(u):u};d.A=function(u,...w){let r;try{r=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.fL){w=r;var v=new Set;for(y in w)v.add(y);var y=v;if(w=q.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.Ln(v,[...y]);v.length&&console.warn(`[Defence] '${d.Ok(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else q.set(u,y)}return d.Qea(r)};d.j=function(u){(u=g.get(u))&&m.set(u,d.hy())};d.zz=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let q=new Map;d.Kla=class{constructor(u){this.Ea="";u&&this.start(u)}start(u){this.Ea=u;performance.mark(this.Ea+"-Start")}end(){performance.mark(this.Ea+"-End");performance.measure(this.Ea,
this.Ea+"-Start",this.Ea+"-End")}next(u){this.end();this.Ea=u;performance.mark(this.Ea+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};d.Cfa=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};d.normalize=function(g,m,h){return(g-m)/(h-m)};d.da=function(g,m,h){return g<m?m:g>h?h:g};d.ue=function(g){g%=a;0>g&&(g+=a);return g};d.ib=function(g){return g*b};d.Gf=function(g){return g*e};d.Fs=function(g,m,h,l){return Math.hypot(h-g,l-m)};d.EV=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};d.PC=function(g,m,h,l){return Math.atan2(l-m,h-g)};d.Es=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.IK=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>h?0<n*p-l*q?d.ue(g+h):d.ue(g-h):d.ue(m)};d.Af=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};d.HK=function(g,m,h,l=0){let n=d.Es(g,m);l*=a;return d.Af(m,
g)?d.ue(g+(n+l)*h):d.ue(g-(n+l)*h)};d.Bea=function(g,m,h,l=0){const n=d.Es(g,m);l*=a;return d.Af(m,g)?d.ue(g+(n+l)*h):d.ue((a-n+l)*h)};d.Aea=function(g,m,h,l=0){const n=d.Es(g,m);l*=a;return d.Af(m,g)?d.ue((-a+n-l)*h):d.ue(g-(n+l)*h)};d.de=function(g,m,h){return g+h*(m-g)};d.mD=function(g,m,h){return g===m?0:(h-g)/(m-g)};d.Sfa=function(g,m,h,l){return d.de(0,l,d.mD(g,m,h))};d.fD=function(g,m,h,l){return d.de(d.de(g,m,l),d.de(m,h,l),l)};d.CV=function(g,m,h,l,n){return d.de(d.fD(g,m,h,n),d.fD(m,h,l,
n),n)};d.BV=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};d.Pk=function(g){return 0<g&&0===(g-1&g)};d.$V=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};d.bta=function(g,m){return Math.round(g*m)/m};d.Zqa=function(g,m){return Math.floor(g*m)/m};d.gD=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};d.q3=function(g,m,h){return d.da(g,0,255)|d.da(m,
0,255)<<8|d.da(h,0,255)<<16};d.az=function(g,m,h,l){g=d.da(Math.floor(1024*g),-8192,8191);m=d.da(Math.floor(1024*m),-8192,8191);h=d.da(Math.floor(1024*h),-8192,8191);l=d.da(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};d.nO=function(g,m,h){return d.az(g,m,h,1)};d.oE=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.hE=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.XD=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.OZ=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.ifa=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.rra=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=d.ifa(g,m);return[g/h,m/h]};d.ita=function(g,m,h,l,n,p,q,u){var w=Math.min(g,h),r=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||w>r)return!1;w=Math.min(m,l);r=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>r)return!1;w=n-g+q-h;r=p-m+u-l;g=h-g;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*r-p*w)>u?!1:Math.abs(g*r-m*w)<=u};d.nm=function(g,m,h,l,n,p,q,u,w,r,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(r,y);if(u<Math.min(r,y)||q>n)return!1;q=w-g+v-h;u=r-m+y-l;g=h-g;m=l-m;w=v-w;r=y-r;y=Math.abs(m*w-r*g);return Math.abs(w*u-r*q)>y?!1:Math.abs(g*u-m*q)<=y};d.hD=function(g,m,h,l,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l),r=n.wb,v=n.xb,y=n.rc,A=n.sc,G=n.lc,z=n.mc,F=n.jc;n=n.kc;return d.nm(g,m,h,l,p,q,u,w,r,v,y,A)||d.nm(g,m,h,l,p,q,u,w,y,A,G,z)||d.nm(g,m,h,l,p,q,u,w,G,z,F,n)||d.nm(g,m,h,l,p,q,u,w,F,n,r,v)};d.hta=function(g,m,h,l,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l);let r=0;for(let v=n.length-4;r<=v;r+=2)if(d.nm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[r+2],n[r+3]))return!0;return d.nm(g,m,h,l,p,q,u,w,n[r],n[r+1],n[0],n[1])};d.Rfa=function(g,m,h,l,n,p,q,u){h-=g;p=u-p;const w=h*p-(l-m)*(q-n);if(0===w)return 2;l=((m-l)*(q-g)+h*(u-m))/w;return 0<l&&1.000001>l?(p*(q-g)+(n-q)*(u-m))/w:2};d.yx=function(g,m,h,l,n,p,q,u,w){const r=(q-n)*w;w*=u-p;return d.Rfa(g,m,h,l,n-r,p-w,q+r,u+w)};d.sfa=function(g,m,h,l,n,p,q,u){n-=
h;p-=l;q-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};d.tga=function(g,m,h,l,n,p,q,u){n-=h;p-=l;q-=h;u-=l;g-=h;const w=m-l;m=n*n+p*p;l=n*q+p*u;h=q*q+u*u;n=g*n+w*p;p=g*q+w*u;q=m*h-l*l;u=(h*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};d.sga=function(g,m,h,l,n,p,q,u,w){return[g*l+m*p+h*u,g*n+m*q+h*w]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Pia=function(){return b};d.YD=function(){if(!a)return"";const l=a.location;return d.Q_(l.origin+l.pathname)+b};d.Q_=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Sia=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.m_=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.ny=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.q2=function(l){return l.replace(/\\/g,"/")};d.Hja=function(l,n){return n===(l?d.m_(l).slice(1):"")};d.Gia=function(l,n){let p,q;d.LE(l)&&(p=d.ny(l.name));d.Ci(l)&&(p=
d.ny(l));d.LE(n)&&(q=d.ny(n.name));d.Ci(n)&&(q=d.ny(n));return p===q};d.Hla=function(l){l=d.q2(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,w="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:q,tqa:u,name:l,root:n,ext:w,mra:n+q+u}};d.TF=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.rta=function(l){try{l()}catch(n){d.nx&&console.warn("Swallowed exception: ",n)}};d.nsa=function(){};d.Pn=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Tqa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.uga=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.Ye=function(l,n){l.length=n};d.D=function(l){l&&0!==l.length&&d.Ye(l,0)};d.Mea=function(l){if(l){for(let n=0;n<l.length;n++)d.Ye(l[n],0);d.Ye(l,0)}};d.WC=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.jW=function(l){var n=4;const p=l.length;n<p?d.Ye(l,n):n>p&&d.WC(l,n,"0")};d.Nc=function(l,n){d.D(l);d.Ln(l,n)};d.Ln=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.Eea=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.Ye(l,p)}};d.Nk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.sqa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.Dea=function(l,n){let p=[],q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n(r)?p.push(r):(l[q]=r,++q)}d.Ye(l,q);return p};d.mg=function(l,n){const p=l.length;let q=0;for(let u=0,w=l.length;u<w;++u){let r=l[u];n.has(r)||
(l[q++]=r)}d.Ye(l,q);return p-q};d.pfa=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Gta=function(l,n){if(!d.pfa(l,n))throw new RangeError("array index out of bounds");};d.PK=function(l){return l.slice()};d.Rea=function(l,n){let p=[];for(let q of l)if(d.HN(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.qo(q)?p.push(d.Rea(q,n)):p.push(q);return p};d.Eqa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.jsa=function(l,n){return new Set([...l,...n])};d.ksa=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.Ara=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.F3=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let w=0,r=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{r||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{r=!0;q(A)})}):Promise.resolve([])};let e=[];d.Rga=function(l){e.push(l)};d.Ria=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};d.jF=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};d.AX=function(l){g.delete(l)};d.z3=d.jF;d.u6=function(){return new Promise(l=>d.z3(l))};const h=new Set;d.Ima=function(l){const n=self.requestAnimationFrame(async p=>{await d.u6();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};d.wha=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.B;d.HE=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.UE=function(a){return!d.HE(a)};d.a6=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.fy=function(a){return fetch(a,void 0).then(b=>{d.a6(b);return b})};d.ct=function(a){return d.fy(a).then(b=>b.text())};d.wM=function(a){return d.fy(a).then(b=>b.json())};d.Tk=function(a){return d.fy(a).then(b=>b.blob())};d.bt=function(a){return d.fy(a).then(b=>
b.arrayBuffer())};d.FZ=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=g=>e(g);c.src=a})};d.pX=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.QL=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.oha=function(a){return d.QL(a).then(b=>
JSON.parse(b))};d.qX=async function(a){a=URL.createObjectURL(a);try{const b=await d.FZ(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.kh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.Mx=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.da(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.Qk(()=>d.WL(a,b,e))};d.WL=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.da(e,0,1);return d.eY(a.toDataURL(b,e))};d.eY=function(a){a=d.r3(a);return d.nX(a.data,a.Dfa)};d.r3=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{Dfa:a,data:e}};d.nX=function(a,b){var e=a.length;let c=e>>2,g=new Uint8Array(e),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)g[l]=a.charCodeAt(l),++l;return b?new Blob([g],{type:b}):new Blob([g])};d.pM=function(a,b,e){const c=d.kh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return d.Mx(c,b,e)};d.ija=function(a,
b,e){const c=d.kh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.WL(c,b,e)};d.hja=function(a,b,e){if(d.hc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>d.pM(c,b,e));if(d.hc.ImageBitmap)return createImageBitmap(a).then(c=>d.pM(c,b,e));{const c=d.kh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.Mx(c,b,e)}};d.UX=function(a,b){a.clear();for(const e of b)a.add(e)};d.Qka=function(a){const b=Object.create(null);for(const [e,c]of a.entries())b[e]=
c;return b};d.kla=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.QF=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(b))c[g]=e(m);return c}}return b};d.UD=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>c(g)));if("map"===
e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(e))g[m]=c(h);return g}}return e};d.uX=function(e){let c="",g=!1;for(const m of e)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};d.Fm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.g2=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const d=self.B;d.$a=class{constructor(a,b,e,c){this.Ta=this.Ua=this.Va=this.Sa=0;a instanceof d.$a?this.set(a):this.Tn(a||0,b||0,e||0,c||0)}Qs(a,b,e){this.Sa=+a;this.Va=+b;this.Ua=+e;this.da()}Tn(a,b,e,c){this.Sa=+a;this.Va=+b;this.Ua=+e;this.Ta=+c;this.da()}set(a){this.Sa=a.Sa;this.Va=a.Va;this.Ua=a.Ua;this.Ta=a.Ta;return this}oa(a){return this.set(a)}add(a){this.Sa+=a.Sa;this.Va+=a.Va;this.Ua+=a.Ua;this.Ta+=a.Ta;this.da()}qV(a,b,e){this.Sa+=+a;this.Va+=+b;this.Ua+=+e;this.Ta+=0;this.da()}rj(a){this.Sa=
a.Sa;this.Va=a.Va;this.Ua=a.Ua}nW(a){this.Sa=d.da(+a,0,1)}aga(a){this.Va=d.da(+a,0,1)}Yfa(a){this.Ua=d.da(+a,0,1)}Os(a){this.Ta=d.da(+a,0,1)}clone(){return d.A(d.$a,this.Sa,this.Va,this.Ua,this.Ta)}toArray(){return[this.Sa,this.Va,this.Ua,this.Ta]}ih(a,b){a[b++]=this.Sa;a[b++]=this.Va;a[b++]=this.Ua;a[b]=this.Ta}od(a){return this.Sa===a.Sa&&this.Va===a.Va&&this.Ua===a.Ua&&this.Ta===a.Ta}lm(a){return this.Sa===a.Sa&&this.Va===a.Va&&this.Ua===a.Ua}VC(a,b,e,c){return this.Sa===a&&this.Va===b&&this.Ua===
e&&this.Ta===c}multiply(a){this.Sa*=a.Sa;this.Va*=a.Va;this.Ua*=a.Ua;this.Ta*=a.Ta}sL(){this.Sa*=this.Ta;this.Va*=this.Ta;this.Ua*=this.Ta}da(){this.Sa=d.da(this.Sa,0,1);this.Va=d.da(this.Va,0,1);this.Ua=d.da(this.Ua,0,1);this.Ta=d.da(this.Ta,0,1);return this}Ps(a){this.Sa=d.oE(a);this.Va=d.hE(a);this.Ua=d.XD(a);this.Ta=d.OZ(a)}efa(){return`rgb(${100*(d.Cm(void 0)?NaN:this.Sa)}%, ${100*(d.Cm(void 0)?NaN:this.Va)}%, ${100*(d.Cm(void 0)?NaN:this.Ua)}%)`}bW(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var e=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.nW(a);isFinite(e)&&this.aga(e);isFinite(b)&&this.Yfa(b);this.Os(1)}}}toJSON(){return[this.Sa,this.Va,this.Ua,this.Ta]}om(a){!Array.isArray(a)||3>a.length||(this.Sa=a[0],this.Va=a[1],this.Ua=a[2],this.Ta=4<=a.length?a[3]:1)}set r(a){this.nW(a)}get r(){return this.Sa}set Zp(a){this.Os(a)}get Zp(){return this.Ta}static ND(a,b){return d.da(Math.max(a,
b)-Math.min(a,b),0,1)}};d.$a.bqa=Object.freeze(d.A(d.$a,1,1,1,1));d.$a.nha=Object.freeze(d.A(d.$a,0,0,0,1));d.$a.Dpa=Object.freeze(d.A(d.$a,0,0,0,0))}
{"use strict";const d=self.B;d.mu=class{constructor(a,b){this.N=this.O=0;a instanceof d.mu?this.oa(a):this.set(a||0,b||0)}set(a,b){this.O=+a;this.N=+b}oa(a){this.O=a.O;this.N=a.N}od(a){return this.O===a.O&&this.N===a.N}toArray(){return[this.O,this.N]}ih(a,b){a[b++]=this.O;a[b]=this.N}offset(a,b){this.O+=+a;this.N+=+b}scale(a,b){this.O*=a;this.N*=b}km(a,b){this.O/=a;this.N/=b}round(){this.O=Math.round(this.O);this.N=Math.round(this.N)}floor(){this.O=Math.floor(this.O);this.N=Math.floor(this.N)}ceil(){this.O=
Math.ceil(this.O);this.N=Math.ceil(this.N)}angle(){return d.PC(0,0,this.O,this.N)}xfa(){return this.O*this.O+this.N*this.N}length(){return Math.sqrt(this.xfa())}Vfa(a,b){const e=this.O*b-this.N*a;this.N=this.N*b+this.O*a;this.O=e}rotate(a){0!==a&&this.Vfa(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.O+=Math.cos(a)*b,this.N+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.O/=a,this.N/=a)}da(a,b){this.O=d.da(this.O,a,b);this.N=d.da(this.N,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,e,c){this.ba=this.ja=this.U=this.X=0;a instanceof d.Rect?this.oa(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.X=+a;this.U=+b;this.ja=+e;this.ba=+c}li(a,b,e,c){a=+a;b=+b;this.X=a;this.U=b;this.ja=a+ +e;this.ba=b+ +c}oa(a){this.X=+a.X;this.U=+a.U;this.ja=+a.ja;this.ba=+a.ba}clone(){return new d.Rect(this.X,this.U,this.ja,this.ba)}od(a){return this.X===a.X&&this.U===a.U&&this.ja===a.ja&&this.ba===a.ba}toArray(){return[this.X,this.U,this.ja,
this.ba]}lga(){new DOMRect(this.X,this.U,this.width(),this.height())}ih(a,b){a[b++]=this.X;a[b++]=this.U;a[b++]=this.ja;a[b]=this.ba}wga(a,b){a[b++]=this.X;a[b++]=this.U;a[b++]=this.ja;a[b++]=this.U;a[b++]=this.ja;a[b++]=this.ba;a[b++]=this.X;a[b]=this.ba}width(){return this.ja-this.X}height(){return this.ba-this.U}Ms(){return(this.X+this.ja)/2}Ns(){return(this.U+this.ba)/2}offset(a,b){a=+a;b=+b;this.X+=a;this.U+=b;this.ja+=a;this.ba+=b}offsetLeft(a){this.X+=+a}offsetTop(a){this.U+=+a}Kfa(a){this.ja+=
+a}Jfa(a){this.ba+=+a}$K(a,b){a=+a;b=+b;this.X-=a;this.U-=b;this.ja+=a;this.ba+=b}multiply(a,b){this.X*=a;this.U*=b;this.ja*=a;this.ba*=b}km(a,b){this.X/=a;this.U/=b;this.ja/=a;this.ba/=b}Qn(){this.U=1-this.U;this.ba=1-this.ba}hga(){const a=this.X;this.X=this.ja;this.ja=a}iga(){const a=this.U;this.U=this.ba;this.ba=a}round(){this.X=Math.round(this.X);this.U=Math.round(this.U);this.ja=Math.round(this.ja);this.ba=Math.round(this.ba)}floor(){this.X=Math.floor(this.X);this.U=Math.floor(this.U);this.ja=
Math.floor(this.ja);this.ba=Math.floor(this.ba)}ceil(){this.X=Math.ceil(this.X);this.U=Math.ceil(this.U);this.ja=Math.ceil(this.ja);this.ba=Math.ceil(this.ba)}da(a,b,e,c){this.X<a&&(this.X=+a);this.U<b&&(this.U=+b);this.ja>e&&(this.ja=+e);this.ba>c&&(this.ba=+c)}normalize(){this.X>this.ja&&this.hga();this.U>this.ba&&this.iga()}aD(a){return!(a.ja<this.X||a.ba<this.U||a.X>this.ja||a.U>this.ba)}ofa(a,b,e){return!(a.ja+b<this.X||a.ba+e<this.U||a.X+b>this.ja||a.U+e>this.ba)}Cf(a,b){return a>=this.X&&a<=
this.ja&&b>=this.U&&b<=this.ba}}}
{"use strict";const d=self.B;d.Bd=class{constructor(a,b,e,c,g,m,h,l){this.kc=this.jc=this.mc=this.lc=this.sc=this.rc=this.xb=this.wb=0;a instanceof d.Bd?this.oa(a):this.set(a||0,b||0,e||0,c||0,g||0,m||0,h||0,l||0)}set(a,b,e,c,g,m,h,l){this.wb=+a;this.xb=+b;this.rc=+e;this.sc=+c;this.lc=+g;this.mc=+m;this.jc=+h;this.kc=+l}oW(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}oa(a){this.wb=a.wb;this.xb=a.xb;this.rc=a.rc;this.sc=a.sc;this.lc=a.lc;this.mc=a.mc;this.jc=a.jc;this.kc=a.kc}od(a){return this.wb===a.wb&&this.xb===
a.xb&&this.rc===a.rc&&this.sc===a.sc&&this.lc===a.lc&&this.mc===a.mc&&this.jc===a.jc&&this.kc===a.kc}toArray(){return[this.wb,this.xb,this.rc,this.sc,this.lc,this.mc,this.jc,this.kc]}ih(a,b){a[b++]=this.wb;a[b++]=this.xb;a[b++]=this.rc;a[b++]=this.sc;a[b++]=this.lc;a[b++]=this.mc;a[b++]=this.jc;a[b]=this.kc}xga(a,b,e){a[b++]=this.wb;a[b++]=this.xb;a[b++]=e;a[b++]=this.rc;a[b++]=this.sc;a[b++]=e;a[b++]=this.lc;a[b++]=this.mc;a[b++]=e;a[b++]=this.jc;a[b++]=this.kc;a[b]=e}offset(a,b){a=+a;b=+b;this.wb+=
a;this.xb+=b;this.rc+=a;this.sc+=b;this.lc+=a;this.mc+=b;this.jc+=a;this.kc+=b}round(){this.wb=Math.round(this.wb);this.xb=Math.round(this.xb);this.rc=Math.round(this.rc);this.sc=Math.round(this.sc);this.lc=Math.round(this.lc);this.mc=Math.round(this.mc);this.jc=Math.round(this.jc);this.kc=Math.round(this.kc)}floor(){this.wb=Math.floor(this.wb);this.xb=Math.floor(this.xb);this.rc=Math.floor(this.rc);this.sc=Math.floor(this.sc);this.lc=Math.floor(this.lc);this.mc=Math.floor(this.mc);this.jc=Math.floor(this.jc);
this.kc=Math.floor(this.kc)}ceil(){this.wb=Math.ceil(this.wb);this.xb=Math.ceil(this.xb);this.rc=Math.ceil(this.rc);this.sc=Math.ceil(this.sc);this.lc=Math.ceil(this.lc);this.mc=Math.ceil(this.mc);this.jc=Math.ceil(this.jc);this.kc=Math.ceil(this.kc)}wj(a){this.wb=a.X;this.xb=a.U;this.rc=a.ja;this.sc=a.U;this.lc=a.ja;this.mc=a.ba;this.jc=a.X;this.kc=a.ba}$fa(a,b){0===b?this.wj(a):this.mW(a,Math.sin(b),Math.cos(b))}mW(a,b,e){const c=a.X*b,g=a.U*b,m=a.ja*b;b*=a.ba;const h=a.X*e,l=a.U*e,n=a.ja*e;a=a.ba*
e;this.wb=h-g;this.xb=l+c;this.rc=n-g;this.sc=l+m;this.lc=n-b;this.mc=a+m;this.jc=h-b;this.kc=a+c}YK(a){a.set(Math.min(this.wb,this.rc,this.lc,this.jc),Math.min(this.xb,this.sc,this.mc,this.kc),Math.max(this.wb,this.rc,this.lc,this.jc),Math.max(this.xb,this.sc,this.mc,this.kc))}Cf(a,b){var e=this.rc-this.wb,c=this.sc-this.xb;const g=this.lc-this.wb,m=this.mc-this.xb;a-=this.wb;b-=this.xb;var h=e*e+c*c;let l=e*g+c*m;c=e*a+c*b;const n=g*g+m*m,p=g*a+m*b;let q=1/(h*n-l*l);e=(n*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=e&&0<h&&1>e+h)return!0;e=this.jc-this.wb;c=this.kc-this.xb;h=e*e+c*c;l=e*g+c*m;c=e*a+c*b;q=1/(h*n-l*l);e=(n*c-l*p)*q;h=(h*p-l*c)*q;return 0<=e&&0<h&&1>e+h}Ms(){return(this.wb+this.rc+this.lc+this.jc)/4}Ns(){return(this.xb+this.sc+this.mc+this.kc)/4}bL(a){var b=a.Ms(),e=a.Ns();if(this.Cf(b,e))return!0;b=this.Ms();e=this.Ns();if(a.Cf(b,e))return!0;b=this.wb;e=this.xb;const c=this.rc,g=this.sc,m=this.lc,h=this.mc,l=this.jc,n=this.kc;return d.hD(b,e,c,g,a)||d.hD(c,g,m,h,a)||d.hD(m,h,l,n,a)||d.hD(l,
n,b,e,a)}Ufa(){const a=this.wb,b=this.xb;this.wb=this.rc;this.xb=this.sc;this.rc=this.lc;this.sc=this.mc;this.lc=this.jc;this.mc=this.kc;this.jc=a;this.kc=b}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.A(d.Bd);d.Zn=class extends d.ea{constructor(e,c=!0){super();e||(e=a);this.Od=Float64Array.from(e);this.nA=new d.Rect;this.up=!0;this.Qg=c}j(){}cW(){return this.Od.length/2}iD(e){this.Od.length===e.length?this.Od.set(e):this.Od=Float64Array.from(e);this.up=!0}Zfa(){this.iD(a)}oa(e){this.iD(e.Od)}yL(){this.up=!0}rea(){if(this.up){var e=this.Od,c=e[0],g=e[1],m=c,h=g;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],q=e[l+1];p<c&&(c=p);p>m&&(m=p);q<g&&
(g=q);q>h&&(h=q)}this.nA.set(c,g,m,h);this.up=!1}}wj(e){let c=this.Od;8!==c.length&&(this.Od=c=new Float64Array(8));c[0]=e.X-NaN;c[1]=e.U-NaN;c[2]=e.ja-NaN;c[3]=e.U-NaN;c[4]=e.ja-NaN;c[5]=e.ba-NaN;c[6]=e.X-NaN;c[7]=e.ba-NaN;this.nA.oa(e);this.nA.offset(NaN,NaN);this.up=!1}zL(e,c,g){b.oa(e);b.offset(c,g);this.iD(b.toArray());this.up=!0}transform(e,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.GL(e,c,m,h)}GL(e,c,g,m){const h=this.Od;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,q=h[l]*e,
u=h[p]*c;h[l]=q*m-u*g;h[p]=u*m+q*g}this.up=!0}offset(e,c){const g=this.Od;for(let m=0,h=g.length;m<h;m+=2)g[m]+=e,g[m+1]+=c}Cf(e,c){const g=this.Od;if(e===g[0]&&c===g[1])return!0;this.rea();var m=this.nA;const h=m.X-110,l=m.U-101,n=m.ja+131;m=m.ba+120;let p,q,u,w,r,v,y,A;h<e?(p=h,u=e):(p=e,u=h);l<c?(q=l,w=c):(q=c,w=l);n<e?(r=n,y=e):(r=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const M=g[H],P=g[H+1],R=g[F];F=g[F+1];d.nm(h,l,e,c,p,u,q,w,M,P,R,F)&&++G;d.nm(n,
m,e,c,r,y,v,A,M,P,R,F)&&++z}return 1===G%2||1===z%2}mx(e,c,g){const m=e.Od,h=this.Od;if(this.Cf(m[0]+c,m[1]+g)||e.Cf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;e=h[n];const q=h[n+1],u=h[l];l=h[l+1];let w,r,v,y;e<u?(w=e,v=u):(w=u,v=e);q<l?(r=q,y=l):(r=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.nm(e,q,u,l,w,v,r,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}Bm(){return this.Qg}}}
{"use strict";const d=self.B;d.Qt=class extends d.ea{constructor(a){super();this.rk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}j(){this.xd();this.rk=null}xd(){const a=this.rk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.rk;let g=c.get(a);g||(g=new Map,c.set(a,g));g.set(b,e)}Y(a,b){return(a=this.rk.get(a))?a.get(b):a}Ly(a){return(a=this.rk.get(a))?a.has(void 0):!1}$n(a,b){const e=this.rk,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}nM(a){const b=this.rk,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,g]of b.entries())g.delete(a)&&0===g.size&&b.delete(c)}zm(){let a=0;for(const b of this.rk.values())a+=b.size;return a}*values(){for(const a of this.rk.values())yield*a.values()}*entries(){for(const [a,b]of this.rk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.B;d.yD=class extends d.ea{constructor(){super();this.un=new Set;this.lA=[];this.gw=!1}j(){this.xd()}xd(){this.un.clear();d.D(this.lA);this.gw=!1}Oc(a){this.un.has(a)||(this.un.add(a),this.gw||this.lA.push(a))}Ly(a){return this.un.has(a)}$n(a){this.un.delete(a)&&(this.gw=!0)}zm(){return this.un.size}to(){return 0===this.un.size}WD(){this.gw&&(this.uaa(),this.gw=!1);return this.lA}uaa(){const a=this.lA;d.D(a);for(const b of this.un)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.Ys=class m{constructor(){}static C1(h){this.bG();return[...a.keys()].includes(h)}static X8(h){const l=g.get(h);if(l)return d.get(l);if(m.C1(h))return d.get(h);if(c.has(h))return c.get(h)}static ko(h){this.bG();const l=m.X8(h);return l?l:e.get(h)}static bG(){0===d.size&&(this.zb("default",()=>{}),this.zb("noease",this.p2),this.zb("easeinsine",this.jZ),this.zb("easeoutsine",
this.sZ),this.zb("easeinoutsine",this.fZ),this.zb("easeinelastic",this.VY),this.zb("easeoutelastic",this.nZ),this.zb("easeinoutelastic",this.aZ),this.zb("easeinback",this.SY),this.zb("easeoutback",this.kZ),this.zb("easeinoutback",this.XY),this.zb("easeinbounce",this.qM),this.zb("easeoutbounce",this.QD),this.zb("easeinoutbounce",this.YY),this.zb("easeincubic",this.UY),this.zb("easeoutcubic",this.mZ),this.zb("easeinoutcubic",this.$Y),this.zb("easeinquad",this.gZ),this.zb("easeoutquad",this.pZ),this.zb("easeinoutquad",
this.cZ),this.zb("easeinquart",this.hZ),this.zb("easeoutquart",this.qZ),this.zb("easeinoutquart",this.dZ),this.zb("easeinquint",this.iZ),this.zb("easeoutquint",this.rZ),this.zb("easeinoutquint",this.eZ),this.zb("easeincirc",this.TY),this.zb("easeoutcirc",this.lZ),this.zb("easeinoutcirc",this.ZY),this.zb("easeinexpo",this.WY),this.zb("easeoutexpo",this.oZ),this.zb("easeinoutexpo",this.bZ),this.RP("cubicbezier",this.RY),this.RP("spline",this.tZ))}static zb(h,l){m.WF(h,l,"predefined")}static RP(h,l){m.WF(h,
l,"private")}static OW(h,l){this.bG();m.WF(h,l,"custom",void 0)}static WF(h,l,n,p){switch(n){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,l)):e.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static p2(h,l,n,p){return n*h/p+l}static gZ(h,l,n,p){return n*(h/=p)*h+l}static pZ(h,l,n,p){return-n*(h/=p)*(h-2)+l}static cZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static UY(h,
l,n,p){return n*(h/=p)*h*h+l}static mZ(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static $Y(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static hZ(h,l,n,p){return n*(h/=p)*h*h*h+l}static qZ(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static dZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static iZ(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static rZ(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static eZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static jZ(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static sZ(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static fZ(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static WY(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static oZ(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static bZ(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static TY(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static lZ(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static ZY(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static VY(h,l,n,p){let q=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+l}static nZ(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+l}static aZ(h,l,n,p){let q,u=0,w=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+l}static SY(h,l,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+l}static kZ(h,l,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static XY(h,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+l:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static qM(h,l,n,p){return n-m.QD(p-h,0,n,p)+l}static QD(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static YY(h,l,n,p){return h<p/2?.5*m.qM(2*h,0,n,p)+l:.5*m.QD(2*h-p,0,n,p)+.5*n+l}static RY(h,l,n,p,q){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(q-l+3*n-3*p)}static tZ(h,l,n,p,q,u,w,r,v,y){if(p===
q&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;r=r-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((r*y+u)*y+l)*y-h)/(3*r*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((r*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*q-n)*h+(3*w-6*q+3*n))*h+3*(q-n))*h}static UZ(h,l,n,p){const q=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+h)*l);return q}}}{"use strict";const d=self.B;d.mma=class{constructor(){this.ST=[]}j(){this.xd();this.ST=null}xd(){d.Mea(this.ST)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.qfa=this.tL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.qfa)throw Error(`cannot stop async event '${this.type}' propagation`);this.tL=!0}};
{"use strict";const d=self.B;d.Event.h0=class extends d.ea{constructor(a){super();this.xa=a;this.mf=[];this.nr=new Set;this.uf=[];this.Sr=new Set;this.tv=0;this.cs=[]}j(){0<this.tv||(d.D(this.mf),this.nr.clear(),d.D(this.uf),this.Sr.clear(),d.D(this.cs),d.j(this))}PP(a,b){this.fR()?this.cs.push({oL:"add",ji:a,capture:b}):b?this.nr.has(a)||(this.mf.push(a),this.nr.add(a)):this.Sr.has(a)||(this.uf.push(a),this.Sr.add(a))}Jaa(a,b){this.fR()?this.cs.push({oL:"remove",ji:a,capture:b}):b?this.nr.has(a)&&
(this.nr.delete(a),d.Nk(this.mf,a)):this.Sr.has(a)&&(this.Sr.delete(a),d.Nk(this.uf,a))}M9(){return!this.mf.length&&!this.uf.length}fR(){return 0<this.tv}raa(){const a=new Set,b=new Set;for(const e of this.cs)if("add"===e.oL)this.PP(e.ji,e.capture),e.capture?b.delete(e.ji):a.delete(e.ji);else if("remove"===e.oL)e.capture?(this.nr.delete(e.ji),b.add(e.ji)):(this.Sr.delete(e.ji),a.add(e.ji));else throw Error("invalid op");d.mg(this.uf,a);d.mg(this.mf,b);d.D(this.cs)}I8(a){this.dr();let b=!1;for(let e=
0,c=this.mf.length;e<c;++e)if(this.mf[e](a),a.tL){b=!0;break}if(!b)for(let e=0,c=this.uf.length;e<c&&(this.uf[e](a),!a.tL);++e);this.Zq();return!a.defaultPrevented}K8(a){this.dr();for(let b=0,e=this.mf.length;b<e;++b)this.mf[b](a);for(let b=0,e=this.uf.length;b<e;++b)this.uf[b](a);this.Zq();return!0}dr(){this.tv++}Zq(){this.tv--;0===this.tv&&0<this.cs.length&&this.raa()}Nq(a){a?this.dr():this.Zq()}xQ(a){const b=[];this.dr();for(let c=0,g=this.mf.length;c<g;++c){var e=this.mf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,g=this.uf.length;c<g;++c)e=this.uf[c](a),e instanceof Promise&&b.push(e);this.Zq();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async F8(a){return await this.xQ(a)}async G8(a){this.dr();for(let e=0,c=this.mf.length;e<c;++e){var b=this.mf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.uf.length;e<c;++e)b=this.uf[e](a),b instanceof Promise&&await b;this.Zq();return!a.defaultPrevented}*H8(a){this.dr();for(let e=0,c=this.mf.length;e<c;++e){var b=
this.mf[e](a);d.Fm(b)&&(yield*b)}for(let e=0,c=this.uf.length;e<c;++e)b=this.uf[e](a),d.Fm(b)&&(yield*b);this.Zq()}}}
{"use strict";const d=self.B;d.Event.Lb=class extends d.ea{constructor(){super();this.jp=new Map;this.ZH=!1}j(){if(this.ZH)throw Error("already released");this.GX();this.ZH=!0;d.j(this)}zz(){return this.ZH}GX(){for(let a of this.jp.values())a.j();this.jp.clear()}So(a,b){let e=this.jp.get(a);return e?e:b?(e=d.A(d.Event.h0,a),this.jp.set(a,e),e):null}vE(a){return this.jp.has(a)}addEventListener(a,b,e){this.So(a,!0).PP(b,!!e)}removeEventListener(a,b,e){let c=this.So(a,!1);c&&(c.Jaa(b,!!e),c.M9()&&this.jp.delete(a))}dispatchEvent(a){const b=
this.So(a.type,!1);return b?a.cancelable?b.I8(a):b.K8(a):!0}async TK(a){const b=this.So(a.type,!1);return b?await b.F8(a):!0}Wea(a){const b=this.So(a.type,!1);return b?b.xQ(a):!0}async Vea(a){const b=this.So(a.type,!1);b&&await b.G8(a)}Xea(a){const b=this.So(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.H8(a)}Nq(a){for(const b of this.jp.values())b.Nq(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function g(n){e=a&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(b.length){var p=performance.now(),q=0;do{h(b.shift());var u=performance.now();++q;var w=(u-p)/q*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&b.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.ji()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.eF.Ly("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Qk=function(n){let p=null;d.nx&&(p=d.hy());return new Promise((q,u)=>{b.push({ji:n,resolve:q,reject:u,stack:p});l?h(b.pop()):-1===e&&g(16)})};d.Qk.YO=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.ey=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,g=new Set;function m(){c=e=-1;let h=Date.now();for(let l of g)if(l.l7(h)){let n=l.gp;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(e=self.setTimeout(m,Math.max(c-h+100,1E3)))}d.J0=class{constructor(h,l){this.mr=h;this.AC=1E3*l;this.gp=0;this.Ib=!1}gd(){let h=d.ey();this.gp=h+this.AC;this.Ib||(g.add(this),this.Ib=!0);-1===e?(c=this.gp,e=self.setTimeout(m,this.AC+
100)):this.gp<c&&c>h+1E3&&(self.clearTimeout(e),c=this.gp,e=self.setTimeout(m,this.AC+100))}l7(h){return h>=this.gp?this.mr()?(this.gp=h+this.AC,!0):this.Ib=!1:!0}zX(){this.Ib&&(g.delete(this),this.Ib=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}j(){this.zX();this.mr=null}}}
{"use strict";const d=self.B;d.Bc=class a{constructor(b){this.Dr=!1;this.$H=b}$x(){this.Dr||(this.Dr=!0,this.$H&&(this.$H(),this.$H=null))}j(){this.$x()}static j(b){return new a(()=>b.j())}static yd(b,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new d.Ws;for(let h of e)b.addEventListener(h,c,g),m.Oc(d.A(d.Bc,()=>b.removeEventListener(h,c,g)));return m}b.addEventListener(e,
c,g);return d.A(d.Bc,()=>b.removeEventListener(e,c,g))}};d.opa=class extends d.Bc{};d.Ws=class extends d.Bc{constructor(...a){super();this.td=new Set;for(let b of a)this.Oc(b)}Oc(...a){if(this.Dr)throw Error("already disposed");for(let b of a)this.td.add(b)}wh(a){if(this.Dr)throw Error("already disposed");this.td.delete(a)}$x(){if(this.Dr)throw Error("already disposed");this.Dr=!0;for(let a of this.td)a.$x();this.td.clear();this.td=null}j(){this.$x()}}}
{"use strict";const d=self.B;d.Yy=class extends d.ea{constructor(){super();this.ns=this.Lw=this.N=this.qA=0}Oc(a){this.N=+a-this.qA;this.Lw=this.ns+this.N;this.qA=this.Lw-this.ns-this.N;this.ns=this.Lw}Y(){return this.ns}gd(){this.ns=this.Lw=this.N=this.qA=0}Set(a){this.Lw=this.N=this.qA=0;this.ns=+a}j(){}}}
{"use strict";const d=self.B,a={gF:function(b){this.yW=b;this.left=this.right=this.yW.lb;this.parent=null;this.color=!1;this.key=null},Ao:function(b){this.size=0;this.lb=new a.gF(this);this.lb.color=!1;this.root=this.lb;this.root.parent=this.lb;this.compare=b||this.Sea}};xa=a.Ao.prototype;xa.Sea=function(b,e){return b<e?-1:e<b?1:0};xa.clone=function(){var b=new a.Ao(this.compare);b.lfa(this);return b};xa.clear=function(){this.size=0;this.lb=new a.gF(this);this.lb.color=!1;this.root=this.lb;this.root.parent=
this.lb};xa.qx=function(b){var e=b.right;b.right=e.left;e.left!=this.lb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.lb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};xa.zx=function(b){var e=b.left;b.left=e.right;e.right!=this.lb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.lb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};xa.Hs=function(b){if(this.contains(b))this.kx(b).key=b;else{var e=new a.gF(this);e.key=
b;b=this.lb;for(var c=this.root;c!=this.lb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.lb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.lb;e.right=this.lb;e.color=!0;this.mfa(e);this.size++}};xa.mfa=function(b){for(;b!=this.lb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.qx(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.lb&&this.zx(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.zx(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.lb&&this.qx(b.parent.parent));this.root.color=!1};xa.Uea=function(b){var e=b.left==this.lb||b.right==this.lb?b:this.Un(b);var c=e.left!=this.lb?e.left:e.right;c.parent=e.parent;e.parent==
this.lb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.Tea(c);this.size--};xa.Tea=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.qx(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.zx(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.qx(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.zx(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.qx(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.zx(b.parent),b=this.root);b.color=!1};xa.remove=function(b){b=this.kx(b);if(b!=this.lb){var e=b.key;this.Uea(b);return e}return null};xa.min=function(b){for(;b.left!=this.lb;)b=b.left;return b};xa.max=
function(b){for(;b.right!=this.lb;)b=b.right;return b};xa.Un=function(b){if(b.right!=this.lb)return this.min(b.right);for(var e=b.parent;e!=this.lb&&b==e.right;)b=e,e=e.parent;return e};xa.kx=function(b){for(var e=this.root;e!=this.lb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};xa.contains=function(b){return null!=this.kx(b).key};xa.ZK=function(){var b=[];this.forEach(function(e){b.push(e)});return b};xa.lfa=function(b){if("array"==a.HL(b))for(var e=0;e<b.length;e++)this.Hs(b[e]);
else if("function"==a.HL(b.forEach))b.forEach(this.Hs,this);else if("function"==a.HL(b.ZK))for(b=b.ZK(),e=0;e<b.length;e++)this.Hs(b[e]);else if("object"==a.HL(b))for(e in b)this.Hs(b[e])};xa.range=function(b,e){var c=[];this.rga(function(g){c.push(g)},b,e);return c};xa.rga=function(b,e,c){if(!this.Ks())for(e=this.kx(e),c=this.kx(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Un(e)};xa.forEach=function(b,e){if(!this.Ks())for(var c=this.min(this.root);c!=this.lb;c=this.Un(c))b.call(e,c.key,c.key,this)};
xa.some=function(b,e){if(this.Ks())return!1;for(var c=this.min(this.root);c!=this.lb;c=this.Un(c))if(b.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(b,e){if(this.Ks())return!1;for(var c=this.min(this.root);c!=this.lb;c=this.Un(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(b,e){var c=[];if(this.Ks())return c;for(var g=this.min(this.root);g!=this.lb;g=this.Un(g))c.push(b.call(e,g.key,g.key,this));return c};xa.filter=function(b,e){var c=[];if(this.Ks())return c;
for(var g=this.min(this.root);g!=this.lb;g=this.Un(g))b.call(e,g.key,g.key,this)&&c.push(g.key);return c};xa.Ks=function(){return 0==this.size};d.Ao=class extends d.ea{constructor(b){super();this.Zg=new a.Ao(b);this.Gr=!1;this.Lp=new Set;this.Mp=new Set}Oc(b){this.Gr?this.Zg.contains(b)?this.Mp.delete(b):this.Lp.add(b):this.Zg.Hs(b)}wh(b){this.Gr?this.Zg.contains(b)?this.Mp.add(b):this.Lp.delete(b):this.Zg.remove(b)}Ly(b){return this.Gr?this.Lp.has(b)?!0:!this.Mp.has(b)&&this.Zg.contains(b):this.Zg.contains(b)}xd(){this.Zg.clear();
this.Lp.clear();this.Mp.clear()}toArray(){if(this.Gr)throw Error("cannot be used in queueing mode");return this.Zg.ZK()}zm(){return this.Zg.size+this.Lp.size-this.Mp.size}to(){return 0===this.zm()}zh(b){b=!!b;if(this.Gr!==b&&(this.Gr=b,!b)){for(const e of this.Mp)this.Zg.remove(e);this.Mp.clear();for(const e of this.Lp)this.Zg.Hs(e);this.Lp.clear()}}zM(b){this.Zg.forEach(b)}*values(){if(!this.to()){var b=this.Zg;for(let e=b.min(b.root);e!=b.lb;e=b.Un(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.pO=class{constructor(a=d.hardwareConcurrency){this.Rda=a;this.OJ=[];this.pH=0}Oc(a){return new Promise((b,e)=>{this.OJ.push({ji:a,resolve:b,reject:e});this.qR()})}async qR(){if(this.OJ.length&&!(this.pH>=this.Rda)){this.pH++;var a=this.OJ.shift();try{const b=await a.ji();a.resolve(b)}catch(b){a.reject(b)}this.pH--;this.qR()}}}}
{"use strict";const d=self.B;d.P3=class{constructor(a,b,e){this.mr=a;this.Eda=b;this.Fda=e||2*b;this.ts=-1;this.BB=-Infinity;this.$U=()=>this.eaa();this.kda=this.zI=!1;this.av=null}c9(){return"undefined"!==typeof d.lX&&d.lX.Xja()?this.Fda:this.Eda}yX(){var a=[];if(-1===this.ts){this.av=a;a=d.ey();var b=a-this.BB,e=this.c9();b>=e&&this.kda?(this.BB=a,this.PR()):this.ts=self.setTimeout(this.$U,Math.max(e-b,4))}}PR(){this.zI=!0;const a=this.av;this.av=null;a?this.mr(...a):this.mr();this.zI=!1}gd(){this.zI||
(this.ZP(),this.av=null,this.BB=d.ey())}eaa(){this.ts=-1;this.BB=d.ey();this.PR()}ZP(){-1!==this.ts&&(self.clearTimeout(this.ts),this.ts=-1)}j(){this.ZP();this.$U=this.av=this.mr=null}}}"use strict";function hc(d,a){if(!d.lT)throw Error("no get base size callback set");return d.lT(a)}self.B.Gna=class{constructor(){this.Bda=new Map;this.DU=this.FU=this.lT=null}ez(){if(!this.DU)throw Error("no redraw callback set");this.DU()}};"use strict";
self.B.Fna=class{constructor(d,a){this.Wg=d;this.rda=a;this.Kc=0;hc(this.Wg,a).then(()=>{this.Wg.ez()}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);this.Wg.ez()});this.PJ=null}j(){if(0>=this.Kc)throw Error("already released");this.Kc--;0===this.Kc&&this.Gu()}Gu(){if(this.PJ){var d=this.Wg;if(!d.FU)throw Error("no release result callback set");d.FU(this.PJ);this.PJ=null}this.Wg.Bda.delete(this.rda);this.Wg=null}};
{"use strict";const d=self.B;d.Hpa="\ufeff";const a=new Set([..."0123456789"]);d.D1=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Xy=function(n){return b.has(n)};d.Hia=function(n){return[...n].filter(p=>!d.Xy(p)).join("")};d.WE=function(n){for(const p of n)if(!d.Xy(p))return!1;return!0};d.O1=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.HZ=function(n){return[...n].filter(p=>
!d.O1(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.mka=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let q of n)if(!e.has(q))return!1;return!0};d.Z3=function(n){let p=n.length;for(;0<p&&d.D1(n.charAt(p-1));)--p;return n.substr(0,p)};d.pja=function(n){let p=d.Z3(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;d.yZ=function(n){return n.replace(m,g)};d.yia=function(n){n=d.Fi(n,"\\","\\\\");n=d.Fi(n,'"','\\"');n=d.Fi(n,"\t","\\t");n=d.Fi(n,"\r","");return d.Fi(n,"\n","\\n")};d.zia=function(n){n=d.Fi(n,"&","&amp;");n=d.Fi(n,"<","&lt;");n=d.Fi(n,">","&gt;");return d.Fi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Zs=function(n){return n.replace(h,"\\$&")};d.Iia=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=q;return w};d.Fi=function(n,p,q){return n.replaceAll(p,()=>q)};d.Ema=function(n,p,q){return n.replace(new RegExp(d.Zs(p),"gi"),()=>q)};d.coa=function(n,p){"string"===typeof p?n.textContent=p:p.NT?n.textContent=p.toString():(n.innerHTML=p.DL(),p instanceof d.tm&&p.Fea(n))};d.jpa=function(n,p){return n instanceof d.AE||n instanceof d.tm?n.od(p):p instanceof d.AE||p instanceof d.tm?p.od(n):n===p};d.kpa=function(n,...p){let q=n;for(let u=0,w=p.length;u<w;++u){const r=`{${u}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
q=q.replace(r,p[u].toString())}return q};d.lpa=function(n,...p){let q=n,u=-1,w=-1;for(let r=0,v=p.length;r<v;++r){const y=`{${r}}`;n.includes(y)?(w=r,q=q.replace(y,p[r].toString())):-1===u&&(u=r)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return q};d.mpa=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};d.Voa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.Lia=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Lra;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Cea:!1,Pea:!0,kfa:!0,Efa:!0,kW:!0};d.Mia=function(n,p){p=Object.assign({},
l,p);d.R1.qma("common.time");const q=[],u=self.lang,w=self.Kra;if(p.Pea){var r=Math.floor(n/86400);0<r&&(n-=86400*r,q.push(w(".days",null,r)))}p.kfa&&(r=Math.floor(n/3600),0<r||q.length)&&(n-=3600*r,q.push(w(".hours",null,r)));p.Efa&&(r=Math.floor(n/60),0<r||q.length||!p.kW)&&(n-=60*r,q.push(w(".minutes",null,r)));p.kW&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.Cea?u(".approx-prefix"):"")+q.join(u(".separator"));d.R1.jma();return n};d.kqa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};d.npa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Vha=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.jW(n);d.jW(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};d.hia=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.hpa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};d.ipa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,w,r;if(n.length>p.length){var v=n;n=p;p=v}r=Array(n.length+1);for(v=0;v<=n.length;v++)r[v]=v;for(v=1;v<=p.length;v++){u=v;for(q=1;q<=n.length;q++)w=p[v-1]===n[q-1]?r[q-1]:Math.min(r[q-1]+1,Math.min(u+1,r[q]+1)),r[q-1]=u,u=w;r[n.length]=u}return r[n.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var q=a.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;d.tm=class{constructor(l,n){this.Gh=n&&n.Hfa?l:d.yZ(l);this.yI="";this.NS=!1;this.Zv=[];if(n&&(this.NS=!!n.Gqa,n.links)){if(9<n.links.length)throw Error("too many links");this.Zv=n.links}this.qT=this.Gh.includes("[");this.qU=this.NS&&this.Gh.includes("\n");this.NT=!this.qT&&!this.qU&&!this.Gh.includes("&");this.uT=!1;this.vv=[]}toString(){return this.Gh}valueOf(){return this.Gh}DL(){if(this.NT)return this.Gh;if(!this.yI&&this.Gh){let l=this.Gh;
this.qT&&(g=0,c=this.Zv,l=l.replace(b,m),c=null);this.qU&&(l=l.replace(h,"<br>"));this.yI=l}return this.yI}Fea(l){if(this.Zv.length)for(let n=0,p=this.Zv.length;n<p;++n){const q=this.Zv[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}od(l){return l instanceof d.AE?this.DL()===l.DL():l instanceof d.tm?this.Gh===l.Gh:this.Gh===l}mga(){if(this.uT)return this.vv;const l=this.Gh,n=[];let p=e.lastIndex=0;
for(var q;null!==(q=e.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=q[1],r=q[2];const v=l.substring(p,u);p=u+q[0].length;v&&this.vv.push({text:v,pd:n.slice(0)});if(r)if(w)for(r=r.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===r){n.splice(q,1);break}}else q=r,u=null,w=r.indexOf("="),-1!==w?(q=r.substring(0,w).toLowerCase(),u=r.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,ki:u})}p<l.length&&this.vv.push({text:l.substring(p),pd:n.slice(0)});for(const v of this.vv)v.text=
this.qaa(v.text);this.uT=!0;return this.vv}qaa(l){l=d.Fi(l,"\\[","[");return d.Fi(l,"\\\\","\\")}static wP(l){return l.replace(e,"")}}}
{"use strict";const d=self.B;d.UF=class{constructor(){this.jn=[]}sR(a,b){let e=0,c=0,g=0,m=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.pd),l.width=a.width,l.height=a.height,l.ng=a.ng||0,l.Df=a.Df||0,l.Hf=a.Hf||0),e+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.ng),m=Math.max(m,l.Df),h=Math.max(h,l.Hf);return{width:e,height:c,ng:g,Df:m,Hf:h}}Cz(a,b,e,c,g,m){this.jn.push({JV:a,width:b,height:e,ng:c,Df:g,Hf:m})}UF(a,b,e,c,g){"string"===typeof a&&(a=[{text:a,pd:[]}]);d.D(this.jn);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var m=a[0];const h=m.text;m=m.pd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,ng:p,Df:q,Hf:u}=b(h,m);l+=g;p=p||0;q=q||0;u=u||0;if(l<=e){this.Cz([{text:h,pd:m,width:l,height:n,ng:p,Df:q,Hf:u}],l,n,p,q,u);return}}}if("word"===c)c=this.wca(a);else{c=[];for(const h of a)d.Ln(c,[...h.text].map(l=>[{text:l,pd:h.pd}]))}this.Qca(c,b,e,g)}}wca(a){const b=[];let e=[],c=!1;for(const m of a){var g=m.text;a=m.pd;for(const h of g)"\n"===h?(0<
e.length&&b.push(e),b.push([{text:"\n",pd:a}]),e=[]):0===e.length?(e.push({text:h,pd:a}),c=d.Xy(h)):(g=d.Xy(h),g===c?(g=e.ae(-1),g.pd===a?g.text+=h:e.push({text:h,pd:a})):(b.push(e),e=[],e.push({text:h,pd:a}),c=g))}0<e.length&&b.push(e);return b}o7(a){return a.map(b=>({text:b.text,pd:b.pd,width:b.width,height:b.height,ng:b.ng,Df:b.Df,Hf:b.Hf}))}UP(a,b){var e=a.length?a.ae(-1):null;let c=0;e&&b[0].pd===e.pd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.ng=-1,e.Df=-1,e.Hf=-1,c=1);for(e=b.length;c<e;++c){const g=
b[c];a.push({text:g.text,pd:g.pd,width:-1,height:-1,ng:-1,Df:-1,Hf:-1})}}Qca(a,b,e,c){let g=[],m=0,h=0,l=0,n=0;var p=0;for(const q of a){if(1===q.length&&"\n"===q[0].text){0===h&&(p=b(" ",q[0].pd),h=p.height,l=p.ng||0,n=p.Df||0,p=p.Hf||0);this.Cz(g,m,h,l,n,p);g=[];p=n=l=h=m=0;continue}a=this.o7(g);this.UP(a,q);const u=this.sR(a,b),w=u.width;w>=e?(0<g.length&&this.Cz(g,m,h,l,n,p),g=[],d.WE(q[0].text)?p=n=l=h=m=0:(this.UP(g,q),p=this.sR(g,b),m=p.width,h=p.height,l=p.ng,n=p.Df,p=p.Hf)):(g=a,m=w,h=u.height,
l=u.ng,n=u.Df,p=u.Hf)}0<g.length&&this.Cz(g,m,h,l,n,p);this.zca(b,c)}zca(a,b){for(const c of this.jn){const g=c.JV;if(!g.length)continue;let m=g.ae(-1);var e=m.text;const h=e.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<e.length){e=a(h,m.pd).width;const l=m.width-e;m.width=e;m.text=h;c.width-=l}0!==b&&0<g.length&&(m=g.ae(-1),m.width+=b,c.width+=b)}}xd(){d.D(this.jn)}I_(){return this.jn.reduce((a,b)=>Math.max(a,b.width),0)}c0(){return this.jn.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.B,a=self.uj,b=a.oD,e=a.Cx,c=a.mm,g=b.create(),m=b.create(),h=b.create(),l=e.create(),n=c.create(),p=b.create(),q=b.create(),u=b.create(),w=b.create(),r=b.create(),v=b.create(),y=b.create(),A=b.create(),G=e.Ef(0,0,1,1);d.J={E3(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},dk(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Js(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;e.FL(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},l6(J,M,P,R,T,Z,X){if(!d.J.dk(J,M,0,R,T,Z,g)||!d.J.dk(J,M,1,R,T,Z,m))return!1;b.qm(m,m,g);b.set(h,0,0,1);J=-P;M=b.On(h,m);P=0;if(0===M){if(0!==
b.On(h,g)+J)return!1}else if(P=-(b.On(g,h)+J)/M,0>P)return!1;b.xL(X,g,m,P);return!0}};function z(J,M,P,R){b.qm(g,P,M);b.qm(m,J,M);b.RK(h,g,m);b.normalize(h,h);R.set(h[0],h[1],h[2],b.On(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.GW,Na=X.HW;X=X.IW;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class H{constructor(){this.IW=this.HW=this.GW=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.GW=0<J?1:0;this.HW=0<M?1:0;this.IW=0<P?1:0}}d.J.t6=class{constructor(){this.dU=new H;this.aV=new H;this.IU=new H;this.GS=new H;this.xJ=new H;this.dT=new H}wX(J,M){d.J.dk(0,1,0,J,M,G,p);d.J.dk(1,1,0,J,M,G,q);d.J.dk(0,0,0,J,M,G,u);d.J.dk(1,0,0,J,M,G,w);d.J.dk(0,1,1,J,M,G,r);d.J.dk(1,1,1,J,M,G,v);d.J.dk(0,0,1,J,M,G,y);d.J.dk(1,0,1,J,M,G,A);z(u,p,r,this.dU);z(p,q,v,this.aV);z(q,w,A,this.IU);z(w,u,y,this.GS);z(y,r,v,this.dT);z(w,q,p,this.xJ)}SX(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.dU)&&F(J,M,P,R,T,Z,this.aV)&&F(J,M,P,R,T,Z,this.IU)&&F(J,M,P,R,T,Z,this.GS)&&F(J,M,P,R,T,Z,this.xJ)&&F(J,M,P,R,T,Z,this.dT)}u1(J,M,P){var R=this.xJ;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const d=self.B,a=self.uj,b=a.oD,e=a.Cx,c=a.mm,g=c.create(),m=b.Ef(0,0,0),h=b.Ef(0,0,0),l=b.Ef(0,0,0),n=b.Ef(0,1,0);e.Ef(0,0,0,0);new d.Bd;new d.Rect;const p=new d.Bd(0,0,1,0,1,1,0,1);d.J.c4=class{constructor(){this.P=this.V=0;this.gT=d.ib(45);this.kK=Math.tan(this.gT/2);this.QB=c.create();this.qJ=c.create();this.Yo=[];this.mC=new Map;this.$J=this.qC=this.rC=null;this.Jw=new Map;this.Wi=null;this.HH=[];this.pU=new Map;this.nv=this.Uu=0;this.eU=this.fU=1;this.lJ=.5;this.Oh=0;this.Fr=!0;
this.WA=!1}GZ(q){let u=0,w=q.length,r=0;for(;u<w;)q[u++]=r,q[u++]=r+1,q[u++]=r+2,q[u++]=r,q[u++]=r+2,q[u++]=r+3,r+=4}bQ(){this.nv=this.Uu=0;this.$J=this.qC=this.rC=null;this.m7()}Qy(){this.bQ();this.Wi=null}E2(){for(const q of this.Yo)q.j();this.bQ()}ca(){return this.V}aa(){return this.P}fq(q,u,w=.5,r=.5){var v=this.gT;.5===w&&.5===r?c.perspective(q,v,u,1,1E4):(w=1-w,v=1*this.kK,u*=v,c.dfa(q,(2*w-2)*u,2*w*u,(2*r-2)*v,2*r*v,1,1E4))}vX(q,u,w){const r=self.devicePixelRatio,v=200*r*this.kK/w;u=u*v/(2*
r);w=w*v/(2*r);c.Lfa(q,-u,u,-w,w,1,1E4)}TL(q,u,w,r,v=this.aa()){v=200*self.devicePixelRatio*this.kK/v;b.set(l,v,-v,1);b.multiply(m,u,l);b.multiply(h,w,l);c.Afa(q,m,h,r||n);c.scale(q,q,l)}Vs(q,u,w,r,v,y){b.set(m,q,u,w);b.set(h,r,v,0);this.TL(g,m,h,n,y);return g}V6(q){this.Yo.push(q);this.mC.set(q.ya(),q)}Laa(q){const u=this.Yo.indexOf(q);-1!==u&&this.Yo.splice(u,1);this.mC.delete(q.ya())}m7(){d.D(this.Yo);this.mC.clear()}cN(q){return this.mC.get(q)||null}bk(){this.Uq(this.rC)}QO(){this.Uq(this.$J)}Eba(q){this.Wi=
q}LW(q,u,w,r){const v=d.J.OF.RN(q,u,w,r);let y=this.Jw.get(v);y||(y=d.A(d.J.OF,this,q,u,w,r),this.Jw.set(v,y));y.XW();return y}wO(q){q.lY();0===q.Kc&&(this.Wi===q&&(this.Wi=null),this.Jw.delete(q.B_()),q.j())}x9(q){d.D(this.HH);this.pU.clear();let u=0;for(const w of q){q=w[0];const r=w[1],v=w[2];this.HH.push([r,v]);this.pU.set(q,{qsa:u,qta:r,Pqa:v});u++}}V8(q){return this.HH[q]}Mq(q){this.Uu=q}Zt(q){this.nv=q;this.Wi=null}U1(q,u,w,r){var v=d.PC(q,u,w,r),y=.5*this.fU;const A=Math.sin(v)*y;v=Math.cos(v)*
y;y=this.eU;2===y?this.Kt(q,u,w,r,A,v):1===y?this.Jt(q,u,w,r,A,v):this.It(q,u,w,r,A,v)}Kt(q,u,w,r,v,y){var A=this.lJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;A=2*y;const G=2*v;this.cz(q+v,u-y,0,w+v,r-y,0,w-v-A,r+y-G,0,q-v+A,u+y+G,0,p)}Jt(q,u,w,r,v,y){const A=this.lJ;q=q+A-y;u=u+A-v;w=w+A+y;r=r+A+v;this.cz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}It(q,u,w,r,v,y){const A=this.lJ;q+=A;u+=A;w+=A;r+=A;this.cz(q+v,u-y,0,w+v,r-y,0,w-v,r+y,0,q-v,u+y,0,p)}V1(q,u,w,r){const v=.5*this.fU,y=this.eU;2===y?this.T9(q,
u,w,r,v):1===y?this.S9(q,u,w,r,v):this.R9(q,u,w,r,v)}T9(q,u,w,r,v){this.Kt(q,u,w,u,0,v);this.Kt(w,u,w,r,v,0);this.Kt(w,r,q,r,0,-v);this.Kt(q,r,q,u,-v,0)}S9(q,u,w,r,v){this.Jt(q,u,w,u,0,v);this.Jt(w,u,w,r,v,0);this.Jt(w,r,q,r,0,-v);this.Jt(q,r,q,u,-v,0)}R9(q,u,w,r,v){this.It(q,u,w,u,0,v);this.It(w,u,w,r,v,0);this.It(w,r,q,r,0,-v);this.It(q,r,q,u,-v,0)}LN(q){this.V1(q.X,q.U,q.ja,q.ba)}dt(){this.zj();this.Oh++}M0(){this.Oh++}yF(q){this.Fr=!!q}d5(q){this.WA=!!q}gl(){return!1}}}"use strict";
self.B.J.M5=class{constructor(d,a,b){this.Ea=a;this.qa=d;this.aT=b.Uqa||0;this.bT=b.Vqa||0;this.OS=!!b.Iqa;this.Tda=!!b.lsa;this.bs=!!b.Gsa;this.Xca=!!b.rqa;this.IH=!!b.wqa;this.HC=!!b.Fta;this.hV=!1}j(){this.qa=null}fb(){return this.qa}ya(){return this.Ea}Cq(){return this.Tda}};
{"use strict";const d=self.B;d.J.OF=class{constructor(a,b,e,c,g){this.qa=a;this.Kc=0;this.ad=null;this.yw="";this.Lg=e;this.bb=d.A(d.$a);this.bb.set(c);this.dd=g;"string"===typeof b?this.yw=b:(this.ad=b,this.yw=this.ad.ya())}j(){if(0<this.Kc)throw Error("releasing state group still in use");this.ad=this.qa=null;this.yw=""}cX(){const a=this.qa;a.Uq(this.ad);a.Tf(this.Lg);a.Lm(this.bb);a.Zt(this.dd);a.Eba(this)}B_(){return d.J.OF.RN(this.yw,this.Lg,this.bb,this.dd)}XW(){++this.Kc}lY(){--this.Kc}hl(){this.ad=
null}aF(a){this.ad=a.cN(this.yw);if(!this.ad)throw Error("failed to restore shader program");}static RN(a,b,e,c){return("string"===typeof a?a:a.ya())+","+b+","+e.Sa+","+e.Va+","+e.Ua+","+e.Ta+","+c}}}
{"use strict";const d=self.B,a=d.A(d.Bd);function b(e,c,g){const m=g.wb,h=g.xb;return[m+(g.rc-m)*e+(g.jc-m)*c,h+(g.sc-h)*e+(g.kc-h)*c]}d.J.m2=class{constructor(e){this.uJ=e;this.gh=this.eh=this.dd=this.N=this.O=0}Ig(e,c,g,m){this.O=e;this.N=c;this.eh=g;this.gh=m}fa(){return this.O}Dg(e){this.O!==e&&(this.O=e,this.uJ.YG())}ga(){return this.N}Bh(e){this.N!==e&&(this.N=e,this.uJ.YG())}ab(){return this.dd}kf(e){this.dd!==e&&(this.dd=Math.max(e,0),this.uJ.YG())}FF(e){this.eh=e}GF(e){this.gh=e}K9(e,c,g){[this.O,
this.N]=b(e.O,e.N,c);this.dd=e.dd;this.eh=d.de(g.X,g.ja,e.eh);this.gh=d.de(g.U,g.ba,e.gh)}J9(e,c,g){[this.O,this.N]=b(e.O,e.N,c);this.dd=e.dd;[this.eh,this.gh]=b(e.eh,e.gh,g)}Cd(){return{x:this.fa(),y:this.ga(),z:this.ab(),u:this.eh,v:this.gh}}qd(e){this.Dg(e.x);this.Bh(e.y);e.hasOwnProperty("z")&&this.kf(e.z);this.FF(e.u);this.GF(e.v)}};d.J.TN=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.sk=e;this.Hk=c;this.$b=g||null;this.sn=[];this.nU=this.mU=0;this.jU=this.iU=1;this.kU=
0;this.JJ=!1;g=e-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<e;++n){const p=d.A(d.J.m2,this,n,h),q=n/g,u=h/m;p.Ig(q,u,q,u);l.push(p)}this.sn.push(l)}}j(){d.D(this.sn)}YG(){this.JJ=!0}zu(){if(this.JJ){var e=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.sn)for(const n of l){const p=n.fa(),q=n.ga();e=Math.min(e,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.ab())}this.mU=e;this.nU=c;this.iU=g;this.jU=m;this.kU=h;this.JJ=!1}}M_(){this.zu();return this.mU}N_(){this.zu();
return this.nU}J_(){this.zu();return this.iU}K_(){this.zu();return this.jU}L_(){this.zu();return this.kU}oq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.sk||0>c||c>=this.Hk?null:this.sn[c][e]}UL(e,c,g){const m=g instanceof d.Rect;if(e.sk!==this.sk||e.Hk!==this.Hk)throw Error("source mesh wrong size");e=e.sn;const h=this.sn;for(let l=0,n=h.length;l<n;++l){const p=e[l],q=h[l];for(let u=0,w=q.length;u<w;++u){const r=p[u],v=q[u];m?v.K9(r,c,g):v.J9(r,c,g)}}}mh(e){const c=this.sn;let g=c[0];
for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const w=g[q],r=l[q];a.set(n.eh,n.gh,w.eh,w.gh,r.eh,r.gh,p.eh,p.gh);e.cz(n.fa(),n.ga(),n.ab(),w.fa(),w.ga(),w.ab(),r.fa(),r.ga(),r.ab(),p.fa(),p.ga(),p.ab(),a);n=w;p=r}g=l}}o1(e){e=e.Od;const c=[],g=this.sk-1,m=this.Hk-1,h=1/g,l=1/m,n=g-1,p=m-1;let q=e[0],u=e[1],w=d.da(Math.floor(q*g),0,n),r=d.da(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{q=d.da(d.de(q,v,A),0,1);u=d.da(d.de(u,y,A),0,1);c.push(q,
u)};for(let F=0,H=e.length;F<H;F+=2)for(q=e[F],u=e[F+1],c.push(q,u),w=d.da(Math.floor(q*g),0,n),r=d.da(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,M=r*l,P=(w+1)*h,R=(r+1)*l;if(0!==G&&(A=d.yx(q,u,v,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<r&&2!==G&&(A=d.yx(q,u,v,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();r--;G=4;continue}if(w<n&&3!==G&&(A=d.yx(q,u,v,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<
w&&1!==G&&(A=d.yx(q,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(r<p&&4!==G&&(A=d.yx(q,u,v,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=2;continue}break}return d.A(d.Zn,c)}f6(e,c){e=this.xca(e);this.nca(e);c.iD(e)}xca(e){const c=[];e=e.Od;for(let g=0,m=e.length;g<m;g+=2){const [h,l]=this.zP(e[g],e[g+1]);c.push(h,l)}return c}zP(e,c){var g=this.sk-1,m=this.Hk-1;const h=1/g,l=1/m;g=d.da(Math.floor(e*g),0,g-1);const n=d.da(Math.floor(c*m),0,m-1);m=g*h;const p=n*l,q=(g+1)*h,u=(n+
1)*l,w=this.oq(g,n),r=this.oq(g+1,n+1),v=d.sfa(e,c,m,p,q,p,q,u);g=this.oq(g+(v?1:0),n+(v?0:1));const [y,A,G]=d.tga(e,c,m,p,v?m+h:m,v?p:p+l,q,u);return d.sga(y,A,G,w.fa(),w.ga(),g.fa(),g.ga(),r.fa(),r.ga())}nca(e){const c=[];let g=e[0],m=e[1],h=g-e.ae(-2),l=m-e.ae(-1);for(let p=0,q=e.length;p<q;p+=2){var n=(p+2)%q;const u=e[n];n=e[n+1];const w=u-g,r=n-m,v=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(l)||v)&&1E-7<Math.abs(w/
h-r/l)||0==w&&0===r)&&c.push(g,m);g=u;m=n;h=w;l=r}6<=c.length&&c.length<e.length&&d.Nc(e,c)}Cd(){return{cols:this.sk,rows:this.Hk,points:this.sn.map(e=>e.map(c=>c.Cd()))}}qd(e){const c=this.sk,g=this.Hk;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<g;++m){const h=e[m];for(let l=0;l<c;++l)this.oq(l,m).qd(h[l])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{AL:n,Is:q,format:u,type:p}}const m={qD:"clamp-to-edge",rD:"clamp-to-edge",vj:"trilinear",uV:0,qL:"rgba8",dD:!0,vx:"default",premultiplyAlpha:!0,UV:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.J.Az=class{constructor(n){this.qa=n;this.mb=null;this.P=this.V=0;this.Rh=!0;this.Ds=this.Cs="clamp-to-edge";this.vd="trilinear";this.xH=0;this.qn="rgba8";this.Kl=!1;this.Ep=
"default";this.Kc=0}D7(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.mb)throw Error("already created texture");this.Cs=p.qD;this.Ds=p.rD;
this.vd=p.vj;this.xH=p.uV;this.qn=p.qL;this.Kl=!!p.dD&&this.qa.Fr;this.Ep=p.vx;if(!c.has(this.Cs)||!c.has(this.Ds))throw Error("invalid wrap mode");if(!b.has(this.vd))throw Error("invalid sampling");if(!a.has(this.qn))throw Error("invalid pixel format");if(!e.has(this.Ep))throw Error("invalid mipmap quality");this.Rh=!0;if(n instanceof ArrayBuffer||null===n||p.UV){if(this.V=p.width,this.P=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.V*this.P*4)throw Error("ArrayBuffer wrong size");}else this.V=
n.width,this.P=n.height;if(0>=this.V||0>=this.P)throw Error("invalid texture data size");if(p.UV){var q=d.kh(this.V,this.P);q.getContext("2d").drawImage(n,0,0,this.V,this.P);n=q}var u=d.Pk(this.V)&&d.Pk(this.P);q=this.qa.RB;if(this.V>q||this.P>q)throw Error("texture data exceeds maximum texture size");q=this.qa.S;var w=this.qa.cd;this.mb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.mb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.qn,q);if(this.qa.Lo()||u||!this.xG())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.Kl?Math.floor(Math.log2(Math.max(this.V,this.P))+1):1,p.AL,this.V,this.P),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.V,this.P,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Is,this.V,this.P,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Is,this.V,this.P,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Is,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.V,this.P));n instanceof ImageData&&(u=d.kh(this.V,this.P),u.getContext("2d").putImageData(n,0,0),n=u);u=d.kh(d.$V(this.V),d.$V(this.P));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.vd;w.drawImage(n,0,0,this.V,this.P,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Is,p.format,p.type,u)}null!==n&&this.hS(q);q.bindTexture(q.TEXTURE_2D,null);this.qa.MG();this.Kc=1;l.add(this)}q7(n,p,q){q=Object.assign({},m,q);if(this.mb)throw Error("already created texture");this.Cs=q.qD;this.Ds=q.rD;this.vd=q.vj;this.qn=q.qL;this.Kl=!!q.dD&&this.qa.Fr;this.Ep=q.vx;if(!c.has(this.Cs)||!c.has(this.Ds))throw Error("invalid wrap mode");if(!b.has(this.vd))throw Error("invalid sampling");if(!a.has(this.qn))throw Error("invalid pixel format");if(!e.has(this.Ep))throw Error("invalid mipmap quality");
this.Rh=!1;this.V=Math.floor(n);this.P=Math.floor(p);n=d.Pk(this.V)&&d.Pk(this.P);p=this.qa.RB;if(0>=this.V||0>=this.P)throw Error("invalid texture size");if(this.V>p||this.P>p)throw Error("texture exceeds maximum texture size");if(!this.qa.Lo()&&this.xG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.qa.S;p=this.qa.cd;this.mb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.mb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.qn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.AL:q.Is,this.V,this.P,0,q.format,q.type,null);this.hS(n);n.bindTexture(n.TEXTURE_2D,null);this.qa.MG();this.Kc=1;l.add(this)}tG(n){if("default"===this.Ep)return this.Rh?n.NICEST:n.FASTEST;if("low"===this.Ep)return n.FASTEST;if("high"===this.Ep)return n.NICEST;throw Error("invalid mipmap quality");}xG(){return"clamp-to-edge"!==this.Cs||"clamp-to-edge"!==this.Ds}TQ(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}hS(n){var p=d.Pk(this.V)&&d.Pk(this.P);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.TQ(n,this.Cs));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.TQ(n,this.Ds));"nearest"===this.vd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Kl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.qa.Lo())&&this.Kl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.tG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.vd||this.qa.WA?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Kl=!1));(p=this.qa.Qu)&&0<this.xH&&"nearest"!==this.vd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.xH,this.qa.sJ))}tS(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.mb||0>=this.Kc)throw Error("texture not created");if(this.Rh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.qa.cd;
const r=this.qa.S;r.bindTexture(r.TEXTURE_2D,this.mb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.qn,r);w=2<=w?p.AL:p.Is;try{if(this.V===q&&this.P===u){const v=d.Pk(this.V)&&d.Pk(this.P);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.qa.Lo())&&this.Kl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.tG(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.V=q;this.P=u;const v=d.Pk(this.V)&&d.Pk(this.P);if(!this.qa.Lo()&&this.xG()&&
!v)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.qa.Lo())&&this.Kl&&(r.hint(r.GENERATE_MIPMAP_HINT,this.tG(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}r.bindTexture(r.TEXTURE_2D,null);this.qa.MG()}iG(){if(0<this.Kc)throw Error("texture still has references");if(!this.mb)throw Error("already deleted texture");l.delete(this);this.qa.S.deleteTexture(this.mb);this.mb=null}fb(){return this.qa}Y5(){if(0>=
this.Kc)throw Error("no more references");this.Kc--}ca(){return this.V}aa(){return this.P}dE(){let n=this.V*this.P;switch(this.qn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Kl&&(n+=Math.floor(n/3));return n}static hl(){l.clear()}static xea(){return l.values()}}}
{"use strict";const d=self.uj.mm,a=new Set(["nearest","bilinear","trilinear"]),b={vj:"trilinear",alpha:!0,depth:!1,gL:!0,PV:!0,Ffa:0},e=new Set;self.B.J.LP=class{constructor(c){this.qa=c;this.Ck=this.mb=this.op=this.Rg=null;this.P=this.V=0;this.kB=!0;this.vd="trilinear";this.kr=!0;this.Vc=!1;this.Mv=!0;this.Rl=0;this.Ak=d.create()}p7(c,g,m){m=Object.assign({},b,m);const h=this.qa.cd;if(this.mb||this.Ck)throw Error("already created render target");this.vd=m.vj;this.kr=!!m.alpha;this.Vc=!!m.depth;this.Mv=
!!m.gL;this.kB=!!m.PV;this.Rl=m.Ffa;if(!a.has(this.vd))throw Error("invalid sampling");if(0<this.Rl&&(2>h||this.Mv))throw Error("invalid use of multisampling");2>h&&(this.Mv=!0);this.V=c;this.P=g;if(0>=this.V||0>=this.P)throw Error("invalid render target size");this.YP();c=this.qa.S;this.Rg=c.createFramebuffer();this.Vc&&(this.op=c.createFramebuffer());this.Mv?(this.mb=this.qa.hM(this.V,this.P,{vj:this.vd,qL:this.kr?"rgba8":"rgb8",dD:!1}),g=this.mb.mb,c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Vc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.op),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Ck=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Ck),g=this.kr?c.RGBA8:c.RGB8,0<this.Rl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.Rl>m&&(this.Rl=m)):this.Rl=0),0===this.Rl?c.renderbufferStorage(c.RENDERBUFFER,g,this.V,this.P):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Rl,g,this.V,this.P),c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Ck),this.Vc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.op),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Ck)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.qa.Pg;this.Vc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),this.qa.bv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}KR(c,g){if(this.V!==c||this.P!==g)this.V=c,this.P=g,this.YP(),c=this.qa.S,c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),this.mb?this.mb.tS(new ImageData(this.V,this.P)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Ck),c.renderbufferStorage(c.RENDERBUFFER,this.kr?c.RGBA8:c.RGB8,this.V,this.P),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.qa.Pg,this.Vc&&g&&(this.qa.bv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}iG(){if(!this.mb&&!this.Ck)throw Error("already deleted render target");e.delete(this);var c=this.qa.S;this.mb?(c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Vc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.op),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.qa.yj(this.mb),this.mb=null):this.Ck&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Rg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Vc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.op),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Ck),this.Ck=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.qa.cd&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.Rg);
this.Vc&&c.deleteFramebuffer(this.op);c=this.qa.xc;c.jm=null;this.Rg=c.sj=null}YP(){this.qa.fq(this.Ak,this.V/this.P)}fb(){return this.qa}fe(){return this.mb}RE(){return"nearest"!==this.vd}ca(){return this.V}aa(){return this.P}x1(c){c=Object.assign({},b,c);return"nearest"!==c.vj!==this.RE()||!!c.alpha!==this.kr||!!c.depth!==this.Vc||2<=this.qa.cd&&!!c.gL!==this.Mv?!1:"number"===typeof c.width||"number"===typeof c.height?!this.kB&&this.ca()===c.width&&this.aa()===c.height:this.kB}dE(){return this.mb?
this.mb.dE():this.V*this.P*(this.kr?4:3)}static hl(){e.clear()}}}
{"use strict";const d=self.B;d.J.nu=class extends d.J.M5{static async PX(a,b,e,c){const g=a.S,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,b);g.compileShader(m);b=g.createShader(g.VERTEX_SHADER);g.shaderSource(b,e);g.compileShader(b);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,b);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=a.HJ;l?await a.Nca(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await d.TF(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(b,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(b),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(b),g.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.HZ(g.getProgramInfoLog(h)||"").trim())&&!d.WE(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);g.deleteShader(m);g.deleteShader(b);return h}static async Na(a,b,e,c){e=await d.J.nu.PX(a,b.src,e,c);return new d.J.nu(a,e,b,c)}constructor(a,b,e,c){super(a,c,e);const g=a.S;var m=a.xc;a.zj();g.useProgram(b);this.S=g;this.ad=b;this.lB="<default-device-transform>"===c;c=g.getAttribLocation(b,"aPos");const h=g.getAttribLocation(b,"aTex");this.oJ=g.getAttribLocation(b,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,a.LC),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,a.yC),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.oJ&&(g.bindBuffer(g.ARRAY_BUFFER,a.aC),g.vertexAttribPointer(this.oJ,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.oJ));g.bindBuffer(g.ARRAY_BUFFER,null);this.rK=new d.J.ic(this,"matP","mat4");this.qK=new d.J.ic(this,"matMV","mat4");this.Wp=new d.J.ic(this,"color",
"vec4");this.qea=new d.J.ic(this,"samplerFront","sampler");this.uK=new d.J.ic(this,"pointTexStart","vec2");this.tK=new d.J.ic(this,"pointTexEnd","vec2");this.xK=new d.J.ic(this,"zElevation","float");this.vK=new d.J.ic(this,"tileSize","vec2");this.wK=new d.J.ic(this,"tileSpacing","vec2");this.pK=new d.J.ic(this,"color2_","vec4");this.sK=new d.J.ic(this,"outlineThickness","float");this.ys=new d.J.ic(this,"samplerBack","sampler");this.pea=new d.J.ic(this,"samplerDepth","sampler");this.Cn=new d.J.ic(this,
"destStart","vec2");this.Bn=new d.J.ic(this,"destEnd","vec2");this.nj=new d.J.ic(this,"srcStart","vec2");this.em=new d.J.ic(this,"srcEnd","vec2");this.gm=new d.J.ic(this,"srcOriginStart","vec2");this.fm=new d.J.ic(this,"srcOriginEnd","vec2");this.fh=new d.J.ic(this,"pixelSize","vec2");this.In=new d.J.ic(this,"seconds","float");this.Dn=new d.J.ic(this,"devicePixelRatio","float");this.Fn=new d.J.ic(this,"layerScale","float");this.En=new d.J.ic(this,"layerAngle","float");this.Hn=new d.J.ic(this,"layoutStart",
"vec2");this.Gn=new d.J.ic(this,"layoutEnd","vec2");this.rT=!!(this.fh.W||this.In.W||this.ys.W||this.Cn.W||this.Bn.W||this.nj.W||this.em.W||this.gm.W||this.fm.W||this.Dn.W||this.Fn.W||this.En.W||this.Hn.W||this.Gn.W);a=e.parameters||[];this.Xp=[];this.hV=this.fh.W||this.nj.W||this.em.W||this.gm.W||this.fm.W;this.uI=this.vI=!1;this.Wp.rN();this.pK.rN();this.qea.DE(0);this.ys.DE(1);this.pea.DE(2);this.uK.vg(0,0);this.tK.vg(1,1);this.xK.po(0);this.vK.vg(0,0);this.wK.vg(0,0);this.Cn.vg(0,0);this.Bn.vg(1,
1);this.nj.vg(0,0);this.em.vg(0,0);this.gm.vg(0,0);this.fm.vg(0,0);this.fh.vg(0,0);this.Dn.po(1);this.Fn.po(1);this.En.po(0);this.In.po(0);this.Hn.vg(0,0);this.Gn.vg(0,0);this.sK.po(1);for(const l of a)a=l[2],b=new d.J.ic(this,l[0],a),"color"===a?b.N0():b.po(0),this.Xp.push(b);this.lB?this.yS(m.gx):(this.xz(m.gx,!0),this.wz(m.TC,!0));m=m.hi;g.useProgram(m?m.ad:null)}j(){this.S.deleteProgram(this.ad);this.ad=null;this.qa.Laa(this);this.S=null;super.j()}Of(){return this.ad}zy(a){return this.Xp[a].Pj()}dX(a){for(let b=
0,e=a.length;b<e;++b)if(!this.Xp[b].I1(a[b]))return!1;return!0}O4(a){for(let b=0,e=a.length;b<e;++b)this.Xp[b].I4(a[b])}eX(a,b,e,c,g,m,h,l,n,p){return this.ys.W||this.fh.W&&!this.fh.fl(g,m)||this.Cn.W&&!this.Cn.fl(a.X,a.U)||this.Bn.W&&!this.Bn.fl(a.ja,a.ba)||this.Dn.W&&!this.Dn.Wy(h)||this.Fn.W&&!this.Fn.Wy(l)||this.En.W&&!this.En.Wy(n)||this.nj.W&&!this.nj.fl(b.X,b.U)||this.em.W&&!this.em.fl(b.ja,b.ba)||this.gm.W&&!this.gm.fl(e.X,e.U)||this.fm.W&&!this.fm.fl(e.ja,e.ba)||this.Hn.W&&!this.Hn.fl(c.X,
c.U)||this.Gn.W&&!this.Gn.fl(c.U,c.ba)||this.In.W&&!this.In.Wy(p)?!1:!0}k5(a,b,e,c,g,m,h,l,n,p){this.ys.W||(this.fh.W&&this.fh.jl(g,m),this.Cn.W&&this.Cn.jl(a.X,a.U),this.Bn.W&&this.Bn.jl(a.ja,a.ba),this.Dn.W&&this.Dn.kz(h),this.Fn.W&&this.Fn.kz(l),this.En.W&&this.En.kz(n),this.nj.W&&this.nj.jl(b.X,b.U),this.em.W&&this.em.jl(b.ja,b.ba),this.gm.W&&this.gm.jl(e.X,e.U),this.fm.W&&this.fm.jl(e.ja,e.ba),this.Hn.W&&this.Hn.jl(c.X,c.U),this.Gn.W&&this.Gn.jl(c.U,c.ba),this.In.W&&this.In.kz(p))}xz(a,b){this.vI&&
!b||this.lB||(this.rK.W&&this.rK.yz(a),this.vI=!0)}j5(){this.vI=!1}wz(a,b){this.uI&&!b||this.lB||(this.qK.W&&this.qK.yz(a),this.uI=!0)}i5(){this.uI=!1}yS(a){if(!this.lB)throw Error("not device transform shader");this.rK.yz(a);a=this.qa;const b=a.ca()/2,e=a.aa()/2;a=a.Vs(b,e,100*self.devicePixelRatio,b,e);this.qK.yz(a)}o6(a){this.Wp.W&&this.Wp.vz(a[0],a[1],a[2],a[3])}static ky(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.uj.mm,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.J.ic=class{constructor(e,c,g){if(!b.has(g))throw Error("invalid uniform type");this.$b=e;this.S=this.$b.S;this.Ea=c;this.xa=g;this.LI="color"===this.xa;this.Uh=this.S.getUniformLocation(this.$b.Of(),c);this.W=!!this.Uh;e=b.get(g);this.Ub=new Float32Array(e);this.fj=new Float32Array(e)}j(){this.Uh=this.S=this.$b=null}Pj(){return this.xa}po(e){this.W&&
(this.Ub[0]=e,this.fj.set(this.Ub),this.S.uniform1f(this.Uh,e))}DE(e){this.W&&(this.Ub[0]=e,this.fj.set(this.Ub),this.S.uniform1i(this.Uh,e))}vg(e,c){this.W&&(this.Ub[0]=e,this.Ub[1]=c,this.fj.set(this.Ub),this.S.uniform2f(this.Uh,e,c))}N0(){this.W&&(this.Ub[0]=0,this.Ub[1]=0,this.Ub[2]=0,this.fj.set(this.Ub),this.S.uniform3f(this.Uh,0,0,0))}rN(){this.W&&(this.Ub[0]=1,this.Ub[1]=1,this.Ub[2]=1,this.Ub[3]=1,this.fj.set(this.Ub),this.S.uniform4f(this.Uh,1,1,1,1))}Oo(e){e=Math.fround(e);const c=this.Ub;
c[0]!==e&&(c[0]=e,this.S.uniform1f(this.Uh,e))}Je(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Ub;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.S.uniform2f(this.Uh,e,c)}m6(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const m=this.Ub;if(m[0]!==e||m[1]!==c||m[2]!==g)m[0]=e,m[1]=c,m[2]=g,this.S.uniform3f(this.Uh,e,c,g)}vz(e,c,g,m){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Ub;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=e,h[1]=c,h[2]=g,h[3]=m,this.S.uniform4f(this.Uh,
e,c,g,m)}yz(e){const c=this.Ub;a.tj(c,e)||(d.uga(c,e),this.S.uniformMatrix4fv(this.Uh,!1,e))}I1(e){const c=this.fj;return this.LI?c[0]===Math.fround(e.Sa)&&c[1]===Math.fround(e.Va)&&c[2]===Math.fround(e.Ua):c[0]===Math.fround(e)}I4(e){const c=this.fj;this.LI?(c[0]=e.Sa,c[1]=e.Va,c[2]=e.Ua):c[0]=e}Wy(e){return this.fj[0]===Math.fround(e)}fl(e,c){const g=this.fj;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}kz(e){this.fj[0]=e}jl(e,c){const g=this.fj;g[0]=e;g[1]=c}}}
{"use strict";const d=self.B,a=self.uj,b=a.Cx,e=a.mm;d.J.kX=class{constructor(c){this.Sn=c;this.TC=e.create();this.gx=e.create();this.sj=this.jm=null;this.QV=!1;this.SC=b.Ef(1,1,1,1);this.hi=null;this.rL=new d.Rect;this.clearColor=d.A(d.$a,0,0,0,0)}};d.J.y6=class{constructor(c){const g=new ArrayBuffer(96);this.xa=0;this.xc=c;this.S=c.Sn.S;this.Hl=this.se=0;this.Ue=null;this.wf=new Float32Array(g,0,16);this.ep=new Float32Array(g,64,4);this.TU=new Float32Array(g,80,4);this.kC=[]}a1(c){this.xa=1;this.se=
c;this.Hl=6}AY(){const c=this.S;c.drawElements(c.TRIANGLES,this.Hl,c.UNSIGNED_SHORT,this.se)}j1(c){this.xa=2;this.Ue=c}NY(){const c=this.S,g=this.Ue;c.bindTexture(c.TEXTURE_2D,g?g.mb:null)}EE(c){this.xa=3;c.ih(this.ep,0)}CY(){const c=this.ep,g=this.xc;b.oa(g.SC,c);g.hi.o6(c)}GY(){const c=this.ep,g=this.xc.hi;g.pK.W&&g.pK.vz(c[0],c[1],c[2],c[3])}b1(c,g){this.xa=4;this.se=c;this.Hl=g}BY(){this.S.blendFunc(this.se,this.Hl)}k1(c,g){this.xa=5;const m=this.ep;m[0]=0;m[1]=0;m[2]=c;m[3]=g}PY(){const c=this.ep;
this.S.viewport(c[0],c[1],c[2],c[3])}h1(c){this.xa=6;e.oa(this.wf,c)}LY(){const c=this.xc,g=c.Sn.Yo,m=c.hi,h=this.wf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.xz(h,!0):p.j5()}e.oa(c.gx,h)}e1(c){this.xa=7;e.oa(this.wf,c)}HY(){const c=this.xc,g=c.Sn.Yo,m=c.hi,h=this.wf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.wz(h,!0):p.i5()}e.oa(c.TC,h)}i1(c){this.xa=8;this.Ue=c}MY(){const c=this.S,g=this.Ue,m=this.xc;g?(m.jm=g.Rg,m.sj=g.op,m.QV&&m.sj?c.bindFramebuffer(c.FRAMEBUFFER,m.sj):c.bindFramebuffer(c.FRAMEBUFFER,
m.jm)):(m.jm=null,m.sj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}R0(c){this.xa=9;c.ih(this.wf,0)}S0(){this.xa=9;const c=this.wf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}tY(){const c=this.S;var g=this.wf;const m=this.xc.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.VC(h,l,n,g)||(c.clearColor(h,l,n,g),m.Tn(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}IY(){const c=this.wf;this.xc.rL.set(c[0],c[1],c[2],c[3])}zY(){const c=this.S,g=this.xc,m=g.Sn.qC;c.useProgram(m.ad);m.xz(g.gx,!1);m.wz(g.TC,!1);var h=g.rL;m.uK.W&&m.uK.Je(h.X,
h.U);m.tK.W&&m.tK.Je(h.ja,h.ba);h=this.wf[0];m.xK.W&&m.xK.Oo(h);m.Wp.W&&(h=g.SC,m.Wp.vz(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.se/4,this.Hl);c.useProgram(g.hi.ad)}f1(c){this.xa=11;this.Ue=c}JY(){var c=this.S;const g=this.xc,m=this.Ue;g.hi=m;c.useProgram(m.ad);m.xz(g.gx,!1);m.wz(g.TC,!1);m.Wp.W&&(c=g.SC,m.Wp.vz(c[0],c[1],c[2],c[3]))}g1(){this.xa=12}KY(){const c=this.xc.hi;c.rT&&this.j8(c);c.Xp.length&&this.k8(c)}j8(c){const g=this.S,m=this.wf,h=this.ep,l=this.TU;if(c.ys.W){const n=this.xc.Sn,
p=this.Ue;n.hn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.mb:null),n.hn=p,g.activeTexture(g.TEXTURE0))}c.fh.W&&c.fh.Je(m[0],m[1]);c.Cn.W&&c.Cn.Je(m[2],m[3]);c.Bn.W&&c.Bn.Je(m[4],m[5]);c.Dn.W&&c.Dn.Oo(this.Hl);c.Fn.W&&c.Fn.Oo(m[6]);c.En.W&&c.En.Oo(m[7]);c.nj.W&&c.nj.Je(m[12],m[13]);c.em.W&&c.em.Je(m[14],m[15]);c.gm.W&&c.gm.Je(l[0],l[1]);c.fm.W&&c.fm.Je(l[2],l[3]);c.Hn.W&&c.Hn.Je(h[0],h[1]);c.Gn.W&&c.Gn.Je(h[2],h[3]);c.In.W&&c.In.Oo(this.se)}k8(c){c=c.Xp;const g=this.kC;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.LI?l.m6(n.Sa,n.Va,n.Ua):l.Oo(n)}}X0(c){this.xa=13;this.Ue=c}yY(){const c=this.S,g=this.Ue,m=this.xc.jm;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}O0(c,g){this.xa=16;var m=this.wf;const h=this.xc.Sn;m[0]=c.ca();m[1]=c.aa();m[2]=g?g.ca():h.ca();m[3]=g?g.aa():h.aa();m[4]=c.RE()?1:0;m[5]=!0;m=this.kC;d.D(m);m.push(c.Rg);m.push(g?g.Rg:null)}rY(){var c=this.wf,
g=this.kC;const m=this.S;var h=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}m1(c){this.xa=17;this.Ue=c}QY(){this.Ue.zD();this.Ue=null}W0(c){this.xa=18;this.Ue=c}xY(){this.Ue.SD();this.Ue=
null}FY(){const c=this.xc.hi,g=this.wf;c.fh.W&&c.fh.Je(g[0],g[1]);c.sK.W&&c.sK.Oo(g[2])}OY(){const c=this.xc.hi,g=this.wf;c.nj.W&&c.nj.Je(g[0],g[1]);c.fh.W&&c.fh.Je(g[4],g[5]);c.vK.W&&c.vK.Je(g[6],g[7]);c.wK.W&&c.wK.Je(g[8],g[9])}Q0(c){this.xa=21;this.se=c?1:0}sY(){const c=this.S,g=0!==this.se;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}c1(c){this.xa=22;this.se=c?1:0}DY(){const c=this.S;0===this.se?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}d1(c){this.xa=
23;this.se=c?1:0}EY(){const c=this.S,g=this.xc,m=g.Sn,h=0!==this.se;g.QV=h;c.activeTexture(c.TEXTURE2);h?(g.sj&&c.bindFramebuffer(c.FRAMEBUFFER,g.sj),c.bindTexture(c.TEXTURE_2D,m.Pg)):(c.bindTexture(c.TEXTURE_2D,null),g.sj&&c.bindFramebuffer(c.FRAMEBUFFER,g.jm));c.activeTexture(c.TEXTURE0)}V0(){this.xa=24}wY(){const c=this.S;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}U0(){this.xa=25}vY(){const c=
this.S;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}T0(){this.xa=26}uY(){const c=this.S;c.disable(c.STENCIL_TEST)}pa(){switch(this.xa){case 1:this.AY();break;case 2:this.NY();break;case 3:this.CY();break;case 4:this.BY();break;case 5:this.PY();break;case 6:this.LY();break;case 7:this.HY();break;case 8:this.MY();break;case 9:this.tY();break;case 10:this.zY();break;case 11:this.JY();break;case 12:this.KY();break;case 13:this.yY();break;case 14:this.IY();break;
case 15:this.OY();break;case 16:this.rY();break;case 17:this.QY();break;case 18:this.xY();break;case 19:this.FY();break;case 20:this.GY();break;case 21:this.sY();break;case 22:this.DY();break;case 23:this.EY();break;case 24:this.wY();break;case 25:this.vY();break;case 26:this.uY()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.$a(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;d.LZ&&d.LZ.addEventListener("fontload",p=>{p=p.font.ya();for(const q of m)(q.Qh||d.Pn(q.OA,p))&&q.ik()});function h(p,q,u,w,r,v){q?"Gecko"===d.Mb.Kx?p.strokeText(u,w,r,v):p.strokeText(u,w,r):"Gecko"===d.Mb.Kx?p.fillText(u,w,r,v):p.fillText(u,w,r)}let l=!1,n=!1;d.J.hF=class{constructor(p,q){q=Object.assign({},a,q);this.qa=
p;this.OA="Arial";this.PA=16;this.QA=1;this.Dp=0;this.rf=this.qf=!1;this.yA="black";this.Qh=!1;this.nL=null;this.vH=new Set;this.nf="left";this.Xe="top";this.md="";this.Xu=null;this.Kn=d.A(d.UF);this.FK="word";this.ZI=this.zC=!1;this.Iv=!0;this.hp=-1;this.P=this.V=this.VH=this.xr=this.Er=0;this.gi=1;this.QH=!1;this.dw=this.Ql=this.Yd=this.Sp=null;this.WT=this.XT=-1;this.EB=this.YT=this.cJ="";this.dJ=this.eJ=1;this.lU=(u,w)=>this.tR(u,w);this.mb=null;this.Mw=this.Ow=0;this.dg=new d.Rect;this.uw=1;
this.zJ=!1;this.lK=new d.J0(()=>{this.Ei();this.gS(8,8)},q.timeout);this.eD=null;this.ax=!1;m.add(this)}j(){this.nL=null;this.vH.clear();this.lU=this.dw=this.Ql=this.Yd=this.Sp=this.Xu=null;this.lK.j();this.eD=null;this.Ei();this.Kn.xd();this.qa=this.Kn=null;this.ax=!0;m.delete(this)}Vo(){this.QH=!0}ik(){this.Vo();this.Kn.xd();this.zC=!0}cP(){this.Iv=!1}wg(){return this.Iv}H4(p){p=!!p;this.Qh!==p&&(p=(this.Qh=p)?"alphabetic":"top",this.Yd&&(this.Yd.textBaseline=p),this.Ql&&(this.Ql.textBaseline=p),
this.ik())}vF(p){p||(p="serif");this.OA!==p&&(this.OA=p,this.ik())}nz(p){.1>p&&(p=.1);this.PA!==p&&(this.PA=p,this.ik())}Z4(p){this.QA!==p&&(this.QA=p,this.ik())}gP(p){this.Dp!==p&&(this.Dp=p,this.Vo())}PO(p){p=!!p;this.qf!==p&&(this.qf=p,this.ik())}eP(p){p=!!p;this.rf!==p&&(this.rf=p,this.ik())}uF(p){p=Math.floor(p);this.hp!==p&&(this.hp=p,this.Vo())}Ni(p,q){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===q)return w}return null}cr(p,q){return!!this.Ni(p,q)}GQ(p,q){let u=[];(this.qf||this.cr(q,
"b"))&&u.push("bold");(this.rf||this.cr(q,"i"))&&u.push("italic");var w=this.Ni(q,"size");w=(w?parseFloat(w.ki):this.PA)*this.QA;p?u.push(w+"pt"):u.push(w*this.uw*this.gi*self.devicePixelRatio+"pt");p=this.OA;(q=this.Ni(q,"font"))&&q.ki&&(p=q.ki,this.nL&&!this.vH.has(p)&&(this.nL(p),this.vH.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Lm(p){p instanceof d.$a&&(p=p.efa());this.yA!==p&&(this.yA=p,this.Vo())}RO(p,q,u){b.Qs(p,q,u);this.Lm(b)}ZO(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.nf!==p&&(this.nf=p,this.Vo())}tP(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Xe!==p&&(this.Xe=p,this.Vo())}J5(p){if(!g.has(p))throw Error("invalid word wrap mode");this.FK!==p&&(this.FK=p,this.ik())}iu(p){this.md!==p&&(this.md=p,this.ik())}sd(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.xr===p&&this.VH===q&&this.gi===u)){1===this.gi!==(1===u)&&(this.zJ=!0);var w=this.xr,r=this.gi;this.xr=p;this.VH=q;this.gi=u;p=self.devicePixelRatio;this.V=this.xr*this.gi*p;this.P=
this.VH*this.gi*p;p=Math.max(this.V,this.P);q=Math.min(this.qa.RB,2048);u=1;p>q&&(u=q/p,this.V=Math.min(this.V*u,q),this.P=Math.min(this.P*u,q));this.uw=u;0<this.Ow&&0<this.Mw&&this.gi===r&&this.dg.set(0,0,this.V/this.Ow,this.P/this.Mw);this.xr!==w?this.ik():this.Vo()}}ca(){return this.V}aa(){return this.P}$_(){this.FG();return this.Kn.I_()}Z_(){this.FG();return this.Kn.c0()+this.Kn.jn.length*(this.Dp+4)-this.Dp}fe(){this.lK.gd();this.v$();return this.mb}v$(){this.mb&&!this.QH&&!this.zC||this.ZI||
0>=this.V||0>=this.P||(this.QH=!1,this.ZI=!0,this.Iv?d.Qk(()=>this.oQ()):this.oQ())}oQ(){this.ax||(this.gS(Math.ceil(this.V),Math.ceil(this.P)),this.FG(),this.z8(),this.Ica(),this.lK.gd(),this.ZI=!1)}gS(p,q){this.Sp||(this.Sp=d.kh(16,16));let u=!1;if(this.XT!==p||this.WT!==q)this.XT=p,this.WT=q,this.Sp.width=p,this.Sp.height=q,u=!0;this.Yd||(this.Yd=this.Sp.getContext("2d"),u=!0);u?(this.Yd.textBaseline=this.Qh?"alphabetic":"top",this.Yd.font=this.cJ,this.Yd.fillStyle=this.EB,this.Yd.strokeStyle=
this.EB,this.Yd.globalAlpha=this.eJ,this.Yd.lineWidth=this.dJ):this.Yd.clearRect(0,0,p,q)}lR(){this.Ql||(this.Ql=d.kh(16,16).getContext("2d"),this.dw=d.kh(16,16).getContext("2d"),this.Ql.textBaseline=this.Qh?"alphabetic":"top",this.dw.textBaseline="top")}Yba(p){this.YT!==p&&(this.YT=p,this.Ql.font=p,this.dw.font=p)}pS(){if(!l){l=!0;this.lR();const p=this.Ql.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}FG(){this.zC&&(this.lR(),
!this.Qh||this.Xu&&this.Xu.toString()===this.md||(this.Xu=new d.tm(this.md,{Hfa:!0})),this.Kn.UF(this.Qh?this.Xu.mga():this.md,this.lU,this.xr,this.FK,0),this.zC=!1)}tR(p,q){this.Yba(this.GQ(!0,q));q=this.Ni(q,"size");q=(q?parseFloat(q.ki):this.PA)*this.QA;const u=this.Ql.measureText(p);let w=0;this.Qh&&this.pS()&&(w=u.fontBoundingBoxAscent-this.dw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,ng:u.fontBoundingBoxAscent||0,Df:u.fontBoundingBoxDescent||0,Hf:w}}Hba(p){this.cJ!==
p&&(this.cJ=p,this.Yd.font=p)}Wz(p){this.EB!==p&&(this.EB=p,this.Yd.fillStyle=p,this.Yd.strokeStyle=p)}Gba(p){this.eJ!==p&&(this.eJ=p,this.Yd.globalAlpha=p)}aS(p){this.dJ!==p&&(this.dJ=p,this.Yd.lineWidth=p)}z8(){this.Er=0;const p=this.uw*this.gi*self.devicePixelRatio,q=(4+this.Dp)*p;var u=0;const w=this.Kn.jn;if(0!==w.length){var r=this.Qh&&this.pS(),v=w[0].height*p;"center"===this.Xe?(u=w.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.P/2-u/2,0),r&&(v=w[0].Hf*p)):"bottom"===this.Xe&&(u=w.reduce((y,
A)=>y+A.height*p+q,0)-this.Dp*p,u=this.P-u-(r?w.ae(-1).Df*p:0)-2);for(let y=0,A=w.length;y<A;++y){r=w[y];const G=r.height*p,z=u;if(this.Qh){if(u+=0===y?v:G,0<y&&u>this.P-4*p)break}else if(0<y&&u>=this.P-G)break;0<=z&&this.y8(r,u,p);this.Qh||(u+=G);u+=q}}}y8(p,q,u){let w=0;"center"===this.nf?w=(this.V-p.width*u)/2:"right"===this.nf&&(w=this.V-p.width*u);for(const r of p.JV)this.x8(r,w,q,u,p.height),w+=r.width*u}x8(p,q,u,w,r){const v=this.Yd;var y=r/16;r=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.Dp)*w,F=p.pd,H=p.text;if(-1!==this.hp){if(this.Er>=this.hp)return;this.Er+H.length>this.hp&&(H=H.substr(0,this.hp-this.Er),r=this.tR(H,F).width*w);this.Er+=H.length}var J=this.Ni(F,"background"),M=this.cr(F,"u");p=this.cr(F,"s");if((!d.WE(H)||J||M||p)&&!this.cr(F,"hide")){var P=this.Ni(F,"offsetx");q+=P?parseFloat(P.ki)*w:0;P=this.Ni(F,"offsety");u+=P?parseFloat(P.ki)*w:0;J&&(this.Wz(J.ki),v.fillRect(q,u-A,r,A+z));P=this.Ni(F,"color");this.Wz(P?P.ki:this.yA);z=this.Ni(F,"opacity");this.Gba(z?
parseFloat(z.ki)/100:1);z=(z=this.Ni(F,"linethickness"))?parseFloat(z.ki):1;(J=this.cr(F,"stroke"))&&this.aS(.5*G*z*this.uw*this.gi*self.devicePixelRatio);this.Hba(this.GQ(!1,F));h(v,J,H,q,u,r);!J&&(this.aS(.5*G*z*this.uw*this.gi*self.devicePixelRatio),F=this.Ni(F,"outline"))&&(this.Wz(F.ki),h(v,!0,H,q,u,r));this.Wz(P?P.ki:this.yA);M&&(F=q,H=u+w*y,M=r,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(q,u-A/4+w/2-w*z/2,r,w*z))}}Ica(){this.qa.ro()||(this.Ow=Math.ceil(this.V),
this.Mw=Math.ceil(this.P),this.dg.set(0,0,this.V/this.Ow,this.P/this.Mw),this.zJ&&(this.Ei(),this.zJ=!1),this.mb||(this.mb=this.qa.hM(this.Ow,this.Mw,{dD:1===this.gi,vx:"high"})),this.qa.r6(this.Sp,this.mb),this.eD&&this.eD())}Oj(){return this.dg}Ei(){this.mb&&(this.qa.ro()||this.qa.yj(this.mb),this.mb=null)}static hl(){for(const p of m)p.Ei()}}}
{"use strict";const d=self.B;class a{constructor(b){this.S=b.S;this.cd=b.cd;this.Fd=b.Fd;this.Yh=null;this.zv=this.Ib=!1;this.gC=0;this.Yh=1===this.cd?this.Fd.createQueryEXT():this.S.createQuery()}j(){this.jQ();this.Fd=this.S=null;this.zv=!1}jQ(){this.Yh&&(1===this.cd?this.Fd.deleteQueryEXT(this.Yh):this.S.deleteQuery(this.Yh),this.Yh=null)}zD(){if(this.Ib)throw Error("query already active");1===this.cd?this.Fd.beginQueryEXT(this.Fd.TIME_ELAPSED_EXT,this.Yh):this.S.beginQuery(this.Fd.TIME_ELAPSED_EXT,
this.Yh);this.Ib=!0}SD(){if(!this.Ib)throw Error("query not active");1===this.cd?this.Fd.endQueryEXT(this.Fd.TIME_ELAPSED_EXT):this.S.endQuery(this.Fd.TIME_ELAPSED_EXT);this.Ib=!1}HD(){if(this.Yh&&!this.zv&&!this.Ib){var b=1===this.cd?this.Fd.getQueryObjectEXT(this.Yh,this.Fd.QUERY_RESULT_AVAILABLE_EXT):this.S.getQueryParameter(this.Yh,this.S.QUERY_RESULT_AVAILABLE);var e=this.S.getParameter(this.Fd.GPU_DISJOINT_EXT);b&&!e&&(this.gC=1===this.cd?this.Fd.getQueryObjectEXT(this.Yh,this.Fd.QUERY_RESULT_EXT):
this.S.getQueryParameter(this.Yh,this.S.QUERY_RESULT),this.gC/=1E9,this.zv=!0);(b||e)&&this.jQ()}}Ny(){return this.zv}Fy(){if(!this.zv)throw Error("no result available");return this.gC}}d.J.A6=class{constructor(b){this.qa=b;this.Oh=b.Oh;this.Ib=!1;this.nn=null;this.dn=!1;this.es=null;this.Kp=[]}j(){for(const b of this.Kp)b instanceof a&&b.j();d.D(this.Kp);this.qa=this.es=this.nn=null}zD(){if(this.Ib)throw Error("query already active");const b=this.qa.ZU;0<b.length?(this.dn=!0,this.nn=b.ae(-1),this.nn.tQ(),
this.nn.Kp.push(this)):(this.dn=!1,this.nn=null);this.Ib=!0;b.push(this);this.mS()}SD(){if(!this.Ib)throw Error("query not active");if(this.qa.ZU.pop()!==this)throw Error("can only end most nested query");this.Ib=!1;this.tQ();this.nn&&(this.nn.mS(),this.nn=null)}mS(){this.es=d.A(a,this.qa);this.Kp.push(this.es);this.es.zD()}tQ(){this.es.SD();this.es=null}HD(){for(const b of this.Kp)b.HD()}Ny(){return this.Kp.every(b=>b.Ny())}Fy(){return this.Kp.reduce((b,e)=>b+e.Fy(),0)}}}
{"use strict";const d=self.B;d.J.KP=class{constructor(a,b=1E3){this.qa=a;this.Sda=b;this.nk=[];this.qa.U6(this)}j(){this.xd();this.qa.Kaa(this);this.qa=null}xd(){for(const a of this.nk)a.j();d.D(this.nk)}xD(){const a=new d.J.A6(this.qa);this.nk.push(a);this.nk.length>this.Sda&&this.nk.shift().j();return a}EX(a){for(const b of this.nk){if(b.Oh>=a)break;if(b.dn)break;b.HD()}}PM(a,b){if(b<=a)return NaN;let e=0;for(const c of this.nk){if(c.Oh>=b)break;if(!(c.Oh<a))if(c.Ny())e+=c.Fy();else return NaN}return e}mM(a){for(let b=
0,e=this.nk.length;b<e;++b){const c=this.nk[b];if(c.Oh<a)c.j();else{0<b&&this.nk.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.uj,b=a.Cx,e=a.mm,c={powerPreference:"default",IV:!0,alpha:!1,hL:!1,depth:!1,NK:!1,XV:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new d.Bd(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),n=new d.Bd,p=new d.Rect;let q=null;d.nx&&(self.Lqa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Mqa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function r(){w=-1;for(const v of u)v.Gea()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(r))}d.J.z6=class extends d.J.c4{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.hL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.XV&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.S=G;this.DS=G.getContextAttributes();y.hL&&!this.DS.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.cd=z;this.jg=b.create();this.Zm=!1;this.CH=e.create();this.im=!!y.depth;this.bv=!(!y.depth||!y.NK);this.vp=this.im;this.MI=!1;this.Pg=null;this.KI=!0;this.PS=this.QS=0;this.aC=this.CT=this.yC=this.LC=null;this.Yw=
new Float32Array(24E3);this.DT=new Uint16Array(12E3);this.Rp=new Float32Array(16E3);this.yU=new Float32Array(32E3);this.ZT=this.bC=this.te=this.fi=0;this.Op=this.Bp=null;this.Wu=[];this.qc=this.Um=0;this.Sd=null;this.xc=d.A(d.J.kX,this);this.Wv=d.A(d.$a,1,1,1,1);this.hn=this.Ol=null;this.$I=this.bJ=0;this.Nda=new d.Rect;this.RB=-1;this.tJ=0;this.zs="(unavailable)";this.QI=!1;this.ov=this.Qu=this.HJ=null;this.sJ=0;this.Kda=!!y.IV;this.Fd=null;this.hA=new Set;this.ZU=[];this.GZ(this.DT)}gl(){return!0}async Qy(){super.Qy();
var v=this.S;this.Wv.Tn(1,1,1,1);this.hn=this.Ol=null;this.bC=this.fi=0;this.ZT=23988;d.D(this.Wu);this.qc=this.Um=0;this.Sd=this.Bp=null;this.Nda.set(0,0,1,1);var y=this.xc;y.hi=null;y.jm=null;y.sj=null;b.set(y.SC,1,1,1,1);y.clearColor.Tn(0,0,0,0);y.rL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.bJ=v.ONE;this.$I=v.ONE_MINUS_SRC_ALPHA;this.y9(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.im?
(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.vp=this.im;this.MI=!1;this.aC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.aC);v.bufferData(v.ARRAY_BUFFER,this.yU.byteLength,v.DYNAMIC_DRAW);this.LC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.LC);v.bufferData(v.ARRAY_BUFFER,this.Yw.byteLength,v.DYNAMIC_DRAW);this.yC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.yC);v.bufferData(v.ARRAY_BUFFER,this.Rp.byteLength,v.DYNAMIC_DRAW);
this.CT=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.CT);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.DT,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.RB=v.getParameter(v.MAX_TEXTURE_SIZE);this.tJ=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.tJ&&(this.tJ=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.zs=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.HJ=v.getExtension("KHR_parallel_shader_compile");
d.nx&&(q=v.getExtension("WEBGL_lose_context"));if(this.Kda)if(1===this.cd){if("Chromium"!==d.Mb.Kx||81<=d.Mb.BD||"undefined"!==typeof document)this.Fd=v.getExtension("EXT_disjoint_timer_query")}else this.Fd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.sJ=(this.Qu=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Qu.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.cd&&this.im&&this.bv&&(this.ov=v.getExtension("WEBGL_depth_texture"),
!this.ov))throw Error("no depth texture support");v=d.J.nu;y=v.ky(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.ky(!0),"<tilemap>"]].map(A=>this.MD({src:A[0]},A[1],A[2])));this.rC=v[0];this.Op=v[1];this.qC=v[2];this.$J=v[3];this.bk()}async MD(v,y,A){v=await d.J.nu.Na(this,v,y,A);this.V6(v);return v}i4(){this.Bp=null}sd(v,y,A){if(this.V!==v||this.P!==y||A){this.zj();A=this.S;var G=this.xc;this.V=v;this.P=y;this.jS(v,y);this.fq(this.CH,v/y);this.Io(this.CH);this.Op&&(A.useProgram(this.Op.Of()),this.Op.yS(this.QB),this.Bp=this.Op,this.xc.hi=this.Op);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.hn=this.Ol=null;this.im&&this.KI&&this.WG(this.V,this.P);this.Sd&&this.Sd.KR(this.V,this.P);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Sd=null;G.jm=null;G.sj=null}}WG(v,y){const A=this.S;this.Pg&&this.QS===v&&this.PS===y||(this.bv?(this.Pg&&A.deleteTexture(this.Pg),this.Pg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Pg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.cd?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.ov&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.ov.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Pg&&A.deleteRenderbuffer(this.Pg),this.Pg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Pg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.cd?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.QS=v,this.PS=y)}Y4(v,y){this.im&&(this.KI=!1,this.WG(v,y))}G4(){this.im&&(this.KI=!0,this.WG(this.V,this.P))}jS(v,y){const A=this.jg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.Dc().k1(v,y),b.set(A,0,0,v,y),this.qc=0}Io(v){e.tj(this.QB,v)||(this.Dc().h1(v),e.oa(this.QB,v),this.qc=0,this.Zm=!0)}UO(){let v,y;var A=this.Sd;null===A?(v=this.CH,y=this.ca(),A=this.aa()):
(v=A.Ak,y=A.ca(),A=A.aa());this.Io(v);this.jS(y,A)}Qq(v){e.tj(this.qJ,v)||(this.Dc().e1(v),e.oa(this.qJ,v),this.qc=0,this.Zm=!0)}g4(){this.Zm=!1}Dc(){const v=this.Wu;this.Um===v.length&&v.push(new d.J.y6(this.xc));return v[this.Um++]}zj(){0===this.Um||this.ro()||(this.Rca(),this.C8(),this.qc=this.bC=this.te=this.fi=this.Um=0)}Rca(){const v=this.S;0<this.bC&&(v.bindBuffer(v.ARRAY_BUFFER,this.aC),v.bufferSubData(v.ARRAY_BUFFER,0,this.yU.subarray(0,this.bC)));0<this.fi&&(v.bindBuffer(v.ARRAY_BUFFER,
this.LC),v.bufferSubData(v.ARRAY_BUFFER,0,this.Yw.subarray(0,this.fi)),v.bindBuffer(v.ARRAY_BUFFER,this.yC),v.bufferSubData(v.ARRAY_BUFFER,0,this.Rp.subarray(0,this.te)))}C8(){const v=this.Wu;for(let y=0,A=this.Um;y<A;++y)v[y].pa()}Ce(){return this.Wv.Ta}jf(v,y,A,G){const z=this.Wv;z.VC(v,y,A,G)||(z.Tn(v,y,A,G),this.Dc().EE(z),this.qc=0,this.Wi=null)}Zj(v){const y=this.Wv;y.Ta!==v&&(y.Os(v),this.Dc().EE(y),this.qc=0,this.Wi=null)}Lm(v){const y=this.Wv;y.od(v)||(y.set(v),this.Dc().EE(y),this.qc=0,
this.Wi=null)}Vt(){this.jf(1,1,1,1)}Uf(v){v!==this.Ol&&(this.Dc().j1(v),this.Ol=v,this.qc=0)}MG(){this.Ol=null}Tf(v){v=this.V8(v);this.VG(v[0],v[1])}VG(v,y){if(v!==this.bJ||y!==this.$I)this.Dc().b1(v,y),this.bJ=v,this.$I=y,this.qc=0,this.Wi=null}OO(){this.VG(this.S.ONE,this.S.ONE_MINUS_SRC_ALPHA)}tF(){this.VG(this.S.ONE,this.S.ZERO)}Rect(v){this.vO(v.X,v.U,v.ja,v.ba)}vO(v,y,A,G){this.L3(v,y,A,y,A,G,v,G)}su(){let v=this.fi;v>=this.ZT&&(this.zj(),v=0);1===this.qc?this.Wu[this.Um-1].Hl+=6:(this.Dc().a1(v),
this.qc=1)}iH(v){v.xga(this.Yw,this.fi,this.Uu+this.nv);this.fi+=12}Bd(v){this.su();this.iH(v);m.ih(this.Rp,this.te);this.te+=8}L3(v,y,A,G,z,F,H,J){this.su();const M=this.Yw;let P=this.fi;const R=this.Uu+this.nv;M[P++]=v;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=H;M[P++]=J;M[P++]=R;this.fi=P;m.ih(this.Rp,this.te);this.te+=8}Fq(v,y){this.su();this.iH(v);y.wga(this.Rp,this.te);this.te+=8}M3(v,y){this.su();this.iH(v);y.ih(this.Rp,this.te);this.te+=8}cz(v,y,A,G,z,
F,H,J,M,P,R,T,Z){this.su();const X=this.Yw;let ba=this.fi;const Y=this.Uu+this.nv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.fi=ba;Z.ih(this.Rp,this.te);this.te+=8}NZ(v,y){e.oa(h,this.QB);e.oa(l,this.qJ);this.UO();const [A,G]=this.Ey(this.Sd);var z=this.Vs(0,0,100*self.devicePixelRatio,0,0,G);this.Qq(z);if("crop"===v&&this.Sd&&y){v=this.V/2;z=this.P/2;const J=y.ca();y=y.aa();var F=this.Sd.ca(),H=this.Sd.aa();
F=Math.min(F,J);const M=Math.min(H,y),P=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.wj(p);p.set(0,P,F,M+P);p.km(J,y);this.Fq(n,p)}else v=A/2,z=G/2,this.vO(-v,z,v,-z);this.Io(h);this.Qq(l)}Uq(v){this.Bp!==v&&(this.Dc().f1(v),this.Bp=v,this.qc=0,this.Wi=null)}nP(v,y,A,G,z,F,H,J,M,P,R,T){const Z=this.Bp;var X=Z.rT;const ba=!!T.length;if(X&&!Z.eX(y,A,G,z,F,H,J,M,P,R)||ba&&!Z.dX(T)){var Y=this.Dc();Y.g1();X&&(Z.k5(y,A,G,z,F,H,J,M,P,R),X=Y.wf,X[0]=F,X[1]=H,y.ih(X,2),X[6]=M,X[7]=P,A.ih(X,
12),y=Y.ep,z.ih(y,0),z=y[1],y[1]=y[3],y[3]=z,G.ih(Y.TU,0),Y.se=R,Y.Hl=J,Y.Ue=Z.ys.W?v?v.fe():null:null);ba&&(Z.O4(T),d.Nc(Y.kC,T));this.qc=0}}Yn(){this.Dc().S0();this.qc=0}xd(v){this.Dc().R0(v);this.qc=0}ku(){}dt(){super.dt();this.S.flush()}FX(){this.im&&this.Sd&&this.Sd.Vc&&(this.Dc().Q0(this.vp),this.qc=0)}Bg(v){v=!!v;this.vp!==v&&this.im&&(this.vp=v,this.Dc().c1(v),this.qc=0)}$t(v){v=!!v;if(this.bv&&this.MI!==v){if(v&&this.vp)throw Error("depth still enabled");this.MI=v;this.Dc().d1(v);this.qc=
0}}DX(){for(const v of this.hA)v.EX(this.Oh)}ro(){return!this.S||this.S.isContextLost()||this.QI}hl(){super.E2();d.J.Az.hl();d.J.LP.hl();d.J.hF.hl();for(const v of this.hA)v.xd();this.ov=this.Qu=this.HJ=this.Fd=null;this.sJ=0;this.zs="(unavailable)";this.Pg=this.Op=this.Bp=null;for(const v of this.Jw.values())v.hl()}async aF(){this.QI=!0;await this.Qy();this.QI=!1;for(const v of this.Jw.values())v.aF(this);this.sd(this.V,this.P,!0)}Tx(v,y){if(this.ro())throw Error("context lost");this.zj();const A=
d.A(d.J.Az,this);A.D7(v,y);return A}Ux(v,y){if(this.ro())return Promise.reject("context lost");y=Object.assign({},y);const A=y.qD&&"clamp-to-edge"!==y.qD||y.rD&&"clamp-to-edge"!==y.rD;if(!d.hc.ImageBitmapOptions||!this.Lo()&&A)return d.hc.ImageBitmap?createImageBitmap(v).then(G=>d.Qk(()=>this.Tx(G,y))):v instanceof Blob?d.qX(v).then(G=>this.Ux(G,y)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.Qk(()=>this.Tx(v,y))):d.Qk(()=>
this.Tx(v,y));y.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(G=>d.Qk(()=>this.Tx(G,y)))}hM(v,y,A){this.zj();const G=d.A(d.J.Az,this);G.q7(v,y,A);return G}r6(v,y){this.zj();y.tS(v,void 0)}yj(v){v&&(v.Y5(),0<v.Kc||(this.zj(),v===this.Ol&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Ol=null),v===this.hn&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.hn=null),v.iG()))}cY(v){let y=
this.V,A=this.P,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||0>=A)throw Error("invalid size");this.zj();const z=d.A(d.J.LP,this);z.p7(y,A,Object.assign({PV:G},v));this.Sd=null;this.xc.jm=null;this.xc.sj=null;return z}Cg(v,y=!0){v!==this.Sd&&(v&&v.kB&&v.KR(this.V,this.P),this.Dc().i1(v),this.Sd=v,this.qc=0,y&&this.UO())}$k(){return this.Sd}Ey(v){return v?[v.ca(),v.aa()]:[this.V,this.P]}eM(v){2>this.cd||this.Sd&&0<this.Sd.Rl?(this.tF(),
this.Vt(),this.ay(v,"stretch")):(this.Dc().O0(v,this.Sd),this.qc=0)}ay(v,y="stretch"){v=v.fe();if(!v)throw Error("not a texture-backed render target");this.Uf(v);this.NZ(y,v)}wq(v){2>this.cd||(this.Dc().X0(v.Rg),this.qc=0)}pY(v){this.Cg(null);this.zj();const y=v.fe();y===this.Ol&&(this.S.bindTexture(this.S.TEXTURE_2D,null),this.Ol=null);y===this.hn&&(this.S.activeTexture(this.S.TEXTURE1),this.S.bindTexture(this.S.TEXTURE_2D,null),this.S.activeTexture(this.S.TEXTURE0),this.hn=null);v.iG()}dM(){this.Bg(!0);
this.Dc().V0();this.qc=0}cM(){this.Bg(!1);this.Dc().U0();this.qc=0}bM(){this.Bg(!0);this.Dc().T0();this.qc=0}NF(v){this.ck()&&(this.Dc().m1(v),this.qc=0)}RD(v){this.ck()&&(this.Dc().W0(v),this.qc=0)}Nca(v){const y=new Promise(A=>u.add({resolve:A,Gea:v}));-1===w&&(w=self.requestAnimationFrame(r));return y}y1(){return!!this.DS.desynchronized}e_(){let v=0;for(const y of d.J.Az.xea())v+=y.dE();return v}Lo(){return 2<=this.cd}ck(){return!!this.Fd}U6(v){this.hA.add(v)}Kaa(v){this.hA.delete(v)}y9(v){this.x9([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={KV:null,LV:null,iW:null,getTime:null,hW:null};self.B.J.uZ=class{constructor(a){a=Object.assign({},d,a);this.JS=a.KV;this.lda=a.LV;this.oda=a.iW;this.mda=a.getTime;this.nda=a.hW}HM(a){return this.JS?this.JS(a):[a.ca(),a.aa()]}$k(a){return this.lda(a)}T3(a,b){this.oda(a,b)}Aa(){return this.mda()}ez(a){this.nda(a)}}}
{"use strict";const d=self.B,a=self.uj.mm,b=d.A(d.Rect),e=d.A(d.Rect),c=d.A(d.Rect),g=d.A(d.Rect),m=a.create(),h=a.create(),l={UC:null,MV:null,ZC:null,cL:!1},n={Gs:null,XC:!1,UK:!1,dL:!1,TV:!1,RV:!1,nD:!1},p={QC:null,Fqa:null,Mn:0,devicePixelRatio:1,ox:1,bD:0,Ls:null,jx:null,GV:null,zV:0,AV:0,BW:!1};d.J.xe=class{constructor(q,u){u=Object.assign({},l,u);this.Wg=q;this.NH=u.UC;this.dv=u.MV;this.KS=u.ZC;this.uA=null;this.lC=[];this.xw=[];this.Qp=[];this.Lg=0;this.As=this.cv=this.RS=this.Zm=this.iB=this.JI=
!1;this.Fp=0;this.Xl=[null,null,null];this.IT=!!u.cL;this.Wc=this.ld=this.$u=this.Zu=0;this.Ym=null;this.Xv=d.A(d.Rect);this.Dl=d.A(d.Rect);this.Wl=d.A(d.Rect);this.ds=d.A(d.Rect);this.tn=d.A(d.Rect);this.gJ=this.Br=1;this.cc=this.fJ=0;this.EA=null;this.TH=this.SH=0;this.yK=!1;this.Ak=a.create();this.fw=a.create()}j(){d.D(this.Qp);d.D(this.lC);d.D(this.xw);this.KS=this.dv=this.NH=this.Ym=null}CD(q,u){u=Object.assign({},n,u);d.D(this.Qp);this.$u=this.Zu=0;this.iB=this.JI=!1;this.Fp=0;this.As=!!u.nD;
d.Nc(this.lC,q);if(0!==q.length){if(u.Gs){if(u.Gs.length!==q.length)throw Error("incorrect indexMap length");d.Nc(this.xw,u.Gs)}else{d.D(this.xw);for(let v=0,y=q.length;v<y;++v)this.xw.push(v)}for(var w of q)this.Zu+=w.aT,this.$u+=w.bT,w.Xca&&(this.JI=!0),w.HC&&(this.iB=!0);!(w=1!==q.length||q[0].IH||q[0].OS)&&(w=!u.nD)&&(w=q[0],w=0!==w.aT||0!==w.bT);if(w||u.XC||q[0].Cq()||u.UK||u.dL||!this.As&&q[0].HC){this.cv=!1;w=this.lca(q[0],u);u=this.kca(q.ae(-1),u);var r=0;w&&(this.Fp=1,this.Qp.push(d.A(d.J.xe.Ch.B3,
this,-1,1)),r=1);for(let v=0,y=q.length;v<y;++v)0!==v||w?(q=1===r?2:1,v!==y-1||u||(q=0),this.Fp=Math.max(this.Fp,q),this.Qp.push(d.A(d.J.xe.Ch.rX,this,r,q,v)),r=q):(this.Fp=1,this.Qp.push(d.A(d.J.xe.Ch.KZ,this,-1,1,v)),r=1);u&&this.Qp.push(d.A(d.J.xe.Ch.y3,this,r,0))}else this.cv=!0}}lca(q,u){return u.XC||u.dL||!this.As&&q.HC||q.Cq()||q.IH&&(u.RV||q.fb().gl()&&u.TV)||0!==this.Zu||0!==this.$u}kca(q,u){return u.UK||q.IH||q.OS}Eo(q,u,w){w=Object.assign({},p,w);this.EA=u;this.Ym=w.QC;this.Lg=w.Mn;this.Br=
w.devicePixelRatio;this.gJ=w.ox;this.fJ=w.bD;this.cc=this.Wg.Aa();this.Zm=!1;q.g4();this.JI&&this.vaa();if(this.cv)this.Naa(q,w);else{var [r,v]=this.Wg.HM(q);this.Iba(q,r,v);this.i7(w);q.Vt();q.Mq(0);q.Zt(0);this.uA=w.GV;this.SH=w.zV||0;this.TH=w.AV||0;this.yK=!!w.BW;this.I$(q);this.Xl[0]=u;this.Xl[1]=1<=this.Fp?this.MQ():null;this.Xl[2]=2===this.Fp?this.MQ():null;for(const y of this.Qp)y.Wt(q,this.NQ(y.kea),this.NQ(y.SS));this.Xl[1]&&this.FR(this.Xl[1]);this.Xl[2]&&this.FR(this.Xl[2]);this.Xl.fill(null);
this.F$(q);this.uA=this.Ym=this.EA=null}}Iba(q,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.ld===u&&this.Wc===w||this.XP(q,u,w,0,0,this.Ak,this.fw);this.ld=u;this.Wc=w}XP(q,u,w,r,v,y,A){r=u/2+r;v=w/2+v;q.fq(y,u/w);q=q.Vs(r,v,100*self.devicePixelRatio,r,v,w);a.oa(A,q)}i7(q){this.Xv.oa(q.Ls);q.jx?this.Dl.oa(q.jx):this.Dl.set(0,0,this.ld,this.Wc);this.Wl.oa(this.Dl);this.Wl.km(this.ld,this.Wc);q=q.ox*q.devicePixelRatio;this.Dl.$K(this.Zu*q,this.$u*q);this.tn.oa(this.Dl);this.tn.km(this.ld,
this.Wc);this.Dl.da(0,0,this.ld,this.Wc);this.ds.oa(this.Dl);this.ds.km(this.ld,this.Wc)}I$(q){this.RS=q.vp;this.As&&(q.Bg(!1),this.iB&&q.$t(!0))}E$(q){q.Vt();this.As||(q.Bg(!1),this.iB&&q.$t(!0))}F$(q){q.$t(!1);q.Bg(this.RS);this.Zm=q.Zm}$P(){this.tn.da(0,0,1,1)}NQ(q){return 0>q?null:this.Xl[q]}MQ(){return this.Wg.$k(this)}FR(q){this.Wg.T3(q,this)}m9(q){return this.lC[q]}lG(q){this.uA?this.uA(this,q,()=>this.NH(q,this)):this.NH(q,this);this.cv||this.E$(q)}O9(q){if(this.As)return!0;if(0!==this.SH||
0!==this.TH)return!1;const [u,w]=q.Ey(q.$k());return u!==this.ld||w!==this.Wc?!1:!0}$R(q,u){let w=this.Ak,r=this.fw;if(u&&!this.O9(q)){w=m;r=h;const [v,y]=q.Ey(q.$k());this.XP(q,v,y,this.SH,this.TH,w,r)}q.Io(w);q.Qq(r)}vaa(){this.Wg.ez(this)}SQ(q){return this.KS(this.xw[q])}Zba(q,u){let w=this.tn,r=this.ds,v=this.Wl;q.gl()&&(e.oa(w),e.Qn(),w=e,c.oa(r),c.Qn(),r=c,g.oa(v),g.Qn(),v=g);this.nQ(q,u,r,v,w,1/this.ld,1/this.Wc)}Jba(q,u){let w=this.ds,r=this.Wl,v=1/this.ld,y=1/this.Wc;if(this.dv){let {tW:G,
uW:z,sW:F}=this.dv(this.Ym);G||(b.set(0,0,0,0),G=b);z||(z=this.ld);F||(F=this.Wc);r=w=G;v=1/z;y=1/F}else q.gl()&&(c.oa(w),c.Qn(),w=c,g.oa(r),g.Qn(),r=g);let A=this.tn;q.gl()&&(A=e,A.oa(this.tn),A.Qn());this.nQ(q,u,w,r,A,v,y)}nQ(q,u,w,r,v,y,A){u=this.SQ(u);q.nP(this.EA,v,w,r,this.Xv,y,A,this.Br,this.gJ,this.fJ,this.cc,u)}Naa(q,u){var w=this.lC[0];const r=q.vp,v=w.HC;v&&(q.Bg(!1),q.$t(!0),this.tn.set(0,0,1,1),this.Wl.set(0,0,1,1));q.Uq(w);q.Tf(this.Lg);q.Cg(this.EA);let y;this.Wl.set(0,0,1,1);if(w.hV&&
this.dv){const {tW:A,uW:G,sW:z}=this.dv(this.Ym);A&&this.Wl.oa(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Wg.HM(q);w=1/A;y=1/G}u.Ls?this.Xv.oa(u.Ls):this.Xv.set(0,0,0,0);u=this.SQ(0);q.nP(null,this.tn,this.Wl,this.Wl,this.Xv,w,y,this.Br,this.gJ,this.fJ,this.cc,u);q.Mq(0);this.lG(q);v&&(q.$t(!1),q.Bg(r))}}}"use strict";self.B.J.xe.Ch=class{constructor(d,a,b,e=-1){this.Kh=d;this.kea=a;this.SS=b;this.Ma=e}si(){return this.Kh}Fa(){return this.Ma}Of(){return this.si().m9(this.Fa())}Wt(){}};
{"use strict";const d=self.B;d.J.xe.Ch.B3=class extends d.J.xe.Ch{constructor(a,b,e,c){super(a,b,e,c)}Wt(a,b,e){b=this.si();a.OO();a.bk();a.Cg(e,b.yK);a.Yn();b.lG(a);b.$P()}}}{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.Bd);d.J.xe.Ch.y3=class extends d.J.xe.Ch{constructor(e,c,g,m){super(e,c,g,m)}Wt(e,c,g){const m=this.si();e.bk();e.Cg(g);m.$R(e,!0);e.Tf(m.Lg);e.Uf(c.fe());b.wj(m.Dl);a.oa(m.ds);a.Qn();e.Fq(b,a);m.IT&&e.wq(c)}}}
{"use strict";const d=self.B;d.J.xe.Ch.KZ=class extends d.J.xe.Ch{constructor(a,b,e,c){super(a,b,e,c)}Wt(a,b,e){b=this.si();a.Cg(e,b.yK);a.Yn();a.tF();a.Uq(this.Of());b.Jba(a,this.Fa());b.lG(a);b.$P()}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.Bd);d.J.xe.Ch.rX=class extends d.J.xe.Ch{constructor(e,c,g,m){super(e,c,g,m)}Wt(e,c,g){const m=this.si();e.Cg(g);(g=0===this.SS)?e.Tf(m.Lg):(e.Yn(),e.tF());e.Uq(this.Of());m.Zba(e,this.Fa());e.Uf(c.fe());m.$R(e,g);b.wj(m.Dl);a.oa(m.ds);a.Qn();e.Fq(b,a);m.IT&&e.wq(c)}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.E0=class{constructor(e){d=e;Object.defineProperties(this,{hfa:{value:{},writable:!1},storage:{value:new self.G0(d),writable:!1},Hra:{value:d.me,writable:!1}});d.$d.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.$d.addEventListener("keyup",c=>a.delete(c.key));d.Lb().addEventListener("window-blur",()=>a.clear());d.me&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}A9(e){Object.defineProperties(this.hfa,e)}addEventListener(e,c){d.$d.addEventListener(e,c)}removeEventListener(e,c){d.$d.removeEventListener(e,c)}get HV(){return d.my()}random(){return d.Gq()}get cD(){return d.Rb().Cv}get keyboard(){const e=d.hv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get YV(){const e=d.hv.YV;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get EL(){const e=d.hv.EL;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.yo("runtime","alert",{message:e+(d.me?" [via Web Worker]":"")})}}}"use strict";self.z0=class{constructor(){}};{"use strict";const d=self.qg;self.G0=class{constructor(a){this.Kw=a.j9()}getItem(a){d.Gd(a);return this.Kw.getItem(a)}setItem(a,b){d.Gd(a);return this.Kw.setItem(a,b)}removeItem(a){d.Gd(a);return this.Kw.removeItem(a)}clear(){return this.Kw.clear()}keys(){return this.Kw.keys()}}}
{"use strict";const d=self.qg,a=new WeakMap;self.CE=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.ya(),writable:!1}});b.H().iR(this,b)}addEventListener(b,e){d.Gd(b);d.Xj(e);a.get(this).$d.addEventListener(b,e)}removeEventListener(b,e){d.Gd(b);d.Xj(e);a.get(this).$d.removeEventListener(b,e)}*OV(){for(const b of a.get(this).la())yield b.oh()}QK(b){d.Sf(void 0);d.Sf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.H();b=c.Rb().Z(b);if(!b)throw Error("invalid layer");e=c.KD(e,b,void 0,void 0,void 0);c=c.ka();c.ve(!0);e.cA();c.ve(!1);return e.oh()}}}
{"use strict";const d=self.qg,a=new WeakMap;self.D0=class{constructor(b){a.set(this,b);const e=[],c=b.La,g=c.sg().length;for(let m=0;m<g;++m)e.push(new self.BE(c,m));Object.defineProperties(this,{name:{value:b.ya(),writable:!1},index:{value:b.Fa(),writable:!1}})}addEventListener(b,e){d.Gd(b);d.Xj(e);a.get(this).$d.addEventListener(b,e)}removeEventListener(b,e){d.Gd(b);d.Xj(e);a.get(this).$d.removeEventListener(b,e)}get width(){return a.get(this).ca()}set width(b){a.get(this).Ki(b)}get height(){return a.get(this).aa()}set height(b){a.get(this).Gi(b)}set scale(b){d.xh(b);
a.get(this).zF(b)}get scale(){return a.get(this).wd}set angle(b){d.xh(b);a.get(this).Ec(b)}get angle(){return a.get(this).Ia()}set scrollX(b){d.Sf(b);a.get(this).Hi(b)}get scrollX(){return a.get(this).Mf()}set scrollY(b){d.Sf(b);a.get(this).Ii(b)}get scrollY(){return a.get(this).Nf()}scrollTo(b,e){d.Sf(b);d.Sf(e);const c=a.get(this);c.Hi(b);c.Ii(e)}set eW(b){d.Gd(b);const e=a.get(this);if("perspective"===b)e.mP();else if("orthographic"===b)e.jP();else throw Error("invalid projection");}get eW(){return a.get(this).sf?
"orthographic":"perspective"}}}
{"use strict";const d=self.B,a=self.qg,b=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),g=d.A(d.$a);self.C0=class{constructor(m){b.set(this,m);const h=[],l=m.La,n=l.sg().length;for(let p=0;p<n;++p)h.push(new self.BE(l,p));Object.defineProperties(this,{name:{value:m.ya(),writable:!1},index:{value:m.Fa(),
writable:!1},cD:{value:m.fc().Cv,writable:!1}})}get isVisible(){return b.get(this).Rc()}set isVisible(m){b.get(this).Ah(m)}get opacity(){return b.get(this).Ce()}set opacity(m){m=d.da(+m,0,1);isNaN(m)||b.get(this).Zj(m)}set scale(m){a.xh(m);b.get(this).kP(m)}get scale(){return b.get(this).wd}set angle(m){a.xh(m);b.get(this).Ec(m)}get angle(){return b.get(this).je}set Ex(m){a.xh(m);b.get(this).kf(m)}get Ex(){return b.get(this).ab()}set Mn(m){a.Gd(m);m=e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");
b.get(this).Tf(m)}get Mn(){return c.get(b.get(this).Aj())}set backgroundColor(m){a.kF(m);if(3>m.length)throw Error("expected 3 elements");g.Qs(m[0],m[1],m[2]);m=b.get(this);const h=m.xl;h.lm(g)||(h.rj(g),m.H().$())}get backgroundColor(){const m=b.get(this).xl;return[m.Sa,m.Va,m.Ua]}set scrollX(m){a.Sf(m);const h=b.get(this);h.du(!0);h.Hi(m)}get scrollX(){return b.get(this).Mf()}set scrollY(m){a.Sf(m);const h=b.get(this);h.du(!0);h.Ii(m)}get scrollY(){return b.get(this).Nf()}scrollTo(m,h){a.Sf(m);
a.Sf(h);const l=b.get(this);l.du(!0);l.Hi(m);l.Ii(h)}}}
{"use strict";const d=self.B,a=self.qg,b=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.A(d.Event.Lb);e.set(m,h);return h}let g=null;self.Ft=class{constructor(){b.set(this,g);const m={Ff:{value:g.H().bj,writable:!1},mL:{value:g.I().Dv,writable:!1},uid:{value:g.bd,writable:!1}};g.Z8(m);g.U8(m);Object.defineProperties(this,m);g.H().iR(this,g)}static Ig(m){g=m}static $q(){return g}Gu(){const m=e.get(this);m&&(m.j(),e.delete(this));b.delete(this)}addEventListener(m,h,l){a.Gd(m);
a.Xj(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Gd(m);a.Xj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.B,a=self.qg,b=self.Ft,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.A(d.$a);self.Oy=class m extends b{constructor(){super();var h=b.$q();e.set(this,h);const l=[];var n=h.m();if(h=n.ag){n=n.I().La.sg().length;for(let p=0;p<n;++p)l.push(new self.BE(h,p))}}get cD(){return e.get(this).m().fc().Cv}get WV(){return e.get(this).m().Z().Ada}get x(){return e.get(this).m().fa()}set x(h){h=
+h;const l=e.get(this).m();isNaN(h)||l.fa()===h||(l.Dg(h),l.Da())}get y(){return e.get(this).m().ga()}set y(h){h=+h;const l=e.get(this).m();isNaN(h)||l.ga()===h||(l.Bh(h),l.Da())}get Ex(){return e.get(this).m().ab()}set Ex(h){h=+h;const l=e.get(this),n=l.m();isNaN(h)||n.ab()===h||(n.kf(h),l.H().$())}get width(){return e.get(this).m().ca()}set width(h){h=+h;const l=e.get(this).m();isNaN(h)||l.ca()===h||(l.Ki(h),l.Da())}get height(){return e.get(this).m().aa()}set height(h){h=+h;const l=e.get(this).m();
isNaN(h)||l.aa()===h||(l.Gi(h),l.Da())}get angle(){return e.get(this).m().Ia()}set angle(h){h=d.ue(+h);const l=e.get(this).m();isNaN(h)||l.Ia()===h||(l.Ec(h),l.Da())}YK(){e.get(this).m().Qc().lga()}get isVisible(){return e.get(this).m().Rc()}set isVisible(h){h=!!h;const l=e.get(this),n=l.m();n.Rc()!==h&&(n.Ah(h),l.H().$())}get opacity(){return e.get(this).m().Ce()}set opacity(h){h=d.da(+h,0,1);const l=e.get(this),n=l.m();isNaN(h)||n.Ce()===h||(n.Zj(h),l.H().$())}set Mn(h){a.Gd(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=e.get(this);l.m().Tf(h);l.H().$()}get Mn(){return g.get(e.get(this).m().Aj())}get zIndex(){return e.get(this).m().Qj()}Cf(h,l){a.Sf(h);a.Sf(l);return e.get(this).m().Xs(+h,+l)}getParent(){const h=e.get(this).Ca();return h?h.oh():null}*wx(){for(const h of e.get(this).wx())yield h.oh()}*children(){for(const h of e.get(this).children())yield h.oh()}*Mk(){for(const h of e.get(this).Mk())yield h.oh()}removeChild(h){a.lF(h,m);const l=e.get(this);h=e.get(h);
l.Wj(h)}}}{"use strict";const d=new WeakMap;self.fja=class extends self.Oy{constructor(){super();d.set(this,self.Ft.$q())}focus(){d.get(this).ma.yM()}blur(){d.get(this).ma.RL()}}}
{"use strict";const d=self.B,a=self.qg,b=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.A(d.Event.Lb);e.set(m,h);return h}let g=null;self.pN=class{constructor(){b.set(this,g);const m={Ff:{value:g.H().bj,writable:!1},behavior:{value:g.um().t_(),writable:!1}};Object.defineProperties(this,m)}static Ig(m){g=m}static $q(){return g}get instance(){return b.get(this).T.oh()}Gu(){const m=e.get(this);m&&(m.j(),e.delete(this));b.delete(this)}addEventListener(m,h,l){a.Gd(m);a.Xj(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){a.Gd(m);a.Xj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.A0=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Ff:{value:a.H().bj,writable:!1}})}}}
{"use strict";const d=self.B,a=self.qg,b=new WeakMap;self.BE=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).sg()[this.index].ya()}getParameter(e){a.xh(e);e=Math.floor(+e);const c=b.get(this).Uk(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.$a?[e.Sa,e.Va,e.Ua]:e}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.iX=class extends d.ea{constructor(e,c){super();var g=c.exportType;this.g=e;this.MB=new Map;this.Wr=new Map;this.Qda=new Map;this.jB="cordova"===g;this.RT=!!c.isiOSCordova;this.Kv=!!c.isFileProtocol;this.mea=c.supportedAudioFormats||{};this.Yca=
new Map;this.xT=this.fT="";this.CA="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.rH=[];this.BH=new Map;this.EK=[];this.KB=[];this.sT=!1;this.DB=this.AH=this.Sw=0;this.wI=!1;this.Pda=d.A(d.P3,()=>this.yQ(),50);this.NJ=new d.pO(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [m,h]of Object.entries(e))this.MB.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.Qda.set(m,h);new self.z0(this)}j(){this.MB.clear();for(const e of this.Wr.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Wr.clear();for(const e of this.rH)e.j();d.D(this.rH);this.BH.clear();d.D(this.KB);this.g=null}H(){return this.g}Nba(e){this.fT=e}Sba(e){this.xT=e}vG(e){return this.MB.has(e.toLowerCase())}Kz(e){return this.MB.get(e.toLowerCase())||null}UM(e){if(!this.vG(e))return e;e=e.toLowerCase();var c=this.Wr.get(e);c||(c=this.Kz(e),c=URL.createObjectURL(c),
this.Wr.set(e,c));return c}Tk(e,c){c=c||this.CA;const g=this.Kz(e);if(g)return Promise.resolve(g);if(d.UE(e)){const m=e.toLowerCase();return this.jB&&this.Kv?this.gM(m):"local"===c?this.NJ.Oc(()=>d.Tk(m)):d.Tk(m)}return d.Tk(e)}bt(e){const c=this.Kz(e);if(c)return d.pX(c);if(d.UE(e)){const g=e.toLowerCase();return this.jB&&this.Kv?this.fM(g):"local"===this.CA?this.NJ.Oc(()=>d.bt(g)):d.bt(g)}return d.bt(e)}ct(e){const c=this.Kz(e);if(c)return d.QL(c);if(d.UE(e)){const g=e.toLowerCase();return this.jB&&
this.Kv?this.WX(g):"local"===this.CA?this.NJ.Oc(()=>d.ct(g)):d.ct(g)}return d.ct(e)}async wM(e){e=await this.ct(e);return JSON.parse(e)}$F(e,c){return this.g.yo("runtime","cordova-fetch-local-file",{filename:e,as:c})}WX(e){return this.$F(e,"text")}async gM(e){const c=await this.$F(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.ae(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async VX(e){e=e.toLowerCase();var c=this.Wr.get(e);if(c)return c;c=await this.gM(e);c=URL.createObjectURL(c);
this.Wr.set(e,c);return c}fM(e){return this.$F(e,"buffer")}nE(e,c=""){if(d.HE(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.vG(e)?Promise.resolve(this.UM(e)):this.jB&&this.Kv?this.VX(c+e):Promise.resolve(c+e.toLowerCase())}Zy(e){if(e.tx&&!a.has(e.tx))throw Error("invalid load policy");let c=this.BH.get(e.url);if(c)return c;c=d.A(d.qN,this,{url:e.url,size:e.size||0,tx:e.tx||this.CA});this.rH.push(c);this.BH.set(c.Gk,c);this.sT||(this.Sw+=c.zm(),
this.KB.push(c.MN().then(()=>this.QP(c.zm()))));return c}async IP(){try{await Promise.all(this.KB),this.DB=1}catch(e){console.error("Error loading: ",e),this.wI=!0,this.yQ()}}e5(){this.sT=!0}QP(e){this.AH+=e;this.Pda.yX()}yQ(){const e=d.A(d.Event,"loadingprogress");this.DB=d.da(this.AH/this.Sw,0,1);e.progress=this.DB;this.g.Lb().dispatchEvent(e)}hca(e){d.Nc(this.EK,e);this.EK.length&&this.KB.push(this.p$())}p$(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,g,m]of this.EK)this.Sw+=
m,e.push(this.o$(c,g).then(()=>this.QP(m)));return Promise.all(e)}async o$(e,c){try{const g=await this.nE(c,this.fT),m=new FontFace(e,`url('${g}')`);this.g.me?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}t1(){return!!this.mea["audio/webm; codecs=opus"]}zba(e){for(const [c,g,m]of e)this.Yca.set(c,{fileName:c,$qa:g.map(h=>({type:h[0],Wqa:h[1],nra:c+h[1],fileSize:h[2]})),Ira:m})}async QN(e){e=await this.nE(e);return await this.g.yo("runtime",
"add-stylesheet",{url:e})}}}
{"use strict";const d=self.B;d.hX=class extends d.ea{constructor(a,b){super();this.jd=a;this.g=a.H();this.Gk=b.url;this.ks=b.size;this.mJ=b.tx;this.Yu=null;this.TI=!1;this.kn=null}j(){this.Yu=this.g=this.jd=this.kn=null}zm(){return this.ks}MN(){return"local"===this.mJ||this.Yu?(this.TI=!0,Promise.resolve()):this.kn?this.kn:this.kn=this.jd.Tk(this.Gk,this.mJ).then(a=>{this.TI=!0;this.kn=null;return this.Yu=a}).catch(a=>console.error("Error loading resource: ",a))}SE(){return this.TI}VZ(){return this.Yu?Promise.resolve(this.Yu):
this.kn?this.kn:this.jd.Tk(this.Gk,this.mJ)}}}
{"use strict";const d=self.B,a=new d.pO,b=new Set;d.qN=class extends d.hX{constructor(e,c){super(e,c);this.Ik=this.Tp=null;this.Kc=0;this.zT=this.BT=-1;b.add(this)}j(){this.Ei();if(0!==this.Kc)throw Error("released image asset which still has texture references");this.Tp=null;b.delete(this);super.j()}static Dq(){for(const e of b)e.Tp=null,e.Ik=null,e.Kc=0}Lt(e,c){c=c||{};this.Kc++;if(this.Ik)return Promise.resolve(this.Ik);if(this.Tp)return this.Tp;c.uV=this.g.M.YU;return this.Tp=this.VZ().then(g=>
a.Oc(()=>e.Ux(g,c).then(m=>{this.Tp=null;if(0===this.Kc)return e.yj(m),null;this.Ik=m;this.BT=m.ca();this.zT=m.aa();return this.Ik}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Ei(){if(0>=this.Kc)throw Error("texture released too many times");this.Kc--;0===this.Kc&&this.Ik&&(this.Ik.fb().yj(this.Ik),this.Ik=null)}fe(){return this.Ik}ca(){return this.BT}aa(){return this.zT}}}
{"use strict";const d=self.B;function a(b,e){return b.m().Lk-e.m().Lk}d.a4=class extends d.ea{constructor(b,e,c){super();this.O=e;this.N=c;this.F=[];this.Ov=!0;this.ij=new Set;this.Hv=!1}j(){d.D(this.F);this.ij.clear()}gd(){d.D(this.F);this.Ov=!0;this.ij.clear();this.Hv=!1}M4(){this.Ov=!1}to(){if(!this.F.length)return!0;if(this.F.length>this.ij.size)return!1;this.rG();return!0}FE(b){this.ij.has(b)?(this.ij.delete(b),0===this.ij.size&&(this.Hv=!1)):(this.F.push(b),this.Ov=1===this.F.length)}wh(b){this.ij.add(b);
this.Hv=!0;50<=this.ij.size&&this.rG()}rG(){this.Hv&&(this.F.length===this.ij.size?this.gd():(d.mg(this.F,this.ij),this.ij.clear(),this.Hv=!1))}B8(){this.Ov||(this.F.sort(a),this.Ov=!0)}PD(b){this.rG();this.B8();this.F.length&&b.push(this.F)}}}
{"use strict";const d=self.B;d.b4=class extends d.ea{constructor(a,b){super();this.PH=a;this.OH=b;this.Ui=d.A(d.Qt)}j(){this.Ui.j();this.Ui=null}vm(a,b,e){let c=this.Ui.Y(a,b);return c?c:e?(c=d.A(d.a4,this,a,b),this.Ui.Set(a,b,c),c):null}Li(a){return Math.floor(a/this.PH)}Mi(a){return Math.floor(a/this.OH)}nl(a,b,e){if(b)for(let c=b.X,g=b.ja;c<=g;++c)for(let m=b.U,h=b.ba;m<=h;++m){if(e&&e.Cf(c,m))continue;const l=this.vm(c,m,!1);l&&(l.wh(a),l.to()&&this.Ui.$n(c,m))}if(e)for(let c=e.X,g=e.ja;c<=g;++c)for(let m=
e.U,h=e.ba;m<=h;++m)b&&b.Cf(c,m)||this.vm(c,m,!0).FE(a)}dz(a,b){let e=this.Li(a.X);const c=this.Mi(a.U),g=this.Li(a.ja);for(a=this.Mi(a.ba);e<=g;++e)for(let m=c;m<=a;++m){const h=this.vm(e,m,!1);h&&h.PD(b)}}h2(a){let b=a.X;const e=a.U,c=a.ja;for(a=a.ba;b<=c;++b)for(let g=e;g<=a;++g){const m=this.vm(b,g,!1);m&&m.M4()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.Bd,e=[];new d.Rect;new d.Rect;const c=self.uj,g=c.oD,m=c.Cx,h=c.mm;h.create();const l=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),w=d.A(d.mu);d.A(d.Rect);function r(z,F){return z.m().Lk-F.m().Lk}function v(z,F){return z.m().ab()-F.m().ab()}const y=[],A=[],G=[];d.KN=class extends d.ea{constructor(z,F,H){super();this.Vg=z;this.g=z.H();this.vU=F;this.Ea=H[0];this.Ma=-1;this.eb=H[2];this.Rv=!!H[3];this.xl=d.A(d.$a);this.xl.om(H[4].map(M=>
M/255));this.yk=!!H[5];this.Vd=H[6];this.Wd=H[7];this.bb=d.A(d.$a,1,1,1,H[8]);this.cC=d.A(d.$a);this.NI=H[9];this.fea=H[17];this.dV=H[18];this.sea=H[10];this.lj=H[11];this.Lg=H[12];this.Me=null;this.wd=1;this.dd=H[16];this.ai=this.$h=this.je=0;this.Gl=!1;this.jg=d.A(d.Rect);this.kV=d.A(d.Rect);this.Jn=d.A(d.Rect);this.Ak=h.create();this.XI=!0;this.fw=h.create();this.UI=!0;this.jV=d.A(d.J.t6);this.AB=!0;this.VU=[];this.ET=H[14];this.vk=[];this.AA=[];this.FT=new Map;this.F=[];this.Zo=this.GK=!1;const J=
this.g.M;this.La=d.A(d.Rk,this,H[15]);this.Kh=d.A(d.J.xe,J.bI,{UC:(M,P)=>{P=P.Ym;const R=P.$k();M.Lm(P.mE());M.ay(R);M.wq(R);J.Bo(R)},ZC:M=>this.La.Uk(M)});this.$w=this.Sl=!0;this.gs=null;this.aJ=[];this.tB=!1;this.Oda=d.A(d.Rect,0,0,-1,-1);this.qda=d.A(d.Rect,0,0,-1,-1);this.Ada=new self.C0(this);this.zS();this.Po()&&(this.gs=d.A(d.b4,this.g.Yg,this.g.Xg));this.xn=H[19].map(M=>d.A(d.KN,this.Vg,this,M))}Ig(){for(const z of this.ET){const F=this.g.cf(z[1]);this.Vg.OP(F);F.Ar||F.TO(z);this.vk.push(z);
this.FT.set(z[2],z)}d.Nc(this.VU,this.vk);this.ET=null}j(){this.g=this.Vg=null}w_(z){return this.FT.get(z)}ZX(z){const F=this.Vg.xp;let H=0;const J=this.vk;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.cf(M[1]);let Z=!0;if(!T.yE()||F)M=this.g.pi(M,this,!0),z.push(M),T.Rf()&&(Z=!1,this.AA.push(M.bd));Z&&(J[H]=J[P],++H)}d.Ye(J,H);this.g.Qd();this.Fg()}Hg(z,F){const H=z.m();if(H.Z()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==H.ab()&&(this.Zo=!0);F&&this.Po()&&
z.m().Da();this.Fg()}r$(z){this.F.includes(z)||(this.F.push(z),0!==z.m().ab()&&(this.Zo=!0),this.Fg())}paa(z){const F=z.m();if(F.Z()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==F.ab()&&(this.Zo=!0);this.Fg()}Uo(z,F){const H=this.F.indexOf(z);0>H||(F&&this.Po()&&z.m().HR(),this.F.splice(H,1),this.Fg(),this.oR())}XR(){this.Zo=!0}oR(){0===this.F.length&&(this.Zo=!1)}cH(z){if(z){z=new Set;for(var F of this.F){var H=F.m().Lk;0<=H&&z.add(H)}F=-1;for(const J of this.F)if(H=
J.m(),!(0<=H.Lk)){for(++F;z.has(F);)++F;H.aA(F)}}this.F.sort(r)}A8(){for(const z of this.F)z.I().Rf()||this.g.ao(z);this.g.Qd();d.D(this.F);this.Zo=!1;this.Fg()}Tt(z,F,H,J,M){const P=this.g.ka(),R=this.g.Tc,T=z.Wa,Z=[];for(const Y of this.vk){var X=Y[0];if(F.Cf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.vM(X))continue}else continue;X=this;var ba=this.g.Ja();this.fc()!==ba&&((X=ba.SM(this.ya()))||(X=ba.uy(this.Fa())));ba=this.g.pi(Y,X,!1,void 0,void 0,!1,M);X.JF(ba);X=ba.m();X.Pt(H,J);X.Da();P.ve(!0);
ba.cA();P.ve(!1);Z.push(ba)}}return Z}fc(){return this.Vg}ya(){return this.Ea}XG(z){this.Ma=z}Fa(){return this.Ma}H(){return this.g}Cj(){return this.g.Cj()}si(){this.Bu();return this.Kh}Bu(){const z=this.vq();if(this.Sl||z!==this.$w){var F=this.La.Wf;this.Kh.CD(F.map(H=>H.Of()),{Gs:F.map(H=>H.Fa()),XC:!z,nD:!0});this.Sl=!1;this.$w=z}}Dh(){this.La.Dh();this.Sl=!0}Po(){return this.sea&&!this.dV}q5(){this.tB=!1}Rc(){for(const z of this.Xfa())if(!z.Rv)return!1;return!0}Ah(z){z=!!z;this.Rv!==z&&(this.Rv=
z,this.g.$())}du(z){z=!!z;if(this.Gl!==z){if(this.Gl=z)z=this.fc(),this.$h=z.Mf(),this.ai=z.Nf();this.hk();this.g.$()}}Hi(z){var F=this.fc();const H=F.$M();F=F.aN();z>F&&(z=F);z<H&&(z=H);this.$h!==z&&(this.$h=z,this.Gl&&(this.hk(),this.g.$()))}Ii(z){var F=this.fc();const H=F.bN();F=F.ZM();z>F&&(z=F);z<H&&(z=H);this.ai!==z&&(this.ai=z,this.Gl&&(this.hk(),this.g.$()))}Mf(){return this.Gl?this.$h:this.fc().Mf()}Nf(){return this.Gl?this.ai:this.fc().Nf()}uG(){const z=this.fc();return[z.rE(),z.sE()]}kN(z,
F){var H=this.kV;if(0===z)F.oa(H);else{let R=H.Ms(),T=H.Ns();var J=this.AM(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.uG();if(.5!==X||.5!==ba){const Y=this.jt();var M=this.g,P=100/Y;J=(X-.5)*M.lg/P;M=(ba-.5)*M.kg/P;P=this.Ia();0!==P&&(w.set(J,M),w.rotate(P),J=w.O,M=w.N);z=d.mD(Y,0,z);R+=d.de(J,0,z);T+=d.de(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Ce(){return this.bb.Ta}Zj(z){z=d.da(z,0,1);this.bb.Ta!==z&&(this.bb.Os(z),this.zS(),this.g.$())}zS(){this.cC.oa(this.bb);this.cC.sL()}mE(){return this.cC}vq(){return this.bb.VC(1,
1,1,1)}r5(z){this.lj!==z&&(this.lj=z,this.hk(),this.g.$())}m5(z,F){if(this.Vd!==z||this.Wd!==F)if(this.Vd=z,this.Wd=F,this.hk(),this.g.$(),1!==this.Vd||1!==this.Wd)for(const H of this.F)H.I().UG(!0)}kf(z){this.dd!==z&&(this.dd=z,this.g.$())}ab(){return this.dd}Ec(z){z=d.ue(z);this.je!==z&&(this.je=z,this.hk(),this.g.$())}Ia(){return d.ue(this.Vg.Ia()+this.je)}q0(){return 0<this.F.length}sG(){return this.iF()&&this.dV?(d.Nc(G,this.F),G.sort((z,F)=>this.pca(z,F)),G):this.F}VP(z){d.Ln(z,this.sG());for(const F of this.xn)F.Rc()&&
0<F.Ce()&&F.VP(z)}pca(z,F){var H=this.fc().IS,J=H[0],M=H[1];H=H[2];var P=z.m();const R=F.m();F=P.fa()-J;z=P.ga()-M;P=P.ab()-H;J=R.fa()-J;M=R.ga()-M;H=R.ab()-H;return J*J+M*M+H*H-(F*F+z*z+P*P)}E5(z){z=!!z;this.yk!==z&&(this.yk=z,this.g.$())}a5(z){z=!!z;this.NI!==z&&(this.NI=z,this.g.$())}xO(){return!this.H().hm||!this.fea}iF(){return!this.xO()}uq(){return this.iF()&&this.fc().Gda}rF(){if(!this.uq())return!1;for(const z of this.xn)if(!z.rF())return!1;return!0}Tf(z){this.Lg!==z&&(this.Lg=z,this.g.$())}Aj(){return this.Lg}l0(){for(const z of this.xn)if(z.rz())return!0;
return!1}*lW(){for(const z of this.xn)yield*z.lW();yield this}*Mfa(){let z=this.vU;for(;z;)yield z,z=z.vU}*Xfa(){yield this;yield*this.Mfa()}N1(z){return this===z||this.Vd===z.Vd&&this.Wd===z.Wd&&this.wd===z.wd&&this.lj===z.lj&&this.je===z.je&&this.Mf()===z.Mf()&&this.Nf()===z.Nf()}Daa(z){0!==z.size&&0<d.mg(this.F,z)&&(this.oR(),this.Fg())}Fg(){this.tB=this.GK=!1}Nu(){if(!this.GK){this.F.sort(v);if(this.Po())for(let z=0,F=this.F.length;z<F;++z){const H=this.F[z].m();H.aA(z);this.gs.h2(H.pw)}else for(let z=
0,F=this.F.length;z<F;++z)this.F[z].m().aA(z);this.GK=!0}}n2(z,F,H){var J=z.m();F=F.m();if(J.Z()!==this||F.Z()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Qj();F=F.Qj();if(J===F+(H?1:-1))return!1;d.Eea(this.F,J);J<F&&F--;H&&F++;F===this.F.length?this.F.push(z):this.F.splice(F,0,z);this.Fg();return!0}z$(z,F){const H=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=z[J],Z=F[M];T.m().Lk<Z.m().Lk?(H.push(T),++J):(H.push(Z),++M)}for(;J<P;++J)H.push(z[J]);
for(;M<R;++M)H.push(F[M]);return H}y$(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.z$(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}x$(z){for(;1<z.length;)z=this.y$(z);return z[0]}l9(){this.Nu();d.D(e);this.gs.dz(this.jg,e);return e.length?1===e.length?e[0]:this.x$(e):[]}rz(){return this.Rc()&&0<this.Ce()&&this.sQ()}sQ(){if(this.q0()||!this.yk)return!0;for(const z of this.xn)if(z.sQ())return!0;return!1}lu(){return this.NI||!this.vq()||0!==this.Aj()||this.La.Dt()}sF(){if(this.lu())return!0;
for(const z of this.xn)if(z.sF())return!0;return!1}$k(){return this.Me}AM(z){if(this.Vg.sf)return 1;{const F=this.jt();return F/(F-z)}}jt(){return 100/this.xi()}hk(){this.AB=this.UI=!0}Lz(z){this.UI&&(this.g7(z,this.fw),this.UI=!1);return this.fw}S8(){var z=this.g,F=this.fc(),H=z.ym(),J=z.VB,M=z.WB;J=(this.Mf()-J)*this.Vd+J;var P=(this.Nf()-M)*this.Wd+M;z.Ll&&(J=Math.round(J),P=Math.round(P));M=(J+0)*H;J=(P+0)*H;F=F.sf?100:this.jt();const [R,T]=this.uG();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*
z.lg*H/Z;z=(T-.5)*z.kg*H/Z;H=this.Ia();0!==H&&(w.set(P,z),w.rotate(H),P=w.O,z=w.N);M+=P;J+=z}return[M,J,F]}g7(z,F){const H=this.g;var J=this.fc();const M=H.ym();if(this.uq()){g.oa(p,J.IS);g.oa(q,J.ida);g.oa(u,J.jda);J=H.VB;const P=H.WB,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.Vd+J;p[1]=(p[1]-P)*this.Wd+P;p[2]*=Math.max(this.Vd,this.Wd);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,M,M,1);g.multiply(p,p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.S8();g.set(p,P,R,T);g.set(q,P,R,T-100);
J=this.Ia();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.TL(F,p,q,u,H.M.ri());1!==M&&(g.set(l,M,M,1),h.scale(F,F,l))}$ba(){this.AB=this.XI=!0}Mz(z){this.XI&&(this.h7(z),this.XI=!1);return this.Ak}h7(z){const F=this.g.M,[H,J]=this.uG();this.Vg.sf?z.vX(this.Ak,F.Ej(),F.ri()):.5===H&&.5===J?h.oa(this.Ak,F.DA):z.fq(this.Ak,F.Ej()/F.ri(),H,J)}Zz(z){z.Io(this.Mz(z));let F;F=this.Lz(z);z.Qq(F)}C3(z){this.Zz(z);z.Mq(this.ab())}mh(z,F,H){var J=this.g.M;const M=this.lu();var P=null;let R=null;
if(this.g.NE()&&z.gl()){const T=J.TM(this);T&&(R=T.xD(),z.NF(R))}M?(P={vj:this.g.vd},"low"===J.Ph&&(P.width=J.Ej(),P.height=J.ri()),this.Me=P=this.g.gt(P),z.Cg(P),this.yk&&z.Yn()):(this.Me=F,z.Cg(F));this.yk||z.xd(this.xl);this.Vg.qQ(z,this.Me,this.xn,M&&this.yk);this.Zz(z);z.Mq(this.ab());z.Bg(this.iF());this.xi()>Number.EPSILON&&(this.Nu(),J=this.Po()&&0===this.ab()&&!this.Zo,this.uq()?this.q8(z):J?this.r8(z):this.pQ(z,this.sG()));z.Mq(0);z.Zt(0);M&&(z.Bg(!1),this.s8(z,P,F,H));R&&z.RD(R);this.Me=
null}pQ(z,F){const H=this.jg,J=this.Me,M=this.fc().sf,P=this.fc().oN();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.Rc()&&ba.DN(H,P,M)&&this.ql(X,ba,z,J)}}q8(z){const F=this.Me,H=this.br(),J=this.sG();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.m();if(!P.Rc()||!P.yq(H)){++T;continue}(!M.Hq()||0<P.Vc)&&A.push(M);var R=M.m().ff();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.Rc()&&Y.yq(H)){if(Y.ff()!==R)break;ba.Hq()?(0<Y.Vc&&A.push(ba),
y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].UN()){this.n8(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.m(),P.Xz(!0),this.ql(M,P,z,F),P.Xz(!1)}else{this.ql(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.m(),R.Z().ql(P,R,z,F))}T=X;d.D(y);d.D(A)}}n8(z,F){const H=this.Me;z.dM();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.m();M.Vz(!0);this.mG(J,M,z)}z.cM();for(let P=0,R=F.length;P<R;++P)J=F[P],M=J.m(),this.ql(J,M,z,H),M.Vz(!1);z.bM()}r8(z){var F=this.gs;const H=this.qda,J=this.Oda,
M=this.jg;H.set(F.Li(M.X),F.Mi(M.U),F.Li(M.ja),F.Mi(M.ba));this.tB&&H.od(J)?F=this.aJ:(F=this.l9(),this.tB=!0,J.oa(H));this.pQ(z,F);F!==this.aJ&&d.Nc(this.aJ,F)}ql(z,F,H,J){F.Dt()?this.p8(z,F,H,J):this.mG(z,F,H)}mG(z,F,H){F=F.Pp;H.Wi!==F&&F.cX();z.mh(H)}p8(z,F,H,J){this.o8(z,F,H,J)&&this.Zz(H)}o8(z,F,H,J){const M=F.ag.si();M.Eo(H,J,{QC:z,Mn:F.Aj(),devicePixelRatio:this.g.pt(),ox:this.g.qt()*this.xi(),bD:this.Ia(),Ls:F.Qc(),jx:M.cv?null:this.H9(F),GV:null,zV:null,AV:null,BW:null});H.Mq(this.ab());
return M.Zm}s8(z,F,H,J){const M=this.g;0===this.La.Wf.length?(z.Cg(H),z.bk(),J&&0===this.Lg&&this.vq()?z.eM(F):(z.Tf(this.Lg),z.Lm(this.cC),z.ay(F)),z.wq(F),M.Bo(F)):this.si().Eo(z,H,{QC:this,Mn:this.Aj(),devicePixelRatio:M.pt(),ox:M.qt()*this.xi(),bD:this.Ia(),Ls:this.jg,jx:null,cL:!0})}kP(z){this.wd!==z&&(this.wd=z,this.Vg.Jx(),this.hk(),this.g.$())}ym(){return this.xi()*this.g.ym()}Dj(){return this.xi()*this.g.Dj()}xi(){return(this.wd*this.Vg.wd-1)*this.lj+1}SF(){var z=this.g.VB,F=this.g.WB,H=
(this.Mf()-z)*this.Vd+z,J=(this.Nf()-F)*this.Wd+F;z=this.xi();F=this.g.lg/z;z=this.g.kg/z;H-=F/2;let M=J-z/2;this.g.Ll&&(H=Math.round(H),M=Math.round(M));J=this.kV;J.set(H,M,H+F,M+z);F=this.Ia();0!==F&&(a.oa(J),a.offset(-J.Ms(),-J.Ns()),b.$fa(a,F),b.YK(a),a.offset(J.Ms(),J.Ns()),J.oa(a));F=this.dd;this.kN(F,this.jg);this.uq()?this.xX(F,this.Jn):this.Jn.oa(this.jg)}xX(z,F){var H=this.g.M,J=H.Hc;H=H.yc;const [M,P]=this.jh(0,0,z),[R,T]=this.jh(J,0,z),[Z,X]=this.jh(J,H,z),[ba,Y]=this.jh(0,H,z);z=Math.min(M,
R,Z,ba);J=Math.min(P,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}jh(z,F,H=0){return this.k7(z,F,H,this.Dj())}k7(z,F,H,J){const M=this.g;var P=M.fb();const R=this.xi();m.set(n,0,0,M.lg/R,M.kg/R);z/=J;F=n[3]-F/J;J=this.Mz(P);P=this.Lz(P);return d.J.l6(z,F,H,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}BX(z,F){const H=this.wd,J=this.lj,M=this.Vd,P=this.Wd,R=this.je;this.Wd=this.Vd=this.lj=
this.wd=1;this.je=0;this.hk();z=this.jh(z,F);this.wd=H;this.lj=J;this.Vd=M;this.Wd=P;this.je=R;this.hk();return z}xo(z,F){return this.gR(z,F,0,this.Dj())}Uj(z,F,H=0){return this.gR(z,F,H,this.ym()*this.Cj())}gR(z,F,H,J){var M=this.g,P=M.fb();const R=this.xi();m.set(n,0,0,M.lg/R,M.kg/R);M=this.Mz(P);P=this.Lz(P);return d.J.E3(z,F,H,P,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}H9(z){var F=z.Qc(),H=z.ff();z=z.Vc;const J=H+z,M=F.X,P=F.U,R=F.ja;F=F.ba;if(this.uq()){if(this.Rm(M,P,H)||this.Rm(R,P,H)||this.Rm(R,
F,H)||this.Rm(M,F,H)||0<z&&(this.Rm(M,P,J)||this.Rm(R,P,J)||this.Rm(R,F,J)||this.Rm(M,F,J)))return null}else if(J>=this.jt())return null;let [T,Z]=this.Uj(M,P,H),[X,ba]=this.Uj(R,F,H);if(0!==this.Ia()||0<z){const [Y,va]=this.Uj(R,P,H),[ta,ya]=this.Uj(M,F,H);if(0<z){const [Na,Sa]=this.Uj(M,P,J),[Ta,Ua]=this.Uj(R,P,J),[Wa,eb]=this.Uj(R,F,J),[fb,Pa]=this.Uj(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,
Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}a.set(T,Z,X,ba);return a}br(){this.AB&&(this.Mca(),this.AB=!1);return this.jV}Mca(){var z=this.g.fb();const F=this.Mz(z);z=this.Lz(z);this.jV.wX(z,F)}Rm(z,F,H){return this.br().u1(z,F,H)}ia(){return{s:this.wd,a:this.je,vl:this.jg.X,vt:this.jg.U,vr:this.jg.ja,vb:this.jg.ba,v:this.Rv,bc:this.xl.toJSON(),t:this.yk,sx:this.$h,sy:this.ai,hosp:this.Gl,px:this.Vd,py:this.Wd,c:this.bb.toJSON(),sr:this.lj,
fx:this.La.Cd(),cg:this.AA}}na(z){this.wd=z.s;this.je=z.a;this.jg.set(z.vl,z.vt,z.vr,z.vb);this.Rv=!!z.v;this.xl.om(z.bc);this.yk=!!z.t;z.hasOwnProperty("sx")&&(this.$h=z.sx);z.hasOwnProperty("sy")&&(this.ai=z.sy);z.hasOwnProperty("hosp")&&(this.Gl=!!z.hosp);this.Vd=z.px;this.Wd=z.py;this.bb.om(z.c);this.lj=z.sr;d.Nc(this.AA,z.cg);d.Nc(this.vk,this.VU);const F=new Set(this.AA);let H=0;for(let J=0,M=this.vk.length;J<M;++J)F.has(this.vk[J][2])||(this.vk[H]=this.vk[J],++H);d.Ye(this.vk,H);this.La.qd(z.fx);
this.Sl=!0;this.cH(!1);this.Fg()}JF(z){if(!this.F.includes(z))if(z.gf()){var F=[...z.Mk()];F.push(z);F.sort((J,M)=>{J=J.m().qq();M=M.m().qq();return J-M});for(var H of F)if(H.Wb())for(const J of H.Dd)F.includes(J)||(z=[...J.Mk()],z.push(J),z.sort((M,P)=>{M=M.m().qq();P=P.m().qq();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Hg(J,!0)}else if(this.Hg(z,!0),z.Wb())for(F of z.Dd)if(H=[...F.Mk()],H.push(F),H.sort((J,M)=>{J=J.m().qq();M=M.m().qq();return J-M}),H&&H.length)for(const J of H)this.Hg(J,
!0)}}}
{"use strict";const d=self.B,a=self.pg;d.A(d.Rect);d.A(d.Rect);const b=d.A(d.Rect),e=d.A(d.$a),c=self.uj.oD,g=[],m=[],h=[],l=[];let n=null;function p(q,u){n!==q&&(q.C3(u),n=q)}d.S1=class extends d.ea{constructor(q,u,w){super();this.Za=q;this.g=q.H();this.Ea=w[0];this.bea=w[1];this.aea=w[2];this.V=w[1];this.P=w[2];this.zB=!!w[3];this.sf=!!w[4];this.JC=w[5];this.KC=w[6];this.$S=w[7];this.Xc=null;this.eb=w[8];this.Ma=u;this.ai=this.$h=0;this.wd=1;this.je=0;this.Mr=new Set;this.dh=new Set;this.Nw=new Set;
this.ur=[];this.BI=[];this.Gda=!1;this.IS=c.create();this.ida=c.create();this.jda=c.create();this.iC=[];this.Xb=[];this.bU=new Map;this.cU=new Map;const r=this.g.M;this.La=d.A(d.Rk,this,w[11]);this.Kh=d.A(d.J.xe,r.bI,{UC:(v,y)=>{y=y.Ym.$k();v.Vt();v.ay(y);v.wq(y);r.Bo(y)},ZC:v=>this.La.Uk(v)});this.Sl=!0;this.mV=!1;this.Me=null;this.Hp={};this.xp=!0;this.Cv=new self.D0(this);this.$d=d.A(d.Event.Lb);for(const v of w[9])this.iC.push(d.A(d.KN,this,null,v));this.Xb=[...this.wea()];for(let v=0,y=this.Xb.length;v<
y;++v)q=this.Xb[v],q.XG(v),q.Ig(),this.bU.set(q.ya().toLowerCase(),q),this.cU.set(q.eb,q);for(const v of w[10]){w=this.g.cf(v[1]);if(!w)throw Error("missing nonworld object class");w.Ar||w.TO(v);this.BI.push(v);this.OP(w)}}j(){for(const q of this.Xb)q.j();d.D(this.Xb);this.Nw.clear();this.g=this.Za=this.Xc=null}H(){return this.g}ya(){return this.Ea}Fa(){return this.Ma}si(){this.Bu();return this.Kh}Bu(){const q="low"===this.g.M.Ph;if(this.Sl||this.mV!==q){var u=this.La.Wf;this.Kh.CD(u.map(w=>w.Of()),
{Gs:u.map(w=>w.Fa()),UK:q,nD:!0});this.Sl=!1;this.mV=q}}Dh(){this.La.Dh();this.Sl=!0}VM(){let q=this.Xb[0].xi();for(let u=1,w=this.Xb.length;u<w;++u){const r=this.Xb[u];if(0!==r.Vd||0!==r.Wd)q=Math.min(q,r.xi())}return q}QQ(){return.5*this.g.lg/this.VM()}RQ(){return.5*this.g.kg/this.VM()}$M(){return this.zB?-Infinity:this.QQ()}aN(){return this.zB?Infinity:this.ca()-this.QQ()}bN(){return this.zB?-Infinity:this.RQ()}ZM(){return this.zB?Infinity:this.aa()-this.RQ()}Hi(q){const u=this.$M(),w=this.aN();
q>w&&(q=w);q<u&&(q=u);this.$h!==q&&(this.$h=q,this.gk(),this.g.$())}Mf(){return this.$h}Ii(q){const u=this.bN(),w=this.ZM();q>w&&(q=w);q<u&&(q=u);this.ai!==q&&(this.ai=q,this.gk(),this.g.$())}Nf(){return this.ai}Jx(){this.Hi(this.Mf());this.Ii(this.Nf());for(const q of this.Xb)q.Gl&&(q.Hi(q.Mf()),q.Ii(q.Nf()))}H5(q,u){if(this.JC!==q||this.KC!==u)this.JC=q,this.KC=u,this.E1()&&(this.hr(),this.gk(),this.g.$())}rE(){return this.sf?.5:this.JC}sE(){return this.sf?.5:this.KC}oN(){const q=this.rE(),u=this.sE();
return 0>q||1<q||0>u||1<u}mP(){this.sf&&(this.sf=!1,this.hr(),this.gk(),this.g.$())}jP(){this.sf||(this.sf=!0,this.hr(),this.gk(),this.g.$())}E1(){return!this.sf}zF(q){this.wd!==q&&(this.wd=q,this.gk(),this.Jx(),this.g.$())}Ec(q){q=d.ue(q);this.je!==q&&(this.je=q,this.gk(),this.g.$())}Ia(){return this.je}ca(){return this.V}Ki(q){!isFinite(q)||1>q||(this.V=q)}aa(){return this.P}Gi(q){!isFinite(q)||1>q||(this.P=q)}*wea(){for(const q of this.iC)yield*q.lW()}Z(q){return"number"===typeof q?this.uy(q):
this.SM(q.toString())}uy(q){q=d.da(Math.floor(q),0,this.Xb.length-1);return this.Xb[q]}SM(q){return this.bU.get(q.toLowerCase())||null}vy(q){return this.cU.get(q)||null}hr(){for(const q of this.Xb)q.$ba()}gk(){for(const q of this.Xb)q.hk()}G_(){let q=this.iC.filter(u=>u.rz())[0];for(;q;){if(!q.yk)return e.rj(q.xl),e.Os(1),e;if(q.lu())return e.Tn(0,0,0,0),e;q=q.xn.filter(u=>u.rz())[0]}e.Tn(0,0,0,0);return e}IQ(){return[...this.Mr]}OP(q){if(q.Wb())for(const u of q.Og.Vl)this.Mr.add(u);else this.Mr.add(q)}r9(){return[...this.dh]}yG(q,
u){if(q===this||!u)return Promise.resolve();q&&(d.UX(this.dh,q.dh),q.dh.clear());q=[];for(const w of this.Mr)this.dh.has(w)||(q.push(w.Bq(u)),this.dh.add(w));return Promise.all(q)}async SN(q){if(q.Wa)throw Error("cannot load textures for family");var u=this.g.fb();!u||u.ro()||this.dh.has(q)||(this.dh.add(q),u=q.Bq(u),this.T6(u),await u,q.$y(),this.g.$())}T6(q){this.Nw.add(q);q.then(()=>this.Nw.delete(q)).catch(()=>this.Nw.delete(q))}v6(){return Promise.all([...this.Nw])}l2(q){if(q.Wa||0<q.F.length)throw Error("cannot unload textures");
this.g.fb()&&this.dh.has(q)&&(this.dh.delete(q),q.Co())}Bca(q,u){if(q!==this&&u)for(const w of this.dh)w.Rf()||q.Mr.has(w)||(w.Co(),this.dh.delete(w))}Eu(){this.dh.clear()}async nS(q){const u=this.g,w=this.Za,r=u.ka();this.$S&&(this.Xc=r.KM(this.$S),this.Xc.gH());w.dS(this);this.V=this.bea;this.P=this.aea;this.$h=u.Yg/2;this.ai=u.Xg/2;this.Jx();this.A$(q);this.x7();this.xp||this.z7();this.dQ(this.ur);this.y7();w.IX();u.Qd();const v=this.g.Sca;await Promise.all(v);d.D(v);if(!u.xk){for(const y of this.ur)y.L5();
for(const y of this.ur)y.qS()}d.D(this.ur);await Promise.all([...this.Mr].map(y=>y.dF(this.g.fb())));q&&(u.Lb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.bo(new d.Event("beforeprojectstart")));await this.bo(new d.Event("beforelayoutstart"));u.xk||await u.hd(d.C.Qa.G.fO,null,null);await this.bo(new d.Event("afterlayoutstart"));q&&(u.Lb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.bo(new d.Event("afterprojectstart")));r.aba(w);await this.v6();this.hr();this.gk();
this.xp=!1}A$(q){for(const w of this.g.Tc)if(!w.Wa&&w.tf)for(const r of w.la()){const v=r.m();var u=v.Z();u=d.da(u.Fa(),0,this.Xb.length-1);u=this.Xb[u];v.Ju(u);u.r$(r)}if(!q)for(const w of this.Xb)w.cH(!1)}x7(){for(const q of this.Xb)q.ZX(this.ur),q.SF()}z7(){let q=!1;for(const [w,r]of Object.entries(this.Hp)){const v=this.g.yy(parseInt(w,10));if(v&&!v.Wa&&v.yE()){for(const y of r){var u=null;if(v.tf&&(u=this.vy(y.w.l),!u))continue;u=this.g.pi(v,u,!1,0,0,!0);u.qd(y);q=!0;this.ur.push(u)}d.D(r)}}for(const w of this.Xb)w.cH(!0),
w.Fg();q&&(this.g.Qd(),this.g.CR())}dQ(q){for(const w of q){if(!w.Wb())continue;const r=w.m(),v=w.ho();for(const y of w.I().Og.Vl)if(y!==w.I()){var u=y.la();u.length>v?w.Yq(u[v]):(u=r?this.g.pi(y,r.Z(),!0,r.fa(),r.ga(),!0):this.g.pi(y,null,!0,0,0,!0),this.g.Qd(),y.dA(),w.Yq(u),q.push(u))}}}y7(){for(const q of this.BI)this.g.cf(q[1]).Wb()||this.g.pi(q,null,!0)}v7(){const q=[],u=this.BI;let w=0;for(let r=0,v=u.length;r<v;++r){const y=u[r],A=this.g.cf(y[1]);A.Rf()?A.Wb()&&A.Og.m0()||q.push(this.g.pi(y,
null,!0)):(u[w]=y,++w)}d.Ye(u,w);this.g.Qd();this.dQ(q)}Tt(q,u,w,r,v,y){if(w)return w.Tt(q,u,r,v,y);w=[];for(const A of this.Xb)w.push(A.Tt(q,u,r,v,y));return w.flat()}async tca(){const q=this.Za;this.g.xk||await this.g.hd(d.C.Qa.G.M2,null,null);q.dP(!0);this.g.ka().Ox();this.xp||this.lba();for(const u of this.Xb)u.A8();for(const u of this.g.Tc)if(!(u.Rf()||u.tf||u.sb().gn||u.Wa)){for(const w of u.la())this.g.ao(w);this.g.Qd()}q.dP(!1);q.Rb()===this&&q.dS(null)}iba(q){const u=q.I().eb.toString();
this.Hp.hasOwnProperty(u)||(this.Hp[u]=[]);this.Hp[u].push(q.Cd())}lba(){for(const q of this.Xb){q.Nu();for(const u of q.F){const w=u.I();!w.Rf()&&w.yE()&&this.iba(u)}}}j4(){this.Hp={};this.xp=!0}$k(){return this.Me}lu(){const q=this.g,u=q.fb().gl();return"low"===q.M.Ph||u&&q.GC||"low-latency"===q.tr||this.La.Dt()||u&&q.hm}mh(q){const u=this.g.M,w=this.lu();if(w){"low-latency"!==this.g.tr&&(q.Cg(null),q.Yn());const r={vj:this.g.vd,gL:this.g.GC||this.La.Dt()};"low"===u.Ph&&(r.width=u.Ej(),r.height=
u.ri());this.Me=this.g.gt(r)}else this.Me=null;q.Cg(this.Me);q.xd(this.G_());this.g.hm&&q.FX();for(const r of this.Xb)r.SF();this.qQ(q,this.Me,this.iC,!0);w&&(q.Bg(!1),this.t8(q,this.Me));this.Me=null}qQ(q,u,w,r){w=w.filter(v=>v.rz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.rF()&&!A.sF()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.rF()&&!z.sF())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].l0()){this.l8(q,u,g);v+=g.length;d.D(g);continue}d.D(g)}A.mh(q,u,r&&0===v);++v}}t8(q,
u){const w=this.g;0===this.La.Wf.length?(q.Cg(null),q.bk(),q.eM(u),q.wq(u),w.Bo(u)):(b.set(0,0,w.lg,w.kg),this.si().Eo(q,null,{QC:this,Mn:3,devicePixelRatio:this.g.pt(),ox:this.g.qt()*this.wd,bD:this.Ia(),Ls:b,jx:null,cL:!0}))}l8(q,u,w){w[0].yk||(e.rj(w[0].xl),e.Os(1),q.xd(e));var r=this.g.M;q.Bg(!0);for(var v of w)v.Nu(),v.VP(m);v=w[0];w=null;this.g.NE()&&q.gl()&&(r=r.TM(v))&&(w=r.xD(),q.NF(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.Z();if(y.Rc()&&y.yq(A.br())){(!v.Hq()||0<y.Vc)&&l.push(v);
var G=v.m().ff();h.push(v);for(r=z+1;r<F;++r){const H=m[r],J=H.m();if(J.Rc()&&J.yq(J.Z().br())){if(J.ff()!==G)break;H.Hq()?(0<J.Vc&&l.push(H),h.push(H)):l.push(H)}}if(1!==h.length||h[0].UN()){this.m8(q,u,h);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.Z(),y.Xz(!0),p(A,q),A.ql(v,y,q,u),y.Xz(!1)}else{p(A,q);A.ql(v,y,q,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.Z(),p(G,q),G.ql(y,A,q,u))}z=r;d.D(h);d.D(l)}else++z}w&&q.RD(w);d.D(m);n=null}m8(q,u,w){q.dM();for(let A=0,G=w.length;A<
G;++A){var r=w[A],v=r.m(),y=v.Z();v.Vz(!0);p(y,q);y.mG(r,v,q)}q.cM();for(let A=0,G=w.length;A<G;++A)r=w[A],v=r.m(),y=v.Z(),p(y,q),y.ql(r,v,q,u),v.Vz(!1);q.bM()}ia(){const q={sx:this.Mf(),sy:this.Nf(),s:this.wd,a:this.Ia(),w:this.ca(),h:this.aa(),ortho:this.sf,vpX:this.rE(),vpY:this.sE(),fv:this.xp,persist:this.Hp,fx:this.La.Cd(),layers:{}};for(const u of this.Xb)q.layers[u.eb.toString()]=u.ia();return q}na(q){this.$h=q.sx;this.ai=q.sy;this.wd=q.s;this.je=q.a;this.V=q.w;this.P=q.h;this.sf=!!q.ortho;
q.hasOwnProperty("vpX")&&(this.JC=q.vpX);q.hasOwnProperty("vpY")&&(this.KC=q.vpY);this.xp=!!q.fv;this.Hp=q.persist;this.La.qd(q.fx);this.Sl=!0;for(const [u,w]of Object.entries(q.layers))(q=this.vy(parseInt(u,10)))&&q.na(w);this.hr();this.gk()}lh(q){q.cD=this.Cv;var u=this.g;(u=u.qb&&!u.ka().Ty())&&a.MF();this.$d.dispatchEvent(q);u&&a.wD()}bo(q){q.cD=this.Cv;return this.$d.TK(q)}}}
{"use strict";const d=self.B;d.T1=class extends d.ea{constructor(a){super();this.g=a;this.Ri=[];this.jJ=new Map;this.kJ=new Map;this.cw=null;this.SJ=[];this.NA=null;this.nB=0;this.kw=null}j(){this.kw=this.NA=this.cw=this.g=null;d.D(this.Ri);this.jJ.clear();this.kJ.clear();d.D(this.SJ)}Na(a){a=d.A(d.S1,this,this.Ri.length,a);this.Ri.push(a);this.jJ.set(a.ya().toLowerCase(),a);this.kJ.set(a.eb,a)}H(){return this.g}X4(a){this.NA=a}o_(){if(this.NA)return this.NA;if(this.Ri.length)return this.Ri[0];throw Error("no first layout");
}nq(a){return this.jJ.get(a.toLowerCase())||null}jE(a){return this.kJ.get(a)||null}H_(a){a=d.da(Math.floor(a),0,this.Ri.length-1);return this.Ri[a]}fc(a){return"number"===typeof a?this.H_(a):this.nq(a.toString())}dS(a){this.cw=a}Rb(){return this.cw}*Ax(){this.cw&&(yield this.cw);this.SJ.length&&(yield*this.SJ)}dP(a){if(a)this.nB++;else{if(0>=this.nB)throw Error("already unset");this.nB--}}AN(){return 0<this.nB}Nx(a){this.kw=a}IX(){this.kw=null}zq(){return!!this.kw}Ho(){const a=this.Rb();a&&a.hr()}Go(){const a=
this.Rb();a&&a.gk()}}}
{"use strict";const d=self.B;d.c6=class extends d.ea{constructor(a){super();this.g=a;this.Qw=d.A(d.Gg);this.cea=null;this.yn=[];this.Rw=new Map;this.Ul=new Map;this.zn=new Map;this.ah=[];this.oe=[];this.Vh=[];this.Qv=this.qr=this.pp=!1;this.dm=()=>this.daa();this.ss=()=>this.JG();this.DH=()=>this.Du();this.iJ=()=>this.C$();this.FI=b=>this.vR(b.instance);this.qH=()=>this.GG();this.pv=[];this.Lc=0}j(){this.X3();this.qH=this.FI=this.iJ=this.DH=this.ss=this.dm=null;for(const a of this.yn)a.He(),a.j();
d.D(this.yn);this.yn=null;this.Qw.j();this.Qw=null;d.D(this.ah);this.ah=null;d.D(this.oe);this.oe=null;d.D(this.Vh);this.Vh=null;this.Rw.clear();this.Rw=null;this.Ul.clear();this.Ul=null;this.zn.clear();this.zn=null;d.D(this.pv);this.g=this.pv=null}YW(){const a=this.g.Lb();a.addEventListener("pretick",this.dm);a.addEventListener("tick2",this.ss);a.addEventListener("beforelayoutchange",this.DH);a.addEventListener("layoutchange",this.iJ);a.addEventListener("instancedestroy",this.FI);a.addEventListener("afterload",
this.qH)}X3(){const a=this.g.Lb();a.removeEventListener("pretick",this.dm);a.removeEventListener("tick2",this.ss);a.removeEventListener("beforelayoutchange",this.DH);a.removeEventListener("layoutchange",this.iJ);a.removeEventListener("instancedestroy",this.FI);a.removeEventListener("afterload",this.qH)}Na(a){this.Qw.Oc(a);a=d.No.YX(a,this);this.Oc(a);this.u5(a);this.zn.set(a.ya(),0)}JD(a){a=a.fN();var b=this.Qw.Y(a);b=d.No.JD(`${a}:${this.zn.get(a)}`,b,this);this.YQ(a);this.Oc(b);return b}YQ(a){this.zn.set(a,
this.zn.get(a)+1)}Dba(){for(const a of this.yn)a.Or||this.YQ(a.fN())}n7(){for(const a of this.zn.keys())this.zn.set(a,0)}Oc(a){this.yn.push(a);this.Rw.set(a.ya().toLowerCase(),a)}wh(a){a.hz();a.Or||(d.Nk(this.yn,a),d.Nk(this.ah,a),d.Nk(this.oe,a),d.Nk(this.Vh,a),this.Rw.delete(a.ya().toLowerCase()),this.Y3(a),a.$g||a.j())}ra(a){this.g.ra(a,this.cea,null)}H(){return this.g}pP(a,b){this.Ul.has(a)||this.Ul.set(a,new Set);this.Ul.get(a).add(b)}u5(a){for(const b of a.lE())this.pP(b,a)}Y3(a){for(const [b,
e]of this.Ul.entries())e.has(a)&&(e.delete(a),0===e.size&&this.Ul.delete(b))}b0(a){if(this.Ul.has(a))return this.Ul.get(a)}Hy(a){return this.Rw.get(a.toLowerCase())||null}W3(a){d.Nk(this.oe,a);this.Au()}MO(a){this.oe.includes(a)?(a.Tq(!0),a.Vq(!1),a.pz(!1)):(a.Tq(!1),a.Vq(!0),a.pz(!1),this.ah.includes(a)||this.ah.push(a));this.mR()}Vx(a){a.Tq(!1);a.Vq(!1);a.mF();d.Nk(this.ah,a);this.Au()}ZL(a){a.Tq(!1);a.Vq(!1);a.pz(!0);this.Vh.push(a);d.Nk(this.oe,a)}$L(a){a.Tq(!1);a.Vq(!1);a.pz(!1);a.$j(1);d.Nk(this.oe,
a)}QX(a){this.ZL(a);a.mF()}daa(){if(!this.H().xk&&this.pp&&!this.qr){for(this.Qv=!0;this.ah.length;){var a=this.ah.pop();a.Sc();0!==a.Lc&&(this.Lc=1);this.oe.push(a)}a=this.g.rv;var b=this.g.sv,e=this.g.Zd;for(let c=this.oe.length-1;0<=c;c--)this.oe[c].Ie(a,e,b);this.Qv=!1;0!==this.Lc&&this.H().$()}}JG(){if(!this.H().xk&&this.pp&&!this.qr){var a;for(let b=0,e=this.Vh.length;b<e;b++){const c=this.Vh[b];a||(a=new Set);c.hz();this.nR(c);a.add(c)}if(a){d.mg(this.Vh,a);this.Lc=0;for(let b=0,e=this.oe.length;b<
e;b++)if(0!==this.oe[b].Lc){this.Lc=1;break}}this.Au()}}nR(a){a.$g||a.nN()&&a.Xf&&a.cn&&a.xM()}mR(){this.pp||(this.pp=!0)}Au(){this.Vh.length||this.oe.length||this.ah.length||this.Qv||(this.pp=!1)}Du(){for(this.qr=!0;this.ah.length;)this.Vx(this.ah.pop());const a=new Set;for(const b of this.oe)b.Du()&&(b.hz(),a.add(b));d.mg(this.oe,a);a.clear();for(const b of this.Vh)b.Du()&&(b.hz(),a.add(b));d.mg(this.Vh,a);this.Au();for(const b of this.yn)b.xj()}C$(){this.qr=!1}vR(a){var b=a.I();if(b=this.b0(b))if(this.g.xk)this.pv.push(a);
else for(const e of b)e.Or||(e.$g?this.wh(e):e.nN()||(this.nR(e),this.wh(e)))}GG(){for(const a of this.pv)this.vR(a);d.D(this.pv)}ia(){return{timelinesJson:this.qba(),scheduledTimelinesJson:this.oba(),playingTimelinesJson:this.mba(),markedForRemovalTimelinesJson:this.kba(),hasRuntimeListeners:this.pp,changingLayout:this.qr,isTickingTimelines:this.Qv}}na(a){a&&(this.n7(),this.l$(a.timelinesJson),this.i$(a.scheduledTimelinesJson),this.g$(a.playingTimelinesJson),this.f$(a.markedForRemovalTimelinesJson),
this.pp=!a.hasRuntimeListeners,this.qr=!!a.changingLayout,this.Qv=!!a.isTickingTimelines,this.Dba(),this.mR(),this.Au())}qba(){return this.yn.map(a=>a.ia())}l$(a){for(const b of a){a=this.Hy(b.name);if(!a){a=this.o9(b);if(!a)continue;a=this.Hy(a);a=this.JD(a)}a.na(b);a.v0()||this.wh(a)}}o9(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}oba(){return this.SG(this.ah)}i$(a){this.BG(a,this.ah)}mba(){return this.SG(this.oe)}g$(a){this.BG(a,this.oe)}kba(){return this.SG(this.Vh)}f$(a){this.BG(a,
this.Vh)}Q9(a,b){for(const e of b)if(e===a.ya())return!0;return!1}SG(a){return a.map(b=>b.ya())}BG(a,b){var e=new Set;for(const c of b)this.Q9(c,a)||e.add(c);d.mg(b,e);e=c=>g=>g.ya()===c;for(const c of a)(a=this.Hy(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.B;d.No=class extends d.ea{constructor(a,b,e){super();this.g=e.H();this.Bb=e;this.Pd=b;this.Ea=a;this.hb=[];this.bV=0;this.lr=null;this.ES=0;this.jM();this.$B=this.lw=null;this.ac=0;this.Yc=1;this.Nd=0;this.Id=1;this.cn=this.Ml=this.sB=!1;this.Xf=!0;this.PB=this.$g=!1;this.rr=-1;this.Pe=this.mp=this.Or=this.bB=!1;this.CB=NaN;this.bh=[""];this.WU="";this.jK=!1;this.XA=this.Lc=0}static YX(a,b){const e=b.Qw.Y(a[0]);a=d.A(d.No,a[0],e,b);a.h5();return a}static JD(a,b,e){return d.A(d.No,
a,b,e)}j(){if(!this.$g){this.Bb.Vx(this);this.Bb.QX(this);for(const a of this.hb)a.j();d.D(this.hb);this.Pd=this.Bb=this.g=this.hb=null;this.$g=!0;this.$B=this.lw=null}}jM(){for(const a of this.Pd.Bt().vW())this.bV=this.hb.push(d.RF.Na(this,a))}H(){return this.g}xt(a,b,e){if(this.XA){var c;for(let m=0;m<this.hb.length;m++){var g=this.hb[m];a===g.za()&&(g=g.Lf(e))&&b.constructor===g.Fb().constructor&&(c||(c=[]),c.push(g))}return c}}v0(){return!!this.hb.length}qz(a){this.Ea=a}ya(){return this.Ea}fN(){return this.Pd.ya()}Pf(){return this.Pd.Pf()}yt(){return this.Pd.yt()}vi(){return this.Pd.vi()}df(){return this.Pd.df()}Yj(a){for(const b of this.hb)b.Yj(a)}wy(){return this.Pd.wy()}Ay(){return this.Pd.Ay()}th(){return this.Pd.th()}$j(a){this.Yc=
a}Sj(){return this.IsPlaying()?0<this.Yc:!0}WM(){this.lw||(this.lw=new Promise(a=>{this.$B=a}))}mF(){this.lw&&(this.$B(),this.$B=this.lw=null)}oP(a){this.bh=d.No.n9(a);this.jK=!0}iO(){d.C.Gc.G.Jo(this);this.Bb.ra(d.C.Gc.G.zla);this.Bb.ra(d.C.Gc.G.Ala);this.Bb.ra(d.C.Gc.G.Bla);this.Bb.ra(d.C.Gc.G.pla);d.C.Gc.G.Jo(null)}$E(){this.rr=this.g.Dk}xM(){this.mp||(this.mp=!0,d.C.Gc.G.Jo(this),this.Bb.ra(d.C.Gc.G.wla),this.Bb.ra(d.C.Gc.G.xla),this.Bb.ra(d.C.Gc.G.yla),this.Bb.ra(d.C.Gc.G.ola),d.C.Gc.G.Jo(null))}Tq(a){this.sB=
a}vN(){return this.rr===this.g.Dk}IsPlaying(a=!1){return this.vN()||this.Ml&&!a?!0:this.sB}er(){return this.IsPlaying(!0)}Vq(a){this.Ml=a}SO(a){this.Xf=a;a=this.Aa();if(0>=a||a>=this.Pf())this.Xf=!0}pz(a){this.PB=a}wF(a){this.bB=a}h5(){this.Or=!0}Aa(){return this.ac}Wq(a){const b=this.Aa();this.vc(a);this.SO(!1);this.Xf||this.wF(!0);if(this.er()||this.Ml||!this.cn)this.er()||this.Ml||this.cn?this.er()?this.He():this.Ml&&(this.Bb.Vx(this),this.aP()):this.aP();this.Lu();this.wG(a,!0,b);this.bH();this.Lc&&
this.H().$();this.zR()}vc(a){this.ac=0>a?0:a>=this.Pf()?this.Pf():a}zR(){d.C.Gc&&this.constructor===d.No&&(d.C.Gc.G.Jo(this),this.Bb.ra(d.C.Gc.G.tla),this.Bb.ra(d.C.Gc.G.ula),this.Bb.ra(d.C.Gc.G.vla),d.C.Gc.G.Jo(null))}Play(a=!1){return this.$g||this.Ml?!1:this.er()&&this.vN()?this.uba():this.er()||!this.Xf&&!a&&!this.bB?!1:this.vba()}uba(){this.wF(!1);this.Bb.W3(this);this.Bb.MO(this);this.WM();return!0}vba(){this.wF(!1);this.Bb.MO(this);this.WM();return!0}He(a=!1){this.$g||(this.SO(a),this.Bb.ZL(this),
this.Xf&&this.mF())}gd(a=!0,b=!1){if(!this.$g)if(!this.er()&&this.Ml)this.Bb.Vx(this);else if(!this.Xf){this.He(!0);this.Sj()?this.vc(0):this.vc(this.Pf());var e=this.Aa();this.Lu();b?this.I9(e):this.wG(e,!1);a&&this.zR();this.bH();this.Lc&&a&&this.H().$()}}GO(){this.gd(!1,!0)}I9(a){this.wG(a,!1,NaN,!1,!0)}Du(){if(this.$g)return!0;if(this.w0())return!1;this.Bb.$L(this);this.GO();return!0}aP(){this.Sc(!0)}Sc(a){if(!this.PB){if(a){this.Pe=this.cn=!0;this.Lu();for(const b of this.hb)b.Sc()}else if(this.Tq(!0),
this.Vq(!1),this.iO(),this.Xf){this.rr=-1;this.Nd=0;this.Id=1;this.mp=this.Xf=!1;this.Pe=this.cn=!0;this.Sj()?this.vc(0):this.vc(this.Pf());this.Lu();for(const b of this.hb)b.Sc()}else{this.Pe=!0;this.Lu();for(const b of this.hb)b.Fe()}this.bH()}}Lu(){this.XA=0;for(const a of this.hb)a.dn&&(this.XA=1)}bH(){this.Lc=0;for(const a of this.hb)a.$z(),0===this.Lc&&1===a.Lc&&(this.Lc=1),this.lr||1!==a.mn||(this.lr||(this.lr=[]),this.ES=this.lr.push(a))}Ie(a,b){if(0!==a||0!==this.CB){this.CB=a;var e=this.ac;
b=e+a*b*this.Yc;a=this.Pd.us;this.ac=0>b?0:b>=a?a:b;var c=!1;b=this.wy();var g=this.Ay();b||g?b&&!g?0<this.Yc?this.ac>=a&&this.vc(0):0>=this.ac&&this.vc(a):!b&&g?0<this.Yc?this.ac>=a&&(this.vc(a),this.$j(-1*this.Yc),1===this.Nd?this.Id<this.th()?(this.Id++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):0>=this.ac&&(this.vc(0),this.$j(-1*this.Yc),1===this.Nd?this.Id<this.th()?(this.Id++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):b&&g&&(0<this.Yc?this.ac>=a&&(this.vc(a),this.$j(-1*this.Yc)):0>=this.ac&&(this.vc(0),
this.$j(-1*this.Yc))):0<this.Yc?this.ac>=a&&(this.Id<this.th()?(this.Id++,this.vc(0)):(this.vc(a),c=!0)):0>=this.ac&&(this.Id<this.th()?(this.Id++,this.vc(a)):(this.vc(0),c=!0));b=this.bV;if(c){for(c=0;c<b;c++)this.hb[c].WO();this.He(!0);this.$E()}else{g=this.ES;for(c=0;c<g;c++)this.lr[c].Wn();if(1===this.XA)for(c=0;c<b;c++){const m=this.hb[c],h=m.ef(),l=e-h;0>this.ac-h&&0<l?(this.ac=0>h?0:h>=a?a:h,m.Ba(h,!0,!1,!1,this.Pe,!1)):m.Ba(this.ac,!0,!1,!1,this.Pe,!1)}else for(c=0;c<b;c++)this.hb[c].Ba(this.ac,
!0,!1,!1,this.Pe,!1);for(c=0;c<g;c++)this.lr[c].Vn();this.Pe&&(this.Pe=!1)}}}wG(a,b=!1,e=NaN,c=!1,g=!1){for(var m of this.hb)m.Wn();for(const h of this.hb){m=a;if("number"===typeof e){const l=this.Aa()-h.ef(),n=e-h.ef();0>l&&0<n&&(m=h.ef(),this.vc(m))}h.Ba(m,!1,b,!0,this.Pe,g)}for(const h of this.hb)h.Vn();this.Pe&&c&&(this.Pe=!1)}hz(){if(!this.$g)for(const a of this.hb)a.ll()}xj(){for(const a of this.hb)a.xj()}JX(){for(const a of this.hb)a.HX()}x5(a,b){if(b)for(const e of this.hb)if(e.Bi()){if(a){if(e.Fj()!==
a)continue}else if(e.p0())continue;e.f5(b);this.Bb.pP(b.I(),this);break}}nN(){return this.hb.some(a=>a.Bi()?a.FD():!0)}w0(){return this.hb.some(a=>a.Bi()?a.FD()?(a=a.I())?a.Rf():!1:!1:!1)}Lf(a){for(const b of this.hb)for(const e of b.Xa)if(e.wa.Zc===a)return e}gN(a){for(const b of this.hb)if(a===b.za())return b;return null}lE(){const a=[];for(const b of this.hb)a.push(b.I());return a.filter(b=>b)}ia(){return{tracksJson:this.sba(),name:this.Ea,playheadTime:this.Aa(),playbackRate:this.Yc,pingPongState:this.Nd,
currentRepeatCount:this.Id,isPlaying:this.sB,isScheduled:this.Ml,initialStateSet:this.cn,finishedTriggers:this.mp,complete:this.Xf,released:this.$g,markedForRemoval:this.PB,completedTick:this.rr,implicitPause:this.bB,isTemplate:this.Or,tags:this.bh.join(" "),stringTags:this.WU,tagsChanged:this.jK,firstTick:this.Pe}}na(a){a&&(this.m$(a.tracksJson),this.Ea=a.name,this.ac=a.playheadTime,this.Yc=a.playbackRate,this.Nd=a.pingPongState,this.Id=a.currentRepeatCount,this.sB=!!a.isPlaying,this.Ml=!!a.isScheduled,
this.cn=!!a.initialStateSet,this.mp=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Xf=!!a.complete,this.$g=!!a.released,this.PB=!!a.markedForRemoval,this.rr=a.completedTick,this.bB=!!a.implicitPause,this.Or=!!a.isTemplate,this.bh=a.tags.split(" "),this.WU=a.stringTags,this.jK=!!a.tagsChanged,this.Pe=!!a.firstTick)}sba(){return this.hb.map(a=>a.ia())}m$(a){a.forEach((b,e)=>{this.hb[e].na(b)});this.hb.filter(b=>b.FD())}static n9(a){if(d.qo(a))return a.slice(0);if(d.Ci(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.RF=class extends d.ea{constructor(a,b){super();this.di=a;this.Kb=b;this.Ve=b.Bt();this.Tl=this.Il=NaN;this.Ra=this.nc=null;this.dn=0<b.ef();this.ip=this.Nr=!1;this.gj=null;this.oc=this.Kb.Hj().oc;this.Xa=[];this.iM();this.mn=this.Lc=this.Jk=0}static Na(a,b){return d.A(d.RF,a,b)}j(){this.oc=null;for(const a of this.Xa)a.j();d.D(this.Xa);this.gj=this.Kb=this.Ra=this.nc=this.di=this.Xa=null}iM(){for(const a of this.Kb.ee().gW())this.Xa.push(d.Ya.Na(this,a))}ll(){for(const a of this.Xa)a.ll()}xj(){for(const a of this.Xa)a.xj();
this.Ra=this.nc=null}tb(){return this.di}H(){return this.di.H()}F_(){return this.oc?this.oc:this.oc=this.Kb.Hj().oc}Lf(a){for(let b=0;b<this.Xa.length;b++){const e=this.Xa[b];if(e.wa.Zc===a)return e}}Nt(){this.nc||this.za()}Em(){return this.nc?!this.nc.Gt():!1}FD(){if(!this.Bi())return!1;const a=this.H().Gj(this.tt());return a?!a.Gt():!1}I(){if(this.Bi()){var a=this.kE();if(-1!==a)return this.H().cf(a)}}HX(){this.nc=null;this.Il=-1;this.Ra=null;this.Tl=-1}p0(){return!!this.nc}za(){return this.nc&&
this.Em()?this.nc:this.nc=this.H().Gj(this.tt())}f5(a){if(this.nc!==a){this.xj();this.nc=a;this.Tl=a.I().Fa();this.Il=a.bd;this.Ra=a.m();for(const m of this.Qfa()){const h=m.ega;switch(m.Pfa.Rd()){case "instance-variable":var b=a.I(),e=b.y_(m.name),c=b.RM(e);b=b.ut(e);c===m.name&&b===m.type&&h.q6(e);break;case "behavior":var g=m.JK;e=this.I();c=a.I();b=h.tg(c);g&&b&&(g=g.ya(),e.it(g),c.it(g),h.n6(b.eb))}}}}*Qfa(){for(const e of this.Xa){var a=e.Fb(),b=this.I();const c={Pfa:e,ega:a};switch(e.Rd()){case "world-instance":c.Hsa=
e.wa.Zc;break;case "instance-variable":a=a.mq();c.name=b.RM(a);c.type=b.ut(a);break;case "effect":b=a.cE(b.La);c.Rqa=b;break;case "behavior":b=a.tg(b);c.JK=b;break;case "plugin":c.Esa=b.sb()}yield c}}m(){if(this.Ra&&this.Em())return this.Ra;const a=this.za();a&&(this.Ra=a.m());return this.Ra}tt(){return this.Il?this.Il:this.Kb.tt()}vi(){return this.Kb.vi()}df(){return this.Kb.df()}Fj(){return this.Kb.Fj()}ef(){return this.Kb.ef()}Xk(){return this.Kb.Xk()}Yj(a){for(const b of this.F_())b.Yj(a);for(const b of this.Xa)b.Yj(a)}Wk(){return this.Kb.Wk()}kl(a){this.Kb.kl(a)}kE(){return isNaN(this.Tl)?
this.Kb.kE():this.Tl}Jj(){const a=this.za();return a&&a.ma.uo()?a.ma.Jj():this.Kb.Jj()}Ij(){const a=this.za();return a&&a.ma.uo()?a.ma.Ij():this.Kb.Ij()}Pj(){return this.Kb.Pj()}ya(){return this.Kb.ya()}Bi(){return 0===this.Pj()}Sc(){this.Nt();if(this.Em()||!this.Bi()){var a=this.tb().Sj()?0:this.Xk();for(const b of this.Xa)b.Sc(a),0===this.Jk&&1===b.Jk&&(this.Jk=1),0===this.Lc&&1===b.Lc&&(this.Lc=1);this.mn=0;this.Xa.some(b=>b.mn)&&(this.mn=1);this.gj=this.JQ(a);this.ip=this.Nr=!1;this.Ba(a)}}Fe(){this.Nt();
if(this.Em()||!this.Bi()){this.di.Sj();var a=this.di.Aa()-this.ef();this.gj=this.JQ(a);for(const b of this.Xa)b.Fe(a)}}WO(){if(!(this.tb().Xf||(this.Nt(),!this.Em()&&this.Bi()||this.dn))){const a=this.di.Aa();a>=this.ef()+this.Xk()?this.Ba(this.Xk(),!0,!1,!0):0>=a&&this.Ba(0,!0,!1,!0)}}$z(){for(let a=0,b=this.Xa.length;a<b;a++){const e=this.Xa[a];e.$z();0===this.Jk&&1===e.Jk&&(this.Jk=1);0===this.Lc&&1===e.Lc&&(this.Lc=1)}}Wn(){const a=this.Xa.length;for(let b=0;b<a;b++)this.Xa[b].Wn()}Ba(a,b=!1,
e=!1,c=!1,g=!1,m=!1){this.nc||this.za();const h=0===this.Kb.xa;if(!((!this.nc||this.nc.Gt())&&h||m&&h&&this.I().Rf()||(a-=this.ef(),0>a))){this.j2(a,b);this.k2(a,b,g);for(let l=0,n=this.Xa.length;l<n;l++)this.Xa[l].Ba(a,e,c);this.i2(a,b);0!==this.Jk&&(this.Ra||(this.Ra=this.nc.m()),this.Ra&&this.Ra.Da())}}Vn(){const a=this.Xa.length;for(let b=0;b<a;b++)this.Xa[b].Vn()}j2(a,b){if(b&&this.dn&&!this.Nr){if(this.tb().Sj()){if(0>a)return;for(const e of this.Xa)e.Ba(0,!1,!0)}else{if(a>this.Xk())return;
for(const e of this.Xa)e.Ba(this.Xk(),!1,!0)}for(const e of this.Xa)e.Sc();this.Nr=!0}}i2(a,b){if(b&&this.dn&&!this.ip)if(this.tb().Sj()){if(a>=this.Xk()){for(const e of this.Xa)e.Ba(this.Xk(),!1,!0);this.ip=!0}}else if(0>=a){for(const e of this.Xa)e.Ba(0,!1,!0);this.ip=!0}}k2(a,b,e){if(!e&&b&&d.C.Gc){b=this.tb();e=this.gj.Se;var c=this.gj.Aa(),g=e?e.Aa():b.Pf();if(a<=c||a>=g)this.gj=this.Ve.MM(a,this.Kb),b.Sj()?e&&this.cF(this.gj):this.gj.Se&&this.cF(this.gj)}}JQ(a){const b=this.Ve.C_(a,this.Kb);
return b?b:this.Ve.MM(a,this.Kb)}cF(a){const b=this.tb();d.C.Gc.G.Jo(b);d.C.Gc.G.F5(a);a=b.Bb;a.ra(d.C.Gc.G.nla);a.ra(d.C.Gc.G.cF);d.C.Gc.G.Jo(null);d.C.Gc.G.F5(null)}UW(){return this.Kb.Hj().PW()}nY(a){this.Kb.Hj().mY(a)}Zx(a){for(const b of this.Xa)b.Zx(a)}Fo(){for(const a of this.Xa)a.Fo()}ni(){this.Nt();if(this.Em()||!this.Bi())for(const a of this.Xa)a.ni()}oi(){this.Nt();if(this.Em()||!this.Bi()){var a=!1;for(const b of this.Xa){const e=b.oi();!a&&e&&(a=!0)}a&&(a=this.UW(),a.Wq(this.tb().Aa()),
a.Yj("noease"),a.kl(!0),a.oP(""))}}ia(){var a=this.za();a=a?a.bd:this.tt();return{propertyTracksJson:this.nba(),lastKeyframeDataItemJson:this.jba(),initialStateOfNestedSet:this.Nr,endStateOfNestedSet:this.ip,instanceUid:a}}na(a){a&&(this.h$(a.propertyTracksJson),this.e$(a.lastKeyframeDataItemJson),this.b$(a.instanceUid),this.Nr=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Nr=a.initialStateOfNestedSet),this.ip=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.ip=a.endStateOfNestedSet))}jba(){return this.Kb.Hj().E_(this.gj)}nba(){return this.Xa.map(a=>
a.ia())}h$(a){a.forEach((b,e)=>{this.Xa[e].na(b)})}b$(a){if(d.Cm(a)&&(a=this.H().Gj(a))){var b=this.tb();b.JX();b.x5(this.Kb.Fj(),a)}}e$(a){this.gj=this.Kb.Hj().D_(a)}}}
{"use strict";const d=self.B;d.Ya=class extends d.ea{constructor(a,b){super();this.nb=a;this.wa=b;this.pc=b.ee();this.mn=this.Lc=this.Jk=0;this.re=this.Fb();this.Qb=this.wa.rh().Qb;this.Ou=this.Jc=null}static Na(a,b){return d.A(d.Ya,a,b)}j(){this.nb=null;this.re&&(this.re.j(),this.re=null);this.pc=this.wa=this.Qb=null}uE(){return!!this.Ou}D4(a){this.Ou=a}ee(){return this.pc}tb(){return this.nb.tb()}H(){return this.nb.H()}za(){return this.nb.za()}Fb(){if(this.re)return this.re;let a;switch(this.wa.Rd()){case "behavior":a=
new d.Ya.mX(this);break;case "effect":a=new d.Ya.vZ(this);this.Lc=1;break;case "instance-variable":a=new d.Ya.q1(this);break;case "plugin":a=new d.Ya.w3(this);this.Lc=1;break;case "world-instance":a=new d.Ya.zo(this);this.Jk=this.Lc=1;break;case "value":a=new d.Ya.s6(this);break;case "audio":a=new d.Ya.jX(this)}return this.re=a}Rd(){return this.wa.Rd()}Cy(){return this.wa.Pj()}wt(){return this.ee().oy(this.wa).Pj()}Wk(){return this.wa.Wk()}kl(a){this.wa.kl(a)}vi(){return this.wa.vi()}df(){return this.wa.df()}Yj(a){for(const b of this.By())b.Yj(a)}ED(){return this.wa.ED()}By(){return this.Qb?
this.Qb:this.Qb=this.wa.rh().Qb}ll(){this.Fb().ll()}xj(){this.Fb().xj()}ye(){return this.Fb().ye()}Sc(a){this.Fb().Sc();this.Jc=this.KQ(a);this.$z()}Fe(a){this.Fb().Fe();this.Jc=this.KQ(a)}$z(){var a=this.nb;this.mn=0;if(a.Bi()){var b=this.tb();a=a.za();const e=this.Fb(),c=this.wa.Zc;e.Vj()?(b=b.xt(a,e,c))&&b.length&&(this.mn=1):this.mn=0}}KQ(a){const b=this.tb(),e=this.pc.U_(a,this.wa);return e?e:b.Sj()?this.pc.ti(a,this.wa):this.pc.OM(a,this.wa)}Wn(){this.re.Wn()}Ba(a,b=!1,e=!1){let c;if(b)var g=
this.pc.ti(a,this.wa);else{if(this.Jc){var m=this.tb();const h=this.Jc.Se;g=this.Jc.Aa();m=h?h.Aa():m.Pf();if(a<=g||a>=m)this.Jc=this.pc.ti(a,this.wa)}else this.Jc=this.pc.ti(a,this.wa);g=this.Jc}g&&(c=g.Se);this.re.Ba(a,g,c,b,e)}Kf(a){if(this.Jc){var b=this.tb();const c=this.Jc.Se;var e=this.Jc.Aa();b=c?c.Aa():b.Pf();if(a<=e||a>=b)this.Jc=this.pc.ti(a,this.wa)}else this.Jc=this.pc.ti(a,this.wa);e=this.Jc;return this.re.Kf(a,e,e.Se)}Vn(){this.re.Vn()}static eN(a,b){return b.pc.ti(a,b.wa)}NL(){const a=
this.wa.rh().LL();this.Jc=null;return a}Zx(a){this.Jc=null;this.wa.rh().oM(a)}Fo(){this.Fb().Fo()}ni(){if(this.Fb().ni()){const a=this.pc.oy(this.wa),b=this.Fb().ye();a.NO(b)}}oi(){const a=this.Fb().oi();a&&this.WW();this.Fb().Rx();return a}WW(){const a=this.tb().Aa(),b=this.Fb(),e=d.Ya.eN(a,this),c=this.NL();c.qP(e.Pj());c.Wq(a);c.Yj(e.wm());c.kl(!0);c.Ge(b.jN());c.NO(b.ye())}ia(){return{sourceAdapterJson:this.Fb().ia()}}na(a){a&&this.Fb().na(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Ya;d.zo=class{constructor(a){this.L=a;this.yf=null;this.qh()}j(){this.yf&&(this.yf.j(),this.yf=null);this.L=null}Vj(){return this.yf.Vj()}Lf(){return this.L}ll(){this.yf&&this.yf.ll()}xj(){this.yf&&this.yf.xj()}qh(){return this.yf?this.yf:this.yf=this.A7()}mq(){}Fa(){return this.mq()}At(){}Sc(){this.qh().Sc()}Fe(){this.qh().Fe()}Wn(){this.yf.cq()}Ba(a,b,e,c,g){let m;switch(this.L.wt()){case "numeric":m=d.Ot.Ba(a,b,e,this.L);break;case "angle":m=d.Gx.Ba(a,b,e,this.L);break;
case "boolean":m=d.Ix.Ba(a,b,e,this.L);break;case "color":m=d.Sx.Ba(a,b,e,this.L);break;case "text":m=d.uz.Ba(a,b,e,this.L)}this.yf.Xn(a,m,b,e,c,g)}Kf(a,b,e){switch(this.L.wt()){case "numeric":return d.Ot.Ba(a,b,e,this.L);case "angle":return d.Gx.Ba(a,b,e,this.L);case "boolean":return d.Ix.Ba(a,b,e,this.L);case "color":return d.Sx.Ba(a,b,e,this.L);case "text":return d.uz.Ba(a,b,e,this.L)}}Vn(){this.yf.bq()}Fo(){var a=this.qh();a.Zh=a.ye()}Rx(){this.qh().Rx()}ye(){return this.qh().ye()}ni(){return this.qh().ni()}oi(){return this.qh().oi()}jN(){const a=
this.L,b=a.nb.tb().Aa(),e=d.eN(b,a),c=e.Se;switch(a.wt()){case "numeric":return d.Ot.Ba(b,e,c,a);case "angle":return d.Gx.Ba(b,e,c,a);case "boolean":return d.Ix.Ba(b,e,c,a);case "color":return d.Sx.Ba(b,e,c,a);case "text":return d.uz.Ba(b,e,c,a)}}A7(){const a=this.L;switch(a.ED()?a.wt():""){case "combo":case "boolean":case "text":case "string":return new d.hf.VN(this);case "numeric":case "number":case "angle":return"combo"===this.L.Cy()?new d.hf.VN(this):new d.hf.WN(this);case "color":case "offsetColor":return new d.hf.MX(this);
default:return new d.hf.WN(this)}}ia(){return{propertyAdapterJson:this.qh().ia()}}na(a){a&&this.qh().na(a.propertyAdapterJson)}}}
{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b);this.Ww=NaN}mq(){return this.L.wa.gg[0]}Fa(){return this.Ww?this.Ww:super.Fa()}At(){return this.L.nb.za()}q6(b){this.L.wa.gg[0]!==b&&(this.Ww=b)}Ba(b,e,c,g,m){this.qh().DD(e.ub())&&super.Ba(b,e,c,g,m)}Kf(b,e,c){if(this.qh().DD(e.ub()))return super.Kf(b,e,c)}ia(){return Object.assign(super.ia(),{index:this.Ww})}na(b){b&&(super.na(b),this.Ww=b.index)}}d.Ya.q1=a}
{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b);this.eb=NaN}mq(){return this.L.wa.gg[1]}At(){var b=this.L.wa,e=this.eb?this.eb:b.gg[0];b=this.L.nb.za();e=b.DM(e);return b.kd[e].ma}tg(b){return b.gy(this.L.wa.gg[2])}n6(b){this.L.wa.gg[0]!==b&&(this.eb=b)}Ba(b,e,c,g,m){const h=this.L.nb.za();this.tg(h.I())&&super.Ba(b,e,c,g,m)}Kf(b,e,c){const g=this.L.nb.za();if(this.tg(g.I()))return super.Kf(b,e,c)}ia(){return Object.assign(super.ia(),{sid:this.eb})}na(b){b&&(super.na(b),
this.eb=b.sid)}}d.Ya.mX=a}{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b)}mq(){return this.L.wa.gg[1]}At(){const b=this.L.nb.m().ag,e=this.cE(b.La).Fa();return b.Ht(e)?b.Uk(e):null}cE(b){return b.Vk(this.L.wa.gg[0])}Ba(b,e,c,g,m){this.eR()&&super.Ba(b,e,c,g,m)}Kf(b,e,c){if(this.eR())return super.Kf(b,e,c)}eR(){const b=this.L.nb.m().ag,e=this.cE(b.La);if(e)return b.Ht(e.Fa())}}d.Ya.vZ=a}
{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b)}mq(){return this.L.wa.gg[0]}At(){return this.L.nb.za().ma}Ba(b,e,c,g,m){var h=this.L.nb;const l=h.I().sb();h=h.za().I().sb();l===h&&super.Ba(b,e,c,g,m)}Kf(b,e,c){var g=this.L.nb;const m=g.I().sb();g=g.za().I().sb();if(m===g)return super.Kf(b,e,c)}}d.Ya.w3=a}
{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b);this.Ac=0;this.cB=!1}Vj(){return!1}Sc(){const b=this.L.ee();let e=this.L.wa;e=b.oy(e);this.Ac=e.uc()}Fe(){}ub(){this.cB||this.L.Ba(0);return this.Ac}Ba(b,e,c){this.Ac=d.Ya.Ot.Ba(b,e,c,this.L);this.cB=!0}Fo(){}Rx(){}ye(){return this.Ac}ni(){return!1}oi(){return!1}ia(){return{value:this.Ac,init:this.cB}}na(b){b&&(this.Ac=b.value,this.cB=b.hasOwnProperty("init")?b.init:!0)}}d.Ya.s6=a}
{"use strict";const d=self.B;class a extends d.Ya.zo{constructor(b){super(b);this.mk=!1;this.Ir=this.Sb=this.qe=null;this.di=this.L.tb();this.nb=this.L.nb;this.Hw=this.L.wa.gg;this.mI=this.Hw[0];this.fK=this.Hw[1];this.Fh=this.Hw[3]?this.Hw[3]:Math.random().toString(36).slice(2);this.Zw=this.Gp=this.pn=NaN;this.Kg=null;this.dR()}j(){super.j();this.Kg=this.mI=this.Hw=this.nb=this.di=this.Ir=this.Sb=this.qe=null}dR(){if(self.B.C.Audio){var b=this.L.H().xy("audio");b&&(this.qe=b.Ai().ma);this.Sb=self.B.C.Audio.Cb;
this.Ir=self.B.C.Audio.Db}}pR(){if(!this.Kg){var b=this.L.nb.Lf("audioSource");b&&(this.Kg=b.Fb())}}h9(){const b=this.L.nb.Lf("volume");return b?b.Fb().Gp:this.Gp}ll(){super.ll();this.mk=!1;this.qe&&(this.Ir&&(this.pn=this.Ir.ema.call(this.qe,this.Fh),this.Gp=this.Ir.Tpa.call(this.qe,this.Fh)),this.Sb&&this.Sb.He.call(this.qe,this.Fh))}Ko(b){this.Zw=b}Sc(){super.Sc();this.pn=NaN;this.mk=!1}Fe(){super.Fe();const b=this.L.tb().Aa();this.pn=b-this.fK;switch(this.L.wa.Zc){case "volume":this.Gp=this.L.Kf(b)}this.mk=
!1}Ba(b,e,c,g,m){if(this.qe)switch(this.L.wa.Zc){case "audioSource":if(!this.di.Sj())break;if(g){this.Sb&&this.Sb.He.call(this.qe,this.Fh);break}if(b<this.fK){this.mk=!1;break}e=this.Ir.dma.call(this.qe,this.Fh);this.di.Yc!==e&&this.Sb.$j.call(this.qe,this.Fh);if(this.mk)break;this.mk=!0;if(isNaN(this.pn)){const h=self.performance.now(),l=b-this.fK;this.qe.bz("get-suspended").then(n=>{if("suspended"===n)this.mk=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Sb){let p=this.Zw;isNaN(p)?(this.Ko(0),
p=0):this.Ko(p);this.Sb.Play.call(this.qe,this.mI,0,p,this.Fh,n)}})}else{const h=this.pn;this.pn=NaN;const l=this.h9();this.Gp=NaN;this.qe.bz("get-suspended").then(n=>{"suspended"===n?this.mk=!1:this.Sb&&(this.Ko(l),this.Sb.Play.call(this.qe,this.mI,0,l,this.Fh,h))})}break;case "volume":this.pR(),super.Ba(b,e,c,g,m)}}Kf(b,e,c){if(this.qe)switch(this.L.wa.Zc){case "volume":return this.pR(),super.Kf(b,e,c)}}lN(){return this.Kg?this.Kg.Zw:0}K5(b,e){this.Kg&&this.Kg.Ko(this.lN()+e);this.Sb&&this.Kg&&
this.Sb.Ko.call(this.qe,this.Kg.Fh)}KW(b,e){this.Kg&&this.Kg.Ko(e);this.Sb&&this.Kg&&this.Sb.Ko.call(this.qe,this.Kg.Fh)}ia(){return{audioPlaybackStarted:this.mk,audioTag:this.Fh,pauseTime:this.pn,pauseVolume:this.Gp,volume:this.Zw}}na(b){b&&(this.mk=b.audioPlaybackStarted,this.Fh=b.audioTag,this.pn=b.pauseTime,this.Gp=b.pauseVolume,this.Zw=b.volume,this.dR())}}d.Ya.jX=a}"use strict";function ic(d,a,b){return d.L.tb().Sj()?a():b()}function jc(d,a,b){return"relative"===d.L.df()?a():b()}
function kc(d){if(d.qs)return d.qs;d.qs=d.re.At();return d.qs}function lc(d,a=!1){const b=[];for(const e of d){d=e.nb.ef();for(const c of e.By())a&&0===c.Aa()?b.push({time:d+c.Aa(),value:c.Eh}):a||b.push({time:d+c.Aa(),value:c.Eh})}return b.sort((e,c)=>e.time-c.time)}function mc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Ya.hf=class{constructor(d){this.re=d;this.L=d.Lf();this.Ra=this.L.nb.m();this.Zc=this.L.wa.Zc;this.Jr=!1;this.qs=this.Zh=null}j(){this.qs=this.Zh=this.Ra=this.L=this.re=null}Vj(){return!1}ll(){}xj(){this.qs=this.Zh=this.Ra=null}Fb(){return this.re}Lf(){return this.L}m(){return this.Ra?this.Ra:this.Ra=this.L.nb.m()}Sc(){}Fe(){}Rx(){this.Zh=null}ye(){}ni(){}oi(){}DD(d){return typeof this.rl()===typeof d}cq(){}Xn(){}bq(){}Ro(){return ic(this,()=>{const d=this.L.wa;return this.L.ee().oy(d)},()=>
{const d=this.L.wa;return this.L.ee().jo(d)}).Eh}Ez(){const d=this.L.tb().Aa()-this.L.nb.ef();return ic(this,()=>{const a=this.L.wa;return this.L.ee().ti(d,a)},()=>{const a=this.L.wa,b=this.L.ee(),e=b.OM(d,a);return e?e:b.jo(a)}).Eh}Hz(){}Ke(){return this.re.Fa()}ia(){return{firstAbsoluteUpdate:this.Jr,saveState:this.Zh}}na(d){d&&(this.Jr=d.firstAbsoluteUpdate,this.Zh=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class e extends d.Ya.hf{constructor(c){super(c)}Sc(){}Fe(){}ye(){const c=this.L.Rd(),g=kc(this),m=this.Ke();switch(c){case "behavior":return this.bA(g.Cc(m));case "effect":return this.bA(g[m]);case "plugin":return this.bA(g.Cc(m));case "world-instance":return this.bA(this.rl())}}ni(){const c=this.Ro();return!this.cQ(c,this.rl())}oi(){return d.ge(this.Zh)?!1:!this.cQ(this.Zh,this.rl())}cQ(c,g){return c.lm(g)}Ro(){const c=super.Ro();return this.Iz(c)}Ez(){const c=
super.Ez();return this.Iz(c)}Hz(){}bA(c){return d.Dm(c,d.$a)?c.toArray().slice(0,3):c.slice(0,3)}Iz(c){return d.Dm(c,d.$a)?c:new d.$a(c[0],c[1],c[2],1)}DD(){return!0}Vj(){return!0}cq(){var c=this.L.tb(),g=this.L.za();const m=this.L.Fb();(c=c.xt(g,m,this.Zc))&&1<c.length&&(a.has(g)||a.set(g,new Map),g=a.get(g),c=this.L.Rd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.Zc)||g.set(this.Zc,{DW:!1,color:new d.$a(0,0,0,1)}))}UQ(c,g,m){c=a.get(c).get(g).get(m);c.DW=!0;return c.color}Xn(c,g){var m=this.L.tb(),
h=this.L.nb;c=this.L.za();var l=this.L.Fb();const n=this.L.Rd();if((l=m.xt(c,l,this.Zc))&&1<l.length){if(l=lc(l,!0),m=m.Aa(),m=mc(m,l))l=m.time-h.ef(),0===l?this.UQ(c,n,this.Zc).qV(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.L.Ba(l,!1,!0),m=d.$a.ND(m,l[0]),h=d.$a.ND(h,l[1]),g=d.$a.ND(g,l[2]),this.UQ(c,n,this.Zc).qV(m,h,g))}else this.jk(g[0],g[1],g[2])}bq(){const c=this.L.za();if(a.has(c)){var g=a.get(c),m=this.L.Rd();if(g.has(m)){var h=g.get(m);if(h.has(this.Zc)){var l=h.get(this.Zc),n=l.color;
l.DW&&this.jk(n.Sa,n.Va,n.Ua);0===h.size&&g.delete(m);0===g.size&&a.delete(c)}}}}rl(){const c=this.L.Rd(),g=kc(this),m=this.Ke();switch(c){case "behavior":return this.Iz(g.Cc(m));case "effect":return g[m].clone();case "plugin":return this.Iz(g.Cc(m));case "world-instance":return this.m().bb.clone()}}jk(c,g,m){const h=this.L.Rd(),l=kc(this),n=this.Ke();switch(h){case "behavior":b[0]=c;b[1]=g;b[2]=m;l.yh(n,b);break;case "effect":l[n].Qs(c,g,m);break;case "plugin":b[0]=c;b[1]=g;b[2]=m;l.yh(n,b);break;
case "world-instance":this.m().G5(c,g,m)}}ia(){}na(){}}d.Ya.hf.MX=e}
{"use strict";const d=self.B,a=d.Ya;class b extends d.Ya.hf{constructor(e){super(e)}Sc(){}Fe(){}ye(){return this.rl()}ni(){return this.Ro()!==this.ye()}oi(){return d.ge(this.Zh)?!1:this.Zh!==this.ye()}Vj(){return!1}Xn(e,c){const g=this.L,m=g.nb,h=g.Rd();var l=g.tb();const n=m.za(),p=g.Fb();(l=l.xt(n,p,this.Zc))&&1<l.length&&(l=lc(l),e=mc(e+m.ef(),l))&&(c=e.value);switch(g.wt()){case "numeric":if(!a.Ot.ol(this.Ke(),kc(this),c,h))return;break;case "angle":if(!a.Gx.ol(this.Ke(),kc(this),c,h))return;
break;case "boolean":if(!a.Ix.ol(this.Ke(),kc(this),c,h))return;break;case "color":if(!a.Sx.ol(this.Ke(),kc(this),c,h))return;break;case "text":if(!a.uz.ol(this.Ke(),kc(this),c,h))return}this.jk(c)}rl(){const e=this.L.Rd(),c=kc(this),g=this.Ke();switch(e){case "behavior":return c.Cc(g);case "effect":return c[g];case "instance-variable":return c.Be(g);case "plugin":return c.Cc(g)}}jk(e){const c=this.L.Rd(),g=kc(this),m=this.Ke();switch(c){case "behavior":g.yh(m,e);break;case "effect":g[m]=e;break;
case "instance-variable":g.Nm(m,e);break;case "plugin":g.yh(m,e)}}}d.Ya.hf.VN=b}
{"use strict";const d=self.B,a=new Map,b=(c,g,m,h,l)=>a.set(c,{bga:g,uea:m,gfa:h,round:l});b("offsetX",(c,g)=>c.ZN(g),(c,g)=>c.Dg(g),c=>c.fa(),!0);b("offsetY",(c,g)=>c.$N(g),(c,g)=>c.Bh(g),c=>c.ga(),!0);b("offsetWidth",(c,g)=>c.YN(g),(c,g)=>c.Ki(g),c=>c.ca(),!0);b("offsetHeight",(c,g)=>c.XN(g),(c,g)=>c.Gi(g),c=>c.aa(),!0);b("offsetAngle",(c,g)=>c.t2(g),(c,g)=>c.Ec(g),c=>c.Ia(),!1);b("offsetOpacity",(c,g,m,h)=>{m=c.Ce()+g;0===h.Ic?(1<m?h.Ic+=m-1:0>m&&(h.Ic+=m),c.u2(g)):(c=c.Ce()+g,0<g&&0<h.Ic?1<c&&
(h.Ic+=c-1):0<g&&0>h.Ic?(h.Ic+=g,0<h.Ic&&(h.Ic=0)):0>g&&0<h.Ic?(h.Ic+=g,0>h.Ic&&(h.Ic=0)):0>g&&0>h.Ic&&0>c&&(h.Ic+=c))},(c,g)=>{c.Zj(g)},c=>c.Ce(),!1);b("offsetOriginX",(c,g)=>c.v2(g),(c,g)=>c.Rq(g),c=>c.Yk(),!1);b("offsetOriginY",(c,g)=>c.w2(g),(c,g)=>c.Sq(g),c=>c.Zk(),!1);b("offsetZElevation",(c,g)=>c.x2(g),(c,g)=>c.kf(g),c=>c.ab(),!0);b("offsetScaleX",(c,g,m)=>{const h=0>c.ca()?-1:1;c.YN(m.Jj()*h*g)},(c,g,m)=>{c.Ki(m.Jj()*g)},(c,g)=>{const m=0>c.ca()?-1:1;if(c.mo()){var h=c.Ca(),l=g.tb().gN(h.za());
l?h=h.ca()/l.Jj():(l=h.za().ma,h=l.uo()?h.ca()/l.Jj():1);return c.ca()*m/(g.Jj()*h)}return c.ca()*m/g.Jj()},!1);b("offsetScaleY",(c,g,m)=>{const h=0>c.aa()?-1:1;c.XN(m.Ij()*h*g)},(c,g,m)=>{c.Gi(m.Ij()*g)},(c,g)=>{const m=0>c.aa()?-1:1;if(c.lo()){var h=c.Ca(),l=g.tb().gN(h.za());l?h=h.aa()/l.Ij():(l=h.za().ma,h=l.uo()?h.aa()/l.Ij():1);return c.aa()*m/(g.Ij()*h)}return c.aa()*m/g.Ij()},!1);class e extends d.Ya.hf{constructor(c){super(c);this.Ic=this.Ub=0;this.OU=this.QU=this.PU=this.GI=this.II=this.HI=
null;this.RJ=!1;this.An=d.Dm(this.L.tb(),d.i6)?new d.Ya.hf.s2(this):new d.Ya.hf.r2(this);const g=this.L.wa.Zc;switch(this.L.Rd()){case "world-instance":c=a.get(g);this.HI=c.gfa;this.II=c.bga;this.GI=c.uea;this.RJ=c.round;break;case "audio":this.PU=c.lN,this.QU=c.K5,this.OU=c.KW,this.RJ=!0}}j(){this.GI=this.II=this.HI=this.An=null;super.j()}Vj(){return this.An.Vj()}fP(c){this.Ub=c}Sc(){const c=this.An.Sc();"number"===typeof c&&(this.Ub=c);this.Ic=0}Fe(){const c=this.An.Fe();"number"===typeof c&&(this.Ub=
c)}ye(){return this.rl()}ni(){return this.Ro()!==this.ye()}oi(){return d.ge(this.Zh)?!1:this.Zh!==this.ye()}cq(){this.An.cq()}Xn(c,g,m,h,l,n,p){return this.An.Xn(c,g,m,h,l,n,p)}bq(){this.An.bq()}rl(){const c=kc(this),g=this.Ke(),m=this.m(),h=this.L.nb;switch(this.L.Rd()){case "behavior":return c.Cc(g);case "effect":return c[g];case "instance-variable":return c.Be(g);case "plugin":return c.Cc(g);case "world-instance":return this.HI(m,h);case "audio":return this.PU.call(this.Fb(),m,h)}}jk(c){const g=
kc(this),m=this.Ke(),h=this.m(),l=this.L.nb;switch(this.L.Rd()){case "behavior":g.ZE(m,c);break;case "effect":g[m]+=c;break;case "instance-variable":g.g5(m,c);break;case "plugin":g.ZE(m,c);break;case "world-instance":this.II(h,c,l,this);break;case "audio":this.QU.call(this.Fb(),h,c,l,this)}}kS(c){const g=kc(this),m=this.Ke(),h=this.m(),l=this.L.nb;switch(this.L.Rd()){case "behavior":g.yh(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.Nm(m,c);break;case "plugin":g.yh(m,c);break;case "world-instance":this.GI(h,
c,l);break;case "audio":this.OU.call(this.Fb(),h,c,l)}}fr(c,g,m,h,l,n){this.An.fr(c,g,m,h,l,n)}pl(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.rl();this.jk((0===c?this.RJ?Math.round(h):h:d.toFixed(h,c))-h,g,m)}ia(){return Object.assign(super.ia(),{v:this.Ub,a:this.Ic})}na(c){c&&(super.na(c),this.Ub=c.v,this.Ic=c.a)}}d.Ya.hf.WN=e}
{"use strict";class d{constructor(b){this.zK=!1;this.Ac=0;this.Xa=b;for(let e=0,c=this.Xa.length;e<c;e++)this.Xa[e].D4(this)}sP(){this.zK=!0}Ge(b){this.Ac=b}ub(){return this.Ac}gd(){this.zK=!1;this.Ac=0}}class a{constructor(b){this.ne=b}j(){this.ne=null}Sc(){const b=this.ne;this.ne.Lf();return jc(b,()=>ic(b,()=>0,()=>b.Fb().jN()),()=>{})}Fe(){}Vj(){switch(this.ne.Lf().df()){case "relative":return!1;case "absolute":return!0}}cq(){var b=this.ne.Lf(),e=b.wa.Zc;switch(b.df()){case "absolute":if(b.uE())b.Ou.gd();
else{const c=b.tb(),g=b.za();b=b.Fb();(e=c.xt(g,b,e))&&1<e.length&&new d(e)}}}Xn(b,e,c,g,m,h){var l=this.ne,n=this.ne.Lf();switch(n.df()){case "relative":n=l.Ub;l.jk(e-n,c,g);h&&this.fr(b,c,g,m,n,e);l.fP(e);break;case "absolute":if(c=n.tb(),b=n.nb,n.za(),n.Fb(),n.uE()){if(l=n.Ou,g=lc(l.Xa,!0),c=c.Aa(),c=mc(c,g))b=c.time-b.ef(),0===b?(l.sP(),l.Ge(l.ub()+e)):0>b||(n=n.Kf(b),l.sP(),l.Ge(l.ub()+(e-n)))}else l.kS(e)}}bq(){const b=this.ne;var e=this.ne.Lf();switch(e.df()){case "absolute":e.uE()&&(e=e.Ou,
e.zK&&b.kS(e.ub()))}}fr(b,e,c,g,m,h){const l=this.ne;g||(e&&b===e.Aa()?l.pl(e.uc(),e,c):c&&b===c.Aa()?l.pl(c.uc(),e,c):0===h-m&&l.pl(e.uc(),e,c))}}self.B.Ya.hf.r2=a}
{"use strict";class d{constructor(a){this.ne=a}j(){this.ne=null}Sc(){const a=this.ne;a.Jr=!0;return this.Hz(a.Ro())}Fe(){const a=this.ne;if(a.Ro()!==a.Ez())return a.Jr=!0,this.Hz(a.Ez())}Vj(){return!1}cq(){}Xn(a,b,e,c,g,m){const h=this.ne,l=h.Ub;switch(h.Lf().df()){case "relative":h.jk(b-l,e,c);m&&this.fr(a,e,c,g,l,b);break;case "absolute":h.Jr?(h.Jr=!1,h.jk(l,e,c)):(h.jk(b-l,e,c),m&&this.fr(a,e,c,g,l,b))}h.fP(b)}bq(){}Hz(a){return a-this.ne.ye()}fr(a,b,e,c,g,m){const h=this.ne;c?b&&a===b.Aa()?h.pl(b.uc(),
b,e):e&&a===e.Aa()?h.pl(e.uc(),b,e):e||h.pl(b.uc(),b,e):b&&a===b.Aa()?h.pl(b.uc(),b,e):e&&a===e.Aa()?h.pl(e.uc(),b,e):0===m-g&&h.pl(b.uc(),b,e)}}self.B.Ya.hf.s2=d}
{"use strict";const d=self.B,a=self.Ys;d.Ya.Ot=class{constructor(){}static ol(b,e,c,g){let m;switch(g){case "behavior":m=e.Cc(b);break;case "effect":m=e[b];break;case "instance-variable":m=e.Be(b);break;case "plugin":m=e.Cc(b)}return m===c?!1:!0}static Ba(b,e,c,g){if(!c)return c=g.wa,c=g.ee().jo(c),c.uc();var m=g.vi();"default"===m&&(m="continuous");"combo"===g.Cy()&&(m="discrete");if("discrete"===m)return e.uc();if("continuous"===m||"step"===m){"step"===m&&(m=g.tb().yt(),0!==m&&(m=1/m,b=Math.floor(b*
m)/m));var h=e.Aa();const l=c.Aa();m=e.uc();const n=c.uc();if(m===n)return m;b=d.normalize(b,h,l);const p=e.wm();e=e.VD("cubic-bezier");c=c.VD("cubic-bezier");e&&e.Iw&&c&&c.HA?(h=l-h,h=a.ko(p)(h*b,0,1,h),h=a.ko("cubicbezier")(h,m,m+e.dK,n+c.eI,n)):h=a.ko(p)((l-h)*b,m,n-m,l-h);return"integer"===g.Cy()?Math.floor(h):h}}}}
{"use strict";const d=self.B;d.Ya.Gx=class{constructor(){}static ol(a,b,e,c){let g;switch(c){case "behavior":g=b.Cc(a);break;case "effect":g=b[a];break;case "instance-variable":g=b.Be(a);break;case "plugin":g=b.Cc(a)}return g===e?!1:!0}static Ba(a,b,e,c){if(!e)return b=c.wa,b=c.ee().jo(b),b.uc();var g=c.vi();"default"===g&&(g="continuous");"combo"===c.Cy()&&(g="discrete");if("discrete"===g)return b.uc();if("continuous"===g||"step"===g){"step"===g&&(c=c.tb().yt(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const m=b.Aa(),h=e.Aa();c=b.uc();e=e.uc();if(g=b.VD("angle")){const l=g.QJ;if(c===e&&0===l)return c;a=d.normalize(a,m,h);b=self.Ys.ko(b.wm())(a,0,1,1);switch(g.YH){case "closest":return d.HK(c,e,b,l);case "clockwise":return d.Bea(c,e,b,l);case "anti-clockwise":return d.Aea(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,m,h);b=self.Ys.ko(b.wm());return d.HK(c,e,b(a,0,1,1))}}}}}"use strict";
self.B.Ya.Ix=class{constructor(){}static ol(d,a,b,e){let c;switch(e){case "behavior":c=a.Cc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Be(d);break;case "plugin":c=a.Cc(d)}return!!c===!!b?!1:!0}static Ba(d,a,b,e){return b?a.uc()?1:0:(d=e.wa,d=e.ee().jo(d),d.uc()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.Ya.Sx=class{constructor(){}static ol(c,g,m,h){let l;switch(h){case "behavior":l=g.Cc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.Be(c);break;case "plugin":l=g.Cc(c)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(e.bW(m),a[0]=Math.floor(255*e.Sa),a[1]=Math.floor(255*e.Va),a[2]=Math.floor(255*e.Ua));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.bW(l),b[0]=Math.floor(255*e.Sa),b[1]=Math.floor(255*e.Va),b[2]=Math.floor(255*
e.Ua));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static Ba(c,g,m,h){if(!m)return g=h.wa,g=h.ee().jo(g),g=g.uc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;var l=h.vi();"default"===l&&(l="continuous");if("discrete"===l)return g=g.uc(),a[0]=g[0],a[1]=g[1],a[2]=g[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.tb().yt(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Aa();l=m.Aa();var n=g.uc(),p=m.uc();const q=d.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.Ys.ko(g.wm());h=l-h;
l=h*q;a[0]=c===u?c:g(l,c,u-c,h);a[1]=m===w?m:g(l,m,w-m,h);a[2]=n===p?n:g(l,n,p-n,h);return a}}}}"use strict";self.B.Ya.uz=class{constructor(){}static ol(d,a,b,e){let c;switch(e){case "behavior":c=a.Cc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Be(d);break;case "plugin":c=a.Cc(d)}return c===b?!1:!0}static Ba(d,a,b,e){return b?a.uc():(d=e.wa,d=e.ee().jo(d),d.uc())}};
{"use strict";const d=self.B;d.Gg=class{constructor(){this.Pw=new Map}j(){for(const a of this.Pw.values())a.j();this.Pw.clear();this.Pw=null}Oc(a){a=new d.b6(a);this.Pw.set(a.ya(),a)}Y(a){return this.Pw.get(a)}static ou(a,b,e,c){if(b)for(const g of b)d.Gg.eQ("create",g,a,e,c)}static yu(a,b,e,c){a.length?b.forEach((g,m)=>{a[m].na(g)}):b.forEach(g=>{d.Gg.eQ("load",g,a,e,c)})}static eQ(a,b,e,c,g){let m;if("function"===typeof c)switch(a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}else if("object"===
typeof c)switch(c=c.map.get(b[c.fW]),a){case "load":m=new c(null,g);break;case "create":m=new c(b,g)}switch(a){case "load":m.na(b);e.push(m);break;case "create":"function"!==typeof m.Wk||m.Wk()?e.push(m):m.j()}}}}
{"use strict";const d=self.B;d.b6=class{constructor(a){this.Ea="";this.us=NaN;this.wC=0;this.eg=this.bg="default";this.ZB=this.NB=!1;this.hs=1;this.Ve=null;a&&(this.Ea=a[0],this.us=a[1],this.wC=a[2],this.bg=a[3],this.eg=a[4],this.NB=!!a[6],this.ZB=!!a[7],this.hs=a[8],this.Ve=new d.yP(a[5],this))}j(){this.Ve.j();this.Ve=null}Bt(){this.Ve||(this.Ve=new d.yP(null,this));return this.Ve}ya(){return this.Ea}qz(a){this.Ea=a}Pf(){return this.us}yt(){return this.wC}vi(){return this.bg}df(){return this.eg}wy(){return this.NB}Ay(){return this.ZB}th(){return this.hs}ia(){return{trackDataJson:this.Ve.ia(),
name:this.Ea,totalTime:this.us,step:this.wC,interpolationMode:this.bg,resultMode:this.eg,loop:this.NB,pingPong:this.ZB,repeatCount:this.hs}}na(a){a&&(this.Bt().na(a.trackDataJson),this.Ea=a.name,this.us=a.totalTime,this.wC=a.step,this.bg=a.interpolationMode,this.eg=a.resultMode,this.NB=a.loop,this.ZB=a.pingPong,this.hs=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Ve=e;this.Sm=this.fB=null;this.Tl=this.Il=NaN;this.eg=this.bg="default";this.Qg=!1;this.pc=this.Sh=null;this.Qe="";this.Xr=null;this.eK=0;this.LB=this.Ve.Pd.Pf();this.xa=0;this.Ea="";b&&(b[0]&&(this.fB=b[0],this.Il=b[0][2],this.Tl=b[0][1]),this.bg=b[1],this.eg=b[2],this.Qg=!!b[3],b[6]&&(this.Qe=b[6]),b[7]&&(this.Xr=b[7],this.eK=b[7][0],this.LB=b[7][1]),b[8]&&(this.Sm=b[8]),b[8]&&(this.Sm=b[8]),b[9]&&(this.xa=b[9]),b[10]&&(this.Ea=b[10]),this.Sh=
new d.JN(b[4],this),this.pc=new d.rO(b[5],this))}j(){this.Ve=this.fB=null;this.Sh&&(this.Sh.j(),this.Sh=null);this.pc&&(this.pc.j(),this.pc=null);this.Xr=null}Bt(){return this.Ve}Hj(){this.Sh||(this.Sh=new d.JN(null,this));return this.Sh}ee(){this.pc||(this.pc=new d.rO(null,this));return this.pc}kE(){return this.Tl}tt(){return this.Il}vi(){return this.bg}df(){return this.eg}Wk(){return this.Qg}kl(b){this.Qg=!!b}Fj(){return this.Qe}ef(){return this.eK}Xk(){return this.LB}Jj(){return this.Sm[0]}Ij(){this.Sm||
(this.Sm=[]);return this.Sm[1]}Pj(){return this.xa}ya(){return this.Ea}ia(){return{keyframeDataJson:this.Sh.ia(),propertyTrackDataJson:this.pc.ia(),instanceData:this.fB,additionalInstanceData:this.Sm,instanceUid:this.Il,objectClassIndex:this.Tl,interpolationMode:this.bg,resultMode:this.eg,enabled:this.Qg,id:this.Qe,nestedData:this.Xr,type:this.xa,name:this.Ea}}na(b){b&&(this.fB=b.instanceData,this.Il=b.instanceUid,this.Tl=b.objectClassIndex,this.bg=b.interpolationMode,this.eg=b.resultMode,this.Qg=
b.enabled,this.Qe=b.id,this.xa=b.type?b.type:0,this.Ea=b.name?b.name:"",this.LB=this.Ve.Pd.Pf(),b.nestedData&&(this.Xr=b.nestedData,this.eK=this.Xr[0],this.LB=this.Xr[1]),b.additionalInstanceData&&(this.Sm=b.additionalInstanceData),this.Hj().na(b.keyframeDataJson),this.ee().na(b.propertyTrackDataJson))}}d.yP=class{constructor(b,e){this.Pd=e;this.Up=[];d.Gg.ou(this.Up,b,a,this)}j(){this.Pd=null;for(const b of this.Up)b.j();d.D(this.Up);this.Up=null}C_(b,e){e=e.Hj().oc;const c=e.length;for(let g=0;g<
c;g++){const m=e[g];if(m.Aa()===b)return m}}MM(b,e){e=e.Hj().oc;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Aa()<=b)return g}}*vW(){for(const b of this.Up)yield b}ia(){return{trackDataItemsJson:this.Up.map(b=>b.ia())}}na(b){b&&d.Gg.yu(this.Up,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.pc=e;this.oC="";this.xa=this.Zc=this.gg=null;this.rJ=this.vJ=NaN;this.eg=this.bg="default";this.Qg=!1;this.kj=null;this.tA=!0;b&&(this.oC=b[0][0],this.gg=b[0].slice(1),this.Zc=b[1],this.xa=b[2],this.vJ=b[3],this.rJ=b[4],this.bg=b[5],this.eg=b[6],this.Qg=!!b[7],this.kj=new d.qO(b[8],this),this.tA=b[9])}j(){this.kj.j();this.gg=this.pc=this.kj=null}ee(){return this.pc}rh(){this.kj||(this.kj=new d.qO(null,this));return this.kj}Rd(){return this.oC}Pj(){return this.xa}qP(b){this.xa=
b}vi(){return this.bg}df(){return this.eg}Wk(){return this.Qg}kl(b){this.Qg=!!b}ED(){return!!this.tA}ia(){return{propertyKeyframeDataJson:this.kj.ia(),sourceAdapterId:this.oC,sourceAdapterArguments:this.gg,property:this.Zc,type:this.xa,min:this.vJ,max:this.rJ,interpolationMode:this.bg,resultMode:this.eg,enabled:this.Qg,canHavePropertyKeyframes:this.tA}}na(b){b&&(this.oC=b.sourceAdapterId,this.gg=b.sourceAdapterArguments,this.Zc=b.property,this.xa=b.type,this.vJ=b.min,this.rJ=b.max,this.bg=b.interpolationMode,
this.eg=b.resultMode,this.Qg=b.enabled,this.tA=b.canHavePropertyKeyframes,this.rh().na(b.propertyKeyframeDataJson))}}d.rO=class{constructor(b,e){this.Kb=e;this.Ip=[];d.Gg.ou(this.Ip,b,a,this)}j(){this.Kb=null;for(const b of this.Ip)b.j();d.D(this.Ip);this.Ip=null}oy(b){return b.rh().Qb[0]}jo(b){return b.rh().Qb.ae(-1)}U_(b,e){e=e.rh().Qb;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Aa()===b)return m}}OM(b,e){e=e.rh().Qb;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Aa()>=b)return m}}ti(b,
e){e=e.rh().Qb;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Aa()<=b)return g}}*gW(){for(const b of this.Ip)yield b}ia(){return{propertyTrackDataItemsJson:this.Ip.map(b=>b.ia())}}na(b){b&&d.Gg.yu(this.Ip,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.Sh=e;this.cc=-1;this.Xi="noease";this.Yi=!1;this.bw=this.bh=null;b&&(this.cc=b[0],this.Xi=b[1],this.Yi=!!b[2],this.bh=(b=b[3])?b.split(" "):[],this.bw=new Set(this.bh.map(c=>c.toLowerCase())),this.Se=null)}j(){this.Sh=null;d.D(this.bh);this.bh=null;this.bw.clear();this.bw=null}Hj(){return this.Sh}cu(b){this.Se=b}Aa(){return this.cc}Wq(b){this.cc=b;this.Sh.wu()}wm(){return this.Xi}Yj(b){this.Xi=b}Wk(){return this.Yi}kl(b){this.Yi=!!b}oP(b){this.bh=
b?b.split(" "):[];this.bw=new Set(this.bh.map(e=>e.toLowerCase()))}ia(){return{time:this.cc,ease:this.Xi,enable:this.Yi,tags:this.bh}}na(b){b&&(this.cc=b.time,this.Xi=b.ease,this.Yi=b.enable,this.bh=b.tags,this.bw=new Set(this.bh.map(e=>e.toLowerCase())))}}d.JN=class{constructor(b,e){this.Kb=e;this.oc=[];d.Gg.ou(this.oc,b,a,this);this.wu()}j(){this.Kb=null;for(const b of this.oc)b.j();d.D(this.oc);this.oc=null}wu(){this.oc.sort((b,e)=>b.Aa()-e.Aa());for(let b=0;b<this.oc.length;b++)this.oc[b].cu(this.oc[b+
1])}PW(){const b=new a(null,this);this.oc.push(b);this.wu();return b}mY(b){for(const e of this.oc){if(!b(e))continue;const c=this.oc.indexOf(e);-1!==c&&(e.j(),this.oc.splice(c,1))}this.Q5();this.wu()}Q5(){this.oc.sort((b,e)=>b.Aa()-e.Aa())}E_(b){return this.oc.indexOf(b)}D_(b){return this.oc[b]}ia(){return{keyframeDataItemsJson:this.oc.map(b=>b.ia())}}na(b){b&&(d.Gg.yu(this.oc,b.keyframeDataItemsJson,a,this),this.wu())}}}
{"use strict";const d=self.B;class a{constructor(b,e){this.kj=e;this.Eh=this.Ac=null;this.xa="";this.cc=NaN;this.Xi="noease";this.Yi=!1;this.Qi=null;this.ul=void 0;b&&(this.Ac=b[0][0],this.Eh=b[0][1],this.xa=b[0][2],this.cc=b[1],this.Xi=b[2],this.Yi=!!b[3],this.Qi=null,b[4]&&(this.Qi=new d.ZW(b[4],this)),this.Se=null)}j(){this.kj=null;this.Qi&&(this.Qi.j(),this.Qi=null)}cu(b){this.Se=b}ub(){return this.Ac}Ge(b){"color"===this.xa&&d.Cm(b)?(this.Ac[0]=d.oE(b),this.Ac[1]=d.hE(b),this.Ac[2]=d.XD(b)):
this.Ac=b}NO(b){"color"===this.xa&&d.Cm(b)?(this.Eh[0]=d.oE(b),this.Eh[1]=d.hE(b),this.Eh[2]=d.XD(b)):this.Eh=b}uc(){const b=this.kj.wa.df();if("relative"===b)return this.ub();if("absolute"===b)return this.Eh}Pj(){return this.xa}qP(b){this.xa=b}Aa(){return this.cc}Wq(b){this.cc=b;this.kj.xu()}wm(){return this.Xi}Yj(b){this.Xi=b}Wk(){return this.Yi}kl(b){this.Yi=!!b}VD(b){if(this.Qi){if(this.ul||null===this.ul)return this.ul;var e=this.Qi.Xo;if(!e)return this.ul=null;var c=e.length;for(let g=0;g<c;g++){const m=
e[g];if(m.Fj()===b)return this.ul=m}return this.ul=null}}ia(){const b=this.Qi;return{addonDataJson:b?b.ia():b,value:this.Ac,aValue:this.Eh,type:this.xa,time:this.cc,ease:this.Xi,enable:this.Yi}}na(b){b&&(b.addonDataJson&&this.Qi.mqa(b.addonDataJson),this.Ac=b.value,this.Eh=b.aValue,this.xa=b.type,this.cc=b.time,this.Xi=b.ease,this.Yi=b.enable)}}d.qO=class{constructor(b,e){this.wa=e;this.Qb=[];d.Gg.ou(this.Qb,b,a,this);this.xu()}j(){this.wa=null;for(const b of this.Qb)b.j();d.D(this.Qb);this.Qb=null}xu(){this.Qb.sort((b,
e)=>b.Aa()-e.Aa());for(let b=0;b<this.Qb.length;b++)this.Qb[b].cu(this.Qb[b+1])}LL(){const b=new a(null,this);this.Qb.push(b);this.xu();return b}oM(b){for(const e of this.Qb){if(!b(e))continue;const c=this.Qb.indexOf(e);-1!==c&&(e.j(),this.Qb.splice(c,1))}this.R5();this.xu()}R5(){this.Qb.sort((b,e)=>b.Aa()-e.Aa())}ia(){return{propertyKeyframeDataItemsJson:this.Qb.map(b=>b.ia())}}na(b){b&&(d.Gg.yu(this.Qb,b.propertyKeyframeDataItemsJson,a,this),this.xu())}}}
{"use strict";const d=self.B;class a{constructor(c,g){this.Qi=g;this.Qe=c[0];this.Bl=c[1]}j(){this.Bl=this.Qi=null}Fj(){return this.Qe}ia(){return{id:this.Qe,data:this.Bl}}na(c){c&&(this.Qe=c.id,this.Bl=c.data)}}class b extends a{constructor(c,g){super(c,g);this.dK=this.Bl[0];this.Iw=!!this.Bl[1];this.eI=this.Bl[2];this.HA=!!this.Bl[3]}j(){super.j()}ia(){return Object.assign(super.ia(),{startAnchor:this.dK,startEnable:!!this.Iw,endAnchor:this.eI,endEnable:!!this.HA})}na(c){c&&(super.na(c),this.dK=
c.startAnchor,this.Iw=!!c.startEnable,this.eI=c.endAnchor,this.HA=!!c.endEnable)}}class e extends a{constructor(c,g){super(c,g);this.YH=this.Bl[0];this.QJ=this.Bl[1]}j(){super.j()}ia(){return Object.assign(super.ia(),{direction:this.YH,revolutions:this.QJ})}na(c){c&&(super.na(c),this.YH=c.direction,this.QJ=c.revolutions)}}d.ZW=class{constructor(c){this.Xo=[];d.Gg.ou(this.Xo,c,{fW:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}j(){for(const c of this.Xo)c.j();d.D(this.Xo);this.Xo=null}ia(){return{addonDataItemsJson:this.Xo.map(c=>
c.ia())}}na(c){c&&d.Gg.yu(this.Xo,c.addonDataItemsJson,{fW:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.B;let a=0;d.i6=class extends d.No{constructor(b,e){super(`tween-${a++}`,b,e);this.Qe="";this.TS=!1;this.CI="start-value";this.nb=this.sU=this.rU=this.nc=null}jM(){for(const b of this.Pd.Bt().vW())this.hb.push(d.DP.Na(this,b));this.nb=this.hb[0]}Lf(){return this.nb.Xa[0]}za(){var b=this.hb;if(b&&b.length&&(this.nb=b=b[0])){var e=b.za();return b.Em()?e:void 0}}Fj(){return this.Qe}iO(){if(this.sU)for(const b of this.sU)b(this);if(!this.Xf)for(const b of this.hb)b.oi()}$E(){this.rr=
this.g.Dk}xM(){if(!this.mp&&(this.mp=!0,this.rU))for(const b of this.rU)b(this)}Wq(b){this.iQ();super.Wq(b)}Sc(b){if(!this.cn&&"current-state"===this.CI)for(const e of this.hb)e.ni();super.Sc(b)}He(b=!1){super.He(b);if(!this.Xf)for(const e of this.hb)e.Fo()}gd(b=!0,e=!1){this.iQ();super.gd(b,e)}iQ(){for(const b of this.hb){const e=c=>{c=c.Aa();const g=this.Pf();return 0!==c&&c!==g};b.nY(e);b.Zx(e)}}Du(){if(this.$g)return!0;const b=this.za();if(b&&b.I().Rf())return!1;this.Bb.$L(this);this.GO();return!0}Ie(b,
e,c){this.nc||(this.nc=this.za());if(this.nc&&!this.nc.Gt()&&(e=this.nc.Zd,-1!==e&&(b=c*e),0!==b||0!==this.CB)){this.CB=b;c=this.ac+b*this.Yc;b=this.Pd.us;this.ac=0>c?0:c>=b?b:c;c=!1;e=this.wy();var g=this.Ay();e||g?e&&!g?0<this.Yc?this.ac>=b&&this.vc(0):0>=this.ac&&this.vc(b):!e&&g?0<this.Yc?this.ac>=b&&(this.vc(b),this.$j(-1*this.Yc),1===this.Nd?this.Id<this.th()?(this.Id++,this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):0>=this.ac&&(this.vc(0),this.$j(-1*this.Yc),1===this.Nd?this.Id<this.th()?(this.Id++,
this.Nd=0):c=!0:0===this.Nd&&(this.Nd=1)):e&&g&&(0<this.Yc?this.ac>=b&&(this.vc(b),this.$j(-1*this.Yc)):0>=this.ac&&(this.vc(0),this.$j(-1*this.Yc))):0<this.Yc?this.ac>=b&&(this.Id<this.th()?(this.Id++,this.vc(0)):(this.vc(b),c=!0)):0>=this.ac&&(this.Id<this.th()?(this.Id++,this.vc(b)):(this.vc(0),c=!0));c?(this.nb.WO(),this.He(!0),this.$E()):(this.nb.Ba(this.ac,!0,!1,!1,this.Pe,!1),this.Pe&&(this.Pe=!1))}}ia(){const b=super.ia();return Object.assign(b,{tweenDataItemJson:this.Pd.ia(),id:this.Qe,destroyInstanceOnComplete:this.TS,
initialValueMode:this.CI})}na(b){b&&(this.Pd.na(b.tweenDataItemJson),super.na(b),this.Qe=b.id,this.TS=b.destroyInstanceOnComplete,this.CI=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B;d.DP=class extends d.RF{constructor(a,b){super(a,b);this.UJ=this.uv=null}static Na(a,b){return d.A(d.DP,a,b)}WP(){1===this.Xa.length?this.uv=this.Xa[0]:(this.uv=this.Xa[0],this.UJ=this.Xa[1])}iM(){for(const a of this.Kb.ee().gW())this.Xa.push(d.CP.Na(this,a));this.WP()}Wn(){}Ba(a,b,e=!1,c=!1,g,m=!1){this.nc||this.za();if(this.nc){if(this.nc.Gt()||m&&this.I().Rf())return!1;this.UJ?(this.uv.Ba(a,e,c),this.UJ.Ba(a,e,c)):this.uv.Ba(a,e,c);0!==this.uv.Jk&&(this.Ra||(this.Ra=
this.nc.m()),this.Ra&&this.Ra.Da())}}Vn(){}na(a){super.na(a);this.WP()}}}
{"use strict";const d=self.B;d.CP=class extends d.Ya{constructor(a,b){super(a,b);this.Vu=!1}static Na(a,b){return d.A(d.CP,a,b)}Ba(a,b=!1,e=!1){if(this.Vu){var c=this.Qb[0];var g=this.Qb[1]}else{if(b)c=this.pc.ti(a,this.wa);else{if(this.Jc){g=this.tb();const m=this.Jc.Se;c=this.Jc.Aa();g=m?m.Aa():g.Pf();if(a<=c||a>=g)this.Jc=this.pc.ti(a,this.wa)}else this.Jc=this.pc.ti(a,this.wa);c=this.Jc}g=c.Se}this.re.Ba(a,c,g,b,e)}NL(){const a=this.wa.rh().LL();this.Jc=null;this.Vu=2>=this.By().length;return a}Zx(a){this.Jc=
null;this.wa.rh().oM(a);this.Vu=2>=this.By().length}ia(){return{sourceAdapterJson:this.Fb().ia(),basic:this.Vu}}na(a){a&&(this.Fb().na(a.sourceAdapterJson),this.Vu=a.basic)}}}
{"use strict";const d=self.B,a=self.Ys;d.AP=class extends d.ea{constructor(b){super();this.Ea=b[0];this.hg=[];for(var e of b[1])b=d.BP.Na(this,e),this.hg.push(b);for(e=0;e<this.hg.length;e++)this.hg[e].cu(this.hg[e+1]);this.mw=new Map;this.cV=new Map;this.oaa();a.OW(this.Ea,(c,g,m,h)=>this.Ba(c,g,m,h))}static Na(b){return d.A(d.AP,b)}j(){for(const b of this.hg)b.j();d.D(this.hg);this.hg=null;this.mw.clear();this.mw=null;this.cV.clear();this.cV=null}q_(b){for(let e=this.hg.length-1;0<=e;e--){const c=
this.hg[e];if(c.ig<b)return c}}p_(b){for(let e=this.hg.length-1;0<=e;e--){const c=this.hg[e];if(c.ig<=b)return c}}Ba(b,e,c,g){var m=b/g;b=this.p_(m);g=b.Se;g||(b=this.q_(m),g=b.Se);m=d.Cfa(m,b.ig,g.ig,g.ig-b.ig);const h=b.ig,l=b.Xw,n=b.ig+b.UU,p=b.Xw+b.lea,q=g.ig+g.ZS,u=g.Xw+g.wda,w=g.ig;g=g.Xw;g=a.ko("spline")(m,h,l,n,p,q,u,w,g,this.mw.get(b));g+=b.Xw;return(1-g)*e+g*(e+c)}oaa(){this.mw.clear();for(let e=0;e<this.hg.length-1;e++){var b=this.hg[e];if(!b.Iw)continue;const c=this.hg[e+1];this.mw.set(b,
a.UZ(b.ig,b.ig+b.UU,c.ig+c.ZS,c.ig))}}}}{"use strict";const d=self.B;d.BP=class extends d.ea{constructor(a,b){super();this.ig=b[0];this.Xw=b[1];this.UU=b[2];this.lea=b[3];this.ZS=b[4];this.wda=b[5];this.Iw=b[6];this.HA=b[7];this.Se=null}j(){}static Na(a,b){return d.A(d.BP,a,b)}cu(a){this.Se=a}}}{"use strict";const d=self.B;d.g6=class extends d.ea{constructor(a){super();this.g=a;this.BC=[]}j(){for(const a of this.BC)a.j();d.D(this.BC);this.BC=null}Na(a){this.BC.push(d.AP.Na(a))}}}
{"use strict";const d=self.B;d.P5=class extends d.ea{constructor(a){super();this.K=a;this.gb=[];this.gb.push(d.A(d.IF,this));this.Ma=0;this.Vi=this.gb[0]}j(){for(const a of this.gb)a.j();d.D(this.gb);this.K=this.Vi=null}I(){return this.K}R(){return this.Vi}xd(){this.R().xd()}G3(){var a=this.gb,b=++this.Ma;b===a.length?(b=d.A(d.IF,this),a.push(b),this.Vi=b):(a=a[b],a.gd(),this.Vi=a)}H3(){const a=this.gb,b=++this.Ma;b===a.length&&a.push(d.A(d.IF,this));const e=a[b];e.TX(a[b-1]);this.Vi=e}Ka(){this.Vi=
this.gb[--this.Ma]}Do(a){const b=this.gb;for(let e=0,c=b.length;e<c;++e)b[e].Do(a)}}}
{"use strict";const d=self.B;d.IF=class extends d.ea{constructor(a){super();this.gb=a;this.K=this.gb.I();this.Jd=this.K.H().fd();this.Vb=!0;this.F=[];this.Zb=[]}j(){this.Px();this.Jd=this.K=this.gb=null}Px(){d.D(this.F);d.D(this.Zb)}I(){return this.K}wE(){return this.Vb?!!this.K.F.length:!!this.F.length}la(){return this.Vb?this.K.la():this.F}j0(){return!!this.Zb.length}LM(){const a=this.la();return a.length?a:this.Zb}gd(){this.Vb=!0;d.D(this.Zb)}xd(){this.Vb=!0}TX(a){a.Vb?this.gd():(this.Vb=!1,d.Nc(this.F,
a.F),d.D(this.Zb))}To(a){this.F.push(a)}sl(a){this.Zb.push(a)}he(a){this.Vb=!!a}ak(a){this.Vb=!1;d.D(this.F);this.F.push(a)}Xt(a){this.Vb=!1;d.Nc(this.F,a)}fu(a){this.Vb=!1;d.D(this.F);for(const b of a)this.F.push(b)}KL(a,b){for(const e of b)a.has(e)||this.Zb.push(e)}e6(a){for(const b of a)this.F.push(b);d.mg(this.Zb,a)}Im(a){a&&(this.Jd.bf().Eb().Md?(this.Vb&&(d.D(this.F),d.Nc(this.Zb,a.I().la()),this.Vb=!1),a=this.Zb.indexOf(a),-1!==a&&(this.F.push(this.Zb[a]),this.Zb.splice(a,1))):this.ak(a))}Do(a){d.mg(this.F,
a);d.mg(this.Zb,a)}}}
{"use strict";const d=self.B;d.CZ=class extends d.ea{constructor(a){super();this.ta=a;this.g=this.ta.H();this.gb=[];this.gb.push(d.A(d.uM,this,null));this.Ma=0;this.JA=[]}j(){for(const a of this.gb)a.j();d.D(this.gb);d.D(this.JA);this.g=this.ta=null}ka(){return this.ta}H(){return this.g}bf(){return this.gb[this.Ma]}Oa(a){var b=this.gb;const e=++this.Ma;if(e===b.length)return a=d.A(d.uM,this,a),b.push(a),a;b=b[e];b.gd(a);return b}Ka(){--this.Ma}I3(a){this.JA.push(a)}x3(){this.JA.pop()}a_(){const a=this.JA;
return 0===a.length?null:a.ae(-1)}}}
{"use strict";const d=self.B;d.uM=class extends d.ea{constructor(a,b){super();this.gb=a;this.g=this.gb.H();this.kv=b;this.Vf=this.zl=0;this.dI=this.Ap=!1;this.iI=null;this.qI=this.kT=0}j(){this.gd(null);this.g=this.gb=null}gd(a){this.kv=a;this.Vf=this.zl=0;this.dI=this.Ap=!1}NG(a,b){this.kv=a;this.zl=0;this.Vf=b}HO(){this.Vf=this.zl=0}Eb(){return this.kv}Ag(a){this.kv=a}Mm(a){this.zl=a}iz(a){this.Vf=a}Om(a){this.Ap=!!a}Oq(a){this.dI=!!a}W4(a){this.iI=a}P0(a,b){this.kT=a;this.qI=b}oz(a){this.qI=a}Tj(){const a=
this.kv;return a.wB?!0:this.zl<a.Yb.length-1?!!a.zd().length:!1}}}{"use strict";const d=self.B;d.d2=class extends d.ea{constructor(a){super();this.ta=a;this.g=this.ta.H();this.gb=[];this.Ma=-1;this.Vi=null;this.dB=[]}j(){d.D(this.gb);this.g=this.ta=null}Uba(a){this.dB=a;a=this.dB.slice(0);this.gb.push(a);this.Ma=0;this.Vi=a}ka(){return this.ta}H(){return this.g}lq(){return this.Vi}Oa(){const a=++this.Ma,b=this.gb;a===b.length?b.push(this.dB.slice(0)):d.Nc(b[a],this.dB);this.Vi=b[a]}Ka(){this.Vi=this.gb[--this.Ma]}}}
{"use strict";const d=self.B;d.f2=class extends d.ea{constructor(a){super();this.ta=a;this.g=this.ta.H();this.gb=[];this.Ma=-1}j(){d.D(this.gb);this.g=this.ta=null}ka(){return this.ta}H(){return this.g}CN(){return 0<=this.Ma}lq(){return this.gb[this.Ma]}Oa(){++this.Ma;if(this.Ma===this.gb.length){var a=d.A(d.e2,this);this.gb.push(a);return a}a=this.gb[this.Ma];a.gd();return a}Ka(){--this.Ma}IZ(a){const b=this.gb;for(let e=this.Ma;0<=e;--e){const c=b[e];if(c.ya()===a)return c}return null}}}
{"use strict";const d=self.B;d.e2=class extends d.ea{constructor(a){super();this.vf=a;this.Ea="";this.Ma=0;this.wc=!1}gd(){this.Ea="";this.Ma=0;this.wc=!1}qz(a){this.Ea=a}ya(){return this.Ea}Fc(a){this.Ma=a}Fa(){return this.Ma}He(){this.wc=!0}}}{"use strict";const d=self.B;d.fX=class extends d.ea{constructor(){super();this.gb=[];this.Ma=-1}j(){d.D(this.gb)}lq(){return this.gb[this.Ma]}Oa(){++this.Ma;if(this.Ma===this.gb.length){const a=[];this.gb.push(a);return a}return this.gb[this.Ma]}Ka(){--this.Ma}}}
{"use strict";const d=self.B;function a(b,e){return b.Fa()-e.Fa()}d.BZ=class extends d.ea{constructor(b){super();this.g=b;this.Pu=[];this.VJ=new Map;this.uH=[];this.oT=new Map;this.KH=new Map;this.RH=new Map;this.fA=new Map;this.BS=new Map;this.gI=new Map;this.Zda=0;this.tH=[];this.Vca=[];this.gU=[];this.oI=new Map;this.Jd=d.A(d.CZ,this);this.ud=d.A(d.d2,this);this.vf=d.A(d.f2,this);this.oK=[];this.fC=[];this.eC=[];this.JH=this.Fl=this.$l=0;this.fg=[];this.mA=[];self.c3_callFunction=(e,c)=>this.Oz(e,
c)}j(){this.Ox();this.Jd.j();this.Jd=null;this.ud.j();this.ud=null;d.D(this.fC);d.D(this.eC);this.g=null;d.D(this.Pu);this.VJ.clear()}Na(b){b=d.A(d.AZ,this,b);this.Pu.push(b);this.VJ.set(b.ya().toLowerCase(),b)}X6(b){this.oK.push(b)}Ob(){for(const b of this.oI.values())b.Ob(!1);for(const b of this.Pu)b.Ob();for(const b of this.Pu)b.gH();for(const b of this.oK)b.Ob(!1);d.D(this.oK);this.ud.Uba(this.gU)}H(){return this.g}KM(b){return this.VJ.get(b.toLowerCase())||null}Baa(b){this.uH.push(b);this.oT.set(b.nT,
b)}yaa(b){this.KH.set(b.eb,b)}xaa(b){this.RH.set(b.eb,b)}waa(b){this.fA.set(b.eb,b)}Aaa(b){this.oI.set(b.TA.toLowerCase(),b)}zaa(b){this.gI.set(b.eb,b);b.Rf()?this.tH.push(b):this.Vca.push(b)}Fz(b){2<=b.length&&b.sort(a);let e=this.BS.get(b.length);e||(e=[],this.BS.set(b.length,e));for(let g=0,m=e.length;g<m;++g){const h=e[g];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(b);return b}g9(b){this.gU.push(b.rp);return this.Zda++}fd(){return this.Jd}$e(){return this.fd().bf()}Eb(){return this.$e().Eb()}If(){const b=
this.$e();return b.Eb().FM(b.zl)}mt(){const b=this.$e();return b.Eb().BM(b.Vf)}RZ(b){const e=[];for(b=b.rq();b;)d.Ln(e,b.AQ()),b=b.rq();return e}LQ(b){const e={};for(const c of this.RZ(b))e[c.wi()]=c.PQ();return Object.create(Object.prototype,e)}eE(b){return this.gI.get(b)||null}f_(b){return this.KH.get(b)||null}PZ(b){return this.fA.get(b)||null}ry(b){return this.oI.get(b.toLowerCase())||null}e4(){for(const b of this.tH)b.k4()}JM(b){return this.oT.get(b.toLowerCase())||null}g_(b){return(b=this.KH.get(b))&&
b.dj?b:null}f4(){for(const b of this.uH)b.h4()}JR(){for(const b of this.Pu)b.Qaa()}p4(b){this.JR();this.$l++;for(const e of b.Ax())if(b=e.Xc)this.g.St(e),b.pa(),this.g.Rt();this.$l--}async hY(b){this.JR();this.$l++;for(const e of this.U7(b))await this.g.hq(e);this.$l--}*U7(b){for(const e of b.Ax())if(b=e.Xc)this.g.St(e),yield*b.jb(),this.g.Rt()}Mu(b,e,c,g){let m=!1;if(!b.Rb())return this.fF(e,c,g);this.Fl++;for(const h of b.Ax())if(b=h.Xc){this.g.St(h);for(const l of b.BA){const n=l.Mu(e,c,g);m=m||
n}b=b.Mu(e,c,g);m=m||b;this.g.Rt()}this.Fl--;return m}*qu(b,e,c,g){let m=!1;if(!b.Rb())return this.fF(e,c,g);this.Fl++;for(const h of b.Ax())if(b=h.Xc){this.g.St(h);for(const l of b.BA){const n=yield*l.qu(e,c,g);m=m||n}b=yield*b.qu(e,c,g);m=m||b;this.g.Rt()}this.Fl--;return m}fF(b,e,c){this.fC.push([b,e,c]);return!1}N3(b,e,c){let g=null;const m=new Promise(h=>g=h);this.eC.push([b,e,c,g]);return m}*$aa(){if(this.g.Et())throw Error("should not be in breakpoint");const b=this.g.Za;for(;this.eC.length;){const [e,
c,g,m]=this.eC.shift(),h=yield*this.qu(b,e,c,g);m(h)}}async JO(){for(const b of this.$aa())await this.g.hq(b)}QE(){return 0<this.Fl}uu(){return++this.Fl}ru(){--this.Fl}H1(){return 0<this.$l}Ty(){return this.H1()||this.QE()}aba(b){for(const [e,c,g]of this.fC)this.Mu(b,e,c,g);d.D(this.fC)}ve(b){b?this.JH++:this.JH--}BN(){return 0<this.JH}gq(b){for(let e=0,c=b.length;e<c;++e)b[e].vn.xd()}yg(b){for(let e=0,c=b.length;e<c;++e)b[e].vn.G3()}Ee(b){for(let e=0,c=b.length;e<c;++e)b[e].vn.H3()}Nb(b){for(let e=
0,c=b.length;e<c;++e)b[e].vn.Ka()}vD(){const b=d.A(d.qF,this);this.fg.push(b);return b}r4(){if(this.fg.length){var b=this.$e(),e=!1;this.$l++;for(let c=0,g=this.fg.length;c<g;++c){const m=this.fg[c];m.lS()&&m.Saa(b);m.zw&&(e=!0)}e&&this.wQ();this.$l--}}async jY(){if(this.fg.length){var b=this.$e(),e=!1;this.$l++;for(let c=0,g=this.fg.length;c<g;++c){const m=this.fg[c];m.lS()&&await m.O7(b);m.zw&&(e=!0)}e&&this.wQ();this.$l--}}wQ(){const b=d.Dea(this.fg,e=>e.zw);for(const e of b)e.j()}Ox(){for(const b of this.fg)b.j();
d.D(this.fg)}V3(b){for(const e of this.fg)e.Do(b)}sD(b){this.mA.push(b)}Qx(){d.D(this.mA)}T_(){const b=Promise.all(this.mA);this.mA=[];return b}ia(){return{groups:this.hba(),cnds:this.gba(),acts:this.fba(),vars:this.tba(),waits:this.pba()}}na(b){this.a$(b.groups);this.V9(b.cnds);this.U9(b.acts);this.n$(b.vars);this.j$(b.waits)}hba(){const b={};for(const e of this.uH)b[e.eb.toString()]=e.xq();return b}a$(b){for(const [e,c]of Object.entries(b))(b=this.g_(parseInt(e,10)))&&b.Pq(c)}gba(){const b={};for(const [e,
c]of this.RH){const g=c.ia();g&&(b[e.toString()]=g)}return b}V9(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.RH)g.na(e.get(c)||null)}fba(){const b={};for(const [e,c]of this.fA){const g=c.ia();g&&(b[e.toString()]=g)}return b}U9(b){const e=new Map;for(const [c,g]of Object.entries(b))e.set(parseInt(c,10),g);for(const [c,g]of this.fA)g.na(e.get(c)||null)}tba(){const b={};for(const [e,c]of this.gI)c.pb||!c.Rf()&&!c.Rh||(b[e.toString()]=c.ub());return b}n$(b){for(const [e,
c]of Object.entries(b))(b=this.eE(parseInt(e,10)))&&b.Ge(c)}pba(){return this.fg.filter(b=>!b.F1()).map(b=>b.ia())}j$(b){this.Ox();for(const e of b)(b=d.qF.t7(this,e))&&this.fg.push(b)}TD(b){for(;b;)if(b=b.rq(),b instanceof d.ft)return b;return null}Oz(b,e){Array.isArray(e)||(e=[]);b=this.ry(b.toLowerCase());if(!b)return null;if(!b.Bm())return b.ot();var c=b.Sg;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].rp);while(e.length<c.length)}c=b.Ae();return c.nF(c.Ad(),b.Yl,b.ot(),...e)}}}
{"use strict";const d=self.B;d.AZ=class extends d.ea{constructor(a,b){super();this.ta=a;this.g=a.H();this.Ea=b[0];this.IA=[];this.EC=new Map;this.eT=new Map;this.xda=new Map;this.Av=!1;this.KU=[];this.BA=[];this.CS=new Set;for(const e of b[1])this.fQ(e,null,this.IA);this.jj=this.g.qb?{type:"sheet",name:this.Ea,Bx:0,children:[]}:null}j(){this.g=this.ta=null}fQ(a,b,e){switch(a[0]){case 0:case 3:this.r7(a,b,e);break;case 1:this.s7(a,b,e);break;case 2:this.w7(a,b,e);break;case 4:this.u7(a,b);break;case 5:this.B7(a,
b,e);break;default:throw Error("invalid event type");}}r7(a,b,e){a=d.Sk.Na(this,b,a);if(a.Md){e.push(a);e=a.Yb;for(let c=0,g=e.length;c<g;++c)e[c].wo()&&this.$Q(a,c)}else a.wo()?this.$Q(a,0):e.push(a)}u7(a,b){a=d.ft.Na(this,b,a);this.ta.Aaa(a)}s7(a,b,e){a=d.cy.Na(this,b,a);e.push(a)}w7(a,b,e){a=d.tM.Na(this,b,a);e.push(a)}B7(a,b,e){a=d.by.Na(this,b,a);e.push(a)}$Q(a,b){a.Md||this.ta.X6(a);var e=a.FM(b),c=e.Ga,g=e.I();if(e.LT){var m=this.eT.get(g);m||(m=new Map,this.eT.set(g,m));e=e.k_().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([a,b])}else m=this.EC.get(g),m||(m={jL:new Map,cx:new Map},this.EC.set(g,m)),(g=e.tg())?(e=m.cx.get(g),e||(e=new Map,m.cx.set(g,e))):e=m.jL,m=e.get(c),m||(m=[],e.set(c,m)),m.push([a,b])}Ob(){const a=this.IA;for(let b=0,e=a.length;b<e;++b)a[b].Ob(b<e-1&&a[b+1]instanceof d.Sk&&a[b+1].Sy())}W6(a){this.KU.push(a)}gH(){d.D(this.BA);this.NP(this);this.CS.clear()}NP(a){const b=a.BA,e=a.CS;for(const c of this.KU){const g=c.Fv;c.Ib&&
a!==g&&!e.has(g)&&(e.add(g),g.NP(a),b.push(g))}}ka(){return this.ta}H(){return this.g}ya(){return this.Ea}DR(a,b){this.xda.set(b,a)}Qaa(){this.Av=!1}pa(){if(!this.Av){var a=this.g,b=a.IE(),e=b?performance.now():0;this.Av=!0;var c=this.ka(),g=c.$e();for(const m of this.IA)m.pa(g),c.gq(m.zd()),c.Qx(),a.Qd();g.gd(null);b&&(this.jj.Bx+=performance.now()-e)}}*jb(){if(!this.Av){this.Av=!0;var a=this.g,b=this.ka(),e=b.$e();for(const c of this.IA)yield*c.jb(e),b.gq(c.zd()),b.Qx(),a.Qd();e.gd(null)}}Mu(a,
b,e){if(b){const c=b.I();this.eH(a,b,c,e);for(const g of c.Mh)this.eH(a,b,g,e)}else return this.eH(a,b,null,null)}eH(a,b,e,c){e=this.EC.get(e);if(!e)return!1;c=c?e.cx.get(c):e.jL;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [g,m]of c)c=this.vQ(b,g,m),a=a||c;return a}*qu(a,b,e){if(b){const c=b.I();yield*this.hG(a,b,c,e);for(const g of c.Mh)yield*this.hG(a,b,g,e)}else return yield*this.hG(a,b,null,null)}*hG(a,b,e,c){e=this.EC.get(e);if(!e)return!1;c=c?e.cx.get(c):e.jL;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [g,m]of c)c=g.we()?this.vQ(b,g,m):yield*this.I7(b,g,m),a=a||c;return a}vQ(a,b,e){const c=this.g,g=this.ta,m=g.Eb(),h=g.fd(),l=g.Fl;let n=!1;m&&g.yg(m.Ad());g.yg(b.Ad());const p=1<l;p&&g.ud.Oa();const q=h.Oa(b);a&&(b.Yb[e].I().R().ak(a),a.Wb()&&a.Ji());a=!0;if(b.Ca()){const u=b.Vp;for(let w=0,r=u.length;w<r;++w)if(!u[w].IO(q)){a=!1;break}}a&&(c.el(),b.Md?b.q4(q,e):b.pa(q),n=q.Ap);h.Ka();p&&g.ud.Ka();g.Nb(b.Ad());m&&g.Nb(m.Ad());m||1!==l||(g.Qx(),g.BN()||c.Qd());return n}*I7(a,
b,e){const c=this.g,g=this.ta,m=g.Eb(),h=g.fd(),l=g.Fl;let n=!1;m&&g.yg(m.Ad());g.yg(b.Ad());const p=1<l;p&&g.ud.Oa();const q=h.Oa(b);a&&(b.Yb[e].I().R().ak(a),a.Wb()&&a.Ji());a=!0;if(b.Ca()){const u=b.Vp;for(let w=0,r=u.length;w<r;++w)if(!(yield*u[w].lM(q))){a=!1;break}}a&&(c.el(),b.Md?yield*b.iY(q,e):yield*b.jb(q),n=q.Ap);h.Ka();p&&g.ud.Ka();g.Nb(b.Ad());m&&g.Nb(m.Ad());m||1!==l||(g.Qx(),g.BN()||c.Qd());return n}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*e(){return!0}d.Sk=class extends d.ea{constructor(c,g,m){super();this.Xc=c;this.g=c.H();this.zc=g;this.Xd=null;this.Jd=this.g.ka().fd();this.Te=[];this.ls=[];this.xv=this.yB=this.wB=this.tT=!1;this.Md=!!m[2];this.mB=!1;this.Vp=null;this.Yb=[];this.Sb=[];this.ci=[];this.Pi=b;this.Qo=e;this.RI=this.dj=!1;this.nT="";this.oB=!1;this.jj=this.zA=null;this.eb=m[4];this.Cr=m[5];this.Xc.DR(this,this.Cr);this.Pa=this.g.qb?{ed:m[3][0],eL:m[3][1],
xV:!1,LK:!1,MK:!1,yV:!1}:null;this.ka().yaa(this);3===m[0]&&this.B9(m[1]);c=0;for(var h of m[6])g=d.aM.Na(this,h,c++),this.Yb.push(g),this.SP(g.I());c=0;for(const l of m[7])h=d.Fx.Na(this,l,c++),this.Sb.push(h);if(9===m.length){m=m[8];for(const l of m)this.Xc.fQ(l,this,this.ci)}this.Yb.length&&(this.mB=null===this.Yb[0].I()&&this.Yb[0].Ga===d.C.Qa.G.sM);0===this.Yb.length&&(this.Yb=a);0===this.Sb.length&&(this.Sb=a);0===this.ci.length&&(this.ci=a)}static Na(c,g,m){return d.A(d.Sk,c,g,m)}B9(c){this.dj=
!0;this.oB=this.RI=!!c[0];this.nT=c[1].toLowerCase();this.zA=[];this.ka().Baa(this);this.g.qb&&(this.jj={type:"group",name:c[1],Bx:0,children:[]})}O6(c){this.zA.push(c)}MP(c,g){for(const m of c.Og.Vl)g.includes(m)||g.push(m)}TP(c,g){if(c)if(g.includes(c)||g.push(c),c.Wa)for(const m of c.lp)m.Wb()&&this.MP(m,g);else c.Wb()&&this.MP(c,g)}SP(c){this.TP(c,this.Te)}S6(c){this.TP(c,this.ls)}E4(){this.Te=this.g.Tc}Ob(c){this.xv=!!c;this.v9();this.w9();for(const m of this.Yb)m.Ob();if(0<this.Sb.length){c=
!1;for(var g of this.Sb)g.Ob(),g.s0()&&(c=!0);c?(this.Pi=this.Uaa,this.Qo=this.Q7):(this.Pi=this.Taa,this.Qo=this.P7)}g=this.ci;for(let m=0,h=g.length;m<h;++m)g[m].Ob(m<h-1&&g[m+1]instanceof d.Sk&&g[m+1].Sy());this.Pa&&this.Dca();this.jj&&this.i9().jj.children.push(this.jj)}i9(){let c=this.Ca();for(;c;){if(c.dj)return c;c=c.Ca()}return this.Xc}Dca(){const c=this.Pa;c.xV=this.Yb.every(g=>g.we());c.LK=this.Sb.every(g=>g.we());c.MK=this.ci.every(g=>g.we());c.yV=c.xV&&c.LK&&c.MK}v9(){if(this.dj){var c=
this.Ca();for(this.yB=!0;c;){if(!c.dj){this.yB=!1;break}c=c.Ca()}}}u9(){var c=this.g.Tc;if(this.Te===c)this.ls=c;else{this.ls=d.PK(this.Te);for(c=this.Ca();c;){for(var g of c.Te)this.S6(g);c=c.Ca()}g=this.ka();this.Te=g.Fz(this.Te);this.ls=g.Fz(this.ls)}}w9(){if(this.k0()){this.Vp=[];for(var c=this.Ca();c;)this.Vp.push(c),c=c.Ca();this.Vp.reverse()}}gu(){this.wB=!0;this.zc&&this.zc.gu()}zd(){return this.Te}Ad(){this.tT||(this.tT=!0,this.u9());return this.ls}u0(c){return this.Te.includes(c)}ka(){return this.Xc.ka()}H(){return this.g}Ca(){return this.zc}aca(c){this.Xd=
c}rq(){return this.Xd||this.zc}KE(){return this.Pa&&this.Pa.eL}so(){return this.KE()&&this.Pa.ed}Sy(){return this.mB}xq(){return this.oB}h4(){this.Pq(this.RI)}Pq(c){c=!!c;if(!this.dj)throw Error("not a group");if(this.oB!==c){this.oB=c;for(const g of this.zA)g.EP();this.zA.length&&(c=this.g.Ja().Xc)&&c.gH()}}wo(){return this.Yb.length&&this.Yb[0].wo()}A1(){return this.Xd&&this.Xd instanceof d.ft}k0(){return this.A1()||this.Yb.some(c=>c.wo())}FM(c){c=Math.floor(c);if(0>c||c>=this.Yb.length)throw new RangeError("invalid condition index");
return this.Yb[c]}z1(c){let g=c.Fa();if(0===g)return!0;for(--g;0<=g;--g)if(this.Yb[g].I()===c.I())return!1;return!0}BM(c){c=Math.floor(c);if(0>c||c>=this.Sb.length)throw new RangeError("invalid action index");return this.Sb[c]}t9(c){c=Math.floor(c);return 0<=c&&c<this.Sb.length}AQ(){return this.ci.filter(c=>c instanceof d.cy)}IO(c){c.Ag(this);let g=!1;const m=this.Yb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Mm(h);if(n.qB)throw Error("trigger cannot be used as sub-event to a loop");if(n.pa())g=
!0;else if(!this.Md)return!1}return this.Md?g:!0}q4(c,g){c.Ag(this);this.Yb[g].pa()&&(this.Pi(c,0)&&this.tl(),c.Om(!0))}*lM(c){c.Ag(this);let g=!1;const m=this.Yb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Mm(h);if(n.qB)throw Error("trigger cannot be used as sub-event to a loop");if(n.we()?n.pa():yield*n.jb())g=!0;else if(!this.Md)return!1}return this.Md?g:!0}*iY(c,g){c.Ag(this);g=this.Yb[g];if(g.we()?g.pa():yield*g.jb())(this.Wx()?this.Pi(c,0):yield*this.Qo(c,0))&&(this.Xx()?this.tl():yield*this.pu()),
c.Om(!0)}pa(c){c.Ag(this);this.mB||c.Oq(!1);this.Md?this.Zaa(c):this.Tz(c)}*jb(c){if(this.so()||this.g.tc())yield this;c.Ag(this);this.mB||c.Oq(!1);this.Md?yield*this.b8(c):yield*this.eG(c)}Zaa(c){const g=this.Yb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.wo()||(c.Mm(l),h=h.pa(),m=m||h)}c.Om(m);m&&(this.Pi(c,0)&&this.tl(),this.xv&&c.Oq(!0))}*b8(c){const g=this.Yb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.wo()||(c.Mm(l),h=h.we()?h.pa():yield*h.jb(),m=m||h)}c.Om(m);
m&&((this.Wx()?this.Pi(c,0):yield*this.Qo(c,0))&&(this.Xx()?this.tl():yield*this.pu()),this.xv&&c.Oq(!0))}Tz(c){const g=this.Yb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Mm(m);if(!l.pa()){c.Om(!1);return}}c.Om(!0);this.Pi(c,0)&&this.tl();c.Ap&&this.xv&&c.Oq(!0)}*eG(c){const g=this.Yb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Mm(m);if(l.we()?!l.pa():!(yield*l.jb())){c.Om(!1);return}}c.Om(!0);(this.Wx()?this.Pi(c,0):yield*this.Qo(c,0))&&(this.Xx()?this.tl():yield*this.pu());c.Ap&&this.xv&&
c.Oq(!0)}Taa(c,g){const m=this.Sb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.iz(h),g.pa();return!0}*P7(c,g){const m=this.Sb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.iz(h),g.we()?g.pa():yield*g.jb();return!0}Uaa(c,g){const m=this.ka(),h=this.Sb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.iz(l);const p=g.pa();if(g.VL()&&!0===p)return!1;g.wg()&&p instanceof Promise&&m.sD(p)}return!0}*Q7(c,g){const m=this.ka(),h=this.Sb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.iz(l);let p;p=g.we()?g.pa():yield*g.jb();if(g.VL()&&
!0===p)return!1;g.wg()&&p instanceof Promise&&m.sD(p)}return!0}Raa(c){this.Pi(c,c.Vf)&&this.tl()}*N7(c){if(yield*this.Qo(c,c.Vf))yield*this.pu()}tl(){if(this.ci.length){var c=this.dj&&this.g.IE(),g=c?performance.now():0,m=this.Jd,h=m.Oa(this);this.wB?this.dba(h):this.cba(h);m.Ka();c&&(this.jj.Bx+=performance.now()-g)}}dba(c){const g=this.dj,m=this.yB,h=this.ka(),l=this.ci;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.zd(),r=!m||!g&&n<q;r&&h.Ee(w);u.pa(c);r?h.Nb(w):h.gq(w)}}cba(c){const g=
this.ci;for(let m=0,h=g.length;m<h;++m)g[m].pa(c)}*pu(){if(this.ci.length){var c=this.Jd,g=c.Oa(this);this.wB?yield*this.e8(g):yield*this.d8(g);c.Ka()}}*e8(c){const g=this.dj,m=this.yB,h=this.ka(),l=this.ci;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],w=u.zd(),r=!m||!g&&n<q;r&&h.Ee(w);yield*u.jb(c);r?h.Nb(w):h.gq(w)}}*d8(c){const g=this.ci;for(let m=0,h=g.length;m<h;++m)yield*g[m].jb(c)}zg(c,g){this.g.el();g.HO();const m=this.Yb;if(!this.Md)for(let h=c.zl+1,l=m.length;h<l;++h)if(c=m[h],g.Mm(h),
!c.pa())return!1;this.Pi(g,0)&&this.tl();return!0}*rg(c,g){this.g.el();g.HO();const m=this.Yb;if(!this.Md)for(let h=c.zl+1,l=m.length;h<l;++h)if(c=m[h],g.Mm(h),c.we()?!c.pa():!(yield*c.jb()))return!1;(this.Wx()?this.Pi(g,0):yield*this.Qo(g,0))&&(this.Xx()?this.tl():yield*this.pu());return!0}we(){return!this.so()&&!this.g.tc()&&this.Pa.yV}Wx(){return!this.g.tc()&&this.Pa.LK}Xx(){return!this.g.tc()&&this.Pa.MK}YF(c){if(this.Ca()){const g=this.Vp;for(let m=0,h=g.length;m<h;++m)if(!g[m].IO(c))return!1}return!0}*gQ(c){if(this.Ca()){const g=
this.Vp;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].lM(c)))return!1}return!0}uQ(c,g,m){0<g.length?m?(g=g.map(h=>h.Y(0)),c.ud.Oa(),this.Xd.bu(g)):this.Xd.zZ(g):m&&c.ud.Oa()}n4(c,g){let m,h;const l=0<c.length;var n=this.g;const p=this.Jd,q=n.ka(),u=1<q.uu();this.uQ(q,g,u);l&&q.yg(c);g=p.Oa(this);this.YF(g)&&(n.el(),g.Ag(this),(n=this.Xd.wg())&&([h,m]=this.Xd.LF()),this.Tz(g),n&&this.Xd.Mt(h));p.Ka();u&&q.ud.Ka();l&&q.Nb(c);q.ru();return m}*fY(c,g){let m,h;if(this.so()||this.g.tc())yield this;const l=
0<c.length;var n=this.g;const p=this.Jd,q=n.ka(),u=1<q.uu();this.uQ(q,g,u);l&&q.yg(c);g=p.Oa(this);if(yield*this.gQ(g))n.el(),g.Ag(this),(n=this.Xd.wg())&&([h,m]=this.Xd.LF()),yield*this.eG(g),n&&this.Xd.Mt(h);p.Ka();u&&q.ud.Ka();l&&q.Nb(c);q.ru();return m}o4(c){const g=this.Ad(),m=0<g.length,h=this.g,l=this.Jd,n=h.ka(),p=1<n.uu();p&&n.ud.Oa();this.Xd.bu(c);m&&n.yg(g);c=l.Oa(this);this.YF(c)&&(h.el(),c.Ag(this),this.Tz(c));l.Ka();p&&n.ud.Ka();m&&n.Nb(g);n.ru()}*gY(c){if(this.so()||this.g.tc())yield this;
const g=this.Ad(),m=0<g.length,h=this.g,l=this.Jd,n=h.ka(),p=1<n.uu();p&&n.ud.Oa();this.Xd.bu(c);m&&n.yg(g);c=l.Oa(this);if(yield*this.gQ(c))h.el(),c.Ag(this),yield*this.eG(c);l.Ka();p&&n.ud.Ka();m&&n.Nb(g);n.ru()}nF(c,g,m,...h){let l,n;const p=0<c.length,q=this.g,u=this.Jd,w=q.ka(),r=1<w.uu();r&&w.ud.Oa();0<h.length&&this.Xd.bu(h);p&&w.yg(c);h=u.Oa(this);h.P0(g,m);u.I3(h);q.lz(!1);this.YF(h)&&(q.el(),h.Ag(this),(g=this.Xd.wg())&&([n,l]=this.Xd.LF()),this.Tz(h),g&&this.Xd.Mt(n));q.lz(!0);u.Ka();u.x3();
r&&w.ud.Ka();p&&w.Nb(c);w.ru();return l||h.qI}}}
{"use strict";const d=self.B,a=[];let b=!1;d.by=class extends d.ea{constructor(e,c,g){super();const m=e.H(),h=e.ka();this.Xc=e;this.ta=h;this.g=e.H();this.zc=c;this.Ga=m.ph(g[1]);this.Cr=g[2];this.Xc.DR(this,this.Cr);this.Pa=m.qb?{ed:g[3][0],eL:g[3][1]}:null}static Na(e,c,g){return d.A(d.by,e,c,g)}Ob(){const e=this.Ga,c=this.g.ka().LQ(this);this.Ga=e.bind(null,this.g.bj,c)}Ca(){return this.zc}rq(){return this.zc}KE(){return this.Pa&&this.Pa.eL}so(){return this.KE()&&this.Pa.ed}Sy(){return!1}zd(){return a}Ad(){return this.zc?
this.zc.Ad():a}pa(e){e.Ag(this);this.ta.sD(this.eba())}async eba(){try{await this.Ga()}catch(e){console.error(`Unhandled exception running script %c${this.Xc.ya()}, event ${this.Cr}:`,"font-size: 1.2em; font-weight: bold;",e),self.pg&&self.pg.Wba(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*jb(e){e.Ag(this);if(this.so()||this.g.tc())yield this;
this.pa(e)}we(){return!this.so()&&!this.g.tc()}static f0(){return b}static c5(){b=!0}}}
{"use strict";const d=self.B;d.ft=class extends d.ea{constructor(a,b,e){super();this.Xc=a;this.g=a.H();this.zc=b;const c=e[1];this.TA=c[0];this.Yl=c[1];this.Sg=c[2].map(g=>d.cy.Na(a,this,g));this.Ug=c[3];this.DI=[];this.Iv=c[4];this.Vda=0;this.jv=-1;this.Su=new Map;this.Td=d.Sk.Na(a,b,e);this.Td.aca(this)}static Na(a,b,e){return d.A(d.ft,a,b,e)}Ob(){for(const a of this.Sg)a.Ob();this.Td.Ob(!1)}AQ(){return this.Sg}Caa(a){this.DI.push(a)}zZ(a){const b=this.Sg;for(let e=0,c=b.length;e<c;++e)b[e].Ge(a[e].Y(0))}bu(a){const b=
this.Sg;for(let e=0,c=b.length;e<c;++e)b[e].Ge(a[e])}CX(){return this.Sg.map(a=>a.ub())}Ca(){return this.zc}rq(){return this.zc}Bm(){return this.Ug}ot(){switch(this.Yl){case 0:return null;case 2:return"";default:return 0}}Ae(){return this.Td}wg(){return this.Iv}LF(){const a=this.Vda++;this.jv=a;let b;const e=new Promise(c=>b=c);this.Su.set(a,{resolve:b,pL:0});return[a,e]}Mt(a){const b=this.Su.get(a);0===b.pL&&(b.resolve(),this.Su.delete(a));this.jv=-1}s3(){this.Su.get(this.jv).pL++;return this.jv}m4(a){this.jv=
a;this.Su.get(a).pL--}}}
{"use strict";const d=self.B,a=[];d.cy=class extends d.ea{constructor(b,e,c){super();const g=b.ka();this.Xc=b;this.ta=g;this.g=b.H();this.zc=e;this.ud=g.ud;this.Ea=c[1];this.xa=c[2];this.rp=c[3];this.Rh=!!c[4];this.pb=!!c[5];this.Ida=e instanceof d.ft;this.eb=c[6];this.Vv=this.g.wi(c[8]);this.iea=m=>this.Ge(m);this.gea=()=>this.ub();this.vT=!this.zc||this.Rh||this.pb;this.Ac=this.rp;this.pJ=-1;this.uN()&&(this.Ac=this.Ac?1:0);!this.TE()||this.Rh||this.pb||(this.pJ=g.g9(this));g.zaa(this)}static Na(b,
e,c){return d.A(d.cy,b,e,c)}Ob(){if(this.TE()&&!this.Rh&&!this.pb&&!this.Ida){const b=this.ta.TD(this);b&&b.Caa(this)}}ya(){return this.Ea}wi(){return this.Vv}Ca(){return this.zc}rq(){return this.Ca()}Rf(){return!this.Ca()}TE(){return!this.Rf()}Gm(){return 0===this.xa}Ci(){return 1===this.xa}uN(){return 2===this.xa}Sy(){return!1}zd(){return a}pa(){!this.TE()||this.Rh||this.pb||this.Ge(this.rp)}we(){return!0}*jb(b){this.pa(b)}Ge(b){this.Gm()?"number"!==typeof b&&(b=parseFloat(b)):this.Ci()?"string"!==
typeof b&&(b=b.toString()):this.uN()&&(b=b?1:0);this.vT?this.Ac=b:this.ud.lq()[this.pJ]=b}ub(){return this.vT?this.Ac:this.ud.lq()[this.pJ]}k4(){this.Ac=this.rp}PQ(){return{configurable:!1,enumerable:!0,get:this.gea,set:this.iea}}}}
{"use strict";const d=self.B,a=[];d.tM=class extends d.ea{constructor(b,e,c){super();const g=b.ka();this.Xc=b;this.ta=g;this.g=b.H();this.zc=e;this.Fv=null;this.Cda=c[1];this.Ib=!0}static Na(b,e,c){return d.A(d.tM,b,e,c)}Ob(){this.Fv=this.ta.KM(this.Cda);this.Xc.W6(this);let b=this.Ca();for(;b;)b instanceof d.Sk&&b.dj&&b.O6(this),b=b.Ca();this.EP();this.g.qb&&this.Xc.jj.children.push(this.Fv.jj)}Ca(){return this.zc}zd(){return a}pa(){const b=!!this.Ca(),e=this.g.Tc;b&&this.ta.yg(e);this.Fv.pa();b&&
this.ta.Nb(e)}*jb(){const b=!!this.Ca(),e=this.g.Tc;b&&this.ta.yg(e);yield*this.Fv.jb();b&&this.ta.Nb(e)}we(){return!1}EP(){let b=this.Ca();for(;b;){if(b instanceof d.Sk&&b.dj&&!b.xq()){this.Ib=!1;return}b=b.Ca()}this.Ib=!0}}}
{"use strict";const d=self.B;d.co=class extends d.ea{constructor(l){super();this.$b=l;this.g=l.H()}Ob(){}static $X(l,n){return d.A([m,c,g,h,a,b][n[0]],l,n)}};class a extends d.co{constructor(l,n){super(l);this.Ed=this.g.zt();this.Ga=this.g.ph(n[1]);this.Ga!==d.C.Qa.Db.random&&this.Ga!==d.C.Qa.Db.Iea||this.$b.HF()}ug(){return this.Ed.ek(this.Ga,this.Ed)}}class b extends d.co{constructor(l,n){super(l);this.Kr=null;this.TA=n[1];this.$b.HF()}Ob(){const l=this.g.ka();this.Kr=l.ry(this.TA);this.TA=null;
const n=this.Kr.Ae();this.Al=[...new Set([...this.$b.Ae().Ad(),...n.Ad()])];this.Al=l.Fz(this.Al)}ug(){const l=this.Kr;if(l.Bm())return d.Sk.prototype.nF.bind(l.Ae(),this.Al,l.Yl,l.ot());{const n=l.ot();return()=>n}}}function e(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.co{constructor(l,n){super(l);this.K=this.g.cf(n[1]);this.Ga=this.g.ph(n[2]);this.hC=!!n[3];this.Jd=this.g.ka().fd();this.$b.EG(this.K)}ug(){return this.K.sb().ek(this.Ga,this.K.Ai().ma)}$s(){const l=
this.K,n=l.R().LM();var p=n.length;if(0===p)return this.hC?"":0;p=e(this.$b.Gw,p);this.Jd.bf().W4(l);return this.Ga.apply(n[p].ma,[])}}class g extends d.co{constructor(l,n){super(l);this.K=this.g.cf(n[1]);this.tea=n[3];this.hC=!!n[2];this.$b.EG(this.K)}kq(){var l=this.K,n=l.R().LM(),p=n.length;if(0===p)return this.hC?"":0;p=e(this.$b.Gw,p);n=n[p];l=n.I().fE(l.Nh);return n.b9(this.tea+l)}}class m extends d.co{constructor(l,n){super(l);this.K=this.g.cf(n[1]);this.Uc=this.K.gy(n[2]);this.Ti=this.K.it(n[2]);
this.Ga=this.g.ph(n[3]);this.hC=!!n[4];this.Jd=this.g.ka().fd();this.$b.EG(this.K)}}class h extends d.co{constructor(l,n){super(l);this.Kd=null;this.fI=n[1]}Ob(){this.Kd=this.g.ka().eE(this.fI)}}}
{"use strict";const d=self.B;d.De=class extends d.ea{constructor(A,G,z){super();this.$b=A;this.Ma=z;this.xa=G;this.Y=null;this.pb=this.We=!1}static Na(A,G,z){const F=G[0];return d.A([b,e,p,g,h,c,l,b,g,g,q,u,p,r,e,n,m,w,v,y][F],A,F,z,G)}Ob(){}HF(){this.We=!0}EG(A){this.We||!A||A.sb().gn||(this.We=!0)}Fa(){return this.Ma}H(){return this.$b.H()}Ae(){return this.$b.Ae()}};function a(A){A=self.sX[A];if(!A)throw Error("invalid expression number");return A}class b extends d.De{constructor(A,G,z,F){super(A,
G,z);this.Gw=0;A=F[1];this.hI=A[0];this.Yr=[];this.KA=null;for(let H=1,J=A.length;H<J;++H)this.Yr.push(d.co.$X(this,A[H]));this.Yr.length?this.Y=this.i_:(this.Y=a(this.hI),this.pb=!0)}kb(A){if(0>A||A>=this.Yr.length)throw new RangeError("invalid numbered node");return this.Yr[A]}Ob(){for(var A of this.Yr)A.Ob();A=a(this.hI);this.KA=this.Yr.length?A(this):A}i_(A){this.Gw=A;return this.KA()}}class e extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.Y_;14===G&&(this.Ae().E4(),this.$b instanceof
d.Fx&&this.Ae().gu())}Y_(A){this.Gw=A;A=this.KA();return"string"===typeof A?A:""}Y8(){return a(this.hI)()}}class c extends b{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.Z;this.pb=!1}Z(A){this.Gw=A;A=this.KA();return this.H().Ja().Z(A)}}class g extends d.De{constructor(A,G,z,F){super(A,G,z);this.pda=F[1];this.Y=this.$Z;this.pb=!0}$Z(){return this.pda}}class m extends d.De{constructor(A,G,z,F){super(A,G,z);this.bda=F[1];this.Y=this.WZ;this.pb=!0}WZ(){return this.bda}}class h extends d.De{constructor(A,
G,z,F){super(A,G,z);this.K=this.H().cf(F[1]);this.Y=this.I;A=this.Ae();A.SP(this.K);this.$b instanceof d.Fx?A.gu():A.Ca()&&A.Ca().gu();this.pb=!0}I(){return this.K}}class l extends d.De{constructor(A,G,z,F){super(A,G,z);this.Vg=this.H().Za.nq(F[1]);this.Y=this.fc;this.pb=!0}fc(){return this.Vg}}class n extends d.De{constructor(A,G,z,F){super(A,G,z);this.di=this.H().Bb.Hy(F[1]);this.Y=this.tb;this.pb=!0}tb(){return this.di}}class p extends d.De{constructor(A,G,z,F){super(A,G,z);this.yda=F[1];this.Y=
this.l_;this.pb=!0}l_(){return this.yda}}class q extends d.De{constructor(A,G,z,F){super(A,G,z);this.GT=F[1];(A=this.$b.I())&&A.Wa?(this.Y=this.j_,this.HF()):(this.Y=this.x_,this.pb=!0)}x_(){return this.GT}j_(A){A=A||0;const G=this.$b.I();var z=G.R();const F=z.la();if(F.length)A=F[A%F.length].I();else if(z.j0())z=z.Zb,A=z[A%z.length].I();else if(0<G.F.length)z=G.la(),A=z[A%z.length].I();else return 0;return this.GT+A.fE(G.Nh)}}class u extends d.De{constructor(A,G,z,F){super(A,G,z);this.fI=F[1];this.Kd=
null;this.Y=this.h_;this.pb=!0}Ob(){this.Kd=this.H().ka().eE(this.fI)}h_(){return this.Kd}}class w extends d.De{constructor(A,G,z,F){super(A,G,z);this.iT=F[1];this.Kr=null;this.Y=this.r_;this.pb=!0}Ob(){this.Kr=this.H().ka().ry(this.iT);this.iT=null}r_(){return this.Kr}}class r extends d.De{constructor(A,G,z,F){super(A,G,z);this.iK=[];this.iV=[];this.pb=!0;for(let H=1,J=F.length;H<J;++H)A=d.De.Na(this.$b,F[H],0),this.iK.push(A),this.iV.push(0),A.pb||(this.pb=!1);this.Y=this.d0}Ob(){for(const A of this.iK)A.Ob()}d0(){const A=
this.iK,G=this.iV;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class v extends d.De{constructor(A,G,z,F){super(A,G,z);this.uda=F[1];this.Y=this.wm;this.pb=!0}wm(){return this.uda}}class y extends d.De{constructor(A,G,z,F){super(A,G,z);this.hda=F[1];this.Y=this.a0;this.pb=!0}a0(){return this.hda}}}
{"use strict";const d=self.B;function a(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].Y(0)}const b=[],e=function(){};d.aM=class extends d.ea{constructor(c,g,m){super();this.Td=c;this.g=c.H();this.Ma=m;this.Ga=this.g.ph(g[1]);this.YI=0<g[3];this.LT=2===g[3];this.qB=!!g[4];this.ej=!!g[5];this.Rh=!!g[6];this.eb=g[7];this.MT=this.Td.Md;this.Uc=this.K=null;this.Ti=-1;this.Ed=null;this.jb=this.pa=e;this.Ha=[];this.rb=[];this.wl=!1;this.ei=this.Ab=null;this.Pa=this.g.qb?{ed:g[8][0],Bf:g[8][1]}:null;-1===
g[0]?this.Ed=this.g.zt():(this.K=this.g.cf(g[0]),g[2]&&(this.Uc=this.K.gy(g[2]),this.Ti=this.K.it(g[2])),this.Td.Ca()&&this.Td.Ca().gu());if(10===g.length){c=g[9];for(let h of c)this.Ha.push(d.De.Na(this,h,this.Ha.length)),this.rb.push(0)}0===this.Ha.length&&(this.rb=this.Ha=b);this.Td.ka().xaa(this)}static Na(c,g,m){return d.A(d.aM,c,g,m)}Ob(){for(const c of this.Ha)c.Ob(),c.We&&(this.wl=!0);this.LT?(this.pa=this.Vaa,this.jb=this.V7):this.Ed?(this.aH(),this.jb=this.gG):this.K.sb().gn?(this.ZG(),
this.jb=this.fG):this.Rh?(this.pa=this.bba,this.jb=this.c8):(this.pa=this.QR,this.jb=this.W7)}aH(){this.Ku(this.Ed,this.Ed,this.QG)}ZG(){const c=this.K.sb(),g=this.K.Ai().ma;this.Ku(c,g,this.PG)}Ku(c,g,m){const h=this.Ga,l=this.ej,n=this.Ha;if(0===n.length){const p=c.ek(h,g);this.pa=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.pb)this.pa=c.CQ(h,g,p.Y(0));else{const q=c.ek(h,g);this.pa=function(){return d.xor(q(p.Y(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];
if(!l&&p.pb&&q.pb)this.pa=c.DQ(h,g,p.Y(0),q.Y(0));else{const u=c.ek(h,g);this.pa=function(){return d.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.pb&&q.pb&&u.pb)this.pa=c.EQ(h,g,p.Y(0),q.Y(0),u.Y(0));else{const w=c.ek(h,g);this.pa=function(){return d.xor(w(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.pa=m}I(){return this.K}tg(){return this.Uc}Ae(){return this.Td}H(){return this.g}Fa(){return this.Ma}GM(){return this.Fa()}wo(){return this.YI}we(){return!this.Pa.ed&&!this.g.tc()&&
!this.Pa.Bf}yi(){this.Ab||(this.Ab=new Map);return this.Ab}Ct(){this.ei||(this.ei=new Map);return this.ei}QG(){const c=this.rb;a(this.Ha,c);return d.xor(this.Ga.apply(this.Ed,c),this.ej)}*gG(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){var c=this.rb;a(this.Ha,c);c=this.Ga.apply(this.Ed,c);d.Fm(c)&&(c=yield*c);return d.xor(c,this.ej)}return this.pa()}PG(){const c=this.rb;a(this.Ha,c);const g=this.K.Ai().ma;return d.xor(this.Ga.apply(g,c),this.ej)}*fG(){if(this.Pa.ed||this.g.tc())yield this;
if(this.Pa.Bf){var c=this.rb;a(this.Ha,c);const g=this.K.Ai().ma;c=this.Ga.apply(g,c);d.Fm(c)&&(c=yield*c);return d.xor(c,this.ej)}return this.pa()}Vaa(){return!0}*V7(){if(this.Pa.ed||this.g.tc())yield this;return!0}bba(){var c=this.rb;a(this.Ha,c);c=this.Ga.apply(this.Uc||this.K,c);this.K.ec();return c}*c8(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){var c=this.rb;a(this.Ha,c);c=this.Ga.apply(this.Uc||this.K,c);d.Fm(c)&&(c=yield*c);this.K.ec();return c}return this.pa()}QR(){const c=this.Ha,
g=this.rb,m=this.K.R();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.We||(g[h]=n.Y(0))}return m.Vb?this.Waa(m):this.Xaa(m)}*W7(){if(this.Pa.ed||this.g.tc())yield this;return this.QR()}pG(c){const g=this.Ha,m=this.rb;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.We&&(m[h]=n.Y(c))}}Waa(c){const g=this.K,m=g.Wa,h=g.Nh,l=this.Ti,n=0<=l,p=g.la(),q=this.wl,u=this.rb,w=this.Ga,r=this.ej,v=this.MT&&!this.YI;c.Px();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.pG(A);var y=void 0;n?(y=m?z.I().eo(h):
0,y=w.apply(z.kd[l+y].ma,u)):y=w.apply(z.ma,u);d.xor(y,r)?c.To(z):v&&c.sl(z)}g.et(!0);c.he(!1);g.ec();return c.wE()}Xaa(c){const g=this.K;var m=g.Wa;const h=g.Nh,l=g.Wb(),n=this.Ti,p=0<=n,q=this.wl,u=this.rb,w=this.Ga,r=this.ej,v=this.MT&&!this.YI,y=c.F,A=c.Zb,G=v&&!this.Td.z1(this),z=G?A:y;let F=0,H=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.pG(M);var J=void 0;p?(J=m?R.I().eo(h):0,J=w.apply(R.kd[n+J].ma,u)):J=w.apply(R.ma,u);d.xor(J,r)?(H=!0,G?(y.push(R),l&&R.taa()):(z[F]=R,l&&R.cca(F),
++F)):G?(z[F]=R,l&&R.bca(F),++F):v&&(A.push(R),l&&R.saa())}d.Ye(z,F);l&&g.Aca(G,F);m=H;G&&!H&&(H=this.laa(y));g.et(m||v);return v?H:c.wE()}laa(c){var g=this.K;const m=g.Wa;g=g.Nh;const h=this.wl,l=this.Ti,n=0<=l,p=this.rb,q=this.Ga,u=this.ej;for(let r=0,v=c.length;r<v;++r){var w=c[r];h&&this.pG(r);if(n){const y=m?w.I().eo(g):0;w=q.apply(w.kd[l+y].ma,p)}else w=q.apply(w.ma,p);if(d.xor(w,u))return!0}return!1}Ut(c,g){return this.Ha[c].Y(g)}k_(){const c=this.Ha;if(!c.length)throw Error("no parameters");
return c[0].Y8()}ia(){if(!this.Ab||!this.Ab.size)return null;const c={};for(const [g,m]of this.Ab.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].bd,l[1].bd,l[2]]));c[g]=h}return{ex:c}}na(c){this.Ab&&(this.Ab.clear(),this.Ab=null);if(c){var g=this.g,m=c.ex;if(m){c=this.yi();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=d.A(d.Qt,l.map(n=>[g.Gj(n[0]),g.Gj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const d=self.B;function a(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].Y(0)}const b=[],e=function(){},c=function*(){};d.Fx=class extends d.ea{constructor(g,m,h){super();this.Td=g;this.g=g=g.H();this.Ma=h;this.eb=4<=m.length?m[3]:-1;this.eA=5<=m.length?m[4]:0;this.Uc=this.K=this.Ga=null;this.Ti=-1;this.Ed=null;this.sA="";this.Al=this.rA=null;this.jb=this.pa=e;this.Ha=[];this.rb=[];this.wl=!1;this.ei=this.Ab=null;const l=(h=-3===m[0])?m[2]:m[5];this.Pa=g.qb||h?{ed:l[0],Bf:l[1],index:l[2]}:
null;-1===m[0]?(this.Ed=g.zt(),this.Ga=g.ph(m[1])):-2===m[0]?this.sA=m[1]:h?(this.Ga=g.ph(m[1]),this.pa=this.oF,this.jb=this.kY,this.eA=1):(this.Ga=g.ph(m[1]),this.K=g.cf(m[0]),m[2]&&(this.Uc=this.K.gy(m[2]),this.Ti=this.K.it(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ha.push(d.De.Na(this,n,this.Ha.length)),this.rb.push(0)}0===this.Ha.length&&(this.rb=this.Ha=b);this.Td.ka().waa(this)}static Na(g,m,h){return d.A(d.Fx,g,m,h)}Ob(){for(var g of this.Ha)g.Ob(),g.We&&(this.wl=!0);if(this.Ed)this.aH(),
this.jb=this.gG;else if(this.sA)this.Bba(),this.sA="";else if(this.pa===this.oF){g=this.Ga;const m=this.g.ka().LQ(this.Td);this.Ga=g.bind(null,this.g.bj,m)}else this.Uc?this.wg()?(this.pa=this.OR,this.jb=this.S7):(this.pa=this.NR,this.jb=this.R7):this.K.sb().gn?(this.ZG(),this.jb=this.fG):this.wg()?(this.pa=this.SR,this.jb=this.Y7):this.Ha.length?this.Ha.every(m=>m.We)?(this.pa=this.RR,this.jb=this.X7):this.wl?(this.pa=this.UR,this.jb=this.a8):this.Ha.every(m=>m.pb)?(a(this.Ha,this.rb),this.pa=this.OG,
this.jb=this.hQ):(this.pa=this.TR,this.jb=this.Z7):(this.pa=this.OG,this.jb=this.hQ)}aH(){this.Ku(this.Ed,this.Ed,this.QG)}ZG(){const g=this.K.sb(),m=this.K.Ai().ma;this.Ku(g,m,this.PG)}Bba(){const g=this.Td.ka(),m=g.ry(this.sA);m.Bm()?(this.rA=m.Ae(),this.Al=[...new Set([...this.Td.Ad(),...this.rA.Ad()])],this.Al=g.Fz(this.Al),this.pa=d.Sk.prototype.n4.bind(this.rA,this.Al,this.Ha),this.jb=this.T7):(this.pa=e,this.jb=c)}Ku(g,m,h){const l=this.Ga,n=this.Ha;if(0===n.length)this.pa=g.ek(l,m);else if(1===
n.length){const p=n[0];if(p.pb)this.pa=g.CQ(l,m,p.Y(0));else{const q=g.ek(l,m);this.pa=function(){return q(p.Y(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.pb&&q.pb)this.pa=g.DQ(l,m,p.Y(0),q.Y(0));else{const u=g.ek(l,m);this.pa=function(){return u(p.Y(0),q.Y(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.pb&&q.pb&&u.pb)this.pa=g.EQ(l,m,p.Y(0),q.Y(0),u.Y(0));else{const w=g.ek(l,m);this.pa=function(){return w(p.Y(0),q.Y(0),u.Y(0))}}}else this.pa=h}wg(){return 1===this.eA}VL(){return 2===
this.eA}s0(){return 0!==this.eA}I(){return this.K}Ae(){return this.Td}H(){return this.g}Fa(){return this.Ma}GM(){return this.Pa.index}we(){return!this.Pa.ed&&!this.g.tc()&&!this.Pa.Bf}yi(){this.Ab||(this.Ab=new Map);return this.Ab}Ct(){this.ei||(this.ei=new Map);return this.ei}QG(){const g=this.rb;a(this.Ha,g);return this.Ga.apply(this.Ed,g)}*gG(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){const g=this.rb;a(this.Ha,g);return yield*this.Ga.apply(this.Ed,g)}return this.pa()}*T7(){if(this.Pa.ed||
this.g.tc())yield this;return yield*this.rA.fY(this.Al,this.Ha)}PG(){const g=this.rb;a(this.Ha,g);return this.Ga.apply(this.K.Ai().ma,g)}*fG(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){const g=this.rb;a(this.Ha,g);return yield*this.Ga.apply(this.K.Ai().ma,g)}return this.pa()}OG(){const g=this.rb,m=this.K.R().la();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].ma,g)}*hQ(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){const g=this.rb,m=this.K.R().la();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].ma,
g)}else this.OG()}TR(){const g=this.rb;a(this.Ha,g);const m=this.K.R().la();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].ma,g)}*Z7(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){const g=this.rb;a(this.Ha,g);const m=this.K.R().la();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].ma,g)}else this.TR()}RR(){const g=this.Ha,m=this.rb,h=this.Ga,l=this.K.R().la();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].Y(n);h.apply(q.ma,m)}}*X7(){if(this.Pa.ed||
this.g.tc())yield this;if(this.Pa.Bf){const g=this.Ha,m=this.rb,h=this.Ga,l=this.K.R().la();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].Y(n);yield*h.apply(q.ma,m)}}else this.RR()}UR(){const g=this.Ha,m=this.rb,h=this.Ga,l=this.K.R().la();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.We||(m[p]=n.Y(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,w=g.length;u<w;++u){const r=g[u];r.We&&(m[u]=r.Y(p))}h.apply(n.ma,m)}}*a8(){if(this.Pa.ed||this.g.tc())yield this;
if(this.Pa.Bf){const m=this.Ha,h=this.rb,l=this.Ga,n=this.K.R().la();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.We||(h[p]=g.Y(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const r=m[u];r.We&&(h[u]=r.Y(p))}yield*l.apply(g.ma,h)}}else this.UR()}NR(){var g=this.K;const m=g.Wa,h=g.Nh,l=this.Ha,n=this.wl,p=this.rb,q=this.Ga,u=this.Ti;g=g.R().la();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.We||(p[v]=w.Y(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=l.length;A<
G;++A){var r=l[A];r.We&&(p[A]=r.Y(v))}r=m?w.I().eo(h):0;q.apply(w.kd[u+r].ma,p)}}*R7(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){var g=this.K;const l=g.Wa,n=g.Nh,p=this.Ha,q=this.wl,u=this.rb,w=this.Ga,r=this.Ti;g=g.R().la();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.We||(u[v]=m.Y(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.We&&(u[A]=h.Y(v))}h=l?m.I().eo(n):0;yield*w.apply(m.kd[r+h].ma,u)}}else this.NR()}SR(){const g=this.Ha,m=this.rb,
h=this.Ga,l=this.K.R().la(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].Y(p);n.push(h.apply(u.ma,m))}return Promise.all(n)}*Y7(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){const g=this.Ha,m=this.rb,h=this.Ga,l=this.K.R().la(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let w=0,r=g.length;w<r;++w)m[w]=g[w].Y(p);n.push(yield*h.apply(u.ma,m))}return Promise.all(n)}return this.SR()}OR(){var g=this.K;const m=g.Wa,h=g.Nh,l=this.Ha,n=this.rb,
p=this.Ga,q=this.Ti;g=g.R().la();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.I().eo(h):0;u.push(p.apply(v.kd[q+y].ma,n))}return Promise.all(u)}*S7(){if(this.Pa.ed||this.g.tc())yield this;if(this.Pa.Bf){var g=this.K;const m=g.Wa,h=g.Nh,l=this.Ha,n=this.rb,p=this.Ga,q=this.Ti;g=g.R().la();const u=[];for(let w=0,r=g.length;w<r;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(w);const y=m?v.I().eo(h):0;u.push(yield*p.apply(v.kd[q+
y].ma,n))}return Promise.all(u)}return this.OR()}async oF(){try{await this.Ga()}catch(g){console.error(`Unhandled exception running script %c${this.Td.Xc.ya()}, event ${this.Td.Cr}, action ${this.GM()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.pg&&self.pg.Wba(this),d.by.f0()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.by.c5())}}*kY(){if(this.Pa.ed||
this.g.tc())yield this;return this.oF()}ia(){return this.Ab&&this.Ab.size?{ex:d.QF(this.Ab)}:null}na(g){this.Ab&&(this.Ab.clear(),this.Ab=null);g&&(g=g.ex)&&(this.Ab=d.UD(g))}}}
{"use strict";const d=self.B,a=new d.$a;function b(L,O){return d.compare(this.m().fa(),L,O)}function e(L,O){return d.compare(this.m().ga(),L,O)}function c(){const L=this.m(),O=L.Z();return O.uq()?L.yq(O.br()):L.DN(O.jg,L.fc().oN(),L.fc().sf)}function g(){var L=this.m();const O=L.fc();L=L.Qc();return 0>L.ja||0>L.ba||L.X>O.ca()||L.U>O.aa()}function m(L,O,U){const aa=this.R(),ha=aa.la();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=d.EV(ja.fa(),ja.ga(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=d.EV(ja.fa(),ja.ga(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Im(ua);return!0}function h(L){const O=this.m();O.fa()!==L&&(O.Dg(L),O.Da())}function l(L){const O=this.m();O.ga()!==L&&(O.Bh(L),O.Da())}function n(L,O){const U=this.m();U.xZ(L,O)||(U.Eg(L,O),U.Da())}function p(L,O){if(L&&(L=L.P_(this.T))){var [U,aa]=L.io(O);O=this.m();if(O.fa()!==U||O.ga()!==aa)O.Eg(U,aa),O.Da()}}function q(L){if(0!==L){var O=this.m();O.Pt(O.$D()*L,O.pE()*L);O.Da()}}function u(L,
O){if(0!==O){var U=this.m();L=d.ib(L);U.Pt(Math.cos(L)*O,Math.sin(L)*O);U.Da()}}function w(){return this.m().fa()}function r(){return this.m().ga()}function v(){return this.g.my(this.T)}function y(L,O){return d.compare(this.m().ca(),L,O)}function A(L,O){return d.compare(this.m().aa(),L,O)}function G(L){const O=this.m();O.ca()!==L&&(O.Ki(L),O.Da())}function z(L){const O=this.m();O.aa()!==L&&(O.Gi(L),O.Da())}function F(L,O){const U=this.m();if(U.ca()!==L||U.aa()!==O)U.sd(L,O),U.Da()}function H(){return this.m().ca()}
function J(){return this.m().aa()}function M(){return this.m().Qc().X}function P(){return this.m().Qc().U}function R(){return this.m().Qc().ja}function T(){return this.m().Qc().ba}function Z(L,O){return d.Es(this.m().Ia(),d.ib(O))<=d.ib(L)}function X(L){return d.Af(this.m().Ia(),d.ib(L))}function ba(L,O){L=d.ib(L);O=d.ib(O);const U=this.m().Ia();return d.Af(O,L)?d.Af(U,L)&&!d.Af(U,O):!(!d.Af(U,L)&&d.Af(U,O))}function Y(L){const O=this.m();L=d.ue(d.ib(L));isNaN(L)||O.Ia()===L||(O.Ec(L),O.Da())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.Ec(O.Ia()+d.ib(L));O.Da()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.Ec(O.Ia()-d.ib(L));O.Da()}}function ya(L,O){const U=this.m(),aa=U.Ia();L=d.IK(aa,d.ib(O),d.ib(L));isNaN(L)||aa===L||(U.Ec(L),U.Da())}function Na(L,O,U){const aa=this.m(),ha=aa.Ia();O-=aa.fa();U-=aa.ga();L=d.IK(ha,Math.atan2(U,O),d.ib(L));isNaN(L)||ha===L||(aa.Ec(L),aa.Da())}function Sa(L,O){const U=this.m(),aa=U.Ia();L-=U.fa();O-=U.ga();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Ec(O),U.Da())}function Ta(){return d.Gf(this.m().Ia())}
function Ua(L,O){return d.compare(d.gD(100*this.m().Ce()),L,O)}function Wa(){return this.m().Rc()}function eb(L){const O=this.m();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&(O.Ah(L),this.g.$())}function fb(L){L=d.da(L/100,0,1);const O=this.m();O.Ce()!==L&&(O.Zj(L),this.g.$())}function Pa(L){a.Ps(L);L=this.m();L.bb.lm(a)||(L.rP(a),this.g.$())}function Va(){const L=this.m().bb;return d.az(L.Sa,L.Va,L.Ua,L.Ta)}function ib(){return d.gD(100*this.m().Ce())}function Ya(L){return L?this.m().Z()===L:!1}function vb(L){const O=
this.R(),U=O.la();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.Z().Fa(),Ga=ka.Z().Fa();if(0===L){if(wa>Ga||wa===Ga&&ua.Qj()>ka.Qj())aa=ja}else if(wa<Ga||wa===Ga&&ua.Qj()<ka.Qj())aa=ja}O.Im(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.ab():aa.ff();return d.compare(L,O,U)}function jb(){this.m().L6()}function xb(){this.m().J6()}function yb(L){L&&this.m().K6(L)}function zb(L,O){L=0===L;O&&(O=O.NM(this.za()))&&this.m().I6(O,
L)}function Ab(L){const O=this.m();O.ab()!==L&&(O.kf(L),this.g.$())}function Bb(){return this.m().Z().Fa()}function Cb(){return this.m().Z().ya()}function Db(){return this.m().Qj()}function kb(){return this.m().ab()}function Eb(){return this.m().ff()}function Fb(L,O){if(O=this.I().La.Vk(O)){O=O.Fa();L=1===L;var U=this.m().ag;U.Ht(O)!==L&&(U.VO(O,L),U.Dh(),this.g.$())}}function Gb(L,O,U){var aa=this.I().La.Vk(L);if(aa){L=aa.Fa();var ha=this.m().ag,fa=ha.Uk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Of().zy(O);if("color"===aa){a.Ps(U);O=fa[O];if(a.lm(O))return;O.rj(a)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Ht(L)&&this.g.$()}}}const lb=d.A(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.bd<U.bd?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.bd<U.bd?L.$n(O,U):L.$n(U,O)}function qa(L,O,U){return O.bd<U.bd?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.za();const ha=0!==U||0!==aa,fa=L.m(),ja=L.H(),ua=ja.Hh;var ka=ja.If();
const wa=ka.Ae().Md;var Ga=ka.I();ka=ka.ej;const Ia=O.R();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Vb?(lb.oa(fa.Qc()),lb.offset(U,aa),ua.jy(fa.Z(),O,lb,mb),O=mb):wa?ja.xN()&&!Ia.Zb.length&&Ia.F.length?O=Ia.F:(O=Ia.Zb,ob=!0):O=Ia.F;ha&&(db=fa.fa(),Ha=fa.ga(),fa.Pt(U,aa),fa.Da());for(const da of O)if(ua.Mo(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Eg(db,Ha),fa.Da());d.D(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.H().Eb().Md;O=Za.R();const U=O.F,aa=O.Zb;O.Vb?(O.fu(Qa),L&&(d.D(aa),
O.KL(Qa,Za.la()))):L?ob?O.e6(Qa):(O.KL(Qa,U),O.fu(Qa)):O.fu(Qa);Za.ec()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.le)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Hh,aa=O.ka(),ha=aa.fd();var fa=aa.If();const ja=fa.I();var ua=fa.yi(),ka=fa.Ct();fa=ha.bf();const wa=O.Dk,Ga=wa-1,Ia=fa.Eb(),db=ha.Oa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.A(d.Qt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Lb().addEventListener("instancedestroy",
Ra=>{Ha.nM(Ra.instance)}));O=L.R();ua=ja.R().la();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Vb?(U.jy(Ea.m().Z(),L,Ea.m().Qc(),Xa),ka=Xa,U.OL(Ea,L,ka)):ka=O.la();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Mo(Ea,La)||U.XL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Ee(ma),na=ja.R(),da=L.R(),na.he(!1),da.he(!1),ja===L?(da=na.F,d.D(da),da.push(Ea),da.push(La),ja.ec()):(na=na.F,da=da.F,d.D(na),d.D(da),
na.push(Ea),da.push(La),ja.ec(),L.ec()),Ia.zg(fa,db),aa.Nb(ma))}else qb(Ha,Ea,La)}d.D(Xa)}ha.Ka();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Hh,aa=O.ka(),ha=aa.fd();var fa=aa.If();const ja=fa.I();var ua=fa.yi(),ka=fa.Ct();fa=ha.bf();const wa=O.Dk,Ga=wa-1,Ia=fa.Eb(),db=ha.Oa(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.A(d.Qt),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Lb().addEventListener("instancedestroy",Ra=>
{Ha.nM(Ra.instance)}));O=L.R();ua=ja.R().la();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Vb?(U.jy(Ea.m().Z(),L,Ea.m().Qc(),Xa),ka=Xa,U.OL(Ea,L,ka)):ka=O.la();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Mo(Ea,La)||U.XL(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.zd(),aa.Ee(ma),na=ja.R(),da=L.R(),na.he(!1),da.he(!1),ja===L?(da=na.F,d.D(da),da.push(Ea),da.push(La),ja.ec()):(na=na.F,da=da.F,d.D(na),d.D(da),
na.push(Ea),da.push(La),ja.ec(),L.ec()),yield*Ia.rg(fa,db),aa.Nb(ma))}else qb(Ha,Ea,La)}d.D(Xa)}ha.Ka();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().Rj()}function rb(){return this.m().gf()}function sb(L,O){const U=this.R().la();if(0===U.length)return!1;const aa=L.R();var ha=aa.la();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.wx())wa.eq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ca(),null===ja)continue}else ja=ja.Iy();ja.eq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.fu(fa);L.ec();return!0}function tb(L,O){const U=this.R().la();if(0===U.length)return!1;const aa=L.R();var ha=aa.la();if(aa.Vb){var fa=[...this.g.aL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.gf()&&ka.eq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Mk())2===O&&wa.gf()||wa.eq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.fu(fa);L.ec();return!0}function ub(L,O){const U=this.R().la();if(0===U.length)return!1;const aa=L.R();var ha=aa.la();if(aa.Vb){var fa=[...this.g.aL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].ZD(O);null!==ka&&ka.eq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Xt(fa);L.ec();return!0}function gb(L,O){return d.compare(this.T.iy(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.T,wa=this.g.mt().I();for(const Ga of L.sV(ka,wa)){if(!Ga.sb().XU)break;ka.rm(Ga,{Ss:O,Ts:U,aq:aa,$p:ha,Rs:fa,Us:ja,hx:ua})}}function k(L){const O=this.T,U=this.g.mt().I();for(const aa of L.sV(O,U))O.Wj(aa)}function t(){this.T.Rj()&&this.T.Ca().Wj(this.T)}function x(){return this.T.iy()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.gz(),U.Da()):U.LD(L,O)}function D(L,O,U,aa,ha,fa,ja,ua){const ka=
this.m();ka.hP(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Ex:fa,AW:ja,EW:ua})&&ka.Da()}function E(){const L=this.m();return L.Qf()?L.Nj().sk:0}function I(){const L=this.m();return L.Qf()?L.Nj().Hk:0}function K(L){const O=this.m();L=2===L?!O.Rc():0!==L;O.Rc()!==L&&O.Ah(L)}function N(L,O){this.U4(L,O)}function Q(L,O){this.T4(L,""+O)}function S(L){this.U3(L)}function W(){this.yM()}function V(){this.RL()}function ea(){return this.cI}function ia(L){this.Hu(0!==L)}function ca(){return this.Ug}function oa(L,
O,U){return d.compare(this.za().Be(L),O,U)}function la(L){return!!this.za().Be(L)}function ra(L,O){const U=this.R(),aa=U.la();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.Be(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.Be(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Im(fa);return!0}function sa(L){if(this.g.If().ej){{const aa=this.R();if(aa.Vb){aa.he(!1);aa.Px();var O=this.la();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.bd===L?aa.sl(U):aa.To(U)}this.ec();L=!!aa.F.length}else{O=
aa.F;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.bd===L?aa.sl(ja):++U}d.Ye(O,U);this.ec();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.H().Gj(O);if(!O)return!1;const U=L.R();if(!U.Vb&&!U.F.includes(O))return!1;if(L.Wa){if(O.I().AD(L))return U.Im(O),L.ec(),!0}else if(O.I()===L)return U.Im(O),L.ec(),!0;return!1}function za(){this.g.ao(this.T)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.za().Nm(L,O)}function Fa(L,O){const U=this.za(),aa=
U.Be(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Nm(L,aa+O)}function Ja(L,O){const U=this.za(),aa=U.Be(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Nm(L,aa-O))}function Ka(L,O){this.za().Nm(L,O?1:0)}function Da(L){const O=this.za();O.Nm(L,0===O.Be(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.za();L.Pz("state");L.qd(O,"state")}
function Ib(){return JSON.stringify(this.za().Cd("state"))}function nc(){return this.za().I().ya()}function oc(){const L=this.g.$e().iI;let O=L.F.length;for(const U of this.g.aL(L))++O;return O}function pc(){return this.g.$e().iI.R().la().length}function qc(){return this.T.ho()}function rc(){return this.T.bd}d.NW=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.G,da=O.Cb,na=O.Db;L[3]&&(ma.Xha=b,ma.Yha=e,ma.dka=c,ma.hka=g,
ma.u3=m,da.Dg=h,da.Bh=l,da.p5=n,da.Loa=p,da.Yka=q,da.Xka=u,na.Bz=w,na.VF=r,na.HV=v);aa&&(ma.Wha=y,ma.Nha=A,da.Ki=G,da.Gi=z,da.sd=F,na.B6=H,na.x0=J,na.gha=M,na.iha=P,na.hha=R,na.fha=T);ha&&(ma.$W=Z,ma.w1=X,ma.v1=ba,da.Ec=Y,da.yna=va,da.zna=ta,da.Ana=ya,da.Bna=Na,da.w5=Sa,na.Wga=Ta);fa&&(ma.Rc=Wa,ma.Oha=Ua,da.Ah=eb,da.Zj=fb,da.Yna=Pa,na.Opacity=ib,na.Gha=Va);ja&&(ma.Zja=Ya,ma.$la=vb,ma.Zha=wb,da.o2=jb,da.Zka=xb,da.$ka=yb,da.jqa=zb,da.kf=Ab,na.Bka=Bb,na.Aka=Cb,na.iqa=Db,na.hqa=kb,na.zpa=Eb);ua&&(da.$na=
Fb,da.aoa=Gb);Ia&&(ma.Rj=Rb,ma.gf=rb,ma.Yla=sb,ma.Sla=tb,ma.Wla=ub,ma.Lha=gb,da.rm=f,da.Wj=k,da.Ama=t,na.Bha=x);db&&(da.Hoa=C,da.hP=D,na.Ska=E,na.Tka=I);ka&&(ma.Rc=Wa,da.Ah=K,da.Vna=N,da.boa=Q,da.zma=S);wa&&(ma.Jja=ea,da.eoa=W,da.Tna=V);Ga&&(ma.Bm=ca,da.V4=ia);Ha&&(ma.qla=Nb,ma.ika=Pb,ma.jka=Qb,O.JZ=Mb);U||(ma.OX=oa,ma.tN=la,ma.Tla=ra,ma.t3=sa,da.bP=Ca,da.Qga=Fa,da.ppa=Ja,da.K4=Ka,da.vpa=Da,ma.bO=Aa,ma.D2=Ba,da.pia=za,da.XE||(da.XE=Hb),na.gX||(na.gX=Ib),na.gia=oc,na.ama=pc,na.gja=qc,na.j6=rc,na.lla=
nc)}}
{"use strict";const d=self.B;d.qF=class extends d.ea{constructor(a){super();this.ta=a;this.xa="";this.cc=-1;this.Aw="";this.vB=!1;this.Zi=null;this.Vf=0;this.Te=[];this.Np=new Map;this.yl=null;this.Ru=-1;this.pI=this.Sg=null;this.zw=!1}j(){this.xa="";this.cc=-1;this.Aw="";this.pI=this.Sg=this.yl=this.Zi=null;this.Ru=-1;d.D(this.Te);for(const a of this.Np.values())a.j();this.Np.clear()}Ig(){var a=this.ta,b=a.H().Tc;const e=a.$e();this.Zi=e.Eb();this.Vf=e.Vf+1;if(a=a.TD(this.Zi))this.yl=a,this.Sg=a.CX(),
this.pI=a.DI.map(c=>c.ub()),a.wg()&&(this.Ru=a.s3());for(const c of b)if(b=c.R(),!b.Vb||this.Zi.u0(c))this.Te.push(c),this.Np.set(c,d.A(d.vP,b))}n1(a){this.xa="timer";this.Ig();this.cc=this.ta.H().fo()+a}l1(a){this.xa="signal";this.Ig();this.Aw=a.toLowerCase()}$0(a){this.xa="promise";this.Ig();a.then(()=>this.BF()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.BF()})}L1(){return"timer"===this.xa}J1(){return"signal"===this.xa}F1(){return"promise"===
this.xa}BF(){this.vB=!0}lS(){return this.L1()?this.cc<=this.ta.H().fo():this.vB}LR(a){a.NG(this.Zi,this.Vf);for(const [b,e]of this.Np.entries())e.NG(b.R());if(a=this.yl)a.bu(this.Sg),a.DI.map((b,e)=>b.Ge(this.pI[e])),a.wg()&&a.m4(this.Ru)}Saa(a){this.LR(a);this.Zi.Raa(a);this.yl&&this.yl.wg()&&this.yl.Mt(this.Ru);this.ta.gq(this.Te);this.zw=!0}async O7(a){this.LR(a);for(const b of this.Zi.N7(a))await this.ta.H().hq(b);this.yl&&this.yl.wg()&&this.yl.Mt(this.Ru);this.ta.gq(this.Te);this.zw=!0}Do(a){for(const b of this.Np.values())b.Do(a)}ia(){const a=
{},b={t:this.cc,st:this.Aw,s:this.vB,ev:this.Zi.eb,sm:this.Te.map(e=>e.eb),sols:a};this.Zi.t9(this.Vf)&&(b.act=this.Zi.BM(this.Vf).eb);for(const [e,c]of this.Np)a[e.eb.toString()]=c.ia();return b}static t7(a,b){const e=a.H();var c=a.f_(b.ev);if(!c)return null;let g=0;if(b.hasOwnProperty("act")){var m=a.PZ(b.act);if(!m)return null;g=m.Fa()}m=d.A(d.qF,a);m.cc=b.t;m.xa=-1===m.cc?"signal":"timer";m.Aw=b.st;m.vB=b.s;m.Zi=c;m.Vf=g;for(var h of b.sm)(c=e.yy(h))&&m.Te.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.yy(parseInt(l,10)))h=d.A(d.vP,null),h.na(a,n),m.Np.set(b,h);return m}}}{"use strict";const d=self.B;d.vP=class extends d.ea{constructor(a){super();this.K=null;this.uB=!0;this.F=[];a&&(this.K=a.I(),this.uB=a.Vb,d.Nc(this.F,a.F))}j(){this.K=null;d.D(this.F)}NG(a){a.he(this.uB);d.Nc(a.F,this.F)}Do(a){d.mg(this.F,a)}ia(){return{sa:this.uB,insts:this.F.map(a=>a.bd)}}na(a,b){a=a.H();this.uB=!!b.sa;d.D(this.F);for(const e of b.insts)(b=a.Gj(e))&&this.F.push(b)}}}
{"use strict";const d=self.B;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Km=class extends d.ea{constructor(b){super();this.g=b.Ff;this.gn=!!b.SV;this.tf=!!b.ufa;this.Mda=!!b.tfa;this.Uda=!!b.Gfa;this.zda=!!b.jfa;this.XU=!!b.gga;this.nea=!!b.fga;this.LU=null;this.HS=new Map;this.cda=new Map;this.dda=new Map;this.eda=new Map}j(){this.g=null}H(){return this.g}rd(){}vo(){return this.Mda}Cq(){return this.Uda}xE(){return this.zda}ek(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.HS.get(b);if(c)return c;c=b.bind(e);this.HS.set(b,c);return c}CQ(b,e,c){if(!e)throw Error("missing 'this' binding");const g=a(this.cda,b);let m=g.get(c);if(m)return m;m=b.bind(e,c);g.set(c,m);return m}DQ(b,e,c,g){if(!e)throw Error("missing 'this' binding");var m=a(this.dda,b);m=a(m,c);let h=m.get(g);if(h)return h;h=b.bind(e,c,g);m.set(g,h);return h}EQ(b,e,c,g,m){if(!e)throw Error("missing 'this' binding");var h=a(this.eda,b);h=a(h,c);h=a(h,g);let l=h.get(m);if(l)return l;l=b.bind(e,c,g,
m);h.set(m,l);return l}dca(b){if(!this.gn)throw Error("must be single-global plugin");this.LU=b}Ai(){if(!this.gn)throw Error("must be single-global plugin");return this.LU.Ai()}}}
{"use strict";const d=self.B;d.Ena=class extends d.Km{constructor(a,b){super(a);this.an=b;this.Xda=0;this.EI=new Map;this.JL("elem-focused",e=>e.N$());this.JL("elem-blurred",e=>{e&&e.M$()})}j(){super.j()}Q6(a){const b=this.Xda++;this.EI.set(b,a);return b}Iaa(a){this.EI.delete(a)}JL(a,b){this.g.mi(this.an,a,e=>{const c=this.EI.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.B;d.Kq=class extends d.ea{constructor(a){super();this.K=a;this.g=a.H();this.Xh=a.sb()}j(){this.Xh=this.g=this.K=null}I(){return this.K}H(){return this.g}sb(){return this.Xh}Jf(){return this.K.Jf()}et(){}Bq(){}Co(){}$y(){}dF(){}Mj(){return null}}}
{"use strict";const d=self.B;d.Jq=class extends d.ea{constructor(a,b){super();this.T=a;this.an=b;this.g=a.H();this.K=this.T.I();this.Mc=this.K.Mc;this.ss=this.dm=null;this.Pv=this.Nl=!1;this.td=null;this.ax=!1}j(){this.ax=!0;this.ir();this.dH();this.ss=this.dm=null;this.td&&(this.td.j(),this.td=null);this.Mc=this.K=this.g=this.T=null}zz(){return this.ax}za(){return this.T}H(){return this.g}I(){return this.K}sb(){return this.Mc.sb()}sq(){return this.T.oh()}ra(a){return this.g.ra(a,this.T,null)}hd(a){return this.g.hd(a,
this.T,null)}tD(a,b){this.g.mi(this.an,a,b)}IL(a){for(const [b,e]of a)this.tD(b,e)}vh(a,b){this.g.il(this.an,a,b)}bz(a,b){return this.g.yo(this.an,a,b)}fk(a,b){this.g.me?this.vh(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.an,handler:a,data:b,responseId:null})}Ie(){}kk(){this.Nl||(this.dm||(this.dm=()=>this.Ie()),this.g.Lb().addEventListener("tick",this.dm),this.Nl=!0)}ir(){this.Nl&&(this.g.Lb().removeEventListener("tick",this.dm),this.Nl=!1)}dH(){this.Pv&&(this.g.Lb().removeEventListener("tick2",
this.ss),this.Pv=!1)}Cd(){return null}qd(){}Cc(){}yh(){}ZE(a,b){if(0!==b){var e=this.Cc(a);if("number"!==typeof e)throw Error("expected number");this.yh(a,e+b)}}Mj(){return null}OD(a,b,e){const c=this.sq();a=d.A(d.Event,a,b);a.instance=c;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.pF=class extends d.Jq{constructor(a,b){super(a,b);this.Ra=a.m();this.MC=this.Bs=null}j(){if(this.Bs){const a=this.g.Lb();a.removeEventListener("webglcontextlost",this.Bs);a.removeEventListener("webglcontextrestored",this.MC);this.MC=this.Bs=null}this.Ra=null;super.j()}g0(){if(!this.Bs){this.Bs=()=>this.Dq();this.MC=()=>this.mO();var a=this.g.Lb();a.addEventListener("webglcontextlost",this.Bs);a.addEventListener("webglcontextrestored",this.MC)}}Dq(){}mO(){}m(){return this.Ra}uo(){return!1}Jj(){if(!this.uo())throw Error("original size not known");
const a=this.nh();if(a)return a.ca()}Ij(){if(!this.uo())throw Error("original size not known");const a=this.nh();if(a)return a.aa()}nh(){return null}aE(){var a=this.nh();return a&&(a=a.fe())?[a.ca(),a.aa()]:[100,100]}bE(){const a=this.nh();return a?a.Oj():null}JE(){const a=this.nh();return a?a.yp:!1}io(){const a=this.T.m();return[a.fa(),a.ga()]}Hq(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Rect);d.Dna=class extends d.pF{constructor(b,e){super(b,e);this.GA=this.sb().Q6(this);this.KT=!0;this.Zca=this.cI=!1;this.Rr=d.A(d.Rect,0,0,-1,-1);b=this.g.M;this.aU=b.qj;this.$T=b.pj;this.kk()}j(){this.sb().Iaa(this.GA);this.Eq("destroy");this.GA=-1;super.j()}Eq(b,e){e||(e={});e.elementId=this.GA;this.vh(b,e)}BR(b){b||(b={});b.elementId=this.GA;this.fk("focus",b)}mz(b){b=!!b;this.KT!==b&&(this.KT=b,this.Eq("set-visible",{isVisible:b}))}Ie(){this.Gca()}mca(){const b=
this.g.M.qy();return"Android"===d.Mb.uh&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}Gca(){var b=this.m();const e=b.Z();var c=b.fa(),g=b.ga();let [m,h]=e.xo(c,g),[l,n]=e.xo(c+b.ca(),g+b.aa());c=this.g.M;g=c.Hc;const p=c.yc;if(b.Rc()&&e.Rc()){if(!this.mca()){if(0>=l||0>=n||m>=g||h>=p){this.mz(!1);return}1>m&&(m=1);1>h&&(h=1);l>=g&&(l=g-1);n>=p&&(n=p-1)}a.set(m,h,l,n);b=c.qj;g=c.pj;a.od(this.Rr)&&this.aU===b&&this.$T===g?this.mz(!0):(this.Rr.oa(a),this.aU=b,this.$T=g,this.mz(!0),b=null,this.Zca&&
(b=e.Dj()-.2),this.Eq("update-position",{left:Math.round(this.Rr.X)+c.kt(),top:Math.round(this.Rr.U)+c.lt(),width:Math.round(this.Rr.width()),height:Math.round(this.Rr.height()),fontSize:b}))}else this.mz(!1)}yM(){this.BR({focus:!0})}RL(){this.BR({focus:!1})}N$(){this.cI=!0}M$(){this.cI=!1}U4(b,e){this.Eq("set-css-style",{prop:d.uX(b),val:e})}T4(b,e){this.Eq("set-attribute",{name:b,val:e})}U3(b){this.Eq("remove-attribute",{name:b})}}}
{"use strict";const d=self.B,a=self.A0;d.s4=class extends d.ea{constructor(b){super();this.g=b.Ff;this.wJ=d.A(d.yD);this.SB=d.A(d.yD);this.Bv=null;this.hea=b.eta||null}j(){this.SB.j();this.wJ.j();this.g=null}H(){return this.g}rd(){}R6(b){this.wJ.Oc(b)}lE(){return this.wJ.WD()}Hg(b){this.SB.Oc(b)}Uo(b){this.SB.$n(b)}la(){return this.SB.WD()}t_(){if(null===this.Bv){const b=this.hea;if(b){if(this.Bv=new b(this),!(this.Bv instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Bv=new a(this)}return this.Bv}}}{"use strict";const d=self.B;d.u4=class extends d.ea{constructor(a){super();this.g=a.H();this.Uc=a;this.K=a.I();this.Si=a.um();this.Si.R6(this.K)}j(){this.Si=this.K=this.Uc=this.g=null}tg(){return this.Uc}I(){return this.K}H(){return this.g}um(){return this.Si}}}
{"use strict";const d=self.B;d.t4=class extends d.ea{constructor(a,b){super();this.oA=a;this.an=b;this.T=a.T;this.g=a.H();this.Uc=a.tg();this.Mc=this.Uc.Mc;this.OT=this.Pv=this.Nl=!1;this.td=null}j(){this.ir();this.dH();this.sca();this.td&&(this.td.j(),this.td=null);this.Mc=this.Uc=this.g=this.T=this.oA=null}um(){return this.Uc.um()}I(){return this.T.I()}m(){return this.T.m()}H(){return this.g}tg(){return this.Uc}sq(){return this.oA.sq()}ra(a){return this.g.ra(a,this.T,this.Uc)}hd(a){return this.g.hd(a,
this.T,this.Uc)}Ie(){}kk(){this.Nl||(this.g.M6(this),this.Nl=!0)}ir(){this.Nl&&(this.g.Faa(this),this.Nl=!1)}dH(){this.Pv&&(this.g.Gaa(this),this.Pv=!1)}sca(){this.OT&&(this.g.Eaa(this),this.OT=!1)}tD(a,b){this.g.mi(this.an,a,b)}Cd(){return null}qd(){}Cc(){}yh(){}ZE(a,b){if(0!==b){var e=this.Cc(a);if("number"!==typeof e)throw Error("expected number");this.yh(a,e+b)}}Mj(){return null}OD(a,b,e){const c=this.sq();a=d.A(d.Event,a,b);a.uqa=c;a.instance=c.instance;e&&Object.assign(a,e);c.dispatchEvent(a)}}}
{"use strict";const d=self.B;d.C={};d.og={};d.v3=class extends d.ea{constructor(a){super();this.g=a;this.Wca=[];this.xU=new Map;this.Ed=null;this.Tca=[];this.FH=new Map;this.UT=this.ZJ=null}bY(a){const b=this.g.ph(a[0]);if(!b)throw Error("missing plugin");d.NW(a,b);a=d.A(b,{Ff:this.g,SV:a[1],ufa:a[2],tfa:a[5],jfa:a[8],Gfa:a[9],gga:a[13],fga:a[14]});a.rd();this.Wca.push(a);this.xU.set(b,a)}dY(){this.Ed=d.A(d.C.Qa,{Ff:this.g,SV:!0});this.Ed.rd()}XX(a){a=this.g.ph(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{Ff:this.g});b.rd();this.Tca.push(b);this.FH.set(a,b);!this.ZJ&&d.og.dga&&b instanceof d.og.dga?this.ZJ=b:!this.UT&&d.og.wfa&&b instanceof d.og.wfa&&(this.UT=b)}R_(a){return this.xU.get(a)||null}n0(a){return this.FH.has(a)}TZ(a){return this.FH.get(a)||null}zt(){return this.Ed}qE(){return this.ZJ}}}
{"use strict";const d=self.B,a=new Set;d.Py=class extends d.ea{constructor(){super();this.Gk="";this.P=this.V=this.jw=this.iw=this.ks=0;this.yv=this.yp=!1;this.pf=null;this.cm="";this.dg=d.A(d.Rect);this.Jp=d.A(d.Bd);a.add(this)}j(){this.Ei();this.pf=null;a.delete(this)}static Dq(){for(const b of a)b.cm="",b.dg.set(0,0,0,0),b.Jp.wj(b.dg)}ON(b){this.Gk=b[0];this.ks=b[1];this.iw=b[2];this.jw=b[3];this.V=b[4];this.P=b[5];this.yp=b[6];this.yv=!0}Z1(b,e){if(this.pf)throw Error("already loaded asset");
this.Gk=e;const c={};d.HE(e)&&(c.tx="remote");this.NN(b,c);return this.pf.MN()}d4(b){if(b===this)throw Error("cannot replace with self");this.Ei();this.Gk=b.Gk;this.ks=b.ks;this.iw=b.iw;this.jw=b.jw;this.V=b.V;this.P=b.P;this.yp=b.yp;this.yv=b.yv;this.pf=b.pf;this.cm=b.cm;this.dg=b.dg;this.Jp=b.Jp}zm(){return this.ks}ca(){return this.V}aa(){return this.P}NN(b,e){if(this.pf)throw Error("already got asset");e=Object.assign({},e,{url:this.Gk,size:this.zm()});this.pf=b.Zy(e)}SE(){return this.pf&&this.pf.SE()}async Lt(b,
e){if(!this.pf)throw Error("no asset");if(this.cm)throw Error("already loaded texture");this.cm="loading";b=await this.pf.Lt(b,e);if(!b)return this.cm="",null;this.cm="loaded";this.yv||(this.V=b.ca(),this.P=b.aa(),this.yv=!0);this.dg.set(this.iw,this.jw,this.iw+(this.yp?this.P:this.V),this.jw+(this.yp?this.V:this.P));this.dg.km(b.ca(),b.aa());this.Jp.wj(this.dg);this.yp&&this.Jp.Ufa();return b}Ei(){this.cm&&(this.pf&&this.pf.Ei(),this.cm="",this.dg.set(0,0,0,0),this.Jp.wj(this.dg))}fe(){return this.pf?
this.pf.fe():null}Oj(){return this.dg}Gy(){return this.Jp}}}
{"use strict";const d=self.B;d.bX=class extends d.ea{constructor(a){super();this.Ea=a[0];this.jea=a[1];this.qB=!!a[2];this.hs=a[3];this.HU=a[4];this.Lda=!!a[5];this.eb=a[6];this.Ld=a[7].map(b=>d.A(d.aX,b))}j(){for(const a of this.Ld)a.j();d.D(this.Ld)}W1(a){for(const b of this.Ld)b.Jf().NN(a)}X1(a,b){return Promise.all(this.Ld.map(e=>e.Jf().Lt(a,b)))}Q3(){for(const a of this.Ld)a.Jf().Ei()}ya(){return this.Ea}xm(a){a=Math.floor(a);if(0>a||a>=this.Ld.length)throw new RangeError("invalid frame");return this.Ld[a]}al(){return this.jea}th(){return this.hs}}}
{"use strict";const d=self.B;d.aX=class extends d.ea{constructor(a){super();this.$f=d.A(d.Py);this.$f.ON(a);this.YS=a[7];this.uU=d.A(d.mu,a[8],a[9]);this.aB=a[10].map(b=>d.A(d.K0,this,b));this.AT=new Map;for(const b of this.aB)this.AT.set(b.ya().toLowerCase(),b);this.cp=null;a=a[11];6<=a.length&&(this.cp=d.A(d.Zn,a))}j(){this.cp&&(this.cp.j(),this.cp=null);this.$f.j();this.$f=null}Jf(){return this.$f}Yk(){return this.uU.O}Zk(){return this.uU.N}v_(a){return this.AT.get(a.toLowerCase())||null}u_(a){a=
Math.floor(a);return 0>a||a>=this.aB.length?null:this.aB[a]}iE(){return this.aB.length}}}{"use strict";const d=self.B;d.K0=class extends d.ea{constructor(a,b){super();this.Ea=b[0];this.KJ=d.A(d.mu,b[1],b[2])}j(){}ya(){return this.Ea}fa(){return this.KJ.O}ga(){return this.KJ.N}}}
{"use strict";const d=self.B,a=self.pg,b=self.CE;d.YE=class extends d.ea{constructor(e,c,g){super();const m=e.ph(g[1]);this.g=e;this.Xh=e.rn.R_(m);this.Mc=null;this.eB=m.Instance;this.Ma=c;this.eb=g[11];this.Ea=g[0];this.Vv=this.g.wi(g[14]);this.Jda=!!g[9];this.Wa=!!g[2];this.VI=!!g[10];this.cj=g[3].map(h=>({pW:h[0],type:h[1],name:h[2],vfa:e.wi(h[3])}));this.ada=g[4];this.vda=g[5];this.tf=this.Xh.tf;this.La=null;this.xA=d.A(d.S5,e.Yg,e.Xg);this.yH=!0;this.zH=!1;this.lI=this.lp=null;this.Nh=-1;this.kI=
this.LA=this.MA=this.jI=this.Mh=null;this.OI=!1;this.Og=null;this.FS=g[8].map(h=>d.PL.Na(this,h));this.pA=[];this.GH=new Map;this.EH=new Map;this.fV=new Set;this.vn=d.A(d.P5,this);this.kA=this.jA=this.Hd=this.$f=this.Og=this.Ar=null;this.rs=0;this.Ab=new Map;this.ei=new Map;this.F=[];this.AI=!0;this.Xh.xE()&&(this.La=d.A(d.Rk,this,g[12]));g[6]&&(this.$f=d.A(d.Py),this.$f.ON(g[6]));if(g[7]){this.Hd=g[7].map(h=>d.A(d.bX,h));this.jA=new Map;this.kA=new Map;for(const h of this.Hd)this.jA.set(h.ya().toLowerCase(),
h),this.kA.set(h.eb,h)}this.Wa?(this.lp=[],this.lI=new Set,this.Nh=this.g.f9()):(this.Mh=[],this.jI=new Set,this.MA=[],this.LA=[],this.kI=[]);this.Mc=d.A(m.ml,this,g[15]);this.HT=this.Dv=null;this.$d=d.A(d.Event.Lb);if(c=this.Mc.Mj()){if(this.Dv=new c(this),!(this.Dv instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Dv=new b(this);this.g.IC&&!this.Wa&&!this.VI&&this.tf||this.rd();this.Xh.gn&&(this.Xh.dca(this),this.C7(g))}static Na(e,c,g){return d.A(d.YE,
e,c,g)}j(){this.$f&&(this.$f.j(),this.$f=null);if(this.Hd){for(const e of this.Hd)e.j();d.D(this.Hd);this.jA.clear();this.kA.clear()}this.vn.j();this.vn=null;this.Ab.clear();this.ei.clear();this.g=this.Og=null}Z9(e){for(let c=1,g=e.length;c<g;++c){const m=this.g.cf(e[c]);this.lp.push(m);this.lI.add(m);m.Mh.push(this);m.jI.add(this)}}Cba(e){this.OI=!0;this.Og=e}Wb(){return this.OI}D$(){var e=0;if(!this.Wa)for(var c of this.Mh)for(var g of c.FS){const l=g.ya().toLowerCase();this.GH.set(l,g);this.EH.set(l,
e);this.pA.push(g);++e}for(var m of this.FS)c=m.ya().toLowerCase(),this.GH.set(c,m),this.EH.set(c,e),this.pA.push(m),++e;for(var h of this.pA)this.fV.add(h.um().constructor);if(!this.Wa&&this.Mh.length){e=this.g.cT;d.WC(this.MA,e,0);d.WC(this.LA,e,0);d.WC(this.kI,e,0);e=[];c=h=m=0;for(const l of this.Mh)if(g=l.Nh,this.MA[g]=m,m+=l.cj.length,this.LA[g]=h,h+=l.ada,this.kI[g]=c,c+=l.vda,(g=l.La)&&this.La)for(const n of g.sg())e.push(n.KX(this.La));this.La&&this.La.D3(e)}}C7(e){const c=this.g.e9(),g=
d.A(d.Instance,{Ff:this.g,mL:this,uid:c});g.Dz(e[16],[]);this.g.q$(c,g);this.F.push(g)}rd(){this.Wa||this.Mc.rd()}r0(){return 0<this.rs}Bq(e){if(this.Wa)return Promise.resolve();this.rs++;return 1===this.rs?this.Mc.Bq(e)||Promise.resolve():Promise.resolve()}Co(){if(!this.Wa){this.rs--;if(0>this.rs)throw Error("released textures too many times");0===this.rs&&this.Mc.Co()}}$y(){if(this.Wa)throw Error("not applicable to family");this.Mc.$y()}dF(e){return this.Wa?Promise.resolve():this.Mc.dF(e)}H(){return this.g}sb(){return this.Xh}ya(){return this.Ea}wi(){return this.Vv}Fa(){return this.Ma}Rf(){return this.Jda}FP(e){return e&&
this.fV.has(e)}A_(){return this.cj.map(e=>e.pW)}z_(e){return this.cj.findIndex(c=>c.pW===e)}y_(e){return this.cj.findIndex(c=>c.name===e)}T8(){return this.cj.map(e=>e.vfa)}ut(e){e=Math.floor(e);if(0>e||e>=this.cj.length)throw new RangeError("invalid instance variable index");return this.cj[e].type}RM(e){e=Math.floor(e);if(0>e||e>=this.cj.length)throw new RangeError("invalid instance variable index");return this.cj[e].name}gy(e){return this.GH.get(e.toLowerCase())||null}it(e){e=this.EH.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}xE(){return this.Xh.xE()}GP(){return this.La&&this.La.i0()}R(){return this.vn.R()}Jf(){return this.$f}TO(e){this.Ar=e}AD(e){return this.jI.has(e)}vM(e){return this.lI.has(e)}eo(e){return this.LA[e]}fE(e){return this.MA[e]}CM(e){if(!this.Hd)throw Error("no animations");return this.jA.get(e.toLowerCase())||null}SZ(e){if(!this.Hd)throw Error("no animations");return this.kA.get(e)||null}n_(){if(!this.Hd)throw Error("no animations");return this.Hd[0].xm(0)}b_(){if(this.Hd){const e=
this.n_().Jf();return[e.ca(),e.aa()]}return this.$f?[this.$f.ca(),this.$f.aa()]:[100,100]}Ai(){if(!this.Xh.gn)throw Error("not a single-global plugin");return this.F[0]}la(){return this.F}*OV(){yield*this.F}*nfa(){yield*this.F;for(const e of this.g.Jl)e.I()===this&&(yield e)}Hg(e){this.F.push(e)}Iu(){this.AI=!0}dA(){if(this.AI&&!this.Wa){var e=this.F,c=0;for(let g=e.length;c<g;++c)e[c].bS(c);e=this.g.Jl;for(const g of e)g.I()===this&&g.bS(c++);this.AI=!1}}QM(e){var c=this.F;if(e<c.length)return c[e];
e-=c.length;c=this.g.Jl;for(const g of c)if(g.I()===this){if(0===e)return g;--e}return null}NM(e){if(e&&e.Wb()&&e.I()!==this)for(const c of e.Dd)if(c.I()===this)return c;e=this.R().la();return e.length?e[0]:null}P_(e){const c=this.R().la();return 0<c.length?c[e.ho()%c.length]:null}*sV(e,c){const g=this.R().la();var m=g.length;const h=c.R(),l=c.R().la(),n=l.length;var p=e.ho();if(c.Wa||!h.Vb)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}et(e){this.Mc.et(e)}ec(){if(this.OI&&
!this.Wa){this.dA();var e=this.R(),c=e.F,g=e.Vb,m=this.g.$e();m=m&&m.Eb()&&m.Eb().Md;for(const n of this.Og.Vl)if(n!==this){n.dA();var h=n.R();h.he(g);if(!g){var l=h.F;d.D(l);for(const p of c)l.push(n.QM(p.ho()));if(m){l=e.Zb;h=h.Zb;d.D(h);for(const p of l)h.push(n.QM(p.ho()))}}}}}Aca(e,c){for(const g of this.Og.Vl){const m=g.R();e?d.Ye(m.Zb,c):d.Ye(m.F,c)}}WR(){this.yH=!0}UG(e){this.zH=!!e}uS(){if(this.yH&&this.tf){for(const e of this.F)e.m().xS();for(const e of this.g.Jl)e.I()===this&&e.m().xS();
this.yH=!1}}yi(){this.Ab||(this.Ab=new Map);return this.Ab}Ct(){this.ei||(this.ei=new Map);return this.ei}mN(){return this.FP(d.og.hla)}yE(){return this.FP(d.og.Mla)}ia(){const e={instances:this.F.map(c=>c.Cd())};this.Ab&&this.Ab.size&&(e.ex=d.QF(this.Ab));return e}na(e){this.Ab&&(this.Ab.clear(),this.Ab=null);var c=e.ex;c&&(this.Ab=d.UD(c));c=this.F;e=e.instances;for(let g=0,m=Math.min(c.length,e.length);g<m;++g)c[g].qd(e[g]);for(let g=e.length,m=c.length;g<m;++g)this.g.ao(c[g]);for(let g=c.length,
m=e.length;g<m;++g){c=e[g];let h=null;if(this.tf&&(h=this.g.Rb().vy(c.w.l),!h))continue;this.g.pi(this.Ar||this,h,!1,0,0,!0).qd(c)}this.Iu()}lh(e){var c=this.g;(c=c.qb&&!c.ka().Ty())&&a.MF();this.$d.dispatchEvent(e);c&&a.wD()}}}{"use strict";const d=self.B;d.RX=class extends d.ea{constructor(a,b){super();this.g=a;this.Vl=b;for(const e of this.Vl)e.Cba(this)}j(){this.g=null}H(){return this.g}m0(){return this.Vl.some(a=>a.tf)}}}
{"use strict";const d=self.B,a=self.pg,b=self.Ft,e=[];let c=0;const g=new WeakMap,m=new WeakMap;d.Instance=class extends d.ea{constructor(h){super();this.g=h.Ff;this.Ud=h.mL;this.ke=this.ma=this.Ra=null;this.yT=0;this.bd=h.uid;this.CU=c++;this.ua=0;this.kd=this.Re=e;var l=this.Ud.pA;0<l.length&&(this.kd=l.map((n,p)=>d.A(d.Hx,{Ff:this.g,JK:n,instance:this,index:p})));this.Dd=this.Ud.Wb()?[]:null;this.Zd=-1;this.Tb=null;l=this.sb();l.Cq()&&(this.ua|=4);if(l.tf)if(this.Ra=d.A(d.G6,this,h.WV),h.FW)this.Ra.Am(h.FW);
else{this.Ra.Z0();const [n,p]=this.Ud.b_();this.Ra.sd(n,p);this.I().GP()&&this.Ra.ag.Y1()}h.NV?this.c$(h.NV):this.X9()}j(){this.ke&&(this.ke.Gu(),this.ke=null);if(0<this.kd.length){for(var h of this.kd)h.j();d.D(this.kd)}this.ma.j();this.ma=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Dd&&d.D(this.Dd);this.Tb&&(this.Tb.j(),this.Tb=null);this.Ud=this.g=null;0<this.Re.length&&d.D(this.Re);this.Ra&&(this.Ra.j(),this.Ra=null)}c$(h){0<h.length&&(this.Re=
[],d.Nc(this.Re,h))}X9(){const h=this.Ud.cj.length;if(0!==h){this.Re=[];var l=[0,0,""];for(let n=0;n<h;++n)this.Re.push(l[this.Ud.ut(n)])}}Dz(h,l){if(this.ma)throw Error("already got sdk instance");for(let n=0,p=this.kd.length;n<p;++n)this.kd[n].Dz(l?l[n]:null);this.ma=d.A(this.Ud.eB,this,h);if(!(this.ma instanceof d.Jq))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.kd.length;n<p;++n);this.Ud.HT&&this.aR()}m(){return this.Ra}H(){return this.g}QZ(){const h=this.Zd;return-1===
h?this.H().Zd:h}EF(h){h=+h;if(0>h||!isFinite(h))h=0;this.Zd=h}l4(){this.Zd=-1}Lb(){this.Tb||(this.Tb=d.A(d.Event.Lb));return this.Tb}mh(h){this.ma.mh(h)}rd(h){this.ma.rd(h)}Rba(){this.ua|=2}dl(){return 0!==(this.ua&2)}CG(){this.ua|=1}Gt(){return 0!==(this.ua&1)}Cq(){return 0!==(this.ua&4)}UN(){return 0!==(this.ua&32)}P9(){return 0!==(this.ua&8)}au(h,l){h<<=16;this.ua=l?this.ua|h:this.ua&~h}gE(h){return 0!==(this.ua&h<<16)}nh(){return this.ma.nh()}aE(){return this.ma.aE()}bE(){return this.ma.bE()}JE(){return this.ma.JE()}io(h){return this.ma.io(h)}I(){return this.Ud}Hq(){return this.ma.Hq()}eq(h){return h.Wa?
h.vM(this.I()):this.I()===h}HP(){if(!this.sb().XU)throw Error("object does not support scene graph");}Rj(){return null!==this.Ca()}Ca(){var h=this.m();return h?(h=h.Ca())?h.za():null:null}Iy(){var h=this.m();return h?(h=h.Iy())?h.za():null:null}*wx(){const h=this.m();if(h)for(const l of h.wx())yield l.za()}gf(){const h=this.m();return h?h.gf():!1}Ze(){const h=this.m();return h?h.Ze().map(l=>l.za()):[]}*children(){const h=this.m();if(h)for(const l of h.children())yield l.za()}*Mk(){const h=this.m();
if(h)for(const l of h.Mk())yield l.za()}iy(){const h=this.m();return h?h.iy():0}ZD(h){const l=this.m();return l?(h=l.ZD(h))?h.za():null:null}rm(h,l){this.HP();h.HP();this.m().rm(h.m(),l||{})}Wj(h){const l=this.m();l&&l.Wj(h.m())}ly(){const h=this.m();return h?h.ly():!1}L5(){var h=this.m();if(h&&(h=h.YM()))for(const l of h)if(h=this.g.Gj(l[2])){const n=l[3];this.rm(h,{Ss:!!(n>>0&1),Ts:!!(n>>1&1),aq:!!(n>>2&1),$p:!!(n>>3&1),Rs:!!(n>>4&1),hx:!!(n>>5&1),Us:!!(n>>6&1)})}}Wb(){return null!==this.Dd}Yq(h){this.Dd.push(h)}t0(h){return!!this.dN(h)}dN(h){const l=
this.Dd;if(null===l||0===l.length)return!1;for(const n of l)if(n.I()===h)return n;return null}Ji(){for(const h of this.Dd)h.I().R().ak(h)}taa(){for(const h of this.Dd)h.I().R().To(h)}cca(h){for(const l of this.Dd)l.I().R().F[h]=l}saa(){for(const h of this.Dd)h.I().R().sl(h)}bca(h){for(const l of this.Dd)l.I().R().Zb[h]=l}sb(){return this.Ud.sb()}bS(h){this.yT=h}ho(){this.Ud.dA();return this.yT}DM(h){const l=this.kd;for(let n=0,p=l.length;n<p;++n)if(l[n].tg().eb===h)return n;return-1}Be(h){h|=0;const l=
this.Re;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}b9(h){return this.Re[h]}a9(h){const l=this.Re[h];return 0===this.Ud.ut(h)?!!l:l}Nm(h,l){h|=0;const n=this.Re;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Ud.ut(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}g5(h,l){if(0!==l){h|=0;
var n=this.Re;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}yi(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Ct(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,
h);return h}VQ(h){const l=this.I();if(l.$d.vE(h))return!0;for(const n of l.Mh)if(n.$d.vE(h))return!0;return this.g.$d.vE(h)?!0:!1}cA(){const h=new Set;h.add(this);const l=this.m();if(l&&l.gf())for(const n of this.Mk())if(h.add(n),n.Wb())for(const p of n.Dd)h.add(p);if(this.Wb())for(const n of this.Dd)h.add(n);for(const n of h.values())n.qS()}qS(){if(this.VQ("instancecreate")){const h=this.I(),l=new d.Event("instancecreate");l.instance=this.oh();h.lh(l);for(const n of h.Mh)n.lh(l);this.g.lh(l)}this.g.ra(this.sb().constructor.G.bO,
this,null)}yca(){this.g.ra(this.sb().constructor.G.D2,this,null)}J8(h){if(this.ke){var l=new d.Event("destroy");l.rfa=h;this.lh(l)}if(this.VQ("instancedestroy")){l=this.I();var n=new d.Event("instancedestroy");n.instance=this.oh();n.rfa=h;l.lh(n);for(const p of l.Mh)p.lh(n);this.g.lh(n)}}Cd(h="full"){const l={};"full"===h?l.uid=this.bd:l.c3=!0;if("visual-state"!==h){var n=g.get(this);n&&n.size&&(l.ex=d.QF(n));-1!==this.Zd&&(l.mts=this.Zd);if(0<this.Ud.cj.length){n={};var p=this.Ud.A_();for(let q=
0,u=this.Re.length;q<u;++q)n[p[q].toString()]=this.Re[q];l.ivs=n}if(this.kd.length){n={};for(const q of this.kd)(p=q.Cd())&&(n[q.tg().eb.toString()]=p);l.behs=n}}this.Ra&&(l.w=this.Ra.ia(h));(h=this.ma.Cd())&&(l.data=h);return l}Pz(h="full"){this.Ra&&this.Ra.Pz(h)}qd(h,l="full"){if("full"===l)this.bd=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);n&&(n.clear(),g.delete(this));if(n=h.ex)n=d.UD(n),g.set(this,n);this.Zd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=
this.Ud.z_(parseInt(u,10)),!(0>n||n>=this.Re.length)){var p=w;null===p&&(p=NaN);this.Re[n]=p}}if(this.sb().tf){n=h.w;var q=n.l;this.Ra.Z().eb!==q&&(p=this.Ra.Z(),(q=p.fc().vy(q))?(this.Ra.Ju(q),p.Uo(this,!0),q.Hg(this,!0),q.Fg(),this.Ra.Da()):"full"===l&&this.g.ao(this));this.Ra.na(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,w]of Object.entries(l))l=this.DM(parseInt(u,10)),0>l||l>=this.kd.length||this.kd[l].qd(w);(h=h.data)&&this.ma.qd(h)}oh(){return this.ke||this.aR()}aR(){var h=this.Ra?
self.Oy:b;const l=this.ma.Mj(),n=this.Ud.HT,p=n||l||h;b.Ig(this);this.ke=new p;b.Ig(null);if(l&&!(this.ke instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.ke instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.ke}Z8(h){if(0!==this.Re.length){var l={},n=this.Ud.T8();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.a9.bind(this,p),set:d.Instance.prototype.Nm.bind(this,p)};l=Object.create(Object.prototype,l);h.Fra={value:l,writable:!1}}}U8(h){var l=this.kd;if(0!==l.length){var n={};for(const p of l)n[p.tg().wi()]={value:p.sq(),writable:!1};l=Object.create(Object.prototype,n);h.cx={value:l,writable:!1}}}lh(h){h.instance=this.oh();var l=this.g;(l=l.qb&&!l.ka().Ty())&&a.MF();this.oh().dispatchEvent(h);l&&a.wD()}}}
{"use strict";const d=self.B;d.x4=class extends d.ea{constructor(a){super();this.$b=a;this.zc=null;this.vA=[];this.tC=a.ca();this.sC=a.aa();this.hK=this.gK=1;this.XB=0}j(){this.zc=null;d.D(this.vA)}lP(a){this.XB=(this.zc=a)?a.Ia():0}Ca(){return this.zc}gf(){return 0<this.vA.length}Ze(){return this.vA}s5(a){this.gK=a}t5(a){this.hK=a}Kj(){return this.$b.mo()?this.zc.ca()/this.zc.Jb.tC:1}Lj(){return this.$b.lo()?this.zc.aa()/this.zc.Jb.sC:1}ia(){return{sw:this.tC,sh:this.sC,sx:this.gK,sy:this.hK,psa:this.XB,
c:this.vA.map(a=>{let b="";a.no()&&(b+="x");a.oo()&&(b+="y");a.mo()&&(b+="w");a.lo()&&(b+="h");a.Jy()&&(b+="a");a.Ky()&&(b+="z");a.ly()&&(b+="d");return{uid:a.za().bd,f:b}})}}na(a){this.tC=a.sw;this.sC=a.sh;this.gK=a.sx;this.hK=a.sy;this.XB=a.psa}GG(a){const b=this.$b,e=b.H();for(const c of a.c){a=e.Gj(c.uid).m();const g=c.f,m={};m.Ss=g.includes("x");m.Ts=g.includes("y");m.aq=g.includes("w");m.$p=g.includes("h");m.Rs=g.includes("a");m.Us=g.includes("z");m.hx=g.includes("d");b.rm(a,m)}}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.Bd),e=d.A(d.Event,"bboxchange",!1),c=d.A(d.$a,0,0,0,0),g=d.A(d.Zn),m=d.A(d.$a,1,1,1,1),h=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let q=!0;const u=new WeakMap,w=new WeakMap;d.G6=class extends d.ea{constructor(r,v){super();this.T=r;this.K=r.I();this.g=r.H();this.zk=v;this.Lk=-1;this.ua=196635;this.K.sb().vo()&&(this.ua|=128);this.$r=this.Zr=this.UH=this.WJ=this.Ta=this.Vc=this.Tg=this.hh=this.dd=this.N=
this.O=NaN;this.LH=d.A(d.Rect);this.MH=d.A(d.Bd);this.wA=l;this.pw=h;this.bi=this.vs=this.pC=null;this.fp=this.bb=m;this.ag=this.Pp=null;this.T.I().GP()&&(this.ag=d.A(d.p1,this.T,this));this.Wh=this.Jb=null}CG(){this.ua|=256}j(){this.Pp&&(this.g.fb().wO(this.Pp),this.Pp=null);this.pC=null;this.vs&&(this.vs.dW.j(),this.vs=null);this.bi&&(this.bi.clear(),this.bi=null);this.gz();this.Rj()&&this.Ca().Wj(this);if(this.gf()){const r=[...this.Ze()];for(const v of r)this.Wj(v)}this.Sz();this.zk=this.g=this.K=
this.T=null}Am(r){q=!1;this.Eg(r[0],r[1]);this.kf(r[2]);this.sd(r[3],r[4]);this.Vc=0;this.vo()?this.Ec(r[6]):this.Ta=0;c.om(r[7]);this.Uz(c);this.Rq(r[8]);this.Sq(r[9]);this.Tf(r[10]);this.ag&&this.ag.Y9(r[12]);r[14]&&u.set(this,{Hea:r[14][1],yga:r[14][2]});if(r[15]){var v=r[15];this.LD(v[0],v[1]);r=this.Nj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=r.oq(z,y);J.Dg(H[0]);J.Bh(H[1]);J.kf(H[2]);J.FF(H[3]);J.GF(H[4])}}}q=!0;this.jr()}Z0(){this.WJ=
this.Ta=this.Vc=this.Tg=this.hh=this.dd=this.N=this.O=0;this.UH=1;this.$r=this.Zr=0;this.jr()}H(){return this.g}I(){return this.K}za(){return this.T}tu(){return this.Jy()?this.Ca().Ia()-this.Jb.XB:0}Dg(r){r=+r;if(this.no()){const v=this.Jb;r-=this.fa();const y=-this.tu();0===y?this.O+=r/v.Kj():(this.O+=Math.cos(y)*r/v.Kj(),this.oo()&&(this.N+=Math.sin(y)*r/v.Lj()))}else this.O=r}ZN(r){r=+r;this.no()?this.Dg(this.fa()+r):this.O+=r}fa(){if(this.no()){let r=this.O;const v=this.Jb,y=this.Ca(),A=this.tu();
0===A?r*=v.Kj():(r=r*v.Kj()*Math.cos(A),this.oo()&&(r-=this.N*v.Lj()*Math.sin(A)));return y.fa()+r}return this.O}Bh(r){r=+r;if(this.oo()){const v=this.Jb;r-=this.ga();const y=-this.tu();0===y?this.N+=r/v.Lj():(this.no()&&(this.O-=Math.sin(y)*r/v.Kj()),this.N+=Math.cos(y)*r/v.Lj())}else this.N=r}$N(r){r=+r;this.oo()?this.Bh(this.ga()+r):this.N+=r}ga(){if(this.oo()){let r=this.N;const v=this.Jb,y=this.Ca(),A=this.tu();0===A?r*=v.Lj():(r=r*v.Lj()*Math.cos(A),this.no()&&(r+=this.O*v.Kj()*Math.sin(A)));
return y.ga()+r}return this.N}Eg(r,v){r=+r;v=+v;if(this.hN()){const A=this.no(),G=this.oo(),z=this.Jb,F=r-this.fa(),H=v-this.ga();var y=-this.tu();if(0===y)this.O=A?this.O+F/z.Kj():r,this.N=G?this.N+H/z.Lj():v;else{const J=Math.sin(y);y=Math.cos(y);this.O=A?G?this.O+(y*F-J*H)/z.Kj():this.O+y*F/z.Kj():r;this.N=G?A?this.N+(J*F+y*H)/z.Lj():this.N+y*H/z.Lj():v}}else this.O=r,this.N=v}Pt(r,v){r=+r;v=+v;this.hN()?this.Eg(this.fa()+r,this.ga()+v):(this.O+=r,this.N+=v)}xZ(r,v){return this.fa()===r&&this.ga()===
v}kf(r){r=+r;this.Ky()&&(r-=this.Ca().ab());this.dd!==r&&(this.dd=r,this.AS(),r=this.Z(),0!==this.dd&&r.XR(),r.Fg())}AS(){this.jr();if(this.gf()){const r=this.Ze();for(let v=0,y=r.length;v<y;v++){const A=r[v];A.Ky()&&A.AS()}}}x2(r){this.kf(this.ab()+r)}ab(){return this.Ky()?this.Ca().ab()+this.dd:this.dd}ff(){return this.Z().ab()+this.ab()}Ki(r){r=+r;if(this.mo()){const v=this.ca();this.hh=0===v?1E-6:r/v*this.hh}else this.hh=r}YN(r){r=+r;this.mo()?this.Ki(this.ca()+r):this.hh+=r}ca(){return this.mo()?
this.Ca().ca()*this.hh:this.hh}Gi(r){r=+r;if(this.lo()){const v=this.aa();this.Tg=0===v?1E-6:r/v*this.Tg}else this.Tg=r}XN(r){r=+r;this.lo()?this.Gi(this.aa()+r):this.Tg+=r}aa(){return this.lo()?this.Ca().aa()*this.Tg:this.Tg}sd(r,v){r=+r;v=+v;if(this.mo()){const y=this.ca();this.hh=0===y?1E-6:r/y*this.hh}else this.hh=r;this.lo()?(r=this.aa(),this.Tg=0===r?1E-6:v/r*this.Tg):this.Tg=v}V_(){if(this.Rj()){const r=this.Jb;return Math.min(r.Kj(),r.Lj())}return 1}vo(){return 0!==(this.ua&128)}Ec(r){r=+r;
this.vo()&&(this.Jy()&&(r-=this.Ca().Ia()),r=d.ue(r),this.Ta!==r&&(this.Ta=r,this.DG()))}t2(r){r=+r;0!==r&&this.vo()&&(this.Ta=d.ue(this.Ta+r),this.DG())}DG(){this.ua|=262144;if(this.gf()){const r=this.Ze();for(let v=0,y=r.length;v<y;v++)r[v].DG()}}Ia(){return this.Jy()?d.ue(this.Ca().Ia()+this.Ta):this.Ta}rR(){const r=this.ua;if(0!==(r&262144)){var v=this.Ia();this.WJ=Math.sin(v);this.UH=Math.cos(v);this.ua=r&-262145}}pE(){this.rR();return this.WJ}$D(){this.rR();return this.UH}Rq(r){this.Zr=+r}v2(r){this.Zr+=
+r}Yk(){return this.Zr}Sq(r){this.$r=+r}w2(r){this.$r+=+r}Zk(){return this.$r}Uz(r){this.bb.od(r)||(this.bb===m?(this.bb=d.A(d.$a,r),this.fp=d.A(d.$a,r),this.fp.sL()):r.VC(1,1,1,1)?this.fp=this.bb=m:(this.bb.set(r),this.fp.set(r),this.fp.sL()),this.jr())}Zj(r){r=d.da(+r,0,1);this.bb.Zp!==r&&(c.rj(this.bb),c.Zp=r,this.Uz(c))}u2(r){this.Zj(this.Ce()+r)}Ce(){return this.bb.Zp}rP(r){this.bb.lm(r)||(c.rj(r),c.Zp=this.bb.Zp,this.Uz(c))}G5(r,v,y){c.Qs(r,v,y);this.rP(c)}mE(){return this.fp}ly(){return 0!==
(this.ua&512)}P4(r){this.Le(512,r)}no(){return 0!==(this.ua&1024)}B5(r){this.Le(1024,r)}oo(){return 0!==(this.ua&2048)}hN(){return 0!==(this.ua&3072)}C5(r){this.Le(2048,r)}mo(){return 0!==(this.ua&4096)}A5(r){this.Le(4096,r)}lo(){return 0!==(this.ua&8192)}z5(r){this.Le(8192,r)}Jy(){return 0!==(this.ua&16384)}y5(r){this.Le(16384,r)}Ky(){return 0!==(this.ua&32768)}D5(r){this.Le(32768,r)}aQ(){this.ua&=-65025}rm(r,v){if(r!==this&&!r.Rj()&&!this.XQ(r)&&!this.WQ(r)){var y=r.fa(),A=r.ga(),G=r.ca(),z=r.aa(),
F=r.Ia(),H=r.ab();r.fS(this);r.B5(v.Ss);r.C5(v.Ts);r.A5(v.aq);r.z5(v.$p);r.y5(v.Rs);r.D5(v.Us);r.P4(v.hx);v.Ss&&(r.O=y-this.fa(),v.aq&&(r.O/=this.ca()/this.Jb.tC));v.Ts&&(r.N=A-this.ga(),v.$p&&(r.N/=this.aa()/this.Jb.sC));v.aq&&(r.hh=G/this.ca(),r.Jb.s5(r.hh));v.$p&&(r.Tg=z/this.aa(),r.Jb.t5(r.Tg));v.Rs&&(r.Ta=F-this.Ia());v.Us&&(r.dd=H-this.ab());this.N6(r);this.Da()}}Wj(r){if(r.Ca()===this){var v=r.fa(),y=r.ga(),A=r.ca(),G=r.aa(),z=r.Ia(),F=r.ab();r.fS(null);r.aQ();r.Eg(v,y);r.sd(A,G);r.Ec(z);r.kf(F);
this.Haa(r);this.Da()}}Paa(){for(var r of this.children())this.Wj(r);(r=this.Ca())&&r.Wj(this);this.aQ()}Rj(){return null!==this.Ca()}Ca(){const r=this.Jb;return null!==r?r.Ca():null}Iy(){let r=this;for(;r.Rj();)r=r.Ca();return r}*wx(){let r=this.Ca();for(;r;)yield r,r=r.Ca()}o0(r){return this.Ze().includes(r)}gf(){const r=this.Jb;return null!==r?r.gf():!1}Ze(){const r=this.Jb;return null!==r?r.Ze():p}children(){return this.Ze()}*Mk(){for(const r of this.children())yield r,yield*r.Mk()}iy(){return this.Ze().length}ZD(r){const v=
this.Ze();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}cG(r){this.Jb||(this.Jb=d.A(d.x4,this));r&&this.Jb.lP(r)}Sz(){this.Jb&&(this.Jb.j(),this.Jb=null)}fS(r){r?(r.cG(null),this.cG(r)):(this.Jb&&this.Jb.lP(null),this.gf()||this.Sz())}WQ(r){if(!this.Rj())return!1;const v=this.Ca();return v===r?!0:v.WQ(r)}XQ(r){if(this.o0(r))return!0;for(const v of this.Ze())if(v.XQ(r))return!0;return!1}N6(r){this.Jb.Ze().push(r)}Haa(r){const v=this.Jb.Ze(),y=v.indexOf(r);-1!==y&&v.splice(y,1);0!==v.length||this.Rj()||
this.Sz();r.gf()||r.Sz()}YM(){const r=u.get(this);return r?r.Hea:null}W_(){const r=u.get(this);return r?r.yga:NaN}qq(){return w.get(this)||NaN}AF(r){w.set(this,r)}jr(){if(q){var r=this.g.fb();this.Pp&&r.wO(this.Pp);this.Pp=r.LW(0!==(this.ua&524288)?r.qC||"<point>":r.rC||"<default>",this.Aj(),this.fp,this.ab())}}vq(){return this.bb===m}Tf(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.Aj()!==r&&(this.ua=this.ua&-2080374785|r<<26,this.jr())}Aj(){return(this.ua&2080374784)>>26}Ju(r){this.zk=
r;0!==this.ab()&&this.zk.XR()}Z(){return this.zk}fc(){return this.Z().fc()}aA(r){this.Lk=r|0}Qj(){this.zk.Nu();return this.Lk}Le(r,v){this.ua=v?this.ua|r:this.ua&~r}Rc(){return 0!==(this.ua&1)}Ah(r){this.Le(1,r)}xg(){return 0!==(this.ua&8)}Yt(r){r=!!r;this.xg()!==r&&(this.Le(8,r),r?this.Da():this.GR())}CF(r,v){this.Le(32,r);this.bi&&this.bi.clear();if(v.trim()){this.bi||(this.bi=new Set);for(const y of v.split(" "))y&&this.bi.add(y.toLowerCase())}else this.bi=null}VE(r){const v=0!==(this.ua&32),y=
this.bi;if(!r||!y)return!v;for(const A of y)if(r.has(A))return v;return!v}Da(){this.ua|=65554;this.K.WR();this.g.$();this.zk.Po()&&(this.Lx(this.LH,this.MH,!0),this.ua&=-3,this.Hca());0!==(this.ua&4)&&this.T.Lb().dispatchEvent(e);if(null!==this.Jb){const r=this.Jb.Ze();for(let v=0,y=r.length;v<y;++v)r[v].Da()}}Lx(r,v,y){const A=this.fa(),G=this.ga(),z=this.ca(),F=this.aa(),H=this.Ia();r.li(A-this.Zr*z,G-this.$r*F,z,F);y&&this.Qf()&&this.D8(r);0===H?v.wj(r):(r.offset(-A,-G),v.mW(r,this.pE(),this.$D()),
v.offset(A,G),v.YK(r));r.normalize()}wS(){const r=this.ua;0!==(r&2)&&(this.Lx(this.LH,this.MH,!0),this.ua=r&-3)}Qc(){this.wS();return this.LH}Bj(){this.wS();return this.MH}oO(r){var v=this.fa(),y=this.ga();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return r;b.oa(r);b.offset(v,y);return b}J4(r){this.Le(4,r)}sN(){return 0!==(this.ua&4)}DN(r,v,y){return v&&0!==this.Vc?this.yq(this.Z().br()):0===this.ab()||y?r.aD(this.Qc()):this.N9()}N9(){const r=this.Z(),v=this.ff();if(v>=r.jt())return!1;r.kN(v,
a);return a.aD(this.Qc())}yq(r){var v=this.Qc();const y=v.X,A=v.ja,G=v.U;v=v.ba;const z=this.ff();return r.SX(y,G,z,A,v,z+this.Vc)}Vz(r){this.Le(1048576,r)}Xz(r){this.Le(2097152,r)}DF(r){this.pC=r;this.jG();this.Qf()&&(this.Wh.iL=null)}My(){return null!==this.pC||this.Qf()}bl(){return this.W8(this.ca(),this.aa(),this.Ia(),this.pE(),this.$D())}W8(r,v,y,A,G){let z=this.vs;null===z&&(this.vs=z={dW:d.A(d.Zn),width:NaN,height:NaN,angle:NaN});const F=z.dW;if(z.width===r&&z.height===v&&z.angle===y)return F;
const H=this.pC;if(this.Qf()){const J=this.Yk(),M=this.Zk(),P=this.Nj();let R=this.Wh.iL;R||(H?(g.oa(H),g.offset(J,M)):g.Zfa(),R=P.o1(g),this.Wh.iL=R);P.f6(R,F);F.offset(-J,-M);F.GL(r,v,A,G)}else H?(F.oa(H),F.GL(r,v,A,G)):F.zL(this.Bj(),-this.fa(),-this.ga());z.width=r;z.height=v;z.angle=y;return F}jG(){this.n5();const r=this.vs;null!==r&&(r.width=NaN)}LD(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.za().sb().nea)throw Error("object does not support mesh");this.gz();this.Wh={BL:d.A(d.J.TN,r,v),wW:d.A(d.J.TN,
r,v),iL:null}}Qf(){return null!==this.Wh}Nj(){if(!this.Qf())throw Error("no mesh");return this.Wh.BL}iN(){if(!this.Qf())throw Error("no mesh");return this.Wh.wW}xF(r){this.Le(65536,r)}GN(){return 0!==(this.ua&65536)}n5(){this.Le(131072,!0)}D8(r){const v=this.Wh.BL,y=Math.min(v.M_(),0),A=Math.min(v.N_(),0),G=Math.max(v.J_(),1),z=Math.max(v.K_(),1),F=r.width(),H=r.height();r.offsetLeft(y*F);r.offsetTop(A*H);r.Kfa((G-1)*F);r.Jfa((z-1)*H);this.Vc=v.L_()}gz(){this.Wh&&(this.Wh.BL.j(),this.Wh.wW.j(),this.Wh=
null,this.jG())}hP(r,v,y){r=Math.floor(r);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Ex;let H="number"===typeof y.AW?y.AW:A?0:-1;y="number"===typeof y.EW?y.EW:A?0:-1;if(!this.Qf())return!1;const J=this.Nj(),M=J.oq(r,v);if(null===M)return!1;let P=!1;"number"===typeof F&&M.ab()!==F&&(M.kf(F),P=!0);A&&(G+=r/(J.sk-1),z+=v/(J.Hk-1));-1!==H||A?(A&&(H+=r/(J.sk-1)),H=d.da(H,0,1)):H=M.eh;-1!==y||A?(A&&(y+=v/(J.Hk-1)),y=d.da(y,
0,1)):y=M.gh;if(M.fa()===G&&M.ga()===z&&M.eh===H&&M.gh===y)return P;M.Dg(G);M.Bh(z);M.FF(H);M.GF(y);this.jG();return!0}dl(){return this.T.dl()}Xs(r,v){return this.Qc().Cf(r,v)&&this.Bj().Cf(r,v)?this.dl()?void 0:this.My()?this.bl().Cf(r-this.fa(),v-this.ga()):!0:!1}L9(){return 0!==(this.ua&16)}xS(){if(this.L9()&&this.xg()&&0===(this.ua&256)){var r=this.Qc(),v=this.K.xA,y=this.wA;a.set(v.Li(r.X),v.Mi(r.U),v.Li(r.ja),v.Mi(r.ba));y.od(a)||(r=this.T,y===l?(v.nl(r,null,a),this.wA=d.A(d.Rect,a)):(v.nl(r,
y,a),y.oa(a)),this.ua&=-17)}}GR(){const r=this.wA;r!==l&&(this.K.xA.nl(this.T,r,null),this.wA=l)}Hca(){const r=this.Z();if(r.Po()&&0===(this.ua&256)){var v=r.gs,y=this.Qc(),A=this.pw;a.set(v.Li(y.X),v.Mi(y.U),v.Li(y.ja),v.Mi(y.ba));A.od(a)||(y=this.T,A===h?(v.nl(y,null,a),this.pw=d.A(d.Rect,a)):(v.nl(y,A,a),A.oa(a)),r.q5())}}HR(){const r=this.pw;r!==h&&(this.Z().gs.nl(this.T,r,null),this.pw=h)}L6(){const r=this.T,v=this.zk,y=v.F;y.length&&y.ae(-1)===r||(v.Uo(r,!1),v.Hg(r,!1),this.g.$())}J6(){const r=
this.T,v=this.zk,y=v.F;y.length&&y[0]===r||(v.Uo(r,!1),v.paa(r),this.g.$())}K6(r){const v=this.T,y=this.zk;if(y.fc()!==r.fc())throw Error("layer from different layout");r!==y&&(y.Uo(v,!0),this.Ju(r),r.Hg(v,!0),this.g.$())}I6(r,v){const y=this.T;let A=!1;const G=this.zk;if(r.bd!==y.bd){var z=r.m();if(!z)throw Error("expected world instance");z=z.Z();G.Fa()!==z.Fa()&&(G.Uo(y,!0),this.Ju(z),z.Hg(y,!0),A=!0);r=z.n2(y,r,!!v);(A||r)&&this.g.$()}}Qba(r){this.Le(64,r)}Dt(){return 0!==(this.ua&64)}ia(r){const v=
{x:this.fa(),y:this.ga(),w:this.ca(),h:this.aa(),l:this.Z().eb,zi:this.Qj()};0!==this.ab()&&(v.ze=this.ab());0!==this.Ia()&&(v.a=this.Ia());this.vq()||(v.c=this.bb.toJSON());.5!==this.Yk()&&(v.oX=this.Yk());.5!==this.Zk()&&(v.oY=this.Zk());0!==this.Aj()&&(v.bm=this.Aj());this.Rc()||(v.v=this.Rc());this.xg()||(v.ce=this.xg());this.sN()&&(v.be=this.sN());this.ag&&(v.fx=this.ag.ia());const y=0!==(this.ua&32);y&&(v.sfi=y);this.bi&&(v.sft=[...this.bi].join(" "));this.Jb&&"visual-state"!==r&&(v.sgi=this.Jb.ia());
this.Qf()&&(v.mesh=this.Nj().Cd());return v}Pz(r){"visual-state"!==r&&this.Paa()}na(r,v){q=!1;this.Dg(r.x);this.Bh(r.y);this.Ki(r.w);this.Gi(r.h);this.aA(r.zi);this.kf(r.hasOwnProperty("ze")?r.ze:0);this.Ec(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?c.om(r.c):r.hasOwnProperty("o")?(c.rj(this.bb),c.Zp=r.o):c.Tn(1,1,1,1);this.Uz(c);this.Rq(r.hasOwnProperty("oX")?r.oX:.5);this.Sq(r.hasOwnProperty("oY")?r.oY:.5);this.Tf(r.hasOwnProperty("bm")?r.bm:0);this.Ah(r.hasOwnProperty("v")?r.v:!0);this.Yt(r.hasOwnProperty("ce")?
r.ce:!0);this.J4(r.hasOwnProperty("be")?r.be:!1);this.CF(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.ag&&r.hasOwnProperty("fx")&&this.ag.na(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.cG(null);const y=this.Jb,A=r.sgi;y.na(A);const G=this.H().Lb(),z=()=>{G.removeEventListener("afterload",z);0===(this.ua&256)&&y.GG(A)};G.addEventListener("afterload",z)}r.hasOwnProperty("mesh")?(r=r.mesh,this.LD(r.cols,r.rows),this.Nj().qd(r)):this.gz();this.Da();q=!0;this.jr()}}}
{"use strict";const d=self.B;d.PL=class extends d.ea{constructor(a,b){super();const e=a.H(),c=e.rn,g=e.ph(b[1]);c.n0(g)||c.XX(b);this.g=e;this.K=a;this.Si=c.TZ(g);this.Mc=null;this.eB=g.Instance;this.eb=b[2];this.Ea=b[0];this.Vv=this.g.wi(b[3]);this.Mc=d.A(g.ml,this);this.rd()}static Na(a,b){return d.A(d.PL,a,b)}j(){this.Si=this.g=null;this.Mc.j();this.eB=this.Mc=null}rd(){this.Mc.rd()}H(){return this.g}I(){return this.K}um(){return this.Si}ya(){return this.Ea}wi(){return this.Vv}}}
{"use strict";const d=self.B,a=self.pN;d.Hx=class extends d.ea{constructor(b){super();this.g=b.Ff;this.Uc=b.JK;this.Si=this.Uc.um();this.T=b.instance;this.Ma=b.index;this.ke=this.ma=null;this.Si.Hg(this.T)}j(){this.ke&&(this.ke.Gu(),this.ke=null);this.Si.Uo(this.T);this.ma.j();this.T=this.Si=this.Uc=this.g=this.ke=this.ma=null}Dz(b){if(this.ma)throw Error("already got sdk instance");this.ma=d.A(this.Uc.eB,this,b);this.C9()}H(){return this.g}tg(){return this.Uc}um(){return this.Si}Ke(){return this.Ma}Cd(){return this.ma.Cd()}qd(b){return this.ma.qd(b)}static KF(b,
e){var c=b.T,g=e.T;const m=c.I().Fa(),h=g.I().Fa();if(m!==h)return m-h;c=c.CU;g=g.CU;return c!==g?c-g:b.oA.Ke()-e.oA.Ke()}C9(){const b=this.ma.Mj(),e=b||a;a.Ig(this);this.ke=new e;a.Ig(null);if(b&&!(this.ke instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}sq(){return this.ke}}}
{"use strict";const d=self.B;d.Rk=class extends d.ea{constructor(a,b){super();this.$b=a;this.Jg=[];this.Wf=[];this.FA=new Map;this.Lh=[];this.bs=!0;for(const e of b)a=d.A(d.rM,this,e,this.Jg.length),this.Jg.push(a),this.FA.set(a.ya().toLowerCase(),a),3<=e.length&&this.Lh.push(this.zG(e[2]));this.H().P6(this)}j(){d.D(this.Jg);d.D(this.Wf);this.FA.clear();d.D(this.Lh);this.$b=null}D3(a){if(a.length){this.Jg=a.concat(this.Jg);for(const b of a)this.FA.set(b.ya().toLowerCase(),b);for(let b=0,e=this.Jg.length;b<
e;++b)this.Jg[b].XG(b)}}zG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.$a);g.om(c);a[b]=g}}return a}H(){return this.$b.H()}Dh(){d.D(this.Wf);let a=!0;for(const b of this.Jg)b.Ib&&(this.Wf.push(b),b.Of().bs||(a=!1));this.bs=a}sg(){return this.Jg}i0(){return 0<this.Jg.length}Vk(a){return this.FA.get(a.toLowerCase())||null}IM(a){a=Math.floor(+a);if(0>a||a>=this.Jg.length)throw new RangeError("invalid effect type index");return this.Jg[a]}Ht(a){return this.IM(a).Ib}VO(a,
b){this.IM(a).jz(b)}Dt(){return 0<this.Wf.length}Uk(a){return this.Lh[a]}static v4(a){return a&&a instanceof d.$a?{t:"color",v:a.toJSON()}:a}static b2(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.$a);b.om(a.v);return b}throw Error("invalid effect parameter type");}return a}static LO(a){return a.map(d.Rk.v4)}static PN(a){return a.map(d.Rk.b2)}Cd(){return this.Jg.map(a=>({name:a.ya(),active:a.Ib,params:d.Rk.LO(this.Lh[a.Fa()])}))}qd(a){for(const b of a)if(a=this.Vk(b.name))a.jz(b.active),
this.Lh[a.Fa()]=d.Rk.PN(b.params);this.Dh()}}}
{"use strict";const d=self.B;d.rM=class extends d.ea{constructor(a,b,e){super();this.La=a;this.Qe=b[0];this.Ea=b[1];this.Ma=e;this.ad=null;this.Ib=!0}j(){this.ad=this.La=null}KX(a){a=d.A(d.rM,a,[this.Qe,this.Ea],-1);a.ad=this.ad;a.Ib=this.Ib;return a}ZQ(a){a=a.cN(this.Qe);if(!a)throw Error("failed to find shader program '"+this.Qe+"'");this.ad=a}ya(){return this.Ea}XG(a){this.Ma=a}Fa(){return this.Ma}H(){return this.La.H()}jz(a){this.Ib=!!a}Of(){return this.ad}c_(){const a=[];for(let b=0,e=this.ad.Xp.length;b<
e;++b){const c=this.ad.zy(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.p1=class extends d.ea{constructor(a,b){super();this.T=a;this.pV=b;this.La=a.I().La;this.$w=this.AJ=!0;this.oV=this.nV=this.lV=!1;this.Kh=d.A(d.J.xe,a.H().M.bI,{UC:(e,c)=>{c=c.Ym;const g=c.m();e.Lm(g.mE());e.Zt(g.ff());c.mh(e);e.Zt(0)},MV:e=>{const c=e.bE(),[g,m]=e.aE();return{tW:c,uW:g,sW:m}},ZC:e=>this.Uk(e)});this.Wo=[];this.Wf=[];this.bs=!0;this.Lh=[];for(const e of this.La.sg())this.Wo.push(!0);this.Dh()}j(){this.Kh.j();this.Kh=null;d.D(this.Wo);d.D(this.Wf);d.D(this.Lh);
this.La=this.T=null}Y9(a){for(const b of a)this.Lh.push(this.zG(b))}zG(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const g=d.A(d.$a);g.om(c);a[b]=g}}return a}Y1(){for(const a of this.La.sg())this.Lh.push(a.c_())}si(){this.Bu();return this.Kh}H(){return this.T.H()}Dh(){d.D(this.Wf);const a=this.pV,b=this.La.sg(),e=this.Wf,c=this.Wo;let g=!0;for(let m=0,h=b.length;m<h;++m)if(c[m]){const l=b[m];e.push(l);l.Of().bs||(g=!1)}this.bs=g;a.Qba(!!e.length);this.AJ=!0}Bu(){const a=
this.T;var b=this.pV;const e=b.vq(),c=0<b.Vc;b=0!==b.Ia()||0>b.ca()||0>b.aa();const g=a.JE();if(this.AJ||e!==this.$w||c!==this.lV||b!==this.nV||g!==this.oV)this.Kh.CD(this.Wf.map(m=>m.Of()),{Gs:this.Wf.map(m=>m.Fa()),XC:!e||a.Cq(),dL:c,TV:g,RV:b}),this.AJ=!1,this.$w=e,this.lV=c,this.nV=b,this.oV=g}Uk(a){return this.Lh[a]}Ht(a){return this.Wo[a]}VO(a,b){this.Wo[a]=!!b}sg(){return this.La.sg()}ia(){return this.La.sg().map(a=>({name:a.ya(),active:this.Wo[a.Fa()],params:d.Rk.LO(this.Lh[a.Fa()])}))}na(a){for(const b of a)if(a=
this.La.Vk(b.name))this.Wo[a.Fa()]=b.active,this.Lh[a.Fa()]=d.Rk.PN(b.params);this.Dh()}}}
{"use strict";const d=self.B,a=[],b=[],e=d.A(d.Zn),c=d.A(d.Zn),g=d.A(d.Bd);d.A(d.Rect);d.A(d.Rect);let m=null,h=null,l=null;d.LX=class extends d.ea{constructor(n){super();this.g=n;this.ow=[]}j(){this.g=null}fz(n,p){const q=n.m(),u=p.m();q&&u&&q.xg()&&u.xg()&&this.ow.push([n,p])}OL(n,p,q){for(const [u,w]of this.ow){let r;if(n===u)r=w;else if(n===w)r=u;else continue;r.eq(p)&&(q.includes(r)||q.push(r))}}XL(n,p){if(!this.ow.length)return!1;for(const [q,u]of this.ow)if(n===q&&p===u||n===u&&p===q)return!0;
return!1}YL(){d.D(this.ow)}Mo(n,p){if(!n||!p||n===p)return!1;n=n.m();p=p.m();if(!n.xg()||!p.xg())return!1;const q=n.Z(),u=p.Z();return q.N1(u)?this.vca(n,p):this.uca(n,p)}vca(n,p){if(!n.Qc().aD(p.Qc())||!n.Bj().bL(p.Bj())||n.dl()&&p.dl())return!1;if(n.dl())return this.PF(n,p);if(p.dl())return this.PF(p,n);if(!n.My()&&!p.My())return!0;const q=n.bl(),u=p.bl();return q.mx(u,p.fa()-n.fa(),p.ga()-n.ga())}uca(n,p){var q=n.dl(),u=p.dl();if(q&&!u)return this.xP(n,p);if(u&&!q)return this.xP(p,n);if(u||q)return!1;
u=n.Z();q=p.Z();e.oa(n.bl());c.oa(p.bl());var w=e.Od;for(let r=0,v=w.length;r<v;r+=2){const y=r+1,A=w[y],[G,z]=u.xo(w[r]+n.fa(),A+n.ga());w[r]=G;w[y]=z}n=c.Od;for(let r=0,v=n.length;r<v;r+=2){u=r+1;w=n[u];const [y,A]=q.xo(n[r]+p.fa(),w+p.ga());n[r]=y;n[u]=A}e.yL();c.yL();return e.mx(c,0,0)}xP(n,p){var q=n.Z(),u=p.Z();m||(m=d.A(d.Zn));h||(h=d.A(d.Rect));l||(l=d.A(d.Bd));var w=p.fa(),r=p.ga();const [v,y]=u.xo(w,r),[A,G]=q.jh(v,y);q=A-w;r=G-r;h.oa(p.Qc());h.offset(q,r);if(!n.Qc().aD(h))return!1;l.oa(p.Bj());
l.offset(q,r);if(!n.Bj().bL(l))return!1;m.oa(p.bl());u=m.Od;for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=q,u[w]+=r;m.yL();return this.PF(n,p,A,G,m,h,l)}PF(n,p,q,u,w,r,v){r=void 0!==r?r:p.Qc();const y=n.fa(),A=n.ga();var G=n.za().ma;q=void 0!==q?q:p.fa();u=void 0!==u?u:p.ga();n=p.My();v=void 0!==v?v:p.Bj();G.Qia(r,b);for(let H=0,J=b.length;H<J;++H){var z=b[H];G=z.Tia();if(r.ofa(G,y,A)&&(g.wj(G),g.offset(y,A),g.bL(v)))if(n){var F=void 0!==w?w:p.bl();if(z=z.S_()){if(z.mx(F,q-(y+G.X),u-(A+G.U)))return d.D(b),
!0}else if(e.zL(g,0,0),e.mx(F,q,u))return d.D(b),!0}else if(F=z.S_()){if(e.zL(v,0,0),F.mx(e,-(y+G.X),-(A+G.U)))return d.D(b),!0}else return d.D(b),!0}d.D(b);return!1}sz(n,p,q){const u=n.R();var w=this.g.Eb();if(!w)throw Error("cannot call outside event");w=w.Md;if(u.Vb){u.he(!1);d.D(u.F);for(var r of n.la()){var v=r.m(),y=v.Z();const [A,G]=y.jh(p,q,v.ff());v.Xs(A,G)?u.To(r):w&&u.sl(r)}}else{v=!1;w?this.g.xN()&&!u.Zb.length&&u.F.length?r=u.F:(r=u.Zb,v=!0):r=u.F;y=0;for(let A=0,G=r.length;A<G;++A){const z=
r[A],F=z.m(),H=F.Z(),[J,M]=H.jh(p,q,F.ff());F.Xs(J,M)?v?u.To(z):r[y++]=z:v?r[y++]=z:w&&u.sl(z)}r.length=y}n.ec();return u.wE()}jy(n,p,q,u){n=n?1!==n.Vd||1!==n.Wd:!1;if(p.Wa)for(const w of p.lp)n||w.zH?d.Ln(u,w.la()):(w.uS(),w.xA.dz(q,u));else n||p.zH?d.Ln(u,p.la()):(p.uS(),p.xA.dz(q,u))}O_(n,p,q,u){for(const w of p)this.jy(n,w,q,u)}X_(n,p,q){const u=this.g.qE();u&&this.O_(n,u.lE(),p,q)}VE(n,p){return n.P9()&&(!p||p.m().VE(n.yi().get("solidTags")))}Pm(n){const p=n.m();this.X_(p.Z(),p.Qc(),a);for(const q of a)if(this.VE(q,
n)&&this.Mo(n,q))return d.D(a),q;d.D(a);return null}tO(n,p,q,u){u=u||50;const w=n.m(),r=w.fa(),v=w.ga();let y=null,A=null;for(let G=0;G<u;++G)if(w.Eg(r+p*G,v+q*G),w.Da(),!this.Mo(n,y))if(y=this.Pm(n))A=y;else if(!y)return A&&this.J3(n,p,q,A),!0;w.Eg(r,v);w.Da();return!1}J3(n,p,q,u){let w=2,r=!1;var v=!1;const y=n.m();let A=y.fa(),G=y.ga();for(;16>=w;)v=1/w,w*=2,y.Pt(p*v*(r?1:-1),q*v*(r?1:-1)),y.Da(),this.Mo(n,u)||this.Pm(n)?v=r=!0:(v=r=!1,A=y.fa(),G=y.ga());v&&(y.Eg(A,G),y.Da())}K3(n){let p=0;const q=
n.m(),u=q.fa(),w=q.ga();let r=0,v=this.Pm(n);if(!v)return!0;for(;100>=p;){let y=0,A=0;switch(r){case 0:y=0;A=-1;p++;break;case 1:y=1;A=-1;break;case 2:y=1;A=0;break;case 3:A=y=1;break;case 4:y=0;A=1;break;case 5:y=-1;A=1;break;case 6:y=-1;A=0;break;case 7:A=y=-1}r=(r+1)%8;q.Eg(Math.floor(u+y*p),Math.floor(w+A*p));q.Da();if(!this.Mo(n,v)&&(v=this.Pm(n),!v))return!0}q.Eg(u,w);q.Da();return!1}}}
{"use strict";const d=self.B;d.S5=class extends d.ea{constructor(a,b){super();this.PH=a;this.OH=b;this.Ui=d.A(d.Qt)}j(){this.Ui.j();this.Ui=null}vm(a,b,e){let c=this.Ui.Y(a,b);return c?c:e?(c=d.A(d.e0,this,a,b),this.Ui.Set(a,b,c),c):null}Li(a){a=Math.floor(a/this.PH);return isFinite(a)?a:0}Mi(a){a=Math.floor(a/this.OH);return isFinite(a)?a:0}nl(a,b,e){if(b)for(let c=b.X,g=b.ja;c<=g;++c)for(let m=b.U,h=b.ba;m<=h;++m){if(e&&e.Cf(c,m))continue;const l=this.vm(c,m,!1);l&&(l.wh(a),l.to()&&this.Ui.$n(c,
m))}if(e)for(let c=e.X,g=e.ja;c<=g;++c)for(let m=e.U,h=e.ba;m<=h;++m)b&&b.Cf(c,m)||this.vm(c,m,!0).FE(a)}dz(a,b){let e=this.Li(a.X);const c=this.Mi(a.U),g=this.Li(a.ja);a=this.Mi(a.ba);if(isFinite(g)&&isFinite(a))for(;e<=g;++e)for(let m=c;m<=a;++m){const h=this.vm(e,m,!1);h&&h.PD(b)}}}}
{"use strict";const d=self.B;d.e0=class extends d.ea{constructor(a,b,e){super();this.O=b;this.N=e;this.F=d.A(d.yD)}j(){this.F.j();this.F=null}to(){return this.F.to()}FE(a){this.F.Oc(a)}wh(a){this.F.$n(a)}PD(a){d.Ln(a,this.F.WD())}}}{"use strict";const d=self.B;d.uma=class{constructor(){this.Zea=this.Yea=0;this.rect=new d.Rect;this.ix=0}Set(a,b,e,c){this.Yea=e-a;this.Zea=c-b;this.rect.set(a,b,e,c);this.rect.normalize();this.ix=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.uj.mm,c=e.create(),g=d.A(d.Bd),m=d.A(d.Rect);d.GD=class extends d.ea{constructor(h){super();this.g=h;this.pk=null;this.QT=!1;this.oj=this.cb=null;this.tI="high-performance";this.Xm=this.Wm=this.Mg=this.Ng=this.yc=this.Hc=this.pj=this.qj=0;this.Fr=!0;this.Wc=this.ld=this.YU=0;this.XS=this.hT="letterbox-scale";this.tda=this.sda=0;this.DA=e.create();
this.Ph=this.DK="high";this.wp=!1;this.Tu=[];this.FC=new Set;this.jC=self.C3_Shaders;this.bI=d.A(d.J.uZ,{KV:()=>[this.Ej(),this.ri()],LV:()=>this.d_(),iW:l=>this.R3(l),getTime:()=>this.H().fo(),hW:()=>this.H().$()});this.Zf=this.bn=0;this.Lr=NaN;this.VA=null;this.hJ=new Map;this.wv=NaN;this.NC=new Map;this.nC="";this.XJ=1;this.MU=d.A(d.Rect);this.YJ="";this.NU=this.Fw=null;this.aw=0;this.pe=-1;this.ln=0;this.nJ=l=>this.ln=l.progress;this.xf=null;this.zf={ux:null,xx:null,Dx:null};this.bK=this.SU=this.cK=
0;this.mj="fade-in";this.aK=null;this.RU=new Promise(l=>this.aK=l)}Oba(h){this.tI=h}ica(h){this.QT=!!h}async kh(h){this.pk=h.canvas;this.g.mi("runtime","window-resize",p=>this.Fu(p));this.g.mi("runtime","fullscreenchange",p=>this.O$(p));this.g.mi("runtime","fullscreenerror",p=>this.P$(p));this.pk.addEventListener("webglcontextlost",p=>this.Eu(p));this.pk.addEventListener("webglcontextrestored",()=>this.KG());this.wp=!!h.isFullscreen;var l=navigator.gpu&&this.QT;let n=!1;if(l)try{await this.cR(!0)}catch(p){this.oj=
null}if(!this.fb())try{await this.bR(!0)}catch(p){this.cb=null}this.fb()||(n=!0);if(!this.fb()&&l)try{await this.cR(!1)}catch(p){this.oj=null}if(!this.fb())try{await this.bR(!1)}catch(p){this.cb=null}l=this.fb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.d5(n);this.sd(h.windowInnerWidth,h.windowInnerHeight,!0);this.oj?await this.F9():this.cb&&await this.E9();l.yF(this.Fr);l.ck()&&(this.Lr=0);for(const p of this.g.sH){for(const q of p.sg())q.ZQ(l);p.Dh()}}async cR(h){h=
{powerPreference:this.tI,depth:this.g.hm,failIfMajorPerformanceCaveat:h,zqa:this.g.GC,NK:this.g.AK};this.oj=d.A(d.J.Zpa);await this.oj.Na(this.pk,h)}async bR(h){h={powerPreference:this.tI,IV:!0,depth:this.g.hm,NK:this.g.AK,failIfMajorPerformanceCaveat:h};"Android"===d.Mb.uh&&"Chromium"===d.Mb.Kx&&75>d.Mb.BD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.XV=1);"standard"===this.g.tr?h.alpha=
!0:(h.alpha=!1,h.hL=!0);this.cb=d.A(d.J.z6,this.pk,h);await this.cb.Qy()}async F9(){if(this.jC){const h=[];for(const [l,n]of Object.entries(this.jC))n.src=n.Pta,h.push(this.oj.MD(n,d.J.$pa.ky(),l));await Promise.all(h)}}async E9(){if(this.jC){const h=[];for(const [l,n]of Object.entries(this.jC))n.src=n.yra,h.push(this.cb.MD(n,d.J.nu.ky(),l));await Promise.all(h);this.cb.i4();this.cb.bk()}this.cb.ck()&&(this.VA=d.A(d.J.KP,this.cb))}j(){this.pk=this.cb=this.g=null}Fu(h){const l=this.g,n=h.devicePixelRatio;
l.me&&(self.devicePixelRatio=n);l.Fba(n);this.wp=!!h.isFullscreen;this.sd(h.innerWidth,h.innerHeight);l.$();l.qb&&(l.Et()||self.pg.Cja())&&l.Eo()}O$(h){this.wp=!!h.isFullscreen;this.sd(h.innerWidth,h.innerHeight,!0);this.g.$()}P$(h){this.wp=!!h.isFullscreen;this.sd(h.innerWidth,h.innerHeight,!0);this.g.$()}sd(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.qj!==h||this.pj!==l||n){this.qj=h;this.pj=l;n=this.nt();"letterbox-scale"===n?this.f7(h,l):"letterbox-integer-scale"===
n?this.e7(h,l):"off"===n?this.c7(h,l):this.d7(h,l);this.Fca(n);this.pk.width=this.Ng;this.pk.height=this.Mg;this.g.il("canvas","update-size",{marginLeft:this.Wm,marginTop:this.Xm,styleWidth:this.Hc,styleHeight:this.yc});h=this.fb();h.sd(this.Ng,this.Mg,!0);for(var p of this.Tu)h.pY(p);d.D(this.Tu);h.fq(this.DA,this.Ej()/this.ri());p=this.g.Za;p.Ho();p.Go()}}f7(h,l){const n=this.g.Cj(),p=this.g.Yg,q=this.g.Xg,u=p/q;h/l>u?(this.Hc=Math.round(l*u),this.yc=l,this.Wm=Math.floor((h-this.Hc)/2),this.Xm=
0):(this.Hc=h,this.yc=Math.round(h/u),this.Wm=0,this.Xm=Math.floor((l-this.yc)/2));this.Ng=Math.round(this.Hc*n);this.Mg=Math.round(this.yc*n);this.g.ju(p,q)}e7(h,l){const n=this.g.Cj();1!==n&&(h+=1,l+=1);const p=this.g.Yg,q=this.g.Xg;var u=p/q;u=h/l>u?l*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.Ng=Math.round(p*u);this.Mg=Math.round(q*u);this.Hc=this.Ng/n;this.yc=this.Mg/n;this.Wm=Math.max(Math.floor((h-this.Hc)/2),0);this.Xm=Math.max(Math.floor((l-this.yc)/2),0);this.g.ju(p,
q)}d7(h,l){const n=this.g.Cj();this.Hc=h;this.yc=l;this.Ng=Math.round(this.Hc*n);this.Mg=Math.round(this.yc*n);this.Xm=this.Wm=0;h=this.Dj();this.g.ju(this.Hc/h,this.yc/h)}c7(h,l){const n=this.g.Cj();this.Hc=this.g.lg;this.yc=this.g.kg;this.Ng=Math.round(this.Hc*n);this.Mg=Math.round(this.yc*n);this.wp?(this.Wm=Math.floor((h-this.Hc)/2),this.Xm=Math.floor((l-this.yc)/2)):this.Xm=this.Wm=0;this.g.ju(this.g.lg,this.g.kg)}Fca(h){if("high"===this.DK)this.ld=this.Ng,this.Wc=this.Mg,this.Ph="high";else{let n;
if("off"===this.nt()){var l=this.g.lg;n=this.g.kg}else l=this.g.Yg,n=this.g.Xg;this.Ng<l&&this.Mg<n?(this.ld=this.Ng,this.Wc=this.Mg,this.Ph="high"):(this.ld=l,this.Wc=n,this.Ph="low","scale-inner"===h?(h=l/n,l=this.qj/this.pj,l<h?this.ld=this.Wc*l:l>h&&(this.Wc=this.ld/l)):"scale-outer"===h&&(h=l/n,l=this.qj/this.pj,l>h?this.ld=this.Wc*l:l<h&&(this.Wc=this.ld/l)))}}H(){return this.g}b5(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.hT=h;h=this.g.Za;h.Ho();h.Go()}qy(){return this.hT}R4(h){if(!a.has(h))throw Error("invalid fullscreen mode");
this.XS=h;h=this.g.Za;h.Ho();h.Go()}nt(){return this.wp?this.XS:this.qy()}XO(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");this.DK=h;this.g.Za.Ho()}static zQ(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Ej(){return this.ld}ri(){return this.Wc}yF(h){this.Fr=!!h}eca(h){this.YU=h}G1(){return this.fb().ro()}Eu(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.Tu=[];this.FC.clear();this.cb.hl();this.g.Eu()}async KG(){await this.cb.aF();await this.lqa();for(const h of this.g.sH)for(const l of h.sg())l.ZQ(this.cb);await this.g.KG();console.log("[Construct 3] WebGL context restored")}cl(){return this.cb}tq(){return this.oj}fb(){return this.oj||this.cb}ym(){return"low"===this.Ph?1/this.g.Cj():this.Dj()}Dj(){const h=this.nt();if("off"===h||"crop"===h)return 1;const l=this.g.Yg,n=this.g.Xg,p=l/n,q=this.Ng/this.Mg;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.yc/n:this.Hc/l}qt(){return"low"===this.Ph?1:this.Dj()}pt(){return"low"===this.Ph?1:this.g.Cj()}Q4(h,l,n){l=l||this.ld;n=n||this.Wc;const p=l/2+this.sda,q=n/2+this.tda;{let u=this.DA;if(l!==this.ld||n!==this.Wc)h.fq(c,l/n),u=c;h.Io(u)}l=h.Vs(p,q,100*this.g.Cj(),p,q,n||this.Wc);h.Qq(l)}N4(h){var l=this.Hc/2;const n=this.yc/2;h.Io(this.DA);l=h.Vs(l,n,100,l,n);h.Qq(l)}kt(){return this.Wm}lt(){return this.Xm}gt(h){h.depth=this.g.hm;const l=this.Tu,n=l.findIndex(q=>q.x1(h));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.fb().cY(h);this.FC.add(p);return p}Bo(h){if(!this.FC.has(h))throw Error("render target not in use");this.FC.delete(h);this.Tu.push(h)}d_(){const h={vj:this.g.vd};"low"===this.Ph&&(h.width=this.Ej(),h.height=this.ri());return this.gt(h)}R3(h){this.Bo(h)}*OC(){for(const h of this.g.Za.Ax())for(const l of h.Xb){const n=this.hJ.get(l);n&&(yield n)}}TM(h){if(!this.fb().ck())return null;let l=this.hJ.get(h);l||(l={name:h.ya(),CL:d.A(d.J.KP,this.cb),RC:0,VV:0},
this.hJ.set(h,l));return l.CL}Cca(){const h=this.fb();if(h.ck()&&0===this.Zf){this.Zf=h.Oh;this.wv=NaN;for(const l of this.OC())l.RC=NaN}}Jca(){this.cb&&this.cb.ck()&&this.Kca();this.oj&&this.oj.ck()&&this.Lca()}Kca(){if(isNaN(this.wv)&&(this.wv=this.VA.PM(this.bn,this.Zf),!isNaN(this.wv))){if(this.g.qb)for(const h of this.OC())if(h.RC=h.CL.PM(this.bn,this.Zf),isNaN(h.RC))return;this.VA.mM(this.Zf);this.Lr=Math.min(this.wv,1);if(this.g.qb){for(const h of this.OC())h.CL.mM(this.Zf),h.VV=Math.min(h.RC,
1);self.pg.p6(this.Lr,[...this.OC()])}this.bn=this.Zf;this.Zf=0}}Lca(){if(0!==this.Zf){for(var h=this.bn;h<this.Zf;++h){var l=this.NC.get(h);if(l&&!l.Ny())return}l=this.g.Rb();h=d.g2(l.Xb.length+1);for(var n=this.bn;n<this.Zf;++n){var p=this.NC.get(n);if(p){p=p.Fy();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const w=p[2*q],r=p[2*q+1];h[q]=0===Number(w)||0===Number(r)?NaN:h[q]+Number(r-w)/1E9}}}this.Lr=d.da(h[0],0,1);if(this.g.qb){n=[];l=l.Xb;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)n.push({name:l[q].ya(),VV:d.da(h[q+1],0,1)});self.pg.p6(this.Lr,n)}for(h=this.bn;h<this.Zf;++h)this.NC.delete(h);this.bn=this.Zf;this.Zf=0}}Y6(h){this.NC.set(this.oj.Oh,h)}ty(){return this.Lr}uP(h,l,n,p,q,u){this.nC=h;this.XJ=l;this.MU.li(n,p,q,u);return this.Fw?this.Fw:this.Fw=new Promise(w=>{this.NU=w})}u$(){if(this.nC){var h=this.pk,l=this.MU,n=d.da(Math.floor(l.X),0,h.width),p=d.da(Math.floor(l.U),0,h.height),q=l.width();q=0===q?h.width-n:d.da(Math.floor(q),0,h.width-n);l=l.height();l=0===
l?h.height-p:d.da(Math.floor(l),0,h.height-p);(0!==n||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=d.kh(q,l),h.getContext("2d").drawImage(this.pk,n,p,q,l,0,0,q,l));d.Mx(h,this.nC,this.XJ).then(u=>{this.YJ=URL.createObjectURL(u);this.Fw=null;this.NU(this.YJ)});this.nC="";this.XJ=1}}Y0(h){this.cb&&(2===h?(this.xf=d.A(d.J.hF,this.fb()),this.xf.cP(),this.xf.vF("Arial"),this.xf.nz(16),this.xf.ZO("center"),this.xf.tP("center"),this.xf.sd(300,200)):0===h?(h=this.g.Vr)&&h.Lt(this.cb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.k$().then(l=>{"done"===this.mj?this.cb.yj(l):this.zf.ux=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.hR("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.mj?this.cb.yj(l):this.zf.xx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.hR("splash-images/splash-website-512.png").then(l=>{"done"===this.mj?this.cb.yj(l):this.zf.Dx=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async k$(){var h=(new URL("splash-images/splash-logo.svg",
this.g.YD())).toString();h=await d.Tk(h);h=await this.g.O3(h);return await this.cb.Ux(h,{vx:"high"})}async hR(h){h=(new URL(h,this.g.YD())).toString();h=await d.Tk(h);return await this.cb.Ux(h,{vx:"high"})}zE(){this.g.il("runtime","hide-cordova-splash")}T5(){this.aw=Date.now();this.g.Lb().addEventListener("loadingprogress",this.nJ);this.pe=requestAnimationFrame(()=>this.rQ());3!==this.g.Ur&&this.zE()}async wZ(){if(this.cb){this.ln=1;var h=this.g.Ur;4===h&&await this.RU;this.RU=this.aK=null;-1!==this.pe&&
(cancelAnimationFrame(this.pe),this.pe=-1);this.g.Lb().removeEventListener("loadingprogress",this.nJ);this.nJ=null;this.xf&&(this.xf.j(),this.xf=null);this.g.S3();this.cb.ku();this.zf.ux&&(this.cb.yj(this.zf.ux),this.zf.ux=null);this.zf.xx&&(this.cb.yj(this.zf.xx),this.zf.xx=null);this.zf.Dx&&(this.cb.yj(this.zf.Dx),this.zf.Dx=null);this.cb.Yn();this.cb.dt();this.mj="done";this.bn=this.cb.Oh;3===h&&this.zE()}}rQ(){if(-1!==this.pe){var h=this.cb;if(h){h.ku();this.pe=-1;var l=this.g.jd.wI,n=this.g.Ur;
3!==n&&(this.N4(h),h.Yn(),h.Vt(),h.bk(),h.Uf(null));if(0===n)this.v8(l);else if(1===n)this.Gz(l,120,0);else if(2===n)this.u8(l);else if(3!==n)if(4===n)this.w8(l);else throw Error("invalid loader style");h.dt();this.pe=requestAnimationFrame(()=>this.rQ())}}}u8(h){h?this.xf.RO(1,0,0):this.xf.RO(.6,.6,.6);this.xf.iu(Math.round(100*this.ln)+"%");h=this.Hc/2;const l=this.yc/2;g.oW(h-150,l-100,h+150,l+100);this.cb.Uf(this.xf.fe());this.cb.Fq(g,this.xf.Oj())}Gz(h,l,n){const p=this.cb;p.QO();h?p.jf(1,0,0,
1):p.jf(.118,.565,1,1);h=this.Hc/2;const q=this.yc/2,u=l/2;m.li(h-u,q-4+n,Math.floor(l*this.ln),8);p.Rect(m);m.li(h-u,q-4+n,l,8);m.offset(-.5,-.5);m.$K(.5,.5);p.jf(0,0,0,1);p.LN(m);m.$K(1,1);p.jf(1,1,1,1);p.LN(m)}v8(h){var l=this.g.Vr;if(l)if(l=l.fe()){var n=l.ca(),p=l.aa(),q=this.Hc/2,u=this.yc/2,w=n/2;p/=2;g.oW(q-w,u-p,q+w,u+p);this.cb.Uf(l);this.cb.Bd(g);this.Gz(h,n,p+16)}else this.Gz(h,120,0);else this.Gz(h,120,0)}w8(h){const l=this.cb,n=this.zf.ux,p=this.zf.xx,q=this.zf.Dx,u=Date.now();0===this.cK&&
(this.aw=u);const w=this.g.Aq()||this.g.Hda&&!this.g.wN(),r=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.mj?y=Math.min((u-this.aw)/300,1):"fade-out"===this.mj&&(y=Math.max(1-(u-this.bK)/300,0));l.QO();l.jf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Hc,this.yc);l.Rect(m);const A=Math.ceil(this.Hc),G=Math.ceil(this.yc);let z;256<this.yc?(l.jf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.li(0,.8*G-z/2,A,z),l.Rect(m),h?l.jf(y,0,0,y):l.jf(.161*y,.953*y,.816*y,y),h=A*this.ln,m.li(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),
l.jf(y,y,y,y),l.bk(),p&&(h=1.5*d.da(.22*G,105,.6*A),z=h/8,m.li(.5*A-h/2,.2*G-z/2,h,z),l.Uf(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.li(.5*A-h/2,.485*G-z/2,h,z),l.Uf(n),l.Rect(m)),q&&(h=1.5*d.da(.22*G,105,.6*A),z=h/8,m.li(.5*A-h/2,.868*G-z/2,h,z),l.Uf(q),l.Rect(m))):(l.jf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.li(0,.85*G-z/2,A,z),l.Rect(m),h?l.jf(y,0,0,y):l.jf(.161*y,.953*y,.816*y,y),h=A*this.ln,m.li(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.jf(y,y,y,y),l.bk(),n&&(z=h=.55*G,m.li(.5*A-h/2,.45*
G-z/2,h,z),l.Uf(n),l.Rect(m)));this.cK++;"fade-in"===this.mj&&300<=u-this.aw&&2<=this.cK&&(this.mj="wait",this.SU=u);"wait"===this.mj&&u-this.SU>=v&&1<=this.ln&&(this.mj="fade-out",this.bK=u);("fade-out"===this.mj&&u-this.bK>=300+r||w&&1<=this.ln&&500>u-this.aw)&&this.aK()}}}
{"use strict";const d=self.B,a=self.pg,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.KO=class extends d.ea{constructor(c){c=Object.assign({},b,c);super();this.ew=c.messagePort;this.$ca=c.baseUrl;this.me=!!c.isInWorker;e=c.ife;this.Oe=c.exportType;this.RT=!!c.isiOSCordova;this.Hda=!!c.isFBInstantAvailable;this.$da=c.opusWasmScriptUrl;this.tU=c.opusWasmBinaryUrl;this.le=this.gda=this.qb=!("preview"!==this.Oe||!c.isDebug);this.XH=
0;this.gA=[];this.Sca=[];this.MJ=this.BU=this.dC="";this.Xg=this.Yg=0;this.Br=self.devicePixelRatio;this.Ur=this.kg=this.lg=this.WB=this.VB=0;this.IC=!1;this.wk=!0;this.AK=this.GC=!1;this.Vr=null;this.jd=d.A(d.iX,this,c);this.Za=d.A(d.T1,this);this.ta=d.A(d.BZ,this);this.rn=d.A(d.v3,this);this.Hh=d.A(d.LX,this);this.Bb=d.A(d.c6,this);this.mK=d.A(d.g6,this);this.Tc=[];this.BJ=new Map;this.CJ=new Map;this.cT=0;this.Uca=[];this.sH=[];this.lv=[];this.Jl=[];this.gB=new Map;this.YA=!1;this.hw=this.DJ=0;
this.sp=new Map;this.tp=new Set;this.hB=new Set;this.TB=[];this.TT=[];this.M=null;this.hm=!1;this.nI="vsync";this.tr="standard";this.vd="trilinear";this.Ll=!1;this.yJ=!0;this.WI=this.wU=!1;this.oea={aW:g=>{this.Zl=this.pe=-1;this.Ie(g)},jga:g=>{this.Zl=-1;this.Ie(g,!1,"skip-render")},Tfa:()=>{this.pe=-1;this.Eo()}};this.Zl=this.pe=-1;this.Hr=this.Dk=0;this.wT=this.pB=this.ZA=!1;this.SI=!0;this.os=0;this.eea=()=>Math.random();this.rv=this.sv=this.GB=this.wn=0;this.Zd=1;this.oU=30;this.rI=d.A(d.Yy);
this.sI=d.A(d.Yy);this.CK=d.A(d.Yy);this.SA=-1;this.OB=this.Pl=this.RA=this.np=0;this.xk=!1;this.$v=this.rw="";this.Tr=null;this.Cp="";this.TJ=this.LJ=null;this.Tb=d.A(d.Event.Lb);this.aI=new Map;this.IJ=new Map;this.Wda=0;this.PT=this.US=this.VS=!1;this.BK=[];this.kp={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",
!1)};this.kp.instancedestroy.instance=null;this.$d=d.A(d.Event.Lb);this.gV=null;this.Vm=d.A(d.Ao,d.Hx.KF);this.$o=d.A(d.Ao,d.Hx.KF);this.bp=d.A(d.Ao,d.Hx.KF);this.Tv=d.A(d.P1,this,c.jobScheduler);c.canvas&&(this.M=d.A(d.GD,this));this.ew.onmessage=g=>this._OnMessageFromDOM(g.data);this.mi("runtime","visibilitychange",g=>this.faa(g));this.mi("runtime","opus-decode",g=>this.Oca(g.arrayBuffer));this.mi("runtime","get-remote-preview-status-info",()=>this.k9());this.mi("runtime","js-invoke-function",g=>
this.Oz(g));this.mi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Tb.addEventListener("window-blur",g=>this.jaa(g));this.Tb.addEventListener("window-focus",()=>this.kaa());this.Bb.YW();this.bj=null;this.Dda=new WeakMap;this.hv={keyboard:null,YV:null,EL:null}}static Na(c){return d.A(d.KO,c)}j(){d.D(this.Tc);this.BJ.clear();this.CJ.clear();this.Za.j();this.Za=null;this.ta.j();this.ta=null;this.rn.j();this.rn=null;this.jd.j();this.jd=null;this.Hh.j();this.Hh=null;this.Bb.j();this.Bb=
null;this.mK.j();this.mK=null;this.M&&(this.M.j(),this.M=null);this.Tb.j();this.Tb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.uR(c);else if("result"===g)this.$$(c);else throw Error(`unknown message '${g}'`);}uR(c){if(this.PT){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new d.Event(m),c.data=h,this.Tb.Vea(c)),l)){c=new d.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.lh(c)}if(c=this.aI.get(g))if(c=c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.Rz(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.Rz(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.Rz(p,!1,""+q)}):this.Rz(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.BK.push(c)}Rz(c,
g,m){this.ew.postMessage({type:"result",responseId:c,isOk:g,result:m})}$$(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.IJ.get(g);m?h.resolve(c):h.reject(c);this.IJ.delete(g)}mi(c,g,m){let h=this.aI.get(c);h||(h=new Map,this.aI.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}il(c,g,m){this.ew.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}yo(c,g,m){const h=this.Wda++,l=new Promise((n,p)=>{this.IJ.set(h,{resolve:n,
reject:p})});this.ew.postMessage({type:"event",component:c,handler:g,data:m,responseId:h});return l}A3(){if(!this.qb)throw Error("not in debug mode");this.il("runtime","post-to-debugger",{type:"reload"})}async Am(c){this.qb?await a.Am(this):self.pg&&self.pg.qja(this);var [g]=await Promise.all([this.jd.wM("data.json"),this.t$(),this.Tv.Am()]);this.W9(g);await this.G9(c);this.Aq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.cl()?(g=this.cl(),console.info(`[C3 runtime] Hosted in ${this.me?
"worker":"DOM"}, rendering with WebGL ${g.cd} [${g.zs}] (${g.y1()?"desynchronized":"standard"} compositing)`)):this.tq()&&console.info(`[C3 runtime] Hosted in ${this.me?"worker":"DOM"}, rendering with experimental WebGPU`);this.fb().WA&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.PT=!0;for(const m of this.BK)this.uR(m);d.D(this.BK);this.M&&this.M.T5();for(const m of c.runOnStartupFunctions)this.gA.push(this.Yaa(m));
await Promise.all([this.jd.IP(),...this.gA]);d.D(this.gA);if(this.jd.wI)this.M&&this.M.zE();else return this.M&&await this.M.wZ(),await this.Tb.TK(new d.Event("beforeruntimestart")),await this.ku(),this.ew.postMessage({type:"runtime-ready"}),this}async Yaa(c){try{await c(this.bj)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}W9(c){c=c.project;this.dC=c[0];this.BU=c[16];this.MJ=c[31];const g=c[39]||"loading-logo.png";this.Ll=!!c[9];this.Yg=this.lg=c[10];this.Xg=this.kg=
c[11];this.VB=this.Yg/2;this.WB=this.Xg/2;this.tr=c[36];this.nI=c[37];"low-latency"===this.tr&&this.s1()&&77>=d.Mb.BD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.tr="standard");this.hm=!!c[40];this.vd=c[14];this.GC=c[15];this.AK=c[17];this.IC=!!c[18];this.Ur=c[19];this.hw=c[21];this.wU=c[22];const m=this.jd;m.zba(c[7]);m.Nba(c[32]);m.Sba(c[28]);
m.hca(c[29]);if(0===this.Ur){let q="";this.Aq()?m.vG(g)&&(q=m.UM(g)):q=m.xT+g;q&&(this.Vr=m.Zy({url:q}))}this.M&&(this.M.b5(d.GD.zQ(c[12])),this.M.XO(c[23]?"high":"low"),this.M.yF(0!==c[24]),this.M.Oba(c[34]),this.M.eca(c[41]),this.M.ica(c[13]));this.rn.dY();this.TB=self.SL();for(var h of c[2])this.rn.bY(h);this.TB=self.SL();this.d$();for(var l of c[3])h=d.YE.Na(this,this.Tc.length,l),this.Tc.push(h),this.BJ.set(h.ya().toLowerCase(),h),this.CJ.set(h.eb,h);for(const q of c[4])this.Tc[q[0]].Z9(q);for(var n of c[27])l=
n.map(q=>this.Tc[q]),this.Uca.push(d.A(d.RX,this,l));for(const q of this.Tc)q.D$();for(const q of c[5])this.Za.Na(q);(n=c[1])&&(n=this.Za.nq(n))&&this.Za.X4(n);for(var p of c[33])this.Bb.Na(p);for(const q of c[35])this.mK.Na(q);this.D9();for(const q of c[6])this.ta.Na(q);this.ta.Ob();this.z9();d.D(this.TB);this.Qd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.il("runtime","set-target-orientation",{targetOrientation:p})}ML(c){this.gA.push(c)}f9(){return this.cT++}P6(c){this.sH.push(c)}async G9(c){this.M&&
(await this.M.kh(c),this.M.Y0(this.Ur))}async t$(){if(!this.jd.t1()){var c=null;try{c=this.RT&&this.jd.Kv?await this.jd.fM(this.tU):await this.jd.bt(this.tU)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.SW(c):this.RW();await this.TW([this.$da])}}async Oca(c){return await this.uD("OpusDecode",{arrayBuffer:c},[c])}async ku(){this.ZA=!0;this.wn=Date.now();if(this.IC){for(var c of this.Tc)c.Wa||c.VI||!c.tf||c.rd();this.jd.IP().then(()=>
{this.wk=!1;this.xR()})}else this.wk=!1;this.jd.e5();this.qb&&a.Cna(e);for(const g of this.Za.Ri)g.v7();c=this.Za.o_();await c.yG(null,this.fb());await c.nS(!0);this.np=performance.now();this.IC||this.xR();(await this.yo("runtime","before-start-ticking")).isSuspended?this.os++:this.Ie()}xR(){this.ra(d.C.Qa.G.P2,null,null);this.il("runtime","register-sw")}ph(c){c=Math.floor(c);const g=this.TB;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}d$(){for(const c of self.tX){const g=
d.first(Object.keys(c));this.TT.push(g)}}wi(c){c=Math.floor(c);const g=this.TT;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}YD(){return this.$ca}ka(){return this.ta}fd(){return this.ta.fd()}$e(){return this.ta.$e()}Eb(){return this.ta.Eb()}If(){return this.ta.If()}xN(){return 0===this.$e().zl}mt(){return this.ta.mt()}zt(){return this.rn.zt()}cf(c){c=Math.floor(c);if(0>c||c>=this.Tc.length)throw new RangeError("invalid index");return this.Tc[c]}xy(c){return this.BJ.get(c.toLowerCase())||
null}yy(c){return this.CJ.get(c)||null}*vea(){for(const c of this.Tc)c.Wa||(yield*c.OV())}Lb(){return this.Tb}lh(c){c.Ff=this.bj;const g=this.qb&&!this.ta.Ty();g&&a.MF();this.$d.dispatchEvent(c);g&&a.wD()}bo(c){c.Ff=this.bj;return this.$d.TK(c)}l5(c,g){if(this.Yg!==c||this.Xg!==g)this.Yg=c,this.Xg=g,c=this.Za,c.Ho(),c.Go()}ju(c,g){if(this.lg!==c||this.kg!==g)this.lg=c,this.kg=g,c=this.Za,c.Ho(),c.Go()}Fba(c){this.Br=c}Cj(){return this.Br}Ej(){return this.M?this.M.Ej():this.lg}ri(){return this.M?this.M.ri():
this.kg}ym(){return this.M?this.M.ym():1}Dj(){return this.M?this.M.Dj():1}qt(){return this.M?this.M.qt():1}pt(){return this.M?this.M.pt():1}kt(){return this.M?this.M.kt():0}lt(){return this.M?this.M.lt():0}YZ(){return this.M?this.M.Hc:0}XZ(){return this.M?this.M.yc:0}qy(){return this.M?this.M.qy():"off"}gt(c){return this.M?this.M.gt(c):null}Bo(c){this.M&&this.M.Bo(c)}ty(){return this.M?this.M.ty():NaN}RE(){return"nearest"!==this.vd}S3(){this.Vr&&(this.Vr.j(),this.Vr=null)}Rb(){return this.Za.Rb()}Zy(c){return this.jd.Zy(c)}KD(c,
g,m,h,l){return this.pi(c,g,!1,m,h,!1,l,void 0,l)}pi(c,g,m,h,l,n,p,q,u){var w=null;let r=null;c instanceof d.YE?(r=c,r.Wa&&(w=r.lp,r=w[Math.floor(this.Gq()*w.length)]),w=r.Ar):(w=c,r=this.cf(w[1]));c=r.sb().tf;if(this.wk&&c&&!r.VI)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.sp.has(w[2])?w[2]:this.hw++;const A=w?w[0]:null,G=d.A(d.Instance,{Ff:this,mL:r,WV:g,FW:A,NV:w?w[3]:null,uid:y});this.sp.set(y,G);y=null;c&&(y=G.m(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Dg(h),y.Bh(l)),
r.WR());g&&(u||g.Hg(G,!0),1===g.Vd&&1===g.Wd||r.UG(!0),g.fc().SN(r));this.DJ++;let z=!0;q&&(q=q.I(),q.Wb()&&r.Wb()&&r.Og===q.Og&&(z=!1));if(r.Wb()&&!m&&!n&&z){for(var F of r.Og.Vl)F!==r&&(q=this.pi(F,v,!1,y?y.fa():h,y?y.ga():l,!0,!1,void 0,u),G.Yq(q));for(var H of G.Dd){H.Yq(G);for(const J of G.Dd)H!==J&&H.Yq(J)}}c&&!m&&p&&this.aG(G,A,y,g,h,l,u);if(r.Wb()&&!m&&!n&&p)for(const J of G.Dd)if(m=J.m())F=J.sb(),H=J.I().Ar[0],F.tf?this.aG(J,H,m,g,m.fa(),m.ga(),u):this.aG(J,H,m,g,void 0,void 0,u);!n&&p&&
("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.Iy(),h=h-y.fa()+g.fa(),l=l-y.ga()+g.ga(),g.Eg(h,l));r.Iu();l=w?d.PK(w[5]):null;w=w?w[4].map(J=>d.PK(J)):null;c&&A&&A[13]&&G.Rba();G.Dz(l,w);this.Jl.push(G);this.YA=!0;this.qb&&a.rja(G);return G}aG(c,g,m,h,l,n,p){var q=m.W_(),u=m.YM();c.m().AF(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],r=A[2];u=A[3];var v=!!A[4];const G=A[5];r=this.Za.jE(A[0]).Z(w).w_(r);
w=this.cf(r[1]);var y=c.t0(w);const z=q.has(w);y&&!z&&v?(v=c.dN(w),y=l+r[0][0]-m,r=n+r[0][1]-g,v.m().Eg(y,r),v.m().AF(G),c.rm(v,{Ss:!!(u>>0&1),Ts:!!(u>>1&1),aq:!!(u>>2&1),$p:!!(u>>3&1),Rs:!!(u>>4&1),hx:!!(u>>5&1),Us:!!(u>>6&1)}),q.add(w)):(w=this.pi(r,h,!1,l+r[0][0]-m,n+r[0][1]-g,!1,!0,c,p),w.m().AF(G),c.rm(w,{Ss:!!(u>>0&1),Ts:!!(u>>1&1),aq:!!(u>>2&1),$p:!!(u>>3&1),Rs:!!(u>>4&1),hx:!!(u>>5&1),Us:!!(u>>6&1)}))}}}ao(c){if(!this.tp.has(c)){var g=c.I(),m=this.gB.get(g);if(m){if(m.has(c))return;m.add(c)}else m=
new Set,m.add(c),this.gB.set(g,m);this.qb&&a.sja(c);c.CG();this.YA=!0;if(c.Wb())for(const h of c.Dd)this.ao(h);for(const h of c.children())h.ly()&&this.ao(h);this.Za.AN()||this.xk||(g=this.ka(),g.ve(!0),c.yca(),g.ve(!1));c.J8(this.Za.AN())}}Qd(){this.YA&&(this.L8(),this.M8(),this.YA=!1,this.$())}L8(){for(const c of this.Jl){const g=c.I();g.Hg(c);for(const m of g.Mh)m.Hg(c),m.Iu()}d.D(this.Jl)}M8(){this.Tb.Nq(!0);for(const [c,g]of this.gB.entries())this.N8(c,g),g.clear();this.gB.clear();this.Tb.Nq(!1)}N8(c,
g){for(const h of g){var m=this.kp.instancedestroy;m.instance=h;this.Tb.dispatchEvent(m);this.sp.delete(h.bd);if(m=h.m())m.GR(),m.HR(),m.CG();this.tp.add(h);this.DJ--}d.mg(c.la(),g);c.Iu();this.hB.add(c);0===c.la().length&&c.UG(!1);for(const h of c.Mh)d.mg(h.la(),g),h.Iu(),this.hB.add(h);if(c.sb().tf){c=new Set([...g].map(h=>h.m().Z()));for(const h of c)h.Daa(g)}}*aL(c){for(const g of this.Jl)c.Wa?g.I().AD(c)&&(yield g):g.I()===c&&(yield g)}e9(){return this.hw++}q$(c,g){this.sp.set(c,g)}Eu(){this.Tb.dispatchEvent(d.A(d.Event,
"webglcontextlost"));this.hu(!0);for(var c of this.Tc)!c.Wa&&c.r0()&&c.Co();(c=this.Rb())&&c.Eu();d.Py.Dq();d.qN.Dq()}async KG(){await this.Rb().yG(null,this.cl());this.Tb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.hu(!1);this.$()}faa(c){this.hu(c.hidden)}jaa(c){this.Aq()&&this.wU&&!d.Mb.Uy&&!c.data.parentHasFocus&&(this.hu(!0),this.WI=!0)}kaa(){this.WI&&(this.hu(!1),this.WI=!1)}IR(){const c=this.oea;"vsync"===this.nI?-1===this.pe&&(this.pe=self.requestAnimationFrame(c.aW)):"unlimited-tick"===
this.nI?(-1===this.Zl&&(this.Zl=d.jF(c.jga)),-1===this.pe&&(this.pe=self.requestAnimationFrame(c.Tfa))):-1===this.Zl&&(this.Zl=d.jF(c.aW))}j7(){-1!==this.pe&&(self.cancelAnimationFrame(this.pe),this.pe=-1);-1!==this.Zl&&(d.AX(this.Zl),this.Zl=-1)}Hm(){return 0<this.os}hu(c){var g=this.Hm();this.os+=c?1:-1;0>this.os&&(this.os=0);c=this.Hm();!g&&c?(console.log("[Construct 3] Suspending"),this.j7(),this.Tb.dispatchEvent(d.A(d.Event,"suspend")),this.ra(d.C.Qa.G.f3,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.np=this.GB=g=performance.now(),this.Pl=this.OB=this.RA=this.SA=0,this.Tb.dispatchEvent(d.A(d.Event,"resume")),this.ra(d.C.Qa.G.b3,null,null),this.Et()||this.Ie(g))}M6(c){this.Vm.Oc(c)}Faa(c){this.Vm.wh(c)}Eaa(c){this.$o.wh(c)}Gaa(c){this.bp.wh(c)}a7(){this.Vm.zh(!0);for(const c of this.Vm)c.Ie();this.Vm.zh(!1)}Z6(){this.$o.zh(!0);for(const c of this.$o);this.$o.zh(!1)}b7(){this.bp.zh(!0);for(const c of this.bp);this.bp.zh(!1)}*F7(){this.Vm.zh(!0);for(const c of this.Vm){const g=c.Ie();d.Fm(g)&&
(yield*g)}this.Vm.zh(!1)}*E7(){this.$o.zh(!0);for(const c of this.$o)d.Fm(void 0)&&(yield*void 0);this.$o.zh(!1)}*G7(){this.bp.zh(!0);for(const c of this.bp)d.Fm(void 0)&&(yield*void 0);this.bp.zh(!1)}async Ie(c,g,m){this.wT=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.ZA&&(!this.Hm()||g||h)&&(g=performance.now(),this.pB=!0,this.w$(c||0),c=this.V5(),this.le&&await c,c=this.Tb.Wea(this.kp.pretick),c instanceof Promise&&await c,c=this.U5(),this.le&&await c,this.B$()&&
await this.s9(),this.Za.zq()&&await this.s$(),c=this.W5(),this.le&&await c,m&&this.Eo(),this.Hm()||h||this.IR(),this.Dk++,this.Hr++,this.pB=!1,this.Pl+=performance.now()-g)}async V5(){const c=this.ta,g=this.qb;this.Qd();c.ve(!0);this.St(this.Rb());g&&a.Xq();this.le?await c.jY():c.r4();g&&a.QW();this.Rt();c.ve(!1);this.Qd();c.ve(!0)}async U5(){const c=this.qb,g=this.le,m=this.Tb,h=this.kp,l=this.gV;c&&a.Xq();g?await this.Yx(this.F7()):this.a7();g?await this.Yx(this.E7()):this.Z6();c&&a.MW();c&&a.Xq();
g?await this.kM(h.tick):m.dispatchEvent(h.tick);c&&a.VW();this.ta.ve(!1);this.lh(l.tick)}async W5(){const c=this.ta,g=this.Tb,m=this.kp,h=this.qb,l=this.le;h&&a.Xq();l?await c.hY(this.Za):c.p4(this.Za);h&&a.QW();this.Hh.YL();this.ER();this.SI=!1;c.ve(!0);h&&a.Xq();l?await this.Yx(this.G7()):this.b7();h&&a.MW();h&&a.Xq();l?await this.kM(m.tick2):g.dispatchEvent(m.tick2);h&&a.VW();c.ve(!1);l&&await c.JO()}ER(){if(0!==this.tp.size){var c=this.Tb;c.Nq(!0);for(const g of this.hB)g.vn.Do(this.tp);this.hB.clear();
this.ta.V3(this.tp);for(const g of this.tp)g.j();this.tp.clear();c.Nq(!1)}}async s$(){const c=this.Za;let g=0;for(;c.zq()&&10>g++;)await this.lQ(c.kw)}w$(c){let g=0;0!==this.GB&&(g=Math.max(c-this.GB,0)/1E3,.5<g&&(g=0),this.sv=Math.min(g,1/this.oU));this.GB=c;this.rv=this.sv*this.Zd;this.rI.Oc(this.rv);this.sI.Oc(g*this.Zd);this.CK.Oc(this.sv);this.M&&this.M.Jca();1E3<=c-this.np&&(this.np+=1E3,1E3<=c-this.np&&(this.np=c),this.RA=this.SA,this.SA=0,this.OB=Math.min(this.Pl/1E3,1),this.Pl=0,this.M&&
this.M.Cca(),this.qb&&a.Lpa());this.SA++}async lQ(c){const g=this.Tb,m=this.Za.Rb();await m.tca();m.Bca(c,this.fb());m===c&&this.ta.Ox();this.Hh.YL();this.ER();g.dispatchEvent(this.kp.beforelayoutchange);d.Qk.YO(!0);await c.yG(m,this.fb());d.Qk.YO(!1);await c.nS(!1);g.dispatchEvent(this.kp.layoutchange);this.$();this.SI=!0;this.Qd()}$(){this.yJ=!0}cl(){return this.M?this.M.cl():null}tq(){return this.M?this.M.tq():null}fb(){return this.M?this.M.fb():null}Eo(){const c=this.M;if(c&&!c.G1()){var g=this.fb(),
m=g.ck(),h=m&&g.gl();m=m&&!1;h&&g.DX();if(this.yJ){var l=this.Za.Rb();g.ku();var n=this.qb;n&&a.Xq();this.yJ=!1;var p=null;h&&(p=c.VA.xD(),g.NF(p));h=null;m&&(h=g.bpa(2*(1+l.Xb.length)),g.H6(0));this.hm&&"low"===c.Ph?g.Y4(c.Ej(),c.ri()):g.G4();this.Maa(this.fb(),l);p&&g.RD(p);m&&(g.H6(1),this.M.Y6(h));g.dt();n&&(a.Pga(),a.Mpa());c&&c.u$()}else g.M0()}}Maa(c,g){c.bk();c.OO();c.jf(1,1,1,1);c.Cg(null);c.Uf(null);c.Bg(this.hm);g.mh(c)}ra(c,g,m){if(!this.ZA)return!1;var h=!this.pB&&!this.ta.QE();let l=
0;h&&(l=performance.now());const n=this.qb;n&&this.lz(!1);c=this.ta.Mu(this.Za,c,g,m);h&&(h=performance.now()-l,this.Pl+=h,n&&a.Sga(h));n&&this.lz(!0);return c}async hd(c,g,m){if(!this.le)return this.ra(c,g,m);if(!this.ZA)return!1;if(this.Et())return this.ta.N3(c,g,m);if(!this.Rb())return this.ta.fF(c,g,m);const h=performance.now();c=this.ta.qu(this.Za,c,g,m);for(g=c.next();!g.done;)await this.hq(g.value),g=c.next();this.Hm()||this.ta.QE()||(await this.ta.JO(),this.wT&&!this.pB&&this.IR());this.Pl+=
performance.now()-h;return g.value}St(c){this.lv.push(c)}Rt(){if(!this.lv.length)throw Error("layout stack empty");this.lv.pop()}Ja(){return this.lv.length?this.lv.ae(-1):this.Rb()}my(c){return c&&-1!==c.Zd?this.sv*c.Zd:this.rv}EF(c){if(isNaN(c)||0>c)c=0;this.Zd=c}iP(c){this.oU=d.da(c,1,120)}fo(){return this.rI.Y()}s_(){return this.sI.Y()}tE(){return this.CK.Y()}el(){++this.Hr}Gj(c){if(this.xk)throw Error("cannot call while loading state - wait until afterload event");return this.sp.get(c)||null}CR(){this.sp.clear();
for(const c of this.Tc)if(!c.Wa)for(const g of c.la())this.sp.set(g.bd,g)}Aq(){return"preview"===this.Oe}wN(){return"cordova"===this.Oe}s1(){return"Android"===d.Mb.uh&&("cordova"===this.Oe||"playable-ad"===this.Oe||"instant-games"===this.Oe)}qE(){return this.rn.qE()}o5(c){c=!!c;this.Ll!==c&&(this.Ll=c,this.Za.Go(),this.$())}w4(c){this.rw=c}a2(c){this.$v=c}XE(c){this.Tr=c}B$(){return!(!this.rw&&!this.$v&&null===this.Tr)}async s9(){this.rw&&(this.Qd(),await this.i8(this.rw),this.ZF());this.$v&&(await this.h8(this.$v),
this.ZF(),this.qb&&a.dpa());if(null!==this.Tr){this.Qd();try{await this.mQ(this.Tr),this.Cp=this.Tr,await this.hd(d.C.Qa.G.gO,null),this.Cp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.hd(d.C.Qa.G.hO,null)}this.ZF()}}ZF(){this.$v=this.rw="";this.Tr=null}j9(){this.LJ||(this.LJ=localforage.QK({name:"c3-localstorage-"+this.MJ,description:this.dC}));return this.LJ}OQ(){this.TJ||(this.TJ=localforage.QK({name:"c3-savegames-"+this.MJ,description:this.dC}));
return this.TJ}async i8(c){const g=await this.rba();try{await this.OQ().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Cp=g,await this.hd(d.C.Qa.G.d3,null),this.Cp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.hd(d.C.Qa.G.e3,null)}}async h8(c){try{const g=await this.OQ().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.mQ(g);this.Cp=
g;await this.hd(d.C.Qa.G.gO,null);this.Cp=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.hd(d.C.Qa.G.hO,null)}}async rba(){const c={c3save:!0,version:1,rt:{time:this.fo(),timeRaw:this.s_(),walltime:this.tE(),timescale:this.Zd,tickcount:this.Dk,execcount:this.Hr,next_uid:this.hw,running_layout:this.Rb().eb,start_time_offset:Date.now()-this.wn},types:{},layouts:{},events:this.ta.ia(),timelines:this.Bb.ia(),user_script_data:null};for(var g of this.Tc)g.Wa||
g.mN()||(c.types[g.eb.toString()]=g.ia());for(const m of this.Za.Ri)c.layouts[m.eb.toString()]=m.ia();g=this.dG("save");g.saveData=null;await this.bo(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async mQ(c){var g=this.Za;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Tb.dispatchEvent(d.A(d.Event,"beforeload"));for(var m of this.vea())m.Pz();
this.xk=!0;m=c.rt;this.rI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.sI.Set(m.timeRaw);this.CK.Set(m.walltime);this.Zd=m.timescale;this.Dk=m.tickcount;this.Hr=m.execcount;this.wn=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Rb().eb)if(h=g.jE(h))await this.lQ(h);else return;for(const [l,n]of Object.entries(c.types))h=this.yy(parseInt(l,10)),!h||h.Wa||h.mN()||h.na(n);this.Qd();this.CR();this.xk=!1;this.hw=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=g.jE(parseInt(l,
10)))&&m.na(n);this.ta.na(c.events);for(const l of this.Tc)if(!l.Wa&&l.Wb())for(const n of l.la()){m=n.ho();for(const p of l.Og.Vl)if(p!==l){h=p.la();if(0>m||m>=h.length)throw Error("missing sibling instance");n.Yq(h[m])}}this.Bb.na(c.timelines);g.Ho();g.Go();this.Tb.dispatchEvent(d.A(d.Event,"afterload"));g=this.dG("load");g.saveData=c.user_script_data;await this.bo(g);this.$()}async TW(c){c=(await Promise.all(c.map(g=>this.jd.Tk(g)))).map(g=>URL.createObjectURL(g));this.Tv.L0(c)}RW(){this.Tv.B4()}SW(c){this.Tv.C4(c)}uD(c,
g,m){return this.Tv.uD(c,g,m)}GE(c,g){this.il("runtime","invoke-download",{url:c,filename:g})}async O3(c){var g=g||2048;var m=m||2048;return this.me?(await this.yo("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}Iq(){this.VS||(this.VS=!0,this.il("runtime","enable-device-orientation"))}Jm(){this.US||(this.US=!0,this.il("runtime","enable-device-motion"))}Gq(){return this.eea()}k9(){const c=
this.cl();return{fps:this.RA,cpu:this.OB,gpu:this.ty(),layout:this.Rb()?this.Rb().ya():"",renderer:c?c.zs:"<unavailable>"}}Et(){return this.qb?a.Et():!1}hq(c){return this.le?a.hq(c):Promise.resolve()}tc(){return this.le?a.qha():!1}lz(c){c?this.XH--:this.XH++;this.Eca()}Eca(){this.le=this.qb&&this.gda&&0===this.XH}IE(){return this.qb&&a.IE()}NE(){return this.qb&&this.fb().ck()&&a.NE()}async Yx(c){if(c)for(const g of c)await this.hq(g)}kM(c){return this.Yx(this.Tb.Xea(c))}Oz(c){return this.ta.Oz(c.name,
c.params)}dG(c){c=d.A(d.Event,c,!1);c.Ff=this.bj;return c}D9(){var c={};for(const g of this.Tc)c[g.wi()]={value:g.Dv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.bj=new self.E0(this,c);this.gV={tick:this.dG("tick")}}z9(){const c={};for(const g of this.ka().tH)c[g.wi()]=g.PQ();this.bj.A9(c)}iR(c,g){this.Dda.set(c,g)}};self.C3_CreateRuntime=d.KO.Na;self.C3_InitRuntime=(c,g)=>c.Am(g)}
{"use strict";const d=self.B;d.P1=class extends d.ea{constructor(a,b){super();this.g=a;this.zp=new Map;this.Yda=0;this.Gv=b.inputPort;b.outputPort.onmessage=e=>this.wR(e);this.hU=b.maxNumWorkers;this.Uv=1;this.pT=this.Jv=!1}async Am(){}L0(a){this.Gv.postMessage({type:"_import_scripts",scripts:a})}B4(){this.Gv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}C4(a){this.Gv.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}uD(a,b,e){e||(e=[]);const c=this.Yda++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((g,m)=>{this.zp.set(c,{resolve:g,progress:void 0,reject:m,OK:!1})});this.Gv.postMessage(a,e);this.kR();return b}wR(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.T$(e,a.result);break;case "progress":this.S$(e,a.progress);break;case "error":this.R$(e,a.error);break;case "ready":this.U$();break;default:throw Error(`unknown message from worker '${b}'`);}}T$(a,b){const e=this.zp.get(a);if(!e)throw Error("invalid job ID");
e.OK||e.resolve(b);this.zp.delete(a)}S$(a,b){a=this.zp.get(a);if(!a)throw Error("invalid job ID");!a.OK&&a.progress&&a.progress(b)}R$(a,b){const e=this.zp.get(a);if(!e)throw Error("invalid job ID");e.OK||e.reject(b);this.zp.delete(a)}U$(){this.Jv&&(this.Jv=!1,this.Uv++,this.Uv<this.hU?this.kR():this.Gv.postMessage({type:"_no_more_workers"}))}async kR(){if(!(this.Uv>=this.hU||this.Jv||this.pT||this.zp.size<=this.Uv))try{this.Jv=!0,(await this.g.yo("runtime","create-job-worker")).outputPort.onmessage=
a=>this.wR(a)}catch(a){this.pT=!0,this.Jv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Uv} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let a=null,b="",e="",c=[],g="",m="",h="";const l=d.A(d.fX);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.C.Qa=class extends d.Km{constructor(p){super(p);this.vf=this.g.ka().vf;this.Jd=this.g.ka().fd();this.Ev=this.qp=0;this.jT=new Map}j(){super.j()}$(){this.g.$()}ra(p){this.g.ra(p,null,null)}Dy(p,q){a&&p===b&&q===e||(a=new RegExp(p,q),b=p,e=q);a.lastIndex=0;return a}XM(p,q,u){if(p===g&&q===m&&
u===h)return c;const w=this.Dy(q,u);c=p.match(w);g=p;m=q;h=u;return c}async AG(p,q){if(q.length){this.qp+=q.length;var u=[];for(const w of q)u.push(p.SN(w));await d.F3(u,()=>{this.Ev++});this.Ev++;this.Ev===this.qp&&(this.g.ra(d.C.Qa.G.K2,null,null),this.qp=this.Ev=0)}}sS(p,q){for(const u of q)0===u.F.length&&p.l2(u)}HQ(){return l}Oaa(p){var q=this.g.ka();const u=q.fd(),w=u.bf(),r=w.Eb(),v=r.zd();var y=w.Tj();const A=u.Oa(r),G=q.vf,z=G.Oa();if(y)for(y=0;y<p&&!z.wc;++y)q.Ee(v),z.Fc(y),r.zg(w,A),q.Nb(v);
else for(q=0;q<p&&!z.wc;++q)z.Fc(q),r.zg(w,A);u.Ka();G.Ka();return!1}*M7(p){var q=this.g.ka();const u=q.fd(),w=u.bf(),r=w.Eb(),v=r.zd();var y=w.Tj();const A=u.Oa(r),G=q.vf,z=G.Oa();if(y)for(y=0;y<p&&!z.wc;++y)q.Ee(v),z.Fc(y),yield*r.rg(w,A),q.Nb(v);else for(q=0;q<p&&!z.wc;++q)z.Fc(q),yield*r.rg(w,A);u.Ka();G.Ka();return!1}Pca(){var p=this.g.ka();const q=p.fd(),u=q.bf(),w=u.Eb(),r=w.zd();var v=u.Tj();const y=q.Oa(w),A=p.vf,G=A.Oa();if(v)for(v=0;!G.wc;++v)p.Ee(r),G.Fc(v),w.zg(u,y)||G.He(),p.Nb(r);else for(p=
0;!G.wc;++p)G.Fc(p),w.zg(u,y)||G.He();q.Ka();A.Ka();return!1}*f8(){var p=this.g.ka();const q=p.fd(),u=q.bf(),w=u.Eb(),r=w.zd();var v=u.Tj();const y=q.Oa(w),A=p.vf,G=A.Oa();if(v)for(v=0;!G.wc;++v)p.Ee(r),G.Fc(v),(yield*w.rg(u,y))||G.He(),p.Nb(r);else for(p=0;!G.wc;++p)G.Fc(p),(yield*w.rg(u,y))||G.He();q.Ka();A.Ka();return!1}O8(p,q,u){var w=this.g.ka();const r=w.fd(),v=r.bf(),y=v.Eb(),A=y.zd(),G=v.Tj(),z=r.Oa(y),F=w.vf,H=F.Oa();H.qz(p);if(u<q)if(G)for(p=q;p>=u&&!H.wc;--p)w.Ee(A),H.Fc(p),y.zg(v,z),w.Nb(A);
else for(w=q;w>=u&&!H.wc;--w)H.Fc(w),y.zg(v,z);else if(G)for(p=q;p<=u&&!H.wc;++p)w.Ee(A),H.Fc(p),y.zg(v,z),w.Nb(A);else for(w=q;w<=u&&!H.wc;++w)H.Fc(w),y.zg(v,z);r.Ka();F.Ka();return!1}*J7(p,q,u){var w=this.g.ka();const r=w.fd(),v=r.bf(),y=v.Eb(),A=y.zd(),G=v.Tj(),z=r.Oa(y),F=w.vf,H=F.Oa();H.qz(p);if(u<q)if(G)for(p=q;p>=u&&!H.wc;--p)w.Ee(A),H.Fc(p),yield*y.rg(v,z),w.Nb(A);else for(w=q;w>=u&&!H.wc;--w)H.Fc(w),yield*y.rg(v,z);else if(G)for(p=q;p<=u&&!H.wc;++p)w.Ee(A),H.Fc(p),yield*y.rg(v,z),w.Nb(A);
else for(w=q;w<=u&&!H.wc;++w)H.Fc(w),yield*y.rg(v,z);r.Ka();F.Ka();return!1}P8(p){var q=this.g.ka();const u=q.fd(),w=u.bf(),r=w.Eb(),v=r.zd();var y=w.Tj();const A=u.Oa(r),G=q.vf,z=G.Oa(),F=p.Wb(),H=p.R(),J=l.Oa();d.Nc(J,H.la());if(y)for(let M=0,P=J.length;M<P&&!z.wc;++M)q.Ee(v),y=J[M],p.R().ak(y),F&&y.Ji(),z.Fc(M),r.zg(w,A),q.Nb(v);else{H.he(!1);p=H.F;d.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.wc;++M)q=J[M],p[0]=q,F&&q.Ji(),z.Fc(M),r.zg(w,A)}u.Ka();G.Ka();d.D(J);l.Ka();return!1}*K7(p){var q=
this.g.ka();const u=q.fd(),w=u.bf(),r=w.Eb(),v=r.zd();var y=w.Tj();const A=u.Oa(r),G=q.vf,z=G.Oa(),F=p.Wb(),H=p.R(),J=l.Oa();d.Nc(J,H.la());if(y)for(let M=0,P=J.length;M<P&&!z.wc;++M)q.Ee(v),y=J[M],p.R().ak(y),F&&y.Ji(),z.Fc(M),yield*r.rg(w,A),q.Nb(v);else{H.he(!1);p=H.F;d.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.wc;++M)q=J[M],p[0]=q,F&&q.Ji(),z.Fc(M),yield*r.rg(w,A)}u.Ka();G.Ka();d.D(J);l.Ka();return!1}Q8(p,q){var u=this.g.ka();const w=u.fd(),r=u.If(),v=w.bf(),y=v.Eb(),A=y.zd(),G=v.Tj(),
z=w.Oa(y),F=u.vf,H=F.Oa(),J=p.Wb(),M=p.R(),P=l.Oa();d.D(P);const R=M.la();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Ut(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.wc;++T)u.Ee(A),q=P[T][0],p.R().ak(q),J&&q.Ji(),H.Fc(T),y.zg(v,z),u.Nb(A);else{M.he(!1);p=M.F;d.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.wc;++T)u=P[T][0],p[0]=u,J&&u.Ji(),H.Fc(T),y.zg(v,z)}w.Ka();F.Ka();d.D(P);l.Ka();return!1}*L7(p,q){var u=this.g.ka();const w=u.fd(),r=u.If(),v=w.bf(),y=v.Eb(),A=y.zd(),
G=v.Tj(),z=w.Oa(y),F=u.vf,H=F.Oa(),J=p.Wb(),M=p.R(),P=l.Oa();d.D(P);const R=M.la();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],r.Ut(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!H.wc;++T)u.Ee(A),q=P[T][0],p.R().ak(q),J&&q.Ji(),H.Fc(T),yield*y.rg(v,z),u.Nb(A);else{M.he(!1);p=M.F;d.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!H.wc;++T)u=P[T][0],p[0]=u,J&&u.Ji(),H.Fc(T),yield*y.rg(v,z)}w.Ka();F.Ka();d.D(P);l.Ka();return!1}Jz(p,q){let u=this.jT.get(p);if(u)return u;if(!q)return null;
u={Nn:null,lD:new Map};this.jT.set(p,u);return u}g8(p,q,u,w,r){q.Ae().o4(u);w&&p.Nb(r)}*H7(p,q,u,w,r){yield*q.Ae().gY(u);w&&p.Nb(r)}}}{"use strict";const d=self.B;d.C.Qa.ml=class extends d.ea{constructor(a){super();this.K=a;this.g=a.H();this.Xh=a.sb()}rd(){}j(){this.Xh=this.g=this.K=null}}}{"use strict";const d=self.B;d.C.Qa.Instance=class extends d.ea{constructor(a){super();this.T=a;this.K=this.T.I();this.Mc=this.K.Mc;this.g=this.T.H()}j(){this.g=this.Mc=this.K=this.T=null}}}
{"use strict";const d=self.B,a=[];d.C.Qa.G={DZ(){return!0},fO(){return!0},M2(){return!0},f3(){return!0},b3(){return!0},Hm(){return this.g.Hm()},sM(){const b=this.g.$e();return b.dI?!1:!b.Ap},h6(){const b=this.g.If().yi();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Dk;b.set("TriggerOnce_lastTick",c);return this.g.SI||e!==c-1},Bia(b){const e=this.g.If().yi(),c=e.get("Every_lastTime")||0,g=this.g.fo();e.has("Every_seconds")||e.set("Every_seconds",
b);const m=e.get("Every_seconds");if(g>=c+m)return e.set("Every_lastTime",c+m),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",b),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},xq(b){return(b=this.g.ka().JM(b))&&b.xq()},Aq(){return this.g.Aq()},Uy(){return d.Mb.Uy},P2(){return!0},C2(){return!0},wia(){return!0},d3(){return!0},e3(){return!0},gO(){return!0},hO(){return!0},mla(b){return!!this.g.Gj(b)},cka(b){switch(b){case 0:return"browser"===d.Mb.ID;case 1:return"iOS"===
d.Mb.uh;case 2:return"Android"===d.Mb.uh;case 8:return"cordova"===d.Mb.ID;case 9:return"scirra-arcade"===this.g.Oe;case 10:return"nwjs"===d.Mb.ID;case 13:return"windows-uwp"===this.g.Oe;default:return!1}},wma(b,e,c){return this.Dy(e,c).test(b)},NX(b,e,c){return d.compare(b,e,c)},Jha(b,e,c){return b>=e&&b<=c},Uha(b,e,c){return d.compare(b.ub(),e,c)},Kha(b){return!!b.ub()},Sha(b,e){const c=this.g.fo();return 0===b?(b=this.g.If().yi(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Vja(b){return isNaN(b)},$W(b,e,c){return d.Es(d.ib(b),d.ib(c))<=d.ib(e)},w1(b,e){return d.Af(d.ib(b),d.ib(e))},v1(b,e,c){b=d.ib(b);e=d.ib(e);c=d.ib(c);return d.Af(c,e)?d.Af(b,e)&&!d.Af(b,c):!(!d.Af(b,e)&&d.Af(b,c))},oka(b,e){return"number"===typeof b?0===e:1===e},Aia(b){return!!b},Qla(b,e,c,g){if(!b)return!1;const m=this.HQ(),h=m.Oa(),l=b.R();d.Nc(h,l.la());l.Vb&&d.D(l.Zb);const n=this.g.If();let p=0;for(let q=0,u=h.length;q<u;++q){const w=h[q];h[p]=w;e=n.Ut(1,q);g=n.Ut(3,
q);d.compare(e,c,g)?++p:l.sl(w)}d.Ye(h,p);l.Xt(h);e=!!h.length;d.D(h);m.Ka();b.ec();return e},Rla(b,e){if(!b)return!1;const c=this.HQ(),g=c.Oa(),m=b.R();d.Nc(g,m.la());m.Vb&&d.D(m.Zb);const h=this.g.If();let l=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[l]=q;(e=h.Ut(1,n))?++l:m.sl(q)}d.Ye(g,l);m.Xt(g);e=!!g.length;d.D(g);c.Ka();b.ec();return e},Vla(b,e){if(!b)return!1;const c=b.R(),g=c.la();e=Math.floor(e);if(e>=g.length)return!1;c.Im(g[e]);b.ec();return!0},Zla(b){if(!b)return!1;const e=b.R(),
c=e.la(),g=Math.floor(this.g.Gq()*c.length);if(g>=c.length)return!1;e.Im(c[g]);b.ec();return!0},Pla(b){if(!b||!b.F.length)return!1;b.R().he(!0);b.ec();return!0},Xla(b,e,c){if(!b)return!1;const g=b.R();var m=g.la();const h=this.g.Eb().Md,l=this.g.If().ej;g.Vb?(d.Nc(a,m),g.Px(),g.he(!1)):h?(d.Nc(a,g.Zb),d.D(g.Zb)):(d.Nc(a,g.F),d.D(g.F));for(let n=0,p=a.length;n<p;++n)m=a[n],d.xor(m.m().Xs(e,c),l)?g.To(m):g.sl(m);b.ec();return d.xor(!!g.F.length,l)},Ula(b){if(!b)return!1;var e=b.Wa;let c=null;const g=
this.g.Jl;for(let m=g.length-1;0<=m;--m){const h=g[m];if(e){if(h.I().AD(b)){c=h;break}}else if(h.I()===b){c=h;break}}c||(e=b.la(),e.length&&(c=e.ae(-1)));if(!c)return!1;b.R().Im(c);b.ec();return!0},Dma(b){return this.g.le?this.M7(b):this.Oaa(b)},aqa(){return this.g.le?this.f8():this.Pca()},MZ(b,e,c){return this.g.le?this.J7(b,e,c):this.O8(b,e,c)},zM(b){return this.g.le?this.K7(b):this.P8(b)},Kia(b,e,c){return this.g.le?this.L7(b,c):this.Q8(b,c)},Cka(b){return b?b.Rc():!1},zka(b){return b?!b.F.length:
!1},yka(b,e,c){return b?d.compare(100*b.Ce(),e,c):!1},K2(){return!0},Pja(){return 0<this.qp}}}
{"use strict";const d=self.B;function a(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const e=[],c=[],g=d.A(d.Rect),m=d.A(d.$a);d.C.Qa.Cb={I5(h,l){h.Ge(l)},Tga(h,l){h.Gm()&&"number"!==typeof l&&(l=parseFloat(l));h.Ge(h.ub()+l)},qpa(h,l){h.Gm()&&h.Ge(h.ub()-l)},Una(h,l){h.Ge(!!l)},wpa(h){h.Ge(!h.ub())},sna(){this.g.ka().e4()},aY(h,l,n,p,q){h&&l&&(n=this.g.KD(h,l,n,p,q))&&(q&&l.JF(n),l=this.g.ka(),l.ve(!0),n.cA(),l.ve(!1),h.R().ak(n),n.Wb()&&n.Ji())},iia(h,l,n,p,q){h&&
l&&(h=this.g.xy(h))&&d.C.Qa.Cb.aY.call(this,h,l,n,p,q)},Tt(h,l,n,p,q,u,w,r,v,y){if(h){var A=this.g.Ja();if(u&&(A=this.g.Za.nq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.Z(w),!u)return;g.set(l,n,p,q);l=A.Tt(h,g,u,r,v,y);h.R().Xt(l);h.ec()}},epa(){const h=this.vf;h.CN()&&h.lq().He()},Pq(h,l){(h=this.g.ka().JM(h))&&(0===l?h.Pq(!1):1===l?h.Pq(!0):h.Pq(!h.xq()))},v5(h){this.g.EF(h)},Joa(h,l){0>l&&(l=0);if(h){h=h.R().la();for(const n of h)n.EF(l)}},wna(h){if(h){h=h.R().la();for(const l of h)l.l4()}},
TF(h){if(!(0>h))return this.g.ka().vD().n1(h),!0},Vpa(h){this.g.ka().vD().l1(h);return!0},Upa(){const h=this.g.ka();h.vD().$0(h.T_());return!0},Soa(h){h=h.toLowerCase();for(const l of this.g.ka().fg)l.J1()&&l.Aw===h&&l.BF()},async uP(h,l,n,p,q,u){const w=this.g.M;w&&(this.$(),await w.uP(0===h?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.hd(d.C.Qa.G.C2,null))},L4(h,l){if(!(0>=h||0>=l)){this.g.ju(h,l);var n=this.g.Ja();n.Jx();for(const p of n.Xb)p.SF();if(n=this.g.M)"off"!==n.nt()&&this.g.l5(h,
l),n.sd(n.qj,n.pj,!0),this.g.$()}},hoa(h){const l=this.g.M;l&&"off"!==l.nt()&&(l.XO(0!==h?"high":"low"),l.sd(l.qj,l.pj,!0))},Fo(h){this.g.w4(h)},Hka(h){this.g.a2(h)},Ika(h){this.g.XE(h)},joa(){},tna(){for(const h of this.g.Za.Ri)h.j4()},Koa(h){this.g.o5(0!==h)},iP(h){this.g.iP(h)},Woa(h,l){if(h){var n=h.R().la(),p=this.g.Ja(),q=h.Wa;h=h.Nh;for(let w=0,r=n.length;w<r;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=q?u.Be(l+u.I().fE(h)):u.Be(l);e.push([v.Z().Fa(),v.Qj()]);c.push([u,y])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let w=0,r=e.length;w<r;++w)n=c[w][0],q=p.uy(e[w][0]),h=e[w][1],u=q.F,u[h]!==n&&(u[h]=n,n.m().Ju(q),q.Fg(),l=!0);l&&this.g.$();d.D(e);d.D(c)}}},Xia(h){if(!this.g.wk){var l=this.g.Za;l.zq()||l.Nx(h)}},Yia(h){if(!this.g.wk){var l=this.g.Za;l.zq()||(h=l.nq(h))&&l.Nx(h)}},ela(h){if(!this.g.wk){var l=this.g.Za;if(!l.zq()){var n=l.Ri,p=n.indexOf(l.Rb());h&&0===p||(h||p!==n.length-1)&&l.Nx(n[p+(h?-1:1)])}}},una(){if(!this.g.wk){var h=this.g.Za;h.zq()||(h.Nx(h.Rb()),this.g.ka().f4())}},
yoa(h,l){h&&h.Ah(l)},soa(h,l){h&&h.Zj(l/100)},uoa(h,l){h&&h.kP(l)},voa(h,l){h&&h.r5(l)},moa(h,l){h&&h.Ec(d.ib(+l))},woa(h,l,n){h&&(h.du(!0),h.Hi(l),h.Ii(n))},vna(h){h&&h.du(!1)},toa(h,l,n){h&&h.m5(l/100,n/100)},zoa(h,l){h&&h.kf(+l)},noa(h,l){h&&(m.Ps(l),m.da(),h=h.xl,h.lm(m)||(h.rj(m),this.$()))},xoa(h,l){h&&h.E5(l)},ooa(h,l){h&&h.Tf(l)},poa(h,l,n){h&&(n=h.La.Vk(n))&&(l=1===l,n.Ib!==l&&(n.jz(l),h.Dh(),this.g.$()))},qoa(h,l,n,p){if(h&&(h=h.La,l=h.Vk(l))&&(h=h.Uk(l.Fa()),n=Math.floor(n),!(0>n||n>=h.length))){var q=
l.Of().zy(n);if("color"===q){m.Ps(p);n=h[n];if(m.lm(n))return;n.rj(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}l.Ib&&this.g.$()}},roa(h,l){h&&h.a5(l)},Eoa(h){this.g.Ja().zF(+h)},Aoa(h){this.g.Ja().Ec(d.ib(+h))},Boa(h,l){const n=this.g.Ja();if(l=n.La.Vk(l))h=1===h,l.Ib!==h&&(l.jz(h),n.Dh(),this.g.$())},Coa(h,l,n){var p=this.g.Ja().La;if(h=p.Vk(h))if(p=p.Uk(h.Fa()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Of().zy(l);if("color"===q){m.Ps(n);l=p[l];if(m.lm(l))return;l.rj(m)}else{"percent"===
q&&(n/=100);if(p[l]===n)return;p[l]=n}h.Ib&&this.g.$()}},Foa(h,l){this.g.Ja().H5(h/100,l/100)},Doa(h){const l=this.g.Ja();0===h?l.mP():l.jP()},Mna(h){this.g.Ja().Hi(h)},Nna(h){this.g.Ja().Ii(h)},A4(h,l){const n=this.g.Ja();n.Hi(h);n.Ii(l)},Lna(h){if(h&&(h=h.NM())&&(h=h.m())){var l=this.g.Ja();l.Hi(h.fa());l.Ii(h.ga())}},async c2(h){const l=this.g.Rb();l&&h&&!this.g.wk&&await this.AG(l,h.Wa?h.lp:[h])},async Gka(h){await d.C.Qa.Cb.c2.call(this,this.g.xy(h))},k6(h){const l=this.g.Rb();l&&h&&this.sS(l,
h.Wa?h.lp:[h])},Ipa(h){d.C.Qa.Cb.k6.call(this,this.g.xy(h))},Jpa(){const h=this.g.Rb();if(h){var l=h.r9();this.sS(h,l)}},async Eka(h){const l=this.g.Rb();h&&l&&!this.g.wk&&await this.AG(l,h.IQ())},async Fka(h){const l=this.g.Rb();(h=this.g.Za.nq(h))&&l&&!this.g.wk&&await this.AG(l,h.IQ())},oz(h){const l=this.Jd.a_();if(l)switch(l.kT){case 1:"number"===typeof h&&l.oz(h);break;case 2:"string"===typeof h&&l.oz(h);break;case 3:l.oz(h)}},Oka(h,l,n){var p=this.Jz(h.toLowerCase(),!0);const q=p.lD,u=l.toLowerCase();
q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(q.values())||p.Nn)&&0!==p.Yl!==(0!==n.Yl)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Pka(h,l){const n=this.Jz(h.toLowerCase(),!0);n.Nn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=d.first(n.lD.values())||n.Nn;p&&
0!==p.Yl!==(0!==l.Yl)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.Nn=l},uha(h,l,n){n=Math.floor(n);var p=this.Jz(h.toLowerCase(),!1);if(p){var q=p.lD.get(l.toLowerCase());if(!q)if(p.Nn)q=p.Nn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.Bm())if(0!==q.Yl)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);
else{h=this.g;l=h.ka();var u=l.Eb();p=u.Ad();var w=0<p.length;w&&l.yg(p);var r=[];if(u=l.TD(u)){u=u.Sg;for(let v=n,y=u.length;v<y;++v)r.push(u[v].ub())}n=q.Sg;for(let v=r.length,y=n.length;v<y;++v)r.push(n[v].rp);return h.le?this.H7(l,q,r,w,p):this.g8(l,q,r,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.C.Qa.Db={Gra:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Yqa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},pm(a){return a.toString()},rx(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Gq()*a:this.g.Gq()*(b-a)+a},Iea(...a){return a[Math.floor(this.g.Gq()*a.length)]},Dsa(){return Math.PI},Era(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},cta(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.ib(a))},cos(a){return Math.cos(d.ib(a))},tan(a){return Math.tan(d.ib(a))},asin(a){return d.Gf(Math.asin(a))},acos(a){return d.Gf(Math.acos(a))},atan(a){return d.Gf(Math.atan(a))},exp(a){return Math.exp(a)},zfa(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b<g&&(b=g)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let g=a[e];"number"===typeof g&&b>g&&(b=g)}return b},da(a,b,e){return d.da(a,b,e)},ix(a,b,e,c){return d.Fs(a,b,e,c)},angle(a,b,e,c){return d.Gf(d.PC(a,b,e,c))},de(a,b,e){return d.de(a,b,e)},mD(a,b,e){return d.mD(a,b,e)},fD(a,b,e,c){return d.fD(a,b,e,c)},CV(a,b,e,c,g){return d.CV(a,
b,e,c,g)},BV(a,b,e){return d.BV(a,b,e)},oqa(a,b){return d.Gf(d.Es(d.ib(a),d.ib(b)))},pqa(a,b,e){return d.Gf(d.HK(d.ib(a),d.ib(b),e))},qqa(a,b,e){return d.Gf(d.IK(d.ib(a),d.ib(b),d.ib(e)))},ota(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},xta(a,b){return(a|0)^1<<(b|0)},xra(a,b){return(a|0)&1<<(b|0)?1:0},msa(){return"\n"},Cta(a){return"string"===typeof a?a.toUpperCase():""},esa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},nga(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},oga(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Zs(b),"i")):-1},Xqa(a,b){return"string"===typeof a&&
"string"===typeof b?a.search(new RegExp(d.Zs(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.Zs(b),"gi"),e):"string"===typeof a?a:""},Osa(a,b,e){b=this.Dy(b,e);return a?a.search(b):-1},Nsa(a,b,e,c){b=this.Dy(b,e);return a?a.replace(b,c):""},Msa(a,b,e){return(a=this.XM(a.toString(),b,e))?a.length:0},Lsa(a,b,e,c){c=Math.floor(c);a=this.XM(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},Sta(a,b){let e=0>a?"-":"";0>a&&(a=-a);
e+="0".repeat(Math.max(b-a.toString().length,0));return e+a.toString()},Eta(a){return encodeURIComponent(a)},Dta(a){return decodeURIComponent(a)},HV(){return this.g.rv},kga(){return this.g.Zd},Ota(){return(Date.now()-this.g.wn)/1E3},Ata(){return Date.now()},time(){return this.g.fo()},vta(){return this.g.Dk},ssa(){return this.g.DJ},ara(){return this.g.RA},Hqa(){return this.g.OB},zra(){return this.g.ty()},Rta(){return this.g.M.Ng},Qta(){return this.g.M.Mg},xsa(){return this.g.Yg},wsa(){return this.g.Xg},
vsa(){return this.g.Yg},usa(){return this.g.Xg},fta(){return this.g.Ja().Mf()},gta(){return this.g.Ja().Nf()},$ra(){return this.g.Ja().ya()},asa(){return this.g.Ja().wd},Yra(){return d.Gf(this.g.Ja().Ia())},bsa(){return this.g.Ja().ca()},Zra(){return this.g.Ja().aa()},Kta(a){return(a=this.g.Ja().Z(a))?a.Jn.X:0},Mta(a){return(a=this.g.Ja().Z(a))?a.Jn.U:0},Lta(a){return(a=this.g.Ja().Z(a))?a.Jn.ja:0},Ita(a){return(a=this.g.Ja().Z(a))?a.Jn.ba:0},Nta(a){return(a=this.g.Ja().Z(a))?a.Jn.width():0},Jta(a){return(a=
this.g.Ja().Z(a))?a.Jn.height():0},Bqa(a,b,e){return(a=this.g.Ja().Z(a))?a.jh(b,e)[0]:0},Cqa(a,b,e){return(a=this.g.Ja().Z(a))?a.jh(b,e)[1]:0},Vra(a,b,e){return(a=this.g.Ja().Z(a))?a.xo(b,e)[0]:0},Wra(a,b,e){return(a=this.g.Ja().Z(a))?a.xo(b,e)[1]:0},Rra(a){return(a=this.g.Ja().Z(a))?a.wd:0},Mra(a){return(a=this.g.Ja().Z(a))?d.Gf(a.je):0},Ora(a){return(a=this.g.Ja().Z(a))?100*a.Ce():0},Sra(a){return(a=this.g.Ja().Z(a))?a.lj:0},Tra(a){return(a=this.g.Ja().Z(a))?a.Mf():0},Ura(a){return(a=this.g.Ja().Z(a))?
a.Nf():0},Pra(a){return(a=this.g.Ja().Z(a))?100*a.Vd:0},Qra(a){return(a=this.g.Ja().Z(a))?100*a.Wd:0},Xra(a){return(a=this.g.Ja().Z(a))?a.ab():0},Nra(a){return(a=this.g.Ja().Z(a))?a.Fa():-1},Aqa(){const a=this.g.M;return a?a.YJ:""},Bfa(a){const b=this.vf;return b.CN()?a?(a=b.IZ(a))?a.Fa():0:b.lq().Fa():0},dta(){return this.g.Cp},yqa(a,b,...e){var c=this.Jz(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var g=c.lD.get(b.toLowerCase());
if(!g)if(c.Nn)g=c.Nn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=g.Yl;const m=g.ot();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.Bm())return m;a=this.g.ka();b=a.Eb().Ad();const h=0<b.length;h&&a.yg(b);const l=g.Sg;for(let n=e.length,p=l.length;n<p;++n)e.push(l[n].rp);
g=g.Ae();e=g.nF(g.Ad(),c,m,...e);h&&a.Nb(b);return e},dsa(){return this.g.jd.DB},Cra(){return 0===this.qp?1:this.Ev/this.qp},Sn(){return this.g.tq()?"webgpu":"webgl"},Rsa(){return this.g.tq()?"<unavailable>":this.g.cl().zs},Dra(){let a=this.g.fb().e_();return Math.round(100*a/1048576)/100},Ssa(a,b,e){return d.q3(a,b,e)},Vsa(a,b,e){return d.nO(a/100,b/100,e/100)},Tsa(a,b,e,c){return d.az(a/100,b/100,e/100,c/100)},Wsa(a,b,e){return d.nO(a/255,b/255,e/255)},Usa(a,b,e,c){return d.az(a/255,b/255,e/255,
c/255)},Nfa(){return this.g.dC},Ofa(){return this.g.BU},Kqa(){return this.g.Eb().Xc.ya()},Jqa(){return this.g.Eb().Cr}}}{"use strict";const d=self.B;d.C.Touch=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B,a=self.qg;d.C.Touch.ml=class extends d.Kq{constructor(e){super(e)}j(){super.j()}rd(){}Mj(){return self.I0}};let b=null;self.I0=class extends self.CE{constructor(e){super(e);b=e;e.H().hv.EL=this}requestPermission(e){a.Gd(e);const c=b.Ai().ma;if("orientation"===e)return c.LG(0);if("motion"===e)return c.LG(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.C.Touch.Instance=class extends d.Jq{constructor(a,b){super(a,"touch");this.nd=new Map;this.rB=this.eV=!1;this.UA=this.Jh=this.Ih=this.nK=this.CC=this.ws=this.lH=this.kH=this.jH=this.oH=this.nH=this.mH=this.GJ=this.FJ=this.EJ=this.UB=0;this.YB=[];b&&(this.eV=b[0]);this.tD("permission-result",e=>this.X$(e));a=this.H().Lb();this.td=new d.Ws(d.Bc.yd(a,"pointerdown",e=>this.Y$(e.data)),d.Bc.yd(a,"pointermove",e=>this.Z$(e.data)),d.Bc.yd(a,"pointerup",e=>this.yR(e.data,!1)),
d.Bc.yd(a,"pointercancel",e=>this.yR(e.data,!0)),d.Bc.yd(a,"deviceorientation",e=>this.K$(e.data)),d.Bc.yd(a,"deviceorientationabsolute",e=>this.L$(e.data)),d.Bc.yd(a,"devicemotion",e=>this.J$(e.data)),d.Bc.yd(a,"tick2",()=>this.JG()))}j(){this.nd.clear();super.j()}Y$(a){if("mouse"===a.pointerType)if(this.eV)this.rB=!0;else return;const b=a.pointerId;if(!this.nd.has(b)){var e=a.pageX-this.g.kt();a=a.pageY-this.g.lt();var c=performance.now(),g=this.nd.size;this.ws=g;this.CC=b;var m=d.A(d.C.Touch.d6);
m.Am(c,e,a,b,g);this.nd.set(b,m);this.ra(d.C.Touch.G.S2);this.ra(d.C.Touch.G.j3);this.Ih=e;this.Jh=a;this.ra(d.C.Touch.G.i3)}}Z$(a){if("mouse"!==a.pointerType||this.rB){var b=this.nd.get(a.pointerId);if(b){var e=performance.now();2>e-b.Aa()||b.nl(e,a.pageX-this.g.kt(),a.pageY-this.g.lt(),a.width,a.height,a.pressure)}}}yR(a,b){if("mouse"===a.pointerType)if(this.rB)this.rB=!1;else return;const e=performance.now();a=a.pointerId;const c=this.nd.get(a);c&&(this.ws=c.se,this.CC=c.Fj(),this.ra(d.C.Touch.G.R2),
this.ra(d.C.Touch.G.h3),b||(b=c.O5(e),"single-tap"===b?(this.ra(d.C.Touch.G.g3),this.Ih=c.fa(),this.Jh=c.ga(),this.ra(d.C.Touch.G.jO)):"double-tap"===b&&(this.ra(d.C.Touch.G.F2),this.Ih=c.fa(),this.Jh=c.ga(),this.ra(d.C.Touch.G.cO))),c.j(),this.nd.delete(a))}LG(a){this.fk("request-permission",{type:a});return new Promise((b,e)=>{this.YB.push({type:a,resolve:b,reject:e})})}X$(a){const b=a.result,e=a.type;this.nK=e;a=this.YB.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.YB=
this.YB.filter(c=>c.type!==e);b?(this.ra(d.C.Touch.G.Z2),0===e?this.g.Iq():this.g.Jm()):this.ra(d.C.Touch.G.Y2)}K$(a){"number"===typeof a.webkitCompassHeading?this.UB=a.webkitCompassHeading:a.absolute&&(this.UB=a.alpha);this.EJ=a.alpha;this.FJ=a.beta;this.GJ=a.gamma}L$(a){this.UB=a.alpha}J$(a){const b=a.acceleration;b&&(this.mH=b.x,this.nH=b.y,this.oH=b.z);if(a=a.accelerationIncludingGravity)this.jH=a.x,this.kH=a.y,this.lH=a.z}JG(){const a=performance.now();let b=0;for(const e of this.nd.values())e.Aa()<=
a-50&&e.Xba(a),e.N5(a)&&(this.ws=e.se,this.CC=e.Fj(),this.UA=b,this.ra(d.C.Touch.G.I2),this.Ih=e.fa(),this.Jh=e.ga(),this.ra(d.C.Touch.G.J2),this.UA=0),++b}Oi(a){a=Math.floor(a);for(const b of this.nd.values()){if(0===a)return b;--a}return null}vu(a,b){return 0<=a&&0<=b&&a<this.g.YZ()&&b<this.g.XZ()}}}
{"use strict";const d=self.B,a=[];d.C.Touch.G={j3(){return!0},h3(){return!0},B1(){return 0<this.nd.size},i3(b){return b&&this.vu(this.Ih,this.Jh)?this.g.Hh.sz(b,this.Ih,this.Jh):!1},M1(b){if(!b)return!1;const e=b.R();var c=e.la();for(const g of c){c=g.m();const m=c.Z();for(const h of this.nd.values()){if(!this.vu(h.fa(),h.ga()))continue;const [l,n]=m.jh(h.fa(),h.ga(),c.ff());if(c.Xs(l,n)){a.push(g);break}}}return a.length?(e.Xt(a),b.ec(),d.D(a),!0):!1},Tha(b,e,c){return(b=this.Oi(b))?d.compare(b.al(),
e,c):!1},Cla(){return!0},Wka(){return!0},Pha(b,e,c){this.g.Iq();return d.compare(0===b?this.EJ:1===b?this.FJ:this.GJ,e,c)},Hha(b,e,c){this.g.Jm();return d.compare(0===b?this.jH:1===b?this.kH:2===b?this.lH:3===b?this.mH:4===b?this.nH:this.oH,e,c)},S2(b){b=Math.floor(b);return b===this.ws},R2(b){b=Math.floor(b);return b===this.ws},cja(b){b=Math.floor(b);return this.nd.size>=b+1},I2(){return!0},g3(){return!0},F2(){return!0},J2(b){return b&&this.vu(this.Ih,this.Jh)?this.g.Hh.sz(b,this.Ih,this.Jh):!1},
jO(b){return b&&this.vu(this.Ih,this.Jh)?this.g.Hh.sz(b,this.Ih,this.Jh):!1},cO(b){return b&&this.vu(this.Ih,this.Jh)?this.g.Hh.sz(b,this.Ih,this.Jh):!1},Z2(b){return this.nK===b},Y2(b){return this.nK===b}}}"use strict";self.B.C.Touch.Cb={Hma(d){this.LG(d)}};
{"use strict";const d=self.B;d.C.Touch.Db={Apa(){return this.nd.size},Bz(a){const b=this.Oi(this.UA);return b?b.pq(this.g.Ja(),a,!0):0},VF(a){const b=this.Oi(this.UA);return b?b.pq(this.g.Ja(),a,!1):0},dqa(a,b){return(a=this.Oi(a))?a.pq(this.g.Ja(),b,!0):0},fqa(a,b){return(a=this.Oi(a))?a.pq(this.g.Ja(),b,!1):0},eqa(a,b){return(a=this.nd.get(a))?a.pq(this.g.Ja(),b,!0):0},gqa(a,b){return(a=this.nd.get(a))?a.pq(this.g.Ja(),b,!1):0},Bga(){const a=this.Oi(0);return a?a.fa():0},Ega(){const a=this.Oi(0);
return a?a.ga():0},Cga(a){return(a=this.Oi(a))?a.fa():0},Fga(a){return(a=this.Oi(a))?a.ga():0},Dga(a){return(a=this.nd.get(a))?a.fa():0},Gga(a){return(a=this.nd.get(a))?a.ga():0},Zoa(a){return(a=this.Oi(a))?a.al():0},$oa(a){return(a=this.nd.get(a))?a.al():0},Xga(a){return(a=this.Oi(a))?d.Gf(a.Ia()):0},Yga(a){return(a=this.nd.get(a))?d.Gf(a.Ia()):0},$ha(){this.g.Iq();return this.UB},Vga(){this.g.Iq();return this.EJ},mha(){this.g.Iq();return this.FJ},Oia(){this.g.Iq();return this.GJ},Jga(){this.g.Jm();
return this.jH},Lga(){this.g.Jm();return this.kH},Nga(){this.g.Jm();return this.lH},Iga(){this.g.Jm();return this.mH},Kga(){this.g.Jm();return this.nH},Mga(){this.g.Jm();return this.oH},Cpa(){return this.ws},Bpa(){return this.CC},cqa(a){return(a=this.nd.get(a))?a.ca():0},eja(a){return(a=this.nd.get(a))?a.aa():0},lma(a){return(a=this.nd.get(a))?a.AU:0}}}
{"use strict";const d=self.B;let a=-1E3,b=-1E3,e=-1E4;d.C.Touch.d6=class extends d.ea{constructor(){super();this.AU=this.P=this.V=this.JB=this.IB=this.N=this.O=this.vC=this.uC=this.HB=this.cc=this.wn=this.se=this.zU=0;this.xB=this.xI=!1}j(){}Am(c,g,m,h,l){this.zU=h;this.se=l;this.wn=this.HB=this.cc=c;this.uC=g;this.vC=m;this.O=g;this.N=m;this.IB=g;this.JB=m}nl(c,g,m,h,l,n){this.HB=this.cc;this.cc=c;this.IB=this.O;this.JB=this.N;this.O=g;this.N=m;this.V=h;this.P=l;this.AU=n;!this.xB&&15<=d.Fs(this.uC,
this.vC,this.O,this.N)&&(this.xB=!0)}Fj(){return this.zU}Aa(){return this.cc}Xba(c){this.HB=c}fa(){return this.O}ga(){return this.N}al(){const c=d.Fs(this.O,this.N,this.IB,this.JB),g=(this.cc-this.HB)/1E3;return 0<g?c/g:0}Ia(){return d.PC(this.IB,this.JB,this.O,this.N)}ca(){return this.V}aa(){return this.P}N5(c){return this.xI?!1:500<=c-this.wn&&!this.xB&&15>d.Fs(this.uC,this.vC,this.O,this.N)?this.xI=!0:!1}O5(c){if(this.xI)return"";if(333>=c-this.wn&&!this.xB&&15>d.Fs(this.uC,this.vC,this.O,this.N)){if(666>=
c-e&&25>d.Fs(a,b,this.O,this.N))return b=a=-1E3,e=-1E4,"double-tap";a=this.O;b=this.N;e=c;return"single-tap"}return""}pq(c,g,m){return"undefined"===typeof g?c.uy(0).BX(this.O,this.N)[m?0:1]:(c=c.Z(g))?c.jh(this.O,this.N)[m?0:1]:0}}}{"use strict";const d=self.B;d.C.Pc=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.C.Pc.ml=class extends d.Kq{constructor(a){super(a)}j(){super.j()}rd(){}}}
{"use strict";const d=self.B;d.C.Pc.Instance=class extends d.Jq{constructor(a){super(a,"browser");this.uk="";this.Lv=!1;this.WS=this.EU="";this.JT=!1;this.bx=this.Yp=this.vw=this.ww=0;this.Nv=!1;this.IL([["online-state",b=>this.W$(b)],["backbutton",()=>this.H$()],["sw-message",b=>this.baa(b)],["hashchange",b=>this.Q$(b)]]);a=this.H().Lb();this.td=new d.Ws(d.Bc.yd(a,"afterfirstlayoutstart",()=>this.G$()),d.Bc.yd(a,"window-resize",()=>this.Fu()),d.Bc.yd(a,"suspend",()=>this.caa()),d.Bc.yd(a,"resume",
()=>this.aaa()));this.g.ML(this.bz("get-initial-state",{exportType:this.g.Oe}).then(b=>{this.uk=b.location;this.Lv=b.isOnline;this.EU=b.referrer;this.WS=b.title;this.JT=b.isCookieEnabled;this.ww=b.screenWidth;this.vw=b.screenHeight;this.Yp=b.windowOuterWidth;this.bx=b.windowOuterHeight;this.Nv=b.isScirraArcade}))}j(){super.j()}G$(){this.vh("ready-for-sw-messages")}async W$(a){a=!!a.isOnline;this.Lv!==a&&((this.Lv=a)?await this.hd(d.C.Pc.G.V2):await this.hd(d.C.Pc.G.T2))}async Fu(){await this.hd(d.C.Pc.G.a3)}caa(){this.ra(d.C.Pc.G.W2)}aaa(){this.ra(d.C.Pc.G.X2)}async H$(){await this.hd(d.C.Pc.G.B2)}baa(a){a=
a.type;"downloading-update"===a?this.ra(d.C.Pc.G.l3):"update-ready"===a||"update-pending"===a?this.ra(d.C.Pc.G.m3):"offline-ready"===a&&this.ra(d.C.Pc.G.U2)}Q$(a){this.uk=a.location;this.ra(d.C.Pc.G.H2)}}}"use strict";
self.B.C.Pc.G={gka(){return this.Lv},V2(){return!0},T2(){return!0},a3(){return!0},fia(){return this.JT},Kja(){return this.g.M.wp},B2(){return!0},kka(d){return(this.g.M.qj<=this.g.M.pj?0:1)===d},l3(){return!0},m3(){return!0},U2(){return!0},H2(){return!0},Fla(){return!this.g.Hm()},W2(){return!0},X2(){return!0},bja(){return!1},Gja(){return!1},rla(){return!1},sla(){return!1},Rja(){return!1},yja(){return!0},spa(){return!0}};
{"use strict";const d=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.Pc.Cb={Uga(b){this.vh("alert",{message:b.toString()})},Eha(){this.Nv||(this.g.qb?self.pg.Fha():this.vh("close"))},Jia(){this.vh("set-focus",{isFocus:!0})},pha(){this.vh("set-focus",{isFocus:!1})},Uia(){this.Nv||this.vh("navigate",{type:"back"})},Via(){this.Nv||this.vh("navigate",{type:"forward"})},Wia(){},yma(){this.Nv||(this.g.qb?this.g.A3():this.vh("navigate",
{type:"reload"}))},Zia(b,e){this.fk("navigate",{type:"url",url:b,target:e,exportType:this.g.Oe})},$ia(b,e){this.fk("navigate",{type:"new-window",url:b,tag:e,exportType:this.g.Oe})},Fma(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.GD.zQ(b);this.g.M.R4(b);this.fk("request-fullscreen",{navUI:e})},vha(){this.fk("exit-fullscreen")},Spa(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.fk("vibrate",{pattern:b})},async GE(b,e){b&&e&&(b=await this.g.jd.nE(b),this.g.GE(b,e))},
tja(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.g.GE(b,c))},eia(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},cia(b){console.group(b)},dia(){console.groupEnd()},Dia(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},Lka(b){b=Math.floor(b);0>b||b>=a.length||this.fk("lock-orientation",{orientation:a[b]})},Kpa(){this.fk("unlock-orientation")},QN(b){this.g.jd.QN(b)},koa(b){this.vh("set-hash",{hash:b})}}}"use strict";
self.B.C.Pc.Db={URL(){return this.g.me?this.uk:location.toString()},pma(){return this.g.me?(new URL(this.uk)).protocol:location.protocol},sia(){return this.g.me?(new URL(this.uk)).hostname:location.hostname},kma(){return this.g.me?(new URL(this.uk)).port:location.port},Ila(){return this.g.me?(new URL(this.uk)).pathname:location.pathname},dja(){return this.g.me?(new URL(this.uk)).hash:location.hash},eF(){return this.g.me?(new URL(this.uk)).search:location.search},rma(d){const a=this.g.me?(new URL(this.uk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},vma(){return this.EU},upa(){return this.WS},wka(){return navigator.language},Mb(){return navigator.platform},Npa(){return navigator.userAgent},Cia(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},bla(){return navigator.appName},Rpa(){return navigator.appVersion},nma(){return navigator.product},
Qpa(){return navigator.vendor},kha(){return 1},lha(){return Infinity},jha(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},qY(){return self.devicePixelRatio},z4(){return this.ww},y4(){return this.vw},D6(){return this.g.M.qj},C6(){return this.g.M.pj},F6(){return this.Yp},E6(){return this.Yp}};{"use strict";const d=self.B;d.C.Text=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B;d.C.Text.ml=class extends d.Kq{constructor(a){super(a)}j(){super.j()}rd(){}Bq(){}Co(){}}}
{"use strict";const d=self.B,a=self.qg,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,m=new d.Bd;new d.$a;d.C.Text.Instance=class extends d.pF{constructor(n,p){super(n);this.md="";this.El=!0;this.$i="Arial";this.Bk=12;this.Th=0;this.rf=this.qf=!1;this.bb=d.A(d.$a);this.Xe=this.nf=0;this.Kk=!0;this.Fk=this.xs=-1;this.Uw=0;this.$c=d.A(d.J.hF,this.g.fb(),{timeout:5});this.$c.eD=()=>this.g.$();this.$c.cP();p&&(this.md=p[0],this.El=!!p[1],this.$i=p[2],this.Bk=p[3],this.Th=
p[4],this.qf=!!p[5],this.rf=!!p[6],this.nf=p[8],this.Xe=p[9],this.Kk=0===p[10],n=p[7],this.bb.Qs(n[0],n[1],n[2]),this.m().Ah(p[11]));this.ie()}j(){this.Qm();this.$c.j();this.$c=null;super.j()}ie(){const n=this.$c;n.iu(this.md);n.H4(this.El);n.vF(this.$i);n.gP(this.Th);n.PO(this.qf);n.eP(this.rf);n.Lm(this.bb);n.ZO(e[this.nf]);n.tP(c[this.Xe]);n.J5(this.Kk?"word":"character")}hH(){const n=this.m();this.$c.nz(this.Bk);this.$c.Z4(n.V_());var p=n.Z();p=p.ym()*p.AM(n.ff());this.$c.sd(n.ca(),n.aa(),p)}mh(n){var p=
this.m();this.hH();const q=this.$c.fe();if(q){var u=p.Z();if(0===p.Ia()&&0===u.Ia()&&0===p.ff()&&!p.Qf()&&u.xO()){p=p.Bj();const [w,r]=u.Uj(p.wb,p.xb),[v,y]=u.Uj(p.lc,p.mc);p=w-Math.round(w);const A=r-Math.round(r);g.set(w,r,v,y);g.offset(-p,-A);m.wj(g);const [G,z]=n.Ey(n.$k());this.g.M.Q4(n,G,z);n.Uf(q);n.Fq(m,this.$c.Oj());u.Zz(n)}else n.Uf(q),p.Qf()?this.nG(p,n):this.oG(p,n)}}oG(n,p){n=n.Bj();this.g.Ll&&(n=this.AR(n));p.Fq(n,this.$c.Oj())}nG(n,p){const q=n.iN();if(n.GN()){n.Lx(g,m,!1);let u=m;
this.g.Ll&&(u=this.AR(u));q.UL(n.Nj(),u,this.$c.Oj());n.xF(!1)}q.mh(p)}AR(n){const p=n.wb-Math.round(n.wb),q=n.xb-Math.round(n.xb);if(0===p&&0===q)return n;m.oa(n);m.offset(-p,-q);return m}Cd(){const n={t:this.md,c:this.bb.toJSON(),fn:this.$i,ps:this.Bk};this.El&&(n.bbc=this.El);0!==this.nf&&(n.ha=this.nf);0!==this.Xe&&(n.va=this.Xe);this.Kk||(n.wr=this.Kk);0!==this.Th&&(n.lho=this.Th);this.qf&&(n.b=this.qf);this.rf&&(n.i=this.rf);-1!==this.Fk&&(n.tw={st:this.xs,en:this.Fk,l:this.Uw});return n}qd(n){this.Qm();
this.md=n.t;this.bb.om(n.c);this.$i=n.fn;this.Bk=n.ps;this.El=n.hasOwnProperty("bbc")?n.bbc:!1;this.nf=n.hasOwnProperty("ha")?n.ha:0;this.Xe=n.hasOwnProperty("va")?n.va:0;this.Kk=n.hasOwnProperty("wr")?n.wr:!0;this.Th=n.hasOwnProperty("lho")?n.lho:0;this.qf=n.hasOwnProperty("b")?n.b:!1;this.rf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.xs=n.st,this.Fk=n.en,this.Uw=n.l);this.ie();-1!==this.Fk&&this.kk()}Cc(n){switch(n){case 0:return this.md;case 1:return this.El;case 2:return this.$i;
case 3:return this.Bk;case 4:return this.Th;case 5:return this.qf;case 6:return this.rf;case 7:return b[0]=this.bb.Sa,b[1]=this.bb.Va,b[2]=this.bb.Ua,b;case 8:return this.nf;case 9:return this.Xe;case 10:return this.Kk?1:0}}yh(n,p){switch(n){case 0:if(this.md===p)break;this.md=p;this.ie();break;case 1:if(this.El===!!p)break;this.El=!!p;this.ie();break;case 2:if(this.$i===p)break;this.$i=p;this.ie();break;case 3:if(this.Bk===p)break;this.Bk=p;this.ie();break;case 4:if(this.Th===p)break;this.Th=p;this.ie();
break;case 5:if(this.qf===!!p)break;this.qf=!!p;this.ie();break;case 6:if(this.rf===!!p)break;this.rf=!!p;this.ie();break;case 7:n=this.bb;if(n.Sa===p[0]&&n.Va===p[1]&&n.Ua===p[2])break;this.bb.Qs(p[0],p[1],p[2]);this.ie();break;case 8:if(this.nf===p)break;this.nf=p;this.ie();break;case 9:if(this.Xe===p)break;this.Xe=p;this.ie();break;case 10:this.Kk!==(0===p)&&(this.Kk=0===p,this.ie())}}Yz(n){this.md!==n&&(this.md=n,this.$c.iu(n),this.g.$())}rca(n,p){this.Yz(n);this.xs=this.g.tE();this.Fk=this.xs+
p/this.za().QZ();this.Uw=d.tm.wP(n).length;this.$c.uF(0);this.kk()}Qm(){this.Fk=this.xs=-1;this.Uw=0;this.$c.uF(-1);this.ir()}E8(){-1!==this.Fk&&(this.Qm(),this.ra(d.C.Text.G.kO),this.g.$())}Lba(n){this.$i!==n&&(this.$i=n,this.$c.vF(n),this.g.$())}Aba(n){n=!!n;this.qf!==n&&(this.qf=n,this.$c.PO(n),this.g.$())}Vba(n){n=!!n;this.rf!==n&&(this.rf=n,this.$c.eP(n),this.g.$())}Mba(n){this.Bk!==n&&(this.Bk=n,this.g.$())}Kba(n){this.bb.lm(n)||(this.bb.rj(n),this.$c.Lm(this.bb),this.g.$())}cS(n){this.Th!==
n&&(this.Th=n,this.ie(),this.g.$())}Pba(n){this.nf!==n&&(this.nf=n,this.ie(),this.g.$())}iS(n){this.Xe!==n&&(this.Xe=n,this.ie(),this.g.$())}jca(n){n=!!n;this.Kk!==n&&(this.Kk=n,this.ie(),this.g.$())}q9(){this.hH();return this.$c.$_()}p9(){this.hH();return this.$c.Z_()}Ie(){var n=this.g.tE();n>=this.Fk?(this.Qm(),this.ra(d.C.Text.G.kO),this.g.$()):(n=d.Sfa(this.xs,this.Fk,n,this.Uw),n=Math.floor(n),n!==this.$c.hp&&(this.$c.uF(n),this.g.$()))}Mj(){return self.H0}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.H0=class extends self.Oy{constructor(){super();h.set(this,self.Ft.$q().ma)}get text(){return h.get(this).md}set text(n){a.Gd(n);const p=h.get(this);p.Qm();p.Yz(n)}set lineHeight(n){a.xh(n);h.get(this).cS(n)}get lineHeight(){return h.get(this).Th}set verticalAlign(n){a.Gd(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).iS(n)}get verticalAlign(){return c[h.get(this).Xe]}}}
{"use strict";const d=self.B;d.C.Text.G={Rha(a,b){return b?this.md===a:d.Pn(this.md,a)},lka(){return-1!==this.Fk},kO(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.$a);d.C.Text.Cb={iu(b){this.Qm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Yz(b.toString())},cha(b){this.Qm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Yz(this.md+b)},Gpa(b,e){this.Qm();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.rca(b.toString(),e)},goa(b,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(b!==this.$i||c!==this.qf||g!==this.rf)this.Lba(b),this.Aba(c),
this.Vba(g)},nz(b){this.Mba(b)},foa(b){a.Ps(b);a.da();this.Kba(a)},Qoa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},S4(b){this.m().Tf(b);this.g.$()},Fpa(){this.E8()},gP(b){this.cS(b)},ioa(b){this.Pba(b)},Noa(b){this.iS(b)},Roa(b){this.jca(0===b)}}}{"use strict";const d=self.B;d.C.Text.Db={Text(){return this.md},bma(){return this.El?d.tm.wP(this.md):this.md},Eia(){return this.$i},EZ(){return this.Bk},Z5(){return this.q9()},tpa(){return this.p9()},Dka(){return this.Th}}}
{"use strict";const d=self.B;d.C.yb=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.C.yb.ml=class extends d.Kq{constructor(a){super(a);this.Hd=a.Hd}j(){d.D(this.Hd);super.j()}rd(){for(const a of this.Hd)a.W1(this.g)}Bq(a){const b={vj:this.g.vd};return Promise.all(this.Hd.map(e=>e.X1(a,b)))}Co(){for(const a of this.Hd)a.Q3()}$y(){this.vS()}vS(){for(const a of this.K.nfa())a.ma.fH()}et(a){d.C.yb.JZ(this,a)}}}
{"use strict";const d=self.B,a=self.qg,b=d.A(d.Rect),e=d.A(d.Bd),c=d.A(d.mu);d.C.yb.Instance=class extends d.pF{constructor(m,h){super(m);let l=!0,n="",p=0,q=!0;h&&(l=!!h[0],n=h[1],p=h[2],q=h[3]);this.Pb=this.K.CM(n)||this.K.Hd[0];this.ob=d.da(p,0,this.Pb.Ld.length-1);this.Ne=this.Pb.xm(this.ob);h=this.Ne.Jf();this.zr=h.fe();this.WH=h.Oj();this.mv=h.Gy();this.g0();m.au(2,!0);m.au(1,0<=this.Pb.al());this.qk=Math.abs(this.Pb.al());this.yr=this.Pb.HU;this.iA=d.A(d.Yy);this.lk=this.aj=0;this.wH="";this.gv=
-1;this.pr="";this.LS=0;m=this.m();this.fda=m.Bj();m.Ah(l);m.Yt(q);m.Rq(this.Ne.Yk());m.Sq(this.Ne.Zk());m.DF(this.Ne.cp);m.Da();1===this.K.Hd.length&&1===this.K.Hd[0].Ld.length||0===this.qk||this.kk()}j(){this.iA=this.zr=this.Ne=this.Pb=null;super.j()}nh(){return this.Ne.Jf()}uo(){return!0}Dq(){this.zr=null}mO(){this.fH()}mh(m){var h=this.zr;null!==h&&(m.Uf(h),h=this.m(),h.Qf()?this.nG(h,m):this.oG(h,m))}oG(m,h){let l=this.fda;this.g.Ll&&(l=m.oO(l));h.M3(l,this.mv)}nG(m,h){const l=m.iN();if(m.GN()){m.Lx(b,
e,!1);let n=e;this.g.Ll&&(n=m.oO(n));l.UL(m.Nj(),n,this.mv);m.xF(!1)}l.mh(h)}ht(){return this.iA.Y()}Ry(){return this.T.gE(2)}Lq(m){this.T.au(2,m)}Vy(){return this.T.gE(1)}eu(m){this.T.au(1,m)}PE(){return this.T.gE(4)}$O(m){this.T.au(4,m)}Ie(){this.pr&&this.kQ();0<=this.gv&&this.kG();const m=this.qk;if(this.Ry()&&0!==m){this.iA.Oc(this.g.my(this.T));var h=this.ht(),l=this.Ne,n=l.YS/m;if(!(h<this.aj+n)){var p=this.Pb,q=this.yr,u=p.Ld.length,w=p.th(),r=p.qB,v=p.Lda;this.Vy()?this.ob++:this.ob--;this.aj+=
n;this.ob>=u&&(v?(this.eu(!1),this.ob=u-2):r?this.ob=q:(this.lk++,this.lk>=w?this.qG(!1):this.ob=q));0>this.ob&&(v?(this.ob=1,this.eu(!0),r||(this.lk++,this.lk>=w&&this.qG(!0))):r?this.ob=q:(this.lk++,this.lk>=w?this.qG(!0):this.ob=q));this.ob=d.da(this.ob,0,u-1);n=p.xm(this.ob);h>this.aj+n.YS/m&&(this.aj=h);this.Qz(l,n)}}else this.ir()}qG(m){this.ob=m?0:this.Pb.Ld.length-1;this.Lq(!1);this.wH=this.Pb.ya();this.$O(!0);this.OD("animationend",!1,{animationName:this.wH});this.ra(d.C.yb.G.z2);this.ra(d.C.yb.G.y2);
this.$O(!1);this.lk=0}Qz(m,h){if(m!==h){var l=this.m(),n=m.Jf();m=h.Jf();var p=n.ca();n=n.aa();var q=m.ca(),u=m.aa();p!==q&&l.Ki(l.ca()*(q/p));n!==u&&l.Gi(l.aa()*(u/n));l.Rq(h.Yk());l.Sq(h.Zk());l.DF(h.cp);l.Da();this.Ne=h;this.zr=m.fe();this.WH=m.Oj();this.mv=m.Gy();h=this.za().kd;for(let w=0,r=h.length;w<r;++w);this.OD("framechange",!1,{animationName:this.Pb.ya(),tV:this.ob});this.ra(d.C.yb.G.G2);this.g.$()}}qca(m){this.Lq(!0);this.aj=this.ht();1===m&&0!==this.ob&&(this.gv=0,this.PE()||this.kG());
this.kk()}wba(m,h){this.pr=m;this.LS=h;this.kk();this.PE()||this.kQ()}FQ(){return this.pr?this.pr:this.Pb.ya()}VR(m){isFinite(m)&&(this.gv=m,this.PE()||this.kG())}yba(m){this.qk=Math.abs(m);this.eu(0<=m);0<this.qk&&this.kk()}BQ(){return this.Vy()?this.qk:-this.qk}xba(m){this.yr=m=d.da(Math.floor(m),0,this.Pb.Ld.length-1)}kQ(){const m=this.Ne;var h=this.K.CM(this.pr);this.pr="";!h||h===this.Pb&&this.Ry()||(this.Pb=h,this.eu(0<=h.al()),this.qk=Math.abs(h.al()),this.yr=h.HU,this.ob=d.da(this.ob,0,this.Pb.Ld.length-
1),1===this.LS&&(this.ob=0),this.Lq(!0),this.aj=this.ht(),h=this.Pb.xm(this.ob),this.Qz(m,h))}kG(){const m=this.Ne;var h=this.ob;this.ob=d.da(Math.floor(this.gv),0,this.Pb.Ld.length-1);this.gv=-1;h!==this.ob&&(h=this.Pb.xm(this.ob),this.Qz(m,h),this.aj=this.ht())}fH(){const m=this.Ne.Jf();this.zr=m.fe();this.WH=m.Oj();this.mv=m.Gy();this.m().xF(!0)}fe(){return this.zr}Oj(){return this.WH}Gy(){return this.mv}iE(){return this.Ne.iE()}io(m){const h=this.Ne,l=this.m();if("string"===typeof m)m=h.v_(m);
else if("number"===typeof m)m=h.u_(m-1);else throw new TypeError("expected string or number");if(!m)return[l.fa(),l.ga()];c.oa(m.KJ);if(l.Qf()){const [n,p]=l.Nj().zP(c.O,c.N);c.set(n,p)}c.offset(-h.Yk(),-h.Zk());c.scale(l.ca(),l.aa());c.rotate(l.Ia());c.offset(l.fa(),l.ga());return[c.O,c.N]}ZZ(){return this.m().bl().cW()}EM(m){m=Math.floor(m);const h=this.m();var l=h.bl();const n=l.cW();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Od;return[l[2*m]+h.fa(),l[2*m+1]+h.ga()]}Cd(){const m={a:this.Pb.eb};
0!==this.aj&&(m.fs=this.aj);var h=this.ht();0!==h&&(m.at=h);0!==this.ob&&(m.f=this.ob);0!==this.qk&&(m.cas=this.qk);1!==this.lk&&(m.ar=this.lk);0!==this.yr&&(m.rt=this.yr);this.Ry()||(m.ap=this.Ry());this.Vy()||(m.af=this.Vy());h=this.m();h.xg()&&(m.ce=h.xg());return m}qd(m){var h=this.I().SZ(m.a);h&&(this.Pb=h);this.aj=m.hasOwnProperty("fs")?m.fs:0;this.iA.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.ob=d.da(h,0,this.Pb.Ld.length-1);this.qk=m.hasOwnProperty("cas")?m.cas:
0;this.lk=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.yr=d.da(h,0,this.Pb.Ld.length-1);this.Lq(m.hasOwnProperty("ap")?!!m.ap:!0);this.eu(m.hasOwnProperty("af")?!!m.af:!0);this.Ne=h=this.Pb.xm(this.ob);this.fH();const l=this.m();l.Rq(h.Yk());l.Sq(h.Zk());l.DF(h.cp);l.Yt(!!m.ce)}Cc(m){const h=this.m();switch(m){case 3:return h.xg();case 2:return d.da(this.ob,0,this.Pb.Ld.length-1)}}yh(m,h){var l=this.m();switch(m){case 3:l.Yt(!!h);break;case 2:this.Lq(!1);m=this.Pb.Ld.length-
1;l=h=d.da(h,0,m);h=this.Pb.xm(this.ob);const n=this.Pb.xm(l);this.Qz(h,n);this.ob=d.da(l,0,m)}}Mj(){return self.F0}};const g=new WeakMap;self.F0=class extends self.Oy{constructor(){super();g.set(this,self.Ft.$q().ma)}get animationName(){return g.get(this).FQ()}set tV(m){a.xh(m);g.get(this).VR(m)}get tV(){return g.get(this).ob}get imageWidth(){return g.get(this).nh().ca()}get imageHeight(){return g.get(this).nh().aa()}}}
{"use strict";const d=self.B;d.C.yb.G={uja(a){return d.Pn(this.FQ(),a)},Mha(a,b){return d.compare(this.ob,a,b)},Iha(a,b){return d.compare(this.BQ(),a,b)},y2(a){return d.Pn(this.wH,a)},z2(){return!0},G2(){return!0},Sja(){return 0>this.m().ca()},Ija(){return 0>this.m().aa()},lO(){return!0},k3(){return!0},xg(){return this.m().xg()}}}
{"use strict";const d=self.B;d.C.yb.Cb={Xoa(a,b,e,c){if(a&&b){var [g,m]=this.io(e);if(e=this.g.KD(a,b,g,m,c)){c&&b.JF(e);a.sb().vo()&&(b=e.m(),b.Ec(this.m().Ia()),b.Da());b=this.g.ka();b.ve(!0);e.cA();b.ve(!1);c=this.g.mt().yi();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Hr)b=!0,c.set("Spawn_LastExec",this.g.Hr);if(a!==this.I()&&(a=a.R(),a.he(!1),a=a.F,b&&d.D(a),a.push(e),e.Wb()))for(const h of e.Dd)e=h.I().R(),b?e.ak(h):(e.he(!1),e.To(h))}}},X5(){this.Lq(!1)},apa(a){this.qca(a)},
Qna(a,b){this.wba(a,b)},F4(a){this.VR(a)},Sna(a){this.yba(a)},Rna(a){this.xba(a)},Ioa(a){const b=this.m(),e=b.ca();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Ki(a),b.Da())},doa(a){const b=this.m(),e=b.aa();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Gi(a),b.Da())},zF(a){const b=this.Ne.Jf(),e=this.m();var c=0>e.ca()?-1:1;const g=0>e.aa()?-1:1;c*=b.ca()*a;a=b.aa()*a*g;if(e.ca()!==c||e.aa()!==a)e.sd(c,a),e.Da()},async Jka(a,b){const e=this.Ne.Jf(),c=this.m(),g=this.g;if(e.Gk===a)0===b&&(c.sd(e.ca(),e.aa()),c.Da()),
this.ra(d.C.yb.G.lO);else{var m=d.A(d.Py);try{await m.Z1(g,a);if(!m.SE())throw Error("image failed to load");await m.Lt(g.fb(),{vj:this.g.vd})}catch(h){console.error("Load image from URL failed: ",h);this.ra(d.C.yb.G.k3);return}e.d4(m);this.Mc.vS();this.zz()||0!==b||(c.sd(e.ca(),e.aa()),c.Da());g.$();this.zz()||await this.hd(d.C.yb.G.lO)}},Wna(a){this.m().Yt(a)},CF(a,b){this.m().CF(0===a,b)},S4(a){this.m().Tf(a);this.g.$()}}}"use strict";
self.B.C.yb.Db={Zga(){return this.ob},$ga(){return this.Pb.Ld.length},aha(){return this.Pb.ya()},bha(){return this.BQ()},Dla(){return this.Pb.al()},mja(d){return this.io(d)[0]},nja(d){return this.io(d)[1]},lja(){return this.iE()},oja(){return this.nh().ca()},kja(){return this.nh().aa()},hma(d){return this.EM(d)[0]},ima(d){return this.EM(d)[1]},gma(){return this.ZZ()}};{"use strict";const d=self.B;d.C.Keyboard=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B;d.C.Keyboard.ml=class extends d.Kq{constructor(a){super(a)}j(){super.j()}rd(){}Mj(){return self.B0}};self.B0=class extends self.CE{constructor(a){super(a);a.H().hv.keyboard=this}}}
{"use strict";const d=self.B;d.C.Keyboard.Instance=class extends d.Jq{constructor(a){super(a);this.Pr=new Set;this.Qr=new Set;this.Ek=0;this.Tw=this.DC="";a=this.H().Lb();this.td=new d.Ws(d.Bc.yd(a,"keydown",b=>this.HG(b.data)),d.Bc.yd(a,"keyup",b=>this.IG(b.data)),d.Bc.yd(a,"window-blur",()=>this.gr()),d.Bc.yd(a,"keyboard-blur",()=>this.gr()))}j(){super.j()}HG(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Pr.has(e)||(this.Pr.add(e),this.Qr.add(b),this.DC=e,this.Ek=b,this.Tw=a,this.ra(d.C.Keyboard.G.A2),
this.ra(d.C.Keyboard.G.dO),this.ra(d.C.Keyboard.G.N2),this.ra(d.C.Keyboard.G.L2))}IG(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Pr.delete(e);this.Qr.delete(b);this.DC=e;this.Ek=b;this.Tw=a;this.ra(d.C.Keyboard.G.aO);this.ra(d.C.Keyboard.G.bF);this.ra(d.C.Keyboard.G.O2);this.ra(d.C.Keyboard.G.eO)}gr(){for(const a of this.Qr)this.Qr.delete(a),this.Ek=a,this.ra(d.C.Keyboard.G.aO),this.ra(d.C.Keyboard.G.bF),this.ra(d.C.Keyboard.G.eO);this.Pr.clear()}FN(a){return this.Pr.has(a)}Cd(){return{tk:this.Ek,
tkk:this.Tw}}qd(a){this.Ek=a.tk;a.hasOwnProperty("tkk")&&(this.Tw=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.G={FN(a){return this.Qr.has(a)},dO(a){return this.Ek===a},A2(){return!0},aO(){return!0},bF(a){return this.Ek===a},Mja(a){a=Math.floor(a);return this.Qr.has(a)},L2(a){return this.Ek===a},eO(a){return this.Ek===a},N2(a){return this.DC===d[a]},O2(a){return this.DC===d[a]},Nja(a){return this.Pr.has(d[a])}}}"use strict";
self.B.C.Keyboard.Cb={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.B.C.Keyboard.Db={xka(){return this.Ek},gpa(a){return d(a)},Epa(){return this.Tw}}}{"use strict";const d=self.B;d.C.Di=class extends d.Km{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.C.Di.ml=class extends d.Kq{constructor(a){super(a)}j(){super.j()}rd(){}}}
{"use strict";const d=self.B;d.C.Di.Instance=class extends d.Jq{constructor(a){super(a,"platform-info");this.bx=this.Yp=this.vw=this.ww=0;this.js=[0,0,0,0];this.Sv=this.xC=!1;this.IL([["window-resize",b=>this.Fu(b)],["wake-lock-acquired",()=>this.gaa()],["wake-lock-error",()=>this.haa()],["wake-lock-released",()=>this.iaa()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.V$());this.g.ML(this.bz("get-initial-state").then(b=>{this.ww=b.screenWidth;this.vw=b.screenHeight;
this.Yp=b.windowOuterWidth;this.bx=b.windowOuterHeight;this.js=b.safeAreaInset;this.xC=b.supportsWakeLock}))}j(){super.j()}Fu(a){this.Yp=a.windowOuterWidth;this.bx=a.windowOuterHeight;this.js=a.safeAreaInset}async V$(){await this.hd(d.C.Di.G.Q2)}async gaa(){this.Sv=!0;await this.hd(d.C.Di.G.n3)}async haa(){this.Sv=!1;await this.hd(d.C.Di.G.o3)}async iaa(){this.Sv=!1;await this.hd(d.C.Di.G.p3)}}}
{"use strict";const d=self.B;d.C.Di.G={bka(){return d.Mb.Uy},eka(){return"Windows"===d.Mb.uh},aka(){return"Mac OS X"===d.Mb.uh},$ja(){return"Linux"===d.Mb.uh},Yja(){return"Chrome OS"===d.Mb.uh},Wja(){return"Android"===d.Mb.uh},fka(){return"iOS"===d.Mb.uh},rka(){const a=this.g.Oe;return"html5"===a||"scirra-arcade"===a||"preview"===a||"instant-games"===a},Aja(){return this.g.wN()},Uja(){return"nwjs"===this.g.Oe},ska(){return"windows-uwp"===this.g.Oe},tka(){return"windows-webview2"===this.g.Oe},Qja(){return"macos-wkwebview"===
this.g.Oe},Q2(){return!0},n3(){return!0},o3(){return!0},p3(){return!0},pka(){return this.Sv},qka(){return this.xC}}}"use strict";self.B.C.Di.Cb={Jma(){this.xC&&this.fk("request-wake-lock")},xma(){this.xC&&(this.Sv=!1,this.vh("release-wake-lock"))}};"use strict";
self.B.C.Di.Db={Bma(){let d;d=this.g.tq()?"webgpu":"webgl"+this.g.cl().cd;this.g.fb().WA&&(d+="-software");return d},Cma(){return this.g.cl().zs},qY(){return self.devicePixelRatio},z4(){return this.ww},y4(){return this.vw},D6(){return this.g.M.qj},C6(){return this.g.M.pj},F6(){return this.Yp},E6(){return this.bx},yha(){return this.g.M.Hc},xha(){return this.g.M.yc},Aha(){return this.g.M.Ng},zha(){return this.g.M.Mg},tia(){return navigator.connection?navigator.connection.downlink||0:0},uia(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},aia(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},bia(){return navigator.connection?navigator.connection.rtt||0:0},aja(){return navigator.hardwareConcurrency||0},qia(){return navigator.deviceMemory||0},Kna(){return this.js[0]},Jna(){return this.js[1]},Hna(){return this.js[2]},Ina(){return this.js[3]}};
{"use strict";const d=self.B;d.og.jq=class extends d.s4{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.og.jq.ml=class extends d.u4{constructor(a){super(a)}j(){super.j()}rd(){}}}
{"use strict";const d=self.B,a=self.qg,b=self.pN;d.og.jq.Instance=class extends d.t4{constructor(c,g){super(c);this.Dw=this.Cw=this.Bw=this.Ew=this.$A=this.qw=this.Yv=this.qv=this.Vw=!1;this.Hb=this.Gb=0;this.hj=200;this.lf=600;this.Yf=500;this.Tm=this.$m=3;this.Ug=this.Cl=!0;g&&(this.hj=g[0],this.lf=g[1],this.Yf=g[2],this.$m=g[3],this.Tm=g[4],this.Cl=!!g[5],this.Ug=!!g[6]);this.Ug&&this.kk();this.Cl&&this.XF()}XF(){if(!this.td){var c=this.g.Lb();this.td=new d.Ws(d.Bc.yd(c,"keydown",g=>this.HG(g.data)),
d.Bc.yd(c,"keyup",g=>this.IG(g.data)),d.Bc.yd(c,"window-blur",()=>this.gr()),d.Bc.yd(c,"keyboard-blur",()=>this.gr()))}}rS(){this.td&&(this.td.j(),this.td=null)}j(){super.j()}Cd(){return{dx:this.Gb,dy:this.Hb,e:this.Ug,ms:this.hj,acc:this.lf,dec:this.Yf,d:this.$m,am:this.Tm,dc:this.Cl,ii:this.$A}}qd(c){this.Gb=c.dx;this.Hb=c.dy;this.Hu(c.e);this.hj=c.ms;this.lf=c.acc;this.Yf=c.dec;this.$m=c.d;this.Tm=c.am;this.Cl=c.dc;this.$A=c.ii;this.Dw=this.Cw=this.Bw=this.Ew=this.qw=this.Yv=this.qv=this.Vw=!1;
this.Cl?this.XF():this.rS()}HG(c){switch(c.key){case "ArrowLeft":this.Yv=!0;break;case "ArrowUp":this.Vw=!0;break;case "ArrowRight":this.qw=!0;break;case "ArrowDown":this.qv=!0}}IG(c){switch(c.key){case "ArrowLeft":this.Yv=!1;break;case "ArrowUp":this.Vw=!1;break;case "ArrowRight":this.qw=!1;break;case "ArrowDown":this.qv=!1}}gr(){this.qw=this.Yv=this.qv=this.Vw=!1}Ie(){var c=this.g.my(this.T);const g=this.g.Hh;var m=this.Yv||this.Cw,h=this.qw||this.Dw,l=this.Vw||this.Ew,n=this.qv||this.Bw;this.Bw=
this.Ew=this.Dw=this.Cw=!1;if(this.Ug){var p=g.Pm(this.T);if(p&&(g.fz(this.T,p),!g.K3(this.T)))return;this.$A&&(m=h=l=n=!1);0===this.$m?m=h=!1:1===this.$m&&(l=n=!1);2===this.$m&&(l||n)&&(m=h=!1);m===h&&(0>this.Gb?this.Gb=Math.min(this.Gb+this.Yf*c,0):0<this.Gb&&(this.Gb=Math.max(this.Gb-this.Yf*c,0)));l===n&&(0>this.Hb?this.Hb=Math.min(this.Hb+this.Yf*c,0):0<this.Hb&&(this.Hb=Math.max(this.Hb-this.Yf*c,0)));var q=p=0;m&&!h&&(p=0<this.Gb?-(this.lf+this.Yf):-this.lf);h&&!m&&(p=0>this.Gb?this.lf+this.Yf:
this.lf);l&&!n&&(q=0<this.Hb?-(this.lf+this.Yf):-this.lf);n&&!l&&(q=0>this.Hb?this.lf+this.Yf:this.lf);this.Gb+=p*c;this.Hb+=q*c;if(0!==this.Gb||0!==this.Hb){h=Math.atan2(this.Hb,this.Gb);m=this.hj*Math.cos(h);h=this.hj*Math.sin(h);Math.sqrt(this.Gb*this.Gb+this.Hb*this.Hb)>this.hj&&(this.Gb=m,this.Hb=h);var u=Math.abs(m)*c;n=Math.abs(h)*c;m=this.T.m();const w=m.fa();l=m.ga();h=m.Ia();u=d.da(this.Gb*c+.5*p*c*c,-u,u);m.ZN(u);m.Da();if(p=g.Pm(this.T))g.tO(this.T,0>this.Gb?1:-1,0,Math.max(Math.abs(Math.floor(u)),
1))||(m.Dg(w),m.Da()),this.Gb=0,g.fz(this.T,p);c=d.da(this.Hb*c+.5*q*c*c,-n,n);m.$N(c);m.Da();if(p=g.Pm(this.T))g.tO(this.T,0,0>this.Hb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(m.Bh(l),m.Da()),this.Hb=0,g.fz(this.T,p);c=d.gD(this.Gb);q=d.gD(this.Hb);0===c&&0===q||!this.T.sb().vo()||(1===this.Tm?m.Ec(d.ib(90*Math.round(d.Gf(Math.atan2(q,c))/90))):2===this.Tm?m.Ec(d.ib(45*Math.round(d.Gf(Math.atan2(q,c))/45))):3===this.Tm&&m.Ec(Math.atan2(q,c)));m.Da();m.Ia()!=h&&(p=g.Pm(this.T))&&(m.Ec(h),m.Da(),
g.fz(this.T,p))}}}Cc(c){switch(c){case 0:return this.hj;case 1:return this.lf;case 2:return this.Yf;case 3:return this.$m;case 4:return this.Tm;case 5:return this.Cl;case 6:return this.Ug}}yh(c,g){switch(c){case 0:this.eS(g);break;case 1:this.TG(g);break;case 2:this.YR(g);break;case 3:this.$m=g;break;case 4:this.Tm=g;break;case 5:this.ZR(!!g);break;case 6:this.Hu(!!g)}}oS(){this.Hb=this.Gb=0}MR(){this.Gb*=-1;this.Hb*=-1}jR(){const c=Math.hypot(this.Gb,this.Hb);c>this.hj&&this.$G(c)}$G(c){c=d.da(c,
0,this.hj);const g=Math.atan2(this.Hb,this.Gb);this.Gb=c*Math.cos(g);this.Hb=c*Math.sin(g)}Nz(){return Math.hypot(this.Gb,this.Hb)}eS(c){this.hj=Math.max(c,0)}TG(c){this.lf=Math.max(c,0)}YR(c){this.Yf=Math.max(c,0)}d9(){return Math.atan2(this.Hb,this.Gb)}fca(c){this.Gb=c;this.jR()}gca(c){this.Hb=c;this.jR()}oca(c){if(this.Ug)switch(c){case 0:this.Cw=!0;break;case 1:this.Dw=!0;break;case 2:this.Ew=!0;break;case 3:this.Bw=!0}}ZR(c){c=!!c;this.Cl!==c&&((this.Cl=c)?this.XF():(this.rS(),this.gr()))}Tba(c){this.$A=
!!c}Hu(c){(this.Ug=!!c)?this.kk():(this.Bw=this.Ew=this.Dw=this.Cw=!1,this.ir())}Mj(){return self.y0}};const e=new WeakMap;self.y0=class extends b{constructor(){super();e.set(this,b.$q().ma)}stop(){e.get(this).oS()}reverse(){e.get(this).MR()}get speed(){return e.get(this).Nz()}set speed(c){a.xh(c);e.get(this).$G(c)}get acceleration(){return e.get(this).lf}set acceleration(c){a.xh(c);e.get(this).TG(c)}get isEnabled(){return e.get(this).Ug}set isEnabled(c){e.get(this).Hu(!!c)}}}
{"use strict";const d=self.B;d.og.jq.G={Tja(){return 1E-10<this.Nz()},Qha(a,b){return d.compare(this.Nz(),a,b)},Bm(){return this.Ug}}}"use strict";self.B.og.jq.Cb={He(){this.oS()},xna(){this.MR()},loa(d){this.Tba(d)},Moa(d){this.$G(d)},Goa(d){this.eS(d)},Pna(d){this.TG(d)},Xna(d){this.YR(d)},Toa(d){this.oca(d)},V4(d){this.Hu(d)},Ooa(d){this.fca(d)},Poa(d){this.gca(d)},Zna(d){this.ZR(!!d)}};
{"use strict";const d=self.B;d.og.jq.Db={Yoa(){return this.Nz()},Rka(){return this.hj},Hga(){return this.lf},oia(){return this.Yf},ala(){return d.Gf(this.d9())},Opa(){return this.Gb},Ppa(){return this.Hb}}}
{const d=self.B;self.SL=function(){return[d.C.Touch,d.C.Pc,d.C.Text,d.C.yb,d.og.jq,d.C.Keyboard,d.C.Di,d.C.Qa.G.fO,d.C.Qa.G.NX,d.C.Qa.Db.find,d.C.Pc.Db.URL,d.C.Qa.Cb.L4,d.C.yb.Db.B6,d.C.yb.Db.x0,d.C.Qa.Cb.A4,d.C.yb.Db.Bz,d.C.yb.Db.VF,d.C.yb.Cb.Ah,d.C.Text.Cb.iu,d.C.Qa.Db.Nfa,d.C.Qa.Db.Ofa,d.C.Qa.Cb.TF,d.C.yb.Cb.Dg,d.C.Text.Db.Bz,d.C.Text.Db.Z5,d.C.Qa.G.xq,d.C.Keyboard.G.FN,d.C.Touch.G.B1,d.C.yb.Cb.p5,d.C.Touch.Db.Bz,d.C.Touch.Db.VF,d.C.Keyboard.G.dO,d.C.yb.Cb.o2,d.C.yb.G.tN,d.C.Qa.G.sM,d.C.Keyboard.G.bF,
d.C.yb.Cb.K4,d.C.yb.Cb.X5,d.C.Qa.G.zM,d.C.yb.G.u3,d.C.yb.Cb.bP,d.C.yb.Db.j6,d.C.Qa.G.DZ,d.C.Qa.Cb.I5,d.C.Qa.Db.time,d.C.yb.Cb.Ec,d.C.yb.Cb.w5,d.C.yb.Cb.F4,d.C.yb.Cb.Zj,d.C.yb.G.t3,d.C.Touch.G.jO,d.C.Touch.G.cO,d.C.Qa.Db.kga,d.C.Qa.Cb.v5,d.C.Qa.G.MZ,d.C.Qa.Db.oga,d.C.Qa.Db.nga,d.C.Qa.Db.Bfa,d.C.Text.Db.Text,d.C.Text.G.bO,d.C.Text.Cb.bP,d.C.Text.Db.EZ,d.C.Touch.G.M1,d.C.Text.G.OX,d.C.Text.G.tN,d.C.Qa.G.h6,d.C.Text.Cb.nz]};self.tX=[{Touch:0},{Pc:0},{tsa:0},{Oga:0},{Jla:0},{Cha:0},{ypa:0},{oma:0},{Mka:0},
{Ona:0},{"8Direction":0},{fma:0},{Keyboard:0},{Di:0},{rha:0},{rpa:0},{cma:0},{Uka:0},{Gla:0},{fla:0},{gla:0},{Ola:0},{Ela:0},{Uoa:0},{vka:0},{U1:0},{lia:0},{jia:0},{tha:0},{xpa:0},{kia:0},{Body:0},{Vka:0},{Nka:0},{mia:0},{tta:0},{uta:0}]}
{const d=self.B;self.sX=[a=>{const b=a.kb(0).ug(),e=a.kb(1).ug();return()=>b(e(),"view")},()=>-1,a=>{const b=a.kb(0);return()=>b.$s()},a=>{const b=a.kb(0).ug(),e=a.kb(1).ug();return()=>b()+" - "+e()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},()=>0,a=>{const b=a.kb(0),e=a.kb(1);return()=>b.$s()+e.$s()/2+2},()=>"Pointer",a=>{const b=a.kb(0).ug();return()=>b()},a=>{const b=a.kb(0).ug(),e=a.kb(1).Kd,c=a.kb(2).Kd;return()=>b()*(360/e.ub()/c.ub())},a=>{const b=a.kb(0).Kd,e=a.kb(1).Kd;
return()=>-1*b.ub()*e.ub()},a=>{const b=a.kb(0),e=a.kb(1).Kd,c=a.kb(2).Kd;return()=>b.$s()+e.ub()*Math.cos(d.ib(c.ub()))},a=>{const b=a.kb(0),e=a.kb(1).Kd,c=a.kb(2).Kd;return()=>b.$s()-e.ub()*Math.sin(d.ib(c.ub()))},a=>{const b=a.kb(0).Kd;return()=>(Math.floor(b.ub()/360*360)+270)%360},a=>{const b=a.kb(0).Kd;return()=>d.da(50-200*Math.cos(d.ib(b.ub())),0,100)},a=>{const b=a.kb(0).Kd,e=a.kb(1).Kd,c=a.kb(2).Kd;return()=>{var g=Math.ceil((b.ub()/360*e.ub()+14)%c.ub());return"Lunar Cycle Day: "+("number"===
typeof g?(Math.round(1E10*g)/1E10).toString():g)}},a=>{const b=a.kb(0).Kd;return()=>b.ub()%360},()=>80,()=>100,()=>"Moon up near dawn",()=>260,()=>"Moon up during day",()=>280,()=>"Moon up near dusk",()=>"Moon up at night",a=>{const b=a.kb(0);return()=>b.kq()},()=>"Pause",()=>1,()=>"Unpause",()=>"ToggleButton",()=>"",a=>{const b=a.kb(0).ug(),e=a.kb(1);return()=>b(e.kq(),";")-1},a=>{const b=a.kb(0).ug(),e=a.kb(1),c=a.kb(2).ug();return()=>b(e.kq(),c(),";")},a=>{const b=a.kb(0).ug(),e=a.kb(1),c=a.kb(2).Kd,
g=a.kb(3).ug(),m=a.kb(4);return()=>b(e.kq(),(c.ub()+1)%g(m.kq(),";"),";")},()=>"Button",a=>{const b=a.kb(0);return()=>Math.floor(.875*b.kq())}]};
